<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7593098101432729654</link>    <guid>https://juejin.cn/post/7593098101432729654</guid>    <pubDate>2026-01-09T13:23:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101432729654" data-draft-id="7593145583348088874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«"/> <meta itemprop="keywords" content="GIS"/> <meta itemprop="datePublished" content="2026-01-09T13:23:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GISä¸­çš„â€œé«˜åº¦â€åˆ°åº•æŒ‡ä»€ä¹ˆï¼Ÿä¸€æ–‡å˜æ¸…æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:23:01.000Z" title="Fri Jan 09 2026 13:23:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>èŠ‚é€‰è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fitem.jd.com%2F14603137.html" target="_blank" title="https://item.jd.com/14603137.html" ref="nofollow noopener noreferrer">ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹</a>ç¬¬2ç«  åœ°ç†ç©ºé—´å‚è€ƒç³»ç»Ÿ</strong>
ä½œè€…åŸåˆ›å†…å®¹ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f40e608f94c493889e21857893f4279~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=2RdCPNt9Q2tYu%2B%2F3LRnrwqZ0woU%3D" alt="GISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µ" loading="lazy"/></p>
<h2 data-id="heading-0">2.3 é«˜ç¨‹å‚è€ƒç³»ç»Ÿ</h2>
<p>ä½¿ç”¨ç»åº¦å’Œçº¬åº¦è¡¨ç¤ºçš„åœ°ç†åæ ‡ç³»æ˜¯ä¸€ç§æ°´å¹³åæ ‡ç³»ç»Ÿï¼ˆè¿™é‡Œçš„æ°´å¹³åæ ‡ç³»ç»Ÿå¹¶ä¸è¡¨ç¤ºå…¶å°±æ˜¯å¹³é¢åæ ‡ç³»çš„æ„æ€ï¼Œæ›´å‡†ç¡®çš„å«ä¹‰æ˜¯å…¶è¡¨è¾¾äº†ä¸‰ç»´ç©ºé—´åæ ‡ç³»çš„ä¸¤ä¸ªç»´åº¦ï¼‰ï¼Œç¼ºå°‘å¯¹äºç¬¬ä¸‰ç»´åº¦ä¹Ÿå°±æ˜¯é«˜ç¨‹çš„å‚è€ƒï¼Œä¹Ÿå°±æ˜¯æœ¬èŠ‚æˆ‘ä»¬è¦ä»‹ç»çš„ï¼šé«˜ç¨‹å‚è€ƒç³»ç»Ÿã€‚é«˜ç¨‹å‚è€ƒç³»ç»Ÿæ˜¯ä¸€ç§å‚ç›´åæ ‡ç³»ã€‚</p>
<h3 data-id="heading-1">2.3.1 å¤§åœ°æ°´å‡†é¢</h3>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå‚è€ƒæ¤­çƒä½“æ˜¯å¯¹åœ°çƒè¡¨é¢çš„ä¸€ç§é€¼è¿‘ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå‚è€ƒæ¤­çƒä½“æ˜¯ç”¨å–œé©¬æ‹‰é›…å±±æ‰€åœ¨çš„é«˜åº¦è¿›è¡Œé€¼è¿‘ï¼Œè¿˜æ˜¯ä»¥é©¬é‡Œäºšçº³æµ·æ²Ÿçš„é«˜åº¦è¿›è¡Œé€¼è¿‘ï¼Ÿç­”æ¡ˆè‚¯å®šéƒ½ä¸æ˜¯ã€‚å…¶å®ï¼Œè¿™å…¶ä¸­è¿˜éšè—äº†å¦ä¸€ä¸ªé€¼åœ°çƒè‡ªç„¶è¡¨é¢çš„å‚è€ƒé¢ï¼Œé‚£å°±æ˜¯æœ¬èŠ‚æˆ‘ä»¬è¦è®²çš„â€”â€”å¤§åœ°æ°´å‡†é¢ï¼ˆGeoidï¼‰ã€‚</p>
<p>åœ°ç†åæ ‡ç³»çš„ç¬¬ä¸‰ç»´åº¦é€šå¸¸ä½¿ç”¨æµ·æ‹”é«˜åº¦ï¼ˆElevationï¼‰ï¼Œè€Œä¸æ˜¯åˆ°çƒå¿ƒçš„è·ç¦»ã€‚ç„¶è€Œé—®é¢˜åœ¨äºï¼Œé«˜åº¦çš„å€¼æ˜¯ä¸€ä¸ªç›¸å¯¹é‡ï¼Œéœ€è¦ä¸€ä¸ªèµ·ç®—ç‚¹ã€‚å¹¶ä¸”ï¼Œè¿™ä¸ªé«˜åº¦å¿…é¡»æ²¿ç€é‡åŠ›æ–¹å‘ï¼ˆé“…é”¤æ–¹å‘ï¼‰æ‰æœ‰ç‰©ç†æ„ä¹‰ï¼ˆæƒ³ä¸€æƒ³ä¸ºä»€ä¹ˆå»ºç­‘ç‰©æ€»æ˜¯è¦ä¿®çš„ä¸åœ°é¢å‚ç›´ï¼‰ã€‚æˆ‘ä»¬è¯´åˆ°â€œæµ·æ‹”â€è¿™ä¸ªåè¯ï¼Œå°±ä¼šè”æƒ³åˆ°é«˜åº¦çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªç›®æ ‡åœ°ç‰©è·ç¦»æµ·å¹³é¢çš„é«˜å·®ã€‚äº‹å®ä¹Ÿç¡®å®å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¸€ä¸ªå¹³å‡æµ·å¹³é¢ä½œä¸ºé«˜ç¨‹çš„èµ·ç®—ç‚¹ï¼Œå¹¶ä¸”å‡è®¾è¿™ä¸ªæµ·å¹³é¢å®Œå…¨é™æ­¢ï¼Œå¹¶ä¸”å»¶ä¼¸åˆ°æ‰€æœ‰å¤§é™†ä¸‹éƒ¨ï¼Œç”Ÿæˆäº†ä¸€ä¸ªå¯†é—­çš„æ›²é¢â€”â€”è¿™ä¸ªæ›²é¢å°±æ˜¯å¤§åœ°æ°´å‡†é¢ã€‚</p>
<p>ä¸å‚è€ƒæ¤­çƒé¢ä¸åŒçš„æ˜¯ï¼Œå‚è€ƒæ¤­çƒé¢æ˜¯æ•°å­¦æ¨¡å‹å¾—åˆ°çš„ï¼Œå¤„å¤„å¹³æ»‘ä¸”å¹³æ•´ï¼›è€Œå¤§åœ°æ°´å‡†é¢è™½ç„¶å¹³æ»‘ä½†ä¸å¹³æ•´ï¼Œæ˜¯ä¸€ä¸ªä¸è§„åˆ™ä½†è¿ç»­çš„é—­åˆæ›²é¢ã€‚è¿™å…¶ä¸­çš„åŸå› åœ¨äºï¼Œåœ°çƒè´¨é‡åˆ†å¸ƒä¸å‡åŒ€ï¼Œé€ æˆåœ°çƒçš„å¼•åŠ›åœºä¹Ÿæ˜¯åˆ†å¸ƒä¸å‡çš„ã€‚å‡è®¾åœ°çƒçƒä½“å®Œå…¨è¢«æ°´è¦†ç›–ï¼Œæ°´çš„é«˜åº¦ä¹Ÿä¸ä¼šæ˜¯å®Œå…¨ä¸€æ ·ï¼šåœ¨åœ°çƒå±€éƒ¨å¯†åº¦æ›´å¤§çš„åœ°æ–¹ï¼Œåœ°çƒæ–½åŠ çš„å¼•åŠ›å°±ä¼šè¶Šå¤§ï¼Œé€ æˆæ°´ä½è¶Šé«˜ã€‚æ¢å¥è¯è¯´ï¼Œå¤§åœ°æ°´å‡†é¢æ˜¯ä¸€ä¸ªé‡åŠ›ç­‰åŠ¿é¢ï¼Œé‡åŠ›æ–¹å‘ï¼ˆé“…å‚æ–¹å‘ï¼‰åœ¨å…¶ä»»ä½•åœ°æ–¹éƒ½ä¸å…¶è¡¨é¢å‚ç›´ï¼›ç”±äºè´¨é‡ï¼ˆå¼•åŠ›ï¼‰ä¸å‡ï¼Œæ¯ä¸ªä½ç½®çš„é“…å‚æ–¹å‘ä¸ä¸€æ ·ï¼Œç»“æœå°±æ˜¯å¤§åœ°æ°´å‡†é¢å¹¶ä¸å¹³æ•´ã€‚å¦‚ä¸‹å›¾2.8æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d53017b72e44df6ad9ded58c1b883c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=PypzjF4eh0ArCPUww%2B2Blb2KwRI%3D" alt="å›¾2.8 å¤§åœ°æ°´å‡†é¢ä¸æ—‹è½¬æ¤­çƒä½“" loading="lazy"/></p>
<h3 data-id="heading-2">2.3.2 ä¸‰çº§é€¼è¿‘</h3>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†å¤§åœ°æ°´å‡†é¢ã€å‚è€ƒæ¤­çƒé¢å’Œå¤§åœ°åŸºå‡†é¢ã€‚é‚£ä¹ˆå®ƒä»¬çš„å…³ç³»æ˜¯å¦‚ä½•å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå®ƒä»¬å…±åŒç»„æˆäº†å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ä¸‰çº§é€¼è¿‘ã€‚</p>
<ul>
<li>å¤§åœ°æ°´å‡†é¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬ä¸€çº§é€¼è¿‘ã€‚å¤§åœ°æ°´å‡†é¢é€šè¿‡é‡åŠ›ç­‰åŠ¿ï¼Œç¡®å®šäº†ä¸€ä¸ªé«˜ç¨‹èµ·ç®—é¢ï¼Œå®ƒè¿œæ¯”åœ°çƒè‡ªç„¶è¡¨é¢å¹³æ•´å¾—å¤šï¼Œä½†æ˜¯ä¸æ˜¯å®Œå…¨å¹³æ•´ã€‚åœ°çƒè‡ªç„¶è¡¨é¢å…·æœ‰ä»ç ç©†æœ—ç›å³°ï¼ˆ+8800ç±³ï¼‰åˆ°é©¬é‡Œäºšçº³æµ·æ²Ÿï¼ˆ-11,000ç±³ï¼‰çš„é«˜å·®ï¼Œä½†å¤§åœ°æ°´å‡†é¢ä¸å‚è€ƒæ¤­çƒé¢çš„åå·®èŒƒå›´ä¸è¶…è¿‡200mï¼ˆä»+85ç±³çš„å†°å²›åˆ°-106ç±³çš„å°åº¦å—éƒ¨ï¼‰ã€‚</li>
<li>å‚è€ƒæ¤­çƒé¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬äºŒçº§é€¼è¿‘ã€‚åœ°çƒè‡ªç„¶è¡¨é¢å’Œå¤§åœ°æ°´å‡†é¢éƒ½æ˜¯ä¸è§„åˆ™çš„æ›²é¢ï¼Œæ— æ³•é€šè¿‡æ•°å­¦æ¨¡å‹å¯¹å…¶è¿›è¡Œè¡¨è¾¾ï¼Œè¿™ä¹Ÿæ„å‘³ç€éš¾ä»¥å¯¹å…¶è¿›è¡Œæµ‹ç®—å’Œåˆ†æã€‚é€šè¿‡å°†å¤§åœ°æ°´å‡†é¢æ‹Ÿåˆæˆä¸€ä¸ªæ—‹è½¬æ¤­çƒä½“ï¼Œä½¿æˆ‘ä»¬å¯ä»¥å¯¹åœ°çƒè‡ªç„¶è¡¨é¢è¿›è¡Œç©ºé—´å‡ ä½•è®¡ç®—ã€‚å‚è€ƒæ¤­çƒé¢æ˜¯æµ‹é‡è®¡ç®—çš„åŸºå‡†é¢ã€‚</li>
<li>å¤§åœ°åŸºå‡†é¢æ˜¯å¯¹åœ°çƒè‡ªç„¶è¡¨é¢çš„ç¬¬ä¸‰æé€¼è¿‘ã€‚å‚è€ƒæ¤­çƒä½“æ˜¯å¯¹åœ°çƒçƒä½“çš„æŠ½è±¡ï¼Œä½†å¤§åœ°åŸºå‡†é¢è§£å†³çš„æ˜¯è¿™ä¸ªå‚è€ƒæ¤­çƒä½“å¦‚ä½•æ‘†æ”¾çš„é—®é¢˜ï¼šå¤§åœ°åŸºå‡†é¢è¦ä¹ˆä¸åœ°çƒè‡ªç„¶è¡¨é¢çš„å±€éƒ¨åŒºåŸŸå…·æœ‰è¾ƒå¥½çš„é‡åˆåº¦ï¼Œä»¥ä¾¿è§£å†³å±€éƒ¨åŒºåŸŸç²¾åº¦çš„é—®é¢˜ï¼›è¦ä¹ˆè®©æ¤­çƒä½“ä¸­å¿ƒä½äºåœ°çƒè´¨å¿ƒï¼Œä»¥ä¾¿å…·æœ‰å…¨çƒèŒƒå›´å¯ä½¿ç”¨çš„ä¾¿æ·æ€§ã€‚</li>
</ul>
<h3 data-id="heading-3">2.3.3 é«˜ç¨‹ç³»ç»Ÿ</h3>
<h4 data-id="heading-4">1 ä¼¼å¤§åœ°æ°´å‡†é¢</h4>
<p>å¦‚å‰æ‰€è¿°ï¼Œå¤§åœ°æ°´å‡†é¢ç¡®å®šäº†é«˜ç¨‹çš„èµ·ç®—é¢ã€‚é‚£ä¹ˆï¼Œåœ°çƒè¡¨é¢ä¸Šä¸€ç‚¹åˆ°å¤§åœ°æ°´å‡†é¢å¿…ç„¶æœ‰ä¸€ä¸ªé«˜åº¦ï¼Œè¿™ä¸ªé«˜åº¦å°±æ˜¯æ­£é«˜ï¼ˆOrthometric Heightï¼‰ã€‚æ­£é«˜å°±æ˜¯æˆ‘ä»¬é€šå¸¸æ„ä¹‰ä¸Šæ‰€è¯´çš„æµ·æ‹”æˆ–è€…æµ·æ‹”é«˜åº¦ï¼Œä¹Ÿå«åšé«˜ç¨‹ï¼ˆElevationï¼‰ã€‚è¿™ä¸ªé«˜ç¨‹ç³»ç»Ÿå°±æ˜¯æ­£é«˜ç³»ç»Ÿã€‚</p>
<p>ç„¶è€Œï¼Œå¤§åœ°æ°´å‡†é¢çš„é—®é¢˜æ˜¯å…¶ä»…ä»…åªæ˜¯ä¸€ä¸ªç†æƒ³åŒ–çš„æ¨¡å‹ï¼Œæ˜¯ä¸èƒ½å‡†ç¡®æµ‹é‡çš„ã€‚å®¢è§‚åœ°è¯´ï¼Œå¤§åœ°æ°´å‡†é¢æ‰€å‡æƒ³çš„å¤§é™†ä¸‹éƒ¨çš„æµ·å¹³é¢æ— æ³•è¢«é‡æµ‹ï¼Œæ²¡æœ‰ç°å®æ„ä¹‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¼•å…¥äº†ä¸€ä¸ªæ•°å­¦è¾…åŠ©é¢ï¼šä¼¼å¤§åœ°æ°´å‡†é¢ï¼ˆQuasi-geoidï¼‰ã€‚ä¼¼å¤§åœ°æ°´å‡†é¢é‡‡ç”¨å¹³å‡æ­£å¸¸é‡åŠ›å€¼æ¥æ‹Ÿåˆæ°´å‡†é¢æ›²çº¿ï¼ˆå¤§åœ°æŸä¸€ç‚¹çš„é‡åŠ›å€¼æ— æ³•ç²¾ç¡®æ±‚å–ï¼‰ï¼Œå¯¼è‡´ä¸¤è€…åœ¨æµ·æ´‹ä¸Šå®Œå…¨é‡åˆï¼Œåœ¨å¤§é™†ä¸Šæœ‰2 ~ 4ç±³çš„å¾®å°å·®å¼‚ã€‚å¦‚æœä¸èƒ½ç†è§£ä¸è¦ç´§ï¼Œæˆ‘ä»¬å¯ä»¥å®šæ€§çš„ç†è§£ï¼šä¼¼å¤§åœ°æ°´å‡†é¢æ˜¯å¯¹å¤§åœ°æ°´å‡†é¢çš„æ•°å­¦è¿‘ä¼¼ï¼Œä¼¼å¤§åœ°æ°´å‡†é¢å¯ä»¥ç²¾ç¡®æ±‚å¾—ï¼Œå¤§åœ°æ°´å‡†é¢ä¸å¯ä»¥ç²¾ç¡®æ±‚å¾—ã€‚</p>
<p>åŒæ ·çš„ï¼Œåœ°çƒè¡¨é¢ä¸Šä¸€ç‚¹åˆ°ä¼¼å¤§åœ°æ°´å‡†é¢ä¹Ÿæœ‰ä¸€ä¸ªé«˜åº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªé«˜åº¦å«åšæ­£å¸¸é«˜ï¼ˆNormal heightï¼‰ï¼Œå…¶é«˜ç¨‹å°±æ˜¯æ­£å¸¸é«˜ç³»ç»Ÿã€‚æ­£å› ä¸ºä¼¼å¤§åœ°æ°´å‡†é¢æ˜¯å¤§åœ°æ°´å‡†é¢å¾—è¿‘ä¼¼ä¸”å¯æ±‚å–ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨æ­£å¸¸é«˜æ¥æ›¿ä»£æ­£é«˜ï¼Œæ­£å¸¸é«˜ç³»ç»Ÿç»“æœä¹Ÿå¯ä»¥ç§°ä¸ºæµ·æ‹”é«˜åº¦ã€‚æˆ‘å›½ç›®å‰é‡‡ç”¨çš„æ³•å®šé«˜ç¨‹ç³»ç»Ÿå°±æ˜¯æ­£å¸¸é«˜ç³»ç»Ÿã€‚</p>
<p>æ­£é«˜å’Œæ­£å¸¸é«˜ï¼Œå¤§åœ°æ°´å‡†é¢å’Œä¼¼å¤§åœ°æ°´å‡†é¢çš„ç¤ºæ„å›¾å¦‚ä¸‹å›¾2.9æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0724c4f0f8084ebab6f8e5d74660fb1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=WFVH8luc5ce1hikIEldLD4ErKDI%3D" alt="å›¾2.9 æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜" loading="lazy"/></p>
<h4 data-id="heading-5">2 é«˜ç¨‹ç³»ç»Ÿ</h4>
<p>å¦‚å›¾2.9ä¸­æ‰€ç¤ºï¼Œé™¤äº†æ­£é«˜ç³»ç»Ÿå’Œæ­£å¸¸é«˜ç³»ç»Ÿï¼Œè¿˜æœ‰ä¸€ç±»å¸¸ç”¨çš„é«˜ç¨‹ç³»ç»Ÿå°±æ˜¯å¤§åœ°é«˜ç³»ç»Ÿã€‚æ‰€è°“å¤§åœ°é«˜ï¼ŒæŒ‡çš„æ˜¯ä»¥å‚è€ƒæ¤­çƒé¢ä¸ºåŸºå‡†é¢çš„é«˜ç¨‹ç³»ç»Ÿï¼Œå…¶å€¼æ˜¯åœ°é¢ä¸Šä¸€ç‚¹æ²¿è¯¥ç‚¹çš„æ¤­çƒé¢æ³•çº¿åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»ã€‚å¤§åœ°é«˜ä¹Ÿç§°ä¸ºæ¤­çƒé«˜ã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨çš„é«˜ç¨‹ç³»ç»Ÿæ˜¯æ­£å¸¸é«˜ç³»ç»Ÿï¼Œä½†åœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæœ‰çš„æ—¶å€™çŸ¥é“æ­£å¸¸é«˜éœ€è¦è®¡ç®—å¤§åœ°é«˜ï¼Œæœ‰çš„æ—¶å€™åˆéœ€è¦é€šè¿‡å¤§åœ°é«˜æ¥è®¡ç®—æ­£å¸¸é«˜ã€‚ä¸€ä¸ªå¾ˆå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼ŒGPSï¼ˆGlobal Positioning Systemï¼Œå…¨çƒå®šä½ç³»ç»Ÿï¼‰è·å–çš„é«˜ç¨‹ä¸€èˆ¬æ˜¯å¤§åœ°é«˜ï¼Œé‚£ä¹ˆå¦‚ä½•å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ­£å¸¸é«˜å‘¢ï¼Ÿ</p>
<p>å¦‚ä¸‹è¡¨2.4æ‰€è¿°ï¼Œå¯¹äºé«˜ç¨‹ç³»ç»Ÿä¸­å˜é‡ï¼Œæˆ‘ä»¬æœ‰å¦‚ä¸‹å®šä¹‰ï¼š</p>




































<table><thead><tr><th align="center">ç¬¦å·</th><th align="center">åç§°</th><th align="center">å«ä¹‰</th></tr></thead><tbody><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">H_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></td><td align="center">æ­£å¸¸é«˜ï¼ˆNormal Heightï¼‰</td><td align="center">åœ°é¢ä¸Šä¸€ç‚¹æ²¿é‡åŠ›æ–¹å‘åˆ°ä¼¼å¤§åœ°æ°´å‡†é¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">H_o</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></td><td align="center">æ­£é«˜ ï¼ˆOrthometric Heightï¼‰</td><td align="center">åœ°é¢ä¸Šä¸€ç‚¹æ²¿é‡åŠ›æ–¹å‘åˆ°å¤§åœ°æ°´å‡†é¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">H_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span></td><td align="center">å¤§åœ°é«˜ï¼ˆGeodetic Heightï¼‰</td><td align="center">åœ°é¢ä¸Šä¸€ç‚¹æ²¿æ¤­çƒé¢æ³•çº¿æ–¹å‘åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¶</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07378em;">Î¶</span></span></span></span></span></td><td align="center">é«˜ç¨‹å¼‚å¸¸ï¼ˆHeight Anomalyï¼‰</td><td align="center">ä¼¼å¤§åœ°æ°´å‡†é¢åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td></tr><tr><td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span></td><td align="center">å¤§åœ°æ°´å‡†é¢å·®è·ï¼ˆGeoid Undulationï¼‰</td><td align="center">å¤§åœ°æ°´å‡†é¢åˆ°å‚è€ƒæ¤­çƒé¢çš„è·ç¦»</td></tr></tbody></table>
<p>å°†å®ƒä»¬åœ¨ç¤ºæ„å›¾ä¸­æ ‡è¯†ï¼Œå¦‚ä¸‹å›¾2.10æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86f67969c61e4eafaf010751f95ea2d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768569781&amp;x-signature=3J2R4NYxMc2jIP%2F%2FX4u8oDPWyOA%3D" alt="å›¾2.10 æ­£é«˜ã€æ­£å¸¸é«˜ä¸å¤§åœ°é«˜" loading="lazy"/></p>
<p>æ ¹æ®å›¾ç¤ºå¾ˆæ˜¾ç„¶å¯ä»¥å¾—åˆ°å¦‚ä¸‹å…¬å¼ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"/><mtd><mrow><msub><mi>H</mi><mi>g</mi></msub><mo>=</mo><msub><mi>H</mi><mi>n</mi></msub><mo>+</mo><mi>Î¶</mi></mrow></mtd><mtd width="50%"/><mtd><mtext>(2.6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">H_g = H_n + \zeta \tag{2.6}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07378em;">Î¶</span></span><span class="tag"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2.6</span></span><span class="mord">)</span></span></span></span></span></span></div>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"/><mtd><mrow><msub><mi>H</mi><mi>g</mi></msub><mo>=</mo><msub><mi>H</mi><mi>o</mi></msub><mo>+</mo><mi>N</mi></mrow></mtd><mtd width="50%"/><mtd><mtext>(2.7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">H_g = H_o + N \tag{2.7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">o</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span><span class="tag"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"/><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2.7</span></span><span class="mord">)</span></span></span></span></span></span></div>
<p>å›åˆ°ä¹‹å‰æåˆ°çš„é—®é¢˜ï¼ŒGPSè·å–çš„é«˜ç¨‹ä¸ºå¤§åœ°é«˜<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>g</mi></msub></mrow><annotation encoding="application/x-tex">H_g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œé‚£ä¹ˆå†é€šè¿‡å¤§åœ°æµ‹é‡çš„æ–¹æ³•ï¼Œå¯ä»¥ç²¾ç¡®ç¡®å®šé«˜ç¨‹å¼‚å¸¸<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¶</mi></mrow><annotation encoding="application/x-tex">\zeta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07378em;">Î¶</span></span></span></span></span>ï¼Œæ ¹æ®å…¬å¼2.6ï¼Œå¤§åœ°é«˜å‡å»é«˜ç¨‹å¼‚å¸¸å°±å¯ä»¥å¾—åˆ°æ­£å¸¸é«˜<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">H_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œæ­£å¸¸é«˜å¯ä»¥ç”¨æ¥ä»£æ›¿æ­£é«˜ï¼Œæ­£é«˜å³æœ€å¸¸ç”¨çš„æµ·æ‹”é«˜åº¦ã€‚åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œæœ‰æ—¶éœ€è¦å¤§åœ°é«˜ï¼Œæœ‰æ—¶éœ€è¦æ­£å¸¸é«˜ï¼Œå¯æ ¹æ®ä¸Šè¿°å…¬å¼çµæ´»è½¬æ¢ã€‚</p>
<h4 data-id="heading-6">3 é«˜ç¨‹åŸºå‡†</h4>
<p>å¦‚2.3.1èŠ‚æ‰€è¿°ï¼Œå¤§åœ°æ°´å‡†é¢ä½¿ç”¨ä¸€ä¸ªå‡æƒ³çš„å¹³å‡æµ·å¹³é¢ä½œä¸ºé«˜ç¨‹èµ·ç‚¹ï¼ˆåŸºå‡†ï¼‰ï¼Œè¿™ä¸ªå¹³å‡æµ·é¢å¯ä»¥é€šè¿‡åœ¨å„åœ°çš„éªŒæ½®ç«™è§‚æµ‹ã€è®¡ç®—ã€ç»¼åˆå¾—åˆ°ã€‚æˆ‘å›½æ ¹æ®å®é™…çš„è§‚æµ‹ç»“æœä¹‹ä¸Šï¼Œå»ºç«‹å¤šä¸ªé«˜ç¨‹åŸºå‡†é¢ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå›½å®¶é«˜ç¨‹åŸºå‡†æ˜¯ï¼š</p>
<ul>
<li>1956é»„æµ·é«˜ç¨‹åŸºå‡†ï¼Œæ°´å‡†åŸç‚¹é«˜ç¨‹72.289ç±³ã€‚</li>
<li>1985å›½å®¶é«˜ç¨‹åŸºå‡†ï¼Œæ°´å‡†åŸç‚¹é«˜ç¨‹72.260ç±³ã€‚</li>
</ul>
<p>ç›®å‰ï¼Œ1985å›½å®¶é«˜ç¨‹åŸºå‡†å·²ç»å…¨éƒ¨æ›¿ä»£1956é»„æµ·é«˜ç¨‹åŸºå‡†ï¼Œä¹‹å‰æ‰€æœ‰ä½¿ç”¨1956é»„æµ·é«˜ç¨‹åŸºå‡†çš„é«˜ç¨‹ç»“æœéƒ½éœ€è¦é€šè¿‡ä¸‹å¼2.8è¿›è¡Œè½¬æ¢ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>H</mi><mn>85</mn></msub><mo>=</mo><msub><mi>H</mi><mn>56</mn></msub><mo>âˆ’</mo><mn>0.029</mn></mrow><annotation encoding="application/x-tex">H_{85} = H_{56} - 0.029</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">85</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0813em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">56</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.029</span></span></span></span></span></div>
<p>æ­¤å¤–ï¼Œå›½é™…ä¸Šé€šç”¨çš„è¿˜æœ‰ç¾å›½å›½å®¶åœ°ç†ç©ºé—´æƒ…æŠ¥å±€ï¼ˆNational Geospatial-Intelligence Agencyï¼ŒNGAï¼‰å‘å¸ƒçš„EGMï¼ˆEarth Gravitational Modelsï¼Œåœ°çƒé‡åŠ›æ¨¡å‹ï¼‰å¤§åœ°æ°´å‡†é¢ã€‚è¿™ä¸ªå¤§åœ°æ°´å‡†é¢æ¨¡å‹æ˜¯ç»¼åˆåˆ©ç”¨ç°æœ‰å…¨çƒå¤§é‡é‡åŠ›æ•°æ®è®¡ç®—å‡ºæ¥çš„ï¼Œé€‚ç”¨äºå…¨çƒèŒƒå›´ã€‚ç›®å‰å·²ç»å‘å¸ƒäº†EGM84ã€EGM96ã€EGM2008å’ŒEGM2020å››ä¸ªç‰ˆæœ¬ã€‚</p>
<hr/>
<p>æœ¬æ–‡èŠ‚é€‰è‡ªä½œè€…æ–°ä¹¦ã€ŠGISåŸºç¡€åŸç†ä¸æŠ€æœ¯å®è·µã€‹ç¬¬2ç« ã€‚ä¹¦ä¸­ç³»ç»Ÿè®²è§£ GIS æ ¸å¿ƒç†è®ºä¸å¤šè¯­è¨€å®æˆ˜ï¼Œé€‚åˆå¼€å‘è€…ä¸é«˜æ ¡å¸ˆç”Ÿã€‚</p>
<p>ğŸ“š <strong>é…å¥—èµ„æºå¼€æº</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffafa1899%2FGISBasic" target="_blank" title="https://github.com/fafa1899/GISBasic" ref="nofollow noopener noreferrer">GitHub</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2Fcharlee44%2FGISBasic" target="_blank" title="https://gitcode.com/charlee44/GISBasic" ref="nofollow noopener noreferrer">GitCode</a></p>
<p>ğŸ›’ <strong>æ”¯æŒæ­£ç‰ˆ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fitem.jd.com%2F14603137.html" target="_blank" title="https://item.jd.com/14603137.html" ref="nofollow noopener noreferrer">äº¬ä¸œ</a>ï½œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fproduct.dangdang.com%2F29988568.html" target="_blank" title="https://product.dangdang.com/29988568.html" ref="nofollow noopener noreferrer">å½“å½“</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593145583348105258</link>    <guid>https://juejin.cn/post/7593145583348105258</guid>    <pubDate>2026-01-09T13:47:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583348105258" data-draft-id="7593098101432778806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T13:47:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:47:01.000Z" title="Fri Jan 09 2026 13:47:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒHQLï¼ˆHibernate Query Languageï¼‰æˆ–Criteria APIå¯èƒ½æ— æ³•æ»¡è¶³å¤æ‚æŸ¥è¯¢çš„éœ€è¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ï¼ˆNative SQL Queryï¼‰ã€‚åŸç”ŸSQLæŸ¥è¯¢å…è®¸å¼€å‘è€…ç›´æ¥ç¼–å†™SQLè¯­å¥ï¼Œå¹¶é€šè¿‡Hibernateæ‰§è¡Œè¿™äº›è¯­å¥ï¼Œå°†ç»“æœæ˜ å°„ä¸ºå®ä½“ç±»æˆ–è‡ªå®šä¹‰ç»“æœé›†ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åŸç”ŸSQLæŸ¥è¯¢ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li><strong>å®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›å®ä½“å¯¹è±¡ã€‚</li>
<li><strong>éå®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›è‡ªå®šä¹‰å¯¹è±¡æˆ–æŠ•å½±ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-3">å®ä½“ç±»å®šä¹‰</h4>
<p>æˆ‘ä»¬å°†å®šä¹‰ä¸¤ä¸ªå®ä½“ç±»ï¼š<code>Person</code> å’Œ <code>Address</code>ã€‚</p>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-5">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h4 data-id="heading-6">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-9">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-10">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h4>
<h5 data-id="heading-11">æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM person"</span>;
            NativeQuery&lt;Person&gt; query = session.createNativeQuery(sql, Person.class);
            List&lt;Person&gt; persons = query.getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-12">ä½¿ç”¨æŠ•å½±æŸ¥è¯¢è¿”å›è‡ªå®šä¹‰ç»“æœ</h5>
<p>å‡è®¾æˆ‘ä»¬åªæƒ³æŸ¥è¯¢Personçš„å§“åå’Œå¹´é¾„ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå®ä½“ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æŠ•å½±æŸ¥è¯¢ï¼ˆProjection Queryï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateProjectionQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŠ•å½±æŸ¥è¯¢</span>
        queryPersonNameAndAge(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonNameAndAge</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT name, age FROM person"</span>;
            NativeQuery&lt;Object[]&gt; query = session.createNativeQuery(sql);
            List&lt;Object[]&gt; results = query.getResultList();
            System.out.println(<span class="hljs-string">"Query person name and age:"</span>);
            <span class="hljs-keyword">for</span> (Object[] row : results) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">0</span>];
                <span class="hljs-type">Integer</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> (Integer) row[<span class="hljs-number">1</span>];
                System.out.println(name + <span class="hljs-string">" - "</span> + age);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-13">åŸç”ŸSQLæŸ¥è¯¢è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</strong>ï¼šä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•å¹¶æ˜ å°„ä¸º<code>Person</code>å®ä½“ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7593165280488833065</link>    <guid>https://juejin.cn/post/7593165280488833065</guid>    <pubDate>2026-01-09T13:47:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488833065" data-draft-id="7593098101432795190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T13:47:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ31ï¼‰Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:47:44.000Z" title="Fri Jan 09 2026 13:47:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒHQLï¼ˆHibernate Query Languageï¼‰æˆ–Criteria APIå¯èƒ½æ— æ³•æ»¡è¶³å¤æ‚æŸ¥è¯¢çš„éœ€è¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ï¼ˆNative SQL Queryï¼‰ã€‚åŸç”ŸSQLæŸ¥è¯¢å…è®¸å¼€å‘è€…ç›´æ¥ç¼–å†™SQLè¯­å¥ï¼Œå¹¶é€šè¿‡Hibernateæ‰§è¡Œè¿™äº›è¯­å¥ï¼Œå°†ç»“æœæ˜ å°„ä¸ºå®ä½“ç±»æˆ–è‡ªå®šä¹‰ç»“æœé›†ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h3>
<p>åŸç”ŸSQLæŸ¥è¯¢ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li><strong>å®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›å®ä½“å¯¹è±¡ã€‚</li>
<li><strong>éå®ä½“æŸ¥è¯¢</strong>ï¼šè¿”å›è‡ªå®šä¹‰å¯¹è±¡æˆ–æŠ•å½±ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-3">å®ä½“ç±»å®šä¹‰</h4>
<p>æˆ‘ä»¬å°†å®šä¹‰ä¸¤ä¸ªå®ä½“ç±»ï¼š<code>Person</code> å’Œ <code>Address</code>ã€‚</p>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h5 data-id="heading-5">Addressç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "address")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Address</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "street")</span>
    <span class="hljs-keyword">private</span> String street;

    <span class="hljs-meta">@ManyToOne</span>
    <span class="hljs-meta">@JoinColumn(name = "person_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> Person person;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Address</span><span class="hljs-params">(String street, Person person)</span> {
        <span class="hljs-built_in">this</span>.street = street;
        <span class="hljs-built_in">this</span>.person = person;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getStreet</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> street;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setStreet</span><span class="hljs-params">(String street)</span> {
        <span class="hljs-built_in">this</span>.street = street;
    }

    <span class="hljs-keyword">public</span> Person <span class="hljs-title function_">getPerson</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> person;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPerson</span><span class="hljs-params">(Person person)</span> {
        <span class="hljs-built_in">this</span>.person = person;
    }
}
</code></pre>
<h4 data-id="heading-6">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-7">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-8">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-9">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-10">ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢</h4>
<h5 data-id="heading-11">æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM person"</span>;
            NativeQuery&lt;Person&gt; query = session.createNativeQuery(sql, Person.class);
            List&lt;Person&gt; persons = query.getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-12">ä½¿ç”¨æŠ•å½±æŸ¥è¯¢è¿”å›è‡ªå®šä¹‰ç»“æœ</h5>
<p>å‡è®¾æˆ‘ä»¬åªæƒ³æŸ¥è¯¢Personçš„å§“åå’Œå¹´é¾„ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå®ä½“ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨æŠ•å½±æŸ¥è¯¢ï¼ˆProjection Queryï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.NativeQuery;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateProjectionQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŠ•å½±æŸ¥è¯¢</span>
        queryPersonNameAndAge(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonNameAndAge</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT name, age FROM person"</span>;
            NativeQuery&lt;Object[]&gt; query = session.createNativeQuery(sql);
            List&lt;Object[]&gt; results = query.getResultList();
            System.out.println(<span class="hljs-string">"Query person name and age:"</span>);
            <span class="hljs-keyword">for</span> (Object[] row : results) {
                <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> (String) row[<span class="hljs-number">0</span>];
                <span class="hljs-type">Integer</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> (Integer) row[<span class="hljs-number">1</span>];
                System.out.println(name + <span class="hljs-string">" - "</span> + age);
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-13">åŸç”ŸSQLæŸ¥è¯¢è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</strong>ï¼šä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•å¹¶æ˜ å°„ä¸º<code>Person</code>å®ä½“ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateNativeQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨åŸç”ŸSQLæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥]]></title>    <link>https://juejin.cn/post/7593338828195233832</link>    <guid>https://juejin.cn/post/7593338828195233832</guid>    <pubDate>2026-01-09T13:43:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593338828195233832" data-draft-id="7593193235251216436" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥"/> <meta itemprop="keywords" content="æœåŠ¡å™¨"/> <meta itemprop="datePublished" content="2026-01-09T13:43:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:43:03.000Z" title="Fri Jan 09 2026 13:43:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‹’ç»è¢«æ‰¾å›ï¼MJJå¿…ä¿®è¯¾ï¼šOutlooké‚®ç®±äº¤æ˜“åçš„â€œé˜²å›æ‰‹â€å®‰å…¨è®¾ç½®å…¨æ”»ç•¥</h2>
<p>åœ¨MJJçš„æ—¥å¸¸äº¤æ˜“ä¸­ï¼Œéµå¾ªâ€œä¸€æœºä¸€å·â€çš„ç¥–è®­ï¼ŒOutlookå‡­å€Ÿå…¶é«˜é£æ§é˜ˆå€¼å’Œå¹¿æ³›çš„æ¥å—åº¦ï¼Œå§‹ç»ˆç¨³åäº¤æ˜“å¸‚åœºçš„å¤´æŠŠäº¤æ¤…ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¹°æ¥çš„å·æ€»æ˜¯å¿ƒæƒŠèƒ†æˆ˜ï¼Ÿæ‹…å¿ƒå–å®¶ç•™äº†åé—¨éšæ—¶â€œå›æ‰‹æâ€ï¼Ÿ</p>
<p>åˆ«æ…Œï¼Œåªè¦æŒ‰ç…§è¿™ç¯‡æ•™ç¨‹çš„<strong>ä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤</strong>æ“ä½œï¼Œå°±èƒ½æŠŠè´¦å·å½»åº•æ¸…æ´—å¹²å‡€ï¼Œå˜æˆä½ è‡ªå·±çš„ç§æœ‰è´¢äº§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/351c3ffc076f47719b46f4c491fe67e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=XdkTbu9V3mIQCcYNuSrapYxzqg0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h2>
<p>ç™»å½•ä½ çš„Outlookè´¦å·ï¼Œè¿›å…¥ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Faccount.microsoft.com%2Fsecurity" target="_blank" title="https://account.microsoft.com/security" ref="nofollow noopener noreferrer">Microsoft è´¦æˆ·å®‰å…¨é¡µé¢</a></strong>ã€‚</p>
<blockquote>
<p><strong>é«˜å±é¢„è­¦</strong>ï¼šåœ¨è¿›è¡Œä»¥ä¸‹æ“ä½œå‰ï¼Œè¯·ç¡®ä¿ä½ å½“å‰çš„ç½‘ç»œç¯å¢ƒç›¸å¯¹ç¨³å®šï¼Œæœ€å¥½ä½¿ç”¨æµè§ˆå™¨çš„éšç§æ¨¡å¼ç™»å½•ï¼Œé¿å…ç¼“å­˜å†²çªã€‚</p>
</blockquote>
<h2 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šæ¸…æ´—è¾…åŠ©éªŒè¯æ–¹å¼</h2>
<p>è¿™æ˜¯æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€å®¹æ˜“è¢«å¿½è§†çš„ä¸€æ­¥ã€‚å¾ˆå¤šæ—¶å€™ä½ æ”¹äº†å¯†ç ï¼Œå–å®¶å´èƒ½é€šè¿‡é¢„ç•™çš„è¾…åŠ©é‚®ç®±è½»æ¾é‡ç½®ã€‚</p>
<p><strong>æ“ä½œé€»è¾‘ï¼š</strong> å…ˆåŠ ååˆ ã€‚ç¡®ä¿æ‰‹é‡Œæœ‰ç²®ï¼Œå¿ƒä¸­ä¸æ…Œã€‚</p>
<ul>
<li>ç‚¹å‡» <strong>â€œé«˜çº§å®‰å…¨é€‰é¡¹â€ (Advanced security options)</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72a1c40439954dbda99f400f498be873~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=H4xgaheWMWWQkdVRHwL1KdWH82w%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä»”ç»†æ£€æŸ¥</strong>å½“å‰çš„è¾…åŠ©éªŒè¯æ–¹å¼ï¼ˆæ‰‹æœºå·ã€å¤‡ç”¨é‚®ç®±ï¼‰ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/767aef44bb984a778d680e710218c54d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=jYKGKYGTVmoZkSxpFHaliAn%2FIcA%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>æ·»åŠ è‡ªå·±çš„éªŒè¯æ–¹å¼</strong>ï¼š</p>
</li>
<li>
<p>å¼ºçƒˆå»ºè®®æ·»åŠ <strong>é‚®ç®±</strong>ä½œä¸ºè¾…åŠ©éªŒè¯ï¼Œæ“ä½œæ–¹ä¾¿ä¸”æ¥æ”¶éªŒè¯ç ç¨³å®šã€‚</p>
</li>
<li>
<p><em>æ³¨æ„ï¼šå¦‚æœè´¦å·å½“å‰åªæœ‰ä¸€ä¸ªè¾…åŠ©é‚®ç®±ï¼ˆå–å®¶çš„ï¼‰ï¼Œåƒä¸‡åˆ«æ€¥ç€åˆ ï¼ä¸€å®šè¦å…ˆæ·»åŠ å¹¶éªŒè¯ä½ è‡ªå·±çš„é‚®ç®±ï¼ŒæˆåŠŸä¸Šä½åï¼Œå†æŠŠå–å®¶çš„è¸¢æ‰ã€‚</em></p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5ec71484b9e45f3a587a5900c7b6dca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=Gc6g9Dy7MfwqXsBrWQ4XL2E8bCU%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æ·»åŠ å®Œæˆå</strong>ï¼Œæœæ–­åˆ é™¤æ‰€æœ‰ä¸å±äºä½ çš„é‚®ç®±å’Œæ‰‹æœºå·ã€‚</li>
</ul>
<h2 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé‡ç½®å®‰å…¨æ¢å¤ç </h2>
<p>å¾ˆå¤šäººæ”¹äº†å¯†ç ã€æ¢äº†æ‰‹æœºå·ï¼Œæœ€åè¿˜æ˜¯è¢«æ‰¾å›äº†ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä½ æ¼æ‰äº†Outlookçš„â€œå°šæ–¹å®å‰‘â€â€”â€”<strong>æ¢å¤ä»£ç ï¼ˆRecovery Codeï¼‰</strong>ã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆå¿…é¡»é‡ç½®å®ƒï¼Ÿ</h3>
<p>Outlookçš„æ¢å¤ä»£ç æ˜¯ä¸€ä¸²25ä½çš„éšæœºå­—ç¬¦ã€‚å®ƒæ˜¯è´¦æˆ·çš„<strong>æœ€åä¸€é“é˜²çº¿</strong>ã€‚å“ªæ€•æ²¡æœ‰å¯†ç ã€æ²¡æœ‰æ‰‹æœºéªŒè¯ç ï¼Œæ‹¥æœ‰è¿™ä¸²ä»£ç çš„äººå¯ä»¥ç›´æ¥ç»•è¿‡æ‰€æœ‰éªŒè¯ï¼Œå¼ºè¡Œé‡ç½®è´¦æˆ·ã€‚</p>
<p><strong>é£é™©ç‚¹</strong>ï¼šå¦‚æœå‰å·ä¸»ä¿ç•™äº†ä¹‹å‰çš„æ¢å¤ä»£ç ï¼Œä»–éšæ—¶å¯ä»¥â€œå¤æ´»â€å¹¶æ¥ç®¡è´¦å·ã€‚</p>
<h3 data-id="heading-5">å¦‚ä½•æ“ä½œï¼Ÿ</h3>
<ul>
<li>åœ¨â€œé«˜çº§å®‰å…¨é€‰é¡¹â€é¡µé¢ï¼Œå‘ä¸‹æ‹‰ï¼Œæ‰¾åˆ° <strong>â€œæ¢å¤ä»£ç â€ (Recovery code)</strong> åŒºåŸŸã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/058cea4ff65a478aa46a329e261f45cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=VS5Rws8Sc3d7uiOzrc%2BGkFcS0fc%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>ç‚¹å‡» <strong>â€œç”Ÿæˆæ–°ä»£ç â€ (Generate new code)</strong> æˆ– <strong>â€œæ›¿æ¢â€</strong>ã€‚</p>
</li>
<li>
<p><strong>ç³»ç»Ÿé€»è¾‘</strong>ï¼šå½“ä½ ç”Ÿæˆæ–°ä»£ç çš„ç¬é—´ï¼Œ<strong>æ—§çš„ä»£ç ä¼šç«‹å³å¤±æ•ˆ</strong>ã€‚è¿™æ„å‘³ç€å‰å·ä¸»æ‰‹é‡Œçš„é‚£ä¸ªå¤‡ä»½å½»åº•å˜æˆäº†åºŸçº¸ã€‚</p>
</li>
<li>
<p><strong>ä¿å­˜æ–°ä»£ç </strong>ï¼šç³»ç»Ÿä¼šæ˜¾ç¤ºä¸€ä¸ªæ–°çš„25ä½ä»£ç ï¼ˆå¦‚ <code>XXXXX-XXXXX-...</code>ï¼‰ã€‚</p>
</li>
<li>
<p><em>å»ºè®®ï¼šæˆªå›¾ä¿å­˜æˆ–æŠ„å†™ä¸‹æ¥ï¼Œå­˜æ”¾åœ¨æœ¬åœ°å®‰å…¨çš„åœ°æ–¹ï¼Œä¸è¦åªä¿å­˜åœ¨ç½‘ç›˜æˆ–é‚®ç®±é‡Œã€‚</em></p>
</li>
</ul>
<h2 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šè¸¢æ‰æ‰€æœ‰ç™»å…¥è®¾å¤‡</h2>
<p>æ”¹å®Œæ‰€æœ‰è®¾ç½®åï¼Œå¦‚æœå–å®¶çš„ç”µè„‘æˆ–æ‰‹æœºè¿˜ä¿æŒç€ç™»å½•çŠ¶æ€ï¼ˆCookie/Sessionæœªå¤±æ•ˆï¼‰ï¼Œä»–ä¾ç„¶æœ‰æœºä¼šåœ¨ä½ çœ¼çš®åº•ä¸‹æŸ¥çœ‹éªŒè¯ç æˆ–è¿›è¡Œç ´åã€‚</p>
<ul>
<li>åœ¨â€œé«˜çº§å®‰å…¨é€‰é¡¹â€é¡µé¢ä¸‹æ–¹ï¼Œæ‰¾åˆ° <strong>â€œæ³¨é”€æˆ‘â€ (Sign me out)</strong> æˆ– <strong>â€œæ³¨é”€æ‰€æœ‰ä½ç½®â€</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3773885afb0c4fedb09add7a1ce0a658~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=op1vPNzcG37lu6VN6EplBvJ%2Bqc0%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>ç‚¹å‡»ç¡®è®¤ã€‚</p>
</li>
<li>
<p><em>å¤‡æ³¨ï¼šå¾®è½¯å®˜æ–¹æç¤ºè¯¥æ“ä½œå¯èƒ½éœ€è¦24å°æ—¶ç”Ÿæ•ˆï¼Œä½†å®æµ‹é€šå¸¸å‡ åˆ†é’Ÿå†…å°±ä¼šæŠŠæ‰€æœ‰è®¾å¤‡ï¼ˆåŒ…æ‹¬ä½ è‡ªå·±å½“å‰çš„è®¾å¤‡ï¼‰å…¨éƒ¨å¼ºåˆ¶ä¸‹çº¿ã€‚</em></p>
</li>
</ul>
<h2 data-id="heading-7">ç¬¬å››æ­¥ï¼šä¿®æ”¹ç™»å½•å¯†ç </h2>
<p>åšå®Œä»¥ä¸Šä¸‰ä¸ªâ€œå¤§æ‰‹æœ¯â€åï¼Œè´¦å·å·²ç»åŸºæœ¬å®‰å…¨ã€‚æœ€åä¸€æ­¥ï¼Œä¸ºäº†ä»ªå¼æ„Ÿå’Œç»å¯¹çš„å®‰å…¨ï¼š</p>
<ul>
<li>å»ä¿®æ”¹ä¸€ä¸ªé«˜å¼ºåº¦çš„<strong>ç™»å½•å¯†ç </strong>ã€‚</li>
<li>é‡æ–°ç™»å½•ä½ çš„è´¦å·ï¼Œäº«å—å®Œå…¨æŒæ§çš„å¿«æ„Ÿã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/343d74b03e2c4feabb8c7a223e7a23f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768570983&amp;x-signature=PfG2SSs%2F1iJ5N3l7cXVHsdV9b4w%3D" alt="" loading="lazy"/></p>
<p>æ€»ç»“ä¸é˜²å‘å°è´´å£«</p>
<ol>
<li><strong>é¡ºåºä¸èƒ½ä¹±</strong>ï¼šå»ºè®®æŒ‰ <strong>æ·»åŠ è‡ªå·±é‚®ç®± â†’ åˆ åˆ«äººé‚®ç®± â†’ é‡ç½®æ¢å¤ç  â†’ è¸¢è®¾å¤‡ â†’ æ”¹å¯†ç </strong> çš„é¡ºåºæ“ä½œã€‚</li>
<li><strong>é£æ§æ³¨æ„</strong>ï¼šå¦‚æœè´¦å·IPå˜åŠ¨æå…¶å‰§çƒˆï¼Œè¿ç»­ä¿®æ”¹å®‰å…¨è®¾ç½®å¯èƒ½ä¼šè§¦å‘å¾®è½¯çš„30å¤©å®‰å…¨æŒ‚èµ·æœŸï¼ˆSecurity wait periodï¼‰ã€‚å¦‚æœé‡åˆ°æç¤ºéœ€ç­‰å¾…30å¤©ï¼Œè¯´æ˜è´¦å·è¢«é£æ§ï¼Œæ­¤æ—¶è´¦å·ä»å¯ç™»å½•ä½†æ— æ³•ä¿®æ”¹å®‰å…¨ä¿¡æ¯ï¼Œå»ºè®®æŒ‚æœºå…»å·å‡ å¤©å†è¯•ã€‚</li>
<li><strong>åŒé‡éªŒè¯(2FA)</strong>ï¼šå¦‚æœæ¡ä»¶å…è®¸ï¼Œå»ºè®®ç»‘å®šå¾®è½¯è‡ªå®¶çš„ Authenticator Appï¼Œå®‰å…¨æ€§è¿œé«˜äºçŸ­ä¿¡éªŒè¯ã€‚</li>
</ol>
<p>åšå®Œè¿™å¥—æµç¨‹ï¼Œä½ çš„Outlookè´¦å·å°±åƒç©¿äº†é˜²å¼¹è¡£ï¼Œé™¤äº†ä½ æ²¡äººèƒ½è¿›å¾—å»ï¼</p>
<p><em>å¦‚æœæœ‰é—æ¼çš„ç»†èŠ‚æˆ–é‡åˆ°ç‰¹æ®Šçš„é£æ§æƒ…å†µï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè¡¥å……äº¤æµï¼</em></p>
<h3 data-id="heading-8">å¦‚æœè§‰å¾—æ–‡ç« å¥½ï¼Œå¯ä»¥å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.legacyvps.com%2F" target="_blank" title="https://www.legacyvps.com/" ref="nofollow noopener noreferrer">ä¼ å®¶å®VPS</a></h3></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ32ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„CriteriaæŸ¥è¯¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7592990758476759059</link>    <guid>https://juejin.cn/post/7592990758476759059</guid>    <pubDate>2026-01-09T13:49:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592990758476759059" data-draft-id="7593145583348121642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ32ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„CriteriaæŸ¥è¯¢ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T13:49:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ32ï¼‰ä»€ä¹ˆæ˜¯Hibernateçš„CriteriaæŸ¥è¯¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:49:00.000Z" title="Fri Jan 09 2026 13:49:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Hibernateçš„CriteriaæŸ¥è¯¢</h3>
<p>Hibernateçš„CriteriaæŸ¥è¯¢æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„æŸ¥è¯¢æ–¹å¼ï¼Œå®ƒå…è®¸å¼€å‘è€…ä»¥ç¼–ç¨‹æ–¹å¼æ„å»ºæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯ç›´æ¥ç¼–å†™HQLæˆ–SQLè¯­å¥ã€‚å®ƒçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¼–è¯‘æ—¶æ£€æŸ¥å¯ä»¥æ•æ‰åˆ°é”™è¯¯ã€‚</li>
<li><strong>é¢å‘å¯¹è±¡</strong>ï¼šä½¿ç”¨Javaå¯¹è±¡å’Œæ–¹æ³•æ¥æ„å»ºæŸ¥è¯¢ã€‚</li>
<li><strong>åŠ¨æ€ç”Ÿæˆ</strong>ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”ŸæˆæŸ¥è¯¢ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶å›ºå®šæŸ¥è¯¢ã€‚</li>
</ul>
<h3 data-id="heading-1">ä½¿ç”¨CriteriaæŸ¥è¯¢</h3>
<p>åœ¨Hibernate 5ä¹‹å‰ï¼ŒCriteria APIæ˜¯é€šè¿‡<code>org.hibernate.Criteria</code>æ¥å£å®ç°çš„ã€‚åœ¨Hibernate 5åŠä¹‹åï¼ŒCriteria APIè¢«é‡æ–°è®¾è®¡ä¸ºJPAçš„Criteria APIï¼ˆ<code>javax.persistence.criteria</code>ï¼‰ã€‚</p>
<h3 data-id="heading-2">ç¤ºä¾‹ä»£ç </h3>
<h4 data-id="heading-3">å®ä½“ç±»å®šä¹‰</h4>
<p>ç»§ç»­ä½¿ç”¨ä¹‹å‰å®šä¹‰çš„<code>Person</code>å’Œ<code>Address</code>å®ä½“ç±»ã€‚</p>
<h5 data-id="heading-4">Personç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.domain;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "person")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "age")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> {}

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-comment">// Getters å’Œ Setters</span>

    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-built_in">this</span>.name = name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.age = age;
    }
}
</code></pre>
<h4 data-id="heading-5">Hibernateé…ç½®æ–‡ä»¶ <code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Person"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Address"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">HibernateUtilç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateUtil</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä»é…ç½®æ–‡ä»¶åˆ›å»ºSessionFactory</span>
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            <span class="hljs-comment">// è®°å½•å¯åŠ¨å¤±è´¥çš„é”™è¯¯</span>
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SessionFactory <span class="hljs-title function_">getSessionFactory</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h3 data-id="heading-7">ä½¿ç”¨CriteriaæŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-8">æ’å…¥ç¤ºä¾‹æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-9">ä½¿ç”¨CriteriaæŸ¥è¯¢</h4>
<h5 data-id="heading-10">æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;

<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCriteriaQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨CriteriaæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Person&gt; criteriaQuery = criteriaBuilder.createQuery(Person.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);
            criteriaQuery.select(root);

            List&lt;Person&gt; persons = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-11">ä½¿ç”¨æ¡ä»¶æŸ¥è¯¢</h5>
<p>å‡è®¾æˆ‘ä»¬æƒ³æŸ¥è¯¢å¹´é¾„å¤§äº25å²çš„Personã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.HibernateCriteriaBuilder;
<span class="hljs-keyword">import</span> org.hibernate.query.criteria.JpaCriteriaQuery;

<span class="hljs-keyword">import</span> javax.persistence.criteria.Root;
<span class="hljs-keyword">import</span> javax.persistence.criteria.Predicate;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCriteriaConditionalQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨Criteriaæ¡ä»¶æŸ¥è¯¢</span>
        queryPersonsByAge(sessionFactory, <span class="hljs-number">25</span>);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryPersonsByAge</span><span class="hljs-params">(SessionFactory sessionFactory, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Person&gt; criteriaQuery = criteriaBuilder.createQuery(Person.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);

            <span class="hljs-type">Predicate</span> <span class="hljs-variable">agePredicate</span> <span class="hljs-operator">=</span> criteriaBuilder.greaterThan(root.get(<span class="hljs-string">"age"</span>), age);
            criteriaQuery.select(root).where(agePredicate);

            List&lt;Person&gt; persons = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query persons with age greater than "</span> + age + <span class="hljs-string">":"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() + <span class="hljs-string">" - "</span> + person.getAge());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-12">CriteriaæŸ¥è¯¢è¯¦ç»†è§£é‡Š</h3>
<ol>
<li>
<p><strong>æ’å…¥ç¤ºä¾‹æ•°æ®</strong>ï¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸¤ä¸ª<code>Person</code>å¯¹è±¡ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateInsertData</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// æ’å…¥ç¤ºä¾‹æ•°æ®</span>
        insertSampleData(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertSampleData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Person</span> <span class="hljs-variable">person1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"John Doe"</span>, <span class="hljs-number">30</span>);
            <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Jane Doe"</span>, <span class="hljs-number">28</span>);

            session.save(person1);
            session.save(person2);
            transaction.commit();
            System.out.println(<span class="hljs-string">"Inserted sample data"</span>);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (session != <span class="hljs-literal">null</span>) {
                session.close();
            }
        }
    }
}
</code></pre>
</li>
<li>
<p><strong>æŸ¥è¯¢æ‰€æœ‰Personè®°å½•</strong>ï¼šä½¿ç”¨CriteriaæŸ¥è¯¢æ‰€æœ‰Personè®°å½•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateCriteriaQueryExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è·å–SessionFactory</span>
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> HibernateUtil.getSessionFactory();

        <span class="hljs-comment">// ä½¿ç”¨CriteriaæŸ¥è¯¢æ‰€æœ‰Personè®°å½•</span>
        queryAllPersons(sessionFactory);

        <span class="hljs-comment">// å…³é—­SessionFactory</span>
        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryAllPersons</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">HibernateCriteriaBuilder</span> <span class="hljs-variable">criteriaBuilder</span> <span class="hljs-operator">=</span> session.getCriteriaBuilder();
            JpaCriteriaQuery&lt;Person&gt; criteriaQuery = criteriaBuilder.createQuery(Person.class);
            Root&lt;Person&gt; root = criteriaQuery.from(Person.class);
            criteriaQuery.select(root);

            List&lt;Person&gt; persons = session.createQuery(criteriaQuery).getResultList();
            System.out.println(<span class="hljs-string">"Query all persons:"</span>);
            <span class="hljs-keyword">for</span> (Person person : persons) {
                System.out.println(person.getName() );
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TIOBE å…¬å¸ƒ C# æ˜¯ 2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€]]></title>    <link>https://juejin.cn/post/7593145583348154410</link>    <guid>https://juejin.cn/post/7593145583348154410</guid>    <pubDate>2026-01-09T13:50:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583348154410" data-draft-id="7593145583348138026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TIOBE å…¬å¸ƒ C# æ˜¯ 2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2026-01-09T13:50:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TIOBE å…¬å¸ƒ C# æ˜¯ 2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T13:50:40.000Z" title="Fri Jan 09 2026 13:50:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>TIOBE å…¬å¸ƒçš„æ•°æ®æ˜¾ç¤ºï¼ŒC# ä»¥ 2.94% çš„å¹´åº¦æœ€å¤§æ¶¨å¹…å†åº¦è·è¯„<code>2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€</code>ï¼Œåœ¨è¿‘ä¸‰å¹´å†…ï¼ŒC# ç¬¬äºŒæ¬¡è¢« TIOBE æŒ‡æ•°è¯„ä¸º<code>å¹´åº¦ç¼–ç¨‹è¯­è¨€</code>ã€‚è¿™ä¸€è£èª‰æˆäºˆäº†åœ¨å¹´åº¦æ’åä¸­æ¶¨å¹…æœ€å¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œ C# æ­£æ˜¯å‡­å€Ÿè¿™ä¸€æœ€å¤§å¢å¹…è·æ­¤æ®Šè£ã€‚</p>
<p>å¤šå¹´æ¥ï¼ŒC# ç»å†äº†æ ¹æœ¬æ€§çš„å˜é©ï¼šä»è¯­è¨€è®¾è®¡çš„è§’åº¦æ¥çœ‹ï¼Œå®ƒå¸¸å¸¸æ˜¯ä¸»æµç¼–ç¨‹è¯­è¨€ä¸­ç‡å…ˆé‡‡çº³æ–°è¶‹åŠ¿çš„å…ˆè¡Œè€…ã€‚ä¸æ­¤åŒæ—¶ï¼ŒC# æˆåŠŸå®ç°äº†ä¸¤æ¬¡é‡å¤§è½¬å‹ï¼šä¸€æ˜¯ä»ä»…é™ Windows å¹³å°è½¬å‘è·¨å¹³å°æ”¯æŒï¼ŒäºŒæ˜¯ä»å¾®è½¯ä¸“å±èµ°å‘å¼€æºã€‚C# æ€»èƒ½åœ¨å…³é”®æ—¶åˆ»åŠæ—¶æ¼”è¿›ï¼ŒæŒç»­ä¿æŒæ´»åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9efab1720cfb4a098214fc1bc9a19002~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=56IL1QkVj62Pi5L73pwiu9Cr0Ng%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">TIOBE ä»‹ç»</h2>
<p>TIOBE æ˜¯ä¸€ä¸ªç¼–ç¨‹ç¤¾åŒºæŒ‡æ•°ï¼Œç”¨äºè¡¡é‡ä¸åŒç¼–ç¨‹è¯­è¨€çš„å—æ¬¢è¿ç¨‹åº¦ã€‚TIOBE æŒ‡æ•°åŸºäºå…¨çƒèŒƒå›´å†…ç†Ÿç»ƒå·¥ç¨‹å¸ˆæ•°é‡ã€è¯¾ç¨‹å’Œç¬¬ä¸‰æ–¹ä¾›åº”å•†ç­‰å¤šä¸ªå› ç´ è¿›è¡Œè¯„ä¼°ã€‚æŒ‡æ•°æ¯æœˆæ›´æ–°ä¸€æ¬¡ï¼Œå¹¶ä½¿ç”¨ä¸€ç³»åˆ—æµè¡Œæœç´¢å¼•æ“ï¼ˆå¦‚Googleã€å¿…åº”ã€é›…è™ã€ç»´åŸºç™¾ç§‘ã€äºšé©¬é€Šã€YouTube å’Œç™¾åº¦ç­‰ï¼‰æ¥è®¡ç®—ç¼–ç¨‹è¯­è¨€çš„ç›¸å…³æœç´¢ç»“æœå’Œè®¨è®ºé‡ç­‰æ•°æ®ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒTIOBEæŒ‡æ•°å¹¶ä¸ä»£è¡¨â€œæœ€ä½³â€ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿä¸æ˜¯æŒ‡â€œä»£ç è¡Œæ•°æœ€å¤šâ€çš„è¯­è¨€ã€‚</p>
<h2 data-id="heading-2">TIOBE ç¼–ç¨‹è¯­è¨€è¯„åˆ†æ’è¡Œæ¦œ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92c779c82b854290816f4396cc320533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=hCQs6c6Gzbu0Y0Ps%2FXEYhXm1XDM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">TIOBE ç¼–ç¨‹ç¤¾åŒºæŒ‡æ•°</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31112bd0097c4660b1272fdf21a1b1a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=KdGoNORKkJlLIuwx1kEnyD%2BCnNc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ç¼–ç¨‹è¯­è¨€åäººå ‚</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/daacdb4c6e8242a78563e6fbeb56ab1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=bf6rUUACsxZKLI3ynVuQW4v5S5Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">C# 14 æ–°å¢çš„ä¸€äº›åŠŸèƒ½</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fzh-cn%2Fdotnet%2Fcsharp%2Fwhats-new%2Fcsharp-14" target="_blank" title="https://learn.microsoft.com/zh-cn/dotnet/csharp/whats-new/csharp-14" ref="nofollow noopener noreferrer">learn.microsoft.com/zh-cn/dotneâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d072ec259f374da79a919240c05a54f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=wUSBMB9X3hRndwbmAWNMPAZ5wg4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">.NET 10 æ­£å¼å‘å¸ƒ</h2>
<p>.NET å›¢é˜Ÿäº 2025 å¹´ 11 æœˆ 11 æ—¥å®£å¸ƒ .NET 10 æ­£å¼å‘å¸ƒï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢æœ€é«˜æ•ˆã€æœ€ç°ä»£ã€æœ€å®‰å…¨ã€æœ€æ™ºèƒ½ä¸”æ€§èƒ½æœ€é«˜çš„ .NET ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c979d7cb5a04cf0bcef7a6b36a09951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=cKvrDewsmjUqjqQ6ef%2FXF8gykh8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/795eebe014c24ae2b0033a8512e9104c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=IlShUQwb6ShlcOHMfdJZ%2BbrORfM%3D" alt="" loading="lazy"/></p>
<p>.NET 10 æ˜¯ä¸€ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰Â ï¼Œå°†æ”¯æŒä¸‰å¹´Â ï¼Œç›´è‡³ 2028 å¹´ 11 æœˆ 10 æ—¥ã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ç”Ÿäº§ç¯å¢ƒä¸­çš„åº”ç”¨ç¨‹åºå‡çº§åˆ° .NET 10ï¼Œä»¥ä¾¿äº«å—æ›´é•¿çš„æ”¯æŒå‘¨æœŸã€æ˜¾è‘—çš„æ€§èƒ½æå‡ä»¥åŠä¼—å¤šæ–°åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ec524c0f9b64bc99db0dc14ac9ebef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=cpkwTi1BWbSltzksruzMkp2ICNw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">.NET è®©æ„å»º AI é©±åŠ¨çš„åº”ç”¨å˜å¾—ç®€å•ç›´æ¥</h2>
<p>.NET è®©æ„å»º AI é©±åŠ¨çš„åº”ç”¨å˜å¾—ç®€å•ç›´æ¥ï¼Œæ— è®ºæ˜¯è½»é‡çº§é›†æˆè¿˜æ˜¯å¤æ‚çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿéƒ½èƒ½è½»æ¾åº”å¯¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6da089f82e8045ecbbb398c50e0950e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=cDembuQ%2FJC%2FFyM6IQyh%2BSxVWD0w%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">Microsoft ä»£ç†æ¡†æ¶ï¼šæ„å»ºæ™ºèƒ½å¤šä»£ç†ç³»ç»Ÿ</h3>
<p>Microsoft ä»£ç†æ¡†æ¶é€šè¿‡å°†è¯­ä¹‰å†…æ ¸å’Œ AutoGen çš„ä¼˜ç‚¹ç»“åˆåˆ°ç»Ÿä¸€ä½“éªŒä¸­ï¼Œç®€åŒ–äº†æ™ºèƒ½ä»£ç† AI ç³»ç»Ÿçš„æ„å»ºã€‚æ— è®ºæ‚¨æ˜¯æ„å»ºå•ä¸ª AI ä»£ç†è¿˜æ˜¯åè°ƒå¤šä¸ªä»£ç†ååŒå·¥ä½œï¼Œè¯¥æ¡†æ¶éƒ½èƒ½æä¾›æ‚¨æ‰€éœ€çš„æ¨¡å¼å’ŒåŸºç¡€è®¾æ–½ã€‚</p>
<ul>
<li>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fagent-framework" target="_blank" title="https://github.com/microsoft/agent-framework" ref="nofollow noopener noreferrer">github.com/microsoft/aâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a1f1f9bd5404a859ccbf778af773579~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=4rknz7UhUdiZl%2B8tCYTA3SPpHwQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">äººå·¥æ™ºèƒ½åº”ç”¨çš„ç»Ÿä¸€æ„å»ºæ¨¡å—</h3>
<p><code>Microsoft.Extensions.AI</code> å’Œ <code>Microsoft.Extensions.VectorData</code> æä¾›ç»Ÿä¸€çš„æŠ½è±¡ï¼Œç”¨äºå°† AI æœåŠ¡é›†æˆåˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ã€‚IChatClient æ¥å£é€šè¿‡ä¸€è‡´çš„ API ä¸ä»»ä½•æä¾›ç¨‹åºï¼ˆOpenAIã€Azure OpenAIã€GitHub Modelsã€Ollamaï¼‰é…åˆä½¿ç”¨ï¼Œä»è€Œå¯ä»¥è½»æ¾åˆ‡æ¢æä¾›ç¨‹åºæˆ–æ”¯æŒå¤šä¸ªåç«¯ï¼Œè€Œæ— éœ€é‡å†™ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5750b0dd079b4a6e83eefdc566c8244f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=qGdSGXp6cQup8yooeR1D4Ss0DKQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">.NET æä¾›ä¸€æµçš„ MCP æ”¯æŒ</h3>
<p>.NET æä¾›å¯¹ Model Context Protocolï¼ˆMCPï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰ çš„ä¸€æµæ”¯æŒï¼Œè®© AI æ™ºèƒ½ä½“èƒ½å¤Ÿé€šè¿‡æ ‡å‡†åŒ–æ–¹å¼è¿æ¥å¤–éƒ¨å·¥å…·å’ŒæœåŠ¡ã€‚MCP ä½¿ AI æ™ºèƒ½ä½“å¯ä»¥è®¿é—®æ•°æ®æºã€API å’Œå„ç§å·¥å…·ï¼Œä»è€Œæ˜¾è‘—æå‡å…¶èƒ½åŠ›å’Œé€‚ç”¨åœºæ™¯çš„å¤šæ ·æ€§ã€‚</p>
<ul>
<li>C# MCP SDKï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelcontextprotocol%2Fcsharp-sdk" target="_blank" title="https://github.com/modelcontextprotocol/csharp-sdk" ref="nofollow noopener noreferrer">github.com/modelcontexâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/812d793e7d804298a82435ced941c698~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=uPUD5dHJGpCPNyHrXfCqoREwRzM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">C#/.NET/.NET Coreå­¦ä¹ ã€å·¥ä½œã€é¢è¯•æŒ‡å—</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49f7c96db26c44b99ddb009725ca2f6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768571440&amp;x-signature=wPR4hGqvcs%2FSk7vHiSC0q4HJsvk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">å‚è€ƒæ–‡ç« </h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftiobe.org.cn%2Ftiobe-index" target="_blank" title="https://tiobe.org.cn/tiobe-index" ref="nofollow noopener noreferrer">tiobe.org.cn/tiobe-index</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tiobe.com%2Ftiobe-index" target="_blank" title="https://www.tiobe.com/tiobe-index" ref="nofollow noopener noreferrer">www.tiobe.com/tiobe-index</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flinkæºç é˜…è¯»ï¼šNettyé€šä¿¡]]></title>    <link>https://juejin.cn/post/7593164154631815177</link>    <guid>https://juejin.cn/post/7593164154631815177</guid>    <pubDate>2026-01-09T12:13:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154631815177" data-draft-id="7593164154631798793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flinkæºç é˜…è¯»ï¼šNettyé€šä¿¡"/> <meta itemprop="keywords" content="Flink,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2026-01-09T12:13:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢å‘Googleç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986695374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flinkæºç é˜…è¯»ï¼šNettyé€šä¿¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986695374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢å‘Googleç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:13:27.000Z" title="Fri Jan 09 2026 12:13:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰æ–‡ä¸­æˆ‘ä»¬äº†è§£äº† Flink çš„æ•°æ®äº¤äº’è¿‡ç¨‹ï¼Œä¸Šæ¸¸çš„ Task å°†æ•°æ®å†™å…¥åˆ° ResultSubpartition çš„ buffers é˜Ÿåˆ—ä¸­ã€‚ä¸‹æ¸¸çš„ Task é€šè¿‡ LocalInputChannel å’Œ RemoteInputChannel æ¶ˆè´¹ä¸Šæ¸¸çš„æ•°æ®ã€‚</p>
<p>LocalInputChannel æ˜¯ä¸Šä¸‹æ¸¸çš„ Task éƒ¨ç½²åœ¨åŒä¸€ä¸ª TaskManager æ—¶ä½¿ç”¨çš„ï¼Œåœ¨æœ¬åœ°å³å¯å®Œæˆæ•°æ®äº¤æ¢ï¼Œæ— éœ€ç½‘ç»œé€šä¿¡ã€‚å½“ä¸Šä¸‹æ¸¸çš„ Task éƒ¨ç½²åœ¨ä¸åŒçš„ TaskManager æ—¶ï¼Œå°±éœ€è¦ç”¨åˆ° RemoteInputChannelï¼ŒFlink åˆ©ç”¨ Netty æ¥è¿›è¡Œæ•°æ®äº¤äº’ã€‚æœ¬æ–‡æˆ‘ä»¬æ¥ä¸€èµ·æ¢³ç†ä¸€ä¸‹ Netty ç›¸å…³çš„æºç ã€‚</p>
<h3 data-id="heading-0">åˆå§‹åŒ–</h3>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ NettyServer å’Œ NettyClient çš„åˆå§‹åŒ–è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ba4706fbb604cc5884638aaad02c95b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=ro8kY7ZVGC%2BQRjha4Mu06IgMWMI%3D" alt="NettyInit" loading="lazy"/></p>
<p>Netty çš„åˆå§‹åŒ–é˜¶æ®µæ˜¯åœ¨ TaskManager å¯åŠ¨çš„è¿‡ç¨‹ä¸­æ‰§è¡Œçš„ã€‚åœ¨ <code>TaskManagerServices.fromConfiguration</code> æ–¹æ³•ä¸­ï¼Œä¼šåˆ›å»ºå¹¶å¯åŠ¨ ShuffleEnvironmentã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> TaskManagerServices <span class="hljs-title function_ invoke__">fromConfiguration</span>(
        TaskManagerServicesConfiguration taskManagerServicesConfiguration,
        PermanentBlobService permanentBlobService,
        MetricGroup taskManagerMetricGroup,
        ExecutorService ioExecutor,
        ScheduledExecutor scheduledExecutor,
        FatalErrorHandler fatalErrorHandler,
        WorkingDirectory workingDirectory)
        throws <span class="hljs-built_in">Exception</span> {
    ...

    <span class="hljs-keyword">final</span> ShuffleEnvironment<span class="hljs-meta">&lt;?</span>, <span class="hljs-meta">?&gt;</span> shuffleEnvironment =
            <span class="hljs-title function_ invoke__">createShuffleEnvironment</span>(
                    taskManagerServicesConfiguration,
                    taskEventDispatcher,
                    taskManagerMetricGroup,
                    ioExecutor,
                    scheduledExecutor);
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> listeningDataPort = shuffleEnvironment.<span class="hljs-title function_ invoke__">start</span>();
    ...
}
</code></pre>
<p>æˆ‘ä»¬é¡ºç€è°ƒç”¨é“¾è·¯å¯ä»¥ä¸€ç›´æ‰¾åˆ° <code>NettyShuffleServiceFactory.createNettyShuffleEnvironment</code> æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸­åˆ›å»ºäº† NettyConnectionManagerï¼Œåœ¨ NettyConnectionManager ä¸­æœ‰å‡ ä¸ªå¾ˆé‡è¦çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public NettyConnectionManager(
        NettyBufferPool bufferPool,
        ResultPartitionProvider partitionProvider,
        TaskEventPublisher taskEventPublisher,
        NettyConfig nettyConfig,
        boolean connectionReuseEnabled) {

    <span class="hljs-attr">this.server</span> = new NettyServer(nettyConfig)<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.client</span> = new NettyClient(nettyConfig)<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.bufferPool</span> = checkNotNull(bufferPool)<span class="hljs-comment">;</span>

    <span class="hljs-attr">this.partitionRequestClientFactory</span> =
            new PartitionRequestClientFactory(
                    client, nettyConfig.getNetworkRetries(), connectionReuseEnabled)<span class="hljs-comment">;</span>

    <span class="hljs-attr">this.nettyProtocol</span> =
            new NettyProtocol(
                    checkNotNull(partitionProvider), checkNotNull(taskEventPublisher))<span class="hljs-comment">;</span>
}
</code></pre>
<p>server å’Œ client ä¸éœ€è¦å¤šä»‹ç»ï¼Œå°±æ˜¯ Netty çš„æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ã€‚bufferPool æ˜¯ç¼“å†²æ± ï¼Œç”¨äºå­˜å‚¨è¦ä¼ è¾“çš„æ•°æ®ã€‚nettyProtocol æä¾›äº† NettyClient å’Œ NettyServer å¼•å¯¼å¯åŠ¨æ³¨å†Œçš„ Channel Handlerã€‚</p>
<p>åé¢å°±æ˜¯åˆ›å»º NettyShuffleEnvironment åŠå…¶éœ€è¦çš„å¯¹è±¡äº†ã€‚åœ¨åˆ›å»ºå®Œæˆåï¼Œä¼šè°ƒç”¨å®ƒçš„ start æ–¹æ³•å¯åŠ¨ã€‚è¿™ä¸ªå¯åŠ¨æ–¹æ³•å°±æ˜¯è°ƒç”¨äº† <code>connectionManager.start</code>ï¼Œåœ¨ NettyConnectionManager ä¸­ï¼Œå°±æ˜¯åˆå§‹åŒ–å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">start</span>() throws IOException</span> {
    client.<span class="hljs-keyword">init</span>(nettyProtocol, bufferPool);

    <span class="hljs-keyword">return</span> server.<span class="hljs-keyword">init</span>(nettyProtocol, bufferPool);
}
</code></pre>
<h4 data-id="heading-1">client åˆå§‹åŒ–</h4>
<p>client çš„åˆå§‹åŒ–è¿‡ç¨‹æ˜¯å…ˆåˆ›å»ºå¹¶åˆå§‹åŒ– Bootstrapã€‚</p>
<pre><code class="hljs language-scss" lang="scss">private void <span class="hljs-built_in">initEpollBootstrap</span>() {
    <span class="hljs-comment">// Add the server port number to the name in order to distinguish</span>
    <span class="hljs-comment">// multiple clients running on the same host.</span>
    String name =
            NettyConfig<span class="hljs-selector-class">.CLIENT_THREAD_GROUP_NAME</span> + " (" + config.getServerPortRange() + ")";

    EpollEventLoopGroup epollGroup =
            new <span class="hljs-built_in">EpollEventLoopGroup</span>(
                    config.getClientNumThreads(), NettyServer<span class="hljs-selector-class">.getNamedThreadFactory</span>(name));
    bootstrap<span class="hljs-selector-class">.group</span>(epollGroup)<span class="hljs-selector-class">.channel</span>(EpollSocketChannel.class);

    config<span class="hljs-selector-class">.getTcpKeepIdleInSeconds</span>()
            <span class="hljs-selector-class">.ifPresent</span>(idle -&gt; bootstrap.option(EpollChannelOption.TCP_KEEPIDLE, idle));
    config<span class="hljs-selector-class">.getTcpKeepInternalInSeconds</span>()
            <span class="hljs-selector-class">.ifPresent</span>(
                    interval -&gt; bootstrap.option(EpollChannelOption.TCP_KEEPINTVL, interval));
    config<span class="hljs-selector-class">.getTcpKeepCount</span>()
            <span class="hljs-selector-class">.ifPresent</span>(count -&gt; bootstrap.option(EpollChannelOption.TCP_KEEPCNT, count));
}
</code></pre>
<p>åˆå§‹åŒ–è¿‡ç¨‹é‡è¦è®¾ç½® EventLoopGroup å’Œ channelï¼Œå¯ä»¥ç”¨ epoll çš„è¯å°±ç”¨ epollï¼Œå¦åˆ™å°±ç”¨ nioã€‚è®¾ç½®å¥½è¿™äº›åå°±æ˜¯è®¾ç½®äº†ä¸€äº›é€šé“å‚æ•°ï¼ˆè¿æ¥è¶…æ—¶æ—¶é—´ã€Bufffer æ± ç­‰ï¼‰ã€‚</p>
<p>åˆ°è¿™é‡Œ client çš„åˆå§‹åŒ–å…¶å®å¹¶æ²¡æœ‰ç»“æŸï¼Œè¿˜éœ€è¦è®¾ç½® Handler æµæ°´çº¿ï¼Œè¿™äº›å·¥ä½œæ˜¯åœ¨ Task å¯åŠ¨æ—¶æ‰§è¡Œäº†ã€‚</p>
<h4 data-id="heading-2">server åˆå§‹åŒ–</h4>
<p>server çš„åˆå§‹åŒ–è¿‡ç¨‹æ˜¯å…ˆåˆ›å»ºå¹¶åˆå§‹åŒ–äº† ServerBootstrapã€‚ä¹‹ååŒæ ·ä¹Ÿæ˜¯è®¾ç½® EventLoopGroup å’Œ channelï¼Œä»¥åŠé€šé“ç›¸å…³çš„å„ç§å‚æ•°ã€‚</p>
<p>è®¾ç½®å¥½ä¹‹åï¼Œä¼šæ·»åŠ  ChannelHandler æµæ°´çº¿ï¼Œè¿™é‡Œçš„ ChannelHandler æµæ°´çº¿å°±æ˜¯æˆ‘ä»¬å‰é¢åˆ›å»ºçš„ NettyProtocol æä¾›çš„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public ChannelHandler<span class="hljs-section">[]</span> getServerChannelHandlers() {
    PartitionRequestQueue <span class="hljs-attr">queueOfPartitionQueues</span> = new PartitionRequestQueue()<span class="hljs-comment">;</span>
    PartitionRequestServerHandler <span class="hljs-attr">serverHandler</span> =
            new PartitionRequestServerHandler(
                    partitionProvider, taskEventPublisher, queueOfPartitionQueues)<span class="hljs-comment">;</span>

    return new ChannelHandler<span class="hljs-section">[]</span> {
        messageEncoder,
        new NettyMessage.NettyMessageDecoder(),
        serverHandler,
        queueOfPartitionQueues
    }<span class="hljs-comment">;</span>
}
</code></pre>
<p>æµæ°´çº¿ä¸ŠåŒ…å«äº†æ¶ˆæ¯ç¼–ç å™¨ã€è§£ç å™¨ã€PartitionRequestServerHandler è¯·æ±‚æœåŠ¡ç«¯å¤„ç†å™¨å’Œ PartitionRequestQueue åˆ†åŒºè¯·æ±‚é˜Ÿåˆ—ã€‚</p>
<p>è¿™äº›éƒ½è®¾ç½®å¥½ä¹‹åï¼Œå°±å¼€å§‹å¯åŠ¨ NettyServer æœåŠ¡äº†ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">Iterator&lt;Integer&gt; portsIterator = config<span class="hljs-selector-class">.getServerPortRange</span>()<span class="hljs-selector-class">.getPortsIterator</span>();
while (portsIterator.hasNext() &amp;&amp; bindFuture == null) {
    Integer port = portsIterator<span class="hljs-selector-class">.next</span>();
    LOG<span class="hljs-selector-class">.debug</span>("Trying to bind Netty server to port: {}", port);

    bootstrap<span class="hljs-selector-class">.localAddress</span>(config.getServerAddress(), port);
    try {
        bindFuture = bootstrap<span class="hljs-selector-class">.bind</span>()<span class="hljs-selector-class">.syncUninterruptibly</span>();
    } catch (Exception e) {
        <span class="hljs-comment">// syncUninterruptibly() throws checked exceptions via Unsafe</span>
        <span class="hljs-comment">// continue if the exception is due to the port being in use, fail early</span>
        <span class="hljs-comment">// otherwise</span>
        if (isBindFailure(e)) {
            LOG<span class="hljs-selector-class">.debug</span>("Failed to bind Netty server", e);
        } else {
            throw e;
        }
    }
}

if (bindFuture == null) {
    throw new <span class="hljs-built_in">BindException</span>(
            "Could not start rest endpoint on any port in port range "
                    + config.getServerPortRange());
}

localAddress = (InetSocketAddress) bindFuture<span class="hljs-selector-class">.channel</span>()<span class="hljs-selector-class">.localAddress</span>();
</code></pre>
<h3 data-id="heading-3">å®¢æˆ·ç«¯è¯·æ±‚è¿œç«¯å­åˆ†åŒº</h3>
<p>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åˆå§‹åŒ–ä¹‹åï¼Œåœ¨ Task è¿è¡Œæ—¶ï¼Œä¼šå…ˆå®Œæˆ Client çš„ ChannelHandler çš„é…ç½®ï¼Œç„¶åè¯·æ±‚ Netty è¿œç«¯æœåŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b99d38c65200487f8f5f1d7e05cc2b36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=7ig7BNFyUGozffh2yuryKQkj%2FHo%3D" alt="NettyRequestPartition" loading="lazy"/></p>
<p>æˆ‘ä»¬æ¥çœ‹å…·ä½“è¿‡ç¨‹ï¼Œåœ¨ Task åˆå§‹åŒ–æ—¶ï¼Œä¼šè°ƒç”¨ <code>StreamTask.invoke</code> æ–¹æ³•ï¼Œå…¶å†…éƒ¨ä¼šè°ƒç”¨ <code>StreamTask.restoreStateAndGate</code> æ–¹æ³•ï¼Œè¿™é‡Œä¼šä¾¿åˆ© Task çš„æ‰€æœ‰ InputGateï¼Œç„¶åè°ƒç”¨ requestPartitionsã€‚åœ¨ InputGate çš„ requestPartitions é€»è¾‘ä¸­ï¼Œåˆä¾¿åˆ©æ‰€æœ‰çš„ InputChannelï¼Œè°ƒç”¨ requestSubpartitionsã€‚</p>
<pre><code class="hljs language-scss" lang="scss">for (InputGate inputGate : inputGates) {
    recoveredFutures<span class="hljs-selector-class">.add</span>(inputGate.getStateConsumedFuture());

    inputGate
            <span class="hljs-selector-class">.getStateConsumedFuture</span>()
            <span class="hljs-selector-class">.thenRun</span>(
                    () -&gt;
                            mainMailboxExecutor<span class="hljs-selector-class">.execute</span>(
                                    inputGate::requestPartitions,
                                    "Input gate request partitions"));
}


private void <span class="hljs-built_in">internalRequestPartitions</span>() {
    for (InputChannel inputChannel : inputChannels()) {
        try {
            inputChannel<span class="hljs-selector-class">.requestSubpartitions</span>();
        } catch (Throwable t) {
            inputChannel<span class="hljs-selector-class">.setError</span>(t);
            return;
        }
    }
}
</code></pre>
<p>æˆ‘ä»¬æ¥çœ‹ <code>RemoteInputChannel.requestSubpartitions</code> çš„é€»è¾‘ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">requestSubpartitions</span>() throws IOException, InterruptedException</span> {
    <span class="hljs-keyword">if</span> (partitionRequestClient == <span class="hljs-literal">null</span>) {
        LOG.debug(
                <span class="hljs-string">"{}: Requesting REMOTE subpartitions {} of partition {}. {}"</span>,
                <span class="hljs-keyword">this</span>,
                consumedSubpartitionIndexSet,
                partitionId,
                channelStatePersister);
        <span class="hljs-comment">// Create a client and request the partition</span>
        <span class="hljs-keyword">try</span> {
            partitionRequestClient =
                    connectionManager.createPartitionRequestClient(connectionId);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-comment">// IOExceptions indicate that we could not open a connection to the remote</span>
            <span class="hljs-comment">// TaskExecutor</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> PartitionConnectionException(partitionId, e);
        }

        partitionRequestClient.requestSubpartition(
                partitionId, consumedSubpartitionIndexSet, <span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>);
    }
}
</code></pre>
<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼Œå…ˆæ˜¯åˆ›å»º partitionRequestClientï¼Œç„¶åè°ƒç”¨ requestSubpartitionã€‚</p>
<h4 data-id="heading-4">åˆ›å»ºè¯·æ±‚å®¢æˆ·ç«¯</h4>
<p>PartitionRequestClient æ˜¯åœ¨ <code>PartitionRequestClientFactory.connect</code> ä¸­åˆ›å»ºçš„ã€‚å…ˆè°ƒç”¨äº† <code>NettyClient.connect</code>ï¼ŒåŒæ­¥ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡ç«¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šè¿›è¡Œ ChannelHandler é…ç½®ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ä»‹ç»çš„ï¼ŒNettyClient æ²¡æœ‰å®Œæˆçš„æ­¥éª¤ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">public ChannelHandler<span class="hljs-selector-attr">[]</span> <span class="hljs-built_in">getClientChannelHandlers</span>() {
    NetworkClientHandler networkClientHandler = new <span class="hljs-built_in">CreditBasedPartitionRequestClientHandler</span>();

    return new ChannelHandler<span class="hljs-selector-attr">[]</span> {
        messageEncoder,
        new <span class="hljs-built_in">NettyMessageClientDecoderDelegate</span>(networkClientHandler),
        networkClientHandler
    };
}
</code></pre>
<p>Handler åŒ…æ‹¬äº†æ¶ˆæ¯ç¼–ç å™¨ã€è§£ç å™¨å’Œ CreditBasedPartitionRequestClientHandler è¿™ä¸ªåŸºäº Credit çš„åˆ†åŒºè¯·æ±‚å®¢æˆ·ç«¯å¤„ç†å™¨ã€‚Handler é…ç½®å¥½ä¹‹åä¼šåˆ©ç”¨ bootstrap è¿æ¥åˆ°æœåŠ¡ç«¯ã€‚</p>
<p>åœ¨è·å–åˆ° Channel å’Œ NetworkClientHandler ä¹‹åï¼Œå°±ç›´æ¥åˆ›å»ºäº† NettyPartitionRequestClientã€‚</p>
<h4 data-id="heading-5">è¯·æ±‚å­åˆ†åŒºæ•°æ®</h4>
<p>è®©æˆ‘ä»¬å†å›åˆ° RemoteInputChannel çš„ requestSubpartitions æ–¹æ³•ä¸­ï¼Œç°åœ¨æˆ‘ä»¬åˆ›å»ºå¥½äº† NettyPartitionRequestClientï¼Œæ¥ä¸‹æ¥å°±æ˜¯è°ƒç”¨å®ƒçš„ requestSubpartition æ–¹æ³•æ¥å‘èµ·è¯·æ±‚ã€‚</p>
<p>è¿™é‡Œé€»è¾‘ä¹Ÿæ¯”è¾ƒç®€å•ï¼š</p>
<ol>
<li>å‘ NetworkClientHandler æ³¨å†Œå½“å‰ RemoteInputChannelã€‚</li>
<li>æ„é€ è¯·æ±‚å¯¹è±¡ PartitionRequestï¼Œè¿™é‡ŒåŒ…å«äº†åˆ†åŒº IDã€å­åˆ†åŒºç´¢å¼•ã€inputChannel ID ä»¥åŠåˆè¯†çš„ Creditã€‚</li>
<li>è°ƒç”¨ <code>tcpChannel.writeAndFlush</code> å‘èµ·è¯·æ±‚ï¼Œå¹¶æ·»åŠ è¯·æ±‚å¤±è´¥çš„ç›‘å¬ã€‚</li>
<li>å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œç§»é™¤å½“å‰ inputChannelã€‚</li>
</ol>
<h3 data-id="heading-6">æœåŠ¡ç«¯å“åº”</h3>
<p>ç°åœ¨æ•°æ®åˆ°äº†æœåŠ¡ç«¯ï¼Œæˆ‘ä»¬æ¥çœ‹æœåŠ¡ç«¯å¤„ç†çš„å…·ä½“è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/339a67c8d7c64865bc109c665e60c60c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=xpUm9gskdJn323LGxtvTmcAThSc%3D" alt="NettyServerHandler" loading="lazy"/></p>
<p>åœ¨ NettyServer åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸¤ä¸ªé‡è¦çš„ Handlerï¼Œåˆ†åˆ«æ˜¯ PartitionRequestServerHandler å’Œ PartitionRequestQueueã€‚æœåŠ¡ç«¯å“åº”æ•°æ®çš„è¿‡ç¨‹å°±æ˜¯è¿™ä¸¤ä¸ª Handler åœ¨å‘æŒ¥ä½œç”¨ã€‚</p>
<p>PartitionRequestServerHandler è´Ÿè´£å¤„ç† Client ç«¯é€šè¿‡ PartitionRequestClient å‘é€çš„è¯·æ±‚ï¼Œå¤„ç†è¿‡ç¨‹æ˜¯å…ˆåˆ›å»º CreditBasedSequenceNumberingViewReader ç±»å‹çš„ readerï¼Œç„¶åå°†å®ƒæ”¾å…¥ PartitionRequestQueue ç»´æŠ¤çš„ reader é˜Ÿåˆ—ä¸­ã€‚PartitionRequestQueue ä¼šç›‘å¬ Netty Channel çš„å¯å†™å…¥çŠ¶æ€ï¼Œå½“ Netty Channel å¯å†™å…¥æ—¶ï¼Œä¼šæ¶ˆè´¹æ•°æ®å¹¶å†™å…¥ç½‘ç»œã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹å…·ä½“çš„æºç ã€‚</p>
<p>æœåŠ¡ç«¯çš„å“åº”å…¥å£åœ¨ <code>PartitionRequestServerHandler.channelRead0</code> æ–¹æ³•ï¼Œè¿™é‡Œåœ¨å¤„ç† PartitionRequest è¯·æ±‚æ—¶ï¼Œå…ˆæ˜¯åˆ›å»º CreditBasedSequenceNumberingViewReaderï¼Œç„¶åè°ƒç”¨ requestSubpartitionViewOrRegisterListenerã€‚</p>
<p>requestSubpartitionViewOrRegisterListener çš„é€»è¾‘æ˜¯åˆ›å»º ResultSubpartitionViewï¼Œå¹¶æé†’ PartitionRequestQueue æœ‰æ•°æ®å¯ç”¨ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Optional&lt;ResultSubpartitionView&gt; <span class="hljs-attr">subpartitionViewOptional</span> =
        partitionProvider.createSubpartitionViewOrRegisterListener(
                resultPartitionId,
                subpartitionIndexSet,
                this,
                partitionRequestListener)<span class="hljs-comment">;</span>
...

notifyDataAvailable(subpartitionView)<span class="hljs-comment">;</span>
</code></pre>
<p>ResultSubpartitionView å°±æ˜¯ç”¨æ¥æ¶ˆè´¹ ResultSubpartition çš„æ•°æ®ã€‚</p>
<p>notifyDataAvailable å†…éƒ¨è°ƒç”¨äº† notifyReaderNonEmptyï¼ŒnotifyReaderNonEmpty åˆè§¦å‘äº† userEventTriggeredï¼Œè¿™é‡Œè°ƒç”¨ enqueueAvailableReader å°† reader æ”¾å…¥åˆ°å¯ç”¨é˜Ÿåˆ— availableReaders ä¸­ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">private void <span class="hljs-built_in">enqueueAvailableReader</span>(final NetworkSequenceViewReader reader) throws Exception {
    if (reader.isRegisteredAsAvailable()) {
        return;
    }

    ResultSubpartitionView<span class="hljs-selector-class">.AvailabilityWithBacklog</span> availabilityWithBacklog =
            reader<span class="hljs-selector-class">.getAvailabilityAndBacklog</span>();
    if (!availabilityWithBacklog.isAvailable()) {
        int backlog = availabilityWithBacklog<span class="hljs-selector-class">.getBacklog</span>();
        if (backlog &gt; <span class="hljs-number">0</span> &amp;&amp; reader.needAnnounceBacklog()) {
            <span class="hljs-built_in">announceBacklog</span>(reader, backlog);
        }
        return;
    }

    <span class="hljs-comment">// Queue an available reader for consumption. If the queue is empty,</span>
    <span class="hljs-comment">// we try trigger the actual write. Otherwise this will be handled by</span>
    <span class="hljs-comment">// the writeAndFlushNextMessageIfPossible calls.</span>
    boolean triggerWrite = availableReaders<span class="hljs-selector-class">.isEmpty</span>();
    <span class="hljs-built_in">registerAvailableReader</span>(reader);

    if (triggerWrite) {
        <span class="hljs-built_in">writeAndFlushNextMessageIfPossible</span>(ctx.channel());
    }
}
</code></pre>
<p>å¦‚æœ reader æ˜¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œä¼šè§¦å‘æ•°æ®å†™å…¥ç½‘ç»œã€‚</p>
<p>writeAndFlushNextMessageIfPossible çš„å¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å–å‡ºå¯ç”¨ readerã€‚</li>
<li>è°ƒç”¨ <code>reader.getNextBuffer</code> è·å–æ•°æ®ã€‚</li>
<li>å¦‚æœ reader ä»ç„¶å¯ç”¨ï¼Œå°†å…¶åŠ å›é˜Ÿåˆ—ã€‚</li>
<li>å‘ä¸‹æ¸¸å†™å…¥æ•°æ®å¹¶æ·»åŠ ä¸‹æ¬¡å†™å…¥çš„ç›‘å¬ã€‚</li>
</ol>

<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> BufferAndAvailability <span class="hljs-title function_">getNextBuffer</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-type">BufferAndBacklog</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> subpartitionView.getNextBuffer();
    <span class="hljs-keyword">if</span> (next != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (next.buffer().isBuffer() &amp;&amp; --numCreditsAvailable &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"no credit available"</span>);
        }

        <span class="hljs-keyword">final</span> Buffer.<span class="hljs-type">DataType</span> <span class="hljs-variable">nextDataType</span> <span class="hljs-operator">=</span> getNextDataType(next);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferAndAvailability</span>(
                next.buffer(), nextDataType, next.buffersInBacklog(), next.getSequenceNumber());
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<p>åœ¨ getNextBuffer æ–¹æ³•ä¸­ï¼Œä¼šå°† credit å€¼å‡ 1ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦å°äº 0ã€‚å¦‚æœå°äº 0 ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œreader æ˜¯å¦å¯ç”¨ä¹Ÿæ˜¯æ ¹æ® numCreditsAvailable æ˜¯å¦å¤§äº 0 æ¥åˆ¤æ–­çš„ã€‚</p>
<h3 data-id="heading-7">å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®</h3>
<p>NettyClient åœ¨æ¶ˆè´¹æ•°æ®æ—¶ï¼ŒåŒæ ·ä¹Ÿæ˜¯ä»¥ ChannelHandler ä½œä¸ºå…¥å£ã€‚è¿™é‡Œçš„å…¥å£æ–¹æ³•æ˜¯ <code>CreditBasedPartitionRequestClientHandler.channelRead</code> ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e3e211ea7d445e8a040cfd2e5bac1dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=QzLjqwFQqFXMQxN4wlfezdFTli4%3D" alt="NettyClientHandler" loading="lazy"/></p>
<p>åœ¨ decodeMsg æ–¹æ³•ä¸­ï¼Œå…ˆè§£ç  msgï¼Œåˆ¤æ–­ InputChannel æ˜¯å¦å¯ç”¨ï¼Œå¦‚æœä¸å¯ç”¨ï¼Œåˆ™å–æ¶ˆå½“å‰ InputChannel çš„è®¢é˜…ã€‚å¦‚æœå¯ç”¨ï¼Œç»§ç»­è°ƒç”¨ decodeBufferOrEvent è¿›è¡Œå¤„ç†ã€‚decodeBufferOrEvent çš„æ ¸å¿ƒé€»è¾‘æ˜¯è°ƒç”¨ <code>RemoteInputChannel.onBuffer</code> æ–¹æ³•ï¼Œå°†æ•°æ®åŠ å…¥åˆ° receivedBuffers é˜Ÿåˆ—ã€‚</p>
<p>å¦‚æœ receivedBuffers é˜Ÿåˆ—åœ¨æ­¤ä¹‹å‰å¤„äºç©ºé—²çŠ¶æ€ï¼Œä¼šè°ƒç”¨ notifyChannelNonEmptyï¼Œå°†å½“å‰ RemoteInputChannel åŠ å…¥åˆ° inputChannelsWithData é˜Ÿåˆ—ä¸­ï¼ŒåŒæ—¶è¿˜ä¼šå”¤é†’ inputChannelsWithData ä¸Šçš„é˜»å¡çº¿ç¨‹ï¼Œè®© inputGate å¯ä»¥æ¶ˆè´¹ RemoteInputChannel çš„æ•°æ®ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> boolean <span class="hljs-title">queueChannelUnsafe</span>(<span class="hljs-params">InputChannel channel, boolean priority</span>)</span> {
    assert Thread.holdsLock(inputChannelsWithData);
    <span class="hljs-keyword">if</span> (channelsWithEndOfPartitionEvents.<span class="hljs-keyword">get</span>(channel.getChannelIndex())) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    final boolean alreadyEnqueued =
            enqueuedInputChannelsWithData.<span class="hljs-keyword">get</span>(channel.getChannelIndex());
    <span class="hljs-keyword">if</span> (alreadyEnqueued
            &amp;&amp; (!priority || inputChannelsWithData.containsPriorityElement(channel))) {
        <span class="hljs-comment">// already notified / prioritized (double notification), ignore</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// å½“å‰ inputChannel åŠ å…¥åˆ° inputChannelsWithData</span>
    inputChannelsWithData.<span class="hljs-keyword">add</span>(channel, priority, alreadyEnqueued);
    <span class="hljs-keyword">if</span> (!alreadyEnqueued) {
        enqueuedInputChannelsWithData.<span class="hljs-keyword">set</span>(channel.getChannelIndex());
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-comment">// å”¤é†’çº¿ç¨‹</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notifyDataAvailable</span>()</span> {
    availabilityMonitor.notifyAll();
    toNotify = inputGate.availabilityHelper.getUnavailableToResetAvailable();
}
</code></pre>
<p>å¦‚æœå®¢æˆ·ç«¯æœ‰ç§¯å‹ï¼Œè¿˜éœ€è¦æ ¹æ®ç§¯å‹ç”³è¯· Buffer å¹¶æ›´æ–° Credit å€¼ã€‚è¿™é‡Œç”³è¯·çš„ buffer æ•°é‡ä¸ºç§¯å‹æ•°é‡+åˆè¯† Credit å€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSenderBacklog</span><span class="hljs-params">(<span class="hljs-type">int</span> backlog)</span> <span class="hljs-keyword">throws</span> IOException {
    notifyBufferAvailable(bufferManager.requestFloatingBuffers(backlog + initialCredit));
}
</code></pre>
<p>å¦‚æœ RemoteInputChannel æ²¡æœ‰è¶³å¤Ÿçš„ bufferï¼Œåˆ™ä¼šå‘ LocalBufferPool ç”³è¯·æ–°çš„ bufferï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œä¼šåŠ ä¸€ä¸ªç›‘å¬ï¼Œç­‰ LocalBufferPool æœ‰ç©ºé—²æ—¶å†è§¦å‘ç”³è¯· bufferã€‚</p>
<pre><code class="hljs language-ini" lang="ini">private int tryRequestBuffers() {
    assert Thread.holdsLock(bufferQueue)<span class="hljs-comment">;</span>

    int <span class="hljs-attr">numRequestedBuffers</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    while (bufferQueue.getAvailableBufferSize() &lt; numRequiredBuffers
            &amp;&amp; !isWaitingForFloatingBuffers) {
        BufferPool <span class="hljs-attr">bufferPool</span> = inputChannel.inputGate.getBufferPool()<span class="hljs-comment">;</span>
        Buffer <span class="hljs-attr">buffer</span> = bufferPool.requestBuffer()<span class="hljs-comment">;</span>
        if (buffer != null) {
            bufferQueue.addFloatingBuffer(buffer)<span class="hljs-comment">;</span>
            numRequestedBuffers++<span class="hljs-comment">;</span>
        } else if (bufferPool.addBufferListener(this)) {
            <span class="hljs-attr">isWaitingForFloatingBuffers</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
            break<span class="hljs-comment">;</span>
        }
    }
    return numRequestedBuffers<span class="hljs-comment">;</span>
}
</code></pre>
<p>å½“ RemoteInputChannel ç”³è¯·åˆ°äº†éœ€è¦çš„ buffer ä¹‹åï¼Œå°±ä¼šå‘ NettyServer å‘é€ AddCredit æ¶ˆæ¯ï¼Œè¯·æ±‚æ›´æ–° Credit å€¼ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notifyCreditAvailable</span>() throws IOException</span> {
    checkPartitionRequestQueueInitialized();

    partitionRequestClient.notifyCreditAvailable(<span class="hljs-keyword">this</span>);
}


<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">notifyCreditAvailable</span>(<span class="hljs-params">RemoteInputChannel inputChannel</span>)</span> {
    sendToChannel(<span class="hljs-keyword">new</span> AddCreditMessage(inputChannel));
}
</code></pre>
<p>NettyServer æ”¶åˆ°è¯·æ±‚åï¼Œä¼šå°†å¯¹åº”çš„ Credit å€¼è¿›è¡Œæ›´æ–°ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">else if (<span class="hljs-attr">msgClazz</span> == AddCredit.class) {
    AddCredit <span class="hljs-attr">request</span> = (AddCredit) msg<span class="hljs-comment">;</span>

    outboundQueue.addCreditOrResumeConsumption(
            request.receiverId, reader -&gt; reader.addCredit(request.credit))<span class="hljs-comment">;</span>
}

void addCreditOrResumeConsumption(
        InputChannelID receiverId, Consumer&lt;NetworkSequenceViewReader&gt; operation)
        throws Exception {
    if (fatalError) {
        return<span class="hljs-comment">;</span>
    }

    NetworkSequenceViewReader <span class="hljs-attr">reader</span> = obtainReader(receiverId)<span class="hljs-comment">;</span>

    operation.accept(reader)<span class="hljs-comment">;</span>
    enqueueAvailableReader(reader)<span class="hljs-comment">;</span>
}


public void addCredit(int creditDeltas) {
    numCreditsAvailable += creditDeltas<span class="hljs-comment">;</span>
}
</code></pre>
<p>æ­¤å¤–ï¼ŒFlink è¿˜æœ‰ä¸¤ç§åœºæ™¯ä¼šæ›´æ–° Credit å€¼ã€‚</p>
<p>ä¸€ç§æ˜¯ LocalBufferPool å›æ”¶ç©ºé—² buffer æ—¶ï¼Œä¼šå°† buffer åˆ†é…ç»™ç”³è¯·è€…ï¼Œåˆ†é…ä¹‹åä¼šè°ƒç”¨å¯¹åº” InputChannel çš„ notifyBufferAvailable æ–¹æ³•é€šçŸ¥æ›´æ–° Creditã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91654d63dada40089adc39ddeaa32f16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=%2B6Q5%2FPKgLnUQeBSJ7%2BBwQflI7Ik%3D" alt="LocalBufferPool" loading="lazy"/></p>
<p>å¦ä¸€ç§æ˜¯ RemoteInputChannel ç‹¬å çš„ buffer é˜Ÿåˆ—é‡Šæ”¾ buffer æ—¶ï¼Œä¼šè§¦å‘ Credit æ›´æ–°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c5cb9fddc0d4e18802107951125230b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565606&amp;x-signature=T4scDtDnWrMIvABCUiom8RV0bTQ%3D" alt="BufferManager" loading="lazy"/></p>
<h3 data-id="heading-8">åå‹</h3>
<p>é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å…¶å®å·²ç»ç†è§£äº†åå‹çš„æœºåˆ¶äº†ã€‚å½“å‰ Flink çš„åå‹å°±æ˜¯é€šè¿‡ Credit æ¥å®ç°åå‹çš„ï¼Œå¦‚æœä¸‹æ¸¸æ•°æ®å¤„ç†é€Ÿåº¦æ…¢ï¼ŒCredit ä¼šè¢«è€—å°½ï¼Œä¸Šæ¸¸ä¹Ÿå°±ä¸ä¼šç»§ç»­å¤„ç†å’Œä¸‹å‘æ•°æ®äº†ã€‚ç›´åˆ°ä¸‹æ¸¸å¤„ç†å®Œæˆï¼Œæœ‰äº†ç©ºé—²çš„ bufferï¼Œæ­¤æ—¶å‘ä¸Šæ¸¸åé¦ˆæ›´æ–° Credit å€¼ï¼Œä¸Šæ¸¸å°±ä¼šç»§ç»­å¤„ç†æ•°æ®ã€‚</p>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>æœ€åæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ï¼Œæœ¬æ–‡æˆ‘ä»¬ä¸€èµ·æ¢³ç†äº† Flink Netty ç›¸å…³çš„æºç ã€‚åŒ…æ‹¬ NettyClient å’Œ NettyServer çš„åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šåˆ›å»ºä¸€ç³»åˆ— ChannelHandlerï¼Œä¹‹ååˆ©ç”¨è¿™äº›Handler å¤„ç†æ•°æ®ï¼Œæ•°æ®å¤„ç†åŒ…æ‹¬ Client ç«¯çš„å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ï¼ŒServer ç«¯å¤„ç†æ¶ˆæ¯çš„è¿‡ç¨‹ã€‚ä¸­é—´è¿˜ç©¿æ’ç€ Credit çš„å¤„ç†ã€‚Flink çš„åå‹é€»è¾‘å°±æ˜¯ä¾èµ–äº Credit æ¥å®ç°çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºå‡†æµ‹è¯•ï¼šAkamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 Blackwell]]></title>    <link>https://juejin.cn/post/7593173569871806516</link>    <guid>https://juejin.cn/post/7593173569871806516</guid>    <pubDate>2026-01-09T12:18:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593173569871806516" data-draft-id="7593224937075474484" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºå‡†æµ‹è¯•ï¼šAkamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 Blackwell"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,äº‘è®¡ç®—,æµ‹è¯•"/> <meta itemprop="datePublished" content="2026-01-09T12:18:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºå‡†æµ‹è¯•ï¼šAkamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 Blackwell
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:18:22.000Z" title="Fri Jan 09 2026 12:18:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0"><strong><strong>æ‰§è¡Œæ‘˜è¦</strong></strong></h4>
<p>åŸºå‡†æµ‹è¯•æ˜¾ç¤ºï¼Œåœ¨Akamaiäº‘ä¸Šè¿è¡Œçš„NVIDIA RTX PROâ„¢ 6000 Blackwellæ¨ç†ååé‡æ¯”H100æœ€é«˜æå‡1.63å€ï¼Œåœ¨100ä¸ªå¹¶å‘è¯·æ±‚ä¸‹æ¯å°æœåŠ¡å™¨è¾¾åˆ°24,240 TPSã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260109_blogarticles241" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260109_blogarticles241" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p>
<hr/>
<h4 data-id="heading-1"><strong><strong>ä¸ºAkamaiæ¨ç†äº‘è¿›è¡ŒåŸºå‡†æµ‹è¯•</strong></strong></h4>
<p>æœ¬å‘¨ï¼ŒAkamaiå®£å¸ƒæ¨å‡º<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fblog%2Fcloud%2Fai-edge-all-you-need%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260109_external1_blogarticles241" target="_blank" title="https://www.akamai.com/zh/blog/cloud/ai-edge-all-you-need?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260109_external1_blogarticles241" ref="nofollow noopener noreferrer">Akamaiæ¨ç†äº‘</a>ã€‚æˆ‘ä»¬å°†è‡ªèº«åœ¨å…¨çƒåˆ†å¸ƒå¼æ¶æ„æ–¹é¢çš„ä¸“ä¸šçŸ¥è¯†ä¸NVIDIA Blackwell AIåŸºç¡€è®¾æ–½ç›¸ç»“åˆï¼Œä»æ ¹æœ¬ä¸Šé‡æ–°æ€è€ƒå¹¶æ‰©å±•äº†é‡Šæ”¾AIçœŸæ­£æ½œåŠ›æ‰€éœ€çš„åŠ é€Ÿè®¡ç®—èƒ½åŠ›ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fblog%2Fcloud%2Fenabling-ai-everywhere-with-akamai-inference-cloud%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260109_external2_blogarticles241" target="_blank" title="https://www.akamai.com/zh/blog/cloud/enabling-ai-everywhere-with-akamai-inference-cloud?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260109_external2_blogarticles241" ref="nofollow noopener noreferrer">Akamaiæ¨ç†äº‘</a>å¹³å°å°†NVIDIA RTX PROâ„¢æœåŠ¡å™¨ï¼ˆé…å¤‡NVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUã€NVIDIA BlueField-3Â® DPUå’ŒNVIDIA AI Enterpriseè½¯ä»¶ï¼‰ä¸Akamaiçš„åˆ†å¸ƒå¼äº‘è®¡ç®—åŸºç¡€è®¾æ–½å’Œå…¨çƒè¾¹ç¼˜ç½‘ç»œï¼ˆåœ¨å…¨çƒæ‹¥æœ‰è¶…è¿‡4,400ä¸ªç«™ç‚¹ï¼‰ç›¸ç»“åˆã€‚</p>
<h4 data-id="heading-2"><strong><strong>é«˜æ•ˆã€é€šç”¨ä¸”ä¼˜åŒ–çš„GPU</strong></strong></h4>
<p>åˆ†å¸ƒå¼æ¨ç†å’Œä¸‹ä¸€ä»£æ™ºèƒ½ä½“ä½“éªŒéœ€è¦é«˜æ•ˆã€é€šç”¨å¹¶èƒ½é’ˆå¯¹å¹¶å‘å®æ—¶å·¥ä½œè´Ÿè½½è¿›è¡Œä¼˜åŒ–çš„GPUã€‚RTX PRO 6000 Blackwellå®Œå…¨æ»¡è¶³è¿™ä¸‰é¡¹è¦æ±‚ã€‚å…¶FP4ç²¾åº¦æ¨¡å¼ä»¥æ•°æ®ä¸­å¿ƒçº§GPUçš„ä¸€å°éƒ¨åˆ†åŠŸè€—å’Œæˆæœ¬æä¾›äº†å“è¶Šçš„ååé‡ï¼Œä½¿å¾—å°†å…¶éƒ¨ç½²åˆ°æ•°ç™¾ä¸ªç«™ç‚¹å˜å¾—åˆ‡å®å¯è¡Œã€‚</p>
<p>è¯¥æ¶æ„æ”¯æŒåœ¨å•ä¸ªGPUä¸Šå¹¶å‘å¤„ç†åŒ…æ‹¬æ–‡æœ¬ã€è§†è§‰å’Œè¯­éŸ³åœ¨å†…çš„å¤šæ¨¡æ€å·¥ä½œè´Ÿè½½ï¼Œå‡å°‘äº†å¯¹ä¸“ç”¨åŠ é€Ÿå™¨çš„éœ€æ±‚ï¼Œå¹¶é™åˆ¶äº†ä¸å¿…è¦çš„ç½‘ç»œæ•°æ®ä¼ è¾“ã€‚</p>
<p>NVIDIA RTX ProæœåŠ¡å™¨é’ˆå¯¹ä»£ç†å¼AIã€å·¥ä¸šå’Œç‰©ç†AIã€ç§‘å­¦è®¡ç®—ã€æ•°æ®åˆ†æä¸æ¨¡æ‹Ÿã€è§†è§‰è®¡ç®—å’Œä¼ä¸šåº”ç”¨ç­‰å·¥ä½œè´Ÿè½½è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<p>NVIDIAå¼ºè°ƒï¼Œè¿™äº›æœåŠ¡å™¨èƒ½å¤Ÿå®ç°é«˜è¾¾6å€çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-a-large-language-model%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260109_external3_blogarticles241" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-a-large-language-model?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260109_external3_blogarticles241" ref="nofollow noopener noreferrer">å¤§è¯­è¨€æ¨¡å‹</a>æ¨ç†ååé‡ã€4å€æ›´å¿«çš„åˆæˆæ•°æ®ç”Ÿæˆé€Ÿåº¦ã€7å€æ›´å¿«çš„åŸºå› ç»„åºåˆ—æ¯”å¯¹é€Ÿåº¦ã€3å€æ›´é«˜çš„å·¥ç¨‹æ¨¡æ‹Ÿååé‡ã€4å€æ›´ä½³çš„å®æ—¶æ¸²æŸ“æ€§èƒ½ï¼Œä»¥åŠ4å€æ›´å¤šçš„å¹¶å‘å¤šå®ä¾‹GPUå·¥ä½œè´Ÿè½½ã€‚</p>
<h4 data-id="heading-3"><strong><strong>æ€§èƒ½éªŒè¯</strong></strong></h4>
<p>ä¸ºäº†éªŒè¯æ€§èƒ½ï¼Œæˆ‘ä»¬æµ‹è¯•äº†åœ¨Akamaiäº‘ä¸Šè¿è¡Œçš„NVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUï¼Œå¹¶ä½¿ç”¨NVIDIA LaunchPadç¯å¢ƒå°†å…¶ä¸NVIDIA H100 NVL 96GBè¿›è¡Œäº†åŸºå‡†æ¯”è¾ƒã€‚</p>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯äº†è§£ï¼Œä¸ç›®å‰è¡Œä¸šçš„é»„é‡‘æ ‡å‡†ç›¸æ¯”ï¼Œä¸‹ä¸€ä»£RTX Pro 6000 GPUåœ¨å®é™…æ¨ç†å·¥ä½œè´Ÿè½½ä¸­çš„è¡¨ç°å¦‚ä½•ã€‚</p>
<h4 data-id="heading-4"><strong><strong>åŸºå‡†æµ‹è¯•ç»“æœå±•ç¤º</strong></strong></h4>
<p>åŸºå‡†æµ‹è¯•ç»“æœè¯å®äº†NVIDIA RTX Pro 6000 Blackwellåœ¨Akamaiäº‘ä¸Šçš„è®¾è®¡ä¼˜åŠ¿ã€‚</p>
<ul>
<li>ç›¸è¾ƒäºH100ï¼ˆFP8ï¼‰ï¼Œååé‡æå‡<strong><strong>1.63å€</strong></strong>ï¼Œè¿™è¡¨æ˜RTX Pro 6000 Blackwellä»¥æ›´å°å·§ã€æ›´æ˜“äºéƒ¨ç½²çš„è§„æ ¼æä¾›äº†æ•°æ®ä¸­å¿ƒçº§çš„æ€§èƒ½ï¼Œéå¸¸é€‚åˆäºåˆ†å¸ƒå¼ç¯å¢ƒã€‚</li>
<li>ä»FP8åˆ‡æ¢åˆ°FP4å¸¦æ¥çš„<strong><strong>1.32å€</strong></strong>æ€§èƒ½æå‡ï¼Œå±•ç¤ºäº†NVIDIAçš„ç²¾åº¦æ•ˆç‡å¦‚ä½•ç›´æ¥è½¬åŒ–ä¸ºåœ¨è¾¹ç¼˜æ›´å¿«ã€æ›´å…·æˆæœ¬æ•ˆç›Šçš„æ¨ç†ã€‚</li>
<li>åœ¨<strong><strong>100+å¹¶å‘è¯·æ±‚</strong></strong>ä¸‹ä¿æŒç¨³å®šçš„æ€§èƒ½ï¼ŒéªŒè¯äº†è¯¥GPUå¤„ç†å…¨çƒåˆ†å¸ƒå¼æ¨ç†ä¸­å¤šç§Ÿæˆ·ã€å¯¹å»¶è¿Ÿæ•æ„Ÿçš„å·¥ä½œè´Ÿè½½çš„èƒ½åŠ›ã€‚</li>
</ul>
<p>ç»¼åˆæ¥çœ‹ï¼Œè¿™äº›ç»“æœè¡¨æ˜ï¼ŒBlackwellçš„æ•ˆç‡å’Œå¹¶å‘æ€§ä¼˜åŠ¿ä½¿å…¶æˆä¸ºAkamaiåˆ†å¸ƒå¼æ¨ç†æ¶æ„çš„ç†æƒ³åŸºç¡€ï¼Œèƒ½å¤Ÿåœ¨æˆ‘ä»¬çš„å…¨çƒç½‘ç»œä¸­æä¾›é«˜ååã€ä½å»¶è¿Ÿå’Œå¯æ‰©å±•çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-5"><strong><strong>åŸºå‡†æµ‹è¯•æ¦‚è¿°</strong></strong></h4>
<p>æˆ‘ä»¬éµå¾ªNVIDIAçš„åŸºå‡†æµ‹è¯•æ–¹æ³•æ¥è¯„ä¼°ä¸€è‡´è´Ÿè½½æ¡ä»¶ä¸‹çš„æ¨ç†æ€§èƒ½ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»è®¾ç½®ã€æ–¹æ³•å’Œå…³é”®å‘ç°ï¼Œå¹¶è®¨è®ºè¿™äº›ç»“æœå¯¹åœ¨Akamaiäº‘ä¸Šè¿è¡ŒAIå·¥ä½œè´Ÿè½½çš„æ„ä¹‰ã€‚</p>
<p><strong><strong>è®¾ç½®</strong></strong></p>
<p>ä¸ºäº†è¯„ä¼°Akamaiäº‘ä¸Šçš„NVIDIA RTX Pro 6000 GPUï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<strong><strong>Llama-3.3-Nemotron-Super-49B-v1.5</strong></strong>æ¨¡å‹ï¼Œè¿™æ˜¯ä¸€ä¸ªæºäºMeta Llama-3.3-70B-Instructï¼ˆå³å‚è€ƒæ¨¡å‹ï¼‰çš„å¤§è¯­è¨€æ¨¡å‹ã€‚å®ƒæ˜¯ä¸€ä¸ªé’ˆå¯¹æ¨ç†ã€äººç±»èŠå¤©åå¥½ä»¥åŠæ™ºèƒ½ä½“ä»»åŠ¡ï¼ˆå¦‚RAGå’Œå·¥å…·è°ƒç”¨ï¼‰è¿›è¡Œåè®­ç»ƒçš„æ¨ç†æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬ä¸ºåŒä¸€æ¨¡å‹ä½¿ç”¨äº†ä¸¤ä¸ªNVIDIAæ¨ç†å¾®æœåŠ¡é…ç½®æ–‡ä»¶ï¼Œä»¥æ¯”è¾ƒç²¾åº¦æ¨¡å¼å¹¶äº†è§£å…¶å¯¹æ€§èƒ½å’Œæ•ˆç‡çš„å½±å“ã€‚è¿™ä¸¤ä¸ªé…ç½®æ–‡ä»¶â€”â€”tensorrt_llm-rtx6000_blackwell_sv-fp8-tp1-pp1-throughput-2bb5Â å’ŒÂ tensorrt_llm-rtx6000_blackwell_sv-nvfp4-tp1-pp1-throughput-2bb5â€”â€”é™¤äº†ç²¾åº¦è®¾ç½®å¤–å®Œå…¨ç›¸åŒã€‚</p>
<p>ç¬¬ä¸€ä¸ªä½¿ç”¨<strong><strong>FP8</strong></strong>ç²¾åº¦ï¼Œç¬¬äºŒä¸ªä½¿ç”¨NVIDIAçš„<strong><strong>FP4</strong></strong>ç²¾åº¦ã€‚NVIDIAçš„FP4ç‰ˆæœ¬ç›´æ¥åœ¨NVIDIA Blackwell GPUä¸­å¾—åˆ°æ”¯æŒã€‚</p>
<p>é€šè¿‡è¿è¡Œä¸¤è€…ï¼Œæˆ‘ä»¬æ—¨åœ¨è§‚å¯Ÿé™ä½æ•°å€¼ç²¾åº¦å¦‚ä½•å½±å“ååé‡å’Œå»¶è¿Ÿã€‚NVFP4ä»¥ä½äº1%çš„ç²¾åº¦æŸå¤±å¸¦æ¥äº†æ˜¾è‘—çš„æ€§èƒ½å’Œæ•ˆç‡æå‡ï¼Œå®ç°äº†æ›´å¿«ã€æ›´ä½åŠŸè€—çš„å¤§è§„æ¨¡æ¨ç†ï¼Œè€ŒFP8åˆ™æä¾›äº†æ›´é«˜çš„æ•°å€¼ç²¾åº¦ã€‚æ¯”è¾ƒä¸¤è€…æœ‰åŠ©äºä¸ºå®é™…å·¥ä½œè´Ÿè½½ç¡®å®šé€Ÿåº¦ã€æ•ˆç‡å’Œæ¨ç†ä¿çœŸåº¦ä¹‹é—´çš„æœ€ä½³æƒè¡¡ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä½äºAkamaiäº‘LAXæ•°æ®ä¸­å¿ƒçš„NVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUä¸Šè¿è¡Œäº†æµ‹è¯•ã€‚ä¸ºäº†è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬ä½¿ç”¨äº†NVIDIA LaunchPadç¯å¢ƒä¸­çš„NVIDIA H100 GPUã€‚</p>
<p><strong><strong>æ–¹æ³•è®º</strong></strong></p>
<p>å¯¹äºæ­¤åŸºå‡†æµ‹è¯•ï¼Œæˆ‘ä»¬è¿è¡Œäº†ä¸€ä¸ªæ—¨åœ¨æµ‹é‡ç°å®è´Ÿè½½æ¡ä»¶ä¸‹åŸºçº¿æ¨ç†æ€§èƒ½çš„å‹åŠ›æµ‹è¯•ã€‚æ¯ä¸ªè¯·æ±‚å¤„ç†200ä¸ªè¾“å…¥ä»¤ç‰Œå¹¶ç”Ÿæˆ200ä¸ªè¾“å‡ºä»¤ç‰Œï¼Œä»£è¡¨äº†å¤§è¯­è¨€æ¨¡å‹å…¸å‹çš„çŸ­æç¤º-å“åº”äº¤äº’ã€‚</p>
<p>ä¸ºäº†æµ‹è¯•å¯æ‰©å±•æ€§å’Œä¸€è‡´æ€§ï¼Œæˆ‘ä»¬æ‰§è¡Œäº†<strong><strong>100ä¸ªå¹¶å‘è¿è¡Œ</strong></strong>ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè§‚å¯Ÿç³»ç»Ÿå¤„ç†æŒç»­åŒæ—¶æ¨ç†é‡æ—¶çš„ååé‡å’Œå»¶è¿Ÿè¡Œä¸ºã€‚è¿™ç§æ–¹æ³•æä¾›äº†æ¨¡å‹å’Œç¡¬ä»¶åœ¨ç”Ÿäº§ç±»å·¥ä½œè´Ÿè½½ä¸‹æ€§èƒ½çš„ä¸€ä¸ªå—æ§ä½†å…·æœ‰ä»£è¡¨æ€§çš„å¿«ç…§ã€‚</p>
<p>æˆ‘ä»¬æµ‹é‡äº†ä¸¤ä¸ªå…³é”®æŒ‡æ ‡ï¼š<strong><strong>é¦–ä»¤ç‰Œæ—¶é—´ï¼ˆTTFTï¼‰<strong><strong>å’Œ</strong></strong>æ¯ç§’ä»¤ç‰Œæ•°ï¼ˆTPSï¼‰</strong></strong>ã€‚TTFTä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œè¡¡é‡æ¨¡å‹åœ¨æ”¶åˆ°æç¤ºåå¼€å§‹ç”Ÿæˆå“åº”çš„é€Ÿåº¦â€”â€”è¿™æ˜¯å»¶è¿Ÿå’Œç”¨æˆ·æ„ŸçŸ¥å“åº”æ€§çš„é‡è¦æŒ‡æ ‡ã€‚TPSè¡¡é‡æ•´ä½“ååé‡ï¼Œæ˜¾ç¤ºç³»ç»Ÿåœ¨ç”Ÿæˆå¼€å§‹åæ¯ç§’å¯ä»¥ç”Ÿæˆå¤šå°‘ä»¤ç‰Œã€‚</p>
<p>ä¸¤è€…ç»“åˆæä¾›äº†ç°å®ä¸–ç•Œæ€§èƒ½çš„å¹³è¡¡è§†å›¾ï¼Œåæ˜ äº†åˆå§‹æ¨ç†çš„é€Ÿåº¦ä»¥åŠè´Ÿè½½ä¸‹çš„æŒç»­è¾“å‡ºæ•ˆç‡ã€‚</p>
<p>ä½œä¸ºåŸºå‡†æµ‹è¯•æ–¹æ³•çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿è¡Œäº†ä¸¤ç»„æµ‹è¯•æ¥è¯„ä¼°NVIDIA RTX 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUçš„æ€§èƒ½ç‰¹å¾ã€‚</p>
<ol>
<li><strong><strong>FP4ä¸FP8ç²¾åº¦æ¯”è¾ƒ</strong></strong><br/>
æˆ‘ä»¬åœ¨åŒä¸€æ¨¡å‹ä¸Šæµ‹è¯•äº†ä¸¤ä¸ªNIMé…ç½®æ–‡ä»¶â€”â€”ä¸€ä¸ªä½¿ç”¨<strong><strong>FP8</strong></strong>ç²¾åº¦ï¼Œå¦ä¸€ä¸ªä½¿ç”¨FP4ç²¾åº¦â€”â€”ä»¥è¡¡é‡NVIDIAæ–°å‹<strong><strong>FP4</strong></strong>é‡åŒ–å¯¹æ¨ç†æ€§èƒ½çš„å½±å“ã€‚NVIDIAå¼ºè°ƒFP4æ˜¯æ•ˆç‡å’Œååé‡æ–¹é¢çš„ä¸€é¡¹é‡å¤§è¿›æ­¥ã€‚</li>
<li><strong><strong>RTX 6000ä¸H100 GPUæ¯”è¾ƒ</strong></strong><br/>
ç„¶åï¼Œæˆ‘ä»¬å°†<strong><strong>RTX 6000 Blackwell</strong></strong>çš„ç»“æœä¸åœ¨<strong><strong>NVIDIA LaunchPad</strong></strong>ç¯å¢ƒä¸­è¿è¡Œçš„<strong><strong>H100 GPU</strong></strong>è¿›è¡Œäº†æ¯”è¾ƒï¼Œé€šè¿‡æŸ¥çœ‹ä¸¤ä¸ªNIMé…ç½®æ–‡ä»¶<strong><strong>FP8</strong></strong>åŠ<strong><strong>FP4</strong></strong>æ¥è¯„ä¼°å®é™…æ¨ç†ä¼˜åŠ¿ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿè¯„ä¼°RTX 6000ä¸ä»…åœ¨ä¸åŒç²¾åº¦æ¨¡å¼ä¸‹çš„è¡¨ç°ï¼Œè¿˜ä¸NVIDIAå½“å‰çš„æ•°æ®ä¸­å¿ƒGPUæ ‡å‡†è¿›è¡Œå¯¹æ¯”ã€‚</li>
</ol>
<p><strong><strong>è¯¦ç»†ç»“æœ</strong></strong></p>
<p>æˆ‘ä»¬ç¡®å®š<strong><strong>æœ€ä½³å¹¶å‘çº§åˆ«ä¸º100</strong></strong>â€”â€”å³åœ¨100ä¸ªåŒæ—¶æ¨ç†è¯·æ±‚ä¸‹ï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°äº†æœ€ç¨³å®šå’Œæœ€å…·ä»£è¡¨æ€§çš„æ€§èƒ½ç»“æœã€‚åœ¨C=100æ—¶ï¼ŒRTX 6000ä»FP8åˆ‡æ¢åˆ°FP4ç²¾åº¦å¸¦æ¥äº†<strong><strong>1.32å€</strong></strong>çš„æ€§èƒ½æå‡ï¼Œæ˜¾ç¤ºäº†NVIDIA FP4é‡åŒ–çš„æ•ˆç‡å¢ç›Šã€‚</p>
<p>ä¸ä½¿ç”¨FP8ç²¾åº¦çš„H100ç›¸æ¯”ï¼ŒRTX Pro 6000 BlackwellæœåŠ¡å™¨åœ¨ä½¿ç”¨NVFP4ç²¾åº¦æ—¶å®ç°äº†<strong><strong>1.63å€</strong></strong>çš„æ€§èƒ½æå‡ã€‚å³ä½¿ä½¿ç”¨FP8ï¼ŒBlackwellæœåŠ¡å™¨ä¹Ÿå±•ç¤ºäº†<strong><strong>1.21å€</strong></strong>çš„ä¼˜åŠ¿ï¼Œæ˜¾ç¤ºäº†è¶…è¶Šæ—§FP8æ ¼å¼çš„ä¸‹ä¸€ä»£æ¨ç†ä¼˜åŒ–ã€‚</p>
<p>æ€»ä½“è€Œè¨€ï¼Œåœ¨æ­¤å¹¶å‘çº§åˆ«ä¸‹ï¼ŒRTX Pro 6000 BlackwellæœåŠ¡å™¨å®ç°äº†<strong><strong>3,030.01 TPS</strong></strong>ï¼Œè¿™ç›¸å½“äºæˆ‘ä»¬åŸºç¡€è®¾æ–½å³æœåŠ¡ï¼ˆIaaSï¼‰è™šæ‹Ÿæœºäº§å“å¯æä¾›é«˜è¾¾<strong><strong>24,240.08 TPS</strong></strong>ï¼Œçªæ˜¾äº†Blackwellæ¶æ„åœ¨Akamaiäº‘ä¸Šå¼ºå¤§çš„æ¨ç†æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h4 data-id="heading-6"><strong><strong>æµ‹è¯•1ï¼šFP8ä¸FP4ç²¾åº¦æ¯”è¾ƒ</strong></strong></h4>
<p>RTX Pro 6000 Blackwell FP8ä¸FP4çš„æ€§èƒ½ç»“æœã€‚</p>
<p><strong><strong>LAXï¼šNVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ FP8</strong></strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97dcc1f923be419eb98312be84387ba1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=8xXj7bfALNZ4H2aLJlBK5fqf8RM%3D" alt="" loading="lazy"/></p>
<p><strong><strong>LAXï¼šNVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ FP4</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef4eafab5ac64fc29eeec53b3e1dcc89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=hizz9DHt833P2ruK6rXaQl8GssI%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong><strong>æµ‹è¯•2ï¼šRTX Pro 6000 BlackwellæœåŠ¡å™¨ä¸H100 GPUæ¯”è¾ƒ</strong></strong></p>
<p>H100 NVL FP8ä¸RTX Pro 6000 BlackwellæœåŠ¡å™¨ FP8å’ŒFP4çš„æ€§èƒ½ç»“æœæ¯”è¾ƒã€‚</p>
<p><strong><strong>LaunchPadï¼šH100 NVL FP8</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f10c3ab58ea416e8109eb8ba79ee30a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=PRTVdLCl2%2F4DOGy96V7Xvzki8W0%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong><strong>LaunchPadï¼šNVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ FP8</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/716ba7039620466da287b23c3b85973b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=5%2B83fMvTL8vPnHdFE%2BggyCAhjfM%3D" alt="" loading="lazy"/></strong></strong></p>
<p><strong><strong>LaunchPadï¼šNVIDIA RTX PRO 6000 BlackwellæœåŠ¡å™¨ FP4</strong></strong></p>
<p><strong><strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66603aaa9e4e4d819e985e549430ad60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUtBTUFJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768565902&amp;x-signature=125IgRqFZWKwU6SV6uS2wPiq47U%3D" alt="" loading="lazy"/></strong></strong></p>
<h4 data-id="heading-7"><strong><strong>ç»“è®º</strong></strong></h4>
<p>æœ¬æ¬¡åŸºå‡†æµ‹è¯•æ—¨åœ¨è¯„ä¼°NVIDIA RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆGPUåœ¨Akamaiäº‘ä¸Šæ‰§è¡ŒLLMæ¨ç†çš„è¡¨ç°ï¼Œä»¥åŠåœ¨ç›¸ä¼¼å‡è®¾ä¸‹ä¸NVIDIA H100 GPUçš„æ¯”è¾ƒã€‚ä½¿ç”¨NVIDIAæ¨èçš„åŸºå‡†æµ‹è¯•æ–¹æ³•ï¼Œæˆ‘ä»¬æµ‹è¯•äº†FP8å’ŒFP4ä¸¤ç§ç²¾åº¦æ¨¡å¼ï¼Œä»¥äº†è§£æ€§èƒ½ã€æ•ˆç‡å’Œå»¶è¿Ÿä¹‹é—´çš„æƒè¡¡ã€‚</p>
<p>ç»“æœæ¸…æ¥šåœ°è¡¨æ˜ï¼ŒFP4å¸¦æ¥äº†å¯è¡¡é‡çš„å¢ç›Šï¼Œåœ¨RTX 6000ä¸Šç›¸æ¯”FP8ååé‡æå‡<strong><strong>1.32å€</strong></strong>ã€‚ä¸FP8ä¸‹çš„H100ç›¸æ¯”ï¼ŒRTX 6000ï¼ˆFP4ï¼‰å®ç°äº†<strong><strong>1.63å€</strong></strong>çš„æ€§èƒ½æå‡ï¼Œçªæ˜¾äº†Blackwellæ¶æ„åœ¨æ¨ç†å·¥ä½œè´Ÿè½½æ–¹é¢çš„æ½œåŠ›ã€‚</p>
<p>è¿™äº›å‘ç°è¡¨æ˜ï¼Œåœ¨Akamaiåˆ†å¸ƒå¼äº‘ä¸Šè¿è¡Œçš„RTX 6000 GPUèƒ½å¤Ÿä»¥æ›´ä½çš„æˆæœ¬å’Œå»¶è¿Ÿä¸ºå®é™…AIæ¨ç†æä¾›é«˜ååé‡å’Œé«˜æ•ˆçš„æ‰©å±•ã€‚å¯¹äºæ­£åœ¨è¯„ä¼°GPUæ–¹æ¡ˆçš„å›¢é˜Ÿè€Œè¨€ï¼Œè¿™ç§ç»„åˆèƒ½åœ¨å…¨çƒèŒƒå›´å†…è¾¾æˆé€Ÿåº¦ã€æ•ˆç‡ä¸å¯åŠæ€§çš„å“è¶Šå¹³è¡¡ã€‚</p>
<h4 data-id="heading-8"><strong><strong>è·å–è®¿é—®æƒé™</strong></strong></h4>
<p>æ³¨å†Œä»¥è·å–åœ¨Akamaiæ¨ç†äº‘ä¸Šä½¿ç”¨RTX Pro 6000 BlackwellæœåŠ¡å™¨ç‰ˆçš„è®¿é—®æƒé™ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260109_blogarticles241_end" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260109_blogarticles241_end" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä»¬æ¥è¯´è¯´ Cookieã€Sessionã€Tokenã€JWT]]></title>    <link>https://juejin.cn/post/7593187953271881728</link>    <guid>https://juejin.cn/post/7593187953271881728</guid>    <pubDate>2026-01-09T12:57:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593187953271881728" data-draft-id="7593193235251150900" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä»¬æ¥è¯´è¯´ Cookieã€Sessionã€Tokenã€JWT"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-09T12:57:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å‡"/> <meta itemprop="url" content="https://juejin.cn/user/2285197690931932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä»¬æ¥è¯´è¯´ Cookieã€Sessionã€Tokenã€JWT
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285197690931932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T12:57:19.000Z" title="Fri Jan 09 2026 12:57:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯è®¤è¯ï¼ˆAuthenticationï¼‰</h2>
<ul>
<li>é€šä¿—åœ°è®²å°±æ˜¯éªŒè¯å½“å‰ç”¨æˆ·çš„èº«ä»½ï¼Œè¯æ˜â€œä½ æ˜¯ä½ è‡ªå·±â€ï¼ˆæ¯”å¦‚ï¼šä½ æ¯å¤©ä¸Šä¸‹ç­æ‰“å¡ï¼Œéƒ½éœ€è¦é€šè¿‡æŒ‡çº¹æ‰“å¡ï¼Œå½“ä½ çš„æŒ‡çº¹å’Œç³»ç»Ÿé‡Œå½•å…¥çš„æŒ‡çº¹ç›¸åŒ¹é…æ—¶ï¼Œå°±æ‰“å¡æˆåŠŸï¼‰</li>
<li>äº’è”ç½‘ä¸­çš„è®¤è¯ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨æˆ·åå¯†ç ç™»å½•</li>
<li>é‚®ç®±å‘é€ç™»å½•é“¾æ¥</li>
<li>æ‰‹æœºå·æ¥æ”¶éªŒè¯ç </li>
<li>åªè¦ä½ èƒ½æ”¶åˆ°é‚®ç®±/éªŒè¯ç ï¼Œå°±é»˜è®¤ä½ æ˜¯è´¦å·çš„ä¸»äºº</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯æˆæƒï¼ˆAuthorizationï¼‰</h2>
<ul>
<li>ç”¨æˆ·æˆäºˆç¬¬ä¸‰æ–¹åº”ç”¨è®¿é—®è¯¥ç”¨æˆ·æŸäº›èµ„æºçš„æƒé™</li>
</ul>

<ul>
<li>
<ul>
<li>åœ¨å®‰è£…æ‰‹æœºåº”ç”¨çš„æ—¶å€™ï¼ŒAPP ä¼šè¯¢é—®æ˜¯å¦å…è®¸æˆäºˆæƒé™ï¼ˆè®¿é—®ç›¸å†Œã€åœ°ç†ä½ç½®ç­‰æƒé™ï¼‰</li>
<li>åœ¨è®¿é—®å¾®ä¿¡å°ç¨‹åºæ—¶ï¼Œå½“ç™»å½•æ—¶ï¼Œå°ç¨‹åºä¼šè¯¢é—®æ˜¯å¦å…è®¸æˆäºˆæƒé™ï¼ˆè·å–æ˜µç§°ã€å¤´åƒã€åœ°åŒºã€æ€§åˆ«ç­‰ä¸ªäººä¿¡æ¯ï¼‰</li>
</ul>
</li>
</ul>

<ul>
<li>å®ç°æˆæƒçš„æ–¹å¼æœ‰ï¼šcookieã€sessionã€tokenã€OAuth</li>
</ul>
<h2 data-id="heading-2">ä»€ä¹ˆæ˜¯å‡­è¯ï¼ˆCredentialsï¼‰</h2>
<ul>
<li>å®ç°è®¤è¯å’Œæˆæƒçš„å‰ææ˜¯éœ€è¦ä¸€ç§åª’ä»‹ï¼ˆè¯ä¹¦ï¼‰æ¥æ ‡è®°è®¿é—®è€…çš„èº«ä»½</li>
</ul>

<ul>
<li>
<ul>
<li>åœ¨æˆ˜å›½æ—¶æœŸï¼Œå•†é…å˜æ³•ï¼Œå‘æ˜äº†ç…§èº«å¸–ã€‚ç…§èº«å¸–ç”±å®˜åºœå‘æ”¾ï¼Œæ˜¯ä¸€å—æ‰“ç£¨å…‰æ»‘ç»†å¯†çš„ç«¹æ¿ï¼Œä¸Šé¢åˆ»æœ‰æŒæœ‰äººçš„å¤´åƒå’Œç±è´¯ä¿¡æ¯ã€‚å›½äººå¿…é¡»æŒæœ‰ï¼Œå¦‚è‹¥æ²¡æœ‰å°±è¢«è®¤ä¸ºæ˜¯é»‘æˆ·ï¼Œæˆ–è€…é—´è°ä¹‹ç±»çš„ã€‚</li>
<li>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæ¯ä¸ªäººéƒ½ä¼šæœ‰ä¸€å¼ ä¸“å±çš„å±…æ°‘èº«ä»½è¯ï¼Œæ˜¯ç”¨äºè¯æ˜æŒæœ‰äººèº«ä»½çš„ä¸€ç§æ³•å®šè¯ä»¶ã€‚é€šè¿‡èº«ä»½è¯ï¼Œå¯ä»¥åŠç†æ‰‹æœºå¡/é“¶è¡Œå¡/ä¸ªäººè´·æ¬¾/äº¤é€šå‡ºè¡Œç­‰ç­‰ï¼Œè¿™å°±æ˜¯è®¤è¯çš„å‡­è¯ã€‚</li>
<li>åœ¨äº’è”ç½‘åº”ç”¨ä¸­ï¼Œä¸€èˆ¬ç½‘ç«™ï¼ˆå¦‚æ˜é‡‘ï¼‰ä¼šæœ‰ä¸¤ç§æ¨¡å¼ï¼Œæ¸¸å®¢æ¨¡å¼å’Œç™»å½•æ¨¡å¼ã€‚æ¸¸å®¢æ¨¡å¼ä¸‹ï¼Œå¯ä»¥æ­£å¸¸æµè§ˆç½‘ç«™ä¸Šé¢çš„æ–‡ç« ï¼Œä¸€æ—¦æƒ³è¦ç‚¹èµ/æ”¶è—/åˆ†äº«æ–‡ç« ï¼Œå°±éœ€è¦ç™»å½•æˆ–è€…æ³¨å†Œè´¦å·ã€‚å½“ç”¨æˆ·ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡å™¨ä¼šç»™è¯¥ç”¨æˆ·ä½¿ç”¨çš„æµè§ˆå™¨é¢å‘ä¸€ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œè¿™ä¸ªä»¤ç‰Œç”¨æ¥è¡¨æ˜èº«ä»½ï¼Œæ¯æ¬¡æµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ä¼šå¸¦ä¸Šè¿™ä¸ªä»¤ç‰Œï¼Œå°±å¯ä»¥ä½¿ç”¨æ¸¸å®¢æ¨¡å¼ä¸‹æ— æ³•ä½¿ç”¨çš„åŠŸèƒ½ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">ä»€ä¹ˆæ˜¯ Cookie</h2>
<ul>
<li>HTTP æ˜¯æ— çŠ¶æ€çš„åè®®ï¼ˆå¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼Œæ¯æ¬¡å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¼šè¯å®Œæˆæ—¶ï¼ŒæœåŠ¡ç«¯ä¸ä¼šä¿å­˜ä»»ä½•ä¼šè¯ä¿¡æ¯ï¼‰ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼ŒæœåŠ¡ç«¯æ— æ³•ç¡®è®¤å½“å‰è®¿é—®è€…çš„èº«ä»½ä¿¡æ¯ï¼Œæ— æ³•åˆ†è¾¨ä¸Šä¸€æ¬¡çš„è¯·æ±‚å‘é€è€…å’Œè¿™ä¸€æ¬¡çš„å‘é€è€…æ˜¯ä¸æ˜¯åŒä¸€ä¸ªäººã€‚æ‰€ä»¥æœåŠ¡å™¨ä¸æµè§ˆå™¨ä¸ºäº†è¿›è¡Œä¼šè¯è·Ÿè¸ªï¼ˆçŸ¥é“æ˜¯è°åœ¨è®¿é—®ï¼‰ï¼Œå°±å¿…é¡»ä¸»åŠ¨çš„å»ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€ç”¨äºå‘ŠçŸ¥æœåŠ¡ç«¯å‰åä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªåŒä¸€æµè§ˆå™¨ã€‚è€Œè¿™ä¸ªçŠ¶æ€éœ€è¦é€šè¿‡ cookie æˆ–è€… session å»å®ç°ã€‚</li>
<li>cookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼šcookie æ˜¯æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„ä¸€å°å—æ•°æ®ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚</li>
<li>cookie æ˜¯ä¸å¯è·¨åŸŸçš„ï¼šæ¯ä¸ª cookie éƒ½ä¼šç»‘å®šå•ä¸€çš„åŸŸåï¼Œæ— æ³•åœ¨åˆ«çš„åŸŸåä¸‹è·å–ä½¿ç”¨ï¼Œä¸€çº§åŸŸåå’ŒäºŒçº§åŸŸåä¹‹é—´æ˜¯å…è®¸å…±äº«ä½¿ç”¨çš„ï¼ˆé çš„æ˜¯ domainï¼‰ã€‚</li>
</ul>
<p>cookie é‡è¦çš„å±æ€§</p>





































<table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>name=value</td><td>é”®å€¼å¯¹ï¼Œè®¾ç½® Cookie çš„åç§°åŠç›¸å¯¹åº”çš„å€¼ï¼Œéƒ½å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹ - å¦‚æœå€¼ä¸º Unicode å­—ç¬¦ï¼Œéœ€è¦ä¸ºå­—ç¬¦ç¼–ç ã€‚- å¦‚æœå€¼ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼Œåˆ™éœ€è¦ä½¿ç”¨ BASE64 ç¼–ç ã€‚</td></tr><tr><td>domain</td><td>æŒ‡å®š cookie æ‰€å±åŸŸåï¼Œé»˜è®¤æ˜¯å½“å‰åŸŸå</td></tr><tr><td>path</td><td>æŒ‡å®š cookie åœ¨å“ªä¸ªè·¯å¾„ï¼ˆè·¯ç”±ï¼‰ä¸‹ç”Ÿæ•ˆï¼Œé»˜è®¤æ˜¯ â€˜/â€˜ã€‚å¦‚æœè®¾ç½®ä¸º/abcï¼Œåˆ™åªæœ‰/abcä¸‹çš„è·¯ç”±å¯ä»¥è®¿é—®åˆ°è¯¥ cookieï¼Œå¦‚ï¼š/abc/readã€‚</td></tr><tr><td>maxAge</td><td>cookie å¤±æ•ˆçš„æ—¶é—´ï¼Œå•ä½ç§’ã€‚å¦‚æœä¸ºæ•´æ•°ï¼Œåˆ™è¯¥ cookie åœ¨ maxAge ç§’åå¤±æ•ˆã€‚å¦‚æœä¸ºè´Ÿæ•°ï¼Œè¯¥ cookie ä¸ºä¸´æ—¶ cookie ï¼Œå…³é—­æµè§ˆå™¨å³å¤±æ•ˆï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šä»¥ä»»ä½•å½¢å¼ä¿å­˜è¯¥ cookie ã€‚å¦‚æœä¸º 0ï¼Œè¡¨ç¤ºåˆ é™¤è¯¥ cookie ã€‚é»˜è®¤ä¸º -1ã€‚-æ¯” expires å¥½ç”¨ã€‚</td></tr><tr><td>expires</td><td>è¿‡æœŸæ—¶é—´ï¼Œåœ¨è®¾ç½®çš„æŸä¸ªæ—¶é—´ç‚¹åè¯¥ cookie å°±ä¼šå¤±æ•ˆã€‚ä¸€èˆ¬æµè§ˆå™¨çš„ cookie éƒ½æ˜¯é»˜è®¤å‚¨å­˜çš„ï¼Œå½“å…³é—­æµè§ˆå™¨ç»“æŸè¿™ä¸ªä¼šè¯çš„æ—¶å€™ï¼Œè¿™ä¸ª cookie ä¹Ÿå°±ä¼šè¢«åˆ é™¤</td></tr><tr><td>secure</td><td>è¯¥ cookie æ˜¯å¦ä»…è¢«ä½¿ç”¨å®‰å…¨åè®®ä¼ è¾“ã€‚å®‰å…¨åè®®æœ‰ HTTPSï¼ŒSSLç­‰ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“æ•°æ®ä¹‹å‰å…ˆå°†æ•°æ®åŠ å¯†ã€‚é»˜è®¤ä¸ºfalseã€‚å½“ secure å€¼ä¸º true æ—¶ï¼Œcookie åœ¨ HTTP ä¸­æ˜¯æ— æ•ˆï¼Œåœ¨ HTTPS ä¸­æ‰æœ‰æ•ˆã€‚</td></tr><tr><td>httpOnly</td><td>å¦‚æœç»™æŸä¸ª cookie è®¾ç½®äº† httpOnly å±æ€§ï¼Œåˆ™æ— æ³•é€šè¿‡ JS è„šæœ¬ è¯»å–åˆ°è¯¥ cookie çš„ä¿¡æ¯ï¼Œä½†è¿˜æ˜¯èƒ½é€šè¿‡ Application ä¸­æ‰‹åŠ¨ä¿®æ”¹ cookieï¼Œæ‰€ä»¥åªæ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥é˜²æ­¢ XSS æ”»å‡»ï¼Œä¸æ˜¯ç»å¯¹çš„å®‰å…¨</td></tr></tbody></table>
<h2 data-id="heading-4">ä»€ä¹ˆæ˜¯ Session</h2>
<ul>
<li>session æ˜¯å¦ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶</li>
<li>session æ˜¯åŸºäº cookie å®ç°çš„ï¼Œsession å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼ŒsessionId ä¼šè¢«å­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„cookie ä¸­</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a859eaee2a24037b837ee0c9a1edfec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=gOS9fkxOKw%2Fep58t63nVbKuRI9w%3D" alt="" loading="lazy"/></p>
<ul>
<li>session è®¤è¯æµç¨‹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æ ¹æ®ç”¨æˆ·æäº¤çš„ç›¸å…³ä¿¡æ¯ï¼Œåˆ›å»ºå¯¹åº”çš„ Session</li>
<li>è¯·æ±‚è¿”å›æ—¶å°†æ­¤ Session çš„å”¯ä¸€æ ‡è¯†ä¿¡æ¯ SessionID è¿”å›ç»™æµè§ˆå™¨</li>
<li>æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ SessionID ä¿¡æ¯åï¼Œä¼šå°†æ­¤ä¿¡æ¯å­˜å…¥åˆ° Cookie ä¸­ï¼ŒåŒæ—¶ Cookie è®°å½•æ­¤ SessionID å±äºå“ªä¸ªåŸŸå</li>
<li>å½“ç”¨æˆ·ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¯·æ±‚ä¼šè‡ªåŠ¨åˆ¤æ–­æ­¤åŸŸåä¸‹æ˜¯å¦å­˜åœ¨ Cookie ä¿¡æ¯ï¼Œå¦‚æœå­˜åœ¨è‡ªåŠ¨å°† Cookie ä¿¡æ¯ä¹Ÿå‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šä» Cookie ä¸­è·å– SessionIDï¼Œå†æ ¹æ® SessionID æŸ¥æ‰¾å¯¹åº”çš„ Session ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°è¯´æ˜ç”¨æˆ·æ²¡æœ‰ç™»å½•æˆ–è€…ç™»å½•å¤±æ•ˆï¼Œå¦‚æœæ‰¾åˆ° Session è¯æ˜ç”¨æˆ·å·²ç»ç™»å½•å¯æ‰§è¡Œåé¢æ“ä½œã€‚</li>
</ul>
</li>
</ul>
<p>æ ¹æ®ä»¥ä¸Šæµç¨‹å¯çŸ¥ï¼ŒSessionID æ˜¯è¿æ¥ Cookie å’Œ Session çš„ä¸€é“æ¡¥æ¢ï¼Œå¤§éƒ¨åˆ†ç³»ç»Ÿä¹Ÿæ˜¯æ ¹æ®æ­¤åŸç†æ¥éªŒè¯ç”¨æˆ·ç™»å½•çŠ¶æ€ã€‚</p>
<h2 data-id="heading-5">Cookie å’Œ Session çš„åŒºåˆ«</h2>
<ul>
<li>å®‰å…¨æ€§ï¼šSession æ¯” Cookie å®‰å…¨ï¼ŒSession æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ï¼ŒCookie æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ã€‚</li>
<li>å­˜å–å€¼çš„ç±»å‹ä¸åŒï¼šCookie åªæ”¯æŒå­˜å­—ç¬¦ä¸²æ•°æ®ï¼Œæƒ³è¦è®¾ç½®å…¶ä»–ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ŒSession å¯ä»¥å­˜ä»»æ„æ•°æ®ç±»å‹ã€‚</li>
<li>æœ‰æ•ˆæœŸä¸åŒï¼šCookie å¯è®¾ç½®ä¸ºé•¿æ—¶é—´ä¿æŒï¼Œæ¯”å¦‚ç»å¸¸ä½¿ç”¨çš„é»˜è®¤ç™»å½•åŠŸèƒ½ï¼ŒSession ä¸€èˆ¬å¤±æ•ˆæ—¶é—´è¾ƒçŸ­ï¼Œå®¢æˆ·ç«¯å…³é—­ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰æˆ–è€… Session è¶…æ—¶éƒ½ä¼šå¤±æ•ˆã€‚</li>
<li>å­˜å‚¨å¤§å°ä¸åŒï¼šå•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼ŒSession å¯å­˜å‚¨æ•°æ®è¿œé«˜äº Cookieï¼Œä½†æ˜¯å½“è®¿é—®é‡è¿‡å¤šï¼Œä¼šå ç”¨è¿‡å¤šçš„æœåŠ¡å™¨èµ„æºã€‚</li>
</ul>
<h2 data-id="heading-6">ä»€ä¹ˆæ˜¯ Tokenï¼ˆä»¤ç‰Œï¼‰</h2>
<h3 data-id="heading-7">Acesss Token</h3>
<ul>
<li>è®¿é—®èµ„æºæ¥å£ï¼ˆAPIï¼‰æ—¶æ‰€éœ€è¦çš„èµ„æºå‡­è¯</li>
<li>ç®€å• token çš„ç»„æˆï¼šuid(ç”¨æˆ·å”¯ä¸€çš„èº«ä»½æ ‡è¯†)ã€time(å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³)ã€signï¼ˆç­¾åï¼Œtoken çš„å‰å‡ ä½ä»¥å“ˆå¸Œç®—æ³•å‹ç¼©æˆçš„ä¸€å®šé•¿åº¦çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼‰</li>
<li>ç‰¹ç‚¹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>æœåŠ¡ç«¯æ— çŠ¶æ€åŒ–ã€å¯æ‰©å±•æ€§å¥½</li>
<li>æ”¯æŒç§»åŠ¨ç«¯è®¾å¤‡</li>
<li>å®‰å…¨</li>
<li>æ”¯æŒè·¨ç¨‹åºè°ƒç”¨</li>
</ul>
</li>
</ul>

<ul>
<li>token çš„èº«ä»½éªŒè¯æµç¨‹ï¼š</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d90360d6b254a108b2a34941353a887~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=W2RCfhd9EefIaILH12lDb3FXj80%3D" alt="" loading="lazy"/></p>
<ol>
<li>å®¢æˆ·ç«¯ä½¿ç”¨ç”¨æˆ·åè·Ÿå¯†ç è¯·æ±‚ç™»å½•</li>
<li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œå»éªŒè¯ç”¨æˆ·åä¸å¯†ç </li>
<li>éªŒè¯æˆåŠŸåï¼ŒæœåŠ¡ç«¯ä¼šç­¾å‘ä¸€ä¸ª token å¹¶æŠŠè¿™ä¸ª token å‘é€ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯æ”¶åˆ° token ä»¥åï¼Œä¼šæŠŠå®ƒå­˜å‚¨èµ·æ¥ï¼Œæ¯”å¦‚æ”¾åœ¨ cookie é‡Œæˆ–è€… localStorage é‡Œ</li>
<li>å®¢æˆ·ç«¯æ¯æ¬¡å‘æœåŠ¡ç«¯è¯·æ±‚èµ„æºçš„æ—¶å€™éœ€è¦å¸¦ç€æœåŠ¡ç«¯ç­¾å‘çš„ token</li>
<li>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚ï¼Œç„¶åå»éªŒè¯å®¢æˆ·ç«¯è¯·æ±‚é‡Œé¢å¸¦ç€çš„ token ï¼Œå¦‚æœéªŒè¯æˆåŠŸï¼Œå°±å‘å®¢æˆ·ç«¯è¿”å›è¯·æ±‚çš„æ•°æ®</li>
</ol>
<ul>
<li>æ¯ä¸€æ¬¡è¯·æ±‚éƒ½éœ€è¦æºå¸¦ tokenï¼Œéœ€è¦æŠŠ token æ”¾åˆ° HTTP çš„ Header é‡Œ</li>
<li>åŸºäº token çš„ç”¨æˆ·è®¤è¯æ˜¯ä¸€ç§æœåŠ¡ç«¯æ— çŠ¶æ€çš„è®¤è¯æ–¹å¼ï¼ŒæœåŠ¡ç«¯ä¸ç”¨å­˜æ”¾ token æ•°æ®ã€‚ç”¨è§£æ token çš„è®¡ç®—æ—¶é—´æ¢å– session çš„å­˜å‚¨ç©ºé—´ï¼Œä»è€Œå‡è½»æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå‡å°‘é¢‘ç¹çš„æŸ¥è¯¢æ•°æ®åº“</li>
<li>token å®Œå…¨ç”±åº”ç”¨ç®¡ç†ï¼Œæ‰€ä»¥å®ƒå¯ä»¥é¿å¼€åŒæºç­–ç•¥</li>
</ul>
<h3 data-id="heading-8">Refresh Token</h3>
<ul>
<li>å¦å¤–ä¸€ç§ tokenâ€”â€”refresh token</li>
<li>refresh token æ˜¯ä¸“ç”¨äºåˆ·æ–° access token çš„ tokenã€‚å¦‚æœæ²¡æœ‰ refresh tokenï¼Œä¹Ÿå¯ä»¥åˆ·æ–° access tokenï¼Œä½†æ¯æ¬¡åˆ·æ–°éƒ½è¦ç”¨æˆ·è¾“å…¥ç™»å½•ç”¨æˆ·åä¸å¯†ç ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚æœ‰äº† refresh tokenï¼Œå¯ä»¥å‡å°‘è¿™ä¸ªéº»çƒ¦ï¼Œå®¢æˆ·ç«¯ç›´æ¥ç”¨ refresh token å»æ›´æ–° access tokenï¼Œæ— éœ€ç”¨æˆ·è¿›è¡Œé¢å¤–çš„æ“ä½œã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc194893c4a14663b71e869f9ca59027~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=8aaZXEP5X0lKf70px%2FdsXzuAIcM%3D" alt="" loading="lazy"/></p>
<ul>
<li>Access Token çš„æœ‰æ•ˆæœŸæ¯”è¾ƒçŸ­ï¼Œå½“ Acesss Token ç”±äºè¿‡æœŸè€Œå¤±æ•ˆæ—¶ï¼Œä½¿ç”¨ Refresh Token å°±å¯ä»¥è·å–åˆ°æ–°çš„ Tokenï¼Œå¦‚æœ Refresh Token ä¹Ÿå¤±æ•ˆäº†ï¼Œç”¨æˆ·å°±åªèƒ½é‡æ–°ç™»å½•äº†ã€‚</li>
<li>Refresh Token åŠè¿‡æœŸæ—¶é—´æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨çš„æ•°æ®åº“ä¸­ï¼Œåªæœ‰åœ¨ç”³è¯·æ–°çš„ Acesss Token æ—¶æ‰ä¼šéªŒè¯ï¼Œä¸ä¼šå¯¹ä¸šåŠ¡æ¥å£å“åº”æ—¶é—´é€ æˆå½±å“ï¼Œä¹Ÿä¸éœ€è¦å‘ Session ä¸€æ ·ä¸€ç›´ä¿æŒåœ¨å†…å­˜ä¸­ä»¥åº”å¯¹å¤§é‡çš„è¯·æ±‚ã€‚</li>
</ul>
<h2 data-id="heading-9">Token å’Œ Session çš„åŒºåˆ«</h2>
<ul>
<li>Session æ˜¯ä¸€ç§è®°å½•æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¼šè¯çŠ¶æ€çš„æœºåˆ¶ï¼Œä½¿æœåŠ¡ç«¯æœ‰çŠ¶æ€åŒ–ï¼Œå¯ä»¥è®°å½•ä¼šè¯ä¿¡æ¯ã€‚è€Œ Token æ˜¯ä»¤ç‰Œï¼Œè®¿é—®èµ„æºæ¥å£ï¼ˆAPIï¼‰æ—¶æ‰€éœ€è¦çš„èµ„æºå‡­è¯ã€‚Tokenä½¿æœåŠ¡ç«¯æ— çŠ¶æ€åŒ–ï¼Œä¸ä¼šå­˜å‚¨ä¼šè¯ä¿¡æ¯ã€‚</li>
<li>Session å’Œ Token å¹¶ä¸çŸ›ç›¾ï¼Œä½œä¸ºèº«ä»½è®¤è¯ Token å®‰å…¨æ€§æ¯” Session å¥½ï¼Œå› ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚éƒ½æœ‰ç­¾åè¿˜èƒ½é˜²æ­¢ç›‘å¬ä»¥åŠé‡æ”¾æ”»å‡»ï¼Œè€Œ Session å°±å¿…é¡»ä¾èµ–é“¾è·¯å±‚æ¥ä¿éšœé€šè®¯å®‰å…¨äº†ã€‚å¦‚æœéœ€è¦å®ç°æœ‰çŠ¶æ€çš„ä¼šè¯ï¼Œä»ç„¶å¯ä»¥å¢åŠ  Session æ¥åœ¨æœåŠ¡å™¨ç«¯ä¿å­˜ä¸€äº›çŠ¶æ€ã€‚</li>
<li>æ‰€è°“ Session è®¤è¯åªæ˜¯ç®€å•çš„æŠŠ User ä¿¡æ¯å­˜å‚¨åˆ° Session é‡Œï¼Œå› ä¸º SessionID çš„ä¸å¯é¢„æµ‹æ€§ï¼Œæš‚ä¸”è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚è€Œ Token ï¼Œå¦‚æœæŒ‡çš„æ˜¯ OAuth Token æˆ–ç±»ä¼¼çš„æœºåˆ¶çš„è¯ï¼Œæä¾›çš„æ˜¯ è®¤è¯ å’Œ æˆæƒ ï¼Œè®¤è¯æ˜¯é’ˆå¯¹ç”¨æˆ·ï¼Œæˆæƒæ˜¯é’ˆå¯¹ App ã€‚å…¶ç›®çš„æ˜¯è®©æŸ App æœ‰æƒåˆ©è®¿é—®æŸç”¨æˆ·çš„ä¿¡æ¯ã€‚è¿™é‡Œçš„ Token æ˜¯å”¯ä¸€çš„ã€‚ä¸å¯ä»¥è½¬ç§»åˆ°å…¶å®ƒ Appä¸Šï¼Œä¹Ÿä¸å¯ä»¥è½¬åˆ°å…¶å®ƒç”¨æˆ·ä¸Šã€‚Session åªæä¾›ä¸€ç§ç®€å•çš„è®¤è¯ï¼Œå³åªè¦æœ‰æ­¤ SessionID ï¼Œå³è®¤ä¸ºæœ‰æ­¤ User çš„å…¨éƒ¨æƒåˆ©ã€‚æ˜¯éœ€è¦ä¸¥æ ¼ä¿å¯†çš„ï¼Œè¿™ä¸ªæ•°æ®åº”è¯¥åªä¿å­˜åœ¨ç«™æ–¹ï¼Œä¸åº”è¯¥å…±äº«ç»™å…¶å®ƒç½‘ç«™æˆ–è€…ç¬¬ä¸‰æ–¹ Appã€‚æ‰€ä»¥ç®€å•æ¥è¯´ï¼šå¦‚æœç”¨æˆ·æ•°æ®å¯èƒ½éœ€è¦å’Œç¬¬ä¸‰æ–¹å…±äº«ï¼Œæˆ–è€…å…è®¸ç¬¬ä¸‰æ–¹è°ƒç”¨ API æ¥å£ï¼Œç”¨ Token ã€‚å¦‚æœæ°¸è¿œåªæ˜¯è‡ªå·±çš„ç½‘ç«™ï¼Œè‡ªå·±çš„ Appï¼Œç”¨ä»€ä¹ˆå°±æ— æ‰€è°“äº†ã€‚</li>
</ul>
<h2 data-id="heading-10">ä»€ä¹ˆæ˜¯ JWT</h2>
<ul>
<li>JSON Web Tokenï¼ˆç®€ç§° JWTï¼‰æ˜¯ç›®å‰æœ€æµè¡Œçš„è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆã€‚</li>
<li>æ˜¯ä¸€ç§è®¤è¯æˆæƒæœºåˆ¶ã€‚</li>
<li>JWT æ˜¯ä¸ºäº†åœ¨ç½‘ç»œåº”ç”¨ç¯å¢ƒé—´ä¼ é€’å£°æ˜è€Œæ‰§è¡Œçš„ä¸€ç§åŸºäº JSON çš„å¼€æ”¾æ ‡å‡†ï¼ˆRFC 7519ï¼‰ã€‚JWT çš„å£°æ˜ä¸€èˆ¬è¢«ç”¨æ¥åœ¨èº«ä»½æä¾›è€…å’ŒæœåŠ¡æä¾›è€…é—´ä¼ é€’è¢«è®¤è¯çš„ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼Œä»¥ä¾¿äºä»èµ„æºæœåŠ¡å™¨è·å–èµ„æºã€‚æ¯”å¦‚ç”¨åœ¨ç”¨æˆ·ç™»å½•ä¸Šã€‚</li>
<li>å¯ä»¥ä½¿ç”¨ HMAC ç®—æ³•æˆ–è€…æ˜¯ RSA çš„å…¬/ç§ç§˜é’¥å¯¹ JWT è¿›è¡Œç­¾åã€‚å› ä¸ºæ•°å­—ç­¾åçš„å­˜åœ¨ï¼Œè¿™äº›ä¼ é€’çš„ä¿¡æ¯æ˜¯å¯ä¿¡çš„ã€‚</li>
</ul>
<h3 data-id="heading-11">ç”Ÿæˆ JWT</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fjwt.io%2Fwww.jsonwebtoken.io%2F" target="_blank" title="https://jwt.io/www.jsonwebtoken.io/" ref="nofollow noopener noreferrer">jwt.io/www.jsonwebâ€¦</a></p>
<h3 data-id="heading-12">JWT çš„åŸç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdbf2b1cd5284bc0ad158b91e2543dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=VKvM%2BNv6E%2FtZVs0WGwWFISJbiKk%3D" alt="" loading="lazy"/></p>
<ul>
<li>JWT è®¤è¯æµç¨‹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>ç”¨æˆ·è¾“å…¥ç”¨æˆ·å/å¯†ç ç™»å½•ï¼ŒæœåŠ¡ç«¯è®¤è¯æˆåŠŸåï¼Œä¼šè¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ª JWT</li>
<li>å®¢æˆ·ç«¯å°† token ä¿å­˜åˆ°æœ¬åœ°ï¼ˆé€šå¸¸ä½¿ç”¨ localstorageï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ cookieï¼‰</li>
<li>å½“ç”¨æˆ·å¸Œæœ›è®¿é—®ä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æˆ–è€…èµ„æºçš„æ—¶å€™ï¼Œéœ€è¦è¯·æ±‚å¤´çš„ Authorization å­—æ®µä¸­ä½¿ç”¨Bearer æ¨¡å¼æ·»åŠ  JWTï¼Œå…¶å†…å®¹çœ‹èµ·æ¥æ˜¯ä¸‹é¢è¿™æ ·</li>
</ul>
</li>
</ul>

<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Authorization: Bearer &lt;token&gt;</span>
</code></pre>
<ul>
<li>æœåŠ¡ç«¯çš„ä¿æŠ¤è·¯ç”±å°†ä¼šæ£€æŸ¥è¯·æ±‚å¤´ Authorization ä¸­çš„ JWT ä¿¡æ¯ï¼Œå¦‚æœåˆæ³•ï¼Œåˆ™å…è®¸ç”¨æˆ·çš„è¡Œä¸º</li>
<li>å› ä¸º JWT æ˜¯è‡ªåŒ…å«çš„ï¼ˆå†…éƒ¨åŒ…å«äº†ä¸€äº›ä¼šè¯ä¿¡æ¯ï¼‰ï¼Œå› æ­¤å‡å°‘äº†éœ€è¦æŸ¥è¯¢æ•°æ®åº“çš„éœ€è¦</li>
<li>å› ä¸º JWT å¹¶ä¸ä½¿ç”¨ Cookie çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»»ä½•åŸŸåæä¾› API æœåŠ¡è€Œä¸éœ€è¦æ‹…å¿ƒè·¨åŸŸèµ„æºå…±äº«é—®é¢˜ï¼ˆCORSï¼‰</li>
<li>å› ä¸ºç”¨æˆ·çš„çŠ¶æ€ä¸å†å­˜å‚¨åœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ç§æ— çŠ¶æ€çš„è®¤è¯æœºåˆ¶</li>
</ul>
<h3 data-id="heading-13">JWT çš„ä½¿ç”¨æ–¹å¼</h3>
<ul>
<li>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ JWTï¼Œå¯ä»¥å‚¨å­˜åœ¨ Cookie é‡Œé¢ï¼Œä¹Ÿå¯ä»¥å‚¨å­˜åœ¨ localStorageã€‚</li>
</ul>
<h4 data-id="heading-14">æ–¹å¼ä¸€</h4>
<ul>
<li>å½“ç”¨æˆ·å¸Œæœ›è®¿é—®ä¸€ä¸ªå—ä¿æŠ¤çš„è·¯ç”±æˆ–è€…èµ„æºçš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå®ƒæ”¾åœ¨ Cookie é‡Œé¢è‡ªåŠ¨å‘é€ï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½è·¨åŸŸï¼Œæ‰€ä»¥æ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨ HTTP è¯·æ±‚å¤´ä¿¡æ¯çš„ Authorization å­—æ®µé‡Œï¼Œä½¿ç”¨ Bearer æ¨¡å¼æ·»åŠ  JWTã€‚</li>
</ul>

<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">GET</span> /calendar/v1/events
<span class="hljs-symbol">Host:</span> api.example.com
<span class="hljs-symbol">Authorization:</span> Bearer &lt;token&gt;
</code></pre>
<ul>
<li>
<ul>
<li>ç”¨æˆ·çš„çŠ¶æ€ä¸ä¼šå­˜å‚¨åœ¨æœåŠ¡ç«¯çš„å†…å­˜ä¸­ï¼Œè¿™æ˜¯ä¸€ç§æ— çŠ¶æ€çš„è®¤è¯æœºåˆ¶</li>
<li>æœåŠ¡ç«¯çš„ä¿æŠ¤è·¯ç”±å°†ä¼šæ£€æŸ¥è¯·æ±‚å¤´ Authorization ä¸­çš„ JWT ä¿¡æ¯ï¼Œå¦‚æœåˆæ³•ï¼Œåˆ™å…è®¸ç”¨æˆ·çš„è¡Œä¸ºã€‚</li>
<li>ç”±äº JWT æ˜¯è‡ªåŒ…å«çš„ï¼Œå› æ­¤å‡å°‘äº†éœ€è¦æŸ¥è¯¢æ•°æ®åº“çš„éœ€è¦</li>
<li>JWT çš„è¿™äº›ç‰¹æ€§ä½¿å¾—å¯ä»¥å®Œå…¨ä¾èµ–å…¶æ— çŠ¶æ€çš„ç‰¹æ€§æä¾›æ•°æ® API æœåŠ¡ï¼Œç”šè‡³æ˜¯åˆ›å»ºä¸€ä¸ªä¸‹è½½æµæœåŠ¡ã€‚</li>
<li>å› ä¸º JWT å¹¶ä¸ä½¿ç”¨ Cookie ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»»ä½•åŸŸåæä¾› API æœåŠ¡è€Œä¸éœ€è¦æ‹…å¿ƒè·¨åŸŸèµ„æºå…±äº«é—®é¢˜ï¼ˆCORSï¼‰</li>
</ul>
</li>
</ul>
<h4 data-id="heading-15">æ–¹å¼äºŒ</h4>
<ul>
<li>è·¨åŸŸçš„æ—¶å€™ï¼Œå¯ä»¥æŠŠ JWT æ”¾åœ¨ POST è¯·æ±‚çš„æ•°æ®ä½“é‡Œã€‚</li>
</ul>
<h4 data-id="heading-16">æ–¹å¼ä¸‰</h4>
<ul>
<li>é€šè¿‡ URL ä¼ è¾“</li>
</ul>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.example.com%2Fuser%3Ftoken%3Dxxx" target="_blank" title="http://www.example.com/user?token=xxx" ref="nofollow noopener noreferrer">www.example.com/user?token=â€¦</a></p>
<h2 data-id="heading-17">Token å’Œ JWT çš„åŒºåˆ«</h2>
<p>ç›¸åŒï¼š</p>
<ul>
<li>éƒ½æ˜¯è®¿é—®èµ„æºçš„ä»¤ç‰Œ</li>
<li>éƒ½å¯ä»¥è®°å½•ç”¨æˆ·çš„ä¿¡æ¯</li>
<li>éƒ½æ˜¯ä½¿æœåŠ¡ç«¯æ— çŠ¶æ€åŒ–</li>
<li>éƒ½æ˜¯åªæœ‰éªŒè¯æˆåŠŸåï¼Œå®¢æˆ·ç«¯æ‰èƒ½è®¿é—®æœåŠ¡ç«¯ä¸Šå—ä¿æŠ¤çš„èµ„æº</li>
</ul>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>Tokenï¼šæœåŠ¡ç«¯éªŒè¯å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ Token æ—¶ï¼Œè¿˜éœ€è¦æŸ¥è¯¢æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œç„¶åéªŒè¯ Token æ˜¯å¦æœ‰æ•ˆã€‚</li>
<li>JWTï¼šå°† Token å’Œ Payload åŠ å¯†åå­˜å‚¨äºå®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯åªéœ€è¦ä½¿ç”¨å¯†é’¥è§£å¯†è¿›è¡Œæ ¡éªŒï¼ˆæ ¡éªŒä¹Ÿæ˜¯ JWT è‡ªå·±å®ç°çš„ï¼‰å³å¯ï¼Œä¸éœ€è¦æŸ¥è¯¢æˆ–è€…å‡å°‘æŸ¥è¯¢æ•°æ®åº“ï¼Œå› ä¸º JWT è‡ªåŒ…å«äº†ç”¨æˆ·ä¿¡æ¯å’ŒåŠ å¯†çš„æ•°æ®ã€‚</li>
</ul>
<h2 data-id="heading-18">å¸¸è§çš„å‰åç«¯é‰´æƒæ–¹å¼</h2>
<ol>
<li>Session-Cookie</li>
<li>Token éªŒè¯ï¼ˆåŒ…æ‹¬ JWTï¼ŒSSOï¼‰</li>
<li>OAuth2.0ï¼ˆå¼€æ”¾æˆæƒï¼‰</li>
</ol>
<h2 data-id="heading-19">å¸¸è§çš„åŠ å¯†ç®—æ³•</h2>
<ul>
<li>å“ˆå¸Œç®—æ³•(Hash Algorithm)åˆç§°æ•£åˆ—ç®—æ³•ã€æ•£åˆ—å‡½æ•°ã€å“ˆå¸Œå‡½æ•°ï¼Œæ˜¯ä¸€ç§ä»ä»»ä½•ä¸€ç§æ•°æ®ä¸­åˆ›å»ºå°çš„æ•°å­—â€œæŒ‡çº¹â€çš„æ–¹æ³•ã€‚å“ˆå¸Œç®—æ³•å°†æ•°æ®é‡æ–°æ‰“ä¹±æ··åˆï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªå“ˆå¸Œå€¼ã€‚</li>
<li>å“ˆå¸Œç®—æ³•ä¸»è¦ç”¨æ¥ä¿éšœæ•°æ®çœŸå®æ€§(å³å®Œæ•´æ€§)ï¼Œå³å‘ä¿¡äººå°†åŸå§‹æ¶ˆæ¯å’Œå“ˆå¸Œå€¼ä¸€èµ·å‘é€ï¼Œæ”¶ä¿¡äººé€šè¿‡ç›¸åŒçš„å“ˆå¸Œå‡½æ•°æ¥æ ¡éªŒåŸå§‹æ•°æ®æ˜¯å¦çœŸå®ã€‚</li>
<li>å“ˆå¸Œç®—æ³•é€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>2 çš„ 128 æ¬¡æ–¹ä¸º 340282366920938463463374607431768211456ï¼Œä¹Ÿå°±æ˜¯ 10 çš„ 39 æ¬¡æ–¹çº§åˆ«</li>
<li>2 çš„ 160 æ¬¡æ–¹ä¸º 1.4615016373309029182036848327163e+48ï¼Œä¹Ÿå°±æ˜¯ 10 çš„ 48 æ¬¡æ–¹çº§åˆ«</li>
<li>2 çš„ 256 æ¬¡æ–¹ä¸º 1.1579208923731619542357098500869 Ã— 10 çš„ 77 æ¬¡æ–¹ï¼Œä¹Ÿå°±æ˜¯ 10 çš„ 77 æ¬¡æ–¹</li>
<li>æ­£åƒå¿«é€Ÿï¼šåŸå§‹æ•°æ®å¯ä»¥å¿«é€Ÿè®¡ç®—å‡ºå“ˆå¸Œå€¼</li>
<li>é€†å‘å›°éš¾ï¼šé€šè¿‡å“ˆå¸Œå€¼åŸºæœ¬ä¸å¯èƒ½æ¨å¯¼å‡ºåŸå§‹æ•°æ®</li>
<li>è¾“å…¥æ•æ„Ÿï¼šåŸå§‹æ•°æ®åªè¦æœ‰ä¸€ç‚¹å˜åŠ¨ï¼Œå¾—åˆ°çš„å“ˆå¸Œå€¼å·®åˆ«å¾ˆå¤§</li>
<li>å†²çªé¿å…ï¼šå¾ˆéš¾æ‰¾åˆ°ä¸åŒçš„åŸå§‹æ•°æ®å¾—åˆ°ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œå®‡å®™ä¸­åŸå­æ•°å¤§çº¦åœ¨ 10 çš„ 60 æ¬¡æ–¹åˆ° 80 æ¬¡æ–¹ä¹‹é—´ï¼Œæ‰€ä»¥ 2 çš„ 256 æ¬¡æ–¹æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³æ‰€æœ‰çš„å¯èƒ½ï¼Œç®—æ³•å¥½çš„æƒ…å†µä¸‹å†²çªç¢°æ’çš„æ¦‚ç‡å¾ˆä½ï¼š</li>
</ul>
</li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>ä»¥ä¸Šä¸èƒ½ä¿è¯æ•°æ®è¢«æ¶æ„ç¯¡æ”¹ï¼ŒåŸå§‹æ•°æ®å’Œå“ˆå¸Œå€¼éƒ½å¯èƒ½è¢«æ¶æ„ç¯¡æ”¹ï¼Œè¦ä¿è¯ä¸è¢«ç¯¡æ”¹ï¼Œå¯ä»¥ä½¿ç”¨RSA å…¬é’¥ç§é’¥æ–¹æ¡ˆï¼Œå†é…åˆå“ˆå¸Œå€¼ã€‚</li>
<li>å“ˆå¸Œç®—æ³•ä¸»è¦ç”¨æ¥é˜²æ­¢è®¡ç®—æœºä¼ è¾“è¿‡ç¨‹ä¸­çš„é”™è¯¯ï¼Œæ—©æœŸè®¡ç®—æœºé€šè¿‡å‰ 7 ä½æ•°æ®ç¬¬ 8 ä½å¥‡å¶æ ¡éªŒç æ¥ä¿éšœï¼ˆ12.5% çš„æµªè´¹æ•ˆç‡ä½ï¼‰ï¼Œå¯¹äºä¸€æ®µæ•°æ®æˆ–æ–‡ä»¶ï¼Œé€šè¿‡å“ˆå¸Œç®—æ³•ç”Ÿæˆ 128bit æˆ–è€… 256bit çš„å“ˆå¸Œå€¼ï¼Œå¦‚æœæ ¡éªŒæœ‰é—®é¢˜å°±è¦æ±‚é‡ä¼ ã€‚</li>
</ol>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-21">ä½¿ç”¨ cookie æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å› ä¸ºå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå®¹æ˜“è¢«å®¢æˆ·ç«¯ç¯¡æ”¹ï¼Œä½¿ç”¨å‰éœ€è¦éªŒè¯åˆæ³•æ€§</li>
<li>ä¸è¦å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·å¯†ç ï¼Œè´¦æˆ·ä½™é¢</li>
<li>ä½¿ç”¨ httpOnly åœ¨ä¸€å®šç¨‹åº¦ä¸Šæé«˜å®‰å…¨æ€§</li>
<li>å°½é‡å‡å°‘ cookie çš„ä½“ç§¯ï¼Œèƒ½å­˜å‚¨çš„æ•°æ®é‡ä¸èƒ½è¶…è¿‡ 4kb</li>
<li>è®¾ç½®æ­£ç¡®çš„ domain å’Œ pathï¼Œå‡å°‘æ•°æ®ä¼ è¾“</li>
<li>cookie æ— æ³•è·¨åŸŸ</li>
<li>ä¸€ä¸ªæµè§ˆå™¨é’ˆå¯¹ä¸€ä¸ªç½‘ç«™æœ€å¤šå­˜ 20 ä¸ªCookieï¼Œæµè§ˆå™¨ä¸€èˆ¬åªå…è®¸å­˜æ”¾ 300 ä¸ªCookie</li>
<li>ç§»åŠ¨ç«¯å¯¹ cookie çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œè€Œ session éœ€è¦åŸºäº cookie å®ç°ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯å¸¸ç”¨çš„æ˜¯ token</li>
</ul>
<h3 data-id="heading-22">ä½¿ç”¨ session æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å°† session å­˜å‚¨åœ¨æœåŠ¡å™¨é‡Œé¢ï¼Œå½“ç”¨æˆ·åŒæ—¶åœ¨çº¿é‡æ¯”è¾ƒå¤šæ—¶ï¼Œè¿™äº› session ä¼šå æ®è¾ƒå¤šçš„å†…å­˜ï¼Œéœ€è¦åœ¨æœåŠ¡ç«¯å®šæœŸçš„å»æ¸…ç†è¿‡æœŸçš„ session</li>
<li>å½“ç½‘ç«™é‡‡ç”¨é›†ç¾¤éƒ¨ç½²çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å¤šå° web æœåŠ¡å™¨ä¹‹é—´å¦‚ä½•åš session å…±äº«çš„é—®é¢˜ã€‚å› ä¸º session æ˜¯ç”±å•ä¸ªæœåŠ¡å™¨åˆ›å»ºçš„ï¼Œä½†æ˜¯å¤„ç†ç”¨æˆ·è¯·æ±‚çš„æœåŠ¡å™¨ä¸ä¸€å®šæ˜¯é‚£ä¸ªåˆ›å»º session çš„æœåŠ¡å™¨ï¼Œé‚£ä¹ˆè¯¥æœåŠ¡å™¨å°±æ— æ³•æ‹¿åˆ°ä¹‹å‰å·²ç»æ”¾å…¥åˆ° session ä¸­çš„ç™»å½•å‡­è¯ä¹‹ç±»çš„ä¿¡æ¯äº†ã€‚</li>
<li>å½“å¤šä¸ªåº”ç”¨è¦å…±äº« session æ—¶ï¼Œé™¤äº†ä»¥ä¸Šé—®é¢˜ï¼Œè¿˜ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œå› ä¸ºä¸åŒçš„åº”ç”¨å¯èƒ½éƒ¨ç½²çš„ä¸»æœºä¸ä¸€æ ·ï¼Œéœ€è¦åœ¨å„ä¸ªåº”ç”¨åšå¥½ cookie è·¨åŸŸçš„å¤„ç†ã€‚</li>
<li>sessionId æ˜¯å­˜å‚¨åœ¨ cookie ä¸­çš„ï¼Œå‡å¦‚æµè§ˆå™¨ç¦æ­¢ cookie æˆ–ä¸æ”¯æŒ cookie æ€ä¹ˆåŠï¼Ÿä¸€èˆ¬ä¼šæŠŠ sessionId è·Ÿåœ¨ url å‚æ•°åé¢å³é‡å†™ urlï¼Œæ‰€ä»¥ session ä¸ä¸€å®šéå¾—éœ€è¦é  cookie å®ç°</li>
<li>ç§»åŠ¨ç«¯å¯¹ cookie çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œè€Œ session éœ€è¦åŸºäº cookie å®ç°ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯å¸¸ç”¨çš„æ˜¯ token</li>
</ul>
<h3 data-id="heading-23">ä½¿ç”¨ token æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å¦‚æœè®¤ä¸ºç”¨æ•°æ®åº“æ¥å­˜å‚¨ token ä¼šå¯¼è‡´æŸ¥è¯¢æ—¶é—´å¤ªé•¿ï¼Œå¯ä»¥é€‰æ‹©æ”¾åœ¨å†…å­˜å½“ä¸­ã€‚æ¯”å¦‚ redis å¾ˆé€‚åˆå¯¹ token æŸ¥è¯¢çš„éœ€æ±‚ã€‚</li>
<li>token å®Œå…¨ç”±åº”ç”¨ç®¡ç†ï¼Œæ‰€ä»¥å®ƒå¯ä»¥é¿å¼€åŒæºç­–ç•¥</li>
<li>token å¯ä»¥é¿å… CSRF æ”»å‡»(å› ä¸ºä¸éœ€è¦ cookie äº†)</li>
<li>ç§»åŠ¨ç«¯å¯¹ cookie çš„æ”¯æŒä¸æ˜¯å¾ˆå¥½ï¼Œè€Œ session éœ€è¦åŸºäº cookie å®ç°ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯å¸¸ç”¨çš„æ˜¯ token</li>
</ul>
<h3 data-id="heading-24">ä½¿ç”¨ JWT æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>å› ä¸º JWT å¹¶ä¸ä¾èµ– Cookie çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä»»ä½•åŸŸåæä¾› API æœåŠ¡è€Œä¸éœ€è¦æ‹…å¿ƒè·¨åŸŸèµ„æºå…±äº«é—®é¢˜ï¼ˆCORSï¼‰</li>
<li>JWT é»˜è®¤æ˜¯ä¸åŠ å¯†ï¼Œä½†ä¹Ÿæ˜¯å¯ä»¥åŠ å¯†çš„ã€‚ç”ŸæˆåŸå§‹ Token ä»¥åï¼Œå¯ä»¥ç”¨å¯†é’¥å†åŠ å¯†ä¸€æ¬¡ã€‚</li>
<li>JWT ä¸åŠ å¯†çš„æƒ…å†µä¸‹ï¼Œä¸èƒ½å°†ç§˜å¯†æ•°æ®å†™å…¥ JWTã€‚</li>
<li>JWT ä¸ä»…å¯ä»¥ç”¨äºè®¤è¯ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢ä¿¡æ¯ã€‚æœ‰æ•ˆä½¿ç”¨ JWTï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨æŸ¥è¯¢æ•°æ®åº“çš„æ¬¡æ•°ã€‚</li>
<li>JWT æœ€å¤§çš„ä¼˜åŠ¿æ˜¯æœåŠ¡å™¨ä¸å†éœ€è¦å­˜å‚¨ Sessionï¼Œä½¿å¾—æœåŠ¡å™¨è®¤è¯é‰´æƒä¸šåŠ¡å¯ä»¥æ–¹ä¾¿æ‰©å±•ã€‚ä½†è¿™ä¹Ÿæ˜¯ JWT æœ€å¤§çš„ç¼ºç‚¹ï¼šç”±äºæœåŠ¡å™¨ä¸éœ€è¦å­˜å‚¨ Session çŠ¶æ€ï¼Œå› æ­¤ä½¿ç”¨è¿‡ç¨‹ä¸­æ— æ³•åºŸå¼ƒæŸä¸ª Token æˆ–è€…æ›´æ”¹ Token çš„æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦ JWT ç­¾å‘äº†ï¼Œåˆ°æœŸä¹‹å‰å°±ä¼šå§‹ç»ˆæœ‰æ•ˆï¼Œé™¤éæœåŠ¡å™¨éƒ¨ç½²é¢å¤–çš„é€»è¾‘ã€‚</li>
<li>JWT æœ¬èº«åŒ…å«äº†è®¤è¯ä¿¡æ¯ï¼Œä¸€æ—¦æ³„éœ²ï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—è¯¥ä»¤ç‰Œçš„æ‰€æœ‰æƒé™ã€‚ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWTçš„æœ‰æ•ˆæœŸåº”è¯¥è®¾ç½®å¾—æ¯”è¾ƒçŸ­ã€‚å¯¹äºä¸€äº›æ¯”è¾ƒé‡è¦çš„æƒé™ï¼Œä½¿ç”¨æ—¶åº”è¯¥å†æ¬¡å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ã€‚</li>
<li>JWT é€‚åˆä¸€æ¬¡æ€§çš„å‘½ä»¤è®¤è¯ï¼Œé¢å‘ä¸€ä¸ªæœ‰æ•ˆæœŸæçŸ­çš„ JWTï¼Œå³ä½¿æš´éœ²äº†å±é™©ä¹Ÿå¾ˆå°ï¼Œç”±äºæ¯æ¬¡æ“ä½œéƒ½ä¼šç”Ÿæˆæ–°çš„ JWTï¼Œå› æ­¤ä¹Ÿæ²¡å¿…è¦ä¿å­˜ JWTï¼ŒçœŸæ­£å®ç°æ— çŠ¶æ€ã€‚</li>
<li>ä¸ºäº†å‡å°‘ç›—ç”¨ï¼ŒJWT ä¸åº”è¯¥ä½¿ç”¨ HTTP åè®®æ˜ç ä¼ è¾“ï¼Œè¦ä½¿ç”¨ HTTPS åè®®ä¼ è¾“ã€‚</li>
</ul>
<h3 data-id="heading-25">ä½¿ç”¨åŠ å¯†ç®—æ³•æ—¶éœ€è¦è€ƒè™‘çš„é—®é¢˜</h3>
<ul>
<li>ç»ä¸è¦ä»¥æ˜æ–‡å­˜å‚¨å¯†ç </li>
<li>æ°¸è¿œä½¿ç”¨ å“ˆå¸Œç®—æ³• æ¥å¤„ç†å¯†ç ï¼Œç»ä¸è¦ä½¿ç”¨ Base64 æˆ–å…¶ä»–ç¼–ç æ–¹å¼æ¥å­˜å‚¨å¯†ç ï¼Œè¿™å’Œä»¥æ˜æ–‡å­˜å‚¨å¯†ç æ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨å“ˆå¸Œï¼Œè€Œä¸è¦ä½¿ç”¨ç¼–ç ã€‚ç¼–ç ä»¥åŠåŠ å¯†ï¼Œéƒ½æ˜¯åŒå‘çš„è¿‡ç¨‹ï¼Œè€Œå¯†ç æ˜¯ä¿å¯†çš„ï¼Œåº”è¯¥åªè¢«å®ƒçš„æ‰€æœ‰è€…çŸ¥é“ï¼Œ è¿™ä¸ªè¿‡ç¨‹å¿…é¡»æ˜¯å•å‘çš„ã€‚å“ˆå¸Œæ­£æ˜¯ç”¨äºåšè¿™ä¸ªçš„ï¼Œä»æ¥æ²¡æœ‰è§£å“ˆå¸Œè¿™ç§è¯´æ³•ï¼Œ ä½†æ˜¯ç¼–ç å°±å­˜åœ¨è§£ç ï¼ŒåŠ å¯†å°±å­˜åœ¨è§£å¯†ã€‚</li>
<li>ç»ä¸è¦ä½¿ç”¨å¼±å“ˆå¸Œæˆ–å·²è¢«ç ´è§£çš„å“ˆå¸Œç®—æ³•ï¼Œåƒ MD5 æˆ– SHA1 ï¼Œåªä½¿ç”¨å¼ºå¯†ç å“ˆå¸Œç®—æ³•ã€‚</li>
<li>ç»ä¸è¦ä»¥æ˜æ–‡å½¢å¼æ˜¾ç¤ºæˆ–å‘é€å¯†ç ï¼Œå³ä½¿æ˜¯å¯¹å¯†ç çš„æ‰€æœ‰è€…ä¹Ÿåº”è¯¥è¿™æ ·ã€‚å¦‚æœéœ€è¦ â€œå¿˜è®°å¯†ç â€ çš„åŠŸèƒ½ï¼Œå¯ä»¥éšæœºç”Ÿæˆä¸€ä¸ªæ–°çš„ä¸€æ¬¡æ€§çš„ï¼ˆè¿™ç‚¹å¾ˆé‡è¦ï¼‰å¯†ç ï¼Œç„¶åæŠŠè¿™ä¸ªå¯†ç å‘é€ç»™ç”¨æˆ·ã€‚</li>
</ul>
<h3 data-id="heading-26">åˆ†å¸ƒå¼æ¶æ„ä¸‹ session å…±äº«æ–¹æ¡ˆ</h3>
<h4 data-id="heading-27">1. session å¤åˆ¶</h4>
<p>ä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ session å‘ç”Ÿæ”¹å˜ï¼ˆå¢åˆ æ”¹ï¼‰ï¼Œè¯¥èŠ‚ç‚¹ä¼šæŠŠè¿™ä¸ª session çš„æ‰€æœ‰å†…å®¹åºåˆ—åŒ–ï¼Œç„¶åå¹¿æ’­ç»™æ‰€æœ‰å…¶å®ƒèŠ‚ç‚¹ï¼Œä¸ç®¡å…¶ä»–æœåŠ¡å™¨éœ€ä¸éœ€è¦ session ï¼Œä»¥æ­¤æ¥ä¿è¯ session åŒæ­¥<br/>
ä¼˜ç‚¹ï¼šå¯å®¹é”™ï¼Œå„ä¸ªæœåŠ¡å™¨é—´ session èƒ½å¤Ÿå®æ—¶å“åº”ã€‚ç¼ºç‚¹ï¼šä¼šå¯¹ç½‘ç»œè´Ÿè·é€ æˆä¸€å®šå‹åŠ›ï¼Œå¦‚æœ session é‡å¤§çš„è¯å¯èƒ½ä¼šé€ æˆç½‘ç»œå µå¡ï¼Œæ‹–æ…¢æœåŠ¡å™¨æ€§èƒ½ã€‚</p>
<h4 data-id="heading-28">2. ç²˜æ€§ session /IP ç»‘å®šç­–ç•¥</h4>
<ul>
<li>é‡‡ç”¨ Ngnix ä¸­çš„ ip_hash æœºåˆ¶ï¼Œå°†æŸä¸ª ipçš„æ‰€æœ‰è¯·æ±‚éƒ½å®šå‘åˆ°åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå³å°†ç”¨æˆ·ä¸æœåŠ¡å™¨ç»‘å®šã€‚ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œè´Ÿè½½å‡è¡¡å™¨å°†ç”¨æˆ·çš„è¯·æ±‚è½¬å‘åˆ°äº† A æœåŠ¡å™¨ä¸Šï¼Œå¦‚æœè´Ÿè½½å‡è¡¡å™¨è®¾ç½®äº†ç²˜æ€§ session çš„è¯ï¼Œé‚£ä¹ˆç”¨æˆ·ä»¥åçš„æ¯æ¬¡è¯·æ±‚éƒ½ä¼šè½¬å‘åˆ° A æœåŠ¡å™¨ä¸Šï¼Œç›¸å½“äºæŠŠç”¨æˆ·å’Œ A æœåŠ¡å™¨ç²˜åˆ°äº†ä¸€å—ï¼Œè¿™å°±æ˜¯ç²˜æ€§ session æœºåˆ¶ã€‚</li>
</ul>
<p>ä¼˜ç‚¹ï¼šç®€å•ï¼Œä¸éœ€è¦å¯¹ session åšä»»ä½•å¤„ç†ã€‚ç¼ºç‚¹ï¼šç¼ºä¹å®¹é”™æ€§ï¼Œå¦‚æœå½“å‰è®¿é—®çš„æœåŠ¡å™¨å‘ç”Ÿæ•…éšœï¼Œç”¨æˆ·è¢«è½¬ç§»åˆ°ç¬¬äºŒä¸ªæœåŠ¡å™¨ä¸Šæ—¶ï¼Œä»–çš„ session ä¿¡æ¯éƒ½å°†å¤±æ•ˆã€‚é€‚ç”¨åœºæ™¯ï¼šå‘ç”Ÿæ•…éšœå¯¹å®¢æˆ·äº§ç”Ÿçš„å½±å“è¾ƒå°ï¼›æœåŠ¡å™¨å‘ç”Ÿæ•…éšœæ˜¯ä½æ¦‚ç‡äº‹ä»¶ ã€‚å®ç°æ–¹å¼ï¼šä»¥ Nginx ä¸ºä¾‹ï¼Œåœ¨ upstream æ¨¡å—é…ç½® ip_hash å±æ€§å³å¯å®ç°ç²˜æ€§ sessionã€‚</p>
<h4 data-id="heading-29">3. session å…±äº«ï¼ˆå¸¸ç”¨ï¼‰</h4>
<ul>
<li>ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜æ–¹æ¡ˆæ¯”å¦‚ Memcached ã€Redis æ¥ç¼“å­˜ sessionï¼Œä½†æ˜¯è¦æ±‚ Memcached æˆ– Redis å¿…é¡»æ˜¯é›†ç¾¤</li>
<li>æŠŠ session æ”¾åˆ° Redis ä¸­å­˜å‚¨ï¼Œè™½ç„¶æ¶æ„ä¸Šå˜å¾—å¤æ‚ï¼Œå¹¶ä¸”éœ€è¦å¤šè®¿é—®ä¸€æ¬¡ Redis ï¼Œä½†æ˜¯è¿™ç§æ–¹æ¡ˆå¸¦æ¥çš„å¥½å¤„ä¹Ÿæ˜¯å¾ˆå¤§çš„ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>å®ç°äº† session å…±äº«ï¼›</li>
<li>å¯ä»¥æ°´å¹³æ‰©å±•ï¼ˆå¢åŠ  Redis æœåŠ¡å™¨ï¼‰ï¼›</li>
<li>æœåŠ¡å™¨é‡å¯ session ä¸ä¸¢å¤±ï¼ˆä¸è¿‡ä¹Ÿè¦æ³¨æ„ session åœ¨ Redis ä¸­çš„åˆ·æ–°/å¤±æ•ˆæœºåˆ¶ï¼‰ï¼›</li>
<li>ä¸ä»…å¯ä»¥è·¨æœåŠ¡å™¨ session å…±äº«ï¼Œç”šè‡³å¯ä»¥è·¨å¹³å°ï¼ˆä¾‹å¦‚ç½‘é¡µç«¯å’Œ APP ç«¯ï¼‰</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029470ed1c75477cb0b51431c0ac6af1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768568239&amp;x-signature=gSCNJvpZGBSWtDYFcYelugrccxY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-30">4. session æŒä¹…åŒ–</h4>
<p>å°† session å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œä¿è¯ session çš„æŒä¹…åŒ–<br/>
ä¼˜ç‚¹ï¼šæœåŠ¡å™¨å‡ºç°é—®é¢˜ï¼Œsession ä¸ä¼šä¸¢å¤±ç¼ºç‚¹ï¼šå¦‚æœç½‘ç«™çš„è®¿é—®é‡å¾ˆå¤§ï¼ŒæŠŠ session å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œä¼šå¯¹æ•°æ®åº“é€ æˆå¾ˆå¤§å‹åŠ›ï¼Œè¿˜éœ€è¦å¢åŠ é¢å¤–çš„å¼€é”€ç»´æŠ¤æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-31">åªè¦å…³é—­æµè§ˆå™¨ ï¼Œsession çœŸçš„å°±æ¶ˆå¤±äº†ï¼Ÿ</h3>
<p>ä¸å¯¹ã€‚å¯¹ session æ¥è¯´ï¼Œé™¤éç¨‹åºé€šçŸ¥æœåŠ¡å™¨åˆ é™¤ä¸€ä¸ª sessionï¼Œå¦åˆ™æœåŠ¡å™¨ä¼šä¸€ç›´ä¿ç•™ï¼Œç¨‹åºä¸€èˆ¬éƒ½æ˜¯åœ¨ç”¨æˆ·åš log off çš„æ—¶å€™å‘ä¸ªæŒ‡ä»¤å»åˆ é™¤ sessionã€‚ç„¶è€Œæµè§ˆå™¨ä»æ¥ä¸ä¼šä¸»åŠ¨åœ¨å…³é—­ä¹‹å‰é€šçŸ¥æœåŠ¡å™¨å®ƒå°†è¦å…³é—­ï¼Œå› æ­¤æœåŠ¡å™¨æ ¹æœ¬ä¸ä¼šæœ‰æœºä¼šçŸ¥é“æµè§ˆå™¨å·²ç»å…³é—­ï¼Œä¹‹æ‰€ä»¥ä¼šæœ‰è¿™ç§é”™è§‰ï¼Œæ˜¯å¤§éƒ¨åˆ† session æœºåˆ¶éƒ½ä½¿ç”¨ä¼šè¯ cookie æ¥ä¿å­˜ session idï¼Œè€Œå…³é—­æµè§ˆå™¨åè¿™ä¸ª session id å°±æ¶ˆå¤±äº†ï¼Œå†æ¬¡è¿æ¥æœåŠ¡å™¨æ—¶ä¹Ÿå°±æ— æ³•æ‰¾åˆ°åŸæ¥çš„ sessionã€‚å¦‚æœæœåŠ¡å™¨è®¾ç½®çš„ cookie è¢«ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œæˆ–è€…ä½¿ç”¨æŸç§æ‰‹æ®µæ”¹å†™æµè§ˆå™¨å‘å‡ºçš„ HTTP è¯·æ±‚å¤´ï¼ŒæŠŠåŸæ¥çš„ session id å‘é€ç»™æœåŠ¡å™¨ï¼Œåˆ™å†æ¬¡æ‰“å¼€æµè§ˆå™¨ä»ç„¶èƒ½å¤Ÿæ‰“å¼€åŸæ¥çš„ sessionã€‚æ°æ°æ˜¯ç”±äºå…³é—­æµè§ˆå™¨ä¸ä¼šå¯¼è‡´ session è¢«åˆ é™¤ï¼Œè¿«ä½¿æœåŠ¡å™¨ä¸º session è®¾ç½®äº†ä¸€ä¸ªå¤±æ•ˆæ—¶é—´ï¼Œå½“è·ç¦»å®¢æˆ·ç«¯ä¸Šä¸€æ¬¡ä½¿ç”¨ session çš„æ—¶é—´è¶…è¿‡è¿™ä¸ªå¤±æ•ˆæ—¶é—´æ—¶ï¼ŒæœåŠ¡å™¨å°±è®¤ä¸ºå®¢æˆ·ç«¯å·²ç»åœæ­¢äº†æ´»åŠ¨ï¼Œæ‰ä¼šæŠŠ session åˆ é™¤ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ¥è¯†è’¸é¦å­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7593145583347941418</link>    <guid>https://juejin.cn/post/7593145583347941418</guid>    <pubDate>2026-01-09T11:13:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583347941418" data-draft-id="7593145583347925034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ¥è¯†è’¸é¦å­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T11:13:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ®äººä¸‰ç­‰"/> <meta itemprop="url" content="https://juejin.cn/user/4350105576808472"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ¥è¯†è’¸é¦å­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4350105576808472/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ®äººä¸‰ç­‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T11:13:11.000Z" title="Fri Jan 09 2026 11:13:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<ol>
<li>æ¨¡å‹è’¸é¦æ˜¯ä¸€ç§å°†å¤§æ¨¡å‹çš„çŸ¥è¯†ä¼ é€’ç»™å°æ¨¡å‹çš„è¿‡ç¨‹ï¼Œâ€œå¤§æ¨¡å‹â€é€šå¸¸æ˜¯ä¸€ä¸ªæ€§èƒ½è¾ƒå¥½çš„å¤æ‚æ¨¡å‹ï¼Œè€Œâ€œå°æ¨¡å‹â€åˆ™æ˜¯ä¸€ä¸ªæ›´ç®€å•ã€è®¡ç®—é‡è¾ƒå°çš„æ¨¡å‹ã€‚
<ol>
<li>é€šè¿‡æ¨¡å‹è’¸é¦ï¼Œå¯ä»¥è®©å°æ¨¡å‹å­¦åˆ°å¤§æ¨¡å‹çš„ä¸€äº›å…³é”®çŸ¥è¯†ï¼Œä»è€Œåœ¨ä¿æŒè¾ƒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œé™ä½è®¡ç®—æˆæœ¬å’Œå­˜å‚¨éœ€æ±‚ã€‚</li>
<li>è’¸é¦ç®—æ³•çš„å…³é”®é—®é¢˜æ˜¯å¦‚ä½•ä»è€å¸ˆæ¨¡å‹è½¬æ¢çš„çŸ¥è¯†ä¼ æˆç»™å­¦ç”Ÿæ¨¡å‹ã€‚</li>
<li>ä¸€ä¸ªçŸ¥è¯†è’¸é¦ç³»ç»Ÿç”±ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆï¼šçŸ¥è¯†ï¼Œè’¸é¦ç®—æ³•ï¼Œå’Œå¸ˆç”Ÿæ¶æ„ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25c953a52ad4409bb3f960c7038a6b3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=ZOgEpZDmnD5%2F0jNX2FlJUwTiBVQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ol>
</li>
</ol>
<h2 data-id="heading-1">æ ‡ç­¾</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87bc82048efe42169a81ee57b0c0511d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=co5PBuFQFygAj9bJ4rbDB2IL%2BeQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>è½¯æ ‡ç­¾å’Œç¡¬æ ‡ç­¾ï¼šåœ¨æœºå™¨å­¦ä¹ å’Œæ·±åº¦å­¦ä¹ ä¸­ï¼Œç¡¬æ ‡ç­¾ï¼ˆHard Labelsï¼‰å’Œè½¯æ ‡ç­¾ï¼ˆSoft Labelsï¼‰ æ˜¯ä¸¤ç§ä¸åŒçš„æ ‡ç­¾è¡¨ç¤ºæ–¹å¼ã€‚
<ol>
<li>ç¡¬æ ‡ç­¾ï¼ˆHard Labelsï¼‰åœ¨æ¨¡å‹è’¸é¦ä¸­ï¼Œç¡¬æ ‡ç­¾æ˜¯æŒ‡ çœŸå®æ•°æ®çš„æ ‡æ³¨ï¼Œé€šå¸¸æ˜¯ ç‹¬çƒ­ç¼–ç ï¼ˆOne-Hot Encodingï¼‰ çš„å½¢å¼ã€‚ç¡¬æ ‡ç­¾è¡¨ç¤ºæ¯ä¸ªæ ·æœ¬çš„çœŸå®ç±»åˆ«ï¼Œç”¨äº ç›‘ç£å­¦ä¹ ã€‚
<ol>
<li>ç‰¹ç‚¹ æ˜¯ç¦»æ•£æ€§å’Œæ˜ç¡®æ€§ï¼š
<ol>
<li>ç¦»æ•£æ€§ï¼šç¡¬æ ‡ç­¾æ˜¯ç¦»æ•£çš„ï¼Œæ¯ä¸ªæ ·æœ¬åªæœ‰ä¸€ä¸ªç±»åˆ«è¢«æ ‡è®°ä¸º1ï¼Œå…¶ä½™ç±»åˆ«ä¸º0ã€‚</li>
<li>æ˜ç¡®æ€§ï¼šç¡¬æ ‡ç­¾ç›´æ¥åæ˜ äº†æ•°æ®çš„çœŸå®ç±»åˆ«ï¼Œæ²¡æœ‰æ¦‚ç‡ä¿¡æ¯ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>è½¯æ ‡ç­¾ï¼ˆSoft Labelsï¼‰ åœ¨æ¨¡å‹è’¸é¦ä¸­ï¼Œè½¯æ ‡ç­¾æ˜¯æŒ‡æ•™å¸ˆæ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡åˆ†å¸ƒã€‚æ•™å¸ˆæ¨¡å‹å¯¹æ¯ä¸ªæ ·æœ¬è¿›è¡Œé¢„æµ‹ï¼Œè¾“å‡ºæ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡å€¼ï¼Œè¿™äº›æ¦‚ç‡å€¼æ„æˆäº†è½¯æ ‡ç­¾ã€‚</li>
<li>æš—çŸ¥è¯†ï¼šæŒ‡çš„æ˜¯<strong>æ•™å¸ˆæ¨¡å‹å­¦åˆ°çš„ã€æ— æ³•é€šè¿‡äººå·¥æ ‡æ³¨çš„ â€œç¡¬æ ‡ç­¾â€ ç›´æ¥ä½“ç°çš„éšæ€§è§„å¾‹ä¸å…³è”ä¿¡æ¯</strong>ï¼Œæ˜¯æ•™å¸ˆæ¨¡å‹åœ¨æµ·é‡æ•°æ®ä¸Šè®­ç»ƒåå†…åŒ–çš„ â€œç»éªŒâ€ã€‚
<ol>
<li>ä¸¾ä¾‹å¦‚ä¸‹ï¼šåˆ¤æ–­å¥å­ â€œè‹¹æœå‘å¸ƒä¼šå³å°†å¬å¼€â€ çš„ç±»åˆ«æ˜¯<code>[ç§‘æŠ€, ç¾é£Ÿ, ä½“è‚²]</code>ã€‚
<ol>
<li>ç¡¬æ ‡ç­¾ï¼š<code>[1,0,0]</code>ï¼ˆç§‘æŠ€ï¼‰</li>
<li>æš—çŸ¥è¯†ï¼šæ•™å¸ˆè¾“å‡º<code>[0.85, 0.1, 0.05]</code>ã€‚å…¶ä¸­<code>0.1</code>çš„ç¾é£Ÿæ¦‚ç‡ï¼Œå°±æ˜¯æš—çŸ¥è¯† (å› ä¸º â€œè‹¹æœâ€ ä¹Ÿå¯ä»¥æŒ‡æ°´æœï¼Œæ¨¡å‹æ•æ‰åˆ°äº†è¿™ä¸ªä¸€è¯å¤šä¹‰çš„éšæ€§å…³è”ã€‚)</li>
</ol>
</li>
</ol>
</li>
<li>æš—çŸ¥è¯†çš„æ ¸å¿ƒç‰¹ç‚¹
<ol>
<li>éšå«æ€§ï¼šæ— æ³•é€šè¿‡äººå·¥æ ‡æ³¨å¾—åˆ°ï¼Œæ˜¯æ¨¡å‹ä»æ•°æ®ä¸­è‡ªä¸»å­¦ä¹ åˆ°çš„æ¨¡å¼ã€‚</li>
<li>æ³›åŒ–æ€§ï¼šåŒ…å«ç±»åˆ«é—´çš„ç›¸ä¼¼æ€§ã€å…³è”æ€§ï¼Œèƒ½å¸®åŠ©å­¦ç”Ÿæ¨¡å‹æ›´å¥½åœ°å¤„ç†æ¨¡ç³Šæ ·æœ¬ã€‚</li>
<li>æ¸©åº¦ä¾èµ–ï¼šæš—çŸ¥è¯†çš„æå–éœ€è¦é€šè¿‡**æ¸©åº¦ç³»æ•° T **è½¯åŒ–æ•™å¸ˆæ¨¡å‹çš„è¾“å‡ºæ¦‚ç‡ã€‚T è¶Šå¤§ï¼Œæ¦‚ç‡åˆ†å¸ƒè¶Šå¹³æ»‘ï¼Œæš—çŸ¥è¯†çš„ä½“ç°è¶Šå……åˆ†
<ol>
<li>logitsï¼š<strong>logitsï¼ˆå¯¹æ•°å‡ ç‡ï¼‰æŒ‡çš„æ˜¯æ¨¡å‹æœ€åä¸€å±‚å…¨è¿æ¥å±‚çš„åŸå§‹è¾“å‡º</strong>â€”â€” å®ƒæ˜¯è¿˜æ²¡ç»è¿‡ Softmax æ¿€æ´»å‡½æ•°ã€æ²¡æœ‰è¢«å½’ä¸€åŒ–æˆæ¦‚ç‡çš„æ•°å€¼ï¼Œé€šä¿—ç†è§£å°±æ˜¯æ¯”å¦‚æ¯”èµ›è¯„å§”æ‰“åˆ†ï¼šæ­¤æ—¶åˆšè¿›è¡Œæ‰“åˆ†ï¼Œè¿˜æ²¡æœ‰æ ¹æ®åˆ†æ•°è¿›è¡Œåˆ†ç»„çš„é˜¶æ®µè¾“å‡º</li>
</ol>
</li>
</ol>
</li>
<li>æš—çŸ¥è¯†ä¸çŸ¥è¯†è’¸é¦çš„å…³ç³»: çŸ¥è¯†è’¸é¦çš„æ ¸å¿ƒå°±æ˜¯<strong>æŠŠæš—çŸ¥è¯†ä»æ•™å¸ˆæ¨¡å‹è¿ç§»åˆ°å­¦ç”Ÿæ¨¡å‹</strong>ã€‚
<ul>
<li>å¦‚æœåªè®©å­¦ç”Ÿå­¦ä¹ ç¡¬æ ‡ç­¾ï¼Œå­¦ç”Ÿåªèƒ½å­¦ä¼š â€œåˆ†ç±»ç»“æœâ€ï¼Œä½†å­¦ä¸ä¼š â€œåˆ†ç±»çš„é€»è¾‘â€ï¼›</li>
<li>ç»“åˆè½¯æ ‡ç­¾å­¦ä¹ æš—çŸ¥è¯†ï¼Œå­¦ç”Ÿä¸ä»…èƒ½åˆ¤æ–­ â€œæ˜¯ä»€ä¹ˆâ€ï¼Œè¿˜èƒ½ç†è§£ â€œä¸ºä»€ä¹ˆåƒâ€ï¼Œä»è€Œåœ¨æ ·æœ¬åˆ†å¸ƒå¤æ‚ã€æ•°æ®é‡å°‘çš„åœºæ™¯ä¸‹ï¼Œè¾¾åˆ°æ¥è¿‘æ•™å¸ˆæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€‚</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 data-id="heading-2">è’¸é¦è¿‡ç¨‹</h2>
<ol>
<li>å˜é‡ä»¥åŠå…¬å¼è¯¦è§£ï¼š
<ol>
<li>Zi(T) ï¼šè¡¨ç¤ºæ•™å¸ˆæ¨¡å‹å¯¹ç¬¬ i ç±»çš„ logitsï¼›  Zi(S)åŒç†è¡¨ç¤ºå­¦ç”Ÿæ¨¡å‹çš„ logits</li>
<li>yi è¡¨ç¤ºçœŸå®æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯ç¡¬æ ‡ç­¾</li>
<li>Softmax(Zi) = Pi = e^(zi  ) / âˆ‘j e ^ (zj)</li>
<li>è½¯åŒ–æ¦‚ç‡å…¬å¼(å¸¦æœ‰æ¸©åº¦ T çš„ softmax å…¬å¼ï¼Œç”Ÿæˆè½¯æ ‡ç­¾çš„å·¥å…·)ï¼šPi_T = e^(zi / T ) / âˆ‘j e ^ (zj / T)</li>
<li>äº¤å‰ç†µæŸå¤±å‡½æ•°(å¤šåˆ†ç±»ä¸ºä¾‹)ï¼šL_CE= - âˆ‘i  yi * log(y^)</li>
<li>å›¾åƒä»»åŠ¡ï¼šT=2 ï½ 4ï¼›NLP ä»»åŠ¡ï¼šT=5ï½10</li>
</ol>
</li>
<li>è’¸é¦æŸå¤±çš„è®¡ç®—ï¼šL_total = Î± * L_hard + (1-Î±)  * L_soft             Î± âˆˆ  [0,1]) æ˜¯æŸå¤±æƒé‡ï¼Œé€šå¸¸å– (0.3)ï¼ˆä¾§é‡è½¯æŸå¤±ä¼ é€’æš—çŸ¥è¯†ï¼‰ã€‚
<ol>
<li>è½¯æŸå¤± L_soft æ˜¯ä¼ é€’æ•™å¸ˆçš„"æš—çŸ¥è¯†"ï¼Œåˆ†åˆ«ç»“ç®—æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹çš„è½¯åŒ–æ¦‚ç‡ï¼š
<ol>
<li>1.4 ä¸­çš„è½¯åŒ–æ¦‚ç‡å…¬å¼åˆ†åˆ«è®¡ç®—å¾—åˆ° Pi_T å’Œ Qi_S</li>
<li>æ³¨ï¼šå…¶å®å°±æ˜¯æ¨¡å‹æœ€åä¸€å±‚å…¨è¿æ¥æˆçš„åŸå§‹è¾“å‡º logitsï¼Œä¸ä½¿ç”¨ softmax è€Œæ˜¯å¸¦æœ‰ T çš„ softmax å¾—åˆ°æ¯ä¸ªç±»åˆ«çš„æ¦‚ç‡å€¼</li>
</ol>
</li>
<li>è®¡ç®—äº¤å‰ç†µæŸå¤±ï¼šL_soft = - âˆ‘i Pi_T   * log(Qi_S)
<ol>
<li>ä½¿ç”¨ 1.5 ä¸­çš„å…¬å¼ï¼Œå…¶å®è¿™å°±æ˜¯ä¸€ä¸ªè®¡ç®—æ•™å¸ˆæ¨¡å‹è¾“å‡ºæ¦‚ç‡å’Œå­¦ç”Ÿæ¦‚ç‡åˆ†å¸ƒçš„å·®å€¼åï¼Œåå‘ä¼ æ’­æ¥è®­ç»ƒå­¦ç”Ÿæ¨¡å‹çš„è¿‡ç¨‹</li>
</ol>
</li>
<li>ç¡¬æŸå¤± L_hard æ˜¯ä¿è¯ä»»åŠ¡æ­£ç¡®æ€§ï¼š
<ol>
<li>æ­¤æ—¶ T=1ï¼Œä¹Ÿå°±æ˜¯è¯´ç¡¬åŒ–æ¦‚ç‡å…¬å¼å°±æ˜¯åŸæœ¬çš„ softmax å‡½æ•°å¾—åˆ°çš„</li>
<li>Pi_Sï¼šç¡¬æ ‡ç­¾ä¹Ÿå°±æ˜¯ softmax å¾—åˆ°çš„ç»“æœï¼Œ L_hard = - âˆ‘i yi   * log(Pi_S)ï¼Œæ­¤æ—¶ä¸éœ€è¦æ•™å¸ˆæ¨¡å‹è®¡ç®—ï¼Œå› ä¸ºç”¨çš„æ˜¯çœŸå®æ ‡ç­¾</li>
</ol>
</li>
<li>softmax å‡½æ•°æ­¤æ—¶ä¹Ÿå¯ä»¥ç”¨ MSE å‡½æ•°æ¥ä»£æ›¿ï¼ŒåŸå› å¦‚ä¸‹ï¼š
<ol>
<li>å½“å‰è®¡ç®—æŸå¤±ç›´æ¥ä½¿ç”¨é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„å‡æ–¹å’Œï¼ŒåŒæ ·å¯ä»¥è¿›è¡Œåå‘ä¼ æ’­è®­ç»ƒï¼Œè€Œä¸”ä¸ç»è¿‡ softmax è¿˜å¯ä»¥é¿å… Softmax çš„æ•°å€¼å‹ç¼©ï¼Œæ›´ç›´æ¥ä¼ é€’æ•™å¸ˆçš„åŸå§‹åˆ¤æ–­ä¿¡æ¯ã€‚</li>
<li>æ­¤æ—¶çš„ MSE ä¸æ˜¯ä¸ºäº†åˆ†ç±»ï¼Œè€Œæ˜¯å•çº¯ä¸ºäº†è®©å­¦ç”Ÿåˆ†å¸ƒå’Œæ•™å¸ˆåˆ†å¸ƒæ¥è¿‘çš„æ›´å¿«</li>
<li>MSE ä½¿ç”¨åœºæ™¯ï¼š(å¿«é€ŸéªŒè¯ã€å°æ¨¡å‹è’¸é¦)   CE ä½¿ç”¨åœºæ™¯: (æ ¸å¿ƒè’¸é¦åœºæ™¯ï¼Œä¼˜å…ˆé€‰æ‹©)</li>
</ol>
</li>
<li>æ€»ç»“ï¼š logits --&gt; Pi --&gt; L ï¼Œæ•™å¸ˆæ¨¡å‹å‚æ•°å†»ç»“ï¼Œåªæ›´æ–°å­¦ç”Ÿæ¨¡å‹å‚æ•°</li>
</ol>
</li>
</ol>
<h2 data-id="heading-3">1 çŸ¥è¯†</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebc942849fbb4788b8be7af0e2bcf889~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=0ve%2BR1YlvreMdEZN6L6EnV4vGGs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>





























<table><thead><tr><th>çŸ¥è¯†ç±»å‹</th><th>è¿ç§»å¯¹è±¡</th><th>é€‚ç”¨åœºæ™¯</th><th>å…¸å‹æŸå¤±å‡½æ•°</th></tr></thead><tbody><tr><td>åŸºäºå“åº”çš„çŸ¥è¯†</td><td>æ•™å¸ˆæ¨¡å‹å…¨è¿æ¥å±‚è¾“å‡º logits</td><td>å…¥é—¨çº§è’¸é¦ã€å°æ¨¡å‹è½»é‡åŒ–</td><td>äº¤å‰ç†µï¼ˆè½¯æ ‡ç­¾ï¼‰ã€MSEï¼ˆLogits åŒ¹é…ï¼‰</td></tr><tr><td>åŸºäºç‰¹å¾çš„çŸ¥è¯†</td><td>æ•™å¸ˆæ¨¡å‹ä¸­é—´å±‚çš„ç‰¹å¾å‘é‡</td><td>å¤æ‚ä»»åŠ¡ï¼ˆæ£€æµ‹ / åˆ†å‰²ï¼‰ã€å¤§æ¨¡å‹è’¸é¦</td><td>MSEã€ä½™å¼¦ç›¸ä¼¼åº¦ã€Gram çŸ©é˜µæŸå¤±</td></tr><tr><td>åŸºäºå…³ç³»çš„çŸ¥è¯†</td><td>æ•™å¸ˆæ¨¡å‹æ ·æœ¬é—´çš„å…³è”å…³ç³»</td><td>ç»†ç²’åº¦åˆ†ç±»ã€å°æ ·æœ¬å­¦ä¹ </td><td>å…³ç³»ä¸€è‡´æ€§æŸå¤±ã€å¯¹æ¯”æŸå¤±</td></tr></tbody></table>
<ol>
<li>
<p>åŸºäºå“åº”çš„çŸ¥è¯†ï¼šæœ€åŸºç¡€ã€æœ€ç»å…¸çš„è’¸é¦èŒƒå¼
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90d0b06b9d244811b0211c0c879641b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=j5Gn8y%2FQ6ULRrWWz6n4Pet%2Ba8bQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>æ ¸å¿ƒå®šä¹‰ï¼šçŸ¥è¯†æ˜¯æ•™å¸ˆæ¨¡å‹åœ¨<strong>è¾“å‡ºå±‚çš„å“åº”</strong>ï¼Œå³æœ€åä¸€å±‚çš„ <strong>Logits</strong> æˆ–ç»è¿‡ Softmaxï¼ˆå¸¦æ¸©åº¦ Tï¼‰çš„ <strong>æ¦‚ç‡åˆ†å¸ƒ</strong>ã€‚</li>
<li>é€šä¿—ç†è§£ï¼šç›¸å½“äºæ•™å¸ˆç›´æ¥æŠŠ â€œæœ€ç»ˆç­”æ¡ˆ + æœ€ç»ˆç»“æœçš„æ€è€ƒâ€ å‘Šè¯‰å­¦ç”Ÿï¼š</li>
<li>è¿ç§»æ–¹å¼ï¼šå­¦ç”Ÿæ¨¡å‹çš„è¾“å‡ºå±‚å“åº” å¯¹é½ æ•™å¸ˆæ¨¡å‹çš„è¾“å‡ºå±‚å“åº”</li>
<li>ä¼˜åŠ¿ï¼šå®ç°ç®€å•ï¼Œæ— éœ€ä¿®æ”¹æ¨¡å‹ç»“æ„ï¼Œé€‚åˆå…¥é—¨å’Œå¿«é€ŸéªŒè¯</li>
<li>åŸºäºè½¯ç›®æ ‡çš„å“åº”å‹çŸ¥è¯†è’¸é¦é€šå¸¸ç”¨äºç›‘ç£å­¦ä¹ çš„åœºæ™¯ä¸­ã€‚</li>
</ol>
</li>
<li>
<p>åŸºäºç‰¹å¾çš„çŸ¥è¯†ï¼šå‡½æ•°é€šè¿‡æœ€å°åŒ–æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹ä¹‹é—´çš„ç‰¹å¾æ¿€æ´»å·®å¼‚æ¥è¿›è¡Œä¼˜åŒ–
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0205f2fc67d1407a99a9a69c5df0f1af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=C%2FIo09BAggAnPASfJ03PAozST6k%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>æ ¸å¿ƒå®šä¹‰ï¼šçŸ¥è¯†æ˜¯æ•™å¸ˆæ¨¡å‹<strong>ä¸­é—´å±‚çš„ç‰¹å¾è¡¨ç¤º</strong>ï¼Œè¿™äº›ç‰¹å¾æ˜¯æ¨¡å‹å¯¹è¾“å…¥æ•°æ®çš„ â€œæŠ½è±¡ç†è§£â€</li>
<li>é€šä¿—ç†è§£ï¼šæ•™å¸ˆä¸ä»…å‘Šè¯‰å­¦ç”Ÿ â€œç­”æ¡ˆâ€ï¼Œè¿˜æŠŠ â€œè§£é¢˜çš„è‰ç¨¿çº¸â€ ç»™å­¦ç”Ÿçœ‹ï¼Œè®©å­¦ç”Ÿå¯ä»¥å­¦ä¹ åˆ†æé—®é¢˜çš„å…³é”®æ­¥éª¤</li>
<li>è¿ç§»æ–¹å¼ï¼šé€‰æ‹©æ•™å¸ˆä¸å­¦ç”Ÿçš„<strong>å¯¹åº”ä¸­é—´å±‚</strong>ï¼ˆéœ€ä¿è¯ç»´åº¦åŒ¹é…ï¼Œä¸åŒ¹é…æ—¶ç”¨æŠ•å½±å±‚è½¬æ¢ï¼‰ï¼Œè®©å­¦ç”Ÿçš„ä¸­é—´ç‰¹å¾ å¯¹é½ æ•™å¸ˆçš„ä¸­é—´ç‰¹å¾ï¼›</li>
<li>å®ç°æ­¥éª¤æ‹†è§£ï¼š
<ol>
<li>é€‰å®šä¸­é—´å±‚ï¼š(ç›®çš„ï¼šä¿è¯ä¸¤è€…ç‰¹å¾çš„è¯­ä¹‰å±‚çº§ä¸€è‡´)
<ol>
<li>é€‰æ‹©æ–¹æ³•ï¼šåˆ†å±‚çº§(æ ¹æ®æ¨¡å‹ç»“æ„é¡ºåºåˆ†å±‚çº§)å’Œæ‰¾å¯¹åº”(åŒç»“æ„å¯¹åº”æ¯”ä¾‹ï¼Œä¸åŒç»“æ„ä¼˜å…ˆé€‰è¾“å‡ºç»´åº¦ç›¸è¿‘ + è¯­ä¹‰å±‚çº§ç›¸è¿‘çš„å±‚)</li>
<li>ä¸ç”¨çº ç»“ â€œé€‰æœ€å‡†çš„å±‚â€ï¼Œä¼˜å…ˆé€‰<strong>ä¸­å±‚</strong>ï¼ˆåº•å±‚å¤ªç®€å•ã€é«˜å±‚å¤ªæ¥è¿‘è¾“å‡ºå±‚ï¼Œä¸­å±‚çš„çŸ¥è¯†è¿ç§»æ€§ä»·æ¯”æœ€é«˜ï¼‰ï¼›</li>
<li>è‹¥ä¸ç¡®å®šï¼Œç›´æ¥é€‰æ¨¡å‹çš„<strong>å€’æ•°ç¬¬ 3~ ç¬¬ 5 å±‚</strong>ï¼ˆå¤§éƒ¨åˆ†æ¨¡å‹çš„æ ¸å¿ƒè¯­ä¹‰éƒ½åœ¨è¿™ä¸ªåŒºé—´ï¼‰ã€‚</li>
</ol>
</li>
<li>æå–ä¸­é—´ç‰¹å¾ï¼šé€šä¿—ç†è§£å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªé’©å­å‡½æ•°æˆ–è€…ä¿®æ”¹æ¨¡å‹ï¼Œè®©æ¨¡å‹åœ¨å‰å‘ä¼ æ’­çš„æ—¶å€™åœ¨ä½ é€‰å®šçš„ä¸­é—´å±‚è¿›è¡Œ"æ‹¦æˆª"ï¼ŒæŠŠä¸­é—´å±‚è¾“å‡ºä¿å­˜ä¸‹æ¥ï¼Œä¸å½±å“æ­£å¸¸è®­ç»ƒï¼Œåªæ˜¯ä»ä¸­é—´å¤åˆ¶äº†ä¸€ä»½æ•°æ®ã€‚</li>
<li>ç‰¹å¾ç»´åº¦åŒ¹é…ï¼šåŠ æŠ•å½±å±‚
<ol>
<li>æŠ•å½±å±‚çš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼šè§£å†³å¸ˆç”Ÿç‰¹å¾ â€œç»´åº¦ä¸åŒ¹é…â€ çš„é—®é¢˜ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ª â€œè½¬æ¢å™¨â€ã€‚</li>
<li>å…¶å®åœ¨ NLP ä¸­å°±æ˜¯åŠ ä¸€ä¸ªçº¿æ€§å˜æ¢æ¥æ”¹å˜ç»´åº¦ï¼Œä¸ç ´åç‰¹å¾çš„è¯­ä¹‰ä¿¡æ¯ã€‚</li>
<li>æ­¤æ—¶ç»“æœå°±æ˜¯æ•™å¸ˆæ¨¡å‹ä¸­é—´å±‚è¾“å‡ºå’Œå­¦ç”Ÿæ¨¡å‹ä¸­é—´å±‚è¾“å‡ºçš„ç»´åº¦æ˜¯ä¸€è‡´çš„</li>
</ol>
</li>
<li>è®¡ç®—æŸå¤±å¹¶ä¼˜åŒ–ï¼šä½¿ç”¨è¡¨æ ¼ä¸­çš„æŸå¤±å‡½æ•°ï¼Œå¹¶ä½¿ç”¨æ–¹å‘ä¼ æ’­è¿›è¡Œè®­ç»ƒå³å¯</li>
<li>Gram çŸ©é˜µæŸå¤±ï¼ˆGram Matrix Lossï¼‰ï¼š
<ol>
<li>Gram çŸ©é˜µä¸å…³å¿ƒç‰¹å¾çš„ â€œå…·ä½“æ•°å€¼â€ï¼Œåªå…³å¿ƒ <strong>â€œç‰¹å¾å†…éƒ¨ä¸åŒéƒ¨åˆ†çš„å…³è”ç¨‹åº¦â€</strong>ã€‚</li>
<li>æå–æ•™å¸ˆå’Œå­¦ç”Ÿçš„<strong>ä¸­å±‚éšè—ç‰¹å¾</strong>ï¼šå½¢çŠ¶ä¸º<code>[æ‰¹æ¬¡å¤§å°, åºåˆ—é•¿åº¦, éšè—å±‚ç»´åº¦]</code>ï¼›</li>
<li>è®¡ç®— Gram çŸ©é˜µï¼šè¡¡é‡ â€œè¯ A çš„éšè—å‘é‡â€ å’Œ â€œè¯ B çš„éšè—å‘é‡â€ çš„ç›¸å…³æ€§ï¼›</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>åŸºäºå…³ç³»çš„çŸ¥è¯†ï¼šçªç ´äº† â€œå•æ ·æœ¬çŸ¥è¯†â€ çš„å±€é™ï¼Œå…³æ³¨æ•™å¸ˆæ¨¡å‹å¯¹<strong>å¤šä¸ªæ ·æœ¬ä¹‹é—´å…³ç³»</strong>çš„ç†è§£
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/babc038ea54147f694c40c882e0b4de7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=Ik7EpZDJxU%2BrLI2V27DP3He0VbE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>
<p>æ ¸å¿ƒå®šä¹‰ï¼šçŸ¥è¯†ä¸æ˜¯å•ä¸ªæ ·æœ¬çš„è¾“å‡ºæˆ–ç‰¹å¾ï¼Œè€Œæ˜¯<strong>æ ·æœ¬ä¹‹é—´çš„ç›¸å¯¹å…³ç³»</strong>ï¼Œæ¯”å¦‚ â€œæ ·æœ¬ A å’Œæ ·æœ¬ B çš„ç›¸ä¼¼æ€§é«˜äºæ ·æœ¬ A å’Œæ ·æœ¬ Câ€â€œæ ·æœ¬ X æ˜¯æ ·æœ¬ Y çš„ç‰¹ä¾‹â€ã€‚</p>
</li>
<li>
<p>é€šä¿—ç†è§£ï¼šæ•™å¸ˆæ•™å­¦ç”Ÿ â€œä¸¾ä¸€åä¸‰â€ çš„èƒ½åŠ›ï¼Œä¸æ˜¯æ•™å­¦ç”Ÿ â€œè¿™æ˜¯çŒ«â€â€œé‚£æ˜¯ç‹—â€ï¼Œè€Œæ˜¯æ•™ â€œçŒ«å’Œè€è™é•¿å¾—åƒï¼ŒçŒ«å’Œç‹—é•¿å¾—ä¸åƒâ€â€œæ³¢æ–¯çŒ«æ˜¯çŒ«çš„ä¸€ç§â€ã€‚</p>
</li>
<li>
<p>è¿ç§»æ–¹å¼ï¼šæ„å»ºæ ·æœ¬ç»„ï¼ˆå¯¹ï¼‰ï¼Œè®©å­¦ç”Ÿæ¨¡å‹å­¦åˆ°çš„æ ·æœ¬é—´å…³ç³» ä¸ æ•™å¸ˆæ¨¡å‹ä¸€è‡´ï¼›</p>
</li>
<li>
<p>ä¼˜åŠ¿ï¼šèƒ½ä¼ é€’ â€œæ³›åŒ–æ€§çŸ¥è¯†â€ï¼Œè§£å†³å°æ ·æœ¬ã€ç»†ç²’åº¦åˆ†ç±»ç­‰æ•°æ®ä¸è¶³çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>å®ç°æ­¥éª¤æ‹†è§£ï¼š</p>
<ol>
<li>
<p>æ„å»ºæ ·æœ¬ç»„ï¼š</p>
<ol>
<li>ä»æ‰¹æ¬¡ä¸­é€‰å­é›†æ„å»º â€œæ ·æœ¬å¯¹ / æ ·æœ¬ç»„â€ï¼Œæ¯”å¦‚æ‰¹æ¬¡ B=8(æ‰¹æ¬¡æ˜¯æ ·æœ¬é›†)ï¼Œé€‰å…¶ä¸­ 4 ä¸ªæ ·æœ¬ç»„æˆç»„(æŠ½æ ·)ï¼Œè®¡ç®—ä¸¤ä¸¤ä¹‹é—´çš„å…³ç³»ï¼›</li>
<li>ç›®çš„ï¼šè®©æ¨¡å‹å­¦ä¹  â€œæ ·æœ¬ A å’Œ B åƒï¼ŒA å’Œ C ä¸åƒâ€ è¿™ç±»ç›¸å¯¹å…³ç³»ã€‚</li>
</ol>
</li>
<li>
<p>æå–æ ·æœ¬ç‰¹å¾ï¼šæ–¹æ³•åŒä¸Šï¼Œåªæ˜¯åç»­å¤„ç†ä¸å¤ªä¸€è‡´ï¼Œä¸€ä¸ªæ˜¯å•ä¸ªæ ·æœ¬ï¼Œä¸€ä¸ªæ˜¯æ ·æœ¬ç»„ï¼Œæ­¤æ—¶ä¼šå¾—åˆ°æ•™å¸ˆæ¨¡å‹çš„ç‰¹å¾çŸ©é˜µå’Œå­¦ç”Ÿæ¨¡å‹çš„ç‰¹å¾çŸ©é˜µï¼Œè®¡ç®—çŸ©é˜µè·ç¦»ï¼Œå¹¶è®­ç»ƒè®©å…¶è·ç¦»æ‹‰è¿‘</p>
</li>
<li>
<p>è®¡ç®—å…³ç³»çŸ©é˜µï¼šå¯¹æ•™å¸ˆ / å­¦ç”Ÿçš„æ ·æœ¬ç‰¹å¾ï¼Œè®¡ç®— â€œä¸¤ä¸¤ç›¸ä¼¼åº¦çŸ©é˜µâ€ï¼ˆæ¯”å¦‚ä½™å¼¦ç›¸ä¼¼åº¦ï¼‰ï¼Œå¾—åˆ°æ•™å¸ˆå…³ç³»çŸ©é˜µ (R_t)ã€å­¦ç”Ÿå…³ç³»çŸ©é˜µ (R_s)ï¼›</p>
<ol>
<li>ä¼˜å…ˆç”¨<strong>ä½™å¼¦ç›¸ä¼¼åº¦</strong>ï¼ˆé€šç”¨ã€é²æ£’ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ•ˆæœæœ€å¥½ï¼‰ï¼›</li>
<li>å¦‚æœç‰¹å¾å·²ç»åšäº†å½’ä¸€åŒ–ï¼ˆæ¯”å¦‚ç”¨<code>F.normalize</code>ï¼‰ï¼Œç”¨<strong>ç‚¹ç§¯ç›¸ä¼¼åº¦</strong>ï¼ˆè®¡ç®—æ›´å¿«ï¼Œç»“æœå’Œä½™å¼¦ç›¸ä¼¼åº¦ä¸€è‡´ï¼‰ã€‚</li>
</ol>





























<table><thead><tr><th>ç›¸ä¼¼åº¦æ–¹æ³•</th><th>è®¡ç®—é€»è¾‘ï¼ˆé€šä¿—ç‰ˆï¼‰</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th></tr></thead><tbody><tr><td>ä½™å¼¦ç›¸ä¼¼åº¦</td><td>è¡¡é‡ä¸¤ä¸ªç‰¹å¾<strong>æ–¹å‘æ˜¯å¦ä¸€è‡´</strong>ï¼Œä¸å…³å¿ƒé•¿åº¦ï¼ˆæ¯”å¦‚ç‰¹å¾ A=[1,2], ç‰¹å¾ B=[2,4]ï¼Œæ–¹å‘ç›¸åŒï¼Œä½™å¼¦ç›¸ä¼¼åº¦ = 1ï¼‰</td><td>ç‰¹å¾é•¿åº¦å·®å¼‚å¤§çš„åœºæ™¯ï¼ˆå¦‚ NLP çš„ä¸åŒé•¿åº¦å¥å­ç‰¹å¾ï¼‰</td><td>å¯¹ç‰¹å¾ç¼©æ”¾ä¸æ•æ„Ÿï¼Œé€šç”¨å‹å¼º</td></tr><tr><td>æ¬§å¼è·ç¦»ï¼ˆå€’æ•°ï¼‰</td><td>è¡¡é‡ä¸¤ä¸ªç‰¹å¾<strong>åœ¨ç©ºé—´ä¸­çš„ç›´çº¿è·ç¦»</strong>ï¼Œè·ç¦»è¶Šå°è¶Šç›¸ä¼¼ï¼ˆæ¯”å¦‚ A å’Œ B åæ ‡ç¦»å¾—è¶Šè¿‘ï¼Œè¶Šç›¸ä¼¼ï¼‰</td><td>ç‰¹å¾ç»´åº¦ä½ã€æ•°å€¼åˆ†å¸ƒå‡åŒ€çš„åœºæ™¯</td><td>è®¡ç®—ç®€å•ï¼Œæ˜“äºç†è§£</td></tr><tr><td>ç‚¹ç§¯ç›¸ä¼¼åº¦</td><td>è¡¡é‡ä¸¤ä¸ªç‰¹å¾<strong>æ•°å€¼çš„ä¹˜ç§¯å’Œ</strong>ï¼Œæ•°å€¼è¶Šå¤§ã€å¯¹åº”ç»´åº¦è¶Šä¸€è‡´ï¼Œç›¸ä¼¼åº¦è¶Šé«˜</td><td>ç‰¹å¾å·²ç»å½’ä¸€åŒ–ï¼ˆé•¿åº¦ä¸º 1ï¼‰çš„åœºæ™¯</td><td>è®¡ç®—é€Ÿåº¦æœ€å¿«ï¼Œé€‚åˆå¤§è§„æ¨¡æ ·æœ¬</td></tr></tbody></table>
</li>
<li>
<p>è®¡ç®—æŸå¤±å¹¶ä¼˜åŒ–ï¼šç”¨å…³ç³»ä¸€è‡´æ€§æŸå¤± / å¯¹æ¯”æŸå¤±ï¼Œè®© (R_s) é€¼è¿‘ (R_t)ï¼Œä»…æ›´æ–°å­¦ç”Ÿå‚æ•°ã€‚</p>
<ol>
<li>å…³ç³»ä¸€è‡´æ€§æŸå¤±ï¼ˆRelation Consistency Lossï¼‰ï¼šç›´æ¥è¡¡é‡æ•™å¸ˆå’Œå­¦ç”Ÿçš„<strong>æ ·æœ¬å…³ç³»çŸ©é˜µ</strong>çš„å·®å¼‚ï¼Œè®©å­¦ç”Ÿå­¦åˆ°çš„ â€œæ ·æœ¬é—´ç›¸ä¼¼æ€§â€ å’Œæ•™å¸ˆå®Œå…¨ä¸€è‡´ã€‚
<ol>
<li>ä½™å¼¦ç›¸ä¼¼åº¦ï¼š<strong>åªåš â€œå…³ç³»æè¿°â€</strong>ï¼ˆæ¯”å¦‚ â€œå­¦ç”Ÿ A å’Œ B åƒï¼Œç›¸ä¼¼åº¦ 0.9â€ï¼‰ï¼Œæ˜¯ä¸€ä¸ª â€œé™æ€æ•°å€¼â€ï¼ŒæŠŠ â€œç‰¹å¾çŸ©é˜µâ€ è½¬åŒ–ä¸º â€œå…³ç³»çŸ©é˜µâ€ï¼Œåªåš â€œæ•°å€¼è½¬æ¢â€ï¼Œæ— ä¼˜åŒ–èƒ½åŠ›</li>
<li>å…³ç³»ä¸€è‡´æ€§æŸå¤±ï¼š<strong>åš â€œå…³ç³»ä¼˜åŒ–â€</strong>ï¼ˆè¡¡é‡å­¦ç”Ÿçš„æè¿°å’Œæ•™å¸ˆçš„æè¿°å·®å¤šå°‘ï¼Œå†é€šè¿‡åå‘ä¼ æ’­è®©å­¦ç”Ÿä¿®æ­£ï¼‰ï¼Œæ˜¯ä¸€ä¸ª â€œåŠ¨æ€ä¼˜åŒ–è¿‡ç¨‹â€ï¼Œé€šä¿—è®²å°±æ˜¯è¿™ä¸€æ­¥å¼€å§‹å¯¹ 1 ä¸­å¾—åˆ°çš„å…³ç³»çŸ©é˜µè¿›è¡Œå¤„ç†ï¼Œå…¶å®å°±æ˜¯è¿›è¡Œå½’ä¸€åŒ–åçš„ MSE</li>
<li>ä¼˜åŒ–ç›®æ ‡ï¼šè®©å­¦ç”Ÿçš„<strong>å…³ç³»çŸ©é˜µæ•°å€¼</strong> é€å…ƒç´ é€¼è¿‘æ•™å¸ˆï¼Œä¾èµ–æ•™å¸ˆçš„ â€œæ ‡å‡†ç­”æ¡ˆâ€ï¼ˆå…³ç³»çŸ©é˜µï¼‰</li>
<li>ä½¿ç”¨åœºæ™¯ï¼šæœ‰é«˜æ€§èƒ½æ•™å¸ˆæ¨¡å‹çš„åœºæ™¯ï¼Œè¿½æ±‚ â€œå­¦ç”Ÿå®Œå…¨å¤åˆ»æ•™å¸ˆçš„å…³ç³»åˆ¤æ–­â€</li>
</ol>
</li>
<li>å¯¹æ¯”æŸå¤±ï¼ˆContrastive Loss ï¼› ç»å…¸ InfoNCE æŸå¤±ï¼‰ï¼šä¸ç›´æ¥åŒ¹é…ç›¸ä¼¼åº¦æ•°å€¼ï¼Œè€Œæ˜¯é€šè¿‡ â€œæ‹‰è¿‘åŒç±»æ ·æœ¬ã€æ¨è¿œå¼‚ç±»æ ·æœ¬â€ çš„æ–¹å¼(ç‰©ç†æ„ä¹‰ï¼šè®©æ­£æ ·æœ¬å¯¹çš„ç›¸ä¼¼åº¦å°½å¯èƒ½å¤§ï¼Œè´Ÿæ ·æœ¬å¯¹çš„ç›¸ä¼¼åº¦å°½å¯èƒ½å°ã€‚)ï¼Œè®©å­¦ç”Ÿå­¦åˆ°æ•™å¸ˆçš„ â€œæ ·æœ¬å…³ç³»é€»è¾‘â€ï¼Œæ˜¯æ›´é²æ£’çš„å…³ç³»è’¸é¦æ–¹å¼ã€‚
<ol>
<li>ä¼˜åŒ–ç›®æ ‡ï¼šè®©å­¦ç”Ÿå­¦ä¼š <strong>â€œåŒç±»æ ·æœ¬æ›´åƒï¼Œå¼‚ç±»æ ·æœ¬æ›´ä¸åƒâ€</strong> çš„ç›¸å¯¹å…³ç³»ï¼Œä¸è¿½æ±‚æ•°å€¼å®Œå…¨ä¸€è‡´ï¼›ä¸ä¾èµ–æ•™å¸ˆï¼Œåªä¾èµ–æ ·æœ¬çš„ç±»åˆ«æ ‡ç­¾ï¼ˆæ­£æ ·æœ¬ / è´Ÿæ ·æœ¬ï¼‰</li>
<li>ä½¿ç”¨åœºæ™¯ï¼šæ•™å¸ˆæ¨¡å‹æ•ˆæœä¸€èˆ¬ï¼Œæˆ–æ ·æœ¬æ ‡ç­¾å……è¶³çš„åœºæ™¯ï¼Œè¿½æ±‚ â€œå­¦ç”Ÿè‡ªä¸»å­¦ä¹ åˆç†çš„æ ·æœ¬å…³ç³»â€</li>
</ol>
</li>
<li>ä¸¤ç§æŸå¤±å¯ä»¥æ­é…ä½¿ç”¨
<ol>
<li>å…³ç³»ä¸€è‡´æ€§æŸå¤±ä¿è¯å­¦ç”Ÿ â€œå¤åˆ»æ•™å¸ˆçš„ç»éªŒâ€ï¼›</li>
<li>å¯¹æ¯”æŸå¤±ä¿è¯å­¦ç”Ÿ â€œå­¦ä¹ é€šç”¨çš„å…³ç³»é€»è¾‘â€ï¼Œé¿å…è¿‡æ‹Ÿåˆåˆ°æ•™å¸ˆçš„è¯¯å·®</li>
<li>æ•™å¸ˆæ¨¡å‹èƒ½åŠ›æå¼ºæˆ–è€…èµ„æºæœ‰é™æƒ…å†µä¸‹ä¸å»ºè®®æ­é…ä½¿ç”¨</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 data-id="heading-4">2 è®­ç»ƒ</h2>
<ol>
<li>ç¦»çº¿è’¸é¦ï¼šç¦»çº¿è’¸é¦æ˜¯æœ€å¸¸è§çš„æ–¹æ³•ï¼Œå…¶ä¸­ä½¿ç”¨ä¸€ä¸ªé¢„è®­ç»ƒçš„æ•™å¸ˆæ¨¡å‹æ¥æŒ‡å¯¼å­¦ç”Ÿæ¨¡å‹ã€‚åœ¨è¿™ç§æ–¹å¼ä¸­ï¼Œæ•™å¸ˆæ¨¡å‹é¦–å…ˆåœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè¿›è¡Œé¢„è®­ç»ƒï¼Œç„¶åå°†æ•™å¸ˆæ¨¡å‹ä¸­çš„çŸ¥è¯†è’¸é¦åˆ°å­¦ç”Ÿæ¨¡å‹ä¸­è¿›è¡Œè®­ç»ƒã€‚
<ol>
<li>ä¼˜ç¼ºç‚¹ï¼š
<ol>
<li>ä¼˜ç‚¹ï¼šæ•™å¸ˆæ€§èƒ½ç¨³å®šï¼Œå­¦ç”Ÿçš„ä¸Šé™ç”±æ•™å¸ˆå†³å®šï¼›å®ç°ç®€å•ï¼Œå·¥ä¸šç•Œè½åœ°æˆç†Ÿã€‚</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦åˆ†ä¸¤æ­¥è®­ç»ƒï¼Œè€—æ—¶è¾ƒé•¿ï¼›æ•™å¸ˆä¸€æ—¦å›ºå®šï¼Œæ— æ³•åœ¨å­¦ç”Ÿè®­ç»ƒè¿‡ç¨‹ä¸­ä¼˜åŒ–ã€‚</li>
</ol>
</li>
<li>å…¸å‹åº”ç”¨ï¼š
<ol>
<li>å¤§æ¨¡å‹è½»é‡åŒ–ï¼šå¦‚ç”¨ GPT-3 è’¸é¦å°å°ºå¯¸ GPTã€ç”¨ ResNet-152 è’¸é¦ ResNet-18ï¼›</li>
<li>ç‰¹å®šä»»åŠ¡ä¼˜åŒ–ï¼šå¦‚ç”¨ä¸­æ–‡é¢„è®­ç»ƒå¤§æ¨¡å‹è’¸é¦å°æ¨¡å‹ï¼Œé€‚é…ç§»åŠ¨ç«¯æ–‡æœ¬åˆ†ç±»ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>åœ¨çº¿è’¸é¦ï¼šåœ¨ç¦»çº¿è’¸é¦ä¸­ï¼Œé¢„è®­ç»ƒçš„æ•™å¸ˆæ¨¡å‹é€šå¸¸æ˜¯ä¸€ä¸ªé«˜å®¹é‡çš„æ·±åº¦ç¥ç»ç½‘ç»œã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½æ— æ³•è·å¾—é€‚ç”¨äºç¦»çº¿è’¸é¦çš„é¢„è®­ç»ƒæ¨¡å‹ã€‚ä¸ºäº†è§£å†³è¿™ä¸€å±€é™æ€§ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿è’¸é¦ï¼Œåœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹åœ¨ä¸€ä¸ªç«¯åˆ°ç«¯çš„è®­ç»ƒè¿‡ç¨‹ä¸­åŒæ—¶æ›´æ–°ã€‚åœ¨çº¿è’¸é¦å¯ä»¥é€šè¿‡å¹¶è¡Œè®¡ç®—å®ç°ï¼Œå› æ­¤æ˜¯ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•ã€‚
<ol>
<li>å®ç°æ­¥éª¤ï¼š
<ol>
<li>åˆå§‹åŒ–å¤šä¸ªæ¨¡å‹ï¼šé€šå¸¸åˆå§‹åŒ–ä¸€ç»„ç»“æ„ç›¸åŒæˆ–ç›¸ä¼¼çš„æ¨¡å‹ï¼ˆå¦‚ 3 ä¸ª ResNet-18ï¼‰ï¼Œäº’ä¸º â€œæ•™å¸ˆâ€ å’Œ â€œå­¦ç”Ÿâ€ï¼›</li>
<li>ååŒè®­ç»ƒï¼šæ¯ä¸ªæ¨¡å‹åœ¨è®­ç»ƒæ—¶ï¼Œæ—¢ä½œä¸º â€œå­¦ç”Ÿâ€ å­¦ä¹ å…¶ä»–æ¨¡å‹çš„è¾“å‡ºï¼Œä¹Ÿä½œä¸º â€œæ•™å¸ˆâ€ è¾“å‡ºè½¯æ ‡ç­¾æŒ‡å¯¼å…¶ä»–æ¨¡å‹ï¼›</li>
<li>åŠ¨æ€æ›´æ–°ï¼šæ‰€æœ‰æ¨¡å‹çš„å‚æ•°éƒ½åœ¨è®­ç»ƒä¸­æ›´æ–°ï¼Œæ²¡æœ‰å›ºå®šçš„æ•™å¸ˆã€‚</li>
</ol>
</li>
<li>ä¼˜ç¼ºç‚¹ï¼š
<ol>
<li>ä¼˜ç‚¹ï¼šæ— éœ€é¢„è®­ç»ƒæ•™å¸ˆï¼Œè®­ç»ƒæµç¨‹ä¸€æ­¥åˆ°ä½ï¼›æ•™å¸ˆåŠ¨æ€æ›´æ–°ï¼Œé¿å…è¿‡æ‹Ÿåˆï¼›å¤šä¸ªæ¨¡å‹ååŒï¼Œæ€§èƒ½é€šå¸¸ä¼˜äºå•æ¨¡å‹ã€‚</li>
<li>ç¼ºç‚¹ï¼šè®­ç»ƒæ—¶éœ€è¦åŒæ—¶è¿è¡Œå¤šä¸ªæ¨¡å‹ï¼Œæ˜¾å­˜å ç”¨é«˜ï¼›è¶…å‚æ•°è°ƒä¼˜å¤æ‚ã€‚</li>
</ol>
</li>
<li>å…¸å‹åº”ç”¨ï¼š
<ol>
<li>å¤šæ¨¡å‹é›†æˆç³»ç»Ÿï¼šå¦‚æ¨èç³»ç»Ÿçš„å¤šå¡”æ¨¡å‹ï¼›</li>
<li>èµ„æºå—é™åœºæ™¯ï¼šå¦‚è¾¹ç¼˜è®¾å¤‡çš„æ¨¡å‹è®­ç»ƒï¼Œæ— æ³•æ‰¿æ‹…é¢„è®­ç»ƒå¤§æ¨¡å‹çš„æˆæœ¬ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>è‡ªè’¸é¦ï¼šåœ¨è‡ªè’¸é¦ä¸­ï¼Œæ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹ä½¿ç”¨ç›¸åŒçš„æ¨¡å‹ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åˆ©ç”¨æ·±å±‚ç¥ç»ç½‘ç»œçš„æ·±å±‚æ¿€æ´»å€¼æ¥è®­ç»ƒæµ…å±‚ç½‘ç»œã€‚è¿™å¯ä»¥è§†ä¸ºåœ¨çº¿è’¸é¦çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¹¶å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼å®ç°ã€‚ä¾‹å¦‚ï¼Œæ•™å¸ˆæ¨¡å‹åœ¨æ—©æœŸè®­ç»ƒè½®æ¬¡çš„çŸ¥è¯†å¯ä»¥è½¬ç§»åˆ°å…¶åæœŸè®­ç»ƒè½®æ¬¡ä¸­ï¼Œç”¨äºè®­ç»ƒå­¦ç”Ÿæ¨¡å‹ã€‚
<ol>
<li>æœ€è½»é‡åŒ–çš„è’¸é¦èŒƒå¼</li>
<li>ä¸¤ç§å®ç°æ–¹å¼ï¼š
<ol>
<li>åŸºäºæ—¶é—´çš„è‡ªè’¸é¦ï¼šç”¨æ¨¡å‹ä¸åŒè®­ç»ƒé˜¶æ®µçš„è¾“å‡ºä½œä¸ºè½¯æ ‡ç­¾</li>
<li>åŸºäºç»“æ„çš„è‡ªè’¸é¦	ç”¨æ¨¡å‹ä¸åŒéƒ¨åˆ†çš„è¾“å‡ºä½œä¸ºè½¯æ ‡ç­¾</li>
</ol>
</li>
<li>ä¼˜ç¼ºç‚¹ï¼š
<ol>
<li>ä¼˜ç‚¹ï¼šæ— é¢å¤–æ•™å¸ˆå¼€é”€ï¼Œæ˜¾å­˜å ç”¨æœ€ä½ï¼›è®­ç»ƒæµç¨‹ç®€å•ï¼Œé€‚åˆå°æ¨¡å‹å’Œéšç§ä¿æŠ¤åœºæ™¯ï¼ˆæ— éœ€å…±äº«æ•™å¸ˆæ¨¡å‹ï¼‰ï¼›</li>
<li>ç¼ºç‚¹ï¼šæ€§èƒ½ä¸Šé™å—é™äºæ¨¡å‹è‡ªèº«ï¼Œæ— æ³•è¶…è¶Šå•æ¨¡å‹çš„æœ€ä¼˜æ€§èƒ½ï¼›å¯¹è®­ç»ƒè¶…å‚æ•°æ•æ„Ÿã€‚</li>
</ol>
</li>
<li>å…¸å‹åº”ç”¨ï¼š
<ol>
<li>å°æ¨¡å‹æ€§èƒ½æå‡ï¼šå¦‚ç§»åŠ¨ç«¯çš„è½»é‡çº§ CNN æ¨¡å‹ï¼Œé€šè¿‡è‡ªè’¸é¦æå‡åˆ†ç±»ç²¾åº¦ï¼›</li>
<li>éšç§è®¡ç®—åœºæ™¯ï¼šå¦‚åŒ»ç–—æ•°æ®è®­ç»ƒï¼Œæ•°æ®ä¸èƒ½ç¦»å¼€æœ¬åœ°ï¼Œæ— æ³•è®­ç»ƒç‹¬ç«‹æ•™å¸ˆæ¨¡å‹ã€‚</li>
</ol>
</li>
</ol>
</li>
<li><strong>è®­ç»ƒæ•ˆç‡</strong>ï¼šè‡ªè’¸é¦ &gt; åœ¨çº¿è’¸é¦ &gt; ç¦»çº¿è’¸é¦ï¼ˆè‡ªè’¸é¦æ— éœ€é¢å¤–è®­ç»ƒæ•™å¸ˆï¼‰ï¼›</li>
<li><strong>æ€§èƒ½ä¸Šé™</strong>ï¼šç¦»çº¿è’¸é¦ &gt; åœ¨çº¿è’¸é¦ &gt; è‡ªè’¸é¦ï¼ˆç¦»çº¿è’¸é¦å¯ä½¿ç”¨è¶…å¤§æ¨¡å‹ä½œä¸ºæ•™å¸ˆï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-5">3 çŸ¥è¯†è’¸é¦çš„ç®—æ³•</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24b32417a6b14194b574ab2118ac7ad3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=OsttwO5%2FGYyXtbTUWGg7%2FUwIkm4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>

































































<table><thead><tr><th>è’¸é¦æ–¹æ³•</th><th>æ ¸å¿ƒå®šä½</th><th>å…³é”®åˆ›æ–°ç‚¹</th><th>å…¸å‹åº”ç”¨</th></tr></thead><tbody><tr><td>å¯¹æŠ—è’¸é¦</td><td>é²æ£’æ€§ä¼˜åŒ–</td><td>å¼•å…¥ GAN æ€æƒ³ï¼Œè®©å­¦ç”Ÿå¯¹æŠ—æ€§å­¦ä¹ æ•™å¸ˆçŸ¥è¯†</td><td>å™ªå£°æ•°æ®åˆ†ç±»ã€é˜²å¾¡å¯¹æŠ—æ”»å‡»(è‡ªåŠ¨é©¾é©¶)</td></tr><tr><td>å¤šæ•™å¸ˆè’¸é¦</td><td>çŸ¥è¯†èåˆ</td><td>å¤šä¸ªæ•™å¸ˆæ¨¡å‹ååŒæŒ‡å¯¼ï¼Œé›†æˆäº’è¡¥çŸ¥è¯†</td><td>åŒ»ç–—å½±åƒè¯Šæ–­(é«˜ç²¾åº¦è¦æ±‚ï¼Œå°æ ·æœ¬åœºæ™¯)</td></tr><tr><td>è·¨æ¨¡æ€è’¸é¦</td><td>è·¨é¢†åŸŸè¿ç§»</td><td>ä¸åŒæ¨¡æ€æ¨¡å‹é—´ä¼ é€’çŸ¥è¯†ï¼ˆå¦‚è§†è§‰â†’æ–‡æœ¬ï¼‰</td><td>å›¾æ–‡æ£€æµ‹ï¼Œå­—å¹•ç”Ÿæˆï¼ŒæŸä¸€æ¨¡æ€æ•°æ®ä¸è¶³</td></tr><tr><td>å›¾è’¸é¦</td><td>å›¾ç»“æ„é€‚é…</td><td>é’ˆå¯¹å›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰çš„æ‹“æ‰‘ + èŠ‚ç‚¹çŸ¥è¯†è¿ç§»</td><td>ç¤¾äº¤ç½‘ç»œåˆ†æã€åˆ†å­å±æ€§é¢„æµ‹</td></tr><tr><td>æ³¨æ„åŠ›è’¸é¦</td><td>ç»“æ„å¯¹é½</td><td>è¿ç§»æ•™å¸ˆæ¨¡å‹çš„æ³¨æ„åŠ›æƒé‡ï¼Œå¤åˆ»å†³ç­–é€»è¾‘</td><td>å¤§è¯­è¨€æ¨¡å‹è½»é‡åŒ–ã€æœºå™¨ç¿»è¯‘ã€‚ç»†é¢—ç²’ä»»åŠ¡</td></tr><tr><td>æ— æ•°æ®è’¸é¦</td><td>éšç§ä¿æŠ¤</td><td>æ— éœ€åŸå§‹æ•°æ®ï¼Œé€šè¿‡ç”Ÿæˆæ•°æ®ä¼ é€’çŸ¥è¯†</td><td>éšç§æ•æ„Ÿåœºæ™¯ï¼ˆåŒ»ç–— / é‡‘èï¼‰</td></tr><tr><td>é‡åŒ–è’¸é¦</td><td>ç¡¬ä»¶é€‚é…</td><td>ç»“åˆæ¨¡å‹é‡åŒ–ï¼Œåœ¨å‹ç¼©ç²¾åº¦çš„åŒæ—¶ä¿ç•™æ€§èƒ½</td><td>è¾¹ç¼˜è®¾å¤‡éƒ¨ç½²ï¼ˆæ‰‹æœº / IoTï¼‰ä½èµ„æºæƒ…å†µ</td></tr><tr><td>ç»ˆèº«è’¸é¦</td><td>æŒç»­å­¦ä¹ </td><td>æ¨¡å‹åœ¨æ–°ä»»åŠ¡ä¸Šå­¦ä¹ æ—¶ï¼Œä¿ç•™æ—§ä»»åŠ¡çŸ¥è¯†</td><td>æœºå™¨äººè‡ªä¸»å­¦ä¹ ã€æ¨èç³»ç»Ÿè¿­ä»£</td></tr><tr><td>NAS è’¸é¦</td><td>æ¶æ„æœç´¢</td><td>è’¸é¦æŒ‡å¯¼ç¥ç»æ¶æ„æœç´¢ï¼Œé«˜æ•ˆç”Ÿæˆæœ€ä¼˜å°æ¨¡å‹</td><td>è‡ªåŠ¨åŒ–æ¨¡å‹è®¾è®¡ã€ä½ç®—åŠ›åœºæ™¯</td></tr></tbody></table>
<ol>
<li>
<p>å¯¹æŠ—è’¸é¦ï¼šå°†<strong>å¯¹æŠ—ç”Ÿæˆç½‘ç»œï¼ˆGANï¼‰</strong> çš„æ€æƒ³èå…¥è’¸é¦ï¼Œé€šè¿‡ â€œç”Ÿæˆå™¨ - åˆ¤åˆ«å™¨â€ çš„åšå¼ˆï¼Œè®©å­¦ç”Ÿæ¨¡å‹ä¸ä»…å­¦ä¹ æ•™å¸ˆçš„è½¯æ ‡ç­¾ï¼Œè¿˜èƒ½<strong>æŠµæŠ—å™ªå£°å’Œå¯¹æŠ—æ ·æœ¬</strong>ï¼Œæå‡é²æ£’æ€§ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0191e21c7904bc0a57d5bd93625c055~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=FGNubxzxY5F%2Blxf6ogSFjiBQzaw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>å®ç°æµç¨‹ï¼š
<ol>
<li>ä½¿ç”¨å¹²å‡€æ•°æ®å’Œå¯¹æŠ—æ•°æ®è®­ç»ƒåˆ¤åˆ«å™¨</li>
<li>ä½¿ç”¨æ•™å¸ˆæ¨¡å‹ç”Ÿæˆå¹²å‡€æ•°æ®</li>
<li>è®©å­¦ç”Ÿæ¨¡å‹å»ä½¿ç”¨å¹²å‡€æ•°æ®è¿›è¡Œæ¨ç†ï¼Œå¾—åˆ°ç»“æœåè®©åˆ¤åˆ«å™¨åˆ¤æ–­å±äºå“ªç§æ•°æ®(å¹²å‡€æˆ–è€…å¯¹æŠ—)</li>
<li>å­¦ä¹ å¹²å‡€æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æ•™å¸ˆæ¨¡å‹çš„ç»“æœæ¥ä¼˜åŒ–ï¼Œæé«˜å­¦ç”Ÿæ¨¡å‹çš„ç²¾åº¦</li>
<li>å­¦ä¹ å¯¹æŠ—æ•°æ®çš„æ—¶å€™ï¼Œç²¾åº¦æå‡äº†é‚£å¯¹æŠ—æ•°æ®çš„ç»“æœä¹Ÿä¼šæå‡ï¼Œé²æ£’æ€§å¢å¼ºï¼Œåˆ¤åˆ«å™¨æ— æ³•è¯†åˆ«å­¦ç”Ÿæ¨¡å‹çš„è¾“å‡ºåˆ°åº•æ˜¯å¹²å‡€æ•°æ®è¿˜æ˜¯å¯¹æŠ—æ•°æ®</li>
<li>æ³¨ï¼šåˆ¤åˆ«å™¨åªå¯¹è¾“å‡ºæ•°æ®è¿›è¡Œåˆ¤åˆ«ï¼Œå…¶å®åˆ¤åˆ«çš„æ˜¯æ¯ä¸ªè¯å‘é‡ä½ç½®ï¼Œæ¯”å¦‚ä¸€ä¸ªæ­£å¸¸æ–‡æœ¬çš„è¯å‘é‡æ•°å€¼å¤§å°æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯¹æŠ—æ•°æ®å°±æ˜¯ä¸ç¬¦åˆæ­£å¸¸æ–‡æœ¬çš„å‘é‡å€¼å¤§å°çš„ï¼Œå­¦ç”Ÿæ¨¡å‹å¦‚ä½•å¯ä»¥æŠŠè¿™ä¸ªä½ç½®å¯¹åº”çš„æ¦‚ç‡å¤§å°è°ƒæ•´å¥½ï¼Œåˆ¤åˆ«å™¨å°±ä¼šè®¤ä¸ºè¿™ä¸ªæ–‡æœ¬æ˜¯æ­£å¸¸çš„ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<p>å¤šæ•™å¸ˆè’¸é¦ï¼šç”¨<strong>å¤šä¸ªä¸åŒçš„æ•™å¸ˆæ¨¡å‹</strong>ååŒæŒ‡å¯¼ä¸€ä¸ªå­¦ç”Ÿæ¨¡å‹ï¼Œèåˆå¤šä¸ªæ•™å¸ˆçš„äº’è¡¥çŸ¥è¯†ï¼Œé¿å…å•æ•™å¸ˆçš„å±€é™æ€§ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4a792752b5a4363bcc2fc9eb63a3ad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=cxxDGNQSJnj6unQxPLeaDuVgGuI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>æ•™å¸ˆé€‰æ‹©ç­–ç•¥ï¼š
<ol>
<li>åŒæ¶æ„å¤šæ•™å¸ˆï¼šå¤šä¸ªç›¸åŒç»“æ„çš„æ¨¡å‹ï¼Œè®­ç»ƒåœ¨ä¸åŒæ•°æ®å­é›†ä¸Šï¼ˆå¦‚æ•°æ®å¢å¼ºçš„ä¸åŒç‰ˆæœ¬ï¼‰ï¼›</li>
<li>å¼‚æ¶æ„å¤šæ•™å¸ˆï¼šä¸åŒç»“æ„çš„æ¨¡å‹ï¼Œè¦†ç›–ä¸åŒçš„ç‰¹å¾æå–è§’åº¦ã€‚</li>
</ol>
</li>
<li>çŸ¥è¯†åŠ æƒç­–ç•¥ï¼š
<ol>
<li>åŠ æƒå¹³å‡ï¼šæ ¹æ®æ•™å¸ˆçš„æ€§èƒ½æƒé‡ï¼Œèåˆå¤šä¸ªæ•™å¸ˆçš„è½¯æ ‡ç­¾ã€‚</li>
<li>æŠ•ç¥¨æœºåˆ¶ï¼šå¯¹æ¯ä¸ªæ ·æœ¬ï¼Œå–å¤šä¸ªæ•™å¸ˆè½¯æ ‡ç­¾çš„ä¼—æ•°ä½œä¸ºå­¦ç”Ÿçš„å­¦ä¹ ç›®æ ‡ï¼›</li>
<li>åˆ†å±‚èåˆï¼šä¸åŒæ•™å¸ˆè´Ÿè´£æŒ‡å¯¼å­¦ç”Ÿçš„ä¸åŒä¸­é—´å±‚ï¼ˆå¦‚æ•™å¸ˆ A æŒ‡å¯¼ä½å±‚ç‰¹å¾ï¼Œæ•™å¸ˆ B æŒ‡å¯¼é«˜å±‚ç‰¹å¾ï¼‰ã€‚</li>
</ol>
</li>
<li>ç¦»çº¿è’¸é¦çš„æ¨¡å¼ï¼Œéšæœºæ£®æ—çš„æ€æƒ³ã€‚</li>
</ol>
</li>
<li>
<p>è·¨æ¨¡æ€è’¸é¦ï¼šè®©ä¸åŒæ¨¡æ€çš„æ¨¡å‹ä¹‹é—´ä¼ é€’çŸ¥è¯†ï¼ˆå¦‚è§†è§‰æ¨¡å‹â†’æ–‡æœ¬æ¨¡å‹ã€è¯­éŸ³æ¨¡å‹â†’å›¾åƒæ¨¡å‹ï¼‰ï¼Œå®ç°è·¨é¢†åŸŸçš„çŸ¥è¯†è¿ç§»ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d62f75d261214e78a76513eb63712490~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=rnK7NkY2%2Bxpvrx137WPjiChSB3s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>å…±äº«ç‰¹å¾ç©ºé—´ï¼šé€šè¿‡ä¸€ä¸ªæ˜ å°„å±‚ï¼Œå°†æºæ¨¡æ€ï¼ˆå¦‚å›¾åƒï¼‰çš„ç‰¹å¾å’Œç›®æ ‡æ¨¡æ€ï¼ˆå¦‚æ–‡æœ¬ï¼‰çš„ç‰¹å¾æŠ•å½±åˆ°åŒä¸€ç©ºé—´ï¼›</li>
<li>å¯¹é½æŸå¤±ï¼šè®©å­¦ç”Ÿæ¨¡å‹ï¼ˆç›®æ ‡æ¨¡æ€ï¼‰çš„ç‰¹å¾ä¸æ•™å¸ˆæ¨¡å‹ï¼ˆæºæ¨¡æ€ï¼‰çš„ç‰¹å¾åœ¨å…±äº«ç©ºé—´ä¸­å¯¹é½ã€‚</li>
<li>ç¦»çº¿è’¸é¦çš„æ¨¡å¼ï¼Œç»Ÿä¸€ä¸åŒæ¨¡æ€çš„ä¿¡æ¯ï¼Œå®Œæˆåœ¨ç»Ÿä¸€æ€ä¸Šçš„è¿ç§»</li>
</ol>
</li>
<li>
<p>å›¾è’¸é¦ï¼šä¸“é—¨é’ˆå¯¹<strong>å›¾ç¥ç»ç½‘ç»œï¼ˆGNNï¼‰</strong> è®¾è®¡çš„è’¸é¦æ–¹æ³•ï¼Œä¸ä»…è¿ç§»èŠ‚ç‚¹çš„ç‰¹å¾çŸ¥è¯†ï¼Œè¿˜è¿ç§»å›¾çš„<strong>æ‹“æ‰‘ç»“æ„çŸ¥è¯†</strong>ï¼ˆå¦‚èŠ‚ç‚¹é—´çš„è¿æ¥å…³ç³»ã€å­å›¾çš„ç»“æ„æ¨¡å¼ï¼‰ã€‚</p>
<ol>
<li>æœ¬äººå†…å®¹ä¸æ¶‰åŠï¼Œä¸åšè¯¦è§£</li>
</ol>
</li>
<li>
<p>æ³¨æ„åŠ›è’¸é¦ï¼šèšç„¦äºè¿ç§»æ•™å¸ˆæ¨¡å‹çš„<strong>æ³¨æ„åŠ›æƒé‡</strong>ï¼Œè®©å­¦ç”Ÿæ¨¡å‹å¤åˆ»æ•™å¸ˆçš„ â€œå†³ç­–é€»è¾‘â€â€”â€” æ¯”å¦‚æ•™å¸ˆå…³æ³¨å›¾åƒçš„å“ªä¸ªåŒºåŸŸã€æ–‡æœ¬çš„å“ªä¸ªè¯ï¼Œè€Œéä»…å­¦ä¹ è¾“å‡ºå±‚çš„è½¯æ ‡ç­¾ã€‚</p>
<ol>
<li>è·å–æ³¨æ„åŠ›æƒé‡ï¼šç±»æ¯”ä¸Šé¢"åŸºäºå…³ç³»çš„çŸ¥è¯†"ï¼ŒåŒºåˆ«åœ¨äºè¿™ä¸ªè’¸é¦æ–¹æ³•æ˜¯é’ˆå¯¹æ ·æœ¬ï¼Œä¸Šé¢æ˜¯é’ˆå¯¹æ ·æœ¬ç»„</li>
<li>è’¸é¦çš„æŸå¤±è®¾è®¡ï¼š
<ol>
<li>ç›´æ¥åŒ¹é…ï¼šå­¦ç”Ÿçš„æ³¨æ„åŠ›çŸ©é˜µä¸æ•™å¸ˆçš„æ³¨æ„åŠ›çŸ©é˜µçš„ MSE æŸå¤±ï¼›</li>
<li>ç‰¹å¾åŠ æƒï¼šç”¨æ•™å¸ˆçš„æ³¨æ„åŠ›æƒé‡åŠ æƒå­¦ç”Ÿçš„ä¸­é—´ç‰¹å¾ï¼Œå†è®¡ç®—ä¸æ•™å¸ˆç‰¹å¾çš„</li>
</ol>
</li>
<li>é€šä¿—è®²å°±æ˜¯æŠŠæ•™å¸ˆæ¨¡å‹çš„æ³¨æ„åŠ›æƒé‡é™„åŠ åˆ°å­¦ç”Ÿæ¨¡å‹çš„ç‰¹å¾å‘é‡ï¼Œè¦ä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·å­¦ç”Ÿå°±çŸ¥é“äº†å‘é‡çš„é‡è¦ç¨‹åº¦</li>
</ol>
</li>
<li>
<p>æ— æ•°æ®è’¸é¦ï¼šåœ¨<strong>æ²¡æœ‰åŸå§‹è®­ç»ƒæ•°æ®</strong>çš„å‰æä¸‹ï¼Œå®ç°æ•™å¸ˆæ¨¡å‹åˆ°å­¦ç”Ÿæ¨¡å‹çš„çŸ¥è¯†è¿ç§»ï¼Œæ ¸å¿ƒè§£å†³<strong>æ•°æ®éšç§å’Œæ•°æ®ç¼ºå¤±</strong>çš„é—®é¢˜ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0df7c135ca23473aabfb18beb80cc9dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=h0rfVJ3fFil13NUlNSxVfQt%2FqNs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>ç”Ÿæˆä¼ªæ•°æ®
<ol>
<li>ç”¨æ•™å¸ˆæ¨¡å‹æŒ‡å¯¼ä¸€ä¸ªç”Ÿæˆå™¨ï¼ˆå¦‚ GANï¼‰ï¼Œç”Ÿæˆèƒ½å¤Ÿæ¿€æ´»æ•™å¸ˆæ¨¡å‹å…³é”®ç‰¹å¾çš„ä¼ªæ•°æ®ï¼ˆå¦‚è®©æ•™å¸ˆè¾“å‡ºé«˜ç½®ä¿¡åº¦çš„å›¾åƒï¼‰ï¼›</li>
<li>ä¼ªæ•°æ®çš„è´¨é‡ç›´æ¥å†³å®šè’¸é¦æ•ˆæœã€‚</li>
</ol>
</li>
<li>è’¸é¦æµç¨‹ï¼š
<ol>
<li>ç”Ÿæˆå™¨ç”Ÿæˆä¼ªæ•°æ®â†’è¾“å…¥æ•™å¸ˆæ¨¡å‹ï¼Œå¾—åˆ°è½¯æ ‡ç­¾ï¼›</li>
<li>å­¦ç”Ÿæ¨¡å‹å­¦ä¹ ä¼ªæ•°æ®å’Œå¯¹åº”çš„è½¯æ ‡ç­¾ï¼Œæ— éœ€æ¥è§¦åŸå§‹æ•°æ®ã€‚</li>
</ol>
</li>
<li>ç¦»çº¿è’¸é¦æ¨¡å¼</li>
</ol>
</li>
<li>
<p>é‡åŒ–è’¸é¦ï¼šå°†<strong>æ¨¡å‹é‡åŒ–</strong>ä¸çŸ¥è¯†è’¸é¦ç»“åˆï¼Œåœ¨æŠŠæ¨¡å‹æƒé‡ä»é«˜ç²¾åº¦ï¼ˆå¦‚ FP32ï¼‰å‹ç¼©åˆ°ä½ç²¾åº¦ï¼ˆå¦‚ INT8ã€INT4ï¼‰çš„åŒæ—¶ï¼Œé€šè¿‡è’¸é¦å¼¥è¡¥é‡åŒ–å¸¦æ¥çš„æ€§èƒ½æŸå¤±ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b4186eb4a324b9daa09b55036577a65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-u5Lq65LiJ562J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768561991&amp;x-signature=6bWPFaKl282xPP1x43i619rx%2B%2FY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>é‡åŒ–çš„æ ¸å¿ƒé—®é¢˜ï¼šä½ç²¾åº¦é‡åŒ–ä¼šå¯¼è‡´æƒé‡ä¿¡æ¯ä¸¢å¤±ï¼Œæ¨¡å‹ç²¾åº¦ä¸‹é™ï¼›</li>
<li>é€šè¿‡è’¸é¦è¿›è¡Œè¡¥å¿çš„ç­–ç•¥ï¼š
<ol>
<li>æ•™å¸ˆï¼šé«˜ç²¾åº¦çš„åŸå§‹æ¨¡å‹ï¼ˆFP32ï¼‰ï¼›</li>
<li>å­¦ç”Ÿï¼šé‡åŒ–åçš„ä½ç²¾åº¦æ¨¡å‹ï¼ˆINT8ï¼‰ï¼›</li>
<li>è’¸é¦ç›®æ ‡ï¼šè®©é‡åŒ–å­¦ç”Ÿçš„è¾“å‡ºä¸é«˜ç²¾åº¦æ•™å¸ˆçš„è¾“å‡ºå¯¹é½ï¼ŒåŒæ—¶ä¼˜åŒ–é‡åŒ–è¯¯å·®ã€‚</li>
</ol>
</li>
<li>QATï¼šåœ¨<strong>è®­ç»ƒè¿‡ç¨‹ä¸­å°±æ¨¡æ‹Ÿé‡åŒ–çš„è¯¯å·®</strong>ï¼Œè®©æ¨¡å‹æå‰é€‚åº”ä½ç²¾åº¦ï¼Œæœ€ç»ˆé‡åŒ–åçš„ç²¾åº¦æŸå¤±å¤§å¹…é™ä½ã€‚
<ol>
<li>é€šä¿—è®²å¹¶ä¸æ˜¯å­¦ç”Ÿå°±ä¸€ç›´ç”¨ä½ç²¾åº¦æ¥è®­ç»ƒï¼Œè€Œæ˜¯åœ¨é‡åŒ– / åé‡åŒ–èŠ‚ç‚¹é™ä½ç²¾ç¡®åº¦è¿›è¡Œè®­ç»ƒï¼Œè¿™æ ·å°±å¯ä»¥è®©æ¨¡å‹æ„Ÿå—åˆ°ä¸¢å¤±ç²¾ç¡®åº¦å¸¦æ¥çš„å½±å“ï¼Œä»è€Œé™ä½è¿™éƒ¨åˆ†å½±å“</li>
</ol>
</li>
</ol>
</li>
<li>
<p>ç»ˆèº«è’¸é¦ï¼šä¹Ÿå«<strong>æŒç»­å­¦ä¹ è’¸é¦</strong>ï¼Œè§£å†³æ¨¡å‹åœ¨<strong>è¿ç»­å­¦ä¹ æ–°ä»»åŠ¡</strong>æ—¶çš„ â€œç¾éš¾æ€§é—å¿˜â€ é—®é¢˜ â€”â€” è®©æ¨¡å‹åœ¨å­¦ä¹ æ–°ä»»åŠ¡çŸ¥è¯†çš„åŒæ—¶ï¼Œé€šè¿‡è’¸é¦ä¿ç•™æ—§ä»»åŠ¡çš„çŸ¥è¯†ã€‚</p>
<ol>
<li>ç‰¹æœ‰æœºåˆ¶ï¼š
<ol>
<li><strong>çŸ¥è¯†å›æ”¾</strong>ï¼ˆReplayï¼‰ï¼šè®­ç»ƒæ–°ä»»åŠ¡æ—¶ï¼Œæ¯éš” epoch å›æ”¾ç¼“å­˜çš„æ—§ä»»åŠ¡æ ·æœ¬ï¼Œè®©å­¦ç”ŸåŒæ—¶å­¦æ–°æ—§ä»»åŠ¡ï¼›</li>
<li><strong>å¼¹æ€§æƒé‡å›ºåŒ–ï¼ˆEWCï¼‰</strong>ï¼šå¯¹æ—§ä»»åŠ¡é‡è¦çš„å‚æ•° â€œåŠ æƒé‡æƒ©ç½šâ€ï¼Œé¿å…æ–°ä»»åŠ¡è®­ç»ƒæ—¶ä¿®æ”¹è¿™äº›å‚æ•°ï¼ˆæ¯”å¦‚è¯†åˆ«çŒ«çš„å‚æ•°ï¼Œå­¦ç‹—æ—¶ä¸è¢«ç¯¡æ”¹ï¼‰ã€‚</li>
</ol>
</li>
<li>çŸ¥è¯†ç¼“å­˜æœºåˆ¶
<ol>
<li>å­¦ä¹ æ–°ä»»åŠ¡æ—¶ï¼Œç¼“å­˜æ—§ä»»åŠ¡çš„å…³é”®æ ·æœ¬å’Œæ•™å¸ˆæ¨¡å‹ï¼ˆæ—§ä»»åŠ¡çš„æœ€ä¼˜æ¨¡å‹ï¼‰ï¼›</li>
<li>æ–°ä»»åŠ¡çš„å­¦ç”Ÿæ¨¡å‹åŒæ—¶å­¦ä¹ ï¼šâ‘  æ–°ä»»åŠ¡çš„ç¡¬æ ‡ç­¾ï¼›â‘¡ æ—§ä»»åŠ¡æ•™å¸ˆæ¨¡å‹çš„è½¯æ ‡ç­¾ã€‚</li>
</ol>
</li>
<li>å¢é‡è’¸é¦ç­–ç•¥
<ol>
<li>æ¯æ¬¡å­¦ä¹ æ–°ä»»åŠ¡åï¼Œæ›´æ–°æ•™å¸ˆæ¨¡å‹ä¸º â€œæ–°æ—§ä»»åŠ¡èåˆçš„æ¨¡å‹â€ï¼›</li>
<li>åç»­ä»»åŠ¡çš„å­¦ç”Ÿæ¨¡å‹ï¼Œå§‹ç»ˆå­¦ä¹ æœ€æ–°çš„æ•™å¸ˆæ¨¡å‹çŸ¥è¯†ã€‚</li>
</ol>
</li>
</ol>
</li>
<li>
<p>NASè’¸é¦ï¼šå°†<strong>çŸ¥è¯†è’¸é¦ä¸ç¥ç»æ¶æ„æœç´¢ï¼ˆNASï¼‰</strong> ç»“åˆï¼Œç”¨æ•™å¸ˆæ¨¡å‹çš„çŸ¥è¯†æ¥æŒ‡å¯¼ NAS ç®—æ³•ï¼Œé«˜æ•ˆæœç´¢å‡ºæ€§èƒ½æ¥è¿‘æ•™å¸ˆã€ä¸”è®¡ç®—é‡æå°çš„å­¦ç”Ÿæ¨¡å‹æ¶æ„</p>
<ol>
<li>ä¸€ç§å¯ä»¥è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å­¦ç”Ÿæ¨¡å‹çš„ç®—æ³•ã€‚</li>
</ol>
</li>
<li>
<p>æ–¹æ³•é€‰æ‹©ï¼š</p>
<ol>
<li><strong>çœ‹æ•°æ®æ¡ä»¶</strong>ï¼šæ•°æ®éšç§â†’æ— æ•°æ®è’¸é¦ï¼›æ•°æ®å¤šæ¨¡æ€â†’è·¨æ¨¡æ€è’¸é¦ï¼›</li>
<li><strong>çœ‹æ¨¡å‹æ¶æ„</strong>ï¼šå›¾ç»“æ„â†’å›¾è’¸é¦ï¼›Transformerâ†’æ³¨æ„åŠ›è’¸é¦ï¼›</li>
<li><strong>çœ‹éƒ¨ç½²éœ€æ±‚</strong>ï¼šè¾¹ç¼˜è®¾å¤‡â†’é‡åŒ–è’¸é¦ï¼›è‡ªåŠ¨åŒ–è®¾è®¡â†’NAS è’¸é¦ï¼›</li>
<li><strong>çœ‹ä»»åŠ¡ç‰¹æ€§</strong>ï¼šæŒç»­å­¦ä¹ â†’ç»ˆèº«è’¸é¦ï¼›é²æ£’æ€§è¦æ±‚â†’å¯¹æŠ—è’¸é¦ï¼›é«˜ç²¾åº¦è¦æ±‚â†’å¤šæ•™å¸ˆè’¸é¦ã€‚</li>
<li>å¸¸ç”¨ç¨‹åº¦ï¼šæ³¨æ„åŠ›è’¸é¦ / é‡åŒ–è’¸é¦ / å¤šæ•™å¸ˆè’¸é¦ &gt; è·¨æ¨¡æ€è’¸é¦ &gt; å¯¹æŠ— / æ— æ•°æ® / å›¾ / ç»ˆèº« / NAS è’¸é¦ï¼›</li>
</ol>
</li>
</ol>
<h3 data-id="heading-6">å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fu012347027%2Farticle%2Fdetails%2F111415197" target="_blank" title="https://blog.csdn.net/u012347027/article/details/111415197" ref="nofollow noopener noreferrer">1</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fa131529%2Farticle%2Fdetails%2F144582677" target="_blank" title="https://blog.csdn.net/a131529/article/details/144582677" ref="nofollow noopener noreferrer">2</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ5 ç§æ–¹æ³•æ·±åº¦å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7593139476840841222</link>    <guid>https://juejin.cn/post/7593139476840841222</guid>    <pubDate>2026-01-09T11:31:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840841222" data-draft-id="7582785032852504639" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ5 ç§æ–¹æ³•æ·±åº¦å¯¹æ¯”"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-09T11:31:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ5 ç§æ–¹æ³•æ·±åº¦å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T11:31:57.000Z" title="Fri Jan 09 2026 11:31:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å†™jsçš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å› ä¸ºæ•°æ®ç±»å‹æ²¡åˆ¤æ–­å¥½è€Œå‡ºé”™ï¼Œæ¯”å¦‚è¿™æ ·çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">calculate</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-comment">// æˆ‘ä»¥ä¸ºæ˜¯ 10 + 20 = 30</span>
<span class="hljs-title function_">calculate</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// ç»“æœ 30 å¯¹çš„ </span>

<span class="hljs-comment">// å®é™…ä¸Šç”¨æˆ·è¾“å…¥çš„æ˜¯å­—ç¬¦ä¸²å’Œæ•°å­—</span>
<span class="hljs-title function_">calculate</span>(<span class="hljs-string">"10"</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// ç»“æœä¸º "1020" </span>
</code></pre>
<p>æ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‡ºç°ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å»åˆ¤æ–­å¥½æ•°æ®ç±»å‹ã€‚</p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæœ‰å‡ ç§æ–¹å¼æ¥åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„æ–¹æ³•ï¼š</p>
<h2 data-id="heading-0">1. typeof æ“ä½œç¬¦</h2>
<p>æœ€å¸¸ç”¨çš„ç±»å‹åˆ¤æ–­æ–¹æ³•ï¼Œä½†æœ‰ä¸€äº›å±€é™æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">typeof</span> <span class="hljs-number">42</span>;           <span class="hljs-comment">// "number"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-string">"hello"</span>;      <span class="hljs-comment">// "string"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span>;         <span class="hljs-comment">// "boolean"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>;    <span class="hljs-comment">// "undefined"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>;         <span class="hljs-comment">// "object" (å†å²é—ç•™é—®é¢˜)</span>
<span class="hljs-keyword">typeof</span> {};           <span class="hljs-comment">// "object"</span>
<span class="hljs-keyword">typeof</span> [];           <span class="hljs-comment">// "object"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){}; <span class="hljs-comment">// "function"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Symbol</span>();     <span class="hljs-comment">// "symbol"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-number">42n</span>;          <span class="hljs-comment">// "bigint"</span>
</code></pre>
<p><strong>å±€é™æ€§</strong>ï¼š</p>
<ul>
<li>æ— æ³•åŒºåˆ†æ•°ç»„ã€å¯¹è±¡å’Œ <code>null</code></li>
<li>å‡½æ•°è¿”å› <code>function</code></li>
<li><code>typeof</code> é€‚åˆåˆ¤æ–­åŸºæœ¬ç±»å‹ï¼Œä½†é‡åˆ°å¯¹è±¡ç±»å‹å°±åŠ›ä¸ä»å¿ƒäº†</li>
</ul>
<hr/>
<h2 data-id="heading-1">2. instanceof æ“ä½œç¬¦</h2>
<p>ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ <code>prototype</code> å±æ€§æ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„åŸå‹é“¾ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>;           <span class="hljs-comment">// true</span>
{} <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>;          <span class="hljs-comment">// true</span>
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>() <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>;    <span class="hljs-comment">// true</span>
<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){} <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Function</span>; <span class="hljs-comment">// true</span>

<span class="hljs-comment">// ç»§æ‰¿å…³ç³»ï¼Œæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡</span>
[] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>;          <span class="hljs-comment">// true</span>
</code></pre>
<p><code>instanceof</code> çš„å±€é™æ€§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸºæœ¬ç±»å‹ç”¨ä¸äº†</span>
<span class="hljs-number">42</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>;          <span class="hljs-comment">// false</span>
<span class="hljs-string">"hello"</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">String</span>;     <span class="hljs-comment">// false</span>
</code></pre>
<p>åœ¨è·¨ <code>iframe</code> æˆ–ä¸åŒ <code>window</code> ç¯å¢ƒä¸‹å¯èƒ½å¤±æ•ˆï¼ˆå› ä¸ºæ„é€ å‡½æ•°ä¸åŒï¼‰</p>
<hr/>
<h2 data-id="heading-2">3. Object.prototype .toString.call()</h2>
<p>è¿™æ˜¯æœ€å‡†ç¡®ã€æœ€å¯é çš„æ–¹æ³•,èƒ½è¯†åˆ«æ‰€æœ‰å†…ç½®ç±»å‹ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-number">42</span>);           <span class="hljs-comment">// "[object Number]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-string">"hello"</span>);      <span class="hljs-comment">// "[object String]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">true</span>);         <span class="hljs-comment">// "[object Boolean]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>);         <span class="hljs-comment">// "[object Null]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">undefined</span>);    <span class="hljs-comment">// "[object Undefined]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]);           <span class="hljs-comment">// "[object Array]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>({});           <span class="hljs-comment">// "[object Object]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>){}); <span class="hljs-comment">// "[object Function]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-title class_">Symbol</span>());     <span class="hljs-comment">// "[object Symbol]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-number">42n</span>);          <span class="hljs-comment">// "[object BigInt]"</span>
</code></pre>
<p>æˆ‘ä»¬å°è£…ä¸€ä¸ªå®ç”¨çš„å·¥å…·å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getRealType</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(value)
        .<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>, -<span class="hljs-number">1</span>)          <span class="hljs-comment">// æˆªå–"[object "å’Œ"]"ä¹‹é—´çš„å†…å®¹</span>
        .<span class="hljs-title function_">toLowerCase</span>();         <span class="hljs-comment">// è½¬ä¸ºå°å†™ï¼Œæ›´å‹å¥½</span>
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>([]));        <span class="hljs-comment">// "array"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>(<span class="hljs-literal">null</span>));      <span class="hljs-comment">// "null"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>({}));        <span class="hljs-comment">// "object"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">getRealType</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())); <span class="hljs-comment">// "date"</span>
</code></pre>
<hr/>
<h2 data-id="heading-3">4. ä¸“ç”¨æ–¹æ³•</h2>
<p>å¯¹äºä¸€äº›ç‰¹æ®Šç±»å‹ï¼ŒJavaScriptæä¾›äº†ä¸“é—¨çš„åˆ¤æ–­æ–¹æ³•ï¼š</p>
<h3 data-id="heading-4">åˆ¤æ–­æ•°ç»„ï¼šArray.isArray()</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>([]);     <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>({});     <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(<span class="hljs-string">"123"</span>);  <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-5">åˆ¤æ–­NaNï¼šNumber.isNaN()</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ³¨æ„åŒºåˆ«ï¼</span>
<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">"hello"</span>);        <span class="hljs-comment">// true  â† å­—ç¬¦ä¸²ä¸æ˜¯æ•°å­—ï¼Œä½†è¿™æ ·åˆ¤æ–­å®¹æ˜“è¯¯è§£</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(<span class="hljs-string">"hello"</span>); <span class="hljs-comment">// false â† æ›´å‡†ç¡®ï¼šåªæœ‰çœŸæ­£çš„NaNæ‰è¿”å›true</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">NaN</span>);     <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-6">åˆ¤æ–­æœ‰é™æ•°å­—ï¼šNumber.isFinite()</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(<span class="hljs-number">42</span>);     <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(<span class="hljs-title class_">Infinity</span>); <span class="hljs-comment">// false  â† æ— ç©·å¤§ä¸æ˜¯æœ‰é™æ•°å­—</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(<span class="hljs-string">"42"</span>);   <span class="hljs-comment">// false  â† å­—ç¬¦ä¸²ä¸æ˜¯æ•°å­—</span>
</code></pre>
<h2 data-id="heading-7">ç¼–å†™å¥å£®çš„å‡½æ•°</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ï¼š</p>
<h3 data-id="heading-8">åœºæ™¯1ï¼šå®‰å…¨çš„æ•°å­—ç›¸åŠ </h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">safeAdd</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-comment">// ç¡®ä¿ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯æ•°å­—ç±»å‹</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> a !== <span class="hljs-string">'number'</span> || <span class="hljs-keyword">typeof</span> b !== <span class="hljs-string">'number'</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å‚æ•°å¿…é¡»æ˜¯æ•°å­—'</span>);
    }
    <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-title function_">safeAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);     <span class="hljs-comment">// 3</span>
<span class="hljs-title function_">safeAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"2"</span>);   <span class="hljs-comment">// æŠ¥é”™ï¼šå‚æ•°å¿…é¡»æ˜¯æ•°å­—</span>
</code></pre>
<h3 data-id="heading-9">åœºæ™¯2ï¼šå¤„ç†å¤šç§æ•°æ®ç±»å‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-comment">// getRealTypeæ–¹æ³•åœ¨ç¬¬3ç‚¹Object.prototype.toString.call()ä¸­æœ‰å†™</span>
    <span class="hljs-keyword">const</span> type = <span class="hljs-title function_">getRealType</span>(data); 
    
    <span class="hljs-keyword">switch</span>(type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'array'</span>:
            <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item * <span class="hljs-number">2</span>);
        <span class="hljs-keyword">case</span> <span class="hljs-string">'object'</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-property">length</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'string'</span>:
            <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">toUpperCase</span>();
        <span class="hljs-keyword">case</span> <span class="hljs-string">'number'</span>:
            <span class="hljs-keyword">return</span> data * <span class="hljs-number">2</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">'ä¸æ”¯æŒçš„æ•°æ®ç±»å‹'</span>;
    }
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processData</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]));    <span class="hljs-comment">// [2, 4, 6]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processData</span>(<span class="hljs-string">"hello"</span>));      <span class="hljs-comment">// "HELLO"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processData</span>({<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span>})); <span class="hljs-comment">// 2</span>
</code></pre>
<h2 data-id="heading-10">æ€»ç»“ï¼šé€‰æ‹©åˆé€‚çš„æ–¹æ³•</h2>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ³•</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>åˆ¤æ–­åŸºæœ¬ç±»å‹</td><td><code>typeof</code></td><td><code>typeof "hello" === "string"</code></td></tr><tr><td>åˆ¤æ–­æ•°ç»„</td><td><code>Array.isArray()</code></td><td><code>Array.isArray([])</code></td></tr><tr><td>åˆ¤æ–­è‡ªå®šä¹‰å¯¹è±¡</td><td><code>instanceof</code></td><td><code>obj instanceof MyClass</code></td></tr><tr><td>ç²¾ç¡®ç±»å‹åˆ¤æ–­</td><td><code>Object.prototype.toString.call()</code></td><td>è§ä¸Šæ–‡å·¥å…·å‡½æ•°</td></tr><tr><td>ç‰¹æ®Šå€¼åˆ¤æ–­</td><td>ä¸“ç”¨æ–¹æ³•</td><td><code>Number.isNaN()</code>, <code>Number.isFinite()</code></td></tr></tbody></table>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-11">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FUqzEppE_f8gdil6S-toBTg" target="_blank" title="https://mp.weixin.qq.com/s/UqzEppE_f8gdil6S-toBTg" ref="nofollow noopener noreferrer">å†™å‰ç«¯ä¹…äº†ï¼Œæˆ‘ç”¨ Node.js ç»™è‡ªå·±é€ äº†å‡ ä¸ªçœåŠ›å°å·¥å…·</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FF4JkmYxUs9RAtsti6V1uhg" target="_blank" title="https://mp.weixin.qq.com/s/F4JkmYxUs9RAtsti6V1uhg" ref="nofollow noopener noreferrer">æˆ‘ä¹Ÿæ˜¯å†™äº†å¾ˆä¹… TypeScriptï¼Œæ‰æ„è¯†åˆ°è¿™äº›å†™æ³•ä¸å¯¹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F2wHCiqgtRfK_008fLBamPQ" target="_blank" title="https://mp.weixin.qq.com/s/2wHCiqgtRfK_008fLBamPQ" ref="nofollow noopener noreferrer">ThreadLocal åœ¨å®é™…é¡¹ç›®ä¸­çš„ 6 å¤§ç”¨æ³•ï¼ŒåŸæ¥å¯ä»¥è¿™ä¹ˆç®€å•</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsMAKhSLNvmU1ddxg0yv9Fg" target="_blank" title="https://mp.weixin.qq.com/s/sMAKhSLNvmU1ddxg0yv9Fg" ref="nofollow noopener noreferrer">é‡æ„äº†20ä¸ªSpringBooté¡¹ç›®åï¼Œæ€»ç»“å‡ºè¿™å¥—ç¨³å®šé«˜æ•ˆçš„æ¶æ„è®¾è®¡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS ç‰¹æ®Šç¬¦å· / è‹±æ–‡å¯¼è‡´æ¢è¡Œé—®é¢˜é€ŸæŸ¥è¡¨]]></title>    <link>https://juejin.cn/post/7593077945016221723</link>    <guid>https://juejin.cn/post/7593077945016221723</guid>    <pubDate>2026-01-09T10:02:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593077945016221723" data-draft-id="7593169840199794714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS ç‰¹æ®Šç¬¦å· / è‹±æ–‡å¯¼è‡´æ¢è¡Œé—®é¢˜é€ŸæŸ¥è¡¨"/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2026-01-09T10:02:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS ç‰¹æ®Šç¬¦å· / è‹±æ–‡å¯¼è‡´æ¢è¡Œé—®é¢˜é€ŸæŸ¥è¡¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T10:02:55.000Z" title="Fri Jan 09 2026 10:02:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æœ€æ¨èé€šç”¨å†™æ³•ï¼ˆ90% åœºæ™¯ï¼‰</h2>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;
  white-space: normal;
}
</code></pre>
<p><strong>é€‚ç”¨ï¼š</strong></p>
<ul>
<li>ä¸­æ–‡ + è‹±æ–‡æ··æ’</li>
<li>URL / ç‰¹æ®Šç¬¦å·</li>
<li>ä¸å¸Œæœ›è‹±æ–‡è¢«æ‹†æˆå­—æ¯</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€å¸¸è§éœ€æ±‚å¯¹åº”å†™æ³•</h2>
<blockquote>
<p>ä»¥ä¸‹åœºæ™¯è¦†ç›–ï¼š<strong>ä¸æ‹†å•è¯ / å…è®¸æ‹†å•è¯ / ç‰¹æ®Šç¬¦å·æå‰æ¢è¡Œ</strong> ç­‰çœŸå®ä¸šåŠ¡éœ€æ±‚</p>
</blockquote>
<h3 data-id="heading-2">1ï¸âƒ£ ä¸å¸Œæœ›å•è¯è¢«æ‹†å¼€</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: normal;
}
</code></pre>
<hr/>
<h3 data-id="heading-3">2ï¸âƒ£ å•è¯å¤ªé•¿å…è®¸å¿…è¦æ—¶æ¢è¡Œï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
}
</code></pre>
<hr/>
<h3 data-id="heading-4">3ï¸âƒ£ ç‰¹æ®Šç¬¦å·ï¼ˆ<code>- _ / .</code>ï¼‰å¯¼è‡´æ–­è¡Œ</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: keep-all;
  overflow-wrap: <span class="hljs-keyword">break</span>-<span class="hljs-type">word</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-5">4ï¸âƒ£ å®Œå…¨ä¸æ¢è¡Œï¼ˆä¸€è¡Œæ˜¾ç¤ºï¼‰</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">white-space</span>: nowrap;
}
</code></pre>
<hr/>
<h3 data-id="heading-6">5ï¸âƒ£ ä¸€è¡Œæ˜¾ç¤ºï¼Œè¶…å‡ºçœç•¥å·</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">white-space</span>: nowrap;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">text-overflow</span>: ellipsis;
}
</code></pre>
<hr/>
<h3 data-id="heading-7">6ï¸âƒ£ URL / é•¿é“¾æ¥ä¼˜é›…æ–­è¡Œ</h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: anywhere;
}
</code></pre>
<hr/>
<h3 data-id="heading-8">7ï¸âƒ£ ä»£ç  / hash / token å¼ºåˆ¶æ–­è¡Œ</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.code</span> {
  <span class="hljs-attribute">word-break</span>: break-all;
  <span class="hljs-attribute">font-family</span>: monospace;
}
</code></pre>
<hr/>
<h3 data-id="heading-9">8ï¸âƒ£ <strong>æ˜ç¡®æ¥å—å•è¯è¢«æ‹†å¼€ï¼ˆå¼ºåˆ¶ä»»ä½•ä½ç½®æ¢è¡Œï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: <span class="hljs-keyword">break</span>-all;
}
</code></pre>
<p><strong>é€‚ç”¨ï¼š</strong></p>
<ul>
<li>æ—¥å¿—å†…å®¹</li>
<li>é•¿ hash / token / ID</li>
<li>ç©ºé—´æçª„ä½†å¿…é¡»å®Œæ•´å±•ç¤º</li>
</ul>
<p>âš ï¸ è‹±æ–‡ä¼šè¢«æ‹†æˆå­—æ¯ï¼Œå±äº<strong>ä¸»åŠ¨é€‰æ‹©çš„è¡Œä¸º</strong></p>
<hr/>
<h3 data-id="heading-10">9ï¸âƒ£ <strong>ç‰¹æ®Šç¬¦å·å¯¼è‡´â€œæå‰æ¢è¡Œâ€ï¼ˆå¦‚ <code>- / _ .</code>ï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
  overflow-wrap: normal;
}
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ç¦æ­¢åœ¨ç¬¦å·å¤„æ–­è¡Œ</li>
<li>è®©æµè§ˆå™¨åªåœ¨çœŸæ­£éœ€è¦æ—¶æ¢è¡Œ</li>
</ul>
<hr/>
<h3 data-id="heading-11">ğŸ”Ÿ <strong>å…è®¸åœ¨ç‰¹æ®Šç¬¦å·å¤„ä¼˜å…ˆæ¢è¡Œï¼ˆæ¯”æ‹†å­—æ¯æ›´å‹å¥½ï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino">.text {
  overflow-wrap: anywhere;
  <span class="hljs-type">word</span>-<span class="hljs-keyword">break</span>: normal;
}
</code></pre>
<p><strong>é€‚ç”¨ï¼š</strong></p>
<ul>
<li>URL / è·¯å¾„</li>
<li><code>aaa-bbb-ccc-ddd</code></li>
<li>å¸Œæœ›ä¼˜å…ˆåœ¨ç¬¦å·å¤„åˆ†è¡Œï¼Œè€Œä¸æ˜¯å­—æ¯ä¸­é—´</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-meta">---
</span>
<span class="hljs-comment">## ä¸‰ã€Flex / Table å¸¸è§å‘</span>

<span class="hljs-comment">### flex å­é¡¹å†…å®¹è¢«å¼‚å¸¸æ¢è¡Œ</span>

<span class="hljs-string">```css</span>
<span class="hljs-string">.item</span> {
  <span class="hljs-attr">min-width:</span> <span class="hljs-number">0</span><span class="hljs-string">;</span>
  <span class="hljs-attr">overflow-wrap:</span> <span class="hljs-string">break-word;</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-12">å››ã€ä¸æ¨èå†™æ³•ï¼ˆæ…ç”¨ï¼‰</h2>
<blockquote>
<p>âš ï¸ ä»¥ä¸‹å†™æ³•ä¸æ˜¯ä¸èƒ½ç”¨ï¼Œè€Œæ˜¯<strong>å¿…é¡»æ˜ç¡®çŸ¥é“åæœ</strong></p>
</blockquote>
<pre><code class="hljs language-kotlin" lang="kotlin">word-<span class="hljs-keyword">break</span>: <span class="hljs-keyword">break</span>-all;
</code></pre>
<p>âŒ ä¼šæŠŠè‹±æ–‡æ‹†æˆå­—æ¯ï¼Œä»…é€‚åˆæ—¥å¿— / code åœºæ™¯</p>
<hr/>
<h2 data-id="heading-13">äº”ã€å±æ€§é€Ÿè®°è¡¨</h2>





















<table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>word-break</code></td><td>æ˜¯å¦å…è®¸åœ¨å•è¯å†…éƒ¨æ–­è¡Œ</td></tr><tr><td><code>overflow-wrap</code></td><td>å•è¯å¤ªé•¿æ—¶æ˜¯å¦å…è®¸æ¢è¡Œï¼ˆâ­æ¨èï¼‰</td></tr><tr><td><code>white-space</code></td><td>æ˜¯å¦å…è®¸æ¢è¡Œ</td></tr></tbody></table>
<hr/>
<p>ğŸ“Œ <strong>è®°ä½ä¸€å¥è¯ï¼š</strong></p>
<blockquote>
<p><strong>ä¼˜å…ˆç”¨ <code>overflow-wrap: break-word</code>ï¼Œé¿å… <code>word-break: break-all</code></strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨changesetæ¥ç®¡ç†ä½ çš„npmåŒ…ç‰ˆæœ¬]]></title>    <link>https://juejin.cn/post/7593139476840611846</link>    <guid>https://juejin.cn/post/7593139476840611846</guid>    <pubDate>2026-01-09T10:05:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840611846" data-draft-id="7593098101432238134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨changesetæ¥ç®¡ç†ä½ çš„npmåŒ…ç‰ˆæœ¬"/> <meta itemprop="keywords" content="å‰ç«¯,NPM"/> <meta itemprop="datePublished" content="2026-01-09T10:05:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨€é¥­52"/> <meta itemprop="url" content="https://juejin.cn/user/2313028196632446"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨changesetæ¥ç®¡ç†ä½ çš„npmåŒ…ç‰ˆæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2313028196632446/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨€é¥­52
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T10:05:48.000Z" title="Fri Jan 09 2026 10:05:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<p>ç®€å•ä»‹ç»ä¸‹ï¼Œchangesetæ˜¯ä¸€ä¸ªç‰ˆæœ¬ç®¡ç†å’Œç”Ÿæˆæ›´æ–°æ—¥å¿—çš„å·¥å…·ï¼Œè¶…çº§é€‚ç”¨äºå¤šåŒ…ä»“åº“ï¼Œæ¯”å¦‚monorepoï¼Œå¯ä»¥åœ¨æäº¤å‘å¸ƒæ—¶ï¼Œè‡ªåŠ¨æ›´æ–°æ‰€æœ‰åŒ…çš„ç‰ˆæœ¬å·ï¼Œåˆ›å»ºTagï¼Œå¹¶ä¸”ç”Ÿæˆæ›´æ–°æ—¥å¿—ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å®‰è£…</h3>
<p>è¿›å…¥é¡¹ç›®ä¹‹åæ‰§è¡Œå‘½ä»¤ï¼Œå®‰è£…changesetï¼Œå¹¶ä¸”åˆå§‹åŒ–</p>
<pre><code class="hljs language-bash" lang="bash"> pnpm add -D @changesets/cli
 pnpm changeset init
</code></pre>
<p>æ‰§è¡Œå®Œä¹‹åï¼Œåœ¨é¡¹ç›®ä¸­ä¼šæ–°å¢ä¸€ä¸ª<code>.changeset</code>ç›®å½•ï¼Œç”¨äºå­˜æ”¾é…ç½®æ–‡ä»¶å’Œ<strong>ä¸´æ—¶çš„ç‰ˆæœ¬å˜æ›´æè¿°æ–‡ä»¶</strong>ã€‚</p>
<pre><code class="hljs language-txt" lang="txt">.changeset/
 â”œâ”€ config.json
 â””â”€ README.md
</code></pre>
<h3 data-id="heading-2">äºŒã€ä½¿ç”¨æµç¨‹</h3>
<p>åœ¨é€šç”¨çš„ç‰ˆæœ¬ç®¡ç†æµç¨‹ä¸­ï¼Œé€šå¸¸ä¼šåŒºåˆ†ä¸ºï¼š</p>
<ul>
<li><strong>é¢„å‘å¸ƒç‰ˆæœ¬</strong>ï¼ˆå¦‚alphaå’Œbetaï¼‰</li>
<li><strong>æ­£å¼ç‰ˆæœ¬</strong></li>
</ul>
<h4 data-id="heading-3">é¢„å‘å¸ƒç‰ˆæœ¬</h4>
<p>é¢„å‘å¸ƒé˜¶æ®µçš„ä¸¤çº§ä¸ºalphaå’Œbetaï¼Œä¸‹é¢æ˜¯å¤§è‡´åŒºåˆ«ï¼š</p>



































<table><thead><tr><th align="left">ç»´åº¦</th><th>alphaï¼ˆå†…æµ‹ï¼‰</th><th>betaï¼ˆå…¬æµ‹ï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>ä»£ç ç¨³å®šæ€§</strong></td><td>éšæ—¶å¯èƒ½å¤§æ”¹</td><td>åŠŸèƒ½åŸºæœ¬é”å®šï¼Œä¸ä¼šæœ‰å¤§çš„è°ƒæ•´</td></tr><tr><td align="left"><strong>æµ‹è¯•äººç¾¤</strong></td><td>å›¢é˜Ÿå†…éƒ¨</td><td>ç°åº¦ç”¨æˆ·</td></tr><tr><td align="left"><strong>å‘å¸ƒé¢‘ç‡</strong></td><td>æ¯å¤©/æ¯å‘¨éƒ½èƒ½å‡ºåŒ…</td><td>èŠ‚å¥ç¨æ…¢ï¼ŒæŸä¸ªé˜¶æ®µçš„ç‰ˆæœ¬</td></tr><tr><td align="left"><strong>ç‰ˆæœ¬å·ç¤ºä¾‹</strong></td><td>1.0.0-alpha.0 âœ 1.0.0-alpha.1 â€¦</td><td>1.0.0-beta.0 âœ 1.0.0-beta.1 â€¦</td></tr><tr><td align="left"><strong>é€€å‡ºæ¡ä»¶</strong></td><td>è¾¾åˆ°åŠŸèƒ½å®Œå¤‡ â†’ è¿›å…¥beta</td><td>è¿ç»­å‡ å¤©æ— é˜»å¡Bug â†’ å‘å¸ƒæ­£å¼ç‰ˆ</td></tr></tbody></table>
<p>ç›¸å…³å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset pre enter alpha   <span class="hljs-comment"># è¿›å…¥alphaæ¨¡å¼,</span>
pnpm changeset version          <span class="hljs-comment"># ç‰ˆæœ¬å˜æˆ0.0.1-alpha.0</span>

pnpm changeset pre enter beta   <span class="hljs-comment"># è¿›å…¥betaæ¨¡å¼</span>
pnpm changeset version          <span class="hljs-comment"># ç‰ˆæœ¬å˜æˆ0.0.1-beta.0</span>

<span class="hljs-comment"># ç»“æŸé¢„å‘å¸ƒ</span>
pnpm changeset pre <span class="hljs-built_in">exit</span>
pnpm changeset version          <span class="hljs-comment"># ç‰ˆæœ¬å˜æˆ0.0.1</span>
</code></pre>
<h4 data-id="heading-4">æ­£å¼ç‰ˆæœ¬</h4>
<p>å½“ä½ å®ŒæˆæŸä¸ªåŒ…çš„å¼€å‘ï¼Œå‡†å¤‡å‘ç‰ˆæ—¶ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset
</code></pre>
<p>å¦‚æœæ˜¯å¤šåŒ…ä»“åº“ï¼Œç»ˆç«¯ä¼šå‡ºç°ä¸€ä¸ªé€‰æ‹©æ¡†ï¼Œè®©ä½ é€‰æ‹©æ”¹è¿‡çš„åŒ…ï¼Œ</p>
<ol>
<li>
<p>æŒ‰ç©ºæ ¼é€‰ä¸­ä½ æ”¹è¿‡çš„åŒ…ï¼ˆæœ‰æ˜Ÿå·å°±ç®—é€‰ä¸­ï¼‰â†’ å›è½¦ï¼Œ</p>
</li>
<li>
<p>é€‰åŒ…çš„æ›´æ–°çº§åˆ«ï¼Œä¼šä¾æ¬¡å‡ºç°majorå’Œminorï¼Œå›è½¦åˆ°ä¸‹ä¸€æ­¥ï¼Œå¦‚æœéƒ½æ²¡é€‰ä¸­ï¼Œå°±é»˜è®¤ä¸ºpatchï¼Œè¾“å…¥æœ¬æ¬¡æ›´æ–°çš„æè¿°å›è½¦</p>
<ul>
<li>patchï¼šä¿®å¤å°bugï¼ˆ1.0.0â†’1.0.1ï¼‰</li>
<li>minorï¼šæ·»åŠ æ–°åŠŸèƒ½ï¼ˆ1.0.0â†’1.1.0ï¼‰</li>
<li>majorï¼šç ´åæ€§çš„å¤§ç‰ˆæœ¬è°ƒæ•´ï¼Œapiçº§åˆ«çš„è°ƒæ•´ï¼ˆ1.0.0â†’2.0.0ï¼‰</li>
</ul>
</li>
</ol>
<p>å•åŒ…ä»“åº“å°±ç›´æ¥åˆ°äº†é€‰æ‹©æ›´æ–°çº§åˆ«è¿™ä¸€æ­¥ï¼ŒåŒæ ·æ˜¯è¾“å…¥æè¿°ï¼Œç„¶åå›è½¦ï¼›</p>
<p>ç”Ÿæˆç‰ˆæœ¬å·ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset version
</code></pre>
<p>ä½ ä¼šå‘ç°<code>.changeset</code>æ–‡ä»¶å¤¹ä¸­åˆšæ‰ç”Ÿæˆçš„mdæ–‡ä»¶éƒ½å·²ç»ä¸è§äº†ï¼Œç‰ˆæœ¬å·ä¹Ÿå‡å¥½äº†ã€‚</p>
<h4 data-id="heading-5">å‘å¸ƒ</h4>
<ul>
<li>ç™»å½•npm</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">npm login
</code></pre>
<ul>
<li>å‘ç‰ˆ</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">pnpm changeset publish
</code></pre>
<p>æˆåŠŸåï¼Œä¼šåœ¨gitåˆ›å»ºå¯¹åº”çš„git tagï¼Œç»ˆç«¯ä¼šç»™å‡ºæ¯ä¸ªåŒ…çš„ç‰ˆæœ¬å·å’Œ npmé“¾æ¥ã€‚</p>
<h3 data-id="heading-6">ä¸‰ã€changesetæ€»ç»“</h3>
<p>æœ€åæ€»ç»“ä¸‹ï¼Œå¯¹changesetçš„æ•´ä½“æ„Ÿè§‰</p>
<h4 data-id="heading-7">ä¼˜ç‚¹</h4>
<ol>
<li>ç‰ˆæœ¬è¯­ä¹‰åŒ–ï¼Œæ˜¾å¼æ ‡æ³¨å˜æ›´çº§åˆ«</li>
<li>æ¯ä¸€æ¬¡å˜æ›´éƒ½ä¼šæ–°å»ºä¸ªæ–‡ä»¶ï¼Œæ–¹ä¾¿review
<ul>
<li>åˆ—å‡ºå—å½±å“çš„åŒ…</li>
<li>å˜æ›´çš„çº§åˆ«ï¼Œpatch/minor/major</li>
<li>å˜æ›´çš„å†…å®¹</li>
</ul>
</li>
<li>è‡ªåŠ¨ç”Ÿæˆtagã€ç‰ˆæœ¬å·changelog</li>
<li>Monorepoä¾èµ–çš„è‡ªåŠ¨æ¨å¯¼ï¼Œæ¯”å¦‚ä¿®æ”¹äº†aåŒ…ï¼ŒbåŒ…ä¾èµ–äº†aåŒ…ï¼Œé‚£ä¹ˆbåŒ…ä¹Ÿä¼šæ›´æ–°ç‰ˆæœ¬</li>
</ol>
<h4 data-id="heading-8">ç¼ºç‚¹</h4>
<ol>
<li>ä¼šæœ‰é¢å¤–å¿ƒæ™ºè´Ÿæ‹…ï¼Œ
<ul>
<li>æ¯æ¬¡å˜æ›´éƒ½è¦æ‰§è¡Œchangesetï¼Œä¼šå¢åŠ æ“ä½œæµç¨‹ï¼ˆå…¶å®æˆ‘è§‰å¾—è¿™ä¸ªä¸èƒ½ç®—ï¼‰</li>
<li>æ€è€ƒç‰ˆæœ¬ç±»å‹</li>
<li>æµç¨‹å®¹æ˜“æ¼</li>
</ul>
</li>
<li>å•åŒ…é¡¹ç›®æœ‰ç‚¹å¤šä½™ï¼Œæ²¡å®Œå…¨å‘æŒ¥ä½œç”¨</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Switch2Antigravity: è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œ]]></title>    <link>https://juejin.cn/post/7593181244708519988</link>    <guid>https://juejin.cn/post/7593181244708519988</guid>    <pubDate>2026-01-09T09:53:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593181244708519988" data-draft-id="7593173569871380532" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Switch2Antigravity: è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œ"/> <meta itemprop="keywords" content="VibeCoding,IntelliJ IDEA,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-09T09:53:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PPPHUANG"/> <meta itemprop="url" content="https://juejin.cn/user/3083464300298525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Switch2Antigravity: è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3083464300298525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PPPHUANG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:53:31.000Z" title="Fri Jan 09 2026 09:53:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Antigravity</strong> æ˜¯ä¸€æ¬¾â€œä»¥æ™ºèƒ½ä½“ä¸ºä¸»â€çš„å¹³å°ã€‚å®ƒé¢„è®¾ AI ä¸ä»…æ˜¯ç¼–å†™ä»£ç çš„å·¥å…·ï¼Œè€Œä¸”æ˜¯èƒ½å¤Ÿè§„åˆ’ã€æ‰§è¡Œã€éªŒè¯å’Œè¿­ä»£å¤æ‚å·¥ç¨‹ä»»åŠ¡çš„è‡ªä¸»è¡ŒåŠ¨è€…ï¼Œå‡ ä¹æ— éœ€äººå·¥å¹²é¢„ã€‚éšç€ <strong>Gemini 3</strong> çš„å‘å¸ƒ Antigravity åœ¨ vibe coding é¢†åŸŸç«çš„ä¸€å¡Œç³Šæ¶‚ã€‚</p>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸åœ¨Â <strong>IntelliJ IDEA</strong>Â (å¼ºå¤§çš„ Java/Kotlin é™æ€åˆ†æä¸é‡æ„èƒ½åŠ›)Â å’ŒÂ <strong>Antigravity</strong>Â (æµç•…çš„ AI è¾…åŠ©ç¼–ç ä½“éªŒ)Â ä¹‹é—´åˆ‡æ¢ã€‚</p>
<p>ä¸ºäº†è§£å†³ä¸¤ä¸ªç¼–è¾‘å™¨ä¹‹é—´é¢‘ç¹â€œæ‰‹åŠ¨å®šä½æ–‡ä»¶â€çš„ç—›ç‚¹ï¼Œæˆ‘å¼€å‘äº†ä¸€ä¸ª IntelliJ IDEA æ’ä»¶Â â€”â€”Â <strong>Switch2Antigravity</strong>ï¼Œæ­é… vs code çš„ <strong>Switch2IDEA</strong> æ’ä»¶è®© IntelliJ IDEA ä¸ Antigravity æ— ç¼åä½œã€‚</p>
<h2 data-id="heading-0"><strong>âœ¨ æ ¸å¿ƒåŠŸèƒ½</strong></h2>
<p>è¿™ä¸ªæ’ä»¶çš„æ ¸å¿ƒç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š<strong>Context Switching Costs Null (è®©ä¸Šä¸‹æ–‡åˆ‡æ¢é›¶æˆæœ¬)</strong>ã€‚</p>
<ul>
<li>
<p><strong>âš¡ ä¸€é”®è·³è½¬</strong>: åœ¨ IDEA ä¸­æŒ‰ä¸‹Â <code>Shift + Alt + A</code>ï¼Œå½“å‰ç¼–è¾‘çš„æ–‡ä»¶ä¼šç«‹å³åœ¨ Antigravity ä¸­æ‰“å¼€ã€‚ä¹Ÿå¯ä»¥åœ¨æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ä¸Šç‚¹å‡»å³é”® <code>Open in Antigravity</code>ã€‚</p>
</li>
<li>
<p><strong>ğŸ“ ç²¾å‡†å®šä½</strong>: ä¸ä»…ä»…æ˜¯æ‰“å¼€æ–‡ä»¶ï¼Œå®ƒä¼šè‡ªåŠ¨å¸¦ä½ åˆ°<strong>å…‰æ ‡æ‰€åœ¨çš„å…·ä½“è¡Œå’Œåˆ—</strong>ã€‚æ— ç¼è¡”æ¥ä½ çš„æ€ç»´æµã€‚</p>
</li>
<li>
<p><strong>ğŸ› ï¸ æ™ºèƒ½é…ç½®</strong>:</p>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸­çš„ Antigravity å®‰è£…è·¯å¾„ (æ”¯æŒ WindowsÂ <code>where</code>Â å’Œ Mac/LinuxÂ <code>which</code>Â æ¢æµ‹)ã€‚</li>
<li>æ”¯æŒåœ¨è®¾ç½®é¡µé¢è‡ªå®šä¹‰å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1"><strong>ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹</strong></h2>
<p>åŸºäº IntelliJ Platform SDK å’Œ Kotlin å¼€å‘ï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†ç»†èŠ‚æ»¡æ»¡ã€‚</p>
<h3 data-id="heading-2"><strong>1. è·¨å¹³å°å¯åŠ¨å‘½ä»¤</strong></h3>
<p>ä¸åŒç³»ç»Ÿçš„å¯åŠ¨å‚æ•°ç•¥æœ‰ä¸åŒï¼Œä¸ºäº†ä¿è¯ç¨³å®šæ€§ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†åŸç”Ÿçš„ CLI è°ƒç”¨æ–¹å¼è€Œä¸æ˜¯ URL Schemeã€‚</p>
<h3 data-id="heading-3"><strong>2. æ™ºèƒ½è·¯å¾„æ¢æµ‹</strong></h3>
<p>å¾ˆå¤šåŒå­¦çš„å®‰è£…è·¯å¾„å„ä¸ç›¸åŒï¼Œæˆ‘ä»¬åœ¨Â <code>OpenInAntigravityAction</code>Â ä¸­å®ç°äº†å¤šçº§æ¢æµ‹ç­–ç•¥ï¼š</p>
<ol>
<li><strong>ç”¨æˆ·é…ç½®ä¼˜å…ˆ</strong>: æ£€æŸ¥æ’ä»¶è®¾ç½®ä¸­æ˜¯å¦æŒ‡å®šäº†è·¯å¾„ã€‚</li>
<li><strong>PATH ç¯å¢ƒå˜é‡</strong>: éå† PATH æŸ¥æ‰¾Â <code>antigravity</code>ã€‚</li>
<li><strong>System Command</strong>: å°è¯•æ‰§è¡ŒÂ <code>where antigravity</code>Â (Win) æˆ–Â <code>which antigravity</code>Â (Mac) è·å–çœŸå®è·¯å¾„ã€‚</li>
<li><strong>é»˜è®¤è·¯å¾„å…œåº•</strong>: æ£€æŸ¥å¸¸è§çš„é»˜è®¤å®‰è£…ä½ç½® (å¦‚Â <code>AppData</code>,Â <code>/Applications</code>Â ç­‰)ã€‚</li>
</ol>
<h2 data-id="heading-4"><strong>ğŸ¤¯ Inceptionï¼šç”¨ Antigravity å¼€å‘ Antigravity æ’ä»¶</strong></h2>
<p>æ›´æœ‰è¶£çš„æ˜¯ï¼Œ<strong>è¿™ä¸ªæ’ä»¶æœ¬èº«å°±æ˜¯å®Œå…¨ä½¿ç”¨ Antigravity è¾…åŠ©å¼€å‘çš„</strong>ã€‚</p>
<p>ä»æœ€åˆçš„ Gradle è„šæœ¬é…ç½®ã€Kotlin é€»è¾‘å®ç°ï¼Œåˆ°å¤æ‚çš„ SVG å›¾æ ‡ç”Ÿæˆè„šæœ¬ï¼Œç”šè‡³æ˜¯ solving å„ç§ç¯å¢ƒå…¼å®¹æ€§ bugï¼Œå…¨è¿‡ç¨‹éƒ½æ˜¯åœ¨ Antigravity çš„ AGENTIC æ¨¡å¼ä¸‹å®Œæˆçš„ã€‚</p>
<ul>
<li><strong>éœ€æ±‚ç†è§£</strong>: æˆ‘åªéœ€è¦è¾“å…¥ "å¸®æˆ‘æä¸ª IDEA æ’ä»¶ï¼Œèƒ½è·³è½¬åˆ° Antigravity"ï¼Œå®ƒå°±è‡ªåŠ¨è§„åˆ’äº†Â <code>plugin.xml</code>Â å’Œ Action çš„ç»“æ„ã€‚</li>
<li><strong>ä»£ç ç”Ÿæˆ</strong>: è‡ªåŠ¨è¡¥å…¨äº†å¤æ‚çš„ PSI å’Œ ActionSystem ç›¸å…³ä»£ç ã€‚</li>
<li><strong>Debug</strong>: é‡åˆ° Mac ä¸‹Â <code>open</code>Â å‘½ä»¤å‚æ•°é—®é¢˜ï¼Œå®ƒè¿…é€Ÿç»™å‡ºäº†Â <code>ProcessBuilder</code>Â çš„ CLI æ›¿ä»£æ–¹æ¡ˆã€‚</li>
<li><strong>æ–‡æ¡ˆåˆ›ä½œ</strong>: ä½ æ­£åœ¨çœ‹çš„è¿™ç¯‡åšå®¢ï¼Œä¹Ÿæ˜¯å®ƒå†™çš„ï¼</li>
</ul>
<p>è¿™ä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·çš„é›†æˆï¼Œæ›´æ˜¯ä¸€æ¬¡Â <strong>AI Native å¼€å‘æµç¨‹</strong>Â çš„æœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-5"><strong>ğŸ“¦ å¦‚ä½•å®‰è£…</strong></h2>
<p>æ’ä»¶ä¸Šæ¶ JetBrains Marketplaceï¼Œ ç¼–è¾‘å™¨ JetBrains Marketplace ä¸­æœç´¢å®‰è£…ã€‚</p>
<p>æ‰‹åŠ¨å®‰è£…</p>
<ol>
<li>Clone æœ¬é¡¹ç›®æºç ã€‚</li>
<li>è¿è¡ŒÂ <code>./gradlew buildPlugin</code>ã€‚</li>
<li>åœ¨ IDEA ä¸­é€‰æ‹© "Install Plugin from Disk"ï¼Œé€‰ä¸­Â <code>build/distributions/</code>Â ä¸‹ç”Ÿæˆçš„ Zip åŒ…å³å¯ã€‚</li>
</ol>
<h2 data-id="heading-6"><strong>ğŸ”— å¼€æºåœ°å€</strong></h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPPPHUANG%2Fidea-antigravity-plugin" target="_blank" title="https://github.com/PPPHUANG/idea-antigravity-plugin" ref="nofollow noopener noreferrer">github.com/PPPHUANG/idâ€¦</a></p>
<hr/>
<p><em>Happy Coding with IDEA &amp; Antigravity!</em></p>
<p>å…¬ä¼—å·ï¼š<strong>DailyHappy</strong>Â ä¸€ä½åç«¯å†™ç å¸ˆï¼Œä¸€ä½é»‘æš—æ–™ç†åˆ¶é€ è€…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Angular UI çš„ C# æ¡Œé¢åº”ç”¨]]></title>    <link>https://juejin.cn/post/7592960378690945059</link>    <guid>https://juejin.cn/post/7592960378690945059</guid>    <pubDate>2026-01-09T09:15:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592960378690945059" data-draft-id="7593158683411103744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Angular UI çš„ C# æ¡Œé¢åº”ç”¨"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,Angular.js"/> <meta itemprop="datePublished" content="2026-01-09T09:15:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TeamDev"/> <meta itemprop="url" content="https://juejin.cn/user/4158825167847872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Angular UI çš„ C# æ¡Œé¢åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4158825167847872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TeamDev
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:15:58.000Z" title="Fri Jan 09 2026 09:15:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/195aa778358b47d78318720fb2753233~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554959&amp;x-signature=FjadOfvXrMRCMXS%2BjhA6wYG%2BPLM%3D" alt="" loading="lazy"/></p>
<p>ç°ä»£ç”¨æˆ·ä½“éªŒå·²æˆä¸ºæ¡Œé¢åº”ç”¨çš„åŸºç¡€è¦æ±‚ï¼Œé‡‡ç”¨ Web æŠ€æœ¯èƒ½å¸®åŠ©å›¢é˜Ÿæ›´å¿«äº¤ä»˜è½¯ä»¶ã€‚</p>
<p>æœ¬æ–‡å°†å±•ç¤ºåŸºäº C# çš„æ¡Œé¢åº”ç”¨æ¶æ„ï¼Œå…¶ç”¨æˆ·ç•Œé¢é‡‡ç”¨ Angular å®ç°ã€‚è¯¥åº”ç”¨æ”¯æŒç¦»çº¿è¿è¡Œä¸”æ— éœ€æœ¬åœ°æœåŠ¡å™¨ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆåœ¨æ¡Œé¢åº”ç”¨ä¸­ä½¿ç”¨ Web UIï¼Ÿ</h2>
<p>Web UI æŠ€æœ¯æ ˆæ‹¥æœ‰åºå¤§ä¸”ç»è¿‡å……åˆ†éªŒè¯çš„ç»„ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚é‡‡ç”¨ Angular æ„å»ºæ¡Œé¢UIï¼Œå¯å€ŸåŠ©ç†Ÿæ‚‰çš„å·¥å…·å¤„ç†å¸ƒå±€ã€ä¸»é¢˜å’Œäº¤äº’é€»è¾‘ï¼Œé¿å…åœ¨åŸç”Ÿ UI æ¡†æ¶ä¸­é‡å¤å®ç°ç›¸åŒæ§ä»¶ã€‚</p>
<p>è¿™ç§æ–¹å¼åŒæ—¶ç®€åŒ–äº†ä»£ç å¤ç”¨æµç¨‹ã€‚åŒä¸€ä¸ª Angular åº”ç”¨æ—¢èƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¹Ÿèƒ½åµŒå…¥æ¡Œé¢åº”ç”¨å®¿ä¸»ç¨‹åºï¼Œå¤§å¹…å‡å°‘ä»£ç å†—ä½™ï¼Œå®ç° UI å˜æ›´çš„é›†ä¸­ç®¡ç†ã€‚åŸç”Ÿçª—å£ä¸ç³»ç»Ÿé›†æˆçš„å·¥ä½œç”±ç‹¬ç«‹æ¨¡å—è´Ÿè´£ï¼ŒWeb å±‚ä¿æŒå¯ç§»æ¤æ€§ï¼Œæ¡Œé¢åº”ç”¨åˆ™èƒ½ä¸å„ä¸ªæ“ä½œç³»ç»Ÿå®ç°æ— ç¼é›†æˆã€‚</p>
<h2 data-id="heading-1">C# æ¡Œé¢åº”ç”¨ä¸­çš„ Web UI</h2>
<p>æœ¬æ–‡å°†æ„å»ºä¸€ä¸ª è·¨å¹³å°çš„ Avalonia æ¡Œé¢åº”ç”¨ï¼Œå…¶ UI æ˜¯ä¸€ä¸ªåŸºäº Angular çš„ç®€å•åå¥½è®¾ç½®ç•Œé¢ã€‚Angular Web åº”ç”¨è¢«æ‰“åŒ…è¿›æ¡Œé¢ç¨‹åºä¸­ï¼Œè€Œ .NET ç«¯è´Ÿè´£å°†è®¾ç½®ä¿å­˜åˆ°æŒä¹…åŒ–å­˜å‚¨ä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83d0dc08f9a5488c9c1461569da6ce99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554959&amp;x-signature=QX6ZBmPIWne9kcNjTAx5FMzwZvU%3D" alt="è¿è¡Œåœ¨ Avalonia çª—å£ä¸­çš„ Angular UIã€‚" loading="lazy"/></p>
<p align="center"><span>è¿è¡Œåœ¨ Avalonia çª—å£ä¸­çš„ Angular UI</span></p>
<p>UI ä½¿ç”¨äº† PrimeNG ä½œä¸ºç°æˆçš„ Angular ç»„ä»¶åº“ï¼Œä½†åœ¨è¯¥æ¶æ„ä¸‹ï¼Œä»»ä½•ç±»ä¼¼çš„ç»„ä»¶åº“éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>å°†ç½‘é¡µç•Œé¢åµŒå…¥æ¡Œé¢å£³å±‚æ—¶,éœ€å…‹æœä»¥ä¸‹éšœç¢ï¼š</p>
<ol>
<li>éœ€é‡‡ç”¨ç¬¦åˆç°ä»£ç½‘é¡µæ ‡å‡†çš„å¯é ç½‘é¡µè§†å›¾ç»„ä»¶ã€‚</li>
<li>éœ€å®ç°æ— æœåŠ¡å™¨ç¯å¢ƒä¸‹çš„ç½‘é¡µå†…å®¹åŠ è½½ï¼Œç¡®ä¿åº”ç”¨è‡ªåŒ…å«æ€§ã€‚</li>
<li>éœ€å»ºç«‹ JavaScript ä¸ .NET ä¹‹é—´çš„åŒå‘é€šä¿¡æœºåˆ¶ã€‚</li>
</ol>
<p>åç»­ç« èŠ‚å°†ä¾æ¬¡è¯´æ˜ï¼šçª—å£ä¸ç½‘é¡µè§†å›¾çš„é…ç½®æ–¹æ¡ˆã€æ— æœåŠ¡å™¨åŠ è½½ Angular UI çš„å®ç°æ–¹æ³•ï¼Œä»¥åŠé€šè¿‡ OpenAPI è§„èŒƒå®šä¹‰çš„æ¥å£è¿æ¥ JavaScript ä¸ .NET çš„å…·ä½“æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-2">åº”ç”¨çª—å£ä¸ç½‘é¡µè§†å›¾</h2>
<p>å¯¹äºæ¡Œé¢å£³å±‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ Avalonia åˆ›å»ºåŸç”Ÿçª—å£å’Œå¸ƒå±€ï¼Œå¹¶é€šè¿‡ DotNetBrowserï¼ˆåŸºäº Chromium çš„è·¨å¹³å°ç½‘é¡µè§†å›¾ç»„ä»¶ï¼‰å°†å…¶åµŒå…¥å…¶ä¸­ï¼š</p>
<p><strong>MainWindow.axaml</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Window</span> <span class="hljs-attr">Width</span>=<span class="hljs-string">"1200"</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">Title</span>=<span class="hljs-string">"Angular Demo"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">app:BrowserView</span> <span class="hljs-attr">x:Name</span>=<span class="hljs-string">"BrowserView"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Window</span>&gt;</span>
</code></pre>
<p>åœ¨åç«¯ä»£ç ä¸­ï¼Œçª—å£ä¼šç›‘å¬ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œå¹¶åœ¨æ‰“å¼€æ—¶åˆå§‹åŒ–æµè§ˆå™¨ç»„ä»¶ï¼š</p>
<p><strong>MainWindow.axaml.cs</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> : <span class="hljs-title">Window</span>
{
<span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> Url = ResourceRequestHandler.Domain;

    <span class="hljs-keyword">public</span> IBrowser? Browser { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> IServiceProvider? ServiceProvider { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindow</span>()</span>
    {
        InitializeComponent();
        Opened += OnOpened;
        Closed += OnClosed;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnOpened</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>? sender, EventArgs e</span>)</span>
    {
        Browser = ServiceProvider
            .GetRequiredService&lt;IEngineService&gt;()
            .CreateBrowser();
        BrowserView.InitializeFrom(Browser);

        <span class="hljs-keyword">await</span> Browser.Navigation.LoadUrl(Url);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnClosed</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>? sender, EventArgs e</span>)</span>
    {
        Browser?.Dispose();
    }
}
</code></pre>
<p>Engine æœ¬èº«ç”± <code>IEngineService</code> ç®¡ç†ï¼Œå› æ­¤çª—å£åªéœ€åœ¨æ‰“å¼€æ—¶è¯·æ±‚æ–°çš„æµè§ˆå™¨å®ä¾‹ï¼Œå¹¶åœ¨å…³é—­æ—¶é‡Šæ”¾å®ƒã€‚è¿™æ ·å¯ä»¥å°† Engine çš„ç”Ÿå‘½å‘¨æœŸå’Œé…ç½®é›†ä¸­ç®¡ç†ã€‚</p>
<h2 data-id="heading-3">åœ¨æ¡Œé¢åº”ç”¨ä¸­åŠ è½½ Web UI</h2>
<p>å°† Angular åº”ç”¨ç§»å…¥åµŒå…¥å¼æµè§ˆå™¨ä¼šæ”¹å˜å…¶åŠ è½½æ–¹å¼ã€‚
åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç¼–è¯‘åçš„å‹ç¼©æ–‡ä»¶ä¼šè¢«æ‰“åŒ…åˆ°æ¡Œé¢åº”ç”¨ä¸­ï¼Œè€Œéé€šè¿‡å¸¸è§„æµè§ˆå™¨æ ‡ç­¾é¡µçš„ <code>http://localhost</code> åœ°å€æä¾›æœåŠ¡ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨åœ¨å¼€å‘é˜¶æ®µï¼Œæ‚¨ä»å¸Œæœ›è·å¾—å¼€å‘æœåŠ¡å™¨çš„å¿«é€Ÿåé¦ˆå’Œçƒ­é‡è½½åŠŸèƒ½ã€‚</p>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œå¯ä¿æŒå¸¸è§„ Angular å·¥ä½œæµï¼šå¯åŠ¨ <code>ng serve</code> å¹¶åŠ è½½å¼€å‘ URLï¼Œè¿™æ ·çƒ­é‡è½½åŠŸæ‰èƒ½å¾—ä»¥ä¿ç•™ã€‚</p>
<h3 data-id="heading-4">ç”Ÿäº§ç¯å¢ƒä¸­çš„ Web UI åŠ è½½</h3>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä¾èµ–å¼€å‘æœåŠ¡å™¨ï¼Œç”šè‡³ä¸å¸Œæœ›ä½¿ç”¨ä»»ä½• HTTP æœåŠ¡å™¨ã€‚ç›¸åï¼ŒåµŒå…¥å¼æµè§ˆå™¨ä¼šåŠ è½½ç±»ä¼¼ <code>dnb://internal.host/</code> è¿™æ ·çš„è‡ªå®šä¹‰åè®® URLã€‚</p>
<p>DotNetBrowser å¯æ‹¦æˆªè¯¥åè®®è¯·æ±‚ï¼Œå¹¶é€šè¿‡åµŒå…¥èµ„æºå“åº”æ•°æ®è€Œéç½‘ç»œè¯·æ±‚ã€‚é…ç½®æ­¤åè®®å¤„ç†å™¨åï¼ŒAngular åº”ç”¨å®Œå…¨ç”±åŒ…å†…éƒ¨æä¾›ï¼š</p>
<p><strong>EngineService.cs</strong></p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">builder</span> = new EngineOptions.Builder
{
    <span class="hljs-attr">RenderingMode</span> = RenderingMode.HardwareAccelerated
}<span class="hljs-comment">;</span>
builder.Schemes.Add(Scheme.Create("dnb"), handler)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ResourceRequestHandler.cs</strong></p>
<pre><code class="hljs language-lua" lang="lua">private <span class="hljs-built_in">string</span> ConvertToResourcePath(<span class="hljs-built_in">string</span> url)
{
    <span class="hljs-built_in">string</span> <span class="hljs-built_in">path</span> = url.Replace(Domain, <span class="hljs-built_in">string</span>.Empty, StringComparison.Ordinal);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">string</span>.IsNullOrWhiteSpace(<span class="hljs-built_in">path</span>) || <span class="hljs-built_in">path</span> == <span class="hljs-string">"/"</span>)
    {
        <span class="hljs-built_in">path</span> = <span class="hljs-string">"browser/index.html"</span>;
    }
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">path</span>.StartsWith(<span class="hljs-string">"browser/"</span>, StringComparison.OrdinalIgnoreCase))
    {
        <span class="hljs-built_in">path</span> = $<span class="hljs-string">"browser/{path}"</span>;
    }
    <span class="hljs-keyword">return</span> prefix + <span class="hljs-built_in">path</span>.TrimStart(<span class="hljs-string">'/'</span>).Replace(<span class="hljs-string">"/"</span>, <span class="hljs-string">"."</span>);
}
</code></pre>
<p>å®Œæˆèµ„æºåŠ è½½é…ç½®åï¼Œå‰©ä¸‹çš„å…³é”®æ­¥éª¤æ˜¯è®© Angular ä¸ .NET ä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æ¢ã€‚</p>
<h2 data-id="heading-5">Web åº”ç”¨ä¸ .NET ä¹‹é—´çš„é€šä¿¡</h2>
<p>ä¸ä»»ä½• Web UI ä¸€æ ·ï¼ŒAngular åº”ç”¨ä¹Ÿéœ€è¦ä¸åç«¯è¿›è¡Œé€šä¿¡ã€‚è¿™ä¾¿æ˜¯åº”ç”¨ç¨‹åºçš„ .NET éƒ¨åˆ†ï¼Œè´Ÿè´£å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè€Œ Web UI åˆ™è´Ÿè´£ç”¨æˆ·äº¤äº’ã€‚å…³é”®é—®é¢˜åœ¨äºå¦‚ä½•å°†è¿™ä¸¤éƒ¨åˆ†è¿æ¥èµ·æ¥ï¼ŒåŒæ—¶ç¡®ä¿åœ¨åº”ç”¨ç¨‹åºæ¼”è¿›è¿‡ç¨‹ä¸­ä¿æŒå¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-6">JavaScript ä¸ .NET çš„ç›´æ¥æ¡¥æ¥</h3>
<p>æœ€ç›´æ¥çš„æ–¹å¼æ˜¯å°† .NET æ–¹æ³•ç›´æ¥æš´éœ²ç»™ JavaScriptã€‚DotNetBrowser æ”¯æŒè¿™ç§æ–¹å¼ã€‚é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ª C# ç±»ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PrefsService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> PreferencesStore store;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PrefsService</span>(<span class="hljs-params">PreferencesStore store</span>)</span>
    {
        <span class="hljs-keyword">this</span>.store = store;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetAccountEmail</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> email</span>)</span>
    {
        <span class="hljs-keyword">var</span> account = store.GetAccount();
        account.Email = email;
        store.SetAccount(account);
    }
}
</code></pre>
<p>å…¶æ¬¡ï¼Œåœ¨ TypeScript ä¸­æ˜ å°„å…¶ç»“æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefsService</span> {
  <span class="hljs-title function_">setAccountEmail</span>(<span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">prefsService</span>: <span class="hljs-title class_">PrefsService</span>;
<span class="hljs-comment">// ...</span>
prefsService.<span class="hljs-title function_">setAccountEmail</span>(<span class="hljs-string">'john.doe@example.com'</span>);
</code></pre>
<p>æœ€åï¼Œå°† C# å¯¹è±¡æ³¨å…¥ JavaScript ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">browser.InjectJsHandler = <span class="hljs-keyword">new</span> Handler&lt;InjectJsParameters&gt;(p =&gt;
{
    <span class="hljs-built_in">dynamic</span> window = p.Frame.ExecuteJavaScript(<span class="hljs-string">"window"</span>).Result;
    <span class="hljs-keyword">if</span> (window != <span class="hljs-literal">null</span>)
    {
        window.prefsService = <span class="hljs-keyword">new</span> PrefsService(store);
    }
});
</code></pre>
<p>å¯¹äºå°å‹é¡¹ç›®æ¥è¯´ï¼Œè¿™ç§æ–¹å¼ç®€å•ç›´è§‚ï¼Œä¹Ÿå®¹æ˜“ç†è§£ã€‚ä½†å½“ API å¢é•¿åˆ°ä¸æ­¢å‡ ä¸ªæ–¹æ³•æ—¶ï¼Œå°±ä¼šåœ¨ C# å’Œ TypeScript ä¸­é‡å¤å®šä¹‰åŒæ ·çš„å¥‘çº¦ï¼Œå¹¶ä¾èµ–äººå·¥ä¿æŒåŒæ­¥ã€‚</p>
<p>ä¸ºé¿å…è¿™ç§é—®é¢˜ï¼Œè¯¥åº”ç”¨å°†æ¡¥æ¥å±‚è§†ä¸ºä¸€ä¸ª å°å‹ HTTP APIï¼Œå¹¶ä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆå®¢æˆ·ç«¯ï¼Œå…·ä½“åšæ³•å°†åœ¨ OpenAPI ç« èŠ‚ä¸­ä»‹ç»ã€‚</p>
<h3 data-id="heading-7">OpenAPI</h3>
<p>åœ¨è¿™ç§æ¶æ„ä¸­ï¼ŒWeb ä¸ .NET ä¹‹é—´çš„å¥‘çº¦é€šè¿‡ OpenAPI è¿›è¡Œä¸€æ¬¡æ€§æè¿°ã€‚åŸºäºåŒä¸€ä»½è§„èŒƒï¼Œå¯ä»¥ç”Ÿæˆ å¼ºç±»å‹çš„ C# å’Œ TypeScript æ¨¡å‹ä¸å®¢æˆ·ç«¯ï¼Œä»è€Œç¡®ä¿ä¸¤ç«¯åœ¨ API æ¼”è¿›è¿‡ç¨‹ä¸­å§‹ç»ˆä¿æŒåŒæ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79f0a8f4a4904b82942f54a94d7f44fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554959&amp;x-signature=YQsKuZsOD6wWbSArMAhe%2B2QuUtU%3D" alt="Angular UI ä¸ .NET å¤„ç†ç¨‹åºçš„é€šä¿¡" loading="lazy"/></p>
<p align="center"><span>Angular UI ä¸ .NET å¤„ç†ç¨‹åºçš„é€šä¿¡</span></p>
<p>å¤„ç† API è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸åŠ è½½ç½‘é¡µç›¸åŒçš„ <code>dnb:/</code> æ–¹æ¡ˆæ‹¦æˆªå™¨ã€‚æ­¤è®¾è®¡ä½¿åº”ç”¨ä¿æŒè‡ªåŒ…å«ç‰¹æ€§ï¼Œé¿å…æš´éœ²ç”¨æˆ·å¯åœ¨æ™®é€šæµè§ˆå™¨ä¸­è®¿é—®çš„ <code>localhost</code> ç«¯å£æˆ–è¿œç¨‹ç«¯ç‚¹ã€‚</p>
<p>å®¢æˆ·ç«¯æ–¹é¢ï¼Œç”Ÿæˆçš„ TypeScript æœåŠ¡é€šè¿‡å¸¸è§„ <code>fetch()</code> API è¿›è¡Œé€šä¿¡ã€‚è¿™ç¡®ä¿ TypeScript ä»£ç å…·å¤‡å¯ç§»æ¤æ€§ï¼Œå¹¶ä¸å¸¸è§„æµè§ˆå™¨ç¯å¢ƒå…¼å®¹ã€‚</p>
<h4 data-id="heading-8">OpenAPI å¥‘çº¦æ¦‚è§ˆ</h4>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬ç”¨äºæ¼”ç¤ºé¡¹ç›®çš„ OpenAPI å®šä¹‰ç²¾ç®€ç‰ˆï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">paths:</span>
  <span class="hljs-string">/account:</span>
    <span class="hljs-attr">get:</span>
      <span class="hljs-attr">responses:</span>
        <span class="hljs-attr">'200':</span>
          <span class="hljs-attr">content:</span>
            <span class="hljs-attr">application/json:</span>
              <span class="hljs-attr">schema:</span>
                <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Account'</span>
    <span class="hljs-attr">put:</span>
      <span class="hljs-attr">requestBody:</span>
        <span class="hljs-attr">required:</span> <span class="hljs-literal">true</span>
        <span class="hljs-attr">content:</span>
          <span class="hljs-attr">application/json:</span>
            <span class="hljs-attr">schema:</span>
              <span class="hljs-string">$ref:</span> <span class="hljs-string">'#/components/schemas/Account'</span>
<span class="hljs-attr">components:</span>
  <span class="hljs-attr">schemas:</span>
    <span class="hljs-attr">Account:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">object</span>
      <span class="hljs-attr">properties:</span>
        <span class="hljs-attr">email:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">fullName:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">twoFactorAuthentication:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">string</span>
        <span class="hljs-attr">biometricAuthentication:</span>
          <span class="hljs-attr">type:</span> <span class="hljs-string">boolean</span>
</code></pre>
<p>ä»¥ä¸‹æ˜¯ TypeScript ä»£ç å¦‚ä½•ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ API å®¢æˆ·ç«¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> account = <span class="hljs-keyword">await</span> <span class="hljs-title class_">DefaultService</span>.<span class="hljs-title function_">getAccount</span>();

<span class="hljs-keyword">const</span> <span class="hljs-attr">next</span>: <span class="hljs-title class_">Account</span> = {
  ...account,
  <span class="hljs-attr">email</span>: <span class="hljs-string">'john.doe@example.com'</span>,
};

<span class="hljs-keyword">await</span> <span class="hljs-title class_">DefaultService</span>.<span class="hljs-title function_">putAccount</span>(next);
</code></pre>
<p>åœ¨æœåŠ¡å™¨ç«¯ï¼Œç›¸åŒçš„ OpenAPI å®šä¹‰æ”¯æŒæ‹¦æˆªå™¨å¤„ç† <code>dnb://internal.host/api/*</code> è¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬è·¯ç”±åˆ°ä¸šåŠ¡é€»è¾‘ç±»ï¼š</p>
<p><strong>ResourceRequestHandler.cs</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title class_">InterceptRequestResponse</span> <span class="hljs-title class_">HandleApiRequest</span>(
    <span class="hljs-title class_">InterceptRequestParameters</span> parameters,
    <span class="hljs-built_in">string</span> path)
{
    <span class="hljs-keyword">return</span> (method, trimmedPath) <span class="hljs-keyword">switch</span>
    {
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"GET"</span>, <span class="hljs-string">"account"</span></span>) =&gt;</span> <span class="hljs-title class_">JsonResponse</span>(parameters, store.<span class="hljs-title class_">GetAccount</span>()),
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"PUT"</span>, <span class="hljs-string">"account"</span></span>) =&gt;</span>
            <span class="hljs-title class_">HandlePut</span>&lt;<span class="hljs-title class_">Account</span>&gt;(parameters, <span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> store.<span class="hljs-title class_">SetAccount</span>(a)),
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"GET"</span>, <span class="hljs-string">"profile-picture"</span></span>) =&gt;</span>
            <span class="hljs-title class_">JsonResponse</span>(parameters, store.<span class="hljs-title class_">GetProfilePicture</span>()),
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-string">"PUT"</span>, <span class="hljs-string">"profile-picture"</span></span>) =&gt;</span>
            <span class="hljs-title class_">HandlePut</span>&lt;<span class="hljs-title class_">ProfilePicture</span>&gt;(
                parameters,
                <span class="hljs-function"><span class="hljs-params">pic</span> =&gt;</span> store.<span class="hljs-title class_">SetProfilePicture</span>(pic)),
        <span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> <span class="hljs-title class_">CreateResponse</span>(parameters, <span class="hljs-title class_">HttpStatusCode</span>.<span class="hljs-property">NotFound</span>)
    };
}
</code></pre>
<p>è¯¥æ¶æ„ç¡®ä¿åè®®ç±»å‹å®‰å…¨ã€æ”¯æŒç¦»çº¿æ“ä½œï¼Œå¹¶ä¿æŒä¸å¸¸è§„æµè§ˆå™¨ç¯å¢ƒçš„å…¼å®¹æ€§ï¼Œå› ä¸ºå®ƒä¾èµ–æ ‡å‡† HTTP è¯­ä¹‰ã€‚</p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>DotNetBrowser ä¸ Avalonia æä¾›äº†åŸç”Ÿã€è·¨å¹³å°çš„æ¡Œé¢å¤–å£³ï¼Œè€Œ Angular ä¸ PrimeNG åˆ™å¸¦æ¥äº†ç°ä»£åŒ–çš„ Web UIã€‚é€šè¿‡è‡ªå®šä¹‰åè®®åŠ è½½ UIï¼Œå¯ä»¥ä¿æŒåº”ç”¨å®Œå…¨è‡ªåŒ…å«ï¼›è€ŒåŸºäº OpenAPI çš„å¥‘çº¦ï¼Œåˆ™å…è®¸ JavaScript é€šè¿‡ fetch è°ƒç”¨ .NETï¼Œè€Œæ— éœ€é¢å¤–å¯åŠ¨æœåŠ¡å™¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PostgreSQL æ˜¾å¼é”å®šï¼šä»åŸç†åˆ°å®è·µï¼ˆè¶£å‘³ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7593158683411431424</link>    <guid>https://juejin.cn/post/7593158683411431424</guid>    <pubDate>2026-01-09T10:11:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411431424" data-draft-id="7593193235250724916" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PostgreSQL æ˜¾å¼é”å®šï¼šä»åŸç†åˆ°å®è·µï¼ˆè¶£å‘³ç‰ˆï¼‰"/> <meta itemprop="keywords" content="PostgreSQL"/> <meta itemprop="datePublished" content="2026-01-09T10:11:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰è›‹"/> <meta itemprop="url" content="https://juejin.cn/user/3537560778573467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PostgreSQL æ˜¾å¼é”å®šï¼šä»åŸç†åˆ°å®è·µï¼ˆè¶£å‘³ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3537560778573467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰è›‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T10:11:14.000Z" title="Fri Jan 09 2026 10:11:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šæ•°æ®åº“é‡Œçš„â€œæŠ¢æ¿å‡³â€æ¸¸æˆ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å’Œæœ‹å‹å›´ç€ä¸€å¼ æ‘†æ»¡é›¶é£Ÿçš„æ¡Œå­æŠ¢åƒçš„ï¼šæœ‰äººåªæƒ³çœ‹ä¸€çœ¼é›¶é£Ÿï¼ˆè¯»æ•°æ®ï¼‰ï¼Œæœ‰äººæƒ³ç›´æ¥æ‹¿èµ°ï¼ˆæ”¹æ•°æ®ï¼‰ï¼Œæœ‰äººæƒ³æŠŠæ•´å¼ æ¡Œå­æ¬èµ°ï¼ˆåˆ è¡¨ï¼‰ã€‚å¦‚æœæ²¡äººç®¡ï¼Œæ¡Œå­è‚¯å®šä¼šè¢«æ€ç¿»â€”â€”PostgreSQLçš„æ˜¾å¼é”ï¼Œå°±æ˜¯è¿™åœºâ€œæŠ¢é›¶é£Ÿæ¸¸æˆâ€çš„è§„åˆ™å’Œè£åˆ¤ï¼Œç¡®ä¿æ¯ä¸ªäººéƒ½èƒ½æŒ‰è§„çŸ©æ¥ï¼Œä¸æ‰“æ¶ã€ä¸æŠ¢ä¹±ã€‚</p>
<p>PostgreSQLçš„é”ä½“ç³»å°±åƒä¸€å¥—ç²¾å¯†çš„â€œäº¤é€šè§„åˆ™â€ï¼Œè¦†ç›–äº†è¡¨ã€è¡Œã€é¡µä¸‰ä¸ªç»´åº¦ï¼Œè¿˜æœ‰ä¸“é—¨è§£å†³â€œäº’ä¸ç›¸è®©â€çš„æ­»é”æœºåˆ¶ï¼Œä»¥åŠçµæ´»çš„â€œè‡ªå®šä¹‰è§„åˆ™â€ï¼ˆå’¨è¯¢é”ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨æ•…äº‹+ç¤ºä¾‹çš„æ–¹å¼ï¼ŒæŠŠè¿™äº›æ¯ç‡¥çš„é”æ¦‚å¿µè®²æ˜ç™½ã€‚</p>
<h2 data-id="heading-1">1 è¡¨çº§é”ï¼šç»™æ•´å¼ é›¶é£Ÿæ¡Œå®šè§„çŸ©</h2>
<p>è¡¨çº§é”æ˜¯ç»™æ•´å¼ è¡¨ä¸Šçš„â€œå¤§é”â€ï¼Œå°±åƒç»™é›¶é£Ÿæ¡Œè´´æ ‡ç­¾ï¼šâ€œåªè®¸çœ‹â€ï¼Œâ€œå¯æ‹¿é›¶é£Ÿä½†ä¸èƒ½æ¬æ¡Œå­â€ï¼Œâ€œè°éƒ½ä¸è®¸ç¢°â€â€¦â€¦PostgreSQLå®šä¹‰äº†8ç§è¡¨çº§é”æ¨¡å¼ï¼Œæ ¸å¿ƒæ˜¯â€œè°å’Œè°ä¸èƒ½åŒæ—¶æ¥â€ã€‚</p>
<h3 data-id="heading-2">è¶£å‘³åœºæ™¯ï¼šé›¶é£Ÿåº—çš„è¥ä¸šè§„åˆ™</h3>
<p>å‡è®¾ä½ å¼€äº†ä¸€å®¶é›¶é£Ÿåº—ï¼ˆæ•°æ®åº“ï¼‰ï¼Œè´§æ¶ï¼ˆè¡¨ï¼‰ä¸Šæ‘†ç€å„ç§é›¶é£Ÿï¼ˆæ•°æ®ï¼‰ï¼Œä¸åŒé¡¾å®¢ï¼ˆäº‹åŠ¡ï¼‰æœ‰ä¸åŒéœ€æ±‚ï¼Œä½ éœ€è¦ç”¨è¡¨çº§é”æ¥ç®¡ç†ï¼š</p>
<ul>
<li><strong>ACCESS SHAREï¼ˆåªè®¸çœ‹ï¼‰</strong> ï¼šé¡¾å®¢åªæƒ³çœ‹è´§æ¶ä¸Šæœ‰ä»€ä¹ˆé›¶é£Ÿï¼ˆSELECTï¼‰ï¼Œä¸æ‹¿ä¹Ÿä¸ç¢°ã€‚åªè¦æ²¡äººæŠŠè´§æ¶æ¬èµ°ï¼ˆACCESS EXCLUSIVEï¼‰ï¼Œå¤šå°‘äººçœ‹éƒ½å¯ä»¥ã€‚</li>
<li><strong>ROW EXCLUSIVEï¼ˆå¯æ‹¿é›¶é£Ÿï¼‰</strong> ï¼šé¡¾å®¢è¦æ‹¿èµ°ä¸€åŒ…è–¯ç‰‡ï¼ˆUPDATE/INSERT/DELETEï¼‰ï¼Œæ­¤æ—¶ä¸èƒ½æœ‰äººæŠŠè´§æ¶é”èµ·æ¥ç›˜ç‚¹ï¼ˆSHAREï¼‰ï¼Œä½†å…¶ä»–äººè¿˜èƒ½çœ‹ã€è¿˜èƒ½æ‹¿å…¶ä»–é›¶é£Ÿã€‚</li>
<li><strong>ACCESS EXCLUSIVEï¼ˆè°éƒ½ä¸è®¸ç¢°ï¼‰</strong> ï¼šä½ è¦æŠŠæ•´ä¸ªè´§æ¶æ¬èµ°é‡è£…ï¼ˆALTER TABLE/TRUNCATEï¼‰ï¼Œæ­¤æ—¶ä»»ä½•äººéƒ½ä¸èƒ½çœ‹ã€ä¸èƒ½æ‹¿ï¼Œå¿…é¡»ç­‰ä½ æ¬å®Œã€‚</li>
</ul>
<h3 data-id="heading-3">å®æ“ç¤ºä¾‹ï¼šæ‰‹åŠ¨åŠ è¡¨çº§é”</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šè¯1ï¼šç»™productsè¡¨åŠ â€œåªè®¸è¯»â€çš„é”ï¼ˆACCESS SHAREï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
LOCK <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">IN</span> ACCESS SHARE MODE;
<span class="hljs-comment">-- æ­¤æ—¶å¯ä»¥æ­£å¸¸SELECTï¼Œä½†æ— æ³•æ‰§è¡ŒALTER TABLE/TRUNCATE</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'é›¶é£Ÿ'</span>;
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- ä¼šè¯2ï¼šå°è¯•ç»™productsè¡¨åŠ â€œç‹¬å é”â€ï¼ˆACCESS EXCLUSIVEï¼‰ï¼Œä¼šè¢«é˜»å¡</span>
<span class="hljs-keyword">BEGIN</span>;
LOCK <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">IN</span> ACCESS EXCLUSIVE MODE; <span class="hljs-comment">-- ç­‰å¾…ä¼šè¯1æäº¤åæ‰ä¼šæ‰§è¡Œ</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> stock <span class="hljs-type">int</span>;
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- å†²çªç¤ºä¾‹ï¼šACCESS SHAREå’ŒACCESS EXCLUSIVEäº’æ–¥</span>
<span class="hljs-comment">-- ä¼šè¯1å…ˆæŒæœ‰ACCESS SHAREï¼Œä¼šè¯2çš„ACCESS EXCLUSIVEä¼šç­‰å¾…ï¼›åä¹‹äº¦ç„¶</span>
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒå†²çªè§„åˆ™ï¼ˆç®€åŒ–ç‰ˆï¼‰</h3>

























<table><thead><tr><th>é”æ¨¡å¼</th><th>èƒ½å’Œè°å…±å­˜ï¼Ÿ</th><th>ä¸èƒ½å’Œè°å…±å­˜ï¼Ÿ</th></tr></thead><tbody><tr><td>ACCESS SHAREï¼ˆåªè¯»ï¼‰</td><td>å‡ ä¹æ‰€æœ‰é”</td><td>åªæœ‰ACCESS EXCLUSIVE</td></tr><tr><td>ROW EXCLUSIVEï¼ˆæ”¹æ•°æ®ï¼‰</td><td>è¯»é”ã€è¡Œå…±äº«é”</td><td>å…±äº«é”ã€ç‹¬å é”ã€ACCESS EXCLUSIVE</td></tr><tr><td>ACCESS EXCLUSIVEï¼ˆç‹¬å ï¼‰</td><td>æ— </td><td>æ‰€æœ‰é”</td></tr></tbody></table>
<h3 data-id="heading-5">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šç”µå•†å•†å“è¡¨çš„è¡¨çº§é”æ§åˆ¶</h3>
<p>ã€åœºæ™¯ã€‘ç”µå•†å¹³å°çš„å•†å“è¡¨ï¼ˆproductsï¼‰æ—¥å¸¸æœ‰å¤§é‡ç”¨æˆ·æŸ¥è¯¢å•†å“ä¿¡æ¯ï¼ˆSELECTï¼‰ï¼Œè¿è¥äººå‘˜éœ€å®šæœŸæ›´æ–°å•†å“åˆ†ç±»ï¼ˆALTER TABLEï¼‰ï¼Œæ•°æ®åˆ†æå¸ˆéœ€å¤œé—´ç”Ÿæˆé”€å”®ç»Ÿè®¡æŠ¥è¡¨ï¼ˆCREATE INDEX CONCURRENTLYï¼‰ã€‚</p>
<p>ã€é”ç­–ç•¥è®¾è®¡ã€‘ï¼š</p>
<ul>
<li>ç”¨æˆ·æŸ¥è¯¢å•†å“æ—¶ï¼ŒPostgreSQLè‡ªåŠ¨åŠ ACCESS SHAREé”ï¼Œä¸å½±å“å…¶ä»–æŸ¥è¯¢ï¼Œä»…é˜»å¡ALTER TABLEç­‰åŠ ACCESS EXCLUSIVEé”çš„æ“ä½œï¼›</li>
<li>è¿è¥æ›´æ–°å•†å“åˆ†ç±»å­—æ®µï¼ˆALTER TABLE products ADD COLUMN category_level intï¼‰æ—¶ï¼Œéœ€åŠ ACCESS EXCLUSIVEé”ï¼Œéœ€é¿å¼€æŸ¥è¯¢é«˜å³°ï¼ˆå¦‚å‡Œæ™¨æ‰§è¡Œï¼‰ï¼Œé¿å…é˜»å¡å¤§é‡ç”¨æˆ·æŸ¥è¯¢ï¼›</li>
<li>æ•°æ®åˆ†æå¸ˆåˆ›å»ºç»Ÿè®¡ç´¢å¼•ï¼ˆCREATE INDEX CONCURRENTLY idx_products_sales ON products(sales_num)ï¼‰æ—¶ï¼ŒåŠ SHARE UPDATE EXCLUSIVEé”ï¼Œä¸ä¼šé˜»å¡ç”¨æˆ·æŸ¥è¯¢ï¼Œä½†ä¼šé˜»å¡è¿è¥çš„ALTER TABLEæ“ä½œï¼Œéœ€ä¸è¿è¥æ“ä½œé”™å³°ã€‚</li>
</ul>
<p>ã€å®æ“éªŒè¯ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é«˜å³°æ—¶æ®µç”¨æˆ·æŸ¥è¯¢ï¼ˆè‡ªåŠ¨åŠ ACCESS SHAREé”ï¼‰</span>
<span class="hljs-keyword">SELECT</span> name, price, stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'electronics'</span>;

<span class="hljs-comment">-- å¤œé—´è¿è¥æ›´æ–°å­—æ®µï¼ˆåŠ ACCESS EXCLUSIVEé”ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> products <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> category_level <span class="hljs-type">int</span>;
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> category_level <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> category <span class="hljs-operator">=</span> <span class="hljs-string">'electronics'</span>;
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- å‡Œæ™¨åˆ†æå¸ˆåˆ›å»ºå¹¶å‘ç´¢å¼•ï¼ˆåŠ SHARE UPDATE EXCLUSIVEé”ï¼‰</span>
<span class="hljs-keyword">CREATE</span> INDEX CONCURRENTLY idx_products_sales <span class="hljs-keyword">ON</span> products(sales_num);
</code></pre>
<h2 data-id="heading-6">2 è¡Œçº§é”ï¼šåªé”ä½ æƒ³è¦çš„é‚£åŒ…é›¶é£Ÿ</h2>
<p>å¦‚æœè¯´è¡¨çº§é”æ˜¯â€œé”æ•´å¼ æ¡Œå­â€ï¼Œè¡Œçº§é”å°±æ˜¯â€œåªé”ä½ æ‰‹é‡Œçš„é‚£åŒ…è–¯ç‰‡â€â€”â€”ä¸å½±å“åˆ«äººæ‹¿å…¶ä»–é›¶é£Ÿï¼Œç²¾å‡†åˆé«˜æ•ˆã€‚PostgreSQLçš„è¡Œçº§é”åªé˜»å¡â€œæ”¹è¿™è¡Œæ•°æ®çš„äººâ€ï¼Œä¸å½±å“â€œçœ‹è¿™è¡Œæ•°æ®çš„äººâ€ã€‚</p>
<h3 data-id="heading-7">è¶£å‘³åœºæ™¯ï¼šæŠ¢æœ€åä¸€åŒ…é™é‡è–¯ç‰‡</h3>
<p>é›¶é£Ÿåº—åªå‰©1åŒ…é™é‡è–¯ç‰‡ï¼ˆè¡Œæ•°æ®ï¼‰ï¼Œä¸¤ä¸ªé¡¾å®¢åŒæ—¶æƒ³ä¹°ï¼š</p>
<ul>
<li>é¡¾å®¢Aå…ˆä¼¸æ‰‹æ‹¿ï¼ˆSELECT ... FOR UPDATEï¼‰ï¼Œç»™è¿™åŒ…è–¯ç‰‡è´´äº†â€œæˆ‘è¦äº†â€çš„æ ‡ç­¾ï¼ˆè¡Œçº§æ’ä»–é”ï¼‰ï¼›</li>
<li>é¡¾å®¢Bå†ä¼¸æ‰‹ï¼Œå‘ç°æ ‡ç­¾ååªèƒ½ç­‰é¡¾å®¢Aæ¾æ‰‹ï¼ˆäº‹åŠ¡ç»“æŸï¼‰ï¼Œè¦ä¹ˆä¹°åˆ°ï¼Œè¦ä¹ˆå‘ç°è–¯ç‰‡å·²ç»è¢«ä¹°èµ°ï¼ˆè¡Œè¢«åˆ é™¤ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">å®æ“ç¤ºä¾‹ï¼šè¡Œçº§é”çš„4ç§æ¨¡å¼</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼šè¯1ï¼šé”å®šid=100çš„è–¯ç‰‡è¡Œï¼ˆFOR UPDATEï¼Œæ’ä»–é”ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- æ­¤æ—¶è¿™è¡Œè¢«é”å®šï¼Œå…¶ä»–ä¼šè¯æ”¹è¿™è¡Œéƒ½ä¼šç­‰</span>
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> stock <span class="hljs-operator">=</span> stock <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;
<span class="hljs-comment">-- æš‚ä¸æäº¤ï¼Œä¿æŒé”</span>

<span class="hljs-comment">-- ä¼šè¯2ï¼šå°è¯•æ”¹åŒä¸€è¡Œï¼Œä¼šè¢«é˜»å¡</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> price <span class="hljs-operator">=</span> <span class="hljs-number">9.9</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span>; <span class="hljs-comment">-- ç­‰å¾…ä¼šè¯1æäº¤/å›æ»š</span>
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- æ›´æ¸©å’Œçš„é”ï¼šFOR NO KEY UPDATEï¼ˆä¸é˜»å¡FOR KEY SHAREï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">NO</span> KEY <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- åªé”â€œéä¸»é”®/å¤–é”®åˆ—â€ï¼Œé€‚åˆæ™®é€šæ›´æ–°</span>
<span class="hljs-keyword">COMMIT</span>;

<span class="hljs-comment">-- å…±äº«é”ï¼šFOR SHAREï¼ˆå¤šäººå¯çœ‹ï¼Œéƒ½ä¸èƒ½æ”¹ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">100</span> <span class="hljs-keyword">FOR</span> SHARE;
<span class="hljs-comment">-- å…¶ä»–ä¼šè¯å¯ä»¥åŠ FOR SHAREï¼Œä½†ä¸èƒ½åŠ FOR UPDATE</span>
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<h3 data-id="heading-9">è¡Œçº§é”å†²çªè§„åˆ™</h3>
<h3 data-id="heading-10">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šç§’æ€æ´»åŠ¨ä¸­çš„è¡Œçº§é”é˜²è¶…å–</h3>
<p>ã€åœºæ™¯ã€‘ç”µå•†ç§’æ€æ´»åŠ¨ï¼ŒæŸæ¬¾é™é‡100ä»¶çš„å•†å“ï¼Œå¤§é‡ç”¨æˆ·åŒæ—¶æŠ¢è´­ï¼Œéœ€é˜²æ­¢è¶…å–ï¼ˆå³æœ€ç»ˆä¸‹å•æ•°è¶…è¿‡åº“å­˜æ•°ï¼‰ã€‚</p>
<p>ã€é—®é¢˜åˆ†æã€‘ï¼šè‹¥ä¸ä½¿ç”¨è¡Œçº§é”ï¼Œå¤šä¸ªäº‹åŠ¡åŒæ—¶è¯»å–åº“å­˜ï¼ˆå¦‚stock=1ï¼‰ï¼Œéƒ½åˆ¤æ–­æœ‰åº“å­˜å¹¶æ‰§è¡Œæ‰£å‡ï¼Œä¼šå¯¼è‡´æœ€ç»ˆstockå˜ä¸º-1ï¼ˆè¶…å–ï¼‰ã€‚</p>
<p>ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šä½¿ç”¨SELECT ... FOR UPDATEè¡Œçº§é”ï¼Œç¡®ä¿åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªäº‹åŠ¡èƒ½ä¿®æ”¹è¯¥å•†å“çš„åº“å­˜è®°å½•ã€‚</p>
<p>ã€å®æ“ä»£ç ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç§’æ€ä¸‹å•æ ¸å¿ƒé€»è¾‘ï¼ˆéœ€åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-comment">-- é”å®šç›®æ ‡å•†å“è¡Œï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åŒæ—¶ä¿®æ”¹</span>
<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1001</span> <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
<span class="hljs-comment">-- æ£€æŸ¥åº“å­˜æ˜¯å¦å……è¶³</span>
IF (<span class="hljs-keyword">SELECT</span> stock <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1001</span>) <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">THEN</span>
  <span class="hljs-comment">-- æ‰£å‡åº“å­˜</span>
  <span class="hljs-keyword">UPDATE</span> products <span class="hljs-keyword">SET</span> stock <span class="hljs-operator">=</span> stock <span class="hljs-operator">-</span> <span class="hljs-number">1</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1001</span>;
  <span class="hljs-comment">-- åˆ›å»ºè®¢å•è®°å½•</span>
  <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> orders (product_id, user_id, create_time) 
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1001</span>, #{userId}, NOW());
  <span class="hljs-keyword">COMMIT</span>;
  <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'ä¸‹å•æˆåŠŸ'</span>;
<span class="hljs-keyword">ELSE</span>
  <span class="hljs-keyword">ROLLBACK</span>;
  <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'åº“å­˜ä¸è¶³'</span>;
<span class="hljs-keyword">END</span> IF;
</code></pre>
<p>ã€è¯´æ˜ã€‘ï¼šé€šè¿‡FOR UPDATEé”å®šå•†å“è¡Œåï¼Œå…¶ä»–æŠ¢è´­è¯¥å•†å“çš„äº‹åŠ¡ä¼šé˜»å¡åœ¨SELECT ... FOR UPDATEæ­¥éª¤ï¼Œç­‰å¾…å½“å‰äº‹åŠ¡æäº¤æˆ–å›æ»šåå†æ‰§è¡Œï¼Œä»è€Œé¿å…è¶…å–ã€‚</p>








































<table><thead><tr><th>è¯·æ±‚çš„é”</th><th>FOR KEY SHARE</th><th>FOR SHARE</th><th>FOR NO KEY UPDATE</th><th>FOR UPDATE</th></tr></thead><tbody><tr><td>FOR KEY SHARE</td><td>âœ…</td><td>âœ…</td><td>âœ…</td><td>âŒ</td></tr><tr><td>FOR SHARE</td><td>âœ…</td><td>âœ…</td><td>âŒ</td><td>âŒ</td></tr><tr><td>FOR NO KEY UPDATE</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr><tr><td>FOR UPDATE</td><td>âŒ</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr></tbody></table>
<h2 data-id="heading-11">3 é¡µçº§é”ï¼šé›¶é£Ÿç›’çš„â€œä¸´æ—¶é”â€</h2>
<p>é¡µçº§é”æ˜¯PostgreSQLå†…éƒ¨ç”¨çš„â€œå°é”â€â€”â€”æŠŠè¡¨æ‹†æˆä¸€ä¸ªä¸ªâ€œé›¶é£Ÿç›’â€ï¼ˆæ•°æ®é¡µï¼‰ï¼Œæ“ä½œç›’é‡Œçš„é›¶é£Ÿæ—¶ï¼Œå…ˆé”ç›’å­ï¼Œç”¨å®Œé©¬ä¸Šæ”¾ã€‚å¯¹åº”ç”¨å¼€å‘è€…æ¥è¯´ï¼Œ<strong>å®Œå…¨ä¸ç”¨å…³å¿ƒ</strong>ï¼ŒPostgreSQLä¼šè‡ªåŠ¨å¤„ç†ï¼Œè¿™é‡Œåªåšç§‘æ™®ï¼š</p>
<ul>
<li>ä½œç”¨ï¼šæ§åˆ¶å¯¹å†…å­˜ä¸­æ•°æ®é¡µçš„è¯»å†™ï¼›</li>
<li>ç‰¹ç‚¹ï¼šç”¨å®Œå°±æ”¾ï¼Œä¸æŒä¹…ï¼Œå¼€å‘è€…æ— éœ€æ‰‹åŠ¨æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-12">4 æ­»é”ï¼šè°éƒ½ä¸è®©è°çš„â€œåƒµå±€â€</h2>
<p>æ­»é”å°±åƒä¸¤ä¸ªé¡¾å®¢åµæ¶ï¼š</p>
<p>é¡¾å®¢Aï¼šä½ å…ˆæŠŠæˆ‘çš„è–¯ç‰‡è¿˜ç»™æˆ‘ï¼Œæˆ‘å†ç»™ä½ å¯ä¹ï¼</p>
<p>é¡¾å®¢Bï¼šä½ å…ˆæŠŠæˆ‘çš„å¯ä¹è¿˜ç»™æˆ‘ï¼Œæˆ‘å†ç»™ä½ è–¯ç‰‡ï¼</p>
<p>è°éƒ½ä¸è®©æ­¥ï¼Œæœ€ååªèƒ½åº—é•¿ï¼ˆPostgreSQLï¼‰å‡ºé¢ï¼ŒæŠŠå…¶ä¸­ä¸€ä¸ªäººåŠèµ°ï¼ˆä¸­æ–­äº‹åŠ¡ï¼‰ï¼Œæ‰“ç ´åƒµå±€ã€‚</p>
<h3 data-id="heading-13">è¶£å‘³åœºæ™¯ï¼šè½¬è´¦å¼•å‘çš„æ­»é”</h3>
<p>å°æ˜è¦ç»™å°çº¢è½¬100å…ƒï¼Œå°çº¢è¦ç»™å°æ˜è½¬50å…ƒï¼Œä¸¤äººåŒæ—¶æ“ä½œï¼š</p>
<ol>
<li>å°æ˜çš„äº‹åŠ¡ï¼šå…ˆé”è‡ªå·±çš„è´¦æˆ·ï¼ˆæ›´æ–°ä½™é¢-100ï¼‰ï¼Œå†æƒ³é”å°çº¢çš„è´¦æˆ·ï¼ˆ+100ï¼‰ï¼›</li>
<li>å°çº¢çš„äº‹åŠ¡ï¼šå…ˆé”è‡ªå·±çš„è´¦æˆ·ï¼ˆæ›´æ–°ä½™é¢-50ï¼‰ï¼Œå†æƒ³é”å°æ˜çš„è´¦æˆ·ï¼ˆ+50ï¼‰ï¼›</li>
<li>ç»“æœï¼šå°æ˜ç­‰å°çº¢æ¾æ‰‹ï¼Œå°çº¢ç­‰å°æ˜æ¾æ‰‹ï¼Œæ­»é”ï¼</li>
</ol>
<h3 data-id="heading-14">å®æ“ç¤ºä¾‹ï¼šå¤ç°å¹¶è§£å†³æ­»é”</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å…ˆå»ºè¡¨ï¼šè´¦æˆ·è¡¨</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> accounts (
  acctnum <span class="hljs-type">int</span> <span class="hljs-keyword">PRIMARY</span> KEY,
  balance <span class="hljs-type">numeric</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>)
);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> accounts <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">11111</span>, <span class="hljs-number">1000</span>), (<span class="hljs-number">22222</span>, <span class="hljs-number">1000</span>);

<span class="hljs-comment">-- ä¼šè¯1ï¼ˆå°æ˜ï¼‰ï¼šå…ˆæ›´è‡ªå·±ï¼Œå†æ›´å°çº¢</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> <span class="hljs-number">100</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">11111</span>;
<span class="hljs-comment">-- æš‚ä¸æäº¤ï¼Œä¿æŒé”</span>

<span class="hljs-comment">-- ä¼šè¯2ï¼ˆå°çº¢ï¼‰ï¼šå…ˆæ›´è‡ªå·±ï¼Œå†æ›´å°æ˜</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> <span class="hljs-number">50</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">22222</span>;
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> <span class="hljs-number">50</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">11111</span>; <span class="hljs-comment">-- ç­‰å¾…ä¼šè¯1</span>

<span class="hljs-comment">-- å›åˆ°ä¼šè¯1ï¼šå°è¯•æ›´å°çº¢ï¼Œè§¦å‘æ­»é”</span>
<span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> <span class="hljs-number">100</span> <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> <span class="hljs-number">22222</span>;
<span class="hljs-comment">-- PostgreSQLä¼šæç¤ºï¼šERROR:  deadlock detected</span>
<span class="hljs-comment">-- å¹¶ä¸­æ–­å…¶ä¸­ä¸€ä¸ªäº‹åŠ¡ï¼Œå¦ä¸€ä¸ªç»§ç»­æ‰§è¡Œ</span>
</code></pre>
<h3 data-id="heading-15">æ­»é”é¢„é˜²æŠ€å·§</h3>
<h3 data-id="heading-16">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šå¤šè´¦æˆ·è½¬è´¦çš„æ­»é”é¿å…</h3>
<p>ã€åœºæ™¯ã€‘é“¶è¡Œè½¬è´¦ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·ä¹‹é—´äº’è½¬ï¼Œå¦‚ç”¨æˆ·Aè½¬ç”¨æˆ·Bã€ç”¨æˆ·Bè½¬ç”¨æˆ·Aï¼Œè‹¥ä¸æ§åˆ¶é”é¡ºåºï¼Œæ˜“å¼•å‘æ­»é”ã€‚</p>
<p>ã€æ­»é”å¤ç°ã€‘ï¼šå¦‚å‰æ–‡â€œè½¬è´¦å¼•å‘çš„æ­»é”â€ç¤ºä¾‹ï¼Œå› ä¸¤ä¸ªäº‹åŠ¡é”è´¦æˆ·çš„é¡ºåºç›¸åï¼ˆAå…ˆé”Aå†é”Bï¼ŒBå…ˆé”Bå†é”Aï¼‰ï¼Œå¯¼è‡´æ­»é”ã€‚</p>
<p>ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šç»Ÿä¸€é”é¡ºåºï¼Œå³æ‰€æœ‰è½¬è´¦äº‹åŠ¡éƒ½æŒ‰â€œè´¦æˆ·å·ä»å°åˆ°å¤§â€çš„é¡ºåºé”å®šè´¦æˆ·ã€‚</p>
<p>ã€ä¼˜åŒ–åå®æ“ä»£ç ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é€šç”¨è½¬è´¦å‡½æ•°ï¼ˆç»Ÿä¸€æŒ‰è´¦æˆ·å·å‡åºé”ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> transfer(from_acct <span class="hljs-type">int</span>, to_acct <span class="hljs-type">int</span>, amount <span class="hljs-type">numeric</span>)
<span class="hljs-keyword">RETURNS</span> <span class="hljs-type">VARCHAR</span> <span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
  min_acct <span class="hljs-type">int</span>;
  max_acct <span class="hljs-type">int</span>;
<span class="hljs-keyword">BEGIN</span>
  <span class="hljs-comment">-- ç¡®å®šè´¦æˆ·å·å¤§å°ï¼Œç»Ÿä¸€å…ˆé”å°å·è´¦æˆ·</span>
  IF from_acct <span class="hljs-operator">&lt;</span> to_acct <span class="hljs-keyword">THEN</span>
    min_acct :<span class="hljs-operator">=</span> from_acct;
    max_acct :<span class="hljs-operator">=</span> to_acct;
  <span class="hljs-keyword">ELSE</span>
    min_acct :<span class="hljs-operator">=</span> to_acct;
    max_acct :<span class="hljs-operator">=</span> from_acct;
  <span class="hljs-keyword">END</span> IF;
  
  <span class="hljs-keyword">BEGIN</span>;
  <span class="hljs-comment">-- æŒ‰ç»Ÿä¸€é¡ºåºé”å®šè´¦æˆ·</span>
  <span class="hljs-keyword">SELECT</span> balance <span class="hljs-keyword">FROM</span> accounts <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> min_acct <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
  <span class="hljs-keyword">SELECT</span> balance <span class="hljs-keyword">FROM</span> accounts <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> max_acct <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">UPDATE</span>;
  
  <span class="hljs-comment">-- æ£€æŸ¥è½¬å‡ºè´¦æˆ·ä½™é¢</span>
  IF (<span class="hljs-keyword">SELECT</span> balance <span class="hljs-keyword">FROM</span> accounts <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> from_acct) <span class="hljs-operator">&lt;</span> amount <span class="hljs-keyword">THEN</span>
    <span class="hljs-keyword">ROLLBACK</span>;
    <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'ä½™é¢ä¸è¶³'</span>;
  <span class="hljs-keyword">END</span> IF;
  
  <span class="hljs-comment">-- æ‰§è¡Œè½¬è´¦</span>
  <span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">-</span> amount <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> from_acct;
  <span class="hljs-keyword">UPDATE</span> accounts <span class="hljs-keyword">SET</span> balance <span class="hljs-operator">=</span> balance <span class="hljs-operator">+</span> amount <span class="hljs-keyword">WHERE</span> acctnum <span class="hljs-operator">=</span> to_acct;
  
  <span class="hljs-keyword">COMMIT</span>;
  <span class="hljs-keyword">RETURN</span> <span class="hljs-string">'è½¬è´¦æˆåŠŸ'</span>;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;

<span class="hljs-comment">-- è°ƒç”¨ç¤ºä¾‹ï¼ˆæ— è®ºè°è½¬è°ï¼Œéƒ½æŒ‰è´¦æˆ·å·å‡åºé”ï¼‰</span>
<span class="hljs-keyword">SELECT</span> transfer(<span class="hljs-number">11111</span>, <span class="hljs-number">22222</span>, <span class="hljs-number">100</span>); <span class="hljs-comment">-- å…ˆé”11111ï¼Œå†é”22222</span>
<span class="hljs-keyword">SELECT</span> transfer(<span class="hljs-number">22222</span>, <span class="hljs-number">11111</span>, <span class="hljs-number">50</span>);  <span class="hljs-comment">-- åŒæ ·å…ˆé”11111ï¼Œå†é”22222</span>
</code></pre>
<p>ã€è¯´æ˜ã€‘ï¼šé€šè¿‡ç»Ÿä¸€é”é¡ºåºï¼Œç¡®ä¿æ‰€æœ‰äº‹åŠ¡å¯¹å¤šä¸ªè´¦æˆ·çš„é”å®šé¡ºåºä¸€è‡´ï¼Œä»æ ¹æœ¬ä¸Šé¿å…äº†æ­»é”çš„å‘ç”Ÿã€‚</p>
<ol>
<li><strong>ç»Ÿä¸€é”é¡ºåº</strong>ï¼šæ‰€æœ‰äº‹åŠ¡éƒ½æŒ‰â€œè´¦æˆ·å·ä»å°åˆ°å¤§â€æ›´æ–°ï¼Œæ¯”å¦‚å…ˆæ›´11111ï¼Œå†æ›´22222ï¼›</li>
<li><strong>ç¼©çŸ­é”æŒæœ‰æ—¶é—´</strong>ï¼šäº‹åŠ¡å°½é‡å¿«ï¼Œåˆ«æ‹¿ç€é”ç­‰ç”¨æˆ·è¾“å…¥ï¼›</li>
<li><strong>é‡è¯•æœºåˆ¶</strong>ï¼šæ•è·æ­»é”é”™è¯¯åï¼Œè‡ªåŠ¨é‡è¯•äº‹åŠ¡ã€‚</li>
</ol>
<h2 data-id="heading-17">5 å’¨è¯¢é”ï¼šè‡ªå®šä¹‰çš„â€œé›¶é£Ÿåº—è§„çŸ©â€</h2>
<p>å’¨è¯¢é”æ˜¯PostgreSQLç»™å¼€å‘è€…çš„â€œè‡ªå®šä¹‰é”â€â€”â€”ç³»ç»Ÿä¸ç®¡ä½ æ€ä¹ˆç”¨ï¼Œå…¨é ä½ è‡ªå·±å®ˆè§„çŸ©ã€‚å°±åƒé›¶é£Ÿåº—è€æ¿å’Œç†Ÿå®¢çº¦å®šï¼šâ€œçœ‹åˆ°æ¡Œä¸Šæ‘†ç€çº¢è‰²æ¯å­ï¼Œå°±è¯´æ˜æˆ‘åœ¨ç›˜ç‚¹ï¼Œåˆ«è¿›æ¥â€ï¼Œæ¯å­ï¼ˆå’¨è¯¢é”ï¼‰çš„å«ä¹‰ç”±ä½ ä»¬è‡ªå·±å®šã€‚</p>
<h3 data-id="heading-18">è¶£å‘³åœºæ™¯ï¼šé˜²æ­¢å¤šäººåŒæ—¶ç›˜ç‚¹åº“å­˜</h3>
<p>é›¶é£Ÿåº—æ¯å¤©é—­åº—è¦ç›˜ç‚¹ï¼Œä½ æ€•å¤šä¸ªå‘˜å·¥åŒæ—¶ç›˜ç‚¹å‡ºé”™ï¼Œå°±ç”¨å’¨è¯¢é”ï¼š</p>
<ul>
<li>å‘˜å·¥Aç›˜ç‚¹å‰ï¼Œå…ˆâ€œå å‘â€ï¼šæ‹¿ä¸€ä¸ªç¼–å·ä¸º100çš„å’¨è¯¢é”ï¼›</li>
<li>å‘˜å·¥Bå†æƒ³ç›˜ç‚¹ï¼Œå‘ç°100å·é”è¢«å ï¼Œå°±ç­‰å‘˜å·¥Aç›˜å®Œå†å¼€å§‹ï¼›</li>
<li>ç›˜ç‚¹ç»“æŸï¼Œå‘˜å·¥Aé‡Šæ”¾é”ã€‚</li>
</ul>
<h3 data-id="heading-19">å®æ“ç¤ºä¾‹ï¼šä¼šè¯çº§vsäº‹åŠ¡çº§å’¨è¯¢é”</h3>
<h3 data-id="heading-20">å®é™…ä½¿ç”¨æ¡ˆä¾‹ï¼šåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦çš„å’¨è¯¢é”æ§åˆ¶</h3>
<p>ã€åœºæ™¯ã€‘åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªæœåŠ¡èŠ‚ç‚¹éœ€å…±åŒæ‰§è¡Œä¸€æ‰¹å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚è®¢å•è¶…æ—¶å…³é—­ï¼‰ï¼Œéœ€ç¡®ä¿åŒä¸€ä¸ªä»»åŠ¡åŒä¸€æ—¶åˆ»åªè¢«ä¸€ä¸ªèŠ‚ç‚¹æ‰§è¡Œï¼Œé¿å…é‡å¤å¤„ç†ã€‚</p>
<p>ã€è§£å†³æ–¹æ¡ˆã€‘ï¼šä½¿ç”¨äº‹åŠ¡çº§å’¨è¯¢é”ï¼Œæ¯ä¸ªä»»åŠ¡å¯¹åº”ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼ˆå¦‚ä»»åŠ¡IDï¼‰ï¼ŒæœåŠ¡èŠ‚ç‚¹æ‰§è¡Œä»»åŠ¡å‰å…ˆè·å–è¯¥æ ‡è¯†çš„å’¨è¯¢é”ï¼Œè·å–æˆåŠŸåˆ™æ‰§è¡Œä»»åŠ¡ï¼Œå¤±è´¥åˆ™è·³è¿‡ï¼ˆç­‰å¾…ä¸‹ä¸€è½®ï¼‰ã€‚</p>
<p>ã€å®æ“ä»£ç ã€‘ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å®šæ—¶ä»»åŠ¡æ‰§è¡Œé€»è¾‘ï¼ˆæ¯ä¸ªèŠ‚ç‚¹å®šæ—¶è°ƒç”¨ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">FUNCTION</span> execute_timeout_task()
<span class="hljs-keyword">RETURNS</span> VOID <span class="hljs-keyword">AS</span> $$
<span class="hljs-keyword">DECLARE</span>
  task RECORD;
  lock_acquired <span class="hljs-type">BOOLEAN</span>;
<span class="hljs-keyword">BEGIN</span>
  <span class="hljs-comment">-- éå†æœªæ‰§è¡Œçš„è¶…æ—¶è®¢å•ä»»åŠ¡</span>
  <span class="hljs-keyword">FOR</span> task <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> order_timeout_tasks <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'pending'</span> LOOP
    <span class="hljs-comment">-- å°è¯•è·å–äº‹åŠ¡çº§å’¨è¯¢é”ï¼ˆä»»åŠ¡IDä½œä¸ºé”æ ‡è¯†ï¼‰</span>
    <span class="hljs-keyword">SELECT</span> pg_try_advisory_xact_lock(task.id) <span class="hljs-keyword">INTO</span> lock_acquired;
    
    IF lock_acquired <span class="hljs-keyword">THEN</span>
      <span class="hljs-comment">-- è·å–é”æˆåŠŸï¼Œæ‰§è¡Œä»»åŠ¡ï¼ˆå…³é—­è¶…æ—¶è®¢å•ï¼‰</span>
      <span class="hljs-keyword">UPDATE</span> orders <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'closed'</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> task.order_id;
      <span class="hljs-comment">-- æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå·²å®Œæˆ</span>
      <span class="hljs-keyword">UPDATE</span> order_timeout_tasks <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'completed'</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> task.id;
      RAISE NOTICE <span class="hljs-string">'ä»»åŠ¡ % æ‰§è¡ŒæˆåŠŸ'</span>, task.id;
    <span class="hljs-keyword">ELSE</span>
      <span class="hljs-comment">-- æœªè·å–åˆ°é”ï¼Œè¯´æ˜å…¶ä»–èŠ‚ç‚¹æ­£åœ¨æ‰§è¡Œ</span>
      RAISE NOTICE <span class="hljs-string">'ä»»åŠ¡ % å·²è¢«å…¶ä»–èŠ‚ç‚¹æ‰§è¡Œï¼Œè·³è¿‡'</span>, task.id;
    <span class="hljs-keyword">END</span> IF;
  <span class="hljs-keyword">END</span> LOOP;
<span class="hljs-keyword">END</span>;
$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;

<span class="hljs-comment">-- æœåŠ¡èŠ‚ç‚¹å®šæ—¶è°ƒç”¨ï¼ˆå¦‚æ¯åˆ†é’Ÿä¸€æ¬¡ï¼‰</span>
<span class="hljs-keyword">SELECT</span> execute_timeout_task();
</code></pre>
<p>ã€è¯´æ˜ã€‘ï¼šä½¿ç”¨pg_try_advisory_xact_lockï¼ˆéé˜»å¡è·å–äº‹åŠ¡çº§å’¨è¯¢é”ï¼‰ï¼Œé¿å…èŠ‚ç‚¹é—´ç›¸äº’ç­‰å¾…ã€‚äº‹åŠ¡ç»“æŸåé”è‡ªåŠ¨é‡Šæ”¾ï¼Œæ— éœ€æ‰‹åŠ¨è§£é”ï¼Œç¡®ä¿ä»»åŠ¡æ‰§è¡Œçš„åŸå­æ€§å’Œå”¯ä¸€æ€§ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. ä¼šè¯çº§å’¨è¯¢é”ï¼ˆä¼šè¯ç»“æŸæ‰é‡Šæ”¾ï¼Œæ— è§†äº‹åŠ¡å›æ»šï¼‰</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_lock(<span class="hljs-number">100</span>); <span class="hljs-comment">-- å 100å·é”</span>
<span class="hljs-comment">-- æ­¤æ—¶å…¶ä»–ä¼šè¯è°ƒç”¨pg_advisory_lock(100)ä¼šé˜»å¡</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_unlock(<span class="hljs-number">100</span>); <span class="hljs-comment">-- é‡Šæ”¾é”</span>

<span class="hljs-comment">-- 2. äº‹åŠ¡çº§å’¨è¯¢é”ï¼ˆäº‹åŠ¡ç»“æŸè‡ªåŠ¨é‡Šæ”¾ï¼‰</span>
<span class="hljs-keyword">BEGIN</span>;
<span class="hljs-keyword">SELECT</span> pg_advisory_xact_lock(<span class="hljs-number">100</span>); <span class="hljs-comment">-- äº‹åŠ¡çº§é”</span>
<span class="hljs-comment">-- ç›˜ç‚¹æ“ä½œï¼šSELECT SUM(stock) FROM products;</span>
<span class="hljs-keyword">COMMIT</span>; <span class="hljs-comment">-- æäº¤åè‡ªåŠ¨é‡Šæ”¾é”</span>

<span class="hljs-comment">-- é¿å‘ï¼šLIMITå’Œå’¨è¯¢é”ä¸€èµ·ç”¨è¦å°å¿ƒ</span>
<span class="hljs-comment">-- é”™è¯¯å†™æ³•ï¼šå¯èƒ½é”åˆ°éé¢„æœŸçš„è¡Œ</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_lock(id) <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span> LIMIT <span class="hljs-number">10</span>;

<span class="hljs-comment">-- æ­£ç¡®å†™æ³•ï¼šå…ˆç­›é€‰è¡Œï¼Œå†é”</span>
<span class="hljs-keyword">SELECT</span> pg_advisory_lock(q.id) <span class="hljs-keyword">FROM</span> (
  <span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> products <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span> LIMIT <span class="hljs-number">10</span>
) q;
</code></pre>
<h2 data-id="heading-21">6 æ€»ç»“</h2>
<ol>
<li><strong>è¡¨çº§é”</strong>ï¼šæŒ‰â€œä¸¥æ ¼ç¨‹åº¦â€åˆ†8ç§ï¼Œæ ¸å¿ƒæ˜¯ACCESS SHAREï¼ˆåªè¯»ï¼‰å’ŒACCESS EXCLUSIVEï¼ˆç‹¬å ï¼‰äº’æ–¥ï¼Œé€‚åˆæ§åˆ¶æ•´å¼ è¡¨çš„è®¿é—®ï¼›</li>
<li><strong>è¡Œçº§é”</strong>ï¼šç²¾å‡†é”å®šå•è¡Œï¼Œåªé˜»å¡ä¿®æ”¹ï¼Œä¸é˜»å¡è¯»å–ï¼Œå¸¸ç”¨FOR UPDATEå®ç°â€œæ‚²è§‚é”â€ï¼›</li>
<li><strong>æ­»é”</strong>ï¼šå¤šäº‹åŠ¡äº’ç­‰é”å¯¼è‡´ï¼Œé¢„é˜²å…³é”®æ˜¯â€œç»Ÿä¸€é”é¡ºåº+ç¼©çŸ­é”æŒæœ‰æ—¶é—´â€ï¼›</li>
<li><strong>å’¨è¯¢é”</strong>ï¼šè‡ªå®šä¹‰é”ï¼Œåˆ†ä¼šè¯çº§ï¼ˆæ‰‹åŠ¨é‡Šæ”¾ï¼‰å’Œäº‹åŠ¡çº§ï¼ˆè‡ªåŠ¨é‡Šæ”¾ï¼‰ï¼Œé€‚åˆMVCCä¸é€‚ç”¨çš„åœºæ™¯ã€‚</li>
</ol>
<p>â€œè¯»å°½é‡ä¸å µè¯»ï¼Œæ”¹å°½é‡å°‘å µè¯»ï¼Œç‹¬å é”å µä¸€åˆ‡ï¼Œæ­»é”é é¡ºåºé˜²ï¼Œå’¨è¯¢é”è‡ªå·±å®šâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ajax æ•°æ®è¯·æ±‚ï¼šä»é›¶å¼€å§‹æŒæ¡å¼‚æ­¥é€šä¿¡]]></title>    <link>https://juejin.cn/post/7571695634942165019</link>    <guid>https://juejin.cn/post/7571695634942165019</guid>    <pubDate>2025-11-12T14:19:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571695634942165019" data-draft-id="7571704212850851891" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ajax æ•°æ®è¯·æ±‚ï¼šä»é›¶å¼€å§‹æŒæ¡å¼‚æ­¥é€šä¿¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-12T14:19:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ajax æ•°æ®è¯·æ±‚ï¼šä»é›¶å¼€å§‹æŒæ¡å¼‚æ­¥é€šä¿¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-12T14:19:18.000Z" title="Wed Nov 12 2025 14:19:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œ<strong>Ajaxï¼ˆAsynchronous JavaScript and XMLï¼‰</strong> æ˜¯å®ç°é¡µé¢å±€éƒ¨åˆ·æ–°ã€æå‡ç”¨æˆ·ä½“éªŒçš„æ ¸å¿ƒæŠ€æœ¯ä¹‹ä¸€ã€‚è™½ç„¶åå­—é‡ŒåŒ…å« â€œXMLâ€ï¼Œä½†å¦‚ä»Šæˆ‘ä»¬æ›´å¤šä½¿ç”¨çš„æ˜¯ <strong>JSON æ ¼å¼</strong>çš„æ•°æ®ã€‚æœ¬æ–‡å°†ç»“åˆåŸç†è®²è§£ä¸ç¤ºä¾‹ä»£ç ï¼Œå¸¦ä½ æ·±å…¥ç†è§£å¹¶åŠ¨æ‰‹å®è·µåŸç”Ÿ Ajax è¯·æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Ajaxï¼Ÿ</h2>
<p>Ajax å…¨ç§°æ˜¯ <strong>Asynchronous JavaScript and XML</strong>ï¼Œå³â€œå¼‚æ­¥çš„ JavaScript å’Œ XMLâ€ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ JavaScript å‘æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶å¤„ç†å“åº”ï¼Œä»è€ŒåŠ¨æ€æ›´æ–°ç½‘é¡µå†…å®¹ã€‚</strong></p>
</blockquote>
<p>è¿™ç§æœºåˆ¶è®© Web åº”ç”¨æ›´åƒæ¡Œé¢åº”ç”¨â€”â€”æµç•…ã€å¿«é€Ÿã€æ— åˆ·æ–°ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Ajax çš„åŸºæœ¬å·¥ä½œæµç¨‹</h2>
<p>ä½¿ç”¨åŸç”Ÿ JavaScript å‘èµ· Ajax è¯·æ±‚ï¼Œé€šå¸¸éµå¾ªä»¥ä¸‹äº”ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>åˆ›å»º XMLHttpRequest å¯¹è±¡</strong></li>
<li><strong>è°ƒç”¨ <code>open()</code> æ–¹æ³•é…ç½®è¯·æ±‚</strong></li>
<li><strong>è®¾ç½®å›è°ƒå‡½æ•°ç›‘å¬çŠ¶æ€å˜åŒ–ï¼ˆ<code>onreadystatechange</code>ï¼‰</strong></li>
<li><strong>è°ƒç”¨ <code>send()</code> å‘é€è¯·æ±‚</strong></li>
<li><strong>åœ¨å›è°ƒä¸­å¤„ç†å“åº”æ•°æ®</strong></li>
</ol>
<h3 data-id="heading-2">å…³é”®æ¦‚å¿µè§£æ</h3>
<h4 data-id="heading-3">1. <code>XMLHttpRequest</code> å¯¹è±¡</h4>
<p>è¿™æ˜¯æµè§ˆå™¨å†…ç½®çš„å¯¹è±¡ï¼Œç”¨äºå‘èµ· HTTP è¯·æ±‚ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">xhr</span> = new XMLHttpRequest()<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-4">2. <code>open(method, url, async)</code></h4>
<ul>
<li><code>method</code>ï¼šHTTP æ–¹æ³•ï¼Œå¦‚ <code>'GET'</code>ã€<code>'POST'</code></li>
<li><code>url</code>ï¼šè¯·æ±‚çš„ç›®æ ‡åœ°å€ï¼ˆAPI æ¥å£ï¼‰</li>
<li><code>async</code>ï¼šæ˜¯å¦å¼‚æ­¥ï¼ˆ<strong>å¼ºçƒˆå»ºè®®è®¾ä¸º <code>true</code></strong>ï¼‰</li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šç¤ºä¾‹ä¸­ä½¿ç”¨äº† <code>false</code>ï¼ˆåŒæ­¥ï¼‰ï¼Œè¿™ä¼šé˜»å¡æµè§ˆå™¨ï¼Œ<strong>å®é™…å¼€å‘ä¸­åº”é¿å…</strong>ï¼</p>
</blockquote>
<h4 data-id="heading-5">3. <code>send()</code></h4>
<p>çœŸæ­£å‘å‡ºè¯·æ±‚ã€‚å¯¹äº GET è¯·æ±‚ï¼Œé€šå¸¸ä¼ å…¥ <code>null</code> æˆ–ç©ºå€¼ã€‚</p>
<h4 data-id="heading-6">4. <code>onreadystatechange</code> äº‹ä»¶</h4>
<p>æ¯å½“è¯·æ±‚çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸ªå›è°ƒä¸­åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸå®Œæˆã€‚</p>
<h4 data-id="heading-7">5. çŠ¶æ€ç ä¸å°±ç»ªçŠ¶æ€</h4>

















<table><thead><tr><th>å±æ€§</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>xhr.status</code></td><td>HTTP çŠ¶æ€ç ï¼Œå¦‚ <code>200</code> è¡¨ç¤ºæˆåŠŸ</td></tr><tr><td><code>xhr.readyState</code></td><td>è¯·æ±‚çš„å½“å‰é˜¶æ®µï¼ˆ0~4ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-8"><code>readyState</code> çš„äº”ä¸ªé˜¶æ®µï¼š</h5>



































<table><thead><tr><th>å€¼</th><th>çŠ¶æ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>0</td><td>UNSENT</td><td>å·²åˆ›å»ºï¼Œæœªè°ƒç”¨ <code>open()</code></td></tr><tr><td>1</td><td>OPENED</td><td>å·²è°ƒç”¨ <code>open()</code></td></tr><tr><td>2</td><td>HEADERS_RECEIVED</td><td>å·²è°ƒç”¨ <code>send()</code>ï¼Œæ”¶åˆ°å“åº”å¤´</td></tr><tr><td>3</td><td>LOADING</td><td>æ­£åœ¨æ¥æ”¶å“åº”ä½“</td></tr><tr><td>4</td><td>DONE</td><td>è¯·æ±‚å®Œæˆï¼Œå“åº”æ•°æ®å…¨éƒ¨æ¥æ”¶</td></tr></tbody></table>
<p>âœ… <strong>åªæœ‰å½“ <code>readyState === 4</code> ä¸” <code>status === 200</code> æ—¶ï¼Œæ‰è¡¨ç¤ºè¯·æ±‚æˆåŠŸï¼</strong></p>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€å®æˆ˜ç¤ºä¾‹ï¼šè·å– GitHub ç»„ç»‡æˆå‘˜åˆ—è¡¨</h2>
<p>æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªçœŸå® APIï¼ˆGitHub çš„å…¬å¼€æ¥å£ï¼‰æ¥æ¼”ç¤ºå¦‚ä½•ç”¨ Ajax è·å–æ•°æ®å¹¶æ¸²æŸ“åˆ°é¡µé¢ã€‚</p>
<h3 data-id="heading-10">âœ… æ”¹è¿›åçš„æ¨èå†™æ³•ï¼ˆ<strong>å¼‚æ­¥æ¨¡å¼</strong>ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Ajax æ•°æ®è¯·æ±‚ - å¼‚æ­¥ç‰ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Lemoncode ç»„ç»‡æˆå‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"members"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();

        <span class="hljs-comment">// é…ç½®è¯·æ±‚ï¼šå¼‚æ­¥ GET</span>
        xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'https://api.github.com/orgs/lemoncode/members'</span>, <span class="hljs-literal">true</span>);

        <span class="hljs-comment">// ç›‘å¬çŠ¶æ€å˜åŒ–</span>
        xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-comment">// åªæœ‰ readyState ä¸º 4 ä¸”çŠ¶æ€ç ä¸º 200 æ‰å¤„ç†</span>
            <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span>) {
                <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
                    <span class="hljs-comment">// æˆåŠŸï¼šè§£æ JSON å¹¶æ¸²æŸ“</span>
                    <span class="hljs-keyword">const</span> members = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(xhr.<span class="hljs-property">responseText</span>);
                    <span class="hljs-keyword">const</span> listItems = members.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`&lt;li&gt;<span class="hljs-subst">${user.login}</span>&lt;/li&gt;`</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'members'</span>).<span class="hljs-property">innerHTML</span> = listItems;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span>
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'members'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;li&gt;åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚&lt;/li&gt;'</span>;
                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚å¤±è´¥:'</span>, xhr.<span class="hljs-property">status</span>);
                }
            }
        };

        <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
        xhr.<span class="hljs-title function_">send</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-11">ğŸŒŸ å…³é”®æ”¹è¿›ç‚¹ï¼š</h3>
<ol>
<li><strong>ä½¿ç”¨ <code>async: true</code></strong> â€”â€” ä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†</strong> â€”â€” æ£€æŸ¥é 200 çŠ¶æ€ç ï¼Œé¿å…ç¨‹åºå´©æºƒã€‚</li>
<li><strong>ç»“æ„æ¸…æ™°</strong> â€”â€” å…ˆç›‘å¬ï¼Œå†å‘é€ï¼Œé€»è¾‘æ›´å®‰å…¨ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-12">å››ã€ä¸ºä»€ä¹ˆä¸è¦ç”¨åŒæ­¥è¯·æ±‚ï¼ˆ<code>async: false</code>ï¼‰ï¼Ÿ</h2>
<p>åœ¨ä½ æä¾›çš„åŸå§‹ä»£ç ä¸­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">xhr.<span class="hljs-keyword">open</span>(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'...'</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// åŒæ­¥ï¼</span>
</code></pre>
<p>è¿™ä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>æµè§ˆå™¨ç•Œé¢<strong>å®Œå…¨å†»ç»“</strong>ï¼Œç›´åˆ°è¯·æ±‚å®Œæˆï¼›</li>
<li>ç”¨æˆ·æ— æ³•æ»šåŠ¨ã€ç‚¹å‡»æˆ–äº¤äº’ï¼›</li>
<li>ç°ä»£æµè§ˆå™¨å·²<strong>ä¸æ¨èç”šè‡³è­¦å‘Š</strong>ä½¿ç”¨åŒæ­¥ XHRã€‚</li>
</ul>
<p>âœ… <strong>æ°¸è¿œä½¿ç”¨å¼‚æ­¥è¯·æ±‚ï¼</strong></p>
<hr/>
<h2 data-id="heading-13">äº”ã€ç°ä»£æ›¿ä»£æ–¹æ¡ˆï¼š<code>fetch</code> API</h2>
<p>è™½ç„¶åŸç”Ÿ Ajax æ˜¯åŸºç¡€ï¼Œä½†ç°ä»£å¼€å‘æ›´å¸¸ç”¨ <code>fetch</code>ï¼Œå®ƒåŸºäº Promiseï¼Œè¯­æ³•æ›´ç®€æ´ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">fetch('https://api.github.com/orgs/lemoncode/members')
  .then(<span class="hljs-attr">response</span> =&gt; response.json())
  .then(<span class="hljs-attr">members</span> =&gt; {
    document.getElementById('members').<span class="hljs-attr">innerHTML</span> = 
      members.map(<span class="hljs-attr">user</span> =&gt; `&lt;li&gt;<span class="hljs-variable">${user.login}</span>&lt;/li&gt;`).join(<span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
  })
  .catch(<span class="hljs-attr">error</span> =&gt; {
    console.error('è¯·æ±‚å‡ºé”™:', error)<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
</code></pre>
<p>ä¸è¿‡ï¼Œç†è§£ <code>XMLHttpRequest</code> ä»æ˜¯æŒæ¡ç½‘ç»œè¯·æ±‚æœ¬è´¨çš„å…³é”®ï¼</p>
<hr/>
<h2 data-id="heading-14">å…­ã€æ€»ç»“</h2>

































<table><thead><tr><th>è¦ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… æ ¸å¿ƒå¯¹è±¡</td><td><code>XMLHttpRequest</code></td></tr><tr><td>âœ… å¿…é¡»ç›‘å¬</td><td><code>onreadystatechange</code></td></tr><tr><td>âœ… åˆ¤æ–­æ¡ä»¶</td><td><code>readyState === 4 &amp;&amp; status === 200</code></td></tr><tr><td>âœ… æ•°æ®æ ¼å¼</td><td>é€šå¸¸ä¸º JSONï¼Œéœ€ <code>JSON.parse()</code></td></tr><tr><td>âŒ é¿å…ä½¿ç”¨</td><td>åŒæ­¥è¯·æ±‚ï¼ˆ<code>async: false</code>ï¼‰</td></tr><tr><td>ğŸ”® è¿›é˜¶æ–¹å‘</td><td>å­¦ä¹  <code>fetch</code>ã€<code>axios</code> ç­‰ç°ä»£å·¥å…·</td></tr></tbody></table>
<hr/>
<p>é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ åº”è¯¥å·²ç»æŒæ¡äº† Ajax çš„åŸºæœ¬åŸç†å’Œå®ç°æ–¹å¼ã€‚ä¸‹ä¸€æ­¥å¯ä»¥å°è¯•ï¼š</p>
<ul>
<li>å‘é€ POST è¯·æ±‚æäº¤è¡¨å•ï¼›</li>
<li>æ·»åŠ åŠ è½½åŠ¨ç”»ï¼ˆ<code>readyState === 3</code> æ—¶æ˜¾ç¤ºâ€œåŠ è½½ä¸­â€ï¼‰ï¼›</li>
<li>å°è£…ä¸€ä¸ªé€šç”¨çš„ Ajax å‡½æ•°ã€‚</li>
</ul>
<p>è®°ä½ï¼š<strong>å¼‚æ­¥æ˜¯ Web çš„çµé­‚ï¼Œè€Œ Ajax æ˜¯é€šå¾€åŠ¨æ€äº¤äº’çš„ç¬¬ä¸€æ­¥ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰]]></title>    <link>https://juejin.cn/post/7593098101431910454</link>    <guid>https://juejin.cn/post/7593098101431910454</guid>    <pubDate>2026-01-09T09:11:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101431910454" data-draft-id="7592990758476152851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T09:11:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§‹è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/442448008454568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/442448008454568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§‹è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:11:52.000Z" title="Fri Jan 09 2026 09:11:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åä¸º DevKit æ˜¯ä¸€æ¬¾ç”¨äº x86 â†’ é²²é¹ï¼ˆARM64ï¼‰å¹³å°ä»£ç è¿ç§»åˆ†æ  çš„å·¥å…·ã€‚ä» v25.0 èµ·ï¼ŒDevKit é‡‡ç”¨   æ¨¡å—åŒ– RPM åŒ…è®¾è®¡ ï¼Œéœ€å®‰è£…å¤šä¸ªç»„ä»¶æ‰èƒ½ä½¿ç”¨æºç è¿ç§»åŠŸèƒ½ã€‚æœ¬æ¬¡å®éªŒæˆ‘å¸¦å¤§å®¶å®æ“ä¸€ä¸‹ç è¿ç§»åˆ†æä½¿ç”¨ï¼Œå®éªŒæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚</p>
<p>âš ï¸   æ³¨æ„ ï¼š</p>
<ul>
<li>25.2.rc1 ä¸º Release Candidate ç‰ˆæœ¬ ï¼Œå­˜åœ¨æƒé™å’Œå‚æ•°æ¥å£å˜æ›´é—®é¢˜ã€‚</li>
<li>æ­£å¼ç‰ˆï¼ˆå¦‚ 25.1.0ï¼‰ä½“éªŒæ›´ä½³ï¼Œå»ºè®®å®éªŒå®Œæˆåå‡çº§ã€‚</li>
<li>æœ¬æ¬¡å®éªŒæ˜¯åœ¨åä¸ºäº‘å¼€å‘è€…ç©ºé—´ä¸Šè¿›è¡Œçš„ï¼Œç‚¹å‡»è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huaweicloud.com%2Fspace%2Fdevportal%2Fplatform%2FdevEnvironment%3Ftab%3Dcloud_desktop%26ticket%3DST-8160487-KjIyCRlHrKoolUkIbqrfPb59-sso%26locale%3Dzh-cn" target="_blank" title="https://developer.huaweicloud.com/space/devportal/platform/devEnvironment?tab=cloud_desktop&amp;ticket=ST-8160487-KjIyCRlHrKoolUkIbqrfPb59-sso&amp;locale=zh-cn" ref="nofollow noopener noreferrer">developer.huaweicloud.com/space/devpoâ€¦</a></li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-2">1. ä¸‹è½½æ‰€éœ€ RPM åŒ…</h3>
<p>ç¡®ä¿å·²ä¸‹è½½ä»¥ä¸‹ä¸‰ä¸ªåŒ…ï¼ˆæ¶æ„ï¼š<code>aarch64</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">devkit-25.2.rcll-1.aarch64.rpm
devkit-porting-25.2.rc1-1.aarch64.rpm     <span class="hljs-comment"># å¿…é¡»ï¼æä¾›è¿ç§»åˆ†æèƒ½åŠ›</span>
devkit-sys-mig-25.2.rc1-1.aarch64.rpm     <span class="hljs-comment"># å¯é€‰ï¼ˆæœ¬æ¬¡å®éªŒä¸éœ€è¦ï¼‰</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e54f10977114e1fa1ffff23f4c8309c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=muxyIhN5zvFzfiloi%2B%2FBRHqnajc%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ’¡ è‹¥æœªä¸‹è½½ï¼Œè¯·ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hikunpeng.com%2Fzh%2Fdeveloper%2Fdevkit%2Fdownload%3Ftab%3DcommandLine" target="_blank" title="https://www.hikunpeng.com/zh/developer/devkit/download?tab=commandLine" ref="nofollow noopener noreferrer">åä¸ºé²²é¹ç¤¾åŒº</a> è·å–ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. å‡†å¤‡å¾…åˆ†æé¡¹ç›®</h3>
<p>ä»¥å¼€æºé¡¹ç›® <code>simdjson</code> ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~
git <span class="hljs-built_in">clone</span> https://github.com/simdjson/simdjson.git
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029dba0f48de4266a0c1719706557931~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=F8tmF4b5lT068WFkZXnn6JSYH2c%3D" alt="image.png" loading="lazy"/></p>
<p>é¡¹ç›®è·¯å¾„ï¼š<code>/home/developer/simdjson</code></p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å®‰è£… DevKit</h2>
<h3 data-id="heading-5">1. å¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">sudo rpm -e devkit devkit-porting devkit-sys-mig <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span> || <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-6">2. æŒ‰ä¾èµ–é¡ºåºå®‰è£… RPM åŒ…</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ RPM æ‰€åœ¨ç›®å½•ï¼ˆå‡è®¾åœ¨ ~/Downloadsï¼‰</span>
<span class="hljs-built_in">cd</span> ~/Downloads

<span class="hljs-comment"># å®‰è£…ä¸»æ¡†æ¶</span>
sudo rpm -ivh devkit-25.2.rc1-1.aarch64.rpm

<span class="hljs-comment"># å®‰è£…æºç è¿ç§»æ¨¡å—ï¼ˆå…³é”®ï¼ï¼‰</span>
sudo rpm -ivh devkit-porting-25.2.rc1-1.aarch64.rpm

<span class="hljs-comment"># ï¼ˆå¯é€‰ï¼‰å®‰è£…ç³»ç»Ÿè¿ç§»æ¨¡å—</span>
<span class="hljs-comment"># sudo rpm -ivh devkit-sys-mig-25.2.rc1-1.aarch64.rpm</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/676c849d890e49ebb7a4177c1f450755~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=Yeym1n6fi7Xoq6A4FSfBwjBfzVE%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>âœ… éªŒè¯å®‰è£…ï¼š
<code>/usr/local/devkit/devkit --version</code></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d961c76991b64b51978231ed9b79365d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=q4Seuw2A79Rsg6HYnyVUsjf%2Fk84%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">å››ã€è¿è¡Œæºç è¿ç§»åˆ†æ</h2>
<h3 data-id="heading-8">1. åˆ›å»ºè¾“å‡ºç›®å½•</h3>
<pre><code class="hljs language-arduino" lang="arduino">mkdir -p /home/developer/migration_report
</code></pre>
<h3 data-id="heading-9">2. æ‰§è¡Œåˆ†æå‘½ä»¤ï¼ˆå…³é”®ï¼šä½¿ç”¨æ–°å‚æ•°æ ¼å¼ï¼‰</h3>
<blockquote>
<p>âš ï¸   DevKit 25.2.rc1 å‚æ•°å˜æ›´ ï¼š
<code>--project-path</code> â†’ <code>--input</code> æˆ– <code>-i</code>
<code>--output-path</code> â†’ <code>--output</code> æˆ– <code>-o</code>
<code>--language</code> â†’ <code>--source-type</code></p>
</blockquote>
<pre><code class="hljs language-css" lang="css">sudo devkit porting <span class="hljs-attribute">src</span>-mig \
  <span class="hljs-attr">--input</span> /home/developer/simdjson \
  <span class="hljs-attr">--output</span> /home/developer/migration_report \
  <span class="hljs-attr">--source-type</span> c,c++
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a1e7208d3b94f96a60bba6cac095ca8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=I52Pm%2BXjZqYTGC%2BdUMYMuoBY97Y%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ”   ä¸ºä»€ä¹ˆç”¨  <code> sudo</code>  ï¼Ÿ
RC ç‰ˆæœ¬ç¡¬ç¼–ç æ—¥å¿—è·¯å¾„ä¸º <code>/usr/local/devkit/...</code>ï¼Œæ™®é€šç”¨æˆ·æ— å†™æƒé™ã€‚
æ­£å¼ç‰ˆé»˜è®¤ä½¿ç”¨ <code>$HOME/.kunpeng-devkit</code>ï¼Œæ— éœ€ <code>sudo</code>ã€‚</p>
</blockquote>
<h3 data-id="heading-10">3. ç­‰å¾…åˆ†æå®Œæˆ</h3>
<p>å…¸å‹è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Using the local system as target os:</span> <span class="hljs-string">openeuler22.03</span>
<span class="hljs-attr">Current progress:</span> [<span class="hljs-number">100</span><span class="hljs-string">%</span>] [<span class="hljs-string">Phase</span> <span class="hljs-number">3</span><span class="hljs-string">/3</span>] <span class="hljs-string">Scan</span> <span class="hljs-string">completed.</span> <span class="hljs-string">Generating</span> <span class="hljs-string">reports.</span>
<span class="hljs-string">...</span>
<span class="hljs-attr">Files to be modified:</span> <span class="hljs-number">30</span>
<span class="hljs-attr">Lines to be modified:</span> <span class="hljs-number">204</span>
<span class="hljs-attr">Estimated transplant workload:</span> <span class="hljs-number">0.5</span> <span class="hljs-string">person/months.</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17f1344bb887493299a552cbd177619a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=%2FCC%2FfAVmJQ8BMQ5UwZoYWO9ZR7I%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-11">äº”ã€æŸ¥çœ‹åˆ†ææŠ¥å‘Š</h2>
<h3 data-id="heading-12">1. æŠ¥å‘Šæ–‡ä»¶åˆ—è¡¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> ~/migration_report/
</code></pre>
<p>ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li><code>Code_Porting_ .html</code> â†   ä¸»æŠ¥å‘Šï¼ˆæ¨èï¼‰</li>
<li><code>Code_Porting_ .csv</code>  â† è¡¨æ ¼æ•°æ®</li>
<li><code>Code_Porting_ .json</code> â† åŸå§‹æ•°æ®</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/028d22157ab84539a0d5778240ed8ea5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=WyiXT7cfcgz0x1yKzD9pl9qeAkQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">3. æŠ¥å‘Šå†…å®¹è§£è¯»</h3>

























<table><thead><tr><th>ç±»åˆ«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ¶æ„ç›¸å…³æŒ‡ä»¤</td><td>x86 æ±‡ç¼–ï¼ˆå¦‚ <code>_mm_load_si128</code>ï¼‰ã€SSE/AVX å†…å»ºå‡½æ•°</td></tr><tr><td>ç¼–è¯‘å™¨å·®å¼‚</td><td>GCC/Clang ç‰¹æœ‰æ‰©å±•åœ¨ ARM64 ä¸Šçš„å…¼å®¹æ€§</td></tr><tr><td>å­—èŠ‚åºä¸å¯¹é½</td><td>å¤§ç«¯/å°ç«¯ã€å†…å­˜å¯¹é½é—®é¢˜</td></tr><tr><td>ä¾èµ–åº“å…¼å®¹æ€§</td><td>ç¬¬ä¸‰æ–¹åº“æ˜¯å¦æ”¯æŒ ARM64</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>



































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>error: init execute pwd failed</code></td><td>æœªå®‰è£… <code>devkit-porting</code></td><td>å®‰è£… <code>devkit-porting- .rpm</code></td></tr><tr><td><code>Permission denied: common.log.lock</code></td><td>RC ç‰ˆç¡¬ç¼–ç ç³»ç»Ÿè·¯å¾„</td><td>ä½¿ç”¨  <code> sudo</code>   è¿è¡Œ</td></tr><tr><td><code>The task name is incorrect</code></td><td>æœªæŒ‡å®šå­ä»»åŠ¡</td><td>ä½¿ç”¨ <code>devkit porting src-mig ...</code></td></tr><tr><td><code>required: -i/--input</code></td><td>å‚æ•°æ ¼å¼å˜æ›´</td><td>å°† <code>--project-path</code> æ”¹ä¸º <code>--input</code></td></tr><tr><td>SELinux é˜»æ­¢å†™å…¥</td><td>å®‰å…¨ç­–ç•¥é™åˆ¶</td><td>ä¸´æ—¶æ‰§è¡Œ <code>sudo setenforce 0</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ä¸ƒã€åç»­å»ºè®®</h2>
<h3 data-id="heading-16">1. å‡çº§åˆ°æ­£å¼ç‰ˆ</h3>
<p>å¸è½½ RC ç‰ˆï¼š</p>
<pre><code class="hljs">sudo rpm -e devkit devkit-porting devkit-sys-mig
</code></pre>
<p>ä¸‹è½½å¹¶å®‰è£…   DevKit 25.1.0 æ­£å¼ç‰ˆ ï¼Œäº«å—ï¼š</p>
<ul>
<li>æ— éœ€ <code>sudo</code></li>
<li>è‡ªåŠ¨ä½¿ç”¨ <code>$HOME/.kunpeng-devkit</code></li>
<li>æ›´ç¨³å®šçš„ CLI æ¥å£</li>
</ul>
<h3 data-id="heading-17">2. ä¿®æ”¹ä»£ç å¹¶éªŒè¯</h3>
<p>æ ¹æ®æŠ¥å‘Šæç¤ºï¼š</p>
<ul>
<li>æ›¿æ¢ x86 å†…å»ºå‡½æ•°ä¸º ARM NEON ç­‰ä»·å®ç°</li>
<li>æ·»åŠ è·¨å¹³å°å®ï¼ˆå¦‚ <code>#ifdef __aarch64__</code>ï¼‰</li>
<li>åœ¨é²²é¹æœåŠ¡å™¨ä¸Šç¼–è¯‘æµ‹è¯•</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…«ã€é™„å½•ï¼šå®Œæ•´å‘½ä»¤é€ŸæŸ¥</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…</span>
sudo rpm -ivh devkit- .rpm devkit-porting- .rpm

<span class="hljs-comment"># åˆ†æï¼ˆRC ç‰ˆå¿…é¡»ç”¨ sudo + æ–°å‚æ•°ï¼‰</span>
sudo devkit porting src-mig \
  --input /path/to/source \
  --output /path/to/report \
  --source-type c,c++

<span class="hljs-comment"># å½’è¿˜æƒé™</span>
sudo <span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /path/to/report

<span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span>
devkit porting src-mig --<span class="hljs-built_in">help</span>
</code></pre>
<hr/>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p>ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œåœ¨ openEuler ARM64 ç¯å¢ƒä¸‹ä½¿ç”¨ DevKit 25.2.rc1 è¿›è¡Œæºç è¿ç§»åˆ†ææ—¶ï¼Œéœ€ç‰¹åˆ«æ³¨æ„å…¶ RC ç‰ˆæœ¬çš„é™åˆ¶ï¼šå¿…é¡»å®‰è£… <code>devkit-porting</code> æ¨¡å—ï¼Œä¸”å› æ—¥å¿—è·¯å¾„ç¡¬ç¼–ç äºç³»ç»Ÿç›®å½•ï¼Œæ™®é€šç”¨æˆ·æ— å†™æƒé™ï¼Œ  éœ€ç”¨  <code> sudo</code>   æ‰§è¡Œ ã€‚åŒæ—¶ï¼ŒCLI å‚æ•°å·²å˜æ›´â€”â€”<code>--project-path</code> æ”¹ä¸º <code>--input</code>ï¼Œ<code>--language</code> æ”¹ä¸º <code>--source-type</code>ã€‚è™½ç„¶æµç¨‹ç•¥æ˜¾ç¹çï¼Œä½†å·¥å…·èƒ½ç²¾å‡†è¯†åˆ« x86 ä¸“å±æŒ‡ä»¤ï¼ˆå¦‚ SSE/AVXï¼‰ã€å†…å­˜å¯¹é½ç­‰é—®é¢˜ï¼Œå¹¶ç”Ÿæˆ HTML æŠ¥å‘Šï¼Œæå¤§æå‡ ARM64 ç§»æ¤æ•ˆç‡ã€‚å»ºè®®å®éªŒåå‡çº§è‡³æ­£å¼ç‰ˆä»¥è·å¾—æ›´å‹å¥½çš„å¼€å‘ä½“éªŒã€‚</p>
<p>é²²é¹ç¤¾åŒºç›´è¾¾<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hikunpeng.com%2Fdeveloper%3Futm_campaign%3Dcom%26utm_source%3Dcsdnkol" target="_blank" title="https://www.hikunpeng.com/developer?utm_campaign=com&amp;utm_source=csdnkol" ref="nofollow noopener noreferrer">www.hikunpeng.com/developer?uâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡]]></title>    <link>https://juejin.cn/post/7593165280488030249</link>    <guid>https://juejin.cn/post/7593165280488030249</guid>    <pubDate>2026-01-09T09:02:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488030249" data-draft-id="7592990758476120083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡"/> <meta itemprop="keywords" content="åç«¯,.NET,C#"/> <meta itemprop="datePublished" content="2026-01-09T09:02:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ServBay"/> <meta itemprop="url" content="https://juejin.cn/user/3828929445244761"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3828929445244761/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ServBay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:02:45.000Z" title="Fri Jan 09 2026 09:02:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>TIOBE å…¬å¸ƒçš„æ•°æ®æ˜¾ç¤ºï¼ŒC# ä»¥ 2.94% çš„å¹´åº¦æœ€å¤§æ¶¨å¹…å†åº¦è·è¯„2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ˜¯ C# åœ¨ä¸‰å¹´å†…ç¬¬äºŒæ¬¡è·æ­¤æ®Šè£ï¼Œå‡­å€Ÿçš„æ˜¯å…¶åœ¨æ¦œå•ä¸Šæœ€å¤§çš„å¹´åº¦å¢é•¿å¹…åº¦ã€‚</p>
<p>å…¶å®ï¼ŒC# æ—©å°±ä¸æ˜¯å½“å¹´é‚£ä¸ªè´´ç€â€œWindows ç‹¬å â€å’Œâ€œé—­æºâ€æ ‡ç­¾çš„è¯­è¨€äº†ã€‚ä»æ—©æœŸçš„æ¨¡ä»¿è€…åˆ°å¦‚ä»Šç°ä»£è¯­è¨€ç‰¹æ€§çš„å¼•é¢†è€…ï¼ŒC# æˆåŠŸå®Œæˆäº†å‘è·¨å¹³å°å’Œå¼€æºçš„å·¨å¤§è½¬å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ef1361c669747aeb3a12d40b53095bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=NirDk39sroy1mRZ%2BV7aU6xqCYCE%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¼ä¸šçº§å¼€å‘é¢†åŸŸï¼ŒC# ä¸ Java çš„ç«äº‰æŒç»­äº†äºŒåå¤šå¹´ã€‚ç›¸æ¯”äº Java ç•¥æ˜¾å†—é•¿å’Œæ ·æ¿åŒ–çš„ä»£ç é£æ ¼ï¼ŒC# åœ¨è¯­æ³•è®¾è®¡çš„çµæ´»æ€§å’Œæ¼”è¿›é€Ÿåº¦ä¸Šä¸€ç›´ä¿æŒç€æ•é”çš„å—…è§‰ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒC# ç‰ˆæœ¬çš„å¿«é€Ÿè¿­ä»£æ„å‘³ç€æ‰‹é‡Œæœ‰äº†æ›´å¤šé«˜æ•ˆçš„å·¥å…·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bc78edb15a1407392fe3093eeeda6f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=O7rh2mx5NGeg1dPGitT67tnGdPc%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹ç›˜ç‚¹7ä¸ªåœ¨å®é™…å¼€å‘ä¸­éå¸¸å®ç”¨çš„C#ä»£ç æŠ€å·§ï¼Œæ¶µç›–å¹¶å‘å¤„ç†ã€å†…å­˜ä¼˜åŒ–åŠæ–°è¯­æ³•ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-0">å¤šçº¿ç¨‹åœºæ™¯ä¸‹çš„å­—å…¸å®‰å…¨ç­–ç•¥</h3>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒæ“ä½œå­—å…¸æ—¶ï¼Œæ‰‹åŠ¨åŠ é”ï¼ˆlockï¼‰å¾€å¾€å®¹æ˜“å‡ºé”™ä¸”æ•ˆç‡ä¸é«˜ã€‚ä¸è¦é‡å¤é€ è½®å­ï¼Œ<code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> æ˜¯ä¸“ä¸ºå¹¶å‘è¯»å†™è®¾è®¡çš„ç»“æ„ï¼Œå†…éƒ¨å®ç°äº†ç»†ç²’åº¦çš„é”æœºåˆ¶å’ŒåŸå­æ“ä½œã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();
<span class="hljs-comment">// å¤šçº¿ç¨‹å¹¶å‘å†™å…¥æ—¶ï¼Œæ™®é€šå­—å…¸éçº¿ç¨‹å®‰å…¨ï¼Œå¯èƒ½å¯¼è‡´å¼‚å¸¸æˆ–æ•°æ®è¦†ç›–</span>
<span class="hljs-keyword">await</span> Task.WhenAll(dataItems.Select(<span class="hljs-keyword">async</span> item =&gt;
{
    <span class="hljs-comment">// å³ä½¿åŠ é”ï¼Œæ€§èƒ½ä¹Ÿä¼šå—å½±å“</span>
    cache[item.Key] = <span class="hljs-keyword">await</span> ProcessItemAsync(item);
}));
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();
<span class="hljs-comment">// å†…éƒ¨å·²å¤„ç†å¹¶å‘æ§åˆ¶ï¼Œè¯»å†™æ›´é«˜æ•ˆ</span>
<span class="hljs-keyword">await</span> Task.WhenAll(dataItems.Select(<span class="hljs-keyword">async</span> item =&gt;
{
    cache[item.Key] = <span class="hljs-keyword">await</span> ProcessItemAsync(item);
}));
</code></pre>
<h3 data-id="heading-1">é¿å…é¢‘ç¹åˆ†é…ç©ºé›†åˆ</h3>
<p>åœ¨è¿”å›ç©ºæ•°ç»„æˆ–åˆ—è¡¨æ—¶ï¼Œä¹ æƒ¯æ€§åœ° <code>new</code> ä¸€ä¸ªå¯¹è±¡ä¼šé€ æˆä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚ç‰¹åˆ«æ˜¯åœ¨é«˜é¢‘è°ƒç”¨çš„å¾ªç¯æˆ– LINQ æŸ¥è¯¢ä¸­ï¼Œè¿™ä¼šæ˜¾è‘—å¢åŠ åƒåœ¾å›æ”¶ï¼ˆGCï¼‰çš„å‹åŠ›ã€‚<code>.NET</code> ä¸ºæ­¤æä¾›äº†ç¼“å­˜çš„å•ä¾‹ç©ºå¯¹è±¡ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">string</span>[<span class="hljs-number">0</span>]; <span class="hljs-comment">// æ¯æ¬¡éƒ½åœ¨å †ä¸Šåˆ†é…æ–°å¯¹è±¡</span>
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">return</span> Array.Empty&lt;<span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// ä½¿ç”¨å…¨å±€ç¼“å­˜çš„ç©ºå®ä¾‹</span>
</code></pre>
<p>åŒç†ï¼Œåœ¨ LINQ åœºæ™¯ä¸‹åº”ä½¿ç”¨ <code>Enumerable.Empty&lt;T&gt;()</code>ã€‚</p>
<h3 data-id="heading-2">å–„ç”¨ç©ºåˆå¹¶èµ‹å€¼è¿ç®—ç¬¦ (??=)</h3>
<p><code>??=</code> è¿ç®—ç¬¦èƒ½è®©ç©ºæ£€æŸ¥å’Œåˆå§‹åŒ–é€»è¾‘å˜å¾—æå…¶ç®€æ´ã€‚å®ƒä¸ä»…å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œè¿˜æ¶ˆé™¤äº†ä¸å¿…è¦çš„åµŒå¥—ï¼Œéå¸¸é€‚åˆç”¨äºå±æ€§çš„å»¶è¿ŸåŠ è½½ï¼ˆLazy Initializationï¼‰ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">if</span> (userSettings == <span class="hljs-literal">null</span>)
{
    userSettings = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
}
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// ä»…å½“ userSettings ä¸º null æ—¶æ‰è¿›è¡Œèµ‹å€¼</span>
userSettings ??= <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
</code></pre>
<h3 data-id="heading-3">ä¼˜åŒ–æ—¥å¿—è®°å½•ä¸­çš„å­—ç¬¦ä¸²å¼€é”€</h3>
<p>C# 10 å¼•å…¥äº†é’ˆå¯¹æ’å€¼å­—ç¬¦ä¸²çš„åº•å±‚ä¼˜åŒ–ã€‚åœ¨è®°å½•æ—¥å¿—æ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ <code>$</code> è¿›è¡Œæ‹¼æ¥ï¼Œå³ä¾¿æ—¥å¿—çº§åˆ«æœªå¼€å¯ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥çš„å¼€é”€ä¾ç„¶å­˜åœ¨ã€‚ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—å‚æ•°å†™æ³•ï¼Œå¯ä»¥åœ¨æ—¥å¿—çº§åˆ«å…³é—­æ—¶å®Œå…¨è·³è¿‡æ’å€¼è®¡ç®—ã€‚</p>
<p><strong>æœ‰éšå½¢å¼€é”€ï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// å³ä½¿ LogLevel å…³é—­ï¼Œå­—ç¬¦ä¸²æ’å€¼ä¾ç„¶ä¼šæ‰§è¡Œï¼Œæ¶ˆè€— CPU</span>
_logger.LogInformation(<span class="hljs-string">$"Order <span class="hljs-subst">{orderId}</span> processed at <span class="hljs-subst">{DateTime.Now}</span>"</span>);
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// æ¨¡æ¿åŒ–å‚æ•°ï¼Œåªæœ‰æ—¥å¿—ç¡®å®éœ€è¦è®°å½•æ—¶ï¼Œæ‰ä¼šå¤„ç†å‚æ•°</span>
_logger.LogInformation(<span class="hljs-string">"Order {OrderId} processed at {ProcessTime}"</span>, orderId, DateTime.Now);
</code></pre>
<h3 data-id="heading-4">å¹¶è¡Œä»»åŠ¡ä¼˜å…ˆä½¿ç”¨ Task.WhenAll</h3>
<p>åœ¨å¼‚æ­¥æ–¹æ³•ä¸­ï¼Œå¦‚æœå¤šä¸ªä»»åŠ¡ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œé¡ºæ¬¡ <code>await</code> ä¼šå¯¼è‡´å®ƒä»¬ä¸²è¡Œæ‰§è¡Œï¼Œæµªè´¹äº†å¹¶å‘ä¼˜åŠ¿ã€‚åº”å½“åŒæ—¶å¯åŠ¨æ‰€æœ‰ä»»åŠ¡ï¼Œå¹¶ç­‰å¾…å®ƒä»¬å…¨éƒ¨å®Œæˆã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">await</span> UploadLogsAsync();
<span class="hljs-keyword">await</span> UpdateDatabaseAsync();
<span class="hljs-keyword">await</span> NotifyUserAsync();
</code></pre>
<p><strong>é«˜æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">await</span> Task.WhenAll(
    UploadLogsAsync(),
    UpdateDatabaseAsync(),
    NotifyUserAsync()
);
</code></pre>
<p><em>æ³¨ï¼šä½¿ç”¨</em> <em><code>Task.WhenAll</code></em> æ—¶ï¼Œè‹¥å‘ç”Ÿå¼‚å¸¸ï¼ŒæŠ›å‡ºçš„æ˜¯ <code>AggregateException</code> <em>ï¼Œéœ€æ³¨æ„æ•è·å¤„ç†ã€‚</em></p>
<h3 data-id="heading-5">é¢„è®¾å­—å…¸å®¹é‡ä»¥é¿å…é‡å“ˆå¸Œ</h3>
<p><code>Dictionary</code> åœ¨å…ƒç´ æ•°é‡è¶…å‡ºå½“å‰å®¹é‡æ—¶ï¼Œä¼šè§¦å‘æ‰©å®¹ï¼ˆResizeï¼‰å’Œé‡å“ˆå¸Œï¼ˆRehashï¼‰ï¼Œè¿™æ˜¯éå¸¸æ˜‚è´µçš„æ“ä½œã€‚å¦‚æœèƒ½é¢„ä¼°æ•°æ®é‡çº§ï¼Œåœ¨æ„é€ æ—¶æŒ‡å®šå®¹é‡å¯ä»¥å¤§å¹…å‡å°‘å†…å­˜åˆ†é…å¼€é”€ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// é»˜è®¤å®¹é‡å°ï¼Œæ•°æ®å¤šæ—¶ä¼šå¤šæ¬¡æ‰©å®¹</span>
</code></pre>
<p><strong>é«˜æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(expectedCount); <span class="hljs-comment">// ä¸€æ¬¡åˆ†é…åˆ°ä½</span>
</code></pre>
<h3 data-id="heading-6">åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ä¸æ’å€¼</h3>
<p>C# 11 å¼•å…¥äº†ä¸‰é‡å¼•å· <code>"""</code>ï¼Œå®Œç¾è§£å†³äº† JSONã€SQL æˆ– HTML å­—ç¬¦ä¸²ä¸­å¼•å·è½¬ä¹‰çš„ç—›ç‚¹ã€‚ç»“åˆ <code>$$</code> è¯­æ³•ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰æ’å€¼ç¬¦å·ï¼Œé¿å…ä¸å†…å®¹ä¸­çš„ <code>{}</code> å†²çªã€‚</p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> userName = <span class="hljs-string">"Alice"</span>;
<span class="hljs-keyword">var</span> userAge = <span class="hljs-number">28</span>;

<span class="hljs-comment">// ä½¿ç”¨ $$ å‰ç¼€ï¼Œè¡¨ç¤º {{}} æ‰æ˜¯æ’å€¼ï¼Œå•ä¸ª {} è¢«è§†ä¸ºæ™®é€šå­—ç¬¦</span>
<span class="hljs-keyword">var</span> jsonContent = $<span class="hljs-string">$""</span><span class="hljs-string">"
{
    "</span>user<span class="hljs-string">": "</span>{{userName}}<span class="hljs-string">",
    "</span>age<span class="hljs-string">": {{userAge}},
    "</span>role<span class="hljs-string">": "</span>admin<span class="hljs-string">"
}
"</span><span class="hljs-string">""</span>;
</code></pre>
<p>è¿™ç§å†™æ³•è®©ä»£ç æ¸…æ™°åº¦å¤§å¹…æå‡ï¼Œå†ä¹Ÿä¸ç”¨æ•°åæ–œæ äº†ã€‚</p>
<h3 data-id="heading-7">å¿«é€Ÿæå®š.NETç¯å¢ƒ</h3>
<p>ä¸Šè¿°æŠ€å·§è·¨è¶Šäº†å¤šä¸ª C# ç‰ˆæœ¬ï¼Œä»åŸºç¡€çš„ .NET Framework åˆ°æœ€æ–°çš„ .NET Core åŠ .NET 5+ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œç»´æŠ¤æ—§é¡¹ç›®ï¼ˆå¦‚ .NET 2.0ï¼‰å’Œæ¢ç´¢æ–°ç‰¹æ€§ï¼ˆå¦‚ .NET 10.0ï¼‰å¾€å¾€éœ€è¦åŒæ—¶è¿›è¡Œã€‚</p>
<p>åœ¨æœ¬åœ°é…ç½®.NETç¯å¢ƒæ—¶ï¼Œå¤šä¸ªè¿è¡Œç‰ˆæœ¬è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œæ¶‰åŠå¤§é‡çš„ç¯å¢ƒå˜é‡åˆ‡æ¢ã€‚ä½¿ç”¨ ServBay å°±èƒ½<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fnet" target="_blank" title="https://www.servbay.com/features/net" ref="nofollow noopener noreferrer">ä¸€é”®å®‰è£… .NET ç¯å¢ƒ</a>ï¼Œæ”¯æŒèŒƒå›´æå¹¿ï¼Œä» .NET 2.0 ä¸€ç›´åˆ° .NET 10.0ï¼Œç”šè‡³åŒ…å«äº† Mono 6ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54cb1c5922604fe18b4202bf6f7182c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=fXQIzGvaxdC6l39Q%2BuzjuIAmMHY%3D" alt="" loading="lazy"/></p>
<p>ServBay æ”¯æŒå¤šä¸ª.NETç‰ˆæœ¬åŒæ—¶å¹¶å­˜ï¼Œå®Œå…¨ä¸éœ€è¦å¼€å‘è€…æ‰‹åŠ¨å¤„ç†ç¯å¢ƒå˜é‡å†²çªã€‚æ— è®ºä½ æ˜¯éœ€è¦ç»´æŠ¤åå¹´å‰çš„è€ç³»ç»Ÿï¼Œè¿˜æ˜¯æµ‹è¯•æœ€æ–°çš„ C# è¯­æ³•ç‰¹æ€§ï¼Œéƒ½èƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šæ— ç¼åˆ‡æ¢ï¼Œå°†ç²¾åŠ›çœŸæ­£é›†ä¸­åœ¨ä»£ç ç¼–å†™ä¸Šã€‚</p>
<h3 data-id="heading-8">ç»“è¯­</h3>
<p>ä»£ç çš„æ•´æ´ä¸é«˜æ•ˆå¾€å¾€ä½“ç°åœ¨ç»†èŠ‚ä¹‹ä¸­ã€‚æŒæ¡è¿™äº› C# æŠ€å·§ï¼Œä¸ä»…èƒ½å‡å°‘è¿è¡Œæ—¶çš„èµ„æºæ¶ˆè€—ï¼Œæ›´èƒ½è®©ä»£ç é€»è¾‘æ¸…æ™°æ˜“è¯»ã€‚éšç€ .NET ç”Ÿæ€çš„ä¸æ–­å‘å±•ï¼Œä¿æŒå¯¹æ–°ç‰¹æ€§çš„å…³æ³¨ï¼Œå¹¶ç»“åˆå¾—åŠ›çš„å·¥å…·æ¥ç®¡ç†å¼€å‘ç¯å¢ƒï¼Œæ˜¯æ¯ä¸€ä½å¼€å‘è€…æŒç»­è¿›é˜¶çš„å…³é”®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º]]></title>    <link>https://juejin.cn/post/7593158683411152896</link>    <guid>https://juejin.cn/post/7593158683411152896</guid>    <pubDate>2026-01-09T09:15:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411152896" data-draft-id="7592960378690879523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-09T09:15:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ƒå…«æ˜Ÿå¤©"/> <meta itemprop="url" content="https://juejin.cn/user/3848733848768205"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3848733848768205/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ƒå…«æ˜Ÿå¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:15:03.000Z" title="Fri Jan 09 2026 09:15:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰/åç«¯æŠ€æœ¯æ ˆ</h2>
<p>æœåŠ¡ç«¯:</p>
<pre><code class="hljs language-makefile" lang="makefile">ABP Framework v9.3.0
	
<span class="hljs-section">ORM:</span>
	EFCore   v9.3.0
        -SqlServer V2022
      

<span class="hljs-section">ç¯å¢ƒ:</span>
	.NET SDK 9.0
	
<span class="hljs-section">å·¥å…·:</span>
	.ABP CLI 9.3.0
</code></pre>
<p>å®¢æˆ·ç«¯:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Web:</span>
	React + Vite + TypeScript
	-UI:
		Antd
	

<span class="hljs-section">ç¯å¢ƒ:</span>
	Node v20.19.6
	pnpm v10.23.0
	Android SDK
        Vite å’Œ React å¯¹ç¯å¢ƒè¦æ±‚è¾ƒå®½æ¾ï¼šæ”¯æŒ Node.js è¾ƒæ–°ç‰ˆæœ¬ï¼ˆ&gt;=14/16/18ï¼‰ï¼Œé€šå¸¸æ— éœ€ä¸¥æ ¼å›ºå®šç‰ˆæœ¬å³å¯è¿è¡Œã€‚
<span class="hljs-section">å·¥å…·:	</span>
	vite 	v7.2.4
	nvm 	v1.2.2
	vite-cli:é€šè¿‡npmå‘½ä»¤,ä¸éœ€è¦å…¨å±€å®‰è£…
</code></pre>
<h2 data-id="heading-1">1.åˆ›å»º</h2>
<p>åˆ›å»ºç›¸åº”çš„æ¡†æ¶é¡¹ç›®æ–‡ä»¶</p>
<h3 data-id="heading-2">åç«¯ABP</h3>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ABPå®˜ç½‘
https:/</span><span class="hljs-regexp">/abp.io/docs</span><span class="hljs-regexp">/latest/get</span>-started/layered-web-application  
</code></pre>
<h4 data-id="heading-3">ğŸŒˆä½¿ç”¨ABP_CLIåˆ›å»º</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">//æ‰‹è„šæ¶è¯´æ˜</span>
https:<span class="hljs-comment">//abp.io/docs/latest/cli </span>
<span class="hljs-comment">//æ‰‹è„šæ¶å¿«é€Ÿå‘½ä»¤æ„å»ºé¡µé¢</span>
https:<span class="hljs-comment">//abp.io/get-started</span>
ç¡®è®¤å½“å‰ CLI å®‰è£…çš„ç‰ˆæœ¬:abp --version

<span class="hljs-comment">//æ¨¡æ¿é€‰æ‹©æŒ‡å—</span>
https:<span class="hljs-comment">//abp.io/docs/9.3/solution-templates/guide</span>


<span class="hljs-comment">//æŒ‡å®šæ–‡ä»¶å¤¹ï¼ŒCMD</span>
è¾“å…¥å‘½ä»¤ï¼š   
abp <span class="hljs-keyword">new</span> AppCoreServer -t app  -u none -d ef -v <span class="hljs-number">9.3</span><span class="hljs-number">.0</span>
<span class="hljs-comment">//ç”Ÿæˆå®Œåå³å¯çœ‹åˆ°/AppCoreServer/aspnet-coreæ–‡ä»¶å¤¹</span>
</code></pre>
<h4 data-id="heading-4">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">aspnet-core/                	 		<span class="hljs-comment"># è§£å†³æ–¹æ¡ˆã€‚</span>
   â”œâ”€â”€ src/                   		 	<span class="hljs-comment"># åç«¯ä¸»æœåŠ¡ä»£ç ç›®å½•ã€‚</span>
   â”‚   â”œâ”€â”€ Application/        		 	<span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</span>
   â”‚   â”œâ”€â”€ Application.Contracts/       <span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚æ¥å£å®šä¹‰å±‚ã€‚</span>
   â”‚   â”œâ”€â”€ DbMigrator/             		<span class="hljs-comment"># è¿ç§»å±‚ï¼Œç”¨äºé…ç½®ï¼Œå®šä¹‰è¿ç§»æ•°æ®åº“ã€‚</span>
   â”‚   â”œâ”€â”€ Domain/             			<span class="hljs-comment"># é¢†åŸŸå±‚ï¼ŒåŒ…å«é¢†åŸŸæ¨¡å‹å’Œä¸šåŠ¡è§„åˆ™ã€‚</span>
   â”‚   â”œâ”€â”€ Domain.Shared/             	<span class="hljs-comment"># å­˜æ”¾é€šç”¨ç±»å’Œå®šä¹‰ã€‚</span>
   â”‚   â”œâ”€â”€ EntityFrameworkCore/ 		<span class="hljs-comment"># æ•°æ®è®¿é—®å±‚ï¼Œä½¿ç”¨ EF Core å®ç°æ•°æ®åº“æ“ä½œã€‚</span>
   â”‚   â”œâ”€â”€ HttpApi/            			<span class="hljs-comment"># HTTP API å±‚ï¼Œå®šä¹‰ API æ¥å£,æš´éœ² REST APIã€‚</span>
   â”‚   â”œâ”€â”€ HttpApi.Client/     			<span class="hljs-comment"># ç”Ÿæˆ C# SDKï¼Œç”¨äºå…¶å®ƒç¨‹åºç›´æ¥æ¶ˆè´¹API-(å¯ä»¥è®©å¦ä¸€ä¸ªc#é¡¹ç›®å¼•ç”¨è¯¥å±‚</span>
   â”‚   â”‚									,ç„¶åè°ƒç”¨Applicationä¸€æ ·è°ƒç”¨,è€Œä¸æ˜¯å†™httlclientè°ƒç”¨,é€‚ç”¨äºå¾®æœåŠ¡,åˆ†å¸ƒå¼)
   â”‚   â””â”€â”€ HttpApi.Host/       			<span class="hljs-comment"># é¡¹ç›®æ ¹æ¨¡å—ï¼Œé…ç½®å’Œè¿è¡Œåç«¯æœåŠ¡,Programå°±åœ¨è¿™é‡Œã€‚</span>
   â”‚
   â””â”€â”€ <span class="hljs-built_in">test</span>/                   			<span class="hljs-comment"># æµ‹è¯•å•å…ƒã€‚</span>
   â”‚   â”œâ”€â”€ Application.Tests/  			<span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚çš„æµ‹è¯•ã€‚</span>
   â”‚   â”œâ”€â”€ Domain.Tests/       			<span class="hljs-comment"># é¢†åŸŸå±‚çš„æµ‹è¯•ã€‚</span>
   â”‚   â””â”€â”€ IntegrationTests/   			<span class="hljs-comment"># é›†æˆæµ‹è¯•ã€‚</span>
   â”‚
   â””â”€â”€AppCoreServer.sln					<span class="hljs-comment">#è§£å†³æ–¹æ¡ˆæ–‡ä»¶,åŒ…å«é¡¹ç›®è·¯å¾„ã€ä¾èµ–é¡ºåº,.net10å¼€å§‹å˜æˆslnx</span>
   |
   â””â”€â”€.gitignore						<span class="hljs-comment">#å®šä¹‰ Git ä¸éœ€è¦è¿½è¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</span>
</code></pre>
<h4 data-id="heading-5">é™„å½•</h4>
<h5 data-id="heading-6">ğŸ§± ABP é¡¹ç›®ç±»å‹æ€»è§ˆå¯¹æ¯”è¡¨</h5>























































<table><thead><tr><th>ç±»å‹</th><th>åç§°</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>æ˜¯å¦åˆ†å±‚</th><th>æ˜¯å¦å‰åç«¯åˆ†ç¦»</th><th>æ˜¯å¦æ”¯æŒæ¨¡å—åŒ–</th><th>æ˜¯å¦ä¸ºå¾®æœåŠ¡</th></tr></thead><tbody><tr><td>1ï¸âƒ£</td><td><strong>å•å±‚ Web åº”ç”¨</strong> (Single Layer Web App)</td><td>æ‰€æœ‰ä»£ç åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­</td><td>å¿«é€Ÿå¼€å‘ã€å°é¡¹ç›®ã€åŸå‹</td><td>âŒ</td><td>âŒï¼ˆé»˜è®¤é›†æˆ UIï¼‰</td><td>âŒ</td><td>âŒ</td></tr><tr><td>2ï¸âƒ£</td><td><strong>åˆ†å±‚ Web åº”ç”¨</strong> (Layered Web App)</td><td>é¢†åŸŸã€åº”ç”¨ã€æ¥å£ã€EFCore å±‚åˆ†ç¦»</td><td>ä¸­å¤§å‹é¡¹ç›®ï¼Œæ¸…æ™°æ¶æ„</td><td>âœ…</td><td>âŒï¼ˆé»˜è®¤é›†æˆ UIï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td>3ï¸âƒ£</td><td><strong>æ¨¡å—é¡¹ç›®</strong> (Module Project)</td><td>å¯å¤ç”¨ã€å¯ç§»æ¤ã€å¯å‘å¸ƒä¸º NuGet æ¨¡å—</td><td>å…¬å…±æœåŠ¡æ¨¡å—ã€ç»„ä»¶åº“</td><td>âœ…</td><td>âŒ</td><td>âœ…ï¼ˆä¸“ä¸ºæ¨¡å—å¼€å‘ï¼‰</td><td>âŒ</td></tr><tr><td>4ï¸âƒ£</td><td><strong>å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆ</strong> (Microservice Solution)</td><td>å¤šæœåŠ¡ã€å¤šæ•°æ®åº“ã€å‰åç«¯åˆ†ç¦»</td><td>å¤§å‹ç³»ç»Ÿã€åˆ†å¸ƒå¼éƒ¨ç½²</td><td>âœ…</td><td>âœ…ï¼ˆUI ç‹¬ç«‹ï¼‰</td><td>âœ…</td><td>âœ…</td></tr></tbody></table>
<h3 data-id="heading-7">å‰ç«¯React</h3>
<pre><code class="hljs language-ruby" lang="ruby">å‰ç«¯<span class="hljs-title class_">React</span>+<span class="hljs-title class_">Vite</span>æ‰‹è„šæ¶

/<span class="hljs-regexp">/Reactå®˜ç½‘
https:/</span><span class="hljs-regexp">/zh-hans.react.dev/learn</span><span class="hljs-regexp">/creating-a-react-app

/</span><span class="hljs-regexp">/Viteå®˜ç½‘
https:/</span><span class="hljs-regexp">/vitejs.cn/vite</span>5-cn/
</code></pre>
<h4 data-id="heading-8">ğŸŒˆä½¿ç”¨Viteåˆ›å»º</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//ä½¿ç”¨Viteæ‰‹è„šæ¶åˆ›å»ºReact+TypeScripté¡¹ç›®</span>


<span class="hljs-attr">cmd</span>:

<span class="hljs-attr">D</span>:\<span class="hljs-title class_">AppWmcsServer</span>&gt;npm create vite@latest
&gt; npx
&gt; create-vite

|
o  <span class="hljs-title class_">Project</span> <span class="hljs-attr">name</span>:						<span class="hljs-comment">//é¡¹ç›®å</span>
|  react-web
|
o  <span class="hljs-title class_">Select</span> a <span class="hljs-attr">framework</span>:   				<span class="hljs-comment">//æ¡†æ¶</span>
|  <span class="hljs-title class_">React</span>
|
o  <span class="hljs-title class_">Select</span> a <span class="hljs-attr">variant</span>:   					<span class="hljs-comment">//é€‰æ‹©ä¸€ç§ç‰ˆæœ¬</span>
|  <span class="hljs-title class_">TypeScript</span> + <span class="hljs-variable constant_">SWC</span>
|
o  <span class="hljs-title class_">Use</span> rolldown-vite (<span class="hljs-title class_">Experimental</span>)?:  	<span class="hljs-comment">//æ˜¯å¦ä½¿ç”¨å®éªŒæ€§åŠŸèƒ½,å¦</span>
|  <span class="hljs-title class_">No</span>
|
o  <span class="hljs-title class_">Install</span> <span class="hljs-keyword">with</span> npm and start now?   	<span class="hljs-comment">//æ˜¯å¦å®‰è£…ä¾èµ–,å¦</span>
|  <span class="hljs-title class_">No</span>
|
o  <span class="hljs-title class_">Scaffolding</span> project <span class="hljs-keyword">in</span> <span class="hljs-attr">D</span>:\<span class="hljs-title class_">AppWmcsServer</span>\react-web...
|
â€”  <span class="hljs-title class_">Done</span>. <span class="hljs-title class_">Now</span> <span class="hljs-attr">run</span>:

  cd react-web
  npm install
  npm run dev
<span class="hljs-attr">D</span>:\0App\<span class="hljs-title class_">ResourceCenter</span>\2App\<span class="hljs-title class_">AppWmcsServer</span>&gt;


<span class="hljs-comment">//TypeScript + SWC:</span>
<span class="hljs-comment">//ä½¿ç”¨ TypeScript è¯­è¨€ç¼–å†™é¡¹ç›®ä»£ç </span>
<span class="hljs-comment">//ä½¿ç”¨ SWC ä½œä¸ºæ„å»ºæ—¶çš„ç¼–è¯‘å™¨ï¼ˆæ›¿ä»£ Babel æˆ– TSCï¼‰å°†.tsã€.tsx æ–‡ä»¶ä¼šè¢« SWC ç¼–è¯‘ä¸º JavaScriptï¼Œé€Ÿåº¦æ¯”ç”¨ Babel å¿«å¾ˆå¤š</span>
</code></pre>
<h4 data-id="heading-9">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp">react-web/
â”œâ”€â”€ node_modules/       <span class="hljs-meta"># å­˜æ”¾é¡¹ç›®çš„ä¾èµ–åŒ…ï¼Œç”± npm æˆ– yarn è‡ªåŠ¨ç”Ÿæˆï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/             <span class="hljs-meta"># å­˜æ”¾å…¬å…±èµ„æºæ–‡ä»¶ï¼Œç›´æ¥å¤åˆ¶åˆ°æœ€ç»ˆæ„å»ºçš„è¾“å‡ºä¸­ã€‚</span>
â”‚   â””â”€â”€ favicon.ico     <span class="hljs-meta"># é¡¹ç›®çš„å›¾æ ‡æ–‡ä»¶ï¼Œé€šå¸¸æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸­ã€‚</span>
â”œâ”€â”€ index.html      	<span class="hljs-meta"># é¡¹ç›®çš„å…¥å£ HTML æ–‡ä»¶ã€‚Vite ä»¥æ­¤æ–‡ä»¶ä¸ºåŸºç¡€ç”Ÿæˆæœ€ç»ˆçš„é¡µé¢ã€‚</span>
â”œâ”€â”€ src/                <span class="hljs-meta"># æºä»£ç ç›®å½•ï¼Œå­˜æ”¾ä¸»è¦çš„å¼€å‘æ–‡ä»¶ã€‚</span>
â”‚   â”œâ”€â”€ assets/         <span class="hljs-meta"># å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ç­‰ã€‚</span>
â”‚   â”œâ”€â”€ components/     <span class="hljs-meta"># å­˜æ”¾å¯å¤ç”¨çš„ React ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ã€‚</span>
â”‚   â”œâ”€â”€ pages/          <span class="hljs-meta"># å­˜æ”¾é¡µé¢çº§ç»„ä»¶ï¼Œæ¯ä¸ªé¡µé¢ä»£è¡¨ä¸€ä¸ªè·¯ç”±æˆ–å®Œæ•´åŠŸèƒ½æ¨¡å—ã€‚</span>
â”‚   â”œâ”€â”€ App.tsx         <span class="hljs-meta"># ä¸»åº”ç”¨ç»„ä»¶ï¼Œé€šå¸¸åŒ…å«è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†çš„å†…å®¹ã€‚</span>
â”‚   â”œâ”€â”€ main.tsx        <span class="hljs-meta"># é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œç”¨äºæ¸²æŸ“æ ¹ç»„ä»¶å¹¶æŒ‚è½½åˆ° DOM ä¸Šã€‚</span>
â”‚   â””â”€â”€ vite-env.d.ts   <span class="hljs-meta"># ä¸º Vite ç‰¹å®šçš„ TypeScript ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œæ–¹ä¾¿å¼€å‘æ—¶çš„ç±»å‹æ£€æŸ¥ã€‚</span>
â”œâ”€â”€ tsconfig.json       <span class="hljs-meta"># è¿™æ˜¯ TypeScript é¡¹ç›®çš„æ ¹é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†å…¨å±€çš„ TypeScript ç¼–è¯‘é€‰é¡¹</span>
â”œâ”€â”€ tsconfig.app.json   <span class="hljs-meta">#è¿™ä¸ªæ–‡ä»¶æ˜¯ç‰¹å®šäºåº”ç”¨çš„ TypeScript é…ç½®æ–‡ä»¶    </span>
â”œâ”€â”€ tsconfig.node.json  <span class="hljs-meta">#è¿™ä¸ªæ–‡ä»¶ä¸“é—¨ä¸º Node.js ç¯å¢ƒé…ç½® TypeScriptã€‚     </span>
â”œâ”€â”€ vite.config.ts      <span class="hljs-meta"># Vite çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè‡ªå®šä¹‰å¼€å‘æœåŠ¡å™¨ã€æ’ä»¶å’Œæ„å»ºæµç¨‹ã€‚</span>
â”œâ”€â”€ package.json        <span class="hljs-meta"># é¡¹ç›®çš„å…ƒæ•°æ®æ–‡ä»¶ï¼ŒåŒ…å«é¡¹ç›®ä¾èµ–ã€è„šæœ¬å’ŒåŸºæœ¬ä¿¡æ¯ã€‚</span>
â”œâ”€â”€ .eslintrc.cjs       <span class="hljs-meta"># ESLint çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè§„èŒƒä»£ç é£æ ¼å’ŒæŸ¥æ‰¾æ½œåœ¨é—®é¢˜ã€‚</span>
â”œâ”€â”€ .gitignore          <span class="hljs-meta"># å®šä¹‰ Git ä¸éœ€è¦è¿½è¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</span>
â””â”€â”€ README.md           <span class="hljs-meta"># è‡ªè¿°æ–‡ä»¶é¡¹ç›®çš„è¯´æ˜æ–‡æ¡£ï¼ŒåŒ…å«é¡¹ç›®ç®€ä»‹ã€ä½¿ç”¨è¯´æ˜å’Œè´¡çŒ®æŒ‡å—ã€‚</span>
</code></pre>
<h2 data-id="heading-10">2.é¡¹ç›®åˆå§‹åŒ–</h2>
<pre><code class="hljs">å°†é¡¹ç›®æ¨¡æ¿ç»“æ„ä¸éœ€è¦çš„æ–‡ä»¶ä¿®æ”¹åˆ é™¤è°ƒæ•´
</code></pre>
<h3 data-id="heading-11">2.1 ABP</h3>
<h4 data-id="heading-12">åˆå§‹åŒ–Serilogæ—¥å¿—</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        Log.Logger = <span class="hljs-keyword">new</span> LoggerConfiguration()
<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG</span>
            .MinimumLevel.Debug()
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
            .MinimumLevel.Information()
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
            .MinimumLevel.Override(<span class="hljs-string">"Microsoft"</span>, LogEventLevel.Information)
            .MinimumLevel.Override(<span class="hljs-string">"Microsoft.EntityFrameworkCore"</span>, LogEventLevel.Warning)
            .Enrich.FromLogContext()
            .WriteTo.Async(c =&gt; c.File(
                <span class="hljs-string">"Logs/log-.log"</span>,
                rollingInterval: RollingInterval.Day,
                rollOnFileSizeLimit: <span class="hljs-literal">true</span>,
                fileSizeLimitBytes: <span class="hljs-number">1L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> / <span class="hljs-number">2</span>, <span class="hljs-comment">// 500MB</span>
                retainedFileCountLimit: <span class="hljs-number">10</span>,
                shared: <span class="hljs-literal">true</span>
            ))
<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG  //debugæ—¶æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°</span>
            .WriteTo.Async(c =&gt; c.Console())
<span class="hljs-meta">#<span class="hljs-keyword">endif</span>    //æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­</span>
            .CreateLogger();       

        <span class="hljs-keyword">try</span>
        {
           <span class="hljs-comment">//#çœç•¥...</span>
        }
    }
</code></pre>
<blockquote>
<p><strong>è§£æ</strong></p>
</blockquote>
<pre><code class="hljs language-vbnet" lang="vbnet">Serilog æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€ç®€å•çš„æ—¥å¿—åº“ï¼Œç”¨äºè®°å½•åº”ç”¨ç¨‹åºçš„æ—¥å¿—ã€‚å®ƒæ”¯æŒä¸°å¯Œçš„è¾“å‡ºæ–¹å¼ï¼ˆæ§åˆ¶å°ã€æ–‡ä»¶ã€æ•°æ®åº“ç­‰ï¼‰ï¼Œå¹¶ä¸”å…è®¸åŠ¨æ€é…ç½®æ—¥å¿—çº§åˆ«ã€‚

.MinimumLevel.Debug() å’Œ .MinimumLevel.Information()ï¼šè¿™ä¸¤è¡Œä»£ç è®¾ç½®æ—¥å¿—çš„æœ€å°çº§åˆ«ã€‚åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º Debugï¼Œè¿™æ„å‘³ç€æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¢«è®°å½•ï¼ˆåŒ…æ‹¬ Debugã€Informationã€Warning ç­‰ï¼‰ã€‚åœ¨ Release æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º Informationï¼Œè¡¨ç¤ºåªè®°å½• Information çº§åˆ«åŠæ›´é«˜ä¸¥é‡çº§åˆ«çš„æ—¥å¿—ã€‚

.MinimumLevel.Override(<span class="hljs-string">"Microsoft"</span>, LogEventLevel.Information)ï¼šè¿™è¡Œä»£ç è¦†ç›–äº† Microsoft å‘½åç©ºé—´çš„æ—¥å¿—çº§åˆ«ï¼Œè®¾ç½®ä¸º Informationã€‚è¿™æ ·å°±ä¸ä¼šè®°å½• Microsoft ç›¸å…³çš„è°ƒè¯•ä¿¡æ¯ï¼Œå‡å°‘æ—¥å¿—å†—ä½™ã€‚

.WriteTo.<span class="hljs-keyword">Async</span>(...)ï¼šè¿™é‡Œçš„ WriteTo é…ç½®å®šä¹‰äº†æ—¥å¿—çš„è¾“å‡ºæ–¹å¼ã€‚<span class="hljs-keyword">Async</span> æ˜¯æŒ‡æ—¥å¿—ä¼šå¼‚æ­¥å†™å…¥ï¼Œé¿å…å½±å“ä¸»çº¿ç¨‹çš„æ€§èƒ½ã€‚å®ƒé…ç½®äº†ï¼š

Fileï¼šæ—¥å¿—ä¼šå†™å…¥æ–‡ä»¶ã€‚æ—¥å¿—æ–‡ä»¶ä¼šä»¥ Logs/log-.log å‘½åï¼Œå¹¶ä¸”æ—¥å¿—ä¼šæŒ‰å¤©åˆ†å‰²ã€‚

<span class="hljs-symbol">rollingInterval:</span> RollingInterval.Dayï¼šæ¯ä¸€å¤©éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚

<span class="hljs-symbol">rollOnFileSizeLimit:</span> <span class="hljs-literal">true</span>ï¼šå½“æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶æ—¶ï¼Œæ—¥å¿—ä¼šè‡ªåŠ¨æ»šåŠ¨ï¼ˆå³ç”Ÿæˆæ–°çš„æ–‡ä»¶ï¼‰ã€‚

<span class="hljs-symbol">fileSizeLimitBytes:</span> <span class="hljs-number">1L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> / <span class="hljs-number">2</span>ï¼šæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ä¸º <span class="hljs-number">500</span>MBã€‚

<span class="hljs-symbol">retainedFileCountLimit:</span> <span class="hljs-number">10</span>ï¼šä¿ç•™æœ€è¿‘çš„ <span class="hljs-number">10</span> ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œåˆ é™¤æ›´æ—©çš„æ–‡ä»¶ã€‚

<span class="hljs-symbol">shared:</span> <span class="hljs-literal">true</span>ï¼šæ–‡ä»¶å¯è¢«å¤šä¸ªè¿›ç¨‹å…±äº«ã€‚

Console è¾“å‡ºï¼ˆä»…åœ¨ Debug æ¨¡å¼ä¸‹ï¼‰ï¼šå¦‚æœæ˜¯ Debug æ¨¡å¼ï¼Œè¿˜ä¼šè¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°ã€‚è¿™æ ·åœ¨è°ƒè¯•æ—¶å¯ä»¥å¿«é€Ÿçœ‹åˆ°æ—¥å¿—ã€‚
</code></pre>
<h4 data-id="heading-13">åˆå§‹åŒ–é…ç½®æ–‡ä»¶</h4>
<blockquote>
<p>src/AppCoreServer.HttpApi.Host/appsettings.json é¡¹ç›®æ ¹é…ç½®æ–‡ä»¶</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
       <span class="hljs-comment">//å½“å‰æœåŠ¡è‡ªèº«çš„æ ¹ URLï¼Œå¸¸ç”¨äºæœåŠ¡æ³¨å†Œæˆ–è·³è½¬ï¼ˆOpenIddictã€èº«ä»½è®¤è¯ç­‰åœºæ™¯ï¼‰</span>
    <span class="hljs-attr">"SelfUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-punctuation">,</span>
      
       <span class="hljs-comment">//å…è®¸å“ªäº›å‰ç«¯åŸŸåè¿›è¡Œè·¨åŸŸè®¿é—®ï¼ˆç”¨é€—å·æˆ–åˆ†å·åˆ†éš”ï¼‰æ”¯æŒé€šé…ç¬¦å¦‚ https://*.xxx.com</span>
    <span class="hljs-attr">"CorsOrigins"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://*.AppCoreServer.com"</span><span class="hljs-punctuation">,</span>
      
      <span class="hljs-comment">//ã€Openiddictæä¾›,æˆæƒç æ¨¡å¼å¤‡æ¡ˆåå•ã€‘ç™»å½•å®Œæˆåå…è®¸è·³è½¬çš„ URL ç™½åå•ï¼ˆé˜²æ­¢é‡å®šå‘æ”»å‡»ï¼‰å¯è®¾ç½®ä¸º https://yourfrontend.com</span>
    <span class="hljs-attr">"RedirectAllowedUrls"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">//åˆå§‹é…ç½®é“¾æ¥å­—ç¬¦ä¸²,EFcoreé»˜è®¤ä½¿ç”¨Defaultå­—ç¬¦ä¸²</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">//è®¤è¯é…ç½®ï¼Œè§ä¸‹æ–‡OpenIdDictè®¤è¯æˆæƒ</span>
  <span class="hljs-attr">"AuthServer"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Authority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"RequireHttpsMetadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"SwaggerClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
  <span class="hljs-attr">"StringEncryption"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"DefaultPassPhrase"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"WVtuUXdarYDdaFZp"</span><span class="hljs-comment">//ç¼–ç å¯†é’¥ï¼Œç”¨äºä¸€äº›ç¼–ç æœåŠ¡</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>src/AppCoreServer.DbMigrator/appsettings.json é¡¹ç›®è¿ç§»é…ç½®</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-comment">//è¿ç§»åœ°å€</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
     <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
  <span class="hljs-attr">"Redis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Configuration"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"127.0.0.1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">//OpenIddictè®¤è¯æ¨¡å¼é…ç½®</span>
  <span class="hljs-attr">"OpenIddict"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Applications"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"AppCoreServer_Web"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Web"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44320"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_App"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost:4200"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_BlazorServerTiered"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_BlazorServerTiered"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44345"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_BlazorWebAppTiered"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_BlazorWebAppTiered"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44345"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44355"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>launchSettings.json</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.HttpApi.Host\Properties\launchSettings.json</span>
è¿è¡Œé…ç½®æ–‡ä»¶<span class="hljs-punctuation">,</span>ç”¨äºå¼€å‘æ—¶çš„ç«¯å£ç›‘å¬é…ç½®<span class="hljs-punctuation">,</span>å¸¸ç”¨äºç¼–è¾‘å™¨é…ç½®å¯åŠ¨ç¼–è¯‘<span class="hljs-punctuation">,</span>éƒ¨ç½²æ—¶å¿½ç•¥.

 <span class="hljs-attr">"applicationUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-comment">//åœ°å€è·ŸApp:SelfUrlä¿æŒä¸€è‡´</span>
</code></pre>























<table><thead><tr><th>å¯åŠ¨æ–¹å¼</th><th>ä½¿ç”¨é…ç½®</th><th>åº•å±‚å®¿ä¸»</th><th>å¯åŠ¨è¡Œä¸º</th></tr></thead><tbody><tr><td><code>IIS Express</code></td><td><code>iisExpress.applicationUrl</code></td><td><strong>IIS Express è¿›ç¨‹ (<code>iisexpress.exe</code>)</strong></td><td>é€šè¿‡ VS æˆ–å‘½ä»¤è°ƒç”¨ <code>iisexpress.exe</code> å¯åŠ¨é¡¹ç›®ï¼Œä¸æ˜¯ç”¨ <code>dotnet run</code></td></tr><tr><td><code>Kestrel</code>ï¼ˆdotnet runï¼‰</td><td><code>applicationUrl</code></td><td><strong>Kestrel æœåŠ¡å™¨ (<code>dotnet</code>)</strong></td><td>ä½¿ç”¨ <code>dotnet run</code> å¯åŠ¨ç¨‹åºï¼Œå³è°ƒç”¨ <code>.dll</code> æ–‡ä»¶è¿è¡Œ</td></tr></tbody></table>
<h3 data-id="heading-14">2.2 React</h3>
<h4 data-id="heading-15">ğŸŒˆè°ƒæ•´ï¼š</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//æ–°å»ºsrc/view/Appç›®å½•</span>
	
view/App
â”œâ”€â”€App.tsx
â””â”€â”€App.css



<span class="hljs-comment">//ä¿®æ”¹App.tsx:</span>
const App<span class="hljs-punctuation">:</span> React.FC = () =&gt; <span class="hljs-punctuation">{</span>
    return(
        &lt;StrictMode&gt;
      
        &lt;/StrictMode&gt;
    )
<span class="hljs-punctuation">}</span>


<span class="hljs-comment">//ä¿®æ”¹main.tsx:</span>
createRoot(document.getElementById('root')!).render(
    &lt;App/&gt;
)


<span class="hljs-comment">//å¦‚ä¸Šï¼Œmain.tsxä½œä¸ºæ ¹ç›®å½•å…¥å£æ–‡ä»¶ï¼ŒApp.tsxä½œä¸ºå…¨å±€é…ç½®æ¥æ•´ç†é¡¹ç›®</span>
</code></pre>
<blockquote>
<p>StrictMode:</p>
</blockquote>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-operator">&lt;</span><span class="hljs-type">StrictMode</span><span class="hljs-operator">&gt;</span> æ˜¯ <span class="hljs-type">React</span> æä¾›çš„ä¸€ç§å·¥å…·ï¼Œç”¨æ¥æ£€æµ‹åº”ç”¨ä¸­çš„æ½œåœ¨é—®é¢˜<span class="hljs-operator">ã€‚</span>å®ƒä¸ä¼šæ¸²æŸ“ä»»ä½•å¯è§çš„ <span class="hljs-type">UIï¼Œåªæ˜¯å¯¹å…¶å­ç»„ä»¶æ‰§è¡Œé¢å¤–çš„æ£€æŸ¥å’Œè­¦å‘Šï¼Œå¸®åŠ©å¼€å‘è€…ç¼–å†™æ›´å¥å£®çš„ä»£ç </span><span class="hljs-operator">ã€‚</span>

ä¸»è¦åŠŸèƒ½
æ£€æµ‹åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šä¾‹å¦‚ componentWillMount<span class="hljs-operator">ã€</span>componentWillReceiveProps<span class="hljs-operator">ã€‚</span>
è¯†åˆ«ä¸å®‰å…¨çš„æ“ä½œï¼šæ¯”å¦‚ findDOMNode çš„ä½¿ç”¨<span class="hljs-operator">ã€‚</span>
æ£€æŸ¥æ„å¤–çš„å‰¯ä½œç”¨ï¼š<span class="hljs-type">React</span> ä¼šåœ¨å¼€å‘ç¯å¢ƒä¸‹å¯¹ç»„ä»¶çš„ render å’Œ useEffect ç­‰è¿›è¡Œä¸¤æ¬¡è°ƒç”¨ï¼Œä»¥å¸®åŠ©è¯†åˆ«æ½œåœ¨çš„å‰¯ä½œç”¨<span class="hljs-operator">ã€‚</span>
å¼ºåˆ¶æ›´ä¸¥æ ¼çš„æ¨¡å¼ï¼šæé†’å¼€å‘è€…é‡‡ç”¨ <span class="hljs-type">React</span> æ¨èçš„æœ€ä½³å®è·µ<span class="hljs-operator">ã€‚</span>
</code></pre>
<h2 data-id="heading-16">3.åŸºç¡€æ„å»º</h2>
<h3 data-id="heading-17">3.1 åç«¯è·¨åŸŸ</h3>
<h4 data-id="heading-18">ğŸŒˆæ“ä½œ</h4>
<pre><code class="hljs language-c#" lang="c#">   <span class="hljs-string">"App"</span>: {
    <span class="hljs-string">"SelfUrl"</span>: <span class="hljs-string">"https://localhost:55555"</span>,
    <span class="hljs-string">"CorsOrigins"</span>: <span class="hljs-string">"https://*.ServerApp.com"</span>
        
 	<span class="hljs-comment">//æ·»åŠ äº†å…è®¸å…¨éƒ¨</span>
	<span class="hljs-string">"AllowAnyOrigin"</span>: <span class="hljs-string">"true"</span>
  },
 
 context.Services.AddCors(options =&gt;
        {
            options.AddDefaultPolicy(builder =&gt;
            {
                builder
                    .WithAbpExposedHeaders()
                    .SetIsOriginAllowedToAllowWildcardSubdomains()
                    .AllowAnyHeader()
                    .AllowAnyMethod().AllowCredentials().WithExposedHeaders(<span class="hljs-string">"x-elsa-workflow-instance-id"</span>);

                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">bool</span>.Parse(configuration[<span class="hljs-string">"App:AllowAnyOrigin"</span>] ?? <span class="hljs-string">"false"</span>))
                {
                    <span class="hljs-comment">//å…è®¸å…¨éƒ¨</span>
                    builder.SetIsOriginAllowed(_ =&gt; <span class="hljs-literal">true</span>);
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§CorsOriginså…è®¸çš„æ¥</span>
                    builder
                        .WithOrigins(
                            (configuration[<span class="hljs-string">"App:CorsOrigins"</span>] ?? <span class="hljs-string">""</span>)
                            .Split(<span class="hljs-string">","</span>, StringSplitOptions.RemoveEmptyEntries)
                            .Select(o =&gt; o.RemovePostFix(<span class="hljs-string">"/"</span>))
                            .ToArray()
                        );
                }
            });
        });
</code></pre>
<h3 data-id="heading-19">3.2 OpenIddictæˆæƒè®¤è¯</h3>
<h4 data-id="heading-20">é…ç½®å®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.DbMigrator\appsettings.json è¿ç§»æ–‡ä»¶é…ç½®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"OpenIddict"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Applications"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:55319"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">//æ–°å¢APPå†…éƒ¨å®¢æˆ·ç«¯,ä½¿ç”¨å¯†ç æ¨¡å¼</span>
        <span class="hljs-attr">"AppCoreServer_App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_App"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3E*"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">//æ–°å¢ç¬¬ä¸‰æ–¹è®¿é—®å®¢æˆ·ç«¯,ä½¿ç”¨æˆæƒç æ¨¡å¼</span>
      <span class="hljs-attr">"AppCoreServer_ExternalSystems"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_ExternalSystems"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ExternalSystems_API"</span>
      <span class="hljs-punctuation">}</span>
      
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-21">åˆ›å»ºå®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">namespace</span> <span class="hljs-title">AppCoreServer.OpenIddict</span>;

<span class="hljs-comment">/* Creates initial data that is needed to property run the application
 * and make client-to-server communication possible.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OpenIddictDataSeedContributor</span> : <span class="hljs-title">IDataSeedContributor</span>, <span class="hljs-title">ITransientDependency</span>
{
   <span class="hljs-comment">//...çœç•¥</span>

    [<span class="hljs-meta">UnitOfWork</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SeedAsync</span>(<span class="hljs-params">DataSeedContext context</span>)</span>
    {
        <span class="hljs-keyword">await</span> CreateScopesAsync();
        <span class="hljs-keyword">await</span> CreateApplicationsAsync();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateScopesAsync</span>()</span>
    {
        <span class="hljs-comment">//æ¡†æ¶é»˜è®¤åˆ›å»º</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _openIddictScopeRepository.FindByNameAsync(<span class="hljs-string">"AppCoreServer"</span>) == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">await</span> _scopeManager.CreateAsync(<span class="hljs-keyword">new</span> OpenIddictScopeDescriptor {
                Name = <span class="hljs-string">"AppCoreServer"</span>, DisplayName = <span class="hljs-string">"AppCoreServer API"</span>, Resources = { <span class="hljs-string">"AppCoreServer"</span> }
            });
        }
        
        <span class="hljs-comment">//åˆ›å»ºç¬¬ä¸‰æ–¹è®¿é—®å®¢æˆ·ç«¯</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _openIddictScopeRepository.FindByNameAsync(<span class="hljs-string">"ExternalSystems"</span>) == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">await</span> _scopeManager.CreateAsync(<span class="hljs-keyword">new</span> OpenIddictScopeDescriptor {
                Name = <span class="hljs-string">"ExternalSystems"</span>, DisplayName = <span class="hljs-string">"ExternalSystems API"</span>, Resources = { <span class="hljs-string">"ExternalSystems"</span> }
            });
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateApplicationsAsync</span>()</span>
    {
        
     <span class="hljs-comment">// âœ… é€šç”¨ Scopeï¼ˆæ‰€æœ‰å®¢æˆ·ç«¯éƒ½èƒ½ç”¨çš„ï¼‰</span>
    <span class="hljs-keyword">var</span> commonScopes = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
    {
        OpenIddictConstants.Permissions.Scopes.Address,
        OpenIddictConstants.Permissions. Scopes.Email,
        OpenIddictConstants.Permissions. Scopes.Phone,
        OpenIddictConstants.Permissions.Scopes.Profile,
        OpenIddictConstants. Permissions.Scopes.Roles,
        <span class="hljs-string">"AppCoreServer"</span>,  <span class="hljs-comment">// ä¸» API çš„ Scope</span>
        <span class="hljs-string">"ExternalSystems"</span>
    };

    <span class="hljs-keyword">var</span> configurationSection = _configuration.GetSection(<span class="hljs-string">"OpenIddict:Applications"</span>);

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 1ï¸âƒ£ Swagger å®¢æˆ·ç«¯ï¼ˆå…¬å…±å®¢æˆ·ç«¯ + æˆæƒç æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> swaggerClientId = configurationSection[<span class="hljs-string">"AppCoreServer_Swagger: ClientId"</span>];
    <span class="hljs-keyword">if</span> (!swaggerClientId.IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> swaggerRootUrl = configurationSection[<span class="hljs-string">"AppCoreServer_Swagger:RootUrl"</span>]?.TrimEnd(<span class="hljs-string">'/'</span>);

        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: swaggerClientId!,
            type: OpenIddictConstants.ClientTypes.Public,  <span class="hljs-comment">// âœ… å…¬å…±å®¢æˆ·ç«¯</span>
            consentType: OpenIddictConstants.ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… è‡ªåŠ¨åŒæ„</span>
            displayName: <span class="hljs-string">"Swagger Application"</span>,
            secret: <span class="hljs-literal">null</span>,  <span class="hljs-comment">// âœ… å…¬å…±å®¢æˆ·ç«¯ä¸éœ€è¦ Secret</span>
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.AuthorizationCode  <span class="hljs-comment">// âœ… æˆæƒç æ¨¡å¼</span>
            },
            scopes: commonScopes,
            redirectUri: <span class="hljs-string">$"<span class="hljs-subst">{swaggerRootUrl}</span>/swagger/oauth2-redirect.html"</span>,
            clientUri: swaggerRootUrl
        );
    }

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 2ï¸âƒ£ App å®¢æˆ·ç«¯ï¼ˆå†…éƒ¨ç½‘é¡µ/ç§»åŠ¨ç«¯ + å¯†ç æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> appClientId = configurationSection[<span class="hljs-string">"AppCoreServer_App:ClientId"</span>];
    <span class="hljs-keyword">if</span> (!appClientId. IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> appClientSecret = configurationSection[<span class="hljs-string">"AppCoreServer_App:ClientSecret"</span>];  <span class="hljs-comment">// âœ… ä»é…ç½®è¯»å– Secret</span>

        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: appClientId!,
            type: OpenIddictConstants.ClientTypes. Public,
            consentType:  OpenIddictConstants.ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… è‡ªåŠ¨åŒæ„ï¼ˆå†…éƒ¨ç³»ç»Ÿï¼‰</span>
            displayName: <span class="hljs-string">"App Application"</span>,
            secret: <span class="hljs-literal">null</span>,
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.Password,  <span class="hljs-comment">// âœ… å¯†ç æ¨¡å¼</span>
                OpenIddictConstants.GrantTypes.RefreshToken  <span class="hljs-comment">// âœ… æ”¯æŒåˆ·æ–°ä»¤ç‰Œ</span>
            },
            scopes: commonScopes,
            redirectUri: <span class="hljs-literal">null</span>, 
            clientUri: <span class="hljs-literal">null</span>
        );
    }

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 3ï¸âƒ£ ç¬¬ä¸‰æ–¹ç³»ç»Ÿå®¢æˆ·ç«¯ï¼ˆæœºå¯†å®¢æˆ·ç«¯ + å®¢æˆ·ç«¯å‡­è¯æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> externalSystemsClientId = configurationSection[<span class="hljs-string">"AppCoreServer_ExternalSystems:ClientId"</span>];
    <span class="hljs-keyword">if</span> (!externalSystemsClientId.IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> externalSystemsSecret = configurationSection[<span class="hljs-string">"AppCoreServer_ExternalSystems:ClientSecret"</span>];  <span class="hljs-comment">// âœ… è¯»å– Secret</span>

        <span class="hljs-comment">// âœ… ç¬¬ä¸‰æ–¹ç³»ç»Ÿä¸“ç”¨ Scope</span>
        <span class="hljs-keyword">var</span> externalScopes = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
        {
            <span class="hljs-string">"ExternalSystems"</span>  <span class="hljs-comment">// âœ… åªèƒ½è®¿é—®å¤–éƒ¨ç³»ç»Ÿ API</span>
        };
        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: externalSystemsClientId!,
            type: OpenIddictConstants.ClientTypes.Confidential,  <span class="hljs-comment">// âœ… æœºå¯†å®¢æˆ·ç«¯</span>
            consentType: OpenIddictConstants. ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… ä¸éœ€è¦ç”¨æˆ·ç¡®è®¤</span>
            displayName: <span class="hljs-string">"External Systems Application"</span>, 
            secret:  externalSystemsSecret,  <span class="hljs-comment">// âœ… å¿…é¡»é…ç½® Secret</span>
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.ClientCredentials  <span class="hljs-comment">// âœ… å®¢æˆ·ç«¯å‡­è¯æ¨¡å¼ï¼ˆæ¨èï¼‰</span>
            },
            scopes: externalScopes, 
            redirectUri: <span class="hljs-literal">null</span>, 
            clientUri: <span class="hljs-literal">null</span>
        );
    }
        
    }
}

</code></pre>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SeedAsync</span>(<span class="hljs-params">DataSeedContext context</span>)</span>
{
    <span class="hljs-keyword">await</span> CreateScopesAsync();
    <span class="hljs-keyword">await</span> CreateApplicationsAsync();

    <span class="hljs-comment">//ä¸»åŠ¨ç»™adminè§’è‰²æ·»åŠ å…¨éƒ¨æƒé™</span>
    <span class="hljs-keyword">var</span> allPermissions =(<span class="hljs-keyword">await</span> _permissionDefinitionManager.GetPermissionsAsync()).Select(p =&gt; p.Name);
    <span class="hljs-keyword">await</span> _permissionDataSeeder.SeedAsync(<span class="hljs-string">"R"</span>,<span class="hljs-string">"admin"</span>,allPermissions);
}
</code></pre>
<h4 data-id="heading-22">æ‰§è¡Œè¿ç§»</h4>
<p>OpenIddict ä½¿ç”¨ 4 å¼ æ ¸å¿ƒè¡¨ï¼š</p>






























<table><thead><tr><th>è¡¨å</th><th>ä½œç”¨</th><th>ä¸»è¦å­—æ®µ</th></tr></thead><tbody><tr><td><strong>OpenIddictApplications</strong></td><td>å­˜å‚¨å®¢æˆ·ç«¯åº”ç”¨é…ç½®</td><td>ClientId, ClientSecret, Type, Permissions</td></tr><tr><td><strong>OpenIddictScopes</strong></td><td>å®šä¹‰æƒé™èŒƒå›´</td><td>Name, DisplayName, Resources</td></tr><tr><td><strong>OpenIddictAuthorizations</strong></td><td>è®°å½•ç”¨æˆ·æˆæƒ</td><td>Subjectï¼ˆç”¨æˆ·IDï¼‰, ApplicationId, Scopes</td></tr><tr><td><strong>OpenIddictTokens</strong></td><td>å­˜å‚¨ Token</td><td>Type, Payload, ExpirationDate</td></tr></tbody></table>
<p><strong>è¡¨å…³ç³»</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">OpenIddictApplicationsï¼ˆå®¢æˆ·ç«¯ï¼‰
<span class="hljs-code">    â†“ 1: N
OpenIddictAuthorizationsï¼ˆæˆæƒè®°å½•ï¼‰
    â†“ 1:N
OpenIddictTokensï¼ˆTokenï¼‰
</span>
OpenIddictScopesï¼ˆç‹¬ç«‹ï¼Œå®šä¹‰å¯ç”¨çš„ Scopeï¼‰
</code></pre>
<h4 data-id="heading-23">ä¿®æ”¹Tokenç”Ÿæ•ˆæ—¶é—´</h4>
<pre><code class="hljs language-c#" lang="c#">  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureAuthentication</span>(<span class="hljs-params">ServiceConfigurationContext context</span>)</span>
    {
        context.Services.ForwardIdentityAuthenticationForBearer(OpenIddictValidationAspNetCoreDefaults.AuthenticationScheme);
        context.Services.Configure&lt;AbpClaimsPrincipalFactoryOptions&gt;(options =&gt;
        {
            options.IsDynamicClaimsEnabled = <span class="hljs-literal">true</span>;
        });

      	<span class="hljs-comment">//AddOpenIddictçš„é…ç½®</span>
        context.Services.AddOpenIddict().AddServer(options =&gt;
        {
            <span class="hljs-comment">// â±ï¸ Token ç”Ÿå‘½å‘¨æœŸé…ç½®,12ä¸ªå°æ—¶</span>
            options.SetAccessTokenLifetime(TimeSpan.FromHours(<span class="hljs-number">12</span>));
        });
    }
</code></pre>
<h4 data-id="heading-24">åˆ›å»ºæƒé™</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.Application.Contracts\Permissions</span>
<span class="hljs-comment">// æƒé™å®šä¹‰æä¾›è€…ï¼Œç”¨äºå®šä¹‰æ¨¡å—çš„æƒé™ç»“æ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppCoreServerPermissionDefinitionProvider</span> : <span class="hljs-title">PermissionDefinitionProvider</span>
{
    <span class="hljs-comment">// é‡å†™ Define æ–¹æ³•ï¼Œåœ¨å…¶ä¸­å®šä¹‰ä½ çš„æƒé™ç»“æ„</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Define</span>(<span class="hljs-params">IPermissionDefinitionContext context</span>)</span>
    {
        <span class="hljs-comment">// æ·»åŠ æƒé™ç»„ï¼ˆç”¨äºå½’ç±»æƒé™ï¼‰ï¼Œç»„åä¸º "frame"</span>
        <span class="hljs-keyword">var</span> myGroup = context.AddGroup(AppCoreServerPermissions.GroupName);

        <span class="hljs-comment">// åœ¨æƒé™ç»„ä¸­æ·»åŠ ä¸€ä¸ªæƒé™ï¼Œæƒé™åä¸º "AppCoreServer.MyPermission1"ï¼Œæ˜¾ç¤ºåç§°ä¸ºâ€œæµ‹è¯•æƒé™â€</span>
        myGroup.AddPermission(AppCoreServerPermissions.MyPermission1, L(<span class="hljs-string">"æµ‹è¯•æƒé™"</span>));
    }

    <span class="hljs-comment">// æœ¬åœ°åŒ–æ–¹æ³•ï¼Œå°†å­—ç¬¦ä¸²åŒ…è£…æˆ LocalizableStringï¼Œç”¨äºå¤šè¯­è¨€æ”¯æŒ</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LocalizableString <span class="hljs-title">L</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span>
    {
        <span class="hljs-keyword">return</span> LocalizableString.Create&lt;frameResource&gt;(name);
        <span class="hljs-comment">// frameResource æ˜¯ä½ æ¨¡å—çš„èµ„æºç±»ï¼Œç”¨äºå¤šè¯­è¨€æœ¬åœ°åŒ–</span>
    }
}
</code></pre>
<h4 data-id="heading-25">æ·»åŠ æƒé™</h4>
<pre><code class="hljs language-c#" lang="c#">[<span class="hljs-meta">Authorize(framePermissions.MyPermission1)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">GetInventory</span>()</span>
{
    <span class="hljs-keyword">await</span> _InventoryRepository.getby();
}


æ­¤æ—¶å¯ä»¥æµ‹è¯•ä¸€ä¸‹swagger Uiï¼Œè¿è¡ŒåæŠ¥é”™<span class="hljs-number">401</span>ï¼Œæ²¡æœ‰ç™»å½•ï¼Œç„¶åæ­¤æ—¶å¯ä»¥åœ¨å³ä¸Šè§’Authorizæ˜¯è§£é”çŠ¶æ€ï¼Œä»¥frame_Swaggerå®¢æˆ·ç«¯ç™»å½•ï¼Œ
client_secret:ä¸ç”¨è¾“å…¥ï¼Œå¦‚æœè¾“å…¥åŒ¹é…ä¸äº†ï¼Œå³ä½¿è¾“å…¥äº†ç™»å½•è´¦æˆ·adminå¯†ç <span class="hljs-number">1</span>q2w3E*ä¹Ÿæ˜¯é”™è¯¯ã€‚ç™»å½•æˆåŠŸå,Authorizæ˜¯é”çŠ¶æ€,å³å¯è®¿é—®æƒé™æ¥å£ã€‚
</code></pre>
<h4 data-id="heading-26">ç”¨æˆ·å¯†ç ç™»å½•</h4>
<p>postmanä¸­å‚æ•°è¦ä½¿ç”¨x-www-form-urlencodedå¡«å†™</p>
<pre><code class="hljs language-shell" lang="shell">curl --location --request POST 'https://localhost:55319/connect/token' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--header 'Accept: */*' \
--header 'Host: localhost:55319' \
--header 'Connection: keep-alive' \
--data-urlencode 'grant_type=password' \
--data-urlencode 'client_id=AppCoreServer_App' \
--data-urlencode 'scope=AppCoreServer' \
--data-urlencode 'username=admin' \
--data-urlencode 'password=1q2w3E*'
</code></pre>
<p>å“åº”</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"access_token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eyJhbGciOiJSUzI1N...."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"token_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bearer"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"expires_in"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">43199</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-27">æœåŠ¡ç«¯å‡­è¯ç™»å½•</h4>
<pre><code class="hljs language-ini" lang="ini">POST /connect/token
Content-Type:  application/x-www-form-urlencoded

<span class="hljs-attr">grant_type</span>=client_credentials
&amp;<span class="hljs-attr">client_id</span>=AppCoreServer_ExternalSystems
&amp;<span class="hljs-attr">client_secret</span>=ExternalSystems_API
&amp;<span class="hljs-attr">scope</span>=ExternalSystems
</code></pre>
<h4 data-id="heading-28">é˜²ä¼ªä»¤ç‰Œ</h4>
<pre><code class="hljs language-css" lang="css">é—®é¢˜ <span class="hljs-number">1</span>ï¼šABP <span class="hljs-number">9.0</span> å¼€å§‹å¼ºéªŒè¯äº†å—ï¼Ÿ
ç­”ï¼šæ˜¯çš„ï¼ ABP <span class="hljs-number">9.0</span> é»˜è®¤å¼ºåˆ¶éªŒè¯é˜²ä¼ªä»¤ç‰Œï¼Œè¿™æ˜¯å®‰å…¨æ€§å¢å¼ºçš„é‡å¤§å˜æ›´ã€‚

é—®é¢˜ <span class="hljs-number">2</span>ï¼šæ˜¯å¦åªæ¥å— RequestVerificationToken å­—æ®µï¼Ÿ
ç­”ï¼šæ˜¯çš„ï¼ ABP é»˜è®¤åªæ¥å— RequestVerificationToken ä½œä¸º <span class="hljs-selector-tag">Header</span> åç§°ï¼Œx-xsrf-token æ˜¯ä¸è¢«è¯†åˆ«çš„ã€‚

è§£å†³æ–¹æ¡ˆ
æŠŠå‰ç«¯çš„ x-xsrf-token æ”¹æˆ RequestVerificationToken å³å¯ï¼
</code></pre>
<p>åç«¯ç¦ç”¨é˜²ä¼ªä»¤ç‰ŒéªŒè¯</p>
<pre><code class="hljs language-c#" lang="c#">æ³¨å†Œåˆ°æœåŠ¡è¿è¡Œæ—¶ä¸­
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureAntiForgery</span>(<span class="hljs-params">ServiceConfigurationContext context</span>)</span>
{
    context.Services.Configure&lt;AbpAntiForgeryOptions&gt;(options =&gt; { options.AutoValidate = <span class="hljs-literal">false</span>; });
}
</code></pre>
<h3 data-id="heading-29">3.3 å‰ç«¯Viteä»£ç†+Axioså°è£…</h3>
<h4 data-id="heading-30">ğŸŒˆé…ç½®Vite</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],
  <span class="hljs-attr">server</span>: {
  	<span class="hljs-attr">port</span>: <span class="hljs-number">5173</span>, <span class="hljs-comment">// è®¾ç½®å¼€å‘æœåŠ¡å™¨çš„ç«¯å£ä¸º 5173</span>
    <span class="hljs-attr">cors</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-comment">//urlå…³é”®å­—</span>
      <span class="hljs-string">'/api'</span>: {
  		<span class="hljs-attr">target</span>: <span class="hljs-string">"https://localhost:55555/"</span>,  
        <span class="hljs-comment">//æ˜¯å¦è·¨åŸŸ</span>
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">//ã€æ³¨æ„ï¼šå½“æŒ‡å®šçš„ç›®æ ‡åœ°å€æ˜¯httpsçš„æ—¶å€™ä¸€å®šè¦æ·»åŠ ä¸Šè¯¥é…ç½®ï¼Œå¦‚æœæ˜¯httpåˆ™ä¸éœ€è¦ï¼Œ</span>
        <span class="hljs-comment">//ä¸ç„¶è¯·æ±‚ä¼šä¸€ç›´æŠ¥é”™500ä¸”è°ƒè¯•å‰ç«¯ä¼šæç¤º http proxy error: Error: self signed certificate in certificate chain vite ä»£ç†æŠ¥é”™ã€‘</span>
        <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å¦‚æœæ˜¯httpsæ¥å£ï¼Œéœ€è¦é…ç½®è¿™ä¸ªå‚æ•°,ç¦ç”¨ SSL æ ¡éªŒï¼Œé€‚ç”¨äº HTTPS çš„æœ¬åœ°å¼€å‘ç¯å¢ƒ</span>
        <span class="hljs-attr">ws</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å…è®¸websocketä»£ç†</span>
        <span class="hljs-comment">// é‡å†™é…ç½®ï¼šå¯ä»¥å°†è¯·æ±‚urlé‡å†™  ï¼Œä»¥ä¸‹æ„æ€æ˜¯å°†'/api/app/station'è¿›è¡Œé‡å†™ï¼Œç•™ç€apiåŠ ä¸Šç½‘å€=ã€‹</span>
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/api/</span>, <span class="hljs-string">'/api'</span>),
      }
    },
  },
})


<span class="hljs-attr">target</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_BASE_URL</span> 
è¿™æ ·çš„å†™æ³•ç›®å‰åœ¨configä¸­è¯»å–ç¯å¢ƒå˜é‡æ˜¯å¤±è´¥çš„
è¯¦æƒ…å¯è§<span class="hljs-attr">https</span>:<span class="hljs-comment">//cn.vite.dev</span>
</code></pre>
<h4 data-id="heading-31">ğŸŒˆAxioså°è£…</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> axios, {<span class="hljs-title class_">AxiosRequestConfig</span>, <span class="hljs-title class_">AxiosResponse</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> {stringify} <span class="hljs-keyword">from</span> <span class="hljs-string">"qs"</span>;  
<span class="hljs-comment">//npm install qs</span>
<span class="hljs-comment">//npm install --save-dev @types/qs</span>

<span class="hljs-comment">// å®šä¹‰ API å“åº”æ•°æ®ç»“æ„çš„æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ResponseData</span> {
    errorMessage?: <span class="hljs-built_in">string</span>;
    [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>;  <span class="hljs-comment">// å¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œæ‰©å±•</span>
}

<span class="hljs-comment">// å®šä¹‰è¯·æ±‚é…ç½®æ¥å£</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RequestConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AxiosRequestConfig</span> {
    requestType?: <span class="hljs-string">"form"</span> | <span class="hljs-string">"json"</span>;  <span class="hljs-comment">// å®šä¹‰è¯·æ±‚ç±»å‹</span>
}

<span class="hljs-keyword">const</span> instance = axios.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-title function_">getBaseURL</span>(),
    <span class="hljs-comment">// timeout: 3000,</span>
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
    }
});


<span class="hljs-comment">// è¯·æ±‚æ‹¦æˆª</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
        <span class="hljs-comment">// æ ¹æ® requestType è®¾ç½®è¯·æ±‚å¤´æˆ–å¯¹æ•°æ®è¿›è¡Œè½¬æ¢</span>
        <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-title class_">RequestConfig</span>).<span class="hljs-property">requestType</span> === <span class="hljs-string">"form"</span>) {
            config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>] = <span class="hljs-string">"application/x-www-form-urlencoded;charset=UTF-8"</span>;
            config.<span class="hljs-property">data</span> = <span class="hljs-title function_">stringify</span>(config.<span class="hljs-property">data</span>); <span class="hljs-comment">// åºåˆ—åŒ–ä¸ºè¡¨å•æ•°æ®</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-title class_">RequestConfig</span>).<span class="hljs-property">requestType</span> === <span class="hljs-string">"json"</span>) {
            config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>] = <span class="hljs-string">"application/json"</span>;
        }
        <span class="hljs-keyword">return</span> config;
    },
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(err.<span class="hljs-property">message</span> || <span class="hljs-string">"è¯·æ±‚é”™è¯¯"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err);
    }
);

<span class="hljs-comment">// å“åº”æ‹¦æˆª</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response,
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> errorMessage = <span class="hljs-title function_">getErrorMessage</span>(err.<span class="hljs-property">response</span>);
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(errorMessage || err.<span class="hljs-property">message</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err); <span class="hljs-comment">// ä¿è¯é”™è¯¯è¢«ä¸šåŠ¡æ•è·</span>
    }
);



<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> request&lt;T = <span class="hljs-title class_">ResponseData</span>&gt;(
    <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">param</span>: <span class="hljs-title class_">RequestConfig</span> = {}
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> instance&lt;T&gt;(url, {...param});
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
}



<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getErrorMessage</span> = (<span class="hljs-params">response: AxiosResponse | <span class="hljs-literal">undefined</span></span>) =&gt; {
    <span class="hljs-comment">//æ³¨æ„,å½“ä½¿ç”¨Viteä»£ç†æ—¶,responseä¸æ˜¯null,å› ä¸ºviteä»£ç†ä¼šæŠ›é”™500å‡ºæ¥</span>
    <span class="hljs-comment">//ä»£ç†æœºåˆ¶ï¼šVite ä½¿ç”¨ Node.js çš„ http-proxy æˆ–ç±»ä¼¼åº“è½¬å‘è¯·æ±‚ã€‚å¦‚æœç›®æ ‡æœåŠ¡å™¨ï¼ˆhttps://localhost:55319/ï¼‰ä¸å¯è¾¾ï¼Œä»£ç†ä¼šæ•è·é”™è¯¯å¹¶è¿”å› HTTP å“åº”ï¼ˆe.g., 500ï¼‰ï¼Œè€Œä¸æ˜¯æŠ›å‡ºåŸå§‹çš„ ECONNREFUSED æˆ–è¶…æ—¶é”™è¯¯ã€‚</span>
    <span class="hljs-keyword">if</span> (!response) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡å™¨æœªå“åº”,è¯·æ£€æŸ¥ç½‘ç»œ"</span>;
    }
    <span class="hljs-keyword">const</span> data = response.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">if</span> (!data) {
        <span class="hljs-keyword">switch</span> (response.<span class="hljs-property">status</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">"ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— æ­¤æ“ä½œæƒé™"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡ç«¯æ— æ­¤èµ„æº"</span>;
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥å¼‚å¸¸,è¯·è”ç³»å¼€å‘äººå‘˜"</span>;
        }
    }
    <span class="hljs-comment">// å¦‚æœåç«¯è¿”å›äº†è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Œå¯åœ¨è¿™é‡Œä¼˜å…ˆè¿”å›</span>
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">error</span>.<span class="hljs-property">message</span>) {
        <span class="hljs-keyword">return</span> data.<span class="hljs-property">error</span>.<span class="hljs-property">message</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥é”™è¯¯"</span>;
};

<span class="hljs-comment">// âœ… æ ¸å¿ƒä¿®æ”¹ï¼šå¼€å‘ç¯å¢ƒè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œè®©è¯·æ±‚èµ°ç›¸å¯¹è·¯å¾„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBaseURL</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> env = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>;
    
    <span class="hljs-comment">// å¼€å‘ç¯å¢ƒï¼šè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œèµ° Vite proxy</span>
    <span class="hljs-keyword">if</span> (env.<span class="hljs-property">DEV</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;  <span class="hljs-comment">// âœ… å…³é”®æ”¹åŠ¨</span>
    }
    

    <span class="hljs-keyword">if</span> (env.<span class="hljs-property">PROD</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${env.VITE_API_BASE_URL}</span>:<span class="hljs-subst">${env.VITE_API_PORT}</span>`</span>;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
}

</code></pre>
<h4 data-id="heading-32">Vite.env ç¯å¢ƒå˜é‡é…ç½®</h4>
<p>æ“ä½œ</p>
<pre><code class="hljs language-ini" lang="ini">æ‰‹åŠ¨åˆ›å»ºä»¥ä¸‹æ–‡ä»¶
.env   		å¼€å‘ç¯å¢ƒ
.env.production   ç”Ÿäº§ç¯å¢ƒ

æ–‡ä»¶æ‰‹åŠ¨æ–°å¢å˜é‡
{
    <span class="hljs-attr">VITE_API_BASE_URL</span>=https://localhost
    <span class="hljs-attr">VITE_API_PORT</span> =<span class="hljs-number">44319</span>
}
</code></pre>
<p>è§£é‡Š</p>
<pre><code class="hljs language-typescript" lang="typescript">ç¯å¢ƒåŠ è½½ä¼˜å…ˆçº§
ä¸€ä»½ç”¨äºæŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ .<span class="hljs-property">env</span>.<span class="hljs-property">production</span>ï¼‰ä¼šæ¯”é€šç”¨å½¢å¼çš„ä¼˜å…ˆçº§æ›´é«˜ï¼ˆä¾‹å¦‚ .<span class="hljs-property">env</span>ï¼‰ã€‚
ä¸ºäº†é˜²æ­¢æ„å¤–åœ°å°†ä¸€äº›ç¯å¢ƒå˜é‡æ³„æ¼åˆ°å®¢æˆ·ç«¯ï¼Œåªæœ‰ä»¥ <span class="hljs-variable constant_">VITE_</span> ä¸ºå‰ç¼€çš„å˜é‡æ‰ä¼šæš´éœ²ç»™ç»è¿‡ vite å¤„ç†çš„ä»£ç 



<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>) <span class="hljs-comment">//æ­¤æ—¶æ ¹æ®ä¸åŒçš„ç¯å¢ƒï¼Œä½¿ç”¨ä¸åŒçš„ç¯å¢ƒå˜é‡</span>
==ã€‹{
    <span class="hljs-string">"BASE_URL"</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-string">"DEV"</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">//å¼€å‘ç¯å¢ƒ</span>
    <span class="hljs-string">"MODE"</span>: <span class="hljs-string">"development"</span>,
    <span class="hljs-string">"PROD"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"SSR"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"VITE_API_BASE_URL"</span>: <span class="hljs-string">"https://localhost"</span>,
    <span class="hljs-string">"VITE_API_PORT"</span>: <span class="hljs-string">"44319"</span>,
}

<span class="hljs-title class_">Vite</span> åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span> å¯¹è±¡ä¸Šæš´éœ²ç¯å¢ƒå˜é‡ï¼Œè¿™äº›å˜é‡åœ¨æ„å»ºæ—¶ä¼šè¢«é™æ€åœ°æ›¿æ¢æ‰ã€‚è¿™é‡Œæœ‰ä¸€äº›åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨çš„å†…å»ºå˜é‡ï¼š
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>: {<span class="hljs-built_in">string</span>} åº”ç”¨è¿è¡Œçš„æ¨¡å¼ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>: {<span class="hljs-built_in">string</span>} éƒ¨ç½²åº”ç”¨æ—¶çš„åŸºæœ¬ <span class="hljs-variable constant_">URL</span>ã€‚ä»–ç”±base é…ç½®é¡¹å†³å®šã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨ <span class="hljs-variable constant_">NODE_ENV</span>=<span class="hljs-string">'production'</span> è¿è¡Œå¼€å‘æœåŠ¡å™¨æˆ–æ„å»ºåº”ç”¨æ—¶ä½¿ç”¨ <span class="hljs-variable constant_">NODE_ENV</span>=<span class="hljs-string">'production'</span> ï¼‰ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒ (æ°¸è¿œä¸ <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>ç›¸å)ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ server ä¸Šã€‚
</code></pre>
<h3 data-id="heading-33">3.4 Openapiä¸Swagger</h3>
<h4 data-id="heading-34">é…ç½®Swagger/json</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureSwaggerServices</span>(<span class="hljs-params">ServiceConfigurationContext context, IConfiguration configuration</span>)</span>
    {
        context.Services.AddAbpSwaggerGenWithOAuth(
            configuration[<span class="hljs-string">"AuthServer:Authority"</span>]!,
            <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;
            {
                    {<span class="hljs-string">"AppCoreServer"</span>, <span class="hljs-string">"AppCoreServer API"</span>}
            },
            options =&gt;
            {
                options.SwaggerDoc(<span class="hljs-string">"v1"</span>, <span class="hljs-keyword">new</span> OpenApiInfo { Title = <span class="hljs-string">"AppCoreServer API"</span>, Version = <span class="hljs-string">"v1"</span> });
                options.DocInclusionPredicate((docName, description) =&gt; <span class="hljs-literal">true</span>);
                options.CustomSchemaIds(type =&gt; type.FullName);
                
                <span class="hljs-comment">//ç»™Swaggerçš„jsonä¸­æ·»åŠ   operationIdå­—æ®µ</span>
                <span class="hljs-comment">//å¯è§Swashbuckle  Abp.Swashbuckle.Extensions</span>
                options.CustomOperationIds(apiDesc =&gt;
                    apiDesc.TryGetMethodInfo(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> methodInfo) ? methodInfo.Name : <span class="hljs-literal">null</span>);
            });
    }


<span class="hljs-comment">//å¾—åˆ°çš„API_json==&gt;</span>

<span class="hljs-string">"/api/abp/application-configuration"</span>: {
      <span class="hljs-string">"get"</span>: {
        <span class="hljs-string">"tags"</span>: [
          <span class="hljs-string">"AbpApplicationConfiguration"</span>
        ],
        <span class="hljs-string">"operationId"</span>: <span class="hljs-string">"GetAsync"</span>, <span class="hljs-comment">//æ–¹ä¾¿å‰ç«¯ç”Ÿæˆæ–¹æ³•åç§°</span>
        <span class="hljs-string">"parameters"</span>: [
          {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"IncludeLocalizationResources"</span>,
            <span class="hljs-string">"in"</span>: <span class="hljs-string">"query"</span>,
            <span class="hljs-string">"schema"</span>: {
              <span class="hljs-string">"type"</span>: <span class="hljs-string">"boolean"</span>
            }
          }
        ]
</code></pre>
<h4 data-id="heading-35">é…ç½®Umijs/Openapi</h4>
<blockquote>
<p>1.14.1ç‰ˆ</p>
</blockquote>
<p>åˆ›å»º\reactWeb\openapi2ts.config.tsæ–‡ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { generateService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@umijs/openapi'</span>;
<span class="hljs-title function_">generateService</span>({
    <span class="hljs-comment">/**
     * æŒ‡å®šè¯·æ±‚åº“å¯¼å…¥è¯­å¥ï¼Œç”Ÿæˆçš„æ¥å£æ–‡ä»¶ä¼šç”¨åˆ°è¿™ä¸ªå¯¼å…¥ã€‚
     * ä¾‹å¦‚ä½ é¡¹ç›®ä¸­å°è£…äº†è¯·æ±‚å‡½æ•° requestï¼Œå¯ä»¥å†™æˆï¼š
     * "import { request } from '@/utils/request'"
     */</span>
    <span class="hljs-attr">requestLibPath</span>: <span class="hljs-string">"../../utils/request"</span>,

    <span class="hljs-comment">/**
     * OpenAPI / Swagger çš„æ¥å£æ–‡æ¡£åœ°å€æˆ–æœ¬åœ°æ–‡ä»¶è·¯å¾„ã€‚
     * è¿™é‡Œæ˜¯æœ¬åœ°æ¥å£æ–‡æ¡£çš„ HTTP åœ°å€ï¼Œç”Ÿæˆä»£ç ä¼šåŸºäºè¿™ä¸ªå®šä¹‰ã€‚
     */</span>
    <span class="hljs-attr">schemaPath</span>: <span class="hljs-string">'https://localhost:2001/swagger/v1/swagger.json'</span>,

    <span class="hljs-comment">/**
     * é¡¹ç›®åç§°ï¼Œç”Ÿæˆçš„æ–‡ä»¶å¤¹åæˆ–å‘½åç©ºé—´å‚è€ƒåï¼Œ
     * ä¸»è¦ç”¨äºåŒºåˆ†ä¸åŒé¡¹ç›®çš„ç”Ÿæˆä»£ç ã€‚
     */</span>
    <span class="hljs-attr">serversPath</span>: <span class="hljs-string">"./src/services"</span>,
    <span class="hljs-attr">projectName</span>: <span class="hljs-string">'api'</span>,

    <span class="hljs-comment">/**
     * TypeScript ä»£ç ä¸­ä½¿ç”¨çš„å‘½åç©ºé—´åç§°ï¼Œ
     * ç”Ÿæˆçš„ç±»å‹ã€æ¥å£ç­‰éƒ½ä¼šæ”¾åœ¨è¿™ä¸ªå‘½åç©ºé—´ä¸‹ã€‚
     */</span>
    <span class="hljs-attr">namespace</span>: <span class="hljs-string">'API'</span>,

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶å¤¹è·¯å¾„ï¼ŒæŒ‡å‘ä½ çš„ Nunjucks æ¨¡æ¿ç›®å½•ã€‚
     * ç”Ÿæˆå™¨ä¼šä½¿ç”¨æ­¤ç›®å½•ä¸‹çš„æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆä»£ç ï¼Œ
     * æ–¹ä¾¿ä½ è‡ªå®šä¹‰ç”Ÿæˆæ ¼å¼ã€‚
     */</span>  
	<span class="hljs-attr">templatesFolder</span>: <span class="hljs-string">'./openapi-template'</span>, 

    <span class="hljs-comment">/**
     * æ˜¯å¦ä½¿ç”¨é©¼å³°å‘½åæ³•ç”Ÿæˆæ¥å£æ–¹æ³•åç§°ï¼Œé»˜è®¤ trueã€‚
     * è®¾ä¸º falseï¼Œæ¥å£æ–¹æ³•åä¿æŒ PascalCaseï¼Œ
     * æ¯”å¦‚ GetAsync è€Œä¸æ˜¯ getAsyncã€‚
     */</span>
    <span class="hljs-attr">isCamelCase</span>: <span class="hljs-literal">false</span>,

    <span class="hljs-comment">/**
     * é’©å­å‡½æ•°é›†ï¼Œå¯ä»¥è‡ªå®šä¹‰ç”Ÿæˆè¿‡ç¨‹çš„å„ç§é€»è¾‘ï¼Œ
     * è¿™é‡Œè‡ªå®šä¹‰äº†æ¥å£å‡½æ•°åç§°ç”Ÿæˆé€»è¾‘ï¼Œ
     * ä½¿ç”¨ OpenAPI ä¸­å®šä¹‰çš„ operationId ä½œä¸ºå‡½æ•°åï¼Œ
     * å¦‚æœæ²¡æœ‰åˆ™é»˜è®¤ 'AutoGenerated'ã€‚
     */</span>
    <span class="hljs-attr">hook</span>: {
        <span class="hljs-title function_">customFunctionName</span>(<span class="hljs-params">api</span>) {
            <span class="hljs-keyword">return</span> api.<span class="hljs-property">operationId</span> || <span class="hljs-string">'AutoGenerated'</span>;
        },
    },
});

</code></pre>
<p>templatesFolder: './openapi-template',</p>
<pre><code class="hljs">éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿,è§£å†³é»˜è®¤æ¨¡æ¿ç”Ÿæˆçš„å…¥å‚å‚æ•°ç±»å‹é›†åˆ,é‡å¤ä¸å…¼å®¹çš„é—®é¢˜
</code></pre>
<p>é…ç½®è¿è¡Œå‘½ä»¤</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc -b &amp;&amp; vite build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"openapi2ts"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsx openapi2ts.config.ts"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-comment">//æœ‰éœ€è¦å®‰è£…ä»¥ä¸‹ä¸¤ä¸ªä¾èµ–åŒ…</span>
<span class="hljs-comment">//pnpm i tsx@3.14.0</span>
<span class="hljs-comment">//pnpm add tslib</span>
</code></pre>
<p>æ‰§è¡Œ</p>
<pre><code class="hljs language-json" lang="json">æ­¤æ—¶å¯ä»¥çœ‹åˆ° serversPath<span class="hljs-punctuation">:</span> <span class="hljs-string">"./src/services"</span>
ç”Ÿæˆäº†åç«¯å¯¹åº”çš„è¯·æ±‚æ–‡ä»¶<span class="hljs-punctuation">,</span>APIçš„æ ¼å¼æ˜¯æŒ‰ç…§requestLibPath<span class="hljs-punctuation">:</span> <span class="hljs-string">"../../utils/request"</span>è®¾è®¡
    
 <span class="hljs-comment">/** æ­¤å¤„åç«¯æ²¡æœ‰æä¾›æ³¨é‡Š GET /api/abp/application-configuration */</span>
export async function GetAsync(
  <span class="hljs-comment">// å åŠ ç”Ÿæˆçš„Paramç±»å‹ (ébodyå‚æ•°swaggeré»˜è®¤æ²¡æœ‰ç”Ÿæˆå¯¹è±¡)</span>
  params<span class="hljs-punctuation">:</span> API.GetAsyncParams<span class="hljs-punctuation">,</span>
  options?<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-punctuation">[</span>key<span class="hljs-punctuation">:</span> string<span class="hljs-punctuation">]</span><span class="hljs-punctuation">:</span> any <span class="hljs-punctuation">}</span>
) <span class="hljs-punctuation">{</span>
  return request&lt;API.ApplicationConfigurationDto&gt;(
    <span class="hljs-string">"/api/abp/application-configuration"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      method<span class="hljs-punctuation">:</span> <span class="hljs-string">"GET"</span><span class="hljs-punctuation">,</span>
      params<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        ...params<span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      ...(options || <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>)<span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">}</span>
  );
<span class="hljs-punctuation">}</span>   
</code></pre>
<h3 data-id="heading-36">3.5å…¨å±€é…ç½®ä¸è·¯ç”±ä¸å¸ƒå±€</h3>
<h4 data-id="heading-37">ä¿®æ”¹htmlä¸»ç»“æ„</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title class_">AppServer</span>\react-web\index.<span class="hljs-property">html</span>

ä¿®æ”¹é¡¹ç›®ä¸»å…¥å£htmlï¼Œæ ‡é¢˜ç­‰ä¸ºè‡ªå·±é¡¹ç›®logç­‰

<span class="hljs-attr">svg</span>:<span class="hljs-attr">https</span>:<span class="hljs-comment">//www.iconfont.cn/</span>
</code></pre>
<h4 data-id="heading-38">UIåº“</h4>
<pre><code class="hljs language-bash" lang="bash">ä»¥ä¸‹ä½¿ç”¨äº†
<span class="hljs-string">"antd
"</span>antd-style<span class="hljs-string">"
"</span>@ant-design/icons<span class="hljs-string">"
"</span>@ant-design/pro-components<span class="hljs-string">"
</span></code></pre>
<h4 data-id="heading-39">æ„å»ºè·¯ç”±</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freactrouter.remix.org.cn%2Fhome" target="_blank" title="https://reactrouter.remix.org.cn/home" ref="nofollow noopener noreferrer">React Router ä¸»é¡µ | React Router - React Router è·¯ç”±åº“</a></p>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> react-router-dom   ^<span class="hljs-number">7.11</span>.<span class="hljs-number">0</span>
ä½¿ç”¨æ•°æ®æ¨¡å¼
</code></pre>

































<table><thead><tr><th>åŒ…å</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æ¨èåº¦ï¼ˆVite é¡¹ç›®ï¼‰</th></tr></thead><tbody><tr><td><code>react-router</code></td><td>åº•å±‚é€»è¾‘ï¼Œé Web é¡¹ç›®</td><td>çµæ´»ã€å¯æ‰©å±•</td><td>ç¼ºå°‘ DOM åŠŸèƒ½</td><td>ä½ï¼ˆé€šå¸¸ä¸å•ç‹¬ç”¨ï¼‰</td></tr><tr><td><code>react-router-dom</code></td><td>æ ‡å‡† Web SPA è·¯ç”±</td><td>ç®€å•ã€ç¨³å®šã€åŠŸèƒ½é½å…¨</td><td>ç¼ºå°‘ SSR/SSG ç­‰é«˜çº§åŠŸèƒ½</td><td>é«˜ï¼ˆåŸºç¡€æ­å»ºï¼‰</td></tr><tr><td><code>@react-router/dev</code></td><td>ç°ä»£æ¡†æ¶æ¨¡å¼ï¼ˆv7ï¼‰</td><td>SSRã€SSGã€æ•°æ®åŠ è½½ã€Vite é›†æˆ</td><td>é…ç½®å¤æ‚ï¼Œç”Ÿæ€è¾ƒæ–°</td><td>ä¸­é«˜ï¼ˆéœ€è¦é«˜çº§åŠŸèƒ½ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-40">æ„å»ºä¸»è·¯ç”±é“¾</h5>
<p>åˆ›å»ºreact-web\src\router</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//react-web\src\router\index.ts</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">index</span>:<span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createBrowserRouter&gt; = <span class="hljs-title function_">createBrowserRouter</span>([
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerApp/Dashboard"</span>))),
    },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> index;
                                  
                                                                    
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Dashboard</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>= <span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘æ˜¯ä»ªè¡¨ç›˜<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
    )
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Dashboard</span>;
</code></pre>
<h5 data-id="heading-41">æ³¨å†Œè·¯ç”±</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}/</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>


<span class="hljs-comment">//æ­¤æ—¶æŒ‰ç…§ä¸Šè¿°è·¯ç”±é“¾ï¼Œåˆ™ä¼˜å…ˆå±•ç¤ºä»ªè¡¨ç›˜é¡µé¢</span>
</code></pre>
<h5 data-id="heading-42">è·¯ç”±åŠ è½½é¡µé¢</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span>/&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{MainRouter}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h5 data-id="heading-43">åŸºç¡€é¡µé¢</h5>
<h6 data-id="heading-44">åˆ›å»º404é¡µé¢</h6>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//npm antd-style  åˆ›å»ºæ ·å¼</span>

<span class="hljs-comment">//react-web\src\view\System\NotFound\index.tsx</span>
<span class="hljs-keyword">import</span> {useNavigate} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Result</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> useStyles <span class="hljs-keyword">from</span> <span class="hljs-string">"./style.ts"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">NotFound</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> {styles} = <span class="hljs-title function_">useStyles</span>();
    <span class="hljs-keyword">const</span>  navigate=<span class="hljs-title function_">useNavigate</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Result</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.result}</span>
            <span class="hljs-attr">icon</span>=<span class="hljs-string">{null}</span>
            <span class="hljs-attr">title</span>=<span class="hljs-string">"å½“å‰é¡µé¢ä¸å­˜åœ¨..."</span>
            <span class="hljs-attr">subTitle</span>=<span class="hljs-string">"è¯·æ£€æŸ¥æ‚¨è¾“å…¥çš„ç½‘å€æ˜¯å¦æ­£ç¡®ï¼Œæˆ–ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®è¿”å›ä¸Šä¸€çº§"</span>
            <span class="hljs-attr">extra</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span>=&gt;</span>navigate(-1)}&gt;è¿”å›ä¸Šä¸€çº§<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>}
        /&gt;</span>

    );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NotFound</span>;
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//react-web\src\view\System\NotFound\style.ts</span>

<span class="hljs-keyword">import</span> {createStyles} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd-style"</span>;
<span class="hljs-keyword">import</span> notFoundImg <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../assets/404.png"</span>

<span class="hljs-keyword">const</span> useStyles = <span class="hljs-title function_">createStyles</span>({
    <span class="hljs-attr">result</span>:{
        <span class="hljs-attr">position</span>: <span class="hljs-string">'relative'</span>,
        <span class="hljs-attr">backgroundImage</span>: <span class="hljs-string">`url(<span class="hljs-subst">${notFoundImg}</span>)`</span>,  <span class="hljs-comment">// åŠ¨æ€å¼•å…¥å›¾ç‰‡è·¯å¾„</span>
        <span class="hljs-attr">backgroundSize</span>: <span class="hljs-string">'cover'</span>,         <span class="hljs-comment">// ç¡®ä¿å›¾ç‰‡è¦†ç›–æ•´ä¸ªåŒºåŸŸ</span>
        <span class="hljs-attr">backgroundPosition</span>: <span class="hljs-string">'center'</span>,    <span class="hljs-comment">// å±…ä¸­æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡</span>
        <span class="hljs-attr">backgroundRepeat</span>: <span class="hljs-string">'no-repeat'</span>,   <span class="hljs-comment">// é˜²æ­¢å›¾ç‰‡é‡å¤</span>
        <span class="hljs-attr">textAlign</span>: <span class="hljs-string">"center"</span>,             <span class="hljs-comment">// æ–‡æœ¬å±…ä¸­</span>
        <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span>,
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'column'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,        <span class="hljs-comment">// å‚ç›´å±…ä¸­</span>
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,            <span class="hljs-comment">// æ°´å¹³å±…ä¸­</span>
        <span class="hljs-attr">height</span>: <span class="hljs-string">'100vh'</span>,
    },
})
<span class="hljs-keyword">export</span>  <span class="hljs-keyword">default</span>  useStyles;
</code></pre>
<h6 data-id="heading-45">åŠ è½½é¡µé¢</h6>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Spin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">PageLoading</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>=<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">const</span> <span class="hljs-attr">contentStyle</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span> = {
        <span class="hljs-attr">padding</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">background</span>: <span class="hljs-string">'rgba(0, 0, 0, 0.05)'</span>,
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span>,
    };

    <span class="hljs-keyword">return</span> (

        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">height:</span> "<span class="hljs-attr">100vh</span>", // <span class="hljs-attr">å æ»¡è§†å£é«˜åº¦</span>
                <span class="hljs-attr">display:</span> "<span class="hljs-attr">flex</span>", // <span class="hljs-attr">å¯ç”¨</span> <span class="hljs-attr">flex</span> <span class="hljs-attr">å¸ƒå±€</span>
                <span class="hljs-attr">justifyContent:</span> "<span class="hljs-attr">center</span>", // <span class="hljs-attr">æ°´å¹³å±…ä¸­</span>
                <span class="hljs-attr">alignItems:</span> "<span class="hljs-attr">center</span>", // <span class="hljs-attr">å‚ç›´å±…ä¸­</span>
                <span class="hljs-attr">flexDirection:</span> "<span class="hljs-attr">column</span>", // <span class="hljs-attr">å­å…ƒç´ çºµå‘æ’åˆ—</span>
                <span class="hljs-attr">backgroundColor:</span> "#<span class="hljs-attr">f0f2f5</span>", // <span class="hljs-attr">è®¾ç½®èƒŒæ™¯è‰²</span>ï¼Œ<span class="hljs-attr">ä¸</span> <span class="hljs-attr">antd</span> <span class="hljs-attr">é»˜è®¤ä¸€è‡´</span>ï¼ˆ<span class="hljs-attr">å¯é€‰</span>ï¼‰
            }}
        &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Spin</span> <span class="hljs-attr">tip</span>=<span class="hljs-string">"Loading"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{contentStyle}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Spin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PageLoading</span>;
</code></pre>
<h4 data-id="heading-46">å…¨å±€æ ·å¼</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//åˆ é™¤index.css,App.cssæ–‡ä»¶</span>
<span class="hljs-comment">//AppServer\react-web\src\styles</span>
<span class="hljs-comment">//AppServer\react-web\src\styles\GlobalStyle.ts</span>


<span class="hljs-keyword">import</span> { createGlobalStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd-style"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">GlobalStyle</span> = <span class="hljs-title function_">createGlobalStyle</span>(
    <span class="hljs-function">(<span class="hljs-params">{ theme }</span>) =&gt;</span> <span class="hljs-string">`
html,body{
    height:100%;
    width:100%;
    background-color:<span class="hljs-subst">${theme.colorBgLayout}</span>;
}
body{
margin:0;
}
`</span>,
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">GlobalStyle</span>;
</code></pre>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span>/&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{MainRouter}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">GlobalStyle</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h4 data-id="heading-47">é¡µé¢å¸ƒå±€</h4>
<h5 data-id="heading-48">æ·»åŠ ä¸šåŠ¡è·¯ç”±</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {lazy} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">WindowsFilled</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/icons"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">MenuDataItem</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/pro-components"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Navigate</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">ServiceRouters</span>: <span class="hljs-title class_">MenuDataItem</span>[] = [
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"dashboard"</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"ä¸»é¡µ"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerAppPages/Dashboard"</span>))),
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"systemManager"</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"ç³»ç»Ÿç®¡ç†"</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">WindowsFilled</span>),
        <span class="hljs-attr">children</span>: [
            {
                <span class="hljs-attr">path</span>: <span class="hljs-string">"ChangeLogs"</span>,
                <span class="hljs-attr">name</span>: <span class="hljs-string">"æ›´æ–°æ—¥å¿—"</span>,
                <span class="hljs-attr">element</span>: (
                    <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerAppPages/ChangeLogs"</span>)))
                ),
            }
        ]
    },
    { <span class="hljs-comment">//é¡µé¢é‡å®šå‘</span>
        <span class="hljs-attr">index</span>:<span class="hljs-literal">true</span>,
        <span class="hljs-title class_">Component</span>: <span class="hljs-function">() =&gt;</span>
            <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">Navigate</span>, {
                <span class="hljs-attr">to</span>: <span class="hljs-string">"/dashboard"</span>,
            }),
    },
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ServiceRouters</span>;

</code></pre>
<h5 data-id="heading-49">ProLayout</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//https://procomponents.ant.design/components/layout</span>

<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">LogoutOutlined</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/icons'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">PageContainer</span>, <span class="hljs-title class_">ProSettings</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-components'</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">ProLayout</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-components'</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">Button</span>,
    <span class="hljs-title class_">Dropdown</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">HeartSvg</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../../public/log.svg"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span>, useLocation, useNavigate} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {<span class="hljs-title class_">Suspense</span>, useState} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PageLoading</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../System/PageLoading"</span>;
<span class="hljs-keyword">import</span> serviceRouters <span class="hljs-keyword">from</span> <span class="hljs-string">"@/router/ServiceRouters.ts"</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> [settings] = useState&lt;<span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">ProSettings</span>&gt;&gt;({
        <span class="hljs-attr">fixSiderbar</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">"mix"</span>,
        <span class="hljs-attr">splitMenus</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">navTheme</span>: <span class="hljs-string">"light"</span>,
        <span class="hljs-attr">contentWidth</span>: <span class="hljs-string">"Fluid"</span>,
        <span class="hljs-attr">colorPrimary</span>: <span class="hljs-string">"#FAAD14"</span>,
        <span class="hljs-attr">siderMenuType</span>: <span class="hljs-string">"sub"</span>,
        <span class="hljs-attr">fixedHeader</span>: <span class="hljs-literal">true</span>,
    });
    <span class="hljs-keyword">const</span> username =<span class="hljs-string">"admin"</span>;
    <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
    <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProLayout</span>
            {<span class="hljs-attr">...settings</span>} //<span class="hljs-attr">è®¾ç½®å±æ€§æ ·å¼é…ç½®</span>
            <span class="hljs-attr">logo</span>=<span class="hljs-string">{</span>
                &lt;<span class="hljs-attr">img</span>
                    <span class="hljs-attr">src</span>=<span class="hljs-string">{HeartSvg}</span>
                    <span class="hljs-attr">alt</span>=<span class="hljs-string">"logo"</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                        <span class="hljs-attr">height:</span> <span class="hljs-attr">24</span>,
                        <span class="hljs-attr">width:</span> "<span class="hljs-attr">auto</span>",
                        <span class="hljs-attr">objectFit:</span> "<span class="hljs-attr">contain</span>",
                        <span class="hljs-attr">verticalAlign:</span> "<span class="hljs-attr">middle</span>",
                    }}
                /&gt;</span>
            }
            title={"åšå®¢"}
            menuDataRender={() =&gt; serviceRouters} //ä¼ å…¥è·¯ç”±ç”Ÿæˆä¾§è¾¹èœå•æ 
            //å¤´éƒ¨æ ‡é¢˜ï¼Œé»˜è®¤antdå›¾æ ‡
            //é¢åŒ…å±‘ï¼Œæ ¹æ®ä¼ é€’çš„è·¯ç”±å
            breadcrumbRender={(routes = []) =&gt; {
                return routes.map((route) =&gt; {
                    return {
                        path: route.path,
                        breadcrumbName: route.breadcrumbName,
                    };
                });
            }}
            //å·¦ä¾§è¾¹æ æ ·å¼è®¾ç½®
            siderMenuType={"sub"}
            //å·¦ä¾§è¾¹æ åº•éƒ¨æ ·å¼
            menuFooterRender={(props) =&gt; {
                if (props?.collapsed) return undefined;
                return (
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">paddingBlockStart:</span> <span class="hljs-attr">12</span> }}&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Â© é©°åå•†æ ‡<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                );
            }}
            //ç›®å‰ä¸æ˜ç¡®
            location={location}
            //è·¯ç”±ç‚¹å‡»äº‹ä»¶
            menuItemRender={(item, dom) =&gt; {
                if (item.path) {
                    return <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">item.path</span>}`}&gt;</span>{dom}<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>;
                }
                return dom;
            }}
        &gt;
            {/* æ¸²æŸ“é€‰ä¸­çš„é¡µé¢å†…å®¹ */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span> /&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">PageContainer</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">PageContainer</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ProLayout</span>&gt;</span></span>
    );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Layout</span>;
</code></pre>
<h5 data-id="heading-50">é…ç½®ä¸»è·¯ç”±</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title class_">MainRouter</span>: <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createBrowserRouter&gt; = <span class="hljs-title function_">createBrowserRouter</span>([
    {
        <span class="hljs-attr">path</span>:<span class="hljs-string">"/"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/System/Layout"</span>))),
        <span class="hljs-attr">children</span>: serviceRouters
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"*"</span>,    <span class="hljs-comment">// ä½¿ç”¨path: "*",åŒ¹é…é…ç½®å…¨å±€404</span>
        <span class="hljs-attr">element</span>: (
            <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/System/NotFound"</span>)))
        ),
    }

]);
                             
                            
</code></pre>
<h5 data-id="heading-51">ç†è§£</h5>
<pre><code class="hljs language-tex" lang="tex">åº”ç”¨å¯åŠ¨æ—¶ï¼Œé€šè¿‡è·¯ç”±é…ç½®ä»¥ `path: "/"` ä¼˜å…ˆåŠ è½½ `Layout` ç»„ä»¶ï¼Œä½œä¸ºæ•´ä½“æ¡†æ¶çš„å®¹å™¨ã€‚

`Layout` ç»„ä»¶å†…éƒ¨é¢„å…ˆé…ç½®äº†ä¸šåŠ¡è·¯ç”±ï¼ˆ`serviceRouters`ï¼‰ï¼Œå°†å…¶è½¬æ¢ä¸ºä¾§è¾¹æ èœå•ï¼Œä¾§è¾¹æ ä¸­çš„é“¾æ¥å¦‚ `&lt;a href="/dashboard"&gt;ä¸»é¡µ&lt;/a&gt;` ã€‚

ç”¨æˆ·é¦–æ¬¡è®¿é—® `/` æ—¶ï¼Œé€šè¿‡è·¯ç”±é‡å®šå‘è·³è½¬åˆ° `/dashboard`ï¼Œç¡®ä¿è¿›å…¥ç³»ç»Ÿåé»˜è®¤æ˜¾ç¤ºä¸»é¡µå†…å®¹ã€‚

æ•´ä½“æµç¨‹æ˜¯ï¼š`Layout` è´Ÿè´£æ¡†æ¶ç»“æ„ï¼ˆä¾§è¾¹æ ã€å¤´éƒ¨ã€é¡µè„šï¼‰ï¼Œä¸šåŠ¡è·¯ç”±è´Ÿè´£å…·ä½“é¡µé¢å†…å®¹æ¸²æŸ“ï¼Œå®ç°äº†æ¡†æ¶ä¸ä¸šåŠ¡çš„åˆ†ç¦»ä¸è§£è€¦ã€‚

åº”ç”¨æŒ‚è½½ç‚¹åªæŒ‚è½½å…¨å±€è·¯ç”±é…ç½®ï¼Œç»´æŠ¤ç®€æ´ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ï¼Œä»¥æ­¤åˆ†å¼€ä¸»è·¯ç”±å’Œä¸šåŠ¡è·¯ç”±
</code></pre>
<h4 data-id="heading-52">æ‹“å±•</h4>
<h5 data-id="heading-53">è·¯å¾„ä¼˜åŒ–</h5>
<blockquote>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvite-tsconfig-paths" target="_blank" title="https://www.npmjs.com/package/vite-tsconfig-paths" ref="nofollow noopener noreferrer"><code>vite-tsconfig-paths</code></a></strong></p>
</blockquote>
<p>å®ƒçš„ä½œç”¨å°±æ˜¯ï¼š
<strong>è‡ªåŠ¨è¯»å–ä½ çš„ <code>tsconfig.json</code> æˆ– <code>jsconfig.json</code> é‡Œçš„è·¯å¾„åˆ«åé…ç½®</strong>ï¼Œå¹¶åœ¨ Vite ä¸­ç”Ÿæ•ˆï¼Œæ— éœ€æ‰‹åŠ¨åœ¨ <code>vite.config.ts</code> ä¸­å†™ <code>alias</code>ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript">æ•ˆæœï¼š
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MainRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../router/MainRouter.ts"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MainRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/router/MainRouter.ts"</span>;
</code></pre>
<ol>
<li>å®‰è£…ä¾èµ–</li>
</ol>
<pre><code class="hljs language-css" lang="css">npm install vite-tsconfig-paths <span class="hljs-attr">--save-dev</span>
</code></pre>
<ol start="2">
<li>é…ç½® vite.config.ts</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;
<span class="hljs-keyword">import</span> tsconfigPaths <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-tsconfig-paths'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">react</span>(),
    <span class="hljs-title function_">tsconfigPaths</span>(), <span class="hljs-comment">// ğŸ‘ˆ è‡ªåŠ¨è¯»å– tsconfig.json ä¸­çš„ paths</span>
  ],
});
</code></pre>
<ol start="3">
<li>è®¾ç½® tsconfig.json ä¸­çš„è·¯å¾„åˆ«å</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// tsconfig.app.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
   
    <span class="hljs-comment">//å¼•ç”¨è·¯å¾„æ›¿ä»£</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// è®¾ç½®åŸºå‡†è·¯å¾„ä¸ºé¡¹ç›®æ ¹ç›®å½•</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/*"</span><span class="hljs-punctuation">]</span>  <span class="hljs-comment">// ç°åœ¨å¯ä»¥å·¥ä½œ</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¼˜ç‚¹</p>
<ul>
<li>ä¸éœ€è¦æ‰‹åŠ¨å†™ <code>resolve.alias</code>ã€‚</li>
<li>æ”¯æŒå¤šä¸ªåˆ«åï¼Œå¦‚ <code>"@components/*": ["src/components/*"]</code>ã€‚</li>
<li>å’Œ <code>tsc</code> / IDE / ESLint / Jest ä¿æŒä¸€è‡´æ€§ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub Fork åä½œå®Œæ•´æµç¨‹]]></title>    <link>https://juejin.cn/post/7592887786967466020</link>    <guid>https://juejin.cn/post/7592887786967466020</guid>    <pubDate>2026-01-09T08:17:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786967466020" data-draft-id="7592887786967416868" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub Fork åä½œå®Œæ•´æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Git,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-09T08:17:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çœ¯çœ¼å› ä¸ºå¾ˆå›°å•¦"/> <meta itemprop="url" content="https://juejin.cn/user/2718423318278718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub Fork åä½œå®Œæ•´æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2718423318278718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çœ¯çœ¼å› ä¸ºå¾ˆå›°å•¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:17:17.000Z" title="Fri Jan 09 2026 08:17:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GitHub Fork åä½œå®Œæ•´æµç¨‹</h2>
<blockquote>
<p>é€‚ç”¨äºï¼šå¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘ã€æ’ä»¶æ‰©å±•ã€ç»™ä¸Šæ¸¸é¡¹ç›®æäº¤ PRï¼ˆPull Requestï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Fork æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Fork æ˜¯æŠŠåˆ«äººçš„ GitHub ä»“åº“å¤åˆ¶ä¸€ä»½åˆ°ä½ è‡ªå·±çš„è´¦å·ä¸‹ï¼š</p>
<pre><code class="hljs">åŸä»“åº“ï¼ˆupstreamï¼‰ â†’ ä½ çš„ä»“åº“ï¼ˆoriginï¼‰
</code></pre>
<p>ä½ åœ¨è‡ªå·±çš„ä»“åº“é‡Œå¯ä»¥éšæ„ä¿®æ”¹ä»£ç ï¼Œè€Œä¸ä¼šå½±å“åŸé¡¹ç›®ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€æ•´ä½“åä½œæµç¨‹</h3>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[åŸé¡¹ç›® GitHub ä»“åº“]</span> --&gt;|Fork| <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[ä½ è‡ªå·±çš„ GitHub ä»“åº“]</span>
    <span class="hljs-selector-tag">B</span> --&gt;|git clone| C<span class="hljs-selector-attr">[ä½ çš„æœ¬åœ°ä»“åº“]</span>
    <span class="hljs-selector-tag">A</span> --&gt;|git fetch upstream| C
    C --&gt;|git merge upstream/<span class="hljs-selector-tag">main</span>| C
    C --&gt;|git push origin| <span class="hljs-selector-tag">B</span>
    <span class="hljs-selector-tag">B</span> --&gt;|Pull Request| <span class="hljs-selector-tag">A</span>
</code></pre>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€Fork é¡¹ç›®ï¼ˆç½‘é¡µæ“ä½œï¼‰</h3>
<ol>
<li>
<p>æ‰“å¼€ä½ è¦ Fork çš„ä»“åº“ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//github.com/vercel/<span class="hljs-keyword">next</span>.js
</code></pre>
</li>
<li>
<p>ç‚¹å‡»å³ä¸Šè§’ <strong>Fork</strong></p>
</li>
<li>
<p>é€‰æ‹©ä½ çš„ GitHub è´¦å·</p>
</li>
<li>
<p>å¾—åˆ°ä½ çš„ä»“åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/ä½ çš„ç”¨æˆ·å/next.js
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-4">å››ã€Clone åˆ°æœ¬åœ°</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/ä½ çš„ç”¨æˆ·å/next.js.git
<span class="hljs-built_in">cd</span> next.js
</code></pre>
<hr/>
<h3 data-id="heading-5">äº”ã€é…ç½® upstreamï¼ˆéå¸¸é‡è¦ï¼‰</h3>
<p>æŸ¥çœ‹å½“å‰è¿œç¨‹ä»“åº“ï¼š</p>
<pre><code class="hljs">git remote -v
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">origin https://github.com/ä½ çš„ç”¨æˆ·å/next.js.git
</code></pre>
<p>æ·»åŠ åŸä»“åº“ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">git remote <span class="hljs-keyword">add</span> upstream https:<span class="hljs-comment">//github.com/vercel/next.js.git</span>
</code></pre>
<p>å†ç¡®è®¤ï¼š</p>
<pre><code class="hljs">git remote -v
</code></pre>
<p>åº”è¯¥æ˜¯ï¼š</p>
<pre><code class="hljs">origin   ä½ è‡ªå·±çš„ä»“åº“
upstream åŸé¡¹ç›®ä»“åº“
</code></pre>
<hr/>
<h3 data-id="heading-6">å…­ã€åŒæ­¥åŸé¡¹ç›®æœ€æ–°ä»£ç ï¼ˆæ ‡å‡†æµç¨‹ï¼‰</h3>
<pre><code class="hljs language-css" lang="css">git checkout <span class="hljs-selector-tag">main</span>
git fetch upstream
git merge upstream/<span class="hljs-selector-tag">main</span>
git push origin <span class="hljs-selector-tag">main</span>
</code></pre>
<p>å«ä¹‰ï¼š</p>
<blockquote>
<p>ç”¨åŸä½œè€…çš„ main æ›´æ–°ä½ çš„ mainï¼Œå¹¶æ¨é€åˆ°ä½ è‡ªå·±çš„ GitHub</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">ä¸ƒã€å¼€å‘ä½ çš„åŠŸèƒ½</h3>
<pre><code class="hljs language-perl" lang="perl">git checkout -b <span class="hljs-keyword">my</span>-feature
<span class="hljs-comment"># ä¿®æ”¹ä»£ç </span>
git add .
git commit -m <span class="hljs-string">"Add my feature"</span>
git <span class="hljs-keyword">push</span> origin <span class="hljs-keyword">my</span>-feature
</code></pre>
<hr/>
<h3 data-id="heading-8">å…«ã€æäº¤ Pull Request</h3>
<ol>
<li>
<p>æ‰“å¼€ä½ çš„ GitHub ä»“åº“</p>
</li>
<li>
<p>GitHub ä¼šæç¤ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Compare</span> &amp; Pull Request
</code></pre>
</li>
<li>
<p>ç‚¹å‡»å¹¶å¡«å†™è¯´æ˜</p>
</li>
<li>
<p>æäº¤ â†’ åŸé¡¹ç›®ç»´æŠ¤è€…å®¡æ ¸</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-9">ä¹ã€ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ upstreamï¼Ÿ</h3>

















<table><thead><tr><th>è¿œç¨‹å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>origin</td><td>ä½ è‡ªå·±çš„ GitHub ä»“åº“</td></tr><tr><td>upstream</td><td>åŸä½œè€…çš„ GitHub ä»“åº“</td></tr></tbody></table>
<p>ä½ åªå‘ origin pushï¼Œä½†è¦ä» upstream è·å–æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<hr/>
<h3 data-id="heading-10">åã€fetch vs merge çš„æ­£ç¡®ç”¨æ³•</h3>
<pre><code class="hljs language-rust" lang="rust">sequenceDiagram
    participant U <span class="hljs-keyword">as</span> GitHub upstream
    participant L <span class="hljs-keyword">as</span> Local Repo
    participant O <span class="hljs-keyword">as</span> GitHub origin

    U<span class="hljs-punctuation">-&gt;</span>&gt;L: git fetch upstream
    L<span class="hljs-punctuation">-&gt;</span>&gt;L: upstream/main æ›´æ–°
    L<span class="hljs-punctuation">-&gt;</span>&gt;L: git merge upstream/main
    L<span class="hljs-punctuation">-&gt;</span>&gt;O: git push origin main
</code></pre>
<ul>
<li><code>fetch</code> = ä¸‹è½½çœŸå®ä¸–ç•Œ</li>
<li><code>merge</code> = ä½¿ç”¨çœŸå®ä¸–ç•Œ</li>
</ul>
<p>æ°¸è¿œä¸è¦è·³è¿‡ fetchã€‚</p>
<hr/>
<h3 data-id="heading-11">åä¸€ã€é”™è¯¯ç¤ºä¾‹ï¼ˆä¸è¦è¿™æ ·ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">git merge upstream/main   <span class="hljs-comment"># âŒ å¦‚æœä½ æ²¡å…ˆ fetch</span>
</code></pre>
<p>ä½ åˆå¹¶çš„å¯èƒ½æ˜¯ <strong>å‡ ä¸ªæœˆå‰ç¼“å­˜çš„ upstream</strong>ï¼Œéå¸¸å±é™©ã€‚</p>
<hr/>
<h3 data-id="heading-12">åäºŒã€æœ€ä½³å®è·µæ€»ç»“</h3>
<blockquote>
<p>Fork é¡¹ç›®çš„ç”Ÿå­˜æ³•åˆ™</p>
</blockquote>
<pre><code class="hljs language-sql" lang="sql">åªå‘ origin å†™ä»£ç   
åªä» upstream è¯»æ›´æ–°  
<span class="hljs-keyword">fetch</span> åœ¨å‰ï¼Œ<span class="hljs-keyword">merge</span> åœ¨å
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593077945015779355</link>    <guid>https://juejin.cn/post/7593077945015779355</guid>    <pubDate>2026-01-09T08:20:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593077945015779355" data-draft-id="7592992745574465574" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:20:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="whisper"/> <meta itemprop="url" content="https://juejin.cn/user/2814366169706040"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2814366169706040/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    whisper
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:20:16.000Z" title="Fri Jan 09 2026 08:20:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ å¼€å‘ç¯å¢ƒå‡†å¤‡ (æœ¬åœ°)</h3>
<ol>
<li><strong>æ¨èåŒ…ç®¡ç†å™¨</strong>ï¼šä½¿ç”¨ <code>pnpm</code> æ›¿ä»£ <code>npm</code> ä»¥è·å¾—æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œæ›´æ¸…æ™°çš„ä¾èµ–ç®¡ç†ã€‚</li>
</ol>
<p>å¦‚æœå·²ç»ä½¿ç”¨npmæ„å»ºï¼Œé‚£ä¹ˆå…ˆåˆ æ‰node_modulesæ–‡ä»¶å¤¹ï¼Œå®‰è£…pnpm</p>
<pre><code class="hljs">pnpm install
</code></pre>
<ol start="2">
<li><strong>Node.js ç‰ˆæœ¬é™åˆ¶</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>package.json</code> ä¸­æ˜¾å¼æŒ‡å®šï¼š</p>
<ul>
<li>
<ul>
<li>JSON</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"20.x"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li><strong>é™æ€æ¨¡å¼é…ç½® (SPA)</strong> ï¼š</li>
</ol>
<p>è‹¥ä¸éœ€è¦ SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼Œåœ¨ <code>react-router.config.ts</code> ä¸­è®¾ç½®ï¼š</p>
<ul>
<li>
<ul>
<li>TypeScript</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> { ssr: <span class="hljs-literal">false</span> } satisfies Config;
</code></pre>
<ol start="4">
<li><strong>å…³è”githubåŠvercel</strong></li>
</ol>
<p>æœ¬åœ°ä»£ç æäº¤åˆ°githubï¼ŒåŒæ—¶ç™»å½•vercelå¹³å°ï¼Œå°†vercelä¸githubå…³è”ä¸Šï¼Œåç»­ä½ åœ¨æœ¬åœ°æ”¹åŠ¨äº†ä»£ç å¹¶æäº¤åˆ°githubåï¼Œè®¿é—®vercelå¹³å°çš„é¡¹ç›®åŸŸåå°±èƒ½çœ‹åˆ°æ”¹åŠ¨çš„å†…å®¹äº†</p>
<hr/>
<h3 data-id="heading-1">äºŒã€ é™æ€èµ„æºä¸å›¾æ ‡ (Icon)</h3>
<ol>
<li><strong>æ–‡ä»¶å­˜æ”¾</strong>ï¼šæ‰€æœ‰çš„å›¾ç‰‡ã€SVG å›¾æ ‡å¿…é¡»æ”¾åœ¨æ ¹ç›®å½•çš„ <code>public/</code> æ–‡ä»¶å¤¹ä¸‹ã€‚</li>
<li><strong>é¡µé¢å¼•å…¥</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>app/root.tsx</code> çš„ <code>links</code> å‡½æ•°ä¸­é…ç½®ï¼š</p>
<ul>
<li>
<ul>
<li>TypeScript</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">export const links: <span class="hljs-attr">LinksFunction</span> = () =&gt; [
  { rel: <span class="hljs-string">"icon"</span>, type: <span class="hljs-string">"image/svg+xml"</span>, href: <span class="hljs-string">"/logo.svg"</span> },
]<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ Vercel éƒ¨ç½²å…³é”®ç‚¹ (æœ€é‡è¦)</h3>
<p>å¦‚æœä½ é‡åˆ° <code>now-php</code> æˆ– <code>Function Runtimes</code> æŠ¥é”™ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š</p>
<p><code>vercel.json</code> <strong>é…ç½®</strong>ï¼ˆå¼ºåˆ¶é™æ€é‡å†™ï¼Œé˜²æ­¢ 404ï¼‰ï¼š</p>
<ol>
<li>JSON</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"framework"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rewrites"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/(.*)"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"destination"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol start="2">
<li><strong>Vercel åå°è®¾ç½®</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><strong>Framework Preset</strong>: ä¼˜å…ˆé€‰æ‹© <code>Vite</code>ï¼›å¦‚æœè¢«é”å®šä¸º <code>React Router</code>ï¼Œè¯·ç¡®ä¿æ‰‹åŠ¨å¼€å¯ <strong>Build and Output Settings</strong>ã€‚</li>
<li><strong>Build Command</strong>: <code>pnpm build</code></li>
<li><strong>Output Directory</strong>: <code>dist</code>ï¼ˆå¦‚æœåœ¨è„šæœ¬ä¸­æ‰‹åŠ¨ç§»åŠ¨äº†äº§ç‰©ï¼‰æˆ– <code>build/client</code>ã€‚</li>
<li><strong>Install Command</strong>: <code>pnpm install</code></li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-3">å››ã€ è‡ªå®šä¹‰åŸŸå</h3>
<ol>
<li><strong>ä¿®æ”¹ Vercel é»˜è®¤åŸŸå</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><code>Settings</code> -&gt; <code>Domains</code> -&gt; <code>Edit</code>ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ <code>xxx.vercel.app</code> çš„å‰ç¼€ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ç»‘å®šç‹¬ç«‹åŸŸå</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åœ¨ <code>Domains</code> é¡µé¢è¾“å…¥ä½ è´­ä¹°çš„åŸŸåã€‚</li>
<li><strong>DNS é…ç½®</strong>ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><strong>A è®°å½•</strong>ï¼šæŒ‡å‘ <code>76.76.21.21</code>ã€‚</li>
<li><strong>CNAME è®°å½•</strong>ï¼šæŒ‡å‘ <code>cname.vercel-dns.com</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-4">ğŸ’¡ æ ¸å¿ƒé¿å‘å¿ƒå¾—</h3>
<ul>
<li><strong>æ¸…ç†ç¼“å­˜</strong>ï¼šéƒ¨ç½²æŠ¥é”™æ—¶ï¼Œå°è¯•åˆ é™¤ Vercel é¡¹ç›®é‡æ–°å¯¼å…¥ï¼Œå¹¶ç¡®ä¿ <code>pnpm-lock.yaml</code> æ˜¯æœ€æ–°çš„ã€‚</li>
<li><strong>è·¯å¾„å¤§å°å†™</strong>ï¼šVercel çš„ Linux ç¯å¢ƒå¯¹æ–‡ä»¶åå¤§å°å†™æ•æ„Ÿï¼Œç¡®ä¿ <code>import</code> è·¯å¾„ä¸æ–‡ä»¶åå®Œå…¨ä¸€è‡´ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†]]></title>    <link>https://juejin.cn/post/7592922036093222927</link>    <guid>https://juejin.cn/post/7592922036093222927</guid>    <pubDate>2026-01-09T08:23:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592922036093222927" data-draft-id="7592939457043529780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†"/> <meta itemprop="keywords" content="Vue.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:23:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾å¾å­"/> <meta itemprop="url" content="https://juejin.cn/user/1724455245584872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1724455245584872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾å¾å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:23:32.000Z" title="Fri Jan 09 2026 08:23:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>vueæºä»£ç çš„å†…å®¹éå¸¸ä¹‹å¤šï¼ŒåŒ…æ‹¬æ¨¡æ¿è§£æï¼ˆæŠŠvueæ–‡ä»¶çš„å†™æ³•è§£ææˆä¸€ä¸ªå‡½æ•°ç”¨æ¥æ’å…¥domæˆ–è€…è°ƒæ•´domï¼‰ï¼Œä¾èµ–æ”¶é›†ï¼Œå“åº”å¼ï¼Œäº‹ä»¶å¤„ç†ï¼Œæ’æ§½ï¼Œç»„ä»¶ï¼ŒæŒ‡ä»¤ï¼Œç­‰ç­‰ç­‰ã€‚åˆšå¼€å§‹çœ‹æ—¶ä¸çŸ¥é“ä»ä½•çœ‹èµ·ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸ªä¸ªäººçš„å­¦ä¹ æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€äº›å…³é”®çš„apiå¼€å§‹é€æ­¥å­¦ä¹ ï¼Œè¿™é‡Œæ¨è reactiveï¼Œwatchã€‚æ˜ç™½äº†è¿™ä¸¤ä¸ªapiæ—¶å¦‚ä½•å·¥ä½œçš„ï¼Œé‚£vueçš„å“åº”å¼ç³»ç»Ÿå°±åŸºæœ¬ç†è§£äº†ã€‚</p>
<h3 data-id="heading-2">let`s start</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// demo.js</span>
<span class="hljs-keyword">import</span> { reactive, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'./vue-core.js'</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
})
<span class="hljs-title function_">watch</span>(user, <span class="hljs-function">(<span class="hljs-params">newValue, oldValue</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
    <span class="hljs-string">`User changed from <span class="hljs-subst">${oldValue.name}</span>,<span class="hljs-subst">${oldValue.age}</span> to <span class="hljs-subst">${newValue.name}</span>,<span class="hljs-subst">${newValue.age}</span>`</span>
  )
})
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  user.<span class="hljs-property">name</span> = <span class="hljs-string">'Bob'</span>
  user.<span class="hljs-property">age</span> = <span class="hljs-number">30</span>
}, <span class="hljs-number">1000</span>)

</code></pre>
<p>æœ´ç´ çš„ç¤ºä¾‹ï¼Œå¦‚æœuserå‘ç”Ÿäº†å˜åŒ–ã€‚é‚£ä¹ˆå°±ä¼šè§¦å‘watchçš„å›è°ƒã€‚è„±ç¦»vueæ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦å¦‚ä½•è®¾è®¡å‘¢ï¼Œé¦–å…ˆæƒ³åˆ°çš„ç®€å•é€»è¾‘å°±æ˜¯æ‹¦æˆªuserçš„setå’Œgetã€‚æ— è®ºæ˜¯é€šè¿‡Proxyè¿˜æ˜¯Objectçš„setï¼ŒåŸç†æ˜¯ä¸€æ ·çš„ã€‚</p>
<pre><code class="hljs language-vue-core.js" lang="vue-core.js">let activeSub = null // å½“å‰æ´»è·ƒçš„è®¢é˜…è€…
const targetMap = new WeakMap()

export function reactive(obj) {
  return new Proxy(obj, {
    get(target, key, receiver) {
      track(target, key)
      return Reflect.get(target, key, receiver)
    },
    set(target, key, value, receiver) {
      const res = Reflect.set(target, key, value, receiver)
      trigger(target, key)
      return res
    }
  })
}
// ç®€åŒ–ç‰ˆwatchå®ç°,åªè€ƒè™‘ç›‘å¬ä¸€ä¸ªreactiveå¯¹è±¡ï¼ˆç±»ä¼¼ä¸Šé¢çš„userä¾‹å­ï¼‰çš„å˜åŒ–
export function watch(source, cb) {
  const getter = () =&gt; {
    for (const key in source) {
      source[key]
    }
    return source
  }
  let oldValue
  const effect = new ReactiveEffect(getter)
  const job = () =&gt; {
    const newValue = effect.run()
    //todo å¯¹æ¯”newValueå’ŒoldValueæ˜¯å¦æœ‰å˜åŒ–
    cb(newValue, oldValue)
    oldValue = newValue
  }
  effect.schedule = job
  oldValue = effect.run()
  console.log('old', oldValue)
}

// ç¤ºä¾‹è§£é‡Šï¼šæœé›†userä¸­æ¯ä¸ªkeyçš„ä¸‹æ¸¸ä¾èµ–ï¼Œå½“userçš„nameæˆ–ageå˜åŒ–æ—¶ï¼Œè§¦å‘å¯¹åº”çš„ä¾èµ–æ›´æ–°ï¼Œä»è€Œè°ƒç”¨watchçš„å›è°ƒå‡½æ•°ã€‚
function track(target, key) {
  let depsMap = targetMap.get(target)
  if (!depsMap) {
    targetMap.set(target, (depsMap = new Map()))
  }
  let dep = depsMap.get(key)
  if (!dep) {
    depsMap.set(key, (dep = new Dep()))
  }
  dep.track()
}
function trigger(target, key) {
  const depsMap = targetMap.get(target)
  if (!depsMap) return
  const dep = depsMap.get(key)
  if (dep) {
    dep.trigger()
  }
}

function Dep() {
  this.subs = new Set()
  this.track = () =&gt; {
    // å€ŸåŠ©å…¨å±€å˜é‡activeSubè®°å½•å½“å‰æ´»è·ƒçš„è®¢é˜…è€…
    if (activeSub) {
      this.subs.add(activeSub)
    }
  }
  this.trigger = () =&gt; {
    this.subs.forEach((sub) =&gt; {
      sub.notify()
    })
  }
}

function ReactiveEffect(fn) {
  this.fn = fn
  this.notify = null // å›è°ƒå‡½æ•°, å¯ç±»æ¯”äºwatchçš„cbç”¨æ¥è¾…åŠ©ç†è§£
  this.schedule = null
  this.run = () =&gt; {
    // æ ‡è®°å½“å‰æ´»è·ƒçš„è®¢é˜…è€…ä¸ºthis é€šè¿‡fnè§¦å‘æ¯ä¸ªrefæˆ–è€…reactiveå¯¹è±¡çš„getter
    // ä»è€Œè§¦å‘trackå‡½æ•°ï¼Œå°†å½“å‰æ´»è·ƒçš„è®¢é˜…è€…thisæ·»åŠ åˆ°depçš„subsä¸­
    const preActiveSub = activeSub
    activeSub = this
    const value = this.fn()
    activeSub = preActiveSub
    return value
  }
  // ä¸Šæ¸¸çš„refæˆ–è€…reactiveå¯¹è±¡è§¦å‘setteræ—¶ï¼Œä¼šé€šè¿‡æ”¶é›†è€…è°ƒç”¨triggerå‡½æ•°ï¼Œä»è€Œè§¦å‘scheduleå‡½æ•°ï¼Œåœ¨watchä¸­å°±æ˜¯cbå‡½æ•°
  this.trigger = () =&gt; {
    this.schedule?.()
  }
  this.notify = () =&gt; {
    this.trigger()
  }
}


</code></pre>
<p>ä»ä¸Šé¢çš„demoä¸­æˆ‘ä»¬åˆæ­¥å®ç°äº†userå˜åŠ¨æ—¶è°ƒç”¨ä¸€ä¸ªå›è°ƒï¼Œdepsè¡¨ç¤ºâ€œä¾èµ–â€ï¼Œé€šä¿—çš„ç†è§£å°±æ˜¯æœ‰å¤šå°‘ä¸ªä¸‹æ¸¸æ­£åœ¨ä¾èµ–userï¼Œä¾‹å¦‚computedï¼Œwatchï¼Œrenderå‡½æ•°ç­‰ç­‰è¿™äº›çš„æœ€ç»ˆç»“æœéƒ½æ˜¯æ ¹æ®ä¸Šæ¸¸æ¥å˜åŠ¨çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ea5b4ca808c4f92ad4f667b53d72641~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5b6Q5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551812&amp;x-signature=zZe3IG9xoTjpn77lYac00AbsKMQ%3D" alt="3a7131ea44dd9bfb4726e7f3af8f988ce8045f8de77b904d636c9d9b0ff74207.png" loading="lazy"/></p>
<p>è¿™é‡Œé¢å…¶å®å°±ä¸¤ä¸ªæ¦‚å¿µéœ€è¦ç†è§£ï¼Œä¸€ä¸ªæ˜¯ä¾èµ–æ”¶é›†è€… Depï¼Œä¸€ä¸ªæ˜¯å“åº”å‰¯ä½œç”¨ç®¡ç†å™¨ ReactiveEffectã€‚å€ŸåŠ©ä¾‹å­ï¼ŒDep ç†è§£ä¸ºç”¨æ¥ç®¡ç†userä¸­æ¯ä¸ªkeyéƒ½æœ‰å“ªäº›watchæ­£åœ¨ç›‘å¬ã€‚è€Œ ReactiveEffect ç†è§£ä¸ºå½“userçš„æŸä¸ªkeyå‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦è°ƒç”¨å“ªäº›watchçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>è°ƒç”¨watchçš„è¿‡ç¨‹å…¶å®å…³æ³¨çš„å°±æ˜¯  oldValue = effect.run() è¿™ä¸€æ®µä»£ç ã€‚åœ¨åˆ›å»ºwatchæ—¶ï¼Œä¼šç«‹å³è°ƒç”¨effect.run()ï¼Œä»è€Œè§¦å‘userçš„getterï¼Œä»è€Œè§¦å‘trackå‡½æ•°ï¼Œå°†å½“å‰æ´»è·ƒçš„è®¢é˜…è€…effectæ·»åŠ åˆ°user.nameå’Œuser.ageçš„depä¸­ã€‚è¿™æ ·ï¼Œå½“user.nameæˆ–user.ageå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘triggerå‡½æ•°ï¼Œä»è€Œè°ƒç”¨effectçš„notifyå‡½æ•°ï¼Œä»è€Œè°ƒç”¨watchçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>ç»„ä»¶æ¸²æŸ“å…¶å®å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„watchï¼Œwatchçš„å›è°ƒå‡½æ•°å°±æ˜¯æ¸²æŸ“å‡½æ•°ã€‚å½“userçš„nameæˆ–ageå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘æ¸²æŸ“å‡½æ•°ï¼Œä»è€Œæ›´æ–°domã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰]]></title>    <link>https://juejin.cn/post/7592939457043726388</link>    <guid>https://juejin.cn/post/7592939457043726388</guid>    <pubDate>2026-01-09T08:46:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592939457043726388" data-draft-id="7592939457043349556" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Electron,Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T08:46:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="musashi"/> <meta itemprop="url" content="https://juejin.cn/user/4072246799240072"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246799240072/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    musashi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:46:46.000Z" title="Fri Jan 09 2026 08:46:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Mac ä¸Šä¸€ç›´æœªèƒ½æ‰¾åˆ°å…è´¹ä¸”å¥½ç”¨çš„ç±»ä¼¼ Wallpaper Engine çš„åŠ¨æ€å£çº¸è½¯ä»¶ã€‚æ‰€ä»¥ç›´æ¥æƒ³ç€è‡ªå·±æä¸€ä¸ªã€‚</p>
<p>æœ¬æ–‡ä¸»è¦è®°å½•æ ¸å¿ƒæŠ€æœ¯ç‚¹çš„å®ç°ï¼ŒåŒ…æ‹¬â€œå°†çª—å£ç½®äºæ¡Œé¢å›¾æ ‡ä¸‹å±‚â€ã€â€œå¤šæ˜¾ç¤ºå™¨æ”¯æŒâ€ã€â€œç³»ç»Ÿæ‰˜ç›˜å¸¸é©»â€ã€‚</p>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/287c98bf651a4a06934c604bc032785b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbXVzYXNoaQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768553772&amp;x-signature=MvFAzM5UTh1rTEbjQIDdOnbjp84%3D" alt="output.gif" loading="lazy"/></p>
<h2 data-id="heading-0">åŠŸèƒ½æ”¯æŒ</h2>
<ul>
<li><strong>æ§åˆ¶ä¸­å¿ƒ (Dashboard)</strong>ï¼šæä¾›ç‹¬ç«‹çš„æ§åˆ¶é¢æ¿ï¼Œå¯ä¸ºæ¯ä¸ªæ˜¾ç¤ºå™¨å•ç‹¬ç®¡ç†å£çº¸ã€‚</li>
<li><strong>ä¸°å¯Œçš„åª’ä½“æ”¯æŒ</strong>ï¼š
<ul>
<li><strong>å›¾ç‰‡</strong>ï¼šæ”¯æŒ JPG, PNG, GIF, WebP ç­‰å¸¸è§æ ¼å¼ã€‚</li>
<li><strong>è§†é¢‘</strong>ï¼šæ”¯æŒ MP4, WebM, MKV, MOV (è‡ªåŠ¨é™éŸ³å¾ªç¯æ’­æ”¾)ã€‚</li>
<li><strong>HTML</strong>ï¼šæ”¯æŒå°†ä»»æ„æœ¬åœ° HTML æ–‡ä»¶è®¾ç½®ä¸ºäº¤äº’å¼å£çº¸ã€‚</li>
</ul>
</li>
<li><strong>è‡ªåŠ¨ä¿å­˜çŠ¶æ€</strong>ï¼šåº”ç”¨é‡å¯åï¼Œè‡ªåŠ¨æ¢å¤ä¸Šæ¬¡è®¾ç½®çš„å£çº¸é…ç½®ã€‚</li>
<li><strong>å†å²è®°å½•</strong>ï¼šè‡ªåŠ¨è®°å½•æœ€è¿‘ä½¿ç”¨çš„å£çº¸ï¼Œæ–¹ä¾¿å¿«é€Ÿåˆ‡æ¢å›ä¹‹å‰çš„å–œçˆ±å†…å®¹ã€‚</li>
<li><strong>å¤šæ˜¾ç¤ºå™¨æ”¯æŒ</strong>ï¼šè‡ªåŠ¨æ£€æµ‹æ¥å…¥çš„æ˜¾ç¤ºå™¨ï¼Œå¹¶æ”¯æŒå¤šå±ç‹¬ç«‹è®¾ç½®ã€‚</li>
<li><strong>åœ¨çº¿ç”»å»Š</strong>ï¼šå†…ç½®åœ¨çº¿èµ„æºåº“ï¼Œå¯ä¸€é”®ä¸‹è½½åŒ…æ‹¬ã€Šç»åŒºé›¶ã€‹ã€ã€ŠåŸç¥ã€‹ã€ã€Šé¸£æ½®ã€‹ç­‰çƒ­é—¨æ¸¸æˆçš„é«˜æ¸…é™æ€ä¸åŠ¨æ€å£çº¸ã€‚</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒæŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-2">1. å°†çª—å£ç½®äºæ¡Œé¢å›¾æ ‡ä¸‹å±‚</h3>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚Electron çš„ <code>BrowserWindow</code> æä¾›äº†ä¸€ä¸ª <code>type: 'desktop'</code> å±æ€§ï¼Œåœ¨ macOS ä¸Šä¼šå°†çª—å£ç½®äºæœ€åº•å±‚ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'desktop'</span>, <span class="hljs-comment">// å…³é”®é…ç½®ï¼šè®¾ç½®ä¸ºæ¡Œé¢ç±»å‹</span>
  <span class="hljs-attr">enableLargerThanScreen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">frame</span>: <span class="hljs-literal">false</span>,    <span class="hljs-comment">// æ— è¾¹æ¡†</span>
  <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,     <span class="hljs-comment">// å…ˆéšè—ï¼ŒåŠ è½½å®Œå†æ˜¾ç¤º</span>
  <span class="hljs-attr">webPreferences</span>: {
    <span class="hljs-attr">nodeIntegration</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">contextIsolation</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">webSecurity</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// å…è®¸åŠ è½½æœ¬åœ°èµ„æº</span>
  }
});
</code></pre>
<p>ä»…ä»…è¿™æ ·è¿˜ä¸å¤Ÿï¼Œä¸ºäº†ä¿è¯äº¤äº’ä½“éªŒï¼Œæˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªçª—å£æ— æ³•è¢«èšç„¦å’Œç§»åŠ¨ï¼ŒåƒçœŸæ­£çš„å£çº¸ä¸€æ ·ã€‚</p>
<h3 data-id="heading-3">2. å¤šæ˜¾ç¤ºå™¨æ”¯æŒ</h3>
<p>ç°åœ¨çš„å¼€å‘ç¯å¢ƒé€šå¸¸éƒ½æœ‰å¤šä¸ªå±å¹•ã€‚é€šè¿‡ Electron çš„ <code>screen</code> æ¨¡å—è·å–æ‰€æœ‰æ˜¾ç¤ºå™¨ï¼Œå¹¶ä¸ºæ¯ä¸ªæ˜¾ç¤ºå™¨åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ BrowserWindow å®ä¾‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { screen } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);

<span class="hljs-keyword">const</span> displays = screen.<span class="hljs-title function_">getAllDisplays</span>();

displays.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">display</span>) =&gt;</span> {
  <span class="hljs-title function_">createWallpaperWindow</span>(display);
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createWallpaperWindow</span>(<span class="hljs-params">display</span>) {
  <span class="hljs-keyword">const</span> { x, y, width, height } = display.<span class="hljs-property">bounds</span>;
  <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
    x, y, width, height, <span class="hljs-comment">// å¡«æ»¡å½“å‰å±å¹•</span>
    <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  });
  
  <span class="hljs-comment">// åŠ è½½èµ„æº</span>
  win.<span class="hljs-title function_">loadFile</span>(<span class="hljs-string">'path/to/wallpaper.html'</span>);
}
</code></pre>
<h3 data-id="heading-4">3. èµ„æºè·å– (çˆ¬è™«)</h3>
<p>ä¸ºäº†è§£å†³å£çº¸æ¥æºé—®é¢˜ï¼Œå†…ç½®äº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼ˆåŸºäº Node.js <code>fetch</code>ï¼‰ï¼ŒæŠ“å–ç±³æ¸¸ç¤¾ç­‰å¹³å°çš„åŒäººå›¾å’Œå®˜æ–¹å£çº¸ã€‚</p>
<p>ä¸»è¦éš¾ç‚¹åœ¨äºå¤„ç†æ¥å£çš„ Referer æ ¡éªŒå’Œæ•°æ®åˆ†é¡µã€‚</p>
<h3 data-id="heading-5">4. ç”šè‡³æ”¯æŒå…³é—­ä¸»çª—å£åå¸¸é©»åå°</h3>
<p>ä¸ºäº†ä¸è®©åº”ç”¨åœ¨å…³é—­è®¾ç½®é¢æ¿ï¼ˆä¸»çª—å£ï¼‰æ—¶ç›´æ¥é€€å‡ºï¼Œéœ€è¦åˆ©ç”¨ <code>Tray</code> æ¨¡å—å’Œæ‹¦æˆª <code>window-all-closed</code> äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‹¦æˆªä¸»çª—å£å…³é—­äº‹ä»¶ï¼Œæ”¹ä¸ºéšè—</span>
mainWindow.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!app.<span class="hljs-property">isQuitting</span>) {
    event.<span class="hljs-title function_">preventDefault</span>();
    mainWindow.<span class="hljs-title function_">hide</span>();
  }
});

<span class="hljs-comment">// å®ç°æ‰˜ç›˜èœå•</span>
<span class="hljs-keyword">const</span> tray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tray</span>(iconPath);
<span class="hljs-keyword">const</span> contextMenu = <span class="hljs-title class_">Menu</span>.<span class="hljs-title function_">buildFromTemplate</span>([
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'æ‰“å¼€é¢æ¿'</span>, <span class="hljs-attr">click</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">showMainWindow</span>() },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'é€€å‡º'</span>, <span class="hljs-attr">click</span>: <span class="hljs-function">() =&gt;</span> {
      app.<span class="hljs-property">isQuitting</span> = <span class="hljs-literal">true</span>;
      app.<span class="hljs-title function_">quit</span>();
    } 
  }
]);
tray.<span class="hljs-title function_">setContextMenu</span>(contextMenu);
</code></pre>
<h2 data-id="heading-6">æ„å»ºä¸åˆ†å‘</h2>
<h3 data-id="heading-7">1. åŒæ¶æ„æ‰“åŒ…</h3>
<p>ä¸ºäº†åŒæ—¶æ”¯æŒ M1/M2/M3 (Apple Silicon) å’Œæ—§æ¬¾ Intel Macï¼Œé…ç½®äº† <code>electron-builder</code> çš„ universal æ„å»ºæˆ–åˆ†åˆ«æ„å»ºã€‚</p>
<p><code>package.json</code> é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"mac"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"arch"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"x64"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"arm64"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">2. "åº”ç”¨å·²æŸåï¼Œæ— æ³•æ‰“å¼€" çš„è§£å†³</h3>
<p>å› ä¸ºæ²¡æœ‰è´­ä¹° Apple æ˜‚è´µçš„å¼€å‘è€…è¯ä¹¦è¿›è¡Œç­¾åï¼Œç¼–è¯‘å‡ºçš„ <code>.app</code> åœ¨åˆ«äººçš„ç”µè„‘ä¸Šè¿è¡Œæ—¶ä¼šè¢« macOS Gatekeeper æ‹¦æˆªï¼Œæç¤ºâ€œåº”ç”¨å·²æŸåâ€ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼Œè§£å†³æ–¹æ³•æ˜¯ç§»é™¤è‹¹æœçš„éš”ç¦»å±æ€§ã€‚ç”¨æˆ·éœ€è¦æ‰§è¡Œä¸€æ¬¡ç»ˆç«¯å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo xattr -rd com.apple.quarantine /Applications/Wallpaper-Mac.app
</code></pre>
<h2 data-id="heading-9">æºç ä¸ä¸‹è½½</h2>
<p>é¡¹ç›®å·²å¼€æºï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†è¶³ä»¥æ»¡è¶³æ—¥å¸¸åŠ¨æ€å£çº¸éœ€æ±‚ï¼ˆæ”¯æŒè§†é¢‘ã€å›¾ç‰‡ï¼‰ã€‚</p>
<ul>
<li><strong>GitHub åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhulinghao%2Fwallpaper-mac" target="_blank" title="https://github.com/zhulinghao/wallpaper-mac" ref="nofollow noopener noreferrer">github.com/zhulinghao/â€¦</a></li>
<li><strong>Release ä¸‹è½½</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhulinghao%2Fwallpaper-mac%2Freleases%2Ftag%2Fv1.0.0" target="_blank" title="https://github.com/zhulinghao/wallpaper-mac/releases/tag/v1.0.0" ref="nofollow noopener noreferrer">github.com/zhulinghao/â€¦</a></li>
</ul>
<p>æ¬¢è¿ Star å’Œ PRã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡]]></title>    <link>https://juejin.cn/post/7593173569871183924</link>    <guid>https://juejin.cn/post/7593173569871183924</guid>    <pubDate>2026-01-09T09:10:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593173569871183924" data-draft-id="7592960378690682915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T09:10:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JFChen"/> <meta itemprop="url" content="https://juejin.cn/user/4336129593055966"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129593055966/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JFChen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:10:27.000Z" title="Fri Jan 09 2026 09:10:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“Node.jsé‡ä¸ŠJavaçš„ä¼˜é›…æ¶æ„ï¼Œä¼šç¢°æ’å‡ºæ€æ ·çš„ç«èŠ±ï¼Ÿ</p>
</blockquote>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬å¸¸å¸¸è¢«Javaå¼€å‘è€…"é„™è§†"ï¼š"Node.jså°±æ˜¯ä¸ªç©å…·ï¼Œå†™å†™å‰ç«¯è¿˜è¡Œï¼Œåšåç«¯ï¼Ÿç®—äº†å§ï¼" ä½†äº‹å®çœŸçš„å¦‚æ­¤å—ï¼Ÿé€šè¿‡ä¸€ä¸ªå®Œæ•´çš„manage-system-serveré¡¹ç›®å®è·µï¼Œæˆ‘å°†å‘å¤§å®¶å±•ç¤ºå¦‚ä½•ç”¨Node.jsæ„å»ºå‡ºåª²ç¾Java Springçš„ä¼ä¸šçº§åç«¯æœåŠ¡ï¼ŒNode.jsä¹Ÿå¯ä»¥å†™å¾—è¿™ä¹ˆ"JavaèŒƒå„¿"ï¼ä»Šå¤©å°±æ¥è·Ÿå¤§å®¶åˆ†äº«è¿™ä¸ªåŸºäº <strong>Koa + TypeScript + TypeORM</strong> çš„ç°ä»£åŒ–åç«¯æ¶æ„ã€‚</p>
<h2 data-id="heading-0">ğŸ—ï¸ æ¶æ„è®¾è®¡ï¼šSpring Bootçš„Node.jsç‰ˆ</h2>
<p>è¿™ä¸ªé¡¹ç›®é‡‡ç”¨äº†å…¸å‹çš„åˆ†å±‚æ¶æ„ï¼Œè®©æˆ‘æƒ³èµ·äº†Java Spring Bootçš„ä¼˜é›…è®¾è®¡ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/    <span class="hljs-comment"># æ§åˆ¶å™¨å±‚ - ç±»ä¼¼Springçš„<span class="hljs-doctag">@Controller</span></span>
â”‚   â”œâ”€â”€ entity/         <span class="hljs-comment"># æ•°æ®å®ä½“ - ç±»ä¼¼JPA Entity</span>
â”‚   â”œâ”€â”€ service/        <span class="hljs-comment"># ä¸šåŠ¡æœåŠ¡å±‚ - ç±»ä¼¼<span class="hljs-doctag">@Service</span></span>
â”‚   â””â”€â”€ req-validate/   <span class="hljs-comment"># è¯·æ±‚éªŒè¯ - ç±»ä¼¼DTOéªŒè¯</span>
â”œâ”€â”€ config/             <span class="hljs-comment"># é…ç½®ç®¡ç†</span>
â”œâ”€â”€ decorator/          <span class="hljs-comment"># è£…é¥°å™¨ - ç±»ä¼¼Springæ³¨è§£</span>
â”œâ”€â”€ middles/            <span class="hljs-comment"># ä¸­é—´ä»¶ - ç±»ä¼¼Springæ‹¦æˆªå™¨</span>
â””â”€â”€ tools/              <span class="hljs-comment"># å·¥å…·ç±»</span>
</code></pre>
<h2 data-id="heading-1">ğŸ¯ æ ¸å¿ƒç‰¹æ€§ï¼šJavaèŒƒå„¿çš„Node.jså®ç°</h2>
<h3 data-id="heading-2">1. ä¾èµ–æ³¨å…¥ï¼šå‘Šåˆ«requireçš„æ··ä¹±</h3>
<p>é¡¹ç›®ä½¿ç”¨ <code>typedi</code> å®ç°ä¾èµ–æ³¨å…¥ï¼Œè®©ä»£ç ç»„ç»‡æ›´åŠ æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> roleService: RoleService</span>) {}
  
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userList</span>(<span class="hljs-params">req: IListReq</span>) {
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
  }
}
</code></pre>
<h3 data-id="heading-3">2. å£°æ˜å¼æ§åˆ¶å™¨ï¼šæ³¨è§£é©±åŠ¨çš„APIè®¾è®¡</h3>
<p>åŸºäº <code>routing-controllers</code> çš„æ§åˆ¶å™¨è®¾è®¡ï¼Œè®©APIå®šä¹‰å˜å¾—ä¼˜é›…ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@JsonController</span>()
<span class="hljs-meta">@Service</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> userService: UserService</span>) {}

  <span class="hljs-meta">@Post</span>(<span class="hljs-title class_">Api</span>.<span class="hljs-property">USER_LIST</span>)
  <span class="hljs-meta">@ApiAuth</span>(<span class="hljs-title class_">ModuleEnum</span>.<span class="hljs-property">USER</span>, <span class="hljs-title class_">OperationEnum</span>.<span class="hljs-property">QUERY</span>)
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userList</span>(<span class="hljs-params"><span class="hljs-meta">@Body</span>({ validate: <span class="hljs-literal">true</span> }) body: IListReq</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">userList</span>(body);
  }
}
</code></pre>
<h3 data-id="heading-4">3. æ•°æ®å®ä½“ï¼šTypeORMçš„ORMé­”æ³•</h3>
<p>å®ä½“ç±»è®¾è®¡å€Ÿé‰´äº†JPAçš„æ€æƒ³ï¼Œæ”¯æŒæ•°æ®åº“å­—æ®µæ˜ å°„å’Œç”Ÿå‘½å‘¨æœŸé’©å­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Entity</span>(<span class="hljs-string">'user'</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserEntity</span> {
  <span class="hljs-meta">@PrimaryGeneratedColumn</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'id'</span> })
  id?: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@Column</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'login_name'</span> })
  <span class="hljs-attr">loginName</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@Column</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'password'</span>, <span class="hljs-attr">select</span>: <span class="hljs-literal">false</span> })
  password?: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@BeforeInsert</span>()
  <span class="hljs-meta">@BeforeUpdate</span>()
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">encryptFields</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ’å…¥/æ›´æ–°å‰è‡ªåŠ¨åŠ å¯†å¯†ç </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span> = <span class="hljs-title class_">AesTools</span>.<span class="hljs-title function_">encryptData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span>);
  }
}
</code></pre>
<h3 data-id="heading-5">4. æ•°æ®éªŒè¯ï¼šç±»çº§åˆ«çš„å‚æ•°æ ¡éªŒ</h3>
<p>ä½¿ç”¨ <code>class-validator</code> å®ç°è¯·æ±‚å‚æ•°éªŒè¯ï¼Œç±»ä¼¼Springçš„@Validï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IUserAddReq</span> {
  <span class="hljs-meta">@IsString</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'loginNameæ¥æ”¶ç±»å‹ä¸ºstring'</span> })
  <span class="hljs-meta">@IsNotEmpty</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'loginNameä¸èƒ½ä¸ºç©º'</span> })
  <span class="hljs-attr">loginName</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@IsString</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordæ¥æ”¶ç±»å‹ä¸ºstring'</span> })
  <span class="hljs-meta">@IsNotEmpty</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordä¸èƒ½ä¸ºç©º'</span> })
  <span class="hljs-meta">@IsDecryptPwd</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordå¯†ç é”™è¯¯ï¼Œè¯·ç¡®è®¤åŠ å¯†æ–¹å¼'</span> })
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h3 data-id="heading-6">5. æƒé™æ§åˆ¶ï¼šåŸºäºè£…é¥°å™¨çš„ç»†ç²’åº¦æƒé™</h3>
<p>è‡ªå®šä¹‰æƒé™è£…é¥°å™¨å®ç°æ–¹æ³•çº§åˆ«çš„æƒé™æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ApiAuth</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>: ModuleEnum, operation: OperationEnum</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">target: <span class="hljs-built_in">any</span>, propertyKey: <span class="hljs-built_in">string</span>, descriptor: PropertyDescriptor</span>) {
    <span class="hljs-title class_">Authorized</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">module</span>}</span>_<span class="hljs-subst">${operation}</span>`</span>)(target, propertyKey, descriptor);
  };
}
</code></pre>
<h2 data-id="heading-7">ğŸ”§ æŠ€æœ¯æ ˆæ·±åº¦è§£æ</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä¾èµ–åˆ†æ</h3>
<p>ä» <code>package.json</code> å¯ä»¥çœ‹å‡ºé¡¹ç›®çš„æŠ€æœ¯é€‰å‹æ€è·¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"koa"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.15.0"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è½»é‡çº§Webæ¡†æ¶</span>
    <span class="hljs-attr">"typeorm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.3.20"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// å¼ºå¤§ORMæ¡†æ¶</span>
    <span class="hljs-attr">"routing-controllers"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.10.4"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ³¨è§£å¼è·¯ç”±</span>
    <span class="hljs-attr">"class-validator"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.14.1"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ•°æ®éªŒè¯</span>
    <span class="hljs-attr">"typedi"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.10.0"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// ä¾èµ–æ³¨å…¥å®¹å™¨</span>
    <span class="hljs-attr">"reflect-metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.1.13"</span> <span class="hljs-comment">// åå°„å…ƒæ•°æ®æ”¯æŒ</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">å¼€å‘å·¥å…·é“¾</h3>
<p>é¡¹ç›®é…å¤‡äº†å®Œæ•´çš„å¼€å‘å·¥å…·é“¾ï¼š</p>
<ul>
<li><strong>TypeScript 5.7.2</strong>: ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†</li>
<li><strong>ESLint + Prettier</strong>: ä»£ç è§„èŒƒå’Œæ ¼å¼åŒ–</li>
<li><strong>TypeORMè¿ç§»</strong>: æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†</li>
<li><strong>çƒ­é‡è½½å¼€å‘</strong>: nodemonå®æ—¶ç›‘æ§æ–‡ä»¶å˜åŒ–</li>
</ul>
<h2 data-id="heading-10">ğŸš€ å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-11">å®Œæ•´çš„ç”¨æˆ·ç®¡ç†æµç¨‹</h3>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æ·»åŠ æµç¨‹ï¼š</p>
<p><strong>1. æ§åˆ¶å™¨å±‚æ¥æ”¶è¯·æ±‚</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Post</span>(<span class="hljs-title class_">Api</span>.<span class="hljs-property">USER_ADD</span>)
<span class="hljs-meta">@ApiAuth</span>(<span class="hljs-title class_">ModuleEnum</span>.<span class="hljs-property">USER</span>, <span class="hljs-title class_">OperationEnum</span>.<span class="hljs-property">ADD</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userAdd</span>(<span class="hljs-params">
  <span class="hljs-meta">@CurrentLoginName</span>() loginName: <span class="hljs-built_in">string</span>,
  <span class="hljs-meta">@Body</span>({ validate: <span class="hljs-literal">true</span> }) body: IUserAddReq,
</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">addUser</span>(loginName, body);
}
</code></pre>
<p><strong>2. æœåŠ¡å±‚ä¸šåŠ¡é€»è¾‘</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">creatorName: <span class="hljs-built_in">string</span>, userInfo: IUserAddReq</span>) {
  <span class="hljs-comment">// å¯†ç è§£å¯†</span>
  <span class="hljs-keyword">const</span> decryptPwd = <span class="hljs-title class_">AesTools</span>.<span class="hljs-title function_">decryptData</span>(userInfo.<span class="hljs-property">password</span>);
  
  <span class="hljs-comment">// æ£€æŸ¥ç™»å½•åé‡å¤</span>
  <span class="hljs-keyword">const</span> hasUser = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkDuplicateLoginName</span>(userInfo.<span class="hljs-property">loginName</span>);
  <span class="hljs-keyword">if</span> (hasUser) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnError</span>(<span class="hljs-title class_">CodeEnum</span>.<span class="hljs-property">USER_LOGIN_NAME_SAME</span>);
  }
  
  <span class="hljs-comment">// åˆ›å»ºç”¨æˆ·å®ä½“</span>
  <span class="hljs-keyword">const</span> insertUser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserEntity</span>({
    <span class="hljs-attr">password</span>: decryptPwd,
    <span class="hljs-attr">username</span>: userInfo.<span class="hljs-property">username</span>,
    <span class="hljs-attr">loginName</span>: userInfo.<span class="hljs-property">loginName</span>,
    <span class="hljs-attr">creator</span>: creatorName,
  });
  
  <span class="hljs-comment">// ä¿å­˜åˆ°æ•°æ®åº“</span>
  <span class="hljs-keyword">const</span> resp = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getRepository</span>(<span class="hljs-title class_">UserEntity</span>).<span class="hljs-title function_">insert</span>(insertUser);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnData</span>({ <span class="hljs-attr">id</span>: resp.<span class="hljs-property">generatedMaps</span>[<span class="hljs-number">0</span>].<span class="hljs-property">id</span> });
}
</code></pre>
<p><strong>3. ç»Ÿä¸€çš„é”™è¯¯å¤„ç†</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ErrorMiddleware</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">KoaMiddlewareInterface</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">use</span>(<span class="hljs-attr">ctx</span>: <span class="hljs-title class_">ICtxRouterContent</span>, <span class="hljs-attr">next</span>: <span class="hljs-title class_">Next</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>();
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// ç»Ÿä¸€å¤„ç†å„ç§é”™è¯¯ç±»å‹</span>
      <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">status</span> === <span class="hljs-title class_">HttpCode</span>.<span class="hljs-property">BAD_REQUEST</span>) {
        <span class="hljs-comment">// å‚æ•°æ ¡éªŒé”™è¯¯å¤„ç†</span>
        ctx.<span class="hljs-property">body</span> = <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnData</span>(errors, <span class="hljs-title class_">CodeEnum</span>.<span class="hljs-property">COMMON_PARAMS_ERROR</span>);
      }
    }
  }
}
</code></pre>
<h2 data-id="heading-12">ğŸ’¡ æ¶æ„ä¼˜åŠ¿æ€»ç»“</h2>
<h3 data-id="heading-13">1. ä»£ç å¯ç»´æŠ¤æ€§</h3>
<ul>
<li><strong>åˆ†å±‚æ¸…æ™°</strong>: Controller-Service-Entityæ˜ç¡®åˆ†å·¥</li>
<li><strong>ç±»å‹å®‰å…¨</strong>: TypeScriptå…¨ç¨‹ä¿é©¾æŠ¤èˆª</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>: æ¾è€¦åˆçš„ç»„ä»¶å…³ç³»</li>
<li><strong>å…±äº«ç±»å‹å®šä¹‰</strong>ï¼šå‰åç«¯å…±äº«DTOå’Œæ¥å£å®šä¹‰</li>
</ul>
<h3 data-id="heading-14">2. å¼€å‘æ•ˆç‡</h3>
<ul>
<li><strong>æ³¨è§£é©±åŠ¨</strong>: å‡å°‘æ ·æ¿ä»£ç </li>
<li><strong>çƒ­é‡è½½</strong>: å¿«é€Ÿå¼€å‘è°ƒè¯•</li>
<li><strong>è¿ç§»å·¥å…·</strong>: æ•°æ®åº“ç‰ˆæœ¬åŒ–ç®¡ç†</li>
<li><strong>ç»Ÿä¸€æŠ€æœ¯æ ˆ</strong>ï¼šå‰åç«¯éƒ½ä½¿ç”¨TypeScriptï¼Œå‡å°‘å­¦ä¹ æˆæœ¬</li>
<li><strong>å¿«é€Ÿè¿­ä»£</strong>ï¼šå‰ç«¯å¼€å‘è€…å¯ä»¥ç›´æ¥å‚ä¸åç«¯å¼€å‘</li>
<li><strong>é—®é¢˜å®šä½</strong>ï¼šå‰åç«¯é—®é¢˜å®šä½æ›´åŠ é«˜æ•ˆ</li>
</ul>
<h3 data-id="heading-15">3. ä¼ä¸šçº§ç‰¹æ€§</h3>
<ul>
<li><strong>æƒé™æ§åˆ¶</strong>: ç»†ç²’åº¦çš„APIæƒé™ç®¡ç†</li>
<li><strong>æ•°æ®åŠ å¯†</strong>: è‡ªåŠ¨çš„æ•æ„Ÿæ•°æ®åŠ å¯†</li>
<li><strong>é”™è¯¯å¤„ç†</strong>: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
</ul>
<h3 data-id="heading-16">4. æ‰©å±•æ€§</h3>
<ul>
<li><strong>å¾®æœåŠ¡å°±ç»ª</strong>: æ¨¡å—åŒ–æ¶æ„æ”¯æŒå¾®æœåŠ¡æ‹†åˆ†</li>
<li><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>: å†…ç½®æ•°æ®éš”ç¦»æœºåˆ¶</li>
<li><strong>ç¼“å­˜é›†æˆ</strong>: Redisç¼“å­˜æå‡æ€§èƒ½</li>
</ul>
<h2 data-id="heading-17">ğŸ‰ ç»“è¯­</h2>
<p>å†™å®Œè¿™ä¸ªé¡¹ç›®åè®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼ŒNode.jsç”Ÿæ€å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå®Œå…¨å¯ä»¥èƒœä»»å¤æ‚çš„ä¼ä¸šçº§åº”ç”¨å¼€å‘ã€‚é€šè¿‡å€Ÿé‰´Javaç”Ÿæ€çš„ä¼˜ç§€è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿æŒJavaScriptçµæ´»æ€§çš„åŒæ—¶ï¼Œè·å¾—Javaçº§åˆ«çš„å·¥ç¨‹åŒ–èƒ½åŠ›ã€‚</p>
<p>ä½œä¸º"Webä»”"ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ç¾¡æ…•Javaç¨‹åºå‘˜çš„é‚£å¥—"é‡å‹è£…å¤‡"ã€‚åœ¨Node.jsçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å†™å‡ºä¼˜é›…ã€å¥å£®ã€å¯ç»´æŠ¤çš„åç«¯ä»£ç ï¼</p>
<p><strong>æŠ€æœ¯ä¸åˆ†è´µè´±ï¼Œä¼˜é›…çš„ä»£ç æ‰æ˜¯ç‹é“ï¼</strong></p>
<hr/>
<p><em>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchencjfeng%2Fmanage-system-server" target="_blank" title="https://github.com/chencjfeng/manage-system-server" ref="nofollow noopener noreferrer">github.com/chencjfeng/â€¦</a></em><br/>
<em>ä½œè€…ï¼šChenJF</em><br/>
<em>é‚®ç®±ï¼š<a href="https://link.juejin.cn?target=mailto%3Achencjfeng%40163.com" target="_blank" title="mailto:chencjfeng@163.com" ref="nofollow noopener noreferrer">chencjfeng@163.com</a></em></p>
<blockquote>
<p>æœ¬æ–‡åŸºäºå®é™…é¡¹ç›®ä»£ç åˆ†æï¼Œæ‰€æœ‰ç¤ºä¾‹ä»£ç å‡å¯è¿è¡Œã€‚æ¬¢è¿Starå’Œè´¡çŒ®ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨]]></title>    <link>https://juejin.cn/post/7593169840199630874</link>    <guid>https://juejin.cn/post/7593169840199630874</guid>    <pubDate>2026-01-09T09:25:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593169840199630874" data-draft-id="7593164154631405577" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-09T09:25:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»¡å¤©æ˜Ÿè¾°"/> <meta itemprop="url" content="https://juejin.cn/user/2771198801097485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771198801097485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»¡å¤©æ˜Ÿè¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:25:20.000Z" title="Fri Jan 09 2026 09:25:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScript ä¸­çš„åŸºæœ¬ç±»å‹</h2>
<p>TypeScript çš„åŸºæœ¬ç±»å‹æ¶µç›–äº† JavaScript çš„åŸå§‹ç±»å‹ï¼Œå¹¶æ·»åŠ äº†ä¸€äº› TypeScript ç‰¹æœ‰çš„ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-1">1.Â <strong>JavaScript åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰</strong></h3>
<p>è¿™äº›æ˜¯ JavaScript åŸæœ‰çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒTypeScript ä¸ºå®ƒä»¬æä¾›äº†ç±»å‹æ³¨è§£ã€‚</p>
<h4 data-id="heading-2"><strong><code>boolean</code>Â - å¸ƒå°”å€¼</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">isDone</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">isLoading</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
</code></pre>
<h4 data-id="heading-3"><strong><code>number</code>Â - æ•°å­—</strong></h4>
<p>TypeScript ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œæ”¯æŒåè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">decimal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">hex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xf00d</span>;      <span class="hljs-comment">// åå…­è¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">binary</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0b1010</span>;   <span class="hljs-comment">// äºŒè¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">octal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0o744</span>;     <span class="hljs-comment">// å…«è¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">float</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">3.14</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">infinity</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Infinity</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">notANumber</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">NaN</span>;
</code></pre>
<h4 data-id="heading-4"><strong><code>string</code>Â - å­—ç¬¦ä¸²</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let name: string = "å¼ ä¸‰";
let sentence: string = `ä½ å¥½ï¼Œ${name}ï¼`;  // æ¨¡æ¿å­—ç¬¦ä¸²
</code></pre>
<h4 data-id="heading-5"><strong><code>bigint</code>Â - å¤§æ•´æ•°</strong>ï¼ˆES2020+ï¼‰</h4>
<p>è¡¨ç¤ºå¤§äº 2^53 - 1 çš„æ•´æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">big</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">9007199254740991n</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">big2</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-title class_">BigInt</span>(<span class="hljs-number">9007199254740991</span>);
</code></pre>
<h4 data-id="heading-6"><strong><code>symbol</code>Â - ç¬¦å·</strong>ï¼ˆES2015+ï¼‰</h4>
<p>åˆ›å»ºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p>
<p>typescript</p>
<pre><code class="hljs language-ini" lang="ini">let sym1: <span class="hljs-attr">symbol</span> = Symbol()<span class="hljs-comment">;</span>
let sym2: <span class="hljs-attr">symbol</span> = Symbol(<span class="hljs-string">"description"</span>)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-7">2.Â <strong>ç‰¹æ®ŠåŸå§‹ç±»å‹</strong></h3>
<h4 data-id="heading-8"><strong><code>null</code>Â - ç©ºå€¼</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">n</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
</code></pre>
<h4 data-id="heading-9"><strong><code>undefined</code>Â - æœªå®šä¹‰</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">u</span>: <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨Â <code>strictNullChecks</code>Â æ¨¡å¼ä¸‹ï¼Œ<code>null</code>Â å’ŒÂ <code>undefined</code>Â åªèƒ½èµ‹å€¼ç»™å®ƒä»¬è‡ªå·±æˆ–Â <code>any</code>Â ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-10">3.Â <strong>TypeScript ç‰¹æœ‰ç±»å‹</strong></h3>
<h4 data-id="heading-11"><strong><code>any</code>Â - ä»»æ„ç±»å‹</strong></h4>
<p>å…³é—­ç±»å‹æ£€æŸ¥ï¼Œå…¼å®¹æ‰€æœ‰ç±»å‹ã€‚</p>
<pre><code class="hljs language-typescri" lang="typescri">let notSure: any = 4;
notSure = "å¯èƒ½æ˜¯å­—ç¬¦ä¸²";
notSure = false;  // æ²¡é—®é¢˜
</code></pre>
<h4 data-id="heading-12"><strong><code>unknown</code>Â - æœªçŸ¥ç±»å‹</strong></h4>
<p>æ¯”Â <code>any</code>Â æ›´å®‰å…¨çš„ç±»å‹ï¼Œä½¿ç”¨æ—¶éœ€è¦ç±»å‹æ£€æŸ¥æˆ–æ–­è¨€ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">unknown</span>;

<span class="hljs-comment">// éœ€è¦ç±»å‹æ£€æŸ¥åæ‰èƒ½ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">length</span>);
}

<span class="hljs-comment">// æˆ–ä½¿ç”¨ç±»å‹æ–­è¨€</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = (value <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>);
</code></pre>
<h4 data-id="heading-13"><strong><code>void</code>Â - ç©ºç±»å‹</strong></h4>
<p>è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">warnUser</span>(<span class="hljs-params"/>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è­¦å‘Šä¿¡æ¯"</span>);
    <span class="hljs-comment">// æ²¡æœ‰ return è¯­å¥</span>
}
</code></pre>
<h4 data-id="heading-14"><strong><code>never</code>Â - æ°¸ä¸å­˜åœ¨çš„å€¼</strong></h4>
<p>è¡¨ç¤ºæ°¸è¿œä¸ä¼šå‘ç”Ÿçš„ç±»å‹ï¼Œç”¨äºæ€»æ˜¯æŠ›å‡ºå¼‚å¸¸æˆ–æ— é™å¾ªç¯çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æŠ›å‡ºé”™è¯¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
}

<span class="hljs-comment">// æ— é™å¾ªç¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">infiniteLoop</span>(<span class="hljs-params"/>): <span class="hljs-built_in">never</span> {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {}
}
</code></pre>
<h4 data-id="heading-15"><strong><code>object</code>Â - éåŸå§‹ç±»å‹</strong></h4>
<p>è¡¨ç¤ºéåŸå§‹ç±»å‹çš„å€¼ï¼ˆä¸æ˜¯ number, string, boolean, symbol, null, undefinedï¼‰ã€‚</p>
<pre><code class="hljs language-typescri" lang="typescri">let obj: object = {};
let arr: object = [];
let func: object = function() {};
</code></pre>
<hr/>
<h3 data-id="heading-16">4.Â <strong>æ•°ç»„ç±»å‹</strong></h3>
<p>æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼ï¼š</p>
<h4 data-id="heading-17"><strong>ç±»å‹ + æ–¹æ‹¬å·</strong></h4>
<pre><code class="hljs language-typescr" lang="typescr">let list: number[] = [1, 2, 3];
let strings: string[] = ["a", "b", "c"];
</code></pre>
<h4 data-id="heading-18"><strong>æ³›å‹ Array&lt;ç±»å‹&gt;</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let list: Array&lt;number&gt; = [1, 2, 3];
let strings: Array&lt;string&gt; = ["a", "b", "c"];
</code></pre>
<h4 data-id="heading-19"><strong>åªè¯»æ•°ç»„</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let readonlyArr: ReadonlyArray&lt;number&gt; = [1, 2, 3];
// readonlyArr.push(4);  // âŒ é”™è¯¯ï¼šåªè¯»æ•°ç»„ä¸èƒ½ä¿®æ”¹
</code></pre>
<hr/>
<h3 data-id="heading-20">5.Â <strong>å…ƒç»„ï¼ˆTupleï¼‰</strong></h3>
<p>è¡¨ç¤ºå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰å…ƒç»„ç±»å‹</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">tuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];
tuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">10</span>];  <span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-comment">// tuple = [10, "hello"];  // âŒ é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…</span>

<span class="hljs-comment">// è®¿é—®å…ƒç»„å…ƒç´ </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tuple[<span class="hljs-number">0</span>].<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>));  <span class="hljs-comment">// "ello"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tuple[<span class="hljs-number">1</span>].<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));    <span class="hljs-comment">// "10.00"</span>

<span class="hljs-comment">// å¯é€‰å…ƒç´ ï¼ˆ3.0+ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">optionalTuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>?];
optionalTuple = [<span class="hljs-string">"hello"</span>];           <span class="hljs-comment">// âœ… æ­£ç¡®</span>
optionalTuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">42</span>];       <span class="hljs-comment">// âœ… æ­£ç¡®</span>

<span class="hljs-comment">// å‰©ä½™å…ƒç´ </span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">restTuple</span>: [<span class="hljs-built_in">string</span>, ...<span class="hljs-built_in">number</span>[]];
restTuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];      <span class="hljs-comment">// âœ… æ­£ç¡®</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">6.Â <strong>æšä¸¾ï¼ˆEnumï¼‰</strong></h3>
<h4 data-id="heading-22"><strong>æ•°å­—æšä¸¾</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
    <span class="hljs-title class_">Up</span> = <span class="hljs-number">1</span>,      <span class="hljs-comment">// ä» 1 å¼€å§‹</span>
    <span class="hljs-title class_">Down</span>,        <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º 2</span>
    <span class="hljs-title class_">Left</span>,        <span class="hljs-comment">// 3</span>
    <span class="hljs-title class_">Right</span>        <span class="hljs-comment">// 4</span>
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">dir</span>: <span class="hljs-title class_">Direction</span> = <span class="hljs-title class_">Direction</span>.<span class="hljs-property">Up</span>;
</code></pre>
<h4 data-id="heading-23"><strong>å­—ç¬¦ä¸²æšä¸¾</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
    <span class="hljs-title class_">Up</span> = <span class="hljs-string">"UP"</span>,
    <span class="hljs-title class_">Down</span> = <span class="hljs-string">"DOWN"</span>,
    <span class="hljs-title class_">Left</span> = <span class="hljs-string">"LEFT"</span>,
    <span class="hljs-title class_">Right</span> = <span class="hljs-string">"RIGHT"</span>
}
</code></pre>
<h4 data-id="heading-24"><strong>å¸¸é‡æšä¸¾</strong>ï¼ˆç¼–è¯‘æ—¶å®Œå…¨åˆ é™¤ï¼‰</h4>
<pre><code class="hljs language-typescri" lang="typescri">const enum Colors {
    Red,
    Green,
    Blue
}

let color = Colors.Red;  // ç¼–è¯‘åï¼šlet color = 0;
</code></pre>
<hr/>
<h3 data-id="heading-25">7.Â <strong>å­—é¢é‡ç±»å‹</strong></h3>
<h4 data-id="heading-26"><strong>å­—ç¬¦ä¸²å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">EventType</span> = <span class="hljs-string">"click"</span> | <span class="hljs-string">"scroll"</span> | <span class="hljs-string">"mousemove"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">event</span>: <span class="hljs-title class_">EventType</span> = <span class="hljs-string">"click"</span>;  <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// event = "hover";  // âŒ é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-27"><strong>æ•°å­—å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DiceRoll</span> = <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span> | <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">roll</span>: <span class="hljs-title class_">DiceRoll</span> = <span class="hljs-number">3</span>;  <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// roll = 7;  // âŒ é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-28"><strong>å¸ƒå°”å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescr" lang="typescr">type Truthy = true;
let isTrue: Truthy = true;
// isTrue = false;  // âŒ é”™è¯¯
</code></pre>
<hr/>
<h3 data-id="heading-29">8.Â <strong>ç±»å‹æ¨æ–­ä¸è”åˆç±»å‹</strong></h3>
<h4 data-id="heading-30"><strong>ç±»å‹æ¨æ–­</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let x = 3;            // x è¢«æ¨æ–­ä¸º number
let y = "hello";      // y è¢«æ¨æ–­ä¸º string
</code></pre>
<h4 data-id="heading-31"><strong>è”åˆç±»å‹</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
id = <span class="hljs-string">"abc123"</span>;  <span class="hljs-comment">// âœ…</span>
id = <span class="hljs-number">123</span>;       <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// id = true;   // âŒ é”™è¯¯</span>

<span class="hljs-comment">// ç±»å‹å®ˆå«</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id === <span class="hljs-string">"string"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id.<span class="hljs-title function_">toUpperCase</span>());
} <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));
}
</code></pre>
<hr/>
<h3 data-id="heading-32">9.Â <strong>ç±»å‹åˆ«å</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŸºæœ¬ç±»å‹åˆ«å</span>
<span class="hljs-keyword">type</span> <span class="hljs-variable constant_">ID</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = {
    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">userId</span>: <span class="hljs-variable constant_">ID</span> = <span class="hljs-string">"user-123"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">position</span>: <span class="hljs-title class_">Point</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">20</span> };
</code></pre>
<hr/>
<h3 data-id="heading-33">ç±»å‹æ€»ç»“è¡¨</h3>





















































































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>boolean</code></td><td><code>let isDone: boolean = true;</code></td><td>å¸ƒå°”å€¼</td></tr><tr><td><code>number</code></td><td><code>let count: number = 10;</code></td><td>æ‰€æœ‰æ•°å­—ç±»å‹</td></tr><tr><td><code>string</code></td><td><code>let name: string = "John";</code></td><td>å­—ç¬¦ä¸²</td></tr><tr><td><code>bigint</code></td><td><code>let big: bigint = 100n;</code></td><td>å¤§æ•´æ•°</td></tr><tr><td><code>symbol</code></td><td><code>let sym: symbol = Symbol();</code></td><td>å”¯ä¸€æ ‡è¯†ç¬¦</td></tr><tr><td><code>null</code></td><td><code>let n: null = null;</code></td><td>ç©ºå€¼</td></tr><tr><td><code>undefined</code></td><td><code>let u: undefined = undefined;</code></td><td>æœªå®šä¹‰</td></tr><tr><td><code>any</code></td><td><code>let anything: any = 4;</code></td><td>ä»»æ„ç±»å‹</td></tr><tr><td><code>unknown</code></td><td><code>let unsure: unknown = 30;</code></td><td>æœªçŸ¥ç±»å‹</td></tr><tr><td><code>void</code></td><td><code>function(): void {}</code></td><td>æ— è¿”å›å€¼</td></tr><tr><td><code>never</code></td><td><code>function error(): never {}</code></td><td>æ°¸ä¸å­˜åœ¨çš„å€¼</td></tr><tr><td><code>object</code></td><td><code>let obj: object = {};</code></td><td>éåŸå§‹ç±»å‹</td></tr><tr><td><code>Array&lt;T&gt;</code></td><td><code>let list: number[] = [1, 2, 3];</code></td><td>æ•°ç»„</td></tr><tr><td><code>[T1, T2]</code></td><td><code>let tuple: [string, number];</code></td><td>å…ƒç»„</td></tr><tr><td><code>enum</code></td><td><code>enum Color { Red, Green }</code></td><td>æšä¸¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-34">å®ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®Œæ•´ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processInput</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"string"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`å­—ç¬¦ä¸²: <span class="hljs-subst">${input.toUpperCase()}</span>`</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"number"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`æ•°å­—: <span class="hljs-subst">${input.toFixed(<span class="hljs-number">2</span>)}</span>`</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`å¸ƒå°”å€¼: <span class="hljs-subst">${input}</span>`</span>;
    }
}

<span class="hljs-comment">// ä¸¥æ ¼ç©ºå€¼æ£€æŸ¥</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (name === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä½ å¥½ï¼Œè®¿å®¢ï¼"</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">`ä½ å¥½ï¼Œ<span class="hljs-subst">${name}</span>ï¼`</span>;
}

<span class="hljs-comment">// ä½¿ç”¨ never è¿›è¡Œç©·å°½æ£€æŸ¥</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> = <span class="hljs-string">"circle"</span> | <span class="hljs-string">"square"</span> | <span class="hljs-string">"triangle"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getArea</span>(<span class="hljs-params">shape: Shape</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">switch</span> (shape) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"circle"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"square"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"triangle"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-comment">// ç¡®ä¿å¤„ç†äº†æ‰€æœ‰æƒ…å†µ</span>
            <span class="hljs-keyword">const</span> <span class="hljs-attr">_exhaustiveCheck</span>: <span class="hljs-built_in">never</span> = shape;
            <span class="hljs-keyword">return</span> _exhaustiveCheck;
    }
}
</code></pre>
<p>TypeScript çš„åŸºæœ¬ç±»å‹ç³»ç»Ÿæä¾›äº†å¼ºå¤§çš„ç±»å‹å®‰å…¨ä¿è¯ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨ç¼–è¯‘æ—¶æ•è·é”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°]]></title>    <link>https://juejin.cn/post/7593139476840120326</link>    <guid>https://juejin.cn/post/7593139476840120326</guid>    <pubDate>2026-01-09T08:52:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840120326" data-draft-id="7592921639465435178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-09T08:52:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¾æ½˜"/> <meta itemprop="url" content="https://juejin.cn/user/893218038484600"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/893218038484600/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¾æ½˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:52:27.000Z" title="Fri Jan 09 2026 08:52:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">useState çš„åŸºæœ¬åŸç†</h2>
<p>useState æ˜¯ React çš„ä¸€ä¸ª Hookï¼Œå®ƒçš„æ ¸å¿ƒåŸç†åŸºäºä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h3 data-id="heading-1">1. é—­åŒ…å’Œé“¾è¡¨ç»“æ„</h3>
<p>React å†…éƒ¨ä½¿ç”¨é“¾è¡¨æ¥å­˜å‚¨ç»„ä»¶çš„æ‰€æœ‰ Hook çŠ¶æ€ã€‚æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼ŒReact ä¼šæŒ‰ç…§ Hook è°ƒç”¨çš„é¡ºåºéå†è¿™ä¸ªé“¾è¡¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ç®€åŒ–çš„å†…éƒ¨å®ç°æ¦‚å¿µ
let <span class="hljs-attr">hooks</span> = []<span class="hljs-comment">;</span>
let <span class="hljs-attr">currentHook</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

function useState(initialValue) {
  const <span class="hljs-attr">hookIndex</span> = currentHook<span class="hljs-comment">;</span>
  
  // åˆå§‹åŒ–æˆ–è·å–å·²æœ‰çŠ¶æ€
  if (hooks<span class="hljs-section">[hookIndex]</span> === undefined) {
    hooks<span class="hljs-section">[hookIndex]</span> = initialValue<span class="hljs-comment">;</span>
  }
  
  const <span class="hljs-attr">setState</span> = (newValue) =&gt; {
    hooks<span class="hljs-section">[hookIndex]</span> = newValue<span class="hljs-comment">;</span>
    render()<span class="hljs-comment">; // è§¦å‘é‡æ–°æ¸²æŸ“</span>
  }<span class="hljs-comment">;</span>
  
  currentHook++<span class="hljs-comment">;</span>
  return <span class="hljs-section">[hooks[hookIndex]</span>, setState]<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Hook å¿…é¡»åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨æ¡ä»¶è¯­å¥æˆ–å¾ªç¯ä¸­ä½¿ç”¨ - å› ä¸º React ä¾èµ–è°ƒç”¨é¡ºåºæ¥åŒ¹é…çŠ¶æ€ã€‚</p>
<h2 data-id="heading-2">å¼‚æ­¥æ›´æ–°æœºåˆ¶</h2>
<h3 data-id="heading-3">2. æ‰¹é‡æ›´æ–°ï¼ˆBatchingï¼‰</h3>
<p>React ä¸ä¼šç«‹å³æ›´æ–°çŠ¶æ€ï¼Œè€Œæ˜¯å°†å¤šä¸ª setState è°ƒç”¨åˆå¹¶æˆä¸€æ¬¡æ›´æ–°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">Counter</span>() {
  const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
  
  const handleClick = () =&gt; {
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1</span>
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1 (è¿˜æ˜¯è¯»å–çš„æ—§å€¼)</span>
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1</span>
    <span class="hljs-comment">// æœ€ç»ˆ count = 1ï¼Œè€Œä¸æ˜¯ 3</span>
  };
  
  return &lt;<span class="hljs-selector-tag">button</span> onClick={handleClick}&gt;{count}&lt;/<span class="hljs-selector-tag">button</span>&gt;;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ul>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“</li>
<li>ä¿æŒä¸€è‡´æ€§ï¼šç¡®ä¿åœ¨ä¸€æ¬¡äº‹ä»¶å¤„ç†ä¸­çœ‹åˆ°çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„</li>
</ul>
<h3 data-id="heading-4">3. å‡½æ•°å¼æ›´æ–°</h3>
<p>å¦‚æœéœ€è¦åŸºäºå‰ä¸€ä¸ªçŠ¶æ€æ›´æ–°ï¼Œä½¿ç”¨å‡½æ•°å½¢å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">handleClick</span> = () =&gt; {
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 1</span>
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 2</span>
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 3</span>
  // æœ€ç»ˆ <span class="hljs-attr">count</span> = <span class="hljs-number">3</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-5">4. React 18 çš„è‡ªåŠ¨æ‰¹å¤„ç†</h3>
<p>åœ¨ React 18 ä¹‹å‰ï¼Œåªæœ‰åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­æ‰ä¼šæ‰¹å¤„ç†ã€‚React 18 æ‰©å±•åˆ°äº†æ‰€æœ‰åœºæ™¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// React 18 ä¸­ï¼Œè¿™äº›ä¹Ÿä¼šè¢«æ‰¹å¤„ç†</span>
<span class="hljs-built_in">setTimeout</span>(() =&gt; {
  <span class="hljs-built_in">setCount</span>(c =&gt; c + <span class="hljs-number">1</span>);
  <span class="hljs-built_in">setFlag</span>(f =&gt; !f);
  <span class="hljs-comment">// åªè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“</span>
}, <span class="hljs-number">1000</span>);

<span class="hljs-built_in">fetch</span>('/api')<span class="hljs-selector-class">.then</span>(() =&gt; {
  <span class="hljs-built_in">setData</span>(newData);
  <span class="hljs-built_in">setLoading</span>(false);
  <span class="hljs-comment">// åªè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“</span>
});
</code></pre>
<h2 data-id="heading-6">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-7">åœºæ™¯ 1: éœ€è¦ç«‹å³è¯»å–æ›´æ–°åçš„å€¼</h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);

const handleClick = () =&gt; {
  <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>);
  console<span class="hljs-selector-class">.log</span>(count); <span class="hljs-comment">// è¿˜æ˜¯æ—§å€¼ 0</span>
  
  <span class="hljs-comment">// è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ useEffect</span>
  <span class="hljs-built_in">useEffect</span>(() =&gt; {
    console<span class="hljs-selector-class">.log</span>(count); <span class="hljs-comment">// æ–°å€¼ 1</span>
  }, <span class="hljs-selector-attr">[count]</span>);
};
</code></pre>
<h3 data-id="heading-8">åœºæ™¯ 2: ä¾èµ–å¤šä¸ªçŠ¶æ€æ›´æ–°</h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[user, setUser]</span> = <span class="hljs-built_in">useState</span>(null);
const <span class="hljs-selector-attr">[loading, setLoading]</span> = <span class="hljs-built_in">useState</span>(false);

const fetchUser = async () =&gt; {
  <span class="hljs-built_in">setLoading</span>(true);
  const data = await api<span class="hljs-selector-class">.getUser</span>();
  <span class="hljs-built_in">setUser</span>(data);
  <span class="hljs-built_in">setLoading</span>(false);
  <span class="hljs-comment">// React ä¼šæ‰¹é‡å¤„ç†è¿™äº›æ›´æ–°ï¼Œåªæ¸²æŸ“ä¸€æ¬¡</span>
};
</code></pre>
<h3 data-id="heading-9">åœºæ™¯ 3: å¤æ‚çŠ¶æ€ç®¡ç†</h3>
<p>å¯¹äºå¤æ‚çš„çŠ¶æ€é€»è¾‘ï¼Œè€ƒè™‘ä½¿ç”¨ useReducerï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[state, dispatch]</span> = <span class="hljs-built_in">useReducer</span>(reducer, initialState);

<span class="hljs-comment">// ä¸€æ¬¡ dispatch å¯ä»¥æ›´æ–°å¤šä¸ªç›¸å…³çŠ¶æ€</span>
<span class="hljs-built_in">dispatch</span>({ type: 'FETCH_SUCCESS', payload: data });
</code></pre>
<h2 data-id="heading-10">å…³é”®è¦ç‚¹</h2>
<ol>
<li><strong>çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥çš„</strong> - ä¸è¦æœŸæœ› setState åç«‹å³è¯»å–æ–°å€¼</li>
<li><strong>ä½¿ç”¨å‡½æ•°å¼æ›´æ–°</strong> - å½“æ–°çŠ¶æ€ä¾èµ–æ—§çŠ¶æ€æ—¶</li>
<li><strong>æ‰¹é‡æ›´æ–°æå‡æ€§èƒ½</strong> - React ä¼šè‡ªåŠ¨ä¼˜åŒ–å¤šæ¬¡ setState</li>
<li><strong>ä¿æŒ Hook è°ƒç”¨é¡ºåº</strong> - ä¸è¦åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hook</li>
<li><strong>çŠ¶æ€æ˜¯ä¸å¯å˜çš„</strong> - æ›´æ–°å¯¹è±¡æˆ–æ•°ç»„æ—¶è¦åˆ›å»ºæ–°çš„å¼•ç”¨</li>
</ol>
<p>è¿™äº›æœºåˆ¶è®© React èƒ½å¤Ÿé«˜æ•ˆåœ°ç®¡ç†ç»„ä»¶çŠ¶æ€ï¼ŒåŒæ—¶ä¿æŒ UI çš„ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼]]></title>    <link>https://juejin.cn/post/7593164154631454729</link>    <guid>https://juejin.cn/post/7593164154631454729</guid>    <pubDate>2026-01-09T09:30:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154631454729" data-draft-id="7593077945016107035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼"/> <meta itemprop="keywords" content="Windows"/> <meta itemprop="datePublished" content="2026-01-09T09:30:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—ç…ç…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964277933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964277933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—ç…ç…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:30:27.000Z" title="Fri Jan 09 2026 09:30:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼</h2>
<p>æœ€è¿‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªéå¸¸è¯¡å¼‚çš„é—®é¢˜ï¼š<strong>PowerShell ä¸€å¯åŠ¨ï¼Œç”µè„‘å°±åƒè¢«æ–½äº†å®šèº«æ³•ä¸€æ ·å¡é¡¿ã€‚</strong> æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼ŒPowerShell è¿›ç¨‹çš„å†…å­˜å ç”¨åƒåç«ç®­ä¸€æ ·è¹­è¹­å¾€ä¸Šæ¶¨ï¼Œç”šè‡³åœ¨æ²¡æœ‰ä»»ä½•æ‰‹åŠ¨æ“ä½œçš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>ç»è¿‡ä¸€ç•ªä¾¦æ¢å¼çš„æ’æŸ¥ï¼Œç»ˆäºæªå‡ºäº†å¹•åçœŸå‡¶ã€‚ä»Šå¤©å°±æŠŠè¿™ä¸ªæ’æŸ¥è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆåˆ†äº«ç»™å¤§å®¶ï¼Œå¦‚æœä½ çš„ç»ˆç«¯ä¹Ÿç»å¸¸å¡é¡¿ï¼Œä¸å¦¨æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 data-id="heading-1">ğŸ§ é—®é¢˜ç°åœº</h3>
<p>ç°è±¡éå¸¸ç®€å•ç²—æš´ï¼š</p>
<ul>
<li>åŒå‡»å¯åŠ¨ PowerShellï¼ˆæˆ–è€…åœ¨ VS Code ä¸­æ‰“å¼€ç»ˆç«¯ï¼‰ã€‚</li>
<li>ç³»ç»Ÿæ˜æ˜¾å¡é¡¿ï¼Œé¼ æ ‡ç§»åŠ¨éƒ½å˜å¾—è¿Ÿç¼“ã€‚</li>
<li>æŸ¥çœ‹ä»»åŠ¡ç®¡ç†å™¨ï¼ŒPowerShell è¿›ç¨‹å ç”¨å†…å­˜æé«˜ï¼ˆç”šè‡³è¾¾åˆ° GB çº§åˆ«ï¼‰ã€‚</li>
<li>ç­‰å¾…è®¸ä¹…åï¼Œç»ˆç«¯æ‰å‹‰å¼ºå¯ä»¥è¾“å…¥å‘½ä»¤ã€‚</li>
</ul>
<h3 data-id="heading-2">ğŸ•µï¸â€â™‚ï¸ æŠ½ä¸å‰¥èŒ§ï¼šæ’æŸ¥è¿‡ç¨‹</h3>
<p>ä¸ºäº†æ‰¾åˆ°åŸå› ï¼Œæˆ‘å¹¶æ²¡æœ‰æ€¥ç€é‡è£…ç³»ç»Ÿï¼ˆè™½ç„¶è¿™æ˜¯ä¸‡èƒ½å¤§æ³•ï¼‰ï¼Œè€Œæ˜¯å†³å®šæ·±å…¥ç³»ç»Ÿå†…éƒ¨çœ‹ä¸€çœ‹ã€‚</p>
<h4 data-id="heading-3">1. è¿›ç¨‹åˆ†æ</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä½¿ç”¨ <code>Get-Process</code> å‘½ä»¤æŸ¥çœ‹äº† PowerShell è¿›ç¨‹çš„çŠ¶æ€ã€‚æœä¸å…¶ç„¶ï¼Œ<code>WorkingSet</code>ï¼ˆå·¥ä½œé›†å†…å­˜ï¼‰æ•°å€¼å¼‚å¸¸çš„é«˜ã€‚</p>
<h4 data-id="heading-4">2. ç¯å¢ƒæ£€æŸ¥</h4>
<p>æˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯æŸä¸ª Profile é…ç½®æ–‡ä»¶æˆ–è€…åŠ è½½çš„æ¨¡å—æœ‰é—®é¢˜ã€‚æ£€æŸ¥äº† <code>$PROFILE</code>ï¼Œå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å¯åŠ¨è„šæœ¬ã€‚æ¥ç€æ£€æŸ¥å·²åŠ è½½çš„æ¨¡å—ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆæ­£å¸¸ã€‚</p>
<h4 data-id="heading-5">3. å…³é”®å‘ç°</h4>
<p>åœ¨æ’æŸ¥ PowerShell çš„å¸¸ç”¨æ¨¡å— <strong>PSReadLine</strong> æ—¶ï¼Œæˆ‘æ³¨æ„åˆ°äº†ä¸€ä¸ªç»†èŠ‚ã€‚è¿™ä¸ªæ¨¡å—è´Ÿè´£ç®¡ç†æˆ‘ä»¬çš„å‘½ä»¤è¡Œå†å²è®°å½•ã€è¯­æ³•é«˜äº®ç­‰åŠŸèƒ½ã€‚å®ƒä¼šæŠŠæˆ‘ä»¬æ•²è¿‡çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¿å­˜åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶é‡Œã€‚</p>
<p>æˆ‘é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°äº†è¿™ä¸ªæ–‡ä»¶ï¼Œç»“æœè®©æˆ‘å¤§åƒä¸€æƒŠï¼š</p>
<blockquote>
<p><strong>æ–‡ä»¶è·¯å¾„ï¼š</strong> <code>%APPDATA%\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt</code>
<strong>æ–‡ä»¶å¤§å°ï¼š</strong> <strong>832 MB</strong></p>
</blockquote>
<p>æ²¡é”™ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¸€ä¸ªçº¯æ–‡æœ¬çš„å†å²è®°å½•æ–‡ä»¶ï¼Œç«Ÿç„¶æœ‰ <strong>800å¤šå…†</strong>ï¼è¿™æ„å‘³ç€é‡Œé¢å¯èƒ½ä¿å­˜äº†æ•°ç™¾ä¸‡è¡Œçš„å‘½ä»¤å†å²ã€‚</p>
<p><strong>çœŸç›¸å¤§ç™½ï¼š</strong> PowerShell åœ¨å¯åŠ¨æ—¶ï¼ŒPSReadLine æ¨¡å—ä¼šå°è¯•åŠ è½½è¿™ä¸ªå·¨å¤§çš„å†å²è®°å½•æ–‡ä»¶ï¼Œä»¥ä¾¿æä¾›â€œå‘ä¸Šç®­å¤´â€æŸ¥æ‰¾å†å²å‘½ä»¤çš„åŠŸèƒ½ã€‚è¿™å°±å¥½æ¯”è®©ä½ ä¸€å£æ°”èƒŒè¯µä¸€æœ¬å­—å…¸ï¼Œä¸å¡æ‰æ€ªï¼</p>
<h3 data-id="heading-6">ğŸ› ï¸ ä¸€é”®è§£å†³</h3>
<p>æ—¢ç„¶æ‰¾åˆ°äº†ç—…ç¶ï¼Œæ²»ç–—æ–¹æ¡ˆå°±éå¸¸ç®€å•äº†ï¼š<strong>è®© PowerShell æ”¾å¼ƒåŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚</strong></p>
<p>ä¸ºäº†ä¿é™©èµ·è§ï¼ˆä¸‡ä¸€é‡Œé¢æœ‰é‡è¦çš„å†å²å‘½ä»¤å‘¢ï¼‰ï¼Œæˆ‘æ²¡æœ‰ç›´æ¥åˆ é™¤å®ƒï¼Œè€Œæ˜¯é€‰æ‹©äº†é‡å‘½åã€‚</p>
<h4 data-id="heading-7">æ“ä½œæ­¥éª¤ï¼š</h4>
<p>æ‰“å¼€ä½ çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼Œæˆ–è€…ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># è¿›å…¥ PSReadLine ç›®å½•
cd "$env:APPDATA\Microsoft\Windows\PowerShell\PSReadLine"

# å°†å·¨å¤§çš„å†å²æ–‡ä»¶é‡å‘½åå¤‡ä»½
Rename-Item .\ConsoleHost_history.txt -NewName ConsoleHost_history.txt.bak
</code></pre>
<p><strong>æ•ˆæœç«‹ç«¿è§å½±ï¼š</strong>
å†æ¬¡å¯åŠ¨ PowerShellï¼Œç§’å¼€ï¼å†…å­˜å ç”¨æ¢å¤åˆ°äº†å‡ å MB çš„æ­£å¸¸æ°´å¹³ã€‚ç³»ç»Ÿç¬é—´æ¢å¤äº†ä¸èˆ¬é¡ºæ»‘ã€‚</p>
<h3 data-id="heading-8">ğŸ’¡ é¿å‘æŒ‡å—</h3>
<p>é—®é¢˜è§£å†³äº†ï¼Œä½†ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å†å²æ–‡ä»¶å‘¢ï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ol>
<li><strong>æ—¥ç§¯æœˆç´¯ï¼š</strong> ä»æ¥æ²¡æœ‰æ¸…ç†è¿‡ï¼Œæ•°å¹´çš„æ“ä½œè®°å½•éƒ½åœ¨é‡Œé¢ã€‚</li>
<li><strong>è‡ªåŠ¨åŒ–è„šæœ¬ï¼š</strong> æŸäº›è‡ªåŠ¨åŒ–è„šæœ¬å¦‚æœåœ¨ PowerShell ç¯å¢ƒä¸‹ç–¯ç‹‚å¾ªç¯æ‰§è¡Œå‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä¹Ÿä¼šè¢«è®°å½•ä¸‹æ¥ã€‚</li>
</ol>
<h4 data-id="heading-9">å»ºè®®ï¼š</h4>
<ul>
<li>å®šæœŸæ£€æŸ¥ä¸€ä¸‹ <code>%APPDATA%\Microsoft\Windows\PowerShell\PSReadLine\</code> ç›®å½•ä¸‹çš„æ–‡ä»¶å¤§å°ã€‚</li>
<li>å¦‚æœä½ å‘ç°è‡ªå·±ä¸éœ€è¦ä¿ç•™é‚£ä¹ˆä¹…è¿œçš„å†å²è®°å½•ï¼Œå¯ä»¥è€ƒè™‘å®šæœŸæ¸…ç†ã€‚</li>
<li>å¦‚æœé‚£ä¸ª 800MB çš„å¤‡ä»½æ–‡ä»¶é‡Œæ²¡æœ‰ä½ éœ€è¦çš„â€œä¼ å®¶å®â€ä»£ç ï¼Œæœæ–­åˆ æ‰å®ƒé‡Šæ”¾ç©ºé—´å§ï¼</li>
</ul>
<hr/>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°é‡åˆ°åŒæ ·é—®é¢˜çš„ä½ ã€‚Happy Coding! ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£]]></title>    <link>https://juejin.cn/post/7593139476840169478</link>    <guid>https://juejin.cn/post/7593139476840169478</guid>    <pubDate>2026-01-09T09:07:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840169478" data-draft-id="7592921639465304106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Android"/> <meta itemprop="datePublished" content="2026-01-09T09:07:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é’è²843"/> <meta itemprop="url" content="https://juejin.cn/user/541408646929991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/541408646929991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é’è²843
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:07:28.000Z" title="Fri Jan 09 2026 09:07:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£</h2>
<h3 data-id="heading-1">äº‹ä»¶æ¥æº</h3>
<h4 data-id="heading-2">äº‹ä»¶äº§ç”Ÿæµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·è§¦æ‘¸å±å¹•
<span class="hljs-code">    â†“
InputManagerï¼ˆç³»ç»ŸæœåŠ¡ï¼‰
    â†“
é€šè¿‡Binderä¼ é€’åˆ°åº”ç”¨è¿›ç¨‹
    â†“
ä¸»çº¿ç¨‹çš„MessageQueue
    â†“
Looperå–å‡ºäº‹ä»¶
    â†“
Activity.dispatchTouchEvent()
    â†“
å¼€å§‹äº‹ä»¶åˆ†å‘
</span></code></pre>
<hr/>
<h3 data-id="heading-3">ViewGroupäº‹ä»¶æµå‘è¯¦è§£</h3>
<h4 data-id="heading-4">ViewGroupçš„ä¸‰ä¸ªæ–¹æ³•</h4>

























<table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>dispatchTouchEvent()</code></td><td>åˆ†å‘äº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onInterceptTouchEvent()</code></td><td>æ‹¦æˆªäº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onTouchEvent()</code></td><td>å¤„ç†äº‹ä»¶</td><td>boolean</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-5">dispatchTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-6">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ä¸ä¼šéå†å­Viewï¼ˆä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼‰
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼ŒViewGroup <span class="hljs-selector-tag">A</span>æˆä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€åŸå› ã€‘ç³»ç»Ÿè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTargetï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„æ‹¦æˆªåˆ¤æ–­é€»è¾‘</li>
<li>è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„åˆ¤æ–­</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹</li>
<li>ç³»ç»Ÿè®¤ä¸ºäº‹ä»¶å·²ç»å¤„ç†å®Œæˆï¼Œä¸éœ€è¦ç»§ç»­ä¼ é€’</li>
<li>è¿™æ˜¯äº‹ä»¶åˆ†å‘çš„æ ¸å¿ƒæœºåˆ¶ï¼šä¸€æ—¦æ¶ˆè´¹ï¼Œåœæ­¢ä¼ é€’</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„Viewï¼ˆmFirstTouchTargetï¼‰</li>
<li>åç»­çš„MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>è¿™æ˜¯ä¸ºäº†ä¿æŒäº‹ä»¶åºåˆ—çš„ä¸€è‡´æ€§</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å®Œå…¨æ§åˆ¶äº‹ä»¶å¤„ç†</span>
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// å¤„ç†æŒ‰ä¸‹äº‹ä»¶</span>
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è¿”å›trueï¼Œäº‹ä»¶åœ¨æ­¤åœæ­¢</span>
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// å¤„ç†ç§»åŠ¨äº‹ä»¶</span>
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// å¤„ç†æŠ¬èµ·äº‹ä»¶</span>
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‰€æœ‰äº‹ä»¶éƒ½æ¶ˆè´¹</span>
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonInterceptTouchEvent()å’ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦å®Œå…¨æ§åˆ¶æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦é˜»æ­¢äº‹ä»¶ä¼ é€’ç»™å­View</li>
<li>å®ç°ç‰¹æ®Šçš„è§¦æ‘¸äº¤äº’é€»è¾‘</li>
</ul>
<hr/>
<h5 data-id="heading-7">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ä¸ä¼šéå†å­Viewï¼ˆä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼‰
    â†“
äº‹ä»¶è¿”å›åˆ°çˆ¶ViewGroupï¼ˆDecorViewï¼‰
    â†“
DecorViewä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
å¦‚æœéƒ½ä¸å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨Activity<span class="hljs-selector-class">.onTouchEvent</span>()
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€åŸå› ã€‘ç³»ç»Ÿä¸ä¼šè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡View
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup/Activity</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„æ‹¦æˆªåˆ¤æ–­é€»è¾‘</li>
<li>è¡¨ç¤ºViewGroupå®Œå…¨ä¸å‚ä¸äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶</li>
<li>ç³»ç»Ÿè®¤ä¸ºè¿™ä¸ªViewGroupä¸å‚ä¸äº‹ä»¶åˆ†å‘</li>
<li>ä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥ViewGroup</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// ViewGroupè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ è¿”å›falseï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonInterceptTouchEvent()å’ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
<li>ViewGroupä¸å¯è§æ—¶ï¼ˆGONEï¼‰</li>
<li>ViewGroupéœ€è¦å°†äº‹ä»¶å®Œå…¨äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-8">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘
    â†“
è¿›å…¥ViewGroup<span class="hljs-selector-class">.dispatchTouchEvent</span>()çš„é»˜è®¤å®ç°
    â†“
é¦–å…ˆè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()åˆ¤æ–­æ˜¯å¦æ‹¦æˆª
    â†“
æ ¹æ®<span class="hljs-built_in">onInterceptTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ å¦‚æœè¿”å›true â†’ æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­View
    â”‚   â””â”€ è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()
    â”‚       â”œâ”€ è¿”å›true â†’ ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹ âœ…
    â”‚       â””â”€ è¿”å›false â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
    â””â”€ å¦‚æœè¿”å›false â†’ ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View
        â””â”€ éå†å­Viewï¼Œè°ƒç”¨å­View<span class="hljs-selector-class">.dispatchTouchEvent</span>()
            â”œâ”€ å­Viewå¤„ç† â†’ å­Viewæ¶ˆè´¹ âœ…
            â””â”€ å­Viewä¸å¤„ç† â†’ è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®onInterceptTouchEvent()å’ŒonTouchEvent()çš„è¿”å›å€¼å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupéœ€è¦åˆ¤æ–­æ˜¯å¦æ‹¦æˆªäº‹ä»¶</li>
<li>è¿™æ˜¯ViewGroupçš„æ ¸å¿ƒåŠŸèƒ½ï¼šæ§åˆ¶å­Viewçš„äº‹ä»¶</li>
<li>åªæœ‰ViewGroupæœ‰è¿™ä¸ªæ–¹æ³•</li>
</ul>
</li>
<li>
<p><strong>æ‹¦æˆªå’Œä¸æ‹¦æˆªçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>æ‹¦æˆªï¼ˆtrueï¼‰</strong>ï¼šäº‹ä»¶ä¸ä¼ é€’ç»™å­Viewï¼Œç”±ViewGroupè‡ªå·±å¤„ç†</li>
<li><strong>ä¸æ‹¦æˆªï¼ˆfalseï¼‰</strong>ï¼šäº‹ä»¶ä¼ é€’ç»™å­Viewï¼Œè®©å­Viewå¤„ç†</li>
</ul>
</li>
<li>
<p><strong>å­Viewå¤„ç†å’Œä¸å¤„ç†çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>å­Viewå¤„ç†</strong>ï¼šäº‹ä»¶è¢«å­Viewæ¶ˆè´¹ï¼ŒViewGroupçš„onTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</li>
<li><strong>å­Viewä¸å¤„ç†</strong>ï¼šäº‹ä»¶è¿”å›ViewGroupï¼Œè°ƒç”¨ViewGroupçš„onTouchEvent()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•åˆ¤æ–­æ˜¯å¦æ‹¦æˆª</span>
        <span class="hljs-comment">// è¿”å›trueæ‹¦æˆªï¼Œè¿”å›falseä¸æ‹¦æˆª</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(event);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å¦‚æœæ‹¦æˆªæˆ–å­Viewä¸å¤„ç†ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶åˆ†å‘é€»è¾‘</li>
<li>ä¸éœ€è¦å®Œå…¨è‡ªå®šä¹‰äº‹ä»¶å¤„ç†</li>
</ul>
<hr/>
<h4 data-id="heading-9">onInterceptTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šåªæœ‰ViewGroupæœ‰ï¼ŒViewæ²¡æœ‰æ­¤æ–¹æ³•</p>
</blockquote>
<h5 data-id="heading-10">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ‹¦æˆªäº‹ä»¶ï¼Œä¸ä¼ é€’ç»™å­View
    â†“
ä¸ä¼šéå†å­Viewï¼ˆæ‹¦æˆªäº†ï¼Œä¸éœ€è¦ä¼ é€’ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨å­Viewçš„<span class="hljs-built_in">dispatchTouchEvent</span>()ï¼ˆå­Viewä¸ä¼šæ”¶åˆ°äº‹ä»¶ï¼‰
    â†“
å¦‚æœå­Viewä¹‹å‰æ”¶åˆ°äº†ACTION_DOWNï¼Œä¼šæ”¶åˆ°ACTION_CANCEL
    ã€è¯´æ˜ã€‘DOWNæ—¶ä¸æ‹¦æˆªï¼ŒMOVEæ—¶æ‹¦æˆªçš„æƒ…å†µ
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()ï¼ˆæ‹¦æˆªåï¼Œç”±ViewGroupè‡ªå·±å¤„ç†ï¼‰
    â†“
æ ¹æ®<span class="hljs-built_in">onTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ è¿”å›true â†’ ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹äº‹ä»¶ âœ…
    â””â”€ è¿”å›false â†’ äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ›‘ <strong>æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­Viewï¼Œè°ƒç”¨è‡ªå·±çš„onTouchEvent()</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>onInterceptTouchEvent()è¿”å›trueè¡¨ç¤ºæ‹¦æˆª</li>
<li>æ‹¦æˆªæ„å‘³ç€ViewGroupè¦è‡ªå·±å¤„ç†äº‹ä»¶</li>
<li>ç³»ç»Ÿä¸ä¼šå°†äº‹ä»¶ä¼ é€’ç»™å­View</li>
</ul>
</li>
<li>
<p><strong>ACTION_CANCELä»€ä¹ˆæ—¶å€™å‘é€ï¼Ÿ</strong></p>
<ul>
<li>å½“ViewGroupåœ¨MOVEæ—¶æ‹¦æˆªï¼Œè€Œå­Viewä¹‹å‰æ”¶åˆ°äº†DOWN</li>
<li>ç³»ç»Ÿä¼šå‘é€ACTION_CANCELç»™å­View</li>
<li>å­Viewåº”è¯¥æ¸…ç†çŠ¶æ€ï¼Œæ¢å¤åˆ°åˆå§‹çŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>æ‹¦æˆªçš„æ—¶æœºï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨DOWNæ—¶æ‹¦æˆª</li>
<li>å¯ä»¥åœ¨MOVEæ—¶æ‹¦æˆªï¼ˆæ›´å¸¸è§ï¼‰</li>
<li>å¯ä»¥åœ¨UPæ—¶æ‹¦æˆªï¼ˆå°‘è§ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomScrollView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ScrollView</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> mLastX, mLastY;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-type">float</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> event.getX();
        <span class="hljs-type">float</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> event.getY();
        
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                mLastX = x;
                mLastY = y;
                <span class="hljs-comment">// DOWNæ—¶ä¸æ‹¦æˆªï¼Œè®©å­Viewå¯ä»¥ç‚¹å‡»</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-type">float</span> <span class="hljs-variable">deltaX</span> <span class="hljs-operator">=</span> Math.abs(x - mLastX);
                <span class="hljs-type">float</span> <span class="hljs-variable">deltaY</span> <span class="hljs-operator">=</span> Math.abs(y - mLastY);
                <span class="hljs-comment">// å¦‚æœæ˜¯å‚ç›´æ»‘åŠ¨ï¼Œæ‹¦æˆªäº‹ä»¶</span>
                <span class="hljs-keyword">if</span> (deltaY &gt; deltaX &amp;&amp; deltaY &gt; <span class="hljs-number">10</span>) {
                    <span class="hljs-comment">// æ­¤æ—¶å­Viewä¼šæ”¶åˆ°ACTION_CANCEL</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ‹¦æˆª</span>
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// æ‹¦æˆªåï¼Œè‡ªå·±å¤„ç†æ»‘åŠ¨</span>
        handleScroll(event);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ScrollViewéœ€è¦æ‹¦æˆªå­Viewçš„æ»‘åŠ¨äº‹ä»¶</li>
<li>ViewPageréœ€è¦æ‹¦æˆªå­Viewçš„å·¦å³æ»‘åŠ¨</li>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦æ§åˆ¶å­Viewçš„äº‹ä»¶</li>
</ul>
<hr/>
<h5 data-id="heading-11">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">ViewGroup A.dispatchTouchEvent() â†’ super
    â†“
è°ƒç”¨ViewGroup A.onInterceptTouchEvent()
    â†“
ViewGroup A.onInterceptTouchEvent()è¿”å›<span class="hljs-literal">false</span> âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›<span class="hljs-literal">false</span>è¡¨ç¤ºä¸æ‹¦æˆªï¼Œäº‹ä»¶ç»§ç»­ä¼ é€’ç»™å­<span class="hljs-keyword">View</span>
    â†“
å¼€å§‹éå†å­<span class="hljs-keyword">View</span>ï¼ˆä»åå¾€å‰ï¼Œä¸Šå±‚<span class="hljs-keyword">View</span>ä¼˜å…ˆï¼‰
    â†“
æ£€æŸ¥å­<span class="hljs-keyword">View</span>æ˜¯å¦å¯æ¥æ”¶äº‹ä»¶ï¼ˆå¯è§ã€åæ ‡èŒƒå›´å†…ã€å¯ç”¨ï¼‰
    â†“
å¯¹äºç¬¦åˆæ¡ä»¶çš„å­<span class="hljs-keyword">View</span>ï¼Œè°ƒç”¨å­View.dispatchTouchEvent()
    â†“
æ ¹æ®å­<span class="hljs-keyword">View</span>çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ å­<span class="hljs-keyword">View</span>è¿”å›<span class="hljs-literal">true</span> â†’ å­<span class="hljs-keyword">View</span>æ¶ˆè´¹äº‹ä»¶ âœ…
    â”‚   â””â”€ è®°å½•ç›®æ ‡<span class="hljs-keyword">View</span>ï¼ˆmFirstTouchTarget <span class="hljs-operator">=</span> å­<span class="hljs-keyword">View</span>ï¼‰
    â”‚   â””â”€ ViewGroup Açš„onTouchEvent()ä¸ä¼šè¢«è°ƒç”¨
    â”‚   â””â”€ åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¯¥å­<span class="hljs-keyword">View</span>
    â””â”€ å­<span class="hljs-keyword">View</span>è¿”å›<span class="hljs-literal">false</span> â†’ ç»§ç»­éå†ä¸‹ä¸€ä¸ªå­<span class="hljs-keyword">View</span>
        â””â”€ å¦‚æœæ‰€æœ‰å­<span class="hljs-keyword">View</span>éƒ½ä¸å¤„ç†
            â””â”€ è°ƒç”¨ViewGroup A.onTouchEvent()
                â”œâ”€ è¿”å›<span class="hljs-literal">true</span> â†’ ViewGroup Aæ¶ˆè´¹ âœ…
                â””â”€ è¿”å›<span class="hljs-literal">false</span> â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬‡ï¸ <strong>ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä»åå¾€å‰éå†ï¼Ÿ</strong></p>
<ul>
<li>åæ·»åŠ çš„Viewåœ¨Zè½´ä¸Šå±‚</li>
<li>ä¸Šå±‚Viewåº”è¯¥ä¼˜å…ˆå“åº”è§¦æ‘¸äº‹ä»¶</li>
<li>ç¬¦åˆç”¨æˆ·çš„è§†è§‰é¢„æœŸ</li>
</ul>
</li>
<li>
<p><strong>å­Viewçš„æ£€æŸ¥æ¡ä»¶ï¼š</strong></p>
<ul>
<li><strong>å¯è§æ€§</strong>ï¼šå¿…é¡»æ˜¯VISIBLEï¼ˆGONEå’ŒINVISIBLEä¸æ¥æ”¶äº‹ä»¶ï¼‰</li>
<li><strong>åæ ‡</strong>ï¼šè§¦æ‘¸ç‚¹å¿…é¡»åœ¨å­Viewçš„åŒºåŸŸå†…</li>
<li><strong>å¯ç”¨æ€§</strong>ï¼šå­Viewå¿…é¡»æ˜¯enabledçŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>mFirstTouchTargetçš„ä½œç”¨ï¼š</strong></p>
<ul>
<li>è®°å½•å¤„ç†ACTION_DOWNçš„å­View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>é¿å…é‡å¤éå†ï¼Œæé«˜æ€§èƒ½</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä¸æ‹¦æˆªï¼Œè®©å­Viewæ­£å¸¸å¤„ç†äº‹ä»¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿä¼šè‡ªåŠ¨éå†å­Viewï¼Œè°ƒç”¨å­View.dispatchTouchEvent()</span>
    <span class="hljs-comment">// å¦‚æœå­Viewå¤„ç†ï¼Œäº‹ä»¶è¢«å­Viewæ¶ˆè´¹</span>
    <span class="hljs-comment">// å¦‚æœå­Viewä¸å¤„ç†ï¼Œä¼šè°ƒç”¨onTouchEvent()</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦å­Viewæ­£å¸¸å¤„ç†äº‹ä»¶</li>
<li>ä¸éœ€è¦æ‹¦æˆªå­Viewçš„äº‹ä»¶</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨ï¼ˆLinearLayoutã€RelativeLayoutç­‰ï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-12">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿé»˜è®¤å®ç°è¿”å›falseï¼ˆViewGroupé»˜è®¤ä¸æ‹¦æˆªï¼‰
    â†“
ç­‰åŒäºè¿”å›falseï¼Œäº‹ä»¶ç»§ç»­ä¼ é€’ç»™å­View
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬‡ï¸ <strong>ç­‰åŒäºè¿”å›falseï¼Œä¼ é€’ç»™å­View</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆé»˜è®¤è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>ViewGroupçš„è®¾è®¡ç†å¿µæ˜¯ï¼šé»˜è®¤ä¸æ‹¦æˆªï¼Œè®©å­Viewå¤„ç†</li>
<li>åªæœ‰åœ¨éœ€è¦æ—¶æ‰æ‹¦æˆªï¼ˆå¦‚ScrollViewéœ€è¦æ»‘åŠ¨ï¼‰</li>
<li>è¿™æ ·å¯ä»¥ä¿è¯å­Viewçš„æ­£å¸¸äº¤äº’</li>
</ul>
</li>
<li>
<p><strong>superå’Œfalseçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>åŠŸèƒ½ä¸Š</strong>ï¼šå®Œå…¨ç›¸åŒï¼Œéƒ½è¡¨ç¤ºä¸æ‹¦æˆª</li>
<li><strong>è¯­ä¹‰ä¸Š</strong>ï¼šsuperè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤ï¼Œfalseè¡¨ç¤ºæ˜ç¡®ä¸æ‹¦æˆª</li>
<li><strong>æ¨è</strong>ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨superï¼Œæ›´ç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™éœ€è¦è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>å½“éœ€è¦æ˜ç¡®è¡¨ç¤ºä¸æ‹¦æˆªæ—¶</li>
<li>å½“éœ€è¦è¦†ç›–çˆ¶ç±»çš„æ‹¦æˆªé€»è¾‘æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°ï¼ˆè¿”å›falseï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(event);
    }
    
    <span class="hljs-comment">// ç­‰åŒäºï¼š</span>
    <span class="hljs-comment">// @Override</span>
    <span class="hljs-comment">// public boolean onInterceptTouchEvent(MotionEvent event) {</span>
    <span class="hljs-comment">//     return false;</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>ä¸éœ€è¦è‡ªå®šä¹‰æ‹¦æˆªé€»è¾‘</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨</li>
</ul>
<hr/>
<h4 data-id="heading-13">onTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-14">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘æ‹¦æˆªäº†äº‹ä»¶ æˆ– å­Viewä¸å¤„ç†äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼Œç³»ç»Ÿè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTargetï¼‰
    â†“
çˆ¶ViewGroup/Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¸ä¼šè¢«è°ƒç”¨
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šç›´æ¥è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œä¸å†å‘ä¸Šä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li><strong>æƒ…å†µ1</strong>ï¼šViewGroupæ‹¦æˆªäº†äº‹ä»¶ï¼ˆonInterceptTouchEventè¿”å›trueï¼‰</li>
<li><strong>æƒ…å†µ2</strong>ï¼šå­Viewä¸å¤„ç†äº‹ä»¶ï¼ˆå­Viewçš„onTouchEventè¿”å›falseï¼‰</li>
<li><strong>æƒ…å†µ3</strong>ï¼šæ²¡æœ‰å­Viewæˆ–å­Viewä¸å¯è§</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>è¿™æ˜¯ä¸ºäº†ä¿æŒäº‹ä»¶åºåˆ—çš„ä¸€è‡´æ€§</li>
</ul>
</li>
<li>
<p><strong>åç»­äº‹ä»¶çš„æ‹¦æˆªåˆ¤æ–­ï¼š</strong></p>
<ul>
<li>åç»­MOVEã€UPä»ç„¶ä¼šè°ƒç”¨onInterceptTouchEvent()</li>
<li>å¦‚æœæ‹¦æˆªï¼Œå­Viewä¼šæ”¶åˆ°ACTION_CANCEL</li>
<li>è¿™æ˜¯åŠ¨æ€æ‹¦æˆªæœºåˆ¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// æ‹¦æˆªäº‹ä»¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ‹¦æˆª</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// å¤„ç†æŒ‰ä¸‹</span>
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// å¤„ç†ç§»åŠ¨</span>
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// å¤„ç†æŠ¬èµ·</span>
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ScrollViewå¤„ç†æ»‘åŠ¨äº‹ä»¶</li>
<li>ViewPagerå¤„ç†å·¦å³æ»‘åŠ¨</li>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦å¤„ç†è§¦æ‘¸äº‹ä»¶</li>
<li>ç‚¹å‡»ç©ºç™½åŒºåŸŸæ—¶å¤„ç†äº‹ä»¶</li>
</ul>
<hr/>
<h5 data-id="heading-15">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘æ‹¦æˆªäº†äº‹ä»¶ æˆ– å­Viewä¸å¤„ç†äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸æ¶ˆè´¹äº‹ä»¶ï¼Œå‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶è¿”å›åˆ°çˆ¶ViewGroupï¼ˆDecorViewï¼‰
    â†“
DecorViewä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
å¦‚æœéƒ½ä¸å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨Activity<span class="hljs-selector-class">.onTouchEvent</span>()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šé‡æ–°ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup/Activity</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥ViewGroup</li>
</ul>
</li>
<li>
<p><strong>å‘ä¸Šä¼ é€’çš„è·¯å¾„ï¼š</strong></p>
<ul>
<li>ViewGroup A â†’ çˆ¶ViewGroupï¼ˆDecorViewï¼‰â†’ Activity</li>
<li>æ¯ä¸€å±‚éƒ½ä¼šå°è¯•å¤„ç†äº‹ä»¶</li>
<li>å¦‚æœéƒ½ä¸å¤„ç†ï¼Œäº‹ä»¶ä¼šè¢«ä¸¢å¼ƒ</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>éœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‹¦æˆª</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// ViewGroupè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
<li>ViewGroupä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>éœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-16">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">ViewGroup A.onTouchEvent()è¢«è°ƒç”¨
    â†“
ViewGroup A.onTouchEvent()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿæ£€æŸ¥ViewGroupçš„clickableå±æ€§ï¼ˆViewGroupé»˜è®¤<span class="hljs-attr">clickable</span>=<span class="hljs-literal">false</span>ï¼‰
    â†“
æ ¹æ®clickableå±æ€§å†³å®šè¿”å›å€¼ï¼š
    â”œâ”€ <span class="hljs-attr">clickable</span>=<span class="hljs-literal">true</span> â†’ è¿”å›<span class="hljs-literal">true</span>ï¼ˆæ¶ˆè´¹äº‹ä»¶ï¼‰âœ…
    â”‚   â””â”€ äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œåç»­MOVEã€UPä¼šç»§ç»­ä¼ é€’
    â”‚   â””â”€ å¯ä»¥è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚æœè®¾ç½®äº†OnClickListenerï¼‰
    â””â”€ <span class="hljs-attr">clickable</span>=<span class="hljs-literal">false</span> â†’ è¿”å›<span class="hljs-literal">false</span>ï¼ˆä¸æ¶ˆè´¹äº‹ä»¶ï¼‰âŒ
        â””â”€ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œåç»­MOVEã€UPä¸ä¼šä¼ é€’
        â””â”€ ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®clickableå±æ€§å†³å®šï¼ˆViewGroupé»˜è®¤è¿”å›falseï¼‰</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ViewGroupçš„clickableé»˜è®¤å€¼ï¼š</strong></p>
<ul>
<li>ViewGroupé»˜è®¤clickable=false</li>
<li>æ‰€ä»¥super.onTouchEvent()é€šå¸¸è¿”å›false</li>
<li>è¿™ä¸Viewä¸åŒï¼ˆViewçš„Buttonç­‰é»˜è®¤clickable=trueï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è®©ViewGroupå¯ç‚¹å‡»ï¼Ÿ</strong></p>
<pre><code class="hljs language-java" lang="java">viewGroup.setClickable(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// æˆ–è€…</span>
viewGroup.setOnClickListener(listener);  <span class="hljs-comment">// ä¼šè‡ªåŠ¨è®¾ç½®clickable=true</span>
</code></pre>
</li>
<li>
<p><strong>clickable=trueæ—¶çš„è¡Œä¸ºï¼š</strong></p>
<ul>
<li>onTouchEvent()è¿”å›true</li>
<li>äº‹ä»¶è¢«æ¶ˆè´¹</li>
<li>å¯ä»¥è§¦å‘ç‚¹å‡»äº‹ä»¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomViewGroup</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
        <span class="hljs-comment">// é»˜è®¤clickable=false</span>
        <span class="hljs-comment">// super.onTouchEvent()ä¼šè¿”å›false</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// ViewGroupé»˜è®¤è¿”å›false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
    
    <span class="hljs-comment">// å¦‚æœéœ€è¦å¤„ç†ç‚¹å‡»ï¼Œå¯ä»¥ï¼š</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">enableClick</span><span class="hljs-params">()</span> {
        setClickable(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// è®¾ç½®ä¸ºå¯ç‚¹å‡»</span>
        setOnClickListener(v -&gt; {
            <span class="hljs-comment">// å¤„ç†ç‚¹å‡»</span>
        });
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>ä¸éœ€è¦è‡ªå®šä¹‰è§¦æ‘¸å¤„ç†</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨</li>
</ul>
<hr/>
<h3 data-id="heading-17">Viewäº‹ä»¶æµå‘è¯¦è§£</h3>
<h4 data-id="heading-18">Viewçš„ä¸¤ä¸ªæ–¹æ³•</h4>




















<table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>dispatchTouchEvent()</code></td><td>åˆ†å‘äº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onTouchEvent()</code></td><td>å¤„ç†äº‹ä»¶</td><td>boolean</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šViewæ²¡æœ‰onInterceptTouchEvent()æ–¹æ³•</p>
</blockquote>
<hr/>
<h4 data-id="heading-19">dispatchTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-20">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨onTouchEvent()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>è®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTarget = View <span class="hljs-selector-tag">B</span>ï¼‰
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šç›´æ¥è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«View Bæ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„onTouchEvent()è°ƒç”¨</li>
<li>è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„æ–¹æ³•è°ƒç”¨</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>ä¸ä¼šå†æ¬¡ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹</li>
</ul>
</li>
<li>
<p><strong>ViewGroupçš„æ‹¦æˆªå¯¹åç»­äº‹ä»¶çš„å½±å“ï¼š</strong></p>
<ul>
<li>å¦‚æœDOWNæ—¶æ²¡æ‹¦æˆªï¼Œåç»­MOVEã€UPä¹Ÿä¸ä¼šæ‹¦æˆªï¼ˆé™¤éåŠ¨æ€æ‹¦æˆªï¼‰</li>
<li>å¦‚æœDOWNæ—¶æ‹¦æˆªäº†ï¼Œåç»­MOVEã€UPä¼šç»§ç»­æ‹¦æˆª</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å®Œå…¨æ§åˆ¶äº‹ä»¶å¤„ç†</span>
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è¿”å›trueï¼Œäº‹ä»¶åœ¨æ­¤åœæ­¢</span>
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‰€æœ‰äº‹ä»¶éƒ½æ¶ˆè´¹</span>
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰Viewéœ€è¦å®Œå…¨æ§åˆ¶æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦å®ç°ç‰¹æ®Šçš„è§¦æ‘¸äº¤äº’é€»è¾‘</li>
<li>éœ€è¦é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„ç‚¹å‡»å¤„ç†</li>
</ul>
<hr/>
<h5 data-id="heading-21">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨onTouchEvent()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
äº‹ä»¶è¿”å›åˆ°ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>ç»§ç»­éå†å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„onTouchEvent()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„onTouchEvent()è°ƒç”¨</li>
<li>è¡¨ç¤ºViewå®Œå…¨ä¸å‚ä¸äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ViewGroupä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¼šç»§ç»­éå†å…¶ä»–å­View</li>
<li>å¦‚æœæ‰€æœ‰å­Viewéƒ½ä¸å¤„ç†ï¼Œè°ƒç”¨ViewGroupè‡ªå·±çš„onTouchEvent()</li>
<li>è¿™æ˜¯ViewGroupçš„é»˜è®¤è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥View</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// Viewè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ è¿”å›falseï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Viewè¢«ç¦ç”¨æ—¶ï¼ˆenabled=falseï¼‰</li>
<li>Viewä¸å¯è§æ—¶ï¼ˆvisibility=GONEï¼‰</li>
<li>Viewéœ€è¦å°†äº‹ä»¶å®Œå…¨äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-22">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘
    â†“
è¿›å…¥View<span class="hljs-selector-class">.dispatchTouchEvent</span>()çš„é»˜è®¤å®ç°
    â†“
æ£€æŸ¥å®‰å…¨æ€§å’ŒViewæ˜¯å¦å¯ç”¨
    â†“
å¦‚æœæœ‰OnTouchListenerï¼Œå…ˆè°ƒç”¨OnTouchListener
    ã€è¯´æ˜ã€‘OnTouchListenerçš„ä¼˜å…ˆçº§é«˜äº<span class="hljs-built_in">onTouchEvent</span>()
    â†“
æ ¹æ®OnTouchListenerçš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ è¿”å›true â†’ ä¸è°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼Œäº‹ä»¶è¢«OnTouchListeneræ¶ˆè´¹ âœ…
    â””â”€ è¿”å›falseæˆ–null â†’ è°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
        â””â”€ æ ¹æ®<span class="hljs-built_in">onTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
            â”œâ”€ è¿”å›true â†’ Viewæ¶ˆè´¹ âœ…
            â””â”€ è¿”å›false â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®OnTouchListenerå’ŒonTouchEvent()çš„è¿”å›å€¼å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>OnTouchListenerçš„ä¼˜å…ˆçº§ï¼š</strong></p>
<ul>
<li>OnTouchListeneråœ¨onTouchEvent()ä¹‹å‰è°ƒç”¨</li>
<li>å¦‚æœOnTouchListenerè¿”å›trueï¼ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</li>
<li>è¿™æ˜¯ä¸ºäº†ç»™å¤–éƒ¨ç›‘å¬å™¨æ›´é«˜çš„ä¼˜å…ˆçº§</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>onFilterTouchEventForSecurity()ï¼šæ£€æŸ¥äº‹ä»¶æ˜¯å¦å®‰å…¨</li>
<li>é˜²æ­¢æŸäº›å®‰å…¨æ¼æ´</li>
</ul>
</li>
<li>
<p><strong>Viewçš„å¯ç”¨æ€§æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>å¦‚æœViewä¸å¯ç”¨ï¼ˆenabled=falseï¼‰ï¼ŒæŸäº›é€»è¾‘ä¸ä¼šæ‰§è¡Œ</li>
<li>ä½†äº‹ä»¶ä»ç„¶ä¼šä¼ é€’</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿä¼šï¼š</span>
    <span class="hljs-comment">// 1. æ£€æŸ¥å®‰å…¨æ€§</span>
    <span class="hljs-comment">// 2. è°ƒç”¨OnTouchListenerï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="hljs-comment">// 3. è°ƒç”¨onTouchEvent()ï¼ˆå¦‚æœOnTouchListenerä¸å¤„ç†ï¼‰</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶å¤„ç†é€»è¾‘</li>
<li>ä¸éœ€è¦å®Œå…¨è‡ªå®šä¹‰äº‹ä»¶å¤„ç†</li>
</ul>
<hr/>
<h4 data-id="heading-23">onTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-24">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘<span class="hljs-built_in">dispatchTouchEvent</span>()è¿”å›super ä¸” OnTouchListenerä¸å¤„ç†
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼Œç³»ç»Ÿè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTarget = View <span class="hljs-selector-tag">B</span>ï¼‰
    â†“
çˆ¶ViewGroup<span class="hljs-selector-class">.onTouchEvent</span>()ä¸ä¼šè¢«è°ƒç”¨
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    â†“
å¦‚æœè®¾ç½®äº†OnClickListenerï¼Œåœ¨ACTION_UPæ—¶ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆ<span class="hljs-built_in">performClick</span>()ï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«View Bæ¶ˆè´¹ï¼Œä¸å†å‘ä¸Šä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›super</li>
<li>OnTouchListenerè¿”å›falseæˆ–null</li>
<li>æˆ–è€…OnTouchListenerä¸å­˜åœ¨</li>
</ul>
</li>
<li>
<p><strong>ç‚¹å‡»äº‹ä»¶çš„è§¦å‘ï¼š</strong></p>
<ul>
<li>åœ¨ACTION_UPæ—¶ï¼Œå¦‚æœViewå¯ç‚¹å‡»ï¼ˆclickable=trueï¼‰</li>
<li>ç³»ç»Ÿä¼šè°ƒç”¨performClick()</li>
<li>performClick()ä¼šè§¦å‘OnClickListener</li>
</ul>
</li>
<li>
<p><strong>åç»­äº‹ä»¶çš„ä¼ é€’ï¼š</strong></p>
<ul>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™View B</li>
<li>ä¸ä¼šå†æ¬¡ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹</li>
<li>ä½†ä»ç„¶ä¼šè°ƒç”¨dispatchTouchEvent()å’ŒonTouchEvent()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomButton</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
        setClickable(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// è®¾ç½®ä¸ºå¯ç‚¹å‡»</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// æŒ‰ä¸‹åé¦ˆ</span>
                setBackgroundColor(Color.RED);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// ç§»åŠ¨å¤„ç†</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// æŠ¬èµ·åé¦ˆ</span>
                setBackgroundColor(Color.BLUE);
                <span class="hljs-comment">// è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚æœè®¾ç½®äº†OnClickListenerï¼‰</span>
                performClick();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰Viewéœ€è¦å¤„ç†è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦å®ç°è‡ªå®šä¹‰çš„è§¦æ‘¸åé¦ˆ</li>
<li>éœ€è¦è§¦å‘ç‚¹å‡»äº‹ä»¶</li>
<li>Buttonã€ImageViewç­‰å¯ç‚¹å‡»çš„View</li>
</ul>
<hr/>
<h5 data-id="heading-25">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘<span class="hljs-built_in">dispatchTouchEvent</span>()è¿”å›super ä¸” OnTouchListenerä¸å¤„ç†
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸æ¶ˆè´¹äº‹ä»¶ï¼Œå‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶è¿”å›åˆ°ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>ä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">performClick</span>()ï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Ÿ</strong></p>
<ul>
<li>performClick()æ˜¯åœ¨onTouchEvent()ä¸­è°ƒç”¨çš„</li>
<li>å¦‚æœonTouchEvent()è¿”å›falseï¼Œè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶</li>
<li>ä¸å¤„ç†äº‹ä»¶å°±ä¸ä¼šè§¦å‘ç‚¹å‡»</li>
</ul>
</li>
<li>
<p><strong>ViewGroupä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¼šç»§ç»­å°è¯•å…¶ä»–å­View</li>
<li>å¦‚æœæ‰€æœ‰å­Viewéƒ½ä¸å¤„ç†ï¼Œè°ƒç”¨ViewGroupè‡ªå·±çš„onTouchEvent()</li>
<li>è¿™æ˜¯ViewGroupçš„é»˜è®¤è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>Viewä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>Viewè¢«ç¦ç”¨æ—¶</li>
<li>Viewéœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// Viewè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Viewè¢«ç¦ç”¨æ—¶ï¼ˆenabled=falseï¼‰</li>
<li>Viewä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>Viewéœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-26">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">View</span> B.onTouchEvent()è¢«è°ƒç”¨
    â†“
<span class="hljs-keyword">View</span> B.onTouchEvent()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿæ£€æŸ¥<span class="hljs-keyword">View</span>çš„clickableå±æ€§ï¼ˆä¸åŒ<span class="hljs-keyword">View</span>çš„é»˜è®¤å€¼ä¸åŒï¼‰
    â†“
æ ¹æ®clickableå±æ€§å†³å®šè¿”å›å€¼ï¼š
    â”œâ”€ clickable<span class="hljs-operator">=</span><span class="hljs-literal">true</span> â†’ è¿”å›<span class="hljs-literal">true</span>ï¼ˆæ¶ˆè´¹äº‹ä»¶ï¼‰âœ…
    â”‚   â””â”€ äº‹ä»¶è¢«<span class="hljs-keyword">View</span> Bæ¶ˆè´¹ï¼Œåç»­MOVEã€UPä¼šç»§ç»­ä¼ é€’
    â”‚   â””â”€ åœ¨ACTION_UPæ—¶è°ƒç”¨performClick()ï¼Œè§¦å‘OnClickListener
    â””â”€ clickable<span class="hljs-operator">=</span><span class="hljs-literal">false</span> â†’ è¿”å›<span class="hljs-literal">false</span>ï¼ˆä¸æ¶ˆè´¹äº‹ä»¶ï¼‰âŒ
        â””â”€ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œåç»­MOVEã€UPä¸ä¼šä¼ é€’
        â””â”€ ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®clickableå±æ€§å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸åŒViewçš„clickableé»˜è®¤å€¼ï¼š</strong></p>
<ul>
<li><strong>Button</strong>ï¼šclickable=trueï¼ˆé»˜è®¤å¯ç‚¹å‡»ï¼‰</li>
<li><strong>TextView</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
<li><strong>ImageView</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
<li><strong>è‡ªå®šä¹‰View</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è®©Viewå¯ç‚¹å‡»ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ³•1ï¼šç›´æ¥è®¾ç½®</span>
view.setClickable(<span class="hljs-literal">true</span>);

<span class="hljs-comment">// æ–¹æ³•2ï¼šè®¾ç½®ç›‘å¬å™¨ï¼ˆä¼šè‡ªåŠ¨è®¾ç½®clickable=trueï¼‰</span>
view.setOnClickListener(listener);
</code></pre>
</li>
<li>
<p><strong>clickable=trueæ—¶çš„å®Œæ•´æµç¨‹ï¼š</strong></p>
<ul>
<li>ACTION_DOWNï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶</li>
<li>ACTION_MOVEï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶</li>
<li>ACTION_UPï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶ï¼Œè°ƒç”¨performClick()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Buttonï¼ˆé»˜è®¤clickable=trueï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TextView</span> {
    <span class="hljs-comment">// Buttonçš„é»˜è®¤å®ç°</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// clickable=trueï¼Œæ‰€ä»¥è¿”å›true</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}

<span class="hljs-comment">// TextViewï¼ˆé»˜è®¤clickable=falseï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TextView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-comment">// TextViewçš„é»˜è®¤å®ç°</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// clickable=falseï¼Œæ‰€ä»¥è¿”å›false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„ç‚¹å‡»å¤„ç†</li>
<li>Buttonã€ImageViewç­‰ç³»ç»Ÿæ§ä»¶</li>
</ul>
<hr/>
<h3 data-id="heading-27">å®Œæ•´åœºæ™¯ç¤ºä¾‹</h3>
<h4 data-id="heading-28">åœºæ™¯ï¼šActivity â†’ ViewGroup A â†’ ViewGroup B â†’ View C</h4>
<p><strong>è§†å›¾å±‚æ¬¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity
  â””â”€ ViewGroup <span class="hljs-selector-tag">A</span> (LinearLayout)
      â””â”€ ViewGroup <span class="hljs-selector-tag">B</span> (RelativeLayout)
          â””â”€ View C (<span class="hljs-selector-tag">Button</span>)
</code></pre>
<hr/>
<h4 data-id="heading-29">åœºæ™¯1ï¼šViewGroup A.dispatchTouchEvent() = true</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ true âœ…
    â†“
ã€äº‹ä»¶åœ¨ViewGroup <span class="hljs-selector-tag">A</span>åœæ­¢ã€‘
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()
    â†“
ä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Aæ¶ˆè´¹ï¼ŒViewGroup Bå’ŒView Cä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-30">åœºæ™¯2ï¼šViewGroup A.dispatchTouchEvent() = false</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ false âŒ
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()
    â†“
ä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼ŒViewGroup Aã€Bã€Céƒ½ä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-31">åœºæ™¯3ï¼šViewGroup Aæ‹¦æˆªå¹¶å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>true</strong> âœ…</li>
<li>ViewGroup A.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ true âœ… ã€æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶è¢«æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span>ä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
View Cä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Aæ¶ˆè´¹ï¼ŒViewGroup Bå’ŒView Cä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-32">åœºæ™¯4ï¼šViewGroup Aæ‹¦æˆªä½†ä¸å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>true</strong> âœ…</li>
<li>ViewGroup A.onTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ true âœ… ã€æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶è¢«æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span>ä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
View Cä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼ŒViewGroup Aã€Bã€Céƒ½ä¸ä¼šæ”¶åˆ°åç»­äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-33">åœºæ™¯5ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼ŒView Cå¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«View Cæ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™View C
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>View Cæ¶ˆè´¹ï¼ŒViewGroup Aå’ŒBä¸ä¼šè°ƒç”¨onTouchEvent()</strong></p>
<hr/>
<h4 data-id="heading-34">åœºæ™¯6ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼ŒView Cä¸å¤„ç†ï¼ŒViewGroup Bå¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«ViewGroup <span class="hljs-selector-tag">B</span>æ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Bæ¶ˆè´¹ï¼ŒView Cä¸å¤„ç†ï¼ŒViewGroup Aä¸ä¼šè°ƒç”¨onTouchEvent()</strong></p>
<hr/>
<h4 data-id="heading-35">åœºæ™¯7ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼Œéƒ½ä¸å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup A.onTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">A</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ä»»ä½•View
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼Œæ‰€æœ‰Viewéƒ½ä¸å¤„ç†</strong></p>
<hr/>
<h3 data-id="heading-36">å¿«é€ŸæŸ¥è¯¢è¡¨</h3>
<h4 data-id="heading-37">ViewGroupäº‹ä»¶æµå‘å¿«é€ŸæŸ¥è¯¢</h4>





























































<table><thead><tr><th>dispatchTouchEvent</th><th>onInterceptTouchEvent</th><th>onTouchEvent</th><th>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œ</th><th>åç»­äº‹ä»¶</th></tr></thead><tbody><tr><td><strong>true</strong></td><td>-</td><td>-</td><td>âœ… <strong>ViewGroupåœæ­¢</strong></td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>false</strong></td><td>-</td><td>-</td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</strong></td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td><strong>true</strong></td><td>âœ… <strong>ViewGroupæ¶ˆè´¹</strong></td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</strong></td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td>-</td><td>â¬‡ï¸ <strong>ä¼ é€’ç»™å­View</strong></td><td>ç”±å­Viewå†³å®š</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td><strong>true</strong></td><td>âœ… <strong>ViewGroupæ¶ˆè´¹</strong>ï¼ˆå­Viewä¸å¤„ç†æ—¶ï¼‰</td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’</strong>ï¼ˆéƒ½ä¸å¤„ç†ï¼‰</td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr></tbody></table>
<h4 data-id="heading-38">Viewäº‹ä»¶æµå‘å¿«é€ŸæŸ¥è¯¢</h4>



































<table><thead><tr><th>dispatchTouchEvent</th><th>onTouchEvent</th><th>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œ</th><th>åç»­äº‹ä»¶</th></tr></thead><tbody><tr><td><strong>true</strong></td><td>-</td><td>âœ… <strong>Viewåœæ­¢</strong></td><td>ç»§ç»­ä¼ é€’ç»™View</td></tr><tr><td><strong>false</strong></td><td>-</td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></td><td>ä¸ä¼ é€’ç»™View</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td>âœ… <strong>Viewæ¶ˆè´¹</strong></td><td>ç»§ç»­ä¼ é€’ç»™View</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></td><td>ä¸ä¼ é€’ç»™View</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-39">äº‹ä»¶æµå‘ç¬¦å·è¯´æ˜</h3>
<ul>
<li>âœ… <strong>æ¶ˆè´¹/åœæ­¢</strong>ï¼šäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</li>
<li>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’</strong>ï¼šäº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</li>
<li>â¬‡ï¸ <strong>å‘ä¸‹ä¼ é€’</strong>ï¼šäº‹ä»¶å‘ä¸‹ä¼ é€’ç»™å­View</li>
<li>ğŸ›‘ <strong>æ‹¦æˆª</strong>ï¼šæ‹¦æˆªäº‹ä»¶ï¼Œä¸ä¼ é€’ç»™å­View</li>
<li>ğŸ”„ <strong>é»˜è®¤å¤„ç†</strong>ï¼šæŒ‰ç…§ç³»ç»Ÿé»˜è®¤é€»è¾‘å¤„ç†</li>
</ul>
<hr/>
<h3 data-id="heading-40">æ ¸å¿ƒè®°å¿†è¦ç‚¹</h3>
<h4 data-id="heading-41">1. dispatchTouchEvent()è¿”å›å€¼</h4>
<ul>
<li><strong>true</strong> â†’ âœ… äº‹ä»¶åœ¨æ­¤åœæ­¢ï¼Œä¸å†ä¼ é€’</li>
<li><strong>false</strong> â†’ â¬†ï¸ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œä¸å¤„ç†</li>
<li><strong>super</strong> â†’ ğŸ”„ è¿›å…¥é»˜è®¤å¤„ç†æµç¨‹</li>
</ul>
<h4 data-id="heading-42">2. onInterceptTouchEvent()è¿”å›å€¼ï¼ˆåªæœ‰ViewGroupæœ‰ï¼‰</h4>
<ul>
<li><strong>true</strong> â†’ ğŸ›‘ æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­View</li>
<li><strong>false</strong> â†’ â¬‡ï¸ ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View</li>
<li><strong>super</strong> â†’ â¬‡ï¸ ç­‰åŒäºfalseï¼Œä¼ é€’ç»™å­View</li>
</ul>
<h4 data-id="heading-43">3. onTouchEvent()è¿”å›å€¼</h4>
<ul>
<li><strong>true</strong> â†’ âœ… æ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’</li>
<li><strong>false</strong> â†’ â¬†ï¸ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</li>
<li><strong>super</strong> â†’ ğŸ”„ æ ¹æ®clickableå±æ€§å†³å®š</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ]]></title>    <link>https://juejin.cn/post/7593187953271209984</link>    <guid>https://juejin.cn/post/7593187953271209984</guid>    <pubDate>2026-01-09T09:31:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593187953271209984" data-draft-id="7593173569870872628" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T09:31:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:31:25.000Z" title="Fri Jan 09 2026 09:31:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šèµµå®‡(å¸å¿±)/æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ</p>
<blockquote>
<p>å¯¼è¯»ï¼š</p>
<p>æœ¬æ–‡æ•´ç†è‡ªé«˜å¾·æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆã€èµµå®‡åœ¨Â StreamingÂ LakehouseÂ Meetupä¸Šçš„åˆ†äº«ã€‚èšç„¦é«˜å¾·åœ°å›¾è½¨è¿¹æœåŠ¡åœ¨å®æ—¶æ¹–ä»“æ–¹å‘çš„è½åœ°å®è·µã€‚</p>
<p>é¢å¯¹è½¨è¿¹æ•°æ®â€œé«˜å®æ—¶ã€é«˜å¹¶å‘ã€é•¿å‘¨æœŸå­˜å‚¨â€çš„å…¸å‹ç‰¹å¾ï¼Œé«˜å¾·å›¢é˜Ÿä»¥è®¿é—®è·¨åº¦ä¸ºä¾æ®å®Œæˆçƒ­/æ¸©/å†·åˆ†å±‚ï¼Œå¹¶ä»¥Â ApacheÂ PaimonÂ +Â StarRocksÂ æ„å»ºç»Ÿä¸€çš„æ•°æ®åº•åº§ï¼Œæ”¯æ’‘è½¨è¿¹æ•°æ®çš„è¿‘å®æ—¶å†™å…¥ä¸é«˜æ€§èƒ½æŸ¥è¯¢ã€‚</p>
<p>è¯¥æ–¹æ¡ˆé€šè¿‡æ€§èƒ½éªŒè¯è¦†ç›–<strong>åƒäº¿çº§è½¨è¿¹æ•°æ®æŸ¥è¯¢</strong>ç­‰å…³é”®åœºæ™¯ï¼Œåœ¨æ»¡è¶³å®æ—¶ä¸æŸ¥è¯¢æ€§èƒ½çš„å‰æä¸‹ï¼Œå®ç°äº†åˆ†å±‚å­˜å‚¨ä¸‹çš„â€œæ€§èƒ½â€”æˆæœ¬â€æœ€ä¼˜å¹³è¡¡ï¼Œå¹¶ä¸ºåç»­å°†æµæ‰¹ä¸€ä½“èƒ½åŠ›æ‰©å±•åˆ°æ›´å¤šä¸šåŠ¡åŸŸã€æ‰“é€šÂ BIÂ ä¸ç®—æ³•é“¾è·¯æä¾›äº†å¯å¤åˆ¶çš„è·¯å¾„ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é«˜å¾·åœ°å›¾è½¨è¿¹ç›¸å…³çš„èƒŒæ™¯åŠé¢ä¸´çš„æŒ‘æˆ˜</h2>
<p>åœ¨è¿›å…¥èƒŒæ™¯ä»‹ç»ä¹‹å‰ï¼Œå…ˆå¯¹è½¨è¿¹é¡¹ç›®åœ¨ç«¯ä¾§çš„ä¸€äº›å…¸å‹åº”ç”¨åšä¸€ä¸ªç®€è¦è¯´æ˜ã€‚</p>
<p>ä»¥â€œè¶³è¿¹åœ°å›¾â€åŠŸèƒ½ä¸ºä¾‹ï¼šç”¨æˆ·å®Œæˆæˆæƒåï¼Œæ¯ä¸€æ¬¡å¯¼èˆªç»“æŸï¼Œå…¶è¡Œç¨‹è½¨è¿¹ä¼šè¢«è®°å½•å¹¶å±•ç¤ºåœ¨è½¨è¿¹åˆ—è¡¨ä¸­ã€‚ç”¨æˆ·æ‰“å¼€æŸä¸€æ®µè½¨è¿¹åï¼Œé¡µé¢ä¼šå±•ç¤ºè¯¥æ¬¡è¡Œç¨‹çš„åŸºç¡€ä¿¡æ¯ï¼Œä¾‹å¦‚é©¾é©¶æ—¶é•¿ã€é©¾é©¶é‡Œç¨‹ã€å¹³å‡é€Ÿåº¦ç­‰ï¼›åŒæ—¶è¿˜ä¼šåœ¨ç«¯ä¸Šæ¸²æŸ“å‡ºè½¨è¿¹å½¢çŠ¶åŠå…³é”®ç‚¹ç‰¹å¾ä¿¡æ¯ï¼Œä¾‹å¦‚ä¼šè½¦ä½ç½®ã€æœ€å¤§é€Ÿåº¦ç‚¹ç­‰ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d7879af18394b109be6646823506f2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=fJoUt8QXxC8zKF5Xv0gtwgBc4i0%3D" alt="image (17).png" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œé«˜å¾·åœ°å›¾ä¼šå°†ç”¨æˆ·çš„è½¨è¿¹ç‚¹ä¸é“è·¯è¿›è¡Œå®æ—¶è½¨è¿¹åŒ¹é…ï¼Œä»è€Œæ¸²æŸ“å‡ºâ€œè¶³è¿¹åœ°å›¾â€çš„èƒŒæ™¯å›¾ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œè¯¥å›¾å±•ç¤ºäº†ä¸€ä½ç”¨æˆ·åœ¨åŒ—äº¬èŒƒå›´å†…è¡Œèµ°è¿‡é“è·¯çš„æ¸²æŸ“æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3a028708d2645faba75a28c60db7210~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=p2rPnO%2FhYM3LsGy8PXwolqpyqYQ%3D" alt="image (18).png" loading="lazy"/></p>
<p>ä¸‹å›¾å±•ç¤ºçš„æ˜¯ç«¯ä¾§â€œå·¥ä½œåœ°å›¾â€çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯ã€‚é€šè¿‡è¯¥åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹ä¸€æ®µè½¨è¿¹åœ¨<strong>ä½•æ—¶ã€ä½•åœ°å¼€å§‹</strong>ï¼Œåœ¨<strong>å“ªäº›åœ°ç‚¹åœç•™ä»¥åŠåœç•™æ—¶é•¿</strong>ï¼Œå¹¶åœ¨ç»“æŸåè®°å½•å…¶<strong>æœ€ç»ˆç»“æŸä½ç½®</strong>ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc6c5d0e62af498dbf56bbc941d9a9d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=pLolAYh6N74noUE%2F7gltXpiHZKk%3D" alt="image (19).png" loading="lazy"/></p>
<p>å¦ä¸€ä¸ªéœ€è¦è¡¥å……çš„åº”ç”¨åœºæ™¯æ˜¯æ­¤å‰è¾ƒä¸ºçƒ­é—¨çš„â€œçŒ«é¼ æ¸¸æˆâ€ã€‚åœ¨è¯¥ç©æ³•ä¸­ï¼ŒåŒä¸€ç¾¤ç»„å†…çš„ç”¨æˆ·å¯ä»¥å…±äº«å„è‡ªçš„å®æ—¶ä½ç½®ï¼›åœ¨ä¸€å±€æ¸¸æˆç»“æŸåï¼Œç³»ç»Ÿä¹Ÿä¼šç”Ÿæˆå¹¶å±•ç¤ºç”¨æˆ·åœ¨è¯¥å±€ä¸­çš„<strong>è¡Œç¨‹è½¨è¿¹</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/615aa7fbede848c39d520e599b115a98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=T6mfyTXPz%2BiTCyde9ZzsvJE0YNY%3D" alt="image (20).png" loading="lazy"/></p>
<h3 data-id="heading-1">é¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜</h3>
<p>ç”±äºé«˜å¾·åœ°å›¾è½¨è¿¹æ•°æ®å…·æœ‰è¾ƒå¼ºçš„ä¸šåŠ¡ç‰¹æ®Šæ€§ä¸å®æ—¶æ€§è¦æ±‚ï¼Œå› æ­¤æ— è®ºåœ¨è½¨è¿¹çš„<strong>é‡‡é›†ã€å¤„ç†</strong>ï¼Œè¿˜æ˜¯åœ¨<strong>å­˜å‚¨ä¸æŸ¥è¯¢</strong>ç¯èŠ‚ï¼Œéƒ½é¢ä¸´ä¸€ç³»åˆ—æŒ‘æˆ˜ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a4c3fa114224888badd0047f6ff65e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=B%2BUP0bg239eG%2BtzvPCn9AdJ2xuo%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af60a88a48637e1a71be1f310448109ab40fd3fd7eff04315bae6224a2307c97f612302aab73979c04.png" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€ï¼Œå®æ—¶å¯è§æ€§è¦æ±‚é«˜ã€‚</strong></p>
<p>è½¨è¿¹æ•°æ®æ˜¯åˆ¤æ–­ç”¨æˆ·è¡Œä¸ºçš„é‡è¦ä¾æ®ï¼Œæ•°æ®é²œåº¦è‡³å…³é‡è¦ã€‚å› æ­¤ï¼Œç«¯ä¾§ä¸šåŠ¡å¯¹è½¨è¿¹æ•°æ®çš„å®æ—¶å¯è§æ€§æå‡ºäº†è¾ƒé«˜è¦æ±‚ã€‚å¹¶ä¸”æ—¥å¸¸çš„è½¨è¿¹æ•°æ®çš„å†™å…¥æµé‡è¾¾åˆ°äº†<strong>æ¯ç§’ç™¾ä¸‡çº§</strong>ï¼Œåœ¨èŠ‚å‡æ—¥ç­‰é«˜å³°æ—¶æ®µè¿˜ä¼šå‡ºç°ç¿»å€å¢é•¿ã€‚å¯¹æ•°æ®é“¾è·¯è€Œè¨€ï¼Œæ— è®ºæ˜¯å®æ—¶è®¡ç®—èƒ½åŠ›è¿˜æ˜¯æ•´ä½“ç¨³å®šæ€§ï¼Œéƒ½é¢ä¸´è¾ƒå¤§å‹åŠ›ä¸æŒ‘æˆ˜ã€‚</p>
<p><strong>ç¬¬äºŒï¼Œå¤šåœºæ™¯æŸ¥è¯¢éœ€æ±‚å¤æ‚ï¼Œå¯¹æ€§èƒ½è¦æ±‚é«˜ã€‚</strong></p>
<p>è½¨è¿¹æ•°æ®ä¸ä»…æœåŠ¡äºç¦»çº¿æŒ–æ˜ä»¥åŠé—®é¢˜æ’æŸ¥ï¼ŒåŒæ ·éœ€è¦æœåŠ¡å„ç§çº¿ä¸Šåœºæ™¯ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½è¦æ±‚ä¹Ÿéå¸¸é«˜ã€‚</p>
<p><strong>ç¬¬ä¸‰ï¼Œå†å²æ•°æ®è§„æ¨¡å¤§ï¼Œå­˜å‚¨æˆæœ¬é«˜ã€‚</strong></p>
<p>é«˜å¾·åœ°å›¾å­˜å‚¨äº†å…¨é‡å†å²è½¨è¿¹æ•°æ®ã€‚åœ¨ç¼ºä¹æœ‰æ•ˆåˆ†å±‚ã€å‹ç¼©ä¸æ²»ç†ç­–ç•¥çš„æƒ…å†µä¸‹ï¼Œæ•°æ®è§„æ¨¡æŒç»­å¢é•¿å°†å¸¦æ¥æ˜¾è‘—çš„å­˜å‚¨æˆæœ¬å‹åŠ›ã€‚</p>
<p><strong>ç¬¬å››ï¼Œå†å²æ¼”è¿›å½¢æˆæ•°æ®çƒŸå›±ï¼Œä¸šåŠ¡ä¾èµ–å¤æ‚ã€‚</strong></p>
<p>å—å¤šå¹´å†å²æ¼”è¿›å½±å“ï¼Œè½¨è¿¹ç›¸å…³é“¾è·¯å½¢æˆäº†ä¸€å®šç¨‹åº¦çš„æ•°æ®çƒŸå›±ï¼›åŒæ—¶ï¼Œå­˜åœ¨Â <strong>20+</strong>Â ä¸šåŠ¡ä¾èµ–ï¼Œé“¾è·¯ä¸æ¥å£å…³ç³»è¾ƒä¸ºå¤æ‚ï¼Œè¿›ä¸€æ­¥æå‡äº†åœ¨æ¶æ„è®¾è®¡ä¸å­˜å‚¨æ•´åˆä¸Šçš„æŠ€æœ¯éš¾åº¦ã€‚</p>
<h3 data-id="heading-2">ç»Ÿä¸€é“¾è·¯ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29ad34fdf7144e01a0ea6ee831b3a0c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=2JBYp3R1qH31KzqIcEykCRjl3rM%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0d50ecb3f30f832efdb830d1e46df9a0b5ec8b267349bece55a4f6e5feb334fe4d7c21895cde9a85654e83d76c474bef.png" loading="lazy"/></p>
<p>åŸºäºä¸Šè¿°æŒ‘æˆ˜ï¼Œæˆ‘ä»¬è®¡åˆ’å¯¹ä¸åŒä¸šåŠ¡çš„è®¡ç®—åœºæ™¯ä¸å­˜å‚¨ä½“ç³»è¿›è¡Œæ•´åˆï¼Œæ ¸å¿ƒæ–¹å‘åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>ç»Ÿä¸€æ•°æ®å¤„ç†ã€‚</strong> æ•´åˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹åˆ†æ•£çš„è®¡ç®—é“¾è·¯ï¼Œå»ºç«‹æ ‡å‡†åŒ–çš„æ•°æ®å¤„ç†æµç¨‹ä¸è§„èŒƒã€‚</p>
</li>
<li>
<p><strong>å»ºè®¾é€šç”¨å­˜å‚¨ä¸æŸ¥è¯¢æœåŠ¡ã€‚</strong>Â æä¾›æ ‡å‡†åŒ–çš„è½¨è¿¹å­˜å‚¨èƒ½åŠ›ä¸ç»Ÿä¸€æŸ¥è¯¢æ¥å£ï¼Œå‡å°‘é‡å¤å»ºè®¾ã€‚</p>
</li>
<li>
<p><strong>é™ä½æ•´ä½“æˆæœ¬ã€‚</strong>Â åœ¨æ§åˆ¶èµ„æºæˆæœ¬çš„åŒæ—¶ï¼Œé™ä½åç»­äººå·¥è¿ç»´æˆæœ¬ä¸ç³»ç»Ÿå¤æ‚åº¦ã€‚</p>
</li>
<li>
<p><strong>ä¿éšœæ€§èƒ½ä¸å¦¥åã€‚</strong> åœ¨ç»Ÿä¸€æ¶æ„ä¸‹ä¿éšœå®æ—¶æ€§ä¸æŸ¥è¯¢æ€§èƒ½ã€‚</p>
</li>
</ol>
<h2 data-id="heading-3">è½¨è¿¹çš„èƒ½åŠ›å»ºè®¾ä¸æ–¹æ¡ˆè°ƒç ”</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d692f774468a4bcfb82ceb08706c5c18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=VqafAzm2cqoABqytSp1mtUfFBEY%3D" alt="image (21).png" loading="lazy"/></p>
<p>é¦–å…ˆä»‹ç»è½¨è¿¹åœ¨å…¨åœºæ™¯ä¸‹çš„æœåŠ¡èƒ½åŠ›ä½“ç³»ã€‚</p>
<p>ä½œä¸ºæ•°æ®ä¸­å°ï¼Œæˆ‘ä»¬æ‰¿æ‹…ç¦»çº¿ä¸å®æ—¶æµé‡çš„ç»Ÿä¸€å…¥å£è§’è‰²ã€‚ä»¥è½¨è¿¹ä¸šåŠ¡ä¸ºä¾‹ï¼Œæ•´ä½“å¯æŒ‰è‡ªä¸‹è€Œä¸Šçš„é“¾è·¯ç†è§£ï¼š</p>
<p>ä»æœ€åº•å±‚çš„è½¨è¿¹åŸå§‹ç‚¹æ•°æ®å‡ºå‘ï¼Œç»ç”±Â ETLÂ åŠ å·¥ä¸æ¸…æ´—ï¼Œæ²‰æ·€å½¢æˆè½¨è¿¹é¢†åŸŸçš„åŸºç¡€æ•°æ®èµ„äº§ï¼ŒåŒ…æ‹¬è½¨è¿¹ç‚¹ã€è½¨è¿¹æ®µã€è½¨è¿¹åŒ¹é…ç»“æœï¼Œä»¥åŠç¦»çº¿æ•°æ®ç­‰ã€‚</p>
<p>ä¾æ‰˜æ•°æ®ä¸­å°ä¸äº¤é€šä¸šåŠ¡åœ¨è½¨è¿¹é¢†åŸŸçš„é•¿æœŸå»ºè®¾ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ•´åˆå¹¶æ²‰æ·€å‡ºä¸€ç»„æ ¸å¿ƒèƒ½åŠ›ï¼šä¾‹å¦‚å…¬å…±å±‚çš„è½¨è¿¹å®æ—¶æµä»»åŠ¡ã€é€šç”¨çš„è½¨è¿¹æŸ¥è¯¢èƒ½åŠ›ï¼Œä»¥åŠç‰¹å¾å¹³å°ç­‰åŸºç¡€èƒ½åŠ›æœåŠ¡å¹³å°ã€‚</p>
<p>åœ¨æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸Šï¼Œå¹³å°å¯¹å…¨é“¾è·¯èƒ½åŠ›è¿›è¡Œæ¨¡å—åŒ–å°è£…ï¼Œä¸»è¦åŒ…æ‹¬ä¸¤ç±»æœåŠ¡ï¼š</p>
<ul>
<li>
<p><strong>æŸ¥è¯¢æœåŠ¡æ¨¡å—</strong>ï¼›</p>
</li>
<li>
<p><strong>æ¨é€è®¢é˜…æ¨¡å—</strong>ã€‚</p>
</li>
</ul>
<p>åŸºäºä¸Šè¿°ä¸¤ç±»æ¨¡å—ï¼Œè½¨è¿¹æœåŠ¡èƒ½å¤Ÿæ”¯æ’‘å¤šç±»ä¸šåŠ¡åœºæ™¯çš„æ¥å…¥ä¸è°ƒç”¨ï¼ŒåŒ…æ‹¬å†…éƒ¨è°ƒæŸ¥å¹³å°ï¼Œä»¥åŠé¢å‘Â CÂ ç«¯çš„ç›¸å…³åŠŸèƒ½ä¸åº”ç”¨ã€‚</p>
<h3 data-id="heading-4">ä¸šåŠ¡è®¿é—®è·¨åº¦è°ƒç ”</h3>
<p>æ˜ç¡®è¦å°†è½¨è¿¹èƒ½åŠ›å»ºè®¾ä¸ºä¸Šè¿°ç»Ÿä¸€ä½“ç³»åï¼Œä¸‹ä¸€æ­¥éœ€è¦å›ç­”â€œå¦‚ä½•è½åœ°â€çš„é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå¼€å±•äº†å¯¹ä¸šåŠ¡è®¿é—®è·¨åº¦çš„è°ƒç ”ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5566339b0ad6477eba32133c071a3fa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=kSLyJJMj%2BG8bwektUiHuXogpLoM%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af77546376af21a1ff1fb1e70af6b3f61f9dd8d866ed8c82419f1980b601d6c8e4b5e689a894c34d25.png" loading="lazy"/></p>
<p>è®¿é—®è·¨åº¦ç”¨äºè¡¡é‡â€œç”¨æˆ·è®¿é—®çš„è½¨è¿¹æ•°æ®è·ç¦»å½“å‰æ—¶é—´æœ‰å¤šè¿œâ€ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·æŸ¥çœ‹Â <strong>nÂ å¤©å‰</strong>çš„è½¨è¿¹æ•°æ®ï¼Œåˆ™è¯¥æ¬¡è®¿é—®çš„è·¨åº¦å®šä¹‰ä¸ºÂ <strong>n</strong>ã€‚</p>
<p>åŸºäºè¿™ä¸€å£å¾„ï¼Œæˆ‘ä»¬å¯¹<strong>æ—¥å‡è®¿é—®è·¨åº¦</strong>è¿›è¡Œäº†ç»Ÿè®¡ï¼ˆè§å·¦ä¾§å›¾ï¼‰ã€‚ç»“æœæ˜¾ç¤ºï¼š</p>
<ul>
<li>
<p><strong>0â€“1Â å¤©ï¼ˆå½“å¤©ä¸æ˜¨å¤©ï¼‰çš„è®¿é—®å æ¯”çº¦ä¸ºÂ 67%ã€‚è¿™éƒ¨åˆ†æ•°æ®è®¿é—®æœ€ä¸ºé›†ä¸­ï¼Œå¯å®šä¹‰ä¸ºçƒ­æ•°æ®ã€‚</strong></p>
</li>
<li>
<p><strong>1â€“3Â å¤©ç›´è‡³Â 30â€“60Â å¤©</strong>åŒºé—´å†…çš„è®¿é—®å æ¯”æ•´ä½“è¾ƒä¸ºå‡åŒ€ï¼Œå¯å®šä¹‰ä¸º<strong>æ¸©æ•°æ®</strong>ã€‚</p>
</li>
<li>
<p><strong>60Â å¤©ä»¥ä¸Š</strong>è¦†ç›–æ›´é•¿å‘¨æœŸçš„å†å²æ•°æ®ï¼Œæ•´ä½“è®¿é—®å æ¯”çº¦ä¸ºÂ <strong>16%</strong>ã€‚å°½ç®¡è®¿é—®é¢‘æ¬¡ç›¸å¯¹è¾ƒä½ï¼Œä½†ç”±äºå…¶ä»£è¡¨å…¨é‡å†å²æ²‰æ·€ï¼Œä½“é‡éå¸¸å¤§ï¼Œå¯å®šä¹‰ä¸º<strong>å†·æ•°æ®</strong>ã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥è°ƒç ”äº†â€œè®¿é—®è·¨åº¦åœ¨Â 60Â å¤©ä»¥ä¸Šçš„ç”¨æˆ·â€åœ¨æŸ¥çœ‹å†å²è½¨è¿¹æ—¶çš„è¡Œä¸ºç‰¹å¾ï¼šå³è¿™äº›ç”¨æˆ·æ‰€è®¿é—®çš„å†å²è½¨è¿¹ï¼Œåœ¨å…¶ä¸ªäººå…¨éƒ¨è½¨è¿¹ä¸­çš„ä½ç½®åˆ†å¸ƒï¼ˆå¯ç†è§£ä¸ºæ˜¯å¦ä»ä¼šæŸ¥çœ‹æ›´ä¹…è¿œçš„è®°å½•ï¼‰ã€‚è°ƒç ”ç»“æœè¡¨æ˜ï¼Œä»æœ‰ç›¸å½“æ¯”ä¾‹çš„ç”¨æˆ·ä¼šå›çœ‹è¾ƒæ—©æœŸçš„å†å²è½¨è¿¹ã€‚</p>
<p>ç»¼åˆæ¥çœ‹ï¼Œä¸€æ–¹é¢ï¼Œè¿‘æœŸæ•°æ®è®¿é—®é¢‘ç¹ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½ä¸å®æ—¶å“åº”æå‡ºæ›´é«˜è¦æ±‚ï¼›å¦ä¸€æ–¹é¢ï¼Œ60Â å¤©ä»¥ä¸Šå†å²æ•°æ®è™½ç„¶è®¿é—®ç›¸å¯¹è¾ƒå°‘ï¼Œä½†ä»å­˜åœ¨æ˜ç¡®çš„ç”¨æˆ·éœ€æ±‚ï¼ˆä¾‹å¦‚å…·å¤‡çºªå¿µæ„ä¹‰çš„è¡Œç¨‹å›çœ‹ç­‰ï¼‰ï¼Œä¸”è¯¥éƒ¨åˆ†æ•°æ®ä½“é‡æ›´å¤§ï¼Œå¯¹å­˜å‚¨æˆæœ¬é«˜åº¦æ•æ„Ÿã€‚</p>
<p>å› æ­¤ï¼Œæ•´ä½“ä¸Šéœ€è¦ä¸€å¥—èƒ½å¤Ÿæ”¯æŒåˆ†å±‚å­˜å‚¨å¹¶åŒæ—¶æ»¡è¶³é«˜æ•ˆæŸ¥è¯¢çš„æ•°æ®æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-5">æ€§èƒ½+å­˜å‚¨éœ€æ±‚è°ƒç ”</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56e5f61dd93e444e8daab6d0a2a4a500~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=OFuWcYAQxQyImFUUAUb7DSHX43Q%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0d50ecb3f30f832ef9034c23b6a83e34a2cead40dabf924c6473c031bc9917c4297144b9350559ec9c718bfc0275b3f8.png" loading="lazy"/></p>
<p>åœ¨æ¨è¿›è¯¥æ–¹æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå…³æ³¨å¹¶è°ƒç ”äº†é˜¿é‡Œå·´å·´é›†å›¢çš„æ•°æ®æ¹–é¡¹ç›®ï¼Œè¿™ä¸ºåç»­çš„æ¹–ä»“ä¸€ä½“åŒ–æä¾›äº†å¯è¡Œè·¯å¾„ã€‚</p>
<p>ä»èƒ½åŠ›æ„æˆæ¥çœ‹ï¼Œé›†å›¢æ•°æ®æ¹–é¡¹ç›®çš„æ ¸å¿ƒä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨ä¸‰ç‚¹ï¼š</p>
<ol>
<li>
<p>åŸºäºÂ ApacheÂ FlinkÂ +Â ApacheÂ Paimonï¼Œèƒ½å¤Ÿæä¾›é«˜æ€§èƒ½çš„è¿‘å®æ—¶æ•°æ®å†™å…¥èƒ½åŠ›ï¼Œæ»¡è¶³å¤„ç†è½¨è¿¹æ•°æ®å¯¹æ—¶æ•ˆæ€§çš„è¦æ±‚ã€‚</p>
</li>
<li>
<p>æ•°æ®å†™å…¥Â PaimonÂ åï¼Œå¯é€šè¿‡Â StarRocksÂ å¤–éƒ¨è¡¨æ–¹å¼è¿›è¡ŒæŒ‚è½½ï¼Œä»è€Œå¯¹Â PaimonÂ è¡¨ä¸Šçš„æ•°æ®æä¾›é«˜æ€§èƒ½æŸ¥è¯¢èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>é‡‡ç”¨Â PaimonÂ +Â ç›˜å¤çš„å­˜å‚¨ç»„åˆï¼Œç›¸æ¯”å…¶ä»–å­˜å‚¨ä»‹è´¨å…·å¤‡æ˜¾è‘—çš„æˆæœ¬ä¼˜åŠ¿ã€‚</p>
</li>
</ol>
<p>åŸºäºä¸Šè¿°ä¼˜åŠ¿ï¼Œå…¶æ•´ä½“æ•°æ®é“¾è·¯å¦‚å·¦å›¾æ‰€ç¤ºï¼šé¦–å…ˆé€šè¿‡Â FlinkÂ JobÂ æ¶ˆè´¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æºç«¯è½¨è¿¹æ¶ˆæ¯ï¼Œå®ŒæˆÂ ETLÂ å¤„ç†åŠå¿…è¦çš„èšåˆè®¡ç®—ï¼›éšåå°†ç»“æœå†™å…¥æ•°æ®å­˜å‚¨å±‚ï¼Œé‡‡ç”¨Â PaimonÂ +Â ç›˜å¤è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ï¼›æœ€åé€šè¿‡Â StarRocksÂ æŒ‚è½½å¤–éƒ¨è¡¨çš„æ–¹å¼å¯¹æ¹–è¡¨æ•°æ®æä¾›ç»Ÿä¸€ã€ä½å»¶è¿Ÿçš„æŸ¥è¯¢æœåŠ¡ã€‚</p>
<p>åœ¨éªŒè¯Â StarRocksÂ +Â PaimonÂ æ˜¯å¦èƒ½å¤Ÿè¦†ç›–è½¨è¿¹é¡¹ç›®çš„æ€§èƒ½è¯‰æ±‚ä¸å…³é”®æŒ‘æˆ˜æ—¶ï¼Œæˆ‘ä»¬å¼€å±•äº†ä¸€ç³»åˆ—æ€§èƒ½è¯„ä¼°ä¸å‚æ•°è°ƒä¼˜å·¥ä½œã€‚</p>
<ul>
<li>
<p>åŸºäºÂ FlinkÂ +Â PaimonÂ å¯¹å†™å…¥ååè¿›è¡Œäº†æµ‹è¯•ï¼Œç»“æœè¡¨æ˜è¯¥é“¾è·¯èƒ½å¤Ÿæ»¡è¶³è½¨è¿¹æ•°æ®è¿‘å®æ—¶å¤„ç†çš„éœ€æ±‚ã€‚</p>
</li>
<li>
<p>åœ¨åƒäº¿é‡çº§ä¸‹è½¨è¿¹çš„ç‚¹æŸ¥åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨Â StarRocksÂ è¿›è¡Œäº†æŸ¥è¯¢æ€§èƒ½æµ‹è¯•ï¼Œç»“æœè¾¾åˆ°æ—¢å®šçš„æ€§èƒ½æŒ‡æ ‡è¦æ±‚ã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯¹Â PaimonÂ çš„ç›¸å…³å‚æ•°è¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥åœ¨å†™å…¥æ•ˆç‡ä¸æŸ¥è¯¢æ€§èƒ½ä¹‹é—´å®ç°æ›´å¥½çš„å¹³è¡¡ã€‚ç»¼åˆæµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œæ•´ä½“é“¾è·¯éªŒè¯é€šè¿‡ï¼šå¯ä»¥é‡‡ç”¨Â StarRocksÂ ä½œä¸ºÂ OLAPÂ å¼•æ“ç›´è¿æ•°æ®æ¹–å­˜å‚¨ï¼Œå®ç°è½¨è¿¹æ•°æ®çš„åŠæ—¶æŸ¥è¯¢ä¸åˆ†æã€‚</p>
<p>åœ¨å­˜å‚¨ä¾§ï¼Œå€ŸåŠ©Â PaimonÂ +Â ç›˜å¤çš„ç»„åˆæ–¹æ¡ˆï¼Œè½¨è¿¹å­˜å‚¨æˆæœ¬å®ç°äº†æ˜¾è‘—ä¼˜åŒ–ï¼Œå¹´åº¦èŠ‚çœè¾¾åˆ°ç™¾ä¸‡çº§è§„æ¨¡ã€‚</p>
<p><strong>æ€»ä½“è€Œè¨€ï¼ŒStarRocksÂ +Â PaimonÂ æ–¹æ¡ˆåœ¨æ»¡è¶³æ€§èƒ½æŒ‡æ ‡çš„å‰æä¸‹ï¼Œå®ç°äº†æ˜ç¡®çš„æˆæœ¬ä¼˜åŒ–æ•ˆæœã€‚</strong></p>
<h2 data-id="heading-6">PaimonÂ +Â StarRocksåœ¨è½¨è¿¹åº”ç”¨ä¸­çš„è½åœ°åŠæ¢ç´¢</h2>
<h3 data-id="heading-7">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆçƒ­æ•°æ®ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f90c8863366547788ac9ec807fa78dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=HxePZs%2BBaTp%2BH1D971nY5B6lgfk%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afa4cc552274ccc031ff4b1cdeac34f7a4439c41d43c13797ad73afe89fed7a493e2545657bb74f57ec25ae8d09d7f073.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘å°†è¿›ä¸€æ­¥è¯´æ˜Â PaimonÂ +Â StarRocksÂ åœ¨è½¨è¿¹åº”ç”¨ä¸­çš„è½åœ°æ–¹å¼ä¸å®è·µæ¢ç´¢ã€‚</p>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬åŸºäºâ€œè®¿é—®è·¨åº¦â€å°†è½¨è¿¹æ•°æ®åˆ’åˆ†ä¸ºä¸‰å±‚ï¼šçƒ­æ•°æ®ã€æ¸©æ•°æ®ã€å†·æ•°æ®ã€‚åœ¨å…·ä½“å®ç°ä¸Šï¼Œçƒ­æ•°æ®åˆè¿›ä¸€æ­¥ç»†åˆ†ä¸ºÂ A/BÂ ä¸¤å±‚ã€‚</p>
<p><strong>çƒ­æ•°æ®Â AÂ å±‚ï¼š</strong> é¢å‘å¯¹æ€§èƒ½è¦æ±‚æé«˜ã€å¯¹å“åº”æ—¶å»¶ï¼ˆRTï¼‰æä¸ºæ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ã€‚è¯¥å±‚é‡‡ç”¨Â RedisÂ å­˜å‚¨ï¼Œä¿ç•™è¿‘Â 1Â å¤©çš„æ•°æ®ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥ç”¨æˆ·ä¿¡æ¯Â +Â è½¨è¿¹ç‚¹ä¿¡æ¯ä¸ºä¸»ã€‚</p>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šå®æ—¶ä½ç½®ç±»æŸ¥è¯¢ä¸é«˜é¢‘äº’åŠ¨åœºæ™¯ï¼Œä¾‹å¦‚â€œçŒ«é¼ æ¸¸æˆâ€ã€å®¶äººåœ°å›¾ã€æœ€æ–°ä½ç½®æŸ¥è¯¢ï¼Œä»¥åŠÂ WIAï¼ˆå·¥ä½œåœ°å›¾ï¼‰ç­‰ã€‚</p>
</li>
</ul>
<p><strong>çƒ­æ•°æ®Â BÂ å±‚ï¼š</strong> ä¸»è¦æ‰¿è½½è¿‘å‡ å¤©å†…çš„è½¨è¿¹æŸ¥è¯¢éœ€æ±‚ã€‚è¯¥å±‚é‡‡ç”¨Â LindormÂ å­˜å‚¨ï¼Œä¿ç•™è¿‘Â 3Â å¤©çš„æ•°æ®ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥â€œç”¨æˆ·Â +Â æ—¶é—´ç‰‡Â +Â è½¨è¿¹æ®µâ€Â çš„ç»“æ„åŒ–è®¾è®¡ï¼Œä»¥æ»¡è¶³å¤šç§ä¸šåŠ¡ä¸åŒçš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šè¶³è¿¹/è¿åŠ¨ç­‰è¿‘ä¸‰å¤©è½¨è¿¹æŸ¥è¯¢ï¼›åŒæ—¶ä¹Ÿæ”¯æ’‘éƒ¨åˆ†å†…éƒ¨è°ƒæŸ¥å¹³å°ä½¿ç”¨ï¼Œä»¥åŠå®æ—¶è½¨è¿¹åŒ¹é…ç­‰èƒ½åŠ›çš„åœ¨çº¿è°ƒç”¨ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆæ¸©ã€å†·æ•°æ®ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6425a1cd384e43aab127d47a0485e00b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=nVu5WZ2NMgfDtgxY%2FwtP6dbPcoY%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afa4cc552274ccc03598cddcd0a50830508ff061a335c5dd57ccf6c61713dfbf287c85a61e2648109c44b7ab0651907ea.png" loading="lazy"/></p>
<p>æ¸©æ•°æ®ä¸å†·æ•°æ®éƒ¨åˆ†é‡‡ç”¨å‰æ–‡æåˆ°çš„Â <strong>ApacheÂ PaimonÂ +Â StarRocks</strong>Â æ–¹æ¡ˆã€‚æˆ‘ä»¬å°†ä¸‰å¤©ä»¥å¤–çš„å†å²è½¨è¿¹æ•°æ®ç»Ÿä¸€å†™å…¥Â Paimonï¼Œåœ¨æ˜¾è‘—é™ä½æ¹–å­˜å‚¨æˆæœ¬çš„åŒæ—¶ï¼Œæ„å»ºèµ·æµæ‰¹ä¸€ä½“çš„ç»Ÿä¸€æ•°æ®æ¶æ„ã€‚</p>
<p><strong>æ¸©æ•°æ®å±‚ï¼ˆ3Â å¤©â€“60Â å¤©ï¼‰</strong></p>
<p>æ¸©æ•°æ®å±‚ä½¿ç”¨Â PaimonÂ +Â StarRocksÂ å­˜å‚¨å¹¶æŸ¥è¯¢Â 3Â å¤©è‡³Â 60Â å¤©èŒƒå›´å†…çš„è½¨è¿¹æ•°æ®ï¼Œæ•´ä½“å¯å®ç°<strong>ç™¾æ¯«ç§’çº§</strong>å“åº”ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥â€œç”¨æˆ·Â +Â æ—¶é—´ç‰‡Â +Â è½¨è¿¹æ®µâ€Â çš„ç»“æ„åŒ–è®¾è®¡ï¼Œä»¥è¦†ç›–å¤šç§æŸ¥è¯¢å½¢æ€ã€‚</p>
</li>
<li>
<p>æ•°æ®ç‰¹å¾ï¼šæ•´ä½“Â QPSÂ è¾ƒä½ã€è®¿é—®é¢‘ç‡ç›¸å¯¹æœ‰é™ï¼Œå¯¹Â RTÂ çš„å®¹å¿åº¦ç›¸å¯¹æ›´é«˜ã€‚</p>
</li>
</ul>
<p><strong>å†·æ•°æ®å±‚ï¼ˆ60Â å¤©ä»¥ä¸Šå…¨é‡å†å²ï¼‰</strong></p>
<p>å†·æ•°æ®å±‚åŒæ ·é‡‡ç”¨Â PaimonÂ +Â StarRocksï¼Œæ‰¿è½½Â 60Â å¤©ä»¥ä¸Šçš„å…¨é‡å†å²è½¨è¿¹æ•°æ®ã€‚ç›¸è¾ƒæ¸©æ•°æ®å±‚ï¼Œè¯¥å±‚åœ¨å­˜å‚¨ç»“æ„ä¸Šåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå°†å¤šæ®µè½¨è¿¹æŒ‰ç…§è½¨è¿¹çš„å”¯ä¸€Â IDÂ èšåˆä¸ºä¸€æ¡å®Œæ•´è½¨è¿¹ï¼Œå¹¶ä¸”å¼•å…¥å‹ç¼©ç­–ç•¥ä»¥æ˜¾è‘—é™ä½å†å²æ•°æ®çš„å­˜å‚¨å¼€é”€ã€‚</p>
<p>æ¸©/å†·æ•°æ®å±‚ä¸»è¦æ”¯æ’‘è¶³è¿¹åœ°å›¾ç­‰äº§å“èƒ½åŠ›å¯¹å†å²è½¨è¿¹çš„æŸ¥è¯¢ä¸å±•ç¤ºã€‚åŒæ—¶ï¼Œåœ¨ç¦»çº¿åˆ†æåœºæ™¯ä¸­ï¼ˆå¦‚Â AIÂ è®­ç»ƒã€è§„å¾‹æŒ–æ˜ç­‰ï¼‰ä»¥åŠå†…éƒ¨è°ƒæŸ¥å¹³å°ç­‰å·¥å…·å‹åœºæ™¯ï¼Œä¹Ÿä¼šä½¿ç”¨è¯¥éƒ¨åˆ†æ•°æ®èµ„äº§ã€‚</p>
<h3 data-id="heading-9">æ•´ä½“é“¾è·¯æ¶æ„å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a7c3f20bc1841d8959c3cf11e20c5a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=up7SfoNuYsVLGWnfB%2Bo5kSGdtsk%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0524375348f90ffd024b62de75a06ba27915c57f0c427fd6c327b4ea19d5151fa61ba2f300c01db66d107157f8bbaaaa.png" loading="lazy"/></p>
<p>æ•´ä½“é“¾è·¯çš„æ¶æ„ç¤ºæ„å›¾å¯æŒ‰ä¸‰å±‚ç†è§£ï¼š<strong>æ•°æ®å¤„ç†å±‚ã€å­˜å‚¨å±‚ä¸æ¥å£å±‚</strong>ã€‚</p>
<p>ä»è½¨è¿¹æµå¤„ç†é“¾è·¯æ¥çœ‹ï¼Œ<strong>Flink</strong>Â æ¶ˆè´¹åŸå§‹è½¨è¿¹æ•°æ®åï¼Œä¼šæ ¹æ®è®¿é—®è·¨åº¦ä¸æ•°æ®åˆ†å±‚ç­–ç•¥ï¼Œå°†æ•°æ®åˆ†åˆ«å†™å…¥<strong>çƒ­/æ¸©/å†·</strong>ä¸‰ç±»å­˜å‚¨ä»‹è´¨ã€‚ä¸æ­¤åŒæ—¶ï¼Œåœ¨è½¨è¿¹æµåŠ å·¥è¿‡ç¨‹ä¸­ï¼Œé“¾è·¯è¿˜ä¼šå¼•å…¥è§„åˆ’æ•°æ®åŠè¡Œåï¼ˆè§„åˆ’å¯¼èˆªï¼‰ç›¸å…³æ•°æ®ï¼Œå¹¶å€ŸåŠ©Â <strong>PaimonÂ çš„</strong>PartialÂ Updateå¼•æ“å®Œæˆå®½è¡¨åŒ–å…³è”ï¼Œä»è€Œç”Ÿæˆå®Œæ•´çš„è¡Œç¨‹ä¿¡æ¯å¹¶è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚</p>
<p>åœ¨è¡Œç¨‹ä¿¡æ¯æ²‰æ·€åï¼Œå¹³å°è¿›ä¸€æ­¥åŸºäºè¡Œç¨‹ä¿¡æ¯ä¸è¡Œç¨‹ç‰¹å¾ï¼Œå¹¶ç»“åˆä¸‰æ€¥ä¸€è¶…æ•°æ®ã€å¤©æ°”æ•°æ®ç­‰å¤–éƒ¨ç»´åº¦ï¼Œæ„å»ºé‡Œç¨‹ç¢‘ã€è·¨åŸè¯†åˆ«ã€Linké€šè¡Œé‡ç­‰å®æ—¶ç‰¹å¾èƒ½åŠ›ã€‚</p>
<p>åœ¨æ¥å£å±‚ï¼Œå¹³å°å¯¹å¤–ç»Ÿä¸€æä¾›æŸ¥è¯¢æœåŠ¡èƒ½åŠ›ã€‚ç»¼åˆæ¥çœ‹ï¼ŒåŸºäºÂ <strong>FlinkÂ +Â PaimonÂ +Â StarRocks</strong>Â çš„æ•°æ®æ¹–æ–¹æ¡ˆï¼Œå¹¶ä»¥Â Lindormã€RedisÂ ç­‰å­˜å‚¨ä»‹è´¨ä½œä¸ºè¡¥å……ï¼Œè½¨è¿¹é“¾è·¯è¢«æ•´åˆä¸ºä¸€å¥—é€šç”¨çš„è½¨è¿¹åŸºç¡€èƒ½åŠ›ï¼Œå¹¶åœ¨å»ºè®¾ç›®æ ‡ä¸Šä½“ç°ä¸ºâ€œä¸‰ä¸ªä¸€â€ï¼š</p>
<ul>
<li>
<p><strong>ä¸€å¥—å­˜å‚¨æ¶æ„ï¼š</strong> å°†é«˜å¾·è½¨è¿¹æ•°æ®ä¸è¡Œç¨‹ä¿¡æ¯åœ¨åŒä¸€æ¶æ„ä¸‹è¿›è¡Œç»Ÿä¸€å­˜å‚¨ä¸è®¡ç®—æ•´åˆï¼ŒåŒæ—¶å¯¹è½¨è¿¹æŸ¥è¯¢æœåŠ¡è¿›è¡Œç»Ÿä¸€åŒ–æ²»ç†ã€‚</p>
</li>
<li>
<p><strong>ä¸€å¥—ç‰¹å¾ä½“ç³»ã€‚</strong> åœ¨æ¨è¿›è¯¥ä½“ç³»å»ºè®¾è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹æ—¢æœ‰ç‰¹å¾è¿›è¡Œäº†æ¢³ç†ä¸æ”¶æ•›ï¼Œå»é™¤å†å²æ²‰æ·€ä¸‹çš„å†—ä½™ç‰¹å¾ï¼Œç»Ÿä¸€ç»´æŠ¤ä¸€å¥—Â LinkÂ çº§å®æ—¶ç‰¹å¾ã€‚åœ¨å…³é”®ä¸šåŠ¡å‘¨æœŸå†…ï¼Œè¯¥ç‰¹å¾ä½“ç³»ä¹Ÿæ”¯æ’‘å¹¶ä¿éšœäº†é«˜å¾·â€œåä¸€å‡ºè¡ŒèŠ‚â€ç­‰é«˜å³°åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p><strong>ä¸€å¥—æ•°æ®æ¹–æ¶æ„ã€‚</strong> åŸºäºæ•°æ®æ¹–èƒ½åŠ›ï¼Œå¹³å°å½¢æˆäº†ä¸€å¥—ç»Ÿä¸€çš„æ•°æ®å¼€å‘ä¸æ•°æ®æœåŠ¡æ¶æ„ï¼Œå¹¶å°†å…¶ä½œä¸ºæ•°æ®å¼€å‘å±‚çš„ä¸»è¦æŠ€æœ¯è·¯å¾„ã€‚ä¸€æ–¹é¢æå‡äº†ç ”å‘äº¤ä»˜æ•ˆç‡ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿé™ä½äº†åç»­äººå·¥è¿ç»´æˆæœ¬ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡æ€»ç»“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbe5c3250e624efc8299bad53ef9b168~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=D0GDEjpozISGaOjl1UIUc7gkXAg%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602aaac77b6f1abe50df13f0408df7726cc68bfa44526e493719f2098432e8d1f7f705d44c8d5e36c9f6d14d7240e718d0e1.png" loading="lazy"/></p>
<p>å…³äºæ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ•´ä½“å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œæ€»ç»“ï¼š</p>
<p><strong>ç¬¬ä¸€ï¼šè®¿é—®é¢‘æ¬¡åˆ†å±‚</strong> æˆ‘ä»¬ä»¥è®¿é—®è·¨åº¦ä¸ºæ ¸å¿ƒæŒ‡æ ‡å®Œæˆæ•°æ®çƒ­åº¦åˆ†æï¼Œå¹¶åŸºäºâ€œæ—¶é—´è¡°å‡â€çš„ç­–ç•¥ï¼Œå°†æ•°æ®éšç”Ÿå‘½å‘¨æœŸåœ¨ä¸åŒå­˜å‚¨ä»‹è´¨ä¹‹é—´åŠ¨æ€è¿ç§»ã€‚</p>
<p><strong>ç¬¬äºŒï¼šæ™ºèƒ½æ•°æ®è¿ç§»</strong></p>
<p>åœ¨æ•°æ®è®¿é—®è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯æ ¹æ®è®¿é—®æ¨¡å¼åœ¨ä¸åŒå±‚çº§é—´è‡ªåŠ¨è·¯ç”±æŸ¥è¯¢ï¼Œç¡®ä¿æ•°æ®çš„å°±è¿‘è®¿é—®ã€‚è¯¥æœºåˆ¶å¸¦æ¥é˜¶æ¢¯å¼çš„å­˜å‚¨æˆæœ¬æ”¶ç›Šã€‚</p>
<p>åŸºäºä¸Šè¿°è®¾è®¡ï¼Œåˆ†å±‚æ¶æ„ä¸»è¦ä½“ç°ä¸¤é¡¹æ ¸å¿ƒä»·å€¼ï¼š</p>
<ol>
<li>
<p>èƒ½å¤ŸåŒæ—¶è¦†ç›–ä»<strong>å®æ—¶å†³ç­–</strong>åˆ°<strong>å†å²åˆ†æ</strong>çš„å¤šæ ·åŒ–ä¸šåŠ¡éœ€æ±‚ï¼›</p>
</li>
<li>
<p>é€šè¿‡åˆ†å±‚å­˜å‚¨å®ç°<strong>æ€§èƒ½ä¸æˆæœ¬</strong>ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚</p>
</li>
</ol>
<h3 data-id="heading-11">æŸ¥è¯¢åœºæ™¯ä¸‹çš„ä¸€äº›ä¼˜åŒ–å®è·µ</h3>
<p><strong>1ã€å­˜å‚¨ä¼˜åŒ–ï¼šè½¨è¿¹å‹ç¼©-é™ä½å­˜å‚¨æˆæœ¬</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6828edafe6547e3891fd4e458b8fefd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=nZejgMABU%2FhnGWtEoFOZDKa1K1Y%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af6510f6bc16b48b6e0d902b92423a719bf8e9d473deed2c513f3fc6470c97e850047d960e9a4570b2.png" loading="lazy"/></p>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬å¯¹è½¨è¿¹æ•°æ®è¿›è¡Œäº†å‹ç¼©ï¼Œä»¥æ˜¾è‘—é™ä½å†å²å­˜å‚¨æˆæœ¬ã€‚å…·ä½“å®ç°ä¸Šé‡‡ç”¨äº†Â GoogleÂ çš„Â <strong>PolylineÂ ç¼–ç </strong>ã€‚å…¶åŸºæœ¬æ€è·¯æ˜¯ï¼šå°†ç»çº¬åº¦æµ®ç‚¹æ•°æŒ‰å›ºå®šå€ç‡è¿›è¡Œé‡åŒ–ï¼ˆç¼©æ”¾ï¼‰åè½¬æ¢ä¸ºæ•´æ•°ï¼Œå†å¯¹ç›¸é‚»ç‚¹çš„åæ ‡å¢é‡è¿›è¡Œå·®åˆ†ç¼–ç ï¼Œå¹¶é€šè¿‡å¯å˜é•¿åº¦ç¼–ç å°†ç»“æœæ˜ å°„ä¸ºÂ ASCIIÂ å­—ç¬¦ä¸²ï¼Œä»è€Œå®ç°å¯¹ç»çº¬åº¦åºåˆ—çš„é«˜æ•ˆå‹ç¼©ã€‚æœ¬è´¨ä¸Šï¼Œè¯¥ç®—æ³•æ˜¯å¯¹ç»çº¬åº¦æ•´æ•°åºåˆ—ï¼ˆåŠå…¶å·®åˆ†ç»“æœï¼‰è¿›è¡Œç´§å‡‘ç¼–ç ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä¸Šè¿°ç®—æ³•æ€è·¯çš„åŸºç¡€ä¸Šï¼Œç»“åˆé«˜å¾·å¸¸è§çš„é€šç”¨è½¨è¿¹æ ¼å¼è¿›è¡Œäº†é€‚é…ä¸æ”¹é€ ï¼Œä»è€Œå®ç°å¯¹è½¨è¿¹æ•°æ®çš„ç»Ÿä¸€å‹ç¼©ã€‚ä»¥å‹ç¼©å‰çš„æ•°æ®æ ·ä¾‹ä¸ºä¾‹ï¼Œä¸€æ®µè½¨è¿¹ç”±å¤šä¸ªç‚¹æ„æˆï¼›æ¯ä¸ªç‚¹é€šå¸¸åŒ…å«Â <strong>æ—¶é—´ã€ç»åº¦ã€çº¬åº¦ã€é€Ÿåº¦ã€æ–¹å‘ã€é«˜ç¨‹</strong>ç­‰å­—æ®µä¿¡æ¯ã€‚</p>
<p>ç»è¿‡å‹ç¼©åï¼Œè½¨è¿¹æ•°æ®ä¼šè¢«ç¼–ç ä¸ºä¸€æ®µç´§å‡‘çš„å­—ç¬¦ä¸²ï¼ˆå½¢æ€ä¸Šç±»ä¼¼â€œä¹±ç â€ï¼‰ã€‚ä»æ•ˆæœæ¥çœ‹ï¼Œå•æ¡è½¨è¿¹çš„å‹ç¼©ç‡å¯è¾¾åˆ°Â <strong>43%â€“50%</strong>ï¼›è½¨è¿¹è¶Šé•¿ï¼Œå‹ç¼©æ•ˆæœè¶Šæ˜æ˜¾ã€‚æ•´ä½“è€Œè¨€ï¼Œé«˜å¾·è½¨è¿¹æ•°æ®å…¨é¢åº”ç”¨è¯¥å‹ç¼©æ–¹æ¡ˆåï¼Œç»¼åˆæ”¶ç›Šçº¦ä¸ºÂ <strong>47%</strong>ã€‚åœ¨æ€§èƒ½æ–¹é¢ï¼Œè¯¥å‹ç¼©ç®—æ³•å…·å¤‡è¾ƒå¥½çš„èµ„æºæ•ˆç‡ï¼šå³ä¾¿åœ¨<strong>äº¿çº§è½¨è¿¹</strong>çš„å‹ç¼©è§„æ¨¡ä¸‹ï¼ŒCPUÂ èµ„æºæ¶ˆè€—ä»ä¿æŒåœ¨è¾ƒä½æ°´å¹³ã€‚</p>
<p><strong>2ã€å­˜å‚¨ä¼˜åŒ–ï¼šé›†å›¢Â AlakeÂ é—¨æˆ·çš„å­˜å‚¨ä¼˜åŒ–åŠŸèƒ½</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/133f95d16356476b81e630813c09d982~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=Om6kaeAyQUA4fcewBpd4YB5nHs0%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a15464a86392b1bf594ec014988a9b25e4e48f330f0aa8836c3fa939067edf91ef5b6949115c8defe9f893503a351ce55 (1).png" loading="lazy"/></p>
<p>ç”±äºæœ¬é¡¹ç›®ä½¿ç”¨é›†å›¢æ•°æ®æ¹–èƒ½åŠ›ï¼Œé›†å›¢é—¨æˆ·æä¾›äº†å­˜å‚¨æ²»ç†ç›¸å…³çš„ä¼˜åŒ–åŠŸèƒ½ã€‚åœ¨Â FlinkÂ å†™å…¥Â PaimonÂ çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå› æ£€æŸ¥ç‚¹ï¼ˆCheckpointï¼‰æäº¤å¤±è´¥ç­‰åŸå› äº§ç”Ÿå°æ–‡ä»¶ï¼Œå¹¶åœ¨å¼‚å¸¸åœºæ™¯ä¸‹å½¢æˆå­¤å„¿æ–‡ä»¶ã€‚</p>
<p>ä¸ºæ­¤ï¼Œé›†å›¢æ•°æ®æ¹–é—¨æˆ·æ”¯æŒæŒ‰â€œé¡¹ç›®ç©ºé—´Â +Â è¡¨â€ç²’åº¦è¿›è¡Œé…ç½®ã€‚æˆ‘ä»¬å°†ç›®æ ‡è¡¨çº³å…¥æ²»ç†èŒƒå›´åï¼Œå¯é€šè¿‡å®šæœŸæ‰§è¡Œæˆ–æ‰‹åŠ¨è§¦å‘çš„æ–¹å¼å¼€å±•ï¼š</p>
<ul>
<li>
<p>å°æ–‡ä»¶åˆå¹¶/æ•´ç†ï¼ˆæ–‡ä»¶å‹å®ã€åˆå¹¶å°æ–‡ä»¶ï¼‰ï¼›</p>
</li>
<li>
<p>å­¤å„¿æ–‡ä»¶æ¸…ç†ã€‚</p>
</li>
</ul>
<p>ä¸Šè¿°æ²»ç†åŠ¨ä½œèƒ½å¤Ÿè¿›ä¸€æ­¥é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶é€šè¿‡å‘¨æœŸæ€§åˆå¹¶/æ•´ç†ä½œä¸šå‡å°‘Â PaimonÂ è¡¨ä¸­çš„å°æ–‡ä»¶æ•°é‡ï¼Œä»è€Œä¿éšœæ¹–è¡¨çš„é«˜æ•ˆæŸ¥è¯¢èƒ½åŠ›ã€‚</p>
<p><strong>3ã€æŸ¥è¯¢ä¼˜åŒ–ï¼šæ•°æ®åˆ†åŒºå­˜å‚¨ï¼Œåˆ†åŒºè£å‰ª</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42a42155cdcb4df983a8c5750f3e8717~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=QRwJkzUtvlSk23zzyltdQCBz7KY%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a8169d9d9ddf3b83f16aa4c685ccfbc71df04090c53a45f623be580359e3c0d25d70d64a9ebd6175696b3029a3d8d1d95.png" loading="lazy"/></p>
<p>åœ¨è¯»å–æ€§èƒ½æ–¹é¢ï¼Œæˆ‘ä»¬ä»ä¸šåŠ¡è®¿é—®ç‰¹å¾å‡ºå‘å¯¹æ•°æ®è¿›è¡Œäº†åˆ†åŒºå­˜å‚¨ã€‚ä»¥åƒäº¿çº§è½¨è¿¹ç‚¹æŸ¥è¯¢åœºæ™¯ä¸ºä¾‹ï¼Œè‹¥ç¼ºå°‘åˆç†åˆ†åŒºï¼Œä»æµ·é‡å†å²æ•°æ®ä¸­å®šä½ä¸€æ¡è½¨è¿¹å¯èƒ½éœ€è¦è§¦å‘å…¨è¡¨æ‰«æï¼Œå¯¼è‡´Â I/OÂ ä¸Â CPUÂ å¼€é”€æ˜¾è‘—ä¸Šå‡ã€‚</p>
<p>åœ¨è½¨è¿¹ä¸šåŠ¡ä¸­ï¼Œåˆ†åŒºè®¾è®¡ä¼šå¤©ç„¶é‡åˆ°â€œè·¨å¤©â€é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·åœ¨å½“æ—¥Â 22:00Â å¼€å§‹å¯¼èˆªã€æ¬¡æ—¥Â 01:00Â ç»“æŸè¡Œç¨‹ï¼Œåˆ™è¯¥è¡Œç¨‹å¯¹åº”çš„è½¨è¿¹ç‚¹/è½¨è¿¹æ®µä¼šè·¨è¶Šå¤šä¸ªæ—¥æœŸåˆ†åŒºã€‚è‹¥ä»æŒ‰è‡ªç„¶æ—¥æœŸåˆ†åŒºå­˜å‚¨ä¸å†™å…¥ï¼Œå®Œæ•´è½¨è¿¹çš„æŸ¥è¯¢ä¸å†™å…¥éƒ½ä¼šæ¶‰åŠå¤šä¸ªåˆ†åŒºã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å†å²æ•°æ®å±‚åšäº†ä¸€ä¸ªå…³é”®è®¾è®¡ï¼šè½¨è¿¹ç‚¹èšåˆã€‚å…·ä½“è€Œè¨€ï¼Œé€šè¿‡è½¨è¿¹çš„å”¯ä¸€Â IDï¼Œå°†åŒä¸€æ¡è½¨è¿¹çš„å¤šä¸ªç‚¹èšåˆä¸ºä¸€æ¡å®Œæ•´è½¨è¿¹ï¼Œå¹¶é…åˆå‰æ–‡ä»‹ç»çš„å‹ç¼©ç®—æ³•ï¼Œè¿›ä¸€æ­¥é™ä½å­˜å‚¨æˆæœ¬ã€‚åœ¨åˆ†åŒºç­–ç•¥ä¸Šï¼Œæˆ‘ä»¬ä»¥è½¨è¿¹å¼€å§‹æ—¥æœŸä½œä¸ºåˆ†åŒºé”®ï¼Œä»è€Œä¿è¯å•æ¡è½¨è¿¹åªè½å…¥ä¸€ä¸ªåˆ†åŒºï¼ŒåŒæ—¶è§„é¿è·¨å¤©å†™å…¥ä¸è·¨åˆ†åŒºæŸ¥è¯¢çš„é—®é¢˜ã€‚</p>
<p>åœ¨è¡¨æ¨¡å‹è®¾è®¡ä¸Šï¼ŒPaimonÂ è¡¨ä»¥è½¨è¿¹Â IDä½œä¸ºä¸»é”®ã€‚ç”±äºÂ PaimonÂ ä¸»é”®è¡¨æ”¯æŒÂ Upsertï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¶ä¸»é”®åˆå¹¶èƒ½åŠ›æ”¯æŒè½¨è¿¹è¡¥å…¨ä¸æ•°æ®ä¿®å¤ç­‰åœºæ™¯ï¼›åŒæ—¶ï¼Œä¸»é”®è¿‡æ»¤æ¡ä»¶ä¹Ÿèƒ½å¤Ÿæ˜¾è‘—åŠ é€ŸæŸ¥è¯¢ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5515151d5ecd493491384995199d41fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=D07Bb6HbR9iUtNEV3%2BqfZfYmwLQ%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a822951806323f8962d2cb5184a5287b612fc2d3a187a7e82ec946d2ed9b63d0762f4e7a3a510fce277db19ed0ef6801a.png" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œè¯¥è¡¨å¼€å¯äº†Â DVï¼ˆDeletionÂ Vectorï¼‰ç›¸å…³èƒ½åŠ›ï¼šå½“Â ReaderÂ è¯»å–å¼€å¯Â DVÂ çš„è¡¨æ—¶ï¼Œå¯è‡ªåŠ¨è·³è¿‡å·²æ ‡è®°åˆ é™¤çš„è¡Œï¼Œä»…è¿”å›æœ€æ–°æœ‰æ•ˆæ•°æ®ï¼›åŒæ—¶ï¼ŒManifestÂ çš„æ›´æ–°é¢‘æ¬¡ä¹Ÿä¼šé™ä½ï¼Œç»¼åˆå¸¦æ¥Â I/OÂ çš„è¿›ä¸€æ­¥å‡å°‘ã€‚é…åˆÂ StarRocksÂ çš„Â DVÂ NativeÂ å®ç°ï¼ˆC++ï¼‰ï¼Œæ•´ä½“æ‰§è¡Œæ•ˆç‡ç›¸è¾ƒÂ JNIÂ è·¯å¾„å¯è·å¾—æ˜¾è‘—æå‡ï¼ˆå¯è¾¾åˆ°Â 5Â å€ä»¥ä¸Šï¼‰ã€‚</p>
<p><strong>4ã€æ€§èƒ½ä¼˜åŒ–ï¼šè°ƒæ•´å‚æ•°</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e2e0d8e663d4f38bfe4fab66fc960a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=OgNHnzN6Rz0KAT3Ul2oMj0a9B2w%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a822951806323f896630a2d0c157f619aa6f1656cf8818d35aefc7676df1aca65924952ca63fb3b67ddfef48dcb089ed0.png" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿé’ˆå¯¹Â PaimonÂ è¡¨åšè¿‡ä¸€ç³»åˆ—å‚æ•°è°ƒä¼˜ï¼Œä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç‚¹æŸ¥åœºæ™¯ä¸‹çš„è¯»å–æ•ˆç‡ä¸ç¨³å®šæ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼šå°†Â file-block-sizeÂ ä»é»˜è®¤çš„Â <strong>128MB</strong>Â ä¸‹è°ƒè‡³Â <strong>32MB</strong>ã€‚åœ¨è½¨è¿¹å†å²æ•°æ®ä½“é‡å¤§ã€ä»¥ç‚¹æŸ¥ä¸ºä¸»çš„åœºæ™¯ä¸‹ï¼Œæ›´å°çš„Â block/rowÂ groupÂ ç²’åº¦æœ‰åˆ©äºæ›´ç²¾ç»†çš„æ•°æ®è£å‰ªä¸ä¸‹æ¨ï¼š</p>
<ul>
<li>
<p>ç²’åº¦æ›´å°æ„å‘³ç€å¯ä»¥æ›´å‡†ç¡®åœ°å®šä½å‘½ä¸­èŒƒå›´ï¼Œä»è€Œåœ¨è¯»å–æ—¶è·³è¿‡æ›´å¤šä¸ç›¸å…³çš„Â rowÂ groupï¼›</p>
</li>
<li>
<p>æœ‰åŠ©äºé™ä½Â I/OÂ æ”¾å¤§ï¼ˆåªè¯»å–å‘½ä¸­çš„Â groupï¼Œè€Œéæ‰©å¤§åˆ°æ•´æ–‡ä»¶çº§åˆ«ï¼‰ï¼›</p>
</li>
<li>
<p>æ›´å°çš„Â groupÂ ä¹Ÿæ›´åˆ©äºå¤šçº¿ç¨‹/å¤šä»»åŠ¡å¹¶è¡Œè¯»å–ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬ä¹Ÿå°è¯•è¿‡å¼€å¯â€œä½¿ç”¨çº¿ç¨‹æ± å¤„ç†åºåˆ—åŒ–â€çš„ç›¸å…³å‚æ•°ã€‚ä½†ç”±äºè¯¥çº¿ç¨‹æ± é»˜è®¤å¤§å°é€šå¸¸ä¸ºÂ CPUÂ æ ¸å¿ƒæ•°çš„Â 2Â å€ï¼Œåœ¨é«˜Â QPSÂ åœºæ™¯ä¸‹åè€Œå®¹æ˜“å½¢æˆæ’é˜Ÿä¸ç“¶é¢ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†è¯¥å‚æ•°è®¾ç½®ä¸ºÂ <strong>false</strong>ï¼Œä½¿åºåˆ—åŒ–ç”±æ¯æ¡Â SQLÂ åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è‡ªè¡Œå®Œæˆã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å°†Â manifestÂ ç¼“å­˜å¤§å°ä»é»˜è®¤çš„Â <strong>1GB</strong>Â è°ƒæ•´è‡³Â <strong>4GB</strong>ï¼Œç”¨äºæå‡Â manifestÂ å‘½ä¸­ç‡ã€‚é«˜å¾·è½¨è¿¹æŸ¥è¯¢å­˜åœ¨ä¸€å®šæ¯”ä¾‹çš„â€œè®¿é—®æ›´æ—©å†å²æ•°æ®â€çš„ç‰¹å¾ï¼Œè‹¥Â manifestÂ é¢‘ç¹è¿‡æœŸå¹¶è¢«æ·˜æ±°ã€‚æ‰©å¤§ç¼“å­˜åï¼Œå¯è¦†ç›–æ›´é•¿æ—¶é—´èŒƒå›´çš„Â manifestÂ å…ƒæ•°æ®ã€‚</p>
<p><strong>5ã€ç¨³å®šæ€§è°ƒä¼˜ï¼šå¤šå®ä¾‹éš”ç¦»</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cfa7e46edad42d6899e958a03fe6624~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=fkGvSo%2B3ggKiaafuxwECRsLAtqU%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a7a5c135778ee098c08ae8fbc26d88bc1199f49c74c0281f255a02aca63162d1e589b12df32ca37985a20d1c4d7c1fd9a.png" loading="lazy"/></p>
<p>æœ€åä¸€ç±»éœ€è¦é‡ç‚¹è§£å†³çš„æ˜¯ç¨³å®šæ€§ä¸èµ„æºéš”ç¦»é—®é¢˜ã€‚å‰æ–‡æåˆ°ï¼Œè½¨è¿¹æ•°æ®æ—¢æœåŠ¡äºÂ CÂ ç«¯åœ¨çº¿ä¸šåŠ¡ï¼Œä¹Ÿæ”¯æ’‘å†…éƒ¨è°ƒæŸ¥å¹³å°ç­‰å†…éƒ¨å·¥å…·ï¼Œä¸¤ç±»ä¸šåŠ¡åœ¨Â SLAÂ ä¸æŸ¥è¯¢ç‰¹å¾ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼Œè‹¥ç¼ºä¹éš”ç¦»æœºåˆ¶ï¼Œå®¹æ˜“äº§ç”Ÿèµ„æºå¹²æ‰°ã€‚</p>
<p>ä»¥Â CÂ ç«¯è¶³è¿¹ç±»æŸ¥è¯¢ä¸ºä¾‹ï¼Œå…¶å…¸å‹ç‰¹å¾æ˜¯ç‚¹æŸ¥æˆ–å°èŒƒå›´æ‰«æï¼Œå¯¹å“åº”æ—¶å»¶ï¼ˆRTï¼‰é«˜åº¦æ•æ„Ÿï¼›ä¸€æ—¦å‡ºç°è¶…æ—¶æˆ–æ˜æ˜¾æŠ–åŠ¨ï¼Œç”¨æˆ·ä½“éªŒä¼šç›´æ¥å—å½±å“ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå†…éƒ¨è°ƒæŸ¥å¹³å°çš„æŸ¥è¯¢æ›´å¤šç”±å†…éƒ¨åŒå­¦æŒ‰éœ€è§¦å‘ï¼Œå¸¸è§å½¢æ€åŒ…æ‹¬å¤æ‚Â Joinã€æ›´å¤§èŒƒå›´æ‰«æç”šè‡³å…¨è¡¨æ‰«æï¼Œå•æ¬¡æŸ¥è¯¢å¯èƒ½å¸¦æ¥Â GBÂ çº§Â I/OÂ å¼€é”€ã€‚ç”±äºå…¶ä¸»è¦ç”¨äºåˆ†æä¸æ’æŸ¥ï¼Œè¯¥ç±»åœºæ™¯å¯¹å»¶è¿Ÿå…·å¤‡æ›´é«˜å®¹å¿åº¦ã€‚</p>
<p>ä¸ºè§£å†³ä¸åŒä¸šåŠ¡Â SLAÂ å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ï¼Œæˆ‘ä»¬å°†SRé›†ç¾¤é‡‡ç”¨ç‰©ç†éš”ç¦»çš„æ–¹å¼è¿›è¡Œèµ„æºæ²»ç†ï¼šå°†Â CÂ ç«¯ä¸šåŠ¡æ‹†åˆ†ä¸ºä¸¤ä¸ªé›†ç¾¤ï¼ŒåŒæ—¶å°†å†…éƒ¨è°ƒæŸ¥å¹³å°ç‹¬ç«‹éƒ¨ç½²åœ¨ä¸€ä¸ªè§„æ¨¡ç›¸å¯¹è¾ƒå°çš„é›†ç¾¤ä¸­ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸åŒåœºæ™¯ä¹‹é—´åœ¨æŸ¥è¯¢æ—¶å€™çš„èµ„æºç«äº‰å¾—åˆ°æœ‰æ•ˆç¼“è§£ï¼Œæ—¢é¿å…äº†ç›¸äº’å¹²æ‰°ï¼Œä¹Ÿæ›´å¥½åœ°ä¿éšœäº†Â CÂ ç«¯ä¸šåŠ¡çš„Â SLAã€‚</p>
<h2 data-id="heading-12">é«˜å¾·åœ°å›¾å®æ—¶æ¹–ä»“æœªæ¥è§„åˆ’</h2>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬æ‰€åœ¨éƒ¨é—¨æ˜¯æ•°æ®ä¸­å°ï¼Œæ‰¿æ‹…é«˜å¾·å®æ—¶ä¸ç¦»çº¿æµé‡çš„ç»Ÿä¸€å…¥å£èŒè´£ã€‚é™¤è½¨è¿¹æ•°æ®å¤–ï¼Œå¹³å°è¿˜è¦†ç›–å¤šç§ç±»å‹çš„ä¸šåŠ¡æ•°æ®ã€‚</p>
<p>æœ¬æ¬¡åœ¨è½¨è¿¹åœºæ™¯ä¸­å®ç°äº†æµæ‰¹ä¸€ä½“çš„è½åœ°éªŒè¯ï¼Œåç»­å°†è¿›ä¸€æ­¥æ‰©å¤§ä¸šåŠ¡èŒƒå›´ï¼š</p>
<ul>
<li>
<p>é€æ­¥å°†æµæ‰¹ä¸€ä½“èƒ½åŠ›æ‰©å±•åˆ°é«˜å¾·å…¶ä»–åŸºç¡€æœåŠ¡çš„æ—¥å¿—ç±»æ•°æ®ã€‚</p>
</li>
<li>
<p>ä¸ä¸‹æ¸¸Â BIÂ å›¢é˜ŸåŠç®—æ³•å›¢é˜Ÿæ‰“é€šä»æ•°æ®ç”Ÿäº§ã€æ²»ç†åˆ°æ¶ˆè´¹çš„å…¨é“¾è·¯åä½œã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿè®¡åˆ’å›´ç»•ä¸Šè¿°å¤šæºä¸šåŠ¡æ•°æ®ï¼Œå¯¹ç”¨æˆ·è¡Œä¸ºä¸åå¥½è¿›è¡Œç‰¹å¾æŒ–æ˜ï¼Œå¹¶å°†ç›¸å…³èƒ½åŠ›è¿›ä¸€æ­¥ä¸Â AIÂ AgentÂ ç»“åˆï¼Œå½¢æˆé¢å‘ä¸šåŠ¡çš„æ™ºèƒ½åŒ–èµ‹èƒ½è·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain å®æˆ˜ | å¿«é€Ÿæ­å»º Python å¼€å‘ç¯å¢ƒ]]></title>    <link>https://juejin.cn/post/7593165280488194089</link>    <guid>https://juejin.cn/post/7593165280488194089</guid>    <pubDate>2026-01-09T09:33:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488194089" data-draft-id="7580723992498110500" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain å®æˆ˜ | å¿«é€Ÿæ­å»º Python å¼€å‘ç¯å¢ƒ"/> <meta itemprop="keywords" content="LangChain,LLM,Python"/> <meta itemprop="datePublished" content="2026-01-09T09:33:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„æ¾é¼ "/> <meta itemprop="url" content="https://juejin.cn/user/2749193011073976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain å®æˆ˜ | å¿«é€Ÿæ­å»º Python å¼€å‘ç¯å¢ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2749193011073976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„æ¾é¼ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:33:35.000Z" title="Fri Jan 09 2026 09:33:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä»‹ç» uv</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv" target="_blank" title="https://docs.astral.sh/uv" ref="nofollow noopener noreferrer">uv</a> æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„ <strong>æå¿«çš„ Python åŒ…ç®¡ç†å™¨å’Œé¡¹ç›®ç®¡ç†å™¨ã€‚</strong></p>
<p>å®ƒæ•´åˆäº† Python å¼€å‘è€…å¸¸ç”¨çš„å¤šç§å·¥å…·åˆ°ä¸€ä¸ª CLI ä¸­ï¼Œéå¸¸åƒ Node.js ç”Ÿæ€é‡Œçš„ npm/pnpmã€‚</p>
<ul>
<li>Rust å†™çš„ï¼Œ<strong>é€Ÿåº¦æ¯” pip å¿« 10ï½80 å€</strong></li>
<li>ä¸€ä¸ªå·¥å…·æ›¿ä»£å¤šä¸ªå·¥å…·ï¼ˆpipã€virtualenvã€pip-toolsã€pyenvã€poetryâ€¦ï¼‰</li>
<li>å’Œ Ruff åŒä¸€ä¸ªå›¢é˜Ÿï¼Œä¸“ä¸šåº¦é«˜</li>
<li>é…ç½®ç»Ÿä¸€åœ¨ <code>pyproject.toml</code></li>
<li>å…¼å®¹ pipï¼Œä¸éœ€è¦è¿ç§»æˆæœ¬</li>
</ul>
<p><strong>uv å‘½ä»¤é€ŸæŸ¥è¡¨ï¼š</strong></p>





































<table><thead><tr><th>åŠŸèƒ½</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</td><td><code>uv venv</code></td></tr><tr><td>ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒè¿è¡Œè„šæœ¬</td><td><code>uv run main.py</code></td></tr><tr><td>å®‰è£…ä¾èµ–</td><td><code>uv pip install fastapi</code></td></tr><tr><td>å®‰è£…åˆ°é¡¹ç›®ï¼ˆå†™å…¥ pyprojectï¼‰</td><td><code>uv add fastapi</code></td></tr><tr><td>å®‰è£… Python ç‰ˆæœ¬</td><td><code>uv python install 3.12</code></td></tr><tr><td>è¿è¡Œå·¥å…·</td><td><code>uv run uvicorn app:app</code></td></tr><tr><td>è§£æä¾èµ–é”å®š</td><td><code>uv pip compile</code></td></tr></tbody></table>
<h2 data-id="heading-1">å®‰è£… uv</h2>
<p>æˆ‘ä»¬éœ€è¦ä¾æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv" target="_blank" title="https://docs.astral.sh/uv" ref="nofollow noopener noreferrer">uv å®˜ç½‘</a>ç»™æˆ‘ä»¬æä¾›çš„å®‰è£…æ–¹æ³•å°† uv å®‰è£…åˆ°è®¡ç®—æœºä¸­ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e67e9d3fc2d47e5ac00bc781b20644d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=NmESSR4T2Uorm2GLLfsDQx2tvY0%3D" alt="01-001.png" width="100%" loading="lazy"/>
<p><code>powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"</code></p>
<p>ä»¥ Windows ä¸ºä¾‹ï¼Œå°†ä¸Šè¿°å‘½ä»¤è¾“å…¥åˆ°ç»ˆç«¯åç­‰å¾…å‡ ç§’å°±ä¼šå®‰è£…å®Œæˆã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcc768d845334b3b97baca0712c47b4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=jVNA%2BfiFMZzXUSM1Rp43WmyM8aA%3D" alt="01-002.png" width="100%" loading="lazy"/>
<h4 data-id="heading-2">åˆå§‹åŒ–ç¯å¢ƒ</h4>
<p>å­¦ä¹  <code>langchain</code> æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª <code>Python</code> é¡¹ç›®ç¯å¢ƒã€‚</p>
<p>é¦–å…ˆï¼Œåˆ›å»º <code>langchain</code> é¡¹ç›®ç›®å½• <code>learn-langchain</code>ï¼Œåœ¨ç›®å½•ä¸‹çš„ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ <code>uv init</code>ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfb9d4344c6b4d109afe0a8e2ceed1d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=lh8JR1ZVlo0Eaj%2Btwag9wt48N3s%3D" alt="01-1.png" width="100%" loading="lazy"/>
<p>æ­¤æ—¶ï¼Œ<code>uv</code> å°±ä¼šå¸®æˆ‘ä»¬åˆå§‹åŒ–å¼€å‘ç¯å¢ƒï¼Œä¼šç”Ÿæˆå¦‚ä¸‹åˆå§‹æ–‡ä»¶ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2dfc5164e144ee58d4af506f02432ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=JYU%2FeW8qP6t7BbRygrU3MBctW44%3D" alt="01-2.png" width="100%" loading="lazy"/>
<p>å…¶ä¸­ï¼Œ<code>pyproject.toml</code> æ˜¯ Python é¡¹ç›®çš„â€œ<strong>æ€»é…ç½®ä¸­å¿ƒ + ä¾èµ–å£°æ˜å…¥å£</strong>â€ã€‚</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[project]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"learn-langchain"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">description</span> = <span class="hljs-string">"Add your description here"</span>
<span class="hljs-attr">readme</span> = <span class="hljs-string">"README.md"</span>
<span class="hljs-attr">requires-python</span> = <span class="hljs-string">"&gt;=3.13"</span>
<span class="hljs-attr">dependencies</span> = []
</code></pre>
<p>å¯ä»¥æŠŠå®ƒç±»æ¯”æˆå‰ç«¯é¡¹ç›®ä¸­çš„ <code>package.json</code> æ–‡ä»¶ï¼Œä¸‹é¢æˆ‘ä»¬è¯¦ç»†è§£é‡Šè¿™ä¸ªæ–‡ä»¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ã€‚</p>
<ul>
<li><strong>[project]</strong> ï¼šè¿™æ˜¯ä¸€ä¸ª Python é¡¹ç›®çš„å…ƒæ•°æ®å£°æ˜ï¼Œuv ä¼šä»è¿™é‡Œè¯»å–é¡¹ç›®ä¿¡æ¯ã€‚</li>
<li><strong>name</strong>ï¼šé¡¹ç›®çš„å®˜æ–¹åç§°ã€‚</li>
<li><strong>version</strong>ï¼šé¡¹ç›®ç‰ˆæœ¬å·ã€‚</li>
<li><strong>description</strong>ï¼šé¡¹ç›®çš„ä¸€å¥è¯æè¿°ã€‚</li>
<li><strong>readme</strong>ï¼šæŒ‡å®šé¡¹ç›®çš„ README æ–‡ä»¶ã€‚</li>
<li><strong>requires-python</strong>ï¼šå£°æ˜é¡¹ç›®èƒ½è¿è¡Œçš„ Python ç‰ˆæœ¬èŒƒå›´ã€‚</li>
<li><strong>dependencies</strong>ï¼šé¡¹ç›®çš„è¿è¡Œæ—¶ä¾èµ–ï¼Œåç»­å®‰è£…çš„ä¾èµ–éƒ½ä¼šå­˜åˆ°è¿™é‡Œã€‚</li>
</ul>
<h2 data-id="heading-3">å®‰è£…é¡¹ç›®ä¾èµ–</h2>
<p>é¦–å…ˆï¼Œå®‰è£… langchain æ ¸å¿ƒä¾èµ–ï¼Œåœ¨é¡¹ç›®è·Ÿç›®å½•ç»ˆç«¯è¾“å…¥ï¼š</p>
<p><code>uv add langchain langchain-core langchain-classic langchain-community</code></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8037e3bbab2465e8aa43b9ebe6c7452~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=MXsDQ9g0ZYbolQJv1OKAI2eb%2Bh4%3D" alt="01-3.png" width="100%" loading="lazy"/>
<p>æ­¤æ—¶ï¼Œæ–°çš„ä¾èµ–ä¼šå£°æ˜åœ¨ <code>pyproject.toml</code> æ–‡ä»¶çš„ <code>dependencies</code> ä¸­ã€‚</p>
<p>åŒæ—¶ï¼Œåœ¨é¡¹ç›®ä¸­ä¼šç”Ÿæˆ <code>uv.lovk</code> æ–‡ä»¶å’Œ <code>.venv</code> æ–‡ä»¶ï¼š</p>
<ul>
<li><strong>uv.lovk</strong>ï¼š uv è‡ªåŠ¨ç”Ÿæˆçš„<strong>ä¾èµ–é”æ–‡ä»¶</strong>ï¼Œ è®°å½•æ¯ä¸ªä¾èµ–çš„<strong>æœ€ç»ˆç‰ˆæœ¬ã€‚</strong></li>
<li><strong>.venv</strong>ï¼š uv ä¸ºå½“å‰é¡¹ç›®åˆ›å»ºçš„ Python è™šæ‹Ÿç¯å¢ƒç›®å½•ï¼Œé¿å…å…¨å±€ Python ç¯å¢ƒæ±¡æŸ“ã€‚</li>
</ul>
<h2 data-id="heading-4">æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h2>
<p>å¦‚æœæ˜¯ Windows ç³»ç»Ÿï¼Œåœ¨é¡¹ç›®ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<p><code>.venv\Scripts\activate</code></p>
<p>å¦‚æœæ˜¯ macOS / Linux ç³»ç»Ÿï¼Œåœ¨é¡¹ç›®ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<p><code>source .venv/bin/activate</code></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5203a55b9934d238fe64c700f5cfc1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=EJc6mUuM%2FAxNLoIkPFY%2FFNrPGhc%3D" alt="01-4.png" width="100%" loading="lazy"/>
<p>è™šæ‹Ÿç¯å¢ƒæ¿€æ´»åï¼Œä¼šåœ¨ç»ˆç«¯å‘½ä»¤è¡Œå‰ç«¯æ˜¾ç¤º <code>(learn-langchain)</code> è¡¨ç¤ºå½“å‰æ¿€æ´»çš„ Python è™šæ‹Ÿç¯å¢ƒåç§°ã€‚</p>
<h2 data-id="heading-5">åˆ›å»ºé¡¹ç›®ç¤ºä¾‹</h2>
<h3 data-id="heading-6">å®‰è£…ä¾èµ–</h3>
<p>é¦–å…ˆï¼Œå®‰è£…å¿…è¦çš„ä¾èµ–ï¼Œåœ¨é¡¹ç›®è·Ÿç›®å½•ç»ˆç«¯è¾“å…¥ï¼š</p>
<p><code>uv add python-dotenv langchain-openai langchain-deepseek</code></p>
<ul>
<li><code>python-dotenv</code>æ˜¯ä¸€ä¸ªç”¨äºè¯»å– <code>.env</code> æ–‡ä»¶å¹¶å°†ç¯å¢ƒå˜é‡åŠ è½½åˆ° Python è¿è¡Œæ—¶çš„å·¥å…·ã€‚</li>
<li><code>langchain-openai</code> æä¾›å¯¹ <strong>OpenAI å®˜æ–¹æ¨¡å‹</strong> çš„æ¥å£å°è£…ã€‚</li>
<li><code>langchain-deepseek</code> æä¾›å¯¹ <strong>DeepSeek å¹³å°ï¼ˆOpenAI-compatibleï¼‰çš„æ¥å£</strong> å°è£…ã€‚</li>
</ul>
<h3 data-id="heading-7">é…ç½®ç¯å¢ƒå˜é‡</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">OPENAI_API_KEY</span>=sk-c97afa925b1745f79225c904dff53cba
<span class="hljs-attr">OPENAI_API_BASE</span>=https://api.deepseek.com/v1
</code></pre>
<p>åœ¨å­¦ä¹  <code>LangChain</code> çš„å‰æœŸé˜¶æ®µï¼Œæˆ‘ä»¬æš‚æ—¶ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com" target="_blank" title="https://platform.deepseek.com" ref="nofollow noopener noreferrer">DeepSeek</a> ä½œä¸ºæˆ‘ä»¬çš„å¤§è¯­è¨€æ¨¡å‹ã€‚</p>
<p>å› ä¸º DeepSeek <strong>å…¼å®¹ OpenAI API åè®®ï¼Œ</strong> æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶ <code>API key</code> èµ‹å€¼ç»™ <code>OPENAI_API_KEY</code>ã€‚</p>
<p>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com%2Fapi_keys" target="_blank" title="https://platform.deepseek.com/api_keys" ref="nofollow noopener noreferrer">DeepSeek å¼€æ”¾å¹³å°</a>ï¼Œåˆ›å»º <code>API key</code> ä¿å­˜èµ·æ¥ï¼Œç„¶åèµ‹å€¼ç»™ <code>.env</code> ä¸­çš„ <code>OPENAI_API_KEY</code>ã€‚</p>
<p>ä½¿ç”¨å®˜ç½‘æä¾›çš„å…¼å®¹ OpenAI çš„<code>base_url</code> èµ‹å€¼ç»™ <code>OPENAI_API_BASE</code>ã€‚</p>
<h3 data-id="heading-8">åˆ›å»ºç¤ºä¾‹</h3>
<p>åˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>01-hello-world</code> æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶æ–‡ä»¶å¤¹å†…åˆ›å»º <code>01-chat.py</code> æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-comment"># åˆå§‹åŒ–èŠå¤©æ¨¡å‹</span>
llm = ChatOpenAI(
    model=<span class="hljs-string">"deepseek-chat"</span>,
    temperature=<span class="hljs-number">0</span>,
)

<span class="hljs-comment"># è°ƒç”¨æ¨¡å‹</span>
response = llm.invoke(<span class="hljs-string">"ä½ æ˜¯è°"</span>)

<span class="hljs-built_in">print</span>(response.content)
</code></pre>
<p><strong>ä¸Šè¿°ä»£ç çš„å«ä¹‰æ˜¯ï¼š</strong></p>
<ol>
<li><strong>å¯¼å…¥ä¾èµ–</strong></li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
</code></pre>
<ul>
<li><code>from langchain_openai import ChatOpenAI</code>
<ul>
<li>ä» <strong>LangChain çš„ OpenAI é€‚é…å™¨åŒ…</strong>é‡Œå¯¼å…¥ <strong>ChatOpenAI</strong> ç±»</li>
<li>è¿™ä¸ªç±»å°è£…äº†å¯¹ OpenAI æˆ–å…¼å®¹ APIï¼ˆDeepSeekï¼‰çš„å¯¹è¯æ¨¡å‹è°ƒç”¨</li>
<li>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>LLMï¼ˆLarge Language Modelï¼‰å®¢æˆ·ç«¯</strong></li>
</ul>
</li>
<li><code>from dotenv import load_dotenv</code>
<ul>
<li>ä» <code>python-dotenv </code>å¯¼å…¥ <code>load_dotenv</code></li>
<li>ç”¨æ¥åŠ è½½ <code>.env</code> æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡åˆ° Python çš„ <code>os.environ</code></li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>åŠ è½½ç¯å¢ƒå˜é‡</strong></li>
</ol>
<ul>
<li><code>load_dotenv()</code>
<ul>
<li>è¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>.env</code> æ–‡ä»¶</li>
<li>å°†å…¶ä¸­çš„å†…å®¹ï¼ˆä¾‹å¦‚ <code>OPENAI_API_KEY</code>ã€<code>OPENAI_API_BASE</code>ï¼‰å¯¼å…¥ç¯å¢ƒå˜é‡</li>
<li>è¿™æ · <code>ChatOpenAI</code> å°±å¯ä»¥è‡ªåŠ¨è¯»å– Key å’Œ API Baseï¼Œæ— éœ€åœ¨ä»£ç ä¸­ç¡¬ç¼–ç </li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>åˆå§‹åŒ– LLM</strong></li>
</ol>
<pre><code class="hljs language-python" lang="python">llm = ChatOpenAI(
    model=<span class="hljs-string">"deepseek-chat"</span>,
    temperature=<span class="hljs-number">0</span>,
)
</code></pre>
<ul>
<li>åˆ›å»ºä¸€ä¸ª <strong>ChatOpenAI å¯¹è±¡</strong>ï¼Œç”¨äºå‘é€æ¶ˆæ¯ç»™ LLM</li>
<li><code>model="deepseek-chat" </code>ï¼š
<ul>
<li>å› ä¸º DeepSeek å…¼å®¹ OpenAI APIï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®š DeepSeek æä¾›çš„æ¨¡å‹</li>
</ul>
</li>
<li><code>temperature=0</code>ï¼š
<ul>
<li>æ§åˆ¶ç”Ÿæˆæ–‡æœ¬çš„éšæœºæ€§ï¼Œ 0 â†’ <strong>æœ€ç¡®å®šã€æœ€ç¨³å¦¥ï¼Œ è¶Šå¤§ â†’ è¾“å‡ºè¶Šå¤šæ ·åŒ–</strong></li>
</ul>
</li>
</ul>
<ol start="4">
<li><strong>è°ƒç”¨ LLM</strong></li>
</ol>
<ul>
<li><code>response = llm.invoke("ä½ æ˜¯è°")</code>
<ul>
<li><code>invoke()</code> æ˜¯ ChatOpenAI çš„æ ¸å¿ƒæ–¹æ³•</li>
<li>è¾“å…¥å‚æ•° <code>"ä½ æ˜¯è°"</code> æ˜¯ <strong>prompt</strong>ï¼Œå‘Šè¯‰ LLM ä½ å¸Œæœ›å®ƒåšä»€ä¹ˆ</li>
<li>è¿”å›å€¼ <code>response</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé€šå¸¸åŒ…å«ï¼š<code>response.content</code> â†’ LLM çš„æ–‡æœ¬è¾“å‡º</li>
</ul>
</li>
</ul>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p><strong>æœ€ç»ˆ</strong>ï¼Œåœ¨ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ï¼š<code>python .\01-hello-world\01-chat.py</code> ç­‰å¾…å‡ ç§’å°±ä¼šåœ¨æ§åˆ¶å°æ‰“å°å†…å®¹ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aef3c786bb9b49ecaf3f8c9edb074432~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=UQbmHSOHRpzCyMw16vyF0AI7n90%3D" alt="01-5.png" width="100%" loading="lazy"/>
<p>è¿™è¯´æ˜ï¼Œæˆ‘ä»¬ç¬¬ä¸€ä¸ª LangChain ç¤ºä¾‹è¿è¡ŒæˆåŠŸï¼Œåç»­ï¼Œæˆ‘ä»¬å°†å¼€å§‹ç³»ç»Ÿå­¦ä¹  LangChain æä¾›çš„å¼ºå¤§çš„èƒ½åŠ›ã€‚</p>
<blockquote>
<p>æ­¤æ–‡ç« å·²åŒæ­¥è‡³ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvaesonshu%2Flearn-langchan%2Fissues%2F1" target="_blank" title="https://github.com/vaesonshu/learn-langchan/issues/1" ref="nofollow noopener noreferrer">Github</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¹‚ç­‰å¤„ç†]]></title>    <link>https://juejin.cn/post/7593139476840448006</link>    <guid>https://juejin.cn/post/7593139476840448006</guid>    <pubDate>2026-01-09T09:26:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840448006" data-draft-id="7593139476840185862" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¹‚ç­‰å¤„ç†"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-09T09:26:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹¼çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2418581314208279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¹‚ç­‰å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2418581314208279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹¼çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:26:34.000Z" title="Fri Jan 09 2026 09:26:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="srcery">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1b19;color:#fce8c3}.hljs-emphasis,.hljs-strong{color:#918175}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ff5c8f}.hljs-code,.hljs-selector-class{color:#68a8e4}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#ef2f27}.hljs-name,.hljs-title{color:#fbb829}.hljs-params,.hljs-type{color:#0aaeb3}.hljs-string{color:#98bc37}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable{color:#c07abe}.hljs-comment,.hljs-deletion,.hljs-meta{color:#918175}</style><h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆé«˜å¹¶å‘ç³»ç»Ÿä¸€å®šä¼šâ€œè¢«å¹‚ç­‰æ•™è‚²â€ï¼Ÿ</h2>
<p>å…ˆè¯´ä¸€å¥å¯èƒ½ä¸å¤ªå¥½å¬çš„å¤§å®è¯ï¼š</p>
<blockquote>
<p><strong>ç»å¤§å¤šæ•°é«˜å¹¶å‘äº‹æ•…ï¼Œä¸æ˜¯ä»£ç å†™é”™ï¼Œè€Œæ˜¯è¯·æ±‚è¢«æ‰§è¡Œäº†ä¸æ­¢ä¸€æ¬¡ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šæ–°æ‰‹å·¥ç¨‹å¸ˆåœ¨æœ¬åœ°æµ‹è¯•æ—¶ï¼Œæ¥å£é€»è¾‘è·‘å¾—é¡ºé£é¡ºæ°´ï¼Œä½†ä¸€ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œå°±å®¹æ˜“æ ½åœ¨â€œé‡å¤è¯·æ±‚â€è¿™ä¸ªå‘é‡Œã€‚ä¸æ˜¯ä»£ç é€»è¾‘æœ‰é—®é¢˜ï¼Œè€Œæ˜¯çœŸå®çš„çº¿ä¸Šç¯å¢ƒï¼Œæ ¹æœ¬ä¸å­˜åœ¨â€œè¯·æ±‚åªæ¥ä¸€æ¬¡â€çš„ç†æƒ³çŠ¶æ€ã€‚</p>
<p>ä½ ä¸€å®šä¼šé‡åˆ°è¿™äº›æ— æ³•é¿å…çš„åœºæ™¯ï¼š</p>
<ul>
<li>
<p><strong>ç½‘ç»œæŠ–åŠ¨</strong>ï¼šå®¢æˆ·ç«¯å‘å®Œè¯·æ±‚åï¼Œå› ç½‘ç»œå»¶è¿Ÿæ²¡åŠæ—¶æ”¶åˆ°å“åº”ï¼Œè¯¯ä»¥ä¸ºè¯·æ±‚å¤±è´¥</p>
</li>
<li>
<p><strong>å®¢æˆ·ç«¯é‡è¯•</strong>ï¼šå‰ç«¯æŒ‰é’®é‡å¤ç‚¹å‡»ã€APP ç¦»çº¿é‡è¿åé‡è¯•ã€ç¬¬ä¸‰æ–¹è°ƒç”¨æ–¹é…ç½®äº†è‡ªåŠ¨é‡è¯•</p>
</li>
<li>
<p><strong>ç½‘å…³é‡å‘</strong>ï¼šAPI ç½‘å…³å› è¶…æ—¶ç­‰åŸå› ï¼Œä¸»åŠ¨é‡å‘è¯·æ±‚åˆ°åç«¯æœåŠ¡</p>
</li>
<li>
<p><strong>MQ è‡³å°‘ä¸€æ¬¡æŠ•é€’</strong>ï¼šä¸ºä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŒKafkaã€RocketMQ ç­‰æ¶ˆæ¯ä¸­é—´ä»¶é»˜è®¤éƒ½æ˜¯â€œè‡³å°‘ä¸€æ¬¡â€æŠ•é€’ç­–ç•¥ï¼Œæ¶ˆæ¯å¿…ç„¶å¯èƒ½é‡å¤</p>
</li>
</ul>
<p>ç”¨ä¸€æ®µçœŸå®çš„äº¤äº’åœºæ™¯ï¼Œå°±èƒ½æ˜ç™½è¿™ç§æ— å¥ˆï¼š</p>
<pre><code class="hljs language-text" lang="text">å®¢æˆ·ç«¯ï¼šæˆ‘åˆšåˆšæ˜¯ä¸æ˜¯æ²¡æˆåŠŸï¼Ÿï¼ˆå› ç½‘ç»œå»¶è¿Ÿæ²¡æ”¶åˆ°å“åº”ï¼‰
ç³»ç»Ÿï¼šæˆåŠŸäº†ã€‚ï¼ˆå…¶å®å·²ç»å¤„ç†å®Œå¹¶è¿”å›ï¼Œä½†å“åº”ä¸¢äº†ï¼‰
å®¢æˆ·ç«¯ï¼šé‚£æˆ‘å†æ¥ä¸€æ¬¡ã€‚ï¼ˆè§¦å‘é‡è¯•æœºåˆ¶ï¼‰
ç³»ç»Ÿï¼šï¼Ÿï¼Ÿï¼Ÿï¼ˆæˆ‘åˆ°åº•è¯¥å†å¤„ç†ä¸€æ¬¡è¿˜æ˜¯ç›´æ¥è¿”å›ï¼Ÿï¼‰
</code></pre>
<p>ç»“è®ºå…ˆè¡Œï¼Œè®°æ­»è¿™å¥è¯ï¼š</p>
<blockquote>
<p><strong>åœ¨é«˜å¹¶å‘ + åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¯·æ±‚â€œåªæ¥ä¸€æ¬¡â€æ˜¯å¥¢æœ›ï¼Œâ€œé‡å¤è¯·æ±‚â€æ‰æ˜¯å¸¸æ€ã€‚</strong></p>
</blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‰€æœ‰æˆç†Ÿçš„é«˜å¹¶å‘ç³»ç»Ÿï¼Œéƒ½å¿…é¡»è¿‡â€œå¹‚ç­‰â€è¿™ä¸€å…³â€”â€”ä¸æ˜¯ä½ æƒ³åšï¼Œè€Œæ˜¯ç¯å¢ƒé€¼ç€ä½ å¿…é¡»åšã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä»€ä¹ˆæ˜¯å¹‚ç­‰ï¼Ÿï¼ˆå·¥ç¨‹å¸ˆç‰ˆæœ¬ï¼Œæ‹’ç»åºŸè¯ï¼‰</h2>
<p>åˆ«å»èƒŒæ•™ç§‘ä¹¦ä¸Šçš„æŠ½è±¡å®šä¹‰ï¼Œè®°ä½è¿™ä¸€å¥äººè¯å°±å¤Ÿäº†ï¼š</p>
<blockquote>
<p><strong>åŒä¸€ä¸ªè¯·æ±‚ï¼Œä¸ç®¡æ¥å¤šå°‘æ¬¡ï¼Œç³»ç»Ÿæœ€ç»ˆçš„çŠ¶æ€å’Œç»“æœéƒ½å®Œå…¨ä¸€æ ·ã€‚</strong></p>
</blockquote>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šæŸ¥è¯¢æ¥å£ï¼ˆGET /api/order?orderNo=123ï¼‰å¤©ç”Ÿå°±æ˜¯å¹‚ç­‰çš„ï¼Œä¸ç®¡ä½ è°ƒç”¨1æ¬¡è¿˜æ˜¯100æ¬¡ï¼Œè¿”å›çš„éƒ½æ˜¯åŒä¸€ä¸ªè®¢å•ä¿¡æ¯ï¼›ä½†ä¸‹å•æ¥å£ï¼ˆPOST /api/order/createï¼‰å¦‚æœä¸åšå¤„ç†ï¼Œè°ƒç”¨2æ¬¡å°±ä¼šç”Ÿæˆ2ä¸ªè®¢å•ï¼Œè¿™å°±æ˜¯éå¹‚ç­‰çš„ã€‚</p>
<h3 data-id="heading-2">ä¸åšå¹‚ç­‰ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆçœŸå®äº‹æ•…æ¡ˆä¾‹ï¼‰</h3>
<p>å¾ˆå¤šäººè§‰å¾—â€œå¹‚ç­‰æ˜¯é«˜çº§ä¼˜åŒ–â€ï¼Œç›´åˆ°è¸©äº†å‘æ‰æ˜ç™½è¿™æ˜¯â€œåŸºç¡€å¿…å¤‡â€ã€‚éå¹‚ç­‰æ¥å£åœ¨é«˜å¹¶å‘ä¸‹ï¼Œå¿…ç„¶ä¼šå‡ºç°è¿™äº›è‡´å‘½é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>é‡å¤ä¸‹å•</strong>ï¼šç”¨æˆ·ç‚¹å‡»â€œæäº¤è®¢å•â€åå› ç½‘ç»œå¡é¡¿æ—¶é‡å¤ç‚¹å‡»ï¼Œç”Ÿæˆå¤šç¬”è®¢å•ï¼Œå¯¼è‡´åº“å­˜è¢«å¤šæ‰£ã€ç”¨æˆ·æ”¶åˆ°å¤šä¸ªå‘è´§é€šçŸ¥</p>
</li>
<li>
<p><strong>é‡å¤æ‰£æ¬¾</strong>ï¼šæ”¯ä»˜æ¥å£é‡è¯•å¯¼è‡´ç”¨æˆ·è´¦æˆ·è¢«å¤šæ¬¡æ‰£æ¬¾ï¼Œç›´æ¥å¼•å‘ç”¨æˆ·æŠ•è¯‰ï¼Œç”šè‡³ç›‘ç®¡ä»‹å…¥</p>
</li>
<li>
<p><strong>MQ é‡å¤æ¶ˆè´¹</strong>ï¼šæ¶ˆæ¯é‡å¤æŠ•é€’åè¢«é‡å¤å¤„ç†ï¼Œå¯¼è‡´åº“å­˜æ‰£ä¸ºè´Ÿæ•°ã€ä¼˜æƒ åˆ¸è¢«é‡å¤æ ¸é”€</p>
</li>
<li>
<p><strong>é‡å¤é€€æ¬¾</strong>ï¼šé€€æ¬¾æ¥å£è¢«é‡è¯•ï¼Œç”¨æˆ·æ”¶åˆ°å¤šç¬”é€€æ¬¾ï¼Œä¼ä¸šç›´æ¥äº§ç”Ÿèµ„é‡‘æŸå¤±</p>
</li>
</ul>
<p>è¿™é‡Œæœ‰ä¸ªåˆ¤æ–­æ ‡å‡†ï¼Œè®°ä¸‹æ¥ç›´æ¥ç”¨ï¼š</p>
<blockquote>
<p><strong>åªè¦â€œåŒä¸€ä¸ªè¯·æ±‚å¤šæ‰§è¡Œä¸€æ¬¡ä¼šå‡ºäº‹â€ï¼Œè¿™ä¸ªæ¥å£å°±å¿…é¡»åšå¹‚ç­‰å¤„ç†ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å“ªäº›åœºæ™¯æ˜¯å¹‚ç­‰â€œé‡ç¾åŒºâ€ï¼Ÿï¼ˆä¼˜å…ˆå¤„ç†è¿™äº›ï¼‰</h2>
<p>ä¸æ˜¯æ‰€æœ‰æ¥å£éƒ½éœ€è¦åšå¹‚ç­‰ï¼Œæˆ‘ä»¬è¦æŠŠç²¾åŠ›æ”¾åœ¨é«˜é£é™©åœºæ™¯ä¸Šã€‚ç›´æ¥åˆ—é‡ç‚¹ï¼Œè¿™äº›åœºæ™¯å¿…é¡»ä¼˜å…ˆä¿è¯å¹‚ç­‰ï¼š</p>
<ul>
<li>
<p><strong>äº¤æ˜“ç›¸å…³æ¥å£</strong>ï¼šä¸‹å•ã€æ”¯ä»˜ã€é€€æ¬¾ã€è½¬è´¦â€”â€”æ ¸å¿ƒæ˜¯æ¶‰åŠèµ„é‡‘å˜åŠ¨ï¼Œä¸€æ—¦é‡å¤å¿…ç„¶å‡ºé—®é¢˜</p>
</li>
<li>
<p><strong>åˆ›å»ºå‹æ¥å£ï¼ˆPOSTï¼‰</strong>ï¼šPOST æ¥å£çš„è¯­ä¹‰æ˜¯â€œåˆ›å»ºèµ„æºâ€ï¼Œé‡å¤è°ƒç”¨ä¼šç”Ÿæˆå¤šä¸ªèµ„æºï¼Œè€Œ GET æ¥å£æ˜¯â€œæŸ¥è¯¢èµ„æºâ€ï¼Œå¤©ç”Ÿå¹‚ç­‰ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼šRESTful è§„èŒƒä¸­ï¼ŒPOST æ˜¯éå¹‚ç­‰çš„ï¼ŒPUT æ˜¯å¹‚ç­‰çš„ï¼Œè®¾è®¡æ¥å£æ—¶è¦éµå¾ªè¿™ä¸ªè¯­ä¹‰ï¼‰</p>
</li>
<li>
<p><strong>MQ æ¶ˆè´¹é€»è¾‘</strong>ï¼šå¦‚å‰æ‰€è¿°ï¼ŒMQ é»˜è®¤â€œè‡³å°‘ä¸€æ¬¡â€æŠ•é€’ï¼Œæ¶ˆè´¹ç«¯å¿…é¡»èƒ½å¤„ç†é‡å¤æ¶ˆæ¯</p>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯</strong>ï¼šSaga æ¨¡å¼çš„è¡¥å¿æ¥å£ã€TCC æ¨¡å¼çš„ Confirm/Cancel æ¥å£ï¼Œéƒ½å¯èƒ½å› é‡è¯•è§¦å‘é‡å¤æ‰§è¡Œ</p>
</li>
<li>
<p><strong>å¯¹å¤–æä¾›çš„æ¥å£</strong>ï¼šç»™åˆä½œæ–¹ã€ç¬¬ä¸‰æ–¹è°ƒç”¨çš„æ¥å£ï¼Œæ— æ³•æ§åˆ¶å¯¹æ–¹çš„é‡è¯•ç­–ç•¥ï¼Œå¿…é¡»è‡ªå·±å…œåº•å¹‚ç­‰</p>
</li>
<li>
<p><strong>ç”¨æˆ·é«˜é¢‘æ“ä½œæ¥å£</strong>ï¼šå¦‚ä¼˜æƒ åˆ¸é¢†å–ã€æ´»åŠ¨æŠ¥åã€ç§’æ€ä¸‹å•â€”â€”ç”¨æˆ·å¯èƒ½å› æ“ä½œå¤±è¯¯æˆ–ç½‘ç»œé—®é¢˜é‡å¤è§¦å‘</p>
</li>
</ul>
<p>ç”¨ä¸€å¥æ‰å¿ƒçš„è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>ä½ ä¸ä¸»åŠ¨åšå¹‚ç­‰ï¼Œæµé‡ä¼šå¸®ä½ åšäº‹æ•…ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šå›¢é˜Ÿçš„çº¿ä¸Šæ•…éšœå¤ç›˜ï¼Œæœ€åç»“è®ºéƒ½æ˜¯â€œæŸä¸ªæ¥å£æœªåšå¹‚ç­‰ï¼Œå¯¼è‡´é«˜å¹¶å‘ä¸‹é‡å¤æ‰§è¡Œâ€ã€‚ä¸å…¶äº‹åæ•‘ç«ï¼Œä¸å¦‚äº‹å‰é¢„é˜²ã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€å¹‚ç­‰çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆçœ‹é€é—®é¢˜æ ¸å¿ƒï¼‰</h2>
<p>å¾ˆå¤šäººåœ¨è®¾è®¡å¹‚ç­‰æ–¹æ¡ˆæ—¶ä¼šé™·å…¥â€œå„ç§æŠ€å·§çš„å †ç Œâ€ï¼Œå…¶å®åªè¦æŠ“ä½æœ¬è´¨ï¼Œæ‰€æœ‰æ–¹æ¡ˆéƒ½èƒ½çœ‹æ‡‚ã€‚</p>
<p>æ‰€æœ‰å¹‚ç­‰æ–¹æ¡ˆï¼Œæœ¬è´¨ä¸Šéƒ½åœ¨è§£å†³åŒä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<blockquote>
<p><strong>â€œæˆ‘æ€ä¹ˆåˆ¤æ–­è¿™ä¸ªè¯·æ±‚æ˜¯ä¸æ˜¯å·²ç»å¤„ç†è¿‡äº†ï¼Ÿâ€</strong></p>
</blockquote>
<p>åªè¦èƒ½å‡†ç¡®å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¹‚ç­‰å°±è§£å†³äº†ä¸€åŠã€‚ä»å·¥ç¨‹å®è·µçš„è§’åº¦çœ‹ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜æ— éä¸‰ç§æ ¸å¿ƒæ€è·¯ï¼š</p>
<ul>
<li>
<p><strong>ç»™è¯·æ±‚åŠ â€œå”¯ä¸€æ ‡è¯†â€</strong>ï¼šé€šè¿‡ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ ID æ ‡è®°è¯·æ±‚ï¼Œç³»ç»Ÿå¤„ç†å‰å…ˆæ£€æŸ¥è¿™ä¸ª ID æ˜¯å¦å·²ç»å¤„ç†è¿‡â€”â€”è¿™æ˜¯æœ€å¸¸ç”¨çš„æ€è·¯</p>
</li>
<li>
<p><strong>è®©çŠ¶æ€â€œä¸å¯é€†â€</strong>ï¼šé€šè¿‡çŠ¶æ€æœºçº¦æŸï¼Œè®©ä¸šåŠ¡çŠ¶æ€åªèƒ½ä»â€œæœªå¤„ç†â€å‘â€œå·²å¤„ç†â€æµè½¬ï¼Œæ— æ³•å›é€€ï¼Œä»è€Œé¿å…é‡å¤å¤„ç†â€”â€”æ¯”å¦‚è®¢å•çŠ¶æ€ä»â€œå¾…æ”¯ä»˜â€åˆ°â€œå·²æ”¯ä»˜â€ï¼Œå†æ”¶åˆ°æ”¯ä»˜è¯·æ±‚æ—¶å°±æ— æ³•å†æ¬¡å˜æ›´</p>
</li>
<li>
<p><strong>è®°å½•â€œå»é‡æ—¥å¿—â€</strong>ï¼šä¸“é—¨ç»´æŠ¤ä¸€ä¸ªå»é‡è¡¨æˆ–ç¼“å­˜ï¼Œè®°å½•å·²ç»å¤„ç†è¿‡çš„è¯·æ±‚ï¼Œå¤„ç†æ–°è¯·æ±‚æ—¶å…ˆæŸ¥å»é‡è®°å½•â€”â€”æœ¬è´¨æ˜¯â€œå”¯ä¸€æ ‡è¯†â€æ€è·¯çš„å»¶ä¼¸</p>
</li>
</ul>
<p>ç†è§£äº†è¿™ä¸‰ç§æ€è·¯ï¼Œä¸‹é¢çš„å®æˆ˜æ–¹æ¡ˆå°±å¾ˆå®¹æ˜“çœ‹æ‡‚äº†â€”â€”æ‰€æœ‰æ–¹æ¡ˆéƒ½æ˜¯è¿™ä¸‰ç§æ€è·¯çš„å…·ä½“è½åœ°ã€‚</p>
<hr/>
<h2 data-id="heading-5">äº”ã€4 ç§ä¸»æµå¹‚ç­‰æ–¹æ¡ˆï¼ˆJava å®æˆ˜ï¼Œé™„ä»£ç +æ³¨æ„äº‹é¡¹ï¼‰</h2>
<p>ä¸‹é¢ä»‹ç»çš„ 4 ç§æ–¹æ¡ˆï¼Œè¦†ç›–äº† 90% ä»¥ä¸Šçš„ä¸šåŠ¡åœºæ™¯ã€‚ä»â€œç¨³å®šæ€§â€â€œå®ç°æˆæœ¬â€â€œé€‚ç”¨åœºæ™¯â€ä¸‰ä¸ªç»´åº¦å¯¹æ¯”ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€‰æ‹©ã€‚</p>
<h3 data-id="heading-6">1ï¸âƒ£ å”¯ä¸€ä¸šåŠ¡ ID + å”¯ä¸€ç´¢å¼•ï¼ˆæœ€ç¨³ã€æœ€æ¨èï¼‰â­</h3>
<p>è¿™æ˜¯å·¥ä¸šç•Œæœ€å¸¸ç”¨ã€æœ€å¯é çš„æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ˜¯â€œç”¨ä¸šåŠ¡å”¯ä¸€ ID æ ‡è®°è¯·æ±‚ï¼Œç”¨æ•°æ®åº“å”¯ä¸€ç´¢å¼•å…œåº•â€ï¼Œä»æ ¹æºä¸Šé˜²æ­¢é‡å¤æ•°æ®æ’å…¥ã€‚</p>
<h4 data-id="heading-7">æ ¸å¿ƒæ€è·¯</h4>
<ol>
<li>
<p>å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æ—¶ï¼Œæºå¸¦ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ä¸šåŠ¡ IDï¼ˆæ¯”å¦‚è®¢å•å· orderNoã€ä¸šåŠ¡æµæ°´å· bizIdï¼‰â€”â€”è¿™ä¸ª ID å¯ä»¥ç”±å®¢æˆ·ç«¯ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥ç”±æœåŠ¡ç«¯ç”Ÿæˆåè¿”å›ç»™å®¢æˆ·ç«¯</p>
</li>
<li>
<p>æœåŠ¡ç«¯å¤„ç†è¯·æ±‚æ—¶ï¼Œå°†è¿™ä¸ªå”¯ä¸€ä¸šåŠ¡ ID å­˜å…¥ä¸šåŠ¡è¡¨ï¼ˆæ¯”å¦‚è®¢å•è¡¨ï¼‰</p>
</li>
<li>
<p>åœ¨ä¸šåŠ¡è¡¨ä¸Šç»™è¿™ä¸ªå”¯ä¸€ä¸šåŠ¡ ID åŠ â€œå”¯ä¸€ç´¢å¼•â€ï¼Œåˆ©ç”¨æ•°æ®åº“çš„çº¦æŸæœºåˆ¶ï¼Œé˜²æ­¢é‡å¤æ’å…¥æ•°æ®</p>
</li>
<li>
<p>å½“é‡å¤è¯·æ±‚åˆ°æ¥æ—¶ï¼Œæ•°æ®åº“ä¼šæŠ›å‡ºå”¯ä¸€çº¦æŸå†²çªå¼‚å¸¸ï¼ŒæœåŠ¡ç«¯æ•è·å¼‚å¸¸åï¼Œç›´æ¥è¿”å›â€œå¤„ç†æˆåŠŸâ€ï¼ˆå› ä¸ºç¬¬ä¸€æ¬¡è¯·æ±‚å·²ç»å¤„ç†å®Œæˆï¼‰</p>
</li>
</ol>
<h4 data-id="heading-8">å®æˆ˜ä»£ç ï¼ˆJava + MySQLï¼‰</h4>
<p>ç¬¬ä¸€æ­¥ï¼šç»™ä¸šåŠ¡è¡¨åŠ å”¯ä¸€ç´¢å¼•ï¼ˆä»¥è®¢å•è¡¨ä¸ºä¾‹ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- è®¢å•è¡¨ï¼šorder_no æ˜¯å…¨å±€å”¯ä¸€çš„ä¸šåŠ¡ ID</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders 
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> order_no <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•å·ï¼ˆå…¨å±€å”¯ä¸€ï¼‰'</span>,
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">UNIQUE</span> KEY uk_order_no(order_no); <span class="hljs-comment">-- å”¯ä¸€ç´¢å¼•å…œåº•</span>
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šJava ä»£ç å¤„ç†é€»è¾‘ï¼ˆç»“åˆ MyBatisï¼‰</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * ä¸‹å•æ¥å£ï¼ˆå¹‚ç­‰ç‰ˆï¼‰
 * <span class="hljs-doctag">@param</span> createOrderDTO ä¸‹å•è¯·æ±‚DTOï¼ŒåŒ…å«å”¯ä¸€è®¢å•å· orderNo
 */</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> OrderVO <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderDTO createOrderDTO)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> createOrderDTO.getOrderNo();
    <span class="hljs-keyword">if</span> (StringUtils.isBlank(orderNo)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"è®¢å•å·ä¸èƒ½ä¸ºç©º"</span>);
    }

    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
    order.setOrderNo(orderNo);
    order.setUserId(createOrderDTO.getUserId());
    order.setProductId(createOrderDTO.getProductId());
    order.setStatus(<span class="hljs-string">"CREATED"</span>); <span class="hljs-comment">// åˆå§‹çŠ¶æ€ï¼šå¾…æ”¯ä»˜</span>

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å°è¯•æ’å…¥è®¢å•</span>
        orderMapper.insert(order);
        <span class="hljs-comment">// åç»­ä¸šåŠ¡é€»è¾‘ï¼šæ‰£å‡åº“å­˜ã€é”å®šä¼˜æƒ åˆ¸ç­‰</span>
        deductStock(createOrderDTO.getProductId(), createOrderDTO.getQuantity());
        lockCoupon(createOrderDTO.getUserId(), createOrderDTO.getCouponId());
        <span class="hljs-comment">// è¿”å›æˆåŠŸç»“æœ</span>
        <span class="hljs-type">OrderVO</span> <span class="hljs-variable">orderVO</span> <span class="hljs-operator">=</span> convertToVO(order);
        <span class="hljs-keyword">return</span> orderVO;
    } <span class="hljs-keyword">catch</span> (DuplicateKeyException e) {
        <span class="hljs-comment">// æ•è·å”¯ä¸€ç´¢å¼•å†²çªå¼‚å¸¸ï¼Œè¯´æ˜æ˜¯é‡å¤è¯·æ±‚</span>
        log.info(<span class="hljs-string">"é‡å¤ä¸‹å•ï¼Œè®¢å•å·ï¼š{}"</span>, orderNo, e);
        <span class="hljs-comment">// ç›´æ¥æŸ¥è¯¢å·²å­˜åœ¨çš„è®¢å•ï¼Œè¿”å›æˆåŠŸç»“æœ</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">existOrder</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(orderNo);
        <span class="hljs-keyword">return</span> convertToVO(existOrder);
    }
}
</code></pre>
<h4 data-id="heading-9">ä¼˜ç‚¹ &amp; æ³¨æ„äº‹é¡¹</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å®ç°ç®€å•ï¼Œå¼€å‘æˆæœ¬ä½</p>
</li>
<li>
<p>ç¨³å®šæ€§é«˜ï¼Œæ•°æ®åº“å”¯ä¸€ç´¢å¼•æ˜¯â€œç‰©ç†å…œåº•â€ï¼Œä¸ä¼šå‡ºç°æ¼åˆ¤çš„æƒ…å†µ</p>
</li>
<li>
<p>å¼ºä¸€è‡´æ€§ï¼Œèƒ½ä¿è¯ä¸šåŠ¡æ•°æ®çš„å‡†ç¡®æ€§</p>
</li>
</ul>
<p>âš ï¸ æ³¨æ„äº‹é¡¹ï¼ˆå…³é”®ï¼ï¼‰ï¼š</p>
<blockquote>
<p><strong>å”¯ä¸€ç´¢å¼•æ˜¯æœ€åä¸€é“é˜²çº¿ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€é“ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šäººä¼šçŠ¯ä¸€ä¸ªé”™è¯¯ï¼šæ¯æ¬¡è¯·æ±‚éƒ½ç›´æ¥å¾€æ•°æ®åº“æ’æ•°æ®ï¼Œé å”¯ä¸€ç´¢å¼•æŒ¡é‡å¤è¯·æ±‚ã€‚è¿™æ ·ä¼šå¯¼è‡´æ•°æ®åº“é¢‘ç¹æŠ›å‡ºå¼‚å¸¸ï¼Œå¢åŠ æ•°æ®åº“å‹åŠ›ã€‚</p>
<p>ä¼˜åŒ–å»ºè®®ï¼šåœ¨æ’å…¥æ•°æ®åº“ä¹‹å‰ï¼Œå…ˆæŸ¥ç¼“å­˜ï¼ˆæ¯”å¦‚ Redisï¼‰åˆ¤æ–­è®¢å•å·æ˜¯å¦å·²å­˜åœ¨â€”â€”ç¼“å­˜å‘½ä¸­åˆ™ç›´æ¥è¿”å›ï¼Œæœªå‘½ä¸­å†æ‰§è¡Œæ’å…¥é€»è¾‘ã€‚è¿™æ ·èƒ½å‡å°‘æ•°æ®åº“çš„å¼‚å¸¸æŠ›å‡ºæ¬¡æ•°ï¼Œæå‡æ€§èƒ½ã€‚ä¼˜åŒ–åçš„ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// ä¼˜åŒ–ï¼šå…ˆæŸ¥ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›</span>
<span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order:idempotent:"</span> + orderNo;
<span class="hljs-type">Boolean</span> <span class="hljs-variable">isExist</span> <span class="hljs-operator">=</span> redisTemplate.hasKey(redisKey);
<span class="hljs-keyword">if</span> (Boolean.TRUE.equals(isExist)) {
    <span class="hljs-type">Order</span> <span class="hljs-variable">existOrder</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(orderNo);
    <span class="hljs-keyword">return</span> convertToVO(existOrder);
}

<span class="hljs-keyword">try</span> {
    orderMapper.insert(order);
    <span class="hljs-comment">// æ’å…¥æˆåŠŸåï¼Œå¾€ç¼“å­˜æ”¾ä¸€ä»½ï¼Œè¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºä¸šåŠ¡åˆç†æ—¶é—´ï¼ˆæ¯”å¦‚30åˆ†é’Ÿï¼‰</span>
    redisTemplate.opsForValue().set(redisKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">30</span>, TimeUnit.MINUTES);
    <span class="hljs-comment">// åç»­ä¸šåŠ¡é€»è¾‘...</span>
} <span class="hljs-keyword">catch</span> (DuplicateKeyException e) {
    <span class="hljs-comment">// é‡å¤è¯·æ±‚å¤„ç†...</span>
}
</code></pre>
<h3 data-id="heading-10">2ï¸âƒ£ çŠ¶æ€æœº + ä¹è§‚é”ï¼ˆè®¢å•ç³»ç»Ÿæ ‡é…ï¼‰</h3>
<p>è¿™ä¸ªæ–¹æ¡ˆä¸»è¦é€‚ç”¨äºâ€œæœ‰æ˜ç¡®çŠ¶æ€æµè½¬â€çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¯”å¦‚è®¢å•ã€æ”¯ä»˜ã€é€€æ¬¾ã€‚æ ¸å¿ƒæ˜¯â€œé€šè¿‡çŠ¶æ€æœºçº¦æŸä¸šåŠ¡çŠ¶æ€çš„æµè½¬ï¼Œå¹¶ç”¨ä¹è§‚é”ä¿è¯å¹¶å‘å®‰å…¨â€ï¼Œé¿å…é‡å¤å¤„ç†ã€‚</p>
<h4 data-id="heading-11">æ ¸å¿ƒæ€è·¯</h4>
<ol>
<li>
<p>ç»™ä¸šåŠ¡å®ä½“å®šä¹‰æ¸…æ™°çš„çŠ¶æ€æœºï¼Œæ¯”å¦‚è®¢å•çŠ¶æ€ï¼šå¾…æ”¯ä»˜ï¼ˆCREATEDï¼‰â†’ å·²æ”¯ä»˜ï¼ˆPAIDï¼‰â†’ å·²å‘è´§ï¼ˆSHIPPEDï¼‰â†’ å·²å®Œæˆï¼ˆCOMPLETEDï¼‰</p>
</li>
<li>
<p>çŠ¶æ€åªèƒ½â€œå‘å‰æµè½¬â€ï¼Œä¸èƒ½â€œå‘åæµè½¬â€ï¼ˆæ¯”å¦‚å·²æ”¯ä»˜çš„è®¢å•ï¼Œä¸èƒ½å†å›åˆ°å¾…æ”¯ä»˜çŠ¶æ€ï¼‰</p>
</li>
<li>
<p>æ›´æ–°çŠ¶æ€æ—¶ï¼Œé€šè¿‡â€œä¹è§‚é”â€ï¼ˆæ¯”å¦‚ç‰ˆæœ¬å· version æˆ–çŠ¶æ€å­—æ®µæœ¬èº«ï¼‰åšæ¡ä»¶åˆ¤æ–­ï¼Œåªæœ‰æ¡ä»¶æ»¡è¶³æ—¶æ‰æ›´æ–°æˆåŠŸ</p>
</li>
</ol>
<p>ä¸€å¥è¯ç†è§£ï¼šé‡å¤è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå› ä¸ºçŠ¶æ€å·²ç»æµè½¬åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œæ›´æ–°æ¡ä»¶ä¸æ»¡è¶³ï¼Œæ‰€ä»¥ä¸ä¼šé‡å¤å¤„ç†ã€‚</p>
<h4 data-id="heading-12">å®æˆ˜ä»£ç ï¼ˆJava + MySQLï¼‰</h4>
<p>ç¬¬ä¸€æ­¥ï¼šè®¢å•è¡¨å¢åŠ çŠ¶æ€å­—æ®µå’Œç‰ˆæœ¬å·å­—æ®µï¼ˆä¹è§‚é”ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders 
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> status <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•çŠ¶æ€ï¼šCREATED-å¾…æ”¯ä»˜ï¼ŒPAID-å·²æ”¯ä»˜ï¼ŒSHIPPED-å·²å‘è´§ï¼ŒCOMPLETED-å·²å®Œæˆ'</span>,
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> version <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'ç‰ˆæœ¬å·ï¼ˆä¹è§‚é”ï¼‰'</span>;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæ›´æ–°çŠ¶æ€çš„ SQLï¼ˆä»¥â€œè®¢å•æ”¯ä»˜â€ä¸ºä¾‹ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- æ–¹å¼1ï¼šç”¨çŠ¶æ€ä½œä¸ºæ¡ä»¶ï¼ˆç®€å•åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> orders 
<span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'PAID'</span>, pay_time <span class="hljs-operator">=</span> NOW()
<span class="hljs-keyword">WHERE</span> order_no <span class="hljs-operator">=</span> ? <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'CREATED'</span>; <span class="hljs-comment">-- åªæœ‰çŠ¶æ€æ˜¯â€œå¾…æ”¯ä»˜â€æ—¶æ‰èƒ½æ›´æ–°</span>

<span class="hljs-comment">-- æ–¹å¼2ï¼šç”¨ç‰ˆæœ¬å·ä½œä¸ºæ¡ä»¶ï¼ˆå¹¶å‘æ›´é«˜çš„åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> orders 
<span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'PAID'</span>, pay_time <span class="hljs-operator">=</span> NOW(), version <span class="hljs-operator">=</span> version <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">WHERE</span> order_no <span class="hljs-operator">=</span> ? <span class="hljs-keyword">AND</span> version <span class="hljs-operator">=</span> ?;
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šJava ä»£ç å¤„ç†é€»è¾‘</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * è®¢å•æ”¯ä»˜æ¥å£ï¼ˆå¹‚ç­‰ç‰ˆï¼‰
 * <span class="hljs-doctag">@param</span> payDTO æ”¯ä»˜è¯·æ±‚DTOï¼ŒåŒ…å«è®¢å•å·ã€æ”¯ä»˜é‡‘é¢ç­‰
 */</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> Boolean <span class="hljs-title function_">payOrder</span><span class="hljs-params">(PayDTO payDTO)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> payDTO.getOrderNo();
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(orderNo);
    <span class="hljs-keyword">if</span> (order == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"è®¢å•ä¸å­˜åœ¨"</span>);
    }

    <span class="hljs-comment">// æ–¹å¼1ï¼šç”¨çŠ¶æ€ä½œä¸ºæ¡ä»¶æ›´æ–°</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">updateCount</span> <span class="hljs-operator">=</span> orderMapper.updateOrderStatusToPaid(orderNo, <span class="hljs-string">"CREATED"</span>);
    <span class="hljs-keyword">if</span> (updateCount == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// æ›´æ–°å¤±è´¥ï¼Œè¯´æ˜è®¢å•å·²æ”¯ä»˜æˆ–çŠ¶æ€å¼‚å¸¸ï¼ˆé‡å¤è¯·æ±‚ï¼‰</span>
        log.info(<span class="hljs-string">"è®¢å•å·²æ”¯ä»˜æˆ–çŠ¶æ€å¼‚å¸¸ï¼Œè®¢å•å·ï¼š{}"</span>, orderNo);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// é‡å¤è¯·æ±‚ï¼Œè¿”å›æˆåŠŸ</span>
    }

    <span class="hljs-comment">// æ–¹å¼2ï¼šç”¨ç‰ˆæœ¬å·ä½œä¸ºæ¡ä»¶æ›´æ–°ï¼ˆæ¨èé«˜å¹¶å‘åœºæ™¯ï¼‰</span>
    <span class="hljs-comment">// int updateCount = orderMapper.updateOrderStatusToPaidWithVersion(orderNo, order.getVersion());</span>
    <span class="hljs-comment">// if (updateCount == 0) {</span>
    <span class="hljs-comment">//     log.info("è®¢å•å·²æ”¯ä»˜æˆ–çŠ¶æ€å¼‚å¸¸ï¼Œè®¢å•å·ï¼š{}", orderNo);</span>
    <span class="hljs-comment">//     return true;</span>
    <span class="hljs-comment">// }</span>

    <span class="hljs-comment">// åç»­ä¸šåŠ¡é€»è¾‘ï¼šæ‰£å‡ç”¨æˆ·ä½™é¢ã€è®°å½•æ”¯ä»˜æ—¥å¿—ç­‰</span>
    deductUserBalance(payDTO.getUserId(), payDTO.getAmount());
    recordPayLog(payDTO);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-13">ä¼˜ç‚¹ &amp; é€‚ç”¨åœºæ™¯</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>è´´åˆä¸šåŠ¡åœºæ™¯ï¼ŒçŠ¶æ€æœºæœ¬èº«å°±æ˜¯ä¸šåŠ¡é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥è¿‡å¤šæ¦‚å¿µ</p>
</li>
<li>
<p>å¹¶å‘æ€§èƒ½å¥½ï¼Œä¹è§‚é”ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</p>
</li>
<li>
<p>èƒ½é˜²æ­¢â€œçŠ¶æ€ä¹±åºâ€é—®é¢˜ï¼ˆæ¯”å¦‚åŒæ—¶æ”¶åˆ°â€œæ”¯ä»˜â€å’Œâ€œå–æ¶ˆâ€è¯·æ±‚ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªèƒ½æ‰§è¡Œï¼‰</p>
</li>
</ul>
<p>ğŸ“Œ é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>
<p>è®¢å•çŠ¶æ€æµè½¬ï¼ˆæ”¯ä»˜ã€å‘è´§ã€å–æ¶ˆï¼‰</p>
</li>
<li>
<p>é€€æ¬¾æµç¨‹ï¼ˆç”³è¯·é€€æ¬¾ â†’ é€€æ¬¾ä¸­ â†’ é€€æ¬¾æˆåŠŸ/å¤±è´¥ï¼‰</p>
</li>
<li>
<p>ä»»ä½•æœ‰æ˜ç¡®çŠ¶æ€æµè½¬çš„ä¸šåŠ¡å®ä½“</p>
</li>
</ul>
<p>æ ¸å¿ƒåŸåˆ™ï¼š</p>
<blockquote>
<p><strong>çŠ¶æ€åªå¾€å‰èµ°ï¼Œæœ¬èº«å°±æ˜¯å¹‚ç­‰ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-14">3ï¸âƒ£ Token / Redis å»é‡ï¼ˆé˜²é‡å¤æäº¤é¦–é€‰ï¼‰</h3>
<p>è¿™ä¸ªæ–¹æ¡ˆä¸»è¦ç”¨äºâ€œç”¨æˆ·äº¤äº’å‹æ¥å£â€ï¼Œæ¯”å¦‚è¡¨å•æäº¤ã€æŒ‰é’®ç‚¹å‡»ã€ç§’æ€ä¸‹å•ã€‚æ ¸å¿ƒæ˜¯â€œåœ¨è¯·æ±‚æ‰§è¡Œå‰ï¼Œå…ˆè·å–ä¸€ä¸ªå”¯ä¸€ Tokenï¼Œæ‰§è¡Œæ—¶æ ¡éªŒ Token æœ‰æ•ˆæ€§â€ï¼Œä»è€Œé˜²æ­¢é‡å¤æäº¤ã€‚</p>
<h4 data-id="heading-15">æ ¸å¿ƒæµç¨‹</h4>
<ol>
<li>
<p>å®¢æˆ·ç«¯å…ˆå‘æœåŠ¡ç«¯è¯·æ±‚â€œè·å– Tokenâ€ï¼ˆæ¯”å¦‚ç”¨æˆ·è¿›å…¥ä¸‹å•é¡µé¢æ—¶ï¼Œå‰ç«¯è°ƒç”¨æ¥å£è·å– Tokenï¼‰</p>
</li>
<li>
<p>æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ Tokenï¼ˆæ¯”å¦‚ç”¨ UUIDï¼‰ï¼Œå­˜å…¥ Redisï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰ï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯</p>
</li>
<li>
<p>å®¢æˆ·ç«¯å‘èµ·ä¸šåŠ¡è¯·æ±‚æ—¶ï¼Œå°† Token æ”¾åœ¨è¯·æ±‚å¤´æˆ–è¯·æ±‚å‚æ•°ä¸­ä¸€èµ·æäº¤</p>
</li>
<li>
<p>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼Œå…ˆæ ¡éªŒ Tokenï¼šå¦‚æœ Redis ä¸­å­˜åœ¨è¯¥ Tokenï¼Œåˆ™åˆ é™¤ Token å¹¶æ‰§è¡Œåç»­ä¸šåŠ¡é€»è¾‘ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜æ˜¯é‡å¤è¯·æ±‚ï¼Œç›´æ¥è¿”å›é”™è¯¯</p>
</li>
</ol>
<p>æµç¨‹ç¤ºæ„å›¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
sequenceDiagram
    Client-&gt;&gt;Server: è¿›å…¥ä¸‹å•é¡µé¢ï¼Œè¯·æ±‚è·å–Token
    Server-&gt;&gt;Server: ç”ŸæˆUUIDä½œä¸ºTokenï¼Œå­˜å…¥Redisï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰
    Server-&gt;&gt;Client: è¿”å›Token
    Client-&gt;&gt;Server: æäº¤è®¢å•ï¼ˆæºå¸¦Tokenï¼‰
    Server-&gt;&gt;Server: æ ¡éªŒRedisä¸­æ˜¯å¦å­˜åœ¨è¯¥Tokenï¼Œå­˜åœ¨åˆ™åˆ é™¤
    Server-&gt;&gt;Server: æ‰§è¡Œä¸‹å•é€»è¾‘
    Server-&gt;&gt;Client: è¿”å›ä¸‹å•ç»“æœ
    Client-&gt;&gt;Server: é‡å¤æäº¤è®¢å•ï¼ˆæºå¸¦ç›¸åŒTokenï¼‰
    Server-&gt;&gt;Server: æ ¡éªŒRedisä¸­å·²æ— è¯¥Token
    Server-&gt;&gt;Client: è¿”å›â€œé‡å¤æäº¤â€é”™è¯¯
</code></pre>
<h4 data-id="heading-16">å®æˆ˜ä»£ç ï¼ˆJava + Redisï¼‰</h4>
<p>ç¬¬ä¸€æ­¥ï¼šè·å– Token æ¥å£</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * è·å–é˜²é‡å¤æäº¤Token
 */</span>
<span class="hljs-meta">@GetMapping("/api/idempotent/token")</span>
<span class="hljs-keyword">public</span> Result&lt;String&gt; <span class="hljs-title function_">getIdempotentToken</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€Tokenï¼ˆUUIDï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
    <span class="hljs-comment">// å­˜å…¥Redisï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´5åˆ†é’Ÿï¼ˆæ ¹æ®ä¸šåŠ¡è°ƒæ•´ï¼Œæ¯”å¦‚è¡¨å•æäº¤è®¾ç½®10åˆ†é’Ÿï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"idempotent:token:"</span> + token;
    redisTemplate.opsForValue().set(redisKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">5</span>, TimeUnit.MINUTES);
    <span class="hljs-keyword">return</span> Result.success(token);
}
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šä¸šåŠ¡æ¥å£ï¼ˆç»“åˆ Spring AOP å®ç°æ›´ä¼˜é›…ï¼‰</p>
<p>å…ˆå®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ï¼Œç”¨äºæ ‡è®°éœ€è¦é˜²é‡å¤æäº¤çš„æ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * é˜²é‡å¤æäº¤æ³¨è§£
 */</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Idempotent {
    <span class="hljs-comment">// Tokenå‚æ•°çš„åç§°ï¼ˆé»˜è®¤ä»è¯·æ±‚å¤´è·å–ï¼‰</span>
    String <span class="hljs-title function_">tokenName</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"Idempotent-Token"</span>;
}

<span class="hljs-comment">// AOPåˆ‡é¢å®ç°</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IdempotentAspect</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;

    <span class="hljs-meta">@Around("@annotation(idempotent)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint joinPoint, Idempotent idempotent)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// 1. è·å–è¯·æ±‚ä¸­çš„Token</span>
        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> request.getHeader(idempotent.tokenName());
        <span class="hljs-keyword">if</span> (StringUtils.isBlank(token)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"Tokenä¸èƒ½ä¸ºç©º"</span>);
        }

        <span class="hljs-comment">// 2. æ ¡éªŒTokenæ˜¯å¦å­˜åœ¨äºRedis</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"idempotent:token:"</span> + token;
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">isExist</span> <span class="hljs-operator">=</span> redisTemplate.hasKey(redisKey);
        <span class="hljs-keyword">if</span> (Boolean.FALSE.equals(isExist)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"é‡å¤æäº¤ï¼Œè¯·ç¨åå†è¯•"</span>);
        }

        <span class="hljs-comment">// 3. åŸå­æ€§åˆ é™¤Tokenï¼ˆé˜²æ­¢å¹¶å‘é—®é¢˜ï¼‰</span>
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">deleteSuccess</span> <span class="hljs-operator">=</span> redisTemplate.delete(redisKey);
        <span class="hljs-keyword">if</span> (Boolean.FALSE.equals(deleteSuccess)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"é‡å¤æäº¤ï¼Œè¯·ç¨åå†è¯•"</span>);
        }

        <span class="hljs-comment">// 4. æ‰§è¡ŒåŸä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> joinPoint.proceed();
    }
}
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨æ³¨è§£æ ‡è®°ä¸šåŠ¡æ¥å£</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * è¡¨å•æäº¤æ¥å£ï¼ˆé˜²é‡å¤æäº¤ï¼‰
 */</span>
<span class="hljs-meta">@PostMapping("/api/form/submit")</span>
<span class="hljs-meta">@Idempotent(tokenName = "Idempotent-Token")</span>
<span class="hljs-keyword">public</span> Result&lt;String&gt; <span class="hljs-title function_">submitForm</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> FormDTO formDTO)</span> {
    <span class="hljs-comment">// æ‰§è¡Œè¡¨å•æäº¤é€»è¾‘</span>
    formService.submit(formDTO);
    <span class="hljs-keyword">return</span> Result.success(<span class="hljs-string">"æäº¤æˆåŠŸ"</span>);
}
</code></pre>
<h4 data-id="heading-17">ä¼˜ç‚¹ &amp; æ³¨æ„äº‹é¡¹</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å®ç°ä¼˜é›…ï¼Œé€šè¿‡ AOP å¯ä»¥å…¨å±€å¤ç”¨ï¼Œå¼€å‘æˆæœ¬ä½</p>
</li>
<li>
<p>æ€§èƒ½å¥½ï¼ŒåŸºäº Redis æ“ä½œï¼Œå“åº”é€Ÿåº¦å¿«</p>
</li>
<li>
<p>é€‚åˆå‰ç«¯äº¤äº’åœºæ™¯ï¼Œèƒ½æœ‰æ•ˆé˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»</p>
</li>
</ul>
<p>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>
<p>ä¸é€‚åˆæ ¸å¿ƒäº¤æ˜“é“¾è·¯ï¼šRedis æ˜¯ç¼“å­˜ï¼Œå­˜åœ¨å®•æœºæˆ–æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œæ— æ³•åƒæ•°æ®åº“é‚£æ ·æä¾›å¼ºä¸€è‡´æ€§ä¿è¯</p>
</li>
<li>
<p>Token è¿‡æœŸæ—¶é—´è¦åˆç†ï¼šå¤ªçŸ­ä¼šå¯¼è‡´æ­£å¸¸è¯·æ±‚å¤±è´¥ï¼Œå¤ªé•¿ä¼šå ç”¨ Redis èµ„æº</p>
</li>
<li>
<p>å¿…é¡»ä¿è¯â€œåˆ é™¤ Tokenâ€æ˜¯åŸå­æ“ä½œï¼šå¦‚æœç”¨â€œå…ˆæŸ¥ååˆ â€çš„æ–¹å¼ï¼Œä¼šå‡ºç°å¹¶å‘é—®é¢˜ï¼ˆä¸¤ä¸ªè¯·æ±‚åŒæ—¶æŸ¥åˆ° Token å­˜åœ¨ï¼Œç„¶åéƒ½æ‰§è¡Œåˆ é™¤ï¼Œå¯¼è‡´é‡å¤å¤„ç†ï¼‰</p>
</li>
</ul>
<p>æ ¸å¿ƒç»“è®ºï¼šè¿™ä¸ªæ–¹æ¡ˆé€‚åˆâ€œéæ ¸å¿ƒé“¾è·¯çš„é˜²é‡å¤æäº¤â€ï¼Œæ¯”å¦‚è¡¨å•æäº¤ã€è¯„è®ºå‘å¸ƒã€æ´»åŠ¨æŠ¥åç­‰ï¼›æ ¸å¿ƒäº¤æ˜“é“¾è·¯ï¼ˆä¸‹å•ã€æ”¯ä»˜ï¼‰ä¸æ¨èå•ç‹¬ä½¿ç”¨ï¼Œå»ºè®®ç»“åˆæ–¹æ¡ˆä¸€ï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰å…œåº•ã€‚</p>
<h3 data-id="heading-18">4ï¸âƒ£ MQ æ¶ˆè´¹å¹‚ç­‰ï¼ˆé¢è¯•å¿…è€ƒï¼Œå¿…é¡»æŒæ¡ï¼‰</h3>
<p>MQ æ¶ˆè´¹çš„å¹‚ç­‰æ˜¯é«˜å¹¶å‘ç³»ç»Ÿä¸­çš„é«˜é¢‘é—®é¢˜ï¼Œå› ä¸ºæ‰€æœ‰ MQ ä¸­é—´ä»¶éƒ½æ— æ³•ä¿è¯â€œæ°å¥½ä¸€æ¬¡â€æŠ•é€’ï¼ˆé™¤éç”¨äº‹åŠ¡æ¶ˆæ¯ï¼Œä½†å¤æ‚åº¦é«˜ï¼‰ï¼Œé»˜è®¤éƒ½æ˜¯â€œè‡³å°‘ä¸€æ¬¡â€æŠ•é€’ã€‚æ‰€ä»¥ï¼Œæ¶ˆè´¹ç«¯å¿…é¡»è‡ªå·±å¤„ç†é‡å¤æ¶ˆæ¯ã€‚</p>
<h4 data-id="heading-19">æ ¸å¿ƒæ€è·¯</h4>
<p>MQ æ¶ˆæ¯æœ¬èº«ä¼šæºå¸¦ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„æ¶ˆæ¯ IDï¼ˆæ¯”å¦‚ RocketMQ çš„ msgIdã€Kafka çš„ offset + partitionï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¶ˆæ¯ ID åšå»é‡ï¼›å¦‚æœæ¶ˆæ¯ ID ä¸å¯é ï¼ˆæ¯”å¦‚æœ‰äº› MQ ä¼šé‡å¤ç”Ÿæˆ msgIdï¼‰ï¼Œåˆ™å¯ä»¥ç”¨ä¸šåŠ¡å”¯ä¸€ IDï¼ˆæ¯”å¦‚è®¢å•å·ï¼‰åšå»é‡ã€‚</p>
<p>æ ¸å¿ƒæµç¨‹ï¼š</p>
<ol>
<li>
<p>æ¶ˆè´¹æ¶ˆæ¯å‰ï¼Œå…ˆæ£€æŸ¥è¯¥æ¶ˆæ¯çš„ IDï¼ˆmsgId æˆ– bizIdï¼‰æ˜¯å¦å·²ç»å¤„ç†è¿‡</p>
</li>
<li>
<p>å¦‚æœå·²ç»å¤„ç†è¿‡ï¼Œåˆ™ç›´æ¥è¿”å›æˆåŠŸï¼Œä¸æ‰§è¡Œåç»­é€»è¾‘</p>
</li>
<li>
<p>å¦‚æœæœªå¤„ç†è¿‡ï¼Œåˆ™æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼Œæ‰§è¡Œå®Œæˆåï¼Œè®°å½•è¯¥æ¶ˆæ¯ ID å·²å¤„ç†</p>
</li>
</ol>
<p>ä¸€å¥è¯ç‚¹ç ´ï¼š</p>
<blockquote>
<p><strong>MQ ä¸€å®šä¼šé‡å¤ï¼Œä¸šåŠ¡å¿…é¡»èƒ½æ‰›ä½ã€‚</strong></p>
</blockquote>
<h4 data-id="heading-20">å®æˆ˜ä»£ç ï¼ˆJava + RocketMQï¼‰</h4>
<p>è¿™é‡Œæä¾›ä¸¤ç§å®ç°æ–¹å¼ï¼šåŸºäº Redis å»é‡ï¼ˆé€‚åˆéæ ¸å¿ƒæ¶ˆæ¯ï¼‰å’ŒåŸºäºæ•°æ®åº“å»é‡è¡¨ï¼ˆé€‚åˆæ ¸å¿ƒæ¶ˆæ¯ï¼‰ã€‚</p>
<p>æ–¹å¼ä¸€ï¼šåŸºäº Redis å»é‡ï¼ˆç®€å•åœºæ™¯ï¼‰</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * MQ æ¶ˆè´¹è€…ï¼ˆåŸºäºRediså»é‡ï¼‰
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@RocketMQMessageListener(topic = "order_topic", consumerGroup = "order_consumer_group")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderConsumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RocketMQListener</span>&lt;MessageExt&gt; {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(MessageExt messageExt)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">msgId</span> <span class="hljs-operator">=</span> messageExt.getMsgId(); <span class="hljs-comment">// MQè‡ªå¸¦çš„å”¯ä¸€æ¶ˆæ¯ID</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(messageExt.getBody(), StandardCharsets.UTF_8);
        <span class="hljs-type">OrderMessage</span> <span class="hljs-variable">orderMessage</span> <span class="hljs-operator">=</span> JSON.parseObject(body, OrderMessage.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">bizId</span> <span class="hljs-operator">=</span> orderMessage.getOrderNo(); <span class="hljs-comment">// ä¸šåŠ¡å”¯ä¸€IDï¼ˆè®¢å•å·ï¼‰</span>

        <span class="hljs-comment">// 1. å…ˆæŸ¥Redisï¼Œåˆ¤æ–­æ˜¯å¦å·²å¤„ç†ï¼ˆç”¨bizIdæ›´å¯é ï¼ŒmsgIdå¯èƒ½é‡å¤ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"mq:idempotent:order:"</span> + bizId;
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">isProcessed</span> <span class="hljs-operator">=</span> redisTemplate.hasKey(redisKey);
        <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(isProcessed)) {
            log.info(<span class="hljs-string">"æ¶ˆæ¯å·²å¤„ç†ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼ˆæ¯”å¦‚æ›´æ–°è®¢å•çŠ¶æ€ï¼‰</span>
            orderService.processOrderMessage(orderMessage);

            <span class="hljs-comment">// 3. æ ‡è®°ä¸ºå·²å¤„ç†ï¼ˆå­˜å…¥Redisï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ¯”å¦‚24å°æ—¶ï¼‰</span>
            redisTemplate.opsForValue().set(redisKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">24</span>, TimeUnit.HOURS);
            log.info(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†æˆåŠŸï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId, e);
            <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ï¼Œè®©MQé‡è¯•ï¼ˆæ ¹æ®ä¸šåŠ¡è°ƒæ•´é‡è¯•ç­–ç•¥ï¼‰</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼Œè§¦å‘é‡è¯•"</span>, e);
        }
    }
}
</code></pre>
<p>æ–¹å¼äºŒï¼šåŸºäºæ•°æ®åº“å»é‡è¡¨ï¼ˆæ ¸å¿ƒæ¶ˆæ¯ï¼Œå¼ºä¸€è‡´ï¼‰</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º MQ æ¶ˆæ¯å»é‡è¡¨</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> mq_message_idempotent (
    id <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY COMMENT <span class="hljs-string">'ä¸»é”®ID'</span>,
    msg_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'MQæ¶ˆæ¯ID'</span>,
    biz_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ä¸šåŠ¡å”¯ä¸€ID'</span>,
    status TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'å¤„ç†çŠ¶æ€ï¼š0-æœªå¤„ç†ï¼Œ1-å·²å¤„ç†'</span>,
    create_time DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
    update_time DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>,
    <span class="hljs-keyword">UNIQUE</span> KEY uk_biz_id (biz_id) COMMENT <span class="hljs-string">'ä¸šåŠ¡IDå”¯ä¸€çº¦æŸ'</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 COMMENT <span class="hljs-string">'MQæ¶ˆæ¯å¹‚ç­‰è¡¨'</span>;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæ¶ˆè´¹é€»è¾‘ä»£ç </p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * MQ æ¶ˆè´¹è€…ï¼ˆåŸºäºæ•°æ®åº“å»é‡è¡¨ï¼‰
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@RocketMQMessageListener(topic = "payment_topic", consumerGroup = "payment_consumer_group")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentConsumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RocketMQListener</span>&lt;MessageExt&gt; {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MqMessageIdempotentMapper idempotentMapper;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> PaymentService paymentService;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(MessageExt messageExt)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">msgId</span> <span class="hljs-operator">=</span> messageExt.getMsgId();
        <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(messageExt.getBody(), StandardCharsets.UTF_8);
        <span class="hljs-type">PaymentMessage</span> <span class="hljs-variable">paymentMessage</span> <span class="hljs-operator">=</span> JSON.parseObject(body, PaymentMessage.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">bizId</span> <span class="hljs-operator">=</span> paymentMessage.getPayNo(); <span class="hljs-comment">// æ”¯ä»˜æµæ°´å·ï¼ˆä¸šåŠ¡å”¯ä¸€IDï¼‰</span>

        <span class="hljs-comment">// 1. å°è¯•æ’å…¥å»é‡è¡¨ï¼ˆå”¯ä¸€çº¦æŸå…œåº•ï¼‰</span>
        <span class="hljs-type">MqMessageIdempotent</span> <span class="hljs-variable">idempotent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MqMessageIdempotent</span>();
        idempotent.setMsgId(msgId);
        idempotent.setBizId(bizId);
        idempotent.setStatus(<span class="hljs-number">0</span>); <span class="hljs-comment">// æœªå¤„ç†</span>

        <span class="hljs-keyword">try</span> {
            idempotentMapper.insert(idempotent);
        } <span class="hljs-keyword">catch</span> (DuplicateKeyException e) {
            <span class="hljs-comment">// é‡å¤æ¶ˆæ¯ï¼ŒæŸ¥è¯¢å¤„ç†çŠ¶æ€</span>
            <span class="hljs-type">MqMessageIdempotent</span> <span class="hljs-variable">exist</span> <span class="hljs-operator">=</span> idempotentMapper.selectByBizId(bizId);
            <span class="hljs-keyword">if</span> (exist.getStatus() == <span class="hljs-number">1</span>) {
                log.info(<span class="hljs-string">"æ¶ˆæ¯å·²å¤„ç†ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
                <span class="hljs-keyword">return</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æ¶ˆæ¯æ­£åœ¨å¤„ç†ä¸­ï¼ŒæŠ›å‡ºå¼‚å¸¸è®©MQé‡è¯•ï¼ˆæˆ–æ ¹æ®ä¸šåŠ¡å¤„ç†ï¼‰</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†ä¸­ï¼Œè¯·ç¨åé‡è¯•"</span>);
            }
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼ˆæ¯”å¦‚å¤„ç†æ”¯ä»˜ç»“æœï¼‰</span>
            paymentService.processPaymentResult(paymentMessage);

            <span class="hljs-comment">// 3. æ›´æ–°å»é‡è¡¨çŠ¶æ€ä¸ºâ€œå·²å¤„ç†â€</span>
            idempotentMapper.updateStatusByBizId(bizId, <span class="hljs-number">1</span>);
            log.info(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†æˆåŠŸï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId, e);
            <span class="hljs-comment">// å¯ä»¥æ›´æ–°çŠ¶æ€ä¸ºâ€œå¤„ç†å¤±è´¥â€ï¼Œåç»­äººå·¥ä»‹å…¥</span>
            idempotentMapper.updateStatusByBizId(bizId, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼Œè§¦å‘é‡è¯•"</span>, e);
        }
    }
}
</code></pre>
<h4 data-id="heading-21">ä¼˜ç‚¹ &amp; é€‚ç”¨åœºæ™¯</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å¯é æ€§é«˜ï¼Œå°¤å…¶æ˜¯åŸºäºæ•°æ®åº“å»é‡è¡¨çš„æ–¹å¼ï¼Œèƒ½ä¿è¯å¼ºä¸€è‡´æ€§</p>
</li>
<li>
<p>é€‚é…æ‰€æœ‰ MQ åœºæ™¯ï¼Œé€šç”¨æ€§å¼º</p>
</li>
</ul>
<p>ğŸ“Œ é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>
<p>åŸºäº Redis ï¼šéæ ¸å¿ƒæ¶ˆæ¯ï¼Œæ¯”å¦‚æ—¥å¿—åŒæ­¥ã€é€šçŸ¥æ¨é€ã€æ•°æ®ç»Ÿè®¡</p>
</li>
<li>
<p>åŸºäºæ•°æ®åº“ï¼šæ ¸å¿ƒæ¶ˆæ¯ï¼Œæ¯”å¦‚è®¢å•æ”¯ä»˜ç»“æœé€šçŸ¥ã€åº“å­˜å˜æ›´æ¶ˆæ¯ã€é€€æ¬¾æ¶ˆæ¯</p>
</li>
</ul>
<p>é¢è¯•å°è´´å£«ï¼šè¢«é—®åˆ°â€œMQ æ¶ˆè´¹å¦‚ä½•ä¿è¯å¹‚ç­‰â€æ—¶ï¼Œè¦å…ˆè¯´æ˜â€œMQ æ— æ³•é¿å…é‡å¤æŠ•é€’â€ï¼Œç„¶ååˆ†åœºæ™¯ç»™å‡ºæ–¹æ¡ˆï¼Œæœ€åå¼ºè°ƒâ€œæ ¸å¿ƒæ¶ˆæ¯å¿…é¡»ç”¨æ•°æ®åº“å»é‡è¡¨å…œåº•â€ï¼Œè¿™æ ·å›ç­”æ‰å¤Ÿå…¨é¢ã€‚</p>
<hr/>
<h2 data-id="heading-22">å…­ã€3 ä¸ªæœ€å®¹æ˜“è¸©çš„å¹‚ç­‰å¤§å‘ï¼ˆé¿å‘æŒ‡å—ï¼‰</h2>
<p>å¾ˆå¤šäººåšäº†å¹‚ç­‰å¤„ç†ï¼Œä½†è¿˜æ˜¯å‡ºäº†é—®é¢˜ï¼ŒåŸå› æ˜¯è¸©äº†ä¸€äº›â€œéšæ€§å‘â€ã€‚ä¸‹é¢è¿™ 3 ä¸ªå‘ï¼Œä¸€å®šè¦é¿å¼€ï¼š</p>
<h3 data-id="heading-23">âŒ 1. å…ˆæŸ¥å†æ’/å…ˆæŸ¥å†æ›´ï¼ˆé«˜å¹¶å‘ä¸‹å¿…ç‚¸ï¼‰</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯åšæ³•ï¼šå¤„ç†è¯·æ±‚æ—¶ï¼Œå…ˆæŸ¥è¯¢æ•°æ®åº“â€œè¿™ä¸ªè¯·æ±‚æ˜¯å¦å·²å¤„ç†â€ï¼Œå¦‚æœæ²¡å¤„ç†å†æ‰§è¡Œæ’å…¥/æ›´æ–°æ“ä½œã€‚ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// é”™è¯¯ä»£ç ï¼šå…ˆæŸ¥å†æ’</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderDTO dto)</span> {
    <span class="hljs-comment">// å…ˆæŸ¥è¯¢è®¢å•æ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-type">Order</span> <span class="hljs-variable">existOrder</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(dto.getOrderNo());
    <span class="hljs-keyword">if</span> (existOrder != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-comment">// æ’å…¥è®¢å•</span>
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
    order.setOrderNo(dto.getOrderNo());
    orderMapper.insert(order);
}
</code></pre>
<p>é—®é¢˜å‡ºåœ¨â€œæŸ¥è¯¢â€å’Œâ€œæ’å…¥â€ä¹‹é—´å­˜åœ¨â€œæ—¶é—´çª—å£â€ï¼šé«˜å¹¶å‘ä¸‹ï¼Œä¸¤ä¸ªç›¸åŒçš„è¯·æ±‚å¯èƒ½åŒæ—¶æŸ¥è¯¢åˆ°â€œè®¢å•ä¸å­˜åœ¨â€ï¼Œç„¶ååŒæ—¶æ’å…¥è®¢å•ï¼Œå¯¼è‡´å”¯ä¸€ç´¢å¼•å†²çªï¼Œæˆ–è€…ç›´æ¥ç”Ÿæˆä¸¤ä¸ªè®¢å•ï¼ˆå¦‚æœæ²¡åŠ å”¯ä¸€ç´¢å¼•ï¼‰ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼š</p>
<blockquote>
<p><strong>ç›´æ¥æ’/ç›´æ¥æ›´ï¼Œäº¤ç»™å”¯ä¸€çº¦æŸæˆ–ä¹è§‚é”å…œåº•ã€‚</strong></p>
</blockquote>
<p>æ¯”å¦‚æ–¹æ¡ˆä¸€ä¸­çš„â€œç›´æ¥æ’å…¥ï¼Œæ•è·å”¯ä¸€ç´¢å¼•å†²çªâ€ï¼Œæ–¹æ¡ˆäºŒä¸­çš„â€œç›´æ¥æ›´æ–°ï¼Œåˆ¤æ–­å½±å“è¡Œæ•°â€â€”â€”ç”¨æ•°æ®åº“çš„åŸå­æ“ä½œä»£æ›¿â€œå…ˆæŸ¥åå†™â€ï¼Œé¿å…å¹¶å‘é—®é¢˜ã€‚</p>
<h3 data-id="heading-24">âŒ 2. å¹‚ç­‰é€»è¾‘ä¸åœ¨äº‹åŠ¡é‡Œï¼ˆæ•°æ®çµå¼‚ï¼‰</h3>
<p>è¿™ä¸ªå‘çš„åœºæ™¯ï¼šæ ‡è®°â€œè¯·æ±‚å·²å¤„ç†â€çš„æ“ä½œï¼Œå’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸åœ¨åŒä¸€ä¸ªäº‹åŠ¡é‡Œã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// é”™è¯¯ä»£ç ï¼šå¹‚ç­‰æ ‡è®°ä¸åœ¨äº‹åŠ¡ä¸­</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(OrderMessage message)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">bizId</span> <span class="hljs-operator">=</span> message.getOrderNo();
    <span class="hljs-comment">// 1. æ‰§è¡Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ›´æ–°è®¢å•çŠ¶æ€ï¼‰</span>
    orderMapper.updateStatus(bizId, <span class="hljs-string">"PAID"</span>);
    <span class="hljs-comment">// 2. æ ‡è®°ä¸ºå·²å¤„ç†ï¼ˆå­˜å…¥Redisï¼Œä¸åœ¨äº‹åŠ¡ä¸­ï¼‰</span>
    redisTemplate.opsForValue().set(<span class="hljs-string">"order:processed:"</span> + bizId, <span class="hljs-string">"1"</span>, <span class="hljs-number">24</span>, TimeUnit.HOURS);
}
</code></pre>
<p>é—®é¢˜ï¼šå¦‚æœæ­¥éª¤ 1 æ‰§è¡ŒæˆåŠŸï¼Œä½†æ­¥éª¤ 2 æ‰§è¡Œå¤±è´¥ï¼ˆæ¯”å¦‚ Redis å®•æœºï¼‰ï¼Œæ­¤æ—¶äº‹åŠ¡ä¼šå›æ»šå—ï¼Ÿä¸ä¼šï¼å› ä¸ºæ­¥éª¤ 2 æ˜¯ Redis æ“ä½œï¼Œä¸åœ¨æ•°æ®åº“äº‹åŠ¡çš„ç®¡è¾–èŒƒå›´å†…ã€‚æœ€ç»ˆç»“æœæ˜¯ï¼šè®¢å•çŠ¶æ€å·²ç»æ›´æ–°ä¸ºâ€œå·²æ”¯ä»˜â€ï¼Œä½† Redis ä¸­æ²¡æœ‰æ ‡è®°â€œå·²å¤„ç†â€â€”â€”å½“ä¸‹æ¬¡é‡å¤æ¶ˆæ¯åˆ°æ¥æ—¶ï¼Œä¼šå†æ¬¡æ‰§è¡Œæ­¥éª¤ 1ï¼Œå¯¼è‡´è®¢å•çŠ¶æ€è¢«é‡å¤æ›´æ–°ï¼ˆè™½ç„¶çŠ¶æ€æœºå¯èƒ½é˜»æ­¢ï¼Œä½†å¦‚æœæ˜¯å…¶ä»–ä¸šåŠ¡å¯èƒ½å‡ºé—®é¢˜ï¼‰ã€‚</p>
<p>æ›´ä¸¥é‡çš„æƒ…å†µï¼šå¦‚æœæ­¥éª¤ 2 å…ˆæ‰§è¡Œï¼ˆæ ‡è®°å·²å¤„ç†ï¼‰ï¼Œæ­¥éª¤ 1 æ‰§è¡Œå¤±è´¥ï¼ˆäº‹åŠ¡å›æ»šï¼‰ï¼Œä¼šå¯¼è‡´â€œæ ‡è®°å·²å¤„ç†ï¼Œä½†ä¸šåŠ¡æ²¡æ‰§è¡Œâ€â€”â€”åç»­è¯·æ±‚éƒ½ä¼šè¢«å½“æˆé‡å¤è¯·æ±‚ï¼Œç›´æ¥è¿”å›ï¼Œå¯¼è‡´ä¸šåŠ¡ä¸¢å¤±ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼š</p>
<ul>
<li>
<p>å¦‚æœç”¨æ•°æ®åº“å»é‡ï¼ˆæ¯”å¦‚æ–¹æ¡ˆä¸€ã€æ–¹æ¡ˆå››çš„æ•°æ®åº“å»é‡è¡¨ï¼‰ï¼Œä¸€å®šè¦æŠŠâ€œæ ‡è®°å·²å¤„ç†â€å’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ”¾åœ¨åŒä¸€ä¸ªäº‹åŠ¡é‡Œâ€”â€”ç”¨æ•°æ®åº“äº‹åŠ¡ä¿è¯ä¸¤è€…çš„åŸå­æ€§</p>
</li>
<li>
<p>å¦‚æœç”¨ Redis å»é‡ï¼Œè¦é‡‡ç”¨â€œå…ˆæ‰§è¡Œä¸šåŠ¡ï¼Œå†æ ‡è®°å·²å¤„ç†â€çš„é¡ºåºï¼Œå¹¶ä¸”æ¥å—â€œæç«¯æƒ…å†µä¸‹å¯èƒ½é‡å¤å¤„ç†â€çš„é£é™©ï¼ˆå› ä¸º Redis ä¸æ”¯æŒäº‹åŠ¡å›æ»šï¼‰ï¼›å¦‚æœæ˜¯æ ¸å¿ƒä¸šåŠ¡ï¼Œå»ºè®®ç”¨æ•°æ®åº“å»é‡è¡¨å…œåº•</p>
</li>
</ul>
<h3 data-id="heading-25">âŒ 3. å¹‚ç­‰ = åå¼‚å¸¸ï¼ˆæ©ç›–é—®é¢˜ï¼‰</h3>
<p>è¿™ä¸ªå‘çš„é”™è¯¯è®¤çŸ¥ï¼šâ€œåªè¦æ˜¯é‡å¤è¯·æ±‚ï¼Œä¸ç®¡ä»€ä¹ˆæƒ…å†µéƒ½è¿”å›æˆåŠŸâ€â€”â€”æŠŠå¹‚ç­‰å½“æˆäº†â€œåå¼‚å¸¸â€çš„é®ç¾å¸ƒã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// é”™è¯¯ä»£ç ï¼šå¹‚ç­‰ = åå¼‚å¸¸</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderDTO dto)</span> {
    <span class="hljs-keyword">try</span> {
        orderMapper.insert(dto);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// ä¸ç®¡ä»€ä¹ˆå¼‚å¸¸ï¼Œéƒ½å½“æˆé‡å¤è¯·æ±‚è¿”å›æˆåŠŸ</span>
        log.error(<span class="hljs-string">"åˆ›å»ºè®¢å•å¤±è´¥"</span>, e);
        <span class="hljs-keyword">return</span>;
    }
}
</code></pre>
<p>é—®é¢˜ï¼šå¦‚æœæ˜¯çœŸæ­£çš„ä¸šåŠ¡å¼‚å¸¸ï¼ˆæ¯”å¦‚åº“å­˜ä¸è¶³ã€å‚æ•°é”™è¯¯ï¼‰ï¼Œä¹Ÿä¼šè¢«å½“æˆé‡å¤è¯·æ±‚ï¼Œç›´æ¥è¿”å›æˆåŠŸâ€”â€”ç”¨æˆ·ä»¥ä¸ºè®¢å•åˆ›å»ºæˆåŠŸï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰ï¼Œå¯¼è‡´ç”¨æˆ·æŠ•è¯‰ï¼›åŒæ—¶ï¼Œå¼€å‘äººå‘˜æ— æ³•åŠæ—¶å‘ç°ä¸šåŠ¡é—®é¢˜ï¼Œå› ä¸ºå¼‚å¸¸è¢«åæ‰äº†ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼š</p>
<blockquote>
<p><strong>å¹‚ç­‰åªå¤„ç†â€œé‡å¤è¯·æ±‚â€çš„å¼‚å¸¸ï¼Œä¸å¤„ç†â€œä¸šåŠ¡é€»è¾‘â€çš„å¼‚å¸¸ã€‚</strong></p>
</blockquote>
<p>æ¯”å¦‚æ–¹æ¡ˆä¸€ä¸­ï¼Œåªæ•è·â€œDuplicateKeyExceptionâ€ï¼ˆå”¯ä¸€ç´¢å¼•å†²çªï¼Œä»£è¡¨é‡å¤è¯·æ±‚ï¼‰ï¼Œå…¶ä»–å¼‚å¸¸ï¼ˆæ¯”å¦‚åº“å­˜ä¸è¶³çš„ BizExceptionï¼‰è¦æ­£å¸¸æŠ›å‡ºï¼Œè®©ä¸Šå±‚å¤„ç†ï¼ˆæ¯”å¦‚è¿”å›é”™è¯¯ä¿¡æ¯ç»™ç”¨æˆ·ï¼‰ã€‚</p>
<p>æ ¸å¿ƒåŸåˆ™ï¼šå¹‚ç­‰æ˜¯â€œä¿è¯é‡å¤è¯·æ±‚çš„ç»“æœä¸€è‡´â€ï¼Œè€Œä¸æ˜¯â€œæ©ç›–æ‰€æœ‰å¼‚å¸¸â€ã€‚</p>
<hr/>
<h2 data-id="heading-26">ä¸ƒã€å¹‚ç­‰ä¸åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆç›¸è¾…ç›¸æˆï¼‰</h2>
<p>å¾ˆå¤šäººä¼šæŠŠâ€œå¹‚ç­‰â€å’Œâ€œåˆ†å¸ƒå¼äº‹åŠ¡â€åˆ†å¼€çœ‹ï¼Œä½†å®é™…ä¸Šï¼Œä¸¤è€…æ˜¯ç›¸è¾…ç›¸æˆçš„â€”â€”æ²¡æœ‰å¹‚ç­‰ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡å°±è·‘ä¸èµ·æ¥ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåˆ†å¸ƒå¼äº‹åŠ¡çš„æ ¸å¿ƒæ˜¯â€œè·¨æœåŠ¡çš„åè°ƒâ€ï¼Œè€Œåè°ƒè¿‡ç¨‹ä¸­å¿…ç„¶ä¼šå‡ºç°é‡è¯•ï¼ˆæ¯”å¦‚ Saga æ¨¡å¼çš„è¡¥å¿é‡è¯•ã€TCC æ¨¡å¼çš„ Confirm/Cancel é‡è¯•ï¼‰ã€‚å¦‚æœè¿™äº›é‡è¯•çš„æ¥å£æ²¡æœ‰åšå¹‚ç­‰ï¼Œå°±ä¼šå¯¼è‡´é‡å¤å¤„ç†ï¼Œå¼•å‘æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>ä¸‹é¢æ˜¯å¸¸è§åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯ä¸­ï¼Œå¹‚ç­‰çš„ä½œç”¨ï¼š</p>





















<table><thead><tr><th>åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯</th><th>å¹‚ç­‰çš„ä½œç”¨</th></tr></thead><tbody><tr><td>Saga æ¨¡å¼</td><td>Saga åˆ†ä¸ºâ€œæ­£å‘æµç¨‹â€å’Œâ€œè¡¥å¿æµç¨‹â€ï¼Œå½“æ­£å‘æµç¨‹æŸä¸€æ­¥å¤±è´¥æ—¶ï¼Œä¼šé‡è¯•è¡¥å¿æµç¨‹ï¼›å¦‚æœè¡¥å¿æ¥å£æ²¡æœ‰åšå¹‚ç­‰ï¼Œå¤šæ¬¡è¡¥å¿ä¼šå¯¼è‡´æ•°æ®é”™è¯¯ï¼ˆæ¯”å¦‚é‡å¤é€€æ¬¾ï¼‰</td></tr><tr><td>TCC æ¨¡å¼</td><td>TCC çš„ Confirmï¼ˆç¡®è®¤ï¼‰å’Œ Cancelï¼ˆå–æ¶ˆï¼‰æ¥å£å¯èƒ½å› ç½‘ç»œé—®é¢˜è¢«é‡è¯•ï¼›å¦‚æœè¿™äº›æ¥å£æ²¡æœ‰åšå¹‚ç­‰ï¼Œä¼šå¯¼è‡´é‡å¤æ‰£å‡/é‡Šæ”¾èµ„æºï¼ˆæ¯”å¦‚é‡å¤æ‰£åº“å­˜ï¼‰</td></tr><tr><td>MQ äº‹åŠ¡æ¶ˆæ¯</td><td>äº‹åŠ¡æ¶ˆæ¯çš„â€œæäº¤â€æˆ–â€œå›æ»šâ€å¯èƒ½è¢«é‡è¯•ï¼Œæ¶ˆè´¹ç«¯ä¹Ÿä¼šæ”¶åˆ°é‡å¤æ¶ˆæ¯ï¼›å¹‚ç­‰èƒ½ä¿è¯é‡è¯•å’Œé‡å¤æ¶ˆæ¯ä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´</td></tr></tbody></table>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>æ²¡æœ‰å¹‚ç­‰ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡è·‘ä¸èµ·æ¥ï¼›æœ‰äº†å¹‚ç­‰ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ‰èƒ½æ›´ç¨³å®šã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-27">å…«ã€æ¨èçš„ Java æŠ€æœ¯ç»„åˆï¼ˆè½åœ°å‚è€ƒï¼‰</h2>
<p>ç»“åˆå‰é¢çš„æ–¹æ¡ˆï¼Œè¿™é‡Œç»™å‡ºä¸€å¥—å·¥ä¸šç•Œå¸¸ç”¨çš„ Java æŠ€æœ¯ç»„åˆï¼Œè¦†ç›–å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ï¼š</p>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ¡†æ¶</strong>ï¼šSpring Boot / Spring Cloudï¼ˆæˆç†Ÿç¨³å®šï¼Œç”Ÿæ€å®Œå–„ï¼‰</p>
</li>
<li>
<p><strong>æ•°æ®å­˜å‚¨</strong>ï¼šMySQLï¼ˆå”¯ä¸€ç´¢å¼• + çŠ¶æ€æœº + å»é‡è¡¨ï¼Œä¿è¯å¼ºä¸€è‡´æ€§ï¼‰</p>
</li>
<li>
<p><strong>ç¼“å­˜</strong>ï¼šRedisï¼ˆToken é˜²é‡å¤æäº¤ + éæ ¸å¿ƒæ¶ˆæ¯å»é‡ï¼Œæå‡æ€§èƒ½ï¼‰</p>
</li>
<li>
<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶</strong>ï¼šRocketMQ / Kafkaï¼ˆæ”¯æŒäº‹åŠ¡æ¶ˆæ¯ï¼Œé€‚é…é«˜å¹¶å‘åœºæ™¯ï¼‰</p>
</li>
<li>
<p><strong>ORM æ¡†æ¶</strong>ï¼šMyBatis-Plusï¼ˆç®€åŒ–æ•°æ®åº“æ“ä½œï¼Œæ”¯æŒä¹è§‚é”æ’ä»¶ï¼‰</p>
</li>
</ul>
<p>ç»éªŒæ€»ç»“ï¼Œè®°ä¸‹æ¥ç›´æ¥ç”¨ï¼š</p>
<blockquote>
<p><strong>æ ¸å¿ƒé“¾è·¯é  DBï¼Œå¤–å›´é˜²æŠ–ç”¨ Redisã€‚</strong></p>
</blockquote>
<ul>
<li>
<p>æ ¸å¿ƒé“¾è·¯ï¼ˆä¸‹å•ã€æ”¯ä»˜ã€é€€æ¬¾ï¼‰ï¼šç”¨â€œå”¯ä¸€ä¸šåŠ¡ ID + å”¯ä¸€ç´¢å¼•â€å…œåº•ï¼Œç»“åˆâ€œçŠ¶æ€æœº + ä¹è§‚é”â€ä¼˜åŒ–å¹¶å‘æ€§èƒ½</p>
</li>
<li>
<p>å¤–å›´é“¾è·¯ï¼ˆè¡¨å•æäº¤ã€é€šçŸ¥æ¨é€ã€æ´»åŠ¨æŠ¥åï¼‰ï¼šç”¨â€œToken + Redisâ€é˜²é‡å¤æäº¤ï¼Œç®€å•é«˜æ•ˆ</p>
</li>
<li>
<p>MQ æ¶ˆè´¹ï¼šæ ¸å¿ƒæ¶ˆæ¯ç”¨â€œæ•°æ®åº“å»é‡è¡¨â€ï¼Œéæ ¸å¿ƒæ¶ˆæ¯ç”¨â€œRedis å»é‡â€</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-28">ä¹ã€æ€»ç»“ï¼ˆæ ¸å¿ƒè§‚ç‚¹å†å¼ºè°ƒï¼‰</h2>
<p>æœ€åç”¨å‡ å¥è¯æ€»ç»“å…¨æ–‡ï¼Œå¸®å¤§å®¶æ¢³ç†æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>
<p>å¹‚ç­‰ä¸æ˜¯é«˜çº§æŠ€å·§ï¼Œè€Œæ˜¯åˆ†å¸ƒå¼é«˜å¹¶å‘ç³»ç»Ÿçš„â€œå…¥åœºåˆ¸â€â€”â€”ä½ å¯ä»¥æš‚æ—¶æ²¡é‡åˆ°å¹‚ç­‰é—®é¢˜ï¼Œä½†é«˜å¹¶å‘ä¸€å®šä¼šå¸®ä½ é‡åˆ°</p>
</li>
<li>
<p>å¹‚ç­‰çš„æœ¬è´¨æ˜¯â€œåˆ¤æ–­è¯·æ±‚æ˜¯å¦å·²å¤„ç†â€ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œå”¯ä¸€æ ‡è¯†ã€çŠ¶æ€ä¸å¯é€†ã€å»é‡è®°å½•â€</p>
</li>
<li>
<p>4 ç§ä¸»æµæ–¹æ¡ˆå„æœ‰é€‚ç”¨åœºæ™¯ï¼šå”¯ä¸€ç´¢å¼•æœ€ç¨³ï¼ŒçŠ¶æ€æœºé€‚åˆè®¢å•ï¼ŒToken é€‚åˆè¡¨å•ï¼ŒMQ å»é‡åˆ†æ ¸å¿ƒ/éæ ¸å¿ƒ</p>
</li>
<li>
<p>é¿å‘é‡ç‚¹ï¼šåˆ«ç”¨â€œå…ˆæŸ¥åå†™â€ï¼Œå¹‚ç­‰é€»è¾‘è¦åœ¨äº‹åŠ¡é‡Œï¼Œåˆ«æŠŠå¹‚ç­‰å½“æˆåå¼‚å¸¸çš„é®ç¾å¸ƒ</p>
</li>
<li>
<p>æŠ€æœ¯ç»„åˆåŸåˆ™ï¼šæ ¸å¿ƒé“¾è·¯é  DB ä¿è¯å¼ºä¸€è‡´ï¼Œå¤–å›´é“¾è·¯ç”¨ Redis æå‡æ€§èƒ½</p>
</li>
</ol>
<p>æœ€åå†é€å¤§å®¶ä¸€å¥å®æˆ˜æ„Ÿæ‚Ÿï¼š</p>
<blockquote>
<p><strong>åšå¹‚ç­‰ä¸æ˜¯ä¸ºäº†â€œè§£å†³é—®é¢˜â€ï¼Œè€Œæ˜¯ä¸ºäº†â€œé¿å…é—®é¢˜â€â€”â€”åœ¨é«˜å¹¶å‘çš„ä¸–ç•Œé‡Œï¼Œé¢„é˜²æ°¸è¿œæ¯”æ•‘ç«æ›´é‡è¦ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€LangChainå­¦ä¹ ç¬”è®°ã€‘Message]]></title>    <link>https://juejin.cn/post/7593158683411398656</link>    <guid>https://juejin.cn/post/7593158683411398656</guid>    <pubDate>2026-01-09T09:44:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411398656" data-draft-id="7593187953271226368" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€LangChainå­¦ä¹ ç¬”è®°ã€‘Message"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T09:44:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€LangChainå­¦ä¹ ç¬”è®°ã€‘Message
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:44:35.000Z" title="Fri Jan 09 2026 09:44:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">æ ¸å¿ƒå®šä¹‰ï¼šMessage æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><code>Message</code>ï¼ˆæ¶ˆæ¯ï¼‰æ˜¯ <code>LangChain</code> ä¸­å°è£…ç”¨æˆ·è¾“å…¥ã€å¤§æ¨¡å‹è¾“å‡ºã€ç³»ç»ŸæŒ‡ä»¤ç­‰äº¤äº’ä¿¡æ¯çš„æ ‡å‡†åŒ–æ•°æ®ç»“æ„ï¼Œæ˜¯å¤§æ¨¡å‹ä¸å¤–éƒ¨ç»„ä»¶ï¼ˆæç¤ºæ¨¡æ¿ã€è®°å¿†ç»„ä»¶ã€æ™ºèƒ½ä½“ç­‰ï¼‰é—´æ•°æ®ä¼ é€’çš„æ ¸å¿ƒè½½ä½“ã€‚</p>
<p>é€šä¿—ç†è§£ï¼š<code>Message</code> å°±åƒâ€œäº¤äº’å¯¹è¯çš„æ ‡å‡†åŒ–ä¿¡å°â€ï¼Œç”¨æˆ·é—®é¢˜ã€ç³»ç»Ÿè§„åˆ™ã€æ¨¡å‹å›ç­”å‡éœ€å°è£…ä¸ºè¯¥æ ¼å¼ï¼Œæ‰èƒ½åœ¨ LangChain ç”Ÿæ€ç»„ä»¶é—´é¡ºç•…æµè½¬ã€‚</p>
<p>æ ¸å¿ƒä½œç”¨ï¼šç»Ÿä¸€äº¤äº’æ•°æ®æ ¼å¼ï¼Œä¿éšœä¸åŒç»„ä»¶ï¼ˆå¦‚è®°å¿†ç»„ä»¶å­˜å‚¨å¯¹è¯ã€æç¤ºæ¨¡æ¿æ‹¼æ¥ä¸Šä¸‹æ–‡ï¼‰èƒ½æ­£ç¡®è¯†åˆ«å¤„ç†å¯¹è¯ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒ Message ç±»å‹åŠç”¨é€”</h2>
<p>LangChain å®šä¹‰äº†å¤šç§ Message ç±»å‹é€‚é…ä¸åŒäº¤äº’åœºæ™¯ï¼Œå‡ç»§æ‰¿è‡ª <code>BaseMessage</code> ç±»ï¼Œå…·å¤‡ <code>content</code>ï¼ˆæ¶ˆæ¯å†…å®¹ï¼‰ã€<code>role</code>ï¼ˆè§’è‰²æ ‡è¯†ï¼‰ç­‰ç»Ÿä¸€åŸºç¡€å±æ€§ï¼Œå„ç±»å‹è¯¦æƒ…å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-2">HumanMessageï¼šç”¨æˆ·æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…ç”¨æˆ·é—®é¢˜ã€æŒ‡ä»¤ã€éœ€æ±‚ç­‰è¾“å…¥å†…å®¹ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šæ ¸å¿ƒè¾“å…¥å†…å®¹ï¼ˆå¿…å¡«ï¼‰ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º <code>"user"</code>ï¼Œæ ‡è¯†ç”¨æˆ·è§’è‰²ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨ç”¨æˆ·IDã€æ—¶é—´æˆ³ç­‰å…ƒæ•°æ®ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> HumanMessage

<span class="hljs-comment"># åˆå§‹åŒ–ç”¨æˆ·æ¶ˆæ¯</span>
human_msg = HumanMessage(content=<span class="hljs-string">"è¯·è§£é‡Šä»€ä¹ˆæ˜¯ LangChain Messageï¼Ÿ"</span>)
<span class="hljs-built_in">print</span>(human_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šHumanMessage(content='è¯·è§£é‡Šä»€ä¹ˆæ˜¯ LangChain Messageï¼Ÿ', role='user')</span>
</code></pre>
<h3 data-id="heading-3">AIMessageï¼šå¤§æ¨¡å‹æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…å¤§æ¨¡å‹çš„å›ç­”ã€æ¨ç†è¿‡ç¨‹æˆ–å·¥å…·è°ƒç”¨æŒ‡ä»¤ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šæ¨¡å‹è¾“å‡ºå†…å®¹ï¼ˆå¿…å¡«ï¼Œå·¥å…·è°ƒç”¨åœºæ™¯å¯ç©ºï¼‰ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º <code>"assistant"</code>ï¼Œæ ‡è¯†æ¨¡å‹è§’è‰²ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå·¥å…·è°ƒç”¨åœºæ™¯å«<code>tool_calls</code> å­—æ®µï¼Œå­˜å‚¨å·¥å…·å‚æ•°ä¸è°ƒç”¨IDï¼›</li>
<li><code>tool_calls: List[Dict]</code>ï¼ˆå¯é€‰ï¼‰ï¼šå·¥å…·è°ƒç”¨ä¿¡æ¯åˆ—è¡¨ï¼Œä¸ <code>additional_kwargs["tool_calls"]</code> ç­‰æ•ˆã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> AIMessage

<span class="hljs-comment"># åˆå§‹åŒ–å¤§æ¨¡å‹æ¶ˆæ¯</span>
ai_msg = AIMessage(content=<span class="hljs-string">"LangChain Message æ˜¯æ ‡å‡†åŒ–çš„äº¤äº’æ•°æ®ç»“æ„ï¼Œç”¨äºå°è£…å¯¹è¯ä¿¡æ¯..."</span>)
<span class="hljs-built_in">print</span>(ai_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šAIMessage(content='LangChain Message æ˜¯æ ‡å‡†åŒ–çš„äº¤äº’æ•°æ®ç»“æ„ï¼Œç”¨äºå°è£…å¯¹è¯ä¿¡æ¯...', role='assistant')</span>
</code></pre>
<h3 data-id="heading-4">SystemMessageï¼šç³»ç»Ÿæ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…ç³»ç»Ÿçº§æŒ‡ä»¤ï¼ˆå®šä¹‰æ¨¡å‹è§’è‰²ã€è¡Œä¸ºè§„åˆ™ç­‰ï¼‰ï¼Œä»…å¯¹æ¨¡å‹ç”Ÿæ•ˆï¼Œç”¨æˆ·ä¸å¯è§ï¼›</p>
<p>â€¢ æ ¸å¿ƒä½œç”¨ï¼šå¼•å¯¼æ¨¡å‹æŒ‰è§„åˆ™å“åº”ï¼ˆå¦‚â€œä¸“ä¸šPythonå¼€å‘åŠ©æ‰‹â€â€œå›ç­”ä¸è¶…è¿‡3å¥è¯â€ï¼‰ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šç³»ç»ŸæŒ‡ä»¤å†…å®¹ï¼ˆå¿…å¡«ï¼‰ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º<code>"system"</code>ï¼Œæ ‡è¯†ç³»ç»Ÿè§’è‰²ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨æŒ‡ä»¤ä¼˜å…ˆçº§ã€ç”Ÿæ•ˆèŒƒå›´ç­‰å…ƒæ•°æ®ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage

<span class="hljs-comment"># åˆå§‹åŒ–ç³»ç»Ÿæ¶ˆæ¯</span>
system_msg = SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ä¸“ä¸šçš„LangChainæŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”éœ€å‡†ç¡®ã€ç®€æ´ï¼ŒåŸºäºå®˜æ–¹æ–‡æ¡£å†…å®¹ã€‚"</span>)
<span class="hljs-built_in">print</span>(system_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šSystemMessage(content='ä½ æ˜¯ä¸“ä¸šçš„LangChainæŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”éœ€å‡†ç¡®ã€ç®€æ´ï¼ŒåŸºäºå®˜æ–¹æ–‡æ¡£å†…å®¹ã€‚', role='system')</span>
</code></pre>
<h3 data-id="heading-5">ToolMessageï¼šå·¥å…·æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…æ•°æ®åº“æŸ¥è¯¢ã€APIè¿”å›ã€æ–‡ä»¶è¯»å–ç­‰å·¥å…·è°ƒç”¨ç»“æœï¼›</p>
<p>â€¢ é€‚ç”¨åœºæ™¯ï¼šæ™ºèƒ½ä½“è°ƒç”¨å·¥å…·åï¼Œç»“æœéœ€å°è£…ä¸ºè¯¥ç±»å‹å›ä¼ æ¨¡å‹ï¼Œä¾›åç»­æ¨ç†ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šå·¥å…·æ‰§è¡Œç»“æœï¼ˆå¿…å¡«ï¼‰ï¼Œå»ºè®®ç”¨JSONç­‰ç»“æ„åŒ–æ ¼å¼ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º <code>"tool"</code>ï¼Œæ ‡è¯†å·¥å…·è§’è‰²ï¼›</li>
<li><code>tool_call_id: str</code>ï¼ˆå¿…å¡«ï¼‰ï¼šå…³è”å¯¹åº”AIMessageçš„å·¥å…·è°ƒç”¨IDï¼ŒåŒ¹é…â€œè¯·æ±‚-ç»“æœâ€ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨å·¥å…·åç§°ã€æ‰§è¡Œæ—¶é—´ã€é”™è¯¯ä¿¡æ¯ç­‰ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> ToolMessage

<span class="hljs-comment"># åˆå§‹åŒ–å·¥å…·æ¶ˆæ¯ï¼ˆæ¨¡æ‹Ÿæ–‡ä»¶è¯»å–ç»“æœï¼‰</span>
tool_msg = ToolMessage(
    content=<span class="hljs-string">'{"filename": "langchain_intro.txt", "content": "LangChain æ˜¯å¤§æ¨¡å‹åº”ç”¨å¼€å‘æ¡†æ¶..."}'</span>,
    tool_call_id=<span class="hljs-string">"call_123"</span>  <span class="hljs-comment"># å…³è”å·¥å…·è°ƒç”¨ID</span>
)
<span class="hljs-built_in">print</span>(tool_msg)
</code></pre>
<h3 data-id="heading-6">FunctionMessageï¼šå‡½æ•°è°ƒç”¨æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…å‡½æ•°è°ƒç”¨çš„è¯·æ±‚æˆ–ç»“æœï¼ˆä¸ToolMessageç±»ä¼¼ï¼Œä¾§é‡é€šç”¨å‡½æ•°åœºæ™¯ï¼‰ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼šå« <code>content</code>ï¼ˆè¯·æ±‚/ç»“æœï¼Œå¿…å¡«ï¼‰ã€<code>role="function"</code>ï¼ˆå›ºå®šè§’è‰²ï¼‰ã€<code>name</code>ï¼ˆå‡½æ•°åï¼Œå¿…å¡«ï¼‰ç­‰ï¼›</p>
<p>â€¢ æ³¨æ„ï¼šéƒ¨åˆ†ç‰ˆæœ¬ä¸ToolMessageåˆå¹¶ï¼Œä¼˜å…ˆä½¿ç”¨ToolMessageå¤„ç†å·¥å…·/å‡½æ•°åœºæ™¯ã€‚</p>
<h3 data-id="heading-7">ChatMessageï¼šé€šç”¨èŠå¤©æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šé€šç”¨å‹æ¶ˆæ¯ï¼Œæ”¯æŒè‡ªå®šä¹‰è§’è‰²ï¼Œé€‚é…éæ ‡å‡†äº¤äº’åœºæ™¯ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šæ ¸å¿ƒæ¶ˆæ¯å†…å®¹ï¼ˆå¿…å¡«ï¼‰ï¼›</li>
<li><code>role: str</code>ï¼ˆå¿…å¡«ï¼‰ï¼šè‡ªå®šä¹‰è§’è‰²æ ‡è¯†ï¼Œå¦‚â€œadminâ€â€œuser_1â€ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨è§’è‰²æƒé™ã€æ‰€å±åˆ†ç»„ç­‰å…ƒæ•°æ®ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> ChatMessage

<span class="hljs-comment"># åˆå§‹åŒ–è‡ªå®šä¹‰è§’è‰²æ¶ˆæ¯</span>
chat_msg = ChatMessage(content=<span class="hljs-string">"è¯·åŒæ­¥æœ€æ–°çš„å¼€å‘æ–‡æ¡£"</span>, role=<span class="hljs-string">"admin"</span>)
<span class="hljs-built_in">print</span>(chat_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šChatMessage(content='è¯·åŒæ­¥æœ€æ–°çš„å¼€å‘æ–‡æ¡£', role='admin')</span>
</code></pre>
<h2 data-id="heading-8">Message çš„å…³é”®ç”¨æ³•åœºæ™¯</h2>
<p><code>Message</code> æ˜¯ <code>LangChain</code> äº¤äº’æ ¸å¿ƒï¼Œæ ¸å¿ƒåº”ç”¨åœºæ™¯åŒ…æ‹¬å¯¹è¯ä¸Šä¸‹æ–‡æ„å»ºã€æ™ºèƒ½ä½“å·¥å…·äº¤äº’ç­‰ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-9">æ„å»ºå¯¹è¯ä¸Šä¸‹æ–‡</h3>
<p>å°†<code>SystemMessage</code>ã€<code>HumanMessage</code>ã€<code>AIMessage</code>æŒ‰é¡ºåºç»„æˆåˆ—è¡¨ä½œä¸ºä¸Šä¸‹æ–‡ä¼ é€’ç»™æ¨¡å‹ï¼Œå³å¯å®ç°å¤šè½®å¯¹è¯ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage, HumanMessage
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_core.callbacks <span class="hljs-keyword">import</span> StdOutCallbackHandler

<span class="hljs-comment"># æ„å»ºå¯¹è¯ä¸Šä¸‹æ–‡</span>
messages = [
    SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ç®€æ´çš„æŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”ä¸è¶…è¿‡2å¥è¯ã€‚"</span>),
    HumanMessage(content=<span class="hljs-string">"ä»€ä¹ˆæ˜¯ LangChainï¼Ÿ"</span>),
]

<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span>
llm = ChatOpenAI(
    model_name=<span class="hljs-string">"qwen-plus"</span>,
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
    api_key=<span class="hljs-string">"ä½ çš„API Key"</span>
)

<span class="hljs-comment"># åˆ›å»ºæ™ºèƒ½ä½“å¹¶è°ƒç”¨</span>
agent = create_agent(model=llm, debug=<span class="hljs-literal">True</span>)
response = agent.invoke(
    {<span class="hljs-string">"messages"</span>: messages},
    config={<span class="hljs-string">"callbacks"</span>: [StdOutCallbackHandler()]}
)

<span class="hljs-built_in">print</span>(response)
</code></pre>
<pre><code class="hljs language-python" lang="python">{
    <span class="hljs-string">"messages"</span>: [
        SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ç®€æ´çš„æŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”ä¸è¶…è¿‡2å¥è¯ã€‚"</span>),
        HumanMessage(content=<span class="hljs-string">"ä»€ä¹ˆæ˜¯ LangChainï¼Ÿ"</span>),
        AIMessage(content=<span class="hljs-string">"LangChain æ˜¯æ„å»ºè¯­è¨€æ¨¡å‹åº”ç”¨çš„æ¡†æ¶ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨ã€è®°å¿†ç®¡ç†å’Œå¤–éƒ¨å·¥å…·é›†æˆï¼ŒåŠ©åŠ›é«˜æ•ˆå¼€å‘å¤§æ¨¡å‹åº”ç”¨ã€‚"</span>)
    ]
}
</code></pre>
<h3 data-id="heading-10">æ™ºèƒ½ä½“å·¥å…·äº¤äº’</h3>
<p>æ™ºèƒ½ä½“è°ƒç”¨å·¥å…·æ—¶ï¼Œå·¥å…·è¯·æ±‚å°è£…ä¸ºå«è°ƒç”¨å‚æ•°çš„<code>AIMessage</code>ï¼Œæ‰§è¡Œç»“æœå°è£…ä¸º<code>ToolMessage</code>å›ä¼ ï¼Œæ¨¡å‹åŸºäºç»“æœç»§ç»­æ¨ç†ã€‚å®Œæ•´ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp.server.fastmcp <span class="hljs-keyword">import</span> FastMCP

<span class="hljs-comment"># å®šä¹‰æ•°å­¦è¿ç®—å·¥å…·æœåŠ¡</span>
mcp = FastMCP(<span class="hljs-string">"æ•°å­¦è¿ç®—Tools"</span>)

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> num1 + num2

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sub</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> num1 - num2

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">mul</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> num1 * num2

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">div</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:
    <span class="hljs-keyword">return</span> num1 / num2

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    mcp.run(<span class="hljs-string">"stdio"</span>)
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> StdioServerParameters
<span class="hljs-keyword">from</span> mcp.client.session <span class="hljs-keyword">import</span> ClientSession
<span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client
<span class="hljs-keyword">from</span> langchain_mcp_adapters.client <span class="hljs-keyword">import</span> load_mcp_tools
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
<span class="hljs-keyword">from</span> langchain_core.callbacks <span class="hljs-keyword">import</span> StdOutCallbackHandler
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_mcp_client</span>():
    <span class="hljs-comment"># è¿æ¥å·¥å…·æœåŠ¡</span>
    server_params = StdioServerParameters(
        command=<span class="hljs-string">"python"</span>,
        args=[os.path.join(os.path.dirname(__file__), <span class="hljs-string">"mcp_stdio_server.py"</span>)],
    )
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> stdio_client(server_params) <span class="hljs-keyword">as</span> (read, write):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-keyword">await</span> session.initialize()
            tools = <span class="hljs-keyword">await</span> load_mcp_tools(session)

            <span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹ä¸æ™ºèƒ½ä½“</span>
            model = ChatOpenAI(
                model_name=<span class="hljs-string">"qwen-plus"</span>,
                base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                api_key=<span class="hljs-string">"ä½ çš„API Key"</span>
            )
            agent = create_agent(model=model, tools=tools, debug=<span class="hljs-literal">True</span>)

            <span class="hljs-comment"># æ„å»ºæç¤ºä¸è¯·æ±‚</span>
            prompt = ChatPromptTemplate.from_messages([
                (<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯æ•°å­¦å·¥å…·æ™ºèƒ½ä½“ï¼Œç”¨sum/sub/mul/divè®¡ç®—ï¼Œéµå¾ªå…ˆä¹˜ååŠ ï¼Œä»…è¾“å‡ºæœ€ç»ˆæ•°å€¼ã€‚"</span>),
                (<span class="hljs-string">"human"</span>, <span class="hljs-string">"{expr}"</span>)
            ])
            response = <span class="hljs-keyword">await</span> agent.ainvoke(
                {<span class="hljs-string">"messages"</span>: prompt.format_messages(expr=<span class="hljs-string">"100+200*300"</span>)},
                config={<span class="hljs-string">"callbacks"</span>: [StdOutCallbackHandler()]}
            )

            <span class="hljs-built_in">print</span>(response[<span class="hljs-string">"messages"</span>])

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(create_mcp_client())
</code></pre>
<pre><code class="hljs language-python" lang="python">{
    <span class="hljs-string">"messages"</span>: [
        SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯æ•°å­¦å·¥å…·æ™ºèƒ½ä½“ã€‚è¯·ä¸¥æ ¼ä½¿ç”¨æä¾›çš„å·¥å…·(sum/sub/mul/div) è®¡ç®—è¡¨è¾¾å¼ï¼Œéµå¾ªå…ˆä¹˜ååŠ çš„è§„åˆ™ï¼Œåªè¾“å‡ºæœ€ç»ˆæ•°å€¼ã€‚"</span>),
        HumanMessage(content=<span class="hljs-string">"100+200*300"</span>),
        AIMessage(
            content=<span class="hljs-string">""</span>,
            tool_calls=[
                {<span class="hljs-string">"name"</span>: <span class="hljs-string">"mul"</span>, <span class="hljs-string">"args"</span>: {<span class="hljs-string">"num1"</span>: <span class="hljs-number">200</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">300</span>}, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tool_call"</span>},
                {<span class="hljs-string">"name"</span>: <span class="hljs-string">"sum"</span>, <span class="hljs-string">"args"</span>: {<span class="hljs-string">"num1"</span>: <span class="hljs-number">100</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">60000</span>}, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tool_call"</span>}
            ]
        ),
        ToolMessage(content=[{<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"60000"</span>}], name=<span class="hljs-string">"mul"</span>, artifact={<span class="hljs-string">"structured_content"</span>: {<span class="hljs-string">"result"</span>: <span class="hljs-number">60000</span>}}),
        ToolMessage(content=[{<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"60100"</span>}], name=<span class="hljs-string">"sum"</span>, artifact={<span class="hljs-string">"structured_content"</span>: {<span class="hljs-string">"result"</span>: <span class="hljs-number">60100</span>}}),
        AIMessage(content=<span class="hljs-string">"60100"</span>)
    ]
}
</code></pre>
<h2 data-id="heading-11">å…³é”®æ³¨æ„äº‹é¡¹</h2>
<ul>
<li><strong>è§’è‰²åŒ¹é…</strong>ï¼šæ¨¡å‹å¯¹è§’è‰²æ•æ„Ÿï¼Œéœ€ç¡®ä¿å„<code>Message</code>è§’è‰²æ ‡è¯†æ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½å“åº”å¼‚å¸¸ï¼›</li>
<li><strong>é¡ºåºå½±å“</strong>ï¼šå¯¹è¯ä¸Šä¸‹æ–‡éœ€æŒ‰æ—¶é—´é¡ºåºæ’åˆ—ï¼ˆç³»ç»Ÿæ¶ˆæ¯åœ¨å‰ï¼Œåç»­ä¸ºç”¨æˆ·-æ¨¡å‹äº¤äº’å†å²ï¼‰ï¼Œé¡ºåºé”™è¯¯å½±å“ä¸Šä¸‹æ–‡ç†è§£ï¼›</li>
<li><strong>å…³è”IDå¿…å¡«</strong>ï¼š<code>ToolMessage</code>å¿…é¡»é€šè¿‡<code>tool_call_id</code>å…³è”å¯¹åº”<code>AIMessage</code>ï¼Œç¡®ä¿â€œè¯·æ±‚-ç»“æœâ€åŒ¹é…ï¼›</li>
<li><strong>åºåˆ—åŒ–å­˜å‚¨</strong>ï¼šæŒä¹…åŒ–å¯¹è¯å†å²å¯é€šè¿‡<code>to_dict()</code>è½¬å­—å…¸å­˜å‚¨ï¼Œè¯»å–æ—¶ç”¨<code>from_dict()</code>ååºåˆ—åŒ–ï¼›</li>
<li><strong>ç‰ˆæœ¬å…¼å®¹</strong>ï¼šæ—§ç‰ˆæœ¬<code>Message</code>ç±»å‹åç§°å¯èƒ½ä¸åŒï¼ˆå¦‚<code>ChatMessageType</code>ï¼‰ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°<code>langchain_core.messages</code>æ¨¡å—ã€‚</li>
</ul>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p><code>Message</code>æ˜¯<code>LangChain</code>äº¤äº’çš„â€œæ•°æ®æ ¸å¿ƒâ€ï¼Œé€šè¿‡æ ‡å‡†åŒ–è§’è‰²ä¸æ ¼å¼ï¼Œå®ç°ç”¨æˆ·ã€ç³»ç»Ÿã€æ¨¡å‹ã€å·¥å…·é—´çš„é¡ºç•…æµè½¬ã€‚æ ¸å¿ƒéœ€æŒæ¡å„ç±»Messageçš„ç”¨é€”ã€å±æ€§ï¼Œä»¥åŠåœ¨å¯¹è¯ä¸Šä¸‹æ–‡æ„å»ºã€æ™ºèƒ½ä½“å·¥å…·äº¤äº’ä¸­çš„æµè½¬é€»è¾‘ã€‚</p>
<p>æŒæ¡å…¶æ ¸å¿ƒé€»è¾‘ï¼Œå¯æ·±å…¥ç†è§£<code>LangChain</code>ç»„ä»¶äº¤äº’åŸç†ï¼Œä¸ºæ„å»ºå¤æ‚å¯¹è¯ç³»ç»Ÿã€æ™ºèƒ½ä½“åº”ç”¨å¥ å®šåŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Pythonè½»æ¾ç®¡ç†Wordé¡µè„šï¼šæ‰¹é‡å¤„ç†ä¸å¤šèŠ‚æ–‡æ¡£æŠ€å·§]]></title>    <link>https://juejin.cn/post/7593098101432074294</link>    <guid>https://juejin.cn/post/7593098101432074294</guid>    <pubDate>2026-01-09T09:46:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101432074294" data-draft-id="7593098101432057910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Pythonè½»æ¾ç®¡ç†Wordé¡µè„šï¼šæ‰¹é‡å¤„ç†ä¸å¤šèŠ‚æ–‡æ¡£æŠ€å·§"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2026-01-09T09:46:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·835629078051"/> <meta itemprop="url" content="https://juejin.cn/user/3150554985403516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Pythonè½»æ¾ç®¡ç†Wordé¡µè„šï¼šæ‰¹é‡å¤„ç†ä¸å¤šèŠ‚æ–‡æ¡£æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3150554985403516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·835629078051
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:46:00.000Z" title="Fri Jan 09 2026 09:46:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e72978089f294ca1a3eb4baa8459d215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768556760&amp;x-signature=wZ5BYPoBBHGbD3LLJ%2FT7XlbaXpY%3D" alt="Pythonæ’å…¥é¡µè„šåˆ°Wordæ–‡æ¡£" loading="lazy"/></p>
<p>åœ¨æ—¥å¸¸çš„åŠå…¬è‡ªåŠ¨åŒ–ä¸­ï¼Œå¤„ç†Wordæ–‡æ¡£æ˜¯è®¸å¤šäººç»•ä¸å¼€çš„ç¯èŠ‚ã€‚æ— è®ºæ˜¯ç”ŸæˆæŠ¥å‘Šã€åˆåŒï¼Œè¿˜æ˜¯åˆ¶ä½œé¡¹ç›®æ–‡æ¡£ï¼ŒWordéƒ½æ˜¯ä¸€ä¸ªä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚ç„¶è€Œï¼Œå½“æ–‡æ¡£æ•°é‡åºå¤§ï¼Œæˆ–è€…éœ€è¦é¢‘ç¹æ›´æ–°æ—¶ï¼Œé‚£äº›çœ‹ä¼¼ç®€å•çš„é‡å¤æ€§ä»»åŠ¡ï¼Œå¦‚æ’å…¥é¡µç ã€ç‰ˆæƒå£°æ˜æˆ–å…¬å¸Logoåˆ°é¡µè„šï¼Œå°±ä¼šå˜å¾—å¼‚å¸¸è€—æ—¶ä¸”å®¹æ˜“å‡ºé”™ã€‚æ‰‹åŠ¨æ“ä½œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè¿˜å¯èƒ½å¯¼è‡´æ ¼å¼ä¸ç»Ÿä¸€ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒPythonä»¥å…¶å¼ºå¤§çš„è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ç»“åˆç‰¹å®šçš„æ–‡æ¡£å¤„ç†åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ç¨‹åºæ¥æ‰¹é‡ã€ç²¾ç¡®åœ°æ§åˆ¶Wordæ–‡æ¡£çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼ŒåŒ…æ‹¬å¤æ‚çš„é¡µè„šè®¾ç½®ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨Pythonï¼Œä»¥ç¼–ç¨‹æ–¹å¼ä¸ºWordæ–‡æ¡£æ·»åŠ ã€å®šåˆ¶å’Œç®¡ç†é¡µè„šï¼Œä»è€Œå°†ä½ ä»ç¹ççš„æ‰‹åŠ¨å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">Pythonç¯å¢ƒé…ç½®ä¸æ–‡æ¡£å¤„ç†åº“ç®€ä»‹</h2>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿Pythonç¯å¢ƒå·²å‡†å¤‡å°±ç»ªï¼Œå¹¶å®‰è£…æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ–‡æ¡£å¤„ç†åº“ã€‚è¿™ä¸ªåº“æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§çš„APIï¼Œè®©Pythonèƒ½å¤Ÿä¸Wordæ–‡æ¡£è¿›è¡Œæ·±åº¦äº¤äº’ã€‚</p>
<p>é¦–å…ˆï¼Œè¯·æ‰“å¼€ä½ çš„ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æ‰€éœ€åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install Spire.Doc
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨Pythonè„šæœ¬ä¸­å¯¼å…¥å¿…è¦çš„æ¨¡å—è¿›è¡Œæ“ä½œäº†ã€‚</p>
<p>äº†è§£Wordæ–‡æ¡£çš„ç»“æ„å¯¹äºæœ‰æ•ˆå¤„ç†é¡µè„šè‡³å…³é‡è¦ã€‚ä¸€ä¸ªWordæ–‡æ¡£å¯ä»¥åŒ…å«å¤šä¸ªâ€œèŠ‚â€ï¼ˆSectionï¼‰ï¼Œæ¯ä¸ªèŠ‚éƒ½å¯ä»¥æ‹¥æœ‰ç‹¬ç«‹çš„é¡µçœ‰å’Œé¡µè„šã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¸ºæ–‡æ¡£çš„ä¸åŒéƒ¨åˆ†è®¾ç½®ä¸åŒçš„é¡µè„šæ ·å¼ï¼Œä¾‹å¦‚ï¼Œæ­£æ–‡éƒ¨åˆ†æ˜¾ç¤ºé¡µç ï¼Œè€Œé™„å½•éƒ¨åˆ†æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸ºWordæ–‡æ¡£æ·»åŠ ç®€å•æ–‡æœ¬é¡µè„š</h2>
<p>è®©æˆ‘ä»¬ä»æœ€åŸºç¡€çš„å¼€å§‹ï¼šä¸ºWordæ–‡æ¡£æ’å…¥ç®€å•çš„æ–‡æœ¬é¡µè„šã€‚è¿™é€šå¸¸ç”¨äºæ·»åŠ ç‰ˆæƒä¿¡æ¯ã€æ–‡æ¡£åç§°æˆ–ç®€å•çš„æ—¥æœŸã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ›å»ºæ–°æ–‡æ¡£å¹¶æ·»åŠ çº¯æ–‡æœ¬é¡µè„šçš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„Wordæ–‡æ¡£</span>
document = Document()
section = document.AddSection()

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªæ®µè½åˆ°æ–‡æ¡£ï¼Œç¡®ä¿æ–‡æ¡£æœ‰å†…å®¹</span>
paragraph = section.AddParagraph()
paragraph.AppendText(<span class="hljs-string">"è¿™æ˜¯æ–‡æ¡£çš„æ­£æ–‡å†…å®¹ã€‚"</span>)

<span class="hljs-comment"># è·å–ç¬¬ä¸€ä¸ªèŠ‚çš„é¡µè„š</span>
<span class="hljs-comment"># FooterType.FirstPageè¡¨ç¤ºé¦–é¡µé¡µè„šï¼ŒFooterType.EvenPagesè¡¨ç¤ºå¶æ•°é¡µé¡µè„šï¼Œ</span>
<span class="hljs-comment"># FooterType.OddPagesè¡¨ç¤ºå¥‡æ•°é¡µé¡µè„šã€‚å¦‚æœæ–‡æ¡£æ²¡æœ‰è®¾ç½®é¦–é¡µä¸åŒæˆ–å¥‡å¶é¡µä¸åŒï¼Œ</span>
<span class="hljs-comment"># åˆ™ä¿®æ”¹ä»»ä½•ä¸€ä¸ªéƒ½ä¼šå½±å“æ‰€æœ‰é¡µã€‚è¿™é‡Œæˆ‘ä»¬ç›´æ¥è·å–é»˜è®¤é¡µè„šã€‚</span>
footer = section.HeadersFooters.Footer

<span class="hljs-comment"># æ·»åŠ æ–‡æœ¬åˆ°é¡µè„š</span>
footer.AddParagraph().AppendText(<span class="hljs-string">"Copyright Â© 2023 My Company. All Rights Reserved."</span>)

<span class="hljs-comment"># è®¾ç½®é¡µè„šæ–‡æœ¬çš„å¯¹é½æ–¹å¼</span>
<span class="hljs-comment"># è·å–é¡µè„šä¸­çš„ç¬¬ä¸€ä¸ªæ®µè½ï¼Œå¹¶è®¾ç½®å…¶å¯¹é½æ–¹å¼</span>
footer.Paragraphs[<span class="hljs-number">0</span>].Format.HorizontalAlignment = HorizontalAlignment.Right <span class="hljs-comment"># å³å¯¹é½</span>

<span class="hljs-comment"># ä¿å­˜æ–‡æ¡£</span>
document.SaveToFile(<span class="hljs-string">"SimpleTextFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'SimpleTextFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«æ–‡æœ¬é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>ä»£ç è§£é‡Šï¼š</strong></p>
<ul>
<li><code>document = Document()</code> åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Wordæ–‡æ¡£å®ä¾‹ã€‚</li>
<li><code>section = document.AddSection()</code> æ·»åŠ äº†ä¸€ä¸ªæ–°çš„èŠ‚ã€‚</li>
<li><code>footer = section.HeadersFooters.Footer</code> è·å–å½“å‰èŠ‚çš„é¡µè„šå¯¹è±¡ã€‚</li>
<li><code>footer.AddParagraph().AppendText(...)</code> åœ¨é¡µè„šä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„æ®µè½å¹¶æ’å…¥æ–‡æœ¬ã€‚</li>
<li><code>footer.Paragraphs[0].Format.HorizontalAlignment = HorizontalAlignment.Right</code> è®¾ç½®äº†é¡µè„šä¸­ç¬¬ä¸€ä¸ªæ®µè½çš„æ°´å¹³å¯¹é½æ–¹å¼ä¸ºå³å¯¹é½ã€‚ä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸º <code>HorizontalAlignment.Left</code> æˆ– <code>HorizontalAlignment.Center</code>ã€‚</li>
<li><code>document.SaveToFile(...)</code> å°†ä¿®æ”¹åçš„æ–‡æ¡£ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ã€‚</li>
</ul>
<p>é€šè¿‡è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿè‡ªåŠ¨åŒ–åœ°ä¸ºWordæ–‡æ¡£æ·»åŠ å›ºå®šæ–‡æœ¬é¡µè„šï¼Œå¤§å¤§æå‡äº†æ•ˆç‡ã€‚</p>
<hr/>
<h2 data-id="heading-2">å®šåˆ¶åŒ–é¡µè„šï¼šé¡µç ã€æ ¼å¼ä¸é«˜çº§æ’ç‰ˆ</h2>
<p>ä»…ä»…æ˜¯çº¯æ–‡æœ¬é¡µè„šå¯èƒ½ä¸è¶³ä»¥æ»¡è¶³æ‰€æœ‰éœ€æ±‚ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ›´å¸¸éœ€è¦æ’å…¥åŠ¨æ€é¡µç ï¼Œç”šè‡³åœ¨é¡µè„šä¸­æ··åˆæ–‡æœ¬ã€é¡µç å’Œå›¾ç‰‡ã€‚</p>
<h3 data-id="heading-3">æ’å…¥åŠ¨æ€é¡µç </h3>
<p>é¡µç æ˜¯é¡µè„šæœ€å¸¸è§çš„å…ƒç´ ä¹‹ä¸€ã€‚è¿™ä¸ªåº“æä¾›äº†çµæ´»çš„æ–¹å¼æ¥æ’å…¥å’Œæ ¼å¼åŒ–é¡µç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()
section = document.AddSection()

<span class="hljs-comment"># æ·»åŠ è¶³å¤Ÿçš„å†…å®¹ä»¥ç”Ÿæˆå¤šé¡µï¼Œæ–¹ä¾¿æŸ¥çœ‹é¡µç æ•ˆæœ</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):
    paragraph = section.AddParagraph()
    paragraph.AppendText(<span class="hljs-string">f"è¿™æ˜¯æ–‡æ¡£çš„ç¬¬ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> é¡µå†…å®¹ã€‚"</span>)
    <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">9</span>: <span class="hljs-comment"># é™¤äº†æœ€åä¸€é¡µï¼Œæ¯é¡µéƒ½æ·»åŠ ä¸€ä¸ªåˆ†é¡µç¬¦</span>
        section.AddPageBreak()

footer = section.HeadersFooters.Footer

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªæ®µè½ç”¨äºé¡µç </span>
page_number_paragraph = footer.AddParagraph()

<span class="hljs-comment"># æ’å…¥â€œç¬¬ X é¡µ å…± Y é¡µâ€æ ¼å¼çš„é¡µç </span>
page_number_paragraph.AppendText(<span class="hljs-string">"ç¬¬ "</span>)
page_number_paragraph.AppendField(<span class="hljs-string">"page number"</span>, FieldType.FieldPage) <span class="hljs-comment"># å½“å‰é¡µç </span>
page_number_paragraph.AppendText(<span class="hljs-string">" é¡µ å…± "</span>)
page_number_paragraph.AppendField(<span class="hljs-string">"number of pages"</span>, FieldType.FieldNumPages) <span class="hljs-comment"># æ€»é¡µæ•°</span>
page_number_paragraph.AppendText(<span class="hljs-string">" é¡µ"</span>)

<span class="hljs-comment"># è®¾ç½®é¡µç æ–‡æœ¬çš„å­—ä½“å’Œå¤§å°</span>
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> page_number_paragraph.ChildObjects:
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, TextRange):
        item.CharacterFormat.FontName = <span class="hljs-string">"Arial"</span>
        item.CharacterFormat.FontSize = <span class="hljs-number">10</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(item, Field):
        item.CharacterFormat.FontName = <span class="hljs-string">"Arial"</span>
        item.CharacterFormat.FontSize = <span class="hljs-number">10</span>

<span class="hljs-comment"># è®¾ç½®é¡µç æ®µè½å³å¯¹é½</span>
page_number_paragraph.Format.HorizontalAlignment = HorizontalAlignment.Right

document.SaveToFile(<span class="hljs-string">"PageNumberFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'PageNumberFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«åŠ¨æ€é¡µç ã€‚"</span>)
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><code>AppendField("page number", FieldType.FieldPage)</code> æ’å…¥å½“å‰é¡µç ã€‚</li>
<li><code>AppendField("number of pages", FieldType.FieldNumPages)</code> æ’å…¥æ–‡æ¡£æ€»é¡µæ•°ã€‚</li>
<li>é€šè¿‡éå†æ®µè½çš„ <code>ChildObjects</code> å¯ä»¥å¯¹é¡µç ä¸­çš„æ–‡æœ¬å’Œå­—æ®µè¿›è¡Œå•ç‹¬çš„æ ¼å¼è®¾ç½®ã€‚</li>
</ul>
<h3 data-id="heading-4">å¤šå…ƒç´ é¡µè„šï¼šæ–‡æœ¬ä¸é¡µç ç»“åˆ</h3>
<p>åœ¨åŒä¸€ä¸ªé¡µè„šä¸­åŒæ—¶æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯å’Œé¡µç ä¹Ÿæ˜¯å¸¸è§éœ€æ±‚ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()
section = document.AddSection()

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
    section.AddParagraph().AppendText(<span class="hljs-string">f"è¿™æ˜¯å¤šå…ƒç´ é¡µè„šæµ‹è¯•å†…å®¹ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>ã€‚"</span>)
    <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">4</span>:
        section.AddPageBreak()

footer = section.HeadersFooters.Footer

<span class="hljs-comment"># å·¦ä¾§æ·»åŠ ç‰ˆæƒä¿¡æ¯</span>
left_paragraph = footer.AddParagraph()
left_paragraph.AppendText(<span class="hljs-string">"Copyright Â© 2023 My Company"</span>)
left_paragraph.Format.HorizontalAlignment = HorizontalAlignment.Left
left_paragraph.CharacterFormat.FontName = <span class="hljs-string">"Times New Roman"</span>
left_paragraph.CharacterFormat.FontSize = <span class="hljs-number">9</span>

<span class="hljs-comment"># å³ä¾§æ·»åŠ é¡µç </span>
right_paragraph = footer.AddParagraph()
right_paragraph.AppendText(<span class="hljs-string">"Page "</span>)
right_paragraph.AppendField(<span class="hljs-string">"page number"</span>, FieldType.FieldPage)
right_paragraph.AppendText(<span class="hljs-string">" of "</span>)
right_paragraph.AppendField(<span class="hljs-string">"number of pages"</span>, FieldType.FieldNumPages)
right_paragraph.Format.HorizontalAlignment = HorizontalAlignment.Right
right_paragraph.CharacterFormat.FontName = <span class="hljs-string">"Arial"</span>
right_paragraph.CharacterFormat.FontSize = <span class="hljs-number">9</span>

<span class="hljs-comment"># ä¸ºäº†å®ç°å·¦å³å¯¹é½ï¼Œé€šå¸¸éœ€è¦é€šè¿‡è¡¨æ ¼æˆ–å®šä½æ¥ç²¾ç¡®æ§åˆ¶ï¼Œ</span>
<span class="hljs-comment"># ä½†å¯¹äºç®€å•çš„å·¦å³å¸ƒå±€ï¼Œå¯ä»¥åˆ†åˆ«æ·»åŠ æ®µè½å¹¶è®¾ç½®å¯¹é½æ–¹å¼ã€‚</span>
<span class="hljs-comment"># æ›´å¤æ‚çš„å¸ƒå±€å¯èƒ½éœ€è¦å€ŸåŠ©Tableæˆ–Shapeç­‰é«˜çº§å¯¹è±¡ï¼Œè¿™é‡Œåªå±•ç¤ºåŸºæœ¬æ–¹æ³•ã€‚</span>

document.SaveToFile(<span class="hljs-string">"MultiElementFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'MultiElementFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«å¤šå…ƒç´ é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong> åœ¨Wordæ–‡æ¡£ä¸­ï¼Œé¡µè„šé€šå¸¸åªæœ‰ä¸€ä¸ªâ€œæ•…äº‹æ¿â€åŒºåŸŸã€‚å¦‚æœéœ€è¦ç²¾ç¡®åœ°å°†å†…å®¹æ”¾ç½®åœ¨é¡µè„šçš„å·¦ä¾§å’Œå³ä¾§ï¼Œæœ€å¥å£®çš„æ–¹æ³•æ˜¯ä½¿ç”¨é¡µè„šä¸­çš„è¡¨æ ¼ï¼ˆTableï¼‰æˆ–æ–‡æœ¬æ¡†ï¼ˆShapeï¼‰ã€‚ä¸Šè¿°ç¤ºä¾‹é€šè¿‡æ·»åŠ ä¸¤ä¸ªç‹¬ç«‹çš„æ®µè½å¹¶è®¾ç½®å¯¹é½æ–¹å¼ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥è¾¾åˆ°è§†è§‰ä¸Šçš„å·¦å³å¸ƒå±€æ•ˆæœï¼Œä½†å¯èƒ½æ— æ³•å®Œç¾å¯¹é½ã€‚</p>
<h3 data-id="heading-5">å›¾ç‰‡é¡µè„š</h3>
<p>åœ¨é¡µè„šä¸­æ’å…¥å…¬å¸Logoæˆ–è£…é¥°æ€§å›¾ç‰‡å¯ä»¥æå‡æ–‡æ¡£çš„ä¸“ä¸šæ€§ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()
section = document.AddSection()
section.AddParagraph().AppendText(<span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰å›¾ç‰‡é¡µè„šçš„æ–‡æ¡£ã€‚"</span>)

footer = section.HeadersFooters.Footer

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªæ®µè½ç”¨äºå›¾ç‰‡</span>
image_paragraph = footer.AddParagraph()

<span class="hljs-comment"># å‡è®¾ä½ æœ‰ä¸€ä¸ªåä¸º 'logo.png' çš„å›¾ç‰‡æ–‡ä»¶</span>
<span class="hljs-comment"># è¯·ç¡®ä¿è¯¥å›¾ç‰‡æ–‡ä»¶å­˜åœ¨äºè„šæœ¬è¿è¡Œçš„åŒçº§ç›®å½•æˆ–æŒ‡å®šå®Œæ•´è·¯å¾„</span>
<span class="hljs-keyword">try</span>:
    picture = image_paragraph.AppendPicture(<span class="hljs-string">"logo.png"</span>)
    <span class="hljs-comment"># è®¾ç½®å›¾ç‰‡å¤§å°</span>
    picture.Width = <span class="hljs-number">50</span>
    picture.Height = <span class="hljs-number">50</span>
    <span class="hljs-comment"># è®¾ç½®å›¾ç‰‡åœ¨é¡µè„šä¸­çš„ä½ç½®å’Œæ–‡å­—ç¯ç»•æ–¹å¼</span>
    picture.TextWrappingStyle = TextWrappingStyle.Behind
    picture.HorizontalOrigin = HorizontalOrigin.Column
    picture.HorizontalAlignment = ShapeHorizontalAlignment.Left
    picture.VerticalOrigin = VerticalOrigin.BottomMargin
    picture.VerticalAlignment = ShapeVerticalAlignment.Bottom
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ’å…¥å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥å›¾ç‰‡è·¯å¾„å’Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š<span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># å¯é€‰ï¼šåœ¨å›¾ç‰‡æ—è¾¹æ·»åŠ æ–‡æœ¬</span>
image_paragraph.AppendText(<span class="hljs-string">"  Confidential Document"</span>)
image_paragraph.CharacterFormat.FontSize = <span class="hljs-number">8</span>

document.SaveToFile(<span class="hljs-string">"ImageFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'ImageFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«å›¾ç‰‡é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>æç¤ºï¼š</strong> åœ¨æ’å…¥å›¾ç‰‡æ—¶ï¼Œ<code>TextWrappingStyle</code>ã€<code>HorizontalOrigin</code>ã€<code>HorizontalAlignment</code>ã€<code>VerticalOrigin</code> å’Œ <code>VerticalAlignment</code> ç­‰å±æ€§å¯¹äºç²¾ç¡®æ§åˆ¶å›¾ç‰‡åœ¨é¡µè„šä¸­çš„ä½ç½®è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-6">ä¸åŒèŠ‚çš„é¡µè„šä¸æ¸…é™¤é¡µè„š</h3>
<p>å¦‚æœä½ éœ€è¦ä¸ºæ–‡æ¡£çš„ä¸åŒéƒ¨åˆ†è®¾ç½®ä¸åŒçš„é¡µè„šï¼Œå¯ä»¥ä½¿ç”¨å¤šèŠ‚åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()

<span class="hljs-comment"># ç¬¬ä¸€ä¸ªèŠ‚ï¼šå¸¸è§„å†…å®¹ï¼Œå¸¦é¡µç é¡µè„š</span>
section1 = document.AddSection()
section1.AddParagraph().AppendText(<span class="hljs-string">"è¿™æ˜¯æ–‡æ¡£çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚"</span>)
section1.AddParagraph().AppendText(<span class="hljs-string">"å†…å®¹è¾ƒå°‘ï¼Œä½†æœ‰é¡µç ã€‚"</span>)
footer1 = section1.HeadersFooters.Footer
p1 = footer1.AddParagraph()
p1.AppendText(<span class="hljs-string">"Page "</span>)
p1.AppendField(<span class="hljs-string">"page number"</span>, FieldType.FieldPage)
p1.AppendText(<span class="hljs-string">" of "</span>)
p1.AppendField(<span class="hljs-string">"number of pages"</span>, FieldType.FieldNumPages)
p1.Format.HorizontalAlignment = HorizontalAlignment.Right

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªåˆ†é¡µç¬¦ï¼Œå¼€å§‹æ–°çš„èŠ‚</span>
section2 = document.AddSection()
<span class="hljs-comment"># è®¾ç½®æ–°èŠ‚ä¸å‰ä¸€èŠ‚ä¸åŒï¼Œä½¿å…¶æ‹¥æœ‰ç‹¬ç«‹çš„é¡µçœ‰é¡µè„š</span>
section2.PageSetup.DifferentFirstPage = <span class="hljs-literal">False</span> <span class="hljs-comment"># ç¡®ä¿ä¸æ˜¯é¦–é¡µä¸åŒ</span>
section2.PageSetup.OddAndEvenPagesHeaderFooter = <span class="hljs-literal">False</span> <span class="hljs-comment"># ç¡®ä¿ä¸æ˜¯å¥‡å¶é¡µä¸åŒ</span>
section2.PageSetup.RestartPageNumbering = <span class="hljs-literal">True</span> <span class="hljs-comment"># æ–°èŠ‚é‡æ–°å¼€å§‹é¡µç ç¼–å· (å¯é€‰)</span>
section2.PageSetup.PageStartingNumber = <span class="hljs-number">1</span> <span class="hljs-comment"># æ–°èŠ‚ä»ç¬¬1é¡µå¼€å§‹ (é…åˆ RestartPageNumbering)</span>

section2.AddParagraph().AppendText(<span class="hljs-string">"è¿™æ˜¯æ–‡æ¡£çš„ç¬¬äºŒéƒ¨åˆ†ï¼ˆé™„å½•ï¼‰ï¼Œæœ‰ä¸åŒçš„é¡µè„šã€‚"</span>)
footer2 = section2.HeadersFooters.Footer
footer2.AddParagraph().AppendText(<span class="hljs-string">"Appendix - Version 1.0"</span>)
footer2.Paragraphs[<span class="hljs-number">0</span>].Format.HorizontalAlignment = HorizontalAlignment.Center

<span class="hljs-comment"># æ¸…é™¤ç°æœ‰é¡µè„šï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
<span class="hljs-comment"># footer2.Clear() # å¦‚æœæƒ³å®Œå…¨æ¸…ç©ºé¡µè„šå†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•</span>

document.SaveToFile(<span class="hljs-string">"MultiSectionFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'MultiSectionFooter.docx' å·²ç”Ÿæˆï¼ŒåŒ…å«ä¸åŒèŠ‚çš„é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>é‡ç‚¹ï¼š</strong></p>
<ul>
<li><code>section.AddSection()</code> åˆ›å»ºæ–°èŠ‚ã€‚</li>
<li><code>section.PageSetup.DifferentFirstPage = False</code> å’Œ <code>section.PageSetup.OddAndEvenPagesHeaderFooter = False</code> æ˜¯ç¡®ä¿æ–°èŠ‚å¯ä»¥ç‹¬ç«‹è®¾ç½®é¡µè„šçš„å…³é”®ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–°èŠ‚ä¼šç»§æ‰¿å‰ä¸€èŠ‚çš„é¡µçœ‰é¡µè„šè®¾ç½®ï¼‰ã€‚</li>
<li><code>footer.Clear()</code> æ–¹æ³•å¯ä»¥ç”¨äºåˆ é™¤é¡µè„šä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">é¡µè„šå¤„ç†çš„è¿›é˜¶æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé™¤äº†ä¸Šè¿°åŸºæœ¬æ“ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä¸€äº›è¿›é˜¶æŠ€å·§å’Œæ½œåœ¨é—®é¢˜ã€‚</p>
<ul>
<li><strong>å¤„ç†å¤§å‹æ–‡æ¡£æ—¶çš„æ€§èƒ½ï¼š</strong> å¯¹äºåŒ…å«æˆç™¾ä¸Šåƒé¡µçš„è¶…å¤§å‹Wordæ–‡æ¡£ï¼Œé¢‘ç¹åœ°è¿›è¡Œä¿å­˜æˆ–å¤æ‚çš„æ“ä½œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘åˆ†æ‰¹å¤„ç†ã€ä¼˜åŒ–ä»£ç é€»è¾‘ï¼Œæˆ–è€…åœ¨æ“ä½œå®Œæˆåä¸€æ¬¡æ€§ä¿å­˜ã€‚</li>
<li><strong>é¡µè„šå¯è§æ€§ï¼ˆä¾‹å¦‚ï¼Œé¦–é¡µä¸æ˜¾ç¤ºé¡µè„šï¼‰ï¼š</strong> Wordæ–‡æ¡£å…è®¸é¦–é¡µä¸æ˜¾ç¤ºé¡µçœ‰é¡µè„šã€‚å¯ä»¥é€šè¿‡è®¾ç½® <code>section.PageSetup.DifferentFirstPage = True</code> æ¥å®ç°ã€‚ç„¶åï¼Œä½ å¯ä»¥é€šè¿‡ <code>section.HeadersFooters.FirstPageFooter</code> æ¥è®¿é—®å’Œè®¾ç½®é¦–é¡µé¡µè„šï¼ˆæˆ–é€‰æ‹©ä¸è®¾ç½®ä»»ä½•å†…å®¹ï¼‰ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†æœºåˆ¶ï¼š</strong> åœ¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸­ï¼ŒåŠ å…¥å¥å£®çš„é”™è¯¯å¤„ç†æœºåˆ¶è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>try-except</code> å—æ¥æ•è·æ–‡ä»¶ä¸å­˜åœ¨ã€æƒé™ä¸è¶³æˆ–åº“æ“ä½œå¤±è´¥ç­‰å¼‚å¸¸ï¼Œä»è€Œæé«˜è„šæœ¬çš„ç¨³å®šæ€§ã€‚</li>
<li><strong>ä¸ç°æœ‰é¡µè„šçš„äº¤äº’ï¼š</strong> å¦‚æœæ–‡æ¡£ä¸­å·²ç»å­˜åœ¨é¡µè„šï¼Œä½ æ˜¯æƒ³è¦†ç›–å®ƒï¼Œè¿˜æ˜¯åœ¨ç°æœ‰å†…å®¹åŸºç¡€ä¸Šè¿½åŠ ï¼Ÿé€šå¸¸ï¼Œç›´æ¥ <code>AddParagraph()</code> ä¼šåœ¨ç°æœ‰å†…å®¹åè¿½åŠ ï¼Œè€Œ <code>footer.Clear()</code> ä¼šæ¸…ç©ºæ‰€æœ‰å†…å®¹ã€‚</li>
<li><strong>å…¶ä»–ç›¸å…³åŠŸèƒ½ï¼š</strong> é™¤äº†é¡µè„šï¼Œè¯¥åº“è¿˜æ”¯æŒé¡µçœ‰ã€æ°´å°ã€æ–‡æœ¬æ¡†ã€è¡¨æ ¼ç­‰Wordæ–‡æ¡£çš„å„ç§å…ƒç´ æ“ä½œã€‚ä¸€æ—¦æŒæ¡äº†é¡µè„šçš„è‡ªåŠ¨åŒ–ï¼Œä½ å¯ä»¥è½»æ¾æ‰©å±•åˆ°å…¶ä»–æ–‡æ¡£è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚</li>
<li><strong>ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ï¼š</strong> å»ºè®®å°†å¸¸ç”¨çš„é¡µè„šè®¾ç½®é€»è¾‘å°è£…æˆå‡½æ•°ï¼Œæé«˜ä»£ç çš„æ¨¡å—åŒ–å’Œå¤ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ª <code>add_page_number_footer(section, alignment)</code> å‡½æ•°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†è®²è§£å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å·²ç»æ·±å…¥äº†è§£äº†å¦‚ä½•åˆ©ç”¨Pythonç»“åˆæ–‡æ¡£å¤„ç†åº“ï¼Œè‡ªåŠ¨åŒ–åœ°åœ¨Wordæ–‡æ¡£ä¸­æ’å…¥ã€å®šåˆ¶å’Œç®¡ç†é¡µè„šã€‚ä»ç®€å•çš„æ–‡æœ¬é¡µè„šåˆ°å¤æ‚çš„é¡µç ã€å›¾ç‰‡å’Œå¤šèŠ‚æ–‡æ¡£å¤„ç†ï¼ŒPythonéƒ½æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å‘Šåˆ«è¿‡å»æ‰‹åŠ¨è°ƒæ•´é¡µè„šçš„ç¹çï¼Œç°åœ¨ä½ å¯ä»¥ç”¨å‡ è¡ŒPythonä»£ç ï¼Œè½»æ¾å®ç°æ–‡æ¡£é¡µè„šçš„è‡ªåŠ¨åŒ–ç”Ÿæˆå’Œæ‰¹é‡å¤„ç†ï¼Œæå¤§åœ°æå‡ä½ çš„å·¥ä½œæ•ˆç‡å’Œæ–‡æ¡£å¤„ç†çš„å‡†ç¡®æ€§ã€‚æˆ‘é¼“åŠ±ä½ å°†è¿™äº›æŠ€æœ¯åº”ç”¨åˆ°ä½ çš„å®é™…å·¥ä½œä¸­ï¼Œæ¢ç´¢Pythonåœ¨æ–‡æ¡£è‡ªåŠ¨åŒ–é¢†åŸŸçš„æ›´å¤šå¯èƒ½æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ“š Android Settingsç³»ç»Ÿï¼šå›¾ä¹¦é¦†ç®¡ç†å‘˜çš„æ•…äº‹]]></title>    <link>https://juejin.cn/post/7593145583347859498</link>    <guid>https://juejin.cn/post/7593145583347859498</guid>    <pubDate>2026-01-09T09:54:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583347859498" data-draft-id="7593098101432156214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ“š Android Settingsç³»ç»Ÿï¼šå›¾ä¹¦é¦†ç®¡ç†å‘˜çš„æ•…äº‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-09T09:54:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Androidç«¥è¯é•‡"/> <meta itemprop="url" content="https://juejin.cn/user/2716247406161241"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ“š Android Settingsç³»ç»Ÿï¼šå›¾ä¹¦é¦†ç®¡ç†å‘˜çš„æ•…äº‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2716247406161241/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Androidç«¥è¯é•‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:54:15.000Z" title="Fri Jan 09 2026 09:54:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§¸ æ•…äº‹å¼€å§‹ï¼šAndroidç³»ç»Ÿçš„"å›¾ä¹¦é¦†ç®¡ç†å‘˜"</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼ŒAndroidç³»ç»Ÿæ˜¯ä¸€ä¸ªå·¨å¤§çš„å›¾ä¹¦é¦†ï¼Œé‡Œé¢æ”¶è—äº†æˆåƒä¸Šä¸‡æœ¬ä¹¦ç±ï¼ˆç³»ç»Ÿè®¾ç½®ï¼‰ã€‚è¿™äº›ä¹¦ç±è¢«åˆ†ç±»å­˜æ”¾ï¼Œåˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p>
<ol>
<li><strong>GlobalåŒºåŸŸ</strong>ï¼šæ‰€æœ‰è¯»è€…éƒ½èƒ½çœ‹åˆ°çš„é€šç”¨ä¹¦ç±ï¼ˆå¦‚é£è¡Œæ¨¡å¼ã€å¼€å‘é€‰é¡¹ï¼‰</li>
<li><strong>SecureåŒºåŸŸ</strong>ï¼šåªæœ‰ç®¡ç†å‘˜æ‰èƒ½æ¥è§¦çš„æ•æ„Ÿä¹¦ç±ï¼ˆå¦‚ä½ç½®æœåŠ¡ã€ç”Ÿç‰©è¯†åˆ«ï¼‰</li>
<li><strong>SystemåŒºåŸŸ</strong>ï¼šæ™®é€šè¯»è€…å¯ä»¥å€Ÿé˜…çš„æ—¥å¸¸ä¹¦ç±ï¼ˆå¦‚å±å¹•äº®åº¦ã€è¶…æ—¶è®¾ç½®ï¼‰</li>
</ol>
<p>åœ¨è¿™ä¸ªå›¾ä¹¦é¦†é‡Œï¼Œ<strong>SettingsProvider</strong>å°±æ˜¯é‚£ä¸ªè´Ÿè´£ç®¡ç†æ‰€æœ‰ä¹¦ç±çš„<strong>ç®¡ç†å‘˜</strong>ã€‚å½“åº”ç”¨æƒ³è¦æŸ¥çœ‹æˆ–ä¿®æ”¹æŸæœ¬ä¹¦çš„å†…å®¹æ—¶ï¼Œ<strong>ä¸èƒ½ç›´æ¥å»ä¹¦æ¶ä¸Šç¿»é˜…</strong>ï¼Œå¿…é¡»<strong>é€šè¿‡ç®¡ç†å‘˜</strong>æ¥æ“ä½œã€‚</p>
<h2 data-id="heading-1">ğŸ§‘â€ğŸ’» ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Ÿ</h2>
<p>åœ¨Androidç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿè®¾ç½®æ•°æ®å­˜å‚¨åœ¨<code>/data/system/users/0/</code>ç›®å½•ä¸‹çš„XMLæ–‡ä»¶ä¸­ï¼ˆå¦‚<code>settings_system.xml</code>ã€<code>settings_global.xml</code>ã€<code>settings_secure.xml</code>ï¼‰ã€‚ä½†<strong>ç›´æ¥æ“ä½œè¿™äº›æ–‡ä»¶æ˜¯å±é™©çš„</strong>ï¼Œå°±åƒä½ ä¸èƒ½ç›´æ¥å»å›¾ä¹¦é¦†çš„åå°ä¿®æ”¹ä¹¦æ¶ä¸Šçš„æ ‡ç­¾ä¸€æ ·ã€‚</p>
<p>ç³»ç»Ÿè®¾è®¡è€…èªæ˜åœ°å°†è¿™äº›è®¾ç½®å°è£…åœ¨<strong>ContentProvider</strong>ä¸­ï¼Œé€šè¿‡<strong>ContentResolver</strong>æ¥å£æä¾›å®‰å…¨çš„è®¿é—®æ–¹å¼ã€‚è¿™å°±åƒå›¾ä¹¦é¦†ç®¡ç†å‘˜ï¼Œåªå…è®¸è¯»è€…é€šè¿‡å€Ÿé˜…å•ï¼ˆContentResolverï¼‰æ¥å€Ÿé˜…ä¹¦ç±ï¼ˆSettingsï¼‰ï¼Œè€Œä¸èƒ½ç›´æ¥æ¥è§¦ä¹¦æ¶ã€‚</p>
<h2 data-id="heading-2">ğŸ“Œ æ ¸å¿ƒåŸç†ï¼šContentProviderä¸ContentResolver</h2>
<p><strong>SettingsProvider</strong>æ˜¯Androidæ¡†æ¶ä¸­çš„ä¸€ä¸ªContentProviderï¼Œå®ƒè´Ÿè´£ç®¡ç†Settingsæ•°æ®åº“ã€‚å½“åº”ç”¨æƒ³è¦è¯»å–æˆ–ä¿®æ”¹è®¾ç½®æ—¶ï¼Œéœ€è¦é€šè¿‡<strong>ContentResolver</strong>å‘SettingsProviderå‘å‡ºè¯·æ±‚ã€‚</p>
<p>è¿™å°±åƒä½ å»å›¾ä¹¦é¦†å€Ÿä¹¦ï¼š</p>
<ol>
<li>ä½ å‘ç®¡ç†å‘˜ï¼ˆContentResolverï¼‰æå‡ºè¯·æ±‚ï¼š"æˆ‘æƒ³å€Ÿã€Šå±å¹•äº®åº¦è°ƒæ•´æŒ‡å—ã€‹"</li>
<li>ç®¡ç†å‘˜æ£€æŸ¥ä½ çš„æƒé™</li>
<li>å¦‚æœæƒé™å…è®¸ï¼Œç®¡ç†å‘˜ä»ä¹¦æ¶ï¼ˆæ•°æ®åº“ï¼‰ä¸­å–å‡ºä¹¦ï¼ˆè®¾ç½®å€¼ï¼‰</li>
<li>ä½ æ‹¿åˆ°ä¹¦ï¼ˆè®¾ç½®å€¼ï¼‰ï¼Œå¹¶æŒ‰è¦æ±‚é˜…è¯»/ä¿®æ”¹</li>
</ol>
<h2 data-id="heading-3">ğŸ§ª ä»£ç ç¤ºä¾‹ï¼šå¦‚ä½•"å€Ÿé˜…"å’Œ"å½’è¿˜"ä¹¦ç±</h2>
<h3 data-id="heading-4">1. è¯»å–è®¾ç½®ï¼ˆè·å–ä¹¦ç±ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æƒ³è¦è·å–å±å¹•è¶…æ—¶è®¾ç½®ï¼ˆä¹¦åï¼šscreen_off_timeoutï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">screenTimeout</span> <span class="hljs-operator">=</span> Settings.System.getInt(
    getContentResolver(), 
    Settings.System.SCREEN_OFF_TIMEOUT, 
    <span class="hljs-number">30000</span> <span class="hljs-comment">// é»˜è®¤å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°è®¾ç½®åˆ™è¿”å›30ç§’</span>
);
</code></pre>
<h3 data-id="heading-5">2. å†™å…¥è®¾ç½®ï¼ˆä¿®æ”¹ä¹¦ç±å†…å®¹ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿®æ”¹å±å¹•è¶…æ—¶è®¾ç½®ä¸º120ç§’ï¼ˆä¹¦åï¼šscreen_off_timeoutï¼‰</span>
<span class="hljs-comment">// æ³¨æ„ï¼šéœ€è¦WRITE_SETTINGSæƒé™</span>
<span class="hljs-keyword">if</span> (Settings.System.canWrite(<span class="hljs-built_in">this</span>)) {
    Settings.System.putInt(
        getContentResolver(),
        Settings.System.SCREEN_OFF_TIMEOUT,
        <span class="hljs-number">120000</span> <span class="hljs-comment">// 120ç§’</span>
    );
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// è¯·æ±‚æƒé™</span>
    <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(Settings.ACTION_MANAGE_WRITE_SETTINGS);
    intent.setData(Uri.parse(<span class="hljs-string">"package:"</span> + getPackageName()));
    startActivityForResult(intent, REQUEST_WRITE_SETTINGS);
}
</code></pre>
<h2 data-id="heading-6">ğŸ” æƒé™ç³»ç»Ÿï¼šå›¾ä¹¦é¦†çš„ä¿å®‰</h2>
<p>åœ¨å›¾ä¹¦é¦†ä¸­ï¼Œä¸åŒåŒºåŸŸçš„ä¹¦ç±æœ‰ä¸åŒçš„è®¿é—®æƒé™ï¼š</p>
<p>è¡¨æ ¼</p>

























<table><thead><tr><th>åŒºåŸŸ</th><th>è®¿é—®æƒé™</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>Global</td><td>ä»»ä½•åº”ç”¨</td><td>é£è¡Œæ¨¡å¼</td></tr><tr><td>System</td><td>éœ€è¦WRITE_SETTINGSæƒé™</td><td>å±å¹•äº®åº¦ã€è¶…æ—¶</td></tr><tr><td>Secure</td><td>éœ€è¦ç³»ç»Ÿç­¾å/ç³»ç»Ÿåº”ç”¨æƒé™</td><td>ä½ç½®æœåŠ¡ã€ç”Ÿç‰©è¯†åˆ«</td></tr></tbody></table>
<p>å°±åƒå›¾ä¹¦é¦†ä¿å®‰ä¸€æ ·ï¼ŒAndroidç³»ç»Ÿä¼šæ£€æŸ¥ä½ çš„"è¯»è€…è¯"ï¼ˆæƒé™ï¼‰æ˜¯å¦å…è®¸ä½ è¿›å…¥ç‰¹å®šåŒºåŸŸã€‚</p>
<h2 data-id="heading-7">ğŸ“… æ—¶åºå›¾ï¼šæ•´ä¸ªè°ƒç”¨è¿‡ç¨‹</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ—¶åºå›¾ï¼Œæè¿°äº†ä»åº”ç”¨è°ƒç”¨<code>Settings.System.putInt</code>åˆ°ç³»ç»Ÿè®¾ç½®è¢«ä¿®æ”¹çš„å…¨è¿‡ç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc57735953e34cb1ad342f5978a814a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5kcm9pZOerpeivnemVhw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557255&amp;x-signature=fqbIP18vG0nBJxhUGMVcWzifgb0%3D" alt="tongyi-mermaid-2026-01-09-175254.png" loading="lazy"/></p>
<h2 data-id="heading-8">ğŸŒ è¯¦ç»†è¿‡ç¨‹è§£æ</h2>
<ol>
<li>
<p><strong>åº”ç”¨å‘èµ·è¯·æ±‚</strong>ï¼šåº”ç”¨è°ƒç”¨<code>Settings.System.putInt()</code>æ–¹æ³•ï¼Œä¼ é€’éœ€è¦è®¾ç½®çš„é”®ï¼ˆå¦‚<code>SCREEN_OFF_TIMEOUT</code>ï¼‰å’Œå€¼ï¼ˆ120000ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æƒé™æ£€æŸ¥</strong>ï¼š<code>Settings.System.putInt()</code>å†…éƒ¨ä¼šæ£€æŸ¥åº”ç”¨æ˜¯å¦æ‹¥æœ‰<code>WRITE_SETTINGS</code>æƒé™ï¼ˆAndroid 6.0+éœ€è¦åŠ¨æ€ç”³è¯·ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ContentResolverè½¬å‘</strong>ï¼šå¦‚æœæƒé™æ£€æŸ¥é€šè¿‡ï¼ŒContentResolverä¼šå°†è¯·æ±‚è½¬å‘ç»™SettingsProviderã€‚</p>
</li>
<li>
<p><strong>SettingsProviderå¤„ç†</strong>ï¼š</p>
<ul>
<li>é€šè¿‡<code>ContentResolver</code>çš„<code>insert()</code>æˆ–<code>update()</code>æ–¹æ³•</li>
<li>æ£€æŸ¥æƒé™ï¼ˆå¯¹äºSecureåŸŸï¼Œéœ€è¦ç³»ç»Ÿç­¾åï¼‰</li>
<li>åœ¨å†…å­˜ä¸­æ›´æ–°è®¾ç½®</li>
<li>å°†æ›´æ–°å†™å…¥XMLæ–‡ä»¶ï¼ˆå¦‚<code>settings_system.xml</code>ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šSettingsProviderå°†æ›´æ–°ä¿å­˜åˆ°å¯¹åº”çš„XMLæ–‡ä»¶ä¸­ï¼Œç³»ç»Ÿé‡å¯åä¼šè‡ªåŠ¨åŠ è½½è¿™äº›è®¾ç½®ã€‚</p>
</li>
</ol>
<h2 data-id="heading-9">ğŸ’¡ ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥æ“ä½œXMLæ–‡ä»¶ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ ç›´æ¥å»å›¾ä¹¦é¦†çš„åå°ä¿®æ”¹ä¹¦æ¶æ ‡ç­¾ï¼š</p>
<ul>
<li>ä½ å¯èƒ½ä¼šä¸å°å¿ƒä¿®æ”¹é”™è¯¯çš„æ ‡ç­¾</li>
<li>ä½ å¯èƒ½ä¼šåœ¨å›¾ä¹¦é¦†ç¹å¿™æ—¶è¿›è¡Œä¿®æ”¹ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´</li>
<li>æ²¡æœ‰æƒé™æ£€æŸ¥ï¼Œä»»ä½•äººéƒ½å¯ä»¥éšæ„ä¿®æ”¹</li>
</ul>
<p>é€šè¿‡SettingsProviderï¼Œç³»ç»Ÿç¡®ä¿äº†ï¼š</p>
<ol>
<li>æ‰€æœ‰ä¿®æ”¹éƒ½ç»è¿‡æƒé™æ£€æŸ¥</li>
<li>æ‰€æœ‰ä¿®æ”¹éƒ½é€šè¿‡ä¸€è‡´çš„APIè¿›è¡Œ</li>
<li>ç³»ç»Ÿå¯ä»¥ç›‘æ§å’Œè®°å½•æ‰€æœ‰è®¾ç½®å˜æ›´</li>
</ol>
<h2 data-id="heading-10">ğŸ§ª å®é™…æ¡ˆä¾‹ï¼šå¼€æœºè‡ªåŠ¨è®¾ç½®</h2>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨è®¾å¤‡å¼€æœºåè‡ªåŠ¨å…³é—­é£è¡Œæ¨¡å¼ï¼Œå¯ä»¥åœ¨<code>init.rc</code>ä¸­æ·»åŠ è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨init.rcä¸­æ·»åŠ </span>
on property:dev.bootcomplete=1
    <span class="hljs-built_in">exec</span> /system/bin/set_flight_mode.sh
</code></pre>
<p><code>/system/bin/set_flight_mode.sh</code>è„šæœ¬å†…å®¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/system/bin/sh</span>
<span class="hljs-built_in">sleep</span> 10  <span class="hljs-comment"># ç­‰å¾…ç³»ç»ŸæœåŠ¡å¯åŠ¨</span>
settings put global airplane_mode_on 0
</code></pre>
<p>è¿™ä¸ªè„šæœ¬åœ¨ç³»ç»Ÿå¯åŠ¨å®Œæˆåæ‰§è¡Œï¼Œé€šè¿‡<code>settings put</code>å‘½ä»¤ä¿®æ”¹é£è¡Œæ¨¡å¼è®¾ç½®ã€‚</p>
<h2 data-id="heading-11">ğŸ“Œ é‡è¦æ€»ç»“</h2>
<ol>
<li><strong>SettingsProvideræ˜¯ContentProvider</strong>ï¼šå®ƒé€šè¿‡ContentResolveræä¾›å®‰å…¨çš„è®¿é—®æ¥å£</li>
<li><strong>æƒé™è‡³å…³é‡è¦</strong>ï¼šä¸åŒè®¾ç½®åŸŸéœ€è¦ä¸åŒæƒé™</li>
<li><strong>ä¸èƒ½ç›´æ¥æ“ä½œæ–‡ä»¶</strong>ï¼šå¿…é¡»é€šè¿‡ContentProvider</li>
<li><strong>ç³»ç»Ÿé‡å¯åè‡ªåŠ¨åŠ è½½</strong>ï¼šè®¾ç½®å€¼ä¼šæŒä¹…åŒ–åˆ°XMLæ–‡ä»¶</li>
<li><strong>Android 6.0+éœ€è¦åŠ¨æ€æƒé™</strong>ï¼šWRITE_SETTINGSæƒé™éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æˆæƒ</li>
</ol>
<h2 data-id="heading-12">ğŸ’¬ ç³»ç»Ÿæ¶æ„å¸ˆçš„å»ºè®®</h2>
<p>ä½œä¸ºAndroidç³»ç»Ÿæ¶æ„å¸ˆï¼Œæˆ‘ç»å¸¸å¯¹æ–°æ¥çš„å¼€å‘è€…è¯´ï¼š"<strong>ä¸è¦è¯•å›¾ç»•è¿‡SettingsProviderç›´æ¥ä¿®æ”¹è®¾ç½®ï¼Œè¿™å°±åƒè¯•å›¾ç»•è¿‡å›¾ä¹¦é¦†ç®¡ç†å‘˜ç›´æ¥ä¿®æ”¹ä¹¦æ¶æ ‡ç­¾â€”â€”çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™å±é™©ã€‚</strong> "</p>
<p>è®°ä½ï¼šAndroidçš„ç³»ç»Ÿè®¾è®¡æœ‰å…¶æ·±æ„ï¼Œéµå¾ªå®˜æ–¹APIä¸ä»…èƒ½ä¿è¯åº”ç”¨çš„ç¨³å®šæ€§ï¼Œè¿˜èƒ½ç¡®ä¿åº”ç”¨åœ¨ä¸åŒAndroidç‰ˆæœ¬ä¸Šçš„å…¼å®¹æ€§ã€‚</p>
<p>ç°åœ¨ï¼Œä½ å·²ç»æŒæ¡äº†Settingsç³»ç»Ÿçš„æ ¸å¿ƒåŸç†ï¼Œå¯ä»¥åƒå›¾ä¹¦é¦†ç®¡ç†å‘˜ä¸€æ ·ï¼Œå®‰å…¨ã€é«˜æ•ˆåœ°ç®¡ç†Androidç³»ç»Ÿçš„å„ç§è®¾ç½®å•¦ï¼ğŸ“šâœ¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[npm pack ä¸€é”®æ„å»ºnpmç¦»çº¿åŒ…]]></title>    <link>https://juejin.cn/post/7593171168258506761</link>    <guid>https://juejin.cn/post/7593171168258506761</guid>    <pubDate>2026-01-09T08:42:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593171168258506761" data-draft-id="7592996072706228274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="npm pack ä¸€é”®æ„å»ºnpmç¦»çº¿åŒ…"/> <meta itemprop="keywords" content="NPM"/> <meta itemprop="datePublished" content="2026-01-09T08:42:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°±çŸ¥é“ä½ æ˜¯æˆå¿ƒçš„"/> <meta itemprop="url" content="https://juejin.cn/user/1480370650090200"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            npm pack ä¸€é”®æ„å»ºnpmç¦»çº¿åŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1480370650090200/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°±çŸ¥é“ä½ æ˜¯æˆå¿ƒçš„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:42:42.000Z" title="Fri Jan 09 2026 08:42:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>npm pack å‘½ä»¤</strong></p>
<p>npm pack å‘½ä»¤æ˜¯ npm åŒ…ç®¡ç†å™¨çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œä¸“é—¨ç”¨äºç”Ÿæˆç¦»çº¿ npm æ¨¡å—æˆ–ä¾èµ–åŒ…ã€‚å®ƒçš„å·¥ä½œåŸç†ååˆ†ç®€å•ï¼šå®ƒä¼šéå† node_modules ç›®å½•ï¼ŒæŸ¥æ‰¾æ‰€æœ‰ package.json æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œ npm pack å‘½ä»¤ç”Ÿæˆå‹ç¼©æ–‡ä»¶ã€‚è¿™äº›å‹ç¼©æ–‡ä»¶åŒ…å«äº†æ¨¡å—åŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå¯ä»¥ç‹¬ç«‹äº npm ä»“åº“è¿›è¡Œå®‰è£…å’Œä½¿ç”¨ã€‚</p>
<p><code>my-app/scripts</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eac6666c4bac4d6e892c62ce990e3aa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=FCqXZBdsyBwX0McIItdaUhLLcKM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0"><code>build.sh</code>æ–‡ä»¶</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4284d5df76fd450abc92ba4eae184a0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=j5hh1O4SYhQiYG%2FacqXyOIxr6UA%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-shell" lang="shell">set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

curDir=$(readlink -f "$(dirname "$0")")

cd $curDir/../

echo "ğŸ“¦ å®‰è£…ä¾èµ–..."

yarn

echo "ğŸ”¨ å¼€å§‹æ„å»º..."

yarn build

echo "âœ… æ„å»ºå®Œæˆï¼"
</code></pre>
<p>è¿™å‡ è¡Œä»£ç æ˜¯ä¸€ä¸ª<strong>é¡¹ç›®æ„å»ºè‡ªåŠ¨åŒ–è„šæœ¬</strong>ï¼Œå®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½å®šä½</strong>ï¼šè‡ªåŠ¨æ‰¾åˆ°è„šæœ¬æ‰€åœ¨çš„å‡†ç¡®ä½ç½®</li>
<li><strong>ç›®å½•åˆ‡æ¢</strong>ï¼šç¡®ä¿åœ¨æ­£ç¡®çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šè‡ªåŠ¨å®‰è£…é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–</li>
<li><strong>æ„å»ºæ‰§è¡Œ</strong>ï¼šè¿è¡Œé¡¹ç›®çš„æ„å»ºæµç¨‹</li>
</ol>
<h2 data-id="heading-1"><code>pack.sh</code> æ–‡ä»¶</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e45948f3f504b658c46649a0f108a18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=Lbl6LAs0JDUc9VbV%2BoO898YEXP0%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/bin/bash</span>
<span class="hljs-meta prompt_">
# </span><span class="bash">é”™è¯¯æ—¶ç«‹å³é€€å‡º</span>
set -e
<span class="hljs-meta prompt_">
# </span><span class="bash">è·å–è„šæœ¬æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„</span>
curDir=$(readlink -f "$(dirname "$0")")

echo "ğŸš€ å¼€å§‹æ‰“åŒ…æµç¨‹..."
echo "å½“å‰è„šæœ¬ç›®å½•: $curDir"
<span class="hljs-meta prompt_">
# </span><span class="bash">1. é‡æ–°ç¼–è¯‘é¡¹ç›®</span>
echo "ğŸ”„ é‡æ–°ç¼–è¯‘é¡¹ç›®..."
sh $curDir/build.sh
<span class="hljs-meta prompt_">
# </span><span class="bash">2. æ›´æ–°ç‰ˆæœ¬å·ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬</span>
echo "ğŸ“¦ æ›´æ–°ç‰ˆæœ¬å·..."
npm version prerelease --preid=alpha --no-git-tag-version
current_version=$(node -p "require('$curDir/../package.json').version")
echo "æ–°ç‰ˆæœ¬å·: $current_version"
<span class="hljs-meta prompt_">
# </span><span class="bash">3. å¤åˆ¶ package.json åˆ° dist ç›®å½•</span>
echo "ğŸ“ å¤åˆ¶ package.json..."
cp $curDir/../package.json $curDir/../dist/
<span class="hljs-meta prompt_">
# </span><span class="bash">4. è¿›å…¥ dist ç›®å½•</span>
cd $curDir/../dist
echo "åˆ‡æ¢åˆ°ç›®å½•: $(pwd)"
<span class="hljs-meta prompt_">
# </span><span class="bash">5. ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œæ·»åŠ æœ¬åœ°æ—¶é—´æˆ³</span>
echo "â° æ·»åŠ æœ¬åœ°æ—¶é—´æˆ³..."
timestamp=$(date +%Y%m%d%H%M%S)
echo "æ—¶é—´æˆ³: $timestamp"
<span class="hljs-meta prompt_">
# </span><span class="bash">ä¿®æ­£ sed å‘½ä»¤ï¼Œæ­£ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼</span>
sed -i "s/\"version\": \".*-alpha\.[0-9]*\"/&amp;.local.$timestamp/" package.json
<span class="hljs-meta prompt_">
# </span><span class="bash">éªŒè¯ä¿®æ”¹ç»“æœ</span>
final_version=$(node -p "require('./package.json').version")
echo "æœ€ç»ˆç‰ˆæœ¬å·: $final_version"
<span class="hljs-meta prompt_">
# </span><span class="bash">6. æ‰“åŒ…</span>
echo "ğŸ“¦ å¼€å§‹æ‰“åŒ…..."
npm pack
<span class="hljs-meta prompt_">
# </span><span class="bash">æ˜¾ç¤ºç”Ÿæˆçš„æ–‡ä»¶</span>
echo "âœ… æ‰“åŒ…å®Œæˆï¼ç”Ÿæˆæ–‡ä»¶:"
ls -la *.tgz
</code></pre>
<p><code>pubilsh.sh</code>æ–‡ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cded9bcb2db4806903bc264eb08d1d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=CE5Fi7EWJQGTRVfIR8RGJPrbSp0%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡ CompletableFuture è¯¯ç”¨ï¼Œå¦‚ä½•è€—å°½ IO çº¿ç¨‹æ± å¹¶æ‹–å®æ•´ä¸ªç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7593181244708569140</link>    <guid>https://juejin.cn/post/7593181244708569140</guid>    <pubDate>2026-01-09T09:56:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593181244708569140" data-draft-id="7593193235250642996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡ CompletableFuture è¯¯ç”¨ï¼Œå¦‚ä½•è€—å°½ IO çº¿ç¨‹æ± å¹¶æ‹–å®æ•´ä¸ªç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯,Java,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-01-09T09:56:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PPPHUANG"/> <meta itemprop="url" content="https://juejin.cn/user/3083464300298525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡ CompletableFuture è¯¯ç”¨ï¼Œå¦‚ä½•è€—å°½ IO çº¿ç¨‹æ± å¹¶æ‹–å®æ•´ä¸ªç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3083464300298525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PPPHUANG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:56:54.000Z" title="Fri Jan 09 2026 09:56:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€æ¬¡çœ‹ä¼¼æ— å®³çš„ <code>CompletableFuture.thenApply</code> ä½¿ç”¨ï¼Œå› ä¸ºåœ¨å›è°ƒä¸­æ‰§è¡Œäº†åŒæ­¥ RPCï¼Œå¯¼è‡´ RPC æ¡†æ¶çº¿ç¨‹è¢«é˜»å¡ï¼Œ æœ€ç»ˆå¼•å‘ CompletableFuture æ— æ³•å®Œæˆã€HTTP çº¿ç¨‹æ± è€—å°½çš„çº§è”é›ªå´©ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€æ•…éšœç°è±¡ï¼šä¸æ˜¯æ…¢ï¼Œè€Œæ˜¯â€œç³»ç»Ÿä¸åŠ¨äº†â€</strong></h2>
<p>çº¿ä¸ŠæœåŠ¡çªç„¶å‡ºç°å¤§é¢ç§¯è¶…æ—¶ï¼ŒQPS æ€¥å‰§ä¸‹é™ï¼Œä½† CPU ä½¿ç”¨ç‡å¹¶ä¸é«˜ã€‚</p>
<p>ç¬¬ä¸€ååº”æ˜¯æ…¢æ¥å£ï¼Œä½†å¾ˆå¿«å‘ç°äº‹æƒ…ä¸å¯¹ï¼š</p>
<ul>
<li>Tomcat çº¿ç¨‹æ± å¤§é‡çº¿ç¨‹å¤„äº <strong>WAITING</strong></li>
<li>è¯·æ±‚å¹¶æ²¡æœ‰æ˜æ˜¾çš„æ…¢ç‚¹</li>
<li>é‡å¯åçŸ­æ—¶é—´æ¢å¤ï¼Œæµé‡ä¸Šå‡å†æ¬¡é›ªå´©</li>
</ul>
<p>Thread Dump ä¸­ï¼Œå‡ ä¹æ‰€æœ‰ä¸šåŠ¡çº¿ç¨‹éƒ½å¡åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java.lang.Thread.State:Â WAITINGÂ (parking)
Â Â Â Â atÂ sun.misc.Unsafe.park(NativeÂ Method)
Â Â Â Â atÂ java.util.concurrent.locks.LockSupport.park
Â Â Â Â atÂ java.util.concurrent.CompletableFuture.waitingGet
Â Â Â Â atÂ java.util.concurrent.CompletableFuture.<span class="hljs-built_in">join</span>
Â Â Â Â atÂ UserListFetcher.getInfos
</code></pre>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€åˆæ­¥æ’æŸ¥ï¼šè°åœ¨ç­‰ï¼Ÿåœ¨ç­‰ä»€ä¹ˆï¼Ÿ</strong></h2>
<p>UserListFetcher.getInfos ä½¿ç”¨äº†å…¸å‹çš„å¹¶è¡Œèšåˆæ¨¡å¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">CompletableFuture<span class="hljs-selector-class">.allOf</span>(cfA,Â cfB,Â cfC)<span class="hljs-selector-class">.join</span>();
</code></pre>
<p>ä¹ä¸€çœ‹é€»è¾‘å®Œå…¨åˆç†ï¼š</p>
<p>å¹¶è¡Œè¯·æ±‚å¤šä¸ªä¸‹æ¸¸ï¼Œå…¨éƒ¨å®Œæˆåèšåˆç»“æœã€‚</p>
<p>ä½†é—®é¢˜åœ¨äºï¼š</p>
<p><strong>å…¶ä¸­æœ‰ä¸€éƒ¨åˆ† CompletableFuture å¾ˆä¹…æ²¡æœ‰å®Œæˆã€‚</strong></p>
<hr/>
<h2 data-id="heading-2"><strong>ä¸‰ã€è‡´å‘½ä»£ç ï¼šå›è°ƒé‡Œå†™äº†â€œçœ‹èµ·æ¥å¾ˆæ­£å¸¸â€çš„é€»è¾‘</strong></h2>
<p>é—®é¢˜å‡ºåœ¨æŸä¸ªå­è°ƒç”¨çš„å®ç°ä¸­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span>Â <span class="hljs-title class_">CompletableFuture</span>&lt;<span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Long</span>,Â <span class="hljs-title class_">UserReturnDto</span>&gt;&gt;Â <span class="hljs-title function_">getUserReturnMapCf</span>(<span class="hljs-params">...</span>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â asyncExecutor.<span class="hljs-title function_">async</span>(...)
Â Â Â Â Â Â Â Â .<span class="hljs-title function_">thenApply</span>(resultÂ -&gt;Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">dealAfter</span>(result);
Â Â Â Â Â Â Â Â });
}

<span class="hljs-keyword">private</span>Â <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Long</span>,Â <span class="hljs-title class_">UserReturnDto</span>&gt;Â <span class="hljs-title function_">dealAfter</span>(<span class="hljs-params">...</span>)Â {
Â Â Â Â <span class="hljs-comment">//Â åŒæ­¥Â RPCÂ è°ƒç”¨</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â extServer.<span class="hljs-title function_">getInfos</span>(...);
}
</code></pre>
<p>ä»£ç æœ¬èº«<strong>æ²¡æœ‰æ˜æ˜¾é”™è¯¯</strong>ï¼Œ</p>
<ul>
<li>ä½¿ç”¨äº†å¼‚æ­¥ RPC</li>
<li>ä½¿ç”¨äº† CompletableFuture</li>
<li>é€»è¾‘æ¸…æ™°ã€å¯è¯»æ€§ä¹Ÿä¸é”™</li>
</ul>
<p>ä½†è¿™é‡Œéšè—ç€ä¸€ä¸ª</p>
<p><strong>å¯¹ CompletableFuture çº¿ç¨‹æ¨¡å‹çš„è‡´å‘½è¯¯è§£</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>å››ã€thenApply åˆ°åº•åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œï¼Ÿ</strong></h2>
<blockquote>
<p>CompletableFuture.thenApply / thenAccept</p>
</blockquote>
<blockquote>
<p>å¹¶ä¸ä¿è¯è¿è¡Œåœ¨â€œä¸šåŠ¡çº¿ç¨‹æ± â€ä¸­ã€‚</p>
</blockquote>
<p>å®ƒçš„æ‰§è¡Œçº¿ç¨‹å–å†³äº <strong>ä¸Šä¸€ä¸ªé˜¶æ®µæ˜¯åœ¨å“ªä¸ªçº¿ç¨‹å®Œæˆçš„</strong>ã€‚</p>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼ŒçœŸå®æ‰§è¡Œæµç¨‹æ˜¯ï¼š</p>
<ol>
<li>å‘èµ·å¼‚æ­¥ RPC</li>
<li>Future æœªå®Œæˆï¼Œæ³¨å†Œå›è°ƒ</li>
<li>RPC å“åº”è¿”å›</li>
<li><strong>RPC / Netty IO çº¿ç¨‹</strong> æ ‡è®° Future å®Œæˆ</li>
<li><strong>åŒä¸€ä¸ª IO çº¿ç¨‹ç«‹å³æ‰§è¡Œ thenApply</strong></li>
<li>thenApply å›è°ƒä¸­æ‰§è¡ŒåŒæ­¥ RPC</li>
<li>RPC çº¿ç¨‹è¿›å…¥ WAITING çŠ¶æ€ âŒ</li>
</ol>
<hr/>
<h2 data-id="heading-4"><strong>äº”ã€é›ªå´©æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Ÿ</strong></h2>
<p>ä»ç³»ç»Ÿè§†è§’çœ‹ï¼Œè¿™æ˜¯ä¸€æ¡éå¸¸å…¸å‹çš„çº¿ç¨‹è€—å°½é“¾è·¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">HTTPÂ Thread
Â Â Â Â |
Â Â Â Â v
CompletableFuture.<span class="hljs-built_in">join</span>()
Â Â Â Â |
Â Â Â Â v
ç­‰å¾…å­Â FutureÂ å®Œæˆ
Â Â Â Â |
Â Â Â Â v
å­Â FutureÂ å›è°ƒè¿è¡Œåœ¨Â IOÂ çº¿ç¨‹
Â Â Â Â |
Â Â Â Â v
IOÂ çº¿ç¨‹è¢«åŒæ­¥Â RPCÂ é˜»å¡
Â Â Â Â |
Â Â Â Â v
æ›´å¤šÂ RPCÂ å›è°ƒæ— æ³•æ‰§è¡Œ
Â Â Â Â |
Â Â Â Â v
æ›´å¤šÂ FutureÂ æ— æ³•å®Œæˆ
Â Â Â Â |
Â Â Â Â v
HTTPÂ çº¿ç¨‹æ± è€—å°½
</code></pre>
<p>å½“RPC IO çº¿ç¨‹æ± è¢«ä¸šåŠ¡é€»è¾‘å æ»¡æ—¶ï¼š</p>
<ul>
<li>æ–°çš„ RPC å“åº”æ— æ³•è¢«å¤„ç†</li>
<li>Future æ°¸è¿œä¸ä¼šå®Œæˆ</li>
<li>ä¸Šæ¸¸ join() æ°¸è¿œä¸ä¼šè¿”å›</li>
</ul>
<blockquote>
<p>è¿™ä¸æ˜¯â€œæ…¢â€ï¼Œè€Œæ˜¯â€œååé‡å½’é›¶â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5"><strong>å…­ã€ç´§æ€¥ä¿®å¤ï¼šIO çº¿ç¨‹éš”ç¦»ï¼ˆç«‹åˆ»æ­¢è¡€ï¼‰</strong></h2>
<p>æœ€ç›´æ¥ã€ä¹Ÿæ˜¯æœ€å®‰å…¨çš„ä¿®å¤æ–¹å¼ï¼š</p>
<blockquote>
<p>æ˜ç¡®æŒ‡å®šå›è°ƒæ‰§è¡Œçº¿ç¨‹æ± </p>
</blockquote>
<h3 data-id="heading-6"><strong>âŒ ä¿®å¤å‰ï¼ˆå±é™©ï¼‰</strong></h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">asyncExecutor</span><span class="hljs-selector-class">.async</span>(...)
Â Â Â Â <span class="hljs-selector-class">.thenApply</span>(resÂ -&gt;Â otherRpcService.<span class="hljs-built_in">getData</span>(res.<span class="hljs-built_in">getId</span>()));
</code></pre>
<h3 data-id="heading-7"><strong>âœ… ä¿®å¤åï¼ˆå®‰å…¨ï¼‰</strong></h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">asyncExecutor</span><span class="hljs-selector-class">.async</span>(...)
Â Â Â Â <span class="hljs-selector-class">.thenApplyAsync</span>(
Â Â Â Â Â Â Â Â resÂ -&gt;Â otherRpcService.<span class="hljs-built_in">getData</span>(res.<span class="hljs-built_in">getId</span>()),
Â Â Â Â Â Â Â Â userBizExecutor
Â Â Â Â );
</code></pre>
<hr/>
<h2 data-id="heading-8"><strong>ä¸ƒã€é•¿æœŸæ²»ç†ï¼šç”¨ API è®¾è®¡â€œé˜²å‘†â€</strong></h2>
<p>è¿™æ¬¡äº‹æ•…æš´éœ²äº†ä¸€ä¸ªç°å®é—®é¢˜ï¼š</p>
<blockquote>
<p>â€œä¸è¦åœ¨å›è°ƒé‡Œå†™é˜»å¡ä»£ç â€</p>
</blockquote>
<p>ä½†æ˜¯è¿™ç§è§„èŒƒï¼Œè¿Ÿæ—©ä¼šè¢«è¿åã€‚</p>
<p>çœŸæ­£å¯é çš„æ²»ç†æ–¹å¼æ˜¯ï¼š</p>
<ol>
<li>IDE / ç¼–è¯‘æœŸå³æ—¶åé¦ˆ</li>
<li>ä¸ä¾èµ–äººçš„è‡ªè§‰</li>
</ol>
<h3 data-id="heading-9"><strong>7.1 å®‰å…¨ç‰ˆ CompletableFuture å°è£…</strong></h3>
<p>æˆ‘ä»¬å¯¹ RPC æ¡†æ¶ä½¿ç”¨çš„ CompletableFuture åšäº†ä¸€å±‚å°è£…ï¼š</p>
<ul>
<li>
<p><strong>ç¦ç”¨</strong> thenApply / thenAccept</p>
</li>
<li>
<p>å¼ºåˆ¶åŒºåˆ†ï¼š</p>
<ul>
<li>é˜»å¡é€»è¾‘ï¼ˆAsync + Executorï¼‰</li>
<li>éé˜»å¡é€»è¾‘ï¼ˆæ˜ç¡®å£°æ˜ï¼‰</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;T&gt;Â <span class="hljs-keyword">extends</span>Â <span class="hljs-title class_">CompletableFuture</span>&lt;T&gt;Â {

<span class="hljs-comment">/**
Â Â Â Â Â *Â å°†æ ‡å‡†çš„Â CompletableFutureÂ åŒ…è£…ä¸ºÂ RPCCompletableFutureã€‚
Â Â Â Â Â *Â è¿™æ ·å¯ä»¥ç¡®ä¿é“¾å¼è°ƒç”¨çš„æ¯ä¸€æ­¥éƒ½å—åˆ°Â RPCCompletableFutureÂ çš„å®‰å…¨æ£€æŸ¥ã€‚
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-keyword">static</span>Â &lt;U&gt;Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â <span class="hljs-title function_">wrap</span>(<span class="hljs-params">CompletableFuture&lt;U&gt;Â original</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â wrapperÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;&gt;();
Â Â Â Â Â Â Â Â original.<span class="hljs-title function_">whenComplete</span>((res,Â ex)Â -&gt;Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (exÂ !=Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wrapper.<span class="hljs-title function_">completeExceptionally</span>(ex);
Â Â Â Â Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wrapper.<span class="hljs-title function_">complete</span>(res);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â wrapper;
Â Â Â Â }
Â Â Â Â 
Â Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â â›”ï¸Â &lt;b&gt;å·²ç¦ç”¨æç¤º&lt;/b&gt;
Â Â Â Â Â *Â &lt;p&gt;
Â Â Â Â Â *Â è¯·ç¡®è®¤å›è°ƒé€»è¾‘æ˜¯å¦åŒ…å«Â IOÂ æ“ä½œï¼š
Â Â Â Â Â *Â -Â æœ‰Â IOÂ æ“ä½œï¼šè¯·æ”¹ç”¨Â {<span class="hljs-doctag">@link</span>Â #thenApplyAsync(Function,Â Executor)}ã€‚
Â Â Â Â Â *Â -Â æ— Â IOÂ æ“ä½œï¼ˆä»…å¯¹è±¡ç»„è£…ï¼‰ï¼šè¯·æ”¹ç”¨Â {<span class="hljs-doctag">@link</span>Â #thenApplyNonBlocking(Function)}ã€‚
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-meta">@Override</span>
Â Â Â Â <span class="hljs-meta">@Deprecated</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â &lt;U&gt;Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â <span class="hljs-title function_">thenApply</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">Function</span>&lt;?Â <span class="hljs-variable language_">super</span>Â T,Â ?Â <span class="hljs-keyword">extends</span>Â U&gt;Â fn</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">wrap</span>(<span class="hljs-variable language_">super</span>.<span class="hljs-title function_">thenApply</span>(fn));
Â Â Â Â }
Â <span class="hljs-comment">/**
Â Â Â Â Â *Â âœ…Â &lt;b&gt;æ— é˜»å¡å®‰å…¨è°ƒç”¨&lt;/b&gt;
Â Â Â Â Â *Â &lt;p&gt;
Â Â Â Â Â *Â ä»…å½“ç¡®ä¿¡å›è°ƒé€»è¾‘ä¸º&lt;b&gt;çº¯å†…å­˜æ“ä½œ&lt;/b&gt;ï¼ˆå¦‚å¯¹è±¡ç»„è£…ã€æ•°æ®è½¬æ¢ï¼‰ä¸”&lt;b&gt;æ‰§è¡Œæå¿«&lt;/b&gt;æ—¶ä½¿ç”¨ã€‚
Â Â Â Â Â */</span>
Â Â Â Â Â Â <span class="hljs-keyword">public</span>Â &lt;U&gt;Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â <span class="hljs-title function_">thenApplyNonBlocking</span>(<span class="hljs-params"><span class="hljs-built_in">Function</span>&lt;?Â <span class="hljs-variable language_">super</span>Â T,Â ?Â <span class="hljs-keyword">extends</span>Â U&gt;Â fn</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">wrap</span>(<span class="hljs-variable language_">super</span>.<span class="hljs-title function_">thenApply</span>(fn));
Â Â Â Â }
}
</code></pre>
<p>IDE ä¸­ï¼Œé”™è¯¯ç”¨æ³•ä¼šè¢«æ˜ç¡®æ ‡çº¢ï¼Œå¼ºåˆ¶å¼€å‘è€…æ€è€ƒçº¿ç¨‹æ¨¡å‹ï¼Œé€‰æ‹©æ­£ç¡®ç”¨æ³•ã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>å…«ã€é…å¥—æ²»ç†ï¼šç›‘æ§ä¸ Code Review</strong></h2>
<h3 data-id="heading-11"><strong>8.1 å¿…é¡»ç›‘æ§çš„æŒ‡æ ‡</strong></h3>
<ul>
<li>RPC IO çº¿ç¨‹æ± ï¼šActiveCountã€QueueSize</li>
<li>ä¸šåŠ¡çº¿ç¨‹æ± ï¼šé˜Ÿåˆ—é•¿åº¦</li>
<li>HTTP çº¿ç¨‹æ± ï¼šWAITING æ¯”ä¾‹</li>
</ul>
<h3 data-id="heading-12"><strong>8.2 Code Review Checklist</strong></h3>
<ul>
<li>å›è°ƒä¸­æ˜¯å¦åŒ…å« RPC / DB / Redisï¼Ÿ</li>
<li>æ˜¯å¦æ˜¾å¼æŒ‡å®š Executorï¼Ÿ</li>
<li>æ˜¯å¦å­˜åœ¨éšå¼é˜»å¡ï¼Ÿ</li>
<li>æ˜¯å¦æœ‰ä¸Šä¸‹æ–‡ä¸¢å¤±é£é™©ï¼Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-13"><strong>ä¹ã€æ€»ç»“</strong></h2>
<p>è¿™æ¬¡äº‹æ•…çš„æœ¬è´¨ä¸æ˜¯ CompletableFuture çš„ bugï¼Œ</p>
<p>è€Œæ˜¯<strong>çº¿ç¨‹æ¨¡å‹è¢«é”™è¯¯ç†è§£ï¼Œæˆ–è€…ä½¿ç”¨æ—¶æœ‰ç–å¿½</strong>ã€‚</p>
<p>å¯ä»¥å½’ç»“ä¸ºä¸‰æ¡ç»éªŒï¼š</p>
<ol>
<li>å¼‚æ­¥ä¸ç­‰äºå®‰å…¨ï¼Œçº¿ç¨‹æ¨¡å‹æ¯” API æ›´é‡è¦</li>
<li>ä»»ä½•ç³»ç»Ÿçº¿ç¨‹ï¼Œéƒ½ä¸åº”è¯¥æ‰¿è½½ä¸ç¡®å®šè€—æ—¶çš„éè¯¥çº¿ç¨‹èŒè´£å†…çš„ä¸šåŠ¡é€»è¾‘</li>
<li>æœ€å¥½çš„å¼€å‘è§„èŒƒï¼Œä¸æ˜¯æ–‡æ¡£ï¼Œæ˜¯ä»£ç å’Œå·¥å…·é“¾</li>
</ol>
<p>å¦‚æœä½ åœ¨ç³»ç»Ÿä¸­å¤§é‡ä½¿ç”¨å¼‚æ­¥ç¼–æ’ï¼Œè¿™ç±»é—®é¢˜è¿Ÿæ—©ä¼šå‡ºç°ã€‚</p>
<p>åŒºåˆ«åªåœ¨äºï¼š<strong>ä½ æ˜¯æå‰è®¾è®¡é˜²çº¿ï¼Œè¿˜æ˜¯ç­‰äº‹æ•…å¸®ä½ å¤ä¹ ä¸€éã€‚</strong></p>
<p>å…¬ä¼—å·ï¼š<strong>DailyHappy</strong>Â ä¸€ä½åç«¯å†™ç å¸ˆï¼Œä¸€ä½é»‘æš—æ–™ç†åˆ¶é€ è€…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…å­¦æ–‡ä»¶ç³»ç»Ÿ4(é¡µé¢ç¼“å­˜)]]></title>    <link>https://juejin.cn/post/7592921639463993386</link>    <guid>https://juejin.cn/post/7592921639463993386</guid>    <pubDate>2026-01-09T03:42:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592921639463993386" data-draft-id="7592884480731070510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…å­¦æ–‡ä»¶ç³»ç»Ÿ4(é¡µé¢ç¼“å­˜)"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-01-09T03:42:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç…¤çƒç‹å­"/> <meta itemprop="url" content="https://juejin.cn/user/4088439235949739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…å­¦æ–‡ä»¶ç³»ç»Ÿ4(é¡µé¢ç¼“å­˜)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4088439235949739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç…¤çƒç‹å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:42:06.000Z" title="Fri Jan 09 2026 03:42:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¡µé¢ç¼“å­˜ç®€è¿°</h2>
<p>é¡µé¢ç¼“å­˜(<strong><code>Page Cache</code></strong>)ï¼š Linuxå†…æ ¸ç®¡ç†çš„<code>ä¸€å—ç‰©ç†å†…å­˜</code>ï¼Œ é¡µé¢ç¼“å­˜â€”â€”å°±æ˜¯ç¼“å­˜ æ–‡ä»¶ç£ç›˜â€æ•°æ®å—â€œ å¯¹åº”çš„ç‰©ç†é¡µã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå«â€œé¡µé¢ç¼“å­˜â€ ï¼Œ ä¸å«â€œæ–‡ä»¶ç¼“å­˜â€ å‘¢ï¼Ÿ</strong></p>
<p>ç­”ï¼šä¸€ä¸ªæ–‡ä»¶åŒ…å«å¤šä¸ªæ•°æ®å—(4KB), æ¯ä¸ªæ•°æ®å—åŠ è½½åˆ°ç‰©ç†å†…å­˜æ—¶ï¼Œéœ€è¦ä¸€ä¸ªç‰©ç†é¡µ(page)ï¼Œ æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé¡µé¢ç¼“å­˜çš„å•ä½å°±æ˜¯ï¼šç‰©ç†é¡µ(4KB page)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/476085bfd6bf45418cdf237504d1bbe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=hcAv9kluF9o62HcKVaEgHF%2Bw82k%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é¡µé¢ç¼“å­˜çš„ç›®çš„ï¼š å‡å°‘ç¡¬ç›˜æˆ–ç£ç›˜çš„ I/O æ¬¡æ•°</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da0b1e0a2ea3426ab6c2f6b618c634bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=Tl2kG8bCd8%2FHBfx6AAgQ8eQ14cE%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li><code>inodeæ•£åˆ—è¡¨</code>:  ç¼“å­˜__å…ƒæ•°æ®ä¿¡æ¯</li>
<li><code>dcacheæ•£åˆ—è¡¨</code>: ç¼“å­˜__ç›®å½•çš„ç›®å½•é¡¹æ•°æ®ä¿¡æ¯</li>
<li><code>é¡µé¢ç¼“å­˜</code>:     ç¼“å­˜__æ–‡ä»¶çš„æ•°æ®å—ä¿¡æ¯</li>
</ol>
<blockquote>
<p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒLinuxå†…æ ¸ä¸ºäº†ä¼˜åŒ– I/O åšäº†å¾ˆå¤šï¼Œæäº† inodeæ•£åˆ—è¡¨ã€dcacheæ•£åˆ—è¡¨ã€é¡µé¢ç¼“å­˜</p>
</blockquote>
<h2 data-id="heading-1">é¡µé¢ç¼“å­˜ä¸­çš„æ•°æ®ç»“æ„</h2>
<h3 data-id="heading-2">address_space(åœ°å€ç©ºé—´)</h3>
<p><strong><code>address_space</code></strong> æ•°æ®ç»“æ„ ç”¨æ¥å»ºç«‹ ç¼“å­˜æ•°æ®__ä¸__å®ƒè‡ªå·±æ¥æºä¹‹é—´çš„å…³è”
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c0aacb2c7f44b7e92af5194103d2487~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=6W42a7BcNwwvhkS%2FmK1lL3HM1%2BM%3D" alt="image.png" loading="lazy"/>
ä¸Šå›¾ä¸¾ä¾‹ï¼šæ–‡ä»¶açš„_ç¬¬å››ä¸ªæ•°æ®å—åœ¨é¡µé¢ç¼“å­˜ä¸­çš„ä½ç½®, <code>æ–‡ä»¶açš„</code>: <strong>inode + æ•°æ®å—åç§»é‡</strong></p>
<p>ï¼ˆinode , offsetï¼‰ â€”â€” ï¼ˆaddress_sapce, offsetï¼‰</p>
<blockquote>
<p>å½“ç„¶ï¼ŒLinuxä¸ºäº†è®©é¡µé¢ç¼“å­˜æ›´é€šç”¨ï¼ŒæŠŠ inode ç”¨ address_space æ¥ä»£æ›¿ã€‚ å½“ç„¶å®ƒä»¬æ˜¯æœ‰å…³è”çš„ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c22d8a29139d4078b1dd0f564ad157b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=DrviWesxYeKY6WwRIVptHIVedWw%3D" alt="image.png" loading="lazy"/>
inode(ç´¢å¼•èŠ‚ç‚¹)ã€file(æ–‡ä»¶)  è¿™äº›ç»“æ„ä½“é‡Œé¢éƒ½æœ‰ <code>address_space</code> å˜é‡å®šä¹‰</p>
<pre><code class="hljs language-ini" lang="ini">struct  address_space {
    inode  *host<span class="hljs-comment">;  æ‰€å±é—®é¢˜</span>
    radix_tree_root  page_tree<span class="hljs-comment">;  ç»´æŠ¤æ‰€æœ‰ç¼“å­˜é¡µ(åŸºæ•°æ ‘)</span>
    long  nrpages<span class="hljs-comment">; æ€»å…±ç¼“å­˜pageä¸ªæ•°</span>
    
    rb_root  i_mmap<span class="hljs-comment">; å’Œå†…å­˜æ˜ å°„ç›¸å…³</span>
    void  *private_data<span class="hljs-comment">; ç§æœ‰æ•°æ®</span>
    
    address_space_operations   *a_ops<span class="hljs-comment">;  æ–¹æ³•æ“ä½œ</span>
    .......
}
</code></pre>
<h3 data-id="heading-3">address_space_operations(æ“ä½œæ–¹æ³•)</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">address_space_operations</span> {</span> 
<span class="hljs-comment">/* â‘  è¯»ï¼šç£ç›˜ â†’ é¡µé¢ç¼“å­˜ */</span> 
    <span class="hljs-comment">/* å•é¡µåŒæ­¥è¯»ï¼šç£ç›˜å†…å®¹å¡«åˆ° pageï¼Œè¿”å› 0/-EIO ç­‰ */</span> 
    <span class="hljs-type">int</span> (*readpage)(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-keyword">struct</span> page *page); 
    <span class="hljs-comment">/* æ‰¹é‡è¯»ï¼šä¸€æ¬¡æ€§æŠŠ pages é“¾è¡¨é‡Œçš„ nr_pages é¡µå…¨éƒ¨è¯»å…¥ */</span>
    <span class="hljs-type">int</span> (*readpages)(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-keyword">struct</span> list_head *pages, <span class="hljs-type">unsigned</span> nr_pages); 

<span class="hljs-comment">/* â‘¡ å†™ï¼šé¡µé¢ç¼“å­˜ â†’ ç£ç›˜ï¼ˆå›å†™ï¼‰ */</span> 
    <span class="hljs-comment">/* å•é¡µå›å†™ï¼šç”± flusher çº¿ç¨‹è°ƒç”¨ï¼ŒæŠŠè„é¡µå†™å›ç£ç›˜ */</span>
    <span class="hljs-type">int</span> (*writepage)(<span class="hljs-keyword">struct</span> page *page, <span class="hljs-keyword">struct</span> writeback_control *wbc);  
    <span class="hljs-comment">/* æ‰¹é‡å›å†™ï¼šæ‰«æ mapping çš„æ•´æ£µ radix/xarray æ ‘ï¼ŒæŠŠè„é¡µå†™å› */</span> 
    <span class="hljs-type">int</span> (*writepages)(<span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-keyword">struct</span> writeback_control *wbc); 

<span class="hljs-comment">/* â‘¢ æ ‡è®°è„é¡µ */</span> 
    <span class="hljs-comment">/* æŠŠé¡µè®¾ä¸ºè„ï¼Œé€šå¸¸ç”± __set_page_dirty_buffers è°ƒç”¨ */</span> 
    <span class="hljs-type">int</span> (*set_page_dirty)(<span class="hljs-keyword">struct</span> page *page); 

<span class="hljs-comment">/* â‘£ ç›´æ¥ I/Oï¼šç»•è¿‡é¡µé¢ç¼“å­˜ */</span> 
    <span class="hljs-comment">/* ç”¨æˆ·æ€ Direct-IO è¯»å†™å…¥å£ï¼Œæ•°æ®ç›´æ¥è½ç›˜/ä»ç›˜è¯» */</span> 
    <span class="hljs-type">ssize_t</span> (*direct_IO)(<span class="hljs-keyword">struct</span> kiocb *iocb, <span class="hljs-keyword">struct</span> iov_iter *iter); 

<span class="hljs-comment">/* â‘¤ å‡†å¤‡ &amp; æäº¤å†™ï¼ˆmmap/ç¼“å†²å†™é€šç”¨ï¼‰ */</span> 
    <span class="hljs-comment">/* å†™å‰å‡†å¤‡ï¼šä¸º [pos, pos+len) åˆ†é…/è·å–ç¼“å­˜é¡µï¼Œè¿”å› locked é¡µ */</span> 
    <span class="hljs-type">int</span> (*write_begin)(<span class="hljs-keyword">struct</span> file *file, <span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-type">loff_t</span> pos, <span class="hljs-type">unsigned</span> len, <span class="hljs-type">unsigned</span> flags, <span class="hljs-keyword">struct</span> page **pagep, <span class="hljs-type">void</span> **fsdata); 
    <span class="hljs-comment">/* å†™åæäº¤ï¼šæŠŠ page æ ‡è®°è„ã€è§£é”ã€æ›´æ–° i_sizeï¼›è¿”å›å®é™…å†™å…¥å­—èŠ‚ */</span> 
    <span class="hljs-type">int</span> (*write_end)(<span class="hljs-keyword">struct</span> file *file,<span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-type">loff_t</span> pos, <span class="hljs-type">unsigned</span> len, <span class="hljs-type">unsigned</span> copied, <span class="hljs-keyword">struct</span> page *page, <span class="hljs-type">void</span> *fsdata);

    ........ 
};
</code></pre>
<h3 data-id="heading-4">Page(é¡µ)</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">page</span> { 
<span class="hljs-comment">/* ===== 1. é¡µé¢ç¼“å­˜ç›¸å…³ ===== */</span> 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">address_space</span> *mapping; æŒ‡å‘æ‰€å±ç¼“å­˜å®¹å™¨ï¼ˆæ–‡ä»¶ inode æˆ– swap åœ°å€ç©ºé—´ï¼‰ã€‚ æœ€ä½ä½ä¸º <span class="hljs-number">1</span> æ—¶è¡¨ç¤ºè¯¥é¡µåœ¨ swap ç¼“å­˜è€Œéæ–‡ä»¶ç¼“å­˜
    <span class="hljs-type">pgoff_t</span> index;  é¡µåœ¨ mapping å†…çš„é€»è¾‘ä¸‹æ ‡ï¼ˆä»¥é¡µä¸ºå•ä½ï¼Œéå­—èŠ‚ï¼‰
    
<span class="hljs-comment">/* ===== 2. ç‰©ç†é¡µæ¡†ç®¡ç† ===== */</span> 
    é¡µæ ‡å¿—ä½é›†åˆï¼šPG_lockedã€PG_dirtyã€PG_writebackã€PG_uptodateã€PG_referencedã€PG_swapbacked â€¦ 
    <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> flags; 
    <span class="hljs-keyword">union</span> { 
        <span class="hljs-type">atomic_t</span> _refcount;  é¡µå¼•ç”¨è®¡æ•°ï¼Œ <span class="hljs-number">0</span> è¡¨ç¤ºç©ºé—²ï¼Œ  &lt;<span class="hljs-number">0</span>ä¸ºBUG 
        <span class="hljs-keyword">struct</span> {  SLUB ç­‰å­ç³»ç»Ÿå¤ç”¨ç©ºé—²é¡µçš„å­—æ®µ
            <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> inuse; 
            <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> objects; 
        }; 
    }; 
    
<span class="hljs-comment">/* ===== 3. LRU é“¾è¡¨ / å›æ”¶ ===== */</span> 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">list_head</span> lru; <span class="hljs-comment">/* æŠŠé¡µæŒ‚åˆ° LRUã€swapã€inode å›æ”¶ç­‰å„ç§é“¾è¡¨ */</span> 
    <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-keyword">private</span>; <span class="hljs-comment">/* ä¸é¡µçŠ¶æ€è”åŠ¨çš„ç§æœ‰æ•°æ®ï¼š 1. ç¼“å†²åŒºå¤´æŒ‡é’ˆï¼ˆå—è®¾å¤‡é¡µï¼‰ 2. swap entry å€¼ï¼ˆswap ç¼“å­˜é¡µï¼‰ 3. å…¶ä»–æ–‡ä»¶ç³»ç»Ÿç§æœ‰æŒ‡é’ˆ */</span> 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">mem_cgroup</span> *mem_cgroup; <span class="hljs-comment">/* è¯¥é¡µå½’å±çš„ memory cgroupï¼Œç”¨äºèµ„æºç»Ÿè®¡ä¸å›æ”¶ */</span>
    
<span class="hljs-comment">/* ===== 4. åå‘æ˜ å°„ ===== */</span> 
    <span class="hljs-type">atomic_t</span> _mapcount; <span class="hljs-comment">/* é¡µè¡¨é¡¹ï¼ˆPTEï¼‰æ˜ å°„è®¡æ•°ï¼š -1 è¡¨ç¤ºæ— æ˜ å°„ï¼Œ  0 è¡¨ç¤ºåªæœ‰ 1 ä¸ªæ˜ å°„(åŒ¿åé¡µæˆ–å•è¿›ç¨‹æ–‡ä»¶æ˜ å°„),  &gt;0 è¡¨ç¤ºå¤šè¿›ç¨‹å…±äº« */</span> 
    
<span class="hljs-comment">/* ===== 5. å¤åˆé¡µ / å·¨å‹é¡µ ===== */</span> 
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> _compound_tail; å¤åˆé¡µï¼ˆHugeTLBï¼‰æ—¶ï¼Œæ ‡è®°æœ¬é¡µåœ¨å·¨å‹é¡µä¸­çš„åºå· 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">page</span> *first_page; æŒ‡å‘å·¨å‹é¡µçš„é¦–é¡µ  

<span class="hljs-comment">/* ===== 6. è°ƒè¯• / çƒ­åŒº ===== */</span> 
    <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> WANT_PAGE_VIRTUAL</span>
        <span class="hljs-type">void</span> *<span class="hljs-keyword">virtual</span>;  é«˜ç«¯å†…å­˜é¡µçš„æ°¸ä¹…å†…æ ¸æ˜ å°„åœ°å€ï¼ˆkmapï¼‰ 
    <span class="hljs-meta">#<span class="hljs-keyword">endif</span> </span>
};
</code></pre>
<h2 data-id="heading-5">é¡µé¢ç¼“å­˜å¯¹å¤–æä¾›çš„æ¥å£æ–¹æ³•</h2>
<p>Linuxå†…æ ¸ä¸­é’ˆå¯¹ <code>é¡µé¢ç¼“å­˜</code> å°è£…äº†å¾ˆå¤šæ¥å£æ–¹æ³•ï¼Œä¸‹é¢ç®€å•ä»‹ç»ä¸€äº›</p>
<p><strong>1. æŸ¥æ‰¾ä¸€ä¸ªé¡µ(page)</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/**
 * find_get_page - åœ¨é¡µé¢ç¼“å­˜é‡ŒæŸ¥æ‰¾å¹¶å¼•ç”¨ä¸€ä¸ªé¡µ
 * @mapping: è¦æœç´¢çš„ address_spaceï¼ˆå³â€œè¿™ä¸ªæ–‡ä»¶â€çš„ç¼“å­˜å®¹å™¨ï¼‰
 * @offset:  é¡µåœ¨æ–‡ä»¶å†…çš„é€»è¾‘ä¸‹æ ‡ï¼ˆä»¥é¡µä¸ºå•ä½ï¼Œéå­—èŠ‚åç§»ï¼‰
 *
 * åœ¨ radix/xarray æ ‘ä¸­æŸ¥æ‰¾ &lt;mapping, offset&gt; å¯¹åº”çš„ slotã€‚
 * å¦‚æœå‘½ä¸­ï¼Œåˆ™æŠŠ page-&gt;_refcount åŠ  1 åè¿”å›è¯¥é¡µï¼›
 * å¦‚æœæœªå‘½ä¸­ï¼Œè¿”å› NULLã€‚
 *
 * è°ƒç”¨è€…å¿…é¡»åœ¨æŒæœ‰ RCU è¯»é”æˆ– mapping-&gt;tree_lock çš„å‰æä¸‹ä½¿ç”¨ï¼Œ
 * ä½†æœ¬å‡½æ•°å†…éƒ¨å·²è‡ªè¡ŒåŠ é”ï¼Œå› æ­¤å¤–éƒ¨æ— éœ€é¢å¤–åŒæ­¥ã€‚
 */</span>
<span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">struct</span> page *<span class="hljs-title function_">find_get_page</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-type">pgoff_t</span> offset)</span>{
        ç›´æ¥è°ƒç”¨å†…éƒ¨å®ç°ï¼Œåä¸¤ä¸ª <span class="hljs-number">0</span> è¡¨ç¤ºä¸å¼ºåˆ¶åˆ†é…ï¼ˆFGP_CREAT=<span class="hljs-number">0</span>ï¼‰ã€ä¸æ ‡è®°ä¸ºæ­£åœ¨å›å†™ï¼ˆFGP_WRITEBACK=<span class="hljs-number">0</span>ï¼‰
        <span class="hljs-keyword">return</span> pagecache_get_page(mapping, offset, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
}
</code></pre>
<p><strong>2.å¢åŠ ä¸€ä¸ªé¡µ(page)</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/**
 * add_to_page_cache - æŠŠâ€œåˆšåˆ†é…å¥½â€çš„ä¸€é¡µå¡è¿›é¡µé¢ç¼“å­˜
 * @page:       æ–°é¡µï¼Œæ­¤æ—¶æœªä¸Šé”ã€æœªåœ¨ç¼“å­˜æ ‘ä¸­
 * @mapping:    ç›®æ ‡ address_spaceï¼ˆå³â€œè¿™ä¸ªæ–‡ä»¶â€çš„ç¼“å­˜å®¹å™¨ï¼‰
 * @offset:     é¡µåœ¨æ–‡ä»¶å†…çš„é€»è¾‘ä¸‹æ ‡ï¼ˆä»¥é¡µä¸ºå•ä½ï¼‰
 * @gfp_mask:   åˆ†é… radix/xarray èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„å†…å­˜æ ‡å¿—
 *
 * ä¸ add_to_page_cache_locked() çš„åŒºåˆ«ï¼š
 * æœ¬å‡½æ•°å‡å®šé¡µæ˜¯â€œå…¨æ–°â€çš„ï¼Œå› æ­¤å¯ä»¥å®‰å…¨åœ°ç›´æ¥åŠ é”ã€‚
 * å¦‚æœæ’å…¥å¤±è´¥ï¼ˆå¦‚ offset å¤„å·²å­˜åœ¨é¡µï¼‰ï¼Œåˆ™è‡ªåŠ¨æ¸…é™¤é”å¹¶è¿”å›é”™è¯¯ç ã€‚
 *
 * æˆåŠŸè¿”å› 0ï¼Œå¤±è´¥è¿”å› -EEXIST ç­‰è´Ÿé”™è¯¯ç ã€‚
 */</span>
<span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-type">int</span> <span class="hljs-title function_">add_to_page_cache</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> page *page, <span class="hljs-keyword">struct</span> address_space *mapping,  <span class="hljs-type">pgoff_t</span> offset, <span class="hljs-type">gfp_t</span> gfp_mask)</span>{
        <span class="hljs-type">int</span> error;

        __SetPageLocked(page);    <span class="hljs-comment">/* æ–°é¡µï¼Œç›´æ¥åŠ é”ï¼Œé¿å…å¹¶å‘ */</span>

        <span class="hljs-comment">/* çœŸæ­£æ’å…¥ radix/xarray æ ‘ï¼Œå¤±è´¥æ—¶è¿”å›è´Ÿé”™è¯¯ç  */</span>
        error = add_to_page_cache_locked(page, mapping, offset, gfp_mask);
        <span class="hljs-keyword">if</span> (unlikely(error))
                __ClearPageLocked(page); <span class="hljs-comment">/* æ’å…¥å¤±è´¥ï¼Œå›æ»šé”çŠ¶æ€ */</span>

        <span class="hljs-keyword">return</span> error;
}
</code></pre>
<p><strong>3.åˆ é™¤ä¸€ä¸ªé¡µ(page)</strong>
ä¸‹é¢ç»™å‡ºç¬¦åˆ Linux å†…æ ¸ç¼–ç é£æ ¼ã€å®½åº¦ 80 åˆ—çš„æ ¼å¼åŒ–ç»“æœï¼Œå¯ç›´æ¥è´´å›æºç æ ‘ä½¿ç”¨ã€‚<br/>
ï¼ˆä»…è°ƒæ•´ç©ºç™½ä¸æŠ˜è¡Œï¼Œé›¶é€»è¾‘å˜æ›´ï¼‰</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/**
 * delete_from_page_cache - æŠŠé¡µä»é¡µé¢ç¼“å­˜é‡Œæ‘˜é™¤
 * @page: è¦åˆ é™¤çš„é¡µï¼Œè°ƒç”¨å‰å¿…é¡»ä¿è¯ï¼š
 *        1) é¡µå·²åœ¨ç¼“å­˜ä¸­ (page-&gt;mapping != NULL)
 *        2) é¡µå¤„äº Locked çŠ¶æ€
 *
 * å‡½æ•°åªåšä¸¤æ­¥ï¼š
 *  â‘  ä» radix/xarray æ ‘ä¸­ç§»é™¤è¯¥ç´¢å¼•æ§½ä½ï¼›
 *  â‘¡ æŠŠ page-&gt;mapping ç½®ä¸º NULLï¼Œè¡¨ç¤ºé¡µå·²è„±ç¦»ç¼“å­˜ã€‚
 *
 * æ³¨æ„ï¼šå‡½æ•°ä¸ä¼šé‡Šæ”¾é¡µæœ¬èº«ï¼Œä¹Ÿä¸ä¼šæŠŠé¡µæ”¾è¿›ç©ºé—²é“¾è¡¨â€”â€”
 * è°ƒç”¨è€…å¿…é¡»å·²ç»æŒæœ‰é¡µå¼•ç”¨ (refcount)ï¼Œå¹¶åœ¨åç»­è‡ªè¡Œ put_page()ã€‚
 */</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">delete_from_page_cache</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> page *page)</span>{
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">address_space</span> *<span class="hljs-title">mapping</span> =</span> page-&gt;mapping; <span class="hljs-comment">/* æ‰€å±ç¼“å­˜å®¹å™¨ */</span>
	<span class="hljs-type">void</span> *shadow = <span class="hljs-literal">NULL</span>;
	<span class="hljs-type">int</span> nr = <span class="hljs-number">1</span>;                                    <span class="hljs-comment">/* é»˜è®¤åªåˆ  1 ä¸ªæ¡ç›® */</span>

	<span class="hljs-comment">/* 1. ä» xarray ä¸­åˆ é™¤è¯¥ç´¢å¼•ï¼ŒåŒæ—¶æ‹¿åˆ° shadow æ¡ç›®ï¼ˆè‹¥å­˜åœ¨ï¼‰*/</span>
	xa_lock_irq(&amp;mapping-&gt;i_pages);
	shadow = xa_erase(&amp;mapping-&gt;i_pages, page-&gt;index);
	xa_unlock_irq(&amp;mapping-&gt;i_pages);

	<span class="hljs-comment">/* 2. æ›´æ–°ç¼“å­˜è®¡æ•° */</span>
	<span class="hljs-keyword">if</span> (xa_is_shadow(shadow))
		nr = <span class="hljs-number">0</span>;                                  <span class="hljs-comment">/* shadow ä¸ç®—çœŸå®é¡µ */</span>
	__dec_zone_page_state(page, NR_FILE_PAGES);
	<span class="hljs-keyword">if</span> (PageSwapBacked(page))
		__dec_zone_page_state(page, NR_SHMEM);
	mapping-&gt;nrpages -= nr;

	<span class="hljs-comment">/* 3. å½»åº•æ–­å¼€é¡µä¸ç¼“å­˜å®¹å™¨çš„å…³è” */</span>
	page-&gt;mapping = <span class="hljs-literal">NULL</span>;
	<span class="hljs-comment">/* æ¸…é™¤é¡µæ ‡å¿—ï¼Œé¿å…åç»­è¯¯ç”¨ */</span>
	page_remove_rmap(page, <span class="hljs-literal">false</span>);
	<span class="hljs-comment">/* å¦‚æœé¡µè¿˜åœ¨ LRU é“¾è¡¨ä¸Šï¼Œè¿™é‡Œä¼šæŠŠå®ƒæ‘˜ä¸‹æ¥ */</span>
	<span class="hljs-keyword">if</span> (PageLRU(page))
		lru_cache_del(page);
}
</code></pre>
<h2 data-id="heading-6">å†çœ‹æ–‡ä»¶è¯»å†™(ç®€ç•¥)æµç¨‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76428b386b114411b7376193a5d1b208~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=o3apIBPBheDiBzUChvzVBcSR2vQ%3D" alt="image.png" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51dea4896e3d439093978a7f7ada516f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=47KIYsYnfvp2h1bp%2FVqjk1dNJkU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">ä»€ä¹ˆæ˜¯è„é¡µï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3d085cd47d34c74a5ab71059cc37b4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=%2BkFUxiQC7p%2FBVbbvpfGuj2J3OXQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">è„é¡µæ•°æ®å†™å›åˆ°ç£ç›˜çš„æ–¹å¼</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/272e861b32264285817dd657b10689f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=%2BMLdlG7IiAL4CFKTdfAE8VUEzCg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-9">å†çœ‹å†…å­˜æ˜ å°„</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/mman.h&gt;</span></span>

<span class="hljs-comment">/*
 * mmap â€”â€” æŠŠæ–‡ä»¶æˆ–åŒ¿åé¡µæ˜ å°„è¿›å½“å‰è¿›ç¨‹åœ°å€ç©ºé—´
 * è¿”å›ï¼šæˆåŠŸ â†’ æ˜ å°„åŒºé¦–åœ°å€ï¼›å¤±è´¥ â†’ MAP_FAILED((void *)-1)ï¼Œerrno è¢«è®¾ç½®
 */</span>
<span class="hljs-type">void</span> *<span class="hljs-title function_">mmap</span><span class="hljs-params">(<span class="hljs-type">void</span> *start,     <span class="hljs-comment">/* æœŸæœ›æ˜ å°„çš„èµ·å§‹è™šæ‹Ÿåœ°å€ï¼Œé€šå¸¸ä¼  NULL è®©å†…æ ¸è‡ªåŠ¨æŒ‘é€‰ */</span>
           <span class="hljs-type">size_t</span> length,   <span class="hljs-comment">/* å¾…æ˜ å°„å­—èŠ‚æ•°ï¼Œå¿…é¡»æ˜¯é¡µå¤§å°(4K)æ•´æ•°å€ */</span>
           <span class="hljs-type">int</span> prot,        <span class="hljs-comment">/* æ˜ å°„åŒºæƒé™ä½ç»„åˆï¼šPROT_READã€PROT_WRITEã€PROT_EXECã€PROT_NONE */</span>
           <span class="hljs-type">int</span> flags,       <span class="hljs-comment">/* æ˜ å°„å±æ€§ + è¡Œä¸ºæ ‡å¿—ï¼Œå¸¸ç”¨ç»„åˆï¼š
                             *   MAP_SHARED  â€“ å¯¹æ˜ å°„åŒºçš„å†™å…¥ä¼šå›å†™æ–‡ä»¶ï¼ˆå…±äº«å†…å­˜/æ–‡ä»¶è½ç›˜ï¼‰
                             *   MAP_PRIVATE â€“ å†™æ—¶å¤åˆ¶ï¼Œä¸å½±å“åŸæ–‡ä»¶ï¼ˆä»…æœ¬è¿›ç¨‹å¯è§ï¼‰
                             *   MAP_ANONYMOUS â€“ ä¸å…³è” fdï¼Œç›´æ¥å¾—ä¸€å—å…¨ 0 åŒ¿åå†…å­˜
                             *   MAP_FIXED     â€“ å¼ºåˆ¶ä½¿ç”¨ start åœ°å€ï¼ˆå±é™©ï¼Œéœ€å¯¹é½ï¼‰
                             */</span>
           <span class="hljs-type">int</span> fd,          <span class="hljs-comment">/* è¦æ˜ å°„çš„æ–‡ä»¶æè¿°ç¬¦ï¼›è‹¥ MAP_ANONYMOUS é€šå¸¸ç»™ -1 */</span>
           <span class="hljs-type">off_t</span> offset)</span>;   <span class="hljs-comment">/* æ–‡ä»¶å†…èµ·å§‹åç§»ï¼Œä¹Ÿå¿…é¡»æŒ‰é¡µå¯¹é½ */</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efb82201676d4515ac74e72b423d457d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=Uvo1DotwF5580OK3hDdXCxDygoA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">å†…å­˜æ˜ å°„æ¶‰åŠçš„æ•°æ®ç»“æ„</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da39d457d1dd40528a5099e3d4622130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=uZ6OeWfuESU1TOrgbS3hAhaydUU%3D" alt="vmaæ•°æ®ç»“æ„.png" loading="lazy"/></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vm_area_struct</span> {</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> vm_start;		<span class="hljs-comment">/* å†…å­˜æ˜ å°„åŒºåŸŸèµ·å§‹åœ°å€ */</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> vm_end;		<span class="hljs-comment">/* å†…å­˜æ˜ å°„åŒºåŸŸç»“æŸåœ°å€ */</span>
	<span class="hljs-type">pgprot_t</span> vm_page_prot;		<span class="hljs-comment">/* è®¿é—®æƒé™ */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vm_area_struct</span> *<span class="hljs-title">vm_next</span>, *<span class="hljs-title">vm_prev</span>;</span> <span class="hljs-comment">/* æŒ‚å…¥ mm-&gt;mmap åŒå‘é“¾è¡¨ */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">rb_node</span> <span class="hljs-title">vm_rb</span>;</span>		<span class="hljs-comment">/* æŒ‚å…¥ mm-&gt;mm_rb çº¢é»‘æ ‘ */</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> vm_pgoff;		<span class="hljs-comment">/* ä»¥é¡µä¸ºå•ä½çš„æ–‡ä»¶å†…åç§» */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">file</span> *<span class="hljs-title">vm_file</span>;</span>		<span class="hljs-comment">/* è¢«æ˜ å°„çš„æ–‡ä»¶ï¼ˆMAP_ANONYMOUS æ—¶ NULLï¼‰ */</span>
	<span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vm_operations_struct</span> *<span class="hljs-title">vm_ops</span>;</span> <span class="hljs-comment">/* vma æ“ä½œé’©å­ */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">anon_vma</span> *<span class="hljs-title">anon_vma</span>;</span>	<span class="hljs-comment">/* åŒ¿åé¡µåå‘æ˜ å°„ */</span>
        
	<span class="hljs-comment">/* --- ä»¥ä¸‹æ¥è‡ª anon_vma å†…éƒ¨ï¼Œå›¾ä¸­æ··è´´ï¼Œå·²æ‹†å‡º --- */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">rb_node</span> <span class="hljs-title">rb</span>;</span>		<span class="hljs-comment">/* anon_vma-&gt;rb_root ä¸Šçš„èŠ‚ç‚¹ */</span>
        
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> rb_subtree_last;	<span class="hljs-comment">/* å­æ ‘ä¸­æœ€å¤§åœ°å€ */</span>
    <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> CONFIG_ANON_VMA</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> shared;		<span class="hljs-comment">/* å¼•ç”¨è®¡æ•°æˆ–å…±äº«æ ‡å¿— */</span>
    <span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
};
</code></pre>
<p>å¦‚éœ€å®Œæ•´å†…æ ¸å®šä¹‰ï¼Œè¯·ç›´æ¥å‚è€ƒ <code>linux/mm_types.h</code>ã€‚</p>
<h3 data-id="heading-11">å†…å­˜æ˜ å°„æ¶‰åŠçš„å¤§ä½“æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e69c7d6ceb3649399fc755e439726230~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=oyeHcyd%2B%2BsYOG%2F12mAcstSn911Y%3D" alt="å†…å­˜æ˜ å°„1.png" loading="lazy"/></p>
<h2 data-id="heading-12">å†çœ‹ç¼ºé¡µå¼‚å¸¸å¤§ä½“æµç¨‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84428559c3ce40398cbb636bdd46b03a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=z%2B5wDcS1U8%2B7YmUl2pCLjA6ELoo%3D" alt="ç¼ºé¡µå¼‚å¸¸.png" loading="lazy"/></p>
<h2 data-id="heading-13">æŒ‰éœ€è°ƒé¡µ</h2>
<p>æˆ‘ä»¬çš„è½¯ä»¶ç¨‹åºä¸€èˆ¬éƒ½è¢«æ‰“åŒ…åˆ° <code>ELF</code> æ–‡ä»¶ä¸­
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ac4248a9b04eeb80de8bdf3f7f7036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=h4aTS667wFBnSxekYX3qt7uEuHA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eda04e0ac654e989fe395464dc0b2d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=jCYjue4kIQH1sMisOdKtZOoQNLw%3D" alt="æŒ‰éœ€åˆ†é¡µ1.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed57afc6f69744ef92d336b737044c67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=gE%2BzqJLduInMB4LCbCcdSIG4jVg%3D" alt="æŒ‰éœ€åˆ†é¡µ2.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vite+Antd+Micro-appä¸­iframeæ¨¡å¼ä¸‹æ ·å¼é—ªçƒçš„é—®é¢˜]]></title>    <link>https://juejin.cn/post/7592997693070180362</link>    <guid>https://juejin.cn/post/7592997693070180362</guid>    <pubDate>2026-01-09T08:08:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592997693070180362" data-draft-id="7592996072706064434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vite+Antd+Micro-appä¸­iframeæ¨¡å¼ä¸‹æ ·å¼é—ªçƒçš„é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:08:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bieao"/> <meta itemprop="url" content="https://juejin.cn/user/1011206430917710"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vite+Antd+Micro-appä¸­iframeæ¨¡å¼ä¸‹æ ·å¼é—ªçƒçš„é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1011206430917710/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bieao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:08:21.000Z" title="Fri Jan 09 2026 08:08:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>åœ¨<code>Vite</code>ä¸­ä½¿ç”¨<code>Micro-app</code>è¿›è¡Œå¾®å‰ç«¯å¼€å‘ï¼Œåšçš„è¿‡ç¨‹ä¸­å‘ç°åœ¨<code>iframe</code>æ¨¡å¼ä¸‹ï¼Œæ— è®ºæ˜¯é¦–å±åŠ è½½è¿˜æ˜¯ä¸­é—´çš„è·¯ç”±åˆ‡æ¢éƒ½ä¼šå‡ºç°<code>antd</code>æ ·å¼é—ªçƒ</strong>ï¼›å…·ä½“å¦‚ä¸‹ï¼š</p>
<ol>
<li>æŒ‰é’®çš„æ ·å¼ä»æœ€åˆå§‹çŠ¶æ€å˜ä¸º<code>Antd</code>çš„<code>Button</code>æ ·å¼ï¼Œæœ‰é¢œè‰²æ”¹å˜æ—¶ï¼Œæœ€ä¸ºæ˜æ˜¾</li>
<li>è¾“å…¥æ¡†ç”±<code>input</code>åˆå§‹æ ·å¼å˜ä¸º<code>Antd</code>çš„æ ·å¼</li>
<li>æ‰€æœ‰çš„<code>Antd</code>ç»„ä»¶éƒ½æ˜¯ä»æµè§ˆå™¨çš„é»˜è®¤æ ·å¼åŠ è½½ä¸º<code>Antd</code>çš„æ ·å¼</li>
</ol>
<p>è§£å†³å†ç¨‹</p>
<ol>
<li><strong>æ—¢ç„¶æ˜¯æ ·å¼ååŠ è½½ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è¿›è¡Œæ ·å¼é¢„è®¾ï¼Œå½“<code>Antd</code>æ ·å¼åŠ è½½æ—¶ï¼Œå°±ä¸ä¼šå‡ºç°æ˜æ˜¾çš„é—ªçƒ</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// index.html</span>
&lt;!-- iframe æ¨¡å¼ï¼šé¢„è®¾å…³é”®æ ·å¼ï¼Œé¿å… <span class="hljs-variable constant_">FOUC</span> --&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-comment">/* é¢„è®¾ä¸»é¢˜è‰²ï¼Œé¿å…æŒ‰é’®é¢œè‰²é—ªçƒ */</span>
      <span class="hljs-selector-class">.ant-btn-primary</span> {
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#7470e9</span>;
        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#7470e9</span>;
        <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
      }

      <span class="hljs-selector-class">.ant-input</span> {
        <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">6.5px</span> <span class="hljs-number">11px</span>;
        <span class="hljs-attribute">border-width</span>: <span class="hljs-number">1px</span>;
        <span class="hljs-attribute">border-style</span>: solid;
        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#d9d9d9</span>;
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
      }

      <span class="hljs-selector-class">.ant-btn</span> {
        <span class="hljs-attribute">border-width</span>: <span class="hljs-number">1px</span>;
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<p><strong>è§£å†³æ•ˆæœï¼šè‚‰çœ¼å¯è§çš„é—ªçƒæ²¡æœ‰äº†ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯éœ€è¦æŠŠç”¨åˆ°çš„æ‰€æœ‰çš„<code>Antd</code>ç»„ä»¶çš„åŸºç¡€æ ·å¼æˆ–è€…å«å¼•èµ·æ˜æ˜¾æŠ–åŠ¨çš„æ ·å¼é¢„è®¾ï¼Œé¿å…æ˜æ˜¾æŠ–åŠ¨</strong></p>
<ol start="2">
<li><strong>ä»¿ç…§<code>Antd</code>ç»™<code>Next.js</code>åšçš„<code>@ant-design/nextjs-registry</code>åº“ï¼Œæ¥è§£å†³æå‰åŠ è½½æ ·å¼çš„é—®é¢˜</strong></li>
</ol>
<p><code>@ant-design/nextjs-registry</code>æ˜¯å¦‚ä½•è§£å†³åœ¨<code>Next.js</code>ä¸­é¦–å±åŠ è½½æ—¶é—ªçƒçš„é—®é¢˜ï¼Œæ˜¯åœ¨<code>Next.js</code>æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œä½¿ç”¨<code>@ant-design/cssinjs</code>æä¾›çš„<code>const styles = extractStyle(cache, true)</code>èƒ½åŠ›</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'use client'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">AntdRegistry</span> = (<span class="hljs-params">{ children }</span>) =&gt; {
  <span class="hljs-title function_">useServerInsertedHTML</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> styleText = <span class="hljs-title function_">extractStyle</span>(cache, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">dangerouslySetInnerHTML</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">__html:</span> <span class="hljs-attr">styleText</span> }} /&gt;</span></span>;
  });

  <span class="hljs-keyword">return</span> <span class="xml"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StyleProvider</span> <span class="hljs-attr">cache</span>=<span class="hljs-string">{cache}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">StyleProvider</span>&gt;</span></span></span>;
};
</code></pre>
<p>å°†å«<code>Antd</code>çš„<code>HTML</code>ä»£ç å…¨éƒ¨å‘ç»™æµè§ˆå™¨ï¼Œè¿™æ ·æ¸²æŸ“çš„æ—¶å€™å°±ä¸ä¼šå‡ºç°æ ·å¼é—ªçƒï¼Œ<strong>ä½†æ˜¯</strong>è¿™ä¸ªæ˜¯<code>Next.js</code>çš„<strong>ä¸“å±èƒ½åŠ›</strong>ï¼Œ<code>CSR</code>(å®¢æˆ·ç«¯æ¸²æŸ“)çš„åšä¸åˆ°ï¼Œå› ä¸º<code>Antd</code>çš„ç»„ä»¶æ ·å¼æ˜¯åœ¨åŠ è½½ç»„ä»¶æ—¶æ‰ä¼šæ”¾åˆ°<code>cache</code>ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨<code>App.tsx</code>ä¸­ä½¿ç”¨ä¸‹é¢çš„ä»£ç åŒ…æ‹¬ï¼Œæ˜¯æ²¡æœ‰ç”¨çš„</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨å®¢æˆ·ç«¯æŒ‚è½½æ—¶æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> styleText = <span class="hljs-title function_">extractStyle</span>(cache, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> styleElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
    styleElement.<span class="hljs-property">textContent</span> = styleText;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">insertBefore</span>(styleElement, <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-property">firstChild</span>);
  }, []);
</code></pre>
<p>è¿™ä¸ªä»£ç åœ¨æ‰§è¡Œæ—¶<code>styleText</code>å•¥ä¹Ÿæ²¡æœ‰ï¼ŒåŠ è½½ç»„ä»¶åœ¨<code>useEffect</code>ä¹‹åï¼Œ<strong>æ­¤æ—¶æˆ‘ä»¬å·²ç»å¾ˆæ¥è¿‘çœŸç›¸äº†</strong></p>
<ol start="3">
<li><strong>æˆ‘å‘ç°ä¸€ä¸ªç°è±¡ï¼Œåœ¨<code>SPA</code>é¡µé¢ä¸­ï¼Œæ ·å¼åªä¼šåœ¨é¦–å±æ—¶é—ªçƒï¼Œè¿›å…¥å…¶ä»–é¡µé¢åï¼Œå¹¶æ²¡æœ‰é—ªçƒï¼Œå·²åŠ è½½çš„æ ·å¼è¢«ç¼“å­˜äº†ï¼ŒæŸ¥è¯¢ä¹‹åï¼Œå‘ç°æ˜¯<code>Antd</code>çš„<code>cache</code>åœ¨åšç¼“å­˜åˆ¤æ–­ï¼Œç„¶åæˆ‘æŸ¥çœ‹äº†å­åº”ç”¨çš„æ ·å¼å‘ç°<code>Micro-app</code>ç»™æ¯ä¸ªæ ·å¼å¦åŠ äº†å‰ç¼€<code>micro-app[name=hospital-gateway]</code></strong></li>
</ol>
<pre><code class="hljs language-css" lang="css">micro-app<span class="hljs-selector-attr">[name=hospital-gateway]</span> ._hospital-search-wrapper_v077x_1 ._search-operate_v077x_5 <span class="hljs-selector-tag">button</span>Â {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">8px</span>;
}
</code></pre>
<p>è¿™ä¸ªå‰ç¼€å¯¼è‡´äº†<code>Antd</code>çš„<code>cache</code>å¤±æ•ˆï¼Œè€Œä¸”æ¯æ¬¡è·¯ç”±åˆ‡æ¢æ—¶ï¼Œ<code>Micro-app</code>éƒ½ä¼šå°†<code>Antd</code>åŸæ¥çš„æ ·å¼é‡å†™ä¸ºæœ‰<code>micro-app[name=hospital-gateway]</code>å‰ç¼€çš„æ ·å¼ï¼Œè¿™å°±æ˜¯å¯¼è‡´æ¯æ¬¡æ ·å¼æŠ–åŠ¨çš„æ ¹æœ¬åŸå› ã€‚</p>
<ol start="4">
<li><strong>æ‰¾åˆ°æ ¹æºåï¼Œå°±çœ‹å¦‚ä½•å»æ‰è¿™ä¸ªå‰ç¼€ï¼Œ<code>iframe</code>æ¨¡å¼ä¸‹ï¼Œæ ·å¼æ˜¯å¤©ç„¶éš”ç¦»çš„ï¼Œæ˜¯ä¸éœ€è¦ç±»ä¼¼<code>with</code>æ¨¡å¼ä¸‹çš„æ ·å¼å‰ç¼€çš„ï¼Œè€Œä¸”å»æ‰å‰ç¼€ï¼Œä¹Ÿå¯ä»¥å¯ç”¨<code>Antd</code>çš„æ ·å¼ç¼“å­˜ï¼Œé¿å…åˆ‡æ¢è·¯ç”±æ—¶çš„æ ·å¼æŠ–åŠ¨ï¼Œæœ€åå‘ç°åœ¨æ·»åŠ <code>disable-scopecsså±æ€§</code>å°±å¯ä»¥å»æ‰è‡ªåŠ¨æ·»åŠ çš„å‰ç¼€</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js">&lt;micro-app name={name} url={url} baseroute keep-alive disable-scopecss /&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿å§†çº§æ•™ç¨‹ï¼šè®© Cursor ç¼–è¾‘å™¨çªç ´åœ°åŒºé™åˆ¶ï¼Œæ­£å¸¸è°ƒç”¨å¤§æ¨¡å‹ï¼ˆé™„é…ç½® + æˆªå›¾ï¼‰]]></title>    <link>https://juejin.cn/post/7592882393252315179</link>    <guid>https://juejin.cn/post/7592882393252315179</guid>    <pubDate>2026-01-09T08:07:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592882393252315179" data-draft-id="7592882393252134955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿å§†çº§æ•™ç¨‹ï¼šè®© Cursor ç¼–è¾‘å™¨çªç ´åœ°åŒºé™åˆ¶ï¼Œæ­£å¸¸è°ƒç”¨å¤§æ¨¡å‹ï¼ˆé™„é…ç½® + æˆªå›¾ï¼‰"/> <meta itemprop="keywords" content="Cursor,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:07:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¢‹é±¼ä¸é‡"/> <meta itemprop="url" content="https://juejin.cn/user/3611263333042152"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿å§†çº§æ•™ç¨‹ï¼šè®© Cursor ç¼–è¾‘å™¨çªç ´åœ°åŒºé™åˆ¶ï¼Œæ­£å¸¸è°ƒç”¨å¤§æ¨¡å‹ï¼ˆé™„é…ç½® + æˆªå›¾ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3611263333042152/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¢‹é±¼ä¸é‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:07:35.000Z" title="Fri Jan 09 2026 08:07:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Cursor çš„å¤§æ¨¡å‹åŠŸèƒ½ç›®å‰æš‚ä¸æ”¯æŒä¸­å›½åœ°åŒºç›´æ¥è®¿é—®ï¼Œå¯¼è‡´å¾ˆå¤šå¼€å‘è€…æ‰“å¼€åæ˜¾ç¤º â€œæ¨¡å‹åŠ è½½å¤±è´¥â€ã€‚ä»Šå¤©åˆ†äº«äº²æµ‹æœ‰æ•ˆçš„é…ç½®æ–¹æ³•ï¼Œå¸®ä½ çªç ´åœ°åŒºé™åˆ¶ï¼Œä¸æ»‘ä½¿ç”¨ Opusã€GPT ç­‰æ¨¡å‹ï½</p>
<h2 data-id="heading-0">ä¸€ã€å‡†å¤‡å·¥ä½œ</h2>
<p>å…ˆç¡®ä¿ä½ çš„ä»£ç†å·¥å…·ï¼ˆå¦‚ Clashã€V2ray ç­‰ï¼‰å·²æ­£å¸¸è¿è¡Œï¼Œä¸”æœ¬åœ°ä»£ç†ç«¯å£ä¸º <code>7897</code>ï¼ˆè‹¥ä½ çš„ä»£ç†ç«¯å£ä¸åŒï¼Œåç»­é…ç½®éœ€å¯¹åº”ä¿®æ”¹ï¼‰ã€‚</p>
<h2 data-id="heading-1">äºŒã€é…ç½® Cursor ä»£ç†ï¼ˆå¸¦æ­¥éª¤å›¾ï¼‰</h2>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šæ‰“å¼€ Cursor è®¾ç½®ç•Œé¢</h3>
<ul>
<li>ç‚¹å‡» Cursor å·¦ä¸Šè§’ã€Œæ–‡ä»¶ (F)ã€èœå•</li>
<li>é¼ æ ‡ç§»åˆ°ã€Œé€‰é¡¹ã€ï¼Œåœ¨å­èœå•ä¸­é€‰æ‹©ã€Œè®¾ç½®ã€ï¼ˆå¿«æ·é”®ï¼š<code>Ctrl+,</code>ï¼‰ï¼ˆå¯¹åº”æ­¥éª¤å›¾ 1 çš„ã€Œæ–‡ä»¶ã€â†’ã€Œé€‰é¡¹ã€â†’ã€Œè®¾ç½®ã€ï¼‰</li>
</ul>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å³ä¸Šè§’ã€Œ...ã€æŒ‰é’®ï¼Œé€‰ã€Œæ‰“å¼€è®¾ç½® (json)ã€ï¼ˆå¯¹åº”æ­¥éª¤å›¾ 2ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/467cb09f8fc24cbd8b8856102b89a2ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=EKjUNknzFGhb%2B9yteKBg%2F0c9rO0%3D" alt="image.png" loading="lazy"/></p>
<p align="center">æ­¥éª¤å›¾1</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6f334c5501c4f559495b6354a69ee58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=GFTc5I8T8NaLCyD2Q5HNEQOM55g%3D" alt="img_v3_02tp_919fb41f-2117-4098-b521-a64df7ce741g.jpg" loading="lazy"/></p>
<p align="center">æ­¥éª¤å›¾2</p>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šæ·»åŠ åœ°åŒºè§£é”é…ç½®</h3>
<p>åœ¨<code>settings.json</code>ä¸­ç²˜è´´ä»¥ä¸‹ä»£ç ï¼ˆç›´æ¥å¤åˆ¶å³å¯ï¼Œå¯¹åº”æ­¥éª¤å›¾ 3 çº¢æ¡†åŒºåŸŸï¼Œæ³¨æ„ JSON æ ¼å¼çš„é€—å·åˆ†éš”ï¼‰</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"http.proxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://127.0.0.1:7897"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"http.proxySupport"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"override"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"http.noProxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"cursor.general.disableHttp2"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"http.proxyStrictSSL"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4470c68543f64b13873bc4807b61d845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=CBWL9mLy1fsb5xM0wDD81FmvfiU%3D" alt="image.png" loading="lazy"/></p>
<p align="center">æ­¥éª¤å›¾3</p>
<p>ä¿å­˜é…ç½®ï¼Œæ­¤æ—¶ç‚¹å‡»æ¨¡å‹é€‰æ‹©èœå•ï¼ˆæ­¥éª¤å›¾ 4ï¼‰ï¼Œå°±èƒ½æ­£å¸¸åŠ è½½ Opusã€GPT-4 ç­‰æ¨¡å‹äº†ï½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dcaff26cb5148b6844b0368f9a7be0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=Q2YDWd55Xe%2FmvGOg8sNxMhjmWxs%3D" alt="img_v3_02tp_2e44b001-fe13-41cb-8ca6-b4321679ac5g.jpg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”Ÿäº§ç¯å¢ƒçš„logï¼Œä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°æœåŠ¡å™¨]]></title>    <link>https://juejin.cn/post/7593164154630963209</link>    <guid>https://juejin.cn/post/7593164154630963209</guid>    <pubDate>2026-01-09T08:11:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154630963209" data-draft-id="7593015632082780187" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”Ÿäº§ç¯å¢ƒçš„logï¼Œä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°æœåŠ¡å™¨"/> <meta itemprop="keywords" content="JavaScript,Python"/> <meta itemprop="datePublished" content="2026-01-09T08:11:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–yiå±±äºº"/> <meta itemprop="url" content="https://juejin.cn/user/325111174934647"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”Ÿäº§ç¯å¢ƒçš„logï¼Œä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°æœåŠ¡å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/325111174934647/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–yiå±±äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:11:14.000Z" title="Fri Jan 09 2026 08:11:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰æ™¯</h2>
<p>å¼€å‘è€…æƒ³æŒæ¡ç”Ÿäº§ç¯å¢ƒçš„ä¸€äº›æ—¥å¿—ï¼Œä½†æ˜¯åˆä¸éœ€è¦æ·»åŠ å®é™…çš„åŸ‹ç‚¹è¿›è¡Œä¸ŠæŠ¥ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å°†æ—¥å¿—ä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°</p>
<h2 data-id="heading-1">æ€è·¯</h2>
<p>å¯åŠ¨æœ¬åœ°æœåŠ¡çš„æŸä¸€ä¸ªç«¯å£ç”¨ä½œæ•°æ®çš„æ¥æ”¶ï¼Œç„¶ååœ¨ä»£ç ä¸­è°ƒç”¨è¿™ä¸ªæœåŠ¡ä¸Šä¼ æ—¥å¿—</p>
<h2 data-id="heading-2">å®ç°</h2>
<h3 data-id="heading-3">1 å¯åŠ¨æœ¬åœ°æœåŠ¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
HTTP æ—¥å¿—æ¥æ”¶æœåŠ¡å™¨
å°†å‘é€åˆ° http://IP:PORT/h5/log çš„ POST è¯·æ±‚æ•°æ®ï¼Œä¿å­˜åˆ° ./h5/log ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸­ã€‚
"""</span>
<span class="hljs-keyword">from</span> http.server <span class="hljs-keyword">import</span> HTTPServer, BaseHTTPRequestHandler
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># é…ç½®</span>
IP = <span class="hljs-string">'xxx.xxx'</span> <span class="hljs-comment"># æœ¬åœ°æœåŠ¡ip</span>
PORT = xxxx <span class="hljs-comment"># æœåŠ¡ç«¯å£</span>
SAVE_DIR = <span class="hljs-string">'./h5/log'</span>  <span class="hljs-comment"># æ—¥å¿—ä¿å­˜ç›®å½•ï¼Œç›¸å¯¹äºè„šæœ¬æ‰€åœ¨è·¯å¾„</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LogHandler</span>(<span class="hljs-title class_ inherited__">BaseHTTPRequestHandler</span>):
    <span class="hljs-comment"># é€šç”¨æ–¹æ³•ç”¨äºè®¾ç½®CORSå¤´éƒ¨</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_set_cors_headers</span>(<span class="hljs-params">self</span>):
        self.send_header(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'*'</span>)  <span class="hljs-comment"># å…è®¸æ‰€æœ‰æ¥æºï¼Œå¯æŒ‰éœ€æ›¿æ¢</span>
        self.send_header(<span class="hljs-string">'Access-Control-Allow-Methods'</span>, <span class="hljs-string">'GET, POST, OPTIONS'</span>)
        self.send_header(<span class="hljs-string">'Access-Control-Allow-Headers'</span>, <span class="hljs-string">'Content-Type, Authorization'</span>)
    
    <span class="hljs-comment"># å¤„ç†æµè§ˆå™¨å‘é€çš„OPTIONSé¢„æ£€è¯·æ±‚</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_OPTIONS</span>(<span class="hljs-params">self</span>):
        self.send_response(<span class="hljs-number">200</span>)
        self._set_cors_headers()
        self.end_headers()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_POST</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># åªå¤„ç† /h5/log è·¯å¾„çš„è¯·æ±‚</span>
        <span class="hljs-keyword">if</span> self.path == <span class="hljs-string">'/h5/log'</span>:
            <span class="hljs-comment"># 1. è¯»å–è¯·æ±‚æ•°æ®</span>
            content_length = <span class="hljs-built_in">int</span>(self.headers.get(<span class="hljs-string">'Content-Length'</span>, <span class="hljs-number">0</span>))
            post_data = self.rfile.read(content_length)

            <span class="hljs-comment"># 2. ç¡®ä¿ä¿å­˜ç›®å½•å­˜åœ¨</span>
            os.makedirs(SAVE_DIR, exist_ok=<span class="hljs-literal">True</span>)

            <span class="hljs-comment"># 3. ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„æ—¥å¿—æ–‡ä»¶å</span>
            filename = datetime.now().strftime(<span class="hljs-string">'log_%Y-%m-%d.txt'</span>)
            filepath = os.path.join(SAVE_DIR, filename)

            <span class="hljs-comment"># 4. å°†æ•°æ®å†™å…¥æ–‡ä»¶ï¼ˆè¿½åŠ æ¨¡å¼ï¼‰</span>
            <span class="hljs-keyword">try</span>:
                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">'a'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
                    <span class="hljs-comment"># å†™å…¥å½“å‰æ—¶é—´</span>
                    f.write(<span class="hljs-string">f"[<span class="hljs-subst">{datetime.now().strftime(<span class="hljs-string">'%Y-%m-%d %H:%M:%S'</span>)}</span>]\n"</span>)
                    <span class="hljs-comment"># å°è¯•è§£æå¹¶ç¾åŒ–JSONï¼Œå¦‚æœæ˜¯æ™®é€šæ–‡æœ¬åˆ™ç›´æ¥å†™å…¥</span>
                    <span class="hljs-keyword">try</span>:
                        data_obj = json.loads(post_data.decode(<span class="hljs-string">'utf-8'</span>))
                        f.write(json.dumps(data_obj, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>))
                    <span class="hljs-keyword">except</span> json.JSONDecodeError:
                        f.write(post_data.decode(<span class="hljs-string">'utf-8'</span>))
                    f.write(<span class="hljs-string">'\n'</span> + <span class="hljs-string">'-'</span>*<span class="hljs-number">50</span> + <span class="hljs-string">'\n'</span>)  <span class="hljs-comment"># åˆ†éš”çº¿</span>

                <span class="hljs-comment"># 5. è¿”å›æˆåŠŸå“åº”</span>
                self.send_response(<span class="hljs-number">200</span>)
                self._set_cors_headers()
                self.send_header(<span class="hljs-string">'Content-type'</span>, <span class="hljs-string">'application/json'</span>)
                self.end_headers()
                response = {<span class="hljs-string">'status'</span>: <span class="hljs-string">'success'</span>, <span class="hljs-string">'message'</span>: <span class="hljs-string">f'Log saved to <span class="hljs-subst">{filepath}</span>'</span>}
                self.wfile.write(json.dumps(response).encode(<span class="hljs-string">'utf-8'</span>))

            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                self.send_error(<span class="hljs-number">500</span>, <span class="hljs-string">f'Failed to save log: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>'</span>)
        <span class="hljs-keyword">else</span>:
            self.send_error(<span class="hljs-number">404</span>, <span class="hljs-string">'Not Found'</span>)

    <span class="hljs-comment"># å¯é€‰ï¼šå¤„ç†GETè¯·æ±‚ï¼Œæ–¹ä¾¿æµ‹è¯•</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_GET</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">if</span> self.path == <span class="hljs-string">'/h5/log'</span>:
            self.send_response(<span class="hljs-number">200</span>)
            self._set_cors_headers()
            self.send_header(<span class="hljs-string">'Content-type'</span>, <span class="hljs-string">'text/html; charset=utf-8'</span>)
            self.end_headers()
            message = <span class="hljs-string">f"""
            &lt;html&gt;&lt;body&gt;
            &lt;h2&gt;æ—¥å¿—æ¥æ”¶æœåŠ¡å™¨è¿è¡Œä¸­&lt;/h2&gt;
            &lt;p&gt;æœåŠ¡ç«¯æ—¶é—´ï¼š<span class="hljs-subst">{datetime.now()}</span>&lt;/p&gt;
            &lt;p&gt;æ—¥å¿—ä¿å­˜ç›®å½•ï¼š<span class="hljs-subst">{os.path.abspath(SAVE_DIR)}</span>&lt;/p&gt;
            &lt;p&gt;è¯·ä½¿ç”¨ POST æ–¹æ³•å‘æ­¤åœ°å€å‘é€æ•°æ®ä»¥ä¿å­˜æ—¥å¿—ã€‚&lt;/p&gt;
            &lt;/body&gt;&lt;/html&gt;
            """</span>
            self.write(message.encode(<span class="hljs-string">'utf-8'</span>))
        <span class="hljs-keyword">else</span>:
            self.send_error(<span class="hljs-number">404</span>, <span class="hljs-string">'Not Found'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">log_message</span>(<span class="hljs-params">self, <span class="hljs-built_in">format</span>, *args</span>):
        <span class="hljs-comment"># å¯é€‰ï¼šè‡ªå®šä¹‰è¯·æ±‚æ—¥å¿—ï¼Œæ­¤å¤„ç®€å•æ‰“å°åˆ°æ§åˆ¶å°</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[<span class="hljs-subst">{datetime.now().strftime(<span class="hljs-string">'%Y-%m-%d %H:%M:%S'</span>)}</span>] <span class="hljs-subst">{self.address_string()}</span> -&gt; <span class="hljs-subst">{self.command}</span> <span class="hljs-subst">{self.path}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    server = HTTPServer((IP, PORT), LogHandler)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] æ—¥å¿—æœåŠ¡å™¨å·²å¯åŠ¨ï¼Œæ­£åœ¨ç›‘å¬ http://<span class="hljs-subst">{IP}</span>:<span class="hljs-subst">{PORT}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] è¯·å°† POST è¯·æ±‚å‘é€è‡³ http://<span class="hljs-subst">{IP}</span>:<span class="hljs-subst">{PORT}</span>/h5/log"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] æ—¥å¿—æ–‡ä»¶å°†ä¿å­˜è‡³ï¼š<span class="hljs-subst">{os.path.abspath(SAVE_DIR)}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"[*] æŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨\n"</span>)
    <span class="hljs-keyword">try</span>:
        server.serve_forever()
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n[*] æœåŠ¡å™¨æ­£åœ¨å…³é—­..."</span>)
        server.server_close()
</code></pre>
<p>å°†ä»£ç copyä¸‹æ¥ä¿å­˜ä¸ºlog_server.pyï¼Œç„¶ååœ¨åŒçº§ç›®å½•ä¸‹è¿è¡Œï¼Œå³å¯å¯åŠ¨æœ¬åœ°ç«¯å£</p>
<pre><code class="hljs language-powershell" lang="powershell">python3 log_server.py
</code></pre>
<p>ç»“æœå¦‚å›¾è¡¨ç¤ºå¯åŠ¨æˆåŠŸ
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6f83108f5ad47e38a214a84ef38b211~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmWeWnlsbHkuro=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551073&amp;x-signature=O%2B3eUKU2U5Vpuo6kqBq0QiVRYrM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">2 å°è£…ä¸Šä¼ æ–¹æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logLocal</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> href = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>
  <span class="hljs-keyword">if</span> (!href.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'https://test'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-comment">// ä»…æµ‹è¯•ç¯å¢ƒä½¿ç”¨</span>
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://IP:PORT/h5/log'</span>, { <span class="hljs-comment">// IP-æœ¬åœ°IPï¼ŒPORT-è¿›è¡Œç›‘å¬çš„æ¥å£</span>
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      <span class="hljs-attr">url</span>: href,
      ...data
    })
  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
}
</code></pre>
<h3 data-id="heading-5">3 ä¸Šä¼ æ•°æ®</h3>
<p>åœ¨jsä»£ç ä¸­çš„éœ€è¦ä½ç½®è°ƒç”¨logLocal</p>
<pre><code class="hljs language-javascript" lang="javascript">...
<span class="hljs-title function_">logLocal</span>({ <span class="hljs-attr">msg</span>: <span class="hljs-string">'è¿™æ˜¯ä¸ªæµ‹è¯•log'</span> })
...
</code></pre>
<h3 data-id="heading-6">4 æŸ¥çœ‹æ—¥å¿—</h3>
<p>åœ¨log_server.pyè„šæœ¬çš„åŒçº§ç›®å½•ä¸‹ï¼Œæ‰“å¼€h5/logçš„æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°log_{date}.txtï¼Œæ‰“å¼€åå¦‚ä¸‹å›¾ï¼Œurlå’Œéœ€è¦ä¸ŠæŠ¥çš„ä¿¡æ¯ä¸Šä¼ æˆåŠŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d501268cbcfb48758d584ac914ae1ad7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmWeWnlsbHkuro=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551073&amp;x-signature=Q2nO%2F%2BMpVHqUpXCpp2T1sSa2hqI%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ä¸Šæ˜Ÿè¾°ï¼Œäººé—´çƒŸç«ï¼šæˆ‘çš„2025]]></title>    <link>https://juejin.cn/post/7592887786967072804</link>    <guid>https://juejin.cn/post/7592887786967072804</guid>    <pubDate>2026-01-09T07:23:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786967072804" data-draft-id="7592921639464501290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ä¸Šæ˜Ÿè¾°ï¼Œäººé—´çƒŸç«ï¼šæˆ‘çš„2025"/> <meta itemprop="keywords" content="å‰ç«¯,ä»£ç è§„èŒƒ,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-09T07:23:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhouzhouya"/> <meta itemprop="url" content="https://juejin.cn/user/3931509312987511"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ä¸Šæ˜Ÿè¾°ï¼Œäººé—´çƒŸç«ï¼šæˆ‘çš„2025
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3931509312987511/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zhouzhouya
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:23:27.000Z" title="Fri Jan 09 2026 07:23:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç¯‡</h2>
<p>2025å¹´å°±è¿™ä¹ˆè¿‡å»äº†ã€‚è¯´å®è¯ï¼Œç«™åœ¨12æœˆçš„å°¾å·´ä¸Šå¾€å›çœ‹ï¼Œæ„Ÿè§‰æ—¶é—´å°±åƒè¢«æŒ‰äº†1.5å€é€Ÿï¼Œä¸Šä¸€ç§’è¿˜åœ¨ä¸ºæŸä¸ªçš„éœ€æ±‚å‘æ„ï¼Œä¸‹ä¸€ç§’å·²ç»åœ¨å†™å¹´ç»ˆæ€»ç»“äº†ã€‚</p>
<p>è¿™ä¸€å¹´æŒºæœ‰æ„æ€çš„ã€‚å·¥ä½œä¸Šï¼Œæˆ‘ä»ä¸€ä¸ªåŸ‹å¤´å†™ä»£ç çš„å‰ç«¯ï¼Œå¼€å§‹å­¦ç€æŠ¬å¤´çœ‹è·¯ï¼›ç”Ÿæ´»é‡Œï¼Œæˆ‘ä¹Ÿåœ¨å’Œé‚£äº›â€œç¨‹åºå‘˜èŒä¸šç—…â€æ–—æ™ºæ–—å‹‡ï¼Œè¯•ç€åœ¨é”®ç›˜ä¹‹å¤–ï¼Œæ‰¾å›ç”Ÿæ´»çš„å®æ„Ÿã€‚</p>
<h3 data-id="heading-1">ç§Ÿæˆ¿è®°ï¼šæ¼‚æ³Šä¸­çš„é¡¿æ‚Ÿ</h3>
<p>ä½œä¸ºä¸€ä¸ªè€åŒ—æ¼‚ï¼Œä¹Ÿæ˜¯æ²¡æƒ³åˆ°è¿™ç§äº‹æƒ…å‘ç”Ÿåœ¨è‡ªå·±çš„èº«ä¸Šã€‚å¹´åˆå†³å®šæ¢æˆ¿æ—¶ï¼Œæˆ‘æ›¾å¤©çœŸåœ°ä»¥ä¸ºè¿™ä¸è¿‡æ˜¯å’Œä»¥å‰ä¸€æ ·æ˜¯ä¸€æ¬¡è½»æ¾çš„"æˆ¿å±‹å¤§å†’é™©"ã€‚æ˜¥æ—¥çš„é˜³å…‰é€è¿‡ç»ç’ƒçª—æ´’åœ¨è„¸ä¸Šï¼Œæˆ‘å“¼ç€æ­Œåœ¨ç§Ÿæˆ¿å¹³å°æ»‘åŠ¨å±å¹•ï¼Œå¹»æƒ³ç€æ–°å®¶çš„è½åœ°çª—å’Œé£˜çª—ä¸Šçš„ç»¿æ¤ã€‚é‚£æ—¶çš„æˆ‘å°šæœªæ„è¯†åˆ°ï¼Œè¿™æ¬¡ç§Ÿæˆ¿ä¼šä»¥ä¸¤æ¬¡è¢«æ”¾é¸½å­å¼€åœºï¼Œåœ¨æ„¤æ€’ä¸å¤±æœ›ä¸­æ­å¼€ç”Ÿæ´»æœ€çœŸå®çš„ç§Ÿæˆ¿å¸‚åœºã€‚</p>
<p>ç¬¬ä¸€æ¬¡è¢«é¸½æ˜¯åœ¨å‘¨ä¸‰ä¸€ä¸ªæ™šç¡çš„æ·±å¤œã€‚çº¦å¥½çœ‹æˆ¿ç­¾çº¦çš„å¥³å­©å‘å¾®ä¿¡å‘Šè¯‰æˆ‘ä¸è½¬ç§Ÿäº†ï¼Œæœ›ç†è§£ï¼Œæ²¡åŸå› ï¼Œæ²¡è§£é‡Šï¼Œç›´æ¥æ‹‰é»‘åˆ é™¤æˆ‘ã€‚æ­¤æ—¶æˆ‘è¿˜æ²¡æœ‰å¾ˆå¤§çš„æƒ…ç»ªæ³¢åŠ¨ï¼Œæ¯•ç«Ÿæˆ¿å­é‚£ä¹ˆå¤šï¼Œç§Ÿæˆ¿è€Œå·²ï¼Œå†æ‰¾å°±æ˜¯äº†ã€‚</p>
<p>è¿ç€å‡ ä¸ªå‘¨æœ«çœ‹æˆ¿æ‰¾æˆ¿ï¼Œåˆ«è¯´ä¸­ä»‹çƒ¦ä¸çƒ¦ï¼Œæˆ‘æ˜¯è›®åŠ³ç´¯ã€‚</p>
<p>ç»ˆäºåœ¨åŒå°åŒºæ‰¾åˆ°äº†åˆé€‚çš„æˆ¿å­ï¼Œçº¦å¥½å‘¨å…­ä¸‹åˆç­¾çº¦ï¼Œç„¶è€Œéšä¹‹è€Œæ¥çš„å°±æ˜¯è¢«äºŒæ¬¡è¢«é¸½ã€‚å‘¨å…­ä¸Šåˆæˆ‘å’Œè€å…¬æ—©æ—©èµ·æ¥æ‰“åŒ…å¥½æ‰€æœ‰çš„ç‰©å“ï¼Œå°±ç­‰ç€ç­¾çº¦åç«‹å³æ¬å®¶ï¼Œç„¶åæˆ¿ä¸œè¿Ÿè¿Ÿä¸æ¥ç­¾çº¦ï¼Œæˆ‘å°±æ„è¯†åˆ°äº†ä¸å¦™ï¼Œæœç„¶å¥³äººçš„ç¬¬å…­æ„Ÿå°±æ˜¯å‡†ï¼Œæ‰“äº†æˆ¿ä¸œç”µè¯å‘ŠçŸ¥æˆ‘ä¸ç§Ÿäº†ï¼Œäº²æˆšå®¶çš„å­©å­è¦æ¥ä½ã€‚è¿™å¯¹äºæ”¶æ‹¾äº†ä¸€ä¸Šåˆçš„æˆ‘æ¥è¯´é¡¿æ„Ÿæ™´å¤©éœ¹é›³ï¼Œæ„¤æ€’æ€¨æ¨å……æ–¥æ•´ä¸ªæˆ¿é—´ã€‚</p>
<p>ä¸è¿‡æœ€ç»ˆåŸæˆ¿ä¸œå¬è¿‡æˆ‘çš„ç»å†ä¹‹åï¼Œç»™æˆ‘ä»¬é™ç§Ÿé‡‘è®©æˆ‘ä»¬ç»§ç»­ç»­ç§Ÿï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ç‚¹ç‚¹å®‰æ…°å§ã€‚</p>
<p>å…¶å®é‚£ä¼šå„¿ï¼Œæˆ‘å¿ƒé‡Œå¤´æ¸æ¸èŒç”Ÿå‡ºæƒ³åœ¨åŒ—äº¬ä¹°æˆ¿çš„å¿µå¤´ã€‚æƒ³è±¡ç€è¦æ˜¯èƒ½æœ‰ä¸€å¥—å±äºè‡ªå·±çš„æˆ¿å­ï¼Œé‚£è¯¥å¤šè¸å®ã€‚å¯ç°å®å¾ˆå¿«å°±ç»™æˆ‘æ³¼äº†å†·æ°´â€”â€”åŒ—äº¬çš„æˆ¿å­ï¼Œå“ªæ˜¯é‚£ä¹ˆå¥½ä¹°çš„å‘€ã€‚</p>
<p>é¦–å½“å…¶å†²çš„å°±æ˜¯æ€»ä»·é«˜å¾—å“äººã€‚éšä¾¿ä¸€å¥—å°æˆ·å‹ï¼ŒåŠ¨è¾„å‡ ç™¾ä¸‡ã€‚å†å°±æ˜¯æˆ·å£é—®é¢˜ï¼Œæ²¡æœ‰åŒ—äº¬æˆ·å£ï¼Œæœªæ¥æœ‰å®å®åå­©å­çš„ä¸Šå­¦ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ã€‚</p>
<p>æ›´è®©æˆ‘çŠ¹è±«çš„æ˜¯ï¼Œæˆ¿ä»·è·Ÿåæ»‘æ¢¯ä¼¼çš„ï¼Œå‡ åä¸‡ç”šè‡³ä¸Šç™¾ä¸‡åœ°å¾€ä¸‹é™ã€‚èº«è¾¹æœ‹å‹éƒ½åœ¨è¯´ï¼Œç°åœ¨ç»ä¸æ˜¯å…¥æ‰‹çš„å¥½æ—¶æœºï¼Œä¸‡ä¸€ä¹°äº†åˆè·Œï¼Œå‡ å¹´ç™½å¹²ã€‚æ¯æ¬¡å¬åˆ°è¿™äº›ï¼Œæˆ‘å¿ƒé‡Œå°±ç›´æ‰“é¼“ï¼Œä¹°æˆ¿çš„å¿µå¤´ä¹Ÿè·Ÿç€åŠ¨æ‘‡èµ·æ¥ã€‚</p>
<p>ä½†è½¬å¿µä¸€æƒ³ï¼Œè™½ç„¶ç°åœ¨è¿˜ä¸èƒ½ä¹°ï¼Œå¯å­˜é’±æ€»æ˜¯æ²¡é”™çš„ã€‚æ¯ä¸ªæœˆå‘äº†å·¥èµ„ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯å­˜ä¸€éƒ¨åˆ†èµ·æ¥ï¼Œçœ‹ç€é“¶è¡Œå¡é‡Œçš„æ•°å­—æ…¢æ…¢å¾€ä¸Šæ¶¨ï¼Œå¿ƒé‡Œä¹Ÿæ˜¯å¼€å¿ƒçš„ã€‚è¯´ä¸å®šå“ªå¤©ï¼Œæ—¶æœºæˆç†Ÿäº†ï¼Œæˆ‘å°±èƒ½åœ¨è¿™åº§åŸå¸‚é‡Œï¼Œæœ‰ä¸€ä¸ªçœŸæ­£å±äºè‡ªå·±çš„å°çªå‘¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3149a487f0fa4b11afe2138b919ba334~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemhvdXpob3V5YQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551461&amp;x-signature=5DpIhec%2BKAQAbAE9JZ4m6vHbabY%3D" alt="image.png" loading="lazy"/></p>
<br/>
<h3 data-id="heading-2">å·¥ä½œæˆé•¿ï¼šä»ç®€å•æ‰§è¡Œåˆ°ä¸»åŠ¨æ·±è€•ï¼Œå€ŸAIä¸œé£é‡æ„ä»£ç æ–°ç¯‡</h3>
<p>åœ¨å·¥ä½œä¸­ï¼ŒAIçš„å‡ºç°è®©æˆ‘ç»å†äº†æ˜¾è‘—çš„èœ•å˜ï¼Œæœ€ä¸ºçªå‡ºçš„ä¾¿æ˜¯ä¸»åŠ¨æ€§çš„å¤§å¹…å¢å¼ºã€‚è¿™ç§è½¬å˜å¹¶éä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯ä½“ç°åœ¨æ—¥å¸¸å·¥ä½œçš„æ¯ä¸€ä¸ªç»†å¾®ä¹‹å¤„ã€‚è¿‡å»ï¼Œæˆ‘å®Œæˆä»»åŠ¡çš„æ ‡å‡†ä»…ä»…æ˜¯â€œåšå®Œè¿™ä¸ªéœ€æ±‚â€ï¼Œæ»¡è¶³äºäº¤ä»˜åŸºæœ¬åŠŸèƒ½ï¼Œå¯¹ä»£ç çš„è´¨é‡å’Œé¡¹ç›®çš„é•¿è¿œå‘å±•ç¼ºä¹æ·±å…¥æ€è€ƒã€‚ç„¶è€Œï¼Œéšç€å·¥ä½œç»éªŒçš„ç§¯ç´¯å’Œè‡ªæˆ‘è¦æ±‚çš„æå‡ï¼Œæˆ‘é€æ¸å°†ç›®æ ‡è½¬å˜ä¸ºâ€œåšå¥½è¿™ä¸ªéœ€æ±‚â€ï¼ŒåŠ›æ±‚åœ¨åŠŸèƒ½å®ç°çš„åŸºç¡€ä¸Šï¼Œè¿½æ±‚ä»£ç çš„ç®€æ´æ€§ã€å¯ç»´æŠ¤æ€§å’Œé«˜æ€§èƒ½ã€‚</p>
<p>è¿™ç§è½¬å˜å¸¦æ¥çš„å½±å“æ˜¯æ·±è¿œçš„ã€‚å®ƒè®©æˆ‘ä»¥æ›´ä¸¥è°¨çš„æ€åº¦å¯¹å¾…æ¯ä¸€è¡Œä»£ç ï¼Œä¸å†æ»¡è¶³äºç®€å•çš„â€œèƒ½ç”¨â€ï¼Œè€Œæ˜¯è¿½æ±‚â€œå¥½ç”¨ä¸”è€ç”¨â€ã€‚æˆ‘å¼€å§‹ä¸»åŠ¨ç ”ç©¶ä»£ç æ¶æ„çš„ä¼˜åŒ–ï¼Œæ€è€ƒå¦‚ä½•è®©ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œå‡å°‘å†—ä½™ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚è¿™ç§å¯¹ä»£ç è´¨é‡çš„æ‰§ç€è¿½æ±‚ï¼Œä¸ä»…æå‡äº†é¡¹ç›®çš„æ•´ä½“æ€§èƒ½ï¼Œä¹Ÿä¸ºæˆ‘åç»­çš„å·¥ä½œå¥ å®šäº†åšå®çš„åŸºç¡€ã€‚</p>
<p>ä»Šå¹´ï¼Œæˆ‘æ‰¿æ‹…äº†ä¸€é¡¹æå…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡â€”â€”å¯¹æ•´ä¸ªé¡¹ç›®çš„ä»£ç è¿›è¡Œé‡æ„ã€‚è¿™ä¸€å†³ç­–çš„èƒŒåï¼Œæ—¢æœ‰æˆ‘å†…å¿ƒæ¸´æœ›æ‰¿æ‹…æ›´å¤šè´£ä»»ã€æŒ‘æˆ˜è‡ªæˆ‘çš„é©±åŠ¨åŠ›ï¼Œä¹Ÿç¦»ä¸å¼€å¤–éƒ¨æŠ€æœ¯ç¯å¢ƒçš„å¯å‘ã€‚è¿‘å¹´æ¥ï¼ŒAI æŠ€æœ¯å¦‚é›¨åæ˜¥ç¬‹èˆ¬è“¬å‹ƒå‘å±•ï¼Œå…¶å¼ºå¤§çš„èƒ½åŠ›å’Œå¹¿æ³›çš„åº”ç”¨è®©æˆ‘æ·±åˆ»è®¤è¯†åˆ°ä»£ç è§„èŒƒåŠæ€§èƒ½çš„é‡è¦æ€§ã€‚è¯´å®è¯ï¼Œè¿™æ¬¡é‡æ„ï¼Œæœ‰50%çš„åŠŸåŠ³å±äºAIçš„ã€‚</p>
<ul>
<li>è¿™é‡Œè¦ç»™TRAEæ‰“ä¸ªå°å¹¿å‘Šäº†ï¼Œç”±äºè‡ªå·±æƒ³ç”¨ä½†ä¸æƒ³èŠ±å¤ªå¤šé’±ï¼Œæœ€ç»ˆé€‰æ‹©äº†æ€§ä»·æ¯”è¾ƒé«˜çš„TRAEï¼Œç›®å‰ç”¨èµ·æ¥æ˜¯å®Œå…¨èƒ½æ»¡è¶³æˆ‘æ—¥å¸¸å¼€å‘éœ€æ±‚çš„ã€‚</li>
</ul>
<p>é™¤å»è¿™äº›ï¼Œæˆ‘ä¹Ÿä¼šä¸»åŠ¨æ‰¿æ‹…ä¸€äº›å·¥ä½œå¤–çš„äº‹æƒ…ï¼Œå¸®åŠ©åˆ«äººè§£å†³ä¸€äº›é—®é¢˜ç­‰ã€‚ä»¥åä¹Ÿè¦ç»§ç»­ä¿æŒè¿™ä»½çƒ­æƒ…å’ŒåŠ¨åŠ›ï¼Œä¸æ–­æå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œè´¡çŒ®æ›´å¤šçš„åŠ›é‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b918902ba113467ba05c62bc92c8580f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemhvdXpob3V5YQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551461&amp;x-signature=R1yTjPtpuW%2BbuJuPN0CP4VZGMA4%3D" alt="image.png" loading="lazy"/></p>
<br/>
<h3 data-id="heading-3">2026å¹´ç›®æ ‡</h3>
<p>2026å¹´ï¼ŒæŠŠæƒ³åšçš„äº‹ï¼Œä¸€æ­¥æ­¥å˜æˆæ­£åœ¨åšçš„äº‹ã€å·²ç»åšå®Œçš„äº‹ã€‚</p>
<h4 data-id="heading-4">1ï¸âƒ£ <strong>è´¢åŠ¡è®¡åˆ’</strong></h4>
<p>å­˜é’±ï¼š</p>
<ul>
<li>æ¯æœˆå›ºå®šå­˜å…¥ï¼Œç›´åˆ°è¾¾åˆ°ç›®æ ‡é‡‘é¢ã€‚</li>
<li>ç›®æ ‡ï¼šé€šè¿‡æ˜é‡‘AIDPå…¼èŒæ”’ä¸€ç¬”â€œéŸ©å›½æ—…è¡Œâ€çš„ä¸“é¡¹èµ„é‡‘ã€‚</li>
</ul>
<h4 data-id="heading-5">2ï¸âƒ£ <strong>ä½“éªŒæ¸…å•ï¼šæŠŠâ€œæƒ³å»â€å˜æˆâ€œå»è¿‡â€</strong></h4>
<p>ç”¨è¡ŒåŠ¨å…‘ç°å¯¹è‡ªå·±çš„æ‰¿è¯ºï¼š</p>
<ul>
<li><strong>éŸ©å›½ä¹‹æ—…</strong>ï¼š25å¹´åŠçš„æŠ¤ç…§ä¸èƒ½åªèººåœ¨æŠ½å±‰é‡Œï¼Œè®¡åˆ’åœ¨æ·¡å­£å®‰æ’ä¸€æ¬¡å››å¤©ä¸‰æ™šçš„é¦–å°”/æµå·å²›è‡ªç”±è¡Œã€‚</li>
<li><strong>æ»‘é›ªåˆä½“éªŒ</strong>ï¼šçœ‹å®Œã€Šéª„é˜³ä¼¼æˆ‘ã€‹ï¼Œæ„Ÿè§‰æ»‘é›ªå¥½å¸…ï¼Œæˆ‘ä¹Ÿè¦å»å­¦æ»‘é›ª</li>
</ul>
<h4 data-id="heading-6">3ï¸âƒ£ <strong>ä¸“ä¸šè®¤è¯ï¼šè¡¥ä¸Šå»å¹´è½ä¸‹çš„flag</strong></h4>
<p><strong>è½¯è€ƒä¸­çº§</strong>ä¸èƒ½å†æ‹–äº†ï¼š</p>
<ul>
<li>ä¸€å­£åº¦å‰ç¡®å®šæŠ¥è€ƒæ–¹å‘ï¼ˆç³»ç»Ÿæ¶æ„/è½¯ä»¶è®¾è®¡ï¼‰</li>
<li>åŠ å…¥å­¦ä¹ å°ç»„ï¼ŒæŒ‰è®¡åˆ’æ¨è¿›ï¼Œæ¯å‘¨æŠ•å…¥6å°æ—¶</li>
<li>æœ€æ™šQ3å®Œæˆè€ƒè¯•ï¼Œè¿™æ¬¡ä¸å†â€œä¸‹æ¬¡ä¸€å®šâ€</li>
</ul>
<h4 data-id="heading-7">4ï¸âƒ£ <strong>è¯­è¨€æŒç»­ï¼šè®©è‹±è¯­æˆä¸ºä¹ æƒ¯ï¼Œè€Œéä»»åŠ¡</strong></h4>
<ul>
<li>å·¥ä½œæ—¥æ¯å¤©20åˆ†é’Ÿå¬åŠ›/é˜…è¯»ï¼ˆé€šå‹¤æ—¶é—´åˆ©ç”¨ï¼‰</li>
<li>å¹´åº•å‰èƒ½æ— å­—å¹•çœ‹å®Œä¸€éƒ¨å–œæ¬¢çš„è‹±æ–‡å‰§é›†</li>
</ul>
<h3 data-id="heading-8">2026å¹´çš„æ ¸å¿ƒè¯æ˜¯ï¼š<strong>å…‘ç°</strong>ã€‚</h3>
<p>ä¸å†è®©ç›®æ ‡åªåœç•™åœ¨â€œæƒ³â€çš„å±‚é¢ï¼Œè€Œæ˜¯è¦æŠŠé‚£äº›å¯¹ç”Ÿæ´»çš„å‘å¾€ã€å¯¹èŒä¸šçš„è§„åˆ’ã€å¯¹è‡ªå·±çš„æ‰¿è¯ºï¼Œä¸€æ­¥æ­¥è½¬åŒ–ä¸ºå…·ä½“å¯æ‰§è¡Œçš„è®¡åˆ’ï¼Œå¹¶<strong>è®©æ—¶é—´çœ‹å¾—è§ç»“æœ</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ä¸­çš„ AI ä¸æœºå™¨å­¦ä¹ ï¼šTensorFlowã€DJL ä¸ä¼ä¸šçº§ AI]]></title>    <link>https://juejin.cn/post/7593015632082894875</link>    <guid>https://juejin.cn/post/7593015632082894875</guid>    <pubDate>2026-01-09T08:17:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593015632082894875" data-draft-id="7593015632082862107" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java ä¸­çš„ AI ä¸æœºå™¨å­¦ä¹ ï¼šTensorFlowã€DJL ä¸ä¼ä¸šçº§ AI"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-09T08:17:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿¡ç ç”±ç¼°"/> <meta itemprop="url" content="https://juejin.cn/user/2110664941509214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java ä¸­çš„ AI ä¸æœºå™¨å­¦ä¹ ï¼šTensorFlowã€DJL ä¸ä¼ä¸šçº§ AI
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2110664941509214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿¡ç ç”±ç¼°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:17:23.000Z" title="Fri Jan 09 2026 08:17:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€ï¼šJava æ„å¤–çš„æœºå™¨å­¦ä¹ å¤å…´</h2>
<p>å°½ç®¡ Python ä¸»å¯¼äº†æœºå™¨å­¦ä¹ çš„ç ”ç©¶ä¸å®éªŒï¼Œä½†ç”Ÿäº§éƒ¨ç½²è®²è¿°ç€ä¸åŒçš„æ•…äº‹ã€‚æˆªè‡³ 2025 å¹´ï¼Œ68% çš„åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Java æˆ– JVM ä¸Šï¼Œé‚£äº›å·²åœ¨ Java ç”Ÿæ€ç³»ç»ŸæŠ•å…¥å·¨èµ„çš„ä¼ä¸šé¢ä¸´ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šæ˜¯é‡æ–°åŸ¹è®­å›¢é˜Ÿå¹¶é‡å†™ç³»ç»Ÿï¼Œè¿˜æ˜¯å°†æœºå™¨å­¦ä¹ èƒ½åŠ›å¼•å…¥ Javaï¼Ÿç­”æ¡ˆæ­£æ—¥ç›Šå€¾å‘äºåè€…ã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-0.png" alt="" loading="lazy"/></p>
<p>Netflix ä½¿ç”¨ Deep Java Library è¿›è¡Œåˆ†å¸ƒå¼æ·±åº¦å­¦ä¹ å®æ—¶æ¨ç†ï¼Œé€šè¿‡å­—ç¬¦çº§ CNN å’Œé€šç”¨å¥å­ç¼–ç å™¨æ¨¡å‹å¤„ç†æ—¥å¿—æ•°æ®ï¼Œæ¯ä¸ªäº‹ä»¶çš„å»¶è¿Ÿä¸º 7 æ¯«ç§’ã€‚è¿™ä»£è¡¨äº†ä¸€ä¸ªæ›´å¹¿æ³›çš„è¶‹åŠ¿â€”â€”å°½ç®¡ Python åœ¨è®­ç»ƒæ–¹é¢å ä¸»å¯¼åœ°ä½ï¼Œä½† Java åœ¨ç”Ÿäº§ç³»ç»Ÿã€å¤šçº¿ç¨‹ã€ç¨³å®šæ€§å’Œä¼ä¸šé›†æˆæ–¹é¢çš„ä¼˜åŠ¿ï¼Œä½¿å…¶åœ¨æœºå™¨å­¦ä¹ éƒ¨ç½²ä¸Šæå…·å¸å¼•åŠ›ã€‚</p>
<p>æœ¬æ–‡æ¢è®¨ Java åœ¨æœºå™¨å­¦ä¹ ç”Ÿå‘½å‘¨æœŸä¸­çš„è§’è‰²ï¼Œæ¯”è¾ƒå„ç§æ¡†æ¶ï¼Œæ¢ç´¢ä¸ Python ç”Ÿæ€ç³»ç»Ÿçš„é›†æˆæ¨¡å¼ï¼Œå¹¶è¯†åˆ« Java æä¾›æ˜æ˜¾ä¼˜åŠ¿çš„åœºæ™¯ã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-1_cn.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2. Java ML æ¡†æ¶å¯¹æ¯”</h2>
<h3 data-id="heading-2">2.1 Deep Java Libraryï¼šå¼•æ“æ— å…³çš„æ–¹æ¡ˆ</h3>
<p>Deep Java Library æ˜¯ä¸€ä¸ªå¼€æºçš„ã€é«˜å±‚æ¬¡çš„ã€å¼•æ“æ— å…³çš„ Java æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå®ƒæä¾›åŸç”Ÿ Java å¼€å‘ä½“éªŒï¼ŒåŠŸèƒ½å¦‚åŒä»»ä½•å…¶ä»–å¸¸è§„ Java åº“ã€‚ç”± AWS åˆ›å»ºçš„ DJLï¼Œå…¶æ¶æ„ç†å¿µä»¥æŠ½è±¡ä¸ºæ ¸å¿ƒâ€”â€”å¼€å‘è€…ç¼–å†™ä¸€æ¬¡ä»£ç ï¼Œå³å¯åœ¨ PyTorchã€TensorFlowã€MXNet æˆ– ONNX Runtime ä¹‹é—´åˆ‡æ¢è€Œæ— éœ€ä¿®æ”¹ã€‚</p>
<p>è¯¥æ¡†æ¶ç”±äº”å±‚æ¶æ„ç»„æˆã€‚é«˜å±‚ API å±‚æä¾›ç¬¦åˆ Java ä¹ æƒ¯çš„æ¥å£ï¼Œä¾›å¼€å‘è€…ç›´æ¥äº¤äº’ã€‚å¼•æ“æŠ½è±¡å±‚ä¸åº•å±‚æ¡†æ¶é€šä¿¡ï¼Œéšè—å®ç°å·®å¼‚ã€‚NDManager ç®¡ç†è¡¨ç¤ºå¼ é‡çš„ NDArray çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨å¤„ç†åè‡ªåŠ¨é‡Šæ”¾å¼ é‡å†…å­˜ä»¥é˜²æ­¢æ³„æ¼æˆ–å´©æºƒã€‚æ•°æ®å¤„ç†å±‚æä¾›ä¸ºæ¨¡å‹å‡†å¤‡æ•°æ®çš„å®ç”¨å·¥å…·ã€‚æœ€åï¼ŒåŸç”Ÿå¼•æ“å±‚é€šè¿‡å¯¹ C++ å®ç°çš„ JNA è°ƒç”¨æ‰§è¡Œå®é™…è®¡ç®—ã€‚</p>
<p>DJL ä¸ TensorFlowã€PyTorchã€MXNet ç­‰å„ç§æ·±åº¦å­¦ä¹ æ¡†æ¶æ— ç¼é›†æˆï¼Œæä¾›ä¸€ä¸ªé«˜å±‚æ¬¡ API ä»¥ä¾¿äºåœ¨ Java ç¯å¢ƒä¸­è½»æ¾æ„å»ºã€è®­ç»ƒå’Œéƒ¨ç½²æ¨¡å‹ï¼Œå¹¶ä¸”ä¸ AWS æœåŠ¡ç´§å¯†é›†æˆã€‚å…¶ Model Zoo æä¾›äº†æ¥è‡ª GluonCVã€HuggingFaceã€TorchHub å’Œ Keras çš„ 70 å¤šä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œæ”¯æŒå•è¡Œå‘½ä»¤åŠ è½½æ¨¡å‹ã€‚</p>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>å¼•æ“çµæ´»æ€§</strong>ï¼šå…è®¸æ ¹æ®éƒ¨ç½²éœ€æ±‚åˆ‡æ¢åç«¯ï¼ˆç ”ç©¶æ¨¡å‹ç”¨ PyTorchï¼Œç”Ÿäº§ç”¨ MXNetï¼Œè·¨å¹³å°ç”¨ ONNXï¼‰ã€‚</p>
</li>
<li>
<p><strong>åŸç”Ÿå¤šçº¿ç¨‹æ”¯æŒ</strong>ï¼šä¸ Akkaã€Akka Streams åŠå¹¶å‘ Java åº”ç”¨ç¨‹åºè‡ªç„¶é›†æˆã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨ CPU/GPU æ£€æµ‹</strong>ï¼šæ— éœ€é…ç½®å³å¯ç¡®ä¿æœ€ä½³ç¡¬ä»¶åˆ©ç”¨ç‡ã€‚</p>
</li>
<li>
<p><strong>é€šè¿‡ DJL Spring starters é›†æˆ Spring Boot</strong>ï¼šç®€åŒ–ä¼ä¸šé‡‡ç”¨ã€‚</p>
</li>
</ul>
<p><strong>å±€é™ï¼š</strong></p>
<ul>
<li>
<p><strong>è®­ç»ƒåŠŸèƒ½å­˜åœ¨ï¼Œä½†ä¸å¦‚æ¨ç†åŠŸèƒ½æˆç†Ÿ</strong>ã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£ä¾§é‡äºæ¨ç†è€Œéè®­ç»ƒå·¥ä½œæµ</strong>ã€‚</p>
</li>
<li>
<p><strong>ç¤¾åŒºè§„æ¨¡å°äº Python ä¼˜å…ˆçš„æ¡†æ¶</strong>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">2.2 Deeplearning4jï¼šJVM åŸç”Ÿè§£å†³æ–¹æ¡ˆ</h3>
<p>Eclipse Deeplearning4j æ˜¯ä¸º Java è™šæ‹Ÿæœºç¼–å†™çš„ç¼–ç¨‹åº“ï¼Œæ˜¯ä¸€ä¸ªå¹¿æ³›æ”¯æŒæ·±åº¦å­¦ä¹ ç®—æ³•çš„æ¡†æ¶ï¼ŒåŒ…æ‹¬å—é™ç»å°”å…¹æ›¼æœºã€æ·±åº¦ä¿¡å¿µç½‘ç»œã€æ·±åº¦è‡ªåŠ¨ç¼–ç å™¨ã€å †å é™å™ªè‡ªåŠ¨ç¼–ç å™¨ã€é€’å½’ç¥ç»å¼ é‡ç½‘ç»œã€word2vecã€doc2vec å’Œ GloVe çš„å®ç°ã€‚</p>
<p>DL4J äº 2014 å¹´é—®ä¸–ï¼Œç›®æ ‡å®¢æˆ·æ˜¯å·²æŠ•å…¥ Java åŸºç¡€è®¾æ–½çš„ä¼ä¸šã€‚Eclipse Deeplearning4j é¡¹ç›®åŒ…æ‹¬ Samediffï¼ˆä¸€ä¸ªç±»ä¼¼ TensorFlow/PyTorch çš„æ¡†æ¶ï¼Œç”¨äºæ‰§è¡Œå¤æ‚è®¡ç®—å›¾ï¼‰ã€Python4jï¼ˆä¸€ä¸ª Python è„šæœ¬æ‰§è¡Œæ¡†æ¶ï¼Œç”¨äºå°† Python è„šæœ¬éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼‰ã€Apache Spark é›†æˆä»¥åŠ Datavecï¼ˆä¸€ä¸ªå°†åŸå§‹è¾“å…¥æ•°æ®è½¬æ¢ä¸ºå¼ é‡çš„æ•°æ®è½¬æ¢åº“ï¼‰ã€‚</p>
<p>è¯¥æ¡†æ¶çš„åˆ†å¸ƒå¼è®¡ç®—èƒ½åŠ›ä½¿å…¶åŒºåˆ«äºå…¶ä»–æ–¹æ¡ˆã€‚Deeplearning4j åŒ…å«ä¸ Apache Hadoop å’Œ Spark é›†æˆçš„åˆ†å¸ƒå¼å¹¶è¡Œç‰ˆæœ¬ã€‚å¯¹äºå¤„ç†å¤§è§„æ¨¡æ•°æ®çš„ç»„ç»‡ï¼ŒDL4J æä¾›äº†æ— éœ€ Python ä¾èµ–çš„åŸç”Ÿ JVM è§£å†³æ–¹æ¡ˆã€‚</p>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>å®Œæ•´çš„ ML ç”Ÿå‘½å‘¨æœŸæ”¯æŒ</strong>â€”â€”è®­ç»ƒã€æ¨ç†å’Œéƒ¨ç½²å®Œå…¨åœ¨ Java ä¸­å®Œæˆã€‚</p>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼è®­ç»ƒ</strong>ï¼šä½¿ç”¨ Spark æˆ– Hadoop åœ¨é›†ç¾¤ä¸­æ‰©å±•ã€‚</p>
</li>
<li>
<p><strong>ND4J</strong> æä¾›æ”¯æŒ GPU åŠ é€Ÿçš„ã€ç±»ä¼¼ NumPy çš„ n ç»´æ•°ç»„ã€‚</p>
</li>
<li>
<p><strong>SameDiff</strong> æä¾›ç±»ä¼¼ TensorFlow çš„â€œå…ˆå®šä¹‰åè¿è¡Œâ€å›¾æ‰§è¡Œæ–¹å¼ã€‚</p>
</li>
<li>
<p><strong>Keras æ¨¡å‹å¯¼å…¥</strong>ï¼šæ”¯æŒ h5 æ–‡ä»¶ï¼ŒåŒ…æ‹¬ tf.keras æ¨¡å‹ã€‚</p>
</li>
</ul>
<p><strong>å±€é™ï¼š</strong></p>
<ul>
<li>
<p>æ–‡æ¡£å’Œç¤¾åŒºèµ„æºè½åäº TensorFlow å’Œ PyTorchã€‚</p>
</li>
<li>
<p>ä¸é«˜å±‚æ¬¡æ¡†æ¶ç›¸æ¯”å­¦ä¹ æ›²çº¿æ›´é™¡å³­ã€‚</p>
</li>
<li>
<p>é‡‡ç”¨èŒƒå›´è¾ƒçª„ï¼Œä¸»è¦é›†ä¸­åœ¨é‡åº¦ä½¿ç”¨ Java çš„ä¼ä¸šã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">2.3 TensorFlow Javaï¼šå®˜æ–¹ä½†åŠŸèƒ½æœ‰é™</h3>
<p>TensorFlow Java å¯åœ¨ä»»ä½• JVM ä¸Šè¿è¡Œä»¥æ„å»ºã€è®­ç»ƒå’Œéƒ¨ç½²æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæ”¯æŒ CPU å’Œ GPU åœ¨å›¾æ¨¡å¼æˆ–å³æ—¶æ‰§è¡Œæ¨¡å¼ä¸‹çš„è¿è¡Œï¼Œå¹¶æä¾›äº†åœ¨ JVM ç¯å¢ƒä¸­ä½¿ç”¨ TensorFlow çš„ä¸°å¯Œ APIã€‚ä½œä¸º TensorFlow çš„å®˜æ–¹ Java ç»‘å®šï¼Œå®ƒæä¾›äº†å¯¹ TensorFlow è®¡ç®—å›¾æ‰§è¡Œçš„ç›´æ¥è®¿é—®ã€‚</p>
<p>TensorFlow çš„ Java è¯­è¨€ç»‘å®šå·²ç§»è‡³å…¶ç‹¬ç«‹çš„ä»£ç åº“ï¼Œä»¥ä¾¿ç‹¬ç«‹äºå®˜æ–¹ TensorFlow ç‰ˆæœ¬è¿›è¡Œæ¼”è¿›å’Œå‘å¸ƒï¼Œå¤§å¤šæ•°æ„å»ºä»»åŠ¡å·²ä» Bazel è¿ç§»åˆ° Mavenã€‚è¿™ç§åˆ†ç¦»å…è®¸åœ¨ä¸ç­‰å¾… TensorFlow æ ¸å¿ƒå‘å¸ƒçš„æƒ…å†µä¸‹è¿›è¡Œ Java ç‰¹å®šçš„æ”¹è¿›ã€‚</p>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p>ä¸ TensorFlow ç”Ÿæ€ç³»ç»Ÿå’Œå·¥å…·ç›´æ¥é›†æˆã€‚</p>
</li>
<li>
<p>SavedModel æ ¼å¼å…¼å®¹æ€§æ”¯æŒä» Python åˆ° Java çš„æ— ç¼æ¨¡å‹ç§»äº¤ã€‚</p>
</li>
<li>
<p>TensorFlow Lite æ”¯æŒé¢å‘ç§»åŠ¨å’Œè¾¹ç¼˜éƒ¨ç½²ã€‚</p>
</li>
<li>
<p>é€šè¿‡åŸç”Ÿ TensorFlow è¿è¡Œæ—¶æ”¯æŒ GPU å’Œ TPU åŠ é€Ÿã€‚</p>
</li>
</ul>
<p><strong>å±€é™ï¼š</strong></p>
<ul>
<li>
<p>TensorFlow Java API ä¸åœ¨ TensorFlow API ç¨³å®šæ€§ä¿è¯èŒƒå›´å†…ã€‚</p>
</li>
<li>
<p>å¯¹ Keras on Java å‡ ä¹æ— å®˜æ–¹æ”¯æŒï¼Œè¿«ä½¿å¼€å‘è€…å¿…é¡»åœ¨ Python ä¸­å®šä¹‰å’Œè®­ç»ƒå¤æ‚æ¨¡å‹ä»¥ä¾›åç»­å¯¼å…¥ Javaã€‚</p>
</li>
<li>
<p>ä¸ DJL ç”šè‡³ DL4J ç›¸æ¯”ï¼Œè¾ƒä½çº§åˆ«çš„ API éœ€è¦ç¼–å†™æ›´å¤šä»£ç ã€‚</p>
</li>
</ul>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-2_cn.png" alt="" loading="lazy"/></p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-3_cn.png" alt="" loading="lazy"/></p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-4_cn.png" alt="" loading="lazy"/></p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-5_cn.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">3. æ¡†æ¶å¯¹æ¯”è¡¨</h2>
<p>| æ ‡å‡† | Deep Java Library | Deeplearning4j | TensorFlow Java |</p>
<p>| :--- | :--- | :--- | :--- |</p>
<p>| <strong>ä¸»è¦ç”¨ä¾‹</strong> | æ¨ç†ä¸æ¨¡å‹æœåŠ¡ | å®Œæ•´ ML ç”Ÿå‘½å‘¨æœŸ | æ¨¡å‹æœåŠ¡ |</p>
<p>| <strong>å¼•æ“æ”¯æŒ</strong> | PyTorch, TensorFlow, MXNet, ONNX | åŸç”Ÿ JVM | ä»… TensorFlow |</p>
<p>| <strong>è®­ç»ƒèƒ½åŠ›</strong> | æœ‰é™ | å®Œå…¨æ”¯æŒ | æœ‰é™ |</p>
<p>| <strong>åˆ†å¸ƒå¼è®¡ç®—</strong> | é€šè¿‡å¼•æ“ï¼ˆå¦‚ MXNet ä¸Šçš„ Sparkï¼‰ | åŸç”Ÿ Spark/Hadoop | é€šè¿‡ TensorFlow |</p>
<p>| <strong>æ¨¡å‹å¯¼å…¥</strong> | PyTorch, TensorFlow, Keras, ONNX | Keras, TensorFlow, ONNX | ä»… TensorFlow |</p>
<p>| <strong>é¢„è®­ç»ƒæ¨¡å‹</strong> | Model Zoo ä¸­ 70+ | ç¤¾åŒºæ¨¡å‹ | TensorFlow Hub |</p>
<p>| <strong>Spring Boot é›†æˆ</strong> | åŸç”Ÿ starters | æ‰‹åŠ¨ | æ‰‹åŠ¨ |</p>
<p>| <strong>å­¦ä¹ æ›²çº¿</strong> | ä½ | ä¸­-é«˜ | ä¸­ |</p>
<p>| <strong>å†…å­˜ç®¡ç†</strong> | NDManagerï¼ˆè‡ªåŠ¨ï¼‰ | ND4Jï¼ˆå †å¤–ï¼‰ | æ‰‹åŠ¨ä¼šè¯ |</p>
<p>| <strong>ä¼ä¸šå°±ç»ªåº¦</strong> | é«˜ | éå¸¸é«˜ | ä¸­ |</p>
<p>| <strong>ç¤¾åŒºè§„æ¨¡</strong> | å¢é•¿ä¸­ | å°ä¼— | å¤§ï¼ˆPythonï¼‰ |</p>
<p>| <strong>æœ€é€‚åˆ</strong> | äº‘åŸç”Ÿæ¨ç† | å¤§æ•°æ® ML æµæ°´çº¿ | TensorFlow ç”Ÿæ€ç³»ç»Ÿ |</p>
<p><strong>å†³ç­–çŸ©é˜µï¼š</strong></p>
<ul>
<li>
<p><strong>é€‰æ‹© DJL ç”¨äº</strong>ï¼šå¾®æœåŠ¡ã€æ— æœåŠ¡å™¨å‡½æ•°ã€Spring Boot åº”ç”¨ã€å¼•æ“çµæ´»æ€§ã€AWS ç”Ÿæ€ç³»ç»Ÿã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹© DL4J ç”¨äº</strong>ï¼šåˆ†å¸ƒå¼è®­ç»ƒã€Spark/Hadoop é›†æˆã€å®Œæ•´çš„çº¯ Java æŠ€æœ¯æ ˆã€ä¼ä¸šæ•°æ®æµæ°´çº¿ã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹© TensorFlow Java ç”¨äº</strong>ï¼šç°æœ‰çš„ TensorFlow æŠ•èµ„ã€TPU éƒ¨ç½²ã€ç›´æ¥çš„ Python æ¨¡å‹å…¼å®¹æ€§ã€‚</p>
</li>
</ul>
<h2 data-id="heading-6">4. ä¸ Python ML ç”Ÿæ€ç³»ç»Ÿçš„é›†æˆ</h2>
<h3 data-id="heading-7">4.1 å¤šè¯­è¨€ç”Ÿäº§æ¨¡å¼</h3>
<p>æœ€ä¼˜çš„ä¼ä¸š ML å·¥ä½œæµé€šå¸¸ç»“åˆ Python çš„ç ”ç©¶èƒ½åŠ›å’Œ Java çš„ç”Ÿäº§ä¼˜åŠ¿ã€‚æ•°æ®ç§‘å­¦å®¶åœ¨ç†Ÿæ‚‰çš„ Python ç¯å¢ƒä¸­ä½¿ç”¨ TensorFlowã€PyTorch æˆ– scikit-learn è®­ç»ƒæ¨¡å‹ã€‚å·¥ç¨‹å¸ˆéšåå°†è¿™äº›æ¨¡å‹éƒ¨ç½²åœ¨æ¯å¤©å¤„ç†æ•°ç™¾ä¸‡è¯·æ±‚çš„ Java åº”ç”¨ç¨‹åºä¸­ã€‚</p>
<p><strong>æ¨¡å‹å¯¼å‡ºæ ¼å¼ï¼š</strong></p>
<ul>
<li>
<p><strong>ONNX</strong>ï¼šè¿™ä¸ªé€šç”¨çš„äº¤æ¢æ ¼å¼æ”¯æŒå¤§å¤šæ•°æ¡†æ¶ã€‚åœ¨ PyTorch ä¸­è®­ç»ƒï¼Œå¯¼å‡ºåˆ° ONNXï¼Œé€šè¿‡ DJL æˆ– DL4J å¯¼å…¥ã€‚è¿™ç§æ–¹æ³•æ”¯æŒä¸æ¡†æ¶æ— å…³çš„éƒ¨ç½²æµæ°´çº¿ã€‚</p>
</li>
<li>
<p><strong>TensorFlow SavedModel</strong>ï¼šå¯¹äºé•¿æœŸç”Ÿäº§æœåŠ¡ï¼Œå¯¼å‡ºåˆ°ä¸­ç«‹æ ¼å¼ï¼ˆå¦‚ ONNXï¼‰æˆ–é’ˆå¯¹æœåŠ¡ä¼˜åŒ–çš„æ¡†æ¶ç‰¹å®šç”Ÿäº§æ ¼å¼ï¼ˆSavedModelã€TorchScriptï¼‰ã€‚SavedModel å°†è®¡ç®—å›¾ã€å˜é‡å€¼å’Œå…ƒæ•°æ®æ‰“åŒ…åˆ°å•ä¸ªç›®å½•ç»“æ„ä¸­ã€‚</p>
</li>
<li>
<p><strong>TorchScript</strong>ï¼šPyTorch æ¨¡å‹é€šè¿‡è„šæœ¬æˆ–è¿½è¸ªåºåˆ—åŒ–ä¸º TorchScriptã€‚DJL çš„ PyTorch å¼•æ“ç›´æ¥åŠ è½½è¿™äº›æ¨¡å‹ï¼Œä¿æŒå®Œæ•´çš„è®¡ç®—å›¾ã€‚</p>
</li>
<li>
<p><strong>Keras H5</strong>ï¼šDL4J å¯¼å…¥ Keras æ¨¡å‹ï¼ˆåŒ…æ‹¬ tf.keras å˜ä½“ï¼‰ï¼Œä¿ç•™å±‚é…ç½®å’Œè®­ç»ƒå¥½çš„æƒé‡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">4.2 Python4jï¼šåœ¨ Java ä¸­åµŒå…¥ Python</h3>
<p>DL4J çš„ Python4j æ¨¡å—è§£å†³äº†éœ€è¦ Java ä¸­ä¸å¯ç”¨çš„ Python åº“çš„åœºæ™¯ã€‚Python4j æ˜¯ä¸€ä¸ª Python è„šæœ¬æ‰§è¡Œæ¡†æ¶ï¼Œç®€åŒ–äº†å°† Python è„šæœ¬éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„è¿‡ç¨‹ã€‚è¯¥æ–¹æ³•å°† CPython è§£é‡Šå™¨åµŒå…¥åˆ° JVM è¿›ç¨‹ä¸­ï¼Œå®ç°åŒå‘è°ƒç”¨ã€‚</p>
<p><strong>ç”¨ä¾‹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p>åœ¨ Java æ¨ç†å‰ä½¿ç”¨ scikit-learn æµæ°´çº¿è¿›è¡Œé¢„å¤„ç†ã€‚</p>
</li>
<li>
<p>ä» Java æ•°æ®æµæ°´çº¿è°ƒç”¨ä¸“é—¨çš„ Python åº“ï¼ˆNumPy, SciPyï¼‰ã€‚</p>
</li>
<li>
<p>åœ¨ Java æ¨¡å‹æœåŠ¡æ—è¾¹è¿è¡ŒåŸºäº Python çš„ç‰¹å¾å·¥ç¨‹ã€‚</p>
</li>
</ul>
<p><strong>æƒè¡¡ä¹‹å¤„</strong>åœ¨äºéœ€è¦ç®¡ç† Python è¿è¡Œæ—¶ä¾èµ–é¡¹å’Œæ½œåœ¨çš„ GIL é™åˆ¶ã€‚å¯¹äºé«˜ååé‡åœºæ™¯ï¼Œæ¨¡å‹å¯¼å‡ºä»ç„¶ä¼˜äºè¿è¡Œæ—¶ Python æ‰§è¡Œã€‚</p>
<h2 data-id="heading-9">5. æ¨¡å‹æœåŠ¡ä¸éƒ¨ç½²æ¨¡å¼</h2>
<h3 data-id="heading-10">5.1 å®æ—¶æ¨ç†æ¶æ„</h3>
<p>é¢å‘ç”¨æˆ·çš„åº”ç”¨ï¼Œå…¶ç”Ÿäº§ ML ç³»ç»Ÿéœ€è¦ä½äº 100 æ¯«ç§’çš„å»¶è¿Ÿã€‚Java çš„çº¿ç¨‹æ¨¡å‹å’Œ JVM ä¼˜åŒ–åœ¨æ­¤èƒŒæ™¯ä¸‹è¡¨ç°å‡ºè‰²ã€‚åœ¨ç”Ÿäº§ä¸­æ— éœ€ Python å³å¯æä¾› TensorFlow æ¨¡å‹æœåŠ¡ï¼Œæ¯æ¬¡é¢„æµ‹å»¶è¿Ÿä½äº 10 æ¯«ç§’ï¼Œå¹¶åƒä»»ä½• Spring Boot æœåŠ¡ä¸€æ ·æ°´å¹³æ‰©å±•ã€‚</p>
<p><strong>åŒæ­¥ REST APIï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@RestController</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PredictionController</span> {

<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Predictor&lt;Image, Classifications&gt; predictor;

<span class="hljs-meta">@PostMapping("/predict")</span>

<span class="hljs-keyword">public</span> Classifications <span class="hljs-title function_">predict</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Image image)</span> {

<span class="hljs-keyword">return</span> predictor.predict(image); <span class="hljs-comment">// &lt;10ms å…¸å‹å»¶è¿Ÿ</span>

}

}

</code></pre>
<p>Spring Boot çš„è‡ªåŠ¨é…ç½®ã€å¥åº·æ£€æŸ¥å’ŒæŒ‡æ ‡ä¸ DJL æˆ– DL4J çš„é¢„æµ‹å™¨å®ä¾‹æ— ç¼é›†æˆã€‚æ°´å¹³æ‰©å±•éµå¾ªæ ‡å‡†çš„å¾®æœåŠ¡æ¨¡å¼â€”â€”åœ¨è´Ÿè½½å‡è¡¡å™¨åéƒ¨ç½²å¤šä¸ªå®ä¾‹ã€‚</p>
<p><strong>å¼‚æ­¥å¤„ç†ï¼š</strong></p>
<p>å¯¹äºéå…³é”®é¢„æµ‹ï¼Œå¼‚æ­¥å¤„ç†å¯æé«˜ååé‡ã€‚Java çš„ <code>CompletableFuture</code>ã€<code>Reactor</code> æˆ– Kotlin åç¨‹æ”¯æŒå¹¶å‘é¢„æµ‹æ‰¹å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// å¼‚æ­¥æ‰¹é‡é¢„æµ‹</span>

List&lt;CompletableFuture&lt;Result&gt;&gt; futures = images.stream()

.map(img -&gt; CompletableFuture.supplyAsync(

() -&gt; predictor.predict(img), executor))

.collect(Collectors.toList());

</code></pre>
<h3 data-id="heading-11">5.2 æ‰¹é‡æ¨ç†æ¨¡å¼</h3>
<p>æ‰¹é‡ä½œä¸šå¯ä»¥å®¹å™¨åŒ–å¹¶éƒ¨ç½²åˆ°ä½œä¸šè°ƒåº¦å™¨æˆ–æµæ°´çº¿ï¼ˆå¦‚ Airflow/Prefectã€Kubeflow Pipelinesã€äº‘æ•°æ®ç®¡é“æœåŠ¡ï¼‰ï¼Œè€Œåœ¨çº¿æ¨¡å‹åˆ™éƒ¨ç½²åˆ°æœåŠ¡åŸºç¡€è®¾æ–½ï¼ˆWeb æœåŠ¡å™¨ã€Kubernetesï¼‰ã€‚</p>
<p>DL4J çš„ Spark é›†æˆå¤„ç†æµ·é‡æ•°æ®é›†ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// Spark ä¸Šçš„åˆ†å¸ƒå¼æ‰¹é‡è¯„åˆ†</span>

JavaRDD&lt;DataSet&gt; testData = loadTestData();

JavaRDD&lt;INDArray&gt; predictions = SparkDl4jMultiLayer

.predict(model, testData);

</code></pre>
<p>è¯¥æ¨¡å¼å°†æ¨ç†åˆ†å¸ƒåœ¨é›†ç¾¤èŠ‚ç‚¹ä¸Šï¼Œé«˜æ•ˆå¤„ç†æ•°ç™¾ä¸‡æ¡è®°å½•ã€‚å¯¹äºæ‹¥æœ‰ Hadoop æˆ– Spark åŸºç¡€è®¾æ–½çš„ç»„ç»‡ï¼Œè¿™ç§åŸç”Ÿé›†æˆæ¶ˆé™¤äº† Python æ¡¥æ¥å¼€é”€ã€‚</p>
<h3 data-id="heading-12">5.3 è¾¹ç¼˜ä¸ç§»åŠ¨ç«¯éƒ¨ç½²</h3>
<p>DJL æ”¯æŒéƒ¨ç½²åˆ°è¾¹ç¼˜è®¾å¤‡å’Œç§»åŠ¨å¹³å°ã€‚å¯¹äº Androidï¼ŒDJL æä¾›äº†é’ˆå¯¹ ARM å¤„ç†å™¨ä¼˜åŒ–çš„ TensorFlow Lite å’Œ ONNX Runtime å¼•æ“ã€‚è‡ªåŠ¨ CPU/GPU æ£€æµ‹å¯é€‚åº”å¯ç”¨ç¡¬ä»¶ã€‚</p>
<p><strong>ç”¨ä¾‹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p>ç§»åŠ¨åº”ç”¨ä¸­çš„è®¾å¤‡ç«¯å›¾åƒåˆ†ç±»ã€‚</p>
</li>
<li>
<p>æ— éœ€äº‘è¿æ¥çš„ IoT ä¼ æ„Ÿå™¨å¼‚å¸¸æ£€æµ‹ã€‚</p>
</li>
<li>
<p>éœ€è¦æœ¬åœ°æ¨ç†çš„è¾¹ç¼˜è®¡ç®—åœºæ™¯ã€‚</p>
</li>
</ul>
<p>è¯¥æ–¹æ³•é™ä½äº†å»¶è¿Ÿï¼Œæé«˜äº†éšç§æ€§ï¼ˆæ•°æ®ä¿ç•™åœ¨æœ¬åœ°ï¼‰ï¼Œå¹¶æ¶ˆé™¤äº†ç½‘ç»œä¾èµ–ã€‚</p>
<h2 data-id="heading-13">6. å¯æ‰©å±•æ€§è€ƒé‡</h2>
<h3 data-id="heading-14">6.1 å®¹å™¨åŒ–ä¸ç¼–æ’</h3>
<p>ä½¿ç”¨ Docker è¿›è¡Œå®¹å™¨åŒ–ï¼Œå…è®¸å°†æ¨¡å‹åŠå…¶ä»£ç è¿åŒæ‰€æœ‰å¿…éœ€çš„åº“å’Œä¾èµ–é¡¹æ‰“åŒ…åˆ°ä¸€ä¸ªè‡ªåŒ…å«çš„å•å…ƒä¸­ï¼Œè¯¥å•å…ƒå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œï¼ˆæ‚¨çš„ç¬”è®°æœ¬ç”µè„‘ã€äº‘è™šæ‹Ÿæœºã€Kubernetes é›†ç¾¤ä¸­ï¼‰ã€‚</p>
<p>Java ML æœåŠ¡ä¸ä¼ ç»Ÿ Spring Boot åº”ç”¨çš„å®¹å™¨åŒ–æ–¹å¼ç›¸åŒï¼š</p>
<p><strong>Dockerfile æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
FROM eclipse-temurin:21-jre-alpine

COPY target/ml-service.jar app.jar

ENTRYPOINT ["java", "-jar", "app.jar"]

</code></pre>
<p>Kubernetes ç¼–æ’å¤„ç†æ‰©å±•ã€å¥åº·æ£€æŸ¥å’Œæ»šåŠ¨æ›´æ–°ã€‚è¿™ç§ç»Ÿä¸€æ€§æ„å‘³ç€ç°æœ‰çš„ DevOps æµæ°´çº¿æ— éœ€ç‰¹æ®Šå¤„ç†å³å¯æ‰©å±•åˆ° ML æœåŠ¡ã€‚</p>
<h3 data-id="heading-15">6.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<ul>
<li>
<p><strong>æ¨¡å‹é‡åŒ–</strong>ï¼šé€šè¿‡å°† float32 æƒé‡è½¬æ¢ä¸º int8 æ¥å‡å°‘æ¨¡å‹å¤§å°å’Œæ¨ç†æ—¶é—´ã€‚TensorFlow Lite å’Œ ONNX Runtime æ”¯æŒé‡åŒ–ï¼Œä¸”ç²¾åº¦æŸå¤±æœ€å°ã€‚å…¸å‹æ”¶ç›Šï¼šæ¨¡å‹ç¼©å° 4 å€ï¼Œæ¨ç†é€Ÿåº¦åŠ å¿« 2-3 å€ã€‚</p>
</li>
<li>
<p><strong>æ‰¹å¤„ç†</strong>ï¼šå°†é¢„æµ‹åˆ†ç»„ä»¥åˆ†æ‘Šå¼€é”€ã€‚DJL å’Œ DL4J æ”¯æŒæ‰¹å¤„ç†è¾“å…¥ï¼Œåˆ©ç”¨ SIMD æŒ‡ä»¤ï¼Œå¹¶å°†æ¯é¡¹é¢„æµ‹çš„å»¶è¿Ÿä» 10 æ¯«ç§’é™ä½åˆ°æ‰¹é‡ 32 æ¡æ—¶çš„æ¯æ¡ 2-3 æ¯«ç§’ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹ç¼–è¯‘</strong>ï¼šONNX Runtime å’Œ TensorFlow XLA å°†æ¨¡å‹ç¼–è¯‘ä¸ºä¼˜åŒ–çš„æ‰§è¡Œå›¾ã€‚åœ¨å®¹å™¨æ„å»ºæœŸé—´è¿›è¡Œé¢„ç¼–è¯‘å¯æ¶ˆé™¤è¿è¡Œæ—¶ç¼–è¯‘å¼€é”€ã€‚</p>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†</strong>ï¼šDJL é€šè¿‡å…¶ç‰¹æ®Šçš„å†…å­˜æ”¶é›†å™¨ NDManager è§£å†³äº†å†…å­˜æ³„æ¼é—®é¢˜ï¼Œè¯¥ç®¡ç†å™¨åŠæ—¶æ”¶é›† C++ åº”ç”¨ç¨‹åºå†…éƒ¨çš„é™ˆæ—§å¯¹è±¡ï¼Œåœ¨æµ‹è¯• 100 å°æ—¶è¿ç»­æ¨ç†ä¸å´©æºƒåï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æä¾›ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p><strong>è¿æ¥æ± </strong>ï¼šå¯¹äºè°ƒç”¨å¤–éƒ¨æ¨¡å‹æœåŠ¡å™¨ï¼ˆTensorFlow Servingã€Tritonï¼‰çš„æœåŠ¡ï¼Œç»´æŠ¤è¿æ¥æ± ä»¥å‡å°‘ TCP æ¡æ‰‹å¼€é”€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-16">6.3 æ°´å¹³æ‰©å±•æ¨¡å¼</h3>
<p>Java ML æœåŠ¡çš„æ‰©å±•æ–¹å¼ä¸æ— çŠ¶æ€ Web æœåŠ¡ç›¸åŒï¼š</p>
<ul>
<li>
<p>åœ¨è´Ÿè½½å‡è¡¡å™¨åéƒ¨ç½²å¤šä¸ªå®ä¾‹ã€‚</p>
</li>
<li>
<p>åŸºäº CPUã€å†…å­˜æˆ–è‡ªå®šä¹‰æŒ‡æ ‡ï¼ˆæ¨ç†é˜Ÿåˆ—æ·±åº¦ï¼‰ä½¿ç”¨ Kubernetes HorizontalPodAutoscalerã€‚</p>
</li>
<li>
<p>å®æ–½ç†”æ–­å™¨ä»¥ä¼˜é›…åœ°å¤„ç†ä¸‹æ¸¸æ•…éšœã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ Redis æˆ– Caffeine ç¼“å­˜é¢‘ç¹çš„é¢„æµ‹ç»“æœã€‚</p>
</li>
</ul>
<p>æ¨ç†çš„æ— çŠ¶æ€ç‰¹æ€§ï¼ˆç»™å®šæ¨¡å‹ç‰ˆæœ¬ï¼‰ä½¿å¾—æ— éœ€åè°ƒå¼€é”€å³å¯å®ç°å¼¹æ€§æ‰©å±•ã€‚</p>
<h2 data-id="heading-17">7. Java åº”ç”¨çš„ MLOps</h2>
<h3 data-id="heading-18">7.1 æŒç»­è®­ç»ƒä¸éƒ¨ç½²</h3>
<p>MLOps å›¢é˜Ÿçš„ç›®æ ‡æ˜¯è‡ªåŠ¨å°† ML æ¨¡å‹éƒ¨ç½²åˆ°æ ¸å¿ƒè½¯ä»¶ç³»ç»Ÿä¸­æˆ–ä½œä¸ºæœåŠ¡ç»„ä»¶ï¼Œè‡ªåŠ¨åŒ–æ•´ä¸ª ML å·¥ä½œæµæ­¥éª¤ï¼Œæ— éœ€ä»»ä½•äººå·¥å¹²é¢„ã€‚</p>
<ul>
<li>
<p><strong>Level 0ï¼ˆæ‰‹åŠ¨ï¼‰</strong>ï¼šè®¸å¤šå›¢é˜Ÿæ‹¥æœ‰èƒ½å¤Ÿæ„å»ºå…ˆè¿›æ¨¡å‹çš„æ•°æ®ç§‘å­¦å®¶å’Œ ML ç ”ç©¶äººå‘˜ï¼Œä½†ä»–ä»¬æ„å»ºå’Œéƒ¨ç½² ML æ¨¡å‹çš„è¿‡ç¨‹å®Œå…¨æ˜¯æ‰‹åŠ¨çš„ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå’Œæ‰‹åŠ¨è¿‡æ¸¡ã€‚è¿™ä»£è¡¨äº† 2025 å¹´ 35% çš„ Java ML éƒ¨ç½²ã€‚</p>
</li>
<li>
<p><strong>Level 1ï¼ˆML æµæ°´çº¿è‡ªåŠ¨åŒ–ï¼‰</strong>ï¼šè‡ªåŠ¨åŒ–è®­ç»ƒæµæ°´çº¿æ ¹æ®æ–°æ•°æ®é‡æ–°è®­ç»ƒæ¨¡å‹ã€‚Jenkinsã€GitHub Actions æˆ– GitLab CI è§¦å‘è®­ç»ƒä½œä¸šï¼Œå°†æ¨¡å‹å¯¼å‡ºåˆ°å·¥ä»¶ä»“åº“ï¼ˆNexusã€Artifactoryï¼‰ï¼Œå¹¶é€šçŸ¥éƒ¨ç½²ç³»ç»Ÿã€‚ç‰ˆæœ¬åŒ–çš„æ¨¡å‹è‡ªåŠ¨éƒ¨ç½²åˆ°é¢„å‘å¸ƒç¯å¢ƒã€‚</p>
</li>
<li>
<p><strong>Level 2ï¼ˆML çš„ CI/CDï¼‰</strong>ï¼šæŒç»­é›†æˆé€šè¿‡æ·»åŠ æµ‹è¯•å’ŒéªŒè¯æ•°æ®å’Œæ¨¡å‹æ¥æ‰©å±•å¯¹ä»£ç å’Œç»„ä»¶çš„æµ‹è¯•å’ŒéªŒè¯ï¼›æŒç»­äº¤ä»˜å…³æ³¨è‡ªåŠ¨éƒ¨ç½²å¦ä¸€ä¸ª ML æ¨¡å‹é¢„æµ‹æœåŠ¡çš„ ML è®­ç»ƒæµæ°´çº¿çš„äº¤ä»˜ï¼›æŒç»­è®­ç»ƒè‡ªåŠ¨é‡æ–°è®­ç»ƒ ML æ¨¡å‹ä»¥é‡æ–°éƒ¨ç½²ã€‚</p>
</li>
</ul>
<p>åœ¨ Java ä¸Šä¸‹æ–‡ä¸­ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>
<p>æ•°æ®æµæ°´çº¿å’Œé¢„å¤„ç†çš„è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•ã€‚</p>
</li>
<li>
<p>ç¡®ä¿æ¨¡å‹é¢„æµ‹ç¬¦åˆé¢„æœŸè¾“å‡ºçš„é›†æˆæµ‹è¯•ã€‚</p>
</li>
<li>
<p>é‡‘ä¸é›€éƒ¨ç½²ï¼ˆ5% æµé‡å¯¼å‘æ–°æ¨¡å‹ç‰ˆæœ¬ï¼‰ã€‚</p>
</li>
<li>
<p>æ€§èƒ½ä¸‹é™æ—¶çš„è‡ªåŠ¨åŒ–å›æ»šã€‚</p>
</li>
</ul>
<h3 data-id="heading-19">7.2 æ¨¡å‹ç‰ˆæœ¬æ§åˆ¶ä¸æ³¨å†Œ</h3>
<p>å°†æ¨¡å‹è§†ä¸ºä¸€ç­‰å·¥ä»¶ï¼š</p>
<pre><code class="hljs language-plainttext" lang="plainttext">
models/

fraud-detection/

v1.0.0/

model.onnx

metadata.json

v1.1.0/

model.onnx

metadata.json

</code></pre>
<p>å…ƒæ•°æ®åŒ…æ‹¬è®­ç»ƒæ—¥æœŸã€æ•°æ®é›†ç‰ˆæœ¬ã€æ€§èƒ½æŒ‡æ ‡ï¼ˆå‡†ç¡®ç‡ã€F1 åˆ†æ•°ï¼‰å’Œä¾èµ–ç‰ˆæœ¬ã€‚å¯ä»¥ä½¿ç”¨ Maven åæ ‡å¼•ç”¨æ¨¡å‹ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.company.ml<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fraud-detection-model<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>onnx<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

</code></pre>
<p>è¿™ç§æ–¹æ³•å°†æ ‡å‡†çš„ä¾èµ–ç®¡ç†å®è·µåº”ç”¨äº ML æ¨¡å‹ï¼Œä»è€Œå®ç°å¯é‡å¤çš„æ„å»ºå’Œå¯å®¡è®¡çš„éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-20">7.3 ç›‘æ§ä¸å¯è§‚å¯Ÿæ€§</h3>
<p>ML æ¨¡å‹éƒ¨ç½²åï¼Œéœ€è¦è¿›è¡Œç›‘æ§ä»¥ç¡®ä¿å…¶æŒ‰é¢„æœŸæ‰§è¡Œã€‚Java çš„å¯è§‚å¯Ÿæ€§ç”Ÿæ€ç³»ç»Ÿè‡ªç„¶åœ°æ‰©å±•åˆ° ML æœåŠ¡ï¼š</p>
<p><strong>è¦è·Ÿè¸ªçš„æŒ‡æ ‡ï¼š</strong></p>
<ul>
<li>
<p><strong>æ¨ç†å»¶è¿Ÿ</strong>ï¼šé€šè¿‡ Micrometer ç»Ÿè®¡ p50ã€p95ã€p99 ç™¾åˆ†ä½æ•°ã€‚</p>
</li>
<li>
<p><strong>ååé‡</strong>ï¼šæ¯ç§’é¢„æµ‹æ•°ã€æ¯ç§’è¯·æ±‚æ•°ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯ç‡</strong>ï¼šå¤±è´¥çš„é¢„æµ‹ã€æ¨¡å‹åŠ è½½å¤±è´¥ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æ¼‚ç§»</strong>ï¼šé€šè¿‡ç»Ÿè®¡æµ‹è¯•æ£€æµ‹åˆ°çš„è¾“å…¥åˆ†å¸ƒå˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹æ€§èƒ½</strong>ï¼šç”Ÿäº§æ•°æ®ä¸Šçš„å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ï¼ˆå½“æ ‡ç­¾å¯ç”¨æ—¶ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>ä¸ç°æœ‰å·¥å…·çš„é›†æˆï¼š</strong></p>
<p>Spring Boot Actuator æš´éœ² ML ç‰¹å®šæŒ‡æ ‡ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Component</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PredictionMetrics</span> {

<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MeterRegistry registry;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recordPrediction</span><span class="hljs-params">(<span class="hljs-type">long</span> latencyMs, String modelVersion)</span> {

registry.timer(<span class="hljs-string">"prediction.latency"</span>,

<span class="hljs-string">"model"</span>, modelVersion)

.record(Duration.ofMillis(latencyMs));

}

}

</code></pre>
<p>Prometheus æŠ“å–è¿™äº›æŒ‡æ ‡ï¼ŒGrafana å¯è§†åŒ–è¶‹åŠ¿ï¼Œå¹¶åœ¨å‡ºç°å¼‚å¸¸ï¼ˆå»¶è¿Ÿå³°å€¼ã€å‡†ç¡®ç‡ä¸‹é™ï¼‰æ—¶è§¦å‘å‘Šè­¦ã€‚</p>
<h3 data-id="heading-21">7.4 æµ‹è¯• ML ç³»ç»Ÿ</h3>
<ul>
<li>
<p><strong>å•å…ƒæµ‹è¯•</strong>ï¼šéªŒè¯æ•°æ®é¢„å¤„ç†ã€ç‰¹å¾å·¥ç¨‹å’Œåå¤„ç†é€»è¾‘ã€‚æ ‡å‡†çš„ JUnit æµ‹è¯•å³å¯æ»¡è¶³ã€‚</p>
</li>
<li>
<p><strong>é›†æˆæµ‹è¯•</strong>ï¼šæµ‹è¯• ML æ¨¡å‹æ˜¯å¦æˆåŠŸåŠ è½½åˆ°ç”Ÿäº§æœåŠ¡ä¸­ï¼Œå¹¶ä¸”å¯¹çœŸå®æ•°æ®çš„é¢„æµ‹ç¬¦åˆé¢„æœŸï¼›æµ‹è¯•è®­ç»ƒç¯å¢ƒä¸­çš„æ¨¡å‹ä¸æœåŠ¡ç¯å¢ƒä¸­çš„æ¨¡å‹ç»™å‡ºç›¸åŒçš„åˆ†æ•°ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼šä½¿ç”¨ JMeter æˆ– Gatling æ¨¡æ‹Ÿè´Ÿè½½ï¼Œåœ¨çœŸå®æµé‡æ¨¡å¼ä¸‹æµ‹é‡ååé‡å’Œå»¶è¿Ÿã€‚å»ºç«‹åŸºçº¿å¹¶æ£€æµ‹å›å½’ã€‚</p>
</li>
<li>
<p><strong>å½±å­éƒ¨ç½²</strong>ï¼šå°†æ–°æ¨¡å‹ç‰ˆæœ¬ä¸ç°æœ‰ç‰ˆæœ¬å¹¶è¡Œè¿è¡Œï¼Œè®°å½•é¢„æµ‹è€Œä¸å½±å“ç”¨æˆ·ã€‚åœ¨å…¨é¢éƒ¨ç½²å‰æ¯”è¾ƒç»“æœä»¥è¯†åˆ«æ„å¤–è¡Œä¸ºã€‚</p>
</li>
</ul>
<h2 data-id="heading-22">8. Java åœ¨æœºå™¨å­¦ä¹ ä¸­è¡¨ç°å‡ºè‰²çš„ç”¨ä¾‹</h2>
<h3 data-id="heading-23">8.1 ä¼ä¸šé›†æˆåœºæ™¯</h3>
<ul>
<li>
<p><strong>é‡‘èæœåŠ¡ä¸­çš„æ¬ºè¯ˆæ£€æµ‹</strong>ï¼šæ‹¥æœ‰æˆç†Ÿ Java ç”Ÿæ€ç³»ç»Ÿçš„ä¼ä¸šè¶Šæ¥è¶Šå¯»æ±‚å°† ML/AI æ¨¡å‹ç›´æ¥é›†æˆåˆ°å…¶åç«¯ç³»ç»Ÿçš„æ–¹æ³•ï¼Œè€Œæ— éœ€å¯åŠ¨å•ç‹¬çš„åŸºäº Python çš„å¾®æœåŠ¡ã€‚é“¶è¡Œæ¯å¤©é€šè¿‡ Java ç³»ç»Ÿå¤„ç†æ•°ç™¾ä¸‡ç¬”äº¤æ˜“ã€‚å°† DJL é¢„æµ‹å™¨ç›´æ¥åµŒå…¥äº¤æ˜“å¤„ç†æµæ°´çº¿ä¸­ï¼Œæ— éœ€å¤–éƒ¨æœåŠ¡è°ƒç”¨å³å¯å®ç°ä½äº 10 æ¯«ç§’çš„æ¬ºè¯ˆè¯„åˆ†ã€‚</p>
</li>
<li>
<p><strong>å®æ—¶æ¨è</strong>ï¼šåŸºäº Spring Boot æ„å»ºçš„ç”µå­å•†åŠ¡å¹³å°é›†æˆ DJL è¿›è¡Œäº§å“æ¨èã€‚ä¼šè¯æ•°æ®æµç»ç°æœ‰çš„ Java æœåŠ¡ï¼Œé¢„æµ‹åœ¨è¿›ç¨‹å†…è¿›è¡Œï¼Œç»“æœæ— éœ€ç½‘ç»œå»¶è¿Ÿå³å¯å‘ˆç°ã€‚</p>
</li>
<li>
<p><strong>æ—¥å¿—åˆ†æä¸èšç±»</strong>ï¼šNetflix çš„å¯è§‚å¯Ÿæ€§å›¢é˜Ÿä½¿ç”¨ DJL åœ¨ç”Ÿäº§ä¸­éƒ¨ç½²è¿ç§»å­¦ä¹ æ¨¡å‹ï¼Œä»¥å¯¹åº”ç”¨ç¨‹åºæ—¥å¿—æ•°æ®è¿›è¡Œå®æ—¶èšç±»å’Œåˆ†æï¼Œé€šè¿‡å­—ç¬¦çº§ CNN å’Œé€šç”¨å¥å­ç¼–ç å™¨æ¨¡å‹å¤„ç†æ—¥å¿—è¡Œï¼Œæ¯æ¡çº¦ 7 æ¯«ç§’ã€‚åŸºäº DJL çš„æµæ°´çº¿åˆ†é…ä¿ç•™ç›¸ä¼¼æ€§çš„èšç±» IDï¼Œä»è€Œå®ç°å‘Šè­¦é‡å‡å°‘å’Œå­˜å‚¨æ•ˆç‡æé«˜ã€‚</p>
</li>
</ul>
<h3 data-id="heading-24">8.2 å¤§æ•°æ® ML å·¥ä½œæµ</h3>
<p>ä½¿ç”¨ Spark æˆ– Hadoop æ¯å¤©å¤„ç† TB çº§æ•°æ®çš„ç»„ç»‡å—ç›Šäº DL4J çš„åŸç”Ÿé›†æˆã€‚åœ¨å†å²æ•°æ®ä¸Šè®­ç»ƒæ¨¡å‹ã€å¯¹æ–°è®°å½•è¿›è¡Œè¯„åˆ†ä»¥åŠæ›´æ–°æ¨¡å‹â€”â€”æ‰€æœ‰è¿™äº›éƒ½åœ¨ Spark æµæ°´çº¿å†…å®Œæˆï¼Œæ— éœ€ Python æ¡¥æ¥ã€‚</p>
<p><strong>ç¤ºä¾‹å·¥ä½œæµï¼š</strong></p>
<ol>
<li>
<p>ä» HDFS æˆ– S3 å°†æ•°æ®è¯»å…¥ Spark DataFramesã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ Spark SQL è¿›è¡Œç‰¹å¾å·¥ç¨‹ã€‚</p>
</li>
<li>
<p>åœ¨é›†ç¾¤ä¸Šåˆ†å¸ƒå¼è®­ç»ƒ DL4J æ¨¡å‹ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æ–°æ•°æ®è¯„åˆ†ã€‚</p>
</li>
<li>
<p>å°†ç»“æœå†™å›æ•°æ®ä»“åº“ã€‚</p>
</li>
</ol>
<p>æ•´ä¸ªç«¯åˆ°ç«¯æµç¨‹ä¿æŒåœ¨ JVM ä¸­ï¼Œé¿å…äº†åºåˆ—åŒ–å¼€é”€å’Œ Python äº’æ“ä½œçš„å¤æ‚æ€§ã€‚</p>
<h3 data-id="heading-25">8.3 å¾®æœåŠ¡ä¸äº‘åŸç”Ÿåº”ç”¨</h3>
<p>Spring Boot åº”ç”¨ç¨‹åºä¸»å¯¼ç€ä¼ä¸šå¾®æœåŠ¡æ¶æ„ã€‚é€šè¿‡ DJL starters æ·»åŠ  ML èƒ½åŠ›å¯æ— ç¼é›†æˆï¼š</p>
<ul>
<li>
<p><strong>ç†”æ–­å™¨</strong>ï¼šResilience4j æ¨¡å¼ä¿æŠ¤ ML æœåŠ¡å…å—çº§è”æ•…éšœå½±å“ã€‚</p>
</li>
<li>
<p><strong>æœåŠ¡å‘ç°</strong>ï¼šEureka æˆ– Consul æ³¨å†Œ ML é¢„æµ‹æœåŠ¡ã€‚</p>
</li>
<li>
<p><strong>é…ç½®</strong>ï¼šSpring Cloud Config ç®¡ç†æ¨¡å‹ç«¯ç‚¹å’Œå‚æ•°ã€‚</p>
</li>
<li>
<p><strong>è¿½è¸ª</strong>ï¼šZipkin æˆ– Jaeger è¿½è¸ªé€šè¿‡ ML æµæ°´çº¿çš„è¯·æ±‚ã€‚</p>
</li>
</ul>
<p>è¿™ç§ç»Ÿä¸€æ€§ç®€åŒ–äº†è¿ç»´â€”â€”ML æœåŠ¡ä¸ä¸šåŠ¡é€»è¾‘æœåŠ¡ä»¥ç›¸åŒçš„æ–¹å¼éƒ¨ç½²ã€æ‰©å±•å’Œç›‘æ§ã€‚</p>
<h3 data-id="heading-26">8.4 è¾¹ç¼˜è®¡ç®—ä¸ç‰©è”ç½‘</h3>
<p>Java çš„â€œä¸€æ¬¡ç¼–å†™ï¼Œéšå¤„è¿è¡Œâ€ç†å¿µæ‰©å±•åˆ°è¾¹ç¼˜è®¾å¤‡ã€‚ä¸º ARM å¤„ç†å™¨ç¼–è¯‘çš„ DJL æ¨¡å‹å¯ä»¥åœ¨ Raspberry Piã€NVIDIA Jetson å’Œå·¥ä¸š IoT ç½‘å…³ä¸Šè¿è¡Œã€‚<strong>ç”¨ä¾‹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p><strong>é¢„æµ‹æ€§ç»´æŠ¤</strong>ï¼šæœ¬åœ°åˆ†æä¼ æ„Ÿå™¨æ•°æ®ï¼Œå¼‚å¸¸æ—¶è§¦å‘è­¦æŠ¥ã€‚</p>
</li>
<li>
<p><strong>è§†é¢‘åˆ†æ</strong>ï¼šåœ¨è¾¹ç¼˜å¤„ç†å®‰é˜²æ‘„åƒå¤´è§†é¢‘æµï¼Œå‡å°‘å¸¦å®½ã€‚</p>
</li>
<li>
<p><strong>æ™ºèƒ½å®¶å±…è®¾å¤‡</strong>ï¼šè®¾å¤‡ç«¯è¯­éŸ³è¯†åˆ«å’Œè‡ªç„¶è¯­è¨€ç†è§£ã€‚</p>
</li>
</ul>
<p>GraalVM åŸç”Ÿé•œåƒç¼–è¯‘ç”Ÿæˆç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå†…å­˜å ç”¨å°ï¼ˆ&lt; 50MBï¼‰ï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼ˆ&lt; 100msï¼‰ï¼Œéå¸¸é€‚åˆèµ„æºå—é™çš„ç¯å¢ƒã€‚</p>
<h3 data-id="heading-27">8.5 æ³•è§„ä¸åˆè§„è¦æ±‚</h3>
<p>éšç€æ¬§ç›Ÿã€Šäººå·¥æ™ºèƒ½æ³•æ¡ˆã€‹ç­‰æ³•è§„çš„æ”¶ç´§ï¼Œé›†æˆé‡ç‚¹è½¬å‘æ¨¡å‹çš„å·¦ç§»å®‰å…¨æ€§â€”â€”åœ¨æµæ°´çº¿ä¸­æ‰«æåè§ã€å¯è§£é‡Šæ€§å’Œåˆè§„æ€§ã€‚Java çš„å¼ºç±»å‹ã€æ˜¾å¼å¼‚å¸¸å¤„ç†å’Œæˆç†Ÿçš„æ—¥å¿—è®°å½•æ¡†æ¶ä¾¿äºå®¡è®¡è¿½è¸ªå’Œæ»¡è¶³å¯è§£é‡Šæ€§è¦æ±‚ã€‚</p>
<p>é‡‘èå’ŒåŒ»ç–—ä¿å¥è¡Œä¸šé€šå¸¸è¦æ±‚æ‰€æœ‰ä»£ç ï¼ˆåŒ…æ‹¬ ML æ¨¡å‹ï¼‰é€šè¿‡ç»è¿‡éªŒè¯çš„ã€å¸¦æœ‰å®¡æ‰¹å·¥ä½œæµçš„æµæ°´çº¿è¿›è¡Œéƒ¨ç½²ã€‚ä¸å¼•å…¥ Python è¿è¡Œæ—¶ä¾èµ–ç›¸æ¯”ï¼ŒJava ML æœåŠ¡èƒ½æ›´è‡ªç„¶åœ°ä¸ç°æœ‰çš„æ²»ç†æµç¨‹é›†æˆã€‚</p>
<h3 data-id="heading-28">9. ç»“è®ºï¼šæˆ‘ä»¬çš„æ”¶è·</h3>
<p>Java åœ¨æœºå™¨å­¦ä¹ ä¸­çš„ä½œç”¨ä»£è¡¨äº†åŠ¡å®çš„ç”Ÿäº§å·¥ç¨‹ï¼Œè€Œéç ”ç©¶åˆ›æ–°ã€‚æˆ‘ä»¬åˆ†æå¾—å‡ºçš„ä¸»è¦è§è§£ï¼š</p>
<ol>
<li>
<p><strong>æ¡†æ¶é€‰æ‹©å–å†³äºä¸Šä¸‹æ–‡</strong>ï¼šDJL åœ¨æ¨ç†å’Œæ¨¡å‹æœåŠ¡æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œå…·æœ‰å¼•æ“çµæ´»æ€§ï¼Œæ˜¯äº‘åŸç”Ÿå¾®æœåŠ¡çš„ç†æƒ³é€‰æ‹©ã€‚DL4J æä¾›äº†ä¸å¤§æ•°æ®æ¡†æ¶é›†æˆçš„å®Œæ•´ ML ç”Ÿå‘½å‘¨æœŸåŠŸèƒ½ï¼Œé€‚ç”¨äºéœ€è¦åˆ†å¸ƒå¼åŸ¹è®­çš„ç»„ç»‡ã€‚TensorFlow Java æœåŠ¡äºæ·±åº¦æŠ•å…¥ TensorFlow ç”Ÿæ€ç³»ç»Ÿã€éœ€è¦ç›´æ¥æ¨¡å‹å…¼å®¹æ€§çš„å›¢é˜Ÿã€‚</p>
</li>
<li>
<p><strong>å¤šè¯­è¨€æ¨¡å¼è¡Œä¹‹æœ‰æ•ˆ</strong>ï¼šåœ¨ Python ä¸­è®­ç»ƒå¹¶åœ¨ Java ä¸­éƒ¨ç½²ï¼Œåˆ©ç”¨äº†æ¯ç§è¯­è¨€çš„ä¼˜åŠ¿ã€‚ONNX å’Œ SavedModel æ ¼å¼æ”¯æŒæ— ç¼äº¤æ¥ã€‚Python4j åœ¨å¿…è¦æ—¶å¼¥åˆå·®è·ï¼Œä½†å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œæ¨¡å‹å¯¼å‡ºä»æ˜¯é¦–é€‰ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿäº§æ€§èƒ½è‡³å…³é‡è¦</strong>ï¼šNetflix 7 æ¯«ç§’çš„æ¨ç†å»¶è¿Ÿè¯æ˜ Java ML æœåŠ¡èƒ½å¤Ÿæ»¡è¶³å®æ—¶æ€§èƒ½è¦æ±‚ã€‚é€‚å½“çš„å†…å­˜ç®¡ç†ï¼ˆNDManagerã€ND4Jï¼‰ã€æ¨¡å‹ä¼˜åŒ–ï¼ˆé‡åŒ–ã€ç¼–è¯‘ï¼‰å’Œæ°´å¹³æ‰©å±•æä¾›äº†ç”Ÿäº§çº§ç³»ç»Ÿã€‚</p>
</li>
<li>
<p><strong>MLOps æˆç†Ÿåº¦å‚å·®ä¸é½</strong>ï¼šåªæœ‰ 20% çš„ Java ML éƒ¨ç½²è¾¾åˆ°äº† Level 2 CI/CD æˆç†Ÿåº¦ï¼Œå…·å¤‡è‡ªåŠ¨é‡æ–°è®­ç»ƒå’Œç›‘æ§ã€‚æœºä¼šåœ¨äºå°†å·²å»ºç«‹çš„ DevOps å®è·µâ€”â€”å®¹å™¨ã€ç¼–æ’ã€å¯è§‚å¯Ÿæ€§â€”â€”åº”ç”¨äº ML å·¥ä½œæµã€‚</p>
</li>
<li>
<p><strong>Java åœ¨ç‰¹å®šåœºæ™¯ä¸­è¡¨ç°å‡ºè‰²</strong>ï¼šä¼ä¸šé›†æˆï¼ˆæ¬ºè¯ˆæ£€æµ‹ã€æ¨èï¼‰ã€å¤§æ•°æ® ML æµæ°´çº¿ï¼ˆSpark/Hadoopï¼‰ã€å¾®æœåŠ¡æ¶æ„ã€è¾¹ç¼˜è®¡ç®—å’Œæ³•è§„åˆè§„ä»£è¡¨äº† Java çš„ç‰¹æ€§â€”â€”ç¨³å®šæ€§ã€çº¿ç¨‹å¤„ç†ã€ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿåº¦â€”â€”ç›¸æ¯”ä»¥ Python ä¸ºä¸­å¿ƒçš„æ–¹æ³•æä¾›ä¼˜åŠ¿çš„é¢†åŸŸã€‚</p>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†åŒºåˆ†äº†æ¡†æ¶</strong>ï¼šDJL çš„ NDManager è§£å†³äº†ç®¡ç† JVM åº”ç”¨ç¨‹åºä¸­æœ¬æœºå†…å­˜çš„å…³é”®æŒ‘æˆ˜ï¼Œå®ç°äº† 100 å°æ—¶ä»¥ä¸Šçš„ç”Ÿäº§è¿è¡Œè€Œæ— å†…å­˜æ³„æ¼ã€‚è¿™ç§ç”Ÿäº§å°±ç»ªæ€§å°†ä¼ä¸šå¯è¡Œçš„æ¡†æ¶ä¸å®éªŒæ€§ç»‘å®šåŒºåˆ†å¼€æ¥ã€‚</p>
</li>
<li>
<p><strong>å·®è·æ­£åœ¨ç¼©å°</strong>ï¼šè™½ç„¶ Java ä¸ä¼šå–ä»£ Python åœ¨ ML ç ”ç©¶ä¸­çš„åœ°ä½ï¼Œä½†åƒ DJL å’Œ DL4J è¿™æ ·çš„æ¡†æ¶å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå¯ç”¨äºç”Ÿäº§éƒ¨ç½²ã€‚ç”Ÿæ€ç³»ç»Ÿç°åœ¨æ”¯æŒå®Œæ•´çš„æ¨ç†ç”Ÿå‘½å‘¨æœŸï¼Œæ€§èƒ½å¯ä¸ Python è§£å†³æ–¹æ¡ˆç›¸åª²ç¾ã€‚</p>
</li>
</ol>
<p>æœªæ¥å¯èƒ½æ¶‰åŠæ›´æ·±å±‚æ¬¡çš„é›†æˆâ€”â€”Spring AI ä¸º Java å¸¦æ¥ LLM èƒ½åŠ›ï¼ŒGraalVM åŸç”Ÿé•œåƒä¸ºæ— æœåŠ¡å™¨ ML å®ç°å³æ—¶å¯åŠ¨ï¼Œä»¥åŠ MLOps å’Œ DevOps å®è·µä¹‹é—´æŒç»­çš„èåˆã€‚å¯¹äºæ‹¥æœ‰å¤§é‡ Java æŠ•èµ„çš„ç»„ç»‡ï¼Œé—®é¢˜ä»â€œæˆ‘ä»¬èƒ½ç”¨ Java åš ML å—ï¼Ÿâ€è½¬å˜ä¸ºâ€œæˆ‘ä»¬å¦‚ä½•ä¼˜åŒ– Java ML éƒ¨ç½²ï¼Ÿâ€ã€‚</p>
<p>éšç€ ML åœ¨ä¼ä¸šç³»ç»Ÿä¸­å˜å¾—æ— å¤„ä¸åœ¨ï¼ŒJava çš„ç”Ÿäº§ä¼˜åŠ¿â€”â€”ç¨³å®šæ€§ã€æ€§èƒ½ã€å·¥å…·æˆç†Ÿåº¦å’Œæ“ä½œç†Ÿæ‚‰åº¦â€”â€”ä½¿å…¶æˆä¸ºæ¨ç†å±‚çš„åŠ¡å®é€‰æ‹©ï¼Œå³ä½¿ Python åœ¨è®­ç»ƒå’Œå®éªŒä¸­ä»å ä¸»å¯¼åœ°ä½ã€‚å¤šè¯­è¨€æ–¹æ³•â€”â€”åœ¨ Python ä¸­è®­ç»ƒï¼Œåœ¨ Java ä¸­éƒ¨ç½²â€”â€”ä»£è¡¨çš„ä¸æ˜¯å¦¥åï¼Œè€Œæ˜¯å¯¹æ¯ä¸ªå¹³å°ç‹¬ç‰¹ä¼˜åŠ¿çš„ä¼˜åŒ–ã€‚</p>
<hr/>
<p>ã€æ³¨ã€‘æœ¬æ–‡è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.javacodegeeks.com%2F2026%2F01%2Fai-and-machine-learning-in-java-tensorflow-djl-and-enterprise-ai.html" target="_blank" title="https://www.javacodegeeks.com/2026/01/ai-and-machine-learning-in-java-tensorflow-djl-and-enterprise-ai.html" ref="nofollow noopener noreferrer">AI and Machine Learning in Java: TensorFlow, DJL, and Enterprise AI</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ç¬¬ä¸€æ€§åŸç†æ‹†è§£ Agentic Codingï¼šä»ç†è®ºåˆ°å®æ“ï¼ˆä¸Šï¼‰]]></title>    <link>https://juejin.cn/post/7593169840199237658</link>    <guid>https://juejin.cn/post/7593169840199237658</guid>    <pubDate>2026-01-09T08:29:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593169840199237658" data-draft-id="7592939457043415092" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ç¬¬ä¸€æ€§åŸç†æ‹†è§£ Agentic Codingï¼šä»ç†è®ºåˆ°å®æ“ï¼ˆä¸Šï¼‰"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-09T08:29:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ç¬¬ä¸€æ€§åŸç†æ‹†è§£ Agentic Codingï¼šä»ç†è®ºåˆ°å®æ“ï¼ˆä¸Šï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:29:18.000Z" title="Fri Jan 09 2026 08:29:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6323f2f57c5f48ae9749ac615fc802bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=9U56aq73toNUpDoCxQjrBpszU%2Fk%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šå°å¤ï¼ŒTRAE æŠ€æœ¯ä¸“å®¶</p>
</blockquote>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ AI ç¼–ç¨‹åŠ©æ‰‹æ—¶ï¼Œå¾ˆå®¹æ˜“æŠŠå®ƒå½“ä½œä¸€ä¸ªã€Œé»‘ç›’ã€ï¼šè¾“å…¥æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå°±å¯ä»¥è·å¾—æƒ³è¦çš„ä»£ç ã€‚ä½†å¦‚æœæƒ³çœŸæ­£é«˜æ•ˆåœ°åˆ©ç”¨è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬éœ€è¦å›åˆ°ç¬¬ä¸€æ€§åŸç†ï¼šç†è§£ LLM ç©¶ç«Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå®ƒçš„èƒ½åŠ›è¾¹ç•Œåœ¨å“ªé‡Œï¼Œä»¥åŠ Agent æ¶æ„æ˜¯å¦‚ä½•åœ¨è¿™äº›çº¦æŸä¸‹è¢«è®¾è®¡å‡ºæ¥çš„ã€‚åœ¨æœ¬æ–‡ä¸Šç¯‡ï¼Œæˆ‘ä»¬å°†ä»å¤§æ¨¡å‹çš„å·¥ä½œåŸç†å’Œå±€é™æ€§å‡ºå‘ï¼Œä»‹ç»ç”±æ­¤å¼•å‘çš„ Coding Agent ä¸­çš„æ•ˆæœé—®é¢˜ï¼Œè¿›è€Œæ”¯æ’‘æˆ‘ä»¬ç†è§£å„ç§æœ€ä½³å®è·µèƒŒåçš„åŸå› ï¼Œå¹¶ä¸”ä½ ä¼šå‘ç°ï¼Œå¾ˆå¤š TRAE ä¸­çš„ Agent ä¼˜åŒ–å’ŒåŠŸèƒ½ç‰¹æ€§æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è§£å†³è¿™äº›å¤§æ¨¡å‹å›ºæœ‰çš„å±€é™æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5155640ba47f49eab0c185569e405a86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=WbVe260zNxSU5ltHUEQcJnkX5Vc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ç¬¬ä¸€æ€§åŸç†ï½œç†è§£ LLM çš„æœ¬è´¨</strong></h2>
<h3 data-id="heading-1"><strong>LLM æ˜¯å¦‚ä½•ã€Œæ€è€ƒã€çš„</strong></h3>
<p>å¤§è¯­è¨€æ¨¡å‹çš„å·¥ä½œæ–¹å¼å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>é€ä¸ªé¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚</strong></p>
<p>å½“ä½ å‘ LLM æé—®æ—¶ï¼Œå®ƒå¹¶ä¸æ˜¯å…ˆåœ¨ã€Œè„‘ä¸­ã€æ„æ€å¥½å®Œæ•´ç­”æ¡ˆå†è¾“å‡ºã€‚ç›¸åï¼Œå®ƒæ¯æ¬¡åªåšä¸€ä»¶äº‹ï¼šåŸºäºå½“å‰çœ‹åˆ°çš„æ‰€æœ‰æ–‡æœ¬ï¼ˆä½ çš„è¾“å…¥ + å®ƒå·²ç»ç”Ÿæˆçš„å†…å®¹ï¼‰ï¼Œé¢„æµ‹æœ€å¯èƒ½çš„ä¸‹ä¸€ä¸ªè¯æ˜¯ä»€ä¹ˆã€‚ç„¶åæŠŠè¿™ä¸ªè¯åŠ å…¥åºåˆ—ï¼Œå†é¢„æµ‹ä¸‹ä¸€ä¸ªï¼Œå¦‚æ­¤å¾ªç¯ç›´åˆ°ç”Ÿæˆç»“æŸï¼Œè¿™ç§æ–¹å¼è¢«ç§°ä¸ºÂ <strong>è‡ªå›å½’ç”Ÿæˆï¼ˆAutoregressive Generationï¼‰</strong> ã€‚</p>
<p>ç†è§£è¿™ä¸€ç‚¹è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒæ­ç¤ºäº† LLM çš„å‡ ä¸ªæœ¬è´¨ç‰¹å¾ï¼š</p>
<p><strong>1. æ²¡æœ‰ç‹¬ç«‹äºè¾“å‡ºçš„ã€Œæ€è€ƒã€è¿‡ç¨‹</strong> <strong>ï¼š</strong> LLM çš„æ¨ç†å°±æ˜¯ç”Ÿæˆæœ¬èº«ã€‚å®ƒä¸èƒ½å…ˆæƒ³å¥½å†è¯´ï¼Œåªèƒ½è¾¹è¯´è¾¹æƒ³ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè®©æ¨¡å‹ã€Œä¸€æ­¥æ­¥æ€è€ƒã€ï¼ˆChain-of-Thoughtï¼‰ä¼šæå‡æ•ˆæœ â€” ä½ å®é™…ä¸Šæ˜¯åœ¨ç»™å®ƒæ›´å¤šçš„ã€Œæ€è€ƒç©ºé—´ã€ï¼Œè®©å®ƒé€šè¿‡ç”Ÿæˆä¸­é—´æ­¥éª¤æ¥è¾…åŠ©æ¨ç†ã€‚å°½ç®¡æ–°ä¸€ä»£æ¨¡å‹å¾ˆå¤šéƒ½å¸¦æœ‰æ˜¾å¼çš„ reasoning èƒ½åŠ›ï¼Œä¾ç„¶è„±ç¦»ä¸äº†è¿™ä¸ªèŒƒå¼ã€‚</p>
<p><strong>2. ä¸Šä¸‹æ–‡å°±æ˜¯å…¨éƒ¨è®°å¿†ï¼š</strong> LLM æ²¡æœ‰ç‹¬ç«‹çš„è®°å¿†å­˜å‚¨ã€‚å®ƒå¯¹å½“å‰å¯¹è¯çš„æ‰€æœ‰ã€Œç†è§£ã€ï¼Œå®Œå…¨æ¥è‡ªäºè¾“å…¥ç»™å®ƒçš„ä¸Šä¸‹æ–‡çª—å£ã€‚çª—å£ä¹‹å¤–çš„å†…å®¹ï¼Œå¯¹æ¨¡å‹æ¥è¯´å°±æ˜¯ä¸å­˜åœ¨çš„ã€‚</p>
<p><strong>3. ç”Ÿæˆå…·æœ‰æ¦‚ç‡æ€§ï¼š</strong> æ¯ä¸€æ­¥é¢„æµ‹éƒ½æ˜¯åŸºäºæ¦‚ç‡åˆ†å¸ƒé‡‡æ ·ï¼Œè¿™æ„å‘³ç€åŒæ ·çš„è¾“å…¥å¯èƒ½äº§ç”Ÿä¸åŒçš„è¾“å‡ºã€‚</p>
<p>è‡ªå›å½’ï¼ˆautoregressiveï¼‰LLM çš„æ ¸å¿ƒå·¥ä½œæ–¹å¼æ˜¯ï¼š<strong>ä¸€æ¬¡åªé¢„æµ‹ä¸‹ä¸€ä¸ª token</strong>ï¼Œç„¶åæŠŠè‡ªå·±åˆšç”Ÿæˆçš„å†…å®¹å†å–‚å›å»ç»§ç»­ç”Ÿæˆã€‚è¿™ä¸ªæœºåˆ¶å¾ˆå¼ºï¼ˆé€šç”¨ã€å¯æ‰©å±•ã€èƒ½ã€Œå†™å‡ºã€å¤æ‚ç»“æ„ï¼‰ï¼Œä½†ä¹Ÿå¤©ç„¶å¸¦æ¥ä¸€äº›å±€é™ï¼Œåœ¨ Coding Agent é‡Œè¿™äº›å±€é™ä¼šè¢«æ”¾å¤§ï¼Œå› ä¸ºè½¯ä»¶å¼€å‘æ˜¯ã€Œé•¿é“¾è·¯ã€å¼ºçº¦æŸã€å¼ºéªŒè¯ã€çš„ä»»åŠ¡ã€‚</p>
<p><strong>å½“å‰ Coding Agent æ™®éå­˜åœ¨çš„é—®é¢˜ï¼š</strong></p>
<p><strong>1.Â å±€éƒ¨æœ€ä¼˜ï¼šä¸€æ­¥ä¸€æ­¥ã€Œç»­å†™ã€ï¼Œä¸ç­‰äºå…¨å±€è§„åˆ’</strong></p>
<ul>
<li>
<p>å®¹æ˜“å…ˆå†™å¾—å¾ˆåƒã€å¾ˆé¡ºï¼Œç„¶ååœ¨åé¢å‘ç°ä¸å¯¹å†è¡¥ä¸å¼ä¿®ä¿®è¡¥è¡¥ï¼ˆå†å²å€ºåŠ¡å¿«é€Ÿç´¯ç§¯ï¼‰ã€‚</p>
</li>
<li>
<p>å¤šæ–‡ä»¶é‡æ„/æ¶æ„è°ƒæ•´è¿™ç§ã€Œå…ˆè§„åˆ’åè½åœ°ã€çš„ä»»åŠ¡ï¼Œä¼šå˜æˆè¾¹å†™è¾¹æƒ³ï¼Œå¯¼è‡´æ¥å£ä¸ä¸€è‡´ã€é‡å¤å®ç°ã€é—æ¼è¿ç§»æ­¥éª¤ã€‚</p>
</li>
<li>
<p>å¯¹ã€Œæœ€ç»ˆèƒ½ä¸èƒ½é€šè¿‡æµ‹è¯•/CIã€ç¼ºä¹æ„ŸçŸ¥ï¼Œé™¤éä½ æŠŠæµ‹è¯•ç»“æœæ˜¾å¼å–‚å› agent å¾ªç¯ã€‚</p>
</li>
</ul>
<p><strong>2.Â ä¸€æ—¦èµ°åï¼Œä¼šæ²¿ç€åå·®ç»§ç»­æ»šé›ªçƒ</strong></p>
<ul>
<li>
<p>æ—©æœŸè¯¯è¯»éœ€æ±‚/è¯¯åˆ¤ä»£ç åº“çš„çº¦æŸ ï¼Œå¯¼è‡´åé¢æ¯ä¸€æ­¥éƒ½åœ¨é”™è¯¯ä¸–ç•Œè§‚é‡Œè‡ªæ´½ã€‚</p>
</li>
<li>
<p>ç”Ÿæˆäº†ä¸€ä¸ªä¸å­˜åœ¨çš„å‡½æ•°å/ç±»å‹åï¼Œåç»­ä¼šè¶Šæ¥è¶Šã€Œç›¸ä¿¡å®ƒå­˜åœ¨ã€ï¼Œç›´åˆ°ç¼–è¯‘/è¿è¡Œæ—¶æ‰“è„¸ã€‚</p>
</li>
<li>
<p>åœ¨é•¿å¯¹è¯ã€é•¿ä»»åŠ¡é‡Œå°¤å…¶æ˜æ˜¾ï¼šè¶Šå†™è¶Šåƒã€Œå¦ä¸€ä¸ªé¡¹ç›®ã€ã€‚</p>
</li>
</ul>
<p><strong>3.Â è¾“å‡ºæ˜¯æµå¼çš„ï¼Œæ— æ³•å›å¤´ä¿®æ”¹ä¹‹å‰è¾“å‡ºçš„å†…å®¹</strong></p>
<ul>
<li>
<p>æ“…é•¿ã€Œå†™æ–°æ–‡ä»¶/æ–°æ®µè½ã€ï¼Œç›¸å¯¹ä¸æ“…é•¿åœ¨å¤æ‚ä»£ç ä¸­åšç²¾ç¡®ã€æœ€å°åŒ–ã€å±€éƒ¨ä¸€è‡´çš„ç¼–è¾‘ã€‚</p>
</li>
<li>
<p>å®¹æ˜“å€¾å‘äºã€Œé‡å†™ä¸€éã€è€Œä¸æ˜¯ã€Œè¿›è¡Œä¿®æ”¹ã€ï¼Œå¯¼è‡´ diff è¿‡å¤§ã€review æˆæœ¬é«˜ã€‚</p>
</li>
<li>
<p>åœ¨éœ€è¦ä¿æŒå¤§é‡ä¸å˜é‡ï¼ˆAPIã€æ ¼å¼ã€é£æ ¼ã€å…¼å®¹æ€§ï¼‰çš„ä»“åº“é‡Œå°¤å…¶ç—›è‹¦ã€‚</p>
</li>
</ul>
<p><strong>4.Â æ»¡è¶³çº¦æŸçš„èƒ½åŠ›æœ‰é™ï¼Œè€Œä»£ç æ˜¯å¼ºè¯­æ³•/å¼ºè¯­ä¹‰çº¦æŸçš„</strong></p>
<ul>
<li>
<p>ã€Œçœ‹èµ·æ¥åˆç†ã€çš„å®ç°ï¼Œç»å¸¸åœ¨è¾¹ç•Œæ¡ä»¶ã€å¹¶å‘ã€é”™è¯¯å¤„ç†ã€èµ„æºé‡Šæ”¾ä¸Šå‡ºé”™ã€‚</p>
</li>
<li>
<p>è·¨æ–‡ä»¶çš„ç¬¦å·è§£æã€æ³›å‹/æ¨¡æ¿æ¨å¯¼ã€å®/ä»£ç ç”Ÿæˆç­‰ï¼Œé çº¯æ–‡æœ¬æ¨æ–­å¾ˆå®¹æ˜“æ¼ã€‚</p>
</li>
<li>
<p>å¤æ‚çš„é‡æ„ï¼ˆrenameã€moveã€splitï¼‰æ²¡æœ‰ AST/è¯­ä¹‰å·¥å…·è¾…åŠ©æ—¶ï¼Œé”™ä¸€ä¸ªå¼•ç”¨å°±å…¨ç›˜å´©ã€‚</p>
</li>
</ul>
<p><strong>5.Â å¤©ç„¶å•çº¿ç¨‹æ€è€ƒï¼Œéš¾å¹¶è¡Œæ¢ç´¢</strong></p>
<ul>
<li>
<p>åœ¨æ–¹æ¡ˆé€‰æ‹©ï¼ˆæ¶æ„ã€ä¾èµ–ã€å®ç°è·¯å¾„ï¼‰ä¸Šå®¹æ˜“æ—©æ—©æŠ¼æ³¨ä¸€ä¸ªæ–¹å‘ï¼Œç¼ºå°‘ç³»ç»Ÿæ€§å¯¹æ¯”ã€‚</p>
</li>
<li>
<p>æ’æŸ¥ bug æ—¶æ›´åƒã€Œå•çº¿æ¨ç†ã€ï¼Œä¸å¦‚äººç±»/å·¥å…·é‚£æ ·å¹¶è¡Œå‡è®¾ã€å¹¶è¡ŒéªŒè¯</p>
</li>
</ul>
<h3 data-id="heading-2"><strong>Attentionï¼šLLM å¦‚ä½•ã€Œé˜…è¯»ã€ä¸Šä¸‹æ–‡</strong></h3>
<p>åœ¨é¢„æµ‹ä¸‹ä¸€ä¸ª token æ—¶ï¼Œæ¨¡å‹éœ€è¦ä»ä¸Šä¸‹æ–‡ä¸­æå–ç›¸å…³ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ç”±Â <strong>Attentionï¼ˆæ³¨æ„åŠ›ï¼‰æœºåˆ¶</strong> å®Œæˆã€‚</p>
<p>ä½ å¯ä»¥æŠŠ Attention æƒ³è±¡æˆä¸€ä¸ªåŠ¨æ€çš„ã€Œèšå…‰ç¯ã€ï¼šå½“æ¨¡å‹ç”Ÿæˆæ¯ä¸ªæ–° token æ—¶ï¼Œå®ƒä¼šæ‰«è§†æ•´ä¸ªä¸Šä¸‹æ–‡ï¼Œå¯¹ä¸åŒä½ç½®çš„å†…å®¹åˆ†é…ä¸åŒçš„ã€Œæ³¨æ„åŠ›æƒé‡ã€ã€‚æƒé‡é«˜çš„éƒ¨åˆ†ä¼šå¯¹å½“å‰ç”Ÿæˆäº§ç”Ÿæ›´å¤§å½±å“ï¼Œæƒé‡ä½çš„éƒ¨åˆ†åˆ™å‡ ä¹è¢«å¿½ç•¥ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¯¹äºå½“å‰è¦ç”Ÿæˆçš„ tokenï¼Œæ¨¡å‹ä¼šï¼š</p>
<ul>
<li>
<p><strong>è®¡ç®—ç›¸å…³æ€§ï¼š</strong> å½“å‰ä½ç½®ä¸ä¸Šä¸‹æ–‡ä¸­æ¯ä¸ªä½ç½®çš„ç›¸å…³ç¨‹åº¦</p>
</li>
<li>
<p><strong>åˆ†é…æƒé‡ï¼š</strong> ç›¸å…³æ€§é«˜çš„ä½ç½®è·å¾—æ›´é«˜æƒé‡ï¼Œå½¢æˆä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒ</p>
</li>
<li>
<p><strong>åŠ æƒèšåˆï¼š</strong> æ ¹æ®æƒé‡æ±‡æ€»ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç”¨äºé¢„æµ‹ä¸‹ä¸€ä¸ª token</p>
</li>
</ul>
<p>è¿™ä¸ªæœºåˆ¶æœ‰å‡ ä¸ªé‡è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p><strong>æ³¨æ„åŠ›æ˜¯ç¨€ç–çš„ï¼š</strong> æ¨¡å‹ä¸ä¼šå‡åŒ€åœ°å…³æ³¨æ‰€æœ‰å†…å®¹ã€‚åœ¨å®è·µä¸­ï¼ŒAttention æƒé‡å¾€å¾€é›†ä¸­åœ¨å°‘æ•°å…³é”®ä½ç½®ï¼Œå¤§éƒ¨åˆ†ä½ç½®çš„æƒé‡æ¥è¿‘äºé›¶ã€‚</p>
</li>
<li>
<p><strong>æ³¨æ„åŠ›éœ€è¦ã€Œå­¦ä¹ ã€çš„ï¼š</strong> æ¨¡å‹é€šè¿‡è®­ç»ƒå­¦ä¹ åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å…³æ³¨ä»€ä¹ˆå†…å®¹ã€‚è¿™æ„å‘³ç€å®ƒå¯èƒ½ä¼šå½¢æˆæŸäº›åå¥½æ¨¡å¼ï¼Œæ¯”å¦‚æ›´å…³æ³¨å¼€å¤´å’Œç»“å°¾ã€‚</p>
</li>
<li>
<p><strong>è®¡ç®—å¤æ‚åº¦æ˜¯å¹³æ–¹çº§çš„ï¼š</strong> æ ‡å‡† Attention éœ€è¦è®¡ç®—æ¯ä¸ªä½ç½®ä¸æ‰€æœ‰å…¶ä»–ä½ç½®çš„å…³ç³»ï¼Œè®¡ç®—é‡éšä¸Šä¸‹æ–‡é•¿åº¦çš„å¹³æ–¹å¢é•¿ã€‚è¿™æ˜¯ä¸Šä¸‹æ–‡é•¿åº¦å­˜åœ¨ç‰©ç†ä¸Šé™çš„æ ¹æœ¬åŸå› ä¹‹ä¸€ã€‚</p>
</li>
</ul>
<p>ç†è§£äº† Attention æœºåˆ¶ï¼Œæˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°ç†è§£ä¸Šä¸‹æ–‡é•¿åº¦ä¸ºä»€ä¹ˆä¼šå¸¦æ¥å¤šç§é™åˆ¶ã€‚</p>
<h3 data-id="heading-3"><strong>ä¸Šä¸‹æ–‡é•¿åº¦ï¼šæœ€å…³é”®çš„çº¦æŸ</strong></h3>
<p>ä¸Šä¸‹æ–‡çª—å£çš„é™åˆ¶æ˜¯å½±å“ Coding Agent è®¾è®¡æœ€æ ¸å¿ƒçš„çº¦æŸæ¡ä»¶ã€‚ç»“åˆå¯¹ Attention æœºåˆ¶çš„ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ°è¿™ä¸ªé™åˆ¶çš„å¤šä¸ªå±‚æ¬¡ã€‚</p>
<h4 data-id="heading-4"><strong>ç‰©ç†ä¸Šé™</strong></h4>
<p>æ¯ä¸ªæ¨¡å‹éƒ½æœ‰æœ€å¤§ token é™åˆ¶ï¼Œç›®å‰ä¸»æµæ¨¡å‹é€šå¸¸åœ¨ 128K åˆ° 200K ä¹‹é—´ã€‚è¿™ä¸ªç¡¬æ€§è¾¹ç•Œçš„å­˜åœ¨æœ‰ä¸¤ä¸ªæ ¹æœ¬åŸå› ï¼š</p>
<p><strong>1.</strong> Attention çš„è®¡ç®—å¤æ‚åº¦é€šå¸¸æ˜¯ Oï¼ˆnÂ²ï¼‰ï¼Œä¸Šä¸‹æ–‡é•¿åº¦ç¿»å€ï¼Œè®¡ç®—é‡å˜æˆå››å€</p>
<p><strong>2.</strong> éœ€è¦å­˜å‚¨å®Œæ•´çš„æ³¨æ„åŠ›çŸ©é˜µï¼Œå†…å­˜æ¶ˆè€—åŒæ ·æ˜¯å¹³æ–¹çº§å¢é•¿</p>
<p><strong>è¶…è¿‡è¿™ä¸ªé•¿åº¦çš„å†…å®¹æ ¹æœ¬æ— æ³•è¢«å¤„ç†ã€‚</strong></p>
<h4 data-id="heading-5"><strong>æœ‰æ•ˆä¸Šä¸‹æ–‡è¿œå°äºæ ‡ç§°ä¸Šä¸‹æ–‡</strong></h4>
<p><strong>è™½ç„¶æ¨¡å‹å®£ç§°æ”¯æŒ 200K tokensï¼Œä½†è¿™ä¸æ„å‘³ç€åœ¨ 200K é•¿åº¦ä¸‹éƒ½èƒ½ä¿æŒè‰¯å¥½è¡¨ç°ã€‚</strong></p>
<p>é—®é¢˜å‡ºåœ¨ Attention çš„ã€Œç¨€ç–æ€§ã€ä¸Šï¼šå½“ä¸Šä¸‹æ–‡å¾ˆé•¿æ—¶ï¼Œæ³¨æ„åŠ›æƒé‡éœ€è¦åˆ†æ•£åˆ°æ›´å¤šä½ç½®ã€‚å¦‚æœå…³é”®ä¿¡æ¯åªæ˜¯æµ·é‡å†…å®¹ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œå®ƒè·å¾—çš„æ³¨æ„åŠ›æƒé‡å¯èƒ½ä¼šè¢«ç¨€é‡Šåˆ°éš¾ä»¥æœ‰æ•ˆåˆ©ç”¨çš„ç¨‹åº¦ã€‚å®é™…ä¸Šï¼Œä¸€ä¸ªæ”¯æŒ 200K çš„æ¨¡å‹ï¼Œå¯èƒ½åœ¨è¶…è¿‡ 80K æˆ– 100K ä¹‹åï¼Œå°±å¼€å§‹å‡ºç°æ˜æ˜¾çš„æ€§èƒ½é€€åŒ–ã€‚</p>
<h4 data-id="heading-6"><strong>æ€§èƒ½é€€åŒ–æ›²çº¿</strong></h4>
<p>éšç€ä¸Šä¸‹æ–‡å˜é•¿ï¼Œä¸ä»…æ˜¯ã€Œè®°å¿†ã€å˜å·®ï¼Œæ¨¡å‹çš„æ•´ä½“èƒ½åŠ›ï¼ŒåŒ…æ‹¬æ¨ç†å‡†ç¡®æ€§ã€æŒ‡ä»¤éµå¾ªèƒ½åŠ›ã€ä»£ç ç”Ÿæˆè´¨é‡éƒ½ä¼šä¸‹é™ã€‚</p>
<p>è¿™æ˜¯è‡ªå›å½’ + Attention ç»„åˆå¸¦æ¥çš„ç´¯ç§¯æ•ˆåº”ï¼š</p>
<ul>
<li>
<p>æ¯ä¸€æ­¥ç”Ÿæˆéƒ½ä¾èµ–äºå¯¹ä¸Šä¸‹æ–‡çš„æ­£ç¡®ç†è§£</p>
</li>
<li>
<p>æ›´é•¿çš„ä¸Šä¸‹æ–‡æ„å‘³ç€æ›´ç¨€ç–çš„æ³¨æ„åŠ›åˆ†å¸ƒ</p>
</li>
<li>
<p>é”™è¯¯ç†è§£ä¼šä¼ é€’åˆ°åç»­ç”Ÿæˆï¼Œå½¢æˆç´¯ç§¯è¯¯å·®</p>
</li>
</ul>
<p>ç†è§£è¿™äº›é™åˆ¶ï¼Œä½ å°±èƒ½æ˜ç™½ä¸ºä»€ä¹ˆ Coding Agent éœ€è¦ç²¾å¿ƒè®¾è®¡ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼Œè€Œä¸æ˜¯ç®€å•åœ°æŠŠæ‰€æœ‰ä¿¡æ¯å¡è¿›çª—å£ã€‚</p>
<h3 data-id="heading-7"><strong>å¼ºåŒ–å­¦ä¹ ï¼šè®©æ¨¡å‹å­¦ä¼šã€Œåšäº‹ã€</strong></h3>
<p>å‰é¢æˆ‘ä»¬è®¨è®ºçš„æ˜¯ LLM çš„åŸºç¡€èƒ½åŠ›ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚ä½†è¦è®©æ¨¡å‹ä»**ã€Œèƒ½è¯´ä¼šé“ã€<strong>è¿›åŒ–åˆ°</strong>ã€Œèƒ½åšäº‹æƒ…ã€**ï¼Œè¿˜éœ€è¦å¦ä¸€ä¸ªå…³é”®æŠ€æœ¯ï¼š<strong>å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼Œ RLï¼‰ã€‚</strong></p>
<h4 data-id="heading-8"><strong>é¢„è®­ç»ƒçš„å±€é™</strong></h4>
<p>LLM çš„é¢„è®­ç»ƒæœ¬è´¨ä¸Šæ˜¯ã€Œæ¨¡ä»¿ã€ï¼šé€šè¿‡é˜…è¯»æµ·é‡æ–‡æœ¬ï¼Œå­¦ä¼šé¢„æµ‹ã€Œäººç±»ä¼šæ€ä¹ˆå†™ä¸‹ä¸€ä¸ªè¯ã€ã€‚è¿™è®©æ¨¡å‹è·å¾—äº†å¹¿æ³›çš„çŸ¥è¯†å’Œæµç•…çš„è¡¨è¾¾èƒ½åŠ›ï¼Œä½†ä¹Ÿæœ‰æ˜æ˜¾çš„å±€é™ï¼š</p>
<ul>
<li>æ¨¡å‹å­¦ä¼šçš„æ˜¯ã€Œæ–‡æœ¬çœ‹èµ·æ¥åº”è¯¥æ˜¯ä»€ä¹ˆæ ·ã€ï¼Œè€Œä¸æ˜¯ã€Œä»€ä¹ˆè¡ŒåŠ¨èƒ½è§£å†³é—®é¢˜ã€</li>
<li>é¢„è®­ç»ƒæ•°æ®ä¸­å¾ˆå°‘æœ‰ã€Œè°ƒç”¨å·¥å…· â†’ è§‚å¯Ÿç»“æœ â†’ è°ƒæ•´ç­–ç•¥ã€è¿™æ ·çš„äº¤äº’åºåˆ—</li>
<li>æ¨¡å‹å¯èƒ½ä¼šç”Ÿæˆçœ‹èµ·æ¥åˆç†ä½†å®é™…æ— æ•ˆçš„æ“ä½œæ­¥éª¤</li>
</ul>
<p><strong>ç®€å•æ¥è¯´ï¼Œé¢„è®­ç»ƒæ•™ä¼šäº†æ¨¡å‹ã€Œè¯´ã€ï¼Œä½†æ²¡æœ‰æ•™ä¼šå®ƒã€Œåšã€ã€‚</strong></p>
<h4 data-id="heading-9"><strong>å¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³</strong></h4>
<p>å¼ºåŒ–å­¦ä¹ ç”¨ä¸€ä¸ªç®€å•çš„å¾ªç¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š<strong>å°è¯• â†’ åé¦ˆ â†’ è°ƒæ•´ã€‚</strong></p>
<p>æƒ³è±¡æ•™ä¸€ä¸ªå°æœ‹å‹ä¸‹æ£‹ï¼šä½ ä¸ä¼šç»™ä»–çœ‹ä¸€ç™¾ä¸‡ç›˜æ£‹è°±è®©ä»–èƒŒï¼ˆè¿™æ˜¯é¢„è®­ç»ƒçš„æ–¹å¼ï¼‰ï¼Œè€Œæ˜¯è®©ä»–å®é™…ä¸‹æ£‹ï¼Œèµ¢äº†å°±è¡¨æ‰¬ï¼Œè¾“äº†å°±å¤ç›˜ã€‚é€šè¿‡æ— æ•°æ¬¡çš„å°è¯•å’Œåé¦ˆï¼Œä»–é€æ¸å­¦ä¼šä»€ä¹ˆæ˜¯å¥½æ£‹ã€ä»€ä¹ˆæ˜¯åæ£‹ã€‚</p>
<p>å¯¹ LLM æ¥è¯´ï¼Œå¼ºåŒ–å­¦ä¹ çš„è¿‡ç¨‹ç±»ä¼¼ï¼š</p>
<ul>
<li>
<p><strong>å°è¯•ï¼š</strong> è®©æ¨¡å‹åœ¨çœŸå®æˆ–æ¨¡æ‹Ÿçš„ç¯å¢ƒä¸­æ‰§è¡Œä»»åŠ¡ï¼ˆæ¯”å¦‚è°ƒç”¨å·¥å…·ã€ç¼–è¾‘æ–‡ä»¶ï¼‰</p>
</li>
<li>
<p><strong>åé¦ˆï¼š</strong> æ ¹æ®ç»“æœç»™å‡ºå¥–åŠ±ä¿¡å·ï¼ˆä»»åŠ¡å®Œæˆäº†ï¼Ÿä»£ç èƒ½è¿è¡Œï¼Ÿæµ‹è¯•é€šè¿‡äº†ï¼Ÿ)</p>
</li>
<li>
<p><strong>è°ƒæ•´ï¼š</strong> æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œè®©å®ƒæ›´å€¾å‘äºé€‰æ‹©èƒ½è·å¾—é«˜å¥–åŠ±çš„è¡ŒåŠ¨</p>
</li>
</ul>
<p>è¿™ä¸ªè¿‡ç¨‹ä¼šé‡å¤æˆåƒä¸Šä¸‡æ¬¡ï¼Œæ¨¡å‹é€æ¸å­¦ä¼šï¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥è°ƒç”¨ä»€ä¹ˆå·¥å…·ã€å¦‚ä½•è§£è¯»å·¥å…·è¿”å›çš„ç»“æœã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ç»§ç»­å°è¯•ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥æ¢ä¸ªæ–¹å‘ã€‚</p>
<h4 data-id="heading-10"><strong>ä¸ºä»€ä¹ˆ RL å¯¹ Agentic èƒ½åŠ›è‡³å…³é‡è¦</strong></h4>
<p>ä¼ ç»Ÿçš„ LLM å¾®è°ƒï¼ˆæ¯”å¦‚ç›‘ç£å­¦ä¹ ï¼‰éœ€è¦äººç±»æ ‡æ³¨ã€Œæ­£ç¡®ç­”æ¡ˆã€ã€‚ä½† Agent ä»»åŠ¡çš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>
<p><strong>è·¯å¾„å¤šæ ·ï¼š</strong> å®ŒæˆåŒä¸€ä¸ªç¼–ç¨‹ä»»åŠ¡å¯èƒ½æœ‰æ— æ•°ç§åˆç†çš„æ­¥éª¤ç»„åˆ</p>
</li>
<li>
<p><strong>ç»“æœå¯¼å‘ï¼š</strong> æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„æ˜¯æœ€ç»ˆç»“æœï¼Œè€Œä¸æ˜¯ä¸­é—´æ¯ä¸€æ­¥æ˜¯å¦ã€Œæ ‡å‡†ã€</p>
</li>
<li>
<p><strong>éœ€è¦æ¢ç´¢ï¼š</strong> æœ‰æ—¶å€™å¿…é¡»å°è¯•å‡ ç§æ–¹æ³•æ‰èƒ½æ‰¾åˆ°å¯è¡Œçš„è·¯å¾„</p>
</li>
</ul>
<p>RL å¤©ç„¶é€‚åˆè¿™ç§åœºæ™¯ã€‚å®ƒä¸è¦æ±‚ä½ å®šä¹‰ã€Œæ­£ç¡®çš„æ­¥éª¤åºåˆ—ã€ï¼Œåªéœ€è¦å®šä¹‰ã€Œä»€ä¹ˆç®—æˆåŠŸã€ã€‚æ¨¡å‹é€šè¿‡è‡ªå·±çš„æ¢ç´¢ï¼Œå­¦ä¼šæ‰¾åˆ°é€šå¾€æˆåŠŸçš„è·¯å¾„ã€‚</p>
<h4 data-id="heading-11"><strong>å®é™…è®­ç»ƒä¸­çš„åº”ç”¨</strong></h4>
<p>ç°ä»£ Coding Agent èƒŒåçš„æ¨¡å‹é€šå¸¸ä¼šç»å†è¿™æ ·çš„ RL è®­ç»ƒï¼š</p>
<ul>
<li>
<p>åœ¨æ¨¡æ‹Ÿçš„ç¼–ç¨‹ç¯å¢ƒä¸­æ‰§è¡Œä»»åŠ¡ï¼ˆåˆ›å»ºæ–‡ä»¶ã€è¿è¡Œä»£ç ã€ä¿®å¤ bugï¼‰</p>
</li>
<li>
<p>ç”¨æµ‹è¯•é€šè¿‡ç‡ã€ä»£ç è´¨é‡è¯„åˆ†ç­‰ä½œä¸ºå¥–åŠ±ä¿¡å·</p>
</li>
<li>
<p>å­¦ä¹ ä½•æ—¶åº”è¯¥è¯»å–æ›´å¤šæ–‡ä»¶æ¥è·å–ä¸Šä¸‹æ–‡ï¼Œä½•æ—¶åº”è¯¥ç›´æ¥åŠ¨æ‰‹ä¿®æ”¹</p>
</li>
<li>
<p>å­¦ä¹ å¦‚ä½•ä»é”™è¯¯ä¿¡æ¯ä¸­æå–æœ‰ç”¨çº¿ç´¢ï¼Œè°ƒæ•´ä¸‹ä¸€æ­¥ç­–ç•¥</p>
</li>
</ul>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒRL è®­ç»ƒçš„æ•ˆæœé«˜åº¦ä¾èµ–å¥–åŠ±ä¿¡å·çš„è®¾è®¡ã€‚å¦‚æœåªå¥–åŠ±ã€Œä»»åŠ¡å®Œæˆã€ï¼Œæ¨¡å‹å¯èƒ½å­¦ä¼šèµ°æ·å¾„ï¼ˆReward Hackingï¼‰ï¼›å¦‚æœå¥–åŠ±ä¿¡å·å¤ªå¤æ‚ï¼Œè®­ç»ƒå¯èƒ½ä¸ç¨³å®šã€‚<strong>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸åŒæ¨¡å‹åœ¨ Agent ä»»åŠ¡ä¸Šçš„è¡¨ç°å·®å¼‚å¾ˆå¤§ï¼ŒèƒŒåçš„ RL è®­ç»ƒç­–ç•¥å¯èƒ½å®Œå…¨ä¸åŒã€‚</strong></p>
<h4 data-id="heading-12"><strong>å¯¹ä½¿ç”¨è€…çš„å¯ç¤º</strong></h4>
<p>ç†è§£äº† RL çš„ä½œç”¨ï¼Œä½ ä¼šæ›´æ¸…æ¥šä¸ºä»€ä¹ˆæŸäº›ä½¿ç”¨æ–¹å¼æ›´æœ‰æ•ˆï¼š</p>
<ul>
<li>
<p><strong>æä¾›æ¸…æ™°çš„æˆåŠŸæ ‡å‡†ï¼š</strong> å½“ä½ å‘Šè¯‰ Agent ã€Œä¿®å¥½è¿™ä¸ª bugï¼Œè¿è¡Œ npm test åº”è¯¥å…¨éƒ¨é€šè¿‡ã€ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨ç»™å®ƒä¸€ä¸ªæ˜ç¡®çš„ã€Œå¥–åŠ±ä¿¡å·ã€ï¼Œè¿™ä¸å®ƒè®­ç»ƒæ—¶çš„æ¨¡å¼ä¸€è‡´</p>
</li>
<li>
<p><strong>å…è®¸è¯•é”™ï¼š</strong> Agent åœ¨è®­ç»ƒä¸­å­¦ä¼šäº†é€šè¿‡å°è¯•æ¥è§£å†³é—®é¢˜ï¼Œç»™å®ƒå¤šæ¬¡å°è¯•çš„æœºä¼šå¾€å¾€æ¯”æœŸå¾…ä¸€æ¬¡æˆåŠŸæ›´å®é™…</p>
</li>
<li>
<p><strong>è§‚å¯Ÿå®ƒçš„å†³ç­–æ¨¡å¼ï¼š</strong> å½“ Agent åšå‡ºæŸä¸ªå†³å®šï¼ˆæ¯”å¦‚å…ˆè¯»æ–‡ä»¶è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ï¼‰ï¼Œè¿™å¾€å¾€åæ˜ äº†å®ƒåœ¨ RL è®­ç»ƒä¸­å­¦åˆ°çš„ç­–ç•¥</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f75cc9980de34df188e688599b2f2d6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=vJz2O8POS1r%2BR5XUDQOd64ejDJg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13"><strong>Coding Agent çš„å®ç°åŸç†</strong></h2>
<p>ç†è§£äº† LLM çš„æœ¬è´¨å’Œé™åˆ¶åï¼Œæˆ‘ä»¬æ¥çœ‹ Coding Agent æ˜¯å¦‚ä½•åœ¨è¿™äº›çº¦æŸä¸‹è¢«è®¾è®¡å‡ºæ¥çš„ã€‚</p>
<h3 data-id="heading-14"><strong>LLM API çš„æ ¸å¿ƒç»“æ„</strong></h3>
<p>ç°ä»£ LLM API é‡‡ç”¨åŸºäºæ¶ˆæ¯çš„å¯¹è¯ç»“æ„ã€‚ç†è§£è¿™ä¸ªç»“æ„æ˜¯æ„å»º Agent çš„åŸºç¡€ã€‚</p>
<p><strong>Messages æ•°ç»„</strong></p>
<p>API çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ¶ˆæ¯æ•°ç»„ï¼Œæ¯æ¡æ¶ˆæ¯åŒ…å«è§’è‰²ï¼ˆroleï¼‰å’Œå†…å®¹ï¼ˆcontentï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"system"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹..."</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¸®æˆ‘å†™ä¸€ä¸ªå¿«é€Ÿæ’åºå‡½æ•°"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¥½çš„ï¼Œè¿™æ˜¯ä¸€ä¸ª Python å®ç°çš„å¿«é€Ÿæ’åº..."</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¸‰ç§è§’è‰²å„æœ‰ç”¨é€”ï¼š</p>
<ul>
<li><strong>systemï¼š</strong> è®¾å®š Agent çš„è¡Œä¸ºå‡†åˆ™ã€èƒ½åŠ›èŒƒå›´å’Œå·¥å…·å®šä¹‰</li>
<li><strong>userï¼š</strong> ç”¨æˆ·çš„è¾“å…¥</li>
<li><strong>assistantï¼š</strong> æ¨¡å‹çš„å›å¤</li>
</ul>
<p><strong>Tool Calling æœºåˆ¶</strong></p>
<p>Coding Agent çš„æ ¸å¿ƒèƒ½åŠ›æ¥è‡ªå·¥å…·è°ƒç”¨ã€‚API å…è®¸ä½ å®šä¹‰å·¥å…·çš„ schemaï¼Œæ¨¡å‹ä¼šåœ¨éœ€è¦æ—¶ç”Ÿæˆç»“æ„åŒ–çš„å·¥å…·è°ƒç”¨è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"read_file"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯»å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶å†…å®¹"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ–‡ä»¶è·¯å¾„"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"path"</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“æ¨¡å‹å†³å®šè°ƒç”¨å·¥å…·æ—¶ï¼Œå®ƒçš„å“åº”ä¼šåŒ…å«å·¥å…·è°ƒç”¨ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tool_calls"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"call_abc123"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"read_file"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"arguments"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{"</span>path<span class="hljs-string">": "</span>src/main.py<span class="hljs-string">"}"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å·¥å…·æ‰§è¡Œç»“æœä½œä¸ºæ–°æ¶ˆæ¯è¿”å›ç»™æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"tool"</span>,
<span class="hljs-string">"tool_call_id"</span>: <span class="hljs-string">"call_abc123"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"def main():<span class="hljs-subst">\n</span>    print('Hello, World!')<span class="hljs-subst">\n</span>..."</span>
}
</code></pre>
<p><strong>Reasoning Content çš„ä¿ç•™</strong></p>
<p>å¯¹äºå…·æœ‰æ˜¾å¼æ¨ç†èƒ½åŠ›çš„æ¨¡å‹ï¼ŒAPI å“åº”ä¸­å¯èƒ½åŒ…å« reasoning æˆ– thinking å­—æ®µï¼Œè®°å½•æ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·éœ€è¦è¯»å–æ–‡ä»¶æ¥ç†è§£é¡¹ç›®ç»“æ„ã€‚æˆ‘åº”è¯¥å…ˆæŸ¥çœ‹ src ç›®å½•ä¸‹çš„ä¸»è¦æ–‡ä»¶..."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è®©æˆ‘å…ˆçœ‹ä¸€ä¸‹é¡¹ç›®çš„ä¸»æ–‡ä»¶ã€‚"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tool_calls"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨å¤šè½®å¯¹è¯ä¸­ä¿ç•™è¿™äº›æ¨ç†å†…å®¹ï¼Œå¯ä»¥å¸®åŠ©æ¨¡å‹ç»´æŒæ€ç»´çš„è¿è´¯æ€§ã€‚æ¨¡å‹å¯ä»¥ã€Œå›é¡¾ã€è‡ªå·±ä¹‹å‰çš„æ€è€ƒè¿‡ç¨‹ï¼Œä»è€Œåšå‡ºæ›´ä¸€è‡´çš„å†³ç­–ã€‚</p>
<h3 data-id="heading-15"><strong>Prompt Cachingï¼šå·¥ç¨‹å®è·µçš„å…³é”®</strong></h3>
<p>ç”±äº LLM çš„è‡ªå›å½’ç‰¹æ€§ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦é‡æ–°å¤„ç†æ•´ä¸ªä¸Šä¸‹æ–‡ã€‚å¯¹äºåŠ¨è¾„å‡ ä¸‡ token çš„ Coding Agent å¯¹è¯æ¥è¯´ï¼Œè¿™æ„å‘³ç€å¤§é‡çš„é‡å¤è®¡ç®—å’Œå»¶è¿Ÿã€‚</p>
<p>Prompt Caching é€šè¿‡ç¼“å­˜ä¸Šä¸‹æ–‡å‰ç¼€çš„è®¡ç®—ç»“æœæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…³é”®åœ¨äºï¼š<strong>ç¼“å­˜åŸºäºå‰ç¼€åŒ¹é…</strong>ã€‚åªæœ‰å½“æ–°è¯·æ±‚çš„å¼€å¤´éƒ¨åˆ†ä¸ä¹‹å‰çš„è¯·æ±‚å®Œå…¨ä¸€è‡´æ—¶ï¼Œæ‰èƒ½å‘½ä¸­ç¼“å­˜ã€‚</p>
<p>è¿™ç›´æ¥å½±å“äº† prompt çš„ç»„ç»‡æ–¹å¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Prompt              â”‚  â† ç¨³å®šä¸å˜ï¼Œå¯ç¼“å­˜
â”‚  (è§’è‰²å®šä¹‰ã€è¡Œä¸ºå‡†åˆ™)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tool Definitions           â”‚  â† ç¨³å®šä¸å˜ï¼Œå¯ç¼“å­˜
â”‚  (å·¥å…·çš„ schema å®šä¹‰)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Project Context            â”‚  â† ç›¸å¯¹ç¨³å®šï¼Œå°½é‡å°‘å˜
â”‚  (é¡¹ç›®è¯´æ˜ã€ä»£ç è§„èŒƒ)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Conversation History       â”‚  â† åŠ¨æ€å¢é•¿
â”‚  (å¯¹è¯å†å²)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Current User Message       â”‚  â† æ¯æ¬¡éƒ½å˜
â”‚  (å½“å‰ç”¨æˆ·è¾“å…¥)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æœ€ä½³å®è·µå‚è€ƒï¼š</strong></p>
<ol>
<li>
<p><strong>æŠŠç¨³å®šå†…å®¹æ”¾åœ¨å‰é¢ï¼š</strong> system prompt å’Œå·¥å…·å®šä¹‰åº”è¯¥ä¿æŒç¨³å®šï¼Œé¿å…é¢‘ç¹ä¿®æ”¹</p>
</li>
<li>
<p><strong>åŠ¨æ€å†…å®¹æ”¾åœ¨åé¢ï¼š</strong> å¯¹è¯å†å²å’Œå½“å‰è¾“å…¥æ”¾åœ¨æœ€å</p>
</li>
<li>
<p><strong>é¿å…åœ¨ç¨³å®šå‰ç¼€ä¸­æ’å…¥å¯å˜å†…å®¹ï¼š</strong> æ¯”å¦‚ä¸è¦åœ¨ system prompt ä¸­æ’å…¥å½“å‰æ—¶é—´æˆ³</p>
</li>
</ol>
<h3 data-id="heading-16"><strong>Agent Loopï¼šæ ¸å¿ƒå¾ªç¯</strong></h3>
<p>è¯­è¨€æ¨¡å‹å¯ä»¥å›ç­”é—®é¢˜ï¼Œè€Œ Agent å¯ä»¥<strong>åšäº‹æƒ…</strong>ã€‚Agent Loop æ­£æ˜¯å®ç°è¿™ä¸€å·®å¼‚çš„å…³é”®ã€‚</p>
<p>å½“æ¨¡å‹æ”¶åˆ°ä¸€ä¸ªæ— æ³•ä»…å‡­è®­ç»ƒçŸ¥è¯†å®Œæˆçš„è¯·æ±‚æ—¶ï¼Œå®ƒéœ€è¦ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ï¼šè¯»å–æ–‡ä»¶ã€æŸ¥è¯¢æ•°æ®åº“ã€æ‰§è¡Œä»£ç ã€‚Agent Loop å°±æ˜¯ç®¡ç†è¿™ä¸ªã€Œæ¨ç†-è¡ŒåŠ¨ã€å¾ªç¯çš„ç¼–æ’å±‚ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿå¤„ç†éœ€è¦å¤šä¸ªæ­¥éª¤ã€å¤–éƒ¨ä¿¡æ¯æˆ–äº§ç”Ÿå®é™…å½±å“çš„ä»»åŠ¡ã€‚</p>
<h4 data-id="heading-17"><strong>å¾ªç¯çš„åŸºæœ¬åŸç†</strong></h4>
<p>Agent Loop çš„è¿ä½œéµå¾ªä¸€ä¸ªç®€å•çš„åŸåˆ™ï¼šè°ƒç”¨æ¨¡å‹ â†’ æ£€æŸ¥æ˜¯å¦éœ€è¦ä½¿ç”¨å·¥å…· â†’ å¦‚æœéœ€è¦åˆ™æ‰§è¡Œå·¥å…· â†’ å°†ç»“æœè¿”å›ç»™æ¨¡å‹å†æ¬¡è°ƒç”¨ â†’ é‡å¤ç›´åˆ°æ¨¡å‹äº§ç”Ÿæœ€ç»ˆå“åº”ã€‚</p>
<p>è¿™ä¸ªå¾ªç¯çš„å…³é”®åœ¨äº<strong>ä¸Šä¸‹æ–‡çš„ç´¯ç§¯</strong>ã€‚æ¯æ¬¡è¿­ä»£éƒ½ä¼šå‘å¯¹è¯å†å²ä¸­æ·»åŠ æ–°å†…å®¹ã€‚æ¨¡å‹ä¸ä»…èƒ½çœ‹åˆ°åŸå§‹è¯·æ±‚ï¼Œè¿˜èƒ½çœ‹åˆ°å®ƒè°ƒç”¨è¿‡çš„æ¯ä¸ªå·¥å…·ä»¥åŠæ”¶åˆ°çš„æ¯ä¸ªç»“æœã€‚è¿™ç§ç´¯ç§¯çš„ä¸Šä¸‹æ–‡ä½¿å¾—å¤æ‚çš„å¤šæ­¥éª¤æ¨ç†æˆä¸ºå¯èƒ½ã€‚</p>
<h4 data-id="heading-18"><strong>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</strong></h4>
<p>å‡è®¾ç”¨æˆ·è¯·æ±‚ï¼šã€Œå¸®æˆ‘ä¿®å¤é¡¹ç›®ä¸­çš„è¿™ä¸ª bugï¼šç”¨æˆ·ç™»å½•åä¼šè¯æ²¡æœ‰æ­£ç¡®ä¿å­˜ã€ã€‚</p>
<p>è¿™ä¸æ˜¯æ¨¡å‹ä»…å‡­çŸ¥è¯†å°±èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œå®ƒéœ€è¦é€šè¿‡ Agent Loop é€æ­¥æ¢ç´¢ï¼š</p>
<ul>
<li>
<p><strong>ç¬¬ä¸€è½®ï¼š</strong> æ¨¡å‹æ”¶åˆ°è¯·æ±‚ï¼Œé¦–å…ˆéœ€è¦äº†è§£é¡¹ç›®ç»“æ„ã€‚å®ƒè°ƒç”¨ <em><strong>list_directory</strong></em> å·¥å…·æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•ã€‚</p>
</li>
<li>
<p><strong>ç¬¬äºŒè½®ï¼š</strong> æ¨¡å‹çœ‹åˆ°äº†ç›®å½•ç»“æ„ï¼Œè¯†åˆ«å‡º **<em>src/auth/</em> **ç›®å½•å¯èƒ½ä¸ç™»å½•ç›¸å…³ã€‚å®ƒè°ƒç”¨Â <em><strong>read_file</strong></em> æŸ¥çœ‹Â <em><strong>src/auth/login.js</strong></em>ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰è½®ï¼š</strong> æ¨¡å‹çœ‹åˆ°äº†ç™»å½•ä»£ç ï¼Œå‘ç°å®ƒè°ƒç”¨äº†Â **<em>sessionManager.save()</em> **ã€‚ä¸ºäº†è¿½è¸ªé—®é¢˜ï¼Œå®ƒè°ƒç”¨Â <em><strong>read_file</strong></em> æŸ¥çœ‹Â <em><strong>src/session/manager.j</strong></em>sã€‚</p>
</li>
<li>
<p><strong>ç¬¬å››è½®ï¼š</strong> æ¨¡å‹å‘ç°äº†é—®é¢˜ï¼Œ**<em>save()</em> **æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ²¡æœ‰è¢«æ­£ç¡® <em><strong>await</strong></em>ã€‚å®ƒè°ƒç”¨Â <em><strong>edit_file</strong></em> å·¥å…·ä¿®å¤è¿™ä¸ª bugã€‚</p>
</li>
<li>
<p><strong>ç¬¬äº”è½®ï¼š</strong> ä¿®å¤å®Œæˆï¼Œæ¨¡å‹è°ƒç”¨ <em><strong>shell</strong></em> å·¥å…·è¿è¡Œæµ‹è¯•æ¥éªŒè¯ä¿®å¤æ˜¯å¦æœ‰æ•ˆã€‚</p>
</li>
<li>
<p><strong>ç¬¬å…­è½®ï¼š</strong> æµ‹è¯•é€šè¿‡ã€‚æ¨¡å‹ä¸å†è¯·æ±‚å·¥å…·ï¼Œè€Œæ˜¯ç”Ÿæˆæœ€ç»ˆå“åº”ï¼šæ€»ç»“é—®é¢˜åŸå› ã€ä¿®å¤å†…å®¹å’ŒéªŒè¯ç»“æœã€‚</p>
</li>
</ul>
<p>æ¯ä¸€è½®éƒ½éµå¾ªç›¸åŒçš„æ¨¡å¼ï¼šæ¨¡å‹æ¥æ”¶ä¸Šä¸‹æ–‡ï¼Œå†³å®šæ˜¯ç»§ç»­è¡ŒåŠ¨è¿˜æ˜¯ç»™å‡ºå“åº”ï¼Œè¦ä¹ˆç»§ç»­å¾ªç¯ï¼Œè¦ä¹ˆé€€å‡ºã€‚å…³é”®åœ¨äºï¼Œæ¨¡å‹åŸºäºå¯¹ä»»åŠ¡ä¸æ–­æ¼”è¿›çš„ç†è§£<strong>è‡ªä¸»åšå‡ºè¿™äº›å†³ç­–ã€‚</strong></p>
<h4 data-id="heading-19"><strong>å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶</strong></h4>
<p>æ¯æ¬¡æ¨¡å‹è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªåœæ­¢åŸå› ï¼ˆstop reasonï¼‰ï¼Œå†³å®šæ¥ä¸‹æ¥å‘ç”Ÿä»€ä¹ˆï¼š</p>
<ul>
<li>
<p><strong>end_turnï¼š</strong> æ¨¡å‹å®Œæˆäº†å“åº”ï¼Œæ²¡æœ‰è¿›ä¸€æ­¥çš„è¡ŒåŠ¨éœ€è¦æ‰§è¡Œã€‚è¿™æ˜¯æ­£å¸¸çš„æˆåŠŸç»ˆæ­¢ï¼Œå¾ªç¯é€€å‡ºå¹¶è¿”å›æœ€ç»ˆæ¶ˆæ¯ã€‚</p>
</li>
<li>
<p><strong>tool_useï¼š</strong> æ¨¡å‹æƒ³è¦æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…·åå†ç»§ç»­ã€‚å¾ªç¯æ‰§è¡Œè¯·æ±‚çš„å·¥å…·ï¼Œå°†ç»“æœè¿½åŠ åˆ°å¯¹è¯å†å²ï¼Œç„¶åå†æ¬¡è°ƒç”¨æ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>max_tokensï¼š</strong> æ¨¡å‹çš„å“åº”å› è¾¾åˆ° token é™åˆ¶è€Œè¢«æˆªæ–­ã€‚è¿™åœ¨å½“å‰å¾ªç¯ä¸­æ— æ³•æ¢å¤ï¼Œå¾ªç¯ä»¥é”™è¯¯ç»ˆæ­¢ã€‚</p>
</li>
</ul>
<p>ç†è§£è¿™äº›ç»ˆæ­¢æ¡ä»¶æœ‰åŠ©äºé¢„æµ‹ Agent çš„è¡Œä¸ºå¹¶å¤„ç†è¾¹ç•Œæƒ…å†µã€‚</p>
<h3 data-id="heading-20"><strong>Coding Agent çš„å…¸å‹å·¥å…·</strong></h3>
<p>ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Coding Agent é€šå¸¸éœ€è¦ä»¥ä¸‹å‡ ç±»å·¥å…·ï¼š</p>
<p><strong>æ–‡ä»¶æ“ä½œ</strong></p>
<ul>
<li>
<p><em><strong>read_file</strong></em>ï¼šè¯»å–æ–‡ä»¶å†…å®¹</p>
</li>
<li>
<p><em><strong>write_file</strong></em>ï¼šåˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶</p>
</li>
<li>
<p><em><strong>edit_file</strong></em>ï¼šå¯¹æ–‡ä»¶è¿›è¡Œå±€éƒ¨ç¼–è¾‘ï¼ˆè€Œéå®Œå…¨é‡å†™ï¼‰</p>
</li>
</ul>
<p><strong>ä»£ç æ‰§è¡Œ</strong></p>
<ul>
<li><em><strong>shell</strong></em> /Â <em><strong>terminal</strong></em>ï¼šæ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤ï¼Œç”¨äºè¿è¡Œä»£ç ã€å®‰è£…ä¾èµ–ã€æ‰§è¡Œæµ‹è¯•ç­‰</li>
</ul>
<p><strong>ä»£ç æœç´¢</strong></p>
<ul>
<li>
<p><em><strong>grep</strong></em> /Â <em><strong>search</strong></em>ï¼šåœ¨ä»£ç åº“ä¸­æœç´¢æ–‡æœ¬æˆ–æ¨¡å¼</p>
</li>
<li>
<p><em><strong>semantic_search</strong></em>ï¼šåŸºäºè¯­ä¹‰çš„ä»£ç æœç´¢</p>
</li>
</ul>
<p><strong>é¡¹ç›®å¯¼èˆª</strong></p>
<ul>
<li>
<p><em><strong>list_directory</strong></em>ï¼šåˆ—å‡ºç›®å½•å†…å®¹</p>
</li>
<li>
<p><em><strong>find_files</strong></em>ï¼šæ ¹æ®æ¨¡å¼æŸ¥æ‰¾æ–‡ä»¶</p>
</li>
</ul>
<p>è¿™äº›å·¥å…·çš„è®¾è®¡ç›´æ¥å½±å“ Agent çš„èƒ½åŠ›è¾¹ç•Œï¼Œå·¥å…·çš„ç²’åº¦ã€å‚æ•°è®¾è®¡ã€è¿”å›æ ¼å¼éƒ½éœ€è¦ä»”ç»†è€ƒé‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c25e5ddae15942cf942ecd1a9ac03d91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=q4hKnp1MAC937GMYbxEVvdRDXwI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21"><strong>å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</strong></h2>
<p>åœ¨äº†è§£äº† LLM å’Œ Coding Agent çš„åŸºæœ¬åŸç†åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸€äº›å¸¸è§çš„é—®é¢˜å°±èƒ½æ›´å¥½åœ°ç†è§£äº†ã€‚</p>
<h3 data-id="heading-22"><strong>ä¼šè¯é—´å¤±å¿†</strong></h3>
<p>Coding Agent é¢ä¸´çš„ä¸€ä¸ªæ ¹æœ¬æ€§é—®é¢˜æ˜¯ï¼š<strong>å®ƒä»¬åœ¨ä¼šè¯ä¹‹é—´æ²¡æœ‰æŒä¹…è®°å¿†ã€‚</strong></p>
<p>æ¯æ¬¡å¯åŠ¨æ–°ä¼šè¯æ—¶ï¼ŒAgent åªçŸ¥é“å®ƒèƒ½åœ¨ç£ç›˜ä¸Šæ‰¾åˆ°çš„å†…å®¹ã€‚å°±åƒç”µå½±ã€Šè®°å¿†ç¢ç‰‡ã€‹æˆ–ã€Šåˆæ‹ 50 æ¬¡ã€‹ä¸­çš„ä¸»è§’ä¸€æ ·ï¼ŒAgent æ¯å¤©é†’æ¥éƒ½ä¸è®°å¾—æ˜¨å¤©å‘ç”Ÿäº†ä»€ä¹ˆã€‚è€Œå…¸å‹çš„å·¥ç¨‹å·¥ä½œæµå¾€å¾€éœ€è¦è·¨è¶Šå¤šä¸ªä¼šè¯æ‰èƒ½å®Œæˆä¸€ä¸ªåŠŸèƒ½â€”â€”å› ä¸ºéœ€è¦æµ‹è¯•ã€ä»£ç å®¡æŸ¥å’Œåç»­æ¸…ç†ã€‚</p>
<p>è¿™å¯¼è‡´äº†ä¸€ä¸ªè’è°¬çš„å±€é¢ï¼šä½ éœ€è¦åœ¨æ¯ä¸ªæ–°ä¼šè¯å¼€å§‹æ—¶ï¼Œé‡æ–°å‘ Agent è§£é‡Šé¡¹ç›®èƒŒæ™¯ã€å½“å‰è¿›åº¦å’Œæ¥ä¸‹æ¥çš„è®¡åˆ’ã€‚</p>
<h4 data-id="heading-23"><strong>ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š</strong></h4>
<ul>
<li>
<p>ä½¿ç”¨ç»“æ„åŒ–çš„ä»»åŠ¡è¿½è¸ªç³»ç»Ÿï¼ˆå¦‚ issue trackerï¼‰</p>
</li>
<li>
<p>åœ¨æ¯ä¸ªä¼šè¯ç»“æŸæ—¶ï¼Œè®© Agent ç”Ÿæˆä¸€ä¸ªçŠ¶æ€æ‘˜è¦ï¼Œä¾›ä¸‹æ¬¡ä¼šè¯ä½¿ç”¨</p>
</li>
<li>
<p>å°†é‡è¦å†³ç­–å’Œå‘ç°è®°å½•åœ¨å›ºå®šä½ç½®ï¼Œè€Œä¸æ˜¯å¯¹è¯å†å²ä¸­</p>
</li>
</ul>
<h3 data-id="heading-24"><strong>ä¸Šä¸‹æ–‡çª—å£è€—å°½</strong></h3>
<p>æ¯è½®å¾ªç¯éƒ½ä¼šå‘å¯¹è¯å†å²æ·»åŠ æ¶ˆæ¯ã€‚å¯¹äºéœ€è¦å¤šæ¬¡å·¥å…·è°ƒç”¨çš„å¤æ‚ä»»åŠ¡ï¼Œå†å²è®°å½•å¯èƒ½è¶…å‡ºæ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£ã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼ŒAgent æ— æ³•ç»§ç»­ã€‚</p>
<p>å…·ä½“è¡¨ç°åŒ…æ‹¬ï¼šæ¨¡å‹æä¾›å•†è¿”å›è¾“å…¥é•¿åº¦é”™è¯¯ï¼Œæˆ–éšç€ä¸Šä¸‹æ–‡å¡«æ»¡ä¸å¤ªç›¸å…³çš„æ—©æœŸæ¶ˆæ¯ï¼Œæ¨¡å‹æ€§èƒ½æ˜æ˜¾ä¸‹é™ã€‚</p>
<p>ç›®å‰æœ‰ä¸¤ç§ä¸»æµçš„ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼š</p>
<h5 data-id="heading-25"><strong>ğŸ’¡ Observation Maskingï¼ˆè§‚å¯Ÿé®è”½ï¼‰</strong></h5>
<p>è¿™ç§æ–¹æ³•åªé’ˆå¯¹å·¥å…·è¿”å›çš„è§‚å¯Ÿç»“æœè¿›è¡Œå¤„ç†ï¼Œè€Œå®Œæ•´ä¿ç•™ Agent çš„æ¨ç†å’Œè¡ŒåŠ¨å†å²ã€‚å…·ä½“åšæ³•æ˜¯ï¼šç”¨å ä½ç¬¦æ›¿æ¢è¾ƒæ—©è½®æ¬¡çš„è§‚å¯Ÿå†…å®¹ï¼ˆæ¯”å¦‚ ã€Œå†…å®¹å·²çœç•¥ã€ï¼‰ï¼Œåªä¿ç•™æœ€è¿‘ N è½®çš„å®Œæ•´è¾“å‡ºã€‚</p>
<p>è¿™ç§æ–¹æ³•ç®€å•é«˜æ•ˆï¼Œå› ä¸ºå…¸å‹ Coding Agent çš„æ¯è½®äº¤äº’ä¸­ï¼Œå·¥å…·è¾“å‡ºï¼ˆå¦‚æ–‡ä»¶å†…å®¹ã€å‘½ä»¤æ‰§è¡Œç»“æœï¼‰å¾€å¾€å æ®äº†ç»å¤§éƒ¨åˆ† tokenã€‚é€šè¿‡é®è”½æ—§çš„è§‚å¯Ÿå†…å®¹ï¼ŒAgent ä»ç„¶å¯ä»¥è®¿é—®è‡ªå·±è¿‡å»çš„æ¨ç†å’Œå†³ç­–ï¼Œä½†ä¸å†é‡å¤å¤„ç†æ—©æœŸè½®æ¬¡çš„å†—é•¿æ–‡æœ¬ã€‚</p>
<h4 data-id="heading-26"><strong>ğŸ’¡ LLM Summarizationï¼ˆLLM æ‘˜è¦ï¼‰</strong></h4>
<p>è¿™ç§æ–¹æ³•ä½¿ç”¨å¦ä¸€ä¸ª LLM å°†è¾ƒæ—©çš„äº¤äº’å†å²ï¼ˆåŒ…æ‹¬è§‚å¯Ÿã€è¡ŒåŠ¨å’Œæ¨ç†ï¼‰å‹ç¼©æˆç®€çŸ­çš„æ‘˜è¦ã€‚æ‘˜è¦ä¼šæ›¿ä»£åŸå§‹çš„è¯¦ç»†å†å²ï¼Œè€Œæœ€è¿‘çš„å‡ è½®å¯¹è¯ä¿æŒå®Œæ•´ã€‚</p>
<p>è¿™ç§æ–¹æ³•ç†è®ºä¸Šå¯ä»¥æ”¯æŒæ— é™é•¿çš„å¯¹è¯ï¼Œå› ä¸ºå†å²ä¼šè¢«åå¤å‹ç¼©ã€‚ä½†å®ƒä¹Ÿæœ‰ä»£ä»·ï¼šæ¯æ¬¡ç”Ÿæˆæ‘˜è¦éƒ½éœ€è¦é¢å¤–çš„ API è°ƒç”¨ï¼Œè€Œä¸”æ‘˜è¦å¯èƒ½ä¼šä¸¢å¤±æŸäº›ç»†èŠ‚ä¿¡æ¯ã€‚ç ”ç©¶å‘ç°ï¼Œæ‘˜è¦æœ‰æ—¶ä¼šæ©ç›– Agent åº”è¯¥åœæ­¢å°è¯•çš„ä¿¡å·ï¼Œå¯¼è‡´ Agent è¿è¡Œæ›´å¤šè½®æ¬¡ï¼Œåè€Œå¢åŠ äº†æˆæœ¬ã€‚</p>
<p>ä¸¤ç§æ–¹æ³•å„æœ‰ä¼˜åŠ£ï¼šObservation Masking å®ç°ç®€å•ã€æˆæœ¬ä½ï¼Œä½†ä¸Šä¸‹æ–‡ä»ä¼šç¼“æ…¢å¢é•¿ï¼›LLM Summarization å¯ä»¥æ›´å½»åº•åœ°å‹ç¼©å†å²ï¼Œä½†å¼•å…¥äº†é¢å¤–å¼€é”€å’Œä¿¡æ¯æŸå¤±é£é™©ã€‚å®è·µä¸­ï¼Œå¯ä»¥è€ƒè™‘æ··åˆä½¿ç”¨ï¼Œä»¥ Observation Masking ä½œä¸ºä¸»è¦ç­–ç•¥ï¼Œä»…åœ¨ä¸Šä¸‹æ–‡ç¡®å®è¿‡é•¿æ—¶è§¦å‘ LLM Summarizationã€‚</p>
<p>å…¶ä»–è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p>å‡å°‘å·¥å…·è¾“å‡ºçš„å†—é•¿ç¨‹åº¦ï¼Œè¿”å›æ‘˜è¦æˆ–ç›¸å…³ç‰‡æ®µï¼Œè€Œéå®Œæ•´æ•°æ®</p>
</li>
<li>
<p>ç®€åŒ–å·¥å…· schemaï¼Œæ·±åº¦åµŒå¥—çš„ç»“æ„ä¼šåœ¨å·¥å…·é…ç½®å’Œæ¨¡å‹æ¨ç†ä¸­æ¶ˆè€—å¤§é‡ token</p>
</li>
<li>
<p>å°†å¤§å‹ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡ï¼Œæ¯ä¸ªå­ä»»åŠ¡ä½¿ç”¨æ–°çš„ä¸Šä¸‹æ–‡</p>
</li>
</ul>
<h3 data-id="heading-27"><strong>æœ‰æ•ˆä¸Šä¸‹æ–‡è¿œå°äºæ ‡ç§°å€¼</strong></h3>
<p><strong>å³ä½¿æ‹¥æœ‰ 1M token çš„ä¸Šä¸‹æ–‡çª—å£ï¼ŒCoding Agent å®é™…ä¸Šåªèƒ½æœ‰æ•ˆåˆ©ç”¨å…¶ä¸­çš„ 10-15%ã€‚</strong> è¶…è¿‡ 20% åï¼Œæˆæœ¬å’Œæ€§èƒ½éƒ½ä¼šæ€¥å‰§æ¶åŒ–ã€‚å¤§å¤šæ•° Agent ä¼šåœ¨è¾¾åˆ°çº¦ 20% æ—¶å¼ºåˆ¶ä¸­æ–­ï¼Œè€Œæœ€ä½³å®è·µæ˜¯åœ¨ 15% ä¹‹å‰å°±é‡å¯ä¼šè¯ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œä»¥å…¨é€Ÿå·¥ä½œæ—¶ï¼Œä½ å¤§çº¦åªæœ‰ 5-10 åˆ†é’Ÿçš„æœ‰æ•ˆå·¥ä½œæ—¶é—´ï¼Œç„¶å Agent å°±ä¼šã€Œè€—å°½ä¸Šä¸‹æ–‡ã€ï¼Œéœ€è¦é‡å¯ï¼ˆç›¸å½“äºæ­»äº¡ï¼‰æˆ–è¿›è¡Œ compactionï¼ˆç›¸å½“äºè®°å¿†æ¸…é™¤ï¼‰ã€‚</p>
<p>æœ‰ä¸€ä¸ªç”ŸåŠ¨çš„æ¯”å–»ï¼šä¸Šä¸‹æ–‡çª—å£å°±åƒæ½œæ°´å‘˜çš„æ°§æ°”ç½ã€‚æ‰€æœ‰äººéƒ½è¯´ã€Œæˆ‘ä»¬ç»™ä»–ä¸€ä¸ªæ›´å¤§çš„æ°§æ°”ç½ï¼š100 ä¸‡ tokenï¼ã€ä½†ä»–æœ€ç»ˆè¿˜æ˜¯ä¼šè€—å°½æ°§æ°”ï¼Œæ›´å¤§çš„çª—å£å¹¶ä¸èƒ½è§£å†³æ ¹æœ¬é—®é¢˜ã€‚</p>
<h3 data-id="heading-28"><strong>ã€ŒDumb Zoneã€ï¼šä¸­é—´åŒºåŸŸçš„æ€§èƒ½é€€åŒ–</strong></h3>
<p>ç ”ç©¶å‘ç°ï¼Œä¸Šä¸‹æ–‡çª—å£çš„ä¸­é—´ 40-60% åŒºåŸŸå­˜åœ¨ä¸€ä¸ªã€ŒDumb Zoneã€ï¼Œåœ¨è¿™ä¸ªåŒºåŸŸï¼Œæ¨¡å‹çš„å¬å›ç‡ä¸‹é™ï¼Œæ¨ç†èƒ½åŠ›å˜å·®ã€‚è¿™ä¸å‰é¢æåˆ°çš„ã€ŒLost in the Middleã€ç°è±¡ç›¸å‘¼åº”ã€‚</p>
<p>å½“ Agent æ·±å…¥å·¥ä½œæ—¶ï¼Œå®ƒä¼šé€æ¸è¡¨ç°å‡ºç±»ä¼¼ã€Œç—´å‘†ã€çš„ç—‡çŠ¶ï¼šè¿·å¤±æ–¹å‘ã€äº§ç”Ÿå¹»è§‰æ¥å£ã€å¿˜è®°åŸå§‹ç›®æ ‡ã€‚è¿™ä¸æ˜¯å› ä¸ºæ¨¡å‹å˜ç¬¨äº†ï¼Œè€Œæ˜¯å› ä¸ºå…³é”®ä¿¡æ¯è¢«æ·¹æ²¡åœ¨å¤§é‡çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæ— æ³•è¢«æœ‰æ•ˆåˆ©ç”¨ã€‚</p>
<h3 data-id="heading-29"><strong>æ–°å‘ç°çš„ä»»åŠ¡è¢«ä¸¢å¼ƒ</strong></h3>
<p>è¿™æ˜¯ Agentic Coding ä¸­ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†ä½†å½±å“å·¨å¤§çš„é—®é¢˜ï¼š<strong>LLM åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä¼šæ³¨æ„åˆ°å„ç§é—®é¢˜ï¼Œä½†åœ¨ä¸Šä¸‹æ–‡ç©ºé—´ç´§å¼ æ—¶ï¼Œä¼šé€‰æ‹©å¿½ç•¥è¿™äº›å‘ç°ï¼Œä¸é‡‡å–ä»»ä½•è¡ŒåŠ¨ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼ŒAgent åœ¨ä¿®å¤ä¸€ä¸ª bug æ—¶ï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°ä»£ç ä¸­çš„å¦ä¸€ä¸ªæ½œåœ¨é—®é¢˜ã€ä¸€ä¸ªéœ€è¦é‡æ„çš„åœ°æ–¹ã€æˆ–ä¸€ä¸ªç¼ºå¤±çš„æµ‹è¯•ç”¨ä¾‹ã€‚ä½†å¦‚æœå½“å‰ä¸Šä¸‹æ–‡å·²ç»å¾ˆæ»¡ï¼ŒAgent å¯èƒ½ä¼šã€Œå‡è£…æ²¡çœ‹åˆ°ã€ï¼Œç»§ç»­ä¸“æ³¨äºæ‰‹å¤´çš„ä»»åŠ¡ã€‚è¿™äº›è¢«å‘ç°ä½†è¢«ä¸¢å¼ƒçš„å·¥ä½œï¼Œå°±è¿™æ ·æ‚„æ‚„æ¶ˆå¤±äº†ã€‚</p>
<p><strong>ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>
<p>ä½¿ç”¨å¤–éƒ¨å·¥å…·è®© Agent éšæ—¶è®°å½•å‘ç°çš„é—®é¢˜</p>
</li>
<li>
<p>åœ¨ä»»åŠ¡ç»“æŸæ—¶ï¼Œè¦æ±‚ Agent åˆ—å‡ºæ‰€æœ‰è§‚å¯Ÿåˆ°ä½†æœªå¤„ç†çš„é—®é¢˜</p>
</li>
<li>
<p>å»ºç«‹ã€Œå‘ç°å³è®°å½•ã€çš„å·¥ä½œæµç¨‹</p>
</li>
</ul>
<h3 data-id="heading-30"><strong>è¿‡æ—©å®£å‘Šå®Œæˆ</strong></h3>
<p>å½“ Agent ç»å†å¤šæ¬¡ compaction åï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªè’è°¬çš„æƒ…å†µï¼šå®ƒä¼šè‡ªä¿¡åœ°å®£å¸ƒã€Œæ­å–œï¼Œä»»åŠ¡å®Œæˆäº†ï¼è®©æˆ‘ä»¬å¼€å§‹æ‰‹åŠ¨æµ‹è¯•å§ï¼ã€è€Œå®é™…ä¸Šè¿˜æœ‰å¤§é‡çš„é˜¶æ®µæ²¡æœ‰å®Œæˆã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>
<p>å°†æ•´ä½“è®¡åˆ’ä¿å­˜åœ¨ä¸Šä¸‹æ–‡ä¹‹å¤–çš„å›ºå®šä½ç½®</p>
</li>
<li>
<p>å®šæœŸè®© Agent å¯¹ç…§åŸå§‹è®¡åˆ’æ£€æŸ¥è¿›åº¦</p>
</li>
<li>
<p>ä½¿ç”¨ç»“æ„åŒ–çš„ä»»åŠ¡è¿½è¸ªï¼Œè€Œä¸æ˜¯ä¾èµ– Agent çš„è®°å¿†</p>
</li>
</ul>
<h3 data-id="heading-31"><strong>å·¥å…·é€‰æ‹©ä¸å½“</strong></h3>
<p>å½“æ¨¡å‹æŒç»­é€‰æ‹©é”™è¯¯çš„å·¥å…·æ—¶ï¼Œé—®é¢˜é€šå¸¸å‡ºåœ¨å·¥å…·æè¿°çš„æ¨¡ç³Šæ€§ä¸Šã€‚ä»æ¨¡å‹çš„è§’åº¦å®¡è§†æè¿°ï¼šå¦‚æœä¸¤ä¸ªå·¥å…·çš„æè¿°æœ‰é‡å ï¼Œæ¨¡å‹å°±æ²¡æœ‰é€‰æ‹©çš„ä¾æ®ï¼Œæˆ‘ä»¬åº”è¯¥ç¡®ä¿æ¯ä¸ªå·¥å…·çš„ç”¨é€”æ¸…æ™°ä¸”äº’ä¸é‡å ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ff4689a37e141e6a8c4ba04691b9431~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=EYjpo2BhmeZWeyqglELZmlmaw6w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-32"><strong>ç»“è¯­ï¼šä»ç†è§£åˆ°è¡ŒåŠ¨çš„æ¡¥æ¢</strong></h2>
<p>é€šè¿‡ä¸Šè¿°çš„æ¢è®¨ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä» LLM æœ¬è´¨åˆ° Agentic Coding åŸç†çš„ç†è®ºé“ºå«ï¼šä»é€ä¸ªé¢„æµ‹ token çš„åº•å±‚é€»è¾‘ï¼Œåˆ°æ³¨æ„åŠ›æœºåˆ¶çš„ä¸Šä¸‹æ–‡çº¦æŸï¼Œå†åˆ°å¼ºåŒ–å­¦ä¹ å¦‚ä½•è®©æ¨¡å‹å­¦ä¼šã€Œåšäº‹ã€ï¼›ä» API ç»“æ„çš„åŸºç¡€æ¡†æ¶ï¼Œåˆ° Agent Loop çš„æ ¸å¿ƒå¾ªç¯ï¼Œæœ€ååˆ°è§£å†³ä¸Šä¸‹æ–‡è€—å°½ã€ä¼šè¯å¤±å¿†ç­‰å·¥ç¨‹é—®é¢˜çš„å®è·µç­–ç•¥ã€‚</p>
<p>è¿™äº›å†…å®¹å…±åŒæ„æˆäº† Agentic Coding çš„ç¬¬ä¸€æ€§åŸç†åŸºçŸ³â€”â€”ç†è§£è¿™äº›ï¼Œä½ å°±èƒ½è·³å‡º"é»‘ç›’å·¥å…·"çš„ä½¿ç”¨å±‚é¢ï¼Œçœ‹åˆ°å„ç§æœ€ä½³å®è·µèƒŒåçš„æ·±å±‚é€»è¾‘ã€‚</p>
<p>åœ¨ä¸‹ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»ç†è®ºèµ°å‘å®æ“ï¼šç»“åˆå…·ä½“æ¡ˆä¾‹æ‹†è§£å¦‚ä½•è®¾è®¡é«˜æ•ˆçš„ Agent å¯¹è¯æµç¨‹ã€å¦‚ä½•é€‰æ‹©åˆé€‚çš„å·¥å…·é›†ã€å¦‚ä½•ä¼˜åŒ–ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼Œä»¥åŠå¦‚ä½•å°†è¿™äº›åŸç†åº”ç”¨åˆ°å®é™…çš„ç¼–ç ä»»åŠ¡ä¸­ï¼ˆå¦‚ bug ä¿®å¤ã€åŠŸèƒ½å¼€å‘ã€ä»£ç é‡æ„ï¼‰ã€‚ä½ å°†çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ç”¨ç¬¬ä¸€æ€§åŸç†çš„è§†è§’é‡æ–°å®¡è§† Agentic Coding æ—¶ï¼Œé‚£äº›çœ‹ä¼¼é›¶æ•£çš„æŠ€å·§ä¼šå½¢æˆä¸€å¥—ç³»ç»Ÿçš„æ–¹æ³•è®ºï¼Œå¸®åŠ©ä½ çœŸæ­£æˆä¸º AI ç¼–ç¨‹åŠ©æ‰‹çš„ã€Œé©¾é©­è€…ã€è€Œéã€Œä½¿ç”¨è€…ã€ã€‚</p>
<p>æœŸå¾…åœ¨ä¸‹ç¯‡ä¸ä½ ç»§ç»­æ·±å…¥ï¼Œä¸€èµ·æŠŠç†è®ºè½¬åŒ–ä¸ºå¯è½åœ°çš„é«˜æ•ˆå®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™å¼€å‘ï¼šé‚£äº›è®©æˆ‘ç†¬ç§ƒå¤´çš„â€œçµå¼‚äº‹ä»¶â€]]></title>    <link>https://juejin.cn/post/7593139476839890950</link>    <guid>https://juejin.cn/post/7593139476839890950</guid>    <pubDate>2026-01-09T08:34:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476839890950" data-draft-id="7592921639465353258" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™å¼€å‘ï¼šé‚£äº›è®©æˆ‘ç†¬ç§ƒå¤´çš„â€œçµå¼‚äº‹ä»¶â€"/> <meta itemprop="keywords" content="HarmonyOS,ArkTS,ArkUI"/> <meta itemprop="datePublished" content="2026-01-09T08:34:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™å¼€å‘ï¼šé‚£äº›è®©æˆ‘ç†¬ç§ƒå¤´çš„â€œçµå¼‚äº‹ä»¶â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:34:40.000Z" title="Fri Jan 09 2026 08:34:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Helloï¼Œå…„å¼Ÿä»¬ï¼Œæˆ‘æ˜¯ V å“¥ï¼</p>
<p>å’±ä»¬å¹²é¸¿è’™å¼€å‘çš„ï¼Œå¹³æ—¶æ˜¯ä¸æ˜¯è§‰å¾—è‡ªå·±åƒä¸ªæ³•å¸ˆï¼Ÿç‰¹åˆ«æ˜¯åˆšä» Android æˆ–è€… Vue è½¬è¿‡æ¥çš„å…„å¼Ÿï¼Œé¢å¯¹ ArkTS è¿™ä¸€å¥—å£°æ˜å¼ UIï¼Œæœ‰æ—¶å€™çœŸè§‰å¾—è‡ªå·±æ˜¯åœ¨åšæ³•æœ¯ã€‚</p>
<p>ä»£ç å†™å¾—è¡Œäº‘æµæ°´ï¼Œç‚¹ä¸ªè¿è¡Œâ€”â€”<strong>å•ªï¼</strong> ç™½å±äº†ã€‚
å†ç‚¹ä¸€ä¸‹â€”â€”<strong>å•ªï¼</strong> å´©æºƒäº†ã€‚
æœ€æ°”äººçš„æ˜¯ï¼Œæœ‰æ—¶å€™é€»è¾‘æ˜æ˜çœ‹ç€æ²¡é—®é¢˜ï¼Œå®ƒå°±æ˜¯è·Ÿä½ ç©â€œè–›å®šè°”çš„çŒ«â€ã€‚</p>
<p>ä»Šå¤©ï¼ŒV å“¥æˆ‘å°±æŠŠè¿™å‡ ä¸ªæœˆç§¯æ”’çš„**â€œé¸¿è’™å¼€å‘ Bug æ‚¬æ¡ˆå·å®—â€**ç»™å¤§ä¼™å„¿æŠ–æ‚æŠ–æ‚ã€‚è¿™å‡ ä¸ª Bugï¼Œå½“åˆå¯æ˜¯æŠ˜ç£¨äº† V å“¥æ•´æ•´ä¸‰å¤©ä¸‰å¤œï¼Œçº¢å–äº†åŠç®±ï¼Œå¤´å‘æ‰äº†å¥½å‡ æŠŠã€‚å’±ä»¬å¤ç›˜ä¸€ä¸‹ï¼Œçœ‹çœ‹ä½ æœ‰æ²¡æœ‰è¸©è¿‡è¿™å‡ ä¸ªå‘ï¼</p>
<hr/>
<h2 data-id="heading-0">æ‚¬æ¡ˆä¸€ï¼šäººé—´è’¸å‘çš„ UI æ›´æ–°ï¼ˆ@State çš„å¤±å¿†ç—‡ï¼‰</h2>
<h3 data-id="heading-1">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>é‚£æ˜¯ä¸€ä¸ªæœˆé»‘é£é«˜çš„å¤œæ™šï¼ŒV å“¥æˆ‘åœ¨å†™ä¸€ä¸ªåˆ—è¡¨é¡µã€‚æ•°æ®ä»åç«¯æ‹¿å›æ¥ï¼Œæ˜¯ä¸ª JSON æ•°ç»„ã€‚æˆ‘æŠŠå®ƒå­˜åˆ°äº† <code>@State</code> è£…é¥°çš„å˜é‡é‡Œã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@State</span> <span class="hljs-attr">dataList</span>: <span class="hljs-title class_">UserModel</span>[] = [];

<span class="hljs-comment">// ç½‘ç»œè¯·æ±‚å›æ¥å</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataList</span> = response.<span class="hljs-property">data</span>;
</code></pre>
<p>é€»è¾‘æ²¡æ¯›ç—…å§ï¼Ÿæˆ‘çœ‹ç€æ—¥å¿—ï¼Œæ•°æ®ç¡®å®èµ‹å€¼è¿›å»äº†ï¼Œé•¿åº¦ä¹Ÿå˜äº†ã€‚ä½†æ˜¯ï¼<strong>ç•Œé¢ä¸Šæ­»æ´»ä¸åˆ·æ–°ï¼</strong> å°±åƒæ­»æœºäº†ä¸€æ ·ï¼Œå“ªæ€•æˆ‘æŠŠæ‰‹æœºå±å¹•æˆ³ä¸ªæ´ï¼Œå®ƒä¹Ÿä¸åŠ¨ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-2">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>V å“¥æˆ‘å½“æ—¶å°±æ‡µäº†ï¼Œéš¾é“æ˜¯ ArkUI æŠ½é£äº†ï¼Ÿæˆ‘å¼€å§‹ç–¯ç‹‚æ‰“ Logï¼Œå‘ç° <code>dataList</code> çš„å†…å­˜åœ°å€ç¡®å®å˜äº†ã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒV å“¥æˆ‘çªç„¶æƒ³èµ·äº†ä¸€å¥è€è¯ï¼š<strong>é¸¿è’™çš„è§‚å¯Ÿæœºåˆ¶ï¼Œæœ‰æ—¶å€™æ¯”å‰å¥³å‹è¿˜éš¾ä¼ºå€™ã€‚</strong></p>
<p>åŸæ¥å•Šï¼Œæˆ‘åœ¨åˆ«çš„åœ°æ–¹ï¼Œä¸ºäº†å›¾çœäº‹ï¼Œç›´æ¥æ“ä½œäº†æ•°ç»„å†…éƒ¨çš„æŸä¸ªå±æ€§ï¼Œæ¯”å¦‚ï¼š
<code>this.dataList[0].name = 'Vå“¥æœ€å¸…';</code></p>
<p>æˆ–è€…æˆ‘åœ¨èµ‹å€¼å‰ï¼Œå¯¹æ•°ç»„åšäº†ä¸€äº›æ·±æ‹·è´çš„æ“ä½œï¼Œä½†æ‹·è´å¾—ä¸å¤Ÿâ€œå½»åº•â€ã€‚åœ¨ ArkTS é‡Œï¼Œå¦‚æœä½ åªæ˜¯ä¿®æ”¹äº†å¯¹è±¡çš„<strong>æ·±å±‚å±æ€§</strong>ï¼Œè€Œæ²¡æœ‰è§¦å‘å¯¹è±¡æœ¬èº«çš„å¼•ç”¨å˜åŒ–ï¼Œæˆ–è€…åµŒå¥—å¯¹è±¡æ²¡åŠ  <code>@Observed</code>ï¼ŒUI æ¸²æŸ“å¼•æ“å°±ä¼šé€‰æ‹©æ€§å¤±æ˜ï¼š<strong>â€œå“¦ï¼Œè¿˜æ˜¯é‚£ä¸ªå¯¹è±¡ï¼Œä¸ç”¨åŠ¨ï¼Œæ‡’å¾—åˆ·ã€‚â€</strong></p>
<h3 data-id="heading-3">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>å…„å¼Ÿä»¬è®°ä½äº†ï¼Œé‡åˆ°å¯¹è±¡æ•°ç»„åˆ·æ–°ï¼Œè¦ä¹ˆè€è€å®å®åœ°æ•´ä½“æ›¿æ¢å¼•ç”¨ï¼Œè¦ä¹ˆå°±ç”¨å¯¹è£…é¥°å™¨ï¼</p>
<ol>
<li><strong>ç®€å•ç²—æš´æ³•ï¼š</strong> æ¯æ¬¡éƒ½ <code>new</code> ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæˆ–è€…ç”¨å±•å¼€ç¬¦ <code>[..., newData]</code> å¼ºåˆ¶æ¢ä¸ªåœ°å€ã€‚</li>
<li><strong>ä¸“ä¸šæ²»æœ¬æ³•ï¼ˆæ¨èï¼‰ï¼š</strong> ä½ çš„ Model ç±»å¿…é¡»ç”¨ <code>@Observed</code> è£…é¥°ï¼Œç„¶ååœ¨ç»„ä»¶é‡Œç”¨ <code>@ObjectLink</code> å»æ¥ï¼</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Observed</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModel</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
}

<span class="hljs-comment">// ç»„ä»¶é‡Œ</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">UserItem</span> {
  <span class="hljs-meta">@ObjectLink</span> <span class="hljs-attr">user</span>: <span class="hljs-title class_">UserModel</span>; <span class="hljs-comment">// æ³¨æ„è¿™é‡Œï¼</span>
  
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span>)
  }
}
</code></pre>
<p>ç”¨äº† <code>@ObjectLink</code>ï¼Œé‚£å«ä¸€ä¸ªä¸æ»‘ï¼Œå¯¹è±¡é‡Œå“ªæ€•æ”¹äº†ä¸ªæ ‡ç‚¹ç¬¦å·ï¼Œç•Œé¢ç«‹é©¬è·Ÿç€å˜ï¼</p>
<hr/>
<h2 data-id="heading-4">æ‚¬æ¡ˆäºŒï¼šçœŸæœºä¸Šçš„â€œå¹½çµç‚¹å‡»â€ï¼ˆäº‹ä»¶å†’æ³¡çš„èƒŒåˆºï¼‰</h2>
<h3 data-id="heading-5">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>ä¸ºäº†èµ¶è¿›åº¦ï¼ŒV å“¥æˆ‘å†™äº†ä¸€ä¸ªå¤æ‚çš„åˆ—è¡¨ï¼Œæ¯ä¸ª Item é‡Œé¢æœ‰ä¸ªâ€œåˆ é™¤â€æŒ‰é’®ï¼Œå¤–é¢æ•´ä¸ª Item ä¹Ÿæ˜¯å¯ä»¥ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µçš„ã€‚</p>
<p>åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè·‘å¾—å¥½å¥½çš„ï¼Œç‚¹åˆ é™¤ï¼Œåˆ é™¤ï¼›ç‚¹ Itemï¼Œè·³è½¬ã€‚V å“¥æˆ‘ç¾æ»‹æ»‹åœ°è£…åˆ°çœŸæœºä¸Šæµ‹è¯•ã€‚</p>
<p>ç»“æœï¼Œè¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š<strong>æˆ‘ç‚¹â€œåˆ é™¤â€æŒ‰é’®ï¼Œå®ƒä¸ä»…æŠŠæ•°æ®åˆ äº†ï¼Œè¿˜ç‰¹ä¹ˆç»™æˆ‘è·³åˆ°äº†è¯¦æƒ…é¡µï¼</strong></p>
<p>æˆ‘éƒ½æƒ³æŠŠæ‰‹æœºåƒäº†ï¼Œæ˜æ˜ç‚¹çš„æ˜¯æŒ‰é’®ï¼Œä¸ºä»€ä¹ˆä¼šè§¦å‘çˆ¶å®¹å™¨çš„ç‚¹å‡»äº‹ä»¶ï¼Ÿ</p>
<h3 data-id="heading-6">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>åˆšå¼€å§‹ä»¥ä¸ºæ˜¯æ‰‹æœºå±å¹•åäº†ï¼Œæˆ–è€…æ‰‹æŒ‡å¤ªç²—ã€‚åæ¥å‘ç°ï¼Œè¿™æ˜¯å…¸å‹çš„<strong>äº‹ä»¶å†’æ³¡</strong>é—®é¢˜ã€‚</p>
<p>åœ¨é¸¿è’™çš„ ArkUI é‡Œï¼Œç‚¹å‡»äº‹ä»¶çš„ä¼ é€’æœºåˆ¶æœ‰æ—¶å€™ä¼šè·Ÿä½ â€œæ‰è¿·è—â€ã€‚åœ¨æ¨¡æ‹Ÿå™¨ä¸Šå¯èƒ½å› ä¸ºå“åº”é€Ÿåº¦å¿«æˆ–è€…æ¸²æŸ“æœºåˆ¶ä¸åŒï¼Œä¸æ˜æ˜¾ã€‚ä½†åœ¨çœŸæœºä¸Šï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ æ‰‹æŠ–äº†ä¸€ä¸‹ï¼Œç‚¹å‡»äº‹ä»¶å°±ä¼šåƒåç«ç®­ä¸€æ ·ï¼Œä»å­ç»„ä»¶ï¼ˆæŒ‰é’®ï¼‰ç›´æ¥<strong>å†’æ³¡</strong>ä¼ åˆ°äº†çˆ¶ç»„ä»¶ï¼ˆListItemï¼‰ï¼Œè§¦å‘ä¸¤æ¬¡ç‚¹å‡»è¡Œä¸ºã€‚</p>
<h3 data-id="heading-7">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>ç»™å¯èƒ½è§¦å‘å†²çªçš„å­ç»„ä»¶äº‹ä»¶é‡Œï¼ŒåŠ ä¸€å¥å’’è¯­ï¼ŒæŠŠå®ƒæˆªèƒ¡ï¼</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Button</span>(<span class="hljs-string">'åˆ é™¤'</span>)
  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {
    <span class="hljs-comment">// ä½ çš„åˆ é™¤é€»è¾‘...</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'æ‰§è¡Œåˆ é™¤'</span>);
  })
  <span class="hljs-comment">// é‡ç‚¹æ¥äº†ï¼åŠ ä¸Šè¿™ä¸€å¥ï¼Œå‘Šè¯‰çˆ¶ç»„ä»¶ï¼šåˆ°æ­¤ä¸ºæ­¢ï¼Œåˆ«å¾€ä¸Šä¼ äº†ï¼</span>
  .<span class="hljs-title function_">hitTestBehavior</span>(<span class="hljs-title class_">HitTestMode</span>.<span class="hljs-property">None</span>) 
</code></pre>
<p>æˆ–è€…ï¼Œåœ¨ onClick çš„å›è°ƒé‡Œæ ¹æ®ä¸šåŠ¡é€»è¾‘åˆ¤æ–­ï¼Œä½†åœ¨ UI å£°æ˜é‡Œï¼Œ<code>hitTestBehavior</code> æ˜¯æœ€ç‰©ç†ã€æœ€æœ‰æ•ˆçš„â€œç»“ç•Œâ€ã€‚åŠ ä¸Šè¿™ä¸€è¡Œä»£ç ï¼Œä¸–ç•Œç¬é—´æ¸…å‡€äº†ã€‚</p>
<hr/>
<h2 data-id="heading-8">æ‚¬æ¡ˆä¸‰ï¼šæ¨¡æ‹Ÿå™¨æ˜¯äº²å„¿å­ï¼ŒçœŸæœºæ˜¯æ¡æ¥çš„ï¼Ÿï¼ˆèµ„æºåŠ è½½çš„æ—¶å·®ï¼‰</h2>
<h3 data-id="heading-9">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>è¿™ä¸ª Bug ç®€ç›´è®©æˆ‘æ€€ç–‘äººç”Ÿã€‚æˆ‘åœ¨ DevEco Studio çš„ Previewer é‡Œé¢„è§ˆï¼Œå›¾ç‰‡æ˜¾ç¤ºå®Œç¾ï¼ŒåŠ¨ç”»æµç•…ã€‚è£…åˆ°åä¸ºçœŸæœºä¸Šä¸€è·‘â€”â€”<strong>å›¾ç‰‡å…¨æ˜¯è£‚å¼€çš„é»˜è®¤å›¾ï¼</strong></p>
<p>æˆ‘æ£€æŸ¥äº†è·¯å¾„ï¼Œ<code>common/images/xxx.png</code>ï¼Œæ²¡é”™å•Šï¼æƒé™ä¹Ÿç»™äº†ï¼Œç½‘ç»œä¹Ÿé€šäº†ã€‚ä¸ºä»€ä¹ˆçœŸæœºä¸Šå°±æ˜¯åŠ è½½ä¸å‡ºæ¥ï¼Ÿ</p>
<h3 data-id="heading-10">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>V å“¥æˆ‘å½“æ—¶ç›¯ç€å±å¹•çœ‹äº†åŠå°æ—¶ï¼Œçªç„¶çµå…‰ä¸€é—ªï¼šæ˜¯ä¸æ˜¯<strong>åŠ è½½æ—¶æœº</strong>çš„é—®é¢˜ï¼Ÿ</p>
<p>åœ¨æ¨¡æ‹Ÿå™¨é‡Œï¼Œå› ä¸ºç”µè„‘æ€§èƒ½å¼ºï¼ŒIO è¯»å†™å¿«ï¼Œå›¾ç‰‡å¾€å¾€åœ¨ç•Œé¢æ¸²æŸ“å‡ºæ¥ä¹‹å‰å°±å·²ç»åŠ è½½å¥½äº†ã€‚ä½†åœ¨çœŸæœºä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸ªç§»åŠ¨è®¾å¤‡ï¼Œè¯»å–æœ¬åœ°èµ„æºæ–‡ä»¶æ˜¯éœ€è¦æ—¶é—´çš„ã€‚</p>
<p>æˆ‘çš„ä»£ç é€»è¾‘æ˜¯ï¼š
<code>Image(this.imagePath)</code></p>
<p>è€Œ <code>this.imagePath</code> æ˜¯åœ¨ <code>aboutToAppear()</code> ç”Ÿå‘½å‘¨æœŸé‡Œå¼‚æ­¥å»è·å–å¹¶èµ‹å€¼çš„ã€‚çœŸæœºæ¸²æŸ“ç»„ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜é‡è¿˜æ˜¯ç©ºçš„æˆ–è€…æ˜¯åˆå§‹å€¼ï¼Œç­‰å®ƒæ‹¿åˆ°å€¼äº†ï¼ŒImage ç»„ä»¶å·²ç»æ‘†çƒ‚ä¸æ¸²æŸ“äº†ã€‚</p>
<h3 data-id="heading-11">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>è¿™å«â€œå¼‚æ­¥ç«æ€é—®é¢˜â€ã€‚è§£å†³æ–¹æ³•æœ‰ä¸¤ä¸ªï¼ŒV å“¥æ¨èç¬¬äºŒç§ã€‚</p>
<ol>
<li><strong>åŠ  Loading å ä½ï¼š</strong> ç”¨ä¸ª if åˆ¤æ–­ï¼Œæ•°æ®æ²¡å›æ¥å‰æ˜¾ç¤ºä¸ªè½¬åœˆåœˆçš„ Loadingã€‚</li>
<li><strong>ç»™ Image ç»„ä»¶åŠ ä¸ª Keyï¼ˆç»æ‹›ï¼‰ï¼š</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imagePath</span>)
  .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Cover</span>)
  <span class="hljs-comment">// åŠ ä¸Šè¿™ä¸ª keyï¼æ¯æ¬¡ imagePath å˜äº†ï¼Œå¼ºåˆ¶ Image ç»„ä»¶é”€æ¯é‡ç»˜ï¼</span>
  .<span class="hljs-title function_">key</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imagePath</span>) 
</code></pre>
<p>ä¸€æ—¦ä½ åŠ äº† <code>.key(this.imagePath)</code>ï¼Œè¿™å°±ç›¸å½“äºå‘Šè¯‰ç³»ç»Ÿï¼šâ€œå…„å¼Ÿï¼Œè·¯å¾„å˜äº†ï¼Œè¿™å·²ç»ä¸æ˜¯åˆšæ‰é‚£å¼ å›¾äº†ï¼Œä½ èµ¶ç´§é‡æ–°åŠ è½½ä¸€ä¸‹ï¼â€ è¿™ä¸€æ‹›ï¼Œå¯¹è§£å†³çœŸæœºèµ„æºåŠ è½½æ»åã€ä¸åˆ·æ–°çš„é—®é¢˜ï¼Œ<strong>ç™¾è¯•ç™¾çµ</strong>ï¼</p>
<hr/>
<h2 data-id="heading-12">æ‚¬æ¡ˆå››ï¼šWebViewController çš„â€œé»‘å±è¯…å’’â€</h2>
<h3 data-id="heading-13">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>åœ¨é¸¿è’™é‡ŒåµŒå…¥ H5 é¡µé¢å¾ˆå¸¸è§å§ï¼ŸV å“¥æˆ‘å½“æ—¶ç”¨ <code>Web</code> ç»„ä»¶åŠ è½½ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ URLã€‚</p>
<p>å¼€å‘é˜¶æ®µä¸€åˆ‡æ­£å¸¸ã€‚ç»“æœåˆ°äº†æµ‹è¯•ç¯å¢ƒï¼Œ<strong>é¡µé¢å¶å°”ä¸€è¿›å»å°±æ˜¯é»‘å±ï¼Œå•¥ä¹Ÿæ²¡æœ‰ï¼Œæ§åˆ¶å°è¿˜ä¸æŠ¥é”™ï¼</strong> ç®€ç›´å°±æ˜¯è§äº†é¬¼ã€‚</p>
<h3 data-id="heading-14">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>è¿™ç§ä¸æŠ¥é”™çš„ Bug æœ€éš¾æã€‚åæ¥ V å“¥æˆ‘å‘ç°ï¼Œè¿™è·Ÿ H5 é¡µé¢çš„åŠ è½½é€Ÿåº¦å’Œ Web ç»„ä»¶çš„åˆå§‹åŒ–æœ‰å…³ã€‚</p>
<p>å½“ Web ç»„ä»¶è¿˜æ²¡å®Œå…¨å‡†å¤‡å¥½ï¼Œæˆ–è€… H5 é¡µé¢å†…éƒ¨ JS æ‰§è¡Œå‡ºé”™å¡ä½äº†ï¼Œé¸¿è’™è¿™è¾¹çš„ Web å†…æ ¸æœ‰æ—¶å€™å°±ä¼šâ€œæ­»æœºâ€ï¼Œå‘ˆç°ä¸€ç‰‡æ­»å¯‚çš„é»‘è‰²ã€‚</p>
<h3 data-id="heading-15">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>å’±ä»¬å¾—åƒå¸¦å­©å­ä¸€æ ·ï¼Œç›¯ç€å®ƒï¼</p>
<ol>
<li><strong>ç›‘å¬ç”Ÿå‘½å‘¨æœŸï¼š</strong> å¿…é¡»é…åˆ <code>onPageEnd</code> å’Œ <code>onError</code> äº‹ä»¶ã€‚</li>
<li><strong>æ³¨å…¥è¯Šæ–­è„šæœ¬ï¼š</strong> åœ¨ H5 åŠ è½½å‰ï¼Œæ³¨å…¥ä¸€æ®µ JS å»æ¢æ´»ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })
  .<span class="hljs-title function_">onPageEnd</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// é¡µé¢åŠ è½½ç»“æŸäº†ï¼Œå¦‚æœè¿˜æ˜¯é»‘å±ï¼Œè¯´æ˜å‡ºé—®é¢˜äº†</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"é¡µé¢åŠ è½½ç»“æŸ"</span>);
  })
  .<span class="hljs-title function_">onErrorReceive</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-comment">// æ•è·é”™è¯¯</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"WebåŠ è½½å¤±è´¥: "</span> + event.<span class="hljs-title function_">getError</span>().<span class="hljs-title function_">toString</span>());
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å¼¹ä¸ªçª—ï¼Œæˆ–è€…åŠ è½½ä¸€ä¸ªæœ¬åœ°é”™è¯¯çš„ HTML</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">loadUrl</span>(<span class="hljs-string">'resource:///rawfile/error.html'</span>);
  })
  .<span class="hljs-title function_">domStorageAccess</span>(<span class="hljs-literal">true</span>)
</code></pre>
<p>æœ€å…³é”®çš„ä¸€æ‹›ï¼š<strong>ä¸è¦åœ¨ Controller æ²¡åˆå§‹åŒ–å®Œæˆçš„æ—¶å€™å°±æ€¥ç€ <code>loadUrl</code></strong>ã€‚å¦‚æœä½ æ˜¯åœ¨ <code>aboutToAppear</code> é‡Œåˆå§‹åŒ– Web ç»„ä»¶ï¼Œæœ€å¥½å»¶æ—¶ä¸ªå‡ ç™¾æ¯«ç§’ï¼Œæˆ–è€…ç¡®ä¿ Controller å®ä¾‹åŒ–å®Œæ¯•å†æ“ä½œã€‚ç»™å®ƒä¸€ç‚¹å–˜æ¯çš„æ—¶é—´ï¼Œé»‘å±å°±æ¶ˆå¤±äº†ã€‚</p>
<hr/>
<h2 data-id="heading-16">V å“¥æ€»ç»“é™ˆè¯</h2>
<p>å…„å¼Ÿä»¬ï¼Œè¿™å°±æ˜¯ V å“¥äº²æµ‹çš„é¸¿è’™å¼€å‘å››å¤§â€œæ‚¬æ¡ˆâ€ã€‚</p>
<p>å…¶å®æ€»ç»“ä¸‹æ¥ï¼Œé¸¿è’™å¼€å‘è™½ç„¶æ–°ï¼Œä½†ä¸‡å˜ä¸ç¦»å…¶å®—ï¼š</p>
<ol>
<li><strong>çŠ¶æ€ç®¡ç†è¦ææ¸…å¼•ç”¨å…³ç³»</strong>ï¼ˆObserved/ObjectLink ç”¨èµ·æ¥ï¼‰ã€‚</li>
<li><strong>äº‹ä»¶ä¼ é€’è¦é˜²å†’æ³¡</strong>ï¼ˆhitTestBehavior è®¾èµ·æ¥ï¼‰ã€‚</li>
<li><strong>çœŸæœºæ€§èƒ½è¦è€ƒè™‘æ—¶å·®</strong>ï¼ˆKey å’Œ Loading åŠ èµ·æ¥ï¼‰ã€‚</li>
<li><strong>æ··åˆå¼€å‘è¦åšå¥½å®¹é”™</strong>ï¼ˆç”Ÿå‘½å‘¨æœŸç›‘å¬èµ·æ¥ï¼‰ã€‚</li>
</ol>
<p>é‡åˆ° Bug åˆ«æ…Œï¼Œåˆ«ç ¸é”®ç›˜ï¼Œæ›´åˆ«æ€€ç–‘äººç”Ÿã€‚æŠŠè¿™äº›å‘è¸©å¹³äº†ï¼Œä½ å°±æ˜¯é¸¿è’™åœˆé‡Œçš„è€å¸æœºï¼</p>
<p>*<em>æˆ‘æ˜¯Vå“¥ï¼Œå…³æ³¨æˆ‘ï¼Œä¸€èµ·æé¸¿è’™å‘€ï¼æ‰‹æ“äº†ä¸‰æœ¬é¸¿è’™æ•™æï¼Œå­¦å®Œå³å¯ä½“ç³»åŒ–æŒæ¡é¸¿è’™å¼€å‘ã€‚</em>
*</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51a289da26814dfd808b3c1c0d23dc1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552480&amp;x-signature=qbREfY0w7Ep8R8o5%2BC4aManSrQQ%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. dstIn]]></title>    <link>https://juejin.cn/post/7592990758475972627</link>    <guid>https://juejin.cn/post/7592990758475972627</guid>    <pubDate>2026-01-09T08:35:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592990758475972627" data-draft-id="7592887786967515172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. dstIn"/> <meta itemprop="keywords" content="Android,Flutter"/> <meta itemprop="datePublished" content="2026-01-09T08:35:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. dstIn
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:35:53.000Z" title="Fri Jan 09 2026 08:35:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>Keeps the destination pixels that cover source pixels, discards the remaining source and destination pixels</code></p>
<p>å…¬å¼ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3683f4fbfca43778a3ffba676115d75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552553&amp;x-signature=WBqupaJOZJH65uKYskSGs8dmxdI%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ä»£ç :</p>
<pre><code class="hljs language-js" lang="js">    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">style</span> = ui.<span class="hljs-property">PaintingStyle</span>.<span class="hljs-property">fill</span>;
    canvas.<span class="hljs-title function_">drawImageRect</span>(image1!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>), dstPaint);


    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>
      ..<span class="hljs-property">blendMode</span> = ui.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">dstIn</span>; <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²; // æ··åˆæ¨¡å¼</span>
    canvas.<span class="hljs-title function_">drawRect</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height).<span class="hljs-title function_">deflate</span>(<span class="hljs-number">30</span>), srcPaint);

    canvas.<span class="hljs-title function_">restore</span>();
</code></pre>
<p>æ•ˆæœå›¾:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0add7846f434f89ae91841d9f65fd46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552553&amp;x-signature=EUYL%2F6gX7RDi%2F4pG9N9kVM7yORQ%3D" alt="image.png" width="30%" loading="lazy"/>
<p>å¯ä»¥çœ‹åˆ°é‡åˆéƒ¨åˆ†ä¿ç•™äº†dstï¼Œéé‡åˆéƒ¨åˆ†dstä¿ç•™,srcå…¨éƒ¨æ¸…ç©ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026å¹´çš„ITåœˆï¼Œçœ‹çœ‹è°åœ¨â€œè£¸æ³³â€ï¼Œè°åœ¨â€œåƒè‚‰â€]]></title>    <link>https://juejin.cn/post/7593139476839874566</link>    <guid>https://juejin.cn/post/7593139476839874566</guid>    <pubDate>2026-01-09T08:33:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476839874566" data-draft-id="7592887786967531556" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026å¹´çš„ITåœˆï¼Œçœ‹çœ‹è°åœ¨â€œè£¸æ³³â€ï¼Œè°åœ¨â€œåƒè‚‰â€"/> <meta itemprop="keywords" content="åç«¯,HarmonyOS,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-09T08:33:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026å¹´çš„ITåœˆï¼Œçœ‹çœ‹è°åœ¨â€œè£¸æ³³â€ï¼Œè°åœ¨â€œåƒè‚‰â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:33:33.000Z" title="Fri Jan 09 2026 08:33:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Helloï¼Œå…„å¼Ÿä»¬ï¼Œæˆ‘æ˜¯Vå“¥ï¼</p>
<p>æœ€è¿‘ä¸å°‘ç²‰ä¸ç§ä¿¡é—®æˆ‘ï¼šâ€œVå“¥ï¼Œç°åœ¨è¿™è¡Œæƒ…å·å¾—è·Ÿéº»èŠ±ä¼¼çš„ï¼Œ35å²å±æœºå°±åœ¨çœ¼å‰ï¼Œä½ è¯´å’±ä»¬æITçš„ï¼Œåˆ°äº†2026å¹´è¿˜æœ‰å‡ºè·¯å—ï¼Ÿè¿™æŠ€æœ¯è¿­ä»£å¿«å¾—åƒåç«ç®­ï¼Œæˆ‘åˆ°åº•è¯¥å¾€å“ªè¾¹æŠ¼æ³¨ï¼Ÿâ€</p>
<p>Vå“¥æˆ‘å°±ä¸€å¥è¯ï¼š<strong>ç„¦è™‘ä¸ªå±ï¼æœºä¼šå…¨æ˜¯ç»™æœ‰å‡†å¤‡çš„äººç•™ç€çš„ã€‚</strong></p>
<p>ä½ ä»¬ç°åœ¨çœ‹æ˜¯â€œå¯’å†¬â€ï¼ŒVå“¥æˆ‘çœ‹æ˜¯â€œæ´—ç‰Œâ€ã€‚ç­‰åˆ°2026å¹´ï¼ŒITè¡Œä¸šçš„æ ¼å±€æ—©å°±ç¿»å¤©è¦†åœ°äº†ã€‚é‚£äº›åªä¼šå†™é‡å¤ä»£ç çš„â€œä»£ç æ¬è¿å·¥â€ç¡®å®è¯¥æ…Œï¼Œä½†æ‡‚è¶‹åŠ¿ã€ä¼šå€ŸåŠ›çš„å…„å¼Ÿï¼Œé‚£ä¼šå„¿ç»å¯¹æ˜¯é¦™é¥½é¥½ã€‚</p>
<p>ä»Šå¤©ï¼ŒVå“¥æˆ‘å°±æå¿ƒçªå­åœ°èŠèŠï¼Œ2026å¹´å’±ä»¬è¿™è¡Œçš„å‡ å¤§â€œé£å£â€ã€‚ç‰¹åˆ«æ˜¯æœ€åä¸¤å—å¤§è‚‰ï¼Œå¬è¿›å»äº†ï¼Œä½ ä¸‹åŠå¹´çš„å¹´ç»ˆå¥–å°±ç¨³äº†ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ AIæ™ºèƒ½ä½“å¼€å‘ï¼š2026å¹´çš„â€œæ–°ç‰©ç§â€</h2>
<p>å…„å¼Ÿä»¬ï¼Œå…ˆæŠŠâ€œChatGPTâ€è¿™ç§å¯¹è¯æœºå™¨äººæ”¾ä¸€è¾¹ã€‚Vå“¥å‘Šè¯‰ä½ ï¼Œ<strong>2026å¹´æ˜¯AIæ™ºèƒ½ä½“çˆ†å‘çš„ä¸€å¹´ã€‚</strong></p>
<p>å•¥å«æ™ºèƒ½ä½“ï¼Ÿç°åœ¨çš„AIåƒä¸ªåšå­¦çš„ä¹¦å‘†å­ï¼Œä½ é—®å®ƒç­”ã€‚è€Œæ™ºèƒ½ä½“ï¼Œé‚£æ˜¯<strong>å¸¦ç€â€œè„‘å­â€å’Œâ€œæ‰‹è„šâ€çš„æ‰“å·¥äºº</strong>ã€‚å®ƒä¸ä»…èƒ½ç†è§£ä½ çš„æ„å›¾ï¼Œè¿˜èƒ½è‡ªå·±æ‹†è§£ä»»åŠ¡ã€è‡ªå·±å»è°ƒç”¨å·¥å…·ã€è‡ªå·±åæ€çº é”™ï¼Œæœ€åæŠŠæ´»å„¿å¹²å®Œäº†ç»™ä½ äº¤å·®ã€‚</p>
<ul>
<li><strong>ç°åœ¨æ˜¯ï¼š</strong> ä½ å†™ä»£ç ï¼ŒAIå¸®ä½ è¡¥å…¨ä¸€è¡Œã€‚</li>
<li><strong>2026å¹´æ˜¯ï¼š</strong> ä½ è¯´â€œå¸®æˆ‘åšä¸ªç”µå•†åå°â€ï¼Œæ™ºèƒ½ä½“è‡ªå·±å†™ä»£ç ã€è‡ªå·±æµ‹ã€è‡ªå·±éƒ¨ç½²ã€ç”šè‡³è‡ªå·±å†™æ–‡æ¡£ã€‚</li>
</ul>
<p><strong>Vå“¥çš„ç ”åˆ¤ï¼š</strong>
åˆ°äº†2026å¹´ï¼Œä¸ä¼šå¼€å‘æ™ºèƒ½ä½“çš„ç¨‹åºå‘˜ï¼Œå°±åƒ2010å¹´ä¸ä¼šç”¨æ™ºèƒ½æ‰‹æœºçš„äººä¸€æ ·è½ä¼ã€‚ä½ ä¸éœ€è¦è‡ªå·±å»é€ ä¸€ä¸ªå¤§æ¨¡å‹ï¼ˆé‚£æ˜¯å¤§å‚çš„äº‹å„¿ï¼‰ï¼Œä½ éœ€è¦åšçš„æ˜¯<strong>åšä¸­é—´çš„â€œControllerâ€ï¼ˆæ§åˆ¶å™¨ï¼‰</strong>ã€‚æ€ä¹ˆç”¨LangChainï¼ˆæˆ–è€…é‚£æ—¶å€™æ›´ç‰›çš„æ¡†æ¶ï¼‰æŠŠå¤§æ¨¡å‹ä¸²èµ·æ¥ï¼Ÿæ€ä¹ˆç»™æ™ºèƒ½ä½“æŒ‚è½½APIæ¥å£ï¼Ÿæ€ä¹ˆè®¾è®¡å®ƒçš„â€œè®°å¿†â€å’Œâ€œè§„åˆ’â€èƒ½åŠ›ï¼Ÿ</p>
<p>è¿™å—å„¿ç›®å‰è¿˜æ˜¯è“æµ·ï¼Œè°èƒ½ç‡å…ˆæŠŠâ€œæ•°å­—å‘˜å·¥â€æå®šï¼Œè°å°±æ˜¯é‚£ä¸ªçœä¸‹ç™¾ä¸‡äººåŠ›æˆæœ¬çš„è€æ¿çœ¼é‡Œçš„çº¢äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcf1d98b4c8f4d2e89f6ef46aeb247f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=USweinompOAVWQ1VxQejXAPBQMs%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">äºŒã€ é¸¿è’™å¼€å‘ï¼šå›½äº§æ“ä½œç³»ç»Ÿçš„â€œæˆå¹´ç¤¼â€</h2>
<p>è¿™å—å„¿ï¼ŒVå“¥å¿…é¡»å¾—æ•²é»‘æ¿ï¼è¿™å¯èƒ½æ˜¯æœªæ¥å‡ å¹´é‡Œï¼Œä¸­å›½æ™®é€šç¨‹åºå‘˜æœ€å¤§çš„<strong>çº¢åˆ©æœŸ</strong>ã€‚</p>
<p>åˆ«æ€»ç›¯ç€Androidå’ŒiOSå·äº†ï¼Œé‚£æ˜¯å­˜é‡å¸‚åœºï¼Œæ€å¾—å¤´ç ´è¡€æµã€‚ä½ çœ‹åä¸ºç°åœ¨çš„åŠ¨ä½œï¼Œ<strong>HarmonyOS NEXTï¼ˆçº¯è¡€é¸¿è’™ï¼‰</strong> å·²ç»åˆ‡æ–­äº†å¯¹å®‰å“ä»£ç çš„ä¾èµ–ã€‚è¿™æ„å‘³ä»€ä¹ˆï¼Ÿæ„å‘³ç€è¿™ä¸ä»…ä»…æ˜¯æ¢ä¸ªçš®è‚¤ï¼Œè¿™æ˜¯ä¸€å¥—å…¨æ–°çš„ã€ç‹¬ç«‹çš„ç”Ÿæ€ï¼</p>
<p><strong>Vå“¥çš„é¢„è¨€ï¼š</strong>
åˆ°äº†2026å¹´ï¼Œé¸¿è’™ä¸å†æ˜¯æ‰‹æœºçš„é…è§’ï¼Œè€Œæ˜¯<strong>å…¨åœºæ™¯ï¼ˆæ‰‹æœºã€è½¦æœºã€å®¶ç”µã€å·¥æ§ï¼‰çš„éœ¸ä¸»</strong>ã€‚</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆï¼š</strong> èµ¶ç´§æŠŠArkTSï¼ˆArk TypeScriptï¼‰å­¦ç†Ÿäº†ï¼ŒArkUIè¿™å¥—å£°æ˜å¼å¼€å‘èŒƒå¼éå¸¸é¡ºæ‰‹ã€‚</li>
<li><strong>æœºä¼šåœ¨å“ªï¼Ÿ</strong> ç°åœ¨å¸‚é¢ä¸Šå¤§é‡çš„APPéƒ½éœ€è¦é‡æ„é¸¿è’™åŸç”Ÿç‰ˆã€‚è¿™ä¸­é—´æœ‰ä¸€ä¸ªå·¨å¤§çš„ç¼ºå£ï¼å‰ä¸¤å¹´è¿›å»çš„é‚£æ‰¹äººï¼Œç°åœ¨éƒ½æˆæŠ€æœ¯æ€»ç›‘äº†ã€‚2026å¹´ï¼Œéšç€ä¸‡ç‰©äº’è”çœŸæ­£è½åœ°ï¼Œé¸¿è’™å¼€å‘è€…çš„è–ªèµ„ä¼šæ¯”åŒçº§åˆ«çš„å®‰å“å¼€å‘é«˜å‡ºè‡³å°‘30%ã€‚</li>
</ul>
<p>Vå“¥æˆ‘ä¸€ç›´è¯´ï¼Œ<strong>æŠ€æœ¯è¦è·Ÿç€å›½è¿èµ°</strong>ã€‚é¸¿è’™è¿™æ¡è·¯ï¼Œä¸ä»…æ˜¯å†™ä»£ç ï¼Œæ›´æ˜¯åœ¨å‚ä¸åŸºç¡€è®¾æ–½å»ºè®¾ã€‚è¿™ç¢—é¥­ï¼Œé¦™ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8158163a6d5145528b9b13ac6d35e2a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=8Y6RB2MA98F2ASU8WO1ZEXRtSfg%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ åç«¯å¼€å‘ï¼šå‘Šåˆ«â€œCRUDâ€ï¼Œæ‹¥æŠ±â€œç¼–æ’â€</h2>
<p>å…„å¼Ÿä»¬ï¼Œåˆ«å†ç¬‘è¯å†™Java/Goçš„åç«¯æ¯ç‡¥äº†ã€‚è™½ç„¶ç®€å•çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰çœŸçš„ä¼šè¢«AIå¹²æ‰ï¼Œä½†<strong>åç«¯çš„é€»è¾‘æ ¸å¿ƒåœ°ä½æ°¸è¿œä¸ä¼šåŠ¨æ‘‡</strong>ã€‚</p>
<p>2026å¹´çš„åç«¯ï¼Œä¸å†æ˜¯å•çº¯çš„å†™æ¥å£ï¼Œè€Œæ˜¯<strong>åšâ€œAIæ—¶ä»£çš„ç®¡å®¶â€</strong>ã€‚</p>
<p>ä»¥å‰ä½ çš„æœåŠ¡æ˜¯ç»™å‰ç«¯APPç”¨çš„ï¼Œ2026å¹´ï¼Œä½ çš„æœåŠ¡å¤§éƒ¨åˆ†æ˜¯ç»™ä¸Šé¢çš„â€œAIæ™ºèƒ½ä½“â€ç”¨çš„ã€‚æ™ºèƒ½ä½“éœ€è¦è°ƒç”¨ä½ çš„æ•°æ®åº“ã€è°ƒç”¨ä½ çš„ä¸šåŠ¡é€»è¾‘ã€‚ä½ çš„æ¥å£è®¾è®¡å¾—æ›´è§„èŒƒã€æ›´åŸå­åŒ–ã€å“åº”æ›´å¿«ã€‚</p>
<p><strong>Vå“¥å»ºè®®ï¼š</strong>
Goè¯­è¨€å’ŒRustä¼šåœ¨åç«¯è¶Šæ¥è¶Šç«ï¼ˆå› ä¸ºæ€§èƒ½å¥½ã€å¹¶å‘å¼ºï¼‰ã€‚è€Œä¸”ï¼Œåç«¯å¾—æ‡‚ç‚¹<strong>äº‘åŸç”Ÿ</strong>ï¼Œå®¹å™¨åŒ–ã€Service Meshï¼ˆæœåŠ¡ç½‘æ ¼ï¼‰è¿™äº›éƒ½æ˜¯æ ‡é…ã€‚ä½ å¾—å­¦ä¼šæ€ä¹ˆæŠŠä¸€ä¸ªåºå¤§çš„ç³»ç»Ÿæ‹†å¾—ç¢ç¢çš„ï¼Œè¿˜èƒ½ç”¨AIæŠŠå®ƒä»¬ç®¡å¾—æœæœå¸–å¸–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba591ec95bae4fb68e775efeb0f65fba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=DIaI%2BJ1DU7pGh1NIq2I7UnaM5EY%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">å››ã€ å‰ç«¯å¼€å‘ï¼šä»â€œç”»é¡µé¢â€åˆ°â€œé€ ä½“éªŒâ€</h2>
<p>å‰ç«¯æ­»äº†å—ï¼ŸVå“¥å‘Šè¯‰ä½ ï¼Œå‰ç«¯æ‰åˆšåˆšå¼€å§‹â€œæ€§æ„Ÿâ€èµ·æ¥ã€‚</p>
<p>å†™HTML/CSSè¿™ç§æ´»å„¿ï¼Œ2026å¹´ä¼°è®¡UIè®¾è®¡å¸ˆç›´æ¥è¯´ä¸€å¥è¯ï¼ŒAIå°±ç”Ÿæˆäº†ã€‚é‚£å‰ç«¯å¹²å˜›ï¼Ÿ<strong>å‰ç«¯è´Ÿè´£â€œäº¤äº’çš„çµé­‚â€</strong>ã€‚</p>
<p>éšç€WebGPUçš„æ™®åŠï¼Œæµè§ˆå™¨é‡Œèƒ½è·‘3Då¤§ä½œã€èƒ½è·‘å¤æ‚çš„ç‰©ç†å¼•æ“ã€‚é¸¿è’™çš„ArkUIä¹Ÿæ˜¯è·¨ç«¯çš„å‰ç«¯æŠ€æœ¯ã€‚æœªæ¥çš„å‰ç«¯ï¼Œæ›´å¤šæ˜¯<strong>å›¾å½¢å­¦ã€äººæœºäº¤äº’å’Œ3Då¯è§†åŒ–</strong>ã€‚ä½ æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œä¸å†æ˜¯çœ‹å›¾æ–‡ï¼Œè€Œæ˜¯è¿›å…¥ä¸€ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œè¿™èƒŒåå…¨æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆçš„åŠŸåŠ›ã€‚</p>
<p><strong>Vå“¥ä¸€å¥è¯ï¼š</strong> æ”¾ä¸‹jQueryï¼Œææ·±Three.jsï¼Œæé€React/VueåŸç†ï¼Œå¾€å›¾å½¢å­¦å’Œå…¨æ ˆæ–¹å‘å‘å±•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32f20db62bf54ff4b0241059a914fd06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=11ttf6XDgDjV1otbAXBZgnOYI6A%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">äº”ã€ åµŒå…¥å¼å¼€å‘ï¼šè½¯ç¡¬ä»¶ç»“åˆçš„â€œç¡¬æ ¸æµªæ¼«â€</h2>
<p>ä»¥å‰æåµŒå…¥å¼æ„Ÿè§‰æ˜¯â€œä¿®æ”¶éŸ³æœºçš„â€ï¼Œ2026å¹´æåµŒå…¥å¼é‚£æ˜¯â€œé€ æ™ºèƒ½æœºå™¨äººâ€çš„ã€‚</p>
<p>å› ä¸ºä¸Šé¢è¯´çš„<strong>é¸¿è’™</strong>å’Œ<strong>AI</strong>ï¼Œæœ€åéƒ½è¦è½è„šåˆ°ç¡¬ä»¶ä¸Šã€‚æ™ºèƒ½çœ¼é•œã€æ™ºèƒ½å®¶ç”µã€è‡ªåŠ¨é©¾é©¶ï¼Œå“ªä¸ªç¦»å¾—å¼€åµŒå…¥å¼ï¼Ÿ</p>
<p><strong>é‡ç‚¹æ¥äº†ï¼š</strong> åµŒå…¥å¼æœªæ¥ä¼šå’ŒAIæ·±åº¦èåˆï¼Œå«<strong>TinyMLï¼ˆå¾®å‹æœºå™¨å­¦ä¹ ï¼‰</strong>ã€‚åœ¨èŠ¯ç‰‡ä¸Šè·‘å°å‹çš„AIæ¨¡å‹ï¼Œè®©æ‘„åƒå¤´èƒ½è¯†åˆ«äººè„¸ï¼Œè®©ä¼ æ„Ÿå™¨èƒ½å¬æ‡‚å£°éŸ³ã€‚å¦‚æœä½ æ—¢æ‡‚Cè¯­è¨€åº•å±‚ï¼Œåˆæ‡‚ä¸€ç‚¹AIç®—æ³•éƒ¨ç½²ï¼Œä½ æ˜¯å„å¤§ç¡¬ä»¶å‚æŠ¢ç€è¦çš„â€œå›½å®â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7547c2a6c8be45c89e4ce5ef087643ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=2pLRkVyQyLI7eckVwDHDdrYiYcU%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">å…­ã€ å¤§æ•°æ®å¼€å‘ï¼šä»â€œå­˜æ•°æ®â€åˆ°â€œå–‚AIâ€</h2>
<p>å¤§æ•°æ®æ²¡å‡‰ï¼Œåªæ˜¯æ¢äº†ä¸ªæ´»æ³•ã€‚</p>
<p>å‰å‡ å¹´å¤§å®¶æHadoopã€Sparkï¼Œæ˜¯ä¸ºäº†å­˜æ—¥å¿—ã€åšæŠ¥è¡¨ã€‚2026å¹´ï¼Œæå¤§æ•°æ®ä¸»è¦æ˜¯ä¸ºäº†<strong>ç»™AIå½“â€œé¥²å…»å‘˜â€</strong>ã€‚</p>
<p>AIéœ€è¦é«˜è´¨é‡çš„æ•°æ®æ¸…æ´—ã€å‘é‡åŒ–å¤„ç†ã€‚è¿™å°±æ¶‰åŠåˆ°<strong>å‘é‡æ•°æ®åº“</strong>ã€æ•°æ®æ¹–ã€å®æ—¶è®¡ç®—æµã€‚æ€ä¹ˆæŠŠä¼ä¸šçš„å‡ åäº¿æ¡æ•°æ®ï¼Œå˜æˆAIèƒ½çœ‹æ‡‚çš„â€œçŸ¥è¯†â€ï¼Œè¿™æ˜¯å¤§æ•°æ®å·¥ç¨‹å¸ˆçš„æ–°æ´»å„¿ã€‚ä¸æ‡‚AIçš„æ•°æ®å·¥ç¨‹å¸ˆï¼Œæœªæ¥è·¯ä¼šè¶Šèµ°è¶Šçª„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a96826a1cb6c418694096d6ce6246af9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=fhfzp8QxJTZT7IGJvmm6u5RtBJA%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ä¸ƒã€ AIè¿ç»´ä¸ AIæµ‹è¯•ï¼šæœºå™¨ç®¡æœºå™¨</h2>
<p>æœ€åè¯´è¯´è¿™ä¸¤ä¸ªå®¹æ˜“è¢«å¿½è§†çš„é¢†åŸŸã€‚</p>
<ul>
<li><strong>AIè¿ç»´ï¼š</strong> ä»¥å‰æœåŠ¡å™¨æŠ¥è­¦äº†ï¼Œè¿ç»´å…„å¼ŸåŠå¤œçˆ¬èµ·æ¥çœ‹æ—¥å¿—ã€‚2026å¹´ï¼ŒAIè¿ç»´ç³»ç»Ÿä¼šè‡ªåŠ¨å®šä½æ•…éšœã€è‡ªåŠ¨ä¿®å¤ã€è‡ªåŠ¨æ‰©å®¹ã€‚è¿ç»´å·¥ç¨‹å¸ˆä¸éœ€è¦æ•²é‚£ä¹ˆå¤šå‘½ä»¤äº†ï¼Œè€Œæ˜¯è´Ÿè´£è®­ç»ƒè¿™ä¸ªâ€œè¿ç»´AIâ€ï¼Œåˆ¶å®šç­–ç•¥ã€‚è¿™å«<strong>SREï¼ˆç«™ç‚¹å¯é æ€§å·¥ç¨‹ï¼‰çš„è¿›åŒ–ç‰ˆ</strong>ã€‚</li>
<li><strong>AIæµ‹è¯•ï¼š</strong> æµ‹è¯•ä¸ä»…æ˜¯æ‰¾Bugï¼Œæ›´æ˜¯â€œæ”»é˜²æ¼”ç»ƒâ€ã€‚ç”¨AIå»ç”Ÿæˆå‡ ä¸‡æ¡å˜æ€æµ‹è¯•ç”¨ä¾‹å»è½°ç‚¸ä½ çš„ç³»ç»Ÿï¼Œç”šè‡³ç”¨AIå»å¯¹æŠ—AIç”Ÿæˆçš„ä»£ç ã€‚åªæœ‰AIæ‰èƒ½æµ‹å‡ºAIå†™çš„Bugã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">Vå“¥æ€»ç»“ä¸€ä¸‹</h2>
<p>å…„å¼Ÿä»¬ï¼Œ2026å¹´å…¶å®å¹¶ä¸è¿œã€‚</p>
<p>Vå“¥æˆ‘çœ‹äº†ä¸€åœˆï¼Œæœªæ¥çš„è¶‹åŠ¿å°±ä¸¤ä¸ªå­—ï¼š<strong>èåˆ</strong>ã€‚</p>
<ul>
<li><strong>é¸¿è’™</strong>æ˜¯ä¸‡ç‰©äº’è”çš„åº•åº§ï¼Œå¿…é¡»è¦æŠ“ï¼›</li>
<li><strong>AIæ™ºèƒ½ä½“</strong>æ˜¯æå‡æ•ˆç‡çš„ç¥å™¨ï¼Œå¿…é¡»è¦æ‡‚ï¼›</li>
<li>å…¶ä»–æ‰€æœ‰çš„åç«¯ã€å‰ç«¯ã€åµŒå…¥å¼ã€æ•°æ®ï¼Œéƒ½è¦å›´ç»•ç€è¿™ä¸¤è€…å»è¿›åŒ–ã€‚</li>
</ul>
<p>åˆ«å†çº ç»“Javaè¿˜æ˜¯Pythonï¼ŒGoè¿˜æ˜¯Rustäº†ã€‚è¯­è¨€åªæ˜¯å·¥å…·ï¼Œ<strong>è§£å†³é—®é¢˜çš„æ€è·¯æ‰æ˜¯ç‹é“</strong>ã€‚ä»ä»Šå¤©èµ·ï¼Œè¯•ç€ç”¨AIå»å¸®ä½ å¹²æ´»ï¼Œè¯•ç€å»äº†è§£ä¸€ä¸‹é¸¿è’™çš„ArkTSï¼Œè¯•ç€æŠŠä½ çš„å·¥ä½œæµç¨‹â€œæ™ºèƒ½åŒ–â€ã€‚</p>
<p>ç­‰åˆ°äº†2026å¹´ï¼Œå½“åˆ«äººè¿˜åœ¨ä¸ºè£å‘˜ç‘Ÿç‘Ÿå‘æŠ–æ—¶ï¼ŒVå“¥å¸Œæœ›çœ‹åˆ°ä½ å·²ç»ç«™åœ¨é£å£ä¸Šï¼Œç¬‘å‚²æ±Ÿæ¹–ï¼</p>
<p><strong>æˆ‘æ˜¯Vå“¥ï¼Œå¸¦ä½ ä¸ä»…çœ‹æ‡‚æŠ€æœ¯ï¼Œæ›´çœ‹æ‡‚æœªæ¥ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“å¤šæ€åœ¨æ„é€ ä¸­â€œå¤±æ•ˆâ€çš„é‚£ä¸€åˆ»]]></title>    <link>https://juejin.cn/post/7593098101431697462</link>    <guid>https://juejin.cn/post/7593098101431697462</guid>    <pubDate>2026-01-09T08:39:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101431697462" data-draft-id="7592990758476005395" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“å¤šæ€åœ¨æ„é€ ä¸­â€œå¤±æ•ˆâ€çš„é‚£ä¸€åˆ»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:39:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“å¤šæ€åœ¨æ„é€ ä¸­â€œå¤±æ•ˆâ€çš„é‚£ä¸€åˆ»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:39:01.000Z" title="Fri Jan 09 2026 08:39:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/317ad1da83d244169a4ac9631aaa961c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552741&amp;x-signature=sADZiG4NXiKNkiKUXeVvYquMtAA%3D" alt="image.png" loading="lazy"/></p>
<p>å‡Œæ™¨ä¸¤ç‚¹ï¼Œæˆ‘çš„æ‰‹æœºçªç„¶éœ‡åŠ¨èµ·æ¥ã€‚å±å¹•ä¸Šæ˜¾ç¤ºç€åŒäº‹å°å¼ çš„åå­—â€”â€”ä¸€ä½æœ‰ç€äº”å¹´ç»éªŒçš„C++å¼€å‘è€…ã€‚æ¥èµ·ç”µè¯ï¼Œé‚£å¤´ä¼ æ¥ä»–å›°æƒ‘è€Œæ€¥åˆ‡çš„å£°éŸ³ï¼š</p>
<p>â€œæˆ‘åˆšåˆšåœ¨è°ƒè¯•ä¸€ä¸ªå¥‡æ€ªçš„å´©æºƒé—®é¢˜ã€‚åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº†ä¸€ä¸ªè™šå‡½æ•°ï¼Œä½†å®ƒæ²¡æœ‰æŒ‰æˆ‘é¢„æœŸçš„é‚£æ ·è°ƒç”¨æ´¾ç”Ÿç±»çš„å®ç°ï¼Œè€Œæ˜¯è°ƒç”¨äº†åŸºç±»è‡ªå·±çš„ç‰ˆæœ¬ï¼è¿™æ€ä¹ˆå¯èƒ½ï¼Ÿè™šå‡½æ•°çš„å¤šæ€æ€§ä¸æ˜¯C++çš„åŸºçŸ³å—ï¼Ÿâ€</p>
<p>ç”µè¯æŒ‚æ–­åï¼Œæˆ‘é™·å…¥äº†æ²‰æ€ã€‚å°å¼ é‡åˆ°çš„é—®é¢˜ï¼Œæ­£æ˜¯C++å¤šæ€æœºåˆ¶ä¸­æœ€å¾®å¦™ã€æœ€å®¹æ˜“è¯¯è§£çš„éƒ¨åˆ†ã€‚è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„ç°è±¡èƒŒåï¼Œéšè—ç€è™šå‡½æ•°æœºåˆ¶çš„å…¨éƒ¨ç§˜å¯†â€”â€”ä»å†…å­˜å¸ƒå±€åˆ°ç”Ÿå‘½å‘¨æœŸï¼Œä»ç¼–è¯‘æ—¶å†³å®šåˆ°è¿è¡Œæ—¶è¡Œä¸ºã€‚</p>
<h2 data-id="heading-0">é—®é¢˜çš„å†°å±±ä¸€è§’</h2>
<p>å°å¼ çš„å›°æƒ‘å¹¶éä¸ªä¾‹ã€‚åœ¨C++çš„ä¸–ç•Œé‡Œï¼Œè™šå‡½æ•°æœºåˆ¶å°±åƒä¸€åº§å†°å±±ï¼š</p>
<p><strong>æ°´é¢ä¹‹ä¸Š</strong>ï¼Œæ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ï¼šé€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨æ´¾ç”Ÿç±»æ–¹æ³•ï¼Œå®ç°è¿è¡Œæ—¶å¤šæ€ã€‚</p>
<p><strong>æ°´é¢ä¹‹ä¸‹</strong>ï¼Œåˆ™æ˜¯é”™ç»¼å¤æ‚çš„æœºåˆ¶ï¼šè™šå‡½æ•°æŒ‡é’ˆã€è™šå‡½æ•°è¡¨ã€æ„é€ é¡ºåºã€ææ„æ—¶æœºâ€¦â€¦è¿™äº›æ¦‚å¿µå…±åŒæ„æˆäº†C++å¤šæ€çš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>è®©æˆ‘ä»¬è·Ÿéšå°å¼ çš„è°ƒè¯•è·¯å¾„ï¼Œä¸€æ­¥æ­¥æ­å¼€è™šå‡½æ•°çš„ç¥ç§˜é¢çº±ã€‚</p>
<h2 data-id="heading-1">è™šå‡½æ•°æŒ‡é’ˆçš„è¯ç”Ÿæ—¶åˆ»</h2>
<p>å°å¼ é¦–å…ˆæƒ³çŸ¥é“çš„æ˜¯ï¼š<strong>è™šå‡½æ•°æŒ‡é’ˆå’Œè™šå‡½æ•°è¡¨æ˜¯ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–çš„ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Base</span>() { 
        <span class="hljs-comment">// æ­¤æ—¶è™šå‡½æ•°æœºåˆ¶å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Ÿ</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Base"</span> &lt;&lt; endl; }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Derived</span>() : <span class="hljs-built_in">Base</span>() {}
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Derived"</span> &lt;&lt; endl; }
};

Derived* d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();  <span class="hljs-comment">// è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</span>
</code></pre>
<p>åœ¨å¯¹è±¡æ„é€ çš„èˆè¹ˆä¸­ï¼Œç¼–è¯‘å™¨æ˜¯ä¸¥è°¨çš„ç¼–èˆè€…ï¼š</p>
<ol>
<li><strong>åˆ†é…å†…å­˜</strong>ï¼šé¦–å…ˆä¸ºæ•´ä¸ªå¯¹è±¡åˆ†é…è¶³å¤Ÿçš„å†…å­˜ç©ºé—´</li>
<li><strong>è®¾ç½®vptr</strong>ï¼šåœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“<strong>ä¹‹å‰</strong>ï¼Œç¼–è¯‘å™¨æ’å…¥ä»£ç è®¾ç½®å½“å‰ç±»çš„vptr</li>
<li><strong>æ„é€ åŸºç±»</strong>ï¼šè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶vptræŒ‡å‘åŸºç±»çš„è™šå‡½æ•°è¡¨</li>
<li><strong>æ›´æ–°vptr</strong>ï¼šåŸºç±»æ„é€ å®Œæˆåï¼Œvptrè¢«æ›´æ–°ä¸ºæŒ‡å‘æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨</li>
<li><strong>æ„é€ æˆå‘˜</strong>ï¼šåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„æ•°æ®æˆå‘˜</li>
<li><strong>æ‰§è¡Œæ„é€ å‡½æ•°ä½“</strong>ï¼šæœ€åæ‰§è¡Œæˆ‘ä»¬åœ¨ä»£ç ä¸­ç¼–å†™çš„æ„é€ å‡½æ•°é€»è¾‘</li>
</ol>
<p>è¿™æ„å‘³ç€åœ¨åŸºç±»æ„é€ å‡½æ•°æ‰§è¡ŒæœŸé—´ï¼Œå¯¹è±¡çš„â€œç±»å‹èº«ä»½â€ä»ç„¶æ˜¯åŸºç±»ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå°å¼ åœ¨åŸºç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œçœ‹åˆ°çš„æ˜¯åŸºç±»ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-2">æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„è™šå‡½æ•°æŒ‡é’ˆå—ï¼Ÿ</h2>
<p>ç†è§£åˆå§‹åŒ–æ—¶æœºçš„ç­”æ¡ˆåï¼Œå°å¼ è‡ªç„¶æƒ³åˆ°ä¸‹ä¸€ä¸ªé—®é¢˜ï¼š<strong>è™šå‡½æ•°æŒ‡é’ˆæ˜¯æ¯ä¸€ä¸ªå¯¹è±¡ä¸€ä»½å—ï¼Ÿ</strong></p>
<p>æ˜¯çš„ï¼Œä½†æœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ†ã€‚æ¯ä¸ªå«æœ‰è™šå‡½æ•°çš„ç±»å¯¹è±¡åœ¨å†…å­˜å¸ƒå±€ä¸­éƒ½æœ‰ä¸€ä¸ªéšè—çš„æˆå‘˜â€”â€”è™šå‡½æ•°æŒ‡é’ˆï¼ˆvptrï¼‰ã€‚è¿™ä¸ªæŒ‡é’ˆæ˜¯å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œéšå¯¹è±¡åˆ›å»ºè€Œåˆ›å»ºï¼Œéšå¯¹è±¡é”€æ¯è€Œé”€æ¯ã€‚</p>
<p>ç„¶è€Œï¼Œæ‰€æœ‰åŒç±»å‹çš„å¯¹è±¡å…±äº«åŒä¸€ä¸ª<strong>è™šå‡½æ•°è¡¨</strong>ï¼ˆvtableï¼‰ã€‚è¿™ä¸ªè¡¨åœ¨ç¼–è¯‘æœŸç”Ÿæˆï¼Œå­˜å‚¨åœ¨ç¨‹åºçš„åªè¯»æ•°æ®æ®µä¸­ï¼ŒåŒ…å«äº†è¯¥ç±»æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">Derived d1, d2, d3;
<span class="hljs-comment">// d1, d2, d3 å„è‡ªæœ‰è‡ªå·±çš„vptr</span>
<span class="hljs-comment">// ä½†å®ƒä»¬çš„vptréƒ½æŒ‡å‘åŒä¸€ä¸ªDerivedç±»çš„vtable</span>
</code></pre>
<p>è¿™ç§è®¾è®¡å·§å¦™å¹³è¡¡äº†ç©ºé—´æ•ˆç‡å’Œæ—¶é—´æ•ˆç‡ï¼šæ¯ä¸ªå¯¹è±¡åªéœ€ä»˜å‡ºä¸€ä¸ªæŒ‡é’ˆçš„ä»£ä»·ï¼Œå°±èƒ½è·å¾—å®Œæ•´çš„åŠ¨æ€åˆ†æ´¾èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-3">æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è™šå‡½æ•°å—ï¼Ÿ</h2>
<p>å°å¼ ç»§ç»­è¿½é—®ï¼š<strong>æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è™šå‡½æ•°å—ï¼Ÿ</strong></p>
<p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆéœ€è¦ç²¾ç¡®è¡¨è¿°ã€‚æ´¾ç”Ÿç±»ç»§æ‰¿çš„æ˜¯è™šå‡½æ•°çš„<strong>æ¥å£</strong>å’Œ<strong>è°ƒç”¨çº¦å®š</strong>ï¼Œä½†ä¸ä¸€å®šç»§æ‰¿å…·ä½“çš„<strong>å®ç°</strong>ã€‚æ´¾ç”Ÿç±»å¯ä»¥é€‰æ‹©ï¼š</p>
<ol>
<li><strong>è¦†ç›–ï¼ˆoverrideï¼‰</strong>ï¼šæä¾›è‡ªå·±çš„å®ç°</li>
<li><strong>ä¸è¦†ç›–</strong>ï¼šéšå¼ç»§æ‰¿åŸºç±»çš„å®ç°</li>
<li><strong>éšè—</strong>ï¼šé€šè¿‡åŒåéè™šå‡½æ•°éšè—åŸºç±»è™šå‡½æ•°ï¼ˆä¸æ¨èï¼‰</li>
</ol>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œæ¯ä¸ªæ´¾ç”Ÿç±»éƒ½æœ‰è‡ªå·±çš„è™šå‡½æ•°è¡¨ã€‚è¿™ä¸ªè¡¨æ˜¯ä»åŸºç±»çš„è™šå‡½æ•°è¡¨â€œæ‰©å±•â€è€Œæ¥â€”â€”å¤åˆ¶åŸºç±»çš„æ¡ç›®ï¼Œç„¶åç”¨æ´¾ç”Ÿç±»çš„è¦†ç›–å®ç°æ›¿æ¢ç›¸åº”çš„æ¡ç›®ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">speak</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;      <span class="hljs-comment">// çº¯è™šå‡½æ•°ï¼Œå¿…é¡»è¢«è¦†ç›–</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">breathe</span><span class="hljs-params">()</span> </span>{ ... } <span class="hljs-comment">// æœ‰é»˜è®¤å®ç°ï¼Œå¯é€‰æ‹©è¦†ç›–</span>
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Animal</span>() {}           <span class="hljs-comment">// è™šææ„å‡½æ•°</span>
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> : <span class="hljs-keyword">public</span> Animal {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">speak</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Woof!"</span> &lt;&lt; endl; }  <span class="hljs-comment">// å¿…é¡»å®ç°</span>
    <span class="hljs-comment">// breathe()ä½¿ç”¨ç»§æ‰¿çš„Animalç‰ˆæœ¬</span>
    <span class="hljs-comment">// ææ„å‡½æ•°è‡ªåŠ¨æˆä¸ºè™šå‡½æ•°</span>
};
</code></pre>
<h2 data-id="heading-4">æ´¾ç”Ÿç±»ä¼šç»§æ‰¿åŸºç±»çš„è™šå‡½æ•°æŒ‡é’ˆå—ï¼Ÿ</h2>
<p>ç†è§£äº†ç»§æ‰¿å…³ç³»åï¼Œå°å¼ æå‡ºäº†ä¸€ä¸ªç²¾å¦™çš„é—®é¢˜ï¼š<strong>æ´¾ç”Ÿç±»ä¼šç»§æ‰¿åŸºç±»çš„è™šå‡½æ•°æŒ‡é’ˆå—ï¼Ÿ</strong></p>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè¿™ä¸€ç‚¹è‡³å…³é‡è¦ã€‚æ´¾ç”Ÿç±»<strong>ä¸ä¼š</strong>ç»§æ‰¿åŸºç±»çš„vptrã€‚ç›¸åï¼š</p>
<ol>
<li>å½“åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç¡®ä¿å¯¹è±¡ä¸­åŒ…å«ä¸€ä¸ªvptr</li>
<li>è¿™ä¸ªvptråœ¨æ„é€ è¿‡ç¨‹ä¸­ä¼šå˜åŒ–ï¼šå…ˆæŒ‡å‘åŸºç±»çš„vtableï¼Œç„¶åæŒ‡å‘æ´¾ç”Ÿç±»çš„vtable</li>
<li>å¦‚æœå­˜åœ¨å¤šå±‚ç»§æ‰¿ï¼Œæ¯ä¸ªå®Œæ•´çš„å¯¹è±¡ä»ç„¶åªæœ‰ä¸€ä¸ªvptrï¼ˆåœ¨å•ç»§æ‰¿æƒ…å†µä¸‹ï¼‰</li>
</ol>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f</span><span class="hljs-params">()</span> </span>{} };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> : <span class="hljs-keyword">public</span> A { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">g</span><span class="hljs-params">()</span> </span>{} };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">public</span> B { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">h</span><span class="hljs-params">()</span> </span>{} };

C obj;
<span class="hljs-comment">// objå†…éƒ¨åªæœ‰ä¸€ä¸ªvptrï¼Œä½†æŒ‡å‘çš„vtableåŒ…å«A::f, B::g, C::hçš„æ¡ç›®</span>
</code></pre>
<p>åœ¨å¤šç»§æ‰¿çš„æƒ…å†µä¸‹ï¼Œæƒ…å†µæ›´å¤æ‚ï¼šå¯¹è±¡å¯èƒ½åŒ…å«å¤šä¸ªvptrï¼Œæ¯ä¸ªå¯¹åº”ä¸€ä¸ªå«æœ‰è™šå‡½æ•°çš„åŸºç±»ã€‚</p>
<h2 data-id="heading-5">è™šå‡½æ•°æŒ‡é’ˆå±äºç±»è¿˜æ˜¯å±äºå¯¹è±¡ï¼Ÿ</h2>
<p>å°å¼ çš„é—®é¢˜è¶Šæ¥è¶Šæ·±å…¥ï¼š<strong>è™šå‡½æ•°æŒ‡é’ˆå±äºç±»è¿˜æ˜¯å±äºå¯¹è±¡ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ç†è§£æ•´ä¸ªæœºåˆ¶çš„æ ¸å¿ƒã€‚æˆ‘ä»¬éœ€è¦æ˜ç¡®åŒºåˆ†ï¼š</p>
<p><strong>è™šå‡½æ•°æŒ‡é’ˆï¼ˆvptrï¼‰å±äºå¯¹è±¡</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªå¯¹è±¡å®ä¾‹éƒ½æœ‰è‡ªå·±çš„vptr</li>
<li>vptrçš„å€¼åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå†…å¯èƒ½æ”¹å˜ï¼ˆæ„é€ /ææ„æ—¶ï¼‰</li>
<li>vptræ˜¯å¯¹è±¡çš„â€œèº«ä»½æ ‡è¯†â€ï¼Œå†³å®šäº†è¿è¡Œæ—¶ç±»å‹</li>
</ul>
<p><strong>è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰å±äºç±»</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªvtableï¼Œè¢«è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«</li>
<li>vtableåœ¨ç¼–è¯‘æœŸç”Ÿæˆï¼Œå­˜åœ¨äºç¨‹åºçš„æ•°æ®æ®µ</li>
<li>vtableçš„å†…å®¹åœ¨è¿è¡Œæ—¶ä¸å˜</li>
</ul>
<p>è¿™ç§åˆ†ç¦»è®¾è®¡æ˜¯C++é™æ€ç±»å‹ç³»ç»Ÿå’ŒåŠ¨æ€å¤šæ€çš„æ¡¥æ¢ã€‚ç¼–è¯‘å™¨é€šè¿‡vtableåœ¨ç¼–è¯‘æœŸå»ºç«‹å‡½æ•°æ˜ å°„ï¼Œè¿è¡Œæ—¶é€šè¿‡vptré€‰æ‹©æ­£ç¡®çš„å‡½æ•°å®ç°ã€‚</p>
<h2 data-id="heading-6">ä¸ºä»€ä¹ˆæ„é€ /ææ„æœŸé—´è™šå‡½æ•°è¡Œä¸ºå—é™ï¼Ÿ</h2>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å›ç­”å°å¼ æœ€åˆçš„é—®é¢˜äº†ï¼š<strong>ä¸ºä»€ä¹ˆåœ¨æ„é€ /ææ„æœŸé—´è™šå‡½æ•°çš„å¤šæ€è¡Œä¸ºå—é™ï¼Ÿ</strong></p>
<p>è¿™èƒŒåæœ‰ä¸‰ä¸ªä¸»è¦åŸå› ï¼š</p>
<h3 data-id="heading-7">1. ç±»å‹å®‰å…¨çš„ä¿æŠ¤å±éšœ</h3>
<p>åœ¨å¯¹è±¡æ„é€ è¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡å¤„äºâ€œæ­£åœ¨æ„å»ºâ€çš„çŠ¶æ€ã€‚å¦‚æœå…è®¸åœ¨åŸºç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ï¼Œå¯èƒ½ä¼šè®¿é—®å°šæœªåˆå§‹åŒ–çš„æ´¾ç”Ÿç±»æˆå‘˜ï¼Œå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Base</span>() { 
        <span class="hljs-built_in">log</span>();  <span class="hljs-comment">// å®‰å…¨ï¼šè°ƒç”¨Base::log()</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">/* è®°å½•åŸºç±»ä¿¡æ¯ */</span> }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
    Data* data;  <span class="hljs-comment">// æ´¾ç”Ÿç±»ç‰¹æœ‰æˆå‘˜</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Derived</span>() : <span class="hljs-built_in">Base</span>(), <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Data</span>()) {}
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ 
        data-&gt;<span class="hljs-built_in">process</span>();  <span class="hljs-comment">// å±é™©ï¼æ­¤æ—¶dataå¯èƒ½å°šæœªåˆå§‹åŒ–</span>
    }
};
</code></pre>
<h3 data-id="heading-8">2. å¯¹è±¡çŠ¶æ€çš„æ¼”å˜è¿‡ç¨‹</h3>
<p>æ„é€ æ˜¯ä»åŸºç±»åˆ°æ´¾ç”Ÿç±»çš„â€œè‡ªä¸‹è€Œä¸Šâ€è¿‡ç¨‹ï¼Œææ„æ˜¯â€œè‡ªä¸Šè€Œä¸‹â€çš„é€†è¿‡ç¨‹ã€‚åœ¨è¿™ä¸¤ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡çš„ç±»å‹èº«ä»½æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼š</p>
<ul>
<li>æ„é€ æ—¶ï¼šBase â†’ Derivedï¼ˆvpträ»Baseçš„vtableå˜ä¸ºDerivedçš„vtableï¼‰</li>
<li>ææ„æ—¶ï¼šDerived â†’ Baseï¼ˆvpträ»Derivedçš„vtableå˜å›Baseçš„vtableï¼‰</li>
</ul>
<p>è¿™ç§å˜åŒ–ç¡®ä¿äº†åœ¨ä»»ä½•æ—¶åˆ»ï¼Œå¯¹è±¡çš„å½“å‰â€œæœ‰æ•ˆç±»å‹â€ä¸å·²æ„é€ çš„éƒ¨åˆ†ç›¸åŒ¹é…ã€‚</p>
<h3 data-id="heading-9">3. C++æ ‡å‡†çš„æ˜ç¡®è§„å®š</h3>
<p>C++æ ‡å‡†æ˜ç¡®è§„å®šäº†è¿™ä¸€è¡Œä¸ºï¼ˆISO/IEC 14882:2020 Â§15.7ï¼‰ï¼š</p>
<blockquote>
<p>â€œå½“ä»æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè¢«è°ƒç”¨çš„å‡½æ•°æ˜¯æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°æ‰€åœ¨ç±»çš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­è¦†ç›–çš„ç‰ˆæœ¬ã€‚â€</p>
</blockquote>
<p>è¿™ä¸æ˜¯ç¼–è¯‘å™¨çš„bugæˆ–é™åˆ¶ï¼Œè€Œæ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘çš„è¯­è¨€è®¾è®¡é€‰æ‹©ï¼Œæ—¨åœ¨æä¾›ç¡®å®šæ€§å’Œç±»å‹å®‰å…¨ã€‚</p>
<h2 data-id="heading-10">ä»å›°æƒ‘åˆ°ç†è§£</h2>
<p>å›é¡¾å°å¼ çš„è°ƒè¯•ä¹‹æ—…ï¼Œä»–ä»ä¸€ä¸ªå…·ä½“çš„å´©æºƒç°è±¡å‡ºå‘ï¼Œé€šè¿‡å±‚å±‚è¿½é—®ï¼Œæœ€ç»ˆç†è§£äº†C++å¤šæ€æœºåˆ¶çš„å®Œæ•´å›¾æ™¯ï¼š</p>
<ol>
<li><strong>æ—¶æœºé—®é¢˜</strong> â†’ ç†è§£æ„é€ /ææ„çš„é¡ºåºå’Œvptrçš„åˆå§‹åŒ–</li>
<li><strong>æ•°é‡é—®é¢˜</strong> â†’ åŒºåˆ†vptrï¼ˆæ¯ä¸ªå¯¹è±¡ï¼‰å’Œvtableï¼ˆæ¯ä¸ªç±»ï¼‰</li>
<li><strong>ç»§æ‰¿é—®é¢˜</strong> â†’ ç†æ¸…æ¥å£ç»§æ‰¿å’Œå®ç°è¦†ç›–çš„å…³ç³»</li>
<li><strong>å…³ç³»é—®é¢˜</strong> â†’ æ˜ç¡®æ´¾ç”Ÿç±»ä¸ç»§æ‰¿åŸºç±»vptr</li>
<li><strong>æ‰€æœ‰æƒé—®é¢˜</strong> â†’ åŒºåˆ†å¯¹è±¡çº§å’Œç±»çº§çš„ä¸åŒè´£ä»»</li>
<li><strong>è¡Œä¸ºé—®é¢˜</strong> â†’ ç†è§£ç±»å‹å®‰å…¨å’Œå¯¹è±¡çŠ¶æ€æ¼”å˜çš„å¿…è¦æ€§</li>
</ol>
<p>è¿™å…­ä¸ªé—®é¢˜æ°å¥½æ„æˆäº†ç†è§£C++è™šå‡½æ•°æœºåˆ¶çš„å®Œæ•´è®¤çŸ¥é“¾æ¡ã€‚æ¯ä¸ªé—®é¢˜éƒ½åƒæ‹¼å›¾çš„ä¸€å—ï¼Œæœ€ç»ˆæ‹¼å‡ºäº†å®Œæ•´çš„ç”»é¢ã€‚</p>
<h2 data-id="heading-11">å®‰å…¨ä½¿ç”¨è™šå‡½æ•°çš„å‡†åˆ™</h2>
<p>åŸºäºè¿™äº›ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºä¸€äº›æœ€ä½³å®è·µï¼š</p>
<ol>
<li><strong>é¿å…åœ¨æ„é€ /ææ„ä¸­è°ƒç”¨è™šå‡½æ•°</strong>ï¼šå¦‚æœå¿…é¡»è°ƒç”¨ï¼Œç¡®ä¿ç†è§£å…¶é™åˆ¶</li>
<li><strong>ä½¿ç”¨éè™šæ¥å£ï¼ˆNVIï¼‰æ¨¡å¼</strong>ï¼šå°†è™šå‡½æ•°è®¾ä¸ºprivateï¼Œé€šè¿‡publicéè™šå‡½æ•°è°ƒç”¨</li>
<li><strong>æ€»æ˜¯å£°æ˜è™šææ„å‡½æ•°</strong>ï¼šåœ¨å¤šæ€åŸºç±»ä¸­ï¼Œé¿å…èµ„æºæ³„æ¼</li>
<li><strong>ç†è§£å¯¹è±¡åˆ‡ç‰‡</strong>ï¼šæŒ‰å€¼ä¼ é€’å¤šæ€å¯¹è±¡æ—¶ä¼šä¸¢å¤±è™šå‡½æ•°ç‰¹æ€§</li>
<li><strong>è°¨æ…ä½¿ç”¨dynamic_cast</strong>ï¼šç†è§£RTTIçš„ä»£ä»·å’Œé€‚ç”¨åœºæ™¯</li>
</ol>
<h2 data-id="heading-12">æœ€å</h2>
<p>è™šå‡½æ•°æœºåˆ¶çš„é™åˆ¶ä¸æ˜¯C++çš„ç¼ºé™·ï¼Œè€Œæ˜¯å…¶å“²å­¦ç†å¿µçš„ä½“ç°ï¼šèµ‹äºˆç¨‹åºå‘˜æœ€å¤§è‡ªç”±çš„åŒæ—¶ï¼Œé€šè¿‡ç¼–è¯‘æœŸæ£€æŸ¥å’Œè¿è¡Œæ—¶ä¿æŠ¤é˜²æ­¢å¸¸è§é”™è¯¯ã€‚å®ƒå¹³è¡¡äº†æ•ˆç‡ä¸å®‰å…¨ã€çµæ´»æ€§ä¸ç¡®å®šæ€§ã€æŠ½è±¡èƒ½åŠ›ä¸å…·ä½“æ§åˆ¶ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ åœ¨æ„é€ å‡½æ•°ä¸­æ„å¤–å‘ç°è™šå‡½æ•°æ²¡æœ‰æŒ‰é¢„æœŸå·¥ä½œæ—¶ï¼Œä¸è¦æ„Ÿåˆ°å›°æƒ‘æˆ–æ²®ä¸§ã€‚è¿™æ­£æ˜¯C++åœ¨é»˜é»˜å®ˆæŠ¤ä½ ï¼Œé˜²æ­¢ä½ è¸å…¥æœªåˆå§‹åŒ–æ•°æ®çš„å±é™©é¢†åŸŸã€‚ç†è§£è¿™äº›æœºåˆ¶ï¼Œä½ å°±èƒ½æ›´å¥½åœ°é©¾é©­è¿™é—¨å¼ºå¤§è€Œå¤æ‚çš„è¯­è¨€ï¼Œå†™å‡ºæ—¢é«˜æ•ˆåˆå®‰å…¨çš„ä»£ç ã€‚</p>
<p>è™šå‡½æ•°çš„æ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼šåœ¨ç¼–ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™é™åˆ¶ä¸æ˜¯æŸç¼šï¼Œè€Œæ˜¯ä¿æŠ¤ï¼›ä¸æ˜¯bugï¼Œè€Œæ˜¯featureã€‚çœŸæ­£çš„æŒæ¡æ¥è‡ªäºç†è§£â€œä¸ºä»€ä¹ˆâ€è€Œä¸ä»…ä»…æ˜¯â€œæ€ä¹ˆæ ·â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ooder SkillFlowï¼šç ´è§£ AI ç¼–ç¨‹å†²å‡»ï¼Œé‡æ„ä¼ä¸šçº§å¼€å‘å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7593139476839923718</link>    <guid>https://juejin.cn/post/7593139476839923718</guid>    <pubDate>2026-01-09T08:37:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476839923718" data-draft-id="7593139476839907334" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ooder SkillFlowï¼šç ´è§£ AI ç¼–ç¨‹å†²å‡»ï¼Œé‡æ„ä¼ä¸šçº§å¼€å‘å…¨æµç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T08:37:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ooder SkillFlowï¼šç ´è§£ AI ç¼–ç¨‹å†²å‡»ï¼Œé‡æ„ä¼ä¸šçº§å¼€å‘å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:37:02.000Z" title="Fri Jan 09 2026 08:37:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨AIç¼–ç¨‹å·¥å…·æ™®åŠçš„å½“ä¸‹ï¼Œè½¯ä»¶ä¼ä¸šæ­£é¢ä¸´åŒé‡å›°å¢ƒï¼šä¸€æ–¹é¢ï¼ŒAIç”Ÿæˆèƒ½åŠ›ç¢ç‰‡åŒ–ï¼Œä»£ç ã€æµ‹è¯•ã€ä¼˜åŒ–å·¥å…·å„è‡ªä¸ºæˆ˜ï¼Œéš¾ä»¥å½¢æˆååŒåˆåŠ›ï¼›å¦ä¸€æ–¹é¢ï¼Œä¼ ç»Ÿå¼€å‘æµç¨‹çš„è·¨è§’è‰²åä½œå£å’ã€æµç¨‹èŠ‚ç‚¹å‰²è£‚ã€èƒ½åŠ›å¤ç”¨éš¾ç­‰é—®é¢˜è¢«æ”¾å¤§ï¼Œå¯¼è‡´å¼€å‘å‘¨æœŸå†—é•¿ã€è¿­ä»£æ•ˆç‡ä½ä¸‹ï¼ŒAIå·¥å…·çš„æ½œåŠ›éš¾ä»¥å……åˆ†é‡Šæ”¾ã€‚</p>
<p>åŸºäºAgentSkillæ¨¡å‹çš„SkillFlowï¼Œä»¥â€œæ™ºèƒ½ç¼–æ’+è‡ªåŠ¨æ‰§è¡Œ+äººæœºååŒâ€ä¸ºæ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œå½»åº•é‡æ„ä¼ä¸šçº§å¼€å‘æµç¨‹ï¼šå®ƒä»¥Skillï¼ˆæœ€å°å¼€å‘èƒ½åŠ›å•å…ƒï¼‰ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡MCPç»Ÿä¸€ç®¡æ§ã€Agenté©±åŠ¨æµè½¬ã€A2UIç²¾å‡†è¡¥ä½ï¼Œå°†â€œéœ€æ±‚å®šä¹‰-ä»£ç ç”Ÿæˆ-æµ‹è¯•ä¼˜åŒ–-äº¤ä»˜å‘å¸ƒâ€ä¸²è”æˆæ— ç¼è¡”æ¥çš„æ™ºèƒ½æµç¨‹ï¼Œæ—¢æ‰¿æ¥AIç¼–ç¨‹çš„é«˜æ•ˆèƒ½åŠ›ï¼Œåˆè§£å†³ä¼ ç»Ÿæµç¨‹çš„ååŒç—›ç‚¹ï¼Œå®ç°å¼€å‘å…¨é“¾è·¯çš„æ ‡å‡†åŒ–ã€é«˜æ•ˆåŒ–ä¸å¯å¤ç”¨ã€‚</p>
<p>ä»¥ä¸‹ç»“åˆOoderæ¡†æ¶çš„8æ­¥ç¼–ç æµç¨‹ï¼Œé‡æ„ä¸ºSkillFlowä¸ºä¸­å¿ƒçš„ä¼ä¸šçº§AIå¼€å‘æµç¨‹ï¼Œçªå‡ºå…¶è‡ªåŠ¨åŒ–ç¼–æ’ã€æ³¨è§£é©±åŠ¨å¤ç”¨ã€äººæœºååŒçš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œé€‚é…ä¼ä¸šçº§å¤§è§„æ¨¡å¼€å‘éœ€æ±‚ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒå®šä½ï¼šSkillFlowâ€”â€”è´¯ç©¿å¼€å‘å…¨æµç¨‹çš„æ™ºèƒ½ç¼–æ’ä¸­æ¢</h2>
<p>SkillFlowå¹¶éå­¤ç«‹çš„æµç¨‹ç¯èŠ‚ï¼Œè€Œæ˜¯æ·±åº¦èå…¥å¼€å‘å…¨é“¾è·¯çš„â€œæ™ºèƒ½å¤§è„‘â€ï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºâ€œè®©å¼€å‘èƒ½åŠ›æŒ‰ä¸šåŠ¡é€»è¾‘æµç•…æµè½¬â€ï¼Œå®ç°AIèƒ½åŠ›ä¸äººå·¥å†³ç­–çš„ç²¾å‡†ååŒï¼š</p>
<ul>
<li>åœºæ™¯åŒ–ä¸Šä¸‹æ–‡ç®¡æ§ï¼šä»¥â€œè½¯ä»¶å¼€å‘åœºæ™¯ï¼ˆSOFTWARE_DEVELOPMENTï¼‰â€ä¸ºæ ¸å¿ƒï¼ŒMCPæ„å»ºä¸“å±Contextï¼ˆDEV_CONTEXTï¼‰ï¼Œç»Ÿä¸€å­˜å‚¨éœ€æ±‚æ–‡æ¡£ã€ä»£ç ç‰ˆæœ¬ã€è§’è‰²æƒé™ã€æ¶æ„è§„èŒƒç­‰å…¨æµç¨‹æ•°æ®ï¼Œç¡®ä¿AIå·¥å…·ä¸äººå·¥æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ï¼›</li>
<li>è‡ªåŠ¨åŒ–æµç¨‹é©±åŠ¨ï¼šAgentä½œä¸ºâ€œå¼€å‘æµç¨‹æ‰§è¡Œå™¨â€ï¼Œé©±åŠ¨å„ç¯èŠ‚Skillè‡ªåŠ¨åŒ–æ‰§è¡Œï¼ˆå¦‚AIä»£ç ç”Ÿæˆã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ™ºèƒ½ä¼˜åŒ–ï¼‰ï¼Œé€šè¿‡Routeè§„åˆ™ç²¾å‡†æ§åˆ¶æµè½¬è·¯å¾„ï¼ˆå¦‚â€œå…ƒæ•°æ®å®šä¹‰â†’ä»£ç ç¼–å†™â†’è‡ªåŠ¨åŒ–æµ‹è¯•â†’äººå·¥è¯„å®¡â†’æ€§èƒ½ä¼˜åŒ–â€ï¼‰ï¼Œæ— éœ€äººå·¥æ‰‹åŠ¨è¡”æ¥ï¼›</li>
<li>ç²¾å‡†äººæœºååŒï¼šA2UIä½œä¸ºâ€œäººæœºååŒæ¥å£â€ï¼Œä»…åœ¨æ ¸å¿ƒå†³ç­–ç¯èŠ‚ï¼ˆå¦‚æ¶æ„ç¡®è®¤ã€è´¨é‡è¯„å®¡ï¼‰æ¥å…¥äººå·¥ï¼Œä¸”é€šè¿‡RightEngineç²¾å‡†ç®¡æ§è§’è‰²æƒé™ï¼ˆå¦‚æ¶æ„å¸ˆè´Ÿè´£æ¶æ„å®¡æ ¸ã€å¼€å‘äººå‘˜è´Ÿè´£ä»£ç æ ¡éªŒï¼‰ï¼Œé¿å…å†—ä½™å¹²é¢„ï¼›</li>
<li>å¯å¤ç”¨èƒ½åŠ›åŸå­ï¼šSkillä½œä¸ºâ€œå¼€å‘èƒ½åŠ›æœ€å°å•å…ƒâ€ï¼Œè¦†ç›–â€œå…ƒæ•°æ®ç”Ÿæˆã€ä»£ç ç¼–å†™ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–â€ç­‰å…¨æµç¨‹èƒ½åŠ›ï¼Œæ”¯æŒæ³¨è§£é©±åŠ¨å®šä¹‰ï¼Œå¯è·¨é¡¹ç›®ã€è·¨åœºæ™¯å¤ç”¨ã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼šä¼ ç»Ÿå¼€å‘æµç¨‹æ˜¯â€œç¯èŠ‚å­¤ç«‹ã€äººå·¥è¡”æ¥ã€AIå·¥å…·ç¢ç‰‡åŒ–â€ï¼ŒSkillFlowæµç¨‹æ˜¯â€œèƒ½åŠ›ä¸²è”ã€è‡ªåŠ¨æµè½¬ã€AI+äººå·¥ç²¾å‡†ååŒâ€ï¼Œé€šè¿‡æ ‡å‡†åŒ–ç¼–æ’è®©å¼€å‘æ•ˆç‡æå‡50%ä»¥ä¸Šï¼ŒåŒæ—¶ä¿éšœä»£ç è´¨é‡ä¸åˆè§„æ€§ã€‚</p>
<h2 data-id="heading-1">äºŒã€SkillFlowé©±åŠ¨çš„8æ­¥å¼€å‘æµç¨‹ï¼ˆAI+äººå·¥ååŒé—­ç¯ï¼‰</h2>
<h3 data-id="heading-2">æ­¥éª¤1ï¼šå…ƒæ•°æ®å®šä¹‰SkillFlowâ€”â€”AIè‡ªåŠ¨ç”Ÿæˆ+å®æ—¶éªŒè¯</h3>
<p>ç›®æ ‡ï¼šå¿«é€Ÿç”Ÿæˆæ ‡å‡†åŒ–å…ƒæ•°æ®ï¼Œå¥ å®šå¼€å‘åŸºç¡€ï¼Œé€šè¿‡AIè‡ªåŠ¨åŒ–ç”Ÿæˆ+å¼€å‘äººå‘˜å®æ—¶éªŒè¯ï¼Œç¡®ä¿å…ƒæ•°æ®ç¬¦åˆä¼ä¸šæ¶æ„è§„èŒƒï¼Œæ›¿ä»£ä¼ ç»Ÿâ€œå…ƒæ•°æ®æ–¹æ¡ˆåå¤æ²Ÿé€šâ€ã€‚</p>
<h4 data-id="heading-3">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šåˆå§‹åŒ–â€œè½¯ä»¶å¼€å‘åœºæ™¯ï¼ˆSOFTWARE_DEVELOPMENTï¼‰â€å’Œâ€œå¼€å‘æµç¨‹ä¸Šä¸‹æ–‡ï¼ˆDEV_CONTEXTï¼‰â€ï¼Œå­˜å‚¨é¡¹ç›®æ¶æ„è§„èŒƒã€æ¨¡å—åˆ’åˆ†ã€å‘½åè§„åˆ™ç­‰åŸºç¡€ä¿¡æ¯ï¼›</li>
<li>Agentï¼šå…ƒæ•°æ®ç”ŸæˆAgentï¼ˆå¤ç”¨ActivityBlockï¼Œæ— çŠ¶æ€è®¾è®¡ï¼ŒèŠ‚çœèµ„æºï¼‰ï¼Œè´Ÿè´£è°ƒç”¨ç›¸å…³Skillå¹¶æ§åˆ¶æµè½¬ï¼›</li>
<li>Skillï¼šMetadataGenerateSkillï¼ˆæ³¨è§£é©±åŠ¨ï¼Œç»‘å®šè½¯ä»¶å¼€å‘åœºæ™¯ï¼‰ï¼Œç”±å¤§æ¨¡å‹é©±åŠ¨ï¼Œæ ¹æ®MCPä¸­çš„æ¶æ„è§„èŒƒï¼Œè‡ªåŠ¨ç”Ÿæˆè§†å›¾å…ƒæ•°æ®ã€æ¨¡å—å…³è”å…³ç³»ä»£ç ï¼›</li>
<li>A2UIï¼šå…ƒæ•°æ®éªŒè¯A2UIï¼Œå¼€å‘äººå‘˜é€šè¿‡å¯è§†åŒ–ç•Œé¢å®æ—¶æ ¡éªŒå…ƒæ•°æ®ä¸æ¨¡å—çš„æ˜ å°„å…³ç³»ï¼Œåé¦ˆç»“æœç›´æ¥å†™å…¥Contextã€‚</li>
</ul>
<h4 data-id="heading-4">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>é¡¹ç›®ç®¡ç†äººå‘˜é€šè¿‡MCPæäº¤éœ€æ±‚ï¼ˆå¦‚â€œç”µå•†ç³»ç»Ÿè®¢å•æ¨¡å—å…ƒæ•°æ®å®šä¹‰â€ï¼‰ï¼Œæ˜ç¡®æ¨¡å—è¾¹ç•Œå’Œæ¶æ„è¦æ±‚ï¼›</li>
<li>MCPè§¦å‘å…ƒæ•°æ®ç”ŸæˆAgentï¼Œè°ƒç”¨MetadataGenerateSkillï¼ˆæ³¨è§£å®šä¹‰å¦‚ä¸‹ï¼‰ï¼Œå¤§æ¨¡å‹åŸºäºContextä¸­çš„è§„èŒƒè‡ªåŠ¨ç”Ÿæˆå…ƒæ•°æ®ä»£ç ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIå¯è§†åŒ–ç•Œé¢æŸ¥çœ‹ç”Ÿæˆç»“æœï¼Œç¡®è®¤å…ƒæ•°æ®ä¸æ¨¡å—åŒ¹é…æ— è¯¯åï¼Œç‚¹å‡»â€œéªŒè¯é€šè¿‡â€ï¼Œç»“æœåŒæ­¥è‡³MCPï¼›è‹¥éœ€ä¿®æ”¹ï¼Œç›´æ¥åœ¨ç•Œé¢æäº¤è°ƒæ•´éœ€æ±‚ï¼ŒAgentè§¦å‘Skillé‡æ–°ç”Ÿæˆï¼Œæ— éœ€åå¤æäº¤æ–‡æ¡£ã€‚</li>
</ol>
<h4 data-id="heading-5">ç¤ºä¾‹ï¼šå…ƒæ•°æ®å®šä¹‰Skillæ³¨è§£ï¼ˆå¯ç›´æ¥å¤ç”¨ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">@SkillAnnotation(
    <span class="hljs-attr">name</span> = <span class="hljs-string">"MetadataGenerateSkill"</span>,
    <span class="hljs-attr">description</span> = <span class="hljs-string">"è½¯ä»¶å¼€å‘åœºæ™¯å…ƒæ•°æ®ç”ŸæˆSkill"</span>,
    <span class="hljs-attr">scenes</span> = {Scene.SOFTWARE_DEVELOPMENT},
    <span class="hljs-attr">contexts</span> = {Context.DEV_CONTEXT},
    <span class="hljs-attr">version</span> = <span class="hljs-string">"1.0"</span>,
    <span class="hljs-attr">isCore</span> = <span class="hljs-literal">true</span>
)
public class MetadataGenerateSkillImpl implements MetadataGenerateSkill {
    @ContextAnnotation(<span class="hljs-attr">value</span> = Context.DEV_CONTEXT, required = <span class="hljs-literal">true</span>)
    private DevContext devContext<span class="hljs-comment">;</span>
    
    @Override
    public MetadataResult generate(MetadataRequest request) {
        // å¤§æ¨¡å‹é©±åŠ¨ï¼Œæ ¹æ®devContextä¸­çš„æ¶æ„è§„èŒƒç”Ÿæˆå…ƒæ•°æ®ä»£ç 
        String <span class="hljs-attr">metadataCode</span> = llmClient.generateMetadata(request, devContext.getArchitectureSpec())<span class="hljs-comment">;</span>
        return new MetadataResult(metadataCode, devContext.getModuleMapping())<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p>å¤åˆ¶</p>
<h3 data-id="heading-6">æ­¥éª¤2ï¼šé’©å­APIåˆ›å»ºSkillFlowâ€”â€”AIæ ‡å‡†åŒ–ç”Ÿæˆ+è‡ªåŠ¨ç»‘å®š</h3>
<p>ç›®æ ‡ï¼šç”Ÿæˆç¬¦åˆä¼ä¸šå®‰å…¨è§„èŒƒçš„é’©å­APIï¼Œè‡ªåŠ¨ç»‘å®šè§†å›¾ä¸URLï¼Œæ„å»ºé¡¹ç›®ç›®å½•ç»“æ„ï¼Œæ— éœ€äººå·¥æ‰‹åŠ¨é…ç½®ï¼Œé¿å…APIè®¾è®¡ä¸ç»Ÿä¸€ã€å®‰å…¨æ¼æ´ç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-7">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šåœ¨DEV_CONTEXTä¸­è¡¥å……APIè®¾è®¡è§„èŒƒã€å®‰å…¨è¦æ±‚ï¼ˆå¦‚é˜²æ³¨å…¥ã€æƒé™æ ¡éªŒï¼‰ã€é¡¹ç›®ç›®å½•æ¨¡æ¿ç­‰ä¿¡æ¯ï¼›</li>
<li>Agentï¼šAPIç”ŸæˆAgentï¼Œå¹¶è¡Œè°ƒç”¨â€œé’©å­APIç”ŸæˆSkillâ€å’Œâ€œé¡¹ç›®ç›®å½•æ„å»ºSkillâ€ï¼Œæå‡æ‰§è¡Œæ•ˆç‡ï¼›</li>
<li>Skillï¼šHookApiGenerateSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œç”Ÿæˆæ ‡å‡†åŒ–APIä»£ç ï¼‰ã€ProjectStructureSkillï¼ˆè”åŠ¨RADå·¥å…·ï¼Œè‡ªåŠ¨æ„å»ºé¡¹ç›®ç›®å½•ï¼‰ï¼›</li>
<li>A2UIï¼šAPIæ ¡éªŒA2UIï¼Œæ¶æ„å¸ˆé€šè¿‡ç•Œé¢å®¡æ ¸APIçš„å…¼å®¹æ€§ã€å®‰å…¨æ€§ï¼Œç¡®è®¤åè§¦å‘RADå›¾å½¢ç¼–è¯‘ã€‚</li>
</ul>
<h4 data-id="heading-8">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentæ¥æ”¶MCPæŒ‡ä»¤ï¼Œå¹¶è¡Œè°ƒç”¨HookApiGenerateSkillå’ŒProjectStructureSkillï¼Œé¿å…ä¸²è¡Œç­‰å¾…ï¼›</li>
<li>HookApiGenerateSkillæ ¹æ®Contextä¸­çš„å®‰å…¨è§„èŒƒï¼Œè‡ªåŠ¨ç”Ÿæˆå«é˜²æ³¨å…¥ã€æƒé™æ ¡éªŒçš„é’©å­APIä»£ç ï¼Œæ— éœ€äººå·¥ç¼–å†™é‡å¤é€»è¾‘ï¼›</li>
<li>ProjectStructureSkillè”åŠ¨RADå·¥å…·ï¼ŒæŒ‰ä¼ä¸šæ ‡å‡†æ¨¡æ¿è‡ªåŠ¨æ„å»ºç›®å½•å’Œèœå•ï¼Œç¡®ä¿é¡¹ç›®ç»“æ„ç»Ÿä¸€ï¼›</li>
<li>æ¶æ„å¸ˆé€šè¿‡A2UIå¿«é€Ÿå®¡æ ¸APIä»£ç ï¼Œç¡®è®¤æ— è¯¯åSkillFlowè‡ªåŠ¨æµè½¬è‡³åŸå‹è®¾è®¡é˜¶æ®µï¼Œæ— éœ€äººå·¥æäº¤æµè½¬ç”³è¯·ã€‚</li>
</ol>
<h3 data-id="heading-9">æ­¥éª¤3ï¼šåŸå‹è®¾è®¡SkillFlowâ€”â€”AIå¯è§†åŒ–ç”Ÿæˆ+éœ€æ±‚å®æ—¶äº¤äº’</h3>
<p>ç›®æ ‡ï¼šå¿«é€Ÿæ„å»ºé«˜ä¿çœŸåŸå‹ï¼ŒåŒæ­¥æ”¶é›†å®¢æˆ·ã€ä¸šåŠ¡äººå‘˜åé¦ˆï¼Œç¡®ä¿éœ€æ±‚ç²¾å‡†è½åœ°ï¼Œå‡å°‘åç»­è¿”å·¥ã€‚</p>
<h4 data-id="heading-10">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨éœ€æ±‚æ–‡æ¡£ã€å®¢æˆ·åé¦ˆè®°å½•ã€UIè®¾è®¡è§„èŒƒç­‰æ•°æ®ï¼›</li>
<li>Agentï¼šåŸå‹è®¾è®¡Agentï¼Œè°ƒç”¨â€œåŸå‹ç”ŸæˆSkillâ€ï¼Œè”åŠ¨A2UIå®ç°éœ€æ±‚å®æ—¶äº¤äº’ï¼›</li>
<li>Skillï¼šPrototypeGenerateSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œæ ¹æ®éœ€æ±‚ç”ŸæˆReact/Flutteré€‚é…çš„å¯è§†åŒ–åŸå‹ï¼‰ï¼›</li>
<li>A2UIï¼šåŸå‹äº¤äº’A2UIï¼Œä¸šåŠ¡äººå‘˜ã€å®¢æˆ·é€šè¿‡ç•Œé¢æŸ¥çœ‹åŸå‹ã€åœ¨çº¿æ ‡æ³¨ä¿®æ”¹æ„è§ï¼Œåé¦ˆæ•°æ®å®æ—¶å†™å…¥Contextã€‚</li>
</ul>
<h4 data-id="heading-11">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>ä¸šåŠ¡äººå‘˜é€šè¿‡MCPæäº¤éœ€æ±‚ç»†èŠ‚ï¼ˆå¦‚â€œè®¢å•æ”¯ä»˜é¡µé¢åŸå‹è¦æ±‚ï¼šç®€æ´ã€æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼â€ï¼‰ï¼›</li>
<li>Agentè°ƒç”¨PrototypeGenerateSkillï¼Œ10åˆ†é’Ÿå†…ç”Ÿæˆé«˜ä¿çœŸåŸå‹è®¾è®¡ç¨¿ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆï¼›</li>
<li>å®¢æˆ·é€šè¿‡A2UIæŸ¥çœ‹åŸå‹ï¼Œåœ¨çº¿æ ‡æ³¨ä¿®æ”¹æ„è§ï¼ˆå¦‚â€œæŒ‰é’®ä½ç½®è°ƒæ•´â€â€œå¢åŠ ä¼˜æƒ åˆ¸å…¥å£â€ï¼‰ï¼Œåé¦ˆè‡ªåŠ¨åŒæ­¥è‡³MCPï¼›</li>
<li>Agentæ ¹æ®åé¦ˆè§¦å‘Skillè¿­ä»£åŸå‹ï¼Œç›´è‡³éœ€æ±‚ç¡®è®¤ï¼Œè‡ªåŠ¨æµè½¬è‡³ä»“å‚¨å±‚å¼€å‘ï¼Œæ— éœ€äººå·¥æ±‡æ€»åé¦ˆã€é‡æ–°å‘èµ·è®¾è®¡ã€‚</li>
</ol>
<h3 data-id="heading-12">æ­¥éª¤4ï¼šä»“å‚¨å±‚å¼€å‘SkillFlowâ€”â€”AIè‡ªåŠ¨åŒ–ç¼–ç +å•å…ƒæµ‹è¯•</h3>
<p>ç›®æ ‡ï¼šç”Ÿæˆé«˜è´¨é‡ä»“å‚¨å±‚ä»£ç ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ç¡®ä¿æ•°æ®è®¿é—®é€»è¾‘åˆè§„ã€æ— Bugï¼Œå‡å°‘äººå·¥ç¼–ç å’Œæµ‹è¯•æˆæœ¬ã€‚</p>
<h4 data-id="heading-13">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šåœ¨DEV_CONTEXTä¸­å­˜å‚¨æ•°æ®æºä¿¡æ¯ã€æ•°æ®è®¿é—®è§„èŒƒã€æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿ï¼›</li>
<li>Agentï¼šä»“å‚¨å±‚å¼€å‘Agentï¼Œè°ƒç”¨â€œä»“å‚¨å±‚ä»£ç ç”ŸæˆSkillâ€å’Œâ€œå•å…ƒæµ‹è¯•Skillâ€ï¼›</li>
<li>Skillï¼šRepositoryCodeSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œç”ŸæˆDAOå±‚ã€æœåŠ¡å®ç°ä»£ç ï¼‰ã€UnitTestSkillï¼ˆè‡ªåŠ¨åŒ–ç”Ÿæˆå•æµ‹ç”¨ä¾‹å¹¶æ‰§è¡Œï¼‰ï¼›</li>
<li>A2UIï¼šä»£ç è¯„å®¡A2UIï¼Œå¼€å‘äººå‘˜æŸ¥çœ‹AIç”Ÿæˆçš„ä»£ç å’Œæµ‹è¯•æŠ¥å‘Šï¼Œç¡®è®¤åæµè½¬è‡³å±‚é—´æ•´åˆã€‚</li>
</ul>
<h4 data-id="heading-14">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè§¦å‘RepositoryCodeSkillï¼ŒåŸºäºContextä¸­çš„æ•°æ®æºä¿¡æ¯ï¼ˆå¦‚æ•°æ®åº“ç±»å‹ã€è¡¨ç»“æ„ï¼‰ç”Ÿæˆæ ‡å‡†åŒ–ä»“å‚¨å±‚ä»£ç ï¼Œç¬¦åˆä¼ä¸šç¼–ç è§„èŒƒï¼›</li>
<li>è‡ªåŠ¨è°ƒç”¨UnitTestSkillï¼Œç”Ÿæˆå•æµ‹ç”¨ä¾‹å¹¶æ‰§è¡Œï¼Œè¾“å‡ºæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼ˆè¦æ±‚â‰¥80%ï¼‰ï¼Œè‡ªåŠ¨æ ‡è®°æœªè¦†ç›–åœºæ™¯ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIæŸ¥çœ‹ä»£ç å’Œæµ‹è¯•æŠ¥å‘Šï¼Œèšç„¦æ ¸å¿ƒä¸šåŠ¡é€»è¾‘è¯„å®¡ï¼Œç¡®è®¤æ— é—®é¢˜åSkillFlowè‡ªåŠ¨æµè½¬è‡³ä¸‹ä¸€æ­¥ï¼›è‹¥æµ‹è¯•ä¸é€šè¿‡ï¼ŒAgentè§¦å‘Skillè‡ªåŠ¨ä¿®å¤ä»£ç ï¼Œæ— éœ€äººå·¥é‡æ–°ç¼–å†™ã€‚</li>
</ol>
<h3 data-id="heading-15">æ­¥éª¤5ï¼šå±‚é—´æ•´åˆSkillFlowâ€”â€”AIè‡ªåŠ¨åŒ–æ•´åˆ+ä¾èµ–æ ¡éªŒ</h3>
<p>ç›®æ ‡ï¼šè‡ªåŠ¨æ•´åˆè§†å›¾å±‚ã€èšåˆå±‚ã€ä»“å‚¨å±‚ä»£ç ï¼Œç¡®ä¿å„å±‚ä¾èµ–å…³ç³»æ¸…æ™°ã€æ— å†²çªï¼Œæ›¿ä»£ä¼ ç»Ÿâ€œäººå·¥æ•´åˆã€åå¤æ’é”™â€ã€‚</p>
<h4 data-id="heading-16">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨å„å±‚ä»£ç ç‰ˆæœ¬ã€ä¾èµ–å…³ç³»æ¸…å•ã€æ•´åˆè§„èŒƒï¼›</li>
<li>Agentï¼šå±‚é—´æ•´åˆAgentï¼Œè°ƒç”¨â€œå±‚é—´æ•´åˆSkillâ€å’Œâ€œä¾èµ–æ ¡éªŒSkillâ€ï¼›</li>
<li>Skillï¼šLayerIntegrationSkillï¼ˆè‡ªåŠ¨æ•´åˆå„å±‚ä»£ç ï¼Œå¤„ç†ä¾èµ–æ³¨å…¥ï¼‰ã€DependencyCheckSkillï¼ˆæ ¡éªŒä¾èµ–å†²çªã€ç‰ˆæœ¬å…¼å®¹ï¼‰ï¼›</li>
<li>A2UIï¼šæ•´åˆéªŒè¯A2UIï¼Œå¼€å‘äººå‘˜äººå·¥éªŒè¯å±‚é—´ç»‘å®šå…³ç³»å’ŒåŠŸèƒ½å®Œæ•´æ€§ã€‚</li>
</ul>
<h4 data-id="heading-17">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè°ƒç”¨LayerIntegrationSkillï¼Œè‡ªåŠ¨æ•´åˆå„å±‚ä»£ç ï¼Œç”Ÿæˆç»Ÿä¸€é…ç½®æ–‡ä»¶ï¼Œå¤„ç†ä¾èµ–æ³¨å…¥ã€æ¥å£è°ƒç”¨ç­‰é—®é¢˜ï¼›</li>
<li>DependencyCheckSkillè‡ªåŠ¨æ ¡éªŒä¾èµ–å†²çªï¼ˆå¦‚JaråŒ…ç‰ˆæœ¬ä¸å…¼å®¹ï¼‰ï¼Œè¾“å‡ºå†²çªæŠ¥å‘Šå¹¶è‡ªåŠ¨ä¿®å¤å¸¸è§„é—®é¢˜ï¼ˆå¦‚ç‰ˆæœ¬é€‚é…ï¼‰ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIéªŒè¯æ•´åˆåçš„æ ¸å¿ƒåŠŸèƒ½ç‚¹ï¼ˆå¦‚æ•°æ®æµè½¬æ˜¯å¦æ­£å¸¸ï¼‰ï¼Œç¡®è®¤æ— è¯¯åæµè½¬è‡³é¡µé¢åŠŸèƒ½å•æµ‹ï¼Œæ— éœ€äººå·¥é€è¡Œæ’æŸ¥ä¾èµ–é—®é¢˜ã€‚</li>
</ol>
<h3 data-id="heading-18">æ­¥éª¤6ï¼šé¡µé¢åŠŸèƒ½å•æµ‹SkillFlowâ€”â€”AIæ‰¹é‡è‡ªåŠ¨åŒ–æµ‹è¯•</h3>
<p>ç›®æ ‡ï¼šæ‰¹é‡è¦†ç›–æ‰€æœ‰é¡µé¢åŠŸèƒ½ï¼Œç¡®ä¿äº¤äº’é€»è¾‘å®Œæ•´ã€æ— å¼‚å¸¸ï¼Œæ›¿ä»£ä¼ ç»Ÿâ€œäººå·¥ç¼–å†™æµ‹è¯•è„šæœ¬ã€é€é¡µé¢æµ‹è¯•â€ã€‚</p>
<h4 data-id="heading-19">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨é¡µé¢åŠŸèƒ½æ¸…å•ã€æµ‹è¯•è§„èŒƒï¼ˆå¦‚äº¤äº’é€»è¾‘è¦æ±‚ã€å¼‚å¸¸åœºæ™¯å®šä¹‰ï¼‰ï¼›</li>
<li>Agentï¼šè‡ªåŠ¨åŒ–æµ‹è¯•Agentï¼Œè°ƒç”¨â€œé¡µé¢å•æµ‹Skillâ€ï¼Œæ”¯æŒæ‰¹é‡æ‰§è¡Œï¼›</li>
<li>Skillï¼šPageTestSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œæ‰¹é‡ç”Ÿæˆæµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œé¡µé¢å®Œæ•´æ€§ã€äº¤äº’é€»è¾‘æµ‹è¯•ï¼‰ï¼›</li>
<li>A2UIï¼šæµ‹è¯•ç»“æœè¯„å®¡A2UIï¼Œå¼€å‘äººå‘˜æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Šï¼Œå¤„ç†å¼‚å¸¸é—®é¢˜ã€‚</li>
</ul>
<h4 data-id="heading-20">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè§¦å‘PageTestSkillï¼Œæ‰¹é‡å¯¹æ‰€æœ‰é¡µé¢æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»ã€è¡¨å•æäº¤ã€æ•°æ®å±•ç¤ºã€å¼‚å¸¸åœºæ™¯æ¨¡æ‹Ÿï¼‰ï¼›</li>
<li>æµ‹è¯•å®Œæˆåï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…å«â€œé€šè¿‡ç”¨ä¾‹ã€å¤±è´¥ç”¨ä¾‹ã€å¼‚å¸¸æ—¥å¿—â€çš„æµ‹è¯•æŠ¥å‘Šï¼Œå†™å…¥Contextï¼Œæ¸…æ™°æ ‡è®°é—®é¢˜ä½ç½®ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIæŸ¥çœ‹æŠ¥å‘Šï¼Œé’ˆå¯¹æ€§ä¿®å¤å¤±è´¥ç”¨ä¾‹ï¼Œä¿®å¤å®Œæˆåä¸€é”®é‡æ–°è§¦å‘æµ‹è¯•ï¼Œç›´è‡³å…¨éƒ¨é€šè¿‡ï¼Œæ— éœ€äººå·¥é‡å¤æ‰§è¡Œæµ‹è¯•ã€‚</li>
</ol>
<h3 data-id="heading-21">æ­¥éª¤7ï¼šèšåˆå±‚ä¼˜åŒ–SkillFlowâ€”â€”AIæ™ºèƒ½ä¼˜åŒ–+æ€§èƒ½æµ‹è¯•</h3>
<p>ç›®æ ‡ï¼šæå‡èšåˆå±‚æ€§èƒ½ï¼Œæ»¡è¶³ä¼ä¸šçº§é«˜å¹¶å‘ã€å¤§æ•°æ®é‡å¤„ç†éœ€æ±‚ï¼Œé¿å…ä¸Šçº¿åå‡ºç°æ€§èƒ½ç“¶é¢ˆã€‚</p>
<h4 data-id="heading-22">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨æ€§èƒ½æŒ‡æ ‡è¦æ±‚ï¼ˆå¦‚å“åº”æ—¶é—´â‰¤2ç§’ã€å¹¶å‘æ”¯æŒ1000+ç”¨æˆ·ï¼‰ã€é«˜å¹¶å‘åœºæ™¯é…ç½®ï¼›</li>
<li>Agentï¼šæ€§èƒ½ä¼˜åŒ–Agentï¼Œè°ƒç”¨â€œèšåˆå±‚ä¼˜åŒ–Skillâ€å’Œâ€œæ€§èƒ½æµ‹è¯•Skillâ€ï¼›</li>
<li>Skillï¼šAggLayerOptimizeSkillï¼ˆå¤§æ¨¡å‹è¾“å‡ºä¼˜åŒ–æ–¹æ¡ˆï¼Œè‡ªåŠ¨è°ƒæ•´ä»£ç ï¼‰ã€PerformanceTestSkillï¼ˆæ¨¡æ‹Ÿé«˜å¹¶å‘åœºæ™¯ï¼Œæµ‹è¯•ä¼˜åŒ–æ•ˆæœï¼‰ï¼›</li>
<li>A2UIï¼šä¼˜åŒ–ç»“æœç¡®è®¤A2UIï¼Œå¼€å‘äººå‘˜å®¡æ ¸ä¼˜åŒ–æ–¹æ¡ˆå’Œæ€§èƒ½æŠ¥å‘Šã€‚</li>
</ul>
<h4 data-id="heading-23">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè°ƒç”¨AggLayerOptimizeSkillï¼Œå¤§æ¨¡å‹åŸºäºContextä¸­çš„æ€§èƒ½è¦æ±‚ï¼Œè‡ªåŠ¨è¾“å‡ºä¼˜åŒ–æ–¹æ¡ˆï¼ˆå¦‚ç¼“å­˜ç­–ç•¥è°ƒæ•´ã€SQLä¼˜åŒ–ã€ç®—æ³•ä¼˜åŒ–ï¼‰å¹¶æ‰§è¡Œä»£ç ä¿®æ”¹ï¼›</li>
<li>PerformanceTestSkillæ¨¡æ‹Ÿé«˜å¹¶å‘åœºæ™¯ï¼ˆå¦‚1000ç”¨æˆ·åŒæ—¶è®¿é—®ã€å¤§æ•°æ®é‡æŸ¥è¯¢ï¼‰ï¼Œæµ‹è¯•ä¼˜åŒ–å‰åçš„å“åº”æ—¶é—´ã€ååé‡ã€èµ„æºå ç”¨æƒ…å†µï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIæŸ¥çœ‹ä¼˜åŒ–æ•ˆæœæŠ¥å‘Šï¼Œç¡®è®¤æ»¡è¶³æ€§èƒ½è¦æ±‚åï¼Œæµè½¬è‡³äº¤ä»˜å‘å¸ƒï¼›è‹¥æœªè¾¾æ ‡ï¼ŒAgentè§¦å‘Skillå†æ¬¡ä¼˜åŒ–ï¼Œç›´è‡³ç¬¦åˆæ ‡å‡†ã€‚</li>
</ol>
<h3 data-id="heading-24">æ­¥éª¤8ï¼šäº¤ä»˜å‘å¸ƒSkillFlowâ€”â€”AIè‡ªåŠ¨åŒ–å½’æ¡£+èµ„æºæ¸…ç†</h3>
<p>ç›®æ ‡ï¼šå®Œæˆä»£ç å‘å¸ƒã€æ–‡æ¡£å½’æ¡£ã€å†—ä½™èµ„æºæ¸…ç†ï¼Œç¡®ä¿äº¤ä»˜åˆè§„ã€ç¯å¢ƒæ•´æ´ï¼Œé™ä½è¿ç»´æˆæœ¬ã€‚</p>
<h4 data-id="heading-25">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨å‘å¸ƒç¯å¢ƒé…ç½®ï¼ˆå¦‚æœåŠ¡å™¨åœ°å€ã€éƒ¨ç½²è§„åˆ™ï¼‰ã€æ–‡æ¡£å½’æ¡£è¦æ±‚ï¼›</li>
<li>Agentï¼šäº¤ä»˜å‘å¸ƒAgentï¼Œè°ƒç”¨â€œæ–‡æ¡£å½’æ¡£Skillâ€å’Œâ€œèµ„æºæ¸…ç†Skillâ€ï¼›</li>
<li>Skillï¼šDocumentArchiveSkillï¼ˆè‡ªåŠ¨å½’æ¡£éœ€æ±‚æ–‡æ¡£ã€æµ‹è¯•æŠ¥å‘Šã€ä»£ç ç‰ˆæœ¬ã€ä¼˜åŒ–æ–¹æ¡ˆï¼‰ã€ResourceCleanSkillï¼ˆæ¸…ç†å¤§æ¨¡å‹ä¸Šä¸‹æ–‡ã€å†—ä½™æµ‹è¯•æ•°æ®ã€ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼›</li>
<li>A2UIï¼šå‘å¸ƒç¡®è®¤A2UIï¼Œè¿ç»´äººå‘˜å®¡æ ¸å‘å¸ƒé…ç½®ï¼Œè§¦å‘å‘å¸ƒæµç¨‹ã€‚</li>
</ul>
<h4 data-id="heading-26">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè°ƒç”¨DocumentArchiveSkillï¼ŒæŒ‰ä¼ä¸šè§„èŒƒè‡ªåŠ¨å½’æ¡£æ‰€æœ‰äº¤ä»˜ç‰©ï¼Œç”Ÿæˆäº¤ä»˜æ¸…å•ï¼Œæ”¯æŒåç»­è¿½æº¯ï¼›</li>
<li>ResourceCleanSkillè‡ªåŠ¨æ¸…ç†é¡¹ç›®ç›¸å…³çš„å†—ä½™èµ„æºï¼ˆå¦‚æµ‹è¯•æ•°æ®ã€ä¸´æ—¶æ–‡ä»¶ã€å¤§æ¨¡å‹ç¼“å­˜ï¼‰ï¼Œé‡Šæ”¾æœåŠ¡å™¨å†…å­˜ï¼›</li>
<li>è¿ç»´äººå‘˜é€šè¿‡A2UIç¡®è®¤å‘å¸ƒç¯å¢ƒé…ç½®ï¼ˆå¦‚ç›®æ ‡æœåŠ¡å™¨ã€ç‰ˆæœ¬å·ï¼‰ï¼Œç‚¹å‡»â€œå‘å¸ƒâ€ï¼Œç³»ç»Ÿè‡ªåŠ¨éƒ¨ç½²ä»£ç ï¼›</li>
<li>å‘å¸ƒå®Œæˆåï¼ŒMCPæ›´æ–°æµç¨‹çŠ¶æ€ä¸ºâ€œå·²äº¤ä»˜â€ï¼ŒSkillFlowé—­ç¯ï¼Œå…¨ç¨‹æ— éœ€äººå·¥æ‰‹åŠ¨å½’æ¡£ã€æ¸…ç†ã€‚</li>
</ol>
<h2 data-id="heading-27">ä¸‰ã€SkillFlowé©±åŠ¨å¼€å‘æµç¨‹çš„æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-28">1. è‡ªåŠ¨åŒ–æµè½¬ï¼Œæ•ˆç‡å€å¢</h3>
<ul>
<li>80%çš„é‡å¤æ€§å·¥ä½œï¼ˆä»£ç ç”Ÿæˆã€æµ‹è¯•ã€æ•´åˆã€å½’æ¡£ï¼‰ç”±Skillè‡ªåŠ¨åŒ–æ‰§è¡Œï¼Œäººå·¥ä»…èšç„¦æ ¸å¿ƒå†³ç­–ï¼ˆå¦‚æ¶æ„å®¡æ ¸ã€å¼‚å¸¸å¤„ç†ï¼‰ï¼Œå‡å°‘æ— æ•ˆåŠ³åŠ¨ï¼›</li>
<li>å„ç¯èŠ‚é€šè¿‡Agentå’ŒRouteè§„åˆ™å®æ—¶æµè½¬ï¼Œæ— éœ€äººå·¥æäº¤æµè½¬ç”³è¯·ã€æ±‡æ€»æ•°æ®ï¼Œå¼€å‘å‘¨æœŸç¼©çŸ­30%ä»¥ä¸Šï¼Œå°å‹é¡¹ç›®äº¤ä»˜å‘¨æœŸä»å‘¨çº§å‹ç¼©è‡³æ—¥çº§ã€‚</li>
</ul>
<h3 data-id="heading-29">2. æ³¨è§£é©±åŠ¨ï¼Œèƒ½åŠ›å¤ç”¨</h3>
<ul>
<li>æ‰€æœ‰Skillé€šè¿‡@SkillAnnotationç»‘å®šè½¯ä»¶å¼€å‘åœºæ™¯å’Œä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè·¨é¡¹ç›®ã€è·¨å›¢é˜Ÿå¤ç”¨ï¼ˆå¦‚MetadataGenerateSkillå¯ç›´æ¥ç”¨äºç”µå•†ã€é‡‘èã€æ”¿åŠ¡ç­‰ä¸åŒç³»ç»Ÿï¼‰ï¼›</li>
<li>ä»£ç ä¸é…ç½®ä¸€ä½“åŒ–ï¼Œæ–°å¢å¼€å‘èƒ½åŠ›åªéœ€æ–°å¢Skillå¹¶æ·»åŠ æ³¨è§£ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒæµç¨‹ï¼Œæ‰©å±•æ€§æå¼ºï¼Œæ–°ä¸šåŠ¡åœºæ™¯è½åœ°æ•ˆç‡æå‡60%ã€‚</li>
</ul>
<h3 data-id="heading-30">3. äººæœºååŒï¼Œç²¾å‡†é«˜æ•ˆ</h3>
<ul>
<li>A2UIä»…åœ¨æ ¸å¿ƒå†³ç­–ç¯èŠ‚æ¥å…¥äººå·¥ï¼Œé¿å…å†—ä½™å¹²é¢„ï¼ŒåŒæ—¶é€šè¿‡RightEngineç®¡æ§è§’è‰²æƒé™ï¼Œç¡®ä¿â€œè°è´Ÿè´£ã€è°å®¡æ‰¹â€ï¼Œé¿å…è§’è‰²è¶Šæƒï¼›</li>
<li>äººå·¥åé¦ˆå®æ—¶å†™å…¥Contextï¼ŒAgentå³æ—¶è§¦å‘åç»­æµç¨‹ï¼ˆå¦‚åé¦ˆä¿®æ”¹æ„è§â†’AIè‡ªåŠ¨è¿­ä»£ï¼‰ï¼Œæ— ç­‰å¾…å»¶è¿Ÿï¼ŒååŒæ•ˆç‡æå‡50%ã€‚</li>
</ul>
<h3 data-id="heading-31">4. å…¨æµç¨‹å¯è¿½æº¯ï¼Œåˆè§„æ€§æ‹‰æ»¡</h3>
<ul>
<li>MCPç»Ÿä¸€ç®¡ç†Contextï¼Œå­˜å‚¨å…¨æµç¨‹æ•°æ®ï¼ˆéœ€æ±‚æ–‡æ¡£ã€ä»£ç ç‰ˆæœ¬ã€æµ‹è¯•æŠ¥å‘Šã€äººå·¥åé¦ˆã€ä¼˜åŒ–è®°å½•ï¼‰ï¼›</li>
<li>SkillHistoryã€A2UIHistoryè‡ªåŠ¨è®°å½•å„ç¯èŠ‚æ‰§è¡Œæƒ…å†µï¼ˆå¦‚è°è¯„å®¡ã€ä½•æ—¶é€šè¿‡ã€ä¿®æ”¹å†…å®¹ï¼‰ï¼Œæ”¯æŒå®¡è®¡å’Œå›æº¯ï¼Œå®Œå…¨æ»¡è¶³ä¼ä¸šçº§åˆè§„è¦æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-32">5. è½»é‡åŒ–éƒ¨ç½²ï¼Œèµ„æºå¯æ§</h3>
<ul>
<li>Agenté‡‡ç”¨æ— çŠ¶æ€è®¾è®¡ï¼ˆå¤ç”¨ActivityBlockï¼‰ï¼Œæ— éœ€ç‹¬ç«‹è¿›ç¨‹ï¼Œå…±äº«æœåŠ¡å™¨èµ„æºï¼Œéƒ¨ç½²æˆæœ¬é™ä½40%ï¼›</li>
<li>å¤§æ–‡æœ¬æ•°æ®ï¼ˆå¦‚æµ‹è¯•æŠ¥å‘Šã€ä»£ç æ–‡ä»¶ï¼‰é€šè¿‡VFSå­˜å‚¨ï¼Œä»…åœ¨æ•°æ®åº“ä¿å­˜URLï¼Œå‡è½»æ•°æ®åº“å‹åŠ›ï¼›</li>
<li>æŒ‰éœ€éƒ¨ç½²Skillï¼Œä¸åŒé¡¹ç›®å¯å¤ç”¨æ ¸å¿ƒSkillï¼Œæ— éœ€é‡å¤éƒ¨ç½²ï¼Œèµ„æºåˆ©ç”¨ç‡æå‡30%ã€‚</li>
</ul>
<h2 data-id="heading-33">å››ã€æ€»ç»“</h2>
<p>é¢å¯¹AIç¼–ç¨‹çš„å†²å‡»ä¸ä¼ ç»Ÿå¼€å‘æµç¨‹çš„ç—›ç‚¹ï¼ŒSkillFlowå¹¶éç®€å•â€œæ›¿ä»£äººå·¥â€ï¼Œè€Œæ˜¯é€šè¿‡â€œMCPç»Ÿä¸€ç®¡æ§+Agentè‡ªåŠ¨æµè½¬+Skillèƒ½åŠ›å¤ç”¨+A2UIç²¾å‡†ååŒâ€ï¼Œæ„å»ºäº†â€œAIåšæ‰§è¡Œã€äººåšå†³ç­–â€çš„æ™ºèƒ½å¼€å‘é—­ç¯ã€‚</p>
<p>è¿™å¥—æµç¨‹æ—¢å……åˆ†å‘æŒ¥äº†AIç¼–ç¨‹çš„é«˜æ•ˆæ€§ï¼ˆè‡ªåŠ¨åŒ–ç”Ÿæˆã€æµ‹è¯•ã€ä¼˜åŒ–ï¼‰ï¼Œåˆè§£å†³äº†ä¼ ç»Ÿæµç¨‹çš„ååŒå‰²è£‚é—®é¢˜ï¼Œè®©å¼€å‘å…¨é“¾è·¯æ ‡å‡†åŒ–ã€å¯å¤ç”¨ã€å¯è¿½æº¯ã€‚æ— è®ºæ˜¯å¤§å‹ä¼ä¸šçš„å¤§è§„æ¨¡å¼€å‘ï¼ˆå¦‚å¤šæ¨¡å—ç³»ç»Ÿã€é«˜å¹¶å‘å¹³å°ï¼‰ï¼Œè¿˜æ˜¯ä¸­å°å›¢é˜Ÿçš„å¿«é€Ÿè¿­ä»£ï¼ˆå¦‚åˆ›ä¸šé¡¹ç›®ã€å°å‹å·¥å…·ï¼‰ï¼ŒSkillFlowéƒ½èƒ½é€‚é…éœ€æ±‚ï¼Œæ—¢æå‡å¼€å‘æ•ˆç‡ï¼Œåˆä¿éšœä»£ç è´¨é‡ä¸åˆè§„æ€§ã€‚</p>
<p>æœªæ¥ï¼Œéšç€å¤§æ¨¡å‹èƒ½åŠ›çš„æ¼”è¿›ï¼ŒSkillFlowå¯è¿›ä¸€æ­¥æ‰©å±•â€œæ™ºèƒ½éœ€æ±‚æ‹†è§£ã€è‡ªåŠ¨Bugä¿®å¤ã€å¤šè¯­è¨€è·¨ç«¯ç¼–ç¨‹â€ç­‰æ–°Skillï¼ŒæŒç»­æ¨åŠ¨ä¼ä¸šçº§è½¯ä»¶å¼€å‘å‘æ›´é«˜æ•ˆã€æ›´å¯æ§ã€æ›´å…·æ‰©å±•æ€§çš„æ–¹å‘å‘å±•ï¼Œæˆä¸ºè½¯ä»¶ä¼ä¸šåº”å¯¹AIæ—¶ä»£å˜é©çš„æ ¸å¿ƒæ”¯æ’‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>