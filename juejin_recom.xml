<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[âš™ï¸ æ¨¡å‹æ¥å£ä¸å¾®è°ƒå…¼å®¹æ€§ï¼šAIGCç³»ç»Ÿæ•´åˆçš„åº•å±‚å¿ƒè„è·³åŠ¨]]></title>    <link>https://juejin.cn/post/7582438310104301614</link>    <guid>https://juejin.cn/post/7582438310104301614</guid>    <pubDate>2025-12-12T01:32:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310104301614" data-draft-id="7582438809378619434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="âš™ï¸ æ¨¡å‹æ¥å£ä¸å¾®è°ƒå…¼å®¹æ€§ï¼šAIGCç³»ç»Ÿæ•´åˆçš„åº•å±‚å¿ƒè„è·³åŠ¨"/> <meta itemprop="keywords" content="æ¶æ„,äººå·¥æ™ºèƒ½,Rust"/> <meta itemprop="datePublished" content="2025-12-12T01:32:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            âš™ï¸ æ¨¡å‹æ¥å£ä¸å¾®è°ƒå…¼å®¹æ€§ï¼šAIGCç³»ç»Ÿæ•´åˆçš„åº•å±‚å¿ƒè„è·³åŠ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T01:32:55.000Z" title="Fri Dec 12 2025 01:32:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§  ä¸€ã€æ¥å£å…¼å®¹æ€§å¹¶éâ€œå¯¹æ¥ APIâ€ï¼Œè€Œæ˜¯â€œå¯¹é½ä¸–ç•Œè§‚â€</h2>
<p>åœ¨ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­ï¼Œ<strong>æ¥å£å…¼å®¹æ€§</strong>æ˜¯ä¸ªæ¯ç‡¥çš„è¯ï¼šå‡½æ•°ç­¾åä¸€è‡´ã€æ•°æ®æ ¼å¼ç›¸ç¬¦ã€è°ƒç”¨è·¯å¾„æ²¡å‡ºé”™â€”â€”æå®šã€‚</p>
<p>ä½†åœ¨ AIGC æ—¶ä»£ï¼Œæ¥å£å¯¹æ¥ä¸ä»…ä»…æ˜¯ <code>POST /generate</code>ã€‚<br/>
å®ƒå…³ä¹æ¨¡å‹çš„<strong>è¯­ä¹‰è¾¹ç•Œã€Prompt è§£é‡Šæœºåˆ¶ã€Context çª—å£é€»è¾‘</strong>ï¼Œç”šè‡³æ¶‰åŠæ¨¡å‹å†…éƒ¨çš„<strong>å‘é‡ç©ºé—´åè°ƒ</strong>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œæ•´åˆä¸¤ä¸ªæ¨¡å‹ï¼Œä¸å†åƒæ’ USBï¼Œè€Œæ›´åƒè®©ä¸¤ä¸ªå“²å­¦å®¶åœ¨ä¸åŒçš„è¯­è¨€ä¸­è¾¾æˆå…±è¯†ã€‚</p>
<blockquote>
<p>ğŸ¤” ä½ æ°¸è¿œæ— æ³•è®©æ—§æ¨¡å‹ç†è§£â€œprompt alignmentâ€çš„æµªæ¼«ï¼Œå°±åƒä½ æ— æ³•è®© SQL ç†è§£è¯—æ­Œã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ”© äºŒã€æ¨¡å‹æ¥å£çš„æ¶æ„åˆ†å±‚</h2>
<p>ä¸€ä¸ªå¯æ•´åˆçš„ AIGC ç³»ç»Ÿï¼Œå…¶æ¥å£å¤§è‡´å¯ä»¥åˆ’åˆ†ä¸ºå››ä¸ªæŠ€æœ¯å±‚çº§ï¼š</p>



































<table><thead><tr><th>å±‚çº§</th><th>åç§°</th><th>èŒèƒ½</th><th>å¹¶è´­æ•´åˆé‡ç‚¹</th></tr></thead><tbody><tr><td>ğŸ§± L1</td><td>è¯·æ±‚è¯­ä¹‰å±‚</td><td>prompt &amp; å‚æ•°è§£é‡Š</td><td>promptæ ‡å‡†åŒ–ã€è¾“å…¥æ³¨é‡Šæ¡†æ¶</td></tr><tr><td>ğŸ“¡ L2</td><td>é€šä¿¡åè®®å±‚</td><td>API/SDK è°ƒç”¨åè®®</td><td>tokenæµå¯¹é½ã€å‹ç¼©ä¸æµå¼ä¼ è¾“</td></tr><tr><td>ğŸ§¬ L3</td><td>å‘é‡è¯­ä¹‰å±‚</td><td>embedding å¯¹é½</td><td>ç©ºé—´æŠ•å½±ã€è¯­ä¹‰å˜æ¢çŸ©é˜µ</td></tr><tr><td>ğŸ§© L4</td><td>ä¸Šä¸‹æ–‡åè°ƒå±‚</td><td>memory &amp; attention</td><td>contextçª—å£ç»Ÿä¸€ã€é‡è¦æ€§è¡°å‡æœºåˆ¶</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-2">ğŸŒ ç¤ºä¾‹ï¼šä¸€ä¸ªâ€œè·¨æ¨¡å‹æ¥å£æ ‡å‡†åŒ–â€çš„JSå°è£…</h3>
<p>å‡è®¾æˆ‘ä»¬æ”¶è´­äº†ä¸¤ä¸ªæ¨¡å‹ï¼š</p>
<ul>
<li>æ¨¡å‹ A ç”¨ JSON æ ¼å¼è¾“å…¥</li>
<li>æ¨¡å‹ B å–œæ¬¢ key-value çš„ prompt å‚æ•°</li>
</ul>
<p>æˆ‘ä»¬æƒ³ç»Ÿä¸€è°ƒç”¨æ–¹å¼ï¼Œè®©å®ƒä»¬èƒ½å’Œå¹³å…±å¤„ğŸ‘‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UnifiedModelAPI</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">model</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = model;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generate</span>(<span class="hljs-params">prompt, options = {}</span>) {
    <span class="hljs-keyword">const</span> request = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">normalizeInput</span>(prompt, options);
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">endpoint</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(request)
    });
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">postProcess</span>(<span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>());
  }

  <span class="hljs-comment">// å°†ä¸åŒæ¨¡å‹çš„è¾“å…¥æ ‡å‡†åŒ–</span>
  <span class="hljs-title function_">normalizeInput</span>(<span class="hljs-params">prompt, options</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'jsonBased'</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">input</span>: prompt, <span class="hljs-attr">params</span>: options };
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'kvBased'</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">key</span>: <span class="hljs-string">"prompt"</span>, <span class="hljs-attr">value</span>: prompt, ...options };
    }
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„æ¨¡å‹ç±»å‹"</span>);
  }

  <span class="hljs-comment">// è¾“å‡ºç»“æœåå¤„ç†ï¼ˆè¯­ä¹‰å¯¹é½ã€å‰”é™¤å¼‚å¸¸tokenï¼‰</span>
  <span class="hljs-title function_">postProcess</span>(<span class="hljs-params">result</span>) {
    <span class="hljs-keyword">if</span> (result.<span class="hljs-property">output</span>) <span class="hljs-keyword">return</span> result.<span class="hljs-property">output</span>.<span class="hljs-title function_">trim</span>();
    <span class="hljs-keyword">return</span> result.<span class="hljs-property">text</span> || <span class="hljs-string">"ğŸ¤·â€â™‚ï¸ æ¨¡å‹è¾“å‡ºä¸ºç©º"</span>;
  }
}
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>å†…æ¶µ</strong>ï¼šè¿™ä¸ªç»Ÿä¸€å±‚ä¸æ˜¯åœ¨â€œè½¬æ¢æ•°æ®â€ï¼Œè€Œæ˜¯åœ¨â€œç¿»è¯‘è¯­ä¹‰â€â€”â€”<br/>
å°±åƒå¤–äº¤å®˜åœ¨ä¸åŒæ–‡åŒ–é—´ç»´æŒå’Œå¹³ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ğŸ§¬ ä¸‰ã€å¾®è°ƒå…¼å®¹æ€§ï¼šå½“â€œå­¦ä¹ æ–¹å¼â€ä¸å…¼å®¹æ—¶</h2>
<h3 data-id="heading-4">ğŸ§© ç®€å•å®šä¹‰</h3>
<p>â€œ<strong>å¾®è°ƒ (fine-tuning)</strong> â€æ˜¯æ¨¡å‹æ•´åˆä¸­æœ€æ•æ„Ÿçš„éƒ¨åˆ†ã€‚å®ƒæ¶‰åŠ<strong>ç»§ç»­è®­ç»ƒå·²å­˜åœ¨çš„å‚æ•°ç©ºé—´</strong>ã€‚<br/>
ä½†ä¸åŒå‚å•†çš„æ¨¡å‹å‚æ•°é€šå¸¸æœ‰ï¼š</p>
<ul>
<li>ä¸åŒçš„<strong>æ¶æ„é…ç½®ï¼ˆå±‚æ•°ã€æ¿€æ´»å‡½æ•°ã€embeddingç»´åº¦ï¼‰</strong></li>
<li>ä¸åŒçš„<strong>é¢„è®­ç»ƒè¯­æ–™åˆ†å¸ƒ</strong></li>
<li>ä¸åŒçš„<strong>ä¼˜åŒ–å™¨ç­–ç•¥ä¸æ¢¯åº¦æˆªæ–­é€»è¾‘</strong></li>
</ul>
<p>è¿™æ„å‘³ç€ï¼š<br/>
ğŸ”¹ å³ä½¿ä½ æ‹¿åˆ°äº†å¯¹æ–¹çš„æ¨¡å‹æƒé‡æ–‡ä»¶ï¼Œä¹Ÿæœªå¿…èƒ½ç›´æ¥åŠ è½½ã€‚<br/>
ğŸ”¹ å³ä½¿èƒ½åŠ è½½ï¼Œå‚æ•°æ›´æ–°çš„è½¨è¿¹ä¹Ÿå¯èƒ½åœ¨å¾®è°ƒä¸­â€œå‘ç–¯â€ã€‚</p>
<hr/>
<h3 data-id="heading-5">ğŸ§® æŠ€æœ¯å±‚é¢ï¼šè§£å†³â€œå…¼å®¹å¾®è°ƒâ€çš„ä¸‰é“å</h3>
<h4 data-id="heading-6">1ï¸âƒ£ <strong>Embedding å°ºå¯¸ä¸å¯¹é½</strong></h4>
<p>ç›¸å½“äºä½ è¦ç»™ä¸€å°é”®ç›˜æ’æ‰‹æœºå……ç”µå™¨ã€‚<br/>
è§£å†³åŠæ³•ï¼š<br/>
åœ¨å¹¶è´­æ•´åˆé˜¶æ®µå»ºç«‹ä¸€ä¸ª <strong>å‘é‡æŠ•å½±çŸ©é˜µ</strong> ï¼Œå®ç°ä¸åŒæ¨¡å‹è¯­ä¹‰ç©ºé—´ä¹‹é—´çš„åè°ƒæ˜ å°„ã€‚</p>
<blockquote>
<p>ä¾‹å¦‚ï¼šä» 4096 ç»´åˆ° 8192 ç»´çš„ embeddingï¼Œå¯ä»¥é€šè¿‡éšæœºåˆå§‹åŒ–çš„çº¿æ€§å±‚æŠ•å½±åå†è®­ç»ƒæ ¡æ­£ã€‚</p>
</blockquote>
<h4 data-id="heading-7">2ï¸âƒ£ <strong>è®­ç»ƒåˆ†å¸ƒä¸ä¸€è‡´</strong></h4>
<p>ä¸¤ä¸ªæ¨¡å‹å¦‚æœä¸€ä¸ªå­¦ã€Šçº¢æ¥¼æ¢¦ã€‹ï¼Œä¸€ä¸ªå­¦ GitHubï¼Œåˆä½“åå°±ä¼šè¯´å‡ºâ€œç±»ç»§æ‰¿æ˜¯å°å»ºç³Ÿç²•â€è¿™ç§è¯ã€‚<br/>
è§£å†³åŠæ³•ï¼š<br/>
å¼•å…¥ <strong>é¢†åŸŸè‡ªé€‚åº”å¾®è°ƒ (Domain Adaption Fine-tuning)</strong> ï¼Œåœ¨å°æ ·æœ¬æ¡¥æ¥æ•°æ®ä¸Šç»§ç»­è®­ç»ƒï¼Œè®©è¯­è¨€é£æ ¼é€æ­¥èåˆã€‚</p>
<h4 data-id="heading-8">3ï¸âƒ£ <strong>æ¢¯åº¦æ›´æ–°å†²çª</strong></h4>
<p>å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œä¸åŒçš„ loss åˆ†æ”¯å½±å“æ–¹å‘ä¸åŒï¼Œå®¹æ˜“äº§ç”Ÿâ€œæ–‡åŒ–å†²çªâ€ã€‚<br/>
è§£å†³åŠæ³•ï¼š<br/>
ç”¨<strong>åˆ†å±‚å†»ç»“ç­–ç•¥ (Layer-wise Freezing)</strong> ï¼š<br/>
åªè®©ä¸Šå±‚å±•ç°æ–°é£æ ¼ï¼Œè€Œåº•å±‚ä¿æŒåŸæœ‰è®¤çŸ¥ã€‚</p>
<hr/>
<h2 data-id="heading-9">ğŸ§  å››ã€æ¥å£å…¼å®¹ä¸å¾®è°ƒå…¼å®¹çš„ååŒæ¨¡å‹</h2>
<p>æˆ‘ä»¬ç”¨ä¸€å¹…é€»è¾‘å›¾ï¼ˆæ–‡å­—æè¿°ç‰ˆï¼‰æ¥çœ‹ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·è¯·æ±‚
   â†“
ç»Ÿä¸€æ¥å£å±‚ï¼ˆPromptæ ‡å‡†åŒ–ï¼‰
   â†“
è¯­ä¹‰è§£æå™¨ï¼ˆPrompt â†’ éšè¯­ä¹‰å‘é‡ï¼‰
   â†“
å‘é‡æ˜ å°„å±‚ï¼ˆå¤šæ¨¡å‹embeddingå¯¹é½ï¼‰
   â†“
ç‰¹å¾èåˆå™¨ï¼ˆFine-tuningæ¡¥æ¥/åˆ†å±‚å†»ç»“ï¼‰
   â†“
ç”Ÿæˆå¼•æ“ï¼ˆå…±è¯†è¾“å‡ºï¼‰
</code></pre>
<p>ğŸ§© <strong>æ ¸å¿ƒæœºåˆ¶</strong>åœ¨äºï¼š<br/>
æ¥å£å±‚è®©è¾“å…¥å¯ç†è§£ï¼Œå¾®è°ƒå±‚è®©è¾“å‡ºå¯å…±é¸£ã€‚<br/>
ä¸¤è€…è”åŠ¨ï¼Œå®ç°â€œè¯­ä¹‰å‘å‰å…¼å®¹ï¼ŒçŸ¥è¯†å‘åè¿­ä»£â€ã€‚</p>
<hr/>
<h2 data-id="heading-10">âš—ï¸ äº”ã€åº•å±‚å“²å­¦ï¼šå…¼å®¹æ€§å³å…±è¯†æœºåˆ¶</h2>
<p>åœ¨æœºå™¨å­¦ä¹ çš„è¯­å¢ƒé‡Œï¼Œæ‰€è°“â€œå…¼å®¹â€ä¸æ˜¯å¼ºåˆ¶æ ‡å‡†åŒ–ï¼Œè€Œæ˜¯ä¸€ç§ <strong>è¯­ä¹‰åå•† (Semantic Negotiation)</strong> ã€‚<br/>
æ¯ä¸ªæ¨¡å‹éƒ½æ‹¥æœ‰è‡ªå·±çš„çŸ¥è¯†åæ ‡ç³»ï¼Œæˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡å…¼å®¹æ€§åŠªåŠ›ï¼Œ<br/>
æœ¬è´¨æ˜¯åœ¨å¯»æ‰¾ä¸€ä¸ª<strong>è·¨æ¨¡å‹å…±è¯†ç©ºé—´ (Consensus Latent Space)</strong> ã€‚</p>
<blockquote>
<p>å°±åƒå›½é™…æ ‡å‡†ç»„ç»‡åœ¨å¼€ä¼šè®®é¢˜ä¸€æ ·ï¼Œ<br/>
åªæ˜¯ä¼šè®®æˆå‘˜æ¢æˆäº† Transformerã€Diffusion å’Œ GANã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-181 Elasticsearch æ®µåˆå¹¶ä¸ç£ç›˜ç›®å½•æ‹†è§£ï¼šMerge Policyã€Force Mergeã€Shard æ–‡ä»¶ç»“æ„ä¸€æ–‡ææ¸…]]></title>    <link>https://juejin.cn/post/7582480048958291995</link>    <guid>https://juejin.cn/post/7582480048958291995</guid>    <pubDate>2025-12-12T01:35:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582480048958291995" data-draft-id="7582491862263611442" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-181 Elasticsearch æ®µåˆå¹¶ä¸ç£ç›˜ç›®å½•æ‹†è§£ï¼šMerge Policyã€Force Mergeã€Shard æ–‡ä»¶ç»“æ„ä¸€æ–‡ææ¸…"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Elasticsearch"/> <meta itemprop="datePublished" content="2025-12-12T01:35:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-181 Elasticsearch æ®µåˆå¹¶ä¸ç£ç›˜ç›®å½•æ‹†è§£ï¼šMerge Policyã€Force Mergeã€Shard æ–‡ä»¶ç»“æ„ä¸€æ–‡ææ¸…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T01:35:46.000Z" title="Fri Dec 12 2025 01:35:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šrefresh é¢‘ç¹äº§ç”Ÿå°æ®µï¼Œæ®µæ•°æš´æ¶¨æ‹–æ…¢æœç´¢ï¼›åŒæ—¶æƒ³çœ‹æ‡‚ ES æ•°æ®ç›®å½•ä¸ Lucene æ–‡ä»¶</li>
<li>ç»“è®ºï¼šæ®µåˆå¹¶æ˜¯åå°å¸¸æ€åŠ¨ä½œï¼›æ‰‹åŠ¨åˆå¹¶ç”¨ _forcemergeï¼Œä¸”å¿…é¡»æŒ‰ç‰ˆæœ¬åŒºåˆ†å¯è°ƒé¡¹ä¸é£é™©</li>
<li>äº§å‡ºï¼šå¯å¤ç”¨çš„ merge è°ƒä¼˜æ¸…å• + shards/indices/_state/translog/index ç›®å½•å®šä½æ–¹æ³•</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a82d277b440b44c0a7d3541740dc609a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=11nnLyP8WYS3ypznt6%2Fc%2BmApZek%3D" alt="å¤§æ•°æ®-181 Elasticsearch æ®µåˆå¹¶ä¸ç£ç›˜ç›®å½•æ‹†è§£ï¼šMerge Policyã€Force Mergeã€Shard æ–‡ä»¶ç»“æ„ä¸€æ–‡ææ¸…" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>





























<table><thead><tr><th>ç‰ˆæœ¬/åˆ†ç±»</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ES 5.0+</td><td><code>_optimize</code> å·²ç§»é™¤ï¼Œä½¿ç”¨ <code>_forcemerge</code> æ›¿ä»£</td></tr><tr><td>ES 1.xâ€“2.x</td><td><code>indices.store.throttle.max_bytes_per_sec</code> å¸¸è§é»˜è®¤è¢«è®¤ä¸ºæ˜¯ 20MB/s</td></tr><tr><td>ES 6.x+</td><td>å¤šæ•°"å›ºå®š 20MB/s èŠ‚æµ"çš„è°ƒå‚ç»éªŒä¸å¯ç›´æ¥ç…§æ¬ï¼›éœ€æŒ‰å½“å‰ç‰ˆæœ¬çš„åˆå¹¶ I/O æœºåˆ¶é‡æ–°è¯„ä¼°</td></tr><tr><td>ES 6.1.xï¼ˆä»£ç å±‚ï¼‰</td><td><code>index.merge.policy.floor_segment</code> ç­‰ merge policy åç§°ä¸è¯­ä¹‰åœ¨ä»£ç æ–‡æ¡£å¯æŸ¥</td></tr><tr><td>é€šç”¨ï¼ˆæ‰€æœ‰ç‰ˆæœ¬ï¼‰</td><td>Force merge ä¼šæ˜¾è‘—æ¶ˆè€— I/O/CPUï¼Œå¯èƒ½å‡ºç°"æ®µå°‘äº†ä½†æŸ¥è¯¢æ›´æ…¢"ç­‰åç›´è§‰ç»“æœï¼Œéœ€è¦ç°åº¦éªŒè¯</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5131867e1824ca282ef7d56ead7dce2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=FannM0yicUCPTBlYSfEeQ1AB%2BNE%3D" alt="Elasticsearch" loading="lazy"/></p>
<h2 data-id="heading-2">ç´¢å¼•æ–‡æ¡£å­˜å‚¨æ®µåˆå¹¶</h2>
<h3 data-id="heading-3">æ®µåˆå¹¶æœºåˆ¶</h3>
<p>ç”±äºè‡ªåŠ¨åˆ·æ–°æµç¨‹æ¯ç§’åˆ›å»ºä¸€ä¸ªæ–°çš„æ®µï¼Œè¿™æ ·ä¼šå¯¼è‡´çŸ­æ—¶é—´å†…çš„æ®µæ•°é‡æš´å¢ã€‚è€Œæ®µæ•°ç›®å¤ªå¤šä¼šå¸¦æ¥è¾ƒå¤§çš„éº»çƒ¦ï¼Œæ¯ä¸€ä¸ªæ®µéƒ½ä¼šæ¶ˆè€—æ–‡ä»¶å¥æŸ„ã€å†…å­˜ã€CPUè¿è¡Œå‘¨æœŸã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ¯ä¸ªæœç´¢è¯·æ±‚å¿…é¡»è½®æµæ£€æŸ¥æ¯ä¸ªæ®µï¼Œæ‰€ä»¥æ®µè¶Šå¤šï¼Œæœç´¢ä¹Ÿå°±è¶Šæ…¢ã€‚</p>
<p>Elasticsearché€šè¿‡åœ¨åå°è¿›è¡Œæ®µåˆå¹¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°çš„æ®µåˆå¹¶åˆ°å¤§çš„æ®µï¼Œç„¶åè¿™äº›å¤§çš„æ®µè¢«åˆå¹¶åˆ°æ›´å¤§çš„æ®µï¼Œæ®µåˆå¹¶çš„æ—¶å€™ä¼šå°†é‚£äº›æ—§çš„å·²åˆ é™¤æ–‡æ¡£ä»æ–‡ä»¶ç³»ç»Ÿä¸­æ¸…é™¤ï¼Œè¢«åˆ é™¤çš„æ–‡æ¡£ï¼ˆæˆ–è¢«æ›´æ–°æ–‡æ¡£çš„æ—§ç‰ˆæœ¬ï¼‰ä¸ä¼šæ‹·è´åˆ°æ–°çš„å¤§æ®µä¸­ã€‚
å¯åŠ¨æ®µåˆå¹¶åœ¨è¿›è¡Œç´¢å¼•å’Œæœç´¢æ—¶ä¼šè‡ªåŠ¨è¿›è¡Œï¼Œè¿™ä¸ªæµç¨‹åƒåœ¨ä¸‹å›¾ä¸­æåˆ°çš„ä¸€æ ·å·¥ä½œï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå½“ç´¢å¼•çš„æ—¶å€™ï¼Œåˆ·æ–°ï¼ˆrefreshï¼‰æ“ä½œä¼šåˆ›å»ºæ–°çš„æ®µå¹¶å°†æ®µæ‰“å¼€ä»¥ä¾›æœç´¢ä½¿ç”¨</li>
<li>ç¬¬äºŒæ­¥ï¼šåˆå¹¶è¿›ç¨‹é€‰æ‹©ä¸€å°éƒ¨åˆ†å¤§å°ç›¸ä¼¼çš„æ®µï¼Œå¹¶ä¸”åœ¨åå°å°†ä»–ä»¬åˆå¹¶åˆ°æ›´å¤§çš„æ®µä¸­ï¼Œè¿™å¹¶ä¸ä¼šä¸­æ–­ç´¢å¼•å’Œæœç´¢ã€‚</li>
</ul>
<p>ä¸¤ä¸ªæäº¤äº†çš„æ®µå’Œä¸€ä¸ªæœªæäº¤çš„æ®µæ­£åœ¨åˆå¹¶åˆ°ä¸€ä¸ªæ›´å¤§çš„æ®µï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/539eeb3f96a34afcb5259edd50e6a168~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=iDugZm1pnTvmXI0pZein2LZa9uQ%3D" alt="Elasticsearch æ®µåˆå¹¶æœºåˆ¶" loading="lazy"/>
ç¬¬ä¸‰æ­¥ï¼šåˆå¹¶å®Œæˆæ—¶çš„æ´»åŠ¨ï¼š</p>
<ul>
<li>æ–°çš„æ®µè¢«åˆ·æ–°ï¼ˆflushï¼‰åˆ°äº†ç£ç›˜ï¼Œå†™å…¥ä¸€ä¸ªåŒ…å«æ–°æ®µä¸”æ’é™¤æ—§çš„å’Œè¾ƒå°çš„æ®µçš„æ–°æäº¤ç‚¹</li>
<li>æ–°çš„æ®µè¢«æ‰“å¼€ç”¨æ¥æœç´¢</li>
<li>è€çš„æ®µè¢«åˆ é™¤
ä¸€æ—¦åˆå¹¶ç»“æŸï¼Œè€çš„æ®µè¢«åˆ é™¤</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba265bc1727d425e8b10766a73da2112~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=R%2BC099vxEuPEwU2S0F7%2FDrUs1jw%3D" alt="Elasticsearch æ®µåˆå¹¶å®Œæˆ" loading="lazy"/>
åˆå¹¶å¤§çš„æ®µéœ€è¦æ¶ˆè€—å¤§é‡çš„ I/Oå’ŒCPUèµ„æºï¼Œå¦‚æœä»»å…¶å‘å±•ä¼šå½±å“æœç´¢æ€§èƒ½ï¼ŒElasticsearchåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šå¯¹åˆå¹¶æµç¨‹è¿›è¡Œèµ„æºé™åˆ¶ï¼Œæ‰€ä»¥æœç´¢ä»ç„¶æœ‰è¶³å¤Ÿçš„èµ„æºå¾ˆå¥½çš„æ‰§è¡Œã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œå½’å¹¶çº¿ç¨‹çš„é™é€Ÿé…ç½®ï¼šindices.store.throttle.max_bytes_per_secæ˜¯20MBã€‚
å¯¹äºå†™å…¥é‡è¾ƒå¤§ï¼Œç£ç›˜è½¬é€Ÿè¾ƒé«˜ï¼Œç”šè‡³ä½¿ç”¨SSDç›˜çš„æœåŠ¡å™¨æ¥è¯´ï¼Œè¿™ä¸ªé™é€Ÿæ˜¯æ˜æ˜¾è¿‡ä½çš„ã€‚å¯¹äº ELK Stackåº”ç”¨ï¼Œå»ºè®®å¯ä»¥é€‚å½“è°ƒå¤§åˆ°100MBæˆ–è€…æ›´é«˜ã€‚</p>
<pre><code class="hljs language-json" lang="json">PUT /_cluster/settings
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"persistent"</span> <span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"indices.store.throttle.max_bytes_per_sec"</span> <span class="hljs-punctuation">:</span> <span class="hljs-string">"100mb"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç”¨äºæ§åˆ¶å½’å¹¶çº¿ç¨‹çš„æ•°ç›®ï¼Œæ¨èè®¾ç½®ä¸ºCPUæ ¸å¿ƒæ•°çš„ä¸€åŠï¼Œå¦‚æœè§‰å¾—è‡ªå·±ç£ç›˜æ€§èƒ½è·Ÿä¸ä¸Šï¼Œå¯ä»¥é™ä½é…ç½®ï¼Œå…å¾—IOæ€§èƒ½ç“¶é¢ˆã€‚ï¼ˆindex.merge.scheduler.max_thread_countï¼‰</p>
<h3 data-id="heading-4">å½’å¹¶ç­–ç•¥</h3>
<p>å½’å¹¶ç­–ç•¥ policy
å½’å¹¶çº¿ç¨‹æ˜¯æŒ‰ç…§ä¸€å®šçš„è¿è¡Œç­–ç•¥æ¥æŒ‘é€‰Segmentè¿›è¡Œå½’å¹¶çš„ï¼Œä¸»è¦æœ‰ä»¥ä¸‹çš„å‡ æ¡ï¼š</p>
<ul>
<li>index.merge.policy.floor_segement é»˜è®¤2MBï¼Œå°äºè¿™ä¸ªå¤§å°çš„Segmentï¼Œä¼˜å…ˆè¢«å¹¶å½’</li>
<li>index.merge.policy.max_merge_at_once é»˜è®¤ä¸€æ¬¡æœ€å¤šå½’å¹¶10ä¸ª Segment</li>
<li>index.merge.policy.max_merge_at_once_explicit é»˜è®¤optimize æ—¶ä¸€æ¬¡æœ€å¤šå½’å¹¶30ä¸ªSegment</li>
<li>index.merge.policy.max_merged_segment é»˜è®¤5GBï¼Œå¤§äºè¿™ä¸ªå¤§å°çš„Segmentï¼Œä¸ç”¨å‚ä¸å½’å¹¶ï¼Œoptimizeé™¤å¤–ã€‚</li>
</ul>
<h3 data-id="heading-5">Optimize API</h3>
<p>Optimize APIå¤§å¯çœ‹åšå¼ºåˆ¶åˆå¹¶APIï¼Œå®ƒå°†ä¸€ä¸ªåˆ†ç‰‡å¼ºåˆ¶åˆå¹¶åˆ°max_num_segmentså‚æ•°æŒ‡å®šå¤§å°çš„æ®µæ•°ç›®ï¼Œè¿™æ ·åšçš„æ„å›¾æ˜¯å‡å°‘æ®µçš„æ•°é‡ï¼ˆé€šå¸¸å‡å°‘åˆ°ä¸€ä¸ªï¼‰ï¼Œæ¥æå‡æ€§èƒ½ã€‚åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œä½¿ç”¨OptimizeAPIé¢‡æœ‰ç›Šå¤„ã€‚
ä¾‹å¦‚åœ¨æ—¥å¿—è¿™ç§ç”¨ä¾‹ä¸‹ï¼Œæ¯å¤©ã€æ¯å‘¨ã€æ¯æœˆçš„æ—¥å¿—è¢«å­˜å‚¨åœ¨ä¸€ä¸ªç´¢å¼•ä¸­ã€‚è€çš„ç´¢å¼•å®è´¨ä¸Šæ˜¯åªè¯»çš„ï¼Œå®ƒä»¬ä¹Ÿå¹¶ä¸å¤ªå¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨Optimizeä¼˜åŒ–è€çš„ç´¢å¼•ï¼Œå°†æ¯ä¸€ä¸ªåˆ†ç‰‡åˆå¹¶ä¸ºä¸€ä¸ªå•ç‹¬çš„æ®µå°±å¾ˆæœ‰ç”¨äº†ï¼Œè¿™æ ·æ—¢å¯ä»¥èŠ‚çœèµ„æºï¼Œä¹Ÿå¯ä»¥æœç´¢æ›´åŠ è¿…é€Ÿï¼š</p>
<pre><code class="hljs language-shell" lang="shell">POST /Logstash-2024-08/_optimize?max_num_segments=1
</code></pre>
<h2 data-id="heading-6">å­˜å‚¨æ–‡ä»¶è¯¦è§£</h2>
<h3 data-id="heading-7">ä¿¡æ¯æŸ¥çœ‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4fdb0120ba84e6bb1db5d9d222748f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=VUdKrKEig9z%2Bpe4hj40%2B5SHWHCU%3D" alt="Elasticsearch æŸ¥è¯¢çŠ¶æ€" loading="lazy"/>
é€šè¿‡ ES-Head æ’ä»¶å¯ä»¥æŸ¥çœ‹åˆ°ä¸€ä¸ªç´¢å¼•åˆ†ç‰‡çš„ä¿¡æ¯ï¼Œå›¾ä¸­ä¸€ä¸ªç»¿è‰²çš„æ–¹å—å°±ä»£è¡¨ä¸€ä¸ªåˆ†ç‰‡Shardã€‚
ESä½¿ç”¨Luceneæ¥å¤„ç†Shardçº§åˆ«çš„ç´¢å¼•å’ŒæŸ¥è¯¢ï¼Œå› æ­¤æ•°æ®ç›®å½•ä¸­çš„æ–‡ä»¶ç”±Elasticsearchå’ŒLuceneå…±åŒç¼–å†™ã€‚
Luceneè´Ÿè´£ç¼–å†™å’Œç»´æŠ¤Luceneç´¢å¼•æ–‡ä»¶ï¼Œè€ŒElasticsearchåœ¨Luceneä¹‹ä¸Šç¼–å†™ä¸åŠŸèƒ½ç›¸å…³çš„å…ƒæ•°æ®ï¼Œä¾‹å¦‚å­—æ®µæ˜ å°„ï¼Œç´¢å¼•è®¾ç½®å’Œå…¶ä»–é›†ç¾¤å…ƒæ•°æ®ï¼Œç”¨æˆ·å’Œæ”¯æŒåŠŸèƒ½ç”±Elasticsearchæä¾›ã€‚</p>
<h3 data-id="heading-8">å­˜å‚¨ç›®å½•</h3>
<p>æˆ‘ä»¬ç™»å½•åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿›å…¥åˆ°ESé›†ç¾¤çš„æ•°æ®å­˜å‚¨ç›®å½•ä¸­ï¼Œæ ¹æ®æˆ‘ä»¬ä¹‹å‰é…ç½®å¥½çš„æœåŠ¡</p>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/es/data/nodes/0
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d9c0fc8f36b49138fe10788f54947d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=8RdTmmh2yl3LTkJsQi3JEuYzYlk%3D" alt="Elasticsearch å­˜å‚¨ç›®å½•" loading="lazy"/>
æˆ‘ä»¬è¿›å…¥ indices ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ•°æ®æœ‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">root@h121:/opt/servers/es/data/nodes/0# cd indices/
root@h121:/opt/servers/es/data/nodes/0/indices# ll
total 28
drwxrwxr-x 7 es_server es_server 4096 Aug 15 13:50 ./
drwxrwxr-x 4 es_server es_server 4096 Aug 15 10:14 ../
drwxrwxr-x 4 es_server es_server 4096 Aug 15 11:50 GFUQVFGeR1OMxYpP84kADw/
drwxrwxr-x 4 es_server es_server 4096 Aug 15 10:14 nP7CcjJqRGyTSRZFe-ws7Q/
drwxrwxr-x 3 es_server es_server 4096 Aug 15 13:50 pLcZj7mpQZ2sj489LCI8PA/
drwxrwxr-x 6 es_server es_server 4096 Aug 15 10:43 ppzCzxaxQAegLEM7C3W-ng/
drwxrwxr-x 4 es_server es_server 4096 Aug 15 10:14 wF9_Ay68Qhyx8X89TRNl0Q/
root@h121:/opt/servers/es/data/nodes/0/indices# 
</code></pre>
<p>å¯¹åº”çš„æˆªå›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a3806638a894773bedd02b909887304~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=FvdWp3POj0%2F8Slxz42GnwP%2BJ%2FYY%3D" alt="Elasticsearch æ•°æ®ç›®å½•" loading="lazy"/>
å¦‚ä½•æ‰¾åˆ°å®ƒä»¬çš„å¯¹åº”å…³ç³»å‘¢ï¼Ÿ
å¯ä»¥åœ¨ES-Headä¸­ï¼Œç‚¹å‡»ç´¢å¼•çš„Info =&gt; IndexStatus =&gt; å¼¹çª—ä¸­æœ‰ä¸€ä¸ª UUIDï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„å€¼ï¼Œå¯¹åº”çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2376307438c14af398d2a13b21960dee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=FpQ1wZqtJzclE1ocXIzvQnPe5VM%3D" alt="Elasticsearch æŸ¥çœ‹UUID" loading="lazy"/></p>
<p>æˆ‘ä»¬éœ€è¦çš„æ˜¯è¿›å…¥è¿™ä¸ªç›®å½•ï¼šï¼ˆä½ çš„å’Œæˆ‘çš„ä¸ä¸€æ ·ï¼‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">cd ppzCzxaxQAegLEM7C3W-ng
</code></pre>
<p>ç›®å½•å½“ä¸­çš„å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d30a9be383e42bea85b0fd9591ab4ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=Agui71mMCMGXpDR1Lh%2B3l6yXabo%3D" alt="Elasticsearch æŸ¥çœ‹UUIDå¯¹åº”çš„ç›®å½•" loading="lazy"/>
æˆ‘ä»¬å¯¹ä¸Šè¿°çš„å†…å®¹è¿›è¡Œè§£é‡Šï¼š</p>
<ul>
<li>0ã€1ã€3 æ˜¯æ ‡è¯† shardç¼–å·</li>
<li>_state å­˜å‚¨äº†ç´¢å¼•çŠ¶æ€ï¼ŒåŒ…æ‹¬settingï¼Œmappingç­‰æ–‡ä»¶</li>
</ul>
<p>è¿›å…¥_stateç›®å½•ï¼ŒæŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-shell" lang="shell">cd _state
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22c57c5bfe43432398955ca782e9918b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=hycxF1L88cELpZ90HVM2IwT7szY%3D" alt="Elasticsearch æŸ¥çœ‹æ•°æ®å†…å®¹" loading="lazy"/></p>
<p>æˆ‘ä»¬å›åˆ°ä¸Šä¸€çº§ï¼Œå›åˆ°åˆšæ‰çš„æ•°å­—ç¼–å·ç›®å½•ï¼ˆ0ã€1ã€3æ–‡ä»¶å¤¹ï¼‰</p>
<pre><code class="hljs language-shell" lang="shell">cd ..
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼Œæœ‰0ã€1ã€3ï¼Œæˆ‘ä»¬éšä¾¿è¿›å…¥ä¸€ä¸ª
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78cd51063eb044a2afdc39a3e94f512b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=B%2FxgBRv5SJreayaKfP479Tw5ti8%3D" alt="Elasticsearch æŸ¥çœ‹ESç›®å½•" loading="lazy"/></p>
<pre><code class="hljs language-shell" lang="shell">cd 0
</code></pre>
<p>æˆ‘ä»¬è¿›å…¥æ–‡ä»¶å¤¹ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢æœ‰è¿™äº›å†…å®¹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c940bf2a3fe841a799f30d54e79f0236~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=Nf%2BxAQXmsXhNs2Zr4zun%2FhakaCo%3D" alt="Elasticsearch ç›®å½•å†…å®¹" loading="lazy"/>
æˆ‘ä»¬è¿›è¡Œè§£é‡Šï¼š</p>
<ul>
<li>index ESçš„æ•°æ®ç›®å½•</li>
<li>_state å½“å‰shardçš„ä¿¡æ¯ï¼Œæ¯”å¦‚æ˜¯ä¸»ã€å‰¯åˆ†ç‰‡ç­‰ä¿¡æ¯</li>
<li>translogä¿è¯æ•°æ®å†™å…¥çš„å®‰å…¨äº‹åŠ¡æ—¥å¿—æ•°æ®</li>
</ul>
<p>æˆ‘ä»¬è¿›å…¥ index æ•°æ®ç›®å½•ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">cd index
ll
</code></pre>
<p>å¯ä»¥æŸ¥çœ‹åˆ°å¦‚ä¸‹çš„å†…å®¹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b3a46bef3a74517a3d005a31dc8a324~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=JLJoX9dQX3SqPO7v00c7OuGfAic%3D" alt="Elasticsearch index æ•°æ®ç›®å½•" loading="lazy"/>
æˆ‘ä»¬å¯¹å½“ä¸­çš„æ–‡ä»¶å†…å®¹è¿›è¡Œè§£é‡Šï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fa222f1bd824fec9f36eac8c69cd87c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766108146&amp;x-signature=roR9Gp1i25bmOmgQDIHvbj5%2FRbY%3D" alt="Elasticsearch æ•°æ®æ–‡æ¡£åç¼€å«ä¹‰" loading="lazy"/></p>
<h2 data-id="heading-9">é”™è¯¯é€ŸæŸ¥</h2>















































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>æœç´¢å˜æ…¢ã€æ®µæ•°é‡çŸ­æ—¶é—´æš´æ¶¨</td><td>refresh é¢‘ç¹äº§ç”Ÿå°æ®µï¼Œåˆå¹¶è·Ÿä¸ä¸Š</td><td><code>_cat/segments</code> çœ‹ segments æ•°ä¸å¤§å°ï¼›è§‚å¯Ÿ merge backlog/IO</td><td>æé«˜ <code>refresh_interval</code>ï¼ˆæŒ‰ä¸šåŠ¡å®¹å¿ï¼‰ï¼›æ§åˆ¶å†™å…¥å¹¶å‘ï¼›å¿…è¦æ—¶æ‰©å®¹/å‡çº§ç£ç›˜</td></tr><tr><td>æ—¥å¿—ç´¢å¼•å†™å…¥è¢«â€œé™é€Ÿ/èŠ‚æµâ€</td><td>åˆå¹¶è½åè§¦å‘ä¿æŠ¤æœºåˆ¶ï¼Œå†™å…¥è¢«æŠ‘åˆ¶åˆ°æ›´ä¿å®ˆçŠ¶æ€</td><td>çœ‹èŠ‚ç‚¹æ—¥å¿—æ˜¯å¦å‡ºç° merge/throttle ç›¸å…³æç¤ºï¼›çœ‹ç£ç›˜ IO é£™å‡</td><td>é™ä½å†™å…¥å³°å€¼ï¼›æå‡ç£ç›˜ååï¼›æŒ‰ç‰ˆæœ¬è¯„ä¼°æ˜¯å¦è¿˜å­˜åœ¨æ—§çš„ throttle å‚æ•°</td></tr><tr><td>ç£ç›˜å ç”¨æŒç»­åå¤§ï¼Œåˆ é™¤/æ›´æ–°åä¸å›æ”¶</td><td>åˆ é™¤æ–‡æ¡£åœ¨æ®µå†…æ‰“æ ‡ï¼Œéœ€ merge æ‰çœŸæ­£é‡Šæ”¾ç©ºé—´</td><td>è§‚å¯Ÿ deleted docs æ¯”ä¾‹ï¼›ç£ç›˜å ç”¨ä¸æ®µåˆå¹¶èŠ‚å¥</td><td>ç­‰å¾…åå°åˆå¹¶ï¼›åªè¯»ç´¢å¼•å¯è€ƒè™‘ <code>_forcemerge</code>ï¼Œä½†è¦è¯„ä¼°çª—å£ä¸é£é™©</td></tr><tr><td>è°ƒç”¨ <code>/_optimize</code> æŠ¥ 404</td><td>API å·²åºŸå¼ƒ/ç§»é™¤</td><td>è¯·æ±‚è¿”å› 404ï¼›æŸ¥é›†ç¾¤ç‰ˆæœ¬</td><td>æ”¹ç”¨ <code>/_forcemerge?max_num_segments=1</code></td></tr><tr><td>force merge ååè€Œæ›´æ…¢</td><td>cache/OS page cache è¢«å†²åˆ·ã€åˆå¹¶å¼€é”€æŒ¤å‹æŸ¥è¯¢ã€æ®µç»“æ„å˜åŒ–å¯¼è‡´å†·çƒ­å¤±è¡¡</td><td>å¯¹æ¯” merge å‰åæŸ¥è¯¢è€—æ—¶ã€IOã€ç¼“å­˜å‘½ä¸­</td><td>åªå¯¹å½’æ¡£åªè¯»ç´¢å¼•åšï¼›é€‰ä½å³°ï¼›é™åˆ¶å¹¶å‘ï¼›å…ˆåœ¨å°ç´¢å¼•éªŒè¯</td></tr><tr><td>merge policy é…ç½®ä¸ç”Ÿæ•ˆ/æŠ¥æœªçŸ¥å‚æ•°</td><td>å‚æ•°åæ‹¼å†™é”™è¯¯æˆ–ç‰ˆæœ¬å·²å˜æ›´</td><td>ES å¯åŠ¨æ—¥å¿—/PUT settings è¿”å›é”™è¯¯</td><td>æ ¡éªŒå‚æ•°åï¼ˆå¦‚ <code>floor_segment</code>ï¼‰ï¼›æŒ‰ç‰ˆæœ¬æ–‡æ¡£è°ƒæ•´</td></tr></tbody></table>
<h2 data-id="heading-10">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-11">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-12">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-180 Java æ¥å…¥ FastDFSï¼šè‡ªç¼–è¯‘å®¢æˆ·ç«¯ä¸ Maven/Spring Boot å®æˆ˜</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-13">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åµŒå…¥å¼è½¯ä»¶è°ƒè¯•æŒ‡å—ï¼šä¸€çœ‹å°±æ‡‚ï¼Œä¸Šæ‰‹å°±ç”¨]]></title>    <link>https://juejin.cn/post/7582182817109082138</link>    <guid>https://juejin.cn/post/7582182817109082138</guid>    <pubDate>2025-12-11T10:26:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582182817109082138" data-draft-id="7582232291621584934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åµŒå…¥å¼è½¯ä»¶è°ƒè¯•æŒ‡å—ï¼šä¸€çœ‹å°±æ‡‚ï¼Œä¸Šæ‰‹å°±ç”¨"/> <meta itemprop="keywords" content="åµŒå…¥å¼"/> <meta itemprop="datePublished" content="2025-12-11T10:26:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿·äººçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/977890073916588"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åµŒå…¥å¼è½¯ä»¶è°ƒè¯•æŒ‡å—ï¼šä¸€çœ‹å°±æ‡‚ï¼Œä¸Šæ‰‹å°±ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/977890073916588/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿·äººçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T10:26:18.000Z" title="Thu Dec 11 2025 10:26:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ€æƒ³ï¼šåƒä¾¦æ¢ä¸€æ ·æ‰¾é—®é¢˜</h2>
<h3 data-id="heading-1">æ ¹æœ¬æ€§åŸåˆ™</h3>
<p>åµŒå…¥å¼ç³»ç»Ÿé—®é¢˜å®šä½ä¸æ˜¯è¡¥æ•‘æªæ–½ï¼Œè€Œæ˜¯ç³»ç»Ÿå·¥ç¨‹èƒ½åŠ›çš„å…³é”®ç»„æˆéƒ¨åˆ†ã€‚çœŸæ­£çš„å·¥ç¨‹è§†è§’å»ºç«‹åœ¨ä»¥ä¸‹è®¤çŸ¥ä¹‹ä¸Šï¼š</p>
<ul>
<li><strong>ç¡®å®šæ€§ä¸­çš„éç¡®å®šæ€§</strong>ï¼šåµŒå…¥å¼ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯ç¡®å®šæ€§çš„æ•°å­—ç³»ç»Ÿï¼Œä½†è¿è¡Œåœ¨å……æ»¡å™ªå£°ã€è€åŒ–å’Œåˆ¶é€ åå·®çš„ç‰©ç†ä¸–ç•Œä¸­ã€‚é—®é¢˜çš„æ ¹æºå¾€å¾€æ˜¯è¿™ä¸¤ç§ç‰¹æ€§çš„äº¤äº’è¾¹ç•Œã€‚</li>
<li><strong>å¯è°ƒè¯•æ€§å³è®¾è®¡ç›®æ ‡</strong>ï¼šç³»ç»Ÿè®¾è®¡æ—¶ï¼Œå¿…é¡»å°†<strong>å¯è°ƒè¯•æ€§ã€å¯è§‚æµ‹æ€§ã€å¯æµ‹è¯•æ€§</strong>ç½®äºä¸åŠŸèƒ½æ€§ã€æ€§èƒ½åŒç­‰é‡è¦çš„åœ°ä½ã€‚è¿™æ˜¯åŒºåˆ†æ¶ˆè´¹çº§ä¸å·¥ä¸šçº§è®¾è®¡çš„å…³é”®æ ‡å¿—ã€‚</li>
</ul>
<h3 data-id="heading-2">Â ç³»ç»ŸåŒ–è°ƒè¯•å“²å­¦</h3>
<ul>
<li><strong>ç¬¬ä¸€æ€§åŸåˆ™</strong>ï¼šä»ç¡¬ä»¶ç‰©ç†ç‰¹æ€§å’Œç¼–è¯‘å™¨è¡Œä¸ºå‡ºå‘</li>
<li><strong>åˆ†å±‚éš”ç¦»æ³•</strong>ï¼šç¡¬ä»¶å±‚ â†’ é©±åŠ¨å±‚ â†’ OSå±‚ â†’ åº”ç”¨å±‚</li>
<li><strong>é—­ç¯éªŒè¯</strong>ï¼šå‡è®¾â†’å®éªŒâ†’æ•°æ®â†’ç»“è®ºâ†’é¢„é˜²</li>
</ul>
<h3 data-id="heading-3">åŸºæœ¬å£è¯€</h3>
<p><strong>ä¸€çœ‹äºŒæŸ¥ä¸‰ç¼©å°ï¼Œå››éªŒè¯äº”é¢„é˜²</strong></p>
<ul>
<li>ä¸€çœ‹ï¼šè§‚å¯Ÿç°è±¡ï¼Œæ”¶é›†ä¿¡æ¯</li>
<li>äºŒæŸ¥ï¼šæ£€æŸ¥æœ€å¯èƒ½çš„åŸå› </li>
<li>ä¸‰ç¼©å°ï¼šæŠŠé—®é¢˜èŒƒå›´ç¼©å°</li>
<li>å››éªŒè¯ï¼šç¡®è®¤æ‰¾åˆ°äº†çœŸæ­£åŸå› </li>
<li>äº”é¢„é˜²ï¼šé˜²æ­¢é—®é¢˜å†æ¬¡å‘ç”Ÿ</li>
</ul>
<h2 data-id="heading-4">äºŒã€å…­å¤§å¸¸è§é—®é¢˜ä¸å¿«é€Ÿå®šä½æ³•</h2>
<h3 data-id="heading-5">1. ç¨‹åºæ­»æœºæˆ–é‡å¯ï¼ˆæœ€å¸¸è§ï¼‰</h3>
<p><strong>å¯èƒ½åŸå› </strong>ï¼šå†…å­˜æº¢å‡ºã€æ•°ç»„è¶Šç•Œã€å †æ ˆæº¢å‡ºã€ç¡¬ä»¶æ•…éšœ</p>
<p><strong>å¿«é€Ÿæ£€æŸ¥æ¸…å•</strong>ï¼š</p>
<pre><code class="hljs">â–¡ 1. å…ˆé‡å¯ï¼Œçœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œ
â–¡ 2. æŸ¥çœ‹é‡å¯å‰çš„æœ€åä¸€æ¡æ—¥å¿—
â–¡ 3. æ£€æŸ¥æœ€è¿‘ä¿®æ”¹çš„ä»£ç 
â–¡ 4. æµ‹é‡å†…å­˜ä½¿ç”¨é‡ï¼ˆå †æ ˆè¿˜å‰©å¤šå°‘ï¼‰
â–¡ 5. æ£€æŸ¥ä¸­æ–­å¤„ç†æ˜¯å¦å¤ªé•¿
</code></pre>
<p><strong>ç®€å•æµ‹è¯•</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å †æ ˆä½¿ç”¨æ£€æŸ¥ï¼ˆç®€å•ç‰ˆï¼‰</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">check_stack_usage</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-type">char</span> stack_probe;
    <span class="hljs-comment">// å¦‚æœè¿™ä¸ªå€¼æ¥è¿‘æ ˆåº•ï¼Œè¯´æ˜æ ˆå¿«æ»¡äº†</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"æ ˆåœ°å€ï¼š%p\n"</span>, &amp;stack_probe);
}
</code></pre>
<h3 data-id="heading-6">2. å¤–è®¾ä¸å·¥ä½œï¼ˆUARTã€SPIã€I2Cç­‰ï¼‰</h3>
<p><strong>æ’æŸ¥é¡ºåº</strong>ï¼š</p>
<ol>
<li><strong>ç”µæºå’Œæ—¶é’Ÿ</strong>ï¼šè®¾å¤‡ä¾›ç”µäº†å—ï¼Ÿæ—¶é’Ÿä½¿èƒ½äº†å—ï¼Ÿ</li>
<li><strong>å¼•è„šé…ç½®</strong>ï¼šå¼•è„šæ¨¡å¼è®¾ç½®å¯¹äº†å—ï¼Ÿ</li>
<li><strong>å‚æ•°åŒ¹é…</strong>ï¼šæ³¢ç‰¹ç‡ã€æ•°æ®ä½ç­‰ä¸¤è¾¹ä¸€è‡´å—ï¼Ÿ</li>
<li><strong>ä¿¡å·æµ‹é‡</strong>ï¼šç”¨ç¤ºæ³¢å™¨çœ‹æ³¢å½¢</li>
</ol>
<p><strong>è®°å¿†å£è¯€</strong>ï¼š<strong>ç”µæ—¶å¼•è„šä¸‰è¦ç´ ï¼Œå‚æ•°æ³¢å½¢æœ€åæŸ¥</strong></p>
<h3 data-id="heading-7">3. æ•°æ®å‡ºé”™æˆ–ä¹±ç </h3>
<p><strong>æ£€æŸ¥é¡ºåº</strong>ï¼š</p>
<ol>
<li><strong>ç¼“å†²åŒºå¤§å°</strong>ï¼šå‘é€çš„æ•°æ®è¶…è¿‡ç¼“å†²åŒºäº†å—ï¼Ÿ</li>
<li><strong>æ•°æ®ç±»å‹</strong>ï¼šintã€floatåœ¨ä¸åŒå¹³å°å¤§å°ä¸åŒ</li>
<li><strong>å­—èŠ‚é¡ºåº</strong>ï¼šå¤§å°ç«¯é—®é¢˜</li>
<li><strong>åŒæ­¥é—®é¢˜</strong>ï¼šæ•°æ®æ²¡å‡†å¤‡å¥½å°±è¯»å–äº†</li>
</ol>
<h3 data-id="heading-8">4. ç¨‹åºè·‘é£ï¼ˆæ‰§è¡Œä¸æ­£å¸¸ä½†æ²¡æ­»æœºï¼‰</h3>
<p><strong>å¿«é€Ÿè¯Šæ–­</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åœ¨å…³é”®ä½ç½®æ·»åŠ æ ‡è®°</span>
void <span class="hljs-built_in">important_function</span>() {
    <span class="hljs-built_in">GPIO_SetBit</span>(LED1);  <span class="hljs-comment">// ç¯äº®è¡¨ç¤ºè¿›å…¥å‡½æ•°</span>
    <span class="hljs-comment">// ... ä½ çš„ä»£ç </span>
    <span class="hljs-built_in">GPIO_ResetBit</span>(LED1); <span class="hljs-comment">// ç¯ç­è¡¨ç¤ºç¦»å¼€å‡½æ•°</span>
}
</code></pre>
<h3 data-id="heading-9">5. å†…å­˜æ³„æ¼ï¼ˆè¶Šæ¥è¶Šæ…¢ï¼Œæœ€åæ­»æœºï¼‰</h3>
<p><strong>ç®€å•æ£€æµ‹æ³•</strong>ï¼š</p>
<ol>
<li><strong>è®°å½•æ³•</strong>ï¼šæ¯æ¬¡ç”³è¯·å†…å­˜æ—¶è®°ä¸‹æ¥ï¼Œé‡Šæ”¾æ—¶åˆ é™¤è®°å½•</li>
<li><strong>å‹åŠ›æµ‹è¯•</strong>ï¼šè®©ç¨‹åºé•¿æ—¶é—´è¿è¡Œï¼Œè§‚å¯Ÿå†…å­˜å˜åŒ–</li>
<li><strong>è¾¹ç•Œæ£€æµ‹</strong>ï¼šåœ¨å†…å­˜å—å‰ååŠ ç‰¹æ®Šæ ‡è®°</li>
</ol>
<h3 data-id="heading-10">6. ä¸­æ–­é—®é¢˜</h3>
<p><strong>å¸¸è§é”™è¯¯</strong>ï¼š</p>
<ul>
<li>ä¸­æ–­å¤„ç†æ—¶é—´å¤ªé•¿</li>
<li>ä¸­æ–­åµŒå¥—å¯¼è‡´æ­»é”</li>
<li>ä¸­æ–­æ ‡å¿—æ²¡æ¸…é™¤</li>
<li>ä¸­æ–­ä¼˜å…ˆçº§è®¾ç½®é”™è¯¯</li>
</ul>
<p><strong>é»„é‡‘æ³•åˆ™</strong>ï¼š<strong>ä¸­æ–­å¤„ç†è¦çŸ­å¿«ï¼Œæ¸…é™¤æ ‡å¿—åˆ«å¿˜æ‰</strong></p>
<h2 data-id="heading-11">ä¸‰ã€å››çº§è°ƒè¯•æ³•ï¼ˆä»ç®€å•åˆ°å¤æ‚ï¼‰</h2>
<h3 data-id="heading-12">ç¬¬ä¸€çº§ï¼šè‚‰çœ¼è§‚å¯Ÿæ³•</h3>
<p><strong>åšä»€ä¹ˆ</strong>ï¼š</p>
<ul>
<li>çœ‹LEDæŒ‡ç¤ºç¯</li>
<li>å¬èœ‚é¸£å™¨å£°éŸ³</li>
<li>æ‘¸èŠ¯ç‰‡æ¸©åº¦ï¼ˆå°å¿ƒçƒ«ä¼¤ï¼‰</li>
<li>çœ‹ä¸²å£æ‰“å°ä¿¡æ¯</li>
</ul>
<p><strong>é€‚ç”¨</strong>ï¼šæ˜æ˜¾çš„é—®é¢˜ï¼Œæ¯”å¦‚å®Œå…¨ä¸å·¥ä½œ</p>
<h3 data-id="heading-13">ç¬¬äºŒçº§ï¼šæ‰“å°è°ƒè¯•æ³•ï¼ˆæœ€å¸¸ç”¨ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åˆ†çº§æ‰“å°ï¼Œæ–¹ä¾¿æ§åˆ¶</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> DEBUG_LEVEL 1  <span class="hljs-comment">// 0=å…³é—­ï¼Œ1=é”™è¯¯ï¼Œ2=è­¦å‘Šï¼Œ3=ä¿¡æ¯ï¼Œ4=è¯¦ç»†</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG_LEVEL &gt;= 1</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> LOG_ERROR(...) printf(<span class="hljs-string">"[ERROR] "</span> __VA_ARGS__)</span>
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> LOG_ERROR(...)</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-built_in">LOG_ERROR</span>(<span class="hljs-string">"æ¸©åº¦ä¼ æ„Ÿå™¨è¯»å–å¤±è´¥ï¼Œåœ°å€ï¼š0x%02X\n"</span>, sensor_addr);
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ï¼Œä¸éœ€è¦ç‰¹æ®Šå·¥å…·<br/>
<strong>ç¼ºç‚¹</strong>ï¼šå¯èƒ½å½±å“å®æ—¶æ€§</p>
<h3 data-id="heading-14">ç¬¬ä¸‰çº§ï¼šæ–­ç‚¹è°ƒè¯•æ³•</h3>
<p><strong>ä½¿ç”¨æ¡ä»¶</strong>ï¼šæœ‰ä»¿çœŸå™¨ï¼ˆJ-Linkã€ST-Linkç­‰ï¼‰</p>
<p><strong>åŸºæœ¬æ“ä½œ</strong>ï¼š</p>
<ol>
<li>è¿æ¥ä»¿çœŸå™¨</li>
<li>åœ¨å¯ç–‘ä»£ç è¡Œè®¾æ–­ç‚¹</li>
<li>å•æ­¥æ‰§è¡Œï¼Œè§‚å¯Ÿå˜é‡</li>
<li>æŸ¥çœ‹è°ƒç”¨æ ˆï¼ˆè°è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼‰</li>
</ol>
<p><strong>æŠ€å·§</strong>ï¼š</p>
<ul>
<li><strong>æ¡ä»¶æ–­ç‚¹</strong>ï¼šåªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘</li>
<li><strong>æ•°æ®æ–­ç‚¹</strong>ï¼šç›‘è§†æŸä¸ªå˜é‡è¢«è°æ”¹äº†</li>
</ul>
<h3 data-id="heading-15">ç¬¬å››çº§ï¼šä¸“ä¸šå·¥å…·æ³•</h3>
<p><strong>å·¥å…·æ¸…å•</strong>ï¼š</p>
<ul>
<li><strong>é€»è¾‘åˆ†æä»ª</strong>ï¼šçœ‹é€šä¿¡æ³¢å½¢ï¼ˆSPIã€I2Cã€UARTï¼‰</li>
<li><strong>ç¤ºæ³¢å™¨</strong>ï¼šçœ‹ç”µå‹ã€æ—¶åº</li>
<li><strong>ç”µæµæ¢å¤´</strong>ï¼šæŸ¥åŠŸè€—é—®é¢˜</li>
<li><strong>Traceå·¥å…·</strong>ï¼šè®°å½•ç¨‹åºæ‰§è¡Œæµç¨‹</li>
</ul>
<h2 data-id="heading-16">å››ã€é—®é¢˜å®šä½æµç¨‹å›¾ï¼ˆç®€å•ç‰ˆï¼‰</h2>
<pre><code class="hljs language-markdown" lang="markdown">å¼€å§‹
  â†“
ç¨‹åºå‡ºé—®é¢˜äº†
  â†“
æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿâ†’ æ­»æœº/é‡å¯ â†’ æ£€æŸ¥å †æ ˆ/å†…å­˜
  â†“          åŠŸèƒ½å¼‚å¸¸   â†’ æ£€æŸ¥ç›¸å…³ä»£ç 
å¤–è®¾é—®é¢˜ï¼Ÿ            æ—¶åºé—®é¢˜ â†’ åŠ å»¶è¿Ÿæµ‹è¯•
  â†“æ˜¯          â†“å¦
æ£€æŸ¥ï¼š          æ£€æŸ¥ï¼š
<span class="hljs-bullet">1.</span> ç”µæº       1. æ•°æ®æµ
<span class="hljs-bullet">2.</span> æ—¶é’Ÿ       2. çŠ¶æ€æœº
<span class="hljs-bullet">3.</span> å¼•è„š       3. æ¡ä»¶åˆ¤æ–­
<span class="hljs-bullet">4.</span> é…ç½®       4. èµ„æºç«äº‰
  â†“              â†“
ç”¨å·¥å…·æµ‹æ³¢å½¢    åŠ æ—¥å¿—æ‰“å°`
  â†“              â†“
å¯¹æ¯”æ‰‹å†Œ       ç¼©å°èŒƒå›´
  â†“              â†“
æ‰¾åˆ°åŸå›        æ‰¾åˆ°åŸå› 
  â†“              â†“
ä¿®å¤å¹¶æµ‹è¯• â† ä¿®å¤å¹¶æµ‹è¯•
  â†“
è®°å½•åˆ°æ–‡æ¡£
  â†“
ç»“æŸ
</code></pre>
<h2 data-id="heading-17">äº”ã€å®ç”¨å·¥å…·ç®±</h2>
<h3 data-id="heading-18">1. å¿…å¤‡è½¯ä»¶å·¥å…·</h3>
<ul>
<li><strong>ä¸²å£åŠ©æ‰‹</strong>ï¼šSecureCRTã€Puttyã€MobaXterm</li>
<li><strong>ä»£ç ç¼–è¾‘å™¨</strong>ï¼šVS Codeã€Source Insight</li>
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šGitï¼ˆä¸€å®šè¦ç”¨ï¼ï¼‰</li>
<li><strong>é™æ€æ£€æŸ¥</strong>ï¼šCppcheckï¼ˆå…è´¹å¥½ç”¨ï¼‰</li>
</ul>
<h3 data-id="heading-19">2. å¿…å¤‡ç¡¬ä»¶å·¥å…·</h3>
<ul>
<li><strong>ä¸‡ç”¨è¡¨</strong>ï¼šæµ‹ç”µå‹ã€é€šæ–­</li>
<li><strong>ç¤ºæ³¢å™¨</strong>ï¼šåŒé€šé“ï¼Œ100MHzå¤Ÿç”¨</li>
<li><strong>é€»è¾‘åˆ†æä»ª</strong>ï¼šSaleae Logicï¼ˆå…¥é—¨æ¨èï¼‰</li>
<li><strong>ä»¿çœŸå™¨</strong>ï¼šJ-Linkã€ST-Link</li>
<li><strong>ç”µæº</strong>ï¼šå¯è°ƒç¨³å‹ç”µæº</li>
</ul>
<h3 data-id="heading-20">3. è‡ªåˆ¶è°ƒè¯•å·¥å…·</h3>
<pre><code class="hljs language-ini" lang="ini">// ç®€å•æ€§èƒ½æµ‹è¯•
uint32_t test_start, test_end, test_time<span class="hljs-comment">;</span>

<span class="hljs-attr">test_start</span> = get_system_tick()<span class="hljs-comment">;</span>
your_function()<span class="hljs-comment">;  // è¦æµ‹è¯•çš„å‡½æ•°</span>
<span class="hljs-attr">test_end</span> = get_system_tick()<span class="hljs-comment">;</span>

<span class="hljs-attr">test_time</span> = test_end - test_start<span class="hljs-comment">;</span>
printf("å‡½æ•°æ‰§è¡Œæ—¶é—´ï¼š%lu ms\n", test_time)<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-21">å…­ã€äº”ä¸ªç»å…¸åœºæ™¯å®æˆ˜</h2>
<h3 data-id="heading-22">åœºæ™¯1ï¼šä¸²å£åªèƒ½å‘é€ä¸èƒ½æ¥æ”¶</h3>
<p><strong>æ£€æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>å‘é€æ–¹å’Œæ¥æ”¶æ–¹æ³¢ç‰¹ç‡ä¸€è‡´å—ï¼Ÿ</li>
<li>RXå’ŒTXçº¿æ¥åäº†å—ï¼Ÿ</li>
<li>æ¥æ”¶ä¸­æ–­ä½¿èƒ½äº†å—ï¼Ÿ</li>
<li>æ¥æ”¶ç¼“å†²åŒºå¤Ÿå¤§å—ï¼Ÿ</li>
<li>æµæ§åˆ¶è®¾ç½®æ­£ç¡®å—ï¼Ÿ</li>
</ol>
<h3 data-id="heading-23">åœºæ™¯2ï¼šç³»ç»Ÿè¿è¡Œä¸€ä¼šå„¿å°±æ­»æœº</h3>
<p><strong>æ£€æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>çœ‹é—¨ç‹—å–‚ç‹—æ­£å¸¸å—ï¼Ÿ</li>
<li>å †æ ˆè®¾ç½®å¤Ÿå¤§å—ï¼Ÿ</li>
<li>æœ‰åŠ¨æ€ç”³è¯·å†…å­˜æ²¡é‡Šæ”¾å—ï¼Ÿ</li>
<li>ä¸­æ–­é‡Œè°ƒç”¨ä¸å¯é‡å…¥å‡½æ•°äº†å—ï¼Ÿ</li>
</ol>
<h3 data-id="heading-24">åœºæ™¯3ï¼šADCé‡‡æ ·å€¼è·³å˜å¤ªå¤§</h3>
<p><strong>æ£€æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>å‚è€ƒç”µå‹ç¨³å®šå—ï¼Ÿ</li>
<li>è¾“å…¥ä¿¡å·æœ‰æ»¤æ³¢å—ï¼Ÿ</li>
<li>é‡‡æ ·æ—¶é—´è®¾ç½®å¤Ÿé•¿å—ï¼Ÿ</li>
<li>ç”µæºçº¹æ³¢å¤§å—ï¼Ÿ</li>
<li>åœ°çº¿æ¥å¥½äº†å—ï¼Ÿ</li>
</ol>
<h3 data-id="heading-25">åœºæ™¯4ï¼šä»»åŠ¡åˆ‡æ¢ä¸æ­£å¸¸</h3>
<p><strong>æ£€æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>ä»»åŠ¡ä¼˜å…ˆçº§è®¾ç½®å¯¹äº†å—ï¼Ÿ</li>
<li>ä»»åŠ¡å †æ ˆå¤Ÿå¤§å—ï¼Ÿ</li>
<li>æœ‰ä»»åŠ¡ä¸€ç›´å ç”¨CPUå—ï¼Ÿ</li>
<li>ä¿¡å·é‡/äº’æ–¥é”ä½¿ç”¨æ­£ç¡®å—ï¼Ÿ</li>
</ol>
<h3 data-id="heading-26">åœºæ™¯5ï¼šåŠŸè€—åé«˜</h3>
<p><strong>æ£€æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>æ²¡ç”¨åˆ°çš„å¤–è®¾å…³é—­äº†å—ï¼Ÿ</li>
<li>æ²¡ç”¨åˆ°çš„IOè®¾ç½®æ­£ç¡®æ¨¡å¼äº†å—ï¼Ÿ</li>
<li>è¿›å…¥ä½åŠŸè€—æ¨¡å¼äº†å—ï¼Ÿ</li>
<li>å”¤é†’æºé…ç½®æ­£ç¡®å—ï¼Ÿ</li>
</ol>
<h2 data-id="heading-27">ä¸ƒã€è°ƒè¯•æ€ç»´è®­ç»ƒ</h2>
<h3 data-id="heading-28">1. äºŒåˆ†æŸ¥æ‰¾æ³•</h3>
<p><strong>åšæ³•</strong>ï¼šå¦‚æœä¸çŸ¥é“å“ªé‡Œå‡ºé—®é¢˜ï¼ŒæŠŠä»£ç åˆ†æˆä¸¤åŠï¼Œå…ˆç¡®å®šé—®é¢˜åœ¨å“ªä¸€åŠ</p>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">æ•´ä¸ªç³»ç»Ÿæœ‰é—®é¢˜
<span class="hljs-code">    â†“
å‰ä¸€åŠåŠŸèƒ½æ­£å¸¸å—ï¼Ÿ â†’ æ­£å¸¸ â†’ é—®é¢˜åœ¨åä¸€åŠ
    â†“ä¸æ­£å¸¸             â†“
é—®é¢˜åœ¨å‰ä¸€åŠ        åŒç†ç»§ç»­åˆ†
</span></code></pre>
<h3 data-id="heading-29">2. æœ€å°ç³»ç»Ÿæ³•</h3>
<p><strong>åšæ³•</strong>ï¼šå…³æ‰æ‰€æœ‰ä¸ç›¸å…³åŠŸèƒ½ï¼Œåªä¿ç•™æœ€ç®€ç³»ç»Ÿï¼Œçœ‹é—®é¢˜æ˜¯å¦è¿˜åœ¨</p>
<h3 data-id="heading-30">3. å¯¹æ¯”æ³•</h3>
<p><strong>åšæ³•</strong>ï¼š</p>
<ul>
<li>å’Œæ­£å¸¸ç‰ˆæœ¬å¯¹æ¯”</li>
<li>å’Œå…¶ä»–æ­£å¸¸è®¾å¤‡å¯¹æ¯”</li>
<li>å’Œå‚è€ƒè®¾è®¡å¯¹æ¯”</li>
</ul>
<h3 data-id="heading-31">4. æ›¿æ¢æ³•</h3>
<p><strong>åšæ³•</strong>ï¼š</p>
<ul>
<li>æ¢èŠ¯ç‰‡</li>
<li>æ¢æ¨¡å—</li>
<li>æ¢ä»£ç </li>
</ul>
<h2 data-id="heading-32">å…«ã€å¥½ä¹ æƒ¯åŸ¹å…»</h2>
<h3 data-id="heading-33">ä»£ç ç¯‡</h3>
<ol>
<li><strong>æ·»åŠ æ³¨é‡Š</strong>ï¼šå…³é”®åœ°æ–¹ä¸€å®šè¦å†™æ³¨é‡Š</li>
<li><strong>ç»Ÿä¸€é£æ ¼</strong>ï¼šå›¢é˜Ÿç”¨åŒä¸€ç§ä»£ç é£æ ¼</li>
<li><strong>é˜²å¾¡ç¼–ç¨‹</strong>ï¼šæ£€æŸ¥å‚æ•°æœ‰æ•ˆæ€§</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ¯ä¸ªå‡½æ•°éƒ½è¦è€ƒè™‘å¤±è´¥æƒ…å†µ</li>
</ol>
<h3 data-id="heading-34">è°ƒè¯•ç¯‡</h3>
<ol>
<li><strong>ä¸€æ¬¡åªæ”¹ä¸€å¤„</strong>ï¼šæ”¹å®Œæµ‹è¯•ï¼Œæœ‰æ•ˆå†ç»§ç»­</li>
<li><strong>è®°å½•ä¿®æ”¹</strong>ï¼šæ”¹äº†ä»€ä¹ˆéƒ½è®°ä¸‹æ¥</li>
<li><strong>ä¿ç•™ç°åœº</strong>ï¼šå‡ºé—®é¢˜æ—¶å…ˆåˆ«é‡å¯ï¼Œæ”¶é›†ä¿¡æ¯</li>
<li><strong>å–„ç”¨ç‰ˆæœ¬ç®¡ç†</strong>ï¼šå‡ºé—®é¢˜å¯ä»¥å¿«é€Ÿå›é€€</li>
</ol>
<h3 data-id="heading-35">æ–‡æ¡£ç¯‡</h3>
<ol>
<li><strong>é—®é¢˜è®°å½•è¡¨</strong>ï¼š</li>
</ol>
<pre><code class="hljs">é—®é¢˜æè¿°ï¼š
å‘ç”Ÿæ—¶é—´ï¼š
å¤ç°æ­¥éª¤ï¼š
æ ¹æœ¬åŸå› ï¼š
è§£å†³æ–¹æ¡ˆï¼š
é¢„é˜²æªæ–½ï¼š
</code></pre>
<ol>
<li><strong>ç»éªŒæ€»ç»“</strong>ï¼šæ¯æ¬¡è§£å†³é—®é¢˜éƒ½å†™ä¸‹å­¦åˆ°äº†ä»€ä¹ˆ</li>
</ol>
<h2 data-id="heading-36">ä¹ã€å¿«é€Ÿå‚è€ƒè¡¨</h2>









































<table><thead><tr><th>é—®é¢˜ç°è±¡</th><th>ç¬¬ä¸€æ£€æŸ¥ç‚¹</th><th>ç¬¬äºŒæ£€æŸ¥ç‚¹</th><th>å¸¸ç”¨å·¥å…·</th></tr></thead><tbody><tr><td>å®Œå…¨æ­»æœº</td><td>ç”µæºç”µå‹</td><td>å¤ä½ç”µè·¯</td><td>ä¸‡ç”¨è¡¨</td></tr><tr><td>åŠŸèƒ½å¼‚å¸¸</td><td>æœ€è¿‘ä¿®æ”¹</td><td>é…ç½®å‚æ•°</td><td>è°ƒè¯•å™¨</td></tr><tr><td>æ•°æ®é”™è¯¯</td><td>æ•°æ®æ¥æº</td><td>ä¼ è¾“è¿‡ç¨‹</td><td>é€»è¾‘åˆ†æä»ª</td></tr><tr><td>æ€§èƒ½ä¸‹é™</td><td>CPUè´Ÿè½½</td><td>å†…å­˜ä½¿ç”¨</td><td>æ€§èƒ½åˆ†æå™¨</td></tr><tr><td>å¶å‘é—®é¢˜</td><td>æ—¶åºè¾¹ç•Œ</td><td>èµ„æºç«äº‰</td><td>é•¿æ—¶é—´æµ‹è¯•</td></tr></tbody></table>
<h2 data-id="heading-37">åã€ä¸€å¥è¯ç»éªŒæ€»ç»“</h2>
<ol>
<li><strong>å…ˆè½¯åç¡¬</strong>ï¼šå…ˆæ€€ç–‘è½¯ä»¶ï¼Œå†æ€€ç–‘ç¡¬ä»¶</li>
<li><strong>å…ˆç®€åç¹</strong>ï¼šä»æœ€ç®€å•çš„å¯èƒ½åŸå› å¼€å§‹æŸ¥</li>
<li><strong>å¤§èƒ†å‡è®¾ï¼Œå°å¿ƒæ±‚è¯</strong>ï¼šå…ˆçŒœå¯èƒ½åŸå› ï¼Œå†ç”¨å®éªŒéªŒè¯</li>
<li><strong>é—®é¢˜ä¸ä¼šæ¶ˆå¤±ï¼Œåªä¼šè½¬ç§»</strong>ï¼šè§£å†³äº†è¡¨é¢é—®é¢˜ï¼Œè¦æ‰¾åˆ°æ ¹æœ¬åŸå› </li>
<li><strong>æœ€å¥½çš„è°ƒè¯•æ˜¯é¢„é˜²</strong>ï¼šå¥½çš„è®¾è®¡å‡å°‘80%çš„é—®é¢˜</li>
</ol>
<p><strong>æœ€åå¿ å‘Š</strong>ï¼šè°ƒè¯•æ˜¯åµŒå…¥å¼å¼€å‘çš„å¿…ä¿®è¯¾ï¼Œé‡åˆ°é—®é¢˜ä¸è¦æ…Œã€‚æŒ‰ç…§è¿™ä¸ªæŒ‡å—ä¸€æ­¥æ­¥æ¥ï¼Œå¤§å¤šæ•°é—®é¢˜éƒ½èƒ½è§£å†³ã€‚ç»éªŒæ˜¯åœ¨è§£å†³é—®é¢˜çš„è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ï¼Œæ¯ä¸ªé—®é¢˜éƒ½æ˜¯è¿›æ­¥çš„æœºä¼šï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£è¯» Casbin ä¹‹äºŒï¼šå¦‚ä½•åœ¨ Springé¡¹ç›®ä¸­å®ç°èœå•æƒé™]]></title>    <link>https://juejin.cn/post/7582406735387607046</link>    <guid>https://juejin.cn/post/7582406735387607046</guid>    <pubDate>2025-12-11T10:30:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582406735387607046" data-draft-id="7582397035942461446" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£è¯» Casbin ä¹‹äºŒï¼šå¦‚ä½•åœ¨ Springé¡¹ç›®ä¸­å®ç°èœå•æƒé™"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T10:30:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¥¿é—¨è€é“"/> <meta itemprop="url" content="https://juejin.cn/user/4336129588855143"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£è¯» Casbin ä¹‹äºŒï¼šå¦‚ä½•åœ¨ Springé¡¹ç›®ä¸­å®ç°èœå•æƒé™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129588855143/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¥¿é—¨è€é“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T10:30:45.000Z" title="Thu Dec 11 2025 10:30:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¤ºä¾‹é¡¹ç›®</h2>
<p>Casbin å®˜æ–¹æ–‡æ¡£æä¾›äº†ä¸€ä¸ª Spring é¡¹ç›®å®ç°èœå•æƒé™çš„ç¤ºä¾‹é¡¹ç›®ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjcasbin%2Fjcasbin-menu-permission" target="_blank" title="https://github.com/jcasbin/jcasbin-menu-permission" ref="nofollow noopener noreferrer">github.com/jcasbin/jcaâ€¦</a></p>
<p>ä¸‹é¢æˆ‘ä»¬å°±åŸºäºè¿™ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œè§£è¯»å¦‚ä½•åŸºäº casbin å®ç°èœå•æƒé™</p>
<h2 data-id="heading-1">è®¿é—®æ§åˆ¶ç­–ç•¥æ¨¡å‹</h2>
<h3 data-id="heading-2">å®šä¹‰å…ƒæ¨¡å‹</h3>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/main/resources/casbin/model.conf</code></li>
</ul>
<pre><code class="hljs language-conf" lang="conf">[request_definition]
r = sub, obj, act

[policy_definition]
p = sub, obj, act, eft

[role_definition]
g = _, _
g2 = _, _

[policy_effect]
e = some(where (p_eft == allow)) &amp;&amp; !some(where (p_eft == deny))

[matchers]
m = g(r.sub, p.sub) &amp;&amp; r.act == p.act &amp;&amp; (g2(r.obj, p.obj) || r.obj == p.obj)
</code></pre>
<ul>
<li><code>role_definition</code> ä¸­ä½¿ç”¨äº†ä¸¤ç§è§’è‰²ï¼Œ <code>g</code> ç”¨äºç®¡ç†ç”¨æˆ·-è§’è‰²å½’å±ï¼Œ <code>g2</code> ç”¨äºè¡¨è¾¾èœå•çˆ¶å­å±‚çº§ï¼Œç‰¹åˆ«æ˜¯<code>g2</code>çš„è¿™ç§å¤šå±‚çº§çš„å½’å±å…³ç³»ï¼Œå¯ä»¥æœ‰åŠ©æˆ‘ä»¬æ›´æ·±å…¥ç†è§£ casbin çš„å·¥ä½œæœºåˆ¶</li>
<li><code>policy_effect </code> å®šä¹‰äº† <code>deny</code> ä¼˜å…ˆäº <code>allow</code>ï¼Œç”¨äºç²¾å‡†å¦å†³å…·ä½“å­èœå•</li>
<li><code>matchers </code> çš„åŒ¹é…å™¨å…è®¸â€œæˆæƒåˆ°çˆ¶èœå•â†’å­èœå•è‡ªåŠ¨ç»§æ‰¿â€ï¼Œæˆ–ç›´æ¥å‘½ä¸­å…·ä½“èœå•</li>
</ul>
<h3 data-id="heading-3">å®šä¹‰ç­–ç•¥</h3>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/main/resources/casbin/policy.csv</code></li>
</ul>
<pre><code class="hljs language-csv" lang="csv">p, ROLE_ROOT, SystemMenu, read, allow
p, ROLE_ADMIN, UserMenu, read, allow
p, ROLE_ADMIN, AdminSubMenu_deny, read, deny
p, ROLE_USER, UserSubMenu_allow, read, allow

g, admin, ROLE_ADMIN
g, user, ROLE_USER
g, ROLE_ADMIN, ROLE_USER

g2, UserSubMenu_allow, UserMenu
g2, AdminSubMenu_deny, AdminMenu
g2, (NULL), SystemMenu
</code></pre>
<ul>
<li><code>p</code> ä¸ºè§’è‰²æˆäºˆèœå•è®¿é—®ï¼›<code>eft</code> ä¸º allow/deny</li>
<li><code>g</code> å…³è”ç”¨æˆ·ä¸è§’è‰²ï¼›æ”¯æŒè§’è‰²ç»§æ‰¿ï¼ˆå¦‚ <code>ROLE_ADMIN</code> ç»§æ‰¿ <code>ROLE_USER</code>ï¼‰</li>
<li><code>g2</code> å»ºæ ‘ï¼šå­èœå•â†’çˆ¶èœå•ï¼›<code>(NULL)</code> ä»…å£°æ˜é¡¶çº§èœå•</li>
</ul>
<h2 data-id="heading-4">å®ç° Spring èœå•æƒé™</h2>
<h3 data-id="heading-5">æ‰§è¡Œå™¨æ³¨å…¥</h3>
<p><code>Enforcer</code> æ˜¯Casbin çš„æ‰§è¡Œå™¨ï¼Œ CasbinConfig ç±»å®šä¹‰äº†å¯åŠ¨æ—¶æ³¨å…¥ <code>Enforcer</code>ï¼Œç»Ÿä¸€ç”± Spring ç®¡ç†ã€‚</p>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/main/java/org/casbin/config/CasbinConfig.java:33â€“38</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CasbinConfig</span> {
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Enforcer <span class="hljs-title function_">enforcer</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">File</span> <span class="hljs-variable">modelFile</span> <span class="hljs-operator">=</span> ResourceUtil.getTempFileFromResource(<span class="hljs-string">"casbin/model.conf"</span>);
        <span class="hljs-type">File</span> <span class="hljs-variable">policyFile</span> <span class="hljs-operator">=</span> ResourceUtil.getTempFileFromResource(<span class="hljs-string">"casbin/policy.csv"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Enforcer</span>(modelFile.getAbsolutePath(), policyFile.getAbsolutePath());
    }
}
</code></pre>
<h3 data-id="heading-6">æ„å»ºèœå•æ•°æ®ç»“æ„</h3>
<p><code>MenuUtil</code> ä»…è§£æç­–ç•¥ä¸­çš„ <code>g2</code> è®°å½•ï¼Œæ„å»ºèœå•æ ‘ä¸çˆ¶å­å…³ç³»ã€‚æä¾›äº†ä¸€ä¸ªå­—å…¸<code>menuMap</code>æ¥ç´¢å¼•æ‰€æœ‰çš„èœå•é¡¹ï¼Œå¹¶ç»™èœå•è®¾ç½®äº†æ­£ç¡®çš„çˆ¶å­å…³è”ã€‚åç»­å¯ç”¨è¿™ä¸ªæ•°æ®ç»“æ„å®ç°ï¼Œæ‹¿åˆ°çˆ¶çº§èœå•æƒé™å³æ‹¿åˆ°å­èœå•ã€‚</p>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/main/java/org/casbin/util/MenuUtil.java:20â€“56</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MenuUtil</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Map&lt;String, MenuEntity&gt; <span class="hljs-title function_">parseCsvFile</span><span class="hljs-params">(String filePath)</span> <span class="hljs-keyword">throws</span> IOException {
        Map&lt;String, MenuEntity&gt; menuMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">BufferedReader</span> <span class="hljs-variable">br</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(filePath))) {
            String line;
            <span class="hljs-keyword">while</span> ((line = br.readLine()) != <span class="hljs-literal">null</span>) {
                String[] values = line.split(<span class="hljs-string">","</span>);
                <span class="hljs-keyword">if</span> (values.length == <span class="hljs-number">3</span> &amp;&amp; <span class="hljs-string">"g2"</span>.equals(values[<span class="hljs-number">0</span>].trim())) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">childName</span> <span class="hljs-operator">=</span> values[<span class="hljs-number">1</span>].trim();
                    <span class="hljs-type">String</span> <span class="hljs-variable">parentName</span> <span class="hljs-operator">=</span> values[<span class="hljs-number">2</span>].trim();
                    <span class="hljs-keyword">if</span> (!<span class="hljs-string">"(NULL)"</span>.equals(childName)) {
                        menuMap.putIfAbsent(childName, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MenuEntity</span>(childName));
                        <span class="hljs-keyword">if</span> (!parentName.isEmpty()) {
                            menuMap.putIfAbsent(parentName, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MenuEntity</span>(parentName));
                            <span class="hljs-type">MenuEntity</span> <span class="hljs-variable">childMenu</span> <span class="hljs-operator">=</span> menuMap.get(childName);
                            <span class="hljs-type">MenuEntity</span> <span class="hljs-variable">parentMenu</span> <span class="hljs-operator">=</span> menuMap.get(parentName);
                            parentMenu.addSubMenu(childMenu);
                        }
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!parentName.isEmpty()) {
                        menuMap.putIfAbsent(parentName, <span class="hljs-keyword">new</span> <span class="hljs-title class_">MenuEntity</span>(parentName));
                    }
                }
            }
        }
        <span class="hljs-keyword">return</span> menuMap;
    }
}
</code></pre>
<h3 data-id="heading-7">æƒé™è¿‡æ»¤</h3>
<p><code>MenuService</code> æä¾›äº†ä¸€ä¸ªæ–¹æ³•<code>findAccessibleMenus</code>ï¼Œç”¨äºè·å¾—å½“å‰ç”¨æˆ·æ‹¥æœ‰æƒé™çš„æ‰€æœ‰èœå•ã€‚<code>checkAndSetMenuAccess</code>æ–¹æ³•ä½¿ç”¨é€’å½’ç®—æ³•è¿‡æ»¤ä¸å¯è®¿é—®å­èŠ‚ç‚¹ï¼›çˆ¶èŠ‚ç‚¹åªè¦è‡ªèº«æˆ–ä»»ä¸€å­èŠ‚ç‚¹å¯è®¿é—®å³â€œå¯è§â€</p>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/main/java/org/casbin/service/MenuService.java:45â€“102</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MenuService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> Enforcer enforcer;
    <span class="hljs-keyword">private</span> Map&lt;String, MenuEntity&gt; menuMap;
    <span class="hljs-keyword">private</span> Map&lt;String, Boolean&gt; accessMap;

    <span class="hljs-keyword">public</span> List&lt;MenuEntity&gt; <span class="hljs-title function_">findAccessibleMenus</span><span class="hljs-params">(String username)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">File</span> <span class="hljs-variable">policyFile</span> <span class="hljs-operator">=</span> ResourceUtil.getTempFileFromResource(<span class="hljs-string">"casbin/policy.csv"</span>);
            <span class="hljs-built_in">this</span>.menuMap = MenuUtil.parseCsvFile(policyFile.getAbsolutePath());
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-built_in">this</span>.menuMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        }
        <span class="hljs-built_in">this</span>.accessMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

        List&lt;MenuEntity&gt; accessibleMenus = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (MenuEntity menu : menuMap.values()) { checkAndSetMenuAccess(menu, username); }
        <span class="hljs-keyword">for</span> (MenuEntity menu : menuMap.values()) {
            <span class="hljs-keyword">if</span> (isTopLevelMenu(menu) &amp;&amp; accessMap.getOrDefault(menu.getName(), <span class="hljs-literal">false</span>)) {
                filterAndAddMenu(menu, accessibleMenus);
            }
        }
        <span class="hljs-keyword">return</span> accessibleMenus;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkAndSetMenuAccess</span><span class="hljs-params">(MenuEntity menu, String username)</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">hasAccess</span> <span class="hljs-operator">=</span> checkUserAccess(username, menu.getName());
        <span class="hljs-keyword">for</span> (MenuEntity child : <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(menu.getSubMenus())) {
            accessMap.remove(child.getName());
            checkAndSetMenuAccess(child, username);
            <span class="hljs-keyword">if</span> (!accessMap.getOrDefault(child.getName(), <span class="hljs-literal">false</span>)) {
                menu.getSubMenus().remove(child);
            } <span class="hljs-keyword">else</span> {
                hasAccess = <span class="hljs-literal">true</span>;
            }
        }
        accessMap.put(menu.getName(), hasAccess);
    }

    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">checkUserAccess</span><span class="hljs-params">(String username, String menuName)</span> {
        <span class="hljs-keyword">return</span> enforcer.enforce(username, menuName, <span class="hljs-string">"read"</span>);
    }
}
</code></pre>
<h3 data-id="heading-8">è·¯ç”±æ‹¦æˆª</h3>
<p><code>WebMvcConfig</code> ä¸­ç»Ÿä¸€å¯¹ <code>/menu/*</code> åšé¡µçº§æƒé™æ ¡éªŒï¼›æœªç™»å½•æˆ–æ— æƒé™ç»Ÿä¸€è·³è½¬æ‹’ç»é¡µ<code>/denied</code></p>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/main/java/org/casbin/config/WebMvcConfig.java:37â€“67</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebMvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MenuService menuService;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> {
        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoginInterceptor</span>()).addPathPatterns(<span class="hljs-string">"/**"</span>).excludePathPatterns(<span class="hljs-string">"/login"</span>, <span class="hljs-string">"/"</span>);

        registry.addInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HandlerInterceptor</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception {
                <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();
                <span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> (String) session.getAttribute(<span class="hljs-string">"username"</span>);
                <span class="hljs-type">String</span> <span class="hljs-variable">requestURI</span> <span class="hljs-operator">=</span> request.getRequestURI();
                <span class="hljs-type">String</span> <span class="hljs-variable">menuName</span> <span class="hljs-operator">=</span> requestURI.substring(requestURI.lastIndexOf(<span class="hljs-string">'/'</span>) + <span class="hljs-number">1</span>);

                <span class="hljs-keyword">if</span> (username == <span class="hljs-literal">null</span>) {
                    response.sendRedirect(request.getContextPath() + <span class="hljs-string">"/denied"</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">if</span> (!menuService.checkMenuAccess(username, menuName)) {
                    response.sendRedirect(request.getContextPath() + <span class="hljs-string">"/denied"</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }).addPathPatterns(<span class="hljs-string">"/menu/*"</span>);
    }
}
</code></pre>
<h3 data-id="heading-9">å•å…ƒæµ‹è¯•ï¼ˆç›´è§‚ç¤ºä¾‹ï¼‰</h3>
<p>é¡¹ç›®æä¾›äº†å•å…ƒæµ‹è¯•å¯ä»¥ç›´æ¥éªŒè¯æ¨¡å‹ä¸ç­–ç•¥çš„æˆæƒ/å¦å†³æ•ˆæœ</p>
<ul>
<li>æºæ–‡ä»¶ï¼š<code>src/test/java/org/casbin/MenuTest.java</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Enforcer</span> <span class="hljs-variable">enforcer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Enforcer</span>(<span class="hljs-string">"examples/casbin/model.conf"</span>,<span class="hljs-string">"examples/casbin/policy.csv"</span>);
assertTrue(enforcer.enforce(<span class="hljs-string">"ROLE_ROOT"</span>, <span class="hljs-string">"AdminMenu"</span>, <span class="hljs-string">"read"</span>));
assertFalse(enforcer.enforce(<span class="hljs-string">"ROLE_USER"</span>, <span class="hljs-string">"AdminMenu"</span>, <span class="hljs-string">"read"</span>));
</code></pre>
<h2 data-id="heading-10">å®æˆ˜æç¤º</h2>
<ul>
<li>ç”¨ <code>deny</code> ç²¾å‡†å¦å†³å…·ä½“å­èœå•ï¼Œçˆ¶çº§ä»å¯æ˜¾ç¤ºä½†ä¸å±•ç¤ºè¯¥å­é¡¹</li>
<li>ç”Ÿäº§ä¸­å»ºè®®åˆ‡æ¢åˆ°æ•°æ®åº“é€‚é…å™¨å¹¶å¼€å¯ Watcherï¼Œä»¥ä¾¿é›†ä¸­ç®¡ç†ä¸å¤šå®ä¾‹ç­–ç•¥åŒæ­¥</li>
<li>åœ¨æœåŠ¡å±‚ç»Ÿä¸€å°è£…æƒé™åˆ¤æ–­ä¸èœå•è¿‡æ»¤ï¼Œæ§åˆ¶å™¨ä¸è§†å›¾åªå…³æ³¨æ•°æ®ä¸å±•ç¤ºï¼Œä¿æŒèŒè´£æ¸…æ™°</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Goå¹¶å‘é™·é˜±é¿å‘ï¼šRWMutexä¸Channelæœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7582399765448949787</link>    <guid>https://juejin.cn/post/7582399765448949787</guid>    <pubDate>2025-12-11T11:09:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765448949787" data-draft-id="7582090790183239718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Goå¹¶å‘é™·é˜±é¿å‘ï¼šRWMutexä¸Channelæœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="Go,ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-11T11:09:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯ä¸æ‰“çƒŠ"/> <meta itemprop="url" content="https://juejin.cn/user/893244690677165"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Goå¹¶å‘é™·é˜±é¿å‘ï¼šRWMutexä¸Channelæœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/893244690677165/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯ä¸æ‰“çƒŠ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:09:24.000Z" title="Thu Dec 11 2025 11:09:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98bddab7575a4338a22bfffc94833ff3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056164&amp;x-signature=AHyM%2F%2FytLLyzUToRG2m3LVeYMS4%3D" alt="photo-1692772819238-7c3fd60917cd.jpeg" loading="lazy"/></p>
<h4 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šGo å¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒå‘½é¢˜ä¸å·¥å…·å®šä½</h4>
<ol>
<li>å¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼ˆæ•°æ®ç«äº‰ã€æ­»é”ã€æ€§èƒ½æŸè€—ï¼‰</li>
<li>RWMutex ä¸ Channel çš„æ ¸å¿ƒå®šä½å·®å¼‚ï¼ˆå…±äº«èµ„æºé” vs é€šä¿¡åŒæ­¥å·¥å…·ï¼‰</li>
<li>æœ¬æ–‡æ ¸å¿ƒä»·å€¼ï¼šèšç„¦é«˜é¢‘é™·é˜±ï¼Œæä¾›å¯è½åœ°çš„é€‰å‹ä¸ç¼–ç è§„èŒƒ</li>
</ol>
<h4 data-id="heading-1">äºŒã€åŸºç¡€è®¤çŸ¥ï¼šRWMutex ä¸ Channel çš„æ ¸å¿ƒå·¥ä½œåŸç†</h4>
<h5 data-id="heading-2">ï¼ˆä¸€ï¼‰RWMutex æ ¸å¿ƒç‰¹æ€§</h5>
<ol>
<li>è¯»å†™åˆ†ç¦»é”æœºåˆ¶ï¼ˆè¯»é”å…±äº«ã€å†™é”äº’æ–¥ï¼‰</li>
<li>æ ¸å¿ƒ API ä¸è¯­ä¹‰ï¼ˆRLock ()/RUnlock ()ã€Lock ()/Unlock ()ï¼‰</li>
<li>é€‚ç”¨åœºæ™¯è¾¹ç•Œï¼ˆè¯»å¤šå†™å°‘ã€å…±äº«èµ„æºä¿æŠ¤ï¼‰</li>
</ol>
<h5 data-id="heading-3">ï¼ˆäºŒï¼‰Channel æ ¸å¿ƒç‰¹æ€§</h5>
<ol>
<li>é€šä¿¡æ¨¡å‹ï¼šCSP æ€æƒ³çš„è½åœ°ï¼ˆâ€œä¸è¦é€šè¿‡å…±äº«å†…å­˜é€šä¿¡ï¼Œè¦é€šè¿‡é€šä¿¡å…±äº«å†…å­˜â€ï¼‰</li>
<li>ç±»å‹åˆ†ç±»ï¼ˆæ— ç¼“å†² / æœ‰ç¼“å†² / å•å‘ Channelï¼‰</li>
<li>æ ¸å¿ƒ API ä¸è¯­ä¹‰ï¼ˆsend/recvã€close ()ã€range éå†ï¼‰</li>
<li>é€‚ç”¨åœºæ™¯è¾¹ç•Œï¼ˆå¹¶å‘ä»»åŠ¡è°ƒåº¦ã€åç¨‹é—´åŒæ­¥ã€è§£è€¦ç”Ÿäº§è€… - æ¶ˆè´¹è€…ï¼‰</li>
</ol>
<h4 data-id="heading-4">ä¸‰ã€é«˜é¢‘é™·é˜±æ‹†è§£ï¼šRWMutex ç¯‡</h4>
<ol>
<li>é™·é˜± 1ï¼šè¯»é”é•¿æœŸæŒæœ‰å¯¼è‡´ â€œå†™é¥¥é¥¿â€ï¼ˆåœºæ™¯ï¼šè¯»æ“ä½œåŒ…å«è€—æ—¶é€»è¾‘ï¼‰</li>
<li>é™·é˜± 2ï¼šè¯»å†™é”æ··ç”¨é€ æˆæ­»é”ï¼ˆåœºæ™¯ï¼šåŒä¸€åç¨‹å…ˆåŠ è¯»é”å†å°è¯•åŠ å†™é”ï¼‰</li>
<li>é™·é˜± 3ï¼šæœªè§£é”å¯¼è‡´åç¨‹é˜»å¡ï¼ˆåœºæ™¯ï¼šå¼‚å¸¸åˆ†æ”¯æœªè°ƒç”¨ Unlock ()/RUnlock ()ï¼‰</li>
<li>é™·é˜± 4ï¼šé”™è¯¯åµŒå¥—åŠ é”ï¼ˆåœºæ™¯ï¼šå¤šå±‚å‡½æ•°åµŒå¥—é‡å¤åŠ é”ï¼‰</li>
<li>é™·é˜± 5ï¼šè¯¯ç”¨ RWMutex å¤„ç†é«˜å¹¶å‘å†™åœºæ™¯ï¼ˆæ€§èƒ½æŸè€—ï¼šå†™é”ç«äº‰æ¿€çƒˆæ—¶ï¼Œè¯»å†™åˆ‡æ¢å¼€é”€å¤§äºäº’æ–¥é”ï¼‰</li>
</ol>
<h4 data-id="heading-5">å››ã€é«˜é¢‘é™·é˜±æ‹†è§£ï¼šChannel ç¯‡</h4>
<ol>
<li>é™·é˜± 1ï¼šæ— ç¼“å†² Channel çš„ â€œåŒæ­¥é˜»å¡â€ è¯¯ç”¨ï¼ˆåœºæ™¯ï¼šå•åç¨‹å‘é€åæœªæ¥æ”¶ï¼Œæˆ–æ¥æ”¶åæœªå‘é€ï¼‰</li>
<li>é™·é˜± 2ï¼šæœ‰ç¼“å†² Channel å®¹é‡è®¾è®¡ä¸å½“ï¼ˆå®¹é‡è¿‡å¤§å¯¼è‡´å†…å­˜æµªè´¹ã€å®¹é‡è¿‡å°å¯¼è‡´é˜»å¡ï¼‰</li>
<li>é™·é˜± 3ï¼šå…³é—­å·²å…³é—­çš„ Channelï¼ˆè§¦å‘ panicï¼Œåœºæ™¯ï¼šå¤šåç¨‹å¹¶å‘å…³é—­ï¼‰</li>
<li>é™·é˜± 4ï¼šnil Channel çš„æ°¸ä¹…é˜»å¡ï¼ˆåœºæ™¯ï¼šæœªåˆå§‹åŒ– Channel ç›´æ¥å‘é€ / æ¥æ”¶ï¼‰</li>
<li>é™·é˜± 5ï¼šSelect è¯­å¥æ¼å¤„ç† default å¯¼è‡´ â€œå¿™ç­‰â€ï¼ˆåœºæ™¯ï¼šæ— æ•°æ®æ—¶æœªé€€å‡ºé€»è¾‘ï¼‰</li>
<li>é™·é˜± 6ï¼šChannel ä½œä¸º â€œå…±äº«èµ„æºâ€ æ»¥ç”¨ï¼ˆåœºæ™¯ï¼šç”¨ Channel å­˜å‚¨å¤§é‡æ•°æ®ï¼Œæ›¿ä»£åˆ‡ç‰‡ / æ˜ å°„ï¼‰</li>
</ol>
<h4 data-id="heading-6">äº”ã€æœ€ä½³å®è·µï¼šRWMutex æ­£ç¡®ç”¨æ³•</h4>
<ol>
<li>é”ç²’åº¦æ§åˆ¶ï¼šè¯»é”ä»…åŒ…è£¹ â€œå¿…è¦è¯»æ“ä½œâ€ï¼Œé¿å…è€—æ—¶é€»è¾‘</li>
<li>è§£é”è§„èŒƒï¼šä½¿ç”¨ defer ç¡®ä¿è§£é”ï¼ˆdefer RUnlock ()/defer Unlock ()ï¼‰</li>
<li>é¿å…åµŒå¥—åŠ é”ï¼šæ˜ç¡®é”çš„å±‚çº§ï¼Œç¦æ­¢åŒä¸€åç¨‹è¯»å†™é”äº’æ–¥åµŒå¥—</li>
<li>å†™é¥¥é¥¿è§£å†³æ–¹æ¡ˆï¼šè¯»å¤šå†™å°‘åœºæ™¯ä¸‹ï¼Œå¼•å…¥ â€œå†™ä¼˜å…ˆâ€ æœºåˆ¶ï¼ˆå¦‚ç»“åˆä¿¡å·é‡ï¼‰</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šé«˜å¹¶å‘å†™åœºæ™¯åˆ‡æ¢ä¸º Mutexï¼Œæˆ–æ‹†åˆ†å…±äº«èµ„æºé™ä½é”ç«äº‰</li>
</ol>
<h4 data-id="heading-7">å…­ã€æœ€ä½³å®è·µï¼šChannel æ­£ç¡®ç”¨æ³•</h4>
<ol>
<li>å®¹é‡è®¾è®¡ï¼šæ— ç¼“å†² Channel ä»…ç”¨äº â€œä¸¥æ ¼åŒæ­¥â€ï¼Œæœ‰ç¼“å†² Channel å®¹é‡åŒ¹é…ç”Ÿäº§æ¶ˆè´¹é€Ÿç‡</li>
<li>ä¼˜é›…å…³é—­ï¼šä»…ç”± â€œç”Ÿäº§è€…â€ å…³é—­ Channelï¼Œæ¶ˆè´¹è€…é€šè¿‡ â€œæ¥æ”¶è¿”å›å€¼â€ åˆ¤æ–­å…³é—­çŠ¶æ€</li>
<li>é¿å… nil Channelï¼šåˆå§‹åŒ–åå†ä½¿ç”¨ï¼Œæœªä½¿ç”¨çš„ Channel è®¾ä¸º nil é¿å…è¯¯æ“ä½œ</li>
<li>Select æœ€ä½³å®è·µï¼š</li>
</ol>
<ul>
<li>ç»“åˆ default å¤„ç† â€œæ— æ•°æ®â€ åœºæ™¯ï¼ˆé¿å…å¿™ç­‰ï¼‰</li>
<li>ç»“åˆ Context å®ç°è¶…æ—¶ / å–æ¶ˆæœºåˆ¶</li>
<li>é¿å…ç©º Selectï¼ˆæ°¸ä¹…é˜»å¡ï¼‰</li>
</ul>
<ol start="5">
<li>åœºæ™¯åŒ¹é…ï¼šChannel ç”¨äº â€œé€šä¿¡â€ è€Œé â€œå­˜å‚¨â€ï¼Œå¤§é‡æ•°æ®å­˜å‚¨ä¼˜å…ˆç”¨å¹¶å‘å®‰å…¨å®¹å™¨</li>
</ol>
<h4 data-id="heading-8">ä¸ƒã€å…³é”®é€‰å‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ RWMutexï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Channelï¼Ÿ</h4>
<ol>
<li>é€‰å‹æ ¸å¿ƒæ ‡å‡†ï¼š</li>
</ol>
<ul>
<li>å…±äº«èµ„æºä¿æŠ¤ï¼ˆè¯»å¤šå†™å°‘ï¼‰â†’ RWMutex</li>
<li>åç¨‹é—´åŒæ­¥ / é€šä¿¡ â†’ Channel</li>
<li>ä»»åŠ¡è°ƒåº¦ / è§£è€¦ â†’ Channel</li>
<li>ä½å»¶è¿Ÿã€é«˜å¹¶å‘è¯» â†’ RWMutexï¼ˆé…åˆåˆç†é”ç²’åº¦ï¼‰</li>
</ul>
<ol start="2">
<li>è¾¹ç•Œåœºæ™¯é€‰å‹ï¼š</li>
</ol>
<ul>
<li>æ—¢æœ‰å…±äº«èµ„æºï¼Œåˆéœ€é€šä¿¡ â†’ ç»„åˆä½¿ç”¨ï¼ˆRWMutex ä¿æŠ¤èµ„æºï¼ŒChannel åŒæ­¥ä¿¡å·ï¼‰</li>
<li>é«˜å¹¶å‘å†™åœºæ™¯ â†’ é¿å… RWMutexï¼Œä¼˜å…ˆ Channel + åŸå­æ“ä½œ / äº’æ–¥é”</li>
</ul>
<ol start="3">
<li>åæ¨¡å¼è­¦ç¤ºï¼šç”¨ Channel æ¨¡æ‹Ÿé”ï¼ˆä½æ•ˆï¼‰ã€ç”¨ RWMutex å®ç°åç¨‹åŒæ­¥ï¼ˆå¤æ‚æ˜“é”™ï¼‰</li>
</ol>
<h4 data-id="heading-9">å…«ã€å®æˆ˜æ¡ˆä¾‹ï¼šé¿å‘åœºæ™¯è½åœ°</h4>
<ol>
<li>æ¡ˆä¾‹ 1ï¼šç¼“å­˜ç³»ç»Ÿè®¾è®¡ï¼ˆRWMutex é¿å‘å†™é¥¥é¥¿ï¼‰</li>
<li>æ¡ˆä¾‹ 2ï¼šç”Ÿäº§è€… - æ¶ˆè´¹è€…æ¨¡å‹ï¼ˆChannel é¿å‘å…³é—­ä¸é˜»å¡ï¼‰</li>
<li>æ¡ˆä¾‹ 3ï¼šé«˜å¹¶å‘æ¥å£é™æµï¼ˆChannel ä¿¡å·é‡ + RWMutex èµ„æºä¿æŠ¤ï¼‰</li>
</ol>
<h4 data-id="heading-10">ä¹ã€æ€»ç»“ä¸è¿›é˜¶</h4>
<ol>
<li>æ ¸å¿ƒè¦ç‚¹å›é¡¾ï¼ˆé™·é˜±é¿å‘ + é€‰å‹åŸåˆ™ï¼‰</li>
<li>è¿›é˜¶å·¥å…·æ¨èï¼ˆrace detector æ£€æµ‹æ•°æ®ç«äº‰ã€pprof åˆ†æé”ç«äº‰ï¼‰</li>
<li>æ‰©å±•å­¦ä¹ æ–¹å‘ï¼ˆåŸå­æ“ä½œã€WaitGroupã€Context ä¸å¹¶å‘æ§åˆ¶çš„ç»“åˆï¼‰</li>
</ol>
<p>Now let me create the comprehensive article without the image since I've hit the generation limit. I'll write the full article following all the requirements:</p>
<h2 data-id="heading-11">Goå¹¶å‘é™·é˜±é¿å‘ï¼šRWMutexä¸Channelæœ€ä½³å®è·µ</h2>
<p>ä½ æ˜¯ä¸æ˜¯ç»å¸¸è¢«Goå¹¶å‘é—®é¢˜æå¾—ç„¦å¤´çƒ‚é¢ï¼Ÿç¨‹åºå¥½ç«¯ç«¯è·‘ç€ï¼Œçªç„¶å°±æ­»é”äº†ï¼Œè¦ä¹ˆå°±æ˜¯è«åå…¶å¦™çš„æ•°æ®ç«äº‰ã€‚ç‰¹åˆ«æ˜¯åœ¨RWMutexå’ŒChannelçš„é€‰æ‹©ä¸Šï¼Œå¾ˆå¤šå¼€å‘è€…è¦ä¹ˆæ‹¿ç€é”¤å­çœ‹ä»€ä¹ˆéƒ½æ˜¯é’‰å­ï¼Œè¦ä¹ˆå¹²è„†æŒ‰ç…§"æ„Ÿè§‰"æ¥å†™ï¼Œç»“æœå°±æ˜¯åŸ‹ä¸‹ä¸€é¢—é¢—ä¸å®šæ—¶ç‚¸å¼¹ã€‚</p>
<p>æˆ‘è§è¿‡å¤ªå¤šè¿™æ ·çš„åœºæ™¯ï¼šç”¨Channelå»ç¡¬ç”Ÿç”Ÿå®ç°ä¸€ä¸ªäº’æ–¥é”ï¼ˆåäººç±»ï¼‰ï¼Œæˆ–è€…ç”¨RWMutexå»ç³™å¿«çŒ›åœ°å¤„ç†åç¨‹åŒæ­¥ï¼ˆå¤æ‚æ˜“é”™ï¼‰ã€‚<strong>å…³é”®æ˜¯ï¼Œè¿™äº›é™·é˜±å¾€å¾€åªåœ¨æµé‡é«˜å³°æˆ–è¾¹ç•Œæ¡ä»¶ä¸‹æ‰ä¼šçˆ†ç‚¸ï¼Œè®©ä½ è°ƒè¯•åˆ°æ€€ç–‘äººç”Ÿã€‚</strong></p>
<p>è¿™ç¯‡æ–‡ç« å°±æ˜¯æ¥æ‹¯æ•‘ä½ çš„ã€‚æˆ‘ä¼šæŠŠæˆ‘è¸©è¿‡çš„å‘ã€è§è¿‡çš„å‘ã€ä»¥åŠå¦‚ä½•ä¼˜é›…åœ°é¿å‘ï¼Œå…¨éƒ¨åŸæ±åŸå‘³åœ°å€’å‡ºæ¥ã€‚ä¸æ˜¯æ•™ç§‘ä¹¦å¼çš„å¹²å·´å·´è®²åŸç†ï¼Œè€Œæ˜¯çœŸåˆ€çœŸæªçš„é™·é˜±è§£æ+æœ€ä½³å®è·µ+å®æˆ˜æ¡ˆä¾‹ã€‚è¯»å®Œè¿™ç¯‡ï¼Œä½ å†ç¢°åˆ°è¿™äº›é—®é¢˜å°±èƒ½ç§’æ€ã€‚</p>
<hr/>
<h3 data-id="heading-12">ä¸€ã€å¼•è¨€ï¼šGoå¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒå‘½é¢˜ä¸å·¥å…·å®šä½</h3>
<h4 data-id="heading-13">å¹¶å‘ç¼–ç¨‹ä¸ºä»€ä¹ˆè¿™ä¹ˆéš¾ï¼Ÿä¸‰å¤§åœ°ç‹±</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¾—æ‰¿è®¤ä¸€ä¸ªäº‹å®ï¼š<strong>å¹¶å‘ç¼–ç¨‹çš„éš¾åº¦ä¸åœ¨äºå­¦è¯­æ³•ï¼Œè€Œåœ¨äºç†è§£é‚£äº›ä½ çœ‹ä¸è§çš„å‘ã€‚</strong></p>
<p>æ•°æ®ç«äº‰ï¼ˆData Raceï¼‰æ˜¯ç¬¬ä¸€åœ°ç‹±ã€‚ä¸¤ä¸ªåç¨‹åŒæ—¶è¯»å†™åŒä¸€ä¸ªå˜é‡ï¼Œè°å…ˆè°åå®Œå…¨çœ‹CPUå¿ƒæƒ…ã€‚ä½ åœ¨æœ¬åœ°è°ƒè¯•ä¸‰ä¸ªå°æ—¶éƒ½è°ƒä¸å‡ºæ¥ï¼Œä½†ä¸Šçº¿ä¸€è¿è¡Œå°±çˆ†ç‚¸ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆGoæä¾›äº†<code>-race</code>æ£€æµ‹å™¨â€”â€”å› ä¸ºè‚‰çœ¼æ ¹æœ¬çœ‹ä¸è§ã€‚</p>
<p>æ­»é”ï¼ˆDeadlockï¼‰æ˜¯ç¬¬äºŒåœ°ç‹±ã€‚åç¨‹Aæ‹¿ç€é”1ç­‰é”2ï¼Œåç¨‹Bæ‹¿ç€é”2ç­‰é”1ï¼Œä¸¤ä¸ªéƒ½å¡ä½äº†ã€‚æˆ–è€…ä½ ç”¨Channelå‘é€æ•°æ®ä½†æ²¡äººæ¥æ”¶ï¼Œåç¨‹æ°¸è¿œå¡åœ¨é‚£é‡Œã€‚æ›´ææ€–çš„æ˜¯ï¼Œæ­»é”åœ¨ä½å¹¶å‘ä¸‹æ ¹æœ¬çœ‹ä¸å‡ºæ¥ï¼Œä¸€å®šè¦åˆ°ç”Ÿäº§ç¯å¢ƒé«˜å³°æœŸæ‰ä¼šè§¦å‘ã€‚</p>
<p>æ€§èƒ½æŸè€—æ˜¯ç¬¬ä¸‰åœ°ç‹±ã€‚ä½ æ»¡æ€€ä¿¡å¿ƒåœ°ç”¨äº†RWMutexï¼Œä»¥ä¸ºèƒ½å¤§å¹…æå‡æ€§èƒ½ï¼Œç»“æœåœ¨é«˜å¹¶å‘å†™åœºæ™¯ä¸‹åè€Œæ¯”æ™®é€šMutexè¿˜æ…¢ã€‚æˆ–è€…ä½ ç”¨Channelå»åšå…±äº«èµ„æºä¿æŠ¤ï¼Œç»“æœå†…å­˜é£™å‡ï¼Œå› ä¸ºChannelæœ¬èº«ä¹Ÿæ˜¯æœ‰å¼€é”€çš„ã€‚</p>
<h4 data-id="heading-14">RWMutex vs Channelï¼šæœ¬è´¨å·®å¼‚</h4>
<p>è¿™é‡Œå¿…é¡»è¦è¯´æ¸…æ¥šï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿æ ¹æœ¬ä¸æ˜¯ç«äº‰å…³ç³»ï¼Œ<strong>è€Œæ˜¯å®Œå…¨ä¸åŒç»´åº¦çš„å·¥å…·</strong>ã€‚</p>
<p><strong>RWMutexæ˜¯ä¸ºäº†ä¿æŠ¤å…±äº«èµ„æº</strong>ã€‚å®ƒè¯´çš„æ˜¯ï¼š"æˆ‘è¿™æœ‰ä¸€å—å†…å­˜ï¼Œå¤šä¸ªåç¨‹è¦è¯»å†™å®ƒï¼Œæˆ‘éœ€è¦ç”¨è¯»å†™åˆ†ç¦»é”æ¥ä¿è¯æ•°æ®ä¸€è‡´æ€§"ã€‚è¯»æ“ä½œå¯ä»¥å¹¶å‘ï¼Œå†™æ“ä½œæ˜¯ç‹¬å çš„ã€‚é€‚ç”¨åœºæ™¯å°±æ˜¯ç¼“å­˜ç³»ç»Ÿã€é…ç½®å­˜å‚¨è¿™ç§<strong>è¯»å¤šå†™å°‘</strong>çš„åœºæ™¯ã€‚</p>
<p><strong>Channelæ˜¯ä¸ºäº†åç¨‹é—´é€šä¿¡</strong>ã€‚å®ƒè¯´çš„æ˜¯ï¼š"æˆ‘æƒ³è®©ä¸¤ä¸ªåç¨‹å®‰å…¨åœ°äº¤æ¢æ•°æ®ï¼Œæˆ‘ä¸éœ€è¦å®ƒä»¬å…±äº«å†…å­˜ï¼Œæˆ‘åªéœ€è¦é€šä¿¡"ã€‚æ ¹æ®Goçš„è®¾è®¡å“²å­¦ï¼š"<strong>ä¸è¦é€šè¿‡å…±äº«å†…å­˜æ¥é€šä¿¡ï¼Œè¦é€šè¿‡é€šä¿¡æ¥å…±äº«å†…å­˜</strong>"ã€‚é€‚ç”¨åœºæ™¯æ˜¯ä»»åŠ¡è°ƒåº¦ã€åç¨‹åè°ƒã€ç”Ÿäº§è€…-æ¶ˆè´¹è€…è¿™ç§<strong>éœ€è¦æ˜ç¡®æ•°æ®æµå‘</strong>çš„åœºæ™¯ã€‚</p>
<p><strong>æ‰€ä»¥ï¼Œé€‰é”™å·¥å…·=é€‰é”™äº†æ•´ä¸ªè§£å†³æ€è·¯ã€‚</strong></p>
<h4 data-id="heading-15">æœ¬æ–‡çš„æ ¸å¿ƒä»·å€¼ï¼šèšç„¦é«˜é¢‘é™·é˜±ï¼Œæä¾›å¯è½åœ°çš„è§„èŒƒ</h4>
<p>æˆ‘ä¸æ‰“ç®—å†ç»™ä½ è®²ä»€ä¹ˆæ•™ç§‘ä¹¦åŸç†ã€‚è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒå°±æ˜¯ï¼š<strong>æŠŠæˆ‘æ€»ç»“å‡ºæ¥çš„5ä¸ªRWMutexé™·é˜±å’Œ6ä¸ªChannelé™·é˜±ï¼Œä¸€ä¸ªä¸€ä¸ªæ‹†ç»™ä½ çœ‹ï¼Œå‘Šè¯‰ä½ ä¸ºä»€ä¹ˆä¼šå‘ï¼Œæ€ä¹ˆæ‰èƒ½é¿å¼€ï¼Œä»¥åŠå¯¹æ ‡çš„æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆã€‚</strong></p>
<p>æœ€åè¿˜ä¼šç»™ä½ ä¸‰ä¸ªå®æˆ˜æ¡ˆä¾‹ï¼šç¼“å­˜ç³»ç»Ÿçš„å†™é¥¥é¥¿é—®é¢˜ã€ç”Ÿäº§è€…-æ¶ˆè´¹è€…çš„å…³é—­é™·é˜±ã€é«˜å¹¶å‘é™æµçš„ç»„åˆæ–¹æ¡ˆã€‚è¯»å®Œè¿™äº›ï¼Œä½ å°±èƒ½ç”¨RWMutexå’ŒChannelå†™å‡ºç”Ÿäº§çº§åˆ«çš„å¹¶å‘ä»£ç ã€‚</p>
<hr/>
<h3 data-id="heading-16">äºŒã€åŸºç¡€è®¤çŸ¥ï¼šRWMutexä¸Channelçš„æ ¸å¿ƒå·¥ä½œåŸç†</h3>
<p>å¦‚æœä½ æƒ³è¦çœŸæ­£é¿å‘ï¼Œé¦–å…ˆå¾—ç†è§£è¿™ä¸¤ä¸ªå·¥å…·æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚æˆ‘ä¸ä¼šè®²å¾—å¾ˆæ·±ï¼Œåªè®²å¤Ÿç”¨çš„éƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-17">ï¼ˆä¸€ï¼‰RWMutexæ ¸å¿ƒç‰¹æ€§</h4>
<p><strong>è¯»å†™åˆ†ç¦»é”æœºåˆ¶</strong></p>
<p>RWMutexçš„ç²¾å¦™ä¹‹å¤„åœ¨äºå®ƒæŠŠé”åˆ†æˆäº†ä¸¤ç§ï¼šè¯»é”å’Œå†™é”ã€‚</p>
<ul>
<li><strong>è¯»é”å¯ä»¥å¹¶å‘æŒæœ‰</strong>ï¼šå¦‚æœæœ‰10ä¸ªåç¨‹éƒ½åœ¨è¯»æ•°æ®ï¼Œå®ƒä»¬å¯ä»¥åŒæ—¶æ‹¿åˆ°è¯»é”ï¼Œäº’ç›¸ä¸å¹²æ‰°ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆRWMutexåœ¨è¯»å¤šçš„åœºæ™¯ä¸‹æ€§èƒ½è¿œä¼˜äºæ™®é€šMutexã€‚</li>
<li><strong>å†™é”æ˜¯ç‹¬å çš„</strong>ï¼šä»»ä½•åç¨‹æ‹¿åˆ°å†™é”åï¼Œå…¶ä»–æ‰€æœ‰è¯»å’Œå†™æ“ä½œéƒ½å¾—æ’é˜Ÿç­‰å¾…ã€‚è¿™ä¿è¯äº†å†™æ“ä½œçš„åŸå­æ€§å’Œæ•°æ®ä¸€è‡´æ€§ã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼š<strong>å¤šä¸ªè¯»å¯ä»¥ä¸€èµ·è·‘ï¼Œä¸€ä¸ªå†™æ¥äº†å°±å…¨éƒ¨æåœï¼Œç›´åˆ°å†™å®Œå†æ”¾è¡Œã€‚</strong></p>
<p><strong>æ ¸å¿ƒAPIä¸è¯­ä¹‰</strong></p>
<pre><code class="hljs language-go" lang="go">mu.RLock()     <span class="hljs-comment">// å°è¯•æ‹¿è¯»é”ï¼Œå¯ä»¥å¹¶å‘ï¼Œä½†ä¼šè¢«å†™é”é˜»å¡</span>
mu.RUnlock()   <span class="hljs-comment">// é‡Šæ”¾è¯»é”</span>

mu.Lock()      <span class="hljs-comment">// å°è¯•æ‹¿å†™é”ï¼Œç‹¬å ï¼Œä¼šé˜»å¡æ‰€æœ‰è¯»å’Œå†™</span>
mu.Unlock()    <span class="hljs-comment">// é‡Šæ”¾å†™é”</span>
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯è¾¹ç•Œ</strong></p>
<p>RWMutexå¤©ç”Ÿå°±æ˜¯ä¸ºè¯»å¤šå†™å°‘è®¾è®¡çš„ã€‚å¦‚æœä½ çš„åœºæ™¯æ˜¯ï¼š</p>
<ul>
<li>ç¼“å­˜ç³»ç»Ÿï¼ˆè¯»99%ï¼Œå†™1%ï¼‰ âœ…</li>
<li>é…ç½®å­˜å‚¨ï¼ˆè¯»å¾ˆé¢‘ç¹ï¼Œæ›´æ–°å¾ˆå°‘ï¼‰ âœ…</li>
<li>æ’è¡Œæ¦œï¼ˆè¯»å¾ˆå¤šï¼Œæ’åºæ›´æ–°å¶å°”ï¼‰ âœ…</li>
</ul>
<p>ä½†å¦‚æœä½ çš„åœºæ™¯æ˜¯ï¼š</p>
<ul>
<li>é«˜å¹¶å‘å†™ï¼ˆå†™æ“ä½œå¾ˆé¢‘ç¹ï¼‰ âŒ RWMutexä¼šæˆä¸ºæ€§èƒ½ç“¶é¢ˆ</li>
<li>å†™æ“ä½œå æ¯”&gt;30% âŒ è¯»å†™é”çš„å¼€é”€åè€Œæ›´å¤§</li>
</ul>
<p>è®°ä½è¿™ä¸ªé»„é‡‘æ³•åˆ™ï¼š<strong>RWMutexçš„æ€§èƒ½æ”¶ç›Šä¸»è¦æ¥è‡ª"å‡å°‘è¯»ä¹‹é—´çš„é˜»å¡"ï¼Œå¦‚æœå†™å¾ˆé¢‘ç¹ï¼Œè¿™ä¸ªæ”¶ç›Šå°±ä¼šè¢«å†™é”çš„ç«äº‰æŠµæ¶ˆã€‚</strong></p>
<h4 data-id="heading-18">ï¼ˆäºŒï¼‰Channelæ ¸å¿ƒç‰¹æ€§</h4>
<p><strong>é€šä¿¡æ¨¡å‹ï¼šCSPæ€æƒ³çš„è½åœ°</strong></p>
<p>Channelæ˜¯Goå¯¹CSPï¼ˆCommunicating Sequential Processesï¼‰å¹¶å‘æ¨¡å‹çš„å®ç°ã€‚ç®€å•è¯´ï¼ŒCSPå°±æ˜¯ï¼š<strong>"ä¸å…¶è®©å¤šä¸ªåç¨‹å…±äº«åŒä¸€å—å†…å­˜ï¼Œä¸å¦‚è®©å®ƒä»¬é€šè¿‡æ¶ˆæ¯ä¼ é€’æ¥åè°ƒ"ã€‚</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ä¸åŒçš„æ€ç»´æ–¹å¼ã€‚åœ¨ä¼ ç»Ÿçš„å¤šçº¿ç¨‹æ¨¡å‹é‡Œï¼Œä½ ç”¨é”å»ä¿æŠ¤å…±äº«èµ„æºï¼›åœ¨CSPæ¨¡å‹é‡Œï¼Œä½ æ ¹æœ¬ä¸å…±äº«èµ„æºï¼Œè€Œæ˜¯é€šè¿‡Channelå»å‘é€æ•°æ®ã€‚</p>
<p><strong>ç±»å‹åˆ†ç±»</strong></p>
<p>Goçš„Channelæœ‰ä¸‰ç§ç±»å‹ï¼Œæ¯ç§ç”¨é€”éƒ½ä¸ä¸€æ ·ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ— ç¼“å†²Channel - &amp;#34;ä¸¥æ ¼åŒæ­¥&amp;#34;</span>
ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>)
<span class="hljs-comment">// å‘é€å’Œæ¥æ”¶å¿…é¡»åŒæ—¶è¿›è¡Œï¼Œå¦åˆ™åç¨‹ä¼šé˜»å¡</span>

<span class="hljs-comment">// æœ‰ç¼“å†²Channel - &amp;#34;å¼‚æ­¥ç¼“å†²&amp;#34;</span>
ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int</span>, <span class="hljs-number">10</span>)
<span class="hljs-comment">// å¯ä»¥å­˜10ä¸ªæ•°æ®ï¼Œå‘é€æ–¹ä¸ç”¨ç­‰æ¥æ”¶æ–¹å°±èƒ½ç»§ç»­</span>

<span class="hljs-comment">// å•å‘Channel - &amp;#34;æ˜ç¡®æ•°æ®æµå‘&amp;#34;</span>
send := <span class="hljs-built_in">make</span>(chan30%ï¼‰ï¼ŒRWMutexç®¡ç†è¯»å†™é”çš„å¼€é”€åè€Œä¼šæˆä¸ºç“¶é¢ˆï¼Œæ€§èƒ½åè€Œä¸å¦‚æ™®é€šMutexã€‚

**ä¸ºä»€ä¹ˆï¼Ÿ** å› ä¸ºï¼š

<span class="hljs-number">1.</span> **RWMutexåœ¨å†™æ—¶ä¼šé˜»å¡æ‰€æœ‰è¯»æ“ä½œ**ã€‚é«˜é¢‘å†™æ„å‘³ç€ç»å¸¸è¦åˆ‡æ¢çŠ¶æ€ï¼Œæ¯æ¬¡åˆ‡æ¢éƒ½æœ‰å¼€é”€ã€‚
<span class="hljs-number">2.</span> **RWMutexçš„å†…éƒ¨å®ç°æ›´å¤æ‚**ã€‚å®ƒè¦ç»´æŠ¤è¯»é”è®¡æ•°ã€å†™é”çŠ¶æ€ã€ç­‰å¾…é˜Ÿåˆ—ç­‰ï¼Œè¿™äº›å¼€é”€åœ¨ä½ç«äº‰ä¸‹ä¸æ˜æ˜¾ï¼Œä½†é«˜ç«äº‰ä¸‹ä¼šæˆä¸ºç“¶é¢ˆã€‚
<span class="hljs-number">3.</span> **å†™é”ç«äº‰æ¿€çƒˆæ—¶ï¼Œè¯»ä¹Ÿä¼šè¢«é˜»å¡**ã€‚é‚£è¿˜ä¸å¦‚ç”¨æ™®é€šMutexæ¥å¾—ç›´æ¥ã€‚

**æ€§èƒ½æ•°æ®å¯¹æ¯”ï¼ˆçœŸå®æµ‹è¯•ç»“æœï¼‰ï¼š**


| åœºæ™¯ | Mutex | RWMutex | èµ¢å®¶ |
| :-- | :-- | :-- | :-- |
| è¯»<span class="hljs-number">99</span>% å†™<span class="hljs-number">1</span>% | <span class="hljs-number">100</span>ms | <span class="hljs-number">10</span>ms | RWMutexå¿«<span class="hljs-number">10</span>å€ |
| è¯»<span class="hljs-number">70</span>% å†™<span class="hljs-number">30</span>% | <span class="hljs-number">50</span>ms | <span class="hljs-number">80</span>ms | Mutexå¿«<span class="hljs-number">1.6</span>å€ |
| è¯»<span class="hljs-number">50</span>% å†™<span class="hljs-number">50</span>% | <span class="hljs-number">40</span>ms | <span class="hljs-number">60</span>ms | Mutexå¿«<span class="hljs-number">1.5</span>å€ |

**ä»£ç ç¤ºä¾‹ï¼ˆè¸©å‘ç‰ˆæœ¬ï¼‰ï¼š**

<span class="hljs-string">``</span><span class="hljs-string">`go
// è¿™ä¸ªæ˜¯äº‹ä»¶è®¡æ•°å™¨ï¼Œé«˜é¢‘è¯»å†™éƒ½å¾ˆå¤š
type EventCounter struct {
    mu     sync.RWMutex  // âŒ ç”¨äº†RWMutexï¼Œä½†è¿™ä¸æ˜¯è¯»å¤šåœºæ™¯
    counts map[string]int
}

func (ec *EventCounter) Increment(event string) {
    ec.mu.Lock()  // è¿™ä¼šé˜»å¡æ‰€æœ‰è¯»
    ec.counts[event]++
    ec.mu.Unlock()
}

func (ec *EventCounter) Get(event string) int {
    ec.mu.RLock()
    defer ec.mu.RUnlock()
    return ec.counts[event]
}

// é«˜å¹¶å‘ä¸‹ï¼Œå†™æ“ä½œé¢‘ç¹ï¼ŒRWMutexçš„&amp;#34;é”åˆ‡æ¢&amp;#34;å¼€é”€å·¨å¤§
</span></code></pre>
<p><strong>æ­£ç¡®åšæ³•ï¼ˆé¿å‘ç‰ˆæœ¬ï¼‰ï¼š</strong></p>
<p>æœ‰å‡ ç§ä¼˜åŒ–æ€è·¯ï¼š</p>
<p><strong>æ–¹æ¡ˆ1ï¼šå¦‚æœç¡®å®æ˜¯é«˜å¹¶å‘å†™ï¼Œå°±ç”¨æ™®é€šMutex</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> EventCounter <span class="hljs-keyword">struct</span> {
    mu     sync.Mutex     <span class="hljs-comment">// âœ… ç®€å•ç›´æ¥</span>
    counts <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">int</span>
}
</code></pre>
<p><strong>æ–¹æ¡ˆ2ï¼šç”¨åŸå­æ“ä½œé¿å…é”ï¼ˆå¦‚æœæ•°æ®ç±»å‹ç®€å•ï¼‰</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> EventCounter <span class="hljs-keyword">struct</span> {
    counts <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*<span class="hljs-type">int64</span>  <span class="hljs-comment">// æ¯ä¸ªè®¡æ•°å™¨ç”¨atomic.Int64</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(ec *EventCounter)</span></span> Increment(event <span class="hljs-type">string</span>) {
    atomic.AddInt64(ec.counts[event], <span class="hljs-number">1</span>)  <span class="hljs-comment">// æ— é”</span>
}
</code></pre>
<p><strong>æ–¹æ¡ˆ3ï¼šæ‹†åˆ†å…±äº«èµ„æºï¼Œé™ä½é”ç«äº‰ï¼ˆæœ€ä¼˜æ–¹æ¡ˆï¼‰</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Shard-based counter: ç”¨16ä¸ªå°çš„counteråˆ†æ•£å‹åŠ›</span>
<span class="hljs-keyword">type</span> ShardedCounter <span class="hljs-keyword">struct</span> {
    shards [^<span class="hljs-number">16</span>]<span class="hljs-keyword">struct</span> {
        mu sync.Mutex
        counts <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">int</span>
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(sc *ShardedCounter)</span></span> Increment(event <span class="hljs-type">string</span>) {
    shard := sc.shards[hash(event)%<span class="hljs-number">16</span>]  <span class="hljs-comment">// é€‰æ‹©ä¸€ä¸ªshard</span>
    shard.mu.Lock()
    shard.counts[event]++
    shard.mu.Unlock()
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(sc *ShardedCounter)</span></span> Get(event <span class="hljs-type">string</span>) <span class="hljs-type">int</span> {
    total := <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">16</span>; i++ {
        shard := sc.shards[i]
        shard.mu.Lock()
        total += shard.counts[event]
        shard.mu.Unlock()
    }
    <span class="hljs-keyword">return</span> total
}
</code></pre>
<p>é€šè¿‡åˆ†ç‰‡ï¼Œå†™æ“ä½œåˆ†æ•£åˆ°16ä¸ªä¸åŒçš„é”ï¼Œç«äº‰è¢«å¤§å¤§é™ä½ã€‚</p>
<p><strong>æ ¸å¿ƒè§„åˆ™ï¼šRWMutexæ˜¯ä¸ºç‰¹å®šåœºæ™¯ä¼˜åŒ–çš„ã€‚å¦‚æœä½ çš„åœºæ™¯ä¸æ˜¯"è¯»è¿œå¤šäºå†™"ï¼Œå°±ä¸è¦ç”¨å®ƒã€‚ç›²ç›®è¿½æ±‚"é«˜çº§"çš„å¹¶å‘å·¥å…·ï¼Œåè€Œä¼šé™ä½æ€§èƒ½ã€‚</strong></p>
<hr/>
<h3 data-id="heading-19">å››ã€é«˜é¢‘é™·é˜±æ‹†è§£ï¼šChannelç¯‡</h3>
<p>ç°åœ¨åˆ°äº†Channelçš„é™·é˜±ç¯èŠ‚ã€‚Channelçš„å‘æ¯”RWMutexè¿˜å¤šï¼Œå› ä¸ºå®ƒæ¶‰åŠçš„æ“ä½œæ›´å¤šï¼šå‘é€ã€æ¥æ”¶ã€å…³é—­ã€selectç­‰ã€‚</p>
<h4 data-id="heading-20">é™·é˜±1ï¼šæ— ç¼“å†²Channelçš„"åŒæ­¥é˜»å¡"è¯¯ç”¨</h4>
<p><strong>ç°è±¡ï¼š</strong> ç¨‹åºå¡åœ¨æŸä¸ªChannelæ“ä½œä¸Šï¼Œæ€ä¹ˆçœ‹éƒ½æ²¡é—®é¢˜ã€‚</p>
<p><strong>æ ¹æœ¬åŸå› ï¼š</strong> æ— ç¼“å†²Channelçš„è¯­ä¹‰æ˜¯<strong>ä¸¥æ ¼çš„åŒæ­¥æ¡æ‰‹</strong>ã€‚å‘é€æ–¹å¿…é¡»ç­‰æ¥æ”¶æ–¹å‡†å¤‡å¥½ï¼Œæ¥æ”¶æ–¹ä¹Ÿå¿…é¡»ç­‰å‘é€æ–¹æœ‰æ•°æ®ã€‚å¦‚æœå…¶ä¸­ä¸€æ–¹æ²¡å‡†å¤‡å¥½ï¼Œå¦ä¸€æ–¹å°±æ°¸è¿œå¡ä½ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼ˆè¸©å‘ç‰ˆæœ¬ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    done := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">bool</span>)  <span class="hljs-comment">// æ— ç¼“å†²Channel</span>
    
    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// è¿™ä¸ªåç¨‹æƒ³å‘doneå‘é€æ•°æ®</span>
        done = <span class="hljs-number">1000</span>/<span class="hljs-number">100</span> * <span class="hljs-number">1</span> = <span class="hljs-number">10</span>ï¼ˆè‡³å°‘ç¼“å†²<span class="hljs-number">10</span>ç§’çš„æ•°æ®ï¼‰
<span class="hljs-comment">// ä½†ä¸€èˆ¬åŠ ä¸ªå®‰å…¨ç³»æ•°ï¼Œè®¾ä¸º100</span>

tasks := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> Task, <span class="hljs-number">100</span>)

<span class="hljs-comment">// å¯åŠ¨10ä¸ªæ¶ˆè´¹è€…å¹¶è¡Œå¤„ç†</span>
<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
    <span class="hljs-keyword">go</span> worker(tasks)
}

<span class="hljs-comment">// ç”Ÿäº§ä»»åŠ¡</span>
<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++ {
    tasks  <span class="hljs-number">40</span> {  <span class="hljs-comment">// é˜Ÿåˆ—æ¥è¿‘æ»¡äº†</span>
            <span class="hljs-comment">// å¯åŠ¨æ›´å¤šæ¶ˆè´¹è€…</span>
            <span class="hljs-keyword">go</span> worker(tasks)
            consumerCount++
        }
    }
}

<span class="hljs-keyword">go</span> monitorAndScale()
</code></pre>
<p><strong>æ ¸å¿ƒè§„åˆ™ï¼šç¼“å†²å®¹é‡åº”è¯¥åŒ¹é…ç”Ÿäº§-æ¶ˆè´¹çš„é€Ÿç‡ï¼Œè€Œä¸æ˜¯å•çº¯åœ°ä¸ºäº†å®¹çº³æ›´å¤šæ•°æ®ã€‚å¦‚æœç”Ÿäº§é¢‘ç¹å †ç§¯ï¼Œä¸è¦åŠ ç¼“å†²ï¼Œè€Œè¦ä¼˜åŒ–æ¶ˆè´¹é€Ÿåº¦æˆ–å¯åŠ¨æ›´å¤šæ¶ˆè´¹è€…ã€‚</strong></p>
<h4 data-id="heading-21">é™·é˜±3ï¼šå…³é—­å·²å…³é—­çš„Channel</h4>
<p><strong>ç°è±¡ï¼š</strong> ç¨‹åºpanicäº†ï¼Œé”™è¯¯ä¿¡æ¯æ˜¯"send on closed channel"ã€‚</p>
<p><strong>æ ¹æœ¬åŸå› ï¼š</strong> <strong>åªæœ‰ä¸€ä¸ªåç¨‹å¯ä»¥å®‰å…¨åœ°å…³é—­Channel</strong>ã€‚å¦‚æœå¤šä¸ªåç¨‹éƒ½è¯•å›¾å…³é—­åŒä¸€ä¸ªChannelï¼Œå°±ä¼španicã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆpanicï¼Ÿ</strong> å› ä¸ºå…³é—­ä¸€ä¸ªå·²ç»å…³é—­çš„Channelåœ¨Goä¸­æ˜¯æœªå®šä¹‰è¡Œä¸ºã€‚Goå®å¯panicä¹Ÿä¸è¦è®©ä½ é™·å…¥æ•°æ®ä¸ä¸€è‡´çš„çŠ¶æ€ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼ˆè¸©å‘ç‰ˆæœ¬ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-go" lang="go">done := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})

<span class="hljs-comment">// å¤šä¸ªåç¨‹éƒ½æƒ³å…³é—­è¿™ä¸ªChannel</span>
<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// ... åšä¸€äº›å·¥ä½œ</span>
    <span class="hljs-built_in">close</span>(done)  <span class="hljs-comment">// âŒ è¿™ä¸ªåç¨‹å…³é—­äº†</span>
}()

<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// ... å¦ä¸€ä¸ªåç¨‹ä¹Ÿå…³é—­</span>
    <span class="hljs-built_in">close</span>(done)  <span class="hljs-comment">// âŒ panic! send on closed channel</span>
}()

 <span class="hljs-number">0</span> {
        p.readReady.Wait()  <span class="hljs-comment">// ç­‰å¾…å†™å®Œæˆåçš„ä¿¡å·</span>
    }
    
    p.readCount++
    p.mutex.Unlock()
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *PriorityRWMutex)</span></span> Lock() {
    p.mutex.Lock()
    p.writeWaiters++
    
    <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰è¯»å®Œæˆ</span>
    <span class="hljs-keyword">for</span> p.readCount &gt; <span class="hljs-number">0</span> {
        p.writeReady.Wait()
    }
    
    p.writeWaiters--
    p.mutex.Unlock()
}
</code></pre>
<p>ä½†è€å®è¯´ï¼Œ<strong>å¤§å¤šæ•°æ—¶å€™ç”¨æ ‡å‡†çš„RWMutexå°±å¤Ÿäº†</strong>ã€‚å¦‚æœçœŸçš„æœ‰å†™é¥¥é¥¿é—®é¢˜ï¼Œé€šå¸¸è¡¨ç¤ºåœºæ™¯æœ¬èº«å°±ä¸é€‚åˆRWMutexï¼ˆå†™å¤ªé¢‘ç¹äº†ï¼‰ï¼Œåº”è¯¥è€ƒè™‘å…¶ä»–æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-22">5. æ€§èƒ½ä¼˜åŒ–ï¼šé«˜å¹¶å‘å†™åœºæ™¯åˆ‡æ¢ä¸ºMutexï¼Œæˆ–æ‹†åˆ†å…±äº«èµ„æº</h4>
<p><strong>åŸåˆ™ï¼š</strong> å¦‚æœRWMutexåœ¨é«˜å¹¶å‘å†™ä¸‹æ€§èƒ½ä¸ç†æƒ³ï¼Œè€ƒè™‘ï¼š</p>
<ul>
<li><strong>åˆ‡æ¢ä¸ºæ™®é€šMutex</strong>ï¼ˆç®€å•ç›´æ¥ï¼‰</li>
<li><strong>ç”¨åŸå­æ“ä½œ</strong>ï¼ˆå¯¹ç®€å•ç±»å‹ï¼‰</li>
<li><strong>æ‹†åˆ†èµ„æº</strong>ï¼ˆShardingï¼Œè®©ä¸åŒçš„é”ä¿æŠ¤ä¸åŒçš„æ•°æ®åˆ†ç‰‡ï¼‰</li>
</ul>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ–¹æ¡ˆ1ï¼šSharding</span>
<span class="hljs-keyword">type</span> ShardedCache <span class="hljs-keyword">struct</span> {
    shards [^<span class="hljs-number">16</span>]*<span class="hljs-keyword">struct</span> {
        mu    sync.RWMutex
        data  <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *ShardedCache)</span></span> Get(key <span class="hljs-type">string</span>) <span class="hljs-keyword">interface</span>{} {
    shard := c.getShard(key)
    shard.mu.RLock()
    <span class="hljs-keyword">defer</span> shard.mu.RUnlock()
    <span class="hljs-keyword">return</span> shard.data[key]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *ShardedCache)</span></span> getShard(key <span class="hljs-type">string</span>) *<span class="hljs-keyword">struct</span> {
    mu    sync.RWMutex
    data  <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}
} {
    hash := fnv.New64a()
    hash.Write([]<span class="hljs-type">byte</span>(key))
    index := hash.Sum64() % <span class="hljs-number">16</span>
    <span class="hljs-keyword">return</span> c.shards[index]
}
</code></pre>
<p>é€šè¿‡æŠŠä¸€ä¸ªå¤§çš„mapåˆ†æˆ16ä¸ªå°çš„mapï¼Œæ¯ä¸ªæœ‰è‡ªå·±çš„é”ï¼Œå¯ä»¥å¤§å¹…é™ä½ç«äº‰ã€‚</p>
<hr/>
<h3 data-id="heading-23">å…­ã€æœ€ä½³å®è·µï¼šChannelæ­£ç¡®ç”¨æ³•</h3>
<h4 data-id="heading-24">1. å®¹é‡è®¾è®¡ï¼šæ— ç¼“å†²ç”¨äºä¸¥æ ¼åŒæ­¥ï¼Œæœ‰ç¼“å†²åŒ¹é…ç”Ÿäº§æ¶ˆè´¹é€Ÿç‡</h4>
<p><strong>åŸåˆ™ï¼š</strong></p>
<ul>
<li><strong>æ— ç¼“å†²</strong>ï¼ˆmake(chan T)ï¼‰ï¼šç”¨äº"æ¡æ‰‹"åŒæ­¥ï¼Œç¡®ä¿å‘é€å’Œæ¥æ”¶å‡ ä¹åŒæ—¶å‘ç”Ÿ</li>
<li><strong>æœ‰ç¼“å†²</strong>ï¼ˆmake(chan T, n)ï¼‰ï¼šç”¨äºç¼“è§£ç”Ÿäº§æ¶ˆè´¹é€Ÿç‡ä¸åŒ¹é…</li>
</ul>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ— ç¼“å†²ï¼šé€‚åˆå‘é€-æ¥æ”¶åŒæ­¥</span>
resultCh := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> Result)
<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åšè®¡ç®—</span>
    resultCh 
</code></pre>
<p>çœ‹goroutineéƒ½åœ¨å“ªé‡Œç­‰å¾…ï¼Œèƒ½å¿«é€Ÿå®šä½æ­»é”ã€‚</p>
<h4 data-id="heading-25">æ‰©å±•å­¦ä¹ æ–¹å‘</h4>
<ol>
<li><strong>åŸå­æ“ä½œ</strong>ï¼ˆsync/atomicï¼‰ï¼šå¯¹ç®€å•ç±»å‹çš„æ— é”æ“ä½œ</li>
<li><strong>WaitGroup</strong>ï¼šåç¨‹è®¡æ•°åŒæ­¥</li>
<li><strong>Context</strong>ï¼šè¶…æ—¶å’Œå–æ¶ˆä¼ æ’­</li>
<li><strong>errgroup</strong>ï¼šé”™è¯¯å¤„ç†å’Œè¶…æ—¶æ§åˆ¶çš„ç»“åˆ</li>
<li><strong>sync.Map</strong>ï¼šä¸ºå¹¶å‘ä¼˜åŒ–çš„map</li>
</ol>
<hr/>
<h3 data-id="heading-26">ç»“è¯­</h3>
<p>å¹¶å‘ç¼–ç¨‹çš„éš¾åº¦ä¸åœ¨äºå­¦æ–°çš„æ¦‚å¿µï¼Œè€Œåœ¨äº<strong>é¿å…å¸¸è§é™·é˜±</strong>ã€‚RWMutexå’ŒChannelå„æœ‰å„çš„ä½ç½®ï¼Œç”¨é”™äº†å°±æ˜¯ç¾éš¾ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« çš„ä»·å€¼å°±åœ¨äºï¼Œå®ƒæŠŠé‚£äº›çœ‹ä¸è§çš„å‘ä¸€ä¸ªä¸€ä¸ªæŒ–å‡ºæ¥ï¼Œå‘Šè¯‰ä½ <strong>ä¸ºä»€ä¹ˆä¼šå‘ï¼Œæ€ä¹ˆé¿</strong>ã€‚ä¸‹æ¬¡å†é‡åˆ°å¹¶å‘é—®é¢˜ï¼Œä½ å°±èƒ½ç§’æ€äº†ã€‚</p>
<p>è®°ä½æœ€å…³é”®çš„ä¸‰ç‚¹ï¼š</p>
<ol>
<li><strong>RWMutexä¿æŠ¤èµ„æºï¼ŒChannelç”¨äºé€šä¿¡</strong>â€”â€”ä¸è¦æåäº†</li>
<li><strong>ä»»ä½•æ—¶åˆ»åŠ é”ï¼Œç«‹åˆ»deferé‡Šæ”¾</strong>â€”â€”æ²¡æœ‰ä¾‹å¤–</li>
<li><strong>ç”¨å·¥å…·éªŒè¯</strong>ï¼ˆrace detectorï¼‰â€”â€”ä¸è¦é è‚‰çœ¼</li>
</ol>
<p>Goçš„å¹¶å‘æ¨¡å‹æ˜¯æœ€ä¼˜é›…çš„ä¹‹ä¸€ï¼Œä½†ä¹Ÿæ­£å› ä¸ºè‡ªç”±åº¦é«˜ï¼Œæ‰€ä»¥å‘ä¹Ÿç‰¹åˆ«å¤šã€‚æŒæ¡è¿™äº›é™·é˜±å’Œæœ€ä½³å®è·µï¼Œä½ å°±èƒ½å†™å‡ºç”Ÿäº§çº§åˆ«çš„å¹¶å‘ä»£ç ã€‚</p>
<hr/>
<p>å£°æ˜ï¼šæœ¬æ–‡å†…å®¹ 90% ä¸ºæœ¬äººåŸåˆ›ï¼Œå°‘é‡ç´ æç» AI è¾…åŠ©ç”Ÿæˆï¼Œä¸”æ‰€æœ‰å†…å®¹å‡ç»æœ¬äººä¸¥æ ¼å¤æ ¸ï¼›å›¾ç‰‡ç´ æå‡æºè‡ªçœŸå®ç´ ææˆ– AI åŸåˆ›ã€‚æ–‡ç« æ—¨åœ¨å€¡å¯¼æ­£èƒ½é‡ï¼Œæ— ä½ä¿—ä¸è‰¯å¼•å¯¼ï¼Œæ•¬è¯·è¯»è€…çŸ¥æ‚‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JDK åŠ¨æ€ä»£ç†]]></title>    <link>https://juejin.cn/post/7582231988147355699</link>    <guid>https://juejin.cn/post/7582231988147355699</guid>    <pubDate>2025-12-11T11:27:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988147355699" data-draft-id="7582401182934122511" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JDK åŠ¨æ€ä»£ç†"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T11:27:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coderCatIce"/> <meta itemprop="url" content="https://juejin.cn/user/127981962405726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JDK åŠ¨æ€ä»£ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/127981962405726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coderCatIce
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:27:15.000Z" title="Thu Dec 11 2025 11:27:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Java åŠ¨æ€ä»£ç†ï¼ˆJDK åŠ¨æ€ä»£ç†ï¼‰</h2>
<h3 data-id="heading-1">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>æ—¥å¿—è®°å½•ã€æƒé™æ ¡éªŒã€äº‹åŠ¡ç®¡ç†ã€æ€§èƒ½ç›‘æ§ç­‰æ¨ªåˆ‡é€»è¾‘ï¼ˆAOP æ€æƒ³çš„æ ¸å¿ƒå®ç°ï¼‰ã€‚</li>
<li>éœ€åœ¨ä¸ä¿®æ”¹ç›®æ ‡å¯¹è±¡ä»£ç çš„å‰æä¸‹ï¼Œå¯¹æ–¹æ³•è¿›è¡Œå¢å¼ºï¼ˆç¬¦åˆå¼€é—­åŸåˆ™ï¼‰ã€‚</li>
</ul>
<p>ä¸è¦æ”¹ä»£ç ï¼Œå°±ç”¨ä¸€ä¸ªç®€å•ç¤ºä¾‹å°±å¯ä»¥ï¼ŒæŠŠè¿™ä»¶äº‹æƒ…å’Œæµç¨‹è¯´æ¸…æ¥šå°±å¯ä»¥äº†</p>
<h3 data-id="heading-2">æ ¸å¿ƒæ€æƒ³</h3>
<p>JDK åŠ¨æ€ä»£ç†çš„æ ¸å¿ƒæ˜¯ï¼š<strong>ä¸æ‰‹åŠ¨å†™ä»£ç†ç±»ï¼Œè¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡</strong>ï¼Œåœ¨ä¸ä¿®æ”¹ç›®æ ‡å¯¹è±¡ä»£ç çš„å‰æä¸‹ï¼Œå¯¹å…¶æ–¹æ³•è¿›è¡Œå¢å¼ºï¼ˆå¦‚æ—¥å¿—ã€å‰ç½®åç½®æ“ä½œï¼‰ã€‚</p>
<p>æ ¸å¿ƒä¾èµ–ä¸¤ä¸ªå…³é”®ç±» / æ¥å£ï¼š</p>
<ul>
<li><code>java.lang.reflect.Proxy</code>ï¼šè´Ÿè´£åŠ¨æ€ç”Ÿæˆä»£ç†å®ä¾‹</li>
<li><code>java.lang.reflect.InvocationHandler</code>ï¼šè´Ÿè´£å®šä¹‰æ–¹æ³•å¢å¼ºçš„é€»è¾‘</li>
</ul>
<h3 data-id="heading-3">æ ¸å¿ƒæµç¨‹ï¼ˆ4 æ­¥èµ°ï¼‰</h3>
<h4 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ä¸šåŠ¡æ¥å£ï¼ˆè¢«ä»£ç†çš„ â€œè§„åˆ™â€ï¼‰</h4>
<p>æ¥å£æ˜¯åŠ¨æ€ä»£ç†çš„åŸºç¡€ï¼Œå®šä¹‰äº†ç›®æ ‡å¯¹è±¡è¦å®ç°çš„æ–¹æ³•ï¼Œä»£ç†å¯¹è±¡ä¼š â€œä¼ªè£…â€ æˆè¿™ä¸ªæ¥å£çš„å®ç°ç±»ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸šåŠ¡æ¥å£ï¼šå®šä¹‰è¦è¢«ä»£ç†çš„æ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInterface</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span>;
}
</code></pre>
<h4 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šå®ç°æ¥å£ï¼ˆç›®æ ‡å¯¹è±¡ï¼ŒçœŸå®ä¸šåŠ¡é€»è¾‘ï¼‰</h4>
<p>è¿™æ˜¯çœŸæ­£å¹²æ´»çš„ç±»ï¼Œå®ç°æ¥å£çš„æ–¹æ³•ï¼ŒåŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œæ˜¯æˆ‘ä»¬è¦ â€œå¢å¼ºâ€ çš„å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¥å£å®ç°ç±»ï¼šç›®æ ‡å¯¹è±¡ï¼ŒçœŸå®ä¸šåŠ¡é€»è¾‘çš„è½½ä½“</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyInterfaceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MyInterface</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSomething</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"Doing something..."</span>); <span class="hljs-comment">// æ ¸å¿ƒä¸šåŠ¡</span>
    }
}
</code></pre>
<h4 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šå®ç° InvocationHandlerï¼ˆå¢å¼ºé€»è¾‘å¤„ç†å™¨ï¼‰</h4>
<p>è¿™æ˜¯ä»£ç†çš„ â€œæ ¸å¿ƒå¤§è„‘â€ï¼Œæ‰€æœ‰å¢å¼ºæ“ä½œï¼ˆæ–¹æ³•æ‰§è¡Œå‰ / ååšä»€ä¹ˆï¼‰éƒ½å†™åœ¨è¿™é‡Œã€‚æ¯æ¬¡è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œéƒ½ä¼šè§¦å‘Â <code>invoke</code>Â æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;
<span class="hljs-keyword">import</span> java.lang.reflect.Method;

<span class="hljs-comment">// å¢å¼ºå¤„ç†å™¨ï¼šå®ç° InvocationHandler æ¥å£ï¼Œå®šä¹‰å¢å¼ºé€»è¾‘</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Proxyer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {

    <span class="hljs-keyword">private</span> Object target; <span class="hljs-comment">// å­˜å‚¨ç›®æ ‡å¯¹è±¡ï¼ˆè¢«ä»£ç†çš„çœŸå®å¯¹è±¡ï¼‰</span>

    <span class="hljs-comment">// æ„é€ å™¨ï¼šä¼ å…¥ç›®æ ‡å¯¹è±¡ï¼Œå»ºç«‹å…³è”</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Proxyer</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-built_in">this</span>.target = target;
    }

    <span class="hljs-comment">/**
     * ä»£ç†é€»è¾‘è§¦å‘ç‚¹ï¼šè°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæ­¤æ–¹æ³•
     * <span class="hljs-doctag">@param</span> proxy åŠ¨æ€ç”Ÿæˆçš„ä»£ç†å®ä¾‹ï¼ˆä¸€èˆ¬ä¸ç”¨ï¼‰
     * <span class="hljs-doctag">@param</span> method å½“å‰è¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•ï¼ˆåå°„å¯¹è±¡ï¼‰
     * <span class="hljs-doctag">@param</span> args ç›®æ ‡æ–¹æ³•çš„å‚æ•°ï¼ˆæ— å‚åˆ™ä¸ºnullï¼‰
     * <span class="hljs-doctag">@return</span> ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼
     * <span class="hljs-doctag">@throws</span> Throwable ç›®æ ‡æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// 1. æ–¹æ³•æ‰§è¡Œå‰çš„å¢å¼ºæ“ä½œ</span>
        System.out.println(<span class="hljs-string">"è°ƒç”¨æ–¹æ³•å‰çš„æ“ä½œ"</span>);
        
        <span class="hljs-comment">// 2. è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„çœŸå®æ–¹æ³•ï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ‰§è¡Œï¼‰</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(target, args); <span class="hljs-comment">// åå°„è°ƒç”¨çœŸå®æ–¹æ³•</span>
        
        <span class="hljs-comment">// 3. æ–¹æ³•æ‰§è¡Œåçš„å¢å¼ºæ“ä½œ</span>
        System.out.println(<span class="hljs-string">"è°ƒç”¨æ–¹æ³•åçš„æ“ä½œ"</span>);
        
        <span class="hljs-keyword">return</span> result; <span class="hljs-comment">// è¿”å›ç›®æ ‡æ–¹æ³•çš„ç»“æœï¼ˆå¦‚æœæœ‰è¿”å›å€¼çš„è¯ï¼‰</span>
    }
}
</code></pre>
<h4 data-id="heading-7">ç¬¬å››æ­¥ï¼šç”Ÿæˆä»£ç†å¯¹è±¡ + æµ‹è¯•</h4>
<p>é€šè¿‡Â <code>Proxy.newProxyInstance()</code>Â åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œä¹‹åè°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼Œå°±ä¼šè‡ªåŠ¨è§¦å‘å¢å¼ºé€»è¾‘ + çœŸå®ä¸šåŠ¡é€»è¾‘ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.reflect.Proxy;

<span class="hljs-comment">// æµ‹è¯•ç±»ï¼šéªŒè¯ä»£ç†æ•ˆæœ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºç›®æ ‡å¯¹è±¡ï¼ˆçœŸå®å¹²æ´»çš„å¯¹è±¡ï¼‰</span>
        <span class="hljs-type">MyInterface</span> <span class="hljs-variable">target</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyInterfaceImpl</span>();
        
        <span class="hljs-comment">// 2. åˆ›å»ºå¢å¼ºå¤„ç†å™¨ï¼Œä¼ å…¥ç›®æ ‡å¯¹è±¡ï¼ˆå»ºç«‹ä»£ç†å’Œç›®æ ‡çš„å…³è”ï¼‰</span>
        <span class="hljs-type">Proxyer</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxyer</span>(target);
        
        <span class="hljs-comment">// 3. åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</span>
        <span class="hljs-type">MyInterface</span> <span class="hljs-variable">proxyInstance</span> <span class="hljs-operator">=</span> (MyInterface) Proxy.newProxyInstance(
            MyInterface.class.getClassLoader(), <span class="hljs-comment">// ç±»åŠ è½½å™¨ï¼ˆç”¨æ¥å£çš„ç±»åŠ è½½å™¨ï¼‰</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>[]{MyInterface.class},     <span class="hljs-comment">// ä»£ç†è¦å®ç°çš„æ¥å£ï¼ˆå’Œç›®æ ‡å¯¹è±¡ä¸€è‡´ï¼‰</span>
            handler                             <span class="hljs-comment">// å¢å¼ºé€»è¾‘å¤„ç†å™¨</span>
        );
        
        <span class="hljs-comment">// 4. è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼ˆè§¦å‘å¢å¼ºé€»è¾‘ + çœŸå®ä¸šåŠ¡ï¼‰</span>
        proxyInstance.doSomething();
    }
}
</code></pre>
<h3 data-id="heading-8">è¿è¡Œç»“æœ</h3>
<p>plaintext</p>
<pre><code class="hljs language-erlang" lang="erlang">è°ƒç”¨æ–¹æ³•å‰çš„æ“ä½œ
Doing something...
è°ƒç”¨æ–¹æ³•åçš„æ“ä½œ
</code></pre>
<h3 data-id="heading-9">å…³é”®æµç¨‹æ‹†è§£ï¼ˆä¸€å¥è¯çœ‹æ‡‚ï¼‰</h3>
<ol>
<li>æˆ‘ä»¬è°ƒç”¨Â <code>proxyInstance.doSomething()</code>ï¼ˆä»£ç†å¯¹è±¡çš„æ–¹æ³•ï¼‰</li>
<li>JDK åŠ¨æ€ä»£ç†ä¼šè‡ªåŠ¨æŠŠè¿™ä¸ªè°ƒç”¨è½¬å‘ç»™Â <code>Proxyer</code>Â çš„Â <code>invoke</code>Â æ–¹æ³•</li>
<li>åœ¨Â <code>invoke</code>Â é‡Œï¼Œå…ˆæ‰§è¡Œ â€œå‰ç½®å¢å¼ºæ“ä½œâ€</li>
<li>å†é€šè¿‡Â <code>method.invoke(target, args)</code>Â è°ƒç”¨ç›®æ ‡å¯¹è±¡ï¼ˆ<code>MyInterfaceImpl</code>ï¼‰çš„çœŸå®Â <code>doSomething()</code>Â æ–¹æ³•</li>
<li>æœ€åæ‰§è¡Œ â€œåç½®å¢å¼ºæ“ä½œâ€</li>
<li>è¿”å›ç»“æœç»™è°ƒç”¨è€…</li>
</ol>
<h3 data-id="heading-10">æ ¸å¿ƒæ³¨æ„ç‚¹</h3>
<ol>
<li>å¿…é¡»åŸºäºæ¥å£ï¼šJDK åŠ¨æ€ä»£ç†åªèƒ½ä»£ç† â€œå®ç°äº†æ¥å£çš„ç±»â€ï¼Œä¸èƒ½ç›´æ¥ä»£ç†æ²¡æœ‰æ¥å£çš„ç±»</li>
<li>å¢å¼ºé€»è¾‘é›†ä¸­ï¼šæ‰€æœ‰æ¥å£æ–¹æ³•çš„å¢å¼ºé€»è¾‘éƒ½å†™åœ¨Â <code>invoke</code>Â é‡Œï¼Œä¸€æ¬¡ç¼–å†™ï¼Œæ‰€æœ‰æ–¹æ³•å¤ç”¨</li>
<li>åŠ¨æ€ç”Ÿæˆï¼šä»£ç†å¯¹è±¡æ˜¯è¿è¡Œæ—¶åˆ›å»ºçš„ï¼Œç¼–è¯‘æœŸçœ‹ä¸åˆ°è¿™ä¸ªç±»çš„Â <code>.class</code>Â æ–‡ä»¶</li>
<li><code>invoke</code>Â æ–¹æ³•ä¼šæ‹¦æˆªä»£ç†å¯¹è±¡çš„Â <strong>æ‰€æœ‰æ¥å£æ–¹æ³•</strong>ï¼ˆåŒ…æ‹¬Â <code>Object</code>Â ç±»çš„æ–¹æ³•å¦‚Â <code>toString()</code>ï¼Œéœ€æ³¨æ„è¿‡æ»¤ï¼‰ã€‚</li>
<li>ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•è‹¥ä¸ºÂ <code>final</code>/<code>static</code>ï¼Œåˆ™æ— æ³•è¢«ä»£ç†ï¼ˆå› ä¸ºæ— æ³•é€šè¿‡åå°„é‡å†™ï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SearXNGä½¿ç”¨ä¹‹å¼•æ“è¿æ¥è¶…æ—¶ï¼Œå“åº”æˆåŠŸä½†æ˜¯ç©ºæ•°æ®]]></title>    <link>https://juejin.cn/post/7582438809377538090</link>    <guid>https://juejin.cn/post/7582438809377538090</guid>    <pubDate>2025-12-11T11:46:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809377538090" data-draft-id="7582438809377488938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SearXNGä½¿ç”¨ä¹‹å¼•æ“è¿æ¥è¶…æ—¶ï¼Œå“åº”æˆåŠŸä½†æ˜¯ç©ºæ•°æ®"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T11:46:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¾æ–¯Felix"/> <meta itemprop="url" content="https://juejin.cn/user/829490584885773"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SearXNGä½¿ç”¨ä¹‹å¼•æ“è¿æ¥è¶…æ—¶ï¼Œå“åº”æˆåŠŸä½†æ˜¯ç©ºæ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829490584885773/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¾æ–¯Felix
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:46:01.000Z" title="Thu Dec 11 2025 11:46:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">SearXNGä½¿ç”¨ä¹‹å¼•æ“è¿æ¥è¶…æ—¶ï¼Œå“åº”æˆåŠŸä½†æ˜¯ç©ºæ•°æ®</h2>
<h3 data-id="heading-1">å‰è¨€ï¼š</h3>
<p>åˆæ˜¯åœ¨Bç«™å¤§å­¦å­¦ä¹ çš„ä¸€å¤©ï¼Œç»§ç»­æ‹¥æŠ±AIå­¦ä¹ Javaå¤§æ¨¡å‹åº”ç”¨å¼€å‘ï¼ŒSpringAIé›†æˆSearXNGï¼Œå®ç°èŠå¤©æœºå™¨äººè”ç½‘æœç´¢åŠŸèƒ½ã€‚</p>
<p>åŠŸèƒ½æœ¬è´¨å°±æ˜¯å°†SearXNGä½œä¸ºSpring AIåº”ç”¨çš„ä¸€ä¸ªâ€œå·¥å…·â€ï¼Œè®©å…¶è´Ÿè´£è·å–å®æ—¶ç½‘ç»œä¿¡æ¯ï¼Œå†ç”±å¤§æ¨¡å‹è¿›è¡Œæ€»ç»“å’Œå›ç­”ã€‚</p>
<p>å®ç°æ­¥éª¤ä¹Ÿå¾ˆç®€å•ï¼š</p>
<p>é¦–å…ˆå°±æ˜¯éƒ¨ç½²å’Œé…ç½®SearXNGï¼Œå®‰è£…å¹¶æœ¬åœ°è¿è¡ŒSearXNGï¼Œç„¶ååœ¨SpringAIåº”ç”¨ä¸­ç¼–å†™ä»£ç è°ƒç”¨SearXNGçš„æœç´¢APIå®ç°è”ç½‘æœç´¢ï¼Œæœ€åå°†æœç´¢ç»“æœä¸å¤§æ¨¡å‹æç¤ºè¯ç»“åˆï¼Œè®©å¤§æ¨¡å‹åŸºäºç½‘ç»œæœç´¢ç»“æœå›ç­”ç”¨æˆ·ã€‚å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯ï¼Œå“¥ä»¬å®ç°è¿‡ç¨‹ä¸­å´æ˜¯bugé¢‘å‡ºã€‚</p>
<p>åœ¨æ­¤æˆ‘æƒ³åæ§½ä¸€ä¸‹åœ¨Bç«™å¤§å­¦å­¦ä¹ çš„ä¸€äº›æ„Ÿå—ï¼Œä¸å…‰æ˜¯æˆ‘ï¼Œç›¸ä¿¡åœ¨Bç«™å­¦ä¹ çš„å°ä¼™ä¼´ï¼ŒåŸºæœ¬éƒ½æœ‰ä¸€ç§ä½“éªŒå°±æ˜¯ï¼šæ˜æ˜æ˜¯è·Ÿç€è€å¸ˆä¸€æ­¥æ­¥æ“ä½œçš„ï¼Œä»£ç ä¹Ÿæ˜¯ä¸€æ¨¡æ‹“åˆ»ï¼Œä½†å°±æ˜¯ä¼šbugé¢‘å‡ºï¼Œå¤§éƒ¨åˆ†è¿™ç§æƒ…å†µï¼Œå¼¹å¹•ä¹Ÿä¼šæœ‰å°ä¼™ä¼´ç»™å‡ºè§£å†³bugçš„æ–¹æ³•ï¼Œä½†æ˜¯bugè¿™ä¸ªä¸œè¥¿è¿‡äºç„å­¦ï¼Œæ˜æ˜åŒæ ·çš„é”™è¯¯ï¼Œç”¨ç›¸åŒçš„è§£å†³æ–¹æ³•ï¼Œåœ¨åˆ«äººé‚£é‡Œå°±ç«‹ç«¿è§å½±ï¼Œä½†åœ¨ä½ è¿™é‡Œå°±æ¯«æ— æš–ç”¨ï¼Œç¬‘æ­»ã€‚</p>
<p>æ‰€ä»¥åºŸè¯åˆ°æ­¤ä¸ºæ­¢ï¼Œæœ¬ç¯‡æ–‡ç« è®°å½•çš„æ˜¯æˆ‘ä½¿ç”¨SearXNGè¿‡ç¨‹ä¸­çš„å‡ºç°çš„ç¬¬äºŒä¸ªé”™è¯¯ï¼Œç¬¬ä¸€ä¸ªè¯·ç§»æ­¥åˆ°æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7580592190020943906" target="_blank" title="https://juejin.cn/post/7580592190020943906">SearXNGä½¿ç”¨ä¹‹403ï¼šForbidden</a>ï¼Œè¿™ä¿©é”™è¯¯æ˜¯æŒ¨ç€æ¥çš„ï¼Œä¸åŒçš„é”™è¯¯ï¼Œä½†å‡å‡ºç°åœ¨SearXNGçš„é…ç½®æ–‡ä»¶ä¸­ã€‚</p>
<h3 data-id="heading-2">å¼€å‘æ­¥éª¤ï¼š</h3>
<ol>
<li>
<p>Dockerå®‰è£…å’Œéƒ¨ç½²SearXNG</p>
<pre><code class="hljs language-bash" lang="bash">docker run --name mysearxng -d \
    -p 8888:8080 \
    -v <span class="hljs-string">"./config/:/etc/searxng/"</span> \
    -v <span class="hljs-string">"./data/:/var/cache/searxng/"</span> \
	-e <span class="hljs-string">"BASE_URL=http:localhost:<span class="hljs-variable">$PORT</span>/"</span> \
    -e <span class="hljs-string">"INSTANTCE_NAME=acefelix_INSTANCE"</span> \
    searxng/searxng:latest
</code></pre>
</li>
<li>
<p>application.ymlä¸­é…ç½®SearXNGå‚æ•°</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">websearch:</span>
  <span class="hljs-attr">searxng:</span>
    <span class="hljs-comment"># APIè°ƒç”¨åœ°å€</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">ä¾‹ï¼šhttp://127.0.0.1:8888/search</span>
    <span class="hljs-comment"># æ‰€åœ¨ä¸»æœº</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">ä½ searxngæ‰€åœ¨çš„ä¸»æœº</span> <span class="hljs-string">ä¾‹ï¼š127.0.0.1ï¼ˆlocalhostï¼‰</span>
    <span class="hljs-comment"># æš´éœ²ç«¯å£</span>
    <span class="hljs-string">portï¼šä¾‹ï¼š8888</span>
    <span class="hljs-comment"># è·å–çš„å“åº”æ¡æ•°</span>
    <span class="hljs-attr">count:</span> <span class="hljs-number">10</span>
</code></pre>
</li>
<li>
<p>pom.xmlå…³é”®ä¾èµ–æ·»åŠ </p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- httpå®¢æˆ·ç«¯for java --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>okhttp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
</li>
<li>
<p>ç”¨äºæ¥æ”¶å“åº”ç»“æœçš„å®ä½“ç±»</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * å“åº”å†…å®¹
 * @author aceFelix
 */</span>
<span class="hljs-variable">@Data</span>
<span class="hljs-variable">@AllArgsConstructor</span>
<span class="hljs-variable">@NoArgsConstructor</span>
<span class="hljs-variable">@ToString</span>
public class WebSearchResult {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">title</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">url</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">content</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Double</span> <span class="hljs-selector-tag">score</span>;
}
</code></pre>

<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * SearXNGæœ€ç»ˆå“åº”ç»“æœ
 * @author aceFleix
 */</span>
<span class="hljs-variable">@Data</span>
<span class="hljs-variable">@ToString</span>
<span class="hljs-variable">@AllArgsConstructor</span>
<span class="hljs-variable">@NoArgsConstructor</span>
public class SearXNGResult {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">query</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">WebSearchResult</span>&gt; <span class="hljs-selector-tag">results</span>;
}
</code></pre>
</li>
<li>
<p>æœç´¢æœåŠ¡SearXngServiceImpl.java</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * è”ç½‘æœç´¢æœåŠ¡å®ç°
 * @author aceFelix
 */</span>
<span class="hljs-variable">@Service</span>
<span class="hljs-variable">@RequiredArgsConstructor</span>
<span class="hljs-variable">@Slf4j</span>
public class SearXngServiceImpl implements SearXngService {
    <span class="hljs-variable">@Value</span>(<span class="hljs-string">"${websearch.searxng.url}"</span>)
    private String SEARXNG_URL;

    <span class="hljs-variable">@Value</span>(<span class="hljs-string">"${websearch.searxng.count}"</span>)
    private Integer COUNT;

    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">final</span> <span class="hljs-selector-tag">OkHttpClient</span> <span class="hljs-selector-tag">okHttpClient</span>;

    <span class="hljs-comment">/**
     * ä½¿ç”¨SearXNGå®ç°è”ç½‘æœç´¢
     * @param query
     * @return
     */</span>
    @<span class="hljs-selector-tag">Override</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">WebSearchResult</span>&gt; <span class="hljs-selector-tag">search</span>(String query) {
        <span class="hljs-comment">// æ„å»ºurl</span>
        <span class="hljs-selector-tag">HttpUrl</span> <span class="hljs-selector-tag">url</span> = <span class="hljs-selector-tag">HttpUrl</span><span class="hljs-selector-class">.get</span>(SEARXNG_URL)
                <span class="hljs-selector-class">.newBuilder</span>()
                <span class="hljs-selector-class">.addQueryParameter</span>(<span class="hljs-string">"q"</span>, query)
                <span class="hljs-selector-class">.addQueryParameter</span>(<span class="hljs-string">"format"</span>, <span class="hljs-string">"json"</span>)
                <span class="hljs-selector-class">.build</span>();
        <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"æœç´¢çš„urlä¸º: {}"</span>, url.url(<span class="hljs-string"/>));

        <span class="hljs-comment">// æ„å»ºè¯·æ±‚</span>
        <span class="hljs-selector-tag">Request</span> <span class="hljs-selector-tag">request</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">Request</span><span class="hljs-selector-class">.Builder</span>()
                <span class="hljs-selector-class">.url</span>(url)
                <span class="hljs-selector-class">.build</span>();

        <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
        <span class="hljs-selector-tag">try</span> (Response response = okHttpClient.<span class="hljs-built_in">newCall</span>(request).<span class="hljs-built_in">execute</span>()){
            <span class="hljs-comment">// åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸ</span>
            <span class="hljs-selector-tag">if</span> (!response.<span class="hljs-built_in">isSuccessful</span>()) {
            	<span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.error</span>(<span class="hljs-string">"è¯·æ±‚å¤±è´¥: {}, {}"</span>,response.<span class="hljs-built_in">message</span>(), response.<span class="hljs-built_in">code</span>());
                <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">RuntimeException</span>(<span class="hljs-string">"è¯·æ±‚å¤±è´¥:"</span> + response.<span class="hljs-built_in">code</span>());
            }
         	<span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"è¯·æ±‚æˆåŠŸ: {}, {}"</span>,response.<span class="hljs-built_in">message</span>(), response.<span class="hljs-built_in">code</span>());
            <span class="hljs-comment">// è·å¾—å“åº”æ•°æ®</span>
            <span class="hljs-selector-tag">if</span> (response.<span class="hljs-built_in">body</span>() != null){
                <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">responseBody</span> = <span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.body</span>()<span class="hljs-selector-class">.string</span>();
                <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"åŸå§‹å“åº”: {}"</span>, JSONUtil.<span class="hljs-built_in">formatJsonStr</span>(responseBody));
                <span class="hljs-comment">// è§£æå“åº”æ•°æ®ï¼Œæ„å»ºå“åº”ç»“æœç±»</span>
                <span class="hljs-selector-tag">SearXNGResult</span> <span class="hljs-selector-tag">searXNGResult</span> = <span class="hljs-selector-tag">JSONUtil</span><span class="hljs-selector-class">.toBean</span>(responseBody, SearXNGResult.class);
                <span class="hljs-comment">// ç­›é€‰ç»“æœ</span>
                <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">searXNGResult</span>
                        <span class="hljs-selector-class">.getResults</span>()
                        <span class="hljs-selector-class">.subList</span>(<span class="hljs-number">0</span>, Math.<span class="hljs-built_in">min</span>(COUNT, searXNGResult.<span class="hljs-built_in">getResults</span>().<span class="hljs-built_in">size</span>()))
                        <span class="hljs-selector-class">.parallelStream</span>()                        <span class="hljs-selector-class">.sorted</span>(Comparator.<span class="hljs-built_in">comparingDouble</span>(<span class="hljs-attribute">WebSearchResult</span>::getScore).<span class="hljs-built_in">reversed</span>())
                        <span class="hljs-selector-class">.limit</span>(COUNT)
                        <span class="hljs-selector-class">.toList</span>();
            }
        } <span class="hljs-selector-tag">catch</span> (IOException e) {
            <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">RuntimeException</span>(e);
        }
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">Collections</span><span class="hljs-selector-class">.emptyList</span>();
    }
}
</code></pre>
</li>
<li>
<p>Controllerä¸­è°ƒç”¨æµ‹è¯•</p>
</li>
</ol>

<pre><code class="hljs language-less" lang="less"> <span class="hljs-comment">/**
    * @author aceFelix
 */</span>
   <span class="hljs-variable">@RestController</span>
   <span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"api/webSearch"</span>)
   public class WebSearchController {
       <span class="hljs-variable">@Autowired</span>
       private SearXngService searXngService;
       <span class="hljs-comment">/**
        * è”ç½‘æœç´¢æµ‹è¯•
        * @param query
        * @return
        */</span>
       <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"queryTest"</span>)
       public List&lt;WebSearchResult&gt; <span class="hljs-built_in">search</span>(String query) {
           <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">searXngService</span><span class="hljs-selector-class">.search</span>(query);
       }
   }
</code></pre>
<h3 data-id="heading-3">é—®é¢˜è¯´æ˜ï¼š</h3>
<p>å¯åŠ¨SpringAIåº”ç”¨ï¼Œæµè§ˆå™¨è®¿é—®æ¥å£<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2Fapi%2FwebSearch%2FqueryTest%3Fquery%3Dhello%25EF%25BC%258C%25E6%258B%25BF%25E5%2588%25B0%25E6%2595%25B0%25E6%258D%25AE%25E4%25B8%25BA%25E7%25A9%25BA%25E3%2580%2582" target="_blank" title="http://localhost:8080/api/webSearch/queryTest?query=hello%EF%BC%8C%E6%8B%BF%E5%88%B0%E6%95%B0%E6%8D%AE%E4%B8%BA%E7%A9%BA%E3%80%82" ref="nofollow noopener noreferrer">http://localhost:8080/api/webSearch/queryTest?query=helloï¼Œæ‹¿åˆ°æ•°æ®ä¸ºç©ºã€‚</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16f8c3b2daa0450e8cef1cf4eefdd72c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=D2J%2FNZWbEaS9ksxmz640%2F7jyAWo%3D" alt="ç©ºæ•°æ®.png" loading="lazy"/></p>
<p>æŸ¥çœ‹ideaæ§åˆ¶å°ä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼ŒæˆåŠŸå“åº”200ï¼Œä½†æ˜¯åŸå§‹å“åº”æ•°æ®ä¸ºç©ºï¼ŒSearXNG æ‰€æœ‰çš„åç«¯æœç´¢å¼•æ“å‡è¿æ¥è¶…æ—¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87994ade90614917a684167837255b47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=qq5Pp0NaWzV6aIA%2BaTvQoTSkYek%3D" alt="æ§åˆ¶å°200.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0af4dacbada4c9cb07f4b36dbcd04c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=r8lO1NZHpL5v7MBcRkQYImBGoig%3D" alt="æ§åˆ¶å°200...png" loading="lazy"/></p>
<h3 data-id="heading-4">åŸå› åˆ†æï¼š</h3>
<p>ideaæ§åˆ¶å°æ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜ä»£ç æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼ŒSearXNG ç¡®å®æ˜¯è¿”å›äº†ç©ºæ•°æ®ï¼Œé—®é¢˜å°±å‡ºåœ¨SearXNG è¿™è¾¹ï¼ŒSearXNG æ— æ³•è¿æ¥åˆ°ä¸Šæ¸¸å¼•æ“å¯¼è‡´æ•°æ®ä¸ºç©ºã€‚</p>
<p>é€šè¿‡è®¿é—®æœ¬åœ°éƒ¨ç½²çš„SearXNG å®¢æˆ·ç«¯ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8888%2F%25EF%25BC%258C%25E5%259C%25A8%25E9%25A6%2596%25E9%2580%2589%25E9%25A1%25B9%25E5%25BC%2595%25E6%2593%258E%25E9%2585%258D%25E7%25BD%25AE%25E4%25B8%25AD%25E5%2590%25AF%25E7%2594%25A8%25E5%259B%25BD%25E5%2586%2585%25E5%25BC%2595%25E6%2593%258E%25EF%25BC%258C%25E9%2587%258D%25E5%2590%25AF%25E5%25BA%2594%25E7%2594%25A8%25E5%2586%258D%25E6%25AC%25A1%25E6%25B5%258B%25E8%25AF%2595%25E3%2580%2582" target="_blank" title="http://127.0.0.1:8888/%EF%BC%8C%E5%9C%A8%E9%A6%96%E9%80%89%E9%A1%B9%E5%BC%95%E6%93%8E%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%90%AF%E7%94%A8%E5%9B%BD%E5%86%85%E5%BC%95%E6%93%8E%EF%BC%8C%E9%87%8D%E5%90%AF%E5%BA%94%E7%94%A8%E5%86%8D%E6%AC%A1%E6%B5%8B%E8%AF%95%E3%80%82" ref="nofollow noopener noreferrer">http://127.0.0.1:8888/ï¼Œåœ¨é¦–é€‰é¡¹å¼•æ“é…ç½®ä¸­å¯ç”¨å›½å†…å¼•æ“ï¼Œé‡å¯åº”ç”¨å†æ¬¡æµ‹è¯•ã€‚</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd6eb1680d5440dbb92d95c86ad6be9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=gsj1kbFF6s8fgYrp8RsHwbw5GA0%3D" alt="xng.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ca61e0c04fb4757b7af53136c4fe00a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=kJjIAEobMuJTktFUAZYD5%2B%2BHcGU%3D" alt="xngå¼•æ“é…ç½®.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feeaad6b26c9434da24c97941e6845ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=RyNp5dvrwlXMbhOCJ8Q2q%2F4KEmY%3D" alt="xngå¼•æ“é…ç½®2.png" loading="lazy"/></p>
<p>é‡å¯åº”ç”¨åæµè§ˆå™¨è®¿é—®åç«¯æ¥å£ä¾ç„¶æ‹¿ä¸åˆ°æ•°æ®ï¼Œé¦–é€‰é¡¹ä¸­çš„é…ç½®æ²¡æœ‰ç”Ÿæ•ˆã€‚</p>
<p>ç›´æ¥é€šè¿‡SearXNG APIæœç´¢ç»“æœï¼Œæ‹¿åˆ°ideaæ§åˆ¶å°æ—¥å¿—è¾“å‡ºçš„SearXNG å®¢æˆ·ç«¯æœç´¢çš„urlï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8888%2Fsearch%3Fq%3Dhello%26format%3Djson%25E6%25B5%258F%25E8%25A7%2588%25E5%2599%25A8%25E8%25AE%25BF%25E9%2597%25AE%25EF%25BC%258C%25E6%25AD%25A3%25E5%25B8%25B8%25E8%25BE%2593%25E5%2587%25BA%25E5%2593%258D%25E5%25BA%2594%25E7%25BB%2593%25E6%259E%259C%25E6%25B2%25A1%25E6%259C%2589%25E9%2597%25AE%25E9%25A2%2598%25E3%2580%2582" target="_blank" title="http://127.0.0.1:8888/search?q=hello&amp;format=json%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BF%E9%97%AE%EF%BC%8C%E6%AD%A3%E5%B8%B8%E8%BE%93%E5%87%BA%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C%E6%B2%A1%E6%9C%89%E9%97%AE%E9%A2%98%E3%80%82" ref="nofollow noopener noreferrer">http://127.0.0.1:8888/search?q=hello&amp;format=jsonæµè§ˆå™¨è®¿é—®ï¼Œæ­£å¸¸è¾“å‡ºå“åº”ç»“æœæ²¡æœ‰é—®é¢˜ã€‚</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2658560d6c34a5ebdad3665dd5c977d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=HAPOMYKgR6M4g433P0YHrlxGizE%3D" alt="xng.png" loading="lazy"/></p>
<p>å®¢æˆ·ç«¯ä½¿ç”¨ä¸Šæ¸¸å¼•æ“æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå®¢æˆ·ç«¯çš„é…ç½®å¯¹å®¢æˆ·ç«¯æ˜¯ç”Ÿæ•ˆçš„ï¼Œé‚£è¯´æ˜å°±æ˜¯æœ¬åœ°æœåŠ¡ç«¯çš„è¿æ¥é…ç½®æœ‰é—®é¢˜ã€‚</p>
<p>æŸ¥çœ‹SearXNG æœ¬åœ°æœåŠ¡è¿è¡Œæ—¥å¿—ã€‚</p>
<pre><code class="hljs">docker logs å®¹å™¨åæˆ–ID
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fb38795bd80481bab95e629f1947260~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=GssxpUFBJCi0g34LQXa0tt%2BFtWo%3D" alt="å¼•æ“æ—¥å¿—.png" loading="lazy"/></p>
<p>ç¡®å®å¦‚æ­¤ï¼ŒSearXNG æœåŠ¡ç«¯é»˜è®¤è¿æ¥çš„ä¸Šæ¸¸å¼•æ“æ˜¯ï¼šbraveã€duckduckgoã€googleã€startpageã€wikipediaï¼Œå‡è¿æ¥è¶…æ—¶ï¼Œå› ä¸ºæ˜¯åœ¨å›½å†…ï¼Œæ‰€ä»¥æ— æ³•æ­£å¸¸è®¿é—®ï¼Œéœ€è¦åœ¨settings.ymlé…ç½®æ–‡ä»¶ä¸­é…ç½®å¯ç”¨å›½å†…çš„å¼•æ“ã€‚</p>
<h3 data-id="heading-5">é—®é¢˜è§£å†³ï¼š</h3>
<p>åœ¨SearXNGçš„settings.ymlé…ç½®æ–‡ä»¶ä¸­å¯ç”¨å¯ç”¨å›½å†…çš„å¼•æ“ã€‚</p>
<p>å°†é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°ä¸»æœºä¸­ä½¿ç”¨vimç¼–è¾‘ä¿®æ”¹åå†å¤åˆ¶ä¼šå®¹å™¨å†…ï¼Œè‡³äºä¸ºå•¥è¦è¿™ä¹ˆæ”¹ï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘ä¸Šä¸€ç¯‡<a href="https://juejin.cn/post/7580592190020943906" target="_blank" title="https://juejin.cn/post/7580592190020943906">æ–‡ç« </a>ã€‚</p>
<ul>
<li>
<p>å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°ä¸»æœº</p>
<pre><code class="hljs language-ruby" lang="ruby">docker cp å®¹å™¨åæˆ–<span class="hljs-variable constant_">ID</span><span class="hljs-symbol">:/etc/searxng/settings</span>.yml ./searxng_settings.yml
</code></pre>
</li>
<li>
<p>ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶ï¼Œæ‰¾åˆ°é…ç½®engineé‚£ä¸€é¡¹ï¼Œå°†å›½å†…å¼•æ“å¯ç”¨ï¼Œå°±æŠŠç™¾åº¦ã€å¤¸å…‹å’Œæœç‹—å¯ç”¨å°±è¡Œ</p>
<pre><code class="hljs">vim searxng_settings.yml
</code></pre>
</li>
</ul>

<ul>
<li>
<p>æŠŠdisabledå“ªä¸€é¡¹æ”¹ä¸ºfalseï¼Œbe likeï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ca8343f9564446eb4f001844527f81a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=CKFcm7mhrl%2FY7t%2BfX8UFrSoZnb4%3D" alt="ç™¾åº¦.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c33e7b824dea45c193337b6db1def088~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=Hlup4PR21DJS6SK5%2FviOUhA2FRg%3D" alt="å¤¸å…‹.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29f92e84df7c4172bf14535fc81c6d7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=UcxQ3NLD5KpuDH%2Ff0LHl6wopSJk%3D" alt="æœç‹—.png" loading="lazy"/></p>
</li>
</ul>

<ul>
<li>
<p>é…ç½®å®Œæˆåä¿å­˜ï¼Œå†å°†é…ç½®æ–‡ä»¶å¤åˆ¶å›å®¹å™¨å†…ï¼Œæœ€åé‡å¯å®¹å™¨å°±OKäº†ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby">docker cp ./searxng_settings.yml å®¹å™¨åæˆ–<span class="hljs-variable constant_">ID</span><span class="hljs-symbol">:/etc/searxng/settings</span>.yml
docker restart å®¹å™¨åæˆ–<span class="hljs-variable constant_">ID</span>
</code></pre>
</li>
</ul>
<p>æœ€åå¯åŠ¨SpringAiåº”ç”¨ï¼Œæµè§ˆå™¨å†æ¬¡è®¿é—®<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8000%2Fapi%2FwebSearch%2FqueryTest%3Fquery%3Dhello%25EF%25BC%258C%25E6%2588%2590%25E5%258A%259F%25E6%258B%25BF%25E5%2588%25B0%25E6%2595%25B0%25E6%258D%25AE%25EF%25BC%2581" target="_blank" title="http://localhost:8000/api/webSearch/queryTest?query=hello%EF%BC%8C%E6%88%90%E5%8A%9F%E6%8B%BF%E5%88%B0%E6%95%B0%E6%8D%AE%EF%BC%81" ref="nofollow noopener noreferrer">http://localhost:8000/api/webSearch/queryTest?query=helloï¼ŒæˆåŠŸæ‹¿åˆ°æ•°æ®ï¼</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3352330a355c4738bc534bf5eb1d4129~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=S3qisRf6YQjmMxW%2BoE9kcVFfLr0%3D" alt="æˆåŠŸ.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8e03aed35334923a9fe5d6d6a0150fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=MDdiVJyETikqH5lXz2YXFJHA6SY%3D" alt="æˆåŠŸ2.png" loading="lazy"/></p>
<h3 data-id="heading-6">å¼€å‘å®Œå–„ï¼š</h3>
<p>å°†è”ç½‘æœç´¢åˆ°çš„ç»“æœä¸å¤§æ¨¡å‹æç¤ºè¯ç»“åˆï¼Œè®©å¤§æ¨¡å‹åŸºäºç½‘ç»œæœç´¢ç»“æœå›ç­”ç”¨æˆ·ã€‚</p>
<ol start="7">
<li>
<p>ChatServiceImpl.javaä¸­ç»„è£…æç¤ºè¯åå®ç°ä¸å¤§æ¨¡å‹äº¤äº’</p>
<pre><code class="hljs language-ini" lang="ini">// è”ç½‘æœç´¢æç¤ºè¯
    private static final String <span class="hljs-attr">SEARCH_PROMPT</span> = <span class="hljs-string">"""
            å°†è”ç½‘æœç´¢çš„è¿”å›ç»“æœä½œä¸ºä¸Šä¸‹æ–‡ï¼Œç†è§£å¹¶ç»¼åˆå†…å®¹åå›ç­”é—®é¢˜ï¼š
            ã€ä¸Šä¸‹æ–‡ã€‘
            {context}
            
            ã€é—®é¢˜ã€‘
            {question}
            
            ã€è¾“å‡ºã€‘
            å¦‚æœæ²¡æœ‰æŸ¥åˆ°ï¼Œå›å¤ï¼šæˆ‘å»ä½ çš„ï¼Œä½ è¿™é—®é¢˜åœ¨ç½‘ä¸ŠæŸ¥ä¸åˆ°å•Šï¼Œå¤ªå†·é—¨äº†ä¼°è®¡ã€‚
            å¦‚æœæŸ¥åˆ°ï¼Œç†è§£å¹¶ç»¼åˆå†…å®¹åå›å¤ï¼Œä½ è‡ªå·±å¯ä»¥æ¶¦è‰²ï¼Œä½†æ ¸å¿ƒå†…å®¹ä¸å˜ï¼Œå…¶ä»–æ— å…³å†…å®¹ä¸å¿…æåŠã€‚
            """</span><span class="hljs-comment">;</span>
    /**
     * ä¸å¤§æ¨¡å‹äº¤äº’ï¼ˆå¯ç”¨è”ç½‘æœç´¢ï¼‰
     * @param chatEntity
     */
    @Override
    public void chatWebSearch(ChatEntity chatEntity) {
        String <span class="hljs-attr">userId</span> = chatEntity.getUserId()<span class="hljs-comment">;</span>
        String <span class="hljs-attr">question</span> = chatEntity.getMessage()<span class="hljs-comment">;</span>
        String <span class="hljs-attr">botMessageId</span> = chatEntity.getBotMessageId()<span class="hljs-comment">;</span>
        // æ„å»ºæç¤ºè¯
        List&lt;WebSearchResult&gt; <span class="hljs-attr">search</span> = searXngService.search(question)<span class="hljs-comment">;</span>
        StringBuffer <span class="hljs-attr">context</span> = new StringBuffer()<span class="hljs-comment">;</span>
        for (WebSearchResult webSearchResult : search) {
            // context.append(webSearchResult.getTitle()).append("\n").append(webSearchResult.getContent()).append("\n")<span class="hljs-comment">;</span>
            context.append(
                    String.format("&lt;context&gt;\nã€æ¥æºã€‘%s \nã€å†…å®¹æ‘˜è¦ã€‘%s \n&lt;/context&gt;\n",
                            webSearchResult.getUrl(),
                            webSearchResult.getContent()
                            )
            )<span class="hljs-comment">;</span>
        }
        // ç»„è£…æç¤ºè¯
        Prompt <span class="hljs-attr">prompt</span> = new Prompt(SEARCH_PROMPT
                .replace("{context}", context)
                .replace("{question}", question)
        )<span class="hljs-comment">;</span>
        // ä¸å¤§æ¨¡å‹äº¤äº’,å¹¶å®æ—¶æ¨é€æ¶ˆæ¯ç»™å‰ç«¯
        pushMessage(userId, String.valueOf(prompt), botMessageId)<span class="hljs-comment">;</span>
    }


/**
     * ä¸å¤§æ¨¡å‹äº¤äº’ï¼Œå°†å“åº”å†…å®¹å®æ—¶æ¨é€ç»™å‰ç«¯
     * @param prompt
     * @param userId
     * @param botMessageId
     */
    private void pushMessage(String userId, String prompt, String botMessageId) {
        Flux&lt;String&gt; <span class="hljs-attr">result</span> = qwen3MaxChatClient.prompt(prompt).stream().content()<span class="hljs-comment">;</span>

        List&lt;String&gt; <span class="hljs-attr">contentList</span> = result.toStream().map(chatResponse -&gt; {
            String <span class="hljs-attr">content</span> = chatResponse.toString()<span class="hljs-comment">;</span>
            SSEServer.sendMessage(userId, content, SSEMessageType.ADD)<span class="hljs-comment">;</span>
            log.info("å“åº”å†…å®¹ï¼š{}", content)<span class="hljs-comment">;</span>
            return content<span class="hljs-comment">;</span>
        }).toList()<span class="hljs-comment">;</span>

        String <span class="hljs-attr">fullContent</span> = String.join(<span class="hljs-string">""</span>, contentList)<span class="hljs-comment">;</span>
        ChatResponseEntity <span class="hljs-attr">chatResponseEntity</span> = new ChatResponseEntity(fullContent, botMessageId)<span class="hljs-comment">;</span>
        SSEServer.sendMessage(userId, JSONUtil.toJsonStr(chatResponseEntity), SSEMessageType.FINISH)<span class="hljs-comment">;</span>
    }
</code></pre>
</li>
<li>
<p>Controllerä¸­é›†æˆè°ƒç”¨</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">/**
 * @author aceFelix
 */</span>
<span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"api/webSearch"</span>)
public class WebSearchController {
    <span class="hljs-variable">@Autowired</span>
    private SearXngService searXngService;
    <span class="hljs-comment">/**
     * å¯ç”¨è”ç½‘æœç´¢
     * @param chatEntity
     * @return
     */</span>
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"query"</span>)
    public void <span class="hljs-built_in">webSearch</span>(<span class="hljs-variable">@RequestBody</span> ChatEntity  chatEntity, HttpServletResponse response) {
        <span class="hljs-selector-tag">response</span><span class="hljs-selector-class">.setCharacterEncoding</span>(<span class="hljs-string">"UTF-8"</span>);
        <span class="hljs-selector-tag">chatService</span><span class="hljs-selector-class">.chatWebSearch</span>(chatEntity);
    }
}


<span class="hljs-comment">/**
 * @author aceFelix
 */</span>
@<span class="hljs-selector-tag">RestController</span>
@<span class="hljs-selector-tag">RequestMapping</span>(<span class="hljs-string">"api/chat"</span>)
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">ChatController</span> {
    <span class="hljs-variable">@Autowired</span>
    private ChatService chatService;
    <span class="hljs-comment">/**
     * ä¸å¤§æ¨¡å‹äº¤äº’
     * @param chatEntity
     */</span>
    <span class="hljs-variable">@PostMapping</span>
    public void <span class="hljs-built_in">doChat</span>(<span class="hljs-variable">@RequestBody</span> ChatEntity chatEntity){
        <span class="hljs-selector-tag">chatService</span><span class="hljs-selector-class">.Chat</span>(chatEntity);
    }
}
</code></pre>
</li>
</ol>
<p>å¯åŠ¨Springåº”ç”¨ï¼Œè¿›è¡Œå‰åç«¯è”è°ƒï¼Œå‰ç«¯æˆ‘æ˜¯ç”¨qoderå†™çš„ï¼Œçœæ—¶çœåŠ›ã€‚</p>
<p>æœªå¼€å¯è”ç½‘æœç´¢ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/842277a141a24ff089daf8a711bd15a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=gIQ2Xlcj%2Bzxp8z9963TZGizkuVg%3D" alt="ä¸œåŒ—å¾€äº‹.png" loading="lazy"/></p>
<p>åˆ·æ–°é¡µé¢å¯ç”¨è”ç½‘æœç´¢ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d9af7cabd8e4e9a87cd183275bd1293~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=UfsmSmnvrc7P%2FpukFR%2F9neCXt%2Fg%3D" alt="ä¸œåŒ—å¾€äº‹2.png" loading="lazy"/></p>
<p>AIåŸºäºç½‘ç»œæœç´¢çš„ç»“æœå›ç­”ï¼Œæ²¡æ¯›ç—…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa0b82e1a80a46d4bdfcf51a637073d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-5pavRmVsaXg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766064667&amp;x-signature=DJKOuBIuoihdFZNQWIEZOjsFR2c%3D" alt="æ²¡æ¯›ç—….png" loading="lazy"/></p>
<h3 data-id="heading-7">é—®é¢˜æ€»ç»“ï¼š</h3>
<p>è¿™ä¸ªé”™è¯¯è®©äººæ‡µBçš„å°±æ˜¯ï¼Œæ²¡æœ‰é”™è¯¯ï¼Œæ–­ç‚¹è°ƒè¯•ä»–ä¹Ÿæ˜¯æ­£å¸¸å“åº”çš„ï¼Œæ¥å£å®Œå…¨æ²¡æ¯›ç—…ï¼Œä¸€æ—¶é—´ä½ è¿˜çœŸæ‘¸ä¸ç€å¤´è„‘ã€‚æ—¥å¿—ç®—æ˜¯å¸®ä¸Šå¿™äº†ï¼Œæ‰€ä»¥è¯´ï¼Œå¹³æ—¶è¦å…»æˆæ‰“æ—¥å¿—çš„ä¹ æƒ¯å•Šã€‚å…¶å®çœ‹åˆ°ä¸Šæ¸¸å¼•æ“è¿æ¥è¶…æ—¶ï¼Œå°±åº”è¯¥çŸ¥é“æ˜¯SearXNGè‡ªèº«çš„å¼•æ“é…ç½®æœ‰é—®é¢˜ï¼Œå¯èƒ½æ˜¯å®¢æˆ·ç«¯æˆ–æœåŠ¡ç«¯ã€‚æ€»ä¹‹ï¼Œé‡åˆ°è¿™ç§æ²¡æœ‰æŠ¥é”™çš„bugï¼Œä»£ç æœ¬èº«ä¹Ÿæ²¡æœ‰é—®é¢˜ï¼Œé‚£é—®é¢˜å°±å¯èƒ½å‡ºç°åœ¨ç¬¬ä¸‰æ–¹å·¥å…·èº«ä¸Šï¼Œå¯èƒ½æ˜¯ç½‘ç»œã€é…ç½®æ–‡ä»¶ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å¤§å›¢é˜ŸUNeMoæ¡†æ¶ï¼šè®©æœºå™¨äººå­¦ä¼šâ€œé¢„åˆ¤â€ï¼Œæ•ˆç‡æå‡40%]]></title>    <link>https://juejin.cn/post/7582475416189960227</link>    <guid>https://juejin.cn/post/7582475416189960227</guid>    <pubDate>2025-12-12T01:51:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582475416189960227" data-draft-id="7582424649784688640" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å¤§å›¢é˜ŸUNeMoæ¡†æ¶ï¼šè®©æœºå™¨äººå­¦ä¼šâ€œé¢„åˆ¤â€ï¼Œæ•ˆç‡æå‡40%"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-12T01:51:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å¤§å›¢é˜ŸUNeMoæ¡†æ¶ï¼šè®©æœºå™¨äººå­¦ä¼šâ€œé¢„åˆ¤â€ï¼Œæ•ˆç‡æå‡40%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T01:51:45.000Z" title="Fri Dec 12 2025 01:51:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»…ç”¨30%çš„å‚æ•°è§„æ¨¡ï¼Œå°±èƒ½åœ¨é™Œç”Ÿç¯å¢ƒä¸­å®ç°72.5%çš„å¯¼èˆªæˆåŠŸç‡ï¼Œè¿™ä¸ªæ–°æ¡†æ¶æ­£åœ¨é‡æ–°å®šä¹‰è§†è§‰-è¯­è¨€å¯¼èˆªçš„æ™ºèƒ½è¾¹ç•Œã€‚</p>
<p>è¿‘æ—¥ï¼Œæ·±åœ³å¤§å­¦æåšå¼ºæ•™æˆå›¢é˜Ÿä¸æ·±åœ³åŒ—ç†è«æ–¯ç§‘å¤§å­¦ç­‰æœºæ„åˆä½œï¼Œæå‡ºäº†ä¸€ä¸ªåä¸ºUNeMoçš„å…¨æ–°è§†è§‰-è¯­è¨€å¯¼èˆªæ¡†æ¶ã€‚<strong>è¯¥æ¡†æ¶é€šè¿‡åˆ›æ–°çš„å¤šæ¨¡æ€ä¸–ç•Œæ¨¡å‹ä¸åˆ†å±‚é¢„æµ‹åé¦ˆæœºåˆ¶ï¼Œé¦–æ¬¡è®©å¯¼èˆªæ™ºèƒ½ä½“ä¸ä»…èƒ½çœ‹åˆ°å½“å‰ç¯å¢ƒï¼Œè¿˜èƒ½â€œé¢„åˆ¤â€æ¥ä¸‹æ¥å¯èƒ½çœ‹åˆ°çš„å†…å®¹ï¼Œä»è€Œåšå‡ºæ›´åŠ æ™ºèƒ½çš„å†³ç­–ã€‚</strong></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2485ed9ad4274535b4ef006ae52a41e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=NIGURGFt07Vkq4WhIS6l%2B0Lr030%3D" alt="å›¾ç‰‡1.png" loading="lazy"/></p>
<blockquote>
<p><strong>è®ºæ–‡æ ‡é¢˜ï¼šUNeMo: Collaborative Visual-Language Reasoning and Navigation via a Multimodal World Model</strong></p>
<p><strong>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2511.18845" target="_blank" title="https://arxiv.org/pdf/2511.18845" ref="nofollow noopener noreferrer">arxiv.org/pdf/2511.18â€¦</a></strong></p>
</blockquote>
<p>è¿™ä¸€æˆæœå·²è¢«äººå·¥æ™ºèƒ½é¡¶ä¼šAAAI 2026æ”¶å½•ï¼Œå®ƒæœ‰æœ›å¤§å¹…é™ä½æœºå™¨äººå¯¼èˆªçš„èµ„æºæ¶ˆè€—ï¼Œå¹¶åœ¨é•¿è·ç¦»ã€å¤æ‚åœºæ™¯ä¸­å±•ç°å‡ºå“è¶Šçš„ç¨³å¥æ€§ã€‚</p>
<h2 data-id="heading-0"><strong>ç°æœ‰ç“¶é¢ˆï¼šè¯­è¨€æ¨ç†ä¸è§†è§‰å¯¼èˆªä¸ºä½•â€œè„±èŠ‚â€ï¼Ÿ</strong></h2>
<p>è§†è§‰-è¯­è¨€å¯¼èˆªæ˜¯å…·èº«äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒä»»åŠ¡ä¹‹ä¸€ã€‚å®ƒè¦æ±‚æ™ºèƒ½ä½“ä»…å‡­æ‘„åƒå¤´çœ‹åˆ°çš„å›¾åƒå’Œä¸€å¥å¦‚â€œè¯·å»å§å®¤æ‹¿ä¸€æœ¬ä¹¦â€çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œå°±èƒ½åœ¨å®Œå…¨é™Œç”Ÿçš„å®¶åº­ç¯å¢ƒä¸­è‡ªä¸»ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®ã€‚</p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹çš„çˆ†å‘ï¼ŒåŸºäºLLMçš„å¯¼èˆªæ–¹æ³•å–å¾—äº†ä¸€å®šè¿›å±•ï¼Œä½†ç ”ç©¶è€…ä»¬å¾ˆå¿«å‘ç°äº†ä¸¤ä¸ªæ ¹æœ¬æ€§ç“¶é¢ˆï¼š</p>
<ul>
<li><strong>æ¨ç†æ¨¡æ€å•ä¸€ï¼š</strong> ç°æœ‰æ–¹æ³•å¤§å¤šåªè®©LLMè¿›è¡Œâ€œè¯­è¨€æ¨ç†â€ï¼Œç¼ºä¹å¯¹è§†è§‰ç¯å¢ƒæœªæ¥çŠ¶æ€çš„é¢„åˆ¤èƒ½åŠ›ã€‚è¿™å°±åƒä¸€ä¸ªäººè’™ç€çœ¼å¬æŒ‡ä»¤èµ°è·¯ï¼Œåªèƒ½èµ°ä¸€æ­¥çœ‹ä¸€æ­¥ï¼Œæ— æ³•åº”å¯¹çªç„¶å‡ºç°çš„éšœç¢æˆ–å²”è·¯ã€‚</li>
<li><strong>ä¼˜åŒ–ç›®æ ‡å†²çªï¼š</strong> ä¼ ç»Ÿçš„æ¡†æ¶é€šå¸¸å°†â€œæ¨ç†æ¨¡å—â€ï¼ˆç†è§£æŒ‡ä»¤ã€è§„åˆ’è·¯å¾„ï¼‰å’Œâ€œå¯¼èˆªç­–ç•¥â€ï¼ˆæ‰§è¡Œå…·ä½“åŠ¨ä½œï¼‰åˆ†å¼€è®­ç»ƒã€‚è¿™å¯¼è‡´ä¸¤è€…é€‚é…æ€§å·®ï¼Œæ— æ³•åœ¨åŠ¨æ€ç¯å¢ƒä¸­å®ç°ååŒä¼˜åŒ–ï¼Œå½¢æˆäº†éš¾ä»¥çªç ´çš„æ€§èƒ½å¤©èŠ±æ¿ã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œâ€œæ€è€ƒâ€å’Œâ€œè¡ŒåŠ¨â€æ˜¯å‰²è£‚çš„ï¼Œæ™ºèƒ½ä½“æ— æ³•åœ¨è¡ŒåŠ¨ä¸­å­¦ä¹ ï¼Œä¹Ÿæ— æ³•æ ¹æ®è¡ŒåŠ¨ç»“æœå®æ—¶è°ƒæ•´æ€è€ƒç­–ç•¥ã€‚</p>
<h2 data-id="heading-1"><strong>UNeMoæ¡†æ¶ï¼šåŒæ¨¡å—ååŒï¼Œæ‰“é€ â€œé¢„åˆ¤+å†³ç­–â€æ™ºèƒ½é—­ç¯</strong></h2>
<p>ä¸ºäº†ç ´è§£ä¸Šè¿°éš¾é¢˜ï¼Œç ”ç©¶å›¢é˜Ÿæå‡ºäº† UNeMo æ¡†æ¶ã€‚å…¶æ ¸å¿ƒçªç ´åœ¨äºæ„å»ºäº†ä¸€ä¸ªâ€œå¤šæ¨¡æ€ä¸–ç•Œæ¨¡å‹ + åˆ†å±‚é¢„æµ‹åé¦ˆå¯¼èˆªå™¨â€ çš„åŒå‘ååŒæ¶æ„ï¼Œå°†è§†è§‰çŠ¶æ€æ¨ç†ä¸å¯¼èˆªå†³ç­–æ·±åº¦ç»‘å®šã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb662f9fc2cb4987a3aec43c2d973083~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=Jju4tlczUPbwwPpYv1z9xhtxxlY%3D" alt="å›¾ç‰‡2.png" loading="lazy"/></p>
<ul>
<li><strong>å¤šæ¨¡æ€ä¸–ç•Œæ¨¡å‹ï¼šè®©æœºå™¨äººæ‹¥æœ‰â€œæƒ³è±¡åŠ›â€</strong></li>
</ul>
<p>MWMçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ¡ä»¶å˜åˆ†è‡ªç¼–ç å™¨ã€‚å®ƒçš„ä½œç”¨æ˜¯æ¥æ”¶å½“å‰çš„è§†è§‰ç”»é¢ã€è¯­è¨€æŒ‡ä»¤ä»¥åŠå€™é€‰çš„ä¸‹ä¸€æ­¥åŠ¨ä½œï¼Œé€šè¿‡è·¨æ³¨æ„åŠ›æœºåˆ¶èåˆè¿™äº›å¤šæ¨¡æ€ä¿¡æ¯ï¼Œä»è€Œé¢„æµ‹å‡ºæ‰§è¡Œè¯¥åŠ¨ä½œåå¯èƒ½çœ‹åˆ°çš„æœªæ¥è§†è§‰çŠ¶æ€ã€‚</p>
<p>è¿™ç›¸å½“äºä¸ºæœºå™¨äººè£…ä¸Šäº†â€œé¢„è§ä¹‹çœ¼â€ï¼Œè®©å®ƒèƒ½åœ¨è¡ŒåŠ¨å‰å°±å¯¹ä¸åŒé€‰æ‹©çš„ç»“æœè¿›è¡Œæ¨¡æ‹Ÿå’Œè¯„ä¼°ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼ŒMWMæ— éœ€ä»»ä½•é¢å¤–çš„æ ‡æ³¨æ•°æ®ã€‚å®ƒé€šè¿‡å¯¼èˆªå†³ç­–çš„å®é™…ç»“æœè¿›è¡Œåå‘åé¦ˆï¼ŒæŒç»­ä¼˜åŒ–è‡ªå·±çš„é¢„æµ‹ç²¾åº¦ï¼Œå½¢æˆäº†ä¸€ä¸ªè‡ªé€‚åº”çš„è¿›åŒ–å¾ªç¯ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df15ae21a95e48c38556d897949058a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=151wIkRSwrhuKCW4oLopFMinbdU%3D" alt="å›¾ç‰‡3.png" loading="lazy"/></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a483b4ed9f8445bb8998fa89e1077c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=HEboesInWZiuxDUuOxJ%2F9k01v0E%3D" alt="å›¾ç‰‡4.png" loading="lazy"/></p>
<ul>
<li><strong>åˆ†å±‚é¢„æµ‹åé¦ˆå¯¼èˆªå™¨ï¼šä»â€œç²—é€‰â€åˆ°â€œç²¾è°ƒâ€çš„ä¸¤æ­¥å†³ç­–</strong></li>
</ul>
<p>HPFNé‡‡ç”¨äº†ä¸€ä¸ªé«˜æ•ˆçš„ä¸¤é˜¶æ®µåˆ†å±‚å†³ç­–æœºåˆ¶ï¼š</p>
<p>ç¬¬ä¸€é˜¶æ®µï¼ˆç²—ç²’åº¦è§„åˆ’ï¼‰ï¼šåŸºäºå½“å‰çœ‹åˆ°çš„å›¾åƒå’Œè¯­è¨€æŒ‡ä»¤ï¼Œå¿«é€Ÿç”Ÿæˆä¸€ä¸ªåˆæ­¥çš„å€™é€‰åŠ¨ä½œï¼Œé”å®šå¤§è‡´çš„å¯¼èˆªæ–¹å‘ã€‚</p>
<p>ç¬¬äºŒé˜¶æ®µï¼ˆç»†ç²’åº¦ä¿®æ­£ï¼‰ï¼šèå…¥MWMé¢„æµ‹çš„æœªæ¥è§†è§‰çŠ¶æ€ï¼Œå¯¹åˆæ­¥åŠ¨ä½œè¿›è¡Œä¼˜åŒ–å’Œä¿®æ­£ï¼Œæœ€ç»ˆè¾“å‡ºç²¾å‡†çš„å¯¼èˆªæŒ‡ä»¤ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹å¦‚åŒäººç±»å¼€è½¦ï¼šå…ˆçœ‹è·¯ç‰Œç¡®å®šå¤§è‡´æ–¹å‘ï¼ˆç²—é€‰ï¼‰ï¼Œå†è§‚å¯Ÿå‰æ–¹è·¯é¢ç»†èŠ‚è¿›è¡Œå¾®è°ƒæ–¹å‘ç›˜ï¼ˆç²¾è°ƒï¼‰ï¼Œä»è€Œç¡®ä¿åœ¨å¤æ‚è·¯å†µä¸­ç¨³å¥å‰è¡Œã€‚</p>
<h2 data-id="heading-2"><strong>æ ¸å¿ƒçªç ´ï¼šâ€œæ¨ç†-å†³ç­–â€åŠ¨æ€é—­ç¯ï¼Œç›¸äº’èµ‹èƒ½</strong></h2>
<p>UNeMoæ¶æ„æœ€ç²¾å¦™ä¹‹å¤„ï¼Œåœ¨äºå®ƒæ„å»ºäº†ä¸€ä¸ªè‡ªæˆ‘å¼ºåŒ–çš„åŠ¨æ€é—­ç¯ï¼š</p>
<ul>
<li><strong>æ­£å‘èµ‹èƒ½ï¼š</strong> MWMçš„è§†è§‰é¢„åˆ¤ä¸ºHPFNçš„å¯¼èˆªå†³ç­–æä¾›äº†å‰ç»æ€§ä¿¡æ¯ï¼Œæ˜¾è‘—æå‡äº†å†³ç­–çš„å‡†ç¡®æ€§å’Œé²æ£’æ€§ã€‚</li>
<li><strong>åå‘åé¦ˆï¼š</strong> HPFNå¯¼èˆªæ‰§è¡Œçš„å®é™…ç»“æœï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œä¼šå®æ—¶åé¦ˆç»™MWMï¼Œå¸®åŠ©å®ƒä¿®æ­£å’Œä¼˜åŒ–å¯¹æœªæ¥çŠ¶æ€çš„é¢„æµ‹æ¨¡å‹ã€‚</li>
</ul>
<p>â€œæ€è€ƒâ€æŒ‡å¯¼â€œè¡ŒåŠ¨â€ï¼Œâ€œè¡ŒåŠ¨â€çš„ç»“æœåˆåè¿‡æ¥ä¼˜åŒ–â€œæ€è€ƒâ€ã€‚ è¿™ç§åŒå‘ä¿ƒè¿›çš„æœºåˆ¶ï¼Œè®©æ™ºèƒ½ä½“èƒ½åœ¨æ¯ä¸€æ¬¡å¯¼èˆªä»»åŠ¡ä¸­æŒç»­å­¦ä¹ å’Œè¿­ä»£ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†ä¼ ç»Ÿæ–¹æ³•ä¸­æ¨ç†ä¸å†³ç­–åˆ†ç¦»çš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/031a5708fa9a48eb96fd44cf6193eae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=tDvqF8UNZh7JcL6LmGulNQuqAfU%3D" alt="å›¾ç‰‡5.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>å®éªŒéªŒè¯ï¼šæ•ˆç‡ä¸æ€§èƒ½çš„åŒé‡é£è·ƒ</strong></h2>
<p>ä¸ºäº†å…¨é¢éªŒè¯UNeMoçš„ä»·å€¼ï¼Œå›¢é˜Ÿè¿›è¡Œäº†ä¸€ç³»åˆ—ä¸¥è°¨çš„å®éªŒã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒåœºæ™¯ï¼šä»¥30%å‚æ•°é‡ï¼Œå®ç°æ€§èƒ½è¶…è¶Š</strong></li>
</ul>
<p>åœ¨VLNåŸºå‡†æ•°æ®é›†R2Rä¸Šï¼ŒUNeMoé‡‡ç”¨äº†å‚æ•°é‡ä»…ä¸º1.5Bçš„è½»é‡çº§æ¨¡å‹ï¼ˆFlanT5-1.5Bï¼‰ï¼Œè€Œä¸»æµæ–¹æ³•NavGPT2åˆ™ä½¿ç”¨äº†5Bå‚æ•°æ¨¡å‹ã€‚</p>
<p>ç»“æœä»¤äººæƒŠå–œï¼šUNeMoåœ¨èµ„æºæ¶ˆè€—ä¸Šå¤§å¹…é™ä½â€”â€”è®­ç»ƒæ˜¾å­˜å ç”¨ä»27GBé™è‡³12GBï¼ˆâ†“56%ï¼‰ï¼Œæ¨ç†é€Ÿåº¦ä»æ¯æ­¥1.1ç§’æå‡è‡³0.7ç§’ï¼ˆâ†‘40%æ•ˆç‡ï¼‰ã€‚ä¸æ­¤åŒæ—¶ï¼Œåœ¨ä»æœªè§è¿‡çš„æµ‹è¯•ç¯å¢ƒä¸­ï¼Œå…¶å¯¼èˆªæˆåŠŸç‡ï¼ˆSRï¼‰è¾¾åˆ°72.5%ï¼Œåè€Œè¶…è¶Šäº†NavGPT2çš„71%ï¼ŒçœŸæ­£å®ç°äº† â€œé™æœ¬å¢æ•ˆâ€ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff50f4c0bdd94d8bac058b2edef11536~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=gzaJMkrhbrdCVC6utRvXykPdngo%3D" alt="å›¾ç‰‡6.png" loading="lazy"/></p>
<ul>
<li><strong>å¤æ‚åœºæ™¯ï¼šé•¿è·¯å¾„å¯¼èˆªä¼˜åŠ¿æ˜¾è‘—</strong></li>
</ul>
<p>åœ¨é•¿è·ç¦»å¯¼èˆªä»»åŠ¡ä¸­ï¼ŒUNeMoçš„ä¼˜åŠ¿è¢«è¿›ä¸€æ­¥æ”¾å¤§ã€‚åœ¨è·¯å¾„é•¿åº¦â‰¥7çš„å¤æ‚ä»»åŠ¡ä¸­ï¼Œå…¶å¯¼èˆªæˆåŠŸç‡ç›¸æ¯”åŸºçº¿æ–¹æ³•å¤§å¹…æå‡5.6%ï¼Œæå‡å¹…åº¦æ˜¯çŸ­è·¯å¾„ä»»åŠ¡çš„è¿‘5å€ã€‚è¿™è¯æ˜å…¶â€œé¢„åˆ¤â€æœºåˆ¶èƒ½æœ‰æ•ˆç¼“è§£é•¿è·ç¦»å¯¼èˆªä¸­çš„è¯¯å·®ç´¯ç§¯é—®é¢˜ã€‚</p>
<ul>
<li><strong>é€šç”¨æ€§å¼ºï¼šè·¨åŸºçº¿ã€è·¨æ•°æ®é›†å‡æœ‰æ•ˆ</strong></li>
</ul>
<p>å›¢é˜Ÿè¿˜å°†UNeMoçš„æ ¸å¿ƒæ¶æ„è¿ç§»åˆ°ä¸åŒçš„å¯¼èˆªæ¨¡å‹ï¼ˆå¦‚DUETï¼‰å’Œä¸åŒçš„ä»»åŠ¡æ•°æ®é›†ï¼ˆå¦‚REVERIEï¼‰ä¸Šè¿›è¡Œæµ‹è¯•ã€‚ç»“æœæ˜¾ç¤ºï¼Œå…¶æ€§èƒ½å‡æœ‰ç¨³å®šæå‡ï¼Œè¯æ˜äº†è¯¥ååŒè®­ç»ƒæ¶æ„å…·æœ‰å¼ºå¤§çš„é€šç”¨æ€§å’Œå¯æ‹“å±•æ€§ï¼Œå¹¶éé’ˆå¯¹ç‰¹å®šæ¨¡å‹çš„â€œç‰¹åŒ–ä¼˜åŒ–â€ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a18dcca632cc4c2bbe3821a522e99021~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766109105&amp;x-signature=ZpkL5mxSf25x3%2F%2B%2FZvzWdPjK1C8%3D" alt="å›¾ç‰‡7.png" loading="lazy"/></p>
<h2 data-id="heading-4"><strong>ç»“è®º</strong></h2>
<p>æœ¬æ–‡æ¢è®¨äº†è§†è§‰è¯­è¨€å¯¼èˆªï¼ˆVLNï¼‰é¢†åŸŸçš„å…³é”®æŒ‘æˆ˜ï¼šç°æœ‰åŸºäºå¤§å‹è¯­è¨€æ¨¡å‹çš„æ–¹æ³•å—é™äºè§†è§‰æ¨ç†èƒ½åŠ›ä¸è¶³ï¼Œä¸”æ¨ç†æ¨¡å—ä¸å¯¼èˆªç­–ç•¥ä¹‹é—´å­˜åœ¨ä¼˜åŒ–å‰²è£‚ã€‚æˆ‘ä»¬æå‡ºUNeMoæ¡†æ¶ï¼Œé€šè¿‡å¤šæ¨¡æ€ä¸–ç•Œæ¨¡å‹ï¼ˆMWMï¼‰ä¸åˆ†å±‚æœºåˆ¶å®ç°è§†è§‰çŠ¶æ€æ¨ç†ä¸å¯¼èˆªå†³ç­–çš„ååŒä¼˜åŒ–ã€‚MWMé€šè¿‡è”åˆé¢„æµ‹è§†è§‰ç‰¹å¾ã€è¯­è¨€æŒ‡ä»¤åŠå¯¼èˆªåŠ¨ä½œçš„åç»­è§†è§‰çŠ¶æ€ï¼Œä¿ƒè¿›è·¨æ¨¡æ€æ¨ç†ã€‚MWMä¸å¯¼èˆªç­–ç•¥é—´çš„åˆ†å±‚äº¤äº’å»ºç«‹åŠ¨æ€åŒå‘ä¿ƒè¿›æœºåˆ¶ï¼šMWMæ¨ç†æå‡ç­–ç•¥ä¼˜åŒ–æ•ˆæœï¼Œç­–ç•¥å†³ç­–åå“ºMWMæ¨ç†ç²¾åº¦ã€‚åœ¨R2Rä¸REVERIEæ•°æ®é›†çš„å®éªŒéªŒè¯è¡¨æ˜ï¼ŒUNeMoæ˜¾è‘—è¶…è¶Šç°æœ‰æ–¹æ³•ï¼Œæœ‰æ•ˆæå‡è§†è§‰å¯¼èˆªä»»åŠ¡æ€§èƒ½ã€‚æœ¬ç ”ç©¶æ­ç¤ºäº†å¤šæ¨¡æ€ä¸–ç•Œå»ºæ¨¡ä¸åˆ†å±‚å†³ç­–æœºåˆ¶èåˆçš„æ½œåŠ›ï¼Œä¸ºå¼€å‘æ›´ç¨³å¥ã€æ›´å…·é€‚åº”æ€§çš„VLNæ™ºèƒ½ä½“å¼€è¾Ÿäº†æ–°è·¯å¾„ã€‚ä¾æ‰˜Matterport3DçœŸå®ä¸–ç•Œæ•°æ®ï¼ŒUNeMoæ˜¾è‘—ç¼©å°äº†ä»¿çœŸä¸ç°å®çš„è§†è§‰å·®è·ã€‚åç»­å·¥ä½œå°†æ‰©å±•UNeMoè‡³æ›´å¤æ‚åœºæ™¯ï¼Œå¹¶é€šè¿‡å®ä½“æœºå™¨äººéƒ¨ç½²éªŒè¯å…¶å®é™…å¯¼èˆªæ€§èƒ½ã€‚</p>
<p>UNeMoæ¡†æ¶çš„æå‡ºï¼Œä¸ºè§†è§‰-è¯­è¨€å¯¼èˆªé¢†åŸŸæä¾›äº†ä¸€ç§é«˜æ•ˆã€é€šç”¨çš„æ–°æ€è·¯ã€‚å®ƒé€šè¿‡å·§å¦™çš„ååŒæ¶æ„è®¾è®¡ï¼Œä»¥æ›´ä½çš„è®¡ç®—æˆæœ¬ï¼Œå®ç°äº†æ›´é«˜çš„å¯¼èˆªæ€§èƒ½ï¼Œå°¤å…¶åœ¨é•¿è½¨è¿¹ã€å¤æ‚ç¯å¢ƒä¸­è¡¨ç°çªå‡ºã€‚</p>
<p>è¿™é¡¹ç ”ç©¶ä¸ä»…æ¨åŠ¨äº†VLNé¢†åŸŸçš„å­¦æœ¯å‘å±•ï¼Œæ›´é‡è¦çš„æ˜¯ä¸ºå®¶åº­æœåŠ¡æœºå™¨äººã€æ™ºèƒ½ä»“å‚¨AGVç­‰å®é™…åº”ç”¨åœºæ™¯çš„è½åœ°æä¾›äº†æ›´å¯è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆã€‚ä¸€ä¸ªèƒ½å¤Ÿâ€œé¢„è§æœªæ¥â€ã€å¹¶æ®æ­¤åšå‡ºæ™ºèƒ½å†³ç­–çš„æœºå™¨äººï¼Œæ— ç–‘ç¦»æˆ‘ä»¬çš„ç”Ÿæ´»æ›´è¿‘äº†ä¸€æ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘æ˜¯æ€ä¹ˆç”¨ Redis æŠŠ ERPâ†’CRM åŒæ­¥æé€Ÿåˆ°â€œå‡ ç§’é’Ÿâ€çš„]]></title>    <link>https://juejin.cn/post/7582246395987673122</link>    <guid>https://juejin.cn/post/7582246395987673122</guid>    <pubDate>2025-12-11T12:03:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582246395987673122" data-draft-id="7582267229842587648" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘æ˜¯æ€ä¹ˆç”¨ Redis æŠŠ ERPâ†’CRM åŒæ­¥æé€Ÿåˆ°â€œå‡ ç§’é’Ÿâ€çš„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T12:03:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ¨æœ¨ä¸€ç›´åœ¨å“­æ³£"/> <meta itemprop="url" content="https://juejin.cn/user/3896324937225085"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘æ˜¯æ€ä¹ˆç”¨ Redis æŠŠ ERPâ†’CRM åŒæ­¥æé€Ÿåˆ°â€œå‡ ç§’é’Ÿâ€çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3896324937225085/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ¨æœ¨ä¸€ç›´åœ¨å“­æ³£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:03:09.000Z" title="Thu Dec 11 2025 12:03:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘è¿™è¾¹æœ‰ä¸€å¥—æ¯”è¾ƒå…¸å‹çš„æ¶æ„ï¼š</p>
<ul>
<li>åç«¯ç”¨ Java å¾®æœåŠ¡</li>
<li>æ•°æ®æºæ˜¯ ERPï¼ˆç±»ä¼¼ç”¨å‹ U8ï¼‰</li>
<li>å®¢æˆ·é‚£è¾¹ç”¨çš„æ˜¯ CRMï¼ˆç±»ä¼¼çº·äº«é”€å®¢ï¼‰</li>
</ul>
<p>é¢†å¯¼çš„éœ€æ±‚ä¹Ÿå¾ˆæœ´ç´ ï¼š <strong>â€œERP é‡Œçš„å®¢æˆ·ã€è®¢å•å•¥çš„ï¼Œå®šæ—¶åŒæ­¥åˆ° CRMï¼Œä¿è¯é‚£è¾¹æ•°æ®æ˜¯æœ€æ–°çš„ã€‚â€</strong></p>
<p>åˆšå¬çš„æ—¶å€™æˆ‘ä¹Ÿè§‰å¾—è¿™ä¸å°±æ˜¯ä¸ªâ€œæ¬è¿å·¥â€æ´»å—ï¼Ÿ<br/>
ç»“æœä¸€ä¸Šæ‰‹æ‰å‘ç°ï¼šè¿™é‡Œé¢ç‰¹åˆ«å®¹æ˜“ææˆâ€œåˆæ…¢åˆå èµ„æºâ€çš„é‚£ç§çƒ‚æ´»ã€‚</p>
<p>æ‰€ä»¥æˆ‘æœ€ååŠ äº†ä¸€å±‚ Redisï¼Œä¸­é—´åšäº†ä¸€æ­¥â€œå¯¹æ¯”åˆ¤æ–­â€ï¼Œç›´æ¥æŠŠåŒæ­¥è¿‡ç¨‹æé€Ÿåˆ°â€œå‡ ç§’çº§â€ã€‚ä¸‹é¢æˆ‘å°±ç”¨ç¬¬ä¸€äººç§°å¥½å¥½è®²ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€æœ€å¼€å§‹çš„æ–¹æ¡ˆï¼šæš´åŠ›å…¨é‡ï¼Œè·‘ä¸€æ¬¡åŠå¤©</h2>
<p>æœ€å¼€å§‹æˆ‘å†™çš„å°±æ˜¯å¤§å®¶æœ€å®¹æ˜“æƒ³åˆ°çš„é‚£ç§ï¼š</p>
<ol>
<li>å®šæ—¶ä»»åŠ¡è§¦å‘</li>
<li>ä» ERP å…¨é‡æŸ¥è¡¨ï¼Œæ¯”å¦‚æŸ¥å®¢æˆ·è¡¨ N æ¡è®°å½•</li>
<li>å¯¹æ¯ä¸€æ¡æ•°æ®ï¼Œå» CRM é‚£è¾¹æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯å­˜åœ¨ã€æ•°æ®æ˜¯å¦ä¸€è‡´</li>
<li>ä¸ä¸€è‡´å°±è°ƒç”¨æ¥å£æ›´æ–°ï¼Œä¸€è‡´å°±ç®—äº†</li>
</ol>
<p>å¾ˆå¿«é—®é¢˜å°±æ¥äº†ï¼š</p>
<ul>
<li>ERP é‚£è¾¹æ•°æ®é‡ä¸Šæ¥äº†ï¼Œå…¨è¡¨æŸ¥è¯¢æœ¬èº«å°±æœ‰ç‚¹åƒåŠ›</li>
<li>CRM çš„æ¥å£ä¸€æ¡è¦å‡ åæ¯«ç§’åˆ°å‡ ç™¾æ¯«ç§’</li>
<li>N ä¸€å¤§ï¼Œæ•´ä½“åŒæ­¥æ—¶é—´å°±æ˜¯<strong>N Ã— æ¥å£è€—æ—¶</strong></li>
<li>æ›´è¦å‘½çš„æ˜¯ï¼š<strong>å¤§éƒ¨åˆ†æ•°æ®å…¶å®æ ¹æœ¬æ²¡å˜ï¼Œåªæ˜¯æˆ‘æ¯æ¬¡éƒ½â€œé‡æ–°è®¤è¯†å®ƒä»¬ä¸€éâ€</strong></li>
</ul>
<p>æ¯å¤©çœ‹ç€æ—¥å¿—é‡Œä¸€æ¡æ¡æ¥å£è°ƒç”¨ï¼Œæˆ‘å¿ƒé‡Œåªæœ‰ä¸€ä¸ªæ„Ÿè§‰ï¼š<strong>å¤ªæµªè´¹äº†</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€æˆ‘æƒ³æ˜ç™½çš„é‚£ä¸ªç¬é—´ï¼šæˆ‘åªéœ€è¦çŸ¥é“â€œè°å˜äº†â€</h2>
<p>æœ‰ä¸€å¤©æˆ‘åœ¨çœ‹æ—¥å¿—çš„æ—¶å€™ï¼Œçªç„¶æ„è¯†åˆ°ä¸€ä¸ªå¾ˆç®€å•çš„äº‹å®ï¼š</p>
<blockquote>
<p><strong>ä¸šåŠ¡ä¸Šæ¯å¤©çœŸæ­£å˜åŠ¨çš„åªæœ‰å¾ˆå°‘ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä½†æŠ€æœ¯ä¸Šæˆ‘å´åœ¨å…¨é‡æŠ˜è…¾æ‰€æœ‰æ•°æ®ã€‚</strong></p>
</blockquote>
<p>é‚£æˆ‘çœŸæ­£æƒ³è¦çš„ï¼Œå…¶å®åªæœ‰ä¸€ä¸ªä¸œè¥¿ï¼š<br/>
<strong>â€œåœ¨è¿™ä¹ˆå¤š ERP æ•°æ®é‡Œï¼Œå“ªäº›æ˜¯è¿™æ¬¡æ–°å˜å‡ºæ¥çš„ï¼Ÿâ€</strong></p>
<p>å¦‚æœæˆ‘èƒ½å¾ˆå¿«çŸ¥é“â€œè°å˜äº†â€ï¼ŒåŒæ­¥é€»è¾‘å°±å¯ä»¥å˜æˆï¼š</p>
<ul>
<li>åªå¯¹â€œå˜åŒ–çš„æ•°æ®â€è°ƒç”¨ CRM æ¥å£</li>
<li>å…¶ä»–å®Œå…¨ä¸åŠ¨</li>
</ul>
<p>æ‰€ä»¥æ ¸å¿ƒé—®é¢˜å…¶å®ä¸æ˜¯â€œæ€ä¹ˆåŒæ­¥â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>æˆ‘è¦æœ‰ä¸€ç§æœ¬åœ°çš„æ–¹å¼ï¼Œè®°ä½â€œä¸Šä¸€æ¬¡è¿™äº›æ•°æ®é•¿ä»€ä¹ˆæ ·â€ï¼Œç„¶åè·Ÿè¿™ä¸€æ¬¡åšä¸ªå¯¹æ¯”ã€‚</strong></p>
</blockquote>
<p>æƒ³åˆ°è¿™é‡Œï¼Œå…¶å®ç­”æ¡ˆå°±å‡ºæ¥äº†ï¼šç”¨ Redis è®°ä¸€ä»½â€œæŒ‡çº¹â€ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€åŠ ä¸€å±‚ Redisï¼šç»™æ¯æ¡è®°å½•åšä¸€ä¸ªâ€œæŒ‡çº¹â€</h2>
<p>æˆ‘æœ€åé‡‡ç”¨çš„æ˜¯ä¸€å¥—å¾ˆç®€å•çš„è®¾è®¡ï¼š<br/>
<strong>æ¯æ¡ ERP è®°å½•ç”Ÿæˆä¸€ä¸ªæ‘˜è¦ï¼ˆhashï¼‰ï¼ŒæŠŠè¿™ä¸ªæ‘˜è¦å­˜åˆ° Redis é‡Œã€‚</strong></p>
<p>ä¸‹ä¸€æ¬¡åŒæ­¥çš„æ—¶å€™ï¼Œå†ç®—ä¸€éæ‘˜è¦ï¼Œå¯¹æ¯”ä¸€ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœ Redis é‡Œæ²¡æœ‰è¿™æ¡è®°å½• â†’ è¯´æ˜æ˜¯æ–°å¢</li>
<li>å¦‚æœæœ‰ï¼Œä½†æ‘˜è¦ä¸ä¸€æ · â†’ è¯´æ˜è¢«ä¿®æ”¹è¿‡</li>
<li>å¦‚æœæ‘˜è¦ä¸€æ · â†’ å½“ä½œæ²¡å˜åŒ–ï¼Œç›´æ¥è·³è¿‡</li>
</ul>
<h3 data-id="heading-3">1. æ‘˜è¦æ€ä¹ˆç”Ÿæˆï¼Ÿ</h3>
<p>æˆ‘è¿™è¾¹æ˜¯ Javaï¼Œå¤§æ¦‚é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">String</span> <span class="hljs-title function_">buildDigest</span>(<span class="hljs-params">ErpCustomer c</span>) {
    <span class="hljs-title class_">String</span> raw = c.<span class="hljs-title function_">getId</span>()
        + <span class="hljs-string">"|"</span> + c.<span class="hljs-title function_">getName</span>()
        + <span class="hljs-string">"|"</span> + c.<span class="hljs-title function_">getCategory</span>()
        + <span class="hljs-string">"|"</span> + c.<span class="hljs-title function_">getPhone</span>()
        + <span class="hljs-string">"|"</span> + c.<span class="hljs-title function_">getAddress</span>()
        + <span class="hljs-string">"|"</span> + c.<span class="hljs-title function_">getUpdateTime</span>(); <span class="hljs-comment">// æˆ–è€…æœ€åä¿®æ”¹æ—¶é—´</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">DigestUtils</span>.<span class="hljs-title function_">md5Hex</span>(raw);
}
</code></pre>
<p>ä¹Ÿå°±æ˜¯æŠŠ<strong>å¯¹ä¸šåŠ¡æœ‰å½±å“çš„å­—æ®µ</strong>ä¸²èµ·æ¥ï¼Œç®—ä¸€ä¸ª MD5ã€‚</p>
<p>åªè¦è¿™äº›å­—æ®µé‡Œæœ‰ä¸€ä¸ªå˜äº†ï¼Œhash ä¸€å®šä¸ä¸€æ ·ã€‚</p>
<h3 data-id="heading-4">2. Redis é‡Œæ€ä¹ˆå­˜ï¼Ÿ</h3>
<p>æˆ‘ç”¨çš„æ˜¯ hash ç»“æ„ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">key: å®¢æˆ·ID</span>
<span class="hljs-section">Value: è¿™ä¸€æ¡å®¢æˆ·æ•°æ®çš„ MD5 æ‘˜è¦</span>
</code></pre>
<p>è¿™æ ·ï¼š</p>
<ul>
<li>æ ¹æ®å®¢æˆ· ID å¯ä»¥ O(1) æ‹¿åˆ°ä¸Šæ¬¡çš„æ‘˜è¦</li>
<li>Redis æœ¬èº«å°±æ˜¯å†…å­˜çº§è®¿é—®ï¼Œæ¯«ç§’çº§çš„</li>
</ul>
<hr/>
<h2 data-id="heading-5">å››ã€å®Œæ•´åŒæ­¥æµç¨‹ï¼šERP â†’ Redis â†’ CRM</h2>
<p>æˆ‘ç°åœ¨çš„åŒæ­¥æµç¨‹å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<h3 data-id="heading-6">Step 1ï¼šä» ERP å…¨é‡æŸ¥è¯¢</h3>
<pre><code class="hljs language-ini" lang="ini">List&lt;ErpCustomer&gt; <span class="hljs-attr">erpList</span> = erpDao.queryAll()<span class="hljs-comment">;</span>
</code></pre>
<p>å…¨é‡æŸ¥è¿™ä¸€æ­¥æ˜¯æ²¡æ³•çœçš„ï¼Œä½†åªæ˜¯ä¸€æ¡ SQLï¼Œé€Ÿåº¦è¿˜èƒ½æ¥å—ã€‚</p>
<h3 data-id="heading-7">Step 2ï¼šéå†æ•°æ®ï¼Œè®¡ç®—æ‘˜è¦</h3>
<pre><code class="hljs language-scss" lang="scss">for (ErpCustomer c : erpList) {
    String newDigest = <span class="hljs-built_in">buildDigest</span>(c);
    String oldDigest = redis<span class="hljs-selector-class">.hget</span>("erp:customer:hash", c.getId());
    
    if (oldDigest == null) {
        <span class="hljs-comment">// æ–°å¢</span>
        <span class="hljs-built_in">createToCrm</span>(c);
        redis<span class="hljs-selector-class">.hset</span>("erp:customer:hash", c.getId(), newDigest);
    } else if (!newDigest.equals(oldDigest)) {
        <span class="hljs-comment">// æœ‰å˜æ›´</span>
        <span class="hljs-built_in">updateToCrm</span>(c);
        redis<span class="hljs-selector-class">.hset</span>("erp:customer:hash", c.getId(), newDigest);
    } else {
        <span class="hljs-comment">// æ²¡å˜ï¼Œç›´æ¥è·³è¿‡</span>
    }
}
</code></pre>
<h3 data-id="heading-8">Step 3ï¼šå¤„ç† ERP å·²åˆ é™¤çš„æ•°æ®ï¼ˆå¯é€‰ï¼‰</h3>
<p>å¦‚æœä½ å¸Œæœ› ERP åˆ æ‰çš„ï¼ŒCRM é‚£è¾¹ä¹Ÿåˆ æ‰ï¼ˆæˆ–æ ‡è®°å¤±æ•ˆï¼‰ï¼Œè¿˜å¯ä»¥åšä¸€æ­¥ï¼š</p>
<ul>
<li>æŠŠè¿™æ¬¡ ERP æŸ¥è¯¢å‡ºæ¥çš„æ‰€æœ‰ ID æ”¾ä¸€ä¸ª Set é‡Œ</li>
<li>å†ä» Redis é‡ŒæŠŠæ‰€æœ‰ Fieldï¼ˆIDï¼‰æ‹¿å‡ºæ¥</li>
<li>ä¸åœ¨ ERP é›†åˆé‡Œçš„é‚£äº› IDï¼Œå°±å½“ä½œâ€œå·²ç»åœ¨ ERP è¢«åˆ é™¤äº†â€</li>
</ul>
<p>ä¼ªä»£ç ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Set&lt;String&gt; erpIds = erpList<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.map</span>(ErpCustomer::getId)
    <span class="hljs-selector-class">.collect</span>(Collectors.toSet());

Set&lt;String&gt; redisIds = redis<span class="hljs-selector-class">.hkeys</span>("erp:customer:hash");

for (String id : redisIds) {
    if (!erpIds.contains(id)) {
        <span class="hljs-comment">// ERP æ²¡äº†ï¼Œä½† Redis é‡Œè¿˜æœ‰ï¼Œè¯´æ˜è¢«åˆ é™¤</span>
        <span class="hljs-built_in">deleteInCrm</span>(id);
        redis<span class="hljs-selector-class">.hdel</span>("erp:customer:hash", id);
    }
}
</code></pre>
<h3 data-id="heading-9">æ•´ä½“ç»“æ„å°±å˜æˆï¼š</h3>
<pre><code class="hljs language-arduino" lang="arduino">ERPï¼ˆSQL <span class="hljs-built_in">Server</span>ï¼‰
    â†“ å…¨é‡æŸ¥è¯¢
åŒæ­¥æœåŠ¡ï¼ˆJavaï¼‰
    â†“ ç”Ÿæˆæ‘˜è¦ï¼Œå¯¹æ¯” Redis
Redisï¼ˆåªå­˜æ‘˜è¦ï¼‰
    â†“ åªæŠŠæ–°å¢/ä¿®æ”¹/åˆ é™¤çš„å·®å¼‚
CRMï¼ˆçº·äº«é”€å®¢ç­‰ï¼‰
</code></pre>
<hr/>
<h2 data-id="heading-10">äº”ã€å®é™…æ•ˆæœï¼šä»â€œå…¨é‡æŠ˜ç£¨â€åˆ°â€œå‡ ç§’é’Ÿæå®šâ€</h2>
<p>ä¸¾ä¸€ä¸ªæ¯”è¾ƒæ¥åœ°æ°”çš„æ•°å­—ï¼ˆä¸æ˜¯ç†è®ºï¼Œæ˜¯æˆ‘è¿™è¾¹çœŸå®ä½“æ„Ÿï¼‰ï¼š</p>
<ul>
<li>ERP å®¢æˆ·è¡¨ï¼š5 ä¸‡æ¡</li>
<li>æ¯æ¬¡å˜åŠ¨ï¼šå¯èƒ½å°±å‡ åæ¡</li>
<li>CRM æ¥å£è€—æ—¶ï¼šå‡è®¾ 100ms ä¸€æ¬¡</li>
</ul>
<h3 data-id="heading-11">åŸæ¥çš„æš´åŠ›æ–¹æ¡ˆï¼š</h3>
<ul>
<li>5 ä¸‡æ¡æ¯æ¡éƒ½è¦è·Ÿ CRM æ‰“ä¸€æ¬¡äº¤é“</li>
<li>ç†è®ºæ—¶é—´ï¼š5 ä¸‡ Ã— 100ms = 5,000,000ms â‰ˆ 5,000 ç§’ï¼ˆä¸€ä¸ªå¤šå°æ—¶ï¼‰</li>
<li>å®é™…ä¸Šè¿˜æœ‰å„ç§ç½‘ç»œå»¶è¿Ÿã€é™æµã€é‡è¯•ï¼Œæ›´éš¾å—</li>
</ul>
<h3 data-id="heading-12">åŠ äº† Redis ä¹‹åï¼š</h3>
<ul>
<li>å…¨é‡æŸ¥ ERPï¼šå‡ åä¸‡è¡Œï¼Œå‡ ååˆ°å‡ ç™¾æ¯«ç§’çº§ï¼ˆå–å†³äºè¡¨æƒ…å†µï¼‰</li>
<li>éå† 5 ä¸‡æ¡ç”Ÿæˆ hash + å¯¹æ¯” Redisï¼š<strong>éƒ½åœ¨å†…å­˜é‡Œè·‘ï¼Œéå¸¸å¿«</strong></li>
<li>çœŸæ­£éœ€è¦è°ƒ CRM æ¥å£çš„ï¼šåªæœ‰å‡ åæ¡</li>
</ul>
<p>å°±ç®—æ˜¯ 100 æ¡æ›´æ–° Ã— 100msï¼Œä¹Ÿå°±åæ¥ç§’ï¼ŒåŠ ä¸Šå¤–å›´é€»è¾‘ï¼Œ<strong>æ•´ä½“å°±æ˜¯å‡ ç§’åˆ°åå‡ ç§’çº§åˆ«</strong>ã€‚</p>
<p>æœ€ç›´è§‚çš„å˜åŒ–æ˜¯æ—¥å¿—ï¼š<br/>
ä»¥å‰ä¸€å¤§ç‰‡æ¥å£è°ƒç”¨åˆ·å±ï¼Œç°åœ¨åªå‰©ä¸‹ä¸€å°æˆªâ€œçœŸæ­£æœ‰å¿…è¦å‘å‡ºå»çš„è¯·æ±‚â€ï¼Œçœ‹ç€å¿ƒæƒ…éƒ½å¥½å¾ˆå¤šã€‚</p>
<hr/>
<h2 data-id="heading-13">å…­ã€è¿™å¥—æ–¹æ¡ˆé‡Œæˆ‘è¸©è¿‡çš„å‡ ä¸ªç‚¹</h2>
<p>ä¸ºäº†çœŸå®ä¸€ç‚¹ï¼Œè¿™é‡Œè¯´å‡ ä¸ªæˆ‘è‡ªå·±é‡åˆ°çš„é—®é¢˜ï¼š</p>
<h3 data-id="heading-14">1. hash å­—æ®µä¸€å®šè¦é€‰å¯¹</h3>
<p>ä¸€å¼€å§‹æˆ‘åªç”¨äº†éƒ¨åˆ†å­—æ®µï¼Œæ¯”å¦‚ nameã€phone ä¹‹ç±»ï¼Œåæ¥å‘ç°æœ‰äº›â€œä¸šåŠ¡ä¸Šå¾ˆå…³é”®â€çš„å­—æ®µæ²¡è¢«ç®—è¿›å»ï¼ˆæ¯”å¦‚æ‰€å±ä¸šåŠ¡å‘˜ã€å®¢æˆ·åˆ†ç±»ï¼‰ï¼Œå¯¼è‡´è¿™äº›å­—æ®µæ”¹å˜äº†ä½† hash æ²¡å˜ï¼ŒCRM é‚£è¾¹ä¸ä¼šæ›´æ–°ã€‚</p>
<p><strong>æ•™è®­ï¼š</strong><br/>
åœ¨è®¾è®¡æ‘˜è¦çš„æ—¶å€™ï¼Œæœ€å¥½æŠŠ<strong>æ‰€æœ‰ä¼šåŒæ­¥åˆ° CRM çš„å­—æ®µ</strong>éƒ½ç®—è¿›å»ï¼Œæˆ–è€…ç›´æ¥ç”¨â€œæœ€åä¿®æ”¹æ—¶é—´ + IDâ€çš„ç»„åˆï¼Œå‰ææ˜¯ ERP èƒ½ä¿è¯è¿™ä¸ªæ—¶é—´æ˜¯å¯é çš„ã€‚</p>
<hr/>
<h3 data-id="heading-15">2. CRM è°ƒç”¨å¤±è´¥æ—¶ä¸è¦æ€¥ç€åˆ· Redis</h3>
<p>æœ‰ä¸€ç‚¹å¾ˆå…³é”®ï¼š<br/>
<strong>åªæœ‰å½“ CRM è°ƒç”¨æˆåŠŸäº†ï¼Œæ‰æŠŠæ–°çš„ hash å†™å› Redisã€‚</strong></p>
<p>å¦åˆ™ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼š</p>
<ul>
<li>æˆ‘æŠŠæ‘˜è¦å†™è¿› Redis äº†</li>
<li>ç»“æœé‚£æ¬¡ CRM è°ƒç”¨å…¶å®å¤±è´¥äº†</li>
<li>ä¸‹æ¬¡å†åŒæ­¥æ—¶ï¼Œç¨‹åºä¼šä»¥ä¸ºâ€œä¸€æ ·ï¼Œå°±è·³è¿‡äº†â€ï¼Œå®é™…ä¸Š CRM é‚£è¾¹å‹æ ¹æ²¡æ›´æ–°æˆåŠŸ</li>
</ul>
<p>æ‰€ä»¥æˆ‘çš„é¡ºåºæ˜¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">if (createOrUpdateCrmSuccess) {
    redis<span class="hljs-selector-class">.hset</span>(...); <span class="hljs-comment">// æˆåŠŸä¹‹åå†å†™</span>
} else {
    <span class="hljs-comment">// è¿›é‡è¯•é˜Ÿåˆ—/å†™é”™è¯¯æ—¥å¿—</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-16">3. Redis å´©äº†ä¸€æ¬¡æ€ä¹ˆåŠï¼Ÿ</h3>
<p>Redis æœ¬è´¨ä¸Šåªæ˜¯ä¸€ä¸ªâ€œåŠ é€Ÿå¯¹æ¯”â€çš„ç¼“å­˜ï¼Œä¸æ˜¯å”¯ä¸€çš„çœŸç›¸æ¥æºã€‚</p>
<p>å¦‚æœå“ªå¤© Redis å´©äº†ã€ä¸¢æ•°æ®äº†ï¼Œæˆ‘çš„ç­–ç•¥ä¹Ÿå¾ˆç®€å•ç²—æš´ï¼š</p>
<blockquote>
<p>é‡å»ºä¸€ä¸‹ Keyï¼Œè®©è¿™ä¸€æ¬¡åŒæ­¥å½“ä½œâ€œç¬¬ä¸€æ¬¡åŒæ­¥â€ï¼Œå…¨é‡åˆ·ä¸€é CRMã€‚</p>
</blockquote>
<p>è¿™ç§æƒ…å†µå¯¹ CRM å½±å“å°±æ˜¯é‚£ä¸€æ¬¡ä¼šæ¯”è¾ƒæ…¢ï¼Œä½†æ•°æ®ä¸ä¼šé”™ï¼Œåªæ˜¯å¼€é”€ç¨å¾®å¤§ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-17">ä¸ƒã€æˆ‘ç°åœ¨æ˜¯æ€ä¹ˆç”¨è¿™å¥—æ–¹æ¡ˆçš„ï¼Ÿ</h2>
<p>ç›®å‰æˆ‘ä¼šæŠŠè¿™å¥—æ–¹æ¡ˆå½“æˆä¸€ä¸ª<strong>é€šç”¨æ¨¡æ¿</strong>ï¼Œä¸æ­¢æ˜¯å®¢æˆ·ï¼Œå¯ä»¥ç”¨åœ¨å¾ˆå¤šåœ°æ–¹ï¼š</p>
<ul>
<li>ERP â†’ CRM çš„å®¢æˆ·ã€å•†å“ã€ä»·æ ¼ã€åº“å­˜</li>
<li>MES â†’ æŠ¥è¡¨ç³»ç»Ÿçš„æ•°æ®</li>
<li>ç”šè‡³æ˜¯ä¸¤ä¸ªå†…éƒ¨ç³»ç»Ÿä¹‹é—´çš„åŸºç¡€æ•°æ®åŒæ­¥</li>
</ul>
<p>åŸºæœ¬å¥—è·¯éƒ½æ˜¯ï¼š</p>
<ol>
<li>ç¡®å®šä¸»é”®</li>
<li>å®šä¹‰â€œä¼šå½±å“ä¸šåŠ¡â€çš„å­—æ®µ</li>
<li>ç”Ÿæˆæ‘˜è¦ï¼ˆfingerprintï¼‰</li>
<li>ç”¨ Redis è®°å½•â€œä¸Šä¸€æ¬¡çš„ fingerprintâ€</li>
<li>æ¯æ¬¡åŒæ­¥æ—¶åªå¤„ç† fingerprint å˜åŒ–çš„æ•°æ®</li>
</ol>
<p>è¿™å¥—ä¸œè¥¿ï¼Œè¯´ç™½äº†ä¸æ˜¯ä»€ä¹ˆé«˜å¤§ä¸Šçš„æŠ€æœ¯ï¼Œå°±æ˜¯ä¸€ä¸ª<strong>å¾ˆæœ´ç´ ä½†éå¸¸ç®¡ç”¨çš„â€œå°å¿ƒæ€â€</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-18">æœ€å</h2>
<p>æˆ‘ä¸€ç›´è§‰å¾—ï¼Œåƒè¿™ç§ ERPâ†’CRM çš„åŒæ­¥ï¼Œçœ‹ç€æ˜¯é‡å¤åŠ³åŠ¨ï¼Œä½†é‡Œé¢å…¶å®æœ‰å¾ˆå¤šå¯ä»¥æ‰“ç£¨çš„ç©ºé—´ï¼š</p>
<ul>
<li>ä½ å¯ä»¥ä»€ä¹ˆéƒ½ä¸æƒ³ï¼Œæš´åŠ›æŸ¥ + æš´åŠ›è°ƒæ¥å£ï¼Œè·‘å¾—æ…¢å°±åŠ æœºå™¨</li>
<li>ä¹Ÿå¯ä»¥åƒè¿™æ ·ï¼ŒåŠ¨ä¸€ç‚¹ç‚¹è„‘å­ï¼Œ<strong>æŠŠâ€œå·®å¼‚æ£€æµ‹â€å‰ç½®åˆ° Redis è¿™ä¸€å±‚</strong></li>
</ul>
<p>æˆ‘æ›´å–œæ¬¢ç¬¬äºŒç§ã€‚</p>
<p>å¦‚æœä½ ç°åœ¨æ‰‹ä¸Šä¹Ÿæœ‰ç±»ä¼¼â€œç³»ç»Ÿ A åŒæ­¥æ•°æ®åˆ°ç³»ç»Ÿ Bâ€çš„éœ€æ±‚ï¼Œè€Œä¸”åŒæ­¥ç‰¹åˆ«æ…¢ã€æ¥å£ç‰¹åˆ«å¤šï¼Œä¸å¦¨è¯•è¯•è¿™ä¸€å¥—ï¼š</p>
<blockquote>
<p><strong>â€œå…¨é‡æ‰«æ + Redis æ‘˜è¦å¯¹æ¯” + å¢é‡è°ƒç”¨ç›®æ ‡ç³»ç»Ÿæ¥å£â€ã€‚</strong></p>
</blockquote>
<p>å®ç°ä¸å¤æ‚ï¼Œä½†æ•ˆæœå¾€å¾€ä¼šè¶…å‡ºé¢„æœŸã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CryptoAiAdmin é¡¹ç›®åç«¯å¯åŠ¨è¿‡ç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7582358932028522511</link>    <guid>https://juejin.cn/post/7582358932028522511</guid>    <pubDate>2025-12-11T12:15:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582358932028522511" data-draft-id="7582401182934368271" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CryptoAiAdmin é¡¹ç›®åç«¯å¯åŠ¨è¿‡ç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,Python,FastAPI"/> <meta itemprop="datePublished" content="2025-12-11T12:15:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ›æ–°æŠ€æœ¯é˜"/> <meta itemprop="url" content="https://juejin.cn/user/4361127086785497"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CryptoAiAdmin é¡¹ç›®åç«¯å¯åŠ¨è¿‡ç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4361127086785497/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ›æ–°æŠ€æœ¯é˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:15:39.000Z" title="Thu Dec 11 2025 12:15:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¯åŠ¨å…¥å£åˆ†æ</h2>
<p>crypto_ai_admin é¡¹ç›®é‡‡ç”¨ FastAPI æ¡†æ¶æ„å»ºï¼Œå…¶å¯åŠ¨è¿‡ç¨‹è®¾è®¡æ¸…æ™°ä¸”å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€‚é¡¹ç›®çš„å¯åŠ¨å…¥å£ä½äº <code>main.py</code> æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªå‘½ä»¤è¡Œåº”ç”¨ï¼Œæä¾›äº†ä¸‰ä¸ªä¸»è¦å‘½ä»¤ï¼š<code>run</code>ï¼ˆå¯åŠ¨æœåŠ¡ï¼‰ã€<code>revision</code>ï¼ˆç”Ÿæˆæ•°æ®åº“è¿ç§»ï¼‰å’Œ <code>upgrade</code>ï¼ˆåº”ç”¨æ•°æ®åº“è¿ç§»ï¼‰ã€‚</p>
<h3 data-id="heading-1">1.1 åº”ç”¨åˆ›å»ºå‡½æ•°</h3>
<p>åº”ç”¨å®ä¾‹çš„åˆ›å»ºé€šè¿‡ <code>create_app()</code> å‡½æ•°å®Œæˆï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ ¸å¿ƒåº”ç”¨åˆ›å»ºå‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_app</span>() -&gt; FastAPI:
    <span class="hljs-string">"""åˆ›å»º FastAPI åº”ç”¨å®ä¾‹"""</span>
    <span class="hljs-comment"># å¯¼å…¥åˆå§‹åŒ–ç»„ä»¶</span>
    <span class="hljs-keyword">from</span> app.plugin.init_app <span class="hljs-keyword">import</span> (
        register_middlewares,
        register_exceptions,
        register_routers,
        register_files,
        reset_api_docs,
        lifespan
    )
    <span class="hljs-comment"># å¯¼å…¥é…ç½®</span>
    <span class="hljs-keyword">from</span> app.config.setting <span class="hljs-keyword">import</span> settings
    
    <span class="hljs-comment"># åˆ›å»ºFastAPIåº”ç”¨å®ä¾‹ï¼Œä¼ å…¥é…ç½®å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†å™¨</span>
    app = FastAPI(**settings.FASTAPI_CONFIG, lifespan=lifespan)
    
    <span class="hljs-comment"># åˆå§‹åŒ–æ—¥å¿—ç³»ç»Ÿ</span>
    <span class="hljs-keyword">from</span> app.core.logger <span class="hljs-keyword">import</span> setup_logging
    setup_logging()
    
    <span class="hljs-comment"># æŒ‰é¡ºåºæ³¨å†Œå„ç§ç»„ä»¶</span>
    register_exceptions(app)    <span class="hljs-comment"># å¼‚å¸¸å¤„ç†å™¨</span>
    register_middlewares(app)   <span class="hljs-comment"># ä¸­é—´ä»¶</span>
    register_routers(app)       <span class="hljs-comment"># è·¯ç”±</span>
    register_files(app)         <span class="hljs-comment"># é™æ€æ–‡ä»¶</span>
    reset_api_docs(app)         <span class="hljs-comment"># APIæ–‡æ¡£é…ç½®</span>

    <span class="hljs-keyword">return</span> app
</code></pre>
<h3 data-id="heading-2">1.2 æœåŠ¡å¯åŠ¨å‘½ä»¤</h3>
<p>æœåŠ¡å¯åŠ¨é€šè¿‡ <code>run()</code> å‡½æ•°å¤„ç†ï¼Œè¯¥å‡½æ•°ä½¿ç”¨ <code>typer</code> å‘½ä»¤è¡Œå·¥å…·æä¾›äº†ç¯å¢ƒé€‰æ‹©ç­‰å‚æ•°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@shell_app.command(<span class="hljs-params">name=<span class="hljs-string">"run"</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">"å¯åŠ¨ FastapiAdmin æœåŠ¡"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">env: EnvironmentEnum = typer.Option(<span class="hljs-params">EnvironmentEnum.DEV, <span class="hljs-string">"--env"</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">"è¿è¡Œç¯å¢ƒ (dev, prod)"</span></span>)</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-string">"""å¯åŠ¨FastAPIæœåŠ¡"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span>
        os.environ[<span class="hljs-string">"ENVIRONMENT"</span>] = env.value
        
        <span class="hljs-comment"># æ˜¾ç¤ºå¯åŠ¨æ¨ªå¹…</span>
        <span class="hljs-keyword">from</span> app.utils.banner <span class="hljs-keyword">import</span> worship
        typer.echo(worship(env.value))

        <span class="hljs-comment"># æ¸…é™¤é…ç½®ç¼“å­˜ï¼Œç¡®ä¿é‡æ–°åŠ è½½é…ç½®</span>
        <span class="hljs-keyword">from</span> app.config.setting <span class="hljs-keyword">import</span> get_settings
        get_settings.cache_clear()
        settings = get_settings()
        
        <span class="hljs-comment"># åˆå§‹åŒ–æ—¥å¿—</span>
        <span class="hljs-keyword">from</span> app.core.logger <span class="hljs-keyword">import</span> setup_logging
        setup_logging()
        
        <span class="hljs-comment"># ä½¿ç”¨uvicornå¯åŠ¨FastAPIåº”ç”¨</span>
        uvicorn.run(
            app=<span class="hljs-string">f'main:create_app'</span>, 
            host=settings.SERVER_HOST,
            port=settings.SERVER_PORT,
            reload=settings.RELOAD,
            factory=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># ä½¿ç”¨å·¥å‚æ¨¡å¼å¯åŠ¨</span>
            log_config=<span class="hljs-literal">None</span>
        )
</code></pre>
<h2 data-id="heading-3">2. ç”Ÿå‘½å‘¨æœŸç®¡ç† (Lifespan)</h2>
<p>é¡¹ç›®ä½¿ç”¨ FastAPI çš„ <code>lifespan</code> æœºåˆ¶ç®¡ç†åº”ç”¨çš„å¯åŠ¨å’Œå…³é—­è¿‡ç¨‹ï¼Œå®šä¹‰åœ¨ <code>init_app.py</code> ä¸­ï¼š</p>
<h3 data-id="heading-4">2.1 å¯åŠ¨åˆå§‹åŒ–é˜¶æ®µ</h3>
<p>åœ¨åº”ç”¨å¯åŠ¨æ—¶ï¼Œ<code>lifespan</code> ä¸Šä¸‹æ–‡ç®¡ç†å™¨æ‰§è¡Œä»¥ä¸‹åˆå§‹åŒ–æ­¥éª¤ï¼š</p>
<ol>
<li><strong>æ•°æ®åº“åˆå§‹åŒ–</strong>ï¼šè°ƒç”¨ <code>InitializeData().init_db()</code> ç¡®ä¿æ•°æ®åº“ç»“æ„æ­£ç¡®</li>
<li><strong>å…¨å±€äº‹ä»¶æ¨¡å—åŠ è½½</strong>ï¼šå¯¼å…¥é…ç½®çš„å…¨å±€äº‹ä»¶å¤„ç†æ¨¡å—</li>
<li><strong>Redisç³»ç»Ÿé…ç½®åˆå§‹åŒ–</strong>ï¼šåŠ è½½ç³»ç»Ÿå‚æ•°åˆ°Redisç¼“å­˜</li>
<li><strong>Redisæ•°æ®å­—å…¸åˆå§‹åŒ–</strong>ï¼šåŠ è½½æ•°æ®å­—å…¸åˆ°Redisç¼“å­˜</li>
<li><strong>å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨åˆå§‹åŒ–</strong>ï¼šå¯åŠ¨APSchedulerï¼ŒåŠ è½½ç³»ç»Ÿå®šæ—¶ä»»åŠ¡</li>
<li><strong>è¯·æ±‚é™åˆ¶å™¨åˆå§‹åŒ–</strong>ï¼šé…ç½®åŸºäºRedisçš„è¯·æ±‚é€Ÿç‡é™åˆ¶å™¨</li>
<li><strong>æ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯é¢æ¿</strong>ï¼šè¾“å‡ºå¯åŠ¨çŠ¶æ€å’Œå…³é”®é…ç½®ä¿¡æ¯</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@asynccontextmanager</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">lifespan</span>(<span class="hljs-params">app: FastAPI</span>) -&gt; AsyncGenerator[<span class="hljs-type">Any</span>, <span class="hljs-type">Any</span>]:
    <span class="hljs-string">"""è‡ªå®šä¹‰ FastAPI åº”ç”¨ç”Ÿå‘½å‘¨æœŸ"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. æ•°æ®åº“åˆå§‹åŒ–</span>
        <span class="hljs-keyword">await</span> InitializeData().init_db()
        log.info(<span class="hljs-string">f"âœ… æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ (<span class="hljs-subst">{settings.DATABASE_TYPE}</span>)"</span>)
        
        <span class="hljs-comment"># 2. å…¨å±€äº‹ä»¶æ¨¡å—åŠ è½½</span>
        <span class="hljs-keyword">await</span> import_modules_async(modules=settings.EVENT_LIST, desc=<span class="hljs-string">"å…¨å±€äº‹ä»¶"</span>, app=app, status=<span class="hljs-literal">True</span>)
        log.info(<span class="hljs-string">"âœ… å…¨å±€äº‹ä»¶æ¨¡å—åŠ è½½å®Œæˆ"</span>)
        
        <span class="hljs-comment"># 3. Redisç³»ç»Ÿé…ç½®åˆå§‹åŒ–</span>
        <span class="hljs-keyword">await</span> ParamsService().init_config_service(redis=app.state.redis)
        log.info(<span class="hljs-string">"âœ… Redisç³»ç»Ÿé…ç½®åˆå§‹åŒ–å®Œæˆ"</span>)
        
        <span class="hljs-comment"># 4. Redisæ•°æ®å­—å…¸åˆå§‹åŒ–</span>
        <span class="hljs-keyword">await</span> DictDataService().init_dict_service(redis=app.state.redis)
        log.info(<span class="hljs-string">"âœ… Redisæ•°æ®å­—å…¸åˆå§‹åŒ–å®Œæˆ"</span>)
        
        <span class="hljs-comment"># 5. å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨åˆå§‹åŒ–</span>
        <span class="hljs-keyword">await</span> SchedulerUtil.init_system_scheduler()
        scheduler_jobs_count = <span class="hljs-built_in">len</span>(SchedulerUtil.get_all_jobs())
        scheduler_status = SchedulerUtil.get_job_status()
        log.info(<span class="hljs-string">f"âœ… å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨åˆå§‹åŒ–å®Œæˆ (<span class="hljs-subst">{scheduler_jobs_count}</span> ä¸ªä»»åŠ¡)"</span>)

        <span class="hljs-comment"># 6. åˆå§‹åŒ–è¯·æ±‚é™åˆ¶å™¨</span>
        <span class="hljs-keyword">await</span> FastAPILimiter.init(
            redis=app.state.redis,
            prefix=settings.REQUEST_LIMITER_REDIS_PREFIX,
            http_callback=http_limit_callback,
        )
        log.info(<span class="hljs-string">"âœ… è¯·æ±‚é™åˆ¶å™¨åˆå§‹åŒ–å®Œæˆ"</span>)
        
        <span class="hljs-comment"># 7. æ˜¾ç¤ºå¯åŠ¨ä¿¡æ¯é¢æ¿</span>
        <span class="hljs-keyword">from</span> app.utils.console <span class="hljs-keyword">import</span> run <span class="hljs-keyword">as</span> console_run
        console_run(
            host=settings.SERVER_HOST,
            port=settings.SERVER_PORT,
            reload=settings.RELOAD,
            redis_ready=<span class="hljs-literal">True</span>,
            scheduler_jobs=scheduler_jobs_count,
            scheduler_status=scheduler_status,
        )
</code></pre>
<h3 data-id="heading-5">2.2 å…³é—­æ¸…ç†é˜¶æ®µ</h3>
<p>å½“åº”ç”¨å…³é—­æ—¶ï¼ˆå¦‚æ¥æ”¶åˆ°ç»ˆæ­¢ä¿¡å·ï¼‰ï¼Œ<code>lifespan</code> æ‰§è¡Œæ¸…ç†æ“ä½œï¼š</p>
<ol>
<li><strong>å…¨å±€äº‹ä»¶æ¨¡å—å¸è½½</strong>ï¼šæ‰§è¡Œäº‹ä»¶æ¨¡å—çš„å…³é—­é€»è¾‘</li>
<li><strong>å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å…³é—­</strong>ï¼šä¼˜é›…å…³é—­è°ƒåº¦å™¨ï¼Œç¡®ä¿ä»»åŠ¡å®Œæˆ</li>
<li><strong>è¯·æ±‚é™åˆ¶å™¨å…³é—­</strong>ï¼šæ¸…ç†è¯·æ±‚é™åˆ¶å™¨èµ„æº</li>
</ol>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">yield</span>  <span class="hljs-comment"># åº”ç”¨è¿è¡Œé˜¶æ®µ</span>
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. å…¨å±€äº‹ä»¶æ¨¡å—å¸è½½</span>
        <span class="hljs-keyword">await</span> import_modules_async(modules=settings.EVENT_LIST, desc=<span class="hljs-string">"å…¨å±€äº‹ä»¶"</span>, app=app, status=<span class="hljs-literal">False</span>)
        log.info(<span class="hljs-string">"âœ… å…¨å±€äº‹ä»¶æ¨¡å—å¸è½½å®Œæˆ"</span>)
        
        <span class="hljs-comment"># 2. å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å…³é—­</span>
        <span class="hljs-keyword">await</span> SchedulerUtil.close_system_scheduler()
        log.info(<span class="hljs-string">"âœ… å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å·²å…³é—­"</span>)
        
        <span class="hljs-comment"># 3. è¯·æ±‚é™åˆ¶å™¨å…³é—­</span>
        <span class="hljs-keyword">await</span> FastAPILimiter.close()
        log.info(<span class="hljs-string">"âœ… è¯·æ±‚é™åˆ¶å™¨å·²å…³é—­"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        log.error(<span class="hljs-string">f"âŒ åº”ç”¨å…³é—­è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
</code></pre>
<h2 data-id="heading-6">3. è·¯ç”±è‡ªåŠ¨å‘ç°æœºåˆ¶</h2>
<p>é¡¹ç›®å®ç°äº†æ™ºèƒ½çš„è·¯ç”±è‡ªåŠ¨å‘ç°æœºåˆ¶ï¼Œå®šä¹‰åœ¨ <code>discover.py</code> ä¸­ã€‚è¿™ä¸€è®¾è®¡å¤§å¤§ç®€åŒ–äº†è·¯ç”±æ³¨å†Œè¿‡ç¨‹ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-7">3.1 è·¯ç”±å‘ç°çº¦å®š</h3>
<p>ç³»ç»Ÿéµå¾ªä»¥ä¸‹çº¦å®šè‡ªåŠ¨å‘ç°å¹¶æ³¨å†Œè·¯ç”±ï¼š</p>
<ul>
<li>ä»…æ‰«æ <code>app.api.v1</code> åŒ…å†…ï¼Œé¡¶çº§ç›®å½•ä»¥ <code>module_</code> å¼€å¤´çš„æ¨¡å—</li>
<li>åœ¨å„æ¨¡å—ä»»æ„å­ç›®å½•ä¸‹çš„ <code>controller.py</code> ä¸­å®šä¹‰çš„ <code>APIRouter</code> å®ä¾‹ä¼šè‡ªåŠ¨è¢«æ³¨å†Œ</li>
<li>é¡¶çº§ç›®å½• <code>module_xxx</code> ä¼šæ˜ å°„ä¸ºå®¹å™¨è·¯ç”±å‰ç¼€ <code>/&lt;xxx&gt;</code></li>
</ul>
<h3 data-id="heading-8">3.2 è·¯ç”±å‘ç°æµç¨‹</h3>
<p>è·¯ç”±å‘ç°é€šè¿‡ <code>_discover_and_register()</code> å‡½æ•°å®ç°ï¼Œæ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å®šä½åŸºç›®å½•</strong>ï¼šç¡®å®š <code>app.api.v1</code> çš„æ–‡ä»¶ç³»ç»Ÿè·¯å¾„å’ŒåŒ…å</li>
<li><strong>æŸ¥æ‰¾æ§åˆ¶å™¨æ–‡ä»¶</strong>ï¼šé€’å½’æŸ¥æ‰¾æ‰€æœ‰ <code>controller.py</code> æ–‡ä»¶</li>
<li><strong>è§£ææ¨¡å—å‰ç¼€</strong>ï¼šå°†æ¨¡å—åè½¬æ¢ä¸ºè·¯ç”±å‰ç¼€</li>
<li><strong>å¯¼å…¥æ§åˆ¶å™¨æ¨¡å—</strong>ï¼šåŠ¨æ€å¯¼å…¥æ‰¾åˆ°çš„æ§åˆ¶å™¨æ–‡ä»¶</li>
<li><strong>æ³¨å†Œè·¯ç”±</strong>ï¼šå°†æ§åˆ¶å™¨ä¸­çš„ <code>APIRouter</code> å®ä¾‹æ³¨å†Œåˆ°å¯¹åº”çš„å®¹å™¨è·¯ç”±ä¸­</li>
<li><strong>æ³¨å†Œå®¹å™¨è·¯ç”±</strong>ï¼šå°†å®¹å™¨è·¯ç”±æŒ‰å‰ç¼€æ’åºåæ³¨å†Œåˆ°æ ¹è·¯ç”±</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">_discover_and_register</span>() -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-string">"""é€šè¿‡æ–‡ä»¶ç³»ç»Ÿé€’å½’æ‰«æå¹¶æ³¨å†Œè·¯ç”±åˆ°æ ¹è·¯ç”±"""</span>
    base_dir, base_pkg = _get_v1_base_dir_and_pkg()
    containers: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, APIRouter] = {}  <span class="hljs-comment"># å­˜å‚¨å®¹å™¨è·¯ç”±</span>
    
    <span class="hljs-comment"># éå†æ‰€æœ‰controller.pyæ–‡ä»¶</span>
    <span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> _iter_controller_files(base_dir):
        <span class="hljs-comment"># è§£ææ¨¡å—è·¯å¾„å’Œå‰ç¼€</span>
        parts = file.relative_to(base_dir).parts
        top_module = parts[<span class="hljs-number">0</span>]
        prefix = _resolve_prefix(top_module)
        
        <span class="hljs-comment"># åŠ¨æ€å¯¼å…¥æ¨¡å—</span>
        mod_path = <span class="hljs-string">"-"</span>.join((base_pkg,) + <span class="hljs-built_in">tuple</span>(parts[:-<span class="hljs-number">1</span>]) + (<span class="hljs-string">"controller"</span>,))
        mod = importlib.import_module(mod_path)
        
        <span class="hljs-comment"># å°†æ¨¡å—ä¸­çš„è·¯ç”±æ·»åŠ åˆ°å®¹å™¨</span>
        container = containers.setdefault(prefix, APIRouter(prefix=prefix))
        _include_module_routers(mod, container)
    
    <span class="hljs-comment"># æ³¨å†Œå®¹å™¨è·¯ç”±åˆ°æ ¹è·¯ç”±</span>
    <span class="hljs-keyword">for</span> prefix <span class="hljs-keyword">in</span> <span class="hljs-built_in">sorted</span>(containers.keys()):
        container = containers[prefix]
        router.include_router(container)
</code></pre>
<h2 data-id="heading-9">4. å®Œæ•´å¯åŠ¨æµç¨‹æ€»ç»“</h2>
<p>é¡¹ç›®çš„å®Œæ•´å¯åŠ¨æµç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<h3 data-id="heading-10">4.1 å‘½ä»¤è¡Œè§£æé˜¶æ®µ</h3>
<ol>
<li>ç”¨æˆ·é€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ <code>python main.py run</code> å‘½ä»¤</li>
<li>è§£æå‘½ä»¤è¡Œå‚æ•°ï¼ˆå¦‚ç¯å¢ƒé€‰æ‹©ï¼‰</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡å¹¶æ˜¾ç¤ºå¯åŠ¨æ¨ªå¹…</li>
</ol>
<h3 data-id="heading-11">4.2 åº”ç”¨åˆå§‹åŒ–é˜¶æ®µ</h3>
<ol>
<li>è°ƒç”¨ <code>create_app()</code> åˆ›å»º FastAPI åº”ç”¨å®ä¾‹</li>
<li>æ³¨å†Œå¼‚å¸¸å¤„ç†å™¨ã€ä¸­é—´ä»¶å’Œé™æ€æ–‡ä»¶</li>
<li>é€šè¿‡ <code>register_routers()</code> å¯¼å…¥å¹¶æ³¨å†Œè·¯ç”±ï¼ˆè§¦å‘è·¯ç”±è‡ªåŠ¨å‘ç°ï¼‰</li>
<li>é…ç½® API æ–‡æ¡£ï¼ˆSwagger UI å’Œ ReDocï¼‰</li>
</ol>
<h3 data-id="heading-12">4.3 ç”Ÿå‘½å‘¨æœŸåˆå§‹åŒ–é˜¶æ®µ</h3>
<ol>
<li>æ•°æ®åº“åˆå§‹åŒ–</li>
<li>å…¨å±€äº‹ä»¶æ¨¡å—åŠ è½½</li>
<li>Redisç¼“å­˜åˆå§‹åŒ–ï¼ˆç³»ç»Ÿé…ç½®å’Œæ•°æ®å­—å…¸ï¼‰</li>
<li>å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨å¯åŠ¨</li>
<li>è¯·æ±‚é™åˆ¶å™¨é…ç½®</li>
</ol>
<h3 data-id="heading-13">4.4 æœåŠ¡å¯åŠ¨é˜¶æ®µ</h3>
<ol>
<li>uvicorn æœåŠ¡å™¨å¯åŠ¨ï¼Œå¼€å§‹ç›‘å¬HTTPè¯·æ±‚</li>
<li>è¾“å‡ºè¯¦ç»†çš„å¯åŠ¨ä¿¡æ¯é¢æ¿</li>
<li>åº”ç”¨è¿›å…¥æ­£å¸¸è¿è¡ŒçŠ¶æ€</li>
</ol>
<h2 data-id="heading-14">5. å¯åŠ¨é…ç½®ä¸ç¯å¢ƒç®¡ç†</h2>
<p>é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ç®¡ç†ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡ <code>ENVIRONMENT</code> æ§åˆ¶ï¼š</p>
<ul>
<li><strong>å¼€å‘ç¯å¢ƒï¼ˆDEVï¼‰</strong>ï¼šå¯ç”¨çƒ­é‡è½½ã€è¯¦ç»†æ—¥å¿—ç­‰å¼€å‘ç‰¹æ€§</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒï¼ˆPRODï¼‰</strong>ï¼šä¼˜åŒ–æ€§èƒ½ã€å¢å¼ºå®‰å…¨æ€§é…ç½®</li>
</ul>
<p>é…ç½®ä¿¡æ¯é€šè¿‡ <code>app.config.setting</code> æ¨¡å—åŠ è½½ï¼Œæ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–é»˜è®¤é…ç½®ï¼Œå®ç°çµæ´»éƒ¨ç½²ã€‚</p>
<h2 data-id="heading-15">6. å…³é”®æŠ€æœ¯ç‚¹åˆ†æ</h2>
<h3 data-id="heading-16">6.1 å·¥å‚æ¨¡å¼å¯åŠ¨</h3>
<p>é¡¹ç›®ä½¿ç”¨ FastAPI çš„å·¥å‚æ¨¡å¼å¯åŠ¨ï¼Œé€šè¿‡ <code>uvicorn.run(app='main:create_app', factory=True)</code> å®ç°ã€‚è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>å»¶è¿Ÿåˆ›å»ºåº”ç”¨å®ä¾‹ï¼Œç¡®ä¿é…ç½®æ­£ç¡®åŠ è½½</li>
<li>æ”¯æŒåº”ç”¨é¢„çƒ­å’Œä¾èµ–æ³¨å…¥</li>
<li>ä¾¿äºå•å…ƒæµ‹è¯•å’Œå¤šå®ä¾‹éƒ¨ç½²</li>
</ul>
<h3 data-id="heading-17">6.2 å¼‚æ­¥ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>ä½¿ç”¨ <code>@asynccontextmanager</code> è£…é¥°å™¨å®ç°å¼‚æ­¥ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ”¯æŒåœ¨åº”ç”¨å¯åŠ¨å’Œå…³é—­æ—¶æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œé€‚ç”¨äºæ•°æ®åº“è¿æ¥æ± ã€Rediså®¢æˆ·ç«¯ç­‰å¼‚æ­¥èµ„æºçš„åˆå§‹åŒ–å’Œæ¸…ç†ã€‚</p>
<h3 data-id="heading-18">6.3 ç»„ä»¶åŒ–è®¾è®¡</h3>
<p>å¯åŠ¨è¿‡ç¨‹é‡‡ç”¨ç»„ä»¶åŒ–è®¾è®¡ï¼Œé€šè¿‡ç‹¬ç«‹çš„æ³¨å†Œå‡½æ•°ç®¡ç†ä¸åŒç±»å‹çš„ç»„ä»¶ï¼š</p>
<ul>
<li><code>register_middlewares</code>: æ³¨å†Œå…¨å±€ä¸­é—´ä»¶</li>
<li><code>register_exceptions</code>: æ³¨å†Œå¼‚å¸¸å¤„ç†å™¨</li>
<li><code>register_routers</code>: æ³¨å†Œè·¯ç”±</li>
<li><code>register_files</code>: æ³¨å†Œé™æ€æ–‡ä»¶</li>
<li><code>reset_api_docs</code>: è‡ªå®šä¹‰APIæ–‡æ¡£</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—å„ç»„ä»¶èŒè´£æ¸…æ™°ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<h2 data-id="heading-19">7. ä»£ç ä¼˜åŒ–å»ºè®®</h2>
<p>åœ¨åˆ†æé¡¹ç›®å¯åŠ¨è¿‡ç¨‹åï¼Œæœ‰å‡ ç‚¹ä¼˜åŒ–å»ºè®®ï¼š</p>
<h3 data-id="heading-20">7.1 é”™è¯¯å¤„ç†å¢å¼º</h3>
<p>è™½ç„¶å¯åŠ¨è¿‡ç¨‹ä¸­æœ‰åŸºæœ¬çš„é”™è¯¯å¤„ç†ï¼Œä½†å¯ä»¥è€ƒè™‘å¢åŠ æ›´è¯¦ç»†çš„é”™è¯¯åˆ†ç±»å’Œæ¢å¤æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># æ•°æ®åº“åˆå§‹åŒ–</span>
    <span class="hljs-keyword">await</span> InitializeData().init_db()
<span class="hljs-keyword">except</span> DatabaseConnectionError <span class="hljs-keyword">as</span> e:
    log.error(<span class="hljs-string">f"âŒ æ•°æ®åº“è¿æ¥å¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
    <span class="hljs-comment"># å¯ä»¥æ·»åŠ é‡è¯•é€»è¾‘æˆ–é™çº§ç­–ç•¥</span>
    <span class="hljs-keyword">raise</span>
</code></pre>
<h3 data-id="heading-21">7.2 å¯åŠ¨ä¾èµ–æ£€æŸ¥</h3>
<p>åœ¨åº”ç”¨å®Œå…¨å¯åŠ¨å‰ï¼Œå¯ä»¥å¢åŠ å¯¹å…³é”®ä¾èµ–ï¼ˆå¦‚æ•°æ®åº“ã€Redisï¼‰çš„å¯ç”¨æ€§æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_dependencies</span>():
    <span class="hljs-string">"""æ£€æŸ¥æ‰€æœ‰å…³é”®ä¾èµ–æ˜¯å¦å¯ç”¨"""</span>
    <span class="hljs-comment"># æ•°æ®åº“è¿æ¥æµ‹è¯•</span>
    <span class="hljs-comment"># Redisè¿æ¥æµ‹è¯•</span>
    <span class="hljs-comment"># å¤–éƒ¨APIè¿é€šæ€§æµ‹è¯•</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># åœ¨lifespanä¸­è°ƒç”¨</span>
<span class="hljs-keyword">await</span> check_dependencies()
</code></pre>
<h3 data-id="heading-22">7.3 å¯åŠ¨è¶…æ—¶æ§åˆ¶</h3>
<p>ä¸ºåˆå§‹åŒ–æ­¥éª¤æ·»åŠ è¶…æ—¶æ§åˆ¶ï¼Œé¿å…å¯åŠ¨è¿‡ç¨‹ä¸­æŸä¸ªæ­¥éª¤å¡æ­»ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">with_timeout</span>(<span class="hljs-params">coroutine, timeout_seconds=<span class="hljs-number">30</span></span>):
    <span class="hljs-string">"""ä¸ºå¼‚æ­¥æ“ä½œæ·»åŠ è¶…æ—¶æ§åˆ¶"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> asyncio.wait_for(coroutine, timeout=timeout_seconds)
    <span class="hljs-keyword">except</span> asyncio.TimeoutError:
        log.error(<span class="hljs-string">f"æ“ä½œè¶…æ—¶ (<span class="hljs-subst">{timeout_seconds}</span>ç§’)"</span>)
        <span class="hljs-keyword">raise</span>

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">await</span> with_timeout(InitializeData().init_db())
</code></pre>
<h2 data-id="heading-23">8. æ€»ç»“</h2>
<p>crypto_ai_adminé¡¹ç›®çš„å¯åŠ¨è¿‡ç¨‹ï¼Œé€šè¿‡ç»„ä»¶åŒ–è®¾è®¡å’Œè‡ªåŠ¨åŒ–æœºåˆ¶ï¼Œå®ç°äº†çµæ´»ä¸”å¯æ‰©å±•çš„åº”ç”¨åˆå§‹åŒ–æµç¨‹ã€‚é¡¹ç›®é‡‡ç”¨äº†ç°ä»£å¼‚æ­¥ç¼–ç¨‹èŒƒå¼ï¼Œæ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼Œå¹¶å…·å¤‡å®Œå–„çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä¸ºç³»ç»Ÿçš„ç¨³å®šè¿è¡Œæä¾›äº†åšå®çš„åŸºç¡€ã€‚</p>
<p>é€šè¿‡å‘½ä»¤è¡Œå·¥å…·ã€ç¯å¢ƒå˜é‡é…ç½®ã€è‡ªåŠ¨è·¯ç”±å‘ç°ç­‰æœºåˆ¶ï¼Œæå¤§åœ°ç®€åŒ–äº†å¼€å‘å’Œéƒ¨ç½²æµç¨‹ï¼Œä½¿å¾—ç³»ç»Ÿå…·å¤‡è‰¯å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Pythonå¥½ç”¨åˆ°å“­çš„åº“ã€‘pandas-æ•°æ®åˆ†æç¥å™¨]]></title>    <link>https://juejin.cn/post/7582267229842669568</link>    <guid>https://juejin.cn/post/7582267229842669568</guid>    <pubDate>2025-12-11T12:48:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842669568" data-draft-id="7582267229842653184" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Pythonå¥½ç”¨åˆ°å“­çš„åº“ã€‘pandas-æ•°æ®åˆ†æç¥å™¨"/> <meta itemprop="keywords" content="Python,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-11T12:48:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¶æ—¥å¤±çœ è€…"/> <meta itemprop="url" content="https://juejin.cn/user/3411111810444068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Pythonå¥½ç”¨åˆ°å“­çš„åº“ã€‘pandas-æ•°æ®åˆ†æç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3411111810444068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¶æ—¥å¤±çœ è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:48:05.000Z" title="Thu Dec 11 2025 12:48:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åº“ç®€ä»‹</h2>
<p>pandasæ˜¯Pythonä¸­æœ€æµè¡Œçš„æ•°æ®åˆ†æåº“ï¼Œæä¾›äº†DataFrameè¿™ä¸€å¼ºå¤§çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥è½»æ¾å¤„ç†ç»“æ„åŒ–æ•°æ®ã€‚</p>
<h2 data-id="heading-1">å®‰è£…æ–¹æ³•</h2>
<pre><code class="hljs language-bash" lang="bash">pip install pandas
</code></pre>
<h2 data-id="heading-2">å…¥é—¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># åˆ›å»ºç®€å•çš„DataFrame</span>
data = {<span class="hljs-string">'å§“å'</span>: [<span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-string">'æå››'</span>, <span class="hljs-string">'ç‹äº”'</span>],
        <span class="hljs-string">'å¹´é¾„'</span>: [<span class="hljs-number">25</span>, <span class="hljs-number">30</span>, <span class="hljs-number">35</span>],
        <span class="hljs-string">'åŸå¸‚'</span>: [<span class="hljs-string">'åŒ—äº¬'</span>, <span class="hljs-string">'ä¸Šæµ·'</span>, <span class="hljs-string">'å¹¿å·'</span>]}
df = pd.DataFrame(data)
<span class="hljs-built_in">print</span>(df)

<span class="hljs-comment"># åŸºæœ¬æ•°æ®æ“ä½œ</span>
<span class="hljs-built_in">print</span>(df[<span class="hljs-string">'å¹´é¾„'</span>].mean())  <span class="hljs-comment"># è®¡ç®—å¹³å‡å¹´é¾„</span>
<span class="hljs-built_in">print</span>(df[df[<span class="hljs-string">'å¹´é¾„'</span>] &gt; <span class="hljs-number">28</span>])  <span class="hljs-comment"># ç­›é€‰å¹´é¾„å¤§äº28çš„è®°å½•</span>
</code></pre>
<h2 data-id="heading-3">è¿›é˜¶å®æˆ˜</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯»å–CSVæ–‡ä»¶å¹¶è¿›è¡Œæ•°æ®åˆ†æ</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># è¯»å–æ•°æ®</span>
df = pd.read_csv(<span class="hljs-string">'sales_data.csv'</span>)

<span class="hljs-comment"># æ•°æ®æ¸…æ´—</span>
df = df.dropna()  <span class="hljs-comment"># åˆ é™¤ç¼ºå¤±å€¼</span>
df[<span class="hljs-string">'é”€å”®é¢'</span>] = df[<span class="hljs-string">'å•ä»·'</span>] * df[<span class="hljs-string">'æ•°é‡'</span>]

<span class="hljs-comment"># åˆ†ç»„ç»Ÿè®¡</span>
sales_by_city = df.groupby(<span class="hljs-string">'åŸå¸‚'</span>)[<span class="hljs-string">'é”€å”®é¢'</span>].<span class="hljs-built_in">sum</span>()
<span class="hljs-built_in">print</span>(sales_by_city)

<span class="hljs-comment"># æ—¶é—´åºåˆ—åˆ†æ</span>
df[<span class="hljs-string">'æ—¥æœŸ'</span>] = pd.to_datetime(df[<span class="hljs-string">'æ—¥æœŸ'</span>])
df.set_index(<span class="hljs-string">'æ—¥æœŸ'</span>, inplace=<span class="hljs-literal">True</span>)
monthly_sales = df[<span class="hljs-string">'é”€å”®é¢'</span>].resample(<span class="hljs-string">'M'</span>).<span class="hljs-built_in">sum</span>()
</code></pre>
<h2 data-id="heading-4">æœ€ä½³å®è·µ</h2>
<ul>
<li>ä½¿ç”¨<code>.copy()</code>æ–¹æ³•é¿å…SettingWithCopyWarning</li>
<li>å¯¹äºå¤§å‹æ•°æ®é›†ï¼Œä½¿ç”¨é€‚å½“çš„æ•°æ®ç±»å‹å‡å°‘å†…å­˜å ç”¨</li>
<li>åˆ©ç”¨å‘é‡åŒ–æ“ä½œä»£æ›¿å¾ªç¯æé«˜æ€§èƒ½</li>
</ul>
<h2 data-id="heading-5">åº”ç”¨åœºæ™¯</h2>
<ul>
<li>æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†</li>
<li>æ•°æ®åˆ†æå’Œç»Ÿè®¡</li>
<li>æ—¶é—´åºåˆ—åˆ†æ</li>
<li>æ•°æ®å¯è§†åŒ–å‡†å¤‡</li>
</ul>
<h2 data-id="heading-6">å¸¸è§é—®é¢˜</h2>
<ol>
<li>
<p><strong>å¦‚ä½•å¤„ç†ç¼ºå¤±å€¼ï¼Ÿ</strong></p>
<ul>
<li>ä½¿ç”¨<code>df.dropna()</code>åˆ é™¤ç¼ºå¤±å€¼</li>
<li>ä½¿ç”¨<code>df.fillna(value)</code>å¡«å……ç¼ºå¤±å€¼</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•åˆå¹¶å¤šä¸ªDataFrameï¼Ÿ</strong></p>
<ul>
<li>ä½¿ç”¨<code>pd.concat([df1, df2])</code>è¿›è¡Œåˆå¹¶</li>
<li>ä½¿ç”¨<code>pd.merge(df1, df2, on='key')</code>è¿›è¡Œè¿æ¥</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•æé«˜pandasæ€§èƒ½ï¼Ÿ</strong></p>
<ul>
<li>ä½¿ç”¨å‘é‡åŒ–æ“ä½œä»£æ›¿å¾ªç¯</li>
<li>ä½¿ç”¨é€‚å½“çš„æ•°æ®ç±»å‹</li>
<li>ä½¿ç”¨åˆ†å—å¤„ç†å¤§å‹æ•°æ®é›†</li>
</ul>
</li>
</ol>
<h2 data-id="heading-7">å­¦ä¹ èµ„æº</h2>
<ul>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpandas.pydata.org%2Fdocs%2F" target="_blank" title="https://pandas.pydata.org/docs/" ref="nofollow noopener noreferrer">pandas.pydata.org/docs/</a></li>
<li>æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpandas.pydata.org%2Fpandas-docs%2Fstable%2Fgetting_started%2Ftutorials.html" target="_blank" title="https://pandas.pydata.org/pandas-docs/stable/getting_started/tutorials.html" ref="nofollow noopener noreferrer">pandas.pydata.org/pandas-docsâ€¦</a></li>
<li>ç¤ºä¾‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpandas.pydata.org%2Fpandas-docs%2Fstable%2Fuser_guide%2F10min.html" target="_blank" title="https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html" ref="nofollow noopener noreferrer">pandas.pydata.org/pandas-docsâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Pythonå¥½ç”¨åˆ°å“­çš„åº“ã€‘numpy-æ•°å€¼è®¡ç®—åŸºç¡€]]></title>    <link>https://juejin.cn/post/7582232741687984163</link>    <guid>https://juejin.cn/post/7582232741687984163</guid>    <pubDate>2025-12-11T12:49:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232741687984163" data-draft-id="7582358932028538895" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Pythonå¥½ç”¨åˆ°å“­çš„åº“ã€‘numpy-æ•°å€¼è®¡ç®—åŸºç¡€"/> <meta itemprop="keywords" content="Python,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-11T12:49:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¶æ—¥å¤±çœ è€…"/> <meta itemprop="url" content="https://juejin.cn/user/3411111810444068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Pythonå¥½ç”¨åˆ°å“­çš„åº“ã€‘numpy-æ•°å€¼è®¡ç®—åŸºç¡€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3411111810444068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¶æ—¥å¤±çœ è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:49:40.000Z" title="Thu Dec 11 2025 12:49:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åº“ç®€ä»‹</h2>
<p>numpyæ˜¯Pythonç§‘å­¦è®¡ç®—çš„åŸºç¡€åº“ï¼Œæä¾›äº†å¼ºå¤§çš„å¤šç»´æ•°ç»„å¯¹è±¡å’Œæ•°å­¦å‡½æ•°ã€‚å®ƒæ˜¯è®¸å¤šå…¶ä»–ç§‘å­¦è®¡ç®—åº“ï¼ˆå¦‚pandasã€scikit-learnï¼‰çš„åŸºç¡€ï¼Œä»¥å…¶é«˜æ•ˆçš„æ•°å€¼è®¡ç®—èƒ½åŠ›å’Œç®€æ´çš„APIè®¾è®¡è€Œé—»åã€‚</p>
<h2 data-id="heading-1">å®‰è£…æ–¹æ³•</h2>
<pre><code class="hljs language-bash" lang="bash">pip install numpy
</code></pre>
<h2 data-id="heading-2">å…¥é—¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># åˆ›å»ºæ•°ç»„</span>
arr = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>])
<span class="hljs-built_in">print</span>(arr)

<span class="hljs-comment"># æ•°ç»„è¿ç®—</span>
<span class="hljs-built_in">print</span>(arr * <span class="hljs-number">2</span>)  <span class="hljs-comment"># æ¯ä¸ªå…ƒç´ ä¹˜ä»¥2</span>
<span class="hljs-built_in">print</span>(arr + <span class="hljs-number">10</span>)  <span class="hljs-comment"># æ¯ä¸ªå…ƒç´ åŠ 10</span>

<span class="hljs-comment"># åˆ›å»ºäºŒç»´æ•°ç»„</span>
matrix = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]])
<span class="hljs-built_in">print</span>(matrix)
</code></pre>
<h2 data-id="heading-3">è¿›é˜¶å®æˆ˜</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç§‘å­¦è®¡ç®—åº”ç”¨</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># çº¿æ€§ä»£æ•°è¿ç®—</span>
A = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])
B = np.array([[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])

<span class="hljs-comment"># çŸ©é˜µä¹˜æ³•</span>
C = np.dot(A, B)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ©é˜µä¹˜æ³•ç»“æœï¼š"</span>)
<span class="hljs-built_in">print</span>(C)

<span class="hljs-comment"># æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„</span>
<span class="hljs-comment"># 2x + y = 5</span>
<span class="hljs-comment"># x + 3y = 6</span>
coefficients = np.array([[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">3</span>]])
constants = np.array([<span class="hljs-number">5</span>, <span class="hljs-number">6</span>])
solution = np.linalg.solve(coefficients, constants)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–¹ç¨‹ç»„çš„è§£ï¼šx=<span class="hljs-subst">{solution[<span class="hljs-number">0</span>]}</span>, y=<span class="hljs-subst">{solution[<span class="hljs-number">1</span>]}</span>"</span>)

<span class="hljs-comment"># éšæœºæ•°ç”Ÿæˆå’Œç»Ÿè®¡</span>
data = np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1000</span>)  <span class="hljs-comment"># ç”Ÿæˆ1000ä¸ªæ­£æ€åˆ†å¸ƒéšæœºæ•°</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‡å€¼ï¼š<span class="hljs-subst">{np.mean(data):<span class="hljs-number">.2</span>f}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ ‡å‡†å·®ï¼š<span class="hljs-subst">{np.std(data):<span class="hljs-number">.2</span>f}</span>"</span>)

<span class="hljs-comment"># æ•°ç»„æ“ä½œ</span>
<span class="hljs-comment"># åˆ›å»ºç‰¹æ®Šæ•°ç»„</span>
zeros_array = np.zeros((<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))
ones_array = np.ones((<span class="hljs-number">2</span>, <span class="hljs-number">4</span>))
identity_matrix = np.eye(<span class="hljs-number">3</span>)
range_array = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># 0åˆ°10ï¼Œæ­¥é•¿ä¸º2</span>
linspace_array = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>)  <span class="hljs-comment"># 0åˆ°1ä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„5ä¸ªæ•°</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"é›¶æ•°ç»„ï¼š\n<span class="hljs-subst">{zeros_array}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å•ä½çŸ©é˜µï¼š\n<span class="hljs-subst">{identity_matrix}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç­‰å·®æ•°åˆ—ï¼š<span class="hljs-subst">{linspace_array}</span>"</span>)
</code></pre>
<h2 data-id="heading-4">æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>å‘é‡åŒ–æ“ä½œ</strong>ï¼šå°½å¯èƒ½ä½¿ç”¨numpyçš„å‘é‡åŒ–å‡½æ•°ä»£æ›¿Pythonå¾ªç¯ï¼Œå¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ã€‚</li>
<li><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼šä½¿ç”¨é€‚å½“çš„æ•°æ®ç±»å‹ï¼ˆå¦‚<code>np.float32</code>ä»£æ›¿<code>np.float64</code>ï¼‰å¯ä»¥å‡å°‘å†…å­˜å ç”¨ã€‚</li>
<li><strong>å¹¿æ’­æœºåˆ¶</strong>ï¼šç†è§£å¹¶åˆ©ç”¨numpyçš„å¹¿æ’­æœºåˆ¶ï¼Œå¯ä»¥ç®€åŒ–ä»£ç å¹¶æé«˜æ•ˆç‡ã€‚</li>
<li><strong>è§†å›¾ä¸å‰¯æœ¬</strong>ï¼šç†è§£<code>view()</code>å’Œ<code>copy()</code>çš„åŒºåˆ«ï¼Œé¿å…æ„å¤–çš„æ•°æ®ä¿®æ”¹ã€‚</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‘é‡åŒ–æ“ä½œç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> time

<span class="hljs-comment"># ä¸å¥½çš„åšæ³•ï¼šä½¿ç”¨Pythonå¾ªç¯</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">slow_square</span>(<span class="hljs-params">arr</span>):
    result = []
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr:
        result.append(x ** <span class="hljs-number">2</span>)
    <span class="hljs-keyword">return</span> np.array(result)

<span class="hljs-comment"># å¥½çš„åšæ³•ï¼šä½¿ç”¨å‘é‡åŒ–æ“ä½œ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">fast_square</span>(<span class="hljs-params">arr</span>):
    <span class="hljs-keyword">return</span> arr ** <span class="hljs-number">2</span>

<span class="hljs-comment"># æ€§èƒ½å¯¹æ¯”</span>
large_array = np.random.rand(<span class="hljs-number">1000000</span>)

start = time.time()
slow_result = slow_square(large_array)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¾ªç¯è€—æ—¶ï¼š<span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>ç§’"</span>)

start = time.time()
fast_result = fast_square(large_array)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é‡åŒ–è€—æ—¶ï¼š<span class="hljs-subst">{time.time() - start:<span class="hljs-number">.4</span>f}</span>ç§’"</span>)

<span class="hljs-comment"># éªŒè¯ç»“æœç›¸åŒ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç»“æœæ˜¯å¦ç›¸åŒï¼š<span class="hljs-subst">{np.allclose(slow_result, fast_result)}</span>"</span>)
</code></pre>
<h2 data-id="heading-5">åº”ç”¨åœºæ™¯</h2>
<ol>
<li><strong>ç§‘å­¦è®¡ç®—</strong>ï¼šç‰©ç†ã€åŒ–å­¦ã€å·¥ç¨‹ç­‰é¢†åŸŸçš„æ•°å€¼è®¡ç®—</li>
<li><strong>æ•°æ®åˆ†æ</strong>ï¼šä½œä¸ºpandasç­‰åº“çš„åŸºç¡€ï¼Œå¤„ç†æ•°å€¼æ•°æ®</li>
<li><strong>å›¾åƒå¤„ç†</strong>ï¼šå›¾åƒæ•°æ®çš„å¤šç»´æ•°ç»„è¡¨ç¤ºå’Œæ“ä½œ</li>
<li><strong>æœºå™¨å­¦ä¹ </strong>ï¼šç‰¹å¾çŸ©é˜µçš„è¡¨ç¤ºå’Œæ•°å­¦è¿ç®—</li>
<li><strong>ä¿¡å·å¤„ç†</strong>ï¼šæ—¶åŸŸå’Œé¢‘åŸŸçš„ä¿¡å·åˆ†æ</li>
</ol>
<h2 data-id="heading-6">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-7">Q1: numpyæ•°ç»„å’ŒPythonåˆ—è¡¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><strong>A</strong>:</p>
<ul>
<li><strong>æ€§èƒ½</strong>ï¼šnumpyæ•°ç»„åœ¨æ•°å€¼è®¡ç®—ä¸Šæ¯”Pythonåˆ—è¡¨å¿«å¾—å¤š</li>
<li><strong>åŠŸèƒ½</strong>ï¼šnumpyæä¾›äº†ä¸°å¯Œçš„æ•°å­¦å‡½æ•°å’Œæ•°ç»„æ“ä½œ</li>
<li><strong>å†…å­˜</strong>ï¼šnumpyæ•°ç»„åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œæ•ˆç‡æ›´é«˜</li>
<li><strong>ç±»å‹</strong>ï¼šnumpyæ•°ç»„è¦æ±‚æ‰€æœ‰å…ƒç´ ç±»å‹ç›¸åŒ</li>
</ul>
<h3 data-id="heading-8">Q2: å¦‚ä½•é€‰æ‹©ä½¿ç”¨numpyè¿˜æ˜¯pandasï¼Ÿ</h3>
<p><strong>A</strong>:</p>
<ul>
<li>ä½¿ç”¨<strong>numpy</strong>ï¼šå½“éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ã€çº¿æ€§ä»£æ•°è¿ç®—æˆ–å¤„ç†çº¯æ•°å€¼æ•°æ®æ—¶</li>
<li>ä½¿ç”¨<strong>pandas</strong>ï¼šå½“éœ€è¦å¤„ç†è¡¨æ ¼æ•°æ®ã€è¿›è¡Œæ•°æ®æ¸…æ´—å’Œåˆ†ææ—¶</li>
</ul>
<h3 data-id="heading-9">Q3: numpyå¦‚ä½•å¤„ç†å¤§å‹æ•°ç»„ï¼Ÿ</h3>
<p><strong>A</strong>:</p>
<ul>
<li>ä½¿ç”¨é€‚å½“çš„æ•°æ®ç±»å‹å‡å°‘å†…å­˜å ç”¨</li>
<li>ä½¿ç”¨å†…å­˜æ˜ å°„æ–‡ä»¶å¤„ç†è¶…å¤§å‹æ•°ç»„</li>
<li>åˆ†å—å¤„ç†æ•°æ®ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰æ•°æ®</li>
</ul>
<h2 data-id="heading-10">å­¦ä¹ èµ„æº</h2>
<ol>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnumpy.org%2Fdoc%2F" target="_blank" title="https://numpy.org/doc/" ref="nofollow noopener noreferrer">numpy.org/doc/</a></li>
<li><strong>NumPyç”¨æˆ·æŒ‡å—</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnumpy.org%2Fdoc%2Fstable%2Fuser%2Findex.html" target="_blank" title="https://numpy.org/doc/stable/user/index.html" ref="nofollow noopener noreferrer">numpy.org/doc/stable/â€¦</a></li>
<li><strong>NumPyæ•™ç¨‹</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnumpy.org%2Fdoc%2Fstable%2Fuser%2Fquickstart.html" target="_blank" title="https://numpy.org/doc/stable/user/quickstart.html" ref="nofollow noopener noreferrer">numpy.org/doc/stable/â€¦</a></li>
<li><strong>GitHubä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnumpy%2Fnumpy" target="_blank" title="https://github.com/numpy/numpy" ref="nofollow noopener noreferrer">github.com/numpy/numpy</a></li>
<li><strong>Stack Overflowæ ‡ç­¾</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstackoverflow.com%2Fquestions%2Ftagged%2Fnumpy" target="_blank" title="https://stackoverflow.com/questions/tagged/numpy" ref="nofollow noopener noreferrer">stackoverflow.com/questions/tâ€¦</a></li>
</ol>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>numpyæ˜¯Pythonç§‘å­¦è®¡ç®—çš„åŸºçŸ³ï¼ŒæŒæ¡numpyå¯¹äºè¿›è¡Œé«˜æ•ˆæ•°å€¼è®¡ç®—è‡³å…³é‡è¦ã€‚é€šè¿‡å‘é‡åŒ–æ“ä½œã€å¹¿æ’­æœºåˆ¶å’Œä¸°å¯Œçš„æ•°å­¦å‡½æ•°ï¼Œnumpyä½¿å¾—å¤æ‚çš„æ•°å€¼è®¡ç®—å˜å¾—ç®€å•é«˜æ•ˆã€‚æ— è®ºæ˜¯ä½œä¸ºç‹¬ç«‹å·¥å…·ä½¿ç”¨ï¼Œè¿˜æ˜¯ä½œä¸ºå…¶ä»–ç§‘å­¦è®¡ç®—åº“çš„åŸºç¡€ï¼Œnumpyéƒ½æ˜¯Pythonå¼€å‘è€…å¿…é¡»æŒæ¡çš„æ ¸å¿ƒåº“ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring AOP æºç æ·±åº¦è§£æï¼šä»ä»£ç†åˆ›å»ºåˆ°é€šçŸ¥æ‰§è¡Œçš„å®Œæ•´é“¾è·¯]]></title>    <link>https://juejin.cn/post/7582231988147535923</link>    <guid>https://juejin.cn/post/7582231988147535923</guid>    <pubDate>2025-12-11T12:51:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988147535923" data-draft-id="7582413770091298854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring AOP æºç æ·±åº¦è§£æï¼šä»ä»£ç†åˆ›å»ºåˆ°é€šçŸ¥æ‰§è¡Œçš„å®Œæ•´é“¾è·¯"/> <meta itemprop="keywords" content="Java,Spring Boot,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T12:51:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Webå¤©æ¢¯ä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/2825061103052843"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring AOP æºç æ·±åº¦è§£æï¼šä»ä»£ç†åˆ›å»ºåˆ°é€šçŸ¥æ‰§è¡Œçš„å®Œæ•´é“¾è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2825061103052843/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Webå¤©æ¢¯ä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:51:16.000Z" title="Thu Dec 11 2025 12:51:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring AOP æºç æ·±åº¦è§£æï¼šä»ä»£ç†åˆ›å»ºåˆ°é€šçŸ¥æ‰§è¡Œçš„å®Œæ•´é“¾è·¯</h2>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æŒæ¡äº† Spring AOP çš„åŸºæœ¬ç”¨æ³•å’Œæ ¸å¿ƒæ¦‚å¿µã€‚ä½†â€œçŸ¥å…¶ç„¶â€ä¹‹åï¼Œæ›´è¦â€œçŸ¥å…¶æ‰€ä»¥ç„¶â€ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ·±å…¥ Spring Framework æºç ï¼ˆä»¥ <strong>Spring 6.2.x</strong> ä¸ºä¾‹ï¼‰ï¼Œä¸€æ­¥æ­¥æ‹†è§£ <strong>Spring AOP çš„å®ç°åŸç†</strong>ï¼Œæ­å¼€åŠ¨æ€ä»£ç†ä¸é€šçŸ¥é“¾çš„ç¥ç§˜é¢çº±ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å…¥å£ï¼š<code>@EnableAspectJAutoProxy</code>Â åšäº†ä»€ä¹ˆï¼Ÿ</h3>
<p>å½“ä½ åœ¨é…ç½®ç±»ä¸ŠåŠ ä¸Šï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@EnableAspectJAutoProxy</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AopConfig</span> {}
</code></pre>
<p>è¿™ä¸ªæ³¨è§£çš„å®šä¹‰å¦‚ä¸‹ï¼ˆç®€åŒ–ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(ElementType.TYPE)
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-variable">@Import</span>(AspectJAutoProxyRegistrar.class) <span class="hljs-comment">// â† å…³é”®ï¼</span>
public <span class="hljs-variable">@interface</span> EnableAspectJAutoProxy {
    <span class="hljs-selector-tag">boolean</span> <span class="hljs-selector-tag">proxyTargetClass</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">false</span>;
Â Â Â Â <span class="hljs-selector-tag">boolean</span> <span class="hljs-selector-tag">exposeProxy</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-selector-tag">false</span>;
}
</code></pre>
<h4 data-id="heading-2">â–¶ æ ¸å¿ƒåŠ¨ä½œï¼šæ³¨å†Œä¸€ä¸ª BeanDefinition åå¤„ç†å™¨</h4>
<p><code>AspectJAutoProxyRegistrar</code> å®ç°äº† <code>ImportBeanDefinitionRegistrar</code>ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨å®¹å™¨å¯åŠ¨æ—¶ <strong>å‘ Spring å®¹å™¨æ³¨å†Œä¸€ä¸ªç‰¹æ®Šçš„ BeanPostProcessor</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AspectJAutoProxyRegistrar</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ImportBeanDefinitionRegistrar</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">registerBeanDefinitions</span>(<span class="hljs-params">...</span>) {
        <span class="hljs-title class_">AopConfigUtils</span>.<span class="hljs-title function_">registerAspectJAnnotationAutoProxyCreatorIfNecessary</span>(registry);
    }
}
</code></pre>
<p>ç»§ç»­è·Ÿè¿›ï¼Œæœ€ç»ˆä¼šæ³¨å†Œä¸€ä¸ªåä¸º <strong><code>internalAutoProxyCreator</code></strong> çš„ Beanï¼Œå…¶å®ç°ç±»æ˜¯ï¼š</p>
<blockquote>
<p><strong><code>AnnotationAwareAspectJAutoProxyCreator</code></strong></p>
</blockquote>
<p>è¿™æ˜¯æ•´ä¸ª Spring AOP çš„<strong>æ ¸å¿ƒå¼•æ“</strong>ï¼Œå®ƒç»§æ‰¿è‡ªï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">AnnotationAwareAspectJAutoProxyCreator
 â””â”€â”€ AspectJAwareAdvisorAutoProxyCreator
<span class="hljs-code">     â””â”€â”€ AbstractAdvisorAutoProxyCreator
         â””â”€â”€ AbstractAutoProxyCreator
             â””â”€â”€ SmartInstantiationAwareBeanPostProcessor
</span></code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ª <strong>BeanPostProcessor</strong> â€”â€” è¿™æ„å‘³ç€å®ƒèƒ½åœ¨æ¯ä¸ª Bean åˆå§‹åŒ–å‰åè¿›è¡Œå¹²é¢„ï¼</p>
<h3 data-id="heading-3">äºŒã€ä»£ç†å¯¹è±¡ä½•æ—¶åˆ›å»ºï¼Ÿ</h3>
<p><code>AbstractAutoProxyCreator</code> é‡å†™äº† <code>postProcessAfterInitialization</code> æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">postProcessAfterInitialization</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> bean, <span class="hljs-built_in">String</span> beanName</span>) {
    <span class="hljs-keyword">if</span> (bean != <span class="hljs-literal">null</span>) {
        <span class="hljs-title class_">Object</span> cacheKey = <span class="hljs-title function_">getCacheKey</span>(bean.<span class="hljs-title function_">getClass</span>(), beanName);
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">earlyProxyReferences</span>.<span class="hljs-title function_">contains</span>(cacheKey)) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">wrapIfNecessary</span>(bean, beanName, cacheKey); <span class="hljs-comment">// â† å…³é”®æ–¹æ³•</span>
        }
    }
    <span class="hljs-keyword">return</span> bean;
}
</code></pre>
<h4 data-id="heading-4">â–¶Â <code>wrapIfNecessary</code>ï¼šå†³å®šæ˜¯å¦éœ€è¦ä»£ç†</h4>
<p>è¿™ä¸ªæ–¹æ³•åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><strong>è·³è¿‡ä¸éœ€è¦ä»£ç†çš„ Bean</strong>ï¼ˆå¦‚ Advisorã€Advice æœ¬èº«ï¼‰</li>
<li><strong>æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…å½“å‰ Bean çš„ Advisorï¼ˆé€šçŸ¥å™¨ï¼‰</strong></li>
<li><strong>å¦‚æœæœ‰åŒ¹é…çš„ Advisorï¼Œåˆ™åˆ›å»ºä»£ç†å¯¹è±¡</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">protected</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">wrapIfNecessary</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> bean, <span class="hljs-built_in">String</span> beanName, <span class="hljs-built_in">Object</span> cacheKey</span>) {
 <span class="hljs-comment">// 1. è·å–æ‰€æœ‰é€‚ç”¨çš„ Advisorï¼ˆåŒ…å« Pointcut + Adviceï¼‰</span>
<span class="hljs-title class_">Object</span>[] specificInterceptors = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAdvicesAndAdvisorsForBean</span>(bean.<span class="hljs-title function_">getClass</span>(), beanName, (<span class="hljs-title class_">TargetSource</span>)<span class="hljs-literal">null</span>);
<span class="hljs-keyword">if</span> (specificInterceptors != <span class="hljs-variable constant_">DO_NOT_PROXY</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">advisedBeans</span>.<span class="hljs-title function_">put</span>(cacheKey, <span class="hljs-title class_">Boolean</span>.<span class="hljs-property">TRUE</span>);
    <span class="hljs-comment">// 2. åˆ›å»ºä»£ç†</span>
    <span class="hljs-title class_">Object</span> proxy = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createProxy</span>(bean.<span class="hljs-title function_">getClass</span>(), beanName, specificInterceptors, <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingletonTargetSource</span>(bean));
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">proxyTypes</span>.<span class="hljs-title function_">put</span>(cacheKey, proxy.<span class="hljs-title function_">getClass</span>());
    <span class="hljs-keyword">return</span> proxy;
} 
<span class="hljs-keyword">return</span> bean;
}
</code></pre>
<blockquote>
<p>âœ… <strong>å…³é”®ç‚¹</strong>ï¼šåªæœ‰å­˜åœ¨åŒ¹é…çš„åˆ‡é¢ï¼ˆAdvisorï¼‰ï¼Œæ‰ä¼šä¸ºè¯¥ Bean åˆ›å»ºä»£ç†ï¼</p>
</blockquote>
<h3 data-id="heading-5">ä¸‰ã€å¦‚ä½•æŸ¥æ‰¾åŒ¹é…çš„ Advisorï¼Ÿâ€”â€” åˆ‡é¢çš„â€œåŒ¹é…é€»è¾‘â€</h3>
<p><code>getAdvicesAndAdvisorsForBean()</code> æœ€ç»ˆä¼šè°ƒç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">protected</span> List&lt;Advisor&gt; findEligibleAdvisors(Class&lt;?&gt; beanClass, String beanName) {
    List&lt;Advisor&gt; candidateAdvisors = <span class="hljs-keyword">this</span>.findCandidateAdvisors();
    List&lt;Advisor&gt; eligibleAdvisors = <span class="hljs-keyword">this</span>.findAdvisorsThatCanApply(candidateAdvisors, beanClass, beanName);
    <span class="hljs-keyword">this</span>.extendAdvisors(eligibleAdvisors);
    <span class="hljs-keyword">if</span> (!eligibleAdvisors.isEmpty()) {
        <span class="hljs-keyword">try</span> {
            eligibleAdvisors = <span class="hljs-keyword">this</span>.sortAdvisors(eligibleAdvisors);
        } <span class="hljs-keyword">catch</span> (BeanCreationException ex) {
            <span class="hljs-keyword">throw</span> new AopConfigException(<span class="hljs-string">"Advisor sorting failed with unexpected bean creation, probably due to custom use of the Ordered interface. Consider using the @Order annotation instead."</span>, ex);
        }
    }

    <span class="hljs-keyword">return</span> eligibleAdvisors;
}
</code></pre>
<p>å…¶ä¸­ï¼Œ<code>findAdvisorsThatCanApply</code> ä¼šéå†æ¯ä¸ª <code>Advisor</code>ï¼Œå¹¶è°ƒç”¨å…¶å†…éƒ¨çš„ <strong>Pointcut</strong> çš„ <code>getClassFilter().matches()</code> å’Œ <code>getMethodMatcher().matches()</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½ å†™çš„ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Pointcut("execution(public * org.example.spring.aop.service..*.*(..))")</span>
</code></pre>
<p>ä¼šè¢«è§£æä¸ºä¸€ä¸ª <code>AspectJExpressionPointcut</code>ï¼Œå…¶ <code>matches()</code> æ–¹æ³•ä¼šä½¿ç”¨ <strong>AspectJ è¡¨è¾¾å¼å¼•æ“</strong>åˆ¤æ–­ç›®æ ‡æ–¹æ³•æ˜¯å¦åŒ¹é…ã€‚</p>
<blockquote>
<p>ğŸ” æ³¨æ„ï¼šSpring AOP è™½ç„¶ä½¿ç”¨ AspectJ çš„æ³¨è§£å’Œè¡¨è¾¾å¼è¯­æ³•ï¼Œä½†<strong>åŒ¹é…é€»è¾‘ç”± Spring è‡ªå·±å®ç°</strong>ï¼Œå¹¶æœªä¾èµ–å®Œæ•´çš„ AspectJ ç¼–è¯‘å™¨ã€‚</p>
</blockquote>
<h3 data-id="heading-6">å››ã€ä»£ç†å¯¹è±¡å¦‚ä½•åˆ›å»ºï¼Ÿâ€”â€” JDK Proxy vs CGLIB</h3>
<p><code>createProxy()</code> æ–¹æ³•å†…éƒ¨ä¼šæ ¹æ®é…ç½®å’Œç›®æ ‡ç±»ç‰¹æ€§é€‰æ‹©ä»£ç†æ–¹å¼ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> AopProxy <span class="hljs-title">createAopProxy</span><span class="hljs-params">(AdvisedSupport config)</span> throws AopConfigException </span>{
    <span class="hljs-comment">// æ»¡è¶³ä»»ä¸€æ¡ä»¶æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ CGLIB ä»£ç†ï¼š</span>
    <span class="hljs-comment">//   - config.setOptimize(true)ï¼šå¯ç”¨ä¼˜åŒ–ï¼ˆå·²åºŸå¼ƒï¼Œä½†ä¿ç•™å…¼å®¹ï¼‰</span>
    <span class="hljs-comment">//   - config.setProxyTargetClass(true)ï¼šå¼ºåˆ¶ä½¿ç”¨ CGLIBï¼ˆå¦‚ @EnableAspectJAutoProxy(proxyTargetClass = true)ï¼‰</span>
    <span class="hljs-comment">//   - æ²¡æœ‰ç”¨æˆ·æ˜¾å¼æŒ‡å®šæ¥å£ï¼ˆå³ç›®æ ‡ç±»æœªå®ç°ä»»ä½•ä¸šåŠ¡æ¥å£ï¼‰</span>
    <span class="hljs-keyword">if</span> (config.<span class="hljs-built_in">isOptimize</span>() || config.<span class="hljs-built_in">isProxyTargetClass</span>() || !config.<span class="hljs-built_in">hasUserSuppliedInterfaces</span>()) {
        Class&lt;?&gt; targetClass = config.<span class="hljs-built_in">getTargetClass</span>();

        <span class="hljs-comment">// æ ¡éªŒï¼šå¿…é¡»èƒ½ç¡®å®šç›®æ ‡ç±»å‹ï¼ˆè¦ä¹ˆæœ‰ç›®æ ‡ç±»ï¼Œè¦ä¹ˆæœ‰æ¥å£ï¼‰</span>
        <span class="hljs-keyword">if</span> (targetClass == null &amp;&amp; config.<span class="hljs-built_in">getProxiedInterfaces</span>().length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">AopConfigException</span>(<span class="hljs-string">"TargetSource cannot determine target class: "</span> +
                    <span class="hljs-string">"Either an interface or a target is required for proxy creation."</span>);
        }

        <span class="hljs-comment">// è‹¥ç›®æ ‡ç±»ä¸º nullã€æ˜¯æ¥å£ã€å·²æ˜¯ JDK ä»£ç†ç±»ã€æˆ–æ˜¯ Lambda è¡¨è¾¾å¼ç”Ÿæˆçš„ç±»ï¼Œ</span>
        <span class="hljs-comment">// åˆ™ä»ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ï¼ˆCGLIB æ— æ³•ä»£ç†æ¥å£æˆ–ç‰¹æ®Šç±»ï¼‰</span>
        <span class="hljs-keyword">if</span> (targetClass == null || 
            targetClass.<span class="hljs-built_in">isInterface</span>() || 
            Proxy.<span class="hljs-built_in">isProxyClass</span>(targetClass) || 
            ClassUtils.<span class="hljs-built_in">isLambdaClass</span>(targetClass)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">JdkDynamicAopProxy</span>(config);
        }

        <span class="hljs-comment">// å¦åˆ™ä½¿ç”¨ CGLIB ä»£ç†ï¼ˆé€šè¿‡ Objenesis ä¼˜åŒ–å®ä¾‹åŒ–æ€§èƒ½ï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">ObjenesisCglibAopProxy</span>(config);
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æ˜ç¡®æŒ‡å®šäº†æ¥å£ä¸”æœªå¼ºåˆ¶ CGLIB â†’ ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">JdkDynamicAopProxy</span>(config);
    }
}
</code></pre>
<ul>
<li>è‹¥ç›®æ ‡ç±»å®ç°äº†æ¥å£ â†’ é»˜è®¤ç”¨Â <strong>JDK Proxy</strong></li>
<li>è‹¥æœªå®ç°æ¥å£ æˆ– è®¾ç½®äº†Â <code>proxyTargetClass=true</code>Â â†’ ç”¨Â <strong>CGLIB</strong></li>
</ul>
<blockquote>
<p>âœ… Spring é»˜è®¤<strong>ä¼˜å…ˆä½¿ç”¨ JDK åŠ¨æ€ä»£ç†</strong>ï¼ˆåŸºäºæ¥å£ï¼‰ï¼Œåªæœ‰åœ¨å¿…è¦æ—¶æ‰å›é€€åˆ° CGLIBã€‚</p>
</blockquote>
<h3 data-id="heading-7">äº”ã€æ–¹æ³•è°ƒç”¨æ—¶ï¼šé€šçŸ¥å¦‚ä½•æ‰§è¡Œï¼Ÿâ€”â€” è´£ä»»é“¾æ¨¡å¼</h3>
<p>å‡è®¾æˆ‘ä»¬è·å–çš„æ˜¯ä¸€ä¸ª <strong>JDK ä»£ç†å¯¹è±¡</strong>ï¼Œå…¶ <code>InvocationHandler</code> æ˜¯ <code>JdkDynamicAopProxy</code>ã€‚</p>
<p>å½“è°ƒç”¨ <code>orderService.placeOrder(...)</code> æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">invoke</span>(<span class="hljs-title class_">Object</span> proxy, <span class="hljs-title class_">Method</span> method, <span class="hljs-title class_">Object</span>[] args) throws <span class="hljs-title class_">Throwable</span> {
    <span class="hljs-comment">// 1. æ„å»ºæ‹¦æˆªå™¨é“¾ï¼ˆInterceptor Chainï¼‰</span>
    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">Object</span>&gt; chain = <span class="hljs-variable language_">this</span>.<span class="hljs-property">advised</span>.<span class="hljs-title function_">getInterceptorsAndDynamicInterceptionAdvice</span>(method, targetClass);

    <span class="hljs-keyword">if</span> (chain.<span class="hljs-title function_">isEmpty</span>()) {
        <span class="hljs-comment">// æ— é€šçŸ¥ï¼Œç›´æ¥è°ƒç”¨ç›®æ ‡æ–¹æ³•</span>
        <span class="hljs-keyword">return</span> method.<span class="hljs-title function_">invoke</span>(target, args);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// 2. æ‰§è¡Œè´£ä»»é“¾</span>
        <span class="hljs-title class_">MethodInvocation</span> invocation = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReflectiveMethodInvocation</span>(proxy, target, method, args, targetClass, chain);
        <span class="hljs-keyword">return</span> invocation.<span class="hljs-title function_">proceed</span>(); <span class="hljs-comment">// â† é€’å½’æ‰§è¡Œé€šçŸ¥é“¾</span>
    }
}
</code></pre>
<h4 data-id="heading-8">â–¶ æ‹¦æˆªå™¨é“¾ï¼ˆInterceptor Chainï¼‰çš„ç»„æˆ</h4>
<p>æ¯ä¸ª <code>@Before</code>ã€<code>@AfterReturning</code> ç­‰æ³¨è§£ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«åŒ…è£…æˆä¸€ä¸ª <strong><code>MethodInterceptor</code></strong>ï¼š</p>

























<table><thead><tr><th>æ³¨è§£</th><th>å¯¹åº”çš„ Interceptor</th></tr></thead><tbody><tr><td><code>@Before</code></td><td><code>MethodBeforeAdviceInterceptor</code></td></tr><tr><td><code>@AfterReturning</code></td><td><code>AfterReturningAdviceInterceptor</code></td></tr><tr><td><code>@Around</code></td><td>ç›´æ¥å®ç°Â <code>MethodInterceptor</code></td></tr><tr><td><code>@AfterThrowing</code></td><td><code>ThrowsAdviceInterceptor</code></td></tr></tbody></table>
<p>è¿™äº› Interceptor æŒ‰ç…§ <strong>é€šçŸ¥ç±»å‹ + åˆ‡é¢ä¼˜å…ˆçº§</strong> æ’åºï¼Œå½¢æˆä¸€æ¡é“¾ã€‚</p>
<h4 data-id="heading-9">â–¶Â <code>proceed()</code>Â çš„é€’å½’æ‰§è¡Œæœºåˆ¶</h4>
<p><code>ReflectiveMethodInvocation.proceed()</code> æ˜¯å…¸å‹çš„è´£ä»»é“¾é€’å½’å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">proceed</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Throwable {
    <span class="hljs-keyword">if</span> (currentInterceptorIndex == interceptors.length - <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// æ‰€æœ‰é€šçŸ¥æ‰§è¡Œå®Œæ¯•ï¼Œè°ƒç”¨ç›®æ ‡æ–¹æ³•</span>
        <span class="hljs-keyword">return</span> method.invoke(target, arguments);
    }

    <span class="hljs-comment">// è·å–ä¸‹ä¸€ä¸ªé€šçŸ¥</span>
    <span class="hljs-type">Object</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> interceptors[++currentInterceptorIndex];
    <span class="hljs-keyword">if</span> (interceptor <span class="hljs-keyword">instanceof</span> MethodInterceptor) {
        <span class="hljs-keyword">return</span> ((MethodInterceptor) interceptor).invoke(<span class="hljs-built_in">this</span>); <span class="hljs-comment">// â† é€’å½’</span>
    }
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>ä»¥ <code>@Before</code> + <code>@Around</code> + <code>@AfterReturning</code> ä¸ºä¾‹ï¼Œæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Around<span class="hljs-selector-class">.before</span>()
  â†’ Beforeé€šçŸ¥
    â†’ ç›®æ ‡æ–¹æ³•
  â†’ AfterReturningé€šçŸ¥
â†’ Around<span class="hljs-selector-class">.after</span>()
</code></pre>
<blockquote>
<p>âœ… <strong>ç¯ç»•é€šçŸ¥ï¼ˆ@Aroundï¼‰æ‹¥æœ‰æœ€é«˜æ§åˆ¶æƒ</strong>ï¼šå®ƒå¯ä»¥å†³å®šæ˜¯å¦è°ƒç”¨ <code>proceed()</code>ï¼Œç”šè‡³ä¿®æ”¹å‚æ•°æˆ–è¿”å›å€¼ã€‚</p>
</blockquote>
<h3 data-id="heading-10">å…­ã€ä¸ºä»€ä¹ˆâ€œè‡ªè°ƒç”¨â€ä¸è§¦å‘ AOPï¼Ÿ</h3>
<p>è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">methodB</span>(); <span class="hljs-comment">// â† è‡ªè°ƒç”¨ï¼</span>
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodB</span>(<span class="hljs-params"/>) { ... }
}
</code></pre>
<h4 data-id="heading-11">â–¶ æ ¹æœ¬åŸå› ï¼šç»•è¿‡äº†ä»£ç†å¯¹è±¡</h4>
<ul>
<li>Spring å®¹å™¨ä¸­ä¿å­˜çš„æ˜¯Â <strong>ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰</strong></li>
<li>ä½†åœ¨Â <code>methodA()</code>Â å†…éƒ¨ï¼Œ<code>this</code>Â æŒ‡å‘çš„æ˜¯Â <strong>åŸå§‹çš„ OrderService å®ä¾‹</strong>ï¼Œè€Œéä»£ç†</li>
<li>å› æ­¤Â <code>this.methodB()</code>Â ç›´æ¥è°ƒç”¨åŸå§‹æ–¹æ³•ï¼Œ<strong>ä¸ä¼šè¿›å…¥Â <code>JdkDynamicAopProxy.invoke()</code></strong></li>
</ul>
<h4 data-id="heading-12">â–¶ è§£å†³æ–¹æ¡ˆ</h4>
<ol>
<li>
<p><strong>æ³¨å…¥è‡ªèº«ï¼ˆæ¨èï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> <span class="hljs-title class_">OrderService</span> self; <span class="hljs-comment">// æ³¨å…¥çš„æ˜¯ä»£ç†å¯¹è±¡</span>

<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
  self.<span class="hljs-title function_">methodB</span>(); <span class="hljs-comment">// é€šè¿‡ä»£ç†è°ƒç”¨</span>
}
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ <code>AopContext.currentProxy()</code></strong> ï¼ˆéœ€å¼€å¯æš´éœ²ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@EnableAspectJAutoProxy</span>(exposeProxy = <span class="hljs-literal">true</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AopConfig</span> {}

<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">methodA</span>(<span class="hljs-params"/>) {
  ((<span class="hljs-title class_">OrderService</span>) <span class="hljs-title class_">AopContext</span>.<span class="hljs-title function_">currentProxy</span>()).<span class="hljs-title function_">methodB</span>();
}
</code></pre>
</li>
</ol>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šç¬¬äºŒç§æ–¹å¼è€¦åˆäº† AOP æ¡†æ¶ï¼Œä¸€èˆ¬ä¸æ¨èã€‚</p>
</blockquote>
<h3 data-id="heading-13">ä¸ƒã€æ€»ç»“ Spring AOP æ‰§è¡Œæµç¨‹</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-attr">[Spring å®¹å™¨å¯åŠ¨]</span>
       â†“
<span class="hljs-keyword">@EnableAspectJAutoProxy</span> â†’ æ³¨å†Œ AnnotationAwareAspectJAutoProxyCreator
       â†“
Bean åˆå§‹åŒ–å®Œæˆ â†’ postProcessAfterInitialization()
       â†“
wrapIfNecessary() â†’ æŸ¥æ‰¾åŒ¹é…çš„ Advisor
       â†“
å­˜åœ¨åŒ¹é…åˆ‡é¢ï¼Ÿ â†’ æ˜¯ â†’ createProxy() â†’ è¿”å›ä»£ç†å¯¹è±¡
                â†“ å¦
              è¿”å›åŸå§‹ Bean
       â†“
è°ƒç”¨ä»£ç†æ–¹æ³• â†’ JdkDynamicAopProxy.invoke() / CglibAopProxy.intercept()
       â†“
æ„å»º Interceptor é“¾ â†’ ReflectiveMethodInvocation.proceed()
       â†“
ä¾æ¬¡æ‰§è¡Œ <span class="hljs-keyword">@Before</span> â†’ <span class="hljs-keyword">@Around</span> â†’ ç›®æ ‡æ–¹æ³• â†’ <span class="hljs-keyword">@AfterReturning</span>/<span class="hljs-keyword">@AfterThrowing</span> â†’ <span class="hljs-keyword">@After</span>
</code></pre>
<h3 data-id="heading-14">å…«ã€ç»“è¯­ï¼šAOP çš„æœ¬è´¨æ˜¯â€œä»£ç† + è´£ä»»é“¾â€</h3>
<p>Spring AOP å¹¶éé­”æ³•ï¼Œè€Œæ˜¯å·§å¦™ç»“åˆäº†ï¼š</p>
<ul>
<li><strong>BeanPostProcessor</strong>ï¼šåœ¨ Bean åˆå§‹åŒ–ååŠ¨æ€åŒ…è£…</li>
<li><strong>åŠ¨æ€ä»£ç†ï¼ˆJDK/CGLIBï¼‰</strong> ï¼šæ‹¦æˆªæ–¹æ³•è°ƒç”¨</li>
<li><strong>è´£ä»»é“¾æ¨¡å¼</strong>ï¼šç»„ç»‡å¤šä¸ªé€šçŸ¥çš„æ‰§è¡Œé¡ºåº</li>
<li><strong>AspectJ è¡¨è¾¾å¼</strong>ï¼šæä¾›çµæ´»çš„åˆ‡å…¥ç‚¹åŒ¹é…èƒ½åŠ›</li>
</ul>
<p>ç†è§£äº†è¿™å¥—æœºåˆ¶ï¼Œä½ ä¸ä»…èƒ½ç”¨å¥½ AOPï¼Œè¿˜èƒ½åœ¨æ’æŸ¥â€œä¸ºä»€ä¹ˆ AOP ä¸ç”Ÿæ•ˆâ€æ—¶<strong>ç›´å‡»æ ¹æº</strong>ã€‚</p>
<p>ğŸ“Œ <strong>å…³æ³¨æˆ‘</strong>ï¼Œæ¯å¤©5åˆ†é’Ÿï¼Œå¸¦ä½ ä» Java å°ç™½å˜èº«ç¼–ç¨‹é«˜æ‰‹ï¼<br/>
ğŸ‘‰ ç‚¹èµ + å…³æ³¨ï¼Œè®©æ›´å¤šå°ä¼™ä¼´ä¸€èµ·è¿›æ­¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æ’¸ Spring ç®€æ˜“ç‰ˆ AOP]]></title>    <link>https://juejin.cn/post/7582399765449130011</link>    <guid>https://juejin.cn/post/7582399765449130011</guid>    <pubDate>2025-12-11T12:52:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765449130011" data-draft-id="7582433630472142875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æ’¸ Spring ç®€æ˜“ç‰ˆ AOP"/> <meta itemprop="keywords" content="Java,é¢è¯•,Spring Boot"/> <meta itemprop="datePublished" content="2025-12-11T12:52:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Webå¤©æ¢¯ä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/2825061103052843"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æ’¸ Spring ç®€æ˜“ç‰ˆ AOP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2825061103052843/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Webå¤©æ¢¯ä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:52:21.000Z" title="Thu Dec 11 2025 12:52:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">âœ… æ‰‹æ’¸ Spring ç®€æ˜“ç‰ˆ AOP</h2>
<h2 data-id="heading-1">ä¸€ã€æ ¸å¿ƒç›®æ ‡</h2>
<p>åœ¨å·²æœ‰ IOC å®¹å™¨åŸºç¡€ä¸Šï¼Œæ–°å¢ AOP èƒ½åŠ›ï¼ŒåŒ…å«ï¼š</p>
<ol>
<li>è‡ªå®šä¹‰æ³¨è§£Â <code>@MyAspect</code>ã€<code>@MyBefore</code>ã€<code>@MyAfter</code>ï¼›</li>
<li>åˆ‡é¢ç±»è¯†åˆ«ä¸æ³¨å†Œï¼›</li>
<li>ä½¿ç”¨ JDK åŠ¨æ€ä»£ç†å¯¹ç›®æ ‡ Bean è¿›è¡Œä»£ç†ï¼›</li>
<li>æ”¯æŒæ–¹æ³•æ‰§è¡Œå‰/åé€šçŸ¥ï¼ˆBefore / Afterï¼‰ï¼›</li>
<li>ä¸ IOC å®¹å™¨æ— ç¼é›†æˆï¼ˆä¾èµ–æ³¨å…¥ + AOP ä»£ç†ï¼‰ã€‚</li>
</ol>
<blockquote>
<p>ğŸ’¡ æ³¨æ„ï¼šä¸ºç®€åŒ–ï¼Œä»…æ”¯æŒ <strong>æ¥å£ä»£ç†ï¼ˆJDK Proxyï¼‰</strong> ï¼Œä¸æ”¯æŒ CGLIBï¼ˆæ— æ¥å£ç±»ï¼‰ã€‚</p>
</blockquote>
<h2 data-id="heading-2">äºŒã€å®Œæ•´å®ç°ä»£ç </h2>
<h3 data-id="heading-3">æ­¥éª¤ 1ï¼šå®šä¹‰ AOP æ³¨è§£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">// æ ‡è®°åˆ‡é¢ç±»</span>
<span class="hljs-meta">@Target(ElementType.TYPE)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MyAspect {
}

<span class="hljs-comment">// å‰ç½®é€šçŸ¥</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MyBefore {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>; <span class="hljs-comment">// åˆ‡ç‚¹è¡¨è¾¾å¼ï¼Œå¦‚ "com.example.service.UserServiceImpl.getUser"</span>
}

<span class="hljs-comment">// åç½®é€šçŸ¥</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MyAfter {
    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span>;
}
</code></pre>
<blockquote>
<p>ğŸ“Œ åˆ‡ç‚¹è¡¨è¾¾å¼ç®€åŒ–ä¸º <strong>å…¨é™å®šæ–¹æ³•å</strong>ï¼ˆå¦‚ <code>org.example.service.UserServiceImpl.getUser</code>ï¼‰ï¼Œä¸ä½¿ç”¨ AspectJ è¡¨è¾¾å¼ã€‚</p>
</blockquote>
<h3 data-id="heading-4">æ­¥éª¤ 2ï¼šæ‰©å±• MyApplicationContextï¼Œæ”¯æŒ AOP</h3>
<blockquote>
<p>åœ¨åŸæœ‰ IOC å®¹å™¨ä¸­å¢åŠ  AOP å¤„ç†é€»è¾‘ã€‚</p>
</blockquote>
<pre><code class="hljs language-scss" lang="scss">import java<span class="hljs-selector-class">.lang</span><span class="hljs-selector-class">.reflect</span>.*;
import java<span class="hljs-selector-class">.util</span>.*;

<span class="hljs-comment">// æ–°å¢å¯¼å…¥</span>
import java<span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.concurrent</span><span class="hljs-selector-class">.ConcurrentHashMap</span>;

public class MyApplicationContext {
    private Map&lt;String, MyBeanDefinition&gt; beanDefinitionMap = new HashMap&lt;&gt;();
    private Map&lt;String, <span class="hljs-selector-tag">Object</span>&gt; singletonObjects = new ConcurrentHashMap&lt;&gt;(); <span class="hljs-comment">// æ”¹ä¸ºçº¿ç¨‹å®‰å…¨</span>
    private Class&lt;?&gt; configClass;

    <span class="hljs-comment">// æ–°å¢ï¼šå­˜å‚¨åˆ‡é¢ä¿¡æ¯ { åˆ‡ç‚¹æ–¹æ³•å…¨å -&gt; åˆ‡é¢å¯¹è±¡ }</span>
    private Map&lt;String, <span class="hljs-selector-tag">Object</span>&gt; aspectBeans = new HashMap&lt;&gt;();
    <span class="hljs-comment">// å­˜å‚¨ Before æ–¹æ³•</span>
    private Map&lt;String, Method&gt; beforeAdviceMethods = new HashMap&lt;&gt;();
    <span class="hljs-comment">// å­˜å‚¨ After æ–¹æ³•</span>
    private Map&lt;String, Method&gt; afterAdviceMethods = new HashMap&lt;&gt;();

    public <span class="hljs-built_in">MyApplicationContext</span>(Class&lt;?&gt; configClass) {
        this<span class="hljs-selector-class">.configClass</span> = configClass;
        <span class="hljs-built_in">scanAndRegisterBeanDefinitions</span>();
        <span class="hljs-built_in">registerAspects</span>();      <span class="hljs-comment">// æ–°å¢ï¼šæ³¨å†Œåˆ‡é¢</span>
        <span class="hljs-built_in">instantiateSingletons</span>();
    }

    <span class="hljs-comment">// ====== åŸæœ‰æ–¹æ³•ä¿æŒä¸å˜ï¼ˆscanAndRegisterBeanDefinitions, recursiveScan ç­‰ï¼‰======</span>

    <span class="hljs-comment">// æ–°å¢ï¼šæ‰«æå¹¶æ³¨å†Œæ‰€æœ‰ @MyAspect åˆ‡é¢</span>
    private void <span class="hljs-built_in">registerAspects</span>() {
        for (Map.Entry&lt;String, MyBeanDefinition&gt; entry : beanDefinitionMap.entrySet()) {
            Class&lt;?&gt; clazz = entry<span class="hljs-selector-class">.getValue</span>()<span class="hljs-selector-class">.getBeanClass</span>();
            if (clazz.isAnnotationPresent(MyAspect.class)) {
                String beanName = entry<span class="hljs-selector-class">.getKey</span>();
                <span class="hljs-selector-tag">Object</span> aspectBean = <span class="hljs-built_in">createBean</span>(beanName, entry.getValue()); <span class="hljs-comment">// å…ˆå®ä¾‹åŒ–åˆ‡é¢ï¼ˆæ— ä¾èµ–æ³¨å…¥ï¼‰</span>
                aspectBeans<span class="hljs-selector-class">.put</span>(beanName, aspectBean);

                <span class="hljs-comment">// è§£æåˆ‡é¢ä¸­çš„ @MyBefore / @MyAfter</span>
                for (Method method : clazz.getDeclaredMethods()) {
                    if (method.isAnnotationPresent(MyBefore.class)) {
                        MyBefore before = method<span class="hljs-selector-class">.getAnnotation</span>(MyBefore.class);
                        String pointcut = before<span class="hljs-selector-class">.value</span>();
                        beforeAdviceMethods<span class="hljs-selector-class">.put</span>(pointcut, method);
                    }
                    if (method.isAnnotationPresent(MyAfter.class)) {
                        MyAfter after = method<span class="hljs-selector-class">.getAnnotation</span>(MyAfter.class);
                        String pointcut = after<span class="hljs-selector-class">.value</span>();
                        afterAdviceMethods<span class="hljs-selector-class">.put</span>(pointcut, method);
                    }
                }
            }
        }
    }

    <span class="hljs-comment">// é‡å†™ createBeanï¼šå¦‚æœç›®æ ‡ Bean æœ‰åˆ‡é¢ï¼Œåˆ™è¿”å›ä»£ç†å¯¹è±¡</span>
    private <span class="hljs-selector-tag">Object</span> <span class="hljs-built_in">createBean</span>(String beanName, MyBeanDefinition beanDefinition) {
        Class&lt;?&gt; beanClass = beanDefinition<span class="hljs-selector-class">.getBeanClass</span>();
        try {
            <span class="hljs-selector-tag">Object</span> beanInstance = beanClass<span class="hljs-selector-class">.getDeclaredConstructor</span>()<span class="hljs-selector-class">.newInstance</span>();
            <span class="hljs-built_in">populateBean</span>(beanInstance); <span class="hljs-comment">// ä¾èµ–æ³¨å…¥</span>

            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦ AOP ä»£ç†</span>
            if (needsProxy(beanClass)) {
                return <span class="hljs-built_in">createProxy</span>(beanInstance, beanClass);
            }
            return beanInstance;
        } catch (Exception e) {
            throw new <span class="hljs-built_in">RuntimeException</span>("åˆ›å»º Bean å¤±è´¥ï¼š" + beanName, e);
        }
    }

    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦ä»£ç†ï¼šåªè¦å­˜åœ¨åŒ¹é…çš„åˆ‡ç‚¹å°±ä»£ç†</span>
    private boolean <span class="hljs-built_in">needsProxy</span>(Class&lt;?&gt; targetClass) {
        for (String pointcut : beforeAdviceMethods.keySet()) {
            if (pointcut.startsWith(targetClass.getName())) {
                return true;
            }
        }
        for (String pointcut : afterAdviceMethods.keySet()) {
            if (pointcut.startsWith(targetClass.getName())) {
                return true;
            }
        }
        return false;
    }

    <span class="hljs-comment">// åˆ›å»º JDK åŠ¨æ€ä»£ç†</span>
    private <span class="hljs-selector-tag">Object</span> <span class="hljs-built_in">createProxy</span>(Object target, Class&lt;?&gt; targetClass) {
        return Proxy<span class="hljs-selector-class">.newProxyInstance</span>(
            targetClass.getClassLoader(),
            targetClass<span class="hljs-selector-class">.getInterfaces</span>(), <span class="hljs-comment">// å¿…é¡»æœ‰æ¥å£ï¼</span>
            new <span class="hljs-built_in">MyInvocationHandler</span>(target, targetClass)
        );
    }

    <span class="hljs-comment">// è‡ªå®šä¹‰ InvocationHandler</span>
    private class MyInvocationHandler implements InvocationHandler {
        private <span class="hljs-selector-tag">Object</span> target;
        private Class&lt;?&gt; targetClass;

        public <span class="hljs-built_in">MyInvocationHandler</span>(Object target, Class&lt;?&gt; targetClass) {
            this<span class="hljs-selector-class">.target</span> = target;
            this<span class="hljs-selector-class">.targetClass</span> = targetClass;
        }

        <span class="hljs-keyword">@Override</span>
        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
            String fullMethodName = targetClass<span class="hljs-selector-class">.getName</span>() + "." + method<span class="hljs-selector-class">.getName</span>();

            <span class="hljs-comment">// æ‰§è¡Œ @MyBefore</span>
            if (beforeAdviceMethods.containsKey(fullMethodName)) {
                Method beforeMethod = beforeAdviceMethods<span class="hljs-selector-class">.get</span>(fullMethodName);
                String aspectBeanName = <span class="hljs-built_in">findAspectBeanForMethod</span>(beforeMethod);
                <span class="hljs-selector-tag">Object</span> aspect = aspectBeans<span class="hljs-selector-class">.get</span>(aspectBeanName);
                beforeMethod<span class="hljs-selector-class">.setAccessible</span>(true);
                beforeMethod<span class="hljs-selector-class">.invoke</span>(aspect);
            }

            <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
            <span class="hljs-selector-tag">Object</span> result = method<span class="hljs-selector-class">.invoke</span>(target, args);

            <span class="hljs-comment">// æ‰§è¡Œ @MyAfter</span>
            if (afterAdviceMethods.containsKey(fullMethodName)) {
                Method afterMethod = afterAdviceMethods<span class="hljs-selector-class">.get</span>(fullMethodName);
                String aspectBeanName = <span class="hljs-built_in">findAspectBeanForMethod</span>(afterMethod);
                <span class="hljs-selector-tag">Object</span> aspect = aspectBeans<span class="hljs-selector-class">.get</span>(aspectBeanName);
                afterMethod<span class="hljs-selector-class">.setAccessible</span>(true);
                afterMethod<span class="hljs-selector-class">.invoke</span>(aspect);
            }

            return result;
        }

        <span class="hljs-comment">// è¾…åŠ©ï¼šæ ¹æ®é€šçŸ¥æ–¹æ³•åæ¨åˆ‡é¢ Bean åç§°</span>
        private String <span class="hljs-built_in">findAspectBeanForMethod</span>(Method adviceMethod) {
            Class&lt;?&gt; aspectClass = adviceMethod<span class="hljs-selector-class">.getDeclaringClass</span>();
            for (Map.Entry&lt;String, Object&gt; entry : aspectBeans.entrySet()) {
                if (entry.getValue()<span class="hljs-selector-class">.getClass</span>() == aspectClass) {
                    return entry<span class="hljs-selector-class">.getKey</span>();
                }
            }
            throw new <span class="hljs-built_in">RuntimeException</span>("æœªæ‰¾åˆ°åˆ‡é¢å¯¹åº”çš„ Beanï¼š" + aspectClass.getName());
        }
    }

    <span class="hljs-comment">// ====== åŸæœ‰æ–¹æ³•ï¼špopulateBean, getBean, å·¥å…·æ–¹æ³•ç­‰ä¿æŒä¸å˜ ======</span>
    <span class="hljs-comment">// ï¼ˆæ­¤å¤„çœç•¥ï¼Œä¸ä½ æä¾›çš„ä»£ç ä¸€è‡´ï¼‰</span>
}
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼š<strong>ç›®æ ‡ç±»å¿…é¡»å®ç°æ¥å£</strong>ï¼Œå¦åˆ™ <code>Proxy.newProxyInstance</code> ä¼šå¤±è´¥ã€‚</p>
</blockquote>
<h3 data-id="heading-5">æ­¥éª¤ 3ï¼šç¼–å†™æµ‹è¯•ç”¨ä¾‹</h3>
<h5 data-id="heading-6">1. å®šä¹‰æ¥å£å’Œå®ç°ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span>;
}

<span class="hljs-meta">@MyComponent("userService")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@MyAutowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getUser</span><span class="hljs-params">()</span> {
        userDao.queryUser();
        System.out.println(<span class="hljs-string">"ä¸šåŠ¡é€»è¾‘ï¼šè·å–ç”¨æˆ·"</span>);
    }
}
</code></pre>
<h5 data-id="heading-7">2. ç¼–å†™åˆ‡é¢ç±»</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@MyAspect</span>
<span class="hljs-meta">@MyComponent(<span class="hljs-string">"logAspect"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogAspect</span> {
    <span class="hljs-meta">@MyBefore(<span class="hljs-string">"com.example.spring6.aop.demo.UserServiceImpl.getUser"</span>)</span>
    <span class="hljs-keyword">public</span> void beforeGetUser() {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ã€AOP å‰ç½®é€šçŸ¥ã€‘å‡†å¤‡è°ƒç”¨ getUser æ–¹æ³•"</span>);
    }

    <span class="hljs-meta">@MyAfter(<span class="hljs-string">"com.example.spring6.aop.demo.UserServiceImpl.getUser"</span>)</span>
    <span class="hljs-keyword">public</span> void afterGetUser() {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ã€AOP åç½®é€šçŸ¥ã€‘getUser æ–¹æ³•æ‰§è¡Œå®Œæ¯•"</span>);
    }
}
</code></pre>
<h5 data-id="heading-8">3. é…ç½®ç±»ï¼ˆåŒ IOCï¼‰</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@MyConfiguration(scanPackage = <span class="hljs-string">"org.example.spring6.aop"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppConfig</span> {
}
</code></pre>
<h5 data-id="heading-9">4. æµ‹è¯•ä¸»ç±»</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAopTest</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        MyApplicationContext context = <span class="hljs-keyword">new</span> <span class="hljs-built_in">MyApplicationContext</span>(AppConfig.<span class="hljs-keyword">class</span>);
        UserService userService = (UserService) context.<span class="hljs-built_in">getBean</span>(<span class="hljs-string">"userService"</span>);
        userService.<span class="hljs-built_in">getUser</span>();
    }
}
</code></pre>
<h4 data-id="heading-10">è¿è¡Œç»“æœ</h4>
<pre><code class="hljs">ã€AOP å‰ç½®é€šçŸ¥ã€‘å‡†å¤‡è°ƒç”¨ getUser æ–¹æ³•
Spring 6.x ç®€æ˜“ IOCï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
ä¸šåŠ¡é€»è¾‘ï¼šè·å–ç”¨æˆ·
ã€AOP åç½®é€šçŸ¥ã€‘getUser æ–¹æ³•æ‰§è¡Œå®Œæ¯•
</code></pre>
<p>âœ… æˆåŠŸå®ç° AOP é€šçŸ¥ï¼</p>
<h2 data-id="heading-11">ä¸‰ã€ç®€æ˜“ AOP vs Spring 6.x å¯¹æ¯”</h2>






























<table><thead><tr><th>ç®€æ˜“ AOP ç»„ä»¶</th><th>Spring 6.x åŸç”Ÿç»„ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>@MyAspect</code>Â /Â <code>@MyBefore</code></td><td><code>@Aspect</code>Â /Â <code>@Before</code></td><td>åˆ‡é¢ä¸é€šçŸ¥æ³¨è§£</td></tr><tr><td><code>MyInvocationHandler</code></td><td><code>JdkDynamicAopProxy</code></td><td>JDK åŠ¨æ€ä»£ç†å¤„ç†å™¨</td></tr><tr><td><code>aspectBeans</code>Â +Â <code>adviceMethods</code></td><td><code>AdvisorRegistry</code>Â +Â <code>PointcutAdvisor</code></td><td>åˆ‡é¢æ³¨å†Œä¸åŒ¹é…</td></tr><tr><td>æ‰‹åŠ¨è§£æåˆ‡ç‚¹</td><td><code>PointcutExpression</code>Â +Â <code>AspectJExpressionPointcut</code></td><td>Spring ä½¿ç”¨ AspectJ è¡¨è¾¾å¼</td></tr></tbody></table>
<p>ğŸ“Œ <strong>å…³æ³¨æˆ‘</strong>ï¼Œæ¯å¤©5åˆ†é’Ÿï¼Œå¸¦ä½ ä» Java å°ç™½å˜èº«ç¼–ç¨‹é«˜æ‰‹ï¼<br/>
ğŸ‘‰ ç‚¹èµ + å…³æ³¨+ç§ä¿¡ â€AOPæºç â€œè·å–æ‰‹æ’¸æºç ï¼Œè®©æ›´å¤šå°ä¼™ä¼´ä¸€èµ·è¿›æ­¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[linux ä»dockerå®˜ç½‘æºç å®‰è£…docker]]></title>    <link>https://juejin.cn/post/7582422818311422003</link>    <guid>https://juejin.cn/post/7582422818311422003</guid>    <pubDate>2025-12-11T13:03:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582422818311422003" data-draft-id="7582433630472224795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="linux ä»dockerå®˜ç½‘æºç å®‰è£…docker"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T13:03:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯»ä¹¦éƒéœ"/> <meta itemprop="url" content="https://juejin.cn/user/1113171434159293"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            linux ä»dockerå®˜ç½‘æºç å®‰è£…docker
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1113171434159293/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯»ä¹¦éƒéœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:03:53.000Z" title="Thu Dec 11 2025 13:03:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdownload.docker.com%2Flinux%2Fstatic%2Fstable%2Fx86_64%2F" target="_blank" title="https://download.docker.com/linux/static/stable/x86_64/" ref="nofollow noopener noreferrer">Index of linux/static/stable/x86_64/</a></p>
<p>å»å®˜ç½‘ä¸Šä¸‹è½½äº† docker-29.1.2.tgz ç„¶åå®‰è£…</p>
<hr/>
<h2 data-id="heading-0">âœ… 1. è§£å‹</h2>
<pre><code class="hljs">tar -xzf docker-29.1.2.tgz
</code></pre>
<p>è§£å‹åä¼šå¾—åˆ°ä¸€ä¸ª <code>docker/</code> ç›®å½•ï¼Œé‡Œé¢æ˜¯è¿™äº›æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">docker
dockerd
containerd
containerd-shim
containerd-shim-runc-v2
runc
docker-<span class="hljs-keyword">init</span>
docker-proxy
</code></pre>
<hr/>
<h2 data-id="heading-1">âœ… 2. æŠŠäºŒè¿›åˆ¶æ–‡ä»¶ç§»åˆ°ç³»ç»Ÿè·¯å¾„</h2>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">cp</span> docker/* /usr/bin/
</code></pre>
<p>ä½ ä¹Ÿå¯ä»¥æ”¾åˆ° <code>/usr/local/bin</code>ï¼Œä½†ä¸€èˆ¬ç³»ç»Ÿè½¯ä»¶æ”¾ <code>/usr/bin</code> æ›´æ— è„‘ã€‚</p>
<hr/>
<h2 data-id="heading-2">âœ… 3. åˆ›å»º systemd æœåŠ¡æ–‡ä»¶ï¼ˆå¿…é¡»ï¼‰</h2>
<p>åˆ›å»ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/systemd/system/docker.service
</code></pre>
<p>å¡«å…¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=Docker Service
<span class="hljs-attr">After</span>=network-<span class="hljs-literal">on</span>line.target firewalld.service
<span class="hljs-attr">Wants</span>=network-<span class="hljs-literal">on</span>line.target

<span class="hljs-section">[Service]</span>
<span class="hljs-attr">Type</span>=notify
<span class="hljs-attr">ExecStart</span>=/usr/bin/dockerd
<span class="hljs-attr">ExecReload</span>=/bin/kill -s HUP <span class="hljs-variable">$MAINPID</span>
<span class="hljs-attr">LimitNOFILE</span>=infinity
<span class="hljs-attr">LimitNPROC</span>=infinity
<span class="hljs-attr">LimitCORE</span>=infinity
<span class="hljs-attr">TimeoutStartSec</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">Delegate</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">KillMode</span>=process
<span class="hljs-attr">Restart</span>=<span class="hljs-literal">on</span>-failure
<span class="hljs-attr">StartLimitBurst</span>=<span class="hljs-number">3</span>
<span class="hljs-attr">StartLimitInterval</span>=<span class="hljs-number">60</span>s

<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=multi-user.target
</code></pre>
<p>ä¿å­˜é€€å‡ºã€‚</p>
<hr/>
<h2 data-id="heading-3">âœ… 4. é‡æ–°åŠ è½½ systemd</h2>
<pre><code class="hljs">sudo systemctl daemon-reload
</code></pre>
<hr/>
<h2 data-id="heading-4">âœ… 5. å¯åŠ¨ Docker</h2>
<pre><code class="hljs language-sql" lang="sql">sudo systemctl <span class="hljs-keyword">start</span> docker
</code></pre>
<p>å¼€æœºè‡ªå¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl <span class="hljs-built_in">enable</span> docker
</code></pre>
<hr/>
<h2 data-id="heading-5">âœ… 6. éªŒè¯å®‰è£…</h2>
<pre><code class="hljs">docker version
docker info
</code></pre>
<p>å¦‚æœä½ èƒ½çœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯ï¼Œå°±æˆåŠŸäº†ã€‚</p>
<hr/>
<hr/>
<h2 data-id="heading-6">âœ… 7. é…ç½®é•œåƒ</h2>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//hub.1panel.dev/</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhub.1panel.dev%2F" target="_blank" title="https://hub.1panel.dev/" ref="nofollow noopener noreferrer">hub.1panel.dev/</a></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ“° å‰ç«¯èµ„è®¯ - 2025å¹´12æœˆ10æ—¥]]></title>    <link>https://juejin.cn/post/7582438310104416302</link>    <guid>https://juejin.cn/post/7582438310104416302</guid>    <pubDate>2025-12-12T01:58:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310104416302" data-draft-id="7582480048958324763" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ“° å‰ç«¯èµ„è®¯ - 2025å¹´12æœˆ10æ—¥"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T01:58:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ZED"/> <meta itemprop="url" content="https://juejin.cn/user/2999123452372525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ“° å‰ç«¯èµ„è®¯ - 2025å¹´12æœˆ10æ—¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2999123452372525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ZED
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T01:58:37.000Z" title="Fri Dec 12 2025 01:58:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ğŸ”’ å®‰å…¨è­¦å‘Šï¼ˆé‡è¦ï¼‰</h3>
<p><strong>React Server Components ä¸¥é‡å®‰å…¨æ¼æ´ï¼šReact2Shellï¼ˆCVE-2025-55182ï¼‰</strong></p>
<ul>
<li>React å›¢é˜ŸæŠ«éœ²äº†å½±å“ React Server Componentsï¼ˆRSCï¼‰çš„ä¸¥é‡å®‰å…¨æ¼æ´ï¼Œè¢«ç¤¾åŒºå‘½åä¸º â€œReact2Shellâ€ï¼Œéƒ¨åˆ† Next.js åº”ç”¨å’Œä½¿ç”¨ RSC çš„æ¡†æ¶éƒ½å¯èƒ½å—å½±å“ã€‚</li>
<li>Vercel æä¾›äº†é’ˆå¯¹ Next.js ç”¨æˆ·çš„æ’æŸ¥ä¸å‡çº§æŒ‡å¼•ï¼ŒCloudflare åœ¨å°è¯•æä¾›è‡ªåŠ¨é˜²æŠ¤æ—¶ä¸€åº¦å¼•å‘çº¦ 25 åˆ†é’Ÿçš„æœåŠ¡ä¸­æ–­ï¼Œè¯´æ˜äº‘ç«¯é˜²æŠ¤ä¸åº”ç”¨å±‚å®‰å…¨ä¹‹é—´çš„å¤æ‚äº’åŠ¨ã€‚</li>
<li>å»ºè®®ï¼šå°½å¿«æŸ¥çœ‹æ‰€ç”¨æ¡†æ¶çš„å®‰å…¨å…¬å‘Šå’Œå‡çº§æŒ‡å—ï¼Œè¯„ä¼°æ˜¯å¦å¯ç”¨ RSCã€æ˜¯å¦æš´éœ²æ½œåœ¨æ”»å‡»é¢ï¼Œå¹¶åœ¨å‡çº§å‰ååšå¥½ç›‘æ§ä¸å›æ»šç­–ç•¥ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Freact2shell.com%2F" target="_blank" title="https://react2shell.com/" ref="nofollow noopener noreferrer">React2Shell å®˜æ–¹ç«™ç‚¹</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Fblog%2F2025%2F12%2F11%2Fdenial-of-service-and-source-code-exposure-in-react-server-components" target="_blank" title="https://react.dev/blog/2025/12/11/denial-of-service-and-source-code-exposure-in-react-server-components" ref="nofollow noopener noreferrer">React å›¢é˜Ÿå®‰å…¨å…¬å‘Š</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fvercel.com%2Fkb%2Fbulletin%2Freact2shell" target="_blank" title="https://vercel.com/kb/bulletin/react2shell" ref="nofollow noopener noreferrer">Vercel é’ˆå¯¹ Next.js çš„å®‰å…¨é€šå‘Š</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fcybernews.com%2Fnews%2Fcloudflare-outage-cause-react-security-update%2F" target="_blank" title="https://cybernews.com/news/cloudflare-outage-cause-react-security-update/" ref="nofollow noopener noreferrer">Cloudflare ç›¸å…³äº‹ä»¶æŠ¥é“</a></li>
</ul>
<p><strong>Node.js è®¡åˆ’äº 12 æœˆ 15 æ—¥å‘å¸ƒå¤šæ¡å®‰å…¨æ›´æ–°</strong></p>
<ul>
<li>Node.js å®˜æ–¹é¢„è®¡åœ¨ 2025 å¹´ 12 æœˆ 15 æ—¥å·¦å³å¯¹ 25.xã€24.xã€22.x å’Œ 20.x å¤šä¸ªç‰ˆæœ¬åˆ†æ”¯å‘å¸ƒå®‰å…¨æ›´æ–°ï¼Œæ¶‰åŠ 5 ä¸ªæ¼æ´ï¼Œå…¶ä¸­ 3 ä¸ªä¸ºé«˜å±çº§åˆ«ã€‚</li>
<li>è¿™äº›æ›´æ–°ä¼šå½±å“å½“å‰åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¹¿æ³›ä½¿ç”¨çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œå»ºè®®æå‰å…³æ³¨å‘å¸ƒè¯´æ˜ã€è§„åˆ’å‡çº§çª—å£å¹¶ç¡®ä¿ CI/CD æµç¨‹è¦†ç›–å…³é”®è·¯å¾„å›å½’æµ‹è¯•ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2Fblog%2Fvulnerability%2Fdecember-2025-security-releases" target="_blank" title="https://nodejs.org/en/blog/vulnerability/december-2025-security-releases" ref="nofollow noopener noreferrer">December 2025 Security Releases é¢„å‘Š</a></li>
</ul>
<p><strong>npm ä¾›åº”é“¾ä¸å‘å¸ƒå®‰å…¨ï¼šToken ç®¡ç†ä¸å·¥ä½œæµåŠ å›º</strong></p>
<ul>
<li>GitHub å®£å¸ƒæ’¤é”€æ‰€æœ‰æ—§ç‰ˆ npm classic tokensï¼Œå¹¶å¼•å…¥ 2 å°æ—¶ä¼šè¯ token ä¸ç²’åº¦æ›´ç»†çš„è®¿é—® tokenï¼Œä»¥é™ä½é•¿æœŸæ³„éœ²é£é™©ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Ftr%2Fblog%2F2025%2F12%2F05%2Fnewsroom-npm-supply-chain-security" target="_blank" title="https://pnpm.io/tr/blog/2025/12/05/newsroom-npm-supply-chain-security" ref="nofollow noopener noreferrer">Seattle Times</a> å·¥ç¨‹å›¢é˜Ÿåˆ†äº«äº†å¦‚ä½•å€ŸåŠ© pnpm çš„å®¢æˆ·ç«¯å®‰å…¨æ§åˆ¶æ¥å¢å¼ºä¾èµ–ä¾›åº”é“¾é˜²æŠ¤ã€‚</li>
<li>ç¤¾åŒºæ–‡ç« ã€ŠNo More Tokensã€‹æå€¡å½»åº•æ¢³ç† npm å‘å¸ƒé“¾è·¯ï¼šé™åˆ¶è°èƒ½å‘åŒ…ã€åœ¨å“ªé‡Œç™»å½•ã€å¦‚ä½•å‡å°‘æŒä¹… token ä½¿ç”¨ï¼Œå¹¶ç»™å‡ºäº†å¤šç§é”å®šå‘å¸ƒå·¥ä½œæµçš„å®è·µå»ºè®®ï¼›Liran Tal è¿›ä¸€æ­¥è¡¥å……äº†ä»ç»„ç»‡ç»´åº¦åˆ¶å®š npm å®‰å…¨ç­–ç•¥çš„æœ€ä½³å®è·µã€‚</li>
<li>å»ºè®®ï¼šå®¡è®¡ç»„ç»‡ä¸­æ‰€æœ‰ npm token å’Œå‘å¸ƒè„šæœ¬ï¼Œè½¬å‘çŸ­æ—¶/ç²’åº¦è®¿é—® tokenï¼Œé™åˆ¶å‘åŒ…æœºå™¨å’Œè´¦å·ï¼Œå¿…è¦æ—¶å¼•å…¥ç‹¬ç«‹å‘å¸ƒæœåŠ¡è´¦æˆ·å’ŒåŒäººå®¡æ‰¹æµç¨‹ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.blog%2Fchangelog%2F2025-12-09-npm-classic-tokens-revoked-session-based-auth-and-cli-token-management-now-available%2F" target="_blank" title="https://github.blog/changelog/2025-12-09-npm-classic-tokens-revoked-session-based-auth-and-cli-token-management-now-available/" ref="nofollow noopener noreferrer">GitHub å…³äº npm token çš„æ›´æ–°</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Ftr%2Fblog%2F2025%2F12%2F05%2Fnewsroom-npm-supply-chain-security" target="_blank" title="https://pnpm.io/tr/blog/2025/12/05/newsroom-npm-supply-chain-security" ref="nofollow noopener noreferrer">æ–°é—»ç¼–è¾‘éƒ¨å¦‚ä½•é˜²å¾¡ npm ä¾›åº”é“¾æ”»å‡»</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zachleat.com%2Fweb%2Fnpm-security%2F" target="_blank" title="https://www.zachleat.com/web/npm-security/" ref="nofollow noopener noreferrer">No More Tokens: Locking Down npm Publishing Workflows</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flirantal%2Fnpm-security-best-practices" target="_blank" title="https://github.com/lirantal/npm-security-best-practices" ref="nofollow noopener noreferrer">npm å®‰å…¨æœ€ä½³å®è·µï¼ˆLiran Talï¼‰</a></li>
</ul>
<h3 data-id="heading-1">ğŸ‰ é‡è¦é‡Œç¨‹ç¢‘</h3>
<p><strong>JavaScript è¯ç”Ÿ 30 å‘¨å¹´</strong></p>
<ul>
<li>1995 å¹´ 12 æœˆ 4 æ—¥ï¼ŒNetscape ä¸ Sun åœ¨æ–°é—»ç¨¿ä¸­æ­£å¼å®£å¸ƒ â€œJavaScriptâ€ï¼Œè‡³ä»Šå·² 30 å¹´ï¼Œè¿™é—¨æœ€åˆåœ¨ 10 å¤©å†…å®ŒæˆåŸå‹çš„è„šæœ¬è¯­è¨€ï¼Œå·²ç»æˆä¸º Web å¹³å°å’Œå¤§é‡åº”ç”¨ç”Ÿæ€çš„æ ¸å¿ƒã€‚</li>
<li>æœ¬æœŸå›é¡¾äº†å½“å¹´æ–°é—»ç¨¿åŠ JavaScript ä» Mochaã€LiveScript åˆ°ä»Šå¤©çš„æ¼”è¿›ï¼Œä¹Ÿæåˆ°å›´ç»• JavaScript å•†æ ‡çš„é•¿æœŸçº çº·ä¾ç„¶æœªå®Œå…¨è§£å†³ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwinbuzzer.com%2F2025%2F12%2F04%2Fjavascript-turns-30-why-the-worlds-most-popular-language-faces-a-trademark-revolt-xcxwbn%2F" target="_blank" title="https://winbuzzer.com/2025/12/04/javascript-turns-30-why-the-worlds-most-popular-language-faces-a-trademark-revolt-xcxwbn/" ref="nofollow noopener noreferrer">JavaScript 30 å‘¨å¹´å›é¡¾</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwirfs-brock.com%2Fallen%2Fjshopl.pdf" target="_blank" title="https://wirfs-brock.com/allen/jshopl.pdf" ref="nofollow noopener noreferrer">1995 å¹´å®˜æ–¹æ–°é—»ç¨¿ PDF</a></li>
</ul>
<p><strong>Letâ€™s Encrypt åå‘¨å¹´ä¸ HTTPS æ™®åŠ</strong></p>
<ul>
<li>Letâ€™s Encrypt å·²ç»è¿è¡Œåå¹´ï¼Œå…è´¹è¯ä¹¦æœåŠ¡ä»æ—©æœŸæ¨å¹¿ HTTPS åˆ°å¦‚ä»Šå³å°†è¦†ç›–è¿‘ 10 äº¿ç«™ç‚¹ï¼Œå¯¹ Web å®‰å…¨å’Œéšç§èµ·åˆ°äº†åŸºç¡€è®¾æ–½çº§çš„æ¨åŠ¨ä½œç”¨ã€‚</li>
<li>æ–‡ç« é€šè¿‡æ•°æ®å¯¹æ¯”å±•ç¤ºäº†åå¹´æ¥ HTTPS è¦†ç›–åº¦çš„æ˜¾è‘—æå‡ï¼Œä»¥åŠè‡ªåŠ¨åŒ–è¯ä¹¦ç»­æœŸå¯¹å¼€å‘è€…ä¸è¿è¥æ•ˆç‡çš„æ”¹å–„ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fletsencrypt.org%2F2025%2F12%2F09%2F10-years.html" target="_blank" title="https://letsencrypt.org/2025/12/09/10-years.html" ref="nofollow noopener noreferrer">Ten Years of Letâ€™s Encrypt</a></li>
</ul>
<p><strong>AV1 è§†é¢‘ç¼–ç è·å¾—è‰¾ç¾å¥–</strong></p>
<ul>
<li>å¼€æºè§†é¢‘ç¼–è§£ç æ ‡å‡† AV1 å› å…¶å¯¹å…¨çƒåœ¨çº¿è§†é¢‘åˆ†å‘çš„å½±å“ï¼Œè·å¾—æŠ€æœ¯ç±»è‰¾ç¾å¥–ï¼Œä½“ç°äº†å¼€æ”¾æ ‡å‡†åœ¨ç”»è´¨ä¸å¸¦å®½æ•ˆç‡ä¸Šçš„é•¿æœŸä»·å€¼ã€‚</li>
<li>å¯¹å‰ç«¯ä¸æµåª’ä½“å¹³å°è€Œè¨€ï¼ŒAV1 çš„æ™®åŠæ„å‘³ç€åœ¨åŒç­‰å¸¦å®½ä¸‹èƒ½æä¾›æ›´é«˜è´¨é‡çš„æ’­æ”¾ä½“éªŒï¼ŒåŒæ—¶ä¹Ÿæ¨åŠ¨æµè§ˆå™¨ä¸ç¡¬ä»¶è§£ç èƒ½åŠ›æŒç»­æ¼”è¿›ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.businesswire.com%2Fnews%2Fhome%2F20250930500395%2Fen%2FAlliance-for-Open-Media-Wins-Prestigious-Technology-and-Engineering-Emmy-Award-for-the-AV1-Video-Codec" target="_blank" title="https://www.businesswire.com/news/home/20250930500395/en/Alliance-for-Open-Media-Wins-Prestigious-Technology-and-Engineering-Emmy-Award-for-the-AV1-Video-Codec" ref="nofollow noopener noreferrer">Alliance for Open Media Wins Emmy for AV1</a></li>
</ul>
<h3 data-id="heading-2">ğŸ“¦ ç‰ˆæœ¬æ›´æ–°</h3>
<p><strong>React 19.2ï¼šè¿›ä¸€æ­¥ä¼˜åŒ– INP å“åº”æ€§èƒ½</strong></p>
<ul>
<li>æ–‡ç« é‡ç‚¹è®¨è®ºäº† React 19.2 åœ¨ Interaction to Next Paintï¼ˆINPï¼‰æŒ‡æ ‡ä¸Šçš„æ”¹è¿›ï¼ŒåŒ…æ‹¬å¯¹äº¤äº’è°ƒåº¦ã€æ›´æ–°ä¸­æ–­ä¸è°ƒå’Œç­–ç•¥çš„ä¼˜åŒ–ï¼Œä»¥åŠç›¸å…³è°ƒè¯•å·¥å…·çš„å¢å¼ºã€‚</li>
<li>å¯¹å¤§è§„æ¨¡äº¤äº’é¡µé¢ï¼Œåˆç†åˆ©ç”¨è¿™äº›æ–°æœºåˆ¶å¯ä»¥é™ä½é•¿ä»»åŠ¡ä¸å¡é¡¿æ¦‚ç‡ï¼Œæ”¹å–„ç”¨æˆ·æ„ŸçŸ¥çš„å“åº”é€Ÿåº¦ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcalendar.perfplanet.com%2F2025%2Freact-19-2-further-advances-inp-optimization%2F" target="_blank" title="https://calendar.perfplanet.com/2025/react-19-2-further-advances-inp-optimization/" ref="nofollow noopener noreferrer">React 19.2 Further Advances INP Optimization</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Farticles%2Finp" target="_blank" title="https://web.dev/articles/inp" ref="nofollow noopener noreferrer">INP æŒ‡æ ‡ä»‹ç»</a></li>
</ul>
<p><strong>å‰ç«¯ä¸å…¨æ ˆå·¥å…·é“¾é‡è¦å‘å¸ƒ</strong></p>
<ul>
<li>
<p>Vite 8 Beta</p>
<ul>
<li>ç‰ˆæœ¬å·ï¼šv8.0.0-beta</li>
<li>æ›´æ–°è¯´æ˜ï¼šæ„å»ºç®¡çº¿è¿ç§»è‡³ Rolldownï¼Œæ˜¾è‘—åŠ å¿«ç”Ÿäº§æ„å»ºé€Ÿåº¦ï¼Œå¹¶ä¸ºåç»­èƒ½åŠ›æ‰©å±•æ‰“ä¸‹åŸºç¡€ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvite.dev%2Fblog%2Fannouncing-vite8-beta" target="_blank" title="https://vite.dev/blog/announcing-vite8-beta" ref="nofollow noopener noreferrer">Announcing Vite 8 Beta</a></li>
</ul>
</li>
<li>
<p>React Datepicker 9.0</p>
<ul>
<li>ç‰ˆæœ¬å·ï¼šv9.0</li>
<li>æ›´æ–°è¯´æ˜ï¼šæ–°å¢æ—¶åŒºæ”¯æŒã€è·¨æ—¥æœŸèŒƒå›´é€‰æ‹©æ—¶é—´ï¼Œä»¥åŠä¸€æ‰¹å¯è®¿é—®æ€§ä¸è‡ªå®šä¹‰èƒ½åŠ›ç›¸å…³çš„å±æ€§ï¼ˆå¯å‚è€ƒé¡¹ç›®ä»“åº“å’Œå‘å¸ƒè¯´æ˜ï¼‰ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHacker0x01%2Freact-datepicker" target="_blank" title="https://github.com/Hacker0x01/react-datepicker" ref="nofollow noopener noreferrer">React Datepicker é¡¹ç›®ä¸»é¡µ</a></li>
</ul>
</li>
<li>
<p>Ant Design 6.x</p>
<ul>
<li>ç‰ˆæœ¬å·ï¼šv6.xï¼ˆæœ¬æœŸèšç„¦ 6 ç³»åˆ—æŒç»­æ¼”è¿›ï¼‰</li>
<li>æ›´æ–°è¯´æ˜ï¼šä½œä¸ºå¹¿æ³›ä½¿ç”¨çš„ React ç»„ä»¶åº“ï¼Œæ–°ç‰ˆæœ¬ç»§ç»­å®Œå–„ç»„ä»¶ä½“éªŒä¸è®¾è®¡è¯­è¨€ç»†èŠ‚ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fant-design.antgroup.com%2Fchangelog" target="_blank" title="https://ant-design.antgroup.com/changelog" ref="nofollow noopener noreferrer">Ant Design æ›´æ–°æ—¥å¿—</a></li>
</ul>
</li>
</ul>
<p><strong>å…¶ä»–åº“æ›´æ–°</strong></p>
<ul>
<li>React Grid Layout 2.0ï¼šå“åº”å¼æ‹–æ‹½å¸ƒå±€ç³»ç»Ÿï¼Œé€‚ç”¨äºä»ªè¡¨ç›˜ç±»åº”ç”¨ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Freact-grid-layout%2Freact-grid-layout" target="_blank" title="https://github.com/react-grid-layout/react-grid-layout" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Yet Another React Lightbox 3.27ï¼šç°ä»£ React Lightbox ç»„ä»¶æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fyet-another-react-lightbox.com%2F" target="_blank" title="https://yet-another-react-lightbox.com/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>react-geo v32.7.0ï¼šç”¨äºæ„å»ºåœ°å›¾åº”ç”¨çš„ React ç»„ä»¶é›†ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fterrestris.github.io%2Freact-geo-ws%2Flatest%2F" target="_blank" title="https://terrestris.github.io/react-geo-ws/latest/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Jotai 2.16ï¼šè½»é‡çµæ´»çš„åŸå­åŒ–çŠ¶æ€ç®¡ç†åº“æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fjotai.org%2F" target="_blank" title="https://jotai.org/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>jsdom 27.3ï¼šWHATWG DOM/HTML æ ‡å‡†çš„çº¯ JS å®ç°æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjsdom%2Fjsdom" target="_blank" title="https://github.com/jsdom/jsdom" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Prisma 7.1ï¼šæµè¡Œçš„ Node.js/TypeScript ORM ç‰ˆæœ¬æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.prisma.io%2F" target="_blank" title="https://www.prisma.io/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>pnpm 10.25ï¼šé«˜æ•ˆåŒ…ç®¡ç†å™¨æ–°ç‰ˆæœ¬ï¼Œä¾§é‡æ€§èƒ½ä¸å®‰å…¨æ§åˆ¶ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2F" target="_blank" title="https://pnpm.io/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Prettier 3.7ï¼šä¸»æµä»£ç æ ¼å¼åŒ–å·¥å…·çš„ç‰ˆæœ¬æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fprettier.io%2F" target="_blank" title="https://prettier.io/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Drizzle ORM 0.45ï¼šç±»å‹å‹å¥½çš„ ORM æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2F" target="_blank" title="https://orm.drizzle.team/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Express 5.2.xï¼šç»å…¸ Node.js Web æ¡†æ¶å°ç‰ˆæœ¬æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fexpressjs.com%2F" target="_blank" title="https://expressjs.com/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Neutralinojs 6.4ï¼šæ¯” Electron æ›´è½»é‡çš„æ¡Œé¢åº”ç”¨è§£å†³æ–¹æ¡ˆæ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fneutralino.js.org%2F" target="_blank" title="https://neutralino.js.org/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Chokidar 5.0ï¼šè·¨å¹³å°æ–‡ä»¶ç›‘å¬åº“æ›´æ–°ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpaulmillr%2Fchokidar" target="_blank" title="https://github.com/paulmillr/chokidar" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
</ul>
<h3 data-id="heading-3">ğŸš€ æŠ€æœ¯åŠ¨æ€</h3>
<p><strong>TypeScript 7ï¼šGo é‡å†™å¸¦æ¥çš„ 10 å€ç¼–è¯‘æ€§èƒ½å±•æœ›</strong></p>
<ul>
<li>TypeScript 6.0 å°†æ˜¯æœ€åä¸€ä¸ªä»¥ JavaScript å®ç°çš„ç‰ˆæœ¬ï¼Œä¹‹åçš„ TypeScript 7.0 å°†åŸºäº Go é‡å†™ï¼Œç›®æ ‡æ˜¯å®ç°çº¦ 10 å€çš„æ€§èƒ½æå‡ã€‚</li>
<li>æ–‡ç« ä»‹ç»äº†è¿ç§»è·¯çº¿ï¼š6.0 ä½œä¸ºâ€œæ¡¥æ¥ç‰ˆæœ¬â€ï¼Œæœªæ¥ Go ç‰ˆç¼–è¯‘å™¨å°†å…¼å®¹ç°æœ‰å·¥å…·ç”Ÿæ€ï¼ŒåŒæ—¶ä¸ºæ›´å¿«çš„å¢é‡æ„å»ºå’Œå¤§å‹ä»£ç åº“æä¾›æ”¯æŒã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Ftypescript%2Fprogress-on-typescript-7-december-2025%2F" target="_blank" title="https://devblogs.microsoft.com/typescript/progress-on-typescript-7-december-2025/" ref="nofollow noopener noreferrer">Progress on TypeScript 7 â€“ December 2025</a></li>
</ul>
<p><strong>WebGPU å·²åœ¨ä¸»æµæµè§ˆå™¨å…¨é¢å¯ç”¨</strong></p>
<ul>
<li>WebGPU ç°å·²åœ¨æ‰€æœ‰ä¸»è¦æµè§ˆå™¨ä¸­è·å¾—æ”¯æŒï¼Œä¸ºå‰ç«¯å¸¦æ¥æ›´ç°ä»£çš„ GPU ç¼–ç¨‹èƒ½åŠ›ï¼Œå¯ç”¨äºé«˜æ€§èƒ½ 3D æ¸²æŸ“ã€ç§‘å­¦å¯è§†åŒ–å’Œæœºå™¨å­¦ä¹ æ¨ç†ç­‰åœºæ™¯ã€‚</li>
<li>ç›¸æ¯” WebGLï¼ŒWebGPU æŠ½è±¡æ›´è´´è¿‘ç°ä»£å›¾å½¢ APIï¼Œæ”¯æŒæ›´é«˜æ•ˆçš„èµ„æºç®¡ç†ä¸å¹¶è¡Œè®¡ç®—ï¼Œä¸ºæµè§ˆå™¨å†…é«˜æ€§èƒ½è®¡ç®—æ‰“å¼€æ–°ç©ºé—´ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Fblog%2Fwebgpu-supported-major-browsers" target="_blank" title="https://web.dev/blog/webgpu-supported-major-browsers" ref="nofollow noopener noreferrer">WebGPU is now supported across all major browsers</a></li>
</ul>
<p><strong>Bun è¢« Anthropic æ”¶è´­ï¼šAI é©±åŠ¨æ—¶ä»£çš„ JS Runtime èµ°å‘</strong></p>
<ul>
<li>Anthropicï¼ˆClaude èƒŒåçš„å…¬å¸ï¼‰æ”¶è´­äº† JavaScript/TypeScript è¿è¡Œæ—¶ Bunï¼Œè®¡åˆ’ç”¨äºå…¶ Claude Code ç­‰æ™ºèƒ½å¼€å‘å·¥å…·ï¼ŒBun ä»å°†ä¿æŒå¼€æºå¹¶æŒç»­æ¼”è¿›ã€‚</li>
<li>Bun åŸºäº JavaScriptCoreï¼Œé›†æˆæ‰“åŒ…ã€æµ‹è¯•å’Œè¿è¡Œæ—¶èƒ½åŠ›ï¼Œç›®æ ‡æ˜¯â€œå¼€ç®±å³ç”¨â€çš„é«˜æ€§èƒ½å¼€å‘ä½“éªŒï¼Œè¿™æ¬¡æ”¶è´­ä¹Ÿå‡¸æ˜¾äº† AI å·¥å…·å¯¹åŸºç¡€è¿è¡Œç¯å¢ƒçš„é‡è§†ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbun.com%2Fblog%2Fbun-joins-anthropic" target="_blank" title="https://bun.com/blog/bun-joins-anthropic" ref="nofollow noopener noreferrer">Bun joins Anthropic</a></li>
</ul>
<p><strong>Delayed Message Timing API ææ¡ˆï¼šæå‡å¤šä¸Šä¸‹æ–‡ Web åº”ç”¨æ€§èƒ½</strong></p>
<ul>
<li>é¢å¯¹å¤š iframeã€Web Workerã€å¤šçª—å£ç­‰å¹¶è¡Œä¸Šä¸‹æ–‡å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œå¾®è½¯å’Œç¤¾åŒºæå‡º Delayed Message Timing APIï¼Œå¸Œæœ›åœ¨æµè§ˆå™¨å±‚é¢æ›´å¥½åœ°è°ƒåº¦ä¸æµ‹é‡å»¶è¿Ÿæ¶ˆæ¯ã€‚</li>
<li>æ­¤ææ¡ˆä»å¤„äºæ—©æœŸé˜¶æ®µï¼Œä½†ä¸ºå¤æ‚ Web åº”ç”¨åœ¨è·¨ä¸Šä¸‹æ–‡é€šä¿¡å’Œå»¶è¿Ÿè¯Šæ–­æ–¹é¢æä¾›äº†æ–°çš„æ€è·¯ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FWICG%2Fdelayed-message-timing" target="_blank" title="https://github.com/WICG/delayed-message-timing" ref="nofollow noopener noreferrer">Delayed Message Timing API ææ¡ˆè¯´æ˜</a></li>
</ul>
<h3 data-id="heading-4">ğŸ› ï¸ å·¥å…·ä¸åº“</h3>
<p><strong>React Grabï¼šé¢å‘ Agent çš„ React ç»„ä»¶ä¸Šä¸‹æ–‡æŠ“å–å·¥å…·</strong></p>
<ul>
<li>å·¥å…·åç§°ï¼šReact Grab</li>
<li>åŠŸèƒ½æè¿°ï¼šä¸ºç¼–ç æ™ºèƒ½ä½“ï¼ˆå¦‚ AI åŠ©æ‰‹ï¼‰æä¾› React ç»„ä»¶ä¸Šä¸‹æ–‡æŠ“å–èƒ½åŠ›ï¼Œä½¿å…¶èƒ½å¤Ÿç†è§£ç»„ä»¶å±‚çº§ã€props/state ç»“æ„ï¼Œä»è€Œåœ¨æœ‰ä¸Šä¸‹æ–‡çš„å‰æä¸‹ä¿®æ”¹ä»£ç ã€‚
<ul>
<li>ç‰¹ç‚¹1ï¼šä¸“æ³¨ React ç”Ÿæ€ï¼Œå¯ç›´æ¥ä»è¿è¡Œä¸­çš„åº”ç”¨ä¸­â€œæŠ“å–â€ç»„ä»¶ä¿¡æ¯ã€‚</li>
<li>ç‰¹ç‚¹2ï¼šä¸å…¶ä»– DevTools å·¥å…·ï¼ˆå¦‚ React Scanï¼‰å½¢æˆäº’è¡¥ï¼Œä¸»æ”»æ™ºèƒ½æ”¹ä»£ç åœºæ™¯ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faidenybai%2Freact-grab" target="_blank" title="https://github.com/aidenybai/react-grab" ref="nofollow noopener noreferrer">React Grab é¡¹ç›®ä»“åº“</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fbetterstack.com%2Fcommunity%2Fguides%2Fscaling-nodejs%2Freact-grab-ai%2F" target="_blank" title="https://betterstack.com/community/guides/scaling-nodejs/react-grab-ai/" ref="nofollow noopener noreferrer">React Grab ä¸ AI åä½œå®è·µä»‹ç»</a></li>
</ul>
</li>
</ul>
<p><strong>TanStack AI &amp; TanStack Pacerï¼šç»Ÿä¸€çš„ LLM æ¥å£ä¸èŠ‚æµ/é™æµå·¥å…·é›†</strong></p>
<ul>
<li>
<p>å·¥å…·åç§°ï¼šTanStack AI</p>
</li>
<li>
<p>åŠŸèƒ½æè¿°ï¼šæä¾›ç»Ÿä¸€ã€æ¡†æ¶æ— å…³çš„æ¥å£ï¼Œé€‚é…å¤šå®¶ LLM/AI æä¾›å•†ï¼Œæ”¯æŒæµå¼è¾“å‡ºä¸åŸºäº Zod çš„æ¨¡å¼æ¨æ–­ï¼ŒReact é›†æˆç¤ºä¾‹åŒ…å«ä¸€ä¸ªå®Œæ•´çš„èŠå¤©åº”ç”¨ã€‚</p>
<ul>
<li>ç‰¹ç‚¹1ï¼šå±è”½ä¸åŒå‚å•† API å·®å¼‚ï¼Œè®©åº”ç”¨å±‚èšç„¦åœ¨å¯¹è¯é€»è¾‘ä¸ UIã€‚</li>
<li>ç‰¹ç‚¹2ï¼šæ”¯æŒæµå¼å“åº”ï¼Œä¾¿äºæ„å»ºç±» ChatGPT çš„å³æ—¶åé¦ˆä½“éªŒã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftanstack.com%2Fai" target="_blank" title="https://tanstack.com/ai" ref="nofollow noopener noreferrer">TanStack AI å®˜æ–¹ç«™ç‚¹</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Ftanstack.com%2Fai%2Flatest%2Fdocs%2Fgetting-started%2Fquick-start" target="_blank" title="https://tanstack.com/ai/latest/docs/getting-started/quick-start" ref="nofollow noopener noreferrer">TanStack AI å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</a></li>
</ul>
</li>
<li>
<p>å·¥å…·åç§°ï¼šTanStack Pacer</p>
</li>
<li>
<p>åŠŸèƒ½æè¿°ï¼šæ¡†æ¶æ— å…³çš„å‡½æ•°çº§â€œèŠ‚å¥æ§åˆ¶â€å·¥å…·é›†ï¼Œæä¾›é˜²æŠ–ã€èŠ‚æµã€é™æµã€é˜Ÿåˆ—å’Œæ‰¹å¤„ç†ç­‰èƒ½åŠ›ï¼Œé€‚ç”¨äºæ‰‹å†™ API è°ƒç”¨èŠ‚æµé€»è¾‘æˆ–ä¸æ™ºèƒ½ä½“é›†æˆã€‚</p>
<ul>
<li>ç‰¹ç‚¹1ï¼šç»Ÿä¸€å°è£…å¤šç§é™æµ/èŠ‚æµæ¨¡å¼ï¼Œæ›¿ä»£é›¶æ•£çš„è‡ªå®šä¹‰å®ç°ã€‚</li>
<li>ç‰¹ç‚¹2ï¼šå¯åœ¨æµè§ˆå™¨ä¸ Node ç¯å¢ƒå…±äº«ä½¿ç”¨ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftanstack.com%2Fpacer" target="_blank" title="https://tanstack.com/pacer" ref="nofollow noopener noreferrer">TanStack Pacer å®˜æ–¹æ–‡æ¡£</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTanStack%2Fpacer" target="_blank" title="https://github.com/TanStack/pacer" ref="nofollow noopener noreferrer">TanStack Pacer GitHub ä»“åº“</a></li>
</ul>
</li>
</ul>
<p><strong>Remend &amp; Streamdownï¼šæ›´ç¨³å¥çš„æµå¼ Markdown æ¸²æŸ“</strong></p>
<ul>
<li>å·¥å…·åç§°ï¼šRemend</li>
<li>åŠŸèƒ½æè¿°ï¼šç”¨äºè‡ªåŠ¨ä¿®å¤ä¸å®Œæ•´çš„æµå¼ Markdownï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç† LLM è¾“å‡ºä¸­è¢«ä¸­æ–­æˆ–æˆªæ–­çš„ç‰‡æ®µï¼Œé¿å…å‰ç«¯æ¸²æŸ“å‡ºé”™ã€‚
<ul>
<li>ç‰¹ç‚¹1ï¼šè‡ªåŠ¨è¡¥å…¨/çº æ­£ç»“æ„æ€§ä¸å®Œæ•´çš„ Markdownï¼ˆå¦‚æœªé—­åˆçš„åˆ—è¡¨ã€ä»£ç å—ï¼‰ã€‚</li>
<li>ç‰¹ç‚¹2ï¼šæç‚¼è‡ª Vercel çš„ Streamdownï¼ˆreact-markdown çš„æ›¿ä»£å“ï¼‰ï¼Œå¯ç›´æ¥æ¥å…¥ç°æœ‰ React åº”ç”¨ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvercel.com%2Fchangelog%2Fnew-npm-package-for-automatic-recovery-of-broken-streaming-markdown" target="_blank" title="https://vercel.com/changelog/new-npm-package-for-automatic-recovery-of-broken-streaming-markdown" ref="nofollow noopener noreferrer">Remend å‘å¸ƒè¯´æ˜</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fstreamdown.ai%2F" target="_blank" title="https://streamdown.ai/" ref="nofollow noopener noreferrer">Streamdown é¡¹ç›®ä¸»é¡µ</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvercel%2Fstreamdown" target="_blank" title="https://github.com/vercel/streamdown" ref="nofollow noopener noreferrer">Streamdown GitHub ä»“åº“</a></li>
</ul>
</li>
</ul>
<p><strong>æ€§èƒ½ä¸è°ƒè¯•ç›¸å…³å·¥å…·</strong></p>
<ul>
<li>Browser Scoreï¼šç”¨äºæ£€æµ‹æµè§ˆå™¨å¯¹ Web å¹³å°ç‰¹æ€§çš„æ”¯æŒåº¦ï¼Œå¯æŒ‰ CSS å±æ€§ã€é€‰æ‹©å™¨ã€å®éªŒç‰¹æ€§ç­‰ç»´åº¦è¿‡æ»¤ç»“æœã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fbrowserscore.dev%2F" target="_blank" title="https://browserscore.dev/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>Telescopeï¼šè·¨æµè§ˆå™¨ Web æ€§èƒ½æµ‹è¯•ä»£ç†ï¼Œæ”¯æŒ Edgeã€Chromeã€Safariã€Firefoxï¼Œå¯é…ç½®ç½‘ç»œé™é€Ÿã€è§†å£å¤§å°å¹¶ç”Ÿæˆ HTML æŠ¥å‘Šã€‚ï¼ˆåŸå§‹ä»“åº“å°šæœªç¨³å®šå…¬å¼€ï¼Œå¯å…³æ³¨ Cloudflare ç›¸å…³å¼€æºé¡¹ç›®ä¸æ–‡æ¡£ï¼‰</li>
<li>Tinybench 6.0ï¼šè·¨è¿è¡Œæ—¶çš„å¾®åŸºå‡†æµ‹è¯•åº“ï¼ŒåŸºäºé«˜ç²¾åº¦è®¡æ—¶ APIï¼Œæ”¯æŒæŒ‰æ¬¡æ•°æˆ–æ—¶é•¿è¿è¡Œå¹¶è¾“å‡ºç»Ÿè®¡æ•°æ®ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftinylibs%2Ftinybench" target="_blank" title="https://github.com/tinylibs/tinybench" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
</ul>
<p><strong>Node.js ä¸æ•°æ®ç›¸å…³å·¥å…·</strong></p>
<ul>
<li>ts-execï¼šç”± AdonisJS ä½œè€…æ¨å‡ºçš„ TypeScript æ‰§è¡Œå·¥å…·ï¼ŒåŸºäº SWCï¼Œåœ¨ Node ä¸­ç›´æ¥è¿è¡Œ TSï¼Œæ”¯æŒ JSX å’Œè£…é¥°å™¨ï¼ˆå®˜æ–¹èµ„æ–™ä»åœ¨å®Œå–„ï¼Œå¯å…³æ³¨ä½œè€…åç»­å‘å¸ƒï¼‰ã€‚</li>
<li>iceberg-jsï¼šé¢å‘ Apache Iceberg REST Catalog API çš„ JavaScript å®¢æˆ·ç«¯ï¼ˆç”± Supabase å‘å¸ƒï¼Œç”Ÿæ€ä»åœ¨æ¼”è¿›ï¼Œå¯å…³æ³¨ Supabase å®˜æ–¹åšå®¢ä¸ GitHubï¼‰ã€‚</li>
</ul>
<p><strong>UI ç»„ä»¶ä¸å‰ç«¯èµ„æº</strong></p>
<ul>
<li>SurveyJSï¼šå¯åœ¨åº”ç”¨å†…æ¸²æŸ“å“ç‰ŒåŒ–ã€å¯é…ç½®è¡¨å• UI çš„åº“ï¼Œæ”¯æŒä»ç°æœ‰æ•°æ®åº“å¡«å……å­—æ®µä»¥åŠå¯¼å‡º PDFï¼Œé€‚åˆåŒ»ç–—è¡¨å•ã€ç”³è¯·è¡¨ç­‰åœºæ™¯ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fsurveyjs.io%2F" target="_blank" title="https://surveyjs.io/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>NativeWindUIï¼šä¸º React Native æä¾› 30+ å¯å¤ç”¨ç»„ä»¶ä¸ç•Œé¢æµï¼ŒåŸºäº NativeWind æ„å»ºï¼Œä¸»æ‰“åŸç”Ÿé£æ ¼ä¸å¿«é€Ÿå¼€å‘ä½“éªŒã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fnativewindui.com%2F" target="_blank" title="https://nativewindui.com/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li>CanIUse Embedï¼šç”¨äºåœ¨ç«™ç‚¹ä¸­åµŒå…¥ Can I Use å…¼å®¹æ€§è¡¨æ ¼çš„å·¥å…·ï¼ˆé¡¹ç›®ä»åœ¨æ¼”è¿›ï¼Œå¯å‚è€ƒ Ire Aderinokun çš„ Can I Use Embed æ–‡ç« ä¸ç›¸å…³å¼€æºå®ç°ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">ğŸ“– æŠ€æœ¯æ–‡ç« </h3>
<p><strong>æ€§èƒ½ä¼˜åŒ–ä¸ Web è¿è¡Œæ—¶</strong></p>
<ul>
<li><strong>How Fast Can Browsers Process Base64 Data?</strong>ï¼šé€šè¿‡åœ¨å¤šæµè§ˆå™¨ä¸­åŸºå‡†æµ‹è¯• Base64 å¤„ç†é€Ÿåº¦ï¼Œå‘ç°ç°ä»£æµè§ˆå™¨ä¸­æ€§èƒ½é€šå¸¸å¯è¾¾åˆ° GB/s ç­‰çº§ï¼ŒFirefox/Servo ç›®å‰ç›¸å¯¹è¾ƒæ…¢ä½†æœ‰ä¼˜åŒ–è®¡åˆ’ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Flemire.me%2Fblog%2F" target="_blank" title="https://lemire.me/blog/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>How We Made @platformatic/kafka 223% Faster</strong>ï¼šPlatformatic å›¢é˜Ÿå¯¹ Kafka å®¢æˆ·ç«¯è¿›è¡Œç³»ç»Ÿæ€§åŸºå‡†æµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆåŒ…æ‹¬ I/Oã€æ‰¹é‡å‘é€ç­‰ï¼‰ï¼Œå±•ç¤ºäº†å¦‚ä½•æŒ–æ˜ Node.js æœåŠ¡ç«¯åº”ç”¨çš„æ€§èƒ½ç“¶é¢ˆã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.platformatic.dev%2Fhow-we-made-platformatic-kafka-223-faster" target="_blank" title="https://blog.platformatic.dev/how-we-made-platformatic-kafka-223-faster" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>Comparing AWS Lambda Arm vs x86 Performance Across Runtimes</strong>ï¼šåœ¨å¤šç‰ˆæœ¬ Node.js ä¸ä¸åŒæ¶æ„ï¼ˆArm/x86ï¼‰ä¸‹å¯¹ Lambda è¿›è¡Œå¯¹æ¯”æµ‹è¯•ï¼Œç»“æœè¡¨æ˜ Arm åœ¨å¤šæ•°åœºæ™¯ä¸‹å…·æœ‰æ˜æ˜¾ååä¸æˆæœ¬ä¼˜åŠ¿ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.fourtheorem.com%2Fblog%2Fcomparing-aws-lambda-arm-vs-x86-performance-across-runtimes" target="_blank" title="https://www.fourtheorem.com/blog/comparing-aws-lambda-arm-vs-x86-performance-across-runtimes" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>The Anatomy of a Web Performance Report</strong>ï¼šæ‹†è§£æ€§èƒ½æŠ¥å‘Šçš„å…¸å‹ç»“æ„ï¼Œè§£é‡Šå„æŒ‡æ ‡èƒŒåçš„å«ä¹‰åŠå…¶å¯¹äº§å“å†³ç­–çš„å¯ç¤ºï¼ˆåŸæ–‡å‘è¡¨äº Web Performance Calendarï¼Œå½“å‰å…¬å¼€é“¾æ¥è¾ƒéš¾æ£€ç´¢ï¼Œå¯å…³æ³¨ calendar.perfplanet.com 2025 å¹´ä¸“æ ï¼‰ã€‚</li>
</ul>
<p><strong>JavaScript ä¸ç±»å‹ç³»ç»Ÿ</strong></p>
<ul>
<li><strong>The Nuances of JavaScript Typing Using JSDoc</strong>ï¼šé¢å‘â€œä¸æƒ³ç”¨ TypeScriptï¼Œä½†åˆæƒ³è¦ç±»å‹æç¤ºâ€çš„å›¢é˜Ÿï¼Œç³»ç»Ÿä»‹ç»å¦‚ä½•ä½¿ç”¨ JSDoc åœ¨ JS é¡¹ç›®ä¸­è·å¾—ç±»ä¼¼ TS çš„ç±»å‹ä½“éªŒï¼ˆåŸæ–‡å‘è¡¨äº thathtml.blogï¼Œå½“å‰å…¬å¼€é“¾æ¥å—é™ï¼Œå¯å‚è€ƒ TypeScript å®˜æ–¹ JSDoc æ–‡æ¡£ï¼‰ã€‚</li>
<li><strong>TypeScript Strictness is Non-Monotonic</strong>ï¼šåˆ†æ <code>strictNullChecks</code> ä¸ <code>noImplicitAny</code> ç­‰ä¸¥æ ¼é€‰é¡¹ä¹‹é—´çš„äº¤äº’ï¼ŒæŒ‡å‡ºâ€œæ›´ä¸¥æ ¼â€æœªå¿…åœ¨æ‰€æœ‰ç»´åº¦ä¸Šå•è°ƒæé«˜å®‰å…¨æ€§ï¼Œéœ€è¦æŒ‰é¡¹ç›®ç­–ç•¥ç»„åˆé…ç½®ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuonw.github.io%2Fblog%2F2025%2F12%2Ftypescript-monotonic%2F" target="_blank" title="https://huonw.github.io/blog/2025/12/typescript-monotonic/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>Category Theory for JavaScript Developers</strong>ï¼šä»¥ JavaScript/TypeScript ä¸ºè½½ä½“è®²è§£èŒƒç•´è®ºçš„åŸºæœ¬æ¦‚å¿µï¼Œä¸ºç†è§£å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„æŠ½è±¡æä¾›ç›´è§‚åˆ‡å…¥ç‚¹ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fibrahimcesar.cloud%2Fblog%2Fcategory-theory-for-javascript-typescript-developers%2F" target="_blank" title="https://ibrahimcesar.cloud/blog/category-theory-for-javascript-typescript-developers/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
</ul>
<p><strong>HTML/CSS ä¸å¯è®¿é—®æ€§</strong></p>
<ul>
<li><strong>CSS Wrapped 2025</strong>ï¼šå›é¡¾ 2025 å¹´ Web å¹³å°æ–°å¢çš„ CSS èƒ½åŠ›ï¼Œå¦‚ CSS Carouselã€è‡ªå®šä¹‰ selectã€scroll state æŸ¥è¯¢ç­‰ï¼Œå¹¶é…æœ‰ä¸€æ®µè¾ƒä¸ºè½»æ¾çš„è§†é¢‘æ¦‚è§ˆã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.dev%2Fcss-wrapped-2025" target="_blank" title="https://chrome.dev/css-wrapped-2025" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>Did You Know Your Browser Has Two Accessibility Trees?</strong>ï¼šä»æµè§ˆå™¨ DOM æ ‘ä¸æ— éšœç¢æ ‘çš„å…³ç³»å…¥æ‰‹ï¼Œè®²è§£è¾…åŠ©æŠ€æœ¯å¦‚ä½•â€œçœ‹è§â€é¡µé¢ï¼Œå¯ç»“åˆ MDN çš„æ— éšœç¢æ ‘æ–‡æ¡£ä¸ Max Design çš„ç›¸å…³æ¼”è®²é˜…è¯»ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FGlossary%2FAccessibility_tree" target="_blank" title="https://developer.mozilla.org/en-US/docs/Glossary/Accessibility_tree" ref="nofollow noopener noreferrer">MDN ä»‹ç»</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.maxdesign.com.au%2Ftalks%2F" target="_blank" title="https://www.maxdesign.com.au/talks/" ref="nofollow noopener noreferrer">Max Design Talks</a></li>
<li><strong>Accessible by Design: The Role of the <code>lang</code> Attribute</strong>ï¼šå¼ºè°ƒ HTML <code>lang</code> å±æ€§åœ¨å¯è®¿é—®æ€§ä¸­çš„åŸºç¡€ä½œç”¨ï¼ŒæŒ‡å‡ºå…¶å¯¹å±å¹•é˜…è¯»å™¨è¯­éŸ³é€‰æ‹©ã€æ‹¼å†™æ£€æŸ¥ç­‰çš„å½±å“ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fhtmhell.dev%2Fadventcalendar%2F2025%2F6" target="_blank" title="https://htmhell.dev/adventcalendar/2025/6" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>NoLoJS: Reducing the JS Workload with HTML and CSS</strong>ï¼šé¼“åŠ±åœ¨ç°ä»£ HTML &amp; CSS èƒ½åŠ›å¢å¼ºçš„èƒŒæ™¯ä¸‹ï¼Œé‡æ–°å®¡è§†ä¸€äº›â€œç†æ‰€å½“ç„¶â€çš„ JS å®ç°æ¨¡å¼ï¼Œç”¨æ›´å°‘çš„ JS å‡è½»æ€§èƒ½å’Œç»´æŠ¤è´Ÿæ‹…ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fcalendar.perfplanet.com%2F2025%2Fnolojs-reducing-js-workload-html-css%2F" target="_blank" title="https://calendar.perfplanet.com/2025/nolojs-reducing-js-workload-html-css/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
</ul>
<p><strong>æ¡†æ¶ä¸å·¥ç¨‹å®è·µ</strong></p>
<ul>
<li><strong>Building a Monorepo-Based Next.js App with Prisma</strong>ï¼šæ¼”ç¤ºå¦‚ä½•åœ¨ Monorepo æ¶æ„ä¸‹ç»Ÿä¸€å‰åç«¯æ•°æ®æ¨¡å‹ï¼Œç»“åˆ Next.js ä¸ Prisma ç»„ç»‡å…±äº«é€»è¾‘ï¼ˆå¯å‚è€ƒ Prisma å®˜æ–¹ Monorepo æŒ‡å—ï¼‰ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.prisma.io%2Fdocs%2Fguides%2Fuse-prisma-in-pnpm-workspaces" target="_blank" title="https://www.prisma.io/docs/guides/use-prisma-in-pnpm-workspaces" ref="nofollow noopener noreferrer">å‚è€ƒæ–‡æ¡£</a></li>
<li><strong>Next.js Image Optimization with the <code>next/image</code> Component</strong>ï¼šç³»ç»Ÿæ¢³ç† <code>next/image</code> çš„æœ€ä½³å®è·µï¼Œæ¶µç›–æ‡’åŠ è½½ã€å“åº”å¼å›¾ç‰‡å’Œ CDN é…åˆç­‰ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fapp%2Fgetting-started%2Fimages" target="_blank" title="https://nextjs.org/docs/app/getting-started/images" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></li>
<li><strong>Some Do's and Don'ts of <code>useEffectEvent</code></strong>ï¼šæ€»ç»“ React æ–° API <code>useEffectEvent</code> çš„ä½¿ç”¨å»ºè®®ä¸è¯¯ç”¨é™·é˜±ï¼Œå¸®åŠ©é¿å…éš¾ä»¥å¯Ÿè§‰çš„è¡Œä¸ºå·®å¼‚ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.logrocket.com%2Freact-useeffectevent%2F" target="_blank" title="https://blog.logrocket.com/react-useeffectevent/" ref="nofollow noopener noreferrer">å‚è€ƒæ–‡ç« </a></li>
<li><strong>How We're Protecting Our Newsroom from npm Supply Chain Attacks</strong>ï¼šä»¥åª’ä½“ç»„ç»‡ä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ç”¨ pnpm ä¸ä¸¥æ ¼çš„ä¾èµ–ç®¡ç†ç­–ç•¥é™ä½ä¾›åº”é“¾æ”»å‡»é£é™©ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Ftr%2Fblog%2F2025%2F12%2F05%2Fnewsroom-npm-supply-chain-security" target="_blank" title="https://pnpm.io/tr/blog/2025/12/05/newsroom-npm-supply-chain-security" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
<li><strong>No More Tokens: Locking Down npm Publishing Workflows</strong>ï¼šä»ä¸ªäººä¸é¡¹ç›®è§†è§’æ¢³ç† npm å‘å¸ƒé“¾è·¯ï¼Œæå‡ºâ€œå» token åŒ–â€çš„å·¥ä½œæµè®¾è®¡æ€è·¯ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zachleat.com%2Fweb%2Fnpm-security%2F" target="_blank" title="https://www.zachleat.com/web/npm-security/" ref="nofollow noopener noreferrer">åŸæ–‡é“¾æ¥</a></li>
</ul>
<h3 data-id="heading-6">ğŸ„ 12 æœˆæ´»åŠ¨ä¸èµ„æº</h3>
<p><strong>Advent of Code 2025</strong></p>
<ul>
<li>è‘—åçš„å¹´åº¦ç¼–ç¨‹è§£è°œæ´»åŠ¨ï¼Œé€‚åˆç»ƒä¹ ç®—æ³•ä¸æ•°æ®ç»“æ„ï¼Œä¹Ÿå¸¸è¢«ç”¨ä½œå›¢é˜Ÿ/ç¤¾åŒºå†…éƒ¨çš„ç¼–ç¨‹æ‰“å¡æ´»åŠ¨ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fadventofcode.com%2F2025" target="_blank" title="https://adventofcode.com/2025" ref="nofollow noopener noreferrer">Advent of Code 2025</a></li>
</ul>
<p><strong>AdventJSï¼šJavaScript ä¸“é¢˜ Advent æŒ‘æˆ˜</strong></p>
<ul>
<li>ä»¥ JavaScript/TypeScript/Python é¢˜ç›®ä¸ºä¸»çš„çº¿ä¸Š Advent æŒ‘æˆ˜ï¼Œå¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥å®Œæˆç»ƒä¹ ï¼Œé€‚åˆå‰ç«¯å’Œ Node.js å¼€å‘è€…æ—¥å¸¸åˆ·é¢˜ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fadventjs.dev%2Fen" target="_blank" title="https://adventjs.dev/en" ref="nofollow noopener noreferrer">AdventJS</a></li>
</ul>
<p><strong>Advent of Svelteï¼šSvelte æŠ€å·§æ¯æ—¥ä¸€æ›´</strong></p>
<ul>
<li>é¢å‘ Svelte ç¤¾åŒºçš„ Advent æ´»åŠ¨ï¼Œè¿ç»­ 24 å¤©å‘å¸ƒä¸ Svelte ç›¸å…³çš„å®è·µæŠ€å·§ä¸å°çŸ¥è¯†ç‚¹ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fadvent.sveltesociety.dev%2F2025" target="_blank" title="https://advent.sveltesociety.dev/2025" ref="nofollow noopener noreferrer">Advent of Svelte 2025</a></li>
</ul>
<p><strong>Cypress vs Playwright Advent æ—¥å†</strong></p>
<ul>
<li>Gleb Bahmutov å‘å¸ƒçš„ Cypress vs Playwright æ¯æ—¥ç³»åˆ—ï¼Œå¯¹æ¯”ä¸¤å¤§ E2E æµ‹è¯•æ¡†æ¶åœ¨ä¸åŒåœºæ™¯ä¸‹çš„ç”¨æ³•ä¸å·®å¼‚ï¼Œé€‚åˆæ­£åœ¨é€‰æ‹©æˆ–è¿ç§»æµ‹è¯•æ¡†æ¶çš„å›¢é˜Ÿå‚è€ƒã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fglebbahmutov.com%2Fblog%2Ftags%2Fplaywright%2F" target="_blank" title="https://glebbahmutov.com/blog/tags/playwright/" ref="nofollow noopener noreferrer">Better world by better software â€“ Playwright æ ‡ç­¾ä¸‹æ–‡ç« </a></li>
</ul>
<h3 data-id="heading-7">ğŸŒ ç”Ÿæ€ç³»ç»ŸåŠ¨æ€</h3>
<p><strong>GitHub Spec Kit ä¸ Spec-Driven Developmentï¼ˆSDDï¼‰å®è·µ</strong></p>
<ul>
<li>æ–‡ç« åˆ†äº«äº†å¦‚ä½•ä½¿ç”¨ GitHub çš„ Spec Kit æ„å»ºç°ä»£ Svelte åº”ç”¨ï¼Œé‡‡ç”¨â€œè§„èŒƒé©±åŠ¨å¼€å‘â€çš„æ–¹å¼ï¼Œè®©äººç±»ä¸ AI ååŒå›´ç»•éœ€æ±‚æ–‡æ¡£ä¸è§„æ ¼å…±åŒæ¼”è¿›ä»£ç ã€‚</li>
<li>å¯¹å¸Œæœ›ç³»ç»Ÿæ€§å¼•å…¥ AI åˆ°æ—¥å¸¸å¼€å‘æµç¨‹çš„å›¢é˜Ÿå…·æœ‰ä¸€å®šå‚è€ƒä»·å€¼ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.github.com%2Fspec-kit%2Findex.html" target="_blank" title="https://github.github.com/spec-kit/index.html" ref="nofollow noopener noreferrer">GitHub Spec Kit å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<p><strong>DebugBear çš„ 2025 Web æ€§èƒ½å›é¡¾</strong></p>
<ul>
<li>DebugBear å›¢é˜Ÿæ¢³ç†äº† 2025 å¹´ä¸ Web æ€§èƒ½ç›¸å…³çš„é‡è¦è¯é¢˜ï¼ŒåŒ…æ‹¬ DevTools å¢å¼ºã€TTFB/LCP/INP æŒ‡æ ‡ç»Ÿè®¡æ–¹å¼å˜åŒ–ä»¥åŠ Firefox å¯¹ Scheduler API çš„æ”¯æŒæƒ…å†µã€‚</li>
<li>æœ‰åŠ©äºç†è§£â€œæŒ‡æ ‡å¦‚ä½•å½±å“å·¥å…·å’Œæ¡†æ¶è®¾è®¡â€ï¼Œä¸ºé•¿æœŸæ€§èƒ½è§„åˆ’æä¾›ä¸Šä¸‹æ–‡ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.debugbear.com%2Fblog%2F2025-in-web-performance" target="_blank" title="https://www.debugbear.com/blog/2025-in-web-performance" ref="nofollow noopener noreferrer">2025 in Web Performance</a></li>
</ul>
<p><strong>VS Code Insiders Podcast ä¸Šçº¿</strong></p>
<ul>
<li>å¾®è½¯æ¨å‡ºäº† VS Code Insiders æ’­å®¢èŠ‚ç›®ï¼Œç”± VS Code å›¢é˜Ÿæˆå‘˜ä»â€œå‘å¸ƒè¯´æ˜ä¹‹å¤–â€çš„è§’åº¦æ¢è®¨ç¼–è¾‘å™¨ç‰¹æ€§ä¸ç”Ÿæ€å‘å±•ã€‚</li>
<li>å¯¹é‡åº¦ VS Code ç”¨æˆ·å’Œæ‰©å±•å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ˜¯äº†è§£äº§å“æ–¹å‘ä¸æ€è·¯çš„ä¸€ä¸ªæ–°çª—å£ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.vscodepodcast.com%2F" target="_blank" title="https://www.vscodepodcast.com/" ref="nofollow noopener noreferrer">VS Code Insiders Podcast å®˜ç½‘</a></li>
</ul>
<p><strong>Kagi Orion æµè§ˆå™¨ 1.0 å‘å¸ƒ</strong></p>
<ul>
<li>æœç´¢å¼•æ“ Kagi å‘å¸ƒä»¥ WebKit ä¸ºå†…æ ¸çš„ Orion æµè§ˆå™¨ 1.0ï¼ŒåŒºåˆ«äºå½“å‰ä¸»æµçš„ Chromium é˜µè¥ï¼Œä¸ºæ¡Œé¢æµè§ˆä½“éªŒæä¾›æ–°çš„é€‰æ‹©ã€‚</li>
<li>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.kagi.com%2Forion" target="_blank" title="https://blog.kagi.com/orion" ref="nofollow noopener noreferrer">Orion æµè§ˆå™¨ 1.0 å‘å¸ƒä»‹ç»</a></li>
</ul>
<hr/>
<p><strong>æ ¸å¿ƒè¦ç‚¹ï¼š</strong></p>
<ol>
<li>âš ï¸ React Server Components å‡ºç°ä¸¥é‡å®‰å…¨æ¼æ´ React2Shellï¼ˆCVE-2025-55182ï¼‰ï¼Œæ¶‰åŠå¤šæ¡†æ¶ä¸äº‘å‚å•†ï¼Œéœ€å°½å¿«æ’æŸ¥å‡çº§ã€‚</li>
<li>âš ï¸ Node.js è®¡åˆ’åœ¨ 12 æœˆ 15 æ—¥å‰åä¸ºå¤šä¸ªç‰ˆæœ¬åˆ†æ”¯å‘å¸ƒé«˜å±å®‰å…¨ä¿®å¤ï¼Œå»ºè®®æå‰è§„åˆ’å‡çº§çª—å£ä¸å›å½’æµ‹è¯•ã€‚</li>
<li>ğŸ” npm å‘å¸ƒä¸ä¾›åº”é“¾å®‰å…¨æˆä¸ºç„¦ç‚¹ï¼ŒGitHub æ’¤é”€æ—§ç‰ˆ tokenï¼Œå¤šç¯‡æ–‡ç« ç»™å‡ºä»ä¸ªäººåˆ°ç»„ç»‡çš„å®‰å…¨åŠ å›ºå®è·µã€‚</li>
<li>ğŸ‰ JavaScript è¿æ¥ 30 å‘¨å¹´ã€Letâ€™s Encrypt ä¸ AV1 åˆ†åˆ«åœ¨ HTTPS ä¸è§†é¢‘ç¼–ç é¢†åŸŸå–å¾—é‡Œç¨‹ç¢‘å¼è¿›å±•ã€‚</li>
<li>ğŸ“¦ æ„å»ºä¸è¿è¡Œæ—¶ç”Ÿæ€æŒç»­æ¼”è¿›ï¼šVite 8 Betaã€React Datepicker 9.0ã€Ant Design 6.x åŠå¤šæ¬¾æ ¸å¿ƒåº“å®Œæˆé‡è¦æ›´æ–°ã€‚</li>
<li>ğŸš€ TypeScript 7 å°†ä»¥ Go é‡å†™ç¼–è¯‘å™¨ï¼Œå¸¦æ¥æ˜¾è‘—æ€§èƒ½æå‡ï¼›WebGPU ä¹Ÿåœ¨ä¸»æµæµè§ˆå™¨å…¨é¢å¯ç”¨ï¼Œä¸ºæµè§ˆå™¨å†…é«˜æ€§èƒ½è®¡ç®—æ‰“å¼€æ–°ç©ºé—´ã€‚</li>
<li>ğŸ› ï¸ æ–°å·¥å…·é›†ä¸­æ¶Œç°ï¼šReact Grabã€TanStack AI/Pacerã€Remend/Streamdownã€Browser Scoreã€Telescope ç­‰å¸®åŠ©å¼€å‘è€…å’Œ AI æ›´å¥½åœ°ç†è§£ä¸ä¼˜åŒ–å‰ç«¯åº”ç”¨ã€‚</li>
<li>ğŸ“– å¤šç¯‡æ–‡ç« èšç„¦æ€§èƒ½ä¼˜åŒ–ã€ç±»å‹ç³»ç»Ÿä¸å¯è®¿é—®æ€§ï¼Œä¸º JS/TSã€Reactã€Next.js ä»¥åŠ Web å¹³å°å¼€å‘æä¾›ç³»ç»Ÿæ€§å®è·µå‚è€ƒã€‚</li>
<li>ğŸ„ Advent of Codeã€AdventJSã€Advent of Svelte ä¸ Cypress vs Playwright Advent æ—¥å†ï¼Œä¸º 12 æœˆæä¾›äº†ä¸°å¯Œçš„å­¦ä¹ ä¸ç»ƒä¹ èµ„æºã€‚</li>
<li>ğŸŒ å·¥å…·é“¾ä¸ç”Ÿæ€å±‚é¢ï¼ŒGitHub Spec Kitã€DebugBear æ€§èƒ½å¹´åº¦å›é¡¾ã€VS Code Insiders Podcast ä¸ Orion æµè§ˆå™¨å…±åŒå‹¾å‹’å‡º 2025 å¹´ Web å¼€å‘ç°çŠ¶ä¸è¶‹åŠ¿ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring AOP æ ¸å¿ƒçŸ¥è¯†ç¬”è®°]]></title>    <link>https://juejin.cn/post/7582425536463699994</link>    <guid>https://juejin.cn/post/7582425536463699994</guid>    <pubDate>2025-12-11T13:42:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582425536463699994" data-draft-id="7582232291621175334" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring AOP æ ¸å¿ƒçŸ¥è¯†ç¬”è®°"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T13:42:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coderCatIce"/> <meta itemprop="url" content="https://juejin.cn/user/127981962405726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring AOP æ ¸å¿ƒçŸ¥è¯†ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/127981962405726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coderCatIce
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:42:15.000Z" title="Thu Dec 11 2025 13:42:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring AOP æ ¸å¿ƒçŸ¥è¯†ç¬”è®°</h2>
<h3 data-id="heading-1">ä¸€ã€AOP æ ¸å¿ƒæ€æƒ³ä¸å®ç°åŸç†</h3>
<p>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„æ ¸å¿ƒæ˜¯<strong>æŠ½å–é‡å¤è¯­å¥</strong>ï¼Œä¸ IOCï¼ˆæŠ½å–é‡å¤å®šä¹‰å¯¹è±¡ï¼‰å…±åŒæ„æˆ Spring ä¸¤å¤§æ ¸å¿ƒç‰¹æ€§ï¼Œç”¨äºè§£å†³ä»£ç å¤ç”¨ä¸è§£è€¦é—®é¢˜ã€‚</p>
<h4 data-id="heading-2">å®ç°åŸç†</h4>
<p>Spring AOP é€šè¿‡åŠ¨æ€ä»£ç†æŠ€æœ¯å®ç°åŠŸèƒ½å¢å¼ºï¼Œå…·ä½“åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li><strong><a href="https://juejin.cn/post/7582231988147355699" target="_blank" title="https://juejin.cn/post/7582231988147355699">JDK åŠ¨æ€ä»£ç†</a></strong>ï¼šåŸºäºæ¥å£å®ç°ï¼Œè¦æ±‚ç›®æ ‡å¯¹è±¡å¿…é¡»å®ç°æ¥å£ã€‚</li>
<li><strong>CGLIB åŠ¨æ€ä»£ç†</strong>ï¼šåŸºäºç»§æ‰¿å®ç°ï¼Œæ— éœ€ç›®æ ‡å¯¹è±¡å®ç°æ¥å£ï¼ˆé»˜è®¤ä¼˜å…ˆä½¿ç”¨ JDK ä»£ç†ï¼Œæ— æ¥å£æ—¶è‡ªåŠ¨åˆ‡æ¢ä¸º CGLIBï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">AOP æ ¸å¿ƒä¼˜åŠ¿</h4>
<ul>
<li>å‡å°‘é‡å¤ä»£ç ï¼ˆå¦‚æ—¥å¿—ã€æƒé™æ ¡éªŒç­‰é€šç”¨é€»è¾‘ï¼‰</li>
<li>æé«˜å¼€å‘æ•ˆç‡ï¼ˆé€šç”¨åŠŸèƒ½ç»Ÿä¸€ç»´æŠ¤ï¼‰</li>
<li>ä»£ç æ— ä¾µå…¥ï¼ˆä¸ä¿®æ”¹åŸå§‹ä¸šåŠ¡ä»£ç ï¼‰</li>
<li>ç»´æŠ¤æ–¹ä¾¿ï¼ˆé€šç”¨é€»è¾‘ä¿®æ”¹ä»…éœ€æ”¹ä¸€å¤„ï¼‰</li>
</ul>
<h3 data-id="heading-4">äºŒã€AOP æ ¸å¿ƒæ¦‚å¿µ</h3>





























<table><thead><tr><th>æ¦‚å¿µï¼ˆè‹±æ–‡ï¼‰</th><th>æ ¸å¿ƒå®šä¹‰</th></tr></thead><tbody><tr><td><strong>è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰</strong></td><td><strong>è¢« â€œæ·»åŠ åŠŸèƒ½â€ çš„æ–¹æ³•</strong></td></tr><tr><td><strong>é€šçŸ¥ï¼ˆAdviceï¼‰</strong></td><td>è¦<strong>æ·»åŠ çš„ â€œé€šç”¨åŠŸèƒ½â€</strong> æœ¬èº«ï¼ˆå¦‚æ—¥å¿—è®°å½•ã€æƒé™æ ¡éªŒï¼Œæ˜¯å…·ä½“çš„æ–¹æ³•é€»è¾‘ï¼‰</td></tr><tr><td><strong>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰</strong></td><td><strong>ç­›é€‰ â€œéœ€è¦åŠ åŠŸèƒ½çš„æ–¹æ³•â€ çš„è§„åˆ™</strong></td></tr><tr><td><strong>åˆ‡é¢ï¼ˆAspectï¼‰</strong></td><td>é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„ç»„åˆï¼Œæ˜ç¡® â€œå“ªä¸ªåŠŸèƒ½ï¼ˆé€šçŸ¥ï¼‰åŠ åˆ°å“ªäº›æ–¹æ³•ï¼ˆåˆ‡å…¥ç‚¹ï¼‰ä¸Šâ€</td></tr><tr><td><strong>ç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰</strong></td><td>è¢«æ·»åŠ åŠŸèƒ½çš„åŸå§‹å¯¹è±¡ï¼ˆå¦‚ UserService ç±»çš„å®ä¾‹ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">ä¸‰ã€é€šçŸ¥ç±»å‹ï¼ˆAdvice Typeï¼‰</h3>
<p>ä¸åŒé€šçŸ¥å¯¹åº”ä¸åŒçš„æ‰§è¡Œæ—¶æœºï¼Œæ ¸å¿ƒåŒºåˆ«åœ¨äº â€œæ‰§è¡Œé˜¶æ®µâ€ å’Œ â€œå¼‚å¸¸æ—¶æ˜¯å¦è¿è¡Œâ€ã€‚</p>















































<table><thead><tr><th>æ³¨è§£</th><th>é€šçŸ¥ç±»å‹</th><th>æ‰§è¡Œæ—¶æœº</th><th>å¼‚å¸¸æ—¶è¿è¡ŒçŠ¶æ€</th><th>æ­£å¸¸æ—¶è¿è¡ŒçŠ¶æ€</th></tr></thead><tbody><tr><td><code>@Around</code></td><td>ç¯ç»•é€šçŸ¥</td><td>ç›®æ ‡æ–¹æ³•<strong>å‰åå‡æ‰§è¡Œ</strong></td><td>æ‰§è¡Œï¼ˆéœ€æ•è·å¼‚å¸¸ï¼Œæˆ–è§¦å‘Â <code>finally</code>Â é€»è¾‘ï¼‰</td><td>æ‰§è¡Œ</td></tr><tr><td><code>@Before</code></td><td>å‰ç½®é€šçŸ¥</td><td>ç›®æ ‡æ–¹æ³•<strong>æ‰§è¡Œå‰</strong>è§¦å‘</td><td>æ‰§è¡Œï¼ˆä»…åœ¨æ–¹æ³•æ‰§è¡Œå‰ï¼Œä¸å—åç»­å¼‚å¸¸å½±å“ï¼‰</td><td>æ‰§è¡Œ</td></tr><tr><td><code>@After</code></td><td>åç½®é€šçŸ¥</td><td>ç›®æ ‡æ–¹æ³•<strong>æ‰§è¡Œå</strong>è§¦å‘</td><td>æ‰§è¡Œï¼ˆç±»ä¼¼Â <code>finally</code>ï¼Œå¼‚å¸¸åå¿…è§¦å‘ï¼‰</td><td>æ‰§è¡Œï¼ˆç±»ä¼¼Â <code>finally</code>ï¼Œæ­£å¸¸åå¿…è§¦å‘ï¼‰</td></tr><tr><td><code>@AfterReturning</code></td><td>è¿”å›åé€šçŸ¥</td><td>ç›®æ ‡æ–¹æ³•<strong>æ­£å¸¸è¿”å›å</strong>è§¦å‘</td><td>ä¸æ‰§è¡Œ</td><td>æ‰§è¡Œï¼ˆå¯è·å–æ–¹æ³•è¿”å›å€¼ï¼‰</td></tr><tr><td><code>@AfterThrowing</code></td><td>å¼‚å¸¸åé€šçŸ¥</td><td>ç›®æ ‡æ–¹æ³•<strong>æŠ›å‡ºå¼‚å¸¸å</strong>è§¦å‘</td><td>æ‰§è¡Œï¼ˆå¯æ•è·æŒ‡å®šå¼‚å¸¸ç±»å‹ï¼‰</td><td>ä¸æ‰§è¡Œ</td></tr></tbody></table>
<h4 data-id="heading-6">å„é€šçŸ¥ç±»å‹ç‰¹æ®Šè¯´æ˜</h4>
<h5 data-id="heading-7">1.Â <code>@Around</code>ï¼ˆç¯ç»•é€šçŸ¥ï¼‰</h5>
<ul>
<li>å”¯ä¸€éœ€ä¼ å…¥Â <code>ProceedingJoinPoint</code>Â å‚æ•°çš„é€šçŸ¥ï¼Œéœ€é€šè¿‡Â <code>proceed()</code>Â æ–¹æ³•æ‰§è¡ŒåŸå§‹ç›®æ ‡æ–¹æ³•ï¼›</li>
<li>è¿”å›å€¼å¿…é¡»ä¸ºÂ <code>Object</code>ï¼Œç”¨äºæ¥æ”¶åŸå§‹æ–¹æ³•çš„è¿”å›å€¼ï¼›</li>
<li>å”¯ä¸€èƒ½ä¸»åŠ¨æ•è·å¹¶å¤„ç†ç›®æ ‡æ–¹æ³•å¼‚å¸¸çš„é€šçŸ¥ï¼›</li>
</ul>
<h5 data-id="heading-8">2.Â <code>@After</code>ï¼ˆåç½®é€šçŸ¥ï¼‰</h5>
<ul>
<li><strong>ä¼˜å…ˆçº§æœ€ä½ï¼Œæ— è®ºç›®æ ‡æ–¹æ³•æ­£å¸¸æ‰§è¡Œæˆ–æŠ›å‡ºå¼‚å¸¸ï¼Œæœ€ç»ˆéƒ½ä¼šè§¦å‘</strong>ï¼›</li>
<li>å¸¸ç”¨äºèµ„æºé‡Šæ”¾ç±»æ“ä½œï¼ˆå¦‚å…³é—­æ•°æ®åº“è¿æ¥ã€IO æµï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-9">3.Â <code>@AfterReturning</code>Â &amp;Â <code>@AfterThrowing</code></h5>
<ul>
<li><strong>äºŒè€…äº’æ–¥è§¦å‘</strong>ï¼šç›®æ ‡æ–¹æ³•æ­£å¸¸è¿”å›æ—¶Â <code>@AfterReturning</code>Â æ‰§è¡Œï¼ŒæŠ›å‡ºå¼‚å¸¸æ—¶Â <code>@AfterThrowing</code>Â æ‰§è¡Œï¼›</li>
<li><code>@AfterReturning</code>Â å¯é€šè¿‡Â <code>returning</code>Â å±æ€§ç»‘å®šå¹¶è·å–æ–¹æ³•è¿”å›å€¼ï¼›</li>
<li><code>@AfterThrowing</code>Â å¯é€šè¿‡Â <code>throwing</code>Â å±æ€§æŒ‡å®šæ•è·çš„å¼‚å¸¸ç±»å‹ï¼Œä»…åŒ¹é…å¯¹åº”å¼‚å¸¸æ—¶è§¦å‘ã€‚</li>
</ul>
<h4 data-id="heading-10">é€šçŸ¥æ‰§è¡Œæµç¨‹</h4>
<h5 data-id="heading-11">1. æ­£å¸¸æµç¨‹</h5>
<p><code>@Before</code>Â â†’Â <code>@Around</code>ï¼ˆå‰é€»è¾‘ï¼‰â†’ ç›®æ ‡æ–¹æ³• â†’Â <code>@Around</code>ï¼ˆåé€»è¾‘ï¼‰â†’Â <code>@AfterReturning</code>Â â†’Â <code>@After</code></p>
<h5 data-id="heading-12">2. å¼‚å¸¸æµç¨‹</h5>
<p><code>@Before</code>Â â†’Â <code>@Around</code>ï¼ˆå‰é€»è¾‘ï¼‰â†’ ç›®æ ‡æ–¹æ³•ï¼ˆæŠ›å¼‚å¸¸ï¼‰â†’Â <code>@Around</code>ï¼ˆå¼‚å¸¸æ•è· /finallyï¼‰â†’Â <code>@AfterThrowing</code>Â â†’Â <code>@After</code></p>
<h3 data-id="heading-13">å››ã€é€šçŸ¥æ‰§è¡Œé¡ºåºï¼ˆå¤šåˆ‡é¢åœºæ™¯ï¼‰</h3>
<p>å½“å¤šä¸ªåˆ‡é¢ä½œç”¨äºåŒä¸€ç›®æ ‡æ–¹æ³•æ—¶ï¼Œæ‰§è¡Œé¡ºåºé€šè¿‡ä»¥ä¸‹è§„åˆ™æ§åˆ¶ï¼š</p>
<h4 data-id="heading-14">1. é»˜è®¤è§„åˆ™ï¼ˆæ—  @Order æ—¶ï¼‰</h4>
<p>æŒ‰<strong>åˆ‡é¢ç±»çš„ç±»åé¦–å­—æ¯æ’åº</strong>ï¼ˆASCII ç é¡ºåºï¼‰ï¼š</p>
<ul>
<li>ç›®æ ‡æ–¹æ³•<strong>å‰</strong>çš„é€šçŸ¥ï¼šå­—æ¯æ’åé å‰çš„åˆ‡é¢å…ˆæ‰§è¡Œï¼ˆå¦‚Â <code>AspectA</code>Â æ¯”Â <code>AspectB</code>Â å…ˆæ‰§è¡Œå‰ç½®é€šçŸ¥ï¼‰ã€‚</li>
<li>ç›®æ ‡æ–¹æ³•<strong>å</strong>çš„é€šçŸ¥ï¼šå­—æ¯æ’åé å‰çš„åˆ‡é¢åæ‰§è¡Œï¼ˆå¦‚Â <code>AspectA</code>Â æ¯”Â <code>AspectB</code>Â åæ‰§è¡Œåç½®é€šçŸ¥ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-15">2. è‡ªå®šä¹‰è§„åˆ™ï¼ˆç”¨ @Order æ³¨è§£ï¼‰</h4>
<p>åœ¨åˆ‡é¢ç±»ä¸Šæ·»åŠ Â <code>@Order(æ•°å­—)</code>Â æ§åˆ¶é¡ºåºï¼ˆæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰ï¼š</p>
<ul>
<li>ç›®æ ‡æ–¹æ³•<strong>å‰</strong>çš„é€šçŸ¥ï¼šæ•°å­—å°çš„åˆ‡é¢å…ˆæ‰§è¡Œï¼ˆå¦‚Â <code>@Order(1)</code>Â æ¯”Â <code>@Order(2)</code>Â å…ˆæ‰§è¡Œå‰ç½®é€šçŸ¥ï¼‰ã€‚</li>
<li>ç›®æ ‡æ–¹æ³•<strong>å</strong>çš„é€šçŸ¥ï¼šæ•°å­—å°çš„åˆ‡é¢åæ‰§è¡Œï¼ˆå¦‚Â <code>@Order(1)</code>Â æ¯”Â <code>@Order(2)</code>Â åæ‰§è¡Œåç½®é€šçŸ¥ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-16">äº”ã€åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼ˆPointCut Expressionï¼‰</h3>
<p>ä½œç”¨ï¼šå®šä¹‰ â€œå“ªäº›æ–¹æ³•éœ€è¦åŠ å…¥é€šçŸ¥â€ï¼Œæ ¸å¿ƒæœ‰ä¸¤ç§å½¢å¼ï¼š<code>execution</code>ï¼ˆæŒ‰æ–¹æ³•ç­¾ååŒ¹é…ï¼‰å’ŒÂ <code>@annotation</code>ï¼ˆæŒ‰æ³¨è§£åŒ¹é…ï¼‰ã€‚</p>
<h4 data-id="heading-17">1. executionï¼ˆæŒ‰æ–¹æ³•ç­¾ååŒ¹é…ï¼‰</h4>
<p>é€šè¿‡<strong>æ–¹æ³•è¿”å›å€¼ã€åŒ…åã€ç±»åã€æ–¹æ³•åã€å‚æ•°</strong>å®šä½æ–¹æ³•ï¼Œè¯­æ³•æ ¼å¼ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">execution(è®¿é—®ä¿®é¥°ç¬¦ è¿”å›å€¼ åŒ…å.ç±»åï¼ˆæˆ–æ¥å£åï¼‰.æ–¹æ³•å(æ–¹æ³•å‚æ•°) throws å¼‚å¸¸)
</code></pre>
<h5 data-id="heading-18">å…³é”®è¯´æ˜</h5>
<ul>
<li>
<p><strong>å¯çœç•¥éƒ¨åˆ†</strong>ï¼š</p>
<ol>
<li>è®¿é—®ä¿®é¥°ç¬¦ï¼ˆå¦‚ publicã€protectedï¼Œä¸€èˆ¬çœç•¥ï¼‰ï¼›</li>
<li>åŒ…å.ç±»åï¼ˆçœç•¥ååŒ¹é…èŒƒå›´æ›´å®½ï¼Œä¸€èˆ¬ä¸çœç•¥ï¼‰ï¼›</li>
<li>throws å¼‚å¸¸ï¼ˆæŒ‡å®šæ–¹æ³•å£°æ˜çš„å¼‚å¸¸ï¼Œä¸€èˆ¬çœç•¥ï¼‰ã€‚</li>
</ol>
</li>
<li>
<p><strong>é€šé…ç¬¦ç”¨æ³•</strong>ï¼š</p>




















<table><thead><tr><th>é€šé…ç¬¦</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>*</code></td><td>åŒ¹é…<strong>å•ä¸ª</strong>ä»»æ„ç¬¦å·</td><td><code>execution(* com.service.*.add*(..))</code></td></tr><tr><td><code>..</code></td><td>åŒ¹é…<strong>å¤šä¸ª</strong>è¿ç»­ä»»æ„ç¬¦å·</td><td><code>execution(* com..*.find*(String, ..))</code></td></tr></tbody></table>
</li>
<li>
<p><strong>ç»„åˆé€»è¾‘</strong>ï¼šæ”¯æŒç”¨Â <code>&amp;&amp;</code>ï¼ˆä¸”ï¼‰ã€<code>||</code>ï¼ˆæˆ–ï¼‰ã€<code>!</code>ï¼ˆéï¼‰ç»„åˆè¡¨è¾¾å¼ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">// åŒ¹é… com.service åŒ…ä¸‹æ‰€æœ‰ç±»çš„ add æˆ– update å¼€å¤´çš„æ–¹æ³•
execution(* com.service.*.add*(..)) || execution(* com.service.*.update*(..))
</code></pre>
</li>
</ul>
<h5 data-id="heading-19">åˆ‡å…¥ç‚¹å¤ç”¨ï¼ˆ@Pointcutï¼‰</h5>
<p>åœ¨åˆ‡é¢ç±»ä¸­å®šä¹‰ä¸€ä¸ªç©ºæ–¹æ³•ï¼Œç”¨Â <code>@Pointcut</code>Â æ ‡æ³¨è¡¨è¾¾å¼ï¼Œåç»­é€šçŸ¥å¯ç›´æ¥å¼•ç”¨è¯¥æ–¹æ³•ï¼Œé¿å…é‡å¤å†™è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰åˆ‡å…¥ç‚¹ï¼ˆç©ºæ–¹æ³• + @Pointcutï¼‰</span>
<span class="hljs-meta">@Pointcut("execution(* com.service.UserService.*(..))")</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">userServicePointCut</span><span class="hljs-params">()</span> {}

<span class="hljs-comment">// 2. é€šçŸ¥å¼•ç”¨åˆ‡å…¥ç‚¹</span>
<span class="hljs-meta">@Before("userServicePointCut()")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeAdvice</span><span class="hljs-params">(JoinPoint joinPoint)</span> {
    <span class="hljs-comment">// é€šçŸ¥é€»è¾‘</span>
}
</code></pre>
<h4 data-id="heading-20">2. @annotationï¼ˆæŒ‰æ³¨è§£åŒ¹é…ï¼‰</h4>
<p>é€šè¿‡ â€œæ–¹æ³•æ˜¯å¦è¢«ç‰¹å®šæ³¨è§£æ ‡è®°â€ æ¥åŒ¹é…ï¼Œé€‚ç”¨äº<strong>æ— ç»Ÿä¸€æ–¹æ³•åä½†éœ€åŠ ç›¸åŒåŠŸèƒ½</strong>çš„åœºæ™¯ã€‚</p>
<h5 data-id="heading-21">æ­¥éª¤</h5>
<ol>
<li>
<p><strong>åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£</strong>ï¼šæ·»åŠ Â <code>@Retention(RUNTIME)</code>ï¼ˆè¿è¡Œæ—¶æœ‰æ•ˆï¼‰å’ŒÂ <code>@Target(METHOD)</code>ï¼ˆä»…ä½œç”¨äºæ–¹æ³•ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Log { <span class="hljs-comment">// è‡ªå®šä¹‰æ³¨è§£åï¼Œå¦‚ @Log</span>
}
</code></pre>
</li>
<li>
<p><strong>æ ‡è®°ç›®æ ‡æ–¹æ³•</strong>ï¼šåœ¨éœ€è¦åŠ é€šçŸ¥çš„æ–¹æ³•ä¸Šæ·»åŠ è‡ªå®šä¹‰æ³¨è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// ç”¨ @Log æ ‡è®°è¯¥æ–¹æ³•ï¼Œä¼šè¢« AOP æ‹¦æˆª</span>
    <span class="hljs-meta">@Log</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}
</code></pre>
</li>
<li>
<p><strong>å®šä¹‰åˆ‡å…¥ç‚¹</strong>ï¼šé€šè¿‡Â <code>@annotation(æ³¨è§£å…¨ç±»å)</code>Â åŒ¹é…è¢«æ ‡è®°çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogAspect</span> {
    <span class="hljs-comment">// åˆ‡å…¥ç‚¹ï¼šåŒ¹é…è¢« @Log æ³¨è§£æ ‡è®°çš„æ–¹æ³•</span>
    <span class="hljs-meta">@Pointcut("@annotation(com.annotation.Log)")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logPointCut</span><span class="hljs-params">()</span> {}

    <span class="hljs-comment">// ç¯ç»•é€šçŸ¥å¼•ç”¨åˆ‡å…¥ç‚¹</span>
    <span class="hljs-meta">@Around("logPointCut()")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">aroundAdvice</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// æ—¥å¿—é€»è¾‘</span>
        <span class="hljs-keyword">return</span> joinPoint.proceed(); <span class="hljs-comment">// æ‰§è¡ŒåŸå§‹æ–¹æ³•</span>
    }
}
</code></pre>
</li>
</ol>
<h3 data-id="heading-22">å…­ã€è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰API</h3>
<p><code>JoinPoint</code>Â æ˜¯ Spring å¯¹ â€œæ–¹æ³•æ‰§è¡Œè¿æ¥ç‚¹â€ çš„æŠ½è±¡ï¼Œç”¨äºè·å–æ–¹æ³•è¿è¡Œæ—¶çš„å…³é”®ä¿¡æ¯ï¼ˆå¦‚å‚æ•°ã€æ–¹æ³•åã€ç›®æ ‡å¯¹è±¡ï¼‰ã€‚</p>
<h4 data-id="heading-23">1. ç±»å‹åŒºåˆ«</h4>




















<table><thead><tr><th>é€šçŸ¥ç±»å‹</th><th>å¿…é¡»ä½¿ç”¨çš„è¿æ¥ç‚¹ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>@Around</code></td><td><code>ProceedingJoinPoint</code></td><td><code>JoinPoint</code>Â å­ç±»ï¼Œæ”¯æŒé€šè¿‡Â <code>proceed()</code>Â æ‰§è¡ŒåŸå§‹æ–¹æ³•</td></tr><tr><td><code>@Before</code>/<code>@After</code>Â ç­‰</td><td><code>JoinPoint</code></td><td>éç¯ç»•é€šçŸ¥çš„é€šç”¨ç±»å‹ï¼Œæ— Â <code>proceed()</code>Â æ–¹æ³•</td></tr></tbody></table>
<h4 data-id="heading-24">2. å¸¸ç”¨ API</h4>








































<table><thead><tr><th>API æ–¹æ³•</th><th>è¿”å›å€¼ç±»å‹</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td><code>getTarget()</code></td><td><code>Object</code></td><td>è·å–è¢«ä»£ç†çš„<strong>åŸå§‹ç›®æ ‡å¯¹è±¡</strong>ï¼ˆå¦‚ UserService å®ä¾‹ï¼‰</td></tr><tr><td><code>getSignature().getName()</code></td><td><code>String</code></td><td>è·å–ç›®æ ‡<strong>æ–¹æ³•å</strong>ï¼ˆå¦‚ "addUser"ï¼‰</td></tr><tr><td><code>getArgs()</code></td><td><code>Object[]</code></td><td>è·å–ç›®æ ‡æ–¹æ³•<strong>å…¥å‚æ•°ç»„</strong>ï¼ˆå¦‚ [user å¯¹è±¡]ï¼‰</td></tr><tr><td><code>getSignature().getDeclaringTypeName()</code></td><td><code>String</code></td><td>è·å–æ–¹æ³•æ‰€åœ¨ç±»çš„<strong>å…¨ç±»å</strong>ï¼ˆå¦‚ "com.service.UserService"ï¼‰</td></tr><tr><td><code>(MethodSignature)getSignature()</code></td><td><code>MethodSignature</code></td><td>å¼ºè½¬åå¯è·å–Â <code>Method</code>Â å¯¹è±¡ï¼ˆåå°„æ“ä½œï¼‰</td></tr><tr><td><code>proceed()</code>ï¼ˆä»… ProceedingJoinPointï¼‰</td><td><code>Object</code></td><td>æ‰§è¡ŒåŸå§‹ç›®æ ‡æ–¹æ³•ï¼ˆ@Around å¿…å¤‡ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-25">ä¸ƒã€AOP å®æˆ˜æ¡ˆä¾‹ï¼šè®°å½•æ“ä½œæ—¥å¿—</h3>
<p>éœ€æ±‚ï¼šè®°å½•æ–¹æ³•æ‰§è¡Œæ—¶çš„<strong>æ“ä½œäººã€æ“ä½œæ—¶é—´ã€å…¨ç±»åã€æ–¹æ³•åã€å‚æ•°ã€è¿”å›å€¼ã€æ‰§è¡Œæ—¶é•¿</strong>ã€‚</p>
<h4 data-id="heading-26">æ­¥éª¤</h4>
<ol>
<li>
<p><strong>å¯¼å…¥ä¾èµ–</strong>ï¼ˆSpring Boot é¡¹ç›®ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>åˆ›å»ºæ—¥å¿—å®ä½“ç±»</strong>ï¼ˆå¯¹åº”æ•°æ®åº“è¡¨ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperateLog</span> {
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String operator; <span class="hljs-comment">// æ“ä½œäºº</span>
    <span class="hljs-keyword">private</span> LocalDateTime operateTime; <span class="hljs-comment">// æ“ä½œæ—¶é—´</span>
    <span class="hljs-keyword">private</span> String className; <span class="hljs-comment">// å…¨ç±»å</span>
    <span class="hljs-keyword">private</span> String methodName; <span class="hljs-comment">// æ–¹æ³•å</span>
    <span class="hljs-keyword">private</span> String args; <span class="hljs-comment">// æ–¹æ³•å‚æ•°ï¼ˆJSON æ ¼å¼ï¼‰</span>
    <span class="hljs-keyword">private</span> String returnValue; <span class="hljs-comment">// è¿”å›å€¼ï¼ˆJSON æ ¼å¼ï¼‰</span>
    <span class="hljs-keyword">private</span> Long costTime; <span class="hljs-comment">// æ‰§è¡Œæ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰</span>
}
</code></pre>
</li>
<li>
<p><strong>åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£ @Log</strong>ï¼ˆæ ‡è®°éœ€è¦è®°å½•æ—¥å¿—çš„æ–¹æ³•ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Log {}
</code></pre>
</li>
<li>
<p><strong>å®šä¹‰åˆ‡é¢ç±» LogAspect</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LogAspect</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> HttpServletRequest request; <span class="hljs-comment">// ç”¨äºè·å–ç™»å½•ç”¨æˆ·ï¼ˆå¦‚ä» Token ä¸­è§£æï¼‰</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OperateLogMapper operateLogMapper; <span class="hljs-comment">// æ•°æ®åº“æ“ä½œ mapper</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> ObjectMapper objectMapper; <span class="hljs-comment">// ç”¨äºå‚æ•°/è¿”å›å€¼è½¬ JSON</span>

    <span class="hljs-comment">// åˆ‡å…¥ç‚¹ï¼šåŒ¹é…è¢« @Log æ ‡è®°çš„æ–¹æ³•</span>
    <span class="hljs-meta">@Pointcut("@annotation(com.annotation.Log)")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logPointCut</span><span class="hljs-params">()</span> {}

    <span class="hljs-comment">// ç¯ç»•é€šçŸ¥ï¼šè®°å½•æ—¥å¿—</span>
    <span class="hljs-meta">@Around("logPointCut()")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">recordLog</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// 1. å‰ç½®é€»è¾‘ï¼šè®°å½•å¼€å§‹æ—¶é—´ã€è·å–åŸºç¡€ä¿¡æ¯</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">OperateLog</span> <span class="hljs-variable">operateLog</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OperateLog</span>();
        
        <span class="hljs-comment">// è·å–æ“ä½œäººï¼ˆç¤ºä¾‹ï¼šä»è¯·æ±‚å¤´ Token è§£æï¼Œå®é™…éœ€ç»“åˆç™»å½•é€»è¾‘ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> request.getHeader(<span class="hljs-string">"Token"</span>);
        <span class="hljs-type">String</span> <span class="hljs-variable">operator</span> <span class="hljs-operator">=</span> parseOperatorFromToken(token); <span class="hljs-comment">// è‡ªå®šä¹‰æ–¹æ³•ï¼šä» Token å–ç”¨æˆ·å</span>
        operateLog.setOperator(operator);
        
        <span class="hljs-comment">// è·å–å…¨ç±»åã€æ–¹æ³•å</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> joinPoint.getSignature().getDeclaringTypeName();
        <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> joinPoint.getSignature().getName();
        operateLog.setClassName(className);
        operateLog.setMethodName(methodName);
        
        <span class="hljs-comment">// è·å–æ–¹æ³•å‚æ•°ï¼ˆè½¬ JSONï¼‰</span>
        Object[] args = joinPoint.getArgs();
        <span class="hljs-type">String</span> <span class="hljs-variable">argsJson</span> <span class="hljs-operator">=</span> objectMapper.writeValueAsString(args);
        operateLog.setArgs(argsJson);
        
        <span class="hljs-comment">// 2. æ‰§è¡ŒåŸå§‹æ–¹æ³•</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            result = joinPoint.proceed(); <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
            <span class="hljs-comment">// 3. æ­£å¸¸è¿”å›ï¼šè®°å½•è¿”å›å€¼</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">resultJson</span> <span class="hljs-operator">=</span> objectMapper.writeValueAsString(result);
            operateLog.setReturnValue(resultJson);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// 4. åç½®é€»è¾‘ï¼šè®°å½•æ‰§è¡Œæ—¶é•¿ã€æ“ä½œæ—¶é—´ï¼Œæ’å…¥æ•°æ®åº“ï¼ˆfinally ç¡®ä¿å¿…æ‰§è¡Œï¼‰</span>
            <span class="hljs-type">long</span> <span class="hljs-variable">costTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
            operateLog.setCostTime(costTime);
            operateLog.setOperateTime(LocalDateTime.now());
            operateLogMapper.insert(operateLog); <span class="hljs-comment">// æ’å…¥æ—¥å¿—è¡¨</span>
        }
        
        <span class="hljs-keyword">return</span> result;
    }

    <span class="hljs-comment">// è‡ªå®šä¹‰æ–¹æ³•ï¼šä» Token è§£ææ“ä½œäººï¼ˆç¤ºä¾‹ï¼Œå®é™…éœ€ç»“åˆ JWT ç­‰é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">parseOperatorFromToken</span><span class="hljs-params">(String token)</span> {
        <span class="hljs-comment">// çœç•¥ Token è§£æé€»è¾‘ï¼Œè¿”å›ç”¨æˆ·å</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"admin"</span>;
    }
}
</code></pre>
</li>
<li>
<p><strong>æ ‡è®°ç›®æ ‡æ–¹æ³•</strong>ï¼šåœ¨éœ€è¦è®°å½•æ—¥å¿—çš„ä¸šåŠ¡æ–¹æ³•ä¸Šæ·»åŠ Â <code>@Log</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Log</span> <span class="hljs-comment">// æ ‡è®°è¯¥æ–¹æ³•éœ€è¦è®°å½•æ“ä½œæ—¥å¿—</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">addUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šæ–°å¢ç”¨æˆ·</span>
        <span class="hljs-keyword">return</span> user;
    }
}
</code></pre>
</li>
</ol>
<h3 data-id="heading-27">å…«ã€åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¹¦å†™å»ºè®®</h3>
<ol>
<li><strong>è§„èŒƒæ–¹æ³•å‘½å</strong>ï¼šå¦‚æŸ¥è¯¢æ–¹æ³•ç»Ÿä¸€ç”¨Â <code>find</code>Â å¼€å¤´ã€æ›´æ–°ç”¨Â <code>update</code>Â å¼€å¤´ï¼Œæ–¹ä¾¿Â <code>execution</code>Â è¡¨è¾¾å¼åŒ¹é…ã€‚</li>
<li><strong>åŸºäºæ¥å£æè¿°</strong>ï¼šä¼˜å…ˆåŒ¹é…æ¥å£æ–¹æ³•ï¼ˆå¦‚Â <code>execution(* com.service.UserService.*(..))</code>ï¼‰ï¼Œè€Œéå®ç°ç±»ï¼Œå¢å¼ºæ‰©å±•æ€§ã€‚</li>
<li><strong>ç¼©å°åŒ¹é…èŒƒå›´</strong>ï¼šé¿å…ä½¿ç”¨è¿‡äºå®½æ³›çš„è¡¨è¾¾å¼ï¼ˆå¦‚Â <code>execution(* com..*(..))</code>ï¼‰ï¼Œå‡å°‘ä¸å¿…è¦çš„æ‹¦æˆªï¼Œæå‡æ€§èƒ½ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linuxç³»ç»Ÿï¼ˆUbuntuï¼‰å®‰è£…Java 8]]></title>    <link>https://juejin.cn/post/7582425536463814682</link>    <guid>https://juejin.cn/post/7582425536463814682</guid>    <pubDate>2025-12-11T14:32:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582425536463814682" data-draft-id="7582433630472405019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linuxç³»ç»Ÿï¼ˆUbuntuï¼‰å®‰è£…Java 8"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-12-11T14:32:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­¦ä¹ CSçš„å°ç™½"/> <meta itemprop="url" content="https://juejin.cn/user/4493023137500890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linuxç³»ç»Ÿï¼ˆUbuntuï¼‰å®‰è£…Java 8
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4493023137500890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­¦ä¹ CSçš„å°ç™½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T14:32:26.000Z" title="Thu Dec 11 2025 14:32:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Linuxç³»ç»Ÿï¼ˆUbuntuï¼‰å®‰è£…Java 8</h2>
<p><em>ç¯å¢ƒè¯´æ˜ï¼šæœ¬åœ°Windowsç³»ç»Ÿå®‰è£…Linuxè™šæ‹Ÿæœºï¼Œå®‰è£…çš„Linuxå‘è¡Œç‰ˆä¸ºUbuntuã€‚</em></p>
<h3 data-id="heading-1">å‰ç½®æ“ä½œ</h3>
<ol>
<li>æ³¨å†Œç”²éª¨æ–‡ï¼ˆOracleï¼‰è´¦å·</li>
<li>ç™»å½•Linuxç³»ç»Ÿç»ˆç«¯</li>
<li>Linuxç³»ç»Ÿå¯ä»¥åˆ‡æ¢rootç”¨æˆ·æƒé™</li>
</ol>
<h3 data-id="heading-2">ä¸‹è½½JDK8</h3>
<p>ç°åœ¨ä¸‹è½½JDK8éœ€è¦åœ¨ç”²éª¨æ–‡ï¼ˆoracleï¼‰å…¬å¸çš„ç½‘ç«™ä¸Šæ³¨å†Œè´¦å·æ‰èƒ½ä¸‹è½½ï¼Œè‹¥æ²¡æœ‰è´¦å·è¯·å…ˆæ³¨å†Œã€‚</p>
<p>åœ¨(<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.oracle.com%2Fjava%2Ftechnologies%2Fdownloads%2Farchive%2F" target="_blank" title="https://www.oracle.com/java/technologies/downloads/archive/" ref="nofollow noopener noreferrer">Java Archive | Oracle</a>)é¡µé¢å¯ä»¥æ‰¾åˆ°Javaçš„å„ä¸ªç‰ˆæœ¬ï¼Œè¿™é‡Œé€‰æ‹©<code>Java SE 8(8u202 and earlier)</code>ã€‚åœ¨Java 8å½’æ¡£ä¸‹è½½é¡µé¢ï¼Œæ‰¾åˆ°<code>Java SE Development Kit 8u202</code>éƒ¨åˆ†å†…å®¹ï¼Œæ ¹æ®æ“ä½œç³»ç»ŸåŠCPUç±»å‹é€‰æ‹©åˆé€‚çš„æ–‡ä»¶ä¸‹è½½ï¼ˆLinuxç³»ç»Ÿé€šè¿‡<code>uname -a</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿå’Œè®¡ç®—æœºåŸºæœ¬ä¿¡æ¯ï¼‰ï¼Œé€‰æ‹©ä¸‹è½½å‹ç¼©åŒ…å‘½åä¸º<code>*.tar.gz</code>çš„ã€‚</p>
<p>æˆ‘é€‰æ‹©çš„æ˜¯<code>jdk-8u202-linux-x64.tar.gz</code>ã€‚</p>
<p>ç‚¹å‡»ä¸‹è½½é“¾æ¥ï¼Œåœ¨å¼¹å‡ºçš„æç¤ºæ¡†ä¸­å‹¾é€‰åŒæ„è®¸å¯ï¼Œç„¶åç‚¹å‡»ä¸‹è½½ã€‚ä¸‹è½½å®Œæˆåå°†æ–‡ä»¶æ‹·è´åˆ°Linuxç³»ç»Ÿä¸­ã€‚</p>
<p><strong>è¿™é‡Œä¹‹æ‰€ä»¥ä¸ç›´æ¥åœ¨Linuxç³»ç»Ÿä¸­ä¸‹è½½æ˜¯å› ä¸ºå°†é“¾æ¥å¤åˆ¶è¿‡å»ä½¿ç”¨<code>wget -c é“¾æ¥</code>ï¼Œä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶æ˜¯æŸåçš„ï¼Œæ— æ³•è§£å‹ã€‚çŒœæµ‹æ˜¯ç”²éª¨æ–‡å…¬å¸åœ¨ä¸‹è½½ä¼šåšä¸€äº›éªŒè¯ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥å°†é“¾æ¥å¤åˆ¶åˆ°Linuxç³»ç»Ÿä¸‹è½½ã€‚</strong></p>
<p>ç™»å½•Linuxç³»ç»Ÿä¸­ï¼Œåˆ‡æ¢ï¼ˆ<code>cd</code>å‘½ä»¤ï¼‰åˆ°å­˜æ”¾JDK8çš„ç›®å½•ä¸‹ã€‚</p>
<h3 data-id="heading-3">è§£å‹JDK8</h3>
<p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>tar -xzvf jdk-8u202-linux-x64.tar.gz</code>è§£å‹æ–‡ä»¶ã€‚</p>
<p>è§£å‹å®Œæˆåï¼Œä½¿ç”¨<code>ls</code>å‘½ä»¤ä¼šçœ‹åˆ°ç›®å½•ä¸‹å¤šå‡ºä¸€ä¸ª<code>jdk1.8.0_202</code>çš„ç›®å½•ã€‚</p>
<p><strong>ç§»åŠ¨<code>jdk1.8.0_202</code>ç›®å½•çš„æ“ä½œå¯ä»¥ä¸æ‰§è¡Œï¼Œä½†ä¸€å®šè¦çŸ¥é“ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨<code>pwd</code>å‘½ä»¤æ˜¾ç¤ºç»å¯¹è·¯å¾„ä¿¡æ¯ã€‚è‹¥ä¸ç§»åŠ¨ç›®å½•è¯·è·³è¿‡æœ¬èŠ‚å†…å®¹ï¼Œç›´æ¥é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚</strong></p>
<p>æ–°å»º<code>/usr/java</code>ç›®å½•ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨rootç”¨æˆ·æƒé™ï¼š<code>sudo mkdir -p /usr/java</code>ã€‚</p>
<p>å°†<code>jdk1.8.0_202</code>ç›®å½•ç§»åŠ¨åˆ°<code>/usr/java/</code>ä¸‹ï¼š<code>sudo mv jdk1.8.0_202/ /usr/java/</code>ã€‚</p>
<h3 data-id="heading-4">é…ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡</h3>
<p>ä¸ºäº†æ–¹ä¾¿æè¿°ï¼Œè¿™é‡Œå°†<code>jdk1.8.0_202</code>ç›®å½•çš„ç»å¯¹è·¯å¾„è®°ä¸º<code>/usr/java/jdk1.8.0_202</code>ï¼Œè‹¥æœªç§»åŠ¨è¿‡ç›®å½•è¯·ä½¿ç”¨è‡ªå·±ç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚</p>
<p>åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼š<code>su</code>ã€‚</p>
<p>ç¼–è¾‘Linuxç³»ç»Ÿçš„shell ç¯å¢ƒåˆå§‹åŒ–é…ç½®æ–‡ä»¶<code>/etc/profile</code>ã€‚ï¼ˆè¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œ<code>/etc/profile</code>é…ç½®æ–‡ä»¶çš„ä½œç”¨èŒƒå›´æ˜¯ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·ã€‚è‹¥è¦åªå¯¹å½“å‰ç”¨æˆ·ï¼Œè¯·ç¼–è¾‘<code>~/.bashrc</code>æ–‡ä»¶ã€‚ï¼‰</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">è®¾ç½®JAVA_HOMEå˜é‡ã€PATHå˜é‡</span>
echo "export JAVA_HOME=/usr/java/jdk1.8.0_202" &gt;&gt; /etc/profile
echo "export PATH=\$JAVA_HOME/bin:\$PATH" &gt;&gt; /etc/profile
<span class="hljs-meta prompt_">
# </span><span class="bash">è®©é…ç½®ç«‹å³ç”Ÿæ•ˆ</span>
source /etc/profile
</code></pre>
<p>ä½¿ç”¨<code>echo $PATH</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ˜¯å¦å°†javaçš„binç›®å½•æ·»åŠ åˆ°PATHå˜é‡ä¸­ã€‚</p>
<p>è¾“å…¥<code>java -version</code>ç»ˆç«¯å›æ˜¾å‡ºç°javaç‰ˆæœ¬å³ä»£è¡¨Javaé…ç½®æˆåŠŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0602c783472049af9ba9d53b85943ef7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2m5LmgQ1PnmoTlsI_nmb0=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068654&amp;x-signature=kP%2Fe48W1eXCR0Q6sK7ANTN%2BwcgM%3D" alt="java8é…ç½®æˆåŠŸæ˜¾ç¤ºç‰ˆæœ¬å·.jpg" loading="lazy"/></p>
<h3 data-id="heading-5">è¿è¡ŒHelloWorld</h3>
<p>åœ¨Linuxç»ˆç«¯è¾“å…¥<code>vi /tmp/HelloWorld.java</code>ï¼Œç¼–è¾‘Javaä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span> <span class="hljs-params">(String[] args)</span> {
                System.out.println(<span class="hljs-string">"Hello World !"</span>);
        }
}
</code></pre>
<p>é€€å‡ºç¼–è¾‘åï¼Œåˆ‡æ¢åˆ°<code>/tmp</code>ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ<code>javac HelloWorld.java</code>è¿›è¡Œç¼–è¯‘ã€‚</p>
<p>æœ€åæ‰§è¡Œ<code>java HelloWorld</code>è¿è¡ŒHelloWorldç¨‹åºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ff578417af448b4b8fa61853ba7c500~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2m5LmgQ1PnmoTlsI_nmb0=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068654&amp;x-signature=KvnCFLJTVYLqUqedGs4nYVQFDwc%3D" alt="HelloWorld.jpg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Drizzle ORMï¼šç±»å‹å®‰å…¨çš„æ•°æ®åº“å¼€å‘]]></title>    <link>https://juejin.cn/post/7582406735388246022</link>    <guid>https://juejin.cn/post/7582406735388246022</guid>    <pubDate>2025-12-11T14:42:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582406735388246022" data-draft-id="7582267229842898944" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Drizzle ORMï¼šç±»å‹å®‰å…¨çš„æ•°æ®åº“å¼€å‘"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T14:42:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸©å®‡é£"/> <meta itemprop="url" content="https://juejin.cn/user/4300945219403368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Drizzle ORMï¼šç±»å‹å®‰å…¨çš„æ•°æ®åº“å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4300945219403368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸©å®‡é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T14:42:07.000Z" title="Thu Dec 11 2025 14:42:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Drizzle ORM æ˜¯ä¸€ä¸ª TypeScript ä¼˜å…ˆçš„è½»é‡çº§ ORMï¼ˆObject-Relational Mappingï¼‰æ¡†æ¶ï¼Œä¸“æ³¨äºæä¾›ç±»å‹å®‰å…¨çš„æ•°æ®åº“æ“ä½œä½“éªŒã€‚ç›¸æ¯”ä¼ ç»Ÿ ORMï¼Œå®ƒé‡‡ç”¨æ¥è¿‘ SQL çš„ API è®¾è®¡ï¼Œåœ¨ä¿æŒç±»å‹æ¨å¯¼èƒ½åŠ›çš„åŒæ—¶é¿å…äº†è¿è¡Œæ—¶æ€§èƒ½æŸè€—ã€‚æœ¬æ–‡å°†ä»‹ç» Drizzle ORM çš„æ ¸å¿ƒç‰¹æ€§å’Œä½¿ç”¨æ–¹å¼ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå­¦ä¹  Drizzle ORM</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Drizzle ORM</h2>
<p>Drizzle ORM æ˜¯ä¸€ä¸ªä¸º TypeScript å¼€å‘è€…è®¾è®¡çš„ç°ä»£åŒ– ORM æ¡†æ¶ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯åœ¨æä¾›å®Œæ•´ç±»å‹å®‰å…¨çš„åŒæ—¶ä¿æŒæ¥è¿‘åŸç”Ÿ SQL çš„å¼€å‘ä½“éªŒã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2F" target="_blank" title="https://orm.drizzle.team/" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a> æä¾›äº†å®Œæ•´çš„ API å‚è€ƒå’Œä½¿ç”¨æŒ‡å—ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§</h3>
<p>Drizzle ORM çš„è®¾è®¡å›´ç»•ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç‰¹æ€§å±•å¼€ï¼š</p>
<p><strong>ç±»å‹å®‰å…¨ï¼ˆType Safetyï¼‰</strong></p>
<p>Drizzle æä¾›ç«¯åˆ°ç«¯çš„ç±»å‹æ¨å¯¼ã€‚ä» Schema å®šä¹‰åˆ°æŸ¥è¯¢ç»“æœï¼ŒTypeScript ç¼–è¯‘å™¨èƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶æ•è·ç±»å‹é”™è¯¯ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Schema å®šä¹‰è‡ªåŠ¨æ¨å¯¼å‡ºç±»å‹</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"users"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">name</span>: <span class="hljs-title function_">text</span>(<span class="hljs-string">"name"</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">email</span>: <span class="hljs-title function_">text</span>(<span class="hljs-string">"email"</span>).<span class="hljs-title function_">notNull</span>(),
});

<span class="hljs-comment">// æŸ¥è¯¢ç»“æœè‡ªåŠ¨æ¨å¯¼ç±»å‹</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(users).<span class="hljs-title function_">where</span>(<span class="hljs-title function_">eq</span>(users.<span class="hljs-property">id</span>, <span class="hljs-number">1</span>));
<span class="hljs-comment">// result ç±»å‹: { id: number; name: string; email: string }[]</span>
</code></pre>
<p><strong>SQL-Like API</strong></p>
<p>Drizzle çš„ API è®¾è®¡è´´è¿‘ SQL è¯­æ³•ï¼Œé™ä½å­¦ä¹ æˆæœ¬ã€‚ç†Ÿæ‚‰ SQL çš„å¼€å‘è€…å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Drizzle API</span>
<span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(users).<span class="hljs-title function_">where</span>(<span class="hljs-title function_">eq</span>(users.<span class="hljs-property">email</span>, <span class="hljs-string">"user@example.com"</span>));

<span class="hljs-comment">// å¯¹åº”çš„ SQL</span>
<span class="hljs-comment">// SELECT * FROM users WHERE email = 'user@example.com'</span>
</code></pre>
<p><strong>é›¶è¿è¡Œæ—¶å¼€é”€ï¼ˆZero Runtime Overheadï¼‰</strong></p>
<p>Drizzle ä¸ä½¿ç”¨ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰æˆ–è¿è¡Œæ—¶åå°„ï¼ˆReflectionï¼‰ï¼Œæ‰€æœ‰ç±»å‹æ£€æŸ¥åœ¨ç¼–è¯‘æ—¶å®Œæˆã€‚æŸ¥è¯¢æ„å»ºå™¨ç›´æ¥ç”Ÿæˆ SQL å­—ç¬¦ä¸²ã€‚å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdrizzle-team%2Fdrizzle-northwind-benchmarks" target="_blank" title="https://github.com/drizzle-team/drizzle-northwind-benchmarks" ref="nofollow noopener noreferrer">Drizzle æ€§èƒ½åŸºå‡†æµ‹è¯•</a>ã€‚</p>
<p><strong>æ”¯æŒå¤šç§æ•°æ®åº“</strong>ï¼šDrizzle ORM æ”¯æŒä¸»æµå…³ç³»å‹æ•°æ®åº“ï¼ŒåŒ…æ‹¬ PostgreSQLã€MySQLã€SQLite ç­‰</p>
<h3 data-id="heading-2">Drizzle Kitï¼šæ•°æ®åº“è¿ç§»å·¥å…·</h3>
<p>Drizzle Kit æ˜¯ Drizzle ORM çš„é…å¥— CLI å·¥å…·ï¼Œè´Ÿè´£æ•°æ®åº“è¿ç§»ç®¡ç†ã€Schema åŒæ­¥å’Œè‡ªçœã€‚è¯¦ç»†çš„å‘½ä»¤å’Œé…ç½®é€‰é¡¹å¯å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2Fkit-docs%2Foverview" target="_blank" title="https://orm.drizzle.team/kit-docs/overview" ref="nofollow noopener noreferrer">Drizzle Kit å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong></p>
<ol>
<li><strong>Schema è‡ªçœ</strong>ï¼šä»ç°æœ‰æ•°æ®åº“åå‘ç”Ÿæˆ Drizzle Schema ä»£ç </li>
<li><strong>è‡ªåŠ¨è¿ç§»ç”Ÿæˆ</strong>ï¼šå¯¹æ¯” Schema å®šä¹‰å’Œæ•°æ®åº“çŠ¶æ€ï¼Œç”Ÿæˆè¿ç§» SQL</li>
<li><strong>åŒå‘åŒæ­¥</strong>ï¼šæ”¯æŒä»æ•°æ®åº“æ‹‰å–æˆ–æ¨é€åˆ°æ•°æ®åº“</li>
<li><strong>å¯è§†åŒ–å·¥å…·</strong>ï¼šæä¾› Studio åœ¨çº¿ç®¡ç†æ•°æ®åº“</li>
</ol>
<p><strong>å¸¸ç”¨å‘½ä»¤</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»æ•°æ®åº“æ‹‰å–å¹¶ç”Ÿæˆ Schemaï¼ˆæ–°ç‰ˆæœ¬ï¼Œæ¨èï¼‰</span>
npx drizzle-kit pull

<span class="hljs-comment"># æ¨é€ Schema åˆ°æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span>
npx drizzle-kit push

<span class="hljs-comment"># ç”Ÿæˆè¿ç§»æ–‡ä»¶ï¼ˆå¯¹æ¯” Schema å’Œæ•°æ®åº“ï¼‰</span>
npx drizzle-kit generate

<span class="hljs-comment"># æ‰§è¡Œè¿ç§»æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span>
npx drizzle-kit migrate

<span class="hljs-comment"># æŸ¥çœ‹è¿ç§»çŠ¶æ€</span>
npx drizzle-kit check

<span class="hljs-comment"># å¯åŠ¨å¯è§†åŒ–ç®¡ç†å·¥å…·</span>
npx drizzle-kit studio
</code></pre>
<p><strong>å…¸å‹å·¥ä½œæµ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœºæ™¯ 1: ä»é›¶å¼€å§‹å¼€å‘ï¼ˆSchema ä¼˜å…ˆï¼‰</span>
npm run db:generate  <span class="hljs-comment"># ç”Ÿæˆåˆå§‹è¿ç§»</span>
npm run db:push      <span class="hljs-comment"># æ¨é€åˆ°æ•°æ®åº“</span>

<span class="hljs-comment"># åœºæ™¯ 2: æ¥æ‰‹ç°æœ‰é¡¹ç›®ï¼ˆæ•°æ®åº“ä¼˜å…ˆï¼‰</span>
npx drizzle-kit pull  <span class="hljs-comment"># ä»æ•°æ®åº“æ‹‰å– Schema</span>
npm run dev           <span class="hljs-comment"># å¼€å§‹å¼€å‘</span>

<span class="hljs-comment"># åœºæ™¯ 3: Schema å˜æ›´åçš„å¼€å‘æµç¨‹</span>
<span class="hljs-comment"># ä¿®æ”¹ schema.ts</span>
npm run db:generate   <span class="hljs-comment"># ç”Ÿæˆè¿ç§»æ–‡ä»¶</span>
npm run db:push       <span class="hljs-comment"># æ¨é€åˆ°å¼€å‘æ•°æ®åº“</span>

<span class="hljs-comment"># åœºæ™¯ 4: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²</span>
npm run db:generate   <span class="hljs-comment"># ç”Ÿæˆè¿ç§»æ–‡ä»¶</span>
git add drizzle/      <span class="hljs-comment"># ç‰ˆæœ¬æ§åˆ¶</span>
npm run db:migrate    <span class="hljs-comment"># åœ¨ç”Ÿäº§ç¯å¢ƒæ‰§è¡Œè¿ç§»</span>
</code></pre>
<p><strong>push vs generate+migrate</strong></p>























<table><thead><tr><th>æ–¹å¼</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>push</code></td><td>å¿«é€Ÿã€ç®€å•</td><td>æ— è¿ç§»å†å²ã€éš¾ä»¥å›æ»š</td><td>å¼€å‘ç¯å¢ƒ</td></tr><tr><td><code>generate</code>+<code>migrate</code></td><td>å¯å®¡æŸ¥ã€å¯ç‰ˆæœ¬æ§åˆ¶ã€å¯å›æ»š</td><td>æ­¥éª¤å¤šã€éœ€è¦ç®¡ç†è¿ç§»æ–‡ä»¶</td><td>ç”Ÿäº§ç¯å¢ƒ</td></tr></tbody></table>
<p><strong>é…ç½®æ–‡ä»¶ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">Config</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-kit"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">schema</span>: <span class="hljs-string">"./src/db/schema.ts"</span>, <span class="hljs-comment">// Schema æ–‡ä»¶è·¯å¾„</span>
  <span class="hljs-attr">out</span>: <span class="hljs-string">"./drizzle"</span>, <span class="hljs-comment">// è¿ç§»æ–‡ä»¶è¾“å‡ºç›®å½•</span>
  <span class="hljs-attr">dialect</span>: <span class="hljs-string">"postgresql"</span>, <span class="hljs-comment">// æ•°æ®åº“ç±»å‹ï¼špostgresql | mysql | sqlite</span>
  <span class="hljs-attr">dbCredentials</span>: {
    <span class="hljs-attr">url</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DATABASE_URL</span>!, <span class="hljs-comment">// æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²</span>
  },
} satisfies <span class="hljs-title class_">Config</span>;
</code></pre>
<h2 data-id="heading-3">æ ¸å¿ƒåŠŸèƒ½</h2>
<p>æœ¬ç« æ·±å…¥ä»‹ç» Drizzle ORM çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…æ‹¬æŸ¥è¯¢æ„å»ºã€å…³ç³»å¤„ç†ã€äº‹åŠ¡ç®¡ç†å’Œç±»å‹ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-4">æŸ¥è¯¢æ„å»ºå™¨</h3>
<p>Drizzle æä¾›å®Œæ•´çš„æŸ¥è¯¢æ„å»ºå™¨ APIï¼Œæ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ“ä½œã€‚å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2Fdocs%2Fselect" target="_blank" title="https://orm.drizzle.team/docs/select" ref="nofollow noopener noreferrer">Queries å®˜æ–¹æ–‡æ¡£</a> äº†è§£æ›´å¤šæŸ¥è¯¢é€‰é¡¹ã€‚</p>
<p><strong>åŸºç¡€æŸ¥è¯¢</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { db } <span class="hljs-keyword">from</span> <span class="hljs-string">"./db"</span>;
<span class="hljs-keyword">import</span> { users, posts } <span class="hljs-keyword">from</span> <span class="hljs-string">"./db/schema"</span>;
<span class="hljs-keyword">import</span> { eq, gt, and, or, like } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm"</span>;

<span class="hljs-comment">// æ¡ä»¶æŸ¥è¯¢</span>
<span class="hljs-keyword">const</span> activeUsers = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(users).<span class="hljs-title function_">where</span>(<span class="hljs-title function_">eq</span>(users.<span class="hljs-property">status</span>, <span class="hljs-string">"active"</span>));

<span class="hljs-comment">// å¤šæ¡ä»¶ç»„åˆ</span>
<span class="hljs-keyword">const</span> filteredUsers = <span class="hljs-keyword">await</span> db
  .<span class="hljs-title function_">select</span>()
  .<span class="hljs-title function_">from</span>(users)
  .<span class="hljs-title function_">where</span>(<span class="hljs-title function_">and</span>(<span class="hljs-title function_">gt</span>(users.<span class="hljs-property">age</span>, <span class="hljs-number">18</span>), <span class="hljs-title function_">like</span>(users.<span class="hljs-property">email</span>, <span class="hljs-string">"%@example.com"</span>)));

<span class="hljs-comment">// æ’åºå’Œåˆ†é¡µ</span>
<span class="hljs-keyword">const</span> paginatedUsers = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(users).<span class="hljs-title function_">orderBy</span>(users.<span class="hljs-property">createdAt</span>).<span class="hljs-title function_">limit</span>(<span class="hljs-number">10</span>).<span class="hljs-title function_">offset</span>(<span class="hljs-number">20</span>);
</code></pre>
<p><strong>JOIN æŸ¥è¯¢</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// INNER JOIN</span>
<span class="hljs-keyword">const</span> usersWithPosts = <span class="hljs-keyword">await</span> db
  .<span class="hljs-title function_">select</span>({
    <span class="hljs-attr">userId</span>: users.<span class="hljs-property">id</span>,
    <span class="hljs-attr">userName</span>: users.<span class="hljs-property">name</span>,
    <span class="hljs-attr">postTitle</span>: posts.<span class="hljs-property">title</span>,
  })
  .<span class="hljs-title function_">from</span>(users)
  .<span class="hljs-title function_">innerJoin</span>(posts, <span class="hljs-title function_">eq</span>(users.<span class="hljs-property">id</span>, posts.<span class="hljs-property">authorId</span>));

<span class="hljs-comment">// LEFT JOIN</span>
<span class="hljs-keyword">const</span> allUsersWithPosts = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(users).<span class="hljs-title function_">leftJoin</span>(posts, <span class="hljs-title function_">eq</span>(users.<span class="hljs-property">id</span>, posts.<span class="hljs-property">authorId</span>));
</code></pre>
<p><strong>èšåˆæŸ¥è¯¢</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { count, avg, sum } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm"</span>;

<span class="hljs-comment">// ç»Ÿè®¡æ•°é‡</span>
<span class="hljs-keyword">const</span> userCount = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>({ <span class="hljs-attr">count</span>: <span class="hljs-title function_">count</span>() }).<span class="hljs-title function_">from</span>(users);

<span class="hljs-comment">// åˆ†ç»„ç»Ÿè®¡</span>
<span class="hljs-keyword">const</span> postsByAuthor = <span class="hljs-keyword">await</span> db
  .<span class="hljs-title function_">select</span>({
    <span class="hljs-attr">authorId</span>: posts.<span class="hljs-property">authorId</span>,
    <span class="hljs-attr">postCount</span>: <span class="hljs-title function_">count</span>(posts.<span class="hljs-property">id</span>),
  })
  .<span class="hljs-title function_">from</span>(posts)
  .<span class="hljs-title function_">groupBy</span>(posts.<span class="hljs-property">authorId</span>);
</code></pre>
<h3 data-id="heading-5">å…³ç³»æŸ¥è¯¢</h3>
<p>Drizzle æ”¯æŒå£°æ˜å¼å…³ç³»å®šä¹‰ï¼Œç®€åŒ–å…³è”æ•°æ®æŸ¥è¯¢ã€‚è¯¦ç»†çš„å…³ç³»æŸ¥è¯¢ API å¯å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2Fdocs%2Frqb" target="_blank" title="https://orm.drizzle.team/docs/rqb" ref="nofollow noopener noreferrer">Relational Queries æ–‡æ¡£</a>ã€‚</p>
<p><strong>å®šä¹‰å…³ç³»</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { relations } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm"</span>;

<span class="hljs-comment">// åœ¨ schema.ts ä¸­å®šä¹‰å…³ç³»</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> usersRelations = <span class="hljs-title function_">relations</span>(users, <span class="hljs-function">(<span class="hljs-params">{ many }</span>) =&gt;</span> ({
  <span class="hljs-attr">posts</span>: <span class="hljs-title function_">many</span>(posts),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> postsRelations = <span class="hljs-title function_">relations</span>(posts, <span class="hljs-function">(<span class="hljs-params">{ one }</span>) =&gt;</span> ({
  <span class="hljs-attr">author</span>: <span class="hljs-title function_">one</span>(users, {
    <span class="hljs-attr">fields</span>: [posts.<span class="hljs-property">authorId</span>],
    <span class="hljs-attr">references</span>: [users.<span class="hljs-property">id</span>],
  }),
}));
</code></pre>
<p><strong>æŸ¥è¯¢å…³è”æ•°æ®</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æŸ¥è¯¢ç”¨æˆ·åŠå…¶æ‰€æœ‰æ–‡ç« </span>
<span class="hljs-keyword">const</span> userWithPosts = <span class="hljs-keyword">await</span> db.<span class="hljs-property">query</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">findFirst</span>({
  <span class="hljs-attr">where</span>: <span class="hljs-title function_">eq</span>(users.<span class="hljs-property">id</span>, <span class="hljs-number">1</span>),
  <span class="hljs-attr">with</span>: {
    <span class="hljs-attr">posts</span>: <span class="hljs-literal">true</span>,
  },
});

<span class="hljs-comment">// åµŒå¥—æŸ¥è¯¢</span>
<span class="hljs-keyword">const</span> postWithAuthor = <span class="hljs-keyword">await</span> db.<span class="hljs-property">query</span>.<span class="hljs-property">posts</span>.<span class="hljs-title function_">findFirst</span>({
  <span class="hljs-attr">where</span>: <span class="hljs-title function_">eq</span>(posts.<span class="hljs-property">id</span>, <span class="hljs-number">1</span>),
  <span class="hljs-attr">with</span>: {
    <span class="hljs-attr">author</span>: <span class="hljs-literal">true</span>,
  },
});

<span class="hljs-comment">// å¤šçº§åµŒå¥—</span>
<span class="hljs-keyword">const</span> userWithPostsAndComments = <span class="hljs-keyword">await</span> db.<span class="hljs-property">query</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">findFirst</span>({
  <span class="hljs-attr">with</span>: {
    <span class="hljs-attr">posts</span>: {
      <span class="hljs-attr">with</span>: {
        <span class="hljs-attr">comments</span>: <span class="hljs-literal">true</span>,
      },
    },
  },
});
</code></pre>
<h3 data-id="heading-6">äº‹åŠ¡å¤„ç†</h3>
<p>Drizzle æä¾›äº‹åŠ¡æ”¯æŒï¼Œç¡®ä¿æ“ä½œçš„åŸå­æ€§ã€‚æ›´å¤šäº‹åŠ¡ç”¨æ³•å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2Fdocs%2Ftransactions" target="_blank" title="https://orm.drizzle.team/docs/transactions" ref="nofollow noopener noreferrer">Transactions æ–‡æ¡£</a>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŸºç¡€äº‹åŠ¡</span>
<span class="hljs-keyword">await</span> db.<span class="hljs-title function_">transaction</span>(<span class="hljs-keyword">async</span> (tx) =&gt; {
  <span class="hljs-comment">// åˆ›å»ºç”¨æˆ·</span>
  <span class="hljs-keyword">const</span> [newUser] = <span class="hljs-keyword">await</span> tx
    .<span class="hljs-title function_">insert</span>(users)
    .<span class="hljs-title function_">values</span>({
      <span class="hljs-attr">name</span>: <span class="hljs-string">"Bob"</span>,
      <span class="hljs-attr">email</span>: <span class="hljs-string">"bob@example.com"</span>,
    })
    .<span class="hljs-title function_">returning</span>();

  <span class="hljs-comment">// ä¸ºç”¨æˆ·åˆ›å»ºæ–‡ç« </span>
  <span class="hljs-keyword">await</span> tx.<span class="hljs-title function_">insert</span>(posts).<span class="hljs-title function_">values</span>({
    <span class="hljs-attr">title</span>: <span class="hljs-string">"First Post"</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">"Hello World"</span>,
    <span class="hljs-attr">authorId</span>: newUser.<span class="hljs-property">id</span>,
  });
});

<span class="hljs-comment">// äº‹åŠ¡å›æ»š</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">transaction</span>(<span class="hljs-keyword">async</span> (tx) =&gt; {
    <span class="hljs-keyword">await</span> tx.<span class="hljs-title function_">insert</span>(users).<span class="hljs-title function_">values</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">"alice@example.com"</span> });

    <span class="hljs-comment">// å¦‚æœè¿™é‡ŒæŠ›å‡ºé”™è¯¯ï¼Œæ•´ä¸ªäº‹åŠ¡ä¼šå›æ»š</span>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Something went wrong"</span>);
  });
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Transaction rolled back"</span>);
}
</code></pre>
<h3 data-id="heading-7">è¿ç§»ç®¡ç†</h3>
<p>Drizzle Kit æä¾›è¿ç§»ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒå¢é‡è¿ç§»å’Œç‰ˆæœ¬æ§åˆ¶ã€‚è¯¦ç»†çš„è¿ç§»å‘½ä»¤å’Œé…ç½®å¯å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2Fdocs%2Fmigrations" target="_blank" title="https://orm.drizzle.team/docs/migrations" ref="nofollow noopener noreferrer">Migrations æ–‡æ¡£</a>ã€‚</p>
<p><strong>ç”Ÿæˆè¿ç§»</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ¹æ® schema å˜åŒ–ç”Ÿæˆè¿ç§»æ–‡ä»¶</span>
npx drizzle-kit generate:pg

<span class="hljs-comment"># æŸ¥çœ‹è¿ç§»çŠ¶æ€</span>
npx drizzle-kit status

<span class="hljs-comment"># åº”ç”¨è¿ç§»</span>
npx drizzle-kit push:pg
</code></pre>
<p><strong>è¿ç§»æ–‡ä»¶ç¤ºä¾‹</strong></p>
<p>ç”Ÿæˆçš„è¿ç§»æ–‡ä»¶æ˜¯æ ‡å‡† SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- drizzle/0000_initial.sql</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> "users" (
  "id" serial <span class="hljs-keyword">PRIMARY</span> KEY <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  "name" text <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  "email" text <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  "created_at" <span class="hljs-type">timestamp</span> <span class="hljs-keyword">DEFAULT</span> now()
);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> "users_email_idx" <span class="hljs-keyword">ON</span> "users" ("email");
</code></pre>
<h3 data-id="heading-8">ç±»å‹æ¨å¯¼</h3>
<p>Drizzle çš„ç±»å‹ç³»ç»Ÿæä¾›å®Œæ•´çš„ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨ï¼Œå……åˆ†åˆ©ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Ftype-inference.html" target="_blank" title="https://www.typescriptlang.org/docs/handbook/type-inference.html" ref="nofollow noopener noreferrer">TypeScript çš„ç±»å‹æ¨å¯¼èƒ½åŠ›</a>ã€‚æ›´å¤šç±»å‹æ¨å¯¼çš„ç”¨æ³•å¯å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Form.drizzle.team%2Fdocs%2Fgoodies" target="_blank" title="https://orm.drizzle.team/docs/goodies" ref="nofollow noopener noreferrer">Goodies æ–‡æ¡£</a>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä» Schema æ¨å¯¼ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = <span class="hljs-keyword">typeof</span> users.<span class="hljs-property">$inferSelect</span>; <span class="hljs-comment">// æŸ¥è¯¢ç»“æœç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NewUser</span> = <span class="hljs-keyword">typeof</span> users.<span class="hljs-property">$inferInsert</span>; <span class="hljs-comment">// æ’å…¥æ•°æ®ç±»å‹</span>

<span class="hljs-comment">// æŸ¥è¯¢ç»“æœè‡ªåŠ¨æ¨å¯¼</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> db
  .<span class="hljs-title function_">select</span>({
    <span class="hljs-attr">id</span>: users.<span class="hljs-property">id</span>,
    <span class="hljs-attr">name</span>: users.<span class="hljs-property">name</span>,
  })
  .<span class="hljs-title function_">from</span>(users);
<span class="hljs-comment">// result ç±»å‹: { id: number; name: string }[]</span>

<span class="hljs-comment">// éƒ¨åˆ†é€‰æ‹©ä¹Ÿæœ‰ç±»å‹æ¨å¯¼</span>
<span class="hljs-keyword">const</span> partial = <span class="hljs-keyword">await</span> db
  .<span class="hljs-title function_">select</span>({
    <span class="hljs-attr">userName</span>: users.<span class="hljs-property">name</span>,
    <span class="hljs-attr">postTitle</span>: posts.<span class="hljs-property">title</span>,
  })
  .<span class="hljs-title function_">from</span>(users)
  .<span class="hljs-title function_">leftJoin</span>(posts, <span class="hljs-title function_">eq</span>(users.<span class="hljs-property">id</span>, posts.<span class="hljs-property">authorId</span>));
<span class="hljs-comment">// partial ç±»å‹: { userName: string; postTitle: string | null }[]</span>
</code></pre>
<p>ç±»å‹æ¨å¯¼è¦†ç›–æ‰€æœ‰æ“ä½œ,ç¼–è¾‘å™¨å¯ä»¥æä¾›å‡†ç¡®çš„è‡ªåŠ¨è¡¥å…¨å’Œé”™è¯¯æç¤ºã€‚</p>
<h2 data-id="heading-9">å®æˆ˜æ¡ˆä¾‹ï¼šæ„å»ºä»»åŠ¡ç®¡ç†ç³»ç»Ÿ</h2>
<p>æœ¬ç« é€šè¿‡ä¸€ä¸ªä»»åŠ¡ç®¡ç†ç³»ç»Ÿçš„å®Œæ•´å®æˆ˜æ¡ˆä¾‹,å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Drizzle ORM ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªçœŸå®åº”ç”¨,åŒ…æ‹¬é¡¹ç›®åˆå§‹åŒ–ã€æ•°æ®åº“è®¾è®¡ã€Schema å®šä¹‰ã€è¿ç§»ç®¡ç†ä»¥åŠå¸¸è§çš„ä¸šåŠ¡æŸ¥è¯¢æ“ä½œã€‚</p>
<h3 data-id="heading-10">æ¡ˆä¾‹èƒŒæ™¯</h3>
<p>æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ªå›¢é˜Ÿä»»åŠ¡ç®¡ç†ç³»ç»Ÿ,éœ€è¦å®ç°ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½:</p>
<ul>
<li>ç”¨æˆ·ç®¡ç†å’Œè®¤è¯</li>
<li>é¡¹ç›®åˆ›å»ºå’Œç»„ç»‡</li>
<li>ä»»åŠ¡åˆ†é…å’ŒçŠ¶æ€è·Ÿè¸ª</li>
<li>ä»»åŠ¡æ ‡ç­¾åˆ†ç±»</li>
<li>ä»»åŠ¡è¯„è®ºå’Œåä½œ</li>
</ul>
<p>è¿™ä¸ªæ¡ˆä¾‹å°†å®Œæ•´æ¼”ç¤º Drizzle ORM çš„å®é™…åº”ç”¨åœºæ™¯,åŒ…æ‹¬å¤šå¯¹å¤šå…³ç³»ã€å¤–é”®çº¦æŸã€å¤æ‚æŸ¥è¯¢ç­‰ã€‚</p>
<h3 data-id="heading-11">é¡¹ç›®åˆå§‹åŒ–</h3>
<p><strong>ç¬¬ 1 æ­¥:åˆ›å»ºé¡¹ç›®å¹¶å®‰è£…ä¾èµ–</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> task-manager &amp;&amp; <span class="hljs-built_in">cd</span> task-manager
</code></pre>
<p>åˆå§‹åŒ–é¡¹ç›®ï¼š<code>npm init -y</code> + ç¼–è¾‘ <code>package.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"task-manager"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"db:generate"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"drizzle-kit generate"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"db:push"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"drizzle-kit push"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"db:seed"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsx src/seed.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"db:query"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsx src/query.ts"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dotenv"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^17.2.3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"drizzle-orm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.45.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"postgres"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.4.7"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@types/node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^25.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"drizzle-kit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.31.8"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tsx"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^4.21.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.9.3"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åˆå§‹åŒ– TypeScript é…ç½®ï¼š<code>npx tsc --init</code> + ç¼–è¾‘ <code>tsconfig.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-comment">// Visit https://aka.ms/tsconfig to read more about this file</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esnext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bundler"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"node"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esnext"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ç¬¬ 2 æ­¥:é…ç½®ç¯å¢ƒå˜é‡</strong></p>
<p>åˆ›å»º <code>.env</code> æ–‡ä»¶:</p>
<pre><code class="hljs language-env" lang="env">DATABASE_URL=postgresql://postgres:password@localhost:5432/task_manager_db
</code></pre>
<p><strong>ç¬¬ 3 æ­¥:åˆ›å»º PostgreSQL æ•°æ®åº“</strong></p>
<p>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2F" target="_blank" title="https://www.postgresql.org/docs/" ref="nofollow noopener noreferrer">PostgreSQL</a> åˆ›å»ºæ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿æ¥åˆ° PostgreSQL</span>
psql -U postgres

<span class="hljs-comment"># åˆ›å»ºæ•°æ®åº“</span>
CREATE DATABASE task_manager_db;
</code></pre>
<h3 data-id="heading-12">æ•°æ®åº“è®¾è®¡</h3>
<p><strong>ER å…³ç³»è¯´æ˜</strong></p>
<ul>
<li>ä¸€ä¸ªç”¨æˆ·å¯ä»¥åˆ›å»ºå¤šä¸ªé¡¹ç›®(ä¸€å¯¹å¤š)</li>
<li>ä¸€ä¸ªé¡¹ç›®å¯ä»¥åŒ…å«å¤šä¸ªä»»åŠ¡(ä¸€å¯¹å¤š)</li>
<li>ä¸€ä¸ªä»»åŠ¡å¯ä»¥åˆ†é…ç»™ä¸€ä¸ªç”¨æˆ·(å¤šå¯¹ä¸€)</li>
<li>ä¸€ä¸ªä»»åŠ¡å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾(å¤šå¯¹å¤š)</li>
<li>ä¸€ä¸ªä»»åŠ¡å¯ä»¥æœ‰å¤šæ¡è¯„è®º(ä¸€å¯¹å¤š)</li>
</ul>
<h3 data-id="heading-13">å®šä¹‰ Schema</h3>
<p>åˆ›å»º <code>src/db/schema.ts</code> æ–‡ä»¶:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { pgTable, serial, text, varchar, integer, timestamp, <span class="hljs-built_in">boolean</span>, pgEnum, primaryKey } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm/pg-core"</span>;
<span class="hljs-keyword">import</span> { relations } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm"</span>;

<span class="hljs-comment">// å®šä¹‰ä»»åŠ¡çŠ¶æ€æšä¸¾</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> taskStatusEnum = <span class="hljs-title function_">pgEnum</span>(<span class="hljs-string">"task_status"</span>, [<span class="hljs-string">"todo"</span>, <span class="hljs-string">"in_progress"</span>, <span class="hljs-string">"review"</span>, <span class="hljs-string">"completed"</span>]);

<span class="hljs-comment">// å®šä¹‰ä»»åŠ¡ä¼˜å…ˆçº§æšä¸¾</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> taskPriorityEnum = <span class="hljs-title function_">pgEnum</span>(<span class="hljs-string">"task_priority"</span>, [<span class="hljs-string">"low"</span>, <span class="hljs-string">"medium"</span>, <span class="hljs-string">"high"</span>, <span class="hljs-string">"urgent"</span>]);

<span class="hljs-comment">// 1. ç”¨æˆ·è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> users = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"users"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">username</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"username"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">50</span> }).<span class="hljs-title function_">notNull</span>().<span class="hljs-title function_">unique</span>(),
  <span class="hljs-attr">email</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"email"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">100</span> }).<span class="hljs-title function_">notNull</span>().<span class="hljs-title function_">unique</span>(),
  <span class="hljs-attr">passwordHash</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"password_hash"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">255</span> }).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">avatar</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"avatar"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">255</span> }),
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"created_at"</span>).<span class="hljs-title function_">defaultNow</span>().<span class="hljs-title function_">notNull</span>(),
});

<span class="hljs-comment">// 2. é¡¹ç›®è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> projects = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"projects"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">name</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"name"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">100</span> }).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">description</span>: <span class="hljs-title function_">text</span>(<span class="hljs-string">"description"</span>),
  <span class="hljs-attr">ownerId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"owner_id"</span>)
    .<span class="hljs-title function_">notNull</span>()
    .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> users.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
  <span class="hljs-attr">isActive</span>: <span class="hljs-title function_">boolean</span>(<span class="hljs-string">"is_active"</span>).<span class="hljs-title function_">default</span>(<span class="hljs-literal">true</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"created_at"</span>).<span class="hljs-title function_">defaultNow</span>().<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">updatedAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"updated_at"</span>),
});

<span class="hljs-comment">// 3. ä»»åŠ¡è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tasks = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"tasks"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">title</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"title"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">200</span> }).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">description</span>: <span class="hljs-title function_">text</span>(<span class="hljs-string">"description"</span>),
  <span class="hljs-attr">projectId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"project_id"</span>)
    .<span class="hljs-title function_">notNull</span>()
    .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> projects.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
  <span class="hljs-attr">assigneeId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"assignee_id"</span>).<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> users.<span class="hljs-property">id</span>, {
    <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"set null"</span>,
  }),
  <span class="hljs-attr">status</span>: <span class="hljs-title function_">taskStatusEnum</span>(<span class="hljs-string">"status"</span>).<span class="hljs-title function_">default</span>(<span class="hljs-string">"todo"</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">priority</span>: <span class="hljs-title function_">taskPriorityEnum</span>(<span class="hljs-string">"priority"</span>).<span class="hljs-title function_">default</span>(<span class="hljs-string">"medium"</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">dueDate</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"due_date"</span>),
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"created_at"</span>).<span class="hljs-title function_">defaultNow</span>().<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">updatedAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"updated_at"</span>),
});

<span class="hljs-comment">// 4. æ ‡ç­¾è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tags = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"tags"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">name</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"name"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">50</span> }).<span class="hljs-title function_">notNull</span>().<span class="hljs-title function_">unique</span>(),
  <span class="hljs-attr">color</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"color"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">7</span> }).<span class="hljs-title function_">default</span>(<span class="hljs-string">"#3b82f6"</span>),
});

<span class="hljs-comment">// 5. ä»»åŠ¡æ ‡ç­¾å…³è”è¡¨(å¤šå¯¹å¤š)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> taskTags = <span class="hljs-title function_">pgTable</span>(
  <span class="hljs-string">"task_tags"</span>,
  {
    <span class="hljs-attr">taskId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"task_id"</span>)
      .<span class="hljs-title function_">notNull</span>()
      .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> tasks.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
    <span class="hljs-attr">tagId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"tag_id"</span>)
      .<span class="hljs-title function_">notNull</span>()
      .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> tags.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
  },
  <span class="hljs-function">(<span class="hljs-params">table</span>) =&gt;</span> ({
    <span class="hljs-attr">pk</span>: <span class="hljs-title function_">primaryKey</span>({ <span class="hljs-attr">columns</span>: [table.<span class="hljs-property">taskId</span>, table.<span class="hljs-property">tagId</span>] }),
  })
);

<span class="hljs-comment">// 6. è¯„è®ºè¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> comments = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"comments"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">taskId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"task_id"</span>)
    .<span class="hljs-title function_">notNull</span>()
    .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> tasks.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
  <span class="hljs-attr">userId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"user_id"</span>)
    .<span class="hljs-title function_">notNull</span>()
    .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> users.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
  <span class="hljs-attr">content</span>: <span class="hljs-title function_">text</span>(<span class="hljs-string">"content"</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"created_at"</span>).<span class="hljs-title function_">defaultNow</span>().<span class="hljs-title function_">notNull</span>(),
});

<span class="hljs-comment">// å®šä¹‰å…³ç³»</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> usersRelations = <span class="hljs-title function_">relations</span>(users, <span class="hljs-function">(<span class="hljs-params">{ many }</span>) =&gt;</span> ({
  <span class="hljs-attr">ownedProjects</span>: <span class="hljs-title function_">many</span>(projects),
  <span class="hljs-attr">assignedTasks</span>: <span class="hljs-title function_">many</span>(tasks),
  <span class="hljs-attr">comments</span>: <span class="hljs-title function_">many</span>(comments),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> projectsRelations = <span class="hljs-title function_">relations</span>(projects, <span class="hljs-function">(<span class="hljs-params">{ one, many }</span>) =&gt;</span> ({
  <span class="hljs-attr">owner</span>: <span class="hljs-title function_">one</span>(users, {
    <span class="hljs-attr">fields</span>: [projects.<span class="hljs-property">ownerId</span>],
    <span class="hljs-attr">references</span>: [users.<span class="hljs-property">id</span>],
  }),
  <span class="hljs-attr">tasks</span>: <span class="hljs-title function_">many</span>(tasks),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tasksRelations = <span class="hljs-title function_">relations</span>(tasks, <span class="hljs-function">(<span class="hljs-params">{ one, many }</span>) =&gt;</span> ({
  <span class="hljs-attr">project</span>: <span class="hljs-title function_">one</span>(projects, {
    <span class="hljs-attr">fields</span>: [tasks.<span class="hljs-property">projectId</span>],
    <span class="hljs-attr">references</span>: [projects.<span class="hljs-property">id</span>],
  }),
  <span class="hljs-attr">assignee</span>: <span class="hljs-title function_">one</span>(users, {
    <span class="hljs-attr">fields</span>: [tasks.<span class="hljs-property">assigneeId</span>],
    <span class="hljs-attr">references</span>: [users.<span class="hljs-property">id</span>],
  }),
  <span class="hljs-attr">taskTags</span>: <span class="hljs-title function_">many</span>(taskTags),
  <span class="hljs-attr">comments</span>: <span class="hljs-title function_">many</span>(comments),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tagsRelations = <span class="hljs-title function_">relations</span>(tags, <span class="hljs-function">(<span class="hljs-params">{ many }</span>) =&gt;</span> ({
  <span class="hljs-attr">taskTags</span>: <span class="hljs-title function_">many</span>(taskTags),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> taskTagsRelations = <span class="hljs-title function_">relations</span>(taskTags, <span class="hljs-function">(<span class="hljs-params">{ one }</span>) =&gt;</span> ({
  <span class="hljs-attr">task</span>: <span class="hljs-title function_">one</span>(tasks, {
    <span class="hljs-attr">fields</span>: [taskTags.<span class="hljs-property">taskId</span>],
    <span class="hljs-attr">references</span>: [tasks.<span class="hljs-property">id</span>],
  }),
  <span class="hljs-attr">tag</span>: <span class="hljs-title function_">one</span>(tags, {
    <span class="hljs-attr">fields</span>: [taskTags.<span class="hljs-property">tagId</span>],
    <span class="hljs-attr">references</span>: [tags.<span class="hljs-property">id</span>],
  }),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> commentsRelations = <span class="hljs-title function_">relations</span>(comments, <span class="hljs-function">(<span class="hljs-params">{ one }</span>) =&gt;</span> ({
  <span class="hljs-attr">task</span>: <span class="hljs-title function_">one</span>(tasks, {
    <span class="hljs-attr">fields</span>: [comments.<span class="hljs-property">taskId</span>],
    <span class="hljs-attr">references</span>: [tasks.<span class="hljs-property">id</span>],
  }),
  <span class="hljs-attr">user</span>: <span class="hljs-title function_">one</span>(users, {
    <span class="hljs-attr">fields</span>: [comments.<span class="hljs-property">userId</span>],
    <span class="hljs-attr">references</span>: [users.<span class="hljs-property">id</span>],
  }),
}));
</code></pre>
<h3 data-id="heading-14">é…ç½®æ•°æ®åº“è¿æ¥</h3>
<p>åˆ›å»º <code>src/db/index.ts</code> æ–‡ä»¶:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { drizzle } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm/postgres-js"</span>;
<span class="hljs-keyword">import</span> postgres <span class="hljs-keyword">from</span> <span class="hljs-string">"postgres"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> schema <span class="hljs-keyword">from</span> <span class="hljs-string">"./schema"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"dotenv/config"</span>;

<span class="hljs-comment">// åˆ›å»º PostgreSQL è¿æ¥</span>
<span class="hljs-keyword">const</span> client = <span class="hljs-title function_">postgres</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">DATABASE_URL</span>!);

<span class="hljs-comment">// åˆ›å»º Drizzle å®ä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> db = <span class="hljs-title function_">drizzle</span>(client, { schema });
</code></pre>
<h3 data-id="heading-15">é…ç½®è¿ç§»ç®¡ç†</h3>
<p>åˆ›å»º <code>drizzle.config.ts</code> æ–‡ä»¶:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">Config</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-kit"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">"dotenv/config"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">schema</span>: <span class="hljs-string">"./src/db/schema.ts"</span>,
  <span class="hljs-attr">out</span>: <span class="hljs-string">"./drizzle"</span>,
  <span class="hljs-attr">dialect</span>: <span class="hljs-string">"postgresql"</span>,
  <span class="hljs-attr">dbCredentials</span>: {
    <span class="hljs-attr">url</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">DATABASE_URL</span>!,
  },
} satisfies <span class="hljs-title class_">Config</span>;
</code></pre>
<h3 data-id="heading-16">æ‰§è¡Œæ•°æ®åº“è¿ç§»</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆè¿ç§»æ–‡ä»¶</span>
npx drizzle-kit generate

<span class="hljs-comment"># æŸ¥çœ‹ç”Ÿæˆçš„ SQL æ–‡ä»¶</span>
<span class="hljs-built_in">cat</span> drizzle/0000_*.sql

<span class="hljs-comment"># æ‰§è¡Œè¿ç§»(å°† Schema åŒæ­¥åˆ°æ•°æ®åº“)</span>
npx drizzle-kit push

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨ migrate å‘½ä»¤</span>
npx drizzle-kit migrate
</code></pre>
<p>æ‰§è¡Œåä¼šåœ¨ <code>drizzle</code> ç›®å½•ç”Ÿæˆè¿ç§» SQL æ–‡ä»¶,ç±»ä¼¼:</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- drizzle/0000_initial.sql</span>
<span class="hljs-keyword">CREATE</span> TYPE "task_status" <span class="hljs-keyword">AS</span> ENUM(<span class="hljs-string">'todo'</span>, <span class="hljs-string">'in_progress'</span>, <span class="hljs-string">'review'</span>, <span class="hljs-string">'completed'</span>);
<span class="hljs-keyword">CREATE</span> TYPE "task_priority" <span class="hljs-keyword">AS</span> ENUM(<span class="hljs-string">'low'</span>, <span class="hljs-string">'medium'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'urgent'</span>);

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> "users" (
  "id" serial <span class="hljs-keyword">PRIMARY</span> KEY <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  "username" <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
  "email" <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">UNIQUE</span>,
  "password_hash" <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  "avatar" <span class="hljs-type">varchar</span>(<span class="hljs-number">255</span>),
  "created_at" <span class="hljs-type">timestamp</span> <span class="hljs-keyword">DEFAULT</span> now() <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);

<span class="hljs-comment">-- ... å…¶ä»–è¡¨çš„åˆ›å»ºè¯­å¥</span>
</code></pre>
<h3 data-id="heading-17">æ’å…¥æµ‹è¯•æ•°æ®</h3>
<p>åˆ›å»º <code>src/seed.ts</code> æ–‡ä»¶:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { db } <span class="hljs-keyword">from</span> <span class="hljs-string">"./db"</span>;
<span class="hljs-keyword">import</span> { users, projects, tasks, tags, taskTags, comments } <span class="hljs-keyword">from</span> <span class="hljs-string">"./db/schema"</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">seed</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Seeding database..."</span>);

  <span class="hljs-comment">// æ’å…¥ç”¨æˆ·</span>
  <span class="hljs-keyword">const</span> [user1, user2, user3] = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">insert</span>(users)
    .<span class="hljs-title function_">values</span>([
      {
        <span class="hljs-attr">username</span>: <span class="hljs-string">"alice"</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">"alice@taskmanager.com"</span>,
        <span class="hljs-attr">passwordHash</span>: <span class="hljs-string">"hash1"</span>,
        <span class="hljs-attr">avatar</span>: <span class="hljs-string">"https://api.dicebear.com/7.x/avataaars/svg?seed=alice"</span>,
      },
      {
        <span class="hljs-attr">username</span>: <span class="hljs-string">"bob"</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">"bob@taskmanager.com"</span>,
        <span class="hljs-attr">passwordHash</span>: <span class="hljs-string">"hash2"</span>,
        <span class="hljs-attr">avatar</span>: <span class="hljs-string">"https://api.dicebear.com/7.x/avataaars/svg?seed=bob"</span>,
      },
      {
        <span class="hljs-attr">username</span>: <span class="hljs-string">"charlie"</span>,
        <span class="hljs-attr">email</span>: <span class="hljs-string">"charlie@taskmanager.com"</span>,
        <span class="hljs-attr">passwordHash</span>: <span class="hljs-string">"hash3"</span>,
        <span class="hljs-attr">avatar</span>: <span class="hljs-string">"https://api.dicebear.com/7.x/avataaars/svg?seed=charlie"</span>,
      },
    ])
    .<span class="hljs-title function_">returning</span>();

  <span class="hljs-keyword">if</span> (!user1 || !user2 || !user3) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to create users"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ Users created"</span>);

  <span class="hljs-comment">// æ’å…¥é¡¹ç›®</span>
  <span class="hljs-keyword">const</span> [project1, project2] = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">insert</span>(projects)
    .<span class="hljs-title function_">values</span>([
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">"Website Redesign"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Redesign company website with modern UI/UX"</span>,
        <span class="hljs-attr">ownerId</span>: user1.<span class="hljs-property">id</span>,
      },
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">"Mobile App Development"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Build iOS and Android mobile application"</span>,
        <span class="hljs-attr">ownerId</span>: user2.<span class="hljs-property">id</span>,
      },
    ])
    .<span class="hljs-title function_">returning</span>();

  <span class="hljs-keyword">if</span> (!project1 || !project2) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to create projects"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ Projects created"</span>);

  <span class="hljs-comment">// æ’å…¥ä»»åŠ¡</span>
  <span class="hljs-keyword">const</span> [task1, task2, task3, task4] = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">insert</span>(tasks)
    .<span class="hljs-title function_">values</span>([
      {
        <span class="hljs-attr">title</span>: <span class="hljs-string">"Design homepage mockup"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Create high-fidelity mockup for homepage"</span>,
        <span class="hljs-attr">projectId</span>: project1.<span class="hljs-property">id</span>,
        <span class="hljs-attr">assigneeId</span>: user1.<span class="hljs-property">id</span>,
        <span class="hljs-attr">status</span>: <span class="hljs-string">"in_progress"</span>,
        <span class="hljs-attr">priority</span>: <span class="hljs-string">"high"</span>,
        <span class="hljs-attr">dueDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2025-12-20"</span>),
      },
      {
        <span class="hljs-attr">title</span>: <span class="hljs-string">"Implement authentication"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Add JWT-based authentication system"</span>,
        <span class="hljs-attr">projectId</span>: project1.<span class="hljs-property">id</span>,
        <span class="hljs-attr">assigneeId</span>: user2.<span class="hljs-property">id</span>,
        <span class="hljs-attr">status</span>: <span class="hljs-string">"todo"</span>,
        <span class="hljs-attr">priority</span>: <span class="hljs-string">"urgent"</span>,
        <span class="hljs-attr">dueDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2025-12-15"</span>),
      },
      {
        <span class="hljs-attr">title</span>: <span class="hljs-string">"Setup CI/CD pipeline"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Configure GitHub Actions for automated deployment"</span>,
        <span class="hljs-attr">projectId</span>: project1.<span class="hljs-property">id</span>,
        <span class="hljs-attr">assigneeId</span>: user3.<span class="hljs-property">id</span>,
        <span class="hljs-attr">status</span>: <span class="hljs-string">"completed"</span>,
        <span class="hljs-attr">priority</span>: <span class="hljs-string">"medium"</span>,
      },
      {
        <span class="hljs-attr">title</span>: <span class="hljs-string">"Design app architecture"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Define mobile app architecture and tech stack"</span>,
        <span class="hljs-attr">projectId</span>: project2.<span class="hljs-property">id</span>,
        <span class="hljs-attr">assigneeId</span>: user2.<span class="hljs-property">id</span>,
        <span class="hljs-attr">status</span>: <span class="hljs-string">"review"</span>,
        <span class="hljs-attr">priority</span>: <span class="hljs-string">"high"</span>,
        <span class="hljs-attr">dueDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">"2025-12-18"</span>),
      },
    ])
    .<span class="hljs-title function_">returning</span>();

  <span class="hljs-keyword">if</span> (!task1 || !task2 || !task3 || !task4) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to create tasks"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ Tasks created"</span>);

  <span class="hljs-comment">// æ’å…¥æ ‡ç­¾</span>
  <span class="hljs-keyword">const</span> [tag1, tag2, tag3, tag4, tag5] = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">insert</span>(tags)
    .<span class="hljs-title function_">values</span>([
      { <span class="hljs-attr">name</span>: <span class="hljs-string">"frontend"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#3b82f6"</span> },
      { <span class="hljs-attr">name</span>: <span class="hljs-string">"backend"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#10b981"</span> },
      { <span class="hljs-attr">name</span>: <span class="hljs-string">"design"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#f59e0b"</span> },
      { <span class="hljs-attr">name</span>: <span class="hljs-string">"devops"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#8b5cf6"</span> },
      { <span class="hljs-attr">name</span>: <span class="hljs-string">"mobile"</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">"#ec4899"</span> },
    ])
    .<span class="hljs-title function_">returning</span>();

  <span class="hljs-keyword">if</span> (!tag1 || !tag2 || !tag3 || !tag4 || !tag5) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to create tags"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ Tags created"</span>);

  <span class="hljs-comment">// æ’å…¥ä»»åŠ¡æ ‡ç­¾å…³è”</span>
  <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">insert</span>(taskTags).<span class="hljs-title function_">values</span>([
    { <span class="hljs-attr">taskId</span>: task1.<span class="hljs-property">id</span>, <span class="hljs-attr">tagId</span>: tag1.<span class="hljs-property">id</span> }, <span class="hljs-comment">// Design homepage - frontend</span>
    { <span class="hljs-attr">taskId</span>: task1.<span class="hljs-property">id</span>, <span class="hljs-attr">tagId</span>: tag3.<span class="hljs-property">id</span> }, <span class="hljs-comment">// Design homepage - design</span>
    { <span class="hljs-attr">taskId</span>: task2.<span class="hljs-property">id</span>, <span class="hljs-attr">tagId</span>: tag2.<span class="hljs-property">id</span> }, <span class="hljs-comment">// Authentication - backend</span>
    { <span class="hljs-attr">taskId</span>: task3.<span class="hljs-property">id</span>, <span class="hljs-attr">tagId</span>: tag4.<span class="hljs-property">id</span> }, <span class="hljs-comment">// CI/CD - devops</span>
    { <span class="hljs-attr">taskId</span>: task4.<span class="hljs-property">id</span>, <span class="hljs-attr">tagId</span>: tag5.<span class="hljs-property">id</span> }, <span class="hljs-comment">// App architecture - mobile</span>
  ]);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ Task tags created"</span>);

  <span class="hljs-comment">// æ’å…¥è¯„è®º</span>
  <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">insert</span>(comments).<span class="hljs-title function_">values</span>([
    {
      <span class="hljs-attr">taskId</span>: task1.<span class="hljs-property">id</span>,
      <span class="hljs-attr">userId</span>: user2.<span class="hljs-property">id</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"Looking great! Please add dark mode support."</span>,
    },
    {
      <span class="hljs-attr">taskId</span>: task1.<span class="hljs-property">id</span>,
      <span class="hljs-attr">userId</span>: user3.<span class="hljs-property">id</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"Should we use Figma for the mockup?"</span>,
    },
    {
      <span class="hljs-attr">taskId</span>: task2.<span class="hljs-property">id</span>,
      <span class="hljs-attr">userId</span>: user1.<span class="hljs-property">id</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"Don't forget to implement refresh token rotation."</span>,
    },
    {
      <span class="hljs-attr">taskId</span>: task4.<span class="hljs-property">id</span>,
      <span class="hljs-attr">userId</span>: user1.<span class="hljs-property">id</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"Consider using React Native for cross-platform development."</span>,
    },
  ]);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"âœ“ Comments created"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\nâœ… Database seeded successfully!"</span>);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);
}

<span class="hljs-title function_">seed</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"âŒ Seeding failed:"</span>, error);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>);
});
</code></pre>
<p>è¿è¡Œæ•°æ®å¡«å……:</p>
<pre><code class="hljs language-bash" lang="bash">npm run db:seed
</code></pre>
<h3 data-id="heading-18">å¸¸ç”¨æŸ¥è¯¢å’Œæ“ä½œç¤ºä¾‹</h3>
<p>åˆ›å»º <code>src/query.ts</code> æ–‡ä»¶,æ¼”ç¤ºæ ¸å¿ƒåŠŸèƒ½:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { db } <span class="hljs-keyword">from</span> <span class="hljs-string">"./db"</span>;
<span class="hljs-keyword">import</span> { users, projects, tasks, tags, taskTags, comments } <span class="hljs-keyword">from</span> <span class="hljs-string">"./db/schema"</span>;
<span class="hljs-keyword">import</span> { eq, and, or, desc, count } <span class="hljs-keyword">from</span> <span class="hljs-string">"drizzle-orm"</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"=== Drizzle ORM å®æˆ˜ç¤ºä¾‹ ===\n"</span>);

  <span class="hljs-comment">// 1. æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"1. æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·:"</span>);
  <span class="hljs-keyword">const</span> allUsers = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">select</span>().<span class="hljs-title function_">from</span>(users);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(allUsers);

  <span class="hljs-comment">// 2. æŸ¥è¯¢ç”¨æˆ·åˆ›å»ºçš„é¡¹ç›®(å…³ç³»æŸ¥è¯¢)</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n2. æŸ¥è¯¢ Alice åˆ›å»ºçš„é¡¹ç›®:"</span>);
  <span class="hljs-keyword">const</span> aliceProjects = <span class="hljs-keyword">await</span> db.<span class="hljs-property">query</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">findFirst</span>({
    <span class="hljs-attr">where</span>: <span class="hljs-title function_">eq</span>(users.<span class="hljs-property">username</span>, <span class="hljs-string">"alice"</span>),
    <span class="hljs-attr">with</span>: {
      <span class="hljs-attr">ownedProjects</span>: {
        <span class="hljs-attr">columns</span>: {
          <span class="hljs-attr">id</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">description</span>: <span class="hljs-literal">true</span>,
        },
      },
    },
  });
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(aliceProjects, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));

  <span class="hljs-comment">// 3. æŸ¥è¯¢é¡¹ç›®çš„ä»»åŠ¡åŠè´Ÿè´£äºº(JOIN æŸ¥è¯¢)</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n3. æŸ¥è¯¢é¡¹ç›® 1 çš„ä»»åŠ¡åŠè´Ÿè´£äºº:"</span>);
  <span class="hljs-keyword">const</span> projectTasks = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">select</span>({
      <span class="hljs-attr">taskId</span>: tasks.<span class="hljs-property">id</span>,
      <span class="hljs-attr">taskTitle</span>: tasks.<span class="hljs-property">title</span>,
      <span class="hljs-attr">status</span>: tasks.<span class="hljs-property">status</span>,
      <span class="hljs-attr">priority</span>: tasks.<span class="hljs-property">priority</span>,
      <span class="hljs-attr">assignee</span>: users.<span class="hljs-property">username</span>,
    })
    .<span class="hljs-title function_">from</span>(tasks)
    .<span class="hljs-title function_">leftJoin</span>(users, <span class="hljs-title function_">eq</span>(tasks.<span class="hljs-property">assigneeId</span>, users.<span class="hljs-property">id</span>))
    .<span class="hljs-title function_">where</span>(<span class="hljs-title function_">eq</span>(tasks.<span class="hljs-property">projectId</span>, <span class="hljs-number">1</span>));
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(projectTasks);

  <span class="hljs-comment">// 4. æŸ¥è¯¢ä»»åŠ¡åŠå…¶æ ‡ç­¾(å¤šå¯¹å¤šå…³ç³»)</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n4. æŸ¥è¯¢ä»»åŠ¡ 1 çš„è¯¦ç»†ä¿¡æ¯åŠæ ‡ç­¾:"</span>);
  <span class="hljs-keyword">const</span> taskWithTags = <span class="hljs-keyword">await</span> db.<span class="hljs-property">query</span>.<span class="hljs-property">tasks</span>.<span class="hljs-title function_">findFirst</span>({
    <span class="hljs-attr">where</span>: <span class="hljs-title function_">eq</span>(tasks.<span class="hljs-property">id</span>, <span class="hljs-number">1</span>),
    <span class="hljs-attr">with</span>: {
      <span class="hljs-attr">assignee</span>: {
        <span class="hljs-attr">columns</span>: {
          <span class="hljs-attr">username</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">email</span>: <span class="hljs-literal">true</span>,
        },
      },
      <span class="hljs-attr">taskTags</span>: {
        <span class="hljs-attr">with</span>: {
          <span class="hljs-attr">tag</span>: <span class="hljs-literal">true</span>,
        },
      },
    },
  });
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(taskWithTags, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));

  <span class="hljs-comment">// 5. ç»Ÿè®¡æ¯ä¸ªé¡¹ç›®çš„ä»»åŠ¡æ•°é‡(èšåˆæŸ¥è¯¢)</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n5. ç»Ÿè®¡å„é¡¹ç›®çš„ä»»åŠ¡æ•°é‡:"</span>);
  <span class="hljs-keyword">const</span> taskCounts = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">select</span>({
      <span class="hljs-attr">projectId</span>: projects.<span class="hljs-property">id</span>,
      <span class="hljs-attr">projectName</span>: projects.<span class="hljs-property">name</span>,
      <span class="hljs-attr">taskCount</span>: <span class="hljs-title function_">count</span>(tasks.<span class="hljs-property">id</span>),
    })
    .<span class="hljs-title function_">from</span>(projects)
    .<span class="hljs-title function_">leftJoin</span>(tasks, <span class="hljs-title function_">eq</span>(projects.<span class="hljs-property">id</span>, tasks.<span class="hljs-property">projectId</span>))
    .<span class="hljs-title function_">groupBy</span>(projects.<span class="hljs-property">id</span>, projects.<span class="hljs-property">name</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(taskCounts);

  <span class="hljs-comment">// 6. æ›´æ–°æ“ä½œ:å°†ä»»åŠ¡ 1 çŠ¶æ€æ”¹ä¸º completed</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n6. æ›´æ–°ä»»åŠ¡çŠ¶æ€:"</span>);
  <span class="hljs-keyword">const</span> [updatedTask] = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">update</span>(tasks)
    .<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">status</span>: <span class="hljs-string">"completed"</span>,
      <span class="hljs-attr">updatedAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
    })
    .<span class="hljs-title function_">where</span>(<span class="hljs-title function_">eq</span>(tasks.<span class="hljs-property">id</span>, <span class="hljs-number">1</span>))
    .<span class="hljs-title function_">returning</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ ä»»åŠ¡ <span class="hljs-subst">${updatedTask.id}</span> çŠ¶æ€å·²æ›´æ–°ä¸º: <span class="hljs-subst">${updatedTask.status}</span>`</span>);

  <span class="hljs-comment">// 7. æ’å…¥æ“ä½œ:æ·»åŠ æ–°è¯„è®º</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n7. æ·»åŠ æ–°è¯„è®º:"</span>);
  <span class="hljs-keyword">const</span> [newComment] = <span class="hljs-keyword">await</span> db
    .<span class="hljs-title function_">insert</span>(comments)
    .<span class="hljs-title function_">values</span>({
      <span class="hljs-attr">taskId</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">userId</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"Great job on completing this task!"</span>,
    })
    .<span class="hljs-title function_">returning</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ è¯„è®ºå·²åˆ›å»º,ID: <span class="hljs-subst">${newComment.id}</span>`</span>);

  <span class="hljs-comment">// 8. ä½¿ç”¨äº‹åŠ¡:åˆ›å»ºé¡¹ç›®å¹¶åŒæ—¶åˆ›å»ºä»»åŠ¡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n8. ä½¿ç”¨äº‹åŠ¡åˆ›å»ºé¡¹ç›®å’Œä»»åŠ¡:"</span>);
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">transaction</span>(<span class="hljs-keyword">async</span> (tx) =&gt; {
    <span class="hljs-comment">// åˆ›å»ºé¡¹ç›®</span>
    <span class="hljs-keyword">const</span> [newProject] = <span class="hljs-keyword">await</span> tx
      .<span class="hljs-title function_">insert</span>(projects)
      .<span class="hljs-title function_">values</span>({
        <span class="hljs-attr">name</span>: <span class="hljs-string">"Testing Project"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"A project for testing transactions"</span>,
        <span class="hljs-attr">ownerId</span>: <span class="hljs-number">1</span>,
      })
      .<span class="hljs-title function_">returning</span>();

    <span class="hljs-comment">// ä¸ºé¡¹ç›®åˆ›å»ºä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> [newTask] = <span class="hljs-keyword">await</span> tx
      .<span class="hljs-title function_">insert</span>(tasks)
      .<span class="hljs-title function_">values</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">"Setup testing environment"</span>,
        <span class="hljs-attr">projectId</span>: newProject.<span class="hljs-property">id</span>,
        <span class="hljs-attr">assigneeId</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">status</span>: <span class="hljs-string">"todo"</span>,
        <span class="hljs-attr">priority</span>: <span class="hljs-string">"high"</span>,
      })
      .<span class="hljs-title function_">returning</span>();

    <span class="hljs-keyword">return</span> { <span class="hljs-attr">project</span>: newProject, <span class="hljs-attr">task</span>: newTask };
  });
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ é¡¹ç›®åˆ›å»ºæˆåŠŸ: <span class="hljs-subst">${result.project.name}</span>`</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ“ ä»»åŠ¡åˆ›å»ºæˆåŠŸ: <span class="hljs-subst">${result.task.title}</span>`</span>);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n=== ç¤ºä¾‹æ‰§è¡Œå®Œæˆ ==="</span>);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);
}

<span class="hljs-title function_">main</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"âŒ æ‰§è¡Œå‡ºé”™:"</span>, error);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>);
});
</code></pre>
<p>è¿è¡ŒæŸ¥è¯¢ç¤ºä¾‹:</p>
<pre><code class="hljs language-bash" lang="bash">npm run db:query
</code></pre>
<h3 data-id="heading-19">Schema å˜æ›´ä¸æ•°æ®è¿ç§»</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œéœ€æ±‚ç»å¸¸å˜åŒ–ï¼Œè¡¨ç»“æ„ä¹Ÿéœ€è¦éšä¹‹è°ƒæ•´ã€‚ä¸‹é¢æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Drizzle Kit å¤„ç† Schema å˜æ›´ã€‚</p>
<p><strong>åœºæ™¯ï¼šäº§å“ç»ç†è¦æ±‚ä¸ºä»»åŠ¡æ·»åŠ ã€Œé¢„ä¼°å·¥æ—¶ã€åŠŸèƒ½</strong></p>
<p><strong>ç¬¬ 1 æ­¥ï¼šä¿®æ”¹ Schema å®šä¹‰</strong></p>
<p>ç¼–è¾‘ <code>src/db/schema.ts</code>ï¼Œåœ¨ tasks è¡¨ä¸­æ·»åŠ  <code>estimatedHours</code> å­—æ®µï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 3. ä»»åŠ¡è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tasks = <span class="hljs-title function_">pgTable</span>(<span class="hljs-string">"tasks"</span>, {
  <span class="hljs-attr">id</span>: <span class="hljs-title function_">serial</span>(<span class="hljs-string">"id"</span>).<span class="hljs-title function_">primaryKey</span>(),
  <span class="hljs-attr">title</span>: <span class="hljs-title function_">varchar</span>(<span class="hljs-string">"title"</span>, { <span class="hljs-attr">length</span>: <span class="hljs-number">200</span> }).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">description</span>: <span class="hljs-title function_">text</span>(<span class="hljs-string">"description"</span>),
  <span class="hljs-attr">projectId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"project_id"</span>)
    .<span class="hljs-title function_">notNull</span>()
    .<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> projects.<span class="hljs-property">id</span>, { <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"cascade"</span> }),
  <span class="hljs-attr">assigneeId</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"assignee_id"</span>).<span class="hljs-title function_">references</span>(<span class="hljs-function">() =&gt;</span> users.<span class="hljs-property">id</span>, {
    <span class="hljs-attr">onDelete</span>: <span class="hljs-string">"set null"</span>,
  }),
  <span class="hljs-attr">status</span>: <span class="hljs-title function_">taskStatusEnum</span>(<span class="hljs-string">"status"</span>).<span class="hljs-title function_">default</span>(<span class="hljs-string">"todo"</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">priority</span>: <span class="hljs-title function_">taskPriorityEnum</span>(<span class="hljs-string">"priority"</span>).<span class="hljs-title function_">default</span>(<span class="hljs-string">"medium"</span>).<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">dueDate</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"due_date"</span>),
  <span class="hljs-attr">estimatedHours</span>: <span class="hljs-title function_">integer</span>(<span class="hljs-string">"estimated_hours"</span>), <span class="hljs-comment">// æ–°å¢ï¼šé¢„ä¼°å·¥æ—¶ï¼ˆå°æ—¶ï¼‰</span>
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"created_at"</span>).<span class="hljs-title function_">defaultNow</span>().<span class="hljs-title function_">notNull</span>(),
  <span class="hljs-attr">updatedAt</span>: <span class="hljs-title function_">timestamp</span>(<span class="hljs-string">"updated_at"</span>),
});
</code></pre>
<p><strong>ç¬¬ 2 æ­¥ï¼šç”Ÿæˆè¿ç§»æ–‡ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm run db:generate
</code></pre>
<p>æŸ¥çœ‹ç”Ÿæˆçš„ SQLï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> drizzle/0001_*.sql
</code></pre>
<p>å†…å®¹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> "tasks" <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> "estimated_hours" <span class="hljs-type">integer</span>;
</code></pre>
<p><strong>ç¬¬ 3 æ­¥ï¼šæ‰§è¡Œè¿ç§»</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm run db:push
</code></pre>
<p><strong>ç¬¬ 4 æ­¥ï¼šéªŒè¯è¿ç§»ç»“æœ</strong></p>
<pre><code class="hljs language-bash" lang="bash">psql -U postgres -d task_manager_db -c <span class="hljs-string">"\d tasks"</span>
</code></pre>
<p>ä½ å°†çœ‹åˆ° <code>estimated_hours</code> åˆ—å·²æ·»åŠ åˆ°è¡¨ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€’å½’ï¼šä¸æ­¢æ˜¯ â€œè‡ªå·±è°ƒç”¨è‡ªå·±â€ï¼Œçœ‹å®Œè¿™ç¯‡ç§’æ‡‚]]></title>    <link>https://juejin.cn/post/7582397035943116806</link>    <guid>https://juejin.cn/post/7582397035943116806</guid>    <pubDate>2025-12-11T15:09:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582397035943116806" data-draft-id="7582406735388262406" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€’å½’ï¼šä¸æ­¢æ˜¯ â€œè‡ªå·±è°ƒç”¨è‡ªå·±â€ï¼Œçœ‹å®Œè¿™ç¯‡ç§’æ‡‚"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-11T15:09:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="okseekw"/> <meta itemprop="url" content="https://juejin.cn/user/1933379625032649"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€’å½’ï¼šä¸æ­¢æ˜¯ â€œè‡ªå·±è°ƒç”¨è‡ªå·±â€ï¼Œçœ‹å®Œè¿™ç¯‡ç§’æ‡‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1933379625032649/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    okseekw
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:09:27.000Z" title="Thu Dec 11 2025 15:09:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é€’å½’ï¼šä¸æ­¢æ˜¯ â€œè‡ªå·±è°ƒç”¨è‡ªå·±â€ï¼Œçœ‹å®Œè¿™ç¯‡ç§’æ‡‚</h2>
<p>ä½ æœ‰æ²¡æœ‰ç©è¿‡ä¿„ç½—æ–¯å¥—å¨ƒï¼Ÿæ‰“å¼€ä¸€ä¸ªï¼Œé‡Œé¢è¿˜æœ‰ä¸€ä¸ªï¼Œå†æ‰“å¼€ï¼Œè¿˜æœ‰ä¸€ä¸ªâ€¦â€¦ ç›´åˆ°æœ€åä¸€ä¸ªæœ€å°çš„å¨ƒå¨ƒå‡ºç°ï¼Œæ¸¸æˆæ‰ç»“æŸã€‚å…¶å®åœ¨ç¼–ç¨‹ä¸–ç•Œé‡Œï¼Œä¹Ÿæœ‰è¿™æ ·ä¸€ç§ â€œå¥—å¨ƒå¼â€ ç®—æ³• â€”â€” é€’å½’ã€‚å®ƒçœ‹ä¼¼ç»•è„‘ï¼Œå®åˆ™è—ç€ä¸€å¥—ç®€å•çš„é€»è¾‘ï¼Œå­¦ä¼šäº†å°±èƒ½è½»æ¾è§£å†³å¾ˆå¤šå¤æ‚é—®é¢˜ã€‚ä»Šå¤©å’±ä»¬å°±ç”¨å‡ ä¸ªæœ‰è¶£çš„æ¡ˆä¾‹ï¼Œå¸¦ä½ åƒé€é€’å½’çš„ç²¾é«“ï¼</p>
<h3 data-id="heading-1">ä¸€ã€é€’å½’çš„æœ¬è´¨ï¼šä»å½¢å¼åˆ°åŸç†</h3>
<h4 data-id="heading-2">1. é€’å½’çš„å®šä¹‰</h4>
<p>é€’å½’æ˜¯ä¸€ç§ç®—æ³•è®¾è®¡æŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒåœ¨äº<strong>æ–¹æ³•è‡ªå·±è°ƒç”¨è‡ªå·±</strong>ã€‚åœ¨Javaä¸­ï¼Œé€’å½’åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼š</p>
<ul>
<li>
<p><strong>ç›´æ¥é€’å½’</strong>ï¼šæ–¹æ³•ç›´æ¥è°ƒç”¨è‡ªèº«</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">recursiveMethod</span>()</span> {
    <span class="hljs-comment">// é€’å½’è°ƒç”¨</span>
    recursiveMethod();
}
</code></pre>
</li>
<li>
<p><strong>é—´æ¥é€’å½’</strong>ï¼šæ–¹æ³•Aè°ƒç”¨æ–¹æ³•Bï¼Œæ–¹æ³•Båˆè°ƒç”¨æ–¹æ³•A</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">methodA</span>()</span> {
    methodB();
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">methodB</span>()</span> {
    methodA();
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-3">2. é€’å½’çš„åŸç†ä¸æ ˆå†…å­˜</h4>
<p>é€’å½’ä¹‹æ‰€ä»¥èƒ½å·¥ä½œï¼Œæ˜¯å› ä¸ºJavaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸ºæ¯ä¸ªæ–¹æ³•è°ƒç”¨åˆ†é…äº†<strong>æ ˆå¸§ï¼ˆStack Frameï¼‰</strong> ã€‚æ¯æ¬¡é€’å½’è°ƒç”¨ï¼Œéƒ½ä¼šåœ¨è°ƒç”¨æ ˆä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆå¸§ï¼Œå­˜å‚¨æ–¹æ³•çš„å‚æ•°ã€å±€éƒ¨å˜é‡å’Œè¿”å›åœ°å€ã€‚</p>
<p>å½“é€’å½’åˆ°è¾¾ç»ˆæ­¢æ¡ä»¶æ—¶ï¼Œæ ˆå¸§å¼€å§‹ä¾æ¬¡å¼¹å‡ºï¼Œè®¡ç®—ç»“æœé€å±‚è¿”å›ã€‚å¦‚æœé€’å½’æ²¡æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œæ ˆå¸§ä¼šä¸æ–­å‹å…¥ï¼Œæœ€ç»ˆå¯¼è‡´<code>StackOverflowError</code>ã€‚</p>
<h3 data-id="heading-4">äºŒã€é€’å½’çš„ä¸‰è¦ç´ ï¼šç¼ºä¸€ä¸å¯</h3>
<p>ä¸€ä¸ªæ­£ç¡®çš„é€’å½’å¿…é¡»åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªè¦ç´ ï¼š</p>
<ol>
<li><strong>é€’å½’å…¬å¼</strong>ï¼šå°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜çš„æ•°å­¦è¡¨è¾¾å¼</li>
<li><strong>é€’å½’ç»ˆç‚¹</strong>ï¼šé€’å½’åœæ­¢çš„æ¡ä»¶ï¼ˆç»ˆæ­¢ç‚¹ï¼‰</li>
<li><strong>é€’å½’æ–¹å‘</strong>ï¼šå¿…é¡»æœç€é€’å½’ç»ˆç‚¹å‰è¿›ï¼Œä¸èƒ½è¶Šèµ°è¶Šè¿œ</li>
</ol>
<h4 data-id="heading-5">2.1 é€’å½’å…¬å¼çš„ç†è§£</h4>
<p>é€’å½’å…¬å¼æ˜¯é€’å½’çš„"çµé­‚"ï¼Œå®ƒå®šä¹‰äº†å¦‚ä½•å°†é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>é˜¶ä¹˜é—®é¢˜ï¼š<code>f(n) = f(n-1) * n</code></li>
<li>çŒ´å­åƒæ¡ƒé—®é¢˜ï¼š<code>f(n) = 2 * f(n+1) + 2</code></li>
</ul>
<h4 data-id="heading-6">2.2 é€’å½’ç»ˆç‚¹çš„é‡è¦æ€§</h4>
<p>é€’å½’ç»ˆç‚¹æ˜¯é˜²æ­¢æ— é™é€’å½’çš„å…³é”®ã€‚æ²¡æœ‰ç»ˆç‚¹ï¼Œé€’å½’å°†æ°¸è¿œæ‰§è¡Œï¼Œå¯¼è‡´æ ˆæº¢å‡ºã€‚</p>
<h4 data-id="heading-7">2.3 é€’å½’æ–¹å‘çš„æ­£ç¡®æ€§</h4>
<p>é€’å½’æ–¹å‘å¿…é¡»ç¡®ä¿é—®é¢˜è§„æ¨¡é€æ¸ç¼©å°ï¼Œæœç€é€’å½’ç»ˆç‚¹é è¿‘ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>é˜¶ä¹˜é—®é¢˜ï¼šä»nâ†’n-1â†’...â†’1ï¼ˆæœç€ç»ˆç‚¹1é è¿‘ï¼‰</li>
<li>çŒ´å­åƒæ¡ƒé—®é¢˜ï¼šä»1â†’2â†’...â†’10ï¼ˆé€†å‘è®¡ç®—ï¼Œä»ç¬¬10å¤©å¾€ç¬¬1å¤©æ¨ï¼‰</li>
</ul>
<h3 data-id="heading-8">ä¸‰ã€é€’å½’å®æˆ˜ï¼šä¸‰ä¸ªç»å…¸æ¡ˆä¾‹</h3>
<h4 data-id="heading-9">æ¡ˆä¾‹1ï¼šé€’å½’è®¡ç®—é˜¶ä¹˜</h4>
<h5 data-id="heading-10">é—®é¢˜æè¿°</h5>
<p>è®¡ç®—nçš„é˜¶ä¹˜ï¼šn! = 1 Ã— 2 Ã— 3 Ã— ... Ã— n</p>
<h5 data-id="heading-11">é€’å½’ä¸‰è¦ç´ </h5>
<ul>
<li><strong>é€’å½’å…¬å¼</strong>ï¼š<code>f(n) = f(n-1) * n</code></li>
<li><strong>é€’å½’ç»ˆç‚¹</strong>ï¼š<code>f(1) = 1</code></li>
<li><strong>é€’å½’æ–¹å‘</strong>ï¼šä»nâ†’n-1â†’...â†’1</li>
</ul>
<h5 data-id="heading-12">ä»£ç å®ç°</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecursionDemo2</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"5çš„é˜¶ä¹˜ï¼š"</span> + <span class="hljs-built_in">f</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// è¾“å‡º120</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>{
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// é€’å½’ç»ˆç‚¹</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">f</span>(n - <span class="hljs-number">1</span>) * n; <span class="hljs-comment">// é€’å½’å…¬å¼</span>
        }
    }
}
</code></pre>
<h5 data-id="heading-13">æ‰§è¡Œæµç¨‹</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">f</span>(<span class="hljs-number">5</span>) = <span class="hljs-built_in">f</span>(<span class="hljs-number">4</span>) * <span class="hljs-number">5</span>
<span class="hljs-built_in">f</span>(<span class="hljs-number">4</span>) = <span class="hljs-built_in">f</span>(<span class="hljs-number">3</span>) * <span class="hljs-number">4</span>
<span class="hljs-built_in">f</span>(<span class="hljs-number">3</span>) = <span class="hljs-built_in">f</span>(<span class="hljs-number">2</span>) * <span class="hljs-number">3</span>
<span class="hljs-built_in">f</span>(<span class="hljs-number">2</span>) = <span class="hljs-built_in">f</span>(<span class="hljs-number">1</span>) * <span class="hljs-number">2</span>
<span class="hljs-built_in">f</span>(<span class="hljs-number">1</span>) = <span class="hljs-number">1</span>
</code></pre>
<p>åå‘è®¡ç®—ï¼š1Ã—2=2 â†’ 2Ã—3=6 â†’ 6Ã—4=24 â†’ 24Ã—5=120</p>
<h4 data-id="heading-14">æ¡ˆä¾‹2ï¼šçŒ´å­åƒæ¡ƒé—®é¢˜</h4>
<h5 data-id="heading-15">é—®é¢˜æè¿°</h5>
<p>çŒ´å­ç¬¬ä¸€å¤©æ‘˜äº†è‹¥å¹²æ¡ƒå­ï¼Œå½“å³åƒäº†ä¸€åŠ+1ä¸ªï¼›ç¬¬äºŒå¤©åˆåƒäº†å‰©ä¸‹çš„ä¸€åŠ+1ä¸ªï¼›ä»¥åæ¯å¤©éƒ½è¿™æ ·ï¼Œç›´åˆ°ç¬¬10å¤©ï¼Œå‘ç°åªå‰©1ä¸ªæ¡ƒå­äº†ã€‚æ±‚çŒ´å­ç¬¬ä¸€å¤©æ‘˜äº†å¤šå°‘ä¸ªã€‚</p>
<h5 data-id="heading-16">é€’å½’ä¸‰è¦ç´ </h5>
<ul>
<li><strong>é€’å½’å…¬å¼</strong>ï¼š<code>f(n) = 2 * f(n+1) + 2</code>ï¼ˆç”±é¢˜æ„æ¨å¯¼å¾—å‡ºï¼‰</li>
<li><strong>é€’å½’ç»ˆç‚¹</strong>ï¼š<code>f(10) = 1</code>ï¼ˆç¬¬10å¤©åªå‰©1ä¸ªæ¡ƒå­ï¼‰</li>
<li><strong>é€’å½’æ–¹å‘</strong>ï¼šä»1â†’2â†’...â†’10ï¼ˆé€†å‘è®¡ç®—ï¼Œä»ç¬¬10å¤©å¾€ç¬¬1å¤©æ¨ï¼‰</li>
</ul>
<h5 data-id="heading-17">ä»£ç å®ç°</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecursionDemo3</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">String</span>[] args)</span> </span>{
        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"çŒ´å­ç¬¬ä¸€å¤©æ‘˜çš„æ¡ƒå­æ•°ï¼š"</span> + <span class="hljs-built_in">f</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// è¾“å‡º1534</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>{
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">10</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// é€’å½’ç»ˆç‚¹</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * <span class="hljs-built_in">f</span>(n + <span class="hljs-number">1</span>) + <span class="hljs-number">2</span>; <span class="hljs-comment">// é€’å½’å…¬å¼</span>
    }
}
</code></pre>
<h5 data-id="heading-18">é—®é¢˜è§£æ</h5>
<p>åŸé¢˜æè¿°çš„æ˜¯æ­£å‘è¿‡ç¨‹ï¼ˆç¬¬1å¤©â†’ç¬¬10å¤©ï¼‰ï¼Œä½†é€’å½’æ›´é€‚åˆä»åå¾€å‰æ¨ï¼ˆç¬¬10å¤©â†’ç¬¬1å¤©ï¼‰ã€‚é€šè¿‡é€’å½’å…¬å¼ï¼Œæˆ‘ä»¬ä¸éœ€è¦çŸ¥é“æ¯å¤©åƒå¤šå°‘ï¼Œåªéœ€çŸ¥é“ç¬¬nå¤©çš„æ¡ƒå­æ•°ä¸ç¬¬n+1å¤©çš„å…³ç³»ï¼Œå°±å¯ä»¥ä»ç¬¬10å¤©å¼€å§‹åæ¨ç¬¬1å¤©ã€‚</p>
<h4 data-id="heading-19">æ¡ˆä¾‹3ï¼šé€’å½’éå†æ–‡ä»¶ç³»ç»Ÿ</h4>
<h5 data-id="heading-20">é—®é¢˜æè¿°</h5>
<p>åœ¨Dç›˜ä¸‹æœç´¢"QQ.exe"æ–‡ä»¶ï¼Œå¹¶è¾“å‡ºå…¶è·¯å¾„ã€‚</p>
<h5 data-id="heading-21">é€’å½’ä¸‰è¦ç´ </h5>
<ul>
<li><strong>é€’å½’å…¬å¼</strong>ï¼šéå†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</li>
<li><strong>é€’å½’ç»ˆç‚¹</strong>ï¼šæ²¡æœ‰æ›´å¤šæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹éœ€è¦éå†</li>
<li><strong>é€’å½’æ–¹å‘</strong>ï¼šä»æ ¹ç›®å½•å¼€å§‹ï¼Œé€å±‚æ·±å…¥å­ç›®å½•</li>
</ul>
<h5 data-id="heading-22">ä»£ç å®ç°</h5>
<pre><code class="hljs language-scss" lang="scss">import java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.File</span>;
import java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.IOException</span>;

public class FileSearchTest4 {
    public static void <span class="hljs-selector-tag">main</span>(String[] args) {
        File dç›˜ = new <span class="hljs-built_in">File</span>("D:\"); <span class="hljs-comment">// æœç´¢æ ¹ç›®å½•</span>
        try {
            <span class="hljs-built_in">searchFile</span>(dç›˜, "QQ.exe"); <span class="hljs-comment">// è°ƒç”¨é€’å½’æœç´¢æ–¹æ³•</span>
        } catch (IOException e) {
            e<span class="hljs-selector-class">.printStackTrace</span>();
        }
    }

    <span class="hljs-comment">/**
     * é€’å½’æœç´¢æ–‡ä»¶
     * @param dir æœç´¢çš„ç›®å½•
     * @param fileName è¦æ‰¾çš„æ–‡ä»¶å
     */</span>
    public static void <span class="hljs-built_in">searchFile</span>(File dir, String fileName) throws IOException {
        <span class="hljs-comment">// å¤„ç†å¼‚å¸¸æƒ…å†µï¼šç›®å½•ä¸å­˜åœ¨ã€æ˜¯æ–‡ä»¶ã€ä¸ºç©º</span>
        if (dir == null || !dir.exists() || dir<span class="hljs-selector-class">.isFile</span>()) {
            return;
        }

        <span class="hljs-comment">// è·å–å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶/æ–‡ä»¶å¤¹</span>
        File<span class="hljs-selector-attr">[]</span> files = dir<span class="hljs-selector-class">.listFiles</span>();
        if (files != null &amp;&amp; files.length &gt; <span class="hljs-number">0</span>) {
            for (File file : files) {
                if (file.isFile()) {
                    <span class="hljs-comment">// æ˜¯æ–‡ä»¶ï¼Œåˆ¤æ–­åç§°æ˜¯å¦åŒ¹é…</span>
                    if (file.getName()<span class="hljs-selector-class">.contains</span>(fileName)) {
                        System<span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>("æ‰¾åˆ°æ–‡ä»¶ï¼š" + file.getAbsolutePath());
                        <span class="hljs-comment">// ç›´æ¥æ‰“å¼€æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</span>
                        Runtime<span class="hljs-selector-class">.getRuntime</span>()<span class="hljs-selector-class">.exec</span>(file.getAbsolutePath());
                    }
                } else {
                    <span class="hljs-comment">// æ˜¯æ–‡ä»¶å¤¹ï¼Œé€’å½’è¿›å…¥ç»§ç»­æœç´¢</span>
                    <span class="hljs-built_in">searchFile</span>(file, fileName);
                }
            }
        }
    }
}
</code></pre>
<h5 data-id="heading-23">ä¼˜åŠ¿åˆ†æ</h5>
<p>é€’å½’éå†æ–‡ä»¶ç³»ç»Ÿæ¯”ä½¿ç”¨å¤šå±‚å¾ªç¯æ›´åŠ ç®€æ´ã€ä¼˜é›…ã€‚å®ƒè‡ªåŠ¨å¤„ç†äº†æ–‡ä»¶å¤¹çš„åµŒå¥—ç»“æ„ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†éå†çš„å±‚çº§ã€‚</p>
<h3 data-id="heading-24">å››ã€é€’å½’ vs è¿­ä»£ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h3>
<h4 data-id="heading-25">4.1 é€’å½’çš„ä¼˜åŠ¿</h4>
<ul>
<li>ä»£ç ç®€æ´ï¼Œé€»è¾‘æ¸…æ™°</li>
<li>é€‚åˆå¤„ç†å±‚æ¬¡ç»“æ„é—®é¢˜ï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€æ ‘å½¢ç»“æ„ï¼‰</li>
<li>é€‚åˆè§£å†³å¯ä»¥åˆ†è§£ä¸ºå­é—®é¢˜çš„é—®é¢˜ï¼ˆå¦‚é˜¶ä¹˜ã€æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰</li>
</ul>
<h4 data-id="heading-26">4.2 é€’å½’çš„åŠ£åŠ¿</h4>
<ul>
<li>é¢å¤–çš„æ ˆå†…å­˜æ¶ˆè€—</li>
<li>é€’å½’æ·±åº¦è¿‡å¤§å¯èƒ½å¯¼è‡´æ ˆæº¢å‡º</li>
<li>å¯¹äºç®€å•é—®é¢˜ï¼Œè¿­ä»£é€šå¸¸æ›´é«˜æ•ˆ</li>
</ul>
<h4 data-id="heading-27">4.3 ä½•æ—¶ä½¿ç”¨é€’å½’ï¼Ÿ</h4>
<ul>
<li>é—®é¢˜å¯ä»¥è‡ªç„¶åœ°åˆ†è§£ä¸ºç›¸åŒç±»å‹çš„å­é—®é¢˜</li>
<li>æœ‰æ˜ç¡®çš„é€’å½’ç»ˆç‚¹</li>
<li>é—®é¢˜è§„æ¨¡ä¸ä¼šå¤ªå¤§ï¼ˆé¿å…æ ˆæº¢å‡ºï¼‰</li>
</ul>
<h3 data-id="heading-28">äº”ã€é€’å½’çš„å¸¸è§è¯¯åŒºä¸ä¼˜åŒ–</h3>
<h4 data-id="heading-29">5.1 è¯¯åŒºï¼šæ²¡æœ‰ç»ˆæ­¢æ¡ä»¶</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printA</span>()</span> {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"A"</span>);
    printA(); <span class="hljs-comment">// æ²¡æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œä¼šå¯¼è‡´StackOverflowError</span>
}
</code></pre>
<h4 data-id="heading-30">5.2 è¯¯åŒºï¼šé€’å½’æ–¹å‘é”™è¯¯</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é”™è¯¯ï¼šé€’å½’æ–¹å‘é”™è¯¯ï¼Œä¼šå¯¼è‡´æ— é™é€’å½’</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>{
    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">f</span>(n + <span class="hljs-number">1</span>) * n; <span class="hljs-comment">// n+1ï¼Œè¶Šæ¥è¶Šè¿œç¦»ç»ˆç‚¹</span>
}
</code></pre>
<h4 data-id="heading-31">5.3 ä¼˜åŒ–ï¼šå°¾é€’å½’ä¼˜åŒ–</h4>
<p>åœ¨æŸäº›è¯­è¨€ä¸­ï¼ˆå¦‚Scalaã€Schemeï¼‰ï¼Œå°¾é€’å½’å¯ä»¥è¢«ä¼˜åŒ–ä¸ºè¿­ä»£ï¼Œé¿å…æ ˆå¸§ç´¯ç§¯ã€‚ä½†åœ¨Javaä¸­ï¼Œå°¾é€’å½’ä¸è¢«ä¼˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦è°¨æ…ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å°¾é€’å½’ç¤ºä¾‹ï¼ˆJavaä¸­ä¸è¢«ä¼˜åŒ–ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">factorial</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span> accumulator)</span> </span>{
    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> accumulator;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">factorial</span>(n - <span class="hljs-number">1</span>, n * accumulator);
}
</code></pre>
<h3 data-id="heading-32">å…­ã€æ€»ç»“</h3>
<p>é€’å½’æ˜¯ä¸€ç§å¼ºå¤§çš„ç¼–ç¨‹æŠ€æœ¯ï¼Œå®ƒé€šè¿‡"é—®é¢˜åˆ†è§£"å’Œ"é€’å½’ç»ˆç‚¹"çš„ç»„åˆï¼Œä»¥ç®€æ´çš„ä»£ç è§£å†³å¤æ‚é—®é¢˜ã€‚è¦æŒæ¡é€’å½’ï¼Œå…³é”®åœ¨äºç†è§£å¹¶æ­£ç¡®åº”ç”¨é€’å½’çš„ä¸‰è¦ç´ ï¼šé€’å½’å…¬å¼ã€é€’å½’ç»ˆç‚¹å’Œé€’å½’æ–¹å‘ã€‚</p>
<ul>
<li><strong>é€’å½’å…¬å¼</strong>å®šä¹‰äº†å¦‚ä½•å°†å¤§é—®é¢˜åˆ†è§£ä¸ºå°é—®é¢˜</li>
<li><strong>é€’å½’ç»ˆç‚¹</strong>æ˜¯é˜²æ­¢æ— é™é€’å½’çš„å…³é”®</li>
<li><strong>é€’å½’æ–¹å‘</strong>ç¡®ä¿é—®é¢˜è§„æ¨¡é€æ¸ç¼©å°</li>
</ul>
<p>âš ï¸ å°æé†’ï¼šã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€’å½’ç‰¹åˆ«é€‚åˆå¤„ç†å±‚æ¬¡ç»“æ„é—®é¢˜ï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿã€æ ‘å½¢ç»“æ„ï¼‰å’Œå¯ä»¥è‡ªç„¶åˆ†è§£çš„é—®é¢˜ï¼ˆå¦‚é˜¶ä¹˜ã€æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰ï¼Œä½†ä¹Ÿè¦æ³¨æ„ï¼Œé€’å½’ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œé€’å½’è™½ç„¶ç®€æ´ï¼Œä½†ä¼šå ç”¨é¢å¤–çš„æ ˆå†…å­˜ï¼Œæ‰€ä»¥ä¸è¦ç”¨å®ƒè§£å†³ç®€å•é—®é¢˜ï¼ˆæ¯”å¦‚æ±‚ 1+2+3ï¼‰ï¼Œå¯¹äºç®€å•é—®é¢˜æˆ–å¤§è§„æ¨¡æ•°æ®ï¼Œè¿­ä»£å¯èƒ½æ›´ä¸ºé«˜æ•ˆã€‚</p>
<p>æŒæ¡é€’å½’ï¼Œä¸ä»…èƒ½è®©ä½ çš„ä»£ç æ›´åŠ ä¼˜é›…ï¼Œè¿˜èƒ½æå‡ä½ è§£å†³å¤æ‚é—®é¢˜çš„èƒ½åŠ›ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨é€’å½’ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CAP ä¸ BASEï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæ€æƒ³ä¸å®è·µæŒ‡å—]]></title>    <link>https://juejin.cn/post/7582413770092036134</link>    <guid>https://juejin.cn/post/7582413770092036134</guid>    <pubDate>2025-12-12T00:09:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582413770092036134" data-draft-id="7582425536464207898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CAP ä¸ BASEï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæ€æƒ³ä¸å®è·µæŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2025-12-12T00:09:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CAP ä¸ BASEï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæ€æƒ³ä¸å®è·µæŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T00:09:34.000Z" title="Fri Dec 12 2025 00:09:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œâ€œæ•°æ®å¦‚ä½•åœ¨å¤šèŠ‚ç‚¹é—´ååŒâ€ æ˜¯æ°¸æ’çš„æ ¸å¿ƒé—®é¢˜ã€‚CAP ç†è®ºå®šä¹‰äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸‰å¤§æ ¸å¿ƒçº¦æŸï¼Œè€Œ BASE æ€æƒ³åˆ™ä¸ºäº’è”ç½‘åœºæ™¯æä¾›äº†çµæ´»çš„å¦¥åæ–¹æ¡ˆã€‚æœ¬æ–‡å°†ä»ç†è®ºæœ¬è´¨ã€æ ¸å¿ƒåŒºåˆ«ã€å®è·µæƒè¡¡ä¸‰ä¸ªç»´åº¦ï¼Œæ‹†è§£ CAP ä¸ BASE çš„åº•å±‚é€»è¾‘ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨å®é™…åœºæ™¯ä¸­åšå‡ºåˆç†é€‰æ‹©ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€åˆ†å¸ƒå¼ç³»ç»Ÿçš„ â€œä¸å¯èƒ½ä¸‰è§’â€ï¼šCAP ç†è®º</h3>
<h4 data-id="heading-1">1. CAP ç†è®ºçš„èµ·æºä¸å®šä¹‰</h4>
<p>CAP ç†è®ºç”±åŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡çš„ Eric Brewer æ•™æˆåœ¨ 2000 å¹´æå‡ºï¼Œå…¶æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼š<strong>ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿæ— æ³•åŒæ—¶æ»¡è¶³ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰å’Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPartition Toleranceï¼‰ä¸‰å¤§ç‰¹æ€§ï¼Œæœ€å¤šåªèƒ½æ»¡è¶³å…¶ä¸­ä¸¤é¡¹</strong>ã€‚</p>
<p>è¿™ä¸‰å¤§ç‰¹æ€§çš„å…·ä½“å®šä¹‰éœ€ç»“åˆåˆ†å¸ƒå¼åœºæ™¯ç²¾å‡†ç†è§£ï¼š</p>
<ul>
<li><strong>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</strong> ï¼šæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çœ‹åˆ°çš„æ•°æ®æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ· A åœ¨èŠ‚ç‚¹ 1 ä¿®æ”¹äº†æ•°æ®ï¼Œç”¨æˆ· B åœ¨èŠ‚ç‚¹ 2 è¯»å–æ—¶ï¼Œå¿…é¡»ç«‹å³çœ‹åˆ°æœ€æ–°ä¿®æ”¹ç»“æœï¼Œä¸èƒ½å‡ºç° â€œèŠ‚ç‚¹ 1 æ˜¯æ–°æ•°æ®ï¼ŒèŠ‚ç‚¹ 2 æ˜¯æ—§æ•°æ®â€ çš„æƒ…å†µã€‚</li>
</ul>

<ul>
<li><strong>å¯ç”¨æ€§ï¼ˆAvailabilityï¼‰</strong> ï¼šåªè¦ç”¨æˆ·çš„è¯·æ±‚æ˜¯åˆæ³•çš„ï¼Œç³»ç»Ÿå°±å¿…é¡»åœ¨æœ‰é™æ—¶é—´å†…ç»™å‡ºå“åº”ï¼ˆæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œä¸èƒ½å‡ºç° â€œæ— é™ç­‰å¾…â€ æˆ– â€œæœåŠ¡ä¸å¯ç”¨â€ çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œç”µå•†ç½‘ç«™çš„å•†å“æŸ¥è¯¢æ¥å£ï¼Œå³ä½¿éƒ¨åˆ†èŠ‚ç‚¹æ•…éšœï¼Œä¹Ÿéœ€å¿«é€Ÿè¿”å›ç»“æœã€‚</li>
</ul>

<ul>
<li><strong>åˆ†åŒºå®¹é”™æ€§ï¼ˆPartition Toleranceï¼‰</strong> ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒèŠ‚ç‚¹é—´é€šè¿‡ç½‘ç»œé€šä¿¡ï¼Œå½“ç½‘ç»œå‡ºç°æ•…éšœï¼ˆå¦‚ç½‘ç»œå»¶è¿Ÿã€æ–­è¿ï¼‰å¯¼è‡´èŠ‚ç‚¹è¢«åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹åˆ†åŒºæ—¶ï¼Œç³»ç»Ÿä»èƒ½æ­£å¸¸å·¥ä½œã€‚è¿™æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å›ºæœ‰å±æ€§ â€”â€” ç½‘ç»œæ•…éšœæ— æ³•é¿å…ï¼Œå› æ­¤åˆ†åŒºå®¹é”™æ€§æ˜¯å¿…é¡»å…·å¤‡çš„åŸºç¡€èƒ½åŠ›ã€‚</li>
</ul>
<h4 data-id="heading-2">2. ä¸ºä»€ä¹ˆä¸‰è€…ä¸å¯å…¼å¾—ï¼Ÿ</h4>
<p>CAP çš„æ ¸å¿ƒçŸ›ç›¾åœ¨äº â€œç½‘ç»œä¸å¯é â€ï¼šå½“åˆ†åŒºå‘ç”Ÿæ—¶ï¼ˆP å¿…é¡»æ»¡è¶³ï¼‰ï¼Œç³»ç»Ÿåªèƒ½åœ¨ä¸€è‡´æ€§ï¼ˆCï¼‰å’Œå¯ç”¨æ€§ï¼ˆAï¼‰ä¹‹é—´äºŒé€‰ä¸€ï¼Œå…·ä½“æƒè¡¡é€»è¾‘å¯é€šè¿‡ä¸¤ä¸ªå…¸å‹åœºæ™¯ç†è§£ï¼š</p>
<h5 data-id="heading-3">åœºæ™¯ 1ï¼šä¼˜å…ˆä¿è¯ä¸€è‡´æ€§ï¼ˆCPï¼‰</h5>
<p>å‡è®¾åˆ†å¸ƒå¼æ•°æ®åº“æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹ 1 å’ŒèŠ‚ç‚¹ 2ï¼‰ï¼Œæ•°æ®åˆå§‹çŠ¶æ€å‡ä¸ºx=1ï¼š</p>
<ol>
<li>ç”¨æˆ· A å‘èŠ‚ç‚¹ 1 å‘é€ä¿®æ”¹è¯·æ±‚ï¼šx=2ï¼›</li>
</ol>

<ol start="2">
<li>èŠ‚ç‚¹ 1 ä¿®æ”¹æœ¬åœ°æ•°æ®ä¸ºx=2ï¼Œå‡†å¤‡åŒæ­¥åˆ°èŠ‚ç‚¹ 2 æ—¶ï¼Œç½‘ç»œæ•…éšœï¼ˆåˆ†åŒºå‘ç”Ÿï¼‰ï¼ŒèŠ‚ç‚¹ 1 å’ŒèŠ‚ç‚¹ 2 æ— æ³•é€šä¿¡ï¼›</li>
</ol>

<ol start="3">
<li>æ­¤æ—¶ç”¨æˆ· B å‘èŠ‚ç‚¹ 2 å‘é€æŸ¥è¯¢è¯·æ±‚ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è‹¥è¦ä¿è¯ä¸€è‡´æ€§ï¼ˆCï¼‰ï¼šèŠ‚ç‚¹ 2 å¿…é¡»ç­‰å¾…ç½‘ç»œæ¢å¤ï¼ŒåŒæ­¥åˆ°x=2åå†è¿”å›ç»“æœï¼Œä½†ç­‰å¾…æœŸé—´ç³»ç»Ÿä¸å¯ç”¨ï¼ˆè¿èƒŒ Aï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è‹¥è¦ä¿è¯å¯ç”¨æ€§ï¼ˆAï¼‰ï¼šèŠ‚ç‚¹ 2 ç›´æ¥è¿”å›æ—§æ•°æ®x=1ï¼Œä½†æ­¤æ—¶èŠ‚ç‚¹ 1 å’ŒèŠ‚ç‚¹ 2 æ•°æ®ä¸ä¸€è‡´ï¼ˆè¿èƒŒ Cï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>ç»“è®ºï¼šåˆ†åŒºå‘ç”Ÿæ—¶ï¼Œè¿½æ±‚ä¸€è‡´æ€§å¿…ç„¶ç‰ºç‰²å¯ç”¨æ€§ã€‚</p>
<h5 data-id="heading-4">åœºæ™¯ 2ï¼šä¼˜å…ˆä¿è¯å¯ç”¨æ€§ï¼ˆAPï¼‰</h5>
<p>å»¶ç»­ä¸Šè¿°åœºæ™¯ï¼Œå½“ç½‘ç»œæ•…éšœæ—¶ï¼š</p>
<ol>
<li>èŠ‚ç‚¹ 2 ç›´æ¥è¿”å›æ—§æ•°æ®x=1ï¼ˆä¿è¯å¯ç”¨æ€§ï¼‰ï¼Œä½†æ­¤æ—¶æ•°æ®ä¸ä¸€è‡´ï¼›</li>
</ol>

<ol start="2">
<li>ç½‘ç»œæ¢å¤åï¼Œç³»ç»Ÿé€šè¿‡å¼‚æ­¥åŒæ­¥æœºåˆ¶ï¼Œå°†èŠ‚ç‚¹ 1 çš„x=2åŒæ­¥åˆ°èŠ‚ç‚¹ 2ï¼Œæœ€ç»ˆæ¢å¤ä¸€è‡´æ€§ã€‚</li>
</ol>
<p>ç»“è®ºï¼šåˆ†åŒºå‘ç”Ÿæ—¶ï¼Œè¿½æ±‚å¯ç”¨æ€§å¿…ç„¶ç‰ºç‰²å¼ºä¸€è‡´æ€§ï¼Œåªèƒ½é€šè¿‡åç»­åŒæ­¥å®ç° â€œæœ€ç»ˆä¸€è‡´â€ã€‚</p>
<h4 data-id="heading-5">3. CAP çš„ä¸‰å¤§æƒè¡¡æ–¹æ¡ˆï¼ˆé™„å®è·µåœºæ™¯ï¼‰</h4>





























<table><thead><tr><th>æƒè¡¡æ–¹æ¡ˆ</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>å…¸å‹æŠ€æœ¯</th></tr></thead><tbody><tr><td>CPï¼ˆä¸€è‡´æ€§ + åˆ†åŒºå®¹é”™ï¼‰</td><td>ç‰ºç‰²å¯ç”¨æ€§ï¼Œç¡®ä¿æ•°æ®ç»å¯¹ä¸€è‡´</td><td>é‡‘èäº¤æ˜“ã€åˆ†å¸ƒå¼é”ã€æ•°æ®åº“ä¸»ä»åŒæ­¥ï¼ˆå¼ºåŒæ­¥æ¨¡å¼ï¼‰</td><td>ZooKeeperã€etcdã€PostgreSQLï¼ˆåŒæ­¥å¤åˆ¶ï¼‰</td></tr><tr><td>APï¼ˆå¯ç”¨æ€§ + åˆ†åŒºå®¹é”™ï¼‰</td><td>ç‰ºç‰²å¼ºä¸€è‡´æ€§ï¼Œä¿è¯ç³»ç»ŸæŒç»­å¯ç”¨</td><td>ç”µå•†å•†å“åˆ—è¡¨ã€ç¤¾äº¤åŠ¨æ€ã€ç¼“å­˜ç³»ç»Ÿ</td><td>Redis Clusterï¼ˆé»˜è®¤æ¨¡å¼ï¼‰ã€Elasticsearchã€å¾®æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ˆEurekaï¼‰</td></tr><tr><td>CAï¼ˆä¸€è‡´æ€§ + å¯ç”¨æ€§ï¼‰</td><td>ä¸å…·å¤‡åˆ†åŒºå®¹é”™æ€§ï¼Œä»…é€‚ç”¨äºå•ç‚¹æˆ–å±€åŸŸç½‘é›†ç¾¤</td><td>å•ä½“åº”ç”¨ã€æœ¬åœ°æ•°æ®åº“ã€æ— ç½‘ç»œåˆ†åŒºçš„å°å‹é›†ç¾¤</td><td>æœ¬åœ° MySQLã€å•ä½“æœåŠ¡</td></tr></tbody></table>
<p><strong>å…³é”®æé†’</strong>ï¼šCA æ–¹æ¡ˆåœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸­å‡ ä¹ä¸æˆç«‹ â€”â€” åªè¦å­˜åœ¨ç½‘ç»œé€šä¿¡ï¼Œå°±æ— æ³•é¿å…åˆ†åŒºæ•…éšœã€‚å› æ­¤ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„æ ¸å¿ƒæ˜¯ â€œåœ¨ P å¿…é€‰çš„å‰æä¸‹ï¼Œå¦‚ä½•å¹³è¡¡ C å’Œ Aâ€ã€‚</p>
<h3 data-id="heading-6">äºŒã€äº’è”ç½‘åœºæ™¯çš„å¦¥åï¼šBASE æ€æƒ³</h3>
<h4 data-id="heading-7">1. BASE æ€æƒ³çš„è¯ç”ŸèƒŒæ™¯</h4>
<p>CAP ç†è®ºæ­ç¤ºäº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„åº•å±‚çº¦æŸï¼Œä½†äº’è”ç½‘åœºæ™¯ï¼ˆå¦‚ç”µå•†ã€ç¤¾äº¤ã€æ”¯ä»˜ï¼‰å¯¹ â€œå¯ç”¨æ€§â€ çš„è¦æ±‚æé«˜ â€”â€” ç”¨æˆ·æ— æ³•æ¥å— â€œä¸‹å•æ—¶ç³»ç»Ÿä¸å¯ç”¨â€ï¼Œä½†å¯ä»¥æ¥å— â€œè®¢å•çŠ¶æ€å»¶è¿Ÿå‡ ç§’æ›´æ–°â€ã€‚å› æ­¤ï¼ŒAmazon å›¢é˜Ÿåœ¨ 2008 å¹´æå‡ºäº† BASE æ€æƒ³ï¼Œå®ƒæ˜¯å¯¹ CAP ç†è®ºçš„å»¶ä¼¸ï¼Œæ ¸å¿ƒæ˜¯ â€œæ”¾å¼ƒå¼ºä¸€è‡´æ€§ï¼Œè¿½æ±‚æœ€ç»ˆä¸€è‡´æ€§ï¼Œæ¢å–é«˜å¯ç”¨æ€§â€ã€‚</p>
<p>BASE æ˜¯ä¸‰ä¸ªçŸ­è¯­çš„ç¼©å†™ï¼š</p>
<ul>
<li><strong>Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰</strong> ï¼šç³»ç»Ÿåœ¨æ•…éšœæ—¶ï¼Œæ ¸å¿ƒåŠŸèƒ½ä»èƒ½ä½¿ç”¨ï¼Œä»…ç‰ºç‰²éƒ¨åˆ†éæ ¸å¿ƒåŠŸèƒ½æˆ–æ€§èƒ½ã€‚ä¾‹å¦‚ï¼Œç”µå•†å¤§ä¿ƒæ—¶ï¼Œéƒ¨åˆ†éæ ¸å¿ƒæ¥å£ï¼ˆå¦‚å†å²è®¢å•æŸ¥è¯¢ï¼‰å¯èƒ½é™çº§ä¸º â€œåªè¯»â€ï¼Œæˆ–å“åº”æ—¶é—´ä» 100ms å»¶é•¿è‡³ 500msï¼Œä½†ä¸‹å•ã€æ”¯ä»˜ç­‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸ã€‚</li>
</ul>

<ul>
<li><strong>Soft Stateï¼ˆè½¯çŠ¶æ€ï¼‰</strong> ï¼šç³»ç»Ÿå…è®¸å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œä¸”ä¸­é—´çŠ¶æ€ä¸å½±å“ç³»ç»Ÿå¯ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œå¤–å–è®¢å•çš„ â€œæ”¯ä»˜ä¸­â€ çŠ¶æ€ â€”â€” ç”¨æˆ·æ”¯ä»˜åï¼Œç³»ç»Ÿå¯èƒ½çŸ­æš‚å¤„äº â€œæ”¯ä»˜ä¸­â€ï¼ˆä¸­é—´çŠ¶æ€ï¼‰ï¼Œä½†æœ€ç»ˆä¼šè½¬ä¸º â€œå·²æ”¯ä»˜â€ æˆ– â€œæ”¯ä»˜å¤±è´¥â€ï¼ˆæœ€ç»ˆçŠ¶æ€ï¼‰ã€‚</li>
</ul>

<ul>
<li><strong>Eventually Consistentï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰</strong> ï¼šç³»ç»Ÿåœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„åŒæ­¥åï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®ä¼šè¾¾åˆ°ä¸€è‡´ï¼Œæ— éœ€å®æ—¶ä¿è¯ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ä¿®æ”¹æ˜µç§°åï¼Œå¯èƒ½åœ¨ä¸ªäººä¸­å¿ƒç«‹å³ç”Ÿæ•ˆï¼Œä½†åœ¨å¥½å‹åˆ—è¡¨ä¸­å»¶è¿Ÿ 10 ç§’æ›´æ–°ï¼Œæœ€ç»ˆæ‰€æœ‰åœºæ™¯éƒ½ä¼šæ˜¾ç¤ºæœ€æ–°æ˜µç§°ã€‚</li>
</ul>
<h4 data-id="heading-8">2. BASE çš„æ ¸å¿ƒé€»è¾‘ï¼šç”¨ â€œæŸ”æ€§â€ æ›¿ä»£ â€œåˆšæ€§â€</h4>
<p>BASE æ€æƒ³çš„æœ¬è´¨æ˜¯ â€œæ¥å—ä¸ç¡®å®šæ€§ï¼Œé€šè¿‡å¼‚æ­¥æœºåˆ¶å®ç°æœ€ç»ˆä¸€è‡´â€ï¼Œå…¶æ ¸å¿ƒé€»è¾‘å¯æ‹†è§£ä¸ºä¸‰æ­¥ï¼š</p>
<ol>
<li>ä¼˜å…ˆä¿è¯å¯ç”¨æ€§ï¼šç³»ç»Ÿæ•…éšœæ—¶ï¼Œæ‹’ç» â€œæ— é™ç­‰å¾…â€ï¼Œå¿«é€Ÿè¿”å›åˆç†å“åº”ï¼ˆå¦‚é™çº§ã€ç¼“å­˜æ•°æ®ï¼‰ï¼›</li>
</ol>

<ol start="2">
<li>å…è®¸ä¸­é—´çŠ¶æ€ï¼šæ— éœ€å¼ºåˆ¶æ‰€æœ‰èŠ‚ç‚¹å®æ—¶åŒæ­¥ï¼Œå®¹å¿çŸ­æœŸæ•°æ®ä¸ä¸€è‡´ï¼›</li>
</ol>

<ol start="3">
<li>å¼‚æ­¥ä¿®å¤ä¸€è‡´æ€§ï¼šé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ã€å®šæ—¶ä»»åŠ¡ç­‰æœºåˆ¶ï¼Œåå°åŒæ­¥æ•°æ®ï¼Œæœ€ç»ˆè¾¾åˆ°ä¸€è‡´ã€‚</li>
</ol>
<h4 data-id="heading-9">3. BASE æ€æƒ³çš„è½åœ°æ¡ˆä¾‹ï¼ˆäº’è”ç½‘é«˜é¢‘åœºæ™¯ï¼‰</h4>
<h5 data-id="heading-10">æ¡ˆä¾‹ 1ï¼šç”µå•†ä¸‹å•åº“å­˜æ‰£å‡</h5>
<ul>
<li>æ ¸å¿ƒéœ€æ±‚ï¼šé«˜å¯ç”¨ï¼ˆç”¨æˆ·èƒ½æ­£å¸¸ä¸‹å•ï¼‰+ æœ€ç»ˆä¸€è‡´ï¼ˆåº“å­˜ä¸è¶…å–ï¼‰ï¼›</li>
</ul>

<ul>
<li>å®ç°é€»è¾‘ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>ç”¨æˆ·ä¸‹å•æ—¶ï¼Œå…ˆæ‰£å‡æœ¬åœ°ç¼“å­˜åº“å­˜ï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ï¼Œè¿”å› â€œä¸‹å•æˆåŠŸâ€ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>å¼‚æ­¥å‘é€åº“å­˜æ‰£å‡æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåå°åŒæ­¥åˆ°æ•°æ®åº“ï¼ˆè½¯çŠ¶æ€ï¼šç¼“å­˜ä¸æ•°æ®åº“çŸ­æš‚ä¸ä¸€è‡´ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>è‹¥åŒæ­¥å¤±è´¥ï¼Œé€šè¿‡å®šæ—¶ä»»åŠ¡é‡è¯•ï¼Œæœ€ç»ˆä¿è¯ç¼“å­˜ä¸æ•°æ®åº“åº“å­˜ä¸€è‡´ï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="4">
<li>æç«¯åœºæ™¯ä¸‹ï¼Œé€šè¿‡åº“å­˜é¢„è­¦æœºåˆ¶å…œåº•ï¼ˆå¦‚è¶…å–æ—¶è‡ªåŠ¨å–æ¶ˆè®¢å•ï¼‰ã€‚</li>
</ol>
</li>
</ol>
<h5 data-id="heading-11">æ¡ˆä¾‹ 2ï¼šåˆ†å¸ƒå¼ç¼“å­˜æ›´æ–°</h5>
<ul>
<li>æ ¸å¿ƒéœ€æ±‚ï¼šé«˜å¯ç”¨ï¼ˆç¼“å­˜å¿«é€Ÿå“åº”ï¼‰+ æœ€ç»ˆä¸€è‡´ï¼ˆç¼“å­˜ä¸æ•°æ®åº“åŒæ­¥ï¼‰ï¼›</li>
</ul>

<ul>
<li>å®ç°é€»è¾‘ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>æ•°æ®åº“æ•°æ®æ›´æ–°æ—¶ï¼Œå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†å¼‚æ­¥å‘é€ â€œç¼“å­˜å¤±æ•ˆâ€ æ¶ˆæ¯ï¼ˆè½¯çŠ¶æ€ï¼šç¼“å­˜ä»ä¸ºæ—§æ•°æ®ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>ç¼“å­˜æ”¶åˆ°æ¶ˆæ¯åï¼Œåˆ é™¤æ—§æ•°æ®æˆ–æ›´æ–°ä¸ºæ–°æ•°æ®ï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>æœŸé—´è‹¥æœ‰æŸ¥è¯¢è¯·æ±‚ï¼Œç¼“å­˜è¿”å›æ—§æ•°æ®ï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ï¼ŒçŸ­æœŸä¸ä¸€è‡´å¯æ¥å—ã€‚</li>
</ol>
</li>
</ol>
<h5 data-id="heading-12">æ¡ˆä¾‹ 3ï¼šæ”¯ä»˜ç»“æœåŒæ­¥</h5>
<ul>
<li>æ ¸å¿ƒéœ€æ±‚ï¼šé«˜å¯ç”¨ï¼ˆç”¨æˆ·å¿«é€Ÿå¾—çŸ¥æ”¯ä»˜ç»“æœï¼‰+ æœ€ç»ˆä¸€è‡´ï¼ˆè®¢å•çŠ¶æ€ä¸æ”¯ä»˜çŠ¶æ€åŒæ­¥ï¼‰ï¼›</li>
</ul>

<ul>
<li>å®ç°é€»è¾‘ï¼š</li>
</ul>
<ol>
<li>
<ol>
<li>ç”¨æˆ·æ”¯ä»˜åï¼Œæ”¯ä»˜ç³»ç»Ÿç«‹å³è¿”å› â€œæ”¯ä»˜å¤„ç†ä¸­â€ï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="2">
<li>æ”¯ä»˜ç³»ç»Ÿé€šè¿‡å¼‚æ­¥å›è°ƒã€å®šæ—¶æŸ¥è¯¢ç­‰æ–¹å¼ï¼ŒåŒæ­¥æ”¯ä»˜ç»“æœåˆ°è®¢å•ç³»ç»Ÿï¼ˆè½¯çŠ¶æ€ï¼šè®¢å•çŠ¶æ€ä¸º â€œå¾…æ”¯ä»˜â€ï¼‰ï¼›</li>
</ol>
</li>
</ol>

<ol>
<li>
<ol start="3">
<li>åŒæ­¥æˆåŠŸåï¼Œè®¢å•çŠ¶æ€æ›´æ–°ä¸º â€œå·²æ”¯ä»˜â€ï¼Œæœ€ç»ˆè¾¾åˆ°ä¸€è‡´ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-13">ä¸‰ã€CAP ä¸ BASE çš„å…³ç³»ï¼šä» â€œç†è®ºçº¦æŸâ€ åˆ° â€œå®è·µæŒ‡å—â€</h3>
<h4 data-id="heading-14">1. æ ¸å¿ƒè”ç³»ï¼šBASE æ˜¯ CAP çš„ â€œè½åœ°å¦¥åâ€</h4>
<ul>
<li>CAP ç†è®ºæ˜¯ â€œé¡¶å±‚çº¦æŸâ€ï¼šå‘Šè¯‰æˆ‘ä»¬åˆ†å¸ƒå¼ç³»ç»Ÿçš„æé™ â€”â€” æ— æ³•åŒæ—¶æ»¡è¶³ Cã€Aã€Pï¼Œå¿…é¡»æƒè¡¡ï¼›</li>
</ul>

<ul>
<li>BASE æ€æƒ³æ˜¯ â€œå®è·µæ–¹æ¡ˆâ€ï¼šé’ˆå¯¹äº’è”ç½‘åœºæ™¯çš„é«˜å¯ç”¨éœ€æ±‚ï¼Œé€‰æ‹© â€œAP ä¼˜å…ˆâ€ï¼Œå¹¶é€šè¿‡ â€œæœ€ç»ˆä¸€è‡´æ€§â€ å¼¥è¡¥å¼ºä¸€è‡´æ€§çš„ç¼ºå¤±ã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼š<strong>BASE æ€æƒ³æ˜¯ CAP ç†è®ºä¸­ AP æ–¹æ¡ˆçš„å»¶ä¼¸ä¸è½åœ°</strong>ï¼Œå®ƒä¸å¦å®š CAPï¼Œè€Œæ˜¯åœ¨ CAP çš„æ¡†æ¶å†…ï¼Œå¯»æ‰¾ â€œå¯ç”¨æ€§â€ ä¸ â€œä¸€è‡´æ€§â€ çš„æŸ”æ€§å¹³è¡¡ã€‚</p>
<h4 data-id="heading-15">2. å…³é”®åŒºåˆ«ï¼šä» â€œéæ­¤å³å½¼â€ åˆ° â€œæŸ”æ€§å…¼å®¹â€</h4>



































<table><thead><tr><th>ç»´åº¦</th><th>CAP ç†è®º</th><th>BASE æ€æƒ³</th></tr></thead><tbody><tr><td>æ ¸å¿ƒç›®æ ‡</td><td>å®šä¹‰åˆ†å¸ƒå¼ç³»ç»Ÿçš„åº•å±‚çº¦æŸ</td><td>è§£å†³äº’è”ç½‘åœºæ™¯çš„é«˜å¯ç”¨é—®é¢˜</td></tr><tr><td>ä¸€è‡´æ€§è¦æ±‚</td><td>å¼ºä¸€è‡´æ€§ï¼ˆå®æ—¶ä¸€è‡´ï¼‰</td><td>æœ€ç»ˆä¸€è‡´æ€§ï¼ˆçŸ­æœŸå¯ä¸ä¸€è‡´ï¼‰</td></tr><tr><td>å¯ç”¨æ€§è¦æ±‚</td><td>è¦ä¹ˆå¯ç”¨ï¼Œè¦ä¹ˆä¸å¯ç”¨ï¼ˆåˆšæ€§ï¼‰</td><td>åŸºæœ¬å¯ç”¨ï¼ˆå…è®¸æ€§èƒ½ / åŠŸèƒ½é™çº§ï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>æ‰€æœ‰åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆç†è®ºæŒ‡å¯¼ï¼‰</td><td>äº’è”ç½‘é«˜å¹¶å‘åœºæ™¯ï¼ˆå¦‚ç”µå•†ã€ç¤¾äº¤ï¼‰</td></tr><tr><td>å®è·µæ–¹å¼</td><td>ä¸‰é€‰ä¸€ï¼ˆCP/AP/CAï¼‰</td><td>æŸ”æ€§å…¼å®¹ï¼ˆA ä¼˜å…ˆï¼Œæœ€ç»ˆ Cï¼‰</td></tr></tbody></table>
<h4 data-id="heading-16">3. å®è·µé€‰æ‹©ï¼šå¦‚ä½•æ ¹æ®ä¸šåŠ¡åœºæ™¯å†³ç­–ï¼Ÿ</h4>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„æ ¸å¿ƒä¸æ˜¯ â€œé€‰ CAP è¿˜æ˜¯é€‰ BASEâ€ï¼Œè€Œæ˜¯ â€œæ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçº§ï¼Œé€‰æ‹©åˆé€‚çš„ä¸€è‡´æ€§ä¸å¯ç”¨æ€§ç­–ç•¥â€ï¼Œå†³ç­–æ¡†æ¶å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-17">æ­¥éª¤ 1ï¼šåˆ¤æ–­æ˜¯å¦éœ€è¦å¼ºä¸€è‡´æ€§</h5>
<ul>
<li>æ˜¯ï¼šé€‰æ‹© CP æ–¹æ¡ˆï¼ˆå¦‚é‡‘èäº¤æ˜“ã€åˆ†å¸ƒå¼é”ï¼‰ï¼›</li>
</ul>

<ul>
<li>å¦ï¼šé€‰æ‹© BASE æ€æƒ³ï¼ˆAP + æœ€ç»ˆä¸€è‡´æ€§ï¼Œå¦‚ç”µå•†ã€ç¤¾äº¤ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-18">æ­¥éª¤ 2ï¼šç»†åŒ–ä¸€è‡´æ€§çº§åˆ«ï¼ˆæœ€ç»ˆä¸€è‡´æ€§çš„æ¢¯åº¦é€‰æ‹©ï¼‰</h5>
<p>å³ä½¿é€‰æ‹© BASEï¼Œä¹Ÿå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©ä¸åŒçš„æœ€ç»ˆä¸€è‡´æ€§çº§åˆ«ï¼ˆä»å¼±åˆ°å¼ºï¼‰ï¼š</p>
<ol>
<li><strong>å› æœä¸€è‡´æ€§</strong>ï¼šæœ‰å› æœå…³ç³»çš„æ“ä½œéœ€ä¿è¯ä¸€è‡´ï¼ˆå¦‚ â€œè¯„è®ºåæ‰èƒ½ç‚¹èµâ€ï¼‰ï¼Œæ— å› æœå…³ç³»çš„å¯ä¸ä¸€è‡´ï¼›</li>
</ol>

<ol start="2">
<li><strong>ä¼šè¯ä¸€è‡´æ€§</strong>ï¼šåŒä¸€ç”¨æˆ·ä¼šè¯å†…æ•°æ®ä¸€è‡´ï¼ˆå¦‚ç”¨æˆ·ä¿®æ”¹æ˜µç§°åï¼Œè‡ªå·±çœ‹åˆ°çš„æ‰€æœ‰é¡µé¢éƒ½æ˜¾ç¤ºæ–°æ˜µç§°ï¼‰ï¼›</li>
</ol>

<ol start="3">
<li><strong>å•è°ƒè¯»ä¸€è‡´æ€§</strong>ï¼šç”¨æˆ·å¤šæ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œç»“æœä¸ä¼šå€’é€€ï¼ˆå¦‚ç¬¬ä¸€æ¬¡è¯»æ—§æ•°æ®ï¼Œåç»­åªèƒ½è¯»æ›´æ–°çš„æ•°æ®ï¼Œä¸èƒ½å†è¯»æ›´æ—§çš„æ•°æ®ï¼‰ï¼›</li>
</ol>

<ol start="4">
<li><strong>æœ€ç»ˆä¸€è‡´æ€§</strong>ï¼šæ— æ—¶é—´çº¦æŸï¼Œåªè¦ç³»ç»Ÿæ— æ•…éšœï¼Œæœ€ç»ˆä¼šä¸€è‡´ï¼ˆå¦‚ç»Ÿè®¡æŠ¥è¡¨ã€æ—¥å¿—åŒæ­¥ï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-19">æ­¥éª¤ 3ï¼šæŠ€æœ¯æ–¹æ¡ˆé€‰å‹ï¼ˆå¯¹åº”ä¸€è‡´æ€§çº§åˆ«ï¼‰</h5>



































<table><thead><tr><th>ä¸€è‡´æ€§çº§åˆ«</th><th>æŠ€æœ¯æ–¹æ¡ˆ</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å¼ºä¸€è‡´æ€§</td><td>åˆ†å¸ƒå¼é”ï¼ˆZooKeeper/etcdï¼‰ã€åŒæ­¥å¤åˆ¶</td><td>è½¬è´¦ã€æ”¯ä»˜ã€åº“å­˜æ‰£å‡ï¼ˆæ— è¶…å–ï¼‰</td></tr><tr><td>å› æœä¸€è‡´æ€§</td><td>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafka/RabbitMQï¼‰ã€äº‹åŠ¡æ¶ˆæ¯</td><td>ä¸‹å•â†’æ”¯ä»˜â†’å‘è´§çš„æµç¨‹ä¾èµ–</td></tr><tr><td>ä¼šè¯ä¸€è‡´æ€§</td><td>æœ¬åœ°ç¼“å­˜ã€ä¼šè¯å­˜å‚¨ï¼ˆRedisï¼‰</td><td>ç”¨æˆ·ä¸ªäººä¸­å¿ƒã€è´­ç‰©è½¦</td></tr><tr><td>å•è°ƒè¯»ä¸€è‡´æ€§</td><td>è¯»å†™åˆ†ç¦»ï¼ˆä¸»åº“å†™ã€ä»åº“è¯»ï¼Œä»åº“æŒ‰é¡ºåºåŒæ­¥ï¼‰</td><td>å•†å“è¯¦æƒ…ã€è®¢å•åˆ—è¡¨</td></tr><tr><td>æœ€ç»ˆä¸€è‡´æ€§</td><td>å¼‚æ­¥åŒæ­¥ï¼ˆå®šæ—¶ä»»åŠ¡ã€CDCï¼‰ã€ç¼“å­˜æ›´æ–°</td><td>ç»Ÿè®¡æŠ¥è¡¨ã€æ—¥å¿—åˆ†æã€éæ ¸å¿ƒæ•°æ®åŒæ­¥</td></tr></tbody></table>
<h3 data-id="heading-20">å››ã€å¸¸è§è¯¯åŒºæ¾„æ¸…</h3>
<ol>
<li><strong>è¯¯åŒº 1ï¼šBASE æ€æƒ³å®Œå…¨æ”¾å¼ƒä¸€è‡´æ€§</strong></li>
</ol>
<p>é”™è¯¯ã€‚BASE æ”¾å¼ƒçš„æ˜¯ â€œå¼ºä¸€è‡´æ€§â€ï¼Œè€Œé â€œä¸€è‡´æ€§â€â€”â€” å®ƒè¦æ±‚ç³»ç»Ÿæœ€ç»ˆè¾¾åˆ°ä¸€è‡´ï¼Œåªæ˜¯å…è®¸çŸ­æœŸä¸ä¸€è‡´ã€‚</p>
<ol start="2">
<li><strong>è¯¯åŒº 2ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿå¿…é¡»é€‰æ‹© AP æˆ– CP</strong></li>
</ol>
<p>é”™è¯¯ã€‚å¾ˆå¤šç³»ç»Ÿæ˜¯ â€œæ··åˆæ¨¡å¼â€â€”â€” æ ¸å¿ƒåŠŸèƒ½é€‰ CPï¼ˆå¦‚æ”¯ä»˜ï¼‰ï¼Œéæ ¸å¿ƒåŠŸèƒ½é€‰ APï¼ˆå¦‚å•†å“æ¨èï¼‰ã€‚ä¾‹å¦‚ï¼Œç”µå•†å¹³å°çš„ â€œä¸‹å•æ”¯ä»˜â€ æ˜¯ CPï¼Œâ€œå•†å“åˆ—è¡¨æŸ¥è¯¢â€ æ˜¯ APã€‚</p>
<ol start="3">
<li><strong>è¯¯åŒº 3ï¼šåˆ†åŒºå®¹é”™æ€§å¯ä»¥æ”¾å¼ƒ</strong></li>
</ol>
<p>é”™è¯¯ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç½‘ç»œæ•…éšœæ˜¯å¿…ç„¶äº‹ä»¶ï¼ˆåˆ†åŒºä¸€å®šä¼šå‘ç”Ÿï¼‰ï¼Œå› æ­¤åˆ†åŒºå®¹é”™æ€§ï¼ˆPï¼‰æ˜¯å¿…é¡»æ»¡è¶³çš„åŸºç¡€ç‰¹æ€§ï¼ŒCAP çš„æƒè¡¡æœ¬è´¨æ˜¯ â€œP å¿…é€‰ï¼ŒC å’Œ A äºŒé€‰ä¸€â€ã€‚</p>
<ol start="4">
<li><strong>è¯¯åŒº 4ï¼šæœ€ç»ˆä¸€è‡´æ€§ = æ— ä¸€è‡´æ€§</strong></li>
</ol>
<p>é”™è¯¯ã€‚æœ€ç»ˆä¸€è‡´æ€§æ˜¯æœ‰æ˜ç¡®çº¦æŸçš„ â€”â€” ç³»ç»Ÿåœ¨æ— æ–°æ›´æ–°çš„æƒ…å†µä¸‹ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´åå¿…é¡»è¾¾åˆ°ä¸€è‡´ï¼Œä¸”ä¸ä¸€è‡´çš„çª—å£æ˜¯å¯é¢„æœŸçš„ï¼ˆå¦‚ 1 ç§’ã€10 ç§’ï¼‰ï¼Œè€Œéæ— é™æœŸä¸ä¸€è‡´ã€‚</p>
<h3 data-id="heading-21">äº”ã€æ€»ç»“</h3>
<p>CAP ç†è®ºä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æä¾›äº† â€œé¡¶å±‚æ€ç»´æ¡†æ¶â€ï¼Œè®©æˆ‘ä»¬ç†è§£ â€œä¸å¯èƒ½ä¸‰è§’â€ çš„åº•å±‚çº¦æŸï¼›BASE æ€æƒ³åˆ™ä¸ºäº’è”ç½‘é«˜å¹¶å‘åœºæ™¯æä¾›äº† â€œè½åœ°å®è·µæŒ‡å—â€ï¼Œé€šè¿‡ â€œåŸºæœ¬å¯ç”¨ã€è½¯çŠ¶æ€ã€æœ€ç»ˆä¸€è‡´æ€§â€ çš„æŸ”æ€§ç­–ç•¥ï¼Œå®ç°äº†å¯ç”¨æ€§ä¸ä¸€è‡´æ€§çš„å¹³è¡¡ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ— éœ€æ‹˜æ³¥äº â€œçº¯ç²¹çš„ CAP æ–¹æ¡ˆâ€ æˆ– â€œä¸¥æ ¼çš„ BASE æ€æƒ³â€ï¼Œè€Œåº”æ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçº§çµæ´»å†³ç­–ï¼šé‡‘èåœºæ™¯ä¼˜å…ˆä¿è¯å¼ºä¸€è‡´æ€§ï¼ˆCPï¼‰ï¼Œäº’è”ç½‘åœºæ™¯ä¼˜å…ˆä¿è¯é«˜å¯ç”¨ï¼ˆBASEï¼‰ï¼Œæ ¸å¿ƒåŠŸèƒ½ä¸éæ ¸å¿ƒåŠŸèƒ½å¯é‡‡ç”¨ä¸åŒç­–ç•¥ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„ç»ˆæç›®æ ‡ï¼Œä»æ¥ä¸æ˜¯ â€œè¿½æ±‚ç†è®ºä¸Šçš„æœ€ä¼˜â€ï¼Œè€Œæ˜¯ â€œåœ¨çº¦æŸæ¡ä»¶ä¸‹ï¼Œæ»¡è¶³ä¸šåŠ¡çš„å®é™…éœ€æ±‚â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„HooksæŠ€å·§è®©ä½ çš„åº”ç”¨æé€Ÿ30%]]></title>    <link>https://juejin.cn/post/7582419803782053923</link>    <guid>https://juejin.cn/post/7582419803782053923</guid>    <pubDate>2025-12-12T00:16:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582419803782053923" data-draft-id="7582430286916124687" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„HooksæŠ€å·§è®©ä½ çš„åº”ç”¨æé€Ÿ30%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-12T00:16:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„HooksæŠ€å·§è®©ä½ çš„åº”ç”¨æé€Ÿ30%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T00:16:54.000Z" title="Fri Dec 12 2025 00:16:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0"><strong>Reactæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„HooksæŠ€å·§è®©ä½ çš„åº”ç”¨æé€Ÿ30%</strong></h3>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨Reactç”Ÿæ€ç³»ç»Ÿä¸­ï¼ŒHooksè‡ªæ¨å‡ºä»¥æ¥å·²æˆä¸ºå‡½æ•°å¼ç»„ä»¶çš„æ ¸å¿ƒå·¥å…·ã€‚ç„¶è€Œï¼Œè®¸å¤šå¼€å‘è€…ä»…åœç•™åœ¨åŸºç¡€ç”¨æ³•ï¼ˆå¦‚<code>useState</code>ã€<code>useEffect</code>ï¼‰å±‚é¢ï¼Œå¿½ç•¥äº†Hooksåœ¨æ€§èƒ½ä¼˜åŒ–ä¸Šçš„æ½œåŠ›ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨5ä¸ªè¢«ä½ä¼°çš„HooksæŠ€å·§ï¼Œé€šè¿‡å®é™…ä»£ç ç¤ºä¾‹å’Œæ€§èƒ½å¯¹æ¯”ï¼Œå±•ç¤ºå¦‚ä½•é€šè¿‡è¿™äº›æŠ€æœ¯å®ç°é«˜è¾¾30%çš„æ€§èƒ½æå‡ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸»ä½“</h3>
<h4 data-id="heading-3">1. <code>useMemo</code>ï¼šä¸ä»…ä»…æ˜¯è®°å¿†åŒ–çš„â€œè®¡ç®—å±æ€§â€</h4>
<h5 data-id="heading-4">é—®é¢˜åœºæ™¯</h5>
<p>å½“ç»„ä»¶ä¸­å­˜åœ¨é«˜å¼€é”€çš„è®¡ç®—é€»è¾‘ï¼ˆå¦‚æ•°æ®è¿‡æ»¤ã€æ’åºï¼‰æ—¶ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šé‡æ–°è®¡ç®—ï¼Œå³ä½¿ä¾èµ–é¡¹æœªå˜åŒ–ã€‚</p>
<h5 data-id="heading-5">ä¼˜åŒ–æ–¹æ¡ˆ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> sortedList = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> largeArray.<span class="hljs-title function_">sort</span>(complexSortLogic);
}, [largeArray]); <span class="hljs-comment">// ä»…åœ¨largeArrayå˜åŒ–æ—¶é‡æ–°è®¡ç®—</span>
</code></pre>
<h5 data-id="heading-6">è¿›é˜¶æŠ€å·§</h5>
<ul>
<li><strong>å¼•ç”¨ç¨³å®šæ€§</strong>ï¼šå°†å¯¹è±¡/æ•°ç»„ä½œä¸ºä¾èµ–é¡¹æ—¶ï¼Œé…åˆ<code>useState</code>æˆ–<code>useReducer</code>ç¡®ä¿å¼•ç”¨ä¸å˜</li>
<li><strong>è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</strong>ï¼šé€šè¿‡ç¬¬äºŒä¸ªå‚æ•°å®ç°æ·±åº¦æ¯”è¾ƒï¼ˆéœ€è°¨æ…ä½¿ç”¨ï¼‰</li>
</ul>
<h5 data-id="heading-7">å®æµ‹æ•°æ®</h5>
<p>åœ¨1000æ¡æ•°æ®çš„æ’åºåœºæ™¯ä¸‹ï¼Œé‡å¤æ¸²æŸ“æ€§èƒ½æå‡å¯è¾¾45%ã€‚</p>
<hr/>
<h4 data-id="heading-8">2. <code>useCallback</code> + <code>React.memo</code>ï¼šå­ç»„ä»¶æ›´æ–°çš„ç²¾å‡†æ§åˆ¶</h4>
<h5 data-id="heading-9">é—®é¢˜åœºæ™¯</h5>
<p>çˆ¶ç»„ä»¶çŠ¶æ€æ›´æ–°å¯¼è‡´æ‰€æœ‰å­ç»„ä»¶æ— å·®åˆ«é‡æ¸²æŸ“ï¼Œå³ä½¿å®ƒä»¬çš„propsæœªå˜åŒ–ã€‚</p>
<h5 data-id="heading-10">ä¼˜åŒ–æ–¹æ¡ˆ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Parent.jsx</span>
<span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// äº‹ä»¶å¤„ç†é€»è¾‘</span>
}, [dependency]);

<span class="hljs-comment">// Child.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-title class_">ChildComponent</span>);
</code></pre>
<h5 data-id="heading-11">å…³é”®æ´å¯Ÿ</h5>
<ul>
<li><strong>é—­åŒ…é™·é˜±</strong>ï¼šé”™è¯¯çš„ä¾èµ–æ•°ç»„ä¼šå¯¼è‡´å›è°ƒå‡½æ•°æŒæœ‰è¿‡æœŸçŠ¶æ€</li>
<li><strong>è®°å¿†åŒ–æˆæœ¬</strong>ï¼šè¿‡åº¦ä½¿ç”¨å¯èƒ½å¯¼è‡´å†…å­˜å‹åŠ›ï¼Œé€‚åˆä¸­å¤§å‹ç»„ä»¶æ ‘</li>
</ul>
<h5 data-id="heading-12">å…¸å‹æ¡ˆä¾‹åˆ†æ</h5>
<p>ç”µå•†å¹³å°å•†å“åˆ—è¡¨åœºæ™¯ä¸­ï¼Œæ­¤ç»„åˆæŠ€å¯å‡å°‘60%çš„å­ç»„ä»¶æ¸²æŸ“ã€‚</p>
<hr/>
<h4 data-id="heading-13">3. <code>useReducer</code> vs <code>useState</code>ï¼šçŠ¶æ€æ›´æ–°çš„æ‰¹é‡å¤„ç†è‰ºæœ¯</h4>
<h5 data-id="heading-14">æ·±å±‚åŸç†</h5>
<ul>
<li><code>useState</code>çš„setStateä¼šè§¦å‘åŒæ­¥æ¸²æŸ“ï¼ˆåœ¨Concurrent Modeä¸‹å¯èƒ½åˆå¹¶ï¼‰</li>
<li><code>useReducer</code>å¤©ç”Ÿæ”¯æŒæ‰¹é‡æ›´æ–°</li>
</ul>
<h5 data-id="heading-15">æ€§èƒ½æ•æ„Ÿåœºæ™¯ä»£ç å¯¹æ¯”</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// useStateç‰ˆæœ¬ï¼ˆå¯èƒ½è§¦å‘å¤šæ¬¡æ¸²æŸ“ï¼‰</span>
<span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title function_">useState</span>(initState);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">update</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setState</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> ({...v, <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>}));
  <span class="hljs-title function_">setState</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> ({...v, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>}));
};

<span class="hljs-comment">// useReducerç‰ˆæœ¬ï¼ˆå•æ¬¡æ›´æ–°ï¼‰</span>
<span class="hljs-keyword">const</span> [state, dispatch] = <span class="hljs-title function_">useReducer</span>(reducer, initState);
<span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'MULTI_UPDATE'</span>, <span class="hljs-attr">payload</span>: {<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">b</span>:<span class="hljs-number">2</span>} });
</code></pre>
<h5 data-id="heading-16">Benchmarkç»“æœ</h5>
<p>å¤æ‚è¡¨å•åœºæ™¯ä¸‹ï¼Œæ›´æ–°ååé‡æå‡28%ã€‚</p>
<hr/>
<h4 data-id="heading-17">4. <code>useLayoutEffect</code>çš„ç²¾å‡†è®¡æ—¶ï¼šå‡å°‘å¸ƒå±€æŠ–åŠ¨</h4>
<h5 data-id="heading-18">DOMæ“ä½œçš„æœ€ä½³å®è·µ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useLayoutEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> element = ref.<span class="hljs-property">current</span>;
  <span class="hljs-comment">// DOMæµ‹é‡å’ŒåŒæ­¥ä¿®æ”¹æ“ä½œ</span>
  
}, [deps]);
</code></pre>
<p>ä¸å¸¸è§„è®¤çŸ¥ä¸åŒï¼š</p>
<ul>
<li><strong>å¹¶éæ‰€æœ‰DOMæ“ä½œéƒ½éœ€è¦</strong>ï¼šä»…åœ¨éœ€è¦åŒæ­¥å¸ƒå±€æ—¶ä½¿ç”¨ï¼ˆå¦‚åŠ¨ç”»èµ·å§‹å¸§ï¼‰</li>
<li><strong>SSRè­¦å‘Š</strong>ï¼šæœåŠ¡ç«¯æ¸²æŸ“æ—¶ä¼šè§¦å‘è­¦å‘Šï¼Œéœ€é…åˆåŠ¨æ€å¯¼å…¥è§£å†³</li>
</ul>
<h5 data-id="heading-19">Chrome Performanceé¢æ¿åˆ†ææ¡ˆä¾‹ï¼š</h5>
<p>Tooltipå®šä½è®¡ç®—åœºæ™¯ä¸­å‡å°‘42%çš„Layout Thrashingã€‚</p>
<hr/>
<h4 data-id="heading-20">5. <code>useDeferredValue</code> + Suspenseï¼šå¹¶å‘æ¨¡å¼ä¸‹çš„æ¸è¿›å¼åŠ è½½</h4>
<h5 data-id="heading-21">Concurrent Modeé€‚é…æ–¹æ¡ˆï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> deferredValue = <span class="hljs-title function_">useDeferredValue</span>(value);

<span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">ExpensiveComponent</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{deferredValue}</span> /&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<h5 data-id="heading-22">Implementation Notes:</h5>
<ol>
<li><strong>ä¼˜å…ˆçº§æ ‡è®°</strong>ï¼šReactä¼šè‡ªåŠ¨å°†å»¶è¿Ÿå€¼çš„æ›´æ–°æ ‡è®°ä¸ºè¿‡æ¸¡æ›´æ–°(transition)</li>
<li><strong>é˜²æŠ–æ›¿ä»£æ–¹æ¡ˆ</strong>ï¼šç›¸æ¯”æ‰‹åŠ¨é˜²æŠ–èƒ½æ›´ç²¾å‡†æ§åˆ¶æ—¶é—´åˆ‡ç‰‡</li>
</ol>
<h5 data-id="heading-23">A/Bæµ‹è¯•æ•°æ®ï¼š</h5>
<p>å¤§åˆ—è¡¨è¿‡æ»¤åœºæ™¯ä¸‹é¦–æ¬¡å†…å®¹å‘ˆç°æ—¶é—´(FCP)æ”¹å–„37%ã€‚</p>
<hr/>
<h3 data-id="heading-24">Deep Diveæ‰©å±•çŸ¥è¯†</h3>
<h4 data-id="heading-25">Hookç»„åˆæ¨¡å¼åˆ›æ–°æ¡ˆä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useOptimizedSelector</span>(<span class="hljs-params">selector</span>) {
    <span class="hljs-keyword">const</span> [, forceUpdate] = <span class="hljs-title function_">useReducer</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">const</span> prevValueRef = <span class="hljs-title function_">useRef</span>();
    
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
       <span class="hljs-keyword">const</span> subscription = store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span> {
         <span class="hljs-keyword">const</span> newValue = <span class="hljs-title function_">selector</span>(store.<span class="hljs-title function_">getState</span>());
         <span class="hljs-keyword">if</span>(!<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(prevValueRef.<span class="hljs-property">current</span>, newValue)) {
           prevValueRef.<span class="hljs-property">current</span> = newValue;
           <span class="hljs-title function_">forceUpdate</span>();
         }
       });
       <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> subscription.<span class="hljs-title function_">unsubscribe</span>();
    }, [selector]);
    
    <span class="hljs-keyword">return</span> prevValueRef.<span class="hljs-property">current</span>;
}
</code></pre>
<p>è¯¥è‡ªå®šä¹‰Hookå®ç°äº†Reduxé€‰æ‹©å™¨çš„ç²¾ç¡®æ›´æ–°è®¢é˜…ã€‚</p>
<hr/>
<h3 data-id="heading-26">Web Workersé›†æˆç­–ç•¥</h3>
<p>é€šè¿‡Hookå°è£…Web Workeré€šä¿¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useWorkerComputation</span>(<span class="hljs-params">task</span>) {
   <span class="hljs-keyword">const</span> [result, setResult] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
   
   <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'worker.js'</span>);
      worker.<span class="hljs-title function_">postMessage</span>(task);
      
      worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { 
        <span class="hljs-title function_">setResult</span>(e.<span class="hljs-property">data</span>); 
      };
      
      <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> worker.<span class="hljs-title function_">terminate</span>();
   }, [task]);
   
   <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>é€‚ç”¨äºå›¾åƒå¤„ç†ç­‰CPUå¯†é›†å‹ä»»åŠ¡ã€‚</p>
<hr/>
<h3 data-id="heading-27">React Profileré›†æˆæŒ‡å—</h3>
<p>å¼€å‘ç¯å¢ƒæ·»åŠ æ€§èƒ½æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;<span class="hljs-title class_">Profiler</span> id=<span class="hljs-string">"ExpensiveComponent"</span> onRender={<span class="hljs-function">(<span class="hljs-params">id, phase, duration</span>) =&gt;</span> {
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${id}</span> <span class="hljs-subst">${phase}</span> took <span class="hljs-subst">${duration}</span>ms`</span>);
}}&gt;
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ExpensiveComponent</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">Profiler</span>&gt;
</code></pre>
<p>ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ï¼š</p>
<ul>
<li>User Timing API</li>
<li>React DevTools Profiler Export</li>
</ul>
<hr/>
<h3 data-id="heading-28">SSRç‰¹æ®Šå¤„ç†</h3>
<p>æœåŠ¡ç«¯æ¸²æŸ“éœ€æ³¨æ„ï¼š</p>
<ol>
<li><code>useLayoutEffect</code>è­¦å‘Šè§£å†³æ–¹æ¡ˆï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> useIsomorphicLayoutEffect = 
   <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">'undefined'</span> ? useLayoutEffect : useEffect;
</code></pre>
<ol start="2">
<li>Hydrationé˜¶æ®µé¿å…çŠ¶æ€çªå˜</li>
</ol>
<hr/>
<h3 data-id="heading-29">Browser Rendering Pipelineè§£æ</h3>
<p>Hookæ‰§è¡Œæ—¶æœºä¸æµè§ˆå™¨å¸§å¯¹é½ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">Input Event</span>] â†’ requestAnimationFrame â†’ React Render Phase â†’  
               â†³ Commit Phase â†’ requestIdleCallback 
</code></pre>
<p>å…³é”®è·¯å¾„ä¼˜åŒ–çš„é»„é‡‘æ³•åˆ™ï¼š</p>
<ul>
<li>Hookä¸­çš„è®¡ç®—åº”å°äº16msï¼ˆ60fpsï¼‰</li>
<li>Effectæ¸…ç†å‡½æ•°éœ€è½»é‡çº§</li>
</ul>
<hr/>
<h3 data-id="heading-30">Fiberæ¶æ„åº•å±‚è§†è§’</h3>
<p>ä¸ºä»€ä¹ˆè¿™äº›Hookèƒ½ä¼˜åŒ–æ€§èƒ½ï¼Ÿ</p>
<ol>
<li>FiberèŠ‚ç‚¹çš„bailoutæœºåˆ¶ï¼š
<ul>
<li>propsæµ…æ¯”è¾ƒ(memo)</li>
<li>hooksä¾èµ–é¡¹æ¯”å¯¹</li>
</ul>
</li>
<li>Schedulerçš„æ—¶é—´åˆ‡ç‰‡ï¼š
<ul>
<li>Concurrent Modeä¸‹çš„å¯ä¸­æ–­æ¸²æŸ“</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-31">TypeScripté«˜çº§æ¨¡å¼</h3>
<p>å¸¦ç±»å‹çº¦æŸçš„è‡ªå®šä¹‰Hookç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> useContextSelector&lt;T, K&gt;(
   <span class="hljs-attr">context</span>: <span class="hljs-title class_">Context</span>&lt;T&gt;,
   <span class="hljs-attr">selector</span>: <span class="hljs-function">(<span class="hljs-params">value: T</span>) =&gt;</span> K  
): K { ... }
</code></pre>
<p>å®ç°ç±»ä¼¼Zustandçš„é€‰æ‹©å™¨åŠŸèƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-32">Final Thoughtsæ€»ç»“</h2>
<p>è¿™äº›HookæŠ€å·§çš„å…±åŒç‰¹å¾ï¼š</p>
<ol>
<li><strong>å¼•ç”¨ç¨³å®šæ€§ä¼˜å…ˆ</strong> - Memoizationæ˜¯åŸºç¡€é˜²çº¿</li>
<li><strong>ç²¾ç¡®æ›´æ–°ç²’åº¦æ§åˆ¶</strong> - ShouldComponentUpdateçš„ç°ä»£åŒ–èº«</li>
<li><strong>å¹¶å‘æ¨¡å¼å‹å¥½è®¾è®¡</strong> - Transition/Suspenseé›†æˆ</li>
</ol>
<p>å®æ–½è·¯çº¿å›¾å»ºè®®ï¼š</p>
<p>â‘  Auditç°æœ‰é¡¹ç›®æ€§èƒ½ç“¶é¢ˆ<br/>
â‘¡ Incrementallyåº”ç”¨ä¸Šè¿°æŠ€æœ¯<br/>
â‘¢ Measureå‰åå…³é”®æŒ‡æ ‡å¯¹æ¯”</p>
<blockquote>
<p>"Performance optimization is not about clever tricks,
it's about understanding the system's behavior at depth."
â€”â€” Dan Abramov</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vite åˆ°åº•èƒ½å¹²å˜›ï¼Ÿä¸ºä»€ä¹ˆ Vue3 å®˜æ–¹æ¨èå®ƒåšå·¥ç¨‹åŒ–å·¥å…·ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582480048957915163</link>    <guid>https://juejin.cn/post/7582480048957915163</guid>    <pubDate>2025-12-12T00:26:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582480048957915163" data-draft-id="7574745301723971590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vite åˆ°åº•èƒ½å¹²å˜›ï¼Ÿä¸ºä»€ä¹ˆ Vue3 å®˜æ–¹æ¨èå®ƒåšå·¥ç¨‹åŒ–å·¥å…·ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-12T00:26:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vite åˆ°åº•èƒ½å¹²å˜›ï¼Ÿä¸ºä»€ä¹ˆ Vue3 å®˜æ–¹æ¨èå®ƒåšå·¥ç¨‹åŒ–å·¥å…·ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T00:26:57.000Z" title="Fri Dec 12 2025 00:26:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šæœ‹å‹åœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™å…¶å®éƒ½æœ‰ç”¨è¿‡<code>Vite</code>ï¼Œä¹ŸçŸ¥é“å®ƒæ˜¯ç°ä»£åŒ–æ„å»ºå·¥å…·ï¼Œä½†å´ä¸æ¸…æ¥šå®ƒæ˜¯æ€ä¹ˆç”¨çš„ã€‚</p>
<p>åªæ˜¯çŸ¥é“é¡¹ç›®é‡Œé›†æˆäº†Viteï¼Œå¼€å‘çš„æ—¶å€™å¯åŠ¨å¾ˆå¿«ï¼Œé…ç½®æ–‡ä»¶ä¹Ÿå¾ˆæ¸…æ™°ï¼Œä½†å¾ˆå°‘å»äº†è§£å®ƒæ˜¯ä»€ä¹ˆï¼Œèµ·åˆ°äº†ä»€ä¹ˆä½œç”¨ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€Vite æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>å®ƒçš„åå­—æ¥æºäºæ³•è¯­å•è¯"vite"ï¼Œæ„æ€æ˜¯"å¿«é€Ÿ"ï¼Œç”± Vue.js ä½œè€…å°¤é›¨æºªå¼€å‘çš„ä¸€æ¬¾<strong>ç°ä»£åŒ–å‰ç«¯æ„å»ºå·¥å…·</strong>ã€‚</p>
<p>å®ƒçš„ç›®æ ‡å¾ˆç®€å•ï¼š<strong>è®©å¼€å‘ä½“éªŒæ›´å¿«ã€æ›´ç®€å•</strong>ã€‚</p>
<p>Viteä¸ä»…æ”¯æŒVueï¼Œè¿˜åŸç”Ÿæ”¯æŒReactã€Svelteã€Preactã€Litç­‰ä¸»æµæ¡†æ¶ï¼Œç”šè‡³å¯ä»¥ç”¨äºçº¯ HTML + JavaScript é¡¹ç›®ã€‚</p>
<hr/>
<h3 data-id="heading-1">äºŒã€Vite çš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<p>Viteä¹‹æ‰€ä»¥ç«ï¼Œæ˜¯å› ä¸ºå®ƒè§£å†³äº†ä¼ ç»Ÿæ„å»ºå·¥å…·çš„å‡ ä¸ªç—›ç‚¹ï¼š</p>
<p><strong>å¯åŠ¨æå¿«</strong>
å¼€å‘æœåŠ¡å™¨å¯åŠ¨å‡ ä¹ç§’å¼€ï¼Œä¸æ‰“åŒ…ï¼</p>
<p><strong>çƒ­æ›´æ–°é£å¿«</strong>
ä¿®æ”¹ä»£ç åï¼Œæµè§ˆå™¨åªæ›´æ–°æ”¹åŠ¨çš„éƒ¨åˆ†ï¼Œæ¯«ç§’çº§å“åº”</p>
<p><strong>åŸç”Ÿ ES æ¨¡å—æ”¯æŒ</strong>
ç›´æ¥åˆ©ç”¨ç°ä»£æµè§ˆå™¨çš„ ES Module èƒ½åŠ›</p>
<p><strong>é›¶é…ç½®ä¸Šæ‰‹</strong>
åˆ›å»ºé¡¹ç›®åªéœ€ä¸€æ¡å‘½ä»¤ï¼Œæ— éœ€å¤æ‚é…ç½®</p>
<p><strong>æ’ä»¶ç”Ÿæ€ä¸°å¯Œ</strong>
å…¼å®¹ Rollup æ’ä»¶ï¼Œç”Ÿæ€å¼ºå¤§</p>
<p><strong>å¼€ç®±å³ç”¨çš„ä¸°å¯ŒåŠŸèƒ½</strong>
æ”¯æŒ TypeScriptã€JSXã€CSS é¢„å¤„ç†å™¨ç­‰ï¼Œæ— éœ€å¤æ‚é…ç½®ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ä¸ä¼ ç»Ÿå·¥å…·ï¼ˆå¦‚ Webpackï¼‰å¯¹æ¯”</h3>
<h4 data-id="heading-3">1. å·¥ä½œæ–¹å¼çš„æ ¹æœ¬ä¸åŒ</h4>
<p><strong>Webpack</strong>ï¼šå¼€å‘æ—¶ä¼šå…ˆ<strong>æ‰“åŒ…æ•´ä¸ªé¡¹ç›®</strong>ï¼ˆæŠŠæ‰€æœ‰ JSã€CSS åˆå¹¶æˆ bundleï¼‰ï¼Œç„¶åå¯åŠ¨æœåŠ¡å™¨ã€‚é¡¹ç›®è¶Šå¤§ï¼Œæ‰“åŒ…è¶Šæ…¢ã€‚</p>
<p><strong>Vite</strong>ï¼šå¼€å‘æ—¶<strong>ä¸æ‰“åŒ…</strong>ï¼ç›´æ¥åˆ©ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ ES æ¨¡å—ï¼ˆ<code>&lt;script type="module"&gt;</code>ï¼‰ï¼ŒæŒ‰éœ€åŠ è½½æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-4">2. ä¸¾ä¸ªå®é™…ä¾‹å­</h4>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªç®€å•çš„é¡¹ç›®ç»“æ„ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">src</span>/
â”œâ”€â”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.js</span>
â””â”€â”€ utils<span class="hljs-selector-class">.js</span>
</code></pre>
<p><strong>ä½¿ç”¨ Webpackï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;

<span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { add } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));
</code></pre>
<p>Webpack ä¼šï¼š
1.æŠŠ<code>main.js</code>å’Œ<code>utils.js</code>æ‰“åŒ…æˆä¸€ä¸ª<code>bundle.js</code>
2.å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œè¿”å›è¿™ä¸ªbundle
3.æµè§ˆå™¨åŠ è½½æ•´ä¸ªbundle</p>
<p>å³ä½¿ä½ åªæ”¹äº†<code>utils.js</code>ä¸­çš„ä¸€è¡Œï¼ŒWebpackä¹Ÿè¦é‡æ–°åˆ†æä¾èµ–ã€é‡æ–°æ‰“åŒ…æ•´ä¸ªåº”ç”¨ï¼ˆè™½ç„¶æœ‰ç¼“å­˜ä¼˜åŒ–ï¼Œä½†ä»æœ‰å»¶è¿Ÿï¼‰ã€‚</p>
<p><strong>ä½¿ç”¨ Vite</strong></p>
<p>Vite åœ¨å¼€å‘æ—¶ç›´æ¥ç”Ÿæˆè¿™æ ·çš„ HTMLï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æµè§ˆå™¨ä¼šï¼š
1.è¯·æ±‚ <code>/src/main.js</code>
2.å‘ç°é‡Œé¢ <code>import './utils.js'</code>ï¼Œè‡ªåŠ¨å†è¯·æ±‚ <code>/src/utils.js</code>
3.æŒ‰éœ€åŠ è½½ï¼Œæ— éœ€æ‰“åŒ…ï¼</p>
<p>å½“ä½ ä¿®æ”¹<code>utils.js</code>ï¼ŒViteåªå‘Šè¯‰æµè§ˆå™¨ï¼šâ€œå–‚ï¼Œutils.jsæ›´æ–°äº†â€ï¼Œ
æµè§ˆå™¨åªé‡æ–°åŠ è½½è¿™ä¸€ä¸ªæ–‡ä»¶ï¼Œ<strong>çƒ­æ›´æ–°é€Ÿåº¦æ¥è¿‘å®æ—¶</strong>ï¼</p>
<p>Vite åœ¨<strong>å¼€å‘é˜¶æ®µ</strong>ç”¨åŸç”Ÿ ESMï¼Œåœ¨<strong>ç”Ÿäº§é˜¶æ®µ</strong>ä¼šç”¨ Rollup æ‰“åŒ…ï¼Œå…¼é¡¾é€Ÿåº¦å’Œå…¼å®¹æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-5">å››ã€Vite çš„å·¥ä½œåŸç†ï¼šä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ</h3>
<p>å…³é”®å°±ä¸¤ç‚¹ï¼š</p>
<h4 data-id="heading-6">1. åˆ©ç”¨ç°ä»£æµè§ˆå™¨çš„åŸç”Ÿ ES æ¨¡å—ï¼ˆESMï¼‰</h4>
<p>ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge ç­‰ï¼‰æ—©å°±æ”¯æŒ <code>&lt;script type="module"&gt;</code>ï¼Œå¯ä»¥ç›´æ¥ import/export æ¨¡å—ï¼Œæ— éœ€æ‰“åŒ…ã€‚</p>
<p>Vite ç›´æ¥æŠŠè¿™ä¸ªèƒ½åŠ›ç”¨èµ·æ¥â€”â€”<strong>å¼€å‘æ—¶ä¸æ‰“åŒ…ï¼Œè®©æµè§ˆå™¨è‡ªå·±å»åŠ è½½æ¨¡å—</strong>ã€‚</p>
<h4 data-id="heading-7">2. ä¾èµ–é¢„æ„å»ºï¼ˆDependency Pre-bundlingï¼‰</h4>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šé‚£ <code>node_modules</code> é‡Œçš„åŒ…æ€ä¹ˆåŠï¼Ÿå®ƒä»¬å¾ˆå¤šä¸æ˜¯ ESM æ ¼å¼å•Šï¼</p>
<p>Viteä¼šåœ¨é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œç”¨ esbuildï¼ˆè¶…å¿«çš„ JS æ‰“åŒ…å™¨ï¼‰æŠŠ node_modules é‡Œçš„ä¾èµ–é¢„æ„å»ºä¸º ESM æ ¼å¼ï¼Œå¹¶ç¼“å­˜èµ·æ¥ã€‚</p>
<p>esbuild æ˜¯ç”¨ Go å†™çš„ï¼Œæ¯” Webpack å¿« 10~100 å€ï¼</p>
<p>é¢„æ„å»ºåªåšä¸€æ¬¡ï¼Œåç»­å¼€å‘ç›´æ¥ç”¨ç¼“å­˜</p>
<p>è¿™æ ·æ—¢ä¿è¯äº†å…¼å®¹æ€§ï¼Œåˆä¸å½±å“å¼€å‘é€Ÿåº¦ã€‚</p>
<hr/>
<h3 data-id="heading-8">äº”ã€å¦‚ä½•ä½¿ç”¨ Viteï¼Ÿ</h3>
<h4 data-id="heading-9">1. åˆ›å»ºé¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ npm</span>
npm create vite@latest my-vue-app -- --template vue

<span class="hljs-comment"># ä½¿ç”¨ yarn</span>
yarn create vite my-react-app --template react

<span class="hljs-comment"># ä½¿ç”¨ pnpm</span>
pnpm create vite my-vanilla-app --template vanilla
</code></pre>
<h4 data-id="heading-10">2. é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-arduino" lang="arduino">my-vite-project/
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ <span class="hljs-keyword">public</span>/
â”‚   â””â”€â”€ favicon.ico
â””â”€â”€ src/
    â”œâ”€â”€ main.js
    â”œâ”€â”€ App.vue
    â”œâ”€â”€ components/
    â””â”€â”€ styles/
</code></pre>
<h4 data-id="heading-11">3. å¼€å‘æœåŠ¡å™¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> my-vue-app

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
npm install

<span class="hljs-comment"># å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span>
npm run dev
</code></pre>
<p>è®¿é—® <code>http://localhost:5173</code> å³å¯çœ‹åˆ°ä½ çš„åº”ç”¨ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de034da60c0341b08fc07806a7bec009~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766104016&amp;x-signature=BgvItGzCyTqulxz%2FIyX%2BLKFGdSk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-12">4. åŸºç¡€é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// æ’ä»¶é…ç½®</span>
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],
  
  <span class="hljs-comment">// å¼€å‘æœåŠ¡å™¨é…ç½®</span>
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">port</span>: <span class="hljs-number">5173</span>,
    <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
  },
  
  <span class="hljs-comment">// æ„å»ºé…ç½®</span>
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">outDir</span>: <span class="hljs-string">'dist'</span>,
    <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span>
  },
  
  <span class="hljs-comment">// è·¯å¾„åˆ«å</span>
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: <span class="hljs-string">'/src'</span>
    }
  }
})
</code></pre>
<h4 data-id="heading-13">5. å®Œæ•´çš„Vueç»„ä»¶ç¤ºä¾‹</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æˆ‘çš„Viteåº”ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/main.js</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>

<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- src/App.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿ä½¿ç”¨ Viteï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰è®¡æ•°: {{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"increment"</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
    }
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
    }
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.app</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">2rem</span>;
}

<span class="hljs-selector-tag">button</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* src/style.css */</span>
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">font-family</span>: Arial, sans-serif;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
}

* {
  <span class="hljs-attribute">box-sizing</span>: border-box;
}
</code></pre>
<h4 data-id="heading-14">6. æ„å»ºç”Ÿäº§ç‰ˆæœ¬</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»ºç”Ÿäº§ç‰ˆæœ¬</span>
npm run build

<span class="hljs-comment"># é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬</span>
npm run preview
</code></pre>
<hr/>
<h3 data-id="heading-15">ç»“è¯­</h3>
<p>æ€»çš„æ¥è¯´ï¼ŒVite é€šè¿‡åˆ©ç”¨ç°ä»£æµè§ˆå™¨çš„åŸç”Ÿèƒ½åŠ›ï¼Œåœ¨å¼€å‘é˜¶æ®µçœå»äº†æ‰“åŒ…æ­¥éª¤ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚åŒæ—¶ï¼Œå®ƒé…ç½®ç®€å•ã€ä¸Šæ‰‹å®¹æ˜“ï¼Œè¿˜æ‹¥æœ‰å¼ºå¤§çš„æ’ä»¶ç”Ÿæ€ï¼Œéå¸¸é€‚åˆç°ä»£å‰ç«¯é¡¹ç›®ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-16">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6V83qjR6u0nyfzL-14xYAw" target="_blank" title="https://mp.weixin.qq.com/s/6V83qjR6u0nyfzL-14xYAw" ref="nofollow noopener noreferrer">ã€Šasync/await åˆ°åº•è¦ä¸è¦åŠ  try-catchï¼Ÿå¼‚æ­¥é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FbgLoyqb3VLgn3xXAok3kcQ" target="_blank" title="https://mp.weixin.qq.com/s/bgLoyqb3VLgn3xXAok3kcQ" ref="nofollow noopener noreferrer">ã€Šå¦‚ä½•æŸ¥çœ‹ SpringBoot å½“å‰çº¿ç¨‹æ•°ï¼Ÿ3 ç§æ–¹æ³•äº²æµ‹æœ‰æ•ˆã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fp0n2mN5RDDDaIWuHHVRUZQ" target="_blank" title="https://mp.weixin.qq.com/s/p0n2mN5RDDDaIWuHHVRUZQ" ref="nofollow noopener noreferrer">ã€ŠJava å¼€å‘å¿…çœ‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ forï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Streamï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqI3TRTdDfRJSH9kCTqAQUw" target="_blank" title="https://mp.weixin.qq.com/s/qI3TRTdDfRJSH9kCTqAQUw" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª MySQL é«˜çº§ç”¨æ³•ï¼Œè®©ä½ çš„ä»£ç åˆå¿«åˆå¥½çœ‹ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ5ï¼‰Nettyçš„ByteBufæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Java NIOçš„ByteBufferæœ‰ä½•ä¸åŒï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582430286916026383</link>    <guid>https://juejin.cn/post/7582430286916026383</guid>    <pubDate>2025-12-11T23:04:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582430286916026383" data-draft-id="7582419803781939235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ5ï¼‰Nettyçš„ByteBufæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Java NIOçš„ByteBufferæœ‰ä½•ä¸åŒï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T23:04:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ5ï¼‰Nettyçš„ByteBufæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸Java NIOçš„ByteBufferæœ‰ä½•ä¸åŒï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T23:04:51.000Z" title="Thu Dec 11 2025 23:04:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Nettyä¸­ï¼ŒByteBufæ˜¯ä¸€ä¸ªé«˜çº§çš„å­—èŠ‚å®¹å™¨ï¼Œç”¨äºåœ¨ç½‘ç»œä¼ è¾“ä¸­å­˜å‚¨å’Œæ“ä½œå­—èŠ‚æ•°æ®ã€‚å®ƒæ˜¯Nettyè‡ªå·±å®ç°çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œç›¸æ¯”äºJava NIOçš„ByteBufferï¼ŒByteBufæä¾›äº†æ›´å¤šçš„åŠŸèƒ½å’Œçµæ´»æ€§ã€‚</p>
<p>ä¸Java NIOçš„ByteBufferç›¸æ¯”ï¼ŒByteBufå…·æœ‰ä»¥ä¸‹ä¸åŒä¹‹å¤„ï¼š</p>
<ol>
<li>
<p>å†…å­˜ç®¡ç†ï¼šByteBufä½¿ç”¨äº†æ± åŒ–çš„å†…å­˜åˆ†é…æ–¹å¼ï¼Œå¯ä»¥æ›´æœ‰æ•ˆåœ°ç®¡ç†å†…å­˜ï¼Œé¿å…äº†é¢‘ç¹çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ã€‚è€ŒJava NIOçš„ByteBufferéœ€è¦æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚</p>
</li>
<li>
<p>å®¹é‡å¯æ‰©å±•ï¼šByteBufå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨æ‰©å±•å®¹é‡ï¼Œè€ŒJava NIOçš„ByteBufferéœ€è¦æ‰‹åŠ¨åˆ†é…æ›´å¤§çš„ç¼“å†²åŒºã€‚è¿™ä½¿å¾—åœ¨å¤„ç†åŠ¨æ€æ•°æ®æ—¶æ›´åŠ æ–¹ä¾¿ã€‚</p>
</li>
<li>
<p>è¯»å†™ç´¢å¼•ï¼šByteBufæä¾›äº†ä¸¤ä¸ªæŒ‡é’ˆï¼ˆreaderIndexå’ŒwriterIndexï¼‰ï¼Œç”¨äºç®¡ç†è¯»å†™çš„ä½ç½®ï¼Œè€ŒJava NIOçš„ByteBufferåªæœ‰ä¸€ä¸ªpositionæŒ‡é’ˆã€‚è¿™ä½¿å¾—åœ¨è¯»å†™æ•°æ®æ—¶æ›´åŠ çµæ´»ã€‚</p>
</li>
<li>
<p>è¯»å†™æ“ä½œï¼šByteBufæä¾›äº†ä¸€ç³»åˆ—çš„è¯»å†™æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¯»å–å’Œå†™å…¥å„ç§æ•°æ®ç±»å‹ï¼Œè€ŒJava NIOçš„ByteBufferåªæä¾›äº†åŸºæœ¬çš„è¯»å†™æ–¹æ³•ã€‚æ­¤å¤–ï¼ŒByteBufè¿˜æä¾›äº†ä¸€äº›æ–¹ä¾¿çš„æ–¹æ³•ï¼Œå¦‚getByteã€setByteã€readSliceå’ŒwriteSliceç­‰ï¼Œå¯ä»¥æ›´çµæ´»åœ°æ“ä½œæ•°æ®ã€‚</p>
</li>
</ol>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Nettyçš„ByteBufï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.buffer.Unpooled;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ByteBufExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ByteBuf</span> <span class="hljs-variable">buf</span> <span class="hljs-operator">=</span> Unpooled.buffer(<span class="hljs-number">10</span>); <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå®¹é‡ä¸º10çš„ByteBuf</span>

        <span class="hljs-comment">// å†™å…¥æ•°æ®</span>
        buf.writeByte(<span class="hljs-number">1</span>);
        buf.writeShort(<span class="hljs-number">2</span>);
        buf.writeInt(<span class="hljs-number">3</span>);

        <span class="hljs-comment">// è¯»å–æ•°æ®</span>
        System.out.println(buf.readByte());
        System.out.println(buf.readShort());
        System.out.println(buf.readInt());

        buf.release(); <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
    }
}
</code></pre>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Unpooledç±»åˆ›å»ºäº†ä¸€ä¸ªå®¹é‡ä¸º10çš„ByteBufã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨writeByteã€writeShortå’ŒwriteIntæ–¹æ³•ä¾æ¬¡å‘ByteBufå†™å…¥æ•°æ®ã€‚æ¥ç€ï¼Œæˆ‘ä»¬ä½¿ç”¨readByteã€readShortå’ŒreadIntæ–¹æ³•ä¾æ¬¡è¯»å–æ•°æ®ã€‚æœ€åï¼Œæˆ‘ä»¬è°ƒç”¨releaseæ–¹æ³•é‡Šæ”¾èµ„æºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ6ï¼‰ä»€ä¹ˆæ˜¯Nettyçš„Handlerå’ŒCodecï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582424649784246272</link>    <guid>https://juejin.cn/post/7582424649784246272</guid>    <pubDate>2025-12-11T23:05:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582424649784246272" data-draft-id="7582430286916042767" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ6ï¼‰ä»€ä¹ˆæ˜¯Nettyçš„Handlerå’ŒCodecï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T23:05:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ6ï¼‰ä»€ä¹ˆæ˜¯Nettyçš„Handlerå’ŒCodecï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T23:05:36.000Z" title="Thu Dec 11 2025 23:05:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Nettyä¸­ï¼ŒHandlerï¼ˆå¤„ç†å™¨ï¼‰å’ŒCodecï¼ˆç¼–è§£ç å™¨ï¼‰æ˜¯ç”¨äºå¤„ç†ç½‘ç»œæ•°æ®çš„é‡è¦ç»„ä»¶ã€‚</p>
<p>Handleræ˜¯Nettyä¸­ç”¨äºå¤„ç†ç½‘ç»œäº‹ä»¶å’Œæ•°æ®çš„ç»„ä»¶ã€‚å®ƒå¯ä»¥æ¥æ”¶å’Œå‘é€ç½‘ç»œæ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œå¤„ç†å’Œè½¬æ¢ã€‚Handleré€šå¸¸ä¼šå®ç°Nettyæä¾›çš„ç‰¹å®šæ¥å£æˆ–ç»§æ‰¿ç‰¹å®šçš„æŠ½è±¡ç±»ï¼Œä»¥ä¾¿å¤„ç†å„ç§ç±»å‹çš„äº‹ä»¶å’Œæ•°æ®ã€‚</p>
<p>Codecæ˜¯Nettyä¸­ç”¨äºè¿›è¡Œæ•°æ®ç¼–è§£ç çš„ç»„ä»¶ã€‚å®ƒå¯ä»¥å°†ç½‘ç»œæ•°æ®ä»ä¸€ç§æ ¼å¼è½¬æ¢ä¸ºå¦ä¸€ç§æ ¼å¼ï¼Œä»¥ä¾¿åœ¨ç½‘ç»œä¸­ä¼ è¾“å’Œå¤„ç†ã€‚Codecé€šå¸¸ä¼šå®ç°Nettyæä¾›çš„ç¼–è§£ç å™¨æ¥å£ï¼Œå¦‚ChannelInboundHandlerAdapterå’ŒChannelOutboundHandlerAdapterã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Handlerå’ŒCodecï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInboundHandlerAdapter;
<span class="hljs-keyword">import</span> io.netty.handler.codec.ByteToMessageDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.MessageToByteEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HandlerAndCodecExample</span> {
    <span class="hljs-comment">// è‡ªå®šä¹‰çš„Handler</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ChannelInboundHandlerAdapter</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-comment">// å¤„ç†è¯»å–åˆ°çš„æ•°æ®</span>
            <span class="hljs-comment">// ...</span>
        }
    }

    <span class="hljs-comment">// è‡ªå®šä¹‰çš„Decoder</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyDecoder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ByteToMessageDecoder</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">decode</span><span class="hljs-params">(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-comment">// è§£ç æ•°æ®</span>
            <span class="hljs-comment">// ...</span>
        }
    }

    <span class="hljs-comment">// è‡ªå®šä¹‰çš„Encoder</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyEncoder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MessageToByteEncoder</span>&lt;Object&gt; {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">encode</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg, ByteBuf out)</span> <span class="hljs-keyword">throws</span> Exception {
            <span class="hljs-comment">// ç¼–ç æ•°æ®</span>
            <span class="hljs-comment">// ...</span>
        }
    }
}
</code></pre>
<p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„Handlerï¼ˆMyHandlerï¼‰ï¼Œå®ƒç»§æ‰¿è‡ªChannelInboundHandlerAdapterã€‚æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„Decoderï¼ˆMyDecoderï¼‰ï¼Œå®ƒç»§æ‰¿è‡ªByteToMessageDecoderã€‚æœ€åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„Encoderï¼ˆMyEncoderï¼‰ï¼Œå®ƒç»§æ‰¿è‡ªMessageToByteEncoderã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FlatNas:æ‰“é€ ä½ çš„ä¸“å±æµè§ˆå™¨ä»ªè¡¨ç›˜,ä¸€ä¸ªé›†ä¼˜é›…ä¸å®ç”¨äºä¸€èº«çš„å¼€æºå¯¼èˆªé¡µ]]></title>    <link>https://juejin.cn/post/7582475416189272099</link>    <guid>https://juejin.cn/post/7582475416189272099</guid>    <pubDate>2025-12-11T23:31:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582475416189272099" data-draft-id="7582475416189239331" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FlatNas:æ‰“é€ ä½ çš„ä¸“å±æµè§ˆå™¨ä»ªè¡¨ç›˜,ä¸€ä¸ªé›†ä¼˜é›…ä¸å®ç”¨äºä¸€èº«çš„å¼€æºå¯¼èˆªé¡µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T23:31:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FlatNas:æ‰“é€ ä½ çš„ä¸“å±æµè§ˆå™¨ä»ªè¡¨ç›˜,ä¸€ä¸ªé›†ä¼˜é›…ä¸å®ç”¨äºä¸€èº«çš„å¼€æºå¯¼èˆªé¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T23:31:03.000Z" title="Thu Dec 11 2025 23:31:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¿¡æ¯çˆ†ç‚¸çš„ä»Šå¤©ï¼Œæˆ‘ä»¬æ¯å¤©éƒ½è¦æ‰“å¼€æ— æ•°ä¸ªç½‘é¡µï¼šæŸ¥é‚®ä»¶ã€çœ‹æ–°é—»ã€ç®¡ç†ä»»åŠ¡ã€å¬éŸ³ä¹ã€è®¿é—®NASâ€¦â€¦æµè§ˆå™¨ä¹¦ç­¾æ æ—©å·²ä¸å ªé‡è´Ÿã€‚æœ‰æ²¡æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œèƒ½å°†è¿™äº›é«˜é¢‘åº”ç”¨ä¼˜é›…åœ°æ•´åˆåœ¨ä¸€èµ·ï¼Œæä¾›ä¸€ä¸ªæ—¢ç¾è§‚åˆé«˜æ•ˆçš„ä¸ªäººå·¥ä½œå°ï¼Ÿä»Šå¤©è¦ä»‹ç»çš„ <code>FlatNas</code>ï¼Œå°±æ˜¯è¿™æ ·ä¸€ä¸ªè®©äººçœ¼å‰ä¸€äº®çš„å¼€æºé¡¹ç›®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/428bf1bb6b6b4ddeb708d4065e90e851~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=O1wbAzrSrlaeQAY4EdntuUr3oN0%3D" alt="_20251212_071946.png" loading="lazy"/></p>
<p>_20251212_071946.png</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ FlatNasï¼Ÿ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d213ac53243a40ce940d07d74e613fc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=BKqaVP8Qz0t%2FY%2Bwt4xQosfWxvac%3D" alt="1.png" loading="lazy"/></p>
<p>1.png</p>
<p>FlatNas æ˜¯ä¸€ä¸ªåŸºäº Vue 3 å’Œ Express æ„å»ºçš„è½»é‡çº§ã€é«˜åº¦å¯å®šåˆ¶çš„ä¸ªäººå¯¼èˆªé¡µä¸ä»ªè¡¨ç›˜ç³»ç»Ÿã€‚å®ƒæœ€åˆä¸º NAS ç”¨æˆ·è®¾è®¡ï¼Œä½†å‡­å€Ÿå…¶å¼ºå¤§çš„åŠŸèƒ½å’Œä¼˜é›…çš„è®¾è®¡ï¼Œè¿…é€Ÿå¸å¼•äº†æå®¢ã€å¼€å‘è€…å’Œè¿½æ±‚æ•ˆç‡çš„æ‰€æœ‰ç”¨æˆ·ç¾¤ä½“ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼ŒFlatNas å°±æ˜¯ä½ çš„æµè§ˆå™¨èµ·å§‹é¡µ+ä¸ªäººä»ªè¡¨ç›˜ï¼Œè®©ä½ åœ¨ä¸€ä¸ªé¡µé¢ä¸Šç®¡ç†æ‰€æœ‰æ—¥å¸¸æ‰€éœ€ï¼Œå‘Šåˆ«æ‚ä¹±æ— ç« çš„ä¹¦ç­¾å’Œæ•£è½å„å¤„çš„å·¥å…·ã€‚</p>
<p>è¯¥é¡¹ç›®åœ¨github å·²æœ‰ 109 star</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGarry-QD%2FFlatNas" target="_blank" title="https://github.com/Garry-QD/FlatNas" ref="nofollow noopener noreferrer">github.com/Garry-QD/Flâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e74a053592fe4760917bf805b7d85245~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=XK6BroVKRqE5FVsqQsFKl28YPvw%3D" alt="_20251212_064517.png" loading="lazy"/></p>
<p>_20251212_064517.png</p>
<h2 data-id="heading-1">æ ¸å¿ƒäº®ç‚¹ï¼šä¸æ­¢æ˜¯å¯¼èˆªé¡µ</h2>
<h3 data-id="heading-2">ğŸ–¥ï¸ è‡ªç”±æ‹–æ‹½çš„ç½‘æ ¼å¸ƒå±€</h3>
<p>FlatNas é‡‡ç”¨äº†çµæ´»çš„ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿï¼Œæ‰€æœ‰ç»„ä»¶â€”â€”æ—¶é’Ÿã€å¤©æ°”ã€ä¹¦ç­¾ã€RSSé˜…è¯»å™¨â€”â€”éƒ½å¯ä»¥åƒæ‹¼å›¾ä¸€æ ·<strong>è‡ªç”±æ‹–æ‹½ã€è°ƒæ•´å¤§å°</strong>ã€‚ä½ å¯ä»¥æ ¹æ®ä¸ªäººä¹ æƒ¯ï¼Œå°†æœ€å¸¸ç”¨çš„ç»„ä»¶æ”¾åœ¨æœ€æ˜¾çœ¼çš„ä½ç½®ï¼Œæ‰“é€ ç‹¬ä¸€æ— äºŒçš„å·¥ä½œæµç•Œé¢ã€‚</p>
<h3 data-id="heading-3">ğŸ§© å¼€ç®±å³ç”¨çš„ä¸°å¯Œç»„ä»¶</h3>
<p>é¡¹ç›®å†…ç½®äº†å¤šç§å®ç”¨å°ç»„ä»¶ï¼Œè¦†ç›–æ—¥å¸¸é«˜é¢‘éœ€æ±‚ï¼š</p>
<ul>
<li><strong>ä¹¦ç­¾ç»„ä»¶</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡å’Œé“¾æ¥ï¼Œé¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å¡«å…… GitHubã€Bilibili ç­‰10ä¸ªå¸¸ç”¨ç½‘ç«™ã€‚</li>
<li><strong>æ—¶é’Ÿä¸å¤©æ°”</strong>ï¼šå®æ—¶æ˜¾ç¤ºæ—¶é—´ã€æ—¥æœŸå’Œå½“åœ°å¤©æ°”ã€‚</li>
<li><strong>å¾…åŠäº‹é¡¹ (Todo)</strong> ï¼šè½»é‡çº§ä»»åŠ¡ç®¡ç†ï¼Œéšæ—¶è®°å½•çµæ„Ÿã€‚</li>
<li><strong>RSS è®¢é˜…å™¨</strong>ï¼šå†…ç½®é˜…è¯»å™¨ï¼Œå®æ—¶è¿½è¸ªè®¢é˜…æºæ›´æ–°ã€‚</li>
<li><strong>çƒ­æœæ¦œå•</strong>ï¼šé›†æˆå¾®åšã€æ–°é—»ç­‰çƒ­é—¨æ¦œå•ï¼ŒæŠŠæ¡å³æ—¶çƒ­ç‚¹ã€‚</li>
<li><strong>ç®€æ˜“è®¡ç®—å™¨</strong>ï¼šæ— éœ€åˆ‡æ¢åº”ç”¨ï¼Œéšæ—¶è®¡ç®—ã€‚</li>
<li><strong>æœ¬åœ°éŸ³ä¹æ’­æ”¾å™¨</strong>ï¼šæ’­æ”¾å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„éŸ³ä¹æ–‡ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-4">ğŸ¨ æ·±åº¦ä¸ªæ€§åŒ–å®šåˆ¶</h3>
<ul>
<li><strong>å›¾æ ‡è‡ªå®šä¹‰</strong>ï¼šå†…ç½®å›¾æ ‡åº“ + ä¸Šä¼ è‡ªå®šä¹‰å›¾ç‰‡ + <strong>Hex é¢œè‰²ä»£ç </strong>ï¼ˆå¦‚ <code>#ff6b6b</code>ï¼‰è®¾ç½®èƒŒæ™¯è‰²ã€‚</li>
<li><strong>å£çº¸ä¸èƒŒæ™¯</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰å…¨å±€å£çº¸ï¼Œæ›´å¯ä¸º<strong>æ¯ä¸ªåˆ†ç»„å•ç‹¬è®¾ç½®å¡ç‰‡èƒŒæ™¯</strong>ï¼ˆå›¾ç‰‡ã€æ¨¡ç³Šã€é®ç½©æ•ˆæœï¼‰ï¼Œå®ç°é£æ ¼ç»Ÿä¸€çš„è§†è§‰åˆ†åŒºã€‚</li>
<li><strong>è®¿å®¢ç»Ÿè®¡</strong>ï¼šåœ¨é¡µè„šæ˜¾ç¤ºæ€»è®¿é—®é‡ã€ä»Šæ—¥è®¿é—®é‡å’Œåœ¨çº¿æ—¶é•¿ï¼ˆéœ€åœ¨è®¾ç½®ä¸­å¼€å¯ï¼‰ã€‚</li>
<li><strong>æ•°æ®å®‰å…¨</strong>ï¼šæ‰€æœ‰é…ç½®æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° <code>data.json</code> æ–‡ä»¶ä¸­ï¼Œå®Œå…¨ç”±ä½ æŒæ§ã€‚åŒæ—¶æä¾›ç®€å•çš„å¯†ç ä¿æŠ¤ï¼ˆé»˜è®¤ <code>admin</code>ï¼‰ï¼Œä¿æŠ¤ä½ çš„éšç§è®¾ç½®ã€‚</li>
</ul>
<h2 data-id="heading-5">æŠ€æœ¯æ ˆä¸æ¶æ„</h2>
<p>FlatNas é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼š</p>
<ul>
<li><strong>å‰ç«¯</strong>ï¼šVue 3 + Viteï¼Œæä¾›æµç•…çš„äº¤äº’ä½“éªŒã€‚</li>
<li><strong>åç«¯</strong>ï¼šNode.js + Expressï¼Œæä¾›APIæœåŠ¡å’Œé™æ€æ–‡ä»¶æ‰˜ç®¡ã€‚</li>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šçº¯ JSON æ–‡ä»¶å­˜å‚¨ï¼Œç®€å•ç›´æ¥ï¼Œæ˜“äºå¤‡ä»½å’Œè¿ç§»ã€‚</li>
</ul>
<p>é¡¹ç›®ç»“æ„æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-python" lang="python">FlatNas/
â”œâ”€â”€ src/                <span class="hljs-comment"># å‰ç«¯ Vue æºç </span>
â”œâ”€â”€ server/             <span class="hljs-comment"># åç«¯ Express æœåŠ¡</span>
â”‚   â”œâ”€â”€ data/           <span class="hljs-comment"># ç”¨æˆ·é…ç½®æ•°æ® (data.json)</span>
â”‚   â”œâ”€â”€ music/          <span class="hljs-comment"># æœ¬åœ°éŸ³ä¹æ–‡ä»¶ç›®å½•</span>
â”‚   â”œâ”€â”€ cgi-<span class="hljs-built_in">bin</span>/        <span class="hljs-comment"># CGI è„šæœ¬æ‰©å±•ç›®å½•</span>
â”‚   â””â”€â”€ server.js       <span class="hljs-comment"># åç«¯ä¸»ç¨‹åº</span>
</code></pre>
<h2 data-id="heading-6">å¿«é€Ÿä¸Šæ‰‹ï¼šå¤šç§éƒ¨ç½²æ–¹å¼</h2>
<h3 data-id="heading-7">1. æœ¬åœ°å¼€å‘/éƒ¨ç½²</h3>
<p>é€‚åˆæƒ³è¦äºŒæ¬¡å¼€å‘æˆ–è‡ªå®šä¹‰åŠŸèƒ½çš„ç”¨æˆ·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†é¡¹ç›®</span>
git <span class="hljs-built_in">clone</span> https://github.com/Garry-QD/FlatNas.git
<span class="hljs-built_in">cd</span> FlatNas

<span class="hljs-comment"># å®‰è£…ä¾èµ–å¹¶å¯åŠ¨</span>
npm install
npm start  <span class="hljs-comment"># åŒæ—¶å¯åŠ¨å‰ç«¯(5173ç«¯å£)å’Œåç«¯(3000ç«¯å£)</span>

<span class="hljs-comment"># ç”Ÿäº§æ„å»º</span>
npm run build
npm run server
</code></pre>
<h3 data-id="heading-8">2. Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰</h3>
<p>é¡¹ç›®æä¾›äº†å®Œæ•´çš„ Docker æ”¯æŒï¼Œéƒ¨ç½²æå…¶ç®€å•ï¼š</p>
<ul>
<li>åˆ›å»ºdocker-compose.ymlæ–‡ä»¶</li>
</ul>

<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">flatnas:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">qdnas/flatnas:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">flatnas</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'23000:3000'</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./data:/app/server/data</span>   <span class="hljs-comment"># æŒä¹…åŒ–é…ç½®æ•°æ®</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./music:/app/server/music</span> <span class="hljs-comment"># æ˜ å°„éŸ³ä¹ç›®å½•</span>
</code></pre>
<ul>
<li>å¯åŠ¨æœåŠ¡</li>
</ul>

<pre><code class="hljs">docker-compose up -d
</code></pre>
<ul>
<li>è®¿é—®æœåŠ¡</li>
</ul>
<p>æµè§ˆå™¨æ‰“å¼€ <code>http://localhost:23000</code></p>
<h2 data-id="heading-9">ä½¿ç”¨</h2>
<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åœ°å€<code>http://localhost:23000</code>å³å¯ï¼Œç®¡ç†å‘˜é»˜è®¤å¯†ç <code>admin</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/782dee70d24546ce9cedc1820c864422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=FTRN2jqoO2Ado0HugKOSghWDTyY%3D" alt="_20251212_065829.png" loading="lazy"/></p>
<p>_20251212_065829.png</p>
<p>å¦‚æœéœ€è¦ç»™å¤šä¸ªäººä½¿ç”¨çš„è¯åˆ‡<code>å¤šç”¨æˆ·æ¨¡å¼</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad4be8a2096c4df592f35fcd9ba6bd81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=HOzQfnDKeCVlAiyNz7KJVDjGI6s%3D" alt="ScreenShot_2025-12-12_070131_410.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-12_070131_410.png</p>
<p>æ•´ä½“ä½¿ç”¨ä¸‹æ¥æ•´ä¸ª<code>ä»£åŠ</code>å’Œ<code>ä¾¿ç¬º</code>æ˜¯æˆ‘æ¯”è¾ƒå–œæ¬¢çš„åŠŸèƒ½ï¼Œæ•´ä½“uiä¹Ÿæ¯”è¾ƒå¥½çœ‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8db8ce519f8d47bc82889278676ebbd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=VkBGdv%2BuVew61O2HOwzRrhClOMo%3D" alt="_20251212_070621.png" loading="lazy"/></p>
<p>_20251212_070621.png</p>
<p>å¦‚æœå®¶äººä»¬åªæ˜¯éœ€è¦ä¸€ä¸ªç±»ä¼¼ä¸æ”¶è—å¤¹çš„å¯¼èˆªé¡µé¢ã€å¯¹äºuiå’Œå…¶ä»–åŠŸèƒ½æ²¡å•¥è¦æ±‚çš„è¯ä¹Ÿå¯ä»¥è€ƒè™‘ä¸‹<code>Sun-Panel</code></p>
<h2 data-id="heading-10">ç»“è¯­</h2>
<p>FlatNas ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå¯¼èˆªé¡µï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>å¯è‡ªç”±æ‹¼è£…çš„å·¥ä½œå°</strong>ï¼Œä¸€ä¸ª<strong>æ™ºèƒ½çš„ç½‘ç»œè®¿é—®åŠ©æ‰‹</strong>ï¼Œä¸€ä¸ª<strong>å®Œå…¨å±äºä½ çš„æ•°å­—ç©ºé—´</strong>ã€‚å®ƒç”¨ç®€æ´ä¼˜é›…çš„æ–¹å¼ï¼Œè§£å†³äº†æˆ‘ä»¬åœ¨æ•°å­—ç”Ÿæ´»ä¸­çš„ç¢ç‰‡åŒ–é—®é¢˜ã€‚</p>
<p>æ— è®ºä½ æ˜¯æƒ³è¦ä¸€ä¸ªæ¼‚äº®çš„æµè§ˆå™¨èµ·å§‹é¡µï¼Œè¿˜æ˜¯éœ€è¦ä¸€ä¸ªé›†ä¸­ç®¡ç†æ‰€æœ‰å·¥å…·çš„ä¸ªäººä»ªè¡¨ç›˜ï¼ŒFlatNas éƒ½å€¼å¾—ä¸€è¯•ã€‚å®ƒçš„å¼€æºç‰¹æ€§æ„å‘³ç€ä½ å¯ä»¥å®Œå…¨æŒæ§è‡ªå·±çš„æ•°æ®ï¼Œå¹¶æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚</p>
<h2 data-id="heading-11">é™„å½• å…¶å®ƒå¯¼èˆªSun-Panel</h2>
<p>ä¸€ä¸ªæœåŠ¡å™¨ã€NASå¯¼èˆªé¢æ¿ã€Homepageã€æµè§ˆå™¨é¦–é¡µã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhslr-s%2Fsun-panel" target="_blank" title="https://github.com/hslr-s/sun-panel" ref="nofollow noopener noreferrer">githubåœ°å€ï¼šhttps://github.com/hslr-s/sun-panel</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.sun-panel.top%2Fzh_cn%2F" target="_blank" title="https://doc.sun-panel.top/zh_cn/" ref="nofollow noopener noreferrer">å®˜ç½‘åœ°å€ï¼šhttps://doc.sun-panel.top/zh_cn/</a></p>
<p>docker-compose.yml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.3"</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">sun-panel:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">hslr/sun-panel:latest</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">sun-panel</span>
    <span class="hljs-attr">volumes:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">./conf:/app/conf</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">./uploads:/app/uploads</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">./database:/app/database</span>
    <span class="hljs-attr">ports:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-number">3002</span><span class="hljs-string">:3002</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">TZ:</span> <span class="hljs-string">'Asia/Shanghai'</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c59c14c4d32c4da0a1812f48c964c27e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766100663&amp;x-signature=JWIJeIaR69K5%2B%2FpiKlIVTVx5zwg%3D" alt="_20251212_071648.png" loading="lazy"/></p>
<p>_20251212_071648.png</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°ç™½ä¸Šæ‰‹ä»£ç†ç½‘ç»œï¼Œæ­å»ºè‡ªå·±çš„æ•°æ®æŠ“å–å·¥å…·]]></title>    <link>https://juejin.cn/post/7582438809378308138</link>    <guid>https://juejin.cn/post/7582438809378308138</guid>    <pubDate>2025-12-11T22:02:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809378308138" data-draft-id="7582438809378291754" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°ç™½ä¸Šæ‰‹ä»£ç†ç½‘ç»œï¼Œæ­å»ºè‡ªå·±çš„æ•°æ®æŠ“å–å·¥å…·"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T22:02:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‡ ä½•å¿ƒå‡‰"/> <meta itemprop="url" content="https://juejin.cn/user/968044022608488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°ç™½ä¸Šæ‰‹ä»£ç†ç½‘ç»œï¼Œæ­å»ºè‡ªå·±çš„æ•°æ®æŠ“å–å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/968044022608488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‡ ä½•å¿ƒå‡‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T22:02:28.000Z" title="Thu Dec 11 2025 22:02:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äº§å“æ¦‚è¿°</h2>
<p>IPIDEAæ˜¯ä¸šç•Œé¢†å…ˆçš„ä¼ä¸šçº§ä»£ç†ç½‘ç»œæœåŠ¡å¹³å°ï¼Œä¸“æ³¨ä¸ºå…¨çƒå¼€å‘è€…å’Œä¼ä¸šç”¨æˆ·æä¾›é«˜è´¨é‡ã€é«˜ç¨³å®šæ€§çš„ä»£ç†IPè§£å†³æ–¹æ¡ˆã€‚ä½œä¸ºæ–°ä¸€ä»£æ™ºèƒ½ä»£ç†æœåŠ¡æä¾›å•†ï¼ŒIPIDEAå‡­å€Ÿå…¶éå¸ƒå…¨çƒçš„ä¼˜è´¨IPèµ„æºæ± ã€å…ˆè¿›çš„è´Ÿè½½å‡è¡¡æŠ€æœ¯å’Œå®Œå–„çš„APIç”Ÿæ€ç³»ç»Ÿï¼Œå·²æˆä¸ºæ•°æ®é‡‡é›†ã€ç½‘ç»œçˆ¬è™«ã€éšç§ä¿æŠ¤ã€ä¸šåŠ¡æ‹“å±•ç­‰é¢†åŸŸçš„é¦–é€‰æŠ€æœ¯ä¼™ä¼´ã€‚ <strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong> ä¼ä¸šçº§ä»£ç†ç½‘ç»œæœåŠ¡ã€æ™ºèƒ½æŠ“å–è§£å†³æ–¹æ¡ˆã€ä¸“ä¸šæ•°æ®é›†æœåŠ¡ã€å…¨æ–¹ä½å¼€å‘è€…æ”¯æŒ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/011fc660f8d54f4c92037ac0fd3e1019~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=h%2BO5R5Ab1S53A9FUfV%2FMUObngLc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-1">å¤šè¯­è¨€ç”Ÿæ€æ”¯æŒ</h2>
<p>IPIDEAæ„å»ºäº†å®Œæ•´çš„å¤šè¯­è¨€å¼€å‘ç”Ÿæ€ï¼Œä¸ºä¸åŒæŠ€æœ¯æ ˆçš„å¼€å‘è€…æä¾›åŸç”Ÿçº§åˆ«çš„æ¥å…¥ä½“éªŒï¼š</p>
<p>ä¸»æµç¼–ç¨‹è¯­è¨€æ”¯æŒï¼Œå¦‚æœä½ åå‘åšä¼ ç»Ÿçš„ä¼ä¸šçº§åº”ç”¨æˆ–è€…å¤§æ•°æ®å¤„ç†è¿™ä¸€ç±»ï¼ŒJava è¿˜æ˜¯å¾ˆåˆé€‚çš„é€‰æ‹©ã€‚åƒ Spring Boot è¿™ç§æ¡†æ¶å·²ç»éå¸¸æˆç†Ÿï¼Œä¸ç®¡æ˜¯ç”¨ Maven è¿˜æ˜¯ Gradle æ¥ç®¡ç†ä¾èµ–ï¼Œéƒ½æœ‰ä¸€æ•´å¥—å®Œå–„çš„ç”Ÿæ€æ”¯æ’‘ã€‚åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œåªè¦è®¾è®¡å¾—å½“ï¼ŒJava çš„ç¨³å®šæ€§å’Œå¯é æ€§æ˜¯æ¯”è¾ƒæœ‰ä¿éšœçš„ã€‚</p>
<p>åšå‰åç«¯ä¸€ä½“åŒ–æˆ–è€…å„ç§å®æ—¶åº”ç”¨ï¼Œæ¯”å¦‚å®æ—¶æ¨é€ã€èŠå¤©ç³»ç»Ÿã€åœ¨çº¿åä½œä¹‹ç±»çš„ï¼Œå¾ˆå¤šå›¢é˜Ÿä¼šé€‰ Node.jsã€‚å®ƒæœ¬èº«æ˜¯å¼‚æ­¥éé˜»å¡ I/Oï¼ŒåŠ ä¸Š npm ç”Ÿæ€éå¸¸ä¸°å¯Œï¼Œè¦æ¥å„ç§ç¬¬ä¸‰æ–¹åº“éƒ½å¾ˆæ–¹ä¾¿ã€‚åœ¨éœ€è¦æ‰›å¤§é‡å¹¶å‘è¿æ¥ã€åˆå¸Œæœ›å†…å­˜å ç”¨æ§åˆ¶å¾—æ¯”è¾ƒå¥½çš„åœºæ™¯é‡Œï¼ŒNode.js ä¹ŸæŒºå¸¸è§ã€‚</p>
<p>å¦‚æœé‡ç‚¹æ˜¯å¾®æœåŠ¡ã€äº‘åŸç”Ÿï¼Œæˆ–è€…å¯¹æ€§èƒ½ã€èµ„æºåˆ©ç”¨æ¯”è¾ƒæ•æ„Ÿï¼ŒGo æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç«äº‰åŠ›çš„æ–¹æ¡ˆã€‚å®ƒç”¨åç¨‹æ¥åšå¹¶å‘ï¼Œå†™æ³•ç›¸å¯¹ç®€å•ï¼Œåˆæ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œæ€§èƒ½ä¸é”™ï¼Œéƒ¨ç½²ä¹Ÿä¸å¤æ‚â€”â€”é€šå¸¸å°±æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¸¢åˆ°æœåŠ¡å™¨ä¸Šå°±èƒ½è·‘ã€‚
Web å¼€å‘è¿™å—ï¼Œå°¤å…¶æ˜¯å†…å®¹ç®¡ç†ã€ä¼ä¸šå®˜ç½‘ã€åå°ç³»ç»Ÿè¿™ä¸€ç±»ï¼ŒPHP ä¾ç„¶æœ‰å¾ˆå¤§çš„åº”ç”¨é¢ã€‚åƒ Laravelã€Symfony è¿™ç§æ¡†æ¶æˆç†Ÿå¥½ç”¨ï¼Œæ–‡æ¡£ä¹Ÿå¤šï¼Œä¸Šæ‰‹å¿«ã€å¼€å‘æ•ˆç‡é«˜ï¼Œè€Œä¸”éƒ¨ç½²æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¾ˆå¤šç°æˆçš„ç¯å¢ƒéƒ½æ”¯æŒã€‚</p>
<p>å¦‚æœæ˜¯ç³»ç»Ÿçº§å¼€å‘æˆ–è€…éœ€è¦æè‡´æ€§èƒ½çš„è®¡ç®—å‹åº”ç”¨ï¼Œæ¯”å¦‚è‡ªå·±å†™ç½‘ç»œæœåŠ¡ã€åº•å±‚ç»„ä»¶ã€å¼•æ“ç±»ä¸œè¥¿ï¼ŒC/C++ è¿˜æ˜¯ç»•ä¸å¼€ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨åº•å±‚ç½‘ç»œåº“ï¼Œæ§åˆ¶å†…å­˜å’Œèµ„æºä½¿ç”¨çš„ç»†èŠ‚ï¼Œåœ¨æ€§èƒ½å’Œèµ„æºå ç”¨ä¸Šéƒ½èƒ½å‹å¾—æ¯”è¾ƒä½ã€‚</p>
<p>è€Œåœ¨ä¼ä¸šåº”ç”¨å’Œæ¡Œé¢è½¯ä»¶é¢†åŸŸï¼ŒC#/.NET ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆç¨³çš„é€‰æ‹©ã€‚ç°åœ¨æœ‰ .NET Core ä¹‹åï¼Œè·¨å¹³å°èƒ½åŠ›ä¹Ÿæ¯”ä»¥å‰å¼ºäº†ä¸å°‘ã€‚C# æœ¬èº«æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œé…åˆ Visual Studio è¿™ä¸€ç±»å¼€å‘å·¥å…·ï¼Œè°ƒè¯•ã€é‡æ„ã€ä»£ç åˆ†æéƒ½æ¯”è¾ƒé¡ºæ‰‹ï¼Œé€‚åˆé•¿æœŸç»´æŠ¤çš„å¤§å‹é¡¹ç›®ã€‚</p>
<h2 data-id="heading-2">çµæ´»æ¥å…¥æ¨¡å¼</h2>
<p>å¦‚æœä½ æœ‰é‚£ç§éœ€è¦ç»å¸¸æ›´æ›¿IPã€å¹¶å‘é‡åˆå¾ˆé«˜çš„åœºæ™¯ï¼Œå¯ä»¥ç”¨ API åŠ¨æ€æ¨¡å¼ã€‚é€šè¿‡ RESTful API å»å®æ—¶è·å–ä»£ç† IPï¼Œæ¯æ¬¡è¦å‘è¯·æ±‚å‰æ‹‰ä¸€ä¸ªæ–° IPï¼Œç‰¹åˆ«é€‚åˆé¢‘ç¹åˆ‡ IP çš„ä»»åŠ¡ã€‚</p>
<p>åœ¨å¤§è§„æ¨¡æ•°æ®é‡‡é›†è¿™ç§åœºæ™¯ä¸‹ï¼Œä¸€èˆ¬éƒ½æ˜¯æˆåƒä¸Šä¸‡çš„è¯·æ±‚ä¸€èµ·è·‘ï¼Œå¦‚æœä¸€ç›´ç”¨åŒä¸€ä¸ª IPï¼Œå¾ˆå®¹æ˜“è¢«ç›®æ ‡ç½‘ç«™é˜²æŠ¤ä¸Šï¼Œæ‰€ä»¥å°±éœ€è¦ä¸åœåœ°è½®è½¬IPï¼ŒæŠŠè¢«åœç”¨é£é™©å‹åˆ°æœ€ä½ã€‚</p>
<p>å¦‚æœæ˜¯é«˜é¢‘æŠ“å–è¦æŠ“å¾ˆå¤šé¡µé¢ã€å¾ˆå¤šç«™ç‚¹ï¼Œè€Œä¸”è¯·æ±‚é—´éš”åˆçŸ­ï¼Œé‚£å‡ ä¹ç¦»ä¸å¼€é¢‘ç¹æ›´æ›¿IPï¼Œä¸ç„¶å¾ˆå¿«å°±ä¼šè¢«è¯†åˆ«å‡ºæ¥ã€‚</p>
<p>åšä¸åŒåœ°åŒºçš„ä¸šåŠ¡æµ‹è¯•æ—¶ï¼Œä¹Ÿä¼šç”¨åˆ°è¿™ç§ä»£ç†æ–¹æ¡ˆï¼Œæ¯”å¦‚è¦æ¨¡æ‹Ÿâ€œæˆ‘åœ¨ä¸Šæµ·â€â€œæˆ‘åœ¨ç¾å›½â€â€œæˆ‘åœ¨æ¬§æ´²â€åˆ†åˆ«è®¿é—®åŒä¸€ä¸ªæœåŠ¡ï¼Œçœ‹å“åº”æœ‰æ²¡æœ‰å·®å¼‚ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§ï¼Œå°±æ˜¯é‚£ç§é«˜å¹¶å‘çš„æ¥å£è°ƒç”¨åœºæ™¯ï¼Œä¸€ä¸‹å­è¦æ‰“å‡ºå»å¤§é‡è¯·æ±‚ï¼Œè¿™æ—¶å€™é€šå¸¸ä¼šæ¥ä¸€ä¸ªä»£ç†æ± ï¼Œä¸€è¾¹åˆ†æ‘Šå‹åŠ›ï¼Œä¸€è¾¹ç”¨ä¸åŒ IP å»è®¿é—®ï¼Œæ•´ä½“å°±ä¼šæ›´ç¨³ã€æ›´ä¸å®¹æ˜“è§¦å‘é™åˆ¶ã€‚</p>
<h2 data-id="heading-3">ä½¿ç”¨æ¡ˆä¾‹</h2>
<p>å‰é¢ä»‹ç»è¿™ä¹ˆå¤šï¼Œä¸ºäº†è®©å¤§å®¶ç›´è§‚çš„çœ‹å‡ºäº§å“çš„ä¾¿æ·æ€§ï¼Œä¸‹é¢é€šè¿‡æ¨¡æ‹Ÿç”µå•†å®¢æˆ·ä¸ºäº†æŠ“å–äºšé©¬é€Šç”µå­äº§å“çš„æ•°æ®ä½œä¸ºæ¡ˆä¾‹çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨IPIDEAé€šè¿‡ä»£ç†IPæŠ“å–ç½‘é¡µæ•°æ®ã€‚</p>
<h3 data-id="heading-4">APIæ¨¡å¼ç¤ºä¾‹</h3>
<h4 data-id="heading-5">æ­¥éª¤ä¸€ï¼šæ³¨å†Œå’Œè·å–ä»£ç†IP</h4>
<p>åœ¨ IPIDEA å®˜ç½‘å®Œæˆè´¦å·ä¸å¥—é¤é…ç½®ï¼Œå†å°†æ¥å£æ¥å…¥åˆ° Python ä»¥è·å–å…¨çƒä»£ç† IPã€‚å»ºè®®æµç¨‹å¦‚ä¸‹ï¼š</p>
<p>1ã€æ³¨å†Œä¸è®¤è¯
<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ipidea.net%2F%3Futm-source%3Djhlx%26utm-keyword%3D%3Fjhlx" target="_blank" title="http://www.ipidea.net/?utm-source=jhlx&amp;utm-keyword=?jhlx" ref="nofollow noopener noreferrer">ç‚¹å‡»è®¿é—® IPIDEA å®˜ç½‘</a>ï¼Œç‚¹å‡»æ³¨å†Œå¹¶å¡«å†™ä¿¡æ¯å®Œæˆè´¦å·åˆ›å»ºã€‚é¦–æ¬¡ç™»å½•å¹¶å®Œæˆå®åè®¤è¯åï¼Œå®˜æ–¹ä¼šèµ é€ 2G æµ‹è¯•æµé‡ï¼›å®˜ç½‘ä¹Ÿæä¾›å…è´¹è¯•ç”¨ï¼Œæƒ³å…ˆä½“éªŒçš„åŒå­¦å¯å…ˆè¯•ç”¨åå†è´­ä¹°ï¼ˆå…·ä½“ä»¥å®˜ç½‘æœ€æ–°æ”¿ç­–ä¸ºå‡†ï¼‰ã€‚
2ã€é€‰æ‹©å¥—é¤
æ ¹æ®ä¸šåŠ¡è§„æ¨¡é€‰æ‹©åˆé€‚çš„ä»£ç†æœåŠ¡å¥—é¤ï¼Œå¯æŒ‰ä»£ç† IP æ•°é‡ã€å¹¶å‘ä¸ä½¿ç”¨æ—¶é•¿ç­‰ç»´åº¦è¿›è¡Œé…ç½®ã€‚
3ã€ç”Ÿæˆæå–é“¾æ¥/API
åœ¨æ§åˆ¶å°åˆ›å»º/ç”Ÿæˆæå–é“¾æ¥æˆ–è·å– API Key/Tokenï¼Œå¹¶æŒ‰éœ€è®¾ç½®åœ°åŒºã€åè®®ã€ä¼šè¯ä¿æŒç­‰å‚æ•°ã€‚
4ã€æ¥å…¥Python
å°†æå–é“¾æ¥æˆ– API æ¥å…¥åˆ° Python è„šæœ¬ä¸­ï¼ŒæŒ‰éœ€æ‹‰å–å…¨çƒå„åœ°åŒºçš„ä»£ç† IPï¼Œç”¨äºåç»­çš„æ•°æ®é‡‡é›†ä»»åŠ¡ã€‚
5ã€å‚è€ƒç¤ºä¾‹æˆªå›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44b5a06aa4ec4ae790ed8c34f47588f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=ZUmFC3PR04V859H08PSCiXoJz2I%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-6">æ­¥éª¤äºŒï¼šæŸ¥çœ‹å®˜æ–¹çš„æ“ä½œæ–‡æ¡£</h4>
<p>å®˜æ–¹çš„æ–‡æ¡£ä¸­æœ‰åŠ¨æ€IPä»£ç†å’Œé™æ€IPä»£ç†çš„æ“ä½œæ‰‹å†Œå’Œæ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å®˜ç½‘çš„æ“ä½œæ‰‹å†Œæ¥å®Œæˆæˆ‘ä»¬æ¥ä¸‹æ¥ç»“åˆpythonçš„ä½¿ç”¨åŠ¨æ€ä»£ç†IPæ¥é‡‡é›†ç”µå•†è¡Œä¸šçš„æ•°æ®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e95d10460c24a39b025e5078fb53fd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=JCwYuOsrN4FISU9vcAVP3N42%2F9U%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-7">æ­¥éª¤ä¸‰ï¼šç¼–å†™æ•°æ®é‡‡é›†pythonè„šæœ¬ä»£ç </h4>
<p>ä»äº‹ç”µå•†çš„å¼€å‘è€…æ¯æ¬¡æèµ·åŒè¡Œçš„æ•°æ®ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯å¢ƒå¤–ç”µå•†å·¨å¤´äºšé©¬é€Šï¼Œæˆ‘ä»¬æœ¬æ¬¡çš„ç›®æ ‡ä¹Ÿä¸ä¾‹å¤–ï¼Œä¸»è¦æ˜¯æ¥çˆ¬è™«äºšé©¬é€Šçš„ç”µå­å•†å“ä¸€ç±»çš„æ•°æ®ï¼ŒåŒæ—¶å°†çˆ¬å–çš„æ•°æ®å¸å…¥åˆ°è¡¨æ ¼ä¸­ç”¨äºæ—¥åçš„æ•°æ®æ¸…æ´—å’Œæ•°æ®åˆ†æã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup
<span class="hljs-keyword">import</span> csv
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/854fc93cc71a489f9affe457d5dcc38d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=VlVbI3%2FfP63%2BeR7a348YRQq0xbo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æˆ‘ä»¬åœ¨IPIDEAçš„å®˜ç½‘ä¸­æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„APIé“¾æ¥ï¼Œå¹¶ä¸”ç”Ÿæˆä¹‹åæˆ‘ä»¬éœ€è¦å°†è¿™äº›é“¾æ¥ç”¨åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è·å–ä»£ç†IPåˆ—è¡¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_proxies</span>():
    proxies = []
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):  <span class="hljs-comment"># è·å–5ä¸ªä»£ç†IP</span>
        response = requests.get(<span class="hljs-string">'http://api.proxy.ipidea.io/getBalanceProxyIp?num=1&amp;return_type=txt&amp;lb=1&amp;sb=0&amp;flow=1&amp;regions=&amp;protocol=http'</span>)
        proxies.append(response.text.strip())
    <span class="hljs-keyword">return</span> proxies

<span class="hljs-comment"># è½®æ¢ä»£ç†IP</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">rotate_proxy</span>(<span class="hljs-params">proxies</span>):
    <span class="hljs-keyword">return</span> {<span class="hljs-string">'http'</span>: proxies[randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(proxies)-<span class="hljs-number">1</span>)]}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea0170699a964edcb8310064982958c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=wKKYNDbgkPUdESIqU6JkXH%2BO%2BZ4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æˆ‘ä»¬æ‰¾åˆ°äºšé©¬é€Šçš„å®˜ç½‘ï¼Œå¹¶ä¸”å¼€å§‹ä½¿ç”¨ä»£ç†IPæ¥çˆ¬å–æˆ‘ä»¬æƒ³è¦çš„å•†å“æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ•°æ®é‡‡é›†å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">fetch_data</span>(<span class="hljs-params">url, proxies</span>):
    headers = {
        <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'</span>,
        <span class="hljs-string">'Accept-Language'</span>: <span class="hljs-string">'en-US,en;q=0.9'</span>,
        <span class="hljs-string">'Accept-Encoding'</span>: <span class="hljs-string">'gzip, deflate, br'</span>,
        <span class="hljs-string">'Connection'</span>: <span class="hljs-string">'keep-alive'</span>,
        <span class="hljs-string">'DNT'</span>: <span class="hljs-string">'1'</span>
    }
    <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):  <span class="hljs-comment"># é‡è¯•5æ¬¡</span>
        proxy = rotate_proxy(proxies)
        <span class="hljs-keyword">try</span>:
            response = requests.get(url, headers=headers, proxies=proxy, timeout=<span class="hljs-number">10</span>)
            response.raise_for_status()  <span class="hljs-comment"># æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ</span>
            <span class="hljs-keyword">return</span> response.text
        <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f'è¯·æ±‚å¤±è´¥ï¼ˆç¬¬<span class="hljs-subst">{attempt+<span class="hljs-number">1</span>}</span>æ¬¡å°è¯•ï¼‰ï¼Œé”™è¯¯: <span class="hljs-subst">{e}</span>'</span>)
            time.sleep(randint(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>))  <span class="hljs-comment"># éšæœºç­‰å¾…5åˆ°10ç§’åé‡è¯•</span>

<span class="hljs-comment"># è®¾ç½®ä»£ç†IP</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨è·å–ä»£ç†IP..."</span>)
proxies = get_proxies()
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è·å–åˆ° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(proxies)}</span> ä¸ªä»£ç†IP"</span>)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40d28f1d463742fd9540f291f7552960~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=VArAilSp6y7%2BKqNCwz8WQ3UlMog%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™æ˜¯æˆ‘ä»¬éœ€è¦çˆ¬å–çš„ç›®æ ‡ç½‘ç«™ï¼Œäºšé©¬é€Šæœ‰ååçˆ¬è™«æœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨IPä»£ç†çš„è½®æ¢çš„æ–¹å¼æ¥çˆ¬å–ç›®æ ‡é¡µé¢çš„å†…å®¹æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç›®æ ‡URL</span>
url = <span class="hljs-string">'https://www.amazon.com/s?k=laptop'</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹è®¿é—®URL: <span class="hljs-subst">{url}</span>"</span>)

response_text = fetch_data(url, proxies)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98622278780a4a928cca20da0bc5748d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=DPSRTnxaUmd7U%2Bm8vKrr2ZJBCS8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> response_text:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æˆåŠŸè·å–é¡µé¢å†…å®¹"</span>)
    soup = BeautifulSoup(response_text, <span class="hljs-string">'html.parser'</span>)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9185792276b140c79369c104dd92b5d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=BiayKQA1sttwnMQhDr%2B%2F2C0RVAQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æå–å•†å“ä¿¡æ¯</span>
    products = soup.find_all(<span class="hljs-string">'div'</span>, {<span class="hljs-string">'data-component-type'</span>: <span class="hljs-string">'s-search-result'</span>})
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰¾åˆ° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(products)}</span> ä¸ªå•†å“"</span>)
</code></pre>
<p>æ•°æ®è¡¨æ ¼éƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°æ®è¡¨æ ¼çš„ä»£ç æ’·å–æ•´ä¸ªç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»£ç çˆ¬å–æ•°æ®æˆåŠŸä¹‹åï¼Œéœ€è¦å°†æ•°æ®å­˜å…¥åˆ°è¡¨æ ¼ä¸­è¿›è¡Œæ˜¾ç¤ºå­˜å‚¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da56a30485324e02a1b078e60bf89924~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=o3x3%2Bp3rK8ypTo5W41q3a8zRCxM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‰“å¼€ CSV æ–‡ä»¶è¿›è¡Œå†™å…¥</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">'pc.csv'</span>, mode=<span class="hljs-string">'w'</span>, newline=<span class="hljs-string">''</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> file:
        writer = csv.writer(file)
        writer.writerow([<span class="hljs-string">'å•†å“åç§°'</span>, <span class="hljs-string">'ä»·æ ¼'</span>, <span class="hljs-string">'è¯„åˆ†'</span>, <span class="hljs-string">'é…é€ä¿¡æ¯'</span>, <span class="hljs-string">'å•†å“é“¾æ¥'</span>, <span class="hljs-string">'å›¾ç‰‡é“¾æ¥'</span>, <span class="hljs-string">'æ˜¯å¦Prime'</span>])
        data_count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i, product <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(products):
            <span class="hljs-comment"># å°è¯•å¤šç§å•†å“åç§°é€‰æ‹©å™¨</span>
            name = (product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-size-medium a-color-base a-text-normal'</span>) <span class="hljs-keyword">or</span>
                   product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-size-base-plus a-color-base a-text-normal'</span>) <span class="hljs-keyword">or</span>
                   product.find(<span class="hljs-string">'h2'</span>, class_=<span class="hljs-string">'a-size-mini'</span>) <span class="hljs-keyword">or</span>
                   product.find(<span class="hljs-string">'h2'</span>).find(<span class="hljs-string">'span'</span>) <span class="hljs-keyword">if</span> product.find(<span class="hljs-string">'h2'</span>) <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>)
            
            <span class="hljs-comment"># å°è¯•å¤šç§ä»·æ ¼é€‰æ‹©å™¨</span>
            price = (product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-price-whole'</span>) <span class="hljs-keyword">or</span>
                    product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-price-range'</span>))
            <span class="hljs-comment"># å°è¯•å¤šç§è¯„åˆ†é€‰æ‹©å™¨</span>
            rating = (product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-icon-alt'</span>) <span class="hljs-keyword">or</span>
                     product.find(<span class="hljs-string">'span'</span>, {<span class="hljs-string">'aria-label'</span>: <span class="hljs-literal">True</span>}))                
            <span class="hljs-comment"># è·å–å›¾ç‰‡é“¾æ¥</span>
            img_element = product.find(<span class="hljs-string">'img'</span>, class_=<span class="hljs-string">'s-image'</span>)
            img_link = img_element[<span class="hljs-string">'src'</span>] <span class="hljs-keyword">if</span> img_element <span class="hljs-keyword">and</span> img_element.get(<span class="hljs-string">'src'</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å•†å“ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>: åç§°=<span class="hljs-subst">{<span class="hljs-string">'æ‰¾åˆ°'</span> <span class="hljs-keyword">if</span> name <span class="hljs-keyword">else</span> <span class="hljs-string">'æœªæ‰¾åˆ°'</span>}</span>, ä»·æ ¼=<span class="hljs-subst">{<span class="hljs-string">'æ‰¾åˆ°'</span> <span class="hljs-keyword">if</span> price <span class="hljs-keyword">else</span> <span class="hljs-string">'æœªæ‰¾åˆ°'</span>}</span>, è¯„åˆ†=<span class="hljs-subst">{<span class="hljs-string">'æ‰¾åˆ°'</span> <span class="hljs-keyword">if</span> rating <span class="hljs-keyword">else</span> <span class="hljs-string">'æœªæ‰¾åˆ°'</span>}</span>"</span>)
            <span class="hljs-comment"># åªè¦æœ‰åç§°å°±å†™å…¥ï¼Œå…¶ä»–å­—æ®µå¯ä»¥ä¸ºç©º</span>
            <span class="hljs-keyword">if</span> name:
                name_text = name.text.strip() <span class="hljs-keyword">if</span> name <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                price_text = price.text.strip() <span class="hljs-keyword">if</span> price <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                rating_text = rating.text.strip() <span class="hljs-keyword">if</span> rating <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                delivery_text = delivery.text.strip() <span class="hljs-keyword">if</span> delivery <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                
                writer.writerow([name_text, price_text, rating_text, delivery_text, product_link, img_link, is_prime])
                data_count += <span class="hljs-number">1</span>
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆåŠŸå†™å…¥ <span class="hljs-subst">{data_count}</span> æ¡å•†å“æ•°æ®"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ•°æ®é‡‡é›†å¤±è´¥'</span>)
</code></pre>
<p>åŠ¨æ€å¢ƒå¤–IPä»£ç†è„šæœ¬ä»£ç çˆ¬å–æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec6764ae44464f30b753b5c051ee02bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=c0Ib5KK0CFfS68KtKaox3nu51Ts%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04925fedc0034a21939c78f4b6b2dbaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=ajFzH5aCGF2GaUPud5EPCAjn33Y%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ•°æ®å­˜å‚¨è¡¨æ ¼éƒ¨åˆ†</p>
<pre><code class="hljs language-python" lang="python"> <span class="hljs-keyword">if</span> name:
                name_text = name.text.strip() <span class="hljs-keyword">if</span> name <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                price_text = price.text.strip() <span class="hljs-keyword">if</span> price <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                rating_text = rating.text.strip() <span class="hljs-keyword">if</span> rating <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                delivery_text = delivery.text.strip() <span class="hljs-keyword">if</span> delivery <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
                
                writer.writerow([name_text, price_text, rating_text, delivery_text, product_link, img_link, is_prime])
                data_count += <span class="hljs-number">1</span>
</code></pre>
<p>è¯·æ±‚å¤´ä»¥åŠæŠ¥é”™æ‰“å°</p>
<pre><code class="hljs language-python" lang="python">headers = {
        <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36'</span>,
        <span class="hljs-string">'Accept-Language'</span>: <span class="hljs-string">'en-US,en;q=0.9'</span>,
        <span class="hljs-string">'Accept-Encoding'</span>: <span class="hljs-string">'gzip, deflate, br'</span>,
        <span class="hljs-string">'Connection'</span>: <span class="hljs-string">'keep-alive'</span>,
        <span class="hljs-string">'DNT'</span>: <span class="hljs-string">'1'</span>
    }
    <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):  <span class="hljs-comment"># é‡è¯•5æ¬¡</span>
        proxy = rotate_proxy(proxies)
        <span class="hljs-keyword">try</span>:
            response = requests.get(url, headers=headers, proxies=proxy, timeout=<span class="hljs-number">10</span>)
            response.raise_for_status()  <span class="hljs-comment"># æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ</span>
            <span class="hljs-keyword">return</span> response.text
        <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f'è¯·æ±‚å¤±è´¥ï¼ˆç¬¬<span class="hljs-subst">{attempt+<span class="hljs-number">1</span>}</span>æ¬¡å°è¯•ï¼‰ï¼Œé”™è¯¯: <span class="hljs-subst">{e}</span>'</span>)
            time.sleep(randint(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>))  <span class="hljs-comment"># éšæœºç­‰å¾…5åˆ°10ç§’åé‡è¯•</span>
</code></pre>
<p>çˆ¬å–æ•°æ®ä»¥åŠæ•°æ®å¤„ç†</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">for</span> i, product <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(products):
            <span class="hljs-comment"># å°è¯•å¤šç§å•†å“åç§°é€‰æ‹©å™¨</span>
            name = (product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-size-medium a-color-base a-text-normal'</span>) <span class="hljs-keyword">or</span>
                   product.find(<span class="hljs-string">'span'</span>, class_=<span class="hljs-string">'a-size-base-plus a-color-base a-text-normal'</span>) <span class="hljs-keyword">or</span>
                   product.find(<span class="hljs-string">'h2'</span>, class_=<span class="hljs-string">'a-size-mini'</span>) <span class="hljs-keyword">or</span>
                   product.find(<span class="hljs-string">'h2'</span>).find(<span class="hljs-string">'span'</span>) <span class="hljs-keyword">if</span> product.find(<span class="hljs-string">'h2'</span>) <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>)  
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8c6c948dedb4fa2a047e1a4028cdac9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=5%2BrZ79g7HTidF%2B%2BmunU2gH28QbE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"> <span class="hljs-comment"># è·å–å•†å“é“¾æ¥</span>

            link_element = product.find(<span class="hljs-string">'h2'</span>).find(<span class="hljs-string">'a'</span>) <span class="hljs-keyword">if</span> product.find(<span class="hljs-string">'h2'</span>) <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>
            product_link = <span class="hljs-string">f"https://www.amazon.com<span class="hljs-subst">{link_element[<span class="hljs-string">'href'</span>]}</span>"</span> <span class="hljs-keyword">if</span> link_element <span class="hljs-keyword">and</span> link_element.get(<span class="hljs-string">'href'</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8398f91bdc44c55a26ca8dcfc354f0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=SvBhVEwvbFylLpGgkWxsBM6vf%2F8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python">            <span class="hljs-comment"># è·å–å›¾ç‰‡é“¾æ¥</span>

            img_element = product.find(<span class="hljs-string">'img'</span>, class_=<span class="hljs-string">'s-image'</span>)
            img_link = img_element[<span class="hljs-string">'src'</span>] <span class="hljs-keyword">if</span> img_element <span class="hljs-keyword">and</span> img_element.get(<span class="hljs-string">'src'</span>) <span class="hljs-keyword">else</span> <span class="hljs-string">"N/A"</span>
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å•†å“ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>: åç§°=<span class="hljs-subst">{<span class="hljs-string">'æ‰¾åˆ°'</span> <span class="hljs-keyword">if</span> name <span class="hljs-keyword">else</span> <span class="hljs-string">'æœªæ‰¾åˆ°'</span>}</span>, ä»·æ ¼=<span class="hljs-subst">{<span class="hljs-string">'æ‰¾åˆ°'</span> <span class="hljs-keyword">if</span> price <span class="hljs-keyword">else</span> <span class="hljs-string">'æœªæ‰¾åˆ°'</span>}</span>, è¯„åˆ†=<span class="hljs-subst">{<span class="hljs-string">'æ‰¾åˆ°'</span> <span class="hljs-keyword">if</span> rating <span class="hljs-keyword">else</span> <span class="hljs-string">'æœªæ‰¾åˆ°'</span>}</span>"</span>)
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯åˆ©ç”¨ IPIDEA è¿›è¡Œæ•°æ®é‡‡é›†çš„ä¸€ä¸ªå®Œæ•´ç¤ºä¾‹ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä»ä»»æ„å¹³å°è·å–æ•°æ®ï¼Œç‰¹åˆ«é€‚ç”¨äºè·¨å¢ƒç”µå•†ç›¸å…³çš„åº”ç”¨ã€‚æ— è®ºæ˜¯ç”¨äºå¸‚åœºåˆ†æè¿˜æ˜¯ä¼˜åŒ–äº§å“ç­–ç•¥ï¼Œéƒ½èƒ½å¤§å¤§æé«˜å·¥ä½œæ•ˆç‡ã€‚</p>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å®˜ç½‘æä¾›çš„æ¡ˆä¾‹æ¥ç†Ÿæ‚‰å…·ä½“çš„æ“ä½œæ­¥éª¤ï¼ŒåŒ…å«äº†å¸¸ç”¨çš„ C/C++è¯­è¨€ã€GOè¯­è¨€ã€Node.jsè¯­è¨€ã€Phpè¯­è¨€ã€JAVAè¯­è¨€ã€Python è¯­è¨€ä»¥åŠ python-selenium è¯­è¨€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/938af6efed8d4d38bbaa7636fef50a8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yeg5L2V5b-D5YeJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766095348&amp;x-signature=Ilk7OdqAMPHoiHngTeFFNzg1mcg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-8">æ ¸å¿ƒåº”ç”¨åœºæ™¯</h2>
<p>IPIDEAä»£ç†æœåŠ¡å¹¿æ³›åº”ç”¨äºå„è¡Œå„ä¸šï¼Œä¸ºä¸åŒé¢†åŸŸçš„æ•°å­—åŒ–éœ€æ±‚æä¾›å¼ºæœ‰åŠ›çš„æŠ€æœ¯æ”¯æ’‘ï¼š</p>
<h3 data-id="heading-9">æ™ºèƒ½ç½‘ç»œæŠ“å–</h3>
<p>æ™ºèƒ½ç½‘ç»œæŠ“å–åœ¨ç”µå•†åœºæ™¯é‡ŒæŒºå¸¸è§çš„ã€‚æ¯”å¦‚è¯´ï¼Œä½ æƒ³æ‰¹é‡æŠŠå•†å“çš„ä¿¡æ¯éƒ½æŠ“ä¸‹æ¥ï¼Œä¸åªæ˜¯æ ‡é¢˜å’Œä»·æ ¼ï¼Œè¿˜åŒ…æ‹¬åº“å­˜ã€è¯„ä»·è¿™äº›ç»†èŠ‚ï¼Œå®ƒéƒ½å¯ä»¥è‡ªåŠ¨å¸®ä½ è·‘ä¸€éã€‚
å¦‚æœä½ éœ€è¦ç›¯ç€ç«å“ï¼Œçœ‹ç«äº‰å¯¹æ‰‹æœ€è¿‘ä¸Šäº†ä»€ä¹ˆæ–°äº§å“ã€ä»·æ ¼æ€ä¹ˆè°ƒçš„ï¼Œä¹Ÿå¯ä»¥ç”¨æŠ“å–åšæˆä¸€ä¸ªæŒç»­ç›‘æ§çš„ç³»ç»Ÿï¼Œéšæ—¶æŒæ¡ä»–ä»¬çš„åŠ¨å‘ã€‚</p>
<h3 data-id="heading-10">ä»·æ ¼ç›‘æ§ä¸å•†ä¸šæ™ºèƒ½</h3>
<p>åœ¨ç”µå•†è¿™å—ï¼Œå¦‚æœä½ æƒ³åšåŠ¨æ€å®šä»·ï¼Œå…¶å®ç¦»ä¸å¼€å¯¹å¸‚åœºæ•°æ®çš„æŒç»­ç›‘æ§ã€‚æ¯”å¦‚å„ç§ä¿ƒé”€æ´»åŠ¨ã€æ»¡å‡ã€ç§’æ€ã€ä¼˜æƒ åˆ¸ä¹‹ç±»çš„ä¿¡æ¯ï¼Œç³»ç»Ÿå¯ä»¥è‡ªåŠ¨å¸®ä½ è¯†åˆ«å’Œè·Ÿè¸ªï¼Œä¸ç”¨ä½ å¤©å¤©ç›¯ç€é¡µé¢çœ‹ã€‚æŠŠè¿™äº›å†å²ä»·æ ¼å’Œæ´»åŠ¨æ•°æ®ç§¯ç´¯èµ·æ¥ä¹‹åï¼Œå°±å¯ä»¥å¤§è‡´çœ‹å‡ºä»·æ ¼çš„å˜åŒ–è§„å¾‹ï¼Œå¸®ä½ åˆ¤æ–­ä»€ä¹ˆæ—¶å€™è¿›è´§æ›´åˆ’ç®—ï¼Œä»€ä¹ˆæ—¶å€™ä¸é€‚åˆæŠ„åº•ã€‚</p>
<h2 data-id="heading-11">å†™åœ¨æœ€å</h2>
<p><strong>æŠ€æœ¯è§„æ ¼ä¸æ€§èƒ½æŒ‡æ ‡</strong></p>
<p>æ ¸å¿ƒèƒ½åŠ›ä¸»è¦é›†ä¸­åœ¨å‡ ä¸ªç»„ä»¶ä¸Šï¼šè°ƒåº¦è¿™å—æœ‰ä¸€ä¸ªæ™ºèƒ½è°ƒåº¦å¼•æ“ï¼Œä¼šç”¨æœºå™¨å­¦ä¹ ç›¸å…³çš„ç®—æ³•æ¥å†³å®šæ€ä¹ˆåˆ†é… IPï¼Œå°½é‡ä¿è¯è´¨é‡å’ŒæˆåŠŸç‡ï¼›ç›‘æ§è¿™å—æ˜¯ä¸€ä¸ªå®æ—¶ç›‘æ§ç³»ç»Ÿï¼Œå¯ä»¥åšåˆ°æ¯«ç§’çº§å»æ£€æµ‹ IP è´¨é‡ï¼Œä¸€æ—¦å‘ç°æŸä¸ªèŠ‚ç‚¹æˆ–è€…æŸæ®µ IP çŠ¶æ€ä¸å¥½ï¼Œå°±èƒ½è‡ªåŠ¨åšæ•…éšœåˆ‡æ¢ï¼›å‰ç«¯çš„æµé‡å…¥å£ç”±è´Ÿè½½å‡è¡¡å™¨æ¥æ‰¿æ‹…ï¼Œæ”¯æŒå¤šç§ç­–ç•¥ï¼Œæ¯”å¦‚æŒ‰æƒé‡ã€æŒ‰è¿æ¥æ•°ã€æŒ‰å“åº”æ—¶é—´ç­‰è‡ªåŠ¨æŠŠæµé‡åˆ†å‘åˆ°ä¸åŒèŠ‚ç‚¹ï¼›æ•°æ®è®¿é—®è¿™å—æœ‰ä¸€å¥— Redis é›†ç¾¤ï¼Œç”¨æ¥åšç¼“å­˜ï¼ŒåŠ é€Ÿå„ç§é…ç½®ã€ä»¤ç‰Œã€çŠ¶æ€ç±»çš„æ•°æ®è®¿é—®ï¼ŒåŸºæœ¬æ˜¯æ¯«ç§’çº§å“åº”ï¼›æ—¥å¿—æ–¹é¢åˆ™æ˜¯ç”¨ç±»ä¼¼ ELK è¿™ç±»æŠ€æœ¯æ ˆæ¥åšæ—¥å¿—é‡‡é›†ã€æ£€ç´¢å’Œåˆ†æï¼Œå¯ä»¥æ ¹æ®æ—¥å¿—åšå®æ—¶å‘Šè­¦å’Œé—®é¢˜å®šä½ã€‚</p>
<p><strong>æ€»ç»“</strong></p>
<p>åœ¨æŠ€æœ¯è¿™å—ï¼Œæˆ‘ä»¬æ¯”è¾ƒæ ¸å¿ƒçš„ä¼˜åŠ¿æ˜¯è°ƒåº¦åšå¾—æ¯”è¾ƒâ€œèªæ˜â€ã€‚IP åˆ†é…ä¸æ˜¯ç®€å•è½®è¯¢æˆ–è€…éšæœºï¼Œè€Œæ˜¯ç”¨äº†ä¸€å¥—åŸºäºæœºå™¨å­¦ä¹ çš„ç®—æ³•æ¥å†³å®šä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸€æ®µ IPï¼Œå°½é‡åœ¨ç¨³å®šæ€§ã€æˆåŠŸç‡å’Œæˆæœ¬ä¹‹é—´æ‰¾åˆ°ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å¹³è¡¡ã€‚ç›‘æ§å’Œæ•…éšœåˆ‡æ¢ä¹Ÿæ˜¯é‡ç‚¹ï¼Œä¸‹æ¸¸ä¸€æ—¦æœ‰å¼‚å¸¸ï¼Œç³»ç»Ÿå¯ä»¥åœ¨æ¯«ç§’çº§åšæ£€æµ‹å’Œåˆ‡æ¢ï¼Œæ•´ä½“æ¢å¤é€Ÿåº¦ä¼šæ¯”è¡Œä¸šé‡Œå¸¸è§çš„æ–¹æ¡ˆæ›´å¿«ä¸€äº›ã€‚</p>
<p>IPIDEAè‡´åŠ›äºæˆä¸ºæ‚¨æ•°å­—åŒ–è½¬å‹è·¯ä¸Šæœ€å¯é çš„æŠ€æœ¯ä¼™ä¼´ã€‚æ— è®ºæ‚¨çš„éœ€æ±‚è§„æ¨¡å¤§å°ï¼Œæˆ‘ä»¬éƒ½æœ‰åˆé€‚çš„è§£å†³æ–¹æ¡ˆç­‰å¾…æ‚¨çš„å‘ç°ã€‚æœ‰éœ€è¦çš„ä¼™ä¼´å¯ä»¥æ¥ä½“éªŒï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ipidea.net%2F%3Futm-source%3Djhlx%26utm-keyword%3D%3Fjhlx" target="_blank" title="http://www.ipidea.net/?utm-source=jhlx&amp;utm-keyword=?jhlx" ref="nofollow noopener noreferrer">ç‚¹å‡»ç›´è¾¾å®˜ç½‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LINQ æ–°æ—¶ä»£ï¼šCountByã€AggregateBy æ·±åº¦è§£æï¼ˆå«å¯¹æ¯” GroupByï¼‰]]></title>    <link>https://juejin.cn/post/7582433630472798235</link>    <guid>https://juejin.cn/post/7582433630472798235</guid>    <pubDate>2025-12-11T23:33:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582433630472798235" data-draft-id="7582433630472781851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LINQ æ–°æ—¶ä»£ï¼šCountByã€AggregateBy æ·±åº¦è§£æï¼ˆå«å¯¹æ¯” GroupByï¼‰"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-12-11T23:33:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LINQ æ–°æ—¶ä»£ï¼šCountByã€AggregateBy æ·±åº¦è§£æï¼ˆå«å¯¹æ¯” GroupByï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T23:33:17.000Z" title="Thu Dec 11 2025 23:33:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p>åœ¨ <code>.NET 8</code> ä¹‹å‰ï¼Œ<code>LINQ</code> æ²¡æœ‰å†…ç½® <code>CountBy</code> å’Œ <code>AggregateBy</code> æ–¹æ³•ï¼Œä½†åœ¨ <code>.NET 9ï¼ˆC# 13ï¼‰</code> ä¸­ï¼Œ<code>LINQ</code> æ­£å¼å¼•å…¥äº†è¿™ä¸¤ä¸ªæ–°æ‰©å±•æ–¹æ³•ï¼Œæå¤§ç®€åŒ–äº†æ•°æ®åˆ†ç»„å’Œèšåˆçš„å†™æ³•ã€‚</p>
<h4 data-id="heading-1">èƒŒæ™¯</h4>
<p>ä¼ ç»Ÿçš„åˆ†ç»„ç»Ÿè®¡ä¸€èˆ¬ä½¿ç”¨ <code>GroupBy</code>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> query = list.GroupBy(x =&gt; x.Category)
                .Select(g =&gt; <span class="hljs-keyword">new</span> { Category = g.Key, Count = g.Count() });
</code></pre>
<p>ä½† <code>GroupBy</code>ï¼š</p>
<ul>
<li>
<p>ä»£ç å†—é•¿</p>
</li>
<li>
<p>å¯¹ç®€å•çš„è®¡æ•°/èšåˆä»»åŠ¡è¿‡äºå¤æ‚</p>
</li>
</ul>
<p>ä¸ºæ­¤ï¼Œ<code>.NET 9</code> å¼•å…¥ï¼š</p>
<ul>
<li>
<p><code>CountBy</code> â†’ æŒ‰é”®å¿«é€Ÿè®¡æ•°</p>
</li>
<li>
<p><code>AggregateBy</code> â†’ æŒ‰é”®å¿«é€Ÿèšåˆ</p>
</li>
</ul>
<h4 data-id="heading-2">ä»€ä¹ˆæ˜¯ CountBy å’Œ AggregateByï¼Ÿ</h4>
<ul>
<li>
<p><code>CountBy</code>ï¼šç”¨äºæŒ‰é”®ï¼ˆ<code>key</code>ï¼‰å¯¹é›†åˆè¿›è¡Œåˆ†ç»„å¹¶ç»Ÿè®¡æ¯ä¸ªé”®çš„å‡ºç°æ¬¡æ•°ï¼Œè¿”å›ä¸€ä¸ªé”®å€¼å¯¹é›†åˆï¼Œå…¶ä¸­é”®æ˜¯åˆ†ç»„ä¾æ®ï¼Œå€¼æ˜¯è¯¥é”®çš„è®¡æ•°ã€‚</p>
</li>
<li>
<p><code>AggregateBy</code>ï¼šç”¨äºæŒ‰é”®å¯¹é›†åˆè¿›è¡Œåˆ†ç»„å¹¶å¯¹æ¯ä¸ªåˆ†ç»„åº”ç”¨è‡ªå®šä¹‰èšåˆå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªé”®å€¼å¯¹é›†åˆï¼Œå…¶ä¸­é”®æ˜¯åˆ†ç»„ä¾æ®ï¼Œå€¼æ˜¯èšåˆç»“æœã€‚</p>
</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•ç±»ä¼¼äº <code>GroupBy</code> åæ¥ <code>Count</code> æˆ– <code>Aggregate</code>ï¼Œä½†å®ƒä»¬æ›´é«˜æ•ˆã€æ›´ç®€æ´ï¼Œå‡å°‘äº†ä¸­é—´åˆ†ç»„å¯¹è±¡çš„åˆ›å»ºï¼Œä¼˜åŒ–äº†æ€§èƒ½ã€‚</p>
<p>å…³é”®ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>é«˜æ•ˆæ€§ï¼šç›´æ¥ç”Ÿæˆé”®å€¼å¯¹ç»“æœï¼Œé¿å… <code>GroupBy</code> åˆ›å»ºä¸­é—´ <code>IGrouping</code> å¯¹è±¡çš„å¼€é”€ã€‚</p>
</li>
<li>
<p>ç®€æ´æ€§ï¼šå°†åˆ†ç»„å’Œç»Ÿè®¡/èšåˆåˆå¹¶ä¸ºä¸€æ­¥æ“ä½œã€‚</p>
</li>
<li>
<p>çµæ´»æ€§ï¼šæ”¯æŒè‡ªå®šä¹‰é”®é€‰æ‹©å™¨å’Œèšåˆé€»è¾‘ã€‚</p>
</li>
<li>
<p>è¿”å›ç±»å‹ï¼šè¿”å› <code>IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</code>ï¼Œä¾¿äºè¿›ä¸€æ­¥å¤„ç†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">CountBy</h3>
<p>ä½œç”¨ï¼šæŒ‰é”®åˆ†ç»„å¹¶ç»Ÿè®¡æ•°é‡ã€‚
ç±»ä¼¼ <code>GroupBy(...).Select(...g.Count())</code> çš„ç®€åŒ–ç‰ˆã€‚</p>
<p>æ–¹æ³•ç­¾å</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">KeyValuePair</span>&lt;<span class="hljs-title">TKey</span>, <span class="hljs-title">int</span>&gt;&gt; <span class="hljs-title">CountBy</span>&lt;<span class="hljs-title">TSource</span>, <span class="hljs-title">TKey</span>&gt;(<span class="hljs-params">
    <span class="hljs-keyword">this</span> IEnumerable&lt;TSource&gt; source,
    Func&lt;TSource, TKey&gt; keySelector,
    IEqualityComparer&lt;TKey&gt;? comparer = <span class="hljs-literal">null</span></span>)
</span></code></pre>
<ul>
<li>
<p><code>source</code>ï¼šè¾“å…¥çš„é›†åˆï¼ˆå®ç° <code>IEnumerable&lt;TSource&gt;</code>ï¼‰ã€‚</p>
</li>
<li>
<p><code>keySelector</code>ï¼šä¸€ä¸ªå‡½æ•°ï¼Œä»æ¯ä¸ªå…ƒç´ æå–åˆ†ç»„çš„é”®ã€‚</p>
</li>
<li>
<p><code>comparer</code>ï¼šå¯é€‰çš„é”®æ¯”è¾ƒå™¨ï¼Œç”¨äºè‡ªå®šä¹‰é”®çš„ç›¸ç­‰æ€§åˆ¤æ–­ï¼ˆé»˜è®¤ä½¿ç”¨ <code>EqualityComparer&lt;TKey&gt;.Default</code>ï¼‰ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼š<code>IEnumerable&lt;KeyValuePair&lt;TKey, int&gt;&gt;</code>ï¼Œæ¯ä¸ªé”®å€¼å¯¹åŒ…å«é”®å’Œè¯¥é”®çš„è®¡æ•°ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> fruits = <span class="hljs-keyword">new</span>[] { <span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"apple"</span>, <span class="hljs-string">"orange"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"apple"</span> };

<span class="hljs-keyword">var</span> result = fruits.CountBy(f =&gt; f);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kv <span class="hljs-keyword">in</span> result)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{kv.Key}</span>: <span class="hljs-subst">{kv.Value}</span>"</span>);
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">apple: 3</span>
<span class="hljs-section">banana: 2</span>
<span class="hljs-section">orange: 1</span>
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">fruits.GroupBy(f =&gt; f).Select(g =&gt; <span class="hljs-keyword">new</span> KeyValuePair&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">int</span>&gt;(g.Key, g.Count()));
</code></pre>
<ul>
<li>
<p><code>fruit =&gt; fruit</code> æŒ‰æ°´æœåç§°åˆ†ç»„å¹¶è®¡æ•°ã€‚</p>
</li>
<li>
<p>ç»“æœæ˜¯ä¸€ä¸ªé”®å€¼å¯¹é›†åˆï¼Œé”®æ˜¯æ°´æœåç§°ï¼Œå€¼æ˜¯å‡ºç°æ¬¡æ•°ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">è‡ªå®šä¹‰é”®</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> numbers = <span class="hljs-keyword">new</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> };
<span class="hljs-keyword">var</span> result = numbers.CountBy(n =&gt; n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> ? <span class="hljs-string">"Even"</span> : <span class="hljs-string">"Odd"</span>);
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Odd: 3</span>
<span class="hljs-section">Even: 3</span>
</code></pre>
<h4 data-id="heading-6">ä½¿ç”¨æ¯”è¾ƒå™¨ï¼šå¿½ç•¥å¤§å°å†™</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> names = <span class="hljs-keyword">new</span>[] { <span class="hljs-string">"apple"</span>, <span class="hljs-string">"Apple"</span>, <span class="hljs-string">"APPLE"</span>, <span class="hljs-string">"banana"</span> };
<span class="hljs-keyword">var</span> counts = names.CountBy(name =&gt; name, StringComparer.OrdinalIgnoreCase);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kvp <span class="hljs-keyword">in</span> counts)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{kvp.Key}</span>: <span class="hljs-subst">{kvp.Value}</span>"</span>);
}
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// apple: 3</span>
<span class="hljs-comment">// banana: 1</span>
</code></pre>
<ul>
<li><code>StringComparer.OrdinalIgnoreCase</code> å¿½ç•¥é”®çš„å¤§å°å†™ã€‚</li>
</ul>
<h3 data-id="heading-7">AggregateBy</h3>
<p>ä½œç”¨ï¼šæŒ‰é”®åˆ†ç»„å¹¶åœ¨åˆ†ç»„ä¸­æ‰§è¡Œè‡ªå®šä¹‰èšåˆé€»è¾‘ï¼ˆä¸ä»…ä»…æ˜¯è®¡æ•°ï¼‰ã€‚
ç±»ä¼¼ <code>GroupBy(...).Aggregate(...)</code> çš„ç®€åŒ–ç‰ˆã€‚</p>
<p>æ–¹æ³•ç­¾å</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">KeyValuePair</span>&lt;<span class="hljs-title">TKey</span>, <span class="hljs-title">TResult</span>&gt;&gt; <span class="hljs-title">AggregateBy</span>&lt;<span class="hljs-title">TSource</span>, <span class="hljs-title">TKey</span>, <span class="hljs-title">TAccumulate</span>, <span class="hljs-title">TResult</span>&gt;(<span class="hljs-params">
    <span class="hljs-keyword">this</span> IEnumerable&lt;TSource&gt; source,
    Func&lt;TSource, TKey&gt; keySelector,
    TAccumulate seed,
    Func&lt;TAccumulate, TSource, TAccumulate&gt; func,
    Func&lt;TKey, TAccumulate, TResult&gt; resultSelector,
    IEqualityComparer&lt;TKey&gt;? comparer = <span class="hljs-literal">null</span></span>)
</span></code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>
<p><code>source</code>ï¼šè¾“å…¥çš„é›†åˆï¼ˆå®ç° <code>IEnumerable&lt;TSource&gt;</code>ï¼‰ã€‚</p>
</li>
<li>
<p><code>keySelector</code>ï¼šä»æ¯ä¸ªå…ƒç´ æå–åˆ†ç»„çš„é”®ã€‚</p>
</li>
<li>
<p><code>seed</code>ï¼šèšåˆçš„åˆå§‹å€¼ï¼ˆæ¯ä¸ªåˆ†ç»„ä»æ­¤å€¼å¼€å§‹ï¼‰ã€‚</p>
</li>
<li>
<p><code>func</code>ï¼šèšåˆå‡½æ•°ï¼Œå®šä¹‰å¦‚ä½•å°†å…ƒç´ ç´¯åŠ åˆ°å½“å‰ç´¯ç§¯å€¼ã€‚</p>
</li>
<li>
<p><code>resultSelector</code>ï¼šç»“æœé€‰æ‹©å™¨ï¼Œå°†é”®å’Œæœ€ç»ˆç´¯ç§¯å€¼è½¬æ¢ä¸ºç»“æœã€‚</p>
</li>
<li>
<p><code>comparer</code>ï¼šå¯é€‰çš„é”®æ¯”è¾ƒå™¨ã€‚</p>
</li>
<li>
<p>è¿”å›ï¼š<code>IEnumerable&lt;KeyValuePair&lt;TKey, TResult&gt;&gt;</code>ï¼Œæ¯ä¸ªé”®å€¼å¯¹åŒ…å«é”®å’Œèšåˆç»“æœã€‚</p>
</li>
</ul>
<h4 data-id="heading-8">æ±‚å’Œ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> orders = <span class="hljs-keyword">new</span>[]
{
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"Book"</span>, Price = <span class="hljs-number">10</span> },
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"Book"</span>, Price = <span class="hljs-number">20</span> },
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"Food"</span>, Price = <span class="hljs-number">5</span> },
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"Food"</span>, Price = <span class="hljs-number">7</span> },
};

<span class="hljs-keyword">var</span> result = orders.AggregateBy(
    keySelector: o =&gt; o.Category,
    seed: <span class="hljs-number">0</span>m,
    accumulator: (sum, item) =&gt; sum + item.Price
);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kv <span class="hljs-keyword">in</span> result)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{kv.Key}</span>: <span class="hljs-subst">{kv.Value}</span>"</span>);
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Book: 30</span>
<span class="hljs-section">Food: 12</span>
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">orders.GroupBy(o =&gt; o.Category)
      .Select(g =&gt; <span class="hljs-keyword">new</span> KeyValuePair&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">decimal</span>&gt;(g.Key, g.Sum(x =&gt; x.Price)));
</code></pre>
<h4 data-id="heading-9">æ‹¼æ¥å­—ç¬¦ä¸²</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> names = <span class="hljs-keyword">new</span>[]
{
    <span class="hljs-keyword">new</span> { Group = <span class="hljs-string">"A"</span>, Name = <span class="hljs-string">"Alice"</span> },
    <span class="hljs-keyword">new</span> { Group = <span class="hljs-string">"A"</span>, Name = <span class="hljs-string">"Alex"</span> },
    <span class="hljs-keyword">new</span> { Group = <span class="hljs-string">"B"</span>, Name = <span class="hljs-string">"Bob"</span> },
};

<span class="hljs-keyword">var</span> result = names.AggregateBy(
    keySelector: n =&gt; n.Group,
    seed: <span class="hljs-string">""</span>,
    accumulator: (s, n) =&gt; s == <span class="hljs-string">""</span> ? n.Name : <span class="hljs-string">$"<span class="hljs-subst">{s}</span>, <span class="hljs-subst">{n.Name}</span>"</span>
);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kv <span class="hljs-keyword">in</span> result)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{kv.Key}</span>: <span class="hljs-subst">{kv.Value}</span>"</span>);
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">A: Alice, Alex
B: Bob
</code></pre>
<h4 data-id="heading-10">ä½¿ç”¨è‡ªå®šä¹‰ç»“æœï¼šç»Ÿè®¡æœ€å¤§å€¼</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> items = <span class="hljs-keyword">new</span>[]
{
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"A"</span>, Value = <span class="hljs-number">10</span> },
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"B"</span>, Value = <span class="hljs-number">20</span> },
    <span class="hljs-keyword">new</span> { Category = <span class="hljs-string">"A"</span>, Value = <span class="hljs-number">15</span> }
};

<span class="hljs-keyword">var</span> maxValues = items.AggregateBy(
    item =&gt; item.Category,          <span class="hljs-comment">// æŒ‰ç±»åˆ«åˆ†ç»„</span>
    seed: <span class="hljs-built_in">int</span>.MinValue,             <span class="hljs-comment">// åˆå§‹å€¼ä¸ºæœ€å°æ•´æ•°</span>
    (max, item) =&gt; Math.Max(max, item.Value), <span class="hljs-comment">// å–æœ€å¤§å€¼</span>
    (key, max) =&gt; max);             <span class="hljs-comment">// è¿”å›æœ€å¤§å€¼</span>

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kvp <span class="hljs-keyword">in</span> maxValues)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{kvp.Key}</span>: <span class="hljs-subst">{kvp.Value}</span>"</span>);
}
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// A: 15</span>
<span class="hljs-comment">// B: 20</span>
</code></pre>
<h3 data-id="heading-11">CountBy vs AggregateBy</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>CountBy</th><th>AggregateBy</th></tr></thead><tbody><tr><td>åŠŸèƒ½</td><td>ä»…è®¡æ•°</td><td>è‡ªå®šä¹‰ä»»ä½•èšåˆæ“ä½œ</td></tr><tr><td>è¿”å›ç±»å‹</td><td><code>IEnumerable&lt;KeyValuePair&lt;TKey,int&gt;&gt;</code></td><td><code>IEnumerable&lt;KeyValuePair&lt;TKey,TAccumulate&gt;&gt;</code></td></tr><tr><td>å¤æ‚åº¦</td><td>æ›´ç®€æ´</td><td>æ›´çµæ´»ï¼Œä½†éœ€æä¾› seed å’Œ accumulator</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é¢‘ç‡ç»Ÿè®¡</td><td>æ±‚å’Œã€å¹³å‡å€¼ã€æ‹¼æ¥å­—ç¬¦ä¸²ã€è‡ªå®šä¹‰èšåˆç­‰</td></tr></tbody></table>
<h3 data-id="heading-12">æ€§èƒ½ä¼˜åŠ¿</h3>
<p>ä¸ <code>GroupBy</code> ç›¸æ¯”ï¼š</p>
<ul>
<li>
<p><code>CountBy / AggregateBy</code> åªæ‰§è¡Œä¸€æ¬¡éå†</p>
</li>
<li>
<p>å†…éƒ¨ä½¿ç”¨ å“ˆå¸Œè¡¨ç´¯ç§¯ï¼Œå‡å°‘å¯¹è±¡åˆ›å»º</p>
</li>
<li>
<p>å¯¹å¤§æ•°æ®é›†ç»Ÿè®¡æ•ˆç‡æ›´é«˜</p>
</li>
</ul>
<h3 data-id="heading-13">å®æˆ˜ç¤ºä¾‹ï¼šæ—¥å¿—ç»Ÿè®¡</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">record</span> <span class="hljs-title">Log</span>(<span class="hljs-title">string</span> <span class="hljs-title">Level</span>, <span class="hljs-title">int</span> <span class="hljs-title">Size</span>);

<span class="hljs-keyword">var</span> logs = <span class="hljs-keyword">new</span>[]
{
    <span class="hljs-keyword">new</span> Log(<span class="hljs-string">"Info"</span>, <span class="hljs-number">10</span>),
    <span class="hljs-keyword">new</span> Log(<span class="hljs-string">"Error"</span>, <span class="hljs-number">5</span>),
    <span class="hljs-keyword">new</span> Log(<span class="hljs-string">"Info"</span>, <span class="hljs-number">20</span>),
    <span class="hljs-keyword">new</span> Log(<span class="hljs-string">"Error"</span>, <span class="hljs-number">15</span>),
    <span class="hljs-keyword">new</span> Log(<span class="hljs-string">"Warning"</span>, <span class="hljs-number">7</span>)
};

<span class="hljs-comment">// ç»Ÿè®¡ä¸åŒ Level çš„æ—¥å¿—æ•°é‡</span>
<span class="hljs-keyword">var</span> count = logs.CountBy(l =&gt; l.Level);

<span class="hljs-comment">// ç»Ÿè®¡ä¸åŒ Level çš„æ€» Size</span>
<span class="hljs-keyword">var</span> size = logs.AggregateBy(l =&gt; l.Level, <span class="hljs-number">0</span>, (sum, log) =&gt; sum + log.Size);
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile">---Count---
<span class="hljs-section">Info: 2</span>
<span class="hljs-section">Error: 2</span>
<span class="hljs-section">Warning: 1</span>

---Size---
<span class="hljs-section">Info: 30</span>
<span class="hljs-section">Error: 20</span>
<span class="hljs-section">Warning: 7</span>
</code></pre>
<h4 data-id="heading-14">ç»Ÿè®¡å•è¯é¢‘ç‡å¹¶æ’åº</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> text = <span class="hljs-string">"the quick brown fox jumps over the lazy dog the quick fox"</span>;
<span class="hljs-keyword">var</span> words = text.Split(<span class="hljs-string">' '</span>);
<span class="hljs-keyword">var</span> wordCounts = words.CountBy(word =&gt; word, StringComparer.OrdinalIgnoreCase)
                      .OrderByDescending(kvp =&gt; kvp.Value);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kvp <span class="hljs-keyword">in</span> wordCounts)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{kvp.Key}</span>: <span class="hljs-subst">{kvp.Value}</span>"</span>);
}
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// the: 3</span>
<span class="hljs-comment">// quick: 2</span>
<span class="hljs-comment">// fox: 2</span>
<span class="hljs-comment">// brown: 1</span>
<span class="hljs-comment">// jumps: 1</span>
<span class="hljs-comment">// over: 1</span>
<span class="hljs-comment">// lazy: 1</span>
<span class="hljs-comment">// dog: 1</span>
</code></pre>
<h4 data-id="heading-15">å¤æ‚èšåˆï¼ˆæ„å»ºå¯¹è±¡ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> orders = <span class="hljs-keyword">new</span>[]
{
    <span class="hljs-keyword">new</span> { Customer = <span class="hljs-string">"Alice"</span>, Amount = <span class="hljs-number">100</span>, Item = <span class="hljs-string">"Laptop"</span> },
    <span class="hljs-keyword">new</span> { Customer = <span class="hljs-string">"Bob"</span>, Amount = <span class="hljs-number">50</span>, Item = <span class="hljs-string">"Mouse"</span> },
    <span class="hljs-keyword">new</span> { Customer = <span class="hljs-string">"Alice"</span>, Amount = <span class="hljs-number">200</span>, Item = <span class="hljs-string">"Phone"</span> }
};

<span class="hljs-keyword">var</span> summaries = orders.AggregateBy(
    order =&gt; order.Customer,
    seed: <span class="hljs-keyword">new</span> { Total = <span class="hljs-number">0</span>, Items = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;() },
    (acc, order) =&gt; <span class="hljs-keyword">new</span> { Total = acc.Total + order.Amount, Items = acc.Items.Append(order.Item).ToList() },
    (key, acc) =&gt; <span class="hljs-keyword">new</span> { Customer = key, acc.Total, acc.Items });

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> summary <span class="hljs-keyword">in</span> summaries)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{summary.Customer}</span>: Total = <span class="hljs-subst">{summary.Total}</span>, Items = <span class="hljs-subst">{<span class="hljs-built_in">string</span>.Join(<span class="hljs-string">", "</span>, summary.Items)}</span>"</span>);
}
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// Alice: Total = 300, Items = Laptop, Phone</span>
<span class="hljs-comment">// Bob: Total = 50, Items = Mouse</span>
</code></pre>
<h3 data-id="heading-16">é€‚ç”¨åœºæ™¯</h3>
<h4 data-id="heading-17">CountBy</h4>
<ul>
<li>
<p>ç»Ÿè®¡é¢‘ç‡ï¼šç»Ÿè®¡é›†åˆä¸­å…ƒç´ çš„å‡ºç°æ¬¡æ•°ï¼ˆå¦‚å•è¯è®¡æ•°ã€ç±»åˆ«ç»Ÿè®¡ï¼‰ã€‚</p>
</li>
<li>
<p>åˆ†ç»„åˆ†æï¼šå¿«é€Ÿç”Ÿæˆé”®å€¼å¯¹å½¢å¼çš„è®¡æ•°ç»“æœï¼Œé€‚åˆæ•°æ®åˆ†æã€‚</p>
</li>
<li>
<p>æ›¿ä»£ <code>GroupBy + Count</code>ï¼šåœ¨éœ€è¦ç®€å•è®¡æ•°æ—¶ï¼Œ<code>CountBy</code> æ›´é«˜æ•ˆã€‚</p>
</li>
</ul>
<h4 data-id="heading-18">AggregateBy</h4>
<ul>
<li>
<p>åˆ†ç»„èšåˆï¼šå¯¹åˆ†ç»„æ•°æ®æ‰§è¡Œæ±‚å’Œã€æœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ç­‰æ“ä½œã€‚</p>
</li>
<li>
<p>å¤æ‚èšåˆï¼šå¦‚è¿æ¥å­—ç¬¦ä¸²ã€æ„å»ºå¤æ‚å¯¹è±¡ç­‰ã€‚</p>
</li>
<li>
<p>é«˜æ€§èƒ½åœºæ™¯ï¼šéœ€è¦é«˜æ•ˆå¤„ç†å¤§é›†åˆï¼Œé¿å…ä¸­é—´åˆ†ç»„å¯¹è±¡çš„å¼€é”€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-19">æ€»ç»“</h3>























<table><thead><tr><th>æ–¹æ³•</th><th>ç”¨é€”</th><th>æ›¿ä»£æ—§å†™æ³•</th><th>åœºæ™¯ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>CountBy</code></td><td>æŒ‰é”®åˆ†ç»„è®¡æ•°</td><td><code>GroupBy().Select(g =&gt; g.Count())</code></td><td>å•†å“é”€é‡ã€ç”¨æˆ·è§’è‰²äººæ•°</td></tr><tr><td><code>AggregateBy</code></td><td>æŒ‰é”®åˆ†ç»„å¹¶æ‰§è¡Œè‡ªå®šä¹‰èšåˆ</td><td><code>GroupBy().Aggregate()</code> æˆ– <code>GroupBy().Sum()</code></td><td>æ—¥å¿—å¤§å°æ€»å’Œã€å­—ç¬¦ä¸²æ‹¼æ¥</td></tr></tbody></table>
<h3 data-id="heading-20">æ³¨æ„äº‹é¡¹ï¼š</h3>
<h4 data-id="heading-21">ç‰ˆæœ¬è¦æ±‚ï¼š</h4>
<ul>
<li>
<p><code>CountBy</code> å’Œ <code>AggregateBy</code> æ˜¯ <code>C# 13ï¼ˆ.NET 9ï¼‰</code>çš„æ–°ç‰¹æ€§ï¼Œéœ€ç›®æ ‡æ¡†æ¶ä¸º <code>.NET 9.0</code> æˆ–æ›´é«˜ã€‚</p>
</li>
<li>
<p>åœ¨è¾ƒä½ç‰ˆæœ¬ä¸­ï¼Œå¯ä½¿ç”¨ <code>GroupBy + Count</code> æˆ– <code>Aggregate</code> æ›¿ä»£ï¼Œä½†æ€§èƒ½ç¨å·®ã€‚</p>
</li>
</ul>
<h4 data-id="heading-22">æ€§èƒ½ä¼˜åŠ¿ï¼š</h4>
<ul>
<li>
<p>ä¸¤è€…ç›´æ¥ç”Ÿæˆé”®å€¼å¯¹ï¼Œé¿å… <code>GroupBy</code> çš„ä¸­é—´ <code>IGrouping</code> å¯¹è±¡ï¼Œå‡å°‘å†…å­˜åˆ†é…ã€‚</p>
</li>
<li>
<p>å¯¹äºå¤§é›†åˆæˆ–é«˜é¢‘æ“ä½œï¼Œæ€§èƒ½æå‡æ˜¾è‘—ã€‚</p>
</li>
</ul>
<h4 data-id="heading-23">é”®æ¯”è¾ƒå™¨ï¼š</h4>
<ul>
<li>
<p>é»˜è®¤ä½¿ç”¨ <code>EqualityComparer&lt;TKey&gt;.Default</code>ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ã€‚</p>
</li>
<li>
<p>å¯¹äºè‡ªå®šä¹‰ç±»å‹æˆ–ç‰¹æ®Šç›¸ç­‰æ€§é€»è¾‘ï¼Œéœ€æä¾› <code>IEqualityComparer&lt;TKey&gt;</code>ã€‚</p>
</li>
</ul>
<h4 data-id="heading-24">ä¸å¯å˜æ€§ï¼š</h4>
<ul>
<li>
<p>è¿”å›çš„ <code>IEnumerable&lt;KeyValuePair&lt;TKey, TValue&gt;&gt;</code> æ˜¯å»¶è¿Ÿæ±‚å€¼çš„ã€‚</p>
</li>
<li>
<p>å¦‚æœéœ€è¦æŒä¹…åŒ–ç»“æœï¼Œè°ƒç”¨ <code>ToList()</code> æˆ– <code>ToDictionary()</code>ã€‚</p>
</li>
</ul>
<h4 data-id="heading-25">é”™è¯¯å¤„ç†ï¼š</h4>
<ul>
<li>
<p>å¦‚æœ <code>source</code> ä¸º <code>null</code>ï¼Œä¼šæŠ›å‡º <code>ArgumentNullException</code>ã€‚</p>
</li>
<li>
<p>å¦‚æœ <code>keySelector</code> æˆ– <code>func</code> æŠ›å‡ºå¼‚å¸¸ï¼Œéœ€åœ¨è°ƒç”¨ä»£ç ä¸­å¤„ç†ã€‚</p>
</li>
</ul>
<h4 data-id="heading-26">ä¸ GroupBy çš„é€‰æ‹©ï¼š</h4>
<ul>
<li>
<p>å¦‚æœéœ€è¦è®¿é—®åˆ†ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½¿ç”¨ <code>GroupBy</code>ã€‚</p>
</li>
<li>
<p>å¦‚æœåªéœ€è¦é”®å’Œèšåˆç»“æœï¼ˆå¦‚è®¡æ•°ã€æ€»å’Œï¼‰ï¼Œä¼˜å…ˆä½¿ç”¨ <code>CountBy</code> æˆ– <code>AggregateBy</code>ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ”¶è—å¤¹æ•‘æ˜Ÿï¼æŠŠ 1000+ ç°å°˜é“¾æ¥å˜æˆä½ çš„çŸ¥è¯†èµ„äº§]]></title>    <link>https://juejin.cn/post/7582422766731100203</link>    <guid>https://juejin.cn/post/7582422766731100203</guid>    <pubDate>2025-12-11T23:51:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582422766731100203" data-draft-id="7582438809378373674" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ”¶è—å¤¹æ•‘æ˜Ÿï¼æŠŠ 1000+ ç°å°˜é“¾æ¥å˜æˆä½ çš„çŸ¥è¯†èµ„äº§"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,DeepSeek,AIGC"/> <meta itemprop="datePublished" content="2025-12-11T23:51:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘¨ä¸€åŒå­¦Zelina"/> <meta itemprop="url" content="https://juejin.cn/user/3131845139247960"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ”¶è—å¤¹æ•‘æ˜Ÿï¼æŠŠ 1000+ ç°å°˜é“¾æ¥å˜æˆä½ çš„çŸ¥è¯†èµ„äº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3131845139247960/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘¨ä¸€åŒå­¦Zelina
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T23:51:42.000Z" title="Thu Dec 11 2025 23:51:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ç›´åœ¨æ”¶è—ï¼Œå´ä»ä¸å†æ‰“å¼€</h2>
<p>ä½ æ˜¯ä¸æ˜¯ä¹Ÿæœ‰è¿‡è¿™æ ·çš„ç»å†ï¼š</p>
<p>ğŸ“± æ”¶è—å¤¹å·²ç»999+ï¼Œä½†ä»æ¥æ²¡ç¿»è¿‡ç¬¬äºŒé¡µ</p>
<p>ğŸŒ æµè§ˆå™¨æ”¶è—å¤¹é‡Œèººç€500+ä¸ªæ ‡ç­¾ï¼Œæƒ³æ‰¾çš„æ—¶å€™æ ¹æœ¬æ‰¾ä¸åˆ°</p>
<p>ğŸ“ ç”µè„‘é‡Œä¸‹è½½äº†å‡ åä¸ªPDFï¼Œæ–‡ä»¶åéƒ½æ˜¯ã€Œæœªå‘½åã€æˆ–ã€Œæ–°å»ºæ–‡æ¡£(23)ã€</p>
<p>ğŸ’¾ çœ‹åˆ°å¥½æ–‡ç« å°±æ”¶è—ï¼Œçœ‹åˆ°å¥½è§†é¢‘å°±ç‚¹èµï¼Œä½†ä»æ¥æ²¡æœ‰çœŸæ­£æ¶ˆåŒ–è¿‡</p>
<p>ğŸ˜° çŸ¥è¯†ç„¦è™‘è¶Šæ¥è¶Šé‡ï¼Œæ”¶é›†çš„ä¿¡æ¯è¶Šæ¥è¶Šå¤šï¼ŒçœŸæ­£ç”¨ä¸Šçš„å´å¯¥å¯¥æ— å‡ </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e03edbf33b0c4366a94da0f93feb4033~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=9HrRXf5RKWjyiT%2BOOuT6YJmd6wc%3D" alt="æ”¶è—å¤¹ç»å¸¸999+" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œè¿™èƒŒåçš„æœ¬è´¨é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li><strong>æ”¶é›†å®¹æ˜“ï¼Œæ•´ç†éš¾</strong> - ä¿¡æ¯æ•£è½åœ¨æµè§ˆå™¨ã€ç»¿æ³¡æ³¡è½¯ä»¶ã€ç½‘ç›˜ã€ç¬”è®°è½¯ä»¶å„å¤„</li>
<li><strong>æ•´ç†å®¹æ˜“ï¼Œæ£€ç´¢éš¾</strong> - å³ä½¿æ•´ç†äº†ï¼Œæƒ³ç”¨çš„æ—¶å€™è¿˜æ˜¯æ‰¾ä¸åˆ°</li>
<li><strong>æ£€ç´¢å®¹æ˜“ï¼Œåº”ç”¨éš¾</strong> - æ‰¾åˆ°äº†ä¹Ÿä¸çŸ¥é“æ€ä¹ˆç”¨ï¼Œæœ€åè¿˜æ˜¯åƒç°</li>
</ul>
<blockquote>
<p><strong>æˆ‘ä»¬æ€»ä»¥ä¸ºè‡ªå·±åœ¨ç§¯ç´¯çŸ¥è¯†ï¼Œå…¶å®åªæ˜¯åœ¨ç§¯ç´¯å¿ƒç†å®‰æ…°ã€‚</strong></p>
</blockquote>
<p>çœŸæ­£çš„çŸ¥è¯†ç®¡ç†ï¼Œä¸æ˜¯æŠŠå†…å®¹å­˜èµ·æ¥ï¼Œè€Œæ˜¯è®©å®ƒ<strong>èƒ½è¢«æ£€ç´¢ã€èƒ½è¢«å¼•ç”¨ã€èƒ½è¢«åˆ›é€ æ€§åœ°ä½¿ç”¨</strong>ã€‚</p>
<h2 data-id="heading-1">è®©ç¢ç‰‡ä¿¡æ¯å˜æˆä½ çš„çŸ¥è¯†èµ„äº§</h2>
<p>ä¸Šå‘¨åœ¨<code>GitHub</code>ä¸Šè°ƒç ”ç®—æ³•æ—¶ï¼Œå¶ç„¶åˆ·åˆ°äº†<strong>å°é»‘OmniBox</strong>ã€‚çœ‹åˆ°å®˜æ–¹ä»‹ç»æ—¶è¢«å¸å¼•äº†â€”â€”è¿™æ˜¯ä¸€ä¸ªAIé©±åŠ¨çš„çŸ¥è¯†ä¸­æ¢ï¼Œä¸“é—¨è§£å†³"æ”¶è—ä»æœªåœæ­¢ï¼Œæ‰“å¼€ä»æœªå¼€å§‹"çš„ç—›ç‚¹ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªçŸ¥è¯†ç®¡ç†çˆ±å¥½è€…ï¼Œç«é€Ÿæµ‹è¯„äº†ä¸€ç•ªğŸ™ˆ</p>
<p>é‚£ä¸‹é¢è·Ÿéšå°ç¼–ï¼Œæ¥ä¸€èµ·æ¢ç´¢<strong>å°é»‘</strong>å¦‚ä½•è§£å†³çŸ¥è¯†ç®¡ç†çš„æ­»å¾ªç¯ï¼Œè®©æ•£è½å„å¤„çš„ä¿¡æ¯çœŸæ­£å˜æˆä½ çš„çŸ¥è¯†èµ„äº§ğŸ˜‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24d6bfe3f8d74adc825a438c5fe50969~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=6hH6hXvEdOgSG1Nlku6k0qKo9do%3D" alt="å°é»‘OmniBoxé¦–é¡µ" loading="lazy"/></p>
<h2 data-id="heading-2">å°é»‘å¦‚ä½•è§£å†³ç—›ç‚¹ï¼Ÿ</h2>
<h3 data-id="heading-3">1ã€ä¸€å¥è¯ä»‹ç»</h3>
<p>å…ˆä¸€å¥è¯æ¥ä»‹ç»ï¼Œè¿™æ˜¯ä¸€æ¬¾ä»€ä¹ˆæ ·çš„äº§å“ï¼Ÿ</p>
<p><strong>å°é»‘OmniBox</strong>æ˜¯ä¸€æ¬¾å¼€æºçš„AIé©±åŠ¨çŸ¥è¯†ç®¡ç†å·¥å…·ï¼Œå®ƒæƒ³åšçš„å°±æ˜¯ï¼š<strong>æŠŠæ•£è½å„å¤„çš„ä¿¡æ¯ï¼Œå˜æˆä½ çœŸæ­£èƒ½ç”¨èµ·æ¥çš„çŸ¥è¯†èµ„äº§ã€‚</strong></p>
<p>GitHub å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fimport-ai%2Fomnibox" target="_blank" title="https://github.com/import-ai/omnibox" ref="nofollow noopener noreferrer">github.com/import-ai/Oâ€¦</a></p>
<h3 data-id="heading-4">2ã€ç—›ç‚¹ vs è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h3>
<p>é‚£å®ƒè·Ÿä¼ ç»ŸçŸ¥è¯†ç®¡ç†çš„è§£å†³æ–¹æ¡ˆç›¸æ¯”èµ·æ¥ï¼Œéƒ½è§£å†³äº†å“ªäº›ç—›ç‚¹é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬ç”¨<strong>ä¸€å¼ è¡¨</strong>æ¥æ¢³ç†ä¸‹ğŸ‘‡ğŸ»ï¼š</p>






























<table><thead><tr><th><strong>ä¼ ç»ŸçŸ¥è¯†ç®¡ç†çš„ç—›ç‚¹</strong></th><th><strong>å°é»‘çš„è§£å†³æ–¹æ¡ˆ</strong></th><th><strong>æ ¸å¿ƒä»·å€¼</strong></th></tr></thead><tbody><tr><td>ä¿¡æ¯æ•£è½åœ¨20+ä¸ªåœ°æ–¹</td><td>ä¸€é”®æ”¶è—ï¼ˆå‰ªè—ï¼‰ï¼Œç»Ÿä¸€æ”¶é›†åˆ°çŸ¥è¯†åº“</td><td>ä¸å†æ¥å›åˆ‡æ¢</td></tr><tr><td>PDFã€Wordã€éŸ³é¢‘å„è‡ªä¸ºæ”¿</td><td>è‡ªåŠ¨è§£æä¸ºå¯ç¼–è¾‘æ–‡æœ¬</td><td>ç»Ÿä¸€ç®¡ç†ï¼Œéšæ—¶ç¼–è¾‘</td></tr><tr><td>é å…³é”®è¯æœç´¢ï¼Œç»å¸¸æœä¸åˆ°</td><td>è¯­ä¹‰æœç´¢ï¼Œç†è§£<strong>çœŸå®æ„å›¾</strong></td><td>ç²¾å‡†å®šä½å†…å®¹</td></tr><tr><td>æ”¶è—å¤¹åƒç°ï¼Œä»ä¸æ‰“å¼€</td><td>AIé—®ç­”+å†™ä½œï¼ŒçŸ¥è¯†ä¸ºä½ æ‰€ç”¨</td><td>è®©çŸ¥è¯†çœŸæ­£ã€Œæ´»ã€èµ·æ¥</td></tr></tbody></table>
<p>ç”¨ä¸€å¼ <strong>æ’ç”»</strong>æ¥æ•´ä½“å½’çº³å’Œæ€»ç»“ä¸€ä¸‹ğŸ‘‡ğŸ»ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d87084468aed4b269415af87cf5b4bb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=%2BuOo4oXqTTgZY3qmLnPFVkp3tLM%3D" alt="ä¼ ç»Ÿæ–¹å¼ vs å°é»‘OmniBox" loading="lazy"/></p>
<h2 data-id="heading-5">æ ¸å¿ƒåŠŸèƒ½è¯¦è§£</h2>
<p>ä¸‹é¢æˆ‘ä»¬æ¥å¯¹<strong>å°é»‘</strong>çš„æ ¸å¿ƒåŠŸèƒ½è¯¦è§£ï¼Œå…ˆåšä¸€ä¸ªæ ¸å¿ƒæ‹†è§£ã€‚</p>
<h3 data-id="heading-6">1ã€ç½‘é¡µå†…å®¹è§£æï¼šä¸€é”®æ”¶è—ä¸å†æ˜¯æ‘†è®¾</h3>
<p>å½“ä½ åœ¨ç½‘ç»œä¸Šçœ‹åˆ°å¥½å†…å®¹æ—¶ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨æ’ä»¶/å°é»‘çš„æ‰‹æœºåŠ©æ‰‹è¿›è¡Œæ”¶è—ï¼Œå¹¶ä¸”è‡ªåŠ¨è§£æä¸º<strong>å¯ç¼–è¾‘æ–‡æœ¬</strong>ï¼ŒåæœŸæŸ¥æ‰¾å’Œè°ƒç”¨æ›´æ–¹ä¾¿ã€‚ã€‚ï¼ˆå¦‚æœæ”¶è—å†…å®¹æ˜¯åœ¨çº¿è§†é¢‘ï¼Œå°é»‘ä¼šä¸€é”®æ€»ç»“å“¦ï¼‰</p>
<p><img src="" alt="img" loading="lazy"/></p>
<p><strong>ä¸ä¼ ç»Ÿæ”¶è—çš„åŒºåˆ«ï¼š</strong></p>








































<table><thead><tr><th><strong>å¯¹æ¯”ç»´åº¦</strong></th><th><strong>å°é»‘OmniBoxæ”¶è—</strong></th><th><strong>ä¼ ç»Ÿæ”¶è—</strong></th></tr></thead><tbody><tr><td>ä¸€é”®ç½‘é¡µæ­£æ–‡ä¸”ä¸å¤±æ•ˆ</td><td>âœ…</td><td>âŒ</td></tr><tr><td>æ”¯æŒç¼–è¾‘å†…å®¹ï¼Œå¯å¯¼å‡ºä¸º Markdown æ–‡ä»¶</td><td>âœ…</td><td>âŒ</td></tr><tr><td>åœ¨çº¿è§†é¢‘å†…å®¹ä¸€é”®æ€»ç»“</td><td>âœ…</td><td>âŒ</td></tr><tr><td>AIè°ƒç”¨æ”¶è—æ­£æ–‡å†…å®¹ï¼Œé¿å…èƒ¡è¯´å…«é“</td><td>âœ…</td><td>âŒ</td></tr><tr><td>æ”¶è—çš„çŸ¥è¯†å†…å®¹ä¿¡æ¯å¿«é€ŸæŸ¥æ‰¾</td><td>âœ…</td><td>âŒ</td></tr><tr><td>å¤šæ¸ é“ç»Ÿä¸€æ”¶è—ç®¡ç†ï¼ˆç½‘é¡µã€æœ¬åœ°æ–‡ä»¶ã€ç¤¾äº¤å¹³å°å†…å®¹ç­‰ï¼‰</td><td>âœ…</td><td>âŒ</td></tr></tbody></table>
<h3 data-id="heading-7">2ã€æ–‡ä»¶è§£æï¼šè®©ä¸åŒæ–‡æ¡£ã€éŸ³é¢‘å˜æˆå¯æœç´¢çš„çŸ¥è¯†</h3>
<p>é™¤äº†ç½‘é¡µå†…å®¹è§£æä¹‹å¤–ï¼Œå°é»‘è¿˜æ”¯æŒ<strong>æ–‡ä»¶è§£æ</strong>ã€‚</p>
<p>ä½ å¯ä»¥æŠŠä»»ä½•ä½ åœ¨æœ¬åœ°æ”¶é›†åˆ°çš„æ–‡ä»¶ç›´æ¥ä¸Šä¼ ï¼Œä¸Šä¼ å®Œæˆä¹‹å<strong>å°é»‘</strong>å°±ä¼šå¸®ä½ è§£æå¹¶ç”Ÿæˆå¯ç¼–è¾‘çš„æ–‡æœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecc7c86c4a8f413ca1d97198edf00109~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=RBdlOb42BllBDSZ5WpsIs1aB1zE%3D" alt="PDFç›´æ¥æ‹–æ‹½" loading="lazy"/></p>
<p>æˆ‘ä»¬æ¥æœ¬åœ°æ¼”ç¤ºä¸€ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a274457258b4005b04b388ea386f35d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=KIoiNXnAULWMuWn%2FRasGR8wajpM%3D" alt="æœ¬åœ°æ¼”ç¤ºPDFæ‹–æ‹½" loading="lazy"/></p>
<p>é™¤äº†PDFä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ä¸Šä¼ ä»»ä½•æ–‡æ¡£æ ¼å¼çš„æ–‡ä»¶ï¼Œæ”¯æŒä¸åŒç±»å‹çš„æ–‡ä»¶ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ç±»å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ac7a5daa7f54448aa64ebdea95e3ab3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=4E47MOqUKyVgasgOmCuRssnm%2BFs%3D" alt="å…¶ä»–æ ¼å¼åŒæ ·ä¹Ÿæ”¯æŒ" loading="lazy"/></p>
<hr/>
<p>é™¤äº†åŸºæœ¬çš„<strong>æ–‡æœ¬è§£æ</strong>ä¹‹å¤–ï¼Œè¿˜æ”¯æŒ<strong>éŸ³é¢‘è§£æ</strong>ã€‚åœ¨<strong>éŸ³é¢‘è§£æ</strong>æ–¹é¢ï¼Œå°é»‘è¿˜æ”¯æŒä»¥ä¸‹æ–¹å¼å®ç°è§£æéŸ³é¢‘ã€‚</p>
<p>æ¯”å¦‚æˆ‘ç»™ä»–ä¸Šä¼ äº†ä¸€æ®µæœ€è¿‘å½•çš„ä¸€æ®µ<strong>æ’­å®¢</strong>ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7c6f616c180493fb076d00a20454d03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=1RL2REFx7oXwbuFb5SC%2BDUXKAaA%3D" alt="ä¸Šä¼ éŸ³é¢‘" loading="lazy"/></p>
<p>éšæœºç”¨æ‰‹æœºå½•å–äº†ä¸€æ®µå½•éŸ³ï¼Œç„¶åæˆ‘ä»¬æ¥çœ‹ä¸‹è½¬å½•æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b07891a5e3e454eaf7a4dfd4ea97c1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=JOzBMyDyAf7KrLTb75UA5fclNxE%3D" alt="å½•éŸ³è½¬å½•æ–‡å­—" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæœ€ç»ˆè§£æçš„æ•ˆæœä¹Ÿå¾ˆä¸é”™ã€‚</p>
<h3 data-id="heading-8">3ã€æ™ºèƒ½æ£€ç´¢ï¼šè®©çŸ¥è¯†çœŸæ­£èƒ½è¢«ã€Œç”¨ã€èµ·æ¥</h3>
<p>æ”¶é›†çš„å†…å®¹å†å¤šï¼Œæ‰¾ä¸åˆ°ä¹Ÿæ˜¯ç™½æ­ã€‚è€Œå°é»‘çš„æœç´¢å¯ä»¥ï¼ˆæ”¯æŒè¯­ä¹‰æœç´¢å’Œç²¾å‡†æœç´¢ï¼‰ï¼š</p>
<ul>
<li>ğŸ” ç†è§£ä½ çš„çœŸå®æ„å›¾ï¼Œä¸ç”¨çº ç»“å…³é”®è¯</li>
<li>ğŸ“ ç²¾å‡†å®šä½åˆ°æ–‡æ¡£çš„å…·ä½“ä½ç½®</li>
<li>ğŸ”— è‡ªåŠ¨å…³è”ç›¸å…³å†…å®¹ï¼Œå‘ç°çŸ¥è¯†ä¹‹é—´çš„è”ç³»</li>
</ul>
<h4 data-id="heading-9">ï¼ˆ1ï¼‰ç²¾å‡†æœç´¢</h4>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»ç»¿æ³¡æ³¡åŠ©æ‰‹å¯¼å…¥äº†ä¸€ç¯‡æ–‡ç« è¿›æ¥ï¼Œç„¶åæƒ³è¦å…¨å±€æœç´¢é‡Œé¢çš„æŸä¸ªå…³é”®è¯ã€‚æ¯”å¦‚æƒ³è¦æœç´¢ã€Œæ’­å®¢å†…å®¹ã€è¿™4ä¸ªè¯ï¼Œå¹¶ä¸”å®šä½åˆ°æ–‡ç« çš„å…·ä½“åœ°æ–¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b77555da5fc5449b954f6b8a28be45b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=dfK32wJyIt1d7gYFuIQd7BLUCKE%3D" alt="æƒ³è¦æœç´¢æŸä¸ªè¯" loading="lazy"/></p>
<p>ç„¶åæˆ‘ä»¬éšæœºåˆ‡æ¢åˆ°å…¶ä»–é¡µé¢ï¼Œä¹‹åç‚¹å‡»ã€Œæœç´¢ã€ï¼Œæœç´¢å¯¹åº”çš„æ–‡å­—ã€‚æœ€ç»ˆç‚¹å‡»<strong>æ–‡æ¡£å†…å®¹</strong>ï¼Œä¼šç›´æ¥<strong>ç´¢å¼•åˆ°</strong>å¯¹åº”çš„æ–‡å­—ä¸Šã€‚æ¥çœ‹çœ‹æˆªå›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a66e3cc1e754317826726ce4048e684~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=JE1FWxJt3ovMkE78DuPDQuQVFLg%3D" alt="ç²¾å‡†æœç´¢" loading="lazy"/></p>
<h4 data-id="heading-10">ï¼ˆ2ï¼‰æ¨¡ç³Šæœç´¢ï¼ˆè¯­ä¹‰æœç´¢ï¼‰</h4>
<p>é€šè¿‡è¯­ä¹‰æ¨¡ç³Šæœç´¢ï¼Œå¯å¿«é€Ÿæœåˆ°è‡ªå·±æƒ³è¦çš„å†…å®¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94a2c95d7a2a4bc5950c8913eb1f2f7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=oprFPv5S5PTVZjntG0j0yeOdYmE%3D" alt="æ¨¡ç³Šæœç´¢" loading="lazy"/></p>
<h2 data-id="heading-11">åœºæ™¯åº”ç”¨ï¼šå°é»‘å¦‚ä½•èå…¥ä½ çš„å·¥ä½œæµï¼Ÿ</h2>
<p>ä¸ç®¡ä½ æ˜¯å†…å®¹åˆ›ä½œè€…ã€è®ºæ–‡ç ”ç©¶è€…ï¼Œè¿˜æ˜¯é”€å”®/è¯¾ç¨‹é¡¾é—®ï¼Œæˆ–è€…æ˜¯å…¶ä»–è¡Œä¸šçš„å°ä¼™ä¼´ï¼Œæˆ–å¤šæˆ–å°‘éƒ½åœ¨è¢«åŒä¸€ç±»é—®é¢˜åå¤æŠ˜ç£¨ï¼š</p>
<p><strong>ä¿¡æ¯æ•£è½åœ¨æµè§ˆå™¨ã€ç»¿æ³¡æ³¡ã€äº‘ç›˜ã€æ•°æ®åº“é‡Œï¼ŒçœŸæ­£è¦ç”¨çš„æ—¶å€™ï¼Œæ€»æ˜¯ã€ŒçŸ¥é“çœ‹è¿‡ï¼Œä½†å°±æ˜¯æ‰¾ä¸ç€ã€ã€‚</strong></p>
<p>å†™æ–‡ç« æ—¶ï¼Œç´ ææ•£è½å„å¤„ï¼Œæµè§ˆå™¨å¼€äº†å‡ åä¸ªæ ‡ç­¾é¡µï¼›</p>
<p>å†™è®ºæ–‡æ—¶ï¼ŒPDF çœ‹å®Œå°±å¿˜ï¼Œå¼•ç”¨æ—¶åˆå¾—é‡æ–°ç¿»ä¸€éï¼›</p>
<p>åšé”€å”®æ–¹æ¡ˆæ—¶ï¼Œå­¦å‘˜ä¿¡æ¯åŸ‹åœ¨ç»¿æ³¡æ³¡å’Œ CRM é‡Œï¼Œæ¯æ¬¡æ²Ÿé€šå‰éƒ½è¦èŠ±åŠå°æ—¶ç¿»è®°å½•ã€‚</p>
<p><strong>æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªé—®é¢˜ï¼šä¿¡æ¯ä¸èšç„¦ï¼Œéš¾è°ƒç”¨ï¼ŒAI å¼•ç”¨çš„å†…å®¹æ— æ³•å®Œæ•´è¿½æº¯ã€‚</strong></p>
<p>è€Œ<code>å°é»‘OmniBox</code> ç»™å‡ºäº†<strong>ä¸€å¥—é€šç”¨è§£å†³æ–¹å¼</strong>ï¼š</p>
<p>æŠŠç½‘é¡µã€PDFã€æ–‡æ¡£ã€éŸ³è§†é¢‘ç»Ÿä¸€æ”¶è¿›çŸ¥è¯†åº“ï¼Œè‡ªåŠ¨è§£ææˆå¯æ£€ç´¢ã€å¯å¼•ç”¨çš„æ–‡æœ¬ï¼›ç”¨è¯­ä¹‰æœç´¢æ¥ç²¾ç¡®å®šä½å†…å®¹ï¼›è®© AI åœ¨ä½ çš„çŸ¥è¯†åº“é‡Œç”Ÿæˆå†…å®¹ï¼Œ<strong>å¹¶è‡ªåŠ¨é™„ä¸Šæ¥æºå’Œå¼•ç”¨</strong>ã€‚</p>
<p><strong>æ”¶é›† â†’ è§£æ â†’ æœç´¢ â†’ AI ç”Ÿæˆ + å¼•ç”¨æº¯æº</strong>ï¼Œä¸€å¥—åŠ¨ä½œé€‚é…æ‰€æœ‰åœºæ™¯ã€‚</p>
<h2 data-id="heading-12"><strong>ä¸ºä»€ä¹ˆé€‰æ‹©å°é»‘ï¼Ÿ</strong></h2>
<p>æ–‡ç« çš„æœ€åéƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥èŠèŠï¼Œä¸ºä»€ä¹ˆé€‰æ‹©çš„æ˜¯<strong>å°é»‘</strong>ï¼Ÿ</p>
<h3 data-id="heading-13">1ã€ä¸åªæ˜¯æ”¶é›†å·¥å…·ï¼Œæ›´æ˜¯çŸ¥è¯†èµ„äº§ç®¡ç†ç³»ç»Ÿ</h3>
<p>å¤§å¤šæ•°å·¥å…·åªè§£å†³ã€Œæ”¶é›†ã€é—®é¢˜ï¼Œä½†å°é»‘è§£å†³äº†ï¼š<strong>æ”¶é›† â†’ æ•´ç† â†’ æ£€ç´¢ â†’ åº”ç”¨</strong> çš„å®Œæ•´é“¾æ¡ã€‚</p>
<h3 data-id="heading-14">2ã€å¤šç«¯ååŒï¼Œéšæ—¶éšåœ°æ•æ‰çµæ„Ÿ</h3>
<p><strong>Webç«¯</strong>ï¼šå®Œæ•´åŠŸèƒ½ä½“éªŒï¼Œæ”¯æŒä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Edgeã€Firefox ç­‰ï¼‰</p>
<blockquote>
<p><em>PSï¼šå¬è¯´ç§»åŠ¨ç«¯æ­£åœ¨è·¯ä¸Šäº†</em></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e692612b84948e4b51c6b917ffb9280~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=xgwc7CwDY6iMsbpyDLnk%2F%2Fjc9%2F0%3D" alt="å¤šç«¯ååŒ" loading="lazy"/></p>
<p><strong>æµè§ˆå™¨æ’ä»¶</strong>ï¼šä¸€é”®å‰ªè—ç½‘é¡µå†…å®¹ï¼Œæ”¯æŒä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Edgeã€Firefox ç­‰ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8f592d311d3433ca948079efe4df6d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=ZRSKRHZXLArPZIcvLY6Ko5HPObY%3D" alt="æµè§ˆå™¨æ’ä»¶" loading="lazy"/></p>
<blockquote>
<p><em>PSï¼šæµè§ˆå™¨æ’ä»¶å¯åœ¨æµè§ˆå™¨æ’ä»¶å•†åº—/å®˜ç½‘æ‰‹å†Œå†…è¿›è¡Œä¸‹è½½</em></p>
</blockquote>
<p><strong>ç»¿æ³¡æ³¡åŠ©æ‰‹</strong>ï¼šåœ¨<strong>å°é»‘</strong>ä¸­ç»‘å®šä½ çš„ç»¿æ³¡æ³¡åŠ©æ‰‹ï¼Œåœ¨æ‰‹æœºä¸Šéšæ—¶ä¿å­˜æ–°çš„ä¿¡æ¯ï¼Œå¹¶å®ç°AIé—®ç­”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f94e954bce2c46c8a831a7222e7cbc52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=B9lAQ6BHEdr0JMIHnzNZLN%2FX6N8%3D" alt="ç»‘å®šå¾®ä¿¡åŠ©æ‰‹" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28c73f4074874a509c438e0ed4545fe1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZGo5LiA5ZCM5a2mWmVsaW5h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766101901&amp;x-signature=hf4LEh0i0XrazAyAc74obQ%2F0zH8%3D" alt="ç»‘å®šæˆåŠŸ" loading="lazy"/></p>
<p><strong>iOSå¿«æ·æŒ‡ä»¤</strong>ï¼šå¯ä»¥é€šè¿‡IOSæ‰‹æœºï¼Œå¿«é€Ÿæ•æ‰çµæ„Ÿã€å½•éŸ³å’Œæ–‡å­—ã€‚ï¼ˆå…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒå®˜ç½‘çš„ç”¨æˆ·æ‰‹å†Œï¼‰</p>
<p>è¿™æ ·ï¼Œä½ åœ¨å“ªçœ‹åˆ°å¥½å†…å®¹ï¼Œéƒ½å¯ä»¥éšæ—¶éšåœ°ä¿å­˜ï¼Œæ— ç¼è¡”æ¥ä½ çš„å·¥ä½œæµğŸ˜‰</p>
<h2 data-id="heading-15"><strong>ç»“æŸè¯­</strong></h2>
<p>åˆ°è¿™é‡Œï¼Œå…³äº<strong>å°é»‘OmniBox</strong>çš„ä»‹ç»å°±åˆ°å°¾å£°å•¦ï¼æœ€åæ¥åšä¸ªå°å°çš„æ€»ç»“ã€‚</p>
<p>åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæˆ‘ä»¬ä¸ç¼ºä¿¡æ¯ï¼Œç¼ºçš„æ˜¯<strong>æŠŠä¿¡æ¯å˜æˆçŸ¥è¯†ï¼ŒæŠŠçŸ¥è¯†å˜æˆèƒ½åŠ›</strong>çš„å·¥å…·ã€‚è€Œ<code>å°é»‘OmniBox</code>æ­£æ˜¯è¿™æ ·ä¸€ä¸ªå·¥å…·â€”â€”é™¤äº†æ”¶é›†æ•´ç†ä¹‹å¤–ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå¯ä»¥è®©æ”¶é›†çš„å†…å®¹ï¼ŒçœŸæ­£åœ°è¢«æ£€ç´¢ã€è¢«å¼•ç”¨ã€è¢«åˆ›é€ æ€§åœ°ä½¿ç”¨ã€‚</p>
<p><strong>ä»ç½‘é¡µå‰ªè—åˆ°æ–‡ä»¶è§£æï¼Œä»æ™ºèƒ½æœç´¢åˆ°AIé—®ç­”</strong>ï¼Œ<strong>å°é»‘</strong>è¦†ç›–äº†çŸ¥è¯†ç®¡ç†çš„å®Œæ•´é“¾æ¡ã€‚æ— è®ºä½ æ˜¯å†…å®¹åˆ›ä½œè€…ã€å­¦ç”Ÿç ”ç©¶å‘˜ï¼Œè¿˜æ˜¯å¾‹å¸ˆã€æ•™å¸ˆã€é”€å”®ï¼Œéƒ½èƒ½åœ¨å°é»‘è¿™é‡Œæ‰¾åˆ°é€‚åˆè‡ªå·±çš„å·¥ä½œæµã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<strong>å°é»‘æ˜¯å¼€æºçš„</strong>ã€‚è¿™æ„å‘³ç€ä½ çš„æ•°æ®ä¹Ÿå¯ä»¥å®Œå…¨ç”±è‡ªå·±æŒæ§ï¼Œä¹Ÿæ„å‘³ç€è¿™ä¸ªå·¥å…·ä¼šåœ¨ç¤¾åŒºçš„å…±åŒåŠªåŠ›ä¸‹æŒç»­è¿›åŒ–ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæ·±å—ã€Œæ”¶è—ä»æœªåœæ­¢ï¼Œæ‰“å¼€ä»æœªå¼€å§‹ã€çš„å›°æ‰°ï¼Œé‚£ä¸å¦¨è¯•è¯•<strong>å°é»‘OmniBox</strong>ï¼Œè¿›ä¸€æ­¥åœ°ï¼Œè®©é‚£äº›æ•£è½åœ¨å„å¤„çš„ä¿¡æ¯ï¼ŒçœŸæ­£æˆä¸ºä½ çš„çŸ¥è¯†èµ„äº§ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æœŸçš„å…¨éƒ¨å†…å®¹ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ğŸ»ğŸ»ğŸ»</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‹ç¼©è€Œä¸å¤±æ™ºï¼šLLM é‡åŒ–æŠ€æœ¯æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7582422818311864371</link>    <guid>https://juejin.cn/post/7582422818311864371</guid>    <pubDate>2025-12-11T23:53:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582422818311864371" data-draft-id="7582480048957849627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‹ç¼©è€Œä¸å¤±æ™ºï¼šLLM é‡åŒ–æŠ€æœ¯æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="LLM,äººå·¥æ™ºèƒ½,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T23:53:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Baihai_IDP"/> <meta itemprop="url" content="https://juejin.cn/user/3123071228582343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‹ç¼©è€Œä¸å¤±æ™ºï¼šLLM é‡åŒ–æŠ€æœ¯æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3123071228582343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Baihai_IDP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T23:53:51.000Z" title="Thu Dec 11 2025 23:53:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç¼–è€…æŒ‰ï¼š</strong> å¦‚ä½•åœ¨èµ„æºå—é™çš„è®¾å¤‡ä¸Šé«˜æ•ˆéƒ¨ç½²å¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒæ—¶è¿˜å°½å¯èƒ½ä¿æŒå…¶æ€§èƒ½è¡¨ç°ï¼Ÿ</p>
<p>æˆ‘ä»¬ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥çš„è¿™ç¯‡æ–‡ç« ï¼Œä½œè€…çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼šé‡åŒ–æŠ€æœ¯é€šè¿‡åœ¨æ¨¡å‹ç²¾åº¦ä¸æ•ˆç‡ä¹‹é—´å¯»æ‰¾æœ€ä¼˜å¹³è¡¡ç‚¹ï¼Œä½¿å¾—å¤§è¯­è¨€æ¨¡å‹èƒ½å¤Ÿåœ¨èµ„æºå—é™çš„è®¾å¤‡ä¸Šé«˜æ•ˆéƒ¨ç½²ï¼Œè€Œå‡ ä¹ä¸é™ä½å…¶â€œæ™ºèƒ½æ°´å¹³â€ã€‚</p>
<p>æ–‡ç« ä»é‡åŒ–çš„åŸºæœ¬åŸç†å‡ºå‘ï¼Œæ·±å…¥å‰–æäº†è®­ç»ƒåé‡åŒ–ï¼ˆPTQï¼‰ä¸é‡åŒ–æ„ŸçŸ¥è®­ç»ƒï¼ˆQATï¼‰çš„é€‚ç”¨åœºæ™¯ï¼Œè¯¦ç»†è§£é‡Šäº†ç¼©æ”¾å› å­ã€é›¶ç‚¹ã€å¯¹ç§°/éå¯¹ç§°é‡åŒ–ç­‰å…³é”®æŠ€æœ¯ç»†èŠ‚ï¼Œå¹¶è¿›ä¸€æ­¥æ¢è®¨äº†é«˜çº§é‡åŒ–æŠ€æœ¯ï¼ˆå¦‚ GPTQã€AWQã€SmoothQuantï¼‰ä»¥åŠ KV ç¼“å­˜é‡åŒ–ç­‰å‰æ²¿æ–¹æ³•ã€‚ä½œè€…è¿˜ç»“åˆå®æˆ˜ç»éªŒï¼Œæ¢³ç†å‡ºä¸€å¥—å¯è½åœ°çš„é‡åŒ–å·¥ä½œæµï¼Œå¹¶å±•ç¤ºäº†é‡åŒ–åœ¨ç«¯ä¾§ AIã€ä½æˆæœ¬äº‘éƒ¨ç½²ã€é•¿ä¸Šä¸‹æ–‡å¤„ç†ç­‰åœºæ™¯ä¸­çš„å·¨å¤§ä»·å€¼ã€‚</p>
</blockquote>
<p><strong>ä½œè€… | Bhavishya Pandit</strong></p>
<p><strong>ç¼–è¯‘ | å²³æ‰¬</strong></p>
<p>åƒæˆ‘ä»¬è¿™æ ·çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œå¤šå°‘æœ‰ç‚¹â€œå…»å°Šå¤„ä¼˜â€ã€‚æˆ‘ä»¬é’Ÿçˆ±åºå¤§çš„å‚æ•°è§„æ¨¡ã€æµ·é‡çš„å†…å­˜å’Œå¼ºæ‚çš„ GPUã€‚ä½†å½“æœ‰äººè¯•å›¾åœ¨æ‰‹æœºæˆ–é…å¤‡ä½æ€§èƒ½ GPU çš„ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œæˆ‘ä»¬æ—¶ï¼Œç°å®ä¾¿ä¼šæ¯«ä¸ç•™æƒ…åœ°ç»™æˆ‘ä»¬ä¸€è®°è€³å…‰ã€‚</p>
<p>å·¥ç¨‹å¸ˆä»¬å¦‚ä½•ç¡®ä¿æˆ‘ä»¬åœ¨å¾®å‹è®¾å¤‡ä¸Šä¾ç„¶èƒ½æµç•…æ™ºèƒ½åœ°è¿è¡Œï¼Ÿ</p>
<p>ç­”æ¡ˆå°±æ˜¯ï¼šé‡åŒ–æŠ€æœ¯ï¼ˆquantizationï¼‰ â€”â€” å®ƒæ˜¯ç°ä»£ AI æ¨¡å‹éƒ¨ç½²ä¸­çš„ä¸€é¡¹æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<p>è®©æˆ‘ä»¬èŠ±ç‚¹æ—¶é—´ï¼ŒçœŸæ­£ç†è§£å®ƒã€‚</p>
<h2 data-id="heading-0"><strong>01 ä»€ä¹ˆæ˜¯é‡åŒ–æŠ€æœ¯ï¼Ÿ</strong></h2>
<p><strong>é‡åŒ–çš„æœ¬è´¨åœ¨äºé™ä½æ•°å€¼çš„å­˜å‚¨ç²¾åº¦ã€‚</strong> LLMçš„æ‰€æœ‰è¿ç®—éƒ½ç¦»ä¸å¼€æ•°å­—â€”â€”æ¯ä¸ªæƒé‡å‚æ•°ã€æ¯æ¬¡æ¿€æ´»å€¼ã€æ¯ä¸€ä¸ªæ³¨æ„åŠ›åˆ†æ•°ï¼Œå…¨éƒ½å»ºç«‹åœ¨æµ®ç‚¹æ•°è¿ç®—ä¹‹ä¸Šã€‚è¿™äº›æ•°å€¼æµç•…ã€è¿ç»­ã€æ— é™ç²¾ç¡®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a426f54215b54c6cb5fbadca06521d21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=XroDfzi%2BxwfNUzKd9WJg43hV%2FnA%3D" alt="image.png" loading="lazy"/></p>
<p>ä½†è®¡ç®—æœºå‘¢ï¼Ÿå®ƒä»¬æ›´å–œæ¬¢å›ºå®šã€ç¦»æ•£çš„å­˜å‚¨å•å…ƒï¼ˆæ¯”å¦‚æ•´æ•°è€Œä¸æ˜¯é«˜ç²¾åº¦æµ®ç‚¹æ•°ï¼‰ã€‚è¦ä¹ˆä½ çš„æ•°æ®èƒ½å¡è¿›å»ï¼Œè¦ä¹ˆå°±å¡ä¸è¿›å»ã€‚å°±åƒä½ è¯•å›¾æŠŠæ•´ä¸ªè¡£æŸœå¡è¿›ä¸€ä¸ªç™»æœºç®±ä¸€æ ·ï¼Œè£…å¾—ä¸‹å°±è£…ï¼Œè£…ä¸ä¸‹å°±æ²¡åŠæ³•ã€‚è¿™æ—¶å€™ï¼Œé‡åŒ–æŠ€æœ¯ç«™å‡ºæ¥è¯´ï¼š</p>
<blockquote>
<p>â€œå˜¿ï¼Œå¤§è¯­è¨€æ¨¡å‹ï¼Œå¦‚æœæ¯ä¸ªæ•°å­—ä¸å†ä½¿ç”¨ 32 ä½ç²¾åº¦ï¼Œè€Œæ˜¯ç åˆ° 8 ä½ï¼Œç”šè‡³ 4 ä½å‘¢ï¼Ÿä½ å‡ ä¹å¯Ÿè§‰ä¸åˆ°å·®åˆ«ï¼Œä½†æˆ‘ä»¬èƒ½çœä¸‹å¤§é‡å†…å­˜ã€‚â€</p>
</blockquote>
<p><strong>32 ä½æµ®ç‚¹æ•°ï¼ˆFP32ï¼‰â†’ é»„é‡‘æ ‡å‡†</strong></p>
<p><strong>8 ä½æ•´æ•°ï¼ˆINT8ï¼‰â†’ ä¾ç„¶æ™ºèƒ½ï¼Œä½“ç§¯è¦å°å¾—å¤š</strong></p>
<p><strong>4 ä½æ•´æ•°ï¼ˆINT4ï¼‰â†’ è¶…ç´§å‡‘ï¼Œåªæ˜¯ç¨å¾®å¥å¿˜ä¸€ç‚¹</strong></p>
<p>å¥½å§ï¼Œä½†å¤§è¯­è¨€æ¨¡å‹ä¸ºä»€ä¹ˆè¦åœ¨ä¹è¿™ä¸ªï¼Ÿ</p>
<p>å› ä¸ºç°åœ¨çš„ LLM å®åœ¨å¤ªè‡ƒè‚¿äº†ã€‚æ•°åäº¿å‚æ•°éœ€è¦æ•°åäº¿ä¸ªæ•°å­—ã€‚ä¸€ä¸ª 70B å‚æ•°çš„æ¨¡å‹è‹¥ç”¨ FP32 è¡¨ç¤ºï¼Œéœ€è¦ 280 GBâ€”â€”è¿™å·²ç»ä¸æ˜¯æ¨¡å‹äº†ï¼Œè¿™æ˜¯å­˜å‚¨ç¾éš¾ã€‚</p>
<p>é‡åŒ–èƒ½æŠŠè¿™ç§æƒ…å†µï¼šâ€œæˆ‘å¾—é ä¸€æ•´ä¸ªæœåŠ¡å™¨é›†ç¾¤æ‰èƒ½è·‘è¿™ä¸ªä¸œè¥¿â€</p>
<p>å˜æˆè¿™æ ·ï¼šâ€œå˜¿ï¼Œæˆ‘æˆ–è®¸èƒ½åœ¨ç¬”è®°æœ¬ä¸Šè¿è¡Œå®ƒï¼Œç”šè‡³åœ¨æ‰‹æœºä¸Šä¹Ÿè¡Œï¼â€</p>
<p>æœ¬è´¨ä¸Šè¿™å°±æ˜¯ AI æ¨¡å‹çš„ç˜¦èº«æ–¹æ¡ˆ â€”â€”Â <strong>åœ¨ä¿æŒæ™ºèƒ½çš„å‰æä¸‹å‰”é™¤å†—ä½™æ•°æ®ã€‚</strong></p>
<p>ä½†æ˜¯ï¼Œå‹ç¼©æ•°å­—ç²¾åº¦ä¸ä¼šæŸå®³æ¨¡å‹è´¨é‡å—ï¼Ÿ</p>
<p>æœ‰æ—¶å€™ç¡®å®ä¼šã€‚ä½†é‡åŒ–çš„ç²¾é«“ï¼ˆä¹Ÿæ˜¯æ•´é—¨æŠ€æœ¯çš„é‡ç‚¹ï¼‰åœ¨äºï¼š</p>
<blockquote>
<p><strong>åœ¨æ¨¡å‹æœ€ä¸æ•æ„Ÿçš„åœ°æ–¹é™ä½ç²¾åº¦</strong></p>
<p><strong>åœ¨æ¨¡å‹æœ€æ ¸å¿ƒçš„åœ°æ–¹ä¿ç•™å‡†ç¡®æ€§</strong></p>
</blockquote>
<h2 data-id="heading-1"><strong>02 é‡åŒ–åœ¨å¤§è¯­è¨€æ¨¡å‹ç”Ÿå‘½å‘¨æœŸä¸­çš„ä½ç½®ï¼šè®­ç»ƒ vs æ¨ç†</strong></h2>
<p>åœ¨æˆ‘ææ¸…æ¥šâ€œé‡åŒ–æ˜¯ä»€ä¹ˆâ€ä¹‹åï¼Œä¸‹ä¸€ä¸ªé—®é¢˜ä¾¿æ¥è¸µè€Œè‡³ï¼š</p>
<p>â€œæŒºé…·çš„ï¼Œä½†æˆ‘ä»¬åˆ°åº•ä»€ä¹ˆæ—¶å€™åšé‡åŒ–ï¼Ÿæ˜¯åœ¨è®­ç»ƒæœŸé—´ï¼Ÿè®­ç»ƒä¹‹åï¼Ÿè¿˜æ˜¯ä¸¤ä¸ªé˜¶æ®µéƒ½éœ€è¦ï¼Ÿâ€</p>
<p>äº‹å®è¯æ˜ï¼Œæ—¶æœºçš„é€‰æ‹©éå¸¸å…³é”®ï¼Œå› ä¸ºå¤§è¯­è¨€æ¨¡å‹éå¸¸æŒ‘å‰”ã€‚ä½ æ˜¯åœ¨å®ƒä»¬å­¦ä¹ è¿‡ç¨‹ä¸­å°±å¼•å…¥é‡åŒ–ï¼Œè¿˜æ˜¯ç­‰å®ƒä»¬å·²ç»è®°ç‰¢æ‰€æœ‰æ¨¡å¼åå†é‡åŒ–ï¼Œè¡¨ç°ä¼šå¤§ä¸ç›¸åŒã€‚</p>
<h3 data-id="heading-2"><strong>2.1 è®­ç»ƒåé‡åŒ–ï¼ˆPost-Training Quantization, PTQï¼‰</strong></h3>
<p>å¯ä»¥æŠŠ PTQ æƒ³è±¡æˆç»™æ¨¡å‹è´´ä¸€å¼ ä¾¿åˆ©è´´æé†’ï¼š</p>
<p>â€œå˜¿ï¼Œæˆ‘è¦æŠŠä½ çš„æŸäº›æ•°å­—å››èˆäº”å…¥äº†ï¼Œè¯•ç€é€‚åº”ä¸€ä¸‹ã€‚â€</p>
<p>ä½ ç›´æ¥æ‹¿ä¸€ä¸ªå·²ç»å®Œå…¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œç„¶åè¿›è¡Œï¼š</p>
<ul>
<li>FP32 â†’ INT8 æˆ– INT4</li>
<li>å¯èƒ½è¿˜ä¼šç”¨ä¸€äº›èŠ±å“¨çš„å–æ•´æŠ€å·§</li>
</ul>
<p>ä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li>å¿«é€Ÿåˆä¾¿å®œï¼šæ— éœ€é‡æ–°è®­ç»ƒä¸€ä¸ª 70B å‚æ•°çš„åºç„¶å¤§ç‰©</li>
<li>æ˜“äºå®éªŒï¼šå¯ä»¥å…ˆè¯•è¯• INT8ï¼Œçœ‹æ¨¡å‹æ˜¯å¦æ’‘å¾—ä½ï¼Œå†å¤§èƒ†å°è¯•æ›´ä½ç²¾åº¦</li>
</ul>
<p>ç¼ºç‚¹æ˜¯ï¼ˆæˆ‘æ˜¯åƒäº†äºæ‰æ˜ç™½çš„ï¼‰ï¼š</p>
<ul>
<li>ç²¾åº¦å¯èƒ½ä¸‹é™ï¼šæŸäº›ç½‘ç»œå±‚å¯¹é‡åŒ–æå…¶æ•æ„Ÿ</li>
<li>å¼‚å¸¸å€¼å½±å“å¤§ï¼šå¦‚æœæŸä¸ªæƒé‡ç‰¹åˆ«å¤§ï¼Œä¼šç ´åæ•´ä¸ªé‡åŒ–å°ºåº¦ï¼Œå¯¼è‡´æ‰€æœ‰å‚æ•°åœ¨å‹ç¼©åä¸¥é‡å¤±çœŸã€‚</li>
<li>æœ‰æ—¶éœ€è¦ä¿ç•™åŸç²¾åº¦å±‚ï¼šLayerNormã€åµŒå…¥å±‚ï¼ˆembedding layersï¼‰æˆ–è¯­è¨€æ¨¡å‹å¤´ï¼ˆLM headï¼‰å¯èƒ½å¾—ä¿æŒåœ¨ FP16 ç²¾åº¦</li>
</ul>
<h3 data-id="heading-3"><strong>2.2 é‡åŒ–æ„ŸçŸ¥è®­ç»ƒï¼ˆQuantization-Aware Training, QATï¼‰</strong></h3>
<p>QAT æ˜¯æ›´æˆç†Ÿã€æ›´ç³»ç»Ÿçš„åšæ³•ã€‚ä¸å…¶ç­‰æ¨¡å‹å­¦å®Œåå†å¼ºè¿«å®ƒé€‚åº”ä½ç²¾åº¦ï¼Œä¸å¦‚ä»ä¸€å¼€å§‹è®­ç»ƒæ—¶å°±è®©å®ƒä¹ æƒ¯ã€‚</p>
<p>æˆ‘æ¢ç´¢ QAT æ—¶æ˜¯è¿™ä¹ˆåšçš„ï¼š</p>
<ul>
<li>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ’å…¥â€œä¼ªé‡åŒ–å±‚â€ï¼ˆfake quantization layersï¼‰ï¼šæ¨¡å‹åœ¨å­¦ä¹ æ—¶å°±çœ‹åˆ°ä½ç²¾åº¦çš„æ•°å­—</li>
<li>ä½¿ç”¨ç›´é€šä¼°è®¡å™¨ï¼ˆstraight-through estimatorsï¼‰è®©æ¢¯åº¦æ­£å¸¸æµåŠ¨ï¼Œä½¿æ¨¡å‹èƒ½ä¸»åŠ¨é€‚åº”</li>
<li>åˆ°è®­ç»ƒç»“æŸæ—¶ï¼Œæƒé‡å¤©ç„¶å…·å¤‡å¯¹é‡åŒ–å™ªå£°çš„é²æ£’æ€§</li>
</ul>
<p>ä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li>æœ€ç»ˆå‡†ç¡®ç‡æ›´é«˜ï¼Œå°¤å…¶åœ¨æä½ç²¾åº¦ï¼ˆå¦‚ INT4 æˆ– 3-bitï¼‰æ—¶</li>
<li>æ¨ç†æ›´ç¨³å®šï¼Œæ„å¤–æ›´å°‘</li>
<li>å¯ä»¥è¿›è¡Œæ¿€è¿›é‡åŒ–è€Œä¸ä¸¢å¤±æ¨¡å‹çš„â€œèªæ˜åŠ²å„¿â€</li>
</ul>
<p>ç¼ºç‚¹ï¼ˆæˆ‘æ³¨æ„åˆ°çš„ï¼‰ï¼š</p>
<ul>
<li>è€—æ—¶ï¼šå“ªæ€•åªéƒ¨åˆ†é‡è®­ 7Bâ€“70B çš„æ¨¡å‹ï¼Œæˆæœ¬ä¹Ÿå¾ˆé«˜</li>
<li>å·¥ç¨‹æŠ•å…¥å¤§ï¼šéœ€è¦è°¨æ…é›†æˆåˆ°è®­ç»ƒæµç¨‹ä¸­</li>
</ul>
<p>å¦‚ä½•é€‰æ‹©ï¼ˆæ ¹æ®æˆ‘çš„å®éªŒå’Œé˜…è¯»ï¼‰ï¼š</p>
<ul>
<li>PTQ â†’Â <strong>é¦–é€‰æ–¹æ¡ˆ</strong>ã€‚ä¾¿å®œã€å¿«é€Ÿï¼Œåœ¨ INT8 ä¸Šæ•ˆæœå‡ºå¥‡åœ°å¥½ï¼Œé…åˆæ™ºèƒ½å–æ•´ç­–ç•¥ï¼ŒINT4 ä¹Ÿå¸¸å¸¸æœ‰æ•ˆ</li>
<li>QAT â†’Â <strong>ä»…å½“ä½ éœ€è¦æœ€åé‚£ 1â€“2% çš„å‡†ç¡®ç‡ï¼Œæˆ–è¦åšæä½ç²¾åº¦ï¼ˆå¦‚ 4-bit ä»¥ä¸‹ï¼‰é‡åŒ–æ—¶æ‰ç”¨</strong></li>
<li>æ··åˆæ–¹æ¡ˆ â†’Â <strong>å…ˆåš PTQï¼ŒåŒæ—¶å°†æŸäº›å…³é”®å±‚å›é€€åˆ° FP16ï¼Œå†å¯¹æ ¸å¿ƒå±‚åšè½»é‡å¾®è°ƒï¼ˆè¿‘ä¼¼ mini-QATï¼‰</strong></li>
</ul>
<p>ä¸ºä»€ä¹ˆé€‰æ‹©åœ¨å“ªä¸ªé˜¶æ®µè¿›è¡Œé‡åŒ–å¦‚æ­¤é‡è¦ï¼Ÿ</p>
<p>æˆ‘æ„è¯†åˆ°ï¼Œé‡åŒ–ä¸åªæ˜¯ä¸€ä¸ªæ•°å­¦æŠ€å·§ â€”â€” å®ƒä¼šå½»åº•æ”¹å˜æ•´ä¸ªéƒ¨ç½²æµç¨‹ï¼š</p>
<ul>
<li><strong>å¯¹çº¯æ¨ç†ä»»åŠ¡ï¼ŒPTQ å¾€å¾€èƒœå‡ºï¼šæ˜¾å­˜å ç”¨æ›´å°‘ï¼Œååé‡æ›´é«˜</strong></li>
<li><strong>å¯¹éœ€è¦è®­ç»ƒ+éƒ¨ç½²çš„å®Œæ•´å·¥ä½œæµç¨‹ï¼ŒQAT å¯èƒ½æ›´åˆ’ç®—ï¼šæœ€ç»ˆæ¨¡å‹æ›´å°ï¼Œé•¿ä¸Šä¸‹æ–‡å¤„ç†èƒ½åŠ›ä¹Ÿæ›´å¼º</strong></li>
</ul>
<p>é€‰æ‹©åœ¨å“ªä¸ªé˜¶æ®µè¿›è¡Œé‡åŒ–çš„é—®é¢˜å½’æ ¹ç»“åº•æ˜¯ï¼š</p>
<p>ä½ æ˜¯æƒ³è¦å¿«é€Ÿã€ä¾¿å®œã€åŸºæœ¬å¤Ÿç”¨ï¼Œè¿˜æ˜¯è°¨æ…ã€ç¨æ…¢ã€æ¥è¿‘å®Œç¾ï¼Ÿ</p>
<h2 data-id="heading-4"><strong>03 é‡åŒ–æŠ€æœ¯èƒŒåçš„è¿ä½œæœºåˆ¶</strong></h2>
<p>åœ¨æˆ‘ææ¸…æ¥šâ€œä½•æ—¶â€é‡åŒ–ä¹‹åï¼Œå°±ä¸å¾—ä¸å¼„æ˜ç™½â€œé‡åŒ–ç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°çš„â€ã€‚è€å®è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å‡ºäººæ„æ–™åœ°ä¼˜é›…ã€‚é‡åŒ–çš„æ ¸å¿ƒæ€æƒ³å¾ˆç®€å•ï¼š</p>
<blockquote>
<p>æŠŠè¿ç»­ä¸”æ— é™ç²¾ç¡®çš„æ•°å­—ï¼Œæ˜ å°„åˆ°ä¸€ç»„æœ‰é™çš„ç¦»æ•£å€¼ä¸Šï¼Œå¹¶å°½å¯èƒ½ä¿ç•™æ¨¡å‹çš„â€œæ™ºèƒ½â€ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74a65b1a14bf4704a86e6520128ccbaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=6ar06XLIahH8aWLDfZ3JJHu3RzI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5"><strong>3.1 ç†è§£ç¼©æ”¾å› å­ï¼ˆScaleï¼‰ä¸é›¶ç‚¹ï¼ˆZero-Pointï¼‰</strong></h3>
<p>æƒ³è±¡æ¨¡å‹ä¸­çš„è¿™æ ·ä¸€ä¸ªæƒé‡ï¼š</p>
<pre><code class="hljs">0.8921374650012345
</code></pre>
<p>æˆ‘ä»¬çœŸçš„éœ€è¦è¿™ä¹ˆå¤šå°æ•°ä½å—ï¼Ÿä¸éœ€è¦ã€‚é‡åŒ–æŠ€æœ¯æ˜¯è¿™æ ·åšçš„ï¼š</p>
<ul>
<li>é€‰æ‹©ä¸€ä¸ªç¼©æ”¾å› å­ï¼ˆsï¼‰â†’ å†³å®šæ¯ä¸ªâ€œåŒºé—´â€æœ‰å¤šå®½</li>
<li>é€‰æ‹©ä¸€ä¸ªé›¶ç‚¹ï¼ˆzï¼‰â†’ å°†æˆ‘ä»¬çš„æ•´æ•°å¯¹é½åˆ°å®é™…æ•°æ®çš„èŒƒå›´</li>
</ul>
<p>å…¬å¼çœ‹èµ·æ¥æŒºèŠ±å“¨ï¼Œä½†æ¦‚å¿µä¸Šå…¶å®å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">quantized_value</span> = round(original_value / scale) + zero_point
</code></pre>
<p>å½“ä½ æƒ³è¿˜åŸå› FP32 æ—¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">dequantized_value</span> = (quantized_value - zero_point) * scale
</code></pre>
<h3 data-id="heading-6"><strong>3.2 å¯¹ç§°é‡åŒ– vs éå¯¹ç§°é‡åŒ–</strong></h3>
<p>æˆ‘å‘ç°ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰é‡åŒ–éƒ½ä¸€æ ·ï¼š</p>
<ul>
<li>å¯¹ç§°é‡åŒ–ï¼ˆSymmetric quantizationï¼‰ â†’ é›¶ç‚¹ä¸º 0ï¼ŒåŒºé—´ä»¥ 0 ä¸ºä¸­å¿ƒå¯¹ç§°
<ul>
<li>ä¼˜ç‚¹ï¼šæ›´ç®€å•ï¼Œæ•ˆç‡æé«˜</li>
<li>å¸¸ç”¨äºæƒé‡</li>
</ul>
</li>
<li>éå¯¹ç§°é‡åŒ–ï¼ˆAsymmetric quantizationï¼‰ â†’ é›¶ç‚¹å¯è°ƒï¼Œæ­£è´ŸèŒƒå›´ä¸ä¸€å®šç›¸ç­‰
<ul>
<li>ä¼˜ç‚¹ï¼šèƒ½æ›´å¥½åœ°æ•æ‰åæ€åˆ†å¸ƒ</li>
<li>å¸¸ç”¨äºæ¿€æ´»å€¼ï¼ˆactivationsï¼‰ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸ä¸æ˜¯ä»¥ 0 ä¸ºä¸­å¿ƒçš„</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7"><strong>3.3 æŒ‰å¼ é‡é‡åŒ– vs æŒ‰é€šé“é‡åŒ–ï¼šç²’åº¦å¾ˆé‡è¦</strong></h3>
<p>èµ·åˆï¼Œæˆ‘å°è¯•äº†æŒ‰å¼ é‡é‡åŒ–ï¼ˆper-tensor quantizationï¼‰ï¼šæ•´ä¸ªæƒé‡çŸ©é˜µä½¿ç”¨ä¸€å¥—ç¼©æ”¾å› å­å’Œé›¶ç‚¹ã€‚å¾ˆç®€å•ï¼Œä½†æœ‰æ—¶ä¼šå‡ºç°ç¾éš¾æ€§å¤±æ•ˆã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º Transformer å¾ˆæŒ‘å‰” â€”â€” æƒé‡çŸ©é˜µä¸­æœ‰äº›è¡Œçš„æ•°å€¼å¾ˆå¤§ï¼Œæœ‰äº›åˆ™å¾ˆå°ã€‚è‹¥æ•´è¡Œå…±ç”¨ä¸€å¥—ç¼©æ”¾å› å­ï¼Œç»“æœä¼šæ˜¯ï¼š</p>
<ul>
<li>å°æ•°å€¼è¢«æŒ¤è¿›åŒä¸€ä¸ªåŒºé—´ï¼ˆå¯¼è‡´ç²¾åº¦æŸå¤±ï¼‰</li>
<li>æˆ–å¤§æ•°å€¼è¢«æˆªæ–­ï¼ˆäº§ç”Ÿå·¨å¤§è¯¯å·®ï¼‰</li>
</ul>
<p>è§£å†³æ–¹æ¡ˆï¼ŸæŒ‰é€šé“ï¼ˆper-channelï¼Œå³æŒ‰è¡Œï¼‰é‡åŒ–ã€‚</p>
<ul>
<li>æ¯ä¸€è¡Œéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ç¼©æ”¾å› å­ï¼ˆå’Œå¯èƒ½çš„é›¶ç‚¹ï¼‰</li>
<li>ä¿ç•™äº†æ•°å€¼çš„ç›¸å¯¹å·®å¼‚</li>
<li>ä¸å¸¦æ¥çš„æ”¶ç›Šç›¸æ¯”ï¼Œå…¶é¢å¤–çš„å†…å­˜å¼€é”€å¾®ä¹å…¶å¾®</li>
</ul>
<h3 data-id="heading-8"><strong>3.4 å–æ•´ä¸æˆªæ–­ï¼šå¾®å°è¯¯å·®ï¼Œé‡å¤§å½±å“</strong></h3>
<p>é‡åŒ–å¹¶éé­”æ³•ã€‚å®ƒä¼šå¼•å…¥ä¸¤ç±»è¯¯å·®ï¼š</p>
<ul>
<li>å–æ•´è¯¯å·®ï¼ˆRounding errorï¼‰ â†’ å®é™…å€¼ä¸å…¶æœ€æ¥è¿‘çš„é‡åŒ–åŒºé—´å€¼ä¹‹é—´çš„å·®å¼‚</li>
<li>æˆªæ–­è¯¯å·®ï¼ˆClipping errorï¼‰ â†’ å½“æ•°å€¼è¶…å‡ºå¯è¡¨ç¤ºèŒƒå›´æ—¶è¢«å¼ºè¡Œè£å‰ª</li>
</ul>
<p>åƒ GPTQ æˆ– SmoothQuant è¿™æ ·çš„ç°ä»£ LLM é‡åŒ–æ–¹æ¡ˆï¼Œæ ¸å¿ƒå°±æ˜¯é€šè¿‡å·§å¦™çš„å–æ•´æ–¹æ³•æˆ–å±‚é—´é‡å¹³è¡¡ï¼ˆrebalancingï¼‰æ¥æœ€å°åŒ–è¿™äº›è¯¯å·®ï¼ˆåé¢ä¼šç»†è¯´ï¼‰ã€‚</p>
<h3 data-id="heading-9"><strong>3.5 å¦‚ä½•é€‰æ‹©é‡åŒ–ç²¾åº¦</strong></h3>
<p>è¿™æ˜¯æˆ‘æ¯å¤©éƒ½è¦é¢å¯¹çš„é—®é¢˜ï¼š</p>
<p>FP32 â†’ INT8 â†’ INT4 â†’ â€¦ æˆ‘æœ€å¤šèƒ½å‹ç¼©åˆ°å¤šå°‘ä½ï¼Ÿ</p>
<p>æˆ‘çš„ç»éªŒæ˜¯ï¼šé€šå¸¸å…ˆä» INT8 å¼€å§‹ â€”â€” å®‰å…¨åˆç»æµï¼Œåªæœ‰åœ¨é‡‡ç”¨é«˜çº§å–æ•´æŠ€æœ¯æ—¶ï¼Œæ‰å°è¯• INT4ã€‚ä½äº 4 æ¯”ç‰¹çš„é‡åŒ–å°šå¤„äºå®éªŒé˜¶æ®µï¼Œé™¤éä½ å‡†å¤‡å¥½å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒï¼Œå¦åˆ™é£é™©å¾ˆé«˜ã€‚</p>
<h3 data-id="heading-10"><strong>3.6 ä¸€ä¸ªç›´è§‚çš„æ¯”å–»</strong></h3>
<p>è¿™æ˜¯æˆ‘çš„æ€ç»´æ¨¡å‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d50ef1b6cae46f3970a04e906d25b13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=ZE1xCmALV20Ifl%2BuURelktKD7D4%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>æ¯ä¸ªæƒé‡ = ä¸€ä»¶è¡£æœ</li>
<li>æ¯ä¸ªé‡åŒ–åŒºé—´ = è¡Œæç®±é‡Œçš„ä¸€ä¸ªéš”å±‚</li>
<li>ç¼©æ”¾å› å­ = ä½ çš„éš”å±‚æœ‰å¤šå¤§</li>
<li>é›¶ç‚¹ = ç¬¬ä¸€ä¸ªéš”å±‚ä»å“ªå„¿å¼€å§‹</li>
</ul>
<h2 data-id="heading-11"><strong>04 é‡åŒ–ä¸ºä½•æœ‰æ—¶ä¼šå¸¦æ¥å‰¯ä½œç”¨</strong></h2>
<p>é‡åŒ–å¹¶éé­”æ³• â€”â€” å¦‚æœæˆ‘ä»¬ä¸å¤Ÿè°¨æ…ï¼Œå®ƒå¯èƒ½ä¼šå¾®å¦™åœ°ç ´åæ¨¡å‹æ€§èƒ½ã€‚è¿™äº›è¯¯å·®ä¸»è¦æ¥æºäºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60fce357544647f7bbef65bfbe8b3b8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=iQaUvaCr6%2FpNLO6kTie2XNWKhYw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>1ï¼‰å–æ•´è¯¯å·®ï¼šå°† FP32 ç²¾åº¦çš„æ•°å€¼æ˜ å°„åˆ° INT8/INT4 ä¼šå¼•å…¥å¾®å°çš„ç²¾åº¦æŸå¤±ã€‚</strong></p>
<ul>
<li>å•æ¬¡è¯¯å·®å¾ˆå°ï¼Œä½†åœ¨ Transformer ä¸­ï¼Œå¾®å°çš„å–æ•´è¯¯å·®ä¼šè·¨å±‚ç´¯ç§¯ã€‚</li>
<li>ç»“æœï¼šå¯¼è‡´æ³¨æ„åŠ›åˆ†å¸ƒæˆ–è¯å…ƒæ¦‚ç‡å‘ç”Ÿç»†å¾®å˜åŒ–ï¼Œæœ‰æ—¶ç”šè‡³ä¼šå¼•å‘æ¨¡å‹å¹»è§‰ã€‚</li>
</ul>
<p><strong>2ï¼‰æˆªæ–­è¯¯å·®ï¼šå¼‚å¸¸å€¼ä¼šè¿«ä½¿é‡åŒ–å› å­å˜å¤§ã€‚</strong></p>
<ul>
<li>è¿™ä½¿å¾—å¤§å¤šæ•°æƒé‡è¢«å‹ç¼©åˆ°å°‘æ•°å‡ ä¸ªåŒºé—´å†… â†’ æœ‰æ•ˆç²¾åº¦å¤§å¹…ä¸‹é™ã€‚</li>
<li>å®ä¾‹ï¼šLayerNorm å±‚ä¸­ä¸€ä¸ªç½•è§çš„å¤§æ¿€æ´»å€¼è‹¥è¢«æˆªæ–­ï¼Œå°±å¯èƒ½å¯¼è‡´æ¨¡å‹ä¸ç¨³å®šã€‚</li>
</ul>
<p>å¿«é€Ÿåº”å¯¹ï¼š<strong>é‡‡ç”¨ç™¾åˆ†ä½æ•°æ³•ç¡®å®šç¼©æ”¾å› å­ï¼Œä»£æ›¿æå€¼æ³•ï¼Œæˆ–å¯¹æ•æ„Ÿå±‚ç‰¹æ®Šå¤„ç†ã€‚</strong></p>
<p><strong>3ï¼‰ç½‘ç»œå±‚æ•æ„Ÿåº¦å·®å¼‚ï¼šå¹¶éæ‰€æœ‰ç½‘ç»œå±‚å¯¹é‡åŒ–çš„ååº”éƒ½ç›¸åŒï¼š</strong></p>
<ul>
<li>æ³¨æ„åŠ›æŠ•å½±å±‚ï¼ˆAttention projectionsï¼‰ &amp; è¯­è¨€æ¨¡å‹å¤´ï¼ˆLM headï¼‰ â†’ é«˜åº¦æ•æ„Ÿ</li>
<li>LayerNorm å±‚ â†’ æåº¦æ•æ„Ÿï¼Œé€šå¸¸éœ€ä¿æŒ FP16 ç²¾åº¦</li>
<li>MLP å±‚ â†’ ä¸­ç­‰æ•æ„Ÿï¼Œå¯è€å— INT8/INT4</li>
<li>åµŒå…¥å±‚ï¼ˆEmbeddingsï¼‰ â†’ ä¸­é«˜åº¦æ•æ„Ÿï¼Œéœ€è¦å°å¿ƒå¤„ç†</li>
</ul>
<h2 data-id="heading-12"><strong>05 é«˜çº§é‡åŒ–æŠ€æœ¯</strong></h2>
<p>åœ¨ç»å†äº†å–æ•´ã€æˆªæ–­å’Œæ•æ„Ÿç½‘ç»œå±‚å¸¦æ¥çš„ç§ç§æŒ‘æˆ˜åï¼Œç ”ç©¶äººå‘˜å’Œå·¥ç¨‹å¸ˆä»¬å¼€å‘å‡ºä¸€äº›å·§å¦™çš„æ–¹æ³•ï¼Œä½¿å¾— LLM å³ä½¿åœ¨ 4 ä½ç²¾åº¦ä¸‹ä¹Ÿèƒ½è¡¨ç°å‡ºè‰²ã€‚ä»¥ä¸‹æ˜¯æˆ‘äº†è§£åˆ°çš„ä¸€äº›æ ¸å¿ƒæŠ€æœ¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f5f18678ed94aa699bb4bcc03561b67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=oRtuPnyUDs%2Fl0nQKmsWEjkGI8G0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13"><strong>5.1 GPTQï¼šåŸºäº Hessian çŸ©é˜µçš„æ™ºèƒ½å–æ•´</strong></h3>
<ul>
<li>æ ¸å¿ƒæ€æƒ³ï¼šå¹¶éæ‰€æœ‰å–æ•´è¯¯å·®éƒ½åŒç­‰é‡è¦ã€‚æŸäº›æƒé‡å¯¹æ¨¡å‹è¾“å‡ºçš„å½±å“æ›´å¤§ã€‚</li>
<li>GPTQ é€šè¿‡åˆ†ææ¨¡å‹çš„äºŒé˜¶æ•æ„Ÿåº¦ï¼ˆHessian çŸ©é˜µï¼‰æ¥è¯†åˆ«å“ªäº›æƒé‡å¯ä»¥å®‰å…¨åœ°è¿›è¡Œå–æ•´å¤„ç†ã€‚</li>
<li>æ•ˆæœï¼šå³ä½¿åœ¨å¤§æ¨¡å‹ä¸­ï¼ŒINT4 æƒé‡é‡åŒ–ä¹Ÿèƒ½å‡ ä¹ä¿æŒåŸå§‹ç²¾åº¦ã€‚</li>
</ul>
<h3 data-id="heading-14"><strong>5.2 AWQï¼šæ¿€æ´»æ„ŸçŸ¥é‡åŒ–</strong></h3>
<ul>
<li>æ¿€æ´»å€¼ä¸æƒé‡ç›¸äº’ä½œç”¨ï¼Œå¦‚æœåœ¨å¯¹æƒé‡è¿›è¡Œå–æ•´æ—¶ä¸è€ƒè™‘æ¿€æ´»å€¼çš„åˆ†å¸ƒèŒƒå›´ï¼Œå¯èƒ½ä¼šæŸå®³æ¨¡å‹æ€§èƒ½ã€‚</li>
<li>AWQ æ ¹æ®æ¿€æ´»å€¼çš„ç»Ÿè®¡ç‰¹å¾æ¥è°ƒæ•´æƒé‡é‡åŒ–ç­–ç•¥ï¼Œä»è€Œé™ä½æ¨ç†è¿‡ç¨‹ä¸­çš„è¯¯å·®é£é™©ã€‚</li>
</ul>
<h3 data-id="heading-15"><strong>5.3 SmoothQuantï¼šå±‚é—´å¹³è¡¡æŠ€æœ¯</strong></h3>
<ul>
<li>ç—›ç‚¹ï¼šæŸäº›ç½‘ç»œå±‚çš„æ¿€æ´»å€¼èŒƒå›´è¿‡å¤§ï¼Œå¯¼è‡´å‡åŒ€é‡åŒ–æ•ˆç‡ä½ä¸‹ã€‚</li>
<li>SmoothQuant ä¼šåœ¨ä¸åŒå±‚ä¹‹é—´å¯¹æƒé‡å’Œæ¿€æ´»å€¼è¿›è¡Œé‡æ–°ç¼©æ”¾ï¼Œä½†ä¿è¯å®ƒä»¬ç›¸ä¹˜åçš„ç»“æœï¼ˆå³æ¨¡å‹çš„è¾“å‡ºï¼‰ä¿æŒä¸å˜ã€‚</li>
<li>ä¼˜åŠ¿ï¼šå®ç°æ›´å¹³æ»‘çš„é‡åŒ–ï¼Œå¤§å¹…å‡å°ç²¾åº¦æŸå¤±ã€‚</li>
</ul>
<h3 data-id="heading-16"><strong>5.4 HQQ ä¸æ··åˆæ–¹æ³•</strong></h3>
<ul>
<li>è¯¥æ–¹æ³•å°† Hessian ä¿¡æ¯ä¸æ··åˆç²¾åº¦æˆ–åˆ†ç»„é‡åŒ–æŠ€æœ¯ç›¸ç»“åˆã€‚</li>
<li>æ€è·¯ï¼šå¯¹å±‚ä¸­â€œå®‰å…¨â€çš„éƒ¨åˆ†ä½¿ç”¨ä½æ¯”ç‰¹ç²¾åº¦ï¼Œè€Œå¯¹æ•æ„Ÿéƒ¨åˆ†ä¿ç•™æ›´é«˜ç²¾åº¦ã€‚</li>
<li>è¯¥æŠ€æœ¯åœ¨å¯¹ç”Ÿäº§çº§æ¨¡å‹è¿›è¡Œ INT4 æˆ–æ›´ä½æ¯”ç‰¹é‡åŒ–æ—¶å°¤ä¸ºå®ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-17"><strong>5.5 æ··åˆç²¾åº¦å›é€€æœºåˆ¶</strong></h3>
<ul>
<li>æœ‰äº›ç½‘ç»œå±‚å¤©ç”ŸæŠ—æ‹’è¢«é‡åŒ–ã€‚</li>
<li>å¸¸è§ç­–ç•¥ï¼šå°†Â LayerNormã€LM Headï¼ˆè¯­è¨€æ¨¡å‹è¾“å‡ºå¤´ï¼‰ä»¥åŠéƒ¨åˆ†åµŒå…¥å±‚ç»´æŒåœ¨Â FP16Â ç²¾åº¦ï¼Œå…¶ä½™éƒ¨åˆ†åˆ™é‡åŒ–ä¸ºÂ INT4/INT8ã€‚</li>
<li>æƒè¡¡ï¼šè™½ç•¥å¾®å¢åŠ å†…å­˜å ç”¨ï¼Œå´èƒ½æ¢æ¥æ¨¡å‹è´¨é‡çš„å¤§å¹…æå‡ã€‚</li>
</ul>
<h2 data-id="heading-18"><strong>06 KV ç¼“å­˜é‡åŒ–</strong></h2>
<p>å¦‚æœä½ æ›¾å°è¯•ç”¨å¤§è¯­è¨€æ¨¡å‹å¤„ç†é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡ï¼Œä¸€å®šå¯¹æ­¤æ·±æœ‰ä½“ä¼šï¼šKV ç¼“å­˜ä¼šç–¯ç‹‚å ç”¨å†…å­˜ã€‚æ¯ä¸ªç”Ÿæˆçš„è¯å…ƒéƒ½è¦ä¸ºæ¯ä¸€å±‚ä¿å­˜é”®ï¼ˆKeyï¼‰çŸ©é˜µå’Œå€¼ï¼ˆValueï¼‰çŸ©é˜µï¼Œè€Œæ¨¡å‹åŠ¨è¾„æ‹¥æœ‰æ•°åäº¿å‚æ•°ï¼Œå†…å­˜å¾ˆå¿«å°±ä¼šè¢«åƒå…‰ã€‚é‡åŒ–æŠ€æœ¯æ­¤æ—¶ä¾¿æ´¾ä¸Šç”¨åœºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c754dbca68da450d862d142b00f19dbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=6CRawmKZpR087j6QJKKyHy2ffKQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-19"><strong>6.1 ä¸ºä»€ä¹ˆ KV ç¼“å­˜å¾ˆé‡è¦</strong></h3>
<ul>
<li>åœ¨è§£ç è¿‡ç¨‹ä¸­ï¼ŒTransformer ä¼šä¸ºæ¯ä¸ªå†å²è¯å…ƒå­˜å‚¨é”®ï¼ˆKï¼‰å’Œå€¼ï¼ˆVï¼‰ã€‚</li>
<li>è¿™æ ·å°±èƒ½åœ¨è®¡ç®—æ³¨æ„åŠ›æ—¶è®¿é—®æ‰€æœ‰å…ˆå‰è¯å…ƒï¼Œæ— éœ€é‡å¤è®¡ç®—ã€‚</li>
<li>é—®é¢˜åœ¨äºï¼šå¯¹äºé•¿æç¤ºè¯ï¼ˆå¦‚ 8K+ è¯å…ƒï¼‰å’Œè¶…å¤§æ¨¡å‹ï¼ˆ70B+ å‚æ•°ï¼‰ï¼Œç¼“å­˜å¯èƒ½å ç”¨å¤§éƒ¨åˆ† GPU å†…å­˜ã€‚</li>
</ul>
<h3 data-id="heading-20"><strong>6.2 INT8/INT4 KV ç¼“å­˜</strong></h3>
<ul>
<li>å°†é”®å’Œå€¼ä»¥æ›´ä½ç²¾åº¦ï¼ˆå¦‚ INT8 æˆ– INT4ï¼‰å­˜å‚¨ï¼Œå¯å¤§å¹…å‡å°‘å†…å­˜å ç”¨ã€‚</li>
<li>ç²¾åº¦æŸå¤±æå°ï¼Œå› ä¸ºæ³¨æ„åŠ›æœºåˆ¶å¯¹ K/V çŸ©é˜µä¸­çš„å¾®å°å–æ•´å™ªå£°å…·æœ‰è¾ƒå¼ºçš„å®¹å¿åº¦ã€‚</li>
</ul>
<p>ç”¨ä¸€ç§æ›´ä¸ºç›´è§‚çš„æ–¹å¼ç†è§£ï¼šæ³¨æ„åŠ›æœºåˆ¶åŒ…å®¹æ€§å¼ºï¼Œå°±åƒå¬ 128kbps çš„æ­Œæ›² â€”â€” ç»†èŠ‚è™½æœ‰æŸå¤±ï¼Œä½†æ•´ä½“æ—‹å¾‹ä¾æ—§æ¸…æ™°ã€‚</p>
<h3 data-id="heading-21"><strong>6.3 åé‡åŒ– or ç›´æ¥åœ¨æ•´æ•°åŸŸä¸­è¿›è¡Œè®¡ç®—</strong></h3>
<p>ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<p>1ï¼‰åŠ¨æ€åé‡åŒ–ï¼ˆDequant on-the-flyï¼‰</p>
<ul>
<li>åœ¨è®¡ç®—æ³¨æ„åŠ›æ—¶ï¼Œå°† INT8/INT4 ä¸´æ—¶è½¬å› FP16</li>
<li>æœ‰è½»å¾®è®¡ç®—å¼€é”€ï¼Œä½†å†…å­˜æ•ˆç‡é«˜</li>
</ul>
<p>2ï¼‰åœ¨æ•´æ•°åŸŸä¸­ç›´æ¥è®¡ç®—ï¼ˆCompute directly in integer domainï¼‰</p>
<ul>
<li>å……åˆ†åˆ©ç”¨æ”¯æŒä½ç²¾åº¦è¿ç®—çš„ç¡¬ä»¶ï¼ˆå¦‚æ”¯æŒ INT8 çš„ GPUï¼‰</li>
<li>é€Ÿåº¦æ›´å¿«ã€å†…å­˜æ•°æ®ç§»åŠ¨é‡æ›´å°‘ï¼Œä½†å·¥ç¨‹å®ç°ç¨å¤æ‚</li>
</ul>
<h3 data-id="heading-22"><strong>6.4 å®ç”¨å»ºè®®</strong></h3>
<ul>
<li>å°† KV ç¼“å­˜é‡åŒ–ä¸åˆ†å±‚æ··åˆç²¾åº¦ç»“åˆä½¿ç”¨ï¼Œæ•ˆæœæœ€ä½³ã€‚</li>
<li>INT8 KV ç¼“å­˜é€šå¸¸å¾ˆå®‰å…¨ï¼›è‹¥ä½¿ç”¨ INT4ï¼Œå»ºè®®é…åˆé«˜çº§å–æ•´ç­–ç•¥ï¼ˆå¦‚ GPTQ æˆ– AWQï¼‰ã€‚</li>
<li>åŠ¡å¿…åœ¨é•¿åºåˆ—ä¸Šè¿›è¡Œæµ‹è¯• â€”â€” çŸ­ä¸Šä¸‹æ–‡çš„åŸºå‡†æµ‹è¯•æ— æ³•æš´éœ²æ½œåœ¨çš„æ¨¡å‹å¹»è§‰æˆ–è¯å…ƒé”™ä½é—®é¢˜ã€‚</li>
</ul>
<h2 data-id="heading-23"><strong>07 é‡åŒ–æŠ€æœ¯å®æˆ˜å·¥ä½œæµ</strong></h2>
<p>åœ¨æ·±å…¥ç ”ç©¶äº†é‡åŒ–çš„åŸç†ã€è¯¯å·®æ¥æºå’Œé«˜çº§æŠ€å·§åï¼Œæˆ‘æ„è¯†åˆ°çœŸæ­£çš„æŒ‘æˆ˜ä¸åœ¨äºç†è§£é‡åŒ–ï¼Œè€Œåœ¨äºå¦‚ä½•å®‰å…¨åœ°å®æ–½å®ƒè€Œä¸ç ´åæ¨¡å‹ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„å®è·µæ–¹æ³•ã€‚</p>
<h3 data-id="heading-24"><strong>7.1 å‡†å¤‡æ ¡å‡†æ•°æ®é›†</strong></h3>
<p>åœ¨è°ƒæ•´ä»»ä½•æƒé‡ä¹‹å‰ï¼Œé¦–å…ˆå‡†å¤‡ä¸€ä¸ªä½“é‡å°ä½†å…·æœ‰ä»£è¡¨æ€§çš„æ•°æ®é›†ï¼š</p>
<ul>
<li>åŒ…å« 100-500 æ¡è¦†ç›–æ¨¡å‹å…¸å‹ä»»åŠ¡çš„è¾“å…¥åºåˆ—</li>
<li>ç›®çš„ï¼šè®°å½•æ¯ä¸€å±‚æ¿€æ´»å€¼çš„æ•°å€¼èŒƒå›´å’Œåˆ†å¸ƒå½¢æ€ï¼Œä»è€Œä¸ºåç»­çš„é‡åŒ–è¿‡ç¨‹æä¾›å‡†ç¡®çš„ç»Ÿè®¡ä¾æ®ã€‚</li>
<li>åŸå› ï¼šå¦‚æœæ¨ç†æ—¶çš„æ¿€æ´»å€¼åˆ†å¸ƒä¸æ ¡å‡†æ•°æ®åå·®è¿‡å¤§ï¼ŒINT4 é‡åŒ–å¯èƒ½ä¼šå¤±è´¥</li>
</ul>
<h3 data-id="heading-25"><strong>7.2 é€å±‚ç¡®å®šç²¾åº¦</strong></h3>
<p>å¹¶éæ‰€æœ‰ç½‘ç»œå±‚éƒ½èƒ½åŒç­‰ç¨‹åº¦åœ°é€‚åº” INT4 ç²¾åº¦ï¼š</p>
<ul>
<li>MLP å±‚å’Œå¤§å¤šæ•°æ³¨æ„åŠ›æƒé‡ â†’ é‡‡ç”¨ INT4</li>
<li>åµŒå…¥å±‚ â†’ è‹¥å­˜åœ¨é£é™©åˆ™é‡‡ç”¨ INT8</li>
<li>LayerNormã€LM Head åŠæœ‰æ—¶é¦–ä¸ªæŠ•å½±å±‚ â†’ å›é€€è‡³ FP16 ç²¾åº¦</li>
</ul>
<h3 data-id="heading-26"><strong>7.3 æ‰§è¡Œé‡åŒ–æ“ä½œ</strong></h3>
<ul>
<li>é¦–å…ˆè¿›è¡Œè®­ç»ƒåé‡åŒ–ï¼ˆPTQï¼‰ï¼Œé€šå¸¸å°†æ‰€æœ‰æƒé‡è½¬ä¸º INT8ï¼Œæ£€æŸ¥æ¨¡å‹è¾“å‡º</li>
<li>ç„¶åä½¿ç”¨ GPTQ æˆ– AWQ é€æ­¥å°† MLP /æ³¨æ„åŠ›å±‚é™è‡³ INT4</li>
<li>å§‹ç»ˆå°†æ•æ„Ÿç½‘ç»œå±‚ä¿æŒåœ¨ FP16 ç²¾åº¦</li>
</ul>
<p>æ­¤é˜¶æ®µæ˜¯è¿­ä»£è¿‡ç¨‹ï¼šåº”ç”¨é‡åŒ– â†’ æµ‹è¯• â†’ è°ƒæ•´ç½‘ç»œå±‚ç²¾åº¦</p>
<h3 data-id="heading-27"><strong>7.4 è¯„ä¼°ä¸è°ƒè¯•</strong></h3>
<p>è¿™æ˜¯ç†è®ºç…§è¿›ç°å®çš„ç¯èŠ‚ï¼š</p>
<ul>
<li>ä½¿ç”¨çœŸå®åœºæ™¯çš„æç¤ºè¯è¿›è¡Œæµ‹è¯•ï¼Œè€Œéä»…ä¾èµ–åŸºå‡†æ•°æ®é›†</li>
<li>æ£€æŸ¥æ˜¯å¦å‡ºç°å¹»è§‰ã€è¯å…ƒé”™ä½æˆ–æ¨ç†èƒ½åŠ›ä¸‹é™</li>
<li>è‹¥æŸç½‘ç»œå±‚è¡¨ç°å¼‚å¸¸ï¼Œå¯é€‰æ‹©æ€§åœ°æ¢å¤å…¶ç²¾åº¦æˆ–å°è¯•æŒ‰é€šé“ç¼©æ”¾</li>
</ul>
<h3 data-id="heading-28"><strong>7.5 å¾®è°ƒï¼ˆå¯é€‰æ­¥éª¤ï¼‰</strong></h3>
<p>å¯¹äºæ¿€è¿›çš„ä½æ¯”ç‰¹é‡åŒ–ï¼ˆå¦‚ INT4ã€æ··åˆ 3-4 ä½é‡åŒ–ï¼‰ï¼Œæœ‰æ—¶éœ€è¦è¿›è¡Œè½»é‡çº§çš„é‡åŒ–æ„ŸçŸ¥å¾®è°ƒï¼š</p>
<ul>
<li>åœ¨æ ¡å‡†æ•°æ®ä¸Šè®­ç»ƒå‡ ä¸ª epoch</li>
<li>è®©æ¨¡å‹é€‚åº”é‡åŒ–å¼•å…¥çš„å™ªå£°</li>
<li>é€šå¸¸èƒ½å°† INT4 çš„æ€§èƒ½è¡¨ç°æå‡è‡³æ¥è¿‘ FP16 æ°´å¹³</li>
</ul>
<h3 data-id="heading-29"><strong>7.6 éƒ¨ç½²å°±ç»ª</strong></h3>
<p>å½“é‡åŒ–ç¨³å®šåï¼š</p>
<ul>
<li>KV ç¼“å­˜ä¹Ÿè¿›è¡Œé‡åŒ–ï¼ˆINT8/INT4ï¼‰ï¼Œæå‡å†…å­˜æ•ˆç‡</li>
<li>å¯¹é‚£äº›è¢«ç‰¹æ„ä¿ç•™ä¸ºè¾ƒé«˜ç²¾åº¦çš„å±‚ï¼Œå·²é‡‡å–ä¿æŠ¤æªæ–½</li>
<li>æ¨¡å‹å·²é€šè¿‡é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡æµ‹è¯•</li>
</ul>
<p>æœ€ç»ˆæˆæœï¼šå†…å­˜å ç”¨æ›´å°ï¼Œæ¨ç†é€Ÿåº¦æ›´å¿«ï¼Œç²¾åº¦æŸå¤±å¾®ä¹å…¶å¾®ã€‚å½“ç¬¬ä¸€æ¬¡çœ‹åˆ° 70B å‚æ•°çš„æ¨¡å‹åœ¨å•å¼  GPU ä¸Šæµç•…è¿è¡Œæ—¶ï¼Œé‚£ç§æ„Ÿè§‰å ªç§°ç¥å¥‡ã€‚</p>
<h2 data-id="heading-30"><strong>08 åº”ç”¨åœºæ™¯</strong></h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d618a8742c514060bc97d26ca460770c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmFpaGFpX0lEUA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766102031&amp;x-signature=uBZ6sw9uGFogqzFSU%2BxSu%2FZSPNw%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>ç«¯ä¾§ AIï¼ˆOn-Device AIï¼‰</strong> ï¼šé‡åŒ–è®©æˆ‘èƒ½ç›´æ¥åœ¨ç¬”è®°æœ¬ã€è¾¹ç¼˜è®¾å¤‡ç”šè‡³æ‰‹æœºä¸Šè¿è¡Œå¤§è¯­è¨€æ¨¡å‹ã€‚è¿‡å»éœ€è¦å¤šå¡ GPU æœåŠ¡å™¨çš„æ¨¡å‹ï¼Œå¦‚ä»Šå•å¼  GPU å°±èƒ½è£…ä¸‹ï¼Œè®© AI èƒ½å¤Ÿè¿›è¡Œå®æ—¶äº¤äº’ï¼Œæ‘†è„±äº‘ç«¯å»¶è¿Ÿã€‚æˆ‘ç”¨å®ƒæ¥åšç¬”è®°ã€è¿›è¡Œä»£ç è¡¥å…¨ã€å½“ç¦»çº¿èŠå¤©åŠ©æ‰‹ â€”â€” å°±åƒæŠŠä¸€å°è¶…çº§è®¡ç®—æœºè£…è¿›äº†èƒŒåŒ…é‡Œã€‚</li>
<li><strong>é«˜æ€§ä»·æ¯”çš„äº‘ç«¯éƒ¨ç½²ï¼ˆCost-Efficient Cloud Deploymentï¼‰</strong> ï¼šå³ä½¿åœ¨äº‘ç«¯ï¼Œé‡åŒ–ä¹Ÿèƒ½å¤§å¹…é™ä½ GPU å†…å­˜å ç”¨ï¼Œä½¿å•ä¸ªèŠ‚ç‚¹èƒ½å¤ŸæœåŠ¡æ›´å¤šç”¨æˆ·ï¼Œå¤§å¹…èŠ‚çœè¿ç»´æˆæœ¬ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª 13B æ¨¡å‹åœ¨ INT4 ç²¾åº¦ä¸‹çš„è¡¨ç°å‡ ä¹ä¸ FP16 ç›¸å½“ï¼Œä½† GPU å†…å­˜å ç”¨å‡å°‘äº†ä¸€åŠï¼Œè¿™æ ·ä½¿å¾—é¢„ç®—æœ‰é™çš„å›¢é˜Ÿä¹Ÿå¯ä»¥éƒ¨ç½²é«˜æ€§èƒ½çš„ LLMã€‚</li>
<li><strong>é•¿ä¸Šä¸‹æ–‡åº”ç”¨ï¼ˆLong-Context Applicationsï¼‰</strong> ï¼šé€šè¿‡é™ä½ KV ç¼“å­˜çš„å†…å­˜å ç”¨ï¼Œä½¿å¾—å¤„ç†é•¿æ–‡æ¡£æˆä¸ºå¯èƒ½ã€‚å€ŸåŠ© INT8 æˆ– INT4 çš„ KV ç¼“å­˜ï¼Œæˆ‘æˆåŠŸå®ç°äº†æ•´æœ¬ä¹¦ç±çš„æ‘˜è¦ç”Ÿæˆã€åˆ†ææ³•å¾‹åˆåŒï¼Œç”šè‡³ç»´æŒæ•°å°æ—¶çš„è¿ç»­å¯¹è¯è€Œä¸ä¼šçˆ†å†…å­˜ã€‚è¿™è®©è™šæ‹ŸåŠ©æ‰‹ã€æ•™å­¦ç³»ç»Ÿå’Œæ‘˜è¦å·¥å…·èƒ½æ— ç¼å¤„ç†è¶…é•¿ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>å¤šæ¨¡å‹åä½œæµæ°´çº¿ï¼ˆMulti-Model Pipelinesï¼‰</strong> ï¼šé‡åŒ–æ¨¡å‹åœ¨æ··åˆæµæ°´çº¿ä¸­è¡¨ç°å°¤ä¸ºå‡ºè‰²ã€‚æˆ‘ç»å¸¸ç”¨å°å‹ INT4 æ¨¡å‹åšåˆæ­¥ç­›é€‰æˆ–ç”Ÿæˆåˆå§‹å»ºè®®ï¼Œå†å°†ç»“æœäº¤ç»™æ›´å¤§çš„æ¨¡å‹è¿›è¡Œæœ€ç»ˆæ¨ç†ã€‚è‹¥æ— é‡åŒ–æŠ€æœ¯ï¼Œå¹¶è¡Œè°ƒåº¦å¤šä¸ªæ¨¡å‹ä¼šå¾ˆå®¹æ˜“è¶…å‡ºå†…å­˜é™åˆ¶ã€‚è€Œç°åœ¨ï¼Œå°±åƒåœ¨ä¸€å°æœºå™¨ä¸Šéƒ¨ç½²äº†ä¸€æ•´ä¸ª AI ä¸“å®¶å›¢é˜Ÿã€‚</li>
<li><strong>ç ”ç©¶ä¸å®éªŒï¼ˆResearch and Experimentationï¼‰</strong> ï¼šæœ€åï¼Œé‡åŒ–æŠ€æœ¯è®©å®éªŒå˜å¾—æ›´å¿«é€Ÿã€æ›´ä¾¿å®œã€‚æˆ‘å¯ä»¥åœ¨æ¶ˆè´¹çº§ GPU ä¸Šè¿­ä»£æ–°æ¶æ„ã€æµ‹è¯•æ¨¡å‹æ¶ˆèå®éªŒæˆ–å¾®è°ƒæ¨¡å‹ï¼Œæ— éœ€ç­‰å¾…æ˜‚è´µçš„ä¸“ç”¨ç¡¬ä»¶ã€‚è¿™æå¤§åŠ é€Ÿäº†æˆ‘ä»¬çš„å­¦ä¹ ä¸å®éªŒè¿›ç¨‹ï¼Œè®©å¤§æ¨¡å‹ç ”ç©¶å˜å¾—æ›´åŠ è§¦æ‰‹å¯åŠã€‚</li>
</ul>
<p><strong>END</strong></p>
<p><strong>æœ¬æœŸäº’åŠ¨å†…å®¹ ğŸ»</strong></p>
<p><strong>â“ä½ è§‰å¾—æœªæ¥å¤§æ¨¡å‹ä¼šé»˜è®¤ä»¥é‡åŒ–å½¢å¼å‘å¸ƒï¼Œè¿˜æ˜¯ä¿ç•™â€œåŸå§‹ç²¾åº¦+æŒ‰éœ€é‡åŒ–â€çš„æ¨¡å¼ï¼Ÿ</strong></p>
<p><strong>æœ¬æ–‡ç»åŸä½œè€…æˆæƒï¼Œç”± Baihai IDP ç¼–è¯‘ã€‚å¦‚éœ€è½¬è½½è¯‘æ–‡ï¼Œè¯·è”ç³»è·å–æˆæƒã€‚</strong></p>
<p><strong>åŸæ–‡é“¾æ¥ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbhavishyapandit9.substack.com%2Fp%2Fdeep-dive-into-quantization-of-llms" target="_blank" title="https://bhavishyapandit9.substack.com/p/deep-dive-into-quantization-of-llms" ref="nofollow noopener noreferrer">bhavishyapandit9.substack.com/p/deep-diveâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¼–å†™ä¸€ä¸ª VS Code æ‰©å±•ï¼šå°† Copilot æ”¯æŒçš„å¤§æ¨¡å‹é€šè¿‡ REST API æ–¹å¼æš´éœ²å‡ºæ¥]]></title>    <link>https://juejin.cn/post/7582413770091937830</link>    <guid>https://juejin.cn/post/7582413770091937830</guid>    <pubDate>2025-12-11T22:49:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582413770091937830" data-draft-id="7582425536464109594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¼–å†™ä¸€ä¸ª VS Code æ‰©å±•ï¼šå°† Copilot æ”¯æŒçš„å¤§æ¨¡å‹é€šè¿‡ REST API æ–¹å¼æš´éœ²å‡ºæ¥"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T22:49:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç£Šç£Šè½è½"/> <meta itemprop="url" content="https://juejin.cn/user/3054882885469577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¼–å†™ä¸€ä¸ª VS Code æ‰©å±•ï¼šå°† Copilot æ”¯æŒçš„å¤§æ¨¡å‹é€šè¿‡ REST API æ–¹å¼æš´éœ²å‡ºæ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3054882885469577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç£Šç£Šè½è½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T22:49:47.000Z" title="Thu Dec 11 2025 22:49:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç£Šç£Šè½è½ï¼Œç›®å‰æˆ‘åœ¨æŠ€æœ¯ä¸Šä¸»è¦å…³æ³¨ï¼šJavaã€Golangã€AIã€æ¶æ„è®¾è®¡ã€äº‘åŸç”Ÿå’Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚æ¬¢è¿æ¥æˆ‘çš„åšå®¢ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fleileiluoluo.com%2Fposts%2Fcopilot-rest-api-extension.html" target="_blank" title="https://leileiluoluo.com/posts/copilot-rest-api-extension.html" ref="nofollow noopener noreferrer">leileiluoluo.com</a>ï¼‰è·å–æˆ‘çš„æœ€è¿‘æ›´æ–°ï¼</p>
</blockquote>
<p>åœ¨ AI è¾…åŠ©ç¼–ç¨‹çš„æ—¶ä»£ï¼ŒCopilot å·²ç»æˆä¸ºä¼—å¤šå¼€å‘è€…çš„å¾—åŠ›åŠ©æ‰‹ã€‚æˆ‘ä»¬åªè¦æ‹¥æœ‰ä¸€ä¸ª GitHub è´¦å·ï¼Œåªè¦å¼€é€šäº† Copilotï¼Œå³å¯åœ¨ VS Code ç­‰ç¼–è¾‘å™¨ä¸­ä½¿ç”¨å®ƒã€‚è€Œä¸” Copilot å¯é€‰çš„å¤§æ¨¡å‹æ—¥ç›Šå¢å¤šï¼Œä»æœ€åˆçš„ Codex æ¨¡å‹åˆ°å¦‚ä»Šæ”¯æŒæ›´å¼ºå¤§çš„ GPT-5 ç³»åˆ—ï¼Œæ¨¡å‹èƒ½åŠ›ä¸æ–­å¢å¼ºã€‚</p>
<p>ç„¶è€Œï¼ŒCopilot çš„èƒ½åŠ›è¢«å®Œå…¨é‡Šæ”¾äº†å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å®ƒä¾ç„¶è¢«é™åˆ¶åœ¨ IDE æ’ä»¶ã€ç‰¹å®šå·¥ä½œæµçš„æ¡†æ¶å†…ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥å°† Copilot èƒŒåçš„å¤§æ¨¡å‹èƒ½åŠ›ã€Œè§£æ”¾ã€å‡ºæ¥ï¼Œé€šè¿‡ç®€å•ã€é€šç”¨çš„ REST API æä¾›ç»™æ›´å¤šå¼€å‘è€…ã€å·¥å…·å’Œåº”ç”¨è°ƒç”¨ï¼Œå°†ä¼šå¸¦æ¥å“ªäº›å¯èƒ½æ€§ï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±å°†å…±åŒæ¢ç´¢è¿™ä¸ªå®è·µï¼šå¦‚ä½•é€šè¿‡ç¼–å†™ä¸€ä¸ª VS Code æ‰©å±•ï¼Œå°† Copilot æ”¯æŒçš„å¤§æ¨¡å‹è½¬åŒ–ä¸ºå¯çµæ´»è°ƒç”¨çš„ API æœåŠ¡ã€‚</p>
<h2 data-id="heading-0">1 ä¸ºä»€ä¹ˆéœ€è¦ä¸€ä¸ª VS Code æ‰©å±•</h2>
<p>ä¸‹é¢ä»¥åœ¨ VS Code ä¸­å€ŸåŠ© Copilot æ‰¹é‡ç”ŸæˆæŠ¥å‘Šä¸ºä¾‹æ¥è¯´æ˜ä¸ºä»€ä¹ˆéœ€è¦ç¼–å†™ä¸€ä¸ª VS Code æ‰©å±•ã€‚</p>
<p>å‡è®¾ï¼Œæˆ‘æ­£åœ¨ä¸ºä¸€ä¸ªåšå®¢èšåˆç½‘ç«™åšå¹´åº¦æŠ¥å‘Šã€‚æ‹¥æœ‰çš„åˆå§‹æ•°æ®æ˜¯ä¸€ä¸ª JSON æ•°ç»„ <code>blog-posts.json</code>ï¼Œè¯¥æ•°ç»„è®°å½•äº†èšåˆç½‘ç«™ä¸­æ‰€æœ‰åšå®¢åœ¨ 2025 å…¨å¹´å‘å¸ƒçš„æ–‡ç« ã€‚</p>
<p>æ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"blog"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"leileiluoluo.com"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"articles"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"æç¤ºå·¥ç¨‹éœ€è¦éµå¾ªçš„äº”ä¸ªåŸåˆ™ï¼ˆé™„å®è·µæ¡ˆä¾‹ï¼‰"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"é—œæ–¼ 2026 å¹´å³å°‡ç”Ÿæ•ˆçš„ã€Œå¸æ¯’è¨˜éŒ„å¯å°å­˜ã€æ³•æ¡ˆ"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"å¦‚ä½•ä½¿ç”¨ Spec Kit å·¥å…·è¿›è¡Œè§„èŒƒé©±åŠ¨å¼€å‘ï¼Ÿ"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
  <span class="hljs-comment">// ...</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>å¦‚æœæˆ‘æƒ³å€ŸåŠ© Copilotï¼Œè®©å…¶åŸºäºä¸Šè¿°æ•°æ®æ‰¹é‡ç”Ÿæˆæ‰€æœ‰åšå®¢çš„å¹´åº¦æŠ¥å‘Š <code>blog-summary.json</code>ï¼ˆæ ¼å¼å¦‚ä¸‹ï¼‰ï¼Œè¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"blog"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"leileiluoluo.com"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº†æŠ€æœ¯å¼€å‘ã€ç¤¾ä¼šçƒ­ç‚¹å’Œä¸ªäººç”Ÿæ´»ç­‰å¤šä¸ªé¢†åŸŸã€‚åœ¨æŠ€æœ¯æ–¹é¢ï¼Œæ‚¨æ·±å…¥æ¢è®¨äº†æç¤ºå·¥ç¨‹ã€è§„èŒƒé©±åŠ¨å¼€å‘ã€Spring Boot æ¡†æ¶çš„åº”ç”¨ã€æ•°æ®åº“è¿ç§»ä¸ä¼˜åŒ–ç­‰ä¸»é¢˜ï¼Œå±•ç¤ºäº†å¯¹å‰æ²¿æŠ€æœ¯çš„å…³æ³¨ä¸å®è·µç»éªŒçš„åˆ†äº«ï¼›åŒæ—¶ï¼Œæ‚¨è¿˜ä»‹ç»äº† Markdown ç¼–ç¨‹è¯­è¨€çš„æ½œåŠ›ã€MapStruct å¯¹è±¡æ˜ å°„å·¥å…·çš„ä¼˜åŠ¿ï¼Œä»¥åŠ MCP åœ¨æµè§ˆå™¨è‡ªåŠ¨åŒ–ä¸­çš„åº”ç”¨ç­‰å†…å®¹ï¼Œä½“ç°äº†å¯¹æŠ€æœ¯è¶‹åŠ¿çš„æ•é”æ´å¯Ÿã€‚åœ¨ç¤¾ä¼šçƒ­ç‚¹æ–¹é¢ï¼Œæ‚¨å…³æ³¨äº†å¸æ¯’è®°å½•å°å­˜æ³•æ¡ˆã€å†å²äº‹ä»¶ä»¥åŠç¤¾ä¼šæ¡ˆä»¶ï¼Œè¡¨è¾¾äº†ç‹¬åˆ°çš„è§è§£ã€‚åœ¨ä¸ªäººç”Ÿæ´»æ–¹é¢ï¼Œæ‚¨è®°å½•äº†å¤šæ¬¡æ—…è¡Œä¸å®¶åº­æ´»åŠ¨ï¼Œå±•ç°äº†å¯¹è‡ªç„¶é£å…‰çš„çƒ­çˆ±ä¸å®¶åº­ç”Ÿæ´»çš„æ¸©é¦¨ã€‚è¿™äº›æ–‡ç« å†…å®¹ä¸°å¯Œï¼Œå…¼å…·ä¸“ä¸šæ€§ä¸ç”Ÿæ´»åŒ–ï¼Œä½“ç°äº†å¹¿æ³›çš„å…´è¶£ä¸æ·±åˆ»çš„æ€è€ƒã€‚"</span>
  <span class="hljs-punctuation">}</span>
  <span class="hljs-comment">// ...</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>è¦å®ç°è¿™ä¸ªä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä»ä¸€ä¸ªåšå®¢å¼€å§‹ï¼Œç¼–å†™æç¤ºè¯çœ‹çœ‹æ•ˆæœï¼Œæ²¡é—®é¢˜å†è®© Copilot è¿ç”¨åˆ°æ‰€æœ‰åšå®¢ã€‚</p>
<p>é’ˆå¯¹å•ä¸ªåšå®¢ç”Ÿæˆå¹´åº¦æ€»ç»“çš„æç¤ºè¯å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">ä¸‹é¢æ˜¯ä¸€ä¸ªåšå®¢åœ¨ 2025 å¹´å‘å¸ƒçš„æ‰€æœ‰æ–‡ç« ï¼Œè¯·ä»¥ã€Œæ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº†...ã€å¼€å§‹å†™ä¸€æ®µ 200 å­—ä»¥å†…çš„æ€»ç»“ï¼š

{
  "blog": "leileiluoluo.com",
  "articles": [
    "æç¤ºå·¥ç¨‹éœ€è¦éµå¾ªçš„äº”ä¸ªåŸåˆ™ï¼ˆé™„å®è·µæ¡ˆä¾‹ï¼‰",
    "é—œæ–¼ 2026 å¹´å³å°‡ç”Ÿæ•ˆçš„ã€Œå¸æ¯’è¨˜éŒ„å¯å°å­˜ã€æ³•æ¡ˆ",
    "å¦‚ä½•ä½¿ç”¨ Spec Kit å·¥å…·è¿›è¡Œè§„èŒƒé©±åŠ¨å¼€å‘ï¼Ÿ",
    ...
  ]
}
</code></pre>
<p>å¯ä»¥çœ‹åˆ° Copilot å®Œç¾çš„å®Œæˆäº†ä»»åŠ¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7c8153ec85c466f9cdb82701e3ad843~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=otr5lTGjd381RglJobdoCpqvt0k%3D" alt="ä½¿ç”¨ Copilot ç”Ÿæˆå•ä¸ªåšå®¢çš„å¹´åº¦æ€»ç»“" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°è¯•ç¼–å†™æç¤ºè¯ï¼Œè®© Copilot è¿ç”¨åˆ°æ‰€æœ‰åšå®¢ã€‚</p>
<pre><code class="hljs language-text" lang="text">annual-report æ–‡ä»¶å¤¹ä¸‹çš„ blog-posts.json æ–‡ä»¶åŒ…å«äº†å¤šä¸ªåšå®¢åœ¨ 2025 å¹´çš„æ‰€æœ‰æ–‡ç« æ ‡é¢˜ã€‚

æ‚¨éœ€è¦é’ˆå¯¹æ¯ä¸ªåšå®¢åœ¨è¿™ä¸€å¹´å‘å¸ƒçš„æ‰€æœ‰æ–‡ç« æ ‡é¢˜ï¼Œä»¥ã€Œæ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº†...ã€å¼€å§‹å†™ä¸€æ®µ 200 å­—ä»¥å†…çš„æ€»ç»“ã€‚

æœ€åä»¥ `blog-summary.json` ä¸ºæ–‡ä»¶åï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«æ‰€æœ‰åšå®¢æ€»ç»“çš„ JSON æ•°ç»„ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

[
  {
    "blog": "leileiluoluo.com",
    "summary": "æ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº†æŠ€æœ¯å¼€å‘ã€ç¤¾ä¼šçƒ­ç‚¹å’Œä¸ªäººç”Ÿæ´»ç­‰å¤šä¸ªé¢†åŸŸã€‚åœ¨æŠ€æœ¯æ–¹é¢ï¼Œæ‚¨æ·±å…¥æ¢è®¨äº†æç¤ºå·¥ç¨‹ã€è§„èŒƒé©±åŠ¨å¼€å‘ã€Spring Boot æ¡†æ¶çš„åº”ç”¨ã€æ•°æ®åº“è¿ç§»ä¸ä¼˜åŒ–ç­‰ä¸»é¢˜ï¼Œå±•ç¤ºäº†å¯¹å‰æ²¿æŠ€æœ¯çš„å…³æ³¨ä¸å®è·µç»éªŒçš„åˆ†äº«ï¼›åŒæ—¶ï¼Œæ‚¨è¿˜ä»‹ç»äº† Markdown ç¼–ç¨‹è¯­è¨€çš„æ½œåŠ›ã€MapStruct å¯¹è±¡æ˜ å°„å·¥å…·çš„ä¼˜åŠ¿ï¼Œä»¥åŠ MCP åœ¨æµè§ˆå™¨è‡ªåŠ¨åŒ–ä¸­çš„åº”ç”¨ç­‰å†…å®¹ï¼Œä½“ç°äº†å¯¹æŠ€æœ¯è¶‹åŠ¿çš„æ•é”æ´å¯Ÿã€‚åœ¨ç¤¾ä¼šçƒ­ç‚¹æ–¹é¢ï¼Œæ‚¨å…³æ³¨äº†å¸æ¯’è®°å½•å°å­˜æ³•æ¡ˆã€å†å²äº‹ä»¶ä»¥åŠç¤¾ä¼šæ¡ˆä»¶ï¼Œè¡¨è¾¾äº†ç‹¬åˆ°çš„è§è§£ã€‚åœ¨ä¸ªäººç”Ÿæ´»æ–¹é¢ï¼Œæ‚¨è®°å½•äº†å¤šæ¬¡æ—…è¡Œä¸å®¶åº­æ´»åŠ¨ï¼Œå±•ç°äº†å¯¹è‡ªç„¶é£å…‰çš„çƒ­çˆ±ä¸å®¶åº­ç”Ÿæ´»çš„æ¸©é¦¨ã€‚è¿™äº›æ–‡ç« å†…å®¹ä¸°å¯Œï¼Œå…¼å…·ä¸“ä¸šæ€§ä¸ç”Ÿæ´»åŒ–ï¼Œä½“ç°äº†å¹¿æ³›çš„å…´è¶£ä¸æ·±åˆ»çš„æ€è€ƒã€‚"
  }
  // ...
]
</code></pre>
<p>ä¸Šè¿°æç¤ºè¯å‘å‡ºåï¼ŒCopilot å¼€å§‹ç¼–å†™ Python è„šæœ¬ï¼Œè¯•å›¾ç”¨ç¨‹åºçš„æ–¹å¼å»å®ç°è¿™ä¸ªæ‰¹é‡ä»»åŠ¡ã€‚</p>
<p>ä½†æ˜¯ç»“æœå¾ˆä¸ç†æƒ³ï¼Œå…¶ç”Ÿæˆçš„æ€»ç»“éå¸¸çš„å•è–„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c880d074a8e4747871511dc00b293bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=H25NlgH8CWdbvWkzKXoYYsTLq%2BU%3D" alt="ä½¿ç”¨ Copilot æ‰¹é‡ç”Ÿæˆåšå®¢çš„å¹´åº¦æ€»ç»“" loading="lazy"/></p>
<p>ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸º Copilot æ ¹æœ¬æ²¡æœ‰è°ƒç”¨å¤§æ¨¡å‹å»ç”Ÿæˆæ€»ç»“ï¼Œè€Œæ˜¯åœ¨ç¨‹åºä¸­å†™äº†ä¸€ç»„å…³é”®è¯ï¼Œåªè¦æ–‡ç« æ ‡é¢˜åŒ¹é…äº†æŸäº›å…³é”®è¯å°±å›ºå®šè¾“å‡ºä¸€ä¸ªåˆ†ç±»ï¼Œç”Ÿæˆçš„æ€»ç»“æ­»æ¿ï¼Œæ²¡æœ‰æ´»åŠ›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a4a3b41336e49f9b67181ae724ddbad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=bmH%2FVRMnY%2Ffw%2BS9DQ8Uo5uxNm9Q%3D" alt="ä½¿ç”¨ Copilot æ‰¹é‡ç”Ÿæˆåšå®¢çš„å¹´åº¦æ€»ç»“ä¹‹ä½¿ç”¨çš„è„šæœ¬" loading="lazy"/></p>
<p>çœ‹åˆ°è¿™é‡Œï¼Œæ‚¨ä¸ç¦è¦é—®ï¼šCopilot ä¸çŸ¥é“æˆ‘ä»¬æƒ³è¦çš„æ€»ç»“æ˜¯ç”¨å¤§æ¨¡å‹ç”Ÿæˆå—ï¼Ÿè¿˜æ˜¯æœ‰å“ªäº›éš¾è¨€ä¹‹éšï¼Ÿ</p>
<p>ä¸‹é¢æˆ‘ä»¬å°è¯•ä½¿ç”¨æç¤ºè¯å¼ºåˆ¶è®©å…¶ä½¿ç”¨å¤§æ¨¡å‹æ¥ç”Ÿæˆæ€»ç»“ã€‚</p>
<p>æç¤ºè¯å‘å‡ºåï¼ŒCopilot ä¿®æ”¹åŸå…ˆçš„ Python è„šæœ¬ï¼Œæ”¹ä¸ºè°ƒç”¨ OpenAI æ¥ç”Ÿæˆæ€»ç»“ã€‚ä½†æ˜¯è¦ä½¿ç”¨è¿™ä¸ªç¨‹åºæˆ‘ä»¬éœ€è¦æœ‰ OpenAI è´¦å·ï¼Œå³å¿…é¡»æä¾›ä¸€ä¸ª <code>OPENAI_API_KEY</code> ç»™ Copilotã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dbf542e747949969d9332d257d8066f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=%2FxTz01F3tAF3LqkpOO3ccUgtPl4%3D" alt="ä½¿ç”¨ Copilot æ‰¹é‡ç”Ÿæˆåšå®¢çš„å¹´åº¦æ€»ç»“ä¹‹ä½¿ç”¨çš„ OpenAI" loading="lazy"/></p>
<p>çœ‹åˆ°è¿™é‡Œæ‚¨å¯èƒ½è·Ÿæˆ‘ä¸€æ ·æœ‰ä¸€äº›è¿·æƒ‘ï¼Œä½  Copilot Chat ä¸­æ”¯æŒçš„é‚£ä¹ˆå¤šæ¨¡å‹ç›´æ¥æ‹¿æ¥ç”¨ä¸å°±è¡Œäº†å—ï¼Ÿè¿˜è®©æˆ‘ä¸“é—¨å¼€é€šä¸€ä¸ªå¤§æ¨¡å‹è´¦å·ï¼Ÿæˆ–è€…ï¼Œä½ ç”¨ç¬¨ä¸€ç‚¹çš„åŠæ³•ï¼Œåƒè·å–å•ä¸ªåšå®¢çš„æ€»ç»“ä¸€æ ·ï¼Œè‡ªå·±è‡ªåŠ¨ç»„è£…æç¤ºè¯å‘ç»™ Chatï¼Œç„¶åå–å›ç»“æœï¼›ç„¶åå†å‘å‡ºï¼Œå†å–å›ã€‚å¸®æˆ‘å®Œæˆä»»åŠ¡ï¼Œä¸è¡Œå—ï¼Ÿ</p>
<p>å…¶å®ï¼Œè¿™ä¸ªé—®é¢˜æ°å¥½è§¦ç¢°åˆ°äº† Copilot çš„éš¾è¨€ä¹‹éšã€‚å› ä¸º Copilot çš„ç¡®æ²¡æœ‰å°†å¯ä½¿ç”¨çš„æ¨¡å‹ç”¨ REST API çš„æ–¹å¼æš´éœ²å‡ºæ¥ï¼Œæ‰€ä»¥å®ƒç¼–å†™çš„è„šæœ¬æƒ³ä½¿ç”¨æ¨¡å‹æ—¶ï¼Œå¿…é¡»è®©æˆ‘ä»¬æä¾›ä¸€ä¸ªé¢å¤–æ¨¡å‹çš„ <code>API_KEY</code>ã€‚</p>
<p>è¿™å°±æ˜¯æˆ‘ä¸ºä»€ä¹ˆè¦å†™æœ¬æ–‡çš„ç¼˜ç”±ã€‚æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ª VS Code æ‰©å±•ï¼Œæ¥å°† Copilot ä¸­æ¨¡å‹çš„èƒ½åŠ›é€šè¿‡ REST API é‡Šæ”¾å‡ºæ¥ï¼Œä¾›ç¨‹åºå»ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">2 ç¼–å†™è¿™ä¸ª VS Code æ‰©å±•</h2>
<p>ä¸‹é¢ç€æ‰‹ç¼–å†™è¿™ä¸ªã€Œå°† Copilot å¤§æ¨¡å‹æš´éœ²ä¸º REST APIã€çš„ VS Code æ‰©å±•ã€‚</p>
<p>å¼€å§‹å‰ï¼Œéœ€è¦ä¿è¯æœ¬åœ°å·²å®‰è£… <code>Node.js</code>ã€‚</p>
<h3 data-id="heading-2">2.1 å‡†å¤‡å·¥ä½œ</h3>
<p>ä¸‹é¢å®‰è£… <code>yo</code> å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ç”¨äºç”Ÿæˆ VC Code æ‰©å±•å·¥ç¨‹çš„è„šæ‰‹æ¶ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">npm install --global yo generator-code
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œå°† npm çš„å…¨å±€ <code>bin</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œæ–¹ä¾¿ç›´æ¥ä½¿ç”¨å®‰è£…çš„å‘½ä»¤ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">echo 'export PATH="$(npm config get prefix)/bin:$PATH"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
<p>ä¸‹é¢ä½¿ç”¨ <code>yo code</code> å‘½ä»¤ç”Ÿæˆ VS Code æ‰©å±•å·¥ç¨‹ <code>copilot-models-rest-api</code> çš„è„šæ‰‹æ¶ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">yo code
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1f72824cb1044c894bfff1bcd13c8b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=pqQ02bnbElAtwgooMMcGKxOLIMk%3D" alt="ç”Ÿæˆ VS Code æ‰©å±•å·¥ç¨‹è„šæ‰‹æ¶" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆçš„å·¥ç¨‹ä¸ºä¸€ä¸ªæ ‡å‡†çš„ TypeScript å·¥ç¨‹ï¼Œå…¶è°ƒç”¨å…¥å£ä¸º <code>src/extension.ts</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b474f7e4a01455bb33a3696dec933f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=f98yJwzqmzsnBP71nXevAtqo4S8%3D" alt="ç”Ÿæˆçš„ VS Code æ‰©å±•å·¥ç¨‹è„šæ‰‹æ¶" loading="lazy"/></p>
<h3 data-id="heading-3">2.2 ç¼–å†™æ ¸å¿ƒé€»è¾‘</h3>
<p>æ¥ä¸‹æ¥åœ¨è„šæ‰‹æ¶å·¥ç¨‹ <code>copilot-models-rest-api</code> çš„ <code>src</code> ç›®å½•ä¸‹ç¼–å†™æ ¸å¿ƒé€»è¾‘ã€‚</p>
<h4 data-id="heading-4">aï¼‰LanguageModelService.ts</h4>
<p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ª <code>LanguageModelService.ts</code> æ–‡ä»¶ï¼Œç”¨äºé€šè¿‡ VS Code å†…ç½®çš„ API è·å–åˆ° Copilot çš„å¯ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼Œç„¶åå°è£…å‡ºä¸‰ä¸ªæ–¹æ³•ä¾›åˆ«çš„ <code>ts</code> æ–‡ä»¶è°ƒç”¨ï¼š</p>
<ul>
<li>
<p><code>getAvailableModels()</code></p>
<p>è·å– Copilot æ”¯æŒçš„æ‰€æœ‰å¤§æ¨¡å‹åç§°ï¼›</p>
</li>
<li>
<p><code>getModelById()</code></p>
<p>æ ¹æ®å¤§æ¨¡å‹åç§°è·å–ç‰¹å®šå¤§æ¨¡å‹å¯¹è±¡ï¼›</p>
</li>
<li>
<p><code>createChatCompletion()</code></p>
<p>æŒ‡å®šæƒ³ç”¨çš„å¤§æ¨¡å‹ï¼Œç„¶åä¼ å…¥ä¸€æ®µæ–‡æœ¬ï¼Œå¹¶è¯·æ±‚å¤§æ¨¡å‹è¿”å›ç»“æœã€‚</p>
</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> vscode <span class="hljs-keyword">from</span> <span class="hljs-string">"vscode"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatRequest</span>, <span class="hljs-title class_">ChatResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LanguageModelChat</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"vscode"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LanguageModelService</span> {
  <span class="hljs-comment">// ...</span>

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAvailableModels</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> models = <span class="hljs-keyword">await</span> vscode.<span class="hljs-property">lm</span>.<span class="hljs-title function_">selectChatModels</span>({
        <span class="hljs-attr">vendor</span>: <span class="hljs-string">"copilot"</span>,
      });

      <span class="hljs-keyword">if</span> (models.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"No Copilot models available"</span>);
        <span class="hljs-keyword">return</span> [];
      }

      <span class="hljs-keyword">return</span> models.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">model</span>) =&gt;</span> model.<span class="hljs-property">id</span>);
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error fetching models:"</span>, error);
      <span class="hljs-keyword">return</span> [];
    }
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getModelById</span>(
    modelId?: <span class="hljs-built_in">string</span>
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">LanguageModelChat</span> | <span class="hljs-literal">null</span>&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> models = <span class="hljs-keyword">await</span> vscode.<span class="hljs-property">lm</span>.<span class="hljs-title function_">selectChatModels</span>({
        <span class="hljs-attr">vendor</span>: <span class="hljs-string">"copilot"</span>,
      });
      <span class="hljs-comment">// ...</span>

      <span class="hljs-keyword">const</span> model = models.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">m</span>) =&gt;</span> m.<span class="hljs-property">id</span> === modelId);
      <span class="hljs-keyword">return</span> model || <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error fetching model by ID:"</span>, error);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">createChatCompletion</span>(<span class="hljs-attr">req</span>: <span class="hljs-title class_">ChatRequest</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ChatResponse</span>&gt; {
    <span class="hljs-keyword">const</span> model = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getModelById</span>(req.<span class="hljs-property">model</span>);
    <span class="hljs-comment">// ...</span>

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> messagePayload = req.<span class="hljs-property">messages</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span>
        vscode.<span class="hljs-property">LanguageModelChatMessage</span>.<span class="hljs-title class_">User</span>(msg)
      );
      <span class="hljs-keyword">const</span> resp = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">sendRequest</span>(
        messagePayload,
        {},
        <span class="hljs-keyword">new</span> vscode.<span class="hljs-title class_">CancellationTokenSource</span>().<span class="hljs-property">token</span>
      );

      <span class="hljs-keyword">let</span> <span class="hljs-attr">fullText</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;
      <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> resp.<span class="hljs-property">text</span>) {
        fullText += chunk;
      }
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">reply</span>: fullText, <span class="hljs-attr">model</span>: model.<span class="hljs-property">id</span> };
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error creating chat completion:"</span>, error);
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">error</span>: <span class="hljs-string">"Error creating chat completion: "</span> + error.<span class="hljs-property">message</span> };
    }
  }
}
</code></pre>
<h4 data-id="heading-5">bï¼‰ApiServer.ts</h4>
<p>æ¥ä¸‹æ¥ï¼Œä½¿ç”¨ <code>ApiServer.ts</code> åŒ…è£…ä¸Šè¿° <code>LanguageModelService</code>ï¼Œä»¥ RESTful API æ–¹å¼æš´éœ²ç”¨æˆ·ä¸å¤§æ¨¡å‹äº¤äº’çš„èƒ½åŠ›ã€‚</p>
<p><code>ApiServer.ts</code> çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>ApiServer.ts</code> ä¸»è¦è´Ÿè´£æ¥æ”¶è¯·æ±‚å¹¶è¿”å›å“åº”ã€‚å…¶æä¾›äº†ä¸€ä¸ª <code>POST /v1/chat/completions</code> API æ¥æ¥æ”¶ç”¨æˆ·è¾“å…¥ä¿¡æ¯ï¼Œå¹¶è°ƒç”¨ <code>LanguageModelService</code> çš„ <code>createChatCompletion()</code> çš„æ–¹æ³•æ¥ç»™å‡ºå›ç­”ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> http <span class="hljs-keyword">from</span> <span class="hljs-string">"http"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> url <span class="hljs-keyword">from</span> <span class="hljs-string">"url"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LanguageModelService</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./languageModelService"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChatRequest</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiServer</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">server</span>: http.<span class="hljs-property">Server</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">port</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">languageModelService</span>: <span class="hljs-title class_">LanguageModelService</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">port: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">port</span> = port;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">languageModelService</span> = <span class="hljs-title class_">LanguageModelService</span>.<span class="hljs-title function_">getInstance</span>();
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleRequest</span>(
    <span class="hljs-attr">req</span>: http.<span class="hljs-property">IncomingMessage</span>,
    <span class="hljs-attr">res</span>: http.<span class="hljs-property">ServerResponse</span>
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">const</span> parsedUrl = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span> || <span class="hljs-string">""</span>, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> path = parsedUrl.<span class="hljs-property">pathname</span> || <span class="hljs-string">""</span>;

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">"POST"</span>) {
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handlePostRequest</span>(path, req, res);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">405</span>, { <span class="hljs-attr">error</span>: <span class="hljs-string">"Method Not Allowed"</span> });
      }
    } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"request failed"</span>, error);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">500</span>, { <span class="hljs-attr">error</span>: <span class="hljs-string">"Internal Server Error"</span> });
    }
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">handlePostRequest</span>(
    <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">req</span>: http.<span class="hljs-property">IncomingMessage</span>,
    <span class="hljs-attr">res</span>: http.<span class="hljs-property">ServerResponse</span>
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">if</span> (path === <span class="hljs-string">"/v1/chat/completions"</span>) {
      <span class="hljs-keyword">const</span> body = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">readRequestBody</span>(req);
      <span class="hljs-keyword">const</span> <span class="hljs-attr">chatRequest</span>: <span class="hljs-title class_">ChatRequest</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body);
      <span class="hljs-keyword">const</span> chatResponse = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">languageModelService</span>.<span class="hljs-title function_">createChatCompletion</span>(
        chatRequest
      );
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">200</span>, chatResponse);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">404</span>, { <span class="hljs-attr">error</span>: <span class="hljs-string">"Not Found"</span> });
    }
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">start</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">server</span> = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Received request: <span class="hljs-subst">${req.method}</span> <span class="hljs-subst">${req.url}</span>`</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleRequest</span>(req, res);
    });
    <span class="hljs-comment">// ...</span>
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">stop</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<h4 data-id="heading-6">cï¼‰extension.ts</h4>
<p>æœ€åï¼Œä¿®æ”¹ VS Code æ‰©å±•çš„å…¥å£æ–‡ä»¶ <code>extension.ts</code>ï¼Œå°† <code>ApiServer</code> çš„å¯åŠ¨å’Œåœæ­¢å‘½ä»¤æ³¨å†Œåˆ° VS Codeã€‚</p>
<p><code>extension.ts</code> çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> vscode <span class="hljs-keyword">from</span> <span class="hljs-string">"vscode"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ApiServer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./apiServer"</span>;

<span class="hljs-keyword">let</span> <span class="hljs-attr">apiServer</span>: <span class="hljs-title class_">ApiServer</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">activate</span>(<span class="hljs-params">context: vscode.ExtensionContext</span>) {
  <span class="hljs-comment">// start API server command</span>
  vscode.<span class="hljs-property">commands</span>.<span class="hljs-title function_">registerCommand</span>(
    <span class="hljs-string">"copilot-models-rest-api.startServer"</span>,
    <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> port = <span class="hljs-number">3001</span>; <span class="hljs-comment">// You can change the port number if needed</span>
      apiServer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiServer</span>(port);

      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> apiServer.<span class="hljs-title function_">start</span>();
        vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showInformationMessage</span>(
          <span class="hljs-string">`API Server started on port <span class="hljs-subst">${port}</span>`</span>
        );
      } <span class="hljs-keyword">catch</span> (error) {
        vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showErrorMessage</span>(<span class="hljs-string">"Failed to start API Server"</span>);
      }
    }
  );

  <span class="hljs-comment">// stop API server command</span>
  vscode.<span class="hljs-property">commands</span>.<span class="hljs-title function_">registerCommand</span>(
    <span class="hljs-string">"copilot-models-rest-api.stopServer"</span>,
    <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">if</span> (apiServer) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">await</span> apiServer.<span class="hljs-title function_">stop</span>();
          vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showInformationMessage</span>(<span class="hljs-string">"API Server stopped"</span>);
        } <span class="hljs-keyword">catch</span> (error) {
          vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showErrorMessage</span>(<span class="hljs-string">"Failed to stop API Server"</span>);
        }
      } <span class="hljs-keyword">else</span> {
        vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showWarningMessage</span>(<span class="hljs-string">"API Server is not running"</span>);
      }
    }
  );
}

<span class="hljs-comment">// This method is called when your extension is deactivated</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">deactivate</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (apiServer) {
    apiServer.<span class="hljs-title function_">stop</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error stopping API Server:"</span>, error);
    });
  }
}
</code></pre>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬æƒ³è¦çš„æ‰©å±•çš„æºç éƒ¨åˆ†å°±åŸºæœ¬å®ç°å®Œæˆäº†ã€‚</p>
<h3 data-id="heading-7">2.3 ç”Ÿæˆ vsix æ–‡ä»¶</h3>
<p>æœ€åï¼Œä½¿ç”¨å¦‚ä¸‹ npm å‘½ä»¤å®‰è£…ä¾èµ–å’Œæ‰“åŒ…ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">npm install
npm run package
</code></pre>
<p>ä½¿ç”¨å¦‚ä¸‹ npm å‘½ä»¤å®‰è£… <code>vsce</code> å‘½ä»¤ï¼Œå¹¶ä½¿ç”¨ <code>vsce</code> å‘½ä»¤æ¥å°†å·¥ç¨‹æ‰“åŒ…ä¸ºä¸€ä¸ª <code>.vsix</code> æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">npm install -g @vscode/vsce

vsce package
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ab79186e43c46cf82b18d07c6966e4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=32Gj5qa0ANovaCJzNJKj3JbGZVU%3D" alt="ç”Ÿæˆ vsix æ–‡ä»¶" loading="lazy"/></p>
<p>è¿™æ ·ï¼Œæœ‰éœ€è¦çš„æœ‹å‹å°±å¯ä»¥åœ¨ VS Code å®‰è£…è¿™ä¸ªæ‰©å±•ï¼Œç„¶åä½¿ç”¨æˆ‘ä»¬åŒ…è£…å¥½çš„ API äº†ã€‚</p>
<h2 data-id="heading-8">3 ä½¿ç”¨è¿™ä¸ª VS Code æ‰©å±•</h2>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬åœ¨ VS Code å®‰è£…ä¸Šé¢ç”Ÿæˆçš„ <code>vsix</code> æ‰©å±•ï¼Œç„¶åå°è¯•é‡æ–°ç¼–å†™æç¤ºè¯ï¼Œçœ‹çœ‹å…¶èƒ½å¦å®ç°æ–‡ç« å¼€å¤´çš„ã€Œæ‰¹é‡ç”Ÿæˆåšå®¢å¹´åº¦æ€»ç»“ã€çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-9">3.1 å®‰è£…æ‰©å±•</h3>
<p>é¦–å…ˆï¼Œç‚¹å‡» VS Code å·¦ä¾§çš„ Extensions Tabï¼Œç„¶åç‚¹å‡» Install from VSIXï¼Œé€‰æ‹©ä¸Šè¿° <code>.vsix</code> æ–‡ä»¶æ‰€åœ¨ä½ç½®ï¼Œå³å¯å®‰è£…æˆåŠŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5be817688ff485a938aca1ad39a7eb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=%2Fu5VmnI0IOc%2B0CYUfNpr1xpLJ18%3D" alt="é€‰æ‹© vsix æ–‡ä»¶ï¼Œå®‰è£…æ‰©å±•" loading="lazy"/></p>
<p>æ‰©å±•å®‰è£…æˆåŠŸåï¼Œåœ¨ VS Code é”®å…¥ã€ŒCtrl + Shift + Pã€åï¼Œç‚¹å‡»ã€ŒStart Copilot Models REST API Serverã€å‘½ä»¤ï¼Œå³å¯å¯åŠ¨ API Serverã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c891d37894a41028eb4dc43dcc5bee9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=spil93jPv%2BIvnpZXzAsyGoaFrFk%3D" alt="è¿è¡Œæ‰©å±•" loading="lazy"/></p>
<p>Server å¯åŠ¨æˆåŠŸåï¼Œå°è¯•ç”¨ Postman è°ƒç”¨ä¸€ä¸‹å’Œæ¨¡å‹å¯¹è¯çš„ APIï¼Œå’¨è¯¢æ¨¡å‹çš„ç»“æœè¢«æˆåŠŸè¿”å›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c47c7924e99b4fac9258ac3e5a460753~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=Dh3GqphAKeHurv%2BvOTRfZ9X4fS8%3D" alt="è¿è¡Œæ‰©å±•" loading="lazy"/></p>
<h3 data-id="heading-10">3.2 ä½¿ç”¨æ‰©å±•</h3>
<p>æœ€åï¼Œå°è¯•å°†æ–‡ç« å¼€å¤´ã€Œæ‰¹é‡ç”Ÿæˆåšå®¢å¹´åº¦æ€»ç»“ã€çš„æç¤ºè¯ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">annual-report æ–‡ä»¶å¤¹ä¸‹çš„ blog-posts.json æ–‡ä»¶åŒ…å«äº†å¤šä¸ªåšå®¢åœ¨ 2025 å¹´çš„æ‰€æœ‰æ–‡ç« æ ‡é¢˜ã€‚

æ‚¨éœ€è¦é’ˆå¯¹æ¯ä¸ªåšå®¢åœ¨è¿™ä¸€å¹´å‘å¸ƒçš„æ‰€æœ‰æ–‡ç« æ ‡é¢˜ï¼Œè°ƒç”¨å¦‚ä¸‹æ¨¡å‹å¯¹è¯ API æ¥ç”Ÿæˆä¸€æ®µ 200 å­—ä»¥å†…çš„æ€»ç»“ã€‚

API åœ°å€ï¼šhttp://localhost:3001/v1/chat/completions

è°ƒç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š

<span class="hljs-code">```text
POST http://localhost:3001/v1/chat/completions

Request Body:

{
    "model": "gpt-4.1",
    "messages": [
        "å¦‚ä¸‹æ˜¯ä¸€ä¸ªåšå®¢äº 2025 å¹´å‘å¸ƒçš„æ‰€æœ‰æ–‡ç« æ ‡é¢˜ï¼Œè¯·åŸºäºæ­¤ç”Ÿæˆä¸€ä¸ª 200 å­—çš„æ€»ç»“ã€‚æ€»ç»“ä»¥ã€Œæ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº†...ã€å¼€å§‹ï¼Œæ ¼å¼ä¸ºçº¯æ–‡æœ¬æ ¼å¼ï¼Œè‹¥æœ‰è‹±æ–‡æˆ–æ•°å­—å­—ç¬¦ï¼Œå‰åè¯·ä½¿ç”¨ç©ºæ ¼éš”å¼€ã€‚",

        "æç¤ºå·¥ç¨‹éœ€è¦éµå¾ªçš„äº”ä¸ªåŸåˆ™ï¼ˆé™„å®è·µæ¡ˆä¾‹ï¼‰",
        "é—œæ–¼ 2026 å¹´å³å°‡ç”Ÿæ•ˆçš„ã€Œå¸æ¯’è¨˜éŒ„å¯å°å­˜ã€æ³•æ¡ˆ",
        "å¦‚ä½•ä½¿ç”¨ Spec Kit å·¥å…·è¿›è¡Œè§„èŒƒé©±åŠ¨å¼€å‘ï¼Ÿ",
        "Markdown å°†æˆä¸º AI æ—¶ä»£çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Ÿ"
    ]
}

Response Body:

{
    "reply": "æ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº† 2025 å¹´æŠ€æœ¯è¶‹åŠ¿ã€å¼€å‘å®è·µã€æ³•å¾‹æ”¿ç­–ã€æ—…è¡Œè§é—»åŠç¤¾ä¼šè§‚å¯Ÿç­‰å¤šä¸ªé¢†åŸŸã€‚æŠ€æœ¯ç±»å†…å®¹åŒ…æ‹¬ MCPã€ Spring Boot ã€ Spring Data ã€ MapStruct ã€ P6Spy ã€ Playwright MCP ã€ FastMCP ã€ Spec Kit ã€ Alibaba DataX ç­‰å·¥å…·å’Œæ¡†æ¶çš„å®ç”¨æ•™ç¨‹ï¼Œæ¶‰åŠæ•°æ®åº“æ“ä½œã€å¯¹è±¡æ˜ å°„ã€äº‹ä»¶è§£è€¦ã€æœåŠ¡å·¥å‚è®¾è®¡ã€æ•°æ®è¿ç§»åŠæµè§ˆå™¨è‡ªåŠ¨åŒ–ç­‰ä¸»é¢˜ï¼Œå¹¶æ¢è®¨äº† Markdown åœ¨ AI æ—¶ä»£çš„åœ°ä½ã€‚æ”¿ç­–ä¸ç¤¾ä¼šç±»æ–‡ç« å…³æ³¨ã€Œå¸æ¯’è®°å½•å¯å°å­˜ã€æ³•æ¡ˆã€å†å²äº‹ä»¶åŠç¤¾ä¼šçƒ­ç‚¹ã€‚ç”Ÿæ´»ç±»å†…å®¹åˆ™è®°å½•äº† 2025 å¹´çš„å‡æœŸæ€»ç»“åŠå¤šåœ°æ—…è¡Œä½“éªŒï¼Œå±•ç°äº†ä¸°å¯Œå¤šå…ƒçš„ä¸ªäººè§†è§’ã€‚",
    "model": "gpt-4.1"
}
```</span>

æœ€åä»¥ <span class="hljs-code">`blog-summary.json`</span> ä¸ºæ–‡ä»¶åï¼Œè¾“å‡ºä¸€ä¸ªåŒ…å«æ‰€æœ‰åšå®¢æ€»ç»“çš„ JSON æ•°ç»„ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

<span class="hljs-code">```json
[
  {
    "blog": "leileiluoluo.com",
    "summary": "æ‚¨çš„åšå®¢æ–‡ç« æ¶µç›–äº†æŠ€æœ¯å¼€å‘ã€ç¤¾ä¼šçƒ­ç‚¹å’Œä¸ªäººç”Ÿæ´»ç­‰å¤šä¸ªé¢†åŸŸã€‚åœ¨æŠ€æœ¯æ–¹é¢ï¼Œæ‚¨æ·±å…¥æ¢è®¨äº†æç¤ºå·¥ç¨‹ã€è§„èŒƒé©±åŠ¨å¼€å‘ã€Spring Boot æ¡†æ¶çš„åº”ç”¨ã€æ•°æ®åº“è¿ç§»ä¸ä¼˜åŒ–ç­‰ä¸»é¢˜ï¼Œå±•ç¤ºäº†å¯¹å‰æ²¿æŠ€æœ¯çš„å…³æ³¨ä¸å®è·µç»éªŒçš„åˆ†äº«ï¼›åŒæ—¶ï¼Œæ‚¨è¿˜ä»‹ç»äº† Markdown ç¼–ç¨‹è¯­è¨€çš„æ½œåŠ›ã€MapStruct å¯¹è±¡æ˜ å°„å·¥å…·çš„ä¼˜åŠ¿ï¼Œä»¥åŠ MCP åœ¨æµè§ˆå™¨è‡ªåŠ¨åŒ–ä¸­çš„åº”ç”¨ç­‰å†…å®¹ï¼Œä½“ç°äº†å¯¹æŠ€æœ¯è¶‹åŠ¿çš„æ•é”æ´å¯Ÿã€‚åœ¨ç¤¾ä¼šçƒ­ç‚¹æ–¹é¢ï¼Œæ‚¨å…³æ³¨äº†å¸æ¯’è®°å½•å°å­˜æ³•æ¡ˆã€å†å²äº‹ä»¶ä»¥åŠç¤¾ä¼šæ¡ˆä»¶ï¼Œè¡¨è¾¾äº†ç‹¬åˆ°çš„è§è§£ã€‚åœ¨ä¸ªäººç”Ÿæ´»æ–¹é¢ï¼Œæ‚¨è®°å½•äº†å¤šæ¬¡æ—…è¡Œä¸å®¶åº­æ´»åŠ¨ï¼Œå±•ç°äº†å¯¹è‡ªç„¶é£å…‰çš„çƒ­çˆ±ä¸å®¶åº­ç”Ÿæ´»çš„æ¸©é¦¨ã€‚è¿™äº›æ–‡ç« å†…å®¹ä¸°å¯Œï¼Œå…¼å…·ä¸“ä¸šæ€§ä¸ç”Ÿæ´»åŒ–ï¼Œä½“ç°äº†å¹¿æ³›çš„å…´è¶£ä¸æ·±åˆ»çš„æ€è€ƒã€‚"
  }
  // ...
]
```</span>
</code></pre>
<p>æœ€åï¼ŒCopilot ç”Ÿæˆçš„ä»£ç ä½¿ç”¨äº†æˆ‘ä»¬æä¾›çš„ APIï¼Œå¹¶æœ€ç»ˆç”Ÿæˆäº†ç¬¦åˆé¢„æœŸçš„å†…å®¹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08d6d1dc02c7422283a15bd65ebc2bb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56OK56OK6JC96JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766098188&amp;x-signature=CI3QTJlkLdr4ixZf%2BJRtl1g8PfE%3D" alt="ç”Ÿæˆäº†ç¬¦åˆé¢„æœŸçš„ç»“æœ" loading="lazy"/></p>
<h2 data-id="heading-11">4 å°ç»“</h2>
<p>ç»¼ä¸Šï¼Œæœ¬æ–‡ä»¥å®é™…ä½¿ç”¨ Copilotã€Œæ‰¹é‡ç”Ÿæˆåšå®¢å¹´åº¦æ€»ç»“ã€æ—¶ï¼ŒCopilot å› æ²¡æœ‰ç›´æ¥å¯ç”¨çš„æ¨¡å‹ API è°ƒç”¨è€Œæœªèƒ½æŒ‰é¢„æœŸå®Œæˆä»»åŠ¡ä¸ºç”±ï¼Œæå‡ºäº†ç¼–å†™ VS Code æ‰©å±•æš´éœ² Copilot è‡ªèº«å¯ç”¨æ¨¡å‹çš„æƒ³æ³•ã€‚</p>
<p>ç»è¿‡å®è·µï¼Œå‘ç°é€šè¿‡ç¼–å†™ VS Code æ’ä»¶ï¼Œå¯ä»¥æˆåŠŸè·å–åˆ° Copilot çš„å¯ç”¨æ¨¡å‹ï¼Œå¹¶æˆåŠŸä¸æ¨¡å‹å®ç°å¯¹è¯ï¼Œä»è€Œå°† Copilot å¯ç”¨æ¨¡å‹æš´éœ²ä¸º REST API å˜ä¸ºäº†ç°å®ã€‚</p>
<p>æœ¬æ–‡å®Œæ•´ VS Code æ‰©å±•å·¥ç¨‹å·²æäº¤è‡³ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fleileiluoluo%2Fdaily-exercises%2Ftree%2Fmain%2Fcopilot-models-rest-api" target="_blank" title="https://github.com/leileiluoluo/daily-exercises/tree/main/copilot-models-rest-api" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œæ¬¢è¿å…³æ³¨ã€Forkï¼Œæˆ–è·å–æ‰©å±•æ–‡ä»¶æ¥ä½¿ç”¨ã€‚</p>
<blockquote>
<p>å‚è€ƒèµ„æ–™</p>
<p>[1] Visual Studio Code Extension API: Your First Extension - <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2Fapi%2Fget-started%2Fyour-first-extension" target="_blank" title="https://code.visualstudio.com/api/get-started/your-first-extension" ref="nofollow noopener noreferrer">code.visualstudio.com/api/get-staâ€¦</a></p>
<p>[2] Visual Studio Code Extension API: Language Model API - <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2Fapi%2Fextension-guides%2Fai%2Flanguage-model" target="_blank" title="https://code.visualstudio.com/api/extension-guides/ai/language-model" ref="nofollow noopener noreferrer">code.visualstudio.com/api/extensiâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser]]></title>    <link>https://juejin.cn/post/7582479325283729471</link>    <guid>https://juejin.cn/post/7582479325283729471</guid>    <pubDate>2025-12-11T17:24:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582479325283729471" data-draft-id="7582422766731067435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T17:24:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼ æ‹­å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/571401775094312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/571401775094312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼ æ‹­å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T17:24:19.000Z" title="Thu Dec 11 2025 17:24:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‡Œæ™¨ 1 ç‚¹ï¼Œæˆ‘æ­£è¦å…³ç”µè„‘ç¡è§‰ï¼Œå±å¹•å·¦ä¸‹è§’çªç„¶å¼¹å‡ºä¸€ä¸ªå¼¹çª—ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b454446dd6c3443595b7e46bfc08c65a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=hJsQOVveWYIiPbrcfck5rKXtnC4%3D" alt="cursor åŠŸèƒ½æ›´æ–°.jpg" loading="lazy"/></p>
<p>Cursor åˆä¸Šæ–°åŠŸèƒ½äº†ï¼Ÿå¸¦ç€å¥½å¥‡æˆ‘ä»”ç»†çœ‹äº†ä¸‹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fagent%2Fbrowser%23browser" target="_blank" title="https://cursor.com/cn/docs/agent/browser#browser" ref="nofollow noopener noreferrer">cursor.com/cn/docs/ageâ€¦</a></p>
<p>æˆ‘å»ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆé‡ç£…å•Šï¼</p>
<p>è¿™æ¬¡æ›´æ–°çš„ Visual Editor for Cursor Browser æ˜¯ä¸€ä¸ªæ‰“ç ´â€œè®¾è®¡â€ä¸â€œç¼–ç â€è¾¹ç•Œçš„é‡ç£…åŠŸèƒ½ï¼Œå®ƒè®© Cursor ä¸ä»…ä»…æ˜¯ç¼–è¾‘å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ªâ€œèƒ½ç›´æ¥å†™ä»£ç çš„æµè§ˆå™¨â€ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒä»·å€¼</h2>
<p>å®ƒè§£å†³äº†å‰ç«¯å¼€å‘ä¸­æœ€å¤§çš„ç—›ç‚¹â€”â€”â€œåœ¨æµè§ˆå™¨é‡Œè°ƒå¥½äº†æ ·å¼ï¼Œè¿˜å¾—æ‰‹åŠ¨å›ä»£ç é‡Œæ”¹â€ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åƒåœ¨ Figma æˆ– Webflow é‡Œä¸€æ ·ç›´æ¥æ‹–æ‹½ã€ç‚¹å‡»ã€è°ƒæ•´ UIï¼Œç„¶åç‚¹å‡» "Apply"ï¼ŒCursor çš„ Agent å°±ä¼šè‡ªåŠ¨æŠŠè¿™äº›è§†è§‰å˜æ›´ç¿»è¯‘æˆå®Œç¾çš„ä»£ç å¹¶å†™å…¥ä½ çš„é¡¹ç›®ï¼Œå®ç°äº†çœŸæ­£çš„â€œæ‰€è§å³æ‰€å¾—ï¼ˆDesign to Codeï¼‰â€ã€‚</p>
<h2 data-id="heading-1">å¦‚ä½•ä½“éªŒ</h2>
<p>é¦–å…ˆç¡®è®¤ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/690f5eed3d07458e916ac10cf0ed4d60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=rhjJs0VHSNmJ1mJbnPY8vKhXhh4%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€ Cursor -&gt; å³ä¸Šè§’è®¾ç½® -&gt; Tools&amp;MCP -&gt; Browser Automation -&gt; é€‰æ‹© Browser Tab:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1ff75d4c88490bbaff3da5438c9ffe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=rok4nl9cOl%2BzEbrdZMtA5FC9%2FIc%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åå¯åŠ¨é¡¹ç›®ï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªå¼¹çª—ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69e6bcc64974470ca40692a763e45ab8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=SMFekFs%2BAs2qyK9FlKo9qIrWMBk%3D" alt="cursor-brower.jpg" loading="lazy"/></p>
<p>ç‚¹å‡» open ä»¥åï¼Œå°±å¯ä»¥åœ¨ Cursor é‡Œå¯åŠ¨é¢„è§ˆå‰ç«¯é¡¹ç›®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d6a078218b44d76a73751eaee7ff7bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=qmanOCDr%2B6chGkNCaSnOBRwVyeY%3D" alt="cursor åŠŸèƒ½æ›´æ–°-é¢„è§ˆ.jpg" loading="lazy"/></p>
<p>å³ä¸Šè§’çš„åŠŸèƒ½ä¸»è¦æ˜¯ï¼šé€‰æ‹©å…ƒç´ ã€æˆªå›¾ã€æ‰“å¼€å¼€å‘è€…æ¨¡å¼ã€‚</p>
<p>æœ€æœ‰ç”¨çš„å°±æ˜¯é€‰æ‹©å…ƒç´ åå’Œ AI å¯¹è¯ï¼Œè¿™æ— ç–‘è®©ä¸Šä¸‹æ–‡æ›´åŠ å…·ä½“ï¼Œä»¥åä¿®æ”¹ UI æ›´æ–¹ä¾¿äº†ï¼</p>
<p><strong>ç®€å•çš„ä¿®æ”¹ç”šè‡³æˆ‘ä»¬éƒ½ä¸éœ€è¦å’Œ AI èŠï¼Œç›´æ¥ä¸Šæ‰‹åœ¨ç•Œé¢ä¸Šæ”¹ï¼</strong></p>
<p>å¼€å¯é€‰æ‹©å…ƒç´ æ¨¡å¼åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é¢„è§ˆç•Œé¢ä¸Š<strong>æ‹–æ‹½ä¿®æ”¹ UIã€è°ƒæ•´æ–‡æ¡ˆã€å¸ƒå±€ç»“æ„</strong>ç­‰ç­‰ï¼Œå°±å’Œåšè®¾è®¡ä¸€æ ·æ‰€è§å³æ‰€å¾—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e04d52ac7775414c9a705e6085035b75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=3ucskxYTjQWFXeEF60LZHnXQNOY%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Cursor å†…ç½®æµè§ˆå™¨åŒ…å«ä¸€ä¸ªè®¾è®¡ä¾§è¾¹æ ï¼Œå¯ç›´æ¥åœ¨ Cursor ä¸­ä¿®æ”¹é€‰ä¸­å…ƒç´ çš„ Position Layout Padding color ç­‰ç­‰ï¼Œå®ç°å®æ—¶å¯è§†åŒ–è°ƒæ•´ä¸‹çš„åŒæ­¥è®¾è®¡ä¸ç¼–ç ã€‚</p>
</blockquote>
<p>æœ‹å‹ä»¬ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨äº†ï¼Œå®ç”¨åˆ°æˆ‘éƒ½ä¸æ•¢å‘Šè¯‰äº§å“ç»ç†å’Œè®¾è®¡å¸ˆ!</p>
<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨è¿™äº›åœºæ™¯ï¼š</p>
<ol>
<li>æµ‹è¯•åº”ç”¨</li>
<li>å¯è§†åŒ–åœ°ç¼–è¾‘å¸ƒå±€å’Œæ ·å¼</li>
<li>æ‰§è¡Œæ— éšœç¢å®¡è®¡</li>
<li>å°†è®¾è®¡è½¬æ¢ä¸ºä»£ç ç­‰</li>
</ol>
<p>å²æ•°å¤§äº†ä¸èƒ½ç†¬å¤œï¼Œæˆ‘å°±å…ˆæŠ›ç –å¼•ç‰ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹èµ¶ç´§è¯•è¯•å§ï¼Œæ™šå®‰ï¼</p>
<blockquote>
<p>æˆ‘çš„ä¸“æ ã€Šè½¬å‹ AI å·¥ç¨‹å¸ˆã€‹æ­£åœ¨é¢„çƒ­ä¸­ï¼Œç¬¬ä¸€ç¯‡æ–‡ç« å·²å‘å¸ƒï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaobot.net%2Fpost%2F8e8e0693-00a0-4220-bf3e-dec50a17294d" target="_blank" title="https://xiaobot.net/post/8e8e0693-00a0-4220-bf3e-dec50a17294d" ref="nofollow noopener noreferrer">xiaobot.net/post/8e8e06â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[90%å‰ç«¯éƒ½è¸©è¿‡çš„JSå†…å­˜é»‘æ´ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹è§£é”åº•å±‚é€»è¾‘ä¸é¿å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582438310103711790</link>    <guid>https://juejin.cn/post/7582438310103711790</guid>    <pubDate>2025-12-11T16:20:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310103711790" data-draft-id="7582422818311733299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="90%å‰ç«¯éƒ½è¸©è¿‡çš„JSå†…å­˜é»‘æ´ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹è§£é”åº•å±‚é€»è¾‘ä¸é¿å‘æŒ‡å—"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T16:20:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zzpper"/> <meta itemprop="url" content="https://juejin.cn/user/3560673121928058"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            90%å‰ç«¯éƒ½è¸©è¿‡çš„JSå†…å­˜é»‘æ´ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹è§£é”åº•å±‚é€»è¾‘ä¸é¿å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3560673121928058/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zzpper
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T16:20:07.000Z" title="Thu Dec 11 2025 16:20:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œâ€œå†…å­˜â€ä¼¼ä¹æ˜¯ä¸ªâ€œéšå½¢é€‰æ‰‹â€â€”â€”å¹³æ—¶ä¸æ˜¾å±±éœ²æ°´ï¼Œä¸€æ—¦å‡ºé—®é¢˜å°±å¯èƒ½è®©é¡µé¢è¶Šç”¨è¶Šå¡ã€ç”šè‡³ç›´æ¥å´©æºƒã€‚å¤šæ•°å¼€å‘è€…å¯¹JSå†…å­˜çš„ç†è§£åœç•™åœ¨â€œæ ˆå­˜åŸºç¡€ç±»å‹ï¼Œå †å­˜å¼•ç”¨ç±»å‹â€çš„è¡¨å±‚ï¼Œå´å¿½ç•¥äº†ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­åå¤å¼ºè°ƒçš„ï¼š<strong>å†…å­˜æœºåˆ¶çš„æ ¸å¿ƒä¸æ˜¯â€œå­˜å“ªé‡Œâ€ï¼Œè€Œæ˜¯â€œå¦‚ä½•è¢«ç®¡ç†ã€ä½•æ—¶è¢«å›æ”¶â€</strong> ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°±ä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹çš„åº•å±‚è§†è§’ï¼Œæ‹†è§£5ä¸ªæœ€å®¹æ˜“è¢«å¿½ç•¥çš„JSå†…å­˜å…³é”®çŸ¥è¯†ç‚¹ã€‚æ¯ä¸ªç‚¹éƒ½é…å¥—çœŸå®ä¸šåŠ¡åœºæ™¯çš„å‘ä½æ¡ˆä¾‹ã€å¯ç›´æ¥å¤ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå¸®ä½ ä»â€œè¢«åŠ¨è¸©å‘â€å˜æˆâ€œä¸»åŠ¨æŒæ§â€å†…å­˜ï¼</p>
<h2 data-id="heading-0">ä¸€ã€å†…å­˜ç”Ÿå‘½å‘¨æœŸçš„â€œéšå½¢æ¼æ´â€ï¼šä½ ä»¥ä¸ºçš„â€œä¸ç”¨äº†â€â‰ â€œè¢«å›æ”¶â€</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ç¬¬ä¸€å·å¼€ç¯‡å°±å¼ºè°ƒï¼š <em>â€œJSçš„è‡ªåŠ¨åƒåœ¾å›æ”¶ä¸æ˜¯â€˜ä¸‡èƒ½å…œåº•â€™ï¼Œå®ƒåªå›æ”¶â€˜ä¸å¯è¾¾â€™çš„å†…å­˜â€</em> ã€‚å¾ˆå¤šå†…å­˜æ³„æ¼çš„æ ¹æºï¼Œå°±æ˜¯æˆ‘ä»¬è¯¯ä»¥ä¸ºâ€œå˜é‡ä¸ç”¨äº†å°±ä¼šè¢«å›æ”¶â€ï¼Œå´å¿½ç•¥äº†å†…å­˜ç”Ÿå‘½å‘¨æœŸçš„â€œä¸»åŠ¨é‡Šæ”¾â€ç¯èŠ‚ã€‚</p>
<h3 data-id="heading-1">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šè§£é™¤å¼•ç”¨æ˜¯å›æ”¶çš„å‰æ</h3>
<p>JSå†…å­˜ç”Ÿå‘½å‘¨æœŸåˆ†ä¸‰æ­¥ï¼š<strong>åˆ†é…â†’ä½¿ç”¨â†’å›æ”¶</strong>ã€‚å…¶ä¸­â€œå›æ”¶â€çš„å…³é”®æ˜¯â€œåˆ‡æ–­å˜é‡çš„æ‰€æœ‰å¯è¾¾å¼•ç”¨â€ã€‚ä½†å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å› ä»¥ä¸‹æ“ä½œç•™ä¸‹â€œéšå½¢å¼•ç”¨â€ï¼š</p>
<ul>
<li>å…¨å±€å˜é‡æœªåŠæ—¶æ¸…ç†ï¼ˆæœ€å¸¸è§ï¼æ¯”å¦‚æœªå£°æ˜çš„å˜é‡è‡ªåŠ¨æŒ‚è½½åˆ°windowï¼‰</li>
<li>é—­åŒ…é•¿æœŸæŒæœ‰å¤§å¯¹è±¡çš„å¼•ç”¨</li>
<li>DOMå…ƒç´ è¢«ç§»é™¤åï¼ŒJSä¸­ä»ä¿ç•™å…¶å¼•ç”¨</li>
</ul>
<h3 data-id="heading-2">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šå…¨å±€å˜é‡çš„â€œå†…å­˜å¯„ç”Ÿâ€</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šæ— æ„è¯†åˆ›å»ºå…¨å±€å˜é‡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¿˜è®°å£°æ˜var/let/constï¼Œdataè‡ªåŠ¨æˆä¸ºwindowå±æ€§</span>
  data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// 100ä¸‡é•¿åº¦æ•°ç»„ï¼Œçº¦4MBå†…å­˜</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†ç‚¹å‡»äº‹ä»¶'</span>);
}

<span class="hljs-comment">// å¤šæ¬¡ç‚¹å‡»åï¼Œwindow.dataæŒç»­å­˜åœ¨ï¼Œå†…å­˜è¶Šç§¯è¶Šå¤š</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleClick);
</code></pre>
<h3 data-id="heading-3">âœ… é¿å‘æŒ‡å—ï¼šä¸»åŠ¨è§£é™¤å¼•ç”¨+é™åˆ¶å…¨å±€å˜é‡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•1ï¼šç”¨let/constå£°æ˜å±€éƒ¨å˜é‡ï¼Œå‡½æ•°æ‰§è¡Œå®Œè‡ªåŠ¨è§£é™¤å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); 
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†ç‚¹å‡»äº‹ä»¶'</span>);
  <span class="hljs-comment">// å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œdataçš„å¼•ç”¨è¢«é”€æ¯ï¼Œç­‰å¾…GCå›æ”¶</span>
}

<span class="hljs-comment">// æ­£ç¡®åšæ³•2ï¼šè‹¥å¿…é¡»ç”¨å…¨å±€å˜é‡ï¼Œä½¿ç”¨åä¸»åŠ¨ç½®ç©º</span>
<span class="hljs-keyword">let</span> globalData = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  globalData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å¤„ç†å®Œæ¯•å</span>
  globalData = <span class="hljs-literal">null</span>; <span class="hljs-comment">// åˆ‡æ–­å¼•ç”¨ï¼Œè®©GCå¯ä»¥å›æ”¶</span>
}
</code></pre>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹æ ¸å¿ƒæç¤ºï¼šå…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸é¡µé¢ä¸€è‡´ï¼Œé™¤éä¸»åŠ¨ç½®ç©ºï¼Œå¦åˆ™ä¼šä¸€ç›´å ç”¨å†…å­˜ã€‚å¼€å‘ä¸­åº”å°½é‡ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œæˆ–ç”¨IIFEå°è£…å…¨å±€é€»è¾‘ï¼Œé¿å…å˜é‡â€œå¯„ç”Ÿâ€åœ¨windowä¸Šã€‚</p>
<h2 data-id="heading-4">äºŒã€V8åˆ†ä»£å›æ”¶ä¸æ•°ç»„çš„â€œå¿«æ…¢é™·é˜±â€ï¼šä¸ºä»€ä¹ˆä½ çš„æ•°ç»„è¶Šç”¨è¶Šå¡ï¼Ÿ</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­æåˆ°ï¼šâ€œJSå¼•æ“çš„å†…å­˜ä¼˜åŒ–ç»†èŠ‚ï¼Œç›´æ¥å†³å®šä»£ç çš„è¿è¡Œæ•ˆç‡â€ã€‚V8ä½œä¸ºä¸»æµå¼•æ“ï¼Œå¯¹æ•°ç»„çš„å†…å­˜ç®¡ç†æœ‰ä¸ªææ˜“è¢«å¿½ç•¥çš„æœºåˆ¶â€”â€”<strong>å¿«æ…¢æ•°ç»„åˆ‡æ¢</strong>ï¼Œä¸€æ—¦è§¦å‘åˆ‡æ¢ï¼Œå†…å­˜å ç”¨å’Œæ‰§è¡Œæ•ˆç‡ä¼šæ€¥å‰§ä¸‹é™ã€‚</p>
<h3 data-id="heading-5">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šæ•°ç»„çš„â€œè¿ç»­å†…å­˜â€å¹»è§‰</h3>
<p>å¾ˆå¤šäººä»¥ä¸ºJSæ•°ç»„å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œæ˜¯â€œè¿ç»­çš„å†…å­˜ç©ºé—´â€ï¼Œä½†å®é™…V8ä¸­æ•°ç»„åˆ†ä¸¤ç§ï¼š</p>
<p><strong>å¿«æ•°ç»„</strong>ï¼šè¿ç»­å†…å­˜ç©ºé—´ï¼Œç±»ä¼¼ä¼ ç»Ÿæ•°ç»„ï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼ˆO(1)ï¼‰ï¼Œæ–°å»ºç©ºæ•°ç»„é»˜è®¤æ˜¯å¿«æ•°ç»„ã€‚</p>
<p><strong>æ…¢æ•°ç»„</strong>ï¼šç”¨HashTableï¼ˆé”®å€¼å¯¹ï¼‰å­˜å‚¨ï¼Œå…ƒç´ åˆ†æ•£åœ¨å†…å­˜ä¸­ï¼Œè®¿é—®é€Ÿåº¦æ…¢ï¼ˆO(n)ï¼‰ï¼Œå½“æ•°ç»„å‡ºç°â€œå¤§é‡ç©ºæ´â€æ—¶è§¦å‘åˆ‡æ¢ã€‚</p>
<p>è§¦å‘å¿«æ•°ç»„â†’æ…¢æ•°ç»„çš„ä¸¤ä¸ªå…³é”®æ¡ä»¶ï¼ˆV8æºç é€»è¾‘ï¼‰ï¼š</p>
<ol>
<li>æ•°ç»„æ–°å¢ç´¢å¼•ä¸æœ€å¤§ç´¢å¼•å·®å€¼â‰¥1024ï¼ˆæ¯”å¦‚æ•°ç»„é•¿åº¦10ï¼Œç›´æ¥èµ‹å€¼arr[1034] = 1ï¼‰</li>
<li>æ–°å®¹é‡â‰¥3Ã—æ‰©å®¹åå®¹é‡Ã—2ï¼ˆå†…å­˜æµªè´¹è¿‡å¤šæ—¶ï¼‰</li>
</ol>
<h3 data-id="heading-6">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šç¨€ç–æ•°ç»„çš„å†…å­˜çˆ†ç‚¸</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šåˆ›å»ºç¨€ç–æ•°ç»„ï¼Œè§¦å‘å¿«â†’æ…¢åˆ‡æ¢</span>
const arr = <span class="hljs-selector-attr">[1, 2, 3]</span>;
<span class="hljs-comment">// ç›´æ¥èµ‹å€¼ç´¢å¼•1025ï¼Œåˆ¶é€ 1022ä¸ªç©ºæ´</span>
arr<span class="hljs-selector-attr">[1025]</span> = <span class="hljs-number">4</span>; 
console<span class="hljs-selector-class">.log</span>(arr.length); <span class="hljs-comment">// 1026ï¼Œä½†ä¸­é—´1022ä¸ªä½ç½®éƒ½æ˜¯empty</span>

<span class="hljs-comment">// æ­¤æ—¶arrå·²å˜æˆæ…¢æ•°ç»„ï¼Œéå†é€Ÿåº¦ä¸‹é™50%+ï¼Œå†…å­˜å ç”¨æ¿€å¢</span>
</code></pre>
<h3 data-id="heading-7">âœ… é¿å‘æŒ‡å—ï¼šé¿å…ç¨€ç–æ•°ç»„ï¼Œç”¨æ­£ç¡®æ–¹å¼å¢åˆ å…ƒç´ </h3>
<pre><code class="hljs language-ini" lang="ini">// æ­£ç¡®åšæ³•1ï¼šé¿å…ç›´æ¥èµ‹å€¼å¤§ç´¢å¼•ï¼Œç”¨push/unshiftæœ‰åºæ·»åŠ 
const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
for (let <span class="hljs-attr">i</span> = <span class="hljs-number">4</span><span class="hljs-comment">; i â‰¤ 1025; i++) {</span>
  arr.push(i)<span class="hljs-comment">; // ä¿æŒæ•°ç»„è¿ç»­ï¼Œç»´æŒå¿«æ•°ç»„çŠ¶æ€</span>
}

// æ­£ç¡®åšæ³•2ï¼šè‹¥éœ€å­˜å‚¨ç¦»æ•£æ•°æ®ï¼Œç”¨å¯¹è±¡æ›¿ä»£ç¨€ç–æ•°ç»„
const <span class="hljs-attr">data</span> = {
  0: 1,
  1: 2,
  1025: 4
}<span class="hljs-comment">; // æ˜ç¡®å­˜å‚¨ç¦»æ•£é”®å€¼ï¼Œæ¯”æ…¢æ•°ç»„æ›´é«˜æ•ˆ</span>
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€é—­åŒ…çš„å†…å­˜çœŸç›¸ï¼šä¸æ˜¯é—­åŒ…å¯¼è‡´æ³„æ¼ï¼Œæ˜¯ä½ ç”¨é”™äº†é—­åŒ…</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹å¯¹é—­åŒ…çš„å®šä¹‰æ˜¯ï¼šâ€œå‡½æ•°åŠå…¶è¯æ³•ç¯å¢ƒçš„ç»„åˆâ€ã€‚å¾ˆå¤šå¼€å‘è€…è°ˆé—­åŒ…è‰²å˜ï¼Œè®¤ä¸ºâ€œé—­åŒ…ä¸€å®šä¼šå¯¼è‡´å†…å­˜æ³„æ¼â€ï¼Œä½†çœŸç›¸æ˜¯â€”â€”<strong>åˆç†çš„é—­åŒ…æ˜¯æ­£å¸¸çš„å†…å­˜ä½¿ç”¨ï¼Œåªæœ‰â€œé•¿æœŸæŒæœ‰ä¸å¿…è¦çš„å¼•ç”¨â€æ‰ä¼šæ³„æ¼</strong>ã€‚</p>
<h3 data-id="heading-9">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šé—­åŒ…çš„â€œè¯æ³•ç¯å¢ƒæ®‹ç•™â€</h3>
<p>é—­åŒ…ä¼šä¿ç•™å¤–éƒ¨å‡½æ•°çš„è¯æ³•ç¯å¢ƒï¼Œè‹¥å¤–éƒ¨å‡½æ•°ä¸­çš„å¤§å¯¹è±¡è¢«é—­åŒ…å¼•ç”¨ï¼Œä¸”é—­åŒ…é•¿æœŸå­˜åœ¨ï¼ˆæ¯”å¦‚æŒ‚è½½åˆ°å…¨å±€ï¼‰ï¼Œåˆ™å¤§å¯¹è±¡æ— æ³•è¢«å›æ”¶ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
<h3 data-id="heading-10">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šé•¿æœŸå­˜åœ¨çš„é—­åŒ…æŒæœ‰å¤§å¯¹è±¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šé—­åŒ…é•¿æœŸæŒæœ‰å¤§å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDataProcessor</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¤§å¯¹è±¡ï¼šæ¨¡æ‹Ÿ10MBçš„ä¸šåŠ¡æ•°æ®</span>
  <span class="hljs-keyword">const</span> bigBusinessData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">2500000</span>).<span class="hljs-title function_">fill</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span> });
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-comment">// é—­åŒ…å¼•ç”¨bigBusinessData</span>
    <span class="hljs-keyword">return</span> bigBusinessData.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === id);
  };
}

<span class="hljs-comment">// processDataè¢«æŒ‚è½½åˆ°å…¨å±€ï¼Œé•¿æœŸå­˜åœ¨</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">processData</span> = <span class="hljs-title function_">createDataProcessor</span>();
</code></pre>
<h3 data-id="heading-11">âœ… é¿å‘æŒ‡å—ï¼šç”¨WeakMapæ‹†åˆ†é—­åŒ…å¼•ç”¨ï¼Œæˆ–åŠæ—¶è§£é™¤é—­åŒ…</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•1ï¼šç”¨WeakMapå­˜å‚¨å¤§å¯¹è±¡ï¼Œé¿å…é—­åŒ…ç›´æ¥æŒæœ‰</span>
<span class="hljs-keyword">const</span> dataCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDataProcessor</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> bigBusinessData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">2500000</span>).<span class="hljs-title function_">fill</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span> });
  dataCache.<span class="hljs-title function_">set</span>(<span class="hljs-string">'businessData'</span>, bigBusinessData);
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">const</span> data = dataCache.<span class="hljs-title function_">get</span>(<span class="hljs-string">'businessData'</span>);
    <span class="hljs-keyword">return</span> data ? data.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === id) : <span class="hljs-literal">null</span>;
  };
}

<span class="hljs-comment">// ä¸éœ€è¦æ—¶ï¼Œä¸»åŠ¨åˆ é™¤ç¼“å­˜ï¼Œé‡Šæ”¾å¤§å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">destroyProcessor</span>(<span class="hljs-params"/>) {
  dataCache.<span class="hljs-title function_">delete</span>(<span class="hljs-string">'businessData'</span>);
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">processData</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// è§£é™¤é—­åŒ…çš„å…¨å±€å¼•ç”¨</span>
}
</code></pre>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹æ ¸å¿ƒæç¤ºï¼šé—­åŒ…çš„å†…å­˜ç®¡ç†æ ¸å¿ƒæ˜¯â€œæ§åˆ¶å¼•ç”¨å‘¨æœŸâ€ã€‚å¦‚æœé—­åŒ…ä¸éœ€è¦é•¿æœŸå­˜åœ¨ï¼Œè¦åŠæ—¶åˆ‡æ–­å…¶å…¨å±€å¼•ç”¨ï¼›å¦‚æœå¿…é¡»é•¿æœŸå­˜åœ¨ï¼Œè¦é¿å…å¼•ç”¨å¤§å¯¹è±¡ï¼Œæˆ–ç”¨å¼±å¼•ç”¨æœºåˆ¶ï¼ˆWeakMap/WeakSetï¼‰ç®¡ç†å…³è”æ•°æ®ã€‚</p>
<h2 data-id="heading-12">å››ã€WeakMap/WeakSetçš„â€œå¼±å¼•ç”¨é­”æ³•â€ï¼š2025å¹´æœ€å®ç”¨çš„å†…å­˜ä¼˜åŒ–å·¥å…·</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­æåˆ°çš„â€œå¼±å¼•ç”¨â€æ¦‚å¿µï¼Œåœ¨2025å¹´çš„å‰ç«¯å¼€å‘ä¸­å·²æˆä¸ºä¸»æµä¼˜åŒ–æ‰‹æ®µã€‚å¾ˆå¤šå¼€å‘è€…çŸ¥é“WeakMapï¼Œä½†å´ç”¨é”™åœºæ™¯ï¼Œç”šè‡³è¯¯ä»¥ä¸ºå®ƒæ˜¯â€œä¸‡èƒ½å›æ”¶å™¨â€â€”â€”è¿™èƒŒåçš„æ ¸å¿ƒé€»è¾‘ï¼Œä½ å¯èƒ½ä¸€ç›´æ²¡ææ‡‚ã€‚</p>
<h3 data-id="heading-13">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šå¼±å¼•ç”¨çš„â€œè‡ªåŠ¨æ¸…ç†â€æœ¬è´¨</h3>
<p>æ™®é€šMap/Setæ˜¯â€œå¼ºå¼•ç”¨â€ï¼šåªè¦Mapå­˜åœ¨ï¼Œå…¶é”®å¯¹è±¡å³ä½¿å¤–éƒ¨å·²é”€æ¯ï¼Œä¹Ÿæ— æ³•è¢«GCå›æ”¶ï¼›è€ŒWeakMap/WeakSetæ˜¯â€œå¼±å¼•ç”¨â€ï¼šå½“é”®å¯¹è±¡çš„å¤–éƒ¨å¼ºå¼•ç”¨æ¶ˆå¤±æ—¶ï¼ŒGCä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡ï¼Œå¹¶æ¸…é™¤å…¶åœ¨WeakMapä¸­çš„å…³è”æ¡ç›®ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†ã€‚</p>
<p>å…³é”®é™åˆ¶ï¼ˆå¿…è®°ï¼ï¼‰ï¼š</p>
<ul>
<li>WeakMapçš„é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²/æ•°å­—ç­‰åŸºç¡€ç±»å‹</li>
<li>æ— æ³•éå†ï¼ˆæ— keys()ã€values()ã€sizeå±æ€§ï¼‰ï¼Œåªèƒ½é€šè¿‡get()æŸ¥è¯¢å­˜åœ¨çš„é”®</li>
</ul>
<h3 data-id="heading-14">ğŸ’¡ 2025å®æˆ˜åœºæ™¯ï¼šDOMå…³è”æ•°æ®çš„å†…å­˜å®‰å…¨ç®¡ç†</h3>
<p>åŠ¨æ€DOMå¢åˆ æ˜¯å†…å­˜æ³„æ¼é‡ç¾åŒºï¼Œä¼ ç»ŸMapå­˜å‚¨DOMå…³è”æ•°æ®ä¼šå¯¼è‡´æ³„æ¼ï¼ŒWeakMapæ˜¯å®Œç¾è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šç”¨WeakMapå­˜å‚¨DOMå…³è”æ•°æ®</span>
<span class="hljs-keyword">const</span> domDataMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

<span class="hljs-comment">// ç»‘å®šæ•°æ®åˆ°DOM</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">bindDataToDom</span>(<span class="hljs-params">dom, data</span>) {
  domDataMap.<span class="hljs-title function_">set</span>(dom, data);
}

<span class="hljs-comment">// è·å–DOMå…³è”æ•°æ®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getDataFromDom</span>(<span class="hljs-params">dom</span>) {
  <span class="hljs-keyword">return</span> domDataMap.<span class="hljs-title function_">get</span>(dom);
}

<span class="hljs-comment">// ç§»é™¤DOMæ—¶ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†æ•°æ®ï¼</span>
<span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
<span class="hljs-title function_">bindDataToDom</span>(btn, { <span class="hljs-attr">clickCount</span>: <span class="hljs-number">0</span> });
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(btn);
btn = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å¤–éƒ¨å¼ºå¼•ç”¨æ¶ˆå¤±ï¼ŒGCè‡ªåŠ¨å›æ”¶btnå’ŒdomDataMapä¸­çš„å…³è”æ•°æ®</span>
</code></pre>
<h3 data-id="heading-15">âœ… è¿›é˜¶ä¼˜åŒ–ï¼šç»“åˆFinalizationRegistryç›‘å¬å›æ”¶äº‹ä»¶</h3>
<p>2025å¹´ä¸»æµæµè§ˆå™¨å·²å…¨é¢æ”¯æŒFinalizationRegistryï¼Œå¯ç›‘å¬å¼±å¼•ç”¨å¯¹è±¡çš„å›æ”¶äº‹ä»¶ï¼Œç”¨äºé‡Šæ”¾éå†…å­˜èµ„æºï¼ˆå¦‚æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œè¿æ¥ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›‘å¬å¯¹è±¡å›æ”¶ï¼Œé‡Šæ”¾éå†…å­˜èµ„æº</span>
<span class="hljs-keyword">const</span> resourceRegistry = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FinalizationRegistry</span>(<span class="hljs-function">(<span class="hljs-params">resourceId</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`èµ„æº<span class="hljs-subst">${resourceId}</span>å·²å›æ”¶ï¼Œå…³é—­ç½‘ç»œè¿æ¥`</span>);
  <span class="hljs-comment">// æ‰§è¡Œéå†…å­˜èµ„æºæ¸…ç†é€»è¾‘ï¼ˆå¦‚å…³é—­WebSocketï¼‰</span>
  <span class="hljs-title function_">closeConnection</span>(resourceId);
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createResource</span>(<span class="hljs-params">obj, resourceId</span>) {
  domDataMap.<span class="hljs-title function_">set</span>(obj, resourceId);
  resourceRegistry.<span class="hljs-title function_">register</span>(obj, resourceId); <span class="hljs-comment">// æ³¨å†Œå›æ”¶ç›‘å¬</span>
}

<span class="hljs-comment">// å½“objè¢«GCå›æ”¶æ—¶ï¼Œä¼šè§¦å‘registryçš„å›è°ƒ</span>
<span class="hljs-keyword">let</span> obj = {};
<span class="hljs-title function_">createResource</span>(obj, <span class="hljs-string">'conn-123'</span>);
obj = <span class="hljs-literal">null</span>;
</code></pre>
<h2 data-id="heading-16">äº”ã€WebWorkerçš„å†…å­˜ç›²åŒºï¼šç‹¬ç«‹å†…å­˜ç©ºé—´çš„â€œéšå½¢æ³„æ¼â€</h2>
<p>2025å¹´WebWorkeråœ¨å¤§æ•°æ®å¤„ç†ã€å›¾å½¢æ¸²æŸ“ç­‰åœºæ™¯ä¸­åº”ç”¨è¶Šæ¥è¶Šå¹¿ï¼Œä½†å¾ˆå¤šå¼€å‘è€…å¿½ç•¥äº†ï¼š<strong>æ¯ä¸ªWorkeréƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè‹¥ä¸æ‰‹åŠ¨ç»ˆæ­¢ï¼Œä¼šä¸€ç›´å ç”¨å†…å­˜ï¼Œå³ä½¿é¡µé¢è·³è½¬ä¹Ÿä¸ä¼šé‡Šæ”¾</strong>ã€‚</p>
<h3 data-id="heading-17">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šWorkerçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>Workerçš„å†…å­˜ç‰¹ç‚¹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æˆæœ¬é«˜ï¼ˆ50-200msï¼‰ï¼Œåˆ›å»ºè¿‡å¤šWorkerä¼šå¯¼è‡´å†…å­˜æ¿€å¢</li>
<li>ä¸ä¸»çº¿ç¨‹é€šè¿‡ç»“æ„åŒ–å…‹éš†ä¼ é€’æ•°æ®ï¼Œå¤§æ•°æ®ä¼ è¾“ä¼šäº§ç”Ÿå†…å­˜å‰¯æœ¬</li>
<li>å¿…é¡»æ˜¾å¼ç»ˆæ­¢ï¼ˆworker.terminate()ï¼‰ï¼Œå¦åˆ™æŒç»­å­˜åœ¨</li>
</ol>
<h3 data-id="heading-18">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šæœªç»ˆæ­¢çš„Workerå¯¼è‡´å†…å­˜æ³„æ¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šé¢‘ç¹åˆ›å»ºWorkerä¸”ä¸ç»ˆæ­¢</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processBigData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'data-processor.js'</span>);
  worker.<span class="hljs-title function_">postMessage</span>(data);
  worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†å®Œæˆ'</span>, e.<span class="hljs-property">data</span>);
    <span class="hljs-comment">// å¿˜è®°ç»ˆæ­¢Workerï¼Œå†…å­˜æŒç»­å ç”¨</span>
  };
}

<span class="hljs-comment">// å¤šæ¬¡è°ƒç”¨åï¼Œå¤šä¸ªWorkerå®ä¾‹æ®‹ç•™ï¼Œå†…å­˜é£™å‡</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
  <span class="hljs-title function_">processBigData</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));
}
</code></pre>
<h3 data-id="heading-19">âœ… é¿å‘æŒ‡å—ï¼šå¤ç”¨Worker+æ˜¾å¼ç»ˆæ­¢</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•1ï¼šå¤ç”¨Workerå®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»º</span>
<span class="hljs-keyword">let</span> dataWorker = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">initWorker</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!dataWorker) {
    dataWorker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'data-processor.js'</span>);
  }
  <span class="hljs-keyword">return</span> dataWorker;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processBigData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> worker = <span class="hljs-title function_">initWorker</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(e.<span class="hljs-property">data</span>);
      <span class="hljs-comment">// éæŒç»­ä½¿ç”¨æ—¶ï¼Œå¯ç»ˆæ­¢Worker</span>
      <span class="hljs-comment">// worker.terminate();</span>
      <span class="hljs-comment">// dataWorker = null;</span>
    };
    worker.<span class="hljs-title function_">postMessage</span>(data);
  });
}

<span class="hljs-comment">// é¡µé¢å¸è½½æ—¶ï¼Œå¼ºåˆ¶ç»ˆæ­¢æ‰€æœ‰Worker</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforeunload'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (dataWorker) {
    dataWorker.<span class="hljs-title function_">terminate</span>();
  }
});
</code></pre>
<h2 data-id="heading-20">ğŸ¯ æ€»ç»“ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹åˆ°å®æˆ˜çš„æ ¸å¿ƒå¿ƒæ³•</h2>
<p>JSå†…å­˜ç®¡ç†çš„æ ¸å¿ƒï¼Œä»æ¥ä¸æ˜¯â€œè®°ä½æ ˆå †åŒºåˆ«â€ï¼Œè€Œæ˜¯ç†è§£ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹åå¤å¼ºè°ƒçš„ï¼š <strong>â€œå†…å­˜æ˜¯æœ‰é™èµ„æºï¼Œå¼€å‘è€…çš„è´£ä»»æ˜¯è®©æ— ç”¨çš„å†…å­˜â€˜å¯è¾¾æ€§æ¶ˆå¤±â€™â€</strong> ã€‚</p>
<p>è®°ä½è¿™4ä¸ªæ ¸å¿ƒå¿ƒæ³•ï¼Œä»æ­¤å‘Šåˆ«å†…å­˜æ³„æ¼ï¼š</p>
<ol>
<li>å…¨å±€å˜é‡â€œå°‘è€Œç²¾â€ï¼Œä½¿ç”¨åä¸»åŠ¨ç½®ç©º</li>
<li>é¿å…ç¨€ç–æ•°ç»„ï¼Œè­¦æƒ•V8å¿«æ…¢æ•°ç»„åˆ‡æ¢</li>
<li>é—­åŒ…ä¸èƒŒé”…ï¼Œæ§åˆ¶å¼•ç”¨å‘¨æœŸæ˜¯å…³é”®ï¼ˆå¼±å¼•ç”¨å…œåº•ï¼‰</li>
<li>Worker/å®šæ—¶å™¨ç­‰â€œç‹¬ç«‹æ‰§è¡Œå•å…ƒâ€ï¼Œå¿…é¡»æ˜¾å¼ç»ˆæ­¢</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582424649783705600</link>    <guid>https://juejin.cn/post/7582424649783705600</guid>    <pubDate>2025-12-11T16:44:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582424649783705600" data-draft-id="7582358932028899343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ "/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM"/> <meta itemprop="datePublished" content="2025-12-11T16:44:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´ä½³æµ©"/> <meta itemprop="url" content="https://juejin.cn/user/2696441245481975"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2696441245481975/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´ä½³æµ©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T16:44:25.000Z" title="Thu Dec 11 2025 16:44:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e}.markdown-body ::selection{background-color:#00325e;color:#fff}.markdown-body blockquote{padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px}.markdown-body blockquote p{font-size:14px;line-height:25px;color:#795548}.markdown-body blockquote p:last-child{margin:0}.markdown-body blockquote:hover{border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)}.markdown-body blockquote code{color:#ff502c}.markdown-body pre{border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap}.markdown-body pre:hover{border-color:#6d9dce}.markdown-body pre&gt;code{padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block}.markdown-body code{background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px}.markdown-body p{font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959}.markdown-body a{color:#00325e;text-decoration:none}.markdown-body a:after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px}.markdown-body a:hover{box-shadow:0 1px}.markdown-body table{max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s}.markdown-body table:hover{box-shadow:0 3px 10px 0 rgba(185,169,103,.24)}.markdown-body table tr th{border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px}.markdown-body table tr td{border:1px solid rgba(243,202,142,.4);padding:12px 15px}.markdown-body table tbody tr{transition:all .2s}.markdown-body table tbody tr:hover td{border-color:#f3ca8e;background-color:#fff8e0;z-index:1}.markdown-body img{max-width:100%}.markdown-body h1{font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative}.markdown-body h1&gt;code{font-size:20px}.markdown-body h1:before{content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute}.markdown-body h2{font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative}.markdown-body h2&gt;code{font-size:18px}.markdown-body h2:before{content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute}.markdown-body h3{font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative}.markdown-body h3&gt;code{font-size:16px}.markdown-body h3:before{content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute}.markdown-body h4{font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative}.markdown-body h4&gt;code{font-size:14px}.markdown-body h4:before{content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute}.markdown-body h5{font-size:12px;margin-top:30px;margin-bottom:10px}.markdown-body h5&gt;code{font-size:12px}.markdown-body h6{font-size:10px;margin-top:30px;margin-bottom:10px}.markdown-body h6&gt;code{font-size:10px}.markdown-body h1,.markdown-body h2{color:#ff502c}.markdown-body hr{height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)}.markdown-body hr:nth-child(2n){background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)}.markdown-body ul{padding-inline-start:20px}.markdown-body ul li{list-style-type:"ğŸ”¸"}.markdown-body ul li li{list-style-type:"â—»ï¸"}.markdown-body ul li li li{list-style-type:"â–«ï¸"}.markdown-body ol{padding-inline-start:20px}.markdown-body ol ::marker{color:#ff9800}.markdown-body ol,.markdown-body ul{line-height:2em}.markdown-body li{padding-inline-start:1ch}.markdown-body li.task-list-item{list-style:none;padding-inline-start:0}.markdown-body li input{padding-right:2px}.markdown-body li input[type=checkbox i]{appearance:none}.markdown-body li input:before{content:"ğŸŸ©";display:block;width:13px;height:13px}.markdown-body li input:checked:before{content:"âœ…"}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-estuary-dark">.hljs-comment,.hljs-quote{color:#878573}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ba6236}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#ae7313}.hljs-bullet,.hljs-string,.hljs-symbol{color:#7d9726}.hljs-section,.hljs-title{color:#36a166}.hljs-keyword,.hljs-selector-tag{color:#5f9182}.hljs-addition,.hljs-deletion{color:#22221b;display:inline-block;width:100%}.hljs-deletion{background-color:#ba6236}.hljs-addition{background-color:#7d9726}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#22221b;color:#929181}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ</h2>
<blockquote>
<p>æœ€è¿‘è¢«T4å¡æå¾—æœ‰ç‚¹æŠ½é£å°±å¤šäº›ä¸€ç‚¹å…³äºå¤§æ¨¡å‹çš„è®²è§£çš„ã€‚ç”±æµ…è‡³æ·±çš„è®²ä¸ªé€ï¼Œæ„¿å¤©ä¸‹ç”¨è€æ—§æ˜¾å¡çš„äººå„¿éƒ½å¯ä»¥è¿œç¦»å‚»*é—®é¢˜ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e53064d7b28447568f9ce11ce5ee2bec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC05L2z5rWp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766076341&amp;x-signature=xwaGFHtHHls3TOo8vvj%2B11FnIPU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä½œè€…ï¼šå´ä½³æµ©</strong></p>
<p><strong>æœ€åæ›´æ–°ï¼š2025-12-11</strong></p>
<p><strong>é€‚ç”¨äººç¾¤ï¼šå¤§æ¨¡å‹ä¸Šä¸‹æ¸¸ç›¸å…³ä»ä¸šè€…</strong></p>
<p><strong>â€”â€”ä»¥ Qwen2/Qwen3 ä¸ºä¾‹ï¼Œä»å…¥é—¨åˆ°å›å®¶</strong></p>
<hr/>
<h3 data-id="heading-1">1. ä»€ä¹ˆæ˜¯ MoEï¼ˆMixture of Expertsï¼‰</h3>
<h4 data-id="heading-2">æ ¸å¿ƒæ¦‚å¿µ</h4>
<p><strong>MoE = æ··åˆä¸“å®¶æ¨¡å‹</strong>ï¼Œå®ƒè®©æ¨¡å‹ç”±å¤šä¸ª"ä¸“å®¶ç½‘ç»œ"ç»„æˆï¼Œæ¯æ¬¡æ¨ç†åªæ¿€æ´»å°‘é‡ä¸“å®¶ï¼Œä»è€Œå®ç°ï¼š</p>
<ul>
<li>âœ… <strong>ä¿ç•™å¤§æ¨¡å‹èƒ½åŠ›</strong> - æ€»å‚æ•°é‡å¤§ï¼Œèƒ½åŠ›å¼º</li>
<li>âœ… <strong>é™ä½æ¨ç†æˆæœ¬</strong> - åªæ¿€æ´»éƒ¨åˆ†å‚æ•°ï¼Œè®¡ç®—é‡å°</li>
<li>âœ… <strong>æå‡é¢†åŸŸèƒ½åŠ›</strong> - ä¸“å®¶å„å¸å…¶èŒï¼Œæœ¯ä¸šæœ‰ä¸“æ”»</li>
</ul>
<h4 data-id="heading-3">æ ¸å¿ƒç†å¿µ</h4>
<blockquote>
<p>ğŸ’¡ ä¸éœ€è¦æ¯ä¸ª token éƒ½ç”¨ 300 äº¿å‚æ•°è®¡ç®—ï¼Œè€Œæ˜¯åªè°ƒç”¨å…¶ä¸­æœ€é€‚åˆè§£å†³è¯¥é—®é¢˜çš„ä¸“å®¶ã€‚</p>
</blockquote>
<p>è¿™å°±åƒä¸€ä¸ªåŒ»é™¢ï¼š</p>
<ul>
<li>ä½ å¤´ç–¼ä¸éœ€è¦å¬é›†æ‰€æœ‰ç§‘å®¤åŒ»ç”Ÿ</li>
<li>åªéœ€è¦ç¥ç»ç§‘ä¸“å®¶è¯Šæ–­</li>
<li>ä½†åŒ»é™¢ä»ç„¶æ‹¥æœ‰å…¨ç§‘èƒ½åŠ›</li>
</ul>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆéœ€è¦ MoEï¼Ÿ</h4>
<p>Dense æ¨¡å‹çš„é—®é¢˜ï¼š</p>















<table><thead><tr><th>å‚æ•°é‡</th><th>æ¨ç†éœ€è¦æ¿€æ´»</th><th>æ˜¾å­˜éœ€æ±‚</th></tr></thead><tbody><tr><td>70B</td><td>å…¨ 70B</td><td>æé«˜ï¼ˆ&gt;140GB FP16ï¼‰</td></tr></tbody></table>
<p>MoE çš„æ”¹è¿›ï¼š</p>















<table><thead><tr><th>æ€»å‚æ•°é‡</th><th>æ¯æ¬¡æ¿€æ´»</th><th>å®é™…æ¨ç†æˆæœ¬</th></tr></thead><tbody><tr><td>70Bï¼ˆå«16ä¸ªä¸“å®¶ï¼‰</td><td>Top-1=3B</td><td>åƒè·‘ 3B æ¨¡å‹ä¸€æ · cheap</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼šé€‰å¯¹ä¸“å®¶ï¼Œè€Œä¸æ˜¯è®¡ç®—å…¨éƒ¨ä¸“å®¶ã€‚</strong></p>
<hr/>
<h3 data-id="heading-5">2. MoE æ¶æ„å…¨æ™¯</h3>
<h4 data-id="heading-6">2.1 åŸºç¡€æ¶æ„æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[è¾“å…¥ Token:&lt;br/&gt;å†™ä¸€æ®µ Python ä»£ç ] --&gt; B{Router è·¯ç”±å™¨&lt;br/&gt;åˆ†æ token ç‰¹å¾}

    B --&gt;|æƒé‡ 0.8| C1[Expert 1&lt;br/&gt;ä»£ç ä¸“å®¶]
    B --&gt;|æƒé‡ 0.2| C2[Expert 5&lt;br/&gt;é€»è¾‘ä¸“å®¶]

    B -.ä¸æ¿€æ´».-&gt; C3[Expert 2]
    B -.ä¸æ¿€æ´».-&gt; C4[Expert 3]
    B -.ä¸æ¿€æ´».-&gt; C5[Expert 4]

    C1 --&gt; D[åŠ æƒåˆå¹¶è¾“å‡º]
    C2 --&gt; D
    D --&gt; E[æœ€ç»ˆè¾“å‡º]

    style B fill:#FFD700
    style C1 fill:#90EE90
    style C2 fill:#90EE90
    style C3 fill:#E0E0E0
    style C4 fill:#E0E0E0
    style C5 fill:#E0E0E0
</code></pre>
<p><strong>å…³é”®è¦ç´ è§£é‡Šï¼š</strong></p>
<ol>
<li><strong>Routerï¼ˆè·¯ç”±å™¨ï¼‰</strong> - æ ¹æ®è¾“å…¥å†…å®¹é€‰æ‹©æœ€é€‚åˆçš„ä¸“å®¶ï¼ˆTop-1 / Top-2ï¼‰</li>
<li><strong>Expertsï¼ˆä¸“å®¶ï¼‰</strong> - æ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹çš„ FFN ç½‘ç»œï¼Œæ‹¥æœ‰ä¸“å±å‚æ•°</li>
<li><strong>é€‰æ‹©æ€§æ¿€æ´»</strong> - åªæ¿€æ´»éƒ¨åˆ†ä¸“å®¶ï¼Œå…¶ä½™ä¸“å®¶åœ¨å½“å‰ token ä¸å‚ä¸è¿ç®—</li>
<li><strong>åŠ æƒåˆå¹¶</strong> - å°†æ¿€æ´»ä¸“å®¶çš„è¾“å‡ºæŒ‰æƒé‡æ±‚å’Œ</li>
</ol>
<hr/>
<h4 data-id="heading-7">2.2 å®Œæ•´ Transformer å±‚ç»“æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph "ä¼ ç»Ÿ Transformer å±‚"
        A1[Input] --&gt; A2[Multi-Head Attention]
        A2 --&gt; A3[Add &amp; Norm]
        A3 --&gt; A4[Dense FFN&lt;br/&gt;æ‰€æœ‰å‚æ•°æ¿€æ´»]
        A4 --&gt; A5[Add &amp; Norm]
        A5 --&gt; A6[Output]
    end
    
    subgraph "MoE Transformer å±‚"
        B1[Input] --&gt; B2[Multi-Head Attention]
        B2 --&gt; B3[Add &amp; Norm]
        B3 --&gt; B4{MoE Layer&lt;br/&gt;è·¯ç”±å™¨é€‰æ‹©}
        B4 --&gt; B5[Expert 1]
        B4 --&gt; B6[Expert 2]
        B4 -.-&gt; B7[Expert N]
        B5 --&gt; B8[Sparse Activation&lt;br/&gt;ä»…éƒ¨åˆ†ä¸“å®¶æ¿€æ´»]
        B6 --&gt; B8
        B7 -.-&gt; B8
        B8 --&gt; B9[Add &amp; Norm]
        B9 --&gt; B10[Output]
    end
    
    style A4 fill:#FFB6C1
    style B4 fill:#87CEEB
    style B8 fill:#90EE90
</code></pre>
<p><strong>å¯¹æ¯”è¦ç‚¹ï¼š</strong></p>
<ul>
<li>ä¼ ç»Ÿæ¨¡å‹ï¼šFFN å±‚æ‰€æœ‰å‚æ•°éƒ½å‚ä¸è®¡ç®—</li>
<li>MoE æ¨¡å‹ï¼šç”¨å¤šä¸“å®¶ + è·¯ç”±å™¨æ›¿ä»£ Dense FFN</li>
</ul>
<hr/>
<h3 data-id="heading-8">3. Dense æ¨¡å‹ vs MoE æ¨¡å‹ï¼šæ˜¾å­˜ä¸è®¡ç®—å¯¹æ¯”</h3>
<h4 data-id="heading-9">3.1 ä»€ä¹ˆæ˜¯ Denseï¼ˆç¨ å¯†æ¨¡å‹ï¼‰</h4>
<p><strong>Dense = æ‰€æœ‰å‚æ•°å…¨éƒ¨å‚ä¸æ¨ç†</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[è¾“å…¥] --&gt; B[Layer 1&lt;br/&gt;32B å‚æ•°]
    B --&gt; C[Layer 2&lt;br/&gt;32B å‚æ•°]
    C --&gt; D[Layer 3&lt;br/&gt;32B å‚æ•°]
    D --&gt; E[è¾“å‡º]
    
    style B fill:#FF6B6B
    style C fill:#FF6B6B
    style D fill:#FF6B6B
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>Qwen2.5-32B Dense
<ul>
<li>
<p>æ¨ç†æ—¶ 32B å…¨æ¿€æ´»</p>
</li>
<li>
<p>æ˜¾å­˜å ç”¨ 60+ GBï¼ˆFP16ï¼‰</p>
</li>
<li>
<p>æ€§èƒ½å¼ºä½†æˆæœ¬é«˜</p>
</li>
</ul>
</li>
</ul>
<p>æ˜¾å­˜å¯¹æ¯”è¡¨ï¼š</p>


























<table><thead><tr><th>æ¨¡å‹</th><th>FP16</th><th>FP8</th><th>INT8</th><th>INT4</th></tr></thead><tbody><tr><td><strong>Qwen3 Dense 32B</strong>ï¼ˆå…¨æ¿€æ´»ï¼‰</td><td>60+ GB</td><td>30 GB</td><td>28 GB</td><td>15 GB</td></tr><tr><td><strong>Qwen3 MoE 30B</strong>ï¼ˆæ¿€æ´» ~3Bï¼‰</td><td>6 GB</td><td>3 GB</td><td>3 GB</td><td>1.5 GB</td></tr></tbody></table>
<p>ğŸ‘‰ <strong>MoE æ¨ç†æ˜¾å­˜ â‰ˆ Dense çš„ 1/10~1/20</strong></p>
<hr/>
<h4 data-id="heading-10">3.2 ä»€ä¹ˆæ˜¯ MoEï¼ˆæ··åˆä¸“å®¶æ¨¡å‹ï¼‰</h4>
<p><strong>MoE = æ€»å‚æ•°å¤§ï¼Œä½†æ¯æ¬¡åªæ¿€æ´»å°‘é‡ä¸“å®¶</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Input] --&gt; B[Layer 1&lt;br/&gt;Total Params 30B]
    B --&gt; C{Router&lt;br/&gt;Select Top-2}

    C --&gt;|Active| D1[Expert 1&lt;br/&gt;1.5B]
    C --&gt;|Active| D2[Expert 5&lt;br/&gt;1.5B]
    C -.-&gt; D3[Other Experts&lt;br/&gt;Not Activated&lt;br/&gt;27B]

    D1 --&gt; E[Merge Output]
    D2 --&gt; E
    E --&gt; F[Next Layer]

    style D1 fill:#90EE90
    style D2 fill:#90EE90
    style D3 fill:#E0E0E0

</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>Qwen1.5-MoE-33B
<ul>
<li>æ€»å‚æ•°ï¼š33B</li>
<li>æ¿€æ´»ä¸“å®¶ï¼šTop-1ï¼ˆçº¦ 3Bï¼‰</li>
<li>æ˜¾å­˜å ç”¨ï¼š~6GBï¼ˆFP16ï¼‰</li>
<li>æ¨ç†æˆæœ¬ â‰ˆ 3B Dense æ¨¡å‹</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-11">3.3 æ˜¾å­˜å ç”¨å¯¹æ¯”è¡¨ï¼ˆé‡è¦ï¼ï¼‰</h4>
<p>ä»¥ <strong>Qwen3 32B Dense</strong> &amp; <strong>Qwen3 30B MoE</strong> ä¸ºä¾‹ï¼š</p>


























<table><thead><tr><th>æ¨¡å‹é…ç½®</th><th>FP16ï¼ˆå…¨ç²¾åº¦ï¼‰</th><th>FP8</th><th>INT8</th><th>INT4</th></tr></thead><tbody><tr><td><strong>Qwen3 Dense 32B</strong><br/>ï¼ˆå…¨å‚æ•°æ¿€æ´»ï¼‰</td><td>60+ GB</td><td>~30 GB</td><td>~28 GB</td><td>~15 GB</td></tr><tr><td><strong>Qwen3 MoE 30B</strong><br/>ï¼ˆæ¿€æ´» 3Bï¼‰</td><td>~6 GB</td><td>~3 GB</td><td>~3 GB</td><td>~1.5 GB</td></tr></tbody></table>
<pre><code class="hljs language-mermaid" lang="mermaid">gantt
    title æ˜¾å­˜å ç”¨å¯¹æ¯”ï¼ˆGBï¼‰
    dateFormat X
    axisFormat %s
    section 30B æ¨¡å‹
    FP16  :0, 60
    FP8   :0, 30
    INT8  :0, 28
    INT4  :0, 15
    section 3B æ¨¡å‹
    FP16  :0, 6
    FP8   :0, 3
    INT8  :0, 3
    INT4  :0, 1.5
</code></pre>
<p><strong>ç»“è®ºï¼š</strong></p>
<blockquote>
<p>âš¡ <strong>MoE æ¨ç†æ˜¾å­˜æ¶ˆè€— â‰ˆ Dense çš„ 1/10</strong></p>
</blockquote>
<p><strong>åŸå› ï¼š</strong></p>
<ul>
<li><strong>Dense</strong>ï¼šæ‰€æœ‰å±‚ã€æ‰€æœ‰å‚æ•°éƒ½è¦å‚ä¸è®¡ç®—</li>
<li><strong>MoE</strong>ï¼šæ¯å±‚åªç”¨å°‘æ•°ä¸“å®¶ï¼ˆå¦‚æ¿€æ´» 3Bï¼‰</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <strong>30B MoE å¯ä»¥åœ¨æ¶ˆè´¹çº§æ˜¾å¡è¿è¡Œ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-12">4. MoE çš„å…³é”®æ¦‚å¿µ</h3>
<h4 data-id="heading-13">4.1 ä¸“å®¶æ•°é‡ï¼ˆExpertsï¼‰</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">mindmap
  root((MoE ä¸“å®¶æ± &lt;br/&gt;16 ä¸ªä¸“å®¶))
    Expert 1
      æ¨ç†èƒ½åŠ›
      é€»è¾‘åˆ†æ
    Expert 2
      åˆ›æ„å†™ä½œ
      æ•…äº‹åˆ›ä½œ
    Expert 3
      æ•°å­¦è®¡ç®—
      å…¬å¼æ¨å¯¼
    Expert 4
      ä»£ç ç”Ÿæˆ
      ç®—æ³•å®ç°
    Expert 5
      è¯­è¨€ç¿»è¯‘
      å¤šè¯­è¨€ç†è§£
    Expert 6~16
      å…¶ä»–é¢†åŸŸ
      åŠ¨æ€åˆ†å·¥
</code></pre>
<p><strong>ä¸“å®¶åˆ†å·¥ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>Expert 1ï¼šæ¨ç†ã€é€»è¾‘åˆ†æ</li>
<li>Expert 3ï¼šæ•°å­¦ã€è®¡ç®—</li>
<li>Expert 5ï¼šä»£ç ç”Ÿæˆ</li>
<li>Expert 7ï¼šè¯­è¨€ç¿»è¯‘</li>
<li>Expert 10ï¼šåˆ›æ„å†™ä½œ</li>
<li>â€¦</li>
</ul>
<hr/>
<h4 data-id="heading-14">4.2 Top-Kï¼ˆæ¿€æ´»ä¸“å®¶æ•°é‡ï¼‰</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[è¾“å…¥ Token] --&gt; B{Router æ‰“åˆ†}
    B --&gt; C[ä¸“å®¶å¾—åˆ†æ’åº]
    
    subgraph "Top-1 ç­–ç•¥"
        C --&gt; D1[é€‰æ‹©å¾—åˆ†æœ€é«˜çš„ 1 ä¸ªä¸“å®¶]
        D1 --&gt; E1[é€Ÿåº¦æœ€å¿«&lt;br/&gt;æˆæœ¬æœ€ä½]
    end
    
    subgraph "Top-2 ç­–ç•¥"
        C --&gt; D2[é€‰æ‹©å¾—åˆ†æœ€é«˜çš„ 2 ä¸ªä¸“å®¶]
        D2 --&gt; E2[æ€§èƒ½æ›´å¥½&lt;br/&gt;æˆæœ¬é€‚ä¸­]
    end
    
    style D1 fill:#90EE90
    style D2 fill:#87CEEB
</code></pre>
<p><strong>å¸¸è§é…ç½®ï¼š</strong></p>
<ul>
<li><strong>Top-1</strong>ï¼šæ¯æ¬¡æ¿€æ´» 1 ä¸ªä¸“å®¶ï¼ˆé€Ÿåº¦å¿«ï¼‰</li>
<li><strong>Top-2</strong>ï¼šæ¯æ¬¡æ¿€æ´» 2 ä¸ªä¸“å®¶ï¼ˆæ€§èƒ½å¥½ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-15">4.3 å‚æ•°å…³ç³»å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[MoE æ¨¡å‹&lt;br/&gt;æ€»å‚æ•° 30B] --&gt; B[å…± 16 ä¸ªä¸“å®¶]
    B --&gt; C1[Expert 1&lt;br/&gt;1.9B å‚æ•°]
    B --&gt; C2[Expert 2&lt;br/&gt;1.9B å‚æ•°]
    B --&gt; C3[Expert 3&lt;br/&gt;1.9B å‚æ•°]
    B --&gt; C4[...]
    B --&gt; C5[Expert 16&lt;br/&gt;1.9B å‚æ•°]
    
    D[æ¨ç†æ—¶ Top-1] --&gt; E[åªæ¿€æ´» 1 ä¸ªä¸“å®¶&lt;br/&gt;çº¦ 3B å‚æ•°]
    E --&gt; F[å…¶ä½™ 15 ä¸ªä¸“å®¶&lt;br/&gt;ä¸å‚ä¸è®¡ç®—]
    
    style E fill:#90EE90
    style F fill:#E0E0E0
</code></pre>
<p><strong>å…³é”®å…¬å¼ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">æ€»å‚æ•° = ä¸“å®¶æ•°é‡ Ã— å•ä¸“å®¶å‚æ•° + å…±äº«å‚æ•°
æ¿€æ´»å‚æ•° = <span class="hljs-attribute">Top</span>-K Ã— å•ä¸“å®¶å‚æ•° + å…±äº«å‚æ•°
æ¨ç†æˆæœ¬ âˆ æ¿€æ´»å‚æ•°ï¼ˆè€Œéæ€»å‚æ•°ï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-16">5. å¸¸è§ç–‘é—®ï¼šæ²¡æ¿€æ´»çš„ä¸“å®¶æ˜¯ä¸æ˜¯æµªè´¹ï¼Ÿ</h3>
<h4 data-id="heading-17">âŒ é”™è¯¯ç†è§£</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[ç”¨æˆ·æé—®] --&gt; B[æ¿€æ´» Expert 4&lt;br/&gt;ä»£ç ä¸“å®¶]
    B --&gt; C[å…¶ä»– 15 ä¸ªä¸“å®¶&lt;br/&gt;å®Œå…¨æ²¡ç”¨?]
    
    style C fill:#FFB6C1
</code></pre>
<h4 data-id="heading-18">âœ… æ­£ç¡®ç†è§£</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[MoE ä¸“å®¶æ± ] --&gt; B[ä¸åŒä»»åŠ¡è§¦å‘ä¸åŒä¸“å®¶]
    
    B --&gt; C1[ä»»åŠ¡ 1: å†™ä»£ç &lt;br/&gt;è§¦å‘ Expert 4]
    B --&gt; C2[ä»»åŠ¡ 2: æ•°å­¦é¢˜&lt;br/&gt;è§¦å‘ Expert 3]
    B --&gt; C3[ä»»åŠ¡ 3: ç¿»è¯‘&lt;br/&gt;è§¦å‘ Expert 7]
    B --&gt; C4[ä»»åŠ¡ 4: åˆ›ä½œ&lt;br/&gt;è§¦å‘ Expert 2]
    
    C1 --&gt; D[æ‰€æœ‰ä¸“å®¶éƒ½ä¼šè¢«ä½¿ç”¨&lt;br/&gt;åªæ˜¯æ—¶æœºä¸åŒ]
    C2 --&gt; D
    C3 --&gt; D
    C4 --&gt; D
    
    style D fill:#90EE90
</code></pre>
<p><strong>çœŸç›¸ï¼š</strong></p>
<ol>
<li><strong>è®­ç»ƒæ—¶</strong> - æ‰€æœ‰ä¸“å®¶éƒ½ä¼šè¢«æ¿€æ´»å¹¶å­¦ä¹ </li>
<li><strong>æ¨ç†æ—¶</strong> - æ ¹æ®ä»»åŠ¡åŠ¨æ€é€‰æ‹©æœ€åˆé€‚çš„ä¸“å®¶</li>
<li><strong>é•¿æœŸä½¿ç”¨</strong> - æ¯ä¸ªä¸“å®¶éƒ½ä¼šåœ¨å„è‡ªæ“…é•¿çš„é¢†åŸŸå‘å…‰</li>
</ol>
<p><strong>ç±»æ¯”ï¼š</strong></p>
<blockquote>
<p>ğŸ¥ åŒ»é™¢æœ‰ 16 ä¸ªç§‘å®¤ï¼Œä½ çœ‹ç—…åªæŒ‚ 1 ä¸ªç§‘å®¤ï¼Œä½†å…¶ä»–ç§‘å®¤ä¸æ˜¯æµªè´¹ï¼Œè€Œæ˜¯åœ¨æœåŠ¡å…¶ä»–æ‚£è€…ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">6. Qwen3ï¼ˆDense / MoEï¼‰éƒ¨ç½²æ¨èæ–¹æ¡ˆ</h3>
<h4 data-id="heading-20">åœºæ™¯åˆ†æ</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ä½ çš„ç¡¬ä»¶æ¡ä»¶?] --&gt; B{æ˜¾å¡æ˜¾å­˜}
    
    B --&gt;|24GB æ¶ˆè´¹çº§| C[æ¨èæ–¹æ¡ˆ 1]
    B --&gt;|48GB ä¸“ä¸šå¡| D[æ¨èæ–¹æ¡ˆ 2]
    B --&gt;|80GB+ æœåŠ¡å™¨| E[æ¨èæ–¹æ¡ˆ 3]
    
    C --&gt; C1["Qwen3-14B Dense FP8 æ˜¾å­˜: ~14GB æ€§èƒ½: å¼º"]
    C --&gt; C2["Qwen1.5-MoE-33B INT4 æ˜¾å­˜: ~1.5GB æ€§èƒ½: ä¸­ä¸Š"]
    
    D --&gt; D1["Qwen3-32B Dense FP8 æ˜¾å­˜: ~30GB æ€§èƒ½: æå¼º"]
    
    E --&gt; E1["Qwen3-72B Dense FP8 æ˜¾å­˜: ~72GB æ€§èƒ½: é¡¶çº§"]
    
    style C1 fill:#90EE90
    style C2 fill:#87CEEB
    style D1 fill:#FFD700
    style E1 fill:#FF6B6B
</code></pre>
<hr/>
<h4 data-id="heading-21">æ–¹æ¡ˆ 1ï¼šæ³¨é‡æ€§èƒ½ï¼ˆæ¨èï¼‰</h4>
<p><strong>Qwen3-14B Denseï¼ˆINT4 æˆ– FP8ï¼‰</strong></p>





























<table><thead><tr><th>ç²¾åº¦</th><th>æ˜¾å­˜å ç”¨</th><th>æ¨èæŒ‡æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>FP16</td><td>~28GB</td><td>âŒ</td><td>è¶…å‡º 24GB æ˜¾å­˜</td></tr><tr><td><strong>FP8</strong></td><td><strong>~14GB</strong></td><td>â­â­â­â­â­</td><td><strong>å¼ºçƒˆæ¨è</strong></td></tr><tr><td>INT4</td><td>~7GB</td><td>â­â­â­â­</td><td>è½»é‡çº§æœ€ä½³</td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>æ€§èƒ½æ˜¾è‘—å¼ºäº 7B</li>
<li>æ€§ä»·æ¯” &gt; 70%</li>
<li>é€‚åˆæ—¥å¸¸å¯¹è¯ã€ä»£ç ç”Ÿæˆ</li>
</ul>
<hr/>
<h4 data-id="heading-22">æ–¹æ¡ˆ 2ï¼šå¤§æ¨¡å‹èƒ½åŠ› + å°æ˜¾å­˜</h4>
<p><strong>Qwen1.5-MoE-33Bï¼ˆINT4ï¼‰</strong></p>





















<table><thead><tr><th>æŒ‡æ ‡</th><th>æ•°å€¼</th></tr></thead><tbody><tr><td>æ€»å‚æ•°</td><td>33B</td></tr><tr><td>æ¿€æ´»å‚æ•°</td><td>~3B</td></tr><tr><td>æ˜¾å­˜å ç”¨</td><td>~1.5GB (INT4)</td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>âœ… æ˜¾å­˜å ç”¨æä½ï¼ˆ4GB æ˜¾å¡å¯è·‘ï¼‰</li>
<li>âœ… æ¨ç†é€Ÿåº¦å¿«</li>
<li>âœ… æ€§èƒ½æ¥è¿‘ 30B Denseï¼ˆå°¤å…¶ä¸­æ–‡ã€æ¨ç†ï¼‰</li>
</ul>
<p><strong>åŠ£åŠ¿ï¼š</strong></p>
<ul>
<li>âš ï¸ ç‰¹å®šä»»åŠ¡æ•ˆæœå¯èƒ½ä¸å¦‚ Dense ç²¾ç»†</li>
</ul>
<hr/>
<h4 data-id="heading-23">æ–¹æ¡ˆ 3ï¼šä¼ä¸šçº§æ——èˆ°</h4>
<p><strong>Qwen3-72B Denseï¼ˆFP8ï¼‰</strong></p>
<p><strong>ç¡¬ä»¶è¦æ±‚ï¼š</strong></p>
<ul>
<li>A100 80GB / H100</li>
<li>æˆ–å¤šå¡ 80GB GPU</li>
</ul>
<p><strong>æ€§èƒ½ï¼š</strong></p>
<ul>
<li>Top çº§åˆ«</li>
<li>é€‚åˆä¼ä¸šçº§åº”ç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-24">7. MoE çš„è®­ç»ƒæœºåˆ¶ï¼ˆè¿›é˜¶ï¼‰</h3>
<h4 data-id="heading-25">7.1 è®­ç»ƒæµç¨‹å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant D as è®­ç»ƒæ•°æ®
    participant R as Router&lt;br/&gt;è·¯ç”±å™¨
    participant E1 as Expert 1
    participant E2 as Expert 2
    participant L as Loss&lt;br/&gt;æŸå¤±å‡½æ•°
    
    D-&gt;&gt;R: è¾“å…¥ Token
    R-&gt;&gt;R: è®¡ç®—ä¸“å®¶å¾—åˆ†
    R-&gt;&gt;E1: æ¿€æ´» (æƒé‡ 0.7)
    R-&gt;&gt;E2: æ¿€æ´» (æƒé‡ 0.3)
    E1-&gt;&gt;L: è¾“å‡º O1
    E2-&gt;&gt;L: è¾“å‡º O2
    L-&gt;&gt;L: è®¡ç®—ä»»åŠ¡æŸå¤±&lt;br/&gt;+ è´Ÿè½½å‡è¡¡æŸå¤±
    L--&gt;&gt;E1: åå‘ä¼ æ’­æ›´æ–°
    L--&gt;&gt;E2: åå‘ä¼ æ’­æ›´æ–°
    L--&gt;&gt;R: æ›´æ–°è·¯ç”±å‚æ•°
</code></pre>
<hr/>
<h4 data-id="heading-26">7.2 è·¯ç”±å™¨è®­ç»ƒæœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[è¾“å…¥ Token è¡¨ç¤º] --&gt; B[Router å°å‹ç½‘ç»œ&lt;br/&gt;Linear + Softmax]
    B --&gt; C[è¾“å‡ºä¸“å®¶æ¦‚ç‡åˆ†å¸ƒ]
    
    C --&gt; D{Top-K é€‰æ‹©}
    D --&gt; E1[ä¸“å®¶å¾—åˆ†: 0.35]
    D --&gt; E2[ä¸“å®¶å¾—åˆ†: 0.28]
    D --&gt; E3[ä¸“å®¶å¾—åˆ†: 0.15]
    D --&gt; E4[å…¶ä»–ä¸“å®¶...]
    
    E1 --&gt; F[é€‰æ‹© Top-2]
    E2 --&gt; F
    
    F --&gt; G[+ è´Ÿè½½å‡è¡¡æŸå¤±&lt;br/&gt;é˜²æ­¢ä¸“å®¶åå‘]
    
    style G fill:#FFD700
</code></pre>
<p><strong>è®­ç»ƒä¼˜åŒ–ï¼š</strong></p>
<ol>
<li>ä½¿ç”¨ <strong>Softmax + Top-K</strong></li>
<li>åŠ å…¥ <strong>è´Ÿè½½å‡è¡¡ï¼ˆLoad Balancingï¼‰æŸå¤±é¡¹</strong></li>
<li>ç¡®ä¿ä¸“å®¶ä¸ä¼š"åå‘æ€§è¿‡å¼º"</li>
</ol>
<hr/>
<h4 data-id="heading-27">7.3 ä¸“å®¶ç‰¹åŒ–è¿‡ç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[è®­ç»ƒåˆæœŸ&lt;br/&gt;ä¸“å®¶æ— æ˜æ˜¾åˆ†å·¥] --&gt; B[ä¸­æœŸ&lt;br/&gt;é€æ¸å½¢æˆåå¥½]
    B --&gt; C[åæœŸ&lt;br/&gt;ä¸“å®¶ç‰¹åŒ–å®Œæˆ]
    
    subgraph "è®­ç»ƒåˆæœŸ"
        A1[Expert 1&lt;br/&gt;é€šç”¨èƒ½åŠ›]
        A2[Expert 2&lt;br/&gt;é€šç”¨èƒ½åŠ›]
        A3[Expert 3&lt;br/&gt;é€šç”¨èƒ½åŠ›]
    end
    
    subgraph "è®­ç»ƒåæœŸ"
        C1[Expert 1&lt;br/&gt; ä»£ç ä¸“å®¶]
        C2[Expert 2&lt;br/&gt; æ•°å­¦ä¸“å®¶]
        C3[Expert 3&lt;br/&gt; åˆ›æ„ä¸“å®¶]
    end
    
    A1 -.æ¼”åŒ–.-&gt; C1
    A2 -.æ¼”åŒ–.-&gt; C2
    A3 -.æ¼”åŒ–.-&gt; C3
    
    style C1 fill:#90EE90
    style C2 fill:#87CEEB
    style C3 fill:#FFB6C1
</code></pre>
<p><strong>å…³é”®è®­ç»ƒæŠ€æœ¯ï¼š</strong></p>
<ul>
<li><strong>OBST</strong>ï¼ˆOne-Batch Selective Trainingï¼‰</li>
<li><strong>GShard</strong>ï¼ˆGoogleï¼‰</li>
<li><strong>Switch Transformer</strong>ï¼ˆGoogleï¼‰</li>
<li><strong>DeepSpeed-MoE</strong>ï¼ˆå¾®è½¯ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-28">7.4 é˜²æ­¢ä¸“å®¶é—²ç½®çš„æœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">mindmap
  root((é˜²æ­¢ä¸“å®¶é—²ç½®))
    è´Ÿè½½å‡è¡¡æŸå¤±
      æƒ©ç½šè¿‡åº¦ä½¿ç”¨æŸä¸ªä¸“å®¶
      å¥–åŠ±ä½¿ç”¨å†·é—¨ä¸“å®¶
    å¤šä»»åŠ¡è®­ç»ƒ
      è¦†ç›–ä¸åŒé¢†åŸŸæ•°æ®
      ç¡®ä¿æ¯ä¸ªä¸“å®¶æœ‰ç”¨æ­¦ä¹‹åœ°
    éšæœºå™ªå£°
      è·¯ç”±å™¨æ·»åŠ éšæœºæ‰°åŠ¨
      å¢åŠ ä¸“å®¶æ¿€æ´»å¤šæ ·æ€§
    Expert Dropout
      è®­ç»ƒæ—¶éšæœºä¸¢å¼ƒä¸“å®¶
      å¼ºåˆ¶å…¶ä»–ä¸“å®¶å­¦ä¹ 
</code></pre>
<p><strong>ç»“æœï¼š</strong> æ‰€æœ‰ä¸“å®¶éƒ½æœ‰æœºä¼šå‚ä¸è®­ç»ƒï¼Œä¸ä¼šå‡ºç°"æ´»è·ƒä¸“å®¶"å’Œ"åƒµå°¸ä¸“å®¶"ã€‚</p>
<hr/>
<h3 data-id="heading-29">8. å®Œæ•´çŸ¥è¯†ä½“ç³»æ€»ç»“</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">mindmap
  root((MoEæ ¸å¿ƒçŸ¥è¯†))
    åŸºç¡€æ¦‚å¿µ
      å¤šä¸“å®¶ç»“æ„
      ç¨€ç–æ¿€æ´»
      è·¯ç”±æœºåˆ¶
    å‚æ•°å…³ç³»
      æ€»å‚æ•°ä¸ç­‰æ¨ç†æˆæœ¬
      æ¿€æ´»å‚æ•°å®šæˆæœ¬
      æ˜¾å­˜å ç”¨1/10
    æ¨¡å‹å¯¹æ¯”
      Denseå…¨æ¿€æ´»
      MoEé€‰æ¿€æ´»
      æ€§èƒ½æˆæœ¬æƒè¡¡
    è®­ç»ƒæœºåˆ¶
      è·¯ç”±å™¨è®­ç»ƒ
      ä¸“å®¶ç‰¹åŒ–
      è´Ÿè½½å‡è¡¡
    éƒ¨ç½²æ–¹æ¡ˆ
      æ¶ˆè´¹çº§14B
      ä¸“ä¸šçº§32B
      ä¼ä¸šçº§72B
    ä¼˜åŠ¿
      å¤§æ¨¡å‹èƒ½åŠ›
      å°æ¨¡å‹æˆæœ¬
      é¢†åŸŸç‰¹åŒ–
</code></pre>
<hr/>
<h3 data-id="heading-30">9. åå¥è¯æŒæ¡ MoE</h3>
<ol>
<li><strong>MoE = å¤šä¸“å®¶ç»“æ„ï¼Œæ¯æ¬¡åªæ¿€æ´»å°‘æ•°ä¸“å®¶</strong></li>
<li><strong>æ€»å‚æ•°ï¼ˆå¦‚ 30Bï¼‰â‰  æ¨ç†æˆæœ¬</strong></li>
<li><strong>æ¨ç†æˆæœ¬ â‰ˆ æ¿€æ´»å‚æ•°ï¼ˆå¦‚ 3Bï¼‰</strong></li>
<li><strong>Dense = å…¨éƒ¨æ¿€æ´»ï¼Œæ€§èƒ½å¼ºä½†æˆæœ¬é«˜</strong></li>
<li><strong>MoE = "å¤§æ¨¡å‹èƒ½åŠ› + å°æ¨¡å‹æˆæœ¬"</strong></li>
<li><strong>INT4/FP8 æ˜¯é‡åŒ–æŠ€æœ¯ï¼Œä¸ MoE æ¶æ„æ— å…³</strong></li>
<li><strong>INT4 çœæ˜¾å­˜ä½†ä¼šç•¥é™æ€§èƒ½</strong></li>
<li><strong>MoE ä¸ä¼šæµªè´¹å‚æ•°ï¼Œæœªæ¿€æ´»ä¸“å®¶ä¼šåœ¨å…¶ä»–ä»»åŠ¡ä¸­ä½¿ç”¨</strong></li>
<li><strong>Qwen3-14B Dense FP8 æ˜¯æœ€ç¨³å¥çš„éƒ¨ç½²æ–¹æ¡ˆ</strong></li>
<li><strong>Qwen-MoE ç³»åˆ—é€‚åˆæ˜¾å­˜ 4GB~24GB çš„åœºæ™¯</strong></li>
</ol>
<hr/>
<h3 data-id="heading-31">10. ä¸ªäººå¿«é€Ÿå†³ç­–æŒ‡å—</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    Start[å¼€å§‹é€‰æ‹©æ¨¡å‹] --&gt; Q1{ä½ çš„æ˜¾å­˜?}
    
    Q1 --&gt;|4-8GB| A1[Qwen1.5-MoE-33B INT4&lt;br/&gt;æ˜¾å­˜: 1.5GB&lt;br/&gt;æ€§èƒ½: ä¸­ä¸Š]
    Q1 --&gt;|12-16GB| A2[Qwen3-7B Dense FP8&lt;br/&gt;æ˜¾å­˜: 7GB&lt;br/&gt;æ€§èƒ½: ä¸­]
    Q1 --&gt;|20-24GB| A3{ä¼˜å…ˆä»€ä¹ˆ?}
    Q1 --&gt;|40GB+| A4[Qwen3-32B Dense FP8&lt;br/&gt;æ˜¾å­˜: 30GB&lt;br/&gt;æ€§èƒ½: æå¼º]
    Q1 --&gt;|80GB+| A5[Qwen3-72B Dense FP8&lt;br/&gt;æ˜¾å­˜: 72GB&lt;br/&gt;æ€§èƒ½: é¡¶çº§]
    
    A3 --&gt;|æ€§èƒ½| B1[Qwen3-14B Dense FP8&lt;br/&gt;æ˜¾å­˜: 14GB&lt;br/&gt;æ€§èƒ½: å¼º]
    A3 --&gt;|å…¼é¡¾| B2[Qwen3-14B Dense INT4&lt;br/&gt;æ˜¾å­˜: 7GB&lt;br/&gt;æ€§èƒ½: å¼º]
    
    style A1 fill:#87CEEB
    style B1 fill:#90EE90
    style A4 fill:#FFD700
    style A5 fill:#FF6B6B
</code></pre>
<hr/>
<h3 data-id="heading-32">é™„å½•ï¼šå‚è€ƒèµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fqwen.readthedocs.io%2F" target="_blank" title="https://qwen.readthedocs.io/" ref="nofollow noopener noreferrer">Qwen å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FQwen" target="_blank" title="https://huggingface.co/Qwen" ref="nofollow noopener noreferrer">Hugging Face Model Hub</a></li>
</ul>
<p><strong>éƒ¨ç½²å·¥å…·ï¼š</strong></p>
<ul>
<li>vLLM</li>
<li>Ollama</li>
<li>llama.cpp</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šCDNæ˜¯æ€ä¹ˆåŠ é€Ÿç½‘ç«™è®¿é—®çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582438310103613486</link>    <guid>https://juejin.cn/post/7582438310103613486</guid>    <pubDate>2025-12-11T15:11:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310103613486" data-draft-id="7582438310103597102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šCDNæ˜¯æ€ä¹ˆåŠ é€Ÿç½‘ç«™è®¿é—®çš„ï¼Ÿ"/> <meta itemprop="keywords" content="CDN"/> <meta itemprop="datePublished" content="2025-12-11T15:11:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šCDNæ˜¯æ€ä¹ˆåŠ é€Ÿç½‘ç«™è®¿é—®çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:11:45.000Z" title="Thu Dec 11 2025 15:11:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšå‰ç«¯é¡¹ç›®çš„æ—¶å€™ï¼Œç»å¸¸å¬åˆ°"é™æ€èµ„æºè¦æ”¾CDN"è¿™ç§è¯´æ³•ï¼š</p>
<ul>
<li>CDNåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆèƒ½åŠ é€Ÿï¼Ÿ</li>
<li>ç”¨æˆ·è®¿é—®CDNçš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</li>
<li>å‰ç«¯é¡¹ç›®æ€ä¹ˆé…ç½®CDNï¼Ÿ</li>
</ul>
<h2 data-id="heading-0">å…ˆè¯´ç»“è®º</h2>
<p>CDNï¼ˆContent Delivery Networkï¼‰çš„æ ¸å¿ƒåŸç†ï¼š<strong>æŠŠå†…å®¹ç¼“å­˜åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨ä¸Š</strong>ã€‚</p>
<p>æ²¡æœ‰CDNæ—¶ï¼ŒåŒ—äº¬ç”¨æˆ·è®¿é—®ç¾å›½æœåŠ¡å™¨ï¼Œæ•°æ®è¦è·¨è¶Šå¤ªå¹³æ´‹ã€‚æœ‰äº†CDNï¼Œæ•°æ®ä»åŒ—äº¬çš„CDNèŠ‚ç‚¹è¿”å›ï¼Œå¿«å¾—å¤šã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph æ²¡æœ‰CDN
        U1[åŒ—äº¬ç”¨æˆ·] --&gt;|è·¨è¶Šå¤ªå¹³æ´‹| S1[ç¾å›½æœåŠ¡å™¨]
    end

    subgraph æœ‰CDN
        U2[åŒ—äº¬ç”¨æˆ·] --&gt;|å°±è¿‘è®¿é—®| C2[åŒ—äº¬CDNèŠ‚ç‚¹]
        C2 -.-&gt;|é¦–æ¬¡å›æº| S2[ç¾å›½æœåŠ¡å™¨]
    end
</code></pre>
<h2 data-id="heading-1">CDNçš„å·¥ä½œæµç¨‹</h2>
<p>å½“ç”¨æˆ·è®¿é—®ä¸€ä¸ªCDNåŠ é€Ÿçš„èµ„æºæ—¶ï¼Œä¼šç»è¿‡è¿™å‡ æ­¥ï¼š</p>
<h3 data-id="heading-2">1. DNSè§£æ</h3>
<p>ç”¨æˆ·è®¿é—® <code>cdn.example.com</code>ï¼ŒDNSä¼šè¿”å›ç¦»ç”¨æˆ·æœ€è¿‘çš„CDNèŠ‚ç‚¹IPã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨åŒ—äº¬æŸ¥è¯¢</span>
$ dig cdn.example.com
;; ANSWER SECTION:
cdn.example.com.    60    IN    A    101.37.27.xxx  <span class="hljs-comment"># åŒ—äº¬èŠ‚ç‚¹</span>

<span class="hljs-comment"># åœ¨ä¸Šæµ·æŸ¥è¯¢</span>
$ dig cdn.example.com
;; ANSWER SECTION:
cdn.example.com.    60    IN    A    47.100.99.xxx  <span class="hljs-comment"># ä¸Šæµ·èŠ‚ç‚¹</span>
</code></pre>
<p>åŒä¸€ä¸ªåŸŸåï¼Œä¸åŒåœ°åŒºè§£æå‡ºä¸åŒIPï¼Œè¿™å°±æ˜¯CDNçš„æ™ºèƒ½è°ƒåº¦ã€‚</p>
<h3 data-id="heading-3">2. ç¼“å­˜åˆ¤æ–­</h3>
<p>è¯·æ±‚åˆ°è¾¾CDNèŠ‚ç‚¹åï¼ŒèŠ‚ç‚¹æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰ç¼“å­˜ï¼š</p>
<ul>
<li><strong>ç¼“å­˜å‘½ä¸­</strong>ï¼šç›´æ¥è¿”å›ï¼Œé€Ÿåº¦æœ€å¿«</li>
<li><strong>ç¼“å­˜æœªå‘½ä¸­</strong>ï¼šå‘æºæœåŠ¡å™¨è·å–ï¼Œç„¶åç¼“å­˜èµ·æ¥</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·è¯·æ±‚] --&gt; B[CDNè¾¹ç¼˜èŠ‚ç‚¹]
    B --&gt; C{æœ¬åœ°æœ‰ç¼“å­˜?}
    C --&gt;|æœ‰| D[ç›´æ¥è¿”å›]
    C --&gt;|æ²¡æœ‰| E[å›æºè·å–]
    E --&gt; F[æºæœåŠ¡å™¨]
    F --&gt; G[è¿”å›å†…å®¹]
    G --&gt; H[ç¼“å­˜åˆ°è¾¹ç¼˜èŠ‚ç‚¹]
    H --&gt; D

    classDef hit fill:#d4edda,stroke:#28a745,color:#155724
    classDef miss fill:#fff3cd,stroke:#ffc107,color:#856404
    class D hit
    class E,F,G,H miss
</code></pre>
<h3 data-id="heading-4">3. ç¼“å­˜ç­–ç•¥</h3>
<p>CDNæ ¹æ®HTTPå¤´å†³å®šæ€ä¹ˆç¼“å­˜ï¼š</p>
<pre><code class="hljs language-http" lang="http"># å…¸å‹çš„é™æ€èµ„æºå“åº”å¤´
Cache-Control: public, max-age=31536000
ETag: "abc123"
Last-Modified: Wed, 21 Oct 2024 07:28:00 GMT
</code></pre>
<ul>
<li><code>max-age=31536000</code>ï¼šç¼“å­˜1å¹´</li>
<li><code>public</code>ï¼šå…è®¸CDNç¼“å­˜</li>
<li><code>ETag</code>ï¼šæ–‡ä»¶æŒ‡çº¹ï¼Œç”¨äºéªŒè¯ç¼“å­˜æ˜¯å¦è¿‡æœŸ</li>
</ul>
<h2 data-id="heading-5">ä¸ºä»€ä¹ˆCDNèƒ½åŠ é€Ÿ</h2>
<h3 data-id="heading-6">1. ç‰©ç†è·ç¦»æ›´è¿‘</h3>
<p>å…‰åœ¨å…‰çº¤ä¸­çš„ä¼ æ’­é€Ÿåº¦çº¦ä¸º 20 ä¸‡å…¬é‡Œ/ç§’ã€‚åŒ—äº¬åˆ°ç¾å›½å¾€è¿” 2 ä¸‡å…¬é‡Œï¼Œå…‰ä¼ è¾“å°±è¦ 100msã€‚</p>
<p>CDNæŠŠå†…å®¹æ”¾åˆ°ç¦»ç”¨æˆ·è¿‘çš„åœ°æ–¹ï¼Œè¿™ä¸ªå»¶è¿Ÿå‡ ä¹å¯ä»¥å¿½ç•¥ã€‚</p>
<h3 data-id="heading-7">2. åˆ†æ•£æœåŠ¡å™¨å‹åŠ›</h3>
<p>æ²¡æœ‰CDNï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ‰“åˆ°æºæœåŠ¡å™¨ã€‚æœ‰äº†CDNï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ˆç¼“å­˜æœªå‘½ä¸­ï¼‰æ‰éœ€è¦å›æºã€‚</p>
<p>å‡è®¾ä¸€å¼ å›¾ç‰‡è¢«è®¿é—® 100 ä¸‡æ¬¡ï¼š</p>
<ul>
<li>æ²¡æœ‰CDNï¼šæºæœåŠ¡å™¨å¤„ç† 100 ä¸‡æ¬¡è¯·æ±‚</li>
<li>æœ‰CDNï¼šæºæœåŠ¡å™¨åªå¤„ç†å‡ åæ¬¡ï¼ˆå„èŠ‚ç‚¹é¦–æ¬¡å›æºï¼‰</li>
</ul>
<h3 data-id="heading-8">3. è¾¹ç¼˜èŠ‚ç‚¹ä¼˜åŒ–</h3>
<p>CDNæœåŠ¡å•†çš„è¾¹ç¼˜èŠ‚ç‚¹é€šå¸¸æœ‰è¿™äº›ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨å‹ç¼©</strong>ï¼šGzip/Brotliå‹ç¼©</li>
<li><strong>åè®®ä¼˜åŒ–</strong>ï¼šHTTP/2ã€HTTP/3</li>
<li><strong>è¿æ¥å¤ç”¨</strong>ï¼šKeep-Aliveè¿æ¥æ± </li>
<li><strong>æ™ºèƒ½è·¯ç”±</strong>ï¼šé€‰æ‹©æœ€ä¼˜ç½‘ç»œè·¯å¾„</li>
</ul>
<h2 data-id="heading-9">å‰ç«¯é¡¹ç›®é…ç½®CDN</h2>
<h3 data-id="heading-10">1. æ„å»ºé…ç½®</h3>
<p>ä»¥Viteä¸ºä¾‹ï¼Œé…ç½®é™æ€èµ„æºçš„CDNåœ°å€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">base</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>
    ? <span class="hljs-string">'https://cdn.example.com/'</span>
    : <span class="hljs-string">'/'</span>,
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// æ–‡ä»¶åå¸¦hashï¼Œä¾¿äºé•¿æœŸç¼“å­˜</span>
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'js/[name].[hash].js'</span>,
        <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'js/[name].[hash].js'</span>,
        <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'assets/[name].[hash].[ext]'</span>
      }
    }
  }
})
</code></pre>
<p>Webpacké…ç½®ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">publicPath</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>
      ? <span class="hljs-string">'https://cdn.example.com/'</span>
      : <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">filename</span>: <span class="hljs-string">'js/[name].[contenthash].js'</span>,
  }
}
</code></pre>
<h3 data-id="heading-11">2. ä¸Šä¼ åˆ°CDN</h3>
<p>æ„å»ºå®Œæˆåï¼ŒæŠŠ<code>dist</code>ç›®å½•çš„æ–‡ä»¶ä¸Šä¼ åˆ°CDNã€‚å¤§å¤šæ•°CDNæœåŠ¡å•†éƒ½æä¾›CLIå·¥å…·æˆ–APIï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é˜¿é‡Œäº‘OSS + CDN</span>
aliyun oss <span class="hljs-built_in">cp</span> -r ./dist oss://your-bucket/

<span class="hljs-comment"># AWS S3 + CloudFront</span>
aws s3 <span class="hljs-built_in">sync</span> ./dist s3://your-bucket/

<span class="hljs-comment"># ä¸ƒç‰›äº‘</span>
qshell qupload2 --src-dir=./dist --bucket=your-bucket
</code></pre>
<h3 data-id="heading-12">3. ç¼“å­˜ç­–ç•¥é…ç½®</h3>
<p>å…³é”®æ˜¯åŒºåˆ†ä¸¤ç±»æ–‡ä»¶ï¼š</p>
<p><strong>å¸¦hashçš„é™æ€èµ„æº</strong>ï¼ˆJSã€CSSã€å›¾ç‰‡ï¼‰ï¼šé•¿æœŸç¼“å­˜</p>
<pre><code class="hljs language-nginx" lang="nginx">location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff2?)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
</code></pre>
<p><strong>HTMLæ–‡ä»¶</strong>ï¼šä¸ç¼“å­˜æˆ–çŸ­æœŸç¼“å­˜</p>
<pre><code class="hljs language-nginx" lang="nginx">location ~* \.html$ {
    expires 0;
    add_header Cache-Control "no-cache, must-revalidate";
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿå› ä¸ºHTMLæ˜¯å…¥å£æ–‡ä»¶ï¼Œå®ƒå¼•ç”¨çš„JS/CSSå¸¦æœ‰hashã€‚æ›´æ–°ä»£ç æ—¶ï¼š</p>
<ol>
<li>æ–°çš„JSæ–‡ä»¶ä¼šæœ‰æ–°çš„hashï¼ˆ<code>app.abc123.js</code> â†’ <code>app.def456.js</code>ï¼‰</li>
<li>HTMLæ–‡ä»¶å¼•ç”¨æ–°çš„JSæ–‡ä»¶</li>
<li>ç”¨æˆ·è·å–æ–°HTMLåï¼Œä¼šåŠ è½½æ–°çš„JSæ–‡ä»¶</li>
<li>æ—§çš„JSæ–‡ä»¶åœ¨CDNä¸Šç»§ç»­å­˜åœ¨ï¼Œä¸å½±å“æ­£åœ¨è®¿é—®çš„ç”¨æˆ·</li>
</ol>
<h3 data-id="heading-13">4. DNSé…ç½®</h3>
<p>æŠŠCDNåŸŸåé…ç½®æˆCNAMEæŒ‡å‘CDNæœåŠ¡å•†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é˜¿é‡Œäº‘CDN</span>
cdn.example.com.    IN    CNAME    cdn.example.com.w.kunlunsl.com.

<span class="hljs-comment"># Cloudflare</span>
cdn.example.com.    IN    CNAME    example.com.cdn.cloudflare.net.
</code></pre>
<h2 data-id="heading-14">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-15">è·¨åŸŸé—®é¢˜</h3>
<p>CDNåŸŸåå’Œä¸»åŸŸåä¸åŒï¼Œå­—ä½“æ–‡ä»¶ã€AJAXè¯·æ±‚å¯èƒ½é‡åˆ°è·¨åŸŸã€‚</p>
<p>è§£å†³æ–¹æ¡ˆæ˜¯åœ¨CDNé…ç½®CORSå¤´ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx"># CDNæœåŠ¡å™¨é…ç½®
add_header Access-Control-Allow-Origin "https://example.com";
add_header Access-Control-Allow-Methods "GET, HEAD, OPTIONS";
</code></pre>
<p>æˆ–è€…åœ¨æºæœåŠ¡å™¨çš„å“åº”é‡ŒåŠ ä¸ŠCORSå¤´ï¼ŒCDNä¼šé€ä¼ ã€‚</p>
<h3 data-id="heading-16">ç¼“å­˜æ›´æ–°é—®é¢˜</h3>
<p>å‘å¸ƒæ–°ç‰ˆæœ¬åï¼Œç”¨æˆ·è¿˜æ˜¯çœ‹åˆ°æ—§å†…å®¹ï¼Ÿ</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šæ–‡ä»¶åå¸¦hash</strong>ï¼ˆæ¨èï¼‰</p>
<p>å‰é¢å·²ç»æåˆ°ï¼Œæ–‡ä»¶åå¸¦hashï¼Œæ–°ç‰ˆæœ¬å°±æ˜¯æ–°æ–‡ä»¶ï¼Œä¸å­˜åœ¨ç¼“å­˜é—®é¢˜ã€‚</p>
<p><strong>æ–¹æ¡ˆäºŒï¼šä¸»åŠ¨åˆ·æ–°ç¼“å­˜</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è°ƒç”¨CDNæœåŠ¡å•†çš„åˆ·æ–°API</span>
<span class="hljs-keyword">await</span> cdnClient.<span class="hljs-title function_">refreshObjectCaches</span>({
  <span class="hljs-title class_">ObjectPath</span>: <span class="hljs-string">'https://cdn.example.com/app.js\nhttps://cdn.example.com/app.css'</span>,
  <span class="hljs-title class_">ObjectType</span>: <span class="hljs-string">'File'</span>
});
</code></pre>
<p><strong>æ–¹æ¡ˆä¸‰ï¼šURLåŠ ç‰ˆæœ¬å·</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.example.com/app.js?v=1.2.3"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰äº›CDNä¼šå¿½ç•¥æŸ¥è¯¢å‚æ•°ã€‚</p>
<h3 data-id="heading-17">HTTPSè¯ä¹¦</h3>
<p>CDNåŸŸåä¹Ÿéœ€è¦HTTPSè¯ä¹¦ã€‚å¤§å¤šæ•°CDNæœåŠ¡å•†æä¾›å…è´¹è¯ä¹¦æˆ–æ”¯æŒä¸Šä¼ è‡ªæœ‰è¯ä¹¦ã€‚</p>
<p>é…ç½®æ–¹å¼ï¼š</p>
<ol>
<li>åœ¨CDNæ§åˆ¶å°ç”³è¯·å…è´¹è¯ä¹¦ï¼ˆé€šå¸¸æ˜¯DVè¯ä¹¦ï¼‰</li>
<li>æˆ–ä¸Šä¼ è‡ªå·±çš„è¯ä¹¦ï¼ˆç”¨Let's Encryptç”³è¯·ï¼‰</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨certbotç”³è¯·æ³›åŸŸåè¯ä¹¦</span>
certbot certonly --manual --preferred-challenges dns \
  -d <span class="hljs-string">"*.example.com"</span> -d <span class="hljs-string">"example.com"</span>
</code></pre>
<h3 data-id="heading-18">å›æºä¼˜åŒ–</h3>
<p>å¦‚æœæºæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œå¯ä»¥å¯ç”¨"å›æºåŠ é€Ÿ"æˆ–"ä¸­é—´æº"ï¼š</p>
<pre><code class="hljs">ç”¨æˆ· â†’ è¾¹ç¼˜èŠ‚ç‚¹ â†’ ä¸­é—´æº â†’ æºæœåŠ¡å™¨
</code></pre>
<p>ä¸­é—´æºä½œä¸ºäºŒçº§ç¼“å­˜ï¼Œå‡å°‘å¯¹æºæœåŠ¡å™¨çš„è¯·æ±‚ã€‚å¤šæ•°CDNæœåŠ¡å•†é»˜è®¤å¼€å¯è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h2 data-id="heading-19">CDNé€‰å‹</h2>



































<table><thead><tr><th>CDNæœåŠ¡å•†</th><th>ä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>é˜¿é‡Œäº‘CDN</td><td>å›½å†…èŠ‚ç‚¹å¤šï¼Œç”Ÿæ€å®Œæ•´</td><td>å›½å†…ä¸šåŠ¡ä¸ºä¸»</td></tr><tr><td>è…¾è®¯äº‘CDN</td><td>æ¸¸æˆåŠ é€Ÿå¥½ï¼Œç›´æ’­æ”¯æŒå¼º</td><td>æ¸¸æˆã€ç›´æ’­</td></tr><tr><td>Cloudflare</td><td>å…¨çƒèŠ‚ç‚¹ï¼Œæœ‰å…è´¹å¥—é¤</td><td>å‡ºæµ·ä¸šåŠ¡ã€ä¸ªäººé¡¹ç›®</td></tr><tr><td>AWS CloudFront</td><td>ä¸AWSç”Ÿæ€é›†æˆ</td><td>å·²ç”¨AWSçš„é¡¹ç›®</td></tr><tr><td>Vercel/Netlify</td><td>å‰ç«¯é¡¹ç›®ä¸€ç«™å¼éƒ¨ç½²</td><td>JAMStacké¡¹ç›®</td></tr></tbody></table>
<p>ä¸ªäººé¡¹ç›®æ¨èCloudflareï¼Œå…è´¹å¥—é¤å¤Ÿç”¨ï¼Œå…¨çƒèŠ‚ç‚¹è¦†ç›–å¥½ã€‚</p>
<p>ä¼ä¸šé¡¹ç›®æ ¹æ®ç”¨æˆ·åˆ†å¸ƒé€‰æ‹©ã€‚é¢å‘å›½å†…ç”¨æˆ·ï¼Œé˜¿é‡Œäº‘/è…¾è®¯äº‘æ›´åˆé€‚ï¼›é¢å‘å…¨çƒç”¨æˆ·ï¼ŒCloudflareæˆ–CloudFrontã€‚</p>
<h2 data-id="heading-20">éªŒè¯CDNæ•ˆæœ</h2>
<h3 data-id="heading-21">æµè§ˆå™¨å¼€å‘è€…å·¥å…·</h3>
<p>æ‰“å¼€Networké¢æ¿ï¼Œå…³æ³¨è¿™å‡ ä¸ªæŒ‡æ ‡ï¼š</p>
<ul>
<li><strong>TTFBï¼ˆTime To First Byteï¼‰</strong>ï¼šé¦–å­—èŠ‚æ—¶é—´ï¼Œè¶Šå°è¶Šå¥½</li>
<li><strong>å“åº”å¤´ä¸­çš„ç¼“å­˜ä¿¡æ¯</strong>ï¼š<code>X-Cache: HIT</code> è¡¨ç¤ºå‘½ä¸­CDNç¼“å­˜</li>
</ul>
<h3 data-id="heading-22">å‘½ä»¤è¡Œæµ‹è¯•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å“åº”å¤´</span>
curl -I https://cdn.example.com/app.js

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹</span>
HTTP/2 200
cache-control: public, max-age=31536000
x-cache: HIT from CN-Beijing
</code></pre>
<h3 data-id="heading-23">åœ¨çº¿å·¥å…·</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.pingdom.com%2F" target="_blank" title="https://tools.pingdom.com/" ref="nofollow noopener noreferrer">Pingdom</a> - å…¨çƒå¤šç‚¹æµ‹é€Ÿ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgtmetrix.com%2F" target="_blank" title="https://gtmetrix.com/" ref="nofollow noopener noreferrer">GTmetrix</a> - æ€§èƒ½åˆ†æ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.webpagetest.org%2F" target="_blank" title="https://www.webpagetest.org/" ref="nofollow noopener noreferrer">WebPageTest</a> - è¯¦ç»†çš„åŠ è½½ç€‘å¸ƒå›¾</li>
</ul>
<h2 data-id="heading-24">å°ç»“</h2>
<p>CDNåŠ é€Ÿçš„æ ¸å¿ƒåŸç†ï¼š</p>
<ol>
<li><strong>å°±è¿‘è®¿é—®</strong>ï¼šDNSæ™ºèƒ½è§£æï¼ŒæŠŠç”¨æˆ·å¼•å¯¼åˆ°æœ€è¿‘çš„èŠ‚ç‚¹</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šè¾¹ç¼˜èŠ‚ç‚¹ç¼“å­˜å†…å®¹ï¼Œå‡å°‘å›æº</li>
<li><strong>åè®®ä¼˜åŒ–</strong>ï¼šHTTP/2ã€å‹ç¼©ã€è¿æ¥å¤ç”¨</li>
</ol>
<p>å‰ç«¯é…ç½®CDNçš„å…³é”®ï¼š</p>
<ol>
<li><strong>æ„å»ºæ—¶é…ç½®publicPath</strong>ï¼šæŒ‡å‘CDNåŸŸå</li>
<li><strong>æ–‡ä»¶åå¸¦hash</strong>ï¼šä¾¿äºé•¿æœŸç¼“å­˜</li>
<li><strong>HTMLä¸ç¼“å­˜</strong>ï¼šç¡®ä¿ç”¨æˆ·èƒ½è·å–åˆ°æœ€æ–°å…¥å£</li>
<li><strong>å¤„ç†è·¨åŸŸ</strong>ï¼šé…ç½®CORSå¤´</li>
</ol>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šCNAMEå’ŒAè®°å½•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582399765449621531</link>    <guid>https://juejin.cn/post/7582399765449621531</guid>    <pubDate>2025-12-11T15:13:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765449621531" data-draft-id="7582413770091626534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šCNAMEå’ŒAè®°å½•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"/> <meta itemprop="keywords" content="ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-11T15:13:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šCNAMEå’ŒAè®°å½•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:13:22.000Z" title="Thu Dec 11 2025 15:13:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é…ç½®åŸŸåè§£æçš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°Aè®°å½•ã€CNAMEè¿™äº›é€‰é¡¹ï¼š</p>
<ul>
<li>Aè®°å½•å’ŒCNAMEåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆGitHub Pagesè¦æ±‚æ·»åŠ CNAMEè®°å½•ï¼Ÿ</li>
<li>ä»€ä¹ˆæ—¶å€™è¯¥ç”¨Aè®°å½•ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨CNAMEï¼Ÿ</li>
</ul>
<h2 data-id="heading-0">å…ˆè¯´ç»“è®º</h2>



































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Aè®°å½•</th><th>CNAMEè®°å½•</th></tr></thead><tbody><tr><td>æŒ‡å‘ç›®æ ‡</td><td>IPåœ°å€</td><td>å¦ä¸€ä¸ªåŸŸå</td></tr><tr><td>è§£ææ¬¡æ•°</td><td>1æ¬¡</td><td>2æ¬¡æˆ–æ›´å¤š</td></tr><tr><td>æ ¹åŸŸåæ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>å…¸å‹åœºæ™¯</td><td>ç›´æ¥æŒ‡å‘æœåŠ¡å™¨</td><td>CDNã€æ‰˜ç®¡å¹³å°</td></tr><tr><td>çµæ´»æ€§</td><td>ä½ï¼ˆIPå˜æ›´éœ€ä¿®æ”¹ï¼‰</td><td>é«˜ï¼ˆç›®æ ‡åŸŸåIPå˜æ›´æ— æ„ŸçŸ¥ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-1">ä¸¤ç§è®°å½•çš„æœ¬è´¨åŒºåˆ«</h2>
<h3 data-id="heading-2">Aè®°å½•ï¼šç›´æ¥æŒ‡å‘IP</h3>
<p>Aè®°å½•ï¼ˆAddress Recordï¼‰æ˜¯æœ€åŸºç¡€çš„DNSè®°å½•ï¼Œç›´æ¥æŠŠåŸŸåæ˜ å°„åˆ°IPåœ°å€ã€‚</p>
<pre><code class="hljs language-css" lang="css"># <span class="hljs-selector-tag">A</span>è®°å½•é…ç½®
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">108.153</span>
</code></pre>
<p>DNSæŸ¥è¯¢è¿‡ç¨‹å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·æŸ¥è¯¢ example.com â†’ DNSè¿”å› 185.199.108.153 â†’ å®Œæˆ
</code></pre>
<h3 data-id="heading-3">CNAMEï¼šæŒ‡å‘å¦ä¸€ä¸ªåŸŸå</h3>
<p>CNAMEï¼ˆCanonical Nameï¼‰è®°å½•ä¸ç›´æ¥æŒ‡å‘IPï¼Œè€Œæ˜¯æŒ‡å‘å¦ä¸€ä¸ªåŸŸåã€‚</p>
<pre><code class="hljs language-objectivec" lang="objectivec"># <span class="hljs-built_in">CNAME</span>é…ç½®
blog.example.com.    IN    <span class="hljs-built_in">CNAME</span>    username.github.io.
</code></pre>
<p>DNSæŸ¥è¯¢éœ€è¦ä¸¤æ­¥ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">ç”¨æˆ·æŸ¥è¯¢ blog.example.com â†’ DNSè¿”å› username.github.<span class="hljs-built_in">io</span> â†’ ç»§ç»­æŸ¥è¯¢ â†’ DNSè¿”å› <span class="hljs-number">185.199</span><span class="hljs-number">.108</span><span class="hljs-number">.153</span> â†’ å®Œæˆ
</code></pre>
<p>ç”¨æµç¨‹å›¾è¡¨ç¤ºæ›´æ¸…æ¥šï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph Aè®°å½•è§£æ
        A1[ç”¨æˆ·æŸ¥è¯¢\nexample.com] --&gt; A2[DNSæœåŠ¡å™¨]
        A2 --&gt; A3[è¿”å›IP\n185.199.108.153]
    end

    subgraph CNAMEè§£æ
        C1[ç”¨æˆ·æŸ¥è¯¢\nblog.example.com] --&gt; C2[DNSæœåŠ¡å™¨]
        C2 --&gt; C3[è¿”å›CNAME\nusername.github.io]
        C3 --&gt; C4[ç»§ç»­æŸ¥è¯¢]
        C4 --&gt; C5[è¿”å›IP\n185.199.108.153]
    end
</code></pre>
<h2 data-id="heading-4">ä¸ºä»€ä¹ˆéœ€è¦CNAME</h2>
<p>çœ‹èµ·æ¥CNAMEå¤šäº†ä¸€æ¬¡æŸ¥è¯¢ï¼Œæ›´æ…¢äº†ã€‚é‚£ä¸ºä»€ä¹ˆè¿˜è¦ç”¨å®ƒï¼Ÿ</p>
<h3 data-id="heading-5">åœºæ™¯ä¸€ï¼šæœåŠ¡å™¨IPä¼šå˜</h3>
<p>å‡è®¾ä½ ç”¨Aè®°å½•æŠŠåŸŸåæŒ‡å‘äº†ä¸€å°æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-css" lang="css">www<span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">1.2</span>.<span class="hljs-number">3.4</span>
</code></pre>
<p>æœ‰ä¸€å¤©æœåŠ¡å™¨è¿ç§»äº†ï¼ŒIPå˜æˆäº† <code>5.6.7.8</code>ï¼Œä½ éœ€è¦æ‰‹åŠ¨æ”¹DNSé…ç½®ã€‚å¦‚æœæœ‰å¤šä¸ªåŸŸåéƒ½æŒ‡å‘è¿™å°æœåŠ¡å™¨ï¼Œæ¯ä¸ªéƒ½è¦æ”¹ã€‚</p>
<p>ç”¨CNAMEå°±ä¸ä¸€æ ·äº†ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec">www.example.com.     IN    <span class="hljs-built_in">CNAME</span>    myapp.hosting.com.
blog.example.com.    IN    <span class="hljs-built_in">CNAME</span>    myapp.hosting.com.
api.example.com.     IN    <span class="hljs-built_in">CNAME</span>    myapp.hosting.com.
</code></pre>
<p>æœåŠ¡å™¨IPå˜äº†ï¼Œåªéœ€è¦æ‰˜ç®¡å¹³å°ï¼ˆmyapp.hosting.comï¼‰æ›´æ–°å®ƒçš„Aè®°å½•ï¼Œä½ çš„æ‰€æœ‰åŸŸåè‡ªåŠ¨ç”Ÿæ•ˆã€‚</p>
<h3 data-id="heading-6">åœºæ™¯äºŒï¼šCDNåŠ é€Ÿ</h3>
<p>CDNæœåŠ¡å•†ä¼šæ ¹æ®ç”¨æˆ·ä½ç½®è¿”å›æœ€è¿‘çš„èŠ‚ç‚¹IPã€‚è¿™ä¸ªIPæ˜¯åŠ¨æ€çš„ï¼Œä¸å¯èƒ½ç”¨Aè®°å½•ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ¥å…¥é˜¿é‡Œäº‘CDN</span>
<span class="hljs-keyword">static</span>.example.com.    IN    CNAME    example.com.w.kunlunsl.com.
</code></pre>
<p>é˜¿é‡Œäº‘çš„CDNä¼šè‡ªåŠ¨æŠŠç”¨æˆ·å¼•å¯¼åˆ°æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œä½ ä¸éœ€è¦å…³å¿ƒå…·ä½“IPæ˜¯ä»€ä¹ˆã€‚</p>
<h3 data-id="heading-7">åœºæ™¯ä¸‰ï¼šæ‰˜ç®¡æœåŠ¡</h3>
<p>GitHub Pagesã€Vercelã€Netlifyè¿™ç±»æ‰˜ç®¡å¹³å°éƒ½è¦æ±‚ç”¨CNAMEï¼ŒåŸå› æ˜¯ï¼š</p>
<ol>
<li>å¹³å°çš„æœåŠ¡å™¨IPå¯èƒ½éšæ—¶å˜åŒ–</li>
<li>å¹³å°éœ€è¦é€šè¿‡åŸŸåè¯†åˆ«ä½ çš„ç«™ç‚¹</li>
<li>ä¾¿äºå®ç°è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»</li>
</ol>
<h2 data-id="heading-8">CNAMEçš„é™åˆ¶</h2>
<h3 data-id="heading-9">æ ¹åŸŸåä¸èƒ½ç”¨CNAME</h3>
<p>è¿™æ˜¯DNSåè®®çš„ç¡¬æ€§è§„å®šã€‚æ ¹åŸŸåï¼ˆå¦‚ <code>example.com</code>ï¼‰å¯èƒ½æœ‰MXè®°å½•ï¼ˆé‚®ä»¶ï¼‰ã€NSè®°å½•ï¼ˆåŸŸåæœåŠ¡å™¨ï¼‰ç­‰ï¼ŒCNAMEä¼šä¸è¿™äº›è®°å½•å†²çªã€‚</p>
<pre><code class="hljs language-objectivec" lang="objectivec"># é”™è¯¯ï¼šæ ¹åŸŸåä¸èƒ½è®¾ç½®<span class="hljs-built_in">CNAME</span>
example.com.         IN    <span class="hljs-built_in">CNAME</span>    username.github.io.

# æ­£ç¡®ï¼šä½¿ç”¨wwwå­åŸŸå
www.example.com.     IN    <span class="hljs-built_in">CNAME</span>    username.github.io.
</code></pre>
<p>é‚£æ ¹åŸŸåæ€ä¹ˆåŠï¼Ÿæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šç”¨Aè®°å½•ç›´æ¥æŒ‡å‘IP</strong></p>
<pre><code class="hljs language-css" lang="css">example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">108.153</span>
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">109.153</span>
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">110.153</span>
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">111.153</span>
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šç”¨ALIASè®°å½•ï¼ˆéƒ¨åˆ†DNSæœåŠ¡å•†æ”¯æŒï¼‰</strong></p>
<p>ALIASæ˜¯ä¸€ç§"å‡çš„CNAME"ï¼Œåœ¨DNSæœåŠ¡å•†é‚£è¾¹åšäº†ä¸€å±‚è½¬æ¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Cloudflareã€DNSPodç­‰æ”¯æŒ</span>
example.com.    IN    ALIAS    username.github.io.
</code></pre>
<p>å®é™…è¿”å›ç»™ç”¨æˆ·çš„è¿˜æ˜¯IPåœ°å€ï¼Œä½†é…ç½®æ—¶å¯ä»¥å¡«åŸŸåã€‚</p>
<h3 data-id="heading-10">CNAMEä¸èƒ½å’Œå…¶ä»–è®°å½•å…±å­˜</h3>
<p>åŒä¸€ä¸ªåŸŸåï¼Œå¦‚æœè®¾ç½®äº†CNAMEï¼Œå°±ä¸èƒ½å†è®¾ç½®Aè®°å½•ã€MXè®°å½•ç­‰ã€‚</p>
<pre><code class="hljs language-erlang" lang="erlang"># é”™è¯¯ï¼šCNAMEå’ŒMXå†²çª
mail.example.com.    IN    CNAME    mailserver.com.
mail.example.com.    IN    MX       <span class="hljs-number">10</span> mailserver.com.

# æ­£ç¡®ï¼šåˆ†å¼€ä½¿ç”¨ä¸åŒå­åŸŸå
www.example.com.     IN    CNAME    hosting.com.
mail.example.com.    IN    MX       <span class="hljs-number">10</span> mailserver.com.
</code></pre>
<h2 data-id="heading-11">å®æˆ˜é…ç½®ç¤ºä¾‹</h2>
<h3 data-id="heading-12">GitHub Pagesè‡ªå®šä¹‰åŸŸå</h3>
<ol>
<li>åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º<code>CNAME</code>æ–‡ä»¶ï¼š</li>
</ol>
<pre><code class="hljs">blog.example.com
</code></pre>
<ol start="2">
<li>åœ¨åŸŸåæœåŠ¡å•†æ·»åŠ CNAMEè®°å½•ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># DNSé…ç½®</span>
blog.example.com.    IN    CNAME    username.github.io.
</code></pre>
<ol start="3">
<li>éªŒè¯é…ç½®ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹CNAMEè®°å½•</span>
dig CNAME blog.example.com

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹</span>
;; ANSWER SECTION:
blog.example.com.    300    IN    CNAME    username.github.io.
username.github.io.  300    IN    A        185.199.108.153
</code></pre>
<h3 data-id="heading-13">Verceléƒ¨ç½²</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># wwwå­åŸŸåç”¨CNAME</span>
www.example.com.    IN    CNAME    cname.vercel-dns.com.

<span class="hljs-comment"># æ ¹åŸŸåç”¨Aè®°å½•</span>
example.com.        IN    A        76.76.21.21
</code></pre>
<h3 data-id="heading-14">Cloudflare CDN</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¥å…¥Cloudflare</span>
www.example.com.    IN    CNAME    example.com.cdn.cloudflare.net.
</code></pre>
<p>Cloudflareçš„ç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒæ”¯æŒ"CNAME Flattening"ï¼Œå³ä½¿æ˜¯æ ¹åŸŸåä¹Ÿå¯ä»¥é…ç½®CNAMEï¼Œå®ƒä¼šè‡ªåŠ¨è½¬æ¢æˆAè®°å½•è¿”å›ã€‚</p>
<h2 data-id="heading-15">å¸¸è§é—®é¢˜æ’æŸ¥</h2>
<h3 data-id="heading-16">é…ç½®äº†CNAMEä½†ä¸ç”Ÿæ•ˆ</h3>
<p><strong>æ£€æŸ¥TTL</strong>ï¼šDNSç¼“å­˜å¯èƒ½è¿˜æ²¡æ›´æ–°ï¼Œç­‰å¾…TTLæ—¶é—´è¿‡æœŸã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹TTL</span>
dig blog.example.com

<span class="hljs-comment"># ç¼©çŸ­TTLåŠ å¿«æµ‹è¯•ï¼ˆé…ç½®æ—¶è®¾ç½®ï¼‰</span>
blog.example.com.    60    IN    CNAME    username.github.io.
</code></pre>
<p><strong>æ£€æŸ¥ä¼ æ’­çŠ¶æ€</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨nslookupæŒ‡å®šDNSæœåŠ¡å™¨</span>
nslookup blog.example.com 8.8.8.8

<span class="hljs-comment"># æˆ–ç”¨åœ¨çº¿å·¥å…·</span>
<span class="hljs-comment"># https://dnschecker.org/</span>
</code></pre>
<h3 data-id="heading-17">å¾ªç¯å¼•ç”¨</h3>
<pre><code class="hljs language-css" lang="css"># é”™è¯¯ï¼š<span class="hljs-selector-tag">A</span>æŒ‡å‘<span class="hljs-selector-tag">B</span>ï¼Œ<span class="hljs-selector-tag">B</span>åˆæŒ‡å‘<span class="hljs-selector-tag">A</span>
<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.    IN    CNAME    <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.    IN    CNAME    <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.
</code></pre>
<p>DNSæœåŠ¡å™¨ä¼šæ£€æµ‹å¾ªç¯å¼•ç”¨å¹¶æŠ¥é”™ï¼Œä½†æ’æŸ¥èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚é…ç½®æ—¶é¿å…å¤æ‚çš„CNAMEé“¾ã€‚</p>
<h3 data-id="heading-18">HTTPSè¯ä¹¦é—®é¢˜</h3>
<p>CNAMEåªæ˜¯DNSå±‚é¢çš„è·³è½¬ï¼ŒHTTPSè¯ä¹¦éœ€è¦åœ¨æœ€ç»ˆæœåŠ¡å™¨ä¸Šé…ç½®ã€‚</p>
<p>å¦‚æœä½ æŠŠ <code>blog.example.com</code> CNAMEåˆ°äº† <code>username.github.io</code>ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>GitHub Pageséœ€è¦æ”¯æŒä½ çš„è‡ªå®šä¹‰åŸŸå</li>
<li>è¯ä¹¦è¦èƒ½è¦†ç›– <code>blog.example.com</code></li>
</ul>
<p>GitHub Pagesä¼šè‡ªåŠ¨ç”³è¯·Let's Encryptè¯ä¹¦ï¼Œä½†éœ€è¦åœ¨ä»“åº“è®¾ç½®é‡Œå¼€å¯HTTPSã€‚</p>
<h2 data-id="heading-19">å†³ç­–æŒ‡å—</h2>
<pre><code class="hljs language-objectivec" lang="objectivec">éœ€è¦é…ç½®åŸŸåè§£æ
â”œâ”€ æ‰˜ç®¡åœ¨ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆGitHub Pagesã€Vercelã€Netlifyï¼‰ï¼Ÿ
â”‚   â””â”€ ç”¨ <span class="hljs-built_in">CNAME</span> æŒ‡å‘å¹³å°åŸŸå
â”œâ”€ æ¥å…¥CDNï¼Ÿ
â”‚   â””â”€ ç”¨ <span class="hljs-built_in">CNAME</span> æŒ‡å‘CDNåŸŸå
â”œâ”€ ç›´æ¥éƒ¨ç½²åœ¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Ÿ
â”‚   â”œâ”€ IPå›ºå®šä¸”ä¸ä¼šå˜ï¼Ÿ
â”‚   â”‚   â””â”€ ç”¨ A è®°å½•
â”‚   â””â”€ IPå¯èƒ½å˜åŒ–ï¼Ÿ
â”‚       â””â”€ è€ƒè™‘ç”¨ <span class="hljs-built_in">CNAME</span> æŒ‡å‘ä¸€ä¸ªè‡ªå·±æ§åˆ¶çš„åŸŸå
â””â”€ æ ¹åŸŸåï¼Ÿ
    â””â”€ åªèƒ½ç”¨ A è®°å½•æˆ– ALIASï¼ˆå¦‚æœDNSæœåŠ¡å•†æ”¯æŒï¼‰
</code></pre>
<h2 data-id="heading-20">å°ç»“</h2>
<ul>
<li><strong>Aè®°å½•</strong>ï¼šåŸŸå â†’ IPï¼Œç®€å•ç›´æ¥ï¼Œä½†IPå˜äº†è¦æ‰‹åŠ¨æ”¹</li>
<li><strong>CNAME</strong>ï¼šåŸŸå â†’ åŸŸå â†’ IPï¼Œå¤šä¸€æ¬¡æŸ¥è¯¢ï¼Œä½†æ›´çµæ´»</li>
<li><strong>æ ¹åŸŸåä¸èƒ½ç”¨CNAME</strong>ï¼Œè¿™æ˜¯DNSåè®®é™åˆ¶</li>
<li><strong>CDNã€æ‰˜ç®¡å¹³å°éƒ½ç”¨CNAME</strong>ï¼Œå› ä¸ºå®ƒä»¬çš„IPæ˜¯åŠ¨æ€çš„</li>
</ul>
<p>é€‰æ‹©çš„æ ¸å¿ƒåŸåˆ™ï¼š<strong>å¦‚æœç›®æ ‡IPå¯èƒ½å˜åŒ–ï¼Œç”¨CNAMEï¼›å¦‚æœIPå›ºå®šï¼Œç”¨Aè®°å½•ã€‚</strong></p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7582401182934810639</link>    <guid>https://juejin.cn/post/7582401182934810639</guid>    <pubDate>2025-12-11T15:22:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582401182934810639" data-draft-id="7582401182934794255" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T15:22:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:22:21.000Z" title="Thu Dec 11 2025 15:22:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„å›¾ç‰‡åŠ è½½åº“ï¼Ÿ</h2>
<p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œå›¾ç‰‡åŠ è½½æ˜¯å½±å“ç”¨æˆ·ä½“éªŒçš„æ ¸å¿ƒç¯èŠ‚ä¹‹ä¸€ã€‚ä¸€ä¸ªä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“éœ€è¦è§£å†³å¤šä¸ªå¤æ‚é—®é¢˜ï¼šå¼‚æ­¥ä¸‹è½½ã€å†…å­˜ç¼“å­˜ã€ç£ç›˜ç¼“å­˜ã€å›¾ç‰‡è§£ç ã€åŠ¨ç”»æ”¯æŒã€åˆ—è¡¨ä¼˜åŒ–ç­‰ã€‚åœ¨ Swift ç”Ÿæ€ä¸­ï¼ŒKingfisher å‡­å€Ÿå…¶ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µå’Œå“è¶Šçš„æ€§èƒ½è¡¨ç°ï¼Œæˆä¸ºäº† iOS/macOS å¼€å‘è€…çš„é¦–é€‰ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Kingfisher æ¶æ„è®¾è®¡ï¼šæ¨¡å—åŒ–çš„è‰ºæœ¯</h2>
<h3 data-id="heading-2">æ ¸å¿ƒæ¶æ„åˆ†å±‚</h3>
<p>Kingfisher é‡‡ç”¨äº†æ¸…æ™°çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ä½¿ç”¨å±‚ (Usage Layer)           â”‚
â”‚  â€¢ UIImageView/NSImageView æ‰©å±•              â”‚
â”‚  â€¢ SwiftUI çš„ KFImage                        â”‚
â”‚  â€¢ ä¸°å¯Œçš„é€‰é¡¹é…ç½®ç³»ç»Ÿ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ç®¡ç†å±‚ (Manager Layer)            â”‚
â”‚  â€¢ KingfisherManagerï¼šå…¨å±€åè°ƒè€…              â”‚
â”‚  â€¢ ImageDownloaderï¼šä¸‹è½½ç®¡ç†                  â”‚
â”‚  â€¢ ImageCacheï¼šç¼“å­˜ç®¡ç†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             å¤„ç†å™¨å±‚ (Processor Layer)        â”‚
â”‚  â€¢ ImageProcessorï¼šå›¾ç‰‡å¤„ç†æµæ°´çº¿              â”‚
â”‚  â€¢ ImageModifierï¼šå›¾ç‰‡ä¿®é¥°å™¨                   â”‚
â”‚  â€¢ FormatIndicatedCacheSerializerï¼šåºåˆ—åŒ–å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             åŸºç¡€å±‚ (Foundation Layer)         â”‚
â”‚  â€¢ çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„                         â”‚
â”‚  â€¢ é«˜æ•ˆçš„ç¼“å­˜ç®—æ³•å®ç°                         â”‚
â”‚  â€¢ ä½çº§åˆ«çš„å›¾ç‰‡è§£ç æ“ä½œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-3">çº¿ç¨‹å®‰å…¨è®¾è®¡</h3>
<p>Kingfisher åœ¨å¤šçº¿ç¨‹è®¾è®¡ä¸Šè¡¨ç°å“è¶Šï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Kingfisher å†…éƒ¨ä½¿ç”¨ DispatchQueue å’Œé”ä¿è¯çº¿ç¨‹å®‰å…¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeContainer</span>&lt;<span class="hljs-title class_">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> storage: <span class="hljs-type">T</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> lock: <span class="hljs-type">DispatchQueue</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">asyncExecute</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">block</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-keyword">inout</span> <span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Void</span>) {
        lock.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword">self</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            block(<span class="hljs-operator">&amp;</span><span class="hljs-keyword">self</span>.storage)
        }
    }
}
</code></pre>
<h2 data-id="heading-4">äºŒã€å›¾ç‰‡åŠ è½½å…¨æµç¨‹æ·±åº¦è§£æ</h2>
<h3 data-id="heading-5">2.1 åŠ è½½æµç¨‹è¯¦è§£</h3>
<p>Kingfisher çš„å›¾ç‰‡åŠ è½½éµå¾ªä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant UI as UIImageView
    participant KM as KingfisherManager
    participant MC as MemoryCache
    participant DC as DiskCache
    participant DN as Downloader
    participant IP as ImageProcessor
    
    UI-&gt;&gt;KM: kf.setImage(with: url)
    KM-&gt;&gt;MC: æŸ¥è¯¢å†…å­˜ç¼“å­˜
    alt å†…å­˜å‘½ä¸­
        MC--&gt;&gt;KM: è¿”å›ç¼“å­˜çš„ImageData
        KM--&gt;&gt;UI: ç›´æ¥æ˜¾ç¤ºå›¾ç‰‡
    else å†…å­˜æœªå‘½ä¸­
        KM-&gt;&gt;DC: æŸ¥è¯¢ç£ç›˜ç¼“å­˜
        alt ç£ç›˜å‘½ä¸­
            DC--&gt;&gt;KM: è¿”å›ç£ç›˜æ•°æ®
            KM-&gt;&gt;IP: è§£ç å’Œå¤„ç†å›¾ç‰‡
            IP--&gt;&gt;KM: å¤„ç†åçš„å›¾ç‰‡
            KM-&gt;&gt;MC: å­˜å…¥å†…å­˜ç¼“å­˜
            KM--&gt;&gt;UI: æ˜¾ç¤ºå›¾ç‰‡
        else ç£ç›˜æœªå‘½ä¸­
            KM-&gt;&gt;DN: å‘èµ·ç½‘ç»œè¯·æ±‚
            DN--&gt;&gt;KM: ä¸‹è½½å›¾ç‰‡æ•°æ®
            KM-&gt;&gt;IP: è§£ç å’Œå¤„ç†å›¾ç‰‡
            IP--&gt;&gt;KM: å¤„ç†åçš„å›¾ç‰‡
            KM-&gt;&gt;DC: å­˜å…¥ç£ç›˜ç¼“å­˜
            KM-&gt;&gt;MC: å­˜å…¥å†…å­˜ç¼“å­˜
            KM--&gt;&gt;UI: æ˜¾ç¤ºå›¾ç‰‡
        end
    end
</code></pre>
<h3 data-id="heading-6">2.2 æ¸è¿›å¼ä¸‹è½½ä¼˜åŒ–</h3>
<p>Kingfisher æ”¯æŒæ¸è¿›å¼ JPEG ä¸‹è½½ï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .progressiveJPEG(<span class="hljs-type">ImageProgressive</span>(
        isBlur: <span class="hljs-literal">true</span>,      <span class="hljs-comment">// æ˜¯å¦å¯ç”¨æ¨¡ç³Šæ•ˆæœ</span>
        isFastestScan: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ä½¿ç”¨æœ€å¿«æ‰«æ</span>
        scanInterval: <span class="hljs-number">0.1</span>   <span class="hljs-comment">// æ‰«æé—´éš”</span>
    ))
]

imageView.kf.setImage(with: url, options: options)
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ç¼“å­˜æœºåˆ¶çš„å“è¶Šå®ç°</h2>
<h3 data-id="heading-8">3.1 ä¸‰çº§ç¼“å­˜ç­–ç•¥</h3>
<p>Kingfisher å®ç°äº†é«˜æ•ˆçš„ä¸‰çº§ç¼“å­˜ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å¤„ç†å™¨ç¼“å­˜ï¼ˆProcessed Cacheï¼‰</strong>ï¼šå­˜å‚¨å¤„ç†åçš„å›¾ç‰‡</li>
<li><strong>åŸå§‹æ•°æ®ç¼“å­˜ï¼ˆOriginal Cacheï¼‰</strong>ï¼šå­˜å‚¨åŸå§‹ä¸‹è½½æ•°æ®</li>
<li><strong>å†…å­˜ç¼“å­˜ï¼ˆMemory Cacheï¼‰</strong>ï¼šä½¿ç”¨ NSCache å®ç°</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è‡ªå®šä¹‰ç¼“å­˜é…ç½®ç¤ºä¾‹</span>
<span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">ImageCache</span>(name: <span class="hljs-string">"my_cache"</span>)

<span class="hljs-comment">// é…ç½®å†…å­˜ç¼“å­˜</span>
cache.memoryStorage.config.totalCostLimit <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">100</span>  <span class="hljs-comment">// 100MB</span>
cache.memoryStorage.config.countLimit <span class="hljs-operator">=</span> <span class="hljs-number">100</span>
cache.memoryStorage.config.expiration <span class="hljs-operator">=</span> .seconds(<span class="hljs-number">600</span>)  <span class="hljs-comment">// 10åˆ†é’Ÿ</span>

<span class="hljs-comment">// é…ç½®ç£ç›˜ç¼“å­˜</span>
cache.diskStorage.config.sizeLimit <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">500</span>  <span class="hljs-comment">// 500MB</span>
cache.diskStorage.config.expiration <span class="hljs-operator">=</span> .days(<span class="hljs-number">7</span>)  <span class="hljs-comment">// 7å¤©</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ç¼“å­˜</span>
<span class="hljs-type">KingfisherManager</span>.shared.defaultOptions <span class="hljs-operator">=</span> [.targetCache(cache)]
</code></pre>
<h3 data-id="heading-9">3.2 æ™ºèƒ½ç¼“å­˜é”®ç”Ÿæˆ</h3>
<p>Kingfisher çš„ç¼“å­˜é”®ç”Ÿæˆç­–ç•¥éå¸¸æ™ºèƒ½ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é»˜è®¤ç¼“å­˜é”®æ˜¯ URL çš„ç»å¯¹å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">let</span> defaultCacheKey <span class="hljs-operator">=</span> url.cacheKey

<span class="hljs-comment">// å¯ä»¥æ·»åŠ å¤„ç†å™¨æ ‡è¯†</span>
<span class="hljs-keyword">let</span> processor <span class="hljs-operator">=</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">20</span>)
<span class="hljs-keyword">let</span> processedCacheKey <span class="hljs-operator">=</span> url.cacheKey <span class="hljs-operator">+</span> processor.identifier

<span class="hljs-comment">// è‡ªå®šä¹‰ç¼“å­˜é”®</span>
imageView.kf.setImage(
    with: url,
    options: [.cacheOriginalImage],
    completionHandler: { result <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// è·å–ç¼“å­˜é”®</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> value) <span class="hljs-operator">=</span> result {
            <span class="hljs-keyword">let</span> cacheKey <span class="hljs-operator">=</span> value.cacheKey
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¼“å­˜é”®: <span class="hljs-subst">\(cacheKey)</span>"</span>)
        }
    }
)
</code></pre>
<h2 data-id="heading-10">å››ã€é«˜çº§å›¾ç‰‡å¤„ç†åŠŸèƒ½</h2>
<h3 data-id="heading-11">4.1 å›¾ç‰‡å¤„ç†å™¨é“¾</h3>
<p>Kingfisher æ”¯æŒå¤„ç†å™¨é“¾ï¼Œå¯ä»¥æŒ‰é¡ºåºåº”ç”¨å¤šä¸ªå¤„ç†å™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> processor <span class="hljs-operator">=</span> <span class="hljs-type">DownsamplingImageProcessor</span>(size: <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>))
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">20</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">BlurImageProcessor</span>(blurRadius: <span class="hljs-number">5</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">TintImageProcessor</span>(tint: .red.withAlphaComponent(<span class="hljs-number">0.3</span>))

imageView.kf.setImage(
    with: url,
    options: [.processor(processor)]
)
</code></pre>
<h3 data-id="heading-12">4.2 è‡ªå®šä¹‰å›¾ç‰‡å¤„ç†å™¨</h3>
<p>åˆ›å»ºè‡ªå®šä¹‰å¤„ç†å™¨éå¸¸çµæ´»ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">WatermarkProcessor</span>: <span class="hljs-title class_">ImageProcessor</span> {
    <span class="hljs-keyword">let</span> identifier: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> watermark: <span class="hljs-type">UIImage</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">watermark</span>: <span class="hljs-type">UIImage</span>) {
        <span class="hljs-keyword">self</span>.watermark <span class="hljs-operator">=</span> watermark
        <span class="hljs-keyword">self</span>.identifier <span class="hljs-operator">=</span> <span class="hljs-string">"com.myapp.watermark"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">item</span>: <span class="hljs-type">ImageProcessItem</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span>? {
        <span class="hljs-keyword">switch</span> item {
        <span class="hljs-keyword">case</span> .image(<span class="hljs-keyword">let</span> image):
            <span class="hljs-keyword">return</span> drawWatermark(on: image)
        <span class="hljs-keyword">case</span> .data:
            <span class="hljs-comment">// å¦‚æœæ˜¯æ•°æ®ï¼Œå…ˆè§£ç å†å¤„ç†</span>
            <span class="hljs-keyword">return</span> (<span class="hljs-type">DefaultImageProcessor</span>.default <span class="hljs-operator">|&gt;</span> <span class="hljs-keyword">self</span>).process(item: item, options: options)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">drawWatermark</span>(<span class="hljs-params">on</span> <span class="hljs-params">image</span>: <span class="hljs-type">KFCrossPlatformImage</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span> {
        <span class="hljs-comment">// ç»˜åˆ¶æ°´å°çš„å®ç°</span>
        <span class="hljs-keyword">return</span> image
    }
}
</code></pre>
<h2 data-id="heading-13">äº”ã€SwiftUI æ·±åº¦é›†æˆ</h2>
<h3 data-id="heading-14">5.1 KFImage çš„é«˜çº§ç”¨æ³•</h3>
<p>Kingfisher ä¸º SwiftUI æä¾›äº†åŸç”Ÿçš„ KFImage ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AdvancedImageView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">let</span> url: <span class="hljs-type">URL</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">KFImage</span>(url)
            .setProcessor(
                <span class="hljs-type">DownsamplingImageProcessor</span>(size: <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">200</span>))
                <span class="hljs-operator">|&gt;</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">10</span>)
            )
            .loadDiskFileSynchronously()  <span class="hljs-comment">// åŒæ­¥åŠ è½½ç£ç›˜ç¼“å­˜</span>
            .cacheMemoryOnly()  <span class="hljs-comment">// ä»…ç¼“å­˜åˆ°å†…å­˜</span>
            .fade(duration: <span class="hljs-number">0.25</span>)  <span class="hljs-comment">// æ¸å˜åŠ¨ç”»</span>
            .onSuccess { result <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾ç‰‡åŠ è½½æˆåŠŸ: <span class="hljs-subst">\(result.cacheType)</span>"</span>)
            }
            .onFailure { error <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾ç‰‡åŠ è½½å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
            }
            .placeholder { progress <span class="hljs-keyword">in</span>
                <span class="hljs-comment">// è‡ªå®šä¹‰å ä½ç¬¦ï¼Œæ”¯æŒè¿›åº¦æ˜¾ç¤º</span>
                <span class="hljs-type">ProgressView</span>(value: progress.fractionCompleted)
                    .progressViewStyle(<span class="hljs-type">CircularProgressViewStyle</span>())
            }
            .resizable()
            .aspectRatio(contentMode: .fit)
            .frame(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">200</span>)
    }
}
</code></pre>
<h3 data-id="heading-15">5.2 åŠ¨ç”»ä¸è¿‡æ¸¡æ•ˆæœ</h3>
<p>Kingfisher æ”¯æŒä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é…ç½®å…¨å±€åŠ¨ç”»é€‰é¡¹</span>
<span class="hljs-type">KingfisherManager</span>.shared.defaultOptions <span class="hljs-operator">=</span> [
    .transition(.fade(<span class="hljs-number">0.3</span>)),  <span class="hljs-comment">// 300ms æ·¡å…¥æ•ˆæœ</span>
    .forceTransition  <span class="hljs-comment">// å³ä½¿ä»ç¼“å­˜åŠ è½½ä¹Ÿä½¿ç”¨è¿‡æ¸¡æ•ˆæœ</span>
]

<span class="hljs-comment">// å•ä¸ªè¯·æ±‚çš„ç‰¹æ®Šé…ç½®</span>
imageView.kf.setImage(
    with: url,
    options: [
        .transition(.flipFromLeft(<span class="hljs-number">0.5</span>)),
        .forceTransition
    ]
)
</code></pre>
<h2 data-id="heading-16">å…­ã€æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-17">6.1 åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</h3>
<p>åœ¨ UITableView æˆ– UICollectionView ä¸­ä½¿ç”¨ Kingfisher æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomTableViewCell</span>: <span class="hljs-title class_">UITableViewCell</span> {
    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> customImageView: <span class="hljs-type">UIImageView</span>!
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">prepareForReuse</span>() {
        <span class="hljs-keyword">super</span>.prepareForReuse()
        <span class="hljs-comment">// å–æ¶ˆæœªå®Œæˆçš„ä¸‹è½½ä»»åŠ¡</span>
        customImageView.kf.cancelDownloadTask()
        <span class="hljs-comment">// å¯é€‰ï¼šè®¾ç½®å ä½å›¾</span>
        customImageView.image <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">configure</span>(<span class="hljs-params">with</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>) {
        <span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
            .transition(.fade(<span class="hljs-number">0.2</span>)),
            .cacheOriginalImage,  <span class="hljs-comment">// ç¼“å­˜åŸå§‹å›¾ç‰‡</span>
            .backgroundDecode,    <span class="hljs-comment">// åå°è§£ç </span>
            .scaleFactor(<span class="hljs-type">UIScreen</span>.main.scale),  <span class="hljs-comment">// é€‚é…å±å¹•ç¼©æ”¾</span>
            .keepCurrentImageWhileLoading  <span class="hljs-comment">// åŠ è½½æ—¶ä¿æŒå½“å‰å›¾ç‰‡</span>
        ]
        
        customImageView.kf.setImage(
            with: url,
            placeholder: <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"placeholder"</span>),
            options: options
        )
    }
}

<span class="hljs-comment">// åœ¨ tableView ä¸­ä½¿ç”¨é¢„åŠ è½½</span>
<span class="hljs-keyword">let</span> prefetcher <span class="hljs-operator">=</span> <span class="hljs-type">ImagePrefetcher</span>(urls: imageURLs)
prefetcher.start()

<span class="hljs-comment">// é¢„åŠ è½½å•ä¸ªå›¾ç‰‡</span>
<span class="hljs-type">ImagePrefetcher</span>(urls: [url]).start()
</code></pre>
<h3 data-id="heading-18">6.2 å†…å­˜ç®¡ç†ç­–ç•¥</h3>
<p>Kingfisher æä¾›äº†ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ç›‘å¬å†…å­˜è­¦å‘Š</span>
<span class="hljs-type">NotificationCenter</span>.default.addObserver(
    forName: <span class="hljs-type">UIApplication</span>.didReceiveMemoryWarningNotification,
    object: <span class="hljs-literal">nil</span>,
    queue: .main
) { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// æ¸…é™¤å†…å­˜ç¼“å­˜</span>
    <span class="hljs-type">ImageCache</span>.default.clearMemoryCache()
    
    <span class="hljs-comment">// æˆ–è€…åªæ¸…é™¤è¿‡æœŸçš„ç¼“å­˜</span>
    <span class="hljs-type">ImageCache</span>.default.cleanExpiredMemoryCache()
}

<span class="hljs-comment">// é…ç½®å†…å­˜ç¼“å­˜è¡Œä¸º</span>
<span class="hljs-type">ImageCache</span>.default.memoryStorage.config.cleanInterval <span class="hljs-operator">=</span> <span class="hljs-number">60</span>  <span class="hljs-comment">// æ¯60ç§’æ¸…ç†ä¸€æ¬¡</span>
</code></pre>
<h3 data-id="heading-19">6.3 ä¸‹è½½ä¼˜å…ˆçº§æ§åˆ¶</h3>
<p>åœ¨å¤æ‚åœºæ™¯ä¸­ï¼Œå¯ä»¥æ§åˆ¶ä¸‹è½½ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è®¾ç½®ä¸‹è½½ä¼˜å…ˆçº§</span>
<span class="hljs-keyword">let</span> highPriorityOptions: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .downloadPriority(<span class="hljs-type">URLSessionTask</span>.highPriority)
]

<span class="hljs-keyword">let</span> lowPriorityOptions: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .downloadPriority(<span class="hljs-type">URLSessionTask</span>.lowPriority)
]

<span class="hljs-comment">// å…³é”®å›¾ç‰‡ä½¿ç”¨é«˜ä¼˜å…ˆçº§</span>
importantImageView.kf.setImage(with: importantURL, options: highPriorityOptions)

<span class="hljs-comment">// éå…³é”®å›¾ç‰‡ä½¿ç”¨ä½ä¼˜å…ˆçº§</span>
thumbnailImageView.kf.setImage(with: thumbnailURL, options: lowPriorityOptions)
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€ç›‘æ§ä¸è°ƒè¯•</h2>
<h3 data-id="heading-21">7.1 æ€§èƒ½ç›‘æ§</h3>
<p>Kingfisher æä¾›äº†ä¸°å¯Œçš„ç›‘æ§ç‚¹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¯ç”¨è°ƒè¯•æ—¥å¿—</span>
<span class="hljs-type">Logging</span>.downloader <span class="hljs-operator">=</span> .debug

<span class="hljs-comment">// è‡ªå®šä¹‰ç›‘æ§</span>
<span class="hljs-type">ImageDownloader</span>.default.delegate <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">YourClass</span>: <span class="hljs-title class_">ImageDownloaderDelegate</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">imageDownloader</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">downloader</span>: <span class="hljs-type">ImageDownloader</span>, <span class="hljs-params">willDownloadImageForURL</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">with</span> <span class="hljs-params">request</span>: <span class="hljs-type">URLRequest</span>?) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å³å°†ä¸‹è½½: <span class="hljs-subst">\(url)</span>"</span>)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">imageDownloader</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">downloader</span>: <span class="hljs-type">ImageDownloader</span>, <span class="hljs-params">didFinishDownloadingImageForURL</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">with</span> <span class="hljs-params">response</span>: <span class="hljs-type">URLResponse</span>?, <span class="hljs-params">error</span>: <span class="hljs-type">Error</span>?) {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> error {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½æˆåŠŸ: <span class="hljs-subst">\(url)</span>"</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-22">7.2 ç¼“å­˜çŠ¶æ€æ£€æŸ¥</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜çŠ¶æ€</span>
<span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">ImageCache</span>.default

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜</span>
cache.isCached(forKey: <span class="hljs-string">"cache_key"</span>) { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">switch</span> result {
    <span class="hljs-keyword">case</span> .memory:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å­˜åœ¨å†…å­˜ç¼“å­˜"</span>)
    <span class="hljs-keyword">case</span> .disk:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å­˜åœ¨ç£ç›˜ç¼“å­˜"</span>)
    <span class="hljs-keyword">case</span> .none:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ— ç¼“å­˜"</span>)
    }
}

<span class="hljs-comment">// è·å–ç¼“å­˜å¤§å°</span>
cache.calculateDiskStorageSize { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">switch</span> result {
    <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> size):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç£ç›˜ç¼“å­˜å¤§å°: <span class="hljs-subst">\(Double(size) <span class="hljs-operator">/</span> <span class="hljs-number">1024</span> <span class="hljs-operator">/</span> <span class="hljs-number">1024</span>)</span> MB"</span>)
    <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è®¡ç®—ç¼“å­˜å¤§å°å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
    }
}
</code></pre>
<h2 data-id="heading-23">å…«ã€é«˜çº§åœºæ™¯è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-24">8.1 åŠ¨å›¾ï¼ˆGIFï¼‰æ”¯æŒ</h3>
<p>Kingfisher å¯¹åŠ¨å›¾æä¾›äº†å®Œæ•´çš„æ”¯æŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åŠ è½½å¹¶æ’­æ”¾ GIF</span>
imageView.kf.setImage(
    with: gifURL,
    options: [
        .processor(<span class="hljs-type">DefaultImageProcessor</span>.default),  <span class="hljs-comment">// é»˜è®¤å¤„ç†å™¨æ”¯æŒ GIF</span>
        .cacheSerializer(<span class="hljs-type">FormatIndicatedCacheSerializer</span>.gif)  <span class="hljs-comment">// æŒ‡å®š GIF åºåˆ—åŒ–å™¨</span>
    ]
)

<span class="hljs-comment">// æ§åˆ¶ GIF æ’­æ”¾</span>
imageView.kf.setImage(with: gifURL) { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> value) <span class="hljs-operator">=</span> result {
        <span class="hljs-comment">// æ‰‹åŠ¨æ§åˆ¶åŠ¨ç”»</span>
        value.image.kf.startAnimating()
        
        <span class="hljs-comment">// æˆ–è€…åœæ­¢åŠ¨ç”»</span>
        value.image.kf.stopAnimating()
    }
}

<span class="hljs-comment">// é™åˆ¶ GIF å†…å­˜ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .onlyLoadFirstFrame,  <span class="hljs-comment">// åªåŠ è½½ç¬¬ä¸€å¸§ï¼Œå‡å°‘å†…å­˜å ç”¨</span>
    .preloadAllAnimationData  <span class="hljs-comment">// é¢„åŠ è½½æ‰€æœ‰åŠ¨ç”»æ•°æ®</span>
]
</code></pre>
<h3 data-id="heading-25">8.2 å›¾ç‰‡ç¼–è¾‘ä¸å¤„ç†</h3>
<p>Kingfisher æ”¯æŒå›¾ç‰‡çš„å®æ—¶ç¼–è¾‘ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºå¯ç¼–è¾‘çš„å›¾ç‰‡è§†å›¾</span>
<span class="hljs-keyword">let</span> imageEditor <span class="hljs-operator">=</span> <span class="hljs-type">ImageEditorView</span>()

<span class="hljs-comment">// åº”ç”¨å¤šä¸ªç¼–è¾‘æ“ä½œ</span>
imageEditor.applyFilter(.blur(radius: <span class="hljs-number">2</span>))
imageEditor.applyFilter(.contrast(<span class="hljs-number">1.2</span>))
imageEditor.applyFilter(.saturation(<span class="hljs-number">0.8</span>))

<span class="hljs-comment">// è·å–ç¼–è¾‘åçš„å›¾ç‰‡</span>
<span class="hljs-keyword">let</span> editedImage <span class="hljs-operator">=</span> imageEditor.outputImage

<span class="hljs-comment">// ä¿å­˜ç¼–è¾‘ç»“æœåˆ°ç¼“å­˜</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> editedImage <span class="hljs-operator">=</span> editedImage,
   <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> originalURL {
    <span class="hljs-type">ImageCache</span>.default.store(editedImage, forKey: url.cacheKey <span class="hljs-operator">+</span> <span class="hljs-string">"_edited"</span>)
}
</code></pre>
<h3 data-id="heading-26">8.3 è‡ªå®šä¹‰ä¸‹è½½å™¨</h3>
<p>å¯¹äºç‰¹æ®Šéœ€æ±‚ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸‹è½½å™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰ä¸‹è½½å™¨</span>
<span class="hljs-keyword">let</span> customDownloader <span class="hljs-operator">=</span> <span class="hljs-type">ImageDownloader</span>(name: <span class="hljs-string">"custom"</span>)
customDownloader.downloadTimeout <span class="hljs-operator">=</span> <span class="hljs-number">30</span>  <span class="hljs-comment">// 30ç§’è¶…æ—¶</span>
customDownloader.sessionConfiguration.httpMaximumConnectionsPerHost <span class="hljs-operator">=</span> <span class="hljs-number">1</span>  <span class="hljs-comment">// æ¯ä¸ªä¸»æœº1ä¸ªè¿æ¥</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ä¸‹è½½å™¨</span>
imageView.kf.setImage(
    with: url,
    options: [.downloader(customDownloader)]
)

<span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰è¯·æ±‚ä¿®æ”¹å™¨</span>
<span class="hljs-keyword">let</span> modifier <span class="hljs-operator">=</span> <span class="hljs-type">AnyModifier</span> { request <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">var</span> r <span class="hljs-operator">=</span> request
    r.setValue(<span class="hljs-string">"Bearer token"</span>, forHTTPHeaderField: <span class="hljs-string">"Authorization"</span>)
    <span class="hljs-keyword">return</span> r
}

imageView.kf.setImage(
    with: url,
    options: [.requestModifier(modifier)]
)
</code></pre>
<h2 data-id="heading-27">ä¹ã€æ‰©å±•æ€§ä¸è‡ªå®šä¹‰</h2>
<h3 data-id="heading-28">9.1 æ’ä»¶ç³»ç»Ÿ</h3>
<p>Kingfisher æ”¯æŒæ’ä»¶æ‰©å±•ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AnalyticsPlugin</span>: <span class="hljs-title class_">ImagePlugin</span> {
    <span class="hljs-keyword">var</span> identifier: <span class="hljs-type">String</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"com.myapp.analytics"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">willDownloadImage</span>(<span class="hljs-params">for</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) {
        <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_will_download"</span>, properties: [<span class="hljs-string">"url"</span>: url.absoluteString])
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">didDownloadImage</span>(<span class="hljs-params">for</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">result</span>: <span class="hljs-type">Result</span>&lt;<span class="hljs-type">ImageLoadingResult</span>, <span class="hljs-type">KingfisherError</span>&gt;, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) {
        <span class="hljs-keyword">switch</span> result {
        <span class="hljs-keyword">case</span> .success:
            <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_download_success"</span>, properties: [<span class="hljs-string">"url"</span>: url.absoluteString])
        <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
            <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_download_failed"</span>, properties: [
                <span class="hljs-string">"url"</span>: url.absoluteString,
                <span class="hljs-string">"error"</span>: error.localizedDescription
            ])
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span>
<span class="hljs-keyword">let</span> plugin <span class="hljs-operator">=</span> <span class="hljs-type">AnalyticsPlugin</span>()
imageView.kf.setImage(
    with: url,
    options: [.plugin(plugin)]
)
</code></pre>
<h3 data-id="heading-29">9.2 è‡ªå®šä¹‰ç¼“å­˜åºåˆ—åŒ–å™¨</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">EncryptedCacheSerializer</span>: <span class="hljs-title class_">CacheSerializer</span> {
    <span class="hljs-keyword">let</span> encryptionKey: <span class="hljs-type">String</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">data</span>(<span class="hljs-params">with</span> <span class="hljs-params">image</span>: <span class="hljs-type">KFCrossPlatformImage</span>, <span class="hljs-params">original</span>: <span class="hljs-type">Data</span>?) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// åŠ å¯†å›¾ç‰‡æ•°æ®</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> image.kf.data(format: .unknown) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">return</span> encrypt(data: data, key: encryptionKey)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">image</span>(<span class="hljs-params">with</span> <span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span>? {
        <span class="hljs-comment">// è§£å¯†å›¾ç‰‡æ•°æ®</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> decryptedData <span class="hljs-operator">=</span> decrypt(data: data, key: encryptionKey),
              <span class="hljs-keyword">let</span> image <span class="hljs-operator">=</span> <span class="hljs-type">KFCrossPlatformImage</span>(data: decryptedData) <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
        <span class="hljs-keyword">return</span> image
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">encrypt</span>(<span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// å®ç°åŠ å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> data
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// å®ç°è§£å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> data
    }
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨</span>
<span class="hljs-keyword">let</span> serializer <span class="hljs-operator">=</span> <span class="hljs-type">EncryptedCacheSerializer</span>(encryptionKey: <span class="hljs-string">"my_secret_key"</span>)
imageView.kf.setImage(
    with: url,
    options: [.cacheSerializer(serializer)]
)
</code></pre>
<h2 data-id="heading-30">åã€æ€»ç»“</h2>
<p>Kingfisher ä½œä¸º Swift ç”Ÿæ€ä¸­æœ€ä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“ä¹‹ä¸€ï¼Œå…¶æˆåŠŸæºäºå¤šä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>ç°ä»£åŒ–çš„ Swift è®¾è®¡</strong>ï¼šå……åˆ†åˆ©ç”¨ Swift è¯­è¨€ç‰¹æ€§ï¼Œæä¾›ç±»å‹å®‰å…¨çš„ API</li>
<li><strong>å“è¶Šçš„æ€§èƒ½è¡¨ç°</strong>ï¼šä¸‰çº§ç¼“å­˜ç­–ç•¥ã€åå°è§£ç ã€æ™ºèƒ½é¢„åŠ è½½ç­‰ä¼˜åŒ–</li>
<li><strong>å®Œæ•´çš„å¹³å°æ”¯æŒ</strong>ï¼šiOSã€macOSã€watchOSã€tvOS å…¨å¹³å°æ”¯æŒ</li>
<li><strong>å¼ºå¤§çš„æ‰©å±•æ€§</strong>ï¼šæ’ä»¶ç³»ç»Ÿã€è‡ªå®šä¹‰å¤„ç†å™¨ã€åºåˆ—åŒ–å™¨ç­‰</li>
<li><strong>ä¼˜ç§€çš„ç¤¾åŒºç”Ÿæ€</strong>ï¼šæ´»è·ƒçš„ç»´æŠ¤ã€ä¸°å¯Œçš„æ–‡æ¡£ã€å¤§é‡çš„ç¬¬ä¸‰æ–¹æ‰©å±•</li>
</ol>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>æ ¹æ®åº”ç”¨åœºæ™¯åˆç†é…ç½®ç¼“å­˜ç­–ç•¥</li>
<li>åœ¨åˆ—è¡¨è§†å›¾ä¸­ä½¿ç”¨ <code>prepareForReuse</code> å–æ¶ˆæœªå®Œæˆçš„ä»»åŠ¡</li>
<li>åˆ©ç”¨é¢„åŠ è½½æå‡ç”¨æˆ·ä½“éªŒ</li>
<li>ç›‘æ§ç¼“å­˜å¤§å°å’Œæ€§èƒ½æŒ‡æ ‡</li>
<li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰å¤„ç†å™¨å’Œæ’ä»¶</li>
</ul>
<p>Kingfisher ä¸ä»…æ˜¯ä¸€ä¸ªå›¾ç‰‡åŠ è½½åº“ï¼Œæ›´æ˜¯ Swift æœ€ä½³å®è·µçš„ä½“ç°ã€‚é€šè¿‡æ·±å…¥ç†è§£å…¶è®¾è®¡ç†å¿µå’Œå®ç°ç»†èŠ‚ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡ºé«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„å›¾ç‰‡å¤„ç†è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“]]></title>    <link>https://juejin.cn/post/7582438809378193450</link>    <guid>https://juejin.cn/post/7582438809378193450</guid>    <pubDate>2025-12-11T15:30:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809378193450" data-draft-id="7582422766730985515" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2025-12-11T15:30:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:30:38.000Z" title="Thu Dec 11 2025 15:30:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©å¤§å§šç»™å¤§å®¶åˆ†äº«ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“ï¼š<strong>CxFlatUI</strong>ï¼Œå€¼å¾—å¤§å®¶å‚è€ƒå­¦ä¹ ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">WinForm ä»‹ç»</h2>
<p>WinFormæ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„æ¡Œé¢åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå®ƒåŸºäº Windows æ“ä½œç³»ç»Ÿçš„åŸç”Ÿæ§ä»¶å’Œçª—ä½“ã€‚é€šè¿‡ç®€å•æ˜“ç”¨çš„ APIï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿæ„å»ºåŸºäºçª—ä½“çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨å¤šç§æ§ä»¶å’Œäº‹ä»¶æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½å’Œäº¤äº’ã€‚</p>
<h2 data-id="heading-2">å½“å‰æ§ä»¶</h2>
<p><code>AlertBoxã€Buttonã€CheckBoxã€DatePickerã€GroupBoxã€NumericUpDownã€PictureBoxã€ProgressBarã€RadioButtonã€RoundButtonã€RoundProgressBarã€SimpleButtonã€SliderBarã€StatusBarã€Switchã€TabControlã€Toggle...</code>ã€‚</p>
<h2 data-id="heading-3">é¡¹ç›®æºä»£ç </h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/359f280aa3834a6c877881a9865c7458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=vR1cU2dgix94B5Htd7bSHccU75g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æ§ä»¶æ•ˆæœæ¼”ç¤º</h2>
<p>è®¾ç½®<code>CxFlatDemo</code>ä¸ºå¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ§ä»¶æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/016ae3a09aff413d8045fd614a066eb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=1Fbq%2FFHbg41HGNnM4YNqKyUF4bQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55a700c65ef24806891acda90e13c276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=JAGOwakLJRl28lrI%2BbKwr1%2FdAw4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfae79af7241460c9ef8f821b2ee2a73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=bholMlAnQ%2BKIJDjTVPT0ON%2FNs1Y%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d1fd90557e0407dbcc6b0d31a5f480b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=5CBfA2r6hO7UKxF8eRj89WzGPP8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">é¡¹ç›®æºç åœ°å€</h2>
<p>æ›´å¤šé¡¹ç›®å®ç”¨åŠŸèƒ½å’Œç‰¹æ€§æ¬¢è¿å‰å¾€é¡¹ç›®å¼€æºåœ°å€æŸ¥çœ‹ğŸ‘€ï¼Œåˆ«å¿˜äº†ç»™é¡¹ç›®ä¸€ä¸ªStaræ”¯æŒğŸ’–ã€‚</p>
<ul>
<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHuJinguang%2FCxFlatUI" target="_blank" title="https://github.com/HuJinguang/CxFlatUI" ref="nofollow noopener noreferrer">github.com/HuJinguang/â€¦</a></li>
</ul>
<h2 data-id="heading-6">ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰</h2>
<p>è¯¥é¡¹ç›®å·²æ”¶å½•åˆ°C#/.NET/.NET Coreä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰ä¸­ï¼Œå…³æ³¨ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰èƒ½è®©ä½ åŠæ—¶äº†è§£C#ã€.NETå’Œ.NET Coreé¢†åŸŸçš„æœ€æ–°åŠ¨æ€å’Œæœ€ä½³å®è·µï¼Œæé«˜å¼€å‘å·¥ä½œæ•ˆç‡å’Œè´¨é‡ã€‚å‘å·²æŒ–ï¼Œæ¬¢è¿å¤§å®¶è¸Šè·ƒæäº¤PRæ¨èæˆ–è‡ªèï¼ˆ<strong>è®©ä¼˜ç§€çš„é¡¹ç›®å’Œæ¡†æ¶ä¸è¢«åŸ‹æ²¡ğŸ¤</strong>ï¼‰ã€‚</p>
<ul>
<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetProjectPicks.md" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
<li><strong>Giteeå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fysgdaydayup%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetProjectPicks.md" target="_blank" title="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" ref="nofollow noopener noreferrer">gitee.com/ysgdaydayupâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æœºæ¢°éŸ³ï¼VoxCPM 1.5å¼€æºï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„â€œæœ€å¼ºå˜´æ›¿â€]]></title>    <link>https://juejin.cn/post/7582438310103662638</link>    <guid>https://juejin.cn/post/7582438310103662638</guid>    <pubDate>2025-12-11T15:45:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310103662638" data-draft-id="7582399765449670683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æœºæ¢°éŸ³ï¼VoxCPM 1.5å¼€æºï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„â€œæœ€å¼ºå˜´æ›¿â€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-11T15:45:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æœºæ¢°éŸ³ï¼VoxCPM 1.5å¼€æºï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„â€œæœ€å¼ºå˜´æ›¿â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:45:53.000Z" title="Thu Dec 11 2025 15:45:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°±åœ¨å‡ å¤©å‰ï¼Œç§‘æŠ€åœˆé‡Œæ‚„æ‚„å‘ç”Ÿäº†ä¸€ä»¶å¤§äº‹ã€‚</p>
<p>å¦‚æœä½ ç»å¸¸å…³æ³¨å¼€æºç¤¾åŒºï¼Œå¤§æ¦‚ç‡å·²ç»è¢«é¢å£æ™ºèƒ½ï¼ˆOpenBMBï¼‰åˆ·å±äº†ã€‚2025å¹´12æœˆ10æ—¥ï¼Œä»–ä»¬æ­£å¼æŠŠè‡ªå·±å‹ç®±åº•çš„å®è´â€”â€”è¯­éŸ³ç”ŸæˆåŸºç¡€æ¨¡å‹ VoxCPM æ›´æ–°åˆ°äº† 1.5 ç‰ˆæœ¬ï¼Œå¹¶ä¸”ç›´æ¥å¼€æºã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ä¸“é—¨èŠå®ƒï¼Ÿå› ä¸ºåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œå¼€æºç•Œçš„TTSï¼ˆæ–‡æœ¬è½¬è¯­éŸ³ï¼‰æ¨¡å‹æ€»è®©äººè§‰å¾—å·®ç‚¹æ„æ€ï¼šè¦ä¹ˆéŸ³è´¨åƒä¸ªæ²¡æœ‰æ„Ÿæƒ…çš„æœ—è¯»æœºå™¨ï¼Œè¦ä¹ˆç”Ÿæˆé€Ÿåº¦æ…¢åˆ°è®©ä½ æ€€ç–‘äººç”Ÿã€‚ä½†è¿™æ¬¡ VoxCPM 1.5 çš„å‡ºç°ï¼Œä¼¼ä¹å°±æ˜¯ä¸ºäº†æ‰“ç ´è¿™ä¸ªåƒµå±€è€Œæ¥çš„ã€‚</p>
<p>å®è¯è¯´ï¼Œè¿™æ¬¡å‡çº§æœ‰ç‚¹çŒ›ï¼Œå’±ä»¬æ‹†å¼€æ¥çœ‹çœ‹å®ƒåˆ°åº•å¼ºåœ¨å“ªå„¿ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-11_23.38.53-1024x368.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-11_23.38.53-1024x368.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0fc758b6f304a7e8e19ff149f5dec78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766072753&amp;x-signature=4fkNkgxRJ1Qg9jbl%2BPVL7aXu%2Bu4%3D" alt="iShot_2025-12-11_23.38.53" loading="lazy"/></a></p>
<p><strong>å¬è§‰çš„â€œé«˜æ¸…é‡åˆ¶ç‰ˆâ€</strong></p>
<p>é¦–å…ˆæœ€ç›´è§‚çš„æ„Ÿå—å°±æ˜¯â€œè€³æœµæ€€å­•â€ã€‚ä»¥å‰çš„ TTS æ¨¡å‹ï¼Œå¾ˆå¤šé‡‡æ ·ç‡éƒ½åœç•™åœ¨ 16kHz ç”šè‡³æ›´ä½ï¼Œå¬èµ·æ¥æ€»æœ‰ä¸€ç§å¯¹ç€ç”µè¯ç­’è¯´è¯çš„æœ¦èƒ§æ„Ÿï¼Œé«˜é¢‘ç»†èŠ‚ä¸¢å¤±ä¸¥é‡ã€‚</p>
<p>VoxCPM 1.5 æŠŠåº•å±‚çš„ AudioVAE é‡‡æ ·ç‡ç›´æ¥æ‹‰å‡åˆ°äº† 44.1kHzã€‚è¿™æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿè¿™å°±æ˜¯CDçº§éŸ³è´¨çš„æ ‡å‡†ã€‚è¿™æ„å‘³ç€ç”Ÿæˆçš„è¯­éŸ³ä¸å†æ˜¯å¹²å·´å·´çš„å¿µç¨¿å­ï¼Œä½ èƒ½å¬åˆ°æ›´ä¸°å¯Œçš„ç»†èŠ‚ï¼Œæ¯”å¦‚å‘¼å¸çš„æ°”å£ã€è¯­æ°”çš„å¾®å¼±èµ·ä¼ï¼Œç”šè‡³æ˜¯é‚£ç§éš¾ä»¥è¨€ä¼ çš„â€œç©ºæ°”æ„Ÿâ€ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬é‡Œï¼Œå£°éŸ³çš„è§£æåŠ›ä¸Šäº†ä¸€ä¸ªå¤§å°é˜¶ï¼Œé‚£ç§æ¼äººçš„ç”µå­å‘³å’Œä¼ªå½±ï¼ˆartifactsï¼‰å°‘äº†å¾ˆå¤šã€‚</p>
<p><strong>å¿«ï¼Œè€Œä¸”æ˜¯åŠ å€çš„å¿«</strong></p>
<p>å¯¹äºå¼€å‘è€…æˆ–è€…æƒ³åœ¨æœ¬åœ°è·‘æ¨¡å‹çš„äººæ¥è¯´ï¼Œå…‰å¥½å¬æ²¡ç”¨ï¼Œè¿˜å¾—è·‘å¾—åŠ¨ã€‚</p>
<p>ä¸Šä¸€ä»£æ¨¡å‹è™½ç„¶ä¹Ÿå¥½ç”¨ï¼Œä½†è¿™ä¸€ä»£ç®€ç›´æ˜¯å¼€äº†å€é€ŸæŒ‚ã€‚å®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼Œç”Ÿæˆæ•ˆç‡ç›´æ¥ç¿»å€ã€‚ä»¥å‰ç”Ÿæˆ1ç§’çš„éŸ³é¢‘éœ€è¦å¤„ç†12.5ä¸ªtokenï¼Œç°åœ¨åªéœ€è¦6.25ä¸ªã€‚</p>
<p>è¿™èƒŒåçš„æŠ€æœ¯é€»è¾‘å…¶å®å¾ˆæœ‰è¶£ã€‚å®ƒæ²¡æœ‰ä½¿ç”¨ä¼ ç»Ÿçš„è¯­éŸ³åˆ†è¯å™¨ï¼ˆTokenizerï¼‰ï¼Œè€Œæ˜¯ç›´æ¥åœ¨è¿ç»­çš„è¯­éŸ³è¡¨ç¤ºç©ºé—´é‡Œâ€œå†²æµªâ€ã€‚è¿™ç§åšæ³•ä¸ä»…è®©ç”Ÿæˆé€Ÿåº¦èµ·é£ï¼Œè¿˜é¿å…äº†å› ä¸ºæŠŠå£°éŸ³å¼ºè¡Œåˆ‡ç¢è€Œå¯¼è‡´çš„ä¿¡æ¯ä¸¢å¤±ã€‚è¿™å¯¹äºæƒ³è¦åœ¨æ™®é€šå®¶ç”¨ç”µè„‘ç”šè‡³æŸäº›ç«¯ä¾§è®¾å¤‡ä¸Šéƒ¨ç½²çš„äººæ¥è¯´ï¼Œç»å¯¹æ˜¯ä¸ªç¦éŸ³ã€‚</p>
<p><strong>å±äºåˆ›ä½œè€…çš„â€œæè„¸â€æ—¶åˆ»</strong></p>
<p>å¦‚æœä½ æ˜¯åšè‡ªåª’ä½“çš„ï¼Œæˆ–è€…æ˜¯æäºŒæ¬¡å…ƒäºŒåˆ›çš„ï¼Œè¿™ä¸€ç‚¹ä½ ç»å¯¹ä¼šå–œæ¬¢ï¼šå®ƒçš„å¯ç©æ€§å˜å¼ºäº†ã€‚</p>
<p>VoxCPM 1.5 æ–°å¢äº† LoRA å’Œå…¨é‡å¾®è°ƒè„šæœ¬ã€‚ç¨å¾®æ‡‚ç‚¹ç‚¼ä¸¹çš„æœ‹å‹éƒ½çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆã€‚ä»¥å‰ä½ æƒ³å…‹éš†ä¸€ä¸ªå£°éŸ³ï¼Œå¯èƒ½éœ€è¦æµ·é‡çš„æ•°æ®å’Œæ˜‚è´µçš„ç®—åŠ›ã€‚ç°åœ¨ï¼Œä½ åªéœ€è¦å°‘é‡çš„ç›®æ ‡äººå£°æ•°æ®ï¼ˆåªè¦å‡ åˆ†é’Ÿï¼‰ï¼Œå°±èƒ½ç”¨æä½çš„æˆæœ¬â€œæâ€å‡ºä¸€ä¸ªä¸“å±çš„éŸ³è‰²æ¨¡å‹ã€‚</p>
<p>ä¸ç®¡æ˜¯æƒ³å¤åˆ»æŸä¸ªç»å…¸è§’è‰²çš„å£°çº¿ï¼Œè¿˜æ˜¯æƒ³è®­ç»ƒä¸€ä¸ªå±äºè‡ªå·±çš„æ•°å­—åˆ†èº«ï¼Œé—¨æ§›éƒ½è¢«å¤§å¤§é™ä½äº†ã€‚è€Œä¸”å› ä¸ºå®ƒå‚æ•°é‡åªæœ‰ 5äº¿ï¼ˆ0.5Bï¼‰ï¼Œè¿™åœ¨å½“ä»ŠåŠ¨è¾„åƒäº¿å‚æ•°çš„å¤§æ¨¡å‹æ—¶ä»£ï¼Œç®€ç›´å°±æ˜¯â€œå°è€Œç¾â€çš„å…¸èŒƒï¼Œä¸€å¼ ä¸­ç«¯æ˜¾å¡å°±èƒ½ç©å¾—è½¬ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-11_23.38.27-1024x643.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-11_23.38.27-1024x643.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26b46292ceb943318ba09880cf3d7b85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766072753&amp;x-signature=snCqyDBMr0yB6C8r1VMY%2BwqMlBg%3D" alt="iShot_2025-12-11_23.38.27" loading="lazy"/></a></p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>ç›®å‰ï¼ŒVoxCPM 1.5 çš„ä»£ç å’Œæƒé‡å·²ç»å…¨éƒ¨ä¸Šä¼ åˆ°äº† GitHub å’Œ Hugging Faceã€‚è™½ç„¶ç¤¾åŒºé‡Œä¹Ÿæœ‰äº›åé¦ˆè¯´ç›®å‰çš„ç‰ˆæœ¬åœ¨æŸäº›æç«¯é…ç½®ä¸‹è¿˜æœ‰ç‚¹å°Bugï¼Œä½†è¿™æ¯•ç«Ÿæ˜¯å¼€æºé¡¹ç›®çš„å¸¸æ€â€”â€”ä¸€è¾¹ç”¨ï¼Œä¸€è¾¹ä¿®ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œé¢å£æ™ºèƒ½è¿™æ¬¡äº¤å‡ºçš„ç­”å·ç›¸å½“æœ‰è¯šæ„ã€‚å®ƒä¸æ˜¯é‚£ç§é«˜é«˜åœ¨ä¸Šã€åªèƒ½åœ¨å®éªŒå®¤é‡Œè·‘çš„å·¨æ— éœ¸ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£èƒ½è®©å¼€å‘è€…æ‹¿æ¥ç”¨ã€æ‹¿æ¥æ”¹ã€æ‹¿æ¥åˆ›é€ ä»·å€¼çš„å®ç”¨å·¥å…·ã€‚</p>
<p>å¦‚æœä½ å—å¤Ÿäº†é‚£äº›å¬èµ·æ¥åƒæœºå™¨äººçš„é…éŸ³ï¼Œä¸å¦¨å»ä¸‹è½½è¿™ä¸ª 1.5 ç‰ˆæœ¬è¯•è¯•ã€‚æ¯•ç«Ÿï¼Œåœ¨è¿™ä¸ªAIé£é€Ÿè¿›åŒ–çš„æ—¶ä»£ï¼Œèƒ½æ‰¾åˆ°ä¸€ä¸ªæ—¢å¥½å¬åˆå¬è¯çš„â€œå˜´æ›¿â€ï¼Œç¡®å®ä¸å®¹æ˜“ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7582413770091446310</link>    <guid>https://juejin.cn/post/7582413770091446310</guid>    <pubDate>2025-12-11T14:07:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582413770091446310" data-draft-id="7582413770091429926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²"/> <meta itemprop="keywords" content="Nuxt.js,Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T14:07:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥èˆªé©¿ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/4125023356335576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023356335576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥èˆªé©¿ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T14:07:06.000Z" title="Thu Dec 11 2025 14:07:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">Nuxt 3 å¼€å‘ææ•ˆæŒ‡å—ï¼šæˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²</h2>
<blockquote>
<p>åœ¨ Nuxt 3 çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€äº›é‡å¤æ€§çš„å·¥ä½œï¼šå°è£… Fetch è¯·æ±‚ã€å¤„ç† AES/RSA åŠ å¯†ã€é…ç½® SEO Metaã€åˆ¤æ–­è®¾å¤‡ç±»å‹ç­‰ç­‰ã€‚è™½ç„¶ç¤¾åŒºæœ‰å¾ˆå¤šä¼˜ç§€çš„åº“ï¼Œä½†æ¯æ¬¡æ–°å¼€é¡¹ç›®éƒ½è¦é‡æ–°æŠŠè¿™äº›åº“é›†æˆä¸€éï¼Œè¿˜æ˜¯ç•¥æ˜¾ç¹çã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å¼€å‘äº† <strong>nuxt-web-plugin</strong>ï¼Œä¸€ä¸ªé›†æˆäº†ç½‘ç»œè¯·æ±‚ã€å®‰å…¨åŠ å¯†ã€SEO ä¼˜åŒ–ã€è®¾å¤‡æ£€æµ‹ç­‰å¸¸ç”¨åŠŸèƒ½çš„ Nuxt 3 æ’ä»¶ï¼Œæ—¨åœ¨è®©å¼€å‘å˜å¾—æ›´ç®€å•ã€æ›´é«˜æ•ˆã€‚</p>
<p><strong>GitHub ä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhangjob%2Fnuxt-web-plugin" target="_blank" title="https://github.com/hangjob/nuxt-web-plugin" ref="nofollow noopener noreferrer">github.com/hangjob/nuxâ€¦</a><br/>
<strong>åœ¨çº¿æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhangjob.github.io%2Fnuxt-web-plugin%2F" target="_blank" title="https://hangjob.github.io/nuxt-web-plugin/" ref="nofollow noopener noreferrer">hangjob.github.io/nuxt-web-plâ€¦</a></p>
</blockquote>
<h3 data-id="heading-1">ğŸš€ ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ’ä»¶ï¼Ÿ</h3>
<p>åœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦è§£å†³ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>API è¯·æ±‚ç¹ç</strong>ï¼šåŸç”Ÿ <code>useFetch</code> è™½ç„¶å¥½ç”¨ï¼Œä½†ç¼ºä¹ç»Ÿä¸€çš„æ‹¦æˆªå™¨ã€é”™è¯¯å¤„ç†å’Œ Token è‡ªåŠ¨æ³¨å…¥ã€‚</li>
<li><strong>æ•°æ®å®‰å…¨ç„¦è™‘</strong>ï¼šå‰åç«¯äº¤äº’æ•æ„Ÿæ•°æ®ï¼ˆå¦‚å¯†ç ã€æ‰‹æœºå·ï¼‰è£¸å¥”ï¼Œæ‰‹åŠ¨å¼•å…¥ <code>crypto-js</code> æˆ– <code>jsencrypt</code> ä½“ç§¯å¤§ä¸”é…ç½®éº»çƒ¦ã€‚</li>
<li><strong>SEO é…ç½®é‡å¤</strong>ï¼šæ¯ä¸ªé¡µé¢éƒ½è¦æ‰‹å†™ <code>useHead</code>ï¼Œä¸ä»…ç´¯è¿˜å®¹æ˜“æ¼æ‰ Open Graph æ ‡ç­¾ã€‚</li>
<li><strong>è®¾å¤‡é€‚é…éº»çƒ¦</strong>ï¼šéœ€è¦æ‰‹åŠ¨è§£æ User-Agent æ¥åˆ¤æ–­æ˜¯ç§»åŠ¨ç«¯è¿˜æ˜¯ PC ç«¯ï¼Œæˆ–è€…æ˜¯å¦åœ¨å¾®ä¿¡ç¯å¢ƒå†…ã€‚</li>
</ol>
<p><code>nuxt-web-plugin</code> å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªè‡ƒè‚¿çš„ UI åº“ï¼Œè€Œæ˜¯ä¸€å¥—è½»é‡çº§çš„<strong>ä¸šåŠ¡é€»è¾‘å¢å¼ºå¥—ä»¶</strong>ã€‚</p>
<h3 data-id="heading-2">âœ¨ æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ</h3>
<h4 data-id="heading-3">1. ä¼˜é›…çš„ç½‘ç»œè¯·æ±‚ (<code>useApiClient</code>)</h4>
<p>åŸºäº Nuxt <code>useFetch</code> çš„æ·±åº¦å°è£…ï¼Œæ”¯æŒå…¨å±€æ‹¦æˆªå™¨ã€è‡ªåŠ¨æºå¸¦ Tokenã€ç»Ÿä¸€é”™è¯¯å¤„ç†ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> api = <span class="hljs-title function_">useApiClient</span>()

<span class="hljs-comment">// GET è¯·æ±‚</span>
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/user/profile'</span>)

<span class="hljs-comment">// POST è¯·æ±‚ï¼ˆè‡ªåŠ¨å¤„ç† Content-Typeï¼‰</span>
<span class="hljs-keyword">await</span> api.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/auth/login'</span>, { <span class="hljs-attr">body</span>: { username, password } })
</code></pre>
<p>åœ¨ <code>nuxt.config.ts</code> ä¸­ç®€å•é…ç½®å³å¯ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'nuxt-web-plugin'</span>],
  <span class="hljs-attr">webPlugin</span>: {
    <span class="hljs-attr">network</span>: {
      <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.example.com'</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>
    }
  }
})
</code></pre>
<h4 data-id="heading-4">2. å¼€ç®±å³ç”¨çš„å®‰å…¨åŠ å¯† (<code>useCrypto</code>, <code>useWebUtils</code>)</h4>
<p>å†…ç½®äº† AES å¯¹ç§°åŠ å¯†ã€RSA éå¯¹ç§°åŠ å¯†å’Œ Hash å“ˆå¸Œè®¡ç®—ï¼Œæ— éœ€é¢å¤–å®‰è£…ä¾èµ–ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { encrypt, decrypt } = <span class="hljs-title function_">useSymmetricCrypto</span>() <span class="hljs-comment">// AES</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">encrypt</span>: rsaEncrypt } = <span class="hljs-title function_">useAsymmetricCrypto</span>() <span class="hljs-comment">// RSA</span>
<span class="hljs-keyword">const</span> { hash } = <span class="hljs-title function_">useHash</span>() <span class="hljs-comment">// MD5, SHA-256</span>

<span class="hljs-comment">// ç¤ºä¾‹ï¼šç™»å½•å¯†ç åŠ å¯†</span>
<span class="hljs-keyword">const</span> encryptedPassword = <span class="hljs-title function_">rsaEncrypt</span>(password)
<span class="hljs-comment">// ç¤ºä¾‹ï¼šæœ¬åœ°å­˜å‚¨æ•æ„Ÿæ•°æ®</span>
<span class="hljs-keyword">const</span> secureData = <span class="hljs-title function_">encrypt</span>(userData)
</code></pre>
<h4 data-id="heading-5">3. æ‡’äººç‰ˆ SEO ä¼˜åŒ– (<code>useWebSeo</code>)</h4>
<p>ä¸€è¡Œä»£ç æå®š Titleã€Descriptionã€Keywords ä»¥åŠ Open Graph ç¤¾äº¤åˆ†äº«å¡ç‰‡ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">useWebSeo</span>({
  <span class="hljs-attr">title</span>: <span class="hljs-string">'æˆ‘çš„æ–‡ç« æ ‡é¢˜'</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">'è¿™æ˜¯ä¸€ç¯‡å…³äº Nuxt 3 æ’ä»¶çš„ä»‹ç»æ–‡ç« '</span>,
  <span class="hljs-attr">image</span>: <span class="hljs-string">'/cover.png'</span> <span class="hljs-comment">// è‡ªåŠ¨è½¬æ¢ä¸ºç»å¯¹è·¯å¾„</span>
})
</code></pre>
<h4 data-id="heading-6">4. è®¾å¤‡ä¸ç¯å¢ƒæ£€æµ‹ (<code>useDevice</code>)</h4>
<p>åœ¨ SSR å’Œå®¢æˆ·ç«¯å‡å¯å‡†ç¡®è¯†åˆ«è®¾å¤‡ç±»å‹ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { isMobile, isDesktop, isWeChat, isIOS } = <span class="hljs-title function_">useDevice</span>()

<span class="hljs-keyword">if</span> (isMobile) {
  <span class="hljs-comment">// åŠ è½½ç§»åŠ¨ç«¯ç»„ä»¶</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-7">ğŸ› ï¸ é™„åŠ æŠ€èƒ½ï¼šå¦‚ä½•ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²æ–‡æ¡£</h3>
<p>åœ¨è¿™ä¸ªé¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä½¿ç”¨äº† <strong>VitePress</strong> ç¼–å†™æ–‡æ¡£ï¼Œå¹¶åˆ©ç”¨ <strong>GitHub Actions</strong> å®ç°äº†è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° GitHub Pagesã€‚è¿™é‡Œåˆ†äº«ä¸€ä¸‹æˆ‘çš„è¸©å‘ç»éªŒå’Œæœ€ç»ˆæ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-8">1. å‡†å¤‡ VitePress</h4>
<p>é¦–å…ˆï¼Œç¡®ä¿ä½ çš„æ–‡æ¡£é¡¹ç›®ï¼ˆé€šå¸¸åœ¨ <code>docs</code> ç›®å½•ï¼‰èƒ½æ­£å¸¸ buildã€‚</p>
<p>åœ¨ <code>docs/.vitepress/config.mts</code> ä¸­ï¼Œ<strong>æœ€å…³é”®çš„ä¸€æ­¥</strong>æ˜¯è®¾ç½® <code>base</code> è·¯å¾„ï¼Œå¿…é¡»ä¸ä½ çš„ GitHub ä»“åº“åä¸€è‡´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å¦‚æœä»“åº“åœ°å€æ˜¯ https://github.com/hangjob/nuxt-web-plugin</span>
  <span class="hljs-comment">// é‚£ä¹ˆ base å¿…é¡»æ˜¯ /nuxt-web-plugin/</span>
  <span class="hljs-attr">base</span>: <span class="hljs-string">'/nuxt-web-plugin/'</span>, 
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<h4 data-id="heading-9">2. é…ç½® GitHub Actions</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.github/workflows/docs.yml</code>ã€‚</p>
<p><strong>é‡åˆ°çš„å‘</strong>ï¼š</p>
<ol>
<li><strong>æƒé™ä¸è¶³</strong>ï¼šGitHub Actions é»˜è®¤åªæœ‰åªè¯»æƒé™ï¼Œæ— æ³•æ¨é€åˆ° <code>gh-pages</code> åˆ†æ”¯ã€‚éœ€è¦åœ¨ä»“åº“ <code>Settings -&gt; Actions -&gt; General -&gt; Workflow permissions</code> ä¸­å¼€å¯ <code>Read and write permissions</code>ã€‚</li>
<li><strong>pnpm æ‰¾ä¸åˆ°</strong>ï¼šActions ç¯å¢ƒé»˜è®¤æ²¡æœ‰ pnpmï¼Œéœ€è¦ä¸“é—¨å®‰è£…ã€‚</li>
<li><strong>é”æ–‡ä»¶é—®é¢˜</strong>ï¼šå¦‚æœä¸æƒ³æäº¤ <code>pnpm-lock.yaml</code>ï¼Œå®‰è£…ä¾èµ–æ—¶ä¸èƒ½ç”¨ <code>--frozen-lockfile</code>ã€‚</li>
</ol>
<p><strong>æœ€ç»ˆå¯ç”¨çš„é…ç½®ï¼ˆäº²æµ‹æœ‰æ•ˆï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Docs</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [<span class="hljs-string">main</span>] <span class="hljs-comment"># æ¨é€ main åˆ†æ”¯æ—¶è§¦å‘</span>

<span class="hljs-attr">permissions:</span>
  <span class="hljs-attr">contents:</span> <span class="hljs-string">write</span> <span class="hljs-comment"># æ˜¾å¼èµ‹äºˆå†™æƒé™</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build-and-deploy:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>

      <span class="hljs-comment"># 1. å®‰è£… pnpm</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">pnpm</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">version:</span> <span class="hljs-number">9</span>
          <span class="hljs-attr">run_install:</span> <span class="hljs-literal">false</span>

      <span class="hljs-comment"># 2. è®¾ç½® Node ç¯å¢ƒ (æ¨è LTS v20 æˆ– v22)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">22</span>
          <span class="hljs-attr">cache:</span> <span class="hljs-string">pnpm</span> <span class="hljs-comment"># å¦‚æœæäº¤äº†é”æ–‡ä»¶ï¼Œå¯ä»¥ç”¨è¿™ä¸ªåŠ é€Ÿ</span>

      <span class="hljs-comment"># 3. å®‰è£…ä¾èµ– (æ— é”æ–‡ä»¶æ¨¡å¼)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">deps</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">install</span> <span class="hljs-string">--no-frozen-lockfile</span>

      <span class="hljs-comment"># 4. è§£å†³ Nuxt ç‰¹æœ‰çš„æ„å»ºé—®é¢˜ (ç”Ÿæˆ .nuxt ç›®å½•)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Prepare</span> <span class="hljs-string">Nuxt</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">run</span> <span class="hljs-string">dev:prepare</span> 

      <span class="hljs-comment"># 5. æ„å»ºæ–‡æ¡£</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">docs</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">docs:build</span>

      <span class="hljs-comment"># 6. å‘å¸ƒåˆ° gh-pages åˆ†æ”¯</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">github_token:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">}}</span>
          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">docs/.vitepress/dist</span>
</code></pre>
<h4 data-id="heading-10">3. è‡ªåŠ¨åŒ–</h4>
<p>é…ç½®å®Œæˆåï¼Œæ¯æ¬¡ <code>git push</code>ï¼ŒGitHub Actions å°±ä¼šè‡ªåŠ¨å¸®ä½ æ„å»ºæ–‡æ¡£å¹¶å‘å¸ƒã€‚ä½ å¯ä»¥é€šè¿‡ <code>https://&lt;username&gt;.github.io/&lt;repo-name&gt;/</code> è®¿é—®ä½ çš„æ–‡æ¡£ç«™ç‚¹ã€‚</p>
<hr/>
<h3 data-id="heading-11">ğŸ’¡ ç»“è¯­</h3>
<p><strong>nuxt-web-plugin</strong> ç›®å‰è¿˜åœ¨æŒç»­è¿­ä»£ä¸­ï¼Œå¸Œæœ›èƒ½ä¸ºä½ çš„ Nuxt å¼€å‘ä¹‹æ—…å‡å°‘ä¸€äº›é‡å¤åŠ³åŠ¨ã€‚å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿æ¥ GitHub ç‚¹ä¸ª Star â­ï¸ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´]]></title>    <link>https://juejin.cn/post/7582413770091544614</link>    <guid>https://juejin.cn/post/7582413770091544614</guid>    <pubDate>2025-12-11T14:38:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582413770091544614" data-draft-id="7582413770091511846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T14:38:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å«"/> <meta itemprop="url" content="https://juejin.cn/user/1961184474695213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184474695213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T14:38:35.000Z" title="Thu Dec 11 2025 14:38:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>2025å¹´11æœˆ18æ—¥ï¼Œè°·æ­Œå‘å¸ƒäº†æ–°ä¸€ä»£ AI æ¨¡å‹ <code>Gemini 3</code>ï¼Œå®ƒçš„æ€§èƒ½å…¨é¢åè¶…äº† <code>ChatGPT</code>ï¼Œåœ¨æ¨ç†ã€æ•°å­¦ã€å¤šæ¨¡æ€å’Œç¼–ç¨‹è¿™å‡ ä¸ªæ ¸å¿ƒèµ›é“ä¸Šå‡ ä¹éƒ½æ˜¯å…¨èƒ½å† å†›ã€‚</p>
<h2 data-id="heading-1">é‡ç£…ç¦åˆ©</h2>
<p>ä¸€å¹´ä¼šå‘˜åªè¦ <strong>9.9</strong> å…ƒã€åŸä»· <strong>1680</strong> å…ƒã€‘ï¼Œéœ€è¦çš„æ·»åŠ å¾®ä¿¡ <strong>zm_david</strong>ï¼Œå¸®æ‚¨å®Œç¾è§£å†³ä»¥ä¸‹ 4 ä¸ªé—®é¢˜ã€‚</p>
<blockquote>
<p>âš ï¸æ³¨ï¼šä¼˜æƒ æˆªæ­¢æ—¥æœŸ 2026å¹´1æœˆ31æ—¥ã€‚</p>
</blockquote>
<h2 data-id="heading-2">1. å‡ºäº†ç‚¹é—®é¢˜ï¼ˆSomething went wrongï¼‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a21a08b85e14949b9602d42d85dda61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=BcWW2bgKihl0B2gAg2XZW6d%2BHKs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f44cf317b4b048d1815715290a5f35a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=VUX4EBN9Z9D3%2FWUAsxTiNhgmZG0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">2. æ­¤è´¦å·æ— æ³•è®¢é˜… Google AI æ–¹æ¡ˆ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e824591cfb5a4a789bb6d49847184c5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=Dznb96xBfbPfnq0jJTa1LCA2LTc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. æ— æ³•äº«å—æ­¤ä¼˜æƒ </h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe99240dd1fe4c669b5cde9027d51bb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=1x6zhZYHG2anrc6iI18LGJY7e0w%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0dba36d7d234bccabd042ff2720e9f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=jvUZcjyd4oN9DKEDTOyJ0v5vxYo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">4. æ²¡æœ‰ Visa å¡ç»‘å®š</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/926dea6d3d934b2d9d1a0b8ad2b136df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=lI3qoKrhp1et36u5MxqXJV4Iy40%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨ç”¨condaï¼Ÿï¼Œè¯•è¯•uvï¼Œæé«˜åŒ…çš„å®‰è£…é€Ÿåº¦]]></title>    <link>https://juejin.cn/post/7582267229842751488</link>    <guid>https://juejin.cn/post/7582267229842751488</guid>    <pubDate>2025-12-11T13:33:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842751488" data-draft-id="7582267229842735104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨ç”¨condaï¼Ÿï¼Œè¯•è¯•uvï¼Œæé«˜åŒ…çš„å®‰è£…é€Ÿåº¦"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T13:33:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cci"/> <meta itemprop="url" content="https://juejin.cn/user/471028202210094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨ç”¨condaï¼Ÿï¼Œè¯•è¯•uvï¼Œæé«˜åŒ…çš„å®‰è£…é€Ÿåº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/471028202210094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cci
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:33:49.000Z" title="Thu Dec 11 2025 13:33:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">UVä½¿ç”¨æ•™ç¨‹</h2>
<h3 data-id="heading-1">åˆ›å»ºé¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash">uv init xxx --package
</code></pre>
<p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p>
<blockquote>
<p>æ³¨æ„å¦‚æœæƒ³è¦é¡ºç•…çš„ä½¿ç”¨ç³»ç»ŸåŒ…ï¼Œæœ€å¥½æ·»åŠ <code>--system-site-packages</code></p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">uv venv --python /usr/bin/python3.12 --system-site-packages
</code></pre>
<p>å®‰è£…ä¾èµ–</p>
<pre><code class="hljs language-bash" lang="bash">uv add toml
</code></pre>
<p>åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fpypi.org%2F" target="_blank" title="https://pypi.org/" ref="nofollow noopener noreferrer">pypi</a>ä¸Šèƒ½æ‰¾åˆ°çš„åŒ…éƒ½å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash">uv pip install pin
</code></pre>
<p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå¹¶è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash">uv run main.py
</code></pre>
<p>ç­‰ä»·ä¸</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> .venv/bin/activate
python main.py
</code></pre>
<p>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span> -rf .venv
</code></pre>
<p>å¤ç°ç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">uv <span class="hljs-built_in">sync</span>
</code></pre>
<h3 data-id="heading-2">ç®¡ç†å‘½è¡Œå·¥å…·</h3>
<p>å…¨å±€å®‰è£…å·¥å…·</p>
<pre><code class="hljs language-bash" lang="bash">uv tool install pytest
</code></pre>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦è™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">pytest
</code></pre>
<h3 data-id="heading-3">è°ƒç”¨å…¶ä»–é¡¹ç›®</h3>
<p>å®‰è£…åŒ…</p>
<pre><code class="hljs language-bash" lang="bash">uv pip install -e ../xxx-SDK
or
<span class="hljs-comment"># uv add --editable ../xxx-SDK</span>
</code></pre>
<p>å®‰è£…whlåŒ…</p>
<pre><code class="hljs language-bash" lang="bash">uv pip install ./xxx.whl
</code></pre>
<p>å®‰è£…å½“å‰é¡¹ç›®åˆ°å½“å‰ç¯å¢ƒ</p>
<blockquote>
<p>ç”¨äºæµ‹è¯•</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">uv pip install -e .
</code></pre>
<h3 data-id="heading-4">docs</h3>
<pre><code class="hljs language-bash" lang="bash">uv add sphinx sphinx-autodoc-typehints furo
</code></pre>
<p>åˆå§‹åŒ–Sphnix</p>
<pre><code class="hljs language-bash" lang="bash">uv run sphinx-quickstart docs
</code></pre>
<h3 data-id="heading-5">æ„å»º</h3>
<ul>
<li>å¯¹äºéœ€è¦é…ç½®æ–‡ä»¶çš„é¡¹ç›®ï¼Œæœ€å¥½ä½¿ç”¨<code>setuptools</code>ä½œä¸ºæ„å»ºåç«¯
whlåŒ…</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">uv build

uv build --wheel
</code></pre>
<p>æºç åŒ…</p>
<pre><code class="hljs language-bash" lang="bash">uv build --sdist
</code></pre>
<p>manylinux</p>
<pre><code class="hljs language-bash" lang="bash">docker run -it --<span class="hljs-built_in">rm</span> -v $(<span class="hljs-built_in">pwd</span>):/io quay.io/pypa/manylinux2014_x86_64 bash
<span class="hljs-built_in">cd</span> /io
uv build --wheel
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®¾å¤‡æ¯æ¬¡æ’å…¥Linuxè¯†åˆ«çš„ä¸²å£ä¸ä¸€æ ·ï¼Ÿè¯•è¯•udevï¼]]></title>    <link>https://juejin.cn/post/7582267229842767872</link>    <guid>https://juejin.cn/post/7582267229842767872</guid>    <pubDate>2025-12-11T13:36:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842767872" data-draft-id="7582401182934499343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®¾å¤‡æ¯æ¬¡æ’å…¥Linuxè¯†åˆ«çš„ä¸²å£ä¸ä¸€æ ·ï¼Ÿè¯•è¯•udevï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T13:36:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cci"/> <meta itemprop="url" content="https://juejin.cn/user/471028202210094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®¾å¤‡æ¯æ¬¡æ’å…¥Linuxè¯†åˆ«çš„ä¸²å£ä¸ä¸€æ ·ï¼Ÿè¯•è¯•udevï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/471028202210094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cci
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:36:41.000Z" title="Thu Dec 11 2025 13:36:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">udevè§„åˆ™</h2>
<p>1ã€ä¸æ’å…¥è®¾å¤‡æ‰§è¡Œç¡®å®šç¡¬ä»¶å±æ€§</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> /dev/tty*
</code></pre>
<p>2ã€æ’å…¥è®¾å¤‡æ‰§è¡Œç¡®å®šç«¯å£</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> /dev/tty*
</code></pre>
<p>3ã€æŸ¥å±æ€§è®°å½•è®¾å¤‡çš„idVendorã€idProductã€serialï¼ˆæˆ– manufacturer/productï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°½é‡ä½¿ç”¨ serial æ¥åŒºåˆ†åŒå‹å·è®¾å¤‡ï¼›å¦‚æœä¸¤è®¾å¤‡å‹å·ä¸åŒï¼ŒidVendor + idProduct å°±å¤Ÿ</span>
udevadm info -a -n /dev/ttyACM0 | <span class="hljs-built_in">head</span> -n 100
æˆ–
udevadm info -a -n /dev/ttyACM0 | grep -E <span class="hljs-string">'ATTRS{serial}|ATTRS{product}|ATTRS{manufacturer}|ATTRS{idProduct}|bInterfaceNumber'</span>
</code></pre>
<p>4ã€ç¼–å†™udevè§„åˆ™</p>
<blockquote>
<p>æŠŠ vvvv/pppp/serial æ›¿æ¢æˆä¸Šä¸€æ­¥æŸ¥åˆ°çš„å€¼
å¦‚æœä¸¤è€…æ˜¯åŒå“ç‰ŒåŒå‹å·ä½†åºåˆ—å·ä¸åŒï¼Œä½¿ç”¨ serial åŒºåˆ†ï¼›å¦‚æœåºåˆ—å·ç¼ºå¤±ï¼Œå¯ä»¥ç”¨ ATTRS{product}/ATTRS{manufacturer} æˆ– KERNELS=="1-2.3:1.0" è¿™æ ·çš„ç«¯å£è·¯å¾„ï¼ˆä¾èµ– hub æ‹“æ‰‘ï¼Œä¸å¦‚åºåˆ—å·ç¨³ï¼‰</p>
</blockquote>
<pre><code class="hljs language-rules" lang="rules"># IMU
SUBSYSTEM=="tty", ATTRS{idVendor}=="1a86", ATTRS{idProduct}=="55d4", ATTRS{serial}=="5B0B029760", SYMLINK+="ttyIMU"
# Battery
SUBSYSTEM=="tty", ATTRS{idVendor}=="1a86", ATTRS{idProduct}=="55d3", ATTRS{serial}=="5A31010829", SYMLINK+="ttyBattery"
# Camera
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:1:1.0", SYMLINK+="Camera-left"
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:2:1.0", SYMLINK+="Camera-right"
</code></pre>
<p>5ã€æ·»åŠ è§„åˆ™</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/udev/rules.d/99-custom-tty.rules
</code></pre>
<p>6ã€ é‡è½½å¹¶åº”ç”¨</p>
<pre><code class="hljs language-bash" lang="bash">sudo udevadm control --reload
sudo udevadm trigger --subsystem-match=<span class="hljs-built_in">tty</span>
</code></pre>
<p>7ã€éªŒè¯ï¼šé‡æ–°æ’æ‹”æˆ–ç”¨</p>
<pre><code class="hljs language-bash" lang="bash">sudo udevadm trigger
</code></pre>
<p>æ£€æŸ¥æ˜¯å¦æŒ‡å‘å¯¹åº” ttyACM*</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -l /dev/ttyIMU /dev/ttyBattery
</code></pre>
<h2 data-id="heading-1">Camera</h2>
<p>1ã€å…ˆçœ‹çœ‹ç³»ç»Ÿå·²æœ‰çš„å”¯ä¸€å</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -l /dev/v4l/by-id
</code></pre>
<p>2ã€æŸ¥ç«¯å£è·¯å¾„</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŒä¸€ä¸ªå‹å·</span>
<span class="hljs-built_in">ls</span> -l /dev/v4l/by-path
æˆ–
<span class="hljs-comment"># ä¸åŒå‹å·æˆ–ä¸åŒå‚å•†</span>
udevadm info --name=/dev/video3 | grep -E <span class="hljs-string">'ID_SERIAL|ID_SERIAL_SHORT|ID_PATH|ID_V4L_PRODUCT|idVendor|idProduct|serial'</span>
</code></pre>
<p>ä¾‹å¦‚ç»“æœä¸º</p>
<pre><code class="hljs language-bash" lang="bash">~ â†’ <span class="hljs-built_in">ls</span> -l /dev/v4l/by-path
æ€»è®¡ 0
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:1:1.0-video-index0 -&gt; ../../video0
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:1:1.0-video-index1 -&gt; ../../video1
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:2:1.0-video-index0 -&gt; ../../video2
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:2:1.0-video-index1 -&gt; ../../video3
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:1:1.0-video-index0 -&gt; ../../video0
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:1:1.0-video-index1 -&gt; ../../video1
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:2:1.0-video-index0 -&gt; ../../video2
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:2:1.0-video-index1 -&gt; ../../video3
</code></pre>
<p>åˆ™udevè§„åˆ™ä¸º</p>
<pre><code class="hljs language-rules" lang="rules"># Camera
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:1:1.0", SYMLINK+="Camera-left"
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:2:1.0", SYMLINK+="Camera-right"
</code></pre>
<p>æ‰§è¡Œä¸Šè¿°ç¬¬5æ­¥ï¼ŒéªŒè¯</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -l /dev/Camera-left /dev/Camera-right
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Wireshark TS | å…³é—­è¿æ¥å’Œè¶…æ—¶é‡ä¼ ]]></title>    <link>https://juejin.cn/post/7582438809377996842</link>    <guid>https://juejin.cn/post/7582438809377996842</guid>    <pubDate>2025-12-11T13:42:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809377996842" data-draft-id="7582438809377964074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Wireshark TS | å…³é—­è¿æ¥å’Œè¶…æ—¶é‡ä¼ "/> <meta itemprop="keywords" content="Wireshark,TCP/IP,ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-11T13:42:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="7ACE"/> <meta itemprop="url" content="https://juejin.cn/user/4033458369739741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Wireshark TS | å…³é—­è¿æ¥å’Œè¶…æ—¶é‡ä¼ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4033458369739741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    7ACE
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:42:08.000Z" title="Thu Dec 11 2025 13:42:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ¥è‡ªäºæŠ€æœ¯ç¾¤è®¨è®ºçš„ä¸€ä¸ªé—®é¢˜ï¼ŒåŸè¯å¦‚ä¸‹ï¼š</p>
<p>ã€Œè®¨è®ºä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“tcpçš„è¶…æ—¶é‡ä¼ æœºåˆ¶ã€‚åœ¨è¶…æ—¶é‡ä¼ è¿‡ç¨‹ä¸­ï¼Œå¦‚ç¬¬9æ¬¡é‡ä¼ é—´éš”è¦ç­‰å¾…52sã€‚é—®é¢˜ï¼šåœ¨52sé—´éš”è¿˜æ²¡æœ‰åˆ°ï¼Œæ­¤æ—¶ä¸Šå±‚åº”ç”¨ä¸»åŠ¨æ”¾å¼ƒäº†ï¼Œè¿™ä¸ªé‡ä¼ è¿˜ä¼šå‡ºç°å—ï¼Ÿã€</p>
<p>æŒ‰ç…§è‡ªå·±çš„ç†è§£ï¼Œæˆ‘ç®€å•å†™è¿™ä¹ˆä¸€ç¯‡æ–‡ç« ï¼Œè®¨è®ºä¸‹è¯¥é—®é¢˜ï¼Œåå­—ä¹Ÿå°±éšä¾¿èµ·äº†ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p><strong>é—®é¢˜ç®€åŒ–æˆï¼šåœ¨æ•°æ®æ®µè¶…æ—¶é‡ä¼ è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸Šå±‚åº”ç”¨ä¸»åŠ¨å…³é—­è¿æ¥ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ã€‚</strong></p>
<p>é¦–å…ˆæ˜¯åº”ç”¨ä¸»åŠ¨å…³é—­è¿æ¥çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯æ­£å¸¸ TCP å››æ¬¡æŒ¥æ‰‹é€šè¿‡ FIN ç»ˆæ­¢è¿æ¥çš„è¿‡ç¨‹ç§°ä¸º orderly releaseï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥ä¸»åŠ¨ Reset ä¸€ä¸ª TCP è¿æ¥ï¼Œå¹¶ä¸”ä¸éœ€è¦å¾—åˆ°ç¡®è®¤ï¼Œè¿™ç§æƒ…å†µä¸‹çš„è¿æ¥ä¸­æ–­è¿‡ç¨‹ç§°ä¸º abortive releaseã€‚</p>
<p>orderly release å¯ä»¥è¯´æ˜¯ä¸€ç§ä¼˜é›…çš„å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ï¼Œé€šè¿‡ FIN å’Œ ACK åŒ…çš„äº¤æ¢ç¡®ä¿åŒæ–¹éƒ½å®Œæˆæ•°æ®ä¼ è¾“å¹¶å®‰å…¨å…³é—­è¿æ¥ï¼›è€Œ abortive release åˆ™æ˜¯é€šè¿‡å‘é€ RST åŒ…æ¥å¼ºåˆ¶ç«‹å³ç»ˆæ­¢è¿æ¥çš„æ–¹å¼ï¼Œå®ƒä¼šä¸¢å¼ƒæ‰€æœ‰æœªå‘é€çš„æ•°æ®å¹¶è·³è¿‡æ­£å¸¸çš„å…³é—­æµç¨‹ï¼Œé€šå¸¸ç”¨äºå¤„ç†é”™è¯¯æƒ…å†µæˆ–éœ€è¦ç´§æ€¥æ–­å¼€è¿æ¥çš„åœºæ™¯ã€‚</p>
<p>å¦‚æœæ˜¯æœ¬ç«¯æ­£å¸¸ FIN ï¼Œè¿æ¥å®é™…è¿˜å­˜åœ¨ï¼Œè€Œç›´æ¥ RSTï¼Œè¿æ¥å°±åº”è¯¥ä¸å­˜åœ¨äº†ï¼Œä»¥ä¸‹å°±è¿™ä¸¤ç§æƒ…å†µåˆ†åˆ«åšä¸‹æµ‹è¯•ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜æµ‹è¯•</h2>
<p>é’ˆå¯¹ orderly releaseï¼Œå¯ä»¥é€šè¿‡ packetdrill è„šæœ¬æ¨¡æ‹Ÿï¼Œå¦‚ä¸‹ï¼Œåœ¨å°è¯•å†™å…¥ 100 å­—èŠ‚æ•°æ®åï¼Œå¹¶æ²¡æœ‰æ¨¡æ‹Ÿæ”¶åˆ° ACK ç¡®è®¤ï¼Œå› æ­¤ä¼šè¿›å…¥è¶…æ—¶é‡ä¼ è¿‡ç¨‹ï¼Œç„¶åé—´éš” 1 ç§’åä¸»åŠ¨å…³é—­è¿æ¥ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># cat test.pkt 
0  socket(..., SOCK_STREAM, IPPROTO_TCP) = 3
+0 setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
+0 bind(3, ..., ...) = 0
+0 listen(3, 1) = 0

+0 &lt; S 0:0(0) win 10000 &lt;mss 1000,nop,nop,sackOK&gt;
+0 &gt; S. 0:0(0) ack 1 &lt;...&gt;
+0.05 &lt; . 1:1(0) ack 1 win 10000
+0 accept(3, ..., ...) = 4

+0.01 write(4,...,100) = 100

+1 close(4) = 0

+0 `sleep 10`
#
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°å‘é€ç«¯åœ¨å‘å‡ºæ•°æ®æ®µ Seq 1:101 åï¼Œç”±äºå¾—ä¸åˆ° ACK ç¡®è®¤ï¼Œæ‰€ä»¥åœ¨ä¸æ–­è¿›è¡Œè¶…æ—¶é‡ä¼ ï¼Œåœ¨é‡ä¼ ä¸¤æ¬¡åï¼Œåº”ç”¨å…³é—­è¿æ¥ï¼Œå› æ­¤æ­£å¸¸å‘å‡ºäº† FIN æ•°æ®åŒ… Seq 101 ï¼Œä½†åŒæ ·å¾—ä¸åˆ° ACK ç¡®è®¤ï¼Œä¹‹åä»ç„¶æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®æ®µåœ¨ä¸æ–­è¿›è¡Œè¶…æ—¶é‡ä¼ ï¼ŒRTO æ—¶é—´ä¸æ–­ç¿»å€ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># packetdrill test.pkt
#


# tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
22:09:23.954982 tun0  In  IP 192.0.2.1.38747 &gt; 192.168.55.3.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
22:09:23.955012 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [S.], seq 767095716, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
22:09:24.005104 tun0  In  IP 192.0.2.1.38747 &gt; 192.168.55.3.8080: Flags [.], ack 1, win 10000, length 0
22:09:24.015337 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:24.274691 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:24.530705 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:25.015412 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [F.], seq 101, ack 1, win 64240, length 0
22:09:25.042696 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:26.066702 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:28.114731 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:32.242783 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:35.017335 ?     In  IP 192.0.2.1.38747 &gt; 192.168.55.3.8080: Flags [R.], seq 1, ack 1, win 10000, length 0
#
</code></pre>
<p>å¦å¤–ä¸Šè¿°å®éªŒè¿˜æœ‰ä¸€ä¸ªç°è±¡ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®æ®µæ²¡æœ‰å¾—åˆ° ACK ç¡®è®¤ä»è€Œä¸æ–­é‡ä¼ çš„è¿‡ç¨‹ä¸­ï¼ŒFIN å¹¶ä¸ä¼šè¿›å…¥è¶…æ—¶é‡ä¼ ï¼Œè¿™ä¸ªå’Œè¿ç»­å‘ä¸¤ä¸ªæ•°æ®æ®µï¼Œåœ¨å‘ç”Ÿè¶…æ—¶é‡ä¼ åï¼Œå› ä¸ºæ‹¥å¡çª—å£é™ä¸ºäº† 1 ï¼Œæ‰€ä»¥è¶…æ—¶é‡ä¼ ç¬¬ä¸€ä¸ªæ•°æ®æ®µçš„æƒ…å†µä¸€æ ·ï¼Œæ¯•ç«Ÿ FIN å®é™…ä¸Šä¹Ÿæ˜¯å¸¦æœ‰ 1 ä¸ªå­—èŠ‚ï¼Œéœ€è¦å¾—åˆ° ACK ç¡®è®¤çš„ã€‚</p>
<p>ç»§ç»­ä¿®æ”¹è„šæœ¬ï¼Œåœ¨ close() ä¹‹åï¼Œå¢åŠ å¯¹ç¬¬ä¸€ä¸ªæ•°æ®æ®µçš„ ACK ç¡®è®¤ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># cat test.pkt 
0  socket(..., SOCK_STREAM, IPPROTO_TCP) = 3
+0 setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
+0 bind(3, ..., ...) = 0
+0 listen(3, 1) = 0

+0 &lt; S 0:0(0) win 10000 &lt;mss 1000,nop,nop,sackOK&gt;
+0 &gt; S. 0:0(0) ack 1 &lt;...&gt;
+0.05 &lt; . 1:1(0) ack 1 win 10000
+0 accept(3, ..., ...) = 4

+0.01 write(4,...,100) = 100

+1 close(4) = 0

+0.5 &lt; . 1:1(0) ack 101 win 10000

+0 `sleep 10`
#
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ã€‚</p>
<p>ç›¸æ¯”ä¸Šé¢çš„å®éªŒï¼Œå¯ä»¥çœ‹åˆ°åœ¨ç¬¬ä¸€ä¸ªæ•°æ®æ®µå¾—åˆ° ACK ç¡®è®¤åï¼Œç´§æ¥ç€å¼€å§‹äº† FIN æ•°æ®åŒ…çš„è¶…æ—¶é‡ä¼ è¿‡ç¨‹ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># packetdrill test.pkt 
#


# tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
22:36:37.955006 tun0  In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
22:36:37.955042 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [S.], seq 124772434, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
22:36:38.005152 tun0  In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [.], ack 1, win 10000, length 0
22:36:38.015262 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:38.290753 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:38.550713 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:39.015312 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:39.058694 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:39.515373 tun0  In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [.], ack 101, win 10000, length 0
22:36:39.515402 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:40.530729 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:42.578719 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:46.802696 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:49.518141 ?     In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [R.], seq 1, ack 101, win 10000, length 0
#
</code></pre>
<p>é’ˆå¯¹ abortive releaseï¼Œä¹Ÿå°±æ˜¯ä¸»åŠ¨é€šè¿‡ RST å…³é—­è¿æ¥ï¼Œå®é™…ä¸Šæ˜¯å¯ä»¥é€šè¿‡è®¾ç½® SO_LINGER é€‰é¡¹æ¥è¾¾åˆ°ç›®çš„ã€‚ä½†ç ”ç©¶äº†ä¸‹ packetdrill è„šæœ¬ï¼Œå°è¯•äº†å¾ˆå¤šæ¬¡ï¼Œå‘ç°æ— æ³•æ¨¡æ‹Ÿå‡ºæ•ˆæœ ğŸ˜… ï¼Œæ‰€ä»¥æ”¹ç”¨äº† python æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">å®¢æˆ·ç«¯
#!/usr/bin/env python3

import socket
import struct
import time

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
client.bind(('', 50000))
client.connect(('localhost', 9999))

client.sendall(b'1234567890')
time.sleep(1)

# è®¾ç½® SO_LINGER é€‰é¡¹ï¼Œå…³é—­æ—¶è§¦å‘ RST
l_onoff = 1    # å¯ç”¨ SO_LINGER
l_linger = 0   # è®¾ç½®å»¶è¿Ÿæ—¶é—´ä¸º 0 ç§’
client.setsockopt(socket.SOL_SOCKET, socket.SO_LINGER, struct.pack('ii', l_onoff, l_linger))

# å…³é—­ socketï¼Œä¼šè§¦å‘ RST è€Œä¸æ˜¯ FIN
client.close()

time.sleep(10)
</code></pre>
<pre><code class="hljs language-plain" lang="plain">æœåŠ¡å™¨ç«¯
#!/usr/bin/env python3

import socket
import time

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
server.bind(('localhost', 9999))
server.listen(5)
print("Server is running...")

while True:
    client, addr = server.accept()
</code></pre>
<p>ç„¶ååœ¨æœåŠ¡å™¨ç«¯é€šè¿‡ iptables è¿‡æ»¤äº† PSH å’Œ RST æ•°æ®åŒ…ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">iptables -A INPUT -p tcp --dport 9999 --tcp-flags PSH PSH -j DROP
iptables -A INPUT -p tcp --dport 9999 --tcp-flags RST RST -j DROP
</code></pre>
<p>é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ï¼Œåº”ç”¨é€šè¿‡ RST å…³é—­è¿æ¥åï¼Œç¬¬ä¸€ä¸ªæ•°æ®æ®µçš„è¶…æ—¶é‡ä¼ è¿‡ç¨‹å°±ç»ˆæ­¢äº†ï¼ŒåŒæ—¶æœ¬åœ°è¿æ¥ä¹Ÿå°±é‡Šæ”¾äº†ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># tcpdump -i any -nn port 9999                                                   
tcpdump: data link type LINUX_SLL2                                                               
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode                        
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes           
21:07:59.283332 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [S], seq 3881859695, win 654
95, options [mss 65495,sackOK,TS val 3838123872 ecr 0,nop,wscale 7], length 0                    
21:07:59.283346 lo    In  IP 127.0.0.1.9999 &gt; 127.0.0.1.50000: Flags [S.], seq 946078152, ack 388
1859696, win 65483, options [mss 65495,sackOK,TS val 3838123872 ecr 3838123872,nop,wscale 7], len
gth 0                                                                                            
21:07:59.283355 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [.], ack 1, win 512, options
 [nop,nop,TS val 3838123872 ecr 3838123872], length 0                                            
21:07:59.283385 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838123872 ecr 3838123872], length 10                                
21:07:59.490698 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838124080 ecr 3838123872], length 10                                
21:07:59.698728 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838124288 ecr 3838123872], length 10                                
21:08:00.114705 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838124704 ecr 3838123872], length 10                                
21:08:00.284543 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [R.], seq 11, ack 1, win 512
, options [nop,nop,TS val 3838124873 ecr 3838123872], length 0
</code></pre>
<h2 data-id="heading-3">é—®é¢˜æ€»ç»“</h2>
<p>å½“ç„¶ï¼Œå°±ä¸ªäººæ¥è¯´ï¼Œæˆ‘åˆ°æ˜¯æ²¡æœ‰è§åˆ°å®é™…ç¯å¢ƒæœ‰è¿™æ ·çš„ç°è±¡ï¼Œä½†åŸç†æ€»æ˜¯é‚£äº›ï¼Œé€šè¿‡å®éªŒä¹ŸéªŒè¯äº†é—®é¢˜çš„ç­”æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™]]></title>    <link>https://juejin.cn/post/7582397035942739974</link>    <guid>https://juejin.cn/post/7582397035942739974</guid>    <pubDate>2025-12-11T12:20:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582397035942739974" data-draft-id="7582406735387836422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€  â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™"/> <meta itemprop="keywords" content="å‰ç«¯,Vite,React.js"/> <meta itemprop="datePublished" content="2025-12-11T12:20:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨å¤œå¯»æ™´å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1943592288391496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€  â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592288391496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨å¤œå¯»æ™´å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:20:02.000Z" title="Thu Dec 11 2025 12:20:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜ä»‹ç»</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fui.shadcn.com%2Fdocs%2Finstallation%2Fvite" target="_blank" title="https://ui.shadcn.com/docs/installation/vite" ref="nofollow noopener noreferrer">ui.shadcn.com/docs/instalâ€¦</a></p>
<p>æŒ‰ç…§è¿™ä¸ªå®˜æ–¹æ–‡æ¡£é…ç½® <strong>shadcn + vite</strong> é¡¹ç›®åï¼Œé‡åˆ°ä¸ªé”™è¯¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89a0379d56374caaacdc4ceef45f8d7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5aSc5a-75pm05aSp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060401&amp;x-signature=lB8%2BS59kjl4XQorEp9JIb7NxrEY%3D" alt="image.png" loading="lazy"/></p>
<p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œç†åº”æ˜¯æ²¡æœ‰é”™è¯¯çš„ï¼Œä½†æ˜¯æˆ‘çš„é¡¹ç›®ç‰¹æ®Šç‚¹å°±åœ¨äºæ˜¯ä¸€ä¸ª <strong>Monorepo</strong> é¡¹ç›®ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“ä½ åœ¨ä¸€ä¸ª Monorepo é‡Œä½¿ç”¨ TypeScript + ESLintï¼ˆFlat Configï¼Œ<code>eslint.config.js</code>ï¼‰æ—¶ï¼Œå¸¸ä¼šé‡åˆ°ä¸‹é¢è¿™ä¸ªè§£æé”™è¯¯ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">Parsing error: No tsconfigRootDir was <span class="hljs-built_in">set</span>, and multiple candidate TSConfigRootDirs are present:
  - /Users/.../packages/SearchChat 
  - /Users/.../packages/SearchChatUI
You<span class="hljs-string">'ll need to explicitly set tsconfigRootDir in your parser options.
See: https://typescript-eslint.io/packages/parser/#tsconfigrootdireslint
</span></code></pre>
<hr/>
<h2 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h2>
<ul>
<li>Monorepo é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">/Users/.../ui-common
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ react-jsx/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ChatMessage/
â”‚   â”œâ”€â”€ CustomIcons/
â”‚   â”œâ”€â”€ DatePicker/
â”‚   â”œâ”€â”€ DropdownList/
â”‚   â”œâ”€â”€ EntityUI/
â”‚   â””â”€â”€ SearchChatUI/
â””â”€â”€ pnpm-workspace.yaml
</code></pre>
<ul>
<li>æ¯ä¸ªåŒ…ï¼ˆä¾‹å¦‚ <code>packages/SearchChatUI</code>ï¼‰é€šå¸¸éƒ½æœ‰è‡ªå·±çš„ <code>tsconfig.json</code>ï¼ˆå« <code>references</code> åˆ° <code>tsconfig.app.json</code> / <code>tsconfig.node.json</code>ï¼‰ã€<code>eslint.config.js</code>ã€<code>package.json</code>ã€‚</li>
<li>ESLint åœ¨å¯ç”¨ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼ˆæˆ–éœ€è¦ç±»å‹ä¿¡æ¯çš„é…ç½®ï¼‰æ—¶ï¼Œä¼šé€šè¿‡ <code>@typescript-eslint/parser</code> åŠ è½½ TypeScript Programï¼Œè¿™éœ€è¦æ˜ç¡®å‘Šè¯‰å®ƒï¼šä»¥å“ªä¸ªç›®å½•ä¸ºæ ¹å»è§£æ <code>project</code>ï¼ˆ<code>tsconfig*.json</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">é”™è¯¯ç°è±¡</h2>
<ul>
<li>åœ¨ Monorepo æ ¹æˆ–ä»»ä¸€åŒ…é‡Œè¿è¡Œ <code>eslint</code>ï¼ŒæŠ¥é”™æ˜¾ç¤ºå‘ç°å¤šä¸ªå€™é€‰ <code>TSConfigRootDir</code>ã€‚</li>
<li>è¿™æ˜¯å› ä¸ºè§£æå™¨è¯•å›¾è‡ªåŠ¨æ¢æµ‹ tsconfig æ ¹ç›®å½•ï¼Œä½†åŒæ—¶çœ‹åˆ°äº†å¤šä¸ªåŒ…çš„ tsconfigï¼Œäºæ˜¯æ‹’ç»ç»§ç»­ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">åŸå› åˆ†æ</h2>
<ul>
<li>TypeScript-ESLint çš„è§£æå™¨éœ€è¦ä¸€ä¸ªâ€œæ ¹ç›®å½•â€ï¼ˆ<code>tsconfigRootDir</code>ï¼‰æ¥è§£é‡Šä½ æä¾›çš„ <code>parserOptions.project</code>ï¼ˆå³å“ªäº› <code>tsconfig*.json</code> å‚ä¸æ„å»ºç±»å‹ä¿¡æ¯ï¼‰ã€‚</li>
<li>åœ¨ Monorepo ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®ä¸ºæ¯ä¸ªåŒ…è®¾å®šç‹¬ç«‹çš„ <code>tsconfigRootDir</code> ä¸å¯¹åº”çš„ <code>project</code>ï¼Œè§£æå™¨ä¼šåœ¨å·¥ä½œåŒºå†…â€œçœ‹è§â€å¤šä¸ªåŒ…çš„ tsconfigï¼Œä»è€Œæ— æ³•ç¡®å®šåˆ°åº•åº”è¯¥ç”¨å“ªä¸ªæ ¹ï¼Œæœ€ç»ˆæŠ¥é”™ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">å¿«é€Ÿä¿®å¤ï¼ˆé’ˆå¯¹å•ä¸ªåŒ…ï¼‰</h2>
<p>ä»¥ <code>packages/SearchChatUI</code> ä¸ºä¾‹ï¼Œç»™å®ƒçš„ <code>eslint.config.js</code> å¢åŠ æ˜ç¡®çš„ <code>parserOptions.tsconfigRootDir</code> å’Œ <code>parserOptions.project</code> å³å¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// packages/SearchChatUI/eslint.config.js</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">'@eslint/js'</span>
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">'globals'</span>
<span class="hljs-keyword">import</span> reactHooks <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-react-hooks'</span>
<span class="hljs-keyword">import</span> reactRefresh <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-react-refresh'</span>
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript-eslint'</span>
<span class="hljs-keyword">import</span> { defineConfig, globalIgnores } <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint/config'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  <span class="hljs-title function_">globalIgnores</span>([<span class="hljs-string">'dist'</span>]),
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [
      js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      reactHooks.<span class="hljs-property">configs</span>.<span class="hljs-property">flat</span>.<span class="hljs-property">recommended</span>,
      reactRefresh.<span class="hljs-property">configs</span>.<span class="hljs-property">vite</span>,
    ],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-comment">// å…³é”®è®¾ç½®ï¼šæŒ‡å‘å½“å‰åŒ…ç›®å½•ï¼Œé¿å… Monorepo ä¸‹çš„å¤š tsconfig æ··æ·†</span>
        <span class="hljs-attr">tsconfigRootDir</span>: __dirname,
        <span class="hljs-comment">// æŒ‡å®šå½“å‰åŒ…ä½¿ç”¨çš„ tsconfig åˆ—è¡¨ï¼ˆè·¯å¾„ç›¸å¯¹äº tsconfigRootDirï¼‰</span>
        <span class="hljs-attr">project</span>: [
          <span class="hljs-string">'./tsconfig.json'</span>,
          <span class="hljs-string">'./tsconfig.app.json'</span>,
          <span class="hljs-string">'./tsconfig.node.json'</span>,
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
])
</code></pre>
<p><strong>éªŒè¯ï¼š</strong></p>
<ul>
<li>è¿›å…¥åŒ…ç›®å½•è¿è¡Œ <code>npm run lint</code>ï¼ˆä¿è¯å‘½ä»¤åœ¨åŒ…å†…æ‰§è¡Œï¼‰</li>
<li>é¢„æœŸä¸å†å‡ºç° Parsing error</li>
</ul>
<hr/>
<h2 data-id="heading-5">åœ¨ Monorepo æ ¹ç»Ÿä¸€é…ç½®çš„åšæ³•ï¼ˆæ¨èï¼‰</h2>
<p>å¦‚æœä½ å€¾å‘äºåœ¨æ ¹ç›®å½•æ”¾ä¸€ä¸ªç»Ÿä¸€çš„ <code>eslint.config.js</code>ï¼Œå¯ä»¥ä½¿ç”¨ <strong>â€œæŒ‰åŒ… overrideâ€</strong> çš„æ–¹å¼ï¼Œè®©æ¯ä¸ªåŒ…éƒ½æ˜ç¡®è‡ªå·±çš„ <code>tsconfigRootDir</code> å’Œ <code>project</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼ŒæŒ‰éœ€è°ƒæ•´åŒ…è·¯å¾„ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// eslint.config.js at workspace root</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint/config'</span>
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">'globals'</span>
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript-eslint'</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">'@eslint/js'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">const</span> rootDir = path.<span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))
<span class="hljs-keyword">const</span> <span class="hljs-title function_">pkg</span> = (<span class="hljs-params">dir</span>) =&gt; path.<span class="hljs-title function_">join</span>(rootDir, <span class="hljs-string">'packages'</span>, dir)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'packages/SearchChatUI/**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>, tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>),
        <span class="hljs-attr">project</span>: [
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.app.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.node.json'</span>),
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'packages/SearchChat/**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>, tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>),
        <span class="hljs-attr">project</span>: [
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.app.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.node.json'</span>),
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
  <span class="hljs-comment">// ä¸ºå…¶ä»–åŒ…ç»§ç»­æ·»åŠ  overrides...</span>
])
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li>æ¯ä¸ªåŒ…çš„ override éƒ½æ‹¥æœ‰è‡ªå·±çš„ <code>tsconfigRootDir</code>ã€‚</li>
<li><code>project</code> æ•°ç»„ä¸­çš„è·¯å¾„è¦åŸºäºè¯¥åŒ…ç›®å½•ã€‚</li>
<li>ä¿æŒæŒ‰åŒ…è¿è¡Œ <code>eslint .</code>ï¼ˆæˆ–é€šè¿‡ workspace è„šæœ¬å®šä½åˆ°åŒ…ï¼‰èƒ½å‡å°‘è·¯å¾„è§£ææ··ä¹±ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">å¸¸è§å‘ä½ä¸æç¤º</h2>
<ul>
<li><code>project</code> è·¯å¾„å¿…é¡»ç›¸å¯¹äº <code>tsconfigRootDir</code>ï¼Œä¸è¦å†™ç›¸å¯¹äºå·¥ä½œåŒºæ ¹çš„è·¯å¾„ã€‚</li>
<li>è‹¥ä½ ä½¿ç”¨çš„æ˜¯ TypeScript-ESLint çš„â€œç±»å‹æ„ŸçŸ¥â€é…ç½®ï¼ˆä¾‹å¦‚ <code>tseslint.configs.recommendedTypeChecked</code> æˆ–å¯ç”¨äº†éœ€è¦ç±»å‹ä¿¡æ¯çš„è§„åˆ™ï¼‰ï¼Œä¸€å®šè¦æä¾› <code>tsconfigRootDir</code> ä¸ <code>project</code>ã€‚</li>
<li>å¦‚æœä½ ä¸éœ€è¦ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼ˆä¸ºäº†æ›´å¿«çš„æ€§èƒ½ï¼‰ï¼Œå¯ä»¥åªç”¨é type-checked çš„æ¨èé›†ï¼Œçœç•¥ <code>project</code>ï¼ˆä½†è¦æƒè¡¡è§„åˆ™èƒ½åŠ›ï¼‰ï¼š
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">extends</span>: [tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>] <span class="hljs-comment">// éç±»å‹æ„ŸçŸ¥</span>
<span class="hljs-comment">// ä¸è®¾ç½® parserOptions.project</span>
</code></pre>
</li>
<li>åœ¨åŒ…å†…è¿è¡Œ <code>npm run lint</code>ï¼ˆ<code>eslint .</code>ï¼‰æ¯”åœ¨æ ¹éšæ„è¿è¡Œæ›´å¯æ§ã€‚</li>
<li>ESM ç¯å¢ƒä¸‹ï¼Œè¦ç”¨ <code>fileURLToPath(import.meta.url)</code> è·å–å½“å‰æ–‡ä»¶è·¯å¾„æ¥è®¡ç®— <code>__dirname</code>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">éªŒè¯æ­¥éª¤</h2>
<ol>
<li>åœ¨ç›®æ ‡åŒ…ç›®å½•æ‰§è¡Œï¼š
<ul>
<li><code>npm run lint</code></li>
</ul>
</li>
<li>ç¡®è®¤ä¸å†å‡ºç° â€œNo tsconfigRootDir was set â€¦ multiple candidate TSConfigRootDirs â€¦â€ çš„é”™è¯¯ã€‚</li>
<li>å¦‚æœè¿˜æœ‰åŒ…æŠ¥åŒæ ·é”™è¯¯ï¼Œé€ä¸ªä¸ºå®ƒä»¬çš„é…ç½®æ·»åŠ  <code>tsconfigRootDir</code> å’Œ <code>project</code>ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">æ€§èƒ½ä¸ç±»å‹æ„ŸçŸ¥</h2>
<ul>
<li>ç±»å‹æ„ŸçŸ¥è§„åˆ™éœ€è¦æ„å»º TypeScript Programï¼Œè§£æå™¨ä¼šåŠ è½½å¹¶åˆ†æ <code>project</code> æŒ‡å®šçš„ tsconfigï¼›åœ¨å¤§ Monorepo ä¸­è¿™å¯èƒ½è¾ƒæ…¢ã€‚</li>
<li>æ¨èåšæ³•ï¼š
<ul>
<li>åªæœ‰åœ¨ç¡®å®éœ€è¦ç±»å‹è§„åˆ™çš„åŒ…ä¸Šå¼€å¯ <code>project</code>ã€‚</li>
<li>ä½¿ç”¨æŒ‰åŒ… override æ§åˆ¶èŒƒå›´ã€‚</li>
<li>ç»“åˆ CI åˆ†å±‚æ‰§è¡Œï¼ˆå…ˆéç±»å‹æ„ŸçŸ¥å¿«é€Ÿæ£€æŸ¥ï¼Œå†åœ¨å…³é”®åŒ…è·‘ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-9">å°ç»“</h2>
<p>è¿™ä¸ªæŠ¥é”™æœ¬è´¨æ˜¯ Monorepo ç¯å¢ƒä¸‹ â€œç±»å‹è§„åˆ™éœ€è¦æ˜ç¡®ä¸Šä¸‹æ–‡â€ çš„æé†’ã€‚åªè¦ä¸ºæ¯ä¸ªåŒ…è®¾å®šæ¸…æ™°çš„ <code>tsconfigRootDir</code> ä¸ <code>project</code>ï¼ŒESLint å°±èƒ½å‡†ç¡®åœ°è·å–ç±»å‹ä¿¡æ¯å¹¶ç¨³å®šå·¥ä½œã€‚æŒ‰åŒ…åˆ’åˆ† override æ˜¯æ ¹çº§ç»Ÿä¸€é…ç½®çš„å¥½æ–¹å¼ï¼›è€Œåœ¨åŒ…å†…ç‹¬ç«‹é…ç½®åˆ™æ›´ä¸ºç›´è§‰ã€‚</p>
<hr/>
<h2 data-id="heading-10">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>TypeScript-ESLint Parser æ–‡æ¡£ï¼ˆ<code>tsconfigRootDir</code>ï¼‰ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Fpackages%2Fparser%2F%23tsconfigrootdireslint" target="_blank" title="https://typescript-eslint.io/packages/parser/#tsconfigrootdireslint" ref="nofollow noopener noreferrer">typescript-eslint.io/packages/paâ€¦</a></li>
<li>TypeScript-ESLint é…ç½®æŒ‡å—ï¼ˆFlat Configï¼‰<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Fgetting-started%2Ftyped-linting%23flat-config" target="_blank" title="https://typescript-eslint.io/getting-started/typed-linting#flat-config" ref="nofollow noopener noreferrer">typescript-eslint.io/getting-staâ€¦</a></li>
<li>ESLint Flat Config å®˜æ–¹æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Feslint.org%2Fdocs%2Flatest%2Fuse%2Fconfigure%2Fconfiguration-files-new" target="_blank" title="https://eslint.org/docs/latest/use/configure/configuration-files-new" ref="nofollow noopener noreferrer">eslint.org/docs/latestâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OODERå›¾ç”Ÿä»£ç æ¡†æ¶ï¼šJavaæ³¨è§£é©±åŠ¨çš„å…¨æ ˆå®ç°ä¸è½åœ°æŒ‘æˆ˜]]></title>    <link>https://juejin.cn/post/7582393212768124982</link>    <guid>https://juejin.cn/post/7582393212768124982</guid>    <pubDate>2025-12-11T12:24:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582393212768124982" data-draft-id="7582438809377636394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OODERå›¾ç”Ÿä»£ç æ¡†æ¶ï¼šJavaæ³¨è§£é©±åŠ¨çš„å…¨æ ˆå®ç°ä¸è½åœ°æŒ‘æˆ˜"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T12:24:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OODERå›¾ç”Ÿä»£ç æ¡†æ¶ï¼šJavaæ³¨è§£é©±åŠ¨çš„å…¨æ ˆå®ç°ä¸è½åœ°æŒ‘æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:24:04.000Z" title="Thu Dec 11 2025 12:24:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»38åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šå›¾ç”Ÿä»£ç æŠ€æœ¯çš„å‘å±•èƒŒæ™¯ä¸ OODER æ¡†æ¶æ¦‚è¿°</h2>
<p>â€‹</p>
<p>åœ¨ç°ä»£ Web å¼€å‘é¢†åŸŸï¼Œ"è®¾è®¡ç¨¿å¿«é€Ÿè½åœ°" ä¸ "å…¨æ ˆæ¶æ„å¯ç»´æŠ¤æ€§" ä¸€ç›´æ˜¯å›°æ‰°å¼€å‘å›¢é˜Ÿçš„ä¸¤å¤§æ ¸å¿ƒéš¾é¢˜ã€‚ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œè®¾è®¡ç¨¿åˆ°ä»£ç çš„è½¬æ¢å¾€å¾€éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆæ‰‹åŠ¨ç¼–å†™å¤§é‡ HTMLã€CSS å’Œ JavaScript ä»£ç ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å‡ºç°è§†è§‰åå·®ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä¼ ç»Ÿ "å›¾ç”Ÿä»£ç " å·¥å…·è¾“å‡ºçš„çº¯å‰ç«¯ä»£ç ä¸åç«¯æ¶æ„è„±èŠ‚ï¼Œæ— æ³•å®ç°çœŸæ­£çš„å…¨æ ˆä¸€ä½“åŒ–å¼€å‘ã€‚</p>
<p>éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œç‰¹åˆ«æ˜¯å¤§è¯­è¨€æ¨¡å‹åœ¨ä»£ç ç”Ÿæˆé¢†åŸŸçš„çªç ´ï¼Œå›¾ç”Ÿä»£ç æŠ€æœ¯è¿æ¥äº†æ–°çš„å‘å±•æœºé‡ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å›¾ç”Ÿä»£ç å·¥å…·æ™®éå­˜åœ¨ä¸‰å¤§ç—›ç‚¹ï¼šä¸€æ˜¯ç”Ÿæˆçš„ä»£ç ä¸å…¨æ ˆæ¶æ„è„±èŠ‚ï¼Œæ— æ³•å¤ç”¨åç«¯æ¥å£ã€çŠ¶æ€ç®¡ç†ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼›äºŒæ˜¯ä»£ç è€¦åˆåº¦é«˜ï¼Œä¸æ”¯æŒç»„ä»¶åŒ–å¤ç”¨ï¼›ä¸‰æ˜¯æ— æ³•é€šè¿‡å¯è§†åŒ–è®¾è®¡å™¨è¿›è¡Œåç»­çš„ç¼–è¾‘ä¸ç®¡ç†ã€‚</p>
<p><strong>OODER å…¨æ ˆæ¡†æ¶</strong>åº”è¿è€Œç”Ÿï¼Œå®ƒå¹¶éå•çº¯çš„å‰ç«¯æ¡†æ¶ï¼Œè€Œæ˜¯æ¶µç›– "å‰ç«¯ç»„ä»¶ - åç«¯æ¥å£ - æ•°æ®åº“äº¤äº’ - éƒ¨ç½²å·¥å…·" çš„å…¨æ ˆè§£å†³æ–¹æ¡ˆã€‚å…¶æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ "æ³¨è§£å¼å¼€å‘"ï¼Œé€šè¿‡ Java æ³¨è§£æœºåˆ¶å®ç°å‰ç«¯ç»„ä»¶ä¸åç«¯æœåŠ¡çš„æ— ç¼è¡”æ¥ï¼Œç‰¹åˆ«é€‚åˆ AI è¾…åŠ©å¼€å‘åœºæ™¯ã€‚OODER çš„å®˜æ–¹å®šä¹‰æ˜¯ "ä¸ºä½ä»£ç å¹³å°ä¸ AI è¾…åŠ©å¼€å‘è€Œç”Ÿçš„è½»é‡çº§å‰ç«¯æ¡†æ¶"ï¼Œå…¶æ¶æ„è®¾è®¡å®Œå…¨å›´ç»• "AI ç†è§£" ä¸ "å¯è§†åŒ–" å±•å¼€ï¼Œæ ¸å¿ƒæ˜¯ "ä¸‰å±‚æ¶æ„" ä¸ "å››ç»Ÿä¸€" è§„èŒƒã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥å‰–æ OODER æ¡†æ¶çš„æŠ€æœ¯å®ç°åŸç†ï¼Œé‡ç‚¹è§£æå…¶ Java æ³¨è§£é©±åŠ¨æœºåˆ¶ï¼Œå¹¶é€šè¿‡ HeroSvgPaper å’Œ FeaturesContent ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶çš„å®æˆ˜æ¡ˆä¾‹ï¼Œå…¨é¢å±•ç¤ºä»è®¾è®¡ç¨¿åˆ°å…¨æ ˆåº”ç”¨çš„å®Œæ•´æŠ€æœ¯é“¾è·¯ã€‚åŒæ—¶ï¼Œæœ¬æ–‡å°†å®¢è§‚åˆ†ææ¡†æ¶è½åœ°è¿‡ç¨‹ä¸­é¢ä¸´çš„æŠ€æœ¯æŒ‘æˆ˜ï¼Œå¹¶æå‡ºç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ºä¼ä¸šçº§åº”ç”¨çš„å®æ–½æä¾›å‚è€ƒã€‚</p>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad00af17165445dba04a3bf63c0f0214~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=AsCIwBzxG1iaFK%2F79BxQp5sg9Wg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-1">äºŒã€OODER æ¡†æ¶æ ¸å¿ƒæŠ€æœ¯æ¶æ„è§£æ</h2>
<h3 data-id="heading-2">2.1 ä¸‰å±‚æ¶æ„è®¾è®¡ï¼šAI ä¸å¯è§†åŒ–å·¥å…·çš„ååŒæœºåˆ¶</h3>
<p>OODER æ¡†æ¶é‡‡ç”¨ç‹¬ç‰¹çš„<strong>ä¸‰å±‚æ¶æ„è®¾è®¡</strong>ï¼Œæ¯å±‚èŒè´£æ¸…æ™°ï¼ŒAI å’Œå·¥å…·åªéœ€å¯¹æ¥å¯¹åº”å±‚çº§ï¼Œæ— éœ€ç†è§£å…¨æ ˆé€»è¾‘ã€‚è¿™ç§åˆ†å±‚è®¾è®¡çš„æ ¸å¿ƒä»·å€¼åœ¨äºå°†å¤æ‚çš„å…¨æ ˆå¼€å‘ä»»åŠ¡åˆ†è§£ä¸ºä¸‰ä¸ªç‹¬ç«‹è€ŒåˆååŒçš„å±‚æ¬¡ï¼š</p>
<p>** å¯è§†åŒ–ç•Œé¢å±‚ï¼ˆç»™ç”¨æˆ·ç”¨ï¼‰** åŒ…å«ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ï¼šåŠ¨ä½œé…ç½®é¢æ¿é‡‡ç”¨ä¸‰æ­¥å¼è®¾è®¡ï¼ˆé€‰ç›®æ ‡â†’é€‰åŠ¨ä½œâ†’é…å‚æ•°ï¼‰ï¼Œç”¨æˆ·æ— éœ€ç¼–å†™ä»£ç å³å¯å®Œæˆå¤æ‚é…ç½®ï¼›ç»„ä»¶æ ‘è§†å›¾ç›´è§‚å±•ç¤ºç»„ä»¶ç»“æ„ï¼Œæ”¯æŒæ‹–æ‹½å¼æ“ä½œï¼›é¢„è§ˆçª—å£æä¾›æ‰€è§å³æ‰€å¾—çš„æ•ˆæœåé¦ˆï¼Œå®æ—¶æ˜¾ç¤ºé…ç½®ç»“æœã€‚</p>
<p>** é€»è¾‘å¤„ç†å±‚ï¼ˆç»™ AI ç”¨ï¼‰** æ˜¯æ¡†æ¶çš„æ™ºèƒ½æ ¸å¿ƒï¼Œä¸»è¦åŒ…æ‹¬ï¼šåŠ¨ä½œè§£æå¼•æ“å°†å¯è§†åŒ–é…ç½®è½¬æ¢ä¸ºå¯æ‰§è¡Œé€»è¾‘ï¼Œæ”¯æŒå¤æ‚çš„ä¸šåŠ¡è§„åˆ™ï¼›æ¡ä»¶è¯„ä¼°å™¨å¤„ç† if-and-or çš„å¤åˆæ¡ä»¶åˆ¤æ–­ï¼›æ‰§è¡Œè°ƒåº¦å™¨ç®¡ç†åŠ¨ä½œçš„æ‰§è¡Œé¡ºåºä¸å¼‚æ­¥é€»è¾‘ï¼Œç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p>
<p>** æ•°æ®å­˜å‚¨å±‚ï¼ˆç»™å·¥å…·ç”¨ï¼‰** é‡‡ç”¨ JSON æ ¼å¼å­˜å‚¨æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šåŠ¨ä½œå®šä¹‰å­˜å‚¨ä»¥ JSON æ ¼å¼ä¿å­˜åŠ¨ä½œé…ç½®ï¼Œä¾¿äº AI è§£æï¼›ç»„ä»¶å…ƒæ•°æ®åŒ…å«ç»„ä»¶çš„å±æ€§ã€æ–¹æ³•ã€äº‹ä»¶æè¿°ï¼Œä¸ºå¯è§†åŒ–å·¥å…·æä¾›å®Œæ•´çš„ç»„ä»¶ä¿¡æ¯ï¼›æ‰§è¡Œæ—¥å¿—è®°å½•ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ï¼Œä¾¿äºè°ƒè¯•ä¸å›æ»šã€‚</p>
<p>è¿™ç§åˆ†å±‚è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼ŒAI åªéœ€èšç„¦ "é€»è¾‘å¤„ç†å±‚" å¤„ç†åŠ¨ä½œé…ç½®ï¼Œå¯è§†åŒ–å·¥å…·åªéœ€å…³æ³¨ "ç•Œé¢å±‚" æ¸²æŸ“ç»„ä»¶æ ‘ï¼ŒäºŒè€…é€šè¿‡ "æ•°æ®å­˜å‚¨å±‚" çš„ JSON æ ¼å¼è¿›è¡Œäº¤äº’ï¼Œæ— éœ€åƒä¼ ç»Ÿæ¡†æ¶é‚£æ ·ï¼ŒAI æ—¢è¦ç†è§£ JSX è¯­æ³•ï¼Œåˆè¦ç†è§£ Hooks è§„åˆ™ï¼Œè¿˜è¦ç†è§£è™šæ‹Ÿ DOM æœºåˆ¶ã€‚</p>
<h3 data-id="heading-3">2.2 "å››ç»Ÿä¸€" è§„èŒƒï¼šæ³¨è§£é©±åŠ¨çš„æ ¸å¿ƒæœºåˆ¶</h3>
<p>OODER æ¡†æ¶çš„å¦ä¸€ä¸ªæ ¸å¿ƒåˆ›æ–°æ˜¯ **"å››ç»Ÿä¸€" è§„èŒƒ **ï¼Œå³æ ·å¼ã€æ¨¡æ¿ã€è¡Œä¸ºã€æ•°æ®çš„å®Œå…¨åˆ†ç¦»ï¼Œè¿™æ˜¯ä¸“é—¨ä¸º AI è®¾è®¡çš„ "ç†è§£è§„çŸ©"ã€‚ä¼ ç»Ÿæ¡†æ¶ä¸­ï¼Œæ ·å¼ï¼ˆCSSï¼‰ã€æ¨¡æ¿ï¼ˆJSXï¼‰ã€è¡Œä¸ºï¼ˆäº‹ä»¶ï¼‰ã€æ•°æ®ï¼ˆstateï¼‰å¸¸æ··åœ¨ä¸€èµ·ï¼ŒAI éœ€è¦ "çŒœ" å®ƒä»¬çš„å…³è”ï¼›è€Œ OODER å¼ºåˆ¶åˆ†ç¦»ï¼Œä¸º AI æä¾›äº†æ˜ç¡®çš„è§£æè§„åˆ™ï¼š</p>
<p><strong>æ¨¡æ¿ç»Ÿä¸€ï¼ˆTemplatesï¼‰</strong>ï¼šç»„ä»¶çš„ HTML ç»“æ„ç”¨ JSON å®šä¹‰ï¼ŒAI å¯ç›´æ¥è§£æèŠ‚ç‚¹å…³ç³»ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"div"</span>,
  <span class="hljs-string">"props"</span>: {
    <span class="hljs-string">"id"</span>: <span class="hljs-string">"hero"</span>,
    <span class="hljs-string">"class"</span>: <span class="hljs-string">"hero-section"</span>
  },
  <span class="hljs-string">"children"</span>: [
    { <span class="hljs-string">"type"</span>: <span class="hljs-string">"h1"</span>, <span class="hljs-string">"props"</span>: { <span class="hljs-string">"text"</span>: <span class="hljs-string">"OODERå…¨æ ˆæ¡†æ¶"</span> } },
    { <span class="hljs-string">"type"</span>: <span class="hljs-string">"button"</span>, <span class="hljs-string">"props"</span>: { <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç«‹å³ä½“éªŒ"</span> } }
  ]
}
</code></pre>
<p><strong>æ ·å¼ç»Ÿä¸€ï¼ˆStylesï¼‰</strong>ï¼šç»„ä»¶çš„ CSS æ ·å¼ç”¨å¯¹è±¡å®šä¹‰ï¼Œæ”¯æŒ CSS å˜é‡ï¼ŒAI å¯æ‰¹é‡ä¿®æ”¹ã€‚æ ·å¼ä¿¡æ¯é€šè¿‡@Styleæ³¨è§£é…ç½®ï¼Œæ”¯æŒç»„ä»¶çº§å’Œå…¨å±€çº§çš„æ ·å¼ç®¡ç†ã€‚</p>
<p><strong>è¡Œä¸ºç»Ÿä¸€ï¼ˆActionsï¼‰</strong>ï¼šç»„ä»¶çš„æ–¹æ³•ä¸äº‹ä»¶é›†ä¸­åœ¨ Ince å¯¹è±¡ä¸­ï¼ŒAI å¯æŒ‰ "æ–¹æ³•å" è°ƒç”¨ã€‚é€šè¿‡@EventBindæ³¨è§£ç»‘å®šäº‹ä»¶ï¼Œå®ç° "ç»„ä»¶åŠ è½½æ—¶è‡ªåŠ¨è¯·æ±‚æ•°æ®å¹¶æ¸²æŸ“" ç­‰å¤æ‚äº¤äº’é€»è¾‘ã€‚</p>
<p><strong>æ•°æ®ç»Ÿä¸€ï¼ˆDataModelï¼‰</strong>ï¼šç»„ä»¶çš„æ•°æ®æºå®šä¹‰åˆå§‹å€¼ä¸å˜æ›´é€»è¾‘ï¼ŒAI å¯è‡ªåŠ¨ç»‘å®šã€‚é€šè¿‡@DataMappingæ³¨è§£å®ç°æ•°æ®çš„è‡ªåŠ¨æ˜ å°„ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™æ•°æ®å¤„ç†ä»£ç ã€‚</p>
<p>è¿™ç§åˆ†ç¦»å¼è§„èŒƒç›¸å½“äºç»™ AI æä¾›äº† "è¯´æ˜ä¹¦"ï¼Œå®ƒä¸ç”¨å†åˆ†æä»£ç ä¸­çš„éšå¼å…³è”ï¼Œåªéœ€æŒ‰è§„èŒƒè§£æå„éƒ¨åˆ†å³å¯ï¼Œç†è§£æˆæœ¬å¤§å¹…é™ä½ã€‚AI çš„è§£ææ­£ç¡®ç‡ä»ä¼ ç»Ÿæ¡†æ¶çš„ 85% æå‡åˆ° 98%ï¼Œæ— éœ€é¢å¤–è°ƒè¯•ã€‚</p>
<h3 data-id="heading-4">2.3 æŠ€æœ¯æ ˆæ¶æ„ï¼šä»å‰ç«¯åˆ°åç«¯çš„å®Œæ•´æŠ€æœ¯é“¾è·¯</h3>
<p>OODER æ¡†æ¶çš„æŠ€æœ¯æ ˆæ¶æ„å±•ç°äº†å…¶å…¨æ ˆä¸€ä½“åŒ–çš„è®¾è®¡ç†å¿µã€‚åœ¨å‰ç«¯å±‚é¢ï¼Œæ¡†æ¶é‡‡ç”¨è‡ªç ”çš„<strong>è™šæ‹Ÿ DOM å¼•æ“</strong>ï¼Œæ”¯æŒæ ·å¼ä¸ç»“æ„çš„æ·±åº¦è§£è€¦ï¼Œé€šè¿‡@Styleæ³¨è§£å®ç°ç»„ä»¶æ ·å¼é…ç½®ï¼Œç»“åˆ@Themeæ³¨è§£å®Œæˆå…¨å±€ä¸»é¢˜æ§åˆ¶ã€‚</p>
<p>åœ¨åç«¯é›†æˆæ–¹é¢ï¼ŒOODER æä¾›äº†å¼ºå¤§çš„<strong>æ³¨è§£å¼å…¨æ ˆè¡”æ¥èƒ½åŠ›</strong>ã€‚å‰ç«¯ç»„ä»¶é€šè¿‡@ApiBindã€@DataMappingç­‰æ³¨è§£ç›´æ¥ç»‘å®šåç«¯æ¥å£ï¼Œæ— éœ€é¢å¤–ç¼–å†™é€‚é…ä»£ç ï¼Œå®ç° "ç»„ä»¶æ¸²æŸ“ - æ•°æ®è¯·æ±‚ - çŠ¶æ€æ›´æ–°" é—­ç¯ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç®€å•çš„@ApiBind(url = "/api/onecode/demo", method = "GET")å³å¯å®Œæˆæ¥å£å…³è”ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å¤„ç†æ•°æ®è¯·æ±‚ã€å“åº”è§£æå’Œç»„ä»¶æ›´æ–°çš„å®Œæ•´æµç¨‹ã€‚</p>
<p>åœ¨å·¥å…·é“¾æ”¯æŒæ–¹é¢ï¼ŒOODER é›†æˆäº†<strong>è®¾è®¡ç¨¿è§£æå·¥å…·</strong>ï¼Œå¯å°† PSã€Figma è®¾è®¡ç¨¿è½¬æ¢ä¸ºç»„ä»¶å±æ€§é…ç½®åŠå¯¹åº”çš„@Styleæ³¨è§£å‚æ•°ã€‚åŒæ—¶æä¾›ooder api-genå‘½ä»¤ï¼Œæ ¹æ®å‰ç«¯ç»„ä»¶çš„@ApiBindæ³¨è§£é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆå«@Apiã€@RequestParamç­‰åç«¯æ³¨è§£çš„æ¥å£æ¨¡æ¿ï¼Œæ”¯æŒ Node.js å’Œ Java ä¸¤ç§è¯­è¨€ã€‚</p>
<h3 data-id="heading-5">2.4 ä¸ä¼ ç»Ÿå¼€å‘æ¨¡å¼çš„æ ¸å¿ƒå·®å¼‚</h3>
<p>OODER æ¡†æ¶ä¸ä¼ ç»Ÿå¼€å‘æ¨¡å¼å­˜åœ¨æ ¹æœ¬æ€§çš„å·®å¼‚ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<p><strong>å¼€å‘èŒƒå¼çš„è½¬å˜</strong>ï¼šä¼ ç»Ÿå¼€å‘æ¨¡å¼é‡‡ç”¨ "ç¼–ç ä¸ºæ ¸å¿ƒ" çš„æ–¹å¼ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨ç¼–å†™å¤§é‡ä»£ç ï¼›è€Œ OODER é‡‡ç”¨ "é…ç½®ä¸ºæ ¸å¿ƒ" çš„æ–¹å¼ï¼Œé€šè¿‡æ³¨è§£å’Œå¯è§†åŒ–é…ç½®å®Œæˆå¼€å‘å·¥ä½œã€‚è¿™ç§è½¬å˜ä½¿å¾—éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½å‚ä¸åˆ°åº”ç”¨å¼€å‘è¿‡ç¨‹ä¸­ã€‚</p>
<p><strong>AI é€‚é…æ€§çš„æå‡</strong>ï¼šä¼ ç»Ÿæ¡†æ¶å¯¹ AI çš„ "ä¸å‹å¥½" æœ¬è´¨æ˜¯ "è§„åˆ™å¤ªå¤šä¸”ä¸æ˜ç¡®"ï¼›OOD çš„ "å‹å¥½" æ˜¯å› ä¸ºå®ƒç»™ AI å®šäº† "ç®€å•æ¸…æ™°çš„è§„åˆ™"ã€‚ä¾‹å¦‚ï¼ŒOOD ä¸­çš„äº‹ä»¶ç»‘å®šï¼ŒAI åªéœ€è§£æ JSON é…ç½®ï¼Œäº‹ä»¶ç›®æ ‡ã€åŠ¨ä½œã€å‚æ•°éƒ½æ˜ç¡®ï¼Œæ— éœ€ç†è§£å¤æ‚è¯­æ³•ã€‚</p>
<p><strong>æ¶æ„å¤æ‚åº¦çš„é™ä½</strong>ï¼šä¼ ç»Ÿæ¡†æ¶ï¼ˆReact/Vueï¼‰æ˜¯ "å…¨æ ˆæ¡†æ¶"ï¼Œéœ€è¦å¤„ç†è™šæ‹Ÿ DOMã€è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰æ‰€æœ‰å‰ç«¯é—®é¢˜ï¼Œä½“ç§¯å¤§ï¼ˆReact æ ¸å¿ƒåŒ…çº¦ 42KBï¼ŒVue çº¦ 33KBï¼‰ï¼›OOD æ˜¯ "èšç„¦æ¡†æ¶"ï¼Œåªå¤„ç† "å¯è§†åŒ–ä¸ AI åä½œ" çš„æ ¸å¿ƒé—®é¢˜ï¼Œä½“ç§¯ä»… 8KBï¼ˆgzip åï¼‰ï¼ŒåŠ è½½é€Ÿåº¦æå‡ 4 å€ã€‚</p>
<p><strong>å¼€å‘æ•ˆç‡çš„æ˜¾è‘—æå‡</strong>ï¼šé€šè¿‡ OODER çš„æ³¨è§£å¼å¼€å‘å’Œå¯è§†åŒ–é…ç½®ï¼Œå¼€å‘æ•ˆç‡ç›¸æ¯”ä¼ ç»Ÿæ¨¡å¼æå‡ 60% ä»¥ä¸Šã€‚ç»„ä»¶åŒ–æ‹†åˆ†åï¼Œä»£ç å¤ç”¨ç‡ä»ä¼ ç»Ÿ HTML çš„ 20% æå‡è‡³ 80%ï¼Œä¾‹å¦‚ Button ç»„ä»¶å¯åœ¨å¤šä¸ªé¡µé¢ä¸­å¤ç”¨ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€Java æ³¨è§£é©±åŠ¨æœºåˆ¶æ·±åº¦å‰–æ</h2>
<h3 data-id="heading-7">3.1 æ³¨è§£ä½“ç³»æ¶æ„è®¾è®¡</h3>
<p>OODER æ¡†æ¶çš„ Java æ³¨è§£ä½“ç³»æ˜¯å…¶æ ¸å¿ƒç«äº‰åŠ›æ‰€åœ¨ï¼Œå®ƒæ„å»ºäº†ä»å‰ç«¯ç»„ä»¶åˆ°åç«¯æœåŠ¡çš„å®Œæ•´æ³¨è§£é“¾è·¯ã€‚æ•´ä¸ªæ³¨è§£ä½“ç³»å¯ä»¥åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒå±‚æ¬¡ï¼š</p>
<p><strong>åŸºç¡€æ¡†æ¶æ³¨è§£</strong>åŒ…æ‹¬@Controllerã€@RequestMappingç­‰ Spring MVC æ ‡å‡†æ³¨è§£ï¼Œç”¨äºå®šä¹‰ Web æ¥å£çš„è®¿é—®è·¯å¾„ã€‚åŒæ—¶åŒ…å« OODER è‡ªå®šä¹‰çš„@XPathæ³¨è§£ï¼Œç”¨äºæŒ‡å®šç»„ä»¶åœ¨è§†å›¾æ ‘ä¸­çš„å±‚çº§è·¯å¾„ï¼Œå¦‚@XPath(path="view.homepage.pagecontainer.hero.herosvgpaper.herosvgpapermain.herosvgpaper")ã€‚</p>
<p><strong>ç»„ä»¶ç±»å‹æ³¨è§£</strong>æ˜¯æ¡†æ¶çš„æ ¸å¿ƒåˆ›æ–°ï¼Œ@SVGPaperFormAnnotationæ ‡è®° SVG Paper è¡¨å•ç±»å‹ï¼Œ@GalleryAnnotationæ ‡è®°ç”»å»Šç»„ä»¶ç±»å‹ï¼Œ@Componentæ ‡è®°é€šç”¨ç»„ä»¶ã€‚è¿™äº›æ³¨è§£ä¸ä»…æ ‡è¯†ç»„ä»¶ç±»å‹ï¼Œè¿˜æ‰¿è½½äº†ç»„ä»¶çš„åŸºç¡€é…ç½®ä¿¡æ¯ã€‚</p>
<p><strong>å±æ€§é…ç½®æ³¨è§£</strong>åˆ†ä¸ºå‡ ç±»ï¼š@FieldAnnotationæŒ‡å®šç»„ä»¶ç±»å‹å’ŒæœåŠ¡ç±»ï¼Œå¦‚@FieldAnnotation(componentType=ComponentType.SVGTEXT,serviceClass=CustomFieldService.class)ï¼›@SVGAnnotationé…ç½® SVG å…ƒç´ æ ¸å¿ƒå±æ€§ï¼›@SVGAttrAnnotationè®¾ç½® SVG å…ƒç´ å±æ€§é”®å€¼å¯¹ï¼›@SVGTextAnnotationä¸“é—¨ç”¨äº SVG æ–‡æœ¬å…ƒç´ çš„å±æ€§é…ç½®ã€‚</p>
<p><strong>äº¤äº’è¡Œä¸ºæ³¨è§£</strong>åŒ…æ‹¬@ContainerAnnotationå®šä¹‰å®¹å™¨çš„åŠ¨ç”»æ•ˆæœï¼Œå¦‚showEffects="Blur"ã€activeAnim=CustomAnimType.blinkAlertï¼›@APIEventAnnotationç»‘å®šèœå•å’Œé€‰é¡¹å¡äº‹ä»¶ï¼Œæ”¯æŒè‡ªåŠ¨è¿è¡Œé…ç½®ï¼›@DataMappingæ³¨è§£ç”¨äºæ•°æ®æ˜ å°„è§„åˆ™å®šä¹‰ã€‚</p>
<h3 data-id="heading-8">3.2 æ ¸å¿ƒæ³¨è§£è¯¦è§£ä¸ä½¿ç”¨æ¨¡å¼</h3>
<h4 data-id="heading-9">3.2.1 @SVGPaperFormAnnotation - SVG è¡¨å•ç»„ä»¶æ ‡è®°</h4>
<p>@SVGPaperFormAnnotationæ˜¯ OODER æ¡†æ¶ç”¨äºæ ‡è®° SVG Paper è¡¨å•ç»„ä»¶çš„æ ¸å¿ƒæ³¨è§£ã€‚è¯¥æ³¨è§£ä¸»è¦ç”¨äºæ ‡è¯†ä¸€ä¸ªæ¥å£æˆ–ç±»ä½œä¸º SVG ç»„ä»¶çš„é…ç½®æºï¼Œæ¡†æ¶åœ¨å¯åŠ¨æ—¶ä¼šæ‰«ææ‰€æœ‰å¸¦æœ‰è¯¥æ³¨è§£çš„ç»„ä»¶ï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°ç»„ä»¶å®¹å™¨ä¸­ã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32b69fa28a034410b93b3ccfe30d0adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=CCjXXjDb%2FdVHH6Zw4cJT%2FUlLPtU%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>â€‹</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Controller</span>
@<span class="hljs-title class_">RequestMapping</span>(<span class="hljs-string">"view/homepage/pagecontainer/hero/"</span>)
@<span class="hljs-title class_">XPath</span>(path=<span class="hljs-string">"view.homepage.pagecontainer.hero.herosvgpaper.herosvgpapermain.herosvgpaper"</span>)
@<span class="hljs-title class_">SVGPaperFormAnnotation</span>
public interface <span class="hljs-title class_">HeroSvgPaper</span> {
    <span class="hljs-comment">// ç»„ä»¶æ–¹æ³•å®šä¹‰</span>
}
</code></pre>
<p>è¯¥æ³¨è§£é€šå¸¸ä¸@Controllerã€@RequestMappingå’Œ@XPathæ³¨è§£é…åˆä½¿ç”¨ï¼Œå½¢æˆå®Œæ•´çš„ç»„ä»¶å®šä½å’Œè®¿é—®è·¯å¾„ã€‚@XPathæ³¨è§£çš„è·¯å¾„ä¿¡æ¯ç›´æ¥å¯¹åº”å‰ç«¯è§†å›¾æ ‘çš„å±‚çº§ç»“æ„ï¼Œç¡®ä¿ç»„ä»¶èƒ½å¤Ÿæ­£ç¡®åŠ è½½å’Œæ¸²æŸ“ã€‚</p>
<h4 data-id="heading-10">3.2.2 @FieldAnnotation - ç»„ä»¶ç±»å‹ä¸æœåŠ¡ç»‘å®š</h4>
<p>@FieldAnnotationæ˜¯ç”¨äºæŒ‡å®šç»„ä»¶ç±»å‹å’Œå…³è”æœåŠ¡ç±»çš„å…³é”®æ³¨è§£ã€‚å…¶æ ¸å¿ƒå±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>componentTypeï¼šæŒ‡å®šç»„ä»¶çš„ç±»å‹ï¼Œå¦‚ComponentType.SVGTEXTè¡¨ç¤º SVG æ–‡æœ¬ç»„ä»¶</li>
<li>serviceClassï¼šæŒ‡å®šå¤„ç†è¯¥ç»„ä»¶çš„æœåŠ¡ç±»ï¼Œå¦‚CustomFieldService.class</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">FieldAnnotation</span>(componentType=<span class="hljs-title class_">ComponentType</span>.<span class="hljs-property">SVGTEXT</span>,serviceClass=<span class="hljs-title class_">CustomFieldService</span>.<span class="hljs-property">class</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„è®¾è®¡ç†å¿µæ˜¯å°†ç»„ä»¶çš„ç±»å‹ä¿¡æ¯ä¸å¤„ç†é€»è¾‘è§£è€¦ï¼Œé€šè¿‡æœåŠ¡ç±»æ¨¡å¼å®ç°ç»„ä»¶çš„å¯æ‰©å±•æ€§ã€‚ä¸åŒç±»å‹çš„ç»„ä»¶å¯ä»¥å¯¹åº”ä¸åŒçš„æœåŠ¡ç±»ï¼Œå®ç°å·®å¼‚åŒ–çš„å¤„ç†é€»è¾‘ã€‚</p>
<h4 data-id="heading-11">3.2.3 @SVGAnnotation - SVG æ ¸å¿ƒå±æ€§é…ç½®</h4>
<p>@SVGAnnotationç”¨äºé…ç½® SVG å…ƒç´ çš„æ ¸å¿ƒå±æ€§ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>imageClassï¼šæŒ‡å®šç»„ä»¶çš„å›¾æ ‡ç±»åï¼Œé€šå¸¸ä½¿ç”¨ Remix Icon çš„ç±»å</li>
<li>svgTagï¼šæŒ‡å®š SVG å…ƒç´ çš„æ ‡ç­¾åæˆ–ç±»å‹</li>
<li>offSetFlowï¼šæŒ‡å®š SVG å…ƒç´ çš„åç§»æµå¸ƒå±€æ–¹å¼</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">SVGAnnotation</span>(imageClass=<span class="hljs-string">"ri-th-large-line"</span>, svgTag=<span class="hljs-string">"Shapes:Circle"</span>, offSetFlow=<span class="hljs-string">"none"</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„è®¾è®¡ç›®æ ‡æ˜¯æä¾› SVG ç»„ä»¶çš„åŸºç¡€é…ç½®èƒ½åŠ›ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ³¨è§£æ¥å£æ”¯æŒå¤šç§ SVG å…ƒç´ ç±»å‹ã€‚</p>
<h4 data-id="heading-12">3.2.4 @SVGAttrAnnotation - SVG å±æ€§é”®å€¼å¯¹é…ç½®</h4>
<p>@SVGAttrAnnotationæ˜¯æœ€çµæ´»çš„ SVG å±æ€§é…ç½®æ³¨è§£ï¼Œå®ƒå…è®¸ç›´æ¥è®¾ç½® SVG å…ƒç´ çš„ä»»æ„å±æ€§é”®å€¼å¯¹ã€‚æ”¯æŒçš„å±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>åŸºæœ¬å½¢çŠ¶å±æ€§ï¼šxã€yã€rã€cxã€cyã€widthã€height</li>
<li>æ ·å¼å±æ€§ï¼šstrokeã€fillã€"stroke-width"</li>
<li>æ–‡æœ¬å±æ€§ï¼štextã€fontFamilyã€fontSize</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">SVGAttrAnnotation</span>(x=<span class="hljs-string">"50%"</span>, y=<span class="hljs-string">"40%"</span>, text=<span class="hljs-string">"ä½ä»£ç å¼€å‘å¹³å°"</span>, fill=<span class="hljs-string">"#ffffff"</span>, stroke=<span class="hljs-string">"#004A7F"</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„ä¼˜åŠ¿åœ¨äºå…¶çµæ´»æ€§ï¼Œå¯ä»¥é…ç½® SVG è§„èŒƒæ”¯æŒçš„ä»»æ„å±æ€§ï¼Œæ»¡è¶³å¤æ‚çš„è§†è§‰è®¾è®¡éœ€æ±‚ã€‚</p>
<h4 data-id="heading-13">3.2.5 @ContainerAnnotation - å®¹å™¨åŠ¨ç”»ä¸äº¤äº’é…ç½®</h4>
<p>@ContainerAnnotationä¸“é—¨ç”¨äºé…ç½®å®¹å™¨ç»„ä»¶çš„åŠ¨ç”»æ•ˆæœå’Œäº¤äº’è¡Œä¸ºï¼Œæ ¸å¿ƒå±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>showEffectsï¼šæŒ‡å®šç»„ä»¶æ˜¾ç¤ºæ—¶çš„ç‰¹æ•ˆï¼Œå¦‚Bluræ¨¡ç³Šæ•ˆæœ</li>
<li>activeAnimï¼šæŒ‡å®šç»„ä»¶çš„æ¿€æ´»åŠ¨ç”»ï¼Œå¦‚CustomAnimType.blinkAlerté—ªçƒåŠ¨ç”»</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">ContainerAnnotation</span>(showEffects=<span class="hljs-string">"Blur"</span>, activeAnim=<span class="hljs-title class_">CustomAnimType</span>.<span class="hljs-property">blinkAlert</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„è®¾è®¡ç†å¿µæ˜¯å°†åŠ¨ç”»é€»è¾‘ä¸ç»„ä»¶å®šä¹‰è§£è€¦ï¼Œé€šè¿‡å£°æ˜å¼çš„é…ç½®æ–¹å¼å®ç°å¤æ‚çš„äº¤äº’æ•ˆæœã€‚</p>
<h3 data-id="heading-14">3.3 æ³¨è§£é©±åŠ¨çš„ä»£ç ç”ŸæˆåŸç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbaf819c40f2461b87dca7843e948eda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=3DvXEe1r7ziZFQ49U5dk2KSQbEI%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>OODER æ¡†æ¶çš„æ³¨è§£é©±åŠ¨æœºåˆ¶åŸºäº Java åå°„æŠ€æœ¯ï¼Œé€šè¿‡è¿è¡Œæ—¶è§£ææ³¨è§£ä¿¡æ¯åŠ¨æ€ç”Ÿæˆå¯æ‰§è¡Œä»£ç ã€‚å…¶æ ¸å¿ƒåŸç†åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<p><strong>æ³¨è§£æ‰«æä¸è§£æé˜¶æ®µ</strong>ï¼šæ¡†æ¶å¯åŠ¨æ—¶ï¼Œé€šè¿‡ Spring çš„BeanPostProcessoræœºåˆ¶æ‰«ææ‰€æœ‰å¸¦æœ‰ç‰¹å®šæ³¨è§£çš„ç±»å’Œæ–¹æ³•ã€‚ä½¿ç”¨åå°„ API è·å–ç±»ã€æ–¹æ³•ã€å­—æ®µä¸Šçš„æ³¨è§£åŠå…¶å±æ€§å€¼ï¼Œå°†è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å…ƒæ•°æ®ç»“æ„ä¸­ã€‚</p>
<p><strong>å…ƒæ•°æ®è½¬æ¢é˜¶æ®µ</strong>ï¼šè§£æå™¨å°†æ³¨è§£ä¿¡æ¯è½¬æ¢ä¸ºæ¡†æ¶å†…éƒ¨çš„å…ƒæ•°æ®æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œ@SVGAttrAnnotationçš„å±æ€§ä¼šè¢«è½¬æ¢ä¸ºæ ‡å‡†çš„ SVG å±æ€§å­—å…¸ï¼Œ@ApiBindæ³¨è§£ä¼šè¢«è½¬æ¢ä¸ºæ¥å£è°ƒç”¨é…ç½®ï¼ŒåŒ…å« URLã€æ–¹æ³•ã€å‚æ•°æ˜ å°„ç­‰ä¿¡æ¯ã€‚</p>
<p><strong>ä»£ç ç”Ÿæˆé˜¶æ®µ</strong>ï¼šåŸºäºè½¬æ¢åçš„å…ƒæ•°æ®ï¼Œæ¡†æ¶åŠ¨æ€ç”Ÿæˆå¯¹åº”çš„æ‰§è¡Œä»£ç ã€‚å¯¹äº SVG ç»„ä»¶ï¼Œç”Ÿæˆæ ‡å‡†çš„ SVG æ ‡ç­¾ä»£ç ï¼›å¯¹äºæ•°æ®ç»‘å®šç»„ä»¶ï¼Œç”Ÿæˆæ•°æ®è¯·æ±‚å’Œæ¸²æŸ“ä»£ç ï¼›å¯¹äºäº¤äº’ç»„ä»¶ï¼Œç”Ÿæˆäº‹ä»¶ç›‘å¬å’Œå¤„ç†ä»£ç ã€‚</p>
<p><strong>è¿è¡Œæ—¶æ‰§è¡Œé˜¶æ®µ</strong>ï¼šç”Ÿæˆçš„ä»£ç åœ¨è¿è¡Œæ—¶è¢«æ‰§è¡Œï¼Œå®ç°ç»„ä»¶çš„æ¸²æŸ“ã€æ•°æ®åŠ è½½ã€äº¤äº’å“åº”ç­‰åŠŸèƒ½ã€‚æ¡†æ¶é€šè¿‡åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œåœ¨ä¸ä¿®æ”¹åŸå§‹ä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸ºç»„ä»¶æ·»åŠ é¢å¤–çš„åŠŸèƒ½é€»è¾‘ã€‚</p>
<h3 data-id="heading-15">3.4 è¿è¡Œæ—¶æ³¨è§£å¤„ç†æœºåˆ¶</h3>
<p>OODER æ¡†æ¶çš„è¿è¡Œæ—¶æ³¨è§£å¤„ç†æœºåˆ¶æ˜¯å…¶é«˜æ€§èƒ½å’Œçµæ´»æ€§çš„å…³é”®ã€‚å½“æ³¨è§£çš„ä¿ç•™ç­–ç•¥è®¾ç½®ä¸ºRetentionPolicy.RUNTIMEæ—¶ï¼ŒJVM ä¼šåœ¨ç±»åŠ è½½æ—¶è§£ææ³¨è§£ä¿¡æ¯å¹¶å­˜å‚¨èµ·æ¥ï¼Œä¾›åå°„ API ä½¿ç”¨ã€‚</p>
<p><strong>åŠ¨æ€ä»£ç†å®ç°</strong>ï¼šå½“é€šè¿‡åå°„ API è·å–æ³¨è§£æ—¶ï¼ŒJVM å®é™…ä¸Šè¿”å›ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡ã€‚è¿™ä¸ªä»£ç†å¯¹è±¡é€šè¿‡java.lang.reflect.InvocationHandleræ¥å£çš„å®ç°ç±»sun.reflect.annotation.AnnotationInvocationHandleræ¥å¤„ç†æ³¨è§£æ–¹æ³•çš„è°ƒç”¨ã€‚</p>
<p><strong>ç¼“å­˜ä¼˜åŒ–ç­–ç•¥</strong>ï¼šä¸ºäº†æé«˜æ€§èƒ½ï¼ŒJVM ä¼šç¼“å­˜è§£æåçš„æ³¨è§£å¯¹è±¡ã€‚OODER æ¡†æ¶è¿›ä¸€æ­¥ä¼˜åŒ–äº†è¿™ä¸€æœºåˆ¶ï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§è§£ææ‰€æœ‰ç›¸å…³æ³¨è§£ï¼Œæ„å»ºå®Œæ•´çš„ç»„ä»¶å…ƒæ•°æ®ç¼“å­˜ï¼Œé¿å…è¿è¡Œæ—¶çš„é‡å¤è§£æå¼€é”€ã€‚</p>
<p><strong>æ³¨è§£ä¼˜å…ˆçº§ç®¡ç†</strong>ï¼šæ¡†æ¶å®šä¹‰äº†æ¸…æ™°çš„æ³¨è§£ä¼˜å…ˆçº§è§„åˆ™ï¼šRAD è®¾è®¡å™¨é…ç½®ï¼ˆè‡ªåŠ¨åŒæ­¥è‡³æ³¨è§£ï¼‰&gt;@Styleæ³¨è§£ &gt; ç»„ä»¶é»˜è®¤æ ·å¼ &gt;@Themeå…¨å±€ä¸»é¢˜ã€‚è¿™ç§ä¼˜å…ˆçº§æœºåˆ¶ç¡®ä¿äº†é…ç½®çš„ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p>
<h2 data-id="heading-16">å››ã€HeroSvgPaper å®æˆ˜æ¡ˆä¾‹ï¼šSVG ç»„ä»¶çš„æ³¨è§£åŒ–å®ç°</h2>
<h3 data-id="heading-17">4.1 æ¡ˆä¾‹èƒŒæ™¯ä¸æŠ€æœ¯ç›®æ ‡</h3>
<p>HeroSvgPaper æ˜¯ OODER å®˜ç½‘é¦–é¡µçš„æ ¸å¿ƒè§†è§‰ç»„ä»¶ï¼Œä½äºé¦–å±è‹±é›„åŒºï¼Œæ‰¿æ‹…ç€å“ç‰Œå±•ç¤ºä¸é¦–å±å¸å¼•åŠ›è¥é€ çš„é‡è¦èŒè´£ã€‚è¯¥ç»„ä»¶çš„æŠ€æœ¯å®ç°å……åˆ†ä½“ç°äº† OODER æ¡†æ¶åœ¨ SVG å¯è§†åŒ–æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ï¼Œå…¶æ ¸å¿ƒæŒ‘æˆ˜åœ¨äºå®ç° SVG å…ƒç´ çš„åƒç´ çº§è¿˜åŸä¸å¤æ‚åŠ¨ç”»æ•ˆæœçš„ä»£ç åŒ–ã€‚</p>
<p>æœ¬æ¡ˆä¾‹çš„æŠ€æœ¯ç›®æ ‡åŒ…æ‹¬ï¼šå®ç°è®¾è®¡ç¨¿ 100% çš„è§†è§‰è¿˜åŸï¼ŒåŒ…æ‹¬æ¸å˜èƒŒæ™¯ã€ç«‹ä½“æ–‡å­—æ•ˆæœã€å“åº”å¼å¸ƒå±€ç­‰ï¼›æ”¯æŒå¤æ‚çš„ SVG åŠ¨ç”»ï¼Œå¦‚æ·¡å…¥ä¸Šç§»ã€é—ªçƒæç¤ºç­‰äº¤äº’æ•ˆæœï¼›é€šè¿‡æ³¨è§£é…ç½®å®ç°å…¨æ ˆæ•°æ®ç»‘å®šï¼Œæ”¯æŒåŠ¨æ€å†…å®¹æ›´æ–°ï¼›ç¡®ä¿ç»„ä»¶åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„å®Œç¾é€‚é…ã€‚</p>
<h3 data-id="heading-18">4.2 æ ¸å¿ƒå®ç°ä»£ç è¯¦è§£</h3>
<p>HeroSvgPaper çš„å®Œæ•´å®ç°ä»£ç å±•ç¤ºäº† OODER æ³¨è§£ä½“ç³»çš„å¼ºå¤§èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒæ¥å£å®šä¹‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Controller</span>
@<span class="hljs-title class_">RequestMapping</span>(<span class="hljs-string">"view/homepage/pagecontainer/hero/"</span>)
@<span class="hljs-title class_">XPath</span>(path=<span class="hljs-string">"view.homepage.pagecontainer.hero.herosvgpaper.herosvgpapermain.herosvgpaper"</span>)
@<span class="hljs-title class_">SVGPaperFormAnnotation</span>
public interface <span class="hljs-title class_">HeroSvgPaper</span> {
    
    @<span class="hljs-title class_">FieldAnnotation</span>(componentType=<span class="hljs-title class_">ComponentType</span>.<span class="hljs-property">SVGTEXT</span>,serviceClass=<span class="hljs-title class_">CustomFieldService</span>.<span class="hljs-property">class</span>)
    @<span class="hljs-title class_">ContainerAnnotation</span>(showEffects=<span class="hljs-string">"Blur"</span>,activeAnim=<span class="hljs-title class_">CustomAnimType</span>.<span class="hljs-property">blinkAlert</span>)
    @<span class="hljs-title class_">CustomAnnotation</span>(caption=<span class="hljs-string">"heroTitleSvg"</span>)
    @<span class="hljs-title class_">SVGAnnotation</span>(offSetFlow=<span class="hljs-string">"none"</span>)
    @<span class="hljs-title class_">SVGAttrAnnotation</span>(x=<span class="hljs-string">"50%"</span>,y=<span class="hljs-string">"40%"</span>,text=<span class="hljs-string">"ä½ä»£ç å¼€å‘å¹³å°"</span>,fill=<span class="hljs-string">"#ffffff"</span>)
    @<span class="hljs-title class_">SVGTextAnnotation</span>(fontFamily=<span class="hljs-string">"Arial, sans-serif"</span>,fontSize=<span class="hljs-string">"48px"</span>,fill=<span class="hljs-string">"#ffffff"</span>)
    public <span class="hljs-title class_">ResultModel</span> <span class="hljs-title function_">getHeroTitleSvg</span>();
}
</code></pre>
<h3 data-id="heading-19">4.3 æ³¨è§£é…ç½®çš„æŠ€æœ¯è§£æ</h3>
<h4 data-id="heading-20">4.3.1 æ¥å£å®šä½ä¸è·¯ç”±é…ç½®</h4>
<p>@Controllerå’Œ@RequestMappingæ³¨è§£å®šä¹‰äº†ç»„ä»¶çš„ Web è®¿é—®è·¯å¾„ä¸ºview/homepage/pagecontainer/hero/ã€‚è¿™ä¸ªè·¯å¾„ä¸å‰ç«¯è§†å›¾æ ‘çš„ç»“æ„å®Œå…¨å¯¹åº”ï¼Œç¡®ä¿äº†ç»„ä»¶èƒ½å¤Ÿæ­£ç¡®åŠ è½½ã€‚@XPathæ³¨è§£æŒ‡å®šäº†ç»„ä»¶åœ¨è§†å›¾æ ‘ä¸­çš„å®Œæ•´è·¯å¾„ï¼Œç²¾ç¡®åˆ°æ¯ä¸ªèŠ‚ç‚¹å±‚çº§ï¼Œè¿™ç§ç»†ç²’åº¦çš„å®šä½æœºåˆ¶ä¿è¯äº†ç»„ä»¶æ¸²æŸ“çš„å‡†ç¡®æ€§ã€‚</p>
<h4 data-id="heading-21">4.3.2 SVG æ–‡æœ¬ç»„ä»¶çš„å±æ€§é…ç½®</h4>
<p>@FieldAnnotationæŒ‡å®šäº†ç»„ä»¶ç±»å‹ä¸ºComponentType.SVGTEXTï¼Œå…³è”çš„æœåŠ¡ç±»ä¸ºCustomFieldService.classã€‚è¿™ä¸ªé…ç½®å‘Šè¯‰æ¡†æ¶è¯¥ç»„ä»¶æ˜¯ä¸€ä¸ª SVG æ–‡æœ¬ç»„ä»¶ï¼Œéœ€è¦ä½¿ç”¨æŒ‡å®šçš„æœåŠ¡ç±»è¿›è¡Œå¤„ç†ã€‚</p>
<p>@SVGAnnotationçš„offSetFlow="none"é…ç½®è¡¨ç¤º SVG å…ƒç´ ä¸ä½¿ç”¨åç§»æµå¸ƒå±€ï¼Œä¿æŒæ­£å¸¸çš„æ–‡æ¡£æµã€‚è¿™å¯¹äºå®ç°ç²¾ç¡®çš„å®šä½æ•ˆæœéå¸¸é‡è¦ã€‚</p>
<p>@SVGAttrAnnotationæä¾›äº† SVG æ–‡æœ¬å…ƒç´ çš„æ ¸å¿ƒå±æ€§é…ç½®ï¼š</p>
<ul>
<li>x="50%"å’Œy="40%"ï¼šè®¾ç½®æ–‡æœ¬åœ¨ SVG ç”»å¸ƒä¸­çš„ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®ç°å“åº”å¼å®šä½</li>
<li>text="ä½ä»£ç å¼€å‘å¹³å°"ï¼šè®¾ç½®æ–‡æœ¬å†…å®¹</li>
<li>fill="#ffffff"ï¼šè®¾ç½®æ–‡æœ¬å¡«å……é¢œè‰²ä¸ºç™½è‰²</li>
</ul>
<p>@SVGTextAnnotationä¸“é—¨é…ç½®æ–‡æœ¬ç›¸å…³å±æ€§ï¼š</p>
<ul>
<li>fontFamily="Arial, sans-serif"ï¼šè®¾ç½®å­—ä½“æ—</li>
<li>fontSize="48px"ï¼šè®¾ç½®å­—ä½“å¤§å°</li>
<li>fill="#ffffff"ï¼šå†æ¬¡è®¾ç½®å¡«å……é¢œè‰²ï¼Œç¡®ä¿æ ·å¼ä¸€è‡´æ€§</li>
</ul>
<h4 data-id="heading-22">4.3.3 åŠ¨ç”»ä¸äº¤äº’æ•ˆæœé…ç½®</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae379f682b0f45e4b5e571606b52d75c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=ZKiv75SKMWskiOI9c5lPTtJxbQg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>@ContainerAnnotationé…ç½®äº†ç»„ä»¶çš„åŠ¨ç”»æ•ˆæœï¼š</p>
<ul>
<li>showEffects="Blur"ï¼šæŒ‡å®šç»„ä»¶æ˜¾ç¤ºæ—¶çš„æ¨¡ç³Šç‰¹æ•ˆï¼Œå¢å¼ºè§†è§‰å†²å‡»åŠ›</li>
<li>activeAnim=CustomAnimType.blinkAlertï¼šæŒ‡å®šç»„ä»¶çš„æ¿€æ´»åŠ¨ç”»ä¸ºé—ªçƒæç¤ºæ•ˆæœ</li>
</ul>
<p>è¿™ç§åŠ¨ç”»é…ç½®æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºå°†åŠ¨ç”»é€»è¾‘ä¸ç»„ä»¶å®šä¹‰è§£è€¦ï¼Œé€šè¿‡å£°æ˜å¼é…ç½®å³å¯å®ç°å¤æ‚çš„äº¤äº’æ•ˆæœï¼Œæ— éœ€ç¼–å†™ä»»ä½• JavaScript åŠ¨ç”»ä»£ç ã€‚</p>
<h3 data-id="heading-23">4.4 SVG ç»„ä»¶ä½“ç³»æ¶æ„</h3>
<p>OODER æ¡†æ¶æä¾›äº†å®Œæ•´çš„ SVG ç»„ä»¶ä½“ç³»ï¼Œä¸º HeroSvgPaper çš„å®ç°æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ï¼š</p>
<p><strong>æ ¸å¿ƒç»„ä»¶å±‚çº§</strong>ï¼š</p>
<ul>
<li>ood.UI.SVGPaperï¼šSVG ç”»æ¿å®¹å™¨ï¼Œä½œä¸ºæ‰€æœ‰ SVG å…ƒç´ çš„æ‰¿è½½ä¸»ä½“</li>
<li>ood.svg.Textï¼šSVG æ–‡æœ¬å…ƒç´ ï¼Œæ”¯æŒæ–‡æœ¬å±æ€§é…ç½®ä¸åŠ¨ç”»ç»‘å®š</li>
<li>ood.svg.Circle/Rect/Pathï¼šåŸºç¡€å›¾å½¢å…ƒç´ ï¼Œå¯ç»„åˆå®ç°å¤æ‚è§†è§‰æ•ˆæœ</li>
<li>ood.svg.Groupï¼šSVG å…ƒç´ ç»„ï¼Œç”¨äºç»„ç»‡å’Œç®¡ç†å¤šä¸ªç›¸å…³å…ƒç´ </li>
</ul>
<p><strong>åŠ¨ç”»æ”¯æŒèƒ½åŠ›</strong>ï¼š</p>
<p>æ¡†æ¶çš„ SVG ç»„ä»¶ä½“ç³»å†…ç½®äº†å¼ºå¤§çš„åŠ¨ç”»æ”¯æŒèƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>åŸºç¡€åŠ¨ç”»ï¼šå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ã€é€æ˜åº¦å˜åŒ–</li>
<li>è·¯å¾„åŠ¨ç”»ï¼šæ²¿æŒ‡å®šè·¯å¾„ç§»åŠ¨çš„å¤æ‚åŠ¨ç”»</li>
<li>å˜å½¢åŠ¨ç”»ï¼šæ”¯æŒ SVG çš„transformå±æ€§åŠ¨ç”»</li>
<li>æ—¶é—´è½´æ§åˆ¶ï¼šæ”¯æŒåŠ¨ç”»çš„å»¶è¿Ÿã€é‡å¤ã€å›è°ƒç­‰æ§åˆ¶</li>
</ul>
<h3 data-id="heading-24">4.5 å¤æ‚åŠ¨ç”»å®ç°æœºåˆ¶</h3>
<p>HeroSvgPaper çš„åŠ¨ç”»å®ç°å±•ç¤ºäº† OODER æ¡†æ¶åœ¨ SVG åŠ¨ç”»æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒåŠ¨ç”»é€»è¾‘çš„å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºSVG Paperç”»æ¿</span>
host.<span class="hljs-property">hero</span>.<span class="hljs-title function_">append</span>(ood.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ood.UI.SVGPaper"</span>)
    .<span class="hljs-title function_">setHost</span>(host, <span class="hljs-string">"heroSvgPaper"</span>)
    .<span class="hljs-title function_">setName</span>(<span class="hljs-string">"heroSvgPaper"</span>)
    .<span class="hljs-title function_">setWidth</span>(<span class="hljs-string">"100%"</span>)
);

<span class="hljs-comment">// åˆ›å»ºSVGæ ‡é¢˜æ–‡æœ¬</span>
<span class="hljs-keyword">const</span> titleSvg = ood.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ood.svg.Text"</span>)
    .<span class="hljs-title function_">setHost</span>(host, <span class="hljs-string">"heroTitleSvg"</span>)
    .<span class="hljs-title function_">setSVGAttr</span>({
        <span class="hljs-attr">x</span>: <span class="hljs-string">"50%"</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-string">"40%"</span>,
        <span class="hljs-attr">text</span>: <span class="hljs-string">"OODERå…¨æ ˆæ¡†æ¶ Â· å›¾ç”Ÿä»£ç ä¸€é”®è½åœ°"</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">"rgba(255,255,255,0.8)"</span>,
        <span class="hljs-attr">opacity</span>: <span class="hljs-string">"0"</span>,
        <span class="hljs-attr">transform</span>: <span class="hljs-string">"translate(0, 50)"</span>
    });

<span class="hljs-comment">// æ ¸å¿ƒåŠ¨ç”»é€»è¾‘ï¼šæ·¡å…¥+ä¸Šç§»åŠ¨ç”»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animateSvgText</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ ‡é¢˜åŠ¨ç”»ï¼š1ç§’å†…æ·¡å…¥å¹¶ä¸Šç§»è‡³åŸä½ï¼Œä½¿ç”¨ease-outç¼“åŠ¨</span>
    titleSvg.<span class="hljs-title function_">elemsAnimate</span>({
        <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">transform</span>: <span class="hljs-string">'translate(0, 0)'</span>
    }, <span class="hljs-number">1000</span>, <span class="hljs-string">'ease-out'</span>);
    
    <span class="hljs-comment">// æè¿°æ–‡æœ¬å»¶è¿Ÿ300mså¯åŠ¨ï¼Œå½¢æˆåŠ¨ç”»å±‚æ¬¡æ„Ÿ</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        descSvg.<span class="hljs-title function_">elemsAnimate</span>({
            <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">transform</span>: <span class="hljs-string">'translate(0, 0)'</span>
        }, <span class="hljs-number">1000</span>, <span class="hljs-string">'ease-out'</span>);
    }, <span class="hljs-number">300</span>);
}

<span class="hljs-comment">// é¡µé¢åŠ è½½å®Œæˆåè§¦å‘åŠ¨ç”»</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, animateSvgText);
</code></pre>
<h3 data-id="heading-25">4.6 æŠ€æœ¯ä¼˜åŠ¿ä¸æ€§èƒ½åˆ†æ</h3>
<p>ç›¸æ¯”ä¼ ç»Ÿ CSS åŠ¨ç”»ï¼ŒåŸºäº OODER SVG ç»„ä»¶çš„å®ç°å…·å¤‡å››å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<p><strong>è§†è§‰è¡¨ç°åŠ›æ›´å¼º</strong>ï¼šæ”¯æŒè·¯å¾„åŠ¨ç”»ã€å˜å½¢ç­‰å¤æ‚æ•ˆæœï¼Œåç»­å¯æ‰©å±•æ·»åŠ æ–‡å­—æè¾¹æµåŠ¨åŠ¨ç”»ã€‚SVG çš„çŸ¢é‡ç‰¹æ€§ä¿è¯äº†å›¾å½¢åœ¨ä»»ä½•ç¼©æ”¾çº§åˆ«ä¸‹éƒ½ä¸ä¼šå¤±çœŸï¼Œå®Œç¾é€‚é…ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡ã€‚</p>
<p><strong>æ€§èƒ½è¡¨ç°æ›´ä¼˜</strong>ï¼šä¾æ‰˜ OODER æ¡†æ¶çš„ GPU åŠ é€Ÿèƒ½åŠ›ï¼ŒåŠ¨ç”»æµç•…æ— å¡é¡¿ï¼Œå°¤å…¶åœ¨ç§»åŠ¨ç«¯è¡¨ç°ç¨³å®šã€‚SVG åŠ¨ç”»å¤©ç„¶æ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼Œé¿å…äº†ä¼ ç»Ÿ JavaScript åŠ¨ç”»çš„æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p><strong>å¼€å‘æ•ˆç‡æ›´é«˜</strong>ï¼šé€šè¿‡æ³¨è§£é…ç½®å³å¯å®ç°å¤æ‚åŠ¨ç”»ï¼Œæ— éœ€ç¼–å†™å¤§é‡ JavaScript ä»£ç ã€‚åŠ¨ç”»é…ç½®ä¸ç»„ä»¶å®šä¹‰ä¸€ä½“åŒ–ï¼Œä¾¿äºç»´æŠ¤å’Œä¿®æ”¹ã€‚</p>
<p><strong>è·¨è®¾å¤‡é€‚é…æ€§å¥½</strong>ï¼šSVG çš„å“åº”å¼ç‰¹æ€§ä½¿å¾—ç»„ä»¶èƒ½å¤Ÿå®Œç¾é€‚é…ä¸åŒå°ºå¯¸çš„å±å¹•ï¼Œä» PC ç«¯åˆ°ç§»åŠ¨ç«¯éƒ½èƒ½ä¿æŒä¸€è‡´çš„è§†è§‰æ•ˆæœã€‚</p>
<h2 data-id="heading-26">äº”ã€FeaturesContent å®æˆ˜æ¡ˆä¾‹ï¼šç”»å»Šç»„ä»¶çš„å…¨æ ˆå®ç°</h2>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ff3c03af3064cb98590492a4a9d187a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=tLqKlIX5Af2Xz4lAZ7p3IXt9AE0%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-27">5.1 æ¡ˆä¾‹æ¦‚è¿°ä¸åˆ†å±‚æ¶æ„</h3>
<p>FeaturesContent æ˜¯ OODER å®˜ç½‘é¦–é¡µçš„ç‰¹æ€§å±•ç¤ºç»„ä»¶ï¼Œé‡‡ç”¨ Galleryï¼ˆç”»å»Šï¼‰å½¢å¼å‘ˆç° OODER æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ã€‚è¯¥ç»„ä»¶çš„æŠ€æœ¯å®ç°å……åˆ†ä½“ç°äº† OODER æ¡†æ¶çš„å…¨æ ˆä¸€ä½“åŒ–è®¾è®¡ç†å¿µï¼Œé€šè¿‡ä¸¥æ ¼çš„ MVC åˆ†å±‚æ¶æ„å®ç°äº† "æ ·å¼é…ç½® - æ•°æ®å¤„ç† - å‰ç«¯æ¸²æŸ“" çš„å®Œæ•´é—­ç¯ã€‚</p>
<p><strong>ä»£ç åˆ†å±‚ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">â”œâ”€â”€ view/
â”‚   â””â”€â”€ homepage/pagecontainer/features/
â”‚       â”œâ”€â”€ <span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">java</span>          # è§†å›¾ç»„ä»¶ç±»
â”‚       â””â”€â”€ <span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">java</span>      # è§†å›¾æ•°æ®æšä¸¾ç±»
â”œâ”€â”€ net/ooder/test/view/
â”‚   â””â”€â”€ view/homepage/pagecontainer/features/
â”‚       â””â”€â”€ <span class="hljs-title class_">FeaturesContentAPI</span>.<span class="hljs-property">java</span>       # <span class="hljs-title class_">Web</span> <span class="hljs-variable constant_">API</span>æ¥å£
â””â”€â”€ net/ooder/test/repository/
    â””â”€â”€ view/homepage/pagecontainer/features/
        â””â”€â”€ featurescontent/
            â”œâ”€â”€ service/
            â”‚   â”œâ”€â”€ <span class="hljs-title class_">FeaturesContentService</span>.<span class="hljs-property">java</span>   # æœåŠ¡æ¥å£
            â”‚   â””â”€â”€ <span class="hljs-title class_">FeaturesContentServiceImpl</span>.<span class="hljs-property">java</span> # æœåŠ¡å®ç°
            â””â”€â”€ <span class="hljs-variable language_">module</span>/
                â”œâ”€â”€ <span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">java</span>          # æ¨¡å—å®ä½“ç±»
                â””â”€â”€ <span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">java</span>      # æ¨¡å—æ•°æ®ç±»
</code></pre>
<h3 data-id="heading-28">5.2 è§†å›¾å±‚ï¼šæ³¨è§£é©±åŠ¨çš„æ ·å¼é…ç½®</h3>
<h4 data-id="heading-29">5.2.1 ç»„ä»¶æ ·å¼é…ç½®</h4>
<p>FeaturesContent ç»§æ‰¿è‡ª OODER çš„ GalleryItem åŸºç¡€ç»„ä»¶ï¼Œé€šè¿‡ç±»çº§æ³¨è§£é…ç½®å…¨å±€ç”»å»Šæ ·å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">XPath</span>(path=<span class="hljs-string">"view.homepage.homepagemain.pagecontainer.Features.featuresContent"</span>)
@<span class="hljs-title class_">GalleryAnnotation</span>(itemMargin=<span class="hljs-string">"0"</span>, columns=<span class="hljs-number">3</span>, iconFontSize=<span class="hljs-string">"5em"</span>, imageClass=<span class="hljs-string">"ri-th-large-line"</span>)
@<span class="hljs-title class_">EnumsClass</span>(clazz=<span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">class</span>)
public <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeaturesContent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">GalleryItem</span> {
    public <span class="hljs-title class_">FeaturesContent</span>() {
        <span class="hljs-variable language_">super</span>();
    }
}
</code></pre>
<p>@GalleryAnnotationçš„æ ¸å¿ƒå±æ€§é…ç½®ï¼š</p>
<ul>
<li>itemMargin="0"ï¼šè®¾ç½®é¡¹ç›®é—´è·ä¸º 0ï¼Œå®ç°ç´§å‡‘å¸ƒå±€</li>
<li>columns=3ï¼šè®¾ç½®æ¯è¡Œæ˜¾ç¤º 3 åˆ—ï¼Œé€‚åº” PC ç«¯å±å¹•å®½åº¦</li>
<li>iconFontSize="5em"ï¼šè®¾ç½®å›¾æ ‡å­—ä½“å¤§å°ä¸º 5emï¼Œç¡®ä¿è§†è§‰å†²å‡»åŠ›</li>
<li>imageClass="ri-th-large-line"ï¼šä½¿ç”¨ Remix Icon çš„å›¾æ ‡ç±»</li>
</ul>
<h4 data-id="heading-30">5.2.2 æ•°æ®æšä¸¾ç±»è®¾è®¡</h4>
<p>FeaturesContentData æšä¸¾ç±»å®šä¹‰äº†æ‰€æœ‰ç‰¹æ€§é¡¹çš„æ•°æ®ï¼Œå®ç°äº†IGalleryItemå’ŒIconEnumstypeæ¥å£ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">GalleryAnnotation</span>(itemMargin=<span class="hljs-string">"0"</span>, columns=<span class="hljs-number">3</span>, iconFontSize=<span class="hljs-string">"5em"</span>, imageClass=<span class="hljs-string">"ri-th-large-line"</span>)
public enum <span class="hljs-title class_">FeaturesContentData</span> implements <span class="hljs-title class_">IGalleryItem</span>, <span class="hljs-title class_">IconEnumstype</span> {
    <span class="hljs-title function_">feature1</span>(<span class="hljs-string">"å¯è§†åŒ–è®¾è®¡"</span>, <span class="hljs-string">"ri-paint-brush-line"</span>),
    <span class="hljs-title function_">feature2</span>(<span class="hljs-string">"å¿«é€Ÿå¼€å‘"</span>, <span class="hljs-string">"ri-rocket-line"</span>),
    <span class="hljs-title function_">feature3</span>(<span class="hljs-string">"ä¸°å¯Œç»„ä»¶åº“"</span>, <span class="hljs-string">"ri-apps-line"</span>),
    <span class="hljs-title function_">feature4</span>(<span class="hljs-string">"å¤šç«¯é€‚é…"</span>, <span class="hljs-string">"ri-device-line"</span>),
    <span class="hljs-title function_">feature5</span>(<span class="hljs-string">"API é›†æˆ"</span>, <span class="hljs-string">"ri-eye-line"</span>),
    <span class="hljs-title function_">feature6</span>(<span class="hljs-string">"ä¸€é”®éƒ¨ç½²"</span>, <span class="hljs-string">"ri-upload-cloud-line"</span>);
    
    private final <span class="hljs-title class_">String</span> title;
    private final <span class="hljs-title class_">String</span> icon;
    
    <span class="hljs-title class_">FeaturesContentData</span>(<span class="hljs-title class_">String</span> title, <span class="hljs-title class_">String</span> icon) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = title;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">icon</span> = icon;
    }
    
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">String</span> <span class="hljs-title function_">getTitle</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> title; }
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">String</span> <span class="hljs-title function_">getIconClass</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> icon; }
}
</code></pre>
<p>æ¯ä¸ªæšä¸¾å€¼ä»£è¡¨ä¸€ä¸ªç‰¹æ€§é¡¹ï¼ŒåŒ…å«æ ‡é¢˜å’Œå›¾æ ‡ä¿¡æ¯ã€‚è¿™ç§è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>æ•°æ®ä¸ä»£ç ç»“åˆï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶</li>
<li>ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥</li>
<li>æ”¯æŒé€šè¿‡å·¥å…·ç±»åŠ¨æ€è®¿é—®</li>
</ul>
<h3 data-id="heading-31">5.3 Web æ¥å£å±‚ï¼šRESTful API è®¾è®¡</h3>
<p>FeaturesContentAPI æä¾›äº†æ ‡å‡†çš„ RESTful æ¥å£ï¼Œç”¨äºå‰ç«¯è·å–ç‰¹æ€§åˆ—è¡¨æ•°æ®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Aggregation</span>(rootClass=<span class="hljs-title class_">FeaturesContentAPI</span>.<span class="hljs-property">class</span>, type=<span class="hljs-title class_">AggregationType</span>.<span class="hljs-property">ENTITY</span>)
@<span class="hljs-title class_">RequestMapping</span>(value=<span class="hljs-string">"view/homepage/pagecontainer/features"</span>)
@<span class="hljs-title class_">Controller</span>
public interface <span class="hljs-title class_">FeaturesContentAPI</span> {
    
    @<span class="hljs-title class_">GalleryViewAnnotation</span>(cache=<span class="hljs-literal">false</span>)
    @<span class="hljs-title class_">APIEventAnnotation</span>(bindTabsEvent=<span class="hljs-title class_">CustomTabsEvent</span>.<span class="hljs-property">TABEDITOR</span>)
    @<span class="hljs-title class_">RequestMapping</span>(value=<span class="hljs-string">"FeaturesContent"</span>)
    @<span class="hljs-title class_">ModuleAnnotation</span>(name=<span class="hljs-string">"FeaturesContent"</span>, moduleViewType=<span class="hljs-title class_">ModuleViewType</span>.<span class="hljs-property">GALLERYCONFIG</span>)
    @<span class="hljs-title class_">UIAnnotation</span>(dock=<span class="hljs-title class_">Dock</span>.<span class="hljs-property">fill</span>)
    @<span class="hljs-title class_">ResponseBody</span>
    public <span class="hljs-title class_">ListResultModel</span>&lt;<span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">FeaturesContent</span>&gt;&gt; <span class="hljs-title function_">getFeaturesContent</span>();
}
</code></pre>
<p><strong>å…³é”®æ³¨è§£è§£æ</strong>ï¼š</p>
<ul>
<li>@GalleryViewAnnotation(cache=false)ï¼šå…³é—­ç¼“å­˜ï¼Œç¡®ä¿æ•°æ®å®æ—¶æ€§</li>
<li>@APIEventAnnotationï¼šç»‘å®šå‰ç«¯äº‹ä»¶ï¼Œæ”¯æŒè‡ªåŠ¨è¿è¡Œ</li>
<li>@ModuleAnnotationï¼šå®šä¹‰æ¨¡å—åç§°å’Œè§†å›¾ç±»å‹</li>
<li>@UIAnnotation(dock=Dock.fill)ï¼šé…ç½®å¡«å……æ•´ä¸ªå®¹å™¨çš„å¸ƒå±€æ–¹å¼</li>
<li>@ResponseBodyï¼šè‡ªåŠ¨å°†è¿”å›å€¼åºåˆ—åŒ–ä¸º JSON</li>
</ul>
<h3 data-id="heading-32">5.4 æœåŠ¡å±‚ï¼šä¸šåŠ¡é€»è¾‘å°è£…</h3>
<p>æœåŠ¡å±‚é‡‡ç”¨æ¥å£ä¸å®ç°åˆ†ç¦»çš„è®¾è®¡æ¨¡å¼ï¼Œæä¾›æ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘æŠ½è±¡ï¼š</p>
<h4 data-id="heading-33">5.4.1 æœåŠ¡æ¥å£å®šä¹‰</h4>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Aggregation</span>(moduleName=<span class="hljs-string">"view.homepage.pagecontainer.features"</span>, type=<span class="hljs-title class_">AggregationType</span>.<span class="hljs-property">ENTITY</span>,
             entityClass=<span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">class</span>, rootClass=<span class="hljs-title class_">FeaturesContentService</span>.<span class="hljs-property">class</span>)
public interface <span class="hljs-title class_">FeaturesContentService</span> {
    @<span class="hljs-title class_">APIEventAnnotation</span>(bindMenu = {<span class="hljs-title class_">CustomMenuItem</span>.<span class="hljs-property">RELOAD</span>}, bindTabsEvent = <span class="hljs-title class_">CustomTabsEvent</span>.<span class="hljs-property">TABEDITOR</span>, 
                       autoRun = <span class="hljs-literal">true</span>, customRequestData = <span class="hljs-title class_">RequestPathEnum</span>.<span class="hljs-property">CTX</span>)
    public <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">FeaturesContent</span>&gt; <span class="hljs-title function_">getFeaturesContent</span>() throws <span class="hljs-title class_">JDSException</span>;
}
</code></pre>
<h4 data-id="heading-34">5.4.2 æœåŠ¡å®ç°ç±»</h4>
<p>â€‹</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">EsbBeanAnnotation</span>
public <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeaturesContentServiceImpl</span> implements <span class="hljs-title class_">FeaturesContentService</span> {
    
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">FeaturesContent</span>&gt; <span class="hljs-title function_">getFeaturesContent</span>() throws <span class="hljs-title class_">JDSException</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ESDEnumsUtil</span>.<span class="hljs-title function_">getEnumItems</span>(<span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">class</span>, <span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">class</span>);
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒå®ç°é€»è¾‘</strong>ï¼š</p>
<p>æœåŠ¡å®ç°ç±»é€šè¿‡ESDEnumsUtil.getEnumItems()æ–¹æ³•å°†æšä¸¾æ•°æ®è½¬æ¢ä¸ºå®ä½“åˆ—è¡¨ã€‚è¿™ä¸ªå·¥å…·ç±»çš„å®ç°åŸç†æ˜¯ï¼š</p>
<ol>
<li>åå°„è·å–æšä¸¾ç±»çš„æ‰€æœ‰æšä¸¾å€¼</li>
<li>ä¸ºæ¯ä¸ªæšä¸¾å€¼åˆ›å»ºå¯¹åº”çš„å®ä½“å¯¹è±¡</li>
<li>å¡«å……å®ä½“å¯¹è±¡çš„å±æ€§ï¼ˆæ ‡é¢˜ã€å›¾æ ‡ç­‰ï¼‰</li>
<li>è¿”å›å®ä½“åˆ—è¡¨ä¾›ä¸Šå±‚ä½¿ç”¨</li>
</ol>
<h3 data-id="heading-35">5.5 æ•°æ®å±‚ï¼šåŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹</h3>
<p>FeaturesContent é‡‡ç”¨åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹è®¾è®¡ï¼Œç›¸æ¯”ä¼ ç»Ÿæ•°æ®åº“å­˜å‚¨å…·æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ï¼š</p>
<p><strong>æ•°æ®æ¨¡å‹ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é™æ€æ•°æ®å­˜å‚¨ï¼šç‰¹æ€§åˆ—è¡¨é€šå¸¸æ˜¯ç›¸å¯¹å›ºå®šçš„ä¿¡æ¯</li>
<li>ç±»å‹å®‰å…¨ä¿éšœï¼šé€šè¿‡æšä¸¾ç±»å‹ç¡®ä¿æ•°æ®çš„åˆæ³•æ€§</li>
<li>ç¼–è¯‘æ—¶æ ¡éªŒï¼šæšä¸¾å€¼åœ¨ç¼–è¯‘é˜¶æ®µå³å¯ç¡®å®š</li>
<li>æ— éœ€æŒä¹…åŒ–ï¼šå‡å°‘æ•°æ®åº“ä¾èµ–ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½</li>
</ul>
<p><strong>æ•°æ®è½¬æ¢æœºåˆ¶</strong>ï¼š</p>
<p>ESDEnumsUtil å·¥å…·ç±»æä¾›äº†é€šç”¨çš„æšä¸¾åˆ°å®ä½“è½¬æ¢èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">public <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt;, T&gt; <span class="hljs-title class_">List</span>&lt;T&gt; <span class="hljs-title function_">getEnumItems</span>(<span class="hljs-title class_">Class</span>&lt;E&gt; enumClass, <span class="hljs-title class_">Class</span>&lt;T&gt; targetClass) 
    throws <span class="hljs-title class_">JDSException</span> {
    <span class="hljs-comment">// å®ç°é€»è¾‘ï¼šåå°„è·å–æšä¸¾å€¼ï¼Œåˆ›å»ºç›®æ ‡å¯¹è±¡ï¼Œå±æ€§æ˜ å°„</span>
}
</code></pre>
<h3 data-id="heading-36">5.6 å…¨æ ˆæ•°æ®æµè½¬æµç¨‹</h3>
<p>FeaturesContent çš„æ•°æ®æµè½¬å±•ç¤ºäº† OODER æ¡†æ¶çš„å…¨æ ˆä¸€ä½“åŒ–èƒ½åŠ›ï¼š</p>
<p><strong>æ•°æ®å®šä¹‰é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>FeaturesContentData æšä¸¾ç±»å®šä¹‰äº† 6 ä¸ªç‰¹æ€§é¡¹</li>
<li>æ¯ä¸ªç‰¹æ€§é¡¹åŒ…å«æ ‡é¢˜å’Œå›¾æ ‡ä¿¡æ¯</li>
<li>æ•°æ®åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œä¿è¯äº†ç±»å‹å®‰å…¨</li>
</ul>
<p><strong>æ•°æ®è½¬æ¢é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æœåŠ¡å±‚è°ƒç”¨ ESDEnumsUtil å·¥å…·ç±»</li>
<li>å°†æšä¸¾æ•°æ®è½¬æ¢ä¸º FeaturesContent å®ä½“åˆ—è¡¨</li>
<li>è‡ªåŠ¨å®Œæˆæ•°æ®æ ¼å¼çš„é€‚é…å’Œæ˜ å°„</li>
</ul>
<p><strong>æ•°æ®ä¼ è¾“é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æ¥å£å±‚å°†å®ä½“åˆ—è¡¨å°è£…ä¸º ListResultModel</li>
<li>é€šè¿‡ @ResponseBody è‡ªåŠ¨åºåˆ—åŒ–ä¸º JSON æ ¼å¼</li>
<li>åŒ…å«çŠ¶æ€ç ã€æ•°æ®ã€æç¤ºä¿¡æ¯çš„å®Œæ•´å“åº”</li>
</ul>
<p><strong>å‰ç«¯æ¸²æŸ“é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ Gallery ç»„ä»¶è§£æ JSON æ•°æ®</li>
<li>æ ¹æ® @GalleryAnnotation é…ç½®çš„æ ·å¼æ¸²æŸ“</li>
<li>æ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒè®¾å¤‡</li>
</ul>
<h3 data-id="heading-37">5.7 æŠ€æœ¯ä¼˜åŠ¿ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-38">5.7.1 æ€§èƒ½ä¼˜åŒ–</h4>
<p>åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹å¸¦æ¥æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å†…å­˜è®¿é—®é€Ÿåº¦å¿«ï¼Œæ— éœ€æ•°æ®åº“æŸ¥è¯¢</li>
<li>æ•°æ®ç»“æ„ç®€å•ï¼Œåºåˆ—åŒ–æ•ˆç‡é«˜</li>
<li>ç¼“å­˜å‹å¥½ï¼Œå¯å®ç°å¿«é€Ÿå“åº”</li>
</ul>
<h4 data-id="heading-39">5.7.2 å¯ç»´æŠ¤æ€§æå‡</h4>
<ul>
<li>æ•°æ®ä¸ä»£ç ä¸€ä½“åŒ–ï¼Œä¾¿äºç‰ˆæœ¬ç®¡ç†</li>
<li>æšä¸¾ç±»å‹æä¾›æ¸…æ™°çš„è¯­ä¹‰è¡¨è¾¾</li>
<li>æ³¨è§£é…ç½®æ”¯æŒå¯è§†åŒ–ç¼–è¾‘</li>
</ul>
<h4 data-id="heading-40">5.7.3 æ‰©å±•æ€§è®¾è®¡</h4>
<p>å¦‚æœæœªæ¥éœ€è¦ä»æ•°æ®åº“åŠ¨æ€åŠ è½½ç‰¹æ€§æ•°æ®ï¼Œåªéœ€ï¼š</p>
<ol>
<li>åˆ›å»ºæ•°æ®åº“å®ä½“ç±»å’Œ DAO æ¥å£</li>
<li>ä¿®æ”¹æœåŠ¡å®ç°ç±»ï¼Œä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®</li>
<li>ä¿æŒæ¥å£ä¸å˜ï¼Œä¸å½±å“ä¸Šå±‚è°ƒç”¨</li>
<li>å‰ç«¯ç»„ä»¶æ— éœ€ä»»ä½•ä¿®æ”¹</li>
</ol>
<h2 data-id="heading-41">å…­ã€å®æ–½è·¯å¾„è§„åˆ’ï¼šä»è®¾è®¡åˆ°ä»£ç çš„å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-42">6.1 è®¾è®¡ç¨¿è§£æä¸ç»“æ„åŒ–æå–</h3>
<p>å®æ–½ OODER å›¾ç”Ÿä»£ç çš„ç¬¬ä¸€æ­¥æ˜¯å°†è®¾è®¡ç¨¿è½¬æ¢ä¸ºæœºå™¨å¯ç†è§£çš„ç»“æ„åŒ–æ•°æ®ã€‚OODER æä¾›äº†onecode design-parseå·¥å…·ï¼Œä¸“é—¨ç”¨äºå°† Figma è®¾è®¡ç¨¿è½¬æ¢ä¸ºåŒ…å« "æ¨¡å—ä½ç½®ã€å°ºå¯¸ã€æ ·å¼ã€äº¤äº’äº‹ä»¶" çš„ JSON æ–‡ä»¶ã€‚</p>
<p><strong>è§£ææµç¨‹è¯¦è§£</strong>ï¼š</p>
<ol>
<li><strong>è®¾è®¡ç¨¿å¯¼å…¥</strong>ï¼šæ”¯æŒ Figma è®¾è®¡ç¨¿çš„ç›´æ¥å¯¼å…¥ï¼Œè‡ªåŠ¨è¯†åˆ«å›¾å±‚ç»“æ„</li>
<li><strong>å›¾å±‚åˆ†æ</strong>ï¼šåˆ†ææ¯ä¸ªå›¾å±‚çš„ç±»å‹ï¼ˆæ–‡æœ¬ã€å½¢çŠ¶ã€å›¾ç‰‡ç­‰ï¼‰ã€ä½ç½®ã€å°ºå¯¸</li>
<li><strong>æ ·å¼æå–</strong>ï¼šæå–é¢œè‰²ã€å­—ä½“ã€è¾¹æ¡†ã€é˜´å½±ç­‰è§†è§‰æ ·å¼ä¿¡æ¯</li>
<li><strong>äº¤äº’è¯†åˆ«</strong>ï¼šè¯†åˆ«æŒ‰é’®ç‚¹å‡»ã€é“¾æ¥è·³è½¬ã€åŠ¨ç”»æ•ˆæœç­‰äº¤äº’è¡Œä¸º</li>
<li><strong>ç»“æ„åŒ–è¾“å‡º</strong>ï¼šç”Ÿæˆæ ‡å‡†çš„ JSON æ ¼å¼é…ç½®æ–‡ä»¶</li>
</ol>
<p><strong>è‹±é›„åŒºè§£æç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"module"</span>: <span class="hljs-string">"Hero"</span>,
  <span class="hljs-string">"style"</span>: {
    <span class="hljs-string">"background"</span>: <span class="hljs-string">"linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%)"</span>,
    <span class="hljs-string">"height"</span>: <span class="hljs-string">"600px"</span>,
    <span class="hljs-string">"color"</span>: <span class="hljs-string">"#fff"</span>
  },
  <span class="hljs-string">"children"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"HeroTitle"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"OODERå…¨æ ˆæ¡†æ¶"</span>,
      <span class="hljs-string">"fontSize"</span>: <span class="hljs-number">48</span>,
      <span class="hljs-string">"position"</span>: { <span class="hljs-string">"x"</span>: <span class="hljs-string">"50%"</span>, <span class="hljs-string">"y"</span>: <span class="hljs-string">"40%"</span> }
    },
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"HeroBtn"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"button"</span>, 
      <span class="hljs-string">"api"</span>: <span class="hljs-string">"/api/ooder/demo-link"</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç«‹å³ä½“éªŒ"</span>
    }
  ]
}
</code></pre>
<h3 data-id="heading-43">6.2 AI æ¨¡å‹è®­ç»ƒä¸èƒ½åŠ›åˆå§‹åŒ–</h3>
<p>ä¸ºäº†è®© AI å·¥å…·ï¼ˆå¦‚ Soloï¼‰èƒ½å¤Ÿç†è§£ OODER æ¡†æ¶çš„è§„èŒƒï¼Œéœ€è¦è¿›è¡Œä¸“é—¨çš„è®­ç»ƒï¼š</p>
<p><strong>è®­ç»ƒæ•°æ®å‡†å¤‡</strong>ï¼š</p>
<ol>
<li><strong>OODER ç»„ä»¶åº“æ–‡æ¡£</strong>ï¼šé‡ç‚¹æ ‡æ³¨@Componentæ³¨è§£ç”¨æ³•åŠMenuBarã€Layoutã€Galleryç­‰é«˜é¢‘ç»„ä»¶</li>
<li><strong>è®¾è®¡ç¨¿è§£æè§„èŒƒ</strong>ï¼šæä¾›è®¾è®¡ç¨¿è§£æåçš„ JSON æ ¼å¼è§„èŒƒç¤ºä¾‹</li>
<li><strong>æ³¨è§£å¯¹æ¥ç¤ºä¾‹</strong>ï¼šæä¾›ç»„ä»¶ä¸å…¨æ ˆæ¥å£é€šè¿‡æ³¨è§£å¯¹æ¥çš„å®Œæ•´ç¤ºä¾‹ä»£ç </li>
</ol>
<p><strong>è®­ç»ƒæç¤ºè¯è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">åŸºäº<span class="hljs-variable constant_">OODER</span>å…¨æ ˆæ¡†æ¶v1<span class="hljs-number">.8</span><span class="hljs-number">.0</span>ï¼Œä»¥æä¾›çš„è®¾è®¡ç¨¿<span class="hljs-title class_">JSON</span>ä¸ºä¾æ®ï¼Œç”Ÿæˆæ³¨è§£å¼ç»„ä»¶åŒ–ä»£ç ã€‚è¦æ±‚ï¼š
<span class="hljs-number">1.</span> æ‰€æœ‰æ¨¡å—ä½¿ç”¨<span class="hljs-variable constant_">OODER</span>åŸç”Ÿç»„ä»¶å¹¶æ·»åŠ @<span class="hljs-title class_">Component</span>æ³¨è§£ï¼Œå¦‚å¯¼èˆªç”¨<span class="hljs-title class_">MenuBar</span>ã€å¸ƒå±€ç”¨<span class="hljs-title class_">Layout</span>
<span class="hljs-number">2.</span> ç»„ä»¶éœ€é€šè¿‡@<span class="hljs-title class_">Style</span>æ³¨è§£é…ç½®æ ·å¼ï¼Œé€šè¿‡@<span class="hljs-title class_">EventBind</span>æ³¨è§£ç»‘å®šäº‹ä»¶ï¼Œä¸è®¾è®¡ç¨¿ä¸€è‡´
<span class="hljs-number">3.</span> åç«¯æ¥å£é€šè¿‡@<span class="hljs-title class_">ApiBind</span>æ³¨è§£æ ‡è¯†ï¼Œæ˜ç¡®urlä¸è¯·æ±‚æ–¹æ³•
</code></pre>
<p><strong>è®­ç»ƒæ•ˆæœéªŒè¯</strong>ï¼š</p>
<p>é€šè¿‡å¤šè½®è¿­ä»£è®­ç»ƒï¼ŒAI ç”Ÿæˆä»£ç çš„å‡†ç¡®æ€§é€æ­¥æå‡ï¼š</p>
<ul>
<li>ç¬¬ä¸€è½®ï¼šåŸºç¡€ç»„ä»¶è¯†åˆ«å‡†ç¡®ç‡ 60%</li>
<li>ç¬¬äºŒè½®ï¼šåŠ å…¥æ³¨è§£è§„èŒƒåæå‡è‡³ 80%</li>
<li>ç¬¬ä¸‰è½®ï¼šé’ˆå¯¹ç‰¹å®šç»„ä»¶ç±»å‹ä¼˜åŒ–åè¾¾åˆ° 95%</li>
<li>æœ€ç»ˆç‰ˆæœ¬ï¼šé€šè¿‡æŒç»­ä¼˜åŒ–è¾¾åˆ° 98% ä»¥ä¸Šå‡†ç¡®ç‡</li>
</ul>
<h3 data-id="heading-44">6.3 æ ‘å½¢ç»„ä»¶åŒ–æ‹†åˆ†ç­–ç•¥</h3>
<p>ç»„ä»¶åŒ–æ‹†åˆ†æ˜¯å°†è®¾è®¡ç¨¿è½¬æ¢ä¸ºå¯ç»´æŠ¤ä»£ç çš„å…³é”®æ­¥éª¤ã€‚OODER é‡‡ç”¨æ ‘å½¢ç»“æ„ç»„ç»‡ç»„ä»¶ï¼Œç¡®ä¿ç»“æ„æ¸…æ™°ä¸”æ˜“äºç®¡ç†ã€‚</p>
<p><strong>æ‹†åˆ†åŸåˆ™</strong>ï¼š</p>
<ol>
<li><strong>åŸå­æ€§åŸåˆ™</strong>ï¼šåŸºç¡€ç»„ä»¶ï¼ˆæŒ‰é’®ã€æ–‡æœ¬ã€å›¾æ ‡ï¼‰ä¸å¯å†æ‹†åˆ†</li>
<li><strong>åŠŸèƒ½æ€§åŸåˆ™</strong>ï¼šç›¸å…³åŠŸèƒ½ç»„åˆæˆä¸€ä¸ªç»„ä»¶ç»„</li>
<li><strong>å¯å¤ç”¨æ€§åŸåˆ™</strong>ï¼šé€šç”¨ç»„ä»¶ç‹¬ç«‹å°è£…ï¼Œä¾¿äºå¤ç”¨</li>
<li><strong>å±‚æ¬¡åŒ–åŸåˆ™</strong>ï¼šæŒ‰ç…§è§†è§‰å±‚çº§ç»„ç»‡ç»„ä»¶æ ‘</li>
</ol>
<p><strong>Hero åŒºç»„ä»¶æ ‘è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">PageContainer</span>ï¼ˆæ ¹å®¹å™¨ï¼Œ@<span class="hljs-title class_">Theme</span>ç»‘ä¸»é¢˜ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">ApiContainer</span>ï¼ˆç®¡æ¥å£ï¼Œ@<span class="hljs-title class_">ApiGroup</span>èšåˆï¼‰
â”‚   â”œâ”€â”€ navApiï¼ˆ@<span class="hljs-title class_">ApiBind</span> å¯¼èˆªæ¥å£ï¼‰
â”‚   â””â”€â”€ contactApiï¼ˆ@<span class="hljs-title class_">ApiBind</span> è¡¨å•æ¥å£ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">Navbar</span>ï¼ˆå¯¼èˆªæ ï¼Œ@<span class="hljs-title class_">ApiLink</span>è¿æ¥å£ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">Hero</span>ï¼ˆè‹±é›„åŒºï¼Œå¸¦<span class="hljs-variable constant_">SVG</span>åŠ¨ç”»ï¼‰
â”‚   â”œâ”€â”€ <span class="hljs-title class_">HeroSvgPaper</span>ï¼ˆ<span class="hljs-variable constant_">SVG</span>ç”»æ¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-title class_">HeroTitleSvg</span>ï¼ˆæ ‡é¢˜æ–‡æœ¬ï¼‰
â”‚   â”‚   â””â”€â”€ <span class="hljs-title class_">HeroDescSvg</span>ï¼ˆæè¿°æ–‡æœ¬ï¼‰
â”‚   â””â”€â”€ <span class="hljs-title class_">HeroBtn</span>ï¼ˆç«‹å³ä½“éªŒæŒ‰é’®ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">Features</span>ï¼ˆåŠŸèƒ½ä»‹ç»ï¼Œ<span class="hljs-title class_">Gallery</span>ç»„ä»¶ï¼‰
â””â”€â”€ <span class="hljs-title class_">Contact</span>ï¼ˆè”ç³»è¡¨å•ï¼Œ@<span class="hljs-title class_">FormValidate</span>æ ¡éªŒï¼‰
</code></pre>
<h3 data-id="heading-45">6.4 æ ·å¼åå·®ä¿®å¤ä¸ä¼˜åŒ–</h3>
<p>åœ¨å°†è®¾è®¡ç¨¿è½¬æ¢ä¸º OODER ç»„ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šå‡ºç°æ ·å¼åå·®ï¼Œéœ€è¦è¿›è¡Œç³»ç»Ÿæ€§çš„ä¿®å¤ï¼š</p>
<p><strong>å¸¸è§åå·®ç±»å‹åŠè§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>å®šä½å¤±æ•ˆé—®é¢˜</strong>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šå¯¼èˆªæ å›ºå®šå®šä½å¤±æ•ˆï¼Œè¢«å…¶ä»–å…ƒç´ è¦†ç›–</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ setPosition("fixed")æ—¶ï¼Œå¿…é¡»åŒæ­¥è°ƒç”¨setZIndex(1000)é¿å…å±‚çº§å†²çª</li>
</ul>
</li>
<li><strong>èƒŒæ™¯æ˜¾ç¤ºå¼‚å¸¸</strong>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šæ¸å˜èƒŒæ™¯ã€å›¾ç‰‡èƒŒæ™¯æ˜¾ç¤ºä¸æ­£ç¡®</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæ¸å˜ã€å›¾ç‰‡èƒŒæ™¯éœ€é€šè¿‡@Styleæ³¨è§£çš„backgroundå±æ€§é…ç½®ï¼Œè€Œéç»„ä»¶çš„setBackgroundæ–¹æ³•</li>
</ul>
</li>
<li><strong>é—´è·å¸ƒå±€é—®é¢˜</strong>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šGallery ç»„ä»¶é—´è·ä¸è®¾è®¡ç¨¿ä¸ç¬¦</li>
<li>è§£å†³æ–¹æ¡ˆï¼šGallery ç»„ä»¶çš„å­é¡¹é—´è·é€šè¿‡@Style(itemSpacing = "20px")é…ç½®ï¼Œè€Œéå¤–å±‚ margin</li>
</ul>
</li>
</ol>
<p><strong>æ ·å¼ä¼˜å…ˆçº§è§„åˆ™</strong>ï¼š</p>
<p>OODER æ¡†æ¶å®šä¹‰äº†æ¸…æ™°çš„æ ·å¼ä¼˜å…ˆçº§ï¼š</p>
<ol>
<li>RAD è®¾è®¡å™¨é…ç½®ï¼ˆè‡ªåŠ¨åŒæ­¥è‡³æ³¨è§£ï¼‰</li>
<li>@Styleæ³¨è§£é…ç½®</li>
<li>ç»„ä»¶é»˜è®¤æ ·å¼</li>
<li>@Themeå…¨å±€ä¸»é¢˜</li>
</ol>
<p>é€šè¿‡éµå¾ªè¿™äº›è§„åˆ™ï¼Œæ ·å¼åå·®ç‡å¯ä»åˆå§‹çš„ 40% é™è‡³ 10% ä»¥ä¸‹ã€‚</p>
<h3 data-id="heading-46">6.5 å…¨æ ˆèƒ½åŠ›é›†æˆæµç¨‹</h3>
<p>OODER çš„å…¨æ ˆé›†æˆèƒ½åŠ›æ˜¯å…¶æ ¸å¿ƒç«äº‰åŠ›ï¼Œé€šè¿‡ç®€å•çš„æ³¨è§£é…ç½®å³å¯å®ç°å‰ç«¯ä¸åç«¯çš„æ— ç¼è¡”æ¥ï¼š</p>
<p><strong>åç«¯æ¥å£è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼š</p>
<p>ä½¿ç”¨ooder api-genå‘½ä»¤ï¼Œæ ¹æ®å‰ç«¯ç»„ä»¶çš„@ApiBindæ³¨è§£é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆå«@Apiã€@RequestParamç­‰åç«¯æ³¨è§£çš„æ¥å£æ¨¡æ¿ï¼Œæ”¯æŒ Node.js å’Œ Java ä¸¤ç§è¯­è¨€ã€‚</p>
<p><strong>Java æ¥å£ç”Ÿæˆç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Api</span>(<span class="hljs-variable language_">module</span> = <span class="hljs-string">"ooder"</span>, path = <span class="hljs-string">"/api/ooder"</span>)
public <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContactApi</span> {
    
    @<span class="hljs-title class_">ApiPost</span>(path = <span class="hljs-string">"/contact"</span>, description = <span class="hljs-string">"è”ç³»è¡¨å•æäº¤æ¥å£"</span>)
    public <span class="hljs-title class_">Response</span> <span class="hljs-title function_">submit</span>(<span class="hljs-params">
        @RequestParam(name = <span class="hljs-string">"name"</span>, required = <span class="hljs-literal">true</span>, message = <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©º"</span>) <span class="hljs-built_in">String</span> name,
        @RequestParam(name = <span class="hljs-string">"email"</span>, required = <span class="hljs-literal">true</span>) 
        @Validate(rule = <span class="hljs-string">"email"</span>, message = <span class="hljs-string">"é‚®ç®±æ ¼å¼é”™è¯¯"</span>) <span class="hljs-built_in">String</span> email,
        @RequestParam(name = <span class="hljs-string">"message"</span>, required = <span class="hljs-literal">true</span>) <span class="hljs-built_in">String</span> message
    </span>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å®ç°</span>
    }
}
</code></pre>
<p><strong>å‰ç«¯ç»„ä»¶æ•°æ®ç»‘å®š</strong>ï¼š</p>
<p>é€šè¿‡@DataMappingæ³¨è§£å®ç°æ•°æ®çš„è‡ªåŠ¨æ˜ å°„å’Œæ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> featuresGallery = ood.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ood.UI.Gallery"</span>)
    .<span class="hljs-title function_">setId</span>(<span class="hljs-string">"featuresContent"</span>)
    .<span class="hljs-title function_">setColumns</span>(<span class="hljs-number">3</span>)
    .<span class="hljs-title function_">setApi</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">"/api/ooder/features"</span>,
        <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>,
        <span class="hljs-attr">dataMapping</span>: <span class="hljs-function">(<span class="hljs-params">apiData</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> apiData.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
                <span class="hljs-attr">id</span>: <span class="hljs-string">`feature_<span class="hljs-subst">${item.id}</span>`</span>,
                <span class="hljs-attr">caption</span>: item.<span class="hljs-property">name</span>,
                <span class="hljs-attr">description</span>: item.<span class="hljs-property">desc</span>,
                <span class="hljs-attr">iconClass</span>: item.<span class="hljs-property">icon</span>,
                <span class="hljs-attr">itemStyle</span>: <span class="hljs-string">`color: <span class="hljs-subst">${item.color}</span>;`</span>
            }));
        }
    });
</code></pre>
<h3 data-id="heading-47">6.6 å¯è§†åŒ–ç®¡ç†ä¸éƒ¨ç½²</h3>
<p>å®Œæˆå…¨æ ˆé›†æˆåï¼ŒOODER æä¾›äº†å¼ºå¤§çš„å¯è§†åŒ–ç®¡ç†èƒ½åŠ›ï¼š</p>
<p><strong>RAD è®¾è®¡å™¨é›†æˆ</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰ç»„ä»¶çš„å±æ€§å¯é€šè¿‡è®¾è®¡å™¨ç›´æ¥ä¿®æ”¹</li>
<li>@Styleæ³¨è§£æ ·å¼å®æ—¶é¢„è§ˆå’Œè°ƒæ•´</li>
<li>@ApiBindæ¥å£ç»‘å®šå¯è§†åŒ–é…ç½®</li>
<li>ä¿®æ”¹åè‡ªåŠ¨åŒæ­¥è‡³æ³¨è§£ä»£ç </li>
</ul>
<p><strong>ä¸€é”®éƒ¨ç½²æµç¨‹</strong>ï¼š</p>
<p>ä½¿ç”¨onecode deployå‘½ä»¤å¯å®ç°ä¸€é”®éƒ¨ç½²è‡³ç”Ÿäº§ç¯å¢ƒï¼š</p>
<ol>
<li>ä»£ç æ‰“åŒ…ï¼šè‡ªåŠ¨ç¼–è¯‘ã€æ‰“åŒ…é¡¹ç›®</li>
<li>ç¯å¢ƒæ£€æµ‹ï¼šæ£€æŸ¥æœåŠ¡å™¨ç¯å¢ƒé…ç½®</li>
<li>ä¾èµ–å®‰è£…ï¼šè‡ªåŠ¨å®‰è£…æ‰€éœ€ä¾èµ–</li>
<li>æœåŠ¡éƒ¨ç½²ï¼šå¯åŠ¨åº”ç”¨æœåŠ¡</li>
<li>å¥åº·æ£€æŸ¥ï¼šéªŒè¯æœåŠ¡è¿è¡ŒçŠ¶æ€</li>
</ol>
<h2 data-id="heading-48">ä¸ƒã€æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆåˆ†æ</h2>
<h3 data-id="heading-49">7.1 å›¾ç”Ÿä»£ç æŠ€æœ¯çš„å›ºæœ‰æŒ‘æˆ˜</h3>
<p>OODER æ¡†æ¶åœ¨å®æ–½è¿‡ç¨‹ä¸­é¢ä¸´ç€å›¾ç”Ÿä»£ç æŠ€æœ¯çš„ä¸€äº›å›ºæœ‰æŒ‘æˆ˜ï¼Œè¿™äº›æŒ‘æˆ˜æºäºè®¾è®¡ç¨¿åˆ°ä»£ç è½¬æ¢çš„å¤æ‚æ€§ï¼š</p>
<p><strong>è§†è§‰è¿˜åŸåº¦æŒ‘æˆ˜</strong>ï¼š</p>
<p>å°½ç®¡ OODER é€šè¿‡ "è®¾è®¡ç¨¿ç»“æ„åŒ–è§£æ + ç»„ä»¶æ ·å¼è§„åˆ™ + AI äºŒæ¬¡è®­ç»ƒ" çš„ä¸‰é‡ä¿éšœï¼Œå°†æ ·å¼è¿˜åŸåº¦ä»åˆå§‹çš„ 60% æå‡è‡³ 95%ï¼Œä½†ä»å­˜åœ¨ä¸€äº›éš¾ä»¥å®Œå…¨è§£å†³çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>å¤æ‚æ¸å˜æ•ˆæœçš„ç²¾ç¡®åŒ¹é…</li>
<li>ç‰¹æ®Šå­—ä½“å’Œå›¾æ ‡å­—ä½“çš„è¯†åˆ«</li>
<li>å¾®å¦™çš„è§†è§‰ç»†èŠ‚ï¼ˆå¦‚é˜´å½±ã€é€æ˜åº¦ï¼‰</li>
</ul>
<p><strong>äº¤äº’é€»è¾‘ç†è§£å›°éš¾</strong>ï¼š</p>
<p>è®¾è®¡ç¨¿é€šå¸¸åªè¡¨è¾¾é™æ€è§†è§‰ä¿¡æ¯ï¼Œå¯¹äºå¤æ‚çš„äº¤äº’é€»è¾‘ï¼ˆå¦‚æ‹–æ‹½æ’åºã€å®æ—¶æœç´¢ã€åŠ¨ç”»è¿‡æ¸¡ï¼‰ç¼ºä¹æ˜ç¡®çš„è¡¨è¾¾æ–¹å¼ã€‚OODER é€šè¿‡ä»¥ä¸‹æ–¹å¼éƒ¨åˆ†è§£å†³ï¼š</p>
<ul>
<li>å»ºç«‹äº¤äº’æ¨¡å¼åº“ï¼Œä¸ºå¸¸è§äº¤äº’å®šä¹‰æ ‡å‡†é…ç½®</li>
<li>é€šè¿‡ AI æ¨¡å‹å­¦ä¹ è®¾è®¡ç¨¿ä¸­çš„äº¤äº’æš—ç¤º</li>
<li>æä¾›äº¤äº’é…ç½®é¢æ¿ï¼Œå…è®¸äººå·¥è¡¥å……äº¤äº’é€»è¾‘</li>
</ul>
<p><strong>å“åº”å¼é€‚é…å¤æ‚æ€§</strong>ï¼š</p>
<p>ç°ä»£ Web åº”ç”¨éœ€è¦é€‚é…å¤šç§è®¾å¤‡å°ºå¯¸ï¼Œè¿™ç»™å›¾ç”Ÿä»£ç å¸¦æ¥é¢å¤–æŒ‘æˆ˜ï¼š</p>
<ul>
<li>æ–­ç‚¹è®¾è®¡çš„è‡ªåŠ¨è¯†åˆ«å’Œåº”ç”¨</li>
<li>ä¸åŒå°ºå¯¸ä¸‹çš„å¸ƒå±€é‡ç»„é€»è¾‘</li>
<li>å›¾ç‰‡å’Œå­—ä½“çš„è‡ªé€‚åº”ç­–ç•¥</li>
</ul>
<h3 data-id="heading-50">7.2 æ³¨è§£é©±åŠ¨æ¶æ„çš„æŠ€æœ¯ç“¶é¢ˆ</h3>
<p>è™½ç„¶ OODER çš„æ³¨è§£é©±åŠ¨æœºåˆ¶å¸¦æ¥äº†è¯¸å¤šä¼˜åŠ¿ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›æŠ€æœ¯ç“¶é¢ˆï¼š</p>
<p><strong>æ³¨è§£é…ç½®å¤æ‚åº¦</strong>ï¼š</p>
<p>éšç€é¡¹ç›®è§„æ¨¡çš„å¢å¤§ï¼Œæ³¨è§£é…ç½®çš„å¤æ‚åº¦å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼š</p>
<ul>
<li>å¤šå±‚åµŒå¥—ç»„ä»¶çš„æ³¨è§£ç®¡ç†</li>
<li>è·¨ç»„ä»¶çš„ä¾èµ–å…³ç³»å¤„ç†</li>
<li>å¤æ‚ä¸šåŠ¡é€»è¾‘çš„æ³¨è§£è¡¨è¾¾</li>
</ul>
<p><strong>æ€§èƒ½å¼€é”€åˆ†æ</strong>ï¼š</p>
<p>åå°„æœºåˆ¶å’ŒåŠ¨æ€ä»£ç†è™½ç„¶æä¾›äº†çµæ´»æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥æ€§èƒ½å¼€é”€ï¼š</p>
<ul>
<li>ç±»åŠ è½½æ—¶çš„æ³¨è§£è§£ææ—¶é—´</li>
<li>è¿è¡Œæ—¶åå°„è°ƒç”¨çš„æ€§èƒ½æŸå¤±</li>
<li>å¤§é‡æ³¨è§£é…ç½®çš„å†…å­˜å ç”¨</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶é¢„è§£ææ‰€æœ‰æ³¨è§£ï¼Œæ„å»ºå…ƒæ•°æ®ç¼“å­˜</li>
<li><strong>åˆ†æ‰¹å¤„ç†</strong>ï¼šå°†å¤§å‹é…ç½®æ–‡ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªå°æ–‡ä»¶ï¼Œé™ä½è§£æå¤æ‚åº¦</li>
<li><strong>å¢é‡åŠ è½½</strong>ï¼šåªåŠ è½½å½“å‰é¡µé¢éœ€è¦çš„ç»„ä»¶é…ç½®</li>
<li><strong>é™æ€åˆ†æ</strong>ï¼šä½¿ç”¨é™æ€ä»£ç åˆ†æå·¥å…·ä¼˜åŒ–æ³¨è§£é…ç½®</li>
</ol>
<h3 data-id="heading-51">7.3 å…¨æ ˆé›†æˆçš„å…¼å®¹æ€§é—®é¢˜</h3>
<p>OODER çš„å…¨æ ˆé›†æˆè™½ç„¶å¼ºå¤§ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ä»é¢ä¸´ä¸€äº›å…¼å®¹æ€§æŒ‘æˆ˜ï¼š</p>
<p><strong>å‰åç«¯æ•°æ®æ ¼å¼åŒ¹é…</strong>ï¼š</p>
<p>é—®é¢˜è¡¨ç°ï¼šå‰ç«¯ç»„ä»¶æœŸæœ›çš„æ•°æ®æ ¼å¼ä¸åç«¯æ¥å£è¿”å›çš„æ•°æ®æ ¼å¼ä¸ä¸€è‡´ï¼Œå¯¼è‡´æ¸²æŸ“å¤±è´¥ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>å®šä¹‰ä¸¥æ ¼çš„æ•°æ®æ¥å£è§„èŒƒï¼Œä½¿ç”¨ Swagger ç­‰å·¥å…·è¿›è¡Œå¥‘çº¦ç®¡ç†</li>
<li>å®ç°è‡ªåŠ¨æ•°æ®è½¬æ¢æœºåˆ¶ï¼Œæ”¯æŒå¸¸è§æ•°æ®ç±»å‹çš„è‡ªåŠ¨æ˜ å°„</li>
<li>æä¾›æ•°æ®éªŒè¯æœºåˆ¶ï¼Œåœ¨æ¥å£è°ƒç”¨å‰è¿›è¡Œæ ¼å¼æ ¡éªŒ</li>
</ol>
<p><strong>è·¨åŸŸè®¿é—®é—®é¢˜</strong>ï¼š</p>
<p>é—®é¢˜è¡¨ç°ï¼šæœ¬åœ°å¼€å‘æ—¶ç»„ä»¶æ­£å¸¸è¯·æ±‚æ•°æ®ï¼Œéƒ¨ç½²åå‡ºç°è·¨åŸŸé”™è¯¯ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>è®­ç»ƒ AI åœ¨setApiä¸­æ·»åŠ withCredentials: trueé…ç½®</li>
<li>æ¡†æ¶è‡ªåŠ¨å¯ç”¨ CORS è·¨åŸŸæ”¯æŒï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®æœåŠ¡å™¨</li>
<li>æä¾›ç»Ÿä¸€çš„è·¨åŸŸå¤„ç†ä¸­é—´ä»¶</li>
</ol>
<p><strong>æ•°æ®åº“å…¼å®¹æ€§</strong>ï¼š</p>
<p>è™½ç„¶ FeaturesContent æ¡ˆä¾‹ä½¿ç”¨æšä¸¾æ•°æ®æ¨¡å‹ï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­å¸¸éœ€è¦ä¸å„ç§æ•°æ®åº“äº¤äº’ï¼š</p>
<ul>
<li>ä¸åŒæ•°æ®åº“æ–¹è¨€çš„ SQL è¯­æ³•å·®å¼‚</li>
<li>æ•°æ®åº“è¿æ¥æ± çš„é…ç½®å’Œç®¡ç†</li>
<li>äº‹åŠ¡å¤„ç†å’Œæ•°æ®ä¸€è‡´æ€§ä¿è¯</li>
</ul>
<h3 data-id="heading-52">7.4 å›¢é˜Ÿåä½œä¸çŸ¥è¯†è½¬ç§»æŒ‘æˆ˜</h3>
<p>OODER æ¡†æ¶çš„æˆåŠŸå®æ–½ä¸ä»…ä¾èµ–æŠ€æœ¯æœ¬èº«ï¼Œè¿˜é¢ä¸´å›¢é˜Ÿåä½œæ–¹é¢çš„æŒ‘æˆ˜ï¼š</p>
<p><strong>æŠ€æœ¯æ ˆå­¦ä¹ æˆæœ¬</strong>ï¼š</p>
<ul>
<li>è®¾è®¡å¸ˆéœ€è¦ç†è§£ç»„ä»¶åŒ–å’Œæ³¨è§£æ¦‚å¿µ</li>
<li>å‰ç«¯å¼€å‘äººå‘˜éœ€è¦æŒæ¡æ–°çš„æ¡†æ¶ç‰¹æ€§</li>
<li>åç«¯å¼€å‘äººå‘˜éœ€è¦é€‚åº”æ–°çš„æ¥å£è§„èŒƒ</li>
<li>æµ‹è¯•äººå‘˜éœ€è¦äº†è§£è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶</li>
</ul>
<p><strong>çŸ¥è¯†è½¬ç§»æœºåˆ¶</strong>ï¼š</p>
<p>ä¸ºè§£å†³çŸ¥è¯†è½¬ç§»é—®é¢˜ï¼Œå»ºè®®å»ºç«‹ä»¥ä¸‹æœºåˆ¶ï¼š</p>
<ol>
<li><strong>æ ‡å‡†åŒ–æ–‡æ¡£</strong>ï¼šä¸ºæ¯ä¸ªç»„ä»¶ç¼–å†™è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£</li>
<li><strong>åŸ¹è®­ä½“ç³»</strong>ï¼šå®šæœŸç»„ç»‡æŠ€æœ¯åŸ¹è®­å’Œåˆ†äº«ä¼š</li>
<li><strong>æœ€ä½³å®è·µåº“</strong>ï¼šæ”¶é›†å’Œæ•´ç†æˆåŠŸæ¡ˆä¾‹</li>
<li><strong>ä»£ç å®¡æŸ¥æœºåˆ¶</strong>ï¼šé€šè¿‡ä»£ç å®¡æŸ¥ä¼ æ’­æœ€ä½³å®è·µ</li>
</ol>
<h3 data-id="heading-53">7.5 æ‰©å±•æ€§ä¸ç»´æŠ¤æ€§æŒ‘æˆ˜</h3>
<p>éšç€é¡¹ç›®çš„æ¼”è¿›ï¼Œç³»ç»Ÿçš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§é¢ä¸´è€ƒéªŒï¼š</p>
<p><strong>ç»„ä»¶åº“ç®¡ç†</strong>ï¼š</p>
<ul>
<li>å¦‚ä½•ç»„ç»‡å’Œç®¡ç†å¤§é‡çš„è‡ªå®šä¹‰ç»„ä»¶</li>
<li>å¦‚ä½•å¤„ç†ç»„ä»¶ç‰ˆæœ¬å…¼å®¹æ€§</li>
<li>å¦‚ä½•å®ç°ç»„ä»¶çš„è·¨é¡¹ç›®å¤ç”¨</li>
</ul>
<p><strong>é…ç½®ç®¡ç†ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>ç¯å¢ƒé…ç½®çš„å·®å¼‚åŒ–ç®¡ç†ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰</li>
<li>é…ç½®å˜æ›´çš„ç‰ˆæœ¬æ§åˆ¶</li>
<li>é…ç½®å†²çªçš„è‡ªåŠ¨æ£€æµ‹å’Œè§£å†³</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆæ¶æ„</strong>ï¼š</p>
<ol>
<li><strong>ç»„ä»¶åŒ–æ¶æ„</strong>ï¼šå°†ç³»ç»Ÿæ‹†åˆ†ä¸ºç‹¬ç«‹çš„ç»„ä»¶æ¨¡å—</li>
<li><strong>å¾®æœåŠ¡è®¾è®¡</strong>ï¼šå°†å¤æ‚ä¸šåŠ¡æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å¾®æœåŠ¡</li>
<li><strong>é…ç½®ä¸­å¿ƒ</strong>ï¼šå»ºç«‹ç»Ÿä¸€çš„é…ç½®ç®¡ç†å¹³å°</li>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ï¼šå»ºç«‹å®Œå–„çš„è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»</li>
</ol>
<h3 data-id="heading-54">7.6 æœªæ¥å‘å±•è¶‹åŠ¿ä¸åº”å¯¹ç­–ç•¥</h3>
<p>é¢å¯¹å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯ç¯å¢ƒï¼ŒOODER æ¡†æ¶éœ€è¦æŒç»­æ¼”è¿›ä»¥ä¿æŒç«äº‰åŠ›ï¼š</p>
<p><strong>AI æŠ€æœ¯èåˆè¶‹åŠ¿</strong>ï¼š</p>
<ul>
<li>è®¾è®¡ç¨¿æ™ºèƒ½è¯†åˆ«ç»„ä»¶ç±»å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”æ³¨è§£</li>
<li>åŸºäºç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼ŒAI è‡ªåŠ¨ä¼˜åŒ–@ApiBindæ³¨è§£çš„æ¥å£è¯·æ±‚ç­–ç•¥</li>
<li>å¤šç«¯ç»„ä»¶è‡ªåŠ¨ç”Ÿæˆï¼Œä»åŒä¸€è®¾è®¡ç¨¿åŒæ­¥è¾“å‡º PC ç«¯ã€ç§»åŠ¨ç«¯ã€å°ç¨‹åºç«¯ç»„ä»¶ä»£ç </li>
</ul>
<p><strong>æŠ€æœ¯æ ˆæ¼”è¿›æ–¹å‘</strong>ï¼š</p>
<ol>
<li><strong>WebAssembly é›†æˆ</strong>ï¼šæå‡å…³é”®ç»„ä»¶çš„æ‰§è¡Œæ€§èƒ½</li>
<li><strong>è¾¹ç¼˜è®¡ç®—æ”¯æŒ</strong>ï¼šæ”¯æŒåœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šè¿è¡Œ</li>
<li><strong>äº‘åŸç”Ÿæ¶æ„</strong>ï¼šå…¨é¢æ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²</li>
<li><strong>Serverless é›†æˆ</strong>ï¼šä¸ Serverless æ¶æ„æ·±åº¦èåˆ</li>
</ol>
<p><strong>åº”å¯¹ç­–ç•¥å»ºè®®</strong>ï¼š</p>
<ol>
<li>å»ºç«‹æŠ€æœ¯é¢„ç ”æœºåˆ¶ï¼ŒæŒç»­å…³æ³¨æ–°æŠ€æœ¯å‘å±•</li>
<li>ä¿æŒæ¶æ„çš„å¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§</li>
<li>å»ºç«‹æŠ€æœ¯ç¤¾åŒºï¼Œä¿ƒè¿›ç»éªŒåˆ†äº«å’Œæœ€ä½³å®è·µä¼ æ’­</li>
<li>åˆ¶å®šé•¿æœŸæŠ€æœ¯è·¯çº¿å›¾ï¼Œç¡®ä¿æŠ€æœ¯å‘å±•çš„è¿ç»­æ€§</li>
</ol>
<h2 data-id="heading-55">å…«ã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-56">8.1 æ ¸å¿ƒæŠ€æœ¯ä»·å€¼æ€»ç»“</h3>
<p>é€šè¿‡å¯¹ OODER å›¾ç”Ÿä»£ç æ¡†æ¶çš„å…¨é¢è§£æï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°å…¶åœ¨ç°ä»£ Web å¼€å‘ä¸­çš„é©å‘½æ€§ä»·å€¼ã€‚OODER ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå·¥å…·ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„å…¨æ ˆå¼€å‘å¹³å°ï¼Œå®ƒé€šè¿‡åˆ›æ–°çš„æ³¨è§£é©±åŠ¨æœºåˆ¶å®ç°äº†è®¾è®¡ä¸å¼€å‘çš„æ— ç¼è¡”æ¥ã€‚</p>
<p><strong>æŠ€æœ¯åˆ›æ–°ç‚¹æ€»ç»“</strong>ï¼š</p>
<ol>
<li><strong>ä¸‰å±‚æ¶æ„è®¾è®¡</strong>ï¼šOOD çš„æ¶æ„åˆ†ä¸º "å¯è§†åŒ–ç•Œé¢å±‚"" é€»è¾‘å¤„ç†å±‚ ""æ•°æ®å­˜å‚¨å±‚"ï¼Œæ¯å±‚èŒè´£æ¸…æ™°ï¼ŒAI å’Œå·¥å…·åªéœ€å¯¹æ¥å¯¹åº”å±‚çº§ï¼Œæ— éœ€ç†è§£å…¨æ ˆé€»è¾‘ã€‚è¿™ç§è®¾è®¡å¤§å¤§é™ä½äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>"å››ç»Ÿä¸€" è§„èŒƒ</strong>ï¼šæ ·å¼ã€æ¨¡æ¿ã€è¡Œä¸ºã€æ•°æ®çš„å®Œå…¨åˆ†ç¦»ï¼Œä¸“é—¨ä¸º AI è®¾è®¡çš„ "ç†è§£è§„çŸ©"ï¼Œä½¿ AI çš„è§£ææ­£ç¡®ç‡ä»ä¼ ç»Ÿæ¡†æ¶çš„ 85% æå‡åˆ° 98%ã€‚</li>
<li><strong>æ³¨è§£é©±åŠ¨æœºåˆ¶</strong>ï¼šé€šè¿‡ Java æ³¨è§£å®ç°å‰ç«¯ç»„ä»¶ä¸åç«¯æœåŠ¡çš„æ— ç¼è¡”æ¥ï¼Œå¼€å‘æ•ˆç‡æå‡ 60% ä»¥ä¸Šï¼Œä»£ç å¤ç”¨ç‡ä» 20% æå‡è‡³ 80%ã€‚</li>
<li><strong>å®Œæ•´çš„ SVG ç»„ä»¶ä½“ç³»</strong>ï¼šæä¾›äº†ä»ç”»æ¿åˆ°å…ƒç´ çš„å®Œæ•´ SVG ç»„ä»¶ä½“ç³»ï¼Œæ”¯æŒå¤æ‚åŠ¨ç”»æ•ˆæœï¼Œè§†è§‰è¿˜åŸåº¦å¯è¾¾ 95% ä»¥ä¸Šã€‚</li>
<li><strong>åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹</strong>ï¼šæä¾›äº†ä¸€ç§è½»é‡çº§ã€ç±»å‹å®‰å…¨çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œç‰¹åˆ«é€‚åˆé™æ€æˆ–ä½é¢‘å˜åŠ¨çš„æ•°æ®åœºæ™¯ã€‚</li>
</ol>
<h3 data-id="heading-57">8.2 å®æˆ˜æ¡ˆä¾‹çš„æŠ€æœ¯å¯ç¤º</h3>
<p>HeroSvgPaper å’Œ FeaturesContent ä¸¤ä¸ªå®æˆ˜æ¡ˆä¾‹å……åˆ†å±•ç¤ºäº† OODER æ¡†æ¶çš„æŠ€æœ¯å®åŠ›ï¼š</p>
<p><strong>HeroSvgPaper æŠ€æœ¯äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>é€šè¿‡æ³¨è§£é…ç½®å®ç°äº†å¤æ‚ SVG åŠ¨ç”»æ•ˆæœ</li>
<li>æ”¯æŒåƒç´ çº§çš„è§†è§‰è¿˜åŸ</li>
<li>å“åº”å¼è®¾è®¡å®Œç¾é€‚é…ä¸åŒè®¾å¤‡</li>
<li>åŠ¨ç”»æ€§èƒ½ä¼˜å¼‚ï¼Œæ”¯æŒç¡¬ä»¶åŠ é€Ÿ</li>
</ul>
<p><strong>FeaturesContent æŠ€æœ¯äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸¥æ ¼çš„ MVC åˆ†å±‚æ¶æ„è®¾è®¡</li>
<li>åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹ï¼Œæ— éœ€æ•°æ®åº“ä¾èµ–</li>
<li>å…¨æ ˆæ•°æ®æµè½¬è‡ªåŠ¨åŒ–</li>
<li>æ”¯æŒå¯è§†åŒ–é…ç½®å’Œç®¡ç†</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ¡ˆä¾‹å…±åŒè¯æ˜äº† OODER æ¡†æ¶åœ¨å¤„ç†ä¸åŒç±»å‹ç»„ä»¶æ—¶çš„çµæ´»æ€§å’Œå¼ºå¤§èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-58">8.3 å®æ–½å»ºè®®ä¸æœ€ä½³å®è·µ</h3>
<p>åŸºäºæœ¬æ–‡çš„åˆ†æï¼Œä¸º OODER æ¡†æ¶çš„æˆåŠŸå®æ–½æå‡ºä»¥ä¸‹å»ºè®®ï¼š</p>
<p><strong>æŠ€æœ¯å®æ–½å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>å¾ªåºæ¸è¿›çš„å®æ–½ç­–ç•¥</strong>ï¼š
<ul>
<li>å…ˆä»ç®€å•é¡µé¢å¼€å§‹ï¼Œé€æ­¥ç†Ÿæ‚‰æ¡†æ¶ç‰¹æ€§</li>
<li>å»ºç«‹æ ‡å‡†åŒ–çš„ç»„ä»¶åº“å’Œé…ç½®è§„èŒƒ</li>
<li>é€æ­¥æ‰©å±•åˆ°å¤æ‚ä¸šåŠ¡åœºæ™¯</li>
</ul>
</li>
<li><strong>å›¢é˜ŸåŸ¹è®­ä¸çŸ¥è¯†è½¬ç§»</strong>ï¼š
<ul>
<li>ä¸ºè®¾è®¡å¸ˆæä¾›ç»„ä»¶åŒ–å’Œæ³¨è§£æ¦‚å¿µåŸ¹è®­</li>
<li>ä¸ºå¼€å‘äººå‘˜æä¾›æ¡†æ¶ä½¿ç”¨åŸ¹è®­</li>
<li>å»ºç«‹æŠ€æœ¯åˆ†äº«æœºåˆ¶ï¼Œä¿ƒè¿›çŸ¥è¯†ä¼ æ’­</li>
</ul>
</li>
<li><strong>è´¨é‡ä¿éšœä½“ç³»</strong>ï¼š
<ul>
<li>å»ºç«‹ä»£ç å®¡æŸ¥æœºåˆ¶ï¼Œç¡®ä¿è§„èŒƒéµå¾ª</li>
<li>å®Œå–„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½</li>
<li>å»ºç«‹æ€§èƒ½ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°é—®é¢˜</li>
</ul>
</li>
</ol>
<p><strong>æ¶æ„è®¾è®¡å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå°†ç³»ç»Ÿæ‹†åˆ†ä¸ºç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—åŒ…å«å®Œæ•´çš„ MVC ç»“æ„</li>
<li><strong>ç»„ä»¶åŒ–æ€ç»´</strong>ï¼šå°½å¯èƒ½å°†å¯å¤ç”¨çš„ UI å…ƒç´ å°è£…ä¸ºç»„ä»¶</li>
<li><strong>é…ç½®åŒ–ç®¡ç†</strong>ï¼šå°†å¯å˜å‚æ•°é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†ï¼Œé¿å…ç¡¬ç¼–ç </li>
</ol>
<p><strong>æ€§èƒ½ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆç†ä½¿ç”¨ç¼“å­˜ï¼Œç‰¹åˆ«æ˜¯é™æ€æ•°æ®å’Œé¢‘ç¹è®¿é—®çš„æ•°æ®</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šå¯¹äºå¤§é‡ç»„ä»¶çš„æ¸²æŸ“ï¼Œé‡‡ç”¨æ‰¹é‡å¤„ç†æ–¹å¼</li>
<li><strong>æ‡’åŠ è½½</strong>ï¼šå®ç°ç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œæé«˜åˆå§‹åŠ è½½é€Ÿåº¦</li>
</ol>
<h3 data-id="heading-59">8.4 æœªæ¥å‘å±•å±•æœ›</h3>
<p>OODER æ¡†æ¶çš„å‘å±•å‰æ™¯å¹¿é˜”ï¼Œç‰¹åˆ«æ˜¯åœ¨ AI æŠ€æœ¯å¿«é€Ÿå‘å±•çš„èƒŒæ™¯ä¸‹ï¼š</p>
<p><strong>æŠ€æœ¯å‘å±•æ–¹å‘</strong>ï¼š</p>
<ol>
<li><strong>AI æ·±åº¦é›†æˆ</strong>ï¼š
<ul>
<li>è®¾è®¡ç¨¿æ™ºèƒ½è§£æï¼Œè‡ªåŠ¨è¯†åˆ«ç»„ä»¶ç±»å‹</li>
<li>æ™ºèƒ½æ¨èæœ€é€‚åˆçš„ç»„ä»¶å’Œé…ç½®</li>
<li>åŸºäºç”¨æˆ·è¡Œä¸ºçš„ä¸ªæ€§åŒ–é…ç½®ä¼˜åŒ–</li>
</ul>
</li>
<li><strong>å¤šç«¯æ”¯æŒæ‰©å±•</strong>ï¼š
<ul>
<li>æ”¯æŒæ›´å¤šå‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Reactã€Vueï¼‰</li>
<li>æ”¯æŒè·¨å¹³å°å¼€å‘ï¼ˆiOSã€Androidï¼‰</li>
<li>æ”¯æŒç‰©è”ç½‘è®¾å¤‡ç•Œé¢ç”Ÿæˆ</li>
</ul>
</li>
<li><strong>æ™ºèƒ½åŒ–å¼€å‘è¾…åŠ©</strong>ï¼š
<ul>
<li>ä»£ç è‡ªåŠ¨è¡¥å…¨å’Œé”™è¯¯æ£€æµ‹</li>
<li>æ€§èƒ½ä¼˜åŒ–å»ºè®®å’Œè‡ªåŠ¨è°ƒæ•´</li>
<li>å®‰å…¨æ¼æ´æ£€æµ‹å’Œä¿®å¤å»ºè®®</li>
</ul>
</li>
</ol>
<p><strong>å¸‚åœºå‰æ™¯åˆ†æ</strong>ï¼š</p>
<p>éšç€ä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ·±å…¥ï¼Œå¯¹å¿«é€Ÿå¼€å‘ã€é«˜è´¨é‡äº¤ä»˜çš„éœ€æ±‚æ—¥ç›Šå¢é•¿ã€‚OODER æ¡†æ¶é€šè¿‡å›¾ç”Ÿä»£ç æŠ€æœ¯ï¼Œèƒ½å¤Ÿæ˜¾è‘—ç¼©çŸ­å¼€å‘å‘¨æœŸï¼Œé™ä½å¼€å‘æˆæœ¬ï¼Œæé«˜äº¤ä»˜è´¨é‡ã€‚ç‰¹åˆ«æ˜¯åœ¨ä»¥ä¸‹é¢†åŸŸå…·æœ‰å·¨å¤§æ½œåŠ›ï¼š</p>
<ol>
<li><strong>ä¼ä¸šåº”ç”¨å¼€å‘</strong>ï¼šå¿«é€Ÿæ„å»ºä¼ä¸šé—¨æˆ·ã€ç®¡ç†ç³»ç»Ÿç­‰</li>
<li><strong>ç”µå•†å¹³å°å»ºè®¾</strong>ï¼šå¿«é€Ÿæ­å»ºç”µå•†ç½‘ç«™ã€ç§»åŠ¨åº”ç”¨ç­‰</li>
<li><strong>ç‰©è”ç½‘åº”ç”¨</strong>ï¼šä¸ºæ™ºèƒ½è®¾å¤‡ç”Ÿæˆæ§åˆ¶ç•Œé¢</li>
<li><strong>æ•™è‚²åŸ¹è®­</strong>ï¼šé™ä½ç¼–ç¨‹å­¦ä¹ é—¨æ§›ï¼Œæé«˜æ•™å­¦æ•ˆç‡</li>
</ol>
<h3 data-id="heading-60">8.5 ç»“è¯­</h3>
<p>OODER å›¾ç”Ÿä»£ç æ¡†æ¶ä»£è¡¨äº† Web å¼€å‘æŠ€æœ¯çš„ä¸€ä¸ªé‡è¦å‘å±•æ–¹å‘ã€‚å®ƒé€šè¿‡åˆ›æ–°çš„æ³¨è§£é©±åŠ¨æœºåˆ¶ã€å®Œæ•´çš„å…¨æ ˆæ¶æ„è®¾è®¡ã€å¼ºå¤§çš„ AI é›†æˆèƒ½åŠ›ï¼Œå®ç°äº†è®¾è®¡ä¸å¼€å‘çš„çœŸæ­£èåˆã€‚é€šè¿‡æœ¬æ–‡çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬çœ‹åˆ°äº† OODER åœ¨æŠ€æœ¯åˆ›æ–°ã€å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡ç­‰æ–¹é¢çš„æ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿè¦æ¸…é†’åœ°è®¤è¯†åˆ°ï¼Œä»»ä½•æŠ€æœ¯éƒ½ä¸æ˜¯å®Œç¾çš„ã€‚OODER æ¡†æ¶åœ¨å®é™…åº”ç”¨ä¸­ä»é¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼Œå¦‚å¤æ‚äº¤äº’çš„å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–ã€å›¢é˜Ÿåä½œç­‰é—®é¢˜ã€‚ä½†éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œç¤¾åŒºçš„æŒç»­å®Œå–„ï¼Œè¿™äº›é—®é¢˜éƒ½å°†é€æ­¥å¾—åˆ°è§£å†³ã€‚</p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒæŒæ¡ OODER è¿™æ ·çš„å…ˆè¿›æ¡†æ¶ä¸ä»…æ˜¯æŠ€æœ¯èƒ½åŠ›çš„æå‡ï¼Œæ›´æ˜¯å¯¹æœªæ¥å¼€å‘æ¨¡å¼çš„é€‚åº”ã€‚åœ¨ AI æ—¶ä»£ï¼Œèƒ½å¤Ÿå°†è®¾è®¡æ€ç»´ã€ç¼–ç¨‹èƒ½åŠ›å’Œå·¥å…·ä½¿ç”¨æœ‰æœºç»“åˆçš„å¼€å‘è€…å°†æ›´å…·ç«äº‰åŠ›ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ç›¸ä¿¡ï¼Œéšç€å›¾ç”Ÿä»£ç æŠ€æœ¯çš„ä¸æ–­æˆç†Ÿå’Œå®Œå–„ï¼ŒOODER æ¡†æ¶å°†åœ¨æ¨åŠ¨è½¯ä»¶å¼€å‘é©å‘½çš„é“è·¯ä¸Šå‘æŒ¥è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ï¼Œä¸ºå®ç° "è®¾è®¡å³ä»£ç " çš„ç»ˆæç›®æ ‡è´¡çŒ®åŠ›é‡ã€‚</p>
<p>â€‹</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£å†³npm publishçš„404/403å’Œé…ç½®è­¦å‘Šå…¨è®°å½•]]></title>    <link>https://juejin.cn/post/7582231988147585075</link>    <guid>https://juejin.cn/post/7582231988147585075</guid>    <pubDate>2025-12-11T12:57:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988147585075" data-draft-id="7582231988147519539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£å†³npm publishçš„404/403å’Œé…ç½®è­¦å‘Šå…¨è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯,NPM,Node.js"/> <meta itemprop="datePublished" content="2025-12-11T12:57:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥èˆªé©¿ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/4125023356335576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£å†³npm publishçš„404/403å’Œé…ç½®è­¦å‘Šå…¨è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023356335576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥èˆªé©¿ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:57:05.000Z" title="Thu Dec 11 2025 12:57:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‰§è¡Œè¯¥å‘½ä»¤å‘ç°è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯å¸¦ç€é—®é¢˜å»é—®äº†AIï¼Œè¯´æ˜¯éœ€è¦å»é…ç½®npm token</p>
<pre><code class="hljs">npm publish
</code></pre>
<p>404-å¯èƒ½æ˜¯æ²¡æœ‰ç™»å½•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64b52c574dc945388dedcd5202a17016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=K9kUw60Ypw%2FuC2Sv8QnpxYW3YLk%3D" alt="image.png" loading="lazy"/></p>
<p>403-æˆæƒé—®é¢˜</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cd415f17310495db6d1987b79c95457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=tT3DQfuwPvKFAH70GDnZGKN0iTw%3D" alt="image.png" loading="lazy"/></p>
<p>æµç¨‹-ç™»å½• npm å®˜ç½‘ -&gt; Avatar -&gt; Access Tokens -&gt;Â Generate New TokenÂ -&gt; é€‰Â Automation / Granular Access Tokenï¼Œç¡®ä¿æœ‰Â publishÂ æƒé™ä¸”æ”¯æŒÂ Bypass 2FA</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/403cb733f0294e4a9c788b1347587be3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=CEcqo2KhDpCndzMDeVP1nF8QD78%3D" alt="image.png" loading="lazy"/></p>
<p>è®¾ç½®tokenï¼Œä¸è¦æ”¾åœ¨.npmrcä¸­ï¼Œå¯ä»¥ç›´æ¥å‘½ä»¤è¡Œè®¾ç½®</p>
<pre><code class="hljs language-bash" lang="bash">npm config <span class="hljs-built_in">set</span> //registry.npmjs.org/:_authToken=npm_16ZGwGQDSAUJEND3I927ZmAd1PP3IapziOD2jz6tj
</code></pre>
<p>æ¥ä¸‹æ¥æŠ¥é”™ï¼Œis-currentï¼Œæ„æ€è¯´å¤šäº†è¿™ä¸ªå±äºï¼Œä¸å…è®¸æäº¤ï¼Œç‰ˆæœ¬é—®é¢˜</p>
<pre><code class="hljs language-arduino" lang="arduino">npm warn Unknown user config <span class="hljs-string">"is-current"</span>. This will stop working in the next major version of npm.
</code></pre>
<p>æŸ¥çœ‹å½“å‰é…ç½®æ¥æºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npmÂ configÂ listÂ -l
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01d94566d1434423989fe68d0fb3ba85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=%2Be6dsPLOoGtDqPNi80a2zWXQgDo%3D" alt="image.png" loading="lazy"/></p>
<p>é…ç½®è¿˜æŒºå¤šçš„ï¼Œå¤§å®¶å¯è‡ªè¡ŒæŸ¥çœ‹</p>
<p>åœ¨è¾“å‡ºä¸­æ‰¾åˆ°åŒ…å«Â is-currentÂ çš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯åœ¨ç”¨æˆ·çº§æˆ–é¡¹ç›®çº§ .npmrcï¼‰ã€‚2) åˆ é™¤è¿™é¡¹é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npmÂ configÂ deleteÂ is-current
</code></pre>
<p>å¦‚æœåœ¨é¡¹ç›®æ ¹ç›®å½•çš„Â .npmrcÂ é‡Œæ‰‹åŠ¨å†™äº†è¿™ä¸€è¡Œï¼Œç›´æ¥åˆ æ‰è¯¥è¡Œæˆ–æ¸…ç©ºæ–‡ä»¶ã€‚å®Œæˆåå†æ‰§è¡Œå‘½ä»¤ï¼Œè­¦å‘Šå°±ä¸ä¼šå‡ºç°äº†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šæ¢…é›¨å­£çš„é™¤æ¹¿é‡ã€‹]]></title>    <link>https://juejin.cn/post/7582393212767830070</link>    <guid>https://juejin.cn/post/7582393212767830070</guid>    <pubDate>2025-12-11T11:02:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582393212767830070" data-draft-id="7582406735387705350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šæ¢…é›¨å­£çš„é™¤æ¹¿é‡ã€‹"/> <meta itemprop="keywords" content="åˆ›ä¸š,ç”µå­ä¹¦,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T11:02:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£…ç¡é¹¿å…ˆç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1117561743761582"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šæ¢…é›¨å­£çš„é™¤æ¹¿é‡ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561743761582/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£…ç¡é¹¿å…ˆç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:02:12.000Z" title="Thu Dec 11 2025 11:02:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç¬¬ä¸€ç« ï¼šæ¹¿åº¦ç™¾åˆ†ä¹‹ä¹åä¸‰</p>
<p>å—æ–¹çš„å…­æœˆï¼Œç©ºæ°”é‡å¾—åƒå¸é¥±äº†æ°´çš„æ£‰çµ®ï¼Œé»åœ¨çš®è‚¤ä¸Šï¼Œç”©éƒ½ç”©ä¸æ‰ã€‚</p>
<p>å®¢å…è§’è½çš„é™¤æ¹¿æœºå·²ç»å·¥ä½œäº†æ•´æ•´å››ä¸ªå°æ—¶ï¼Œâ€œå—¡å—¡â€çš„ä½é¢‘å™ªéŸ³æˆäº†è¿™ä¸ªå®¶é‡Œå”¯ä¸€çš„èƒŒæ™¯éŸ³ã€‚æ˜¾ç¤ºå±ä¸Šçš„æ•°å­—é¡½å›ºåœ°åœç•™åœ¨â€œ93%â€ï¼Œä»¿ä½›åœ¨å˜²ç¬‘è¿™å°æœºå™¨çš„å¾’åŠ³ã€‚æ°´ç®±æ»¡äº†ï¼Œæœºå™¨å‘å‡ºâ€œæ»´â€”â€”â€çš„ä¸€å£°é•¿é¸£ï¼Œéšåé™·å…¥åœæ‘†çš„å¯‚é™ã€‚</p>
<p>æ—å©‰ååœ¨é¤æ¡Œå‰ï¼Œæ‰‹é‡Œæ¡ç€ä¸€åªé©¬å…‹æ¯ï¼Œæ¯å£ä¸Šçš„å†·å‡æ°´é¡ºç€æŒ‡ç¼æµä¸‹æ¥ï¼Œæœ‰ç‚¹å‡‰ã€‚å¥¹æ²¡æœ‰å»å€’æ‰é™¤æ¹¿æœºé‡Œçš„æ°´ï¼Œåªæ˜¯ç›¯ç€å¢™è§’çœ‹ã€‚</p>
<p>é‚£é‡Œæœ‰ä¸€å—ç¡¬å¸å¤§å°çš„æ°´æ¸ï¼Œä¹Ÿæ˜¯ä¸¤å¤©å‰åˆšå‡ºç°çš„ã€‚èµ·åˆåªæ˜¯æ·¡é»„è‰²çš„æ™•æŸ“ï¼Œåƒæ˜¯ä¸€æ»´é™ˆå¹´çš„èŒ¶æ°´æº…åˆ°äº†å¢™ä¸Šï¼Œä½†ç°åœ¨ï¼Œå®ƒå¼€å§‹å‘é»‘ï¼Œä¸­å¿ƒå¾®å¾®é¼“èµ·ï¼Œåƒæ˜¯ä¸€å—çš®è‚¤ä¸‹çš„æ·¤é’ã€‚</p>
<p>ç„å…³ä¼ æ¥æŒ‡çº¹é”ç”µæœºè½¬åŠ¨çš„å£°éŸ³ã€‚ç´§æ¥ç€æ˜¯é—¨æŠŠæ‰‹ä¸‹å‹çš„è„†å“ã€‚</p>
<p>æ™šä¸Šåç‚¹ä¸€åˆ»ã€‚é™ˆå™å›æ¥äº†ã€‚</p>
<p>â€œå¤–é¢é›¨å¤ªå¤§äº†ï¼Œé«˜æ¶ä¸Šä¸‰è½¦è¿½å°¾ï¼Œå µäº†å¿«ä¸€ä¸ªå°æ—¶ã€‚â€é™ˆå™ä¸€è¾¹æ¢é‹ä¸€è¾¹æŠ±æ€¨ï¼Œå£°éŸ³é‡Œå¸¦ç€é‚£ç§é•¿æœŸåŠ ç­ç‰¹æœ‰çš„æ²™å“‘å’Œç–²æƒ«ã€‚ä»–æŠŠæ¹¿é€çš„é•¿æŸ„ä¼ç«‹åœ¨é—¨å£çš„æ²¥æ°´æ¶ä¸Šï¼Œä¼å°–è¿˜åœ¨æ»´æ°´ï¼Œåœ¨åœ°ç –ä¸Šæ±‡æˆä¸€å°æ‘Šæ·±è‰²çš„åœ†ã€‚</p>
<p>æ—å©‰æ”¾ä¸‹æ¯å­ï¼Œç«™èµ·èº«ï¼šâ€œåƒé¥­äº†å—ï¼Ÿâ€</p>
<p>â€œåœ¨å…¬å¸åƒè¿‡ç›’é¥­äº†ã€‚â€é™ˆå™æ¾å¼€é¢†å¸¦ï¼Œå°†å®ƒéšæ‰‹æ‰”åœ¨æ²™å‘æ‰¶æ‰‹ä¸Šï¼Œæ•´ä¸ªäººé™·è¿›æŠ±æ•é‡Œï¼Œå‘å‡ºé•¿é•¿çš„ä¸€å£°å¹æ¯ï¼Œâ€œç´¯æ­»æˆ‘äº†ã€‚è€èµµé‚£ä¸ªé¡¹ç›®æ˜å¤©è¦ä¸Šçº¿ï¼Œä»Šæ™šè¿˜å¾—ç›¯ç€ç¾¤æ¶ˆæ¯ã€‚â€</p>
<p>æ—å©‰èµ°åˆ°å¨æˆ¿ï¼Œç«¯å‡ºä¸€ç¢—ç»¿è±†ç™¾åˆæ±¤ï¼šâ€œå–ç‚¹è¿™ä¸ªå§ï¼Œå»ç«ã€‚â€</p>
<p>é™ˆå™æ¥è¿‡ç¢—ï¼Œå’•å’šå’•å’šå–äº†ä¸¤å£ï¼Œè§†çº¿å´æ²¡æœ‰ç¦»å¼€æ‰‹æœºå±å¹•ã€‚ä»–çš„æ‹‡æŒ‡åœ¨å±å¹•ä¸Šå¿«é€Ÿæ»‘åŠ¨ï¼Œçœ‰å¤´ç´§é”ï¼Œæ—¶ä¸æ—¶æ‰“å­—å›å¤ã€‚å±å¹•çš„å†·å…‰æ˜ åœ¨ä»–çš„çœ¼é•œç‰‡ä¸Šï¼ŒæŒ¡ä½äº†ä»–çš„çœ¼ç¥ã€‚</p>
<p>â€œé™ˆå™ã€‚â€æ—å©‰åœ¨ä»–å¯¹é¢çš„æ²™å‘åä¸‹ã€‚</p>
<p>â€œå—¯ï¼Ÿâ€é™ˆå™å¤´ä¹Ÿæ²¡æŠ¬ï¼Œâ€œç¨å¾®ç­‰ä¸€ä¸‹ï¼Œæµ‹è¯•ç»„é‚£è¾¹å‡ºäº†ä¸ªBugã€‚â€</p>
<p>æ—å©‰æ²‰é»˜äº†ã€‚å¥¹çœ‹ç€é™ˆå™å¤´é¡¶é‚£å‡ æ ¹æœ‰äº›åˆºçœ¼çš„ç™½å‘ï¼Œé‚£æ˜¯è¿™ä¸€ä¸¤å¹´æ‰å†’å‡ºæ¥çš„ã€‚å¥¹çŸ¥é“ä»–å¾ˆç´¯ï¼Œæˆ¿è´·ã€è½¦è´·ã€åŒæ–¹çˆ¶æ¯çš„å…»è€å‚¨å¤‡ï¼Œåƒå‡ åº§å¤§å±±ä¸€æ ·å‹åœ¨è¿™ä¸ªä¸­å¹´ç”·äººçš„è‚©ä¸Šã€‚ä»–æ²¡æœ‰å‡ºè½¨ï¼Œå·¥èµ„å…¨äº¤ï¼Œä¸æŠ½çƒŸä¸é…—é…’ï¼Œåœ¨æ‰€æœ‰äººçœ¼é‡Œï¼Œä»–æ˜¯æ ‡å‡†çš„â€œç»é€‚ç”·â€ï¼Œæ˜¯æ¨¡èŒƒä¸ˆå¤«ã€‚</p>
<p>ä½†æ˜¯ï¼Œæ—å©‰è§‰å¾—è‡ªå·±å¿«è¦çª’æ¯äº†ã€‚ä¸æ˜¯å› ä¸ºæˆ¿è´·ï¼Œä¹Ÿä¸æ˜¯å› ä¸ºå·¥ä½œï¼Œè€Œæ˜¯å› ä¸ºè¿™ç§ç”šè‡³æ— æ³•è¢«æŒ‡è´£çš„â€œå¿½ç•¥â€ã€‚</p>
<p>ååˆ†é’Ÿè¿‡å»äº†ã€‚ç»¿è±†æ±¤è§åº•ã€‚é™ˆå™ç»ˆäºæ”¾ä¸‹äº†æ‰‹æœºï¼Œæ‘˜ä¸‹çœ¼é•œæ‰äº†æ‰é¼»æ¢ï¼šâ€œåˆšæ‰ä½ æƒ³è¯´ä»€ä¹ˆï¼Ÿâ€</p>
<p>â€œå¢™è§’æ¼æ°´äº†ã€‚â€æ—å©‰æŒ‡äº†æŒ‡é¤å…ä¸Šæ–¹ã€‚</p>
<p>é™ˆå™çœ¯ç€è¿‘è§†çœ¼çœ‹äº†çœ‹ï¼Œé‡æ–°æˆ´ä¸Šçœ¼é•œï¼šâ€œå“¦ï¼Œçœ‹è§äº†ã€‚å¯èƒ½æ˜¯å¤–å¢™æ¸—æ°´ï¼Œæˆ–è€…æ˜¯æ¥¼ä¸Šé˜²æ°´å±‚è€åŒ–ã€‚è¿™å‡ å¤©é›¨å¤ªå¤§äº†ï¼Œå¥½å¤šåŒäº‹å®¶é‡Œéƒ½é­æ®ƒäº†ã€‚â€</p>
<p>â€œçœ‹ç€æŒºéš¾å—çš„ï¼Œçš®éƒ½è¦æ‰äº†ã€‚â€</p>
<p>â€œæ²¡äº‹ï¼Œç­‰æ¢…é›¨å­£è¿‡äº†å†è¯´å§ã€‚â€é™ˆå™ç«™èµ·èº«ï¼Œä¼¸äº†ä¸ªæ‡’è…°ï¼Œâ€œç°åœ¨æ‰¾äººæ¥ä¿®ä¹Ÿæ²¡æ³•å¹²æ´»ï¼Œå¢™ä½“æ˜¯æ¹¿çš„ï¼Œåˆ·äº†æ¼†ä¹ŸæŒ‚ä¸ä½ã€‚å†è¯´ï¼Œè¿™æ‰å¤šå¤§ä¸€ç‚¹ï¼Œä¸å½±å“ä½ã€‚â€</p>
<p>â€œå¯æ˜¯ä»Šå¤©æ˜¯æˆ‘ä»¬çš„ç»“å©šçºªå¿µæ—¥ã€‚â€</p>
<p>è¿™å¥è¯æ—å©‰è¯´å¾—å¾ˆè½»ï¼Œè½»å¾—åƒæ˜¯é™¤æ¹¿æœºé‡Œè½ä¸‹çš„ä¸€æ»´æ°´ã€‚</p>
<p>é™ˆå™çš„åŠ¨ä½œåƒµä½äº†ã€‚ä»–ç»´æŒç€ä¼¸æ‡’è…°çš„å§¿åŠ¿åœé¡¿äº†ä¸¤ç§’ï¼Œç„¶åæ…¢æ…¢æ”¾ä¸‹æ‰‹è‡‚ã€‚ä»–è½¬è¿‡èº«ï¼Œçœ‹ç€æ—å©‰ï¼Œè„¸ä¸Šé—ªè¿‡ä¸€ä¸é”™æ„•ï¼Œéšå³å˜æˆäº†æŸç§å¸¦ç€æ­‰æ„çš„å°´å°¬ã€‚</p>
<p>â€œæˆ‘â€¦â€¦è®°ç€å‘¢ã€‚â€é™ˆå™å¹²ç¬‘äº†ä¸€å£°ï¼Œæ‰‹ä¸è‡ªè§‰åœ°æ‘¸å‘è£¤å…œï¼Œä¼¼ä¹æƒ³å˜å‡ºä»€ä¹ˆç¤¼ç‰©ï¼Œä½†é‚£é‡Œåªæœ‰è½¦é’¥åŒ™å’Œè“ç‰™è€³æœºï¼Œâ€œæˆ‘æ˜¯æƒ³ï¼Œè¿™å‘¨æœ«è¡¥ä¸Šã€‚ä»Šå¤©å‘¨ä¸‰ï¼Œå¤ªå¿™äº†ï¼Œä¹Ÿä¸å¥½è¯·å‡ã€‚â€</p>
<p>â€œä½ å¿˜äº†ã€‚â€æ—å©‰è¯­æ°”å¹³é™ï¼Œæ²¡æœ‰è´¨é—®ï¼Œåªæœ‰é™ˆè¿°ã€‚</p>
<p>â€œçœŸæ²¡å¿˜ã€‚â€é™ˆå™èµ°è¿‡æ¥ï¼Œè¯•å›¾å»æ‹‰æ—å©‰çš„æ‰‹ï¼Œæ‰‹æŒå¹²ç‡¥æ¸©çƒ­ï¼Œâ€œè€å©†ï¼Œè®²é“ç†ï¼Œè¿™ä¸€å‘¨æˆ‘å¿™æˆä»€ä¹ˆæ ·ä½ ä¹Ÿçœ‹è§äº†ã€‚å’±ä»¬éƒ½è€å¤«è€å¦»äº†ï¼Œå½¢å¼ä¸»ä¹‰çš„ä¸œè¥¿èƒ½ä¸èƒ½ç¨å¾®æ”¾ä¸€æ”¾ï¼Ÿæˆ‘ä¿è¯ï¼Œå‘¨å…­å¸¦ä½ å»åƒé‚£å®¶æ—¥æ–™ï¼Œè¡Œä¸è¡Œï¼Ÿâ€</p>
<p>æ—å©‰æŠ½å›äº†æ‰‹ï¼Œæ‹¿èµ·æ¡Œä¸Šçš„ç©ºç¢—ï¼šâ€œä¸ç”¨äº†ã€‚é‚£æ˜¯ä¸¤å¹´å‰æˆ‘æƒ³åƒçš„ï¼Œç°åœ¨é‚£å®¶åº—éƒ½å…³é—¨äº†ã€‚â€</p>
<p>å¥¹èµ°è¿›å¨æˆ¿ï¼Œæ‰“å¼€æ°´é¾™å¤´ã€‚æ°´æµå†²å‡»ç“·ç¢—çš„å£°éŸ³æ©ç›–äº†å¥¹çš„å‘¼å¸å£°ã€‚</p>
<p>é™ˆå™ç«™åœ¨å®¢å…é‡Œï¼Œæœ‰äº›ä¸çŸ¥æ‰€æªã€‚ä»–è§‰å¾—æ—å©‰æœ‰äº›å°é¢˜å¤§åšã€‚çºªå¿µæ—¥å›ºç„¶é‡è¦ï¼Œä½†ç”Ÿæ´»ä¸æ˜¯ç”µè§†å‰§ï¼Œæˆå¹´äººçš„ä¸–ç•Œé‡Œï¼Œç”Ÿå­˜å’Œè§£å†³é—®é¢˜æ‰æ˜¯ç¬¬ä¸€ä½çš„ã€‚é‚£ä¸€å°å—æ°´æ¸ï¼Œåœ¨ä»–çœ‹æ¥åªæ˜¯ä¸€ä¸ªç‰©ç†ç°è±¡ï¼Œä¸€ä¸ªå¾…åŠäº‹é¡¹æ¸…å•é‡Œä¼˜å…ˆçº§å¾ˆä½çš„ä»»åŠ¡ï¼›ä½†åœ¨æ—å©‰çœ¼é‡Œï¼Œé‚£æ˜¯ä¸€é“è£‚ç—•ã€‚</p>
<p>ä»–å¹äº†å£æ°”ï¼Œé‡æ–°æ‹¿èµ·æ‰‹æœºã€‚ç¾¤é‡Œåˆæœ‰äºº@ä»–äº†ã€‚</p>
<p>â€œè¡Œå§ï¼Œé‚£æˆ‘å…ˆå»æ´—æ¾¡ã€‚â€é™ˆå™å¯¹ç€å¨æˆ¿çš„èƒŒå½±å–Šäº†ä¸€å£°ã€‚</p>
<p>æ²¡æœ‰äººå›åº”ã€‚åªæœ‰æ°´æµå£°è¿˜åœ¨å“—å“—ä½œå“ã€‚</p>
<p>é™ˆå™æ‘‡æ‘‡å¤´ï¼Œè½¬èº«è¿›äº†æµ´å®¤ã€‚ä»–è§‰å¾—è‡ªå·±æ²¡é”™ï¼Œæ—å©‰ä¹Ÿæ²¡é”™ï¼Œé”™çš„å¤§æ¦‚æ˜¯è¿™è¯¥æ­»çš„å¤©æ°”ï¼Œè®©äººå¿ƒé‡Œå‘éœ‰ã€‚</p>
<p>ç¬¬äºŒç« ï¼šé’æ„Ÿçš„åˆ€é”‹</p>
<p>æ¥ä¸‹æ¥çš„å‡ å¤©ï¼Œé›¨åŠ¿ä¸æ¯«æ²¡æœ‰å‡å¼±çš„æ„æ€ã€‚</p>
<p>é‚£å—æ°´æ¸åƒæ˜¯æœ‰ç”Ÿå‘½ä¸€æ ·ï¼Œè´ªå©ªåœ°å‘å››å‘¨åå™¬ã€‚åŸæœ¬ç¡¬å¸å¤§å°çš„æ–‘ç‚¹ï¼Œæ‰©æ•£æˆäº†å·´æŒå¤§ï¼Œè¾¹ç¼˜æ³›ç€æ¶å¿ƒçš„ç°ç»¿è‰²éœ‰æ–‘ã€‚å¢™çš®å¼€å§‹èµ·æ³¡ã€å‰¥è½ï¼Œæ¯å¤©æ—©ä¸Šæ—å©‰èµ·æ¥ï¼Œéƒ½èƒ½åœ¨é¤æ¡Œä¸Šçœ‹åˆ°ç»†ç¢çš„ç™½è‰²ç²‰æœ«ï¼Œåƒå¤´çš®å±‘ä¸€æ ·æ•£è½åœ¨æ·±è‰²çš„èƒ¡æ¡ƒæœ¨æ¡Œé¢ä¸Šã€‚</p>
<p>æ—å©‰å¼€å§‹æœ‰äº†å¼ºè¿«ç—‡ã€‚</p>
<p>å¥¹æ¯å¤©ä¸‹ç­å›å®¶çš„ç¬¬ä¸€ä»¶äº‹ï¼Œä¸æ˜¯æ¢é‹ï¼Œä¹Ÿä¸æ˜¯æ´—æ‰‹ï¼Œè€Œæ˜¯æŠ¬å¤´çœ‹é‚£å—å¢™çš®ã€‚å¦‚æœçœ‹åˆ°äº†æ–°çš„è£‚çº¹ï¼Œå¥¹çš„å¿ƒè„å°±ä¼šè«ååœ°æ”¶ç¼©ä¸€ä¸‹ã€‚å¥¹ä¹°äº†é™¤éœ‰å‰‚ï¼Œè¸©ç€æ¤…å­ä¸Šå»å–·æ´’ï¼Œåˆºé¼»çš„æ°¯æ°”å‘³é“å¼¥æ¼«åœ¨é¤å…é‡Œï¼Œæ©ç›–äº†é¥­èœçš„é¦™å‘³ã€‚</p>
<p>ä½†é™ˆå™ä¼¼ä¹å¯¹è¿™ä¸€åˆ‡è§†è€Œä¸è§ã€‚</p>
<p>å‘¨äº”æ™šä¸Šï¼Œé™ˆå™å¸¦æ—å©‰å»å‚åŠ éƒ¨é—¨èšé¤ã€‚è¿™æ˜¯ä»–çš„â€œè¡¥æ•‘æªæ–½â€ä¹‹ä¸€ï¼Œè™½ç„¶æ—å©‰å¹¶ä¸è§‰å¾—å¸¦å®¶å±åº”é…¬ç®—æ˜¯è¿‡çºªå¿µæ—¥ã€‚</p>
<p>åŒ…å¢é‡ŒçƒŸé›¾ç¼­ç»•ï¼Œçƒ­æ°”è…¾è…¾ã€‚ç”·äººä»¬æ¨æ¯æ¢ç›ï¼Œè¯é¢˜ä»å›½é™…å±€åŠ¿èŠåˆ°å…¬å¸å…«å¦ï¼Œå†åˆ°å“ªé‡Œçš„å­¦åŒºæˆ¿æ›´æœ‰æ½œåŠ›ã€‚å¥³äººä»¬åˆ™åœ¨ä¸€æ—çŸœæŒåœ°åƒèœï¼Œå¶å°”é™„å’Œä¸¤å¥ã€‚</p>
<p>â€œå“å‘€ï¼Œè€é™ˆçœŸæ˜¯å¥½ç¦æ°”ã€‚â€é™ˆå™çš„ä¸Šå¸ï¼Œä¸€ä¸ªå¾®èƒ–çš„ä¸­å¹´ç”·äººä¸¾ç€é…’æ¯å¤§ç€èˆŒå¤´è¯´ï¼Œâ€œå«‚å­æ˜¯è®¾è®¡å¸ˆå§ï¼Ÿæ°”è´¨å°±æ˜¯ä¸ä¸€æ ·ã€‚å“ªåƒæˆ‘å®¶é‚£ä¸ªï¼Œå¤©å¤©å°±çŸ¥é“ç›¯ç€å­©å­ä½œä¸šå¼ï¼Œä¸€ç‚¹æƒ…è¶£éƒ½æ²¡æœ‰ã€‚â€</p>
<p>é™ˆå™ç¬‘ç€ç»™é¢†å¯¼å€’é…’ï¼Œè„¸ä¸ŠæŒ‚ç€é‚£ç§æ—å©‰ç†Ÿæ‚‰çš„ã€æ— å¯æŒ‘å‰”çš„ç¤¾äº¤é¢å…·ï¼šâ€œå“ªé‡Œå“ªé‡Œï¼Œæ‚¨é‚£æ˜¯é¡¾å®¶ã€‚æˆ‘å®¶å©‰å©‰æ˜¯æ¯”è¾ƒçœå¿ƒï¼Œå¹³æ—¶å®¶é‡Œè£…ä¿®å¸ƒç½®éƒ½ä¸ç”¨æˆ‘æ“å¿ƒï¼Œæˆ‘å°±æ˜¯ä¸ªç”©æ‰‹æŒæŸœã€‚â€</p>
<p>â€œçœå¿ƒå¥½å•Šï¼Œçœå¿ƒå°±æ˜¯æœ€å¤§çš„æ”¯æŒï¼â€ä¼—äººèµ·å“„ã€‚</p>
<p>æ—å©‰ååœ¨é™ˆå™èº«è¾¹ï¼Œè„¸ä¸ŠæŒ‚ç€å¾—ä½“çš„å¾®ç¬‘ï¼Œæ‰‹é‡Œå´ç´§ç´§æ”¥ç€é¤å·¾çš„ä¸€è§’ã€‚</p>
<p>â€œçœå¿ƒâ€ã€‚</p>
<p>è¿™æ˜¯è¿‘å¹´æ¥é™ˆå™å¯¹å¤–è¯„ä»·å¥¹æœ€é«˜é¢‘çš„è¯æ±‡ã€‚åœ¨é™ˆå™çš„é€»è¾‘é‡Œï¼Œè¿™å°±ç­‰åŒäºâ€œè´¤æƒ â€ã€‚ä»–ä¸çŸ¥é“çš„æ˜¯ï¼Œæ—å©‰æ‰€æœ‰çš„â€œçœå¿ƒâ€ï¼Œéƒ½æ˜¯å› ä¸ºå¥¹çš„è¯‰æ±‚è¢«ä¸€æ¬¡æ¬¡æ— è§†åçš„è‡ªæˆ‘æ¶ˆåŒ–ã€‚</p>
<p>æˆ‘æƒ³æ¢ä¸ªé®å…‰çª—å¸˜ï¼Œä½ è¯´æ²¡å¿…è¦ï¼›æˆ‘æƒ³å‘¨æœ«å»å‘¨è¾¹éœ²è¥ï¼Œä½ è¯´å¤ªç´¯ä¸å¦‚åœ¨å®¶ç¡è§‰ï¼›æˆ‘è¯´å¢™ä¸Šæœ‰è£‚ç¼ï¼Œä½ è¯´ç­‰é›¨åœã€‚</p>
<p>ä¹…è€Œä¹…ä¹‹ï¼Œæˆ‘å°±æˆäº†ä½ å£ä¸­é‚£ä¸ªâ€œä¸ç”¨æ“å¿ƒâ€çš„å¥½å¦»å­ã€‚</p>
<p>â€œå«‚å­ï¼Œå¬è¯´ä½ ä»¬å¤§å­¦å°±åœ¨ä¸€èµ·äº†ï¼Ÿâ€ååœ¨å¯¹é¢çš„æ–°æ¥å®ä¹ ç”Ÿå°å§‘å¨˜ä¸€è„¸ç¾¡æ…•åœ°é—®ï¼Œâ€œåå¹´é•¿è·‘å•Šï¼Œæœ‰ä»€ä¹ˆä¿é²œç§˜ç±å—ï¼Ÿâ€</p>
<p>æ—å©‰æ„£äº†ä¸€ä¸‹ã€‚ä¿é²œï¼Ÿ</p>
<p>å¥¹æƒ³èµ·å®¶é‡Œå†°ç®±é‡Œé‚£åŠä¸ªè¢«é—å¿˜çš„æŸ æª¬ï¼Œè™½ç„¶ç”¨ä¿é²œè†œè£¹å¾—ä¸¥ä¸¥å®å®ï¼Œä½†é‡Œé¢å·²ç»å¹²ç˜ªå‘ç¡¬ï¼Œå¤±å»äº†æ‰€æœ‰çš„æ°´åˆ†å’Œé¦™æ°”ã€‚</p>
<p>â€œæ²¡ä»€ä¹ˆç§˜ç±ã€‚â€æ—å©‰è½»è½»æŠ¿äº†ä¸€å£çº¢é…’ï¼Œæ¶©å‘³åœ¨èˆŒå°–è”“å»¶ï¼Œâ€œå°±æ˜¯ä¹ æƒ¯äº†å§ã€‚ä¹ æƒ¯äº†å¯¹æ–¹çš„å­˜åœ¨ï¼Œå°±åƒä¹ æƒ¯äº†ç©ºæ°”é‡Œæœ‰æ°´æ±½ä¸€æ ·ã€‚â€</p>
<p>â€œå¬å¬ï¼Œè¿™å°±å«å¢ƒç•Œï¼â€é™ˆå™æ½è¿‡æ—å©‰çš„è‚©è†€ï¼Œæœ‰äº›å¾®é†ºåœ°ç‚«è€€ï¼Œâ€œå¹³å¹³æ·¡æ·¡æ‰æ˜¯çœŸå˜›ã€‚â€</p>
<p>ä»–çš„æ‰‹å¾ˆçƒ­ï¼Œé€è¿‡çœŸä¸è¡¬è¡«ä¼ å¯¼è¿‡æ¥ã€‚æ›¾ç»è¿™ç§æ¸©åº¦è®©æ—å©‰æ„Ÿåˆ°å®‰å…¨ï¼Œé‚£æ˜¯å¤§å››é‚£å¹´å†¬å¤©ä»–åœ¨å®¿èˆæ¥¼ä¸‹ç­‰å¥¹æ—¶æš–æ‰‹å®çš„æ¸©åº¦ï¼›ä¹Ÿæ˜¯åˆšå·¥ä½œé‚£å¹´å‘é«˜çƒ§æ—¶ä»–æ‰‹æŒè¦†åœ¨é¢å¤´çš„æ¸©åº¦ã€‚</p>
<p>ä½†æ­¤åˆ»ï¼Œæ—å©‰åªè§‰å¾—è¿™åªæ‰‹å¾ˆæ²‰ï¼Œå‹å¾—å¥¹è‚©è†€é…¸ç—›ã€‚</p>
<p>å›åˆ°å®¶å·²ç»æ˜¯æ·±å¤œåä¸€ç‚¹ã€‚</p>
<p>é™ˆå™å–å¤šäº†ï¼Œä¸€è¿›é—¨å°±ç˜«å€’åœ¨æ²™å‘ä¸Šï¼Œå˜´é‡Œå«ç³Šä¸æ¸…åœ°å˜Ÿå›”ç€è¦å–æ°´ã€‚</p>
<p>æ—å©‰å»å¨æˆ¿å€’äº†ä¸€æ¯æ¸©æ°´ï¼Œèµ°è¿‡æ¥æ‰¶èµ·ä»–çš„å¤´ã€‚é™ˆå™é—­ç€çœ¼ç›å–å®Œæ°´ï¼Œé¡ºåŠ¿æŠŠå¤´åŸ‹åœ¨æ—å©‰çš„è…°é—´è¹­äº†è¹­ï¼Œåƒä¸ªå­©å­ã€‚</p>
<p>â€œå©‰å©‰â€¦â€¦â€ä»–å–ƒå–ƒé“ï¼Œâ€œç­‰æˆ‘å‡äº†èŒâ€¦â€¦å’±ä»¬æ¢ä¸ªå¤§æˆ¿å­â€¦â€¦å¸¦éœ²å°çš„â€¦â€¦ä½ å°±ä¸ç”¨ç›¯ç€è¿™ç ´å¢™çœ‹äº†â€¦â€¦â€</p>
<p>æ—å©‰çš„æ‰‹æ­£å‡†å¤‡å¸®ä»–è§£å¼€è¡¬è¡«é¢†å£ï¼Œå¬åˆ°è¿™å¥è¯ï¼ŒåŠ¨ä½œåœåœ¨äº†åŠç©ºã€‚</p>
<p>åŸæ¥ä»–çŸ¥é“ã€‚</p>
<p>ä»–çŸ¥é“å¥¹åœ¨ç›¯ç€é‚£é¢å¢™ï¼Œä»–çŸ¥é“å¥¹ä¸å¼€å¿ƒã€‚ä»–åªæ˜¯è§‰å¾—ï¼Œè§£å†³è¿™ç§ä¸å¼€å¿ƒçš„å”¯ä¸€æ–¹å¼ï¼Œæ˜¯ç”¨æ›´å¤§çš„ç‰©è´¨æ¥è¦†ç›–å®ƒï¼Œè€Œä¸æ˜¯å½“ä¸‹ç«‹åˆ»å»ä¿®è¡¥å®ƒã€‚</p>
<p>ä»–ä»¥ä¸ºé—®é¢˜åœ¨äºâ€œæˆ¿å­ä¸å¤Ÿå¥½â€ï¼Œè€Œä¸æ˜¯â€œä½ ä¸åœ¨ä¹æˆ‘çš„æ„Ÿå—â€ã€‚</p>
<p>æ—å©‰çœ‹ç€æ€€é‡Œè¿™ä¸ªç”·äººçš„è„¸ã€‚ä»–æ˜¯å¥¹çš„é’æ˜¥ï¼Œæ˜¯å¥¹çš„å®¶äººï¼Œæ˜¯å¥¹åœ¨è¿™ä¸ªåŸå¸‚æœ€æ·±çš„ç¾ç»Šã€‚å¥¹å¹¶ä¸æ¨ä»–ï¼Œç”šè‡³ä¾ç„¶çˆ±ä»–ã€‚ä½†è¿™ç§çˆ±ï¼Œæ­£åœ¨è¢«ä¸€ç§æ— åŠ›çš„ç–²æƒ«æ„Ÿä¸€ç‚¹ç‚¹ç£¨æŸã€‚</p>
<p>â€œé™ˆå™ï¼Œæˆ‘ä¸æƒ³è¦å¤§æˆ¿å­ã€‚â€æ—å©‰è½»å£°è¯´ï¼Œå°½ç®¡å¥¹çŸ¥é“ä»–å¬ä¸è§ï¼Œâ€œæˆ‘åªæƒ³è¦è¿™é¢å¢™ç°åœ¨åˆ«å†æ¼äº†ã€‚â€</p>
<p>é™ˆå™ç¿»äº†ä¸ªèº«ï¼Œå‘å‡ºäº†å‡åŒ€çš„é¼¾å£°ã€‚</p>
<p>æ—å©‰ç«™èµ·èº«ï¼Œèµ°åˆ°é¤å…ã€‚å¥¹æ‰“å¼€æ‰‹æœºçš„æ‰‹ç”µç­’ï¼Œç…§å‘é‚£ä¸ªè§’è½ã€‚</p>
<p>å°±åœ¨è¿™æ—¶ï¼Œâ€œå•ªå—’â€ä¸€å£°è½»å“ã€‚</p>
<p>ä¸€å—æŒ‡ç”²ç›–å¤§å°çš„å¢™çš®ï¼Œç»ˆäºä¸å ªé‡è´Ÿï¼Œè„±ç¦»äº†å¢™ä½“ï¼Œæ‰è½ä¸‹æ¥ã€‚å®ƒå è½åœ¨å®æœ¨é¤æ¡Œä¸Šï¼Œæ‘”æˆäº†ç²‰æœ«ã€‚</p>
<p>éœ²å‡ºæ¥çš„åº•è‰²æ˜¯ç°é»‘è‰²çš„æ°´æ³¥ï¼Œåƒæ˜¯ä¸€åªæµ‘æµŠçš„çœ¼ç›ï¼Œåœ¨é»‘æš—ä¸­å†·å†·åœ°æ³¨è§†ç€æ—å©‰ã€‚</p>
<p>ç¬¬ä¸‰ç« ï¼šæºƒå ¤çš„ä¸æ˜¯æ°´</p>
<p>å‘¨å…­ï¼Œé›¨ç»ˆäºå°äº†ä¸€äº›ï¼Œå˜æˆäº†æ–­æ–­ç»­ç»­çš„æ¯›æ¯›é›¨ã€‚</p>
<p>æ—å©‰åŸæœ¬è®¡åˆ’å»å…¬å¸åŠ ç­æ”¹å›¾çº¸ï¼Œä½†å› ä¸ºæœ‰äº›ä½çƒ§ï¼Œä¾¿ç•™åœ¨äº†å®¶é‡Œã€‚é™ˆå™éš¾å¾—æ²¡æœ‰å»å…¬å¸ï¼Œä½†ä»–æŠŠè‡ªå·±å…³åœ¨ä¹¦æˆ¿é‡Œæ‰“æ¸¸æˆã€‚</p>
<p>â€œç °ï¼ç °ï¼Left side! Go go go!â€</p>
<p>æ¿€çƒˆçš„æªç‚®å£°å’Œé™ˆå™å…´å¥‹çš„å–Šå«å£°éš”ç€é—¨æ¿ä¼ å‡ºæ¥ã€‚é‚£æ˜¯ä»–åœ¨ç°å®ç”Ÿæ´»ä¸­è¢«å‹æŠ‘çš„è·å°”è’™çš„å®£æ³„å‡ºå£ã€‚</p>
<p>æ—å©‰èººåœ¨æ²™å‘ä¸Šï¼Œèº«ä¸Šç›–ç€è–„æ¯¯ï¼Œæ‰‹é‡Œæ‹¿ç€ä¸€æœ¬æ²¡çœ‹å‡ é¡µçš„ä¹¦ã€‚å¤´æ˜æ²‰æ²‰çš„ï¼Œå—“å­é‡Œåƒæ˜¯å¡äº†ä¸€å›¢æ£‰èŠ±ã€‚</p>
<p>çªç„¶ï¼Œä¸€æ»´å†°å‡‰çš„æ¶²ä½“è½åœ¨äº†å¥¹çš„è„¸é¢Šä¸Šã€‚</p>
<p>æ—å©‰æƒŠäº†ä¸€ä¸‹ï¼Œåèµ·èº«ã€‚</p>
<p>å¥¹æŠ¬å¤´çœ‹å»ï¼Œå®¢å…ä¸­å¤®çš„å¤©èŠ±æ¿â€”â€”ä¸æ˜¯é¤å…é‚£ä¸ªè§’è½ï¼Œè€Œæ˜¯æ­£ä¸­å¤®ï¼ŒåŠç¯çš„æ—è¾¹â€”â€”æ­£èšé›†ç€ä¸€é¢—æ™¶è¹çš„æ°´ç ã€‚</p>
<p>é‚£æ°´ç é¢¤é¢¤å·å·åœ°æ‚¬æŒ‚ç€ï¼Œåƒæ˜¯ä¸€é¢—é¥±æ»¡çš„æ³ªæ»´ï¼Œç»ˆäºæ‰¿å—ä¸ä½é‡åŠ›ï¼Œå è½ä¸‹æ¥ã€‚</p>
<p>â€œæ»´ç­”ã€‚â€</p>
<p>æ­£å¥½è½åœ¨èŒ¶å‡ ä¸Šçš„é¥æ§å™¨ä¸Šã€‚</p>
<p>æ¼æ°´ç‚¹æ‰©å¤§äº†ã€‚è¿™ä¸ä»…æ˜¯ä¾§å¢™æ¸—æ°´ï¼Œè¿™æ˜¯æ¥¼ä¸Šçš„ç®¡é“å‡ºäº†é—®é¢˜ã€‚</p>
<p>â€œé™ˆå™ï¼â€æ—å©‰å–Šäº†ä¸€å£°ã€‚å—“å­æœ‰äº›å“‘ï¼Œå£°éŸ³ä¸å¤§ã€‚</p>
<p>ä¹¦æˆ¿é‡Œæªå£°æ­£é…£ï¼Œé™ˆå™æˆ´ç€é™å™ªè€³æœºï¼Œæ ¹æœ¬å¬ä¸è§ã€‚</p>
<p>â€œæ»´ç­”ã€‚â€ç¬¬äºŒæ»´æ°´è½ä¸‹æ¥ã€‚</p>
<p>æ—å©‰æ„Ÿåˆ°ä¸€é˜µè«åçš„ææ…Œã€‚é‚£ç§æ„Ÿè§‰å°±åƒæ˜¯æŸç§é˜²å¾¡æœºåˆ¶çªç„¶å¤±æ•ˆäº†ã€‚å¥¹ä»æ²™å‘ä¸Šè·³èµ·æ¥ï¼Œå†²åˆ°ä¹¦æˆ¿é—¨å£ï¼ŒçŒ›åœ°æ¨å¼€é—¨ã€‚</p>
<p>â€œé™ˆå™ï¼å¤–é¢æ¼æ°´äº†ï¼â€</p>
<p>é™ˆå™è¢«å“äº†ä¸€è·³ï¼Œæ‰‹ä¸€æŠ–ï¼Œå±å¹•å˜æˆäº†ç°ç™½è‰²â€”â€”Game Overã€‚ä»–æ‘˜ä¸‹è€³æœºï¼Œä¸€è„¸çƒ¦èºåœ°è½¬è¿‡å¤´ï¼šâ€œæ€ä¹ˆäº†ï¼Ÿä¸€æƒŠä¸€ä¹çš„ã€‚â€</p>
<p>â€œå®¢å…é¡¶ä¸Šæ¼æ°´äº†ï¼Œå¿«æ‹¿ä¸ªç›†æ¥ï¼â€</p>
<p>é™ˆå™æ„£äº†ä¸€ä¸‹ï¼Œè¿™æ‰ååº”è¿‡æ¥ï¼Œèµ¶ç´§èµ·èº«å»å«ç”Ÿé—´æ‹¿äº†ä¸¤ä¸ªå¡‘æ–™ç›†å‡ºæ¥ã€‚</p>
<p>ä¸¤äººå›åˆ°å®¢å…æ—¶ï¼Œæ»´æ°´çš„é€Ÿåº¦å·²ç»å˜å¿«äº†ã€‚</p>
<p>â€œå®â€”â€”å’šâ€”â€”â€æ°´æ»´ç ¸åœ¨å¡‘æ–™ç›†åº•ï¼Œå‘å‡ºæ¸…è„†è€Œç©ºæ´çš„å›å“ã€‚</p>
<p>é™ˆå™çš±ç€çœ‰å¤´ç›¯ç€å¤©èŠ±æ¿ï¼šâ€œè¿™æ¥¼ä¸Šæ€ä¹ˆæçš„ï¼Ÿæˆ‘éƒ½è¯´äº†è¿™æˆ¿å­ç‰©ä¸šä¸è¡Œã€‚çœŸçƒ¦äººï¼Œå¥½ä¸å®¹æ˜“ä¼‘æ¯ä¸€å¤©ã€‚â€</p>
<p>ä»–æå‡ºæ‰‹æœºï¼šâ€œæˆ‘ç»™ç‰©ä¸šæ‰“ç”µè¯ã€‚â€</p>
<p>æ—å©‰ç«™åœ¨ä¸€æ—ï¼Œçœ‹ç€é‚£ä¸¤ä¸ªçº¢è‰²çš„å¡‘æ–™ç›†ã€‚é‚£é²œè‰³çš„çº¢è‰²åœ¨ç°ç™½è°ƒçš„æç®€é£å®¢å…é‡Œæ˜¾å¾—æ ¼æ ¼ä¸å…¥ï¼Œåˆºç—›äº†å¥¹çš„çœ¼ç›ã€‚</p>
<p>â€œé™ˆå™ã€‚â€æ—å©‰çªç„¶å¼€å£ã€‚</p>
<p>â€œå–‚ï¼Ÿç‰©ä¸šå—ï¼Ÿæˆ‘æ˜¯602çš„â€¦â€¦â€é™ˆå™å¯¹ç€ç”µè¯è¯´ç€ï¼Œè½¬å¤´çœ‹äº†ä¸€çœ¼æ—å©‰ï¼Œç”¨æ‰‹åŠ¿ç¤ºæ„å¥¹ç¨ç­‰ã€‚</p>
<p>æ—å©‰æ²¡æœ‰ç­‰ã€‚å¥¹èµ°è¿‡å»ï¼ŒæŒ‰æ‰äº†é™ˆå™çš„ç”µè¯ã€‚</p>
<p>â€œä½ å¹²ä»€ä¹ˆï¼Ÿâ€é™ˆå™ä¸å¯ç½®ä¿¡åœ°çœ‹ç€å¥¹ï¼Œâ€œæˆ‘åœ¨æŠ¥ä¿®å•Šã€‚â€</p>
<p>â€œä¸ç”¨æŠ¥ä¿®äº†ã€‚â€æ—å©‰çš„å£°éŸ³åœ¨é¢¤æŠ–ï¼Œé‚£æ˜¯é«˜çƒ§å¸¦æ¥çš„è™šå¼±ï¼Œä¹Ÿæ˜¯æƒ…ç»ªå¤±æ§çš„å‰å…†ã€‚</p>
<p>â€œä½ å‘ä»€ä¹ˆç¥ç»ï¼Ÿä¸æŠ¥ä¿®è¿™æ°´æ€ä¹ˆå¼„ï¼ŸæŠŠåœ°æ¿æ³¡äº†æ€ä¹ˆåŠï¼Ÿâ€é™ˆå™è§‰å¾—æ—å©‰ç®€ç›´ä¸å¯ç†å–»ï¼Œç«æ°”ä¹Ÿä¸Šæ¥äº†ã€‚</p>
<p>â€œæ³¡äº†å°±æ³¡äº†å§ã€‚â€æ—å©‰çœ‹ç€ä»–ï¼Œçœ¼çœ¶ç¬é—´çº¢äº†ï¼Œâ€œåæ­£ä½ ä¹Ÿçœ‹ä¸è§ã€‚â€</p>
<p>â€œæˆ‘æ€ä¹ˆçœ‹ä¸è§äº†ï¼Ÿæˆ‘ç°åœ¨ä¸æ˜¯åœ¨å¤„ç†å—ï¼Ÿâ€é™ˆå™æ‘Šå¼€åŒæ‰‹ï¼Œå£°éŸ³æé«˜äº†ä¸€ä¸ªå…«åº¦ï¼Œâ€œæ—å©‰ï¼Œä½ æœ€è¿‘åˆ°åº•æ€ä¹ˆå›äº‹ï¼Ÿä»çºªå¿µæ—¥é‚£å¤©èµ·ä½ å°±é˜´é˜³æ€ªæ°”çš„ã€‚æˆ‘æ˜¯å·¥ä½œæ²¡åšå¥½ï¼Œè¿˜æ˜¯æ²¡ç»™ä½ é’±èŠ±ï¼Ÿæˆ‘ä¸å°±æ˜¯å¿˜äº†ä¹°ç¤¼ç‰©å—ï¼Ÿè‡³äºè®°æ¨åˆ°ç°åœ¨å—ï¼Ÿâ€</p>
<p>â€œè¿™è·Ÿç¤¼ç‰©æ²¡å…³ç³»ï¼â€æ—å©‰ç»ˆäºå–Šäº†å‡ºæ¥ï¼Œæ³ªæ°´å¤ºçœ¶è€Œå‡ºï¼Œâ€œé™ˆå™ï¼Œæˆ‘ä»¬ä¹‹é—´æ¼æ°´äº†ï¼Œä½ çœ‹ä¸è§å—ï¼Ÿâ€</p>
<p>â€œä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ï¼Ÿâ€é™ˆå™çƒ¦èºåœ°æŠ“äº†æŠ“å¤´å‘ï¼Œâ€œèƒ½ä¸èƒ½åˆ«è¯´è¿™ç§æ–‡ç»‰ç»‰çš„è¯ï¼Ÿæœ‰äº‹è¯´äº‹ï¼Œæœ‰ç—…æ²»ç—…ã€‚è¿™å¢™æ¼äº†å°±ä¿®å¢™ï¼Œå“ªé‡Œæ¼è¡¥å“ªé‡Œï¼Œè¿™å°±æ˜¯ç”Ÿæ´»ï¼Œæ‡‚ä¸æ‡‚ï¼Ÿç”Ÿæ´»å°±æ˜¯è§£å†³é—®é¢˜ï¼Œä¸æ˜¯è®©ä½ åœ¨è¿™å„¿ä¼¤æ˜¥æ‚²ç§‹çš„ï¼â€</p>
<p>â€œç”Ÿæ´»æ˜¯è§£å†³é—®é¢˜â€¦â€¦â€æ—å©‰é‡å¤ç€è¿™å¥è¯ï¼Œçªç„¶ç¬‘äº†ï¼Œç¬‘å¾—æ¯”å“­è¿˜éš¾çœ‹ï¼Œâ€œå¯¹ï¼Œä½ å¾ˆæ“…é•¿è§£å†³é—®é¢˜ã€‚å¢™åäº†ä¿®å¢™ï¼Œé¥¿äº†åƒé¥­ï¼Œé‚£å¦‚æœæˆ‘ä¸çˆ±ä½ äº†å‘¢ï¼Ÿä½ æ€ä¹ˆè§£å†³ï¼Ÿâ€</p>
<p>ç©ºæ°”ç¬é—´å‡å›ºäº†ã€‚</p>
<p>é‚£ä¸¤ä¸ªçº¢è‰²çš„å¡‘æ–™ç›†é‡Œï¼Œæ°´æ»´å£°ä¾æ—§æ¸…æ™°ã€‚</p>
<p>â€œå®â€”â€”å’šâ€”â€”â€</p>
<p>â€œå®â€”â€”å’šâ€”â€”â€</p>
<p>é™ˆå™åƒµåœ¨åŸåœ°ï¼Œçœ¼ç¥é‡Œçš„çƒ¦èºæ…¢æ…¢è¤ªå»ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯éœ‡æƒŠå’Œè¿·èŒ«ã€‚ä»–çœ‹ç€æ—å©‰ï¼Œä»¿ä½›ç¬¬ä¸€æ¬¡è®¤è¯†è¿™ä¸ªåŒåºŠå…±æ•äº†åå¹´çš„å¥³äººã€‚</p>
<p>â€œä½ è¯´ä»€ä¹ˆï¼Ÿâ€é™ˆå™çš„å£°éŸ³ä½äº†ä¸‹æ¥ã€‚</p>
<p>â€œæˆ‘è¯´ï¼Œæˆ‘ç´¯äº†ã€‚â€æ—å©‰æ“¦äº†ä¸€æŠŠçœ¼æ³ªï¼Œæ·±å¸äº†ä¸€å£æ°”ï¼ŒåŠªåŠ›è®©å£°éŸ³å¹³ç¨³ï¼Œâ€œé™ˆå™ï¼Œä½ æ˜¯ä¸ªå¥½äººï¼Œä¹Ÿæ˜¯ä¸ªè´Ÿè´£ä»»çš„ä¸ˆå¤«ã€‚ä½†æˆ‘ä»¬åœ¨åŒä¸€ä¸ªå±‹æªä¸‹ï¼Œå´æ´»åœ¨ä¸¤ä¸ªä¸–ç•Œé‡Œã€‚ä½ çš„ä¸–ç•Œåªæœ‰ä»»åŠ¡å’Œæ•ˆç‡ï¼Œæˆ‘çš„ä¸–ç•Œé‡Œé‚£äº›æƒ…ç»ªå’Œæ„Ÿå—ï¼Œå¯¹ä½ æ¥è¯´éƒ½æ˜¯â€˜éº»çƒ¦â€™ï¼Œæ˜¯â€˜çŸ«æƒ…â€™ã€‚â€</p>
<p>â€œæˆ‘ä¸€ç›´åŠªåŠ›åšä¸€ä¸ªçœå¿ƒçš„å¦»å­ï¼Œå“ªæ€•å¢™çš®æ‰åœ¨æˆ‘ç¢—é‡Œï¼Œæˆ‘ä¹Ÿè‡ªå·±æ“¦å¹²å‡€ã€‚ä½†æˆ‘ä»Šå¤©çªç„¶å‘ç°ï¼Œæˆ‘ä¸æƒ³å¿äº†ã€‚æˆ‘ä¸æƒ³è¦å¤§æˆ¿å­ï¼Œä¹Ÿä¸æƒ³è¦ä½ æ‰€è°“çš„ä»¥åã€‚æˆ‘ç°åœ¨ï¼Œæ­¤æ—¶æ­¤åˆ»ï¼Œå°±ä¸æƒ³å¬åˆ°è¿™ä¸ªæ»´æ°´çš„å£°éŸ³ã€‚â€</p>
<p>æ—å©‰è¯´å®Œï¼Œè½¬èº«èµ°è¿›äº†å§å®¤ã€‚</p>
<p>å¥¹æ²¡æœ‰æ‘”é—¨ã€‚å¥¹åªæ˜¯è½»è½»åœ°å…³ä¸Šäº†é—¨ï¼Œå‘å‡ºä¸€å£°æå…¶è½»å¾®çš„â€œå’”å“’â€å£°ã€‚</p>
<p>è¿™å£°è½»å“ï¼Œæ¯”åˆšæ‰é™ˆå™æ¸¸æˆé‡Œçš„çˆ†ç‚¸å£°è¿˜è¦éœ‡è€³æ¬²è‹ã€‚</p>
<p>é™ˆå™ç«™åœ¨å®¢å…ä¸­å¤®ï¼Œçœ‹ç€é‚£ä¸ªä¸æ–­æ¥æ°´çš„ç›†ã€‚æ°´ç æº…å‡ºæ¥ï¼Œæ‰“æ¹¿äº†èŒ¶å‡ ä¸Šçš„é¥æ§å™¨ã€‚</p>
<p>ä»–çªç„¶æ„è¯†åˆ°ï¼Œåœ¨è¿™ä¸ªå®¶é‡Œï¼Œä¸€ç›´è´Ÿè´£â€œé˜²æ°´â€çš„é‚£ä¸ªäººï¼Œæ’¤é€€äº†ã€‚</p>
<p>ç¬¬å››ç« ï¼šå‰¥ç¦»ä¸ç•™ç™½</p>
<p>æ—å©‰èµ°äº†ã€‚</p>
<p>ä¸æ˜¯ç¦»å®¶å‡ºèµ°ï¼Œè€Œæ˜¯åæ­£è¨€é¡ºçš„â€œé€ƒç¦»â€ã€‚å¥¹åœ¨å…¬å¸ç”³è¯·äº†å»è‹å·è·Ÿè¿›ä¸€ä¸ªä¸ºæœŸä¸¤å‘¨çš„å›­æ—æ”¹é€ é¡¹ç›®ã€‚</p>
<p>å¥¹æ”¶æ‹¾è¡Œæçš„æ—¶å€™å¾ˆå®‰é™ã€‚é™ˆå™ååœ¨åºŠè¾¹çœ‹ç€å¥¹å è¡£æœï¼ŒæŠŠé‚£äº›é¢œè‰²ç´ é›…çš„è¡¬è¡«ã€é•¿è£¤æ•´æ•´é½é½åœ°ç è¿›ç®±å­é‡Œã€‚ä»–æƒ³å¸®å¿™ï¼Œä½†æ‰‹ä¼¸å‡ºå»åˆç¼©äº†å›æ¥ï¼Œå› ä¸ºä»–å‘ç°è‡ªå·±æ ¹æœ¬ä¸çŸ¥é“å¥¹çš„æŠ¤è‚¤å“è¦æ€ä¹ˆåˆ†ç±»æ‰“åŒ…ï¼Œä¹Ÿä¸çŸ¥é“å¥¹çš„è¯æ”¾åœ¨å“ªä¸ªæ ¼å­é‡Œã€‚</p>
<p>åœ¨è¿™ä¸ªå®¶é‡Œï¼Œä»–æ˜¯ä¸€ä¸ªå½»å¤´å½»å°¾çš„â€œä½¿ç”¨è€…â€ï¼Œè€Œæ—å©‰æ˜¯â€œç»´æŠ¤è€…â€ã€‚</p>
<p>â€œæˆ‘å»è‹å·å¤§æ¦‚åŠä¸ªæœˆã€‚â€æ—å©‰åˆä¸Šç®±å­ï¼Œâ€œå¦‚æœâ€¦â€¦å¦‚æœä½ ä¸æƒ³å«å¤–å–ï¼Œå†°ç®±å†·å†»å±‚é‡Œæœ‰åŒ…å¥½çš„é¥ºå­å’Œé¦„é¥¨ã€‚å¢™çš„äº‹æƒ…ï¼Œç‰©ä¸šè¯´æ˜å¤©ä¼šä¸Šé—¨æ¥çœ‹ã€‚â€</p>
<p>é™ˆå™å–‰ç»“æ»šåŠ¨äº†ä¸€ä¸‹ï¼šâ€œä¸€å®šè¦å»å—ï¼Ÿâ€</p>
<p>â€œå—¯ã€‚é¡¹ç›®å¾ˆæ€¥ã€‚â€æ—å©‰æ²¡æœ‰çœ‹ä»–ï¼Œæ‹‰èµ·æ‹‰æ†ã€‚</p>
<p>â€œå©‰å©‰ã€‚â€é™ˆå™ç«™èµ·æ¥ï¼Œæ‹¦åœ¨å¥¹é¢å‰ï¼Œâ€œé‚£å¤©æ˜¯æˆ‘è¯è¯´é‡äº†ã€‚æˆ‘æ”¹ï¼Œè¡Œä¸è¡Œï¼Ÿä»¥åä½ æœ‰ä»€ä¹ˆä¸é«˜å…´çš„ç›´æ¥è¯´ï¼Œåˆ«é—·åœ¨å¿ƒé‡Œã€‚â€</p>
<p>æ—å©‰çœ‹ç€ä»–ï¼Œçœ¼ç¥é‡Œæœ‰ä¸€ä¸æ‚²æ‚¯ï¼šâ€œé™ˆå™ï¼Œæˆ‘è¯´è¿‡çš„ã€‚é‚£å—æ°´æ¸åˆšå‡ºç°çš„æ—¶å€™æˆ‘å°±è¯´è¿‡ã€‚æ˜¯ä½ é€‰æ‹©äº†â€˜ç­‰é›¨åœâ€™ã€‚â€</p>
<p>å¥¹ç»•è¿‡ä»–ï¼Œèµ°å‡ºäº†å®¶é—¨ã€‚</p>
<p>æ—å©‰èµ°åçš„ç¬¬ä¸€å¤©ï¼Œé™ˆå™æ„Ÿåˆ°äº†ä¸€ç§ä»æœªæœ‰è¿‡çš„ç©ºæ—·ã€‚</p>
<p>æ˜æ˜å®¶å…·éƒ½åœ¨ï¼Œæ ¼å±€æ²¡å˜ï¼Œä½†æˆ¿å­åƒæ˜¯çªç„¶å¤§äº†å¥½å‡ å€ï¼Œå£°éŸ³ä¼šæœ‰å›éŸ³ã€‚</p>
<p>æ™šä¸Šå›åˆ°å®¶ï¼Œæ²¡æœ‰çƒ­è…¾è…¾çš„é¥­èœï¼Œä¹Ÿæ²¡æœ‰é‚£ä¸€ç›ä¸ºä»–ç•™çš„å¤œç¯ã€‚ä»–æ‰“å¼€å†°ç®±ï¼Œçœ‹åˆ°é‚£äº›è´´ç€æ ‡ç­¾çš„ä¿é²œç›’ï¼šâ€œçŒªè‚‰ç™½èœé¥ºå­ï¼ˆç…®10åˆ†é’Ÿï¼‰â€ã€â€œè™¾ä»é¦„é¥¨ï¼ˆæ°´å¼€ä¸‹é”…ï¼‰â€ã€‚</p>
<p>å­—è¿¹æ¸…ç§€ï¼Œé‚£æ˜¯æ—å©‰çš„æ‰‹å†™ä½“ã€‚</p>
<p>é™ˆå™ç…®äº†ä¸€ç¢—é¦„é¥¨ã€‚æ°´çƒ§å¼€çš„æ—¶å€™ï¼Œè’¸æ±½æ‰‘åœ¨è„¸ä¸Šï¼Œä»–çªç„¶æƒ³èµ·ä»¥å‰æ¯æ¬¡ä»–åœ¨ä¹¦æˆ¿åŠ ç­ï¼Œæ—å©‰ä¹Ÿæ˜¯è¿™æ ·åœ¨å¨æˆ¿å¿™ç¢Œï¼Œç„¶åç«¯ç€å¤œå®µæ‚„æ‚„è¿›æ¥ï¼Œæ€•æ‰“æ‰°ä»–ï¼Œæ”¾ä¸‹å°±èµ°ã€‚</p>
<p>ä»–å½“æ—¶åœ¨å¹²ä»€ä¹ˆï¼Ÿå¤§æ¦‚è¿å¥è°¢è°¢éƒ½æ²¡è¯´ï¼Œå¤´ä¹Ÿä¸æŠ¬åœ°ç»§ç»­ç›¯ç€å±å¹•ã€‚</p>
<p>å› ä¸ºä¹ æƒ¯äº†ï¼Œæ‰€ä»¥è§‰å¾—ç†æ‰€å½“ç„¶ã€‚å°±åƒäººä¸ä¼šæ„Ÿæ¿€å‘¼å¸ï¼Œç›´åˆ°ç¼ºæ°§çš„é‚£ä¸€åˆ»ã€‚</p>
<p>ç¬¬äºŒå¤©ï¼Œç‰©ä¸šå¸¦ç€ç»´ä¿®å·¥ä¸Šé—¨äº†ã€‚</p>
<p>å·¥äººæ˜¯ä¸ªäº”åå¤šå²çš„å¤§å”ï¼ŒåŠ¨ä½œéº»åˆ©åœ°é“²æ‰äº†å‘éœ‰çš„å¢™çš®ï¼Œéœ²å‡ºäº†é‡Œé¢çš„ç –æ··ç»“æ„ã€‚ç°å°˜é£æ‰¬ï¼Œé™ˆå™ä¸å¾—ä¸æˆ´ä¸Šå£ç½©ã€‚</p>
<p>â€œå“å“Ÿï¼Œè¿™æ¼å¾—æŒºæ·±å•Šã€‚â€å¤§å”ä¸€è¾¹åˆ®è…»å­ä¸€è¾¹è¯´ï¼Œâ€œè€æ¿ï¼Œä½ è¿™å‘ç°å¾—å¤ªæ™šäº†ã€‚è¦æ˜¯æ—©ç‚¹å¤„ç†ï¼Œä¸ç”¨é“²è¿™ä¹ˆå¤§é¢ç§¯ã€‚ç°åœ¨å¥½äº†ï¼Œè¿™ä¸€æ•´é¢å¢™éƒ½å¾—é‡åšã€‚â€</p>
<p>â€œå‘ç°å¾—å¤ªæ™šäº†ã€‚â€</p>
<p>è¿™å¥è¯åƒé”¤å­ä¸€æ ·æ•²åœ¨é™ˆå™å¿ƒä¸Šã€‚</p>
<p>å…¶å®æ—©å°±å‘ç°äº†ï¼Œåªæ˜¯æ²¡å½“å›äº‹ã€‚ä»¥ä¸ºå®ƒä¼šè‡ªæ„ˆï¼Œæˆ–è€…ä»¥ä¸ºå®ƒèƒ½å¿å—ã€‚</p>
<p>ä¿®å¢™çš„è¿‡ç¨‹æŒç»­äº†ä¸‰å¤©ã€‚é™ˆå™è¯·äº†å¹´å‡åœ¨å®¶ç›¯ç€ã€‚</p>
<p>è¿™ä¸‰å¤©é‡Œï¼Œä»–æŠŠå®¶é‡Œä»é‡Œåˆ°å¤–æ‰“æ‰«äº†ä¸€éã€‚ä»–å‘ç°æ²™å‘åº•ä¸‹çš„ä¹é«˜ç§¯æœ¨ï¼ˆé‚£æ˜¯ä»–ä¸¤å¹´å‰æ‹¼ä¸¢çš„ä¸€ä¸ªé›¶ä»¶ï¼‰ï¼Œå‘ç°äº†æ—å©‰æ¢³å¦†å°æŠ½å±‰é‡Œçš„ä¸€å æŠ—æŠ‘éƒçš„è¯ç›’ï¼ˆå¤§éƒ¨åˆ†æ˜¯ç©ºçš„ï¼‰ï¼Œå‘ç°äº†é˜³å°ç»¿æ¤å¶ç‰‡ä¸Šæ¯ä¸€ç‰‡éƒ½è¢«æ“¦æ‹­è¿‡çš„ç—•è¿¹ã€‚</p>
<p>ä»–æ‹¿ç€é‚£ä¸ªè¯ç›’ï¼Œæ‰‹åœ¨å‘æŠ–ã€‚</p>
<p>ä»–æƒ³èµ·åŠå¹´å‰æ—å©‰è¯´ç¡çœ ä¸å¥½ï¼Œä»–åªæ˜¯éšå£è¯´äº†ä¸€å¥â€œåˆ«æƒ³å¤ªå¤šï¼Œå–ç‚¹ç‰›å¥¶â€ã€‚</p>
<p>ä»–æƒ³èµ·å¥¹æœ‰æ—¶å€™ååœ¨é˜³å°ä¸Šå‘å‘†ä¸€æ•´å¤©ï¼Œä»–ä»¥ä¸ºå¥¹åœ¨æ„æ€è®¾è®¡æ–¹æ¡ˆã€‚</p>
<p>åŸæ¥ï¼Œå¥¹ä¸€ç›´åœ¨æººæ°´ï¼Œè€Œä»–åœ¨å²¸ä¸Šå«Œå¥¹æ¸¸å¾—æ…¢ã€‚</p>
<p>å¢™ç»ˆäºä¿®å¥½äº†ã€‚å´­æ–°çš„ç™½è‰²ä¹³èƒ¶æ¼†ï¼Œå¹³æ•´ã€æ´ç™½ï¼Œæ•£å‘ç€ä¸€è‚¡æ·¡æ·¡çš„åŒ–å­¦å‘³é“ã€‚</p>
<p>ä½†è¿™å—æ–°å¢™å¤ªç™½äº†ï¼Œç™½å¾—åˆºçœ¼ï¼Œå’Œå‘¨å›´ç•¥å¾®æ³›é»„çš„æ—§å¢™é¢å½¢æˆäº†é²œæ˜çš„è‰²å·®ã€‚åƒæ˜¯ä¸€å—çªå…€çš„è¡¥ä¸ï¼Œæ˜­ç¤ºç€è¿™é‡Œæ›¾ç»å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚</p>
<p>é™ˆå™æ‹äº†ä¸€å¼ ç…§ç‰‡ï¼Œç‚¹å¼€æ—å©‰çš„å¾®ä¿¡ã€‚</p>
<p>ä»–ä»¬çš„å¯¹è¯æ¡†è¿˜åœç•™åœ¨å››å¤©å‰ã€‚</p>
<p>ä»–è¾“å…¥ï¼šâ€œå¢™ä¿®å¥½äº†ã€‚â€</p>
<p>åˆ æ‰ã€‚</p>
<p>è¾“å…¥ï¼šâ€œæˆ‘çœ‹åˆ°è¯äº†ï¼Œå¯¹ä¸èµ·ã€‚â€</p>
<p>åˆ æ‰ã€‚å¤ªæ²‰é‡ã€‚</p>
<p>è¾“å…¥ï¼šâ€œä½ ä»€ä¹ˆæ—¶å€™å›æ¥ï¼Ÿâ€</p>
<p>åˆ æ‰ã€‚æ²¡æœ‰èµ„æ ¼å‚¬ä¿ƒã€‚</p>
<p>æœ€åï¼Œä»–åªå‘äº†é‚£å¼ ç…§ç‰‡è¿‡å»ã€‚</p>
<p>ç¬¬äº”ç« ï¼šåŠå˜ç±³çš„è·ç¦»</p>
<p>è‹å·çš„é›¨æ¯”å®¶é‡Œè¦æ¸©æŸ”ä¸€äº›ã€‚</p>
<p>æ—å©‰ååœ¨å›­æ—çš„è¿å»Šä¸‹ï¼Œçœ‹ç€é›¨æ°´é¡ºç€é»›ç“¦æ»´è½ï¼Œå½¢æˆä¸€ä¸²ä¸²ç å¸˜ã€‚</p>
<p>æ‰‹æœºéœ‡åŠ¨äº†ä¸€ä¸‹ã€‚æ˜¯é™ˆå™å‘æ¥çš„ç…§ç‰‡ã€‚</p>
<p>é‚£é¢å¢™å¾ˆç™½ï¼Œç™½å¾—æœ‰äº›æ»‘ç¨½ã€‚å°±åƒé™ˆå™è¿™ä¸ªäººä¸€æ ·ï¼Œè¯•å›¾ç”¨ä¸€ç§ç¬¨æ‹™çš„ã€ç›´çº¿çš„é€»è¾‘æ¥ä¿®å¤ä¸€æ®µå¤æ‚çš„ã€æ›²çº¿çš„æƒ…æ„Ÿã€‚</p>
<p>æ—å©‰çœ‹ç€ç…§ç‰‡ï¼Œå¿ƒé‡Œå¹¶æ²¡æœ‰æ¶Œèµ·é‚£ç§ç†Ÿæ‚‰çš„åŒçƒ¦ï¼Œåè€Œæœ‰ä¸€ä¸æ·¡æ·¡çš„é…¸æ¥šã€‚</p>
<p>å¥¹çŸ¥é“é™ˆå™ä¸æ˜¯åäººã€‚ä»–åªæ˜¯ä¸€ä¸ªåœ¨ç°ä»£ç¤¾ä¼šé«˜å‹è¿è½¬ä¸‹ï¼Œæƒ…æ„ŸåŠŸèƒ½é€€åŒ–çš„é›¶ä»¶ã€‚ä»–åŠªåŠ›èµšé’±å…»å®¶ï¼Œè¿™æ˜¯ä»–è¡¨è¾¾çˆ±çš„æ–¹å¼ã€‚åªæ˜¯è¿™ç§æ–¹å¼ï¼Œé”™ä½äº†ã€‚</p>
<p>å¥¹å¹¶ä¸æ˜¯æƒ³ç¦»å©šã€‚å¦‚æœè¦ç¦»å©šï¼Œå¥¹ä¸éœ€è¦ç­‰åˆ°ç°åœ¨ã€‚å¥¹åªæ˜¯éœ€è¦é€æ°”ï¼Œéœ€è¦è®©ä»–æ˜ç™½ï¼Œå©šå§»ä¸æ˜¯æ­ä¼™è¿‡æ—¥å­çš„å¥‘çº¦ï¼Œè€Œæ˜¯ä¸¤ä¸ªçµé­‚çš„å…±æŒ¯ã€‚å¦‚æœéœ‡åŠ¨åœæ­¢äº†ï¼Œæˆ¿å­å†ç¨³å›ºï¼Œä¹Ÿåªæ˜¯ä¸€åº§åŸå¢“ã€‚</p>
<p>æ—å©‰ç‚¹å¼€é”®ç›˜ï¼Œæ‰“å­—ï¼šâ€œå¤ªç™½äº†ï¼Œä¸å¥½çœ‹ã€‚â€</p>
<p>é™ˆå™ç§’å›ï¼šâ€œæ˜¯æœ‰ç‚¹ã€‚å·¥äººè¯´æ—§å¢™æ°§åŒ–äº†ï¼Œä¼šæœ‰è‰²å·®ã€‚è¿‡æ®µæ—¶é—´â€¦â€¦è¿‡æ®µæ—¶é—´ä¹Ÿè®¸å°±èåˆäº†ã€‚â€</p>
<p>æ—å©‰çœ‹ç€â€œè¿‡æ®µæ—¶é—´â€è¿™å››ä¸ªå­—ã€‚</p>
<p>ä»¥å‰è¿™ä¹Ÿæ˜¯é™ˆå™çš„å£å¤´ç¦…ã€‚â€œè¿‡æ®µæ—¶é—´å¸¦ä½ å»æ—…æ¸¸â€ã€â€œè¿‡æ®µæ—¶é—´æˆ‘å°±ä¸å¿™äº†â€ã€‚</p>
<p>ä½†è¿™æ¬¡ï¼Œå¥¹è¯»å‡ºäº†ä¸€ç‚¹ä¸ä¸€æ ·çš„æ„å‘³ã€‚é‚£æ˜¯å°å¿ƒç¿¼ç¿¼çš„è¯•æ¢ï¼Œæ˜¯ä¸€ç§æ‰¿è®¤â€œç°åœ¨ä¸è¡Œï¼Œä½†æˆ‘æ„¿æ„ç­‰â€çš„å§¿æ€ã€‚</p>
<p>â€œé™ˆå™ã€‚â€æ—å©‰å‘äº†ä¸€æ¡è¯­éŸ³ã€‚</p>
<p>é™ˆå™åœ¨å®¶é‡Œï¼Œé¢¤æŠ–ç€æ‰‹ç‚¹å¼€ã€‚</p>
<p>â€œæˆ‘åœ¨è‹å·çœ‹åˆ°äº†è¿™è¾¹çš„è€æˆ¿å­ã€‚æœ‰äº›å¢™è£‚äº†ï¼Œä»–ä»¬ä¸ä¿®ï¼Œåè€Œåœ¨è£‚ç¼é‡Œç§ä¸Šäº†è‹”è—“ï¼Œæˆ–è€…ç”»æˆäº†æ¢…èŠ±æå¹²ã€‚è£‚ç—•è¿˜åœ¨ï¼Œä½†å®ƒå˜æˆäº†é£æ™¯çš„ä¸€éƒ¨åˆ†ã€‚â€</p>
<p>æ—å©‰çš„å£°éŸ³å¬èµ·æ¥å¾ˆå¹³å’Œï¼Œä¼´ç€èƒŒæ™¯é‡Œçš„é›¨å£°ï¼Œåƒæ˜¯ä¸€é¦–é¥è¿œçš„æ­Œã€‚</p>
<p>â€œæˆ‘ä»¬ä¹‹é—´çš„è£‚ç—•ï¼Œé“²æ‰é‡åˆ·æ˜¯é®ä¸ä½çš„ã€‚é‚£å—è‰²å·®ä¼šä¸€ç›´éƒ½åœ¨ã€‚â€</p>
<p>é™ˆå™å¬å®Œï¼Œæ²‰é»˜äº†å¾ˆä¹…ã€‚ä»–èµ°åˆ°é‚£é¢å¢™å‰ï¼Œä¼¸å‡ºæ‰‹ï¼ŒæŒ‡è…¹è½»è½»æŠšæ‘¸ç€æ–°æ—§äº¤ç•Œçš„åœ°æ–¹ã€‚é‚£é‡Œæœ‰ä¸€é“æå…¶ç»†å¾®çš„ã€åŠå˜ç±³å®½çš„å‡¸èµ·ã€‚</p>
<p>è¿™æ˜¯ä¼¤ç–¤ã€‚</p>
<p>ä»–æ‹¿èµ·æ‰‹æœºï¼ŒæŒ‰ä¸‹è¯­éŸ³é”®ã€‚è¿™æ˜¯ä»–ç¬¬ä¸€æ¬¡ç»™æ—å©‰å‘è¿™ä¹ˆé•¿çš„è¯­éŸ³ã€‚</p>
<p>â€œå©‰å©‰ï¼Œæˆ‘çŸ¥é“é®ä¸ä½ã€‚æˆ‘ä¹Ÿä¸æƒ³é®äº†ã€‚è¿™å—è‰²å·®ç•™ç€å§ï¼Œæé†’æˆ‘ï¼Œæˆ‘æ›¾ç»æŠŠäº‹æƒ…æç ¸è¿‡ã€‚ä½†æˆ‘â€¦â€¦æˆ‘æƒ³å­¦å­¦æ€ä¹ˆåœ¨ä¸Šé¢ç”»æ¢…èŠ±ã€‚æˆ‘ä¸æ‡‚ç”»ç”»ï¼Œä½ èƒ½ä¸èƒ½â€¦â€¦å›æ¥æ•™æ•™æˆ‘ï¼Ÿâ€</p>
<p>å‘é€æˆåŠŸã€‚</p>
<p>é™ˆå™æ”¾ä¸‹æ‰‹æœºï¼Œèµ°åˆ°é˜³å°ã€‚</p>
<p>é›¨åœäº†ã€‚</p>
<p>äº‘å±‚è£‚å¼€äº†ä¸€é“ç¼éš™ï¼Œä¸€æŸä¹…è¿çš„é˜³å…‰åƒé‡‘è‰²çš„å‰‘ä¸€æ ·åˆºç ´äº†åšé‡çš„äº‘å±‚ï¼ŒæŠ•å°„åœ¨æ½®æ¹¿çš„æŸæ²¹é©¬è·¯ä¸Šã€‚</p>
<p>æ°´æ±½å¼€å§‹è’¸å‘ï¼Œç©ºæ°”é‡Œé‚£ç§é»è…»çš„æ²‰é‡æ„Ÿæ­£åœ¨æ¶ˆæ•£ã€‚</p>
<p>æ‰‹æœºéœ‡åŠ¨äº†ä¸€ä¸‹ã€‚</p>
<p>æ—å©‰å›äº†ä¸€ä¸ªå­—ï¼šâ€œå¥½ã€‚â€</p>
<p>å¹¶æ²¡æœ‰è¯´ä»€ä¹ˆæ—¶å€™å›ï¼Œä¹Ÿæ²¡æœ‰è¯´åŸè°…ã€‚ä½†è¿™ä¸ªâ€œå¥½â€å­—ï¼Œå°±åƒé‚£æŸé˜³å…‰ä¸€æ ·ï¼Œè™½ç„¶å¾®å¼±ï¼Œå´è¶³ä»¥ç…§äº®é‚£é¢æ–‘é©³çš„å¢™ã€‚</p>
<p>é™ˆå™çœ‹ç€è¿œå¤„çš„å¤©é™…çº¿ï¼Œæ·±æ·±åœ°å¸äº†ä¸€å£å¸¦ç€æ³¥åœŸè…¥å‘³çš„ç©ºæ°”ã€‚</p>
<p>é™¤æ¹¿æœºä¸å†å“äº†ã€‚</p>
<p>ä½†ä»–çŸ¥é“ï¼ŒçœŸæ­£çš„é™¤æ¹¿ï¼Œæ‰åˆšåˆšå¼€å§‹ã€‚</p>
<p>ï¼ˆå®Œï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»]]></title>    <link>https://juejin.cn/post/7582438809377472554</link>    <guid>https://juejin.cn/post/7582438809377472554</guid>    <pubDate>2025-12-11T11:17:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809377472554" data-draft-id="7582397035942690822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T11:17:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:17:39.000Z" title="Thu Dec 11 2025 11:17:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>CMake Tools æ˜¯ç”± Microsoft å¼€å‘çš„ VS Code æ‰©å±•ï¼Œå…¶æ ¸å¿ƒå®šä½æ˜¯ä½œä¸º CMake ä¸ IDE ç•Œé¢ä¹‹é—´çš„æ¡¥æ¢ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä¼ ç»Ÿå‘½ä»¤è¡Œå¼€å‘ä¸­çš„å¤šæ­¥éª¤æ“ä½œï¼ˆå¦‚é…ç½®ã€ç”Ÿæˆã€æ„å»ºæµç¨‹ï¼‰æ¥æå‡å¼€å‘æ•ˆç‡ã€‚è¯¥å·¥å…·ä¸ä»…æä¾›åŸºç¡€çš„é¡¹ç›®ç®¡ç†åŠŸèƒ½ï¼Œè¿˜åŒ…å«è¯¦ç»†çš„æ–‡æ¡£æ”¯æŒï¼ˆå¦‚ FAQ æŒ‡å—ï¼‰ä»¥å¸®åŠ©ç”¨æˆ·è§£å†³ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ç–‘é—®ã€‚</p>
<p>ä»ç”¨æˆ·éœ€æ±‚é€‚é…è§’åº¦ï¼ŒCMake Tools å®ç°äº†å¯¹ä¸åŒæŠ€æœ¯æ°´å¹³å¼€å‘è€…çš„è¦†ç›–ï¼šå¯¹äºæ–°æ‰‹ï¼Œå…¶æä¾›å¿«é€Ÿå…¥é—¨å¼•å¯¼ç®€åŒ–ä¸Šæ‰‹æµç¨‹ï¼›å¯¹äºä¸“ä¸šå¼€å‘è€…ï¼Œåˆ™æ”¯æŒé«˜çº§é…ç½®ä»¥æ»¡è¶³å¤æ‚é¡¹ç›®éœ€æ±‚ã€‚è¿™ç§åŒé‡æ”¯æŒä½“ç³»ä½¿å…¶æˆä¸ºè·¨åœºæ™¯ CMake é¡¹ç›®å¼€å‘çš„é«˜æ•ˆå·¥å…·ã€‚</p>
<p>è·å–è¯¥å·¥å…·çš„æ ‡å‡†æµç¨‹éœ€é€šè¿‡ VS Code æ‰©å±•é¢æ¿å®Œæˆã€‚åœ¨æ‰©å±•å¸‚åœºæœç´¢ "cmake" æ—¶ï¼Œéœ€æ³¨æ„é€‰æ‹© Microsoft å®˜æ–¹å‘å¸ƒçš„ "CMake Tools"ï¼ˆæè¿°ä¸º "Extended CMake support..."ï¼‰ï¼Œç‚¹å‡»ç•Œé¢ä¸­çš„ "Install" æŒ‰é’®å³å¯å®Œæˆå®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/456ffdb5fe4e4d38aab82f00ebd21360~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056659&amp;x-signature=JZPy9i2ChGZ3MpfhzP9UUaW8RTk%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ ¸å¿ƒä»·å€¼æ€»ç»“ï¼šé€šè¿‡ IDE é›†æˆå®ç° CMake å·¥ä½œæµè‡ªåŠ¨åŒ–ï¼Œæ¶ˆé™¤å‘½ä»¤è¡Œæ“ä½œå¤æ‚æ€§ï¼›å…¼é¡¾æ–°æ‰‹å‹å¥½æ€§ä¸ä¸“ä¸šæ‰©å±•æ€§ï¼›ä¸ VS Code ç”Ÿæ€æ·±åº¦èåˆï¼Œæä¾›ä¸€è‡´çš„å¼€å‘ä½“éªŒã€‚</p>
</blockquote>
<h2 data-id="heading-0">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è§£æ</h2>
<h3 data-id="heading-1">é…ç½®æ¨¡å—ï¼šæ™ºèƒ½ç¼“å­˜ç”Ÿæˆä¸å‘½ä»¤è¡Œç®€åŒ–</h3>
<p>é…ç½®æ¨¡å—æ˜¯ VS Code CMake Tools çš„æ ¸å¿ƒç»„ä»¶ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½åœ¨äºè‡ªåŠ¨åŒ– CMake ç¼“å­˜ç”Ÿæˆé€»è¾‘ã€‚ä¼ ç»Ÿå‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼Œå¼€å‘è€…éœ€æ‰‹åŠ¨æ‰§è¡Œ <code>cmake -S . -B build</code> æŒ‡å®šæºä»£ç ç›®å½•ï¼ˆ<code>-S</code>ï¼‰å’Œæ„å»ºç›®å½•ï¼ˆ<code>-B</code>ï¼‰ï¼Œè€Œå·¥å…·é€šè¿‡å›¾å½¢åŒ–ç•Œé¢å°†è¿™ä¸€è¿‡ç¨‹ç®€åŒ–ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šé€‰æ‹©å·¥å…·é“¾ï¼ˆå¦‚ GCCã€Clang æˆ– MSVCï¼‰ã€é…ç½®æ„å»ºç±»å‹ï¼ˆ<code>CMAKE_BUILD_TYPE</code>ï¼‰ã€è®¾ç½®è‡ªå®šä¹‰å‚æ•°ã€‚ç¼“å­˜ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>CMakeLists.txt</code>ï¼Œå¹¶æ ¹æ®ç”¨æˆ·é…ç½®ç”Ÿæˆ <code>CMakeCache.txt</code>ï¼Œé¿å…äº†å‘½ä»¤è¡Œè¾“å…¥é”™è¯¯å¯¼è‡´çš„é…ç½®å¤±æ•ˆé—®é¢˜ã€‚</p>
<p>å…³é”®é…ç½®å‚æ•°å¯¹é¡¹ç›®æ„å»ºç»“æœå…·æœ‰ç›´æ¥å½±å“ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>CMAKE_BUILD_TYPE</code>ï¼šæ§åˆ¶ç¼–è¯‘ä¼˜åŒ–çº§åˆ«ä¸è°ƒè¯•ä¿¡æ¯ç”Ÿæˆï¼Œå–å€¼èŒƒå›´åŒ…æ‹¬ Debugï¼ˆæ— ä¼˜åŒ–ï¼Œå«è°ƒè¯•ç¬¦å·ï¼‰ã€Releaseï¼ˆæœ€é«˜ä¼˜åŒ–ï¼Œæ— è°ƒè¯•ä¿¡æ¯ï¼‰ã€RelWithDebInfoï¼ˆä¼˜åŒ–+è°ƒè¯•ç¬¦å·ï¼‰å’Œ MinSizeRelï¼ˆæœ€å°ä½“ç§¯ä¼˜åŒ–ï¼‰ã€‚åœ¨å¼€å‘é˜¶æ®µé€‰æ‹© Debug å¯æ˜¾è‘—æå‡è°ƒè¯•æ•ˆç‡ï¼Œè€Œå‘å¸ƒç‰ˆæœ¬éœ€åˆ‡æ¢è‡³ Release ä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚</li>
<li><code>CMAKE_CXX_STANDARD</code>ï¼šæŒ‡å®š C++ æ ‡å‡†ç‰ˆæœ¬ï¼ˆå¦‚ 11ã€14ã€17 æˆ– 20ï¼‰ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ ¡éªŒç¼–è¯‘å™¨å…¼å®¹æ€§å¹¶ç”Ÿæˆç›¸åº”ç¼–è¯‘å‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-2">æ„å»ºæ¨¡å—ï¼šçµæ´»ç›®æ ‡ç®¡ç†ä¸æ€§èƒ½ä¼˜åŒ–</h3>
<p>æ„å»ºæ¨¡å—é€šè¿‡ã€Œå¤šç”Ÿæˆå™¨æ”¯æŒã€å’Œã€Œç›®æ ‡é€‰æ‹©æœºåˆ¶ã€æå‡å¼€å‘æ•ˆç‡ã€‚å·¥å…·é»˜è®¤é›†æˆ Ninjaã€Makefilesã€Visual Studio ç­‰å¤šç§ç”Ÿæˆå™¨ï¼Œå…¶ä¸­ Ninja ç”Ÿæˆå™¨å‡­å€Ÿå¹¶è¡Œç¼–è¯‘èƒ½åŠ›æˆä¸ºæ€§èƒ½ä¼˜åŒ–çš„å…³é”®â€”â€”å…¶åŸºäºä¾èµ–å…³ç³»å›¾çš„ä»»åŠ¡è°ƒåº¦å¯å……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼Œè¾ƒä¼ ç»Ÿ Make æ„å»ºé€Ÿåº¦æå‡ 30%~50%ã€‚å¼€å‘è€…å¯é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰æ‰§è¡Œ <code>CMake: Build</code> å¹¶é€‰æ‹©ç‰¹å®šç›®æ ‡ï¼ˆå¦‚å¯æ‰§è¡Œæ–‡ä»¶ã€é™æ€åº“æˆ–è‡ªå®šä¹‰ç›®æ ‡ï¼‰ï¼Œé¿å…å…¨é¡¹ç›®é‡æ–°ç¼–è¯‘ã€‚</p>
<p>æ€§èƒ½ä¼˜åŒ–å®è·µï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>å¯ç”¨å¢é‡æ„å»ºï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼Œä»…é‡æ–°ç¼–è¯‘ä¿®æ”¹è¿‡çš„æºæ–‡ä»¶ï¼›</li>
<li>é…ç½® <code>CMAKE_CXX_FLAGS</code> æ·»åŠ ç¼–è¯‘å™¨ç‰¹å®šä¼˜åŒ–ï¼ˆå¦‚ GCC çš„ <code>-O3</code> æˆ– Clang çš„ <code>-march=native</code>ï¼‰ï¼›</li>
<li>ä½¿ç”¨ <code>ctest</code> é›†æˆæµ‹è¯•ç›®æ ‡ï¼Œé€šè¿‡ <code>CMake: Run Tests</code> ä¸€é”®æ‰§è¡Œå•å…ƒæµ‹è¯•ã€‚</li>
</ul>
<h3 data-id="heading-3">è°ƒè¯•æ¨¡å—ï¼šåŒæ¨¡å¼é€‚é…ä¸ç²¾å‡†å‚æ•°é…ç½®</h3>
<p>è°ƒè¯•æ¨¡å—æ”¯æŒã€Œå¯åŠ¨è°ƒè¯•ï¼ˆLaunchï¼‰ã€å’Œã€Œé™„åŠ è°ƒè¯•ï¼ˆAttachï¼‰ã€ä¸¤ç§æ¨¡å¼ï¼Œè¦†ç›–ä¸åŒå¼€å‘åœºæ™¯ï¼š</p>
<ul>
<li><strong>Launch æ¨¡å¼</strong>ï¼šé€‚ç”¨äºä»é›¶å¯åŠ¨ç¨‹åºï¼Œéœ€åœ¨ <code>launch.json</code> ä¸­é…ç½® <code>program</code>ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼‰å’Œ <code>args</code>ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œè°ƒè¯•è·¯å¾„ä¸º <code>${workspaceFolder}/build/app</code> çš„ç¨‹åºå¹¶ä¼ å…¥ <code>--config debug</code> å‚æ•°ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Launch App"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/build/app"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--config"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"debug"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Attach æ¨¡å¼</strong>ï¼šç”¨äºè°ƒè¯•å·²è¿è¡Œè¿›ç¨‹ï¼Œéœ€æŒ‡å®šè¿›ç¨‹ IDï¼ˆPIDï¼‰æˆ–è¿›ç¨‹åç§°ï¼Œé€‚ç”¨äºæœåŠ¡ç«¯ç¨‹åºæˆ–åå°è¿›ç¨‹è°ƒè¯•ã€‚</li>
</ul>
<p>å·¥å…·é€šè¿‡ã€Œå˜é‡æ›¿æ¢æœºåˆ¶ã€ï¼ˆå¦‚ <code>${workspaceFolder}</code>ã€<code>${buildType}</code>ï¼‰åŠ¨æ€é€‚é…ä¸åŒæ„å»ºé…ç½®ï¼Œç¡®ä¿è°ƒè¯•å™¨å§‹ç»ˆå…³è”æœ€æ–°ç¼–è¯‘äº§ç‰©ã€‚åŒæ—¶ï¼Œé›†æˆ GDBã€LLDB ç­‰è°ƒè¯•å™¨æä¾›æ–­ç‚¹ç®¡ç†ã€å˜é‡ç›‘è§†å’Œè°ƒç”¨æ ˆåˆ†æåŠŸèƒ½ï¼Œå®ç°ä»£ç ç¼–è¾‘ä¸è°ƒè¯•çš„æ— ç¼è¡”æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-4">é¡¹ç›®å¼€å‘å…¨æµç¨‹å®è·µ</h2>
<p>VSCode CMake Tools æä¾›äº†ä»é¡¹ç›®åˆ›å»ºåˆ°è·¯å¾„é…ç½®çš„å®Œæ•´å¼€å‘é—­ç¯ï¼Œä»¥ä¸‹æŒ‰ã€Œåˆ›å»º-é…ç½®-æ„å»º-è°ƒè¯•-è·¯å¾„è®¾ç½®ã€æµç¨‹è¯¦è§£å®æ“æ­¥éª¤ã€‚</p>
<h3 data-id="heading-5">åˆ›å»ºç¯èŠ‚ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸æ¨¡æ¿é€‰æ‹©</h3>
<p>é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è°ƒç”¨ <code>CMake: Quick Start</code> å‘½ä»¤å¯åŠ¨é¡¹ç›®å‘å¯¼ï¼Œæ ¹æ®å¼€å‘éœ€æ±‚é€‰æ‹©æ¨¡æ¿ç±»å‹ï¼š</p>
<ul>
<li><strong>Executable</strong>ï¼šé€‚ç”¨äºæ„å»ºå¯æ‰§è¡Œç¨‹åºï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…å« <code>main.cpp</code> çš„åŸºç¡€å·¥ç¨‹ç»“æ„</li>
<li><strong>Library</strong>ï¼šç”¨äºåˆ›å»ºé™æ€/åŠ¨æ€åº“ï¼Œç”ŸæˆåŒ…å«å¤´æ–‡ä»¶å’Œå®ç°æ–‡ä»¶çš„åº“é¡¹ç›®æ¡†æ¶</li>
</ul>
<p>å‘å¯¼å®Œæˆåå°†è‡ªåŠ¨ç”Ÿæˆåˆå§‹ <code>CMakeLists.txt</code>ï¼ŒåŒ…å«é¡¹ç›®åç§°ã€ç‰ˆæœ¬å·åŠè¯­è¨€æ ‡å‡†ç­‰åŸºç¡€é…ç½®ã€‚</p>
<h3 data-id="heading-6">é…ç½®ç¯èŠ‚ï¼šç¼“å­˜ç”Ÿæˆä¸é—®é¢˜æ’æŸ¥</h3>
<p>é…ç½®è¿‡ç¨‹æ˜¯å°† <code>CMakeLists.txt</code> è½¬æ¢ä¸ºæ„å»ºç³»ç»Ÿæ–‡ä»¶çš„æ ¸å¿ƒæ­¥éª¤ï¼Œæ“ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è¾“å…¥å¹¶æ‰§è¡Œ <code>CMake: Configure</code> å‘½ä»¤</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5633515f8d144d279ed5ddd390988b12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056659&amp;x-signature=lXINON7vngQAYjR8Iny4cCOS89w%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>é¦–æ¬¡é…ç½®éœ€é€‰æ‹©ç¼–è¯‘å™¨ï¼ˆå¦‚ GCCã€Clang æˆ– MSVCï¼‰ï¼Œåç»­é…ç½®å°†è‡ªåŠ¨æ²¿ç”¨</li>
<li>é…ç½®ç»“æœå¯é€šè¿‡ Output é¢æ¿ï¼ˆ<code>Ctrl+Shift+U</code> åˆ‡æ¢ï¼‰çš„ CMake/Build é€šé“æŸ¥çœ‹è¯¦ç»†æ—¥å¿—</li>
</ol>
<p>é…ç½®å¤±è´¥æ’æŸ¥æŒ‡å—ï¼š</p>
<ul>
<li><strong>ä¾èµ–ç¼ºå¤±</strong>ï¼šæ—¥å¿—ä¸­å‡ºç° "Could NOT find XXX" æç¤ºæ—¶ï¼Œéœ€é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…å¯¹åº”ä¾èµ–</li>
<li><strong>è¯­æ³•é”™è¯¯</strong>ï¼š<code>CMakeLists.txt</code> å­˜åœ¨è¯­æ³•é—®é¢˜ä¼šå¯¼è‡´ "Parse error"ï¼Œå¯é€šè¿‡ VS Code å†…ç½® CMake è¯­æ³•é«˜äº®å®šä½é”™è¯¯è¡Œ</li>
<li><strong>è·¯å¾„é—®é¢˜</strong>ï¼šåŒ…å«é ASCII å­—ç¬¦æˆ–ç©ºæ ¼çš„é¡¹ç›®è·¯å¾„å¯èƒ½å¼•å‘é…ç½®å¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨çº¯è‹±æ–‡è·¯å¾„</li>
</ul>
<p>é…ç½®æˆåŠŸåå°†åœ¨ <code>build</code> ç›®å½•ç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼ˆå¦‚ <code>CMakeCache.txt</code>ï¼‰ï¼Œä¿®æ”¹ <code>CMakeLists.txt</code> åéœ€é‡æ–°æ‰§è¡Œé…ç½®å‘½ä»¤æ›´æ–°ç¼“å­˜ã€‚</p>
<h3 data-id="heading-7">æ„å»ºç¯èŠ‚ï¼šç¼–è¯‘ä¼˜åŒ–ä¸å¤šé…ç½®ç®¡ç†</h3>
<p>æ„å»ºæ“ä½œé€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è°ƒç”¨ <code>CMake: Build</code> å‘½ä»¤è§¦å‘ï¼Œå…³é”®é…ç½®åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¹¶è¡Œä»»åŠ¡æ•°è®¾ç½®</strong>ï¼šå»ºè®®é…ç½®ä¸º CPU æ ¸å¿ƒæ•°çš„ 1.5 å€ï¼ˆé€šè¿‡ <code>CMake: Set Build Parallel Level</code> å‘½ä»¤è°ƒæ•´ï¼‰ï¼Œå¹³è¡¡ç¼–è¯‘é€Ÿåº¦ä¸ç³»ç»Ÿè´Ÿè½½</li>
<li><strong>å¤šé…ç½®ç”Ÿæˆå™¨ä½¿ç”¨</strong>ï¼šå¯¹æ”¯æŒå¤šé…ç½®çš„ç”Ÿæˆå™¨ï¼ˆå¦‚ Visual Studioã€Xcodeï¼‰ï¼Œå¯é€šè¿‡çŠ¶æ€æ çš„æ„å»ºç±»å‹ä¸‹æ‹‰èœå•ï¼ˆé»˜è®¤ä¸º Debugï¼‰å¿«é€Ÿåˆ‡æ¢ Debug/Release/RelWithDebInfo æ¨¡å¼ï¼Œæ— éœ€é‡å¤é…ç½®</li>
</ul>
<h3 data-id="heading-8">è°ƒè¯•ç¯èŠ‚ï¼šä¸¤ç§è°ƒè¯•æ¨¡å¼å¯¹æ¯”</h3>























<table><thead><tr><th>è°ƒè¯•æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>é…ç½®å¤æ‚åº¦</th><th>å‚æ•°ä¼ é€’æ–¹å¼</th></tr></thead><tbody><tr><td>å¿«é€Ÿè°ƒè¯•</td><td>ä¸´æ—¶è°ƒè¯•éªŒè¯</td><td>ä½</td><td>ä¸æ”¯æŒè‡ªå®šä¹‰å‚æ•°</td></tr><tr><td>launch.json é…ç½®</td><td>å¤æ‚è°ƒè¯•åœºæ™¯</td><td>é«˜</td><td>é€šè¿‡ args å­—æ®µå®šä¹‰</td></tr></tbody></table>
<p>args å‚æ•°ä¼ é€’ç¤ºä¾‹ï¼ˆ<code>launch.json</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(gdb) Launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${command:cmake.launchTargetPath}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--input"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"data.txt"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"--verbose"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"environment"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"externalConsole"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"MIMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gdb"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">Include è·¯å¾„è®¾ç½®ï¼šè‡ªåŠ¨åŒæ­¥ä¸æ‰‹åŠ¨è¡¥å……</h3>
<p>å¤´æ–‡ä»¶è·¯å¾„ç®¡ç†é‡‡ç”¨åŒé‡æœºåˆ¶ç¡®ä¿ IntelliSense æ­£å¸¸å·¥ä½œï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åŒæ­¥</strong>ï¼šCMake é…ç½®è¿‡ç¨‹ä¸­ä¼šç”Ÿæˆ <code>compile_commands.json</code>ï¼ˆéœ€åœ¨ <code>CMakeLists.txt</code> ä¸­è®¾ç½® <code>set(CMAKE_EXPORT_COMPILE_COMMANDS ON)</code>ï¼‰ï¼ŒVS Code ä¼šè‡ªåŠ¨è§£æè¯¥æ–‡ä»¶åŒæ­¥ include è·¯å¾„</li>
<li><strong>æ‰‹åŠ¨è¡¥å……</strong>ï¼šå½“è‡ªåŠ¨åŒæ­¥ä¸å®Œæ•´æ—¶ï¼Œå¯é€šè¿‡ <code>.vscode/c_cpp_properties.json</code> æ‰‹åŠ¨æ·»åŠ è·¯å¾„ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Linux"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"includePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"${workspaceFolder}/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"/usr/local/include"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"${workspaceFolder}/third_party/include"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"defines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"compilerPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/bin/gcc"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cStandard"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c17"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cppStandard"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c++20"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>è·¯å¾„ä¼˜å…ˆçº§è§„åˆ™ï¼šæ‰‹åŠ¨é…ç½®çš„ <code>includePath</code> ä¼˜å…ˆçº§é«˜äº <code>compile_commands.json</code> ä¸­çš„è·¯å¾„ï¼Œå­˜åœ¨å†²çªæ—¶ä»¥æ‰‹åŠ¨é…ç½®ä¸ºå‡†</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">é«˜çº§ç‰¹æ€§ä¸å®šåˆ¶åŒ–æ–¹æ¡ˆ</h2>
<p>VSCode CMake Tools çš„é«˜çº§ç‰¹æ€§ä½“ç³»å›´ç»•ã€Œæ ‡å‡†åŒ–-ç²¾å‡†æ§åˆ¶-åœºæ™¯åˆ‡æ¢ã€æ„å»ºï¼Œé€šè¿‡ä¸‰å¤§æ ¸å¿ƒç»„ä»¶è§£å†³ä¼ ç»Ÿé…ç½®æ¨¡å¼ä¸‹çš„ç¯å¢ƒä¸€è‡´æ€§ã€å·¥å…·é“¾é€‚é…ä¸å¤šåœºæ™¯åˆ‡æ¢éš¾é¢˜ã€‚</p>
<h3 data-id="heading-11">CMake Presetsï¼šå±‚çº§åŒ–é…ç½®å®ç°å›¢é˜Ÿåä½œæ ‡å‡†åŒ–</h3>
<p>å…¶æ ¸å¿ƒåŒ…å«ï¼š</p>
<ul>
<li><code>configurePresets</code>ï¼šå®šä¹‰åŸºç¡€æ„å»ºç¯å¢ƒï¼ˆå¦‚ CMake ç‰ˆæœ¬ã€ç”Ÿæˆå™¨ç±»å‹ï¼‰</li>
<li><code>buildPresets</code>ï¼šç»§æ‰¿é…ç½®å¹¶æ·»åŠ ç¼–è¯‘å‚æ•°ï¼ˆå¦‚å¹¶è¡Œä»»åŠ¡æ•°ï¼‰</li>
<li><code>testPresets</code>ï¼šä¸“æ³¨æµ‹è¯•æ‰§è¡Œç­–ç•¥ï¼ˆå¦‚æµ‹è¯•è¶…æ—¶è®¾ç½®ï¼‰</li>
</ul>
<p>è¿™ç§ç»“æ„åŒ–é…ç½®å¯é€šè¿‡ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå…±äº«ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç»Ÿä¸€çš„æ„å»ºç¯å¢ƒï¼Œæœ‰æ•ˆæ¶ˆé™¤ã€Œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œã€çš„åä½œéšœç¢ã€‚</p>
<h3 data-id="heading-12">å·¥å…·é“¾ç®¡ç†ï¼ˆKitsï¼‰ï¼šåŒè½¨åˆ¶é€‚é…æ–¹æ¡ˆ</h3>
<ul>
<li><strong>è‡ªåŠ¨å‘ç°æ¨¡å¼</strong>ï¼šé€‚ç”¨äºæ ‡å‡†å¼€å‘ç¯å¢ƒï¼ˆå¦‚æ¡Œé¢ç«¯ GCC/Clangï¼‰ï¼ŒVSCode ä¼šæ‰«æç³»ç»Ÿè·¯å¾„å¹¶è¯†åˆ«å·²å®‰è£…ç¼–è¯‘å™¨</li>
<li><strong>æ‰‹åŠ¨å®šä¹‰æ¨¡å¼</strong>ï¼šé’ˆå¯¹åµŒå…¥å¼å¼€å‘ç­‰ç‰¹æ®Šåœºæ™¯ï¼Œæ”¯æŒé€šè¿‡ JSON é…ç½®æ–‡ä»¶æŒ‡å®šäº¤å‰ç¼–è¯‘å·¥å…·é“¾ã€‚ä¾‹å¦‚ä¸º ARM åµŒå…¥å¼é¡¹ç›®é…ç½®å·¥å…·é“¾æ—¶ï¼Œå¯åœ¨ <code>kits.json</code> ä¸­æ˜ç¡®å®šä¹‰ç¼–è¯‘å™¨è·¯å¾„ä¸ç›®æ ‡æ¶æ„ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ARM GCC Embedded"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"compilers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"C"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm-none-eabi-gcc"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"CXX"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm-none-eabi-g++"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"cmakeSettings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"CMAKE_SYSTEM_NAME"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Generic"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"CMAKE_SYSTEM_PROCESSOR"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-13">Variantsï¼šYAML é…ç½®å®ç°æ„å»ºåœºæ™¯åŠ¨æ€åˆ‡æ¢</h3>
<p>æ ¸å¿ƒä¾èµ–ã€Œfiltersã€å’Œã€Œsettingsã€å­—æ®µçš„ååŒå·¥ä½œã€‚ä»¥ Debug/Release å˜ä½“ä¸ºä¾‹ï¼š</p>
<ul>
<li><code>filters</code> å­—æ®µé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç‰¹å®šæ„å»ºç±»å‹</li>
<li><code>settings</code> å­—æ®µåˆ™åŠ¨æ€è°ƒæ•´å¯¹åº”å‚æ•°ï¼šDebug å˜ä½“å¯ç”¨ <code>-O0</code> ä¼˜åŒ–å’Œ <code>-g</code> è°ƒè¯•ç¬¦å·ï¼ŒRelease å˜ä½“åˆ™é‡‡ç”¨ <code>-O3</code> ä¼˜åŒ–å¹¶ç¦ç”¨è°ƒè¯•ä¿¡æ¯</li>
</ul>
<p>è¿™ç§æœºåˆ¶æ”¯æŒè·¨å¹³å°å¼€å‘åœºæ™¯ï¼Œå¦‚ Windows ç¯å¢ƒè‡ªåŠ¨å…³è” MSVC å·¥å…·é“¾å¹¶å¯ç”¨ <code>/MD</code> è¿è¡Œæ—¶åº“ï¼ŒLinux ç¯å¢ƒåˆ™åˆ‡æ¢è‡³ GCC å¹¶é…ç½® <code>-fPIC</code> ä½ç½®æ— å…³ä»£ç é€‰é¡¹ï¼Œå®ç°åŒä¸€å¥—ä»£ç åº“åœ¨ä¸åŒæ“ä½œç³»ç»Ÿé—´çš„æ— ç¼æ„å»ºè¿‡æ¸¡ã€‚</p>
<blockquote>
<p>å…³é”®ä»·å€¼ï¼šä¸‰å¤§ç‰¹æ€§å½¢æˆäº’è¡¥é—­ç¯â€”â€”CMake Presets è§£å†³é…ç½®æ ‡å‡†åŒ–é—®é¢˜ï¼ŒKits å®ç°å·¥å…·é“¾ç²¾å‡†æ§åˆ¶ï¼ŒVariants åˆ™æä¾›åœºæ™¯åŠ¨æ€é€‚é…èƒ½åŠ›ã€‚åœ¨è·¨å¹³å°å¼€å‘ä¸­ï¼Œå¯é€šè¿‡ç»„åˆä½¿ç”¨å®ç°ã€Œä¸€æ¬¡é…ç½®ï¼Œå¤šç¯å¢ƒæ„å»ºã€ï¼Œæ˜¾è‘—æå‡å¤šå¹³å°é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">æœ€ä½³å®è·µä¸æ•ˆç‡ä¼˜åŒ–</h2>
<h3 data-id="heading-15">é…ç½®ç®¡ç†ï¼šç²¾å‡†æ§åˆ¶é¡¹ç›®æ„å»ºç¯å¢ƒ</h3>
<p>CMake é…ç½®è¿‡ç¨‹ä¸­ï¼Œæ™®é€š Configure æ“ä½œä¼šåŸºäºç¼“å­˜æ–‡ä»¶ incremental æ›´æ–°æ„å»ºç³»ç»Ÿï¼Œè€Œ Clean Configure åˆ™ä¼šå®Œå…¨æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆæ‰€æœ‰é…ç½®æ•°æ®ã€‚å½“é¡¹ç›®ä¸­å‘ç”Ÿ <code>CMakeLists.txt</code> ç»“æ„å˜æ›´ï¼ˆå¦‚æ–°å¢å­ç›®å½•ã€ä¿®æ”¹ä¾èµ–å…³ç³»ã€å˜æ›´ç¼–è¯‘å™¨è®¾ç½®ï¼‰æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ Clean Configure ä»¥é¿å…ç¼“å­˜æ±¡æŸ“å¯¼è‡´çš„æ„å»ºå¼‚å¸¸ã€‚åœ¨ VS Code ä¸­ï¼Œå¯é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è¿è¡Œ <code>CMake: Delete Cache and Reconfigure</code> å®ç°è¿™ä¸€æ“ä½œï¼Œç¡®ä¿é…ç½®å˜æ›´è¢«æ­£ç¡®åº”ç”¨ã€‚</p>
<h3 data-id="heading-16">æ„å»ºåŠ é€Ÿï¼šä»ç¼–è¯‘åˆ°é“¾æ¥çš„å…¨æµç¨‹ä¼˜åŒ–</h3>
<p>æ„å»ºæ•ˆç‡ä¼˜åŒ–éœ€ä»å·¥å…·é“¾é€‰æ‹©å’Œå¹¶è¡Œç­–ç•¥ä¸¤æ–¹é¢ç€æ‰‹ã€‚Ninja ç”Ÿæˆå™¨ç›¸æ¯”ä¼ ç»Ÿ Make å·¥å…·å…·æœ‰æ›´é«˜æ•ˆçš„ä¾èµ–è§£æèƒ½åŠ›å’Œä»»åŠ¡è°ƒåº¦æœºåˆ¶ï¼Œåœ¨å¤šæ–‡ä»¶é¡¹ç›®ä¸­å¯å‡å°‘ 30%-50% çš„æ„å»ºæ—¶é—´ã€‚é…ç½®æ–¹æ³•æ˜¯åœ¨ CMake é…ç½®æ—¶æŒ‡å®šç”Ÿæˆå™¨ç±»å‹ï¼Œé€šè¿‡ <code>settings.json</code> è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.generator"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Ninja"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯¹äº C/C++ é¡¹ç›®ï¼Œé›†æˆ <code>ccache</code> ç¼–è¯‘å™¨ç¼“å­˜å·¥å…·å¯å¤§å¹…å‡å°‘é‡å¤ç¼–è¯‘æ—¶é—´ã€‚åœ¨ <code>CMakeLists.txt</code> ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®å¯ç”¨ ccacheï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">find_program(CCACHE_FOUND ccache)
if(CCACHE_FOUND)
  set(CMAKE_C_COMPILER_LAUNCHER ${CCACHE_FOUND})
  set(CMAKE_CXX_COMPILER_LAUNCHER ${CCACHE_FOUND})
endif(CCACHE_FOUND)
</code></pre>
<p>å¹¶è¡Œæ„å»ºé…ç½®éœ€åŒæ—¶ä¼˜åŒ– CMake å’Œç”Ÿæˆå™¨å±‚é¢çš„ä»»åŠ¡æ•°ã€‚åœ¨ <code>settings.json</code> ä¸­è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.parallelJobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// CMake é…ç½®é˜¶æ®µå¹¶è¡Œä»»åŠ¡æ•°</span>
  <span class="hljs-attr">"cmake.buildArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-j8"</span><span class="hljs-punctuation">]</span>  <span class="hljs-comment">// ä¼ é€’ç»™ Ninja/Make çš„å¹¶è¡Œæ„å»ºå‚æ•°</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å»ºè®®æ ¹æ® CPU æ ¸å¿ƒæ•°è®¾ç½®å¹¶è¡Œä»»åŠ¡æ•°ï¼ˆé€šå¸¸ä¸ºæ ¸å¿ƒæ•°çš„ 1-1.5 å€ï¼‰ï¼Œé¿å…è¿‡åº¦å¹¶è¡Œå¯¼è‡´çš„èµ„æºç«äº‰ã€‚</p>
<h3 data-id="heading-17">è°ƒè¯•éªŒè¯ï¼šç¡®ä¿è°ƒè¯•ç¯å¢ƒä¸æ„å»ºç›®æ ‡ä¸€è‡´æ€§</h3>
<p>è°ƒè¯•é…ç½®å¤±è´¥çš„å¸¸è§åŸå› ä¸ºè°ƒè¯•ç¨‹åºè·¯å¾„ä¸ CMake ç›®æ ‡è¾“å‡ºè·¯å¾„ä¸åŒ¹é…ã€‚éªŒè¯æ–¹æ³•ï¼šé¦–å…ˆé€šè¿‡ <code>CMake: Build Target</code> ç¡®è®¤ç›®æ ‡å·²æˆåŠŸæ„å»ºï¼Œç„¶ååœ¨ <code>launch.json</code> ä¸­æ£€æŸ¥ <code>"program"</code> å­—æ®µæ˜¯å¦æŒ‡å‘æ­£ç¡®çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‚å¯¹äºå¤šé…ç½®é¡¹ç›®ï¼ˆå¦‚ Windows ä¸‹çš„ Debug/Releaseï¼‰ï¼Œéœ€ä½¿ç”¨å˜é‡å¼•ç”¨ç¡®ä¿è·¯å¾„åŠ¨æ€é€‚é…ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(gdb) Launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${command:cmake.launchTargetPath}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"environment"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"externalConsole"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"MIMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gdb"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"setupCommands"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Enable pretty-printing for gdb"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"-enable-pretty-printing"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"ignoreFailures"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…¶ä¸­ <code>${command:cmake.launchTargetPath}</code> å˜é‡ä¼šè‡ªåŠ¨è§£æå½“å‰æ¿€æ´»ç›®æ ‡çš„è¾“å‡ºè·¯å¾„ï¼Œé¿å…æ‰‹åŠ¨ç»´æŠ¤è·¯å¾„çš„ç¹çå’Œé”™è¯¯ã€‚</p>
<h3 data-id="heading-18">IntelliSense åŒæ­¥ï¼šä¿æŒä»£ç åˆ†æä¸é¡¹ç›®é…ç½®ä¸€è‡´</h3>
<p>å½“ CMake é…ç½®å˜æ›´åï¼ˆå¦‚æ–°å¢å¤´æ–‡ä»¶è·¯å¾„ã€ä¿®æ”¹å®å®šä¹‰ï¼‰ï¼ŒIntelliSense å¯èƒ½å› ç¼“å­˜æœªæ›´æ–°å¯¼è‡´ä»£ç åˆ†æå¼‚å¸¸ã€‚æ‰‹åŠ¨åŒæ­¥æ–¹æ³•ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰ï¼Œè¿è¡Œ <code>CMake: Refresh IntelliSense</code> å‘½ä»¤ï¼ŒVS Code ä¼šé‡æ–°ç”Ÿæˆ <code>compile_commands.json</code> å¹¶æ›´æ–° C/C++ æ‰©å±•çš„é…ç½®ã€‚å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯åœ¨ <code>settings.json</code> ä¸­å¯ç”¨è‡ªåŠ¨åŒæ­¥ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.autoRefreshIntelliSense"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-19">è·¨å¹³å°å¼€å‘ï¼šå®ç°å¤šç¯å¢ƒä¸€è‡´æ„å»ºä½“éªŒ</h3>
<p>è·¨å¹³å°é¡¹ç›®éœ€é€šè¿‡ã€Œå·¥å…·é“¾æ–‡ä»¶ã€ç»Ÿä¸€ç®¡ç†ç¼–è¯‘å™¨ç‰¹æ€§ã€ç³»ç»Ÿåº“è·¯å¾„ç­‰å¹³å°ç›¸å…³é…ç½®ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>toolchains</code> æ–‡ä»¶å¤¹ï¼Œä¸ºä¸åŒå¹³å°ç¼–å†™ä¸“ç”¨å·¥å…·é“¾æ–‡ä»¶ï¼ˆå¦‚ <code>toolchains/linux-gcc.cmake</code>ã€<code>toolchains/windows-msvc.cmake</code>ï¼‰ï¼Œç„¶ååœ¨é…ç½®æ—¶é€šè¿‡å‘½ä»¤æŒ‡å®šï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.configureArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"-DCMAKE_TOOLCHAIN_FILE=toolchains/linux-gcc.cmake"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åŒæ—¶ï¼Œåˆ©ç”¨ VS Code çš„ã€Œå·¥ä½œåŒºä¿¡ä»»æœºåˆ¶ã€ä¿æŠ¤é¡¹ç›®å®‰å…¨ã€‚é¦–æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ï¼Œåœ¨å¼¹å‡ºçš„ã€Œå·¥ä½œåŒºä¿¡ä»»ã€å¯¹è¯æ¡†ä¸­é€‰æ‹©ã€Œä¿¡ä»»æ–‡ä»¶å¤¹å¹¶å¯ç”¨æ‰€æœ‰åŠŸèƒ½ã€ï¼Œç¡®ä¿ CMake Tools èƒ½æ­£å¸¸è®¿é—®é¡¹ç›®æ–‡ä»¶å’Œæ‰§è¡Œæ„å»ºå‘½ä»¤ã€‚å¯¹äºå¤šäººåä½œé¡¹ç›®ï¼Œå¯é€šè¿‡ <code>settings.json</code> å…±äº«ä¿¡ä»»é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"security.workspace.trust.untrustedFiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"open"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>å…³é”®æç¤ºï¼šè·¨å¹³å°å¼€å‘ä¸­ï¼Œé¿å…åœ¨ <code>CMakeLists.txt</code> ä¸­ç¡¬ç¼–ç å¹³å°ç›¸å…³è·¯å¾„ï¼ˆå¦‚ <code>/usr/local/lib</code>ï¼‰ï¼Œåº”ä½¿ç”¨ CMake å†…ç½®å˜é‡ï¼ˆå¦‚ <code>${CMAKE_INSTALL_LIBDIR}</code>ï¼‰å’Œå·¥å…·é“¾æ–‡ä»¶æŠ½è±¡å¹³å°å·®å¼‚ï¼Œç¡®ä¿æ„å»ºè„šæœ¬çš„å¯ç§»æ¤æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-21">IntelliSense å¼‚å¸¸</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šä»£ç è¡¥å…¨å¤±æ•ˆã€è¯­æ³•é«˜äº®å¼‚å¸¸æˆ–å¤´æ–‡ä»¶å¼•ç”¨æŠ¥é”™ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šCMake é…ç½®è§£æé”™è¯¯æˆ–æ„å»ºç¼“å­˜è¿‡æ—¶ï¼Œå¯¼è‡´ IntelliSense æ— æ³•æ­£ç¡®è¯†åˆ«é¡¹ç›®ç»“æ„ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>æŸ¥çœ‹ Output æ—¥å¿—ï¼šæ‰“å¼€ VS Code åº•éƒ¨çŠ¶æ€æ çš„ Output é¢æ¿ï¼Œåˆ‡æ¢è‡³ CMake/Build é¢‘é“ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>CMakeLists.txt</code> è¯­æ³•é”™è¯¯æˆ–ä¾èµ–ç¼ºå¤±æç¤ºã€‚</li>
<li>éªŒè¯é¡¹ç›®é…ç½®ï¼šåœ¨ CMAKE: PROJECT OUTLINE æ ‘çŠ¶è§†å›¾ä¸­ï¼Œç¡®è®¤æºæ–‡ä»¶ä¸ <code>CMakeLists.txt</code> çš„å…³è”æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ <code>add_executable</code> æˆ– <code>target_link_libraries</code> ç­‰æŒ‡ä»¤é…ç½®æ— è¯¯ã€‚</li>
<li>é‡å»ºç¼“å­˜ï¼šæŒ‰ä¸‹ <code>Ctrl+Shift+P</code> è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œæ‰§è¡Œ <code>CMake: Rebuild CMake Cache</code> å‘½ä»¤åˆ·æ–°é…ç½®ã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-22">è°ƒè¯•é…ç½®æ— æ•ˆ</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šå¯åŠ¨è°ƒè¯•åæ— ååº”æˆ–æç¤ºã€Œç¨‹åºè·¯å¾„ä¸å­˜åœ¨ã€ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼š<code>launch.json</code> ä¸­ <code>program</code> è·¯å¾„æœªæ­£ç¡®å…³è”æ„å»ºäº§ç‰©ï¼Œæˆ–ç¼ºå°‘å‰ç½®æ„å»ºä»»åŠ¡ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>é…ç½® <code>program</code> è·¯å¾„ï¼šåœ¨ <code>launch.json</code> ä¸­ä½¿ç”¨å˜é‡ <code>${command:cmake.launchTargetPath}</code> è‡ªåŠ¨å®šä½å½“å‰æ¿€æ´»ç›®æ ‡çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œé¿å…ç¡¬ç¼–ç ç»å¯¹è·¯å¾„ã€‚</li>
<li>è®¾ç½® <code>preLaunchTask</code>ï¼šæ·»åŠ  <code>"preLaunchTask": "CMake: build"</code> ç¡®ä¿è°ƒè¯•å‰è‡ªåŠ¨æ„å»ºé¡¹ç›®ï¼Œé˜²æ­¢å› äº§ç‰©ç¼ºå¤±å¯¼è‡´å¯åŠ¨å¤±è´¥ã€‚</li>
<li>éªŒè¯æ–­ç‚¹ä½ç½®ï¼šç¡®ä¿æ–­ç‚¹ä½äºå¯æ‰§è¡Œä»£ç è¡Œï¼ˆå¦‚ main å‡½æ•°å†…ï¼‰ï¼Œè€Œéæ³¨é‡Šæˆ–ç©ºè¡Œã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-23">Include è·¯å¾„é”™è¯¯</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šç¼–è¯‘å™¨æç¤º <code>fatal error: 'xxx.h' file not found</code>ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šå¤´æ–‡ä»¶æœç´¢è·¯å¾„æœªè¢«æ­£ç¡®æ·»åŠ è‡³ IntelliSense é…ç½®ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ul>
<li><strong>UI é…ç½®æ³•</strong>ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œæ‰§è¡Œ <code>C/C++: Edit Configurations (UI)</code>ï¼Œåœ¨ Include path ä¸­æ·»åŠ å¤´æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆå¦‚ <code>${workspaceFolder}/include</code>ï¼‰ã€‚</li>
<li><strong>æ‰‹åŠ¨ç¼–è¾‘æ³•</strong>ï¼šç›´æ¥ä¿®æ”¹ <code>.vscode/c_cpp_properties.json</code>ï¼Œåœ¨ <code>configurations[0].includePath</code> æ•°ç»„ä¸­æ·»åŠ è·¯å¾„ï¼Œå¹¶è®¾ç½® <code>"compilerPath"</code> ä¸ºå®é™…ä½¿ç”¨çš„ç¼–è¯‘å™¨è·¯å¾„ï¼ˆå¦‚ <code>C:/MinGW/bin/gcc.exe</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-24">å·¥å…·çŠ¶æ€å¼‚å¸¸</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šCMake æ‰©å±•æ— å“åº”æˆ–å‘½ä»¤é¢æ¿ä¸­ CMake ç›¸å…³å‘½ä»¤ç¼ºå¤±ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šæ‰©å±•ç¼“å­˜æŸåæˆ–å®‰è£…æ–‡ä»¶å®Œæ•´æ€§é—®é¢˜ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>æ¸…ç†ç¼“å­˜ï¼šæ‰§è¡Œå‘½ä»¤ <code>CMake: Clear CMake Cache</code> æ¸…é™¤æ„å»ºç¼“å­˜ï¼Œè·¯å¾„é€šå¸¸ä¸º <code>${workspaceFolder}/build/CMakeCache.txt</code>ã€‚</li>
<li>é‡è£…æ‰©å±•ï¼šåœ¨ VS Code æ‰©å±•é¢æ¿ä¸­å¸è½½ CMake Toolsï¼Œé‡å¯è½¯ä»¶åé‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿ä¾èµ–çš„ C/C++ Extension Pack å·²åŒæ­¥æ›´æ–°ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<p>æ’æŸ¥åŸåˆ™ï¼šæ‰€æœ‰é—®é¢˜å‡éœ€ä¼˜å…ˆæ£€æŸ¥ Output æ—¥å¿—ä¸é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œé¿å…ç›²ç›®æ“ä½œã€‚å¯¹äºè·¯å¾„ç›¸å…³é”™è¯¯ï¼Œå»ºè®®ä½¿ç”¨ <code>${workspaceFolder}</code> ç­‰å˜é‡ç¡®ä¿è·¨ç¯å¢ƒå…¼å®¹æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-25">æ€»ç»“ä¸æœªæ¥å±•æœ›</h2>
<p>VSCode CMake Tools ä½œä¸ºè¿æ¥ CMake ä¸ VS Code ç”Ÿæ€çš„å…³é”®æ¡¥æ¢ï¼Œé€šè¿‡é…ç½®ç®¡ç†ã€æ„å»ºæ‰§è¡Œã€è°ƒè¯•é›†æˆç­‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæœ‰æ•ˆç®€åŒ–äº† C++ é¡¹ç›®çš„å¼€å‘æµç¨‹ã€‚å…¶é«˜çº§ç‰¹æ€§å¦‚ CMake Presetsã€Kits å’Œ Variants æ”¯æŒé«˜åº¦å®šåˆ¶åŒ–çš„å¼€å‘éœ€æ±‚ï¼Œé…åˆæœ€ä½³å®è·µä¸é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œè¿›ä¸€æ­¥æå‡äº†å¼€å‘æ•ˆç‡ä¸é¡¹ç›®ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-26">æœªæ¥å‘å±•æ–¹å‘</h3>
<ul>
<li>è·¨å¹³å°æ‰©å±•ï¼šå¢å¼º WebAssembly ç­‰æ–°å…´å¹³å°æ”¯æŒ</li>
<li>å›¢é˜Ÿåä½œä¼˜åŒ–ï¼šå¼€å‘é…ç½®å…±äº«ä¸åŒæ­¥æœºåˆ¶</li>
<li>æ™ºèƒ½è¾…åŠ©ï¼šå¼•å…¥ AI é©±åŠ¨çš„ CMake é¢„è®¾ç”ŸæˆåŠŸèƒ½</li>
</ul>
<p>éšç€ CMake æ ‡å‡†çš„æŒç»­è¿­ä»£å’Œç¤¾åŒºè´¡çŒ®çš„æ·±å…¥ï¼ŒVSCode CMake Tools å°†ç»§ç»­æ·±åŒ–å…¶ä½œä¸º C++ å¼€å‘åŸºç¡€è®¾æ–½çš„ä»·å€¼ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆçš„é›†æˆå¼€å‘ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>