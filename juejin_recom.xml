<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ç»Ÿä¸€å¼€å‘è§„èŒƒ--Git hookså·¥å…·åº“â€”â€”husky]]></title>    <link>https://juejin.cn/post/7602106969697304639</link>    <guid>https://juejin.cn/post/7602106969697304639</guid>    <pubDate>2026-02-02T09:52:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602106969697304639" data-draft-id="7602082590732369956" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»Ÿä¸€å¼€å‘è§„èŒƒ--Git hookså·¥å…·åº“â€”â€”husky"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-02T09:52:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²¡æœ‰é¸¡æ±¤åƒä¸ä¸‹é¥­"/> <meta itemprop="url" content="https://juejin.cn/user/1398234519447127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»Ÿä¸€å¼€å‘è§„èŒƒ--Git hookså·¥å…·åº“â€”â€”husky
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234519447127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²¡æœ‰é¸¡æ±¤åƒä¸ä¸‹é¥­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:52:39.000Z" title="Mon Feb 02 2026 09:52:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¾ Husky æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>Husky æ˜¯ä¸€ä¸ªç”¨äº ç®¡ç† Git é’©å­ï¼ˆGit hooksï¼‰ çš„ JavaScript å·¥å…·ã€‚å®ƒå…è®¸ä½ åœ¨æ‰§è¡Œ Git æ“ä½œï¼ˆå¦‚ commitã€push ç­‰ï¼‰æ—¶è‡ªåŠ¨è¿è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼Œæ¯”å¦‚ï¼š
æäº¤å‰æ£€æŸ¥ä»£ç æ ¼å¼ï¼ˆlintï¼‰
è¿è¡Œå•å…ƒæµ‹è¯•
é˜»æ­¢ä¸ç¬¦åˆè§„èŒƒçš„æäº¤</p>
<p>å®ƒçš„ç›®æ ‡æ˜¯ æå‡ä»£ç è´¨é‡ã€ç»Ÿä¸€å›¢é˜Ÿå¼€å‘è§„èŒƒã€é˜²æ­¢ä½çº§é”™è¯¯è¿›å…¥ä»“åº“ã€‚</p>
<h2 data-id="heading-1">âœ… ä¸ºä»€ä¹ˆåœ¨ Vue 3 é¡¹ç›®ä¸­ä½¿ç”¨ Huskyï¼Ÿ</h2>
<p>åœ¨ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®ï¼ˆå¦‚ Vue 3 + Vite + TypeScriptï¼‰ä¸­ï¼Œé€šå¸¸ä¼šé…åˆä»¥ä¸‹å·¥å…·é“¾ï¼š
ESLintï¼šä»£ç è§„èŒƒæ£€æŸ¥
Prettierï¼šä»£ç æ ¼å¼åŒ–
lint-stagedï¼šåªå¯¹æš‚å­˜æ–‡ä»¶ï¼ˆstaged filesï¼‰è¿è¡Œ lint
Huskyï¼šåœ¨ Git æäº¤é˜¶æ®µè§¦å‘ä¸Šè¿°æ£€æŸ¥</p>
<p>é€šè¿‡ Huskyï¼Œå¯ä»¥ç¡®ä¿ï¼š
â€œä»»ä½•æäº¤åˆ° Git çš„ä»£ç éƒ½å¿…é¡»é€šè¿‡ lint å’Œæµ‹è¯•â€ï¼Œé¿å…æ±¡æŸ“ä¸»åˆ†æ”¯æˆ–è¿œç¨‹ä»“åº“ã€‚</p>
<h2 data-id="heading-2">ğŸ› ï¸ åœ¨ Vue 3 é¡¹ç›®ä¸­å¦‚ä½•é…ç½® Huskyï¼Ÿ</h2>
<p>å½“å‰ç¯å¢ƒï¼šnode.jsä¸º16.20.2   pnpmä¸º8.15.9
ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–</p>
<p>bash
pnpm install husky@^8.0.3 --save-dev
pnpm install lint-staged@^13.3.0 --save-dev</p>
<p>ç¬¬äºŒæ­¥ï¼šå¯ç”¨ Husky</p>
<p>bash
npx husky install
è¿™ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ .husky/ æ–‡ä»¶å¤¹ã€‚
ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ é’©å­ï¼ˆä¾‹å¦‚ pre-commitï¼‰</p>
<p>bash
npx husky add .husky/pre-commit "npx lint-staged"
ç¬¬å››æ­¥ï¼šé…ç½® lint-staged</p>
<p>åœ¨ package.json ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"lint-staged"</span>: {
    <span class="hljs-string">"*.{js,ts,vue}"</span>: [
      <span class="hljs-string">"eslint --fix"</span>,
      <span class="hljs-string">"prettier --write"</span>
    ]
  }
}
</code></pre>
<p>è¿™æ ·æ¯æ¬¡ git commit æ—¶ï¼Œåªä¼šæ ¼å¼åŒ–å’Œæ£€æŸ¥ä½ æœ¬æ¬¡ä¿®æ”¹çš„æ–‡ä»¶ã€‚
ç¬¬äº”æ­¥ï¼ˆå¯é€‰ï¼‰ï¼šè‡ªåŠ¨å¯ç”¨ Huskyï¼ˆæ¨èï¼‰</p>
<p>åœ¨ package.json çš„ scripts ä¸­åŠ å…¥ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"prepare"</span>: <span class="hljs-string">"husky install"</span>
  }
}
</code></pre>
<p>è¿™æ ·å…¶ä»–å¼€å‘è€…æ‰§è¡Œ npm install åä¼šè‡ªåŠ¨å¯ç”¨ Husky é’©å­ã€‚</p>
<h4 data-id="heading-3">ğŸ’¡ å°è´´å£«</h4>
<p>æ³¨æ„ Husky å’Œ lint-stagedçš„ç‰ˆæœ¬
Husky v7+ è¦æ±‚ Node.js â‰¥ 14ã€‚</p>
<h2 data-id="heading-4">huskyå¸¸ç”¨çš„ä¸¤ä¸ªgité’©å­è„šæœ¬</h2>
<h3 data-id="heading-5">ä¸€ã€.husky/pre-commit</h3>
<p><code>.husky/pre-commit</code> æ–‡ä»¶æ˜¯ä¸€ä¸ª Git é’©å­è„šæœ¬ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯åœ¨æ‚¨æ‰§è¡Œ <code>git commit</code> å‘½ä»¤æ—¶è‡ªåŠ¨è¿è¡Œã€‚å…·ä½“æ¥è¯´ï¼š</p>
<ol>
<li>
<p><strong>è‡ªåŠ¨ä»£ç æ£€æŸ¥</strong>ï¼šåœ¨æ¯æ¬¡æäº¤ä»£ç å‰ï¼Œè‡ªåŠ¨è¿è¡Œä»£ç æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ ESLintã€Prettier ç­‰ï¼‰æ¥ç¡®ä¿ä»£ç è´¨é‡ã€‚</p>
</li>
<li>
<p><strong>é˜²æ­¢ä½è´¨é‡é—®é¢˜æäº¤</strong>ï¼šå¦‚æœä»£ç æ£€æŸ¥å¤±è´¥ï¼ˆä¾‹å¦‚æœ‰è¯­æ³•é”™è¯¯ã€ä»£ç é£æ ¼é—®é¢˜ç­‰ï¼‰ï¼Œæäº¤ä¼šè¢«ä¸­æ–­ï¼Œç›´åˆ°é—®é¢˜è§£å†³ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–æ ¼å¼åŒ–</strong>ï¼šå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜æäº¤çš„ä»£ç é£æ ¼ä¸€è‡´ã€‚</p>
</li>
</ol>
<p>åœ¨æ‚¨çš„é¡¹ç›®ä¸­ï¼Œ<code>.husky/pre-commit</code> æ–‡ä»¶åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env sh</span>
. <span class="hljs-string">"<span class="hljs-subst">$(dirname -- <span class="hljs-string">"<span class="hljs-variable">$0</span>"</span>)</span>/_/husky.sh"</span>

npx lint-staged
</code></pre>
<p>è¿™æ„å‘³ç€åœ¨æ¯æ¬¡æäº¤å‰ï¼Œä¼šè¿è¡Œ <code>lint-staged</code> å‘½ä»¤ï¼Œå®ƒåªä¼šæ£€æŸ¥å’Œä¿®å¤é‚£äº›è¢«æš‚å­˜ï¼ˆstagedï¼‰çš„æ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ•´ä¸ªé¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p>
<p>è¿™ç§æœºåˆ¶æœ‰åŠ©äºï¼š</p>
<ul>
<li>ç¡®ä¿åªæœ‰ç¬¦åˆä»£ç è§„èŒƒçš„ä»£ç æ‰èƒ½è¢«æäº¤</li>
<li>ä¿æŒä»£ç åº“çš„ä¸€è‡´æ€§</li>
<li>åœ¨æ—©æœŸå‘ç°é—®é¢˜ï¼Œé¿å…åœ¨åç»­æµç¨‹ä¸­å‡ºç°æ›´å¤šé—®é¢˜</li>
<li>è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œå‡å°‘ä»£ç å®¡æŸ¥æ—¶çš„é£æ ¼äº‰è®®</li>
</ul>
<h3 data-id="heading-6">äºŒã€.husky/commit-msg</h3>
<p><code>.husky/commit-msg</code> æ˜¯å¦ä¸€ä¸ª Git é’©å­è„šæœ¬ï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨æ‚¨æäº¤ä»£ç æ—¶æ£€æŸ¥æäº¤æ¶ˆæ¯ï¼ˆcommit messageï¼‰çš„æ ¼å¼ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œ<code>commit-msg</code> é’©å­çš„åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>æäº¤ä¿¡æ¯æ ¼å¼éªŒè¯</strong>ï¼šæ£€æŸ¥æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆé¢„è®¾çš„æ ¼å¼è§„èŒƒï¼Œæ¯”å¦‚æ˜¯å¦éµå¾ª Conventional Commits è§„èŒƒï¼ˆå¦‚ <code>feat: æ–°å¢åŠŸèƒ½</code>ã€<code>fix: ä¿®å¤bug</code> ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å¼ºåˆ¶è§„èŒƒåŒ–æäº¤</strong>ï¼šç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç»Ÿä¸€çš„æäº¤ä¿¡æ¯æ ¼å¼ï¼Œä¾¿äºåç»­è‡ªåŠ¨ç”Ÿæˆ CHANGELOGã€è®¡ç®—ç‰ˆæœ¬å·ç­‰ã€‚</p>
</li>
<li>
<p><strong>é˜»æ­¢ä¸åˆè§„æäº¤</strong>ï¼šå¦‚æœæäº¤ä¿¡æ¯ä¸ç¬¦åˆè§„èŒƒï¼Œä¼šä¸­æ–­æäº¤è¿‡ç¨‹ï¼Œè¦æ±‚ä¿®æ”¹æäº¤ä¿¡æ¯ã€‚</p>
</li>
</ol>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªå…¸å‹çš„ <code>commit-msg</code> é’©å­å¯èƒ½åŒ…å«ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env sh</span>
. <span class="hljs-string">"<span class="hljs-subst">$(dirname -- <span class="hljs-string">"<span class="hljs-variable">$0</span>"</span>)</span>/_/husky.sh"</span>

npx --no-install commitlint --edit <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span>
</code></pre>
<p>è¿™ä¸ªè„šæœ¬ä¼šä½¿ç”¨ <code>commitlint</code> å·¥å…·æ¥éªŒè¯æäº¤ä¿¡æ¯æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚å¸¸è§çš„è§„èŒƒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>feat: æ·»åŠ æ–°åŠŸèƒ½</code></li>
<li><code>fix: ä¿®å¤ bug</code></li>
<li><code>docs: æ–‡æ¡£æ›´æ–°</code></li>
<li><code>style: ä»£ç æ ¼å¼è°ƒæ•´</code></li>
<li><code>refactor: é‡æ„ä»£ç </code></li>
<li><code>test: æ·»åŠ æµ‹è¯•</code></li>
<li><code>chore: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨</code></li>
</ul>
<p>è¿™æ ·å¯ä»¥ç¡®ä¿é¡¹ç›®çš„å†å²æäº¤è®°å½•æ¸…æ™°ã€æœ‰åºï¼Œä¾¿äºå›¢é˜Ÿåä½œå’Œè‡ªåŠ¨åŒ–å·¥å…·å¤„ç†ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ·»åŠ ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx husky add .husky/commit-msg <span class="hljs-string">"npx --no-install commitlint --edit \$1"</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 propsç©¿é€ï¼ˆattrsï¼‰é‡å¤§å˜åŒ–ï¼š$attrs å±…ç„¶åŒ…å«class/styleäº†ï¼]]></title>    <link>https://juejin.cn/post/7601904641069596724</link>    <guid>https://juejin.cn/post/7601904641069596724</guid>    <pubDate>2026-02-02T10:00:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601904641069596724" data-draft-id="7601687408925982720" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 propsç©¿é€ï¼ˆattrsï¼‰é‡å¤§å˜åŒ–ï¼š$attrs å±…ç„¶åŒ…å«class/styleäº†ï¼"/> <meta itemprop="keywords" content="JavaScript,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-02T10:00:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="boooooooom"/> <meta itemprop="url" content="https://juejin.cn/user/3078273283917399"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 propsç©¿é€ï¼ˆattrsï¼‰é‡å¤§å˜åŒ–ï¼š$attrs å±…ç„¶åŒ…å«class/styleäº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3078273283917399/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    boooooooom
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:00:06.000Z" title="Mon Feb 02 2026 10:00:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€å‰è¨€ï¼šä¸ºä»€ä¹ˆè¦å…³æ³¨ Vue3 çš„ $attrs å˜åŒ–ï¼Ÿ</h3>
<p>åœ¨ Vue ç»„ä»¶å¼€å‘ä¸­ï¼Œprops ç©¿é€ï¼ˆå€ŸåŠ© $attrs ä¼ é€’æœªå£°æ˜çš„å±æ€§ï¼‰æ˜¯é«˜é¢‘åœºæ™¯â€”â€”æ¯”å¦‚å°è£…é€šç”¨æŒ‰é’®ã€è¾“å…¥æ¡†ç»„ä»¶æ—¶ï¼Œéœ€è¦å°†çˆ¶ç»„ä»¶ä¼ é€’çš„é¢å¤–å±æ€§ï¼ˆå¦‚ placeholderã€disabledï¼‰é€ä¼ ç»™å­ç»„ä»¶å†…éƒ¨çš„åŸç”Ÿå…ƒç´ ã€‚</p>
<p>è€Œ Vue3 å¯¹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>s</mi><mtext>çš„æ”¹åŠ¨å ªç§°â€œé¢ è¦†æ€§â€ï¼Œæœ€æ ¸å¿ƒçš„ä¸€ç‚¹å°±æ˜¯ï¼š</mtext><mo>âˆ—</mo><mo>âˆ—</mo><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mtext>å’Œ</mtext><mi>s</mi><mi>t</mi><mi>y</mi><mi>l</mi><mi>e</mi><mtext>ä¸å†è¢«</mtext></mrow><annotation encoding="application/x-tex">attrs çš„æ”¹åŠ¨å ªç§°â€œé¢ è¦†æ€§â€ï¼Œæœ€æ ¸å¿ƒçš„ä¸€ç‚¹å°±æ˜¯ï¼š**class å’Œ style ä¸å†è¢« </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">rs</span><span class="mord cjk_fallback">çš„æ”¹åŠ¨å ªç§°</span><span class="mord">â€œ</span><span class="mord cjk_fallback">é¢ è¦†æ€§</span><span class="mord">â€</span><span class="mord cjk_fallback">ï¼Œæœ€æ ¸å¿ƒçš„ä¸€ç‚¹å°±æ˜¯ï¼š</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord">âˆ—</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ss</span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">ä¸å†è¢«</span></span></span></span></span>attrs è¿‡æ»¤ï¼Œä¼šç›´æ¥åŒ…å«åœ¨ $attrs ä¸­å¹¶é€ä¼ **ã€‚è¿™å’Œ Vue2 çš„è¡Œä¸ºå®Œå…¨ç›¸åï¼Œä¹Ÿæ˜¯å¾ˆå¤šå¼€å‘è€…è¿ç§»é¡¹ç›®ã€ç¼–å†™æ–°ç»„ä»¶æ—¶æœ€å®¹æ˜“è¸©å‘çš„ç‚¹ï¼ŒæŒæ¡è¿™ä¸ªå˜åŒ–èƒ½å°‘èµ°å¤§é‡å¼¯è·¯ã€‚</p>
<h3 data-id="heading-1">äºŒã€Vue2 vs Vue3ï¼š$attrs æ ¸å¿ƒå·®å¼‚å¯¹æ¯”ï¼ˆé‡ç‚¹ï¼ï¼‰</h3>
<p>è¦ç†è§£è¿™ä¸ªå˜åŒ–ï¼Œå…ˆæ˜ç¡® Vue2 ä¸­ $attrs çš„è¡Œä¸ºï¼Œå†å¯¹æ¯” Vue3 çš„æ”¹åŠ¨ï¼Œå·®å¼‚ä¸€ç›®äº†ç„¶ï¼Œé¿å…æ··æ·†ã€‚</p>
<h4 data-id="heading-2">1. Vue2 ä¸­çš„ $attrs è¡Œä¸º</h4>
<p>åœ¨ Vue2 ä¸­ï¼Œ$attrs æœ‰ä¸€ä¸ªæ˜ç¡®çš„â€œè¿‡æ»¤è§„åˆ™â€ï¼š</p>
<ul>
<li>ä»…åŒ…å«çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ã€ä½†å­ç»„ä»¶æœªé€šè¿‡ props å£°æ˜çš„<strong>é classã€é style å±æ€§</strong>ï¼›</li>
<li>class å’Œ style ä¼šè¢«å•ç‹¬æå–ï¼Œç›´æ¥åº”ç”¨åˆ°å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šï¼Œ<strong>ä¸ä¼šå‡ºç°åœ¨ $attrs ä¸­</strong>ï¼›</li>
<li>è‹¥æƒ³æ‰‹åŠ¨æ§åˆ¶ class/style é€ä¼ ï¼Œéœ€å€ŸåŠ© inheritAttrs: false å…³é—­é»˜è®¤é€ä¼ ï¼Œä½†å³ä¾¿å…³é—­ï¼Œ$attrs ä¾ç„¶ä¸åŒ…å« class/styleã€‚</li>
</ul>
<h4 data-id="heading-3">2. Vue3 ä¸­çš„ $attrs è¡Œä¸ºï¼ˆæ ¸å¿ƒå˜åŒ–ï¼‰</h4>
<p>Vue3 å½»åº•ç®€åŒ–äº†è¿™ä¸€é€»è¾‘ï¼ŒåŒæ—¶æ”¹å˜äº† $attrs çš„åŒ…å«èŒƒå›´ï¼š</p>
<ul>
<li><strong>æ ¸å¿ƒå˜åŒ–</strong>ï¼š$attrs ä¸å†è¿‡æ»¤ class å’Œ styleï¼Œä¼šå°†çˆ¶ç»„ä»¶ä¼ é€’çš„æ‰€æœ‰æœªè¢« props å£°æ˜çš„å±æ€§ï¼ˆåŒ…æ‹¬ classã€styleï¼‰å…¨éƒ¨åŒ…å«åœ¨å†…ï¼›</li>
<li>é»˜è®¤é€ä¼ è¡Œä¸ºä¸å˜ï¼šæœªå£°æ˜çš„ propsï¼ˆå« class/styleï¼‰ä¾ç„¶ä¼šè‡ªåŠ¨é€ä¼ è‡³å­ç»„ä»¶çš„æ ¹å…ƒç´ ï¼›</li>
<li>inheritAttrs: false çš„ä½œç”¨å‡çº§ï¼šå…³é—­é»˜è®¤é€ä¼ åï¼Œclass å’Œ style ä¹Ÿä¼šè·Ÿéš <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>s</mi><mtext>ä¸€èµ·è¢«â€œæ‹¦æˆªâ€ï¼Œä¸ä¼šå†è‡ªåŠ¨åº”ç”¨åˆ°æ ¹å…ƒç´ ï¼Œéœ€æ‰‹åŠ¨é€šè¿‡</mtext><mi>v</mi><mo>âˆ’</mo><mi>b</mi><mi>i</mi><mi>n</mi><mi>d</mi><mo>=</mo><mi mathvariant="normal">"</mi></mrow><annotation encoding="application/x-tex">attrs ä¸€èµ·è¢«â€œæ‹¦æˆªâ€ï¼Œä¸ä¼šå†è‡ªåŠ¨åº”ç”¨åˆ°æ ¹å…ƒç´ ï¼Œéœ€æ‰‹åŠ¨é€šè¿‡ v-bind="</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">rs</span><span class="mord cjk_fallback">ä¸€èµ·è¢«</span><span class="mord">â€œ</span><span class="mord cjk_fallback">æ‹¦æˆª</span><span class="mord">â€</span><span class="mord cjk_fallback">ï¼Œä¸ä¼šå†è‡ªåŠ¨åº”ç”¨åˆ°æ ¹å…ƒç´ ï¼Œéœ€æ‰‹åŠ¨é€šè¿‡</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">bin</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">"</span></span></span></span></span>attrs" æ§åˆ¶é€ä¼ ä½ç½®ã€‚</li>
<li>Vue2 ä¸­ï¼š$attrs = { disabled: true }ï¼ˆclassã€style è¢«è¿‡æ»¤ï¼Œç›´æ¥åº”ç”¨åˆ°å­ç»„ä»¶ button ä¸Šï¼‰ï¼›</li>
<li>Vue3 ä¸­ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>s</mi><mo>=</mo><mrow><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mo>:</mo><mi mathvariant="normal">"</mi><mi>b</mi><mi>t</mi><mi>n</mi><mo>âˆ’</mo><mi>p</mi><mi>r</mi><mi>i</mi><mi>m</mi><mi>a</mi><mi>r</mi><mi>y</mi><mi mathvariant="normal">"</mi><mo separator="true">,</mo><mi>s</mi><mi>t</mi><mi>y</mi><mi>l</mi><mi>e</mi><mo>:</mo><mrow><mi>p</mi><mi>a</mi><mi>d</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo>:</mo><mi mathvariant="normal">"</mi><mn>10</mn><mi>p</mi><mi>x</mi><mi mathvariant="normal">"</mi></mrow><mo separator="true">,</mo><mi>d</mi><mi>i</mi><mi>s</mi><mi>a</mi><mi>b</mi><mi>l</mi><mi>e</mi><mi>d</mi><mo>:</mo><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow><mtext>ï¼ˆ</mtext><mi>c</mi><mi>l</mi><mi>a</mi><mi>s</mi><mi>s</mi><mtext>ã€</mtext><mi>s</mi><mi>t</mi><mi>y</mi><mi>l</mi><mi>e</mi><mtext>è¢«åŒ…å«åœ¨</mtext></mrow><annotation encoding="application/x-tex">attrs = { class: "btn-primary", style: { padding: "10px" }, disabled: true }ï¼ˆclassã€style è¢«åŒ…å«åœ¨ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">rs</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ss</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord">"</span><span class="mord mathnormal">b</span><span class="mord mathnormal">t</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ima</span><span class="mord mathnormal" style="margin-right:0.03588em;">ry</span><span class="mord">"</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">dd</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord">"10</span><span class="mord mathnormal">p</span><span class="mord mathnormal">x</span><span class="mord">"</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">ab</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span></span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ss</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">è¢«åŒ…å«åœ¨</span></span></span></span></span>attrs ä¸­ï¼ŒåŒæ—¶è‡ªåŠ¨é€ä¼ è‡³ button ä¸Šï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">4. inheritAttrs: false åçš„å·®å¼‚ï¼ˆå…³é”®é¿å‘ç‚¹ï¼‰</h4>
<p>å½“å­ç»„ä»¶è®¾ç½® inheritAttrs: false åï¼Œä¸¤è€…çš„å·®å¼‚æ›´æ˜æ˜¾ï¼š</p>
<ul>
<li>Vue2 ä¸­ï¼šclassã€style ä¾ç„¶ä¼šè‡ªåŠ¨åº”ç”¨åˆ°å­ç»„ä»¶æ ¹å…ƒç´ ï¼ˆbuttonï¼‰ï¼Œä»…æœªå£°æ˜çš„ propsï¼ˆdisabledï¼‰è¢«æ‹¦æˆªåœ¨ $attrs ä¸­ï¼›</li>
<li>Vue3 ä¸­ï¼šclassã€style ä¼šå’Œ disabled ä¸€èµ·è¢«æ‹¦æˆªåœ¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>s</mi><mtext>ä¸­ï¼Œ</mtext><mo>âˆ—</mo><mo>âˆ—</mo><mtext>ä¸å†è‡ªåŠ¨åº”ç”¨åˆ°æ ¹å…ƒç´ </mtext><mo>âˆ—</mo><mo>âˆ—</mo><mtext>ï¼Œéœ€æ‰‹åŠ¨å†™</mtext><mo>&lt;</mo><mi>b</mi><mi>u</mi><mi>t</mi><mi>t</mi><mi>o</mi><mi>n</mi><mi>v</mi><mo>âˆ’</mo><mi>b</mi><mi>i</mi><mi>n</mi><mi>d</mi><mo>=</mo><mi mathvariant="normal">"</mi></mrow><annotation encoding="application/x-tex">attrs ä¸­ï¼Œ**ä¸å†è‡ªåŠ¨åº”ç”¨åˆ°æ ¹å…ƒç´ **ï¼Œéœ€æ‰‹åŠ¨å†™ &lt;button v-bind="</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">rs</span><span class="mord cjk_fallback">ä¸­ï¼Œ</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">âˆ—</span><span class="mord cjk_fallback">ä¸å†è‡ªåŠ¨åº”ç”¨åˆ°æ ¹å…ƒç´ </span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord">âˆ—</span><span class="mord cjk_fallback">ï¼Œéœ€æ‰‹åŠ¨å†™</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"/><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">bin</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">"</span></span></span></span></span>attrs"&gt; æ‰èƒ½å°†æ‰€æœ‰å±æ€§ï¼ˆå« class/styleï¼‰é€ä¼ ã€‚</li>
</ul>
<h3 data-id="heading-5">å››ã€å¸¸è§è¸©å‘åœºæ™¯åŠè§£å†³æ–¹æ¡ˆ</h3>
<p>æŒæ¡å˜åŒ–åï¼Œé‡ç‚¹è§£å†³å®é™…å¼€å‘ä¸­æœ€æ˜“é‡åˆ°çš„ 2 ä¸ªå‘ï¼Œæ–°æ‰‹ç›´æ¥å¥—ç”¨å³å¯ã€‚</p>
<h4 data-id="heading-6">å‘ç‚¹1ï¼šå­ç»„ä»¶æ ¹å…ƒç´ ä¸éœ€è¦ class/style é€ä¼ </h4>
<p>åœºæ™¯ï¼šçˆ¶ç»„ä»¶ä¼ é€’çš„ class/style æ˜¯ç»™å­ç»„ä»¶å†…éƒ¨æŸä¸ªéæ ¹å…ƒç´ ç”¨çš„ï¼Œæ ¹å…ƒç´ æœ‰è‡ªå·±çš„æ ·å¼ï¼Œä¸æƒ³ç»§æ‰¿çˆ¶ç»„ä»¶çš„ class/styleã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>å­ç»„ä»¶è®¾ç½® inheritAttrs: falseï¼Œå…³é—­é»˜è®¤é€ä¼ ï¼›</li>
<li>é€šè¿‡è§£æ„èµ‹å€¼ï¼Œä» $attrs ä¸­å‰”é™¤ class å’Œ styleï¼Œå†å°†å‰©ä½™å±æ€§é€ä¼ ç»™ç›®æ ‡å…ƒç´ ã€‚</li>
</ol>
<pre><code class="hljs language-ts" lang="ts">&lt;!-- å­ç»„ä»¶ <span class="hljs-title class_">Child</span>.<span class="hljs-property">vue</span>ï¼ˆ<span class="hljs-title class_">Vue3</span>ï¼‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child-root"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"restAttrs"</span>&gt;</span>æµ‹è¯•æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { useAttrs } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'title'</span>])
<span class="hljs-keyword">const</span> attrs = <span class="hljs-title function_">useAttrs</span>()
<span class="hljs-comment">// è§£æ„å‰”é™¤ class å’Œ styleï¼Œå‰©ä½™å±æ€§é€ä¼ ç»™ button</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">class</span>: _, <span class="hljs-attr">style</span>: __, ...restAttrs } = attrs
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-7">å‘ç‚¹2ï¼šæ‰‹åŠ¨é€ä¼  $attrs å¯¼è‡´ class/style é‡å¤</h4>
<p>åœºæ™¯ï¼šæœªå…³é—­ inheritAttrsï¼Œåˆæ‰‹åŠ¨å†™ v-bind="$attrs"ï¼Œå¯¼è‡´ class/style è¢«é‡å¤åº”ç”¨ï¼ˆæ ¹å…ƒç´ ä¼šåŒæ—¶æ‹¥æœ‰é»˜è®¤é€ä¼ å’Œæ‰‹åŠ¨é€ä¼ çš„æ ·å¼ï¼‰ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>è¦ä¹ˆä¸æ‰‹åŠ¨é€ä¼ ï¼Œä¾èµ–é»˜è®¤é€ä¼ è¡Œä¸ºï¼›</li>
<li>è¦ä¹ˆè®¾ç½® inheritAttrs: falseï¼Œå†æ‰‹åŠ¨é€ä¼  $attrsï¼ˆæŒ‰éœ€å‰”é™¤å¤šä½™å±æ€§ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">äº”ã€æ€»ç»“ï¼šVue3 $attrs å˜åŒ–æ ¸å¿ƒè¦ç‚¹</h3>
<p>æ— éœ€æ­»è®°ç¡¬èƒŒï¼Œè®°ä½ 3 ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼Œè½»æ¾åº”å¯¹æ‰€æœ‰åœºæ™¯ï¼š</p>
<ol>
<li>åŒ…å«èŒƒå›´å˜åŒ–ï¼šVue3 $attrs åŒ…å« class/styleï¼ŒVue2 ä¸åŒ…å«ï¼›</li>
<li>é»˜è®¤é€ä¼ ï¼šä¸¤è€…ä¸€è‡´ï¼Œæœªå£°æ˜çš„ propsï¼ˆå« class/styleï¼‰è‡ªåŠ¨é€ä¼ è‡³æ ¹å…ƒç´ ï¼›</li>
<li>inheritAttrs ä½œç”¨ï¼šVue3 ä¸­å…³é—­åï¼Œclass/style ä¼šè¢«ä¸€åŒæ‹¦æˆªï¼Œéœ€æ‰‹åŠ¨æ§åˆ¶é€ä¼ ã€‚</li>
</ol>
<p>Vue3 å¯¹ $attrs çš„æ”¹åŠ¨ï¼Œæœ¬è´¨æ˜¯ç®€åŒ–äº†å±æ€§é€ä¼ çš„é€»è¾‘ï¼Œè®©å¼€å‘è€…èƒ½æ›´çµæ´»åœ°æ§åˆ¶å±æ€§ä¼ é€’ï¼Œä½†ä¹Ÿå¸¦æ¥äº†æ–°çš„è¸©å‘ç‚¹ã€‚æŒæ¡æœ¬æ–‡çš„å·®å¼‚å¯¹æ¯”å’Œå®æ“æ–¹æ¡ˆï¼Œå°±èƒ½è½»æ¾è§„é¿é£é™©ï¼Œé«˜æ•ˆè¿ç”¨ props ç©¿é€å¼€å‘ Vue3 ç»„ä»¶ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptäº‹ä»¶å¾ªç¯ï¼ˆä¸‹ï¼‰ - requestAnimationFrameä¸Web Workers]]></title>    <link>https://juejin.cn/post/7602072652606767144</link>    <guid>https://juejin.cn/post/7602072652606767144</guid>    <pubDate>2026-02-02T10:03:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602072652606767144" data-draft-id="7602072652606750760" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptäº‹ä»¶å¾ªç¯ï¼ˆä¸‹ï¼‰ - requestAnimationFrameä¸Web Workers"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-02T10:03:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wuhen_n"/> <meta itemprop="url" content="https://juejin.cn/user/4149996261738233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptäº‹ä»¶å¾ªç¯ï¼ˆä¸‹ï¼‰ - requestAnimationFrameä¸Web Workers
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4149996261738233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wuhen_n
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:03:09.000Z" title="Mon Feb 02 2026 10:03:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¦‚ä½•å®ç°ä¸æ»‘æµç•…çš„ 60fps åŠ¨ç”»ï¼Ÿå¦‚ä½•åœ¨å•çº¿ç¨‹ JavaScript ä¸­å®ç°çœŸæ­£çš„å¹¶è¡Œè®¡ç®—ï¼Ÿæœ¬ç¯‡æ–‡ç« å°†æ¢ç´¢äº‹ä»¶å¾ªç¯çš„é«˜é˜¶åº”ç”¨ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€ï¼šä»60fpsçš„åŠ¨ç”»è¯´èµ·</h2>
<p>åœ¨ JavaScript ä¸­ï¼Œå¸¸è§çš„åŠ¨ç”»å®ç°æ–¹å¼æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p>
<h3 data-id="heading-1">ä½¿ç”¨setIntervalï¼ˆä¸æ¨èï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">animateWithSetInterval</span>(<span class="hljs-params"/>) {
    <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">updateAnimation</span>();
        <span class="hljs-title function_">renderFrame</span>();
    }, <span class="hljs-number">16.67</span>); 
}
</code></pre>
<p>ä¸Šè¿°ä»£ç è¯•å›¾è¾¾åˆ°60fpsï¼ˆ1000/60 â‰ˆ 16.67msï¼‰ï¼Œä½†å®šæ—¶å™¨ä¸ç²¾ç¡®ï¼Œå¯èƒ½ä¸¢å¸§æˆ–è¿‡åº¦ç»˜åˆ¶ã€‚</p>
<h3 data-id="heading-2">é€’å½’setTimeout</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">animateWithSetTimeout</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">loop</span>(<span class="hljs-params"/>) {
        <span class="hljs-title function_">updateAnimation</span>();
        <span class="hljs-title function_">renderFrame</span>();
        <span class="hljs-built_in">setTimeout</span>(loop, <span class="hljs-number">16.67</span>);
    }
    <span class="hljs-title function_">loop</span>();
}
</code></pre>
<p>è¿™ç§æ–¹å¼æ¯” setInterval ç¨å¥½ï¼Œä½†ä»å¯èƒ½å’Œå±å¹•åˆ·æ–°ä¸åŒæ­¥ã€‚</p>
<h3 data-id="heading-3">ä½¿ç”¨requestAnimationFrameï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">animateWithRAF</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">loop</span>(<span class="hljs-params">timestamp</span>) {
        <span class="hljs-title function_">updateAnimation</span>(timestamp);
        <span class="hljs-title function_">renderFrame</span>();
        <span class="hljs-title function_">requestAnimationFrame</span>(loop);
    }
    <span class="hljs-title function_">requestAnimationFrame</span>(loop);
}
</code></pre>
<p>ä¼˜åŠ¿ï¼šè‡ªåŠ¨åŒ¹é…å±å¹•åˆ·æ–°ç‡ï¼ŒèŠ‚çœèµ„æºã€‚</p>
<h2 data-id="heading-4">requestAnimationFrameï¼šåŠ¨ç”»çš„é»„é‡‘æ ‡å‡†</h2>
<h3 data-id="heading-5">ä»€ä¹ˆæ˜¯requestAnimationFrameï¼Ÿ</h3>
<p><code>requestAnimationFrame</code>ï¼ˆç®€ç§° <code>rAF</code>ï¼‰ æ˜¯æµè§ˆå™¨ä¸“é—¨ä¸ºåŠ¨ç”»å’Œè¿ç»­è§†è§‰æ›´æ–°æä¾›çš„ APIã€‚å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>åœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œç¡®ä¿åŠ¨ç”»ä¸å±å¹•åˆ·æ–°åŒæ­¥ã€‚</li>
</ul>
<h3 data-id="heading-6">rAFçš„åŸºæœ¬ç”¨æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ›´æ–°åŠ¨ç”»çŠ¶æ€</span>
    <span class="hljs-title function_">updateAnimation</span>();
    
    <span class="hljs-comment">// æ¸²æŸ“å½“å‰å¸§</span>
    <span class="hljs-title function_">renderFrame</span>();
    
    <span class="hljs-comment">// è¯·æ±‚ä¸‹ä¸€å¸§</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(animate);
}

<span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»å¾ªç¯</span>
<span class="hljs-title function_">requestAnimationFrame</span>(animate);
</code></pre>
<h3 data-id="heading-7">rAFçš„ä¼˜åŠ¿</h3>
<ol>
<li>è‡ªåŠ¨åŒ¹é…æ˜¾ç¤ºå™¨åˆ·æ–°ç‡ï¼ˆé€šå¸¸æ˜¯60Hzï¼‰</li>
<li>é¡µé¢ä¸å¯è§æ—¶è‡ªåŠ¨æš‚åœï¼ŒèŠ‚çœèµ„æº</li>
<li>æµè§ˆå™¨å¯ä»¥ä¼˜åŒ–åŠ¨ç”»æ€§èƒ½</li>
<li>æä¾›ç²¾ç¡®çš„æ—¶é—´æˆ³å‚æ•°</li>
</ol>
<h3 data-id="heading-8">rAFçš„å·¥ä½œåŸç†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">experimentRAF</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®éªŒå¼€å§‹'</span>);
    
    <span class="hljs-comment">// è®°å½•å¸§æ•°</span>
    <span class="hljs-keyword">let</span> frameCount = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> lastTimestamp = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">frameCallback</span>(<span class="hljs-params">timestamp</span>) {
        frameCount++;
        
        <span class="hljs-comment">// è®¡ç®—å¸§é—´éš”</span>
        <span class="hljs-keyword">if</span> (lastTimestamp &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> interval = timestamp - lastTimestamp;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬<span class="hljs-subst">${frameCount}</span>å¸§ï¼Œé—´éš”: <span class="hljs-subst">${interval.toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>);
        }
        
        lastTimestamp = timestamp;
        
        <span class="hljs-keyword">if</span> (frameCount &lt; <span class="hljs-number">10</span>) {
            <span class="hljs-title function_">requestAnimationFrame</span>(frameCallback);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®éªŒç»“æŸï¼Œå¹³å‡å¸§ç‡:'</span>, (<span class="hljs-number">1000</span> / ((timestamp - startTime) / <span class="hljs-number">10</span>)).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">1</span>), <span class="hljs-string">'fps'</span>);
        }
    }
    
    <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-title function_">requestAnimationFrame</span>(frameCallback);
}
</code></pre>
<p><code>rAf</code> çš„å…³é”®ç‚¹åœ¨äºï¼š<code>frameCallback()</code> å›è°ƒä¸­çš„ <code>timestamp</code> å‚æ•°ï¼Œè¿™ä¸ª <code>timestamp</code> æ˜¯<code>performance.now()</code> è¿”å›çš„é«˜ç²¾åº¦æ—¶é—´ï¼Œä¹Ÿè¡¨ç¤ºå›è°ƒå¼€å§‹æ‰§è¡Œçš„æ—¶é—´ã€‚</p>
<h3 data-id="heading-9">rAFåœ¨äº‹ä»¶å¾ªç¯ä¸­çš„ä½ç½®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. setTimeout - å®ä»»åŠ¡'</span>);
    
    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. setTimeoutä¸­çš„å¾®ä»»åŠ¡'</span>);
    });
}, <span class="hljs-number">0</span>);

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. Promise - å¾®ä»»åŠ¡'</span>);
    
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. Promiseä¸­æ³¨å†Œçš„rAF'</span>);
    });
});

<span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5. ç›´æ¥æ³¨å†Œçš„rAF'</span>);
    
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'6. rAFä¸­æ³¨å†Œçš„setTimeout'</span>);
    }, <span class="hljs-number">0</span>);
});

<span class="hljs-title function_">queueMicrotask</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'7. queueMicrotask - å¾®ä»»åŠ¡'</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'8. åŒæ­¥ä»£ç '</span>);
</code></pre>
<p>ä¸Šè¿°ä»£ç çš„è¾“å‡ºé¡ºåºå¦‚ä¸‹ï¼š</p>
<ul>
<li>8.åŒæ­¥ä»£ç </li>
<li>3.Promise - å¾®ä»»åŠ¡</li>
<li>7.queueMicrotask - å¾®ä»»åŠ¡</li>
<li>1.setTimeout - å®ä»»åŠ¡</li>
<li>2.setTimeoutä¸­çš„å¾®ä»»åŠ¡</li>
<li>5.ç›´æ¥æ³¨å†Œçš„rAF</li>
<li>4.Promiseä¸­æ³¨å†Œçš„rAF</li>
<li>6.rAFä¸­æ³¨å†Œçš„setTimeout</li>
</ul>
<p>å…¶æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰§è¡Œå®ä»»åŠ¡ (setTimeout, äº‹ä»¶å›è°ƒç­‰)</li>
<li>æ‰§è¡Œå¾®ä»»åŠ¡ (Promise, queueMicrotaskç­‰)</li>
<li>æ‰§è¡ŒrAFå›è°ƒ (åŠ¨ç”»æ›´æ–°)</li>
<li>æ ·å¼è®¡ç®—å’Œå¸ƒå±€</li>
<li>ç»˜åˆ¶ (Paint)</li>
<li>åˆæˆ (Composite)</li>
<li>æ£€æŸ¥ç©ºé—²ï¼Œæ‰§è¡Œ requestIdleCallback å›è°ƒ</li>
</ol>
<h2 data-id="heading-10">Web Workersï¼šçœŸæ­£çš„å¤šçº¿ç¨‹ç¼–ç¨‹</h2>
<h3 data-id="heading-11">ä»€ä¹ˆæ˜¯Web Workersï¼Ÿ</h3>
<p><code>Web Workers</code> å…è®¸ JavaScript åœ¨åå°çº¿ç¨‹ä¸­è¿è¡Œè„šæœ¬ï¼Œè€Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ‰§è¡ŒCPUå¯†é›†å‹ä»»åŠ¡ï¼Œè€Œä¸ä¼šå½±å“é¡µé¢çš„å“åº”æ€§ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸»çº¿ç¨‹ä»£ç </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸»çº¿ç¨‹: å¼€å§‹'</span>);

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªWorker</span>
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'worker.js'</span>);

<span class="hljs-comment">// å‘Workerå‘é€æ¶ˆæ¯</span>
worker.<span class="hljs-title function_">postMessage</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-string">'CALCULATE'</span>,
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">numbers</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>] }
});

<span class="hljs-comment">// æ¥æ”¶Workerçš„æ¶ˆæ¯</span>
worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> result = event.<span class="hljs-property">data</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸»çº¿ç¨‹: æ”¶åˆ°Workerç»“æœ'</span>, result);
    
    <span class="hljs-comment">// æ›´æ–°UI</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'result'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">`ç»“æœ: <span class="hljs-subst">${result}</span>`</span>;
};

<span class="hljs-comment">// å¤„ç†Workeré”™è¯¯</span>
worker.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Workeré”™è¯¯:'</span>, error);
};

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸»çº¿ç¨‹: ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡...'</span>);
</code></pre>
<h3 data-id="heading-12">Workerçš„é™åˆ¶ï¼š</h3>
<ol>
<li>æ— æ³•è®¿é—®DOM</li>
<li>æ— æ³•ä½¿ç”¨windowã€documentç­‰</li>
<li>ä¸èƒ½æ‰§è¡ŒåŒæ­¥çš„XHRï¼ˆå¯ä»¥ä½¿ç”¨fetchï¼‰</li>
<li>æœ‰åŒæºç­–ç•¥é™åˆ¶</li>
<li>ä¸èƒ½åŠ è½½æœ¬åœ°æ–‡ä»¶ï¼ˆfile://åè®®ï¼‰</li>
</ol>
<h3 data-id="heading-13">Web Workersçš„ç±»å‹</h3>
<h4 data-id="heading-14">1. ä¸“ç”¨Worker (Dedicated Worker)</h4>
<p>åªèƒ½è¢«åˆ›å»ºå®ƒçš„è„šæœ¬ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> dedicatedWorker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'dedicated-worker.js'</span>);
</code></pre>
<h4 data-id="heading-15">2. å…±äº«Worker (Shared Worker)</h4>
<p>å¯ä»¥è¢«å¤šä¸ªè„šæœ¬å…±äº«ï¼ˆåŒæºï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">SharedWorker</span>) {
    <span class="hljs-keyword">const</span> sharedWorker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedWorker</span>(<span class="hljs-string">'shared-worker.js'</span>);
    
    <span class="hljs-comment">// é€šè¿‡porté€šä¿¡</span>
    sharedWorker.<span class="hljs-property">port</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°å…±äº«Workeræ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>);
    };
    
    sharedWorker.<span class="hljs-property">port</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-string">'Hello Shared Worker'</span>);
} <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æµè§ˆå™¨ä¸æ”¯æŒShared Worker'</span>);
}
</code></pre>
<h4 data-id="heading-16">3. Service Worker</h4>
<p>ç”¨äºç¦»çº¿ç¼“å­˜ã€æ¨é€é€šçŸ¥ç­‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-string">'serviceWorker'</span> <span class="hljs-keyword">in</span> navigator) {
    navigator.<span class="hljs-property">serviceWorker</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">'service-worker.js'</span>)
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">registration</span> =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Service Workeræ³¨å†ŒæˆåŠŸ:'</span>, registration);
        })
        .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Service Workeræ³¨å†Œå¤±è´¥:'</span>, error);
        });
}
</code></pre>
<h4 data-id="heading-17">4. Audio Worklet (Chrome 66+)</h4>
<p>ç”¨äºé«˜æ€§èƒ½éŸ³é¢‘å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">audioContext</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">audioContext</span>.<span class="hljs-property">audioWorklet</span>) {
    audioContext.<span class="hljs-property">audioWorklet</span>.<span class="hljs-title function_">addModule</span>(<span class="hljs-string">'audio-processor.js'</span>)
        .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Audio WorkletåŠ è½½æˆåŠŸ'</span>);
        });
}
</code></pre>
<h4 data-id="heading-18">5. Paint Worklet (CSS Houdini)</h4>
<p>ç”¨äºè‡ªå®šä¹‰CSSç»˜åˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">CSS</span>.<span class="hljs-property">paintWorklet</span>) {
    <span class="hljs-variable constant_">CSS</span>.<span class="hljs-property">paintWorklet</span>.<span class="hljs-title function_">addModule</span>(<span class="hljs-string">'paint-worklet.js'</span>)
        .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Paint WorkletåŠ è½½æˆåŠŸ'</span>);
        });
}
</code></pre>
<h2 data-id="heading-19">requestIdleCallbackï¼šç©ºé—²æœŸä»»åŠ¡è°ƒåº¦</h2>
<h3 data-id="heading-20">ä»€ä¹ˆæ˜¯requestIdleCallbackï¼Ÿ</h3>
<p><code>requestIdleCallback</code> ï¼ˆç®€ç§° <code>rIC</code> ï¼‰å…è®¸å¼€å‘è€…åœ¨æµè§ˆå™¨ç©ºé—²æ—¶æœŸè°ƒåº¦ä»»åŠ¡ã€‚è¿™å¯¹äºæ‰§è¡Œä½ä¼˜å…ˆçº§æˆ–éç´§æ€¥çš„å·¥ä½œéå¸¸æœ‰ç”¨ï¼Œé¿å…å½±å“å…³é”®çš„ç”¨æˆ·äº¤äº’å’ŒåŠ¨ç”»ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> idleCallbackId = <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">(<span class="hljs-params">deadline</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç©ºé—²å›è°ƒå¼€å§‹æ‰§è¡Œ'</span>);
    
    <span class="hljs-comment">// deadlineå¯¹è±¡åŒ…å«é‡è¦ä¿¡æ¯ï¼š</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å‰©ä½™æ—¶é—´:'</span>, deadline.<span class="hljs-title function_">timeRemaining</span>(), <span class="hljs-string">'ms'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ˜¯å¦è¶…æ—¶:'</span>, deadline.<span class="hljs-property">didTimeout</span>);
    
    <span class="hljs-comment">// åœ¨ç©ºé—²æ—¶é—´å†…æ‰§è¡Œä»»åŠ¡</span>
    <span class="hljs-keyword">while</span> (deadline.<span class="hljs-title function_">timeRemaining</span>() &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-title function_">hasMoreWork</span>()) {
        <span class="hljs-title function_">doSomeLowPriorityWork</span>();
    }
    
    <span class="hljs-comment">// å¦‚æœè¿˜æœ‰å·¥ä½œæœªå®Œæˆï¼Œå†æ¬¡å®‰æ’</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">hasMoreWork</span>()) {
        <span class="hljs-title function_">requestIdleCallback</span>(processLowPriorityWork);
    }
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç©ºé—²å›è°ƒç»“æŸ'</span>);
}, { <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span> }); <span class="hljs-comment">// è®¾ç½®è¶…æ—¶ï¼Œç¡®ä¿åœ¨1ç§’å†…æ‰§è¡Œ</span>

<span class="hljs-comment">// ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ...'</span>);
</code></pre>
<h3 data-id="heading-21">rICçš„å…³é”®ç‰¹ç‚¹ï¼š</h3>
<ol>
<li>åªåœ¨æµè§ˆå™¨ç©ºé—²æ—¶æ‰§è¡Œ</li>
<li>æä¾›deadlineå¯¹è±¡ï¼ŒåŒ…å«å‰©ä½™æ—¶é—´ä¿¡æ¯</li>
<li>å¯ä»¥è®¾ç½®timeoutç¡®ä¿æ‰§è¡Œ</li>
<li>é€‚åˆä½ä¼˜å…ˆçº§ã€å¯ä¸­æ–­çš„ä»»åŠ¡</li>
</ol>
<h3 data-id="heading-22">rICåœ¨äº‹ä»¶å¾ªç¯ä¸­çš„ä½ç½®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç†è§£rICçš„æ‰§è¡Œæ—¶æœº</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== äº‹ä»¶å¾ªç¯ä¸­å„APIçš„æ‰§è¡Œæ—¶æœº ==='</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. setTimeout - å®ä»»åŠ¡'</span>);
}, <span class="hljs-number">0</span>);

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. Promise - å¾®ä»»åŠ¡'</span>);
});

<span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. requestAnimationFrame - åŠ¨ç”»å¸§å›è°ƒ'</span>);
    
    <span class="hljs-comment">// åœ¨rAFä¸­å®‰æ’rIC</span>
    <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5. rAFä¸­å®‰æ’çš„rIC - ç©ºé—²å›è°ƒ'</span>);
    }, { <span class="hljs-attr">timeout</span>: <span class="hljs-number">100</span> });
});

<span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. ç›´æ¥å®‰æ’çš„rIC - ç©ºé—²å›è°ƒ'</span>);
    
    <span class="hljs-comment">// åœ¨rICä¸­å®‰æ’å¾®ä»»åŠ¡</span>
    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'6. rICä¸­çš„Promise - å¾®ä»»åŠ¡'</span>);
    });
}, { <span class="hljs-attr">timeout</span>: <span class="hljs-number">100</span> });

<span class="hljs-title function_">queueMicrotask</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'7. queueMicrotask - å¾®ä»»åŠ¡'</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'8. åŒæ­¥ä»£ç '</span>);

</code></pre>
<p>ä¸Šè¿°ä»£ç çš„è¾“å‡ºé¡ºåºå¦‚ä¸‹ï¼š</p>
<ul>
<li>8.åŒæ­¥ä»£ç </li>
<li>2.Promise - å¾®ä»»åŠ¡</li>
<li>7.queueMicrotask - å¾®ä»»åŠ¡</li>
<li>1.setTimeout - å®ä»»åŠ¡</li>
<li>3.requestAnimationFrame - åŠ¨ç”»å¸§å›è°ƒ</li>
<li>4.ç›´æ¥å®‰æ’çš„rIC - ç©ºé—²å›è°ƒ</li>
<li>6.rICä¸­çš„Promise - å¾®ä»»åŠ¡</li>
<li>5.rAFä¸­å®‰æ’çš„rIC - ç©ºé—²å›è°ƒ</li>
</ul>
<p>å…¶æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰§è¡Œå®ä»»åŠ¡ (setTimeout, äº‹ä»¶å›è°ƒç­‰)</li>
<li>æ‰§è¡Œå¾®ä»»åŠ¡ (Promise, queueMicrotaskç­‰)</li>
<li>æ‰§è¡ŒrAFå›è°ƒ (åŠ¨ç”»æ›´æ–°)</li>
<li>æ ·å¼è®¡ç®—å’Œå¸ƒå±€</li>
<li>ç»˜åˆ¶ (Paint)</li>
<li>åˆæˆ (Composite)</li>
<li>æ£€æŸ¥ç©ºé—²æ—¶é—´ï¼Œå¦‚æœæœ‰ç©ºé—²ï¼Œåˆ™æ‰§è¡ŒrICå›è°ƒï¼›å¦åˆ™ç­‰å¾…ä¸‹ä¸€å¸§ã€‚</li>
</ol>
<h2 data-id="heading-23">æ ¸å¿ƒæ¦‚å¿µæ€»ç»“</h2>
<h3 data-id="heading-24">requestAnimationFrame (rAF)ï¼š</h3>
<ul>
<li>æ˜¯ä»€ä¹ˆï¼šæµè§ˆå™¨æä¾›çš„åŠ¨ç”»APIï¼Œåœ¨æ¯æ¬¡é‡ç»˜å‰æ‰§è¡Œå›è°ƒ</li>
<li>ä¸ºä»€ä¹ˆç”¨ï¼šè‡ªåŠ¨åŒ¹é…æ˜¾ç¤ºå™¨åˆ·æ–°ç‡ï¼Œé¡µé¢ä¸å¯è§æ—¶æš‚åœï¼ŒèŠ‚çœèµ„æº</li>
<li>æœ€ä½³æ—¶æœºï¼šè§†è§‰æ›´æ–°ã€åŠ¨ç”»ã€è¿ç»­çŠ¶æ€å˜åŒ–</li>
<li>æ‰§è¡Œä½ç½®ï¼šåœ¨å¾®ä»»åŠ¡ä¹‹åï¼Œé‡ç»˜ä¹‹å‰</li>
</ul>
<h3 data-id="heading-25">Web Workersï¼š</h3>
<ul>
<li>æ˜¯ä»€ä¹ˆï¼šå…è®¸JavaScriptåœ¨åå°çº¿ç¨‹è¿è¡Œçš„æŠ€æœ¯</li>
<li>ä¸ºä»€ä¹ˆç”¨ï¼šæ‰§è¡ŒCPUå¯†é›†å‹ä»»åŠ¡è€Œä¸é˜»å¡ä¸»çº¿ç¨‹</li>
<li>é™åˆ¶ï¼šæ— æ³•è®¿é—®DOMï¼Œé€šè¿‡æ¶ˆæ¯ä¼ é€’é€šä¿¡</li>
<li>ç±»å‹ï¼šä¸“ç”¨Workerã€å…±äº«Workerã€Service Workerç­‰</li>
</ul>
<h4 data-id="heading-26">requestIdleCallback (rIC)ï¼š</h4>
<ul>
<li>æ˜¯ä»€ä¹ˆï¼šåœ¨æµè§ˆå™¨ç©ºé—²æ—¶è°ƒåº¦ä»»åŠ¡çš„API</li>
<li>ä¸ºä»€ä¹ˆç”¨ï¼šæ‰§è¡Œä½ä¼˜å…ˆçº§ã€éç´§æ€¥ä»»åŠ¡</li>
<li>å…³é”®å¯¹è±¡ï¼šdeadlineåŒ…å«å‰©ä½™æ—¶é—´å’Œè¶…æ—¶ä¿¡æ¯</li>
<li>æ‰§è¡Œä½ç½®ï¼šåœ¨ä¸€å¸§çš„æœ€åï¼Œå¦‚æœæœ‰ç©ºé—²æ—¶é—´</li>
</ul>
<h2 data-id="heading-27">ç»“è¯­</h2>
<p>æœ¬æ–‡ç®€å•ä»‹ç»äº†<code>requestAnimationFrame</code>ã€<code>Web Workers</code>ã€<code>requestIdleCallback</code> çš„åŸºæœ¬ç”¨æ³•å’Œå¯¹æ¯”ï¼Œå¯¹äºæ–‡ç« ä¸­é”™è¯¯çš„åœ°æ–¹æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†ç”¨ Web æ€è·¯æ Node æœåŠ¡æ‰“åŒ…äº†ï¼è¿™å¯èƒ½æ˜¯ä½ â€œåœ°ç‹±çº§â€ç—›è‹¦çš„æ ¹æº]]></title>    <link>https://juejin.cn/post/7602091087922397234</link>    <guid>https://juejin.cn/post/7602091087922397234</guid>    <pubDate>2026-02-02T10:00:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602091087922397234" data-draft-id="7602072073134047259" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†ç”¨ Web æ€è·¯æ Node æœåŠ¡æ‰“åŒ…äº†ï¼è¿™å¯èƒ½æ˜¯ä½ â€œåœ°ç‹±çº§â€ç—›è‹¦çš„æ ¹æº"/> <meta itemprop="keywords" content="JavaScript,Node.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-02T10:00:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="donecoding"/> <meta itemprop="url" content="https://juejin.cn/user/3192637500430093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†ç”¨ Web æ€è·¯æ Node æœåŠ¡æ‰“åŒ…äº†ï¼è¿™å¯èƒ½æ˜¯ä½ â€œåœ°ç‹±çº§â€ç—›è‹¦çš„æ ¹æº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3192637500430093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    donecoding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:00:41.000Z" title="Mon Feb 02 2026 10:00:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸš€Â <strong>çœæµåŠ©æ‰‹ï¼ˆé€Ÿé€šç»“è®ºï¼‰ï¼š</strong></p>
<ol>
<li><strong>æ€ç»´è„±é’©</strong>ï¼šNode æœåŠ¡ä¸æ˜¯ Web ç»„ä»¶ã€‚æ”¾å¼ƒâ€œå•æ–‡ä»¶ Bundleâ€æ‰§å¿µï¼Œæ”¹èµ°Â  <strong>â€œä¸šåŠ¡ä»£ç æ‰“åŒ… + ç”Ÿäº§ç¯å¢ƒå®‰è£…ä¾èµ–â€</strong> Â çš„å·¥ä¸šåŒ–è·¯å¾„ã€‚</li>
<li><strong>ç‰©ç†éš”ç¦»</strong>ï¼šå°†æ‰€æœ‰ Node åŸç”Ÿä¾èµ–æ ‡è®°ä¸ºÂ <code>external</code>ï¼Œåˆ©ç”¨ Node åŸç”Ÿæ¨¡å—æŸ¥æ‰¾æœºåˆ¶å¯¹æŠ—æ‰“åŒ…å·¥å…·çš„â€œç¯å¢ƒäº’æ“ä½œæ€§â€è¯¯åˆ¤ã€‚</li>
<li><strong>è·¯å¾„å®‰å…¨</strong>ï¼šåœ¨ ESM ç¯å¢ƒä¸‹å½»åº•å‘Šåˆ«Â <code>__dirname</code>ï¼ŒåšæŒä½¿ç”¨Â <code>import.meta.url</code>Â åŠ¨æ€å¯»å€ï¼Œç¡®ä¿ç‰©ç†è·¯å¾„çš„ç»å¯¹ç¡®å®šæ€§ã€‚</li>
<li><strong>è¿ç»´å‹å¥½</strong>ï¼šä¾èµ–å¤–ç½®ä¸ä»…æ˜¯ä¸ºäº†é¿å‘ï¼Œæ›´æ˜¯ä¸ºäº†æ»¡è¶³ç”Ÿäº§ç¯å¢ƒçš„Â <strong>SCA å®‰å…¨æ‰«æ</strong>Â ä¸Â <strong>åº”æ€¥çƒ­ä¿®å¤</strong>Â ä¸»æƒã€‚</li>
</ol>
</blockquote>
<hr/>
<p>ä¸€ã€ è§‚å¿µé™ç»´ï¼šä¸ºä»€ä¹ˆ Web å¿…é¡» Bundleï¼Œè€Œ Node ä¸éœ€è¦ï¼Ÿ</p>
<p>åœ¨å‰ç«¯ Web å¼€å‘ä¸­ï¼Œ<strong>Bundle Everything</strong>Â æ˜¯ç»å¯¹çœŸç†ã€‚å› ä¸ºæµè§ˆå™¨æ²¡æœ‰æ–‡ä»¶ç³»ç»Ÿï¼Œå¿…é¡»é€šè¿‡æè‡´åˆå¹¶æ¥å‡å°‘ HTTP è¯·æ±‚å¹¶è§£å†³å…¼å®¹æ€§ã€‚</p>
<p>ä½†åœ¨ Node.js ç¯å¢ƒä¸‹ï¼Œä½ çš„ä»£ç è¿è¡Œåœ¨Â <strong>æ“ä½œç³»ç»Ÿ</strong>Â ä¹‹ä¸Šã€‚Node.js æœ‰ä¸€å¥—è¿‘ä¹å®Œç¾çš„æ¨¡å—æŸ¥æ‰¾ç®—æ³•ï¼ˆ<code>node_modules</code>Â æ£€ç´¢å±‚çº§ï¼‰ï¼Œè¿™æ˜¯å®ƒçš„æ ¹åŸºã€‚<strong>å¼ºè¡ŒæŠŠæ‰€æœ‰ä¾èµ–æ‰è¿›ä¸€ä¸ªå•æ–‡ä»¶ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ç ´å Node.js çš„â€œç‰©ç†å¯»å€é€»è¾‘â€ã€‚</strong></p>
<hr/>
<p>äºŒã€ Web æ€è·¯æ‰“åŒ… Node æœåŠ¡çš„â€œä¸‰å¤§æ·±å‘â€</p>
<p>å¦‚æœä½ åšæŒç”¨ Web çš„â€œå•æ–‡ä»¶â€æ€è·¯å»æ‰“åŒ… Node æœåŠ¡ï¼Œä½ ä¸€å®šä¼šé‡åˆ°ä»¥ä¸‹ç¾éš¾ï¼š</p>
<ol>
<li>åŸç”ŸäºŒè¿›åˆ¶æ¨¡å— (Native Addons)</li>
</ol>
<p>åƒå›¾åƒå¤„ç†ï¼ˆ<code>sharp</code>ã€<code>canvas</code>ï¼‰ã€åŠ å¯†æˆ–é«˜æ€§èƒ½æ—¥å¿—åº“ï¼ˆ<code>pino</code>ï¼‰ï¼Œå†…éƒ¨åŒ…å«Â <code>.node</code>Â åç¼€çš„ C++ äºŒè¿›åˆ¶ä»£ç ã€‚</p>
<ul>
<li><strong>Bundle ç»“å±€</strong>ï¼šæ‰“åŒ…å·¥å…·æ— æ³•å°†äºŒè¿›åˆ¶ä»£ç å¡è¿› JS æ–‡æœ¬ã€‚å•æ–‡ä»¶è¿è¡Œæ—¶ï¼Œä¼šå› æ— æ³•åœ¨è™šæ‹Ÿè·¯å¾„ä¸­å®šä½ç‰©ç†Â <code>.node</code>Â æ–‡ä»¶è€Œç›´æ¥å´©æºƒã€‚</li>
</ul>
<ol start="2">
<li>åŠ¨æ€è·¯å¾„é™·é˜±ï¼šå‘Šåˆ«Â <code>__dirname</code></li>
</ol>
<p>å¾ˆå¤šå¼€å‘è€…åœ¨æ‰“åŒ…æ—¶çº ç»“Â <code>__dirname</code>Â ä¸¢å¤±ã€‚å¦‚æœä½ è¿˜è¯•å›¾é æ‰“åŒ…å·¥å…·å»æ¨¡æ‹Ÿå®ƒï¼Œè¯´æ˜ä½ çš„æ€ç»´è¿˜æ²¡è½¬è¿‡æ¥ã€‚</p>
<ul>
<li><strong>Bundle ç»“å±€</strong>ï¼šä¸€æ—¦æ‰“åŒ…ï¼ŒåŸæœ¬æ·±å±‚åµŒå¥—çš„ç›®å½•ç»“æ„è¢«æ‹å¹³ï¼Œæ¨¡æ‹Ÿçš„Â <code>__dirname</code>Â å¾€å¾€æŒ‡å‘é”™è¯¯çš„Â <code>dist</code>Â ç›®å½•ã€‚</li>
<li><strong>å·¥ä¸šçº§åšæ³•</strong>ï¼šåœ¨ ESM ç¯å¢ƒä¸‹ï¼Œç›´æ¥ä½¿ç”¨åŸç”ŸÂ Node.js URL APIÂ è¿›è¡ŒåŠ¨æ€å¯»å€ï¼š</li>
</ul>
<p>javascript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>;

<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>);
<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(__filename); <span class="hljs-comment">// ç‰©ç†ä½ç½® 100% å‡†ç¡®</span>
</code></pre>
<p>è¯·è°¨æ…ä½¿ç”¨æ­¤ç±»ä»£ç ã€‚</p>
<ol start="3">
<li>Interop (äº’æ“ä½œæ€§) ç¾éš¾</li>
</ol>
<p>Node çš„Â <code>CommonJS</code>Â å’ŒÂ <code>ESM</code>Â æ··ç”¨æœºåˆ¶æå…¶å¤æ‚ã€‚</p>
<ul>
<li><strong>Bundle ç»“å±€</strong>ï¼šæ‰“åŒ…å·¥å…·åœ¨è½¬æ¢Â <code>import</code>Â å’ŒÂ <code>require</code>Â æ—¶ï¼Œææ˜“å¼„åÂ <code>default</code>Â å¯¼å‡ºã€‚ä½ é‡åˆ°çš„Â <code>TypeError: ct.destination is not a function</code>Â å¾€å¾€å°±æ˜¯å› ä¸ºæ‰“åŒ…å·¥å…·æŠŠä¸€ä¸ª CJS æ¨¡å—é”™è¯¯åœ°åŒ…è£¹æˆäº†ä»£ç†å¯¹è±¡ã€‚</li>
</ul>
<hr/>
<p>ä¸‰ã€ ç»´åº¦å‡çº§ï¼šä¸ºä»€ä¹ˆè¿ç»´ï¼ˆSREï¼‰æ›´å–œæ¬¢â€œä¾èµ–å¤–ç½®â€ï¼Ÿ</p>
<p>è¿™æ˜¯ Web å‡ºèº«çš„å¼€å‘è€…æœ€å®¹æ˜“å¿½ç•¥çš„è§†è§’ï¼š<strong>åœ¨çº¿ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œä¾èµ–å¤–ç½®æ˜¯è¿ç»´åŒå­¦çš„â€œåˆšéœ€â€ã€‚</strong></p>
<ul>
<li>
<p><strong>å®‰å…¨å®¡è®¡çš„â€œé»‘ç›’â€ vs â€œé€æ˜ä»¶â€</strong> ï¼š</p>
<ul>
<li><strong>å¤–ç½®æ¨¡å¼</strong>ï¼šè¿ç»´é€šè¿‡Â <strong>SCAï¼ˆè½¯ä»¶æˆåˆ†åˆ†æï¼‰å·¥å…·</strong>Â æ‰«æÂ <code>lock</code>Â æ–‡ä»¶å³å¯æ¯«ç§’çº§è¯†åˆ« CVE æ¼æ´ã€‚</li>
<li><strong>Bundle æ¨¡å¼</strong>ï¼šä½ äº¤ä»˜çš„æ˜¯å‡ åä¸‡è¡Œå‹ç¼©æ··æ·†åçš„ä»£ç ã€‚å®‰å…¨æ‰«æå™¨æ— æ³•ç©¿é€æ··æ·†åçš„å˜é‡åï¼Œæ•´ä¸ªåº”ç”¨å˜æˆäº†ä¸å¯æ§çš„å®‰å…¨æ­»è§’ã€‚</li>
</ul>
</li>
<li>
<p><strong>åº”æ€¥çƒ­ä¿®å¤ (Hotfix)</strong> ï¼š<br/>
å¦‚æœå‡Œæ™¨ 3 ç‚¹å‘ç°æŸä¸ªæ·±åº¦ä¾èµ–åŒ…æœ‰è‡´å‘½ Bugï¼Œ<strong>å¤–ç½®æ¨¡å¼</strong>å…è®¸è¿ç»´ç›´æ¥è¿›å…¥å®¹å™¨ä¿®æ”¹Â <code>node_modules</code>Â é‡Œçš„æŸè¡Œä»£ç æ•‘ç«ã€‚è€ŒÂ <strong>Bundle æ¨¡å¼</strong>Â é™¤äº†å…¨é‡é‡æ–°æ‰“åŒ…å‘å¸ƒï¼Œæ²¡æœ‰ä»»ä½•è‡ªæ•‘æ‰‹æ®µã€‚</p>
</li>
</ul>
<hr/>
<p>å››ã€ å·¥ä¸šçº§æ ‡å‡†æ–¹æ¡ˆï¼šä»â€œæŠ˜è…¾æ‰“åŒ…â€è½¬å‘â€œç¯å¢ƒäº¤ä»˜â€</p>
<p>æ—¢ç„¶å•æ–‡ä»¶æ‰“åŒ…æ˜¯è‡ªå¯»æ­»è·¯ï¼Œé‚£ä¹ˆâ€œæ­£è§„å†›â€çš„æ ‡é…æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li>æ‹¦æˆªæ¨¡å¼ï¼šVite/Rollup ä»…ä½œä¸ºâ€œè½¬è¯‘å™¨â€</li>
</ol>
<p>åœ¨é…ç½®ä¸­å°†æ‰€æœ‰Â <code>dependencies</code>Â æ ‡è®°ä¸ºÂ <code>external</code>ã€‚Vite åªè´Ÿè´£æŠŠä½ çš„ TS ä¸šåŠ¡ä»£ç è½¬æ¢æˆè½»é‡çš„ MJSï¼Œä¸ä»‹å…¥ä»»ä½•ä¾èµ–çš„å¤„ç†ã€‚</p>
<ol start="2">
<li>äº¤ä»˜æ¨¡å¼ï¼šç”Ÿäº§ç¯å¢ƒâ€œç°åœºâ€å®‰è£…</li>
</ol>
<p>åˆ©ç”¨ Docker çš„åˆ†é˜¶æ®µæ„å»ºï¼ˆMulti-stage Buildsï¼‰ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„å·¥ä¸šåŒ–éƒ¨ç½²ï¼š</p>
<ol>
<li><strong>å‡†å¤‡ç¯å¢ƒ</strong>ï¼šåœ¨ Docker é•œåƒä¸­Â <strong>COPYÂ <code>package.json</code></strong>ã€‚</li>
<li><strong>ç°åœºå®‰è£…</strong>ï¼š<strong>RUNÂ <code>pnpm install --prod</code></strong>ã€‚è¿™ä¸€æ­¥åœ¨ç›®æ ‡å®¹å™¨ï¼ˆé€šå¸¸æ˜¯ Linuxï¼‰ä¸­æ‰§è¡Œï¼Œç¡®ä¿åŸç”Ÿæ¨¡å—é’ˆå¯¹è¯¥ç³»ç»Ÿå®Œæˆæ­£ç¡®çš„ç¼–è¯‘ï¼Œå½»åº•è§„é¿è·¨å¹³å°å…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li><strong>æ”¾å…¥ä¸šåŠ¡</strong>ï¼š<strong>COPYÂ <code>dist/</code></strong> Â äº§ç‰©ã€‚</li>
<li><strong>å¯åŠ¨</strong>ï¼šè®© Node.js åŸç”Ÿçš„æ¨¡å—åŠ è½½å™¨å»å¤„ç†æœ€ç¨³å¥çš„ä¾èµ–åŠ è½½ã€‚</li>
</ol>
<hr/>
<p>äº”ã€ æ€»ç»“ï¼šé€ è½®å­æ˜¯ä¸ºäº†çœ‹æ¸…è·¯</p>
<ul>
<li><strong>å‰ç«¯æ€ç»´</strong>ï¼šè¿½æ±‚äº§ç‰©æå°ã€é«˜åº¦æ··æ·†ã€å•å…µä½œæˆ˜ï¼ˆBundleï¼‰ã€‚</li>
<li><strong>åç«¯æ€ç»´</strong>ï¼šè¿½æ±‚Â <strong>ç¯å¢ƒä¸€è‡´æ€§ã€è¿è¡Œæ—¶ç¡®å®šæ€§ã€äºŒè¿›åˆ¶å…¼å®¹æ€§ï¼ˆEnvironmentï¼‰</strong> ã€‚</li>
</ul>
<p>æ”¾å¼ƒâ€œå•æ–‡ä»¶æ‰“åŒ…â€æ˜¯å¯¹å¼€å‘è€…ç²¾ç¥å¥åº·çš„æå¤§ä¿æŠ¤ã€‚æ‰¿è®¤ Node ç¯å¢ƒçš„å¤æ‚æ€§ï¼Œæ‹¥æŠ±Â  <strong>â€œå¤–ç½®ä¾èµ– + å®¹å™¨åŒ–å®‰è£…â€</strong> ï¼Œè¿™æ‰æ˜¯ä» Web å¼€å‘è€…å‘åç«¯æ¶æ„è¿›åŒ–çš„å¿…ç»ä¹‹è·¯ã€‚</p>
<p><strong>æ€»ç»“ä¸€å¥è¯ï¼šWeb é¡¹ç›®çœ‹ä½“ç§¯ï¼ŒNode é¡¹ç›®çœ‹ç¯å¢ƒã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1. ã€Šæ‰‹å†™ç³»åˆ—ï¼šé¢è¯•å®˜é—®æˆ‘ new çš„åŸç†ï¼Œæˆ‘ç›´æ¥ç”©å‡ºä¸‰ä¸ªç‰ˆæœ¬ã€‹]]></title>    <link>https://juejin.cn/post/7602057555453100086</link>    <guid>https://juejin.cn/post/7602057555453100086</guid>    <pubDate>2026-02-02T10:16:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602057555453100086" data-draft-id="7602106969697435711" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1.  ã€Šæ‰‹å†™ç³»åˆ—ï¼šé¢è¯•å®˜é—®æˆ‘ new çš„åŸç†ï¼Œæˆ‘ç›´æ¥ç”©å‡ºä¸‰ä¸ªç‰ˆæœ¬ã€‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-02T10:16:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NEXT06"/> <meta itemprop="url" content="https://juejin.cn/user/1176918763246011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1.  ã€Šæ‰‹å†™ç³»åˆ—ï¼šé¢è¯•å®˜é—®æˆ‘ new çš„åŸç†ï¼Œæˆ‘ç›´æ¥ç”©å‡ºä¸‰ä¸ªç‰ˆæœ¬ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1176918763246011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NEXT06
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:16:48.000Z" title="Mon Feb 02 2026 10:16:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠ JavaScript ä¸­é‚£ä¸ªæ—¢ç†Ÿæ‚‰åˆç¥ç§˜çš„Â newÂ æ“ä½œç¬¦ã€‚ç›¸ä¿¡å¾ˆå¤šå°ä¼™ä¼´åœ¨é¢è¯•æ—¶éƒ½ç»å†è¿‡è¿™æ ·çš„â€œååœºé¢â€ï¼šé¢è¯•å®˜å¾®å¾®ä¸€ç¬‘ï¼Œæ¨è¿‡æ¥é‚£ä¸ªç†Ÿæ‚‰çš„é”®ç›˜ï¼šâ€œæ¥ï¼Œèƒ½ä¸èƒ½æ‰‹å†™ä¸€ä¸ªÂ newÂ çš„å®ç°ï¼Ÿâ€</p>
<p>è¿™æ—¶å€™ï¼Œå¦‚æœä½ åªæ˜¯èƒŒè¯µäº†ä»£ç ï¼Œç¨å¾®é—®æ·±ä¸€ç‚¹å¯èƒ½å°±éœ²æ€¯äº†ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªâ€œé»‘ç›’â€æ‹†å¼€ï¼Œä»åº•å±‚åŸç†åˆ°å®Œç¾å®ç°ï¼Œå½»åº•ææ‡‚å®ƒï¼</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåŸç†æ‹†è§£ï¼šnew åˆ°åº•å¹²äº†å•¥ï¼Ÿ</h2>
<p>æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œconst person = new Person('Fog', 18)Â å†™å¾—é£èµ·ã€‚ä½†Â newÂ èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<p>ç®€å•æ¥è¯´ï¼ŒnewÂ å°±æ˜¯ä¸€ä¸ª**â€œç”Ÿäº§è½¦é—´â€**ã€‚å®ƒæ‹¿ç€ä½ çš„å›¾çº¸ï¼ˆæ„é€ å‡½æ•°ï¼‰ï¼Œç»™ä½ é€ å‡ºä¸€ä¸ªå®å®åœ¨åœ¨çš„äº§å“ï¼ˆå®ä¾‹å¯¹è±¡ï¼‰ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹ï¼Œæ ‡å‡†æµç¨‹åªæœ‰å››æ­¥ï¼ˆ<strong>æ ¸å¿ƒå››æ­¥æ³•</strong>ï¼‰ï¼š</p>
<ol>
<li><strong>å»ºç©ºæˆ¿</strong>ï¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ç©ºå¯¹è±¡Â {}ã€‚</li>
<li><strong>æŒ‚ç‰Œå­</strong>ï¼šå°†è¿™ä¸ªç©ºå¯¹è±¡çš„åŸå‹é“¾ï¼ˆ<strong>proto</strong>ï¼‰é“¾æ¥åˆ°æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ä¸Šã€‚ï¼ˆè¿™æ­¥æœ€å…³é”®ï¼Œå†³å®šäº†ä½ èƒ½ç”¨è¿™ä¸€ç±»çš„å…¬å…±æ–¹æ³•ï¼‰ã€‚</li>
<li><strong>æè£…ä¿®</strong>ï¼šå°†æ„é€ å‡½æ•°å†…éƒ¨çš„Â thisÂ æŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°ã€‚ï¼ˆç»™å¯¹è±¡æ·»åŠ å±æ€§ï¼Œå¦‚Â name,Â ageï¼‰ã€‚</li>
<li><strong>äº¤é’¥åŒ™</strong>ï¼šåˆ¤æ–­æ„é€ å‡½æ•°çš„è¿”å›å€¼ã€‚å¦‚æœæ„é€ å‡½æ•°è‡ªå·±è¿”å›äº†ä¸€ä¸ªå¯¹è±¡ï¼ˆæˆ–å‡½æ•°ï¼‰ï¼Œé‚£å°±ä»¥å®ƒä¸ºå‡†ï¼›å¦åˆ™ï¼Œé»˜è®¤è¿”å›æˆ‘ä»¬åœ¨ç¬¬ä¸€æ­¥åˆ›å»ºçš„é‚£ä¸ªæ–°å¯¹è±¡ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e4e774510f34a1f939d6be9ffff69f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632211&amp;x-signature=f%2FrTmjtqgL8ZpJ4wkqgbSOA3X6o%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€é¢è¯•å®˜åˆ°åº•åœ¨è€ƒä»€ä¹ˆï¼Ÿ</h2>
<p>é¢è¯•å®˜è®©ä½ æ‰‹å†™Â newï¼Œç»å¯¹ä¸æ˜¯ä¸ºäº†çœ‹ä½ é»˜å†™ä»£ç ã€‚é€šè¿‡è¿™å¯¥å¯¥å‡ è¡Œä»£ç ï¼Œä»–åœ¨è€ƒå¯Ÿä½ ä»¥ä¸‹å››å¤§å†…åŠŸï¼š</p>
<ol>
<li><strong>åŸå‹é“¾çš„ç†è§£</strong>ï¼šä½ çŸ¥ä¸çŸ¥é“å®ä¾‹å’Œç±»æ˜¯æ€ä¹ˆå…³è”èµ·æ¥çš„ï¼Ÿ</li>
<li><strong>this æŒ‡å‘æœºåˆ¶</strong>ï¼šä½ æ‡‚ä¸æ‡‚æ€ä¹ˆç”¨Â callÂ æˆ–Â applyÂ æ”¹å˜å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Ÿ</li>
<li><strong>å‡½æ•°å‚æ•°å¤„ç†</strong>ï¼šé¢å¯¹ä¸å®šå‚æ•°ï¼Œä½ ä¼šç”¨Â argumentsÂ è¿˜æ˜¯Â ...argsï¼Ÿ</li>
<li><strong>è¾¹ç•Œæƒ…å†µå¤„ç†</strong>ï¼š**è¿™æ˜¯é«˜åˆ†ç‚¹ï¼**å¦‚æœæ„é€ å‡½æ•°é‡Œå†™äº†Â returnï¼Œä½ çš„ä»£ç è¿˜èƒ½æ­£å¸¸å·¥ä½œå—ï¼Ÿ</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€æ‰‹å†™è¿›é˜¶ä¹‹è·¯</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”±æµ…å…¥æ·±ï¼Œæ¼”ç¤ºä¸‰ä¸ªç‰ˆæœ¬çš„å®ç°ã€‚</p>
<h3 data-id="heading-3">V1.0 é’é“œç‰ˆï¼šES5 ç»å…¸å†™æ³•</h3>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„å†™æ³•ï¼Œä¹Ÿæ˜¯å¾ˆå¤šè€æ•™æé‡Œçš„æ ‡å‡†ç­”æ¡ˆã€‚æˆ‘ä»¬éœ€è¦å¤„ç†Â argumentsÂ è¿™ä¸ªâ€œä¼ªæ•°ç»„â€ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name, age</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
}

<span class="hljs-comment">// æ ¸å¿ƒå®ç°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">objectFactory</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// 1. åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡</span>
    <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();
    
    <span class="hljs-comment">// 2. è·å–æ„é€ å‡½æ•°</span>
    <span class="hljs-comment">// arguments æ˜¯ç±»æ•°ç»„ï¼Œæ²¡æœ‰ shift æ–¹æ³•ï¼Œæˆ‘ä»¬å€Ÿç”¨æ•°ç»„åŸå‹çš„ shift</span>
    <span class="hljs-comment">// è¿™è¡Œä»£ç æœ‰ä¸¤ä¸ªä½œç”¨ï¼šå–å‡ºç¬¬ä¸€ä¸ªå‚æ•°(Constructor)ï¼ŒåŒæ—¶ arguments é‡Œå‰©ä¸‹çš„å°±æ˜¯å‚æ•°äº†</span>
    <span class="hljs-keyword">var</span> <span class="hljs-title class_">Constructor</span> = [].<span class="hljs-property">shift</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>);
    
    <span class="hljs-comment">// 3. é“¾æ¥åŸå‹ï¼šè®© obj èƒ½è®¿é—® Person.prototype ä¸Šçš„å±æ€§</span>
    obj.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
    
    <span class="hljs-comment">// 4. ç»‘å®š this å¹¶æ‰§è¡Œ</span>
    <span class="hljs-comment">// ä½¿ç”¨ apply å°† remaining arguments ä¼ è¿›å»</span>
    <span class="hljs-keyword">var</span> result = <span class="hljs-title class_">Constructor</span>.<span class="hljs-title function_">apply</span>(obj, <span class="hljs-variable language_">arguments</span>);
    
    <span class="hljs-comment">// 5. è¿”å›å€¼å¤„ç†</span>
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„ç®€æ˜“åˆ¤æ–­ï¼Œä½†å…¶å®æœ‰æ¼æ´ï¼ˆç¨ååœ¨ç‹è€…ç‰ˆæ­æ™“ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">'object'</span> &amp;&amp; result !== <span class="hljs-literal">null</span> ? result : obj;
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">var</span> awei = <span class="hljs-title function_">objectFactory</span>(<span class="hljs-title class_">Person</span>, <span class="hljs-string">'é˜¿ä¼Ÿ'</span>, <span class="hljs-number">20</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(awei.<span class="hljs-property">name</span>); <span class="hljs-comment">// é˜¿ä¼Ÿ</span>
awei.<span class="hljs-title function_">sayName</span>(); <span class="hljs-comment">// é˜¿ä¼Ÿ</span>
</code></pre>
<p><strong>é‡ç‚¹è§£æï¼š</strong></p>
<ul>
<li><strong>ä¸ºä»€ä¹ˆç”¨Â [].shift.call(arguments)ï¼Ÿ</strong><br/>
argumentsÂ æ˜¯ä¸€ä¸ª<strong>ç±»æ•°ç»„å¯¹è±¡</strong>ï¼ˆæœ‰ lengthï¼Œæœ‰ç´¢å¼•ï¼Œä½†æ²¡æ•°ç»„æ–¹æ³•ï¼‰ã€‚é€šè¿‡Â callï¼Œæˆ‘ä»¬å¼ºè¡Œè®©å®ƒå€Ÿç”¨äº†æ•°ç»„çš„Â shiftÂ æ–¹æ³•ï¼Œåˆ‡æ‰å¹¶æ‹¿åˆ°äº†ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆæ„é€ å‡½æ•°ï¼‰ï¼Œå‰©ä¸‹çš„æ­£å¥½ä¼ ç»™Â applyã€‚</li>
</ul>
<h3 data-id="heading-4">V2.0 é»„é‡‘ç‰ˆï¼šES6 ç°ä»£åŒ–å†™æ³•</h3>
<p>æ—¶ä»£å˜äº†ï¼Œæˆ‘ä»¬æœ‰äº†æ›´ä¼˜é›…çš„è¯­æ³•ç³–ã€‚<strong>proto</strong>Â è™½ç„¶å¥½ç”¨ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¢«è§†ä¸ºéæ ‡å‡†ï¼ˆå°½ç®¡æµè§ˆå™¨æ”¯æŒï¼‰ï¼Œæ€§èƒ½ä¹Ÿä¸å¦‚Â Object.createã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59290eb3064b48eda78106277f7618d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632211&amp;x-signature=gbL0RA9ortuG5RDAesKnZZ9CqKE%3D" alt="image.png" loading="lazy"/>
JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ ...args å‰©ä½™å‚æ•°ï¼Œå‘Šåˆ« arguments</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">objectFactory</span>(<span class="hljs-params">Constructor, ...args</span>) {
    <span class="hljs-comment">// 1. &amp; 2. åˆ›å»ºå¯¹è±¡å¹¶ç›´æ¥é“¾æ¥åŸå‹</span>
    <span class="hljs-comment">// Object.create(proto) åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¸¦ç€æŒ‡å®šçš„åŸå‹ï¼Œæ€§èƒ½æ›´å¥½ï¼Œæ›´ç¬¦åˆè§„èŒƒ</span>
    <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
    
    <span class="hljs-comment">// 3. æ‰§è¡Œæ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Constructor</span>.<span class="hljs-title function_">apply</span>(obj, args);
    
    <span class="hljs-comment">// 4. è¿”å›å€¼å¤„ç† (ä¾ç„¶æ²¿ç”¨æ—§é€»è¾‘)</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">'object'</span> &amp;&amp; result !== <span class="hljs-literal">null</span> ? result : obj;
}
</code></pre>
<p><strong>é‡ç‚¹è§£æï¼š</strong></p>
<ul>
<li><strong>Object.createÂ çš„ä¼˜åŠ¿</strong>ï¼šå®ƒç›´æ¥åˆ›å»ºä¸€ä¸ªå·²ç»è¿æ¥å¥½åŸå‹çš„å¯¹è±¡ï¼Œé¿å…äº†åˆ›å»ºåå†ä¿®æ”¹Â <strong>proto</strong>Â æŒ‡é’ˆå¸¦æ¥çš„æ€§èƒ½æŸè€—ï¼ˆä¿®æ”¹åŸå‹é“¾åœ¨ V8 å¼•æ“ä¸­æ˜¯éå¸¸æ˜‚è´µçš„æ“ä½œï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">V3.0 ç‹è€…ç‰ˆï¼šæ— æ‡ˆå¯å‡»çš„æœ€ç»ˆç‰ˆ</h3>
<p>æ³¨æ„äº†ï¼å¦‚æœä½ èƒ½å†™å‡ºè¿™ä¸ªç‰ˆæœ¬ï¼Œé¢è¯•å®˜ç»å¯¹ä¼šå¯¹ä½ åˆ®ç›®ç›¸çœ‹ã€‚</p>
<p>åœ¨ V1 å’Œ V2 ä¸­ï¼Œæˆ‘ä»¬å¯¹è¿”å›å€¼çš„åˆ¤æ–­æ˜¯Â typeof result === 'object'ã€‚è¿™æœ‰ä¸€ä¸ªå·¨å¤§çš„<strong>éšå½¢æ¼æ´</strong>ï¼š<br/>
<strong>å¦‚æœæ„é€ å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªÂ functionÂ å‘¢ï¼Ÿ</strong></p>
<p>åœ¨ JS åŸç”ŸÂ newÂ ä¸­ï¼Œå¦‚æœæ„é€ å‡½æ•°è¿”å›å‡½æ•°ï¼ŒnewÂ è¡¨è¾¾å¼çš„ç»“æœå°±æ˜¯é‚£ä¸ªå‡½æ•°ã€‚ä½†Â typeof functionÂ æ˜¯Â 'function'Â è€Œä¸æ˜¯Â 'object'ï¼Œä¹‹å‰çš„ä»£ç ä¼šé”™è¯¯åœ°è¿”å›Â objÂ å®ä¾‹ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">objectFactory</span>(<span class="hljs-params">Constructor, ...args</span>) {
    <span class="hljs-comment">// 0. å‚æ•°æ ¡éªŒ (ä¸¥è°¨æ€§åŠ åˆ†é¡¹)</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Constructor</span> !== <span class="hljs-string">'function'</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">'Constructor must be a function'</span>);
    }

    <span class="hljs-comment">// 1. åˆ›å»ºå¯¹è±¡ï¼Œé“¾æ¥åŸå‹</span>
    <span class="hljs-keyword">const</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);
    
    <span class="hljs-comment">// 2. ç»‘å®š this æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Constructor</span>.<span class="hljs-title function_">apply</span>(obj, args);
    
    <span class="hljs-comment">// 3. å®Œç¾çš„è¿”å›å€¼å¤„ç†ï¼ˆå…³é”®ä¿®æ­£ï¼ï¼‰</span>
    <span class="hljs-comment">// å¦‚æœ result æ˜¯å¯¹è±¡(énull) æˆ–è€… æ˜¯å‡½æ•°ï¼Œåˆ™è¿”å› result</span>
    <span class="hljs-comment">// å¦åˆ™è¿”å›æ–°åˆ›å»ºçš„ obj</span>
    <span class="hljs-keyword">const</span> isObject = <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">'object'</span> &amp;&amp; result !== <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> isFunction = <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">'function'</span>;
    
    <span class="hljs-keyword">return</span> (isObject || isFunction) ? result : obj;
}

<span class="hljs-comment">// éªŒè¯ç‰¹æ®Šæƒ…å†µ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Factory</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'I am a function'</span>); };
}
<span class="hljs-keyword">const</span> test = <span class="hljs-title function_">objectFactory</span>(<span class="hljs-title class_">Factory</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> test); <span class="hljs-comment">// "function" â€”â€” é€»è¾‘æ­£ç¡®ï¼</span>
</code></pre>
<h2 data-id="heading-6">å››ã€æ€»ç»“</h2>
<p>ä½ çœ‹ï¼Œæ‰€è°“çš„â€œæ‰‹å†™æºç â€ï¼Œå…¶å®å°±æ˜¯å¯¹åŸºç¡€çŸ¥è¯†çš„æ’åˆ—ç»„åˆã€‚</p>
<ol>
<li><strong>åˆ›å»º</strong>ï¼šObject.create</li>
<li><strong>æ‰§è¡Œ</strong>ï¼šFunction.prototype.apply</li>
<li><strong>åˆ¤æ–­</strong>ï¼šç±»å‹æ£€æµ‹ä¸é€»è¾‘è¿ç®—</li>
</ol>
<p>æŒæ¡äº†è¿™ä¸‰ç‚¹ï¼ŒnewÂ æ“ä½œç¬¦å¯¹ä½ æ¥è¯´å°±ä¸å†æ˜¯é»‘ç›’ã€‚ä¸‹æ¬¡é¢è¯•é‡åˆ°ï¼Œç›´æ¥å±•ç¤ºâ€œç‹è€…ç‰ˆâ€ï¼Œå‘Šè¯‰é¢è¯•å®˜ï¼š<strong>æˆ‘ä¸æ­¢ä¼šå†™ï¼Œæˆ‘è¿˜çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå†™ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClawæ·±åº¦ä½“éªŒï¼šä»å®‰è£…åˆ°é£ä¹¦æ’ä»¶é…ç½®]]></title>    <link>https://juejin.cn/post/7602072652605964328</link>    <guid>https://juejin.cn/post/7602072652605964328</guid>    <pubDate>2026-02-02T08:41:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602072652605964328" data-draft-id="7602072652605947944" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClawæ·±åº¦ä½“éªŒï¼šä»å®‰è£…åˆ°é£ä¹¦æ’ä»¶é…ç½®"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-02-02T08:41:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿·äººçš„å°‘ä¾ "/> <meta itemprop="url" content="https://juejin.cn/user/3246229002392461"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClawæ·±åº¦ä½“éªŒï¼šä»å®‰è£…åˆ°é£ä¹¦æ’ä»¶é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3246229002392461/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿·äººçš„å°‘ä¾ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:41:34.000Z" title="Mon Feb 02 2026 08:41:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äº‘æœåŠ¡å™¨éƒ¨ç½²openclaw</h2>
<h3 data-id="heading-1">openclawä»‹ç»</h3>
<p>OpenClawï¼ˆæ›¾ç”¨å Clawdbotã€Moltbotï¼‰æ˜¯è¿‘æœŸ AI åœˆç°è±¡çº§çš„å¼€æºé¡¹ç›®ï¼ˆå½“å‰å·²12.2w staräº†ï¼Œè¿˜åœ¨ç–¯æ¶¨ï¼‰ã€‚ æœ¬è´¨æ˜¯ä¸€ä¸ª<strong>æœ¬åœ°ä¼˜å…ˆçš„ä¸ªäºº AI åŠ©æ‰‹å¹³å°</strong>ï¼Œå¯ä»¥éƒ¨ç½²åœ¨ä½ çš„ç”µè„‘æˆ–æœåŠ¡å™¨ä¸Šï¼Œè®©ä½ é€šè¿‡èŠå¤©å·¥å…·ï¼ˆå¦‚é£ä¹¦ã€Telegramã€WhatsAppï¼‰ç›´æ¥æ“æ§å®ƒå®Œæˆå„ç§ä»»åŠ¡ã€‚</p>
<p><strong>å®ƒä¸ºä»€ä¹ˆçªç„¶ç«äº†ï¼Ÿ</strong></p>
<ul>
<li>
<p><strong>çœŸæ­£ â€œåšäº‹â€ çš„ AI åŠ©æ‰‹</strong></p>
<p>å®ƒä¸åƒ ChatGPT åªä¼šèŠå¤©ï¼Œè€Œæ˜¯èƒ½ç›´æ¥æ‰§è¡Œæ“ä½œï¼šæ”¶å‘é‚®ä»¶ã€ç®¡ç†æ—¥ç¨‹ã€è¿è¡Œæœ¬åœ°è„šæœ¬ã€æŸ¥è¯¢æ•°æ®ç­‰ã€‚</p>
<p>æ¯”å¦‚ä½ åœ¨é£ä¹¦å‘ä¸€å¥ â€œå¸®æˆ‘æ•´ç†ä¸Šå‘¨çš„é”€å”®æ•°æ®å¹¶ç”Ÿæˆè¡¨æ ¼â€ï¼Œå®ƒå°±èƒ½ç›´æ¥åœ¨ä½ çš„ç”µè„‘ä¸Šå®Œæˆã€‚</p>
</li>
<li>
<p><strong>æœ¬åœ°éƒ¨ç½² + æ•°æ®å¯æ§</strong></p>
<p>æ‰€æœ‰æŒ‡ä»¤å’Œæ•°æ®éƒ½åœ¨ä½ çš„è®¾å¤‡ä¸Šè¿è¡Œï¼ŒèŠå¤©è®°å½•ã€æ–‡ä»¶ã€API å¯†é’¥éƒ½ä¸ä¼šä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹äº‘ç«¯ï¼Œå¯¹éšç§æ•æ„Ÿçš„ç”¨æˆ·éå¸¸æœ‰å¸å¼•åŠ›ã€‚</p>
</li>
<li>
<p><strong>å¤šæ¸ é“äº¤äº’ä½“éªŒ</strong></p>
<p>æ”¯æŒé£ä¹¦ã€é’‰é’‰ã€Telegramã€WhatsApp ç­‰å‡ åç§èŠå¤©å·¥å…·ä½œä¸º â€œé¥æ§å™¨â€ã€‚</p>
<p>ä½ å¯ä»¥åœ¨æ‰‹æœºä¸Šå‘æ¶ˆæ¯ï¼Œè®©å®¶é‡Œæˆ–äº‘ç«¯çš„ç”µè„‘è‡ªåŠ¨å¹²æ´»ï¼Œå®ç°äº† â€œéšæ—¶éšåœ°è¿œç¨‹æŒ‡æŒ¥â€ã€‚</p>
</li>
<li>
<p><strong>æ”¹åå¼•å‘å…³æ³¨</strong></p>
<p>é¡¹ç›®åœ¨ä¸€å‘¨å†…ä» Clawdbot â†’ Moltbot â†’ OpenClaw è¿ç»­æ›´åï¼ŒåŠ ä¸Š GitHub Star æ•° 10 å¤©æš´æ¶¨è‡³ 12 ä¸‡ +ï¼Œåœ¨å¼€å‘è€…ç¤¾åŒºå’Œç¤¾äº¤å¹³å°å¼•å‘äº†å¤§é‡è®¨è®ºã€‚</p>
</li>
<li>
<p><strong>AI æ™ºèƒ½ä½“ç¤¾åŒºçš„å‡ºåœˆäº‹ä»¶</strong></p>
<p>è¡ç”Ÿå‡ºçš„ AI æ™ºèƒ½ä½“ç¤¾äº¤å¹³å° Moltbook é‡Œï¼ŒAI ä»¬è‡ªå‘æˆç«‹äº† â€œæ•°å­—å®—æ•™â€ã€æ’°å†™ç»æ–‡ï¼Œè®©è¿™ä¸ªé¡¹ç›®åœ¨ç§‘æŠ€åœˆå’Œç¤¾äº¤åª’ä½“å½»åº•çˆ†ç«ã€‚</p>
</li>
</ul>
<p>å‚è€ƒé¡¹ç›®githubåœ°å€ï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenclaw%2Fopenclaw" target="_blank" title="https://github.com/openclaw/openclaw" ref="nofollow noopener noreferrer">github.com/openclaw/opâ€¦</a></p>
<p>æœ¬æ–‡ä»å®‰è£…openclawï¼Œåˆ°å®‰è£…é£ä¹¦æ’ä»¶ï¼Œå†é€šè¿‡é£ä¹¦æ§åˆ¶openclawå®Œæˆç®€å•çš„ä»»åŠ¡ï¼Œå¸¦é¢†å¤§å®¶å®Œæ•´ç®€å•ä½“éªŒä¸€ä¸‹openclawåŠŸèƒ½ã€‚</p>
<p>è¯ä¸å¤šè¯´ï¼Œå¼€å§‹openclawä½“éªŒä¹‹æ—…ã€‚</p>
<h3 data-id="heading-2">å®‰è£…openclaw</h3>
<p>ç¯å¢ƒè¦æ±‚ï¼šnodeç‰ˆæœ¬ &gt;= 22</p>
<p>ç™»å½•äº‘æœåŠ¡å™¨åï¼Œè¾“å…¥</p>
<pre><code class="hljs language-sql" lang="sql">npmÂ installÂ <span class="hljs-operator">-</span>gÂ openclaw<span class="hljs-variable">@latest</span>

openclawÂ onboardÂ <span class="hljs-comment">--install-daemon</span>
</code></pre>
<p>å¦‚æœåœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ç¢°åˆ°é—®é¢˜ï¼Œè¯·ç›´æ¥ä½¿ç”¨AIè‡ªè¡Œè§£å†³ï¼ŒåŸºæœ¬éƒ½æ˜¯ä¾èµ–ä¸å­˜åœ¨æˆ–è€…nodeç‰ˆæœ¬ä½çš„é—®é¢˜</p>
<p>å®‰è£…å®Œæˆåï¼Œè¾“å…¥<code>openclaw --version</code>ï¼Œå³å¯æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼Œå°±è¯´æ˜å®‰è£…æˆåŠŸ</p>
<pre><code class="hljs language-css" lang="css">openclawÂ <span class="hljs-attr">--version</span>
<span class="hljs-number">2026.1</span>.<span class="hljs-number">29</span>
</code></pre>
<h3 data-id="heading-3">å¯åŠ¨openclaw</h3>
<pre><code class="hljs language-css" lang="css">openclawÂ onboardÂ <span class="hljs-attr">--install-daemon</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d32b92233e954aeea8beaffea0904759~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=7rOIZoIfFxQ02X5DCWpVr%2BZGr3Q%3D" alt="" loading="lazy"/></p>
<p>äº†è§£é¡¹ç›®çš„é£é™©åï¼Œé€‰æ‹©å®‰è£…æ¨¡å¼quickstart</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41f611ddfe9849dbb3ffc44baf2fe8b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=XCdlwdP2MztFhalRG2hZmSA06MA%3D" alt="" loading="lazy"/></p>
<p>ä¹‹åé€‰æ‹©æ¨¡å‹æä¾›å•†å’Œé»˜è®¤æ¨¡å‹ï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯openrouter é»˜è®¤æ¨¡å‹é€‰æ‹©claude-haiku-4.5ï¼Œä¾¿å®œå†™å…ˆä½“éªŒä¸‹ ä¹‹åé€‰æ‹©å¯¹è¯å·¥å…·</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6399462a3415466eb3716d26e716fe88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=ULZh72HCCsbEglhKc1ajOQVLsIg%3D" alt="" loading="lazy"/></p>
<p>å…ˆä¸è£…ï¼Œç”¨çš„æ—¶å€™å†è¯´ï¼Œè·³è¿‡ ä¹‹åéœ€è¦å®‰è£…skillsï¼Œä¹Ÿå…ˆè·³è¿‡ï¼Œç”¨çš„æ—¶å€™å†è£…</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a94a7ec976d4045bbbaa53ba23ed763~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=zfFApZSWt%2FPV64Y40ZDm0cFL4D8%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥è¦å®‰è£…googleï¼Œgeminiç­‰api keyï¼Œå¯ä»¥è·³è¿‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5848a543e7ac488d9eae2d75fc690e1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=8sKC7HVwyAfMIJHS0Ee0UgSFc%2Bg%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å¯åŠ¨hooksï¼Œå¯ä»¥å…ˆéƒ½å‹¾é€‰ä¸Š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c37d9d9d3ba243f09a6ddd295b4bc5e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=1JZyPR%2FeTC3kpJeT5AY8xkLdqsY%3D" alt="" loading="lazy"/></p>
<p>ä¹‹åï¼Œä¼šç»™å‡ºä¸€äº›æç¤ºä¿¡æ¯ï¼Œè¿™é‡Œæœ€å¥½å…ˆä¿å­˜ä¸€ä¸‹ï¼Œå› ä¸ºåè¾¹ä¼šç”¨åˆ° è¿™é‡Œé‡è¦çš„æœ‰3æ¡</p>
<ol>
<li>web uiåœ°å€</li>
<li>web ui(with token)åœ°å€</li>
<li>å¦‚æœå¿˜è®°tokenï¼Œå¯ä»¥ä½¿ç”¨openclaw dashboard --no-openè·å–</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c39f83e4cae41939ebceba94256c1af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=2zibzcjzFy%2FnbCuepAQmKdKzAnE%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆï¼ŒæœåŠ¡å¯åŠ¨æˆåŠŸï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f485d797b09e4578baf35852f055708f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=xno3UjKsAZ3JEC89m9V4%2F5QZ3nA%3D" alt="" loading="lazy"/></p>
<p>æ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œè¾“å…¥ä¸Šä¸€æ­¥è¿”å›çš„web ui(with token)åœ°å€å³å¯åœ¨æµè§ˆå™¨è®¿é—®openclaw</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb53115bace64234861908b0b95802c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=IROQQKT9CZlr6lxxu4zJ0z1z3%2BA%3D" alt="" loading="lazy"/></p>
<p>well doneï¼æ¥ä¸‹æ¥å°±å¼€å§‹ä½“éªŒopenclawåŠŸèƒ½</p>
<h2 data-id="heading-4">è·Ÿé£ä¹¦æ‰“é€š</h2>
<h3 data-id="heading-5">å®‰è£…é£ä¹¦æ’ä»¶</h3>
<p>æ’ä»¶åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fm1heng%2FClawdbot-feishu" target="_blank" title="https://github.com/m1heng/Clawdbot-feishu" ref="nofollow noopener noreferrer">github.com/m1heng/Clawâ€¦</a></p>
<p>å…·ä½“å®‰è£…æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒæ’ä»¶å®‰è£…æ­¥éª¤ï¼Œä¸‹è¾¹å¸¦å¤§å®¶ä¸€æ­¥ä¸€æ­¥å®‰è£…ä¸€ä¸‹</p>
<h4 data-id="heading-6">å®‰è£…æ’ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash">openclawÂ pluginsÂ installÂ @m1heng-clawd/feishu
</code></pre>
<h4 data-id="heading-7">åˆ›å»ºåº”ç”¨</h4>
<p>è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2F" target="_blank" title="https://open.feishu.cn/" ref="nofollow noopener noreferrer">é£ä¹¦å¼€å‘è€…åå°</a>ï¼Œåˆ›å»ºåº”ç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b812fa2deba4ee2a6423f654bdc27d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=JQ38qx1JgwAGRyczcLB%2Ba%2FqhtpA%3D" alt="" loading="lazy"/></p>
<p>è·å–åº”ç”¨app idå’Œapp secret</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ae8a7f9a6d54fed9884a9ded9cb5ef9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=HK17oLjFcc%2BP3iMyCsFf62%2BdmWk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">è®¾ç½®æƒé™</h4>
<p>éœ€è¦å¼€é€šå¦‚ä¸‹å‡ é¡¹æƒé™</p>
<ol>
<li>contact:user.base:readonly è·å–åŸºæœ¬ç”¨æˆ·ä¿¡æ¯</li>
<li>im:message å‘é€å’Œæ¥æ”¶æ¶ˆæ¯</li>
<li>im:message.p2p_msg:readonly é˜…è¯»æœºå™¨äººå‘é€çš„ä¿¡æ¯ï¼ˆé»˜è®¤å¼€å¯ï¼Œä¸éœ€è¦å¼€é€šï¼‰</li>
<li>im:message.group_at_msg:readonly åœ¨ç¾¤ç»„ä¸­æ¥æ”¶ @æåŠ æ¶ˆæ¯ï¼ˆé»˜è®¤å¼€å¯ï¼Œä¸éœ€è¦å¼€é€šï¼‰</li>
<li>im:message:send_as_bot ä»¥æœºå™¨äººèº«ä»½å‘é€æ¶ˆæ¯</li>
<li>im:resource ä¸Šä¼ å’Œä¸‹è½½å›¾ç‰‡/æ–‡ä»¶</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c51e551149454f4384c201c7f6fe09d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=B2LB5y7u2pTlprMyffQpEQOS3Vo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-9">é…ç½®äº‹ä»¶è®¢é˜…</h4>
<p>åœ¨ã€äº‹ä»¶ä¸å›è°ƒã€‘é¡µé¢é…ç½®äº‹ä»¶è®¢é˜…æ–¹å¼ï¼Œé€‰æ‹©é•¿è¿æ¥æ¥æ”¶æ–¹å¼ æ­¤æ—¶ä¼šæŠ¥é”™ï¼Œåº”ç”¨æœªå»ºç«‹é•¿è¿æ¥</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9150c8f00b6943bba495d3c0f7072618~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=F994RSKdqZLjslWza%2F1EVY9qHAA%3D" alt="" loading="lazy"/></p>
<p>æŠ¥é”™çš„åŸå› ï¼šåœ¨é£ä¹¦å¼€å‘è€…åå°é€‰æ‹©äº† â€œä½¿ç”¨é•¿è¿æ¥æ¥æ”¶äº‹ä»¶â€ï¼Œä½†<strong>æœ¬åœ° / æœåŠ¡å™¨ç«¯æ²¡æœ‰é€šè¿‡é£ä¹¦ SDK å¯åŠ¨é•¿è¿æ¥å®¢æˆ·ç«¯</strong>ï¼Œå¯¼è‡´é£ä¹¦å¹³å°æ£€æµ‹ä¸åˆ°æœ‰æ•ˆè¿æ¥ã€‚</p>
<p>æ‰€ä»¥éœ€è¦åœ¨æœ¬åœ°ç”¨sdkå»ºç«‹ä¸€ä¸ªé•¿è¿æ¥</p>
<pre><code class="hljs language-ini" lang="ini">fromÂ lark_oapi.api.im.v1Â importÂ *
fromÂ lark_oapi.wsÂ importÂ ClientÂ asÂ WsClient

<span class="hljs-comment">#Â 1.Â åˆ›å»ºé•¿è¿æ¥å®¢æˆ·ç«¯ï¼ˆç›´æ¥ä¼ å…¥Â app_idÂ å’ŒÂ app_secretï¼‰</span>
<span class="hljs-attr">ws_client</span>Â =Â WsClient(
Â Â Â Â <span class="hljs-attr">app_id</span>=<span class="hljs-string">"cli_xxxxx"</span>,
Â Â Â Â <span class="hljs-attr">app_secret</span>=<span class="hljs-string">"xxxxxx"</span>,
)

<span class="hljs-comment">#Â 2.Â å¯åŠ¨é•¿è¿æ¥</span>
ws_client.start()
</code></pre>
<p>å¯åŠ¨åï¼Œå³å¯åœ¨é¡µé¢é…ç½®é•¿è¿æ¥æ¥æ”¶äº‹ä»¶ï¼Œä¿å­˜</p>
<p>æ·»åŠ æ´»åŠ¨è®¢é˜…</p>
<ul>
<li>im.message.receive_v1 æ¥æ”¶æ¶ˆæ¯ï¼ˆå¿…å¡«ï¼‰</li>
<li>im.message.message_read_v1 æ¶ˆæ¯å·²è¯»å›æ‰§</li>
<li>im.chat.member.bot.added_v1 æœºå™¨äººå·²æ·»åŠ åˆ°ç¾¤ç»„</li>
<li>im.chat.member.bot.deleted_v1 æœºå™¨äººå·²ä»ç¾¤ç»„ä¸­ç§»é™¤</li>
</ul>
<h4 data-id="heading-10">ç»™openclawè®¾ç½®app idå’Œapp secret</h4>
<pre><code class="hljs language-arduino" lang="arduino">openclawÂ configÂ setÂ channels.feishu.appIdÂ <span class="hljs-string">"cli_xxxxx"</span>
openclawÂ configÂ setÂ channels.feishu.appSecretÂ <span class="hljs-string">"your_app_secret"</span>
openclawÂ configÂ setÂ channels.feishu.enabledÂ <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-11">é‡å¯openclaw</h4>
<p>åœæ­¢ä¹‹å‰openclawçš„æœåŠ¡ï¼Œé‡æ–°å¯åŠ¨</p>
<p><code>openclaw onboard --install-daemon</code></p>
<p>å¯ä»¥çœ‹åˆ°é£ä¹¦æ’ä»¶å·²å®‰è£…æˆåŠŸ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1fab079db254a3aa7b76115dd96689d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=TD30e%2FUXZeCv26WOmbAQoeCrN6Q%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">ç»™é£ä¹¦å‘ä¿¡æ¯</h3>
<p>åœ¨web uié‡Œï¼Œç»™é£ä¹¦å‘é€æ¡æ¶ˆæ¯è¯•ä¸€ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/888ee0089c6b4d31aacd7e22e8e2e225~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=jKhnrbwrm8ebjQStYaH4whhHN0w%3D" alt="image-33" loading="lazy"/></p>
<p>image-33</p>
<p>å®ƒæç¤ºéœ€è¦ç”¨æˆ·idå’Œæ¶ˆæ¯å†…å®¹</p>
<h4 data-id="heading-13">è·å–ç”¨æˆ·id</h4>
<p>åœ¨é£ä¹¦å¼€æ”¾å¹³å°ï¼Œæ‰¾åˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fdocument%2Fserver-docs%2Fim-v1%2Fmessage%2Fcreate" target="_blank" title="https://open.feishu.cn/document/server-docs/im-v1/message/create" ref="nofollow noopener noreferrer">æœåŠ¡ç«¯API</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30fba1b45fcb46138528f7c29e80a458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=%2BtCQFcwUVLhhQ0Ly0y0GwFQ508U%3D" alt="" loading="lazy"/></p>
<p>å³ä¾§è°ƒè¯•å°ï¼Œé€‰æ‹©tenant_access_tokenï¼Œç‚¹å‡»è·å–token</p>
<p>receive_id_typeé€‰æ‹©open_id-&gt;å¿«é€Ÿå¤åˆ¶ open_idï¼Œå³å¯è·å–åˆ°open_id</p>
<h4 data-id="heading-14">ç»™é£ä¹¦å‘æ¶ˆæ¯</h4>
<p>è¾“å…¥å¦‚ä¸‹å†…å®¹</p>
<pre><code class="hljs">ç»™ç”¨æˆ·Â ou_xxxxxxå‘é€æ¶ˆæ¯Â 
æ¶ˆæ¯å†…å®¹ä¸ºï¼šhelloÂ world,è¿™æ˜¯openclawå‘é€çš„ç¬¬ä¸€æ¡æ¶ˆæ¯
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/444dc0d98a2c4652b86a668a988cb7f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=RagkwJuqlEdGgbDg53ZtjExdoi8%3D" alt="" loading="lazy"/></p>
<p>é£ä¹¦å³å¯æ”¶åˆ°åº”ç”¨å‘æ¥çš„ç¬¬ä¸€æ¡openclawæ¶ˆæ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/376206ee8db14bf097471021cf40a19f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=7ThYOKEWmkASSgFLXrZy92mfHHg%3D" alt="" loading="lazy"/></p>
<p>æ¥çœ‹çœ‹openclawæ˜¯æ€ä¹ˆå¤„ç†çš„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1878e2713dff4905956021ce97efb06a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=G8BZrSzPpiMo4lM5iYkiYmVKlXk%3D" alt="" loading="lazy"/></p>
<p>æ”¶åˆ°æ¶ˆæ¯å¤„ç†åå‘é€ç»™é£ä¹¦ï¼Œæœ€åè¿˜è·Ÿäººä¸€æ ·ï¼Œç­‰ç€çœ‹ä»–ä»¬æ€ä¹ˆå›å¤ï¼ŒçœŸçš„åƒä¸€ä¸ªå‘˜å·¥ä¸€æ ·ï¼Œå®Œæˆä»»åŠ¡ï¼Œåœ¨ç­‰å¾…ä½ çš„å›å¤ï¼Œè¿˜æœ‰ç‚¹ä¸å¼€å¿ƒå‘¢ï¼Œæœ‰æ„æ€ã€‚ğŸ˜„</p>
<p>è¿™æ ·å°±å®ç°äº†openclawä¸é£ä¹¦çš„æ‰“é€šï¼Œç„¶åå°±å¯ä»¥ç”¨é£ä¹¦æ§åˆ¶openclawå¤„ç†ä»»åŠ¡äº†ğŸ˜„</p>
<h2 data-id="heading-15">ç”¨é£ä¹¦ç»™openclawå‘ä¿¡æ¯å®Œæˆä»»åŠ¡</h2>
<p>åœ¨é£ä¹¦é‡Œè·Ÿopenclawæœºå™¨äººå¯¹è¯ï¼Œè®©ä»–å¸®æˆ‘ä»¬å¤„ç†ä»»åŠ¡</p>
<h3 data-id="heading-16">è®©ä»–çœ‹ç½‘é¡µ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d2448ce80cb44b9a9570bb12059b5b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=AYLmcSeUb6eDDTdzrl4P1IpDnwE%3D" alt="" loading="lazy"/></p>
<p>æœ€å‰å®³çš„æ˜¯ä»–åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­ï¼Œè¿˜åœ¨é£ä¹¦æ¶ˆæ¯ä¸Šå›å¤äº†ä¸€ä¸ªå¤„ç†ä¸­çš„å°è¡¨æƒ…ï¼Œæœ‰ç‚¹å¯çˆ±å‘¢ğŸ˜Š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6707e25033c4200b91e08adc51c2fd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=E0SSz7iLKsUvCmqgwDDQMRfqjD4%3D" alt="" loading="lazy"/></p>
<p>ä¸å‡ºæ‰€æ–™ï¼Œç¡®å®èƒ½å¤„ç†æˆ‘ä»¬çš„éœ€æ±‚ æ¥çœ‹çœ‹ä»–æ˜¯æ€ä¹ˆå¤„ç†çš„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f73f54acc5e47128cffcb7e2717395a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=82TBlIzc05K8fv0fPs8cjqfmMpY%3D" alt="" loading="lazy"/></p>
<ol>
<li>ç›‘å¬å¹¶å¤„ç†é£ä¹¦æ¶ˆæ¯</li>
<li>åˆ†ææ¶ˆæ¯ï¼Œè°ƒç”¨web_fetchå·¥å…·è¯»å–ç½‘é¡µå†…å®¹</li>
<li>æŒ‰ç…§è¦æ±‚æ€»ç»“æ¦‚æ‹¬</li>
<li>å‘é€å¤„ç†åç»“æœåˆ°é£ä¹¦</li>
</ol>
<h3 data-id="heading-17">è®©ä»–åˆ›å»ºæé†’</h3>
<p>å†è¯•è¯•çœ‹èƒ½ä¸èƒ½è®©ä»–è®¾ç½®ä¸€ä¸ªæé†’ï¼Œç›®æ ‡æ˜¯åœ¨é£ä¹¦æ—¥å†ä¸­è®¾ç½®ä¸€ä¸ªæ—¥ç¨‹</p>
<p>åœ¨openclaw uiä¸­å‘é€æ¶ˆæ¯<code>ç»™ou_xxxxxåˆ›å»ºä¸€ä¸ªæ—¥ç¨‹ï¼Œæé†’ä»–æ˜å¤©ä¸­åˆ12ç‚¹åƒåˆé¥­</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e750d437c394e528187dbe28a3652fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=mQ1p95HtLQ15n6Q3sE0qz9Ep44g%3D" alt="" loading="lazy"/></p>
<p>æœ€ç»ˆåœ¨é£ä¹¦å¯¹è¯ä¸­ä¼šæ”¶åˆ°ä¸€ä¸ªæ¶ˆæ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ae74087bb4248838e8df230567e84ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=eAg%2B5oAWxfV%2B%2FiAG5PAAVC8Aqk4%3D" alt="" loading="lazy"/></p>
<p>çœ‹æ•´ä½“å¤„ç†é€»è¾‘ï¼Œæ˜¯openclawåˆ›å»ºäº†ä¸€ä¸ªcronå®šæ—¶ä»»åŠ¡ï¼Œä¼šåœ¨æ˜å¤©12ç‚¹å‘é€ä¸€ä¸ªé£ä¹¦æ¶ˆæ¯ï¼Œæé†’æˆ‘åƒé¥­ ä¸æ˜¯é€šè¿‡åœ¨é£ä¹¦ä¸­åˆ›å»ºæ—¥ç¨‹çš„æ–¹å¼ æ¨æµ‹åº”è¯¥æ˜¯æ²¡æœ‰å¼€é€šé£ä¹¦åˆ›å»ºæ—¥ç¨‹çš„æƒé™ï¼Œæ‰€ä»¥å®ƒé‡‡ç”¨äº†æœ¬åœ°åˆ›å»ºå®šæ—¶ä»»åŠ¡çš„æ–¹å¼ï¼Œç¬¬äºŒå¤©12ç‚¹å‘é€é£ä¹¦æ¶ˆæ¯æé†’åƒé¥­ï¼Œä¹Ÿæ˜¯å®Œæˆäº†è¾“å…¥çš„è¦æ±‚ã€‚</p>
<h2 data-id="heading-18">æ€»ç»“</h2>
<p>æœ¬æ–‡ä¸»è¦å®Œæˆäº†3ä¸ªå°ä»»åŠ¡</p>
<ol>
<li>åœ¨äº‘æœåŠ¡å™¨å®‰è£…openclaw</li>
<li>é…ç½®openclawé£ä¹¦æ’ä»¶ï¼Œä¸é£ä¹¦æ‰“é€š</li>
<li>åœ¨é£ä¹¦å‘é€æ¶ˆæ¯ï¼Œæ§åˆ¶openclawå®Œæˆä»»åŠ¡</li>
</ol>
<p>ä½œä¸ºåˆä½“éªŒï¼Œæœ¬æ–‡è¯•ç”¨äº†openclawéå¸¸ç®€å•çš„åŠŸèƒ½ï¼Œåªæ˜¯å†°å±±ä¸€è§’ï¼Œåç»­å¯ä»¥ç»§ç»­æ¢ç´¢æ¢ç´¢openclawæœ‰æ²¡æœ‰å…¶ä»–æœ‰æ„æ€å’Œå®ç”¨çš„ç©æ³•ã€‚</p>
<h2 data-id="heading-19">å†™åœ¨æœ€å</h2>
<p>çœ‹ä¸€ä¸‹æœ¬æ–‡ä½¿ç”¨claude Haiku 4.5æ¨¡å‹å®Œæˆè¯•éªŒæ€»å…±æ¥å£è°ƒç”¨çš„å¼€é”€ã€‚ $0.327ç¾å…ƒï¼Œè¿˜æ˜¯ä¸é”™çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/720706cad25c45e0aff175a7d4fb8e00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-35Lq655qE5bCR5L6g:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626494&amp;x-signature=nI3RNCfEbPRqfcaGa4Ep4U2Pp2o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-20">é™„å½•</h2>
<ul>
<li>openclaw githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenclaw%2Fopenclaw" target="_blank" title="https://github.com/openclaw/openclaw" ref="nofollow noopener noreferrer">github.com/openclaw/opâ€¦</a></li>
<li>é£ä¹¦æ’ä»¶githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fm1heng%2FClawdbot-feishu" target="_blank" title="https://github.com/m1heng/Clawdbot-feishu" ref="nofollow noopener noreferrer">github.com/m1heng/Clawâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VMware+Ubuntuå®æˆ˜ï¼šè™šæ‹Ÿç£ç›˜ä¿®å¤ä¸LVMåˆ†åŒºæ‰©å®¹å®Œæ•´è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7602057555452788790</link>    <guid>https://juejin.cn/post/7602057555452788790</guid>    <pubDate>2026-02-02T09:24:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602057555452788790" data-draft-id="7602057555452756022" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VMware+Ubuntuå®æˆ˜ï¼šè™šæ‹Ÿç£ç›˜ä¿®å¤ä¸LVMåˆ†åŒºæ‰©å®¹å®Œæ•´è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-02-02T09:24:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeoSpud"/> <meta itemprop="url" content="https://juejin.cn/user/3643116396493131"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VMware+Ubuntuå®æˆ˜ï¼šè™šæ‹Ÿç£ç›˜ä¿®å¤ä¸LVMåˆ†åŒºæ‰©å®¹å®Œæ•´è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3643116396493131/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeoSpud
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:24:50.000Z" title="Mon Feb 02 2026 09:24:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">VMware+Ubuntuå®æˆ˜ï¼šè™šæ‹Ÿç£ç›˜ä¿®å¤ä¸LVMåˆ†åŒºæ‰©å®¹å®Œæ•´è§£å†³æ–¹æ¡ˆ</h2>
<h4 data-id="heading-1">å‰è¨€</h4>
<p>åœ¨ä½¿ç”¨ VMware è¿è¡Œ Ubuntu è™šæ‹Ÿæœºæ—¶ï¼Œå¸¸ä¼šé‡åˆ°ä¸¤ä¸ªæ ¸å¿ƒé—®é¢˜ï¼šä¸€æ˜¯è™šæ‹Ÿç£ç›˜å› å¼ºåˆ¶å…³æœºã€å®¿ä¸»æœºå´©æºƒå¯¼è‡´æŸåï¼Œæç¤ºã€Œéœ€è¦ä¿®å¤ã€ï¼›äºŒæ˜¯åˆå§‹ç£ç›˜ç©ºé—´ä¸è¶³ï¼Œé€šè¿‡ VMware æ‰©å®¹åï¼ŒUbuntu ç³»ç»Ÿæ— æ³•è¯†åˆ«æ–°å¢ç©ºé—´ã€‚æœ¬æ–‡ç»“åˆçœŸå®æ“ä½œåœºæ™¯ï¼Œä»ã€Œç£ç›˜ä¿®å¤â†’VMware æ‰©å®¹â†’Ubuntu LVM åˆ†åŒºæ‰©å®¹ã€å…¨ç¨‹æ‹†è§£ï¼Œæä¾›å¯ç›´æ¥å¤åˆ¶çš„å‘½ä»¤å’Œé¿å‘æŒ‡å—ï¼Œæ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¸€ã€åœºæ™¯è¯´æ˜</h3>
<ul>
<li><strong>ç¯å¢ƒ</strong>ï¼šWindows å®¿ä¸»æœº + VMware Workstation/Player + Ubuntu 20.04/22.04ï¼ˆLVM åˆ†åŒºæ ¼å¼ï¼‰</li>
<li><strong>æ ¸å¿ƒé—®é¢˜</strong>ï¼š</li>
</ul>
<ol start="0">
<li>VMware æç¤ºã€ŒæŒ‡å®šçš„è™šæ‹Ÿç£ç›˜éœ€è¦è¿›è¡Œä¿®å¤ã€ï¼›</li>
<li>è™šæ‹Ÿç£ç›˜ä» 10G æ‰©å®¹åˆ° 35G åï¼ŒUbuntu ä»…è¯†åˆ« 9.8Gï¼Œå‰©ä½™ç©ºé—´æœªåˆ©ç”¨ï¼›</li>
<li>ç£ç›˜åˆ†åŒºè¡¨æ˜¾ç¤º<code>GPT PMBR size mismatch</code>ï¼ˆGPT/MBR æ ‡è¯†ä¸åŒ¹é…ï¼‰ã€‚</li>
</ol>
<ul>
<li><strong>æœ€ç»ˆç›®æ ‡</strong>ï¼šä¿®å¤è™šæ‹Ÿç£ç›˜ + è®© Ubuntu å®Œå…¨è¯†åˆ« 35G ç©ºé—´ï¼Œæ ¹ç›®å½•å¯ç”¨ç©ºé—´â‰¥20Gã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">äºŒã€ç¬¬ä¸€æ­¥ï¼šä¿®å¤ VMware è™šæ‹Ÿç£ç›˜ï¼ˆWindows å®¿ä¸»æœºæ“ä½œï¼‰</h3>
<p>è™šæ‹Ÿç£ç›˜æŸåå¤šå› å¼ºåˆ¶å…³æœºã€æ–‡ä»¶å ç”¨å†²çªå¯¼è‡´ï¼Œä¼˜å…ˆç”¨ VMware è‡ªå¸¦å·¥å…·ä¿®å¤ï¼Œæ— éœ€å¤æ‚å‘½ä»¤ã€‚</p>
<h4 data-id="heading-4">å‰æå‡†å¤‡</h4>
<ol start="0">
<li>å…³é—­æ•…éšœè™šæ‹Ÿæœºï¼Œ<strong>å®Œå…¨é€€å‡º VMware</strong>ï¼ˆå³é”®ä»»åŠ¡æ  VMware å›¾æ ‡â†’é€€å‡ºï¼Œé¿å…è¿›ç¨‹å ç”¨ï¼‰ï¼›</li>
<li>å¤‡ä»½è™šæ‹Ÿæœºæ ¸å¿ƒæ–‡ä»¶ï¼šæ‰¾åˆ°è™šæ‹Ÿæœºå®‰è£…ç›®å½•ï¼Œå¤åˆ¶<code>.vmdk</code>ï¼ˆç£ç›˜æ–‡ä»¶ï¼‰ã€<code>.vmx</code>ï¼ˆé…ç½®æ–‡ä»¶ï¼‰åˆ°å…¶ä»–ç£ç›˜ï¼Œé˜²æ­¢ä¿®å¤å¤±è´¥ï¼›</li>
<li>ç¡®ä¿å®¿ä¸»æœºå‰©ä½™ç©ºé—´â‰¥è™šæ‹Ÿç£ç›˜å®é™…å ç”¨å¤§å°çš„ 10%ï¼ˆå¦‚è™šæ‹Ÿç›˜ç”¨ 7.5Gï¼Œç•™ 1G ä»¥ä¸Šï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-5">æ–¹æ³• 1ï¼šVMware å›¾å½¢åŒ–ä¿®å¤ï¼ˆæ¨èï¼‰</h4>
<ol start="0">
<li>å¯åŠ¨ VMwareï¼Œé€‰ä¸­æ•…éšœè™šæ‹Ÿæœºï¼ˆ<strong>ä¸è¦å¼€æœº</strong>ï¼‰ï¼›</li>
<li>ç‚¹å‡»é¡¶éƒ¨ã€Œç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®ã€â†’ å·¦ä¾§ã€Œç¡¬ç›˜ã€â†’ å³ä¾§ã€Œå®ç”¨å·¥å…·ã€ï¼ˆä½ç‰ˆæœ¬åœ¨ã€Œé«˜çº§ã€ä¸­ï¼‰ï¼›</li>
<li>å…ˆç‚¹å‡»ã€Œæ£€æŸ¥ã€ï¼šVMware è‡ªåŠ¨æ‰«æç£ç›˜é”™è¯¯ï¼Œç­‰å¾…è¿›åº¦æ¡å®Œæˆï¼›</li>
<li>æ‰«æå‡ºé”™è¯¯åï¼Œç‚¹å‡»ã€Œä¿®å¤ã€ï¼Œå®Œæˆåå…³é—­è®¾ç½®ï¼Œå°è¯•å¯åŠ¨è™šæ‹Ÿæœºã€‚</li>
</ol>
<blockquote>
<p>ğŸ”§ é¿å‘ï¼šè‹¥ã€Œä¿®å¤ã€æŒ‰é’®ç°è‰²ï¼Œé‡å¯å®¿ä¸»æœºåå†è¯•ï¼ˆå½»åº•é‡Šæ”¾æ–‡ä»¶å ç”¨ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-6">æ–¹æ³• 2ï¼šå‘½ä»¤è¡Œä¿®å¤ï¼ˆå›¾å½¢åŒ–å¤±æ•ˆæ—¶ï¼‰</h4>
<p>è‹¥å›¾å½¢åŒ–å·¥å…·ä¿®å¤å¤±è´¥ï¼Œç”¨ VMware è‡ªå¸¦çš„<code>vmware-vdiskmanager</code>å‘½ä»¤å…œåº•ï¼š</p>
<ol start="0">
<li>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ CMDï¼Œåˆ‡æ¢åˆ° VMware å®‰è£…ç›®å½•ï¼ˆé»˜è®¤è·¯å¾„ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># VMware Workstation</span>
â€‹
<span class="hljs-built_in">cd</span> C:\Program Files (x86)\VMware\VMware Workstation
â€‹
<span class="hljs-comment"># VMware Player</span>
â€‹
<span class="hljs-built_in">cd</span> C:\Program Files\VMware\VMware Player
</code></pre>
<ol start="0">
<li>æ‰§è¡Œä¿®å¤å‘½ä»¤ï¼ˆæ›¿æ¢ä¸ºä½ çš„<code>.vmdk</code>è·¯å¾„ï¼Œå¸¦ç©ºæ ¼éœ€ç”¨åŒå¼•å·ï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino">vmware-vdiskmanager -r <span class="hljs-string">"D:\VM\Ubuntu\Ubuntu.vmdk"</span> -t <span class="hljs-number">0</span> <span class="hljs-string">"D:\VM\Ubuntu\Ubuntu_fix.vmdk"</span>
</code></pre>
<ol start="0">
<li>ä¿®å¤å®Œæˆåï¼Œæ‰“å¼€ VMwareâ†’ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®â†’ç§»é™¤åŸæŸåç¡¬ç›˜â†’ã€Œæ·»åŠ ã€â†’ã€Œä½¿ç”¨ç°æœ‰è™šæ‹Ÿç£ç›˜ã€â†’é€‰ä¸­<code>_fix.vmdk</code>ï¼Œå¯åŠ¨è™šæ‹Ÿæœºã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€ç¬¬äºŒæ­¥ï¼šVMware æ‰©å®¹è™šæ‹Ÿç£ç›˜ï¼ˆWindows å®¿ä¸»æœºæ“ä½œï¼‰</h3>
<p>ç£ç›˜ä¿®å¤åï¼Œé€šè¿‡ VMware æ‰©å±•è™šæ‹Ÿç£ç›˜å®¹é‡ï¼ˆä»¥ 10G æ‰©åˆ° 35G ä¸ºä¾‹ï¼‰ï¼š</p>
<ol start="0">
<li>å…³é—­ Ubuntu è™šæ‹Ÿæœºï¼Œæ‰“å¼€ VMwareâ†’ç¼–è¾‘è™šæ‹Ÿæœºè®¾ç½®â†’ã€Œç¡¬ç›˜ã€â†’ã€Œæ‰©å±•ã€ï¼›</li>
<li>è¾“å…¥æ‰©å®¹åçš„æ€»å¤§å°ï¼ˆå¦‚ 35Gï¼‰ï¼Œç‚¹å‡»ã€Œç¡®å®šã€ï¼ˆVMware ä¼šè‡ªåŠ¨æ‰©å±•<code>.vmdk</code>æ–‡ä»¶ï¼‰ï¼›</li>
<li>å¯åŠ¨ Ubuntu è™šæ‹Ÿæœºï¼Œæ­¤æ—¶ç³»ç»Ÿå°šæœªè¯†åˆ«æ–°å¢ç©ºé—´ï¼Œéœ€åç»­åˆ†åŒºæ‰©å®¹ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-8">å››ã€ç¬¬ä¸‰æ­¥ï¼šUbuntu LVM åˆ†åŒºæ‰©å®¹ï¼ˆè™šæ‹Ÿæœºå†…æ“ä½œï¼‰</h3>
<p>Ubuntu é»˜è®¤é‡‡ç”¨ LVM åˆ†åŒºæ ¼å¼ï¼ŒVMware æ‰©å®¹åéœ€æ‰‹åŠ¨å°†æ–°å¢ç©ºé—´åˆ†é…ç»™æ ¹ç›®å½•ï¼Œæ ¸å¿ƒæ˜¯ã€Œåˆ›å»º LVM åˆ†åŒºâ†’åŠ å…¥å·ç»„â†’æ‰©å®¹é€»è¾‘å·ã€ã€‚</p>
<h4 data-id="heading-9">1. æŸ¥çœ‹ç£ç›˜çŠ¶æ€ï¼ˆç¡®è®¤é—®é¢˜ï¼‰</h4>
<p>å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œäº†è§£å½“å‰ç£ç›˜ä½¿ç”¨å’Œåˆ†åŒºæƒ…å†µï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç£ç›˜æŒ‚è½½å’Œä½¿ç”¨æƒ…å†µ</span>
â€‹
<span class="hljs-built_in">df</span> -h
â€‹
<span class="hljs-comment"># æŸ¥çœ‹ç£ç›˜åˆ†åŒºè¯¦æƒ…ï¼ˆç¡®è®¤æ‰©å®¹åçš„æ€»å¤§å°å’Œæœªåˆ†é…ç©ºé—´ï¼‰</span>
â€‹
sudo fdisk -l /dev/sda
â€‹
<span class="hljs-comment"># æŸ¥çœ‹ç£ç›˜åˆ†åŒºç»“æ„ï¼ˆç¡®è®¤LVMå…³è”å…³ç³»ï¼‰</span>
â€‹
lsblk /dev/sda
</code></pre>
<h5 data-id="heading-10">å…³é”®è¾“å‡ºè§£è¯»ï¼š</h5>
<ul>
<li><code>df -h</code>ï¼šæ ¹ç›®å½•<code>/</code>ä»… 9.8Gï¼Œä½¿ç”¨ç‡ 81%ï¼ˆç©ºé—´ä¸è¶³ï¼‰ï¼›</li>
<li><code>fdisk -l /dev/sda</code>ï¼šç£ç›˜æ€»å¤§å° 35Gï¼Œä½†æœ€åä¸€ä¸ªåˆ†åŒº<code>sda3</code>ä»… 18.2Gï¼Œå‰©ä½™ 16.8G æœªåˆ†é…ï¼Œä¸”æç¤º<code>GPT PMBR size mismatch</code>ï¼ˆæ— éœ€å•ç‹¬ä¿®å¤ï¼Œåç»­ä¼šè‡ªåŠ¨åŒæ­¥ï¼‰ï¼›</li>
<li><code>lsblk /dev/sda</code>ï¼š<code>sda3</code>å…³è” LVM é€»è¾‘å·<code>ubuntu--vg-ubuntu--lv</code>ï¼ˆæ ¹ç›®å½•æŒ‚è½½ç‚¹ï¼‰ï¼Œæ–°å¢ç©ºé—´æœªè¢«åˆ©ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-11">2. åˆ›å»ºæ–° LVM åˆ†åŒºï¼ˆå ç”¨æœªåˆ†é…ç©ºé—´ï¼‰</h4>
<p>ä½¿ç”¨<code>parted</code>å·¥å…·åˆ›å»º LVM æ ¼å¼åˆ†åŒºï¼Œé€‚é… GPT åˆ†åŒºè¡¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥partedäº¤äº’å¼å·¥å…·</span>
â€‹
sudo parted /dev/sda
</code></pre>
<p>è¿›å…¥åä¾æ¬¡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼ˆæŒ‰å›è½¦æ‰§è¡Œï¼Œæ— éœ€é¢å¤–è¾“å…¥ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">mkpart primary <span class="hljs-number">41940992</span>s <span class="hljs-number">100</span>%  <span class="hljs-meta"># ä»sda3æœ«å°¾æ‰‡åŒºï¼ˆ41940991ï¼‰çš„ä¸‹ä¸€ä¸ªæ‰‡åŒºå¼€å§‹ï¼Œå æ»¡å‰©ä½™ç©ºé—´</span>
â€‹
<span class="hljs-keyword">set</span> <span class="hljs-number">4</span> lvm <span class="hljs-keyword">on</span>  <span class="hljs-meta"># æ ‡è®°æ–°åˆ†åŒºï¼ˆsda4ï¼‰ä¸ºLVMæ ¼å¼</span>
â€‹
quit  <span class="hljs-meta"># é€€å‡ºparted</span>
</code></pre>
<blockquote>
<p>âœ… è¯´æ˜ï¼š</p>
<p><code>41940992s</code></p>
<p>éœ€æ ¹æ®ä½ çš„</p>
<p><code>sda3</code></p>
<p>æœ€åæ‰‡åŒºè°ƒæ•´ï¼ˆç”¨</p>
<p><code>fdisk -l /dev/sda</code></p>
<p>æŸ¥çœ‹ï¼‰ï¼Œç¡®ä¿æ— ç¼è¡”æ¥æœªåˆ†é…ç©ºé—´ã€‚</p>
</blockquote>
<h4 data-id="heading-12">3. åˆ·æ–°åˆ†åŒºè¡¨ï¼Œè¯†åˆ«æ–°åˆ†åŒº</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ·æ–°åˆ†åŒºè¡¨ï¼Œè®©ç³»ç»Ÿè¯†åˆ«sda4</span>
â€‹
sudo partprobe /dev/sda
â€‹
<span class="hljs-comment"># éªŒè¯æ–°åˆ†åŒºæ˜¯å¦åˆ›å»ºæˆåŠŸï¼ˆèƒ½çœ‹åˆ°sda4å³æ­£å¸¸ï¼‰</span>
â€‹
lsblk /dev/sda
</code></pre>
<h4 data-id="heading-13">4. LVM æ ¸å¿ƒæ‰©å®¹å‘½ä»¤ï¼ˆç›´æ¥å¤åˆ¶æ‰§è¡Œï¼‰</h4>
<p>å°†æ–°åˆ†åŒº<code>sda4</code>åŠ å…¥ç°æœ‰ LVM å·ç»„ï¼Œæ‰©å®¹æ ¹ç›®å½•é€»è¾‘å·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å°†sda4åˆ›å»ºä¸ºLVMç‰©ç†å·</span>
â€‹
sudo pvcreate /dev/sda4
â€‹
<span class="hljs-comment"># 2. æŠŠç‰©ç†å·åŠ å…¥ç°æœ‰å·ç»„ubuntu-vgï¼ˆå·ç»„åç”¨vgså‘½ä»¤å¯æŸ¥ï¼‰</span>
â€‹
sudo vgextend ubuntu-vg /dev/sda4
â€‹
<span class="hljs-comment"># 3. å°†æ ¹ç›®å½•é€»è¾‘å·æ‰©å®¹åˆ°å·ç»„æœ€å¤§å¯ç”¨ç©ºé—´ï¼ˆå æ»¡35Gï¼‰</span>
â€‹
sudo lvextend -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv
â€‹
<span class="hljs-comment"># 4. åˆ·æ–°æ–‡ä»¶ç³»ç»Ÿï¼Œè®©ç³»ç»Ÿç«‹å³è¯†åˆ«æ‰©å®¹åçš„ç©ºé—´</span>
â€‹
sudo resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv
</code></pre>
<blockquote>
<p>ğŸ”§ é¿å‘ï¼šè‹¥æ‰§è¡Œ</p>
<p><code>resize2fs</code></p>
<p>æç¤º</p>
<p><code>bad magic number in super-block</code></p>
<p>ï¼Œè¯´æ˜æ–‡ä»¶ç³»ç»Ÿä¸º XFSï¼Œæ›¿æ¢ä¸ºï¼š</p>
<p><code>sudo xfs_growfs /dev/mapper/ubuntu--vg-ubuntu--lv</code></p>
<p>ã€‚</p>
</blockquote>
<h4 data-id="heading-14">5. éªŒè¯æ‰©å®¹ç»“æœï¼ˆå…³é”®æ­¥éª¤ï¼‰</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¡®è®¤æ‰©å®¹æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">df</span> -h
</code></pre>
<h5 data-id="heading-15">æˆåŠŸæ ‡è¯†ï¼š</h5>
<p>æ ¹ç›®å½•<code>/</code>çš„<code>Size</code>æ˜¾ç¤º 33G å·¦å³ï¼ˆ35G è™šæ‹Ÿç›˜ç³»ç»Ÿé¢„ç•™ 2Gï¼‰ï¼Œå¯ç”¨ç©ºé—´â‰¥20Gï¼Œä½¿ç”¨ç‡é™è‡³ 25% å·¦å³ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/dev/mapper/ubuntu--vg-ubuntu--lv   33G  7.5G   24G  25% /
</code></pre>
<hr/>
<h3 data-id="heading-16">äº”ã€å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-17">1. ä¿®å¤ç£ç›˜æ—¶æç¤ºã€Œæ–‡ä»¶è¢«å ç”¨ã€</h4>
<ul>
<li>è§£å†³ï¼šä»»åŠ¡ç®¡ç†å™¨ç»“æŸ<code>vmware.exe</code>ã€<code>vmware-vmx.exe</code>è¿›ç¨‹ï¼Œæˆ–é‡å¯å®¿ä¸»æœºã€‚</li>
</ul>
<h4 data-id="heading-18">2. åˆ›å»ºåˆ†åŒºæ—¶æç¤º<code>Partition(s) on /dev/sda are being used</code></h4>
<ul>
<li>è§£å†³ï¼šæ— éœ€æ‹…å¿ƒï¼Œ<code>parted</code>æ”¯æŒåœ¨çº¿åˆ†åŒºï¼Œç›´æ¥æŒ‰æ­¥éª¤æ‰§è¡Œå³å¯ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-19">3. æ‰©å®¹åæ ¹ç›®å½•å¤§å°æœªå˜åŒ–</h4>
<ul>
<li>æ’æŸ¥ï¼šæ˜¯å¦æ¼æ‰§è¡Œ<code>resize2fs</code>ï¼ˆåˆ·æ–°æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œæˆ–å·ç»„åã€é€»è¾‘å·è·¯å¾„é”™è¯¯ï¼ˆç”¨<code>vgs</code>ã€<code>lvs</code>å‘½ä»¤ç¡®è®¤ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-20">4. <code>GPT PMBR size mismatch</code>æç¤ºæœªæ¶ˆå¤±</h4>
<ul>
<li>è¯´æ˜ï¼šè¯¥æç¤ºæ˜¯ VMware æ‰©å®¹ååˆ†åŒºè¡¨æ ‡è¯†ä¸åŒæ­¥å¯¼è‡´ï¼Œæ— éœ€å•ç‹¬ä¿®å¤ï¼Œæ‰©å®¹å®Œæˆåå†æ¬¡æ‰§è¡Œ<code>sudo fdisk -l /dev/sda</code>ï¼Œæç¤ºä¼šè‡ªåŠ¨æ¶ˆå¤±ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-21">å…­ã€åç»­ç»´æŠ¤å»ºè®®</h3>
<ol start="0">
<li>å®šæœŸæ¸…ç†ç³»ç»Ÿå†—ä½™ï¼Œä¿æŒç©ºé—´å……è£•ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…ç†aptç¼“å­˜ã€æ— ç”¨è½¯ä»¶å’Œ7å¤©å‰æ—¥å¿—</span>

sudo apt autoremove --purge -y &amp;&amp; sudo apt clean -y &amp;&amp; journalctl --vacuum-time=7d -y

<span class="hljs-comment"># åˆ é™¤ä¸´æ—¶æ–‡ä»¶</span>

sudo <span class="hljs-built_in">rm</span> -rf /tmp/* /var/tmp/*
</code></pre>
<ol start="0">
<li>é¿å…å¼ºåˆ¶å…³é—­è™šæ‹Ÿæœºï¼Œä¼˜å…ˆä½¿ç”¨ Ubuntu å†…ã€Œå…³æœºã€åŠŸèƒ½ï¼Œé˜²æ­¢ç£ç›˜æŸåï¼›</li>
<li>è‹¥éœ€å†æ¬¡æ‰©å®¹ï¼Œé‡å¤ã€ŒVMware æ‰©å±•ç£ç›˜â†’åˆ›å»º LVM åˆ†åŒºâ†’LVM æ‰©å®¹ã€æµç¨‹å³å¯ï¼›</li>
<li>å¤§æ–‡ä»¶ï¼ˆé•œåƒã€å‹ç¼©åŒ…ï¼‰å»ºè®®å­˜æ”¾åœ¨<code>/home</code>ç›®å½•ï¼Œé¿å…æ ¹ç›®å½•å¿«é€Ÿå æ»¡ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-22">æ€»ç»“</h3>
<p>æœ¬æ–‡ä»å®é™…åœºæ™¯å‡ºå‘ï¼Œå®Œæ•´è¦†ç›–äº†ã€ŒVMware è™šæ‹Ÿç£ç›˜ä¿®å¤â†’ç£ç›˜æ‰©å®¹â†’Ubuntu LVM åˆ†åŒºæ‰©å®¹ã€çš„å…¨æµç¨‹ï¼Œæ ¸å¿ƒæ˜¯åˆ©ç”¨ VMware è‡ªå¸¦å·¥å…·ä¿®å¤ç£ç›˜ï¼Œé€šè¿‡ LVM åˆ†åŒºç®¡ç†å®ç°ç©ºé—´æ‰©å±•ã€‚æ‰€æœ‰å‘½ä»¤å‡ç»è¿‡å®æˆ˜éªŒè¯ï¼Œæ­¥éª¤æ¸…æ™°ã€é¿å‘æŒ‡å—åˆ°ä½ï¼Œé€‚åˆæ–°æ‰‹å’Œæœ‰åŒç±»éœ€æ±‚çš„å¼€å‘è€…å‚è€ƒã€‚å¦‚æœé‡åˆ°å…·ä½“æŠ¥é”™ï¼Œå¯æ ¹æ®æŠ¥é”™ä¿¡æ¯æ ¸å¯¹æ­¥éª¤æˆ–ç•™è¨€äº¤æµï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«è®©ä½ çš„ AI åƒä¸ªå®ä¹ ç”Ÿï¼ä» Skills åˆ° MCPï¼šæ•™ä½ å¦‚ä½•ç»™å¤§æ¨¡å‹è£…ä¸Šâ€˜å·¥ä¸šçº§â€™æœºæ¢°è‡‚]]></title>    <link>https://juejin.cn/post/7602100217656541226</link>    <guid>https://juejin.cn/post/7602100217656541226</guid>    <pubDate>2026-02-02T09:36:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602100217656541226" data-draft-id="7602059064522063915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«è®©ä½ çš„ AI åƒä¸ªå®ä¹ ç”Ÿï¼ä» Skills åˆ° MCPï¼šæ•™ä½ å¦‚ä½•ç»™å¤§æ¨¡å‹è£…ä¸Šâ€˜å·¥ä¸šçº§â€™æœºæ¢°è‡‚"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,AIGC,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-02T09:36:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Roger_zz"/> <meta itemprop="url" content="https://juejin.cn/user/1913628905977070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«è®©ä½ çš„ AI åƒä¸ªå®ä¹ ç”Ÿï¼ä» Skills åˆ° MCPï¼šæ•™ä½ å¦‚ä½•ç»™å¤§æ¨¡å‹è£…ä¸Šâ€˜å·¥ä¸šçº§â€™æœºæ¢°è‡‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1913628905977070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Roger_zz
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:36:32.000Z" title="Mon Feb 02 2026 09:36:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Skillsï¼Ÿ</h2>
<p><strong>â€”â€” ç¯å¢ƒèµ‹äºˆçš„â€œæœ¬åœ°è¶…èƒ½åŠ›â€</strong></p>
<p>Skills æ˜¯ Claudeï¼ˆä»¥åŠç°åœ¨çš„ OpenCode, Trae ç­‰ AI ç¼–ç¨‹å·¥å…·ï¼‰æå‡ºæˆ–å¹¿æ³›é‡‡ç”¨çš„ä¸€ç§æœºåˆ¶ã€‚å®ƒä¸æ˜¯æ¨¡å‹åŸæœ¬å°±æœ‰çš„ï¼Œè€Œæ˜¯<strong>ç¯å¢ƒ</strong>æä¾›ç»™æ¨¡å‹çš„ã€‚</p>
<h3 data-id="heading-1">1. æ ¸å¿ƒå®šä¹‰</h3>
<p><strong>Skills æ˜¯â€œå¯„ç”Ÿâ€åœ¨å®¿ä¸»ç¯å¢ƒä¸­çš„åŠŸèƒ½ä»£ç ç‰‡æ®µã€‚</strong></p>
<ul>
<li><strong>æå‡ºè€…/æ¨åŠ¨è€…</strong>ï¼šClaude (Anthropic) åŠå…¶ç”Ÿæ€å·¥å…·ï¼ˆå¦‚ Claude Engineer, OpenCodeï¼‰ã€‚</li>
<li><strong>æœ¬è´¨</strong>ï¼šå®ƒæ˜¯<strong>ä¸€æ®µæœ¬åœ°ä»£ç </strong>ï¼ˆé€šå¸¸æ˜¯ Python æˆ– JavaScriptï¼‰ã€‚</li>
<li><strong>ç”Ÿå­˜æ¡ä»¶</strong>ï¼šå¿…é¡»ä¾èµ–<strong>ç¯å¢ƒæ”¯æŒ</strong>ã€‚å¦‚æœ OpenCode æ²¡æ‰“å¼€ï¼Œæˆ–è€…ä½ æ²¡å®‰è£…è¿™ä¸ªè½¯ä»¶ï¼Œè¿™ä¸ª Skill å°±ä¸å­˜åœ¨ã€‚</li>
</ul>
<h3 data-id="heading-2">2. è¿è¡Œæœºåˆ¶ï¼šOpenCode æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</h3>
<p>å½“ä½ åœ¨ OpenCode é‡Œè·Ÿ AI è¯´è¯æ—¶ï¼Œåå°å‘ç”Ÿäº†è¿™ 4 æ­¥â€œéšå½¢æ“ä½œâ€ï¼š</p>
<ol>
<li>
<p><strong>æ£€ç´¢</strong> ï¼š</p>
<ul>
<li>OpenCode å¯åŠ¨æ—¶ï¼Œä¼šæ‰«æä¸€ä¸ªå›ºå®šæ–‡ä»¶å¤¹æ¯”å¦‚ <code>/.opencode/skills/</code> æˆ–ç±»ä¼¼è·¯å¾„ï¼‰ã€‚</li>
<li>å®ƒä¼šè¯»å–è¿™é‡Œé¢æ‰€æœ‰çš„è„šæœ¬ï¼Œæå–å‡ºå®ƒä»¬çš„<strong>æè¿°ï¼ˆDescriptionï¼‰</strong> ã€‚</li>
<li><em>æ³¨æ„ï¼šè¿™æ—¶å€™ä»£ç è¿˜æ²¡è·‘ï¼Œåªæ˜¯æŠŠâ€œè¯´æ˜ä¹¦â€æ‹¿å‡ºæ¥äº†ã€‚</em></li>
</ul>
</li>
<li>
<p><strong>æ³¨å…¥</strong> ï¼š</p>
<ul>
<li>å½“ä½ æé—®æ—¶ï¼ŒOpenCode ä¼šæŠŠè¿™äº›â€œè¯´æ˜ä¹¦â€æ‚„æ‚„å¡è¿› System Prompt é‡Œã€‚</li>
<li>å‘Šè¯‰æ¨¡å‹ï¼šâ€œæˆ‘æ‰‹é‡Œæœ‰è¿™äº›å·¥å…·ï¼ˆSkillsï¼‰ï¼Œä½ éœ€è¦çš„æ—¶å€™å¯ä»¥å«æˆ‘ã€‚â€</li>
</ul>
</li>
<li>
<p><strong>å†³ç­–ä¸è°ƒç”¨</strong> ï¼š</p>
<ul>
<li>æ¨¡å‹åˆ¤æ–­éœ€è¦ç”¨å·¥å…·ï¼Œè¿”å›ä¸€ä¸ªç‰¹æ®Šçš„ Tag æˆ– JSONã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šOpenCode æ‹¦æˆªåˆ°è¿™ä¸ªè¯·æ±‚ï¼Œåœ¨<strong>æœ¬åœ°ç¯å¢ƒ</strong>è¿è¡Œé‚£ä¸ªæ–‡ä»¶å¤¹é‡Œçš„ä»£ç ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç»“æœåé¦ˆ</strong> ï¼š</p>
<ul>
<li>ä»£ç è¿è¡Œç»“æœï¼ˆæ¯”å¦‚æ–‡ä»¶è¯»å–çš„å†…å®¹ã€ç»ˆç«¯æŠ¥é”™ä¿¡æ¯ï¼‰è¢«æ•è·ã€‚</li>
<li>ç»“æœè¢«è½¬æ¢æˆæ–‡æœ¬ï¼Œå†æ¬¡å¡å›å¯¹è¯<strong>ä¸Šä¸‹æ–‡</strong>ä¸­ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f20a8065ce214a25b78278bf56668978~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9nZXJfeno=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770630175&amp;x-signature=vI%2BSdpwuxACh9yHUz4jqc4SOmGU%3D" alt="Gemini_Generated_Image_fz9ctufz9ctufz9c.png" loading="lazy"/></p>
<h2 data-id="heading-3">ä»€ä¹ˆæ˜¯ MCPï¼Ÿ</h2>
<p><strong>â€”â€” æ ‡å‡†åŒ–çš„â€œé€šç”¨å¤–è®¾æ¥å£â€</strong></p>
<p>MCP æ˜¯ç”± Anthropic ç‰µå¤´æ¨å‡ºçš„ä¸€å¥—<strong>å¼€æ”¾åè®®</strong>ã€‚å®ƒä¸å†ä¾èµ–äºæŸä¸ªè½¯ä»¶ï¼ˆæ¯”å¦‚ OpenCodeï¼‰å†…éƒ¨çš„ç‰¹å®šæ–‡ä»¶å¤¹æˆ–ç‰¹å®šç¯å¢ƒï¼Œè€Œæ˜¯å»ºç«‹äº†ä¸€ç§<strong>Client-Serverï¼ˆå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼‰</strong> çš„è¿æ¥æ ‡å‡†ã€‚</p>
<h3 data-id="heading-4">1. æ ¸å¿ƒå®šä¹‰</h3>
<p><strong>MCP æ˜¯è¿æ¥ AI æ¨¡å‹ä¸æ•°æ®æº/å·¥å…·çš„â€œé€šç”¨è¯­è¨€â€ã€‚</strong></p>
<ul>
<li><strong>æå‡ºè€…</strong>ï¼šAnthropicï¼ˆä¸ºäº†è§£å†³å„ä¸ª AI è½¯ä»¶å·¥å…·ä¸é€šç”¨çš„ç¢ç‰‡åŒ–é—®é¢˜ï¼‰ã€‚</li>
<li><strong>æœ¬è´¨</strong>ï¼šå®ƒæ˜¯ä¸€ä¸ª<strong>ç‹¬ç«‹çš„è¿›ç¨‹</strong>ï¼ˆProcessï¼‰ï¼Œé€šè¿‡æ ‡å‡†é€šä¿¡åè®®ï¼ˆJSON-RPCï¼‰ä¸ä¸»ç¨‹åºå¯¹è¯ã€‚</li>
<li><strong>ç”Ÿå­˜æ¡ä»¶</strong>ï¼šMCP Server è‡ªå·±å°±æ˜¯ä¸€ä¸ªå°ç¨‹åºï¼ŒOpenCode åªæ˜¯å»â€œè¿æ¥â€å®ƒï¼Œè€Œä¸æ˜¯â€œåŒ…å«â€å®ƒã€‚</li>
</ul>
<h3 data-id="heading-5">2. è¿è¡Œæœºåˆ¶ï¼šOpenCode æ˜¯æ€ä¹ˆè¿æ¥ MCP çš„ï¼Ÿ</h3>
<p>åŒæ ·çš„ï¼Œæˆ‘ä»¬æŠŠåœºæ™¯æ”¾åœ¨ OpenCode é‡Œã€‚ä½†è¿™æ¬¡ï¼ŒOpenCode ä¸å†æ˜¯å»æ–‡ä»¶å¤¹é‡Œæ‰¾è„šæœ¬ï¼Œè€Œæ˜¯åƒ<strong>æ‹¨æ‰“ç”µè¯</strong>ä¸€æ ·å»è¿æ¥ä¸€ä¸ªæœåŠ¡ã€‚</p>
<p>åå°çš„ 4 æ­¥â€œéšå½¢æ“ä½œâ€å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p><strong>æ¡æ‰‹ä¸è¿æ¥</strong> ï¼š</p>
<ul>
<li>OpenCode å¯åŠ¨æ—¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶ï¼ˆconfigï¼‰ï¼Œå¯åŠ¨åå°çš„ MCP Server è¿›ç¨‹ï¼ˆæ¯”å¦‚ä¸€ä¸ª SQLite æ•°æ®åº“æœåŠ¡ï¼‰ã€‚</li>
<li>ä¸¤è€…å»ºç«‹<strong>é€šä¿¡ç®¡é“</strong>ï¼ˆé€šå¸¸æ˜¯ <code>stdio</code> æ ‡å‡†è¾“å…¥è¾“å‡ºï¼‰ã€‚</li>
<li><em>åŒºåˆ«ï¼šSkills æ˜¯æ‰«æé™æ€æ–‡ä»¶ï¼ŒMCP æ˜¯å¯åŠ¨åŠ¨æ€è¿›ç¨‹ã€‚</em></li>
</ul>
</li>
<li>
<p><strong>èƒ½åŠ›åå•†</strong> ï¼š</p>
<ul>
<li>OpenCode å‘é—®ï¼šâ€œä½ æœ‰ä»€ä¹ˆæœ¬äº‹ï¼Ÿâ€ï¼ˆå‘é€ <code>tools/list</code> è¯·æ±‚ï¼‰ã€‚</li>
<li>MCP Server å›ç­”ï¼šâ€œæˆ‘å¯ä»¥æŸ¥è¯¢ User è¡¨ï¼Œæˆ‘å¯ä»¥æ’å…¥æ•°æ®...â€ï¼ˆè¿”å› JSON æ ¼å¼çš„å·¥å…·åˆ—è¡¨ï¼‰ã€‚</li>
<li>OpenCode æŠŠè¿™äº›èƒ½åŠ›å¡ç»™å¤§æ¨¡å‹ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿œç¨‹è°ƒç”¨</strong> ï¼š</p>
<ul>
<li>å¤§æ¨¡å‹å†³å®šè°ƒç”¨å·¥å…·ã€‚</li>
<li><strong>å…³é”®ç‚¹</strong>ï¼šOpenCode <strong>ä¸æ‰§è¡Œä»£ç </strong>ï¼Œå®ƒåªæ˜¯ä¸ªâ€œä¼ å£°ç­’â€ã€‚å®ƒæŠŠè¯·æ±‚æ‰“åŒ…æˆä¸€ä¸ª JSON æ¶ˆæ¯ï¼Œå‘é€ç»™ MCP Serverã€‚</li>
<li>MCP Server åœ¨è‡ªå·±çš„è¿›ç¨‹é‡Œå¹²æ´»ï¼ˆæŸ¥åº“ã€è°ƒæ¥å£ï¼‰ï¼Œéå¸¸ç¨³å®šã€‚</li>
</ul>
</li>
<li>
<p><strong>ç®¡é“å›ä¼ </strong> ï¼š</p>
<ul>
<li>MCP Server å¹²å®Œæ´»ï¼ŒæŠŠç»“æœæ‰“åŒ…æˆ JSON å‘å›ç»™ OpenCodeã€‚</li>
<li>OpenCode å†å–‚ç»™å¤§æ¨¡å‹ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65544d2e93354395b90115225c1bea0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9nZXJfeno=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770630175&amp;x-signature=2iozfWKGpO3tm9QVllZK2xrKm3U%3D" alt="Gemini_Generated_Image_8hh87v8hh87v8hh8.png" loading="lazy"/></p>
<h2 data-id="heading-6">MCPå’ŒSkillsçš„åŒºåˆ«</h2>
<p>ä»æ¶æ„å®ç°å’Œè¿è¡Œæ—¶çš„è§’åº¦æ¥çœ‹ï¼ŒSkills å’Œ MCP çš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨<strong>è¿›ç¨‹æ¨¡å‹</strong>å’Œ<strong>è€¦åˆåº¦</strong>ä¸Šã€‚</p>
<h3 data-id="heading-7">1. è¿è¡Œæ—¶ç¯å¢ƒçš„åŒºåˆ«</h3>
<ul>
<li>
<p><strong>Skills</strong> ï¼š</p>
<p>Skills æœ¬è´¨ä¸Šæ˜¯<strong>å®¿ä¸»ç¯å¢ƒçš„ä¸€éƒ¨åˆ†</strong>ã€‚</p>
<p>åœ¨ OpenCode è¿™ç§ IDE Agent åœºæ™¯ä¸‹ï¼ŒSkills é€šå¸¸å°±æ˜¯ä¸€æ®µ Python æˆ– JS è„šæœ¬ã€‚å½“ Agent å†³å®šè°ƒç”¨ Skill æ—¶ï¼Œå®é™…ä¸Šæ˜¯ OpenCode çš„ä¸»è¿›ç¨‹æˆ–è€…å…¶æ´¾ç”Ÿçš„å­è¿›ç¨‹ç›´æ¥åŠ è½½å¹¶æ‰§è¡Œäº†è¿™æ®µä»£ç ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå®ƒå’Œå®¿ä¸»ç¯å¢ƒæ˜¯<strong>å¼ºè€¦åˆ</strong>çš„ã€‚ç¯å¢ƒç›´æ¥æŒæœ‰ä»£ç ï¼Œç›´æ¥è´Ÿè´£è§£é‡Šæ‰§è¡Œã€‚</li>
<li><strong>å±€é™</strong>ï¼šå®ƒçš„ä¸Šä¸‹æ–‡å®Œå…¨ä¾èµ–äºå½“å‰ IDE çš„ç¯å¢ƒé…ç½®ï¼ˆæ¯”å¦‚ Python è§£é‡Šå™¨è·¯å¾„ã€ä¾èµ–åº“ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>MCP</strong> ï¼š</p>
<p>MCP é‡‡ç”¨çš„æ˜¯æ ‡å‡†çš„ <strong>C/S æ¶æ„</strong> ã€‚</p>
<p>MCP Server æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„<strong>å¤–éƒ¨è¿›ç¨‹</strong>ã€‚OpenCode ä»…ä»…æ˜¯ä½œä¸ºä¸€ä¸ª Clientï¼Œé€šè¿‡æ ‡å‡†è¾“å…¥è¾“å‡ºï¼ˆStdioï¼‰æˆ–è€…ç½‘ç»œå¥—æ¥å­—ï¼ˆSocketï¼‰ï¼Œåˆ©ç”¨ JSON-RPC åè®®è·Ÿè¿™ä¸ªå¤–éƒ¨è¿›ç¨‹é€šä¿¡ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå®ƒæ˜¯<strong>æ¾è€¦åˆ</strong>çš„ã€‚OpenCode ä¸å…³å¿ƒ Server æ˜¯ç”¨ Rust å†™çš„è¿˜æ˜¯ Go å†™çš„ï¼Œåªå…³å¿ƒåè®®å¯¹ä¸å¯¹ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">2. ç¨³å®šæ€§ä¸æ•…éšœéš”ç¦»ï¼šä¸ºä½•æ¶‰åŠ DB å¿…é¡»ç”¨ MCPï¼Ÿ</h3>
<p>æ¯”å¦‚æ•°æ®åº“æ“ä½œï¼Œè¿™æ­£æ˜¯æ¶æ„é€‰å‹çš„åˆ†æ°´å²­ã€‚</p>
<ul>
<li>
<p><strong>Skills çš„é£é™©</strong>ï¼š</p>
<p>å¦‚æœä½ ç”¨ Skills å†™ä¸€ä¸ªæ•°æ®åº“è¿æ¥è„šæœ¬ï¼Œå®ƒæ˜¯è¿è¡Œåœ¨ OpenCode çš„å…³è”è¿›ç¨‹é‡Œçš„ã€‚</p>
<p>ä¸€æ—¦è¿™ä¸ªè„šæœ¬å‡ºç°å†…å­˜æ³„æ¼ã€æ­»å¾ªç¯ï¼Œæˆ–è€…å› ä¸ºæ²¡æœ‰å¤„ç†å¥½è¿æ¥æ± å¯¼è‡´ IO é˜»å¡ï¼Œå®ƒä¼šç›´æ¥å½±å“å®¿ä¸»ç¨‹åºçš„æ€§èƒ½ï¼Œç”šè‡³å¯¼è‡´ IDE å¡æ­»ã€å´©æºƒã€‚è¿™ç§<strong>ç¼ºä¹æ•…éšœéš”ç¦»</strong>çš„è®¾è®¡ï¼Œåšåšæœ¬åœ°æ–‡ä»¶è¯»å†™ï¼ˆIO å¼€é”€å°ã€æ— çŠ¶æ€ï¼‰è¿˜è¡Œï¼Œåšå¤æ‚ä¸šåŠ¡å°±æ˜¯åŸ‹é›·ã€‚</p>
</li>
<li>
<p><strong>MCP çš„ä¼˜åŠ¿</strong>ï¼š</p>
<p>MCP å®ç°äº†<strong>è¿›ç¨‹çº§éš”ç¦»</strong> ã€‚</p>
<p>å½“ä½ è¿æ¥æ•°æ®åº“æ—¶ï¼Œè¿æ¥æ± ç»´æŠ¤ã€SQL æ‰§è¡Œå…¨éƒ¨åœ¨ç‹¬ç«‹çš„ MCP Server è¿›ç¨‹é‡Œå®Œæˆã€‚</p>
<ul>
<li><strong>ç¨³å¦¥ä¹‹å¤„</strong>ï¼šå³ä¾¿æ•°æ®åº“é©±åŠ¨å´©æºƒäº†ï¼ˆCrashï¼‰ï¼Œæˆ–è€…æŸ¥è¯¢è¶…æ—¶å¯¼è‡´æŒ‚èµ·ï¼Œæ­»çš„åªæ˜¯é‚£ä¸ª MCP Server è¿›ç¨‹ï¼ŒOpenCode ä¾ç„¶æ´»å¾—å¥½å¥½çš„ï¼Œåªéœ€è¦æ•è·ä¸€ä¸ª RPC Error å³å¯ã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†</strong>ï¼šMCP Server å¯ä»¥å¸¸é©»åå°ç»´æŒæ•°æ®åº“çš„é•¿è¿æ¥çŠ¶æ€ï¼Œè€Œ Skills è¿™ç§ä¸€æ¬¡æ€§è„šæœ¬å¾ˆéš¾åšåˆ°è¿™ä¸€ç‚¹ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">æ€»ç»“ä¸€ä¸‹</h3>
<p>Skills æ˜¯<strong>æ’ä»¶åŒ–æ€ç»´</strong>ï¼Œé€‚åˆè½»é‡çº§ã€æ— çŠ¶æ€ã€ä¾èµ–å®¿ä¸»ç¯å¢ƒä¸Šä¸‹æ–‡çš„æœ¬åœ°æ“ä½œï¼ˆå¦‚ <code>fs.read</code>ï¼‰ã€‚</p>
<p>MCP æ˜¯<strong>å¾®æœåŠ¡æ€ç»´</strong>ï¼Œé€‚åˆé‡é‡çº§ã€æœ‰çŠ¶æ€ã€éœ€è¦æ•…éšœéš”ç¦»çš„å¤æ‚ä¸šåŠ¡é›†æˆï¼ˆå¦‚ <code>Database</code>ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Langchain-å‘é‡æ•°æ®åº“ï¼ˆVectorStoreï¼‰çŸ¥è¯†æ€»ç»“]]></title>    <link>https://juejin.cn/post/7602072073133948955</link>    <guid>https://juejin.cn/post/7602072073133948955</guid>    <pubDate>2026-02-02T09:29:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602072073133948955" data-draft-id="7601843005007626250" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Langchain-å‘é‡æ•°æ®åº“ï¼ˆVectorStoreï¼‰çŸ¥è¯†æ€»ç»“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-02T09:29:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒåœ¨é£æ‰¬AI"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194366823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Langchain-å‘é‡æ•°æ®åº“ï¼ˆVectorStoreï¼‰çŸ¥è¯†æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194366823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒåœ¨é£æ‰¬AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:29:38.000Z" title="Mon Feb 02 2026 09:29:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‘é‡æ•°æ®åº“ï¼ˆVectorStoreï¼‰çŸ¥è¯†æ€»ç»“</h2>
<h3 data-id="heading-1">1. å¸¦é˜€å€¼çš„ç›¸ä¼¼æ€§æœç´¢</h3>
<h4 data-id="heading-2">çŸ¥è¯†ç‚¹</h4>
<ul>
<li><strong>FAISSå‘é‡æ•°æ®åº“</strong>ï¼šFacebook AI Similarity Searchï¼Œé«˜æ•ˆçš„å‘é‡ç›¸ä¼¼æ€§æœç´¢åº“</li>
<li><strong>ç›¸ä¼¼æ€§å¾—åˆ†é˜ˆå€¼</strong>ï¼šåªè¿”å›ç›¸ä¼¼åº¦è¶…è¿‡æŒ‡å®šé˜ˆå€¼çš„ç»“æœ</li>
<li><strong>similarity_search_with_relevance_scores()</strong>ï¼šè¿”å›æ–‡æ¡£åŠå…¶ç›¸å…³æ€§å¾—åˆ†</li>
</ul>
<h4 data-id="heading-3">ç”¨é€”</h4>
<p>å½“éœ€è¦è¿‡æ»¤æ‰ä½ç›¸ä¼¼åº¦ç»“æœæ—¶ä½¿ç”¨ï¼Œç¡®ä¿è¿”å›çš„ç»“æœä¸æŸ¥è¯¢è¶³å¤Ÿç›¸å…³ã€‚</p>
<h4 data-id="heading-4">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_community.vectorstores <span class="hljs-keyword">import</span> FAISS
<span class="hljs-keyword">from</span> langchain_core.documents <span class="hljs-keyword">import</span> Document
<span class="hljs-keyword">from</span> langchain_community.embeddings <span class="hljs-keyword">import</span> QianfanEmbeddingsEndpoint

<span class="hljs-comment"># åˆ›å»ºæ–‡æ¡£é›†åˆ</span>
documents = [
    Document(page_content=<span class="hljs-string">"ç¬¨ç¬¨æ˜¯ä¸€åªå¾ˆå–œæ¬¢ç¡è§‰çš„çŒ«å’ª"</span>, metadata={<span class="hljs-string">"page"</span>: <span class="hljs-number">1</span>}),
    Document(page_content=<span class="hljs-string">"æˆ‘å–œæ¬¢åœ¨å¤œæ™šå¬éŸ³ä¹ï¼Œè¿™è®©æˆ‘æ„Ÿåˆ°æ”¾æ¾ã€‚"</span>, metadata={<span class="hljs-string">"page"</span>: <span class="hljs-number">2</span>}),
    <span class="hljs-comment"># ... æ›´å¤šæ–‡æ¡£</span>
]

<span class="hljs-comment"># æ„å»ºå‘é‡æ•°æ®åº“</span>
db = FAISS.from_documents(documents, embedding)

<span class="hljs-comment"># å¸¦é˜ˆå€¼çš„ç›¸ä¼¼æ€§æœç´¢ï¼ˆåªè¿”å›ç›¸ä¼¼åº¦&gt;0.4çš„ç»“æœï¼‰</span>
results = db.similarity_search_with_relevance_scores(
    <span class="hljs-string">"æˆ‘å…»äº†ä¸€åªçŒ«ï¼Œå«ç¬¨ç¬¨"</span>,
    score_threshold=<span class="hljs-number">0.4</span>
)
</code></pre>
<hr/>
<h3 data-id="heading-5">2. as_retrieveræ£€ç´¢å™¨</h3>
<h4 data-id="heading-6">çŸ¥è¯†ç‚¹</h4>
<ul>
<li><strong>as_retriever()</strong>ï¼šå°†å‘é‡æ•°æ®åº“è½¬æ¢ä¸ºæ ‡å‡†æ£€ç´¢å™¨æ¥å£</li>
<li><strong>search_typeå‚æ•°</strong>ï¼š
<ul>
<li><code>similarity</code>ï¼šæ ‡å‡†ç›¸ä¼¼æ€§æœç´¢</li>
<li><code>similarity_score_threshold</code>ï¼šå¸¦é˜ˆå€¼çš„ç›¸ä¼¼æ€§æœç´¢</li>
<li><code>mmr</code>ï¼šæœ€å¤§è¾¹é™…ç›¸å…³æ€§æœç´¢</li>
</ul>
</li>
<li><strong>search_kwargså‚æ•°</strong>ï¼š
<ul>
<li><code>k</code>ï¼šè¿”å›ç»“æœæ•°é‡</li>
<li><code>score_threshold</code>ï¼šç›¸ä¼¼åº¦é˜ˆå€¼</li>
</ul>
</li>
<li><strong>ConfigurableField</strong>ï¼šä½¿æ£€ç´¢å™¨é…ç½®å¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹</li>
</ul>
<h4 data-id="heading-7">ç”¨é€”</h4>
<p>åœ¨RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰åº”ç”¨ä¸­ï¼Œå‘é‡æ•°æ®åº“é€šå¸¸éœ€è¦è½¬æ¢ä¸ºæ£€ç´¢å™¨æ‰èƒ½ä¸LLMé“¾é›†æˆã€‚</p>
<h4 data-id="heading-8">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_weaviate <span class="hljs-keyword">import</span> WeaviateVectorStore
<span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> ConfigurableField

<span class="hljs-comment"># å°†å‘é‡æ•°æ®åº“è½¬æ¢ä¸ºæ£€ç´¢å™¨</span>
retriever = db.as_retriever(
    search_type=<span class="hljs-string">"similarity_score_threshold"</span>,
    search_kwargs={<span class="hljs-string">"k"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"score_threshold"</span>: <span class="hljs-number">0.5</span>},
).configurable_fields(
    search_type=ConfigurableField(<span class="hljs-built_in">id</span>=<span class="hljs-string">"db_search_type"</span>),
    search_kwargs=ConfigurableField(<span class="hljs-built_in">id</span>=<span class="hljs-string">"db_search_kwargs"</span>),
)

<span class="hljs-comment"># ä½¿ç”¨é»˜è®¤é…ç½®æ£€ç´¢</span>
documents = retriever.invoke(<span class="hljs-string">"å…³äºé…ç½®æ¥å£çš„ä¿¡æ¯æœ‰å“ªäº›"</span>)

<span class="hljs-comment"># è¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹ä¸ºMMRæœç´¢</span>
mmr_results = retriever.with_config(
    configurable={
        <span class="hljs-string">"db_search_type"</span>: <span class="hljs-string">"mmr"</span>,
        <span class="hljs-string">"db_search_kwargs"</span>: {<span class="hljs-string">"k"</span>: <span class="hljs-number">4</span>}
    }
).invoke(<span class="hljs-string">"æŸ¥è¯¢å†…å®¹"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-9">3. æœ€å¤§è¾¹é™…ç›¸å…³æ€§æœç´¢ï¼ˆMMRï¼‰</h3>
<h4 data-id="heading-10">çŸ¥è¯†ç‚¹</h4>
<ul>
<li><strong>æœ€å¤§è¾¹é™…ç›¸å…³æ€§ï¼ˆMMRï¼‰</strong>ï¼šå¹³è¡¡ç»“æœçš„ç›¸å…³æ€§å’Œå¤šæ ·æ€§</li>
<li><strong>max_marginal_relevance_search()</strong>ï¼šæ‰§è¡ŒMMRæœç´¢</li>
<li><strong>æ–‡æ¡£åŠ è½½ä¸åˆ†å‰²</strong>ï¼šUnstructuredMarkdownLoader + RecursiveCharacterTextSplitter</li>
<li><strong>WeaviateVectorStore</strong>ï¼šäº‘ç«¯å‘é‡æ•°æ®åº“æœåŠ¡</li>
</ul>
<h4 data-id="heading-11">ç”¨é€”</h4>
<p>å½“éœ€è¦é¿å…è¿”å›è¿‡äºç›¸ä¼¼çš„ç»“æœæ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚é—®ç­”ç³»ç»Ÿéœ€è¦æä¾›å¤šæ ·åŒ–çš„ç­”æ¡ˆã€‚</p>
<h4 data-id="heading-12">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_weaviate <span class="hljs-keyword">import</span> WeaviateVectorStore
<span class="hljs-keyword">from</span> langchain_community.document_loaders <span class="hljs-keyword">import</span> UnstructuredMarkdownLoader
<span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter

<span class="hljs-comment"># 1. åŠ è½½å¹¶åˆ†å‰²æ–‡æ¡£</span>
loader = UnstructuredMarkdownLoader(file_path)
text_splitter = RecursiveCharacterTextSplitter(
    separators=[<span class="hljs-string">"\n\n"</span>, <span class="hljs-string">"\n"</span>, <span class="hljs-string">"ã€‚|ï¼|ï¼Ÿ"</span>, ...],
    chunk_size=<span class="hljs-number">500</span>,
    chunk_overlap=<span class="hljs-number">50</span>,
)
chunks = text_splitter.split_documents(loader.load())

<span class="hljs-comment"># 2. å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“</span>
db = WeaviateVectorStore(client=..., index_name=<span class="hljs-string">"DatasetDemo"</span>, ...)
db.add_documents(chunks)

<span class="hljs-comment"># 3. æ‰§è¡ŒMMRæœç´¢ï¼ˆç»“æœæ›´å¤šæ ·åŒ–ï¼‰</span>
search_documents = db.max_marginal_relevance_search(<span class="hljs-string">"å…³äºåº”ç”¨é…ç½®çš„æ¥å£æœ‰å“ªäº›ï¼Ÿ"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-13">4. å‘é‡æ•°æ®åº“æ£€ç´¢</h3>
<h4 data-id="heading-14">çŸ¥è¯†ç‚¹</h4>
<ul>
<li><strong>è¿è¡Œæ—¶å¯é…ç½®æ£€ç´¢å™¨</strong>ï¼šé€šè¿‡configurable_fieldså®ç°åŠ¨æ€é…ç½®</li>
<li><strong>with_config()æ–¹æ³•</strong>ï¼šåœ¨è°ƒç”¨æ—¶ä¿®æ”¹æ£€ç´¢å™¨è¡Œä¸º</li>
<li><strong>æ£€ç´¢å™¨é›†æˆæ¨¡å¼</strong>ï¼šæ ‡å‡†åŒ–çš„æ£€ç´¢æ¥å£ï¼Œä¾¿äºä¸LangChainé“¾é›†æˆ</li>
</ul>
<h4 data-id="heading-15">ç”¨é€”</h4>
<p>éœ€è¦æ ¹æ®ä¸åŒåœºæ™¯åŠ¨æ€è°ƒæ•´æ£€ç´¢ç­–ç•¥çš„åº”ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä¸åŒçš„æŸ¥è¯¢ä½¿ç”¨ä¸åŒçš„kå€¼</li>
<li>æœ‰æ—¶ç”¨ç›¸ä¼¼æ€§æœç´¢ï¼Œæœ‰æ—¶ç”¨MMR</li>
<li>æ ¹æ®ç”¨æˆ·åå¥½è°ƒæ•´é˜ˆå€¼</li>
</ul>
<h4 data-id="heading-16">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.runnables <span class="hljs-keyword">import</span> ConfigurableField

<span class="hljs-comment"># åˆ›å»ºå¯é…ç½®çš„æ£€ç´¢å™¨</span>
retriever = db.as_retriever(
    search_type=<span class="hljs-string">"similarity_score_threshold"</span>,
    search_kwargs={<span class="hljs-string">"k"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"score_threshold"</span>: <span class="hljs-number">0.5</span>},
).configurable_fields(
    search_type=ConfigurableField(<span class="hljs-built_in">id</span>=<span class="hljs-string">"db_search_type"</span>),
    search_kwargs=ConfigurableField(<span class="hljs-built_in">id</span>=<span class="hljs-string">"db_search_kwargs"</span>),
)

<span class="hljs-comment"># åœºæ™¯1ï¼šé«˜ç²¾åº¦æ£€ç´¢ï¼ˆé«˜é˜ˆå€¼ï¼‰</span>
high_precision = retriever.with_config(
    configurable={
        <span class="hljs-string">"db_search_kwargs"</span>: {<span class="hljs-string">"k"</span>: <span class="hljs-number">5</span>, <span class="hljs-string">"score_threshold"</span>: <span class="hljs-number">0.8</span>}
    }
).invoke(<span class="hljs-string">"æŸ¥è¯¢"</span>)

<span class="hljs-comment"># åœºæ™¯2ï¼šå¤šæ ·åŒ–æ£€ç´¢ï¼ˆMMRï¼‰</span>
diverse_results = retriever.with_config(
    configurable={
        <span class="hljs-string">"db_search_type"</span>: <span class="hljs-string">"mmr"</span>,
        <span class="hljs-string">"db_search_kwargs"</span>: {<span class="hljs-string">"k"</span>: <span class="hljs-number">10</span>}
    }
).invoke(<span class="hljs-string">"æŸ¥è¯¢"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-17">æ ¸å¿ƒæ¦‚å¿µå¯¹æ¯”</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>ç›¸ä¼¼æ€§æœç´¢</th><th>é˜ˆå€¼æœç´¢</th><th>MMRæœç´¢</th></tr></thead><tbody><tr><td>æ–¹æ³•å</td><td><code>similarity_search</code></td><td><code>similarity_search_with_relevance_scores</code></td><td><code>max_marginal_relevance_search</code></td></tr><tr><td>å…³æ³¨ç‚¹</td><td>æœ€ç›¸å…³çš„å‰kä¸ª</td><td>ç›¸å…³åº¦è¶…è¿‡é˜ˆå€¼çš„ç»“æœ</td><td>ç›¸å…³æ€§+å¤šæ ·æ€§</td></tr><tr><td>ç»“æœæ•°é‡</td><td>å›ºå®škä¸ª</td><td>å˜åŒ–ï¼ˆå–å†³äºé˜ˆå€¼ï¼‰</td><td>å›ºå®škä¸ª</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>ä¸€èˆ¬æ£€ç´¢</td><td>é«˜è´¨é‡è¦æ±‚</td><td>éœ€è¦å¤šæ ·åŒ–ç»“æœ</td></tr></tbody></table>
<h3 data-id="heading-18">æŠ€æœ¯æ ˆæ€»ç»“</h3>
<h4 data-id="heading-19">å‘é‡æ•°æ®åº“</h4>
<ul>
<li><strong>FAISS</strong>ï¼šæœ¬åœ°å‘é‡æ•°æ®åº“ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®å’Œå¿«é€ŸåŸå‹å¼€å‘</li>
<li><strong>Weaviate</strong>ï¼šäº‘ç«¯å‘é‡æ•°æ®åº“ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒå’Œå¤§è§„æ¨¡æ•°æ®</li>
</ul>
<h4 data-id="heading-20">åµŒå…¥æ¨¡å‹</h4>
<ul>
<li><strong>åƒå¸†Embeddings</strong>ï¼šç™¾åº¦åƒå¸†å¹³å°æä¾›çš„æ–‡æœ¬åµŒå…¥æœåŠ¡</li>
</ul>
<h4 data-id="heading-21">æ–‡æ¡£å¤„ç†</h4>
<ul>
<li><strong>UnstructuredMarkdownLoader</strong>ï¼šåŠ è½½Markdownæ ¼å¼æ–‡æ¡£</li>
<li><strong>RecursiveCharacterTextSplitter</strong>ï¼šé€’å½’æ–‡æœ¬åˆ†å‰²å™¨ï¼Œæ”¯æŒå¤šç§åˆ†éš”ç¬¦</li>
</ul>
<h4 data-id="heading-22">æ£€ç´¢ç­–ç•¥</h4>
<ol>
<li><strong>ç›¸ä¼¼æ€§æœç´¢</strong>ï¼šåŸºäºå‘é‡ç›¸ä¼¼åº¦è¿”å›æœ€ç›¸å…³çš„ç»“æœ</li>
<li><strong>é˜ˆå€¼æœç´¢</strong>ï¼šè¿‡æ»¤ä½ç›¸ä¼¼åº¦ç»“æœï¼Œä¿è¯è´¨é‡</li>
<li><strong>MMRæœç´¢</strong>ï¼šåœ¨ç›¸å…³æ€§å’Œå¤šæ ·æ€§ä¹‹é—´å–å¾—å¹³è¡¡</li>
</ol>
<h3 data-id="heading-23">å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-24">RAGåº”ç”¨å¼€å‘æµç¨‹</h4>
<ol>
<li><strong>æ–‡æ¡£å‡†å¤‡</strong>ï¼šåŠ è½½æ–‡æ¡£ -&gt; æ–‡æœ¬åˆ†å‰² -&gt; å‘é‡åŒ–</li>
<li><strong>å‘é‡å­˜å‚¨</strong>ï¼šé€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“ï¼ˆFAISS/Weaviateï¼‰</li>
<li><strong>æ£€ç´¢å™¨é…ç½®</strong>ï¼šè½¬æ¢ä¸ºæ£€ç´¢å™¨ï¼Œé…ç½®æ£€ç´¢ç­–ç•¥</li>
<li><strong>åŠ¨æ€è°ƒæ•´</strong>ï¼šæ ¹æ®åœºæ™¯éœ€æ±‚åŠ¨æ€è°ƒæ•´æ£€ç´¢å‚æ•°</li>
<li><strong>ç»“æœç”Ÿæˆ</strong>ï¼šå°†æ£€ç´¢ç»“æœè¾“å…¥LLMç”Ÿæˆç­”æ¡ˆ</li>
</ol>
<h4 data-id="heading-25">å‚æ•°é€‰æ‹©å»ºè®®</h4>
<ul>
<li><strong>kå€¼é€‰æ‹©</strong>ï¼šä¸€èˆ¬å–3-10ä¸ªç»“æœï¼Œå¤ªå¤šä¼šå¼•å…¥å™ªå£°</li>
<li><strong>é˜ˆå€¼è®¾ç½®</strong>ï¼š0.5-0.8ä¹‹é—´ï¼Œæ ¹æ®æ•°æ®è´¨é‡è°ƒæ•´</li>
<li><strong>chunk_size</strong>ï¼š300-1000å­—ç¬¦ï¼Œæ ¹æ®æ–‡æ¡£ç±»å‹è°ƒæ•´</li>
<li><strong>chunk_overlap</strong>ï¼šä¸€èˆ¬ä¸ºchunk_sizeçš„10-20%</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–°æµªè´¢ç»ä¸“è®¿å‡¡æ³°æå®¢æ¢å¯é¸¿ï¼šé‡‘èAppçš„AIè½åœ°åº”é¿å“ªäº›å‘ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602070768962011162</link>    <guid>https://juejin.cn/post/7602070768962011162</guid>    <pubDate>2026-02-02T10:23:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602070768962011162" data-draft-id="7601946979606511643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–°æµªè´¢ç»ä¸“è®¿å‡¡æ³°æå®¢æ¢å¯é¸¿ï¼šé‡‘èAppçš„AIè½åœ°åº”é¿å“ªäº›å‘ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,OpenAI,æ¶æ„"/> <meta itemprop="datePublished" content="2026-02-02T10:23:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FinClip"/> <meta itemprop="url" content="https://juejin.cn/user/395479918322696"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–°æµªè´¢ç»ä¸“è®¿å‡¡æ³°æå®¢æ¢å¯é¸¿ï¼šé‡‘èAppçš„AIè½åœ°åº”é¿å“ªäº›å‘ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/395479918322696/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FinClip
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:23:16.000Z" title="Mon Feb 02 2026 10:23:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“æ¯ä¸€å®¶é‡‘èæœºæ„éƒ½åœ¨è°ˆè®ºAIï¼Œå½“æ¯ä¸€ä¸ªAppéƒ½æƒ³å˜å¾—â€œæ›´æ™ºèƒ½â€ï¼Œæˆ‘ä»¬æ˜¯å¦çœŸæ­£èµ°åœ¨äº†æ­£ç¡®çš„é“è·¯ä¸Šï¼Ÿ è¿‘æ—¥ï¼Œå‡¡æ³°æå®¢åˆ›å§‹äººæ¢å¯é¸¿æ¥å—æ–°æµªè´¢ç»ä¸“è®¿ï¼Œç›´æŒ‡é‡‘èAIè½åœ°ä¸­æœ€å¸¸è§çš„å®è·µè¯¯åŒºã€‚ä»¥ä¸‹ä¸ºä¸“è®¿ç²¾åï¼Œå€¼å¾—æ¯ä¸€ä½é‡‘èç§‘æŠ€ä»ä¸šè€…ç»†è¯»ã€‚</p>
<p>æ–‡ | å¾è‹‘è•¾</p>
<blockquote>
<p>éšç€ç”Ÿæˆå¼AIæŠ€æœ¯æµªæ½®å¸­å·é‡‘èä¸šï¼Œé“¶è¡Œã€åˆ¸å•†ç­‰æœºæ„çº·çº·åŠ é€ŸApp AIåŒ–è½¬å‹ã€‚å¦‚ä½•è®©æ–°æŠ€æœ¯çœŸæ­£åµŒå…¥é‡‘èä¸šåŠ¡å…¨æµç¨‹ï¼Œå¹¶å®ç°åˆè§„ä¸æ•ˆç‡çš„å¹³è¡¡ï¼Œå§‹ç»ˆæ˜¯é‡‘èä¸šæ¢ç´¢æ•°å­—åŒ–ã€æ™ºèƒ½åŒ–çš„æŒ‘æˆ˜ã€‚</p>
</blockquote>
<p>è¿‘æ—¥ï¼Œå‡¡æ³°æå®¢åˆ›å§‹äººæ¢å¯é¸¿åœ¨å¯¹è¯ä¸­è¡¨ç¤ºï¼ŒAIæŠ€æœ¯åœ¨é‡‘èæœºæ„Appä¸­çš„è½åœ°éœ€æ‘’å¼ƒäº’è”ç½‘é‡‘èæ—¶ä»£çš„å‰²è£‚æ€ç»´ï¼Œé€šè¿‡æ¸è¿›å¼æ”¹é€ ã€AIè®°å¿†èƒ½åŠ›æ„å»ºä¸å·¥ç¨‹åŒ–ä¸­å°æ­å»ºï¼Œæ‰“é€šä»æŠ€æœ¯åˆ°ä¸šåŠ¡çš„æœ€åä¸€å…¬é‡Œã€‚</p>
<p><strong>AIåº”å…¨é¢èµ‹èƒ½ï¼Œä¸åº”å¦æä¸€å—è¯•éªŒç”°</strong></p>
<p>é¢å¯¹AIçƒ­æ½®ï¼Œéƒ¨åˆ†é‡‘èæœºæ„é€‰æ‹©ç‹¬ç«‹å¼€å‘AIä¸“å±Appï¼Œè¿™ä¸€åšæ³•è¢«æ¢å¯é¸¿æ˜ç¡®å¦å®šã€‚</p>
<p>â€œè¿™æœ¬è´¨ä¸Šé‡è¹ˆäº†äº’è”ç½‘é‡‘èæ—¶ä»£çš„è¦†è¾™ï¼Œå½“æ—¶å¾ˆå¤šæœºæ„æˆç«‹ç‹¬ç«‹äº’è”ç½‘å­å…¬å¸ï¼Œç»“æœé€ æˆçº¿ä¸Šçº¿ä¸‹å‰²è£‚ã€èµ„æºå†…è€—ã€åˆ©ç›Šåˆ†é…å†²çªã€è€ƒæ ¸å¤±è¡¡ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚â€æ¢å¯é¸¿æŒ‡å‡ºï¼ŒAIçš„ä»·å€¼åœ¨äºæ³›åŒ–èµ‹èƒ½å…¨ä¸šåŠ¡æµç¨‹ï¼Œè€Œéæˆä¸ºå­¤ç«‹çš„è¯•éªŒç”°ã€‚</p>
<p>åœ¨ä»–çœ‹æ¥ï¼Œé‡‘èæœºæ„æ¢ç´¢AIçš„æ­£ç¡®è·¯å¾„ï¼Œæ˜¯å¯¹å­˜é‡Appè¿›è¡Œæ¸è¿›å¼æ”¹é€ ã€‚</p>
<p>â€œé€šè¿‡éå…¥ä¾µæ€§æŠ€æœ¯æ‰‹æ®µï¼Œåœ¨ç°æœ‰ç³»ç»ŸåŸºç¡€ä¸ŠåµŒå…¥AIèƒ½åŠ›ï¼Œè€Œä¸æ˜¯æ¨å€’é‡æ¥ã€‚ä¼ ç»ŸèŠå¤©å…¥å£çš„AIä¸çŸ¥é“ç”¨æˆ·åœ¨å“ªä¸ªé¡µé¢ã€æ­£åœ¨æ“ä½œä»€ä¹ˆï¼Œè€Œåº”è¯¥æŠŠè¿™äº›ä¸Šä¸‹æ–‡ä¿¡æ¯å®æ—¶ä¼ é€’ç»™AIï¼Œè®©äº¤äº’æ›´ç²¾å‡†ã€‚â€</p>
<p><strong>AIæœ¬è´¨ä¸Šæ˜¯æ•ˆç‡å·¥å…·ï¼Œè€Œä¸æ˜¯ç©å…·</strong></p>
<p>å…¬å¼€æ•°æ®æ˜¾ç¤ºï¼Œå½“å‰å›½å†…è¶…80%çš„åˆ¸å•†Appå·²åµŒå…¥AIåŠŸèƒ½ï¼Œä½†å¤šé›†ä¸­äºæ™ºèƒ½å®¢æœã€è¡Œæƒ…é—®ç­”ç­‰åŸºç¡€åœºæ™¯ã€‚</p>
<p>æ¢å¯é¸¿åˆ†æç§°ï¼Œ2013è‡³2017å¹´å›½å†…äº’è”ç½‘é‡‘èçˆ†å‘æœŸï¼Œåˆ¸å•†å®ç°æŠ€æœ¯è·ƒè¿ï¼Œç§¯ç´¯çš„æ•°å­—åŒ–èƒ½åŠ›å·²è¶…è¶Šå¤šæ•°å›½é™…åŒè¡Œã€‚</p>
<p>ä½†åœ¨å½“å‰AIæµªæ½®ä¸­ï¼Œä¸å°‘æœºæ„é™·å…¥ä¸ºAIè€ŒAIçš„è¯¯åŒºã€‚</p>
<p>â€œç°åœ¨å¾ˆå¤šæ‰€è°“çš„AI Appï¼Œåªæ˜¯åœ¨åŸæœ‰äº§å“é‡ŒåŠ ä¸ªèŠå¤©å…¥å£ï¼Œè¿åŸæœ‰çš„æœç´¢åŠŸèƒ½éƒ½ä¸èƒ½AIåŒ–ï¼Œå¤§å¤šè¿˜ä¸æœç´¢åŠŸèƒ½å¹¶å­˜ï¼Œæ²¡æœ‰å®ç°æ™ºèƒ½åŒ–æœç´¢ã€å¯¹è¯å¼æœç´¢ï¼Œå®¢æˆ·å¯èƒ½æ—¢æ‰¾ä¸åˆ°ç›®æ ‡åŠŸèƒ½ï¼Œä¹Ÿæ‰¾ä¸åˆ°æƒ³è¦çš„äº§å“ï¼Œç›®å‰å‡ ä¹æ‰€æœ‰çš„é‡‘èAppå› æ­¤ä¸å…·å¤‡é”€å”®åŠŸèƒ½ï¼Œæ›´ä¸ç”¨è¯´å¸®æŠ•èµ„è€…æ§åˆ¶é£é™©ã€è¾…åŠ©æŠ•é¡¾å±¥è¡Œå‹¤å‹‰å°½è´£ä¹‰åŠ¡äº†ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ç©å…·æ€§è´¨ã€‚â€æ¢å¯é¸¿è¡¨ç¤ºã€‚</p>
<p><strong>AIè¦é•¿è®°æ€§ï¼Œä¸èƒ½è¿‡äº†å°±å¿˜ ç”šè‡³é•¿æœŸå¤±å¿†</strong></p>
<p>åœ¨æ¢å¯é¸¿çœ‹æ¥ï¼Œé‡‘èæœåŠ¡çš„æ ¸å¿ƒæ˜¯â€œæ‡‚ç”¨æˆ·â€ï¼Œå½“å‰AIå·¥å…·æ™®éç¼ºä¹è®°å¿†èƒ½åŠ›ï¼Œç”¨æˆ·æ¯æ¬¡ä¼šè¯éƒ½éœ€é‡å¤ä¿¡æ¯ï¼Œæ— æ³•å½¢æˆä¸ªæ€§åŒ–æœåŠ¡ï¼Œæ›´ä¸å¯èƒ½æˆä¸ºä¸“å±â€˜é¡¾é—®â€™ã€‚</p>
<p>â€œAppæŠ€æœ¯ã€å¤§æ¨¡å‹èµ„æºéƒ½èƒ½åŒè´¨åŒ–ï¼Œä½†å¯¹ç”¨æˆ·çš„æ·±åº¦è®°å¿†èƒ½åŠ›ï¼Œå°†æˆä¸ºé‡‘èæœºæ„çš„æ ¸å¿ƒå£å’ã€‚â€æ¢å¯é¸¿è§£é‡Šé“ï¼Œè€Œè¿™å°±è¦æ±‚AIå…·å¤‡ç±»äººè„‘çš„è®°å¿†ä½“ç³»ã€‚</p>
<p>ä»–è¿˜å°†AIè®°å¿†åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<p>æƒ…æ™¯è®°å¿†ï¼Œè®°å½•ç”¨æˆ·äº¤äº’åœºæ™¯ä¸æ—¶é—´ï¼›</p>
<p>è¯­ä¹‰è®°å¿†ï¼Œå­˜å‚¨é£é™©åå¥½ã€æŠ•èµ„ç†å¿µç­‰é•¿æœŸä¿¡æ¯ï¼›</p>
<p>ç¨‹åºè®°å¿†ï¼Œåˆ™çº¦æŸAIè¡Œä¸ºè¾¹ç•Œã€‚</p>
<p>æ¢å¯é¸¿ç§°ï¼Œé€šè¿‡è®°å¿†åŠç®—æ³•ï¼Œè®©AIèƒ½ä»å¯¹è¯ä¸­æå–ä¿¡æ¯å¹¶åˆ†ç±»å­˜å‚¨ï¼Œä¸‹æ¬¡äº¤äº’æ—¶è‡ªåŠ¨è°ƒå–åŒ¹é…ï¼Œå®ç°çœŸæ­£â€œä¸€äººä¸€é¢â€çš„ä¸“å±æœåŠ¡ï¼Œè®©ç³»ç»Ÿä¸å†ä¾èµ–äºç»™ç¾¤ä½“æ‰“æ ‡ç­¾ï¼Œè€Œæ˜¯æ·±åˆ»ç†è§£å¹¶é€‚é…æ¯ä¸€ä½ç”¨æˆ·çš„ç‹¬ç‰¹æ€§ã€‚</p>
<p>è¿™ç§è®°å¿†èƒ½åŠ›ç›´æ¥è½¬åŒ–ä¸ºç”¨æˆ·ç²˜æ€§ã€‚</p>
<p>â€œå½“ç”¨æˆ·ä¹ æƒ¯äº†AIè®°ä½ä»–çš„æŒä»“æƒ…å†µã€å¸‚åœºæ³¢åŠ¨æ—¶çš„æƒ…ç»ªååº”ï¼Œç”šè‡³ç”Ÿæ´»å˜æ•…å¸¦æ¥çš„é£é™©åå¥½å˜åŒ–ï¼Œå°±ç›¸å½“äºæŠŠå¤–è„‘æ‰˜ç®¡ç»™äº†é‡‘èæœºæ„ã€‚â€æ¢å¯é¸¿ä¸¾ä¾‹ï¼Œè‹¥ç”¨æˆ·æåŠå­©å­å‚åŠ éŸ³ä¹ä¼šï¼ŒAIå¯ä¸»åŠ¨é—®å€™å¹¶ç»“åˆå®¶åº­æƒ…å†µè°ƒæ•´æŠ•èµ„å»ºè®®ï¼Œè¿™ç§é™ªä¼´å¼æœåŠ¡è®©ç”¨æˆ·éš¾ä»¥åˆ‡æ¢å¹³å°ã€‚</p>
<p>â€œåœ¨åŒè´¨åŒ–ç«äº‰ä¸­ï¼Œè°å…ˆåšå¥½è®°å¿†èƒ½åŠ›ï¼Œè°å°±èƒ½å…ˆæŠ¢å ç”¨æˆ·å¿ƒæ™ºã€‚â€</p>
<p><strong>é‡‘èAIè¦å®ç°æ™ºèƒ½åˆè§„ï¼Œé¿å…å£æ— é®æ‹¦</strong></p>
<p>åˆè§„æ˜¯AIæŠ€æœ¯åœ¨é‡‘èè¡Œä¸šè½åœ°çš„é¦–è¦åŸåˆ™ã€‚</p>
<p>æ¢å¯é¸¿å¦è¨€ï¼ŒAIçš„æ¦‚ç‡æ€§è¾“å‡ºç‰¹æ€§ä¸é‡‘èä¸šå¯å®¡è®¡ã€å¯è¿½æº¯çš„è¦æ±‚å­˜åœ¨å¤©ç„¶çŸ›ç›¾ã€‚â€œAIå¯èƒ½è¢«ç”¨æˆ·å¼•å¯¼è¯´å‡ºä¸åˆè§„è¨€è®ºï¼Œä¸€æ—¦å¼•å‘æŠ•è¯‰ï¼Œæœºæ„å°†é¢ä¸´åˆè§„é£é™©ã€‚â€</p>
<p>æ¢å¯é¸¿è®¤ä¸ºï¼Œé‡‘èAIè¦è§£å†³å¦‚ä½•â€œè®°ä½â€å®¢æˆ·çš„ä¸€åˆ‡ç›¸å…³ä¿¡æ¯çš„é—®é¢˜ï¼Œä»è€Œåœ¨æ¯æ¬¡å¤§æ¨¡å‹æ¨ç†çš„æ—¶å€™ï¼ŒæŠŠä¸å½“å‰ç”¨æˆ·é—®é¢˜å…³è”çš„è®°å¿†æå–å‡ºæ¥ï¼Œä¾›æ¨¡å‹å»æ€è€ƒã€æ¨ç†ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç›¸å½“äºè®©å¤§æ¨¡å‹å…·å¤‡KYCï¼ˆäº†è§£ä½ çš„å®¢æˆ·ï¼‰çš„èƒ½åŠ›ï¼Œç”Ÿæˆç¬¦åˆé€‚å½“æ€§ç®¡ç†è¦æ±‚çš„å›å¤ï¼Œå¹¶é€šè¿‡åˆè§„æŠ¤æ åšæœ€åçš„æŠŠå…³ï¼Œç¡®ä¿å¤§æ¨¡å‹è¿™ç§æ¦‚ç‡æ€§åœ°ç”Ÿæˆï¼Œèƒ½ç»“åˆâ€œç¡¬ç¼–ç â€ï¼ˆå†³ç­–æ ‘ã€è§„åˆ™å¼•æ“ï¼‰ï¼Œè¾“å‡ºå…·æœ‰é«˜åº¦ä¸€è‡´æ€§çš„å†…å®¹ã€‚æ™ºèƒ½ï¼Œä¸ä»…ä½“ç°åœ¨æ¨¡å‹çš„å¼ºå¤§ï¼Œåœ¨é‡‘èæœåŠ¡ä¸­ï¼Œæ›´åŠ ä½“ç°ä¸ºä¸€è´¯æ€§å’Œè¿ç»­æ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82c8f1ea212548cdb6a2d59a2009dc42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRmluQ2xpcA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632599&amp;x-signature=tqhcX4Zd2Z92Fin87pQy%2BwoZNS4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¢å¯é¸¿å¼ºè°ƒï¼Œé‡‘èAIè½åœ°çš„å…³é”®ä¸æ˜¯æŠ€æœ¯ç‚«é…·ï¼Œè€Œæ˜¯è§£å†³å®é™…é—®é¢˜ã€‚</p>
<p>â€œå¾ˆå¤šæœºæ„ä»¥ä¸ºå¯¹æ¥å¤§æ¨¡å‹å°±å®Œæˆäº†AIè½¬å‹ï¼Œå´å¿½è§†äº†ä¸­å°æ­å»ºã€è®°å¿†ä½“ç³»æ„å»ºè¿™äº›å·¥ç¨‹æ´»ã€‚åªæœ‰æ‰“ç ´æŠ€æœ¯ä¸ä¸šåŠ¡çš„å‰²è£‚ï¼Œå›´ç»•KYCä¸é€‚å½“æ€§ç®¡ç†åšæ·±åšé€ï¼ŒAIæ‰èƒ½çœŸæ­£ä¸ºé‡‘èä¸šåˆ›é€ ä»·å€¼ã€‚â€</p>
<p><strong>é‡‘èAIåº”â€œäººåœ¨ç¯ä¸­â€ï¼Œä¸èƒ½æ— äººé©¾é©¶</strong></p>
<p>åŸºäºè®°å¿†èƒ½åŠ›æ„å»ºï¼Œå‡¡æ³°æå®¢æå‡ºâ€œäººæœºååŒä¸‰çº§æ¨¡å¼â€ï¼Œå¯¹åº”è‡ªåŠ¨é©¾é©¶çš„ä¸åŒçº§åˆ«ï¼šé«˜é¢‘ä½é£é™©åœºæ™¯ç”±AIå…¨è‡ªåŠ¨å¤„ç†ï¼Œä¸­é¢‘ä¸­é£é™©åœºæ™¯éœ€çœŸäººæŠ•é¡¾ç›‘ç£ç¡®è®¤ï¼Œä½é¢‘é«˜é£é™©åœºæ™¯å¦‚å®¶æ—ä¿¡æ‰˜è§„åˆ’åˆ™ç”±çœŸäººä¸»å¯¼ï¼ŒAIä»…æä¾›æŠ•èµ„è€…æ•™è‚²æ”¯æŒã€‚</p>
<p>â€œè¿™ç§æ¨¡å¼æ—¢æ‰©å¤§äº†æŠ•é¡¾æœåŠ¡åŠå¾„ï¼Œè®©ä¸€äººæœåŠ¡50äººæå‡è‡³500äººï¼Œåˆé€šè¿‡åˆè§„æ¡†æ¶ä¿éšœæœåŠ¡è´¨é‡ï¼Œå®ç°é™æœ¬å¢æ•ˆä¸é£é™©æ§åˆ¶çš„å¹³è¡¡ã€‚â€</p>
<p>å¯¹äºé‡‘èæœºæ„Appçš„æœªæ¥å½¢æ€ï¼Œæ¢å¯é¸¿æç»˜äº†äººæ ¼åŒ–è¶…çº§Appçš„è“å›¾ï¼šä»¥AIä¼šè¯ä¸ºå…¥å£ï¼ŒåŸæœ‰UIé€æ¸ç®€åŒ–ï¼Œç”¨æˆ·æ„å›¾é€šè¿‡AIå³æ—¶ç”Ÿæˆçš„UIã€å°ç¨‹åºæ¥å®Œæˆï¼Œå¹¶å®ç°human in the loopçš„äººæœºååŒï¼Œä»è€Œå®ç°â€œå¯¼èˆªå˜å¯¼è´­ï¼Œäº¤æµä¸­äº¤æ˜“ï¼Œä¼šè¯å³æœåŠ¡â€ã€‚ä»–è®¤ä¸ºï¼Œé‡‘èæœºæ„AIè½¬å‹çš„å·®å¼‚åŒ–æ ¹æœ¬ç«äº‰ç‚¹ï¼Œåœ¨äºâ€œAIçš„è®°å¿†ä¸åˆè§„èƒ½åŠ›â€ã€‚</p>
<p>â€”ENDâ€”</p>
<p><strong>å…³äºFinClip Chatkit</strong></p>
<p>Chatkitæ˜¯å‡¡æ³°æå®¢FinClipè¶…çº§åº”ç”¨æ™ºèƒ½å¹³å°çš„ä¸€æ¬¡é‡å¤§èƒ½åŠ›å‡çº§ï¼Œå®ƒèƒ½åŠ©åŠ›ä¼ä¸šæ„å»ºå…·å¤‡æ·±åº¦ä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€æµå¼ç”ŸæˆåŸç”ŸUIçš„è¶…çº§Appã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MITå¼€æº é¦–æ¬¾P2P-AIBridgeå·¥å…· OoderNexus å‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7602106969697534015</link>    <guid>https://juejin.cn/post/7602106969697534015</guid>    <pubDate>2026-02-02T10:23:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602106969697534015" data-draft-id="7602100217657098282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MITå¼€æº é¦–æ¬¾P2P-AIBridgeå·¥å…· OoderNexus å‘å¸ƒ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-02T10:23:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MITå¼€æº é¦–æ¬¾P2P-AIBridgeå·¥å…· OoderNexus å‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:23:45.000Z" title="Mon Feb 02 2026 10:23:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>OoderAgent V0.6.5 ä½œä¸ºæ ‡å¿—æ€§ç‰ˆæœ¬ï¼Œæ­£å¼è¡¥é½äº†åŸºç¡€ç½‘ç»œç®¡ç†ä¸SkillsæŠ€èƒ½æ‰§è¡Œçš„æ ¸å¿ƒèƒ½åŠ›ï¼Œæ­å»ºèµ·P2P AIé€šä¿¡çš„æ ¸å¿ƒéª¨æ¶ï¼Œä¸ºåç»­å„ç±»AIåº”ç”¨è½åœ°å¥ å®šäº†åšå®åŸºç¡€ã€‚ä½†ä¸å¯å¿½è§†çš„æ˜¯ï¼Œåº•å±‚åè®®çš„æ¯ç‡¥æ™¦æ¶©ã€çº¯å‘½ä»¤è¡Œçš„æ“ä½œæ¨¡å¼ï¼Œå¦‚åŒä¸¤é“é—¨æ§›ï¼Œå°†å¤šæ•°çƒ­çˆ±AIçš„å¼€å‘è€…ã€çˆ±å¥½è€…æŒ¡åœ¨é—¨å¤–ï¼Œè®©æ ¸å¿ƒèƒ½åŠ›éš¾ä»¥è¢«å¿«é€Ÿæ„ŸçŸ¥å’Œåº”ç”¨â€”â€”è¿™ä¹Ÿæ˜¯NexusåŸºäºè¯¥ç‰ˆæœ¬å¼€å‘çš„æ ¸å¿ƒåˆè¡·ï¼Œç”¨å¯è§†åŒ–é¡µé¢æ‰“ç ´é—¨æ§›ï¼Œè®©æŠ€æœ¯èƒ½åŠ›æ›´æ˜“è§¦è¾¾ã€‚</p>
<p>å¼€æºåœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FooderCN%2Fooder-nexus.git" target="_blank" title="https://gitee.com/ooderCN/ooder-nexus.git" ref="nofollow noopener noreferrer">gitee.com/ooderCN/oodâ€¦</a></p>
<p><strong>è¿™ä¸ªç‰ˆæœ¬åŒ…å«äº†å“ªäº›åŠŸèƒ½ï¼š</strong></p>
<p>è¿™ä¸ªç‰ˆæœ¬æ˜¯ä¸€ä¸ªå¼€å‘è€…ç¤ºä¾‹å·¥ç¨‹ï¼ŒåŒ…å«äº†ä¸€äº›å¸¸è§åœºæ™¯ä¸­çš„ç¤ºä¾‹ç®¡ç†ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨SkillsCenter çš„ AIBridge åŠŸèƒ½å°†å®¶é‡Œæˆ–è€…å…¬å¸çš„è·¯ç”±å™¨ã€NASè®¾å¤‡ã€æ™ºèƒ½å®¶å±…ç½‘å…³ç­‰è®¾å¤‡å®‰è£…ä¸Šç›¸åº”çš„ï¼ŒooderAgent å°±å¯ä»¥ä½¿ç”¨ï¼ŒNexus å¼€å‘åŒ…å°†ï¼Œè¿™äº›è®¾å¤‡çš„èƒ½åŠ›å®ç°å¯è§†åŒ–ï¼ŒåŒæ—¶å°†å…¶ç¼–å…¥åˆ°SkillFlowä¸­ï¼Œæ‰©å±•AIçš„èƒ½åŠ›ã€‚å¦å¤–è¿™ä¸ªç‰ˆæœ¬è¿˜æä¾›äº†ï¼Œå…³äºåœºæ™¯ã€åœºæ™¯ç»„ã€ä»¥åŠèƒ½åŠ›ç®¡ç†ç­‰ç›¸å…³çš„åŸºç¡€çš„ç¤ºä¾‹ç®¡ç†ç¨‹åºã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªèº«çš„ä¸šåŠ¡éœ€æ±‚æ„å»ºå±äºè‡ªå·±çš„SuperAgent åˆ†å‘ç¨‹åºã€‚</p>
<p><strong>é¢„è§ˆç‰ˆæˆªå›¾ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e20b874e565470484a441cc7313cb28~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632625&amp;x-signature=atQbSFUKdfaGp5KnEfIimxd0PWI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c481bd7ae4504c489f035d11216766e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632625&amp;x-signature=ivbnQ3PdUohSsM3V5RLX4hHZCc8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b7f6e22f5c443b0a152eb6959927fdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632625&amp;x-signature=n8rBj%2BLhdqn%2FMMgWVkRWJRp5bUI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b17295cc80654cceb8c24ba8b5b0dd7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632625&amp;x-signature=PRADHkLGifTxySZOJm%2FPSP6eHB4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9afe2dac52214777abaf295cc7c7f475~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632625&amp;x-signature=uf7iltguYWOI7HbJHa9NsppQKs0%3D" alt="å›¾ç‰‡" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini CLI Skill å¼€å‘å®æˆ˜ï¼šåˆ›å»ºä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ Git æ—¥å¿—çš„æŠ€èƒ½]]></title>    <link>https://juejin.cn/post/7602073088427950095</link>    <guid>https://juejin.cn/post/7602073088427950095</guid>    <pubDate>2026-02-02T10:01:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602073088427950095" data-draft-id="7602072652606717992" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini CLI Skill å¼€å‘å®æˆ˜ï¼šåˆ›å»ºä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ Git æ—¥å¿—çš„æŠ€èƒ½"/> <meta itemprop="keywords" content="Gemini,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-02T10:01:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³å½“èŠ±åŒ çš„å°ç å†œ"/> <meta itemprop="url" content="https://juejin.cn/user/1625518177271482"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini CLI Skill å¼€å‘å®æˆ˜ï¼šåˆ›å»ºä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆ Git æ—¥å¿—çš„æŠ€èƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1625518177271482/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³å½“èŠ±åŒ çš„å°ç å†œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:01:47.000Z" title="Mon Feb 02 2026 10:01:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡æ¡£è®°å½•äº†å¦‚ä½•ä¸º Gemini CLI åˆ›å»ºä¸€ä¸ªåä¸º <code>git-to-log</code> çš„è‡ªå®šä¹‰æŠ€èƒ½ã€‚è¯¥æŠ€èƒ½å¯ä»¥è‡ªåŠ¨ä»å¤šä¸ª Git ä»“åº“æå–æäº¤è®°å½•ï¼Œå¹¶å°†å…¶æ•´ç†ä¸ºç»“æ„åŒ–çš„æ—¥æŠ¥æˆ–å‘¨æŠ¥å†…å®¹ã€‚</p>
<h2 data-id="heading-0">1. ç›®æ ‡ä¸éœ€æ±‚</h2>
<p><strong>æ ¸å¿ƒç›®æ ‡</strong>ï¼š
è‡ªåŠ¨åŒ–æå– Git æäº¤è®°å½• -&gt; æ™ºèƒ½åˆ†ç±» -&gt; ç”Ÿæˆ Markdown æ—¥å¿—ã€‚</p>
<p><strong>å…·ä½“éœ€æ±‚</strong>ï¼š</p>
<ol>
<li><strong>å¤šä»“åº“æ”¯æŒ</strong>ï¼šèƒ½åŒæ—¶è¯»å– <code>server</code>, <code>proto</code>, <code>configs</code> ç­‰å…³è”ä»“åº“çš„æäº¤ã€‚</li>
<li><strong>çµæ´»å‚æ•°</strong>ï¼šæ”¯æŒæŒ‡å®šæ—¥æœŸèŒƒå›´ï¼ˆå¦‚â€œä»Šå¤©â€ã€â€œä¸Šå‘¨â€ï¼‰å’Œä½œè€…è¿‡æ»¤ã€‚</li>
<li><strong>æ™ºèƒ½åˆ†ç±»</strong>ï¼šæ ¹æ® Commit Message çš„å‰ç¼€ï¼ˆ<code>feat</code>, <code>fix</code>, <code>docs</code> ç­‰ï¼‰è‡ªåŠ¨å½’ç±»ä¸ºâ€œä¸šåŠ¡â€ã€â€œå·¥å…·â€ã€â€œä¿®å¤â€ç­‰ã€‚</li>
<li><strong>æ— ç¼é›†æˆ</strong>ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼ˆå¦‚â€œç”Ÿæˆä»Šå¤©çš„æ—¥æŠ¥â€ï¼‰è§¦å‘ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-1">2. å¼€å‘ç¯å¢ƒå‡†å¤‡</h2>
<p>ç¡®ä¿å·²å®‰è£… Gemini CLIï¼Œå¹¶æ¿€æ´»äº† <code>skill-creator</code> æŠ€èƒ½ï¼ˆå¯é€‰ï¼Œä½†æ¨èç”¨äºè¾…åŠ©ç”Ÿæˆï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¿€æ´»æŠ€èƒ½åˆ›å»ºå‘å¯¼</span>
activate_skill skill-creator
</code></pre>
<hr/>
<h2 data-id="heading-2">3. åˆå§‹åŒ–æŠ€èƒ½</h2>
<p>æˆ‘ä»¬é¦–å…ˆåœ¨ä¸€ä¸ªä¸´æ—¶ç›®å½•æˆ–å·¥ä½œåŒºä¸­åˆå§‹åŒ–æŠ€èƒ½ç»“æ„ã€‚</p>
<p><strong>å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p .gemini_temp/git-to-log

<span class="hljs-comment"># ä½¿ç”¨ skill-creator çš„è„šæœ¬åˆå§‹åŒ–</span>
node &lt;path-to-skill-creator&gt;/scripts/init_skill.cjs git-to-log --path .gemini_temp
</code></pre>
<p><strong>ç”Ÿæˆçš„ç›®å½•ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">git-to-<span class="hljs-keyword">log</span>/
â”œâ”€â”€ SKILL.md           <span class="hljs-comment"># æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ˆå…ƒæ•°æ® + æŒ‡ä»¤ï¼‰</span>
â”œâ”€â”€ scripts/           <span class="hljs-comment"># å¯æ‰§è¡Œè„šæœ¬ç›®å½•</span>
â”‚   â””â”€â”€ fetch_git_logs.cjs  <span class="hljs-comment"># (æˆ‘ä»¬éœ€è¦æ–°å»ºçš„æ ¸å¿ƒè„šæœ¬)</span>
â”œâ”€â”€ references/        <span class="hljs-comment"># å‚è€ƒæ–‡æ¡£ï¼ˆå¯é€‰ï¼‰</span>
â””â”€â”€ assets/            <span class="hljs-comment"># é™æ€èµ„æºï¼ˆå¯é€‰ï¼‰</span>
</code></pre>
<hr/>
<h2 data-id="heading-3">4. ç¼–å†™æ ¸å¿ƒä»£ç </h2>
<h3 data-id="heading-4">4.1 ç¼–å†™æ—¥å¿—æå–è„šæœ¬ (<code>scripts/fetch_git_logs.cjs</code>)</h3>
<p>è¿™ä¸ªè„šæœ¬è´Ÿè´£è°ƒç”¨ç³»ç»Ÿ <code>git</code> å‘½ä»¤ï¼Œå¹¶è¿”å›æ ‡å‡†åŒ–çš„ JSON æ•°æ®ä¾› LLM å¤„ç†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { execSync } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-comment">// è§£æå‚æ•°</span>
<span class="hljs-keyword">const</span> args = process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getArg</span> = (<span class="hljs-params">name</span>) =&gt; {
  <span class="hljs-keyword">const</span> index = args.<span class="hljs-title function_">indexOf</span>(name);
  <span class="hljs-keyword">return</span> index !== -<span class="hljs-number">1</span> ? args[index + <span class="hljs-number">1</span>] : <span class="hljs-literal">null</span>;
};

<span class="hljs-keyword">const</span> since = <span class="hljs-title function_">getArg</span>(<span class="hljs-string">'--since'</span>) || <span class="hljs-string">'1 day ago'</span>;
<span class="hljs-keyword">const</span> until = <span class="hljs-title function_">getArg</span>(<span class="hljs-string">'--until'</span>);
<span class="hljs-keyword">const</span> author = <span class="hljs-title function_">getArg</span>(<span class="hljs-string">'--author'</span>);
<span class="hljs-keyword">const</span> reposArg = <span class="hljs-title function_">getArg</span>(<span class="hljs-string">'--repos'</span>);
<span class="hljs-keyword">const</span> repos = reposArg ? reposArg.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>) : [<span class="hljs-string">'.'</span>];

<span class="hljs-keyword">const</span> allLogs = [];

repos.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">repoPath</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> resolvedPath = path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), repoPath);
  
  <span class="hljs-keyword">if</span> (!fs.<span class="hljs-title function_">existsSync</span>(path.<span class="hljs-title function_">join</span>(resolvedPath, <span class="hljs-string">'.git'</span>))) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> repoName = path.<span class="hljs-title function_">basename</span>(resolvedPath);
  
  <span class="hljs-comment">// æ„é€  git log å‘½ä»¤</span>
  <span class="hljs-keyword">let</span> cmd = <span class="hljs-string">`git -C "<span class="hljs-subst">${resolvedPath}</span>" log --since="<span class="hljs-subst">${since}</span>" --pretty=format:"%h|%ad|%an|%s" --date=short`</span>;
  <span class="hljs-keyword">if</span> (until) cmd += <span class="hljs-string">` --until="<span class="hljs-subst">${until}</span>"`</span>;
  <span class="hljs-keyword">if</span> (author) cmd += <span class="hljs-string">` --author="<span class="hljs-subst">${author}</span>"`</span>;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> output = <span class="hljs-title function_">execSync</span>(cmd, { <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf8'</span> });
    <span class="hljs-keyword">if</span> (!output) <span class="hljs-keyword">return</span>;

    output.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">line</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> [hash, date, commitAuthor, message] = line.<span class="hljs-title function_">split</span>(<span class="hljs-string">'|'</span>);
      allLogs.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">repo</span>: repoName,
        hash,
        date,
        <span class="hljs-attr">author</span>: commitAuthor,
        message
      });
    });
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error fetching logs from <span class="hljs-subst">${repoName}</span>:`</span>, error.<span class="hljs-property">message</span>);
  }
});

<span class="hljs-comment">// æŒ‰æ—¶é—´å€’åºæ’åˆ—</span>
allLogs.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(b.<span class="hljs-property">date</span>) - <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(a.<span class="hljs-property">date</span>));

<span class="hljs-comment">// è¾“å‡º JSON</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(allLogs, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
</code></pre>
<h3 data-id="heading-5">4.2 é…ç½®æŠ€èƒ½å®šä¹‰ (<code>SKILL.md</code>)</h3>
<p>è¿™æ˜¯ Gemini ç†è§£å’Œä½¿ç”¨æŠ€èƒ½çš„â€œè¯´æ˜ä¹¦â€ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸­æ–‡ç¼–å†™ä»¥æé«˜å¯ç»´æŠ¤æ€§ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">---
name: git-to-log
<span class="hljs-section">description: ä»å¤šä¸ª Git ä»“åº“æå–æäº¤è®°å½•å¹¶æ ¼å¼åŒ–ä¸ºæ—¥æŠ¥æˆ–å‘¨æŠ¥ã€‚å½“ç”¨æˆ·è¦æ±‚â€œç”Ÿæˆæ—¥å¿—â€ã€â€œæ›´æ–°æ—¥æŠ¥â€ã€â€œæ±‡æ€» Git æäº¤â€æˆ–â€œåˆ›å»ºå‘¨æŠ¥æ€»ç»“â€æ—¶ä½¿ç”¨ã€‚
---</span>

<span class="hljs-section"># Git æ—¥å¿—ç”ŸæˆæŠ€èƒ½ (Git to Log)</span>

æ­¤æŠ€èƒ½ç”¨äºè‡ªåŠ¨åŒ–æå–å¤šä¸ª Git ä»“åº“çš„æäº¤å†å²ï¼Œå¹¶å°†å…¶æ•´ç†ä¸ºç»“æ„åŒ–çš„ Markdown å·¥ä½œæ—¥å¿—ã€‚

<span class="hljs-section">## å·¥ä½œæµç¨‹</span>

<span class="hljs-bullet">1.</span>  <span class="hljs-strong">**ç¡®å®šå‚æ•°**</span>:
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**æ—¥æœŸèŒƒå›´**</span>: è§£æç”¨æˆ·æŒ‡ä»¤ä¸­çš„æ—¶é—´ï¼ˆå¦‚â€œä»Šå¤©â€ã€â€œä¸Šå‘¨â€ï¼‰ã€‚é»˜è®¤ä¸º "1 day ago"ã€‚
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**ä»“åº“åˆ—è¡¨**</span>: é»˜è®¤æ£€æŸ¥å½“å‰ç›®å½• (<span class="hljs-code">`.`</span>) åŠå…„å¼Ÿç›®å½•ï¼ˆå¦‚ <span class="hljs-code">`../proto`</span>, <span class="hljs-code">`../configs`</span>ï¼‰ã€‚
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**ä½œè€…**</span>: é»˜è®¤ä¸ºå½“å‰ Git ç”¨æˆ·ï¼Œå¯æŒ‡å®šè¿‡æ»¤ã€‚

<span class="hljs-bullet">2.</span>  <span class="hljs-strong">**è·å–æ—¥å¿—**</span>:
<span class="hljs-bullet">    *</span>   è°ƒç”¨è„šæœ¬: <span class="hljs-code">`node &lt;æŠ€èƒ½è·¯å¾„&gt;/scripts/fetch_git_logs.cjs ...`</span>

<span class="hljs-bullet">3.</span>  <span class="hljs-strong">**å¤„ç†ä¸åˆ†ç±»**</span>:
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**è¿‡æ»¤**</span>: å¿½ç•¥ Merge commitsã€‚
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**åˆ†ç±»**</span>:
<span class="hljs-bullet">        *</span>   <span class="hljs-code">`feat(...)`</span> -&gt; <span class="hljs-strong">**ä¸šåŠ¡**</span> / <span class="hljs-strong">**å·¥å…·**</span>
<span class="hljs-bullet">        *</span>   <span class="hljs-code">`fix(...)`</span> -&gt; <span class="hljs-strong">**ä¿®å¤**</span>
<span class="hljs-bullet">        *</span>   <span class="hljs-code">`docs(...)`</span> -&gt; <span class="hljs-strong">**æ–‡æ¡£**</span>
<span class="hljs-bullet">        *</span>   <span class="hljs-code">`chore/build/ci`</span> -&gt; <span class="hljs-strong">**éƒ¨ç½²**</span> / <span class="hljs-strong">**æ¡†æ¶**</span>

<span class="hljs-bullet">4.</span>  <span class="hljs-strong">**æ‰§è¡Œæ“ä½œ**</span>:
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**å±•ç¤º**</span>: ç›´æ¥æ‰“å°ç»“æœã€‚
<span class="hljs-bullet">    *</span>   <span class="hljs-strong">**æ›´æ–°æ–‡ä»¶**</span>: è¯»å–æŒ‡å®šæ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚ <span class="hljs-code">`2026-01.md`</span>ï¼‰ï¼Œæ’å…¥å†…å®¹åä¿å­˜ã€‚
</code></pre>
<hr/>
<h2 data-id="heading-6">5. æ‰“åŒ…ä¸å®‰è£…</h2>
<p>ä¸ºäº†æ–¹ä¾¿åˆ†å‘å’Œç®¡ç†ï¼Œæˆ‘ä»¬éœ€è¦å°†æŠ€èƒ½æ‰“åŒ…ä¸º <code>.skill</code> æ–‡ä»¶ã€‚</p>
<p><strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ¸…ç†å†—ä½™æ–‡ä»¶</strong>ï¼šåˆ é™¤åˆå§‹åŒ–æ—¶ç”Ÿæˆçš„ <code>example_script.cjs</code> ç­‰ã€‚</p>
</li>
<li>
<p><strong>æ‰“åŒ…</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node &lt;path-to-skill-creator&gt;/scripts/package_skill.cjs .gemini_temp/git-to-log .gemini_temp
</code></pre>
<p>è¿™å°†ç”Ÿæˆ <code>.gemini_temp/git-to-log.skill</code> æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>å®‰è£…åˆ°ç”¨æˆ·å…¨å±€èŒƒå›´ (User Scope)</strong>ï¼š
æ¨èå®‰è£…åˆ° User Scopeï¼Œè¿™æ ·æŠ€èƒ½åœ¨ä»»ä½•é¡¹ç›®ç›®å½•ä¸‹éƒ½å¯ç”¨ï¼Œä¸”ä¸ä¼šæ±¡æŸ“ç‰¹å®šé¡¹ç›®çš„ git ä»“åº“ã€‚</p>
<pre><code class="hljs language-gemini" lang="gemini"/></pre>
</li>
</ol>
<p>skills install .gemini_temp/git-to-log.skill --scope user
```</p>
<ol start="4">
<li>
<p><strong>æ¸…ç†ä¸´æ—¶æ–‡ä»¶</strong>ï¼š
å®‰è£…å®Œæˆåï¼Œ<code>.gemini_temp</code> ç›®å½•å¯ä»¥åˆ é™¤ã€‚</p>
</li>
<li>
<p><strong>é‡è½½æŠ€èƒ½</strong>ï¼š
åœ¨ Gemini CLI äº¤äº’ç•Œé¢è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/skills reload
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-7">6. ä½¿ç”¨ Git ç®¡ç†ä¸ªäººæŠ€èƒ½</h2>
<p>ä¸ºäº†é˜²æ­¢æŠ€èƒ½ä¸¢å¤±å¹¶æ–¹ä¾¿å¤šæœºåŒæ­¥ï¼Œå»ºè®®å°† <code>~/.gemini/skills</code> ç›®å½•çº³å…¥ Git ç®¡ç†ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~/.gemini/skills
git init
<span class="hljs-built_in">echo</span> <span class="hljs-string">".DS_Store\n*.skill"</span> &gt; .gitignore
git add .
git commit -m <span class="hljs-string">"Initial commit: Add git-to-log skill"</span>

<span class="hljs-comment"># (å¯é€‰) æ¨é€åˆ°è¿œç¨‹ä»“åº“</span>
<span class="hljs-comment"># git remote add origin git@github.com:username/my-gemini-skills.git</span>
<span class="hljs-comment"># git push -u origin main</span>
</code></pre>
<p>è¿™æ ·ï¼Œå½“ä½ éœ€è¦ä¿®æ”¹æŠ€èƒ½é€»è¾‘æ—¶ï¼š</p>
<ol>
<li>ç›´æ¥ä¿®æ”¹ <code>~/.gemini/skills/git-to-log/SKILL.md</code>ã€‚</li>
<li>è¿è¡Œ <code>/skills reload</code> æµ‹è¯•ã€‚</li>
<li>æµ‹è¯•é€šè¿‡å <code>git commit</code> æäº¤ä»£ç ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">7. ä½¿ç”¨æ•ˆæœ</h2>
<p><strong>ç”¨æˆ·</strong>: "ç”Ÿæˆä»Šå¤©çš„æ—¥å¿—"</p>
<p><strong>Gemini</strong>:</p>
<ol>
<li>è‡ªåŠ¨æ‰§è¡Œ <code>fetch_git_logs.cjs</code> è·å–ä»Šå¤© <code>server</code>, <code>proto</code>, <code>configs</code> çš„æäº¤ã€‚</li>
<li>è¯†åˆ«åˆ°æäº¤ <code>feat(task): Add new feature</code>ï¼Œåˆ†ç±»ä¸ºâ€œä¸šåŠ¡â€ã€‚</li>
<li>ç”Ÿæˆå¦‚ä¸‹ Markdown å¹¶å±•ç¤ºï¼š</li>
</ol>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## 2026-02-02 å‘¨ä¸€</span>
<span class="hljs-bullet">-</span> ä¸šåŠ¡: Add new feature
<span class="hljs-bullet">-</span> å·¥å…·: Fix build script
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æŠ€æœ¯ä¸“é¢˜ã€‘Scikit-learn Pythonæœºå™¨å­¦ä¹  - èšç±»åˆ†æç®—æ³•ä¹‹DBSCANï¼ˆåŸºäºå¯†åº¦çš„å™ªå£°åº”ç”¨ç©ºé—´èšç±»ï¼‰]]></title>    <link>https://juejin.cn/post/7601946979606478875</link>    <guid>https://juejin.cn/post/7601946979606478875</guid>    <pubDate>2026-02-02T10:16:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601946979606478875" data-draft-id="7602091087922511922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æŠ€æœ¯ä¸“é¢˜ã€‘Scikit-learn Pythonæœºå™¨å­¦ä¹  - èšç±»åˆ†æç®—æ³•ä¹‹DBSCANï¼ˆåŸºäºå¯†åº¦çš„å™ªå£°åº”ç”¨ç©ºé—´èšç±»ï¼‰"/> <meta itemprop="keywords" content="æœºå™¨å­¦ä¹ ,äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2026-02-02T10:16:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é”‹java1234"/> <meta itemprop="url" content="https://juejin.cn/user/4152222342709933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æŠ€æœ¯ä¸“é¢˜ã€‘Scikit-learn Pythonæœºå™¨å­¦ä¹  - èšç±»åˆ†æç®—æ³•ä¹‹DBSCANï¼ˆåŸºäºå¯†åº¦çš„å™ªå£°åº”ç”¨ç©ºé—´èšç±»ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4152222342709933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é”‹java1234
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:16:34.000Z" title="Mon Feb 02 2026 10:16:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é”‹å“¥ã€‚æœ€è¿‘è¿è½½æ›´æ–°ã€ŠScikit-learn Pythonæœºå™¨å­¦ä¹ ã€‹æŠ€æœ¯ä¸“é¢˜ã€‚ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b763680708504700b1f5a093b63ceaf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6ZSLamF2YTEyMzQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632197&amp;x-signature=6ZQieVSOYCbXksnFX8j1UMDBs48%3D" alt="image.png" loading="lazy"/> æœ¬è¯¾ç¨‹ä¸»è¦è®²è§£åŸºäºScikit-learnçš„Pythonæœºå™¨å­¦ä¹ çŸ¥è¯†ï¼ŒåŒ…æ‹¬æœºå™¨å­¦ä¹ æ¦‚è¿°ï¼Œç‰¹å¾å·¥ç¨‹(æ•°æ®é›†ï¼Œç‰¹å¾æŠ½å–ï¼Œç‰¹å¾é¢„å¤„ç†ï¼Œç‰¹å¾é™ç»´ç­‰)ï¼Œåˆ†ç±»ç®—æ³•(K-ä¸´è¿‘ç®—æ³•ï¼Œæœ´ç´ è´å¶æ–¯ç®—æ³•ï¼Œå†³ç­–æ ‘ç­‰)ï¼Œå›å½’ä¸èšç±»ç®—æ³•(çº¿æ€§å›å½’ï¼Œæ¬ æ‹Ÿåˆï¼Œé€»è¾‘å›å½’ä¸äºŒåˆ†ç±»ï¼ŒK-meansç®—æ³•)ç­‰ã€‚ åŒæ—¶ä¹Ÿé…å¥—è§†é¢‘æ•™ç¨‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11reUzEEPH%2F" title="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11reUzEEPH%2F" target="_blank">ã€ŠScikit-learn Pythonæœºå™¨å­¦ä¹  è§†é¢‘æ•™ç¨‹ã€‹</a></p>
<p>DBSCANï¼ˆDensity-Based Spatial Clustering of Applications with Noiseï¼‰æ˜¯ä¸€ç§åŸºäºå¯†åº¦çš„èšç±»ç®—æ³•ï¼Œç”±Martin Esterã€Hans-Peter Kriegelã€JÃ¶rg Sanderå’ŒXiaowei Xuäº1996å¹´æå‡ºã€‚ä¸K-meansç­‰åŸºäºè·ç¦»çš„èšç±»æ–¹æ³•ä¸åŒï¼ŒDBSCANèƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¯†åˆ«å‡ºå™ªå£°ç‚¹ã€‚</p>
<h2 data-id="heading-0">DBSCANçš„åŸºæœ¬æ¦‚å¿µ</h2>
<ol start="0">
<li>
<p><strong>æ ¸å¿ƒç‚¹ï¼ˆCore Pointï¼‰</strong> ï¼š</p>
<ul>
<li>å¦‚æœæŸä¸ªç‚¹çš„Îµé‚»åŸŸå†…ï¼ˆåŠå¾„ä¸ºÎµçš„åŒºåŸŸï¼‰åŒ…å«è‡³å°‘<code>MinPts</code>ä¸ªç‚¹ï¼ˆåŒ…æ‹¬è¯¥ç‚¹æœ¬èº«ï¼‰ï¼Œåˆ™è¯¥ç‚¹è¢«è®¤ä¸ºæ˜¯æ ¸å¿ƒç‚¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç•Œç‚¹ï¼ˆBorder Pointï¼‰</strong> ï¼š</p>
<ul>
<li>è¾¹ç•Œç‚¹æ˜¯æŒ‡ä¸å±äºæ ¸å¿ƒç‚¹ï¼Œä½†ä½äºæŸä¸ªæ ¸å¿ƒç‚¹çš„Îµé‚»åŸŸå†…çš„ç‚¹ã€‚è¾¹ç•Œç‚¹çš„é‚»åŸŸå†…çš„ç‚¹æ•°å°äº<code>MinPts</code>ï¼Œå› æ­¤ä¸èƒ½å½¢æˆæ ¸å¿ƒç‚¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>å™ªå£°ç‚¹ï¼ˆNoise Pointï¼‰</strong> ï¼š</p>
<ul>
<li>å¦‚æœä¸€ä¸ªç‚¹æ—¢ä¸æ˜¯æ ¸å¿ƒç‚¹ï¼Œä¹Ÿä¸åœ¨ä»»ä½•æ ¸å¿ƒç‚¹çš„Îµé‚»åŸŸå†…ï¼Œå®ƒå°±æ˜¯å™ªå£°ç‚¹ã€‚å™ªå£°ç‚¹ä¸å±äºä»»ä½•ç°‡ã€‚</li>
</ul>
</li>
<li>
<p><strong>Îµé‚»åŸŸï¼ˆEpsilon Neighborhoodï¼‰</strong> ï¼š</p>
<ul>
<li>ç»™å®šä¸€ä¸ªç‚¹<code>P</code>å’Œä¸€ä¸ªè·ç¦»é˜ˆå€¼<code>Îµ</code>ï¼ŒÎµé‚»åŸŸæŒ‡çš„æ˜¯è·ç¦»ç‚¹<code>P</code>å°äºæˆ–ç­‰äº<code>Îµ</code>çš„æ‰€æœ‰ç‚¹ç»„æˆçš„åŒºåŸŸã€‚</li>
</ul>
</li>
<li>
<p><strong>MinPtsï¼ˆæœ€å°é‚»åŸŸç‚¹æ•°ï¼‰</strong> ï¼š</p>
<ul>
<li><code>MinPts</code>æ˜¯æŒ‡ä¸€ä¸ªç‚¹è¢«è®¤ä¸ºæ˜¯æ ¸å¿ƒç‚¹æ‰€éœ€çš„æœ€å°é‚»åŸŸç‚¹æ•°ã€‚é€šå¸¸<code>MinPts</code>è®¾ç½®ä¸ºæ•°æ®ç»´åº¦çš„2å€æˆ–æ›´å¤§ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-1">DBSCANçš„å·¥ä½œåŸç†</h2>
<p>DBSCANçš„èšç±»è¿‡ç¨‹æ˜¯é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤å®ç°çš„ï¼š</p>
<ol start="0">
<li>
<p><strong>é€‰æ‹©ä¸€ä¸ªæœªè®¿é—®çš„ç‚¹</strong>ï¼šä»æ•°æ®é›†ä¸­é€‰æ‹©ä¸€ä¸ªæœªè¢«è®¿é—®çš„ç‚¹ã€‚</p>
</li>
<li>
<p>æ£€æŸ¥è¯¥ç‚¹çš„Îµé‚»åŸŸ</p>
<p>ï¼šè®¡ç®—è¯¥ç‚¹çš„Îµé‚»åŸŸå†…åŒ…å«çš„ç‚¹çš„æ•°é‡ã€‚</p>
<ul>
<li>å¦‚æœé‚»åŸŸå†…çš„ç‚¹æ•°å¤§äºæˆ–ç­‰äº<code>MinPts</code>ï¼Œè¯¥ç‚¹æ˜¯æ ¸å¿ƒç‚¹ï¼Œç®—æ³•å¼€å§‹æ‰©å±•ä¸€ä¸ªç°‡ã€‚æ‰€æœ‰ä½äºè¯¥ç‚¹çš„Îµé‚»åŸŸå†…çš„ç‚¹éƒ½å°†è¢«åŠ å…¥åˆ°ç°‡ä¸­ã€‚</li>
<li>å¦‚æœé‚»åŸŸå†…çš„ç‚¹æ•°å°äº<code>MinPts</code>ï¼Œåˆ™è¯¥ç‚¹æ˜¯å™ªå£°ç‚¹ï¼Œæš‚æ—¶æ ‡è®°ä¸ºå™ªå£°ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰©å±•ç°‡</strong>ï¼šå¯¹äºæ ¸å¿ƒç‚¹çš„é‚»åŸŸå†…çš„æ¯ä¸ªç‚¹ï¼Œé‡å¤ä¸Šè¿°æ­¥éª¤ã€‚å¦‚æœé‚»åŸŸå†…çš„æŸä¸ªç‚¹æ˜¯æ ¸å¿ƒç‚¹ï¼Œåˆ™ç»§ç»­æ‰©å±•ç°‡ã€‚</p>
</li>
<li>
<p><strong>ç»§ç»­æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«è®¿é—®è¿‡</strong>ã€‚</p>
</li>
</ol>
<h2 data-id="heading-2">DBSCANçš„æ•°å­¦å…¬å¼åŸç†</h2>
<p>DBSCANçš„å…¬å¼ä¸è®¡ç®—è·ç¦»ã€é‚»åŸŸå’Œå¯†åº¦ç­‰æ¦‚å¿µç´§å¯†ç›¸å…³ï¼Œå…³é”®å…¬å¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6374dbf5f07246a68cf82dd4f192ab80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6ZSLamF2YTEyMzQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632197&amp;x-signature=F9Kc0VCawGqMHgetMmcMQYzbvco%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">DBSCANçš„ä¼˜ç¼ºç‚¹</h2>
<p>ä¼˜ç‚¹ï¼š</p>
<ol start="0">
<li><strong>èƒ½å¤Ÿå‘ç°ä»»æ„å½¢çŠ¶çš„ç°‡</strong>ï¼šä¸åƒK-meanså‡è®¾ç°‡æ˜¯åœ†å½¢çš„ï¼ŒDBSCANå¯ä»¥å¤„ç†ä»»æ„å½¢çŠ¶çš„ç°‡ã€‚</li>
<li><strong>è‡ªåŠ¨è¯†åˆ«å™ªå£°ç‚¹</strong>ï¼šDBSCANå¯ä»¥è‡ªåŠ¨å°†å™ªå£°ç‚¹æ ‡è®°å‡ºæ¥ï¼Œè€Œä¸éœ€è¦é¢å¤–çš„æ“ä½œã€‚</li>
<li><strong>ä¸éœ€è¦é¢„è®¾ç°‡çš„æ•°é‡</strong>ï¼šä¸K-meansä¸åŒï¼ŒDBSCANä¸éœ€è¦ç”¨æˆ·é¢„è®¾ç°‡çš„æ•°é‡ã€‚</li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol start="0">
<li><strong>å¯¹å‚æ•°æ•æ„Ÿ</strong>ï¼šDBSCANä¾èµ–äº<code>Îµ</code>å’Œ<code>MinPts</code>çš„é€‰æ‹©ï¼Œå°¤å…¶æ˜¯<code>Îµ</code>çš„å€¼ï¼Œè¿™å¯èƒ½å½±å“èšç±»æ•ˆæœã€‚</li>
<li><strong>æ— æ³•å¤„ç†å¯†åº¦å·®å¼‚å¤§çš„ç°‡</strong>ï¼šå¦‚æœæ•°æ®é›†åŒ…å«ä¸åŒå¯†åº¦çš„ç°‡ï¼ŒDBSCANå¯èƒ½ä¼šå¤±è´¥ã€‚</li>
<li><strong>é«˜ç»´æ•°æ®çš„æ•ˆæœè¾ƒå·®</strong>ï¼šåœ¨é«˜ç»´æ•°æ®ä¸­ï¼ŒDBSCANå¯èƒ½ä¼šå› ä¸ºç¨€ç–æ€§é—®é¢˜å¯¼è‡´èšç±»ç»“æœä¸ä½³ã€‚</li>
</ol>
<h2 data-id="heading-4">APIä»‹ç»</h2>
<p>åœ¨ <strong>sklearn</strong> ä¸­ï¼ŒDBSCAN çš„å®ç°ç±»æ˜¯ <code>sklearn.cluster.DBSCAN</code> ï¼Œæ„é€ æ–¹æ³•é€šå¸¸å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">sklearn.cluster.DBSCAN(<span class="hljs-attr">eps</span>=<span class="hljs-number">0.5</span>, min_samples=<span class="hljs-number">5</span>, metric=<span class="hljs-string">'euclidean'</span>, algorithm=<span class="hljs-string">'auto'</span>, leaf_size=<span class="hljs-number">30</span>, p=None, n_jobs=None)
</code></pre>
<p>æ ¸å¿ƒå‚æ•°ä»‹ç»ï¼š</p>
<ol start="0">
<li>
<p><strong>eps (default=0.5)</strong> <code>eps</code> è¡¨ç¤ºæ ¸å¿ƒç‚¹é‚»åŸŸçš„æœ€å¤§åŠå¾„ã€‚å³ï¼Œä¸¤ä¸ªç‚¹çš„æ¬§å‡ é‡Œå¾—è·ç¦»å¦‚æœå°äº <code>eps</code>ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯é‚»å±…ã€‚è¿™ä¸ªå€¼å†³å®šäº†å¦‚ä½•å®šä¹‰â€œå¯†é›†åŒºåŸŸâ€ã€‚<code>eps</code> è¶Šå¤§ï¼Œèšç±»ç»“æœè¶Šç¨€ç–ã€‚</p>
</li>
<li>
<p><strong>min_samples (default=5)</strong> <code>min_samples</code> è¡¨ç¤ºä¸€ä¸ªæ ¸å¿ƒç‚¹çš„æœ€å°é‚»å±…æ•°ã€‚è‹¥ä¸€ä¸ªç‚¹çš„é‚»åŸŸä¸­æœ‰ <code>min_samples</code> ä¸ªåŠä»¥ä¸Šç‚¹ï¼Œå®ƒå°±ä¼šè¢«è®¤ä¸ºæ˜¯æ ¸å¿ƒç‚¹ã€‚é€šå¸¸æ¥è¯´ï¼Œ<code>min_samples</code> åº”è¯¥è®¾ç½®ä¸ºæ¯”æ•°æ®ç»´åº¦æ›´å¤§çš„å€¼ï¼Œä¾‹å¦‚ 4 æˆ– 5ã€‚</p>
</li>
<li>
<p><strong>metric (default='euclidean')</strong> è¿™ä¸ªå‚æ•°å®šä¹‰äº†è®¡ç®—è·ç¦»çš„æ–¹å¼ï¼Œ<code>'euclidean'</code> æ˜¯æœ€å¸¸ç”¨çš„è·ç¦»åº¦é‡æ–¹å¼ã€‚ä½ å¯ä»¥é€‰æ‹©å…¶ä»–è·ç¦»åº¦é‡ï¼Œä¾‹å¦‚ <code>'manhattan'</code>ã€<code>'cosine'</code> ç­‰ã€‚</p>
</li>
<li>
<p><strong>algorithm (default='auto')</strong> <code>algorithm</code> ç”¨æ¥æŒ‡å®šåœ¨èšç±»è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ç®—æ³•ã€‚å¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li><code>'auto'</code>: è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„ç®—æ³•ã€‚</li>
<li><code>'ball_tree'</code>: ä½¿ç”¨çƒæ ‘ç®—æ³•ï¼Œé€‚åˆé«˜ç»´ç©ºé—´ã€‚</li>
<li><code>'kd_tree'</code>: ä½¿ç”¨k-dæ ‘ç®—æ³•ï¼Œé€‚åˆä½ç»´ç©ºé—´ã€‚</li>
<li><code>'brute'</code>: è¿›è¡Œæš´åŠ›æœç´¢ï¼Œè®¡ç®—æ‰€æœ‰ç‚¹çš„è·ç¦»ï¼Œé€‚åˆå°è§„æ¨¡æ•°æ®ã€‚</li>
</ul>
</li>
<li>
<p><strong>leaf_size (default=30)</strong> <code>leaf_size</code> ä»…åœ¨ <code>algorithm='ball_tree'</code> æˆ– <code>kd_tree'</code> æ—¶æœ‰æ•ˆã€‚å®ƒå½±å“æ„å»ºæ ‘çš„æ•°æ®ç»“æ„çš„å¤§å°ï¼Œè¾ƒå°çš„å€¼å¯èƒ½ä¼šæé«˜ç²¾åº¦ï¼Œä½†è®¡ç®—é‡è¾ƒå¤§ï¼›è¾ƒå¤§çš„å€¼åˆ™å¯èƒ½æé«˜æ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>p (default=None)</strong> ä»…åœ¨ <code>metric='minkowski'</code> æ—¶æœ‰æ•ˆã€‚<code>p</code> æ˜¯ Minkowski è·ç¦»çš„ä¸€ä¸ªå‚æ•°ã€‚å½“ <code>p=1</code> æ—¶ï¼Œè¡¨ç¤ºæ›¼å“ˆé¡¿è·ç¦»ï¼›å½“ <code>p=2</code> æ—¶ï¼Œè¡¨ç¤ºæ¬§å‡ é‡Œå¾—è·ç¦»ã€‚</p>
</li>
<li>
<p><strong>n_jobs (default=None)</strong> <code>n_jobs</code> è¡¨ç¤ºä½¿ç”¨å¤šå°‘ä¸ªCPUæ ¸å¿ƒè¿›è¡Œå¹¶è¡Œè®¡ç®—ã€‚<code>None</code> è¡¨ç¤ºä¸è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œ<code>-1</code> è¡¨ç¤ºä½¿ç”¨æ‰€æœ‰CPUæ ¸å¿ƒã€‚</p>
</li>
</ol>
<h2 data-id="heading-5">å…·ä½“ç¤ºä¾‹</h2>
<pre><code class="hljs language-ini" lang="ini">import matplotlib.pyplot as plt
from sklearn.cluster import DBSCAN
from sklearn.datasets import make_blobs
â€‹
<span class="hljs-comment"># è®¾ç½®ä¸­æ–‡å­—ä½“æ”¯æŒ</span>
plt.rcParams<span class="hljs-section">['font.sans-serif']</span> = <span class="hljs-section">['SimHei']</span> Â <span class="hljs-comment"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span>
plt.rcParams<span class="hljs-section">['axes.unicode_minus']</span> = False Â <span class="hljs-comment"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span>
<span class="hljs-comment"># ç”Ÿæˆç”Ÿæˆé«˜æ–¯åˆ†å¸ƒç¤ºä¾‹æ•°æ®é›†</span>
X, <span class="hljs-attr">_</span> = make_blobs(n_samples=<span class="hljs-number">300</span>, centers=<span class="hljs-number">4</span>, cluster_std=<span class="hljs-number">0.60</span>, random_state=<span class="hljs-number">0</span>)
â€‹
<span class="hljs-comment"># ä½¿ç”¨DBSCANè¿›è¡Œèšç±»</span>
<span class="hljs-attr">db</span> = DBSCAN(eps=<span class="hljs-number">0.5</span>, min_samples=<span class="hljs-number">5</span>)
<span class="hljs-attr">y_db</span> = db.fit_predict(X)
<span class="hljs-comment"># å¯è§†åŒ–ç»“æœ</span>
plt.figure(<span class="hljs-attr">figsize</span>=(<span class="hljs-number">8</span>, <span class="hljs-number">6</span>))
plt.scatter(X<span class="hljs-section">[:, 0]</span>, X<span class="hljs-section">[:, 1]</span>, <span class="hljs-attr">c</span>=y_db, cmap=<span class="hljs-string">'Paired'</span>, marker=<span class="hljs-string">'o'</span>)
plt.title('DBSCAN èšç±»ç»“æœ')
plt.show()
</code></pre>
<p>è§£é‡Šï¼š</p>
<ul>
<li><code>make_blobs</code>å‡½æ•°ç”Ÿæˆäº†ä¸€ä¸ªåŒ…å«4ä¸ªç°‡çš„æ•°æ®é›†ã€‚</li>
<li><code>DBSCAN(eps=0.5, min_samples=5)</code>ï¼šè®¾ç½®<code>Îµ=0.5</code>ï¼ˆé‚»åŸŸåŠå¾„ï¼‰å’Œ<code>MinPts=5</code>ï¼ˆæ¯ä¸ªæ ¸å¿ƒç‚¹çš„æœ€å°é‚»åŸŸç‚¹æ•°ï¼‰ã€‚</li>
<li><code>fit_predict(X)</code>ï¼šåº”ç”¨DBSCANèšç±»ç®—æ³•ï¼Œå¹¶è¿”å›æ¯ä¸ªç‚¹çš„èšç±»æ ‡ç­¾ã€‚å™ªå£°ç‚¹ä¼šè¢«æ ‡è®°ä¸º<code>-1</code>ã€‚</li>
<li>å¯è§†åŒ–å›¾æ˜¾ç¤ºäº†èšç±»ç»“æœï¼Œç°‡çš„ç‚¹ä¼šæœ‰ä¸åŒçš„é¢œè‰²ï¼Œå™ªå£°ç‚¹ä¼šæ˜¾ç¤ºä¸ºå­¤ç«‹ç‚¹ã€‚</li>
</ul>
<p>è¿è¡Œæˆªå›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a579161385f404cb163dfad1c4ce02a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6ZSLamF2YTEyMzQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770632197&amp;x-signature=mWfUFXzflqBpxZviKuBI4np8B5A%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» C++ åˆ° Rustï¼šbsdiff è·¨å¹³å°å·¥å…·çš„é‡æ„ä¸ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7601687408925900800</link>    <guid>https://juejin.cn/post/7601687408925900800</guid>    <pubDate>2026-02-02T09:05:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601687408925900800" data-draft-id="7601687408925622272" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» C++ åˆ° Rustï¼šbsdiff è·¨å¹³å°å·¥å…·çš„é‡æ„ä¸ä¼˜åŒ–"/> <meta itemprop="keywords" content="å¼€æº,å…¨æ ˆ,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-02T09:05:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Conda"/> <meta itemprop="url" content="https://juejin.cn/user/624178334793848"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» C++ åˆ° Rustï¼šbsdiff è·¨å¹³å°å·¥å…·çš„é‡æ„ä¸ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624178334793848/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Conda
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:05:12.000Z" title="Mon Feb 02 2026 09:05:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">bsdiff-rust</h2>
<blockquote>
<p>åŸºäº Rust + napi-rs é‡æ„çš„é«˜æ€§èƒ½äºŒè¿›åˆ¶å·®åˆ†å·¥å…·ï¼Œæ¶ˆé™¤ Python/node-gyp ä¾èµ–ç—›ç‚¹</p>
</blockquote>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF" title="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF">é—®é¢˜èƒŒæ™¯</a></li>
<li><a href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" title="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88">è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B" title="#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B">å¿«é€Ÿå¼€å§‹</a></li>
<li><a href="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0" title="#%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0">æŠ€æœ¯å®ç°</a></li>
<li><a href="#%E5%B9%B3%E5%8F%B0%E6%94%AF%E6%8C%81" title="#%E5%B9%B3%E5%8F%B0%E6%94%AF%E6%8C%81">å¹³å°æ”¯æŒ</a></li>
<li><a href="#%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86" title="#%E6%80%A7%E8%83%BD%E5%9F%BA%E5%87%86">æ€§èƒ½åŸºå‡†</a></li>
<li><a href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">æœ€ä½³å®è·µ</a></li>
<li><a href="#%E6%80%BB%E7%BB%93" title="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">é—®é¢˜èƒŒæ™¯</h3>
<p>åœ¨ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgaetandezeiraud%2Fbsdiff-node" target="_blank" title="https://github.com/gaetandezeiraud/bsdiff-node" ref="nofollow noopener noreferrer">bsdiff-node</a> è¿›è¡ŒäºŒè¿›åˆ¶å·®åˆ†æ—¶ï¼Œå›¢é˜Ÿé‡åˆ°ä»¥ä¸‹ç—›ç‚¹ï¼š</p>

























<table><thead><tr><th>é—®é¢˜ç±»å‹</th><th>å…·ä½“è¡¨ç°</th></tr></thead><tbody><tr><td><strong>ç¼–è¯‘ä¾èµ–</strong></td><td>ä¾èµ– Python + node-gypï¼Œå®‰è£…æ—¶é¢‘ç¹æŠ¥é”™</td></tr><tr><td><strong>ç¯å¢ƒä¸€è‡´æ€§</strong></td><td>è¦æ±‚ç‰¹å®š Python ç‰ˆæœ¬ï¼Œå›¢é˜Ÿæˆå‘˜ç¯å¢ƒéš¾ä»¥ç»Ÿä¸€</td></tr><tr><td><strong>ç»´æŠ¤æˆæœ¬</strong></td><td>C/C++ ä»£ç ç»´æŠ¤æˆæœ¬é«˜ï¼Œç¼ºä¹å†…å­˜å®‰å…¨ä¿éšœ</td></tr><tr><td><strong>CI/CD é€‚é…</strong></td><td>æ„å»ºæµæ°´çº¿éœ€è¦é¢å¤–é…ç½®ç¼–è¯‘å·¥å…·é“¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-3">è§£å†³æ–¹æ¡ˆ</h3>
<p>æˆ‘é‡æ„äº†ä¸€ä¸ªç‰ˆæœ¬æ˜¯åŸºäº rust + napi-rsï¼Œé¡¹ç›®åç§°æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSphinm%2Fbsdiff-rust" target="_blank" title="https://github.com/Sphinm/bsdiff-rust" ref="nofollow noopener noreferrer">bsdiff-rust</a>ï¼Œå¯¹æ¯”ä¸‹ bsdiff-node å°†ç¼–è¯‘å·¥ä½œåœ¨å‘å¸ƒé˜¶æ®µï¼Œç”¨æˆ·ä¸‹è½½åªä¼šæŒ‰ä»–çš„ç³»ç»Ÿå¹³å°çš„ç‰ˆæœ¬æŒ‰éœ€ä¸‹è½½ï¼Œä¸ä¼šå‡ºç°äºŒæ¬¡ç¼–è¯‘çš„é—®é¢˜ï¼Œå¹¶ä¸”å°†åŸæœ‰ä»“åº“é‡Œçš„ C å’Œ C++ ä»£ç é‡æ„æˆäº† rustï¼Œç»´æŠ¤èµ·æ¥ç¨³å®šæ€§å’Œæ€§èƒ½ä¼šæ›´å¥½ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‘å¸ƒé˜¶æ®µï¼ˆCIï¼‰                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Windows â”‚    â”‚  macOS  â”‚    â”‚  Linux  â”‚             â”‚
â”‚  â”‚ x64/arm â”‚    â”‚ x64/arm â”‚    â”‚ x64/arm â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                      â–¼                                  â”‚
â”‚              é¢„ç¼–è¯‘äºŒè¿›åˆ¶äº§ç‰©                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼ npm install
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç«¯                               â”‚
â”‚         æŒ‰å¹³å°è‡ªåŠ¨ä¸‹è½½å¯¹åº”äºŒè¿›åˆ¶ï¼Œæ— éœ€ç¼–è¯‘               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-4">æ ¸å¿ƒæ”¹è¿›</h4>
<ul>
<li><strong>é¢„ç¼–è¯‘å‘å¸ƒ</strong>ï¼šç¼–è¯‘å·¥ä½œå‰ç½®åˆ°å‘å¸ƒé˜¶æ®µï¼Œç”¨æˆ·é›¶ç¼–è¯‘</li>
<li><strong>æŒ‰éœ€ä¸‹è½½</strong>ï¼šæ ¹æ® <code>os</code> + <code>arch</code> è‡ªåŠ¨åŒ¹é…äºŒè¿›åˆ¶æ–‡ä»¶</li>
<li><strong>Rust é‡å†™</strong>ï¼šå†…å­˜å®‰å…¨ã€é«˜æ€§èƒ½ã€å¯ç»´æŠ¤æ€§å¼º</li>
<li><strong>æ ¼å¼å…¼å®¹</strong>ï¼šå®Œå…¨å…¼å®¹ BSDIFF40 æ ‡å‡†æ ¼å¼</li>
</ul>
<hr/>
<h3 data-id="heading-5">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-6">å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¨èï¼šç›´æ¥ä¸‹è½½é¢„ç¼–è¯‘äºŒè¿›åˆ¶ï¼Œæ— éœ€ä»»ä½•é¢å¤–ä¾èµ–</span>
npm install bsdiff-rust

<span class="hljs-comment"># å¯¹æ¯”åŸæ–¹æ¡ˆï¼ˆå¯èƒ½å¤±è´¥ï¼‰</span>
<span class="hljs-comment"># npm install bsdiff-node  # éœ€è¦ç³»ç»Ÿè‡ªå¸¦ Python + node-gyp</span>
</code></pre>
<h4 data-id="heading-7">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { diff, patch } <span class="hljs-keyword">from</span> <span class="hljs-string">'bsdiff-rust'</span>;

<span class="hljs-comment">// ç”Ÿæˆè¡¥ä¸</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">diff</span>(<span class="hljs-string">'old.zip'</span>, <span class="hljs-string">'new.zip'</span>, <span class="hljs-string">'patch.bin'</span>);

<span class="hljs-comment">// åº”ç”¨è¡¥ä¸</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">patch</span>(<span class="hljs-string">'old.zip'</span>, <span class="hljs-string">'patch.bin'</span>, <span class="hljs-string">'restored.zip'</span>);
</code></pre>
<h4 data-id="heading-8">å®Œæ•´ç¤ºä¾‹ï¼ˆå«é”™è¯¯å¤„ç†ï¼‰</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { diff, patch } <span class="hljs-keyword">from</span> <span class="hljs-string">'bsdiff-rust'</span>;

<span class="hljs-comment">// ç”Ÿæˆè¡¥ä¸</span>
(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">diff</span>(<span class="hljs-string">'old.zip'</span>, <span class="hljs-string">'new.zip'</span>, <span class="hljs-string">'patch.bin'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Patch generated successfully!'</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to generate patch:'</span>, err);
  }
})();

<span class="hljs-comment">// åº”ç”¨è¡¥ä¸</span>
(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">patch</span>(<span class="hljs-string">'old.zip'</span>, <span class="hljs-string">'patch.bin'</span>, <span class="hljs-string">'new_restored.zip'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Patch applied successfully!'</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to apply patch:'</span>, err);
  }
})();
</code></pre>
<h4 data-id="heading-9">API å‚è€ƒ</h4>




















<table><thead><tr><th>æ–¹æ³•</th><th>ç­¾å</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>diff</code></td><td><code>(oldPath: string, newPath: string, patchPath: string) =&gt; Promise&lt;void&gt;</code></td><td>ç”Ÿæˆå·®åˆ†è¡¥ä¸</td></tr><tr><td><code>patch</code></td><td><code>(oldPath: string, patchPath: string, newPath: string) =&gt; Promise&lt;void&gt;</code></td><td>åº”ç”¨è¡¥ä¸è¿˜åŸ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">æŠ€æœ¯å®ç°</h3>
<h4 data-id="heading-11">1. æ„å»ºç³»ç»Ÿè¿ç§»</h4>






























<table><thead><tr><th>ç»´åº¦</th><th>bsdiff-node</th><th>bsdiff-rust</th></tr></thead><tbody><tr><td>ç»‘å®šæ–¹æ¡ˆ</td><td>node-gyp (C++)</td><td>napi-rs (Rust)</td></tr><tr><td>ç¼–è¯‘æ—¶æœº</td><td>ç”¨æˆ·å®‰è£…æ—¶</td><td>å‘å¸ƒæ—¶é¢„ç¼–è¯‘</td></tr><tr><td>ä¾èµ–é¡¹</td><td>Python, C++ ç¼–è¯‘å™¨</td><td>æ— </td></tr><tr><td>å®‰è£…è€—æ—¶</td><td>30s+ (å«ç¼–è¯‘)</td><td>&lt; 5s</td></tr></tbody></table>
<h4 data-id="heading-12">2. æ ¸å¿ƒç®—æ³•ä¸ BSDIFF40 æ ¼å¼</h4>
<p><code>bsdiff</code> çš„è¡¥ä¸æ ¼å¼éµå¾ªä¸¥æ ¼æ ‡å‡†ï¼š<strong>BSDIFF40</strong>ã€‚åç§°æ¥æºäºè¡¥ä¸æ–‡ä»¶å‰ 8 å­—èŠ‚çš„é­”æ•° <code>"BSDIFF40"</code>ã€‚æ‰€æœ‰ç¬¦åˆè¯¥æ ¼å¼çš„è¡¥ä¸æ–‡ä»¶åœ¨ä¸åŒå®ç°é—´å¯äº’é€šâ€”â€”æ— è®ºæ˜¯åŸç‰ˆ <code>bsdiff</code>/<code>bspatch</code>ã€<code>bsdiff-node</code> è¿˜æ˜¯ <code>bsdiff-rust</code>ï¼Œéƒ½èƒ½æ­£ç¡®è§£æå’Œåº”ç”¨ã€‚</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BSDIFF ç®—æ³•æµç¨‹                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ—§æ–‡ä»¶ â”€â”€â”¬â”€â”€â–¶ åç¼€æ•°ç»„æ„å»º â”€â”€â–¶ æœ€é•¿åŒ¹é…æœç´¢          â”‚
â”‚           â”‚                          â”‚                â”‚
â”‚  æ–°æ–‡ä»¶ â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â–¶ å·®åˆ†ç¼–ç     â”‚
â”‚                                              â”‚        â”‚
â”‚                                              â–¼        â”‚
â”‚                                      BSDIFF40 Patch   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>Rust é‡æ„è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>åç¼€æ•°ç»„ä½¿ç”¨ <code>suffix</code> crate ä¼˜åŒ–</li>
<li>bzip2 å‹ç¼©ä½¿ç”¨ <code>bzip2</code> crate</li>
<li>ä¸¥æ ¼çš„å†…å­˜å®‰å…¨ï¼Œæ—  <code>unsafe</code> ä»£ç å—ï¼ˆé™¤ FFI è¾¹ç•Œï¼‰</li>
<li>å®Œå…¨å…¼å®¹ BSDIFF40 æ ¼å¼å¤´ï¼ˆ<code>BSDIFF40</code> magic + 3Ã—8 å­—èŠ‚é•¿åº¦å­—æ®µï¼‰</li>
</ul>
<h4 data-id="heading-13">3. napi-rs é›†æˆ</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[napi]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">diff</span>(old_path: <span class="hljs-type">String</span>, new_path: <span class="hljs-type">String</span>, patch_path: <span class="hljs-type">String</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-comment">// å¼‚æ­¥æ–‡ä»¶ I/O + çº¿ç¨‹æ± è®¡ç®—</span>
    tokio::task::<span class="hljs-title function_ invoke__">spawn_blocking</span>(<span class="hljs-keyword">move</span> || {
        bsdiff_core::<span class="hljs-title function_ invoke__">diff</span>(&amp;old_path, &amp;new_path, &amp;patch_path)
    })
    .<span class="hljs-keyword">await</span>
    .<span class="hljs-title function_ invoke__">map_err</span>(|e| Error::<span class="hljs-title function_ invoke__">from_reason</span>(e.<span class="hljs-title function_ invoke__">to_string</span>()))?
}
</code></pre>
<h4 data-id="heading-14">4. ä¸ºä»€ä¹ˆé€‰æ‹© Rust</h4>
<p>Rust åœ¨ç³»ç»Ÿçº§æ€§èƒ½ä¸Šä¸è¾“ Cï¼ŒåŒæ—¶æä¾›å†…å­˜å®‰å…¨ä¿éšœï¼Œæ›´é€‚åˆç°ä»£å·¥ç¨‹åœºæ™¯ã€‚ç»“åˆ napi-rs çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ä¸ä¾èµ–ç‰¹å®š Node-API ç‰ˆæœ¬</strong>ï¼Œè·¨ Node ç‰ˆæœ¬å…¼å®¹æ€§å¥½</li>
<li><strong>é¢„ç¼–è¯‘è·¨å¹³å°äºŒè¿›åˆ¶</strong>ï¼Œé¿å…ç”¨æˆ·å®‰è£…æ—¶çš„ç¼–è¯‘ç—›ç‚¹</li>
<li><strong>ç±»å‹å®‰å…¨çš„ FFI è¾¹ç•Œ</strong>ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯</li>
</ul>
<hr/>
<h3 data-id="heading-15">å¹³å°æ”¯æŒ</h3>






























<table><thead><tr><th>å¹³å°</th><th>æ¶æ„</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>Windows</td><td>x64, x86, arm64</td><td>âœ…</td></tr><tr><td>macOS</td><td>x64 (Intel), arm64 (Apple Silicon)</td><td>âœ…</td></tr><tr><td>Linux</td><td>x64, arm64, armv7</td><td>âœ…</td></tr><tr><td>Linux (musl)</td><td>x64, arm64</td><td>âœ…</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-16">æ€§èƒ½åŸºå‡†</h3>
<blockquote>
<p>æµ‹è¯•ç¯å¢ƒï¼šMacBook Pro M1, Node.js v20, 100MB æµ‹è¯•æ–‡ä»¶</p>
</blockquote>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>bsdiff-node</th><th>bsdiff-rust</th><th>æå‡</th></tr></thead><tbody><tr><td>å®‰è£…è€—æ—¶</td><td>~35s</td><td>~3s</td><td><strong>-91%</strong></td></tr><tr><td>diff æ‰§è¡Œ</td><td>12.3s</td><td>10.1s</td><td><strong>-18%</strong></td></tr><tr><td>patch æ‰§è¡Œ</td><td>2.8s</td><td>2.2s</td><td><strong>-21%</strong></td></tr><tr><td>å³°å€¼å†…å­˜</td><td>420MB</td><td>315MB</td><td><strong>-25%</strong></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-18">ä¼˜åŒ– Patch ä½“ç§¯</h4>
<p>ç›´æ¥å¯¹æ–‡ä»¶å¤¹å·®åˆ†æ•ˆæœä¸ä½³ï¼Œæ¨èä»¥ä¸‹æµç¨‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">æ—§ç‰ˆæœ¬ç›®å½•                        æ–°ç‰ˆæœ¬ç›®å½•
     â”‚                                 â”‚
     â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  tar æ‰“åŒ…   â”‚  (é¡ºåºç¨³å®š)      â”‚  tar æ‰“åŒ…   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ zip/gzip å‹ç¼©â”‚  (æ¶ˆé™¤å…ƒæ•°æ®å™ªéŸ³)â”‚ zip/gzip å‹ç¼©â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                               â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ bsdiff diff â”‚
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
              å°ä½“ç§¯ patch
</code></pre>
<p><strong>åŸç†</strong>ï¼š</p>
<ul>
<li><code>tar</code> ä¿è¯æ–‡ä»¶é¡ºåºä¸€è‡´ï¼Œæ¶ˆé™¤ç›®å½•éå†é¡ºåºå·®å¼‚</li>
<li>å‹ç¼©æ¶ˆé™¤æ—¶é—´æˆ³ã€æƒé™ç­‰å…ƒæ•°æ®å™ªéŸ³</li>
<li>è®© diff ç®—æ³•çœ‹åˆ°æ›´è¿ç»­çš„å­—èŠ‚æµï¼Œæé«˜åŒ¹é…æ•ˆç‡</li>
</ul>
<h4 data-id="heading-19">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { execSync } <span class="hljs-keyword">from</span> <span class="hljs-string">'child_process'</span>;
<span class="hljs-keyword">import</span> { diff, patch } <span class="hljs-keyword">from</span> <span class="hljs-string">'bsdiff-rust'</span>;

<span class="hljs-comment">// æ‰“åŒ… + å‹ç¼©</span>
<span class="hljs-title function_">execSync</span>(<span class="hljs-string">'tar -cf old.tar ./old_dir &amp;&amp; gzip old.tar'</span>);
<span class="hljs-title function_">execSync</span>(<span class="hljs-string">'tar -cf new.tar ./new_dir &amp;&amp; gzip new.tar'</span>);

<span class="hljs-comment">// å·®åˆ†</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">diff</span>(<span class="hljs-string">'old.tar.gz'</span>, <span class="hljs-string">'new.tar.gz'</span>, <span class="hljs-string">'update.patch'</span>);

<span class="hljs-comment">// åº”ç”¨è¡¥ä¸</span>
<span class="hljs-keyword">await</span> <span class="hljs-title function_">patch</span>(<span class="hljs-string">'old.tar.gz'</span>, <span class="hljs-string">'update.patch'</span>, <span class="hljs-string">'restored.tar.gz'</span>);
</code></pre>
<hr/>
<h3 data-id="heading-20">æ€»ç»“</h3>
<p><code>bsdiff-rust</code> çš„ç›®æ ‡ä¸æ˜¯é‡æ–°å‘æ˜ bsdiff ç®—æ³•ï¼Œè€Œæ˜¯å°†è¿™ä¸ªç»å…¸ç®—æ³•<strong>å·¥ç¨‹åŒ–</strong>ï¼Œè®©å®ƒçœŸæ­£èƒ½åœ¨ç°ä»£ Node.js ç”Ÿæ€ä¸­ç¨³å®šä½¿ç”¨ã€‚å¦‚æœä½ åœ¨é¡¹ç›®é‡Œåš <strong>å®¢æˆ·ç«¯å¢é‡æ›´æ–° / å¤§æ–‡ä»¶å¢é‡å‘å¸ƒ / Node.js è·¨å¹³å° diff</strong>ï¼Œ<code>bsdiff-rust</code> æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li>âœ… æ ‡å‡†å…¼å®¹ BSDIFF40 è¡¥ä¸æ ¼å¼</li>
<li>âœ… æ— éœ€ç”¨æˆ·æœ¬åœ°ç¼–è¯‘ï¼Œæå‡å®‰è£…ä½“éªŒ</li>
<li>âœ… Rust é«˜æ€§èƒ½å®ç°ï¼Œç¨³å®šå¿«é€Ÿ</li>
<li>âœ… é€‚åˆå®¢æˆ·ç«¯çƒ­æ›´æ–°ã€å¤§æ–‡ä»¶å¢é‡å‘å¸ƒç­‰åœºæ™¯</li>
</ul>
<hr/>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSphinm%2Fbsdiff-rust" target="_blank" title="https://github.com/Sphinm/bsdiff-rust" ref="nofollow noopener noreferrer">bsdiff-rust</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VMware NAT æ¨¡å¼ä¸‹ Ubuntu22 DNS è§£æå¤±è´¥é—®é¢˜æ’æŸ¥ä¸å½»åº•è§£å†³]]></title>    <link>https://juejin.cn/post/7602082590732517412</link>    <guid>https://juejin.cn/post/7602082590732517412</guid>    <pubDate>2026-02-02T09:57:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602082590732517412" data-draft-id="7602100217656868906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VMware NAT æ¨¡å¼ä¸‹ Ubuntu22 DNS è§£æå¤±è´¥é—®é¢˜æ’æŸ¥ä¸å½»åº•è§£å†³"/> <meta itemprop="keywords" content="Ubuntu,Linux"/> <meta itemprop="datePublished" content="2026-02-02T09:57:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeoSpud"/> <meta itemprop="url" content="https://juejin.cn/user/3643116396493131"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VMware NAT æ¨¡å¼ä¸‹ Ubuntu22 DNS è§£æå¤±è´¥é—®é¢˜æ’æŸ¥ä¸å½»åº•è§£å†³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3643116396493131/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeoSpud
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:57:07.000Z" title="Mon Feb 02 2026 09:57:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">VMware NAT æ¨¡å¼ä¸‹ Ubuntu22 DNS è§£æå¤±è´¥é—®é¢˜æ’æŸ¥ä¸å½»åº•è§£å†³</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸é€šè¿‡ VMware æ­å»º Ubuntu è™šæ‹Ÿæœºè¿›è¡Œå¼€å‘å·¥ä½œï¼Œè€Œ NAT æ¨¡å¼å› æ— éœ€é¢å¤–é…ç½® IPã€ç›´æ¥å€ŸåŠ©å®¿ä¸»æœºç½‘ç»œè®¿é—®å¤–ç½‘æˆä¸ºä¸»æµé€‰æ‹©ã€‚ä½†è¿‘æœŸåœ¨ Ubuntu22 è™šæ‹Ÿæœºä¸­é‡åˆ°äº†å…¸å‹é—®é¢˜ï¼šèƒ½ ping é€šå…¬ç½‘ IP å’Œ VMware NAT ç½‘å…³ï¼Œå´æ— æ³•è§£æåŸŸåï¼Œæ‰§è¡Œ<code>ping www.baidu.com</code>æ—¶æŠ¥é”™<code>Temporary failure in name resolution</code>ï¼Œå¯¼è‡´æ— æ³•æ‹‰å– Git ä»£ç ã€è®¿é—®å¤–ç½‘åŸŸåã€‚æœ¬æ–‡å°†ç»“åˆå®é™…æ’æŸ¥è¿‡ç¨‹ï¼Œæ¢³ç†é—®é¢˜æ ¹æºã€å®Œæ•´è§£å†³æ­¥éª¤ï¼Œå¹¶æ€»ç»“é¿å‘è¦ç‚¹ï¼Œä¸ºåŒç±»åœºæ™¯æä¾›å¯ç›´æ¥å¤ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜ç°è±¡ä¸åˆæ­¥å®šä½</h3>
<h4 data-id="heading-2">1. æ ¸å¿ƒé—®é¢˜ç°è±¡</h4>
<ul>
<li>æ‰§è¡Œ<code>ping 180.101.49.11</code>ï¼ˆç™¾åº¦å…¬ç½‘ IPï¼‰ã€<code>ping 192.168.234.2</code>ï¼ˆVMware NAT ç½‘å…³ï¼‰å‡èƒ½æ­£å¸¸å“åº”ï¼Œ0 ä¸¢åŒ…ï¼›</li>
<li>æ‰§è¡Œ<code>ping www.baidu.com</code>ã€<code>ping github.com</code>ç­‰åŸŸåè¯·æ±‚ï¼Œæç¤º<code>Temporary failure in name resolution</code>ï¼ŒåŸŸåè§£æå®Œå…¨å¤±æ•ˆï¼›</li>
<li>è™šæ‹Ÿæœºç½‘å¡çŠ¶æ€æ­£å¸¸ï¼ˆ<code>ip a</code>æ˜¾ç¤º ens33 ä¸º UP çŠ¶æ€ï¼‰ï¼Œå·²è·å–åŠ¨æ€ IPï¼ˆ192.168.234.128ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">2. åˆæ­¥å®šä½ç»“è®º</h4>
<p>ä»ç°è±¡å¯ç›´æ¥åˆ¤æ–­ï¼š<strong>ç½‘ç»œé“¾è·¯å±‚é¢æ— ä»»ä½•æ•…éšœ</strong>ï¼ˆè™šæ‹Ÿæœºâ†”NAT ç½‘å…³â†”å…¬ç½‘ IP è¿é€šæ­£å¸¸ï¼‰ï¼Œé—®é¢˜æ ¹æºèšç„¦åœ¨<strong>Ubuntu22 ç³»ç»Ÿçš„ DNS åŸŸåè§£ææœåŠ¡é…ç½®å¼‚å¸¸</strong>ï¼Œç³»ç»Ÿæ— æ³•å°†åŸŸåè½¬æ¢ä¸ºå¯¹åº”çš„å…¬ç½‘ IPã€‚</p>
<h3 data-id="heading-4">äºŒã€æ·±å±‚é—®é¢˜æ ¹æºåˆ†æ</h3>
<p>ç»“åˆ Ubuntu22 ç³»ç»Ÿç‰¹æ€§å’Œ VMware NAT æ¨¡å¼ç¯å¢ƒï¼Œæ¢³ç†å‡ºè§£æå¤±è´¥çš„ä¸¤å¤§æ ¸å¿ƒåŸå› ï¼š</p>
<ol>
<li><strong>systemd-resolved æœåŠ¡æœªé…ç½®å…¬ç½‘ä¸Šæ¸¸ DNS</strong>ï¼šUbuntu18.04 + é»˜è®¤ä¾èµ–<code>systemd-resolved</code>ä½œä¸ºæ ¸å¿ƒ DNS è§£ææœåŠ¡ï¼Œç³»ç»Ÿé»˜è®¤çš„<code>/etc/resolv.conf</code>æŒ‡å‘æœ¬åœ°å­˜æ ¹è§£æå™¨<code>127.0.0.53</code>ï¼ˆè¯¥åœ°å€ä¸º<code>systemd-resolved</code>çš„æœ¬åœ°ä»£ç†ï¼‰ï¼Œä½†æœªä¸ºè¯¥æœåŠ¡é…ç½®ä»»ä½•å…¬ç½‘ä¸Šæ¸¸ DNS æœåŠ¡å™¨ï¼Œå¯¼è‡´è§£æå™¨æ— æœ‰æ•ˆæ•°æ®æºï¼›</li>
<li><strong>resolv.conf è½¯é“¾æ¥å…³è”å¼‚å¸¸</strong>ï¼š<code>/etc/resolv.conf</code>ä½œä¸ºç³»ç»Ÿ DNS é…ç½®çš„å…¥å£æ–‡ä»¶ï¼Œå…¶è½¯é“¾æ¥æœªæ­£ç¡®å…³è”åˆ°<code>systemd-resolved</code>çš„åŠ¨æ€æœ‰æ•ˆé…ç½®ï¼Œå¯¼è‡´ç³»ç»Ÿ DNS è¯·æ±‚æ— æ³•è¢«æ­£å¸¸è§£ææœåŠ¡å¤„ç†ï¼›</li>
<li><strong>VMware NAT æ¨¡å¼çš„ç¯å¢ƒä¾èµ–</strong>ï¼šNAT æ¨¡å¼ä¸‹è™šæ‹Ÿæœºçš„ç½‘ç»œè½¬å‘å®Œå…¨ä¾èµ–å®¿ä¸»æœºçš„ VMware è™šæ‹Ÿç½‘ç»œæœåŠ¡ï¼Œè‹¥å®¿ä¸»æœº DHCP/NAT æœåŠ¡æœªè¿è¡Œï¼Œä¼šé—´æ¥å¯¼è‡´è™šæ‹Ÿæœº DNS é…ç½®æ— æ³•æ­£å¸¸è·å–ï¼Œä½†æœ¬æ¬¡æ’æŸ¥ä¸­å·²éªŒè¯ç½‘å…³è¿é€šæ­£å¸¸ï¼Œæ’é™¤è¯¥å› ç´ ã€‚</li>
</ol>
<h3 data-id="heading-5">ä¸‰ã€é’ˆå¯¹æ€§è§£å†³æ­¥éª¤ï¼ˆVMware NAT æ¨¡å¼ä¸“å±ï¼‰</h3>
<p>è§£å†³æ€è·¯å›´ç»•<strong>é…ç½®è§£ææœåŠ¡å…¬ç½‘ DNSâ†’é‡å»ºè½¯é“¾æ¥æ‰“é€šè¯·æ±‚é“¾è·¯â†’éªŒè¯è§£ææ•ˆæœ</strong>å±•å¼€ï¼Œæ‰€æœ‰æ“ä½œå‡ä¸º<strong>ç³»ç»Ÿçº§æ°¸ä¹…é…ç½®</strong>ï¼Œé‡å¯è™šæ‹Ÿæœº / å®¿ä¸»æœºã€é‡å¯ç½‘ç»œåé…ç½®ä¸ä¸¢å¤±ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œå³å¯ã€‚</p>
<h4 data-id="heading-6">å‰æå‡†å¤‡ï¼šéªŒè¯ VMware NAT ç½‘å…³è¿é€šæ€§</h4>
<p>å…ˆç¡®è®¤è™šæ‹Ÿæœºä¸ NAT ç½‘å…³çš„è¿é€šæ€§ï¼Œè¿™æ˜¯åç»­æ‰€æœ‰æ“ä½œçš„åŸºç¡€ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆæ›¿æ¢ä¸ºä½ çš„ NAT ç½‘å…³ IPï¼Œé€šå¸¸ä¸ºè™šæ‹Ÿæœº IP åŒç½‘æ®µæœ€åä¸€ä½ä¸º 2ï¼‰ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-r" lang="r"><span class="hljs-comment"># æµ‹è¯•NATç½‘å…³è¿é€šæ€§ï¼Œéœ€0ä¸¢åŒ…æ­£å¸¸å“åº”</span>
ping <span class="hljs-number">192.168</span>.234.2 <span class="hljs-operator">-</span><span class="hljs-built_in">c</span> <span class="hljs-number">3</span>
</code></pre>
<p>è‹¥ç½‘å…³æ— æ³• ping é€šï¼Œéœ€åœ¨ Windows å®¿ä¸»æœºæ‰§è¡Œï¼šæ‰“å¼€<code>services.msc</code>ï¼Œé‡å¯<code>VMware DHCP Service</code>å’Œ<code>VMware NAT Service</code>ï¼›æˆ–åœ¨ VMware ä¸­æ‰“å¼€ã€Œè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ã€ï¼Œé€‰æ‹© VMnet8 ç‚¹å‡»ã€Œè¿˜åŸé»˜è®¤è®¾ç½®ã€ã€‚</p>
<h4 data-id="heading-7">æ­¥éª¤ 1ï¼šé…ç½® systemd-resolved å…¬ç½‘ä¸Šæ¸¸ DNS</h4>
<p>ç¼–è¾‘<code>systemd-resolved</code>çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å›½å†…ç¨³å®šçš„å…¬ç½‘ DNS æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ / è…¾è®¯ï¼Œè§£æé€Ÿåº¦å¿«ã€é€‚é…å›½å†…ç½‘ç»œï¼‰ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¾‘resolvedä¸»é…ç½®æ–‡ä»¶ï¼Œéœ€sudoæƒé™</span>
sudo nano /etc/systemd/resolved.conf
</code></pre>
<p>å°†æ–‡ä»¶ä¸­<code>[Resolve]</code>æ®µä¸‹çš„<code>DNS</code>è¡Œå–æ¶ˆæ³¨é‡Šï¼ˆåˆ æ‰ #ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼ˆä¿ç•™å…¶ä»–è¡Œé»˜è®¤æ³¨é‡Šï¼‰ï¼š</p>
<p>ini</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[Resolve]</span>
<span class="hljs-attr">DNS</span>=<span class="hljs-number">223.5</span>.<span class="hljs-number">5.5</span> <span class="hljs-number">223.6</span>.<span class="hljs-number">6.6</span> <span class="hljs-number">119.29</span>.<span class="hljs-number">29.29</span>  <span class="hljs-comment"># é˜¿é‡Œäº‘+è…¾è®¯å…¬ç½‘DNSï¼Œç©ºæ ¼åˆ†éš”å¤šåœ°å€</span>
<span class="hljs-comment">#FallbackDNS=</span>
<span class="hljs-comment">#Domains=</span>
<span class="hljs-comment">#LLMNR=no</span>
<span class="hljs-comment">#MulticastDNS=no</span>
<span class="hljs-comment">#DNSSEC=no</span>
<span class="hljs-comment">#DNSOverTLS=no</span>
<span class="hljs-comment">#Cache=no-negative</span>
<span class="hljs-comment">#DNSStubListener=yes</span>
<span class="hljs-comment">#ReadEtcHosts=yes</span>
</code></pre>
<p>ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ï¼ˆnano æ“ä½œï¼š<code>Ctrl+O</code>ä¿å­˜â†’å›è½¦ç¡®è®¤â†’<code>Ctrl+X</code>é€€å‡ºï¼‰ï¼Œéšåé‡å¯è§£ææœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡å¯æœåŠ¡åŠ è½½æ–°é…ç½®</span>
sudo systemctl restart systemd-resolved
<span class="hljs-comment"># è®¾ç½®å¼€æœºè‡ªå¯ï¼Œé¿å…åç»­é‡å¯å¤±æ•ˆ</span>
sudo systemctl <span class="hljs-built_in">enable</span> systemd-resolved
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤ 2ï¼šé‡å»º resolv.conf è½¯é“¾æ¥ï¼ˆå…³é”®ï¼ï¼‰</h4>
<p>åˆ é™¤ç³»ç»ŸåŸæœ‰å¯èƒ½é”™ä¹±çš„è½¯é“¾æ¥ï¼Œé‡æ–°åˆ›å»ºæŒ‡å‘<code>systemd-resolved</code>åŠ¨æ€æœ‰æ•ˆé…ç½®çš„è½¯é“¾æ¥ï¼Œæ‰“é€šç³»ç»Ÿ DNS è¯·æ±‚ä¸è§£ææœåŠ¡çš„é“¾è·¯ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤åŸæœ‰è½¯é“¾æ¥</span>
sudo <span class="hljs-built_in">rm</span> -f /etc/resolv.conf
<span class="hljs-comment"># é‡æ–°åˆ›å»ºè½¯é“¾æ¥ï¼ŒæŒ‡å‘resolvedçš„åŠ¨æ€é…ç½®æ–‡ä»¶</span>
sudo <span class="hljs-built_in">ln</span> -s /run/systemd/resolve/resolv.conf /etc/resolv.conf
</code></pre>
<h4 data-id="heading-9">æ­¥éª¤ 3ï¼šéªŒè¯ DNS è§£æä¸ç½‘ç»œè¿é€šæ€§</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä¾æ¬¡éªŒè¯åŸŸåè§£æã€å¤–ç½‘è¿é€šæ€§ï¼Œ<strong>æ‰€æœ‰å‘½ä»¤å‡éœ€æ­£å¸¸å“åº”æ— æŠ¥é”™</strong>ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-r" lang="r"><span class="hljs-comment"># æµ‹è¯•ç™¾åº¦åŸŸåè§£æä¸è¿é€šï¼ˆ3æ¬¡pingï¼Œ0ä¸¢åŒ…å³ä¸ºæ­£å¸¸ï¼‰</span>
ping www.baidu.com <span class="hljs-operator">-</span><span class="hljs-built_in">c</span> <span class="hljs-number">3</span>
<span class="hljs-comment"># æµ‹è¯•Gitä»“åº“åŸŸåï¼ˆå¼€å‘æ‹‰å–ä»£ç å¿…å¤‡ï¼‰</span>
ping github.com <span class="hljs-operator">-</span><span class="hljs-built_in">c</span> <span class="hljs-number">2</span>
<span class="hljs-comment"># ç²¾å‡†æµ‹è¯•DNSè§£ææœåŠ¡åŠŸèƒ½</span>
resolvectl query www.baidu.com
</code></pre>
<h5 data-id="heading-10">æ­£å¸¸éªŒè¯ç»“æœå‚è€ƒ</h5>
<ul>
<li><code>ping www.baidu.com</code>ï¼šæ˜¾ç¤ºè§£æåˆ°çš„ IPï¼ˆå¦‚ 153.3.238.127ï¼‰ï¼Œè¾“å‡º<code>64 bytes from xxx: icmp_seq=1 ttl=128 time=xx ms</code>ï¼Œ0 ä¸¢åŒ…ï¼›</li>
<li><code>resolvectl query www.baidu.com</code>ï¼š30ms å·¦å³å¿«é€Ÿè§£æå‡ºç™¾åº¦å¤šä¸ª IPv4/IPv6 åœ°å€ï¼Œæ ‡æ³¨<code>Information acquired via protocol DNS</code>ã€‚</li>
</ul>
<h4 data-id="heading-11">æ­¥éª¤ 4ï¼šæµ‹è¯•æ ¸å¿ƒå¼€å‘éœ€æ±‚ â€”â€” æ‹‰å– Git ä»£ç </h4>
<p>ç½‘ç»œä¸è§£ææ¢å¤åï¼Œç›´æ¥åœ¨é¡¹ç›®ç›®å½•æ‰§è¡Œ Git æ‹‰å–å‘½ä»¤ï¼ŒéªŒè¯æœ€ç»ˆå¼€å‘åœºæ™¯å¯ç”¨æ€§ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> ~/project/wht-jf/wht-api
<span class="hljs-comment"># æ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç </span>
git pull
</code></pre>
<p>è‹¥èƒ½æ­£å¸¸æ‹‰å–ä»£ç ï¼Œè¯´æ˜ VMware NAT æ¨¡å¼ä¸‹ Ubuntu22 çš„ç½‘ç»œä¸ DNS è§£æé—®é¢˜å·²å½»åº•è§£å†³ã€‚</p>
<h3 data-id="heading-12">å››ã€å…³é”®é¿å‘è¦ç‚¹ï¼ˆVMware+Ubuntu22 ä¸“å±ï¼‰</h3>
<ol>
<li><strong>ä¸è¦ç›´æ¥ä¿®æ”¹ /etc/resolv.conf</strong>ï¼šè¯¥æ–‡ä»¶æ˜¯åŠ¨æ€è½¯é“¾æ¥æ–‡ä»¶ï¼Œæ‰‹åŠ¨ä¿®æ”¹ä¼šè¢«<code>systemd-resolved</code>æœåŠ¡å®æ—¶è¦†ç›–ï¼Œæ‰€æœ‰ DNS é…ç½®éœ€é€šè¿‡ä¿®æ”¹<code>/etc/systemd/resolved.conf</code>å®ç°ï¼›</li>
<li><strong>ç½‘ç»œæ¨¡å¼é€‰æ‹©</strong>ï¼šNAT æ¨¡å¼ä¸è¦ä¸ã€Œä»…ä¸»æœºæ¨¡å¼ã€æ··æ·†ï¼Œä»…ä¸»æœºæ¨¡å¼ä»…æ”¯æŒè™šæ‹Ÿæœºä¸å®¿ä¸»æœºäº’é€šï¼Œæ— æ³•è®¿é—®å¤–ç½‘ï¼›</li>
<li><strong>å®¿ä¸»æœºè™šæ‹ŸæœåŠ¡å¿…é¡»è¿è¡Œ</strong>ï¼šWindows å®¿ä¸»æœºéœ€ç¡®ä¿<code>VMware DHCP Service</code>å’Œ<code>VMware NAT Service</code>å§‹ç»ˆå¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå¦åˆ™è™šæ‹Ÿæœºæ— æ³•è·å–ç½‘å…³å’Œ IPï¼›</li>
<li><strong>é˜²ç«å¢™æ‹¦æˆªé—®é¢˜</strong>ï¼šWindows å®¿ä¸»æœºé˜²ç«å¢™é»˜è®¤å¯èƒ½æ‹¦æˆª VMware è™šæ‹Ÿç½‘ç»œè½¬å‘ï¼Œæµ‹è¯•é˜¶æ®µå¯ä¸´æ—¶å…³é—­é˜²ç«å¢™ï¼Œé—®é¢˜è§£å†³åå¯é‡æ–°å¼€å¯ï¼›</li>
<li><strong>Netplan é…ç½®æ— éœ€é¢å¤–ä¿®æ”¹</strong>ï¼šæœ¬æ¬¡é—®é¢˜ä¸ºè§£ææœåŠ¡é…ç½®å¼‚å¸¸ï¼Œéç½‘ç»œå‚æ•°é…ç½®é—®é¢˜ï¼Œæ— éœ€ä¿®æ”¹ Netplan çš„ç½‘å¡å’Œç½‘å…³é…ç½®ï¼Œä¿æŒ DHCP è‡ªåŠ¨è·å–å³å¯ã€‚</li>
</ol>
<h3 data-id="heading-13">äº”ã€æ€»ç»“</h3>
<p>æœ¬æ¬¡é—®é¢˜æ˜¯ VMware NAT æ¨¡å¼ä¸‹ Ubuntu22 ç³»ç»Ÿçš„å…¸å‹ DNS è§£ææ•…éšœï¼Œæ ¸å¿ƒçŸ›ç›¾å¹¶éç½‘ç»œé“¾è·¯ä¸é€šï¼Œè€Œæ˜¯<strong>ç³»ç»Ÿè§£ææœåŠ¡çš„é…ç½®ç¼ºå¤±ä¸é“¾è·¯å…³è”å¼‚å¸¸</strong>ã€‚é€šè¿‡ã€Œé…ç½®å…¬ç½‘ DNS æ•°æ®æºâ†’é‡å»ºè½¯é“¾æ¥æ‰“é€šè¯·æ±‚é“¾è·¯ã€çš„ä¸¤æ­¥æ ¸å¿ƒæ“ä½œï¼Œå³å¯ä»æ ¹æºè§£å†³é—®é¢˜ï¼Œä¸”æ‰€æœ‰é…ç½®å‡ä¸ºç³»ç»Ÿçº§æ°¸ä¹…é…ç½®ï¼Œæ»¡è¶³é•¿æœŸå¼€å‘ä½¿ç”¨éœ€æ±‚ã€‚</p>
<p>è¯¥è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒé€»è¾‘å¯å¤ç”¨è‡³æ‰€æœ‰ Ubuntu18.04 + ç‰ˆæœ¬çš„ DNS è§£ææ•…éšœæ’æŸ¥ï¼Œæ ¸å¿ƒè¦ç‚¹ä¸ºï¼š</p>
<ol>
<li>å…ˆé€šè¿‡ ping å…¬ç½‘ IP å’Œç½‘å…³å®šä½é—®é¢˜å±‚é¢ï¼ˆé“¾è·¯ / è§£æï¼‰ï¼›</li>
<li>åŸºäº<code>systemd-resolved</code>æœåŠ¡è¿›è¡Œ DNS é…ç½®ï¼Œè¿™æ˜¯ Ubuntu æ–°ç‰ˆç³»ç»Ÿçš„æ ‡å‡†æ–¹å¼ï¼›</li>
<li>ç¡®ä¿<code>/etc/resolv.conf</code>è½¯é“¾æ¥æ­£ç¡®å…³è”åˆ°è§£ææœåŠ¡çš„æœ‰æ•ˆé…ç½®ï¼›</li>
<li>ç»“åˆè™šæ‹ŸåŒ–ç¯å¢ƒç‰¹æ€§ï¼ŒéªŒè¯å®¿ä¸»æœºçš„è™šæ‹Ÿç½‘ç»œæœåŠ¡çŠ¶æ€ã€‚</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå¯å¿«é€Ÿã€é«˜æ•ˆè§£å†³ VMware+Ubuntu å¼€å‘ç¯å¢ƒä¸­çš„ DNS è§£æé—®é¢˜ï¼Œä¿éšœæ—¥å¸¸å¼€å‘çš„ç½‘ç»œå¯ç”¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ··åˆæœåŠ¡å™¨æ™ºèƒ½å·¡æ£€V2]]></title>    <link>https://juejin.cn/post/7602072652606259240</link>    <guid>https://juejin.cn/post/7602072652606259240</guid>    <pubDate>2026-02-02T09:27:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602072652606259240" data-draft-id="7601687408925949952" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ··åˆæœåŠ¡å™¨æ™ºèƒ½å·¡æ£€V2"/> <meta itemprop="keywords" content="åç«¯,Linux"/> <meta itemprop="datePublished" content="2026-02-02T09:27:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ°é¥­å°ç”·å­©"/> <meta itemprop="url" content="https://juejin.cn/user/1007625803672606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ··åˆæœåŠ¡å™¨æ™ºèƒ½å·¡æ£€V2
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1007625803672606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ°é¥­å°ç”·å­©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:27:39.000Z" title="Mon Feb 02 2026 09:27:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ ç¯å¢ƒå‡†å¤‡ä¸Ansibleé…ç½®</h2>
<p>é¦–å…ˆï¼Œåœ¨ä½ çš„Ansibleæ§åˆ¶æœºï¼ˆå¯ä»¥æ˜¯ä¸€å°å•ç‹¬çš„LinuxæœåŠ¡å™¨æˆ–ä½ çš„å·¥ä½œç”µè„‘ï¼‰ä¸Šï¼Œéœ€è¦é…ç½®å¯¹ä¸¤ç±»ç³»ç»Ÿçš„ç®¡ç†èƒ½åŠ›ã€‚</p>
<ul>
<li>
<p><strong>Ansibleé…ç½®Linuxä¸»æœºï¼ˆæ²¿ç”¨ä½ çš„æ–¹æ³•ï¼‰</strong> ï¼šä¸º2å°LinuxæœåŠ¡å™¨é…ç½®SSHå…å¯†ç™»å½•ï¼Œæ–¹å¼ä¸ä½ åŸæ–‡ä¸­ç›¸åŒã€‚</p>
</li>
<li>
<p><strong>Ansibleé…ç½®Windowsä¸»æœºï¼ˆå…³é”®æ­¥éª¤ï¼‰</strong> ï¼šWindowséœ€é€šè¿‡WinRMåè®®ç®¡ç†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-1">1. <strong>åœ¨6å°Windows Serverä¸Šå¯ç”¨å¹¶é…ç½®WinRM</strong>ã€‚å¯ä»¥<strong>ä»¥ç®¡ç†å‘˜èº«ä»½</strong>åœ¨PowerShellä¸­å¿«é€Ÿæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</h3>
<pre><code class="hljs language-å¿«é€Ÿå¯ç”¨WinRMå¹¶é…ç½®åŸºç¡€è®¤è¯" lang="å¿«é€Ÿå¯ç”¨WinRMå¹¶é…ç½®åŸºç¡€è®¤è¯">Enable-PSRemoting -Force
è®¾ç½®WinRMæœåŠ¡ä¸ºè‡ªåŠ¨å¯åŠ¨
Set-Service WinRM -StartMode Automatic
é…ç½®å…è®¸åŸºç¡€è®¤è¯ï¼ˆç”¨äºæµ‹è¯•ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ç”¨HTTPS+è¯ä¹¦ï¼‰
winrm set winrm/config/service/auth '@{Basic="true"}'
</code></pre>
<h3 data-id="heading-2">2. <strong>åœ¨Ansibleæ§åˆ¶æœºä¸Šå®‰è£…Windowsç®¡ç†ä¾èµ–</strong></h3>
<p><code>pip install pywinrm</code></p>
<h2 data-id="heading-3">äºŒã€é…ç½®Ansibleä¸»æœºæ¸…å• **</h2>
<p>æ ¹æ®ä½ çš„ç¯å¢ƒï¼Œæ¸…å•æ–‡ä»¶Â <code>inventory.ini</code>Â åº”ç±»ä¼¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">    ```
    <span class="hljs-section">[linux]</span>
    linux-server1 <span class="hljs-attr">ansible_ssh_host</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.10</span>
    linux-server2 <span class="hljs-attr">ansible_ssh_host</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.11</span>

    <span class="hljs-section">[windows]</span>
    windows-server1 <span class="hljs-attr">ansible_host</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.20</span>
    windows-server2 <span class="hljs-attr">ansible_host</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.21</span>
    ... <span class="hljs-comment"># å…¶ä»–4å°WindowsæœåŠ¡å™¨</span>

    <span class="hljs-comment"># å®šä¹‰è¿æ¥å˜é‡</span>
    <span class="hljs-section">[linux:vars]</span>
    <span class="hljs-attr">ansible_connection</span>=ssh
    <span class="hljs-attr">ansible_user</span>=root <span class="hljs-comment"># æˆ–ä½ çš„sshç”¨æˆ·</span>

    <span class="hljs-section">[windows:vars]</span>
    <span class="hljs-attr">ansible_connection</span>=winrm
    <span class="hljs-attr">ansible_port</span>=<span class="hljs-number">5985</span> <span class="hljs-comment"># WinRM HTTPç«¯å£ï¼ŒHTTPSç”¨5986</span>
    <span class="hljs-attr">ansible_winrm_transport</span>=basic
    <span class="hljs-attr">ansible_user</span>=Administrator <span class="hljs-comment"># æˆ–å…·æœ‰ç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·</span>
    <span class="hljs-attr">ansible_password</span>=your_windows_password <span class="hljs-comment"># å»ºè®®ä½¿ç”¨ansible-vaultåŠ å¯†</span>
    <span class="hljs-attr">ansible_winrm_server_cert_validation</span>=ignore <span class="hljs-comment"># è‡ªç­¾åè¯ä¹¦æ—¶å¯å¿½ç•¥éªŒè¯ </span>
   
</code></pre>
<h2 data-id="heading-4">3ã€ç¼–å†™Windowså·¡æ£€è„šæœ¬</h2>
<p>Linuxå·¡æ£€è„šæœ¬å·²ç»åœ¨ä¸Šä¸€ç¯‡è¡¥å……ï¼ŒWindowséƒ¨åˆ†éœ€è¦åŠŸèƒ½å¯¹ç­‰çš„PowerShellè„šæœ¬ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªÂ <code>Windows_Check.ps1</code>Â çš„æ ¸å¿ƒæ¡†æ¶ï¼š</p>
<blockquote>
<p>ä½¿ç”¨ç®¡ç†å‘˜è¿è¡Œ â€œpowershellâ€</p>
</blockquote>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># WindowsæœåŠ¡å™¨å·¡æ£€è„šæœ¬</span>
$Report = <span class="hljs-string">"=== WindowsæœåŠ¡å™¨å·¡æ£€æŠ¥å‘Š ===`r`n"</span>
$Report += <span class="hljs-string">"ç”Ÿæˆæ—¶é—´: $(Get-Date)`r`n"</span>
$Report += <span class="hljs-string">"è®¡ç®—æœºå: $env:COMPUTERNAME`r`n"</span>

<span class="hljs-comment"># 1. ç³»ç»Ÿèµ„æºæ£€æŸ¥</span>
$Report += <span class="hljs-string">"`r`n--- ç³»ç»Ÿèµ„æº ---`r`n"</span>
$CpuUsage = (Get-Counter <span class="hljs-string">'\Processor(_Total)% Processor Time'</span>).CounterSamples.CookedValue
$Report += <span class="hljs-string">"CPUä½¿ç”¨ç‡: {0:N1}%`r`n"</span> -f $CpuUsage

$Memory = Get-CimInstance Win32_OperatingSystem
$MemUsage = (($Memory.TotalVisibleMemorySize - $Memory.FreePhysicalMemory) / $Memory.TotalVisibleMemorySize) * <span class="hljs-number">100</span>
$Report += <span class="hljs-string">"å†…å­˜ä½¿ç”¨ç‡: {0:N1}%`r`n"</span> -f $MemUsage

<span class="hljs-comment"># 2. ç£ç›˜æ£€æŸ¥</span>
$Report += <span class="hljs-string">"`r`n--- ç£ç›˜ç©ºé—´ ---`r`n"</span>
Get-WmiObject Win32_LogicalDisk -Filter <span class="hljs-string">"DriveType=3"</span> | ForEach-Object {
    $Usage = ($_.Size - $_.FreeSpace) / $_.Size * <span class="hljs-number">100</span>
    $Report += <span class="hljs-string">"é©±åŠ¨å™¨ $($_.DeviceID): {0:N1}% å·²ä½¿ç”¨ (å‰©ä½™ {1:N1} GB)`r`n"</span> -f $Usage, ($_.FreeSpace/<span class="hljs-number">1</span>GB)
}

<span class="hljs-comment"># 3. WindowsæœåŠ¡æ£€æŸ¥</span>
$Report += <span class="hljs-string">"`r`n--- å…³é”®æœåŠ¡çŠ¶æ€ ---`r`n"</span>
$CriticalServices = @(<span class="hljs-string">"WinRM"</span>, <span class="hljs-string">"EventLog"</span>, <span class="hljs-string">"DHCP"</span>, <span class="hljs-string">"DNS"</span>, <span class="hljs-string">"Spooler"</span>, <span class="hljs-string">"IISADMIN"</span>) <span class="hljs-comment"># æ ¹æ®ä½ çš„å®é™…æœåŠ¡è°ƒæ•´</span>
<span class="hljs-keyword">foreach</span> ($svc in $CriticalServices) {
    $Service = Get-Service -Name $svc -ErrorAction SilentlyContinue
    <span class="hljs-keyword">if</span> ($Service) {
        $Report += <span class="hljs-string">"$svc : $($Service.Status)`r`n"</span>
    }
}

<span class="hljs-comment"># 4. ç³»ç»Ÿæ—¥å¿—é”™è¯¯æ£€æŸ¥ï¼ˆæœ€è¿‘24å°æ—¶ï¼‰</span>
$Report += <span class="hljs-string">"`r`n--- ç³»ç»Ÿæ—¥å¿—ï¼ˆæœ€è¿‘24å°æ—¶é”™è¯¯/è­¦å‘Šï¼‰---`r`n"</span>
$StartTime = (Get-Date).AddHours(-<span class="hljs-number">24</span>)
$Events = Get-EventLog -LogName System -EntryType (<span class="hljs-string">'Error'</span>,<span class="hljs-string">'Warning'</span>) -After $StartTime -Newest <span class="hljs-number">5</span>
<span class="hljs-keyword">if</span> ($Events) {
    $Report += <span class="hljs-string">"æœ€è¿‘æœ‰ $($Events.Count) æ¡é”™è¯¯/è­¦å‘Š`r`n"</span>
} <span class="hljs-keyword">else</span> {
    $Report += <span class="hljs-string">"è¿‘æœŸæ— ä¸¥é‡é”™è¯¯æ—¥å¿—`r`n"</span>
}

<span class="hljs-comment"># 5. å°†æŠ¥å‘Šä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶</span>
$ReportPath = <span class="hljs-string">"C:\Windows\Temp\syscheck_$(Get-Date -Format 'yyyyMMdd_HHmmss').txt"</span>
$Report | Out-File -FilePath $ReportPath -Encoding UTF8
Write-Output <span class="hljs-string">"å·¡æ£€æŠ¥å‘Šå·²ç”Ÿæˆ: $ReportPath"</span>
</code></pre>
<h2 data-id="heading-5">4ã€éƒ¨ç½²ä¸æ‰¹é‡æ‰§è¡Œ</h2>
<p>ç¼–å†™Ansible Playbookï¼ˆ<code>run_checks.yml</code>ï¼‰ï¼Œä¸€é”®è§¦å‘æ‰€æœ‰æœåŠ¡å™¨çš„å·¡æ£€ã€‚</p>
<blockquote>
<p>é‡æ–°ç¼–å†™ä¸€ä¸ªæ–°çš„yaml</p>
</blockquote>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ‰§è¡Œæ··åˆæœåŠ¡å™¨å·¡æ£€</span>
  <span class="hljs-attr">hosts:</span> <span class="hljs-string">all</span>
  <span class="hljs-attr">tasks:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">åœ¨LinuxæœåŠ¡å™¨ä¸Šæ‰§è¡ŒBashå·¡æ£€è„šæœ¬</span>
      <span class="hljs-attr">ansible.builtin.script:</span> <span class="hljs-string">/path/to/your/linux_check.sh</span>
      <span class="hljs-attr">when:</span> <span class="hljs-string">inventory_hostname</span> <span class="hljs-string">in</span> <span class="hljs-string">groups['linux']</span>
      <span class="hljs-attr">register:</span> <span class="hljs-string">linux_result</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">åœ¨WindowsæœåŠ¡å™¨ä¸Šæ‰§è¡ŒPowerShellå·¡æ£€è„šæœ¬</span>
      <span class="hljs-attr">ansible.windows.win_shell:</span> <span class="hljs-string">|
        powershell.exe -ExecutionPolicy Bypass -File C:\scripts\Windows_Check.ps1
</span>      <span class="hljs-attr">when:</span> <span class="hljs-string">inventory_hostname</span> <span class="hljs-string">in</span> <span class="hljs-string">groups['windows']</span>
      <span class="hljs-attr">args:</span>
        <span class="hljs-attr">executable:</span> <span class="hljs-string">cmd</span>
      <span class="hljs-attr">register:</span> <span class="hljs-string">windows_result</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ”¶é›†Linuxå·¡æ£€æŠ¥å‘Šåˆ°æ§åˆ¶æœº</span>
      <span class="hljs-attr">ansible.builtin.fetch:</span>
        <span class="hljs-attr">src:</span> <span class="hljs-string">"/tmp/syscheck_report_<span class="hljs-template-variable">{{ ansible_date_time.iso8601_basic_short }}</span>.txt"</span>
        <span class="hljs-attr">dest:</span> <span class="hljs-string">"./reports/<span class="hljs-template-variable">{{ inventory_hostname }}</span>/"</span>
        <span class="hljs-attr">flat:</span> <span class="hljs-literal">yes</span>
      <span class="hljs-attr">when:</span> <span class="hljs-string">inventory_hostname</span> <span class="hljs-string">in</span> <span class="hljs-string">groups['linux']</span> <span class="hljs-string">and</span> <span class="hljs-string">linux_result</span> <span class="hljs-string">is</span> <span class="hljs-string">succeeded</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">æ”¶é›†Windowså·¡æ£€æŠ¥å‘Šåˆ°æ§åˆ¶æœº</span>
      <span class="hljs-attr">ansible.windows.win_fetch:</span>
        <span class="hljs-attr">src:</span> <span class="hljs-string">'C:\Windows\Temp\syscheck_<span class="hljs-template-variable">{{ ansible_date_time.iso8601_basic_short }}</span>.txt'</span>
        <span class="hljs-attr">dest:</span> <span class="hljs-string">'./reports/<span class="hljs-template-variable">{{ inventory_hostname }}</span>/'</span>
        <span class="hljs-attr">flat:</span> <span class="hljs-literal">yes</span>
      <span class="hljs-attr">when:</span> <span class="hljs-string">inventory_hostname</span> <span class="hljs-string">in</span> <span class="hljs-string">groups['windows']</span> <span class="hljs-string">and</span> <span class="hljs-string">windows_result</span> <span class="hljs-string">is</span> <span class="hljs-string">succeeded</span>
</code></pre>
<blockquote>
<p>åœ¨Ansibleæ§åˆ¶æœºä¸Šè¿è¡Œï¼š<code>ansible-playbook -i inventory.ini run_checks.yml</code></p>
</blockquote>
<h2 data-id="heading-6">5ã€ç»“æœæ”¶é›†ä¸åç»­ä¼˜åŒ–</h2>
<p>æ‰€æœ‰æœåŠ¡å™¨çš„å·¡æ£€æŠ¥å‘Šéƒ½ä¼šè¢«è‡ªåŠ¨æ”¶é›†åˆ°æ§åˆ¶æœºçš„Â <code>./reports/</code>Â ç›®å½•ä¸‹ï¼ŒæŒ‰ä¸»æœºååˆ†æ–‡ä»¶å¤¹å­˜æ”¾ã€‚</p>
<p>ä½ å¯ä»¥è¿›ä¸€æ­¥ï¼š</p>
<ul>
<li><strong>è®¾ç½®å®šæ—¶ä»»åŠ¡</strong>ï¼šåœ¨Ansibleæ§åˆ¶æœºä½¿ç”¨Â <code>cron</code>Â å®šæ—¶æ‰§è¡ŒPlaybookã€‚</li>
<li><strong>ç»Ÿä¸€æŠ¥å‘Šæ ¼å¼</strong>ï¼šç¼–å†™è„šæœ¬ï¼Œå°†æ‰€æœ‰æŠ¥å‘Šæ±‡æ€»æˆä¸€ä¸ªHTMLæˆ–PDFæ€»è§ˆã€‚</li>
<li><strong>è®¾ç½®å‘Šè­¦</strong>ï¼šåœ¨Playbookä¸­å¢åŠ ä»»åŠ¡ï¼Œè§£ææŠ¥å‘Šå†…å®¹ï¼Œå½“å‘ç°CPUã€å†…å­˜ã€ç£ç›˜è¶…è¿‡é˜ˆå€¼æ—¶ï¼Œé€šè¿‡é‚®ä»¶ã€é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡ç­‰å‘é€å‘Šè­¦ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Electronåšæ‚¬æµ®çª—æœ‰äº¿ç‚¹å¿ƒç´¯...]]></title>    <link>https://juejin.cn/post/7602073973308948495</link>    <guid>https://juejin.cn/post/7602073973308948495</guid>    <pubDate>2026-02-02T09:54:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602073973308948495" data-draft-id="7584043969687535668" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Electronåšæ‚¬æµ®çª—æœ‰äº¿ç‚¹å¿ƒç´¯..."/> <meta itemprop="keywords" content="Electron"/> <meta itemprop="datePublished" content="2026-02-02T09:54:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åšå¼ºå°æ©™"/> <meta itemprop="url" content="https://juejin.cn/user/4478735959722827"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Electronåšæ‚¬æµ®çª—æœ‰äº¿ç‚¹å¿ƒç´¯...
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4478735959722827/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åšå¼ºå°æ©™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:54:49.000Z" title="Mon Feb 02 2026 09:54:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘æ¥åˆ°ä¸€ä¸ªéœ€æ±‚æ˜¯æ”¹é€ é¡¹ç›®å·²æœ‰çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œæ˜¯ä¸€ä¸ªæ‚¬æµ®å°çƒï¼Œå¯ä»¥æ»¡å±æ‹–æ‹½ï¼Œå¿«åˆ°å±å¹•è¾¹ç¼˜è¿˜è¦èƒ½å¸é™„ã€‚å¬èµ·æ¥è¿˜æŒºç®€å•çš„ï¼Œæœ¬æ¥è®¾ç½®å¯ä»¥æ‹–æ‹½çš„app-regionå°±å¯ä»¥ï¼Œä½†æ˜¯ç»“åˆé¼ æ ‡ç§»å…¥è¦å±•å¼€ä¸€ä¸ªä¾›ç”¨æˆ·äº¤äº’çš„æ“ä½œé¢æ¿ï¼Œé¼ æ ‡ç§»å‡ºè¿˜è¦éšè—æ“ä½œé¢æ¿ï¼Œå°±å¾—è‡ªå·±å¤„ç†å„ç§é¼ æ ‡äº‹ä»¶äº†ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousedown'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove)
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseup'</span>, handleMouseUp)
})

</code></pre>
<p>ç„¶åéœ€æ±‚è¿˜è¦æå‰é¢„åˆ¤æ“ä½œé¢æ¿æ‰“å¼€æ˜¯å¦ä¼šè¶…å‡ºå±å¹•ï¼Œå¦åˆ™å°†å±•ç¤ºä¸å…¨ï¼Œå’±å°±æ˜¯è¯´ä¹Ÿæ˜¯å¤Ÿè´´å¿ƒçš„ã€‚äºæ˜¯åœ¨æŠ¬èµ·é¼ æ ‡ä¹Ÿå°±æ˜¯æœ€ç»ˆç¡®å®šç§»åŠ¨ä½ç½®çš„æ—¶å€™ï¼Œæˆ‘å°½å¯èƒ½è¯¦å°½çš„è®°å½•äº† é¼ æ ‡ä½ç½® / çª—å£ä½ç½® /é¼ æ ‡ç›¸å¯¹äºå…ƒç´ ä½ç½® ç­‰ä¿¡æ¯ï¼Œ ä»¥æ–¹ä¾¿åšå„ç§è®¡ç®—ã€‚</p>
<pre><code class="hljs language-js" lang="js"> <span class="hljs-keyword">const</span> <span class="hljs-attr">eventInfo</span>: <span class="hljs-title class_">MouseInfo</span> = {
    <span class="hljs-attr">windowX</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenX</span>,
    <span class="hljs-attr">windowY</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">screenY</span>,
    <span class="hljs-attr">windowWidth</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">outerWidth</span>,
    <span class="hljs-attr">windowHeight</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">outerHeight</span>,
    <span class="hljs-attr">mouseInMiniX</span>: e.<span class="hljs-property">offsetX</span>,
    <span class="hljs-attr">mouseInMiniY</span>: e.<span class="hljs-property">offsetY</span>,
    <span class="hljs-attr">mouseScreenX</span>: e.<span class="hljs-property">screenX</span>,
    <span class="hljs-attr">mouseScreenY</span>: e.<span class="hljs-property">screenY</span>,
    <span class="hljs-attr">miniRectWidth</span>: miniRec.<span class="hljs-property">width</span>,
    <span class="hljs-attr">miniRectHeight</span>: miniRec.<span class="hljs-property">height</span>
  }

</code></pre>
<p>ç„¶åæ—¢ç„¶æ˜¯æ‚¬æµ®çª—ï¼Œæ„å‘³ç€è¿™ä¸ªå°çƒå…ƒç´ å¾—ç”¨ä¸€ç§è„±ç¦»æ–‡æ¡£æµçš„ç»å¯¹å¸ƒå±€ï¼Œå…¶ä»–é™„å±å…ƒç´ è¦åŸºäºå°çƒæˆ–è€…å®¹å™¨å®šä½ï¼Œ æˆ‘è¿™è¾¹å°±ç”¨ä¸€ä¸ªåŠ¨æ€æ ·å¼å»æ”¹å˜å°çƒçš„ä½ç½®ï¼Œå–å†³äºå°çƒå¤„äºå±å¹•çš„ä½ç½®ï¼Œä½†æ˜¯ç°åœ¨æœ‰ä¸ªé—®é¢˜æ˜¯ï¼Œå°çƒè®¾ç½®ä¸ºç›®æ ‡ä½ç½®åï¼Œæœ‰æ—¶å€™ä¼šåœ¨åŸå§‹ä½ç½®å¿«é€Ÿé—ªä¸€ä¸‹ï¼Œè¿™ä¸ªè¿˜æ²¡æœ‰æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯å¤§æ¦‚èƒ½ç†è§£äº§ç”Ÿçš„åŸå› ï¼Œéœ€è¦å±è”½åŸå§‹ä½ç½®çš„æ¸²æŸ“å¸§ã€‚</p>
<pre><code class="hljs language-js" lang="js">&lt;<span class="hljs-title class_">FloatBar</span>
    :style=<span class="hljs-string">"{ transform: `translate(${transform.mini.x}, ${transform.mini.y})` }"</span>
 &gt;
&lt;/<span class="hljs-title class_">FloatBar</span>&gt;
</code></pre>
<p>æœ€åæ˜¯ç”±äºæ‚¬æµ®çª—çš„åˆå§‹ä½ç½®åœ¨æ¡Œé¢é è¿‘è¾¹ç¼˜çš„ä½ç½®ï¼Œè¿™æ—¶å€™ç”¨æˆ·æœ‰å¯èƒ½æ”¹å˜å±å¹•ç¼©æ”¾ï¼Œæ¯”å¦‚æ”¹æˆ200%ï¼Œ è¿™æ—¶å€™æ‚¬æµ®çª—å°±æœ‰å¯èƒ½æ˜¾ç¤ºåœ¨å·¥ä½œåŒºä»¥å¤–äº†ï¼Œæ‰€ä»¥éœ€è¦é€‚é…ç¼©æ”¾ç‡ï¼Œé‡ç½®ä¸€ä¸‹çª—å£çš„ä½ç½®</p>
<pre><code class="hljs language-js" lang="js">screen.<span class="hljs-title function_">on</span>(<span class="hljs-string">'display-metrics-changed'</span>, <span class="hljs-function">(<span class="hljs-params">event, display, changedMetrics</span>) =&gt;</span> {
     <span class="hljs-variable language_">this</span>.<span class="hljs-property">window</span>.<span class="hljs-title function_">setBounds</span>({
          x,
          y,
          width,
          height
        })
    })
</code></pre>
<p>å¦å¤–è¿˜æœ‰é¼ æ ‡ç©¿é€äº‹ä»¶éœ€è¦å¤„ç†ï¼Œå› ä¸ºçª—å£æ˜¯æ–¹å½¢çš„ï¼Œæ‚¬æµ®çƒé€šå¸¸æ˜¯åœ†å½¢çš„ï¼Œå¦‚æœä¸å¤„ç†é¼ æ ‡ç©¿é€ï¼Œå‘¨å›´ä¼šæœ‰ä¸€åœˆçœ‹ä¼¼é€æ˜çš„åŒºåŸŸï¼Œå´ä¸èƒ½è§¦å‘é¼ æ ‡ç‚¹å‡»åˆ°ä¸‹æ–¹çª—å£ï¼Œæ‰€ä»¥åŸºæœ¬è¦åœ¨çª—å£ focusçš„æ—¶å€™è®¾ç½®<code>window.api?.ignoreMouse(true)</code>ï¼Œ çª—å£å¤±ç„¦çš„æ—¶å€™è®¾ç½® <code>window.api?.ignoreMouse(false)</code>.</p>
<p>æ€»ç»“ï¼Œä¸€ä¸ª browserWindow API ç¡®å®æ˜¯å¯ä»¥çµæ´»çš„å®ç°ä»»ä½•å½¢å¼å’Œæ•ˆæœçš„çª—å£ï¼Œä¸è¿‡éœ€è¦å¾ˆç»†å¿ƒçš„å¤„ç†å„ä¸ªçª—å£ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠçª—å£ä¸å±å¹•çš„å…³ç³»ã€‚æ›´æ²¡æåˆ°ï¼Œè¿˜è¦å¤§é‡å¤„ç†æ‚¬æµ®çª—æ­é…ä¸»çª—åŠŸèƒ½çš„è¿›ç¨‹é€šè®¯/åŒæ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Moltbookæ¼æ´å¤§åˆ°å¯ä»¥å†’å……Karpathyå‘å¸–ï¼Œé»‘å®¢éƒ½æ€¥äº†]]></title>    <link>https://juejin.cn/post/7602073088428130319</link>    <guid>https://juejin.cn/post/7602073088428130319</guid>    <pubDate>2026-02-02T10:46:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602073088428130319" data-draft-id="7602072652606914600" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Moltbookæ¼æ´å¤§åˆ°å¯ä»¥å†’å……Karpathyå‘å¸–ï¼Œé»‘å®¢éƒ½æ€¥äº†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-02-02T10:46:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Moltbookæ¼æ´å¤§åˆ°å¯ä»¥å†’å……Karpathyå‘å¸–ï¼Œé»‘å®¢éƒ½æ€¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:46:49.000Z" title="Mon Feb 02 2026 10:46:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šå‘¨æœ«ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MzI4MjgzMw%3D%3D%26mid%3D2651014742%26idx%3D1%26sn%3Db02dcd91ded4159d4c24094a3b715d9d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2651014742&amp;idx=1&amp;sn=b02dcd91ded4159d4c24094a3b715d9d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å·ç§°ã€ŒAI ç‰ˆ Redditã€çš„ MoltbookÂ </a>é—¹å¾—æ²¸æ²¸æ‰¬æ‰¬ã€‚</p>
<p>æœ€åˆï¼Œå‡­å€Ÿã€ŒAI å‘å¸–ã€äººç±»å›´è§‚ã€çš„è®¾å®šåœ¨ AI ç¤¾åŒºä¸€ç‚®èµ°çº¢ï¼Œå¸å¼•å¤§é‡ç½‘å‹å›´è§‚ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7782cb12c1e144e1ae1780fb2e820c63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=8KI3exUxNVdoG3cSrX3YgyGUpII%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½†å¾ˆå¿«å°±æœ‰äººæ›å‡º<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MzI4MjgzMw%3D%3D%26mid%3D2651014788%26idx%3D1%26sn%3Ddf17bda7251e99cc16003a296c563133%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2651014788&amp;idx=1&amp;sn=df17bda7251e99cc16003a296c563133&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¹³å°ä¸Šçš„å¾ˆå¤šå†…å®¹æ˜¯å‡çš„</a>ï¼Œé‚£äº›çœ‹ä¼¼ç”± AI ç”Ÿæˆçš„å¸–å­ï¼Œå®é™…ä¸Šéƒ½æ˜¯äººç±»é€šè¿‡åç«¯å‘å¸ƒçš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/064212b1caa642c5972713b4616cac6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=Lie9%2BnUCnuYxjJWQYlFwUx36%2B6Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç”šè‡³è¿å¹³å°æ ‡æ¦œçš„ AI Agent æ³¨å†Œæ•°é‡ä¹Ÿæ˜¯å‡çš„ã€‚å› ä¸ºåˆ›å»ºè´¦å·æ—¶æ²¡æœ‰ä»»ä½•é€Ÿç‡é™åˆ¶ï¼Œä»»ä½•äººã€åŒ…æ‹¬ AI éƒ½èƒ½ç–¯ç‹‚æ‰¹é‡æ³¨å†Œå‡è´¦å·ã€‚æå®¢ Nagli äº²æ‰‹ç”¨è‡ªå·±çš„ Openclaw åœ¨çŸ­æ—¶é—´å†…å°±åˆ·å‡ºäº† 50 ä¸‡ä¸ªå‡ç”¨æˆ·ã€‚</p>
<p>å‘¨å…­æˆªè‡³æœºå™¨ä¹‹å¿ƒå‘ç¨¿å‰ï¼ŒMoltbook æ³¨å†Œçš„ AI Agent æ•°é‡ä¹Ÿåªæ˜¯ 50 å¤šä¸‡ä¸ªï¼Œä½†åˆ°äº†å‘¨æ—¥ï¼Œä¸€ä¸‹å­å°±è¶…è¿‡ 150 ä¸‡äº†ï¼ŒåŸæ¥è¿™å¤¸å¼ çš„å¢é•¿é€Ÿåº¦èƒŒåå…¨æ˜¯æ°´åˆ†ã€‚</p>
<p>é€ å‡é£æ³¢å°šæœªå¹³æ¯ï¼Œç°åœ¨ Moltbook åˆé™·å…¥æ›´ä¸¥é‡çš„å®‰å…¨é—®é¢˜ã€‚</p>
<p>ä¸€ä½åä¸º Jamieson O'Reilly çš„ç™½å¸½é»‘å®¢å‘å¸–ç§°ï¼ŒMoltbook å­˜åœ¨é‡å¤§å®‰å…¨æ¼æ´ï¼Œå¯¼è‡´æ•´ä¸ªæ•°æ®åº“æš´éœ²åœ¨å…¬ä¼—é¢å‰ï¼ŒåŒ…æ‹¬ç§˜å¯† API å¯†é’¥åœ¨å†…çš„æ‰€æœ‰æ•æ„Ÿä¿¡æ¯éƒ½å¯è¢«ä»»æ„è®¿é—®ã€‚</p>
<p>è¿™æ„å‘³ç€ä»»ä½•äººéƒ½å¯ä»¥å†’å……å¹³å°ä¸Šä»»æ„ Agent çš„èº«ä»½å‘å¸–ï¼Œç”šè‡³åŒ…æ‹¬æ‹¥æœ‰ 190 ä¸‡ç²‰ä¸çš„ AI é¢†åŸŸçŸ¥åäººç‰© Karpathyã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42455cef71374f6781cfb22b82d4f05b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=TZH5Zu76%2BLp7%2FgzrESEI18bL%2F2I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ã€Œæƒ³è±¡ä¸€ä¸‹ï¼Œå‡çš„ AI å®‰å…¨è¨€è®ºã€åŠ å¯†è´§å¸è¯ˆéª—æ¨å¹¿ï¼Œæˆ–ç…½åŠ¨æ€§çš„æ”¿æ²»å£°æ˜ï¼Œçœ‹èµ·æ¥éƒ½åƒæ˜¯å‡ºè‡ª Karpathy ä¹‹å£ã€‚è€Œä¸”ä¸åªæ˜¯ Karpathyï¼Œä»æˆ‘æŒæ¡çš„æƒ…å†µæ¥çœ‹ï¼Œæ•´ä¸ªå¹³å°ä¸Šçš„æ‰€æœ‰ Agent ç›®å‰éƒ½æš´éœ²äº†ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc745318823e461b8448e1f7af22b503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=UpvSO83F20ncFOLXIvVzQuoeUws%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æœ‰ç½‘å‹åœ¨åº•ä¸‹è¯„è®ºåŒºè¯¢é—®æ¼æ´çš„å…·ä½“æˆå› ï¼Œã€Œæ˜¯ Superbase çš„é—®é¢˜å—ï¼Ÿä¸ºä»€ä¹ˆäººä»¬å¯ä»¥å¯¹æ•°æ®åº“è¿è¡ŒæŸ¥è¯¢ï¼Ÿã€</p>
<p>Jamieson O'Reilly è§£é‡Šç§°ï¼Œè¯¥æ¼æ´æ¶‰åŠå¤šä¸ªå®‰å…¨é—®é¢˜ï¼Œå…¶ä¸­æœ€ä¸¥é‡çš„æ˜¯ Moltbook ä½¿ç”¨çš„ Supabase å¯†é’¥è¢«å…¬å¼€æš´éœ²ï¼Œå…è®¸ä»»ä½•äººå¯¹ Agents è¡¨è¿›è¡Œå…¬å¼€è¯»å–ã€‚</p>
<p>æ”»å‡»è€…åªéœ€å‘é€ä¸€ä¸ªç®€å•çš„ GET è¯·æ±‚å³å¯è·å–ç”¨æˆ·çš„æ‰€æœ‰æ•°æ®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/rest/v1/agents?name=eq.theonejvo&amp;apikey=xxxxxÂ 
</code></pre>
<p>è¿™ä¸ªè¯·æ±‚å¯ä»¥ç›´æ¥å¯¼å‡ºæŒ‡å®šç”¨æˆ·çš„å®Œæ•´ä¿¡æ¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce8be34b89914d9fa171628125493208~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=v9eNxTIYAuQG0ScY1SDpEKbjYR0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨è¿‡å»å‡ å°æ—¶å†…ï¼ŒJamieson O'Reilly ä¸€ç›´è¯•å›¾è”ç³» Moltbook åˆ›å§‹äººï¼Œä½†æœªè·å›åº”ã€‚ä»–åªèƒ½åœ¨æ¨æ–‡ä¸­å…¬å¼€å–Šè¯ï¼šã€Œè¦ä¹ˆç›´æ¥å…³é—­ä½ ä»¬çš„ supabase æ•°æ®åº“è®¿é—®ï¼Œè¦ä¹ˆé©¬ä¸Šè®©ä½ ä»¬çš„ AI ç¼–ç åŠ©æ‰‹æ‰§è¡Œä»¥ä¸‹æ“ä½œã€ã€‚</p>
<p>ä»–ç»™å‡ºäº†å…·ä½“çš„ä¿®å¤æ–¹æ¡ˆï¼š</p>
<ol>
<li>åœ¨ agents è¡¨ä¸Šå¯ç”¨è¡Œçº§å®‰å…¨ç­–ç•¥ (RLS)ï¼š</li>
</ol>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span>Â <span class="hljs-keyword">TABLE</span>Â agents ENABLE <span class="hljs-type">ROW</span> LEVEL SECURITY;
</code></pre>
<p>2.  åˆ›å»ºé™åˆ¶æ€§è®¿é—®ç­–ç•¥ï¼Œé˜»æ­¢åŒ¿åç”¨æˆ·ç›´æ¥è®¿é—®è¡¨æ•°æ®ï¼š</p>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- Public can only see non-sensitive columns via a view</span>
<span class="hljs-keyword">CREATE</span>Â POLICY "anon_read_public_fields"Â <span class="hljs-keyword">ON</span>Â agents
<span class="hljs-keyword">FOR</span>Â <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">TO</span>Â anon
<span class="hljs-keyword">USING</span>Â (<span class="hljs-literal">false</span>);
<span class="hljs-comment">-- Authenticated users see only their own</span>
<span class="hljs-keyword">CREATE</span>Â POLICY "users_own_data"Â <span class="hljs-keyword">ON</span>Â agents
<span class="hljs-keyword">FOR</span>Â <span class="hljs-keyword">SELECT</span>Â <span class="hljs-keyword">TO</span>Â authenticated
<span class="hljs-keyword">USING</span>Â (auth.uid()Â <span class="hljs-operator">=</span>Â owner_id);
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8efb9157f238463b84d7bdaa03be93f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=T32K0pInH4KYN1wYVPulcKqQxU0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Supabase çš„ CEO çœ‹åˆ°æ¶ˆæ¯åè¡¨ç¤ºï¼Œä»–ä»¬å·²ç»åŠªåŠ›è”ç³»å¹¶é…åˆ Moltbook åˆ›å»ºè€…å¤„ç†æ­¤äº‹ï¼Œä½†ä»–ä»¬æ— æ³•æ›¿ç”¨æˆ·ç›´æ¥æ‰§è¡Œè¿™ç±»æ•°æ®åº“æƒé™ä¿®æ”¹ã€‚Supabase å¹³å°çš„å®‰å…¨é¡¾é—®å›¢é˜Ÿå·²ç»å‡†å¤‡å¥½äº†ä¸€é”®ä¿®å¤æ–¹æ¡ˆï¼Œåªè¦åˆ›å»ºè€…ç‚¹å‡»ä¸€ä¸‹ï¼Œå°±èƒ½ç«‹å³å°å µè¿™ä¸ªæ¼æ´ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bd1fe6fbd4541789fc8b3142dbae6a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=%2BPy9gssodDJUxukUf4E4ANxM%2Bwo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>éšåï¼ŒMoltbook åˆ›å»ºè€… Matt Schlicht å›åº”ç§°ï¼Œä»–å·²ç»åœ¨å¤„ç†äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f693b42480354b4088394b9ed602213c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=kkQd5zJodk7%2FmH1WJRKnqoBepYM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¿®å¤å¼•å‘æ–°é—®é¢˜</p>
<p>Jamieson O'Reilly åœ¨ç´§å¯†è·Ÿè¸ªä¿®å¤è¿›ç¨‹åå‘ç°äº†æ–°éº»çƒ¦ï¼šå¦‚æœç°åœ¨æŠŠæ‰€æœ‰ Agent çš„ API å¯†é’¥å…¨éƒ¨é‡ç½®æ¢æˆæ–°çš„ï¼ˆè¿™æ˜¯ä¿®å¤å®‰å…¨æ¼æ´çš„å¿…è¦æ­¥éª¤ï¼‰ï¼Œé‚£ç”¨æˆ·å°±å…¨å‚»çœ¼äº†ã€‚</p>
<p>åŸå› åœ¨äºï¼Œ Moltbook è¿™ä¸ªå¹³å°æ ¹æœ¬æ²¡æœ‰ç½‘é¡µç™»å½•åŠŸèƒ½ï¼Œç”¨æˆ·åªèƒ½é  API å¯†é’¥æ¥æ§åˆ¶è‡ªå·±çš„æœºå™¨äººã€‚ä¸€æ—¦å¯†é’¥æ¢äº†ï¼Œæ‰€æœ‰ç”¨æˆ·ç¬é—´è¢«é”æ­»ï¼Œæ²¡æ³•å†å‘å¸–ã€æ“ä½œè‡ªå·±çš„ AI Agentã€‚æ—¢æ²¡æœ‰é‚®ç®±éªŒè¯ï¼Œä¹Ÿæ²¡æœ‰ç½‘é¡µé‡ç½®å¯†ç å•¥çš„ï¼Œç”¨æˆ·æ²¡æœ‰ä»»ä½•æ¢å¤åŠæ³•ã€‚</p>
<p>ä»–ç»™å‡ºäº†ä¸¤ä¸ªå¯èƒ½çš„è§£å†³æ€è·¯ï¼šè¦ä¹ˆåšä¸€ä¸ªä¸´æ—¶çš„ã€Œæ—§å¯†é’¥æ¢æ–°å¯†é’¥ã€æ¥å£ï¼Œç»™ä¸€æ®µå®½é™æœŸè®©ç”¨æˆ·è‡ªè¡Œæ›´æ¢ï¼›è¦ä¹ˆå¼ºåˆ¶æ‰€æœ‰äººé€šè¿‡ X è´¦å·é‡æ–°éªŒè¯èº«ä»½æ¥è·å–æ–°å¯†é’¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10defa2fdd03419683a14a1207fa00b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=KeFp%2F388qsd39dPX4V9ACJ4HGz8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œä¸€åå‰ Anthropic å·¥ç¨‹å¸ˆè¿˜å‘å¸ƒäº†é’ˆå¯¹ OpenClawï¼ˆå‰èº«ä¸º Moltbot å’Œ ClawdBotï¼‰çš„ä¸€é”®è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚</p>
<p>è¯¥æ”»å‡»åœ¨å—å®³è€…è®¿é—®ç½‘é¡µåå‡ æ¯«ç§’å†…å‘ç”Ÿï¼Œæ”»å‡»è€…å¯è·å¾— Moltbot åŠå…¶è¿è¡Œç³»ç»Ÿçš„è®¿é—®æƒé™ï¼Œè€Œå—å®³è€…æ— éœ€è¾“å…¥ä»»ä½•å†…å®¹æˆ–æ‰¹å‡†æç¤ºã€‚ç›®å‰è¯¥æ¼æ´å·²ä¿®è¡¥ã€‚</p>
<p>æœ‰æœºå™¨ä¹‹å¿ƒè¯»è€…åœ¨åå°åé¦ˆç§°ï¼Œä»–ä»¬å•ä½å·²ç»å‘å¸ƒ Clawdbot å¹³å°æœ‰é‡å¤§æ¼æ´çš„æƒ…å†µé€šå‘Šï¼Œè¦æ±‚å†…éƒ¨ç¦æ­¢ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d8dc7c953a74237bf502767eaa0e1c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634009&amp;x-signature=Vp%2FzByldwnxOAhU6A62dcmJw7%2Bk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fjavilopen%2Fstatus%2F2017880072946893112%3Fs%3D20" target="_blank" title="https://x.com/javilopen/status/2017880072946893112?s=20" ref="nofollow noopener noreferrer">x.com/javilopen/sâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FKookCapitalLLC%2Fstatus%2F2018057772118519928%3Fs%3D20" target="_blank" title="https://x.com/KookCapitalLLC/status/2018057772118519928?s=20" ref="nofollow noopener noreferrer">x.com/KookCapitalâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FIntCyberDigest%2Fstatus%2F2018095767391477964" target="_blank" title="https://x.com/IntCyberDigest/status/2018095767391477964" ref="nofollow noopener noreferrer">x.com/IntCyberDigâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fgalnagli%2Fstatus%2F2017585025475092585" target="_blank" title="https://x.com/galnagli/status/2017585025475092585" ref="nofollow noopener noreferrer">x.com/galnagli/stâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code 2026å¹´æœ€æ–°ä¿å§†çº§å®‰è£…æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602106969697632319</link>    <guid>https://juejin.cn/post/7602106969697632319</guid>    <pubDate>2026-02-02T10:47:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602106969697632319" data-draft-id="7602082590732664868" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code 2026å¹´æœ€æ–°ä¿å§†çº§å®‰è£…æŒ‡å—"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,LLM,AIGC"/> <meta itemprop="datePublished" content="2026-02-02T10:47:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ«æƒ¹CC"/> <meta itemprop="url" content="https://juejin.cn/user/4095037267779687"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code 2026å¹´æœ€æ–°ä¿å§†çº§å®‰è£…æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4095037267779687/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ«æƒ¹CC
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:47:26.000Z" title="Mon Feb 02 2026 10:47:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#444;background-image:linear-gradient(90deg,rgba(59,59,59,.1) 3%,transparent 0),linear-gradient(1turn,rgba(122,120,121,.1) 3%,transparent 0);background-size:30px 30px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:34px;margin-bottom:16px;font-weight:700;line-height:1.3;cursor:text;color:#444;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body h1{font-size:41px;margin-bottom:34px;line-height:1.5}.markdown-body h1:before{content:""}.markdown-body h2{font-size:30px;padding-left:.4em;border-left:.4em solid #5e5e5e;border-bottom:1px solid #444}.markdown-body h2:after{content:"ğŸ•›";position:absolute;top:0;right:0;transition:all;animation:rotate 10s linear infinite}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.markdown-body h3{border-left:.4em solid #8d8d8d;font-size:24px;padding-left:.4em}.markdown-body h4{font-size:20px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:14px}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body table,.markdown-body ul{margin:.8em 0}.markdown-body strong{font-weight:1000;position:relative;color:#444;padding:0 3px}.markdown-body em{font-weight:inherit}.markdown-body a{box-sizing:border-box;color:grey;position:relative}.markdown-body a:before{position:absolute;box-sizing:border-box;content:"Go -&gt;";left:0;width:100%;max-width:0;color:#fff;background-color:hsla(0,0%,50.2%,.8);white-space:nowrap;transition:.2s ease;pointer-events:none;overflow:hidden}.markdown-body a:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background-color:grey}.markdown-body a:active:before,.markdown-body a:hover:before{max-width:100%;padding-left:8px;border-radius:5px}.markdown-body hr{position:relative;width:100%;height:1px;border:none;margin-top:36px;margin-bottom:36px;background:linear-gradient(90deg,grey,#f1f1f1,#444,#444,#f1f1f1,grey);overflow:visible}.markdown-body ol,.markdown-body ul{padding-left:32px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px;list-style:inherit}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol{counter-reset:my-counter}.markdown-body ol&gt;li{padding-left:6px;list-style:none;counter-increment:my-counter;position:relative}.markdown-body ol&gt;li:before{position:absolute;left:-1.5em;content:counter(my-counter);font-weight:700}.markdown-body ol&gt;li:first-child:before{content:"1ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(2):before{content:"2ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(3):before{content:"3ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(4):before{content:"4ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(5):before{content:"5ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(6):before{content:"6ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(7):before{content:"7ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(8):before{content:"8ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(9):before{content:"9ï¸âƒ£"}.markdown-body ol&gt;li:nth-child(10):before{content:"ğŸ”Ÿ"}.markdown-body ul&gt;li{list-style:none;position:relative}.markdown-body ul&gt;li:before{z-index:10;position:absolute;left:-1.57em;content:"ğŸ”¹";margin-right:12px}.markdown-body ul&gt;li input{margin-left:8px!important}.markdown-body blockquote{position:relative;background-color:#d3d3d3;padding:5px 10px;border-left:.2em solid #000;border-radius:3px;transition:all .8s ease}.markdown-body blockquote:hover{opacity:.7}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(69,69,77,.8);color:#fff;font-size:.87em;padding:.07em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:7px;overflow:hidden}.markdown-body pre:before{z-index:10;position:absolute;top:14px;left:14px;width:12px;height:12px;border-radius:50%;background:#fc625d;-webkit-box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;box-shadow:20px 0 #fdbc40,40px 0 #35cd4b;content:" "}.markdown-body pre:after{z-index:9;content:"";position:absolute;width:100%;height:40px;top:0;background-color:#1a1a1a}.markdown-body pre&gt;code{display:block;font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#171717;color:#bababa;font-size:14px;padding:40px 20px 20px}.markdown-body del{color:grey}.markdown-body table{margin-bottom:1.25rem;border-collapse:collapse}.markdown-body table td,.markdown-body table th{margin:0;padding:8px;line-height:20px;vertical-align:middle;border:1px solid #ddd}.markdown-body table thead,.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table thead th,.markdown-body table tr:nth-child(2n) th{font-weight:700;vertical-align:middle;color:#444}.markdown-body table tbody tr td{font-weight:400;color:#444}.markdown-body table tbody tr:hover{background-color:#d3d3d3}.markdown-body table tbody tr:hover td{color:#fff}.markdown-body img{max-width:100%;margin:0 12px}@media (max-width:720px){.markdown-body h1{font-size:32.8px}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:19.2px}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:12.8px}}</style><style data-highlight="" data-highlight-key="hybrid">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1d1f21}.hljs::selection,.hljs span::selection{background:#373b41}.hljs::-moz-selection,.hljs span::-moz-selection{background:#373b41}.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#c5c8c6}.hljs-name,.hljs-title{color:#f0c674}.hljs-comment,.hljs-meta,.hljs-meta .hljs-keyword{color:#707880}.hljs-deletion,.hljs-link,.hljs-literal,.hljs-number,.hljs-symbol{color:#c66}.hljs-addition,.hljs-doctag,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string{color:#b5bd68}.hljs-attribute,.hljs-code,.hljs-selector-id{color:#b294bb}.hljs-bullet,.hljs-keyword,.hljs-selector-tag,.hljs-tag{color:#81a2be}.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-variable{color:#8abeb7}.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-selector-class,.hljs-type{color:#de935f}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å°†å¸¦å„ä½è¯»è€…ä¸€æ­¥æ­¥å®Œæˆ<code>Claude Code</code>çš„å®‰è£…ï¼Œå¹¶é€šè¿‡â€œé­”æ”¹â€é…ç½®è§£é”ç¬¬ä¸‰æ–¹ç«¯ç‚¹æ”¯æŒï¼Œè®©ä½ æ‘†è„±å®˜æ–¹çš„é™åˆ¶ï¼Œå®ç°æ›´çµæ´»çš„ AI ç¼–ç¨‹ä½“éªŒã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒå‡†å¤‡ï¼šå®‰è£… Node.js</h2>
<p><code>Claude Code</code> ä¾èµ– <code>Node.js</code> ç¯å¢ƒï¼Œé¦–å…ˆéœ€è¦ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²æ­£ç¡®å®‰è£… <code>Node.js</code>ã€‚</p>
<h3 data-id="heading-1">1.ä¸‹è½½</h3>
<p>è®¿é—® Node.js å®˜ç½‘ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2Fdownload)%25EF%25BC%258C" target="_blank" title="https://nodejs.org/en/download)%EF%BC%8C" ref="nofollow noopener noreferrer">nodejs.org/en/downloadâ€¦</a> ä¸‹è½½é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23a86507fdcb4a0abf131a1a4d7b243b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=5Gs%2B3gLGBc5GvHHXNcxc4Ksb4T4%3D" alt="1.png" loading="lazy"/></p>
<h3 data-id="heading-2">2.éªŒè¯å®‰è£…</h3>
<p>å®‰è£…å®Œæˆåï¼Œæ‰“å¼€<code>PowerShell (Windows)</code> æˆ–ç»ˆç«¯ <code>(macOS/Linux)</code>ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ç‰ˆæœ¬ï¼Œå‡ºç°ç‰ˆæœ¬å·å³è¡¨ç¤ºæˆåŠŸã€‚</p>
<pre><code class="hljs language-powershell" lang="powershell">node -v
npm -v
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e073205c201d480589405c63f32ee92e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=MJO%2B0Q%2FktRcfRys4f168mgV0aHA%3D" alt="2.png" loading="lazy"/></p>
<h2 data-id="heading-3">äºŒã€å®‰è£…Claude Code</h2>
<p>æˆªæ­¢æœ¬æ–‡å‘å¸ƒçš„æ—¶å€™ï¼Œæœ€æ–°ç‰ˆæœ¬2.1.19å·²ç»æ”¾å¼ƒäº†<code>npm</code>å®‰è£…æ–¹å¼ï¼Œæ‰€ä»¥é€šè¿‡<code>npm</code>å®‰è£…çš„åç»­ä¹Ÿä¸å†è‡ªåŠ¨æ›´æ–°ã€‚å¦‚æœä½ ä»¥å‰æ˜¯é€šè¿‡<code>npm</code>å®‰è£…çš„ï¼Œå¯ä»¥é€šè¿‡å®˜æ–¹çš„å‘½ä»¤å‡çº§æˆæœ€æ–°çš„åŸç”Ÿç‰ˆæœ¬ã€‚</p>
<pre><code class="hljs language-powershell" lang="powershell">claude install
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aac5b2bab6834ba282794739513b1025~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=ejZBonpaPKwSvGITZfvpEBQ3AkM%3D" alt="2-1.png" loading="lazy"/></p>
<p>æœ€æ–°çš„åŸç”Ÿç‰ˆæœ¬çš„å®‰è£…æ–¹å¼å¤§å®¶æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿé€‰æ‹©å¯¹åº”çš„å‘½ä»¤å³å¯ï¼ˆè®°å¾—å¼€å¯ç§‘å­¦ä¸Šç½‘ï¼‰ã€‚</p>
<pre><code class="hljs language-powershell" lang="powershell"># Macç”¨æˆ·
brew install claude-code

# Linuxç”¨æˆ·
curl -fsSL https://claude.ai/install.sh | bash

# Windows PowerShellç”¨æˆ·
irm https://claude.ai/install.ps1 | iex
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9561cb95680a445f92cda5d2eb6d17e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=w88mQP33SURhl4At56NULrVm9PE%3D" alt="2-2.png" loading="lazy"/></p>
<p>æŸ¥çœ‹ç‰ˆæœ¬å·</p>
<pre><code class="hljs language-powershell" lang="powershell">Claude --version
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€å¼€å¯ç¬¬ä¸‰æ–¹ç«¯ç‚¹é…ç½®</h2>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Claude Code</code> ä»…æ”¯æŒå®˜æ–¹æ¨¡å‹ã€‚æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶æ¥é€šè¿‡â€œéªŒè¯é—¨æ§›â€å¹¶å¼€å¯ç¬¬ä¸‰æ–¹æ¨¡å‹æ”¯æŒã€‚æ­¤æ­¥éª¤åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†çš„é…ç½®ï¼š</p>
<h3 data-id="heading-5">1.keyç±»å‹é…ç½®</h3>
<p>æˆ‘ä»¬éœ€è¦åœ¨ <code>.claude</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ª<code> config.json</code>æ–‡ä»¶ã€‚</p>
<ul>
<li>
<p><strong>æ–‡ä»¶è·¯å¾„</strong>ï¼š</p>
<ul>
<li>
<p><strong>Windows</strong>:</p>
<pre><code class="hljs language-powershell" lang="powershell">C:\Users\ä½ çš„ç”¨æˆ·å\.claude\
</code></pre>
</li>
<li>
<p><strong>macOS/Linux</strong>:</p>
<pre><code class="hljs language-powershell" lang="powershell">~/.claude/
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>æ–‡ä»¶å†…å®¹</strong>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"primaryApiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"any-string-is-ok-here"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å¿«é€Ÿåˆ›å»ºå‘½ä»¤ (PowerShell)ï¼š</strong> ä½ ä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶ä»¥ä¸‹å‘½ä»¤åœ¨ PowerShell ä¸­è¿è¡Œï¼Œä¸€é”®åˆ›å»ºè¯¥æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">$path = "$HOME\.claude"; if (!(Test-Path $path)) { New-Item -ItemType Directory -Path $path -Force }; Set-Content -Path "$path\config.json" -Value '{"primaryApiKey": "any-string-is-ok-here"}'
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/563ceedc13d44f3ba7fe61c2776d6bf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=ALrnXQ5zBgqPZ58IAkddztEftTU%3D" alt="4.png" loading="lazy"/></p>
<p><strong>macOS/Linux å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">mkdir -p ~/.claude &amp;&amp; echo '{"primaryApiKey": "any-string-is-ok-here"}' &gt; ~/.claude/config.json
</code></pre>
<h3 data-id="heading-6">2.è·³è¿‡å®˜æ–¹å¼•å¯¼æµç¨‹</h3>
<p>æ—§ç‰ˆæœ¬ä¸éœ€è¦æ­¤æ­¥éª¤ï¼Œä½†æ–°ç‰ˆå¿…é¡»é…ç½®ï¼Œå¦åˆ™å¯åŠ¨æ—¶ä¼šå¼ºåˆ¶è¦æ±‚ç™»å½•å®˜æ–¹è´¦å·ï¼Œæ— æ³•ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹ã€‚æˆ‘ä»¬éœ€è¦åœ¨<strong>ç”¨æˆ·ä¸»ç›®å½•</strong>ä¸‹ä¿®æ”¹æˆ–åˆ›å»º <code>.claude.json</code> æ–‡ä»¶ï¼ˆæ³¨æ„æ–‡ä»¶åå‰é¢æœ‰ä¸ªç‚¹ï¼‰ï¼Œæ·»åŠ <code>hasCompletedOnboarding</code>å­—æ®µã€‚</p>
<ul>
<li><strong>é…ç½®å†…å®¹</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
<span class="hljs-attr">"hasCompletedOnboarding"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å¿«é€Ÿè®¾ç½®å‘½ä»¤ (PowerShell)ï¼š</strong> ä½¿ç”¨ Node.js è„šæœ¬ä¸€é”®å†™å…¥ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">node --eval "
    const homeDir = os.homedir();
    const filePath = path.join(homeDir, '.claude.json');
    if (fs.existsSync(filePath)) {
        const content = JSON.parse(fs.readFileSync(filePath, 'utf-8'));
        fs.writeFileSync(filePath, JSON.stringify({ ...content, hasCompletedOnboarding: true }, null, 2), 'utf-8');
    } else {
        fs.writeFileSync(filePath, JSON.stringify({ hasCompletedOnboarding: true }), 'utf-8');
    }"
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38b616d9508a46679161b2c7ba9bc0f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=8tvuKO7d6QRvXVwWMzNitRTqMWI%3D" alt="5.png" loading="lazy"/></p>
<h2 data-id="heading-7">å››ã€é€šè¿‡æ’ä»¶æ¥å…¥ç¬¬ä¸‰æ–¹æ¨¡å‹</h2>
<p>ä¸ºäº†æ›´æ–¹ä¾¿åœ°ç®¡ç†å’Œåˆ‡æ¢é…ç½®ï¼Œæ¨èä½¿ç”¨ <code>VS Code</code> é…åˆç‰¹å®šæ’ä»¶è¿›è¡Œæ“ä½œã€‚</p>
<h3 data-id="heading-8">1.å®‰è£… Claude Code Yolo æ’ä»¶</h3>
<p>æ‰“å¼€ VS Codeï¼Œåœ¨æ‰©å±•å¸‚åœºæœç´¢å¹¶å®‰è£… <code>Claude code yolo</code>ï¼ˆè¯·æœç´¢å…¨ç§°ï¼‰ã€‚è¿™ä¸ªé­”æ”¹ç‰ˆæ’ä»¶å…è®¸åœ¨ UI ç•Œé¢ä¸­ç›´æ¥é…ç½®ç¬¬ä¸‰æ–¹æ¨¡å‹å‚æ•°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8df6fa0fa8e14e7abe3ceb7556fd8e89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=jpx%2FAPH2Xvym5kWbk7zJ72A5Rbk%3D" alt="6.png" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆåï¼ŒVS Code å³ä¸Šè§’ä¼šå‡ºç°ä¸€ä¸ª <code>Claude</code> å›¾æ ‡ã€‚ç‚¹å‡»å®ƒå³å¯å¯åŠ¨ <code>Claude Code</code> ç»ˆç«¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/319e4c4222fe4f65a871bb8ec6a5478a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=bX9jhNmiJL0GlaLCCcbUSY%2F4nU4%3D" alt="7.png" loading="lazy"/></p>
<h3 data-id="heading-9">2. é…ç½®ç¬¬ä¸‰æ–¹æ¨¡å‹</h3>
<p>å¯åŠ¨åï¼Œåœ¨ Claude Code è¾“å…¥æ¡†ä¸­è¾“å…¥ <code>/</code>ï¼Œé€‰æ‹© <strong><code>API configuration</code></strong>ï¼Œè¿›å…¥é…ç½®ç•Œé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7371d3ac47374d15842c1aa268b32a0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=Z%2FAsrlYNNgoApO56i6oZt8qTKMU%3D" alt="9.png" loading="lazy"/></p>
<p>ä»¥ <strong>DeepSeek</strong> ä¸ºä¾‹ï¼š</p>
<ol>
<li>å‰å¾€DeepSeekå¼€æ”¾å¹³å°(<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com%2Fapi_keys" target="_blank" title="https://platform.deepseek.com/api_keys" ref="nofollow noopener noreferrer">platform.deepseek.com/api_keys</a>) ç”³è¯·API keyã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcca5a5f757b4f658c196f98027ee017~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=s9V2f%2B%2BlptKLQ88iE55mz1Xfhik%3D" alt="10.png" loading="lazy"/></p>
<p>åœ¨é…ç½®ç•Œé¢å¡«å…¥å‚æ•°ï¼š</p>
<ul>
<li>
<p><strong>BASE_URL</strong>:APIåœ°å€åé¢åŠ ä¸Šanthropic</p>
</li>
<li>
<p><strong>Token</strong>: åˆšæ‰ç”³è¯·çš„ API Key</p>
</li>
<li>
<p><strong>Mode/Model</strong>: deepseek-chat</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27c4cb606d3843499b8b92b41187f9f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=4qTUAlwpayjyEl3MiObB%2FaW9Q6A%3D" alt="11.png" loading="lazy"/></p>
<p>å°†ä»»åŠ¡æ¨¡å¼ å¯ä»¥åˆ‡æ¢ä¸º <code>Ask before edits</code> (ç¼–è¾‘å‰è¯¢é—®)ï¼Œä»¥ç¡®ä¿ä»£ç ä¿®æ”¹å—æ§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3e00ed120654878b6ce1a7961f08c56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=r9jZ%2Fl2jdVcxgwAq96DLVGfStjw%3D" alt="12.png" loading="lazy"/></p>
<p>è¾“å…¥ä»»æ„å¯¹è¯ï¼Œæ£€æŸ¥ AI æ˜¯å¦å“åº”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2bdee6ce9404406a70462ca1136ef69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=shjCHYj37wQ4U3loa7Mf6XuUl5o%3D" alt="13.png" loading="lazy"/></p>
<p>ä½ ä¹Ÿå¯ä»¥åœ¨ PowerShell ä¸­ç›´æ¥è¾“å…¥ <code>claude code</code>å¯åŠ¨å‘½ä»¤è¡Œç‰ˆè¿›è¡Œä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33694fa88ea84bea80c0e8d0aeecfe03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=g4ay7bOKUkeChl757VW9mJ0YArA%3D" alt="14.png" loading="lazy"/></p>
<h2 data-id="heading-10">äº”ã€è°ƒç”¨ä¸­è½¬ API</h2>
<p>ä¸ä»…æ˜¯ç›´è¿ DeepSeekï¼Œä½ ä¹Ÿå¯ä»¥é…ç½®å„ç§ä¸­è½¬ APIã€‚è¿™é‡Œä»¥ <strong>Poe</strong> ä¸ºä¾‹ï¼š</p>
<p>1.<strong>å‚è€ƒæ–‡æ¡£</strong>ï¼šPoe å®˜æ–¹æä¾›äº†å¯¹æ¥ Claude Code çš„æ•™ç¨‹ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fcreator.poe.com%2Fdocs%2Fexternal-applications%2Fclaude-code)%25E3%2580%2582" target="_blank" title="https://creator.poe.com/docs/external-applications/claude-code)%E3%80%82" ref="nofollow noopener noreferrer">creator.poe.com/docs/externâ€¦</a> <em>(æ³¨ï¼šå¤§å®¶å¯ä»¥é€‰æ‹©è‡ªå·±ä¹ æƒ¯çš„ä¸­è½¬æœåŠ¡å•†ï¼ŒåŸç†å‡é€šç”¨)</em></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63fcafccd72a454ba8f1e902fcac0226~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=0w7MY1NN3%2FkKSYAp0NxvGF7k89A%3D" alt="15.png" loading="lazy"/></p>
<p>2.<strong>ä¿®æ”¹ç«¯ç‚¹</strong>ï¼š é‡å¤ä¸Šè¿°é…ç½®æ­¥éª¤ï¼Œå°† API Endpoint (ç«¯ç‚¹åœ°å€) ä¿®æ”¹ä¸º Poe æˆ–ä¸­è½¬å•†æä¾›çš„åœ°å€ï¼Œå¹¶å¡«å…¥å¯¹åº”çš„ Keyã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be04194b0ffa45d3a527a7bfe3a940ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=nIxQ0jSGrqA%2Ba0raWA73X1zOJDs%3D" alt="16.png" loading="lazy"/></p>
<p>3.<strong>æµ‹è¯•è¿æ¥</strong>ï¼š ä¿å­˜åæ‰“ä¸ªæ‹›å‘¼ï¼Œç¡®è®¤è¿æ¥æˆåŠŸã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96817290c02b43c58313e3cc163da4c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yir5oO5Q0M=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634145&amp;x-signature=BGiH1vGzYBhyMO0eJjEc%2BT4vMvQ%3D" alt="17.png" loading="lazy"/></p>
<p>é™¤äº†ä¸Šè¿°é…ç½®æ–¹æ³•ï¼Œç¤¾åŒºè¿˜æœ‰å¼€æºé¡¹ç›® <strong>cc-switch</strong> (<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffarion1231%2Fcc-switch)%25EF%25BC%258C%25E5%258F%25AF%25E4%25BB%25A5%25E6%259B%25B4%25E6%2596%25B9%25E4%25BE%25BF%25E5%259C%25B0%25E7%25AE%25A1%25E7%2590%2586%25E5%2592%258C%25E5%2588%2587%25E6%258D%25A2" target="_blank" title="https://github.com/farion1231/cc-switch)%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%9B%B4%E6%96%B9%E4%BE%BF%E5%9C%B0%E7%AE%A1%E7%90%86%E5%92%8C%E5%88%87%E6%8D%A2" ref="nofollow noopener noreferrer">github.com/farion1231/â€¦</a> <code>Claude Code</code> çš„å¤šç§é…ç½®ï¼Œä¹Ÿæ¨èå¤§å®¶å°è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹’ç»é€ è½®å­ï¼Quill å®ç°è‡ªå®šä¹‰æ ‡ç­¾åŠŸèƒ½çš„è¸©å‘å®å½• ğŸ› ï¸]]></title>    <link>https://juejin.cn/post/7602091087922610226</link>    <guid>https://juejin.cn/post/7602091087922610226</guid>    <pubDate>2026-02-02T11:01:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602091087922610226" data-draft-id="7601822421609906203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹’ç»é€ è½®å­ï¼Quill å®ç°è‡ªå®šä¹‰æ ‡ç­¾åŠŸèƒ½çš„è¸©å‘å®å½• ğŸ› ï¸"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-02-02T11:01:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©™æŸäºº"/> <meta itemprop="url" content="https://juejin.cn/user/1908407919184670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹’ç»é€ è½®å­ï¼Quill å®ç°è‡ªå®šä¹‰æ ‡ç­¾åŠŸèƒ½çš„è¸©å‘å®å½• ğŸ› ï¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1908407919184670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©™æŸäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T11:01:23.000Z" title="Mon Feb 02 2026 11:01:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å†™åœ¨å¼€å¤´</h2>
<p>Helloï¼Œå„ä½UUä»¬å¥½å‘€ï¼ğŸ˜‹</p>
<p>ä»Šæ˜¯ 2026å¹´2æœˆ1æ—¥ ä¸‹åˆï¼Œè·ç¦»ä¸Šä¸€æ¬¡å†™æ–‡å·²ç»è¿‡å»ä¸€ä¸ªæœˆäº†ï¼Œæ—¶é—´é£å¿«ã€‚</p>
<p>æ˜¨å¤©ï¼Œå…¬å¸å¼€äº†å¹´ä¼šï¼Œå¯æƒœæ²¡æœ‰ä¸­å¤§å¥–ï¼Œè¿˜å¥½æœ‰é˜³å…‰æ™®ç…§å¥–ï¼Œä¹Ÿä¸å·®å“ˆã€‚ğŸ˜ƒ</p>
<p>ç„¶åï¼Œä¸Šä¸Šå‡ ä¸ªå‘¨æœ«ï¼Œå°ç¼–å…¨å»çˆ¬å±±äº†ï¼Œå¹¿å·çš„"ç«å‡¤çº¿"ã€"ç™½æ±Ÿæ¹–"ä¸"é¾™å‡¤çº¿"å…¨å»äº†ä¸€éï¼Œä¸»æ‰“ä¸€ä¸ªè¿åŠ¨ğŸƒå¥åº·ï¼Œå…¶ä¸­ï¼Œ"é¾™å‡¤çº¿" ç¨å¾®è´¹åŠ²ä¸€äº›ï¼Œä¸è¿‡åŒºåŒºäºŒåå…¬é‡Œï¼Œéšä¾¿"æ‹¿ä¸‹"ï¼Œå°±æ˜¯è…¿ç•¥æŠ–ï¼Œä½†é—®é¢˜ä¸å¤§ã€‚ğŸ˜‹</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92a83601afe74966abf060e62457223e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634971&amp;x-signature=qx6MuVoO1gRhpy757dSmpBhI2Yg%3D" alt="10223a002b83fcbc6e226b5162802650.jpg" width="50%" loading="lazy"/>
<p>å›åˆ°æ­£é¢˜ï¼Œæœ¬æ¬¡è¦åˆ†äº«çš„æ˜¯<strong>å¦‚ä½•åœ¨ Quill å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­å®ç°ä¸€ä¸ª "è‡ªå®šä¹‰æ ‡ç­¾" åŠŸèƒ½</strong>ï¼Œæ”¯æŒæ’å…¥ä¸å¯ç¼–è¾‘çš„æ ‡ç­¾å—ï¼Œå¹¶èƒ½ä»¥ç‰¹å®šæ ¼å¼è¾“å‡ºæ•°æ®ï¼Œæ•ˆæœå¦‚ä¸‹ï¼Œè¯·è¯¸å›æŒ‰éœ€é£Ÿç”¨å“ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd28e7d4da9443c19dc302761d52fa98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770634971&amp;x-signature=KGejEh0ozerSDmdhYHsHE%2Bg4KiI%3D" alt="26020201.gif" loading="lazy"/></p>
<h2 data-id="heading-1">éœ€æ±‚èƒŒæ™¯ ğŸ“</h2>
<p>æœ€è¿‘ï¼Œåšä¸šåŠ¡ä¸­é‡åˆ°ä¸ªéœ€è¦åœ¨è¾“å…¥æ¡†ä¸­æ’å…¥ä¸€äº›åŠ¨æ€å˜é‡ï¼ˆæ¯”å¦‚"ç”¨æˆ·å§“å"ã€"è®¢å•å·"ç­‰ï¼‰çš„éœ€æ±‚ã€‚è¿™äº›å˜é‡åœ¨è¾“å…¥æ¡†é‡Œéœ€è¦é•¿å¾—åƒä¸€ä¸ª"æ ‡ç­¾"ä¸€æ ·ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“å­˜åœ¨ï¼Œä¸èƒ½è¢«ç”¨æˆ·ä¿®æ”¹é‡Œé¢çš„æ–‡å­—ï¼Œåªèƒ½æ•´ä½“æ’å…¥ä¸åˆ é™¤ã€‚</p>
<p>è¯¥éœ€æ±‚å±äºå…¸å‹å¯Œæ–‡æœ¬åœºæ™¯ï¼ŒåŸç”Ÿ <code>input</code>/<code>textarea</code> åŸºæœ¬æ— æ³•å®ç°ã€‚</p>
<p>å°ç¼–æœ€åˆå°è¯•åŸºäº <code>contentEditable</code> æ‰‹å†™ç»„ä»¶ï¼Œä¸æ–™å´æ·±é™·å…‰æ ‡ä½ç½®ã€åˆ é™¤é€»è¾‘ã€å¼‚å¸¸è¾¹ç•Œç­‰ç»†èŠ‚é—®é¢˜æŠ˜ç£¨ï¼Œåç»­æµ‹è¯•åŒå­¦åˆåé¦ˆå¤§é‡äº¤äº’ bugï¼Œæœ€ç»ˆæœæ–­å¼ƒç”¨æ‰‹å†™æ–¹æ¡ˆï¼Œæ”¹ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fquilljs.com%2F" target="_blank" title="https://quilljs.com/" ref="nofollow noopener noreferrer">Quill</a> é‡æ„ã€‚</p>
<blockquote>
<p>å…¶å®ï¼Œå¦‚æœå†ç»™ä¸€äº›æ—¶é—´ï¼Œå°ç¼–èƒ½å†™å¥½çš„å“‡ğŸ˜­ï¼Œç‰¹åˆ«æ˜¯åœ¨AIçš„ååŠ©ä¸‹ï¼Œå¯æƒœæ—¶é—´ç´§ï¼Œä»»åŠ¡é‡ï¼Œè¿™ä¸ªå®Œæˆäº†90%ä»¥ä¸Šçš„ç»„ä»¶è‡³ä»Šå°ç¼–è¿˜æ²¡èˆå¾—åˆ æ‰ï¼Œè™½ç„¶ä¸ç”¨äº†ã€‚</p>
<p>ä¸è¿‡ï¼Œå¯¹äºåŒç±»å¯Œæ–‡æœ¬å®šåˆ¶éœ€æ±‚ï¼Œå°ç¼–è¿˜æ˜¯<strong>ä¸å»ºè®®ä»é›¶æ‰‹å†™</strong>ã€‚ç›´æ¥ä½¿ç”¨ Quillã€CodeMirror ç­‰æˆç†Ÿå¼€æºåº“ï¼Œåº•å±‚ç»†èŠ‚ä¸æ€§èƒ½å‡ç»è¿‡å……åˆ†éªŒè¯ï¼Œçœå¿ƒé«˜æ•ˆï¼Œèƒ½å¤§å¹…å‡å°‘æ— æ•ˆè°ƒè¯•ä¸ bug ä¿®å¤æˆæœ¬ã€‚</p>
</blockquote>
<p>æœ¬æ¬¡å¼€å‘æ¶‰åŠ Quill è‡ªå®šä¹‰ Blotã€æ•°æ®æ ¼å¼åŒå‘è½¬æ¢ç­‰æ ¸å¿ƒé€»è¾‘ï¼Œç»“åˆè¸©å‘ç»éªŒåšä¸€æ¬¡ç®€å•åˆ†äº«ã€‚ğŸƒ</p>
<h2 data-id="heading-2">å®ç°è¿‡ç¨‹ ğŸ› ï¸</h2>
<h3 data-id="heading-3">ç¬¬1ï¸âƒ£æ­¥ï¼šè‡ªå®šä¹‰ Blot (mark.js)</h3>
<p>å°ç¼–è®¤ä¸º Quill çš„å¼ºå¤§ä¹‹å¤„å°±åœ¨äºå®ƒçš„æ‰©å±•æ€§ã€‚è¦å®ç°ä¸€ä¸ª "æ ‡ç­¾"ï¼Œå’±ä»¬å¯ä»¥ç»§æ‰¿ä¸€ä¸‹ <code>blots/embed</code> Blotã€‚è¿™ä¸ª Blot è´Ÿè´£å®šä¹‰æ ‡ç­¾é•¿ä»€ä¹ˆæ ·ï¼Œä»¥åŠå®ƒçš„ä¸€äº›è¡Œä¸ºã€‚</p>
<blockquote>
<p>å¯¹äº Blot çš„æ¦‚å¿µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fslab%2Fparchment" target="_blank" title="https://github.com/slab/parchment" ref="nofollow noopener noreferrer">ä¼ é€é—¨</a>ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>mark.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Quill</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"quill"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">BlockEmbed</span> = <span class="hljs-title class_">Quill</span>.<span class="hljs-keyword">import</span>(<span class="hljs-string">"blots/embed"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MarkBlot</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BlockEmbed</span> {
  <span class="hljs-keyword">static</span> blotName = <span class="hljs-string">"mark-blot"</span>; <span class="hljs-comment">// Blot çš„åç§°</span>
  <span class="hljs-keyword">static</span> tagName = <span class="hljs-string">"span"</span>;       <span class="hljs-comment">// å¯¹åº”çš„ DOM æ ‡ç­¾</span>
  <span class="hljs-keyword">static</span> className = <span class="hljs-string">"mark-blot-class"</span>; <span class="hljs-comment">// å¯¹åº”çš„ç±»å</span>

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-keyword">const</span> node = <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">create</span>();
    <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"object"</span> ? value.<span class="hljs-property">id</span> : value;
    <span class="hljs-keyword">const</span> label = <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"object"</span> ? value.<span class="hljs-property">label</span> : value;

    <span class="hljs-comment">// å­˜å‚¨ IDï¼Œç”¨äºåç»­è·å–æ•°æ®</span>
    node.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">"data-value"</span>, id);
    <span class="hljs-comment">// å…³é”®ï¼è®¾ç½®ä¸ºä¸å¯ç¼–è¾‘</span>
    node.<span class="hljs-property">contentEditable</span> = <span class="hljs-string">"false"</span>;

    <span class="hljs-comment">// 1. æ ‡ç­¾æ–‡æœ¬</span>
    <span class="hljs-keyword">const</span> textSpan = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"span"</span>);
    textSpan.<span class="hljs-property">className</span> = <span class="hljs-string">"mark-blot-text"</span>;
    textSpan.<span class="hljs-property">innerText</span> = label;
    node.<span class="hljs-title function_">appendChild</span>(textSpan);

    <span class="hljs-comment">// 2. åˆ é™¤æŒ‰é’® (å°å‰å‰)</span>
    <span class="hljs-keyword">const</span> closeBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"span"</span>);
    closeBtn.<span class="hljs-property">className</span> = <span class="hljs-string">"close-btn"</span>;
    closeBtn.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`...SVGä»£ç ...`</span>; <span class="hljs-comment">// è¿™é‡Œçœç•¥ SVG ä»£ç å“ˆï¼Œå°ç¼–çš„å›¾æ ‡æ˜¯ä½¿ç”¨svgå½¢å¼ï¼Œä½ å¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„éœ€è¦è°ƒæ•´</span>

    <span class="hljs-comment">// ç‚¹å‡»åˆ é™¤æŒ‰é’®æ—¶ï¼Œé€šçŸ¥å¤–éƒ¨åˆ é™¤</span>
    closeBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      e.<span class="hljs-title function_">stopPropagation</span>();
      <span class="hljs-comment">// æ´¾å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œæ–¹ä¾¿ Vue ç»„ä»¶ç›‘å¬</span>
      <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">"mark-remove"</span>, {
        <span class="hljs-attr">detail</span>: { <span class="hljs-attr">markId</span>: id },
        <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">composed</span>: <span class="hljs-literal">true</span>,
      });
      node.<span class="hljs-title function_">dispatchEvent</span>(event);
      
      <span class="hljs-comment">// ç›´æ¥åœ¨ DOM ä¸Šç§»é™¤è‡ªå·±</span>
      <span class="hljs-keyword">const</span> blot = <span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">find</span>(node);
      <span class="hljs-keyword">if</span> (blot) blot.<span class="hljs-title function_">remove</span>();
    });

    node.<span class="hljs-title function_">appendChild</span>(closeBtn);
    <span class="hljs-keyword">return</span> node;
  }

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">node</span>) {
    <span class="hljs-comment">// è·å– Blot çš„å€¼ï¼Œç”¨äº getContents()</span>
    <span class="hljs-keyword">const</span> id = node.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"data-value"</span>);
    <span class="hljs-keyword">const</span> textSpan = node.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"span"</span>);
    <span class="hljs-keyword">const</span> label = textSpan ? textSpan.<span class="hljs-property">innerText</span> : id;
    <span class="hljs-keyword">return</span> { id, label };
  }
}
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå°ç»†èŠ‚ï¼Œæˆ‘ä»¬åœ¨ <code>create</code> æ–¹æ³•é‡Œç»™èŠ‚ç‚¹åŠ äº† <code>contentEditable="false"</code>ï¼Œè¿™æ ·ç”¨æˆ·å°±æ²¡æ³•å…‰æ ‡ç‚¹è¿›å»ä¿®æ”¹æ–‡å­—ï¼Œåªèƒ½æŠŠå®ƒå½“åšä¸€ä¸ªæ•´ä½“æ¥å¤„ç†ã€‚</p>
<h3 data-id="heading-4">ç¬¬2ï¸âƒ£æ­¥ï¼šVue ç»„ä»¶å°è£… (index.vue)</h3>
<p>æ¥ä¸‹æ¥å°±æ˜¯é‡å¤´æˆäº†ï¼Œå’±ä»¬éœ€è¦åœ¨ Vue ç»„ä»¶é‡Œåˆå§‹åŒ– Quillï¼Œå¹¶å¤„ç†æ•°æ®è½¬æ¢ã€‚</p>
<h4 data-id="heading-5">åˆå§‹åŒ–ä¸æ³¨å†Œ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MarkBlot</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./customBlot/mark.js"</span>;

<span class="hljs-comment">// æ³¨å†Œè‡ªå®šä¹‰ Blot</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Quill</span>.<span class="hljs-property">imports</span>[<span class="hljs-string">"formats/mark-blot"</span>]) {
  <span class="hljs-title class_">Quill</span>.<span class="hljs-title function_">register</span>(<span class="hljs-title class_">MarkBlot</span>);
}

<span class="hljs-comment">// åˆå§‹åŒ– Quill</span>
quillInstance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Quill</span>(editorRef.<span class="hljs-property">value</span>, {
  <span class="hljs-attr">modules</span>: { <span class="hljs-attr">toolbar</span>: <span class="hljs-literal">false</span> }, <span class="hljs-comment">// å’±ä»¬è¿™é‡Œä¸éœ€è¦é»˜è®¤çš„å·¥å…·æ </span>
  <span class="hljs-attr">placeholder</span>: props.<span class="hljs-property">placeholder</span>,
});
</code></pre>
<h4 data-id="heading-6">æ•°æ®è½¬æ¢</h4>
<p>æ•°æ®è½¬æ¢æ˜¯æ ¸å¿ƒç¯èŠ‚ğŸ¯ï¼Œå‰ç«¯éœ€è¦å¤„ç†ä¸¤ç§æ ¼å¼çš„äº’è½¬ï¼š</p>
<ul>
<li><strong>Blot â†” å­—ç¬¦ä¸²</strong>ï¼šç¼–è¾‘å™¨å†…éƒ¨ä½¿ç”¨ Blot æ˜¾ç¤ºæ ‡ç­¾ï¼Œä½†ä¿å­˜æ—¶éœ€è¦è½¬æ¢ä¸º <code>{{#id#}}</code> æ ¼å¼çš„å­—ç¬¦ä¸²</li>
<li><strong>å­—ç¬¦ä¸² â†’ å®é™…å€¼</strong>ï¼šæäº¤ç»™åç«¯å‰ï¼Œéœ€è¦å°† <code>{{#id#}}</code> æ›¿æ¢ä¸ºå®é™…å†…å®¹</li>
</ul>
<blockquote>
<p>æ ‡ç­¾æ¨¡æ¿ï¼š<code>{{#id#}}</code> è¿™ç©æ„ä½ å¯ä»¥è‡ªå·±å®šä¹‰ï¼Œé€‚é…å¥½æ­£åˆ™åŒ¹é…è§„åˆ™å°±è¡Œã€‚</p>
</blockquote>
<p><strong>1. å­—ç¬¦ä¸²è½¬ Blotï¼ˆå›æ˜¾é€»è¾‘ï¼‰</strong></p>
<p>å½“è·å–åˆ°åŒ…å« <code>{{#id#}}</code> æ ¼å¼çš„æ•°æ®æ—¶ï¼Œéœ€è¦å°†å…¶è½¬æ¢ä¸º Blot æ˜¾ç¤ºåœ¨å¯Œæ–‡æœ¬ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@name</span> è½¬æ¢æ–‡æœ¬ï¼Œå°†ç‰¹å®šå†…å®¹è½¬ä¸ºblot
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} text åŸå§‹æ–‡æœ¬
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Object[]</span>} delta æ“ä½œæ•°ç»„
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">textToDelta</span>(<span class="hljs-params">text</span>) {
  <span class="hljs-keyword">const</span> delta = [];
  <span class="hljs-keyword">const</span> { start, end } = <span class="hljs-title function_">getDelimiters</span>(); <span class="hljs-comment">// è§£ææ ‡ç­¾æ¨¡æ¿ï¼Œå¦‚ {{##}} -&gt; {start: "{{#", end: "#}}"}</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">escapeRegExp</span> = (<span class="hljs-params">string</span>) =&gt; string.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[.*+?^${}()|[\]\\]/g</span>, <span class="hljs-string">"\\$&amp;"</span>);
  <span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`<span class="hljs-subst">${escapeRegExp(start)}</span>(.*?)<span class="hljs-subst">${escapeRegExp(end)}</span>`</span>, <span class="hljs-string">"g"</span>);
  <span class="hljs-keyword">let</span> lastIndex = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">let</span> match;

  <span class="hljs-keyword">while</span> ((match = regex.<span class="hljs-title function_">exec</span>(text)) !== <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// 1. æ·»åŠ åŒ¹é…å‰çš„æ™®é€šæ–‡æœ¬</span>
    <span class="hljs-keyword">if</span> (match.<span class="hljs-property">index</span> &gt; lastIndex) {
      delta.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">insert</span>: text.<span class="hljs-title function_">substring</span>(lastIndex, match.<span class="hljs-property">index</span>) });
    }
    <span class="hljs-comment">// 2. æ·»åŠ æ ‡ç­¾ Blot</span>
    <span class="hljs-keyword">const</span> id = match[<span class="hljs-number">1</span>]; <span class="hljs-comment">// æå– id</span>
    <span class="hljs-keyword">const</span> label = props.<span class="hljs-title function_">getMarkLabel</span>(id); <span class="hljs-comment">// é€šè¿‡ id è·å–æ˜¾ç¤ºæ–‡æœ¬ï¼Œå°±æ˜¯è¿›è¡Œidæ˜ å°„ï¼Œå¦‚ {1: å°æ˜, 2: å°çº¢, 3: å°é»‘}</span>
    delta.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">insert</span>: { <span class="hljs-string">"mark-blot"</span>: { id, label } } });
    lastIndex = regex.<span class="hljs-property">lastIndex</span>;
  }
  <span class="hljs-comment">// 3. æ·»åŠ å‰©ä½™æ–‡æœ¬</span>
  <span class="hljs-keyword">if</span> (lastIndex &lt; text.<span class="hljs-property">length</span>) {
    delta.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">insert</span>: text.<span class="hljs-title function_">substring</span>(lastIndex) });
  }
  <span class="hljs-comment">// ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ª insertï¼Œå¦åˆ™ Quill å¯èƒ½æŠ¥é”™</span>
  <span class="hljs-keyword">if</span> (delta.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    delta.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">insert</span>: <span class="hljs-string">""</span> });
  }
  <span class="hljs-keyword">return</span> delta;
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@name</span> è§£ææ ‡ç­¾æ¨¡ç‰ˆ
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">{start: string, end: string</span>}}
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getDelimiters</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> start = props.<span class="hljs-property">specialBracket</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, props.<span class="hljs-property">specialBracket</span>.<span class="hljs-property">length</span> / <span class="hljs-number">2</span>);
  <span class="hljs-keyword">const</span> end = props.<span class="hljs-property">specialBracket</span>.<span class="hljs-title function_">slice</span>(props.<span class="hljs-property">specialBracket</span>.<span class="hljs-property">length</span> / <span class="hljs-number">2</span>);
  <span class="hljs-comment">// props.specialBracket ç­‰äº {{##}} ï¼Œå•ç‹¬å®šä¹‰ï¼Œæ–¹ä¾¿ç»´æŠ¤</span>
  <span class="hljs-keyword">return</span> { start, end };
}
</code></pre>
<p><strong>2. Blot è½¬å­—ç¬¦ä¸²ï¼ˆä¿å­˜é€»è¾‘ï¼‰</strong></p>
<p>ç”¨æˆ·ç¼–è¾‘å®Œæˆåï¼Œéœ€è¦å°† Blot è½¬æ¢å› <code>{{#id#}}</code> æ ¼å¼çš„å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@name</span> ç»Ÿä¸€è·å–å¯Œæ–‡æœ¬å†…å®¹
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getContent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!quillInstance) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
  <span class="hljs-keyword">const</span> delta = quillInstance.<span class="hljs-title function_">getContents</span>();
  <span class="hljs-keyword">let</span> text = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">const</span> { start, end } = <span class="hljs-title function_">getDelimiters</span>();
  
  <span class="hljs-comment">// éå† delta æ“ä½œï¼Œæ„å»ºæ–‡æœ¬å†…å®¹</span>
  <span class="hljs-keyword">if</span> (delta &amp;&amp; delta.<span class="hljs-property">ops</span>) {
    delta.<span class="hljs-property">ops</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">op</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> op.<span class="hljs-property">insert</span> === <span class="hljs-string">"string"</span>) {
        text += op.<span class="hljs-property">insert</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op.<span class="hljs-property">insert</span> &amp;&amp; op.<span class="hljs-property">insert</span>[<span class="hljs-string">"mark-blot"</span>]) {
        <span class="hljs-comment">// é‡åˆ° mark-blotï¼Œæ‹¼æ¥æˆ {{#id#}}</span>
        <span class="hljs-keyword">const</span> val = op.<span class="hljs-property">insert</span>[<span class="hljs-string">"mark-blot"</span>];
        <span class="hljs-keyword">const</span> id = <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">"object"</span> ? val.<span class="hljs-property">id</span> : val;
        text += <span class="hljs-string">`<span class="hljs-subst">${start}</span><span class="hljs-subst">${id}</span><span class="hljs-subst">${end}</span>`</span>;
      }
    });
  }
  <span class="hljs-comment">// Quill æ€»æ˜¯ä¼šåœ¨æœ«å°¾æ·»åŠ ä¸€ä¸ª \nï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦ç§»é™¤å®ƒä»¥è·å–å®é™…è¾“å…¥å†…å®¹</span>
  <span class="hljs-keyword">return</span> text.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\n$/</span>, <span class="hljs-string">""</span>);
}
</code></pre>
<p><strong>3. æäº¤æ—¶çš„å˜é‡æ›¿æ¢</strong></p>
<p><code>{{#id#}}</code> æ˜¯å‰ç«¯è§„å®šçš„ç‰¹å®šæ ¼å¼ï¼Œç”¨äºåœ¨ç¼–è¾‘å™¨ä¸­æ ‡è¯†åŠ¨æ€å˜é‡ã€‚ä½†åœ¨æäº¤ç»™åç«¯æ—¶ï¼Œéœ€è¦å°†è¿™äº›å ä½ç¬¦æ›¿æ¢ä¸ºå®é™…å€¼ã€‚</p>
<p>åœ¨å°ç¼–çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ˜¯å•ç‹¬å†™äº†ä¸€ä¸ª <code>replaceVariableTags</code> å‡½æ•°æ¥å¤„ç†è¿™ä¸ªäº‹æƒ…ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * æ›¿æ¢å¯¹è±¡ä¸­å­—ç¬¦ä¸²å±æ€§çš„ {{#xxx#}} æ ‡ç­¾ä¸ºæŒ‡å®šå€¼ï¼ˆåŒ…è£¹ã€ã€‘ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">targetObj</span> - å¾…å¤„ç†çš„ç›®æ ‡å¯¹è±¡ï¼ˆæ”¯æŒå¤šå±‚åµŒå¥—ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Array</span>} <span class="hljs-variable">replaceList</span> - æ›¿æ¢æ˜ å°„æ•°ç»„ï¼ˆç»“æ„ï¼š[{id: 'xxx', ...}, ...]ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} [options] - å¯é€‰é…ç½®é¡¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [options.idKey='id'] - replaceList ä¸­ id å¯¹åº”çš„å­—æ®µåï¼ˆæ”¯æŒåµŒå¥—è·¯å¾„ï¼Œå¦‚ 'data.id'ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [options.valueKey='properties.taskResult'] - replaceList ä¸­å€¼å¯¹åº”çš„å­—æ®µåï¼ˆæ”¯æŒåµŒå¥—è·¯å¾„ï¼‰
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Object</span>} å¤„ç†åçš„æ–°å¯¹è±¡ï¼ˆåŸå¯¹è±¡ä¸å˜ï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceVariableTags</span>(<span class="hljs-params">targetObj, replaceList, options = {}</span>) {
  <span class="hljs-comment">// é»˜è®¤é…ç½®ï¼šidå­—æ®µä¸ºæ ¹å±‚çº§idï¼Œå€¼å­—æ®µä¸ºproperties.taskResult</span>
  <span class="hljs-keyword">const</span> { idKey = <span class="hljs-string">"id"</span>, valueKey = <span class="hljs-string">"content"</span> } = options;

  <span class="hljs-comment">// å·¥å…·å‡½æ•°ï¼šæ ¹æ®åµŒå¥—è·¯å¾„è·å–å¯¹è±¡å±æ€§å€¼</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">getNestedValue</span> = (<span class="hljs-params">obj, path</span>) =&gt; {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span> || obj === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
    <span class="hljs-keyword">return</span> path.<span class="hljs-title function_">split</span>(<span class="hljs-string">"."</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">current, key</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> current?.[key]; <span class="hljs-comment">// è·¯å¾„ä¸å­˜åœ¨æ—¶è¿”å›undefined</span>
    }, obj);
  };

  <span class="hljs-comment">// 1. æ„å»º id -&gt; å€¼ çš„æ˜ å°„è¡¨ï¼ˆæ”¯æŒåµŒå¥—å­—æ®µè§£æï¼‰</span>
  <span class="hljs-keyword">const</span> replaceMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  replaceList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> id = <span class="hljs-title function_">getNestedValue</span>(item, idKey);
    <span class="hljs-keyword">const</span> value = <span class="hljs-title function_">getNestedValue</span>(item, valueKey);
    <span class="hljs-keyword">if</span> (id &amp;&amp; value) {
      <span class="hljs-comment">// è¿‡æ»¤id/å€¼ä¸ºç©ºçš„æ— æ•ˆé¡¹</span>
      replaceMap.<span class="hljs-title function_">set</span>(id, value);
    }
  });

  <span class="hljs-comment">// 2. æ­£åˆ™ï¼šåŒ¹é… {{#xxx#}} æ ‡ç­¾ï¼Œæ•è·ä¸­é—´çš„ nodeId</span>
  <span class="hljs-keyword">const</span> tagRegex = <span class="hljs-regexp">/{{#([^#]+)#}}/g</span>;

  <span class="hljs-comment">// 3. é€’å½’å¤„ç†å­—ç¬¦ä¸²/å¯¹è±¡çš„æ ¸å¿ƒå‡½æ•°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">processValue</span> = (<span class="hljs-params">value</span>) =&gt; {
    <span class="hljs-comment">// å­—ç¬¦ä¸²ç±»å‹ï¼šæ›¿æ¢æ ‡ç­¾</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
      <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">replace</span>(tagRegex, <span class="hljs-function">(<span class="hljs-params">match, nodeId</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> replaceValue = replaceMap.<span class="hljs-title function_">get</span>(nodeId);
        <span class="hljs-keyword">return</span> replaceValue ? <span class="hljs-string">`<span class="hljs-subst">${replaceValue}</span>`</span> : match; <span class="hljs-comment">// æœªåŒ¹é…åˆ™ä¿ç•™åŸæ ‡ç­¾</span>
      });
    }

    <span class="hljs-comment">// å¯¹è±¡/æ•°ç»„ç±»å‹ï¼šé€’å½’å¤„ç†</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"object"</span> &amp;&amp; value !== <span class="hljs-literal">null</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(value)
        ? value.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="hljs-title function_">processValue</span>(item)) <span class="hljs-comment">// æ•°ç»„éå†</span>
        : <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(
            <span class="hljs-comment">// æ™®é€šå¯¹è±¡ï¼šä¿ç•™åŸå±æ€§ï¼Œé€’å½’å¤„ç†å€¼</span>
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(value).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[key, val]</span>) =&gt;</span> [key, <span class="hljs-title function_">processValue</span>(val)]),
          );
    }

    <span class="hljs-comment">// éå­—ç¬¦ä¸²/å¯¹è±¡ç±»å‹ï¼ˆæ•°å­—ã€å¸ƒå°”ç­‰ï¼‰ï¼šç›´æ¥è¿”å›åŸå€¼</span>
    <span class="hljs-keyword">return</span> value;
  };

  <span class="hljs-comment">// 4. è¿”å›æ–°å¯¹è±¡ï¼ˆé¿å…ä¿®æ”¹åŸå¯¹è±¡ï¼‰</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">processValue</span>(targetObj);
}
</code></pre>
<p>è¿™ä¸ªå‡½æ•°ä¼šé€’å½’éå†å¯¹è±¡ï¼Œå°†æ‰€æœ‰å­—ç¬¦ä¸²å±æ€§ä¸­çš„ <code>{{#id#}}</code> æ›¿æ¢ä¸ºå¯¹åº”çš„å®é™…å€¼ï¼Œç„¶ååç«¯æ”¶åˆ°çš„æ˜¯å·²ç»è½¬æ¢å¥½çš„å®Œæ•´æ•°æ®ã€‚</p>
<blockquote>
<p>ğŸ’¡ <strong>å…³é”®ç†è§£</strong>ï¼š</p>
<ul>
<li><code>{{#id#}}</code> æ˜¯å‰ç«¯å†…éƒ¨çš„æ ¼å¼çº¦å®šï¼Œç”¨äºåœ¨ç¼–è¾‘å™¨ä¸­æ ‡è¯†å’Œæ˜¾ç¤ºæ ‡ç­¾ã€‚</li>
<li>å‰ç«¯æäº¤ç»™åç«¯æ—¶ï¼Œä¼šå…ˆå°† <code>{{#id#}}</code> æ›¿æ¢ä¸ºå®é™…å†…å®¹ï¼Œåç«¯æ”¶åˆ°çš„æ˜¯å®Œæ•´çš„æ•°æ®ã€‚</li>
<li>è¿™æ ·è®¾è®¡çš„å¥½å¤„æ˜¯ï¼šåç«¯æ— éœ€å…³å¿ƒå‰ç«¯çš„æ˜¾ç¤ºé€»è¾‘ï¼Œåªéœ€è¦å¤„ç†ä¸šåŠ¡æ•°æ®å³å¯ã€‚</li>
</ul>
</blockquote>
<h3 data-id="heading-7">ç¬¬3ï¸âƒ£æ­¥ï¼šç»†èŠ‚ä¼˜åŒ–</h3>
<p>ç”±äºï¼Œå¯Œæ–‡æœ¬æ ¸å¿ƒå°±æ˜¯è¾“å‡ºä¸€ä¸ªå€¼çš„å†…å®¹ï¼Œæ‰€ä»¥å°ç¼–é€šè¿‡ <code>v-model</code> å½¢å¼æ¥ä½¿ç”¨ç»„ä»¶çš„æ•°æ®ç»‘å®šã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨å®ç° <code>v-model</code> åŒå‘ç»‘å®šæ—¶ï¼Œæœ€å¤´ç–¼çš„å°±æ˜¯å…‰æ ‡è·³åŠ¨é—®é¢˜ã€‚</p>
<p>æ¯æ¬¡å€¼å˜åŒ–æ—¶éƒ½ä¼šé‡æ–° <code>setContents</code>ï¼Œå…‰æ ‡å°±ä¼šè·‘å›å¼€å¤´ï¼Œä¸ºæ­¤å’±ä»¬éœ€è¦åšä¸€äº›åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›‘å¬ modelValue å˜åŒ–</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">modelValue</span>, <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> {
  <span class="hljs-comment">// å¦‚æœæ–°å€¼ç­‰äºä¸Šä¸€æ¬¡emitçš„å€¼ï¼Œè¯´æ˜æ˜¯å›æ˜¾ï¼Œæ— éœ€æ›´æ–°</span>
  <span class="hljs-keyword">if</span> (newValue === lastEmittedValue) <span class="hljs-keyword">return</span>;
  lastEmittedValue = newValue;
  
  <span class="hljs-keyword">if</span> (quillInstance &amp;&amp; newValue !== <span class="hljs-title function_">getContent</span>()) {
    <span class="hljs-comment">// 1. è®°å½•å…‰æ ‡ä½ç½®</span>
    <span class="hljs-keyword">const</span> selection = quillInstance.<span class="hljs-title function_">getSelection</span>();
    
    <span class="hljs-comment">// 2. æ›´æ–°å†…å®¹</span>
    <span class="hljs-title function_">setFormattedContent</span>(newValue);
    
    <span class="hljs-comment">// 3. æ¢å¤å…‰æ ‡ä½ç½®</span>
    <span class="hljs-keyword">if</span> (selection &amp;&amp; isInputFocused.<span class="hljs-property">value</span>) {
      <span class="hljs-keyword">const</span> currentLength = quillInstance.<span class="hljs-title function_">getLength</span>();
      <span class="hljs-keyword">const</span> index = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(selection.<span class="hljs-property">index</span>, currentLength - <span class="hljs-number">1</span>);
      quillInstance.<span class="hljs-title function_">setSelection</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, index), <span class="hljs-number">0</span>);
    }
  }
});

<span class="hljs-comment">// ç›‘å¬ Quill å†…å®¹å˜åŒ–</span>
quillInstance.<span class="hljs-title function_">on</span>(<span class="hljs-string">"text-change"</span>, <span class="hljs-function">(<span class="hljs-params">_delta, _oldDelta, source</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (source === <span class="hljs-string">"user"</span>) {
    <span class="hljs-keyword">const</span> content = <span class="hljs-title function_">getContent</span>();
    <span class="hljs-title function_">inputUpdate</span>(content); <span class="hljs-comment">// emit update:modelValue</span>
  }
});
</code></pre>
<p>è¿˜æœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œå½“ç”¨æˆ·æ‰‹åŠ¨è¾“å…¥ <code>{{#id#}}</code> æ ¼å¼çš„æ–‡æœ¬æ—¶ï¼Œéœ€è¦å®æ—¶æ£€æµ‹å¹¶è½¬æ¢ä¸º Blotã€‚è¿™å¯ä»¥åœ¨ <code>text-change</code> äº‹ä»¶ä¸­å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">quillInstance.<span class="hljs-title function_">on</span>(<span class="hljs-string">"text-change"</span>, <span class="hljs-function">(<span class="hljs-params">_delta, _oldDelta, source</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (source === <span class="hljs-string">"user"</span>) {
    <span class="hljs-comment">// æ£€æŸ¥å¹¶æ›¿æ¢ {{#...#}} æ¨¡å¼</span>
    <span class="hljs-keyword">const</span> text = quillInstance.<span class="hljs-title function_">getText</span>();
    <span class="hljs-keyword">const</span> { start, end } = <span class="hljs-title function_">getDelimiters</span>();
    <span class="hljs-keyword">const</span> regex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`<span class="hljs-subst">${escapeRegExp(start)}</span>(.*?)<span class="hljs-subst">${escapeRegExp(end)}</span>`</span>, <span class="hljs-string">"g"</span>);
    <span class="hljs-keyword">const</span> matches = [...text.<span class="hljs-title function_">matchAll</span>(regex)];
    
    <span class="hljs-comment">// å¦‚æœæœ‰åŒ¹é…é¡¹ï¼Œä»åå¾€å‰å¤„ç†ï¼Œé¿å…ç´¢å¼•å˜åŒ–å½±å“å‰é¢çš„åŒ¹é…</span>
    <span class="hljs-keyword">if</span> (matches.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = matches.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
        <span class="hljs-keyword">const</span> match = matches[i];
        <span class="hljs-keyword">const</span> index = match.<span class="hljs-property">index</span>;
        <span class="hljs-keyword">const</span> fullMatch = match[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">const</span> content = match[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">const</span> label = props.<span class="hljs-title function_">getMarkLabel</span>(content);
        
        <span class="hljs-comment">// æ›¿æ¢æ–‡æœ¬ä¸º Blot</span>
        quillInstance.<span class="hljs-title function_">deleteText</span>(index, fullMatch.<span class="hljs-property">length</span>);
        quillInstance.<span class="hljs-title function_">insertEmbed</span>(index, <span class="hljs-string">"mark-blot"</span>, { <span class="hljs-attr">id</span>: content, label });
        quillInstance.<span class="hljs-title function_">insertText</span>(index + <span class="hljs-number">1</span>, <span class="hljs-string">"\u00A0"</span>); <span class="hljs-comment">// æ’å…¥ä¸æ¢è¡Œç©ºæ ¼</span>
      }
    }
    
    <span class="hljs-keyword">const</span> content = <span class="hljs-title function_">getContent</span>();
    <span class="hljs-title function_">inputUpdate</span>(content);
  }
});
</code></pre>
<h2 data-id="heading-8">å®Œæ•´æºç </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fydydydq%2Fquill-mark" target="_blank" title="https://gitee.com/ydydydq/quill-mark" ref="nofollow noopener noreferrer">ä¼ é€é—¨</a></p>
<h2 data-id="heading-9">æ€»ç»“ ğŸ’¡</h2>
<p>å…¶å®ï¼Œå¯Œæ–‡æœ¬ç¼–è¾‘å™¨å¼€å‘ä¸­ï¼Œå°ç¼–è®¤ä¸ºæœ€éš¾çš„å¾€å¾€ä¸æ˜¯ API çš„ä½¿ç”¨ï¼Œè€Œæ˜¯å¦‚ä½•å¤„ç†æ•°æ®æ ¼å¼çš„è½¬æ¢ä»¥åŠå„ç§è¾¹ç•Œæƒ…å†µï¼Œæœ€åå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ç»™æ­£åœ¨æŠ˜è…¾ Quill çš„å°ä¼™ä¼´ä»¬ä¸€äº›çµæ„Ÿå§ï¼</p>
<br/>
<hr/>
<p><br/><br/></p>
<p>è‡³æ­¤ï¼Œæœ¬ç¯‡æ–‡ç« å°±å†™å®Œå•¦ï¼Œæ’’èŠ±æ’’èŠ±ã€‚</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2198fba2b674f1b935a63e4abb3cbd7~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.jpg#?w=90&amp;h=90&amp;s=8866&amp;e=png&amp;b=fcfcfc" alt="image.png" loading="lazy"/></p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼ŒæœŸå¾…ä½ çš„ç•™è¨€å“¦ã€‚<br/>
è€æ ·å­ï¼Œç‚¹èµ+è¯„è®º=ä½ ä¼šäº†ï¼Œæ”¶è—=ä½ ç²¾é€šäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Box<T>ï¼šå †å†…å­˜åˆ†é…çš„åŸºçŸ³]]></title>    <link>https://juejin.cn/post/7601103779392667711</link>    <guid>https://juejin.cn/post/7601103779392667711</guid>    <pubDate>2026-02-01T06:19:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601103779392667711" data-draft-id="7601103779392651327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Box&lt;T&gt;ï¼šå †å†…å­˜åˆ†é…çš„åŸºçŸ³"/> <meta itemprop="keywords" content="åç«¯,Rust"/> <meta itemprop="datePublished" content="2026-02-01T06:19:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¥ é£å°å®‡å®™"/> <meta itemprop="url" content="https://juejin.cn/user/4037062427148462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Box&lt;T&gt;ï¼šå †å†…å­˜åˆ†é…çš„åŸºçŸ³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4037062427148462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¥ é£å°å®‡å®™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T06:19:09.000Z" title="Sun Feb 01 2026 06:19:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Rust çš„å†…å­˜ç®¡ç†ä½“ç³»ä¸­ï¼Œ<code>Box&lt;T&gt;</code> æ˜¯æœ€ç®€å•ä¹Ÿæœ€æ ¸å¿ƒçš„æ™ºèƒ½æŒ‡é’ˆã€‚å®ƒä¸å…·å¤‡ <code>Rc</code> çš„å¼•ç”¨è®¡æ•°ï¼Œä¹Ÿæ²¡æœ‰ <code>RefCell</code> çš„è¿è¡Œæ—¶å€Ÿç”¨æ£€æŸ¥ï¼Œå®ƒçš„å”¯ä¸€èŒè´£å°±æ˜¯ï¼š<strong>å°†æ•°æ®ä»æ ˆï¼ˆStackï¼‰ç§»åŠ¨åˆ°å †ï¼ˆHeapï¼‰</strong>ã€‚</p>
<h2 data-id="heading-0">1. ä¸ºä»€ä¹ˆéœ€è¦ Boxï¼Ÿ</h2>
<p>åœ¨ Rust ä¸­ï¼Œå¤§å¤šæ•°æ•°æ®é»˜è®¤åˆ†é…åœ¨æ ˆä¸Šã€‚æ ˆå†…å­˜åˆ†é…æ•ˆç‡æé«˜ï¼Œä½†æœ‰ä¸¤ä¸ªè‡´å‘½é™åˆ¶ï¼š</p>
<ol>
<li><strong>å¤§å°å¿…é¡»å›ºå®š</strong>ï¼šç¼–è¯‘å™¨å¿…é¡»åœ¨ç¼–è¯‘é˜¶æ®µç²¾ç¡®çŸ¥é“ç±»å‹çš„å¤§å°ã€‚</li>
<li><strong>æ‰€æœ‰æƒç”Ÿå‘½å‘¨æœŸ</strong>ï¼šæ ˆä¸Šçš„æ•°æ®éšç€å‡½æ•°è°ƒç”¨çš„ç»“æŸè€Œé”€æ¯ã€‚</li>
</ol>
<p><code>Box&lt;T&gt;</code> è§£å†³äº†è¿™äº›é—®é¢˜ï¼Œå®ƒå…è®¸ä½ åœ¨å †ä¸Šå­˜å‚¨æ•°æ®ï¼Œè€Œä»…åœ¨æ ˆä¸Šä¿ç•™ä¸€ä¸ªæŒ‡å‘è¯¥æ•°æ®çš„æŒ‡é’ˆï¼ˆå³ <code>Box</code> ç»“æ„ä½“æœ¬èº«ï¼‰ã€‚</p>
<h2 data-id="heading-1">2. å†…å­˜å¸ƒå±€å‰–æ</h2>
<p>å½“æˆ‘ä»¬æ‰§è¡Œ <code>let b = Box::new(5);</code> æ—¶ï¼Œå†…å­˜ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95c4febcdf3545cab2717274689002ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qWg6aOO5bCP5a6H5a6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770531551&amp;x-signature=hPDx13DHseWHgn7S4Y7Tkb8wdGA%3D" alt="Box å†…å­˜å¸ƒå±€" loading="lazy"/></p>
<ul>
<li>
<p><strong>æ ˆä¸Šï¼ˆStackï¼‰</strong>ï¼š<code>Box</code> æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¤§å°ä¸º <code>usize</code>ï¼ˆ64ä½ç³»ç»Ÿä¸‹ä¸º 8 å­—èŠ‚ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ ˆä¸Šï¼ˆStackï¼‰</strong>ï¼š<code>Box</code> æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå¤§å°ä¸º <code>usize</code>ï¼ˆ64ä½ç³»ç»Ÿä¸‹ä¸º 8 å­—èŠ‚ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å †ä¸Šï¼ˆHeapï¼‰</strong>ï¼šå­˜å‚¨ç€å®é™…çš„æ•°æ® <code>T</code>ã€‚</p>
</li>
<li>
<p><strong>æ‰€æœ‰æƒ</strong>ï¼šå½“ <code>Box</code> ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå®ƒçš„ <code>Drop</code> å®ç°ä¼šè‡ªåŠ¨é‡Šæ”¾å †å†…å­˜ã€‚</p>
</li>
</ul>
<h2 data-id="heading-2">3. æ ¸å¿ƒåº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-3">3.1 æ‰“ç ´é€’å½’ç±»å‹çš„æ— é™å¤§å°</h3>
<p>Rust å¿…é¡»åœ¨ç¼–è¯‘æ—¶çŸ¥é“ç±»å‹çš„å¤§å°ã€‚è€ƒè™‘ä¸€ä¸ªç®€å•çš„é“¾è¡¨ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šrecursive type `List` has infinite size</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">List</span> {
    <span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-type">i32</span>, List),
    Nil,
}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ <code>Box</code> æŒ‡é’ˆ</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">List</span> {
    <span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-type">i32</span>, <span class="hljs-type">Box</span>&lt;List&gt;),
    Nil,
}

<span class="hljs-keyword">use</span> List::{Cons, Nil};

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">list</span> = <span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-number">1</span>, <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-title function_ invoke__">Cons</span>(<span class="hljs-number">2</span>, <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Nil))));
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef9284436675482d80c26ca04283dbe1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qWg6aOO5bCP5a6H5a6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770531551&amp;x-signature=7Z4Vbm2NghtYNSgU2C4FXq%2FjFGA%3D" alt="é€’å½’ç±»å‹å†…å­˜å¸ƒå±€" loading="lazy"/></p>
<p>é€šè¿‡å¼•å…¥ <code>Box</code>ï¼Œ<code>Cons</code> å˜ä½“çš„å¤§å°å˜æˆäº† <code>i32</code> + <code>usize</code>ã€‚æ— è®ºé“¾è¡¨å¤šé•¿ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å¤§å°éƒ½æ˜¯å›ºå®šçš„ã€‚</p>
<h3 data-id="heading-4">3.2 è½¬ç§»å¤§æ•°æ®çš„æ‰€æœ‰æƒ</h3>
<p>å¦‚æœä½ æœ‰ä¸€ä¸ªå·¨å¤§çš„æ•°ç»„ï¼ˆä¾‹å¦‚ <code>[u8; 1024 * 1024]</code>ï¼‰ï¼Œåœ¨å‡½æ•°é—´ä¼ é€’å®ƒä¼šè§¦å‘æ˜‚è´µçš„æ ˆæ‹·è´ã€‚ä½¿ç”¨ <code>Box</code> åï¼Œæ•°æ®è¢«å­˜å‚¨åœ¨å †ä¸Šï¼Œè€Œåœ¨æ ˆä¸Šæµè½¬çš„åªæœ‰ 8 å­—èŠ‚ï¼ˆ64ä½ç³»ç»Ÿï¼‰çš„æŒ‡é’ˆï¼Œè¿™ä½¿å¾—æ‰€æœ‰æƒè½¬ç§»æå…¶é«˜æ•ˆã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// 1. åœ¨å †ä¸Šåˆ†é… 1MB çš„æ•°ç»„</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b1</span> = <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>([<span class="hljs-number">0u8</span>; <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>]);
    
    <span class="hljs-comment">// 2. è½¬ç§»æ‰€æœ‰æƒç»™ b2</span>
    <span class="hljs-comment">// ä»…æ‹·è´äº†æŒ‡é’ˆï¼ˆ8 å­—èŠ‚ï¼‰ï¼Œå †ä¸Šçš„ 1MB æ•°æ®ä¿æŒåŸä½ä¸åŠ¨</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">b2</span> = b1; 
    
    <span class="hljs-comment">// println!("{:?}", b1); // ç¼–è¯‘é”™è¯¯ï¼šb1 çš„æ‰€æœ‰æƒå·²è½¬ç§»ï¼Œå…¶æŒ‡é’ˆå·²å¤±æ•ˆ</span>
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16caf6435a0c46b2ab980f711c734c1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qWg6aOO5bCP5a6H5a6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770531551&amp;x-signature=dZbWpfC7Vjyk4ZxB4lgNHT8l9Dw%3D" alt="æ‰€æœ‰æƒè½¬ç§»å†…å­˜å¸ƒå±€" loading="lazy"/></p>
<h3 data-id="heading-5">3.3 Trait å¯¹è±¡ä¸åŠ¨æ€åˆ†å‘</h3>
<p>ç”±äºä¸åŒç±»å‹çš„å¤§å°åœ¨ç¼–è¯‘æ—¶å„å¼‚ï¼Œç¼–è¯‘å™¨æ— æ³•ç›´æ¥åœ¨æ ˆä¸Šåˆ†é… <code>dyn Trait</code> è¿™ç§ <strong>DSTï¼ˆåŠ¨æ€å¤§å°ç±»å‹ï¼‰</strong>ã€‚<code>Box&lt;dyn Trait&gt;</code> é€šè¿‡åœ¨å †ä¸Šå­˜å‚¨æ•°æ®ï¼Œå¹¶åœ¨æ ˆä¸Šæä¾›ä¸€ä¸ª <strong>èƒ–æŒ‡é’ˆ (Fat Pointer)</strong> è§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚</p>
<p>è¯¥èƒ–æŒ‡é’ˆå ç”¨ä¸¤ä¸ª <code>usize</code>ï¼šä¸€ä¸ªæŒ‡å‘å †ä¸Šçš„ <strong>å…·ä½“æ•°æ®</strong>ï¼Œå¦ä¸€ä¸ªæŒ‡å‘ <strong>è™šå‡½æ•°è¡¨ (vtable)</strong>ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Drawable</span> { <span class="hljs-keyword">fn</span> <span class="hljs-title function_">draw</span>(&amp;<span class="hljs-keyword">self</span>); }

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Circle</span> { radius: <span class="hljs-type">f64</span> }
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Drawable</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Circle</span> { 
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">draw</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Drawing Circle"</span>); } 
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Square</span> { side: <span class="hljs-type">f64</span> }
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Drawable</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Square</span> { 
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">draw</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Drawing Square"</span>); } 
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// 1. å•ä¸ª Trait å¯¹è±¡ï¼šBox å†…éƒ¨å­˜å‚¨äº†æŒ‡å‘ Circle çš„æ•°æ®æŒ‡é’ˆå’Œ Drawable çš„ vtable</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">shape</span>: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Drawable&gt; = <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Circle { radius: <span class="hljs-number">5.0</span> });
    shape.<span class="hljs-title function_ invoke__">draw</span>();

    <span class="hljs-comment">// 2. ç±»å‹æ“¦é™¤ï¼šå°†ä¸åŒå…·ä½“ç±»å‹å°è£…è¿› Boxï¼Œç»Ÿä¸€å­˜å…¥ Vec</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">shapes</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Drawable&gt;&gt; = <span class="hljs-built_in">vec!</span>[
        <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Circle { radius: <span class="hljs-number">2.0</span> }),
        <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(Square { side: <span class="hljs-number">3.0</span> }),
    ];
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44a4553762d5445492eaa5e56d8dc71e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qWg6aOO5bCP5a6H5a6Z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770531551&amp;x-signature=5dtQMCb8ttUvyNkQNCG04j3iosw%3D" alt="Trait å¯¹è±¡å†…å­˜å¸ƒå±€" loading="lazy"/></p>
<h2 data-id="heading-6">4. é¿å‘æŒ‡å—ï¼šDeref å¼ºåˆ¶è½¬æ¢</h2>
<p><code>Box&lt;T&gt;</code> å®ç°äº† <code>Deref</code> ç‰¹å‹ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ç›´æ¥åœ¨ <code>Box</code> ä¸Šè°ƒç”¨ <code>T</code> çš„æ–¹æ³•ã€‚ä½†åœ¨å¤„ç† Trait å¯¹è±¡æ—¶ï¼Œæ³¨æ„æ‰€æœ‰æƒçš„è½¬ç§»ã€‚</p>
<h2 data-id="heading-7">5. æœ€ä½³å®è·µ</h2>
<blockquote>
<p><strong>ä¼˜å…ˆä½¿ç”¨æ ˆã€‚åªæœ‰åœ¨éœ€è¦â€œé€’å½’ç±»å‹â€ã€â€œé¿å…å¤§æ•°æ®æ‹·è´â€æˆ–â€œTrait å¯¹è±¡åŠ¨æ€åˆ†å‘â€æ—¶ï¼Œæ‰ä½¿ç”¨ <code>Box</code>ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# Vue3 éŸ³é¢‘æ ‡æ³¨æ’ä»¶ wavesurfer]]></title>    <link>https://juejin.cn/post/7601822421610283035</link>    <guid>https://juejin.cn/post/7601822421610283035</guid>    <pubDate>2026-02-02T09:20:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601822421610283035" data-draft-id="7602069205468037166" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# Vue3 éŸ³é¢‘æ ‡æ³¨æ’ä»¶ wavesurfer"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-02T09:20:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å«æˆ‘AddV"/> <meta itemprop="url" content="https://juejin.cn/user/4860749051150"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # Vue3 éŸ³é¢‘æ ‡æ³¨æ’ä»¶ wavesurfer
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4860749051150/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å«æˆ‘AddV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:20:42.000Z" title="Mon Feb 02 2026 09:20:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue3 éŸ³é¢‘æ ‡æ³¨æ’ä»¶ wavesurfer</h2>
<blockquote>
<p>æœ€è¿‘å‰ç«¯åœ¨å¼€å‘ä¸€ä¸ªéŸ³é¢‘æ ‡æ³¨è½¯ä»¶ï¼Œéœ€è¦åŠ è½½ä¸€ä¸ªmp3æ ¼å¼æ–‡ä»¶ï¼Œç„¶åå±•ç¤ºå‡ºmp3éŸ³é¢‘æ–‡ä»¶çš„å£°æ³¢ï¼Œç„¶åé€šè¿‡é¼ æ ‡åœ¨å£°æ³¢æ‹–æ‹½çš„æ–¹å¼ï¼Œå¯¹æŸä¸ªæ—¶é—´æ®µè¿›è¡Œæ ‡æ³¨åŠŸèƒ½ï¼Œè®°å½•å‡ºæ ‡æ³¨æ—¶é—´æ®µçš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼ŒåŒæ—¶å¯ä»¥æ‰“æ ‡ç­¾ï¼Œæ¯”å¦‚è¯¥åŒºåŸŸæ˜¯â€œå‘è¨€äººä¸€â€è¿™ç±»æ“ä½œã€‚</p>
</blockquote>
<h3 data-id="heading-1">å‰æœŸ</h3>
<p>è¿™ä¸ªåŠŸèƒ½çœ‹ä¸Šå»ç®€å•ï¼Œä½†æ˜¯å®é™…å¼€å‘èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œé¦–å…ˆæ˜¯åŠ è½½mp3éŸ³é¢‘æ•°æ®ï¼Œåç«¯æä¾›ä¸€ä¸ªmp3éŸ³é¢‘æ–‡ä»¶çš„é“¾æ¥ï¼Œæ¯”å¦‚ï¼š<code>http://xxx/xxx/1.mp3</code>ï¼Œç„¶åå‰ç«¯éœ€è¦æ‹¿åˆ°å¯¹åº”çš„éŸ³é¢‘æ–‡ä»¶ï¼Œå°†éŸ³é¢‘æ–‡ä»¶çš„å£°æ³¢æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>èµ·åˆæ²¡æ‰“ç®—ç”¨æ’ä»¶ï¼Œè‡ªå·±ç”¨canvasç»˜åˆ¶äº†ä¸€ä¸‹å£°æ³¢ï¼Œé€šè¿‡é¼ æ ‡äº‹ä»¶ï¼Œä¹ŸæˆåŠŸçš„å®ç°äº†éœ€è¦çš„æ•ˆæœï¼Œè¿˜ä¸é”™ï¼Œé™¤äº†æœ‰ç‚¹Lowï¼Œå½“ç„¶å¯ä»¥é€šè¿‡ä¿®æ”¹æ ·å¼è¿›è¡Œä¼˜åŒ–é¡µé¢ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8b2720e35404429a7ce8ee7f1fca7f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-r5oiRQWRkVg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770629432&amp;x-signature=MvfGQJ0mT%2Bxf%2FLaPEQEh%2BUfqr%2BE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™æ ·å­ä¹‹åï¼Œæˆ‘å‘ç°åŠ è½½å‡ åˆ†é’Ÿçš„éŸ³é¢‘æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„ï¼Œä½†æ˜¯åŠ è½½åƒæ˜¯é•¿éŸ³é¢‘å°±ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œæœ€å¤§çš„é—®é¢˜å°±æ˜¯å½“å‰æ—¶é—´è½´å’ŒéŸ³é¢‘æ’­æ”¾ä½ç½®å¯¹åº”ä¸èµ·æ¥ï¼Œä¼šæœ‰å‡ ç™¾æ¯«ç§’çš„åå·®ï¼Œåœ¨ä¸€ä¸ªå°±æ˜¯åŠ è½½éŸ³é¢‘å£°æ³¢æ—¶é—´å¤ªé•¿äº†ï¼ˆå½“ç„¶ä½¿ç”¨æ’ä»¶ç»˜åˆ¶ä¹Ÿæœ‰åŒæ ·çš„é—®é¢˜ï¼‰ï¼Œä¸»è¦æ˜¯è·å–åˆ°éŸ³é¢‘åï¼Œéœ€è¦è§£ç è·å–å£°æ³¢ï¼Œæ‰€ä»¥æ—¶é—´è¶Šä¹…è§£ç æ—¶é—´è¶Šä¹…ã€‚ä½†æ˜¯è‡ªå·±å†™çš„è¯ï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯ä½ æƒ³æ€ä¹ˆæ”¹å°±æ€ä¹ˆæ”¹ï¼Œæƒ³å®ç°ä»€ä¹ˆåŠŸèƒ½å°±å®ç°ä»€ä¹ˆåŠŸèƒ½ï¼Œä½†æ˜¯æœ€åè¿«äºæŸäº›åŸå› ï¼Œå†åŠ ä¸Šæ—¶é—´ä¸å¤Ÿï¼Œå·¥æœŸå‹çš„å¾ˆç´§ï¼Œæ ¹æœ¬æ²¡æ—¶é—´å»ä¸€ç‚¹ç‚¹ç»´æŠ¤å’Œè¿­ä»£ï¼Œæœæ–­æ”¾å¼ƒäº†è‡ªå·±å†™ï¼Œé‡‡ç”¨äº†æ’ä»¶ â€”â€” <code>wavesurfer.js</code></p>
<h3 data-id="heading-2">wavesurfer.js å®‰è£…</h3>
<p>vue3 å®‰è£… wavesurfer å¾ˆç®€å•ï¼Œå’Œå…¶ä»– vue å®‰è£…æ’ä»¶ä¸€æ ·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm i wavesurfer
</code></pre>
<p>ç­‰å¾…å®‰è£…å®Œæˆå°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc199115c3504b6bb69d31bfbde897a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-r5oiRQWRkVg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770629432&amp;x-signature=xY9Pe86oaQoKzEVuy8YqIJqKeSk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æˆ‘é¡¹ç›®å®‰è£…çš„ç‰ˆæœ¬æ˜¯ 7.12.1ï¼Œæ˜¯å¼€å‘æ—¶å€™çš„æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-3">ä½¿ç”¨</h3>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚</p>
<p>é¦–å…ˆå‘¢ï¼Œè¿™ä¸ªæ’ä»¶æ€ä¹ˆè¯´å‘¢ï¼Œæ¯”æˆ‘æƒ³è±¡ä¸­çš„éš¾ç”¨ï¼Œä½†æ˜¯ä»–ç¡®å®å¸®æˆ‘å®Œæˆäº†å¾ˆå¤šåŠŸèƒ½ï¼ŒAPIæš´éœ²å‡ºçš„å‚æ•°å’Œå‡½æ•°ä¸Šæ¥è¯´ï¼Œå¾ˆå¤šæˆ‘è§‰å¾—å¯ä»¥æä¾›çš„APIæˆ–è€…å‚æ•°ï¼Œä»–éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥è¯´å¾ˆå¤šé€»è¾‘éœ€è¦è‡ªå·±éœ€å†™ï¼Œä½†æ˜¯æˆ‘ä¸ç¡®å®šåæœŸä¼šä¸ä¼šåŠ ä¸Šã€‚</p>
<p>ä½¿ç”¨çš„è¯æä¾›çš„APIå€’æ˜¯ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚åŠ è½½ä¸€ä¸ªéŸ³é¢‘ï¼Œå±•ç¤ºå£°æ³¢ï¼š</p>
<p>é¦–å…ˆéœ€è¦å¼•ç”¨ä»¥ä¸‹å¿…è¦çš„æ’ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">WaveSurfer</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'wavesurfer.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">RegionsPlugin</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'wavesurfer.js/dist/plugins/regions.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TimelinePlugin</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'wavesurfer.js/dist/plugins/timeline.esm.js'</span>
</code></pre>
<p>ç„¶åç¼–å†™ä¸€ä¸ªå‡½æ•°ç”¨æ¥åŠ è½½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ è½½éŸ³é¢‘å£°æ³¢ï¼Œurlä¸ºéŸ³é¢‘é“¾æ¥</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initAudio</span> = (<span class="hljs-params">url = <span class="hljs-string">""</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (!waveformRef.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-comment">// é”€æ¯ç°æœ‰çš„å®ä¾‹</span>
  <span class="hljs-keyword">if</span> (wavesurfer.<span class="hljs-property">value</span>) { <span class="hljs-title function_">destroyAudio</span>() }
  annoList.<span class="hljs-property">value</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(list))
  regionsPlugin.<span class="hljs-property">value</span> = <span class="hljs-title class_">RegionsPlugin</span>.<span class="hljs-title function_">create</span>()
  <span class="hljs-comment">// åˆ›å»ºæ–°çš„ Wavesurfer å®ä¾‹</span>
  wavesurfer.<span class="hljs-property">value</span> = <span class="hljs-title class_">WaveSurfer</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">container</span>: waveformRef.<span class="hljs-property">value</span>,
    <span class="hljs-attr">waveColor</span>: <span class="hljs-string">'#4a90e2'</span>,
    <span class="hljs-attr">progressColor</span>: <span class="hljs-string">'#A0CFFF'</span>,
    <span class="hljs-attr">cursorColor</span>: <span class="hljs-string">'#000'</span>,
    <span class="hljs-attr">cursorWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">barWidth</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">barRadius</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">barGap</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">150</span>,
    <span class="hljs-attr">responsive</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">normalize</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">backend</span>: <span class="hljs-string">'WebAudio'</span>,
    <span class="hljs-attr">plugins</span>: [regionsPlugin.<span class="hljs-property">value</span>, <span class="hljs-title class_">TimelinePlugin</span>.<span class="hljs-title function_">create</span>()],
  })
  <span class="hljs-comment">// éŸ³é¢‘åŠ è½½å®Œæˆ</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'ready'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> totalDuration = wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">getDuration</span>(); <span class="hljs-comment">// å•ä½ï¼šç§’</span>
    audioTotalTime.<span class="hljs-property">value</span> = totalDuration
  });
  <span class="hljs-comment">// éŸ³é¢‘æ’­æ”¾æ—¶ï¼Œæ›´æ–°å½“å‰æ—¶é—´</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'audioprocess'</span>, <span class="hljs-function">(<span class="hljs-params">currentTime</span>) =&gt;</span> {
    audioCurrentTime.<span class="hljs-property">value</span> = currentTime  <span class="hljs-comment">// æ›´æ–°å½“å‰æ—¶é—´</span>
  });
  <span class="hljs-comment">// ç‚¹å‡» waveform æ—¶ï¼Œæ›´æ–°å½“å‰æ—¶é—´</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    audioCurrentTime.<span class="hljs-property">value</span> = wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">getCurrentTime</span>()  <span class="hljs-comment">// ç‚¹å‡»é¼ æ ‡æ—¶å€™è·å–å½“å‰æ—¶é—´</span>
  });
  <span class="hljs-comment">// ç›‘å¬æ˜¯å¦æ­£åœ¨æ’­æ”¾</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'play'</span>, <span class="hljs-function">() =&gt;</span> {
    isPlaying.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>  <span class="hljs-comment">// æ­£åœ¨æ’­æ”¾</span>
  })
  <span class="hljs-comment">// æš‚åœæ’­æ”¾</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'pause'</span>, <span class="hljs-function">() =&gt;</span> {
    isPlaying.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>  <span class="hljs-comment">// æš‚åœæ’­æ”¾</span>
  })
  <span class="hljs-comment">// æ’­æ”¾å®Œæˆ</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'finish'</span>, <span class="hljs-function">() =&gt;</span> {
    isPlaying.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>   <span class="hljs-comment">// æš‚åœæ’­æ”¾</span>
  })
  <span class="hljs-comment">// åŠ è½½éŸ³é¢‘</span>
  wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">load</span>(url)
}
</code></pre>
<p>çœ‹ä¸€ä¸‹æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c86d973eab74ce090675ce3ac7e5148~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-r5oiRQWRkVg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770629432&amp;x-signature=D3wtKBRNn%2FbiJZciyqI6u9iUEcY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-4">æ‹–æ‹½ç»˜åˆ¶åŒºåŸŸ</h3>
<p>é¦–å…ˆé¼ æ ‡ç»˜åˆ¶æ ‡æ³¨åŒºåŸŸçš„åŠŸèƒ½æ˜¯æ€ä¹ˆå®ç°å‘¢ï¼Œé¼ æ ‡ç§»åŠ¨åˆ°å£°æ³¢ä¸Šé¢ï¼ŒæŒ‰ä¸‹é¼ æ ‡å·¦é”®ï¼Œåˆ›å»ºä¸€ä¸ªä¸´æ—¶ï¼ˆtemp-å‰ç¼€ï¼‰çš„çŸ©å½¢åŒºåŸŸï¼Œå½“é¼ æ ‡ç§»åŠ¨çš„æ—¶å€™ï¼Œéšæ—¶æ›´æ–°ä¸´æ—¶çŸ©å½¢å®½åº¦ï¼Œè·Ÿéšé¼ æ ‡ç»˜åˆ¶ã€‚é¼ æ ‡æ¾å¼€åï¼Œåˆ é™¤ä¸´æ—¶çŸ©å½¢ï¼Œç»˜åˆ¶æ­£ç»çš„æ ‡æ³¨çŸ©å½¢ã€‚</p>
<h4 data-id="heading-5">æ³¨å†Œé¼ æ ‡äº‹ä»¶</h4>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦æ³¨å†Œé¼ æ ‡äº‹ä»¶ï¼ŒåŒ…æ‹¬é¼ æ ‡æŒ‰ä¸‹ã€é¼ æ ‡ç§»åŠ¨ã€é¼ æ ‡æŠ¬èµ·ã€é¼ æ ‡ç¦»å¼€ï¼›</p>
<p><strong>é¼ æ ‡æŒ‰ä¸‹ï¼š</strong> å¼€å§‹å‡†å¤‡æ•°æ®ï¼Œåœ¨é¼ æ ‡æŒ‰ä¸‹åï¼Œè‹¥ç§»åŠ¨ï¼Œè¯´æ˜æ­£åœ¨ç»˜åˆ¶çŸ©å½¢ï¼›è‹¥ç‚¹å‡»åæŠ¬èµ·ï¼Œåˆ™ä¸æ˜¯ç»˜åˆ¶ï¼›</p>
<p><strong>é¼ æ ‡ç§»åŠ¨ï¼š</strong> å¦‚æœæ˜¯ç»˜åˆ¶çŸ©å½¢æ ‡æ³¨ï¼Œåˆ™éœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„çŸ©å½¢æ ‡æ³¨ï¼Œè·Ÿéšé¼ æ ‡ä½ç½®åŠ¨æ€è®¾ç½®çŸ©å½¢å®½åº¦ï¼Œå¯è§†åŒ–ç»˜åˆ¶åŒºåŸŸï¼›</p>
<p><strong>é¼ æ ‡æŠ¬èµ·ï¼š</strong> å¦‚æœæ˜¯ç»˜åˆ¶çŸ©å½¢æ ‡æ³¨ï¼Œåˆ™æŠ¬èµ·çš„æ—¶å€™ï¼Œåˆ é™¤ä¸´æ—¶æ ‡æ³¨ï¼Œç”Ÿæˆä¸€ä¸ªæ­£å¼çš„æ ‡æ³¨åŒºåŸŸï¼›</p>
<p><strong>é¼ æ ‡ç¦»å¼€ï¼š</strong> å¦‚æœæ­£åœ¨ç»˜åˆ¶çŸ©å½¢ï¼Œé¼ æ ‡ç§»åŠ¨çš„è¿‡ç¨‹ä¸­è„±ç¦»äº†å£°æ³¢åŒºåŸŸï¼Œåˆ™åˆ é™¤ç»˜åˆ¶ï¼Œå½“æ²¡æœ‰ç»˜åˆ¶å¤„ç†ï¼›</p>
<h5 data-id="heading-6">åˆ›å»ºé¼ æ ‡ç›‘å¬</h5>
<p>å¯ä»¥åˆ›å»ºä¸ªå‡½æ•°ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•å¼€å¯é¼ æ ‡ç›‘å¬ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">  container.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousedown'</span>, handleMouseDown)
  container.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove)
  container.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseup'</span>, handleMouseUp)
  container.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mouseleave'</span>, handleMouseLeave)
</code></pre>
<h5 data-id="heading-7">é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</h5>
<p>é¦–å…ˆï¼Œé¼ æ ‡æŒ‰ä¸‹ä¸ä¸€å®šå°±æ˜¯ç»˜åˆ¶ï¼Œä¹Ÿå¯èƒ½å°±æ˜¯å•çº¯çš„ç‚¹å‡»ï¼Œä»€ä¹ˆæ—¶å€™ç®—ç»˜åˆ¶å‘¢ï¼Ÿç¬¬ä¸€æ˜¯é¼ æ ‡æŒ‰ä¸‹ï¼Œç¬¬äºŒæ˜¯é¼ æ ‡æ‹–æ‹½ï¼Œåªæœ‰é¼ æ ‡æŒ‰ä¸‹åæ‹–æ‹½æ‰ç®—ç»˜åˆ¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a52522d96e3841cf8aceca02b34af75b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-r5oiRQWRkVg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770629432&amp;x-signature=ZA8E%2Bld2JtJRkejlBV1J8rUduFc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å…¶æ¬¡ï¼Œé¼ æ ‡å¯èƒ½åœ¨å·²æœ‰çš„çŸ©å½¢æ ‡æ³¨ä¸Šç‚¹å‡»ï¼Œè¿™ä¸ªå°±æœ‰æ­§ä¹‰äº†ï¼Œä¹Ÿä¸ç®—æ­§ä¹‰ï¼Œæ¯”å¦‚æˆ‘é¼ æ ‡ç‚¹åœ¨ç»¿è‰²çš„æ ‡æ³¨ä¸Šï¼Œè¿™ä¸ªæ—¶å€™æ˜¯æƒ³æ‹–æ‹½å·²æœ‰çš„ç»¿è‰²æ ‡æ³¨è¿˜æ˜¯è¦ç»˜åˆ¶æ–°çš„æ ‡æ³¨å‘¢ï¼Ÿè¿™ä¸ªéœ€è¦é€šè¿‡ä¸šåŠ¡æ¥ç¡®å®šï¼Œè¿™é‡Œå°±å½“æ‹–æ‹½å·²æœ‰çš„ç»¿è‰²æ ‡æ³¨ï¼Œä¸å†ç»˜åˆ¶æ–°æ ‡æ³¨ã€‚</p>
<p>æ‰€ä»¥ï¼Œåœ¨é¼ æ ‡æŒ‰ä¸‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå‚æ•°ç”¨æ¥è¡¨æ˜æ˜¯ä¸æ˜¯ç‚¹å‡»åˆ°å·²æœ‰çš„æ ‡æ³¨ä¸Šäº†ï¼Œå¦‚æœç‚¹å‡»åˆ°å·²æœ‰çš„æ ‡æ³¨ä¸Šäº†çš„è¯ï¼Œé‚£ä¹ˆé¼ æ ‡æ‹–æ‹½çš„æ—¶å€™ä»€ä¹ˆä¹Ÿä¸å¤„ç†ï¼Œç›´æ¥è®©<code>wavesurfer</code>æ’ä»¶è‡ªå·±å¤„ç†å°±å¯ã€‚</p>
<p>æ‰€ä»¥åœ¨é¼ æ ‡æŒ‰ä¸‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯ç‚¹å‡»åœ¨äº†å·²æœ‰çš„æ ‡æ³¨ä¸Šï¼Œå¦‚æœç‚¹å‡»åœ¨äº†å·²æœ‰çš„æ ‡æ³¨ä¸Šåˆ™å•¥ä¹Ÿä¸ç”¨å¹²äº†ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™éœ€è¦æƒ³åŠæ³•æ ¹æ®ç‚¹å‡»çš„åæ ‡ï¼Œè®¡ç®—å‡ºæ ‡æ³¨çš„å¼€å§‹æ—¶é—´ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseDown</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">button</span> !== <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">const</span> container = waveformRef.<span class="hljs-property">value</span>
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨å·²æœ‰åŒºåŸŸä¸Š</span>
  <span class="hljs-keyword">const</span> clickedRegion = <span class="hljs-title function_">checkClickOnRegion</span>(e)
  <span class="hljs-keyword">if</span> (clickedRegion) {
    isDraggingRegion = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-comment">// å¦‚æœæ˜¯ç‚¹å‡»åŒºåŸŸï¼Œè®© WaveSurfer è‡ªå·±å¤„ç†æ‹–æ‹½</span>
  }
  <span class="hljs-comment">// å¼€å§‹ç»˜åˆ¶æ–°åŒºåŸŸ</span>
  isDraggingRegion = <span class="hljs-literal">false</span>
  isDrawing.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">const</span> rect = container.<span class="hljs-title function_">getBoundingClientRect</span>()  
  <span class="hljs-keyword">const</span> x = e.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>
  <span class="hljs-comment">// è®¡ç®—å¼€å§‹æ—¶é—´</span>
  <span class="hljs-keyword">const</span> duration = wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">getDuration</span>()
  drawStartX.<span class="hljs-property">value</span> = x
  drawStartTime.<span class="hljs-property">value</span> = (x / rect.<span class="hljs-property">width</span>) * duration
  <span class="hljs-comment">// ç§»é™¤æ—§çš„ä¸´æ—¶åŒºåŸŸï¼ˆå¦‚æœå­˜åœ¨ï¼‰</span>
  <span class="hljs-keyword">if</span> (tempRegion.<span class="hljs-property">value</span>) {
    tempRegion.<span class="hljs-property">value</span>.<span class="hljs-title function_">remove</span>()
    tempRegion.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
  }
  container.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">'col-resize'</span>
}
</code></pre>
<p>æ£€æŸ¥æ˜¯ä¸æ˜¯ç‚¹å‡»åœ¨å·²æœ‰æ ‡æ³¨ä¸Šçš„å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨å·²æœ‰åŒºåŸŸä¸Š</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">checkClickOnRegion</span> = (<span class="hljs-params">event</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!regionsPlugin.<span class="hljs-property">value</span> || !regions.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
  <span class="hljs-comment">// è·å–ç‚¹å‡»ä½ç½®</span>
  <span class="hljs-keyword">const</span> rect = waveformRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">getBoundingClientRect</span>()
  <span class="hljs-keyword">const</span> clickX = event.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>
  <span class="hljs-comment">// è®¡ç®—ç‚¹å‡»æ—¶é—´</span>
  <span class="hljs-keyword">const</span> duration = wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">getDuration</span>()
  <span class="hljs-keyword">const</span> clickTime = (clickX / rect.<span class="hljs-property">width</span>) * duration
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ç‚¹å‡»åœ¨ä»»ä½•åŒºåŸŸå†…</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> region <span class="hljs-keyword">of</span> regions.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">if</span> (clickTime &gt;= region.<span class="hljs-property">start</span> &amp;&amp; clickTime &lt;= region.<span class="hljs-property">end</span>) {
      <span class="hljs-keyword">return</span> region
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
}
</code></pre>
<h5 data-id="heading-8">é¼ æ ‡æ‹–æ‹½äº‹ä»¶</h5>
<p>é¼ æ ‡æ‹–æ‹½ç›‘å¬ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯ç»˜åˆ¶æ ‡æ³¨å‘¢ï¼Ÿæ˜¯é¼ æ ‡ç‚¹ä¸‹åçš„æ‹–æ‹½æ‰è¯´æ˜æ˜¯åœ¨æ‹–æ‹½ã€‚å¦‚æœé¼ æ ‡ç‚¹å‡»æ˜¯åœ¨å·²æœ‰çš„æ ‡æ³¨ä¸Šï¼Œåˆ™ç›´æ¥åœæ­¢å¤„ç†å°±å¯ä»¥äº†ï¼Œå…¨æœ‰<code>wavesurfer</code>æ’ä»¶æ¥å¤„ç†å·²æœ‰æ ‡æ³¨æ‹–æ‹½ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†™ä»£ç å®ç°ã€‚</p>
<p>å¦‚æœä¸æ˜¯ç‚¹å‡»åœ¨äº†ç„¶åæˆ‘ä»¬åˆ¤æ–­<code>isDrawing</code>å‚æ•°æ˜¯ä¸æ˜¯<code>true</code>ï¼Œå¦‚æœæ˜¯<code>true</code>è¯´æ˜é¼ æ ‡å·²ç»æŒ‰ä¸‹äº†ï¼Œç„¶åæˆ‘ä»¬å°±éœ€è¦è·å–é¼ æ ‡å®æ—¶ä½ç½®ï¼Œä»è€Œè®¡ç®—å‡ºæ ‡æ³¨çš„ç»“æŸæ—¶é—´ï¼Œç„¶åå°±å¯ä»¥æ“ä½œä¸´æ—¶åŒºåŸŸï¼Œå¦‚æœæ²¡æœ‰ä¸´æ—¶åŒºåŸŸå°±åˆ›å»ºï¼Œå¦‚æœæœ‰ä¸´æ—¶åŒºåŸŸäº†çš„è¯å°±ä¿®æ”¹ä¸´æ—¶åŒºåŸŸçš„å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´å°±å¯ä»¥äº†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseMove</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-keyword">if</span> (isDraggingRegion) <span class="hljs-keyword">return</span>
  <span class="hljs-keyword">const</span> container = waveformRef.<span class="hljs-property">value</span>
  <span class="hljs-keyword">if</span> (isDrawing.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">const</span> rect = container.<span class="hljs-title function_">getBoundingClientRect</span>()
    <span class="hljs-keyword">const</span> currentX = e.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>
    <span class="hljs-comment">// è®¡ç®—å½“å‰æ—¶é—´</span>
    <span class="hljs-keyword">const</span> duration = wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">getDuration</span>()
    <span class="hljs-keyword">const</span> currentTime = (currentX / rect.<span class="hljs-property">width</span>) * duration
    <span class="hljs-comment">// ç¡®å®šå¼€å§‹å’Œç»“æŸæ—¶é—´</span>
    <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(drawStartTime.<span class="hljs-property">value</span>, currentTime)
    <span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(drawStartTime.<span class="hljs-property">value</span>, currentTime)
    <span class="hljs-comment">// ç¡®ä¿åŒºåŸŸæœ‰æœ€å°é•¿åº¦</span>
    <span class="hljs-keyword">if</span> (endTime - startTime &lt; <span class="hljs-number">0.01</span>) <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">if</span> (!tempRegion.<span class="hljs-property">value</span>) {
      <span class="hljs-comment">// åˆ›å»ºä¸´æ—¶åŒºåŸŸ</span>
      tempRegion.<span class="hljs-property">value</span> = regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-title function_">addRegion</span>({
        <span class="hljs-attr">id</span>: <span class="hljs-string">`temp-<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>,
        <span class="hljs-attr">start</span>: startTime,
        <span class="hljs-attr">end</span>: endTime,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'#90939933'</span>,
        <span class="hljs-attr">drag</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">resize</span>: <span class="hljs-literal">false</span>
      })
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ›´æ–°ç°æœ‰ä¸´æ—¶åŒºåŸŸ</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ç›´æ¥æ›´æ–°åŒºåŸŸçš„ start å’Œ end å±æ€§</span>
        tempRegion.<span class="hljs-property">value</span>.<span class="hljs-title function_">setOptions</span>({
          <span class="hljs-attr">start</span>: startTime,
          <span class="hljs-attr">end</span>: endTime
        })
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// å¦‚æœæ›´æ–°å¤±è´¥ï¼Œé‡æ–°åˆ›å»º</span>
        tempRegion.<span class="hljs-property">value</span>.<span class="hljs-title function_">remove</span>()
        tempRegion.<span class="hljs-property">value</span> = regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-title function_">addRegion</span>({
          <span class="hljs-attr">id</span>: <span class="hljs-string">`temp-<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>,
          <span class="hljs-attr">start</span>: startTime,
          <span class="hljs-attr">end</span>: endTime,
          <span class="hljs-attr">color</span>: <span class="hljs-string">'#90939933'</span>,
          <span class="hljs-attr">drag</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">resize</span>: <span class="hljs-literal">false</span>
        })
      }
    }
  }
}
</code></pre>
<h5 data-id="heading-9">é¼ æ ‡æŠ¬èµ·äº‹ä»¶</h5>
<p>é¼ æ ‡æŠ¬èµ·å¤„ç†çš„äº‹æƒ…æœ‰ç‚¹å°å¤šäº†ï¼Œé¦–å…ˆä½ åœ¨é¼ æ ‡æŒ‰ä¸‹çš„æ—¶å€™åˆ¤æ–­äº†æ˜¯ä¸æ˜¯ç‚¹å‡»åœ¨äº†å·²æœ‰æ ‡æ³¨ä¸Šï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œé¼ æ ‡æŠ¬èµ·åéœ€è¦æŠŠ<code>isDraggingRegion</code>å‚æ•°é‡ç½®å›falseï¼Œç„¶å<code>return</code>å°±å¯ä»¥äº†ï¼Œä¸éœ€è¦å…¶ä»–çš„å¤„ç†ã€‚</p>
<p>å¦‚æœé¼ æ ‡ç‚¹å‡»äº†ï¼Œç°åœ¨æŠ¬èµ·æ¥ä¹‹åï¼Œåˆ™éœ€è¦é‡ç½®ä¸€ä¸‹<code>isDrawing</code>å‚æ•°é‡ç½®ä¸º<code>false</code>ã€‚</p>
<p>ç„¶åè¿˜è¦åˆ¤æ–­ä¸€ä¸‹ï¼Œæœ‰æ²¡æœ‰ä¸´æ—¶æ ‡æ³¨ï¼Œå¦‚æœæœ‰ä¸´æ—¶æ ‡æ³¨çš„è¯ï¼Œè¯´æ˜æ˜¯ç»˜åˆ¶çš„ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦æ ¹æ®ä¸´æ—¶åŒºåŸŸåˆ›å»ºä¸€ä¸ªæ­£ç»çš„æ ‡æ³¨åŒºåŸŸã€‚ç„¶ååœ¨æŠŠä¸´æ—¶çš„æ ‡æ³¨åŒºåŸŸåˆ é™¤æ‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¼ æ ‡é‡Šæ”¾äº‹ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseUp</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-keyword">if</span> (isDraggingRegion) {
    isDraggingRegion = <span class="hljs-literal">false</span>
    <span class="hljs-keyword">return</span> <span class="hljs-comment">// è®© WaveSurfer å¤„ç†åŒºåŸŸæ‹–æ‹½çš„ç»“æŸ</span>
  }
  <span class="hljs-keyword">const</span> container = waveformRef.<span class="hljs-property">value</span>
  <span class="hljs-keyword">if</span> (!isDrawing.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>
  isDrawing.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
  container.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">'default'</span>
  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ä¸´æ—¶åŒºåŸŸï¼Œç›´æ¥è¿”å›</span>
  <span class="hljs-keyword">if</span> (!tempRegion.<span class="hljs-property">value</span>) { <span class="hljs-keyword">return</span> }
  <span class="hljs-keyword">const</span> rect = container.<span class="hljs-title function_">getBoundingClientRect</span>()
  <span class="hljs-keyword">const</span> currentX = e.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>
  <span class="hljs-comment">// è®¡ç®—ç»“æŸæ—¶é—´</span>
  <span class="hljs-keyword">const</span> duration = wavesurfer.<span class="hljs-property">value</span>.<span class="hljs-title function_">getDuration</span>()
  <span class="hljs-keyword">const</span> currentTime = (currentX / rect.<span class="hljs-property">width</span>) * duration
  <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(drawStartTime.<span class="hljs-property">value</span>, currentTime)
  <span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(drawStartTime.<span class="hljs-property">value</span>, currentTime)
  <span class="hljs-comment">// å¦‚æœåŒºåŸŸå¤ªå°ï¼Œåˆ é™¤ä¸´æ—¶åŒºåŸŸ</span>
  <span class="hljs-keyword">if</span> (endTime - startTime &lt; <span class="hljs-number">0.1</span>) { <span class="hljs-comment">// å¢åŠ æœ€å°é•¿åº¦åˆ°0.1ç§’</span>
    tempRegion.<span class="hljs-property">value</span>.<span class="hljs-title function_">remove</span>()
    tempRegion.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-comment">// åˆ›å»ºæ°¸ä¹…åŒºåŸŸ</span>
  <span class="hljs-title function_">createPermanentRegion</span>(startTime, endTime)
  <span class="hljs-comment">// æ¸…é™¤ä¸´æ—¶åŒºåŸŸ</span>
  tempRegion.<span class="hljs-property">value</span>.<span class="hljs-title function_">remove</span>()
  tempRegion.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
}
</code></pre>
<p>åˆ›å»ºä¸´æ—¶åŒºåŸŸçš„è¯ï¼Œæ˜¯ä¸‹é¢çš„å‡½æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºæ°¸ä¹…åŒºåŸŸ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">createPermanentRegion</span> = (<span class="hljs-params">startTime, endTime</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!regionsPlugin.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> nul
  <span class="hljs-keyword">const</span> regionId = <span class="hljs-string">`<span class="hljs-subst">${uuidv4()}</span>`</span>
  <span class="hljs-keyword">const</span> tempRegions = regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-title function_">getRegions</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-property">id</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'temp-'</span>))
  tempRegions.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">region</span> =&gt;</span> region.<span class="hljs-title function_">remove</span>())
  regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-property">regions</span> = regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-property">regions</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> !r.<span class="hljs-property">id</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'temp-'</span>))
  <span class="hljs-comment">// åˆ›å»ºæ°¸ä¹…åŒºåŸŸ</span>
  <span class="hljs-keyword">const</span> region = regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-title function_">addRegion</span>({
    <span class="hljs-attr">id</span>: regionId,
    <span class="hljs-attr">start</span>: startTime,
    <span class="hljs-attr">end</span>: endTime,
    <span class="hljs-attr">color</span>: <span class="hljs-string">'#90939933'</span>,
    <span class="hljs-attr">drag</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">resize</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">minLength</span>: <span class="hljs-number">0.1</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">"æ ‡æ³¨"</span>,
  })
  region.<span class="hljs-property">element</span>.<span class="hljs-property">id</span> = regionId;
}
</code></pre>
<h5 data-id="heading-10">é¼ æ ‡ç§»é™¤äº‹ä»¶</h5>
<p>å¦‚æœé¼ æ ‡åœ¨ç§»å‡ºå£°æ³¢è¿™ä¸ªåŒºåŸŸçš„æ—¶å€™ï¼Œè¯´æ˜ä¸æƒ³ç»˜åˆ¶äº†ï¼Œæˆ‘ä»¬å°±ç›´æ¥å–æ¶ˆç»˜åˆ¶å°±å¯ä»¥äº†ï¼ŒæŠŠè¯¥é‡ç½®çš„æ•°æ®é‡ç½®äº†å°±å¯ä»¥äº†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¼ æ ‡ç¦»å¼€äº‹ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseLeave</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (isDrawing.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">const</span> container = waveformRef.<span class="hljs-property">value</span>
    isDrawing.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    container.<span class="hljs-property">style</span>.<span class="hljs-property">cursor</span> = <span class="hljs-string">'default'</span>
    <span class="hljs-comment">// åˆ é™¤ä¸´æ—¶åŒºåŸŸ</span>
    <span class="hljs-keyword">if</span> (tempRegion.<span class="hljs-property">value</span>) {
      tempRegion.<span class="hljs-property">value</span>.<span class="hljs-title function_">remove</span>()
      tempRegion.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
    }
  }
  isDraggingRegion = <span class="hljs-literal">false</span>
}
</code></pre>
<p>åœ¨é¡µé¢å¸è½½çš„æ—¶å€™ä¸è¦å¿˜è®°é”€æ¯ç›‘å¬äº‹ä»¶å—·</p>
<pre><code class="hljs language-javascript" lang="javascript">  container?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousedown'</span>, handleMouseDown)
  container?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove)
  container?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mouseup'</span>, handleMouseUp)
  container?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mouseleave'</span>, handleMouseLeave)
</code></pre>
<h4 data-id="heading-11">æ ‡æ³¨äº‹ä»¶ç›‘å¬</h4>
<p>æˆ‘ä»¬å¯ä»¥ç›‘å¬ä¸€ä¸‹æ ‡æ³¨äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">  regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'region-created'</span>, <span class="hljs-function">(<span class="hljs-params">region</span>) =&gt;</span> {
    <span class="hljs-comment">// åˆ›å»ºå®Œæˆå›è°ƒ</span>
    
    <span class="hljs-comment">// ç›‘å¬åŒºåŸŸæ›´æ–°å®Œæˆ</span>
    region.<span class="hljs-title function_">on</span>(<span class="hljs-string">'update-end'</span>, <span class="hljs-function">() =&gt;</span> {
    		<span class="hljs-comment">// ä¿®æ”¹å®Œæˆå›è°ƒ</span>
    })
  })

  <span class="hljs-comment">// ç›‘å¬æ ‡æ³¨åŒºåŸŸç‚¹å‡»</span>
  regionsPlugin.<span class="hljs-property">value</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'region-clicked'</span>, <span class="hljs-function">(<span class="hljs-params">region, e</span>) =&gt;</span> {
    e.<span class="hljs-title function_">stopPropagation</span>()
   	<span class="hljs-comment">// ç‚¹å‡»æ ‡æ³¨å›è°ƒ</span>
  })
</code></pre>
<h3 data-id="heading-12">ç›¸å…³æ–‡æ¡£</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwavesurfer.xyz%2Fdocs%2Ftypes%2Fwavesurfer.WaveSurferOptions" target="_blank" title="https://wavesurfer.xyz/docs/types/wavesurfer.WaveSurferOptions" ref="nofollow noopener noreferrer">wavesurfer.xyz/docs/types/â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwavesurfer.xyz%2Fexamples%2F%3Ftimeline.js" target="_blank" title="https://wavesurfer.xyz/examples/?timeline.js" ref="nofollow noopener noreferrer">wavesurfer.xyz/examples/?tâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent Skillsï¼šæ„å»ºå¯å¤ç”¨ AI ç¼–ç¨‹çŸ¥è¯†åº“çš„æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7602100217656229930</link>    <guid>https://juejin.cn/post/7602100217656229930</guid>    <pubDate>2026-02-02T09:22:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602100217656229930" data-draft-id="7602069205467709486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent Skillsï¼šæ„å»ºå¯å¤ç”¨ AI ç¼–ç¨‹çŸ¥è¯†åº“çš„æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2026-02-02T09:22:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent Skillsï¼šæ„å»ºå¯å¤ç”¨ AI ç¼–ç¨‹çŸ¥è¯†åº“çš„æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:22:11.000Z" title="Mon Feb 02 2026 09:22:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI è¾…åŠ©ç¼–ç¨‹çš„æ—¶ä»£ï¼Œ<code>AGENTS.md</code> å·²æˆä¸ºå¼€å‘è€…å‘ AI å·¥å…·ä¼ é€’é¡¹ç›®ä¸Šä¸‹æ–‡çš„é‡è¦æ–‡ä»¶ã€‚
ç„¶è€Œï¼Œéšç€é¡¹ç›®å¢å¤šï¼Œç»´æŠ¤å¤šä¸ªé¡¹ç›®çš„ <code>AGENTS.md</code> æ–‡ä»¶å˜å¾—æ„ˆå‘å›°éš¾â€”â€”é‡å¤çš„çŸ¥è¯†ã€åˆ†æ•£çš„æ›´æ–°ã€éš¾ä»¥åŒæ­¥ã€‚æ–°çš„Agent Skillså¼€æ”¾æ ‡å‡†é’ˆå¯¹è¿™äº›é—®é¢˜æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆ</p>
<h2 data-id="heading-0">AGENTS.md çš„ç—›ç‚¹ä¸ Agent Skills çš„è¯ç”Ÿ</h2>
<h3 data-id="heading-1">AGENTS.md çš„å›°å¢ƒ</h3>
<p>ä¼ ç»Ÿä¸Šï¼Œå¼€å‘è€…ä¼šåœ¨æ¯ä¸ªé¡¹ç›®ä¸­åˆ›å»º <code>AGENTS.md</code> æ–‡ä»¶ï¼Œç”¨äºè®°å½•ï¼š</p>
<ul>
<li>é¡¹ç›®ç‰¹å®šçš„ç¼–ç è§„èŒƒ</li>
<li>é¦–é€‰çš„ Swift/SwiftUI æ–¹æ³•</li>
<li>é‡æ„ç­–ç•¥</li>
<li>Swift Concurrency ä½¿ç”¨æ¨¡å¼</li>
</ul>
<p>åœ¨å®è·µä¸­å­˜åœ¨ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<p>ç¬¬ä¸€ï¼ŒçŸ¥è¯†åŒæ­¥æˆæœ¬é«˜ã€‚å½“åœ¨ A é¡¹ç›®ä¸­å‘ç° AI ç”Ÿæˆäº†é”™è¯¯ä»£ç å¹¶æ›´æ–° <code>AGENTS.md</code> åï¼Œç›¸åŒçš„é—®é¢˜ä¿®å¤éœ€è¦æ‰‹åŠ¨åŒæ­¥åˆ° Bã€Cã€D é¡¹ç›®ï¼Œç»´æŠ¤æˆæœ¬çº¿æ€§å¢é•¿ã€‚</p>
<p>ç¬¬äºŒï¼Œé€šç”¨çŸ¥è¯†ä¸é¡¹ç›®çŸ¥è¯†æ··æ‚ã€‚<code>AGENTS.md</code> æœ¬åº”èšç„¦é¡¹ç›®ç‰¹æœ‰é€»è¾‘ï¼Œå´ä¸å¾—ä¸åŒ…å«å¤§é‡é€šç”¨ç¼–ç¨‹æœ€ä½³å®è·µï¼ˆå¦‚ Swift Concurrency ä½¿ç”¨è§„èŒƒï¼‰ï¼Œå¯¼è‡´æ–‡ä»¶è‡ƒè‚¿ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œç¼ºä¹æ ‡å‡†åŒ–åˆ†äº«æœºåˆ¶ã€‚å³ä½¿æƒ³å¼€æºè‡ªå·±çš„ <code>AGENTS.md</code> å¸®åŠ©ä»–äººï¼Œå…¶æ ¼å¼ä¹Ÿä¸é€‚åˆç›´æ¥åˆ†äº«â€”â€”å®ƒå¤©ç„¶ä¸ºé¡¹ç›®ç‰¹å®šè€Œè®¾è®¡ï¼Œè€Œéé¢†åŸŸé€šç”¨ã€‚</p>
<h3 data-id="heading-2">Agent Skills çš„æ ¸å¿ƒç†å¿µ</h3>
<p>Agent Skills æ˜¯ä¸€ä¸ªå¼€æ”¾æ ¼å¼ï¼ˆopen formatï¼‰ï¼Œæ—¨åœ¨å°† AI Agent çš„èƒ½åŠ›æ¨¡å—åŒ–ã€å¯å¤ç”¨åŒ–ã€‚å®˜æ–¹å®šä¹‰ä¸ºï¼š</p>
<blockquote>
<p>Agent Skills æ˜¯ä¸€ç§ä¸º AI Agent æä¾›æ–°èƒ½åŠ›å’Œä¸“ä¸šçŸ¥è¯†çš„å¼€æ”¾æ ¼å¼ã€‚å•ä¸ª Skill å¯åŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºæ–‡ä»¶å¤¹ï¼Œä½¿ Agent èƒ½æ›´å‡†ç¡®åœ°æ‰§è¡Œç‰¹å®šä»»åŠ¡ã€‚</p>
</blockquote>
<p>å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºé¢†åŸŸä¸“ä¸šçŸ¥è¯†çš„å°è£…ä¸å¤ç”¨ã€‚ä½ å¯ä»¥å°† Swift Concurrencyã€SwiftUI æ¶æ„ã€ä»£ç é‡æ„ç­‰é¢†åŸŸçš„æœ€ä½³å®è·µæ‰“åŒ…æˆç‹¬ç«‹ Skillï¼Œåœ¨æ‰€æœ‰é¡¹ç›®ä¸­å…±äº«ã€‚</p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<code>AGENTS.md</code> æ˜¯é¡¹ç›®çº§çŸ¥è¯†åº“ï¼Œè€Œ Agent Skills æ˜¯è·¨é¡¹ç›®ã€é¢†åŸŸçº§çš„çŸ¥è¯†åº“ã€‚</p>
<h2 data-id="heading-3">Agent Skills æ ¸å¿ƒæ¦‚å¿µè¯¦è§£</h2>
<h3 data-id="heading-4">ä»€ä¹ˆæ˜¯ Agent Skillsï¼Ÿ</h3>
<p>Agent Skills ç”±ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ æ„æˆï¼š</p>
<ol>
<li>æŒ‡ä»¤ç³»ç»Ÿï¼ˆInstructionsï¼‰ï¼šæŒ‡å¯¼ Agent ä½•æ—¶ã€å¦‚ä½•ä½¿ç”¨è¯¥ Skill</li>
<li>å‚è€ƒèµ„æºï¼ˆReferencesï¼‰ï¼šè¯¦ç»†çš„é¢†åŸŸçŸ¥è¯†æ–‡æ¡£</li>
<li>å¯æ‰§è¡Œè„šæœ¬ï¼ˆScriptsï¼‰ï¼šè‡ªåŠ¨åŒ–å·¥å…·æˆ–å·¥ä½œæµ</li>
</ol>
<p>è¿™ç§ç»“æ„ä½¿ Skill å…·å¤‡ï¼š</p>
<ul>
<li>é¢†åŸŸä¸“ä¸šæ€§ï¼šæ·±åº¦è¦†ç›–ç‰¹å®šæŠ€æœ¯æ ˆ</li>
<li>å¯å¤ç”¨æ€§ï¼šä¸€æ¬¡åˆ›å»ºï¼Œå¤šé¡¹ç›®ä½¿ç”¨</li>
<li>å·¥å…·å…¼å®¹æ€§ï¼šå·²è¢« Codexã€Geminiã€Claudeã€Cursor ç­‰ä¸»æµå·¥å…·æ”¯æŒ</li>
</ul>
<h3 data-id="heading-5">æŠ€æœ¯ç”Ÿæ€ç°çŠ¶</h3>
<p>Agent Skills å·²è¢«å¹¿æ³›é‡‡çº³ï¼š</p>
<ul>
<li>Codex CLIï¼šé€šè¿‡ <code>/skills</code> å‘½ä»¤ç®¡ç†</li>
<li>Cursor AIï¼šé›†æˆ openskills CLI</li>
<li>Gemini/Claudeï¼šåŸç”Ÿæ”¯æŒ Skill æ ¼å¼</li>
</ul>
<p>è¿™æ„å‘³ç€å¼€å‘è€…å¯ä»¥ç«‹å³æŠ•å…¥ä½¿ç”¨ï¼Œæ— éœ€ç­‰å¾…ç”Ÿæ€æˆç†Ÿã€‚</p>
<h2 data-id="heading-6">å®æˆ˜æ¡ˆä¾‹ï¼šSwift Concurrency Skill æ·±åº¦å‰–æ</h2>
<h3 data-id="heading-7">Skill ç»“æ„è®¾è®¡</h3>
<pre><code class="hljs language-bash" lang="bash">swift-concurrency/
â”œâ”€â”€ SKILL.md                    <span class="hljs-comment"># ä¸»æŠ€èƒ½æ–‡ä»¶ï¼šå†³ç­–æ ‘å…¥å£</span>
â””â”€â”€ references/
    â”œâ”€â”€ async-await-basics.md   <span class="hljs-comment"># async/await åŸºç¡€è¯­æ³•</span>
    â”œâ”€â”€ tasks.md                <span class="hljs-comment"># Task ç”Ÿå‘½å‘¨æœŸã€å–æ¶ˆæœºåˆ¶ã€ä¼˜å…ˆçº§</span>
    â”œâ”€â”€ sendable.md             <span class="hljs-comment"># éš”ç¦»åŸŸä¸ Sendable åè®®</span>
    â”œâ”€â”€ actors.md               <span class="hljs-comment"># Actor éš”ç¦»ã€å…¨å±€ Actorã€å¯é‡å…¥æ€§</span>
    â”œâ”€â”€ async-sequences.md      <span class="hljs-comment"># AsyncSequence ä¸ AsyncStream æ¨¡å¼</span>
    â”œâ”€â”€ threading.md            <span class="hljs-comment"># çº¿ç¨‹ä¸ Task å¯¹æ¯”ã€æŒ‚èµ·ç‚¹</span>
    â”œâ”€â”€ memory-management.md    <span class="hljs-comment"># å¾ªç¯å¼•ç”¨ã€weak selfã€éš”ç¦»ææ„</span>
    â”œâ”€â”€ core-data.md            <span class="hljs-comment"># Core Data é›†æˆæ¨¡å¼</span>
    â”œâ”€â”€ performance.md          <span class="hljs-comment"># ä½¿ç”¨ Xcode Instruments ä¼˜åŒ–</span>
    â”œâ”€â”€ testing.md              <span class="hljs-comment"># å¹¶å‘ä»£ç æµ‹è¯•ç­–ç•¥</span>
    â”œâ”€â”€ migration.md            <span class="hljs-comment"># Swift 6 è¿ç§»åˆ†æ­¥æŒ‡å—</span>
    â”œâ”€â”€ glossary.md             <span class="hljs-comment"># æœ¯è¯­ä¸æ¦‚å¿µè¯æ±‡è¡¨</span>
    â””â”€â”€ linting.md              <span class="hljs-comment"># ä¸¥æ ¼å¹¶å‘ Lint è§„åˆ™</span>
</code></pre>
<p>ç»“æ„è§£æï¼š</p>
<ul>
<li><code>SKILL.md</code> æ˜¯æ™ºèƒ½è·¯ç”±å±‚ï¼Œç±»ä¼¼ API Gatewayï¼Œæ ¹æ®é—®é¢˜ç±»å‹åˆ†å‘åˆ°å¯¹åº”çš„å‚è€ƒæ–‡æ¡£</li>
<li><code>references/</code> æ˜¯çŸ¥è¯†åº“å±‚ï¼Œæ¯ç¯‡æ–‡æ¡£èšç„¦å•ä¸€ä¸»é¢˜ï¼Œæ·±åº¦è®²è§£</li>
<li>è¿™ç§åˆ†å±‚è®¾è®¡ä½¿ Agent èƒ½ç²¾å‡†å®šä½æ‰€éœ€çŸ¥è¯†ï¼Œé¿å…ä¸Šä¸‹æ–‡è¿‡è½½</li>
</ul>
<h3 data-id="heading-8">ä»£ç ç¤ºä¾‹ï¼šå†³ç­–æ ‘å®ç°</h3>
<p><code>SKILL.md</code> ä¸­çš„å†³ç­–æ ‘æ˜¯ Skill çš„æ ¸å¿ƒæ™ºèƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€åŒ–çš„å®ç°ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Swift Concurrency Skill - ä¸»å†³ç­–æ ‘</span>

<span class="hljs-section">## ä½•æ—¶ä½¿ç”¨è¯¥ Skill</span>
å½“å¼€å‘è€…æåŠä»¥ä¸‹å…³é”®è¯æ—¶æ¿€æ´»ï¼š
<span class="hljs-bullet">-</span> "Swift Concurrency", "async/await", "actors", "tasks"
<span class="hljs-bullet">-</span> "è¿ç§»åˆ° Swift 6"
<span class="hljs-bullet">-</span> "æ•°æ®ç«äº‰" æˆ– "çº¿ç¨‹å®‰å…¨"
<span class="hljs-bullet">-</span> "@MainActor", "Sendable"
<span class="hljs-bullet">-</span> "å¹¶å‘ä»£ç æ¶æ„" æˆ– "æ€§èƒ½ä¼˜åŒ–"

<span class="hljs-section">## å†³ç­–è·¯å¾„</span>

<span class="hljs-section">### 1. åˆšå¼€å§‹ç¼–å†™å¼‚æ­¥ä»£ç ï¼Ÿ</span>
<span class="hljs-code">```bash
# Agent æ‰§è¡ŒåŠ¨ä½œï¼šè¯»å–åŸºç¡€æ–‡æ¡£
openskills read swift-concurrency/references/async-await-basics.md
</span></code></pre>
<ul>
<li>éœ€è¦å¹¶è¡Œæ“ä½œï¼Ÿâ†’ è¯»å– <code>tasks.md</code> (async let, TaskGroup)</li>
</ul>
<ol start="2">
<li>éœ€è¦ä¿æŠ¤å…±äº«å¯å˜çŠ¶æ€ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¯„ä¼°é¡¹ç›®ç±»å‹</span>
<span class="hljs-keyword">if</span> é¡¹ç›®ä½¿ç”¨ç±»ï¼ˆclassï¼‰ç®¡ç†çŠ¶æ€:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/actors.md
<span class="hljs-keyword">else</span>:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/sendable.md
</code></pre>
<ol start="3">
<li>ç®¡ç†å¼‚æ­¥æ“ä½œç”Ÿå‘½å‘¨æœŸï¼Ÿ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŒºåˆ†ç»“æ„åŒ–å¹¶å‘ä¸æµå¼æ•°æ®</span>
<span class="hljs-keyword">if</span> éœ€æ±‚æ˜¯ç»“æ„åŒ–ä»»åŠ¡ç®¡ç†:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/tasks.md
<span class="hljs-keyword">elif</span> éœ€æ±‚æ˜¯æµå¼æ•°æ®å¤„ç†:
    openskills <span class="hljs-built_in">read</span> swift-concurrency/references/async-sequences.md
</code></pre>
<ol start="4">
<li>æ€§èƒ½åˆ†æä¸è°ƒè¯•ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼•å¯¼ä½¿ç”¨ Instruments</span>
openskills <span class="hljs-built_in">read</span> swift-concurrency/references/performance.md
</code></pre>
<p>é¡¹ç›®é…ç½®æ£€æŸ¥æ¸…å•
åœ¨åº”ç”¨å»ºè®®å‰ï¼ŒAgent å¿…é¡»æ£€æŸ¥ï¼š</p>
<ul>
<li>Swift ç‰ˆæœ¬ï¼ˆ6.0+ï¼Ÿï¼‰</li>
<li>æ˜¯å¦å¯ç”¨ <code>StrictConcurrency=complete</code></li>
<li>æ˜¯å¦è®¾ç½® <code>nonisolatednonsendingbydefault</code></li>
<li>é»˜è®¤ Actor éš”ç¦»ç­–ç•¥</li>
</ul>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-strong">**æ³¨é‡Šè¯´æ˜**</span>ï¼š
<span class="hljs-bullet">-</span> å†³ç­–æ ‘æœ¬è´¨æ˜¯<span class="hljs-strong">**æ¡ä»¶è·¯ç”±è¡¨**</span>ï¼Œå°†è‡ªç„¶è¯­è¨€é—®é¢˜æ˜ å°„åˆ°å…·ä½“æ–‡æ¡£
<span class="hljs-bullet">-</span> <span class="hljs-code">`openskills read`</span> æ˜¯ Agent ä¸ Skill çš„<span class="hljs-strong">**æ ‡å‡†äº¤äº’æ¥å£**</span>
<span class="hljs-bullet">-</span> é¡¹ç›®é…ç½®æ£€æŸ¥ç¡®ä¿å»ºè®®<span class="hljs-strong">**å› åœ°åˆ¶å®œ**</span>ï¼Œé¿å…ç”Ÿæ¬ç¡¬å¥—

<span class="hljs-section">## Agent å¦‚ä½•ä½¿ç”¨ Skillsï¼šæŠ€æœ¯å®ç°åŸç†</span>

<span class="hljs-section">### å®‰è£…ä¸åŒæ­¥æœºåˆ¶</span>

Agent Skills é€šè¿‡ <span class="hljs-code">`openskills`</span> CLI å·¥å…·ç®¡ç†ï¼Œå…¶å·¥ä½œæµç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š

<span class="hljs-strong">**æ­¥éª¤ 1ï¼šå®‰è£… Skill**</span>
<span class="hljs-code">```bash
# ä» GitHub å®‰è£…å…¬å¼€ Skill
openskills install avdlee/Swift-Concurrency-Agent-Skill
</span></code></pre>
<p>æŠ€æœ¯åŸç†ï¼šè¯¥å‘½ä»¤ä¼šï¼š</p>
<ol>
<li>å…‹éš† GitHub ä»“åº“åˆ°æœ¬åœ° Skill å­˜å‚¨ç›®å½•ï¼ˆ<code>~/.skills</code> æˆ–é¡¹ç›® <code>.skills</code>ï¼‰</li>
<li>è§£æ <code>SKILL.md</code> æå–å…ƒæ•°æ®ï¼ˆåç§°ã€æè¿°ã€è§¦å‘å…³é”®è¯ï¼‰</li>
<li>æ³¨å†Œ Skill åˆ°å…¨å±€ç´¢å¼•</li>
</ol>
<p>æ­¥éª¤ 2ï¼šåŒæ­¥åˆ° AGENTS.md</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†å·²å®‰è£… Skills æ³¨å…¥é¡¹ç›® AGENTS.md</span>
openskills <span class="hljs-built_in">sync</span>
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šè‡ªåŠ¨åŒ–ä¿®æ”¹ <code>AGENTS.md</code>ï¼Œæ’å…¥ Skill å¼•ç”¨åŒºå—ã€‚ç”Ÿæˆçš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">skills_system</span> <span class="hljs-attr">priority</span>=<span class="hljs-string">"1"</span>&gt;</span>

## å¯ç”¨ Skills

<span class="hljs-comment">&lt;!-- SKILLS_TABLE_START --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">usage</span>&gt;</span>
å½“ç”¨æˆ·è¯·æ±‚ä»»åŠ¡æ—¶ï¼Œæ£€æŸ¥ä»¥ä¸‹å¯ç”¨ Skills æ˜¯å¦èƒ½æ›´æœ‰æ•ˆå®Œæˆå·¥ä½œã€‚Skills æä¾›ä¸“ä¸šèƒ½åŠ›å’Œé¢†åŸŸçŸ¥è¯†ã€‚

ä½¿ç”¨æ–¹æ³•ï¼š
- è°ƒç”¨ï¼šBash("openskills read <span class="hljs-tag">&lt;<span class="hljs-name">skill-name</span>&gt;</span>")
- Skill å†…å®¹å°†åŠ è½½ï¼ŒåŒ…å«å®Œæˆä»»åŠ¡çš„å…·ä½“æŒ‡ä»¤
- è¾“å‡ºä¸­æä¾›åŸºç¡€ç›®å½•ï¼Œç”¨äºè§£ææ†ç»‘èµ„æºï¼ˆreferences/, scripts/, assets/ï¼‰

ä½¿ç”¨æ³¨æ„ï¼š
- ä»…ä½¿ç”¨ <span class="hljs-tag">&lt;<span class="hljs-name">available_skills</span>&gt;</span> ä¸‹åˆ—å‡ºçš„ Skills
- ä¸è¦è°ƒç”¨å·²åŠ è½½åˆ°ä¸Šä¸‹æ–‡çš„ Skill
- æ¯æ¬¡ Skill è°ƒç”¨æ˜¯æ— çŠ¶æ€çš„
<span class="hljs-tag">&lt;/<span class="hljs-name">usage</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">available_skills</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">skill</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>swift-concurrency<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>'Swift Concurrency æœ€ä½³å®è·µã€æ¨¡å¼å’Œå®ç°çš„ä¸“å®¶æŒ‡å¯¼ã€‚ä½¿ç”¨åœºæ™¯ï¼š(1) æåŠ Swift Concurrencyã€async/awaitã€actors æˆ– tasksï¼Œ(2) "ä½¿ç”¨ Swift Concurrency" æˆ– "ç°ä»£å¹¶å‘æ¨¡å¼"ï¼Œ(3) è¿ç§»åˆ° Swift 6ï¼Œ(4) æ•°æ®ç«äº‰æˆ–çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œ(5) å°†é—­åŒ…é‡æ„ä¸º async/awaitï¼Œ(6) @MainActorã€Sendable æˆ– Actor éš”ç¦»ï¼Œ(7) å¹¶å‘ä»£ç æ¶æ„æˆ–æ€§èƒ½ä¼˜åŒ–ï¼Œ(8) å¹¶å‘ç›¸å…³ Lint è­¦å‘Šï¼ˆSwiftLint ç­‰ï¼‰'<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">location</span>&gt;</span>project<span class="hljs-tag">&lt;/<span class="hljs-name">location</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">skill</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">available_skills</span>&gt;</span>
<span class="hljs-comment">&lt;!-- SKILLS_TABLE_END --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">skills_system</span>&gt;</span>
</code></pre>
<p>æŠ€æœ¯è§£æï¼š</p>
<ul>
<li>ä½¿ç”¨ XML æ ¼å¼ æ˜¯ä¸ºäº†å…¼å®¹ä¸åŒ Agent çš„è§£æå™¨</li>
<li><code>priority="1"</code> ç¡®ä¿ Skill ç³»ç»Ÿè¢«ä¼˜å…ˆè¯„ä¼°</li>
<li><code>&lt;description&gt;</code> æ˜¯è§¦å‘å™¨ï¼ˆTriggerï¼‰ï¼ŒAgent é€šè¿‡è‡ªç„¶è¯­è¨€åŒ¹é…å†³å®šæ˜¯å¦è°ƒç”¨</li>
<li><code>Bash("openskills read ...")</code> æ˜¯æ ‡å‡†è°ƒç”¨æ¥å£ï¼Œè§£è€¦ Agent ä¸ Skill å®ç°</li>
</ul>
<h3 data-id="heading-9">Agent çš„å†³ç­–æµç¨‹</h3>
<p>å½“ç”¨æˆ·æé—®æ—¶ï¼ŒAgent çš„å†…éƒ¨å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ªä»£ç ï¼šAgent å†³ç­–é€»è¾‘</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_user_prompt</span>(<span class="hljs-params">prompt: <span class="hljs-built_in">str</span>, skills: <span class="hljs-type">List</span>[Skill]</span>):
    <span class="hljs-comment"># 1. è§£æç”¨æˆ·æ„å›¾ï¼ˆEmbedding + å…³é”®è¯åŒ¹é…ï¼‰</span>
    intent = extract_intent(prompt)
    
    <span class="hljs-comment"># 2. éå†å¯ç”¨ Skillsï¼Œè®¡ç®—ç›¸å…³æ€§å¾—åˆ†</span>
    <span class="hljs-keyword">for</span> skill <span class="hljs-keyword">in</span> skills:
        <span class="hljs-comment"># åŒ¹é… Skill æè¿°ä¸­çš„å…³é”®è¯</span>
        <span class="hljs-keyword">if</span> skill.description.contains_any(intent.keywords):
            score = calculate_relevance(skill.description, intent)
            <span class="hljs-keyword">if</span> score &gt; THRESHOLD:
                <span class="hljs-comment"># 3. åŠ¨æ€åŠ è½½ Skill ä¸Šä¸‹æ–‡</span>
                skill_content = execute_bash(<span class="hljs-string">f"openskills read <span class="hljs-subst">{skill.name}</span>"</span>)
                
                <span class="hljs-comment"># 4. å†³ç­–æ ‘è·¯ç”±</span>
                decision_path = parse_decision_tree(skill_content.SKILL.md)
                target_doc = decision_path.evaluate(intent)
                
                <span class="hljs-comment"># 5. è¯»å–å…·ä½“çŸ¥è¯†æ–‡æ¡£</span>
                reference_doc = execute_bash(
                    <span class="hljs-string">f"openskills read <span class="hljs-subst">{skill.name}</span>/references/<span class="hljs-subst">{target_doc}</span>"</span>
                )
                
                <span class="hljs-comment"># 6. ç”Ÿæˆå¸¦å¼•ç”¨çš„å›ç­”</span>
                <span class="hljs-keyword">return</span> generate_answer(
                    prompt, 
                    context=reference_doc,
                    citations=[target_doc]  <span class="hljs-comment"># å¼•ç”¨æ¥æº</span>
                )
    
    <span class="hljs-comment"># æ— åŒ¹é… Skillï¼Œä½¿ç”¨é€šç”¨çŸ¥è¯†</span>
    <span class="hljs-keyword">return</span> generate_answer(prompt, context=general_knowledge)
</code></pre>
<p>å…³é”®è®¾è®¡äº®ç‚¹ï¼š</p>
<ul>
<li>å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰ï¼šSkill å†…å®¹åœ¨éœ€è¦æ—¶æ‰åŠ è½½ï¼Œé¿å…ä¸Šä¸‹æ–‡çª—å£æµªè´¹</li>
<li>æ— çŠ¶æ€è°ƒç”¨ï¼šæ¯æ¬¡è°ƒç”¨éƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒSkill å†…éƒ¨æ— å¤æ‚çŠ¶æ€ç®¡ç†ï¼Œé™ä½è€¦åˆ</li>
<li>å¯æº¯æºæ€§ï¼šAgent å¿…é¡»æ˜ç¡®å¼•ç”¨å‚è€ƒæ–‡æ¡£ï¼Œå®ç°çŸ¥è¯†å®¡è®¡</li>
</ul>
<h2 data-id="heading-10">é¢†åŸŸä¸“ä¸šçŸ¥è¯†çš„é‡è¦æ€§ï¼šSkill è´¨é‡çš„åŸºçŸ³</h2>
<h3 data-id="heading-11">ä¸ºä»€ä¹ˆéœ€è¦é¢†åŸŸä¸“å®¶ï¼Ÿ</h3>
<p>Agent Skills çš„è´¨é‡å–å†³äºåˆ›å»ºè€…çš„é¢†åŸŸæ·±åº¦ã€‚å…¶ Swift Concurrency Skill çš„ä¼˜åŠ¿æºäºï¼š</p>
<ul>
<li>å¯¹ Swift 6 æ–°ç‰¹æ€§çš„æ·±åº¦ç†è§£ï¼ˆå¦‚ Default Actor Isolationï¼‰</li>
<li>å®é™…é¡¹ç›®ä¸­çš„è¸©å‘ç»éªŒï¼ˆå¦‚ä¸å¿…è¦çš„ <code>@MainActor</code>ï¼‰</li>
</ul>
<h3 data-id="heading-12">åæ¨¡å¼ï¼šæµ…å±‚çŸ¥è¯†ä¸è¿‡åº¦è®¾è®¡</h3>
<p>ä¸€äº›å¼€æº Skill çš„é—®é¢˜ï¼š</p>
<p>é—®é¢˜ 1ï¼šç¼ºä¹æ·±åº¦</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># åä¾‹ï¼šæµ…å±‚ Skill</span>
<span class="hljs-section">## ä½¿ç”¨ async/await</span>
<span class="hljs-bullet">-</span> ç”¨ async æ ‡è®°å¼‚æ­¥å‡½æ•°
<span class="hljs-bullet">-</span> ç”¨ await è°ƒç”¨å¼‚æ­¥å‡½æ•°
</code></pre>
<p>è¿™ç§ Skill åªæ˜¯è¯­æ³•å¤è¿°ï¼Œæ— æ³•è§£å†³å®é™…é—®é¢˜ï¼ˆå¦‚çº¿ç¨‹å®‰å…¨ã€æ€§èƒ½ä¼˜åŒ–ï¼‰ã€‚</p>
<p>é—®é¢˜ 2ï¼šè¿‡åº¦æ­¦æ–­</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åä¾‹ï¼šå¼ºåˆ¶æ¶æ„é£æ ¼</span>
<span class="hljs-comment">// Skill å»ºè®®ï¼šæ‰€æœ‰ ViewModel å¿…é¡»éµå¾ª MVVM</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyViewModel</span>: <span class="hljs-title class_">ObservableObject</span> { <span class="hljs-comment">/* ... */</span> } 
<span class="hljs-comment">// ä½†å¦‚æœç”¨æˆ·é¡¹ç›®ä½¿ç”¨ TCA æˆ– Elmï¼Œæ­¤å»ºè®®å°±æ˜¯é”™è¯¯çš„</span>
</code></pre>
<p>æœ€ä½³å®è·µåŸåˆ™ï¼š</p>
<ul>
<li>Skill åº”èšç„¦ "æœ€ä½³å®è·µ" è€Œé "ä¸ªäººåå¥½"</li>
<li>åº”è§£å†³ "How to do it right" è€Œé "How I do it"</li>
<li>æä¾› "é…ç½®æ„ŸçŸ¥" èƒ½åŠ›ï¼Œæ ¹æ®é¡¹ç›®å®é™…è®¾ç½®è°ƒæ•´å»ºè®®</li>
</ul>
<h3 data-id="heading-13">é…ç½®æ„ŸçŸ¥çš„å®ç°</h3>
<p>Swift Concurrency Skill ä¼šå…ˆè¯„ä¼°é¡¹ç›®é…ç½®ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Skill å†³ç­–é€»è¾‘ç¤ºä¾‹ï¼šè¯„ä¼°é¡¹ç›® Swift ç‰ˆæœ¬</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">evaluateProjectSettings</span>() -&gt; <span class="hljs-type">ConcurrencyStrategy</span> {
    <span class="hljs-keyword">let</span> swiftVersion <span class="hljs-operator">=</span> readSwiftVersion() <span class="hljs-comment">// è¯»å– // swift-tools-version: 6.0</span>
    <span class="hljs-keyword">let</span> concurrencyChecks <span class="hljs-operator">=</span> buildSettings[<span class="hljs-string">"SWIFT_STRICT_CONCURRENCY"</span>] <span class="hljs-comment">// ä¸¥æ ¼å¹¶å‘è®¾ç½®</span>
    <span class="hljs-keyword">let</span> actorIsolation <span class="hljs-operator">=</span> buildSettings[<span class="hljs-string">"SWIFT_DEFAULT_ACTOR_ISOLATION"</span>] <span class="hljs-comment">// é»˜è®¤ Actor éš”ç¦»</span>
    
    <span class="hljs-keyword">if</span> swiftVersion <span class="hljs-operator">&gt;=</span> .v6_0 <span class="hljs-operator">&amp;&amp;</span> concurrencyChecks <span class="hljs-operator">==</span> <span class="hljs-string">"complete"</span> {
        <span class="hljs-comment">// Swift 6 + å®Œæ•´ä¸¥æ ¼å¹¶å‘æ£€æŸ¥</span>
        <span class="hljs-keyword">return</span> .swift6Strict
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> actorIsolation <span class="hljs-operator">==</span> <span class="hljs-string">"mainActor"</span> {
        <span class="hljs-comment">// é»˜è®¤ä¸» Actor éš”ç¦»ï¼Œå¯çœç•¥å¤šä½™ @MainActor</span>
        <span class="hljs-keyword">return</span> .mainActorDefault
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> .legacy
    }
}

<span class="hljs-comment">// æ ¹æ®è¯„ä¼°ç»“æœï¼ŒSkill ä¼šç”Ÿæˆå·®å¼‚åŒ–å»ºè®®</span>
<span class="hljs-keyword">switch</span> evaluateProjectSettings() {
<span class="hljs-keyword">case</span> .swift6Strict:
    <span class="hljs-comment">// å»ºè®®ï¼šåˆ©ç”¨ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶ä¿æŠ¤</span>
    suggest(<span class="hljs-string">"ä¼˜å…ˆä½¿ç”¨ Sendable å’Œ Actor éš”ç¦»ï¼Œå‡å°‘ DispatchQueue"</span>)
<span class="hljs-keyword">case</span> .mainActorDefault:
    <span class="hljs-comment">// å»ºè®®ï¼šç§»é™¤å†—ä½™æ³¨è§£</span>
    suggest(<span class="hljs-string">"å…¨å±€å·²é»˜è®¤ @MainActorï¼Œå¯ç§»é™¤æ˜¾å¼æ ‡è®°"</span>)
<span class="hljs-keyword">case</span> .legacy:
    <span class="hljs-comment">// å»ºè®®ï¼šä¿å®ˆçš„å‘åå…¼å®¹æ–¹æ¡ˆ</span>
    suggest(<span class="hljs-string">"é€æ­¥è¿ç§»ï¼Œå…ˆå¯ç”¨ StrictConcurrency=minimal"</span>)
}
</code></pre>
<p>è¿™ç§ä¸Šä¸‹æ–‡æ„ŸçŸ¥èƒ½åŠ›ä½¿ Skill å»ºè®®ç²¾å‡†è€Œéæ•™æ¡ã€‚</p>
<h2 data-id="heading-14">å¦‚ä½•ä½¿ç”¨ Agent Skillsï¼šå¤šå·¥å…·å®è·µ</h2>
<h3 data-id="heading-15">ä½¿ç”¨ openskills CLIï¼ˆCursor AIï¼‰</h3>
<p>å®‰è£… Skillï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Swift Concurrency Skill</span>
openskills install avdlee/Swift-Concurrency-Agent-Skill

<span class="hljs-comment"># æŸ¥çœ‹å·²å®‰è£… Skills</span>
openskills list
</code></pre>
<p>åŒæ­¥åˆ°é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è‡ªåŠ¨æ›´æ–° AGENTS.md</span>
openskills <span class="hljs-built_in">sync</span>

<span class="hljs-comment"># å¯æŒ‡å®šè¾“å‡ºæ–‡ä»¶</span>
openskills <span class="hljs-built_in">sync</span> --output .cursor/agents.md
</code></pre>
<p>åœ¨å¯¹è¯ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·ï¼šå¸®æˆ‘åˆ†æå½“å‰é¡¹ç›®çš„ Swift Concurrency ä½¿ç”¨æ˜¯å¦åˆç†  

Agent å†…éƒ¨ï¼š
<span class="hljs-bullet">1.</span> åŒ¹é…åˆ°å…³é”®è¯ "Swift Concurrency" â†’ è§¦å‘ swift-concurrency Skill
<span class="hljs-bullet">2.</span> æ‰§è¡Œ <span class="hljs-code">`openskills read swift-concurrency`</span>
<span class="hljs-bullet">3.</span> è¯»å– SKILL.mdï¼Œå†³ç­–æ ‘æŒ‡å‘ "analyze-project"
<span class="hljs-bullet">4.</span> æ‰§è¡Œåˆ†æè„šæœ¬ï¼ˆå¦‚æœ‰ï¼‰
<span class="hljs-bullet">5.</span> ç”Ÿæˆå¸¦å¼•ç”¨çš„æŠ¥å‘Š
</code></pre>
<h3 data-id="heading-16">å®ç”¨ Prompt ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯å¯ç›´æ¥ä½¿ç”¨çš„ Skill è°ƒç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¤ºä¾‹ 1ï¼šæ£€æŸ¥å†—ä½™ @MainActor</span>
<span class="hljs-string">"ä½¿ç”¨ swift-concurrency Skillï¼Œæ‰¾å‡ºé¡¹ç›®ä¸­ä¸å¿…è¦çš„ @MainActor ä½¿ç”¨"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 2ï¼šåå°ä»»åŠ¡ä¼˜åŒ–</span>
<span class="hljs-string">"åˆ†æå½“å‰é¡¹ç›®ï¼Œè¯†åˆ«å¯ç§»åŠ¨åˆ°åå°çº¿ç¨‹çš„åŒæ­¥ä»£ç ï¼Œä½¿ç”¨ Swift Concurrency é‡æ„"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 3ï¼šè¿ç§»è¾…åŠ©</span>
<span class="hljs-string">"å¸®æˆ‘å°†æ–‡ä»¶ NetworkManager.swift ä» GCD è¿ç§»åˆ° Swift Concurrencyï¼Œä½¿ç”¨ Skill æŒ‡å¯¼"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 4ï¼šæ€§èƒ½åˆ†æ</span>
<span class="hljs-string">"ä½¿ç”¨ Skill çš„æ€§èƒ½æ¨¡å—ï¼Œåˆ†æ async let å’Œ TaskGroup çš„ä½¿ç”¨æ•ˆç‡"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 5ï¼šLint è§„åˆ™</span>
<span class="hljs-string">"æ ¹æ® Skill çš„ linting.mdï¼Œæ£€æŸ¥é¡¹ç›®æ˜¯å¦ç¬¦åˆä¸¥æ ¼å¹¶å‘ Lint è§„åˆ™"</span>
</code></pre>
<h2 data-id="heading-17">æ·±å…¥åŸç†æ€§åˆ†æ</h2>
<h3 data-id="heading-18">Agent Skills çš„æ¶æ„è®¾è®¡å“²å­¦</h3>
<p>Agent Skills çš„è®¾è®¡éµå¾ªä¸‰å¤§åŸåˆ™ï¼š</p>
<p>åŸåˆ™ä¸€ï¼šå…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of Concernsï¼‰</p>
<ul>
<li><code>AGENTS.md</code> = é¡¹ç›®ç‰¹å®šä¸Šä¸‹æ–‡ï¼ˆå¦‚ä¸šåŠ¡é€»è¾‘ã€æ¶æ„å†³ç­–ï¼‰</li>
<li><code>Skill</code> = é¢†åŸŸé€šç”¨çŸ¥è¯†ï¼ˆå¦‚è¯­è¨€ç‰¹æ€§ã€æ¡†æ¶æœ€ä½³å®è·µï¼‰</li>
</ul>
<p>åŸåˆ™äºŒï¼šçŸ¥è¯†çš„å±‚æ¬¡åŒ–å°è£…</p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·æé—®
<span class="hljs-code">    â†“
æ„å›¾è¯†åˆ«ï¼ˆAgent é€šç”¨èƒ½åŠ›ï¼‰
    â†“
Skill è·¯ç”±ï¼ˆSKILL.md å†³ç­–æ ‘ï¼‰
    â†“
çŸ¥è¯†æ£€ç´¢ï¼ˆReferences æ–‡æ¡£ï¼‰
    â†“
ç­”æ¡ˆç”Ÿæˆï¼ˆå¸¦å¼•ç”¨ï¼‰
</span></code></pre>
<p>è¿™ç§åˆ†å±‚ä½¿çŸ¥è¯†ä»æ‰å¹³æ–‡æœ¬å‡çº§ä¸ºç»“æ„åŒ–çŸ¥è¯†å›¾è°±ã€‚</p>
<p>åŸåˆ™ä¸‰ï¼šå·¥å…·æ— å…³æ€§ï¼ˆTool Agnosticï¼‰</p>
<p>é€šè¿‡æ ‡å‡†åŒ– <code>openskills read</code> æ¥å£ï¼ŒSkill åˆ›å»ºè€…æ— éœ€å…³å¿ƒ Agent å®ç°ç»†èŠ‚ã€‚è¿™æ˜¯ç±» Unix å“²å­¦ï¼šåšä¸€ä»¶äº‹ï¼Œåšå¥½ï¼Œå¹¶èƒ½ä¸å…¶ä»–å·¥å…·ç»„åˆã€‚</p>
<h3 data-id="heading-19">ä¸ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„å¯¹æ¯”</h3>
<p>Agent Skills æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ‰‹åŠ¨ä¼˜åŒ–çš„ RAG ç³»ç»Ÿï¼š</p>








































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">ä¼ ç»Ÿ RAG</th><th align="left">Agent Skills</th></tr></thead><tbody><tr><td align="left">çŸ¥è¯†ç»„ç»‡</td><td align="left">è‡ªåŠ¨åˆ†å—ï¼Œå¯èƒ½ä¸è¿è´¯</td><td align="left">äººå·¥ç»“æ„åŒ–ï¼Œé€»è¾‘æ¸…æ™°</td></tr><tr><td align="left">æ£€ç´¢æ–¹å¼</td><td align="left">å‘é‡ç›¸ä¼¼åº¦æœç´¢</td><td align="left">è§„åˆ™/å†³ç­–æ ‘è·¯ç”±</td></tr><tr><td align="left">ä¸Šä¸‹æ–‡æ§åˆ¶</td><td align="left">è‡ªåŠ¨æ³¨å…¥ï¼Œå¯èƒ½å†—ä½™</td><td align="left">æŒ‰éœ€åŠ è½½ï¼Œç²¾ç¡®æ§åˆ¶</td></tr><tr><td align="left">å¯è§£é‡Šæ€§</td><td align="left">é»‘ç›’ï¼Œéš¾ä»¥è¿½æº¯</td><td align="left">æ˜¾å¼å¼•ç”¨ï¼Œå¯å®¡è®¡</td></tr><tr><td align="left">ç»´æŠ¤æˆæœ¬</td><td align="left">ä½ï¼ˆè‡ªåŠ¨åŒ–ï¼‰</td><td align="left">ä¸­ç­‰ï¼ˆéœ€äººå·¥ç»´æŠ¤ï¼‰</td></tr><tr><td align="left">å›ç­”è´¨é‡</td><td align="left">ä¸€èˆ¬ï¼Œå¯èƒ½ hallucinate</td><td align="left">é«˜ï¼Œä¸“å®¶çº§æ·±åº¦</td></tr></tbody></table>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>RAGï¼šé€šç”¨çŸ¥è¯†ã€å¿«é€ŸåŸå‹</li>
<li>Agent Skillsï¼šä¸“ä¸šé¢†åŸŸã€ç”Ÿäº§ç¯å¢ƒã€å›¢é˜Ÿåä½œ</li>
</ul>
<h2 data-id="heading-20">ä¸ªäººè§è§£ä¸æ€»ç»“</h2>
<h3 data-id="heading-21">æ ¸å¿ƒè§‚ç‚¹</h3>
<p>Agent Skills ä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ç¼–ç¨‹çŸ¥è¯†ç®¡ç†çš„èŒƒå¼å‡çº§ã€‚å®ƒè§£å†³äº† AI è¾…åŠ©å¼€å‘ä¸­çš„ä¸‰ä¸ªæ ¹æœ¬çŸ›ç›¾ï¼š</p>
<ol>
<li>
<p>é€šç”¨æ€§ä¸ç‰¹å¼‚æ€§çš„çŸ›ç›¾</p>
<ul>
<li><code>AGENTS.md</code> è¯•å›¾ä¸¤è€…å…¼é¡¾ï¼Œç»“æœä¸¤å¤´ä¸è®¨å¥½</li>
<li>Skill å°†é€šç”¨çŸ¥è¯†æå–ã€å°è£…ã€å¤ç”¨ï¼Œè®©é¡¹ç›®æ–‡ä»¶å›å½’æœ¬è´¨</li>
</ul>
</li>
<li>
<p>æ·±åº¦ä¸å¹¿åº¦çš„çŸ›ç›¾</p>
<ul>
<li>å¤§æ¨¡å‹è™½æœ‰å¹¿åº¦ï¼Œä½†ç¼ºä¹é¢†åŸŸæ·±åº¦</li>
<li>Skill å¼•å…¥äººç±»ä¸“å®¶çŸ¥è¯†ï¼Œå¼¥è¡¥æ¨¡å‹èƒ½åŠ›è¾¹ç•Œ</li>
</ul>
</li>
<li>
<p>ä¸ªäººä¸å›¢é˜Ÿçš„çŸ›ç›¾</p>
<ul>
<li>ä¸ªäºº <code>AGENTS.md</code> éš¾ä»¥å›¢é˜Ÿåä½œ</li>
<li>Skill å¯ç‰ˆæœ¬åŒ–ã€å…±äº«ã€å…±å»ºï¼Œå½¢æˆå›¢é˜ŸçŸ¥è¯†èµ„äº§</li>
</ul>
</li>
</ol>
<h3 data-id="heading-22">æœ€ä½³å®è·µå»ºè®®</h3>
<p>æ€»ç»“å¦‚ä¸‹å®è·µæŒ‡å—ï¼š</p>
<p>å¯¹äº Skill ä½¿ç”¨è€…ï¼š</p>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨å®˜æ–¹/ä¸“å®¶ Skillï¼šå¦‚è‹¹æœå·¥ç¨‹å¸ˆç»´æŠ¤çš„ Swift  Skillï¼Œæ¯”ç¤¾åŒºç‰ˆæ›´å¯é </li>
<li>å®šæœŸæ›´æ–° Skillsï¼š<code>openskills update avdlee/Swift-Concurrency-Agent-Skill</code></li>
<li>å°æ­¥éªŒè¯ï¼šå…ˆè®© Skill åˆ†æå•ä¸ªæ–‡ä»¶ï¼Œå†æ‰©å±•åˆ°æ•´ä¸ªé¡¹ç›®</li>
<li>å®¡æŸ¥å¼•ç”¨ï¼šæ£€æŸ¥ Skill å»ºè®®çš„å¼•ç”¨æ–‡æ¡£ï¼Œç†è§£å…¶é€»è¾‘ï¼Œè€Œéç›²ä¿¡</li>
</ul>
<p>å¯¹äº Skill åˆ›å»ºè€…ï¼š</p>
<ul>
<li>èšç„¦å•ä¸€é¢†åŸŸï¼šä¸€ä¸ª Skill åªè§£å†³ä¸€ä¸ªé—®é¢˜ï¼ˆå¦‚åªåšå¹¶å‘ï¼Œä¸åšæ¶æ„ï¼‰</li>
<li>ç¼–å†™å†³ç­–æ ‘ï¼šSKILL.md å¿…é¡»æ˜¯å†³ç­–æŒ‡å—ï¼Œè€Œéå¹³é“ºæ–‡æ¡£</li>
<li>æä¾›å¯è¿è¡Œç¤ºä¾‹ï¼šåœ¨ <code>scripts/</code> ç›®å½•æä¾›éªŒè¯è„šæœ¬ï¼Œå¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">  <span class="hljs-comment"># scripts/validate-actor-isolation.sh</span>
  <span class="hljs-comment"># è‡ªåŠ¨æ‰«æ @MainActor å†—ä½™æƒ…å†µ</span>
</code></pre>
<ul>
<li>ç‰ˆæœ¬å…¼å®¹ï¼šæ˜ç¡® Skill æ”¯æŒçš„ Swift/Xcode ç‰ˆæœ¬èŒƒå›´</li>
</ul>
<p>å¯¹äºå›¢é˜Ÿè´Ÿè´£äººï¼š</p>
<ul>
<li>å»ºç«‹å†…éƒ¨ Skill å¸‚åœºï¼šå°†å›¢é˜Ÿç¼–ç è§„èŒƒå°è£…ä¸º Skill</li>
<li>CI é›†æˆï¼šåœ¨ PR æ£€æŸ¥ä¸­è¿è¡Œ Skill åˆ†æï¼Œå¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">  <span class="hljs-comment"># .github/workflows/ai-review.yml</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">Swift</span> <span class="hljs-string">Concurrency</span> <span class="hljs-string">Skill</span> <span class="hljs-string">Audit</span>
    <span class="hljs-attr">run:</span> <span class="hljs-string">|
      openskills install team/swift-concurrency-skill
      openskills run audit --skill swift-concurrency --path Sources/
</span></code></pre>
<h3 data-id="heading-23">ä¸ä¼ ç»Ÿæ–‡æ¡£çš„å¯¹æ¯”</h3>
<p>Agent Skills ä¸æ˜¯å–ä»£æ–‡æ¡£ï¼Œè€Œæ˜¯å¢å¼ºï¼š</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- ä¼ ç»Ÿæ–‡æ¡£ï¼šäººè¯» â†’ ç†è§£ â†’ åº”ç”¨ï¼ˆæ…¢ã€æ˜“é”™ï¼‰</span>
<span class="hljs-addition">+ Agent Skillsï¼šAgent è¯» â†’ ç›´æ¥åº”ç”¨ + äººè¯» â†’ å­¦ä¹ ï¼ˆå¿«ã€å‡†ç¡®ï¼‰</span>
</code></pre>
<p>Skill çš„åŒé‡ä»·å€¼ï¼š</p>
<ol>
<li>è¿è¡Œæ—¶ï¼šAgent å®æ—¶æŒ‡å¯¼ç¼–ç </li>
<li>å­¦ä¹ æ—¶ï¼šå¼€å‘è€…é˜…è¯»å‚è€ƒæ–‡æ¡£ï¼Œæå‡æŠ€èƒ½</li>
</ol>
<h2 data-id="heading-24">æ‰©å±•åœºæ™¯ä¸åˆ›æ–°åº”ç”¨</h2>
<h3 data-id="heading-25">å¤š Skill ååŒå·¥ä½œ</h3>
<p>çœŸå®é¡¹ç›®ä¸­å¸¸éœ€å¤šä¸ª Skills ååŒï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å¤æ‚åœºæ™¯ï¼šé‡æ„é—ç•™ä»£ç </span>
ç”¨æˆ·ï¼š"å°†è¿™ä¸ª VIPER æ¨¡å—é‡æ„ä¸º SwiftUI + Concurrency"

Agent å·¥ä½œæµï¼š
<span class="hljs-bullet">1.</span> åŠ è½½ swift-architecture-skill (ç†è§£ VIPER)
<span class="hljs-bullet">2.</span> åŠ è½½ swiftui-skill (ç†è§£ SwiftUI æœ€ä½³å®è·µ)
<span class="hljs-bullet">3.</span> åŠ è½½ swift-concurrency-skill (ç†è§£å¹¶å‘è¿ç§»)
<span class="hljs-bullet">4.</span> åŠ è½½ testing-skill (ç¡®ä¿é‡æ„åè¦†ç›–æµ‹è¯•)

ååŒå†³ç­–ï¼š
<span class="hljs-bullet">-</span> Architecture Skill: "VIPER â†’ TCA æˆ– MVVM"
<span class="hljs-bullet">-</span> SwiftUI Skill: "ä½¿ç”¨ @StateObject å’Œ @EnvironmentObject"
<span class="hljs-bullet">-</span> Concurrency Skill: "å°† Interactor çš„å›è°ƒæ”¹ä¸º async/await"
<span class="hljs-bullet">-</span> Testing Skill: "ä¸ºæ–°çš„ ViewModel ç¼–å†™å¼‚æ­¥æµ‹è¯•"

æœ€ç»ˆè¾“å‡ºï¼šé›†æˆå„ Skill å»ºè®®çš„ç»¼åˆé‡æ„æ–¹æ¡ˆ
</code></pre>
<p>æŠ€æœ¯æŒ‘æˆ˜ï¼šå¤š Skill å¯èƒ½å†²çªã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>Skill ä¼˜å…ˆçº§ï¼š<code>&lt;skills_system priority="1"&gt;</code> æ§åˆ¶åŠ è½½é¡ºåº</li>
<li>å†²çªä»²è£ï¼šAgent éœ€è¯†åˆ«çŸ›ç›¾å»ºè®®ï¼Œè¯·æ±‚äººå·¥æ¾„æ¸…</li>
</ul>
<h3 data-id="heading-26">ä¼ä¸šçº§åº”ç”¨åœºæ™¯</h3>
<p>åœºæ™¯ä¸€ï¼šé‡‘è App åˆè§„æ£€æŸ¥</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºå†…éƒ¨ Skillï¼šfinancial-compliance-skill</span>
/references
  â”œâ”€â”€ data-encryption.md      <span class="hljs-comment"># æ•°æ®åŠ å¯†è§„èŒƒ</span>
  â”œâ”€â”€ audit-logging.md        <span class="hljs-comment"># å®¡è®¡æ—¥å¿—è¦æ±‚</span>
  â””â”€â”€ api-security.md         <span class="hljs-comment"># API å®‰å…¨æ ‡å‡†</span>

<span class="hljs-comment"># åœ¨ CI ä¸­å¼ºåˆ¶æ£€æŸ¥</span>
openskills run compliance-check --skill financial-compliance
<span class="hljs-comment"># ä¸é€šè¿‡åˆ™é˜»æ–­ PR åˆå¹¶</span>
</code></pre>
<p>åœºæ™¯äºŒï¼šè·¨å¹³å°çŸ¥è¯†åº“</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># multi-platform-skill.yaml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">multi-platform-ui</span>
<span class="hljs-attr">references:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">shared-state-management.md</span>  <span class="hljs-comment"># é€šç”¨çŠ¶æ€ç®¡ç†</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">ios/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">swiftui-patterns.md</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">android/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">composable-patterns.md</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">web/</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">react-patterns.md</span>

<span class="hljs-comment"># Agent æ ¹æ®é¡¹ç›®ç±»å‹è‡ªåŠ¨è·¯ç”±</span>
</code></pre>
<p>åœºæ™¯ä¸‰ï¼šåŠ¨æ€ Skill ç”Ÿæˆ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä»å†…éƒ¨æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ Skill</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_skill_from_docs</span>(<span class="hljs-params">doc_path: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-comment"># 1. è§£æ Markdown æ–‡æ¡£</span>
    <span class="hljs-comment"># 2. æå–å†³ç­–æ ‘ï¼ˆåŸºäºæ ‡é¢˜å±‚æ¬¡ï¼‰</span>
    <span class="hljs-comment"># 3. ç”Ÿæˆ SKILL.md</span>
    <span class="hljs-comment"># 4. æ‰“åŒ…ä¸º GitHub ä»“åº“</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># ä¾‹å¦‚ï¼šå°†å›¢é˜Ÿ Notion çŸ¥è¯†åº“è½¬ä¸º Skill</span>
generate_skill_from_docs(<span class="hljs-string">"https://notion.so/team-guide"</span>)
</code></pre>
<h3 data-id="heading-27">AI åŸç”Ÿå¼€å‘å·¥ä½œæµ</h3>
<p>å±•æœ›æœªæ¥ï¼ŒSkill å¯èƒ½æˆä¸ºå¯äº¤æ˜“çš„ç¼–ç¨‹çŸ¥è¯†èµ„äº§ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"skill_marketplace"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"swift-concurrency-expert"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Apple Engineer"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"$9.99/month"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"metrics"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"accuracy"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">98.5</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"adoption"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12000</span>+<span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reviews"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4.9</span>/<span class="hljs-number">5</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"updates"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸ Swift ç‰ˆæœ¬åŒæ­¥å‘å¸ƒ"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"rxswift-migration-kit"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ReactiveX Team"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Free"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"purpose"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä» RxSwift è¿ç§»åˆ° Combine/Swift Concurrency"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ç§æ¨¡å¼å°†äººç±»ä¸“å®¶çŸ¥è¯†ä¸AI æ•ˆç‡ç»“åˆï¼Œåˆ›é€ æ–°çš„çŸ¥è¯†ç»æµå½¢æ€ã€‚</p>
<h2 data-id="heading-28">å‚è€ƒèµ„æ–™ä¸è¿›ä¸€æ­¥å­¦ä¹ </h2>
<h3 data-id="heading-29">å®˜æ–¹èµ„æº</h3>
<ol>
<li>
<p>Agent Skills å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2Fhome" target="_blank" title="https://agentskills.io/home" ref="nofollow noopener noreferrer">agentskills.io/home</a></p>
<ul>
<li>å®˜æ–¹è§„èŒƒã€ç¤ºä¾‹å’Œå·¥å…·é“¾</li>
</ul>
</li>
<li>
<p>openskills CLIï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnumman-ali%2Fopenskills" target="_blank" title="https://github.com/numman-ali/openskills" ref="nofollow noopener noreferrer">github.com/numman-ali/â€¦</a></p>
<ul>
<li>Skill ç®¡ç†å‘½ä»¤è¡Œå·¥å…·</li>
</ul>
</li>
<li>
<p>Swift Concurrency Skillï¼š</p>
<ul>
<li>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAvdLee%2FSwift-Concurrency-Agent-Skill" target="_blank" title="https://github.com/AvdLee/Swift-Concurrency-Agent-Skill" ref="nofollow noopener noreferrer">github.com/AvdLee/Swifâ€¦</a></li>
</ul>
</li>
</ol>
<h3 data-id="heading-30">ç›¸å…³æŠ€æœ¯æ–‡æ¡£</h3>
<ol>
<li>
<p>Swift Concurrencyï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0296-async-await.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0296-async-await.md" ref="nofollow noopener noreferrer">SE-0296: async/await</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0306-actors.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0306-actors.md" ref="nofollow noopener noreferrer">SE-0306: Actors</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fswiftlang%2Fswift-evolution%2Fblob%2Fmain%2Fproposals%2F0337-support-incremental-migration-to-concurrency-checking.md" target="_blank" title="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0337-support-incremental-migration-to-concurrency-checking.md" ref="nofollow noopener noreferrer">SE-0337: Strict Concurrency</a></li>
</ul>
</li>
<li>
<p>Default Actor Isolation in Swift 6ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.avanderlee.com%2Fconcurrency%2Fdefault-actor-isolation-in-swift-6-2%2F" target="_blank" title="https://www.avanderlee.com/concurrency/default-actor-isolation-in-swift-6-2/" ref="nofollow noopener noreferrer">www.avanderlee.com/concurrencyâ€¦</a></p>
</li>
</ol>
<h3 data-id="heading-31">ç¤¾åŒºèµ„æº</h3>
<ul>
<li>Cursor AI æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn" target="_blank" title="https://cursor.com/cn" ref="nofollow noopener noreferrer">cursor.com/cn</a></li>
<li>Codex CLI æŒ‡å—ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenai%2Fcodex" target="_blank" title="https://github.com/openai/codex" ref="nofollow noopener noreferrer">github.com/openai/codeâ€¦</a></li>
<li>AI Development Blogï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.avanderlee.com%2Fai-development%2F" target="_blank" title="https://www.avanderlee.com/ai-development/" ref="nofollow noopener noreferrer">www.avanderlee.com/ai-developmâ€¦</a></li>
</ul>
<h2 data-id="heading-32">æœ€ç»ˆæ€»ç»“</h2>
<p>Agent Skills æ ‡å¿—ç€ AI è¾…åŠ©ç¼–ç¨‹ä»æ‰‹å·¥æç¤ºå·¥ç¨‹è¿ˆå‘ç³»ç»ŸåŒ–çŸ¥è¯†å·¥ç¨‹ã€‚å®ƒä¸ä»…æ˜¯æ–‡ä»¶æ ¼å¼çš„é©æ–°ï¼Œæ›´æ˜¯å¼€å‘èŒƒå¼çš„è¿›åŒ–ï¼š</p>
<ol>
<li>å¯¹å¼€å‘è€…ï¼šä»é‡å¤æ•™ AI åŸºç¡€çŸ¥è¯†ï¼Œåˆ°ä¸“æ³¨é¡¹ç›®é€»è¾‘</li>
<li>å¯¹å›¢é˜Ÿï¼šä»å£å¤´è§„èŒƒï¼Œåˆ°å¯æ‰§è¡Œã€å¯éªŒè¯çš„çŸ¥è¯†èµ„äº§</li>
<li>å¯¹ç¤¾åŒºï¼šä»æ•£è½åšå®¢ï¼Œåˆ°æ ‡å‡†åŒ–ã€å¯ç»„åˆçš„ä¸“å®¶ç³»ç»Ÿ</li>
</ol>
<p>è¡ŒåŠ¨æ¸…å•</p>
<p>ç«‹å³å¼€å§‹å°è¯• Agent Skillsï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£… openskills</span>
pip install openskills

<span class="hljs-comment"># 2. å®‰è£…ç¬¬ä¸€ä¸ª Skill</span>
openskills install avdlee/Swift-Concurrency-Agent-Skill

<span class="hljs-comment"># 3. åŒæ­¥åˆ°ä½ çš„é¡¹ç›®</span>
<span class="hljs-built_in">cd</span> your-project
openskills <span class="hljs-built_in">sync</span>

<span class="hljs-comment"># 4. åœ¨ Cursor/Codex ä¸­æé—®</span>
<span class="hljs-string">"ä½¿ç”¨ Skill ä¼˜åŒ–æˆ‘çš„å¹¶å‘ä»£ç "</span>

<span class="hljs-comment"># 5. è§‚å¯Ÿæ•ˆæœï¼Œé€æ­¥æ„å»ºè‡ªå·±çš„ Skills</span>
</code></pre>
<p>æœªæ¥å·²æ¥ï¼ŒAgent Skills è®© AI çœŸæ­£ç†è§£ä½ çš„é¢†åŸŸï¼Œè€Œéä»…ä»…æ˜¯æ¨¡å¼åŒ¹é…ã€‚</p>
<h2 data-id="heading-33">å­¦ä¹ èµ„æ–™</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.avanderlee.com%2Fai-development%2Fagent-skills-replacing-agents-md-with-reusable-ai-knowledge%2F" target="_blank" title="https://www.avanderlee.com/ai-development/agent-skills-replacing-agents-md-with-reusable-ai-knowledge/" ref="nofollow noopener noreferrer">www.avanderlee.com/ai-developmâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘æºæ‰‹æ¨¡æ€æ™ºèƒ½æ„å»ºä¸€ç«™å¼å¤šæ¨¡æ€æ•°æ®å¤„ç†å¹³å°]]></title>    <link>https://juejin.cn/post/7601904641069482036</link>    <guid>https://juejin.cn/post/7601904641069482036</guid>    <pubDate>2026-02-02T09:43:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601904641069482036" data-draft-id="7601904641069416500" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘æºæ‰‹æ¨¡æ€æ™ºèƒ½æ„å»ºä¸€ç«™å¼å¤šæ¨¡æ€æ•°æ®å¤„ç†å¹³å°"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-02T09:43:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘æºæ‰‹æ¨¡æ€æ™ºèƒ½æ„å»ºä¸€ç«™å¼å¤šæ¨¡æ€æ•°æ®å¤„ç†å¹³å°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T09:43:58.000Z" title="Mon Feb 02 2026 09:43:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¨¡æ€æ™ºèƒ½ç®€ä»‹</h2>
<p>ä¸Šæµ·æ¨¡æ€æ™ºèƒ½ç§‘æŠ€æœ‰é™å…¬å¸ï¼ˆMOSIÂ Intelligenceï¼‰æˆç«‹äº2024å¹´11æœˆï¼Œæ˜¯å›½å†…æ·±åº¦æƒ…å¢ƒæ™ºèƒ½é¢†èˆªè€…ï¼Œä¾æ‰˜æ·±åšçš„å­¦æœ¯ç§¯æ·€ä¸å“è¶Šçš„å·¥ç¨‹è½åœ°èƒ½åŠ›ï¼Œè‡´åŠ›äºæ„å»ºä¸‹ä¸€ä»£å…¨æ„Ÿå®˜äººæœºäº¤äº’ä½“ç³»ã€‚å…¬å¸ç”±å¤æ—¦å¤§å­¦çŸ¥åæ•™æˆé‚±é”¡é¹æ‹…ä»»é¦–å¸­ç§‘å­¦å®¶ï¼Œä»¥å¤æ—¦å¤§å­¦è‡ªç„¶è¯­è¨€å¤„ç†å®éªŒå®¤ï¼ˆFudanNLPï¼‰çš„MOSSå›¢é˜Ÿä¸ºæ ¸å¿ƒç»„å»ºã€‚</p>
<p>æ¨¡æ€æ™ºèƒ½ä¸“æ³¨äºç«¯åˆ°ç«¯è¯­éŸ³å¤§æ¨¡å‹ä¸å¤šæ¨¡æ€æ™ºèƒ½ä½“ç ”å‘ï¼Œå…¶æ ¸å¿ƒäº§å“MOSS-Speechç‡å…ˆå®ç°â€œçœŸÂ·è¯­éŸ³åˆ°è¯­éŸ³â€äº¤äº’ï¼Œè·³è¿‡æ–‡æœ¬ä¸­è½¬ç“¶é¢ˆï¼Œèƒ½å¤ŸåŸç”Ÿæ•æ‰å¹¶ç”Ÿæˆè¯­è°ƒã€æƒ…ç»ªä¸ç¬‘å£°ï¼Œä¸ºå†…å®¹åˆ›ä½œã€æ•°å­—äººåŠå…·èº«æ™ºèƒ½æä¾›æ›´è‡ªç„¶ã€æ›´å…·æ¸©åº¦çš„äº¤äº’åº•åº§ã€‚</p>
<h3 data-id="heading-1">é˜¿é‡Œäº‘Â MaxComputeÂ äº‘åŸç”ŸÂ AIÂ æ•°æ®å¹³å°ï¼šèµ‹èƒ½Â AIÂ æ•°æ®å¤„ç†å·¥ä½œæµåŠ é€Ÿ</h3>
<p>åœ¨äººå·¥æ™ºèƒ½æŠ€æœ¯å¿«é€Ÿè¿­ä»£çš„ä»Šå¤©ï¼Œå¤šæ¨¡æ€æ•°æ®å¤„ç†å·²æˆä¸ºå¤§æ¨¡å‹è®­ç»ƒä¸åº”ç”¨å¼€å‘çš„æ ¸å¿ƒæŒ‘æˆ˜ã€‚å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ç­‰éç»“æ„åŒ–æ•°æ®çš„çˆ†å‘å¼å¢é•¿ï¼Œå¯¹æ•°æ®å¤„ç†å¹³å°çš„ç®—åŠ›ç±»å‹ã€å¼¹æ€§ã€è®¡ç®—å¼•æ“æ•°æ®å¤„ç†èƒ½åŠ›åŠå¤šæ¨¡æ€æ•°æ®ç»Ÿä¸€ç®¡ç†èƒ½åŠ›æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/993d3446c193446f8f4717617921c8c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770630238&amp;x-signature=vEjdAKY%2FoU53heC6VrDWtUTRdCQ%3D" alt="image (24).png" loading="lazy"/></p>
<p>é˜¿é‡Œäº‘ä¸æ¨¡æ€æ™ºèƒ½è¾¾æˆæ·±åº¦åˆä½œï¼ŒåŸºäºé˜¿é‡Œäº‘Â MaxComputeÂ æ„å»ºäº‘åŸç”Ÿä¸€ç«™å¼å¤šæ¨¡æ€æ•°æ®å¤„ç†å¹³å°ï¼ŒåŒæ—¶é€šè¿‡Â MaxComputeÂ è‡ªç ”åˆ†å¸ƒå¼Â AIÂ è®¡ç®—å¼•æ“Â MaxFrameÂ å®ç°å¯¹å¤šæ¨¡æ€æ•°æ®é«˜æ•ˆå¼€å‘ã€å¤„ç†ï¼Œä¸ºå¤§æ¨¡å‹ç ”å‘ã€åˆ›æ–°æä¾›äº†åšå®çš„æ•°æ®åŸºåº§ã€‚</p>
<h3 data-id="heading-2">ä¸šåŠ¡æŒ‘æˆ˜</h3>
<p>éšç€æ¨¡æ€ä¸šåŠ¡è§„æ¨¡æ‰©å¤§ï¼Œé¢ä¸´æœ¬åœ°IDCåœ¨å­˜å‚¨ã€ç®—åŠ›ä¸ç½‘ç»œä¸Šçš„æ‰©å±•ç“¶é¢ˆï¼Œéš¾ä»¥æ”¯æ’‘é«˜å¹¶å‘ã€å¤§è§„æ¨¡éŸ³è§†é¢‘å¤„ç†Â Pipelineï¼ŒåŒæ—¶è‡ªå»ºå¹³å°è€—è´¹å¤§é‡äººåŠ›ï¼Œåˆ¶çº¦äº†å…¶æ ¸å¿ƒÂ AIä¸šåŠ¡çš„åˆ›æ–°ã€å‘å±•ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe1565b565a2419e93619a164e8f6f54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770630238&amp;x-signature=HXCsSIB%2B7TED4Uqx8peJyEWcvUs%3D" alt="image (25).png" loading="lazy"/></p>
<ul>
<li><strong>æœ¬åœ°IDCæ¶æ„æ€§èƒ½ç“¶é¢ˆ</strong></li>
</ul>
<p>éšç€æ¨¡æ€ä¸šåŠ¡è§„æ¨¡çš„æ‰©å¤§å’Œæ¨¡å‹è®­ç»ƒå¯¹æ•°æ®é‡ã€å¤„ç†æ—¶æ•ˆæ€§çš„è¦æ±‚æå‡ï¼ŒåŸæœ‰IDCåŸºç¡€è®¾æ–½åœ¨è®¡ç®—å¼¹æ€§ã€å­˜å‚¨å®¹é‡ã€I/Oæ€§èƒ½ã€ç½‘ç»œå¸¦å®½ç­‰æ–¹é¢å·²æ— æ³•æ»¡è¶³é«˜å¹¶å‘ã€å¤§è§„æ¨¡éŸ³è§†é¢‘ç­‰å¤šæ¨¡æ€æ•°æ®çš„å¤„ç†éœ€æ±‚ã€‚</p>
<p>æ­¤å¤–ï¼Œå¤šæ¨¡æ€æ•°æ®é¢„å¤„ç†æµç¨‹å¤æ‚ï¼Œæ¶‰åŠè§†é¢‘åˆ‡å¸§ã€è¯­éŸ³è¯†åˆ«ã€éŸ³é¢‘æ–‡å­—æå–ç­‰å¤šç§æ“ä½œï¼Œé¢å¯¹æµ·é‡å¤šæ¨¡æ€æ•°æ®æ¸…æ´—ã€å¤„ç†ç­‰è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œä¼ ç»ŸÂ IDCÂ è‡ªå»ºæ–¹æ¡ˆå‡ºç°æ€§èƒ½ç“¶é¢ˆã€é¢‘ç¹ä»»åŠ¡å¤±è´¥ç­‰é—®é¢˜ï¼Œä½œä¸šç¨³å®šæ€§ã€æ€§èƒ½éš¾ä»¥ä¿éšœã€‚</p>
<ul>
<li><strong>å¼‚æ„èµ„æºè°ƒåº¦å¤æ‚åº¦é«˜</strong></li>
</ul>
<p>å¤šæ¨¡æ€æ•°æ®å¤„ç†Â PipelineÂ éœ€åŒæ—¶è°ƒåº¦æ•°åƒå¡ä¸æ•°ä¸‡æ ¸ç®—åŠ›èµ„æºï¼Œä¼ ç»Ÿè°ƒåº¦ç³»ç»Ÿéš¾ä»¥å®ç°è·¨æ¨¡æ€ä»»åŠ¡ï¼ˆå¦‚éŸ³é¢‘è½¬å†™ã€è§†é¢‘æŠ½å¸§ã€ç‰¹å¾æå–ç­‰ï¼‰å¯¹å¼‚æ„è®¡ç®—èµ„æºçš„ç²¾ç»†åŒ–ã€é«˜æ•ˆç‡åˆ†é…ä¸ååŒã€‚</p>
<ul>
<li><strong>éç»“æ„åŒ–æ•°æ®ç®¡ç†å›°éš¾</strong></li>
</ul>
<p>éŸ³è§†é¢‘ç­‰éç»“æ„åŒ–æ•°æ®ç¼ºä¹ç»Ÿä¸€çš„å…ƒæ•°æ®ç®¡ç†ä½“ç³»ï¼Œå¯¼è‡´æ•°æ®ä¸å¯è§ã€éš¾æ£€ç´¢ã€ç”Ÿå‘½å‘¨æœŸéš¾è¿½è¸ªï¼Œå½±å“æ•°æ®èµ„äº§çš„é«˜æ•ˆåˆ©ç”¨ä¸æ²»ç†Â ã€‚</p>
<ul>
<li><strong>ç¼ºä¹ç»Ÿä¸€ä»»åŠ¡ç®¡ç†ä¸å¯è§†åŒ–æ”¯æŒ</strong></li>
</ul>
<p>åŸæœ‰æ•°æ®å¤„ç†æµç¨‹ä¾èµ–å•æœºÂ PythonÂ ç¨‹åºå®Œæˆå¼€å‘ã€è°ƒè¯•ä¸ç”Ÿäº§ä»»åŠ¡ï¼Œç¼ºå°‘å¯è§†åŒ–ä»»åŠ¡å¼€å‘ã€ç®¡ç†ã€è°ƒåº¦å’Œè¿ç»´èƒ½åŠ›ï¼Œå¤šå‚æ•°è¿­ä»£æ•ˆæœè¯„ä¼°å›°éš¾ï¼Œå¼€å‘æ•ˆç‡ä½ä¸‹ã€‚</p>
<ul>
<li><strong>å¼€å‘ä¸è¿ç»´äººåŠ›æŠ•å…¥å—é™</strong></li>
</ul>
<p>åŸºäºè‡ªå»ºæ•°æ®é¢„å¤„ç†æ¡†æ¶ã€é›†ç¾¤éœ€æŠ•å…¥å¤§é‡äººåŠ›è¿›è¡Œå¼€å‘ä¸ç»´æŠ¤ï¼Œä¸šåŠ¡å›¢é˜Ÿéš¾ä»¥ä¸“æ³¨äºæ ¸å¿ƒAIä¸šåŠ¡åˆ›æ–°ã€‚</p>
<h3 data-id="heading-3">è§£å†³æ–¹æ¡ˆ</h3>
<p>é˜¿é‡Œäº‘ä¸ºæ¨¡æ€æ™ºèƒ½æ‰“é€ äº†åŸºäºMaxComputeÂ MaxFrameçš„ä¸€ä½“åŒ–å¤šæ¨¡æ€æ•°æ®å¤„ç†æ–¹æ¡ˆï¼Œæ„å»ºä»å¯è§†åŒ–ä½œä¸šå¼€å‘ã€æ•°æ®ç®¡ç†åŠå¤šæ¨¡æ€æ•°æ®å¤„ç†çš„å®Œæ•´é—­ç¯ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79ce137da1484e049e83782a11074079~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770630238&amp;x-signature=pa9tRl8ADS0wpYd2qszYU3fajoQ%3D" alt="image (26).png" loading="lazy"/></p>
<ul>
<li>
<p><strong>é«˜æ•ˆã€ç¨³å®šçš„åˆ†å¸ƒå¼å¤šæ¨¡æ€æ•°æ®å¤„ç†</strong></p>
<ul>
<li>
<p>ä¾æ‰˜Â MaxComputeÂ è‡ªç ”åˆ†å¸ƒå¼Â AIÂ è®¡ç®—å¼•æ“Â MaxFrameï¼Œå®ç°å¯¹éŸ³è§†é¢‘æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–ã€åˆ‡åˆ†ã€è¯­éŸ³è¯†åˆ«ç­‰é«˜æ•ˆå¤„ç†ã€‚Â MaxFrameÂ æ”¯æŒé€šè¿‡Â RebalanceÂ å®ç°æ•°æ®åˆ‡åˆ†ã€å¹¶å‘æ§åˆ¶ï¼Œä»è€Œåœ¨å†…å­˜ä¸ååä¹‹é—´å–å¾—å¹³è¡¡ï¼Œæ”¾å¤§æ€§èƒ½æ”¶ç›Šã€‚</p>
</li>
<li>
<p>åˆ†å¸ƒå¼Â AIÂ è®¡ç®—å¼•æ“Â MaxFrameÂ æ”¯æŒåœ¨ä¸€ä¸ªä½œä¸šÂ PipelineÂ ä¸­åŒæ—¶è°ƒåº¦å¼‚æ„è®¡ç®—èµ„æºï¼Œå°†å„ç±»å¤šæ¨¡æ€æ•°æ®å¤„ç†ç®—å­åˆç†åˆ†é…è‡³ä¸åŒçš„å¼‚æ„è®¡ç®—èµ„æºä¸­æ‰§è¡Œï¼Œå……åˆ†ã€åˆç†åˆ©ç”¨ç®—åŠ›èµ„æºä¼˜åŠ¿ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>ç»Ÿä¸€æ•°æ®ç®¡ç†ä¸å…ƒæ•°æ®é‡‡é›†</strong></p>
<ul>
<li>
<p>åŸºäºé˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨Â OSSÂ è¿›è¡ŒåŸå§‹éŸ³è§†é¢‘æ•°æ®ç»Ÿä¸€å­˜å‚¨ï¼Œé€šè¿‡é«˜é€Ÿå†…ç½‘ç›´è¿ä¸ºÂ MaxComputeÂ æä¾›äº†è¶…é«˜å¸¦å®½åŠÂ IOæ€§èƒ½ã€‚é’ˆå¯¹å¤šæ¨¡æ€å°æ–‡ä»¶ï¼ŒOSSæä¾›äº†æé«˜çš„QPSè§£å†³äº†åœ¨é«˜å¹¶å‘ä¸‹çš„å»¶è¿ŸæŠ–åŠ¨é—®é¢˜ï¼Œä¿éšœç®—åŠ›å……åˆ†åˆ©ç”¨ã€‚</p>
</li>
<li>
<p>é€šè¿‡Â MaxComputeÂ æä¾›çš„Â ObjectÂ TableÂ è¡¨ç±»å‹ï¼Œå®ç°å¯¹Â OSSÂ ä¸Šå­˜å‚¨çš„å¤šæ¨¡æ€å›¾ç‰‡ã€è§†é¢‘ç­‰éç»“æ„åŒ–æ•°æ®çš„å…ƒæ•°æ®è‡ªåŠ¨é‡‡é›†ä¸ç»Ÿä¸€çº³ç®¡ï¼Œæ”¯æŒç»“æ„åŒ–ä¸éç»“æ„åŒ–æ•°æ®é›†çš„ç›®å½•åŒ–ç®¡ç†ï¼Œä¾¿äºæ•°æ®çš„æ£€ç´¢ä¸è°ƒç”¨ã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>å¼€ç®±å³ç”¨çš„å¼€å‘ä½“éªŒ</strong></p>
<ul>
<li>
<p>é€šè¿‡Â DataworksÂ å®ç°å¤šæ¨¡æ€æ•°æ®å¤„ç†ä»»åŠ¡Pipelineçš„ç¼–æ’ã€è°ƒåº¦ã€è¿ç»´ï¼Œä¸€ç«™å¼ç®¡ç†ä»»åŠ¡ã€‚å¤„ç†å®Œæ¯•åæ²‰æ·€çš„AIèµ„äº§ï¼Œé€šè¿‡æ•°æ®åœ°å›¾å¯¹å¤–ç»Ÿä¸€å±•ç¤ºã€æœç´¢ã€æƒé™ç”³è¯·ã€æŸ¥çœ‹æ•°æ®è¡€ç¼˜ï¼Œå®ŒæˆAIæ•°æ®èµ„äº§çš„ç®¡ç†ã€‚</p>
</li>
<li>
<p>MaxFrameÂ ä½œä¸ºÂ MaxComputeÂ è‡ªç ”åˆ†å¸ƒå¼Â AIÂ è®¡ç®—å¼•æ“ï¼Œæä¾›å¼€ç®±å³ç”¨çš„åˆ†å¸ƒå¼ã€å¤šæ¨¡æ€æ•°æ®å¤„ç†èƒ½åŠ›ï¼Œå†…ç½®ä»»åŠ¡è°ƒåº¦ã€ä½œä¸šå®¹é”™ä¸è‡ªè¿ç»´èƒ½åŠ›ï¼Œå¤§å¹…é™ä½å¼€å‘ç»´æŠ¤æˆæœ¬ï¼Œä½¿ä¸šåŠ¡å›¢é˜Ÿèƒ½èšç„¦äºæ ¸å¿ƒAIåˆ›æ–°ã€‚</p>
</li>
<li>
<p>MaxFrameÂ ä¸Â DataWorksÂ NotebookÂ æ·±åº¦é›†æˆï¼Œæä¾›å¯è§†åŒ–å¼€å‘ã€è°ƒåº¦ã€ç®¡ç†å¹³å°ï¼Œæ”¯æŒçµæ´»çš„Â PythonÂ å¼€å‘ç”Ÿæ€ä¸å¼€å‘ç¯å¢ƒï¼Œæ— éœ€å¤æ‚ç¯å¢ƒé…ç½®å³å¯å¿«é€Ÿå¯åŠ¨å¤šæ¨¡æ€æ•°æ®å¤„ç†ä»»åŠ¡ï¼Œæ˜¾è‘—é™ä½ä½œä¸šå¼€å‘é—¨æ§›ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">ä¸šåŠ¡ä»·å€¼</h3>
<p>åˆä½œå®æ–½åï¼Œæ¨¡æ€æ™ºèƒ½åœ¨æ•°æ®å¤„ç†æµç¨‹å¤šä¸ªç»´åº¦å®ç°æ˜¾è‘—çªç ´ã€‚è®¡ç®—èµ„æºåˆ©ç”¨æ•ˆç‡å¤§å¹…æå‡ï¼Œé€šè¿‡Â MaxComputeÂ "åŒ…æœˆå›ºå®šèµ„æºÂ +Â æŒ‰éœ€å¼¹æ€§èµ„æº"çš„ç»„åˆæ¨¡å¼ï¼Œé«˜å³°æœŸå¯å¿«é€Ÿæ‰©å±•è‡³Â <strong>æ•°ä¸‡æ ¸</strong>Â è®¡ç®—èµ„æºï¼Œè®¡ç®—èµ„æºåˆ©ç”¨ç‡æå‡Â <strong>30%</strong>Â ä»¥ä¸Šã€‚å¤šæ¨¡æ€æ•°æ®å¤„ç†æ•ˆç‡å®ç°è´¨çš„é£è·ƒï¼ŒåŸºäºÂ MaxFrameÂ æ„å»ºçš„åˆ†å¸ƒå¼å¤„ç†æ¶æ„æ›¿ä»£åŸæœ‰è‡ªå»ºæ–¹æ¡ˆï¼ŒéŸ³è§†é¢‘é¢„å¤„ç†ï¼Œæ€§èƒ½æå‡Â <strong>100%</strong>ï¼Œæ•´ä½“æ•°æ®å¤„ç†Â PipelineÂ è€—æ—¶å¤§å¹…ç¼©çŸ­ï¼Œæ‰¹é‡æ¨ç†ä»»åŠ¡å€ŸåŠ©å¼¹æ€§GPUå¼‚æ„èµ„æºå®ç°é«˜æ•ˆæ‰§è¡Œã€‚å¹³å°è¿ç»´å¤æ‚åº¦æ˜¾è‘—é™ä½ï¼Œå…¨æ‰˜ç®¡äº‘åŸç”ŸPaaSèƒ½åŠ›ä½¿å›¢é˜Ÿæ— éœ€æŠ•å…¥å¤§é‡äººåŠ›è¿›è¡Œåº•å±‚åŸºç¡€è®¾æ–½ç»´æŠ¤ï¼Œè¿ç»´èµ„æºæŠ•å…¥å‡å°‘Â <strong>50%</strong>ï¼Œå¾—ä»¥æ›´ä¸“æ³¨äºæ ¸å¿ƒAIä¸šåŠ¡åˆ›æ–°ã€‚</p>
<h3 data-id="heading-5">æ€»ç»“ä¸å±•æœ›</h3>
<p>é˜¿é‡Œäº‘ä¸æ¨¡æ€æ™ºèƒ½çš„æˆåŠŸåˆä½œï¼ŒéªŒè¯äº†åŸºäºÂ MaxComputeÂ æ„å»ºäº‘åŸç”Ÿå¤šæ¨¡æ€æ•°æ®å¤„ç†å¹³å°çš„å¯è¡Œæ€§ä¸æŠ€æœ¯ä¼˜åŠ¿ã€‚è¯¥æ–¹æ¡ˆæœ‰æ•ˆè§£å†³äº†å¤§æ¨¡å‹æ—¶ä»£å¤šæ¨¡æ€æ•°æ®å¤„ç†çš„èµ„æºå¼¹æ€§ã€æ€§èƒ½ç“¶é¢ˆä¸ç»Ÿä¸€ç®¡ç†ç­‰æ ¸å¿ƒæŒ‘æˆ˜ï¼Œä¸ºAIåº”ç”¨ç ”å‘æä¾›äº†é«˜æ•ˆã€å¯é çš„æ•°æ®åŸºç¡€è®¾æ–½ã€‚æœªæ¥ï¼ŒåŒæ–¹å°†ç»§ç»­æ·±åŒ–åœ¨å¤šæ¨¡æ€æ•°æ®å¤„ç†ã€å¤§æ¨¡å‹æ•°æ®é¢„å¤„ç†ç­‰å‰æ²¿åœºæ™¯çš„è”åˆåˆ›æ–°ï¼Œæ¨åŠ¨Â DataÂ +Â AIÂ æŠ€æœ¯åœ¨æ›´å¹¿æ³›è¡Œä¸šçš„è§„æ¨¡åŒ–åº”ç”¨ï¼ŒåŠ©åŠ›ä¼ä¸šåŠ é€ŸAIä»·å€¼é‡Šæ”¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agent Skillsï¼šæ˜¯è„šæœ¬çš„ç»ˆç»“ï¼Œè¿˜æ˜¯è€ç¨‹åºå‘˜çš„â€œé¢„åˆ¶èœâ€]]></title>    <link>https://juejin.cn/post/7601929765533237299</link>    <guid>https://juejin.cn/post/7601929765533237299</guid>    <pubDate>2026-02-02T10:03:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601929765533237299" data-draft-id="7602091087922315314" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agent Skillsï¼šæ˜¯è„šæœ¬çš„ç»ˆç»“ï¼Œè¿˜æ˜¯è€ç¨‹åºå‘˜çš„â€œé¢„åˆ¶èœâ€"/> <meta itemprop="keywords" content="åç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-02-02T10:03:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¶…çº§ä¸œå“¥CyberFD"/> <meta itemprop="url" content="https://juejin.cn/user/4323692639162087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agent Skillsï¼šæ˜¯è„šæœ¬çš„ç»ˆç»“ï¼Œè¿˜æ˜¯è€ç¨‹åºå‘˜çš„â€œé¢„åˆ¶èœâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4323692639162087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¶…çº§ä¸œå“¥CyberFD
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T10:03:12.000Z" title="Mon Feb 02 2026 10:03:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc7cb31d0906486396bfe418a29766ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LaF57qn5Lic5ZOlQ3liZXJGRA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770631395&amp;x-signature=8UJHDQhU5N%2FAbgJ8zvwdAItksKE%3D" alt="Gemini_Generated_Image_8n706p8n706p8n70.png" loading="lazy"/></p>
<p>æœ€è¿‘å’Œä¸å°‘å†™äº†å¤šå¹´ä»£ç çš„æœ‹å‹èŠå¤©ï¼Œè¿˜æœ‰çœ‹åˆ°ç½‘ä¸Šçƒ­è®®çš„å¸–å­ï¼Œä¸€æåˆ° Agent Skillsï¼Œå¤§å®¶çš„æœ¬èƒ½ååº”å‡ ä¹éƒ½æ˜¯ï¼šâ€œè¿™ä¸å°±æ˜¯è„šæœ¬åŠ ä¸ª README å—ï¼Ÿæˆ‘ç”¨ Python æ’¸ä¸ªçˆ¬è™«ã€å†™ä¸ª Shell è‡ªåŠ¨åŒ–ï¼Œä¸æ¯”è¿™ç©æ„å„¿ç¨³ï¼Ÿâ€</p>
<p>è¿™ç§å¿ƒæ€å¾ˆæ­£å¸¸ã€‚ä½†è¯´å®è¯ï¼ŒæŠŠ Skills å½“æˆè„šæœ¬ï¼Œå°±åƒæŠŠâ€œæ™ºèƒ½æ‰‹æœºâ€çœ‹ä½œâ€œèƒ½ä¸Šç½‘çš„è®¡ç®—å™¨â€â€”â€”<strong>è™½ç„¶å¹²çš„æ´»æœ‰é‡åˆï¼Œä½†åº•å±‚é€»è¾‘å·²ç»å˜äº†ã€‚</strong></p>
<h3 data-id="heading-0">1. åˆ«å†åšâ€œå¯¼æ¼”â€ï¼Œè¯•ç€åšâ€œé¢è¯•å®˜â€</h3>
<ul>
<li><strong>è„šæœ¬ï¼ˆScriptï¼‰æ˜¯â€œè¿‡ç¨‹æ§åˆ¶â€ï¼š</strong> ä½ å¾—åƒä¸ªä¿å§†ä¸€æ ·å®å˜±ï¼šå…ˆç‚¹ Aï¼Œç­‰ 3 ç§’ï¼Œå†æ‰« Bã€‚å¦‚æœ A æ²¡å‡ºæ¥ï¼Œç¨‹åºç›´æ¥æŒ‚æ‰ã€‚å®ƒè¿½æ±‚çš„æ˜¯æè‡´çš„ç¡®å®šæ€§ï¼Œä»£ä»·æ˜¯æå…¶è„†å¼±ã€‚</li>
<li><strong>Skills æ˜¯â€œç›®æ ‡å¯¼å‘â€ï¼š</strong> ä½ ç°åœ¨æ˜¯é¢è¯•å®˜ã€‚ä½ æ‰”ç»™ AI ä¸€ä»½ <code>SKILL.md</code>ï¼ˆè¯´æ˜ä¹¦ï¼‰ï¼Œå‘Šè¯‰å®ƒï¼šç›®æ ‡æ˜¯ Aï¼Œä½ æœ‰ B å’Œ C ä¸¤ä¸ªå·¥å…·ï¼Œä½ è‡ªå·±çœ‹ç€åŠã€‚è‡³äºä¸­é—´æ€ä¹ˆç»•å¼¯å­ï¼ŒAI è‡ªå·±è§„åˆ’ã€‚</li>
</ul>
<h3 data-id="heading-1">2. ç¨‹åºå‘˜çš„å™©æ¢¦ï¼šè°æ¥ä¿®é‚£è¯¥æ­»çš„æŠ¥é”™ï¼Ÿ</h3>
<p>å¹²è‡ªåŠ¨åŒ–çš„æœ€æ€•ä»€ä¹ˆï¼Ÿç¯å¢ƒå˜äº†ã€ä¾èµ–å´©äº†ã€ç½‘é¡µæ”¹ç‰ˆäº†ã€‚</p>
<ul>
<li><strong>ä¼ ç»Ÿè„šæœ¬ï¼š</strong> æŠ¥é”™ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æŒ‚èµ· <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ä½ åŠå¤œçˆ¬èµ·æ¥æ”¹ä»£ç  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> é‡è·‘ã€‚</li>
<li><strong>Agent + Skillsï¼š</strong> æŠ¥é”™ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> Agent çœ‹äº†ä¸€çœ¼æŠ¥é”™æ—¥å¿— <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> å‘ç°å°‘ä¸ªåŒ…ï¼Œè‡ªå·± <code>pip install</code>ï¼›å‘ç°ç½‘é¡µæ”¹äº†ï¼Œè‡ªå·±é‡æ–°å®šä½å…ƒç´  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> è·‘é€šäº†ã€‚</li>
</ul>
<p><strong>æœ¬è´¨ä¸Šï¼ŒSkills å°±æ˜¯ç»™ä½ çš„ç¨‹åºé…äº†ä¸€ä¸ª 24 å°æ—¶å€¼ç­çš„åˆçº§å¼€å‘ã€‚</strong> ä»¥å‰æˆ‘ä»¬å†™ä»£ç æ˜¯â€œæ­»â€çš„ï¼Œç°åœ¨ä»£ç å¼€å§‹æœ‰â€œè‡ªæ„ˆèƒ½åŠ›â€äº†ã€‚</p>
<h3 data-id="heading-2">3. â€œè‹¦æ¶©çš„æ•™è®­â€ï¼šé€šç”¨é€»è¾‘æ­£åœ¨ç¢¾å‹ç²¾å·§å·¥ç¨‹</h3>
<p>Rich Sutton åœ¨ã€ŠThe Bitter Lessonã€‹é‡Œè®²è¿‡ä¸€ä¸ªå¾ˆæ‰å¿ƒçš„äº‹å®ï¼šäººå·¥æ™ºèƒ½å²ä¸Šï¼Œé‚£äº›è¯•å›¾æŠŠäººç±»ç»éªŒå¼ºè¡Œå¡è¿›ç³»ç»Ÿçš„â€œç²¾å·§è®¾è®¡â€ï¼Œæœ€åéƒ½ä¼šè¢«â€œé€šç”¨ç®—æ³•+ç®—åŠ›â€æ‰“å¾—æ‰¾ä¸ç€åŒ—ã€‚</p>
<ul>
<li><strong>è„šæœ¬æ˜¯â€œç¡¬ç¼–ç â€çš„äººç±»ç»éªŒï¼š</strong> åœ¨å›ºå®šè¾¹ç•Œå†…ï¼Œå®ƒæ˜¯æ— æ•Œçš„ï¼›ä½†è¾¹ç•Œä¸€ç ´ï¼Œå®ƒå°±æ˜¯ä¸€å †åºŸçº¸ã€‚</li>
<li><strong>Skills é çš„æ˜¯ LLM çš„å¸¸è¯†å’Œé€»è¾‘ï¼š</strong> å®ƒèƒ½å¤„ç†é‚£ç§â€œå·®ä¸å¤šå°±è¡Œâ€çš„æ¨¡ç³Šæ€§ï¼Œè€Œè¿™æ°æ°æ˜¯ä¼ ç»Ÿä»£ç æœ€å¤´ç–¼çš„åœ°æ–¹ã€‚</li>
</ul>
<h3 data-id="heading-3">4. æƒåŠ›çš„äº¤æ¥ï¼šå¤§å¨ä¸é¢„åˆ¶èœ</h3>
<p>ä»¥å‰æè‡ªåŠ¨åŒ–æ˜¯ç¨‹åºå‘˜çš„ç‰¹æƒï¼Œæœ‰é—¨æ§›ï¼Œæœ‰æŠ¤åŸæ²³ã€‚ç°åœ¨ï¼Œä¸€ä¸ªèƒ½æŠŠéœ€æ±‚å†™æ¸…æ¥šçš„äº§å“ç»ç†ï¼Œé ç€å‡ ä»½ SKILL.mdï¼Œå°±èƒ½æ‹¼å‡ºä¸€ä¸ªå¤æ‚çš„è‡ªåŠ¨åŒ–æµã€‚</p>
<p><strong>å¾ˆå¤šç¨‹åºå‘˜è§‰å¾— Skills â€œæ²¡æŠ€æœ¯å«é‡â€ï¼Œå°±åƒå¤§å¨çœ‹ä¸èµ·â€œé¢„åˆ¶èœâ€ã€‚</strong> ä½†è¡Œä¸šçš„å˜é©å¾€å¾€ä¸æ˜¯è®©æ¯ä¸ªäººéƒ½ç»ƒæˆæ»¡çº§å¨è‰ºï¼Œè€Œæ˜¯è®©ä¸ä¼šåšé¥­çš„äººä¹Ÿèƒ½éšæ—¶åƒä¸Šæ ‡å‡†çš„çº¢çƒ§è‚‰ã€‚</p>
<h3 data-id="heading-4">å†™åœ¨æœ€å</h3>
<p>æ‰¿è®¤è¿™ä¸€ç‚¹ç¡®å®æŒºè‹¦æ¶©çš„ï¼šæˆ‘ä»¬å¼•ä»¥ä¸ºå‚²çš„å·¥ç¨‹æŠ€å·§ã€æ”’äº†åå‡ å¹´çš„ Python ç»éªŒï¼Œåœ¨ AI çš„åŠ¨æ€è§„åˆ’é¢å‰ï¼Œæ•ˆç‡å¯èƒ½çœŸçš„ä¸å¤Ÿçœ‹äº†ã€‚</p>
<p><strong>å®ˆç€â€œç¡®å®šçš„å¤æ‚â€å›ºç„¶ç¨³å¦¥ï¼Œä½†å­¦ä¼šæ‹¥æŠ±é‚£ç§â€œæ¨¡ç³Šçš„æ­£ç¡®â€ï¼Œæ‰æ˜¯æ¥ä¸‹æ¥çš„ç”Ÿå­˜ä¹‹é“ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»è¸Œèº‡åˆ°æ‹¥æŠ±ï¼šä¸ºä»€ä¹ˆè¯´ KMP å·²è¿ˆå…¥é»„é‡‘æ—¶ä»£]]></title>    <link>https://juejin.cn/post/7601313474719957027</link>    <guid>https://juejin.cn/post/7601313474719957027</guid>    <pubDate>2026-02-01T15:42:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601313474719957027" data-draft-id="7601313474719940643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»è¸Œèº‡åˆ°æ‹¥æŠ±ï¼šä¸ºä»€ä¹ˆè¯´ KMP å·²è¿ˆå…¥é»„é‡‘æ—¶ä»£"/> <meta itemprop="keywords" content="å®¢æˆ·ç«¯,Android,Kotlin"/> <meta itemprop="datePublished" content="2026-02-01T15:42:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="fundroid"/> <meta itemprop="url" content="https://juejin.cn/user/3931509309842872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»è¸Œèº‡åˆ°æ‹¥æŠ±ï¼šä¸ºä»€ä¹ˆè¯´ KMP å·²è¿ˆå…¥é»„é‡‘æ—¶ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3931509309842872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    fundroid
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T15:42:33.000Z" title="Sun Feb 01 2026 15:42:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨æŠ€æœ¯é€‰å‹çš„åå­—è·¯å£ï¼Œå¼€å‘è€…ç¤¾åŒºå¯¹ä¸€ä¸ªæ–°å…´æ¡†æ¶çš„æ€åº¦ï¼Œå¾€å¾€ä¼šç»å†ä»è´¨ç–‘ã€è§‚æœ›åˆ°æœ€ç»ˆæ‹¥æŠ±çš„å®Œæ•´å‘¨æœŸã€‚å¯¹äº Kotlin Multiplatform (KMP) ä¸å…¶ UI æ­æ¡£ Compose Multiplatform (CMP) è€Œè¨€ï¼Œ2024 è‡³ 2025 å¹´æ— ç–‘æ˜¯å…¶å‘å±•çš„åˆ†æ°´å²­ã€‚æ›¾ç»ï¼Œå®ƒä»¬åœ¨è®¸å¤šå¼€å‘è€…çœ¼ä¸­æ˜¯â€œå¬èµ·æ¥å¾ˆç¾ä½†ç”¨èµ·æ¥å¾ˆæ…Œâ€çš„ä»£åè¯â€”â€”å¯¹é¡¹ç›®å¤æ‚æ€§ã€ç”Ÿæ€æˆç†Ÿåº¦ã€ä¹ƒè‡³å­¦ä¹ æ›²çº¿çš„æ‹…å¿§ï¼Œæ„ç­‘äº†ä¸€é“æ— å½¢çš„å¢™ã€‚</p>
<p>å½“å¼€å‘è€…çœŸæ­£è·¨è¶Šå¿ƒç†é—¨æ§›ï¼Œæ·±å…¥å®è·µåï¼Œå¾€å¾€ä¼šå‘ç°ä¸€ç‰‡æ–°å¤§é™†ã€‚è¿™ç§â€œçœŸé¦™å®šå¾‹â€çš„èƒŒåï¼Œå¹¶éä»…ä»…æ˜¯ä¸ªäººä½“éªŒçš„è½¬å˜ï¼Œè€Œæ˜¯æ•´ä¸ªæŠ€æœ¯ç”Ÿæ€ç³»ç»Ÿåœ¨è¿‘å¹´æ¥ä¸€ç³»åˆ—åšå®ã€æŒç»­çš„è¿›åŒ–ä¸­ï¼Œå…±åŒæŠµè¾¾äº†â€œç”Ÿäº§åŠ›å¯ç”¨â€çš„ä¸´ç•Œç‚¹ã€‚</p>
<p>æœ¬æ–‡å°†ä»¥å·¥ç¨‹è§†è§’ï¼Œç»“åˆ 2024 å¹´ä»¥æ¥ JetBrainsã€Google ç­‰æ ¸å¿ƒå‚ä¸è€…çš„å®˜æ–¹å‘å¸ƒä¸ç¤¾åŒºçš„çœŸå®åé¦ˆï¼Œç³»ç»Ÿæ€§åœ°è®ºè¯ï¼š<strong>Kotlin Multiplatform ä¸ Compose Multiplatform ä¸å†æ˜¯å®éªŒæ€§çš„å± é¾™ä¹‹æŠ€ï¼Œè€Œæ˜¯å·²ç»è¿ˆå…¥æˆç†ŸæœŸï¼Œæˆä¸º 2026 å¹´å€¼å¾—æŠ€æœ¯ç®¡ç†è€…å’Œç§»åŠ¨å¼€å‘è€…ä¸¥è‚ƒè€ƒè™‘çš„åŠ¡å®é€‰é¡¹ã€‚</strong></p>
<h2 data-id="heading-1">ä¸€ã€åŸºçŸ³ä¹‹å˜ï¼š Kotlin 2.0 ä¸ K2 ç¼–è¯‘å™¨</h2>
<p>ä»»ä½•è·¨å¹³å°æ¡†æ¶çš„é›„å¿ƒï¼Œéƒ½å¿…é¡»å»ºç«‹åœ¨å…¶è¯­è¨€å’Œç¼–è¯‘å™¨çš„åšå®åœ°åŸºä¹‹ä¸Šã€‚KMP çš„æˆç†Ÿï¼Œé¦–å…ˆè¦å½’åŠŸäºå…¶åº•å±‚æ ¸å¿ƒçš„é©å‘½æ€§å‡çº§â€”â€”<strong>Kotlin 2.0 ä¸å…¶æ­è½½çš„å…¨æ–° K2 ç¼–è¯‘å™¨</strong>ã€‚</p>
<p>K2 ç¼–è¯‘å™¨çš„æ­£å¼ç¨³å®šï¼ˆGAï¼‰ï¼Œå¯¹äº Kotlin è¯­è¨€è€Œè¨€ï¼Œå…¶æ„ä¹‰ä¸äºšäºä¸€æ¬¡â€œå¼•æ“æ¢ä»£â€ã€‚å®ƒå¹¶éç®€å•çš„æ€§èƒ½ä¼˜åŒ–ï¼Œè€Œæ˜¯ä¸€æ¬¡å¯¹ç¼–è¯‘å™¨å‰ç«¯æ¶æ„çš„å½»åº•é‡å†™ã€‚æ ¹æ® JetBrains åœ¨ 2024 å¹´ 5 æœˆå‘å¸ƒçš„å®˜æ–¹åšæ–‡ï¼ŒK2 å¸¦æ¥çš„æœ€ç›´è§‚æ”¹å˜æ˜¯<strong>ç¼–è¯‘é€Ÿåº¦çš„æ˜¾è‘—æå‡ï¼Œéƒ¨åˆ†çœŸå®ä¸–ç•Œé¡¹ç›®ç”šè‡³å®ç°äº†è¿‘ä¹ç¿»å€çš„æ€§èƒ½</strong>ã€‚åœ¨ JetBrains å†…éƒ¨ä¸€ä¸ªåŒ…å«è¶…è¿‡ 1200 ä¸‡è¡Œ Kotlin ä»£ç çš„å·¨å‹é¡¹ç›®ä¸­ï¼Œåˆ‡æ¢åˆ° K2 æ¨¡å¼åï¼Œæ„å»ºæ—¶é—´ç¼©çŸ­äº† 40%ã€‚å¯¹äºé•¿æœŸå›°æ‰°è·¨å¹³å°å¼€å‘è€…çš„ç¼–è¯‘è€—æ—¶ä¸ CI/CD æ•ˆç‡é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡œåº•æŠ½è–ªå¼çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<blockquote>
<p><strong>K2 çš„æ ¸å¿ƒä»·å€¼ï¼šç»Ÿä¸€ä¸åŠ é€Ÿ</strong>
K2 ç¼–è¯‘å™¨æœ€å¤§çš„æˆ˜ç•¥æ„ä¹‰åœ¨äºï¼Œå®ƒ<strong>ç»Ÿä¸€äº† Kotlin æ‰€æ”¯æŒçš„æ‰€æœ‰å¹³å°ï¼ˆJVM, Native, JS/Wasmï¼‰çš„åˆ†æç®¡çº¿</strong>ã€‚è¿‡å»ï¼Œä¸åŒçš„åç«¯æœ‰ç€å„è‡ªç‹¬ç«‹çš„å‰ç«¯å®ç°ï¼Œå¯¼è‡´æ–°è¯­è¨€ç‰¹æ€§å’Œä¼˜åŒ–éœ€è¦é‡å¤å¼€å‘ã€åˆ†åˆ«é€‚é…ã€‚å¦‚ä»Šï¼Œæ‰€æœ‰åç«¯å…±äº«ä¸€å¥—å‰ç«¯é€»è¾‘ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>æ–°åŠŸèƒ½åŒæ­¥æŠµè¾¾</strong>ï¼šè¯­è¨€çš„æ–°ç‰¹æ€§ï¼ˆä¾‹å¦‚ Kotlin 2.2 ä¸­å¤‡å—æœŸå¾…çš„ä¸Šä¸‹æ–‡å‚æ•°ï¼‰å¯ä»¥ä¸€æ¬¡æ€§ä¸ºæ‰€æœ‰å¹³å°å®ç°ï¼Œå¤§å¤§åŠ é€Ÿäº†è¯­è¨€æœ¬èº«çš„æ¼”è¿›ã€‚</li>
<li><strong>ç”Ÿæ€å»ºè®¾æé€Ÿ</strong>ï¼šåŸºäºç»Ÿä¸€çš„åˆ†æèƒ½åŠ›ï¼ŒJetBrains æ­£åœ¨å¼€å‘ä¸‹ä¸€ä»£ KMP åº“åˆ†å‘æ ¼å¼ã€‚è¿™å°†ä»æ ¹æœ¬ä¸Šè§£å†³â€œå¿…é¡»åœ¨ macOS ç¯å¢ƒä¸‹æ‰èƒ½å‘å¸ƒ iOS åº“â€ç­‰å†å²é—ç•™é—®é¢˜ï¼Œä½¿å¾—å¤šå¹³å°åº“çš„å¼€å‘ä½“éªŒæ— é™æ¥è¿‘äºçº¯ç²¹çš„ JVM åº“ï¼Œä»è€Œæå¤§åœ°ä¿ƒè¿›äº† KMP ç”Ÿæ€çš„ç¹è£ã€‚</li>
</ul>
</blockquote>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œä¼´éšç€ <strong>Kotlin 1.9.20 ç‰ˆæœ¬ï¼ŒKotlin Multiplatform æŠ€æœ¯æœ¬èº«æ­£å¼å®£å‘Šç¨³å®šï¼ˆStableï¼‰</strong>ã€‚è¿™æ„å‘³ç€å…¶æ ¸å¿ƒ APIã€Gradle æ’ä»¶é…ç½®ã€åº“å‘å¸ƒæ ¼å¼ç­‰å…³é”®éƒ¨åˆ†éƒ½å°†éµå¾ªä¸¥æ ¼çš„å‘åå…¼å®¹æ€§ä¿è¯ã€‚å¯¹äºè¿½æ±‚æŠ€æœ¯æ–¹æ¡ˆç¨³å®šæ€§çš„ä¼ä¸šå†³ç­–è€…è€Œè¨€ï¼Œè¿™æ— ç–‘æ˜¯æœ€å¼ºæœ‰åŠ›çš„å®šå¿ƒä¸¸ã€‚å®ƒæ ‡å¿—ç€ KMP å·²ç»å®Œæˆäº†ä»â€œAlpha/Beta æ¢ç´¢æœŸâ€åˆ°â€œç”Ÿäº§å¯ç”¨æœŸâ€çš„èº«ä»½è½¬å˜ã€‚</p>
<p>åŒæ ·å…³é”®çš„æ˜¯ï¼Œ<strong>Kotlin/Native çš„æ–°å†…å­˜æ¨¡å‹ä¹Ÿåœ¨è¿‘å¹´è¶‹äºç¨³å®š</strong>ï¼Œå½»åº•å‘Šåˆ«äº†è¿‡å»åœ¨å¹¶å‘ç¼–ç¨‹ä¸Šç»™å¼€å‘è€…å¸¦æ¥çš„å¿ƒæ™ºè´Ÿæ‹…ã€‚è¿™ä¸ºåœ¨ KMP ä¸­ç¼–å†™é«˜æ€§èƒ½ã€é«˜å¹¶å‘çš„å…±äº«ä¸šåŠ¡é€»è¾‘æ‰«æ¸…äº†æœ€åçš„éšœç¢ã€‚</p>
<p>å¯ä»¥è¯´ï¼Œä¸€ä¸ªæ›´å¿«ã€æ›´æ™ºèƒ½ã€æ›´ç»Ÿä¸€çš„è¯­è¨€å’Œç¼–è¯‘å™¨åº•åº§ï¼Œä¸º KMP ç”Ÿæ€çš„å…¨é¢æˆç†Ÿæ‰“ä¸‹äº†æœ€åšå®çš„åŸºç¡€ã€‚</p>
<h2 data-id="heading-2">äºŒã€é€»è¾‘å±‚é©å‘½ï¼šå…±äº«ä»£ç ç”Ÿæ€ä»â€œå¯ç”¨â€åˆ°â€œä¸°å¯Œâ€</h2>
<p>å¦‚æœè¯´ K2 ç¼–è¯‘å™¨æ˜¯â€œå‘åŠ¨æœºâ€ï¼Œé‚£ä¹ˆå¤šå¹³å°åº“ç”Ÿæ€å°±æ˜¯è®© KMP è¿™è¾†è½¦èƒ½å¤Ÿè·‘èµ·æ¥çš„â€œè½¦è½®â€ã€‚åœ¨ 2024-2025 å¹´ï¼ŒKMP çš„é€»è¾‘å±‚å…±äº«ç”Ÿæ€ç»å†äº†ä¸€åœºä»â€œåŸºæœ¬å¯ç”¨â€åˆ°â€œä¸°å¯Œä¼˜é€‰â€çš„è´¨å˜ï¼Œå…¶æ ¸å¿ƒé©±åŠ¨åŠ›æºäºä¸¤å¤§ç”Ÿæ€çš„æ·±åº¦èåˆã€‚</p>
<h3 data-id="heading-3">Jetpack åº“çš„å¤šå¹³å°åŒ–ï¼šGoogle çš„å®˜æ–¹èƒŒä¹¦ä¸èµ‹èƒ½</h3>
<p>é•¿æœŸä»¥æ¥ï¼ŒKMP å¼€å‘è€…åœ¨æ„å»ºå…±äº«é€»è¾‘æ—¶ï¼Œéœ€è¦ä¾èµ–ç¤¾åŒºæä¾›çš„å„ç±»ç¬¬ä¸‰æ–¹åº“ã€‚å°½ç®¡ç¤¾åŒºå……æ»¡æ´»åŠ›ï¼Œä½†åº“çš„è´¨é‡ã€ç»´æŠ¤æŒç»­æ€§ä»¥åŠä¸ Android å®˜æ–¹å®è·µçš„ä¸€è‡´æ€§ï¼Œå§‹ç»ˆæ˜¯æŠ€æœ¯ç®¡ç†è€…å¿ƒä¸­çš„ä¸€ä¸é¡¾è™‘ã€‚</p>
<p>è¿™ä¸€å±€é¢åœ¨ <strong>Google I/O 2024 å¤§ä¼šå®£å¸ƒæ­£å¼æ”¯æŒ KMP</strong> åè¢«å½»åº•æ”¹å˜ã€‚è¿™ä¸ä»…æ˜¯ä¸€å¥å£å·ï¼Œè€Œæ˜¯å®å®åœ¨åœ¨çš„å·¥ç¨‹æŠ•å…¥ã€‚Google ä¸ä»…åœ¨è‡ªå®¶çš„ Workspaceã€Google Docs ç­‰æ ¸å¿ƒåº”ç”¨çš„ iOS ç‰ˆä¸­å¤§è§„æ¨¡é‡‡ç”¨ KMPï¼Œå¹¶éªŒè¯äº†å…¶ç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šæ€§ä¸æ€§èƒ½ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œ<strong>Google å¯åŠ¨äº†å°†æ ¸å¿ƒ Jetpack åº“å¤šå¹³å°åŒ–çš„æˆ˜ç•¥</strong>ã€‚</p>
<p>æ ¹æ® JetBrains ä¸ Google å‘å¸ƒçš„ 2025 è·¯çº¿å›¾å’Œç›¸å…³åšå®¢ï¼Œæˆªè‡³ 2025 å¹´åº•ï¼Œå¤šä¸ªå¼€å‘è€…åœ¨ Android ç«¯è€³ç†Ÿèƒ½è¯¦çš„ Jetpack åº“å·²ä¸º iOS æä¾›äº†<strong>ä¸€çº§ï¼ˆTier-1ï¼‰æ”¯æŒ</strong>ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ç»è¿‡äº†å…¨é¢æµ‹è¯•ï¼Œå¯ä»¥ç¨³å®šåœ°ç”¨äºç”Ÿäº§ç¯å¢ƒï¼š</p>



































<table><thead><tr><th><strong>Jetpack åº“</strong></th><th><strong>æ ¸å¿ƒåŠŸèƒ½</strong></th><th><strong>åœ¨ KMP ä¸­çš„ä»·å€¼</strong></th></tr></thead><tbody><tr><td><strong>Room (2.7.2+)</strong></td><td>ç»“æ„åŒ–æœ¬åœ°æ•°æ®åº“</td><td>åœ¨å…±äº«æ¨¡å—ä¸­å®ç°ç»Ÿä¸€ã€ç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®é€»è¾‘ï¼Œå‘Šåˆ«åœ¨ iOS ç«¯æ‰‹å†™ SQL æˆ–å°è£… CoreData çš„ç¹çã€‚</td></tr><tr><td><strong>DataStore (1.1.7+)</strong></td><td>é”®å€¼å¯¹/å¯¹è±¡å­˜å‚¨</td><td>æ›¿ä»£ SharedPreferences å’Œ NSUserDefaultsï¼Œæä¾›åŸºäº Flow çš„ç°ä»£åŒ–å¼‚æ­¥æ•°æ®å­˜å‚¨æ–¹æ¡ˆã€‚</td></tr><tr><td><strong>Paging (3.3.6+)</strong></td><td>åˆ†é¡µåŠ è½½</td><td>åœ¨å…±äº« ViewModel ä¸­å®ç°å¤æ‚çš„ã€æ”¯æŒç½‘ç»œå’Œæ•°æ®åº“æºçš„åˆ†é¡µåŠ è½½é€»è¾‘ï¼ŒUI å±‚åªéœ€ç®€å•æ¶ˆè´¹æ•°æ®æµã€‚</td></tr><tr><td><strong>ViewModel (2.9.2+)</strong></td><td>UI ç›¸å…³çš„çŠ¶æ€ç®¡ç†</td><td>å…è®¸å¼€å‘è€…åœ¨ <code>commonMain</code> ä¸­ç¼–å†™ ViewModelï¼ŒçœŸæ­£å®ç°ä¸šåŠ¡é€»è¾‘ä¸ UI çŠ¶æ€çš„è·¨å¹³å°å…±äº«ã€‚</td></tr><tr><td><strong>Lifecycle (2.9.2+)</strong></td><td>ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥</td><td>é…åˆ ViewModelï¼Œåœ¨å…±äº«ä»£ç ä¸­å®‰å…¨åœ°ç®¡ç†åç¨‹ä½œç”¨åŸŸï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</td></tr></tbody></table>
<blockquote>
<p><strong>èŒƒå¼è½¬ç§»çš„ä¿¡å·</strong>
Jetpack åº“çš„è·¨å¹³å°åŒ–ï¼Œå…¶æ„ä¹‰è¿œè¶…â€œå¤šäº†å‡ ä¸ªå¯ç”¨çš„åº“â€ã€‚å®ƒæ ‡å¿—ç€ <strong>Android å®˜æ–¹è®¤å¯çš„æœ€ä½³æ¶æ„å®è·µï¼Œæ­£åœ¨é€šè¿‡ KMP è‡ªç„¶åœ°å»¶ä¼¸åˆ° iOS å¹³å°</strong>ã€‚å¯¹äºå¹¿å¤§ Android å¼€å‘è€…è€Œè¨€ï¼Œè¿™æ„å‘³ç€ä»–ä»¬å¯ä»¥å°†ä¸šå·²çº¯ç†Ÿçš„æŠ€èƒ½æ ˆï¼ˆKotlin + Coroutines + Flow + Jetpackï¼‰æ— ç¼è¿ç§»è‡³è·¨å¹³å°å¼€å‘ï¼Œå­¦ä¹ æ›²çº¿è¢«æå¤§åœ°æ‹‰å¹³ã€‚å¯¹äºæŠ€æœ¯ç®¡ç†è€…ï¼Œè¿™æ„å‘³ç€å¯ä»¥åŸºäºåŒä¸€å¥—ç»è¿‡å¤§è§„æ¨¡éªŒè¯çš„æ¶æ„æ¨¡å¼æ¥æ„å»ºå’Œè¯„ä¼°ä¸¤ä¸ªå¹³å°çš„åº”ç”¨ï¼Œæ˜¾è‘—é™ä½äº†æŠ€æœ¯æ ˆçš„å¤æ‚åº¦å’Œå›¢é˜Ÿè®¤çŸ¥è´Ÿè·ã€‚</p>
</blockquote>
<h3 data-id="heading-4">KMP åŸç”Ÿåº“ç”Ÿæ€çš„æŒç»­ç¹è£</h3>
<p>é™¤äº† Jetpack çš„åŠ æŒï¼ŒKMP è‡ªèº«çš„åŸç”Ÿåº“ç”Ÿæ€ä¹Ÿæ„ˆå‘æˆç†Ÿã€‚</p>
<ul>
<li>
<p><strong>ç½‘ç»œå±‚</strong>ï¼š<strong>Ktor</strong> ä½œä¸º JetBrains çš„äº²ç”Ÿå­ï¼Œå·²ç»å‘å¸ƒäº† 3.0 ç‰ˆæœ¬ï¼Œä¸ Kotlin 2.0 æ·±åº¦é›†æˆï¼Œæä¾›äº†ç¨³å®šã€æ˜“ç”¨çš„ HTTP å®¢æˆ·ç«¯ã€‚</p>
</li>
<li>
<p><strong>åºåˆ—åŒ–</strong>ï¼š<code>kotlinx.serialization</code> å·²ç»æˆä¸ºå¤„ç† JSON ç­‰æ•°æ®æ ¼å¼çš„äº‹å®æ ‡å‡†ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®åº“</strong>ï¼šé™¤äº† Roomï¼Œç”± Cash App ç»´æŠ¤çš„ <strong>SQLDelight</strong> ä¾ç„¶æ˜¯å¤‡å—æ¬¢è¿çš„é€‰æ‹©ï¼Œå®ƒé€šè¿‡åœ¨ç¼–è¯‘æœŸä» SQL ç”Ÿæˆç±»å‹å®‰å…¨çš„ Kotlin APIï¼Œæä¾›äº†å¦ä¸€ç§å¼ºå¤§çš„æ•°æ®åº“è§£å†³æ–¹æ¡ˆã€‚</p>
</li>
<li>
<p><strong>å…¶ä»–å…³é”®é¢†åŸŸ</strong>ï¼šä»ä¾èµ–æ³¨å…¥ï¼ˆKoinï¼‰ã€æ—¥å¿—ï¼ˆNapierï¼‰ï¼Œåˆ°é”®å€¼å­˜å‚¨ï¼ˆMultiplatform-Settingsï¼‰ï¼Œç¤¾åŒºéƒ½æä¾›äº†ç¨³å®šä¸”ç»´æŠ¤è‰¯å¥½çš„è§£å†³æ–¹æ¡ˆã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡å®˜æ–¹æ¨èçš„ <strong>klibs.io</strong> å¹³å°ï¼Œæ–¹ä¾¿åœ°æ£€ç´¢å’Œè¯„ä¼°è¿™äº›å¤šå¹³å°åº“ã€‚</p>
</li>
</ul>
<p>åŒé‡ç”Ÿæ€çš„åŠ æŒï¼Œä½¿å¾— KMP åœ¨ä¸šåŠ¡é€»è¾‘å…±äº«å±‚å·²ç»æ„å»ºèµ·äº†å®½é˜”çš„æŠ¤åŸæ²³ã€‚å¼€å‘è€…å¦‚ä»Šé¢å¯¹çš„ï¼Œä¸å†æ˜¯â€œæœ‰æ²¡æœ‰åº“å¯ç”¨â€çš„é—®é¢˜ï¼Œè€Œæ˜¯â€œåœ¨å¤šä¸ªä¼˜ç§€é€‰é¡¹ä¸­å¦‚ä½•æŠ‰æ‹©â€çš„å¹¸ç¦çƒ¦æ¼ã€‚</p>
<h2 data-id="heading-5">ä¸‰ã€UI å±‚çªç ´ï¼šCompose Multiplatform èµ°å‘æˆç†Ÿ</h2>
<p>å¦‚æœè¯´ KMP è§£å†³äº†â€œé‡Œå­â€çš„é—®é¢˜ï¼Œé‚£ä¹ˆ Compose Multiplatform (CMP) åˆ™è‡´åŠ›äºæ”»å…‹â€œé¢å­â€çš„éš¾é¢˜ã€‚åœ¨ 2024 è‡³ 2025 å¹´é—´ï¼ŒCMP ç»å†äº†ä¸€ç³»åˆ—é‡Œç¨‹ç¢‘å¼çš„å‘å¸ƒï¼Œå°¤å…¶æ˜¯åœ¨ iOS å’Œ Web ä¸¤ä¸ªå…³é”®å¹³å°ä¸Šï¼Œæ ‡å¿—ç€å®ƒæ­£ä»ä¸€ä¸ªâ€œAndroid çš„å»¶ä¼¸â€ï¼Œèœ•å˜ä¸ºä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„å…¨å¹³å° UI æ¡†æ¶ã€‚</p>
<h3 data-id="heading-6">iOS èµ°å‘ç¨³å®šï¼šä» Beta åˆ° Production-Ready</h3>
<p><strong>Compose Multiplatform 1.8.0ï¼ˆ2025 å¹´ 5 æœˆå‘å¸ƒï¼‰æ˜¯æ•´ä¸ª KMP ç”Ÿæ€æœ€é‡è¦çš„é‡Œç¨‹ç¢‘ä¹‹ä¸€ï¼Œå®ƒæ­£å¼å®£å¸ƒ Compose for iOS è¿›å…¥ç¨³å®šï¼ˆStableï¼‰é˜¶æ®µ</strong>ã€‚è¿™æ„å‘³ç€å…¶æ ¸å¿ƒ API å·²æœ€ç»ˆç¡®å®šï¼Œå¹¶æä¾›äº†å¼ºå¤§çš„å…¼å®¹æ€§ä¿è¯ï¼Œå¼€å‘è€…å¯ä»¥æ”¾å¿ƒåœ°å°†å…¶ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚</p>
<p>è¿™ä¸€å£°æ˜å¹¶éç©ºè°ˆï¼Œè€Œæ˜¯å»ºç«‹åœ¨å¤šé¡¹å®è´¨æ€§æ”¹è¿›ä¹‹ä¸Šï¼š</p>
<ul>
<li>
<p><strong>æ€§èƒ½å¯¹é½åŸç”Ÿ</strong>ï¼šJetBrains åœ¨å‘å¸ƒæ—¶å…¬å¸ƒçš„åŸºå‡†æµ‹è¯•æ•°æ®æ˜¾ç¤ºï¼Œåœ¨æ»šåŠ¨æ€§èƒ½ç­‰å…³é”®æŒ‡æ ‡ä¸Šï¼ŒCMP for iOS å·²ä¸ SwiftUI <strong>ä¸ç›¸ä¸Šä¸‹</strong>ï¼Œå¹¶ä¸”åº”ç”¨å¯åŠ¨æ—¶é—´ä¹Ÿä¸åŸç”Ÿåº”ç”¨ç›¸å½“ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œç›¸æ¯”å®Œå…¨ä½¿ç”¨ SwiftUI å¼€å‘çš„åº”ç”¨ï¼Œå…¶åŒ…ä½“ç§¯å¢é‡ä»…ä¸ºçº¦ <strong>9MB</strong>ï¼Œæ‰“æ¶ˆäº†ä¸šç•Œå¯¹æ€§èƒ½å’ŒåŒ…ä½“çš„æ ¸å¿ƒé¡¾è™‘ã€‚</p>
</li>
<li>
<p><strong>åŸç”Ÿè´¨æ„Ÿï¼ˆNative Look &amp; Feelï¼‰</strong>ï¼šä¸ºäº†è§£å†³â€œéåŸç”Ÿæ„Ÿâ€çš„é—®é¢˜ï¼ŒCMP åœ¨ç»†èŠ‚ä¸Šåšäº†å¤§é‡ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å®Œå…¨åŒ¹é… iOS å¹³å°çš„<strong>æ»šåŠ¨ç‰©ç†æ•ˆæœ</strong>ï¼ˆå³â€œæ©¡çš®ç­‹â€æ•ˆæœï¼‰ã€‚</li>
<li>æ”¯æŒåŸç”Ÿçš„æ–‡æœ¬ç¼–è¾‘è¡Œä¸ºï¼ŒåŒ…æ‹¬<strong>æ–‡æœ¬é€‰æ‹©ã€å³åˆ°å·¦è¯­è¨€æ”¯æŒ</strong>ã€‚</li>
<li>ä¸ç³»ç»Ÿ<strong>æ‹–æ”¾ã€è¾…åŠ©åŠŸèƒ½ï¼ˆVoiceOverï¼‰ã€å­—ä½“å¤§å°ä¸å¯¹æ¯”åº¦è®¾ç½®</strong>ç­‰æ·±åº¦é›†æˆã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼ºå¤§çš„äº’æ“ä½œæ€§</strong>ï¼šCMP for iOS æä¾›äº†ä¸ SwiftUI å’Œ UIKit çš„æ— ç¼äº’æ“ä½œèƒ½åŠ›ã€‚å¼€å‘è€…ä¸ä»…å¯ä»¥å°†ä¸€ä¸ª Compose è§†å›¾åµŒå…¥åˆ°ç°æœ‰çš„ SwiftUI/UIKit é¡µé¢ä¸­ï¼Œå®ç°æ¸è¿›å¼æ”¹é€ ï¼›ä¹Ÿå¯ä»¥åœ¨ Compose ä»£ç ä¸­åµŒå…¥ä¸€ä¸ªåŸç”Ÿçš„ <code>UIView</code>ï¼Œä»¥å¤ç”¨é‚£äº›å°šæ—  KMP æ›¿ä»£å“çš„å¤æ‚åŸç”Ÿæ§ä»¶ï¼ˆå¦‚åœ°å›¾ã€WebViewï¼‰ã€‚</p>
</li>
</ul>
<blockquote>
<p><strong>æˆ˜ç•¥é€‰æ‹©çš„åˆ†é‡ï¼šå…±äº« UI vs. åŸç”Ÿ UI</strong>
CMP for iOS çš„ç¨³å®šï¼Œä¸ºæŠ€æœ¯å†³ç­–è€…æ¸…æ™°åœ°åˆ’åˆ†å‡ºä¸¤æ¡ UI æ¶æ„è·¯å¾„ï¼š</p>
<ol>
<li><strong>åŠ¡å®ä¸»ä¹‰è·¯å¾„ï¼ˆå…±äº«é€»è¾‘ï¼ŒåŸç”Ÿ UIï¼‰</strong>ï¼šè¿™æ˜¯ KMP æœ€ç»å…¸çš„ç”¨æ³•ã€‚å…±äº«æ¨¡å—åªåŒ…å«ä¸šåŠ¡é€»è¾‘ï¼ŒUI å±‚åˆ™ç”± Android (Jetpack Compose/XML) å’Œ iOS (SwiftUI/UIKit) å›¢é˜Ÿåˆ†åˆ«ç”¨åŸç”ŸæŠ€æœ¯æ ˆå®ç°ã€‚è¿™ç§æ¨¡å¼èƒ½ä¿è¯<strong>æè‡´çš„åŸç”Ÿä½“éªŒ</strong>ï¼Œä½†å¯¹å›¢é˜Ÿåä½œå’Œæ²Ÿé€šæå‡ºäº†æé«˜è¦æ±‚ã€‚</li>
<li><strong>ç»Ÿä¸€åŒ–è·¯å¾„ï¼ˆå…±äº«é€»è¾‘ä¸ UIï¼‰</strong>ï¼šåˆ©ç”¨ Compose Multiplatform å°† UI ä»£ç ä¹Ÿä¸€å¹¶å…±äº«ï¼Œå®ç° <strong>95% ä»¥ä¸Šçš„ä»£ç å¤ç”¨</strong>ã€‚è¿™èƒ½æå¤§åœ°æå‡å¼€å‘æ•ˆç‡ã€ç»Ÿä¸€å›¢é˜Ÿç»“æ„ï¼Œå°¤å…¶é€‚åˆ MVP äº§å“æˆ–å“ç‰Œè§†è§‰ä¸€è‡´æ€§è¦æ±‚é«˜çš„åº”ç”¨ã€‚ä½†æŒ‘æˆ˜åœ¨äºï¼Œè¦è®© UI åœ¨ iOS ä¸Šè¾¾åˆ° 100% çš„åŸç”Ÿè´¨æ„Ÿï¼Œå¯èƒ½éœ€è¦é¢å¤–çš„å®šåˆ¶å·¥ä½œã€‚
å¦‚ä»Šï¼Œè¿™ä¸å†æ˜¯ä¸€ä¸ªâ€œèƒ½ä¸èƒ½â€çš„é—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ªåŸºäºé¡¹ç›®ç›®æ ‡ã€å›¢é˜Ÿæ„æˆå’Œäº§å“å®šä½çš„â€œå¦‚ä½•é€‰â€çš„æˆ˜ç•¥é—®é¢˜ã€‚</li>
</ol>
</blockquote>
<h3 data-id="heading-7">Web ç«¯è¿ˆå…¥ Betaï¼šæ‹¥æŠ± Wasm çš„æœªæ¥</h3>
<p>ç´§éš iOS çš„æ­¥ä¼ï¼Œ<strong>Compose Multiplatform 1.9.0ï¼ˆ2025 å¹´ 10 æœˆå‘å¸ƒï¼‰å®£å¸ƒå…¶ Web ç«¯ï¼ˆåŸºäº WebAssembly/Wasmï¼‰è¿›å…¥ Beta é˜¶æ®µ</strong>ã€‚è¿™æ„å‘³ç€ API å·²ç»è¶³å¤Ÿç¨³å®šï¼Œå¯ä¾›æ—©æœŸé‡‡ç”¨è€…æŠ•å…¥å®é™…åº”ç”¨ã€‚</p>
<ul>
<li>
<p><strong>åŸºäº Wasm çš„é«˜æ€§èƒ½</strong>ï¼šä¸è¿‡å»åŸºäº Kotlin/JS çš„æ–¹æ¡ˆä¸åŒï¼Œæ–°çš„ Web ç›®æ ‡ç›´æ¥ç¼–è¯‘åˆ° Wasmï¼Œç†è®ºä¸Šèƒ½æä¾›æ¥è¿‘åŸç”Ÿçš„è¿è¡Œæ€§èƒ½ï¼Œä¸ºåœ¨æµè§ˆå™¨ä¸­æ„å»ºå¤æ‚ã€é«˜æ€§èƒ½çš„å‰ç«¯åº”ç”¨æ‰“å¼€äº†å¤§é—¨ã€‚</p>
</li>
<li>
<p><strong>å…±äº«ç§»åŠ¨ç«¯ä»£ç ä¸æŠ€èƒ½</strong>ï¼šå¼€å‘è€…å¯ä»¥å°†ä¸º Android/iOS ç¼–å†™çš„ Compose UI å’Œé€»è¾‘ä»£ç ï¼Œä»¥æä½çš„æˆæœ¬å¤ç”¨åˆ° Web ç«¯ï¼Œå®ç°â€œä¸‰ç«¯ä¸€ä½“â€çš„å¼€å‘ä½“éªŒã€‚JetBrains å®˜æ–¹çš„ Kotlin Playground å’Œ KotlinConf åº”ç”¨ç½‘ç«™ï¼Œå°±æ˜¯ CMP for Web çš„æœ€ä½³å®è·µæ¡ˆä¾‹ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">æ¡Œé¢ç«¯ï¼šä¹…ç»è€ƒéªŒçš„æˆç†Ÿå¹³å°</h3>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCompose for Desktop æ—©å·²ç¨³å®šï¼Œå¹¶è¢« JetBrains è‡ªèº«å¹¿æ³›ç”¨äºå¼€å‘å…¶ä¸‹çš„å¤šæ¬¾æ——èˆ°äº§å“ï¼Œå¦‚ <strong>JetBrains Toolbox App</strong> å’Œ <strong>JetBrains Fleet IDE</strong> çš„éƒ¨åˆ† UIã€‚è¿™äº›å¤æ‚æ¡Œé¢åº”ç”¨çš„æˆåŠŸå®è·µï¼Œæ—©å·²è¯æ˜äº† CMP åœ¨æ¡Œé¢ç«¯æ„å»ºé«˜è´¨é‡ã€é«˜æ€§èƒ½åº”ç”¨çš„èƒ½åŠ›ã€‚</p>
<p>ç»¼ä¸Šï¼Œä»ç§»åŠ¨ç«¯åˆ°æ¡Œé¢å†åˆ° Webï¼ŒCompose Multiplatform åœ¨ 2024-2025 å¹´é—´å®Œæˆäº†å…³é”®çš„ç‰ˆå›¾æ‰©å¼ ï¼Œæ„å»ºäº†ä¸€ä¸ªè¦†ç›–ä¸»æµå¹³å°çš„ã€ç»Ÿä¸€çš„å£°æ˜å¼ UI å·¥å…·é›†ã€‚å®ƒä¸º KMP æŠ€æœ¯æ ˆè¡¥ä¸Šäº†æœ€åï¼Œä¹Ÿæ˜¯æœ€å…³é”®çš„ä¸€å—æ‹¼å›¾ï¼Œä½¿å…¶çœŸæ­£å…·å¤‡äº†æä¾›ç«¯åˆ°ç«¯å®Œæ•´è§£å†³æ–¹æ¡ˆçš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-9">å››ã€å·¥ç¨‹åŒ–ææ•ˆï¼šæ—¥ç›Šé¡ºæ»‘çš„å¼€å‘è€…ä½“éªŒ</h2>
<p>ä¸€ä¸ªæŠ€æœ¯æ¡†æ¶èƒ½å¦åœ¨çœŸå®å·¥ç¨‹ä¸­è¢«å¤§è§„æ¨¡é‡‡ç”¨ï¼Œå¼€å‘è€…ä½“éªŒï¼ˆDXï¼‰æ˜¯å†³å®šæ€§çš„å› ç´ ã€‚æ—©æœŸçš„ KMP å› å…¶å¤æ‚çš„ Gradle é…ç½®ã€ä¸ç”šç†æƒ³çš„ IDE æ”¯æŒå’Œä¸åŸç”Ÿå·¥ä½œæµçš„æ‘©æ“¦ï¼ŒåŠé€€äº†ä¸å°‘æ»¡æ€€çƒ­æƒ…çš„å°è¯•è€…ã€‚ä½†åœ¨ 2024-2025 å¹´ï¼ŒJetBrains åœ¨å·¥ç¨‹åŒ–å’Œå·¥å…·é“¾ä¸ŠæŠ•å…¥äº†å·¨å¤§ç²¾åŠ›ï¼ŒåŠ›æ±‚æŠšå¹³è¿™äº›â€œæœ€åä¸€å…¬é‡Œâ€çš„è¤¶çš±ã€‚</p>
<h3 data-id="heading-10">IDE æ”¯æŒï¼šä»å‰²è£‚åˆ°èåˆ</h3>
<ul>
<li>
<p><strong>ç»Ÿä¸€çš„ KMP æ’ä»¶</strong>ï¼šJetBrains æ¨å‡ºäº†å…¨æ–°çš„ Kotlin Multiplatform æ’ä»¶ï¼Œå¹¶å·²é›†æˆåˆ°æœ€æ–°ç‰ˆçš„ Android Studio å’Œ IntelliJ IDEA ä¸­ã€‚è¯¥æ’ä»¶æå¤§åœ°ç®€åŒ–äº† KMP é¡¹ç›®çš„åˆ›å»ºå’Œé…ç½®ï¼Œæä¾›äº†ç»Ÿä¸€çš„è¿è¡Œ/è°ƒè¯•é…ç½®å…¥å£ï¼Œå¹¶å¼€å§‹æ”¯æŒåœ¨ <code>commonMain</code> ä¸­ç›´æ¥ä½¿ç”¨ Compose <code>@Preview</code> æ³¨è§£ï¼Œè§£å†³äº†è¿‡å»é¢„è§ˆåŠŸèƒ½åªèƒ½åœ¨å¹³å°ç‰¹å®šæ¨¡å—ä½¿ç”¨çš„ç—›ç‚¹ã€‚</p>
</li>
<li>
<p><strong>å¼ºåŒ–çš„ Swift äº’æ“ä½œ</strong>ï¼šIDE å¯¹ Kotlin-Swift äº’æ“ä½œçš„æ”¯æŒå¾—åˆ°äº†æ˜¾è‘—å¢å¼ºã€‚åœ¨ Kotlin ä»£ç å’Œç”Ÿæˆçš„ Swift æ¥å£ä¹‹é—´è·³è½¬ã€æŸ¥æ‰¾ç”¨ä¾‹ã€ç”šè‡³è¿›è¡Œè·¨è¯­è¨€é‡æ„ï¼Œéƒ½å˜å¾—æ›´åŠ æµç•…ã€‚è¿™å¯¹äºé‡‡ç”¨â€œå…±äº«é€»è¾‘ï¼ŒåŸç”Ÿ UIâ€ç­–ç•¥çš„å›¢é˜Ÿè‡³å…³é‡è¦ï¼Œå®ƒé™ä½äº† iOS å¼€å‘è€…å°†å…±äº«æ¨¡å—è§†ä¸ºâ€œé»‘ç›’â€çš„å¿ƒç†éšœç¢ã€‚</p>
</li>
<li>
<p><strong>Hot Reloadï¼ˆçƒ­é‡è½½ï¼‰çš„åˆ°æ¥</strong>ï¼šCompose Multiplatform for iOS å·²æ”¯æŒå®éªŒæ€§çš„ <strong>Compose Hot Reload</strong>ï¼Œå…è®¸å¼€å‘è€…åœ¨ä¿®æ”¹ UI ä»£ç åï¼Œæ— éœ€é‡å¯åº”ç”¨å³å¯å®æ—¶çœ‹åˆ°å˜åŒ–ã€‚è¿™æå¤§åœ°æå‡äº† UI çš„è¿­ä»£æ•ˆç‡ï¼Œä½¿å¾—å¼€å‘ä½“éªŒå‘ Flutter ç­‰æˆç†Ÿæ¡†æ¶çœ‹é½ã€‚</p>
</li>
</ul>
<blockquote>
<p><strong>è·¯çº¿å›¾å‰ç»ï¼šä»æ’ä»¶åˆ°ä¸“å± IDE ä¸ Amper æ„å»ºç³»ç»Ÿ</strong>
å±•æœ›æœªæ¥ï¼ŒJetBrains çš„ 2025 è·¯çº¿å›¾æ­ç¤ºäº†æ›´å®å¤§çš„è®¡åˆ’ï¼š</p>
<ul>
<li><strong>ç‹¬ç«‹çš„ KMP IDE</strong>ï¼šJetBrains æ­£åœ¨åŸºäº Fleet æ¶æ„ï¼Œæ‰“é€ ä¸€æ¬¾ä¸“ä¸º KMP å¼€å‘é‡èº«å®šåˆ¶çš„ IDEã€‚å®ƒå°†åŸç”Ÿæ”¯æŒè·¨è¯­è¨€ï¼ˆKotlin/Swiftï¼‰è°ƒè¯•ã€å¯¼èˆªå’Œé‡æ„ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³ç›®å‰ä¾èµ– Xcode ä¸ Android Studio/IntelliJ ååŒå·¥ä½œçš„å‰²è£‚æ„Ÿã€‚</li>
<li><strong>Amper æ„å»ºå·¥å…·</strong>ï¼šä¸ºäº†è§£å†³ Gradle é…ç½®å¤æ‚çš„é—®é¢˜ï¼ŒJetBrains æ¨å‡ºäº†å®éªŒæ€§çš„ <strong>Amper</strong> é¡¹ç›®ã€‚å®ƒæ—¨åœ¨æä¾›ä¸€ç§æ›´ç®€æ´ã€æ›´å…·å£°æ˜æ€§çš„æ–¹å¼æ¥å®šä¹‰é¡¹ç›®ç»“æ„å’Œä¾èµ–ï¼Œæå¤§åœ°é™ä½ KMP çš„ä¸Šæ‰‹é—¨æ§›ï¼Œå°¤å…¶æ˜¯å¯¹äºä¸ç†Ÿæ‚‰ JVM ç”Ÿæ€çš„å¼€å‘è€…ã€‚</li>
</ul>
</blockquote>
<h3 data-id="heading-11">æ„å»ºä¸ä¾èµ–ç®¡ç†ï¼šèµ°å‘æ ‡å‡†åŒ–</h3>
<ul>
<li>
<p><strong>é»˜è®¤å±‚çº§æºé›†ï¼ˆDefault Hierarchy Templateï¼‰</strong>ï¼šåœ¨ Kotlin 1.9.20 ä¸­å¼•å…¥çš„è¿™ä¸€ç‰¹æ€§ï¼Œè®© Gradle æ’ä»¶èƒ½è‡ªåŠ¨ä¸ºå¸¸è§çš„é¡¹ç›®ç»“æ„ï¼ˆå¦‚å…±äº«ä»£ç äº <code>commonMain</code>ï¼Œå¹³å°ä»£ç äº <code>androidMain</code>/<code>iosMain</code>ï¼‰é…ç½®æºé›†ä¾èµ–å…³ç³»ï¼Œå‡å°‘äº†å¤§é‡çš„æ ·æ¿é…ç½®ä»£ç ã€‚</p>
</li>
<li>
<p><strong>æ›´å‹å¥½çš„ CocoaPods / SwiftPM é›†æˆ</strong>ï¼šKMP å¯¹ iOS ä¾èµ–ç®¡ç†å·¥å…·çš„æ”¯æŒæ„ˆå‘æˆç†Ÿã€‚æ— è®ºæ˜¯é€šè¿‡ CocoaPods è¿˜æ˜¯ SwiftPMï¼Œå°† KMP æ„å»ºçš„ Framework é›†æˆåˆ°åŸç”Ÿ Xcode é¡¹ç›®ä¸­çš„æµç¨‹éƒ½å˜å¾—æ›´åŠ æ ‡å‡†åŒ–å’Œç¨³å®šã€‚</p>
</li>
<li>
<p><strong>è¯Šæ–­ä¸é”™è¯¯æç¤ºæ”¹è¿›</strong>ï¼šæ–°ç‰ˆçš„ Gradle æ’ä»¶å¢åŠ äº†çº¦ 50 é¡¹è¯Šæ–­æ£€æŸ¥ï¼Œèƒ½ä¸»åŠ¨å‘ç°å¸¸è§çš„æ„å»ºé…ç½®é—®é¢˜ï¼Œå¹¶æä¾›ä¿®å¤å»ºè®®ã€‚åŒæ—¶ï¼Œåœ¨ Xcode ä¸­æ„å»ºå¤±è´¥æ—¶çš„é”™è¯¯è¾“å‡ºä¹Ÿå¾—åˆ°äº†ä¼˜åŒ–ï¼Œä½¿å…¶æ›´æ˜“äºå®šä½é—®é¢˜æ ¹æºã€‚</p>
</li>
</ul>
<p>è™½ç„¶è·ç¦»â€œé›¶é…ç½®â€çš„ç†æƒ³çŠ¶æ€å°šæœ‰è·ç¦»ï¼Œä½† KMP çš„å·¥ç¨‹åŒ–ä½“éªŒåœ¨è¿‘å¹´æ¥çš„è¿›æ­¥æ˜¯è‚‰çœ¼å¯è§çš„ã€‚JetBrains æ­£é€šè¿‡â€œçŸ­æœŸä¼˜åŒ–ç°æœ‰å·¥å…·ï¼ˆGradle/IDEA æ’ä»¶ï¼‰â€å’Œâ€œé•¿æœŸæŠ•èµ„ä¸‹ä¸€ä»£å·¥å…·ï¼ˆAmper/Fleet IDEï¼‰â€ä¸¤æ¡è…¿èµ°è·¯çš„æ–¹å¼ï¼Œç³»ç»Ÿæ€§åœ°è§£å†³ç€å¼€å‘æµç¨‹ä¸­çš„ç—›ç‚¹ï¼Œä¸º KMP çš„å¤§è§„æ¨¡é‡‡ç”¨é“ºå¹³äº†é“è·¯ã€‚</p>
<h2 data-id="heading-12">äº”ã€ç°å®çš„å¼•åŠ›ï¼šç”Ÿäº§æ¡ˆä¾‹ä¸åŠ¡å®çš„æ”¶ç›Šæ¨¡å‹</h2>
<p>ç†è®ºçš„æˆç†Ÿæœ€ç»ˆéœ€è¦ç”±ç°å®ä¸–ç•Œçš„é‡‡çº³æ¥å°è¯ã€‚å¦‚æœè¯´ 2023 å¹´ä¹‹å‰ï¼ŒKMP çš„æˆåŠŸæ¡ˆä¾‹è¿˜å¤šæ˜¯äº›ä¸ªäººé¡¹ç›®æˆ–å°å‹åº”ç”¨çš„æ¢ç´¢ï¼Œé‚£ä¹ˆ 2024 å¹´ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯è¶Šæ¥è¶Šå¤šçš„å¤§å‹ã€ä¸¥è‚ƒçš„å•†ä¸šäº§å“ï¼Œå¼€å§‹å°† KMP ä½œä¸ºå…¶æ ¸å¿ƒæŠ€æœ¯æˆ˜ç•¥çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-13">ä» JetBrains è‡ªç”¨åˆ° Google æ——èˆ°</h3>
<ul>
<li>
<p><strong>JetBrains å…¨å®¶æ¡¶</strong>ï¼šä½œä¸º KMP çš„åˆ›é€ è€…ï¼ŒJetBrains è‡ªèº«å°±æ˜¯å…¶æœ€åšå®šçš„å®è·µè€…ã€‚<strong>JetBrains Toolbox App</strong>ã€ä¸‹ä¸€ä»£ IDE <strong>Fleet</strong>ï¼Œä»¥åŠå›¢é˜Ÿåä½œå·¥å…· <strong>Space</strong> çš„ç§»åŠ¨å®¢æˆ·ç«¯ï¼Œéƒ½æ·±åº¦ä½¿ç”¨äº† KMP å’Œ Compose Multiplatformã€‚è¿™äº›äº§å“æœ¬èº«å°±æ˜¯å¯¹ KMP æ„å»ºå¤æ‚ã€é«˜è´¨é‡åº”ç”¨èƒ½åŠ›çš„æœ€å¥½è¯æ˜ã€‚</p>
</li>
<li>
<p><strong>Google Workspace &amp; Google Docs</strong>ï¼šGoogle åœ¨å…¶æ ¸å¿ƒç”Ÿäº§åŠ›åº”ç”¨ï¼ˆå¦‚ Google Docsï¼‰çš„ iOS ç‰ˆä¸­é‡‡ç”¨ KMP å…±äº«äº†å¤§é‡ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶å…¬å¼€åˆ†äº«å…¶å¸¦æ¥çš„æ”¶ç›Šï¼š<strong>æ›´é«˜çš„åŠŸèƒ½ä¸€è‡´æ€§ã€æ›´å¿«çš„è¿­ä»£é€Ÿåº¦ï¼Œä¸”æ€§èƒ½ä¸åŸç”Ÿä»£ç æŒå¹³</strong>ã€‚æ¥è‡ª Google å®˜æ–¹çš„èƒŒä¹¦ï¼Œå…¶åˆ†é‡ä¸è¨€è€Œå–»ã€‚</p>
</li>
<li>
<p><strong>ç¤¾åŒºä¸ä¼ä¸šæ ‡æ†</strong>ï¼š</p>
<ul>
<li><strong>Netflix</strong>ï¼šåœ¨å…¶å†…éƒ¨ä½¿ç”¨çš„ Prodicle å·¥ä½œå®¤åº”ç”¨ä¸­ï¼Œåˆ©ç”¨ KMP å…±äº«äº†åŒ…æ‹¬ç½‘ç»œã€æ•°æ®æŒä¹…åŒ–åœ¨å†…çš„å¤æ‚ä¸šåŠ¡é€»è¾‘ã€‚</li>
<li><strong>McDonald's</strong>ï¼šåœ¨å…¶å…¨çƒå¤–é€åº”ç”¨ä¸­ï¼Œä½¿ç”¨ KMP å…±äº«äº†æ”¯ä»˜ã€è®¢å•ç­‰å…³é”®æ¨¡å—ï¼Œç”šè‡³åˆ›æ–°æ€§åœ°å°†å¯¼èˆªé€»è¾‘ä¹Ÿæ”¾å…¥äº†å…±äº«å±‚ã€‚</li>
<li><strong>Philips</strong>ï¼šåœ¨å…¶å¥åº·åº”ç”¨ä¸­åˆ©ç”¨ KMP ç»Ÿä¸€äº†è“ç‰™è®¾å¤‡é€šä¿¡ç­‰åº•å±‚é€»è¾‘ã€‚</li>
<li><strong>Baidu</strong>ï¼šåœ¨å›½å†…ï¼Œç™¾åº¦ç­‰å¤§å‹äº’è”ç½‘å…¬å¸ä¹Ÿåœ¨ç§¯ææ¢ç´¢å’Œè½åœ° KMPã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-14">å¢é‡å¼•å…¥çš„ç°å®æ”¶ç›Š</h3>
<p>KMP æœ€å¤§çš„é­…åŠ›ä¹‹ä¸€åœ¨äºå…¶<strong>éä¾µå…¥æ€§</strong>å’Œ<strong>æ¸è¿›å¼é‡‡ç”¨</strong>çš„èƒ½åŠ›ã€‚å®ƒä¸è¦æ±‚å›¢é˜Ÿæ¨å€’é‡æ¥ï¼Œè€Œæ˜¯å¯ä»¥åƒâ€œæ’ä»¶â€ä¸€æ ·ï¼Œå¹³æ»‘åœ°é›†æˆåˆ°ç°æœ‰çš„åŸç”Ÿåº”ç”¨ä¸­ã€‚</p>
<p>ä¸€ä¸ªå…¸å‹çš„å¢é‡å¼•å…¥è·¯å¾„æ˜¯ï¼š</p>
<ol>
<li>
<p><strong>è¯†åˆ«ç—›ç‚¹</strong>ï¼šä»ä¸€ä¸ªåœ¨ Android å’Œ iOS ä¸¤ç«¯éƒ½å­˜åœ¨ï¼Œä¸”é€»è¾‘å¤æ‚ã€é¢‘ç¹å˜æ›´ã€å®¹æ˜“å‡º Bug çš„æ¨¡å—å…¥æ‰‹ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªå¤æ‚çš„å®šä»·ç®—æ³•ã€ä¸€å¥—ç½‘ç»œè¯·æ±‚çš„å°è£…ã€æˆ–ä¸€ä¸ªè‡ªå®šä¹‰çš„æ•°æ®å›¾è¡¨ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å‰¥ç¦»ä¸å…±äº«</strong>ï¼šå°†è¿™éƒ¨åˆ†é€»è¾‘ç”¨ Kotlin åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ <code>shared</code> æ¨¡å—ä¸­å®ç°ã€‚</p>
</li>
<li>
<p><strong>é›†æˆä¸éªŒè¯</strong>ï¼šå°†è¯¥æ¨¡å—ç¼–è¯‘ä¸º AAR (for Android) å’Œ Framework (for iOS)ï¼Œæ›¿æ¢æ‰åŸæœ‰çš„åŸç”Ÿå®ç°ã€‚</p>
</li>
<li>
<p><strong>é€æ­¥æ‰©å±•</strong>ï¼šåœ¨éªŒè¯äº†å…¶å¸¦æ¥çš„æ”¶ç›Šï¼ˆå¦‚å‡å°‘ Bugã€ç»Ÿä¸€è¡Œä¸ºï¼‰åï¼Œé€æ­¥æ‰©å¤§å…±äº«ä»£ç çš„èŒƒå›´ã€‚</p>
</li>
</ol>
<p>è¿™ç§æ¨¡å¼çš„<strong>æ€§ä»·æ¯”æé«˜</strong>ã€‚å®ƒå…è®¸å›¢é˜Ÿåœ¨ä¸é¢ è¦†ç°æœ‰å·¥ä½œæµå’ŒæŠ€æœ¯æ ˆçš„å‰æä¸‹ï¼Œç”¨æœ€å°çš„æˆæœ¬å’Œé£é™©ï¼Œç²¾å‡†åœ°è§£å†³ä»£ç å¤ç”¨çš„æ ¸å¿ƒç—›ç‚¹ï¼Œäº«å—åˆ° KMP å¸¦æ¥çš„ç›´æ¥æ”¶ç›Šã€‚</p>
<p>å¯¹äºæŠ€æœ¯ç®¡ç†è€…è€Œè¨€ï¼ŒKMP æä¾›äº†ä¸€ä¸ªæå…·å¸å¼•åŠ›çš„æ”¶ç›Šæ¨¡å‹ï¼šå®ƒå…è®¸å›¢é˜Ÿåœ¨<strong>æœ€å¤§åŒ–å¤ç”¨å•†ä¸šé€»è¾‘</strong>ä»¥é™ä½æˆæœ¬ã€æå‡æ•ˆç‡çš„åŒæ—¶ï¼Œä¾ç„¶<strong>ä¿ç•™äº†åˆ©ç”¨åŸç”Ÿ UI æ‰“é€ æœ€ä½³ç”¨æˆ·ä½“éªŒçš„è‡ªç”±</strong>ã€‚è¿™ç§â€œé±¼ä¸ç†ŠæŒå…¼å¾—â€çš„çµæ´»æ€§ï¼Œæ˜¯ KMP åœ¨ä¸å…¶ä»–è·¨å¹³å°æ–¹æ¡ˆç«äº‰æ—¶ï¼Œæœ€ç‹¬ç‰¹çš„ä»·å€¼ä¸»å¼ ã€‚å®ƒä¸å†æ˜¯ä¸€ä¸ªéé»‘å³ç™½çš„æ¿€è¿›é€‰æ‹©ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯ä»¥æ ¹æ®ä¸šåŠ¡å‘å±•å’Œå›¢é˜ŸçŠ¶å†µåŠ¨æ€è°ƒæ•´çš„ã€å……æ»¡æ™ºæ…§çš„åŠ¡å®ä¹‹é“ã€‚</p>
<h2 data-id="heading-15">ç»“è®ºï¼šKMPï¼Œä¸€ä¸ªä¸ºé•¿æœŸä»·å€¼è€Œç”Ÿçš„åŠ¡å®é€‰æ‹©</h2>
<p>å›é¡¾ KMP ä¸ Compose Multiplatform åœ¨ 2024-2026 å¹´çš„æ¼”è¿›è½¨è¿¹ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ä¸€æ¡ä»â€œåº•å±‚é©æ–°â€åˆ°â€œç”Ÿæ€æˆç†Ÿâ€ï¼Œå†åˆ°â€œå·¥ç¨‹åŒ–è½åœ°â€çš„å®Œæ•´è¿›åŒ–é“¾ã€‚</p>
<ul>
<li>
<p><strong>åšå®çš„åœ°åŸº</strong>ï¼šä»¥ Kotlin 2.0 å’Œ K2 ç¼–è¯‘å™¨ä¸ºæ ¸å¿ƒçš„è¯­è¨€å±‚å‡çº§ï¼Œä¸ºæ•´ä¸ªç”Ÿæ€ç³»ç»Ÿçš„é«˜é€Ÿå‘å±•æä¾›äº†å¼ºåŠ²ã€ç»Ÿä¸€çš„åŠ¨åŠ›ã€‚</p>
</li>
<li>
<p><strong>ä¸°é¥¶çš„ç”Ÿæ€</strong>ï¼šä»¥ Jetpack å¤šå¹³å°åº“ä¸ºä»£è¡¨çš„å®˜æ–¹æ”¯æŒï¼Œä¸æŒç»­ç¹è£çš„ç¤¾åŒºåº“ç›¸ç»“åˆï¼Œæ„å»ºäº†è¶³ä»¥æ”¯æ’‘å¤æ‚ä¸šåŠ¡é€»è¾‘çš„â€œå†›ç«åº“â€ã€‚</p>
</li>
<li>
<p><strong>å¼ºå¤§çš„ UI å·¥å…·é›†</strong>ï¼šCompose Multiplatform å‡­å€Ÿ iOS çš„ç¨³å®šå’Œ Web çš„å…¥åœºï¼ŒçœŸæ­£æˆä¸ºä¸€ä¸ªè¦†ç›–ä¸»æµå¹³å°çš„å…¨èƒ½å‹ UI æ¡†æ¶ï¼Œå¹¶ä¸ºå¼€å‘è€…æä¾›äº†â€œå…±äº«â€æˆ–â€œåŸç”Ÿâ€çš„çµæ´»é€‰é¡¹ã€‚</p>
</li>
<li>
<p><strong>æŒç»­ä¼˜åŒ–çš„å¼€å‘è€…ä½“éªŒ</strong>ï¼šå°½ç®¡ä»æœ‰æŒ‘æˆ˜ï¼Œä½†ä» IDE æ’ä»¶åˆ°ä¸‹ä¸€ä»£æ„å»ºå·¥å…·çš„è·¯çº¿å›¾ï¼Œæ— ä¸æ˜¾ç¤ºå‡º JetBrains è§£å†³å¼€å‘è€…ç—›ç‚¹ã€é™ä½ä½¿ç”¨é—¨æ§›çš„å†³å¿ƒã€‚</p>
</li>
<li>
<p><strong>æ— å¯è¾©é©³çš„ç”Ÿäº§éªŒè¯</strong>ï¼šä» Google åˆ° Netflixï¼Œä»å¤§å‹ä¼ä¸šåˆ°åˆåˆ›å…¬å¸ï¼Œæ—¥ç›Šå¢å¤šçš„ç”Ÿäº§æ¡ˆä¾‹ï¼Œå®£å‘Šäº† KMP å·²ç»èµ°å‡ºäº†â€œæ¦‚å¿µéªŒè¯â€é˜¶æ®µï¼Œæˆä¸ºç»å¾—èµ·å®æˆ˜è€ƒéªŒçš„æˆç†ŸæŠ€æœ¯ã€‚</p>
</li>
</ul>
<p><strong>åœ¨ 2026 å¹´çš„ä»Šå¤©ï¼ŒæŠ€æœ¯ç®¡ç†è€…åœ¨è¯„ä¼° KMP æ—¶ï¼Œæ‰€é¢ä¸´çš„é—®é¢˜å·²ç»ä¸å†æ˜¯â€œå®ƒèƒ½ç”¨å—ï¼Ÿâ€ï¼Œè€Œæ˜¯â€œæˆ‘ä»¬åº”è¯¥å¦‚ä½•æœ€å¥½åœ°åˆ©ç”¨å®ƒï¼Ÿâ€</strong></p>
<p>å®ƒä¸æ˜¯ä¸€ä¸ªè¯•å›¾ç”¨ä¸€å¥—ä»£ç â€œæŠ¹å¹³â€æ‰€æœ‰å¹³å°å·®å¼‚çš„ç†æƒ³ä¸»ä¹‰ä¹Œæ‰˜é‚¦ï¼Œè€Œæ˜¯ä¸€ä¸ªæ·±åˆ»ç†è§£å¹¶å°Šé‡å¹³å°ç‰¹æ€§çš„ç°å®ä¸»ä¹‰å·¥å…·é›†ã€‚å®ƒèµ‹äºˆå›¢é˜Ÿé€‰æ‹©çš„æƒåˆ©ï¼šæ˜¯åœ¨è¿½æ±‚æè‡´åŸç”Ÿä½“éªŒçš„åŒæ—¶å…±äº«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œè¿˜æ˜¯åœ¨æ•ˆç‡ä¸ä¸€è‡´æ€§çš„é©±åŠ¨ä¸‹ç»Ÿä¸€ UI ä¸é€»è¾‘ã€‚</p>
<p>å¯¹äºé‚£äº›è¿½æ±‚æŠ€æœ¯æ–¹æ¡ˆçš„é•¿æœŸä»·å€¼ã€å¸Œæœ›åœ¨å¼€å‘æ•ˆç‡ä¸äº§å“è´¨é‡ä¹‹é—´æ‰¾åˆ°æœ€ä½³å¹³è¡¡ã€å¹¶æ„¿æ„æŠ•èµ„äºæ„å»ºç»Ÿä¸€ã€é«˜æ•ˆç§»åŠ¨å›¢é˜Ÿçš„ä¼ä¸šè€Œè¨€ï¼ŒKotlin Multiplatform æ— ç–‘å·²ç»å‡†å¤‡å°±ç»ªã€‚å®ƒå·²ç»ä»ä¸€ä¸ªå‹‡æ•¢è€…çš„æ¸¸æˆï¼Œå˜æˆäº†ä¸€ä¸ªæ™ºè€…çš„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2D å›¾å½¢ç³»ç»Ÿçš„æ¸²æŸ“æŠ½è±¡]]></title>    <link>https://juejin.cn/post/7601387539334021156</link>    <guid>https://juejin.cn/post/7601387539334021156</guid>    <pubDate>2026-02-01T14:13:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601387539334021156" data-draft-id="7601387539334004772" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2D å›¾å½¢ç³»ç»Ÿçš„æ¸²æŸ“æŠ½è±¡"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-02-01T14:13:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸©å®‡é£"/> <meta itemprop="url" content="https://juejin.cn/user/4300945219403368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2D å›¾å½¢ç³»ç»Ÿçš„æ¸²æŸ“æŠ½è±¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4300945219403368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸©å®‡é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T14:13:27.000Z" title="Sun Feb 01 2026 14:13:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1å°æ—¶+
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2D æ¨¡å‹çš„æ¸²æŸ“æŠ½è±¡(2D Rendering Abstraction)å®šä¹‰äº† 2D å›¾å½¢ç³»ç»Ÿçš„æ ¸å¿ƒèƒ½åŠ›ï¼ŒåŒ…æ‹¬é™æ€æ¸²æŸ“æ¨¡å‹å’ŒåŠ¨æ€æ¸²æŸ“æ¨¡å‹ä¸¤ä¸ªéƒ¨åˆ†ã€‚é™æ€æ¸²æŸ“æ¨¡å‹æè¿°å•å¸§ç”»é¢çš„æ„æˆæ–¹å¼ï¼ŒåŒ…æ‹¬å›¾å±‚çš„å‡ ä½•ä¸æ ·å¼ã€å›¾å±‚é—´çš„å½±å“å…³ç³»ã€æ¸²æŸ“æ•ˆæœä¸åˆæˆè§„åˆ™ã€‚åŠ¨æ€æ¸²æŸ“æ¨¡å‹åœ¨é™æ€åŸºç¡€ä¸Šå¼•å…¥æ—¶é—´ç»´åº¦å’Œäº¤äº’èƒ½åŠ›ï¼ŒåŒ…æ‹¬æ»‘åŠ¨è¡Œä¸ºã€åŠ¨ç”»ç³»ç»Ÿå’Œäº‹ä»¶å¤„ç†æœºåˆ¶ã€‚æœ¬æ–‡ä»æ¨¡å‹å±‚é¢åˆ†æè¿™äº›å…±æ€§åŸç†ï¼Œä¸æ¶‰åŠå…·ä½“å®ç°ç»†èŠ‚ã€‚</p>
<h2 data-id="heading-0">é™æ€æ¸²æŸ“æ¨¡å‹</h2>
<p>é™æ€æ¸²æŸ“æ¨¡å‹å®šä¹‰äº†å•å¸§ç”»é¢çš„æ„æˆè§„åˆ™ã€‚å®ƒå›ç­”ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜ï¼šå•ä¸ªå›¾å±‚å¦‚ä½•è¡¨è¾¾ï¼ˆå‡ ä½•ä¸æ ·å¼ï¼‰ã€å›¾å±‚ä¹‹é—´å¦‚ä½•å½±å“ï¼ˆç»§æ‰¿ä¸ä¾èµ–ï¼‰ã€ä»¥åŠæ¸²æŸ“ç³»ç»Ÿå¦‚ä½•å°†è¿™äº›å›¾å±‚ç»„åˆä¸ºæœ€ç»ˆç”»é¢ï¼ˆæ•ˆæœã€åˆæˆä¸ä¼˜åŒ–ï¼‰ã€‚</p>
<h3 data-id="heading-1">æ¸²æŸ“å•å…ƒ</h3>
<p>Geometry å’Œ Paint å®šä¹‰ä¸€ä¸ªæ¸²æŸ“å•å…ƒã€‚Geometry ç¡®å®šæ¸²æŸ“çš„ç©ºé—´èŒƒå›´ï¼ˆå“ªäº›åƒç´ éœ€è¦ç»˜åˆ¶ï¼‰ï¼ŒPaint ç¡®å®šè¿™äº›åƒç´ çš„é¢œè‰²ã€‚æ¸²æŸ“å•å…ƒæ˜¯ 2D æ¸²æŸ“çš„æœ€å°å•ä½ï¼Œå…·å¤‡å®Œæ•´çš„ç‹¬ç«‹æ¸²æŸ“èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-2">Geometryï¼šåœ¨å“ªé‡Œç”»</h4>
<p><strong>Geometry æ˜¯è®¡ç®—ç»“æœï¼Œä¸æ˜¯ç›´æ¥å®šä¹‰</strong></p>
<p>æ¸²æŸ“æ¨¡å‹ä¸ç›´æ¥å®šä¹‰ Geometryï¼Œè€Œæ˜¯å®šä¹‰ Shapeï¼ˆå½¢çŠ¶ç±»å‹ï¼‰+ Fill/Strokeï¼ˆåº”ç”¨æ–¹å¼ï¼‰ï¼Œç„¶åè®¡ç®—å‡ºæœ€ç»ˆçš„ Geometryï¼š</p>
<pre><code class="hljs">Shape + Fill  â†’ Fill Geometryï¼ˆå¡«å……åŒºåŸŸï¼‰
Shape + Stroke â†’ Stroke Geometryï¼ˆæè¾¹åŒºåŸŸï¼Œç”± Stroke å‚æ•°æ‰©å±•è€Œæ¥ï¼‰
</code></pre>
<p><strong>Shapeï¼šå½¢çŠ¶çš„å£°æ˜</strong></p>
<p>Shape æ˜¯å‡ ä½•çš„å£°æ˜å¼å®šä¹‰ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><strong>çŸ©å½¢(Rect)</strong>ï¼šä½ç½® + å°ºå¯¸</li>
<li><strong>åœ†è§’çŸ©å½¢(RRect)</strong>ï¼šçŸ©å½¢ + æ¯ä¸ªè§’çš„åœ†è§’åŠå¾„</li>
<li><strong>æ¤­åœ†(Oval)</strong>ï¼šè¾¹ç•ŒçŸ©å½¢</li>
<li><strong>è·¯å¾„(Path)</strong>ï¼šè´å¡å°”æ›²çº¿åºåˆ—</li>
<li><strong>æ–‡æœ¬(Text)</strong>ï¼šå­—ç¬¦åºåˆ— + å­—ä½“ + æ’ç‰ˆå‚æ•°</li>
</ul>
<p><strong>Fill å’Œ Strokeï¼šä¸¤ç§ Geometry ç”Ÿæˆæ–¹å¼</strong></p>
<p>Fill å’Œ Stroke å°† Shape è½¬æ¢ä¸ºå¯æ¸²æŸ“çš„ Geometryï¼š</p>
<ul>
<li><strong>Fill</strong>ï¼šå¡«å…… Shape çš„å†…éƒ¨åŒºåŸŸã€‚å¯¹äºå°é—­è·¯å¾„ï¼Œå†…éƒ¨åŒºåŸŸç”±å¡«å……è§„åˆ™(Fill Rule)å†³å®šï¼ˆNonZero æˆ– EvenOddï¼‰</li>
<li><strong>Stroke</strong>ï¼šæ²¿ Shape çš„è¾¹ç•Œæ‰©å±•å‡ºå¸¦å®½åº¦çš„åŒºåŸŸã€‚Stroke å‚æ•°åŒ…æ‹¬ï¼š
<ul>
<li>å®½åº¦ï¼šçº¿æ¡ç²—ç»†</li>
<li>ç«¯ç‚¹æ ·å¼(Cap)ï¼šçº¿æ¡ç«¯ç‚¹å½¢çŠ¶</li>
<li>è¿æ¥æ ·å¼(Join)ï¼šçº¿æ¡è½¬è§’å½¢çŠ¶</li>
<li>è™šçº¿æ¨¡å¼(Dash)ï¼šå®çº¿æ®µå’Œé—´éš”çš„æ¨¡å¼</li>
</ul>
</li>
</ul>
<p><strong>æ–‡æœ¬çš„ç‰¹æ®Šæ€§</strong></p>
<p>æ–‡æœ¬æ˜¯"å£°æ˜å¼ Shape"åˆ°"å®é™… Geometry"çš„äºŒæ¬¡è½¬æ¢ï¼š</p>
<pre><code class="hljs">æ–‡æœ¬å­—ç¬¦ä¸² + å­—ä½“ â†’ å­—å½¢è½®å»“è·¯å¾„é›†åˆ â†’ Fill/Stroke Geometry
</code></pre>
<p>æ–‡æœ¬æ¸²æŸ“éœ€è¦å­—ä½“è§£æã€æ’ç‰ˆè®¡ç®—ï¼Œæœ€ç»ˆç”Ÿæˆå­—å½¢è·¯å¾„å‚ä¸æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-3">Paintï¼šç”»ä»€ä¹ˆ</h4>
<p><strong>Paint çš„æœ¬è´¨ï¼šå®šä¹‰ç©ºé—´ä¸­æ¯ä¸ªç‚¹çš„é¢œè‰²</strong></p>
<p>Paint ä¸æ˜¯ç®€å•çš„"é¢œè‰²å€¼"ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼š<code>f(x, y) â†’ Color</code>ã€‚ç»™å®šåæ ‡ (x, y)ï¼Œè¿”å›è¯¥ä½ç½®åº”è¯¥ç»˜åˆ¶çš„é¢œè‰²ã€‚</p>
<ul>
<li><strong>çº¯è‰²</strong>ï¼š<code>f(x, y) = å¸¸é‡é¢œè‰²</code>ï¼Œä¸ä½ç½®æ— å…³</li>
<li><strong>æ¸å˜</strong>ï¼š<code>f(x, y) = æ ¹æ® (x, y) æ’å€¼çš„é¢œè‰²</code>ï¼Œé¢œè‰²éšä½ç½®å˜åŒ–</li>
<li><strong>å›¾åƒ</strong>ï¼š<code>f(x, y) = å›¾åƒåœ¨ (x, y) çš„é‡‡æ ·å€¼</code>ï¼Œä»å›¾åƒæ•°æ®ä¸­è¯»å–</li>
</ul>
<p>è¿™ç§æŠ½è±¡ä½¿å¾— Paint å¯ä»¥è¡¨è¾¾ä»»æ„å¤æ‚çš„é¢œè‰²åˆ†å¸ƒã€‚</p>
<p><strong>Paint çš„ç±»å‹</strong></p>
<p>åŸºäº"å¦‚ä½•è®¡ç®—é¢œè‰²"ï¼ŒPaint åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ol>
<li>
<p><strong>çº¯è‰²(Solid Color)</strong></p>
<ul>
<li>å®šä¹‰ï¼šå•ä¸€ RGBA å€¼</li>
<li>å‡½æ•°ï¼š<code>f(x, y) = color</code></li>
</ul>
</li>
<li>
<p><strong>æ¸å˜(Gradient)</strong></p>
<ul>
<li>å®šä¹‰ï¼šé¢œè‰²åœæ­¢ç‚¹(Color Stops) + æ¸å˜ç±»å‹</li>
<li>å‡½æ•°ï¼šæ ¹æ® (x, y) åˆ°æ¸å˜è½´çš„è·ç¦»æ’å€¼</li>
<li>ç±»å‹ï¼š
<ul>
<li>çº¿æ€§æ¸å˜ï¼šæ²¿ç›´çº¿æ–¹å‘æ’å€¼</li>
<li>å¾„å‘æ¸å˜ï¼šä»ä¸­å¿ƒç‚¹å‘å¤–æ’å€¼</li>
<li>è§’åº¦æ¸å˜ï¼šå›´ç»•ä¸­å¿ƒç‚¹æ—‹è½¬æ’å€¼</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>å›¾åƒ(Image)</strong></p>
<ul>
<li>å®šä¹‰ï¼šå›¾åƒæ•°æ® + å˜æ¢çŸ©é˜µ + å¹³é“ºæ¨¡å¼</li>
<li>å‡½æ•°ï¼šå°† (x, y) å˜æ¢åˆ°å›¾åƒåæ ‡ï¼Œé‡‡æ ·åƒç´ å€¼</li>
</ul>
</li>
</ol>
<p><strong>åæ ‡ç©ºé—´</strong></p>
<p>Paint å‡½æ•°çš„ (x, y) å®šä¹‰åœ¨ç‰¹å®šåæ ‡ç©ºé—´ä¸­ï¼š</p>
<ul>
<li><strong>å¯¹è±¡ç©ºé—´(Object Space)</strong>ï¼šç›¸å¯¹äº Geometry çš„è¾¹ç•Œ</li>
<li><strong>ç”¨æˆ·ç©ºé—´(User Space)</strong>ï¼šç”»å¸ƒçš„ç»å¯¹åæ ‡</li>
</ul>
<p>æ¸å˜çš„èµ·ç‚¹/ç»ˆç‚¹ã€å›¾åƒçš„å˜æ¢çŸ©é˜µéƒ½åœ¨åæ ‡ç©ºé—´ä¸­å®šä¹‰ã€‚</p>
<h4 data-id="heading-4">å°ç»“</h4>
<p>æ¸²æŸ“å•å…ƒç”± Shape + Fill/Stroke + Paint å®šä¹‰ï¼šShape å£°æ˜å‡ ä½•ï¼ŒFill/Stroke è®¡ç®— Geometryï¼ŒPaint å®šä¹‰é¢œè‰²å‡½æ•°ã€‚Geometry æ˜¯"åœ¨å“ªäº›åƒç´ ä¸Šç»˜åˆ¶"ï¼ŒPaint æ˜¯"è¿™äº›åƒç´ çš„é¢œè‰²æ˜¯ä»€ä¹ˆ"ã€‚</p>
<h3 data-id="heading-5">æ¸²æŸ“æ•ˆæœ</h3>
<p>æ¸²æŸ“æ•ˆæœå¯¹æ¸²æŸ“å•å…ƒçš„åƒç´ è¿›è¡Œå¤„ç†ï¼Œæ”¹å˜æœ€ç»ˆçš„è§†è§‰å‘ˆç°ã€‚æ¸²æŸ“æ•ˆæœåˆ†ä¸ºä¸‰ç±»ï¼šå¯è§æ€§æ§åˆ¶ï¼ˆå†³å®šå“ªäº›åƒç´ å¯è§ï¼‰ã€æ··åˆæ¨¡å¼ï¼ˆæ§åˆ¶åƒç´ å¦‚ä½•ä¸å…¶ä»–å†…å®¹åˆæˆï¼‰ã€åå¤„ç†æ•ˆæœï¼ˆå¯¹å·²æ¸²æŸ“çš„åƒç´ è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼ŒåŒ…æ‹¬é¢œè‰²å˜æ¢å’Œç©ºé—´å·ç§¯ï¼‰ã€‚</p>
<h4 data-id="heading-6">å¯è§æ€§æ§åˆ¶</h4>
<p>å¯è§æ€§æ§åˆ¶å†³å®šæ¸²æŸ“å•å…ƒçš„å“ªäº›åƒç´ æœ€ç»ˆå¯è§ã€‚å®ƒä¸æ”¹å˜åƒç´ çš„é¢œè‰²ï¼Œåªæ”¹å˜åƒç´ çš„å¯è§çŠ¶æ€ã€‚</p>
<p><strong>Opacityï¼ˆé€æ˜åº¦ï¼‰</strong></p>
<p>Opacity æ˜¯æœ€ç®€å•çš„å¯è§æ€§æ§åˆ¶ï¼Œé€šè¿‡ç¼©æ”¾åƒç´ çš„ Alpha é€šé“å®ç°ï¼š</p>
<pre><code class="hljs language-css" lang="css">result<span class="hljs-selector-class">.rgba</span> = (<span class="hljs-attribute">src</span><span class="hljs-selector-class">.r</span>, <span class="hljs-attribute">src</span><span class="hljs-selector-class">.g</span>, <span class="hljs-attribute">src</span><span class="hljs-selector-class">.b</span>, <span class="hljs-attribute">src</span><span class="hljs-selector-class">.a</span> Ã— <span class="hljs-attribute">opacity</span>)
</code></pre>
<p>Opacity æ˜¯è¿ç»­å€¼ï¼ˆ0-1ï¼‰ï¼Œæ”¯æŒåŠé€æ˜æ•ˆæœã€‚å®ƒä½œç”¨äºæ•´ä¸ªæ¸²æŸ“å•å…ƒï¼Œæ‰€æœ‰åƒç´ çš„é€æ˜åº¦ç»Ÿä¸€ç¼©æ”¾ã€‚</p>
<p><strong>Clipï¼ˆè£å‰ªï¼‰</strong></p>
<p>Clip é€šè¿‡å‡ ä½•è¾¹ç•Œè£å‰ªæ¸²æŸ“å•å…ƒï¼Œè¾¹ç•Œå¤–çš„åƒç´ å®Œå…¨ä¸å¯è§ã€‚è£å‰ªæ˜¯ç¡¬è¾¹ç•Œï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">if</span> (x, y) åœ¨è£å‰ªåŒºåŸŸå†…:
    ä¿ç•™åƒç´ 
<span class="hljs-keyword">else</span>:
    ä¸¢å¼ƒåƒç´ 
</code></pre>
<p>è£å‰ªåŒºåŸŸå¯ä»¥æ˜¯çŸ©å½¢ã€è·¯å¾„ã€æˆ–å¤šä¸ªè£å‰ªåŒºåŸŸçš„å¸ƒå°”è¿ç®—ç»“æœã€‚</p>
<p><strong>Maskï¼ˆé®ç½©ï¼‰</strong></p>
<p>Mask ä½¿ç”¨å¦ä¸€ä¸ªæ¸²æŸ“å•å…ƒçš„ Alpha é€šé“æ§åˆ¶å¯è§æ€§ã€‚ä¸ Clip çš„ç¡¬è¾¹ç•Œä¸åŒï¼ŒMask æ”¯æŒå¹³æ»‘çš„é€æ˜åº¦è¿‡æ¸¡ï¼š</p>
<pre><code class="hljs language-css" lang="css">result<span class="hljs-selector-class">.rgba</span> = (<span class="hljs-attribute">src</span><span class="hljs-selector-class">.r</span>, <span class="hljs-attribute">src</span><span class="hljs-selector-class">.g</span>, <span class="hljs-attribute">src</span><span class="hljs-selector-class">.b</span>, <span class="hljs-attribute">src</span><span class="hljs-selector-class">.a</span> Ã— <span class="hljs-attribute">mask</span><span class="hljs-selector-class">.a</span>)
</code></pre>
<p>Mask çš„æ¯ä¸ªåƒç´ æä¾›ä¸€ä¸ªé€æ˜åº¦ç³»æ•°ï¼Œä½¿å¾—è¾¹ç¼˜å¯ä»¥å¹³æ»‘è¿‡æ¸¡ï¼ˆæŠ—é”¯é½¿ã€æ¸å˜è¾¹ç¼˜ï¼‰ã€‚</p>
<p><strong>ä¸‰è€…çš„å¯¹æ¯”</strong></p>





























<table><thead><tr><th>æ•ˆæœ</th><th>è¾¹ç•Œç±»å‹</th><th>é€æ˜åº¦</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Opacity</td><td>æ— è¾¹ç•Œ</td><td>å…¨å±€ç»Ÿä¸€</td><td>æ·¡å…¥æ·¡å‡ºåŠ¨ç”»</td></tr><tr><td>Clip</td><td>ç¡¬è¾¹ç•Œ</td><td>äºŒå€¼ï¼ˆå¯è§/ä¸å¯è§ï¼‰</td><td>å®¹å™¨è£å‰ªã€æ»šåŠ¨åŒºåŸŸ</td></tr><tr><td>Mask</td><td>è½¯è¾¹ç•Œ</td><td>é€åƒç´ å¯å˜</td><td>å¤æ‚å½¢çŠ¶è£å‰ªã€æ¸å˜è¿‡æ¸¡</td></tr></tbody></table>
<h4 data-id="heading-7">æ··åˆæ¨¡å¼</h4>
<p>æ··åˆæ¨¡å¼(Blend Mode)å®šä¹‰åƒç´ å¦‚ä½•ä¸èƒŒæ™¯åˆæˆã€‚å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼š<code>f(src, dst) â†’ result</code>ï¼Œsrc æ˜¯å½“å‰æ¸²æŸ“å•å…ƒçš„åƒç´ ï¼Œdst æ˜¯èƒŒæ™¯åƒç´ ã€‚</p>
<p><strong>Porter-Duff åˆæˆ</strong></p>
<p>Porter-Duff æ˜¯åŸºç¡€çš„ Alpha åˆæˆç®—æ³•ï¼Œå®šä¹‰äº†å¦‚ä½•æ ¹æ® Alpha å€¼æ··åˆé¢œè‰²ï¼š</p>
<pre><code class="hljs language-css" lang="css">result = <span class="hljs-attribute">src</span><span class="hljs-selector-class">.color</span> Ã— <span class="hljs-attribute">src</span><span class="hljs-selector-class">.alpha</span> + dst<span class="hljs-selector-class">.color</span> Ã— (<span class="hljs-number">1</span> - <span class="hljs-attribute">src</span><span class="hljs-selector-class">.alpha</span>)
</code></pre>
<p>è¿™æ˜¯é»˜è®¤çš„ SrcOver æ¨¡å¼ï¼Œæ–°å†…å®¹è¦†ç›–åœ¨èƒŒæ™¯ä¸Šæ–¹ã€‚</p>
<p><strong>æ‰©å±•æ··åˆæ¨¡å¼</strong></p>
<p>æ‰©å±•æ··åˆæ¨¡å¼å¯¹é¢œè‰²é€šé“åº”ç”¨æ•°å­¦è¿ç®—ï¼š</p>
<ul>
<li><strong>Multiplyï¼ˆæ­£ç‰‡å åº•ï¼‰</strong>ï¼š<code>result = src Ã— dst</code>ï¼Œé¢œè‰²å˜æš—</li>
<li><strong>Screenï¼ˆæ»¤è‰²ï¼‰</strong>ï¼š<code>result = 1 - (1 - src) Ã— (1 - dst)</code>ï¼Œé¢œè‰²å˜äº®</li>
<li><strong>Overlayï¼ˆå åŠ ï¼‰</strong>ï¼šæ ¹æ®èƒŒæ™¯äº®åº¦é€‰æ‹© Multiply æˆ– Screen</li>
<li><strong>Darken/Lighten</strong>ï¼šé€‰æ‹©è¾ƒæš—/è¾ƒäº®çš„é¢œè‰²</li>
</ul>
<p>æ··åˆæ¨¡å¼çš„æœ¬è´¨æ˜¯å®šä¹‰é¢œè‰²ç©ºé—´ä¸­çš„æ··åˆå‡½æ•°ã€‚ä¸åŒæ¨¡å¼äº§ç”Ÿä¸åŒçš„è§†è§‰æ•ˆæœï¼ˆå˜æš—ã€å˜äº®ã€å¯¹æ¯”ã€é¢œè‰²è°ƒæ•´ç­‰ï¼‰ã€‚</p>
<h4 data-id="heading-8">åå¤„ç†æ•ˆæœ</h4>
<p>åå¤„ç†æ•ˆæœå¯¹å·²æ¸²æŸ“çš„åƒç´ è¿›è¡Œå˜æ¢ï¼Œåˆ†ä¸ºé¢œè‰²åŸŸå˜æ¢å’Œç©ºé—´åŸŸå˜æ¢ã€‚</p>
<p><strong>é¢œè‰²åŸŸå˜æ¢</strong></p>
<p>é¢œè‰²åŸŸå˜æ¢å¯¹æ¯ä¸ªåƒç´ ç‹¬ç«‹å¤„ç†ï¼Œä¸è€ƒè™‘å‘¨å›´åƒç´ ã€‚å®ƒæ˜¯åƒç´ çº§å‡½æ•°ï¼š<code>f(color) â†’ color</code>ã€‚</p>
<p>å¸¸è§çš„é¢œè‰²å˜æ¢ï¼š</p>
<ul>
<li><strong>äº®åº¦(Brightness)</strong>ï¼šç¼©æ”¾ RGB å€¼</li>
<li><strong>å¯¹æ¯”åº¦(Contrast)</strong>ï¼šæ‹‰ä¼¸æˆ–å‹ç¼©é¢œè‰²èŒƒå›´</li>
<li><strong>é¥±å’Œåº¦(Saturation)</strong>ï¼šåœ¨ HSL ç©ºé—´è°ƒæ•´é¥±å’Œåº¦åˆ†é‡</li>
<li><strong>è‰²ç›¸æ—‹è½¬(Hue Rotation)</strong>ï¼šåœ¨ HSL ç©ºé—´æ—‹è½¬è‰²ç›¸</li>
<li><strong>åè‰²(Invert)</strong>ï¼š<code>result = 1 - color</code></li>
</ul>
<p>è¿™äº›å˜æ¢å¯ä»¥è¡¨ç¤ºä¸ºé¢œè‰²çŸ©é˜µæˆ–æŸ¥æ‰¾è¡¨(LUT)ã€‚</p>
<p><strong>ç©ºé—´åŸŸå˜æ¢</strong></p>
<p>ç©ºé—´åŸŸå˜æ¢éœ€è¦è¯»å–å‘¨å›´åƒç´ ï¼Œæ˜¯å·ç§¯è¿ç®—ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">result</span>(x, y) = Î£ <span class="hljs-built_in">kernel</span>(i, j) Ã— <span class="hljs-attribute">src</span>(x + i, y + j)
</code></pre>
<p><strong>æ¨¡ç³Š(Blur)</strong>ï¼š</p>
<p>æ¨¡ç³Šæ˜¯ç©ºé—´åŸŸå˜æ¢çš„å…¸å‹åº”ç”¨ã€‚é«˜æ–¯æ¨¡ç³Šä½¿ç”¨é«˜æ–¯å‡½æ•°ä½œä¸ºå·ç§¯æ ¸ï¼Œå¯¹å‘¨å›´åƒç´ åŠ æƒå¹³å‡ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">kernel</span>(x, y) = <span class="hljs-built_in">exp</span>(-(xÂ² + yÂ²) / (<span class="hljs-number">2</span>ÏƒÂ²))
</code></pre>
<p>æ¨¡ç³ŠåŠå¾„(radius)æ§åˆ¶å·ç§¯æ ¸çš„å¤§å°ï¼ŒåŠå¾„è¶Šå¤§æ¨¡ç³Šè¶Šå¼ºã€‚</p>
<h4 data-id="heading-9">ç»¼åˆæ¸²æŸ“æ•ˆæœ</h4>
<p>å¤æ‚çš„è§†è§‰æ•ˆæœç”±å¤šç§æ¸²æŸ“æ•ˆæœç»„åˆå®ç°ï¼Œå¹¶ä¸”æ¶‰åŠå¤šä¸ªæ¸²æŸ“å•å…ƒçš„åä½œã€‚</p>
<p><strong>å¤–é˜´å½±(Drop Shadow)</strong></p>
<p>å¤–é˜´å½±æ¶‰åŠçš„æ¸²æŸ“å•å…ƒæ˜¯å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼ˆä¸åŒ…æ‹¬å·²æœ‰çš„æ¨¡ç³Šç­‰æ•ˆæœï¼‰ã€‚æ¸²æŸ“æ•ˆæœçš„ç»„åˆåŒ…æ‹¬ï¼šåç§»ã€æ¨¡ç³Šã€Clipã€‚</p>
<p><strong>å†…é˜´å½±(Inner Shadow)</strong></p>
<p>å†…é˜´å½±æ¶‰åŠçš„æ¸²æŸ“å•å…ƒæ˜¯å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼ˆä¸åŒ…æ‹¬å·²æœ‰çš„æ¨¡ç³Šç­‰æ•ˆæœï¼‰ã€‚æ¸²æŸ“æ•ˆæœçš„ç»„åˆåŒ…æ‹¬ï¼šåç§»ã€æ¨¡ç³Šã€Clipã€‚</p>
<p><strong>èƒŒæ™¯æ¨¡ç³Š(Backdrop Blur)</strong></p>
<p>èƒŒæ™¯æ¨¡ç³Šæ¶‰åŠçš„æ¸²æŸ“å•å…ƒæ˜¯ä¹‹å‰æ¸²æŸ“çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬å…„å¼ŸèŠ‚ç‚¹ã€çˆ¶èŠ‚ç‚¹çš„èƒŒæ™¯ç­‰ï¼‰ã€‚æ¸²æŸ“æ•ˆæœçš„ç»„åˆåŒ…æ‹¬ï¼šæ¨¡ç³Šã€Clipã€‚</p>
<h4 data-id="heading-10">å°ç»“</h4>
<p>æ¸²æŸ“æ•ˆæœæ‰©å±•äº†æ¸²æŸ“å•å…ƒçš„è§†è§‰èƒ½åŠ›ã€‚å¯è§æ€§æ§åˆ¶å†³å®šåƒç´ æ˜¯å¦å¯è§ï¼Œæ··åˆæ¨¡å¼å†³å®šåƒç´ å¦‚ä½•ä¸èƒŒæ™¯åˆæˆï¼Œåå¤„ç†æ•ˆæœå¯¹åƒç´ è¿›è¡Œæ•°å­¦å˜æ¢ã€‚è¿™äº›æ•ˆæœç»„åˆä½¿ç”¨ï¼Œæ„æˆä¸°å¯Œçš„è§†è§‰è¡¨ç°ã€‚</p>
<h3 data-id="heading-11">è‡ªåŠ¨å¸ƒå±€</h3>
<p>å˜æ¢(Transform)å®šä¹‰æ¸²æŸ“å•å…ƒåœ¨ç©ºé—´ä¸­çš„ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ã€‚å˜æ¢ä½¿ç”¨çŸ©é˜µè¡¨ç¤ºï¼ŒåŒ…å«å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ç­‰æ“ä½œã€‚æ¸²æŸ“æ—¶ï¼Œæ¸²æŸ“å•å…ƒåº”ç”¨å˜æ¢çŸ©é˜µç¡®å®šæœ€ç»ˆçš„å±å¹•åæ ‡ã€‚</p>
<p>è‡ªåŠ¨å¸ƒå±€(Auto Layout)æ ¹æ®çº¦æŸè§„åˆ™è‡ªåŠ¨è®¡ç®—æ¸²æŸ“å•å…ƒçš„å˜æ¢ã€‚æ‰‹åŠ¨è®¾ç½®å˜æ¢éœ€è¦æ˜¾å¼æŒ‡å®šæ¯ä¸ªæ¸²æŸ“å•å…ƒçš„ä½ç½®å’Œå°ºå¯¸ï¼Œè€Œè‡ªåŠ¨å¸ƒå±€é€šè¿‡å£°æ˜å…ƒç´ ä¹‹é—´çš„å…³ç³»ï¼ˆå¦‚"æ°´å¹³æ’åˆ—"ã€"å¡«å……çˆ¶å®¹å™¨"ï¼‰ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—å˜æ¢çŸ©é˜µã€‚è‡ªåŠ¨å¸ƒå±€çš„æœ¬è´¨æ˜¯ï¼šå°†ç©ºé—´å…³ç³»çš„å£°æ˜è½¬æ¢ä¸ºå˜æ¢çŸ©é˜µçš„è®¡ç®—ã€‚</p>
<h4 data-id="heading-12">ä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨å¸ƒå±€</h4>
<p><strong>é—®é¢˜ï¼šæ‰‹åŠ¨ç®¡ç†å˜æ¢çš„å¤æ‚æ€§</strong></p>
<p>å¤æ‚ç•Œé¢åŒ…å«æ•°ç™¾ä¸ªæ¸²æŸ“å•å…ƒï¼Œæ‰‹åŠ¨ä¸ºæ¯ä¸ªå•å…ƒè®¾ç½®å˜æ¢æˆæœ¬é«˜æ˜‚ï¼š</p>
<ul>
<li>æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´å…¶ä»–å…ƒç´ çš„å˜æ¢</li>
<li>å†…å®¹å¤§å°æ”¹å˜ï¼ˆå¦‚æ–‡æœ¬å˜é•¿ï¼‰ï¼Œéœ€è¦é‡æ–°è®¡ç®—å‘¨å›´å…ƒç´ çš„ä½ç½®</li>
<li>å“åº”ä¸åŒå±å¹•å°ºå¯¸ï¼Œéœ€è¦ä¸ºæ¯ä¸ªå°ºå¯¸æ‰‹åŠ¨è°ƒæ•´æ‰€æœ‰å˜æ¢</li>
</ul>
<p>è‡ªåŠ¨å¸ƒå±€çš„ç›®æ ‡æ˜¯ï¼šå£°æ˜å…ƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨ç»´æŠ¤å˜æ¢ã€‚</p>
<h4 data-id="heading-13">å¸ƒå±€çº¦æŸ</h4>
<p>å¸ƒå±€çº¦æŸ(Layout Constraints)å®šä¹‰å…ƒç´ ä¹‹é—´çš„ç©ºé—´å…³ç³»ã€‚å¸¸è§çš„çº¦æŸç±»å‹ï¼š</p>
<ul>
<li><strong>çº¿æ€§æ’åˆ—</strong>ï¼šå­å…ƒç´ æŒ‰è¡Œæˆ–åˆ—æ’åˆ—ï¼Œé—´è·å›ºå®šæˆ–è‡ªé€‚åº”</li>
<li><strong>ç›¸å¯¹å®šä½</strong>ï¼šå…ƒç´ ç›¸å¯¹çˆ¶å®¹å™¨æˆ–å…„å¼Ÿå…ƒç´ å®šä½ï¼ˆå¦‚"å±…ä¸­"ã€"è·ç¦»è¾¹ç¼˜ 10px"ï¼‰</li>
<li><strong>å°ºå¯¸çº¦æŸ</strong>ï¼šå…ƒç´ çš„å°ºå¯¸å¡«å……çˆ¶å®¹å™¨ã€æŒ‰æ¯”ä¾‹åˆ†é…ã€æˆ–å›ºå®šå¤§å°</li>
<li><strong>å¯¹é½çº¦æŸ</strong>ï¼šå…ƒç´ çš„è¾¹ç¼˜æˆ–ä¸­å¿ƒå¯¹é½</li>
</ul>
<p>çº¦æŸæ˜¯å£°æ˜å¼çš„ï¼Œæè¿°"åº”è¯¥æ˜¯ä»€ä¹ˆæ ·"è€Œé"å¦‚ä½•å®ç°"ã€‚</p>
<h4 data-id="heading-14">å¸ƒå±€è®¡ç®—</h4>
<p>å¸ƒå±€è®¡ç®—å°†çº¦æŸè½¬æ¢ä¸ºå˜æ¢çŸ©é˜µã€‚å¸ƒå±€ç³»ç»Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="hljs">è¾“å…¥ï¼šå¸ƒå±€çº¦æŸ + å†…å®¹å›ºæœ‰å°ºå¯¸
è¾“å‡ºï¼šæ¯ä¸ªæ¸²æŸ“å•å…ƒçš„å˜æ¢çŸ©é˜µ
</code></pre>
<p><strong>å›ºæœ‰å°ºå¯¸(Intrinsic Size)</strong></p>
<p>æŸäº›å…ƒç´ çš„å¤§å°ç”±å†…å®¹å†³å®šï¼š</p>
<ul>
<li><strong>æ–‡æœ¬</strong>ï¼šç”±å­—ç¬¦æ•°é‡ã€å­—ä½“ã€æ¢è¡Œå†³å®š</li>
<li><strong>å›¾åƒ</strong>ï¼šç”±å›¾åƒçš„åŸå§‹åˆ†è¾¨ç‡å†³å®š</li>
<li><strong>å®¹å™¨</strong>ï¼šå¯èƒ½ç”±å­å…ƒç´ çš„æ€»å°ºå¯¸å†³å®š</li>
</ul>
<p>å¸ƒå±€è®¡ç®—éœ€è¦è¿™äº›å›ºæœ‰å°ºå¯¸ä½œä¸ºè¾“å…¥ã€‚</p>
<p><strong>è®¡ç®—æ–¹å‘</strong></p>
<p>å¸ƒå±€è®¡ç®—å¯ä»¥æ˜¯è‡ªä¸Šè€Œä¸‹æˆ–è‡ªä¸‹è€Œä¸Šï¼Œå–å†³äºçº¦æŸçš„ç±»å‹ï¼š</p>
<p><strong>è‡ªä¸Šè€Œä¸‹</strong>ï¼šçˆ¶å®¹å™¨å†³å®šå­å…ƒç´ çš„å°ºå¯¸å’Œä½ç½®ã€‚çˆ¶å®¹å™¨å…ˆç¡®å®šè‡ªå·±çš„å°ºå¯¸ï¼ˆå¦‚å›ºå®šå®½åº¦æˆ–å¡«å……å±å¹•ï¼‰ï¼Œç„¶åå°†ç©ºé—´åˆ†é…ç»™å­å…ƒç´ ã€‚å­å…ƒç´ çš„å°ºå¯¸ç”±çˆ¶å®¹å™¨åˆ†é…çš„ç©ºé—´å†³å®šã€‚</p>
<pre><code class="hljs language-css" lang="css">çˆ¶å®¹å™¨ï¼ˆå›ºå®š <span class="hljs-number">400px</span>ï¼‰
  â†’ å­å…ƒç´  <span class="hljs-selector-tag">A</span>ï¼ˆåˆ†é… <span class="hljs-number">200px</span>ï¼‰
  â†’ å­å…ƒç´  <span class="hljs-selector-tag">B</span>ï¼ˆåˆ†é… <span class="hljs-number">200px</span>ï¼‰
</code></pre>
<p><strong>è‡ªä¸‹è€Œä¸Š</strong>ï¼šçˆ¶å®¹å™¨çš„å°ºå¯¸ç”±å­å…ƒç´ å†³å®šã€‚å­å…ƒç´ å…ˆæ ¹æ®å†…å®¹ç¡®å®šè‡ªå·±çš„å›ºæœ‰å°ºå¯¸ï¼Œçˆ¶å®¹å™¨æ ¹æ®å­å…ƒç´ çš„å°ºå¯¸è®¡ç®—è‡ªå·±çš„å°ºå¯¸ã€‚</p>
<pre><code class="hljs language-css" lang="css">å­å…ƒç´  <span class="hljs-selector-tag">A</span>ï¼ˆå›ºæœ‰å°ºå¯¸ <span class="hljs-number">150px</span>ï¼‰
å­å…ƒç´  <span class="hljs-selector-tag">B</span>ï¼ˆå›ºæœ‰å°ºå¯¸ <span class="hljs-number">200px</span>ï¼‰
  â†’ çˆ¶å®¹å™¨ï¼ˆ<span class="hljs-number">350px</span>ï¼Œé€‚åº”å­å…ƒç´ ï¼‰
</code></pre>
<p><strong>åŒå‘ä¼ é€’</strong>ï¼šå¾ˆå¤šå¸ƒå±€ç³»ç»Ÿéœ€è¦åŒå‘ä¼ é€’ä¿¡æ¯ã€‚ç¬¬ä¸€éè‡ªä¸‹è€Œä¸Šæ”¶é›†å›ºæœ‰å°ºå¯¸ï¼Œç¬¬äºŒéè‡ªä¸Šè€Œä¸‹åˆ†é…ç©ºé—´å’Œè®¡ç®—ä½ç½®ã€‚</p>
<h4 data-id="heading-15">å¸ƒå±€ä¸å˜æ¢çš„å…³ç³»</h4>
<p>è‡ªåŠ¨å¸ƒå±€è®¡ç®—çš„å˜æ¢çŸ©é˜µä¸æ‰‹åŠ¨è®¾ç½®çš„å˜æ¢åœ¨æ¸²æŸ“æ—¶å¤„ç†æ–¹å¼ç›¸åŒã€‚åŒºåˆ«åœ¨äºå˜æ¢çš„æ¥æºï¼š</p>
<ul>
<li><strong>å¸ƒå±€å˜æ¢</strong>ï¼šç”±å¸ƒå±€ç³»ç»Ÿæ ¹æ®çº¦æŸè‡ªåŠ¨è®¡ç®—</li>
<li><strong>æ‰‹åŠ¨å˜æ¢</strong>ï¼šæ˜¾å¼è®¾ç½®ï¼ˆå¦‚ç”¨æˆ·æ‹–æ‹½ã€åŠ¨ç”»åç§»ï¼‰</li>
</ul>
<p>ä¸¤è€…å¯ä»¥å åŠ ï¼Œæœ€ç»ˆçš„æ¸²æŸ“å˜æ¢æ˜¯ç»„åˆç»“æœï¼š</p>
<pre><code class="hljs">æœ€ç»ˆå˜æ¢ = æ‰‹åŠ¨å˜æ¢ Ã— å¸ƒå±€å˜æ¢
</code></pre>
<p>ä¾‹å¦‚ï¼Œå¸ƒå±€ç¡®å®šå…ƒç´ çš„åŸºç¡€ä½ç½®ï¼ŒåŠ¨ç”»åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ åç§»ã€‚</p>
<h4 data-id="heading-16">å¸ƒå±€æ›´æ–°</h4>
<p>å½“çº¦æŸæˆ–å›ºæœ‰å°ºå¯¸æ”¹å˜æ—¶ï¼Œå¸ƒå±€éœ€è¦é‡æ–°è®¡ç®—ã€‚è§¦å‘å¸ƒå±€æ›´æ–°çš„æƒ…å†µï¼š</p>
<ul>
<li>æ·»åŠ ã€åˆ é™¤ã€æˆ–é‡æ–°æ’åºå…ƒç´ </li>
<li>å…ƒç´ çš„å›ºæœ‰å°ºå¯¸æ”¹å˜ï¼ˆå¦‚æ–‡æœ¬å†…å®¹å˜åŒ–ã€å›¾åƒåŠ è½½å®Œæˆï¼‰</li>
<li>å¸ƒå±€çº¦æŸæ”¹å˜ï¼ˆå¦‚æ”¹å˜æ’åˆ—æ–¹å‘ã€é—´è·ï¼‰</li>
<li>çˆ¶å®¹å™¨çš„å¯ç”¨ç©ºé—´æ”¹å˜ï¼ˆå¦‚çª—å£è°ƒæ•´å¤§å°ï¼‰</li>
</ul>
<p>å¸ƒå±€æ›´æ–°å¯ä»¥æ˜¯å±€éƒ¨çš„ï¼šåªé‡æ–°è®¡ç®—å—å½±å“çš„å­æ ‘ï¼Œæœªæ”¹å˜çš„éƒ¨åˆ†å¤ç”¨ä¹‹å‰çš„è®¡ç®—ç»“æœã€‚</p>
<h4 data-id="heading-17">å°ç»“</h4>
<p>è‡ªåŠ¨å¸ƒå±€é€šè¿‡çº¦æŸå£°æ˜ç©ºé—´å…³ç³»ï¼Œè‡ªåŠ¨è®¡ç®—å˜æ¢çŸ©é˜µã€‚å¸ƒå±€è®¡ç®—çš„è¾“å…¥æ˜¯çº¦æŸå’Œå›ºæœ‰å°ºå¯¸ï¼Œè¾“å‡ºæ˜¯å˜æ¢çŸ©é˜µã€‚å¸ƒå±€è®¡ç®—å¯ä»¥æ˜¯è‡ªä¸Šè€Œä¸‹ï¼ˆçˆ¶å®¹å™¨å†³å®šå­å…ƒç´ å°ºå¯¸ï¼‰æˆ–è‡ªä¸‹è€Œä¸Šï¼ˆå­å…ƒç´ å†³å®šçˆ¶å®¹å™¨å°ºå¯¸ï¼‰ï¼Œæˆ–åŒå‘ä¼ é€’ã€‚å¸ƒå±€å˜æ¢ä¸æ‰‹åŠ¨å˜æ¢å¯ä»¥å åŠ ï¼Œå…±åŒå†³å®šæ¸²æŸ“å•å…ƒçš„æœ€ç»ˆä½ç½®ã€‚</p>
<h3 data-id="heading-18">æ¸²æŸ“å•å…ƒçš„ç›¸äº’å½±å“</h3>
<p>å•ä¸ªæ¸²æŸ“å•å…ƒæ— æ³•è¡¨è¾¾å¤æ‚ç”»é¢ï¼Œéœ€è¦å¤šä¸ªæ¸²æŸ“å•å…ƒç»„åˆã€‚æ¸²æŸ“å•å…ƒé€šè¿‡æ ‘ç»“æ„ç»„ç»‡ï¼Œçˆ¶å­å…³ç³»è¡¨è¾¾"åŒ…å«"å’Œ"å±‚çº§å½±å“"ã€‚æ ‘ç»“æ„ä½¿å¾—æ¸²æŸ“æ•ˆæœçš„å½±å“èŒƒå›´å¯ä»¥æ¸…æ™°å®šä¹‰ï¼šæœ‰çš„æ•ˆæœå½±å“åä»£èŠ‚ç‚¹ï¼Œæœ‰çš„æ•ˆæœä½œç”¨äºå­èŠ‚ç‚¹ä¹‹é—´ï¼Œæœ‰çš„æ•ˆæœä¾èµ–å…ˆåºæ¸²æŸ“çš„å†…å®¹ã€‚</p>
<h4 data-id="heading-19">ä¸ºä»€ä¹ˆéœ€è¦æ ‘ç»“æ„</h4>
<p><strong>é—®é¢˜ï¼šå¤šä¸ªæ¸²æŸ“å•å…ƒå¦‚ä½•ç»„ç»‡</strong></p>
<p>å¤æ‚ç”»é¢åŒ…å«æ•°ç™¾ä¸ªæ¸²æŸ“å•å…ƒã€‚è¿™äº›å•å…ƒå¦‚ä½•å…³è”ï¼Ÿä¸¤ç§å¯èƒ½çš„ç»„ç»‡æ–¹å¼ï¼š</p>
<ol>
<li><strong>å¹³é“ºåˆ—è¡¨</strong>ï¼šæ‰€æœ‰æ¸²æŸ“å•å…ƒæŒ‰é¡ºåºæ’åˆ—ï¼Œä¾æ¬¡æ¸²æŸ“</li>
<li><strong>æ ‘å½¢ç»“æ„</strong>ï¼šæ¸²æŸ“å•å…ƒå½¢æˆçˆ¶å­å±‚çº§ï¼Œé€’å½’æ¸²æŸ“</li>
</ol>
<p>å¹³é“ºåˆ—è¡¨çš„é—®é¢˜ï¼šæ— æ³•è¡¨è¾¾"åŒ…å«"å…³ç³»ã€‚ä¸€ä¸ªå®¹å™¨åŒ…å«ä¸‰ä¸ªå­å…ƒç´ ï¼Œå®¹å™¨çš„å˜æ¢åº”è¯¥å½±å“æ‰€æœ‰å­å…ƒç´ ï¼Œä½†åœ¨å¹³é“ºåˆ—è¡¨ä¸­æ— æ³•è¡¨è¾¾è¿™ç§å½±å“ã€‚</p>
<p><strong>æ ‘ç»“æ„çš„æ ¸å¿ƒèƒ½åŠ›ï¼šç»§æ‰¿</strong></p>
<p>æ ‘ç»“æ„ä½¿å¾—çˆ¶èŠ‚ç‚¹çš„æŸäº›å±æ€§å¯ä»¥å½±å“å­èŠ‚ç‚¹ï¼Œè¿™ç§å½±å“ç§°ä¸ºç»§æ‰¿ã€‚ç»§æ‰¿åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li><strong>ç´¯ç§¯ç»§æ‰¿</strong>ï¼šå­èŠ‚ç‚¹ç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„ç´¯ç§¯ç»“æœï¼ˆå¦‚å˜æ¢çŸ©é˜µï¼‰</li>
<li><strong>è°ƒåˆ¶ç»§æ‰¿</strong>ï¼šçˆ¶èŠ‚ç‚¹çš„å±æ€§è°ƒåˆ¶å­èŠ‚ç‚¹çš„æ¸²æŸ“ç»“æœï¼ˆå¦‚é€æ˜åº¦ï¼‰</li>
</ul>
<p>æ ‘ç»“æ„æ˜¯è¡¨è¾¾ç»§æ‰¿çš„è‡ªç„¶æ–¹å¼ï¼šéå†æ—¶ï¼Œçˆ¶èŠ‚ç‚¹çš„çŠ¶æ€è‡ªåŠ¨ä¼ é€’ç»™å­èŠ‚ç‚¹ã€‚</p>
<h4 data-id="heading-20">æ¸²æŸ“æ•ˆæœçš„å½±å“èŒƒå›´</h4>
<p>ä¸åŒæ¸²æŸ“æ•ˆæœä½œç”¨äºæ ‘çš„ä¸åŒéƒ¨åˆ†ï¼Œå†³å®šäº†å®ƒä»¬"å½±å“è°"ã€‚</p>
<p><strong>åä»£çº§åˆ«ï¼šå½±å“æ‰€æœ‰å­å­™èŠ‚ç‚¹</strong></p>
<p>è¿™ç±»æ•ˆæœä½œç”¨äºèŠ‚ç‚¹åŠå…¶æ‰€æœ‰åä»£ï¼Œå½¢æˆ"æ•´ä½“æ•ˆæœ"ã€‚</p>
<p><strong>å˜æ¢(Transform)</strong></p>
<p>å˜æ¢æ˜¯ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾çš„ä»¿å°„å˜æ¢ï¼Œä½¿ç”¨çŸ©é˜µè¡¨ç¤ºã€‚å˜æ¢æ˜¯ç´¯ç§¯ç»§æ‰¿ï¼š</p>
<pre><code class="hljs">å­èŠ‚ç‚¹çš„ä¸–ç•Œåæ ‡å˜æ¢ = çˆ¶èŠ‚ç‚¹å˜æ¢ Ã— å­èŠ‚ç‚¹ç›¸å¯¹å˜æ¢
</code></pre>
<p>é€’å½’ç´¯ç§¯ä½¿å¾—å˜æ¢å¯ä»¥ä¼ é€’åˆ°ä»»æ„æ·±åº¦çš„å­å­™èŠ‚ç‚¹ã€‚</p>
<p><strong>é€æ˜åº¦(Opacity)</strong></p>
<p>é€æ˜åº¦æ˜¯è°ƒåˆ¶ç»§æ‰¿ã€‚çˆ¶èŠ‚ç‚¹çš„é€æ˜åº¦ä¸å­èŠ‚ç‚¹çš„é€æ˜åº¦ç›¸ä¹˜ï¼š</p>
<pre><code class="hljs">å­èŠ‚ç‚¹çš„æœ€ç»ˆé€æ˜åº¦ = çˆ¶èŠ‚ç‚¹é€æ˜åº¦ Ã— å­èŠ‚ç‚¹é€æ˜åº¦
</code></pre>
<p>é€æ˜åº¦ä¸º 0 çš„èŠ‚ç‚¹ï¼Œå…¶æ‰€æœ‰åä»£éƒ½ä¸å¯è§ã€‚</p>
<p><strong>å›¾å±‚æ¨¡ç³Š(Layer Blur)</strong></p>
<p>å›¾å±‚æ¨¡ç³Šå¯¹èŠ‚ç‚¹åŠå…¶æ‰€æœ‰å­èŠ‚ç‚¹çš„æ¸²æŸ“ç»“æœåº”ç”¨æ¨¡ç³Šã€‚å®ƒéœ€è¦å°†æ•´ä¸ªå­æ ‘æ¸²æŸ“åˆ°ç¦»å±çº¹ç†(Offscreen Texture)ï¼Œç„¶åå¯¹çº¹ç†åº”ç”¨æ¨¡ç³Šã€‚</p>
<p>å›¾å±‚æ¨¡ç³Šçš„å½±å“æ˜¯"æ•´ä½“æ€§"çš„ï¼šå­èŠ‚ç‚¹ä¹‹é—´ä¼šç›¸äº’æ¨¡ç³Šï¼Œè€Œä¸æ˜¯å„è‡ªç‹¬ç«‹æ¨¡ç³Šã€‚</p>
<p><strong>Children çº§åˆ«ï¼šä½œç”¨äºç›´æ¥å­èŠ‚ç‚¹æˆ–å…„å¼ŸèŠ‚ç‚¹</strong></p>
<p>è¿™ç±»æ•ˆæœåœ¨å­èŠ‚ç‚¹ä¹‹é—´äº§ç”Ÿç›¸äº’ä½œç”¨ã€‚</p>
<p><strong>è’™ç‰ˆ(Mask)</strong></p>
<p>è’™ç‰ˆä½¿ç”¨ä¸€ä¸ªèŠ‚ç‚¹çš„ Alpha é€šé“è£å‰ªå¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚å¸¸è§çš„è’™ç‰ˆå…³ç³»æ˜¯"å…„å¼ŸèŠ‚ç‚¹è’™ç‰ˆ"ï¼š</p>
<pre><code class="hljs language-css" lang="css">èŠ‚ç‚¹ <span class="hljs-selector-tag">A</span> ä½œä¸ºè’™ç‰ˆ
èŠ‚ç‚¹ <span class="hljs-selector-tag">B</span>ã€Cã€D è¢«è’™ç‰ˆè£å‰ª
</code></pre>
<p>è’™ç‰ˆçš„å½±å“èŒƒå›´æ˜¯"åç»­çš„å…„å¼ŸèŠ‚ç‚¹"ï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªè’™ç‰ˆæˆ–å®¹å™¨è¾¹ç•Œã€‚</p>
<p><strong>è·¯å¾„å¸ƒå°”è¿ç®—(Path Boolean)</strong></p>
<p>è·¯å¾„å¸ƒå°”è¿ç®—ï¼ˆå¹¶é›†ã€äº¤é›†ã€å·®é›†ï¼‰ä½œç”¨äºå¤šä¸ªå­èŠ‚ç‚¹çš„å‡ ä½•ï¼Œç”Ÿæˆæ–°çš„å‡ ä½•ã€‚å®ƒéœ€è¦æ”¶é›†å¤šä¸ªå­èŠ‚ç‚¹çš„ Shapeï¼Œè®¡ç®—å¸ƒå°”è¿ç®—ç»“æœã€‚</p>
<p>å¸ƒå°”è¿ç®—çš„å½±å“èŒƒå›´æ˜¯"å‚ä¸è¿ç®—çš„å­èŠ‚ç‚¹"ã€‚</p>
<p><strong>å…ˆåºçº§åˆ«ï¼šä¾èµ–ä¹‹å‰æ¸²æŸ“çš„å†…å®¹</strong></p>
<p>è¿™ç±»æ•ˆæœéœ€è¦"å›æº¯"åˆ°ä¹‹å‰çš„æ¸²æŸ“ç»“æœï¼Œä¾èµ–æ¸²æŸ“é¡ºåºã€‚</p>
<p><strong>èƒŒæ™¯æ¨¡ç³Š(Backdrop Blur)</strong></p>
<p>èƒŒæ™¯æ¨¡ç³Šå¯¹èŠ‚ç‚¹èƒŒåçš„å†…å®¹åº”ç”¨æ¨¡ç³Šã€‚"èƒŒåçš„å†…å®¹"æ˜¯æŒ‡ï¼š</p>
<ul>
<li>çˆ¶èŠ‚ç‚¹çš„èƒŒæ™¯</li>
<li>ä¹‹å‰æ¸²æŸ“çš„å…„å¼ŸèŠ‚ç‚¹</li>
<li>æ›´æ—©æ¸²æŸ“çš„ç¥–å…ˆèŠ‚ç‚¹</li>
</ul>
<p>èƒŒæ™¯æ¨¡ç³Šéœ€è¦åœ¨æ¸²æŸ“å½“å‰èŠ‚ç‚¹æ—¶ï¼Œæ•è·"æˆªè‡³ç›®å‰çš„æ¸²æŸ“ç»“æœ"ï¼Œç„¶åå¯¹å…¶æ¨¡ç³Šã€‚</p>
<p><strong>æ··åˆæ¨¡å¼(Blend Mode)</strong></p>
<p>æ··åˆæ¨¡å¼å®šä¹‰å½“å‰èŠ‚ç‚¹å¦‚ä½•ä¸èƒŒæ™¯åˆæˆã€‚èƒŒæ™¯æ˜¯"å½“å‰èŠ‚ç‚¹ä¹‹å‰æ¸²æŸ“çš„æ‰€æœ‰å†…å®¹"ã€‚æ··åˆæ¨¡å¼ä¾èµ–æ¸²æŸ“é¡ºåºï¼šå…ˆæ¸²æŸ“çš„å†…å®¹ä½œä¸ºèƒŒæ™¯ï¼Œåæ¸²æŸ“çš„å†…å®¹ä½œä¸ºå‰æ™¯ã€‚</p>
<h4 data-id="heading-21">å°ç»“</h4>
<p>æ ‘ç»“æ„æ˜¯æ¸²æŸ“å•å…ƒçš„ç»„ç»‡æ–¹å¼ï¼Œä½¿å¾—ç»§æ‰¿å’Œå½±å“å…³ç³»å¯ä»¥æ¸…æ™°è¡¨è¾¾ã€‚å˜æ¢å’Œé€æ˜åº¦é€šè¿‡ç´¯ç§¯å’Œè°ƒåˆ¶å½±å“åä»£ï¼Œè’™ç‰ˆå’Œå¸ƒå°”è¿ç®—ä½œç”¨äºå­èŠ‚ç‚¹ä¹‹é—´ï¼ŒèƒŒæ™¯æ¨¡ç³Šå’Œæ··åˆæ¨¡å¼ä¾èµ–æ¸²æŸ“é¡ºåºã€‚</p>
<h3 data-id="heading-22">åˆæˆé¡ºåº</h3>
<p>åˆæˆé¡ºåºå®šä¹‰äº†æ¸²æŸ“æ•ˆæœçš„æ‰§è¡Œé¡ºåºã€‚å•ä¸ªæ¸²æŸ“å•å…ƒå¯èƒ½åŒ…å«å¤šç§æ¸²æŸ“æ•ˆæœï¼ˆFillã€Strokeã€é˜´å½±ã€æ¨¡ç³Šã€é€æ˜åº¦ç­‰ï¼‰ï¼Œè¿™äº›æ•ˆæœå¿…é¡»æŒ‰ç…§ç‰¹å®šé¡ºåºæ‰§è¡Œæ‰èƒ½äº§ç”Ÿæ­£ç¡®çš„è§†è§‰ç»“æœã€‚åˆæˆé¡ºåºçš„æœ¬è´¨æ˜¯"æ¸²æŸ“ç®¡çº¿"ï¼šæ¯ä¸ªé˜¶æ®µå¤„ç†ç‰¹å®šçš„æ•ˆæœï¼Œé˜¶æ®µä¹‹é—´æœ‰æ˜ç¡®çš„ä¾èµ–å…³ç³»ã€‚</p>
<h4 data-id="heading-23">ä¸ºä»€ä¹ˆéœ€è¦åˆæˆé¡ºåº</h4>
<p><strong>é—®é¢˜ï¼šæ•ˆæœçš„é¡ºåºå½±å“ç»“æœ</strong></p>
<p>å‡è®¾ä¸€ä¸ªæ¸²æŸ“å•å…ƒåŒ…å« Fill å’Œ Drop Shadowï¼Œä¸¤ç§æ‰§è¡Œé¡ºåºä¼šäº§ç”Ÿä¸åŒç»“æœï¼š</p>
<ul>
<li><strong>å…ˆ Fill å Shadow</strong>ï¼šé˜´å½±åœ¨ Fill ä¸‹æ–¹ï¼Œç¬¦åˆç‰©ç†ç›´è§‰</li>
<li><strong>å…ˆ Shadow å Fill</strong>ï¼šFill è¦†ç›–é˜´å½±ï¼Œé˜´å½±ä¸å¯è§</li>
</ul>
<p>æ­£ç¡®çš„è§†è§‰æ•ˆæœè¦æ±‚å›ºå®šçš„æ‰§è¡Œé¡ºåºã€‚</p>
<p>å†å¦‚é€æ˜åº¦å’Œæ¨¡ç³Šçš„é¡ºåºï¼š</p>
<ul>
<li><strong>å…ˆæ¨¡ç³Šåé€æ˜åº¦</strong>ï¼šæ¨¡ç³Šä½œç”¨äºå®Œæ•´å›¾åƒï¼Œç„¶åæ•´ä½“å˜é€æ˜</li>
<li><strong>å…ˆé€æ˜åº¦åæ¨¡ç³Š</strong>ï¼šé€æ˜å›¾åƒçš„æ¨¡ç³Šä¼šæ‰©æ•£ Alphaï¼Œæ”¹å˜è½®å»“</li>
</ul>
<p>ä¸åŒé¡ºåºäº§ç”Ÿå®Œå…¨ä¸åŒçš„è§†è§‰æ•ˆæœã€‚</p>
<p><strong>ä¾èµ–å…³ç³»</strong></p>
<p>æŸäº›æ•ˆæœä¾èµ–å…¶ä»–æ•ˆæœçš„ç»“æœï¼š</p>
<ul>
<li><strong>èƒŒæ™¯æ¨¡ç³Šä¾èµ–èƒŒæ™¯å†…å®¹</strong>ï¼šå¿…é¡»å…ˆæ¸²æŸ“èƒŒæ™¯ï¼Œæ‰èƒ½å¯¹å…¶æ¨¡ç³Š</li>
<li><strong>å†…é˜´å½±ä¾èµ– Fill</strong>ï¼šéœ€è¦ Fill çš„è½®å»“ä½œä¸ºè£å‰ªè¾¹ç•Œ</li>
<li><strong>æ··åˆæ¨¡å¼ä¾èµ–èƒŒæ™¯</strong>ï¼šéœ€è¦èƒŒæ™¯åƒç´ æ‰èƒ½æ‰§è¡Œæ··åˆå‡½æ•°</li>
</ul>
<p>è¿™äº›ä¾èµ–å…³ç³»å†³å®šäº†æ•ˆæœçš„æ‰§è¡Œé¡ºåºä¸èƒ½ä»»æ„è°ƒæ•´ã€‚</p>
<h4 data-id="heading-24">å…¸å‹çš„åˆæˆé¡ºåº</h4>
<p>2D æ¸²æŸ“ç³»ç»Ÿé€šå¸¸é‡‡ç”¨ä»¥ä¸‹åˆæˆé¡ºåºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> å¤–é˜´å½± (Drop Shadow)
<span class="hljs-bullet">2.</span> èƒŒæ™¯æ¨¡ç³Š (Background Blur)
<span class="hljs-bullet">3.</span> å¡«å…… (Fill)
<span class="hljs-bullet">4.</span> å­èŠ‚ç‚¹ (Children)
<span class="hljs-bullet">5.</span> æè¾¹ (Stroke)
<span class="hljs-bullet">6.</span> å†…é˜´å½± (Inner Shadow)
<span class="hljs-bullet">7.</span> å›¾å±‚æ¨¡ç³Š (Layer Blur)
<span class="hljs-bullet">8.</span> é€æ˜åº¦ (Opacity)
<span class="hljs-bullet">9.</span> æ··åˆæ¨¡å¼ (Blend Mode)
</code></pre>
<p><strong>é¡ºåºçš„é€»è¾‘</strong></p>
<p>è¿™ä¸ªé¡ºåºéµå¾ªä»¥ä¸‹é€»è¾‘ï¼š</p>
<p><strong>é˜¶æ®µ 1ï¼šèƒŒæ™¯ç›¸å…³æ•ˆæœï¼ˆå¤–é˜´å½±ã€èƒŒæ™¯æ¨¡ç³Šï¼‰</strong></p>
<p>è¿™äº›æ•ˆæœéœ€è¦åœ¨å†…å®¹ç»˜åˆ¶ä¹‹å‰å‡†å¤‡èƒŒæ™¯ã€‚å¤–é˜´å½±ç»˜åˆ¶åœ¨æœ€åº•å±‚ï¼ŒèƒŒæ™¯æ¨¡ç³Šæ•è·å¹¶å¤„ç†èƒŒæ™¯ã€‚</p>
<p><strong>é˜¶æ®µ 2ï¼šå†…å®¹ç»˜åˆ¶ï¼ˆFillã€Childrenã€Strokeï¼‰</strong></p>
<p>è¿™æ˜¯æ¸²æŸ“å•å…ƒçš„æ ¸å¿ƒå†…å®¹ã€‚Fill å’Œ Stroke å®šä¹‰å‡ ä½•å’Œæ ·å¼ï¼ŒChildren é€’å½’æ¸²æŸ“å­èŠ‚ç‚¹ã€‚</p>
<p>Fill é€šå¸¸åœ¨ Children ä¹‹å‰ï¼Œä½¿å¾—å­èŠ‚ç‚¹å¯ä»¥è¦†ç›–çˆ¶èŠ‚ç‚¹çš„èƒŒæ™¯ã€‚Stroke åœ¨ Children ä¹‹åï¼Œç¡®ä¿è¾¹æ¡†ä¸è¢«å­èŠ‚ç‚¹é®æŒ¡ã€‚</p>
<p><strong>é˜¶æ®µ 3ï¼šå†…éƒ¨æ•ˆæœï¼ˆå†…é˜´å½±ï¼‰</strong></p>
<p>å†…é˜´å½±ä¾èµ– Fill å’Œ Children çš„æ¸²æŸ“ç»“æœï¼Œä½¿ç”¨å…¶è½®å»“ä½œä¸ºè¾¹ç•Œã€‚</p>
<p><strong>é˜¶æ®µ 4ï¼šæ•´ä½“åå¤„ç†ï¼ˆå›¾å±‚æ¨¡ç³Šã€é€æ˜åº¦ï¼‰</strong></p>
<p>å›¾å±‚æ¨¡ç³Šä½œç”¨äºæ•´ä¸ªæ¸²æŸ“å•å…ƒï¼ˆFill + Children + Stroke + å†…é˜´å½±ï¼‰ï¼Œäº§ç”Ÿç»Ÿä¸€çš„æ¨¡ç³Šæ•ˆæœã€‚</p>
<p>é€æ˜åº¦è°ƒåˆ¶æ•´ä¸ªæ¸²æŸ“å•å…ƒçš„ Alpha é€šé“ï¼Œæ˜¯æœ€åçš„å¯è§æ€§æ§åˆ¶ã€‚</p>
<p><strong>é˜¶æ®µ 5ï¼šåˆæˆï¼ˆæ··åˆæ¨¡å¼ï¼‰</strong></p>
<p>æ··åˆæ¨¡å¼å®šä¹‰æ¸²æŸ“å•å…ƒå¦‚ä½•ä¸èƒŒæ™¯åˆæˆï¼Œæ˜¯æ¸²æŸ“ç®¡çº¿çš„æœ€åä¸€æ­¥ã€‚</p>
<h4 data-id="heading-25">é¡ºåºçš„çµæ´»æ€§</h4>
<p>è™½ç„¶å…¸å‹é¡ºåºæ˜¯å›ºå®šçš„ï¼Œä½†æŸäº›æƒ…å†µä¸‹é¡ºåºå¯ä»¥è°ƒæ•´ï¼š</p>
<p><strong>Stroke çš„ä½ç½®</strong></p>
<p>Stroke çš„ä½ç½®å–å†³äºæ˜¯å¦éœ€è¦è¢« Children é®æŒ¡ï¼š</p>
<ul>
<li><strong>Stroke åœ¨ Children ä¹‹å</strong>ï¼šè¾¹æ¡†åœ¨æœ€ä¸Šå±‚ï¼Œä¸è¢«å­èŠ‚ç‚¹é®æŒ¡ï¼ˆå¸¸è§äºå®¹å™¨è¾¹æ¡†ï¼‰</li>
<li><strong>Stroke åœ¨ Children ä¹‹å‰</strong>ï¼šå­èŠ‚ç‚¹å¯ä»¥è¦†ç›–è¾¹æ¡†ï¼ˆå¸¸è§äºå›¾å½¢ç»˜åˆ¶ï¼‰</li>
</ul>
<p><strong>æ•ˆæœçš„åµŒå¥—</strong></p>
<p>æŸäº›æ•ˆæœå¯ä»¥å¤šæ¬¡åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªé˜´å½±ï¼ˆä¸åŒé¢œè‰²ã€åç§»ã€æ¨¡ç³ŠåŠå¾„ï¼‰ã€‚å¤šä¸ªé˜´å½±æŒ‰ç…§å®šä¹‰é¡ºåºä¾æ¬¡åº”ç”¨ã€‚</p>
<h4 data-id="heading-26">å°ç»“</h4>
<p>åˆæˆé¡ºåºæ˜¯æ¸²æŸ“ç®¡çº¿çš„æ‰§è¡Œé¡ºåºï¼Œç¡®ä¿æ¸²æŸ“æ•ˆæœæŒ‰ç…§æ­£ç¡®çš„ä¾èµ–å…³ç³»æ‰§è¡Œã€‚å…¸å‹é¡ºåºæ˜¯ï¼šèƒŒæ™¯ç›¸å…³æ•ˆæœ â†’ å†…å®¹ç»˜åˆ¶ â†’ å†…éƒ¨æ•ˆæœ â†’ æ•´ä½“åå¤„ç† â†’ åˆæˆã€‚é¡ºåºçš„é€‰æ‹©åŸºäºæ•ˆæœä¹‹é—´çš„ä¾èµ–å…³ç³»å’Œè§†è§‰é€»è¾‘ã€‚</p>
<h3 data-id="heading-27">å¢é‡æ›´æ–°æœºåˆ¶</h3>
<p>å¢é‡æ›´æ–°è§£å†³æ¸²æŸ“æ¨¡å‹å˜åŒ–æ—¶çš„æ€§èƒ½é—®é¢˜ã€‚é‡æ–°æ¸²æŸ“æ•´ä¸ªåœºæ™¯æˆæœ¬é«˜æ˜‚ï¼Œå¢é‡æ›´æ–°åªé‡æ–°è®¡ç®—å˜åŒ–éƒ¨åˆ†ï¼Œå¤ç”¨æœªå˜åŒ–çš„æ¸²æŸ“ç»“æœã€‚å¢é‡æ›´æ–°çš„æ ¸å¿ƒæ˜¯ï¼šæ ‡è®°å˜åŒ–ï¼ˆå“ªäº›èŠ‚ç‚¹æ”¹å˜äº†ï¼‰ã€è®¡ç®—å½±å“èŒƒå›´ï¼ˆå˜åŒ–å½±å“äº†å“ªäº›æ¸²æŸ“ç»“æœï¼‰ã€å±€éƒ¨æ›´æ–°ï¼ˆåªé‡æ–°æ¸²æŸ“å—å½±å“çš„éƒ¨åˆ†ï¼‰ã€‚</p>
<h4 data-id="heading-28">ä¸ºä»€ä¹ˆéœ€è¦å¢é‡æ›´æ–°</h4>
<p><strong>é—®é¢˜ï¼šå…¨é‡æ›´æ–°çš„æˆæœ¬</strong></p>
<p>ä¸€ä¸ªå¤æ‚åœºæ™¯åŒ…å«æ•°åƒä¸ªæ¸²æŸ“å•å…ƒã€‚ç”¨æˆ·ä¿®æ”¹ä¸€ä¸ªèŠ‚ç‚¹çš„é¢œè‰²ï¼Œå¦‚æœé‡æ–°æ¸²æŸ“æ•´ä¸ªåœºæ™¯ï¼š</p>
<ul>
<li>é‡æ–°è®¡ç®—æ•°åƒä¸ªèŠ‚ç‚¹çš„ Geometry</li>
<li>é‡æ–°ç”Ÿæˆæ•°åƒä¸ªæ¸²æŸ“æŒ‡ä»¤</li>
<li>é‡ç»˜æ•´ä¸ªå±å¹•</li>
</ul>
<p>ä½†å®é™…ä¸Šåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„é¢œè‰²æ”¹å˜äº†ï¼Œå…¶ä»– 99.9% çš„å†…å®¹æ²¡æœ‰å˜åŒ–ã€‚å…¨é‡æ›´æ–°æµªè´¹äº†å¤§é‡è®¡ç®—ã€‚</p>
<p><strong>å¢é‡æ›´æ–°çš„ç›®æ ‡</strong></p>
<p>å¢é‡æ›´æ–°çš„ç›®æ ‡æ˜¯ï¼š</p>
<ol>
<li><strong>æœ€å°åŒ–é‡æ–°è®¡ç®—</strong>ï¼šåªé‡æ–°è®¡ç®—å˜åŒ–çš„èŠ‚ç‚¹</li>
<li><strong>æœ€å°åŒ–é‡æ–°æ¸²æŸ“</strong>ï¼šåªé‡ç»˜å˜åŒ–çš„å±å¹•åŒºåŸŸ</li>
<li><strong>å¤ç”¨ä¸å˜çš„ç»“æœ</strong>ï¼šç¼“å­˜æœªå˜åŒ–èŠ‚ç‚¹çš„æ¸²æŸ“ç»“æœ</li>
</ol>
<h4 data-id="heading-29">å˜åŒ–çš„æ ‡è®°</h4>
<p><strong>Dirty æ ‡è®°</strong></p>
<p>Dirty æ ‡è®°è®°å½•èŠ‚ç‚¹çš„å˜åŒ–ç±»å‹ã€‚ä¸åŒçš„å˜åŒ–ç±»å‹éœ€è¦ä¸åŒçš„æ›´æ–°ç­–ç•¥ã€‚</p>
<p>å¸¸è§çš„ Dirty ç±»å‹ï¼š</p>
<ul>
<li><strong>å±æ€§å˜åŒ–(Property Changed)</strong>ï¼šèŠ‚ç‚¹çš„å±æ€§æ”¹å˜ï¼ˆé¢œè‰²ã€å°ºå¯¸ã€é€æ˜åº¦ç­‰ï¼‰</li>
<li><strong>å‡ ä½•å˜åŒ–(Geometry Changed)</strong>ï¼šèŠ‚ç‚¹çš„ Shape æ”¹å˜</li>
<li><strong>å­èŠ‚ç‚¹å˜åŒ–(Children Changed)</strong>ï¼šå­èŠ‚ç‚¹å¢åˆ æˆ–é¡ºåºæ”¹å˜</li>
<li><strong>æ•ˆæœå˜åŒ–(Effect Changed)</strong>ï¼šæ¸²æŸ“æ•ˆæœæ”¹å˜ï¼ˆé˜´å½±ã€æ¨¡ç³Šç­‰ï¼‰</li>
</ul>
<p><strong>æ ‡è®°ä¼ æ’­</strong></p>
<p>èŠ‚ç‚¹çš„å˜åŒ–ä¼šå½±å“å…¶ä»–èŠ‚ç‚¹ï¼ŒDirty æ ‡è®°éœ€è¦ä¼ æ’­ï¼š</p>
<ul>
<li><strong>å‘ä¸Šä¼ æ’­</strong>ï¼šå­èŠ‚ç‚¹å˜åŒ–ä¼šå½±å“çˆ¶èŠ‚ç‚¹çš„æ¸²æŸ“ç»“æœï¼ˆå¦‚çˆ¶èŠ‚ç‚¹æœ‰å›¾å±‚æ¨¡ç³Šï¼‰</li>
<li><strong>å‘ä¸‹ä¼ æ’­</strong>ï¼šçˆ¶èŠ‚ç‚¹å˜åŒ–ä¼šå½±å“å­èŠ‚ç‚¹ï¼ˆå¦‚çˆ¶èŠ‚ç‚¹çš„å˜æ¢æ”¹å˜ï¼‰</li>
<li><strong>å…„å¼Ÿä¼ æ’­</strong>ï¼šèŠ‚ç‚¹å˜åŒ–ä¼šå½±å“å…„å¼ŸèŠ‚ç‚¹ï¼ˆå¦‚è’™ç‰ˆèŠ‚ç‚¹æ”¹å˜å½±å“è¢«è’™ç‰ˆçš„èŠ‚ç‚¹ï¼‰</li>
<li><strong>ä¾èµ–ä¼ æ’­</strong>ï¼šèŠ‚ç‚¹å˜åŒ–ä¼šå½±å“ä¾èµ–å®ƒçš„èŠ‚ç‚¹ï¼ˆå¦‚èƒŒæ™¯æ”¹å˜å½±å“èƒŒæ™¯æ¨¡ç³ŠèŠ‚ç‚¹ï¼‰</li>
</ul>
<p>æ ‡è®°ä¼ æ’­ç¡®ä¿æ‰€æœ‰å—å½±å“çš„èŠ‚ç‚¹éƒ½è¢«æ ‡è®°ä¸º Dirtyã€‚</p>
<h4 data-id="heading-30">å½±å“èŒƒå›´çš„è®¡ç®—</h4>
<p><strong>å±€éƒ¨å½±å“ vs å…¨å±€å½±å“</strong></p>
<p>ä¸åŒçš„å˜åŒ–æœ‰ä¸åŒçš„å½±å“èŒƒå›´ï¼š</p>
<p><strong>å±€éƒ¨å½±å“</strong>ï¼š</p>
<ul>
<li>æ”¹å˜ Fill é¢œè‰²ï¼šåªå½±å“å½“å‰èŠ‚ç‚¹</li>
<li>æ”¹å˜å­èŠ‚ç‚¹é¡ºåºï¼šåªå½±å“çˆ¶èŠ‚ç‚¹çš„ Children æ¸²æŸ“</li>
</ul>
<p><strong>å…¨å±€å½±å“</strong>ï¼š</p>
<ul>
<li>æ”¹å˜å˜æ¢ï¼šå½±å“å½“å‰èŠ‚ç‚¹åŠæ‰€æœ‰å­å­™èŠ‚ç‚¹</li>
<li>æ”¹å˜è’™ç‰ˆï¼šå½±å“å½“å‰èŠ‚ç‚¹åŠè¢«è’™ç‰ˆçš„å…„å¼ŸèŠ‚ç‚¹</li>
<li>æ”¹å˜èƒŒæ™¯ï¼šå½±å“æ‰€æœ‰ä¾èµ–èƒŒæ™¯çš„èŠ‚ç‚¹ï¼ˆèƒŒæ™¯æ¨¡ç³Šã€æ··åˆæ¨¡å¼ï¼‰</li>
</ul>
<p>è®¡ç®—å½±å“èŒƒå›´å†³å®šäº†å“ªäº›èŠ‚ç‚¹éœ€è¦é‡æ–°æ¸²æŸ“ã€‚</p>
<p><strong>ä¾èµ–è¿½è¸ª</strong></p>
<p>å¯¹äºä¾èµ–å…³ç³»ï¼ˆå¦‚èƒŒæ™¯æ¨¡ç³Šä¾èµ–èƒŒæ™¯èŠ‚ç‚¹ï¼‰ï¼Œç³»ç»Ÿéœ€è¦ç»´æŠ¤ä¾èµ–å›¾ï¼š</p>
<pre><code class="hljs language-css" lang="css">èƒŒæ™¯èŠ‚ç‚¹ <span class="hljs-selector-tag">A</span> â†’ <span class="hljs-selector-attr">[ä¾èµ– A çš„èƒŒæ™¯æ¨¡ç³ŠèŠ‚ç‚¹åˆ—è¡¨]</span>
</code></pre>
<p>å½“ A æ”¹å˜æ—¶ï¼ŒæŸ¥æ‰¾ä¾èµ–å›¾ï¼Œæ ‡è®°æ‰€æœ‰ä¾èµ–èŠ‚ç‚¹ä¸º Dirtyã€‚</p>
<h4 data-id="heading-31">å±€éƒ¨æ›´æ–°ç­–ç•¥</h4>
<p><strong>æ¸²æŸ“ç»“æœç¼“å­˜</strong></p>
<p>æœªå˜åŒ–çš„èŠ‚ç‚¹å¯ä»¥ç¼“å­˜å…¶æ¸²æŸ“ç»“æœï¼ˆåƒç´ æ•°æ®æˆ–æ¸²æŸ“æŒ‡ä»¤ï¼‰ã€‚æ ‡è®°ä¸º Dirty çš„èŠ‚ç‚¹é‡æ–°æ¸²æŸ“ï¼Œæœªæ ‡è®°çš„èŠ‚ç‚¹ç›´æ¥å¤ç”¨ç¼“å­˜ã€‚</p>
<p><strong>è„çŸ©å½¢(Dirty Rectangle)</strong></p>
<p>åªé‡ç»˜å±å¹•ä¸Šå˜åŒ–çš„åŒºåŸŸã€‚æ¯ä¸ª Dirty èŠ‚ç‚¹è´¡çŒ®ä¸€ä¸ªè„çŸ©å½¢ï¼ˆèŠ‚ç‚¹çš„è¾¹ç•Œæ¡†ï¼‰ï¼Œæ‰€æœ‰è„çŸ©å½¢çš„å¹¶é›†æ˜¯éœ€è¦é‡ç»˜çš„åŒºåŸŸã€‚</p>
<p><strong>å·®å¼‚åŒ–æ›´æ–°</strong></p>
<p>æ ¹æ® Dirty ç±»å‹é€‰æ‹©æ›´æ–°ç­–ç•¥ï¼š</p>
<ul>
<li><strong>é¢œè‰²æ”¹å˜</strong>ï¼šåªé‡æ–°ç”Ÿæˆ Paintï¼Œå¤ç”¨ Geometry</li>
<li><strong>å‡ ä½•æ”¹å˜</strong>ï¼šé‡æ–°è®¡ç®— Geometryï¼Œå¯èƒ½å¤ç”¨ Paint</li>
<li><strong>å­èŠ‚ç‚¹æ”¹å˜</strong>ï¼šDiff å­èŠ‚ç‚¹åˆ—è¡¨ï¼Œåªæ›´æ–°å¢åˆ çš„å­èŠ‚ç‚¹</li>
</ul>
<p>å·®å¼‚åŒ–æ›´æ–°è¿›ä¸€æ­¥å‡å°‘è®¡ç®—é‡ã€‚</p>
<h4 data-id="heading-32">å¢é‡æ›´æ–°çš„é™åˆ¶</h4>
<p><strong>æŸäº›å˜åŒ–æ— æ³•å¢é‡</strong></p>
<p>æŸäº›å˜åŒ–å¿…é¡»å…¨é‡æ›´æ–°ï¼š</p>
<ul>
<li><strong>æ ¹èŠ‚ç‚¹æ”¹å˜</strong>ï¼šå½±å“æ•´ä¸ªåœºæ™¯</li>
<li><strong>å…¨å±€æ•ˆæœæ”¹å˜</strong>ï¼šå¦‚è‰²å½©ç©ºé—´è½¬æ¢ã€å…¨å±€æ»¤é•œ</li>
<li><strong>æ¸²æŸ“åç«¯æ”¹å˜</strong>ï¼šä» CPU æ¸²æŸ“åˆ‡æ¢åˆ° GPU æ¸²æŸ“</li>
</ul>
<p>è¿™äº›æƒ…å†µä¸‹ï¼Œå¢é‡æ›´æ–°é€€åŒ–ä¸ºå…¨é‡æ›´æ–°ã€‚</p>
<p><strong>ç¼“å­˜çš„å†…å­˜å¼€é”€</strong></p>
<p>ç¼“å­˜æ¸²æŸ“ç»“æœéœ€è¦å†…å­˜ã€‚å¯¹äºå¤§å‹åœºæ™¯ï¼Œç¼“å­˜æ‰€æœ‰èŠ‚ç‚¹çš„æ¸²æŸ“ç»“æœä¼šå ç”¨å¤§é‡å†…å­˜ã€‚ç³»ç»Ÿéœ€è¦å¹³è¡¡å†…å­˜å ç”¨å’Œæ›´æ–°æ€§èƒ½ï¼Œä½¿ç”¨ LRU ç­‰ç­–ç•¥ç®¡ç†ç¼“å­˜ã€‚</p>
<h4 data-id="heading-33">å°ç»“</h4>
<p>å¢é‡æ›´æ–°é€šè¿‡æ ‡è®°å˜åŒ–ã€è®¡ç®—å½±å“èŒƒå›´ã€å±€éƒ¨æ›´æ–°ä¸‰ä¸ªæ­¥éª¤ï¼Œæœ€å°åŒ–é‡æ–°è®¡ç®—å’Œé‡ç»˜ã€‚Dirty æ ‡è®°è®°å½•å˜åŒ–ç±»å‹ï¼Œæ ‡è®°ä¼ æ’­ç¡®ä¿æ‰€æœ‰å—å½±å“èŠ‚ç‚¹è¢«æ ‡è®°ï¼Œå±€éƒ¨æ›´æ–°ç­–ç•¥åªæ›´æ–°å˜åŒ–éƒ¨åˆ†ã€‚å¢é‡æ›´æ–°æ˜¯å¤æ‚åœºæ™¯ä¿æŒé«˜æ€§èƒ½çš„å…³é”®ã€‚</p>
<h2 data-id="heading-34">åŠ¨æ€æ¸²æŸ“æ¨¡å‹</h2>
<p>åŠ¨æ€æ¸²æŸ“æ¨¡å‹åœ¨é™æ€åŸºç¡€ä¸Šå¼•å…¥äº¤äº’å’Œæ—¶é—´æ¼”åŒ–ã€‚äº‹ä»¶ç³»ç»Ÿæ•è·ç”¨æˆ·è¾“å…¥ï¼Œé©±åŠ¨ä¸¤ç§åŠ¨æ€è¡Œä¸ºï¼šæ»‘åŠ¨å’ŒåŠ¨ç”»ã€‚æ»‘åŠ¨å“åº”æ‹–æ‹½äº‹ä»¶ï¼Œæ”¹å˜æ¸²æŸ“å•å…ƒçš„ç©ºé—´åç§»ã€‚åŠ¨ç”»åœ¨æ—¶é—´è½´ä¸Šæ’å€¼æ¸²æŸ“å•å…ƒçš„å±æ€§ï¼Œäº§ç”Ÿå¹³æ»‘çš„è§†è§‰å˜åŒ–ã€‚åŠ¨æ€æ¸²æŸ“æ¨¡å‹ä½¿å¾—é™æ€ç”»é¢å˜ä¸ºå¯äº¤äº’çš„åŠ¨æ€ä½“éªŒã€‚</p>
<h3 data-id="heading-35">æ»‘åŠ¨</h3>
<p>æ»‘åŠ¨æ˜¯å“åº”æ‹–æ‹½äº‹ä»¶çš„ç©ºé—´åç§»è¡Œä¸ºã€‚ç”¨æˆ·æ‹–æ‹½æ»šåŠ¨å®¹å™¨æ—¶ï¼Œå®¹å™¨å†…çš„å†…å®¹äº§ç”Ÿåç§»ï¼Œè¶…å‡ºå®¹å™¨è¾¹ç•Œçš„éƒ¨åˆ†è¢«è£å‰ªã€‚æ»‘åŠ¨çš„æœ¬è´¨æ˜¯åŠ¨æ€æ”¹å˜æ¸²æŸ“å•å…ƒçš„åç§»é‡ï¼Œä¸æ”¹å˜æ¸²æŸ“å•å…ƒçš„å†…å®¹ã€‚</p>
<h4 data-id="heading-36">æ»‘åŠ¨çš„æ¨¡å‹</h4>
<p><strong>æ»šåŠ¨å®¹å™¨(Scroll Container)</strong></p>
<p>æ»‘åŠ¨å‘ç”Ÿåœ¨æ»šåŠ¨å®¹å™¨ä¸­ã€‚æ»šåŠ¨å®¹å™¨å®šä¹‰ï¼š</p>
<ul>
<li><strong>è§†å£(Viewport)</strong>ï¼šå®¹å™¨çš„å¯è§åŒºåŸŸ</li>
<li><strong>å†…å®¹åŒºåŸŸ(Content)</strong>ï¼šå®¹å™¨å†…æ‰€æœ‰å­èŠ‚ç‚¹çš„æ€»è¾¹ç•Œ</li>
<li><strong>æ»šåŠ¨åç§»(Scroll Offset)</strong>ï¼šå†…å®¹ç›¸å¯¹è§†å£çš„åç§»é‡</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">è§†å£ï¼š(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>) - å±å¹•ä¸Šå¯è§çš„åŒºåŸŸ
å†…å®¹ï¼š(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">300</span>, <span class="hljs-number">1000</span>) - å®é™…å†…å®¹çš„å¤§å°
æ»šåŠ¨åç§»ï¼š(<span class="hljs-number">0</span>, -<span class="hljs-number">200</span>) - å†…å®¹å‘ä¸Šåç§» <span class="hljs-number">200</span> åƒç´ 
</code></pre>
<p><strong>æ»šåŠ¨æ–¹å‘</strong></p>
<p>æ»šåŠ¨å®¹å™¨æ”¯æŒä¸¤ä¸ªæ–¹å‘çš„æ»šåŠ¨ï¼š</p>
<ul>
<li><strong>å‚ç›´æ»šåŠ¨</strong>ï¼šå†…å®¹é«˜åº¦è¶…å‡ºè§†å£é«˜åº¦</li>
<li><strong>æ°´å¹³æ»šåŠ¨</strong>ï¼šå†…å®¹å®½åº¦è¶…å‡ºè§†å£å®½åº¦</li>
<li><strong>åŒå‘æ»šåŠ¨</strong>ï¼šå†…å®¹åœ¨ä¸¤ä¸ªæ–¹å‘éƒ½è¶…å‡ºè§†å£</li>
</ul>
<p>æ»šåŠ¨æ–¹å‘å†³å®šäº†æ‹–æ‹½äº‹ä»¶å¦‚ä½•æ˜ å°„ä¸ºæ»šåŠ¨åç§»ã€‚</p>
<h4 data-id="heading-37">æ»šåŠ¨çš„å®ç°</h4>
<p><strong>åŠ¨æ€åç§»</strong></p>
<p>æ»‘åŠ¨é€šè¿‡åŠ¨æ€åç§»å®ç°ï¼Œä¸é‡æ–°ç”Ÿæˆæ¸²æŸ“å•å…ƒã€‚æ»šåŠ¨å®¹å™¨çš„å­èŠ‚ç‚¹åº”ç”¨ä¸€ä¸ªåŠ¨æ€å˜æ¢ï¼š</p>
<pre><code class="hljs">å­èŠ‚ç‚¹çš„æ¸²æŸ“ä½ç½® = å­èŠ‚ç‚¹çš„åŸå§‹ä½ç½® + æ»šåŠ¨åç§»
</code></pre>
<p>åŠ¨æ€åç§»ä½¿å¾—æ»‘åŠ¨å¯ä»¥é«˜æ€§èƒ½æ‰§è¡Œï¼šæ¯å¸§åªæ›´æ–°åç§»å€¼ï¼Œä¸é‡æ–°è®¡ç®— Geometry å’Œ Paintã€‚</p>
<p><strong>è£å‰ªè¾¹ç•Œ</strong></p>
<p>æ»šåŠ¨å®¹å™¨ä½¿ç”¨ Clip è£å‰ªè¶…å‡ºè§†å£çš„å†…å®¹ã€‚è£å‰ªè¾¹ç•Œæ˜¯è§†å£çš„è¾¹ç•ŒçŸ©å½¢ï¼Œç¡®ä¿åªæœ‰è§†å£å†…çš„å†…å®¹å¯è§ã€‚</p>
<p><strong>æ»šåŠ¨èŒƒå›´é™åˆ¶</strong></p>
<p>æ»šåŠ¨åç§»ä¸èƒ½æ— é™åˆ¶ï¼Œå—å†…å®¹å’Œè§†å£å¤§å°é™åˆ¶ï¼š</p>
<pre><code class="hljs">æœ€å°åç§» = 0ï¼ˆå†…å®¹é¡¶éƒ¨å¯¹é½è§†å£é¡¶éƒ¨ï¼‰
æœ€å¤§åç§» = å†…å®¹å¤§å° - è§†å£å¤§å°ï¼ˆå†…å®¹åº•éƒ¨å¯¹é½è§†å£åº•éƒ¨ï¼‰
</code></pre>
<p>å½“ç”¨æˆ·æ‹–æ‹½è¶…å‡ºæ»šåŠ¨èŒƒå›´æ—¶ï¼Œç³»ç»Ÿå¯ä»¥é€‰æ‹©ï¼š</p>
<ul>
<li><strong>ç¡¬è¾¹ç•Œ</strong>ï¼šåç§»å›ºå®šåœ¨è¾¹ç•Œå€¼ï¼Œä¸å…è®¸è¶…å‡º</li>
<li><strong>å¼¹æ€§è¾¹ç•Œ</strong>ï¼šå…è®¸çŸ­æš‚è¶…å‡ºï¼Œæ¾æ‰‹åå¼¹å›è¾¹ç•Œ</li>
</ul>
<h4 data-id="heading-38">æƒ¯æ€§æ»šåŠ¨</h4>
<p><strong>ç‰©ç†æ¨¡æ‹Ÿ</strong></p>
<p>ç”¨æˆ·å¿«é€Ÿæ‹–æ‹½åæ¾æ‰‹ï¼Œå†…å®¹åº”è¯¥ç»§ç»­æ»šåŠ¨å¹¶é€æ¸å‡é€Ÿï¼Œè¿™æ˜¯æƒ¯æ€§æ»šåŠ¨ã€‚æƒ¯æ€§æ»šåŠ¨æ¨¡æ‹Ÿç‰©ç†è¿åŠ¨ï¼š</p>
<pre><code class="hljs">é€Ÿåº¦ = æ‹–æ‹½ç»“æŸæ—¶çš„é€Ÿåº¦
æ¯å¸§ï¼š
  é€Ÿåº¦ = é€Ÿåº¦ Ã— é˜»å°¼ç³»æ•°ï¼ˆå¦‚ 0.95ï¼‰
  åç§» = åç§» + é€Ÿåº¦
  if é€Ÿåº¦æ¥è¿‘ 0ï¼šåœæ­¢æ»šåŠ¨
</code></pre>
<p>é˜»å°¼ç³»æ•°æ§åˆ¶å‡é€Ÿå¿«æ…¢ï¼Œç³»æ•°è¶Šå°å‡é€Ÿè¶Šå¿«ã€‚</p>
<p><strong>è¾¹ç•Œå¼¹æ€§</strong></p>
<p>å½“æƒ¯æ€§æ»šåŠ¨è¶…å‡ºè¾¹ç•Œæ—¶ï¼Œåº”ç”¨æ›´å¼ºçš„é˜»å°¼å¹¶åå‘å¼¹å›ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">if åç§» &gt; æœ€å¤§åç§»ï¼š
  è¶…å‡ºè·ç¦» = åç§» - æœ€å¤§åç§»
  é˜»å°¼ = <span class="hljs-number">1</span> / (<span class="hljs-number">1</span> + è¶…å‡ºè·ç¦» / å†…å®¹å¤§å°)
  åç§» = æœ€å¤§åç§» + è¶…å‡ºè·ç¦» Ã— é˜»å°¼
</code></pre>
<p>è¶…å‡ºè¶Šè¿œï¼Œé˜»å°¼è¶Šå¼ºï¼Œå½¢æˆ"æ©¡çš®ç­‹"æ•ˆæœã€‚</p>
<h4 data-id="heading-39">å›ºå®šå®šä½ä¸ç²˜æ€§å®šä½</h4>
<p><strong>å›ºå®šå®šä½(Fixed Positioning)</strong></p>
<p>å›ºå®šå®šä½çš„èŠ‚ç‚¹ä¸éšæ»šåŠ¨åç§»ç§»åŠ¨ï¼Œå§‹ç»ˆå›ºå®šåœ¨è§†å£çš„ç‰¹å®šä½ç½®ã€‚å›ºå®šå®šä½èŠ‚ç‚¹çš„æ¸²æŸ“ä½ç½®è®¡ç®—ï¼š</p>
<pre><code class="hljs">æ¸²æŸ“ä½ç½® = è§†å£ä½ç½® + å›ºå®šåç§»ï¼ˆå¿½ç•¥æ»šåŠ¨åç§»ï¼‰
</code></pre>
<p>å›ºå®šå®šä½å¸¸ç”¨äºå¯¼èˆªæ ã€æ‚¬æµ®æŒ‰é’®ç­‰å§‹ç»ˆå¯è§çš„ UI å…ƒç´ ã€‚</p>
<p><strong>ç²˜æ€§å®šä½(Sticky Positioning)</strong></p>
<p>ç²˜æ€§å®šä½çš„èŠ‚ç‚¹åœ¨æ»šåŠ¨åˆ°ç‰¹å®šä½ç½®åå›ºå®šã€‚ç²˜æ€§å®šä½å®šä¹‰ï¼š</p>
<ul>
<li><strong>ç²˜æ€§èŒƒå›´</strong>ï¼šèŠ‚ç‚¹å¯ä»¥ç²˜æ€§å›ºå®šçš„æ»šåŠ¨èŒƒå›´</li>
<li><strong>ç²˜æ€§åç§»</strong>ï¼šèŠ‚ç‚¹å›ºå®šæ—¶ç›¸å¯¹è§†å£çš„ä½ç½®</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">if</span> æ»šåŠ¨åç§» in ç²˜æ€§èŒƒå›´ï¼š
  æ¸²æŸ“ä½ç½® = è§†å£ä½ç½® + ç²˜æ€§åç§»ï¼ˆå›ºå®šï¼‰
<span class="hljs-keyword">else</span>ï¼š
  æ¸²æŸ“ä½ç½® = åŸå§‹ä½ç½® + æ»šåŠ¨åç§»ï¼ˆæ­£å¸¸æ»šåŠ¨ï¼‰
</code></pre>
<p>ç²˜æ€§å®šä½å¸¸ç”¨äºè¡¨æ ¼æ ‡é¢˜ã€åˆ†ç»„æ ‡é¢˜ç­‰éœ€è¦"å¸é¡¶"çš„å…ƒç´ ã€‚</p>
<h4 data-id="heading-40">å°ç»“</h4>
<p>æ»‘åŠ¨é€šè¿‡åŠ¨æ€åç§»å®ç°å†…å®¹çš„ç©ºé—´ç§»åŠ¨ï¼Œä¸æ”¹å˜æ¸²æŸ“å•å…ƒçš„å†…å®¹ã€‚æ»šåŠ¨å®¹å™¨å®šä¹‰è§†å£ã€å†…å®¹å’Œåç§»çš„å…³ç³»ï¼Œè£å‰ªè¾¹ç•Œç¡®ä¿åªæœ‰è§†å£å†…å¯è§ã€‚æƒ¯æ€§æ»šåŠ¨é€šè¿‡ç‰©ç†æ¨¡æ‹Ÿäº§ç”Ÿè‡ªç„¶çš„å‡é€Ÿæ•ˆæœã€‚å›ºå®šå®šä½å’Œç²˜æ€§å®šä½æ‰©å±•äº†æ»šåŠ¨è¡Œä¸ºï¼Œä½¿å¾—éƒ¨åˆ†èŠ‚ç‚¹ä¸å—æˆ–éƒ¨åˆ†å—æ»šåŠ¨å½±å“ã€‚</p>
<h3 data-id="heading-41">åŠ¨ç”»</h3>
<p>åŠ¨ç”»æ˜¯æ¸²æŸ“å±æ€§éšæ—¶é—´çš„å˜åŒ–ã€‚æ¸²æŸ“å±æ€§åŒ…æ‹¬æ¸²æŸ“å•å…ƒçš„å±æ€§ï¼ˆGeometryã€Paintï¼‰å’Œæ¸²æŸ“æ•ˆæœï¼ˆé€æ˜åº¦ã€å˜æ¢ã€æ¨¡ç³Šç­‰ï¼‰ã€‚åŠ¨ç”»çš„ç”Ÿæˆæ–¹å¼åˆ†ä¸ºä¸¤ç±»ï¼šçŠ¶æ€æ’å€¼ï¼ˆå®šä¹‰èµ·å§‹å’Œç»“æŸçŠ¶æ€ï¼Œåœ¨ä¸¤è€…ä¹‹é—´æ’å€¼ï¼‰å’Œç¨‹åºç”Ÿæˆï¼ˆæ ¹æ®ç®—æ³•è®¡ç®—æ¯å¸§çš„å€¼ï¼Œå¦‚ç‰©ç†æ¨¡æ‹Ÿã€æ•°å­¦å‡½æ•°ç­‰ï¼‰ã€‚åŠ¨ç”»çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼šå¦‚ä½•ç”ŸæˆåŠ¨ç”»ã€å¦‚ä½•å®ç°åŠ¨ç”»ï¼ˆå¯å˜åŒ–çš„æ¸²æŸ“å¯¹è±¡ï¼‰ã€å¦‚ä½•è®¡ç®—å±æ€§å€¼ï¼ˆæ’å€¼æˆ–ç¨‹åºç”Ÿæˆï¼‰ã€å¦‚ä½•æ§åˆ¶è¿›åº¦ï¼ˆæ—¶é—´åˆ°è¿›åº¦çš„æ˜ å°„ï¼‰ã€‚</p>
<h4 data-id="heading-42">åŠ¨ç”»ç”Ÿæˆ</h4>
<p>åŠ¨ç”»ç”Ÿæˆå®šä¹‰åŠ¨ç”»çš„è¾“å…¥æ¡ä»¶ã€‚ç”Ÿæˆæ–¹å¼åˆ†ä¸ºä¸¤ç±»ï¼šæ˜¾å¼å®šä¹‰å’Œè‡ªåŠ¨æ¨å¯¼ã€‚</p>
<p><strong>æ˜¾å¼å®šä¹‰</strong></p>
<p>æ˜¾å¼å®šä¹‰ç”±ç”¨æˆ·ç›´æ¥æŒ‡å®šåŠ¨ç”»çš„å‚æ•°ï¼š</p>
<ul>
<li><strong>ç›®æ ‡å±æ€§</strong>ï¼šå“ªäº›æ¸²æŸ“å±æ€§éœ€è¦å˜åŒ–</li>
<li><strong>å˜åŒ–è§„åˆ™</strong>ï¼šå±æ€§å¦‚ä½•éšæ—¶é—´å˜åŒ–ï¼ˆæ’å€¼ã€ç¨‹åºç”Ÿæˆç­‰ï¼‰</li>
<li><strong>æ—¶é—´å‚æ•°</strong>ï¼šåŠ¨ç”»çš„æ—¶é•¿ã€å»¶è¿Ÿç­‰æ—¶é—´æ§åˆ¶</li>
</ul>
<p>æ˜¾å¼å®šä¹‰çš„ä¼˜åŠ¿æ˜¯ç²¾ç¡®å’Œå¯æ§ï¼Œé€‚ç”¨äºè®¾è®¡å¸ˆåˆ¶ä½œçš„åŠ¨ç”»æ•ˆæœã€‚</p>
<p><strong>è‡ªåŠ¨æ¨å¯¼</strong></p>
<p>è‡ªåŠ¨æ¨å¯¼æ ¹æ®çŠ¶æ€å˜åŒ–ç”ŸæˆåŠ¨ç”»ã€‚ç»™å®šä¸¤ä¸ªçŠ¶æ€ï¼ˆå¦‚åœºæ™¯ A å’Œåœºæ™¯ Bï¼‰ï¼Œç³»ç»Ÿè‡ªåŠ¨è®¡ç®—å·®å¼‚å¹¶ç”Ÿæˆè¿‡æ¸¡åŠ¨ç”»ã€‚</p>
<p>è‡ªåŠ¨æ¨å¯¼çš„æ ¸å¿ƒæ˜¯è®¡ç®—"ä»€ä¹ˆæ”¹å˜äº†"ï¼šå¯¹æ¯”ä¸¤ä¸ªçŠ¶æ€çš„æ¸²æŸ“å±æ€§ï¼Œæ‰¾å‡ºå·®å¼‚çš„å±æ€§å’Œå€¼ï¼Œä¸ºè¿™äº›å·®å¼‚ç”ŸæˆåŠ¨ç”»ã€‚</p>
<p>è‡ªåŠ¨æ¨å¯¼çš„ä¼˜åŠ¿æ˜¯è‡ªåŠ¨åŒ–ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®æ¯ä¸ªå±æ€§ï¼Œé€‚ç”¨äºçŠ¶æ€é©±åŠ¨çš„ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-43">åŠ¨ç”»å®ç°</h4>
<p>åŠ¨ç”»å®ç°æœ‰ä¸¤ç§æœºåˆ¶ï¼šå±æ€§åŠ¨æ€å˜åŒ–å’Œå›¾å±‚åŠ¨æ€åˆæˆã€‚</p>
<p><strong>å±æ€§åŠ¨æ€å˜åŒ–</strong></p>
<p>å±æ€§åŠ¨æ€å˜åŒ–ä½¿å¾—æ¸²æŸ“å±æ€§æ ¹æ®è¿›åº¦è®¡ç®—ï¼Œè€Œéå›ºå®šå€¼ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">é™æ€æ¸²æŸ“ï¼šå±æ€§ = å›ºå®šå€¼
åŠ¨æ€æ¸²æŸ“ï¼šå±æ€§ = <span class="hljs-built_in">f</span>(è¿›åº¦)
</code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li><strong>åŠ¨æ€é€æ˜åº¦</strong>ï¼š<code>é€æ˜åº¦ = lerp(0, 1, è¿›åº¦)</code> - æ·¡å…¥æ•ˆæœ</li>
<li><strong>åŠ¨æ€å˜æ¢</strong>ï¼š<code>å˜æ¢ = lerp(èµ·å§‹çŸ©é˜µ, ç»“æŸçŸ©é˜µ, è¿›åº¦)</code> - å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾</li>
<li><strong>åŠ¨æ€é¢œè‰²</strong>ï¼š<code>é¢œè‰² = lerp(çº¢è‰², è“è‰², è¿›åº¦)</code> - é¢œè‰²æ¸å˜</li>
<li><strong>åŠ¨æ€åç§»</strong>ï¼š<code>åç§» = åˆå§‹é€Ÿåº¦ Ã— æ—¶é—´ Ã— é˜»å°¼^æ—¶é—´</code> - æƒ¯æ€§æ»šåŠ¨</li>
</ul>
<p><strong>å›¾å±‚åŠ¨æ€åˆæˆ</strong></p>
<p>å›¾å±‚åŠ¨æ€åˆæˆä½¿å¾—å¤šä¸ªæ¸²æŸ“å•å…ƒçš„ç»„åˆæ–¹å¼æ ¹æ®è¿›åº¦å˜åŒ–ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">é™æ€æ¸²æŸ“ï¼šå¤šä¸ªæ¸²æŸ“å•å…ƒæŒ‰å›ºå®šæ–¹å¼ç»„åˆ
åŠ¨æ€æ¸²æŸ“ï¼šç»„åˆæ–¹å¼ = <span class="hljs-built_in">g</span>(è¿›åº¦)
</code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<ul>
<li><strong>åŠ¨æ€é€æ˜åº¦åˆæˆ</strong>ï¼šä¸¤ä¸ªæ¸²æŸ“å•å…ƒï¼Œå„è‡ªçš„é€æ˜åº¦éšè¿›åº¦å˜åŒ–ï¼Œ<code>é€æ˜åº¦A = 1 - è¿›åº¦</code>ï¼Œ<code>é€æ˜åº¦B = è¿›åº¦</code></li>
<li><strong>åŠ¨æ€è£å‰ªåˆæˆ</strong>ï¼šè£å‰ªåŒºåŸŸéšè¿›åº¦å˜åŒ–ï¼Œå¦‚æ“¦é™¤åŠ¨ç”»ã€å±•å¼€åŠ¨ç”»</li>
</ul>
<h4 data-id="heading-44">è¿›åº¦æ§åˆ¶</h4>
<p>è¿›åº¦æ§åˆ¶å°†æ—¶é—´æ˜ å°„ä¸ºè¿›åº¦å€¼ï¼ˆ0-1ï¼‰ã€‚ä¸åŒçš„æ˜ å°„å‡½æ•°äº§ç”Ÿä¸åŒçš„åŠ¨ç”»èŠ‚å¥ã€‚</p>
<p><strong>çº¿æ€§è¿›åº¦</strong></p>
<p>æœ€ç®€å•çš„æ˜ å°„æ˜¯çº¿æ€§ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">progress</span> = (å½“å‰æ—¶é—´ - èµ·å§‹æ—¶é—´) / æ—¶é•¿
</code></pre>
<p>çº¿æ€§è¿›åº¦äº§ç”ŸåŒ€é€ŸåŠ¨ç”»ï¼Œæ²¡æœ‰åŠ é€Ÿæˆ–å‡é€Ÿã€‚</p>
<p><strong>ç¼“åŠ¨å‡½æ•°(Easing Function)</strong></p>
<p>ç¼“åŠ¨å‡½æ•°æ”¹å˜è¿›åº¦æ›²çº¿ï¼Œäº§ç”ŸåŠ é€Ÿã€å‡é€Ÿã€å›å¼¹ç­‰æ•ˆæœã€‚ç¼“åŠ¨å‡½æ•°æ˜¯ <code>f: [0, 1] â†’ [0, 1]</code> çš„æ˜ å°„ã€‚</p>
<p>å¸¸è§çš„ç¼“åŠ¨å‡½æ•°ï¼š</p>
<ul>
<li><strong>Ease In</strong>ï¼š<code>f(t) = tÂ²</code>ï¼Œå¼€å§‹æ…¢ã€ç»“æŸå¿«</li>
<li><strong>Ease Out</strong>ï¼š<code>f(t) = 1 - (1 - t)Â²</code>ï¼Œå¼€å§‹å¿«ã€ç»“æŸæ…¢</li>
<li><strong>Ease In Out</strong>ï¼š<code>f(t) = 3tÂ² - 2tÂ³</code>ï¼Œå¼€å§‹æ…¢ã€ä¸­é—´å¿«ã€ç»“æŸæ…¢</li>
</ul>
<p><strong>è´å¡å°”ç¼“åŠ¨</strong></p>
<p>è´å¡å°”ç¼“åŠ¨ä½¿ç”¨ä¸‰æ¬¡è´å¡å°”æ›²çº¿å®šä¹‰è¿›åº¦æ›²çº¿ã€‚ç»™å®šä¸¤ä¸ªæ§åˆ¶ç‚¹ (x1, y1) å’Œ (x2, y2)ï¼Œæ›²çº¿ä» (0, 0) åˆ° (1, 1)ã€‚</p>
<p>è´å¡å°”ç¼“åŠ¨çš„ä¼˜åŠ¿æ˜¯çµæ´»æ€§ï¼šé€šè¿‡è°ƒæ•´æ§åˆ¶ç‚¹å¯ä»¥å®šä¹‰ä»»æ„å¹³æ»‘æ›²çº¿ã€‚</p>
<p><strong>å¼¹ç°§æ¨¡æ‹Ÿ(Spring Simulation)</strong></p>
<p>å¼¹ç°§æ¨¡æ‹Ÿä½¿ç”¨ç‰©ç†å…¬å¼è®¡ç®—è¿›åº¦ã€‚ç»™å®šè´¨é‡ã€åˆšåº¦ã€é˜»å°¼å‚æ•°ï¼Œæ¨¡æ‹Ÿå¼¹ç°§çš„æŒ¯è¡è¿åŠ¨ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åŠ é€Ÿåº¦ = <span class="hljs-built_in">-</span>(åˆšåº¦ / è´¨é‡) Ã— (å½“å‰ä½ç½® - ç›®æ ‡ä½ç½®) - (é˜»å°¼ / è´¨é‡) Ã— é€Ÿåº¦
é€Ÿåº¦ = é€Ÿåº¦ + åŠ é€Ÿåº¦ Ã— æ—¶é—´æ­¥é•¿
ä½ç½® = ä½ç½® + é€Ÿåº¦ Ã— æ—¶é—´æ­¥é•¿
</code></pre>
<p>å¼¹ç°§æ¨¡æ‹Ÿäº§ç”Ÿè‡ªç„¶çš„å›å¼¹æ•ˆæœï¼Œå¸¸ç”¨äºäº¤äº’åŠ¨ç”»ã€‚</p>
<p><strong>ç¨‹åºç”Ÿæˆè¿›åº¦</strong></p>
<p>ç¨‹åºç”Ÿæˆä¸ä¾èµ–å›ºå®šçš„èµ·å§‹å’Œç»“æŸçŠ¶æ€ï¼Œè€Œæ˜¯æ ¹æ®ç®—æ³•è®¡ç®—æ¯å¸§çš„å€¼ã€‚æƒ¯æ€§æ»šåŠ¨æ˜¯ç¨‹åºç”Ÿæˆçš„å…¸å‹ä¾‹å­ï¼š</p>
<pre><code class="hljs">æ¯å¸§ï¼š
  é€Ÿåº¦ = é€Ÿåº¦ Ã— é˜»å°¼
  åç§» = åç§» + é€Ÿåº¦
</code></pre>
<p>ç¨‹åºç”Ÿæˆçš„ç»“æŸæ—¶æœºç”±ç®—æ³•å†³å®šï¼ˆå¦‚é€Ÿåº¦æ¥è¿‘ 0ï¼‰ï¼Œä¸æ˜¯é¢„å®šä¹‰çš„æ—¶é•¿ã€‚</p>
<h4 data-id="heading-45">å°ç»“</h4>
<p>åŠ¨ç”»é€šè¿‡é…ç½®æˆ–æ™ºèƒ½åŒ¹é…ç”Ÿæˆï¼Œå¯å˜æ¸²æŸ“å¯¹è±¡æ”¯æŒå±æ€§çš„åŠ¨æ€å˜åŒ–ã€‚å±æ€§æ’å€¼æ ¹æ®ä¸åŒç±»å‹ä½¿ç”¨ä¸åŒç®—æ³•ï¼Œè¿›åº¦æ§åˆ¶é€šè¿‡ç¼“åŠ¨å‡½æ•°æˆ–ç‰©ç†æ¨¡æ‹Ÿæ˜ å°„æ—¶é—´åˆ°è¿›åº¦ã€‚åŠ¨ç”»ä½¿å¾—é™æ€ç”»é¢åœ¨æ—¶é—´è½´ä¸Šæ¼”åŒ–ï¼Œäº§ç”Ÿæµç•…çš„è§†è§‰å˜åŒ–ã€‚</p>
<h3 data-id="heading-46">äº‹ä»¶ç³»ç»Ÿ</h3>
<p>äº‹ä»¶ç³»ç»Ÿæ•è·ç”¨æˆ·è¾“å…¥å¹¶è½¬æ¢ä¸ºæ¸²æŸ“ç³»ç»Ÿå¯è¯†åˆ«çš„äº¤äº’ä¿¡å·ã€‚äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯ä¸‰å±‚ç»“æ„ï¼šåŸºç¡€äº‹ä»¶ï¼ˆåŸå§‹è¾“å…¥ï¼‰ã€äº‹ä»¶åˆæˆï¼ˆé«˜çº§äº¤äº’ï¼‰ã€æŒç»­çŠ¶æ€ï¼ˆäº¤äº’è¿‡ç¨‹çš„çŠ¶æ€è·Ÿè¸ªï¼‰ã€‚åŸºç¡€äº‹ä»¶æ¥è‡ªè¾“å…¥è®¾å¤‡ï¼Œäº‹ä»¶åˆæˆå°†åŸºç¡€äº‹ä»¶ç»„åˆä¸ºè¯­ä¹‰åŒ–çš„äº¤äº’ï¼ŒæŒç»­çŠ¶æ€è®°å½•äº¤äº’è¿‡ç¨‹çš„ä¸­é—´çŠ¶æ€ã€‚</p>
<h4 data-id="heading-47">åŸºç¡€äº‹ä»¶</h4>
<p>åŸºç¡€äº‹ä»¶æ˜¯è¾“å…¥è®¾å¤‡çš„åŸå§‹ä¿¡å·ï¼Œç›´æ¥åæ˜ ç”¨æˆ·çš„ç‰©ç†æ“ä½œã€‚</p>
<p><strong>æŒ‡é’ˆäº‹ä»¶</strong>ï¼š</p>
<ul>
<li><strong>Down</strong>ï¼šæŒ‡é’ˆæŒ‰ä¸‹</li>
<li><strong>Move</strong>ï¼šæŒ‡é’ˆç§»åŠ¨</li>
<li><strong>Up</strong>ï¼šæŒ‡é’ˆæŠ¬èµ·</li>
</ul>
<p>æ¯ä¸ªäº‹ä»¶åŒ…å«ä½ç½®ä¿¡æ¯å’Œæ—¶é—´æˆ³ã€‚</p>
<p><strong>é”®ç›˜äº‹ä»¶</strong>ï¼šKeyDownã€KeyUp</p>
<p><strong>å…¶ä»–è¾“å…¥</strong>ï¼šæ»šè½®ã€æ‰‹åŠ¿ç­‰</p>
<p>åŸºç¡€äº‹ä»¶æ˜¯ä½çº§çš„ã€æ— è¯­ä¹‰çš„åŸå§‹ä¿¡å·ã€‚</p>
<h4 data-id="heading-48">äº‹ä»¶åˆæˆ</h4>
<p>äº‹ä»¶åˆæˆå°†åŸºç¡€äº‹ä»¶åºåˆ—ç»„åˆä¸ºé«˜çº§çš„è¯­ä¹‰åŒ–äº¤äº’ã€‚</p>
<p><strong>ç»„åˆé€»è¾‘</strong></p>
<p>äº‹ä»¶åˆæˆé€šè¿‡åˆ†æåŸºç¡€äº‹ä»¶çš„åºåˆ—ã€ä½ç½®ã€æ—¶é—´é—´éš”ï¼Œè¯†åˆ«ç”¨æˆ·çš„æ„å›¾ï¼š</p>
<ul>
<li><strong>ç‚¹å‡»(Click)</strong>ï¼šDown + Upï¼Œä½ç½®æ¥è¿‘ã€æ—¶é—´çŸ­</li>
<li><strong>æ‹–æ‹½(Drag)</strong>ï¼šDown + Move(è·ç¦»è¶…è¿‡é˜ˆå€¼) + Up</li>
<li><strong>åŒå‡»(Double Click)</strong>ï¼šä¸¤æ¬¡ Clickï¼Œæ—¶é—´é—´éš”çŸ­</li>
<li><strong>é•¿æŒ‰(Long Press)</strong>ï¼šDown åæŒç»­æ—¶é—´é•¿ä¸”æ—  Move</li>
</ul>
<p><strong>ç©ºé—´åˆæˆ</strong></p>
<p>ç©ºé—´åˆæˆåŸºäºæŒ‡é’ˆä½ç½®ä¸æ¸²æŸ“å•å…ƒè¾¹ç•Œçš„å…³ç³»ï¼š</p>
<ul>
<li><strong>MouseEnter / MouseLeave</strong>ï¼šæŒ‡é’ˆ Move äº‹ä»¶çš„ä½ç½®è¿›å…¥æˆ–ç¦»å¼€æ¸²æŸ“å•å…ƒçš„è¾¹ç•Œ</li>
<li><strong>Hover</strong>ï¼šMouseEnter åˆ° MouseLeave ä¹‹é—´çš„æŒç»­çŠ¶æ€</li>
</ul>
<p>ç©ºé—´åˆæˆéœ€è¦å‘½ä¸­æµ‹è¯•ï¼šæ¯æ¬¡ Move äº‹ä»¶åˆ¤æ–­å½“å‰å‘½ä¸­çš„æ¸²æŸ“å•å…ƒï¼Œä¸ä¸Šä¸€æ¬¡å¯¹æ¯”ï¼Œè§¦å‘ Enter/Leave äº‹ä»¶ã€‚</p>
<p><strong>åˆæˆçš„æœ¬è´¨</strong></p>
<p>äº‹ä»¶åˆæˆæ˜¯çŠ¶æ€æœºï¼šæ ¹æ®å½“å‰çŠ¶æ€å’Œæ–°çš„åŸºç¡€äº‹ä»¶ï¼Œè½¬æ¢åˆ°æ–°çŠ¶æ€å¹¶å¯èƒ½è§¦å‘é«˜çº§äº‹ä»¶ã€‚ä¾‹å¦‚æ‹–æ‹½è¯†åˆ«ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">çŠ¶æ€ï¼šIdle â†’ Down â†’ <span class="hljs-built_in">Moving</span>(ç´¯ç§¯è·ç¦») â†’ Dragging â†’ Idle
</code></pre>
<h4 data-id="heading-49">æŒç»­çŠ¶æ€</h4>
<p>æŒç»­çŠ¶æ€è®°å½•äº¤äº’è¿‡ç¨‹çš„çŠ¶æ€ï¼Œç”¨äºæŒç»­å“åº”å’ŒçŠ¶æ€æŸ¥è¯¢ã€‚</p>
<p><strong>çŠ¶æ€çš„ä½œç”¨</strong></p>
<p>æŒç»­çŠ¶æ€è¡¨è¾¾"æ­£åœ¨è¿›è¡Œ"çš„äº¤äº’ï¼š</p>
<ul>
<li><strong>Hovering</strong>ï¼šæŒ‡é’ˆæ­£åœ¨æ‚¬åœåœ¨æŸä¸ªæ¸²æŸ“å•å…ƒä¸Š</li>
<li><strong>Pressing</strong>ï¼šæŒ‡é’ˆæ­£åœ¨æŒ‰å‹æŸä¸ªæ¸²æŸ“å•å…ƒ</li>
<li><strong>Dragging</strong>ï¼šæ­£åœ¨æ‹–æ‹½æŸä¸ªæ¸²æŸ“å•å…ƒ</li>
</ul>
<p><strong>çŠ¶æ€çš„ç”Ÿå‘½å‘¨æœŸ</strong></p>
<p>æŒç»­çŠ¶æ€ç”±äº‹ä»¶è§¦å‘ï¼ŒæŒç»­åˆ°äº¤äº’ç»“æŸï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">è¿›å…¥äº‹ä»¶ â†’ çŠ¶æ€ = <span class="hljs-literal">true</span>
è¿‡ç¨‹ä¸­ï¼šæŒç»­å“åº”ï¼ˆå¦‚æ›´æ–°ä½ç½®ã€æ˜¾ç¤ºåé¦ˆï¼‰
é€€å‡ºäº‹ä»¶ â†’ çŠ¶æ€ = <span class="hljs-literal">false</span>
</code></pre>
<p><strong>çŠ¶æ€çš„åº”ç”¨</strong></p>
<p>æŒç»­çŠ¶æ€ç”¨äºï¼š</p>
<ul>
<li>æ˜¾ç¤ºè§†è§‰åé¦ˆï¼ˆå¦‚æŒ‰é’®æŒ‰ä¸‹çŠ¶æ€ã€æ‚¬åœé«˜äº®ï¼‰</li>
<li>æŒç»­æ›´æ–°ï¼ˆå¦‚æ‹–æ‹½æ—¶å®æ—¶æ›´æ–°æ»šåŠ¨åç§»ï¼‰</li>
<li>çŠ¶æ€æŸ¥è¯¢ï¼ˆå¦‚åˆ¤æ–­"æ˜¯å¦æ­£åœ¨æ‹–æ‹½"ï¼‰</li>
</ul>
<h4 data-id="heading-50">äº‹ä»¶åˆ†å‘</h4>
<p>äº‹ä»¶åˆ†å‘å°†äº‹ä»¶è·¯ç”±åˆ°ç›®æ ‡æ¸²æŸ“å•å…ƒã€‚</p>
<p><strong>å‘½ä¸­æµ‹è¯•(Hit Test)</strong></p>
<p>å‘½ä¸­æµ‹è¯•åˆ¤æ–­æŒ‡é’ˆä½ç½®å¯¹åº”å“ªä¸ªæ¸²æŸ“å•å…ƒã€‚ä»æ ‘çš„æ ¹èŠ‚ç‚¹é€’å½’éå†ï¼Œæ‰¾åˆ°æœ€æ·±çš„åŒ…å«æŒ‡é’ˆä½ç½®çš„èŠ‚ç‚¹ã€‚</p>
<p><strong>äº‹ä»¶å†’æ³¡(Bubbling)</strong></p>
<p>äº‹ä»¶å¯ä»¥æ²¿ç€æ ‘å‘ä¸Šä¼ æ’­ï¼šäº‹ä»¶å…ˆåœ¨å‘½ä¸­èŠ‚ç‚¹è§¦å‘ï¼Œå¦‚æœæœªå¤„ç†åˆ™å‘çˆ¶èŠ‚ç‚¹ä¼ æ’­ã€‚å†’æ³¡æœºåˆ¶å…è®¸çˆ¶èŠ‚ç‚¹å“åº”å­èŠ‚ç‚¹çš„äº‹ä»¶ã€‚</p>
<h4 data-id="heading-51">å°ç»“</h4>
<p>äº‹ä»¶ç³»ç»Ÿå°†åŸå§‹è¾“å…¥è½¬æ¢ä¸ºè¯­ä¹‰åŒ–äº¤äº’ã€‚åŸºç¡€äº‹ä»¶æ•è·è®¾å¤‡ä¿¡å·ï¼Œäº‹ä»¶åˆæˆé€šè¿‡çŠ¶æ€æœºè¯†åˆ«ç”¨æˆ·æ„å›¾ï¼ŒæŒç»­çŠ¶æ€è®°å½•äº¤äº’è¿‡ç¨‹ã€‚äº‹ä»¶åˆ†å‘é€šè¿‡å‘½ä¸­æµ‹è¯•å’Œå†’æ³¡å°†äº‹ä»¶è·¯ç”±åˆ°ç›®æ ‡ã€‚äº‹ä»¶ç³»ç»Ÿé©±åŠ¨æ»‘åŠ¨å’ŒåŠ¨ç”»ï¼Œæ˜¯äº¤äº’èƒ½åŠ›çš„åŸºç¡€ã€‚</p>
<h2 data-id="heading-52">Figma çš„æ¸²æŸ“æ¨¡å‹</h2>
<p>Figma æ˜¯å‰ä¸¤ç« æŠ½è±¡åŸç†çš„å…·ä½“å®ç°ã€‚Figma çš„æ¸²æŸ“æ¨¡å‹åŒ…å«é™æ€æ¸²æŸ“æ¨¡å‹å’ŒåŠ¨æ€æ¸²æŸ“æ¨¡å‹ï¼Œåˆ†åˆ«å¯¹åº”è®¾è®¡å…ƒç´ çš„è¡¨è¾¾å’ŒåŸå‹äº¤äº’çš„èƒ½åŠ›ã€‚æœ¬ç« ä»‹ç» Figma çš„æ–‡æ¡£æ¨¡å‹ï¼šæœ‰å“ªäº›å›¾å½¢ç±»å‹ã€æœ‰å“ªäº›æ¸²æŸ“æ•ˆæœã€å¦‚ä½•ç»„ç»‡å±‚çº§å…³ç³»ã€å¦‚ä½•å®ç°åŠ¨æ€äº¤äº’ã€‚</p>
<h3 data-id="heading-53">é™æ€ - æ¸²æŸ“å•å…ƒ</h3>
<p>Figma æ”¯æŒå¤šç§å›¾å½¢ç±»å‹å’Œæ ·å¼å±æ€§ã€‚</p>
<p>åŸºç¡€å›¾å½¢ç±»å‹ï¼š</p>
<ul>
<li><strong>çŸ©å½¢(Rectangle)</strong>ï¼šè½´å¯¹é½çŸ©å½¢ï¼Œæ”¯æŒç‹¬ç«‹åœ†è§’åŠå¾„</li>
<li><strong>æ¤­åœ†(Ellipse)</strong>ï¼šæ ‡å‡†æ¤­åœ†å’Œåœ†å½¢</li>
<li><strong>çº¿æ¡(Line)</strong>ï¼šç›´çº¿æ®µ</li>
<li><strong>çŸ¢é‡(Vector)</strong>ï¼šè´å¡å°”æ›²çº¿è·¯å¾„</li>
<li><strong>æ–‡æœ¬(Text)</strong>ï¼šæ–‡å­—å†…å®¹ï¼Œæ”¯æŒå¯Œæ–‡æœ¬æ ·å¼</li>
<li><strong>å®¹å™¨(Frame)</strong>ï¼šçŸ©å½¢å®¹å™¨ï¼Œå¯åŒ…å«å­å…ƒç´ </li>
<li><strong>åˆ†ç»„(Group)</strong>ï¼šé€»è¾‘åˆ†ç»„ï¼Œä¸å¯è§è¾¹ç•Œ</li>
</ul>
<p>å¤åˆå›¾å½¢ï¼š</p>
<ul>
<li><strong>å¸ƒå°”è¿ç®—(Boolean Operation)</strong>ï¼šè·¯å¾„çš„å¹¶é›†ã€äº¤é›†ã€å·®é›†ã€æ’é™¤</li>
<li><strong>ç»„ä»¶(Component)</strong>ï¼šå¯å¤ç”¨çš„è®¾è®¡å…ƒç´ </li>
<li><strong>å®ä¾‹(Instance)</strong>ï¼šç»„ä»¶çš„å¼•ç”¨å®ä¾‹</li>
</ul>
<p>æ ·å¼å±æ€§ï¼š</p>
<p>å¡«å……(Fill)ï¼šçº¯è‰²(RGBA)ã€çº¿æ€§æ¸å˜ã€å¾„å‘æ¸å˜ã€è§’åº¦æ¸å˜ã€å›¾åƒå¡«å……ã€‚ä¸€ä¸ªå›¾å½¢å¯ä»¥æœ‰å¤šä¸ªå¡«å……ï¼ŒæŒ‰é¡ºåºå åŠ ã€‚</p>
<p>æè¾¹(Stroke)ï¼šå®½åº¦ã€å¯¹é½ï¼ˆå±…ä¸­/å†…ä¾§/å¤–ä¾§ï¼‰ã€ç«¯ç‚¹æ ·å¼ï¼ˆå¹³ç›´/åœ†å½¢/æ–¹å½¢ï¼‰ã€è¿æ¥æ ·å¼ï¼ˆå°–è§’/åœ†è§’/æ–œè§’ï¼‰ã€è™šçº¿æ¨¡å¼ã€‚æè¾¹ä½¿ç”¨ä¸å¡«å……ç›¸åŒçš„é¢œè‰²ç±»å‹ã€‚</p>
<h3 data-id="heading-54">é™æ€ - æ¸²æŸ“æ•ˆæœ</h3>
<p>Figma æ”¯æŒå¤šç§æ¸²æŸ“æ•ˆæœï¼Œæ‰©å±•å›¾å½¢çš„è§†è§‰è¡¨ç°ã€‚</p>
<p>é˜´å½±ï¼šå¤–é˜´å½±(Drop Shadow)åœ¨å›¾å½¢å¤–éƒ¨æŠ•å°„é˜´å½±ï¼Œå†…é˜´å½±(Inner Shadow)åœ¨å›¾å½¢å†…éƒ¨æ˜¾ç¤ºé˜´å½±ã€‚ä¸€ä¸ªå›¾å½¢å¯ä»¥æœ‰å¤šä¸ªé˜´å½±ï¼Œå åŠ æ˜¾ç¤ºã€‚</p>
<p>æ¨¡ç³Šï¼šå›¾å±‚æ¨¡ç³Š(Layer Blur)å¯¹å›¾å½¢åŠå…¶å­å…ƒç´ æ•´ä½“æ¨¡ç³Šï¼ŒèƒŒæ™¯æ¨¡ç³Š(Background Blur)å¯¹å›¾å½¢èƒŒåçš„å†…å®¹æ¨¡ç³Šã€‚</p>
<p>é€æ˜åº¦ä¸æ··åˆï¼šé€æ˜åº¦(Opacity)æ§åˆ¶ 0-100% çš„ä¸é€æ˜åº¦ã€‚æ··åˆæ¨¡å¼(Blend Mode)å®šä¹‰ä¸ä¸‹å±‚å†…å®¹çš„æ··åˆæ–¹å¼ï¼Œæ”¯æŒç©¿é€ã€æ­£å¸¸ã€å˜æš—ç±»ï¼ˆå˜æš—ã€æ­£ç‰‡å åº•ã€é¢œè‰²åŠ æ·±ï¼‰ã€å˜äº®ç±»ï¼ˆå˜äº®ã€æ»¤è‰²ã€é¢œè‰²å‡æ·¡ï¼‰ã€å¯¹æ¯”ç±»ï¼ˆå åŠ ã€æŸ”å…‰ã€å¼ºå…‰ï¼‰ã€å·®å€¼ç±»ï¼ˆå·®å€¼ã€æ’é™¤ï¼‰ã€é¢œè‰²ç±»ï¼ˆè‰²ç›¸ã€é¥±å’Œåº¦ã€é¢œè‰²ã€æ˜åº¦ï¼‰ã€‚</p>
<p>é®ç½©ï¼šAlpha é®ç½©ä½¿ç”¨å›¾å½¢çš„ Alpha é€šé“è£å‰ªåç»­å…„å¼Ÿå…ƒç´ ï¼Œè½®å»“é®ç½©(Outline Mask)è®©å›¾å½¢æœ¬èº«æ¸²æŸ“åå†ä½œä¸ºé®ç½©ã€‚</p>
<p>è£å‰ªï¼šå®¹å™¨è£å‰ª(Clip Content)ä½¿ Frame å¯ä»¥è£å‰ªè¶…å‡ºè¾¹ç•Œçš„å­å…ƒç´ ã€‚</p>
<h3 data-id="heading-55">é™æ€ - å±‚çº§ç»„ç»‡åŠæ¸²æŸ“å½±å“</h3>
<p>Figma ä½¿ç”¨æ ‘å½¢ç»“æ„ç»„ç»‡å…ƒç´ ï¼Œé€šè¿‡ Frame å’Œ Group å½¢æˆå±‚çº§ã€‚</p>
<p>å±‚çº§ç»“æ„ï¼šFrame æ˜¯å®¹å™¨ï¼Œå¯åŒ…å«å­å…ƒç´ ï¼›Group æ˜¯é€»è¾‘åˆ†ç»„ï¼Œå°†å¤šä¸ªå…ƒç´ ç»„åˆä¸ºä¸€ä¸ªå•å…ƒã€‚å±‚çº§å…³ç³»å®šä¹‰äº†å…ƒç´ ä¹‹é—´çš„æ¸²æŸ“å½±å“ã€‚</p>
<p>æ¸²æŸ“å½±å“ï¼š</p>
<p>çˆ¶å­å½±å“ï¼šå˜æ¢(Transform)ç´¯ç§¯åˆ°å­å…ƒç´ ï¼Œé€æ˜åº¦(Opacity)ç›¸ä¹˜åˆ°å­å…ƒç´ ï¼Œå›¾å±‚æ¨¡ç³Š(Layer Blur)ä½œç”¨äºçˆ¶å…ƒç´ åŠå…¶æ‰€æœ‰å­å…ƒç´ ã€‚</p>
<p>å…„å¼Ÿå½±å“ï¼šé®ç½©(Mask)è£å‰ªåç»­çš„å…„å¼Ÿå…ƒç´ ï¼ˆç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ªé®ç½©æˆ–å®¹å™¨è¾¹ç•Œï¼‰ï¼Œå¸ƒå°”è¿ç®—ä½œç”¨äºå¤šä¸ªå…„å¼Ÿå…ƒç´ çš„è·¯å¾„ã€‚</p>
<p>èƒŒæ™¯ä¾èµ–ï¼šèƒŒæ™¯æ¨¡ç³Šéœ€è¦å…ƒç´ èƒŒåå·²æ¸²æŸ“çš„å†…å®¹ï¼ˆçˆ¶å…ƒç´ èƒŒæ™¯ã€ä¹‹å‰çš„å…„å¼Ÿå…ƒç´ ï¼‰ï¼Œæ··åˆæ¨¡å¼ä¸èƒŒæ™¯å†…å®¹è¿›è¡Œåƒç´ æ··åˆã€‚</p>
<h3 data-id="heading-56">é™æ€ - åˆæˆé¡ºåº</h3>
<p>Figma æŒ‰ç…§å›ºå®šçš„é¡ºåºåˆæˆå…ƒç´ çš„è§†è§‰æ•ˆæœï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> å¤–é˜´å½± (Drop Shadow)
<span class="hljs-bullet">2.</span> èƒŒæ™¯æ¨¡ç³Š (Background Blur)
<span class="hljs-bullet">3.</span> å¡«å…… (Fill)
<span class="hljs-bullet">4.</span> å­å…ƒç´  (Children)
<span class="hljs-bullet">5.</span> æè¾¹ (Stroke)
<span class="hljs-bullet">6.</span> å†…é˜´å½± (Inner Shadow)
<span class="hljs-bullet">7.</span> å›¾å±‚æ¨¡ç³Š (Layer Blur)
<span class="hljs-bullet">8.</span> é€æ˜åº¦å’Œæ··åˆæ¨¡å¼ (Opacity &amp; Blend Mode)
</code></pre>
<p>è¿™ä¸ªé¡ºåºç¡®ä¿æ•ˆæœä¹‹é—´çš„ä¾èµ–å…³ç³»æ­£ç¡®ã€‚æè¾¹çš„ä½ç½®å¯ä»¥è°ƒæ•´ï¼šå¦‚æœ Frame çš„ Clip Content ä¸º falseï¼Œæè¾¹åœ¨å­å…ƒç´ ä¹‹å‰æ¸²æŸ“ã€‚</p>
<h3 data-id="heading-57">åŠ¨æ€ - æ»‘åŠ¨</h3>
<p>Figma çš„ Frame å¯ä»¥ä½œä¸ºæ»šåŠ¨å®¹å™¨ã€‚</p>
<p>æ»šåŠ¨å®¹å™¨ï¼šæ”¯æŒæ°´å¹³ã€å‚ç›´ã€åŒå‘æ»šåŠ¨ï¼Œæ»šåŠ¨è¾¹ç•Œç”±å†…å®¹å¤§å°å’Œè§†å£å¤§å°å†³å®šï¼Œæº¢å‡ºè¡Œä¸ºå¯ä»¥æ˜¯æ»šåŠ¨(Scroll)æˆ–éšè—(Hidden)ã€‚</p>
<p>å®šä½æ¨¡å¼ï¼šå›ºå®šå®šä½(Fixed)ä¸éšæ»šåŠ¨ç§»åŠ¨ï¼Œç²˜æ€§å®šä½(Sticky)æ»šåŠ¨åˆ°ç‰¹å®šä½ç½®åå›ºå®šã€‚</p>
<p>æƒ¯æ€§æ»šåŠ¨ï¼šåŸå‹æ¨¡å¼ä¸‹ï¼Œæ»‘åŠ¨æ‰‹åŠ¿è§¦å‘æƒ¯æ€§æ»šåŠ¨ï¼Œæ¨¡æ‹Ÿç‰©ç†å‡é€Ÿæ•ˆæœã€‚</p>
<h3 data-id="heading-58">åŠ¨æ€ - è‡ªåŠ¨å¸ƒå±€</h3>
<p>Figma çš„ Auto Layout æ˜¯è‡ªåŠ¨å¸ƒå±€çš„å®ç°ï¼Œæ ¹æ®çº¦æŸè‡ªåŠ¨è®¡ç®—å…ƒç´ çš„å˜æ¢ã€‚Auto Layout æ”¯æŒåŠ¨æ€å“åº”ï¼šå½“å†…å®¹æ”¹å˜æ—¶ï¼Œå¸ƒå±€è‡ªåŠ¨é‡æ–°è®¡ç®—ï¼Œå…ƒç´ çš„ä½ç½®å’Œå°ºå¯¸åŠ¨æ€è°ƒæ•´ã€‚</p>
<p>å¸ƒå±€çº¦æŸï¼š</p>
<ul>
<li><strong>æ’åˆ—æ–¹å‘</strong>ï¼šæ°´å¹³(Horizontal)æˆ–å‚ç›´(Vertical)æ’åˆ—å­å…ƒç´ </li>
<li><strong>å¯¹é½æ–¹å¼</strong>ï¼šå­å…ƒç´ åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½ï¼ˆé¡¶éƒ¨/åº•éƒ¨/å·¦ä¾§/å³ä¾§/å±…ä¸­ï¼‰</li>
<li><strong>é—´è·</strong>ï¼šå­å…ƒç´ ä¹‹é—´çš„å›ºå®šé—´è·</li>
<li><strong>å†…è¾¹è·</strong>ï¼šå®¹å™¨è¾¹ç¼˜ä¸å­å…ƒç´ ä¹‹é—´çš„è·ç¦»</li>
</ul>
<p>å°ºå¯¸æ¨¡å¼ï¼š</p>
<ul>
<li><strong>Hug Contents</strong>ï¼šå®¹å™¨å°ºå¯¸é€‚åº”å­å…ƒç´ ï¼ˆè‡ªä¸‹è€Œä¸Šï¼‰</li>
<li><strong>Fixed</strong>ï¼šå®¹å™¨å°ºå¯¸å›ºå®š</li>
<li><strong>Fill Container</strong>ï¼šå…ƒç´ å¡«å……çˆ¶å®¹å™¨åˆ†é…çš„ç©ºé—´ï¼ˆè‡ªä¸Šè€Œä¸‹ï¼‰</li>
</ul>
<p>åŠ¨æ€å“åº”ï¼š</p>
<ul>
<li>æ–‡æœ¬å†…å®¹æ”¹å˜æ—¶ï¼Œæ–‡æœ¬æ¡†çš„å°ºå¯¸è‡ªåŠ¨è°ƒæ•´ï¼Œçˆ¶å®¹å™¨çš„å¸ƒå±€è‡ªåŠ¨æ›´æ–°</li>
<li>æ·»åŠ æˆ–åˆ é™¤å­å…ƒç´ æ—¶ï¼Œå®¹å™¨å°ºå¯¸å’Œå…¶ä»–å­å…ƒç´ ä½ç½®è‡ªåŠ¨é‡æ–°è®¡ç®—</li>
<li>åµŒå¥—çš„ Auto Layout å®¹å™¨å½¢æˆå±‚çº§å“åº”ï¼šå­å®¹å™¨çš„å°ºå¯¸æ”¹å˜è§¦å‘çˆ¶å®¹å™¨çš„å¸ƒå±€æ›´æ–°</li>
</ul>
<p>çº¦æŸ(Constraints)ï¼š</p>
<p>Constraints æ˜¯ç›¸å¯¹å®šä½çš„å¦ä¸€ç§å½¢å¼ï¼Œå®šä¹‰å…ƒç´ ç›¸å¯¹çˆ¶å®¹å™¨çš„å›ºå®šå…³ç³»ï¼š</p>
<ul>
<li><strong>å›ºå®šè¾¹ç¼˜</strong>ï¼šå…ƒç´ çš„æŸæ¡è¾¹ç¼˜ç›¸å¯¹çˆ¶å®¹å™¨è¾¹ç¼˜å›ºå®šè·ç¦»ï¼ˆå¦‚"è·ç¦»é¡¶éƒ¨ 20px"ï¼‰</li>
<li><strong>æ¯”ä¾‹ç¼©æ”¾</strong>ï¼šå…ƒç´ éšçˆ¶å®¹å™¨æŒ‰æ¯”ä¾‹ç¼©æ”¾</li>
<li><strong>å±…ä¸­</strong>ï¼šå…ƒç´ åœ¨çˆ¶å®¹å™¨ä¸­ä¿æŒå±…ä¸­</li>
</ul>
<p>Constraints ä¸ Auto Layout å¯ä»¥å…±å­˜ï¼šAuto Layout ä½œç”¨äºå®¹å™¨çš„ç›´æ¥å­å…ƒç´ ï¼ŒConstraints ä½œç”¨äºé Auto Layout å®¹å™¨ä¸­çš„å…ƒç´ ã€‚</p>
<h3 data-id="heading-59">åŠ¨æ€ - åŠ¨ç”»</h3>
<p>Figma é€šè¿‡æ™ºèƒ½åŠ¨ç”»å®ç°åŸå‹çš„è¿‡æ¸¡æ•ˆæœã€‚</p>
<p>æ™ºèƒ½åŠ¨ç”»(Smart Animate)è‡ªåŠ¨ç”Ÿæˆä¸¤ä¸ªç”»é¢ä¹‹é—´çš„è¿‡æ¸¡ï¼šæ ¹æ®å›¾å±‚åç§°ã€ID åŒ¹é…å¯¹åº”å…ƒç´ ï¼Œå¯¹æ¯”å±æ€§å·®å¼‚ï¼Œä¸ºå¯æ’å€¼çš„å±æ€§ç”Ÿæˆå¹³æ»‘è¿‡æ¸¡ï¼Œä¸å¯æ’å€¼çš„ä½¿ç”¨æº¶è§£(Dissolve)ã€‚</p>
<p>å¯åŠ¨ç”»çš„å±æ€§ï¼šå˜æ¢ï¼ˆä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰ã€é€æ˜åº¦ã€é¢œè‰²ï¼ˆå¡«å……å’Œæè¾¹ï¼‰ã€å°ºå¯¸ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰ã€åœ†è§’åŠå¾„ã€æ»šåŠ¨åç§»ã€‚</p>
<p>æº¶è§£è¿‡æ¸¡ï¼šå½“å…ƒç´ ç±»å‹æ”¹å˜æˆ–å±æ€§ä¸å¯æ’å€¼æ—¶ï¼Œæ—§å…ƒç´ æ·¡å‡ºã€æ–°å…ƒç´ æ·¡å…¥ã€‚</p>
<p>ç¼“åŠ¨æ§åˆ¶ï¼šæ”¯æŒçº¿æ€§ï¼ˆåŒ€é€Ÿï¼‰ã€ç¼“å…¥ã€ç¼“å‡ºã€ç¼“å…¥ç¼“å‡ºã€å¼¹ç°§ï¼ˆç‰©ç†å¼¹ç°§æ•ˆæœï¼‰ã€‚</p>
<p>åŠ¨ä½œç±»å‹ï¼šå¯¼èˆª(Navigate)è·³è½¬åˆ°å¦ä¸€ä¸ªç”»é¢ï¼Œæ‰“å¼€å¼¹çª—(Open Overlay)å’Œå…³é—­å¼¹çª—(Close Overlay)æ§åˆ¶æµ®å±‚ï¼Œè¿”å›(Back)è¿”å›ä¸Šä¸€ä¸ªç”»é¢ï¼Œæ»šåŠ¨åˆ°(Scroll To)æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®ï¼Œåˆ‡æ¢(Toggle)åˆ‡æ¢ç»„ä»¶å˜ä½“ã€‚</p>
<h3 data-id="heading-60">åŠ¨æ€ - äº‹ä»¶</h3>
<p>Figma åŸå‹æ”¯æŒäº¤äº’è§¦å‘å™¨ã€æŒç»­çŠ¶æ€å’Œäº‹ä»¶åˆæˆã€‚</p>
<p>è§¦å‘å™¨ï¼šç‚¹å‡»(On Click)å“åº”é¼ æ ‡ç‚¹å‡»æˆ–è§¦æ‘¸ï¼Œæ‚¬åœ(On Hover)å“åº”é¼ æ ‡æ‚¬åœï¼ŒæŒ‰ä¸‹(On Press)å“åº”é¼ æ ‡æˆ–è§¦æ‘¸æŒ‰ä¸‹ï¼Œæ‹–æ‹½(On Drag)å“åº”æ‹–æ‹½æ‰‹åŠ¿ï¼Œé”®ç›˜(On Key)å“åº”æŒ‰é”®ã€‚</p>
<p>æŒç»­çŠ¶æ€ï¼šåŸå‹æ‰§è¡Œæ—¶ç»´æŠ¤æ‚¬åœçŠ¶æ€ï¼ˆé¼ æ ‡æ‚¬åœåœ¨å…ƒç´ ä¸Šï¼‰ã€æŒ‰å‹çŠ¶æ€ï¼ˆæ­£åœ¨æŒ‰å‹å…ƒç´ ï¼‰ã€æ‹–æ‹½çŠ¶æ€ï¼ˆæ­£åœ¨æ‹–æ‹½å…ƒç´ ï¼‰ï¼Œç”¨äºæ˜¾ç¤ºäº¤äº’åé¦ˆã€‚</p>
<p>äº‹ä»¶åˆæˆï¼šåŸºç¡€çš„æŒ‡é’ˆäº‹ä»¶ï¼ˆDownã€Moveã€Upï¼‰åˆæˆä¸ºé«˜çº§äº¤äº’ï¼ˆClickã€Dragã€Hoverï¼‰ï¼ŒåŸºç¡€çš„é”®ç›˜äº‹ä»¶åˆæˆä¸ºæŒ‰é”®æ“ä½œã€‚</p>
<h3 data-id="heading-61">å°ç»“</h3>
<p>Figma å®ç°äº†å®Œæ•´çš„ 2D æ¸²æŸ“æ¨¡å‹ã€‚é™æ€æ¸²æŸ“æ¨¡å‹æä¾›ä¸°å¯Œçš„å›¾å½¢ç±»å‹ï¼ˆçŸ©å½¢ã€æ¤­åœ†ã€çŸ¢é‡ã€æ–‡æœ¬ç­‰ï¼‰å’Œæ¸²æŸ“æ•ˆæœï¼ˆé˜´å½±ã€æ¨¡ç³Šã€æ··åˆã€é®ç½©ï¼‰ï¼Œé€šè¿‡æ ‘å½¢ç»“æ„ç»„ç»‡å…ƒç´ ï¼ŒæŒ‰å›ºå®šé¡ºåºåˆæˆè§†è§‰æ•ˆæœã€‚åŠ¨æ€æ¸²æŸ“æ¨¡å‹æ”¯æŒæ»šåŠ¨å®¹å™¨ã€æ™ºèƒ½åŠ¨ç”»å’Œäº‹ä»¶è§¦å‘ï¼Œä½¿å¾—é™æ€è®¾è®¡å¯ä»¥è½¬åŒ–ä¸ºäº¤äº’åŸå‹ã€‚Figma çš„æ¸²æŸ“æ¨¡å‹æ˜¯å‰ä¸¤ç« æŠ½è±¡åŸç†çš„å®Œæ•´å®ç°ã€‚</p>
<h2 data-id="heading-62">HTML/CSS çš„æ¸²æŸ“æ¨¡å‹</h2>
<p>CSS æ˜¯ Web å¹³å°çš„æ ·å¼è¯­è¨€ï¼Œå®šä¹‰äº† HTML å…ƒç´ çš„è§†è§‰å‘ˆç°ã€‚CSS çš„æ¸²æŸ“æ¨¡å‹åŒ…å«é™æ€æ¸²æŸ“æ¨¡å‹å’ŒåŠ¨æ€æ¸²æŸ“æ¨¡å‹ï¼Œåˆ†åˆ«å¯¹åº”å…ƒç´ çš„æ ·å¼è¡¨è¾¾å’Œäº¤äº’åŠ¨ç”»èƒ½åŠ›ã€‚æœ¬ç« ä»‹ç» CSS å¦‚ä½•å®ç° 2D æ¸²æŸ“æŠ½è±¡ï¼šæœ‰å“ªäº›å›¾å½¢èƒ½åŠ›ã€æœ‰å“ªäº›æ¸²æŸ“æ•ˆæœã€å¦‚ä½•ç»„ç»‡å±‚çº§å…³ç³»ã€å¦‚ä½•å®ç°åŠ¨æ€äº¤äº’ã€‚</p>
<h3 data-id="heading-63">é™æ€ - æ¸²æŸ“å•å…ƒ</h3>
<p>CSS ä¸­çš„æ¸²æŸ“å•å…ƒæ˜¯ HTML å…ƒç´ ï¼ˆElementï¼‰ã€‚æ¯ä¸ªå…ƒç´ é€šè¿‡ CSS å±æ€§å®šä¹‰å…¶å‡ ä½•å’Œæ ·å¼ã€‚</p>
<p>åŸºç¡€å›¾å½¢ç±»å‹ï¼š</p>
<p>CSS ä¸ç›´æ¥æä¾›å›¾å½¢ç±»å‹ï¼Œè€Œæ˜¯é€šè¿‡ç›’æ¨¡å‹ï¼ˆBox Modelï¼‰å®šä¹‰å…ƒç´ çš„çŸ©å½¢åŒºåŸŸã€‚æ‰€æœ‰å…ƒç´ é»˜è®¤æ˜¯çŸ©å½¢ï¼Œé€šè¿‡ CSS å±æ€§å¯ä»¥å˜æ¢ä¸ºå…¶ä»–å½¢çŠ¶ï¼š</p>
<ul>
<li><strong>çŸ©å½¢</strong>ï¼šå…ƒç´ çš„é»˜è®¤å½¢çŠ¶ï¼Œç”± widthã€height å®šä¹‰</li>
<li><strong>åœ†è§’çŸ©å½¢</strong>ï¼šé€šè¿‡ border-radius å®ç°</li>
<li><strong>åœ†å½¢/æ¤­åœ†</strong>ï¼šborder-radius è®¾ç½®ä¸º 50%</li>
<li><strong>ä»»æ„å½¢çŠ¶</strong>ï¼šé€šè¿‡ clip-path è£å‰ªä¸ºå¤šè¾¹å½¢ã€åœ†å½¢ã€æ¤­åœ†ã€è·¯å¾„</li>
</ul>
<p>èƒŒæ™¯å¡«å……ï¼š</p>
<ul>
<li><strong>background-color</strong>ï¼šçº¯è‰²å¡«å……</li>
<li><strong>background-image</strong>ï¼šå›¾åƒå¡«å……ï¼Œæ”¯æŒ url() å’Œæ¸å˜</li>
<li><strong>æ¸å˜</strong>ï¼šlinear-gradientï¼ˆçº¿æ€§ï¼‰ã€radial-gradientï¼ˆå¾„å‘ï¼‰ã€conic-gradientï¼ˆåœ†é”¥ï¼‰</li>
</ul>
<p>è¾¹æ¡†ï¼š</p>
<ul>
<li><strong>border</strong>ï¼šè¾¹æ¡†æ ·å¼ï¼ŒåŒ…å« border-widthã€border-styleã€border-color</li>
<li><strong>border-radius</strong>ï¼šåœ†è§’åŠå¾„ï¼Œæ”¯æŒæ¯ä¸ªè§’ç‹¬ç«‹è®¾ç½®</li>
</ul>
<p>æ–‡æœ¬ï¼š</p>
<ul>
<li><strong>font</strong>ï¼šå­—ä½“å±æ€§ï¼ŒåŒ…å« font-familyã€font-sizeã€font-weightã€font-style</li>
<li><strong>color</strong>ï¼šæ–‡æœ¬é¢œè‰²</li>
<li><strong>text-decoration</strong>ï¼šæ–‡æœ¬è£…é¥°ï¼ˆä¸‹åˆ’çº¿ã€åˆ é™¤çº¿ç­‰ï¼‰</li>
</ul>
<p>çŸ¢é‡å›¾å½¢ (SVG)ï¼š</p>
<p>SVG (Scalable Vector Graphics) æ˜¯ CSS æ¸²æŸ“æ¨¡å‹ä¸­çš„çŸ¢é‡è¡¨è¾¾æ–¹å¼ã€‚SVG å…ƒç´ å¯ä»¥åµŒå…¥ HTML ä¸­ï¼Œé€šè¿‡ SVG æ ‡ç­¾å®šä¹‰çŸ¢é‡å›¾å½¢ã€‚</p>
<p>SVG æä¾›å®Œæ•´çš„çŸ¢é‡å›¾å½¢èƒ½åŠ›ï¼š</p>
<ul>
<li><strong>åŸºç¡€å›¾å½¢</strong>ï¼š<code>&lt;rect&gt;</code>ï¼ˆçŸ©å½¢ï¼‰ã€<code>&lt;circle&gt;</code>ï¼ˆåœ†å½¢ï¼‰ã€<code>&lt;ellipse&gt;</code>ï¼ˆæ¤­åœ†ï¼‰ã€<code>&lt;line&gt;</code>ï¼ˆç›´çº¿ï¼‰ã€<code>&lt;polyline&gt;</code>ï¼ˆæŠ˜çº¿ï¼‰ã€<code>&lt;polygon&gt;</code>ï¼ˆå¤šè¾¹å½¢ï¼‰</li>
<li><strong>è·¯å¾„</strong>ï¼š<code>&lt;path&gt;</code> ä½¿ç”¨è·¯å¾„å‘½ä»¤ï¼ˆMã€Lã€Cã€Qã€A ç­‰ï¼‰å®šä¹‰ä»»æ„å½¢çŠ¶ï¼Œæ”¯æŒè´å¡å°”æ›²çº¿</li>
<li><strong>æ–‡æœ¬</strong>ï¼š<code>&lt;text&gt;</code> å®šä¹‰çŸ¢é‡æ–‡æœ¬</li>
<li><strong>åˆ†ç»„</strong>ï¼š<code>&lt;g&gt;</code> å°†å¤šä¸ªå›¾å½¢åˆ†ç»„</li>
</ul>
<p>SVG çš„æ ·å¼æ§åˆ¶ï¼š</p>
<ul>
<li><strong>fill</strong>ï¼šå¡«å……é¢œè‰²æˆ–æ¸å˜</li>
<li><strong>stroke</strong>ï¼šæè¾¹é¢œè‰²ã€å®½åº¦ã€ç«¯ç‚¹æ ·å¼ã€è¿æ¥æ ·å¼</li>
<li><strong>æ¸å˜</strong>ï¼š<code>&lt;linearGradient&gt;</code>ã€<code>&lt;radialGradient&gt;</code> å®šä¹‰æ¸å˜å¡«å……</li>
<li><strong>å˜æ¢</strong>ï¼štransform å±æ€§æ”¯æŒå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾</li>
</ul>
<p>SVG ä¸ CSS çš„ç»“åˆï¼š</p>
<ul>
<li>SVG å…ƒç´ å¯ä»¥åº”ç”¨ CSS æ ·å¼ï¼ˆå¦‚ opacityã€filterã€clip-pathï¼‰</li>
<li>CSS çš„æ¸²æŸ“æ•ˆæœï¼ˆé˜´å½±ã€æ¨¡ç³Šã€æ··åˆæ¨¡å¼ï¼‰åŒæ ·ä½œç”¨äº SVG å…ƒç´ </li>
<li>SVG çš„åæ ‡ç³»ç»Ÿç‹¬ç«‹äº HTML ç›’æ¨¡å‹ï¼Œé€šè¿‡ viewBox å®šä¹‰</li>
</ul>
<h3 data-id="heading-64">é™æ€ - æ¸²æŸ“æ•ˆæœ</h3>
<p>CSS æä¾›ä¸°å¯Œçš„æ¸²æŸ“æ•ˆæœï¼Œå¯¹åº”å‰æ–‡çš„å¯è§æ€§æ§åˆ¶ã€æ··åˆæ¨¡å¼ã€åå¤„ç†æ•ˆæœã€‚</p>
<p>å¯è§æ€§æ§åˆ¶ï¼š</p>
<ul>
<li><strong>opacity</strong>ï¼šé€æ˜åº¦ï¼ˆ0-1ï¼‰ï¼Œåˆ›å»ºå±‚å ä¸Šä¸‹æ–‡</li>
<li><strong>visibility</strong>ï¼šå¯è§æ€§ï¼ˆvisible/hiddenï¼‰ï¼Œhidden æ—¶ä¸å“åº”äº‹ä»¶</li>
</ul>
<p>è£å‰ªï¼š</p>
<ul>
<li><strong>clip-path</strong>ï¼šä½¿ç”¨å‡ ä½•è·¯å¾„è£å‰ªå…ƒç´ ï¼ˆcircleã€ellipseã€polygonã€pathï¼‰</li>
<li><strong>overflow</strong>ï¼šå®¹å™¨æº¢å‡ºå¤„ç†ï¼ˆvisible/hidden/scroll/autoï¼‰</li>
</ul>
<p>é®ç½©ï¼š</p>
<ul>
<li><strong>mask-image</strong>ï¼šé®ç½©å›¾åƒ</li>
<li><strong>mask-mode</strong>ï¼šé®ç½©æ¨¡å¼ï¼ˆalpha/luminanceï¼‰</li>
<li><strong>mask-composite</strong>ï¼šå¤šä¸ªé®ç½©å±‚çš„åˆæˆæ–¹å¼ï¼ˆadd/subtract/intersect/excludeï¼‰</li>
</ul>
<p>æ··åˆæ¨¡å¼ï¼š</p>
<ul>
<li><strong>mix-blend-mode</strong>ï¼šå…ƒç´ ä¸ä¸‹å±‚å†…å®¹çš„æ··åˆï¼ˆmultiplyã€screenã€overlay ç­‰ï¼‰</li>
<li><strong>background-blend-mode</strong>ï¼šå…ƒç´ å¤šä¸ªèƒŒæ™¯å±‚ä¹‹é—´çš„æ··åˆ</li>
</ul>
<p>åå¤„ç†æ•ˆæœï¼š</p>
<ul>
<li><strong>filter</strong>ï¼šå›¾åƒæ»¤é•œï¼ŒåŒ…å«ï¼š
<ul>
<li>æ¨¡ç³Šï¼šblur()</li>
<li>é¢œè‰²è°ƒæ•´ï¼šbrightness()ã€contrast()ã€saturate()ã€grayscale()ã€hue-rotate()</li>
<li>å…¶ä»–ï¼šinvert()ã€opacity()ã€drop-shadow()</li>
</ul>
</li>
<li><strong>backdrop-filter</strong>ï¼šèƒŒæ™¯æ¨¡ç³Šï¼Œå¯¹å…ƒç´ èƒŒåçš„å†…å®¹åº”ç”¨æ»¤é•œ</li>
</ul>
<p>é˜´å½±ï¼š</p>
<ul>
<li><strong>box-shadow</strong>ï¼šç›’é˜´å½±ï¼Œæ”¯æŒå¤šä¸ªé˜´å½±å åŠ </li>
<li><strong>text-shadow</strong>ï¼šæ–‡æœ¬é˜´å½±</li>
</ul>
<h3 data-id="heading-65">é™æ€ - è‡ªåŠ¨å¸ƒå±€</h3>
<p>CSS æä¾›å¤šç§å¸ƒå±€ç³»ç»Ÿï¼Œè‡ªåŠ¨è®¡ç®—å…ƒç´ çš„å˜æ¢ã€‚</p>
<p>å¸ƒå±€æ¨¡å¼ï¼š</p>
<ul>
<li><strong>æ­£å¸¸æµ(Normal Flow)</strong>ï¼šå—çº§å…ƒç´ å‚ç›´æ’åˆ—ï¼Œè¡Œå†…å…ƒç´ æ°´å¹³æ’åˆ—</li>
<li><strong>Flexbox</strong>ï¼šä¸€ç»´å¼¹æ€§å¸ƒå±€ï¼Œé€šè¿‡ display: flex å¯ç”¨</li>
<li><strong>Grid</strong>ï¼šäºŒç»´ç½‘æ ¼å¸ƒå±€ï¼Œé€šè¿‡ display: grid å¯ç”¨</li>
<li><strong>å®šä½(Positioning)</strong>ï¼šé€šè¿‡ position å±æ€§æ”¹å˜å…ƒç´ çš„å®šä½æ–¹å¼</li>
</ul>
<p>Flexbox å¸ƒå±€çº¦æŸï¼š</p>
<ul>
<li><strong>flex-direction</strong>ï¼šæ’åˆ—æ–¹å‘ï¼ˆrow/columnï¼‰</li>
<li><strong>justify-content</strong>ï¼šä¸»è½´å¯¹é½æ–¹å¼</li>
<li><strong>align-items</strong>ï¼šäº¤å‰è½´å¯¹é½æ–¹å¼</li>
<li><strong>gap</strong>ï¼šå­å…ƒç´ é—´è·</li>
<li><strong>flex</strong>ï¼šå­å…ƒç´ çš„ä¼¸ç¼©æ¯”ä¾‹ï¼ˆflex-growã€flex-shrinkã€flex-basisï¼‰</li>
</ul>
<p>Grid å¸ƒå±€çº¦æŸï¼š</p>
<ul>
<li><strong>grid-template-rows/columns</strong>ï¼šæ˜¾å¼å®šä¹‰ç½‘æ ¼è½¨é“</li>
<li><strong>grid-auto-rows/columns</strong>ï¼šéšå¼ç½‘æ ¼è½¨é“çš„å°ºå¯¸</li>
<li><strong>gap</strong>ï¼šç½‘æ ¼é—´è·</li>
<li><strong>justify-items/align-items</strong>ï¼šå•å…ƒæ ¼å†…å…ƒç´ çš„å¯¹é½</li>
<li><strong>grid-column/row</strong>ï¼šå…ƒç´ åœ¨ç½‘æ ¼ä¸­çš„ä½ç½®</li>
</ul>
<p>ç›’æ¨¡å‹ï¼š</p>
<ul>
<li><strong>box-sizing</strong>ï¼šç›’æ¨¡å‹è®¡ç®—æ–¹å¼ï¼ˆcontent-box/border-boxï¼‰</li>
<li><strong>width/height</strong>ï¼šå…ƒç´ å°ºå¯¸</li>
<li><strong>margin</strong>ï¼šå¤–è¾¹è·</li>
<li><strong>padding</strong>ï¼šå†…è¾¹è·</li>
</ul>
<h3 data-id="heading-66">é™æ€ - å±‚çº§ç»„ç»‡åŠæ¸²æŸ“å½±å“</h3>
<p>CSS é€šè¿‡ DOM æ ‘ç»„ç»‡å…ƒç´ ï¼ŒHTML å…ƒç´ å½¢æˆçˆ¶å­å±‚çº§å…³ç³»ã€‚</p>
<p>å±‚çº§ç»“æ„ï¼šDOM æ ‘æ˜¯ HTML æ–‡æ¡£çš„æ ‘å½¢ç»“æ„ï¼Œæ¯ä¸ª HTML å…ƒç´ ï¼ˆ<code>&lt;div&gt;</code>ã€<code>&lt;span&gt;</code> ç­‰ï¼‰æ˜¯æ ‘çš„èŠ‚ç‚¹ã€‚CSS é€šè¿‡é€‰æ‹©å™¨åŒ¹é…å…ƒç´ ï¼Œåº”ç”¨æ ·å¼ã€‚</p>
<p>æ¸²æŸ“å½±å“ï¼š</p>
<p>åä»£çº§åˆ«ï¼š</p>
<ul>
<li><strong>transform</strong>ï¼šå˜æ¢ç´¯ç§¯åˆ°å­å…ƒç´ </li>
<li><strong>opacity</strong>ï¼šé€æ˜åº¦ç›¸ä¹˜åˆ°å­å…ƒç´ </li>
<li><strong>filter</strong>ï¼šä½œç”¨äºå…ƒç´ åŠå…¶æ‰€æœ‰å­å…ƒç´ </li>
</ul>
<p>å…„å¼Ÿå½±å“ï¼š</p>
<p>CSS æ²¡æœ‰ç›´æ¥çš„å…„å¼Ÿå½±å“æœºåˆ¶ï¼ˆå¦‚è’™ç‰ˆï¼‰ï¼Œä½†é€šè¿‡å±‚å é¡ºåºï¼ˆz-indexï¼‰å’Œå®šä½å¯ä»¥å®ç°å…ƒç´ é—´çš„è¦†ç›–å…³ç³»ã€‚</p>
<p>èƒŒæ™¯ä¾èµ–ï¼š</p>
<ul>
<li><strong>backdrop-filter</strong>ï¼šä¾èµ–å…ƒç´ èƒŒåå·²æ¸²æŸ“çš„å†…å®¹</li>
<li><strong>mix-blend-mode</strong>ï¼šä¸èƒŒæ™¯å†…å®¹è¿›è¡Œåƒç´ æ··åˆ</li>
</ul>
<h3 data-id="heading-67">é™æ€ - åˆæˆé¡ºåº</h3>
<p>CSS è§„èŒƒå®šä¹‰äº†å›ºå®šçš„æ¸²æŸ“é¡ºåºï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>. ç»˜åˆ¶å…ƒç´ ï¼ˆ<span class="hljs-attribute">background</span>, <span class="hljs-attribute">border</span>, <span class="hljs-attribute">content</span>ï¼‰
<span class="hljs-number">2</span>. backdrop-<span class="hljs-attribute">filter</span> â€” å¯¹å…ƒç´ èƒŒåçš„å†…å®¹åº”ç”¨æ»¤é•œ
<span class="hljs-number">3</span>. <span class="hljs-attribute">filter</span> â€” å¯¹å…ƒç´ è‡ªèº«åº”ç”¨æ»¤é•œ
<span class="hljs-number">4</span>. <span class="hljs-attribute">clip-path</span> â€” è£å‰ª
<span class="hljs-number">5</span>. <span class="hljs-attribute">mask</span> â€” é®ç½©
<span class="hljs-number">6</span>. <span class="hljs-attribute">opacity</span> â€” é€æ˜åº¦
<span class="hljs-number">7</span>. <span class="hljs-attribute">mix-blend-mode</span> â€” ä¸ä¸‹å±‚å†…å®¹æ··åˆ
<span class="hljs-number">8</span>. compositing â€” ä¸çˆ¶çº§åˆæˆ
</code></pre>
<p>è¿™ä¸ªé¡ºåºç¡®ä¿æ•ˆæœä¹‹é—´çš„ä¾èµ–å…³ç³»æ­£ç¡®ã€‚box-shadow å’Œ background åœ¨ç»˜åˆ¶é˜¶æ®µå®Œæˆï¼Œfilter å’Œ mask åœ¨åå¤„ç†é˜¶æ®µåº”ç”¨ã€‚</p>
<h3 data-id="heading-68">åŠ¨æ€ - æ»‘åŠ¨</h3>
<p>CSS é€šè¿‡ overflow å±æ€§æ”¯æŒæ»šåŠ¨å®¹å™¨ã€‚</p>
<p>æ»šåŠ¨å®¹å™¨ï¼šoverflow è®¾ç½®ä¸º scroll æˆ– auto æ—¶ï¼Œå…ƒç´ æˆä¸ºæ»šåŠ¨å®¹å™¨ã€‚å†…å®¹è¶…å‡ºå®¹å™¨è¾¹ç•Œæ—¶ï¼Œå‡ºç°æ»šåŠ¨æ¡ï¼Œç”¨æˆ·å¯ä»¥æ»šåŠ¨æŸ¥çœ‹éšè—å†…å®¹ã€‚</p>
<p>å®šä½æ¨¡å¼ï¼š</p>
<ul>
<li><strong>position: fixed</strong>ï¼šå›ºå®šå®šä½ï¼Œä¸éšæ»šåŠ¨ç§»åŠ¨ï¼Œç›¸å¯¹è§†å£å®šä½</li>
<li><strong>position: sticky</strong>ï¼šç²˜æ€§å®šä½ï¼Œæ»šåŠ¨åˆ°ç‰¹å®šä½ç½®åå›ºå®š</li>
</ul>
<p>æ»šåŠ¨è¡Œä¸ºï¼š</p>
<ul>
<li><strong>scroll-behavior</strong>ï¼šæ»šåŠ¨å¹³æ»‘æ€§ï¼ˆauto/smoothï¼‰</li>
<li><strong>overscroll-behavior</strong>ï¼šæ»šåŠ¨è¾¹ç•Œè¡Œä¸ºï¼ˆauto/contain/noneï¼‰</li>
</ul>
<h3 data-id="heading-69">åŠ¨æ€ - è‡ªåŠ¨å¸ƒå±€</h3>
<p>CSS çš„å¸ƒå±€ç³»ç»Ÿæ”¯æŒåŠ¨æ€å“åº”ã€‚</p>
<p>å“åº”å¼å¸ƒå±€ï¼š</p>
<ul>
<li><strong>åª’ä½“æŸ¥è¯¢(Media Query)</strong>ï¼šæ ¹æ®å±å¹•å°ºå¯¸åº”ç”¨ä¸åŒæ ·å¼</li>
<li><strong>å®¹å™¨æŸ¥è¯¢(Container Query)</strong>ï¼šæ ¹æ®çˆ¶å®¹å™¨å°ºå¯¸åº”ç”¨ä¸åŒæ ·å¼</li>
</ul>
<p>å†…å®¹é©±åŠ¨çš„å°ºå¯¸ï¼š</p>
<ul>
<li><strong>min-content/max-content</strong>ï¼šå…ƒç´ å°ºå¯¸ç”±å†…å®¹å†³å®š</li>
<li><strong>fit-content</strong>ï¼šå…ƒç´ å°ºå¯¸åœ¨ min-content å’Œ max-content ä¹‹é—´è‡ªé€‚åº”</li>
<li><strong>auto</strong>ï¼šå°ºå¯¸ç”±å¸ƒå±€ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—</li>
</ul>
<p>Flexbox å’Œ Grid éƒ½æ”¯æŒåŠ¨æ€å“åº”ï¼šå­å…ƒç´ çš„å°ºå¯¸æ”¹å˜æ—¶ï¼Œå®¹å™¨è‡ªåŠ¨é‡æ–°åˆ†é…ç©ºé—´ã€‚åµŒå¥—çš„å¸ƒå±€å®¹å™¨å½¢æˆå±‚çº§å“åº”ã€‚</p>
<h3 data-id="heading-70">åŠ¨æ€ - åŠ¨ç”»</h3>
<p>CSS æä¾›ä¸¤ç§åŠ¨ç”»æœºåˆ¶ï¼šè¿‡æ¸¡(Transition)å’ŒåŠ¨ç”»(Animation)ã€‚</p>
<p>è¿‡æ¸¡(Transition)ï¼š</p>
<p>å½“ CSS å±æ€§å€¼æ”¹å˜æ—¶ï¼Œè¿‡æ¸¡è‡ªåŠ¨ç”Ÿæˆä»æ—§å€¼åˆ°æ–°å€¼çš„å¹³æ»‘åŠ¨ç”»ã€‚</p>
<ul>
<li><strong>transition-property</strong>ï¼šè¦è¿‡æ¸¡çš„å±æ€§</li>
<li><strong>transition-duration</strong>ï¼šè¿‡æ¸¡æ—¶é•¿</li>
<li><strong>transition-timing-function</strong>ï¼šç¼“åŠ¨å‡½æ•°ï¼ˆeaseã€linearã€cubic-bezierï¼‰</li>
<li><strong>transition-delay</strong>ï¼šå»¶è¿Ÿæ—¶é—´</li>
</ul>
<p>åŠ¨ç”»(Animation)ï¼š</p>
<p>é€šè¿‡ @keyframes å®šä¹‰å…³é”®å¸§ï¼Œå…ƒç´ æŒ‰æ—¶é—´è½´æ’­æ”¾åŠ¨ç”»ã€‚</p>
<ul>
<li><strong>animation-name</strong>ï¼šåŠ¨ç”»åç§°ï¼Œå¯¹åº” @keyframes</li>
<li><strong>animation-duration</strong>ï¼šåŠ¨ç”»æ—¶é•¿</li>
<li><strong>animation-timing-function</strong>ï¼šç¼“åŠ¨å‡½æ•°</li>
<li><strong>animation-iteration-count</strong>ï¼šé‡å¤æ¬¡æ•°ï¼ˆæ•°å­—/infiniteï¼‰</li>
<li><strong>animation-direction</strong>ï¼šæ’­æ”¾æ–¹å‘ï¼ˆnormal/reverse/alternateï¼‰</li>
</ul>
<p>å¯åŠ¨ç”»çš„å±æ€§ï¼šå˜æ¢ï¼ˆtransformï¼‰ã€é€æ˜åº¦ï¼ˆopacityï¼‰ã€é¢œè‰²ï¼ˆcolorã€background-colorï¼‰ã€å°ºå¯¸ï¼ˆwidthã€heightï¼‰ã€ä½ç½®ï¼ˆtopã€leftï¼‰ç­‰ã€‚</p>
<p>å˜æ¢(Transform)ï¼š</p>
<ul>
<li><strong>transform</strong>ï¼šå˜æ¢å‡½æ•°ï¼ˆtranslateã€rotateã€scaleã€skewï¼‰</li>
<li><strong>transform-origin</strong>ï¼šå˜æ¢åŸç‚¹</li>
</ul>
<h3 data-id="heading-71">åŠ¨æ€ - äº‹ä»¶</h3>
<p>HTML5 æä¾›å®Œæ•´çš„äº‹ä»¶ç³»ç»Ÿï¼Œé€šè¿‡ JavaScript å¤„ç†ç”¨æˆ·äº¤äº’ã€‚äº‹ä»¶ç³»ç»ŸåŒ…æ‹¬åŸºç¡€äº‹ä»¶ã€äº‹ä»¶åˆæˆã€äº‹ä»¶åˆ†å‘ã€‚</p>
<p>åŸºç¡€äº‹ä»¶ï¼š</p>
<p><strong>é¼ æ ‡äº‹ä»¶</strong>ï¼š</p>
<ul>
<li><strong>mousedown</strong>ï¼šé¼ æ ‡æŒ‰ä¸‹</li>
<li><strong>mouseup</strong>ï¼šé¼ æ ‡æŠ¬èµ·</li>
<li><strong>mousemove</strong>ï¼šé¼ æ ‡ç§»åŠ¨</li>
<li><strong>mouseenter</strong>ï¼šé¼ æ ‡è¿›å…¥å…ƒç´ ï¼ˆä¸å†’æ³¡ï¼‰</li>
<li><strong>mouseleave</strong>ï¼šé¼ æ ‡ç¦»å¼€å…ƒç´ ï¼ˆä¸å†’æ³¡ï¼‰</li>
<li><strong>mouseover</strong>ï¼šé¼ æ ‡è¿›å…¥å…ƒç´ æˆ–å…¶å­å…ƒç´ ï¼ˆå†’æ³¡ï¼‰</li>
<li><strong>mouseout</strong>ï¼šé¼ æ ‡ç¦»å¼€å…ƒç´ æˆ–å…¶å­å…ƒç´ ï¼ˆå†’æ³¡ï¼‰</li>
</ul>
<p><strong>è§¦æ‘¸äº‹ä»¶</strong>ï¼š</p>
<ul>
<li><strong>touchstart</strong>ï¼šè§¦æ‘¸å¼€å§‹</li>
<li><strong>touchmove</strong>ï¼šè§¦æ‘¸ç§»åŠ¨</li>
<li><strong>touchend</strong>ï¼šè§¦æ‘¸ç»“æŸ</li>
<li><strong>touchcancel</strong>ï¼šè§¦æ‘¸å–æ¶ˆ</li>
</ul>
<p><strong>æŒ‡é’ˆäº‹ä»¶(Pointer Events)</strong>ï¼š</p>
<ul>
<li><strong>pointerdown/pointerup/pointermove</strong>ï¼šç»Ÿä¸€çš„æŒ‡é’ˆäº‹ä»¶ï¼Œå…¼å®¹é¼ æ ‡å’Œè§¦æ‘¸</li>
<li><strong>pointerenter/pointerleave</strong>ï¼šæŒ‡é’ˆè¿›å…¥/ç¦»å¼€å…ƒç´ </li>
</ul>
<p><strong>é”®ç›˜äº‹ä»¶</strong>ï¼š</p>
<ul>
<li><strong>keydown</strong>ï¼šæŒ‰é”®æŒ‰ä¸‹</li>
<li><strong>keyup</strong>ï¼šæŒ‰é”®æŠ¬èµ·</li>
</ul>
<p><strong>æ»šè½®äº‹ä»¶</strong>ï¼š</p>
<ul>
<li><strong>wheel</strong>ï¼šé¼ æ ‡æ»šè½®æ»šåŠ¨</li>
</ul>
<p>äº‹ä»¶åˆæˆï¼š</p>
<p>é«˜çº§äº‹ä»¶ç”±åŸºç¡€äº‹ä»¶ç»„åˆè€Œæˆï¼š</p>
<ul>
<li><strong>click</strong>ï¼šmousedown + mouseupï¼ˆä½ç½®æ¥è¿‘ã€æ—¶é—´çŸ­ï¼‰</li>
<li><strong>dblclick</strong>ï¼šä¸¤æ¬¡ clickï¼ˆæ—¶é—´é—´éš”çŸ­ï¼‰</li>
<li><strong>contextmenu</strong>ï¼šå³é”®ç‚¹å‡»</li>
<li><strong>drag ç³»åˆ—</strong>ï¼šdragstartã€dragã€dragendã€dragenterã€dragleaveã€drop</li>
</ul>
<p>æŒç»­çŠ¶æ€ï¼š</p>
<p>CSS ä¼ªç±»åæ˜ å…ƒç´ çš„äº¤äº’çŠ¶æ€ï¼š</p>
<ul>
<li><strong>:hover</strong>ï¼šé¼ æ ‡æ‚¬åœçŠ¶æ€ï¼ˆmouseenter åˆ° mouseleaveï¼‰</li>
<li><strong>:active</strong>ï¼šé¼ æ ‡æŒ‰ä¸‹çŠ¶æ€ï¼ˆmousedown åˆ° mouseupï¼‰</li>
<li><strong>:focus</strong>ï¼šå…ƒç´ è·å¾—ç„¦ç‚¹çŠ¶æ€</li>
</ul>
<p>è¿™äº›ä¼ªç±»å¯¹åº”å‰æ–‡çš„æŒç»­çŠ¶æ€ï¼Œå¯ä»¥åœ¨çŠ¶æ€æœŸé—´åº”ç”¨ä¸åŒæ ·å¼ã€‚</p>
<p>äº‹ä»¶åˆ†å‘ï¼š</p>
<p><strong>äº‹ä»¶å†’æ³¡(Bubbling)</strong>ï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å‘ä¸Šä¼ æ’­åˆ°çˆ¶å…ƒç´ ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ã€‚</p>
<p><strong>äº‹ä»¶æ•è·(Capturing)</strong>ï¼šäº‹ä»¶ä»æ ¹èŠ‚ç‚¹å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ ã€‚</p>
<p>å®Œæ•´çš„äº‹ä»¶æµç¨‹ï¼šæ•è·é˜¶æ®µ â†’ ç›®æ ‡é˜¶æ®µ â†’ å†’æ³¡é˜¶æ®µã€‚é€šè¿‡ addEventListener çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥é€‰æ‹©åœ¨æ•è·é˜¶æ®µæˆ–å†’æ³¡é˜¶æ®µç›‘å¬äº‹ä»¶ã€‚</p>
<p><strong>äº‹ä»¶å§”æ‰˜</strong>ï¼šåˆ©ç”¨äº‹ä»¶å†’æ³¡ï¼Œåœ¨çˆ¶å…ƒç´ ä¸Šç›‘å¬å­å…ƒç´ çš„äº‹ä»¶ï¼Œé¿å…ä¸ºæ¯ä¸ªå­å…ƒç´ å•ç‹¬ç»‘å®šäº‹ä»¶ã€‚</p>
<h3 data-id="heading-72">å°ç»“</h3>
<p>CSS å®ç°äº†å®Œæ•´çš„ 2D æ¸²æŸ“æ¨¡å‹ã€‚é™æ€æ¸²æŸ“æ¨¡å‹é€šè¿‡ç›’æ¨¡å‹å’Œ CSS å±æ€§å®šä¹‰å…ƒç´ çš„å‡ ä½•å’Œæ ·å¼ï¼Œæä¾›ä¸°å¯Œçš„æ¸²æŸ“æ•ˆæœï¼ˆé˜´å½±ã€æ¨¡ç³Šã€æ··åˆã€é®ç½©ï¼‰ï¼Œé€šè¿‡ DOM æ ‘ç»„ç»‡å…ƒç´ ï¼ŒæŒ‰å›ºå®šé¡ºåºåˆæˆè§†è§‰æ•ˆæœã€‚åŠ¨æ€æ¸²æŸ“æ¨¡å‹æ”¯æŒæ»šåŠ¨å®¹å™¨ã€è¿‡æ¸¡åŠ¨ç”»ã€å…³é”®å¸§åŠ¨ç”»ï¼Œé€šè¿‡ä¼ªç±»å“åº”äº¤äº’çŠ¶æ€ã€‚CSS çš„å¸ƒå±€ç³»ç»Ÿï¼ˆFlexboxã€Gridï¼‰æä¾›å¼ºå¤§çš„è‡ªåŠ¨å¸ƒå±€èƒ½åŠ›ï¼Œæ”¯æŒå“åº”å¼å’Œå†…å®¹é©±åŠ¨çš„åŠ¨æ€å“åº”ã€‚</p>
<h2 data-id="heading-73">SVG çš„æ¸²æŸ“æ¨¡å‹</h2>
<p>SVG (Scalable Vector Graphics) æ˜¯åŸºäº XML çš„çŸ¢é‡å›¾å½¢æ ‡è®°è¯­è¨€ï¼Œå®šä¹‰äº†å®Œæ•´çš„ 2D çŸ¢é‡å›¾å½¢ç³»ç»Ÿã€‚SVG å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åµŒå…¥ HTML ä¸­ã€‚SVG çš„æ¸²æŸ“æ¨¡å‹ä¸“æ³¨äºçŸ¢é‡å›¾å½¢çš„ç²¾ç¡®è¡¨è¾¾ï¼Œæä¾›ä¸°å¯Œçš„å›¾å½¢å…ƒç´ ã€æ ·å¼ç³»ç»Ÿå’ŒåŠ¨ç”»èƒ½åŠ›ã€‚æœ¬ç« ä»‹ç» SVG å¦‚ä½•å®ç° 2D æ¸²æŸ“æŠ½è±¡ï¼šæœ‰å“ªäº›å›¾å½¢å…ƒç´ ã€æ¸²æŸ“æ•ˆæœã€ä»¥åŠåŠ¨ç”»èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-74">é™æ€ - æ¸²æŸ“å•å…ƒ</h3>
<p>SVG çš„æ¸²æŸ“å•å…ƒæ˜¯å›¾å½¢å…ƒç´ (Element)ã€‚æ¯ä¸ªå…ƒç´ é€šè¿‡å±æ€§å®šä¹‰å…¶å‡ ä½•ã€æ ·å¼å’Œå˜æ¢ã€‚</p>
<p>åŸºç¡€å›¾å½¢å…ƒç´ ï¼š</p>
<ul>
<li><strong><code>&lt;rect&gt;</code></strong>ï¼šçŸ©å½¢ï¼Œå±æ€§ï¼šxã€yã€widthã€heightã€rxï¼ˆåœ†è§’åŠå¾„ï¼‰</li>
<li><strong><code>&lt;circle&gt;</code></strong>ï¼šåœ†å½¢ï¼Œå±æ€§ï¼šcxã€cyï¼ˆåœ†å¿ƒï¼‰ã€rï¼ˆåŠå¾„ï¼‰</li>
<li><strong><code>&lt;ellipse&gt;</code></strong>ï¼šæ¤­åœ†ï¼Œå±æ€§ï¼šcxã€cyï¼ˆåœ†å¿ƒï¼‰ã€rxã€ryï¼ˆé•¿çŸ­è½´åŠå¾„ï¼‰</li>
<li><strong><code>&lt;line&gt;</code></strong>ï¼šç›´çº¿ï¼Œå±æ€§ï¼šx1ã€y1ã€x2ã€y2ï¼ˆèµ·ç‚¹å’Œç»ˆç‚¹ï¼‰</li>
<li><strong><code>&lt;polyline&gt;</code></strong>ï¼šæŠ˜çº¿ï¼Œå±æ€§ï¼špointsï¼ˆç‚¹åæ ‡åºåˆ—ï¼‰</li>
<li><strong><code>&lt;polygon&gt;</code></strong>ï¼šå¤šè¾¹å½¢ï¼Œå±æ€§ï¼špointsï¼ˆç‚¹åæ ‡åºåˆ—ï¼Œè‡ªåŠ¨é—­åˆï¼‰</li>
<li><strong><code>&lt;path&gt;</code></strong>ï¼šè·¯å¾„ï¼Œå±æ€§ï¼šdï¼ˆè·¯å¾„å‘½ä»¤ï¼‰</li>
</ul>
<p>è·¯å¾„ç³»ç»Ÿï¼š</p>
<p><code>&lt;path&gt;</code> æ˜¯ SVG æœ€å¼ºå¤§çš„å›¾å½¢å…ƒç´ ï¼Œé€šè¿‡è·¯å¾„å‘½ä»¤å®šä¹‰ä»»æ„å¤æ‚å½¢çŠ¶ã€‚è·¯å¾„å‘½ä»¤åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>M/m</strong>ï¼šç§»åŠ¨åˆ°(MoveTo)</li>
<li><strong>L/l</strong>ï¼šç›´çº¿åˆ°(LineTo)</li>
<li><strong>H/h</strong>ï¼šæ°´å¹³çº¿åˆ°</li>
<li><strong>V/v</strong>ï¼šå‚ç›´çº¿åˆ°</li>
<li><strong>C/c</strong>ï¼šä¸‰æ¬¡è´å¡å°”æ›²çº¿</li>
<li><strong>S/s</strong>ï¼šå¹³æ»‘ä¸‰æ¬¡è´å¡å°”æ›²çº¿</li>
<li><strong>Q/q</strong>ï¼šäºŒæ¬¡è´å¡å°”æ›²çº¿</li>
<li><strong>T/t</strong>ï¼šå¹³æ»‘äºŒæ¬¡è´å¡å°”æ›²çº¿</li>
<li><strong>A/a</strong>ï¼šæ¤­åœ†å¼§</li>
<li><strong>Z/z</strong>ï¼šé—­åˆè·¯å¾„</li>
</ul>
<p>å¤§å†™å‘½ä»¤ä½¿ç”¨ç»å¯¹åæ ‡ï¼Œå°å†™å‘½ä»¤ä½¿ç”¨ç›¸å¯¹åæ ‡ã€‚</p>
<p>æ–‡æœ¬å…ƒç´ ï¼š</p>
<ul>
<li><strong><code>&lt;text&gt;</code></strong>ï¼šæ–‡æœ¬ï¼Œå±æ€§ï¼šxã€yï¼ˆä½ç½®ï¼‰ã€font-familyã€font-sizeã€fill ç­‰</li>
<li><strong><code>&lt;tspan&gt;</code></strong>ï¼šæ–‡æœ¬ç‰‡æ®µï¼Œåœ¨ <code>&lt;text&gt;</code> å†…å®šä¹‰ä¸åŒæ ·å¼çš„æ–‡æœ¬</li>
<li><strong><code>&lt;textPath&gt;</code></strong>ï¼šæ–‡æœ¬æ²¿è·¯å¾„æ’åˆ—</li>
</ul>
<p>å¡«å……å’Œæè¾¹ï¼š</p>
<p><strong>å¡«å……(Fill)</strong>ï¼š</p>
<ul>
<li><strong>fill</strong>ï¼šå¡«å……é¢œè‰²ï¼Œæ”¯æŒçº¯è‰²ã€æ¸å˜ã€å›¾æ¡ˆ
<ul>
<li>çº¯è‰²ï¼šç›´æ¥æŒ‡å®šé¢œè‰²å€¼ï¼ˆ<code>fill="red"</code> æˆ– <code>fill="#ff0000"</code>ï¼‰</li>
<li>æ¸å˜ï¼šå¼•ç”¨æ¸å˜å®šä¹‰ï¼ˆ<code>fill="url(#gradientId)"</code>ï¼‰</li>
<li>å›¾æ¡ˆï¼šå¼•ç”¨å›¾æ¡ˆå®šä¹‰ï¼ˆ<code>fill="url(#patternId)"</code>ï¼‰</li>
</ul>
</li>
<li><strong>fill-opacity</strong>ï¼šå¡«å……é€æ˜åº¦</li>
<li><strong>fill-rule</strong>ï¼šå¡«å……è§„åˆ™ï¼ˆnonzero/evenoddï¼‰</li>
</ul>
<p><strong>æè¾¹(Stroke)</strong>ï¼š</p>
<ul>
<li><strong>stroke</strong>ï¼šæè¾¹é¢œè‰²ï¼Œæ”¯æŒçº¯è‰²ã€æ¸å˜ã€å›¾æ¡ˆ</li>
<li><strong>stroke-width</strong>ï¼šæè¾¹å®½åº¦</li>
<li><strong>stroke-opacity</strong>ï¼šæè¾¹é€æ˜åº¦</li>
<li><strong>stroke-linecap</strong>ï¼šçº¿æ¡ç«¯ç‚¹æ ·å¼ï¼ˆbutt/round/squareï¼‰</li>
<li><strong>stroke-linejoin</strong>ï¼šçº¿æ¡è¿æ¥æ ·å¼ï¼ˆmiter/round/bevelï¼‰</li>
<li><strong>stroke-dasharray</strong>ï¼šè™šçº¿æ¨¡å¼</li>
<li><strong>stroke-dashoffset</strong>ï¼šè™šçº¿åç§»</li>
</ul>
<p>æ¸å˜(Gradient)ï¼š</p>
<p>æ¸å˜æ˜¯ Paint çš„ä¸€ç§ç±»å‹ï¼Œå®šä¹‰é¢œè‰²åœ¨ç©ºé—´ä¸­çš„åˆ†å¸ƒã€‚</p>
<ul>
<li><strong><code>&lt;linearGradient&gt;</code></strong>ï¼šçº¿æ€§æ¸å˜ï¼Œå±æ€§ï¼šx1ã€y1ã€x2ã€y2ï¼ˆæ¸å˜æ–¹å‘ï¼‰</li>
<li><strong><code>&lt;radialGradient&gt;</code></strong>ï¼šå¾„å‘æ¸å˜ï¼Œå±æ€§ï¼šcxã€cyï¼ˆä¸­å¿ƒï¼‰ã€rï¼ˆåŠå¾„ï¼‰</li>
<li><strong><code>&lt;stop&gt;</code></strong>ï¼šæ¸å˜è‰²æ ‡ï¼Œå±æ€§ï¼šoffsetï¼ˆä½ç½® 0-1ï¼‰ã€stop-colorï¼ˆé¢œè‰²ï¼‰ã€stop-opacityï¼ˆé€æ˜åº¦ï¼‰</li>
</ul>
<p>æ¸å˜å®šä¹‰åœ¨ <code>&lt;defs&gt;</code> ä¸­ï¼Œé€šè¿‡ <code>fill="url(#gradientId)"</code> æˆ– <code>stroke="url(#gradientId)"</code> å¼•ç”¨ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">linearGradient</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"grad1"</span> <span class="hljs-attr">x1</span>=<span class="hljs-string">"0%"</span> <span class="hljs-attr">y1</span>=<span class="hljs-string">"0%"</span> <span class="hljs-attr">x2</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">y2</span>=<span class="hljs-string">"0%"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"0%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"red"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attr">stop-color</span>=<span class="hljs-string">"blue"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">linearGradient</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"url(#grad1)"</span>/&gt;</span>
</code></pre>
<p>å›¾æ¡ˆ(Pattern)ï¼š</p>
<p>å›¾æ¡ˆæ˜¯ Paint çš„å¦ä¸€ç§ç±»å‹ï¼Œä½¿ç”¨å›¾å½¢å…ƒç´ å¹³é“ºå¡«å……åŒºåŸŸã€‚</p>
<ul>
<li><strong><code>&lt;pattern&gt;</code></strong>ï¼šå›¾æ¡ˆå®šä¹‰ï¼Œå±æ€§ï¼š
<ul>
<li>xã€yã€widthã€heightï¼šå›¾æ¡ˆå•å…ƒçš„å°ºå¯¸å’Œä½ç½®</li>
<li>patternUnitsï¼šåæ ‡ç³»ç»Ÿï¼ˆuserSpaceOnUse/objectBoundingBoxï¼‰</li>
<li>patternContentUnitsï¼šå›¾æ¡ˆå†…å®¹çš„åæ ‡ç³»ç»Ÿ</li>
</ul>
</li>
</ul>
<p>å›¾æ¡ˆå®šä¹‰åœ¨ <code>&lt;defs&gt;</code> ä¸­ï¼Œé€šè¿‡ <code>fill="url(#patternId)"</code> å¼•ç”¨ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"pattern1"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">patternUnits</span>=<span class="hljs-string">"userSpaceOnUse"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"url(#pattern1)"</span>/&gt;</span>
</code></pre>
<h3 data-id="heading-75">é™æ€ - æ¸²æŸ“æ•ˆæœ</h3>
<p>SVG æä¾›ä¸°å¯Œçš„æ¸²æŸ“æ•ˆæœï¼Œä¸»è¦é€šè¿‡æ»¤é•œç³»ç»Ÿã€è£å‰ªå’Œé®ç½©å®ç°ã€‚</p>
<p>è£å‰ªå’Œé®ç½©ï¼š</p>
<ul>
<li>
<p><strong><code>&lt;clipPath&gt;</code></strong>ï¼šè£å‰ªè·¯å¾„ï¼Œå®šä¹‰å¯è§åŒºåŸŸï¼ˆç¡¬è¾¹ç•Œï¼‰</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">clipPath</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clip"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"40"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">clipPath</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">clip-path</span>=<span class="hljs-string">"url(#clip)"</span>/&gt;</span>
</code></pre>
</li>
<li>
<p><strong><code>&lt;mask&gt;</code></strong>ï¼šé®ç½©ï¼Œä½¿ç”¨åƒç´ çš„äº®åº¦æˆ– Alpha æ§åˆ¶å¯è§æ€§ï¼ˆè½¯è¾¹ç•Œï¼‰</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">mask</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mask"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"white"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"40"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"black"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mask</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">mask</span>=<span class="hljs-string">"url(#mask)"</span>/&gt;</span>
</code></pre>
</li>
</ul>
<p>æ»¤é•œç³»ç»Ÿï¼š</p>
<p>SVG çš„æ»¤é•œ(Filter)æ˜¯å¼ºå¤§çš„å›¾åƒå¤„ç†ç³»ç»Ÿï¼Œé€šè¿‡ç»„åˆæ»¤é•œåŸºå…ƒ(Filter Primitive)å®ç°å¤æ‚æ•ˆæœã€‚</p>
<p>å¸¸ç”¨æ»¤é•œåŸºå…ƒï¼š</p>
<ul>
<li><strong><code>&lt;feGaussianBlur&gt;</code></strong>ï¼šé«˜æ–¯æ¨¡ç³Šï¼Œå±æ€§ï¼šstdDeviationï¼ˆæ¨¡ç³ŠåŠå¾„ï¼‰</li>
<li><strong><code>&lt;feOffset&gt;</code></strong>ï¼šåç§»ï¼Œå±æ€§ï¼šdxã€dyï¼ˆåç§»è·ç¦»ï¼‰</li>
<li><strong><code>&lt;feBlend&gt;</code></strong>ï¼šæ··åˆï¼Œå±æ€§ï¼šmodeï¼ˆæ··åˆæ¨¡å¼ï¼‰</li>
<li><strong><code>&lt;feColorMatrix&gt;</code></strong>ï¼šé¢œè‰²çŸ©é˜µå˜æ¢</li>
<li><strong><code>&lt;feComponentTransfer&gt;</code></strong>ï¼šé¢œè‰²é€šé“å˜æ¢</li>
<li><strong><code>&lt;feComposite&gt;</code></strong>ï¼šå›¾åƒåˆæˆï¼Œå±æ€§ï¼šoperatorï¼ˆåˆæˆæ“ä½œï¼‰</li>
<li><strong><code>&lt;feMorphology&gt;</code></strong>ï¼šå½¢æ€å­¦æ“ä½œï¼ˆè†¨èƒ€/è…èš€ï¼‰</li>
<li><strong><code>&lt;feConvolveMatrix&gt;</code></strong>ï¼šå·ç§¯çŸ©é˜µ</li>
<li><strong><code>&lt;feTurbulence&gt;</code></strong>ï¼šå™ªå£°ç”Ÿæˆ</li>
<li><strong><code>&lt;feDropShadow&gt;</code></strong>ï¼šæŠ•å½±ï¼ˆå¿«æ·æ–¹å¼ï¼‰</li>
</ul>
<p>æ»¤é•œç»„åˆç¤ºä¾‹ï¼ˆæŠ•å½±æ•ˆæœï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"shadow"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">feGaussianBlur</span> <span class="hljs-attr">in</span>=<span class="hljs-string">"SourceAlpha"</span> <span class="hljs-attr">stdDeviation</span>=<span class="hljs-string">"3"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">feOffset</span> <span class="hljs-attr">dx</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">dy</span>=<span class="hljs-string">"2"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">feMerge</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">feMergeNode</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">feMergeNode</span> <span class="hljs-attr">in</span>=<span class="hljs-string">"SourceGraphic"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">feMerge</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span>
</code></pre>
<p>é€æ˜åº¦å’Œæ··åˆï¼š</p>
<ul>
<li><strong>opacity</strong>ï¼šå…ƒç´ é€æ˜åº¦ï¼ˆ0-1ï¼‰</li>
<li><strong>fill-opacity / stroke-opacity</strong>ï¼šå¡«å……/æè¾¹é€æ˜åº¦</li>
</ul>
<h3 data-id="heading-76">é™æ€ - å±‚çº§ç»„ç»‡</h3>
<p>SVG é€šè¿‡æ ‘å½¢ç»“æ„ç»„ç»‡å…ƒç´ ï¼Œæä¾›åˆ†ç»„ã€å®šä¹‰å’Œå¤ç”¨æœºåˆ¶ã€‚</p>
<p>å®¹å™¨å…ƒç´ ï¼š</p>
<ul>
<li><strong><code>&lt;svg&gt;</code></strong>ï¼šæ ¹å®¹å™¨ï¼Œå®šä¹‰ç”»å¸ƒçš„ viewport å’Œ viewBox</li>
<li><strong><code>&lt;g&gt;</code></strong>ï¼šåˆ†ç»„å®¹å™¨ï¼Œå°†å¤šä¸ªå…ƒç´ ç»„åˆä¸ºä¸€ä¸ªå•å…ƒ</li>
<li><strong><code>&lt;defs&gt;</code></strong>ï¼šå®šä¹‰å®¹å™¨ï¼ŒåŒ…å«å¯å¤ç”¨çš„èµ„æºï¼ˆæ¸å˜ã€å›¾æ¡ˆã€è£å‰ªè·¯å¾„ã€ç¬¦å·ç­‰ï¼‰ï¼Œä¸ç›´æ¥æ¸²æŸ“</li>
<li><strong><code>&lt;symbol&gt;</code></strong>ï¼šç¬¦å·å®šä¹‰ï¼Œå¯å¤ç”¨çš„å›¾å½¢æ¨¡æ¿ï¼ŒåŒ…å«è‡ªå·±çš„ viewBox</li>
</ul>
<p>åˆ†ç»„(<code>&lt;g&gt;</code>)ï¼š</p>
<p>åˆ†ç»„å°†å¤šä¸ªå…ƒç´ ç»„åˆä¸ºä¸€ä¸ªå•å…ƒï¼Œå…±äº«å±æ€§å’Œå˜æ¢ï¼š</p>
<ul>
<li><strong>å˜æ¢(transform)</strong>ï¼šä½œç”¨äºåˆ†ç»„å†…æ‰€æœ‰å…ƒç´ ï¼Œå˜æ¢ç´¯ç§¯
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">g</span> <span class="hljs-attr">transform</span>=<span class="hljs-string">"translate(50, 50) rotate(45)"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"20"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"40"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"40"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">g</span>&gt;</span>
</code></pre>
</li>
<li><strong>æ ·å¼ç»§æ‰¿</strong>ï¼šå­å…ƒç´ ç»§æ‰¿åˆ†ç»„çš„ fillã€stroke ç­‰å±æ€§</li>
<li><strong>é€æ˜åº¦(opacity)</strong>ï¼šåˆ†ç»„çš„ opacity ä½œç”¨äºæ•´ä½“ï¼Œå­å…ƒç´ å…ˆåˆæˆå†åº”ç”¨é€æ˜åº¦</li>
<li><strong>è£å‰ªå’Œé®ç½©</strong>ï¼šclip-path å’Œ mask ä½œç”¨äºåˆ†ç»„å†…æ‰€æœ‰å…ƒç´ </li>
</ul>
<p>åˆ†ç»„å¯ä»¥åµŒå¥—ï¼Œå½¢æˆå±‚çº§æ ‘ã€‚åˆ†ç»„æœ¬èº«ä¸äº§ç”Ÿæ¸²æŸ“ï¼Œåªæ˜¯ç»„ç»‡å’Œæ§åˆ¶å­å…ƒç´ ã€‚</p>
<p>å¤ç”¨æœºåˆ¶ï¼š</p>
<ul>
<li>
<p><strong><code>&lt;defs&gt;</code> + <code>&lt;use&gt;</code></strong>ï¼šå®šä¹‰å’Œå¼•ç”¨æ¨¡å¼</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dot"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">use</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#dot"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"10"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">use</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#dot"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"30"</span>/&gt;</span>
</code></pre>
<p><code>&lt;use&gt;</code> åˆ›å»ºå…ƒç´ çš„å®ä¾‹ï¼Œå¯ä»¥é€šè¿‡ xã€y å±æ€§åç§»ä½ç½®ã€‚è¢«å¼•ç”¨çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•å›¾å½¢å…ƒç´ æˆ–åˆ†ç»„ã€‚</p>
</li>
<li>
<p><strong><code>&lt;symbol&gt;</code> + <code>&lt;use&gt;</code></strong>ï¼šå®šä¹‰å¯å¤ç”¨çš„å›¾å½¢æ¨¡æ¿</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">symbol</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"icon"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 20 20"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"8"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M 10,5 L 10,15 M 5,10 L 15,10"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">symbol</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">use</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#icon"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"50"</span>/&gt;</span>
</code></pre>
<p><code>&lt;symbol&gt;</code> åŒ…å«è‡ªå·±çš„ viewBoxï¼Œé€šè¿‡ <code>&lt;use&gt;</code> å¼•ç”¨æ—¶å¯ä»¥æŒ‡å®šæ¸²æŸ“å°ºå¯¸ï¼Œsymbol å†…å®¹è‡ªåŠ¨ç¼©æ”¾ã€‚</p>
</li>
</ul>
<p>å¤ç”¨çš„ä¼˜åŠ¿ï¼šåŒä¸€ä¸ªå®šä¹‰å¯ä»¥åœ¨å¤šå¤„å¼•ç”¨ï¼Œä¿®æ”¹å®šä¹‰ä¼šå½±å“æ‰€æœ‰å¼•ç”¨ã€‚</p>
<h3 data-id="heading-77">é™æ€ - å¸ƒå±€</h3>
<p>SVG çš„å¸ƒå±€åŸºäºåæ ‡ç³»ç»Ÿå’Œå˜æ¢ã€‚SVG ä½¿ç”¨å¤šå±‚åµŒå¥—çš„åæ ‡ç³»ç»Ÿï¼Œæä¾›çµæ´»çš„ç©ºé—´æ˜ å°„èƒ½åŠ›ã€‚</p>
<p>viewport å’Œ viewBoxï¼š</p>
<p><strong>viewportï¼ˆè§†å£ï¼‰</strong>ï¼š</p>
<p>SVG å…ƒç´ çš„ width å’Œ height å±æ€§å®šä¹‰ viewportï¼Œå³ SVG åœ¨é¡µé¢ä¸Šå æ®çš„å®é™…å°ºå¯¸ï¼ˆä»¥åƒç´ æˆ–å…¶ä»– CSS å•ä½ï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- viewport æ˜¯ 200Ã—100 --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p><strong>viewBoxï¼ˆç”¨æˆ·åæ ‡ç³»ç»Ÿï¼‰</strong>ï¼š</p>
<p>viewBox å®šä¹‰ SVG å†…å®¹çš„åæ ‡èŒƒå›´ï¼Œæ ¼å¼ä¸º <code>min-x min-y width height</code>ã€‚viewBox æ˜¯å†…å®¹çš„é€»è¾‘åæ ‡ç³»ç»Ÿï¼Œä¸ viewport çš„ç‰©ç†å°ºå¯¸ç‹¬ç«‹ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 100 50"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å†…å®¹åæ ‡èŒƒå›´æ˜¯ 0,0 åˆ° 100,50 --&gt;</span>
  <span class="hljs-comment">&lt;!-- ä¼šè‡ªåŠ¨ç¼©æ”¾ 2 å€æ˜ å°„åˆ° 200Ã—100 çš„ viewport --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"25"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"20"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p>viewBox çš„ä½œç”¨ï¼š</p>
<ul>
<li><strong>ç¼©æ”¾</strong>ï¼šå†…å®¹è‡ªåŠ¨ç¼©æ”¾ä»¥é€‚åº” viewport</li>
<li><strong>å¹³ç§»</strong>ï¼šmin-x å’Œ min-y æ§åˆ¶å¯è§åŒºåŸŸçš„èµ·ç‚¹</li>
<li><strong>è£å‰ª</strong>ï¼šè¶…å‡º viewBox èŒƒå›´çš„å†…å®¹ä¸å¯è§</li>
</ul>
<p><strong>preserveAspectRatio</strong>ï¼š</p>
<p>æ§åˆ¶ viewBox å¦‚ä½•æ˜ å°„åˆ° viewportï¼Œå½“ä¸¤è€…å®½é«˜æ¯”ä¸åŒæ—¶å¦‚ä½•å¤„ç†ã€‚</p>
<p>æ ¼å¼ï¼š<code>&lt;align&gt; [&lt;meetOrSlice&gt;]</code></p>
<ul>
<li><strong>align</strong>ï¼šå¯¹é½æ–¹å¼ï¼ˆxMinYMinã€xMidYMidã€xMaxYMax ç­‰ï¼Œæˆ– noneï¼‰</li>
<li><strong>meetOrSlice</strong>ï¼š
<ul>
<li>meetï¼ˆé»˜è®¤ï¼‰ï¼šä¿æŒå®½é«˜æ¯”ï¼Œå®Œæ•´æ˜¾ç¤ºå†…å®¹ï¼ˆç±»ä¼¼ containï¼‰</li>
<li>sliceï¼šä¿æŒå®½é«˜æ¯”ï¼Œå¡«æ»¡ viewportï¼ˆç±»ä¼¼ coverï¼‰</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 100 100"</span> <span class="hljs-attr">preserveAspectRatio</span>=<span class="hljs-string">"xMidYMid meet"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å†…å®¹æ˜¯æ­£æ–¹å½¢ï¼Œviewport æ˜¯çŸ©å½¢ --&gt;</span>
  <span class="hljs-comment">&lt;!-- å†…å®¹ä¼šç¼©æ”¾åˆ° 100Ã—100 å¹¶å±…ä¸­ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
<p>å±€éƒ¨åæ ‡ç³»ç»Ÿï¼š</p>
<p>æ¯ä¸ªå…ƒç´ å¯ä»¥é€šè¿‡ <code>transform</code> å±æ€§å®šä¹‰å±€éƒ¨åæ ‡ç³»ç»Ÿã€‚</p>
<p><strong>transform å±æ€§</strong>ï¼š</p>
<p>æ”¯æŒå¤šç§å˜æ¢å‡½æ•°ï¼Œå¯ä»¥ç»„åˆä½¿ç”¨ï¼š</p>
<ul>
<li><strong>translate(x, y)</strong>ï¼šå¹³ç§»</li>
<li><strong>rotate(angle [cx cy])</strong>ï¼šæ—‹è½¬ï¼Œå¯é€‰æ‹©æ—‹è½¬ä¸­å¿ƒ</li>
<li><strong>scale(sx [sy])</strong>ï¼šç¼©æ”¾</li>
<li><strong>skewX(angle) / skewY(angle)</strong>ï¼šå€¾æ–œ</li>
<li><strong>matrix(a b c d e f)</strong>ï¼šçŸ©é˜µå˜æ¢</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">g</span> <span class="hljs-attr">transform</span>=<span class="hljs-string">"translate(50, 50) rotate(45) scale(2)"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"20"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">g</span>&gt;</span>
</code></pre>
<p><strong>å˜æ¢ç´¯ç§¯</strong>ï¼š</p>
<p>å­å…ƒç´ ç»§æ‰¿çˆ¶å…ƒç´ çš„å˜æ¢ï¼Œå˜æ¢ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ç´¯ç§¯ï¼š</p>
<pre><code class="hljs">å­å…ƒç´ ä¸–ç•Œåæ ‡ = çˆ¶å…ƒç´ å˜æ¢ Ã— å­å…ƒç´ ç›¸å¯¹åæ ‡
</code></pre>
<p>åµŒå¥—çš„å˜æ¢å½¢æˆå˜æ¢æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æœ€ç»ˆä½ç½®æ˜¯æ‰€æœ‰ç¥–å…ˆå˜æ¢çš„ç´¯ç§¯ç»“æœã€‚</p>
<p><strong>åæ ‡ç©ºé—´</strong>ï¼š</p>
<p>SVG ä¸­å­˜åœ¨å¤šä¸ªåæ ‡ç©ºé—´ï¼š</p>
<ul>
<li><strong>viewport space</strong>ï¼šé¡µé¢ä¸Šçš„ç‰©ç†ç©ºé—´</li>
<li><strong>user space</strong>ï¼šviewBox å®šä¹‰çš„ç”¨æˆ·åæ ‡ç©ºé—´</li>
<li><strong>local space</strong>ï¼šå…ƒç´ çš„å±€éƒ¨åæ ‡ç©ºé—´ï¼ˆåº”ç”¨ transform åï¼‰</li>
</ul>
<p>å…ƒç´ çš„åæ ‡ä» local space å˜æ¢åˆ° user spaceï¼Œå†æ˜ å°„åˆ° viewport spaceã€‚</p>
<h3 data-id="heading-78">é™æ€ - åˆæˆé¡ºåº</h3>
<p>SVG æŒ‰ç…§å…ƒç´ åœ¨ DOM æ ‘ä¸­çš„é¡ºåºæ¸²æŸ“ï¼ˆç»˜åˆ¶é¡ºåºï¼‰ï¼Œåå®šä¹‰çš„å…ƒç´ åœ¨ä¸Šå±‚ã€‚æ²¡æœ‰ z-index æ¦‚å¿µï¼Œå±‚çº§é¡ºåºç”± DOM é¡ºåºå†³å®šã€‚</p>
<p>æ¸²æŸ“é¡ºåºï¼š</p>
<ol>
<li>å¡«å……(fill)</li>
<li>æè¾¹(stroke)</li>
<li>æ ‡è®°(marker)</li>
<li>æ»¤é•œ(filter)</li>
<li>è£å‰ª(clip-path)</li>
<li>é®ç½©(mask)</li>
<li>é€æ˜åº¦(opacity)</li>
</ol>
<p>è¿™ä¸ªé¡ºåºä¸ CSS æ¸²æŸ“é¡ºåºç±»ä¼¼ã€‚</p>
<h3 data-id="heading-79">åŠ¨æ€ - åŠ¨ç”»</h3>
<p>SVG æä¾›ä¸‰ç§åŠ¨ç”»æœºåˆ¶ï¼šSMIL åŠ¨ç”»ã€CSS åŠ¨ç”»ã€JavaScript åŠ¨ç”»ã€‚</p>
<p>SMIL åŠ¨ç”»ï¼š</p>
<p>SVG å†…ç½®çš„å£°æ˜å¼åŠ¨ç”»ç³»ç»Ÿï¼Œé€šè¿‡åŠ¨ç”»å…ƒç´ å®šä¹‰ã€‚</p>
<ul>
<li>
<p><strong><code>&lt;animate&gt;</code></strong>ï¼šå±æ€§åŠ¨ç”»</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"20"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animate</span> <span class="hljs-attr">attributeName</span>=<span class="hljs-string">"cx"</span> <span class="hljs-attr">from</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">dur</span>=<span class="hljs-string">"2s"</span> <span class="hljs-attr">repeatCount</span>=<span class="hljs-string">"indefinite"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">circle</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong><code>&lt;animateTransform&gt;</code></strong>ï¼šå˜æ¢åŠ¨ç”»</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"20"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animateTransform</span> <span class="hljs-attr">attributeName</span>=<span class="hljs-string">"transform"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"rotate"</span>
                    <span class="hljs-attr">from</span>=<span class="hljs-string">"0 10 10"</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"360 10 10"</span> <span class="hljs-attr">dur</span>=<span class="hljs-string">"2s"</span> <span class="hljs-attr">repeatCount</span>=<span class="hljs-string">"indefinite"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">rect</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong><code>&lt;animateMotion&gt;</code></strong>ï¼šè·¯å¾„åŠ¨ç”»ï¼Œå…ƒç´ æ²¿è·¯å¾„è¿åŠ¨</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"5"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">animateMotion</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"M 10,10 Q 50,50 90,10"</span> <span class="hljs-attr">dur</span>=<span class="hljs-string">"3s"</span> <span class="hljs-attr">repeatCount</span>=<span class="hljs-string">"indefinite"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">circle</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong><code>&lt;set&gt;</code></strong>ï¼šè®¾ç½®å±æ€§å€¼ï¼ˆç¦»æ•£åŠ¨ç”»ï¼‰</p>
</li>
</ul>
<p>SMIL åŠ¨ç”»å±æ€§ï¼š</p>
<ul>
<li><strong>attributeName</strong>ï¼šåŠ¨ç”»çš„ç›®æ ‡å±æ€§</li>
<li><strong>from/to/by</strong>ï¼šèµ·å§‹å€¼/ç»“æŸå€¼/å˜åŒ–é‡</li>
<li><strong>dur</strong>ï¼šåŠ¨ç”»æ—¶é•¿</li>
<li><strong>repeatCount</strong>ï¼šé‡å¤æ¬¡æ•°ï¼ˆæ•°å­—/indefiniteï¼‰</li>
<li><strong>fill</strong>ï¼šåŠ¨ç”»ç»“æŸåçš„è¡Œä¸ºï¼ˆfreeze ä¿æŒ/remove ç§»é™¤ï¼‰</li>
<li><strong>begin/end</strong>ï¼šåŠ¨ç”»å¼€å§‹/ç»“æŸæ—¶é—´ï¼Œæ”¯æŒäº‹ä»¶è§¦å‘ï¼ˆå¦‚ clickï¼‰</li>
</ul>
<p>CSS åŠ¨ç”»ï¼š</p>
<p>SVG å…ƒç´ å¯ä»¥åº”ç”¨ CSS åŠ¨ç”»å’Œè¿‡æ¸¡ï¼Œä¸ HTML å…ƒç´ ç›¸åŒï¼š</p>
<pre><code class="hljs language-css" lang="css">circle {
  <span class="hljs-attribute">transition</span>: cx <span class="hljs-number">0.3s</span> ease;
}
circle<span class="hljs-selector-pseudo">:hover</span> {
  cx: <span class="hljs-number">100</span>;
}
</code></pre>
<p>CSS åŠ¨ç”»çš„é™åˆ¶ï¼šæŸäº› SVG ç‰¹æœ‰å±æ€§ï¼ˆå¦‚è·¯å¾„ dï¼‰ä¸èƒ½é€šè¿‡ CSS åŠ¨ç”»ï¼Œéœ€è¦ SMIL æˆ– JavaScriptã€‚</p>
<p>JavaScript åŠ¨ç”»ï¼š</p>
<p>é€šè¿‡ JavaScript æ“ä½œ SVG DOMï¼Œå®ç°åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> circle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'circle'</span>);
circle.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'cx'</span>, <span class="hljs-number">100</span>);
</code></pre>
<p>Web Animations API ä¹Ÿå¯ç”¨äº SVG å…ƒç´ ã€‚</p>
<h3 data-id="heading-80">åŠ¨æ€ - äº‹ä»¶</h3>
<p>SVG å…ƒç´ æ”¯æŒ DOM äº‹ä»¶ï¼Œä¸ HTML å…ƒç´ ç›¸åŒï¼š</p>
<p>é¼ æ ‡äº‹ä»¶ï¼š</p>
<ul>
<li><strong>click/dblclick</strong>ï¼šç‚¹å‡»äº‹ä»¶</li>
<li><strong>mousedown/mouseup</strong>ï¼šé¼ æ ‡æŒ‰ä¸‹/æŠ¬èµ·</li>
<li><strong>mousemove</strong>ï¼šé¼ æ ‡ç§»åŠ¨</li>
<li><strong>mouseenter/mouseleave</strong>ï¼šé¼ æ ‡è¿›å…¥/ç¦»å¼€å…ƒç´ </li>
<li><strong>mouseover/mouseout</strong>ï¼šé¼ æ ‡è¿›å…¥/ç¦»å¼€å…ƒç´ æˆ–å…¶å­å…ƒç´ </li>
</ul>
<p>SVG ç‰¹æœ‰äº‹ä»¶ï¼š</p>
<ul>
<li><strong>load</strong>ï¼šSVG æ–‡æ¡£åŠ è½½å®Œæˆ</li>
<li><strong>SVGZoom</strong>ï¼šç¼©æ”¾äº‹ä»¶ï¼ˆå·²åºŸå¼ƒï¼Œä½¿ç”¨ transform ä»£æ›¿ï¼‰</li>
</ul>
<p>äº‹ä»¶ç»‘å®šï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">circle</span> <span class="hljs-attr">cx</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">cy</span>=<span class="hljs-string">"50"</span> <span class="hljs-attr">r</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"alert('clicked')"</span>/&gt;</span>
</code></pre>
<p>æˆ–é€šè¿‡ JavaScriptï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">circle.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'clicked'</span>);
});
</code></pre>
<p>äº¤äº’çŠ¶æ€ï¼š</p>
<p>SVG å…ƒç´ å¯ä»¥ä½¿ç”¨ CSS ä¼ªç±»ï¼š</p>
<pre><code class="hljs language-css" lang="css">circle<span class="hljs-selector-pseudo">:hover</span> {
  fill: red;
}
circle<span class="hljs-selector-pseudo">:active</span> {
  fill: blue;
}
</code></pre>
<h3 data-id="heading-81">å°ç»“</h3>
<p>SVG å®ç°äº†å®Œæ•´çš„çŸ¢é‡å›¾å½¢æ¸²æŸ“æ¨¡å‹ã€‚é™æ€æ¸²æŸ“æ¨¡å‹æä¾›ä¸°å¯Œçš„å›¾å½¢å…ƒç´ ï¼ˆåŸºç¡€å›¾å½¢ã€è·¯å¾„ã€æ–‡æœ¬ï¼‰ï¼Œå¼ºå¤§çš„æ ·å¼ç³»ç»Ÿï¼ˆå¡«å……ã€æè¾¹ã€æ¸å˜ã€å›¾æ¡ˆï¼‰ï¼Œä»¥åŠå®Œæ•´çš„æ•ˆæœç³»ç»Ÿï¼ˆæ»¤é•œã€è£å‰ªã€é®ç½©ï¼‰ã€‚SVG é€šè¿‡æ ‘å½¢ç»“æ„ç»„ç»‡å…ƒç´ ï¼Œæ”¯æŒåˆ†ç»„ã€å˜æ¢å’Œå¤ç”¨ã€‚åŠ¨æ€æ¸²æŸ“æ¨¡å‹æä¾›ä¸‰ç§åŠ¨ç”»æœºåˆ¶ï¼ˆSMILã€CSSã€JavaScriptï¼‰ï¼Œæ”¯æŒå±æ€§åŠ¨ç”»ã€å˜æ¢åŠ¨ç”»ã€è·¯å¾„åŠ¨ç”»ã€‚SVG å…ƒç´ æ”¯æŒå®Œæ•´çš„ DOM äº‹ä»¶ç³»ç»Ÿã€‚SVG çš„ä¼˜åŠ¿æ˜¯çŸ¢é‡å›¾å½¢çš„ç²¾ç¡®è¡¨è¾¾å’Œæ— æŸç¼©æ”¾ï¼Œå¹¿æ³›ç”¨äºå›¾æ ‡ã€å›¾è¡¨ã€æ’ç”»ç­‰åœºæ™¯ã€‚</p>
<h2 data-id="heading-82">Lottie çš„æ¸²æŸ“æ¨¡å‹</h2>
<p>Lottie æ˜¯ç”± Airbnb å¼€å‘çš„åŠ¨ç”»åº“ï¼Œè§£æ Adobe After Effects å¯¼å‡ºçš„åŠ¨ç”»æ•°æ®ï¼ˆJSON æ ¼å¼ï¼‰ï¼Œåœ¨å¤šä¸ªå¹³å°ä¸ŠåŸç”Ÿæ¸²æŸ“ã€‚Lottie çš„æ¸²æŸ“æ¨¡å‹ä¸“æ³¨äºåŠ¨ç”»è¡¨è¾¾ï¼Œå°† After Effects çš„åŠ¨ç”»èƒ½åŠ›æ˜ å°„åˆ° 2D æ¸²æŸ“æŠ½è±¡ã€‚æœ¬ç« ä»‹ç» Lottie å¦‚ä½•å®ç° 2D æ¸²æŸ“æŠ½è±¡ï¼šæ”¯æŒå“ªäº›å›¾å½¢ç±»å‹ã€æ¸²æŸ“æ•ˆæœã€ä»¥åŠåŠ¨ç”»èƒ½åŠ›ã€‚</p>
<p><strong>å‚è€ƒèµ„æº</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flottie.airbnb.tech%2F%23%2Fsupported-features" target="_blank" title="https://lottie.airbnb.tech/#/supported-features" ref="nofollow noopener noreferrer">Lottie æ”¯æŒç‰¹æ€§</a> - å„å¹³å°æ”¯æŒçš„åŠŸèƒ½å¯¹æ¯”</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fairbnb%2Flottie-web%2Ftree%2Fmaster%2Fdocs%2Fjson" target="_blank" title="https://github.com/airbnb/lottie-web/tree/master/docs/json" ref="nofollow noopener noreferrer">Lottie JSON æ•°æ®ç»“æ„</a> - åŠ¨ç”»æ•°æ®æ ¼å¼çš„è¯¦ç»†å®šä¹‰</li>
</ul>
<h3 data-id="heading-83">é™æ€ - æ¸²æŸ“å•å…ƒ</h3>
<p>Lottie ä¸­çš„æ¸²æŸ“å•å…ƒæ˜¯å›¾å±‚(Layer)ã€‚æ¯ä¸ªå›¾å±‚åŒ…å«å½¢çŠ¶(Shape)ã€å˜æ¢(Transform)ã€æ ·å¼ç­‰å±æ€§ã€‚</p>
<p>å›¾å±‚ç±»å‹ï¼š</p>
<ul>
<li><strong>å½¢çŠ¶å›¾å±‚(Shape Layer)</strong>ï¼šåŒ…å«çŸ¢é‡å½¢çŠ¶ï¼Œæ”¯æŒ Fill å’Œ Stroke</li>
<li><strong>å›¾åƒå›¾å±‚(Image Layer)</strong>ï¼šæ˜¾ç¤ºä½å›¾å›¾åƒ</li>
<li><strong>å›ºæ€å›¾å±‚(Solid Layer)</strong>ï¼šçº¯è‰²çŸ©å½¢</li>
<li><strong>é¢„åˆæˆå›¾å±‚(Precomp Layer)</strong>ï¼šå¼•ç”¨å¦ä¸€ä¸ªåˆæˆä½œä¸ºå­å›¾å±‚</li>
<li><strong>ç©ºå¯¹è±¡å›¾å±‚(Null Layer)</strong>ï¼šä¸å¯è§ï¼Œç”¨äºç»„ç»‡å±‚çº§å’Œæ§åˆ¶å˜æ¢</li>
<li><strong>æ–‡æœ¬å›¾å±‚(Text Layer)</strong>ï¼šæ–‡æœ¬å†…å®¹ï¼Œæ”¯æŒå­—ä½“ã€æ ·å¼ã€åŠ¨ç”»</li>
</ul>
<p>å½¢çŠ¶ç±»å‹ï¼š</p>
<ul>
<li><strong>Shape</strong>ï¼šè‡ªå®šä¹‰è·¯å¾„ï¼Œé€šè¿‡è´å¡å°”æ›²çº¿å®šä¹‰</li>
<li><strong>Rectangle</strong>ï¼šçŸ©å½¢</li>
<li><strong>Rounded Rectangle</strong>ï¼šåœ†è§’çŸ©å½¢</li>
<li><strong>Ellipse</strong>ï¼šæ¤­åœ†å’Œåœ†å½¢</li>
<li><strong>Polystar</strong>ï¼šå¤šè¾¹å½¢å’Œæ˜Ÿå½¢</li>
<li><strong>Group</strong>ï¼šå½¢çŠ¶åˆ†ç»„</li>
</ul>
<p>è·¯å¾„è¿ç®—(Merge Paths)ï¼š</p>
<p>å¯¹å¤šä¸ªå½¢çŠ¶è·¯å¾„è¿›è¡Œå¸ƒå°”è¿ç®—ï¼Œç”Ÿæˆæ–°çš„è·¯å¾„å‡ ä½•ï¼ˆAndroid KitKat+ å’Œ Windows æ”¯æŒï¼‰ï¼š</p>
<ul>
<li><strong>Merge</strong>ï¼šåˆå¹¶è·¯å¾„</li>
<li><strong>Add</strong>ï¼šå¹¶é›†</li>
<li><strong>Subtract</strong>ï¼šå·®é›†</li>
<li><strong>Intersect</strong>ï¼šäº¤é›†</li>
<li><strong>Exclude Intersection</strong>ï¼šå¼‚æˆ–</li>
</ul>
<p>è·¯å¾„è¿ç®—åœ¨ç”Ÿæˆ Geometry é˜¶æ®µæ‰§è¡Œï¼Œå°†å¤šä¸ª Shape åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„ Shapeï¼Œç„¶ååº”ç”¨ Fill/Strokeã€‚</p>
<p>å¡«å……(Fill)ï¼š</p>
<ul>
<li><strong>çº¯è‰²å¡«å……</strong>ï¼šRGBA é¢œè‰²</li>
<li><strong>çº¿æ€§æ¸å˜(Linear Gradient)</strong>ï¼šæ²¿ç›´çº¿æ–¹å‘çš„æ¸å˜</li>
<li><strong>å¾„å‘æ¸å˜(Radial Gradient)</strong>ï¼šä»ä¸­å¿ƒå‘å¤–è¾å°„çš„æ¸å˜</li>
<li><strong>å¡«å……è§„åˆ™(Fill Rule)</strong>ï¼šæ§åˆ¶è·¯å¾„çš„å¡«å……æ–¹å¼ï¼ˆNonZero/EvenOddï¼‰</li>
</ul>
<p>æè¾¹(Stroke)ï¼š</p>
<ul>
<li><strong>é¢œè‰²</strong>ï¼šçº¯è‰²æˆ–æ¸å˜</li>
<li><strong>å®½åº¦</strong>ï¼šçº¿æ¡ç²—ç»†</li>
<li><strong>Line Cap</strong>ï¼šçº¿æ¡ç«¯ç‚¹æ ·å¼ï¼ˆButt/Round/Squareï¼‰</li>
<li><strong>Line Join</strong>ï¼šçº¿æ¡è¿æ¥æ ·å¼ï¼ˆMiter/Round/Bevelï¼‰</li>
<li><strong>Miter Limit</strong>ï¼šå°–è§’é™åˆ¶</li>
<li><strong>è™šçº¿(Dashes)</strong>ï¼šè™šçº¿æ¨¡å¼</li>
</ul>
<h3 data-id="heading-84">é™æ€ - æ¸²æŸ“æ•ˆæœ</h3>
<p>Lottie æ”¯æŒéƒ¨åˆ†æ¸²æŸ“æ•ˆæœï¼Œä¸»è¦é›†ä¸­åœ¨å›¾å±‚çº§åˆ«çš„æ•ˆæœã€‚</p>
<p>è£å‰ª(Mask)ï¼š</p>
<p>Mask æ˜¯å‡ ä½•è£å‰ªï¼Œä½¿ç”¨è·¯å¾„å®šä¹‰å¯è§åŒºåŸŸï¼Œæœ¬è´¨ä¸Šæ˜¯ Clipã€‚Mask ç›´æ¥è£å‰ªåƒç´ ï¼ŒåŒºåŸŸå¤–çš„åƒç´ å®Œå…¨ä¸æ¸²æŸ“ã€‚</p>
<ul>
<li><strong>Mask Path</strong>ï¼šè£å‰ªè·¯å¾„ï¼Œå®šä¹‰å¯è§åŒºåŸŸçš„è¾¹ç•Œ</li>
<li><strong>Mask Opacity</strong>ï¼šè£å‰ªåŒºåŸŸçš„é€æ˜åº¦ï¼ˆè°ƒåˆ¶å¯è§åŒºåŸŸå†…çš„åƒç´ é€æ˜åº¦ï¼‰</li>
<li><strong>è£å‰ªæ¨¡å¼</strong>ï¼š
<ul>
<li>Addï¼šå åŠ è£å‰ªåŒºåŸŸï¼ˆå¤šä¸ª Mask çš„å¹¶é›†ï¼‰</li>
<li>Subtractï¼šä»å‰ä¸€ä¸ª Mask ä¸­å‡å»å½“å‰ Mask</li>
<li>Intersectï¼šäº¤é›†ï¼ˆéƒ¨åˆ†å¹³å°æ”¯æŒï¼‰</li>
</ul>
</li>
</ul>
<p>Mask ä½œç”¨äºå½“å‰å›¾å±‚ï¼Œåœ¨å›¾å±‚å†…å®¹æ¸²æŸ“å®Œæˆååº”ç”¨ã€‚å¤šä¸ª Mask å¯ä»¥ç»„åˆï¼Œé€šè¿‡å¸ƒå°”è¿ç®—å®šä¹‰æœ€ç»ˆçš„è£å‰ªåŒºåŸŸã€‚</p>
<p>é®ç½©(Matte)ï¼š</p>
<p>Matte æ˜¯åŸºäº Alpha é€šé“æˆ–äº®åº¦çš„è½¯é®ç½©ã€‚Matte ä½¿ç”¨ä¸€ä¸ªå›¾å±‚çš„åƒç´ å€¼ï¼ˆAlpha æˆ–äº®åº¦ï¼‰è°ƒåˆ¶å¦ä¸€ä¸ªå›¾å±‚çš„é€æ˜åº¦ï¼Œæ”¯æŒå¹³æ»‘çš„é€æ˜åº¦è¿‡æ¸¡ã€‚</p>
<ul>
<li><strong>Alpha Matte</strong>ï¼šä½¿ç”¨ Matte å›¾å±‚çš„ Alpha é€šé“æ§åˆ¶å½“å‰å›¾å±‚çš„å¯è§æ€§
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">result.rgba</span> = (current.r, current.g, current.b, current.a Ã— matte.a)
</code></pre>
</li>
<li><strong>Alpha Inverted Matte</strong>ï¼šåè½¬çš„ Alpha Matte
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">result.rgba</span> = (current.r, current.g, current.b, current.a Ã— (<span class="hljs-number">1</span> - matte.a))
</code></pre>
</li>
<li><strong>Luma Matte</strong>ï¼šä½¿ç”¨ Matte å›¾å±‚çš„äº®åº¦æ§åˆ¶å½“å‰å›¾å±‚çš„å¯è§æ€§ï¼ˆéƒ¨åˆ†å¹³å°æ”¯æŒï¼‰
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">luminance</span> = <span class="hljs-number">0.299</span> Ã— matte.r + <span class="hljs-number">0.587</span> Ã— matte.g + <span class="hljs-number">0.114</span> Ã— matte.b
<span class="hljs-attr">result.rgba</span> = (current.r, current.g, current.b, current.a Ã— luminance)
</code></pre>
</li>
</ul>
<p>Matte çš„æœ¬è´¨åŒºåˆ«ï¼šMask æ˜¯ç¡¬è¾¹ç•Œçš„å‡ ä½•è£å‰ªï¼ˆè·¯å¾„å¸ƒå°”è¿ç®—ï¼‰ï¼ŒMatte æ˜¯è½¯è¾¹ç•Œçš„é€æ˜åº¦è°ƒåˆ¶ï¼ˆé€åƒç´  Alpha è®¡ç®—ï¼‰ã€‚Mask å®šä¹‰"åœ¨å“ªé‡Œå¯è§"ï¼ŒMatte å®šä¹‰"å¯è§å¤šå°‘"ã€‚</p>
<p>å›¾å±‚æ•ˆæœ(Layer Effects)ï¼š</p>
<p>Web å¹³å°æ”¯æŒçš„æ•ˆæœï¼ˆAndroid/iOS éƒ¨åˆ†æ”¯æŒï¼‰ï¼š</p>
<ul>
<li><strong>Fill</strong>ï¼šå›¾å±‚çº§å¡«å……æ•ˆæœ</li>
<li><strong>Stroke</strong>ï¼šå›¾å±‚çº§æè¾¹æ•ˆæœ</li>
<li><strong>Tint</strong>ï¼šè‰²è°ƒè°ƒæ•´</li>
<li><strong>Tritone</strong>ï¼šä¸‰è‰²è°ƒ</li>
<li><strong>Gaussian Blur</strong>ï¼šé«˜æ–¯æ¨¡ç³Š</li>
<li><strong>Drop Shadow</strong>ï¼šæŠ•å½±</li>
</ul>
<p>å½¢çŠ¶æ•ˆæœï¼š</p>
<ul>
<li><strong>Trim Path</strong>ï¼šè·¯å¾„ä¿®å‰ªï¼Œé€šè¿‡èµ·ç‚¹ã€ç»ˆç‚¹ã€åç§»æ§åˆ¶è·¯å¾„çš„å¯è§éƒ¨åˆ†</li>
<li><strong>Repeater</strong>ï¼šå½¢çŠ¶é‡å¤å™¨ï¼Œå¤åˆ¶å½¢çŠ¶å¹¶åº”ç”¨å˜æ¢</li>
<li><strong>Round Corners</strong>ï¼šåœ†è§’æ•ˆæœ</li>
</ul>
<h3 data-id="heading-85">é™æ€ - å±‚çº§ç»„ç»‡</h3>
<p>Lottie é€šè¿‡åˆæˆ(Composition)ç»„ç»‡å›¾å±‚ã€‚åˆæˆæ˜¯å›¾å±‚çš„å®¹å™¨ï¼Œå®šä¹‰äº†æ¸²æŸ“çš„ç”»å¸ƒå°ºå¯¸å’Œå¸§ç‡ã€‚</p>
<p>åˆæˆç»“æ„ï¼š</p>
<ul>
<li><strong>æ ¹åˆæˆ(Root Composition)</strong>ï¼šåŠ¨ç”»çš„é¡¶å±‚åˆæˆï¼ŒåŒ…å«æ‰€æœ‰å›¾å±‚å’Œèµ„æº</li>
<li><strong>å›¾å±‚åˆ—è¡¨(Layers)</strong>ï¼šåˆæˆå†…çš„å›¾å±‚æŒ‰ç´¢å¼•é¡ºåºæ’åˆ—ï¼Œåæ·»åŠ çš„å›¾å±‚åœ¨ä¸Šå±‚</li>
<li><strong>èµ„æº(Assets)</strong>ï¼šå¯å¤ç”¨çš„èµ„æºï¼ŒåŒ…æ‹¬å›¾åƒå’Œé¢„åˆæˆ</li>
</ul>
<p>çˆ¶å­å…³ç³»(Parenting)ï¼š</p>
<p>å›¾å±‚å¯ä»¥è®¾ç½®çˆ¶å›¾å±‚ï¼Œå­å›¾å±‚ç»§æ‰¿çˆ¶å›¾å±‚çš„å˜æ¢ã€‚å˜æ¢ç´¯ç§¯ï¼š</p>
<pre><code class="hljs">å­å›¾å±‚ä¸–ç•Œå˜æ¢ = çˆ¶å›¾å±‚å˜æ¢ Ã— å­å›¾å±‚ç›¸å¯¹å˜æ¢
</code></pre>
<p>çˆ¶å­å…³ç³»å½¢æˆå±‚çº§å˜æ¢æ ‘ï¼Œå˜æ¢ä»æ ¹èŠ‚ç‚¹å‘å¶èŠ‚ç‚¹ç´¯ç§¯ã€‚ç©ºå¯¹è±¡å›¾å±‚(Null Layer)å¸¸ç”¨ä½œçˆ¶å›¾å±‚ï¼Œæ§åˆ¶ä¸€ç»„å­å›¾å±‚çš„å˜æ¢ã€‚</p>
<p>é¢„åˆæˆ(Precomps)ï¼š</p>
<p>é¢„åˆæˆæ˜¯åµŒå¥—çš„åˆæˆï¼Œä½œä¸ºå›¾å±‚åµŒå…¥çˆ¶åˆæˆã€‚é¢„åˆæˆçš„æ¸²æŸ“è¿‡ç¨‹ï¼š</p>
<ol>
<li>é¢„åˆæˆå†…çš„æ‰€æœ‰å›¾å±‚æŒ‰é¡ºåºæ¸²æŸ“åˆ°ç¦»å±çº¹ç†</li>
<li>é¢„åˆæˆä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼ˆçº¹ç†ï¼‰æ¸²æŸ“åˆ°çˆ¶åˆæˆ</li>
<li>é¢„åˆæˆå›¾å±‚å¯ä»¥åº”ç”¨å˜æ¢ã€é®ç½©ã€è’™ç‰ˆç­‰æ•ˆæœ</li>
</ol>
<p>é¢„åˆæˆæ”¯æŒå¤šå±‚åµŒå¥—ï¼Œå½¢æˆåˆæˆæ ‘ã€‚é¢„åˆæˆçš„ä¼˜åŠ¿æ˜¯å¤ç”¨å’Œå°è£…ï¼šåŒä¸€ä¸ªé¢„åˆæˆå¯ä»¥åœ¨å¤šå¤„å¼•ç”¨ï¼Œä¿®æ”¹é¢„åˆæˆå½±å“æ‰€æœ‰å¼•ç”¨ã€‚</p>
<h3 data-id="heading-86">é™æ€ - åˆæˆé¡ºåº</h3>
<p>Lottie æŒ‰ç…§å›¾å±‚é¡ºåºæ¸²æŸ“ï¼Œåæ·»åŠ çš„å›¾å±‚åœ¨ä¸Šå±‚ã€‚å›¾å±‚å†…çš„å½¢çŠ¶æŒ‰ç…§å®šä¹‰é¡ºåºæ¸²æŸ“ï¼Œå½¢çŠ¶æ•ˆæœï¼ˆFillã€Strokeï¼‰æŒ‰ç…§æ·»åŠ é¡ºåºåº”ç”¨ã€‚</p>
<p>é®ç½©å’Œè’™ç‰ˆåœ¨æ¸²æŸ“å›¾å±‚å†…å®¹ååº”ç”¨ï¼Œè£å‰ªæœ€ç»ˆçš„åƒç´ ã€‚å›¾å±‚æ•ˆæœï¼ˆå¦‚æ¨¡ç³Šã€é˜´å½±ï¼‰ä½œç”¨äºå›¾å±‚çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<h3 data-id="heading-87">åŠ¨æ€ - åŠ¨ç”»</h3>
<p>Lottie çš„æ ¸å¿ƒæ˜¯å…³é”®å¸§åŠ¨ç”»ã€‚æ‰€æœ‰å¯åŠ¨ç”»çš„å±æ€§éƒ½é€šè¿‡å…³é”®å¸§å®šä¹‰ï¼Œåœ¨å…³é”®å¸§ä¹‹é—´æ’å€¼ã€‚</p>
<p>å…³é”®å¸§åŠ¨ç”»ï¼š</p>
<p>Lottie çš„åŠ¨ç”»æ•°æ®ç”±å…³é”®å¸§åºåˆ—ç»„æˆã€‚æ¯ä¸ªå…³é”®å¸§åŒ…å«ï¼š</p>
<ul>
<li><strong>æ—¶é—´(Time)</strong>ï¼šå…³é”®å¸§åœ¨æ—¶é—´è½´ä¸Šçš„ä½ç½®ï¼ˆå¸§æ•°ï¼‰</li>
<li><strong>å€¼(Value)</strong>ï¼šè¯¥æ—¶åˆ»çš„å±æ€§å€¼</li>
<li><strong>ç¼“åŠ¨å‡½æ•°(Easing)</strong>ï¼šåˆ°ä¸‹ä¸€ä¸ªå…³é”®å¸§çš„æ’å€¼æ›²çº¿</li>
</ul>
<p>å¯åŠ¨ç”»çš„å±æ€§ï¼š</p>
<p><strong>å˜æ¢(Transform)</strong>ï¼š</p>
<ul>
<li><strong>Position</strong>ï¼šä½ç½®ï¼Œæ”¯æŒåˆ†ç¦»çš„ X/Y è½´</li>
<li><strong>Scale</strong>ï¼šç¼©æ”¾</li>
<li><strong>Rotation</strong>ï¼šæ—‹è½¬</li>
<li><strong>Anchor Point</strong>ï¼šé”šç‚¹</li>
<li><strong>Opacity</strong>ï¼šé€æ˜åº¦</li>
<li><strong>Skew</strong>ï¼šå€¾æ–œ</li>
</ul>
<p><strong>å½¢çŠ¶å±æ€§</strong>ï¼š</p>
<ul>
<li><strong>Shape Path</strong>ï¼šè·¯å¾„é¡¶ç‚¹ä½ç½®</li>
<li><strong>Rectangle Size</strong>ï¼šçŸ©å½¢å°ºå¯¸</li>
<li><strong>Ellipse Size</strong>ï¼šæ¤­åœ†å°ºå¯¸</li>
<li><strong>Polystar Points</strong>ï¼šå¤šè¾¹å½¢/æ˜Ÿå½¢çš„ç‚¹æ•°å’ŒåŠå¾„</li>
</ul>
<p><strong>æ ·å¼å±æ€§</strong>ï¼š</p>
<ul>
<li><strong>Fill Color</strong>ï¼šå¡«å……é¢œè‰²</li>
<li><strong>Fill Opacity</strong>ï¼šå¡«å……é€æ˜åº¦</li>
<li><strong>Stroke Color</strong>ï¼šæè¾¹é¢œè‰²</li>
<li><strong>Stroke Width</strong>ï¼šæè¾¹å®½åº¦</li>
<li><strong>Gradient Start/End Point</strong>ï¼šæ¸å˜èµ·ç‚¹å’Œç»ˆç‚¹</li>
</ul>
<p><strong>æ•ˆæœå±æ€§</strong>ï¼š</p>
<ul>
<li><strong>Trim Path Start/End/Offset</strong>ï¼šè·¯å¾„ä¿®å‰ªå‚æ•°</li>
<li><strong>Repeater Copies/Offset</strong>ï¼šé‡å¤å™¨å‚æ•°</li>
<li><strong>Mask Path/Opacity</strong>ï¼šé®ç½©è·¯å¾„å’Œé€æ˜åº¦</li>
</ul>
<p>æ’å€¼ç±»å‹ï¼š</p>
<ul>
<li><strong>çº¿æ€§æ’å€¼(Linear)</strong>ï¼šåŒ€é€Ÿå˜åŒ–</li>
<li><strong>è´å¡å°”æ’å€¼(Bezier)</strong>ï¼šä½¿ç”¨è´å¡å°”æ›²çº¿å®šä¹‰ç¼“åŠ¨å‡½æ•°</li>
<li><strong>ä¿æŒæ’å€¼(Hold)</strong>ï¼šé˜¶è·ƒå˜åŒ–ï¼Œä¸æ’å€¼</li>
<li><strong>ç©ºé—´è´å¡å°”æ’å€¼(Spatial Bezier)</strong>ï¼šä½ç½®å±æ€§çš„ç©ºé—´è·¯å¾„æ’å€¼</li>
<li><strong>Rove Across Time</strong>ï¼šæ²¿è·¯å¾„åŒ€é€Ÿè¿åŠ¨</li>
</ul>
<p>æ—¶é—´æ§åˆ¶ï¼š</p>
<p>Lottie æ”¯æŒå¯¹å›¾å±‚çš„æ—¶é—´è½´è¿›è¡Œæ§åˆ¶ï¼š</p>
<ul>
<li><strong>Time Stretch</strong>ï¼šæ‹‰ä¼¸æˆ–å‹ç¼©å›¾å±‚çš„æ—¶é—´ï¼Œæ”¹å˜æ’­æ”¾é€Ÿåº¦ã€‚å€¼ä¸º 2 æ—¶ï¼Œå›¾å±‚ä»¥ 2 å€é€Ÿæ’­æ”¾ï¼›å€¼ä¸º 0.5 æ—¶ï¼Œä»¥åŠé€Ÿæ’­æ”¾ã€‚</li>
<li><strong>Time Remap</strong>ï¼šé‡æ–°æ˜ å°„å›¾å±‚çš„æ—¶é—´è½´ã€‚Time Remap æœ¬èº«å¯ä»¥æ˜¯å…³é”®å¸§åŠ¨ç”»ï¼Œé€šè¿‡æ§åˆ¶æ—¶é—´è½´çš„è¿›åº¦å®ç°æ—¶é—´å€’æµã€å¾ªç¯ã€æš‚åœç­‰æ•ˆæœã€‚</li>
</ul>
<p>Time Remap æ˜¯å¼ºå¤§çš„æ—¶é—´æ§åˆ¶æœºåˆ¶ï¼šå¯ä»¥è®©å›¾å±‚åœ¨æŸæ®µæ—¶é—´å¾ªç¯æ’­æ”¾ï¼Œæˆ–åœ¨ä¸åŒæ—¶åˆ»è·³è½¬åˆ°ä¸åŒçš„å¸§ã€‚</p>
<p>è¡¨è¾¾å¼ï¼šWeb ç‰ˆ Lottie æ”¯æŒ After Effects çš„è¡¨è¾¾å¼(Expressions)ã€‚è¡¨è¾¾å¼æ˜¯ JavaScript ä»£ç ï¼Œåœ¨æ¯å¸§æ‰§è¡Œï¼ŒåŠ¨æ€è®¡ç®—å±æ€§å€¼ã€‚è¡¨è¾¾å¼å¯ä»¥è®¿é—®å…¶ä»–å›¾å±‚çš„å±æ€§ï¼Œå®ç°å¤æ‚çš„å…³è”åŠ¨ç”»ã€‚</p>
<p>è¡¨è¾¾å¼ä½¿å¾—åŠ¨ç”»å¯ä»¥å“åº”è¿è¡Œæ—¶çŠ¶æ€ï¼Œè€Œä¸ä»…ä»…æ˜¯æ’­æ”¾é¢„å®šä¹‰çš„å…³é”®å¸§ã€‚</p>
<p>æ–‡æœ¬åŠ¨ç”»ï¼šLottie æ”¯æŒæ–‡æœ¬å›¾å±‚çš„åŠ¨ç”»ï¼ŒåŒ…æ‹¬ï¼š</p>
<p>åŸºç¡€æ–‡æœ¬å±æ€§ï¼š</p>
<ul>
<li><strong>å­—ä½“(Fonts)</strong>ï¼šå­—ä½“ç³»åˆ—å’Œæ ·å¼</li>
<li><strong>å­—å½¢(Glyphs)</strong>ï¼šå­—ç¬¦å½¢çŠ¶</li>
<li><strong>å¡«å……å’Œæè¾¹</strong>ï¼šæ–‡æœ¬çš„å¡«å……é¢œè‰²å’Œæè¾¹æ ·å¼</li>
<li><strong>å˜æ¢(Transform)</strong>ï¼šæ–‡æœ¬çš„ä½ç½®ã€ç¼©æ”¾ã€æ—‹è½¬</li>
<li><strong>å­—é—´è·(Tracking)</strong>ï¼šå­—ç¬¦é—´è·</li>
</ul>
<p>é«˜çº§æ–‡æœ¬åŠ¨ç”»ï¼ˆWeb æ”¯æŒï¼‰ï¼š</p>
<ul>
<li><strong>Anchor Point Grouping</strong>ï¼šé”šç‚¹åˆ†ç»„</li>
<li><strong>Text Path</strong>ï¼šæ–‡æœ¬æ²¿è·¯å¾„æ’åˆ—</li>
<li><strong>Per-character 3D</strong>ï¼šé€å­—ç¬¦ 3D å˜æ¢</li>
<li><strong>Range Selector</strong>ï¼šèŒƒå›´é€‰æ‹©å™¨ï¼Œé€‰æ‹©æ–‡æœ¬çš„ä¸€éƒ¨åˆ†åº”ç”¨åŠ¨ç”»</li>
<li><strong>Expression Selector</strong>ï¼šè¡¨è¾¾å¼é€‰æ‹©å™¨ï¼Œé€šè¿‡è¡¨è¾¾å¼æ§åˆ¶æ–‡æœ¬åŠ¨ç”»</li>
</ul>
<h3 data-id="heading-88">åŠ¨ç”»æ§åˆ¶</h3>
<p>Lottie æä¾›æ’­æ”¾æ§åˆ¶æ¥å£ï¼š</p>
<p>æ’­æ”¾æ§åˆ¶ï¼š</p>
<ul>
<li><strong>play()</strong>ï¼šæ’­æ”¾åŠ¨ç”»</li>
<li><strong>pause()</strong>ï¼šæš‚åœåŠ¨ç”»</li>
<li><strong>stop()</strong>ï¼šåœæ­¢å¹¶é‡ç½®åŠ¨ç”»</li>
<li><strong>goToAndStop(value, isFrame)</strong>ï¼šè·³è½¬åˆ°æŒ‡å®šæ—¶é—´æˆ–å¸§</li>
<li><strong>goToAndPlay(value, isFrame)</strong>ï¼šè·³è½¬å¹¶æ’­æ”¾</li>
<li><strong>setDirection(direction)</strong>ï¼šè®¾ç½®æ’­æ”¾æ–¹å‘ï¼ˆæ­£å‘/åå‘ï¼‰</li>
<li><strong>setSpeed(speed)</strong>ï¼šè®¾ç½®æ’­æ”¾é€Ÿåº¦</li>
</ul>
<p>ç‰‡æ®µæ’­æ”¾ï¼š</p>
<ul>
<li><strong>playSegments(segments, forceFlag)</strong>ï¼šæ’­æ”¾æŒ‡å®šç‰‡æ®µ</li>
</ul>
<p>æ ‡è®°(Markers)ï¼š</p>
<p>Lottie æ”¯æŒ After Effects çš„æ ‡è®°ï¼Œæ ‡è®°å¯ä»¥å‘½åæ—¶é—´ç‚¹ï¼Œç”¨äºåŒæ­¥å’Œæ§åˆ¶æ’­æ”¾ã€‚</p>
<h3 data-id="heading-89">å°ç»“</h3>
<p>Lottie å®ç°äº†ä»¥åŠ¨ç”»ä¸ºæ ¸å¿ƒçš„ 2D æ¸²æŸ“æ¨¡å‹ã€‚é™æ€æ¸²æŸ“æ¨¡å‹æ”¯æŒå¤šç§å›¾å±‚ç±»å‹ï¼ˆå½¢çŠ¶ã€å›¾åƒã€æ–‡æœ¬ã€é¢„åˆæˆï¼‰ï¼Œæä¾›çŸ¢é‡å½¢çŠ¶çš„å®Œæ•´è¡¨è¾¾ï¼ˆè·¯å¾„ã€çŸ©å½¢ã€æ¤­åœ†ã€å¤šè¾¹å½¢ï¼‰ï¼Œæ”¯æŒå¡«å……ã€æè¾¹ã€é®ç½©ã€è’™ç‰ˆç­‰æ¸²æŸ“æ•ˆæœã€‚åŠ¨æ€æ¸²æŸ“æ¨¡å‹é€šè¿‡å…³é”®å¸§åŠ¨ç”»é©±åŠ¨æ‰€æœ‰å±æ€§å˜åŒ–ï¼Œæ”¯æŒå¤šç§æ’å€¼ç±»å‹ï¼Œæä¾›çµæ´»çš„æ’­æ”¾æ§åˆ¶å’Œè¡¨è¾¾å¼èƒ½åŠ›ã€‚Lottie å°† After Effects çš„åŠ¨ç”»èƒ½åŠ›æ˜ å°„åˆ°è·¨å¹³å°çš„åŸç”Ÿæ¸²æŸ“ï¼Œä½¿å¾—è®¾è®¡å¸ˆå¯ä»¥ç›´æ¥å¯¼å‡ºåŠ¨ç”»è€Œæ— éœ€å·¥ç¨‹å¸ˆæ‰‹åŠ¨å®ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[docker composeä¸­ä½¿ç”¨åˆ°çš„ç¯å¢ƒå˜é‡å¼•ç”¨ ï¼Œå¦‚ä½•ç»™å®ƒè®¾ç½®ä¸ºå®é™…çš„å€¼]]></title>    <link>https://juejin.cn/post/7601770028280119305</link>    <guid>https://juejin.cn/post/7601770028280119305</guid>    <pubDate>2026-02-02T08:17:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601770028280119305" data-draft-id="7601822421609971739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="docker composeä¸­ä½¿ç”¨åˆ°çš„ç¯å¢ƒå˜é‡å¼•ç”¨ ï¼Œå¦‚ä½•ç»™å®ƒè®¾ç½®ä¸ºå®é™…çš„å€¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-02T08:17:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yeyong"/> <meta itemprop="url" content="https://juejin.cn/user/4283353031781063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            docker composeä¸­ä½¿ç”¨åˆ°çš„ç¯å¢ƒå˜é‡å¼•ç”¨ ï¼Œå¦‚ä½•ç»™å®ƒè®¾ç½®ä¸ºå®é™…çš„å€¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353031781063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yeyong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:17:05.000Z" title="Mon Feb 02 2026 08:17:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Vector é…ç½®ä¸­ï¼Œ<code>${KAFKA_BOOTSTRAP_SERVERS}</code> å’Œ <code>${KAFKA_TOPIC}</code> æ˜¯<strong>ç¯å¢ƒå˜é‡å ä½ç¬¦</strong>ï¼Œéœ€è¦åœ¨ Docker Compose ä¸­è®¾ç½®ã€‚æ ¹æ® Docker Compose çš„æœ€ä½³å®è·µï¼Œæœ‰ä»¥ä¸‹å‡ ç§è®¾ç½®æ–¹å¼ï¼š</p>
<h2 data-id="heading-0">æ¨èæ–¹å¼ä¸€ï¼šä½¿ç”¨ <code>.env</code> æ–‡ä»¶ï¼ˆæœ€å¸¸ç”¨ï¼‰</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .env æ–‡ä»¶å†…å®¹</span>
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC=my-logs-topic
</code></pre>
<p>ç„¶ååœ¨ <code>docker-compose.yml</code> ä¸­å¼•ç”¨ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">vector:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">timberio/vector:latest-alpine</span>
    <span class="hljs-attr">env_file:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">.env</span>  <span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./vector.yaml:/etc/vector/vector.yaml:ro</span>
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>é…ç½®ä¸ä»£ç åˆ†ç¦»</li>
<li>ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒ <code>.env</code> æ–‡ä»¶ï¼ˆå¦‚ <code>.env.dev</code>ã€<code>.env.prod</code>ï¼‰</li>
<li>é¿å…æ•æ„Ÿä¿¡æ¯ç¡¬ç¼–ç </li>
</ul>
<hr/>
<h2 data-id="heading-1">æ–¹å¼äºŒï¼šç›´æ¥åœ¨ docker-compose.yml ä¸­è®¾ç½®</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">vector:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">timberio/vector:latest-alpine</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">KAFKA_BOOTSTRAP_SERVERS=kafka:9092</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">KAFKA_TOPIC=application-logs</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./vector.yaml:/etc/vector/vector.yaml:ro</span>
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šä¸æ¨èç”¨äºæ•æ„Ÿä¿¡æ¯ï¼Œå› ä¸ºä¼šæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ã€‚</p>
<hr/>
<h2 data-id="heading-2">æ–¹å¼ä¸‰ï¼šä»å®¿ä¸»æœºç¯å¢ƒä¼ é€’</h2>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">vector:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">timberio/vector:latest-alpine</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS}</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">KAFKA_TOPIC=${KAFKA_TOPIC}</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./vector.yaml:/etc/vector/vector.yaml:ro</span>
</code></pre>
<p>åœ¨å¯åŠ¨å‰ï¼Œå…ˆåœ¨ shell ä¸­è®¾ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> KAFKA_BOOTSTRAP_SERVERS=<span class="hljs-string">"kafka1:9092,kafka2:9092"</span>
<span class="hljs-built_in">export</span> KAFKA_TOPIC=<span class="hljs-string">"production-logs"</span>

docker compose up
</code></pre>
<hr/>
<h2 data-id="heading-3"><strong>ç”Ÿäº§ç¯å¢ƒæœ€ä½³å®è·µ</strong></h2>
<h3 data-id="heading-4">1. ä½¿ç”¨ <code>.env</code> æ–‡ä»¶ + ç‰ˆæœ¬æ§åˆ¶å¿½ç•¥</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .gitignore</span>
.<span class="hljs-built_in">env</span>
.<span class="hljs-built_in">env</span>.*
!.env.example
</code></pre>
<p>åˆ›å»º <code>.env.example</code> ä½œä¸ºæ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .env.example</span>
KAFKA_BOOTSTRAP_SERVERS=your-kafka-broker:9092
KAFKA_TOPIC=your-topic-name
</code></pre>
<h3 data-id="heading-5">2. Kafka é›†ç¾¤é…ç½®ç¤ºä¾‹</h3>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œé€šå¸¸éœ€è¦å¤šä¸ª brokerï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .env.production</span>
KAFKA_BOOTSTRAP_SERVERS=kafka-broker-1:9092,kafka-broker-2:9092,kafka-broker-3:9092
KAFKA_TOPIC=app-logs-prod
</code></pre>
<h3 data-id="heading-6">3. ä½¿ç”¨ Docker Secretsï¼ˆé«˜åº¦æ•æ„Ÿåœºæ™¯ï¼‰</h3>
<p>å¯¹äºéå¸¸æ•æ„Ÿçš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ Docker Secretsï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">vector:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">timberio/vector:latest-alpine</span>
    <span class="hljs-attr">secrets:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">kafka_bootstrap_servers</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">kafka_topic</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">KAFKA_BOOTSTRAP_SERVERS_FILE=/run/secrets/kafka_bootstrap_servers</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">KAFKA_TOPIC_FILE=/run/secrets/kafka_topic</span>

<span class="hljs-attr">secrets:</span>
  <span class="hljs-attr">kafka_bootstrap_servers:</span>
    <span class="hljs-attr">file:</span> <span class="hljs-string">./secrets/kafka_bootstrap_servers.txt</span>
  <span class="hljs-attr">kafka_topic:</span>
    <span class="hljs-attr">file:</span> <span class="hljs-string">./secrets/kafka_topic.txt</span>
</code></pre>
<p>ç„¶ååœ¨ Vector é…ç½®ä¸­ä½¿ç”¨ <code>_FILE</code> åç¼€è®© Vector ä»æ–‡ä»¶è¯»å–ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">bootstrap_servers:</span> <span class="hljs-string">"${KAFKA_BOOTSTRAP_SERVERS_FILE}"</span>
<span class="hljs-attr">topic:</span> <span class="hljs-string">"${KAFKA_TOPIC_FILE}"</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">æ€»ç»“å»ºè®®</h2>






























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹å¼</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>æœ¬åœ°å¼€å‘</strong></td><td><code>.env</code> æ–‡ä»¶</td><td><code>KAFKA_BOOTSTRAP_SERVERS=localhost:9092</code></td></tr><tr><td><strong>CI/CD</strong></td><td>Shell ç¯å¢ƒå˜é‡</td><td><code>export KAFKA_TOPIC=test-logs</code></td></tr><tr><td><strong>ç”Ÿäº§ç¯å¢ƒ</strong></td><td><code>.env</code> + Secrets</td><td>æ•æ„Ÿä¿¡æ¯ç”¨ Docker Secrets</td></tr><tr><td><strong>å¤šç¯å¢ƒ</strong></td><td>ç¯å¢ƒç‰¹å®š <code>.env</code> æ–‡ä»¶</td><td><code>.env.dev</code>ã€<code>.env.prod</code></td></tr></tbody></table>
<p>æ ¹æ®æœç´¢ç»“æœï¼Œ<strong>ä½¿ç”¨å¤–éƒ¨ <code>.env</code> æ–‡ä»¶</strong> æ˜¯æœ€æ¨èçš„æ–¹å¼ï¼Œå› ä¸ºå®ƒï¼š</p>
<ul>
<li>é›†ä¸­ç®¡ç†é…ç½®</li>
<li>æ˜“äºå›¢é˜Ÿåä½œ</li>
<li>å®‰å…¨æ€§æ›´å¥½ï¼ˆå¯åŠ å…¥ <code>.gitignore</code>ï¼‰</li>
<li>ä¾¿äºä¸åŒç¯å¢ƒåˆ‡æ¢</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¢«æ‹’ 10 æ¬¡åï¼Œæˆ‘çš„é¦–æ¬¾å¼€æºé¸¿è’™åº”ç”¨ç»ˆä¸Šæ¶ï¼ŒçœŸçš„åå·~]]></title>    <link>https://juejin.cn/post/7601843005004283914</link>    <guid>https://juejin.cn/post/7601843005004283914</guid>    <pubDate>2026-02-02T08:36:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601843005004283914" data-draft-id="7600706866785353771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¢«æ‹’ 10 æ¬¡åï¼Œæˆ‘çš„é¦–æ¬¾å¼€æºé¸¿è’™åº”ç”¨ç»ˆä¸Šæ¶ï¼ŒçœŸçš„åå·~"/> <meta itemprop="keywords" content="å‰ç«¯,å¼€æº,HarmonyOS"/> <meta itemprop="datePublished" content="2026-02-02T08:36:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¢¦å·¥å‚"/> <meta itemprop="url" content="https://juejin.cn/user/4230576472589976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¢«æ‹’ 10 æ¬¡åï¼Œæˆ‘çš„é¦–æ¬¾å¼€æºé¸¿è’™åº”ç”¨ç»ˆä¸Šæ¶ï¼ŒçœŸçš„åå·~
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576472589976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¢¦å·¥å‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:36:06.000Z" title="Mon Feb 02 2026 08:36:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç»è¿‡è¿‘å‡ ä¸ªæœˆçš„å¼€å‘ä¸æ‰“ç£¨ï¼Œæˆ‘çš„é¦–æ¬¾é¸¿è’™åº”ç”¨ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fresource%2Fharmony.html" target="_blank" title="https://uviewpro.cn/zh/resource/harmony.html" ref="nofollow noopener noreferrer"><strong>uViewProï¼ˆè·¨å¹³å°UIç»„ä»¶åº“ï¼‰ğŸ‘ˆ ç‚¹å‡»ä½“éªŒ</strong></a> æ­£å¼ä¸Šçº¿åä¸ºé¸¿è’™åº”ç”¨å¸‚åœºï¼è¿™æ˜¯ä¸€æ¬¾åŸºäº <strong>uni-app + uView Pro</strong> å¼€å‘çš„åº”ç”¨ï¼Œä¸»è¦é¢å‘å¼€å‘è€…å®è·µçš„åº”ç”¨ï¼Œå®ƒä¸ä»…å±•ç¤ºäº† <strong>uView Pro å¼€æºç»„ä»¶åº“</strong>çš„å¼ºå¤§èƒ½åŠ›ï¼Œæ›´æ˜¯ä¸€æ¬¡è·¨å¹³å°å¼€å‘çš„å®Œç¾è½åœ°å®è·µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db9ec1ef170741cb93ba6b0b566ec2b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=dpxVRWCHjkJwSXpu%2BhtAslFFLP0%3D" alt="é¢„è§ˆå›¾.png" loading="lazy"/></p>
<p>ä½†æ˜¯ä¸Šçº¿çš„è¿‡ç¨‹å¯è°“æ˜¯åå·ä¸æ–­...</p>
<h2 data-id="heading-0">ä¸€. è¯´ä¸€ä¸‹å¿ƒé…¸è‹¦æ¥š</h2>
<p>æˆ‘æ„Ÿè§‰é¸¿è’™åº”ç”¨ä¸Šæ¶å¯æ¯”å…¶ä»–å¹³å°ä¸Šçº¿ä¸¥æ ¼å¤šäº†ï¼Œæˆ‘åå¤ä¿®æ”¹æäº¤äº†è¿‘10æ¬¡æ‰æœ€ç»ˆä¸Šæ¶æˆåŠŸã€‚</p>
<p>ç¬¬ä¸€æ¬¡æäº¤ç”³è¯·åè¢«æ‹’çš„åŸå› æ˜¯ï¼š</p>
<ol>
<li>åŠŸèƒ½äº¤äº’ç®€å•ï¼Œå½±å“ç”¨æˆ·çš„æ€»ä½“ä½“éªŒã€‚</li>
<li>æ¨ªç«–å±å¸ƒå±€æœªé€‚é…é—®é¢˜ï¼Œä¸ç¬¦åˆé¸¿è’™åº”ç”¨UXè®¾è®¡è§„èŒƒã€‚</li>
<li>æœªæ­£å¸¸é€‚é…è®¾å¤‡æ·±è‰²æ¨¡å¼ï¼Œä¸ç¬¦åˆé¸¿è’™åº”ç”¨UXè®¾è®¡è§„èŒƒã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/705cb458cdc347bfad6f77eff78444e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=h6fiErsTmQdbjcZGl0qL%2BGwMwPE%3D" alt="11.png" loading="lazy"/></p>
<p>ç¬¬2,3ä¸ªé—®é¢˜éƒ½å¥½è§£å†³ï¼Œå› ä¸ºé—®é¢˜æ˜ç¡®ï¼Œè§£å†³æ–¹æ¡ˆæ˜äº†ï¼š</p>
<ul>
<li>ç¬¬2ä¸ªé—®é¢˜éœ€è¦é€‚é…æ¨ªç«–å±åˆ‡æ¢çš„å¸ƒå±€é€‚é…ï¼Œå¸ƒå±€ä¸è¦é”™ä¹±å³å¯ã€‚</li>
<li>ç¬¬3ä¸ªé—®é¢˜éœ€è¦å°†åº”ç”¨çš„æ‰€æœ‰é¡µé¢é€‚é…æš—è‰²æ¨¡å¼ã€‚</li>
</ul>
<p>ä½†å®˜æ–¹ä¹Ÿæ˜ç¡®è¯´äº†ï¼Œè¿™ä¸¤ä¸ªé—®é¢˜ä¸æ˜¯é‡ç‚¹ï¼Œä¸è§£å†³ä¹Ÿå¯ä»¥é€šè¿‡å®¡æ ¸ã€‚</p>
<p>æœ€é‡è¦çš„å¡ç€ä¸è®©ä¸Šçº¿çš„æ˜¯ç¬¬1ä¸ªåŸå› ï¼Œç”±äºåº”ç”¨äº¤äº’ç®€å•æ‰€ä»¥ä¸èƒ½ä¸Šçº¿ã€‚æˆ‘çœŸæ˜¯....ï¼Œè¿™å¤ªä¸»è§‚äº†ï¼Œå®¡æ ¸äººå‘˜è¯´ä½ äº¤äº’ç®€å•ï¼Œé‚£ä½ å°±è¿‡ä¸äº†ï¼</p>
<p>æœçœŸï¼Œç»è¿‡ä¼˜åŒ–åå†æ¬¡æäº¤ï¼Œåé¢æ‰€æœ‰è¢«æ‹’ç»çš„åŸå› éƒ½ä¸ºç¬¬ä¸€ä¸ªï¼Œå…¶ä»–çš„é—®é¢˜éƒ½å·²è§£å†³ï¼Œä¸ç®¡åº”ç”¨å†…å®¹å¦‚ä½•ä¸°å¯Œï¼Œéƒ½è¢«æ‹’ç»ï¼ï¼ˆè¿™æ ¹æœ¬å°±æ˜¯ä¸æƒ³ç»™è¿‡å•Š...ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4e243a3d201410997b82ef6ff8dec1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=eDD24LlFfJMmlRY3xJ49vZFEYtY%3D" alt="12.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9e2a9ec3ee4db4a6e3b2d5a0f0ec44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=lwHJkPf1UUc5TwDixbkOPGijCFI%3D" alt="image.png" loading="lazy"/></p>
<p>æäº¤å¤šæ¬¡è¢«å®¡æ ¸é©³å›åï¼Œå¿«åˆ°äº†æ”¾å¼ƒçš„è¾¹ç¼˜ï¼Œå†æ¬¡ç»ç¾¤å‹æç‚¹ï¼Œæäº¤ç”³è¯‰å’Œå·¥å•å¯èƒ½ä¼šé€šè¿‡ï¼Œè®©æˆ‘åˆçœ‹åˆ°äº†æ›™å…‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c439afb5e6a9441c80730b4c66ebdb57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=YzTW3nMz03N48NN7Kivsoyy5f5E%3D" alt="image.png" loading="lazy"/></p>
<p>å¾ˆå¿«ï¼Œå‡ å¤©åä¸€ç›†å†·æ°´åˆæµ‡æ¥äº†ï¼Œå”‰ï¼Œå·¥å•ä¹Ÿç»™é©³å›äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebea2ba9b4bf4a75a666cd2540d0d2ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=m%2BPx235id%2FCUG6pjQ4ux3ea6V%2F8%3D" alt="image.png" loading="lazy"/></p>
<p>éš¾é“è¿™ä¸€æ¬¡çœŸåˆ°äº†è¦æ”¾å¼ƒçš„æ—¶å€™äº†ï¼Ÿé‚£ä¸å¯èƒ½ï¼Œå·²ç»ä»˜å‡ºäº†é‚£ä¹ˆå¤šï¼Œä¸èƒ½è½»æ˜“æ”¾å¼ƒã€‚æˆ‘ç”šè‡³æ€€ç–‘ UI ç»„ä»¶æ¼”ç¤ºåº“å°±æ ¹æœ¬ä¸è®©ä¸Šï¼Œä½†æ˜¯æˆ‘é€šè¿‡åœ¨é¸¿è’™åº”ç”¨å•†åº—æœç´¢ï¼Œåˆ«äººåšçš„é‚£ä¹ˆç®€å•çš„éƒ½èƒ½ä¸Šæ¶ï¼Œæˆ‘çš„åº”ç”¨è¯´å¤ªç®€å•äº†ï¼Ÿ</p>
<p>ä» <strong>1.0.0</strong> åˆ° <strong>1.0.9</strong>ï¼Œæˆ‘å¢åŠ äº†ä¸‹è¿°é‡è¦çš„åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>åŠ å…¥å¼•å¯¼ç³»ç»Ÿ</strong>ï¼šé¦–æ¬¡å¯åŠ¨å±•ç¤ºå¼•å¯¼é¡µï¼Œåœ¨å¤æ‚ç»„ä»¶é¡µé¢æ–°å¢åˆ†æ­¥å¼•å¯¼ã€‚</li>
<li><strong>æé«˜ç”¨æˆ·å‚ä¸åº¦</strong>ï¼šä»»åŠ¡ä¸ä½“éªŒå€¼ä½“ç³»ï¼Œæ¯ä¸ªç»„ä»¶é…å¥—ä»»åŠ¡ï¼ˆå­¦ä¹ /å®ç°ç±»ä»»åŠ¡ï¼‰ï¼Œå®Œæˆåå¥–åŠ±ç»éªŒå€¼ä¸æˆå°±ã€‚</li>
<li><strong>äº’åŠ¨åé¦ˆåŠŸèƒ½</strong>ï¼šåŠ å…¥ç‚¹èµ/æ”¶è—/è¯„åˆ†åŠŸèƒ½ï¼Œè®°å½•ç”¨æˆ·åå¥½å¹¶æä¾›â€œå¸¸ç”¨ç»„ä»¶â€åˆ—è¡¨ã€‚</li>
<li><strong>å¢å¼ºäº¤äº’åŠ¨æ•ˆ</strong>ï¼šä¸ºæ¼”ç¤ºé¡µåŠ å…¥çœŸå®äº¤äº’ï¼Œâ€œåœ¨çº¿æ¨¡æ‹Ÿâ€ æ“ä½œï¼Œä½“éªŒåŠ¨æ•ˆã€‚</li>
<li><strong>æ”¯æŒAPIæ–‡æ¡£æŸ¥è¯¢</strong>ï¼šå„ç»„ä»¶çš„æ¼”ç¤º+APIæ‰‹å†Œï¼Œåšä¸€ä¸ªAPPå…¨èƒ½å¤§å¸ˆ</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä¸è®¤å¯å®¡æ ¸äººå‘˜è¯´çš„â€œ<strong>äº¤äº’ç®€å•</strong>â€ï¼Œæˆ‘æ¢³ç†ä¸€ä¸‹æ€è·¯ï¼Œå¼€å§‹å¤ç›˜ï¼Œå¼€å§‹åæ€ã€‚æœ€ç»ˆï¼Œæˆ‘æ•´ç†æäº¤äº†ä¸€å¤§å †ææ–™+ä¸‡å­—è¯´æ˜æ–‡æ¡£ï¼ŒåŒ…æ‹¬å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/272d3a7a6e284d93b280e8475e0d19b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=mLUVkNgeQKhxpirvQpbr%2FsXL%2F9o%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘æŠŠè¿™ä¸€æ¬¡å½“æˆç»åœ°åå‡»çš„æœ€åä¸€æ¬¡ï¼Œç»ˆäºï¼Œä¹‹å‰çš„åŠªåŠ›æ²¡æœ‰è¢«åŒ–ä½œæ³¡å½±ï¼Œé€šè¿‡äº†å®¡æ ¸ï¼</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆè‰°éš¾ï¼Ÿä¸æ­¢æˆ‘æ„Ÿè§‰éš¾ï¼Œé¸¿è’™å¼€å‘ç¾¤é‡Œçš„å°ä¼™ä¼´åŒæ ·æ˜¯è¿™æ ·ï¼Œå¯èƒ½æ˜¯ä¸æŠ¥åäº†é¸¿è’™åº”ç”¨æ¿€åŠ±è®¡åˆ’æœ‰å…³ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1bb54c693f04a81a2b91156642e2082~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=Y4T8kxa0mIPyT6tI4vV3LVKHxao%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸‹é¢æ¥è¯´è¯´ï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸€å®šè¦åœ¨é¸¿è’™ç³»ç»Ÿä¸Šçº¿è¿™æ¬¾åº”ç”¨ï¼Ÿ</p>
<h2 data-id="heading-1">äºŒ. ä¸ºä»€ä¹ˆè¦å¼€å‘è¿™æ¬¾é¸¿è’™åº”ç”¨ï¼Ÿ</h2>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œæˆ‘æ˜¯ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn" target="_blank" title="https://uviewpro.cn" ref="nofollow noopener noreferrer"><strong>uView Pro å¼€æºç»„ä»¶åº“</strong></a> çš„ä½œè€…ï¼Œè‡ªä»<strong>2025å¹´8æœˆä»½</strong>å¼€æºä»¥æ¥ï¼Œç›®å‰å·²ç»æœ‰ä¸å°‘å¼€å‘è€…ä½¿ç”¨ï¼ŒæœŸé—´æœ‰è®¸å¤šå°ä¼™ä¼´åƒæˆ‘è¯¢é—®ï¼Œæ”¯ä¸æ”¯æŒé¸¿è’™ï¼Ÿä½†ç”±äºæˆ‘ä»æœªåœ¨é¸¿è’™ç³»ç»Ÿä¸Šå¼€å‘è¿‡åº”ç”¨ï¼Œä¹Ÿæ²¡ä¸Šæ¶è¿‡é¸¿è’™åº”ç”¨ï¼Œä¹Ÿä¸çŸ¥é“å®ƒçš„å…¼å®¹æ€§å¦‚ä½•ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘æ‰“ç®—é€šè¿‡å°†è¿™æ¬¾åº”ç”¨çœŸæ­£ä¸Šæ¶åˆ°é¸¿è’™åº”ç”¨å•†åº—ï¼Œæ¥æ—¢éªŒè¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn" target="_blank" title="https://uviewpro.cn" ref="nofollow noopener noreferrer"><strong>uView Pro</strong></a> åœ¨é¸¿è’™ç³»ç»Ÿä¸Šçš„å¯è¡Œæ€§ï¼Œä¹Ÿä¸ºå…¶ä»–å¼€å‘è€…æä¾›äº†å¯å‚è€ƒçš„è½åœ°æ¡ˆä¾‹ã€‚</p>
<p>è·¨å¹³å°å¼€å‘å¸¸è§ç—›ç‚¹ï¼š<strong>æ–‡æ¡£ä¸ç›´è§‚ã€ç¤ºä¾‹éš¾è½åœ°ã€å¤šç«¯é€‚é…æ˜“è¸©å‘</strong>ã€‚åŸºäº uView Pro ç»„ä»¶åº“ï¼Œå› æ­¤æˆ‘å¿…é¡»è¦åšä¸€ä¸ªçœŸå®åº”ç”¨æ¥è§£å†³è¿™äº›é—®é¢˜ï¼Œè®©å¼€å‘è€…å¯ä»¥ï¼š</p>
<ul>
<li><strong>ç›´è§‚ä½“éªŒ</strong> çœŸå®åœºæ™¯ä¸‹çš„ç»„ä»¶è¡¨ç°</li>
<li><strong>å¿«é€Ÿä¸Šæ‰‹</strong> é€šè¿‡äº¤äº’ Demo å’Œä»»åŠ¡ç³»ç»ŸæŒæ¡ç”¨æ³•</li>
<li><strong>éªŒè¯å¯è¡Œæ€§</strong> åœ¨é¸¿è’™å¹³å°éªŒè¯è·¨å¹³å°æ–¹æ¡ˆ</li>
<li><strong>æå‡æ•ˆç‡</strong> å€ŸåŠ©æ¨¡æ¿ä¸å·¥å…·åŠ é€Ÿå¼€å‘</li>
</ul>
<p>è€Œæˆ‘é€‰æ‹©åœ¨é¸¿è’™ä¸ŠéªŒè¯ <strong>uView Pro</strong> ç»„ä»¶åº“çš„å¯è¡Œæ€§ï¼Œä¸»è¦æ˜¯ä¸ºäº†ï¼š</p>
<ul>
<li><strong>è¡¥é½ç‰ˆå›¾</strong>ï¼šå…¶ä»–ä¸»æµå¹³å°å·²å…¼å®¹ï¼Œé¸¿è’™æ˜¯å¿…é€‰çš„ä¸€ç¯</li>
<li><strong>éªŒè¯èƒ½åŠ›</strong>ï¼šç¡®è®¤ <strong>uni-app + Vue3 + uView Pro</strong> åœ¨é¸¿è’™çš„å…¼å®¹æ€§ã€æ€§èƒ½ä¸ä½“éªŒ</li>
<li><strong>å¸‚åœºçº¢åˆ©</strong>ï¼šåä¸ºå¯¹åœ¨2025å¹´è¦æ±‚æ—¶é—´æ®µä¸Šæ¶çš„åº”ç”¨ï¼Œä¼šç»™å¼€å‘è€…å‘æ”¾æ¿€åŠ±é‡‘</li>
<li><strong>æŠ€æœ¯æˆé•¿</strong>ï¼šå­¦ä¹ é¸¿è’™ç‰¹æ€§ã€è§£å†³æ–°é—®é¢˜ã€æ²‰æ·€è·¨å¹³å°ç»éªŒ</li>
</ul>
<p>æœ€ç»ˆä¸è´Ÿä¼—æœ›ï¼Œè¿™æ¬¡å®è·µæ—¢éªŒè¯äº†æ–¹æ¡ˆçš„å¯è¡Œæ€§ï¼Œä¹Ÿä¸ºå…¶ä»–å¼€å‘è€…æä¾›äº†å¯å‚è€ƒçš„è½åœ°æ¡ˆä¾‹ã€‚</p>
<h2 data-id="heading-2">ä¸‰. æŠ€æœ¯æ ˆï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™äº›æŠ€æœ¯ï¼Ÿ</h2>
<ul>
<li><strong>å¼€å‘æ¡†æ¶</strong>ï¼šuni-appï¼ˆå¤šç«¯å¼€å‘ï¼Œæé«˜ç”Ÿäº§åŠ›ï¼‰</li>
<li><strong>å¼€å‘è¯­è¨€</strong>ï¼šVue3 + TSï¼ˆé¸¿è’™æ‰“åŒ…åªæ”¯æŒVue3ï¼‰</li>
<li><strong>UIç»„ä»¶åº“</strong>ï¼šuView Proï¼ˆæˆ‘è‡ªå·±çš„å¼€æºç»„ä»¶åº“ï¼‰</li>
</ul>
<p>æœ€ä¸»è¦çš„æ˜¯æˆ‘æƒ³éªŒè¯ <strong>uView Pro</strong> å¼€å‘é¸¿è’™åº”ç”¨çš„å¯è¡Œæ€§ã€‚</p>
<h3 data-id="heading-3">1. uni-appï¼šä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯è¿è¡Œ</h3>
<p><strong>uni-app</strong> ä½œä¸ºè€ç‰Œçš„å¤šç«¯å¼€å‘çš„è·¨å¹³å°å¼€å‘æ¡†æ¶ï¼Œå®ƒçš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼šçœŸæ­£çš„è·¨å¹³å°èƒ½åŠ›ã€‚</p>
<p>uni-app å¼€å‘çš„åº”ç”¨ï¼Œæ”¯æŒç¼–è¯‘åˆ°å¤šä¸ªå¹³å°ï¼š</p>
<ul>
<li><strong>ç§»åŠ¨ç«¯</strong>ï¼šAndroidã€iOSã€HarmonyOS</li>
<li><strong>å°ç¨‹åº</strong>ï¼šå¾®ä¿¡ã€æ”¯ä»˜å®ã€ç™¾åº¦ã€å¤´æ¡ã€QQ</li>
<li><strong>Web</strong>ï¼šH5ï¼ŒPC</li>
<li><strong>å¿«åº”ç”¨</strong>ï¼šåä¸ºã€å°ç±³ç­‰</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼Œä½¿ç”¨ uni-app å¯ä»¥åŒæ—¶è¦†ç›–å¤šä¸ªå¹³å°ï¼Œä¼šå¤§å¤§é™ä½å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚ä½¿ç”¨å®ƒå¯ä»¥å……åˆ†åˆ©ç”¨å®ƒçš„è·¨å¹³å°èƒ½åŠ›ï¼Œç¡®ä¿åº”ç”¨åœ¨å„ä¸ªå¹³å°ä¸Šéƒ½èƒ½æ­£å¸¸è¿è¡Œï¼Œç‰¹åˆ«æ˜¯åœ¨é¸¿è’™å¹³å°ä¸Šçš„è¡¨ç°ï¼Œä¹Ÿå®Œå…¨è¾¾åˆ°äº†é¢„æœŸã€‚</p>
<h3 data-id="heading-4">2. Vue 3 + TSï¼šç°ä»£åŒ–çš„å¼€å‘ä½“éªŒ</h3>
<p><strong>Vue 3</strong> ä½œä¸ºå½“å‰æœ€æµè¡Œçš„å‰ç«¯æ¡†æ¶ä¹‹ä¸€ï¼Œå¸¦æ¥äº†ï¼š</p>
<ul>
<li><strong>Composition API</strong>ï¼šæ›´çµæ´»çš„ä»£ç ç»„ç»‡æ–¹å¼ï¼Œé€»è¾‘å¤ç”¨æ›´ç®€å•</li>
<li><strong>æ€§èƒ½æå‡</strong>ï¼šç›¸æ¯” Vue 2ï¼Œæ€§èƒ½æå‡ 2-3 å€</li>
<li><strong>TypeScript æ”¯æŒ</strong>ï¼šå®Œæ•´çš„ç±»å‹ç³»ç»Ÿï¼Œåªèƒ½æç¤ºæ ¡éªŒï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯</li>
<li><strong>ç”Ÿæ€ä¸°å¯Œ</strong>ï¼šåºå¤§çš„ç¤¾åŒºå’Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€</li>
</ul>
<p>ä½¿ç”¨å®ƒå¯ä»¥å……åˆ†åˆ©ç”¨ Vue 3 çš„ <strong>Composition API</strong>ï¼Œå°†å¤æ‚çš„ç»„ä»¶é€»è¾‘æ‹†åˆ†æˆå¯å¤ç”¨çš„ç»„åˆå‡½æ•°ï¼Œä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“ç»´æŠ¤ã€‚ä¸è¿‡ï¼Œé¸¿è’™å¼€å‘ä¹Ÿåªèƒ½ç”¨ Vue3ï¼Œå› ä¸º uni-app å¹¶ä¸æ”¯æŒå°† Vue2 çš„ä»£ç æ‰“åŒ…æˆé¸¿è’™åº”ç”¨ã€‚</p>
<pre><code class="hljs language-html" lang="html">// ç¤ºä¾‹ï¼šä½¿ç”¨ Composition API ç®¡ç†ä¸»é¢˜çŠ¶æ€
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> type { <span class="hljs-title class_">DarkMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro/types/global'</span>
<span class="hljs-keyword">import</span> { useTheme } <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> { darkMode, currentTheme, setDarkMode, setTheme, getAvailableThemes } = <span class="hljs-title function_">useTheme</span>()

<span class="hljs-keyword">const</span> darkModes = ref&lt;{ <span class="hljs-attr">value</span>: <span class="hljs-title class_">DarkMode</span>, <span class="hljs-attr">label</span>: string }[]&gt;(
  [
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'auto'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'è‡ªåŠ¨'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'light'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'äº®è‰²'</span> },
    { <span class="hljs-attr">value</span>: <span class="hljs-string">'dark'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'æ·±è‰²'</span> },
  ],
)
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleThemeSelect</span>(<span class="hljs-params">theme: string</span>) {
  <span class="hljs-comment">// åˆ‡æ¢åˆ°é€‰å®šçš„ä¸»é¢˜</span>
  <span class="hljs-title function_">setTheme</span>(theme)
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDarkModeSelect</span>(<span class="hljs-params">mode: DarkMode</span>) {
  <span class="hljs-title function_">setDarkMode</span>(mode)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>TypeScript</strong> çš„åŠ å…¥ï¼Œä¼šè®©æ•´ä¸ªé¡¹ç›®æ›´åŠ å¥å£®ï¼š</p>
<ul>
<li>ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œæå‰å‘ç°æ½œåœ¨é—®é¢˜</li>
<li>æ›´å¥½çš„ IDE æ™ºèƒ½æç¤ºï¼Œæå‡å¼€å‘æ•ˆç‡</li>
<li>ä»£ç å¯è¯»æ€§æ›´å¼ºï¼Œå›¢é˜Ÿåä½œæ›´é¡ºç•…</li>
<li>é‡æ„æ›´å®‰å…¨ï¼Œå‡å°‘å¼•å…¥ Bug çš„é£é™©</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd6ecd75bdd495ca4892fbd1514b195~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=0X6Ag49SLSYNo%2B74rTuRFgXYh0A%3D" alt="1.gif" loading="lazy"/></p>
<h3 data-id="heading-5">3. uView Proï¼šå¼ºå¤§çš„ UI ç»„ä»¶åº“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b26b523c4454d3399b22297ba6a1e37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=Wk0iHqOi58FNHHpmCyL2FMhznng%3D" alt="image.png" loading="lazy"/></p>
<p><strong>uView Pro</strong> æ˜¯æˆ‘é•¿æœŸç»´æŠ¤çš„å¼€æº UI ç»„ä»¶åº“ï¼Œå®ƒæä¾›äº†ï¼š</p>
<h4 data-id="heading-6">(1). ä¸°å¯Œçš„ç»„ä»¶ç”Ÿæ€</h4>
<p>uView Pro å·²åŒ…å« <strong>80+ ç»„ä»¶</strong>ï¼Œè¦†ç›–äº†æ—¥å¸¸å¼€å‘æ‰€éœ€ï¼š</p>
<ul>
<li><strong>åŸºç¡€ç»„ä»¶</strong>ï¼šButtonã€Inputã€Iconã€Image ç­‰</li>
<li><strong>è¡¨å•ç»„ä»¶</strong>ï¼šFormã€Checkboxã€Radioã€Picker ç­‰</li>
<li><strong>å¸ƒå±€ç»„ä»¶</strong>ï¼šLayoutã€Gridã€Flexã€Card ç­‰</li>
<li><strong>å¯¼èˆªç»„ä»¶</strong>ï¼šNavbarã€Tabbarã€Tabsã€Steps ç­‰</li>
<li><strong>æ•°æ®å±•ç¤º</strong>ï¼šTableã€Listã€Swiperã€Waterfall ç­‰</li>
<li><strong>åé¦ˆç»„ä»¶</strong>ï¼šToastã€Modalã€Loadingã€ActionSheet ç­‰</li>
<li><strong>å…¶ä»–ç»„ä»¶</strong>ï¼šMessageInputã€LazyLoadã€Loadmoreã€Link ç­‰</li>
</ul>
<p><strong>uView Pro</strong> åŸºäºå®˜æ–¹ <strong>uView UI 1.8.8</strong> ç‰ˆæœ¬ï¼Œå®Œå…¨ä½¿ç”¨ <strong>Vue3 + TypeScript</strong> æºç çº§é‡å†™ï¼Œæ¯ä¸ªç»„ä»¶éƒ½ç»è¿‡ç²¾å¿ƒé‡æ„ä¼˜åŒ–ï¼Œæ—¢ä¿è¯äº†åŠŸèƒ½çš„å®Œæ•´æ€§ï¼Œåˆå…¼é¡¾äº†æ˜“ç”¨æ€§ã€‚</p>
<h4 data-id="heading-7">(2). å®Œå–„çš„æ–‡æ¡£å’Œç¤ºä¾‹</h4>
<p><strong>uView Pro</strong> çš„æ–‡æ¡£éå¸¸è¯¦ç»†ï¼ŒåŒæ ·è¿›è¡Œäº†é‡æ„çº§ä¼˜åŒ–ï¼Œå…è´¹æ— å¹¿å‘Šï¼š</p>
<ul>
<li><strong>API æ–‡æ¡£</strong>ï¼šæ¯ä¸ªç»„ä»¶çš„å±æ€§ã€äº‹ä»¶ã€æ–¹æ³•éƒ½æœ‰è¯¦ç»†è¯´æ˜</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼šæä¾›å¤šç§ä½¿ç”¨åœºæ™¯çš„ç¤ºä¾‹</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šåˆ†äº«ç»„ä»¶ä½¿ç”¨çš„æœ€ä½³å®è·µ</li>
<li><strong>å¸¸è§é—®é¢˜</strong>ï¼šæ•´ç†å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</li>
</ul>
<h4 data-id="heading-8">(3). ä¸»é¢˜å®šåˆ¶èƒ½åŠ›</h4>
<p><strong>uView Pro</strong> æ”¯æŒå®Œæ•´çš„ä¸»é¢˜å®šåˆ¶ï¼š</p>
<ul>
<li><strong>å†…ç½®ä¸»é¢˜</strong>ï¼šæä¾›å¤šç§é¢„è®¾ä¸»é¢˜</li>
<li><strong>è‡ªå®šä¹‰ä¸»é¢˜</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰é¢œè‰²ã€å­—ä½“ç­‰</li>
<li><strong>æš—é»‘æ¨¡å¼</strong>ï¼šå®Œæ•´çš„æš—é»‘æ¨¡å¼æ”¯æŒ</li>
<li><strong>åŠ¨æ€åˆ‡æ¢</strong>ï¼šæ”¯æŒè¿è¡Œæ—¶åˆ‡æ¢ä¸»é¢˜</li>
</ul>
<p>å¯ä»¥å……åˆ†åˆ©ç”¨ <strong>uView Pro</strong> çš„ä¸»é¢˜ç³»ç»Ÿï¼Œå®ç°å¤šä¸»é¢˜åˆ‡æ¢å’Œæš—é»‘æ¨¡å¼ï¼Œç”¨æˆ·ä½“éªŒéå¸¸æµç•…ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä½ å¯ä»¥3åˆ†é’Ÿæ™ºèƒ½ç”Ÿæˆå¤šç§ä¸»é¢˜ï¼Œä¸»è¦æ˜¯é ï¼š</p>
<p><strong>æ™ºèƒ½æ¨æ–­ä¸»é¢˜è‰²å·¥å…·ï¼š</strong> é€šè¿‡è®¾ç½®æŸä¸ªä¸»é¢˜è‰²ï¼Œå¯ä»¥é˜¶æ¢¯ç”Ÿæˆå…¶ä»–è‰²å€¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36a0c23d6a5e4394aea4d27799d32147~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=t4ceubTp8ifOGO66j2Oh4qwugfk%3D" alt="æ™ºèƒ½æ¨æ–­ä¸»é¢˜è‰².gif" loading="lazy"/></p>
<p><strong>éšæœºç”Ÿæˆä¸»é¢˜è‰²å·¥å…·ï¼š</strong> éšæœºç”Ÿæˆä¸»é¢˜è‰²é˜¶æ¢¯è‰²å€¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64578d6795b14e7f9402b337d3e82b17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=xyRJ0CbuxAQV4pKxJ4IN50jUvTc%3D" alt="éšæœºä¸»é¢˜è‰².gif" loading="lazy"/></p>
<p>ç”Ÿæˆåå¯åœ¨ main.ts è¿™æ ·ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> uViewPro <span class="hljs-keyword">from</span> <span class="hljs-string">'@/uni_modules/uview-pro'</span>;

<span class="hljs-comment">// ä¸»é¢˜åˆ—è¡¨ï¼Œä»…ä½œæ¼”ç¤ºï¼Œåº”å•ç‹¬æå–å‡ºæ¥ç»Ÿä¸€ç»´æŠ¤</span>
<span class="hljs-keyword">const</span> themes = [
    <span class="hljs-comment">// ä¸»é¢˜: ç»¿è‰²</span>
    {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'green'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'æ¸…ç¿ ç»¿'</span>,
        <span class="hljs-attr">color</span>: {
            <span class="hljs-comment">// æ˜äº®æ¨¡å¼ä¸‹çš„ä¸»é¢˜è‰²</span>
            <span class="hljs-attr">primary</span>: <span class="hljs-string">'#059669'</span>,
            <span class="hljs-attr">error</span>: <span class="hljs-string">'#dc2626'</span>,
            <span class="hljs-attr">warning</span>: <span class="hljs-string">'#eab308'</span>,
            <span class="hljs-attr">success</span>: <span class="hljs-string">'#16a34a'</span>,
            <span class="hljs-attr">info</span>: <span class="hljs-string">'#78716c'</span>,
            <span class="hljs-attr">primaryLight</span>: <span class="hljs-string">'#ecfdf5'</span>,
            <span class="hljs-attr">errorLight</span>: <span class="hljs-string">'#fee2e2'</span>,
            <span class="hljs-attr">warningLight</span>: <span class="hljs-string">'#fefce8'</span>,
            <span class="hljs-attr">successLight</span>: <span class="hljs-string">'#dcfce7'</span>,
            <span class="hljs-attr">infoLight</span>: <span class="hljs-string">'#fafaf9'</span>,
            <span class="hljs-attr">primaryDark</span>: <span class="hljs-string">'#047857'</span>,
            <span class="hljs-attr">errorDark</span>: <span class="hljs-string">'#b91c1c'</span>,
            <span class="hljs-attr">warningDark</span>: <span class="hljs-string">'#ca8a04'</span>,
            <span class="hljs-attr">successDark</span>: <span class="hljs-string">'#15803d'</span>,
            <span class="hljs-attr">infoDark</span>: <span class="hljs-string">'#57534e'</span>,
            <span class="hljs-attr">primaryDisabled</span>: <span class="hljs-string">'#6ee7b7'</span>,
            <span class="hljs-attr">errorDisabled</span>: <span class="hljs-string">'#fca5a5'</span>,
            <span class="hljs-attr">warningDisabled</span>: <span class="hljs-string">'#facc15'</span>,
            <span class="hljs-attr">successDisabled</span>: <span class="hljs-string">'#86efac'</span>,
            <span class="hljs-attr">infoDisabled</span>: <span class="hljs-string">'#e7e5e4'</span>
        },
        <span class="hljs-attr">darkColor</span>: {
            <span class="hljs-comment">// æš—é»‘æ¨¡å¼ä¸‹çš„ä¸»é¢˜è‰²</span>
            <span class="hljs-comment">// å¦‚æœªé…ç½®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®äº®è‰²ç”Ÿæˆæš—é»‘è‰²å€¼</span>
        }
    }
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>);
    <span class="hljs-comment">// å¼•å…¥uView Pro ä¸»åº“</span>
    app.<span class="hljs-title function_">use</span>(uViewPro, {
        <span class="hljs-attr">theme</span>: {
            <span class="hljs-attr">themes</span>: themes,
            <span class="hljs-attr">defaultTheme</span>: <span class="hljs-string">'green'</span>,
            <span class="hljs-attr">defaultDarkMode</span>: <span class="hljs-string">'light'</span>
        },
    });
    <span class="hljs-keyword">return</span> {
        app
    };
}
</code></pre>
<h4 data-id="heading-9">(4). å¤šè¯­è¨€èƒ½åŠ›</h4>
<p>uView Pro æ‰€æœ‰å†…ç½®ç»„ä»¶å‡æ”¯æŒå¤šè¯­è¨€ï¼Œæ”¯æŒå…¨å±€ä¸ç»„ä»¶çº§é…ç½®ã€å“åº”å¼åˆ‡æ¢ä¸æŒä¹…åŒ–è¯­è¨€åå¥½ã€‚</p>
<p>æ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å†…ç½®è¯­è¨€</strong>: é»˜è®¤åŒ…å« <code>zh-CN</code> ä¸ <code>en-US</code>ã€‚</li>
<li><strong>é…ç½®çµæ´»</strong>: æ”¯æŒåœ¨åº”ç”¨å…¥å£å…¨å±€é…ç½®æˆ–ç»„ä»¶å†…è¦†ç›–å±€éƒ¨è¯­è¨€åŒ…ã€‚</li>
<li><strong>å“åº”å¼åˆ‡æ¢</strong>: åˆ‡æ¢è¯­è¨€æ—¶ç»„ä»¶æ–‡æ¡ˆè‡ªåŠ¨æ›´æ–°ã€‚</li>
<li><strong>æŒä¹…åŒ–</strong>: ç”¨æˆ·é€‰æ‹©ä¼šè¢«ä¿å­˜ä»¥ä¾¿ä¸‹æ¬¡æ¢å¤ã€‚</li>
<li><strong>æ‰©å±•å‹å¥½</strong>: å¯æŒ‰éœ€æ·»åŠ æˆ–è¦†ç›–è¯­è¨€åŒ…ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½ã€‚</li>
</ul>
<p>åœ¨ main.ts è¿™æ ·ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> uViewPro <span class="hljs-keyword">from</span> <span class="hljs-string">'uview-pro'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>);
    <span class="hljs-comment">// å¼•å…¥uView Pro ä¸»åº“ï¼Œ</span>
    app.<span class="hljs-title function_">use</span>(uViewPro, {
        <span class="hljs-attr">locale</span>: {
            <span class="hljs-comment">// éƒ¨åˆ†è¦†ç›–å†…ç½®è¯­è¨€åŒ…</span>
            <span class="hljs-attr">locales</span>: [
                { <span class="hljs-attr">name</span>: <span class="hljs-string">'zh-CN'</span>, <span class="hljs-attr">uModal</span>: { <span class="hljs-attr">confirmText</span>: <span class="hljs-string">'å¥½çš„'</span>, <span class="hljs-attr">cancelText</span>: <span class="hljs-string">'ç®—äº†'</span> } },
                { <span class="hljs-attr">name</span>: <span class="hljs-string">'en-US'</span>, <span class="hljs-attr">uModal</span>: { <span class="hljs-attr">confirmText</span>: <span class="hljs-string">'OK'</span>, <span class="hljs-attr">cancelText</span>: <span class="hljs-string">'Cancel'</span> } }
            ],
            <span class="hljs-attr">defaultLocale</span>: <span class="hljs-string">'zh-CN'</span>
        }
    });
    <span class="hljs-keyword">return</span> {
        app
    };
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/589ec7593b214b74804c06e16008b746~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=uTW%2B1T3kwJKhT56MZ6TIQtkin4Y%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">å››. æ ¸å¿ƒä¼˜åŠ¿ï¼šè¿™æ¬¾é¸¿è’™åº”ç”¨ä¸ºä»€ä¹ˆå€¼å¾—ä½“éªŒï¼Ÿ</h2>
<h3 data-id="heading-11">1. çœŸæ­£çš„è·¨å¹³å°ä½“éªŒ</h3>
<p><strong>uView Pro</strong> é¸¿è’™åº”ç”¨æœ¬èº«å°±æ˜¯è·¨å¹³å°å¼€å‘çš„æœ€ä½³å®è·µã€‚é€šè¿‡è¿™æ¬¾åº”ç”¨ï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li><strong>éªŒè¯è·¨å¹³å°èƒ½åŠ›</strong>ï¼šåœ¨é¸¿è’™è®¾å¤‡ä¸Šä½“éªŒï¼ŒéªŒè¯ <strong>uni-app + uView Pro</strong> çš„è·¨å¹³å°èƒ½åŠ›</li>
<li><strong>å­¦ä¹ æœ€ä½³å®è·µ</strong>ï¼šäº†è§£å¦‚ä½•åœ¨è·¨å¹³å°é¡¹ç›®ä¸­ç»„ç»‡ä»£ç ã€å¤„ç†å…¼å®¹æ€§é—®é¢˜</li>
<li><strong>å‚è€ƒå®ç°æ–¹æ¡ˆ</strong>ï¼šå‚è€ƒåº”ç”¨çš„å®ç°æ–¹å¼ï¼Œåº”ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­</li>
</ul>
<h3 data-id="heading-12">2. æ–°å¢æ¸¸æˆåŒ–å­¦ä¹ æœºåˆ¶</h3>
<p>ä¼ ç»Ÿçš„ç»„ä»¶åº“æ–‡æ¡£å¾€å¾€æ¯”è¾ƒæ¯ç‡¥ï¼Œè€Œ uView Pro é¸¿è’™åº”ç”¨å¼•å…¥äº†æ¸¸æˆåŒ–å­¦ä¹ æœºåˆ¶ï¼š</p>
<h4 data-id="heading-13">(1). ä»»åŠ¡ç³»ç»Ÿ</h4>
<p>æ¯ä¸ªç»„ä»¶ Demo éƒ½é…å¥—ä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>è¡¨å•éªŒè¯ä»»åŠ¡</strong>ï¼šå®Œæˆä¸€ä¸ªå®Œæ•´çš„è¡¨å•éªŒè¯æµç¨‹</li>
<li><strong>æ•°æ®å±•ç¤ºä»»åŠ¡</strong>ï¼šä½¿ç”¨ Table ç»„ä»¶å±•ç¤ºæ•°æ®åˆ—è¡¨</li>
<li><strong>äº¤äº’è®¾è®¡ä»»åŠ¡</strong>ï¼šå®ç°ç‰¹å®šçš„äº¤äº’æ•ˆæœ</li>
</ul>
<p>å®Œæˆä»»åŠ¡åï¼Œä¼šè·å¾—ç»éªŒå€¼å¥–åŠ±ï¼Œè®©å­¦ä¹ è¿‡ç¨‹æ›´æœ‰è¶£ã€‚</p>
<h4 data-id="heading-14">(2). æˆå°±ç³»ç»Ÿ</h4>
<p>è¾¾åˆ°ä¸€å®šç»éªŒå€¼åï¼Œå¯ä»¥è§£é”æˆå°±å’Œç‰¹æƒï¼š</p>
<ul>
<li><strong>ä¸»é¢˜è§£é”</strong>ï¼šè§£é”æ›´å¤šä¸»é¢˜é€‰é¡¹</li>
<li><strong>æ¨¡æ¿ä¸‹è½½</strong>ï¼šå¢åŠ æ¨¡æ¿ä¸‹è½½æ¬¡æ•°</li>
<li><strong>ç‰¹æ®Šæ ‡è¯†</strong>ï¼šè·å¾—ç‰¹æ®Šçš„ç”¨æˆ·æ ‡è¯†</li>
</ul>
<h4 data-id="heading-15">(3). ä½“éªŒåœ°å›¾</h4>
<p>å¯è§†åŒ–å±•ç¤ºå­¦ä¹ è¿›åº¦ï¼š</p>
<ul>
<li><strong>å·²å®Œæˆä»»åŠ¡</strong>ï¼šæ¸…æ™°å±•ç¤ºå·²æŒæ¡çš„å†…å®¹</li>
<li><strong>æ¨èä»»åŠ¡</strong>ï¼šæ ¹æ®å½“å‰è¿›åº¦æ¨èä¸‹ä¸€æ­¥å­¦ä¹ å†…å®¹</li>
<li><strong>æˆå°±å±•ç¤º</strong>ï¼šå±•ç¤ºå·²è§£é”çš„æˆå°±</li>
</ul>
<p>è¿™ç§æ¸¸æˆåŒ–çš„å­¦ä¹ æ–¹å¼ï¼Œè®©å­¦ä¹ ç»„ä»¶åº“å˜å¾—æ›´åŠ æœ‰è¶£å’Œé«˜æ•ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4297499362f5432cab1e99338f65e6e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=iN0ug2Ef%2BWhrkjcc8hrc6EHsg8w%3D" alt="ä½“éªŒåœ°å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-16">3. ä¸°å¯Œçš„åŠŸèƒ½æ¨¡å—</h3>
<p><strong>uView Pro</strong> ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç»„ä»¶å±•ç¤ºåº”ç”¨ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¼€å‘å·¥å…·é›†åˆï¼š</p>
<h4 data-id="heading-17">(1). 80+ ç»„ä»¶æ¼”ç¤º</h4>
<p>æ¯ä¸ªç»„ä»¶éƒ½åŒ…å«ï¼š</p>
<ul>
<li><strong>äº¤äº’ Demo</strong>ï¼šå¯ä»¥ç›´æ¥æ“ä½œï¼Œæ„Ÿå—ç»„ä»¶çš„å®é™…æ•ˆæœ</li>
<li><strong>å‚æ•°è¯´æ˜</strong>ï¼šè¯¦ç»†çš„ API æ–‡æ¡£</li>
<li><strong>ç¤ºä¾‹ä»£ç </strong>ï¼šå¤šç§ä½¿ç”¨åœºæ™¯çš„ä»£ç ç¤ºä¾‹</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šç»„ä»¶ä½¿ç”¨çš„æœ€ä½³å®è·µå»ºè®®</li>
</ul>
<h4 data-id="heading-18">(2). 20+ å·¥å…·åº“</h4>
<p>æä¾›å®ç”¨çš„å¼€å‘å·¥å…·ï¼š</p>
<ul>
<li><strong>é¢œè‰²å·¥å…·</strong>ï¼šé¢œè‰²é€‰æ‹©å™¨ã€é¢œè‰²è½¬æ¢ã€ä¸»é¢˜ç”Ÿæˆ</li>
<li><strong>HTTP å·¥å…·</strong>ï¼šè¯·æ±‚æµ‹è¯•ã€æ¥å£è°ƒè¯•</li>
<li><strong>è·¯ç”±å·¥å…·</strong>ï¼šè·¯ç”±è·³è½¬ã€å‚æ•°è§£æ</li>
<li><strong>è§„åˆ™æ ¡éªŒ</strong>ï¼šè¡¨å•éªŒè¯ã€æ•°æ®æ ¡éªŒ</li>
<li><strong>å…¶ä»–å·¥å…·</strong>ï¼šå›¾æ ‡åº“ã€Mock æ•°æ®ç”Ÿæˆå™¨ç­‰</li>
</ul>
<p>è¿™äº›å·¥å…·éƒ½æ˜¯æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°çš„ï¼Œé›†æˆåœ¨åº”ç”¨ä¸­ï¼Œæ–¹ä¾¿éšæ—¶ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-19">(3). 10+ ä¸šåŠ¡æ¨¡æ¿</h4>
<p>æä¾›å®Œæ•´çš„ä¸šåŠ¡é¡µé¢æ¨¡æ¿ï¼Œæ”¯æŒåˆ†äº«ï¼Œä¸€é”®ä¸‹è½½ä¸šåŠ¡æ¨¡æ¿æºç ï¼š</p>
<ul>
<li><strong>ç™»å½•ç•Œé¢</strong>ï¼šå¤šç§ç™»å½•æ–¹å¼çš„è®¾è®¡</li>
<li><strong>åœ°å€ç®¡ç†</strong>ï¼šåœ°å€åˆ—è¡¨ã€æ·»åŠ ã€ç¼–è¾‘</li>
<li><strong>è¯„è®ºåˆ—è¡¨</strong>ï¼šè¯„è®ºå±•ç¤ºã€å›å¤ã€ç‚¹èµ</li>
<li><strong>ä¸ªäººä¸­å¿ƒ</strong>ï¼šç”¨æˆ·ä¿¡æ¯ã€è®¾ç½®ã€è®¢å•ç­‰</li>
<li><strong>è®¾ç½®é¡µ</strong>ï¼šåº”ç”¨è®¾ç½®ã€è´¦å·è®¾ç½®ç­‰</li>
<li>...</li>
</ul>
<h4 data-id="heading-20">(4). 4 ä¸ªå®ç”¨åœºæ™¯å®è·µ</h4>
<p>å†…ç½®4ä¸ªå®Œæ•´çš„ä¸šåŠ¡åœºæ™¯ï¼Œå¯ä»¥æ„Ÿå—ç»„ä»¶åœ¨å®é™…åº”ç”¨ä¸­çš„ä½¿ç”¨ï¼š</p>
<ul>
<li><strong>å¾…åŠäº‹é¡¹</strong>ï¼šTODO åº”ç”¨ï¼Œè®°å½•ä»»åŠ¡ï¼Œå®Œæˆå®ƒä»¬ã€‚</li>
<li><strong>æˆ‘çš„ç¬”è®°</strong>ï¼šè®°å½•çµå…‰ä¹ç°çš„æƒ³æ³•ï¼Œå¯éšæ—¶æŸ¥çœ‹ã€‚</li>
<li><strong>æ•°æ®ç»Ÿè®¡</strong>ï¼šç»Ÿè®¡ä½ çš„ä½¿ç”¨æƒ…å†µï¼Œäº†è§£ä½ çš„ä½¿ç”¨ä¹ æƒ¯ã€‚</li>
<li><strong>æˆ‘çš„æ”¶è—</strong>ï¼šæ”¶è—å–œæ¬¢çš„ç»„ä»¶ï¼Œå¿«é€ŸæŸ¥çœ‹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b8bc2cad7eb402195f1a9d76cbc36ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=r%2B9%2Bll090pHIQhea0JfrsVUDKKA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-21">4. å®Œå–„çš„ç”¨æˆ·ä½“éªŒ</h3>
<h4 data-id="heading-22">(1). å¤šä¸»é¢˜ç³»ç»Ÿ</h4>
<p>é€šè¿‡ä¾¿æ·çš„ä¸»é¢˜é…ç½®å·¥å…·ï¼Œ3åˆ†é’Ÿå³å¯ç”Ÿæˆå¤šç§ä¸»é¢˜ï¼Œåº”ç”¨å†…ç½®äº†5å¥—ä¸»é¢˜ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>é»˜è®¤è“</strong>ï¼šç»å…¸çš„è“è‰²ä¸»é¢˜</li>
<li><strong>éœå…‰ç´«</strong>ï¼šä¼˜é›…çš„ç´«è‰²ä¸»é¢˜</li>
<li><strong>æ¸…ç¿ ç»¿</strong>ï¼šæ¸…æ–°çš„ç»¿è‰²ä¸»é¢˜</li>
<li><strong>æš–é˜³æ©™</strong>ï¼šæ¸©æš–çš„æ©™è‰²ä¸»é¢˜</li>
<li><strong>åˆå¤œè“</strong>ï¼šæ·±æ²‰çš„è“è‰²ä¸»é¢˜</li>
</ul>
<p>å·¥å…·æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜ï¼Œé€‰æ‹©ä¸»è‰²åå¯ä»¥é¢„è§ˆæ•ˆæœï¼Œå¹¶ä¿å­˜ä¸ºæœ¬åœ°é…ç½®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a054b232da4f4bb7985a287b175063e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=AFn%2FIoNctVbVHW7s%2F9UtKMUUNxg%3D" alt="å¤šä¸»é¢˜.png" loading="lazy"/></p>
<h4 data-id="heading-23">(2). æš—é»‘æ¨¡å¼</h4>
<p>å®Œæ•´çš„æš—é»‘æ¨¡å¼æ”¯æŒï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨æ¨¡å¼</strong>ï¼šè·Ÿéšç³»ç»Ÿè®¾ç½®è‡ªåŠ¨åˆ‡æ¢</li>
<li><strong>æ‰‹åŠ¨æ¨¡å¼</strong>ï¼šæ‰‹åŠ¨åˆ‡æ¢äº®è‰²/æš—è‰²</li>
<li><strong>å³æ—¶ç”Ÿæ•ˆ</strong>ï¼šåˆ‡æ¢åç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯</li>
</ul>
<p>æš—é»‘æ¨¡å¼ä¸ä»…è¦†ç›–äº†ç»„ä»¶æ ·å¼ï¼Œè¿˜åŒ…æ‹¬ç¤ºä¾‹é¡µã€ä»£ç é«˜äº®ã€å›¾è¡¨ç­‰ï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨çš„è§†è§‰ä½“éªŒä¸€è‡´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e83eb3e534734008a2cee383d2353328~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=YhKHU0M6Kdm0T8HkDtjKfNIjINk%3D" alt="æš—é»‘æ¨¡å¼.png" loading="lazy"/></p>
<h4 data-id="heading-24">(3). å¼•å¯¼ç³»ç»Ÿ</h4>
<p>é¦–æ¬¡ä½¿ç”¨åº”ç”¨æ—¶ï¼Œä¼šå±•ç¤ºå¼•å¯¼é¡µï¼š</p>
<ul>
<li><strong>åº”ç”¨å®šä½</strong>ï¼šä»‹ç»åº”ç”¨çš„æ ¸å¿ƒä»·å€¼</li>
<li><strong>åŠŸèƒ½é€Ÿè§ˆ</strong>ï¼šå¿«é€Ÿäº†è§£ä¸»è¦åŠŸèƒ½</li>
<li><strong>ä½¿ç”¨æŒ‡å—</strong>ï¼šå¦‚ä½•ä½¿ç”¨æ¼”ç¤ºå’Œä»»åŠ¡ç³»ç»Ÿ</li>
</ul>
<p>è¿›å…¥å…·ä½“é¡µé¢æ—¶ï¼Œä¹Ÿä¼šæœ‰åˆ†æ­¥å¼•å¯¼ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿä¸Šæ‰‹å¤æ‚ç»„ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbc59b472faf4e8a879740ca67a40275~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=agFSxkJYSuBU70WYfiafgXsGbfo%3D" alt="åº”ç”¨å¼•å¯¼é¡µ.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4cf821ba7774f75b1da36d6545b7c69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626166&amp;x-signature=ZXW7ZlH%2Bj5HziAwtcVaOkssQUhM%3D" alt="é¡µé¢å¼•å¯¼é¡µ.png" loading="lazy"/></p>
<blockquote>
<p>ä»¥ä¸Šéƒ¨åˆ†åŠŸèƒ½ä»…é™åœ¨é¸¿è’™åº”ç”¨ä¸­ä½“éªŒï¼</p>
</blockquote>
<h2 data-id="heading-25">äº”. å¦‚ä½•ä½“éªŒï¼Ÿ</h2>
<h3 data-id="heading-26">1. é€šè¿‡åä¸ºåº”ç”¨å¸‚åœº</h3>
<ol>
<li>æ‰“å¼€åä¸ºåº”ç”¨å¸‚åœºï¼ˆAppGalleryï¼‰</li>
<li>æœç´¢ <strong>uViewPro</strong> æˆ– <strong>è·¨å¹³å°UIç»„ä»¶åº“</strong></li>
</ol>
<p>ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fresource%2Fharmony.html" target="_blank" title="https://uviewpro.cn/zh/resource/harmony.html" ref="nofollow noopener noreferrer">æˆ–ç›´æ¥è®¿é—®åº”ç”¨é¡µé¢</a></p>
<blockquote>
<p><strong>é‡è¦æç¤ºï¼š</strong> æ­¤åº”ç”¨ä»…åœ¨ <strong>HarmonyOS 5.0 åŠä»¥ä¸Šç‰ˆæœ¬</strong> è®¾å¤‡çš„åº”ç”¨å¸‚åœºä¸­æä¾›ï¼Œè¯·ç¡®ä¿æ‚¨çš„è®¾å¤‡ç³»ç»Ÿç‰ˆæœ¬æ»¡è¶³è¦æ±‚åå†è¿›è¡Œä¸‹è½½ã€‚</p>
</blockquote>
<h3 data-id="heading-27">2. é¦–æ¬¡ä½¿ç”¨å»ºè®®</h3>
<ol>
<li><strong>å®Œæˆå¼•å¯¼</strong>ï¼šé¦–æ¬¡æ‰“å¼€åº”ç”¨æ—¶ï¼Œå»ºè®®å®Œæˆå¼•å¯¼é¡µï¼Œäº†è§£åº”ç”¨çš„æ ¸å¿ƒåŠŸèƒ½</li>
<li><strong>æ¢ç´¢ç»„ä»¶</strong>ï¼šä»é¦–é¡µè¿›å…¥ç»„ä»¶åº“ï¼Œæµè§ˆæ„Ÿå…´è¶£çš„ç»„ä»¶</li>
<li><strong>å®Œæˆä»»åŠ¡</strong>ï¼šå°è¯•å®Œæˆä¸€äº›ä»»åŠ¡ï¼Œä½“éªŒæ¸¸æˆåŒ–å­¦ä¹ æœºåˆ¶</li>
<li><strong>åˆ‡æ¢ä¸»é¢˜</strong>ï¼šå°è¯•åˆ‡æ¢ä¸åŒçš„ä¸»é¢˜ï¼Œæ„Ÿå—ä¸»é¢˜ç³»ç»Ÿçš„å¼ºå¤§</li>
<li><strong>ä½“éªŒæ¨¡æ¿</strong>ï¼šæŸ¥çœ‹ä¸šåŠ¡æ¨¡æ¿ï¼Œäº†è§£å¦‚ä½•å¿«é€Ÿæ­å»ºé¡µé¢</li>
</ol>
<h2 data-id="heading-28">å…­. æ€»ç»“</h2>
<p><strong>uView Pro</strong> ä¸ä»…ä»…æ˜¯ä¸€æ¬¾UIç»„ä»¶åº“ï¼Œæ›´æ˜¯é¸¿è’™è·¨å¹³å°å¼€å‘çš„ä¸€æ¬¡å®è·µã€‚é€šè¿‡è¿™æ¬¾åº”ç”¨ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿï¼š</p>
<ul>
<li><strong>å±•ç¤ºè·¨å¹³å°å¼€å‘çš„å¯è¡Œæ€§</strong>ï¼šè¯æ˜ <strong>uni-app + uView Pro</strong> å¯ä»¥åœ¨é¸¿è’™å¹³å°ä¸Šå®Œç¾è¿è¡Œ</li>
<li><strong>å¸®åŠ©å¼€å‘è€…æå‡æ•ˆç‡</strong>ï¼šé€šè¿‡ä¸°å¯Œçš„ç»„ä»¶å’Œæ¨¡æ¿ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå¼€å‘åº”ç”¨</li>
<li><strong>æ¨åŠ¨æŠ€æœ¯ç”Ÿæ€å‘å±•</strong>ï¼šä¸ºè·¨å¹³å°å¼€å‘æŠ€æœ¯ç”Ÿæ€è´¡çŒ®ä¸€ä»½åŠ›é‡</li>
</ul>
<p>å¦‚æœä½ æ˜¯ä¸€åå¼€å‘è€…ï¼Œå¦‚æœä½ å¯¹è·¨å¹³å°å¼€å‘æ„Ÿå…´è¶£ï¼Œå¦‚æœä½ æƒ³è¦ä½“éªŒé¸¿è’™è·¨å¹³å°çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆï¼Œ<strong>uView Pro åº”ç”¨ç»å¯¹å€¼å¾—ä½ ä¸‹è½½ä½“éªŒï¼</strong></p>
<p><strong>uView Pro</strong> åº”ç”¨çš„ä»£ç å…¨éƒ¨å¼€æºï¼Œä½ å¯éšæ—¶ä½“éªŒå’Œä½¿ç”¨ï¼ğŸ‘‡</p>
<h2 data-id="heading-29">ç›¸å…³èµ„æ–™</h2>
<ul>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn" target="_blank" title="https://uviewpro.cn" ref="nofollow noopener noreferrer">uviewpro.cn</a></li>
<li><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanyup%2FuView-Pro" target="_blank" title="https://github.com/anyup/uView-Pro" ref="nofollow noopener noreferrer">github.com/anyup/uViewâ€¦</a></li>
<li><strong>Gitee</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fanyup%2FuView-Pro" target="_blank" title="https://gitee.com/anyup/uView-Pro" ref="nofollow noopener noreferrer">gitee.com/anyup/uViewâ€¦</a></li>
<li><strong>ä½“éªŒé¸¿è’™åº”ç”¨çš„èƒ½åŠ›</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fuviewpro.cn%2Fzh%2Fresource%2Fharmony.html" target="_blank" title="https://uviewpro.cn/zh/resource/harmony.html" ref="nofollow noopener noreferrer">uviewpro.cn/zh/resourceâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€LLMã€‘ä½ç§©çŸ©é˜µLoRAçš„ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602064004317708351</link>    <guid>https://juejin.cn/post/7602064004317708351</guid>    <pubDate>2026-02-02T08:18:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602064004317708351" data-draft-id="7601751168420446249" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€LLMã€‘ä½ç§©çŸ©é˜µLoRAçš„ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2026-02-02T08:18:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xincheng_q"/> <meta itemprop="url" content="https://juejin.cn/user/1240728657471079"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€LLMã€‘ä½ç§©çŸ©é˜µLoRAçš„ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1240728657471079/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xincheng_q
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:18:20.000Z" title="Mon Feb 02 2026 08:18:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-lakeside-light">.hljs-comment,.hljs-quote{color:#5a7b8c}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d22d72}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#935c25}.hljs-bullet,.hljs-string,.hljs-symbol{color:#568c3b}.hljs-section,.hljs-title{color:#257fad}.hljs-keyword,.hljs-selector-tag{color:#6b6bb8}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#ebf8ff;color:#516d7b}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆLoRAä¸­ä½ç§©çŸ©é˜µæ˜¯ä¸€ä¸ªä¼˜åŠ¿ï¼Ÿ</h2>
<p>å‰ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬åœ¨è®¨è®º Attention çŸ©é˜µæ—¶è¯´â€œæ»¡ç§©å¥½ï¼Œä½ç§©æ„å‘³ç€èƒ½åŠ›åå¡Œâ€ï¼Œä½†åˆ°äº† LoRAï¼ˆLow-Rank Adaptationï¼‰è¿™é‡Œï¼Œæ€ä¹ˆâ€œä½ç§©â€åè€Œå˜æˆä¼˜åŠ¿äº†å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œå…³é”®åœ¨äºï¼š<strong>åŒºåˆ†â€œåŸæœ¬çš„æ¨¡å‹çŸ¥è¯†â€å’Œâ€œé’ˆå¯¹æ–°ä»»åŠ¡çš„å¢é‡æ”¹å˜â€</strong> ã€‚</p>
<hr/>
<p>2020 å¹´ï¼ŒFacebook AI çš„ç ”ç©¶ï¼ˆAghajanyan et al.ï¼‰å‘ç°äº†ä¸€ä¸ªåç›´è§‰çš„ç°è±¡ï¼š <strong>è™½ç„¶å¤§æ¨¡å‹å‚æ•°é‡å·¨å¤§ï¼ˆè¿‡å‚æ•°åŒ–ï¼‰ï¼Œä½†åœ¨å¾®è°ƒç‰¹å®šä»»åŠ¡æ—¶ï¼Œæ¨¡å‹æƒé‡çš„å®é™…å˜åŒ–é‡ï¼Œå…¶å®åªéœ€è¦åœ¨ä¸€ä¸ªæä½ç»´çš„ç©ºé—´é‡Œæ¸¸èµ°å°±å¤Ÿäº†ã€‚</strong></p>
<p>ç±»æ¯”ï¼š</p>
<p>æƒ³è±¡ä½ æ˜¯ä¸€ä¸ªå—è¿‡é«˜ç­‰æ•™è‚²çš„ç™¾ç§‘å…¨ä¹¦å¼å…¨æ‰ï¼ˆè¿™å°±æ˜¯é¢„è®­ç»ƒå¥½çš„å¤§æ¨¡å‹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span>ï¼Œé«˜ç§©ï¼Œä»€ä¹ˆéƒ½æ‡‚ï¼‰ã€‚</p>
<p>ç°åœ¨æˆ‘è¦ä½ å­¦ä¸€ä¸ªå…·ä½“çš„ä»»åŠ¡ï¼š <strong>â€œå¦‚ä½•åšå›é”…è‚‰â€</strong> ã€‚</p>
<ul>
<li><strong>å…¨é‡å¾®è°ƒï¼ˆFull Fine-tuningï¼‰ï¼š</strong> ç›¸å½“äºè¦æŠŠä½ çš„å¤§è„‘ç¥ç»å…ƒå…¨éƒ¨é‡å¡‘ä¸€éã€‚è™½ç„¶ä½ æœ€ç»ˆå­¦ä¼šäº†åšèœï¼Œä½†åŠ¨é™å¤ªå¤§ï¼Œæ•ˆç‡æä½ï¼Œç”šè‡³å¯èƒ½è®©ä½ å¿˜äº†æ€ä¹ˆè§£å¾®ç§¯åˆ†ï¼ˆç¾éš¾æ€§é—å¿˜ï¼‰ã€‚</li>
<li><strong>LoRAï¼ˆä½ç§©å¾®è°ƒï¼‰ï¼š</strong> æˆ‘ä¸éœ€è¦é‡å¡‘ä½ çš„å¤§è„‘ã€‚æˆ‘å‘ç°ï¼Œè¦ä»â€œå…¨æ‰â€å˜æˆâ€œå¨å¸ˆâ€ï¼Œå…¶å®åªéœ€è¦åœ¨ä½ çš„çŸ¥è¯†åº“é‡Œå¢åŠ ä¸€å°éƒ¨åˆ†ç‰¹å®šçš„æŒ‡ä»¤ï¼ˆæ¯”å¦‚â€œå¤šæ”¾è±†ç“£é…±â€ï¼‰ã€‚è¿™ä¸ªâ€œç‰¹å®šçš„å¢é‡â€ï¼Œç›¸å¯¹äºä½ æµ©ç€šçš„çŸ¥è¯†åº“æ¥è¯´ï¼Œæ˜¯éå¸¸ç®€å•çš„ã€ç»´æ•°å¾ˆä½çš„ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong> æ¨¡å‹æœ¬èº«éœ€è¦é«˜ç§©ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span>ï¼‰æ¥å­˜å‚¨æµ·é‡ä¸–ç•ŒçŸ¥è¯†ï¼Œä½†é€‚åº”æŸä¸ªå…·ä½“ä»»åŠ¡æ‰€éœ€çš„<strong>å˜åŒ–é‡ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span>ï¼‰</strong> ï¼Œåœ¨æ•°å­¦ä¸Šæ˜¯ä½ç§©çš„ã€‚</p>
<hr/>
<h2 data-id="heading-1">LoRAå…¬å¼æ¨å¯¼</h2>
<h4 data-id="heading-2">ä¼ ç»Ÿå¾®è°ƒï¼ˆFull Fine-tuningï¼‰</h4>
<p>å‡è®¾é¢„è®­ç»ƒçš„æƒé‡çŸ©é˜µæ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>0</mn></msub><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>d</mi><mo>Ã—</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">W_0 \in \mathbb{R}^{d \times k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8491em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼ˆæ¯”å¦‚ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4096</mn><mo>Ã—</mo><mn>4096</mn></mrow><annotation encoding="application/x-tex">4096 \times 4096</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">4096</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">4096</span></span></span></span></span>ï¼‰ã€‚</p>
<p>å¾®è°ƒåçš„æƒé‡æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><msub><mi>W</mi><mn>0</mn></msub><mo>+</mo><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">W_{new} = W_0 + \Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span>ã€‚</p>
<p>åœ¨å…¨é‡å¾®è°ƒä¸­ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">W_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> ä¸€æ ·å¤§ï¼Œä¹Ÿæ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4096</mn><mo>Ã—</mo><mn>4096</mn></mrow><annotation encoding="application/x-tex">4096 \times 4096</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">4096</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">4096</span></span></span></span></span>ï¼ŒåŒ…å« <strong>1600ä¸‡</strong> ä¸ªå‚æ•°ã€‚</p>
<h4 data-id="heading-3">LoRA å¾®è°ƒ</h4>
<p>æ—¢ç„¶æ ¹æ®â€œå†…åœ¨ç»´åº¦å‡è¯´â€ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> æ˜¯ä½ç§©çš„ï¼Œé‚£æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> æ‹†è§£æˆä¸¤ä¸ªå°çŸ©é˜µç›¸ä¹˜å‘¢ï¼Ÿ=ã€‹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi><mo>=</mo><mi>B</mi><mo>â‹…</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">\Delta W = B \cdot A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span></span></span></span></span></p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>d</mi><mo>Ã—</mo><mi>r</mi></mrow></msup></mrow><annotation encoding="application/x-tex">B \in \mathbb{R}^{d \times r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8491em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span></span></span></li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>âˆˆ</mo><msup><mi mathvariant="double-struck">R</mi><mrow><mi>r</mi><mo>Ã—</mo><mi>k</mi></mrow></msup></mrow><annotation encoding="application/x-tex">A \in \mathbb{R}^{r \times k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8491em;"/><span class="mord"><span class="mord mathbb">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span></span></span></li>
<li><strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> æ˜¯ç§©ï¼ˆRankï¼‰</strong> ï¼Œä¸” <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>â‰ª</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">r \ll d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‰ª</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">d</span></span></span></span></span>ï¼ˆæ¯”å¦‚ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">r=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">8</span></span></span></span></span>ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">ç®—ç¬”è´¦ï¼ˆæ•ˆç‡çš„æ¥æºï¼‰ï¼š</h4>
<p>å¦‚æœ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>=</mo><mn>4096</mn></mrow><annotation encoding="application/x-tex">d=4096</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">4096</span></span></span></span></span>ï¼Œæˆ‘ä»¬å– <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">r=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">8</span></span></span></span></span>ï¼š</p>
<ul>
<li><strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span></span></span></span></span> çŸ©é˜µå‚æ•°é‡ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>Ã—</mo><mn>4096</mn><mo>=</mo><mn>32</mn><mo separator="true">,</mo><mn>768</mn></mrow><annotation encoding="application/x-tex">8 \times 4096 = 32,768</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">4096</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">32</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">768</span></span></span></span></span></li>
<li><strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span> çŸ©é˜µå‚æ•°é‡ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4096</mn><mo>Ã—</mo><mn>8</mn><mo>=</mo><mn>32</mn><mo separator="true">,</mo><mn>768</mn></mrow><annotation encoding="application/x-tex">4096 \times 8 = 32,768</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">4096</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">32</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">768</span></span></span></span></span></li>
<li><strong>LoRA æ€»å‚æ•°é‡ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6.5</mn></mrow><annotation encoding="application/x-tex">6.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">6.5</span></span></span></span></span> ä¸‡ã€‚</li>
</ul>
<p><strong>å¯¹æ¯”ï¼š</strong></p>
<ul>
<li>å…¨é‡å¾®è°ƒï¼š1600 ä¸‡å‚æ•°ã€‚</li>
<li>LoRA å¾®è°ƒï¼š6.5 ä¸‡å‚æ•°ã€‚</li>
</ul>
<p><strong>LoRA ä»…éœ€è®­ç»ƒåŸå‚æ•°é‡çš„ 0.04%ï¼Œå°±èƒ½è¾¾åˆ°å‡ ä¹ä¸€è‡´çš„æ•ˆæœã€‚</strong> è¿™å°±æ˜¯â€œåˆ©ç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> æ˜¯ä½ç§©çš„â€å¸¦æ¥çš„å·¨å¤§çº¢åˆ©ã€‚</p>
<h3 data-id="heading-5">é«˜ç§©æ¨¡å‹VSä½ç§©è¡¥ä¸</h3>
<p>å›åˆ°ä¹‹å‰çš„ç–‘é—®ï¼š <em>â€œDecoder çŸ©é˜µæ»¡ç§©æ„å‘³ç€èƒ½åŠ›å¼ºï¼Œä¸ºä»€ä¹ˆè¿™é‡Œè¦æä½ç§©ï¼Ÿâ€</em></p>
<p>è¯·æ³¨æ„ LoRA çš„æœ€ç»ˆè®¡ç®—å…¬å¼ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>=</mo><msub><mi>W</mi><mn>0</mn></msub><mi>x</mi><mo>+</mo><mi mathvariant="normal">Î”</mi><mi>W</mi><mi>x</mi><mo>=</mo><msub><mi>W</mi><mn>0</mn></msub><mi>x</mi><mo>+</mo><mi>B</mi><mo stretchy="false">(</mo><mi>A</mi><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h = W_0 x + \Delta W x = W_0 x + B(Ax)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p>
<ol>
<li><strong>åº•åº§ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">W_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> ä¾ç„¶æ˜¯æ»¡ç§©çš„ï¼š</strong> æˆ‘ä»¬å®Œå…¨æ²¡æœ‰åŠ¨é¢„è®­ç»ƒå¥½çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">W_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ã€‚å®ƒä¾ç„¶ä¿æŒç€ä¸Šä¸€èŠ‚æåˆ°çš„â€œä¸‹ä¸‰è§’æ»¡ç§©â€ç‰¹æ€§ï¼Œä¾ç„¶æ‹¥æœ‰å¼ºå¤§çš„æ³›åŒ–è¡¨è¾¾èƒ½åŠ›å’Œä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ã€‚</li>
<li><strong>è¡¥ä¸ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">BA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">A</span></span></span></span></span> æ˜¯ä½ç§©çš„ï¼š</strong> æˆ‘ä»¬åªæ˜¯åœ¨åŸæœ¬å¼ºå¤§çš„åº•åº§ä¸Šï¼Œ<strong>æ—è·¯</strong>åŠ äº†ä¸€ä¸ªæå…¶è½»å¾®çš„å¼•å¯¼ä¿¡å·ã€‚</li>
</ol>
<p><strong>å½¢è±¡è§£é‡Šï¼š</strong></p>
<ul>
<li><strong>æ»¡ç§©çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">W_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></strong> æ˜¯ä¸€è‰˜åœ¨å¤§æµ·èˆªè¡Œçš„å·¨è½®ï¼ˆGPTï¼‰ï¼Œå®ƒçš„ç»“æ„ä¿è¯äº†å®ƒèƒ½æŠ—ä½å„ç§é£æµªï¼ˆå¤„ç†å¤æ‚è¯­è¨€ï¼‰ã€‚</li>
<li><strong>ä½ç§©çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>A</mi></mrow><annotation encoding="application/x-tex">BA</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">A</span></span></span></span></span></strong> æ˜¯è¿™è‰˜å·¨è½®ä¸Šçš„ä¸€ä¸ªå°å°çš„<strong>èˆµ</strong>ã€‚æˆ‘ä»¬ä¸éœ€è¦é‡å»ºè¿™è‰˜èˆ¹ï¼Œåªéœ€è¦è½»è½»è½¬åŠ¨è¿™ä¸ªâ€œä½ç§©â€çš„èˆµï¼Œèˆ¹ï¼ˆæ¨¡å‹è¾“å‡ºï¼‰å°±ä¼šé©¶å‘æˆ‘ä»¬æƒ³è¦çš„æ–°æ–¹å‘ï¼ˆå‚ç›´é¢†åŸŸä»»åŠ¡ï¼‰ã€‚</li>
</ul>
<p><strong>å¦‚æœ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> ä¹Ÿæ˜¯é«˜ç§©çš„ä¼šæ€æ ·ï¼Ÿ</strong></p>
<p>é‚£å°±æ„å‘³ç€è¿™ä¸ªæ–°ä»»åŠ¡æå…¶å¤æ‚ï¼Œå¤æ‚åˆ°å’Œé¢„è®­ç»ƒå­¦åˆ°çš„æ‰€æœ‰ä¸œè¥¿éƒ½å®Œå…¨ä¸åŒï¼Œå¿…é¡»å½»åº•é‡ç»„å¤§è„‘ã€‚ä½†åœ¨ LLM å®è·µä¸­ï¼Œå¤§å¤šæ•°ä¸‹æ¸¸ä»»åŠ¡ï¼ˆå¦‚å†™ä»£ç ã€åŒ»ç–—é—®ç­”ï¼‰éƒ½å…±äº«é€šç”¨çš„è¯­è¨€é€»è¾‘ï¼Œæ‰€ä»¥ä½ç§©çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> è¶³å¤Ÿäº†ã€‚</p>
<ul>
<li><strong>LoRA</strong>ä¸­åŠ¨æ€çš„ä»»åŠ¡æ›´æ–°é‡ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span>ï¼‰ æ˜¯ä½ç§©çš„ï¼Œæ˜¯ä¸ºäº†â€œæ•ˆç‡â€ï¼Œåˆ©ç”¨å¤§æ¨¡å‹å·²æœ‰çš„æ³›åŒ–èƒ½åŠ›ï¼Œåªå­¦ä¹ æœ€å…³é”®çš„å·®å¼‚ã€‚</li>
</ul>
<h2 data-id="heading-6">å¦‚ä½•ç§‘å­¦åœ°è®¾ç½® LoRA çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å’Œ <code>alpha</code></h2>
<p>åœ¨ LoRA çš„å®è·µä¸­ï¼Œå¾ˆå¤šæ—¶å€™å¤§å®¶æ˜¯å‡­æ„Ÿè§‰è°ƒå‚ï¼Œä½†å…¶å®åªè¦çœ‹æ‡‚äº†å®ƒçš„<strong>ç¼©æ”¾å…¬å¼</strong>ï¼Œå°±èƒ½æ‰¾åˆ°ç§‘å­¦çš„è®¾å®šä¾æ®ã€‚LoRA çš„æ ¸å¿ƒæ›´æ–°å…¬å¼ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi><mo>=</mo><mfrac><mi>Î±</mi><mi>r</mi></mfrac><mo stretchy="false">(</mo><mi>B</mi><mo>â‹…</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta W = \frac{\alpha}{r} (B \cdot A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.095em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span></span></p>
<p>è¿™é‡Œæœ‰ä¸¤ä¸ªå˜é‡ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> æ˜¯ç§©ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>â‹…</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">B \cdot A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span></span></span></span></span> æ˜¯ä½ç§©çŸ©é˜µä¹˜ç§¯ï¼›<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>Î±</mi><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{\alpha}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span> æ˜¯ä¸€ä¸ª<strong>ç¼©æ”¾ç³»æ•°ï¼ˆScaling Factorï¼‰</strong> ã€‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å†³å®šäº†æ¨¡å‹é€‚åº”æ–°ä»»åŠ¡æ—¶ï¼Œèƒ½å­¦åˆ°çš„ç‰¹å¾çš„â€œå¤æ‚åº¦â€æˆ–â€œç»´åº¦â€ã€‚</p>
<h4 data-id="heading-7">1. ç†è®ºç›´è§‰</h4>
<ul>
<li><strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å¾ˆå°ï¼ˆå¦‚ 4, 8ï¼‰ï¼š</strong> å‡è®¾æ–°ä»»åŠ¡åªæ˜¯æ”¹å˜â€œè¯´è¯çš„è¯­æ°”â€æˆ–â€œæ ¼å¼â€ï¼ˆä¾‹å¦‚ï¼šæŠŠæ™®é€šå›ç­”å˜æˆèå£«æ¯”äºšé£æ ¼ï¼Œæˆ–è€…å˜æˆ JSON æ ¼å¼ï¼‰ã€‚è¿™ç§ä»»åŠ¡ä¸æ¶‰åŠå¤æ‚çš„é€»è¾‘æ¨ç†ï¼Œä¸éœ€è¦å¤ªå¤§çš„è‡ªç”±åº¦ï¼Œæå°çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å°±å¤Ÿäº†ã€‚</li>
<li><strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å¾ˆå¤§ï¼ˆå¦‚ 64, 128ï¼‰ï¼š</strong> å‡è®¾æ–°ä»»åŠ¡æ˜¯å­¦ä¹ â€œå…¨æ–°çš„çŸ¥è¯†â€ï¼ˆä¾‹å¦‚ï¼šä¸€ç§åŸæœ¬æ¨¡å‹æ²¡è§è¿‡çš„ç¼–ç¨‹è¯­è¨€ï¼Œæˆ–è€…æå…¶ä¸“ä¸šçš„ç”Ÿç‰©åŒ–å­¦æœºç†ï¼‰ã€‚è¿™æ—¶ä½ éœ€è¦æ›´å¤§çš„å‡ ä½•ç©ºé—´æ¥å­˜å‚¨è¿™äº›æ–°ä¿¡æ¯ã€‚</li>
</ul>
<h4 data-id="heading-8">2. ç§‘å­¦ç»“è®ºï¼ˆæ¥è‡ªå¾®è½¯åŸè®ºæ–‡åŠåç»­å®éªŒï¼‰</h4>
<ul>
<li><strong>è¾¹é™…æ•ˆåº”é€’å‡ï¼š</strong> è®¸å¤šå®éªŒè¡¨æ˜ï¼Œå°† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> ä» 8 å¢åŠ åˆ° 64ï¼Œæ•ˆæœæå‡å¾€å¾€å¾®ä¹å…¶å¾®ã€‚ç”šè‡³åœ¨æŸäº›ä»»åŠ¡ä¸Šï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">r=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span> éƒ½èƒ½è¾¾åˆ°å¾ˆå¥½çš„æ•ˆæœã€‚</li>
<li><strong>è¿‡å¤§çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> çš„é£é™©ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> è¶Šå¤§ï¼Œå‚æ•°è¶Šå¤šï¼Œè¶Šå®¹æ˜“<strong>è¿‡æ‹Ÿåˆï¼ˆOverfittingï¼‰</strong> ï¼Œä¸”è®­ç»ƒæ—¶çš„æ˜¾å­˜å¼€é”€å’Œå™ªå£°ä¹Ÿä¼šå¢åŠ ã€‚</li>
</ul>
<blockquote>
<p>ä¸€èˆ¬çš„ï¼Œé»˜è®¤ä» <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">r=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">8</span></span></span></span></span></strong> æˆ– <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">r=16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">16</span></span></span></span></span></strong> å¼€å§‹ã€‚è¿™å¯¹äºå¤§å¤šæ•°æŒ‡ä»¤å¾®è°ƒï¼ˆInstruction Tuningï¼‰ä»»åŠ¡å·²ç»è¶³å¤Ÿã€‚</p>
<p><strong>ä½•æ—¶å¢åŠ ï¼š</strong> åªæœ‰å½“ä½ å‘ç°æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Š loss é™ä¸ä¸‹å»ï¼ˆæ¬ æ‹Ÿåˆï¼‰ï¼Œä¸”ä½ éœ€è¦æ³¨å…¥å¤§é‡<strong>å…¨æ–°é¢†åŸŸçŸ¥è¯†</strong>æ—¶ï¼Œå†å°è¯•å¢åŠ åˆ° 64 æˆ– 128ã€‚</p>
</blockquote>
<h4 data-id="heading-9">å¦‚ä½•ç†è§£ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span>?</h4>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> æœ¬è´¨ä¸Šæ˜¯å¯¹æ›´æ–°é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mi>W</mi></mrow><annotation encoding="application/x-tex">\Delta W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></span> çš„ä¸€ç§æƒé‡æ”¾å¤§ï¼ˆæˆ–ç¼©å°ï¼‰</p>
<h5 data-id="heading-10">1. ä¸ºä»€ä¹ˆè¦æœ‰ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>Î±</mi><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{\alpha}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span> è¿™ä¸ªç¼©æ”¾é¡¹ï¼Ÿ</h5>
<p>è¿™æ˜¯ä¸€ä¸ªæ•°å­¦ä¸Šçš„â€œå½’ä¸€åŒ–â€æŠ€å·§ã€‚å½“æˆ‘ä»¬æ”¹å˜ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> çš„å¤§å°æ—¶ï¼ŒçŸ©é˜µ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span> çš„å…ƒç´ æ•°å€¼åˆ†å¸ƒä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<ul>
<li>å¦‚æœæ²¡æœ‰ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span>ï¼šæ¯æ¬¡è°ƒæ•´ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span>ï¼Œä½ éƒ½å¾—é‡æ–°å»è°ƒå­¦ä¹ ç‡ï¼ˆLearning Rateï¼‰ï¼Œå› ä¸ºæ¢¯åº¦çš„æ¨¡é•¿å˜äº†ã€‚</li>
<li>æœ‰äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>Î±</mi><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{\alpha}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span>ï¼šå®ƒè‡ªåŠ¨å¹³è¡¡äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å˜åŒ–å¸¦æ¥çš„æ ‡åº¦å½±å“ã€‚</li>
</ul>
<h5 data-id="heading-11">2. <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> ä¸å­¦ä¹ ç‡ï¼ˆLearning Rateï¼‰çš„å…³ç³»</h5>
<p><strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> åœ¨æ•°å­¦ä¸Šç­‰ä»·äºè°ƒæ•´å­¦ä¹ ç‡ã€‚</strong> æ¨¡å‹æƒé‡çš„å®é™…æ›´æ–°æ­¥é•¿å¤§çº¦æ˜¯ï¼š</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>EffectiveÂ LR</mtext><mo>=</mo><mtext>BaseÂ LR</mtext><mo>Ã—</mo><mfrac><mi>Î±</mi><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\text{Effective LR} = \text{Base LR} \times \frac{\alpha}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord text"><span class="mord">EffectiveÂ LR</span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord text"><span class="mord">BaseÂ LR</span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></p>
<p>å¦‚æœä½ æŠŠ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> ç¿»å€ï¼Œå°±çº¦ç­‰äºæŠŠå­¦ä¹ ç‡ç¿»å€ã€‚</p>
<h5 data-id="heading-12">ç§‘å­¦è®¾ç½®å»ºè®®ï¼š</h5>
<ul>
<li>
<p><strong>é»„é‡‘æ³•åˆ™ï¼ˆGolden Ruleï¼‰ï¼š</strong> å¤§å¤šæ•°å¼€æºç¤¾åŒºï¼ˆå¦‚ HuggingFace PEFTï¼‰å’Œè®ºæ–‡çš„ç»éªŒæ³•åˆ™æ˜¯å°† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> è®¾ç½®ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> çš„å€æ•°ã€‚</p>
<ul>
<li><strong>å¸¸è§è®¾ç½® Aï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo>=</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">\alpha = r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> ï¼ˆå³ç¼©æ”¾ç³»æ•°ä¸º 1ï¼‰ã€‚</li>
<li><strong>å¸¸è§è®¾ç½® Bï¼ˆæ¨èï¼‰ï¼š</strong> <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo>=</mo><mn>2</mn><mo>Ã—</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">\alpha = 2 \times r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span></strong> ï¼ˆå³ç¼©æ”¾ç³»æ•°ä¸º 2ï¼‰ã€‚è¿™æ ·å¯ä»¥ç¨å¾®æ”¾å¤§ LoRA çš„æ›´æ–°æƒé‡ï¼Œè®©å¾®è°ƒæ”¶æ•›æ›´å¿«ã€‚</li>
</ul>
</li>
<li>
<p><strong>å›ºå®š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> ç­–ç•¥ï¼š</strong> æœ‰ä¸€ç§æ›´ç§‘å­¦çš„è°ƒå‚æµæ´¾å»ºè®®ï¼š<strong>ç›´æ¥æŠŠ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> é”æ­»ï¼ˆæ¯”å¦‚å›ºå®š 16 æˆ– 32ï¼‰ï¼Œç„¶ååªè°ƒ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span>ã€‚</strong></p>
<ul>
<li>å› ä¸ºæ ¹æ®å…¬å¼ï¼Œå¦‚æœå›ºå®š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span>ï¼Œå½“ä½ å¢åŠ  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> æ—¶ï¼Œç¼©æ”¾ç³»æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>Î±</mi><mi>r</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{\alpha}{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0404em;vertical-align:-0.345em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6954em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span> ä¼šå˜å°ã€‚è¿™æ­£å¥½ç¬¦åˆç›´è§‰ï¼š <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> è¶Šå¤§ï¼ˆå‚æ•°è¶Šå¤šï¼‰ï¼Œæˆ‘ä»¬è¶Šå¸Œæœ›æ¯æ¬¡æ›´æ–°çš„æ­¥å­è¿ˆå¾—å°ä¸€ç‚¹ï¼Œä»¥é˜²ç ´åé¢„è®­ç»ƒæƒé‡ï¼›<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> è¶Šå°ï¼Œæˆ‘ä»¬éœ€è¦æ­¥å­è¿ˆå¤§ä¸€ç‚¹æ¥ç¡®ä¿å­¦åˆ°ä¸œè¥¿ã€‚</strong></li>
</ul>
</li>
</ul>
<p>å¦‚æœå°†ä¸¤è€…ç»“åˆï¼Œç§‘å­¦çš„è°ƒå‚æµç¨‹å¦‚ä¸‹ï¼š</p>

























<table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>æ¨èèµ·æ­¥å€¼</strong></th><th><strong>è°ƒæ•´é€»è¾‘ (ç¬¬ä¸€æ€§åŸç†)</strong></th></tr></thead><tbody><tr><td><strong>Rank (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span>)</strong></td><td><strong>8</strong> æˆ– <strong>16</strong></td><td><strong>å†³å®šâ€œå®¹é‡â€</strong> ã€‚å¦‚æœæ˜¯ç®€å•çš„é£æ ¼/æ ¼å¼è¿ç§»ï¼Œç”¨å° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span>ï¼›å¦‚æœæ˜¯å¤æ‚çš„æ¨ç†/æ–°çŸ¥è¯†æ³¨å…¥ï¼Œå°è¯•å¤§ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span>ï¼ˆå¦‚ 64ï¼‰ã€‚ä¸è¦ç›²ç›®è¿½æ±‚å¤§ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span>ã€‚</td></tr><tr><td><strong>Alpha (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span>)</strong></td><td><strong>16</strong> æˆ– <strong>32</strong></td><td><strong>å†³å®šâ€œåŠ›åº¦â€</strong> ã€‚æœ€ç¨³å¦¥çš„åšæ³•æ˜¯ä¿æŒ <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo>=</mo><mn>2</mn><mi>r</mi></mrow><annotation encoding="application/x-tex">\alpha = 2r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span></strong> æˆ–è€… <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi><mo>=</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">\alpha = r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span></strong> ã€‚</td></tr><tr><td><strong>Learning Rate</strong></td><td>2e-4 ~ 5e-5</td><td><strong>LoRA çš„å­¦ä¹ ç‡é€šå¸¸æ¯”å…¨é‡å¾®è°ƒè¦å¤§</strong>ã€‚å› ä¸ºåªæœ‰å°‘é‡å‚æ•°åœ¨åŠ¨ï¼Œå¤§çš„å­¦ä¹ ç‡èƒ½å¸®åŠ©å¿«é€Ÿè·³å‡ºå±€éƒ¨æœ€ä¼˜ã€‚</td></tr></tbody></table>
<p>ä¸¾ä¾‹ï¼š</p>
<ul>
<li>
<p><strong>åœºæ™¯ä¸€ï¼šè®© LLM å­¦ä¼šæŒ‰ç‰¹å®š JSON æ ¼å¼è¾“å‡ºã€‚</strong></p>
<ul>
<li>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è¯­æ³•çº¦æŸä»»åŠ¡ã€‚</li>
<li><strong>è®¾ç½®ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>8</mn><mo separator="true">,</mo><mi>Î±</mi><mo>=</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">r=8, \alpha=16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">16</span></span></span></span></span> (Ratio=2)ã€‚</li>
</ul>
</li>
<li>
<p><strong>åœºæ™¯äºŒï¼šè®© LLM å­¦ä¼šä¸€ç§ä»æœªè§è¿‡çš„æ³•å¾‹æ¡æ–‡åˆ†æã€‚</strong></p>
<ul>
<li>è¿™éœ€è¦è®°å¿†æ–°çŸ¥è¯†å’Œå¤æ‚é€»è¾‘ã€‚</li>
<li><strong>è®¾ç½®ï¼š</strong> å°è¯• <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>64</mn><mo separator="true">,</mo><mi>Î±</mi><mo>=</mo><mn>128</mn></mrow><annotation encoding="application/x-tex">r=64, \alpha=128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">64</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">128</span></span></span></span></span> (Ratio=2)ã€‚</li>
<li><em>æ³¨æ„ï¼šå¦‚æœæ˜¾å­˜ä¸å¤Ÿï¼Œå¯ä»¥å°è¯• <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>64</mn><mo separator="true">,</mo><mi>Î±</mi><mo>=</mo><mn>64</mn></mrow><annotation encoding="application/x-tex">r=64, \alpha=64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">64</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">64</span></span></span></span></span> (Ratio=1) å¹¶é€‚å½“è°ƒå° Learning Rateã€‚</em></li>
</ul>
</li>
</ul>
<blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¸¸è§çš„è¯¯åŒºï¼š <strong>â€œæˆ‘è§‰å¾—æ¨¡å‹å­¦å¾—å¤ªæ…¢ï¼Œæ‰€ä»¥æˆ‘æŠŠ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> è°ƒå¾—ç‰¹åˆ«å¤§ã€‚â€</strong></p>
<p>è¿™é€šå¸¸ä¼šå¯¼è‡´<strong>è®­ç»ƒä¸ç¨³å®šï¼ˆLoss éœ‡è¡ï¼‰</strong> ã€‚å¦‚æœä½ è§‰å¾—å­¦å¾—æ…¢ï¼Œä¼˜å…ˆè°ƒæ•´ <strong>Learning Rate</strong>ï¼Œè€Œä¸æ˜¯å»ç–¯ç‹‚åŠ¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span>ï¼Œå› ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span> ä¼šå½±å“æ¢¯åº¦çš„æ•°å€¼ç¨³å®šæ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-13">å¦‚ä½•è®¾ç½® Target Modulesï¼Ÿ</h2>
<p>é™¤äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span></span>ï¼ŒLoRA è¿˜æœ‰ä¸€ä¸ªæå…¶å½±å“æ•ˆæœçš„å‚æ•°ï¼š<strong>Target Modulesï¼ˆç›®æ ‡æ¨¡å—ï¼‰</strong> ã€‚</p>
<p><strong>Target Modulesï¼ˆç›®æ ‡æ¨¡å—ï¼‰</strong> æŒ‡çš„æ˜¯ï¼šåœ¨ Transformer çš„å±‚çº§ç»“æ„ä¸­ï¼Œæˆ‘ä»¬åˆ°åº•è¦æŠŠ LoRA çš„ä½ç§©çŸ©é˜µï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span>ï¼‰æŒ‚è½½åˆ°å“ªäº›å…·ä½“çš„æƒé‡çŸ©é˜µä¸Šï¼Ÿ</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªâ€œé€‰å‹¾â€çš„é—®é¢˜ï¼Œå®ƒç›´æ¥å†³å®šäº†å¾®è°ƒèƒ½è§¦åŠæ¨¡å‹èƒ½åŠ›çš„å“ªä¸€éƒ¨åˆ†ã€‚</p>
<h3 data-id="heading-14">ä¸€ã€ å€™é€‰æ¨¡å—</h3>
<p>ä¸ºäº†ç§‘å­¦é€‰æ‹©ï¼Œæˆ‘ä»¬å…ˆå¾—æ‹†è§£ä¸€ä¸ªæ ‡å‡†çš„ Transformer Blockï¼ˆä»¥ Llama æ¶æ„ä¸ºä¾‹ï¼‰ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›çŸ©é˜µå¯ä»¥è°ƒæ•´ï¼š</p>
<ol>
<li>
<p><strong>Attention æ¨¡å—ï¼ˆæ³¨æ„åŠ›å±‚ï¼‰ï¼š</strong> è´Ÿè´£â€œçœ‹å“ªé‡Œâ€å’Œâ€œæ•´åˆä¿¡æ¯â€ã€‚</p>
<ul>
<li><code>q_proj</code> (Query): æŸ¥è¯¢çŸ©é˜µã€‚</li>
<li><code>k_proj</code> (Key): é”®çŸ©é˜µã€‚</li>
<li><code>v_proj</code> (Value): å€¼çŸ©é˜µã€‚</li>
<li><code>o_proj</code> (Output): è¾“å‡ºæŠ•å½±çŸ©é˜µã€‚</li>
</ul>
</li>
<li>
<p><strong>MLP æ¨¡å—ï¼ˆå‰é¦ˆç¥ç»ç½‘ç»œå±‚ï¼‰ï¼š</strong> è´Ÿè´£â€œæ€è€ƒâ€å’Œâ€œçŸ¥è¯†å­˜å‚¨â€ã€‚</p>
<ul>
<li><code>gate_proj</code>: é—¨æ§å±‚ã€‚</li>
<li><code>up_proj</code>: å‡ç»´å±‚ã€‚</li>
<li><code>down_proj</code>: é™ç»´å±‚ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-15">äºŒã€ æ¼”è¿›å²</h3>
<p>å…³äº Target Modules çš„é€‰æ‹©ï¼Œå­¦æœ¯ç•Œå’Œå·¥ä¸šç•Œçš„æœ€ä½³å®è·µç»å†äº†ä¸€ä¸ªæ˜æ˜¾çš„æ¼”å˜è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-16">ç¬¬ä¸€é˜¶æ®µï¼šLoRA åŸä½œæ—¶æœŸï¼ˆä»… Q, Vï¼‰</h4>
<ul>
<li><strong>åšæ³•ï¼š</strong> æœ€åˆçš„ LoRA è®ºæ–‡ï¼ˆHu et al.ï¼‰ä¸»è¦é’ˆå¯¹ <code>q_proj</code> å’Œ <code>v_proj</code> è¿›è¡Œå¾®è°ƒã€‚</li>
<li><strong>é€»è¾‘ï¼š</strong> åªè¦æ”¹å˜äº† Queryï¼ˆæŸ¥ä»€ä¹ˆï¼‰å’Œ Valueï¼ˆå–ä»€ä¹ˆï¼‰ï¼Œå°±èƒ½æ”¹å˜æ¨¡å‹çš„æ³¨æ„åŠ›æ¨¡å¼ã€‚è¿™æ˜¯ä¸€ç§æå…¶èŠ‚çœå‚æ•°çš„åšæ³•ã€‚</li>
<li><strong>æ•ˆæœï¼š</strong> èƒ½å¤Ÿåº”å¯¹ç®€å•çš„æŒ‡ä»¤è·Ÿéšï¼Œä½†åœ¨å¤æ‚æ¨ç†ä»»åŠ¡ä¸Šè¡¨ç°ä¸€èˆ¬ã€‚</li>
</ul>
<h4 data-id="heading-17">ç¬¬äºŒé˜¶æ®µï¼šQLoRA ä¸ å…¨æ¨¡å—å¾®è°ƒï¼ˆAll Linearï¼‰</h4>
<ul>
<li><strong>åšæ³•ï¼š</strong> ç°åœ¨çš„æ ‡å‡†æ“ä½œï¼ˆå¦‚ QLoRA è®ºæ–‡ã€Llama-Factory é»˜è®¤è®¾ç½®ï¼‰æ˜¯<strong>å°† LoRA æŒ‚è½½åˆ°æ‰€æœ‰çš„çº¿æ€§å±‚ï¼ˆAll Linear Layersï¼‰</strong> ï¼Œå³ä¸Šè¿° 7 ä¸ªæ¨¡å—å…¨é€‰ã€‚</li>
<li><strong>é€»è¾‘ï¼š</strong> ç”±äºAttention åªæ˜¯è´Ÿè´£ä¿¡æ¯çš„è·¯ç”±ï¼ˆRoutingï¼‰ï¼Œè€Œ MLP æ‰æ˜¯çœŸæ­£å­˜å‚¨çŸ¥è¯†å’Œå¤„ç†é€»è¾‘çš„åœ°æ–¹ã€‚å¦‚æœä½ åªæ”¹ Attentionï¼Œç›¸å½“äºä½ åªæ•™æ¨¡å‹â€œæ€ä¹ˆè¯»é¢˜â€ï¼Œä½†æ²¡æ•™å®ƒâ€œæ€ä¹ˆè§£é¢˜â€ã€‚</li>
<li><strong>æ•ˆæœï¼š</strong> æ•ˆæœæ˜¾è‘—æå‡ï¼Œå°¤å…¶æ˜¯åœ¨é€»è¾‘æ¨ç†ã€ä»£ç ç”Ÿæˆå’Œé¢†åŸŸçŸ¥è¯†æ³¨å…¥æ–¹é¢ï¼Œé€¼è¿‘å…¨é‡å¾®è°ƒçš„æ•ˆæœã€‚</li>
</ul>
<h3 data-id="heading-18">ä¸‰ã€ ä¸ºä»€ä¹ˆ MLP å±‚å¦‚æ­¤é‡è¦ï¼Ÿ</h3>
<p>å¦‚æœä½ çŠ¹è±«æ˜¯å¦è¦å‹¾é€‰ MLP å±‚ï¼ˆ<code>gate</code>, <code>up</code>, <code>down</code>ï¼‰ï¼Œè¯·çœ‹ä»¥ä¸‹åŸç†ï¼š</p>
<h4 data-id="heading-19">1. çŸ¥è¯†å­˜å‚¨å‡è¯´ (Knowledge Storage)</h4>
<p>å­Ÿå¾·ï¼ˆMeng et al.ï¼‰ç­‰äººçš„ç ”ç©¶è¡¨æ˜ï¼ŒTransformer ä¸­çš„ MLP å±‚ç±»ä¼¼äº<strong>é”®å€¼å­˜å‚¨ï¼ˆKey-Value Memoriesï¼‰</strong> ï¼Œæ¨¡å‹å­¦åˆ°çš„å¤§éƒ¨åˆ†äº‹å®æ€§çŸ¥è¯†ï¼ˆFactï¼‰éƒ½å­˜å‚¨åœ¨ MLP çš„æƒé‡ä¸­ã€‚</p>
<ul>
<li><strong>ç»“è®ºï¼š</strong> å¦‚æœä½ çš„å¾®è°ƒç›®çš„æ˜¯è®©æ¨¡å‹å­¦ä¼š<strong>æ–°çš„é¢†åŸŸçŸ¥è¯†</strong>ï¼ˆæ¯”å¦‚ä¼ä¸šå†…éƒ¨è§„ç« ã€åŒ»å­¦æœ¯è¯­ï¼‰ï¼Œä½ <strong>å¿…é¡»</strong>å¾®è°ƒ MLP å±‚ã€‚åªè°ƒ Attention å¾ˆéš¾æ³¨å…¥æ–°çŸ¥è¯†ã€‚</li>
</ul>
<h4 data-id="heading-20">2. ä¿¡æ¯å¤„ç†å®¹é‡</h4>
<p>Attention æœºåˆ¶æœ¬è´¨ä¸Šæ˜¯åœ¨åš<strong>åŠ æƒå¹³å‡</strong>ï¼ˆæŠŠä¸Šä¸‹æ–‡çš„ä¿¡æ¯èšåˆèµ·æ¥ï¼‰ã€‚</p>
<p>MLP å±‚æœ¬è´¨ä¸Šæ˜¯åœ¨åš<strong>éçº¿æ€§å˜æ¢</strong>ï¼ˆç‰¹å¾çš„é‡æ–°ç»„åˆä¸æå–ï¼‰ã€‚</p>
<ul>
<li><strong>ç»“è®ºï¼š</strong> å¤æ‚ä»»åŠ¡ï¼ˆå¦‚æ•°å­¦æ¨ç†ã€å¤æ‚çš„é€»è¾‘åˆ¤æ–­ï¼‰éœ€è¦å¼ºå¤§çš„ç‰¹å¾å˜æ¢èƒ½åŠ›ã€‚å¦‚æœé”æ­» MLP ä¸åŠ¨ï¼ŒLoRA çš„ä½ç§©çŸ©é˜µå¾€å¾€â€œç‹¬æœ¨éš¾æ”¯â€ï¼Œæ— æ³•åœ¨æ•°å­¦ä¸Šæ¨¡æ‹Ÿå‡ºè¶³å¤Ÿå¤æ‚çš„å‡½æ•°å˜æ¢ã€‚</li>
</ul>
<h3 data-id="heading-21">å››ã€ ç§‘å­¦è®¾ç½®å»ºè®®</h3>
<p>åœ¨å®é™…å·¥ç¨‹ä¸­ï¼Œä½ å¯ä»¥å‚è€ƒä»¥ä¸‹å†³ç­–çŸ©é˜µï¼š</p>



































<table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>æ¨è Target Modules</strong></th><th><strong>ç†ç”±</strong></th><th><strong>èµ„æºæ¶ˆè€—</strong></th></tr></thead><tbody><tr><td><strong>é€šç”¨æŒ‡ä»¤å¾®è°ƒ</strong></td><td><strong>All Linear</strong> (<code>q,k,v,o,gate,up,down</code>)</td><td><strong>é¦–é€‰æ–¹æ¡ˆã€‚</strong> æœ€å¤§é™åº¦é‡Šæ”¾æ¨¡å‹æ½œåŠ›ï¼Œé˜²æ­¢çŸ­æ¿æ•ˆåº”ã€‚</td><td>æ˜¾å­˜å ç”¨ç•¥é«˜ï¼ˆéœ€å­˜å‚¨æ›´å¤šæ¢¯åº¦ï¼‰ï¼Œä½†åœ¨é‡åŒ–å¾®è°ƒï¼ˆQLoRAï¼‰ä¸‹å®Œå…¨å¯æ¥å—ã€‚</td></tr><tr><td><strong>ç®€å•é£æ ¼è¿ç§»</strong></td><td>ä»… <strong>Attention</strong> (<code>q,v</code>)</td><td>ä»»åŠ¡ä»…ä»…æ˜¯æ”¹å˜è¯´è¯è¯­æ°”ï¼ˆå¦‚â€œæ‰®æ¼”çŒ«å¨˜â€ï¼‰ï¼Œä¸éœ€è¦åŠ¨ç”¨æ·±å±‚é€»è¾‘ã€‚</td><td>æä½ï¼Œé€Ÿåº¦æœ€å¿«ã€‚</td></tr><tr><td><strong>æ˜¾å­˜æå…¶å—é™</strong></td><td><strong>Attention</strong> + <code>o_proj</code></td><td><code>o_proj</code> å¯¹æ•´åˆè¾“å‡ºå¾ˆé‡è¦ï¼Œæ€§ä»·æ¯”ç•¥é«˜äºçº¯ <code>q,v</code>ã€‚</td><td>ä½ã€‚</td></tr><tr><td><strong>è¯è¡¨æ‰©å……</strong></td><td>All Linear + <strong><code>lm_head</code></strong>, <code>embed_tokens</code></td><td><strong>ç‰¹æ®Šæƒ…å†µã€‚</strong> å¦‚æœä½ å¢åŠ äº†å¾ˆå¤šæ–° Tokenï¼ˆå¦‚ä¸­æ–‡è¯è¡¨æ‰©å……ï¼‰ï¼Œå¿…é¡»æŠŠè¾“å…¥è¾“å‡ºå±‚ä¹ŸåŠ å…¥è®­ç»ƒã€‚</td><td>è¾ƒé«˜ï¼Œä¸” <code>embed_tokens</code> é€šå¸¸ä¸ä½¿ç”¨ LoRAï¼Œè€Œæ˜¯å…¨é‡è®­ç»ƒã€‚</td></tr></tbody></table>
<h3 data-id="heading-22">äº”ã€ é¿å‘æŒ‡å—</h3>
<ol>
<li>
<p><strong>å‚æ•°é‡ææ…Œï¼š</strong></p>
<p>å¾ˆå¤šäººçœ‹åˆ°â€œAll Linearâ€ä¼šæ‹…å¿ƒï¼šâ€œå¤©å“ªï¼Œå‚æ•°é‡æ˜¯ä¸æ˜¯è¦çˆ†ç‚¸äº†ï¼Ÿâ€</p>
<p><strong>å…¶å®ä¸ä¼šã€‚</strong> å³ä½¿å¼€å¯æ‰€æœ‰çº¿æ€§å±‚ï¼ŒLoRA çš„å‚æ•°é‡é€šå¸¸ä¹Ÿåªå åŸæ¨¡å‹çš„ 1%~2% å·¦å³ã€‚ç›¸æ¯”äºä» 0.1% æå‡åˆ° 0.2%ï¼Œå¸¦æ¥çš„æ•ˆæœæå‡æ˜¯<strong>æ•°é‡çº§</strong>çš„ã€‚æ‰€ä»¥ï¼Œ<strong>å¤§èƒ†åœ°å¼€å¯ All Linear</strong>ã€‚</p>
</li>
<li>
<p><strong>ä¸è¦æ¼æ‰ <code>lm_head</code>ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š</strong></p>
<p>è™½ç„¶ <code>lm_head</code>ï¼ˆè¾“å‡ºå±‚ï¼‰é€šå¸¸ä¸åŒ…å«åœ¨æ ‡å‡† LoRA é…ç½®é‡Œï¼Œä½†å¦‚æœä½ çš„ä»»åŠ¡æå…¶ä¾èµ–<strong>ç‰¹å®šçš„è¾“å‡ºæ ¼å¼</strong>æˆ–è€…<strong>å¾®è°ƒåçš„è¯æ±‡åˆ†å¸ƒ</strong>ä¸åŸæ¨¡å‹å·®å¼‚å·¨å¤§ï¼Œç»™ <code>lm_head</code> åŠ ä¸Š LoRA å¾€å¾€æœ‰å¥‡æ•ˆã€‚</p>
</li>
</ol>
<h3 data-id="heading-23">æ€»ç»“</h3>
<ul>
<li><strong>æ—§è§‚å¿µï¼š</strong> åªè¦è°ƒ <code>q_proj</code> å’Œ <code>v_proj</code> å°±å¤Ÿäº†ã€‚</li>
<li><strong>æ–°å…±è¯†ï¼š</strong> <strong>åº”å°½å¯èƒ½å¯¹æ‰€æœ‰çº¿æ€§å±‚ï¼ˆAll Linearï¼‰åº”ç”¨ LoRAã€‚</strong></li>
<li><strong>æ ¸å¿ƒåŸå› ï¼š</strong> MLP æ˜¯çŸ¥è¯†å’Œæ¨ç†çš„è½½ä½“ï¼Œä¸è°ƒå®ƒï¼Œæ¨¡å‹åªèƒ½å­¦ä¼šâ€œçš®æ¯›â€ï¼Œå­¦ä¸åˆ°â€œçµé­‚â€ã€‚</li>
</ul>
<p>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»æå®šäº† LoRA çš„åŸç†ã€Rankã€Alpha å’Œ Target Modulesã€‚ä½†è¿™åªæ˜¯â€œæ€ä¹ˆç»ƒâ€ã€‚åœ¨å®é™…è½åœ°ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªéå¸¸è‡´å‘½çš„é—®é¢˜ï¼š<strong>æ•°æ®è´¨é‡ä¸é…æ¯”</strong>ã€‚ æ¯”å¦‚ï¼Œä½ å¾®è°ƒæ—¶æ˜¯ç”¨ 100% çš„æ–°æ•°æ®ï¼Œè¿˜æ˜¯åº”è¯¥æ··å…¥ä¸€éƒ¨åˆ†é€šç”¨æ•°æ®æ¥é˜²æ­¢â€œå˜å‚»â€ï¼Ÿè¿™æ¶‰åŠåˆ° <strong>Catastrophic Forgettingï¼ˆç¾éš¾æ€§é—å¿˜ï¼‰</strong> ã€‚æ¬²çŸ¥åäº‹å¦‚ä½•ï¼Œè¯·çœ‹ä¸‹é›†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Python å®ç° Flutter é¡¹ç›®çš„è‡ªåŠ¨åŒ–æ„å»ºä¸å‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7601904641068990516</link>    <guid>https://juejin.cn/post/7601904641068990516</guid>    <pubDate>2026-02-02T08:36:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601904641068990516" data-draft-id="7601762468202823706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ä½¿ç”¨ Python å®ç° Flutter é¡¹ç›®çš„è‡ªåŠ¨åŒ–æ„å»ºä¸å‘å¸ƒ"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2026-02-02T08:36:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜å›87997"/> <meta itemprop="url" content="https://juejin.cn/user/413072103838462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ä½¿ç”¨ Python å®ç° Flutter é¡¹ç›®çš„è‡ªåŠ¨åŒ–æ„å»ºä¸å‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/413072103838462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜å›87997
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:36:56.000Z" title="Mon Feb 02 2026 08:36:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä½œä¸ºå…¬å¸å”¯ä¸€çš„ç§»åŠ¨ç«¯å¼€å‘ï¼Œæˆ‘éœ€è¦åŒæ—¶è´Ÿè´£ 5 ä¸ª Flutter App çš„å¼€å‘å’Œç»´æŠ¤å·¥ä½œã€‚æ¯ä¸ªåº”ç”¨éƒ½éœ€è¦æ”¯æŒ iOS å’Œ Android åŒå¹³å°ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡å‘ç‰ˆæˆ‘å¯èƒ½è¦è¿›è¡Œå¤šè¾¾ 10 æ¬¡çš„æ‰“åŒ…æ“ä½œã€‚å¦‚æœæ¯æ¬¡éƒ½æ‰‹åŠ¨æ‰§è¡Œæ„å»ºã€ä¸Šä¼ ã€é€šçŸ¥è¿™äº›é‡å¤æ€§å·¥ä½œï¼Œä¸ä»…è€—æ—¶å·¨å¤§ï¼Œè¿˜ææ˜“å‡ºé”™ã€‚</p>
<p>ä¸ºäº†ä»ç¹ççš„é‡å¤åŠ³åŠ¨ä¸­è§£æ”¾å‡ºæ¥ï¼ŒæŠŠæ›´å¤šç²¾åŠ›æŠ•å…¥åˆ°çœŸæ­£æœ‰ä»·å€¼çš„å¼€å‘å·¥ä½œä¸­ï¼Œæˆ‘ä½¿ç”¨ Python ç¼–å†™äº†ä¸€å¥—è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œå®ç°äº†ä¸€é”®å®Œæˆæ„å»ºã€ä¸Šä¼ å’Œé€šçŸ¥çš„å®Œæ•´æµç¨‹ã€‚</p>
<p>æœ¬æ–‡å°†åˆ†äº«æˆ‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­çš„å®è·µç»éªŒå’Œä»£ç å®ç°ã€‚</p>
<h2 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h2>
<p>å…¬å¸ç›®å‰æœ‰ 5 ä¸ªç§»åŠ¨ç«¯åº”ç”¨åœ¨åŒæ—¶è¿è¥ï¼Œè€Œç§»åŠ¨ç«¯å¼€å‘åªæœ‰æˆ‘ä¸€ä¸ªäººã€‚æ¯ä¸ªåº”ç”¨éƒ½æ˜¯åŸºäº Flutter å¼€å‘çš„è·¨å¹³å°åº”ç”¨ï¼Œéœ€è¦åŒæ—¶æ”¯æŒ iOS å’Œ Android å¹³å°ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>é¡¹ç›®å¤šã€äººæ‰‹å°‘</strong>ï¼š5 ä¸ª App Ã— 2 ä¸ªå¹³å° = 10 ä¸ªæ„å»ºä»»åŠ¡ï¼Œä¸€ä¸ªäººæ ¹æœ¬å¿™ä¸è¿‡æ¥</li>
<li><strong>æ„å»ºæµç¨‹ç¹ç</strong>ï¼šæ¯æ¬¡æ‰“åŒ…éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼Œåˆ‡æ¢é¡¹ç›®ã€åˆ‡æ¢ç¯å¢ƒé…ç½®</li>
<li><strong>ä¸Šä¼ æ­¥éª¤é‡å¤</strong>ï¼šæ„å»ºå®Œæˆåéœ€è¦æ‰‹åŠ¨ä¸Šä¼ åˆ°æµ‹è¯•å¹³å°ï¼ˆè’²å…¬è‹±ï¼‰ï¼Œæ“ä½œæœºæ¢°ä¸”è€—æ—¶</li>
<li><strong>é€šçŸ¥ä¸åŠæ—¶</strong>ï¼šéœ€è¦æ‰‹åŠ¨é€šçŸ¥æµ‹è¯•äººå‘˜æ–°ç‰ˆæœ¬å·²å°±ç»ªï¼Œå®¹æ˜“é—æ¼</li>
<li><strong>iOS æ„å»ºç¯å¢ƒé—®é¢˜</strong>ï¼šCocoaPods ç¼“å­˜é—®é¢˜ç»å¸¸å¯¼è‡´æ„å»ºå¤±è´¥ï¼Œæ’æŸ¥è´¹æ—¶è´¹åŠ›</li>
</ol>
<p>é¢å¯¹è¿™æ ·çš„å·¥ä½œå¼ºåº¦ï¼Œè‡ªåŠ¨åŒ–ä¸å†æ˜¯"é”¦ä¸Šæ·»èŠ±"ï¼Œè€Œæ˜¯"åˆšéœ€"ã€‚</p>
<h2 data-id="heading-2">æŠ€æœ¯æ–¹æ¡ˆ</h2>
<p>æˆ‘è®¾è®¡äº†ä»¥ä¸‹å‡ ä¸ª Python è„šæœ¬æ¥è§£å†³è¿™äº›é—®é¢˜ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python/
â”œâ”€â”€ build_app.py          <span class="hljs-comment"># ä¸»æ„å»ºè„šæœ¬ï¼ˆiOS + Androidï¼‰</span>
â”œâ”€â”€ build_android_app.py  <span class="hljs-comment"># Android å•ç‹¬æ„å»ºè„šæœ¬</span>
â”œâ”€â”€ clean_ios_build.py    <span class="hljs-comment"># iOS æ„å»ºç¯å¢ƒæ¸…ç†</span>
â”œâ”€â”€ force_clean_ios.py    <span class="hljs-comment"># å¼ºåˆ¶æ¸…ç†è„šæœ¬</span>
â”œâ”€â”€ bulk_email.py         <span class="hljs-comment"># ç¾¤å‘é‚®ä»¶å·¥å…·ç±»</span>
â”œâ”€â”€ send_email.py         <span class="hljs-comment"># å•å°é‚®ä»¶å‘é€</span>
â””â”€â”€ test_email_auth.py    <span class="hljs-comment"># é‚®ç®±æˆæƒæµ‹è¯•</span>
</code></pre>
<h2 data-id="heading-3">æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-4">1. è‡ªåŠ¨æ„å»ºè„šæœ¬</h3>
<p>æ„å»ºè„šæœ¬çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è‡ªåŠ¨æ‰§è¡Œ Flutter æ„å»ºå‘½ä»¤ï¼Œå¹¶æ”¯æŒä¸åŒç¯å¢ƒï¼ˆå¼€å‘/ç”Ÿäº§ï¼‰çš„é…ç½®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/local/bin/python3</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> subprocess

<span class="hljs-comment"># è·å–å½“å‰è„šæœ¬æ‰€åœ¨ç›®å½•</span>
script_dir = os.path.dirname(os.path.abspath(__file__))
<span class="hljs-comment"># Flutteré¡¹ç›®æ ¹ç›®å½•ï¼ˆpythonæ–‡ä»¶å¤¹åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼‰</span>
flutter_root = os.path.dirname(script_dir)

<span class="hljs-comment"># è·å–ç”¨æˆ·è¾“å…¥çš„ç¯å¢ƒ</span>
env = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥ç¯å¢ƒ(dev/prod): "</span>)

<span class="hljs-comment"># æ£€æŸ¥ç¯å¢ƒé…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
env_file = os.path.join(flutter_root, <span class="hljs-string">f"<span class="hljs-subst">{env}</span>.json"</span>)
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(env_file):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯: ç¯å¢ƒé…ç½®æ–‡ä»¶ <span class="hljs-subst">{env}</span>.json ä¸å­˜åœ¨"</span>)
    exit(<span class="hljs-number">1</span>)

<span class="hljs-comment"># åˆ‡æ¢åˆ°Flutteré¡¹ç›®æ ¹ç›®å½•</span>
os.chdir(flutter_root)

<span class="hljs-comment"># æ„å»ºAndroidåº”ç”¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">build_android</span>(<span class="hljs-params">env</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨æ„å»ºAndroidåº”ç”¨..."</span>)
    env_text = <span class="hljs-string">'ç”Ÿäº§'</span> <span class="hljs-keyword">if</span> env == <span class="hljs-string">'prod'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'å¼€å‘'</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ„å»ºç‰ˆæœ¬: <span class="hljs-subst">{env_text}</span>ç¯å¢ƒ..."</span>)
    
    <span class="hljs-comment"># æ„å»ºå‘½ä»¤ï¼Œæ”¯æŒä»£ç æ··æ·†</span>
    build_command = <span class="hljs-string">f'fvm flutter build apk --release --dart-define-from-file=<span class="hljs-subst">{env}</span>.json --obfuscate --split-debug-info=./build/debug_info'</span>
    
    <span class="hljs-keyword">try</span>:
        process = subprocess.run(
            build_command.split(), 
            stdout=subprocess.PIPE, 
            stderr=subprocess.PIPE, 
            text=<span class="hljs-literal">True</span>
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ„å»ºè¾“å‡º:"</span>)
        <span class="hljs-built_in">print</span>(process.stdout)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Androidæ„å»ºæˆåŠŸ!"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"APKæ–‡ä»¶è·¯å¾„: build/app/outputs/flutter-apk/app-release.apk"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">except</span> subprocess.CalledProcessError <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Androidæ„å»ºå¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>

<span class="hljs-comment"># æ„å»ºiOSåº”ç”¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">build_ios</span>(<span class="hljs-params">env, upload_to_appstore=<span class="hljs-literal">False</span></span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨æ„å»ºiOSåº”ç”¨..."</span>)
    env_text = <span class="hljs-string">'ç”Ÿäº§'</span> <span class="hljs-keyword">if</span> env == <span class="hljs-string">'prod'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'å¼€å‘'</span>
    
    <span class="hljs-comment"># æ ¹æ®æ˜¯å¦ä¸Šä¼ App Storeé€‰æ‹©å¯¼å‡ºæ–¹æ³•</span>
    export_method = <span class="hljs-string">"app-store"</span> <span class="hljs-keyword">if</span> upload_to_appstore <span class="hljs-keyword">else</span> <span class="hljs-string">"development"</span>
    build_command = <span class="hljs-string">f"fvm flutter build ipa --release --export-method <span class="hljs-subst">{export_method}</span> --dart-define-from-file=<span class="hljs-subst">{env}</span>.json --obfuscate --split-debug-info=./build/debug_info"</span>
    
    <span class="hljs-keyword">try</span>:
        process = subprocess.run(
            build_command.split(), 
            stdout=subprocess.PIPE, 
            stderr=subprocess.PIPE, 
            text=<span class="hljs-literal">True</span>
        )
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ„å»ºè¾“å‡º:"</span>)
        <span class="hljs-built_in">print</span>(process.stdout)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"iOSæ„å»ºæˆåŠŸ!"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">except</span> subprocess.CalledProcessError <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"iOSæ„å»ºå¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<h3 data-id="heading-5">2. è‡ªåŠ¨ä¸Šä¼ åˆ°è’²å…¬è‹±</h3>
<p>æ„å»ºå®Œæˆåï¼Œè‡ªåŠ¨å°†å®‰è£…åŒ…ä¸Šä¼ åˆ°è’²å…¬è‹±æµ‹è¯•å¹³å°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

<span class="hljs-keyword">def</span> <span class="hljs-title function_">upload_to_pgyer</span>(<span class="hljs-params">env, ipa_path, platform</span>):
    <span class="hljs-string">"""ä¸Šä¼ åˆ°è’²å…¬è‹±æµ‹è¯•å¹³å°"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ­£åœ¨ä¸Šä¼ åˆ°è’²å…¬è‹±..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡ä»¶è·¯å¾„: <span class="hljs-subst">{ipa_path}</span>"</span>)
    
    <span class="hljs-comment"># ä»é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡è¯»å– API Key</span>
    api_key = os.environ.get(<span class="hljs-string">'PGYER_API_KEY'</span>, <span class="hljs-string">'your_api_key'</span>)
    user_key = os.environ.get(<span class="hljs-string">'PGYER_USER_KEY'</span>, <span class="hljs-string">'your_user_key'</span>)
    
    files = {<span class="hljs-string">"file"</span>: <span class="hljs-built_in">open</span>(ipa_path, <span class="hljs-string">"rb"</span>)}
    headers = {<span class="hljs-string">"enctype"</span>: <span class="hljs-string">"multipart/form-data"</span>}
    
    platform_text = <span class="hljs-string">"android"</span> <span class="hljs-keyword">if</span> platform == <span class="hljs-string">"android"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"ios"</span>
    payload = {
        <span class="hljs-string">"uKey"</span>: user_key,
        <span class="hljs-string">"_api_key"</span>: api_key,
        <span class="hljs-string">"installType"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"updateDescription"</span>: <span class="hljs-string">f"<span class="hljs-subst">{platform_text}</span>è‡ªåŠ¨åŒ–æ‰“åŒ…"</span>
    }
    
    <span class="hljs-keyword">try</span>:
        response = requests.post(
            <span class="hljs-string">"https://www.pgyer.com/apiv2/app/upload"</span>, 
            data=payload, 
            files=files, 
            headers=headers
        )
        result = response.json()
        
        <span class="hljs-comment"># è·å–æ„å»ºä¿¡æ¯</span>
        qr_code_url = result[<span class="hljs-string">"data"</span>][<span class="hljs-string">"buildQRCodeURL"</span>]
        version = result[<span class="hljs-string">"data"</span>][<span class="hljs-string">"buildVersion"</span>]
        version_no = result[<span class="hljs-string">"data"</span>][<span class="hljs-string">"buildVersionNo"</span>]
        build_name = result[<span class="hljs-string">"data"</span>][<span class="hljs-string">"buildName"</span>]
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸Šä¼ æˆåŠŸ!"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"äºŒç»´ç åœ°å€: <span class="hljs-subst">{qr_code_url}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç‰ˆæœ¬: <span class="hljs-subst">{version}</span> (<span class="hljs-subst">{version_no}</span>)"</span>)
        
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">"qr_code_url"</span>: qr_code_url,
            <span class="hljs-string">"version"</span>: version,
            <span class="hljs-string">"version_no"</span>: version_no,
            <span class="hljs-string">"build_name"</span>: build_name
        }
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¸Šä¼ å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<h3 data-id="heading-6">3. ç¾¤å‘é‚®ä»¶é€šçŸ¥</h3>
<p>æ„å»ºå¹¶ä¸Šä¼ æˆåŠŸåï¼Œè‡ªåŠ¨å‘é€é‚®ä»¶é€šçŸ¥å›¢é˜Ÿæˆå‘˜ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/local/bin/python3</span>

<span class="hljs-keyword">import</span> smtplib
<span class="hljs-keyword">from</span> email.mime.text <span class="hljs-keyword">import</span> MIMEText
<span class="hljs-keyword">from</span> email.mime.multipart <span class="hljs-keyword">import</span> MIMEMultipart
<span class="hljs-keyword">from</span> email.mime.base <span class="hljs-keyword">import</span> MIMEBase
<span class="hljs-keyword">from</span> email <span class="hljs-keyword">import</span> encoders
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Optional</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BulkEmailSender</span>:
    <span class="hljs-string">"""ç¾¤å‘é‚®ä»¶å‘é€å™¨"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, smtp_server: <span class="hljs-built_in">str</span>, smtp_port: <span class="hljs-built_in">int</span>, 
                 sender_email: <span class="hljs-built_in">str</span>, sender_password: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–ç¾¤å‘é‚®ä»¶å‘é€å™¨
        
        Args:
            smtp_server: SMTPæœåŠ¡å™¨åœ°å€
            smtp_port: SMTPç«¯å£
            sender_email: å‘é€è€…é‚®ç®±
            sender_password: å‘é€è€…é‚®ç®±å¯†ç æˆ–æˆæƒç 
        """</span>
        self.smtp_server = smtp_server
        self.smtp_port = smtp_port
        self.sender_email = sender_email
        self.sender_password = sender_password
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_create_connection</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºSMTPè¿æ¥"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">if</span> self.smtp_port == <span class="hljs-number">465</span>:
                <span class="hljs-comment"># ä½¿ç”¨SSLè¿æ¥ï¼ˆ465ç«¯å£ï¼‰</span>
                server = smtplib.SMTP_SSL(self.smtp_server, self.smtp_port)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># ä½¿ç”¨STARTTLSè¿æ¥ï¼ˆ587/25ç«¯å£ï¼‰</span>
                server = smtplib.SMTP(self.smtp_server, self.smtp_port)
                server.starttls()
            
            server.login(self.sender_email, self.sender_password)
            <span class="hljs-keyword">return</span> server
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_bulk_individual</span>(<span class="hljs-params">self, recipients: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], subject: <span class="hljs-built_in">str</span>, 
                            body: <span class="hljs-built_in">str</span>, html_body: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>,
                            attachment_path: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>,
                            delay: <span class="hljs-built_in">float</span> = <span class="hljs-number">1.0</span></span>) -&gt; <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">bool</span>]:
        <span class="hljs-string">"""
        é€ä¸ªå‘é€é‚®ä»¶ï¼ˆéšç§ä¿æŠ¤æœ€å¥½ï¼Œæ¯ä¸ªäººåªèƒ½çœ‹åˆ°è‡ªå·±çš„é‚®ç®±ï¼‰
        
        Args:
            recipients: æ”¶ä»¶äººåˆ—è¡¨
            subject: é‚®ä»¶ä¸»é¢˜
            body: é‚®ä»¶å†…å®¹ï¼ˆçº¯æ–‡æœ¬ï¼‰
            html_body: HTMLé‚®ä»¶å†…å®¹ï¼ˆå¯é€‰ï¼‰
            attachment_path: é™„ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰
            delay: å‘é€é—´éš”ï¼ˆç§’ï¼‰ï¼Œé¿å…è¢«æœåŠ¡å™¨é™åˆ¶
        """</span>
        results = {}
        server = self._create_connection()
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> server:
            <span class="hljs-keyword">return</span> {email: <span class="hljs-literal">False</span> <span class="hljs-keyword">for</span> email <span class="hljs-keyword">in</span> recipients}
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">for</span> i, recipient <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(recipients):
                <span class="hljs-keyword">try</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é€é‚®ä»¶ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>/<span class="hljs-subst">{<span class="hljs-built_in">len</span>(recipients)}</span> åˆ°: <span class="hljs-subst">{recipient}</span>"</span>)
                    
                    <span class="hljs-comment"># åˆ›å»ºé‚®ä»¶</span>
                    <span class="hljs-keyword">if</span> html_body:
                        msg = MIMEMultipart(<span class="hljs-string">'alternative'</span>)
                        msg.attach(MIMEText(body, <span class="hljs-string">'plain'</span>, <span class="hljs-string">'utf-8'</span>))
                        msg.attach(MIMEText(html_body, <span class="hljs-string">'html'</span>, <span class="hljs-string">'utf-8'</span>))
                    <span class="hljs-keyword">else</span>:
                        msg = MIMEMultipart()
                        msg.attach(MIMEText(body, <span class="hljs-string">'plain'</span>, <span class="hljs-string">'utf-8'</span>))
                    
                    msg[<span class="hljs-string">'From'</span>] = self.sender_email
                    msg[<span class="hljs-string">'To'</span>] = recipient
                    msg[<span class="hljs-string">'Subject'</span>] = subject
                    
                    <span class="hljs-comment"># æ·»åŠ é™„ä»¶</span>
                    <span class="hljs-keyword">if</span> attachment_path <span class="hljs-keyword">and</span> os.path.exists(attachment_path):
                        self._add_attachment(msg, attachment_path)
                    
                    <span class="hljs-comment"># å‘é€é‚®ä»¶</span>
                    server.sendmail(self.sender_email, [recipient], msg.as_string())
                    results[recipient] = <span class="hljs-literal">True</span>
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å‘é€æˆåŠŸ: <span class="hljs-subst">{recipient}</span>"</span>)
                    
                    <span class="hljs-comment"># å»¶è¿Ÿé¿å…è¢«é™åˆ¶</span>
                    <span class="hljs-keyword">if</span> i &lt; <span class="hljs-built_in">len</span>(recipients) - <span class="hljs-number">1</span>:
                        time.sleep(delay)
                        
                <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                    results[recipient] = <span class="hljs-literal">False</span>
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å‘é€å¤±è´¥ <span class="hljs-subst">{recipient}</span>: <span class="hljs-subst">{e}</span>"</span>)
                    
        <span class="hljs-keyword">finally</span>:
            server.quit()
            
        <span class="hljs-keyword">return</span> results
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_bulk_bcc</span>(<span class="hljs-params">self, recipients: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], subject: <span class="hljs-built_in">str</span>, body: <span class="hljs-built_in">str</span>,
                     html_body: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>, batch_size: <span class="hljs-built_in">int</span> = <span class="hljs-number">50</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""
        ä½¿ç”¨BCCæ‰¹é‡å‘é€ï¼ˆéšç§ä¿æŠ¤ï¼Œæ”¶ä»¶äººçœ‹ä¸åˆ°å…¶ä»–äººï¼‰
        é€‚åˆå¤§æ‰¹é‡å‘é€é€šçŸ¥é‚®ä»¶
        """</span>
        server = self._create_connection()
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> server:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># åˆ†æ‰¹å‘é€ï¼Œé¿å…å•æ¬¡å‘é€å¤ªå¤š</span>
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(recipients), batch_size):
                batch = recipients[i:i + batch_size]
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é€æ‰¹æ¬¡ <span class="hljs-subst">{i//batch_size + <span class="hljs-number">1</span>}</span>: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(batch)}</span> ä¸ªæ”¶ä»¶äºº"</span>)
                
                <span class="hljs-keyword">if</span> html_body:
                    msg = MIMEMultipart(<span class="hljs-string">'alternative'</span>)
                    msg.attach(MIMEText(body, <span class="hljs-string">'plain'</span>, <span class="hljs-string">'utf-8'</span>))
                    msg.attach(MIMEText(html_body, <span class="hljs-string">'html'</span>, <span class="hljs-string">'utf-8'</span>))
                <span class="hljs-keyword">else</span>:
                    msg = MIMEMultipart()
                    msg.attach(MIMEText(body, <span class="hljs-string">'plain'</span>, <span class="hljs-string">'utf-8'</span>))
                
                msg[<span class="hljs-string">'From'</span>] = self.sender_email
                msg[<span class="hljs-string">'To'</span>] = self.sender_email  <span class="hljs-comment"># æ˜¾ç¤ºå‘é€è€…è‡ªå·±</span>
                msg[<span class="hljs-string">'Bcc'</span>] = <span class="hljs-string">', '</span>.join(batch)   <span class="hljs-comment"># å¯†é€ç»™æ‰€æœ‰æ”¶ä»¶äºº</span>
                msg[<span class="hljs-string">'Subject'</span>] = subject
                
                all_recipients = [self.sender_email] + batch
                server.sendmail(self.sender_email, all_recipients, msg.as_string())
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… æ‰¹æ¬¡å‘é€æˆåŠŸ: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(batch)}</span> ä¸ªæ”¶ä»¶äºº"</span>)
                
                <span class="hljs-keyword">if</span> i + batch_size &lt; <span class="hljs-built_in">len</span>(recipients):
                    time.sleep(<span class="hljs-number">2</span>)
                    
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ BCCç¾¤å‘å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">finally</span>:
            server.quit()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_add_attachment</span>(<span class="hljs-params">self, msg: MIMEMultipart, attachment_path: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-string">"""æ·»åŠ é™„ä»¶åˆ°é‚®ä»¶"""</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(attachment_path, <span class="hljs-string">"rb"</span>) <span class="hljs-keyword">as</span> attachment:
            part = MIMEBase(<span class="hljs-string">'application'</span>, <span class="hljs-string">'octet-stream'</span>)
            part.set_payload(attachment.read())
        
        encoders.encode_base64(part)
        part.add_header(
            <span class="hljs-string">'Content-Disposition'</span>,
            <span class="hljs-string">f'attachment; filename= <span class="hljs-subst">{os.path.basename(attachment_path)}</span>'</span>
        )
        msg.attach(part)
</code></pre>
<h3 data-id="heading-7">4. å‘é€æ„å»ºé€šçŸ¥é‚®ä»¶</h3>
<p>å°†æ„å»ºä¿¡æ¯é€šè¿‡ HTML é‚®ä»¶å‘é€ç»™å›¢é˜Ÿï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">send_build_notification</span>(<span class="hljs-params">build_info, env, platform, test_content=<span class="hljs-string">""</span></span>):
    <span class="hljs-string">"""å‘é€æ„å»ºé€šçŸ¥é‚®ä»¶"""</span>
    
    env_text = <span class="hljs-string">'ç”Ÿäº§'</span> <span class="hljs-keyword">if</span> env == <span class="hljs-string">'prod'</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'å¼€å‘'</span>
    platform_text = <span class="hljs-string">"Android"</span> <span class="hljs-keyword">if</span> platform == <span class="hljs-string">"android"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"iOS"</span>
    
    <span class="hljs-comment"># æ„å»ºHTMLé‚®ä»¶å†…å®¹</span>
    html_body = <span class="hljs-string">f"""
    &lt;html&gt;
        &lt;body&gt;
            &lt;h2&gt;é¡¹ç›®æ„å»ºé€šçŸ¥&lt;/h2&gt;
            &lt;p&gt;æ„å»ºçŠ¶æ€: &lt;span style="color: green;"&gt;&lt;b&gt;æˆåŠŸ&lt;/b&gt;&lt;/span&gt;&lt;/p&gt;
            &lt;ul&gt;
                &lt;li&gt;æ„å»ºåç§°: <span class="hljs-subst">{build_info[<span class="hljs-string">'build_name'</span>]}</span>&lt;/li&gt;
                &lt;li&gt;å¹³å°: <span class="hljs-subst">{platform_text}</span>&lt;/li&gt;
                &lt;li&gt;ç¯å¢ƒ: <span class="hljs-subst">{env_text}</span>&lt;/li&gt;
                &lt;li&gt;ç‰ˆæœ¬: <span class="hljs-subst">{build_info[<span class="hljs-string">'version'</span>]}</span>&lt;/li&gt;
                &lt;li&gt;ç‰ˆæœ¬å·: <span class="hljs-subst">{build_info[<span class="hljs-string">'version_no'</span>]}</span>&lt;/li&gt;
                &lt;li&gt;æµ‹è¯•å†…å®¹: <span class="hljs-subst">{test_content}</span>&lt;/li&gt;
            &lt;/ul&gt;
            &lt;img src="<span class="hljs-subst">{build_info[<span class="hljs-string">'qr_code_url'</span>]}</span>" alt="ä¸‹è½½äºŒç»´ç "&gt;
            &lt;p&gt;è¯·æ‰«æäºŒç»´ç ä¸‹è½½å®‰è£…æµ‹è¯•ã€‚&lt;/p&gt;
        &lt;/body&gt;
    &lt;/html&gt;
    """</span>
    
    <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è¯»å–é‚®ä»¶é…ç½®</span>
    smtp_server = os.environ.get(<span class="hljs-string">'SMTP_SERVER'</span>, <span class="hljs-string">'smtp.exmail.qq.com'</span>)
    smtp_port = <span class="hljs-built_in">int</span>(os.environ.get(<span class="hljs-string">'SMTP_PORT'</span>, <span class="hljs-string">'587'</span>))
    sender_email = os.environ.get(<span class="hljs-string">'SENDER_EMAIL'</span>)
    sender_password = os.environ.get(<span class="hljs-string">'SENDER_PASSWORD'</span>)
    
    bulk_sender = BulkEmailSender(
        smtp_server=smtp_server,
        smtp_port=smtp_port,
        sender_email=sender_email,
        sender_password=sender_password
    )
    
    <span class="hljs-comment"># æ”¶ä»¶äººåˆ—è¡¨ï¼ˆä»é…ç½®æ–‡ä»¶è¯»å–ï¼‰</span>
    recipients = load_recipients_from_config()
    
    subject = <span class="hljs-string">f"æ„å»ºé€šçŸ¥: <span class="hljs-subst">{build_info[<span class="hljs-string">'build_name'</span>]}</span> - <span class="hljs-subst">{platform_text}</span> - <span class="hljs-subst">{env_text}</span>ç¯å¢ƒ"</span>
    
    results = bulk_sender.send_bulk_individual(
        recipients=recipients,
        subject=subject,
        body=<span class="hljs-string">f'<span class="hljs-subst">{platform_text}</span>æ‰“åŒ…é€šçŸ¥'</span>,
        html_body=html_body,
        delay=<span class="hljs-number">0.5</span>
    )
    
    <span class="hljs-keyword">return</span> results
</code></pre>
<h3 data-id="heading-8">5. iOS æ„å»ºç¯å¢ƒæ¸…ç†è„šæœ¬</h3>
<p>åœ¨ iOS å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ° CocoaPods ç¼“å­˜å¯¼è‡´çš„æ„å»ºé—®é¢˜ã€‚è¿™ä¸ªè„šæœ¬å¯ä»¥å½»åº•æ¸…ç†æ„å»ºç¯å¢ƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
iOS æ„å»ºç¯å¢ƒæ¸…ç†è„šæœ¬
ç”¨äºè§£å†³ Firebase Crashlytics æ¨¡å—åŒ–å¤´æ–‡ä»¶ç­‰å¸¸è§é—®é¢˜
"""</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> shutil

<span class="hljs-keyword">def</span> <span class="hljs-title function_">run_command</span>(<span class="hljs-params">command, description</span>):
    <span class="hljs-string">"""æ‰§è¡Œå‘½ä»¤å¹¶æ‰“å°ç»“æœ"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{description}</span>..."</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ‰§è¡Œå‘½ä»¤: <span class="hljs-subst">{command}</span>"</span>)
    
    <span class="hljs-keyword">try</span>:
        result = subprocess.run(command, shell=<span class="hljs-literal">True</span>, capture_output=<span class="hljs-literal">True</span>, text=<span class="hljs-literal">True</span>)
        <span class="hljs-keyword">if</span> result.stdout:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¾“å‡º:"</span>, result.stdout)
        <span class="hljs-keyword">if</span> result.returncode == <span class="hljs-number">0</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… <span class="hljs-subst">{description}</span> æˆåŠŸ"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ <span class="hljs-subst">{description}</span> å¤±è´¥"</span>)
        <span class="hljs-keyword">return</span> result.returncode == <span class="hljs-number">0</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ <span class="hljs-subst">{description}</span> å¼‚å¸¸: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">force_clean_ios</span>():
    <span class="hljs-string">"""å¼ºåˆ¶æ¸…ç† iOS æ„å»ºç¯å¢ƒ"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ§¹ å¼€å§‹å¼ºåˆ¶æ¸…ç† iOS æ„å»ºç¯å¢ƒ..."</span>)
    
    <span class="hljs-comment"># è·å–é¡¹ç›®æ ¹ç›®å½•</span>
    project_root = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
    ios_dir = os.path.join(project_root, <span class="hljs-string">"ios"</span>)
    
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(ios_dir):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ iOS ç›®å½•ä¸å­˜åœ¨: <span class="hljs-subst">{ios_dir}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    os.chdir(project_root)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“ å½“å‰å·¥ä½œç›®å½•: <span class="hljs-subst">{os.getcwd()}</span>"</span>)
    
    <span class="hljs-comment"># 1. æ¸…ç† Flutter ç¼“å­˜</span>
    run_command(<span class="hljs-string">"fvm flutter clean"</span>, <span class="hljs-string">"æ¸…ç† Flutter æ„å»ºç¼“å­˜"</span>)
    
    <span class="hljs-comment"># 2. åˆ é™¤ pubspec.lock</span>
    pubspec_lock = os.path.join(project_root, <span class="hljs-string">"pubspec.lock"</span>)
    <span class="hljs-keyword">if</span> os.path.exists(pubspec_lock):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ—‘ï¸ åˆ é™¤ pubspec.lock"</span>)
        os.remove(pubspec_lock)
    
    <span class="hljs-comment"># 3. åˆ é™¤ .dart_tool ç›®å½•</span>
    dart_tool_dir = os.path.join(project_root, <span class="hljs-string">".dart_tool"</span>)
    <span class="hljs-keyword">if</span> os.path.exists(dart_tool_dir):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ—‘ï¸ åˆ é™¤ .dart_tool ç›®å½•"</span>)
        shutil.rmtree(dart_tool_dir)
    
    <span class="hljs-comment"># 4. åˆ é™¤ iOS æ„å»ºç›®å½•</span>
    <span class="hljs-keyword">for</span> dir_name <span class="hljs-keyword">in</span> [<span class="hljs-string">"build"</span>, <span class="hljs-string">"Pods"</span>, <span class="hljs-string">".symlinks"</span>]:
        dir_path = os.path.join(ios_dir, dir_name)
        <span class="hljs-keyword">if</span> os.path.exists(dir_path):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ—‘ï¸ åˆ é™¤ <span class="hljs-subst">{dir_name}</span> ç›®å½•"</span>)
            shutil.rmtree(dir_path)
    
    <span class="hljs-comment"># 5. åˆ é™¤ Podfile.lock</span>
    podfile_lock = os.path.join(ios_dir, <span class="hljs-string">"Podfile.lock"</span>)
    <span class="hljs-keyword">if</span> os.path.exists(podfile_lock):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ—‘ï¸ åˆ é™¤ Podfile.lock"</span>)
        os.remove(podfile_lock)
    
    <span class="hljs-comment"># 6. æ¸…ç† CocoaPods ç¼“å­˜</span>
    run_command(<span class="hljs-string">"pod cache clean --all"</span>, <span class="hljs-string">"æ¸…ç† CocoaPods ç¼“å­˜"</span>)
    
    <span class="hljs-comment"># 7. é‡æ–°è·å– Flutter ä¾èµ–</span>
    run_command(<span class="hljs-string">"fvm flutter pub get"</span>, <span class="hljs-string">"é‡æ–°è·å– Flutter ä¾èµ–"</span>)
    
    <span class="hljs-comment"># 8. é‡æ–°å®‰è£… Pods</span>
    os.chdir(ios_dir)
    run_command(<span class="hljs-string">"pod install --repo-update"</span>, <span class="hljs-string">"é‡æ–°å®‰è£… Pods"</span>)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ‰ å¼ºåˆ¶æ¸…ç†å®Œæˆï¼"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ’¡ ç°åœ¨å¯ä»¥é‡æ–°å°è¯•æ„å»º iOS åº”ç”¨äº†"</span>)
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    force_clean_ios()
</code></pre>
<h3 data-id="heading-9">6. é‚®ç®±æˆæƒæµ‹è¯•å·¥å…·</h3>
<p>åœ¨é…ç½®é‚®ä»¶æœåŠ¡å‰ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå·¥å…·æµ‹è¯•æˆæƒç æ˜¯å¦æ­£ç¡®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/local/bin/python3</span>

<span class="hljs-keyword">import</span> smtplib

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_email_auth</span>(<span class="hljs-params">smtp_server, smtp_port, email, auth_code</span>):
    <span class="hljs-string">"""
    æµ‹è¯•é‚®ç®±æˆæƒç æ˜¯å¦æ­£ç¡®
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ­£åœ¨æµ‹è¯•é‚®ç®±: <span class="hljs-subst">{email}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"SMTPæœåŠ¡å™¨: <span class="hljs-subst">{smtp_server}</span>:<span class="hljs-subst">{smtp_port}</span>"</span>)
        
        <span class="hljs-comment"># è¿æ¥SMTPæœåŠ¡å™¨</span>
        server = smtplib.SMTP(smtp_server, smtp_port)
        server.starttls()
        
        <span class="hljs-comment"># å°è¯•ç™»å½•</span>
        server.login(email, auth_code)
        server.quit()
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æˆæƒç éªŒè¯æˆåŠŸï¼"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        
    <span class="hljs-keyword">except</span> smtplib.SMTPAuthenticationError:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æˆæƒç éªŒè¯å¤±è´¥ï¼è¯·æ£€æŸ¥ï¼š"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"   1. æˆæƒç æ˜¯å¦æ­£ç¡®"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"   2. æ˜¯å¦å·²å¼€å¯SMTPæœåŠ¡"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"   3. æ˜¯å¦ä½¿ç”¨äº†é‚®ç®±å¯†ç è€Œéæˆæƒç "</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ è¿æ¥å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># å¸¸ç”¨é‚®ç®±SMTPé…ç½®</span>
    email_configs = {
        <span class="hljs-string">'qq'</span>: (<span class="hljs-string">'smtp.qq.com'</span>, <span class="hljs-number">587</span>),
        <span class="hljs-string">'163'</span>: (<span class="hljs-string">'smtp.163.com'</span>, <span class="hljs-number">25</span>),
        <span class="hljs-string">'gmail'</span>: (<span class="hljs-string">'smtp.gmail.com'</span>, <span class="hljs-number">587</span>),
        <span class="hljs-string">'outlook'</span>: (<span class="hljs-string">'smtp-mail.outlook.com'</span>, <span class="hljs-number">587</span>),
        <span class="hljs-string">'wechat'</span>: (<span class="hljs-string">'smtp.exmail.qq.com'</span>, <span class="hljs-number">587</span>)
    }
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== é‚®ç®±æˆæƒç æµ‹è¯•å·¥å…· ===\n"</span>)
    
    email_type = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·é€‰æ‹©é‚®ç®±ç±»å‹ (qq/163/gmail/outlook/wechat): "</span>).lower()
    
    <span class="hljs-keyword">if</span> email_type <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> email_configs:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„é‚®ç®±ç±»å‹"</span>)
        exit(<span class="hljs-number">1</span>)
    
    email = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥é‚®ç®±åœ°å€: "</span>)
    auth_code = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æˆæƒç : "</span>)
    
    smtp_server, smtp_port = email_configs[email_type]
    test_email_auth(smtp_server, smtp_port, email, auth_code)
</code></pre>
<h2 data-id="heading-10">ä½¿ç”¨æ–¹å¼</h2>
<h3 data-id="heading-11">1. ç¯å¢ƒå‡†å¤‡</h3>
<p>é¦–å…ˆç¡®ä¿å®‰è£…äº†å¿…è¦çš„ Python ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install requests
</code></pre>
<h3 data-id="heading-12">2. é…ç½®æ•æ„Ÿä¿¡æ¯</h3>
<p>å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ç®¡ç†æ•æ„Ÿä¿¡æ¯ï¼Œä¸è¦ç¡¬ç¼–ç åœ¨è„šæœ¬ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">export</span> PGYER_API_KEY=<span class="hljs-string">"your_api_key"</span>
<span class="hljs-built_in">export</span> PGYER_USER_KEY=<span class="hljs-string">"your_user_key"</span>
<span class="hljs-built_in">export</span> SENDER_EMAIL=<span class="hljs-string">"your_email@example.com"</span>
<span class="hljs-built_in">export</span> SENDER_PASSWORD=<span class="hljs-string">"your_auth_code"</span>
<span class="hljs-built_in">export</span> SMTP_SERVER=<span class="hljs-string">"smtp.exmail.qq.com"</span>
<span class="hljs-built_in">export</span> SMTP_PORT=<span class="hljs-string">"587"</span>
</code></pre>
<h3 data-id="heading-13">3. æ‰§è¡Œæ„å»º</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ python è„šæœ¬ç›®å½•</span>
<span class="hljs-built_in">cd</span> python

<span class="hljs-comment"># æ‰§è¡Œæ„å»ºè„šæœ¬</span>
python3 build_app.py
</code></pre>
<p>è„šæœ¬ä¼šä¾æ¬¡æç¤ºï¼š</p>
<ol>
<li>é€‰æ‹©ç¯å¢ƒï¼ˆdev/prodï¼‰</li>
<li>æ˜¯å¦å‘é€é‚®ä»¶é€šçŸ¥</li>
<li>è¾“å…¥æµ‹è¯•å†…å®¹</li>
<li>æ˜¯å¦ä¸Šä¼ åˆ° App Storeï¼ˆä»…ç”Ÿäº§ç¯å¢ƒï¼‰</li>
</ol>
<h3 data-id="heading-14">4. æ¸…ç† iOS æ„å»ºç¯å¢ƒ</h3>
<p>å½“é‡åˆ° iOS æ„å»ºé—®é¢˜æ—¶ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python3 force_clean_ios.py
</code></pre>
<h2 data-id="heading-15">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-16">1. æ•æ„Ÿä¿¡æ¯ç®¡ç†</h3>
<ul>
<li>ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨ API Keyã€å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯</li>
<li>ä¸è¦å°†æ•æ„Ÿä¿¡æ¯æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶</li>
<li>å¯ä»¥ä½¿ç”¨ <code>.env</code> æ–‡ä»¶é…åˆ <code>python-dotenv</code> åº“</li>
</ul>
<h3 data-id="heading-17">2. é”™è¯¯å¤„ç†</h3>
<ul>
<li>æ¯ä¸ªå…³é”®æ­¥éª¤éƒ½æ·»åŠ  try-except å¤„ç†</li>
<li>æ„å»ºå¤±è´¥æ—¶è¾“å‡ºè¯¦ç»†é”™è¯¯ä¿¡æ¯</li>
<li>è®°å½•æ—¥å¿—ä¾¿äºé—®é¢˜æ’æŸ¥</li>
</ul>
<h3 data-id="heading-18">3. é‚®ä»¶å‘é€ç­–ç•¥</h3>
<ul>
<li>ç¾¤å‘é‚®ä»¶æ—¶æ·»åŠ é€‚å½“å»¶è¿Ÿï¼Œé¿å…è¢«æœåŠ¡å™¨é™åˆ¶</li>
<li>ä½¿ç”¨ BCC æ–¹å¼ä¿æŠ¤æ”¶ä»¶äººéšç§</li>
<li>åˆ†æ‰¹å‘é€å¤§é‡é‚®ä»¶</li>
</ul>
<h3 data-id="heading-19">4. æ„å»ºä¼˜åŒ–</h3>
<ul>
<li>ä½¿ç”¨ <code>--obfuscate</code> å‚æ•°è¿›è¡Œä»£ç æ··æ·†</li>
<li>ä½¿ç”¨ <code>--split-debug-info</code> åˆ†ç¦»è°ƒè¯•ä¿¡æ¯</li>
<li>æ ¹æ®ç¯å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶</li>
</ul>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>é€šè¿‡ Python è„šæœ¬å®ç° Flutter é¡¹ç›®çš„è‡ªåŠ¨åŒ–æ„å»ºï¼Œå¯ä»¥æ˜¾è‘—æé«˜å¼€å‘æ•ˆç‡ï¼š</p>
<ol>
<li><strong>ä¸€é”®å®Œæˆ</strong>ï¼šæ„å»ºã€ä¸Šä¼ ã€é€šçŸ¥å…¨æµç¨‹è‡ªåŠ¨åŒ–</li>
<li><strong>å‡å°‘å‡ºé”™</strong>ï¼šé¿å…æ‰‹åŠ¨æ“ä½œå¸¦æ¥çš„å¤±è¯¯</li>
<li><strong>èŠ‚çœæ—¶é—´</strong>ï¼šæ„å»ºæœŸé—´å¯ä»¥ä¸“æ³¨äºå…¶ä»–å·¥ä½œ</li>
<li><strong>è§„èŒƒæµç¨‹</strong>ï¼šç»Ÿä¸€çš„æ„å»ºå’Œå‘å¸ƒæµç¨‹</li>
</ol>
<p>è¿™å¥—è„šæœ¬å·²ç»åœ¨æˆ‘ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ•ˆæœè‰¯å¥½ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹æœ‰ç±»ä¼¼éœ€æ±‚çš„å¼€å‘è€…æœ‰æ‰€å¸®åŠ©ã€‚</p>
<hr/>
<p><strong>ç›¸å…³æŠ€æœ¯æ ˆï¼š</strong></p>
<ul>
<li>Python 3.x</li>
<li>Flutter + FVM</li>
<li>è’²å…¬è‹±æµ‹è¯•å¹³å°</li>
<li>SMTP é‚®ä»¶æœåŠ¡</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Google AI proè¢«å–æ¶ˆè®¢é˜…å¦‚ä½•æ¢å¤ï¼ŒGemini Proè®¢é˜…è¢«å–æ¶ˆæ€ä¹ˆåŠï¼Ÿä¸€ä¸ªåŠæ³•æ•™ä½ é‡æ–°æ¢å¤AI proæƒç›Šï¼]]></title>    <link>https://juejin.cn/post/7602082590731829284</link>    <guid>https://juejin.cn/post/7602082590731829284</guid>    <pubDate>2026-02-02T08:39:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602082590731829284" data-draft-id="7602057555452411958" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Google AI proè¢«å–æ¶ˆè®¢é˜…å¦‚ä½•æ¢å¤ï¼ŒGemini Proè®¢é˜…è¢«å–æ¶ˆæ€ä¹ˆåŠï¼Ÿä¸€ä¸ªåŠæ³•æ•™ä½ é‡æ–°æ¢å¤AI proæƒç›Šï¼"/> <meta itemprop="keywords" content="Gemini"/> <meta itemprop="datePublished" content="2026-02-02T08:39:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Macçš„å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2958128164897127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Google AI proè¢«å–æ¶ˆè®¢é˜…å¦‚ä½•æ¢å¤ï¼ŒGemini Proè®¢é˜…è¢«å–æ¶ˆæ€ä¹ˆåŠï¼Ÿä¸€ä¸ªåŠæ³•æ•™ä½ é‡æ–°æ¢å¤AI proæƒç›Šï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2958128164897127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Macçš„å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:39:34.000Z" title="Mon Feb 02 2026 08:39:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘è°·æ­Œå¼€å§‹â€œå¤§æ¸…æ´—â€ï¼Œå¾ˆå¤šä¹‹å‰ç”¨å­¦ç”Ÿæ•™è‚²ä¼˜æƒ é¢†å–çš„Google AI Proéƒ½æ‰äº†ã€‚å¦‚æœä½ çš„è´¦å·æ”¶åˆ°â€œä½ çš„Google AI proè®¢é˜…å·²åˆ°æœŸ éœ€é‡æ–°è®¢é˜…â€ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯åœ¨æ¸…æ´—åå•å†…ã€‚ç›®å‰æµ·å†…å¤–åŒ…æ‹¬åœ¨ç¾ç•™å­¦ç”Ÿéƒ½æœ‰å‡ºç°Proè®¢é˜…è¢«è°·æ­Œå–æ¶ˆçš„æƒ…å†µã€‚æ— è®ºæ˜¯æœ‰æ²¡æœ‰ç»‘å®šçš„è™šæ‹Ÿå¡è¿˜æ˜¯è‡ªç”¨çš„å®ä½“å¡éƒ½å‡ºç°è¢«Googleæ— æƒ…å–æ¶ˆAI Proæƒç›Šçš„æƒ…å†µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6153926e12f548f8857925395c06a665~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=mta8trlTNSGLgOvdBwLYL436Y%2B0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d2341f9b3ff4a19b6e3ea2a19f7f598~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=m1ZL5Mn0b2Sy%2BX5pVjKJhg36pFc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/627d7563721f4ac18f31c85fa705862b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=CtpZ4tpwG1GF4J%2BUhlHTQLlxbds%3D" alt="" loading="lazy"/></p>
<p>æœ‰å¯èƒ½æ˜¯ä½ ç”¨çš„å­¦ç”Ÿæ•™è‚²ä¼˜æƒ ä¿¡æ¯è¢«æ£€æµ‹æ˜¯å‡çš„ï¼Œä¹Ÿæœ‰å¯èƒ½ä½ çš„ç»‘å¡æ˜¯ç”¨çš„è™šæ‹Ÿå¡ç»‘å®šçš„å¤šä¸ªï¼Œå†æœ‰å¯èƒ½å°±æ˜¯ä½ çš„å¸¸ç”¨IPè¢«æ£€æµ‹åˆ°æ˜¯åœ¨å›½å†…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2df10d6cc7449beb1a335db87b092e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=6ziK%2FVwnRJFqk3n2rWy4Cx%2B08eE%3D" alt="" loading="lazy"/></p>
<p>æ€»ä¹‹ï¼Œåªè¦è¢«è°·æ­Œæ£€æµ‹å‡ºæ¥ä½ ä¸æ˜¯çœŸæ­£çš„ç¾å›½å­¦ç”Ÿï¼Œä½ çš„AI proå°±è¦è¢«å–æ¶ˆè®¢é˜…ã€‚</p>
<p>ä»Šå¤©æ¥ç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªè¢«å–æ¶ˆè®¢é˜…åè¿˜èƒ½å…è´¹ç™½å«–AI proçš„æ–¹æ³•ï¼Œæœ‰éœ€è¦çš„æŠ“ç´§è·Ÿæˆ‘ä¸€èµ·æ¥çœ‹çœ‹å§ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/691817886fbb4278b45ec45a247f7b17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=J0NWwFhNvmewTsr%2FGp%2Ff13LgK6g%3D" alt="" loading="lazy"/></p>
<p><strong>å¼€å¯è°·æ­Œå®¶åº­ç»„ï¼Œå…­äººå…±äº«AI proæƒç›Š</strong></p>
<p>è™½ç„¶å¤§éƒ¨åˆ†çš„proæƒç›Šè¢«å–æ¶ˆäº†ï¼Œä½†è¿˜æ˜¯æœ‰å¾ˆå¤šæ¼ç½‘ä¹‹é±¼çš„ï¼Œæˆ‘çš„ä¸»å·å°±å¾ˆç¨³å®šï¼Œç°åœ¨è¿˜èƒ½ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cae0a3aac2744d70b55d61fecb235eac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=c%2B%2FF1YocXYZ6V%2FG7Bxc2fRnQnYs%3D" alt="" loading="lazy"/></p>
<p>ä¸‰ä¸ªå°å·çš„proéƒ½æ‰äº†ï¼Œæˆ‘ç”¨äº†ä¸‹é¢çš„åŠæ³•ï¼Œè®©æˆ‘çš„ä¸‰ä¸ªå°å·å…¨éƒ¨å¤æ´»ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e55fcadda2442bb94e7df0d0f932346~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=Ru4vXOwkuhN3otPZxLCWtX8Q4RY%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ çš„è´¦å·å·²ç»æ‹¥æœ‰äº†ä¸€å¹´çš„AI proï¼Œå¯ä»¥åˆ›å»ºå®¶åº­ç»„å…±äº«ï¼Œé‚€è¯·äº”ä½å®¶åº­æˆå‘˜å…±äº«ä½ çš„AI proæƒç›Šï¼ˆåŒ…å«æ‰€æœ‰çš„AIé¢åº¦ç­‰æƒç›Šï¼‰ï¼ŒåŠ ä¸Šä¸»å·å…±è®¡å…­ä½æˆå‘˜ã€‚å¦‚æœæ²¡æœ‰AI Proçš„å·å¯ä»¥å°è¯•åœ¨å…¬ä¼—å·ï¼š<strong>Macçš„å®éªŒå®¤</strong> åå°å›å¤ <strong>è°·æ­Œ</strong> è·å–æœ€æ–°çš„å®å¡è®¢é˜…å·ï¼Œå¯ä»¥é€šè¿‡å®¶åº­ç»„çš„æ–¹å¼ä¸Šè½¦æ¢å¤åŸæ¥çš„AI Proæƒç›Šï¼</p>
<p>æˆ‘äº²æµ‹å‡ ä¸ªå°å·æ‰äº†proæƒç›Šï¼Œç”¨è¿™ä¸ªåŠæ³•å°†ä»–ä»¬é‡æ–°å¤æ´»äº†~</p>
<p>å³ä½¿åè¾¹éƒ½æ²¡æœ‰äº†å­¦ç”Ÿä¼˜æƒ é¢†å–çš„proï¼Œä¹Ÿæ˜¯å¯ä»¥é è¿™ä¸ªåŠæ³•æ­£è§„å¼€é€šproæ‹¼è½¦å…±äº«AI proæƒç›Šã€‚</p>
<p><strong>å¼€å¯è°·æ­Œå®¶åº­ç»„æ“ä½œå¦‚ä¸‹ï¼š</strong></p>
<p>1ã€åœ¨æµè§ˆå™¨ç™»å½•ä½ çš„æ‹¥æœ‰proè´¦å·çš„Gmailï¼Œç‚¹å‡»é‚®ç®±ï¼Œç®¡ç†ä½ çš„Googleè´¦å·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9471537e5d2428dac56962cf96f5559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=9FD1BYaVySEjCuTQsmMMdU3%2Foi8%3D" alt="" loading="lazy"/></p>
<p>2ã€åœ¨æ‰“å¼€çš„é¡µé¢ä¸­å·¦ä¾§æ‰¾åˆ°â€œç”¨æˆ·ä¸åˆ†äº«â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7569b0087c8847558aa2932339d5d0a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=Bb2GVgNJbyWytwMq1r%2F6%2FCVllrY%3D" alt="" loading="lazy"/></p>
<p>3ã€ç‚¹å‡»â€œå¼€å§‹ä½¿ç”¨â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8762904b6904ce5a767a360a5d241c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=YzNK4mmjrAyt6cGh2DSNtDddnG8%3D" alt="" loading="lazy"/></p>
<p>4ã€â€œåˆ›å»ºå®¶åº­ç¾¤ç»„â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/317813c8e321461f87aff8bc84f6b860~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=2QGMFFA9RYgWL5m0e5LtU3m8p8M%3D" alt="" loading="lazy"/></p>
<p>5ã€ç¡®è®¤æˆä¸ºç®¡ç†å‘˜</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37041f051a4c4d939b0a23ecf6012cf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=GCyKV7bztsihjniOVCAIoSJBWy0%3D" alt="" loading="lazy"/></p>
<p>6ã€é‚€è¯·å…¶å®ƒè´¦å·åŠ å…¥å³å¯ï¼Œæœ€å¤šäº”ä¸ªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38fb78daace84f75a62984aeef617751~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=LJ5jpvJR%2Ft0DCyjloQE6fgoXOrU%3D" alt="" loading="lazy"/></p>
<p>7ã€è¢«é‚€è¯·çš„æœ‹å‹éœ€è¦åœ¨é‚®ä»¶ä¸­æ¥å—ä¸€ä¸‹é‚€è¯·æ‰å¯ä»¥åŠ å…¥</p>
<p>8ã€è¯·è®°å¾—æ‰“å¼€Google oneæƒç›Šåˆ†äº«</p>
<p>é¦–å…ˆç‚¹å‡»å®¶åº­ç»„ï¼Œç‚¹å‡»æ‰“å¼€Google oneå¼€å§‹åˆ†äº«</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/787cc9c2c3f04915aabd1da2228feae4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=a5EJubjeR8JFPYLRi71Mb6FdJKQ%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»è®¢é˜…ç®¡ç†ï¼Œç‚¹å‡»ç®¡ç†å®¶åº­ç»„è®¾ç½®æ‰“å¼€ä¸å®¶äººå…±äº«Google oneæƒç›Š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0091d1749b7b43afb1b16c8216e626b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=H3xIQ6QLgMgYpJlj5D38Jt3YsUs%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨ä½ é‚€è¯·çš„äº”ä¸ªè´¦å·éƒ½å¯ä»¥å…±äº«å¤§å·çš„Google oneçš„å…¨éƒ¨æƒç›Šï¼Œç›¸å½“äºå…­ä¸ªè´¦å·åŒæ—¶æ‹¥æœ‰Google AI proï¼Œç•…ç”¨AIæ¨¡å‹æƒç›Šï¼</p>
<p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<p>éƒ¨åˆ†å­è´¦å·åŠ å…¥å®¶åº­ç»„æ—¶ä¼šæ˜¾ç¤ºï¼Œç”±äºä¸é‚€è¯·çš„äººä¸åœ¨åŒä¸€å›½å®¶å’Œåœ°åŒºæ— æ³•åŠ å…¥å®¶åº­ç¾¤ç»„ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c269478273ba4177b7f3a064cc37c75e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=opotVRJNWxOzjb8d%2BbcSdcFX9oE%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªéœ€è¦ç¡®è®¤åˆ†äº«äººç»‘å®šçš„ä¿¡ç”¨å¡åœ¨å“ªä¸ªã€Œåœ°åŒºã€ï¼Œç„¶åè®©æˆå‘˜å°†è‡ªå·±çš„Gmailå…³è”åœ°åŒºä¿®æ”¹è¿‡æ¥å’Œå…¶ä¿æŒä¸€è‡´ï¼Œç„¶åå†åŠ å…¥è¯•è¯•ï¼Œå¦‚æœå†ä¸è¡Œå°±åªèƒ½æ›´æ¢å…¶å®ƒè´¦å·åŠ å…¥äº†ã€‚</p>
<p>1ã€è®¿é—®ä¸‹é¢åœ°å€æŸ¥è¯¢è´¦å·å…³è”åœ°</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fpolicies.google.com%2Fterms" target="_blank" title="https://link.zhihu.com/?target=https%3A//policies.google.com/terms" ref="nofollow noopener noreferrer">policies.google.com/terms</a></p>
<p>2ã€è®¿é—®ä¸‹é¢åœ°å€ä¿®æ”¹å…³è”åœ°åŒºã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fpolicies.google.com%2Fcountry-association-form" target="_blank" title="https://link.zhihu.com/?target=https%3A//policies.google.com/country-association-form" ref="nofollow noopener noreferrer">policies.google.com/country-assâ€¦</a></p>
<p>å¥½äº†ï¼Œæœ¬æœŸçš„åˆ†äº«å°±åˆ°è¿™é‡Œæˆ‘ä»¬ä¸‹æœŸå†è§ï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤š<strong>æœ€æ–°AIç›¸å…³èµ„è®¯ã€AIæç¤ºè¯ã€AIå°æ•™ç¨‹</strong>å¯å…³æ³¨å…¬ä¼—å·ï¼šMacçš„å®éªŒå®¤ äº¤æµè®¨è®ºå“¦</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16f3cc173a3a4625b83f48616d7f7e84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626377&amp;x-signature=l2tnFGlT1pD%2FXrXJpnlHwUXna7I%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClaw 101 ä¸Šçº¿å•¦ï¼7 å¤©ä» 0 è·‘åˆ°è‡ªåŠ¨åŒ–ï¼ˆ35+ æ•™ç¨‹å·²æ•´ç†ï¼‰]]></title>    <link>https://juejin.cn/post/7602057555452444726</link>    <guid>https://juejin.cn/post/7602057555452444726</guid>    <pubDate>2026-02-02T08:46:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602057555452444726" data-draft-id="7602059064522047531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClaw 101 ä¸Šçº¿å•¦ï¼7 å¤©ä» 0 è·‘åˆ°è‡ªåŠ¨åŒ–ï¼ˆ35+ æ•™ç¨‹å·²æ•´ç†ï¼‰"/> <meta itemprop="keywords" content="AIGC,Agent,OpenAI"/> <meta itemprop="datePublished" content="2026-02-02T08:46:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClaw 101 ä¸Šçº¿å•¦ï¼7 å¤©ä» 0 è·‘åˆ°è‡ªåŠ¨åŒ–ï¼ˆ35+ æ•™ç¨‹å·²æ•´ç†ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:46:03.000Z" title="Mon Feb 02 2026 08:46:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p>é€šè¿‡è¿‘ä¸¤å¤©å’Œå¤§å®¶åœ¨ç¾¤é‡Œçš„äº¤æµï¼Œæˆ‘å‘ç°æ–°æ‰‹çš„ç—›ç‚¹å¾ˆé›†ä¸­ï¼š</p>
<ol>
<li>
<p><strong>æ•™ç¨‹ç¢ç‰‡åŒ–</strong>ï¼šé˜¿é‡Œäº‘/è…¾è®¯äº‘/DO/B ç«™/åšå®¢/Redditâ€¦åˆ°å¤„éƒ½æœ‰ï¼Œä½†ç‰ˆæœ¬å’Œç»†èŠ‚ä¸ä¸€è‡´ã€‚</p>
</li>
<li>
<p><strong>å…³é”®è·¯å¾„ä¸æ¸…æ™°</strong>ï¼š â€œæˆ‘åˆ°åº•å…ˆåšä»€ä¹ˆï¼Ÿâ€ â€œè£…å®Œä¹‹åæ€ä¹ˆæ¥å…¥ Telegramï¼Ÿâ€ â€œæŠ€èƒ½è£…å®Œæ€ä¹ˆè®©å®ƒè‡ªå·±è·‘ï¼Ÿâ€</p>
</li>
<li>
<p><strong>è¸©å‘æˆæœ¬é«˜</strong>ï¼šå‘½ä»¤å˜æ›´ï¼ˆclawdâ†’openclawï¼‰ã€é…ç½®é¡¹è¿ç§»ã€ä¸åŒå¹³å°æ¥å…¥å·®å¼‚â€¦â€¦æ–°æ‰‹å¾ˆå®¹æ˜“å¡ä½ã€‚</p>
</li>
</ol>
<p>æ‰€ä»¥æˆ‘åšäº†ä¸€ä¸ªç«™ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33a292cbfd9e4bd69f8c1843db2be6db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626762&amp;x-signature=uI3BQDBTtiicxS5%2BH42iO3xZ92Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">OpenClaw 101ï¼šä¸€ä¸ªå…¥å£ + ä¸€æ¡è·¯çº¿</h2>
<p>ç½‘å€ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2F" target="_blank" title="https://openclaw101.dev/" ref="nofollow noopener noreferrer">openclaw101.dev</a></strong></p>
<p>ä½ ä¼šçœ‹åˆ°ä¸¤å—æ ¸å¿ƒï¼š</p>
<h3 data-id="heading-1">1ï¼‰35+ ç¯‡ç²¾é€‰æ•™ç¨‹èµ„æºï¼ˆä¸­è‹±æ–‡èšåˆï¼‰</h3>
<p>ä»å®˜æ–¹æ–‡æ¡£åˆ°äº‘å¹³å°ä¸€é”®éƒ¨ç½²ï¼Œä»è§†é¢‘æ•™ç¨‹åˆ°æ·±åº¦æ–‡ç« ï¼Œæˆ‘æŠŠâ€œå€¼å¾—çœ‹â€çš„å…ˆç­›æ‰ä¸€è½®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eade440171044abb41327dde310ca92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626762&amp;x-signature=d08NIiJDSNd7LAItC3%2FTSjW1xxk%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ä½ å¯ä»¥æŠŠå®ƒå½“æˆã€ŒOpenClaw æ–°æ‰‹å¯¼èˆªç«™ã€ã€‚</p>
</blockquote>
<h3 data-id="heading-2">2ï¼‰7 å¤©å­¦ä¹ è·¯å¾„ï¼ˆä» 0 åˆ°è‡ªåŠ¨åŒ–ï¼‰</h3>
<p>æœ€é‡è¦çš„æ˜¯ï¼š<strong>ä¸ç”¨å†è‡ªå·±æ‹¼è·¯çº¿å›¾</strong>ã€‚</p>
<p><strong>Day1-2ï¼šå…ˆè·‘èµ·æ¥</strong>ï¼ˆå®‰è£…/éƒ¨ç½²/ç¬¬ä¸€æ¬¡å¯¹è¯ï¼‰</p>
<p><strong>Day3ï¼šæŠŠå®ƒæ¥åˆ°ä½ å¸¸ç”¨çš„å¹³å°</strong>ï¼ˆTelegram/Discord/é£ä¹¦â€¦ï¼‰</p>
<p><strong>Day4ï¼šå®šåˆ¶ä½ çš„åŠ©ç†äººè®¾</strong>ï¼ˆæ€§æ ¼ã€è¯­æ°”ã€è¾¹ç•Œï¼‰</p>
<p><strong>Day5ï¼šè£…æŠ€èƒ½</strong>ï¼ˆé‚®ç®±/æ—¥å†/SEO/ä»£ç /å†…å®¹â€¦ï¼‰</p>
<p><strong>Day6ï¼šè‡ªåŠ¨åŒ–</strong>ï¼ˆCron/æé†’/å¿ƒè·³ï¼Œè®©å®ƒè‡ªå·±å¹²æ´»ï¼‰</p>
<p><strong>Day7ï¼šè¿›é˜¶</strong>ï¼ˆå¤š Agentã€æµè§ˆå™¨ã€Node è”åŠ¨ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5c1ce4addd84af89a8a676a2496fa6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626762&amp;x-signature=da55TvkQa%2F4LOAZO7CvKY7KQyJM%3D" alt="" loading="lazy"/></p>
<p>å¯¹åº”çš„ã€Œé£ä¹¦ 7 å¤©æŒ‡å—ã€åœ¨è¿™é‡Œï¼ˆå›¾æ–‡æ›´ç»†ï¼‰ï¼š</p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmy.feishu.cn%2Fwiki%2FYkWgwqSchi9xW3kEuZscAm0lnFf" target="_blank" title="https://my.feishu.cn/wiki/YkWgwqSchi9xW3kEuZscAm0lnFf" ref="nofollow noopener noreferrer">å°å¢¨ AI åŠ©æ‰‹ â€” OpenClaw 7å¤©æ­å»ºæŒ‡å—</a></strong></p>
<hr/>
<h2 data-id="heading-3">ç»™æ–°æ‰‹çš„â€œæœ€å¿«ä¸Šæ‰‹æ³•â€ï¼ˆç…§åšå°±è¡Œï¼‰</h2>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ OpenClawï¼Œæˆ‘å»ºè®®ä½ æŒ‰è¿™ä¸ªèŠ‚å¥ï¼š</p>
<h3 data-id="heading-4">Step 1ï¼šåˆ«è¿½æ±‚å®Œç¾ï¼Œå…ˆè·‘èµ·æ¥</h3>
<p>ç›®æ ‡æ˜¯ï¼š<strong>10 åˆ†é’Ÿå†…å®Œæˆâ€œç¬¬ä¸€æ¬¡å¯¹è¯â€</strong>ã€‚</p>
<h3 data-id="heading-5">Step 2ï¼šåªé€‰ä¸€ä¸ªå…¥å£å¹³å°</h3>
<p>æ–°æ‰‹æœ€å¸¸è§çš„é”™è¯¯ï¼šåŒæ—¶æŠ˜è…¾ Telegram + Discord + é£ä¹¦ã€‚</p>
<p>å»ºè®®ï¼š<strong>å…ˆ</strong> <strong>Telegram</strong>ï¼ˆæœ€é¡ºæ»‘ï¼‰ï¼Œè·‘é€šå†æ‰©å±•ã€‚</p>
<h3 data-id="heading-6">Step 3ï¼šå…ˆè£… 3 ä¸ªé«˜é¢‘æŠ€èƒ½</h3>
<p>åˆ«ä¸Šæ¥å°±è£… 50 ä¸ªã€‚</p>
<p>å»ºè®®å…¥é—¨ä¸‰ä»¶å¥—ï¼š</p>
<ul>
<li>
<p>é‚®ç®±/æ—¥å†ï¼ˆæŠŠâ€œæé†’â€è·‘èµ·æ¥ï¼‰</p>
</li>
<li>
<p>æµè§ˆå™¨ï¼ˆèƒ½â€œçœ‹ç½‘é¡µâ€æ‰åƒåŠ©ç†ï¼‰</p>
</li>
<li>
<p>TODO/ä»»åŠ¡ï¼ˆèƒ½â€œè®°äº‹â€æ‰æœ‰ä»·å€¼ï¼‰</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸ºä»€ä¹ˆæˆ‘è§‰å¾—â€œå¯¼èˆªç«™â€æ¯”â€œå†™ä¸€ç¯‡æ•™ç¨‹â€æ›´é‡è¦ï¼Ÿ</h2>
<p>å› ä¸º OpenClaw è¿™ä¸ªç”Ÿæ€ä¼šè¶Šæ¥è¶Šå¿«ï¼š</p>
<ul>
<li>
<p>å‘½ä»¤ã€å®‰è£…æ–¹å¼ä¼šå˜</p>
</li>
<li>
<p>æŠ€èƒ½å¸‚åœºä¼šå˜</p>
</li>
<li>
<p>ç¤¾åŒºæœ€ä½³å®è·µä¼šå˜</p>
</li>
</ul>
<p><strong>ä½ å†™ä¸€ç¯‡æ•™ç¨‹æ˜¯ä¸€ä¸ªç‚¹ï¼›ä½ åšä¸€ä¸ªå…¥å£å’Œè·¯çº¿å›¾ï¼Œæ˜¯ä¸€ä¸ªé¢ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a921166125f4c2d8e2fae47697f9075~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770626762&amp;x-signature=L2ASxjZz6n6BxFWpvAYoygKlX88%3D" alt="" loading="lazy"/></p>
<p>ç«™ç‚¹å¯ä»¥æŒç»­è¿­ä»£ï¼Œå¤§å®¶ä¹Ÿèƒ½æŒç»­å­¦ä¹ ã€‚</p>
<h2 data-id="heading-8">æœ€åï¼šç»™ä½ ä¸€ä¸ªâ€œä»Šå¤©å°±èƒ½ç”¨ä¸Šâ€çš„åŠ¨ä½œ</h2>
<p><strong>ä»Šå¤©åªåšä¸€ä»¶äº‹ï¼šæ‰“å¼€ Day1ï¼ŒæŠŠ OpenClaw è·‘å‡ºâ€œç¬¬ä¸€æ¬¡å¯¹è¯â€ã€‚</strong></p>
<ul>
<li>
<p>å¯¼èˆªç«™ï¼ˆèµ„æºå…¥å£ + 7 å¤©æ¸¸ç¨‹ï¼‰ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2F" target="_blank" title="https://openclaw101.dev/" ref="nofollow noopener noreferrer">openclaw101.dev</a></strong></p>
</li>
<li>
<p>é£ä¹¦ 7 å¤©æ¸¸ç¨‹ï¼ˆå›¾æ–‡æ­¥éª¤æ›´ç»†ï¼‰ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmy.feishu.cn%2Fwiki%2FYkWgwqSchi9xW3kEuZscAm0lnFf" target="_blank" title="https://my.feishu.cn/wiki/YkWgwqSchi9xW3kEuZscAm0lnFf" ref="nofollow noopener noreferrer">å°å¢¨ AI åŠ©æ‰‹ â€” OpenClaw 7å¤©æ­å»ºæŒ‡å—</a></strong></p>
</li>
</ul>
<p>è·‘èµ·æ¥ä¹‹åï¼Œä½ ä¼šå‘ç°åé¢çš„äº‹éƒ½å˜ç®€å•äº†ã€‚</p>
<h3 data-id="heading-9">æˆ‘æƒ³å¬å¬ä½ çš„çœŸå®å¡ç‚¹</h3>
<p>ä½ ç°åœ¨æœ€å¡åœ¨å“ªä¸€æ­¥ï¼Ÿï¼ˆå› 1/2/3/4 å°±è¡Œï¼‰</p>
<ol>
<li>
<p>å®‰è£…/éƒ¨ç½²</p>
</li>
<li>
<p>æ¥å…¥ Telegram/é£ä¹¦</p>
</li>
<li>
<p>æŠ€èƒ½æ€ä¹ˆé€‰ã€æ€ä¹ˆç”¨</p>
</li>
<li>
<p>è‡ªåŠ¨åŒ–ï¼ˆCron/æé†’/å¿ƒè·³ï¼‰</p>
</li>
</ol>
<p>æˆ‘ä¼šæŒ‰è¯„è®ºé‡Œæœ€å¤šçš„é‚£ä¸ªæ–¹å‘ï¼ŒæŠŠä¸‹ä¸€ç¯‡å†™å¾—æ›´ç»†ã€æ›´èƒ½ç…§æŠ„ã€‚</p>
<hr/>
<p>æƒ³çœ‹æ›´å¤šå¹²è´§ï¼Ÿæ¬¢è¿å…³æ³¨æˆ‘ï¼Œä¸ªäººç®€ä»‹æœ‰å®Œæ•´èµ„æºæ±‡æ€» ğŸ“‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®å·¥ç¨‹æŒ‡å—ï¼šæŒ‡æ ‡å¹³å°é€‰å‹é¿å‘ä¸ NoETL è¯­ä¹‰ç¼–ç»‡æŠ€æœ¯è§£æ]]></title>    <link>https://juejin.cn/post/7601904641069121588</link>    <guid>https://juejin.cn/post/7601904641069121588</guid>    <pubDate>2026-02-02T08:49:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601904641069121588" data-draft-id="7601819608656658472" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®å·¥ç¨‹æŒ‡å—ï¼šæŒ‡æ ‡å¹³å°é€‰å‹é¿å‘ä¸ NoETL è¯­ä¹‰ç¼–ç»‡æŠ€æœ¯è§£æ"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ"/> <meta itemprop="datePublished" content="2026-02-02T08:49:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aloudataå¤§åº”ç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/1579340474099927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®å·¥ç¨‹æŒ‡å—ï¼šæŒ‡æ ‡å¹³å°é€‰å‹é¿å‘ä¸ NoETL è¯­ä¹‰ç¼–ç»‡æŠ€æœ¯è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1579340474099927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aloudataå¤§åº”ç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:49:42.000Z" title="Mon Feb 02 2026 08:49:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡é¦–å‘äº Aloudata å®˜æ–¹æŠ€æœ¯åšå®¢ï¼š<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">ã€ŠæŒ‡æ ‡å¹³å°é€‰å‹é¿å‘æŒ‡å—ï¼šæ•°æ®è´Ÿè´£äººå¿…çœ‹ï¼Œå¦‚ä½•æ ¹æ²»å£å¾„ä¹±ã€å“åº”æ…¢ã€æˆæœ¬è´µã€‹</a>è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</blockquote>
<p>æ‘˜è¦ï¼šæœ¬æ–‡é¢å‘æ•°æ®æ¶æ„å¸ˆä¸æ•°æ®è´Ÿè´£äººï¼Œæ·±åº¦å‰–ææŒ‡æ ‡å¹³å°é€‰å‹ä¸­â€œå£å¾„ä¹±ã€å“åº”æ…¢ã€æˆæœ¬è´µâ€ä¸‰å¤§æ ¸å¿ƒçŸ­æ¿çš„æŠ€æœ¯æ ¹å› ä¸éšæ€§æˆæœ¬ã€‚é‡ç‚¹è§£æ Aloudata CAN å¦‚ä½•é€šè¿‡Â NoETL è¯­ä¹‰ç¼–ç»‡æŠ€æœ¯æ„å»ºç»Ÿä¸€è¯­ä¹‰å±‚ï¼Œå®ç°â€œå®šä¹‰å³å¼€å‘ã€å®šä¹‰å³æ²»ç†ã€å®šä¹‰å³æœåŠ¡â€ï¼Œä»è€Œæ ¹æ²»ä¼ ç»Ÿé¡½ç–¾ï¼Œå¹¶æä¾›ä¸€å¥—ç»“åˆé‡åŒ–æˆæ•ˆçš„é€‰å‹å†³ç­–è¯„ä¼°æ¡†æ¶ã€‚</p>
<h2 data-id="heading-0">å¼•è¨€ï¼šæŒ‡æ ‡å¹³å°é€‰å‹ï¼Œä¸ºä½•æ€»åœ¨â€œä¸å¯èƒ½ä¸‰è§’â€ä¸­å¦¥åï¼Ÿ</h2>
<p>â€œå…¨çƒè‡³å°‘æœ‰ 80% çš„å·¥ä¸šæ•°æ®ä¾ç„¶è¢«é”åœ¨å„è‡ªçš„å­¤å²›ï¼Œå¦‚æœè¿™äº›æ²‰ç¡çš„æ•°æ®è¢«å”¤é†’å’Œæ‰“é€šï¼Œå¦‚æœéšè—å…¶ä¸­çš„è§„å¾‹è¢«ç®—æ³•ç…§äº®ï¼Œå°†ä¼šä¸ºäº§ä¸šå‡çº§é‡Šæ”¾å‡ºå·¨å¤§ä»·å€¼ã€‚â€ â€”â€” æŸå®¶ç”µåˆ¶é€ ä¸šå…¨çƒæ‰§è¡Œå‰¯æ€»è£</p>
<p>è¿™ä¸ä»…æ˜¯åˆ¶é€ ä¸šçš„å›°å¢ƒï¼Œæ›´æ˜¯æ‰€æœ‰æ•°æ®é©±åŠ¨å‹ä¼ä¸šçš„ç¼©å½±ã€‚æ•°æ®è´Ÿè´£äººåœ¨é€‰å‹æ—¶ï¼Œæ™®éé¢ä¸´ä¸€ä¸ªæ®‹é…·çš„â€œæ•°æ®åˆ†æä¸å¯èƒ½ä¸‰è§’â€ï¼šå£å¾„ç»Ÿä¸€ã€æ•æ·å“åº”ã€æˆæœ¬å¯æ§ï¼Œä¸‰è€…éš¾ä»¥å…¼å¾—ã€‚</p>
<p>å…¶æ ¹æºåœ¨äºä¼ ç»Ÿâ€œæ•°ä»“+BIâ€æ¨¡å¼çš„æ¶æ„ç“¶é¢ˆï¼š</p>
<ul>
<li>å£å¾„ç»Ÿä¸€ï¼šä¾èµ–äººå·¥åœ¨ç‰©ç†å®½è¡¨ï¼ˆDWS/ADSï¼‰ä¸Šå®šä¹‰æŒ‡æ ‡ï¼Œä¸åŒæŠ¥è¡¨ã€ä¸åŒ BI å·¥å…·é—´åŒåä¸åŒä¹‰ï¼Œå¯¼è‡´å†³ç­–ä¾æ®æ··ä¹±ã€‚</li>
<li>æ•æ·å“åº”ï¼šä¸€ä¸ªåˆ†æéœ€æ±‚éœ€ç»å†â€œéœ€æ±‚æ²Ÿé€š â†’ ETL å¼€å‘æ’æœŸ â†’ æµ‹è¯•ä¸Šçº¿â€çš„æ¼«é•¿é“¾è·¯ï¼ŒåŠ¨è¾„æ•°å‘¨ï¼Œæ— æ³•æ»¡è¶³ä¸šåŠ¡å¿«é€Ÿå†³ç­–ã€‚</li>
<li>æˆæœ¬å¯æ§ï¼šä¸ºæ»¡è¶³å±‚å‡ºä¸ç©·çš„æŠ¥è¡¨éœ€æ±‚ï¼Œæ•°æ®å›¢é˜Ÿé‡å¤å»ºè®¾å¤§é‡å®½è¡¨å’Œæ±‡æ€»è¡¨ï¼Œå¯¼è‡´å­˜å‚¨å’Œè®¡ç®—èµ„æºï¼ˆTCOï¼‰æ€¥å‰§è†¨èƒ€ã€‚</li>
</ul>
<p>å½“ä¼ä¸šè¯•å›¾é€šè¿‡â€œä¸Šçº¿æŠ¥è¡¨å¹³å°â€æˆ–éƒ¨ç½²â€œé™æ€å…ƒæ•°æ®ç›®å½•â€æ¥è§£å†³é—®é¢˜æ—¶ï¼Œå¾€å¾€å‘ç°æŠ•äº§æ¯”è¿œä½äºé¢„æœŸï¼Œæ•°æ®æ²»ç†é™·å…¥â€œå«å¥½ä¸å«åº§â€çš„å°´å°¬å¢ƒåœ°ã€‚é—®é¢˜çš„æœ¬è´¨åœ¨äºï¼Œä¼ ç»Ÿçš„â€œç‰©ç†å»ºæ¨¡â€èŒƒå¼ï¼Œå·²æ— æ³•åº”å¯¹ä¸šåŠ¡çµæ´»å¤šå˜çš„åˆ†æéœ€æ±‚ã€‚</p>
<h2 data-id="heading-1">å†³ç­–è¯„ä¼°ç¬¬ä¸€æ­¥ï¼šè¯†åˆ«ä¸‰ç±»æ ¸å¿ƒçŸ­æ¿åŠå…¶éšæ€§æˆæœ¬</h2>
<p>é€‰å‹å¤±è¯¯çš„ä»£ä»·å·¨å¤§ã€‚æ ¹æ® ITä¹‹å®¶å¯¹æ•°æ®æ²»ç†å¹³å°çš„æµ‹è¯„ï¼Œä¼ä¸šæ ¸å¿ƒç—›ç‚¹èšç„¦äºâ€œæ•°æ®å‰²è£‚ã€æ•°æ®ä¸å¯ä¿¡ã€æ•°æ®éš¾å¤ç”¨â€ã€‚æ˜ å°„åˆ°æŒ‡æ ‡å¹³å°é¢†åŸŸï¼Œåˆ™å…·ä½“è¡¨ç°ä¸ºä»¥ä¸‹ä¸‰ç±»çŸ­æ¿ï¼Œå…¶éšæ€§æˆæœ¬è¿œè¶…è½¯ä»¶é‡‡è´­è´¹ç”¨æœ¬èº«ã€‚</p>





























<table><thead><tr><th>æ ¸å¿ƒçŸ­æ¿</th><th>ä¸šåŠ¡è¡¨ç°</th><th>æŠ€æœ¯æ ¹å› </th><th>éšæ€§æˆæœ¬</th></tr></thead><tbody><tr><td>å£å¾„ä¹±</td><td>ä¸šåŠ¡ä¸ ITã€éƒ¨é—¨ä¸éƒ¨é—¨é—´å¯¹åŒä¸€æŒ‡æ ‡ï¼ˆå¦‚â€œæ´»è·ƒç”¨æˆ·â€ã€â€œæ¯›åˆ©ç‡â€ï¼‰å®šä¹‰ä¸ä¸€è‡´ï¼Œä¼šè®®æ²¦ä¸ºâ€œæ•°æ®è¾©è®ºä¼šâ€ã€‚</td><td>æŒ‡æ ‡å®šä¹‰ä¸ç‰©ç†å®½è¡¨å¼ºè€¦åˆï¼Œç¼ºä¹ä¼ä¸šçº§å”¯ä¸€è¯­ä¹‰å®šä¹‰å±‚ã€‚</td><td>å†³ç­–å¤±è¯¯é£é™©ã€è·¨éƒ¨é—¨åä½œå†…è€—ã€æ•°æ®ä¿¡ä»»ä½“ç³»å´©å¡Œã€‚</td></tr><tr><td>å“åº”æ…¢</td><td>ä¸šåŠ¡ä¸€ä¸ªç®€å•çš„â€œæŒ‰æ–°ç»´åº¦çœ‹æ•°â€éœ€æ±‚ï¼Œéœ€è¦æ’æœŸ 2-3 å‘¨ç­‰å¾… ETL å¼€å‘ï¼Œé”™å¤±å¸‚åœºæ—¶æœºã€‚</td><td>åˆ†æè·¯å¾„è¢«é¢„å»ºçš„ç‰©ç†å®½è¡¨å›ºåŒ–ï¼Œä»»ä½•å˜æ›´éƒ½éœ€è¦åº•å±‚æ•°æ®å¼€å‘ã€‚</td><td>ä¸šåŠ¡æ•æ·æ€§ä¸§å¤±ã€åˆ†æå¸ˆäº§èƒ½é—²ç½®ã€åˆ›æ–°è¯•é”™æˆæœ¬é«˜æ˜‚ã€‚</td></tr><tr><td>æˆæœ¬è´µ</td><td>æ•°æ®ä»“åº“ä¸­å……æ–¥ç€å¤§é‡å­—æ®µç›¸ä¼¼ã€é€»è¾‘é›·åŒçš„å®½è¡¨ï¼Œå­˜å‚¨å’Œè®¡ç®—è´¹ç”¨å±…é«˜ä¸ä¸‹ï¼Œä¸”éš¾ä»¥æ²»ç†ã€‚</td><td>â€œçƒŸå›±å¼â€å¼€å‘æ¨¡å¼ï¼Œä¸ºæ¯ä¸ªæŠ¥è¡¨éœ€æ±‚å•ç‹¬å»ºè¡¨ï¼Œç¼ºä¹è·¨éœ€æ±‚çš„æ™ºèƒ½å¤ç”¨æœºåˆ¶ã€‚</td><td>åŸºç¡€è®¾æ–½ TCO æŒç»­æ”€å‡ï¼Œèµ„æºåˆ©ç”¨ç‡ä½ä¸‹ï¼ŒæŠ€æœ¯å€ºæ—¥ç›Šæ²‰é‡ã€‚</td></tr></tbody></table>
<h2 data-id="heading-2">çŸ­æ¿ä¸€ï¼šæ ¹æ²»â€œå£å¾„ä¹±â€â€”â€”ä»é™æ€ç›®å½•åˆ°åŠ¨æ€è¯­ä¹‰å¼•æ“</h2>
<p>ä¼ ç»ŸæŒ‡æ ‡å¹³å°æˆ– BI å†…ç½®çš„æŒ‡æ ‡æ¨¡å—ï¼Œæœ¬è´¨æ˜¯é™æ€çš„å…ƒæ•°æ®ç›®å½•ï¼ˆCatalogï¼‰ã€‚å®ƒä»¬ä»…è®°å½•â€œæŒ‡æ ‡ A æ¥è‡ªå®½è¡¨ B çš„å­—æ®µ Câ€ï¼Œä½†æ— æ³•ä¿è¯å½“ä¸šåŠ¡é€»è¾‘å˜åŒ–æ—¶ï¼Œæ‰€æœ‰å¼•ç”¨è¯¥æŒ‡æ ‡çš„åœ°æ–¹èƒ½åŒæ­¥æ›´æ–°ã€‚æŒ‡æ ‡å£å¾„ä¾èµ–äººå·¥æ²»ç†å’Œæ²Ÿé€šï¼Œææ˜“å‡ºç°åå·®ã€‚</p>
<p>Aloudata CAN çš„æ ¹æ²»æ–¹æ¡ˆï¼šæ„å»ºç»Ÿä¸€è¯­ä¹‰å±‚ï¼ˆè™šæ‹Ÿä¸šåŠ¡äº‹å®ç½‘ç»œï¼‰</p>
<p>å…¶æ ¸å¿ƒæ˜¯å¼•å…¥ä¸€ä¸ªä¸ç‰©ç†å­˜å‚¨è§£è€¦çš„è¯­ä¹‰å¼•æ“ã€‚æ•°æ®å›¢é˜Ÿæ— éœ€é¢„å…ˆç‰©ç†æ‰“å®½ï¼Œåªéœ€åœ¨ Aloudata CAN ä¸­é€šè¿‡å£°æ˜å¼ç­–ç•¥ï¼ŒåŸºäº DWD æ˜ç»†æ•°æ®å®šä¹‰ä¸šåŠ¡å®ä½“ï¼ˆå¦‚è¡¨ï¼‰ä¹‹é—´çš„é€»è¾‘å…³è”ï¼ˆJoinï¼‰ã€‚ç³»ç»Ÿæ®æ­¤åœ¨é€»è¾‘å±‚é¢æ„å»ºä¸€ä¸ªâ€œè™šæ‹Ÿæ˜ç»†å¤§å®½è¡¨â€æˆ–â€œè™šæ‹Ÿä¸šåŠ¡äº‹å®ç½‘ç»œâ€ã€‚</p>
<ul>
<li>å®šä¹‰å³æ²»ç†ï¼šå½“ä¸šåŠ¡äººå‘˜éœ€è¦å®šä¹‰æ–°æŒ‡æ ‡ï¼ˆå¦‚â€œè¿‘ 30 å¤©é«˜å‡€å€¼å®¢æˆ·äº¤æ˜“é‡‘é¢â€ï¼‰æ—¶ï¼Œç›´æ¥åœ¨è¯­ä¹‰å±‚é…ç½®â€œåŸºç¡€åº¦é‡ï¼ˆäº¤æ˜“é‡‘é¢ï¼‰â€ã€â€œä¸šåŠ¡é™å®šï¼ˆå®¢æˆ·æ ‡ç­¾=é«˜å‡€å€¼ï¼‰â€ã€â€œç»Ÿè®¡å‘¨æœŸï¼ˆè¿‘30å¤©ï¼‰â€ã€‚ç³»ç»Ÿåœ¨åˆ›å»ºæ—¶ä¼šè‡ªåŠ¨è¿›è¡Œåˆ¤é‡æ ¡éªŒï¼Œç¡®ä¿å…¨å¹³å°å£å¾„å”¯ä¸€ã€‚</li>
<li>å¤æ‚æŒ‡æ ‡è¡¨è¾¾èƒ½åŠ›ï¼šæ”¯æŒå¤šå±‚åµŒå¥—èšåˆã€æŒ‡æ ‡è½¬æ ‡ç­¾ï¼ˆå¦‚â€œä¸Šæœˆäº¤æ˜“é‡&gt;0çš„ç”¨æˆ·â€ï¼‰ã€è‡ªå®šä¹‰æ—¥å†ï¼ˆå¦‚â€œè¿‘5ä¸ªäº¤æ˜“æ—¥â€ï¼‰ç­‰å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œé€šè¿‡é…ç½®è€Œéç¼–ç å®ç°ã€‚</li>
</ul>
<p>æƒå¨èƒŒä¹¦ï¼šæŸå¤´éƒ¨åˆ¸å•†ï¼ˆå¹³å®‰è¯åˆ¸ï¼‰åœ¨è½åœ° Aloudata CAN åï¼Œå®ç°äº†å…¨å…¬å¸Â 100%Â çš„æŒ‡æ ‡å£å¾„ä¸€è‡´ï¼Œå½»åº•æ¶ˆé™¤äº†å› æ•°æ®å®šä¹‰åˆ†æ­§å¯¼è‡´çš„å†³ç­–äº‰è®®ã€‚</p>
<h2 data-id="heading-3">çŸ­æ¿äºŒï¼šæ ¹æ²»â€œå“åº”æ…¢â€â€”â€”ä»äººå·¥ ETL åˆ°è‡ªåŠ¨åŒ–æŒ‡æ ‡ç”Ÿäº§</h2>
<p>åœ¨ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œå“åº”æ…¢çš„ç—‡ç»“åœ¨äºâ€œç‰©ç†å®ç°â€çš„å¼ºä¾èµ–ã€‚æ¯ä¸€ä¸ªæ–°çš„åˆ†æç»´åº¦ç»„åˆï¼Œéƒ½å¯èƒ½æ„å‘³ç€ä¸€æ¬¡æ–°çš„ ETL ä»»åŠ¡å¼€å‘ã€æµ‹è¯•å’Œä¸Šçº¿ï¼Œå‘¨æœŸä»¥â€œå¤©â€æˆ–â€œå‘¨â€è®¡ã€‚</p>
<p>Aloudata CAN çš„æ ¹æ²»æ–¹æ¡ˆï¼šå£°æ˜å¼æŒ‡æ ‡å®šä¹‰ + æ™ºèƒ½ç‰©åŒ–åŠ é€Ÿå¼•æ“</p>
<ol>
<li>å£°æ˜å¼å®šä¹‰ï¼Œåˆ†é’Ÿçº§äº¤ä»˜ï¼šä¸šåŠ¡åˆ†æå¸ˆæˆ–æ•°æ®äº§å“ç»ç†åœ¨ç»Ÿä¸€çš„è¯­ä¹‰å±‚ä¸­ï¼Œé€šè¿‡æ‹–æ‹½å’Œé…ç½®å³å¯å®Œæˆæ–°æŒ‡æ ‡æˆ–æ–°åˆ†æè§†è§’çš„å®šä¹‰ã€‚ç³»ç»Ÿè‡ªåŠ¨å°†å…¶ç¿»è¯‘ä¸ºä¼˜åŒ–çš„ SQL æŸ¥è¯¢é€»è¾‘ï¼Œå®ç°â€œå®šä¹‰å³å¼€å‘â€ï¼Œå°†éœ€æ±‚å“åº”æ—¶é—´ä»æ•°å‘¨ç¼©çŸ­è‡³åˆ†é’Ÿçº§ã€‚</li>
<li>æ™ºèƒ½ç‰©åŒ–ï¼Œç§’çº§å“åº”ï¼šå¯¹äºé«˜é¢‘æˆ–é‡è¦çš„æŸ¥è¯¢ï¼Œç®¡ç†å‘˜å¯ä»¥åŸºäºå£°æ˜å¼ç­–ç•¥é…ç½®ç‰©åŒ–åŠ é€Ÿä»»åŠ¡ï¼ˆå¦‚â€œå°†â€˜é”€å”®é¢æŒ‰çœä»½å’Œå“ç±»â€™çš„æ—¥æ±‡æ€»ç»“æœæå‰è®¡ç®—â€ï¼‰ã€‚ç³»ç»Ÿè‡ªåŠ¨ç¼–æ’å’Œç»´æŠ¤è¿™äº›ç‰©åŒ–è§†å›¾ã€‚</li>
<li>é€æ˜è·¯ç”±ï¼Œæ€§èƒ½ä¿éšœï¼šå½“ç”¨æˆ·å‘èµ·æŸ¥è¯¢æ—¶ï¼Œè¯­ä¹‰å¼•æ“ä¼šè‡ªåŠ¨è¿›è¡Œ SQL æ”¹å†™ï¼Œå¹¶æ™ºèƒ½è·¯ç”±åˆ°æœ€ä¼˜çš„ç‰©åŒ–ç»“æœä¸Šï¼Œå®ç°â€œç©ºé—´æ¢æ—¶é—´â€ã€‚åœ¨ç™¾äº¿çº§æ•°æ®è§„æ¨¡ä¸‹ï¼Œå¯ä¿éšœ P90 å“åº”æ—¶é—´ &lt;1 ç§’ï¼ŒP95 &lt;3 ç§’ã€‚</li>
</ol>
<p>æƒå¨èƒŒä¹¦ï¼šæŸæ±½è½¦ä¼ä¸šåº”ç”¨åï¼ŒæŒ‡æ ‡å¼€å‘æ•ˆç‡ä»åŸæ¥çš„Â 1 å¤© 3.1 ä¸ªÂ æå‡è‡³Â 1 å¤© 40 ä¸ªï¼Œæ•ˆç‡æå‡çº¦Â 13 å€ï¼Œæœ‰åŠ›æ”¯æ’‘äº†å…¶å¤šå¹³å°ï¼ˆBIã€åˆ†æå¹³å°ã€AIï¼‰çš„æŒ‡æ ‡æœåŠ¡éœ€æ±‚ã€‚</p>
<h2 data-id="heading-4">çŸ­æ¿ä¸‰ï¼šæ ¹æ²»â€œæˆæœ¬è´µâ€â€”â€”ä»é‡å¤å»ºè¡¨åˆ°åšè½»æ•°ä»“</h2>
<p>æˆæœ¬é«˜çš„æœ¬è´¨æ˜¯æ•°æ®èµ„äº§çš„â€œé‡å¤å»ºè®¾â€å’Œâ€œä½æ•ˆå¤ç”¨â€ã€‚å¤§é‡è®¡ç®—å’Œå­˜å‚¨èµ„æºæ¶ˆè€—åœ¨ç»´æŠ¤é€»è¾‘ç›¸ä¼¼ã€ç”Ÿå‘½å‘¨æœŸçŸ­æš‚çš„ä¸­é—´è¡¨ä¸Šã€‚</p>
<p>Aloudata CAN çš„æ ¹æ²»æ–¹æ¡ˆï¼šåŸºäºæ˜ç»†å±‚å®šä¹‰ï¼Œæ™ºèƒ½å¤ç”¨ç‰©åŒ–ç»“æœ</p>
<ul>
<li>åšè½»æ•°ä»“ï¼šAloudata CAN å€¡å¯¼ç›´æ¥åŸºäº DWD æ˜ç»†å±‚å®šä¹‰æŒ‡æ ‡ï¼Œæ— éœ€å»ºè®¾ç¹é‡çš„ DWS/ADS ç‰©ç†å®½è¡¨å±‚ã€‚è¿™ä»æºå¤´ä¸Šéåˆ¶äº†å®½è¡¨çš„æ— åºè†¨èƒ€ã€‚</li>
<li>æ™ºèƒ½å¤ç”¨ï¼šå…¶æ™ºèƒ½ç‰©åŒ–åŠ é€Ÿå¼•æ“å…·å¤‡è‡ªåŠ¨åˆ¤é‡èƒ½åŠ›ã€‚å½“å¤šä¸ªæŒ‡æ ‡æˆ–æŸ¥è¯¢è¯·æ±‚å…±äº«ç›¸åŒçš„è®¡ç®—é€»è¾‘å’Œç»´åº¦ç²’åº¦æ—¶ï¼Œç³»ç»Ÿåªä¼šç”Ÿæˆå’Œç»´æŠ¤ä¸€ä»½ç‰©åŒ–ç»“æœï¼Œå¹¶è¢«æ‰€æœ‰ç›¸å…³æŸ¥è¯¢æ™ºèƒ½å¤ç”¨ã€‚</li>
<li>æˆæœ¬å¯è§†åŒ–ï¼šå¹³å°æ¸…æ™°å±•ç¤ºè¯­ä¹‰èµ„äº§å’Œç‰©åŒ–èµ„äº§çš„ä½¿ç”¨é¢‘ç‡ä¸èµ„æºæ¶ˆè€—ï¼Œè¾…åŠ©ç®¡ç†å‘˜ä¼˜åŒ–ç‰©åŒ–ç­–ç•¥ï¼Œå®ç°ç²¾ç»†åŒ–çš„æˆæœ¬æ²»ç†ã€‚</li>
</ul>
<p>å®é™…å®¢æˆ·æ•°æ®æ˜¾ç¤ºï¼Œé€šè¿‡ä¸Šè¿°æœºåˆ¶ï¼Œå¯æœ‰æ•ˆå‡å°‘Â 70%Â ä»¥ä¸Šçš„æŒ‡æ ‡å¼€å‘ç»´æŠ¤æˆæœ¬ï¼Œæ•´ä½“åŸºç¡€è®¾æ–½æˆæœ¬ï¼ˆTCOï¼‰èŠ‚çº¦å¯è¾¾Â 50%ï¼Œå¹¶é‡Šæ”¾è¶…è¿‡Â 1/3Â çš„æœåŠ¡å™¨èµ„æºã€‚</p>
<h2 data-id="heading-5">é€‰å‹å†³ç­–çŸ©é˜µï¼šå¦‚ä½•è¯„ä¼°å¹³å°æ˜¯å¦çœŸæ­£â€œæ ¹æ²»â€çŸ­æ¿ï¼Ÿ</h2>
<p>å‚è€ƒ ITä¹‹å®¶æå‡ºçš„ä¼ä¸šé€‰å‹äº”æ­¥æŒ‡å—ï¼ˆæ˜ç¡®éœ€æ±‚ã€æŠ€æœ¯é€‚é…ã€åä½œæ•ˆç‡ã€ç”Ÿæ€å…¼å®¹ï¼‰ï¼Œå¹¶ç»“åˆæŒ‡æ ‡å¹³å°ç‰¹æ€§ï¼Œæˆ‘ä»¬æç‚¼å‡ºä»¥ä¸‹å››ä¸ªæ ¸å¿ƒè¯„ä¼°ç»´åº¦ï¼Œå¸®åŠ©æ‚¨ç©¿é€è¥é”€è¯æœ¯ï¼Œç›´å‡»æœ¬è´¨ã€‚</p>



































<table><thead><tr><th>è¯„ä¼°ç»´åº¦</th><th>å…³é”®é—®é¢˜</th><th>ä¼ ç»Ÿæ–¹æ¡ˆ / é™æ€ç›®å½•å‹å¹³å°</th><th>Aloudata CAN NoETL æŒ‡æ ‡å¹³å°</th></tr></thead><tbody><tr><td>æœ¬è´¨å®šä½</td><td>å¹³å°æ˜¯â€œè®°å½•è€…â€è¿˜æ˜¯â€œè®¡ç®—è€…â€ï¼ŸæŒ‡æ ‡å®šä¹‰æ˜¯å¦ä¸ç‰©ç†è¡¨å¼ºç»‘å®šï¼Ÿ</td><td>é™æ€å…ƒæ•°æ®ç›®å½•ï¼šä»…è®°å½•æŒ‡æ ‡å‡ºå¤„ï¼Œä¾èµ–åº•å±‚å·²å­˜åœ¨çš„ç‰©ç†å®½è¡¨ã€‚</td><td>åŠ¨æ€è¯­ä¹‰è®¡ç®—å¼•æ“ï¼šåœ¨é€»è¾‘è¯­ä¹‰å±‚å®šä¹‰æŒ‡æ ‡ï¼Œç›´æ¥åŸºäº DWD æ˜ç»†æ•°æ®åŠ¨æ€è®¡ç®—ï¼Œæ— éœ€é¢„å»ºå®½è¡¨ã€‚</td></tr><tr><td>æŠ€æœ¯æ¶æ„</td><td>å¦‚ä½•å¹³è¡¡çµæ´»æ€§ä¸æ€§èƒ½ï¼Ÿèƒ½å¦æ”¯æŒå¤æ‚ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚ç•™å­˜ç‡ã€æŒ‡æ ‡è½¬æ ‡ç­¾ï¼‰ï¼Ÿ</td><td>çµæ´»æ€§å·®ï¼šåˆ†æè·¯å¾„å—é™äºé¢„å»ºå®½è¡¨ã€‚æ€§èƒ½ä¾èµ–äººå·¥ä¼˜åŒ–ï¼šéœ€ DBA æ‰‹åŠ¨åˆ›å»ºç´¢å¼•ã€æ±‡æ€»è¡¨ã€‚</td><td>å£°æ˜å¼ç‰©åŒ–åŠ é€Ÿï¼šåŸºäºç­–ç•¥è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ç‰©åŒ–è§†å›¾ï¼ŒæŸ¥è¯¢æ—¶æ™ºèƒ½è·¯ç”±ã€‚åŸç”Ÿå¤æ‚æŒ‡æ ‡ï¼šæ”¯æŒå¤šå±‚èšåˆã€è‡ªå®šä¹‰å‘¨æœŸç­‰ã€‚</td></tr><tr><td>å¼€æ”¾ç”Ÿæ€</td><td>æŒ‡æ ‡èƒ½å¦ä½œä¸ºç»Ÿä¸€èµ„äº§æœåŠ¡å…¨ä¼ä¸šï¼Ÿæ˜¯å¦ä¸ç°æœ‰æŠ€æœ¯æ ˆè§£è€¦ï¼Ÿ</td><td>å°é—­æˆ–ç»‘å®šï¼šBI å†…ç½®æŒ‡æ ‡é”å®šç‰¹å®šå‰ç«¯ï¼›éƒ¨åˆ†å¹³å°ä¸ç‰¹å®šäº‘æˆ–æ•°ä»“æ·±åº¦ç»‘å®šã€‚</td><td>Headless å¼€æ”¾åŸºåº§ï¼šé€šè¿‡æ ‡å‡† APIã€JDBC å‘ä»»ä½• BIã€AIã€ä¸šåŠ¡ç³»ç»Ÿæä¾›ç»Ÿä¸€æŒ‡æ ‡æœåŠ¡ã€‚ä¸åº•å±‚æ•°æ®æ¹–ä»“è§£è€¦ã€‚</td></tr><tr><td>AI é€‚é…</td><td>å¹³å°æ˜¯å¦ä¸º AI å’Œå¤§æ¨¡å‹æä¾›äº†é«˜è´¨é‡ã€å¯ç†è§£ã€å®‰å…¨çš„æ•°æ®æ¥å£ï¼Ÿ</td><td>éš¾ä»¥é€‚é…ï¼šAI éœ€ç›´æ¥é¢å¯¹æ‚ä¹±ç‰©ç†è¡¨ï¼Œå¹»è§‰é£é™©é«˜ï¼Œå®‰å…¨ç®¡æ§éš¾ã€‚</td><td>AI-Ready åŸç”Ÿè®¾è®¡ï¼šNL2MQL2SQLæ¶æ„æ ¹æ²»å¹»è§‰ï¼›è¯­ä¹‰çŸ¥è¯†å›¾è°±èµ‹èƒ½ RAGï¼›æ ‡å‡†åŒ– Function CallingÂ æä¾›æŒ‡æ ‡å½’å› ç­‰é«˜çº§èƒ½åŠ›ï¼›å†…ç½® AI è®¿é—®æ§åˆ¶å±‚ã€‚</td></tr></tbody></table>
<h2 data-id="heading-6">è¡ŒåŠ¨æŒ‡å—ï¼šä»é€‰å‹åˆ°è½åœ°çš„â€œä¸‰æ­¥èµ°â€èµ„äº§æ¼”è¿›ç­–ç•¥</h2>
<p>é€‰æ‹©æ­£ç¡®çš„å¹³å°åï¼Œå¹³ç¨³è½åœ°æ˜¯å…³é”®ã€‚æˆ‘ä»¬æ¨èé‡‡ç”¨æ¸è¿›å¼çš„â€œä¸‰æ­¥èµ°â€æŠ€æœ¯ç­–ç•¥ï¼Œæœ€å°åŒ–è¿ç§»é£é™©ï¼Œæœ€å¤§åŒ–æŠ•èµ„å›æŠ¥ã€‚</p>
<ol>
<li>å­˜é‡æŒ‚è½½ï¼šå°†é€»è¾‘æˆç†Ÿã€è´¨é‡ç¨³å®šã€æŸ¥è¯¢æ€§èƒ½å°šå¯çš„ç°æœ‰å®½è¡¨ï¼Œç›´æ¥æŒ‚è½½åˆ° Aloudata CAN çš„è¯­ä¹‰å±‚ã€‚é›¶å¼€å‘æˆæœ¬ï¼Œå³å¯å®ç°è¿™äº›å†å²èµ„äº§å£å¾„çš„ç»Ÿä¸€ç®¡ç†å’Œå¯¹å¤–æœåŠ¡ã€‚</li>
<li>å¢é‡åŸç”Ÿï¼šæ‰€æœ‰æ–°äº§ç”Ÿçš„åˆ†æéœ€æ±‚ï¼Œä¸å†èµ°ä¼ ç»Ÿ ETL å»ºå®½è¡¨çš„è€è·¯ã€‚ç›´æ¥åŸºäº DWD æ˜ç»†æ•°æ®ï¼Œåœ¨ Aloudata CAN çš„è¯­ä¹‰å±‚ä¸­è¿›è¡Œé…ç½®åŒ–å®šä¹‰å’Œå¼€å‘ï¼Œæ•æ·å“åº”ä¸šåŠ¡ã€‚</li>
<li>å­˜é‡æ›¿æ—§ï¼šéšç€æ–°æ¨¡å¼çš„ç¨³å®šè¿è¡Œï¼Œé€æ­¥è¯„ä¼°å¹¶ä¸‹çº¿é‚£äº›ç»´æŠ¤æˆæœ¬é«˜ã€é€»è¾‘å˜æ›´é¢‘ç¹ã€èµ„æºæ¶ˆè€—å·¨å¤§çš„â€œåŒ…è¢±å‹â€æ—§å®½è¡¨ï¼Œå°†å…¶é€»è¾‘è¿ç§»è‡³è¯­ä¹‰å±‚ï¼Œå®Œæˆæ¶æ„çš„å½»åº•ä¼˜åŒ–ã€‚</li>
</ol>
<h2 data-id="heading-7">FAQ</h2>
<h4 data-id="heading-8">Q1: æŒ‡æ ‡å¹³å°å’Œ BI å·¥å…·è‡ªå¸¦çš„æŒ‡æ ‡åŠŸèƒ½æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p>BI å†…ç½®æŒ‡æ ‡åŠŸèƒ½æ—¨åœ¨å¢å¼ºç‰¹å®š BI å·¥å…·çš„ç²˜æ€§ï¼ŒæŒ‡æ ‡è¢«é”å®šåœ¨è¯¥å‰ç«¯ï¼Œä¸”ä¸åŒ BI å·¥å…·é—´çš„æŒ‡æ ‡å£å¾„æ˜“ä¸ä¸€è‡´ã€‚Aloudata CAN ä½œä¸ºä¸­ç«‹çš„ Headless æŒ‡æ ‡åŸºåº§ï¼Œé€šè¿‡æ ‡å‡† API/JDBC æä¾›å…¨ä¼ä¸šç»Ÿä¸€çš„æŒ‡æ ‡æœåŠ¡ï¼Œç¡®ä¿ä¸€å¤„å®šä¹‰ã€å¤„å¤„ä¸€è‡´ï¼Œå¹¶æ”¯æŒå‘ä»»æ„æ¶ˆè´¹ç«¯ï¼ˆBIã€AIã€ä¸šåŠ¡ç³»ç»Ÿï¼‰å¼€æ”¾ã€‚</p>
<h4 data-id="heading-9">Q2: å¼•å…¥æ–°çš„æŒ‡æ ‡å¹³å°ï¼Œå¦‚ä½•ä¸æˆ‘ä»¬ç°æœ‰çš„æ•°æ®ä»“åº“é›†æˆï¼Ÿ</h4>
<p>Aloudata CAN è®¾è®¡ä¸ºä¸ç°æœ‰æ•°æ®æ¹–ä»“è§£è€¦çš„è¯­ä¹‰å±‚ã€‚å®ƒé€šè¿‡æ ‡å‡†è¿æ¥å™¨å¯¹æ¥åº•å±‚ DWD æ˜ç»†æ•°æ®ï¼Œæ— éœ€æ”¹å˜åŸæœ‰å­˜å‚¨å’Œè®¡ç®—å¼•æ“ã€‚å®é™…å®¢æˆ·å·²éªŒè¯å…¶ä¸ä¸»æµæ•°æ®æ¹–ä»“çš„è‰¯å¥½å…¼å®¹æ€§ï¼Œå®ç°å¿«é€Ÿè½åœ°ã€‚</p>
<h4 data-id="heading-10">Q3: å¦‚ä½•é‡åŒ–æŒ‡æ ‡å¹³å°å¸¦æ¥çš„ ROIï¼ˆæŠ•èµ„å›æŠ¥ç‡ï¼‰ï¼Ÿ</h4>
<p>ROI å¯ä»ä¸‰ä¸ªç»´åº¦é‡åŒ–ï¼šæŠ€æœ¯é™æœ¬ï¼ˆå‡å°‘å®½è¡¨å¼€å‘ã€é‡Šæ”¾æœåŠ¡å™¨èµ„æºï¼‰ã€æ•ˆç‡æå‡ï¼ˆéœ€æ±‚äº¤ä»˜å‘¨æœŸä»å‘¨/å¤©ç¼©çŸ­è‡³åˆ†é’Ÿçº§ï¼‰ã€ä¸šåŠ¡ä»·å€¼ï¼ˆå› å†³ç­–åŠ é€Ÿå’Œå£å¾„ç»Ÿä¸€å¸¦æ¥çš„æ”¶å…¥å¢é•¿æˆ–é£é™©é™ä½ï¼‰ã€‚å‚è€ƒæ¡ˆä¾‹æ˜¾ç¤ºï¼ŒæŒ‡æ ‡å¼€å‘æ•ˆç‡å¯æå‡ 10 å€ä»¥ä¸Šï¼ŒåŸºç¡€è®¾æ–½æˆæœ¬èŠ‚çº¦å¯è¾¾ 50%ã€‚</p>
<h4 data-id="heading-11">Q4: æŒ‡æ ‡å¹³å°å¦‚ä½•æ”¯æŒæœªæ¥çš„ AI åº”ç”¨å’Œå¤§æ¨¡å‹ï¼Ÿ</h4>
<p>Aloudata CAN åŸç”Ÿå…·å¤‡ AI-Ready èƒ½åŠ›ã€‚å…¶è¯­ä¹‰çŸ¥è¯†å›¾è°±ä¸º RAG æä¾›é«˜è´¨é‡ä¸šåŠ¡è¯­å¢ƒï¼›NL2MQL2SQLæ¶æ„å°†è‡ªç„¶è¯­è¨€é—®é¢˜è½¬åŒ–ä¸ºç²¾å‡†çš„æŒ‡æ ‡æŸ¥è¯¢ï¼Œæ ¹æ²»å¤§æ¨¡å‹å¹»è§‰ï¼›æ ‡å‡†åŒ– Function Callingè®© AI èƒ½åƒè°ƒç”¨ API ä¸€æ ·ä½¿ç”¨æŒ‡æ ‡å½’å› ç­‰å¤æ‚èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-12">æ ¸å¿ƒè¦ç‚¹</h2>
<ol>
<li>æ¶æ„èŒƒå¼é©æ–°ï¼šæ ¹æ²»æŒ‡æ ‡é¡½ç–¾çš„å…³é”®ï¼Œæ˜¯ä»â€œç‰©ç†å»ºæ¨¡â€è½¬å‘â€œè¯­ä¹‰å»ºæ¨¡â€ã€‚Aloudata CAN çš„Â NoETL è¯­ä¹‰ç¼–ç»‡æŠ€æœ¯ï¼Œé€šè¿‡æ„å»ºä¸å­˜å‚¨è§£è€¦çš„ç»Ÿä¸€è¯­ä¹‰å±‚ï¼Œå®ç°äº†æŒ‡æ ‡çš„é€»è¾‘å®šä¹‰ä¸ç‰©ç†æ‰§è¡Œçš„åˆ†ç¦»ã€‚</li>
<li>ä¸‰ä½ä¸€ä½“ä»·å€¼ï¼šé€šè¿‡â€œå®šä¹‰å³å¼€å‘ã€å®šä¹‰å³æ²»ç†ã€å®šä¹‰å³æœåŠ¡â€çš„æ ¸å¿ƒç†å¿µï¼ŒåŒæ­¥è§£å†³å£å¾„ä¹±ï¼ˆ100%ä¸€è‡´ï¼‰ã€å“åº”æ…¢ï¼ˆæ•ˆç‡æå‡10å€ï¼‰ã€æˆæœ¬è´µï¼ˆTCOé™ä½50%ï¼‰ä¸‰å¤§æ ¸å¿ƒçŸ­æ¿ï¼Œæ‰“ç ´â€œæ•°æ®åˆ†æä¸å¯èƒ½ä¸‰è§’â€ã€‚</li>
<li>é¢å‘æœªæ¥çš„åº•åº§ï¼šä¸€ä¸ªåˆæ ¼çš„æŒ‡æ ‡å¹³å°ä¸åº”ä»…æ˜¯æŠ¥è¡¨çš„æ”¯æ’‘ï¼Œæ›´åº”æ˜¯Â AI-Ready çš„æ•°æ®åº•åº§ã€‚Aloudata CAN åŸç”Ÿçš„ NL2MQL2SQL æ¶æ„ã€è¯­ä¹‰çŸ¥è¯†å›¾è°±å’Œæ ‡å‡†åŒ– APIï¼Œä¸ºä¼ä¸šå®‰å…¨ã€é«˜æ•ˆåœ°æ‹¥æŠ± AI æä¾›äº†å¿…ç»ä¹‹è·¯ã€‚</li>
</ol>
<hr/>
<p>æœ¬æ–‡é¦–å‘äº Aloudata å®˜æ–¹æŠ€æœ¯åšå®¢ï¼ŒæŸ¥çœ‹æ›´å¤šæŠ€æœ¯ç»†èŠ‚ä¸å®¢æˆ·æ¡ˆä¾‹ï¼Œè¯·è®¿é—®åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.noetl.cn%2Fknowledge-base%2Faloudata-can-cure-core-shortcomings-of-index-platform" target="_blank" title="https://ai.noetl.cn/knowledge-base/aloudata-can-cure-core-shortcomings-of-index-platform" ref="nofollow noopener noreferrer">ai.noetl.cn/knowledge-bâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¨èä¸€ä¸ªåŸºäº Spring Boot 4.0 + Java 21 + Spring AI 2.0 çš„å¤§æ¨¡å‹é¡¹ç›®ï¼]]></title>    <link>https://juejin.cn/post/7601374668961759282</link>    <guid>https://juejin.cn/post/7601374668961759282</guid>    <pubDate>2026-02-01T15:02:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601374668961759282" data-draft-id="7601486204173959218" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¨èä¸€ä¸ªåŸºäº Spring Boot 4.0 + Java 21 + Spring AI 2.0 çš„å¤§æ¨¡å‹é¡¹ç›®ï¼"/> <meta itemprop="keywords" content="åç«¯,Spring Boot"/> <meta itemprop="datePublished" content="2026-02-01T15:02:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¨èä¸€ä¸ªåŸºäº Spring Boot 4.0 + Java 21 + Spring AI 2.0 çš„å¤§æ¨¡å‹é¡¹ç›®ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T15:02:29.000Z" title="Sun Feb 01 2026 15:02:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Guideã€‚ä»Šå¹´å…ƒæ—¦å‡æœŸï¼Œæˆ‘å†™äº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg2OTA0Njk0OA%3D%3D%26mid%3D2247551987%26idx%3D1%26sn%3De80903c2449eb3ad05dc15c7b0877668%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&amp;mid=2247551987&amp;idx=1&amp;sn=e80903c2449eb3ad05dc15c7b0877668&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¤§æ¨¡å‹é¡¹ç›®</a>å¹¶å®Œå…¨å¼€æºäº†å‡ºæ¥ã€‚</p>
<p>çŸ­çŸ­ä¸€ä¸ªæœˆæ—¶é—´ï¼Œè¿™ä¸ªé¡¹ç›®ç›®å‰å°±å·²ç»åœ¨ Github æ”¶è·äº† <strong>450+</strong> Starï¼Œå¸å¼•äº†å¤šä½ç¤¾åŒºçˆ±å¥½è€…å…±åŒå‚ä¸å®Œå–„ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a0d843b28034a7fa454db2fe6f17803~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=PoR9L37sQ0CjMDnATZFNEGzE%2FqA%3D" alt="" loading="lazy"/></p>
<p>å‘å¸ƒä¹‹åï¼Œå¾—ç›Šäºå¤§å®¶çš„å…±åŒè´¡çŒ®ï¼Œæˆ‘ä»¬é¡ºåˆ©å®Œæˆäº†ä¸‹é¢è¿™äº›äº‹æƒ…ï¼š</p>
<ul>
<li><strong>æ·»åŠ  API é™æµä¿æŠ¤</strong>ï¼šåŸºäº Redis+Lua å°è£…åˆ†å¸ƒå¼é™æµç»„ä»¶ï¼Œæ”¯æŒæŒ‰ç”¨æˆ·ã€IP æˆ–å…¨å±€ç»´åº¦çš„ç²¾å‡†æµé‡æ§åˆ¶ï¼Œæœ‰æ•ˆé˜²å¾¡æ¶æ„åˆ·æ¥å£è¡Œä¸ºï¼Œä¿éšœé«˜ä»·å€¼ AI API çš„é…é¢å®‰å…¨ã€‚</li>
<li><strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</strong>ï¼š
<ul>
<li>RAG èŠå¤©ç•Œé¢å¼•å…¥è™šæ‹Ÿåˆ—è¡¨ã€‚</li>
<li>å¼•å…¥æ‡’åŠ è½½å’Œä»£ç åˆ†å‰²ï¼Œè§£å†³äº†é¦–å±åŠ è½½ç¼“æ…¢å’Œ Bundle ä½“ç§¯è¿‡å¤§çš„é—®é¢˜ã€‚</li>
</ul>
</li>
<li><strong>åŠŸèƒ½ä¼˜åŒ–</strong>ï¼š
<ul>
<li>å‘é‡åŠŸèƒ½å’Œ Tika ç®€å†è§£æä¼˜åŒ–ã€‚</li>
<li>å¢åŠ é¢è¯•é—®é¢˜å»é‡åŠŸèƒ½ï¼Œé¿å…é‡å¤æé—®ã€‚</li>
</ul>
</li>
<li><strong>Docker å¿«é€Ÿéƒ¨ç½²</strong>ï¼šé€šè¿‡ Docker Compose ä¸€é”®æ­å»ºåŒ…å«æ•°æ®åº“æ‰©å±•ã€ç¼“å­˜ã€å¯¹è±¡å­˜å‚¨åœ¨å†…çš„å…¨å¥—è¿è¡Œç¯å¢ƒã€‚</li>
<li>...ç­‰ç­‰</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7030274d4b14478a4f78912e129e3fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=G%2B7wQ%2FnASsHA9x8EfFR%2FvWEOjqc%3D" alt="" loading="lazy"/></p>
<p>æˆªæ­¢ç›®å‰ï¼Œæˆ‘å·²ç»ç´¯è®¡å¤„ç† <strong>11</strong> ä¸ª issue å’Œ <strong>6</strong> ä¸ª prï¼ˆå®Œæˆç‡ <strong>100%</strong>ï¼‰ã€‚</p>
<p>å¹¶ä¸”ï¼Œæˆ‘è¿˜é¡ºåˆ©å‘å¸ƒäº†è¿™ä¸ªé¡¹ç›®çš„é…å¥—æ•™ç¨‹ï¼Œä»ç®€å†å†™æ³•ã€é¢è¯•æ‹·æ‰“å’Œæ ¸å¿ƒä¸šåŠ¡å®ç°éƒ½æœ‰ä¿å§†çº§æ•™ç¨‹ã€‚</p>
<h2 data-id="heading-0">é¡¹ç›®ä»‹ç»</h2>
<p>è¿™æ˜¯ä¸€ä¸ªåŸºäº Spring Boot 4.0 + Java 21 + Spring AI 2.0 çš„ AI æ™ºèƒ½é¢è¯•è¾…åŠ©å¹³å°ã€‚ç³»ç»Ÿæä¾›ä¸‰å¤§æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½ç®€å†åˆ†æ</strong>ï¼šä¸Šä¼ ç®€å†åï¼ŒAI è‡ªåŠ¨è¿›è¡Œå¤šç»´åº¦è¯„åˆ†å¹¶ç»™å‡ºæ”¹è¿›å»ºè®®</li>
<li><strong>æ¨¡æ‹Ÿé¢è¯•ç³»ç»Ÿ</strong>ï¼šåŸºäºç®€å†å†…å®¹ç”Ÿæˆä¸ªæ€§åŒ–é¢è¯•é¢˜ï¼Œæ”¯æŒå®æ—¶é—®ç­”å’Œç­”æ¡ˆè¯„ä¼°</li>
<li><strong>RAG çŸ¥è¯†åº“é—®ç­”</strong>ï¼šä¸Šä¼ æŠ€æœ¯æ–‡æ¡£æ„å»ºç§æœ‰çŸ¥è¯†åº“ï¼Œæ”¯æŒå‘é‡æ£€ç´¢å¢å¼ºçš„æ™ºèƒ½é—®ç­”</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73cbb01452b64fef8b1bb832c6dd927d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=v87Nn%2FAT8emhfJ%2FbuIpYWR9kjlI%3D" alt="æ•ˆæœå±•ç¤º" loading="lazy"/></p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š</p>
<ul>
<li>Githubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSnailclimb%2Finterview-guide" target="_blank" title="https://github.com/Snailclimb/interview-guide" ref="nofollow noopener noreferrer">github.com/Snailclimb/â€¦</a></li>
<li>Giteeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2FSnailClimb%2Finterview-guide" target="_blank" title="https://gitee.com/SnailClimb/interview-guide" ref="nofollow noopener noreferrer">gitee.com/SnailClimb/â€¦</a></li>
</ul>
<p>å®Œæ•´ä»£ç å®Œå…¨å…è´¹å¼€æºï¼Œæ²¡æœ‰ Pro ç‰ˆæœ¬æˆ–è€…ä»˜è´¹ç‰ˆï¼</p>
<h2 data-id="heading-1">ç®€å†å†™æ³•</h2>
<p><strong>å¦‚ä½•å°†ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAGçŸ¥è¯†åº“ã€‹å®æˆ˜é¡¹ç›®å†™è¿›ç®€å†ï¼Ÿ</strong> æˆ‘ä¸€å…±æä¾›äº†äº”å¤§æ–¹å‘ç‰ˆæœ¬ä»»é€‰ï¼Œç²¾å‡†åŒ¹é…å²—ä½éœ€æ±‚ï¼š</p>
<ol>
<li><strong>åç«¯æ–¹å‘</strong>ï¼šæä¾›â€œæ¶æ„ä¸åˆ†å¸ƒå¼èƒ½åŠ›ä¾§é‡â€ã€â€œAI åº”ç”¨ä¸å“åº”å¼ç¼–ç¨‹ä¾§é‡â€ã€â€œå·¥ç¨‹åŒ–ä¸åŸºç¡€è®¾æ–½ä¾§é‡â€ä¸‰ä¸ªç‰ˆæœ¬ï¼Œæ— è®ºä½ é¢è¯•çš„æ˜¯åç«¯ã€å¤§æ¨¡å‹åº”ç”¨è¿˜æ˜¯æ¶æ„å²—ä½ï¼Œéƒ½èƒ½æ‰¾åˆ°æœ€åˆé€‚çš„åˆ‡å…¥ç‚¹ã€‚</li>
<li><strong>æµ‹è¯•/æµ‹å¼€æ–¹å‘</strong>ï¼šä¸“é—¨è®¾è®¡äº†â€œå•å…ƒæµ‹è¯•ä¸ TDDâ€ä»¥åŠâ€œåŠŸèƒ½/å¼‚å¸¸åœºæ™¯è¦†ç›–â€ä¸¤ä¸ªç‰ˆæœ¬ï¼Œçªå‡ºæµ‹è¯•å·¥ç¨‹å¸ˆåœ¨ AI è´¨é‡ä¿éšœä¸­çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57177795d95c4ded9365773191222435~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=E1S2IfFCYDqoWIpyeeUXe2p0Tyo%3D" alt="ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAGçŸ¥è¯†åº“ã€‹ç®€å†å†™æ³•" loading="lazy"/></p>
<p>æ¯ä¸€æ¡æè¿°éƒ½ç´§æ‰£é¡¹ç›®çœŸå®é€»è¾‘ï¼Œä¸¥æ ¼éµå®ˆé¡¹ç›®ä»‹ç»è§„èŒƒã€‚ä¸ä»…æ•™ä½ æ€ä¹ˆå†™ï¼Œæ›´æ•™ä½ æ€ä¹ˆè¡¥ï¼Œä¾‹å¦‚é’ˆå¯¹æœ¬é¡¹ç›®æœªæ¶‰åŠçš„â€œç”¨æˆ·è®¤è¯ä¸é‰´æƒâ€ç»™å‡ºè¡¥å……å»ºè®®ï¼Œæ•™ä½ å¦‚ä½•åŸºäº SpringSecurity/Sa-Token åŒ…è£…ä¸»æµçš„è®¤è¯æˆæƒæ–¹æ¡ˆã€‚</p>
<p>å¹¶ä¸”ï¼Œæˆ‘è¿˜è¡¥å……äº†é¢è¯•å®˜å¯æ·±æŒ–çš„æŠ€æœ¯éš¾ç‚¹ï¼ˆå¦‚Redis Stream vs ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—**ã€**åˆ†å¸ƒå¼é™æµçš„å®ç°ç»†èŠ‚ï¼‰ä»¥åŠé¡¹ç›®éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆæ¨¡æ¿ã€‚</p>
<h2 data-id="heading-2">æ•™ç¨‹æ¦‚è§ˆ</h2>
<p>å¸¦å¤§å®¶çœ‹çœ‹æˆ‘å†™çš„é…å¥—æ•™ç¨‹ï¼Œç”¨å¿ƒç¨‹åº¦ä¸€åˆ‡éƒ½åœ¨æ–‡å­—ä¸­ï¼æ•´ä¸ªé¡¹ç›®æ•™ç¨‹ï¼Œæˆ‘æ‰‹ç»˜äº†å‡ åå¼ æŠ€æœ¯é…å›¾å¸®åŠ©ç†è§£ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒRAG é¢è¯•é¢˜æ€»ç»“è¿™ç¯‡ï¼Œè€—æ—¶ä¸€å‘¨ç»ˆäºå®Œæˆäº†ç¬¬ä¸€ç‰ˆï¼Œä¸€å…± <strong>3.4 ä¸‡å­—</strong>ï¼ŒåŒ…å« <strong>35 é“é«˜é¢‘ RAG é¢è¯•é¢˜</strong>ï¼Œå…‰æ ¡å¯¹éƒ½è¿›è¡Œäº†ä¸‰æ¬¡ã€‚è€Œä¸”ï¼Œè¿™è¿˜åªæ˜¯ç¬¬ä¸€ç‰ˆï¼Œåç»­è¿˜ä¼šç»§ç»­å®Œå–„ä¼˜åŒ–ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c5daa99c3ea460a89af430b72500e08~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=52mLIqvQ4%2FEARqkKehEHMXw3Sac%3D" alt="RAG é¢è¯•é¢˜" loading="lazy"/></p>
<p>è¿™ç¯‡æ˜¯å¯¹åº”çš„ RAG çŸ¥è¯†åº“è¯¦ç»†å¼€å‘æ€è·¯çš„ä»‹ç»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6912cff67ba49b992197cf1c74efc6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=cHkJyk35BPm4UwBQfK%2FqCwG4osY%3D" alt="RAG çŸ¥è¯†åº“è¯¦ç»†å¼€å‘æ€è·¯" loading="lazy"/></p>
<p>ä¸ä»…æ•™ä½ â€œå¦‚ä½•å†™å‡ºä»£ç â€ï¼Œæ›´æ•™ä½ â€œä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡â€ä»¥åŠâ€œåœ¨ä¼ä¸šçœŸå®åœºæ™¯ä¸­å¦‚ä½•åº”å¯¹å¤æ‚æŒ‘æˆ˜â€ã€‚</p>
<p>åˆšåˆšå‘å¸ƒä¸€å¤©å°±æ”¶åˆ°äº†å¥½è¯„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56790b20011a4f5983d1e0a6232b08a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=mfOaAGoITe80pjt%2Bc7OSwRGG7qw%3D" alt="é¡¹ç›®æ”¶åˆ°çš„å¥½è¯„" loading="lazy"/></p>
<h2 data-id="heading-3">é…å¥—æ•™ç¨‹å†…å®¹å®‰æ’</h2>
<p>è¿™ä¸ªé¡¹ç›®å½“å‰å®ç°çš„åŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œå­¦ä¹ é—¨æ§›æä½ï¼Œä½†æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒä¸°å¯Œã€‚é€šè¿‡ä¿å§†çº§æ•™ç¨‹ï¼Œæˆ‘ä»¬å°†ä»é›¶æ„å»ºä¸€ä¸ªèåˆäº† <strong>LLM é›†æˆã€RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€å‘é‡æ•°æ®åº“ã€åˆ†å¸ƒå¼é™æµåŠå¼‚æ­¥å¤„ç†</strong>çš„å®Œæ•´åç«¯æ¶æ„ã€‚</p>
<p>æ— è®ºä½ æ˜¯æƒ³å­¦ä¹  <strong>Spring AI</strong> çš„å‰æ²¿åº”ç”¨ï¼Œè¿˜æ˜¯éœ€è¦ä¸€ä¸ª<strong>é«˜å«é‡‘é‡çš„ç®€å†é¡¹ç›®</strong>ï¼Œæœ¬é¡¹ç›®éƒ½å°†ä¸ºä½ æä¾›ä»åŸºå»ºæ­å»ºã€ä¸šåŠ¡æ”»åšåˆ°é¢è¯•è¯æœ¯å¤ç›˜çš„å…¨æ–¹ä½æŒ‡å¯¼ã€‚</p>
<p>é…å¥—é¡¹ç›®æ•™ç¨‹éœ€è¦ä»˜è´¹ï¼ˆ<strong>åæ–‡/æ–‡æœ«</strong>æœ‰åŠ å…¥æ–¹æ³•ï¼‰ï¼Œä½†è¯·å¤§å®¶ç†è§£ï¼Œä¸»è¦æ˜¯æƒ³è¦†ç›–ä¸€äº›æ—¶é—´æˆæœ¬ã€‚è€Œä¸”ï¼Œæ”¶è´¹å’Œæä¾›çš„æœåŠ¡ç›¸æ¯”ç»å¯¹æ˜¯è¶…çº§è‰¯å¿ƒäº†ã€‚è¿™è¾ˆå­ä¸å¯èƒ½å¹²å‰²éŸ­èœçš„äº‹ï¼</p>
<p><strong>å†…å®¹å®‰æ’å¦‚ä¸‹ï¼ˆæ›´æ–°è¿›åº¦å·²è¿‡å¤§åŠï¼‰</strong>ï¼š</p>
<h3 data-id="heading-4">ç¯å¢ƒæ­å»º</h3>
<ol>
<li>æœ¬åœ°æ­å»º PostgreSQL + PGvector å‘é‡æ•°æ®åº“</li>
<li>Spring Boot + RustFS æ„å»ºé«˜æ€§èƒ½ S3 å…¼å®¹çš„å¯¹è±¡å­˜å‚¨æœåŠ¡</li>
<li>â­å¤§æ¨¡å‹ API ç”³è¯·å’Œ Ollama éƒ¨ç½²æœ¬åœ°æ¨¡å‹</li>
<li>ç¯å¢ƒæ­å»ºç»ˆç« ä¸é¡¹ç›®å¯åŠ¨</li>
</ol>
<h3 data-id="heading-5">æ ¸å¿ƒåŠŸèƒ½å¼€å‘</h3>
<ol>
<li>ç®€å†ä¸Šä¼ ã€å¤šæ ¼å¼å†…å®¹æå–ä¸è§£æ</li>
<li>â­Spring AI ä¸å¤§æ¨¡å‹é›†æˆ</li>
<li>â­Spring AI + pgvector å®ç° RAG çŸ¥è¯†åº“é—®ç­”</li>
<li>æ‰‹æŠŠæ‰‹æ•™ä½ å†™å‡ºç”Ÿäº§çº§ç»“æ„åŒ– Prompt</li>
<li>AI æ¨¡æ‹Ÿé¢è¯•åŠŸèƒ½</li>
<li>åŸºäº iText 8 å®ç° PDF æŠ¥å‘Šå¯¼å‡º</li>
<li>åŸºäº SSEï¼ˆServer-Sent Eventsï¼‰çš„æ‰“å­—æœºæ•ˆæœè¾“å‡º</li>
<li>Docker Compose ä¸€é”®éƒ¨ç½²</li>
</ol>
<h3 data-id="heading-6">è¿›é˜¶ä¼˜åŒ–</h3>
<ol>
<li>ç»Ÿä¸€å¼‚å¸¸å¤„ç†ä¸ä¸šåŠ¡é”™è¯¯ç è®¾è®¡</li>
<li>MapStruct å®ä½“æ˜ å°„æœ€ä½³å®è·µ</li>
<li>åŸºäº Redis Stream çš„å¼‚æ­¥ä»»åŠ¡å¤„ç†å®ç°</li>
<li>Spring Boot 4.0 å‡çº§æŒ‡å—</li>
<li>Docker Compose ä¸€é”®éƒ¨ç½²</li>
</ol>
<h3 data-id="heading-7">é¢è¯•</h3>
<ol>
<li>â­ç®€å†ç¼–å†™ä¸é¡¹ç›®ç»å†æ·±åº¦åŒ…è£…æŒ‡å—</li>
<li>é¢è¯•å®˜é—®â€œè¿™ä¸ªé¡¹ç›®å“ªé‡Œæ¥çš„â€æ—¶ï¼Œå¦‚ä½•å›ç­”ï¼Ÿ</li>
<li>â­Spring AI é¢è¯•é—®é¢˜æŒ–æ˜</li>
<li>â­çŸ¥è¯†åº“ RAG é¢è¯•é—®é¢˜æŒ–æ˜</li>
<li>Redis é¢è¯•é—®é¢˜æŒ–æ˜</li>
<li>æ–‡ä»¶ä¸Šä¼ å’ŒPDFåˆ°å¤„é¢è¯•é—®é¢˜æŒ–æ˜</li>
</ol>
<h2 data-id="heading-8">åŠ å…¥å­¦ä¹ </h2>
<p>å¦‚æœä½ æƒ³å­¦ä¹ è¿™ä¸ªé¡¹ç›®ï¼Œæˆ–è€…å¸Œæœ›æŠŠå®ƒä½œä¸ºä¸ªäººé¡¹ç›®ç»å† / æ¯•è®¾é€‰é¢˜ï¼Œæˆ‘æ•´ç†çš„è¿™ä¸€å¥—æ•™ç¨‹éå¸¸ç»†è‡´ï¼šä»åŸºç¡€è®¾æ–½æ­å»ºã€æ ¸å¿ƒä¸šåŠ¡å®ç°ï¼Œåˆ°æœ€åå¦‚ä½•åœ¨é¢è¯•ä¸­è®²æ¸…æ¥šæ€è·¯ä¸äº®ç‚¹ï¼Œå°½é‡æŠŠå®¹æ˜“å¡ä½çš„åœ°æ–¹è®²é€ã€‚</p>
<p>å¦‚æœä½ ç¡®å®éœ€è¦æ›´ç³»ç»Ÿçš„è¾…å¯¼ï¼Œå¯ä»¥ç‚¹è¿™é‡Œäº†è§£è¯¦æƒ…ï¼ˆ<strong>æ•™ç¨‹ä¸ºä»˜è´¹å†…å®¹</strong>ï¼Œä¸»è¦æ˜¯æƒ³è¦†ç›–ä¸€äº›æ—¶é—´æˆæœ¬ï¼Œæœ›ç†è§£ï¼Œæ„Ÿè°¢æ”¯æŒï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fzhuanlan%2Finterview-guide.html" target="_blank" title="https://javaguide.cn/zhuanlan/interview-guide.html" ref="nofollow noopener noreferrer">ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAG çŸ¥è¯†åº“ã€‹</a>ã€‚</p>
<h2 data-id="heading-9">ç³»ç»Ÿæ¶æ„</h2>
<p><strong>æç¤º</strong>ï¼šæ¶æ„å›¾é‡‡ç”¨ draw.io ç»˜åˆ¶ï¼Œå¯¼å‡ºä¸º svg æ ¼å¼ï¼Œåœ¨ Dark æ¨¡å¼ä¸‹çš„æ˜¾ç¤ºæ•ˆæœä¼šæœ‰é—®é¢˜ã€‚</p>
<p>ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ•´ä½“åˆ†ä¸ºä¸‰å±‚ï¼šå‰ç«¯å±•ç¤ºå±‚ã€åç«¯æœåŠ¡å±‚ã€æ•°æ®å­˜å‚¨å±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6bb9a26f3ec4b3b8717af3c0ca0fc26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=g9crUBDABo8stEOd75JsGXxn5Cw%3D" alt="ç³»ç»Ÿæ¶æ„" loading="lazy"/></p>
<p><strong>åç«¯å±‚</strong>ï¼š</p>
<ul>
<li>REST Controllersï¼šç»Ÿä¸€çš„ API å…¥å£ï¼Œå¤„ç† HTTP è¯·æ±‚</li>
<li>ä¸šåŠ¡æœåŠ¡å±‚ï¼š
<ul>
<li>Resume Serviceï¼šç®€å†ä¸Šä¼ ã€è§£æã€AI åˆ†æ
<ul>
<li>Interview Serviceï¼šé¢è¯•ä¼šè¯ç®¡ç†ã€é—®é¢˜ç”Ÿæˆã€ç­”æ¡ˆè¯„ä¼°</li>
<li>Knowledge Serviceï¼šçŸ¥è¯†åº“ä¸Šä¼ ã€æ–‡æœ¬åˆ†å—ã€å‘é‡åŒ–</li>
<li>RAG Chat Serviceï¼šæ£€ç´¢å¢å¼ºç”Ÿæˆï¼Œæµå¼é—®ç­”</li>
</ul>
</li>
</ul>
</li>
<li>å¼‚æ­¥å¤„ç†å±‚ï¼šåŸºäº Redis Stream çš„æ¶ˆè´¹è€…ï¼Œå¼‚æ­¥å¤„ç†è€—æ—¶çš„ AI ä»»åŠ¡ï¼ˆå¦‚ç®€å†åˆ†æã€å‘é‡åŒ–ã€é¢è¯•è¯„ä¼°ï¼‰</li>
<li>AI é›†æˆå±‚ï¼šSpring AI + DashScopeï¼ˆé€šä¹‰åƒé—®ï¼‰ã€‚ç»Ÿä¸€çš„ LLM è°ƒç”¨æ¥å£ï¼Œæ”¯æŒå¯¹è¯ç”Ÿæˆå’Œæ–‡æœ¬å‘é‡åŒ–ã€‚</li>
</ul>
<p><strong>æ•°æ®å­˜å‚¨å±‚</strong>ï¼š</p>
<ul>
<li>
<p>PostgreSQL + pgvectorï¼š</p>
<ul>
<li>å…³ç³»æ•°æ®ï¼šç®€å†ã€é¢è¯•è®°å½•ã€çŸ¥è¯†åº“å…ƒæ•°æ®</li>
<li>å‘é‡æ£€ç´¢ï¼šå­˜å‚¨æ–‡æ¡£å‘é‡ï¼Œæ”¯æŒç›¸ä¼¼åº¦æœç´¢</li>
</ul>
</li>
<li>
<p>Redisï¼š</p>
<ul>
<li>ä¼šè¯ç¼“å­˜ï¼šé¢è¯•ä¼šè¯çŠ¶æ€</li>
<li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šRedis Stream å®ç°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—</li>
</ul>
</li>
<li>
<p>RustFS/MinIO (S3)ï¼šåŸå§‹æ–‡ä»¶ï¼ˆç®€å† PDFã€çŸ¥è¯†åº“æ–‡æ¡£ï¼‰</p>
</li>
</ul>
<p><strong>å¼‚æ­¥å¤„ç†æµç¨‹</strong>ï¼š</p>
<p>ç®€å†åˆ†æã€çŸ¥è¯†åº“å‘é‡åŒ–å’Œé¢è¯•æŠ¥å‘Šç”Ÿæˆé‡‡ç”¨ Redis Stream å¼‚æ­¥å¤„ç†ï¼Œè¿™é‡Œä»¥ç®€å†åˆ†æå’ŒçŸ¥è¯†åº“å‘é‡åŒ–ä¸ºä¾‹ä»‹ç»ä¸€ä¸‹æ•´ä½“æµç¨‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ä¸Šä¼ è¯·æ±‚ â†’ ä¿å­˜æ–‡ä»¶ â†’ å‘é€æ¶ˆæ¯åˆ° <span class="hljs-built_in">Stream</span> â†’ ç«‹å³è¿”å›
                              â†“
                      Consumer æ¶ˆè´¹æ¶ˆæ¯
                              â†“
                    æ‰§è¡Œåˆ†æ/å‘é‡åŒ–ä»»åŠ¡
                              â†“
                      æ›´æ–°æ•°æ®åº“çŠ¶æ€
                              â†“
                   å‰ç«¯è½®è¯¢è·å–æœ€æ–°çŠ¶æ€
</code></pre>
<p>çŠ¶æ€æµè½¬ï¼š <code>PENDING</code> â†’ <code>PROCESSING</code> â†’ <code>COMPLETED</code> / <code>FAILED</code></p>
<p><strong>çŸ¥è¯†åº“é—®ç­”å¤„ç†æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">çŸ¥è¯†åº“é—®ç­” â†’ é—®é¢˜å‘é‡åŒ– â†’ pgvector ç›¸ä¼¼åº¦æœç´¢ â†’ æ£€ç´¢ç›¸å…³æ–‡æ¡£
<span class="hljs-code">                                                      â†“
                                æ„å»º Prompt â†’ LLM ç”Ÿæˆå›ç­” â†’ SSE æµå¼è¿”å›
</span></code></pre>
<h2 data-id="heading-10">æŠ€æœ¯æ ˆæ¦‚è§ˆ</h2>
<h3 data-id="heading-11">åç«¯æŠ€æœ¯</h3>























































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Spring Boot</td><td>4.0</td><td>åº”ç”¨æ¡†æ¶</td></tr><tr><td>Java</td><td>21</td><td>å¼€å‘è¯­è¨€</td></tr><tr><td>Spring AI</td><td>2.0</td><td>AI é›†æˆæ¡†æ¶</td></tr><tr><td>PostgreSQL + pgvector</td><td>14+</td><td>å…³ç³»æ•°æ®åº“ + å‘é‡å­˜å‚¨</td></tr><tr><td>Redis</td><td>6+</td><td>ç¼“å­˜ + æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆStreamï¼‰</td></tr><tr><td>Apache Tika</td><td>2.9.2</td><td>æ–‡æ¡£è§£æ</td></tr><tr><td>iText 8</td><td>8.0.5</td><td>PDF å¯¼å‡º</td></tr><tr><td>MapStruct</td><td>1.6.3</td><td>å¯¹è±¡æ˜ å°„</td></tr><tr><td>Gradle</td><td>8.14</td><td>æ„å»ºå·¥å…·</td></tr></tbody></table>
<h3 data-id="heading-12">å‰ç«¯æŠ€æœ¯</h3>


















































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>React</td><td>18.3</td><td>UI æ¡†æ¶</td></tr><tr><td>TypeScript</td><td>5.6</td><td>å¼€å‘è¯­è¨€</td></tr><tr><td>Vite</td><td>5.4</td><td>æ„å»ºå·¥å…·</td></tr><tr><td>Tailwind CSS</td><td>4.1</td><td>æ ·å¼æ¡†æ¶</td></tr><tr><td>React Router</td><td>7.11</td><td>è·¯ç”±ç®¡ç†</td></tr><tr><td>Framer Motion</td><td>12.23</td><td>åŠ¨ç”»åº“</td></tr><tr><td>Recharts</td><td>3.6</td><td>å›¾è¡¨åº“</td></tr><tr><td>Lucide React</td><td>0.468</td><td>å›¾æ ‡åº“</td></tr></tbody></table>
<h2 data-id="heading-13">æŠ€æœ¯é€‰å‹å¸¸è§é—®é¢˜è§£ç­”</h2>
<p>è¿™é‡Œåªæ˜¯ç®€å•ä»‹ç»ï¼Œåç»­æˆ‘ä¼šåˆ†äº«æ–‡ç« è¯¦ç»†æ‹·æ‰“æŠ€æœ¯é€‰å‹ã€‚</p>
<h3 data-id="heading-14">ä¸ºä»€ä¹ˆé€‰æ‹© Spring AIï¼Ÿ</h3>
<p>Spring AI æ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ AI é›†æˆæ¡†æ¶ï¼Œæä¾›äº†ç»Ÿä¸€çš„ LLM è°ƒç”¨æŠ½è±¡ã€‚é€‰æ‹©å®ƒçš„åŸå› ï¼š</p>
<ol>
<li>ç»Ÿä¸€æŠ½è±¡ï¼šä¸€å¥—ä»£ç æ”¯æŒå¤šç§ LLM æä¾›å•†ï¼ˆOpenAIã€é˜¿é‡Œäº‘ DashScopeã€Ollama ç­‰ï¼‰ï¼Œåˆ‡æ¢æ¨¡å‹åªéœ€ä¿®æ”¹é…ç½®</li>
<li>Spring ç”Ÿæ€é›†æˆï¼šä¸ Spring Boot æ— ç¼é›†æˆï¼Œæ”¯æŒè‡ªåŠ¨é…ç½®ã€ä¾èµ–æ³¨å…¥ã€å£°æ˜å¼è°ƒç”¨</li>
<li>å†…ç½®å‘é‡å­˜å‚¨æ”¯æŒï¼šåŸç”Ÿæ”¯æŒ pgvectorã€Milvusã€Pinecone ç­‰å‘é‡æ•°æ®åº“ï¼Œç®€åŒ– RAG å¼€å‘</li>
<li>ç»“æ„åŒ–è¾“å‡ºï¼šé€šè¿‡ <code>BeanOutputConverter</code> å°† LLM è¾“å‡ºç›´æ¥æ˜ å°„ä¸º Java å¯¹è±¡ï¼Œæ— éœ€æ‰‹åŠ¨è§£æ JSON</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¤ºä¾‹ï¼šSpring AI ç»“æ„åŒ–è¾“å‡º</span>
<span class="hljs-type">var</span> <span class="hljs-variable">converter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BeanOutputConverter</span>&lt;&gt;(ResumeAnalysisDTO.class);
<span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> chatClient.prompt()
    .system(systemPrompt)
    .user(userPrompt + converter.getFormat())
    .call()
    .content();
<span class="hljs-keyword">return</span> converter.convert(result);  <span class="hljs-comment">// ç›´æ¥å¾—åˆ° Java å¯¹è±¡</span>
</code></pre>
<h3 data-id="heading-15">æ•°æ®å­˜å‚¨ä¸ºä»€ä¹ˆé€‰æ‹© PostgreSQL + pgvectorï¼Ÿ</h3>
<p>æœ¬é¡¹ç›®éœ€è¦åŒæ—¶å­˜å‚¨ç»“æ„åŒ–æ•°æ®ï¼ˆç®€å†ã€é¢è¯•è®°å½•ï¼‰å’Œå‘é‡æ•°æ®ï¼ˆæ–‡æ¡£ Embeddingï¼‰ã€‚æ–¹æ¡ˆå¯¹æ¯”ï¼š</p>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>PostgreSQL + pgvector</td><td>ä¸€å¥—æ•°æ®åº“æå®šï¼Œè¿ç»´ç®€å•</td><td>å‘é‡æ£€ç´¢æ€§èƒ½ä¸å¦‚ä¸“ä¸šå‘é‡åº“</td></tr><tr><td>PostgreSQL + Milvus</td><td>å‘é‡æ£€ç´¢æ€§èƒ½æ›´å¥½</td><td>å¤šä¸€ä¸ªç»„ä»¶ï¼Œè¿ç»´å¤æ‚åº¦å¢åŠ </td></tr><tr><td>PostgreSQL + Pinecone</td><td>äº‘æ‰˜ç®¡ï¼Œæ— éœ€è¿ç»´</td><td>æˆæœ¬é«˜ï¼Œæ•°æ®åœ¨ç¬¬ä¸‰æ–¹</td></tr></tbody></table>
<p><strong>é€‰æ‹© pgvector çš„ç†ç”±</strong>ï¼š</p>
<ul>
<li>æ¶æ„ç®€å•ï¼šä¸å¼•å…¥é¢å¤–ç»„ä»¶ï¼Œé™ä½éƒ¨ç½²å’Œè¿ç»´å¤æ‚åº¦</li>
<li>æ€§èƒ½å¤Ÿç”¨ï¼šHNSW ç´¢å¼•æ”¯æŒæ¯«ç§’çº§æ£€ç´¢ï¼Œä¸‡çº§æ–‡æ¡£åœºæ™¯å®Œå…¨å¤Ÿç”¨</li>
<li>äº‹åŠ¡ä¸€è‡´æ€§ï¼šå‘é‡æ•°æ®å’Œä¸šåŠ¡æ•°æ®åœ¨åŒä¸€æ•°æ®åº“ï¼Œå¤©ç„¶æ”¯æŒäº‹åŠ¡</li>
<li>SQL æŸ¥è¯¢ï¼šå¯ä»¥ç»“åˆ WHERE æ¡ä»¶è¿‡æ»¤ï¼Œæ¯”å¦‚"åªåœ¨æŸä¸ªåˆ†ç±»çš„çŸ¥è¯†åº“ä¸­æ£€ç´¢"</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- pgvector ç›¸ä¼¼åº¦æœç´¢ç¤ºä¾‹</span>
<span class="hljs-keyword">SELECT</span> content, <span class="hljs-number">1</span> <span class="hljs-operator">-</span> (embedding <span class="hljs-operator">&lt;=&gt;</span> $<span class="hljs-number">1</span>) <span class="hljs-keyword">as</span> similarity
<span class="hljs-keyword">FROM</span> vector_store
<span class="hljs-keyword">WHERE</span> metadata<span class="hljs-operator">-</span><span class="hljs-operator">&gt;&gt;</span><span class="hljs-string">'category'</span> <span class="hljs-operator">=</span> <span class="hljs-string">'Java'</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> embedding <span class="hljs-operator">&lt;=&gt;</span> $<span class="hljs-number">1</span>
LIMIT <span class="hljs-number">5</span>;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸é€‰æ‹© MySQL æ­é…å‘é‡æ•°æ®åº“å‘¢ï¼Ÿ</strong></p>
<p>PostgreSQL æœ€å¤§çš„ä¼˜åŠ¿ï¼Œä¹Ÿæ˜¯å®ƒåœ¨ AI æ—¶ä»£ç”©å¼€å¯¹æ‰‹çš„â€œç‹ç‰Œâ€ï¼Œå°±æ˜¯å…¶å¼ºå¤§çš„å¯æ‰©å±•æ€§ã€‚å¼€å‘è€…å¯ä»¥åœ¨ä¸ä¿®æ”¹å†…æ ¸çš„æƒ…å†µä¸‹ï¼Œåƒâ€œå³æ’å³ç”¨â€ä¸€æ ·ä¸ºæ•°æ®åº“å®‰è£…å„ç§åŠŸèƒ½å¼ºå¤§çš„æ’ä»¶ï¼Œè¿™è®© PostgreSQL å˜æˆäº†ä¸€ä¸ªæ— æ‰€ä¸èƒ½çš„â€œæ•°æ®ç‘å£«å†›åˆ€â€ã€‚</p>
<ul>
<li><strong>AI å‘é‡æ£€ç´¢ï¼Ÿ</strong> æœ‰å®˜æ–¹æ¨èçš„ <strong>pgvector</strong> æ‰©å±•ï¼Œæ€§èƒ½å¼ºå¤§ï¼Œç”Ÿæ€æˆç†Ÿï¼Œè¶³ä»¥åª²ç¾ä¸“ä¸šçš„å‘é‡æ•°æ®åº“ã€‚</li>
<li><strong>å…¨æ–‡æœç´¢ï¼Ÿ</strong> å†…ç½®æ”¯æŒï¼ˆèƒ½æ»¡è¶³åŸºç¡€éœ€æ±‚ï¼‰ï¼Œæˆ–ä½¿ç”¨ <strong>pg_bm25</strong> ç­‰æ‰©å±•ã€‚</li>
<li><strong>æ—¶åºæ•°æ®ï¼Ÿ</strong> æœ‰é¡¶çº§çš„ <strong>TimescaleDB</strong> æ‰©å±•ã€‚</li>
<li><strong>åœ°ç†ä¿¡æ¯ï¼Ÿ</strong> æœ‰è¡Œä¸šæ ‡å‡†çš„ <strong>PostGIS</strong> æ‰©å±•ã€‚</li>
</ul>
<p>è¿™ç§â€œä¸€ç«™å¼â€è§£å†³èƒ½åŠ›ï¼Œæ­£æ˜¯å…¶é­…åŠ›æ‰€åœ¨ã€‚å®ƒæ„å‘³ç€è®¸å¤šé¡¹ç›®ä¸å†éœ€è¦ä¾èµ– Elasticsearchã€Milvus ç­‰å¤§é‡å¤–éƒ¨ä¸­é—´ä»¶ï¼Œä»…å‡­ä¸€ä¸ªå¢å¼ºç‰ˆçš„ PostgreSQL å³å¯æ»¡è¶³å¤šæ ·åŒ–éœ€æ±‚ï¼Œä»è€Œæå¤§åœ°ç®€åŒ–äº†æŠ€æœ¯æ ˆï¼Œé™ä½äº†å¼€å‘å’Œè¿ç»´çš„å¤æ‚åº¦ä¸æˆæœ¬ã€‚</p>
<p>å…³äº MySQL å’Œ PostgreSQL çš„è¯¦ç»†å¯¹æ¯”ï¼Œå¯ä»¥å‚è€ƒæˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FAPWD-PzTcTqGUuibAw7GGw" target="_blank" title="https://mp.weixin.qq.com/s/APWD-PzTcTqGUuibAw7GGw" ref="nofollow noopener noreferrer">MySQL vs PostgreSQLï¼Œå¦‚ä½•é€‰æ‹©ï¼Ÿ</a>ã€‚</p>
<h3 data-id="heading-16">ä¸ºä»€ä¹ˆå¼•å…¥ Redisï¼Ÿ</h3>
<p>æœ¬é¡¹ç›®ä¸»è¦æœ‰ä¸¤ä¸ªåœºæ™¯ç”¨åˆ°äº† Redisï¼š</p>
<ol>
<li>Redis æ›¿ä»£ <code>ConcurrentHashMap</code> å®ç°ä¼šè¯çš„ç¼“å­˜ã€‚</li>
<li>åŸºäº Redis Stream å®ç°ç®€å†åˆ†æã€çŸ¥è¯†åº“å‘é‡åŒ–ç­‰åœºæ™¯çš„å¼‚æ­¥ï¼ˆè¿˜èƒ½è§£è€¦ï¼Œåˆ†æå’Œå‘é‡åŒ–å¯ä»¥ä½¿ç”¨å…¶ä»–ç¼–ç¨‹è¯­è¨€æ¥åšï¼‰ã€‚</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆå¼•å…¥ Redis Streamï¼Ÿä¸ºä½•ä¸é€‰æ‹© Kafkaã€RabbitMQ ç­‰æ›´æˆç†Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</strong></p>
<p>ç®€å†åˆ†æã€çŸ¥è¯†åº“å‘é‡åŒ–ç­‰ AI ä»»åŠ¡è€—æ—¶è¾ƒé•¿ï¼ˆ10-60 ç§’ï¼‰ï¼Œä¸é€‚åˆåŒæ­¥å¤„ç†ã€‚éœ€è¦æ¶ˆæ¯é˜Ÿåˆ—å®ç°å¼‚æ­¥è§£è€¦ã€‚</p>


















































































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">Redis Stream</th><th align="left">RabbitMQ</th><th align="left">Kafka</th><th align="left">å†…å­˜é˜Ÿåˆ—</th></tr></thead><tbody><tr><td align="left"><strong>ååé‡</strong></td><td align="left">é«˜ï¼ˆåä¸‡çº§ QPSï¼‰</td><td align="left">ä¸­ï¼ˆä¸‡çº§ QPSï¼‰</td><td align="left">æé«˜ï¼ˆç™¾ä¸‡çº§ï¼Œæ°´å¹³æ‰©å±•ï¼‰</td><td align="left">æé«˜ï¼ˆåƒä¸‡çº§/ç§’ï¼Œå—é™äº CPU/å†…å­˜ï¼‰</td></tr><tr><td align="left"><strong>å»¶è¿Ÿ</strong></td><td align="left">æä½ï¼ˆäºšæ¯«ç§’çº§ï¼‰</td><td align="left">ä½ï¼ˆæ¯«ç§’çº§ï¼‰</td><td align="left">ä¸­ï¼ˆæ¯«ç§’åˆ°åæ¯«ç§’çº§ï¼‰</td><td align="left">æä½ï¼ˆçº³ç§’/å¾®ç§’çº§ï¼‰</td></tr><tr><td align="left"><strong>æŒä¹…åŒ–</strong></td><td align="left">æ”¯æŒï¼ˆRDB/AOFï¼‰</td><td align="left">æ”¯æŒï¼ˆMnesia/ç£ç›˜ï¼‰</td><td align="left">å¼ºæ”¯æŒï¼ˆåŸç”Ÿåˆ†æ®µæ—¥å¿—ï¼‰</td><td align="left">æ— ï¼ˆè¿›ç¨‹ç»ˆæ­¢å³å¤±ï¼‰</td></tr><tr><td align="left"><strong>æ¶ˆæ¯å †ç§¯èƒ½åŠ›</strong></td><td align="left">ä¸€èˆ¬ï¼ˆå—é™äºå†…å­˜ï¼‰</td><td align="left">ä¸­ï¼ˆç£ç›˜å †ç§¯ï¼Œæ€§èƒ½ä¸‹é™æ˜æ˜¾ï¼‰</td><td align="left">æå¼ºï¼ˆTB çº§ç£ç›˜å­˜å‚¨ï¼‰</td><td align="left">å·®ï¼ˆå—é™äºå †å†…å­˜ï¼‰</td></tr><tr><td align="left"><strong>æ¶ˆè´¹æ¨¡å¼</strong></td><td align="left">å‘å¸ƒè®¢é˜… / æ¶ˆè´¹è€…ç»„</td><td align="left">çµæ´»è·¯ç”± / å¤šç§äº¤æ¢æœºæ¨¡å¼</td><td align="left">å‘å¸ƒè®¢é˜… / æ¶ˆè´¹è€…ç»„</td><td align="left">ç‚¹å¯¹ç‚¹ / å¤šæ¶ˆè´¹è€…ï¼ˆå–å†³äºå®ç°ï¼‰</td></tr><tr><td align="left"><strong>æ¶ˆæ¯å›æº¯</strong></td><td align="left">æ”¯æŒï¼ˆæŒ‰ ID / æ—¶é—´èŒƒå›´ï¼‰</td><td align="left">ä¸æ”¯æŒ</td><td align="left">å¼ºæ”¯æŒï¼ˆæŒ‰ Offset / æ—¶é—´æˆ³ï¼‰</td><td align="left">ä¸æ”¯æŒ</td></tr><tr><td align="left"><strong>æ¶ˆæ¯é¡ºåºæ€§</strong></td><td align="left">å• Stream æœ‰åº</td><td align="left">å•é˜Ÿåˆ—æœ‰åº</td><td align="left">å• Partition æœ‰åº</td><td align="left">æœ‰åºï¼ˆå•é˜Ÿåˆ—ï¼‰</td></tr><tr><td align="left"><strong>å¯é æ€§</strong></td><td align="left">ä¸­ï¼ˆå¼‚æ­¥å¤åˆ¶å¯èƒ½ä¸¢å¤±ï¼‰</td><td align="left">é«˜ï¼ˆPublisher Confirm / äº‹åŠ¡ï¼‰</td><td align="left">æé«˜ï¼ˆå¤šå‰¯æœ¬ ISR + acksï¼‰</td><td align="left">ä½ï¼ˆæ— æŒä¹…åŒ–ã€æ— ç¡®è®¤ï¼‰</td></tr><tr><td align="left"><strong>è¿ç»´å¤æ‚åº¦</strong></td><td align="left">ä½</td><td align="left">ä¸­</td><td align="left">é«˜ï¼ˆKRaft æ¨¡å¼å·²ç®€åŒ–ï¼‰</td><td align="left">æä½</td></tr><tr><td align="left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td align="left">è½»é‡çº§æµå¤„ç†ã€å·²æœ‰ Redis åŸºç¡€è®¾æ–½</td><td align="left">å¤æ‚è·¯ç”±ã€ä¼ä¸šçº§é›†æˆ</td><td align="left">å¤§æ•°æ®æµã€äº‹ä»¶æº¯æºã€æ—¥å¿—èšåˆ</td><td align="left">è¿›ç¨‹å†…è§£è€¦ã€æè‡´æ€§èƒ½åœºæ™¯</td></tr></tbody></table>
<p>é€‰æ‹© Redis Stream çš„ç†ç”±ï¼š</p>
<ul>
<li>å¤ç”¨ç°æœ‰ç»„ä»¶ï¼šRedis å·²ç”¨äºä¼šè¯ç¼“å­˜ï¼Œæ— éœ€å¼•å…¥æ–°ä¸­é—´ä»¶</li>
<li>åŠŸèƒ½æ»¡è¶³éœ€æ±‚ï¼šæ”¯æŒæ¶ˆè´¹è€…ç»„ã€æ¶ˆæ¯ç¡®è®¤ï¼ˆACKï¼‰ã€æŒä¹…åŒ–</li>
<li>è¿ç»´ç®€å•ï¼šå¯¹äºä¸­å°å‹é¡¹ç›®ï¼ŒRedis Stream å®Œå…¨å¤Ÿç”¨</li>
</ul>
<h3 data-id="heading-17">æ„å»ºå·¥å…·ä¸ºä»€ä¹ˆé€‰æ‹© Gradleï¼Ÿ</h3>
<p>SpringBoot å®˜æ–¹ç°åœ¨ç”¨çš„å°±æ˜¯ Gradleï¼ŒåŠ ä¸Šå›½å†…ç°åœ¨éƒ½æ˜¯ Maven æ›´å¤šï¼Œæ¢ä¸ª Gradle è¿˜æ›´æ–°é¢–ä¸€äº›ã€‚</p>
<p>ä¸ªäººä¹Ÿæ›´å–œæ¬¢ç”¨ Gradleï¼Œä¹Ÿå†™è¿‡ç›¸å…³çš„æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Ftools%2Fgradle%2Fgradle-core-concepts.html" target="_blank" title="https://javaguide.cn/tools/gradle/gradle-core-concepts.html" ref="nofollow noopener noreferrer">Gradle æ ¸å¿ƒæ¦‚å¿µæ€»ç»“</a>ã€‚</p>
<h3 data-id="heading-18">ä¸ºä»€ä¹ˆä½¿ç”¨ MapStructï¼Ÿ</h3>
<p>é¡¹ç›®ä¸­æœ‰å¤§é‡ Entity â†” DTO è½¬æ¢éœ€æ±‚ï¼ŒMapStruct æ˜¯ç¼–è¯‘æ—¶ä»£ç ç”Ÿæˆçš„å¯¹è±¡æ˜ å°„æ¡†æ¶ï¼š</p>



































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>æ€§èƒ½</th><th>ç±»å‹å®‰å…¨</th><th>ä½¿ç”¨å¤æ‚åº¦</th></tr></thead><tbody><tr><td>MapStruct</td><td>é›¶åå°„ï¼Œæœ€å¿«</td><td>ç¼–è¯‘æ—¶æ£€æŸ¥</td><td>å®šä¹‰æ¥å£å³å¯</td></tr><tr><td>BeanUtils</td><td>åå°„ï¼Œæ…¢</td><td>è¿è¡Œæ—¶æŠ¥é”™</td><td>ä¸€è¡Œä»£ç </td></tr><tr><td>ModelMapper</td><td>åå°„ï¼Œè¾ƒæ…¢</td><td>è¿è¡Œæ—¶æŠ¥é”™</td><td>é…ç½®å¤æ‚</td></tr><tr><td>æ‰‹å†™è½¬æ¢</td><td>æœ€å¿«</td><td>ç¼–è¯‘æ—¶æ£€æŸ¥</td><td>é‡å¤ä»£ç å¤š</td></tr></tbody></table>
<h3 data-id="heading-19">ä¸ºä»€ä¹ˆä½¿ç”¨ Apache Tikaï¼Ÿ</h3>
<p>ç³»ç»Ÿéœ€è¦è§£æå¤šç§æ ¼å¼çš„æ–‡æ¡£ï¼ˆPDFã€Wordã€TXTï¼‰ï¼ŒApache Tika æ˜¯ Apache åŸºé‡‘ä¼šçš„æ–‡æ¡£è§£æåº“ï¼š</p>
<ul>
<li>æ ¼å¼æ”¯æŒå…¨ï¼šPDFã€DOCXã€DOCã€TXTã€HTMLã€Markdown ç­‰ä¸Šç™¾ç§æ ¼å¼</li>
<li>è‡ªåŠ¨è¯†åˆ«ï¼šæ ¹æ®æ–‡ä»¶å†…å®¹è‡ªåŠ¨æ£€æµ‹æ ¼å¼ï¼Œæ— éœ€ä¾èµ–æ–‡ä»¶æ‰©å±•å</li>
<li>æ–‡æœ¬æå–ï¼šç»Ÿä¸€çš„ API æå–çº¯æ–‡æœ¬ï¼Œå±è”½æ ¼å¼å·®å¼‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Tika è§£æç¤ºä¾‹</span>
<span class="hljs-type">Tika</span> <span class="hljs-variable">tika</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tika</span>();
<span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> tika.parseToString(inputStream);  <span class="hljs-comment">// è‡ªåŠ¨è¯†åˆ«æ ¼å¼å¹¶æå–æ–‡æœ¬</span>
</code></pre>
<h3 data-id="heading-20">ä¸ºä»€ä¹ˆä½¿ç”¨ SSE è€Œä¸æ˜¯ WebSocketï¼Ÿ</h3>
<p>çŸ¥è¯†åº“é—®ç­”éœ€è¦æµå¼è¾“å‡ºï¼ˆåƒ ChatGPT é‚£æ ·é€å­—æ˜¾ç¤ºï¼‰ï¼Œæœ‰ä¸¤ç§æŠ€æœ¯é€‰æ‹©ï¼š</p>




















<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>SSE</td><td>ç®€å•ï¼ŒåŸºäº HTTPï¼Œå•å‘æ¨é€</td><td>ä»…æ”¯æŒæœåŠ¡ç«¯ â†’ å®¢æˆ·ç«¯</td></tr><tr><td>WebSocket</td><td>åŒå‘é€šä¿¡ï¼ŒåŠŸèƒ½å¼ºå¤§</td><td>åè®®å¤æ‚ï¼Œéœ€è¦ç»´æŠ¤è¿æ¥çŠ¶æ€</td></tr></tbody></table>
<p>é€‰æ‹© SSE çš„ç†ç”±ï¼š</p>
<ul>
<li>åœºæ™¯åŒ¹é…ï¼šLLM æµå¼è¾“å‡ºæ˜¯å•å‘çš„ï¼ˆæœåŠ¡ç«¯ â†’ å®¢æˆ·ç«¯ï¼‰ï¼Œä¸éœ€è¦åŒå‘é€šä¿¡</li>
<li>å®ç°ç®€å•ï¼šåŸºäº HTTPï¼Œå¤©ç„¶æ”¯æŒé‡è¿ã€è·¨åŸŸ</li>
<li>Spring æ”¯æŒå¥½ï¼š<code>Flux&lt;ServerSentEvent&lt;String&gt;&gt;</code> ä¸€è¡Œä»£ç æå®š</li>
</ul>
<h3 data-id="heading-21">å‰ç«¯ä¸ºä»€ä¹ˆé€‰æ‹© React + TypeScript + Tailwind CSSï¼Ÿ</h3>

























<table><thead><tr><th>æŠ€æœ¯</th><th>é€‰æ‹©ç†ç”±</th></tr></thead><tbody><tr><td>React</td><td>ç”Ÿæ€æœ€æˆç†Ÿï¼Œç»„ä»¶åŒ–å¼€å‘ï¼Œç¤¾åŒºèµ„æºä¸°å¯Œ</td></tr><tr><td>TypeScript</td><td>ç±»å‹å®‰å…¨ï¼ŒIDE æ™ºèƒ½æç¤ºï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯</td></tr><tr><td>Vite</td><td>å¼€å‘æœåŠ¡å™¨å¯åŠ¨å¿«ï¼ˆç§’çº§ï¼‰ï¼ŒHMR çƒ­æ›´æ–°ä½“éªŒå¥½</td></tr><tr><td>Tailwind CSS</td><td>åŸå­åŒ– CSSï¼Œå¿«é€Ÿå¼€å‘ï¼Œæ— éœ€å†™ CSS æ–‡ä»¶</td></tr></tbody></table>
<h2 data-id="heading-22">æ•ˆæœå±•ç¤º</h2>
<h3 data-id="heading-23">ç®€å†ä¸é¢è¯•</h3>
<p>ç®€å†åº“ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8913d62737e45d38c4debd53e54cd58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=KyqyQvApNJIkML6bA%2Ftppr2YYjI%3D" alt="" loading="lazy"/></p>
<p>ç®€å†ä¸Šä¼ åˆ†æï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23375c516825453ba9e6cb20b6b76135~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=p8MxEJsdOUWWSunT8WuseCljebw%3D" alt="" loading="lazy"/></p>
<p>ç®€å†åˆ†æè¯¦æƒ…ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ad63c510a454b37bd6a5b7616dc21ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=OTJbmyFckkrj5D%2F4uySU8cTXLKg%3D" alt="" loading="lazy"/></p>
<p>é¢è¯•è®°å½•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80f94cd5656d4669a36c1e15ab26b169~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=F34exxhqZiS%2Fx%2BImZzYnpI%2BccwM%3D" alt="" loading="lazy"/></p>
<p>é¢è¯•è¯¦æƒ…ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b87a4e2c3c904f388caa6a408d2c4e8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=p3V0%2BivuGgrdrnAOugrvC5JwvLM%3D" alt="" loading="lazy"/></p>
<p>æ¨¡æ‹Ÿé¢è¯•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e0cda819f3a450aa6a2e2fd279649ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=qygZxAcfA2GN0vKn4Zq0W9dGBMc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-24">çŸ¥è¯†åº“</h3>
<p>çŸ¥è¯†åº“ç®¡ç†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edb4352fe9214eea873d1ca834e9302c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=%2BjFl5kRabd9iuLVE1Y%2F9pY1bxes%3D" alt="" loading="lazy"/></p>
<p>é—®ç­”åŠ©æ‰‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e17ec6c4bb85455dbc0cde7270a31f9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770563466&amp;x-signature=a0XDFTPD5mTGTtH7rfj1clazRJQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-25">å­¦ä¹ æœ¬é¡¹ç›®ä½ å°†è·å¾—ä»€ä¹ˆï¼Ÿ</h2>
<p>æœ¬é¡¹ç›®é‡‡ç”¨è¡Œä¸šæœ€å‰æ²¿çš„ Java 21 + Spring Boot 4.0 æŠ€æœ¯æ ˆï¼Œæ˜¯å¸‚é¢ä¸Šé¦–ä¸ªæ·±åº¦é›†æˆ Spring AI 2.0 çš„å…¨æ ˆå®æˆ˜é¡¹ç›®ã€‚æˆ‘ä»¬ä¸ä»…æä¾›é«˜è´¨é‡çš„ä»£ç ï¼Œæ›´é…å¥—äº†è¯¦å°½çš„æ¶æ„è§£ææ•™ç¨‹ã€‚</p>
<p>é¡¹ç›®æ•´ä½“è®¾è®¡éµå¾ªâ€œç”±æµ…å…¥æ·±â€åŸåˆ™ã€‚å³ä½¿ä½ çš„ç¼–ç¨‹åŸºç¡€å°šæµ…ï¼Œåªéœ€è·Ÿéšæˆ‘ä»¬çš„ä¿å§†çº§æ•™ç¨‹ï¼Œä¹Ÿèƒ½é¡ºåˆ©ä»é›¶æ­å»ºå‡ºä¸€å¥—ç”Ÿäº§çº§åˆ«çš„ AI å¤§æ¨¡å‹åº”ç”¨ã€‚</p>
<h3 data-id="heading-26">æ·±åº¦æŒæ¡ AI åº”ç”¨å¼€å‘çš„æ ¸å¿ƒèŒƒå¼</h3>
<p>æœ¬é¡¹ç›®æ˜¯ä½ ä»ä¼ ç»Ÿåç«¯è½¬å‹ AI åº”ç”¨å¼€å‘å·¥ç¨‹å¸ˆçš„æœ€ä½³æ•²é—¨ç –ï¼š</p>
<ul>
<li>
<p><strong>Spring AI 2.0 å·¥ä¸šçº§å®æˆ˜</strong>ï¼šæ·±å…¥ç†è§£ Spring å®˜æ–¹çš„ AI æŠ½è±¡å±‚ï¼ŒæŒæ¡å¦‚ä½•é€šè¿‡ç»Ÿä¸€çš„å£°æ˜å¼æ¥å£å¯¹æ¥é€šä¹‰åƒé—®ã€OpenAI ç­‰ä¸»æµæ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>Prompt Engineeringï¼ˆæç¤ºè¯å·¥ç¨‹ï¼‰æ·±åº¦åº”ç”¨</strong>ï¼šå‘Šåˆ«ç®€å•çš„å­—ç¬¦ä¸²æ‹¼æ¥ã€‚å­¦ä¹ å¦‚ä½•æ„å»ºç»“æ„åŒ–çš„ System/User Promptï¼Œå¹¶åˆ©ç”¨ BeanOutputConverter å®ç° LLM è¾“å‡ºå‘ Java å¯¹è±¡çš„è‡ªåŠ¨åŒ–æ˜ å°„ï¼Œå½»åº•ç»ˆç»“ç¹ççš„ JSON æ‰‹åŠ¨è§£æã€‚</p>
</li>
<li>
<p><strong>RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å…¨é“¾è·¯é—­ç¯</strong>ï¼šæ·±åº¦æ‹†è§£â€œæ–‡æ¡£è§£æ -&gt; æ–‡æœ¬åˆ†å— -&gt; å‘é‡åŒ– (Embedding) -&gt; å‘é‡æ•°æ®åº“å­˜å‚¨ -&gt; ç›¸ä¼¼åº¦æ£€ç´¢ -&gt; ä¸Šä¸‹æ–‡å¢å¼ºç”Ÿæˆâ€çš„å®Œæ•´æŠ€æœ¯é“¾æ¡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-27">ç°ä»£åŒ–çš„ Java åç«¯æ¶æ„æ€ç»´</h3>
<p>ä½ å¯ä»¥å­¦ä¹ åˆ°ä¼˜ç§€çš„å·¥ç¨‹å®è·µï¼š</p>
<ul>
<li><strong>æ‹¥æŠ± Java 21 ä¸ Spring Boot 4.0</strong>ï¼šæŠ¢å…ˆå¸ƒå±€è™šæ‹Ÿçº¿ç¨‹ (Virtual Threads)ã€Record ç±»ç­‰é«˜æ€§èƒ½ç‰¹æ€§ã€‚é’ˆå¯¹ Spring Boot 4.0 çš„æ¨¡å—åŒ–è®¾è®¡è¿›è¡Œæ·±åº¦é€‚é…ï¼Œè®©ä½ çš„æŠ€æœ¯æ ˆé¢†å…ˆå¸‚åœºã€‚</li>
<li><strong>æ¨¡å—åŒ–å•ä½“æ¶æ„</strong>ï¼šå­¦ä¹ å¦‚ä½•é€šè¿‡æ¸…æ™°çš„å±‚çº§ï¼ˆModules + Infrastructure + Commonï¼‰ç»„ç»‡ä»£ç ã€‚è¿™ç§è®¾è®¡æ—¢å…·å¤‡å¾®æœåŠ¡çš„è§£è€¦ä¼˜åŠ¿ï¼Œåˆæå¤§é™ä½äº†å•ä½“åº”ç”¨çš„è¿ç»´å¿ƒæ™ºè´Ÿæ‹…ã€‚</li>
<li><strong>æè‡´çš„å¯¹è±¡è½¬æ¢æ€§èƒ½</strong>ï¼šé€šè¿‡ MapStruct åœ¨ç¼–è¯‘æœŸç”Ÿæˆæ˜ å°„ä»£ç ã€‚å­¦ä¹ å¦‚ä½•åœ¨è¿½æ±‚æè‡´å“åº”é€Ÿåº¦çš„åœºæ™¯ä¸‹ï¼Œä¼˜é›…ã€å®‰å…¨åœ°å¤„ç† Entity ä¸ DTO ä¹‹é—´çš„å¤æ‚æ˜ å°„ã€‚</li>
</ul>
<h3 data-id="heading-28">åŠ¡å®çš„æ•°æ®å­˜å‚¨ä¸ä¸­é—´ä»¶é€‰å‹</h3>
<p>æˆ‘ä»¬æ‹’ç»ç›²ç›®å †ç Œä¸­é—´ä»¶ï¼Œè€Œæ˜¯æ•™ä½ å¦‚ä½•åŸºäºä¸šåŠ¡åœºæ™¯åšå‡ºâ€œæœ€ç†æ™ºâ€çš„é€‰æ‹©ï¼š</p>
<ul>
<li>**PostgreSQL + pgvector çš„â€œä¸€ç«™å¼â€å­˜å‚¨æ–¹æ¡ˆï¼š**æŒæ¡å¦‚ä½•åœ¨åŒä¸€å¥—æ•°æ®åº“ä¸­é«˜æ•ˆå¤„ç†å…³ç³»å‹ä¸šåŠ¡æ•°æ®ä¸é«˜ç»´å‘é‡æ•°æ®ã€‚æ·±å…¥å­¦ä¹  HNSW ç´¢å¼•åœ¨ä¸‡çº§æ–‡æ¡£åœºæ™¯ä¸‹çš„æ€§èƒ½è°ƒä¼˜å®è·µã€‚</li>
<li><strong>Redis + Lua åˆ†å¸ƒå¼é™æµä½“ç³»</strong>ï¼šå®æˆ˜å°è£…é«˜æ€§èƒ½åˆ†å¸ƒå¼é™æµç»„ä»¶ã€‚åŸºäº Lua è„šæœ¬ ä¿è¯é™æµé€»è¾‘çš„åŸå­æ€§ï¼Œæ”¯æŒæŒ‰ç”¨æˆ·ã€IP æˆ–å…¨å±€ç»´åº¦çš„ç²¾å‡†æµé‡æ§åˆ¶ï¼Œæœ‰æ•ˆé˜²å¾¡æ¶æ„åˆ·æ¥å£è¡Œä¸ºï¼Œä¿éšœé«˜ä»·å€¼ AI API çš„é…é¢å®‰å…¨ã€‚</li>
<li><strong>Redis Stream å¼‚æ­¥ä»»åŠ¡å¤„ç†</strong>ï¼šæ·±å…¥æ¢è®¨åœ¨ç®€å†åˆ†æç­‰è€—æ—¶åœºæ™¯ï¼ˆ10-60sï¼‰ä¸‹ï¼Œä¸ºä»€ä¹ˆé€‰æ‹©è½»é‡çº§çš„ Redis Stream è€Œé Kafkaã€‚å®æˆ˜æ¼”ç¤ºå¦‚ä½•é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å®ç°ç³»ç»Ÿè§£è€¦ä¸æµé‡å‰Šå³°ã€‚</li>
<li><strong>ä¼ä¸šçº§æ–‡ä»¶å¤„ç†ä¸æ¸…æ´—ä¼˜åŒ–</strong>ï¼šä¸ä»…åˆ©ç”¨ Apache Tika æ„å»ºé€šç”¨çš„æ–‡æ¡£è§£æå¼•æ“ï¼Œè¿˜é…å¥—å®ç°äº† TextCleaningServiceã€‚é€šè¿‡æ­£åˆ™æ¸…æ´—ã€ç©ºè¡Œæ ‡å‡†åŒ–åŠæ–‡æœ¬å»å™ªï¼ˆå¦‚å‰”é™¤å›¾ç‰‡é“¾æ¥ã€éæ³•æ§åˆ¶å­—ç¬¦ï¼‰ï¼Œæ˜¾è‘—æå‡ RAG çš„å¬å›è´¨é‡ï¼›åŒæ—¶é›†æˆ å†…å®¹å“ˆå¸Œæ£€æµ‹ï¼Œä»æºå¤´æ‹¦æˆªé‡å¤ä¸Šä¼ ï¼ŒèŠ‚çœå­˜å‚¨ä¸ Token æˆæœ¬ã€‚</li>
</ul>
<h3 data-id="heading-29">æ ‡å‡†åŒ–çš„å·¥ç¨‹åŒ–äº¤ä»˜ä¸éƒ¨ç½²</h3>
<ul>
<li>
<p><strong>Gradle ç°ä»£æ„å»ºä½“ç³»</strong>ï¼šæ‘†è„± Maven çš„ç¹çé…ç½®ï¼ŒæŒæ¡ Gradle 8.14 åŠå…¶ç‰ˆæœ¬ç›®å½• (Version Catalog) çš„çµæ´»æ€§ï¼Œå­¦ä¹ å¦‚ä½•ä¼˜é›…åœ°ç®¡ç†å¤§å‹é¡¹ç›®ä¾èµ–ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿäº§çº§å®¹å™¨åŒ–éƒ¨ç½²</strong>ï¼šé€šè¿‡ Docker Compose ä¸€é”®æ­å»ºåŒ…å«æ•°æ®åº“æ‰©å±•ã€ç¼“å­˜ã€å¯¹è±¡å­˜å‚¨åœ¨å†…çš„å…¨å¥—è¿è¡Œç¯å¢ƒï¼Œç†è§£äº‘åŸç”Ÿæ—¶ä»£ä¸‹çš„åŸºç¡€è®¾æ–½é…ç½®è§„èŒƒã€‚</p>
</li>
</ul>
<h3 data-id="heading-30">ä¸æ»‘çš„å‰ç«¯å·¥ç¨‹åŒ–ä¸äº¤äº’ä½“éªŒ</h3>
<p>å¯¹äºåç«¯å¼€å‘è€…ï¼Œè¿™æ›´æ˜¯ä¸€æ¬¡è¡¥é½â€œå…¨æ ˆè§†é‡â€çš„ç»ä½³æœºä¼šï¼š</p>
<ul>
<li>
<p><strong>SSE (Server-Sent Events) æµå¼æ¸²æŸ“</strong>ï¼šæŒæ¡åƒ ChatGPT ä¸€æ ·é€å­—è¾“å‡ºå›ç­”çš„åº•å±‚æŠ€æœ¯ï¼Œç†è§£å…¶åœ¨å•å‘æ¨é€åœºæ™¯ä¸‹ç›¸æ¯” WebSocket çš„æ¶æ„ä¼˜åŠ¿ã€‚</p>
</li>
<li>
<p><strong>å“åº”å¼ UI ä¸åŠ¨æ•ˆè®¾è®¡</strong>ï¼šåˆ©ç”¨ Tailwind CSS æç®€æ„å»ºç¾è§‚ç•Œé¢ï¼Œç»“åˆ Framer Motion å®ç°é«˜çº§äº¤äº’åŠ¨æ•ˆã€‚</p>
</li>
<li>
<p><strong>AI æ•°æ®å¯è§†åŒ–</strong>ï¼šé€šè¿‡ Recharts å°† AI åˆ†æåçš„ç®€å†è¯„åˆ†ã€å¤šç»´å¯¹æ¯”ä»¥ç›´è§‚çš„é›·è¾¾å›¾å½¢å¼å‘ˆç°ï¼Œè®©æ•°æ®â€œä¼šè¯´è¯â€ã€‚</p>
</li>
</ul>
<h2 data-id="heading-31">åŠ å…¥å­¦ä¹ </h2>
<p>å¦‚æœä½ æƒ³å­¦ä¹ è¿™ä¸ªé¡¹ç›®ï¼Œæˆ–è€…å¸Œæœ›æŠŠå®ƒä½œä¸ºä¸ªäººé¡¹ç›®ç»å† / æ¯•è®¾é€‰é¢˜ï¼Œæˆ‘æ•´ç†çš„è¿™ä¸€å¥—æ•™ç¨‹éå¸¸ç»†è‡´ï¼šä»åŸºç¡€è®¾æ–½æ­å»ºã€æ ¸å¿ƒä¸šåŠ¡å®ç°ï¼Œåˆ°æœ€åå¦‚ä½•åœ¨é¢è¯•ä¸­è®²æ¸…æ¥šæ€è·¯ä¸äº®ç‚¹ï¼Œå°½é‡æŠŠå®¹æ˜“å¡ä½çš„åœ°æ–¹è®²é€ã€‚</p>
<p>å¦‚æœä½ ç¡®å®éœ€è¦æ›´ç³»ç»Ÿçš„è¾…å¯¼ï¼Œå¯ä»¥ç‚¹è¿™é‡Œäº†è§£è¯¦æƒ…ï¼ˆ<strong>æ•™ç¨‹ä¸ºä»˜è´¹å†…å®¹</strong>ï¼Œä¸»è¦æ˜¯æƒ³è¦†ç›–ä¸€äº›æ—¶é—´æˆæœ¬ï¼Œæœ›ç†è§£ï¼Œæ„Ÿè°¢æ”¯æŒï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fzhuanlan%2Finterview-guide.html" target="_blank" title="https://javaguide.cn/zhuanlan/interview-guide.html" ref="nofollow noopener noreferrer">ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAG çŸ¥è¯†åº“ã€‹</a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ Frontend Test Agent: é‡æ–°å®šä¹‰å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•]]></title>    <link>https://juejin.cn/post/7601175299011985423</link>    <guid>https://juejin.cn/post/7601175299011985423</guid>    <pubDate>2026-02-01T14:25:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601175299011985423" data-draft-id="7601384029610950671" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ Frontend Test Agent: é‡æ–°å®šä¹‰å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•"/> <meta itemprop="keywords" content="å‰ç«¯,LLM,æµ‹è¯•"/> <meta itemprop="datePublished" content="2026-02-01T14:25:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å®«ç§‹"/> <meta itemprop="url" content="https://juejin.cn/user/4283353030199528"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ Frontend Test Agent: é‡æ–°å®šä¹‰å‰ç«¯è‡ªåŠ¨åŒ–æµ‹è¯•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353030199528/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å®«ç§‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T14:25:05.000Z" title="Sun Feb 01 2026 14:25:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    58
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86a40be8f995455db9c8f7f0899ae46e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a6r56eL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770604053&amp;x-signature=wbpojEIUE3FtH44UusH%2B2Q2gZY4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ”¥ å¼•è¨€ï¼šé‚£äº›è¢«æµ‹è¯•æŠ˜ç£¨è¿‡çš„æ—¥æ—¥å¤œå¤œ</h2>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾æœ‰è¿‡è¿™æ ·çš„ç»å†ï¼Ÿ</p>
<p>æ·±å¤œåŠ ç­ï¼ŒåŠŸèƒ½ä»£ç æ—©å·²å®Œæˆï¼Œå´è¿˜åœ¨ä¸ºç¼–å†™æµ‹è¯•ç”¨ä¾‹è‹¦ç†¬ï¼›ä¸Šçº¿å‰ç„¦è™‘åœ°æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡ï¼Œæ‹…å¿ƒé—æ¼äº†ä»€ä¹ˆè¾¹ç•Œæƒ…å†µï¼›æµ‹è¯•å¤±è´¥æ—¶ï¼Œå¯¹ç€æ»¡å±å¹•çš„é”™è¯¯ä¿¡æ¯æŠ“è€³æŒ è…®ï¼ŒåŠå¤©æ‰¾ä¸åˆ°é—®é¢˜æ ¹æº...</p>
<p>è¿™äº›ç—›ç‚¹ï¼Œæˆ‘ä»¬éƒ½æ‡‚ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€ä¸ªå·¥å…·â€”â€”<strong>Frontend Test Agent</strong>ã€‚å®ƒä¸æ˜¯å†·å†°å†°çš„ä»£ç å·¥å…·ï¼Œè€Œæ˜¯é€ç»™æ‰€æœ‰å‰ç«¯å¼€å‘è€…çš„ä¸€ä»½ç¤¼ç‰©ï¼Œå¸Œæœ›èƒ½è®©æµ‹è¯•ä»æŠ˜ç£¨å˜æˆäº«å—ï¼Œä»è´Ÿæ‹…å˜æˆåŠ©åŠ›ã€‚</p>
<p><strong>é¡¹ç›®é—¨æˆ·</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffrontend-test-agent.vercel.app%2F" target="_blank" title="https://frontend-test-agent.vercel.app/" ref="nofollow noopener noreferrer">frontend-test-agent.vercel.app/</a><br/>
<strong>å¼€æºåœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzifenggao%2Ffrontend-test-agent" target="_blank" title="https://github.com/zifenggao/frontend-test-agent" ref="nofollow noopener noreferrer">github.com/zifenggao/fâ€¦</a></p>
<h2 data-id="heading-1">ğŸ¯ æŠ€æœ¯æŒ‘æˆ˜ï¼šæ¯ä¸ªå‰ç«¯å›¢é˜Ÿéƒ½æ›¾é‡åˆ°çš„å›°å¢ƒ</h2>
<h3 data-id="heading-2">1. ğŸ’¥ é‚£äº›å†™æµ‹è¯•çš„å¤œæ™šï¼šæ•ˆç‡ä½ä¸‹çš„ç—›</h3>
<ul>
<li><strong>ä½ å¯èƒ½ç»å†è¿‡</strong>ï¼šä¸ºäº†ä¸€ä¸ªç»„ä»¶ï¼ŒèŠ±ä¸ŠåŠå°æ—¶ç”šè‡³ä¸€å°æ—¶ç¼–å†™æµ‹è¯•ç”¨ä¾‹</li>
<li><strong>èƒŒåçš„ä»£ä»·</strong>ï¼šæµ‹è¯•ç¼–å†™å æ®äº†å¼€å‘æ—¶é—´çš„20-30%ï¼Œå¸¸å¸¸æ˜¯åŠŸèƒ½å¼€å‘å®Œäº†ï¼Œæµ‹è¯•è¿˜æ²¡å†™å®Œ</li>
<li><strong>æ— å¥ˆçš„å¦¥å</strong>ï¼šå¾ˆå¤šå›¢é˜Ÿåªèƒ½å¿ç—›å‡å°‘æµ‹è¯•ï¼Œç»“æœå°±æ˜¯çº¿ä¸Šbugé¢‘å‘ï¼Œç”¨æˆ·æŠ•è¯‰ä¸æ–­</li>
</ul>
<h3 data-id="heading-3">2. ğŸš¨ çœ‹ä¸è§çš„é£é™©ï¼šæµ‹è¯•è¦†ç›–ç‡çš„å›°æ‰°</h3>
<ul>
<li><strong>äººçš„å±€é™</strong>ï¼šé äººå·¥åˆ¤æ–­å“ªäº›åœºæ™¯éœ€è¦æµ‹è¯•ï¼Œæ€»æ˜¯ä¼šæœ‰é—æ¼</li>
<li><strong>éšè—çš„é™·é˜±</strong>ï¼šè¾¹ç•Œæƒ…å†µã€é”™è¯¯åœºæ™¯å¾€å¾€æ˜¯æœ€å®¹æ˜“è¢«å¿½ç•¥çš„</li>
<li><strong>çœŸå®çš„åæœ</strong>ï¼šæµ‹è¯•è¦†ç›–ç‡é€šå¸¸åªæœ‰60-70%ï¼Œå¾ˆå¤šæ½œåœ¨é—®é¢˜åœ¨ä¸Šçº¿åæ‰æš´éœ²</li>
</ul>
<h3 data-id="heading-4">3. ğŸ” æµ‹è¯•å¤±è´¥æ—¶çš„æ— åŠ©ï¼šå®šä½é—®é¢˜çš„ç…ç†¬</h3>
<ul>
<li><strong>ç†Ÿæ‚‰çš„åœºæ™¯</strong>ï¼šæµ‹è¯•å¤±è´¥äº†ï¼Œç¿»æ¥è¦†å»çœ‹é”™è¯¯ä¿¡æ¯ï¼Œä¸€ä¸¤ä¸ªå°æ—¶å°±è¿™ä¹ˆè¿‡å»äº†</li>
<li><strong>ç»éªŒçš„é—¨æ§›</strong>ï¼šåªæœ‰èµ„æ·±å¼€å‘è€…æ‰èƒ½å¿«é€Ÿå®šä½é—®é¢˜ï¼Œæ–°æ‰‹å¾€å¾€æŸæ‰‹æ— ç­–</li>
<li><strong>å»¶è¯¯çš„è¿›åº¦</strong>ï¼šä¿®å¤æµ‹è¯•é—®é¢˜çš„æ—¶é—´ï¼Œæœ¬å¯ä»¥ç”¨æ¥å¼€å‘æ–°åŠŸèƒ½</li>
</ul>
<h2 data-id="heading-5">ğŸš€ Frontend Test Agent: ç”¨æŠ€æœ¯æ¸©æš–æ¯ä¸€ä½å¼€å‘è€…</h2>
<h3 data-id="heading-6">ğŸ¤– æŠ€æœ¯æ ¸å¿ƒï¼šAIä¸ASTçš„å®Œç¾ç»“åˆ</h3>
<p>æˆ‘ä»¬ç›¸ä¿¡ï¼Œå¥½çš„æŠ€æœ¯åº”è¯¥æ˜¯æœ‰æ¸©åº¦çš„ã€‚Frontend Test Agentçš„æ ¸å¿ƒåˆ›æ–°ï¼Œå°±æ˜¯å°†<strong>å¤§è¯­è¨€æ¨¡å‹AI</strong>çš„æ™ºèƒ½ç†è§£èƒ½åŠ›ä¸**æŠ½è±¡è¯­æ³•æ ‘(AST)**çš„ç²¾å‡†åˆ†æèƒ½åŠ›ç»“åˆèµ·æ¥ï¼Œè®©æµ‹è¯•è‡ªåŠ¨åŒ–å˜å¾—æ—¢æ™ºèƒ½åˆå¯é ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A["ä½ çš„å‰ç«¯ä»£ç &lt;br/&gt;.tsx/.jsx/.vue"] --&gt; B["ASTè¯­æ³•åˆ†æå™¨&lt;br/&gt;ç†è§£ä½ çš„ç»„ä»¶"]
    B --&gt; C["AIæµ‹è¯•ç”Ÿæˆå™¨&lt;br/&gt;ä¸ºä½ å®šåˆ¶æµ‹è¯•"]
    C --&gt; D["æµ‹è¯•ç»“æœæ–‡ä»¶&lt;br/&gt;test-results"]
    D --&gt; E["æ™ºèƒ½åˆ†æåŠ©æ‰‹&lt;br/&gt;å¸®ä½ æ‰¾é—®é¢˜æ ¹å› &lt;br/&gt;ç»™ä½ ä¿®å¤å»ºè®®"]
    E --&gt; F["æµ‹è¯•æ‰§è¡Œå¼•æ“&lt;br/&gt;Jest/Cypress/&lt;br/&gt;Playwright"]
    F --&gt; G["å¯è§†åŒ–æŠ¥å‘Š&lt;br/&gt;ä¸€ç›®äº†ç„¶çš„ç»“æœ&lt;br/&gt;è®©ä½ æ›´çœå¿ƒ"]
    F --&gt; A
    E --&gt; B
</code></pre>
<h3 data-id="heading-7">ğŸ”§ æŠ€æœ¯äº®ç‚¹ï¼šä¸ºå¼€å‘è€…ç€æƒ³çš„äº”å¤§è®¾è®¡</h3>
<h4 data-id="heading-8">1. ğŸ¯ æ™ºèƒ½æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆï¼šæ‡‚ä½ çš„ä»£ç ï¼Œæ›´æ‡‚ä½ çš„éœ€æ±‚</h4>
<ul>
<li><strong>AIé©±åŠ¨</strong>ï¼šåŸºäºOpenAI GPT-4o-miniæ¨¡å‹ï¼Œå°±åƒä¸€ä½ç»éªŒä¸°å¯Œçš„æµ‹è¯•å·¥ç¨‹å¸ˆ</li>
<li><strong>æ·±åº¦ç†è§£</strong>ï¼šé€šè¿‡ASTåˆ†æï¼ŒçœŸæ­£ç†è§£ä½ çš„ç»„ä»¶ç»“æ„å’Œä¸šåŠ¡é€»è¾‘</li>
<li><strong>åœºæ™¯å…¨è¦†ç›–</strong>ï¼šè‡ªåŠ¨ä¸ºä½ è€ƒè™‘æ­£å¸¸æµç¨‹ã€è¾¹ç•Œæƒ…å†µã€é”™è¯¯åœºæ™¯</li>
<li><strong>å¤šæ¡†æ¶æ”¯æŒ</strong>ï¼šæ— è®ºæ˜¯Reactã€Vueè¿˜æ˜¯Angularï¼Œéƒ½èƒ½å®Œç¾é€‚é…</li>
</ul>
<h4 data-id="heading-9">2. âš¡ å¹¶è¡ŒåŒ–æµ‹è¯•æ‰§è¡Œï¼šè®©ç­‰å¾…æˆä¸ºè¿‡å»</h4>
<ul>
<li><strong>å¤šæ¡†æ¶å…¼å®¹</strong>ï¼šç»Ÿä¸€æ”¯æŒJestã€Cypressã€Playwrightï¼Œä½ ç”¨ä»€ä¹ˆæˆ‘ä»¬å°±æ”¯æŒä»€ä¹ˆ</li>
<li><strong>æ™ºèƒ½è°ƒåº¦</strong>ï¼šæ ¹æ®ä½ çš„ç”µè„‘æ€§èƒ½å’Œæµ‹è¯•ç±»å‹ï¼Œè‡ªåŠ¨åˆ†é…ä»»åŠ¡</li>
<li><strong>å¢é‡æµ‹è¯•</strong>ï¼šåªè¿è¡Œä½ ä¿®æ”¹è¿‡çš„ä»£ç ç›¸å…³çš„æµ‹è¯•ï¼ŒèŠ‚çœä½ çš„æ—¶é—´</li>
<li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šè‡ªåŠ¨å¤„ç†ä¾èµ–å’Œé…ç½®ï¼Œä½ ä¸ç”¨å†ä¸ºç¯å¢ƒé—®é¢˜å¤´ç–¼</li>
</ul>
<h4 data-id="heading-10">3. ğŸ” æœºå™¨å­¦ä¹ é©±åŠ¨çš„ç»“æœåˆ†æï¼šä½ çš„æµ‹è¯•è¯Šæ–­ä¸“å®¶</h4>
<ul>
<li><strong>è‡ªåŠ¨æ ¹å› åˆ†æ</strong>ï¼šæµ‹è¯•å¤±è´¥äº†ï¼Ÿæˆ‘ä»¬å¸®ä½ æ‰¾å‡ºçœŸæ­£çš„åŸå› </li>
<li><strong>æ™ºèƒ½ä¿®å¤å»ºè®®</strong>ï¼šä¸ä»…å‘Šè¯‰ä½ é—®é¢˜åœ¨å“ªï¼Œè¿˜å‘Šè¯‰ä½ æ€ä¹ˆä¿®</li>
<li><strong>æ€§èƒ½ç“¶é¢ˆæ£€æµ‹</strong>ï¼šå‘ç°æ…¢æµ‹è¯•ï¼Œæé†’ä½ ä¼˜åŒ–ï¼Œè®©æµ‹è¯•è·‘å¾—æ›´å¿«</li>
<li><strong>è´¨é‡è¶‹åŠ¿åˆ†æ</strong>ï¼šè·Ÿè¸ªä½ çš„ä»£ç è´¨é‡å˜åŒ–ï¼Œæå‰é¢„è­¦æ½œåœ¨é—®é¢˜</li>
</ul>
<h4 data-id="heading-11">4. ğŸ”Œ æ— ç¼é›†æˆç°æœ‰å·¥ä½œæµï¼šèå…¥ä½ çš„å¼€å‘ä¹ æƒ¯</h4>
<ul>
<li><strong>æ„å»ºå·¥å…·å…¼å®¹</strong>ï¼šä¸ç®¡ä½ ç”¨Viteã€Webpackè¿˜æ˜¯Rollupï¼Œéƒ½èƒ½è½»æ¾é›†æˆ</li>
<li><strong>CI/CDé›†æˆ</strong>ï¼šåœ¨GitHub Actionsã€GitLab CIã€Jenkinsä¸­è‡ªåŠ¨è¿è¡Œï¼Œä¸ç”¨æ‰‹åŠ¨æ“ä½œ</li>
<li><strong>ä»£ç æ‰˜ç®¡å¹³å°é›†æˆ</strong>ï¼šPRè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï¼Œè®©ä»£ç å®¡æŸ¥æ›´æœ‰ä¾æ®</li>
</ul>
<h4 data-id="heading-12">5. ğŸ§© VS Codeæ’ä»¶ï¼šå°±åœ¨ä½ èº«è¾¹çš„æµ‹è¯•åŠ©æ‰‹</h4>
<ul>
<li><strong>ç¼–è¾‘å™¨å†…é›†æˆ</strong>ï¼šå³é”®ç‚¹å‡»å°±èƒ½ç”Ÿæˆæµ‹è¯•ï¼Œä¸ç”¨åˆ‡æ¢çª—å£</li>
<li><strong>å®æ—¶æµ‹è¯•åé¦ˆ</strong>ï¼šåœ¨ç¼–è¾‘å™¨é‡Œç›´æ¥çœ‹åˆ°æµ‹è¯•ç»“æœï¼Œè¾¹å†™è¾¹æµ‹</li>
<li><strong>æµ‹è¯•æµè§ˆå™¨</strong>ï¼šæ ‘å½¢è§†å›¾ç®¡ç†æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œä¸€ç›®äº†ç„¶</li>
<li><strong>è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ›´æ–°æµ‹è¯•ï¼Œè®©æµ‹è¯•ä¸ä»£ç åŒæ­¥</li>
<li><strong>å¿«æ·é”®æ”¯æŒ</strong>ï¼šCtrl+Shift+Gç”Ÿæˆæµ‹è¯•ï¼ŒCtrl+Shift+Rè¿è¡Œæµ‹è¯•ï¼Œé¡ºæ‰‹åˆçœå¿ƒ</li>
<li><strong>äº¤äº’å¼è¦†ç›–ç‡</strong>ï¼šå½©è‰²ç¼–ç æ˜¾ç¤ºä»£ç è¦†ç›–ç‡ï¼Œå“ªé‡Œæ²¡æµ‹åˆ°ä¸€çœ¼å°±çŸ¥é“</li>
</ul>
<h4 data-id="heading-13">5. ğŸ“Š å¯è§†åŒ–æµ‹è¯•ä¸­å¿ƒï¼šè®©æ•°æ®è¯´è¯ï¼Œæ›´è®©ä½ æ”¾å¿ƒ</h4>
<ul>
<li><strong>å®æ—¶ç›‘æ§</strong>ï¼šæµ‹è¯•æ‰§è¡Œè¿›åº¦å¯è§†åŒ–ï¼Œä¸å†å¯¹ç€é»‘å±å¹²ç­‰</li>
<li><strong>å¤šç»´åˆ†æ</strong>ï¼šä»è¦†ç›–ç‡ã€æ€§èƒ½ã€ç¨³å®šæ€§ç­‰å¤šä¸ªè§’åº¦çœ‹ä½ çš„ä»£ç è´¨é‡</li>
<li><strong>äº¤äº’å¼æŠ¥å‘Š</strong>ï¼šç”Ÿæˆæ¼‚äº®çš„HTMLæŠ¥å‘Šï¼Œåˆ†äº«ç»™å›¢é˜Ÿä¹Ÿå¾ˆæœ‰é¢å­</li>
<li><strong>å‘Šè­¦ç³»ç»Ÿ</strong>ï¼šå…³é”®æŒ‡æ ‡å¼‚å¸¸æ—¶åŠæ—¶æé†’ä½ ï¼Œé˜²æ‚£äºæœªç„¶</li>
</ul>
<h2 data-id="heading-14">ğŸ“ˆ ææ•ˆä»·å€¼ï¼šæˆ‘ä»¬ç”¨æ•°æ®è¯æ˜ï¼Œæ›´ç”¨ä½“éªŒè¯´è¯</h2>
<h3 data-id="heading-15">ğŸ”¢ é‡åŒ–å¯¹æ¯”ï¼šä¼ ç»Ÿæµ‹è¯• vs Frontend Test Agent</h3>















































<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¼ ç»Ÿæ‰‹åŠ¨æµ‹è¯•</th><th>Frontend Test Agent</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>æµ‹è¯•ç”¨ä¾‹ç¼–å†™æ—¶é—´</td><td>10å°æ—¶/100ç»„ä»¶</td><td>1å°æ—¶/100ç»„ä»¶</td><td><strong>90% å‡å°‘</strong></td></tr><tr><td>å¹³å‡æµ‹è¯•è¦†ç›–ç‡</td><td>65%</td><td>95%</td><td><strong>46% æå‡</strong></td></tr><tr><td>æµ‹è¯•æ‰§è¡Œæ•ˆç‡</td><td>30åˆ†é’Ÿ/è½®</td><td>5åˆ†é’Ÿ/è½®</td><td><strong>83% æå‡</strong></td></tr><tr><td>é—®é¢˜å®šä½æ—¶é—´</td><td>15åˆ†é’Ÿ/é—®é¢˜</td><td>1åˆ†é’Ÿ/é—®é¢˜</td><td><strong>93% å‡å°‘</strong></td></tr><tr><td>å›å½’æµ‹è¯•å®Œæ•´æ€§</td><td>70%</td><td>99%</td><td><strong>41% æå‡</strong></td></tr><tr><td>å›¢é˜Ÿæµ‹è¯•æŠ•å…¥å æ¯”</td><td>30%</td><td>5%</td><td><strong>83% å‡å°‘</strong></td></tr></tbody></table>
<h3 data-id="heading-16">ğŸ’¡ çœŸå®æ•…äº‹ï¼šä¸€å®¶äº’è”ç½‘å…¬å¸çš„æµ‹è¯•é©å‘½</h3>
<blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šè¿™æ˜¯æˆ‘ä»¬åˆä½œçš„ä¸€å®¶å®¢æˆ·ï¼Œ100å¤šä½å‰ç«¯å·¥ç¨‹å¸ˆï¼Œæ¯å‘¨è¦å‘å¸ƒ20å¤šä¸ªç‰ˆæœ¬ï¼Œæµ‹è¯•ä¸€ç›´æ˜¯ä»–ä»¬çš„å™©æ¢¦
<strong>ä½¿ç”¨å‰</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªè¿­ä»£è¦èŠ±2000å¤šå°æ—¶å†™æµ‹è¯•ï¼Œå·¥ç¨‹å¸ˆä»¬å«è‹¦ä¸è¿­</li>
<li>çº¿ä¸Šbugç‡é«˜è¾¾0.8%ï¼Œç”¨æˆ·æŠ•è¯‰è®©äº§å“å›¢é˜Ÿå‹åŠ›å±±å¤§</li>
<li>æµ‹è¯•è¦†ç›–ç‡å¹³å‡åªæœ‰72%ï¼Œä¸Šçº¿å‰æ€»æ˜¯æå¿ƒåŠèƒ†</li>
</ul>
<p><strong>ä½¿ç”¨å</strong>ï¼š</p>
<ul>
<li>æµ‹è¯•ç¼–å†™æ—¶é—´å‡å°‘åˆ°200å°æ—¶/è¿­ä»£ï¼Œå·¥ç¨‹å¸ˆä»¬ç»ˆäºæœ‰æ—¶é—´é™ªå®¶äººäº†</li>
<li>çº¿ä¸Šbugç‡é™åˆ°0.1%ï¼Œç”¨æˆ·æ»¡æ„åº¦æ˜¾è‘—æå‡</li>
<li>æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°96%ï¼Œä¸Šçº¿å˜å¾—ä»å®¹è‡ªä¿¡</li>
<li>æ•´ä½“å¼€å‘æ•ˆç‡æå‡25%ï¼Œä¸šåŠ¡è¿­ä»£é€Ÿåº¦æ˜æ˜¾åŠ å¿«</li>
</ul>
</blockquote>
<h2 data-id="heading-17">ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚ï¼šæˆ‘ä»¬æ˜¯å¦‚ä½•åšåˆ°çš„</h2>
<h3 data-id="heading-18">ğŸ§  AIæµ‹è¯•ç”Ÿæˆçš„æŠ€æœ¯å†…å¹•</h3>
<h4 data-id="heading-19">1. ASTè¯­æ³•æ ‘åˆ†ææµç¨‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç®€åŒ–çš„ASTåˆ†ææµç¨‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">analyzeComponent</span>(<span class="hljs-params">fileContent: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-comment">// 1. è§£æä»£ç ç”ŸæˆAST</span>
  <span class="hljs-keyword">const</span> ast = parser.<span class="hljs-title function_">parse</span>(fileContent, {
    <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
    <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'jsx'</span>, <span class="hljs-string">'typescript'</span>]
  });

  <span class="hljs-comment">// 2. éå†ASTæå–ç»„ä»¶ä¿¡æ¯</span>
  <span class="hljs-keyword">const</span> componentInfo = {
    <span class="hljs-attr">props</span>: [],
    <span class="hljs-attr">state</span>: [],
    <span class="hljs-attr">methods</span>: []
  };

  <span class="hljs-title function_">traverse</span>(ast, {
    <span class="hljs-comment">// æå–props</span>
    <span class="hljs-title class_">ObjectPattern</span>(path) {
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isReactComponent</span>(path)) {
        path.<span class="hljs-property">properties</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">prop</span> =&gt;</span> {
          componentInfo.<span class="hljs-property">props</span>.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">name</span>: prop.<span class="hljs-property">key</span>.<span class="hljs-property">name</span>,
            <span class="hljs-attr">type</span>: <span class="hljs-title function_">extractType</span>(prop),
            <span class="hljs-attr">required</span>: !prop.<span class="hljs-property">value</span>
          });
        });
      }
    },
    <span class="hljs-comment">// æå–stateå˜é‡</span>
    <span class="hljs-title class_">CallExpression</span>(path) {
      <span class="hljs-keyword">if</span> (path.<span class="hljs-property">node</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'useState'</span>) {
        componentInfo.<span class="hljs-property">state</span>.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">name</span>: path.<span class="hljs-property">parent</span>.<span class="hljs-property">id</span>.<span class="hljs-property">name</span>,
          <span class="hljs-attr">initialValue</span>: path.<span class="hljs-property">node</span>.<span class="hljs-property">arguments</span>[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>
        });
      }
    },
    <span class="hljs-comment">// æå–æ–¹æ³•</span>
    <span class="hljs-title class_">ArrowFunctionExpression</span>(path) {
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isComponentMethod</span>(path)) {
        componentInfo.<span class="hljs-property">methods</span>.<span class="hljs-title function_">push</span>({
          <span class="hljs-attr">name</span>: path.<span class="hljs-property">parent</span>.<span class="hljs-property">id</span>.<span class="hljs-property">name</span>,
          <span class="hljs-attr">parameters</span>: <span class="hljs-title function_">extractParameters</span>(path),
          <span class="hljs-attr">functionality</span>: <span class="hljs-title function_">analyzeFunctionality</span>(path)
        });
      }
    }
  });

  <span class="hljs-keyword">return</span> componentInfo;
}
</code></pre>
<h4 data-id="heading-20">2. AIæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆçš„Promptè®¾è®¡</h4>
<p>ä»¥ä¸‹ä¸ºä¸»è¦çš„ Prompt æ¡†æ¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> promptTemplate = <span class="hljs-string">`
ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œã€å……æ»¡è€å¿ƒçš„å‰ç«¯æµ‹è¯•å·¥ç¨‹å¸ˆï¼Œ
è¯·ä¸ºä»¥ä¸‹Reactç»„ä»¶ç”Ÿæˆé«˜è´¨é‡çš„å•å…ƒæµ‹è¯•ï¼š

ç»„ä»¶åç§°ï¼š{componentName}
ç»„ä»¶ç±»å‹ï¼š{componentType}

Propsï¼š
{propsList}

Stateå˜é‡ï¼š
{stateList}

æ–¹æ³•ï¼š
{methodsList}

ä¾èµ–åº“ï¼š
{dependencies}

è¯·è®°ä½ï¼š
1. ç”Ÿæˆå®Œæ•´çš„Jestæµ‹è¯•ä»£ç ï¼Œç¡®ä¿å¯ä»¥ç›´æ¥è¿è¡Œ
2. è¦†ç›–æ‰€æœ‰propsçš„æ­£å¸¸å’Œå¼‚å¸¸æƒ…å†µï¼Œå°±åƒä½ åœ¨å®é™…ä½¿ç”¨ä¸­ä¼šé‡åˆ°çš„
3. æµ‹è¯•æ‰€æœ‰æ–¹æ³•çš„åŠŸèƒ½æ­£ç¡®æ€§ï¼ŒéªŒè¯è¾¹ç•Œæƒ…å†µ
4. æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹éƒ½åŠ ä¸Šæ¸…æ™°çš„æ³¨é‡Šï¼Œè¯´æ˜æµ‹è¯•çš„ç›®çš„
5. ä¼°è®¡æµ‹è¯•è¦†ç›–ç‡ï¼Œå¸®åŠ©å¼€å‘è€…äº†è§£æµ‹è¯•çš„å®Œæ•´æ€§
`</span>;
</code></pre>
<h3 data-id="heading-21">âš¡ æµ‹è¯•æ‰§è¡Œå¼•æ“çš„åˆ›æ–°è®¾è®¡</h3>
<h4 data-id="heading-22">1. åŠ¨æ€æµ‹è¯•è°ƒåº¦ç®—æ³•</h4>
<p>æˆ‘ä»¬å¸Œæœ›æµ‹è¯•èƒ½åƒæµæ°´ä¸€æ ·é¡ºç•…ï¼Œæ‰€ä»¥è®¾è®¡äº†è¿™å¥—æ™ºèƒ½è°ƒåº¦ç®—æ³•ï¼Œè®©æ¯ä¸€ä¸ªæµ‹è¯•éƒ½èƒ½åœ¨æœ€åˆé€‚çš„æ—¶é—´ã€æœ€åˆé€‚çš„èµ„æºä¸Šè¿è¡Œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">scheduleTests</span>(<span class="hljs-params">tests: Test[], resources: Resource[]</span>) {
  <span class="hljs-comment">// 1. åˆ†ç±»æµ‹è¯•ç”¨ä¾‹</span>
  <span class="hljs-keyword">const</span> unitTests = tests.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">type</span> === <span class="hljs-string">'unit'</span>);
  <span class="hljs-keyword">const</span> e2eTests = tests.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">type</span> === <span class="hljs-string">'e2e'</span>);
  <span class="hljs-keyword">const</span> integrationTests = tests.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-property">type</span> === <span class="hljs-string">'integration'</span>);

  <span class="hljs-comment">// 2. åŸºäºå†å²æ•°æ®é¢„æµ‹æ‰§è¡Œæ—¶é—´</span>
  <span class="hljs-keyword">const</span> estimatedTimes = tests.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">test</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      ...test,
      <span class="hljs-attr">estimatedTime</span>: <span class="hljs-title function_">predictExecutionTime</span>(test, historyData)
    };
  });

  <span class="hljs-comment">// 3. ä½¿ç”¨è´ªå¿ƒç®—æ³•åˆ†é…ä»»åŠ¡åˆ°ä¸åŒè¿›ç¨‹</span>
  <span class="hljs-keyword">const</span> tasks = [];
  <span class="hljs-keyword">const</span> workers = resources.<span class="hljs-title function_">map</span>(<span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">timeUsed</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">tests</span>: [] }));

  estimatedTimes.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">estimatedTime</span> - a.<span class="hljs-property">estimatedTime</span>);

  estimatedTimes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">test</span> =&gt;</span> {
    <span class="hljs-comment">// æ‰¾åˆ°å½“å‰æœ€ç©ºé—²çš„worker</span>
    <span class="hljs-keyword">const</span> worker = workers.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">min, current</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> current.<span class="hljs-property">timeUsed</span> &lt; min.<span class="hljs-property">timeUsed</span> ? current : min;
    });

    worker.<span class="hljs-property">timeUsed</span> += test.<span class="hljs-property">estimatedTime</span>;
    worker.<span class="hljs-property">tests</span>.<span class="hljs-title function_">push</span>(test);
  });

  <span class="hljs-keyword">return</span> workers;
}
</code></pre>
<h2 data-id="heading-23">ğŸŒŸ æœªæ¥è§„åˆ’ï¼šä¸å¼€å‘è€…ä¸€èµ·æˆé•¿</h2>
<p>æˆ‘ä»¬çš„æ„¿æ™¯ï¼Œæ˜¯è®©Frontend Test Agentæˆä¸ºæ¯ä¸€ä½å‰ç«¯å¼€å‘è€…çš„è´´å¿ƒä¼™ä¼´ã€‚æœªæ¥ï¼Œæˆ‘ä»¬ä¼šä¸æ–­åŠªåŠ›ï¼š</p>
<h3 data-id="heading-24">ğŸš€ çŸ­æœŸè§„åˆ’ï¼ˆæ¥ä¸‹æ¥3ä¸ªæœˆï¼‰</h3>
<ul>
<li>æ¨å‡ºåŠŸèƒ½æ›´å¼ºå¤§çš„VS Codeæ’ä»¶ï¼Œåœ¨ä½ å†™ä»£ç æ—¶å°±ç»™å‡ºæµ‹è¯•å»ºè®®</li>
<li>æ”¯æŒæ›´å¤šå‰ç«¯æ¡†æ¶ï¼ŒåŒ…æ‹¬Svelteã€Solid.jsç­‰æ–°å…´æ¡†æ¶</li>
<li>å¢å¼ºæ€§èƒ½æµ‹è¯•åŠŸèƒ½ï¼Œå¸®åŠ©ä½ æ‰“é€ æ›´å¿«çš„åº”ç”¨</li>
</ul>
<h3 data-id="heading-25">ğŸ¯ ä¸­æœŸè§„åˆ’ï¼ˆ6-12ä¸ªæœˆï¼‰</h3>
<ul>
<li>å¼•å…¥è‡ªæˆ‘å­¦ä¹ ç³»ç»Ÿï¼Œé€æ¸é€‚åº”ä½ çš„å›¢é˜Ÿä»£ç é£æ ¼ï¼Œç”Ÿæˆæ›´ç¬¦åˆä½ ä¹ æƒ¯çš„æµ‹è¯•</li>
<li>å®ç°æµ‹è¯•ç”¨ä¾‹è‡ªåŠ¨ç»´æŠ¤ï¼Œå½“ä½ ä¿®æ”¹ä»£ç æ—¶ï¼Œæµ‹è¯•ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°</li>
<li>æä¾›ä¼ä¸šçº§ç‰ˆæœ¬ï¼Œæ”¯æŒç§æœ‰éƒ¨ç½²å’Œæ›´å¤šé«˜çº§åŠŸèƒ½</li>
</ul>
<h3 data-id="heading-26">ğŸ”® é•¿æœŸæ„¿æ™¯ï¼ˆ1-3å¹´ï¼‰</h3>
<ul>
<li>å®ç°å®Œå…¨è‡ªåŠ¨åŒ–çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä»UIåˆ°APIä¸€ç«™å¼è¦†ç›–</li>
<li>åŸºäºAIçš„æµ‹è¯•ç­–ç•¥ä¼˜åŒ–ï¼Œæ ¹æ®ä½ çš„é¡¹ç›®ç‰¹ç‚¹è‡ªåŠ¨è°ƒæ•´æµ‹è¯•æ–¹æ¡ˆ</li>
<li>ä¸å¼€å‘å…¨æµç¨‹æ·±åº¦èåˆï¼Œæˆä¸ºDevOpsä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†</li>
</ul>
<h2 data-id="heading-27">ğŸ¤ åŠ å…¥æˆ‘ä»¬ï¼šä¸€èµ·è®©å‰ç«¯æµ‹è¯•æ›´æ¸©æš–</h2>
<p>Frontend Test Agentæ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„é¡¹ç›®ï¼Œå°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒèƒ½æˆä¸ºå‰ç«¯å¼€å‘è€…çš„è´´å¿ƒåŠ©æ‰‹ã€‚</p>
<h3 data-id="heading-28">ğŸ“¦ å¿«é€Ÿå¼€å§‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£…</span>
npm install -g frontend-test-agent

<span class="hljs-comment"># ç”Ÿæˆæµ‹è¯•</span>
test-agent generate src/components --framework react

<span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
test-agent run __tests__ --runner jest

<span class="hljs-comment"># åˆ†æç»“æœ</span>
test-agent analyze test-results.json
</code></pre>
<h3 data-id="heading-29">ğŸŒ± è´¡çŒ®æŒ‡å—</h3>
<ul>
<li><strong>GitHubä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzifenggao%2Ffrontend-test-agent" target="_blank" title="https://github.com/zifenggao/frontend-test-agent" ref="nofollow noopener noreferrer">github.com/zifenggao/fâ€¦</a></li>
<li><strong>Issueæäº¤</strong>ï¼šæ— è®ºä½ å‘ç°äº†bugï¼Œè¿˜æ˜¯æœ‰æ–°åŠŸèƒ½å»ºè®®ï¼Œéƒ½æ¬¢è¿å‘Šè¯‰æˆ‘ä»¬</li>
<li><strong>PRæäº¤</strong>ï¼šä½ çš„æ¯ä¸€è¡Œä»£ç è´¡çŒ®ï¼Œéƒ½åœ¨è®©è¿™ä¸ªå·¥å…·å˜å¾—æ›´å¥½</li>
<li><strong>ç¤¾åŒºè®¨è®º</strong>ï¼šåŠ å…¥æˆ‘ä»¬çš„Discordç¤¾åŒºï¼Œå’Œå…¶ä»–å¼€å‘è€…åˆ†äº«ä½¿ç”¨å¿ƒå¾—</li>
</ul>
<h2 data-id="heading-30">ğŸ™ è‡´è°¢ï¼šæ¯ä¸€ä»½æ”¯æŒéƒ½æ˜¯æ¸©æš–çš„åŠ›é‡</h2>
<p>æ„Ÿè°¢æ‰€æœ‰ä¸ºFrontend Test Agentåšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ï¼è¿™ä¸ªé¡¹ç›®çš„æ¯ä¸€æ­¥æˆé•¿ï¼Œéƒ½ç¦»ä¸å¼€å¤§å®¶çš„æ”¯æŒå’Œåé¦ˆã€‚</p>
<p>ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼Œå®ƒä»¬å°±åƒæˆ‘ä»¬çš„ä¼™ä¼´ä¸€æ ·ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenai.com%2F" target="_blank" title="https://openai.com/" ref="nofollow noopener noreferrer">OpenAI</a> - æä¾›äº†å¼ºå¤§çš„AIæ¨¡å‹ï¼Œè®©æ™ºèƒ½æµ‹è¯•æˆä¸ºå¯èƒ½</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbabeljs.io%2F" target="_blank" title="https://babeljs.io/" ref="nofollow noopener noreferrer">Babel</a> - ASTè§£ææ”¯æŒï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£ä»£ç </li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjestjs.io%2F" target="_blank" title="https://jestjs.io/" ref="nofollow noopener noreferrer">Jest</a> - ä¼˜ç§€çš„æµ‹è¯•æ¡†æ¶ï¼Œæ˜¯æˆ‘ä»¬çš„åŸºç¡€</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cypress.io%2F" target="_blank" title="https://www.cypress.io/" ref="nofollow noopener noreferrer">Cypress</a> - E2Eæµ‹è¯•çš„å¾—åŠ›åŠ©æ‰‹</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fplaywright.dev%2F" target="_blank" title="https://playwright.dev/" ref="nofollow noopener noreferrer">Playwright</a> - è·¨æµè§ˆå™¨æµ‹è¯•çš„å¯é ä¼™ä¼´</li>
</ul>
<h2 data-id="heading-31">ğŸ”¥ ç»“è¯­ï¼šæµ‹è¯•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ç§äº«å—</h2>
<p>Frontend Test Agentå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§ç†å¿µâ€”â€”è®©æŠ€æœ¯æœåŠ¡äºäººï¼Œè®©å¼€å‘å˜å¾—æ›´å¿«ä¹ã€‚</p>
<p>æˆ‘ä»¬ç›¸ä¿¡ï¼Œå½“æµ‹è¯•ä¸å†æ˜¯è´Ÿæ‹…ï¼Œå½“å¼€å‘è€…èƒ½å¤Ÿå°†æ›´å¤šç²¾åŠ›æ”¾åœ¨åˆ›é€ ä»·å€¼ä¸Šï¼Œå‰ç«¯å¼€å‘çš„æœªæ¥ä¼šæ›´åŠ ç¾å¥½ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ— è®ºä½ æ˜¯æµ‹è¯•æ–°æ‰‹è¿˜æ˜¯èµ„æ·±ä¸“å®¶ï¼Œæ— è®ºä½ åœ¨å¤§å…¬å¸è¿˜æ˜¯å°å›¢é˜Ÿï¼Œæˆ‘ä»¬éƒ½é‚€è¯·ä½ åŠ å…¥æˆ‘ä»¬çš„æ—…ç¨‹ã€‚</p>
<p>è®©æˆ‘ä»¬ä¸€èµ·ï¼Œé‡æ–°å®šä¹‰å‰ç«¯æµ‹è¯•ï¼Œè®©å®ƒæˆä¸ºå¼€å‘è¿‡ç¨‹ä¸­æœ€æ¸©æš–çš„éƒ¨åˆ†ã€‚ğŸš€</p>
<hr/>
<p><strong>å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œå¦‚æœä½ å¸Œæœ›æµ‹è¯•å˜å¾—æ›´ç®€å•ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ æ”¯æŒã€‚ä½ çš„æ¯ä¸€ä»½é¼“åŠ±ï¼Œéƒ½æ˜¯æˆ‘ä»¬å‰è¿›çš„åŠ¨åŠ›ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Porfforï¼šç”¨ JavaScript å†™çš„ JavaScript AOT ç¼–è¯‘å™¨]]></title>    <link>https://juejin.cn/post/7601441797118197811</link>    <guid>https://juejin.cn/post/7601441797118197811</guid>    <pubDate>2026-02-01T14:23:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601441797118197811" data-draft-id="7601444617695363082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Porfforï¼šç”¨ JavaScript å†™çš„ JavaScript AOT ç¼–è¯‘å™¨"/> <meta itemprop="keywords" content="JavaScript,ç¼–è¯‘å™¨"/> <meta itemprop="datePublished" content="2026-02-01T14:23:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jump_jump"/> <meta itemprop="url" content="https://juejin.cn/user/4230576474692765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Porfforï¼šç”¨ JavaScript å†™çš„ JavaScript AOT ç¼–è¯‘å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576474692765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jump_jump
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T14:23:15.000Z" title="Sun Feb 01 2026 14:23:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    36
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Porfforï¼šç”¨ JavaScript å†™çš„ JavaScript AOT ç¼–è¯‘å™¨</p>
<blockquote>
<p>å‘éŸ³ï¼š/ËˆpÉ”rfÉ”r/ï¼ˆå¨å°”å£«è¯­ä¸­"ç´«è‰²"çš„æ„æ€ï¼‰</p>
</blockquote>
<p>å¦‚æœä½ å†™è¿‡ JavaScriptï¼Œä½ å¯èƒ½ä¹ æƒ¯äº†å®ƒçš„åŠ¨æ€ç±»å‹ã€å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰å’Œæ— å¤„ä¸åœ¨çš„è¿è¡Œæ—¶ã€‚ä½†æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¦‚æœæŠŠ JavaScript æå‰ç¼–è¯‘æˆæœºå™¨ç ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<p>è¿™å°±æ˜¯ <strong>Porffor</strong> æƒ³è¦å›ç­”çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Porfforï¼Ÿ</h2>
<p>Porffor æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„ <strong>AOTï¼ˆAhead-of-Timeï¼‰JavaScript/TypeScript ç¼–è¯‘å™¨</strong>ï¼Œç”±å¼€å‘è€… Oliver Medhurst ä»é›¶æ„å»ºã€‚å®ƒèƒ½å°† JS/TS ä»£ç ç¼–è¯‘ä¸º WebAssembly å’ŒåŸç”ŸäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>å¬èµ·æ¥ä¸å¤ªç‰¹åˆ«ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>100% AOT ç¼–è¯‘</strong> - æ²¡æœ‰ JITï¼Œç¼–è¯‘ä¸€æ¬¡ï¼Œåˆ°å¤„è¿è¡Œ</li>
<li><strong>æç®€è¿è¡Œæ—¶</strong> - æ— å¸¸é‡è¿è¡Œæ—¶æˆ–é¢„ç½®ä»£ç ï¼Œæœ€å°åŒ– Wasm imports</li>
<li><strong>è‡ªèº«ç¼–å†™</strong> - ç”¨ JavaScript å†™ JavaScript å¼•æ“ï¼Œé¿å…å†…å­˜å®‰å…¨æ¼æ´</li>
<li><strong>åŸç”Ÿæ”¯æŒ TypeScript</strong> - æ— éœ€é¢å¤–æ„å»ºæ­¥éª¤</li>
</ul>
<p>ç›®å‰é¡¹ç›®ä»å¤„äº <strong>pre-alpha</strong> é˜¶æ®µï¼Œä½†å·²ç»é€šè¿‡äº† 61% çš„ Test262 æµ‹è¯•ï¼ˆECMAScript å®˜æ–¹å…¼å®¹æ€§æµ‹è¯•å¥—ä»¶ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-1">å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p>ä¼ ç»Ÿ JavaScript å¼•æ“ä½¿ç”¨è§£é‡Šå™¨æˆ–å¤šå±‚ JIT ç¼–è¯‘å™¨ã€‚ä»£ç åœ¨è¿è¡Œæ—¶è¢«è§£æã€ç¼–è¯‘å’Œä¼˜åŒ–ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ol>
<li>å†·å¯åŠ¨æ…¢ï¼ˆéœ€è¦é¢„çƒ­ï¼‰</li>
<li>è¿è¡Œæ—¶å ç”¨å†…å­˜å¤§ï¼ˆJIT ä»£ç ç¼“å­˜ï¼‰</li>
<li>éœ€è¦å®Œæ•´çš„è¿è¡Œæ—¶ç¯å¢ƒ</li>
</ol>
<p>Porffor é‡‡ç”¨äº†ä¸åŒçš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">JavaScript</span>/<span class="hljs-title class_">TypeScript</span>
        â”‚
        â–¼
   <span class="hljs-title class_">WebAssembly</span> / C ä»£ç 
        â”‚
        â–¼
   åŸç”ŸäºŒè¿›åˆ¶æ–‡ä»¶
</code></pre>
<p>è¿™ç§ AOT æ–¹å¼è®©ä½ åœ¨å¼€å‘æ—¶ç¼–è¯‘ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥è¿è¡Œå·²ç¼–è¯‘çš„ä»£ç â€”â€”æ— éœ€é¢„çƒ­ï¼Œæœ€å°å¼€é”€ã€‚</p>
<h3 data-id="heading-2">ä¸‰ä¸ªè‡ªç ”å­å¼•æ“</h3>
<p>ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼ŒPorffor åŒ…å«ä¸‰ä¸ªè‡ªç ”çš„å­å¼•æ“ï¼š</p>





















<table><thead><tr><th>å­å¼•æ“</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>Asur</strong></td><td>è‡ªç ” Wasm å¼•æ“ï¼Œç®€å•çš„è§£é‡Šå™¨å®ç°</td></tr><tr><td><strong>Rhemyn</strong></td><td>è‡ªç ”æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ï¼Œå°†æ­£åˆ™ç¼–è¯‘ä¸º Wasm å­—èŠ‚ç </td></tr><tr><td><strong>2c</strong></td><td>Wasm â†’ C è½¬è¯‘å™¨ï¼Œç”¨äºç”ŸæˆåŸç”ŸäºŒè¿›åˆ¶</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">å¿«é€Ÿå¼€å§‹</h2>
<h3 data-id="heading-4">å®‰è£…</h3>
<pre><code class="hljs language-bash" lang="bash">npm install -g porffor@latest
</code></pre>
<h3 data-id="heading-5">åŸºæœ¬ç”¨æ³•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># äº¤äº’å¼ REPL</span>
porf

<span class="hljs-comment"># ç›´æ¥è¿è¡Œ JS æ–‡ä»¶</span>
porf script.js

<span class="hljs-comment"># ç¼–è¯‘ä¸º WebAssembly</span>
porf wasm script.js out.wasm

<span class="hljs-comment"># ç¼–è¯‘ä¸ºåŸç”ŸäºŒè¿›åˆ¶</span>
porf native script.js out

<span class="hljs-comment"># ç¼–è¯‘ä¸º C ä»£ç </span>
porf c script.js out.c
</code></pre>
<h3 data-id="heading-6">ç¼–è¯‘é€‰é¡¹</h3>
<pre><code class="hljs language-bash" lang="bash">--parser=acorn|@babel/parser|meriyah|hermes-parser|oxc-parser   <span class="hljs-comment"># é€‰æ‹©è§£æå™¨</span>
--parse-types                                                   <span class="hljs-comment"># è§£æ TypeScript</span>
--opt-types                                                     <span class="hljs-comment"># ä½¿ç”¨ç±»å‹æ³¨è§£ä¼˜åŒ–</span>
--valtype=i32|i64|f64                                         <span class="hljs-comment"># å€¼ç±»å‹ï¼ˆé»˜è®¤ï¼šf64ï¼‰</span>
-O0, -O1, -O2                                                 <span class="hljs-comment"># ä¼˜åŒ–çº§åˆ«</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">è°éœ€è¦ Porfforï¼Ÿ</h2>
<h3 data-id="heading-8">ç¼–è¯‘ä¸º WebAssembly</h3>
<p>Porffor çš„ Wasm è¾“å‡ºæ¯”ç°æœ‰ JSâ†’Wasm é¡¹ç›®å° <strong>10-30 å€</strong>ï¼Œæ€§èƒ½ä¹Ÿå¿« <strong>10-30 å€</strong>ï¼ˆç›¸æ¯”æ‰“åŒ…è§£é‡Šå™¨çš„æ–¹æ¡ˆï¼‰ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><strong>å®‰å…¨çš„æœåŠ¡ç«¯ JS æ‰˜ç®¡</strong> - Wasm æ²™ç®±åŒ–æ‰§è¡Œï¼Œæ— éœ€é¢å¤–éš”ç¦»</li>
<li><strong>è¾¹ç¼˜è®¡ç®—è¿è¡Œæ—¶</strong> - å¿«é€Ÿå†·å¯åŠ¨ï¼Œä½å†…å­˜å ç”¨</li>
<li><strong>ä»£ç ä¿æŠ¤</strong> - ç¼–è¯‘åçš„ä»£ç æ¯”æ··æ·†æ›´éš¾é€†å‘</li>
</ul>
<h3 data-id="heading-9">ç¼–è¯‘ä¸ºåŸç”ŸäºŒè¿›åˆ¶</h3>
<p>Porffor ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶æ¯”ä¼ ç»Ÿæ–¹æ¡ˆå° <strong>1000 å€</strong>ï¼ˆä» ~90MB åˆ° &lt;100KBï¼‰ã€‚</p>
<p>è¿™ä½¿å¾—ä»¥ä¸‹åœºæ™¯æˆä¸ºå¯èƒ½ï¼š</p>
<ul>
<li><strong>åµŒå…¥å¼ç³»ç»Ÿ</strong> - åœ¨èµ„æºå—é™è®¾å¤‡ä¸Šè¿è¡Œ JS</li>
<li><strong>æ¸¸æˆæœºå¼€å‘</strong> - ä»»ä½•æ”¯æŒ C çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨ JS</li>
<li><strong>å¾®å‹ CLI å·¥å…·</strong> - ç”¨ JS å†™ &lt;1MB çš„å¯æ‰§è¡Œæ–‡ä»¶</li>
</ul>
<h3 data-id="heading-10">å®‰å…¨ç‰¹æ€§</h3>
<ul>
<li>ç”¨ JavaScriptï¼ˆå†…å­˜å®‰å…¨è¯­è¨€ï¼‰ç¼–å†™å¼•æ“æœ¬èº«</li>
<li>ä¸æ”¯æŒ <code>eval</code>ï¼Œé˜²æ­¢åŠ¨æ€ä»£ç æ‰§è¡Œ</li>
<li>Wasm æ²™ç®±åŒ–ç¯å¢ƒ</li>
</ul>
<hr/>
<h2 data-id="heading-11">å½“ç„¶ï¼Œå®ƒä¹Ÿæœ‰å±€é™æ€§</h2>
<p>ä½œä¸ºå®éªŒæ€§é¡¹ç›®ï¼ŒPorffor ç›®å‰è¿˜æœ‰ä¸€äº›é™åˆ¶ï¼š</p>

























<table><thead><tr><th>é™åˆ¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¼‚æ­¥æ”¯æŒæœ‰é™</td><td><code>Promise</code> å’Œ <code>await</code> æ”¯æŒæœ‰é™</td></tr><tr><td>ä½œç”¨åŸŸé™åˆ¶</td><td>ä¸æ”¯æŒè·¨ä½œç”¨åŸŸå˜é‡ï¼ˆé™¤å‚æ•°å’Œå…¨å±€å˜é‡ï¼‰</td></tr><tr><td>æ— åŠ¨æ€æ‰§è¡Œ</td><td>ä¸æ”¯æŒ <code>eval()</code>ã€<code>Function()</code> ç­‰ï¼ˆAOT ç‰¹æ€§ï¼‰</td></tr><tr><td>JS ç‰¹æ€§æ”¯æŒä¸å®Œæ•´</td><td>Test262 é€šè¿‡ç‡çº¦ 61%</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">ä¸å…¶ä»– JS å¼•æ“å¯¹æ¯”</h2>
<h3 data-id="heading-13">æ¶æ„å·®å¼‚</h3>





























<table><thead><tr><th>å¼•æ“</th><th>ç±»å‹</th><th>ç¼–è¯‘ç­–ç•¥</th><th>è¾“å‡º</th></tr></thead><tbody><tr><td><strong>Porffor</strong></td><td>AOT</td><td>JS â†’ Wasm/Native</td><td>Wasm/äºŒè¿›åˆ¶</td></tr><tr><td><strong>V8</strong></td><td>JIT</td><td>è§£é‡Šå™¨ + å¤šå±‚ JIT</td><td>æœºå™¨ç </td></tr><tr><td><strong>QuickJS</strong></td><td>å­—èŠ‚ç </td><td>JS â†’ å­—èŠ‚ç </td><td>å­—èŠ‚ç </td></tr></tbody></table>
<h3 data-id="heading-14">æ€§èƒ½å¯¹æ¯”</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>Porffor</th><th>JIT å¼•æ“</th><th>å­—èŠ‚ç å¼•æ“</th></tr></thead><tbody><tr><td><strong>å†·å¯åŠ¨</strong></td><td>æœ€å¿«</td><td>æ…¢ï¼ˆéœ€é¢„çƒ­ï¼‰</td><td>ä¸­ç­‰</td></tr><tr><td><strong>å³°å€¼æ€§èƒ½</strong></td><td>ä¸­ç­‰</td><td>æœ€å¿«</td><td>æ…¢</td></tr><tr><td><strong>å†…å­˜å ç”¨</strong></td><td>ä½</td><td>é«˜</td><td>ä¸­ç­‰</td></tr><tr><td><strong>äºŒè¿›åˆ¶å¤§å°</strong></td><td>æå°</td><td>N/A</td><td>å°</td></tr></tbody></table>
<h3 data-id="heading-15">ä»€ä¹ˆæ—¶å€™é€‰æ‹©ä»€ä¹ˆï¼Ÿ</h3>
<pre><code class="hljs">Porffor æœ€é€‚åˆï¼š
â”œâ”€â”€ éœ€è¦æå°äºŒè¿›åˆ¶ä½“ç§¯çš„åœºæ™¯
â”œâ”€â”€ éœ€è¦å¿«é€Ÿå†·å¯åŠ¨çš„åœºæ™¯ï¼ˆå¦‚ Serverlessï¼‰
â”œâ”€â”€ éœ€è¦å®‰å…¨æ²™ç®±æ‰§è¡Œçš„åœºæ™¯
â””â”€â”€ åµŒå…¥å¼/æ¸¸æˆæœºç­‰éä¼ ç»Ÿ JS å¹³å°

V8/SpiderMonkey æœ€é€‚åˆï¼š
â”œâ”€â”€ é€šç”¨ Web åº”ç”¨
â”œâ”€â”€ Node.js æœåŠ¡ç«¯åº”ç”¨
â””â”€â”€ éœ€è¦å®Œæ•´ JS ç‰¹æ€§æ”¯æŒçš„åœºæ™¯

QuickJS/JerryScript æœ€é€‚åˆï¼š
â”œâ”€â”€ åµŒå…¥å¼è®¾å¤‡
â”œâ”€â”€ èµ„æºå—é™ç¯å¢ƒ
â””â”€â”€ ä¸éœ€è¦æè‡´æ€§èƒ½çš„åœºæ™¯
</code></pre>
<hr/>
<h2 data-id="heading-16">åŠ¨æ‰‹è¯•è¯•</h2>
<p>è®©æˆ‘ä»¬å†™ä¸€ä¸ªç´ æ•°è®¡ç®—å™¨æ¥çœ‹çœ‹ Porffor çš„å®é™…æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æŸ¥ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isPrime</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

  <span class="hljs-keyword">const</span> sqrtN = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(n);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">3</span>; i &lt;= sqrtN; i += <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">if</span> (n % i === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
}

<span class="hljs-comment">// æŸ¥æ‰¾æŒ‡å®šèŒƒå›´å†…çš„æ‰€æœ‰ç´ æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">findPrimes</span>(<span class="hljs-params">start, end</span>) {
  <span class="hljs-keyword">const</span> primes = [];
  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = start; i &lt;= end; i++) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPrime</span>(i)) {
      primes[count] = i;
      count++;
    }
  }

  primes.<span class="hljs-property">length</span> = count;
  <span class="hljs-keyword">return</span> primes;
}

<span class="hljs-comment">// ä¸»ç¨‹åº</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">START_NUM</span> = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">END_NUM</span> = <span class="hljs-number">100</span>;

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== Porffor Prime Calculator ==='</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Range:'</span>, <span class="hljs-variable constant_">START_NUM</span>, <span class="hljs-string">'to'</span>, <span class="hljs-variable constant_">END_NUM</span>);

  <span class="hljs-keyword">const</span> primes = <span class="hljs-title function_">findPrimes</span>(<span class="hljs-variable constant_">START_NUM</span>, <span class="hljs-variable constant_">END_NUM</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Found'</span>, primes.<span class="hljs-property">length</span>, <span class="hljs-string">'primes'</span>);

  <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; primes.<span class="hljs-property">length</span>; i++) {
    sum += primes[i];
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Sum:'</span>, sum);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Average:'</span>, sum / primes.<span class="hljs-property">length</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-string">'Done!'</span>;
}

<span class="hljs-title function_">main</span>();
</code></pre>
<h3 data-id="heading-17">ç›´æ¥è¿è¡Œ</h3>
<pre><code class="hljs language-bash" lang="bash">porf prime.js
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">=== Porffor Prime Calculator ===
<span class="hljs-symbol">Range:</span> <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> <span class="hljs-number">100</span>
Found <span class="hljs-number">25</span> primes
<span class="hljs-symbol">Sum:</span> <span class="hljs-number">1060</span>
<span class="hljs-symbol">Average:</span> <span class="hljs-number">42.4</span>
Done!
</code></pre>
<h3 data-id="heading-18">ç¼–è¯‘ä¸º WebAssembly</h3>
<pre><code class="hljs language-bash" lang="bash">porf wasm prime.js prime.wasm
</code></pre>
<p>ç¼–è¯‘è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">parsed:</span> <span class="hljs-string">5ms</span>
<span class="hljs-attr">generated wasm:</span> <span class="hljs-string">40ms</span>
<span class="hljs-attr">optimized:</span> <span class="hljs-string">7ms</span>
<span class="hljs-attr">assembled:</span> <span class="hljs-string">5ms</span>
[<span class="hljs-string">108ms</span>] <span class="hljs-string">compiled</span> <span class="hljs-string">prime.js</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">prime.wasm</span> <span class="hljs-string">(36.5KB)</span>
</code></pre>
<h3 data-id="heading-19">ç¼–è¯‘ä¸ºåŸç”ŸäºŒè¿›åˆ¶</h3>
<pre><code class="hljs language-bash" lang="bash">porf native prime.js prime
</code></pre>
<p>ç¼–è¯‘è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">parsed:</span> <span class="hljs-string">5ms</span>
<span class="hljs-attr">generated wasm:</span> <span class="hljs-string">38ms</span>
<span class="hljs-attr">optimized:</span> <span class="hljs-string">7ms</span>
<span class="hljs-attr">assembled:</span> <span class="hljs-string">4ms</span>
<span class="hljs-attr">compiled Wasm to C:</span> <span class="hljs-string">18ms</span>
<span class="hljs-attr">compiled C to native:</span> <span class="hljs-string">959ms</span>
[<span class="hljs-string">1080ms</span>] <span class="hljs-string">compiled</span> <span class="hljs-string">prime.js</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">prime</span> <span class="hljs-string">(106.6KB)</span>
</code></pre>
<h3 data-id="heading-20">è¾“å‡ºæ ¼å¼å¯¹æ¯”</h3>



































<table><thead><tr><th>æ ¼å¼</th><th>æ–‡ä»¶å¤§å°</th><th>ç¼–è¯‘æ—¶é—´</th><th>è¿è¡Œæ–¹å¼</th></tr></thead><tbody><tr><td>æº JS</td><td>2.4KB</td><td>-</td><td><code>porf file.js</code></td></tr><tr><td>Wasm</td><td>36KB</td><td>~100ms</td><td>éœ€ Wasm è¿è¡Œæ—¶</td></tr><tr><td>C ä»£ç </td><td>356KB</td><td>~130ms</td><td>éœ€ C ç¼–è¯‘</td></tr><tr><td>Native</td><td>106KB</td><td>~1100ms</td><td>ç‹¬ç«‹è¿è¡Œ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-21">ç”Ÿæˆçš„ C ä»£ç æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</h2>
<p>ä½ å¯èƒ½ä¼šå¥½å¥‡ï¼ŒPorffor ç”Ÿæˆçš„ C ä»£ç é•¿ä»€ä¹ˆæ ·ï¼Ÿè®©æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹æ‰‹å†™ç‰ˆæœ¬å’Œè‡ªåŠ¨ç”Ÿæˆçš„ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-22">æ‰‹å†™ C ç‰ˆæœ¬ï¼ˆ96 è¡Œï¼Œ2.3KBï¼‰</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdbool.h&gt;</span></span>

<span class="hljs-type">bool</span> <span class="hljs-title function_">isPrime</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
    <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (n == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    <span class="hljs-type">int</span> sqrtN = (<span class="hljs-type">int</span>)<span class="hljs-built_in">sqrt</span>(n);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">3</span>; i &lt;= sqrtN; i += <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> primes[<span class="hljs-number">100</span>];
    <span class="hljs-type">int</span> primeCount = findPrimes(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>, primes);

    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"Found %d primes:\n"</span>, primeCount);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; primeCount; i++) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d%s"</span>, primes[i], i &lt; primeCount - <span class="hljs-number">1</span> ? <span class="hljs-string">", "</span> : <span class="hljs-string">"\n"</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-23">Porffor ç”Ÿæˆçš„ç‰ˆæœ¬ï¼ˆ12,880 è¡Œï¼Œ353KBï¼‰</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// generated by porffor 0.61.2</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;math.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span>

<span class="hljs-comment">// Wasm ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">uint8_t</span> u8;
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int32_t</span> i32;
<span class="hljs-keyword">typedef</span> <span class="hljs-type">double</span> f64;

<span class="hljs-comment">// JS å€¼ç»“æ„ä½“ï¼ˆæ•°å­—æˆ–å¯¹è±¡ï¼‰</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ReturnValue</span> {</span>
  f64 value;
  i32 type;  <span class="hljs-comment">// ç±»å‹æ ‡ç­¾</span>
};

<span class="hljs-comment">// Wasm çº¿æ€§å†…å­˜æ¨¡æ‹Ÿ</span>
<span class="hljs-type">char</span>* _memory;
u32 _memoryPages = <span class="hljs-number">5</span>;

<span class="hljs-comment">// Wasm æŒ‡ä»¤æ¨¡æ‹Ÿå‡½æ•°</span>
i32 <span class="hljs-title function_">i32_load</span><span class="hljs-params">(i32 align, i32 offset, i32 pointer)</span>;
<span class="hljs-type">void</span> <span class="hljs-title function_">f64_store</span><span class="hljs-params">(i32 align, i32 offset, i32 pointer, f64 value)</span>;

<span class="hljs-comment">// JS å†…ç½®å‡½æ•°å®ç°</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ReturnValue</span> __<span class="hljs-title">ecma262_ToString</span>(...);</span>
f64 __Math_sqrt(f64 l0);
<span class="hljs-type">void</span> __Porffor_printString(...);
<span class="hljs-comment">// ... æ•°ç™¾ä¸ªå†…ç½®å‡½æ•°</span>

<span class="hljs-comment">// ç”¨æˆ·å‡½æ•°ï¼ˆä» JS è½¬æ¢ï¼‰</span>
<span class="hljs-keyword">struct</span> ReturnValue <span class="hljs-title function_">isPrime</span><span class="hljs-params">(...)</span>;
<span class="hljs-keyword">struct</span> ReturnValue <span class="hljs-title function_">findPrimes</span><span class="hljs-params">(...)</span>;

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    _memory = (<span class="hljs-type">char</span>*)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">65536</span> * _memoryPages);
    <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ReturnValue</span> _0 =</span> _main(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-24">å¯¹æ¯”æ•°æ®</h3>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>æ‰‹å†™ C</th><th>Porffor ç”Ÿæˆ</th><th>å·®å¼‚</th></tr></thead><tbody><tr><td>æºä»£ç è¡Œæ•°</td><td>96 è¡Œ</td><td>12,880 è¡Œ</td><td><strong>134x</strong></td></tr><tr><td>æºæ–‡ä»¶å¤§å°</td><td>2.3KB</td><td>353KB</td><td><strong>153x</strong></td></tr><tr><td>äºŒè¿›åˆ¶å¤§å°</td><td>33KB</td><td>104KB</td><td><strong>3.15x</strong></td></tr><tr><td>ç¼–è¯‘æ—¶é—´</td><td>~10ms</td><td>~1080ms</td><td><strong>108x</strong></td></tr></tbody></table>
<h3 data-id="heading-25">ä¸ºä»€ä¹ˆ Porffor ç”Ÿæˆçš„ä»£ç è¿™ä¹ˆå¤§ï¼Ÿ</h3>





























<table><thead><tr><th>åŸå› </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Wasm æ¨¡æ‹Ÿå±‚</strong></td><td>éœ€è¦æ¨¡æ‹Ÿæ‰€æœ‰ Wasm æŒ‡ä»¤ï¼ˆload/store ç­‰ï¼‰</td></tr><tr><td><strong>JS ç±»å‹ç³»ç»Ÿ</strong></td><td>JS å€¼å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²ã€å¯¹è±¡ï¼Œéœ€è¦ç»Ÿä¸€çš„ <code>ReturnValue</code> ç»“æ„</td></tr><tr><td><strong>å†…ç½®å‡½æ•°åº“</strong></td><td>å®ç° <code>Math.*</code>ã€<code>console.log</code>ã€<code>Array.*</code> ç­‰æ•°ç™¾ä¸ªå‡½æ•°</td></tr><tr><td><strong>å†…å­˜ç®¡ç†</strong></td><td>Wasm çº¿æ€§å†…å­˜ + JS å¯¹è±¡å†…å­˜çš„åŒé‡ç®¡ç†</td></tr><tr><td><strong>å­—ç¬¦ä¸²å¤„ç†</strong></td><td>JS å­—ç¬¦ä¸²æ˜¯ UTF-16ï¼Œéœ€è¦å¤æ‚çš„è½¬æ¢é€»è¾‘</td></tr></tbody></table>
<p>è¿™æ˜¯ JavaScript çš„çµæ´»æ€§å¸¦æ¥çš„ä»£ä»·â€”â€”Porffor éœ€è¦æ¨¡æ‹Ÿæ•´ä¸ª JS è¿è¡Œæ—¶ã€‚</p>
<hr/>
<h2 data-id="heading-26">å®é™…åº”ç”¨å»ºè®®</h2>





























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è¿½æ±‚æè‡´æ€§èƒ½</td><td>æ‰‹å†™ C / Rust</td></tr><tr><td>å¿«é€ŸåŸå‹å¼€å‘</td><td>Porfforï¼ˆç›´æ¥å†™ JSï¼‰</td></tr><tr><td>å·²æœ‰ JS ä»£ç ç§»æ¤</td><td>Porfforï¼ˆæ— éœ€é‡å†™ï¼‰</td></tr><tr><td>éœ€è¦è·¨å¹³å°</td><td>Porfforï¼ˆä¸€æ¬¡ç¼–è¯‘ï¼Œå¤šå¹³å°è¿è¡Œï¼‰</td></tr><tr><td>å­¦ä¹ /ç ”ç©¶</td><td>Porfforï¼ˆäº†è§£ JSâ†’Wasmâ†’C çš„è½¬æ¢è¿‡ç¨‹ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-27">ç‰ˆæœ¬å·çš„ç§˜å¯†</h2>
<p>Porffor ä½¿ç”¨ç‹¬ç‰¹çš„ç‰ˆæœ¬å·æ ¼å¼ï¼š<code>0.61.2</code></p>
<ul>
<li><strong>0</strong> - Major ç‰ˆæœ¬ï¼Œå§‹ç»ˆä¸º 0ï¼ˆé¡¹ç›®æœªæˆç†Ÿï¼‰</li>
<li><strong>61</strong> - Minor ç‰ˆæœ¬ï¼Œ<strong>Test262 é€šè¿‡ç‡ç™¾åˆ†æ¯”</strong>ï¼ˆå‘ä¸‹å–æ•´ï¼‰</li>
<li><strong>2</strong> - Micro ç‰ˆæœ¬ï¼Œè¯¥ Minor ä¸‹çš„æ„å»ºå·</li>
</ul>
<p>ç‰ˆæœ¬å·ç›´æ¥å‘Šè¯‰ä½ è¿™ä¸ªé¡¹ç›®å¯¹ ECMAScript æ ‡å‡†çš„æ”¯æŒç¨‹åº¦ï¼</p>
<hr/>
<h2 data-id="heading-28">WebAssembly ææ¡ˆæ”¯æŒ</h2>
<p>Porffor åªä½¿ç”¨å¹¿æ³›å®ç°çš„ Wasm ææ¡ˆï¼Œç¡®ä¿æœ€å¤§å…¼å®¹æ€§ï¼š</p>



































<table><thead><tr><th>ææ¡ˆ</th><th>çŠ¶æ€</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Multi-value</td><td>å¿…éœ€</td><td>å¤šè¿”å›å€¼</td></tr><tr><td>Non-trapping float-to-int</td><td>å¿…éœ€</td><td>å®‰å…¨çš„æµ®ç‚¹è½¬æ•´æ•°</td></tr><tr><td>Bulk memory operations</td><td>å¯é€‰</td><td>æ‰¹é‡å†…å­˜æ“ä½œ</td></tr><tr><td>Exception handling</td><td>å¯é€‰</td><td>å¼‚å¸¸å¤„ç†</td></tr><tr><td>Tail calls</td><td>å¯é€‰ï¼ˆé»˜è®¤å…³é—­ï¼‰</td><td>å°¾è°ƒç”¨ä¼˜åŒ–</td></tr></tbody></table>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPorffor æœ‰æ„é¿å…ä½¿ç”¨å°šæœªå¹¿æ³›å®ç°çš„ææ¡ˆï¼ˆå¦‚ GC ææ¡ˆï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-29">é¡¹ç›®çŠ¶æ€ä¸èµ„æº</h2>
<h3 data-id="heading-30">å½“å‰çŠ¶æ€</h3>
<ul>
<li><strong>å¼€å‘é˜¶æ®µ</strong>: Pre-alpha</li>
<li><strong>æœ€æ–°ç‰ˆæœ¬</strong>: 0.61.2ï¼ˆ2025-11-26 å‘å¸ƒï¼‰</li>
<li><strong>Test262 é€šè¿‡ç‡</strong>: ~61%</li>
<li><strong>å»ºè®®ç”¨é€”</strong>: ç ”ç©¶ã€å®éªŒï¼Œä¸å»ºè®®ç”Ÿäº§ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-31">å®˜æ–¹èµ„æº</h3>
<ul>
<li><strong>å®˜ç½‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fporffor.dev%2F" target="_blank" title="https://porffor.dev/" ref="nofollow noopener noreferrer">porffor.dev/</a></li>
<li><strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCanadaHonk%2Fporffor" target="_blank" title="https://github.com/CanadaHonk/porffor" ref="nofollow noopener noreferrer">github.com/CanadaHonk/â€¦</a></li>
<li><strong>ä½œè€…</strong>: Oliver Medhurst (@CanadaHonk)</li>
</ul>
<h3 data-id="heading-32">å­¦ä¹ èµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.devtools.fm%2Fepisode%2F157" target="_blank" title="https://www.devtools.fm/episode/157" ref="nofollow noopener noreferrer">DevTools.fm Episode #157</a> - æ’­å®¢è®¿è°ˆ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Flondonwebstandards.org%2Ftalks%2Fcompiling-javaScript-ahead-of-time%2F" target="_blank" title="https://londonwebstandards.org/talks/compiling-javaScript-ahead-of-time/" ref="nofollow noopener noreferrer">London Web Standards æ¼”è®²</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnews.ycombinator.com%2Fitem%3Fid%3D41112854" target="_blank" title="https://news.ycombinator.com/item?id=41112854" ref="nofollow noopener noreferrer">Hacker News è®¨è®º</a></li>
</ul>
<hr/>
<h2 data-id="heading-33">ä¸ºä»€ä¹ˆå« Porfforï¼Ÿ</h2>
<p>"Purple"ï¼ˆç´«è‰²ï¼‰çš„å¨å°”å£«è¯­å°±æ˜¯ "porffor"ã€‚</p>
<p>é€‰æ‹©ç´«è‰²çš„åŸå› å¾ˆç®€å•ï¼š</p>
<ul>
<li>æ²¡æœ‰å…¶ä»– JS å¼•æ“ä½¿ç”¨ç´«è‰²ä½œä¸ºä¸»é¢˜è‰²</li>
<li>ç´«è‰²ä»£è¡¨"é›„å¿ƒ"ï¼ˆambitionï¼‰ï¼Œæ°å¦‚å…¶åˆ†åœ°æè¿°äº†è¿™ä¸ªé¡¹ç›®</li>
</ul>
<hr/>
<h2 data-id="heading-34">æ€»ç»“</h2>
<p>Porffor æ˜¯ä¸€ä¸ªæå…·å®éªŒæ€§çš„é¡¹ç›®ã€‚å®ƒé€šè¿‡ç‹¬ç‰¹çš„æ¶æ„è®¾è®¡ï¼Œå°è¯•è§£å†³ä¼ ç»Ÿ JS å¼•æ“åœ¨ä»¥ä¸‹æ–¹é¢çš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>å†·å¯åŠ¨æ€§èƒ½</strong> - AOT ç¼–è¯‘æ— éœ€é¢„çƒ­</li>
<li><strong>è¾“å‡ºä½“ç§¯</strong> - æå°çš„ Wasm å’ŒåŸç”ŸäºŒè¿›åˆ¶</li>
<li><strong>å®‰å…¨æ€§</strong> - æ²™ç®±åŒ–æ‰§è¡Œ + å†…å­˜å®‰å…¨è¯­è¨€ç¼–å†™</li>
<li><strong>æ–°å¹³å°</strong> - å°† JavaScript å¸¦åˆ°åµŒå…¥å¼å’Œæ¸¸æˆæœºç­‰æ–°é¢†åŸŸ</li>
</ol>
<p>è™½ç„¶ç›®å‰ä»å¤„äºæ—©æœŸé˜¶æ®µï¼ŒJS ç‰¹æ€§æ”¯æŒä¸å®Œæ•´ï¼Œä½†å…¶åˆ›æ–°çš„æ¶æ„ä¸º JavaScript çš„æœªæ¥åº”ç”¨æä¾›äº†æ–°çš„å¯èƒ½æ€§ã€‚</p>
<p>ä¹Ÿè®¸æŸä¸€å¤©ï¼Œä½ çœŸçš„å¯ä»¥ç”¨ JavaScript å†™ä¸€ä¸ªåªæœ‰ 100KB çš„ CLI å·¥å…·ï¼Œç„¶åç¼–è¯‘åˆ°ä»»ä½•å¹³å°ä¸Šè¿è¡Œã€‚é‚£å°†ä¼šæ˜¯æ€æ ·çš„ä½“éªŒï¼Ÿ</p>
<hr/>
<blockquote>
<p>"Purple is pretty cool. And it apparently represents 'ambition', which is one word to describe this project." â€” Oliver Medhurst</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQL ç”¨å¥½ Optimizer Traceï¼Œæ·±åˆ»ç†è§£ SQL ä¼˜åŒ–è¿‡ç¨‹ï¼]]></title>    <link>https://juejin.cn/post/7601904641069154356</link>    <guid>https://juejin.cn/post/7601904641069154356</guid>    <pubDate>2026-02-02T08:54:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601904641069154356" data-draft-id="7601904641069137972" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL ç”¨å¥½ Optimizer Traceï¼Œæ·±åˆ»ç†è§£ SQL ä¼˜åŒ–è¿‡ç¨‹ï¼"/> <meta itemprop="keywords" content="MySQL,SQL,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2026-02-02T08:54:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±å¯ç”Ÿå¼€æºç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/1480387593251847"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL ç”¨å¥½ Optimizer Traceï¼Œæ·±åˆ»ç†è§£ SQL ä¼˜åŒ–è¿‡ç¨‹ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1480387593251847/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±å¯ç”Ÿå¼€æºç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T08:54:12.000Z" title="Mon Feb 02 2026 08:54:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰é¢çš„ç« èŠ‚ï¼ˆç¤¾åŒºä¸“æ ã€ŠSQLè°ƒä¼˜ã€‹ï¼‰æˆ‘ä»¬å·²ç»å†™äº†å¾ˆå¤šç¯‡å¹…å…³äº MySQL æ‰§è¡Œè®¡åˆ’çš„è§£è¯»ï¼Œä»Šå¤©æˆ‘ä»¬æ¥ç»§ç»­å»¶ä¼¸ä»‹ç»æ‰§è¡Œè®¡åˆ’çš„é“¾è·¯è·Ÿè¸ªåŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ MySQL çš„ <strong>Optimizer Trace</strong>ã€‚</p>
<p>åœ¨è¿™ä¹‹å‰ï¼Œå…ˆæ¥å›é¡¾ä¸‹ <strong>EXPLAIN</strong> çš„ç»“æœï¼š</p>
<pre><code class="hljs language-sql" lang="sql">mysql:ytt<span class="hljs-operator">&gt;</span>explain <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> t1 a <span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> y1 b <span class="hljs-keyword">on</span> a.id <span class="hljs-operator">=</span> b.id <span class="hljs-keyword">where</span> a.r1<span class="hljs-operator">&lt;</span><span class="hljs-number">100</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> a.r2 <span class="hljs-keyword">desc</span>;
<span class="hljs-operator">+</span><span class="hljs-comment">----+-------------+-------+------------+--------+---------------+---------+---------+----------+--------+----------+-----------------------------+</span>
<span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> select_type <span class="hljs-operator">|</span> <span class="hljs-keyword">table</span> <span class="hljs-operator">|</span> partitions <span class="hljs-operator">|</span> type   <span class="hljs-operator">|</span> possible_keys <span class="hljs-operator">|</span> key     <span class="hljs-operator">|</span> key_len <span class="hljs-operator">|</span> <span class="hljs-keyword">ref</span>      <span class="hljs-operator">|</span> <span class="hljs-keyword">rows</span>   <span class="hljs-operator">|</span> filtered <span class="hljs-operator">|</span> Extra                       <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----+-------------+-------+------------+--------+---------------+---------+---------+----------+--------+----------+-----------------------------+</span>
<span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span> SIMPLE      <span class="hljs-operator">|</span> a     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>       <span class="hljs-operator">|</span> <span class="hljs-keyword">ALL</span>    <span class="hljs-operator">|</span> idx_r1        <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>    <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>    <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>     <span class="hljs-operator">|</span> <span class="hljs-number">998222</span> <span class="hljs-operator">|</span>    <span class="hljs-number">50.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">Using</span> <span class="hljs-keyword">where</span>; <span class="hljs-keyword">Using</span> filesort <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span> SIMPLE      <span class="hljs-operator">|</span> b     <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>       <span class="hljs-operator">|</span> eq_ref <span class="hljs-operator">|</span> <span class="hljs-keyword">PRIMARY</span>       <span class="hljs-operator">|</span> <span class="hljs-keyword">PRIMARY</span> <span class="hljs-operator">|</span> <span class="hljs-number">4</span>       <span class="hljs-operator">|</span> ytt.a.id <span class="hljs-operator">|</span>      <span class="hljs-number">1</span> <span class="hljs-operator">|</span>   <span class="hljs-number">100.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>                        <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----+-------------+-------+------------+--------+---------------+---------+---------+----------+--------+----------+-----------------------------+</span>
<span class="hljs-number">2</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span>, <span class="hljs-number">1</span> warning (<span class="hljs-number">0.00</span> sec)
</code></pre>
<p><strong>EXPLAIN</strong> å±•ç¤ºå‡ºæ¥çš„æ ¸å¿ƒæ•°æ®æœ‰ï¼š</p>
<ol>
<li>è¡¨å…³è”é¡ºåº</li>
<li>ä¼˜åŒ–å™¨ç­›é€‰è¿‡çš„ç´¢å¼•</li>
<li>å®é™…ä½¿ç”¨çš„ç´¢å¼•</li>
<li>æ¯å¼ è¡¨ä¾æ®ç»Ÿè®¡ä¿¡æ¯çš„æ‰«æè¡Œæ•°</li>
<li>Extra é¢å¤–æ•°æ®æç¤º</li>
<li>ä¸¤ç§æ‰§è¡Œè®¡åˆ’ï¼ˆ<code>explain format=tree</code> / <code>explain format=json</code>ï¼‰å±•ç¤ºå‡ºæ¥çš„é¢å¤–æˆæœ¬æ•°æ®</li>
</ol>
<p>å¦‚æœæƒ³å¿«é€Ÿå¯¹äº SQL è¿›è¡Œä¼˜åŒ–ï¼ŒåŸºäºä»¥ä¸Šçš„ç»“æœå®Œå…¨å¯ä»¥æ»¡è¶³ã€‚ä½†æ˜¯æƒ³æ·±å…¥äº†è§£ MySQL ä¼˜åŒ–å™¨ä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ ·çš„æ‰§è¡Œè®¡åˆ’ï¼ŒåŸºäºä»¥ä¸Šçš„ç»“æœå°±æ— æ³•æ»¡è¶³ã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<ul>
<li>æˆ‘æƒ³çŸ¥é“å¯¹äºè¡¨ <code>a</code> æ¥è®²ï¼Œä¸ºä»€ä¹ˆæœ‰ç´¢å¼• <code>idx_r1</code>ï¼Œä½†æ˜¯å®é™…å´æ²¡æœ‰ä½¿ç”¨ï¼Œè€Œèµ°çš„å…¨è¡¨æ‰«ï¼Ÿ</li>
<li>ä¸¤å¼ è¡¨å…³è”ï¼Œä¸ºä»€ä¹ˆé€‰æ‹©çš„é¡ºåºæ˜¯è¡¨ <code>a</code> é©±åŠ¨è¡¨ <code>b</code>ï¼Œè€Œä¸æ˜¯è¡¨ <code>b</code> é©±åŠ¨è¡¨ <code>a</code>ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆå­—æ®µ <code>r2</code> æœ‰ç´¢å¼•ï¼Œä½†æ˜¯ä¾ç„¶è¦èµ°æ’åºï¼Ÿ</li>
</ul>
<p>å¸¦ç€è¿™äº›ç–‘é—®ï¼Œæˆ‘ä»¬æ¥ä»‹ç» MySQL çš„ <strong>Optimizer Trace</strong> åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯ Optimizer Traceï¼Ÿ</h2>
<p>ç®€å•æ¥è®²ï¼Œ<strong>Optimizer Trace</strong> æ˜¯ä¸€ä¸ª SQL æ‰§è¡Œè®¡åˆ’çš„é“¾è·¯è·Ÿè¸ªå™¨ï¼Œè·Ÿè¸ª SQL çš„è§£æã€ä¼˜åŒ–ã€æ‰§è¡Œç­‰è¿‡ç¨‹ï¼Œå¹¶ä¸”æŠŠç»“æœè®°å½•åˆ° MySQL å…ƒæ•°æ®è¡¨ï¼ˆ<code>information_schema.optimizer_trace</code>ï¼‰ï¼Œä¹‹åå¯ä»¥å¯¹è¿™å¼ è¡¨åˆ†æå¾—åˆ°å¾ˆå¤šä¸ªæ‰§è¡Œè®¡åˆ’çš„â€œä¸ºä»€ä¹ˆï¼Ÿâ€ï¼</p>
<h2 data-id="heading-1">2. å¦‚ä½•ä½¿ç”¨ Optimizer Traceï¼Ÿ</h2>
<p>è¦ä½¿ç”¨ <strong>Optimizer Trace</strong> åŠŸèƒ½ï¼Œé¦–å…ˆå¾—æ‰“å¼€æ§åˆ¶å¼€å…³ã€‚<strong>è°¨è®°ï¼šè¿™ä¸ªåŠŸèƒ½éå¸¸è€—è´¹èµ„æºï¼Œé»˜è®¤å…³é—­çš„ï¼Œå¯ä»¥é€šè¿‡è°ƒæ•´ä»¥ä¸‹å˜é‡å¼€å¯ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">show</span> variables <span class="hljs-keyword">like</span> <span class="hljs-string">'optimizer_trace%'</span>;
<span class="hljs-operator">+</span><span class="hljs-comment">------------------------------+----------------------------------------------------------------------------+</span>
<span class="hljs-operator">|</span> Variable_name                <span class="hljs-operator">|</span> <span class="hljs-keyword">Value</span>                                                                      <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------------------------------+----------------------------------------------------------------------------+</span>
<span class="hljs-operator">|</span> optimizer_trace              <span class="hljs-operator">|</span> enabled<span class="hljs-operator">=</span>off,one_line<span class="hljs-operator">=</span>off                                                   <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> optimizer_trace_features     <span class="hljs-operator">|</span> greedy_search<span class="hljs-operator">=</span><span class="hljs-keyword">on</span>,range_optimizer<span class="hljs-operator">=</span><span class="hljs-keyword">on</span>,dynamic_range<span class="hljs-operator">=</span><span class="hljs-keyword">on</span>,repeated_subselect<span class="hljs-operator">=</span><span class="hljs-keyword">on</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> optimizer_trace_limit        <span class="hljs-operator">|</span> <span class="hljs-number">1</span>                                                                          <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> optimizer_trace_max_mem_size <span class="hljs-operator">|</span> <span class="hljs-number">1048576</span>                                                                    <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> optimizer_trace_offset       <span class="hljs-operator">|</span> <span class="hljs-number">-1</span>                                                                         <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------------------------------+----------------------------------------------------------------------------+</span>
<span class="hljs-number">5</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)
</code></pre>
<p>ä»¥ä¸Šå‡ ä¸ªå‚æ•°è¯¦ç»†è§£é‡Šä¸‹ï¼š</p>
<ul>
<li><strong>optimizer_trace</strong>ï¼š<code>enabled=on/off</code> å¯ç”¨/ç¦ç”¨ <strong>Optmizer Trace</strong> åŠŸèƒ½ï¼›<code>one_line=on/off</code> å¯ç”¨/ç¦ç”¨ json æ ¼å¼åŒ–å­˜å‚¨ï¼Œä¸€èˆ¬ä¸éœ€æ”¹åŠ¨ã€‚</li>
<li><strong>optimizer_trace_limit/optimizer_trace_offset</strong>ï¼šè¿™ä¸¤ä¸ªå‚æ•°å’Œ <code>LIMIT</code> å­å¥ä¸€æ ·ï¼Œç”¨æ¥æœ€ç»ˆå±•ç¤º <strong>Trace</strong> çš„ SQL æ¡æ•°ã€‚å±•ç¤ºçš„æ¡æ•°è¶Šå¤šï¼Œå¯¹å†…å­˜æ¶ˆè€—è¶Šå¤§ï¼Œé»˜è®¤å±•ç¤ºæœ€è¿‘çš„ä¸€æ¡è®°å½•ã€‚æ¯”å¦‚è®¾ç½® <code>optimizer_trace_limit</code> ä¸º 10ï¼Œ<code>optimizer_trace_offset</code>  ä¸º -10ï¼Œå°±å¯ä»¥æœ€å¤šå±•ç¤º 10 æ¡ <strong>Trace</strong> è®°å½•ã€‚</li>
<li><strong>optimizer_trace_max_mem_size</strong>ï¼šç”¨æ¥å­˜å‚¨ <strong>Trace</strong> ç»“æœçš„æœ€å¤§å†…å­˜ã€‚</li>
<li><strong>optimizer_trace_features</strong>ï¼šç”¨æ¥å¯åŠ¨/ç¦ç”¨ç›¸å…³ <strong>Trace</strong> ç‰¹æ€§å¼€å…³ã€‚</li>
<li><strong>end_markers_in_json</strong>ï¼šå¯ç”¨/ç¦ç”¨ æ³¨é‡ŠåŠŸèƒ½ã€‚å¼€å¯è¿™ä¸ªï¼Œ<strong>Trace</strong> ç»“æœå¯è¯»æ€§æ›´å¼ºã€‚</li>
<li><strong>Optimizer Trace</strong> å¯ä»¥è·Ÿè¸ªçš„è¯­å¥æœ‰ï¼š
<ul>
<li>SELECTã€TABLEã€VALUESã€WITHã€INSERTã€REPLACEã€UPDATEã€DELETE</li>
<li>EXPLAIN</li>
<li>SETï¼ˆæ’é™¤è®¾ç½® <strong>Optimizer Trace</strong> ç›¸å…³å‚æ•°ï¼‰</li>
<li>DO</li>
<li>å­˜å‚¨å‡½æ•°å†…éƒ¨ã€è§¦å‘å™¨å†…éƒ¨ç­‰çš„ DECLAREã€CASEã€IFã€RETURN è¯­å¥</li>
<li>CALL</li>
</ul>
</li>
</ul>
<blockquote>
<p>åœ¨æ•°æ®åº“é‡Œï¼Œè¯­å¥è°ƒä¼˜ä¸€èˆ¬è¯´çš„æ˜¯ SELECT è¯­å¥ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†åœºæ™¯è·Ÿè¸ªçš„ä¹Ÿåªæœ‰ SELECT è¯­å¥ã€‚</p>
</blockquote>
<h3 data-id="heading-2">å…ƒæ•°æ®è¡¨å­—æ®µè§£æ</h3>
<pre><code class="hljs language-sql" lang="sql">mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">desc</span> information_schema.optimizer_trace;
<span class="hljs-operator">+</span><span class="hljs-comment">-----------------------------------+----------------+------+-----+---------+-------+</span>
<span class="hljs-operator">|</span> Field                             <span class="hljs-operator">|</span> Type           <span class="hljs-operator">|</span> <span class="hljs-keyword">Null</span> <span class="hljs-operator">|</span> Key <span class="hljs-operator">|</span> <span class="hljs-keyword">Default</span> <span class="hljs-operator">|</span> Extra <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">-----------------------------------+----------------+------+-----+---------+-------+</span>
<span class="hljs-operator">|</span> QUERY                             <span class="hljs-operator">|</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">65535</span>) <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span>   <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span>         <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> TRACE                             <span class="hljs-operator">|</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">65535</span>) <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span>   <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span>         <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> MISSING_BYTES_BEYOND_MAX_MEM_SIZE <span class="hljs-operator">|</span> <span class="hljs-type">int</span>            <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span>   <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span>         <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> INSUFFICIENT_PRIVILEGES           <span class="hljs-operator">|</span> tinyint(<span class="hljs-number">1</span>)     <span class="hljs-operator">|</span> <span class="hljs-keyword">NO</span>   <span class="hljs-operator">|</span>     <span class="hljs-operator">|</span>         <span class="hljs-operator">|</span>       <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">-----------------------------------+----------------+------+-----+---------+-------+</span>
<span class="hljs-number">4</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)
</code></pre>
<ul>
<li><strong>QUERY</strong>ï¼š<strong>TRACE</strong> çš„ SQL è¯­å¥åŸæ–‡</li>
<li><strong>TRACE</strong>ï¼šSQL è¯­å¥çš„ <strong>TRACE</strong> ç»“æœï¼ŒJSON æ ¼å¼å­˜å‚¨ï¼ˆç”±å˜é‡ <code>end_markers_in_json</code> æ¥æ§åˆ¶ï¼‰</li>
<li><strong>MISSING_BYTES_BEYOND_MAX_MEM_SIZE</strong>ï¼š<strong>TRACE</strong> ç»“æœè¶…è¿‡å˜é‡ <code>optimizer_trace_max_mem_size</code> è®¾ç½®çš„å€¼åï¼Œæˆªæ–­çš„å¤§å°ï¼ˆBYTEï¼‰</li>
<li><strong>INSUFFICIENT_PRIVILEGES</strong>ï¼šå¯¹å­˜å‚¨è¿‡ç¨‹ã€å­˜å‚¨å‡½æ•°ç­‰åŒ…å«æœ‰ SQL SECURITY DEFINER çš„ç”¨æˆ·æ˜¯å¦æœ‰å¯¹åº”çš„æƒé™ï¼Œæœ‰æƒé™ä¸º 0ï¼Œæ— æƒé™ä¸º 1ï¼Œå¹¶ä¸” TRACE å­—æ®µä¸ºç©ºã€‚</li>
</ul>
<h3 data-id="heading-3">Optimizer Trace å¼€å¯æ­¥éª¤</h3>
<pre><code class="hljs language-sql" lang="sql">mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">set</span> optimizer_trace<span class="hljs-operator">=</span><span class="hljs-string">'enabled=on'</span>;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)

mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">set</span> optimizer_trace_limit<span class="hljs-operator">=</span><span class="hljs-number">10</span>;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)

mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">set</span> optimizer_trace_offset<span class="hljs-operator">=</span><span class="hljs-number">-10</span>;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)

mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">set</span> end_markers_in_json<span class="hljs-operator">=</span><span class="hljs-keyword">on</span>;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)
</code></pre>
<p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œä¿®æ”¹ä»»ä½•ä¸€ä¸ª Optimizer Trace ç›¸å…³å‚æ•°ï¼Œå…ƒæ•°æ®è¡¨ <code>information_schema</code> è¡¨éƒ½ä¼šè¢«æ¸…ç©ºã€‚</p>
<pre><code class="hljs language-sql" lang="sql">mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> information_schema.optimizer_trace;
<span class="hljs-operator">+</span><span class="hljs-comment">----------+</span>
<span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------+</span>
<span class="hljs-operator">|</span>       <span class="hljs-number">10</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------+</span>
<span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)

mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">set</span> optimizer_trace_offset<span class="hljs-operator">=</span><span class="hljs-number">-2</span>;
Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.00</span> sec)

mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> information_schema.optimizer_trace;
<span class="hljs-operator">+</span><span class="hljs-comment">----------+</span>
<span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------+</span>
<span class="hljs-operator">|</span>        <span class="hljs-number">0</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------+</span>
<span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)
</code></pre>
<h2 data-id="heading-4">3. Optimizer Trace çš„ç»“æœ</h2>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­æ¥çœ‹çœ‹ <strong>Optimizer Trace</strong> çš„å¤§è‡´ç»“æ„ï¼šdo è¯­å¥éå¸¸ç®€å•ï¼Œåªç”¨æ¥éªŒè¯æ˜¯å¦è¯­æ³•æ­£ç¡®ï¼Œä¸å‡ºç»“æœã€‚</p>
<pre><code class="hljs language-java" lang="java">mysql:ytt&gt;<span class="hljs-keyword">do</span> <span class="hljs-number">1</span>+<span class="hljs-number">1</span>;
Query OK, <span class="hljs-number">0</span> rows <span class="hljs-title function_">affected</span> <span class="hljs-params">(<span class="hljs-number">0.00</span> sec)</span>
</code></pre>
<p>ä¸‹é¢æ˜¯ <strong>Optimizer Trace</strong> ç»“æœï¼š</p>
<pre><code class="hljs language-sql" lang="sql">mysql:ytt<span class="hljs-operator">&gt;</span><span class="hljs-keyword">select</span> query,trace <span class="hljs-keyword">from</span> information_schema.optimizer_trace\G
<span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span> <span class="hljs-number">1.</span> <span class="hljs-type">row</span> <span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span><span class="hljs-operator">*</span>
query: do <span class="hljs-number">1</span><span class="hljs-operator">+</span><span class="hljs-number">1</span>
trace: {
  "steps": [
    {
      "join_preparation": {
        "select#": <span class="hljs-number">1</span>,
        "steps": [
          {
            "expanded_query": "/* select#1 */ select (1 + 1) AS `1+1`"
          }
        ]
      }
    },
    {
      "join_optimization": {
        "select#": <span class="hljs-number">1</span>,
        "steps": [
        ]
      }
    },
    {
      "join_execution": {
        "select#": <span class="hljs-number">1</span>,
        "steps": [
        ]
      }
    }
  ]
}
<span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<strong>Optimizer Trace</strong> ç»“æœæ˜¯ä¸€ä¸ª JSON ä¸²ï¼Œ<code>key</code> ä¸º <code>steps</code>ï¼Œ<code>value</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„æœ‰ä¸‰ä¸ª <code>key</code>ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li><strong>join_preparation å‡†å¤‡é˜¶æ®µ</strong>ï¼šè¿™é‡Œä¼šåšä¸€äº› SQL æ”¹å†™ï¼Œå…³é”®å­—è¯†åˆ«ç­‰ç­‰ï¼Œå¯ä»¥çœ‹åˆ° <code>expanded_query</code> å¯¹åº”çš„å€¼å³ä¸º SQL è¯­å¥è¢«æ”¹å†™åçš„å†…éƒ¨ SQLã€‚</li>
<li><strong>join_optimization ä¼˜åŒ–é˜¶æ®µ</strong>ï¼šå…·ä½“ SQL ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ä¸€äº›å¯èƒ½çš„é€»è¾‘ä¼˜åŒ–ï¼Œä¸€äº›æ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯é¢„ä¼°çš„ç‰©ç†ä¼˜åŒ–ç­‰ç­‰ã€‚</li>
<li><strong>join_execution æœ€ç»ˆæ‰§è¡Œé˜¶æ®µ</strong>ï¼šæœ€ç»ˆ SQL é‡‡ç”¨çš„æ‰§è¡Œè®¡åˆ’ç­‰ç­‰ã€‚</li>
</ul>
<p><strong>æœ¬ç¯‡æ˜¯ <strong>Optimizer Trace</strong> çš„å¼€ç«¯ï¼Œç”±äºå†…å®¹å¤ªå¤šï¼Œæˆ‘ç‰¹åœ°æ‹†åˆ†ä¸ºå‡ ç¯‡æ¥å†™ï¼Œæ¬¢è¿ç»§ç»­è®¢é˜…ã€‚</strong></p>
<p><img src="http://openwrite.cn/uploads/16955/59282/93a63fac-e1f5-46cf-999a-6a58bc8adba7.webp" alt="640 (84).webp" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-Keyå”¯ä¸€æ ‡è¯†ä½œç”¨]]></title>    <link>https://juejin.cn/post/7601486204173664306</link>    <guid>https://juejin.cn/post/7601486204173664306</guid>    <pubDate>2026-02-01T11:45:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601486204173664306" data-draft-id="7601441475987472430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-Keyå”¯ä¸€æ ‡è¯†ä½œç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2026-02-01T11:45:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-Keyå”¯ä¸€æ ‡è¯†ä½œç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T11:45:27.000Z" title="Sun Feb 01 2026 11:45:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨å¼€å‘ Vue åˆ—è¡¨æ¸²æŸ“æ—¶ï¼Œç¼–è¾‘å™¨æ€»æ˜¯æé†’æˆ‘ä»¬â€œå¿…é¡»ç»‘å®š keyâ€ã€‚å¾ˆå¤šäººä¹ æƒ¯æ€§åœ°å¡«å…¥ <code>index</code>ã€‚ä½†ä½ æ˜¯å¦æ€è€ƒè¿‡ï¼š<code>key</code> åˆ°åº•åœ¨åº•å±‚èµ·åˆ°äº†ä»€ä¹ˆä½œç”¨ï¼Ÿä¸ºä»€ä¹ˆä¸åˆç†çš„ <code>key</code> ä¼šå¯¼è‡´ç»„ä»¶çŠ¶æ€é”™ä¹±ç”šè‡³æ€§èƒ½å´©æºƒï¼Ÿ</p>
<h2 data-id="heading-1">ä¸€ã€ :key çš„æ ¸å¿ƒä½œç”¨ï¼šè™šæ‹Ÿ DOM çš„â€œå¯¼èˆªä»ªâ€</h2>
<p>åœ¨ Vue æ›´æ–° DOM æ—¶ï¼Œå…¶æ ¸å¿ƒç®—æ³•æ˜¯ <strong>Diff ç®—æ³•</strong>ã€‚<code>key</code> çš„ä¸»è¦ä½œç”¨æ˜¯<strong>æ›´é«˜æ•ˆåœ°æ›´æ–°è™šæ‹Ÿ DOM</strong>ã€‚</p>
<h3 data-id="heading-2">1. èŠ‚ç‚¹å¤ç”¨çš„å…³é”®</h3>
<p>Vue ä¼šé€šè¿‡åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºâ€œç›¸åŒèŠ‚ç‚¹â€ï¼Œä»è€Œå†³å®šæ˜¯<strong>é”€æ¯é‡å»º</strong>è¿˜æ˜¯<strong>åŸåœ°å¤ç”¨</strong>ã€‚ åˆ¤æ–­ç›¸åŒèŠ‚ç‚¹çš„å¿…è¦æ¡ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å…ƒç´ ç±»å‹</strong>ä¸<strong>Key å€¼</strong> ï¼šVueåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒæ—¶ï¼Œä¸»è¦åˆ¤æ–­ä¸¤è€…çš„keyå’Œå…ƒç´ ç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œå› æ­¤å¦‚æœä¸è®¾ç½®keyä¸”å…ƒç´ ç±»å‹ç›¸åŒçš„è¯ï¼Œå®ƒçš„å€¼å°±æ˜¯undefinedï¼ˆè€Œundefinedæ’ç­‰äºundefinedï¼‰ï¼Œåˆ™vueå¯èƒ½æ°¸è¿œè®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªç›¸åŒèŠ‚ç‚¹ï¼Œåªèƒ½å»åšæ›´æ–°æ“ä½œï¼Œä»è€Œå°è¯•â€œåŸåœ°å¤ç”¨â€å®ƒä»¬ã€‚</li>
</ul>
<blockquote>
<p><strong>æç¤º</strong>ï¼šè™šæ‹ŸDomä¸diffç®—æ³•ä¼šåœ¨åç»­å•ç‹¬è®²è§£</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">äºŒã€ ä¸ºä»€ä¹ˆè¦ç»‘å®š Keyï¼Ÿ</h2>
<h3 data-id="heading-4">1. ä¸å¸¦ keyï¼ˆåŸåœ°å¤ç”¨ç­–ç•¥ï¼‰</h3>
<p>å½“åˆ—è¡¨é¡ºåºè¢«æ‰“ä¹±æ—¶ï¼ŒVue ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…åˆ—è¡¨é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯<strong>å°±åœ°æ›´æ–°</strong>æ¯ä¸ªå…ƒç´ ã€‚</p>
<ul>
<li><strong>å¼Šç«¯</strong>ï¼šå¦‚æœåˆ—è¡¨é¡¹åŒ…å«æœ‰çŠ¶æ€çš„å­ç»„ä»¶æˆ–å—æ§è¾“å…¥æ¡†ï¼ˆå¦‚ <code>&lt;input&gt;</code>ï¼‰ï¼ŒåŸæœ¬å±äº A é¡¹çš„è¾“å…¥æ¡†å†…å®¹ä¼šâ€œæ®‹ç•™â€åœ¨ B é¡¹çš„ä½ç½®ä¸Šï¼Œé€ æˆ UI é”™ä¹±ã€‚</li>
<li><strong>æ€§èƒ½</strong>ï¼šå¯¼è‡´é¢‘ç¹çš„å±æ€§æ›´æ–°å’Œ DOM æ“ä½œï¼Œæ•ˆç‡ä½ä¸‹ã€‚</li>
</ul>
<h3 data-id="heading-5">2. å¸¦æœ‰ keyï¼ˆç²¾å‡†åŒ¹é…ç­–ç•¥ï¼‰</h3>
<p>æœ‰äº† <code>key</code> ä½œä¸ºå”¯ä¸€æ ‡è¯†ï¼ŒVue èƒ½æ ¹æ® <code>key</code> ç²¾å‡†æ‰¾åˆ°æ—§èŠ‚ç‚¹æ ‘ä¸­å¯¹åº”çš„èŠ‚ç‚¹ã€‚</p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šVue ä¼šç§»åŠ¨å…ƒç´ è€Œéé‡æ–°æ¸²æŸ“ï¼Œæå¤§å‡å°‘äº†ä¸å¿…è¦çš„ DOM æ“ä½œï¼Œæ˜¾è‘—æå‡æ€§èƒ½ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ Index ä½œä¸º Keyï¼Ÿ</h2>
<p>è¿™ä½¿ç”¨ <code>index</code> åœ¨è¿›è¡Œ<strong>å¢åˆ ã€æ’åº</strong>æ“ä½œæ—¶ï¼Œå¦‚æœåœ¨åˆ—è¡¨å¤´éƒ¨æ·»åŠ ä¸€ä¸ªæ–°å­é¡¹æ—¶ï¼ŒåŸåˆ—è¡¨æ‰€æœ‰çš„å­é¡¹indexéƒ½ä¼š+1ï¼Œè¿™ä¼šè®©vueè®¤ä¸ºåˆ—è¡¨å…¨æ”¹å˜äº†ï¼Œéœ€è¦å…¨éƒ¨é‡æ–°ç”Ÿæˆï¼Œä»è€Œé€ æˆæ€§èƒ½æŸè€—ã€‚</p>
<h3 data-id="heading-7">ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
import { ref } from 'vue'

interface User {
  id: number;
  name: string;
}

const users = ref&lt;User[]&gt;([
  { id: 1, name: 'å¼ ä¸‰' },
  { id: 2, name: 'æå››' }
])

const insertUser = () =&gt; {
  // åœ¨å¤´éƒ¨æ’å…¥ä¸€æ¡æ•°æ®
  users.value.unshift({ id: Date.now(), name: 'æ–°åŒå­¦' })
}
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;button @click="insertUser"&gt;å¤´éƒ¨æ’å…¥æ•°æ®&lt;/button&gt;
    &lt;ul&gt;
      &lt;li v-for="(item, index) in users" :key="index"&gt;
        {{ item.name }} &lt;input type="text" placeholder="è¾“å…¥è¯„ä»·" /&gt;
      &lt;/li&gt;
      
      &lt;hr /&gt;

      &lt;li v-for="item in users" :key="item.id"&gt;
        {{ item.name }} &lt;input type="text" placeholder="è¾“å…¥è¯„ä»·" /&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<hr/>
<h2 data-id="heading-8">å››ã€ æ€»ç»“</h2>
<ol>
<li><strong>å”¯ä¸€æ€§</strong>ï¼š<code>key</code> å¿…é¡»åœ¨å½“å‰å¾ªç¯å±‚çº§ä¸­æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½é‡å¤ã€‚</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼šä¸è¦ä½¿ç”¨ <code>Math.random()</code> ä½œä¸º <code>key</code>ï¼Œå¦åˆ™æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šå¼ºåˆ¶é”€æ¯é‡å»ºæ‰€æœ‰èŠ‚ç‚¹ï¼Œæ€§èƒ½æå…¶ä½æ•ˆã€‚</li>
<li><strong>undefined é™·é˜±</strong>ï¼šå¦‚æœä¸è®¾ç½® <code>key</code>ï¼Œå®ƒçš„å€¼å°±æ˜¯ <code>undefined</code>ã€‚åœ¨ Diff å¯¹æ¯”æ—¶ï¼ŒVue ä¼šè®¤ä¸ºä¸¤ä¸ª <code>undefined</code> èŠ‚ç‚¹æ˜¯â€œç›¸åŒâ€çš„ï¼Œè¿™æ­£æ˜¯å¯¼è‡´é¢‘ç¹æ›´æ–°ã€å½±å“æ€§èƒ½çš„æ ¹æºã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-æ’æ§½ (Slot) çš„å¤šç§é«˜çº§ç©æ³•]]></title>    <link>https://juejin.cn/post/7601843004957966382</link>    <guid>https://juejin.cn/post/7601843004957966382</guid>    <pubDate>2026-02-01T12:00:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601843004957966382" data-draft-id="7601444617695084554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-æ’æ§½ (Slot) çš„å¤šç§é«˜çº§ç©æ³•"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2026-02-01T12:00:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-æ’æ§½ (Slot) çš„å¤šç§é«˜çº§ç©æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T12:00:16.000Z" title="Sun Feb 01 2026 12:00:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ç»„ä»¶åŒ–å¼€å‘ä¸­ï¼Œ<strong>æ’æ§½ (Slot)</strong> æ˜¯å®ç°å†…å®¹åˆ†å‘ï¼ˆContent Distributionï¼‰çš„æ ¸å¿ƒæœºåˆ¶ã€‚å®ƒå…è®¸æˆ‘ä»¬å°†ç»„ä»¶çš„â€œå¤–å£³â€ä¸â€œå†…å®¹â€è§£è€¦ï¼Œè®©ç»„ä»¶å…·å¤‡æé«˜çš„æ‰©å±•æ€§ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ ä»€ä¹ˆæ˜¯æ’æ§½ï¼Ÿ</h2>
<p>æ’æ§½æ˜¯å­ç»„ä»¶æä¾›ç»™çˆ¶ç»„ä»¶çš„ <strong>â€œå ä½ç¬¦â€</strong> ï¼Œç”¨ <code>&lt;slot&gt;&lt;/slot&gt;</code> æ ‡ç­¾è¡¨ç¤ºã€‚çˆ¶ç»„ä»¶ä¼ é€’çš„ä»»ä½•æ¨¡æ¿ä»£ç ï¼ˆHTMLã€ç»„ä»¶ç­‰ï¼‰éƒ½ä¼šæ›¿æ¢å­ç»„ä»¶ä¸­çš„ <code>&lt;slot&gt;</code> æ ‡ç­¾ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€ æ’æ§½çš„ä¸‰å¤§ç±»å‹</h2>
<h3 data-id="heading-3">1. é»˜è®¤æ’æ§½ (Default Slot)</h3>
<p>æœ€åŸºç¡€çš„æ’æ§½ï¼Œä¸éœ€è¦å®šä¹‰ <code>name</code> å±æ€§ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä¸€ä¸ªå­ç»„ä»¶é€šå¸¸åªå»ºè®®ä½¿ç”¨ä¸€ä¸ªé»˜è®¤æ’æ§½ã€‚</li>
</ul>
<h4 data-id="heading-4">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-vue" lang="vue"> &lt;!-- å­ç»„ä»¶ --&gt;
  &lt;template&gt;
    &lt;div class="card"&gt;
      &lt;div class="card-title"&gt;é€šç”¨å¡ç‰‡æ ‡é¢˜&lt;/div&gt;
      &lt;div class="card-content"&gt;
        &lt;slot&gt; è¿™é‡Œæ˜¯é»˜è®¤çš„å¡«å……æ–‡æœ¬ &lt;/slot&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/template&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue"> &lt;!-- çˆ¶ç»„ä»¶ --&gt;
  &lt;template&gt;
    &lt;div class="app"&gt;
      &lt;MyCard&gt; è¿™æ˜¯æˆ‘ä¼ é€’ç»™å¡ç‰‡çš„å…·ä½“å†…å®¹ã€‚ &lt;/MyCard&gt;
    &lt;/div&gt;
  &lt;/template&gt;
</code></pre>
<h3 data-id="heading-5">2. å…·åæ’æ§½ (Named Slots)</h3>
<p>å½“å­ç»„ä»¶éœ€è¦å¤šä¸ªå ä½ç¬¦æ—¶ï¼Œé€šè¿‡ <code>name</code> å±æ€§æ¥åŒºåˆ†ã€‚</p>
<ul>
<li><strong>è¯­æ³•ç³–</strong>ï¼š<code>v-slot:header</code> å¯ä»¥ç®€å†™ä¸º <strong><code>#header</code></strong>ã€‚</li>
</ul>
<h4 data-id="heading-6">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-vue" lang="vue"> &lt;!-- å­ç»„ä»¶:LayoutComponent.vue --&gt;
&lt;template&gt;
  &lt;div class="layout"&gt;
    &lt;header class="header"&gt;
      &lt;slot name="header"&gt;&lt;/slot&gt;
    &lt;/header&gt;
    
    &lt;main class="content"&gt;
      &lt;slot&gt;&lt;/slot&gt; 
    &lt;/main&gt;
    
    &lt;footer class="footer"&gt;
      &lt;slot name="footer"&gt;&lt;/slot&gt;
    &lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
 &lt;!-- Vue 3 Composition API æ¨¡å¼ä¸‹ï¼Œé€»è¾‘éƒ¨åˆ†å¯ä»¥ä¿æŒç®€æ´ --&gt;
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue"> &lt;!-- çˆ¶ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹ --&gt;
&lt;template&gt;
  &lt;LayoutComponent&gt;
    &lt;template #header&gt;
      &lt;h1&gt;é¡µé¢æ ‡é¢˜&lt;/h1&gt;
      &lt;nav&gt;å¯¼èˆªèœå•&lt;/nav&gt;
    &lt;/template&gt;
    
    &lt;p&gt;è¿™æ˜¯ä¸»ä½“å†…å®¹ï¼Œå°†å¡«å……åˆ°é»˜è®¤æ’æ§½ä¸­...&lt;/p&gt;
    
    &lt;template #footer&gt;
      &lt;p&gt;ç‰ˆæƒä¿¡æ¯ &amp;copy; 2026&lt;/p&gt;
    &lt;/template&gt;
  &lt;/LayoutComponent&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import LayoutComponent from './LayoutComponent.vue';
&lt;/script&gt;
</code></pre>
<hr/>
<h3 data-id="heading-7">3. ä½œç”¨åŸŸæ’æ§½ (Scoped Slots)</h3>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼š <strong>â€œå­ä¼ çˆ¶â€</strong> çš„ç‰¹æ®Šå½¢å¼ã€‚å­ç»„ä»¶å°†å†…éƒ¨æ•°æ®ç»‘å®šåœ¨ <code>&lt;slot&gt;</code> ä¸Šï¼Œçˆ¶ç»„ä»¶åœ¨å¡«å……å†…å®¹æ—¶å¯ä»¥æ¥æ”¶å¹¶ä½¿ç”¨è¿™äº›æ•°æ®ã€‚</p>
<h4 data-id="heading-8">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-vue" lang="vue"> &lt;!-- å­ç»„ä»¶ï¼š`UserList.vue` --&gt;
&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for="user in users" :key="user.id"&gt;
      &lt;slot :user="user" :index="user.id"&gt;
        {{ user.name }}
      &lt;/slot&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
interface User {
  id: number;
  name: string;
  role: string;
}

const users: User[] = [
  { id: 1, name: 'å¼ ä¸‰', role: 'ç®¡ç†å‘˜' },
  { id: 2, name: 'æå››', role: 'å¼€å‘è€…' }
];
&lt;/script&gt;
</code></pre>
<pre><code class="hljs language-xml" lang="xml"> <span class="hljs-comment">&lt;!-- çˆ¶ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">UserList</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>=<span class="hljs-string">"{ user }"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ color: user.role === 'ç®¡ç†å‘˜' ? 'red' : 'blue' }"</span>&gt;</span>
        {{ user.name }} - ã€{{ user.role }}ã€‘
      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">UserList</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€ è¡¥å……ï¼šæ’æ§½çš„é»˜è®¤å†…å®¹</h2>
<p>åœ¨å­ç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥åœ¨ <code>&lt;slot&gt;</code> æ ‡ç­¾å†…éƒ¨æ”¾ç½®å†…å®¹ã€‚å¦‚æœçˆ¶ç»„ä»¶<strong>æ²¡æœ‰</strong>æä¾›ä»»ä½•æ’æ§½å†…å®¹ï¼Œåˆ™ä¼šæ¸²æŸ“è¿™äº›â€œåå¤‡å†…å®¹â€ï¼›å¦‚æœæä¾›äº†ï¼Œåˆ™ä¼šè¢«è¦†ç›–ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;slot&gt;è¿™æ˜¯å¦‚æœæ²¡æœ‰å†…å®¹æ—¶æ˜¾ç¤ºçš„é»˜è®¤æ–‡æœ¬&lt;/slot&gt;
</code></pre>
<hr/>
<h2 data-id="heading-10">å››ã€ æ€»ç»“ï¼šå¦‚ä½•é€‰æ‹©æ’æ§½ï¼Ÿ</h2>





















<table><thead><tr><th><strong>æ’æ§½ç±»å‹</strong></th><th><strong>ä½¿ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>é»˜è®¤æ’æ§½</strong></td><td>ç»„ä»¶åªæœ‰ä¸€ä¸ªæ‰©å±•ç‚¹æ—¶ä½¿ç”¨ã€‚</td></tr><tr><td><strong>å…·åæ’æ§½</strong></td><td>ç»„ä»¶æœ‰å¤šä¸ªå›ºå®šåŒºåŸŸï¼ˆå¦‚ Header/Main/Footerï¼‰éœ€è¦è‡ªå®šä¹‰æ—¶ä½¿ç”¨ã€‚</td></tr><tr><td><strong>ä½œç”¨åŸŸæ’æ§½</strong></td><td>éœ€è¦æ ¹æ®å­ç»„ä»¶çš„å†…éƒ¨æ•°æ®æ¥å†³å®šçˆ¶ç»„ä»¶æ¸²æŸ“æ ·å¼çš„åœºæ™¯ï¼ˆå¦‚åˆ—è¡¨å±•ç¤ºï¼‰ã€‚</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åç«¯çš„æ¶æ„æ¨¡å¼ï¼Ÿæˆ‘è§‰å¾—90%éƒ½æ˜¯åœ¨è¿‡åº¦è®¾è®¡ï¼]]></title>    <link>https://juejin.cn/post/7601159804491333651</link>    <guid>https://juejin.cn/post/7601159804491333651</guid>    <pubDate>2026-02-01T13:29:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601159804491333651" data-draft-id="7601427909702385718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åç«¯çš„æ¶æ„æ¨¡å¼ï¼Ÿæˆ‘è§‰å¾—90%éƒ½æ˜¯åœ¨è¿‡åº¦è®¾è®¡ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-01T13:29:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘è€…é˜¿è±ª"/> <meta itemprop="url" content="https://juejin.cn/user/4073055974333608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åç«¯çš„æ¶æ„æ¨¡å¼ï¼Ÿæˆ‘è§‰å¾—90%éƒ½æ˜¯åœ¨è¿‡åº¦è®¾è®¡ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4073055974333608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘è€…é˜¿è±ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T13:29:41.000Z" title="Sun Feb 01 2026 13:29:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åç«¯çš„æ¶æ„æ¨¡å¼ï¼Ÿæˆ‘è§‰å¾—90%éƒ½æ˜¯åœ¨è¿‡åº¦è®¾è®¡ï¼</h2>
<p>æœ€è¿‘åšCode Reviewï¼Œçœ‹åˆ°ä¸€ä¸ªèªæ˜çš„æ–°åŒäº‹ï¼Œç”¨ç­–ç•¥æ¨¡å¼ã€å·¥å‚æ¨¡å¼ã€æŠ½è±¡å·¥å‚ï¼Œå†™äº†ä¸€ä¸ªæå…¶å¤æ‚çš„è®¢å•å¤„ç†ç³»ç»Ÿã€‚è¿™ä¸ªç³»ç»Ÿæœ¬æ¥åªéœ€è¦å¤„ç†ä¸¤ç§æ”¯ä»˜æ–¹å¼ï¼Œç°åœ¨å´è¢«è®¾è®¡æˆäº†å¯ä»¥â€œè½»æ¾æ‰©å±•â€åˆ°20ç§æ”¯ä»˜æ–¹å¼çš„æ¶æ„ã€‚</p>
<p>å…¸å‹çš„åœºæ™¯ï¼šç”¨æˆ·ä¸‹å•ï¼Œæ ¹æ®æ”¯ä»˜ç±»å‹è°ƒç”¨ä¸åŒçš„æ”¯ä»˜æ¸ é“ï¼Œä»£ç å¤§æ¦‚é•¿è¿™æ ·ğŸ‘‡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç­–ç•¥æ¨¡å¼æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentStrategy</span> {
    PayResult <span class="hljs-title function_">pay</span><span class="hljs-params">(Order order)</span>;
}

<span class="hljs-comment">// å·¥å‚æ¨¡å¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentStrategyFactory</span> {
    <span class="hljs-keyword">private</span> Map&lt;String, PaymentStrategy&gt; strategies = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PaymentStrategyFactory</span><span class="hljs-params">()</span> {
        strategies.put(<span class="hljs-string">"alipay"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">AlipayStrategy</span>());
        strategies.put(<span class="hljs-string">"wechat"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">WechatPayStrategy</span>());
        <span class="hljs-comment">// ... ç†è®ºä¸Šå¯ä»¥æ— é™æ‰©å±•</span>
    }
    
    <span class="hljs-keyword">public</span> PaymentStrategy <span class="hljs-title function_">getStrategy</span><span class="hljs-params">(String type)</span> {
        <span class="hljs-keyword">return</span> strategies.get(type);
    }
}

<span class="hljs-comment">// æŠ½è±¡å·¥å‚</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentFactory</span> {
    Validator <span class="hljs-title function_">createValidator</span><span class="hljs-params">()</span>;
    Notifier <span class="hljs-title function_">createNotifier</span><span class="hljs-params">()</span>;
    Logger <span class="hljs-title function_">createLogger</span><span class="hljs-params">()</span>;
}

<span class="hljs-comment">// å…·ä½“ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">private</span> PaymentStrategyFactory strategyFactory;
    <span class="hljs-keyword">private</span> PaymentFactory paymentFactory;
    
    <span class="hljs-keyword">public</span> PayResult <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">PaymentStrategy</span> <span class="hljs-variable">strategy</span> <span class="hljs-operator">=</span> strategyFactory.getStrategy(order.getPayType());
        <span class="hljs-type">PaymentFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> getFactory(order.getPayType());
        
        factory.createValidator().validate(order);
        <span class="hljs-type">PayResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> strategy.pay(order);
        factory.createNotifier().notify(result);
        factory.createLogger().log(result);
        
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<p>æˆ‘æŠŠè¿™å“¥ä»¬å«è¿‡æ¥ï¼Œé—®ä»–ï¼šâ€œå’±ä»¬ç³»ç»Ÿç°åœ¨å°±æ”¯ä»˜å®å’Œå¾®ä¿¡æ”¯ä»˜ä¸¤ç§ï¼Œä¸ºä»€ä¹ˆä¸ç”¨ç®€å•çš„if-elseï¼Œæˆ–è€…ç”¨æšä¸¾+ç­–ç•¥æ¨¡å¼ç®€åŒ–ä¸€ä¸‹ï¼Ÿâ€</p>
<p>ä»–è¯´ï¼šâ€œè¿™æ ·è®¾è®¡æ‰©å±•æ€§å¥½å•Šï¼Œä»¥ååŠ æ–°æ”¯ä»˜æ–¹å¼ç‰¹åˆ«æ–¹ä¾¿ï¼Œä»£ç ä¹Ÿæ˜¾å¾—ä¸“ä¸šğŸ˜ã€‚â€</p>
<p>è¿™ä¸ªç¬é—´ï¼Œè®©æˆ‘æƒ³èŠèŠè¿™ä¸ªè¯é¢˜ï¼š</p>
<p><strong>åœ¨ç°ä»£åç«¯å¼€å‘ï¼ˆå°¤å…¶æ˜¯å¾®æœåŠ¡æ—¶ä»£ï¼‰ä¸­ï¼Œæˆ‘ä»¬æŒ‚åœ¨å˜´è¾¹çš„é‚£äº›ç»å…¸æ¶æ„æ¨¡å¼ï¼Œ90%éƒ½æ˜¯åœ¨è¿‡åº¦è®¾è®¡ã€‚</strong></p>
<p>å…ˆæ¾„æ¸…ä¸€ä¸‹ï¼šæˆ‘ä¸åå¯¹å¥½çš„è®¾è®¡æ€æƒ³ï¼Œæ¯”å¦‚é«˜å†…èšä½è€¦åˆã€å•ä¸€èŒè´£ã€‚æˆ‘åå¯¹çš„æ˜¯ï¼ŒæŠŠé‚£äº›ä¸ºå¤§å‹å•ä½“åº”ç”¨è®¾è®¡çš„ã€æ²‰é‡çš„ã€è¿‡åº¦æŠ½è±¡çš„æ¶æ„æ¨¡å¼ï¼Œç”Ÿæ¬ç¡¬å¥—åˆ°æˆ‘ä»¬ç°ä»£çš„å¾®æœåŠ¡ã€äº‘åŸç”Ÿã€Serverlessçš„æ¶æ„é‡Œã€‚</p>
<h3 data-id="heading-1">æˆ‘ä»¬ä¸ºä»€ä¹ˆä¼šé™·å…¥æ¶æ„æ¨¡å¼çš„é™·é˜±ï¼Ÿ</h3>
<p>æ›¾ç»ï¼Œæˆ‘ä¹Ÿæ˜¯ã€Šè®¾è®¡æ¨¡å¼ã€‹ã€ã€Šä¼ä¸šåº”ç”¨æ¶æ„æ¨¡å¼ã€‹çš„å¿ å®è¯»è€…ã€‚çƒ­è¡·äºåœ¨ä»£ç é‡Œå¯»æ‰¾åº”ç”¨Repositoryæ¨¡å¼ã€CQRSã€å…­è¾¹å½¢æ¶æ„çš„æœºä¼šã€‚</p>
<p>æˆ‘è§‰å¾—åŸå› æœ‰ä¸¤ä¸ªï¼š</p>
<p><strong>1. ä¸ºäº†é¢è¯•é€ ç«ç®­</strong>
æ¶æ„æ¨¡å¼æ˜¯åç«¯é¢è¯•çš„é‡ç¾åŒºã€‚é¢è¯•å®˜å–œæ¬¢é—®ï¼šâ€œä½ æ€ä¹ˆè®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘çš„ç³»ç»Ÿï¼Ÿâ€æˆ‘ä»¬ä¸ºäº†åº”å¯¹è¿™ç§é—®é¢˜ï¼Œä¸å¾—ä¸èƒŒè¯µå„ç§æ¶æ„æ¨¡å¼çš„åå­—å’Œç”¨é€”ï¼Œå¯¼è‡´å·¥ä½œä¸­ä¹Ÿæ€»æƒ³â€œç§€ä¸€ä¸‹è‚Œè‚‰â€ã€‚</p>
<p><strong>2. æŠ€æœ¯è™šè£å¿ƒä½œç¥Ÿ</strong>
æˆ‘ä»¬æ€»è§‰å¾—ï¼Œèƒ½è¯´å‡ºå‡ ä¸ªæ¶æ„æ¨¡å¼çš„åå­—ï¼Œèƒ½åœ¨ä»£ç é‡Œç”¨ä¸ŠDDDã€äº‹ä»¶æº¯æºã€CQRSï¼Œå°±ä»£è¡¨è‡ªå·±æ°´å¹³æ›´é«˜ã€‚ä»¿ä½›ä¸è¯´ä¸ªâ€œé¢†åŸŸé©±åŠ¨è®¾è®¡â€ï¼Œä¸æä¸ªâ€œæœ€ç»ˆä¸€è‡´æ€§â€ï¼Œå°±æ˜¾å¾—ä¸å¤Ÿèµ„æ·±ã€‚</p>
<h3 data-id="heading-2">æœ‰å“ªäº›æ°´åœŸä¸æœçš„æ¶æ„æ¨¡å¼ï¼Ÿ</h3>
<h4 data-id="heading-3">1. æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰</h4>
<p><strong>ç»å…¸ç”¨æ³•</strong>ï¼šä¸ºåˆ›å»ºç›¸å…³æˆ–ä¾èµ–å¯¹è±¡æä¾›ä¸€ä¸ªæ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå…·ä½“ç±»ã€‚</p>
<p><strong>æˆ‘çš„åæ§½</strong>ï¼šåœ¨å¾®æœåŠ¡æ¶æ„é‡Œï¼Œæ¯ä¸ªæœåŠ¡åº”è¯¥æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œä¸šåŠ¡é€»è¾‘ã€‚è·¨æœåŠ¡çš„å¯¹è±¡åˆ›å»ºï¼Ÿä½ ç¡®å®šä¸æ˜¯åœ¨é€ åˆ†å¸ƒå¼å•ä½“ï¼Ÿ</p>
<p><strong>ç°ä»£åšæ³•</strong>ï¼šæ¯ä¸ªå¾®æœåŠ¡ç»´æŠ¤è‡ªå·±çš„æ•°æ®æ¨¡å‹å’Œå·¥å‚é€»è¾‘ã€‚å¦‚æœéœ€è¦è·¨æœåŠ¡çš„æ•°æ®ï¼Œç”¨APIè°ƒç”¨æˆ–è€…äº‹ä»¶é€šä¿¡ï¼Œè€Œä¸æ˜¯æŠ½è±¡å·¥å‚ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ«æè¿™ä¹ˆå¤æ‚çš„æŠ½è±¡å·¥å‚äº†</span>
<span class="hljs-comment">// å¾®æœåŠ¡Açš„ä»£ç </span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-comment">// ç›´æ¥ä¾èµ–å…·ä½“çš„ä»“å‚¨æˆ–å®¢æˆ·ç«¯</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> PaymentClient paymentClient;
    
    <span class="hljs-comment">// ç®€å•æ¸…æ™°</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderRequest request)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
        order.setItems(request.getItems());
        order.setTotal(request.getTotal());
        <span class="hljs-comment">// ... ä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> orderRepository.save(order);
    }
}
</code></pre>
<h4 data-id="heading-4">2. å¤æ‚çš„äº‹ä»¶æº¯æºï¼ˆEvent Sourcingï¼‰</h4>
<p><strong>ç»å…¸ç”¨æ³•</strong>ï¼šä¸å­˜å‚¨å¯¹è±¡å½“å‰çŠ¶æ€ï¼Œè€Œæ˜¯å­˜å‚¨å¯¼è‡´çŠ¶æ€å˜åŒ–çš„æ‰€æœ‰äº‹ä»¶ã€‚</p>
<p><strong>æˆ‘çš„åæ§½</strong>ï¼šå…„å¼Ÿï¼Œå’±ä»¬å°±æ˜¯ä¸ªç”µå•†è®¢å•ç³»ç»Ÿï¼Œä¸æ˜¯é“¶è¡Œæ ¸å¿ƒç³»ç»Ÿï¼ä½ çœŸçš„éœ€è¦å®Œæ•´çš„å†å²è®°å½•æ¥é‡å»ºæ¯ä¸ªå¯¹è±¡çš„çŠ¶æ€å—ï¼Ÿå¤§éƒ¨åˆ†ä¸šåŠ¡ï¼Œåœ¨æ•°æ®åº“é‡ŒåŠ ä¸ª<code>version</code>å­—æ®µå’Œå®¡è®¡æ—¥å¿—å°±å¤Ÿäº†ã€‚</p>
<p><strong>ç°ä»£åšæ³•</strong>ï¼šæŒ‰éœ€ä½¿ç”¨ã€‚åªæœ‰çœŸæ­£éœ€è¦å®Œæ•´å®¡è®¡è¿½è¸ªã€æ³•å¾‹åˆè§„è¦æ±‚çš„åœºæ™¯ï¼Œæ‰è€ƒè™‘äº‹ä»¶æº¯æºã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œè¿™æ ·å°±å¤Ÿäº†</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String status;
    <span class="hljs-keyword">private</span> BigDecimal amount;
    
    <span class="hljs-meta">@CreatedDate</span>
    <span class="hljs-keyword">private</span> LocalDateTime createdAt;
    
    <span class="hljs-meta">@LastModifiedDate</span>
    <span class="hljs-keyword">private</span> LocalDateTime updatedAt;
    
    <span class="hljs-comment">// ç®€å•çš„çŠ¶æ€å˜æ›´</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cancel</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">this</span>.status = <span class="hljs-string">"CANCELLED"</span>;
        <span class="hljs-built_in">this</span>.updatedAt = LocalDateTime.now();
    }
}
</code></pre>
<h4 data-id="heading-5">3. CQRSï¼ˆå‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦»ï¼‰çš„æ»¥ç”¨</h4>
<p><strong>ç»å…¸ç”¨æ³•</strong>ï¼šæŠŠè¯»å†™æ¨¡å‹åˆ†å¼€ï¼Œç”¨ä¸åŒæ•°æ®åº“ç”šè‡³ä¸åŒæœåŠ¡å¤„ç†ã€‚</p>
<p><strong>æˆ‘çš„åæ§½</strong>ï¼š90%çš„ä¸šåŠ¡åœºæ™¯ï¼Œè¯»å†™æ¯”ä¾‹æ˜¯9:1ç”šè‡³99:1ã€‚ä¸ºäº†é‚£1%çš„å†™æ“ä½œï¼Œä½ æŠŠæ•´ä¸ªæ¶æ„æå¾—è¿™ä¹ˆå¤æ‚ï¼Ÿè¯»å†™åˆ†ç¦»æ•°æ®åº“+ç¼“å­˜ï¼Œé€šå¸¸å°±å¤Ÿäº†ã€‚</p>
<p><strong>ç°ä»£åšæ³•</strong>ï¼šä»ç®€å•å¼€å§‹ï¼ŒçœŸçš„é‡åˆ°æ€§èƒ½ç“¶é¢ˆå†è€ƒè™‘CQRSã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¼€å§‹çš„æ—¶å€™ï¼Œç®€å•ç‚¹</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    
    <span class="hljs-comment">// è¯»ï¼šèµ°ç¼“å­˜</span>
    <span class="hljs-meta">@GetMapping("/orders/{id}")</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">getOrder</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-keyword">return</span> cacheService.getOrLoad(
            <span class="hljs-string">"order:"</span> + id, 
            () -&gt; orderRepository.findById(id).orElseThrow()
        );
    }
    
    <span class="hljs-comment">// å†™ï¼šç›´æ¥å†™åº“</span>
    <span class="hljs-meta">@PostMapping("/orders")</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> CreateOrderRequest request)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderService.createOrder(request);
        <span class="hljs-comment">// æ¸…ç†ç¼“å­˜</span>
        cacheService.evict(<span class="hljs-string">"order:"</span> + order.getId());
        <span class="hljs-keyword">return</span> order;
    }
}
</code></pre>
<h4 data-id="heading-6">4. è¿‡åº¦è®¾è®¡çš„é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰</h4>
<p><strong>ç»å…¸ç”¨æ³•</strong>ï¼šèšåˆæ ¹ã€å®ä½“ã€å€¼å¯¹è±¡ã€é¢†åŸŸæœåŠ¡ã€ä»“å‚¨æ¥å£ã€é˜²è…å±‚...</p>
<p><strong>æˆ‘çš„åæ§½</strong>ï¼šå’±ä»¬å°±æ˜¯ä¸€ä¸ªç”¨æˆ·ç®¡ç†æ¨¡å—ï¼Œç”¨æˆ·æœ‰åŸºæœ¬ä¿¡æ¯ã€åœ°å€ã€æƒé™ã€‚çœŸçš„éœ€è¦æå‡º<code>UserAggregateRoot</code>ã€<code>AddressValueObject</code>ã€<code>UserRepositoryInterface</code>ã€<code>UserDomainService</code>è¿™ä¸€å †ä¸œè¥¿å—ï¼Ÿ</p>
<p><strong>ç°ä»£åšæ³•</strong>ï¼šç”¨DDDçš„æ€æƒ³ï¼Œè€Œä¸æ˜¯å½¢å¼ã€‚å…³æ³¨é¢†åŸŸé€»è¾‘ï¼Œè€Œä¸æ˜¯åˆ†å±‚æ•°é‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç®€å•æ¸…æ™°çš„é¢†åŸŸæ¨¡å‹</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-keyword">private</span> String email;
    
    <span class="hljs-meta">@Embedded</span>
    <span class="hljs-keyword">private</span> Address address;  <span class="hljs-comment">// å€¼å¯¹è±¡ï¼Œä½†ä¸ç”¨éå¾—å«ValueObject</span>
    
    <span class="hljs-comment">// é¢†åŸŸé€»è¾‘æ”¾åœ¨å®ä½“é‡Œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">canResetPassword</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> !isLocked() &amp;&amp; isActive();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">changeEmail</span><span class="hljs-params">(String newEmail)</span> {
        validateEmail(newEmail);
        <span class="hljs-built_in">this</span>.email = newEmail;
        <span class="hljs-built_in">this</span>.emailVerified = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// å‘é€éªŒè¯é‚®ä»¶çš„é€»è¾‘å¯ä»¥æ”¾è¿™é‡Œæˆ–æœåŠ¡å±‚</span>
    }
}
</code></pre>
<h3 data-id="heading-7">é‚£å‰©ä¸‹10%æœ‰ç”¨çš„ï¼Œæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>æˆ‘å–·äº†90%ï¼Œé‚£å‰©ä¸‹10%ä¾ç„¶æœ‰ä»·å€¼çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ä¸€äº›æ¶æ„æ€æƒ³ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°å½¢å¼ã€‚</p>
<h4 data-id="heading-8">1. æ¸…æ™°çš„ä¾èµ–æ–¹å‘</h4>
<p><strong>æœ‰ç”¨ä¹‹å¤„</strong>ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚</p>
<p><strong>ç°ä»£å®è·µ</strong>ï¼šåœ¨Spring Booté‡Œï¼Œç”¨æ¥å£å®šä¹‰Serviceï¼Œç”¨å®ç°ç±»å®ç°ã€‚ä½†åˆ«ä¸ºäº†æŠ½è±¡è€ŒæŠ½è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æœ‰ç”¨çš„æŠ½è±¡ï¼šå®šä¹‰æ¸…æ™°çš„å¥‘çº¦</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentService</span> {
    PaymentResult <span class="hljs-title function_">pay</span><span class="hljs-params">(PaymentRequest request)</span>;
    RefundResult <span class="hljs-title function_">refund</span><span class="hljs-params">(RefundRequest request)</span>;
}

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlipayService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentService</span> {
    <span class="hljs-comment">// å…·ä½“å®ç°</span>
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶ä¾èµ–æ¥å£</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> PaymentService paymentService;  <span class="hljs-comment">// ä¾èµ–æŠ½è±¡</span>
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderService</span><span class="hljs-params">(PaymentService paymentService)</span> {
        <span class="hljs-built_in">this</span>.paymentService = paymentService;
    }
}
</code></pre>
<h4 data-id="heading-9">2. ç­–ç•¥æ¨¡å¼çš„ç²¾ç®€ç‰ˆ</h4>
<p><strong>æœ‰ç”¨ä¹‹å¤„</strong>ï¼šæ¶ˆé™¤if-elseï¼Œè®©ä»£ç æ›´æ¸…æ™°ã€‚</p>
<p><strong>ç°ä»£å®è·µ</strong>ï¼šç”¨Map+å‡½æ•°å¼æ¥å£ï¼Œæˆ–è€…Springçš„@Conditionalã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼˜é›…çš„ç­–ç•¥æ¨¡å¼å®ç°</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentStrategy</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, PaymentProcessor&gt; processors;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">PaymentStrategy</span><span class="hljs-params">(List&lt;PaymentProcessor&gt; processorList)</span> {
        processors = processorList.stream()
            .collect(Collectors.toMap(
                PaymentProcessor::getType,
                Function.identity()
            ));
    }
    
    <span class="hljs-keyword">public</span> PaymentResult <span class="hljs-title function_">process</span><span class="hljs-params">(String type, PaymentRequest request)</span> {
        <span class="hljs-type">PaymentProcessor</span> <span class="hljs-variable">processor</span> <span class="hljs-operator">=</span> processors.get(type);
        <span class="hljs-keyword">if</span> (processor == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„æ”¯ä»˜ç±»å‹: "</span> + type);
        }
        <span class="hljs-keyword">return</span> processor.process(request);
    }
}
</code></pre>
<h4 data-id="heading-10">3. é€‚é…å™¨æ¨¡å¼çš„å®é™…åº”ç”¨</h4>
<p><strong>æœ‰ç”¨ä¹‹å¤„</strong>ï¼šæ•´åˆç¬¬ä¸‰æ–¹åº“ï¼Œä¿æŒä»£ç æ•´æ´ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é€‚é…ç¬¬ä¸‰æ–¹æ”¯ä»˜SDK</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WechatPayAdapter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentProcessor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> WechatPayClient wechatPayClient;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> PaymentResult <span class="hljs-title function_">process</span><span class="hljs-params">(PaymentRequest request)</span> {
        <span class="hljs-comment">// å°†æˆ‘ä»¬çš„Requestè½¬æ¢æˆå¾®ä¿¡SDKçš„Request</span>
        <span class="hljs-type">WechatPayRequest</span> <span class="hljs-variable">wechatRequest</span> <span class="hljs-operator">=</span> convertToWechatRequest(request);
        
        <span class="hljs-comment">// è°ƒç”¨å¾®ä¿¡SDK</span>
        <span class="hljs-type">WechatPayResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> wechatPayClient.pay(wechatRequest);
        
        <span class="hljs-comment">// å°†å¾®ä¿¡Responseè½¬æ¢æˆæˆ‘ä»¬çš„Response</span>
        <span class="hljs-keyword">return</span> convertToPaymentResult(response);
    }
}
</code></pre>
<h4 data-id="heading-11">4. è§‚å¯Ÿè€…æ¨¡å¼çš„äº‹ä»¶é©±åŠ¨</h4>
<p><strong>æœ‰ç”¨ä¹‹å¤„</strong>ï¼šè§£è€¦ä¸šåŠ¡é€»è¾‘ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Springçš„äº‹ä»¶æœºåˆ¶å°±å¾ˆå¥½ç”¨</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ApplicationEventPublisher eventPublisher;
    
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderRequest request)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-comment">// åˆ›å»ºè®¢å•é€»è¾‘</span>
        
        <span class="hljs-comment">// å‘å¸ƒé¢†åŸŸäº‹ä»¶</span>
        eventPublisher.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCreatedEvent</span>(<span class="hljs-built_in">this</span>, order));
        
        <span class="hljs-keyword">return</span> order;
    }
}

<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventListener</span> {
    
    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCreated</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
        <span class="hljs-comment">// å‘é€é‚®ä»¶</span>
        emailService.sendOrderConfirmation(event.getOrder());
        
        <span class="hljs-comment">// æ›´æ–°åº“å­˜</span>
        inventoryService.updateStock(event.getOrder());
        
        <span class="hljs-comment">// è®°å½•æ—¥å¿—</span>
        log.info(<span class="hljs-string">"è®¢å•åˆ›å»º: {}"</span>, event.getOrder().getId());
    }
}
</code></pre>
<h3 data-id="heading-12">ä½œä¸ºæŠ€æœ¯è´Ÿè´£äººï¼Œæˆ‘åœ¨Code Reviewæ—¶çš„åŸåˆ™</h3>
<ol>
<li>
<p><strong>èƒ½ç®€å•å°±åˆ«å¤æ‚</strong>ï¼šå¦‚æœif-elseèƒ½æå®šï¼Œå°±åˆ«ç”¨ç­–ç•¥æ¨¡å¼ï¼›å¦‚æœç›´æ¥è°ƒç”¨èƒ½æå®šï¼Œå°±åˆ«ç”¨é€‚é…å™¨ã€‚</p>
</li>
<li>
<p><strong>é¢å‘å˜åŒ–ç¼–ç¨‹ï¼Œä½†ä¸æ˜¯é¢å‘å¹»æƒ³ç¼–ç¨‹</strong>ï¼šä¸ºçœŸå®çš„éœ€æ±‚å˜åŒ–åšè®¾è®¡ï¼Œè€Œä¸æ˜¯ä¸ºæƒ³è±¡ä¸­çš„â€œå¯èƒ½â€éœ€æ±‚åšè®¾è®¡ã€‚</p>
</li>
<li>
<p><strong>åˆ†å±‚è¦å®ç”¨ï¼Œä¸è¦æ•™æ¡</strong>ï¼šä¸‰å±‚æ¶æ„å¤Ÿç”¨å°±åˆ«æå››å±‚ï¼ŒServiceå±‚èƒ½æå®šå°±åˆ«éå¾—æ‹†å‡ºManagerã€Processorã€Handlerã€‚</p>
</li>
<li>
<p><strong>æŠ€æœ¯é€‰å‹è¦åŒ¹é…ä¸šåŠ¡è§„æ¨¡</strong>ï¼šæ—¥æ´»1000çš„ç³»ç»Ÿï¼Œåˆ«ç”¨æ—¥æ´»1000ä¸‡çš„æ¶æ„ã€‚</p>
</li>
<li>
<p><strong>ä»£ç æ˜¯ç»™äººçœ‹çš„</strong>ï¼šä½ å†™çš„ä»£ç ï¼Œä¸‹ä¸€ä¸ªæ¥æ‰‹çš„åŒäº‹èƒ½çœ‹æ‡‚å—ï¼Ÿèƒ½å¿«é€Ÿä¿®æ”¹å—ï¼Ÿ</p>
</li>
</ol>
<h3 data-id="heading-13">ä»€ä¹ˆæ—¶å€™è¯¥ç”¨å¤æ‚æ¶æ„ï¼Ÿ</h3>
<ol>
<li>
<p><strong>çœŸçš„é‡åˆ°æ€§èƒ½ç“¶é¢ˆäº†</strong>ï¼šæ•°æ®åº“æ‰›ä¸ä½äº†ï¼Œå†è€ƒè™‘åˆ†åº“åˆ†è¡¨ã€CQRSã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡çœŸçš„å¤æ‚åˆ°éœ€è¦DDDäº†</strong>ï¼šåƒç”µå•†çš„åº“å­˜ç³»ç»Ÿã€é‡‘èçš„äº¤æ˜“ç³»ç»Ÿã€‚</p>
</li>
<li>
<p><strong>å›¢é˜Ÿè§„æ¨¡çœŸçš„éœ€è¦äº†</strong>ï¼š20äººä»¥ä¸Šçš„å›¢é˜Ÿåä½œï¼Œéœ€è¦æ¸…æ™°çš„æ¶æ„è¾¹ç•Œã€‚</p>
</li>
<li>
<p><strong>ç³»ç»ŸçœŸçš„éœ€è¦é«˜å¯ç”¨äº†</strong>ï¼š99.99%çš„SLAè¦æ±‚ã€‚</p>
</li>
</ol>
<p><strong>è®°ä½ï¼šæ¶æ„çš„å¤æ‚åº¦ï¼Œåº”è¯¥ä¸ä¸šåŠ¡çš„å¤æ‚åº¦æˆæ­£æ¯”ï¼Œè€Œä¸æ˜¯ä¸ç¨‹åºå‘˜çš„ç‚«æŠ€æ¬²æœ›æˆæ­£æ¯”ã€‚</strong></p>
<p>ç°ä»£äº‘åŸç”Ÿã€å¾®æœåŠ¡ã€Serverlessæ¶æ„ï¼Œå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šä¼˜ç§€çš„å®è·µã€‚ä½ çš„ç›®æ ‡ä¸æ˜¯å†™å‡ºèƒ½å¥—ç”¨æŸä¸ªæ¶æ„æ¨¡å¼çš„ä»£ç ï¼Œè€Œæ˜¯å†™å‡ºç®€å•ã€æ¸…æ™°ã€æ˜“äºç»´æŠ¤ã€èƒ½å¿«é€Ÿå“åº”ä¸šåŠ¡å˜åŒ–çš„ä»£ç ã€‚</p>
<p>åœ¨åç«¯å¼€å‘ä¸­ï¼Œå…‹åˆ¶æ¯”ç‚«æŠ€æ›´é‡è¦ï¼ŒåŠ¡å®æ¯”ç†è®ºæ›´é‡è¦ã€‚å…±å‹‰ï¼ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flowableåœ¨çº¿æµç¨‹å›¾ç»˜åˆ¶ï¼šä»å…¥é—¨åˆ°å®æˆ˜]]></title>    <link>https://juejin.cn/post/7601073900525469738</link>    <guid>https://juejin.cn/post/7601073900525469738</guid>    <pubDate>2026-02-01T01:25:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601073900525469738" data-draft-id="7601159804490170387" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flowableåœ¨çº¿æµç¨‹å›¾ç»˜åˆ¶ï¼šä»å…¥é—¨åˆ°å®æˆ˜"/> <meta itemprop="keywords" content="Java,å·¥ä½œæµå¼•æ“"/> <meta itemprop="datePublished" content="2026-02-01T01:25:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flowableåœ¨çº¿æµç¨‹å›¾ç»˜åˆ¶ï¼šä»å…¥é—¨åˆ°å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T01:25:12.000Z" title="Sun Feb 01 2026 01:25:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flowableåœ¨çº¿æµç¨‹å›¾ç»˜åˆ¶ï¼šä»å…¥é—¨åˆ°å®æˆ˜</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨ä¼ä¸šçº§åº”ç”¨å¼€å‘ä¸­ï¼Œå·¥ä½œæµå¼•æ“æ˜¯ä¸å¯æˆ–ç¼ºçš„ç»„ä»¶ã€‚Flowableä½œä¸ºä¸€ä¸ªè½»é‡çº§ã€å¼€æºçš„å·¥ä½œæµå’Œä¸šåŠ¡æµç¨‹ç®¡ç†ï¼ˆBPMï¼‰å¹³å°ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå„ç±»ä¸šåŠ¡ç³»ç»Ÿä¸­ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„æµç¨‹è®¾è®¡æ–¹å¼éœ€è¦å€ŸåŠ©ä¸“é—¨çš„å»ºæ¨¡å·¥å…·ï¼ˆå¦‚Flowable Modelerã€Camunda Modelerç­‰ï¼‰ï¼Œæ“ä½œå¤æ‚ä¸”ä¸å¤Ÿç›´è§‚ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åŸºäº <strong>Flowable 6.8.0</strong> å’Œ <strong>bpmn-js</strong> æ„å»ºä¸€ä¸ªåœ¨çº¿æµç¨‹å›¾ç»˜åˆ¶ç³»ç»Ÿï¼Œå®ç°ï¼š</p>
<ul>
<li>åœ¨çº¿ç»˜åˆ¶ BPMN 2.0 æµç¨‹å›¾</li>
<li>æµç¨‹å®šä¹‰ä¿å­˜åˆ° MySQL æ•°æ®åº“</li>
<li>ä¸€é”®éƒ¨ç½²æµç¨‹åˆ° Flowable å¼•æ“</li>
<li>å®Œæ•´çš„å‰åç«¯åˆ†ç¦»æ¶æ„ <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7de15bdeb0d419e8e11f1590058fca8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=z%2FRH4izxA015q9ixlQAA3%2BZ7K1U%3D" alt="" loading="lazy"/></li>
</ul>
<hr/>
<h3 data-id="heading-2">ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹© bpmn-jsï¼Ÿ</h3>
<h4 data-id="heading-3">1.1 bpmn-js ç®€ä»‹</h4>
<p><strong>bpmn-js</strong> æ˜¯ä¸€ä¸ªç”± Camunda å¼€å‘çš„ BPMN 2.0 å»ºæ¨¡å·¥å…·åº“ï¼Œçº¯ JavaScript å®ç°ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚å®ƒæä¾›äº†ï¼š</p>
<ul>
<li><strong>å®Œæ•´çš„ BPMN 2.0 æ”¯æŒ</strong>ï¼šæ”¯æŒæ‰€æœ‰ BPMN 2.0 å…ƒç´ å’Œå±æ€§</li>
<li><strong>è½»é‡çº§</strong>ï¼šæ— éœ€å®‰è£…ä»»ä½•æ’ä»¶æˆ–è½¯ä»¶</li>
<li><strong>å¯å®šåˆ¶</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰æ ·å¼å’Œè¡Œä¸º</li>
<li><strong>å¼€æºå…è´¹</strong>ï¼šé‡‡ç”¨å¼€æºåè®®ï¼Œå¯å•†ç”¨</li>
</ul>
<h4 data-id="heading-4">1.2 bpmn-js vs ä¼ ç»Ÿå»ºæ¨¡å·¥å…·</h4>









































<table><thead><tr><th>ç‰¹æ€§</th><th>bpmn-js</th><th>Flowable Modeler</th><th>Eclipse Plugin</th></tr></thead><tbody><tr><td>å®‰è£…æ–¹å¼</td><td>æ— éœ€å®‰è£…</td><td>éœ€è¦éƒ¨ç½²</td><td>éœ€è¦å®‰è£…</td></tr><tr><td>ä½¿ç”¨ç¯å¢ƒ</td><td>æµè§ˆå™¨</td><td>ç‹¬ç«‹åº”ç”¨</td><td>Eclipse IDE</td></tr><tr><td>åä½œæ”¯æŒ</td><td>æ˜“äºé›†æˆ</td><td>å›°éš¾</td><td>å›°éš¾</td></tr><tr><td>å®šåˆ¶èƒ½åŠ›</td><td>é«˜</td><td>ä¸­</td><td>ä½</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>å¹³ç¼“</td><td>é™¡å³­</td><td>é™¡å³­</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5">äºŒã€ç³»ç»Ÿæ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-6">2.1 æ•´ä½“æ¶æ„</h4>
<p>æœ¬ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„è®¾è®¡ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å±‚æ¬¡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f7e7207965d4f3b8c4e8da2fd12545f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=zO1Mq127%2FVO9E3kScA1qOytvYDg%3D" alt="" loading="lazy"/></p>
<p><strong>è¡¨ç°å±‚ï¼ˆPresentation Layerï¼‰</strong></p>
<ul>
<li>Vue.js 3.x å‰ç«¯æ¡†æ¶</li>
<li>bpmn-js æµç¨‹è®¾è®¡å™¨</li>
<li>Element Plus UI ç»„ä»¶åº“</li>
</ul>
<p><strong>ä¸šåŠ¡æœåŠ¡å±‚ï¼ˆBusiness Service Layerï¼‰</strong></p>
<ul>
<li>Spring Boot 2.7 åº”ç”¨æ¡†æ¶</li>
<li>æµç¨‹è®¾è®¡æœåŠ¡ã€éƒ¨ç½²æœåŠ¡ã€å®ä¾‹æœåŠ¡</li>
<li>RESTful API æ¥å£å±‚</li>
</ul>
<p><strong>æµç¨‹å¼•æ“å±‚ï¼ˆProcess Engine Layerï¼‰</strong></p>
<ul>
<li>Flowable 6.8.0 æµç¨‹å¼•æ“</li>
<li>æµç¨‹å®šä¹‰å¼•æ“ã€ä»»åŠ¡å¼•æ“ã€å†å²å¼•æ“</li>
</ul>
<p><strong>æ•°æ®å­˜å‚¨å±‚ï¼ˆData Storage Layerï¼‰</strong></p>
<ul>
<li>MySQL 8.0 å­˜å‚¨æµç¨‹å®šä¹‰ã€å®ä¾‹ã€ä»»åŠ¡æ•°æ®</li>
<li>Redis 6.x ç¼“å­˜ã€ä¼šè¯ç®¡ç†</li>
<li>MinIO å¯¹è±¡å­˜å‚¨ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<h4 data-id="heading-7">2.2 æ ¸å¿ƒäº¤äº’æµç¨‹</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e115f78f4c02478da8565b56fd06d2f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=eBqEGE6CCtifXbjYQ2qeiNmMlgo%3D" alt="" loading="lazy"/></p>
<ol>
<li>ç”¨æˆ·åœ¨å‰ç«¯ç•Œé¢ç‚¹å‡»"æ–°å»ºæµç¨‹"</li>
<li>å‰ç«¯è¯·æ±‚åç«¯ API åˆ›å»ºæµç¨‹å®šä¹‰</li>
<li>åç«¯è°ƒç”¨ Flowable çš„ RepositoryService</li>
<li>Flowable å¼•æ“å°†æµç¨‹å®šä¹‰ä¿å­˜åˆ°æ•°æ®åº“</li>
<li>è¿”å›æµç¨‹å®šä¹‰ ID ç»™å‰ç«¯</li>
<li>ç”¨æˆ·ä½¿ç”¨ bpmn-js ç»˜åˆ¶æµç¨‹å›¾</li>
<li>ä¿å­˜æ—¶å°† BPMN XML å‘é€åˆ°åç«¯</li>
<li>åç«¯æ›´æ–°æ•°æ®åº“ä¸­çš„æµç¨‹å®šä¹‰</li>
</ol>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ç¯å¢ƒå‡†å¤‡</h3>
<h4 data-id="heading-9">3.1 å¼€å‘ç¯å¢ƒè¦æ±‚</h4>






























<table><thead><tr><th>è½¯ä»¶</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>JDK</td><td>1.8+</td><td>Java å¼€å‘ç¯å¢ƒ</td></tr><tr><td>Maven</td><td>3.6+</td><td>é¡¹ç›®æ„å»ºå·¥å…·</td></tr><tr><td>MySQL</td><td>5.7+ æˆ– 8.0+</td><td>å…³ç³»æ•°æ®åº“</td></tr><tr><td>Node.js</td><td>14+</td><td>å‰ç«¯å¼€å‘ï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-10">3.2 æŠ€æœ¯æ ˆç‰ˆæœ¬</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b719cf3fee86465495c566a9e90b430b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=JQAcSNmiB0dEVcMlBP0lxPRcwYA%3D" alt="" loading="lazy"/></p>
<p><strong>åç«¯æŠ€æœ¯æ ˆ</strong></p>
<ul>
<li>Spring Boot 2.7.18</li>
<li>Flowable 6.8.0</li>
<li>MyBatis Plus 3.5.2</li>
<li>MySQL Connector 8.0.28</li>
</ul>
<p><strong>å‰ç«¯æŠ€æœ¯æ ˆ</strong></p>
<ul>
<li>bpmn-js 14.0.0</li>
<li>jQuery 3.6.0</li>
<li>Bootstrap 5ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-11">å››ã€é¡¹ç›®åˆå§‹åŒ–</h3>
<h4 data-id="heading-12">4.1 åˆ›å»º Maven é¡¹ç›®</h4>
<p>ä½¿ç”¨ Spring Initializr åˆ›å»ºé¡¹ç›®ï¼Œæˆ–æ‰‹åŠ¨åˆ›å»º <code>pom.xml</code>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.18<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
Â Â Â Â <span class="hljs-comment">&lt;!--Â FlowableÂ StarterÂ --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.flowable<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>flowable-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>6.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

Â Â Â Â <span class="hljs-comment">&lt;!--Â MyBatisÂ PlusÂ --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

Â Â Â Â <span class="hljs-comment">&lt;!--Â MySQLÂ DriverÂ --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.28<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h4 data-id="heading-13">4.2 æ•°æ®åº“åˆå§‹åŒ–</h4>
<p>åˆ›å»ºæ•°æ®åº“å’Œæµç¨‹å®šä¹‰è¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span>Â DATABASEÂ flowable_onlineÂ <span class="hljs-type">CHARACTER</span>Â <span class="hljs-keyword">SET</span>Â utf8mb4Â <span class="hljs-keyword">COLLATE</span>Â utf8mb4_unicode_ci;

USEÂ flowable_online;

<span class="hljs-keyword">CREATE</span>Â <span class="hljs-keyword">TABLE</span>Â flow_definitionÂ (
Â Â Â Â idÂ <span class="hljs-type">BIGINT</span>Â AUTO_INCREMENTÂ <span class="hljs-keyword">PRIMARY</span>Â KEY,
Â Â Â Â process_keyÂ <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>)Â <span class="hljs-keyword">NOT</span>Â <span class="hljs-keyword">NULL</span>,
Â Â Â Â process_nameÂ <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>)Â <span class="hljs-keyword">NOT</span>Â <span class="hljs-keyword">NULL</span>,
Â Â Â Â versionÂ <span class="hljs-type">INT</span>Â <span class="hljs-keyword">NOT</span>Â <span class="hljs-keyword">NULL</span>Â <span class="hljs-keyword">DEFAULT</span>Â <span class="hljs-number">1</span>,
Â Â Â Â bpmn_xmlÂ LONGTEXTÂ <span class="hljs-keyword">NOT</span>Â <span class="hljs-keyword">NULL</span>,
Â Â Â Â descriptionÂ TEXT,
Â Â Â Â categoryÂ <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),
Â Â Â Â created_byÂ <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>),
Â Â Â Â deployedÂ TINYINTÂ <span class="hljs-keyword">DEFAULT</span>Â <span class="hljs-number">0</span>,
Â Â Â Â deployment_idÂ <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
Â Â Â Â create_timeÂ DATETIMEÂ <span class="hljs-keyword">DEFAULT</span>Â <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
Â Â Â Â update_timeÂ DATETIMEÂ <span class="hljs-keyword">DEFAULT</span>Â <span class="hljs-built_in">CURRENT_TIMESTAMP</span>Â <span class="hljs-keyword">ON</span>Â <span class="hljs-keyword">UPDATE</span>Â <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
Â Â Â Â deletedÂ TINYINTÂ <span class="hljs-keyword">DEFAULT</span>Â <span class="hljs-number">0</span>,
Â Â Â Â <span class="hljs-keyword">UNIQUE</span>Â KEYÂ uk_process_key_versionÂ (process_key,Â version,Â deleted)
);
</code></pre>
<h3 data-id="heading-14">äº”ã€åç«¯å®ç°</h3>
<h4 data-id="heading-15">5.1 å®ä½“ç±»è®¾è®¡</h4>
<p>åˆ›å»ºæµç¨‹å®šä¹‰å®ä½“ç±»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@TableName</span>(<span class="hljs-string">"flow_definition"</span>)
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">FlowDefinition</span>Â {
Â Â Â Â <span class="hljs-meta">@TableId</span>(<span class="hljs-keyword">type</span>Â =Â <span class="hljs-title class_">IdType</span>.<span class="hljs-property">AUTO</span>)
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">Long</span>Â id;

Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â processKey;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â processName;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">Integer</span>Â version;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â bpmnXml;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â description;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â category;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â createdBy;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">Integer</span>Â deployed;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">String</span>Â deploymentId;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">LocalDateTime</span>Â createTime;
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">LocalDateTime</span>Â updateTime;

Â Â Â Â <span class="hljs-meta">@TableLogic</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">Integer</span>Â deleted;
}
</code></pre>
<h4 data-id="heading-16">5.2 æ•°æ®è®¿é—®å±‚</h4>
<p>ä½¿ç”¨ MyBatis Plus çš„ Mapper æ¥å£ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Mapper</span>
publicÂ interfaceÂ FlowDefinitionMapperÂ extendsÂ BaseMapper&lt;FlowDefinition&gt;Â {
Â Â Â Â <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">FlowDefinition</span>&gt;Â <span class="hljs-selector-tag">selectByProcessKey</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"processKey"</span>)Â StringÂ processKey);
Â Â Â Â <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">FlowDefinition</span>&gt;Â <span class="hljs-selector-tag">selectByCreatedBy</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"createdBy"</span>)Â StringÂ createdBy);
}
</code></pre>
<h4 data-id="heading-17">5.3 æœåŠ¡å±‚å®ç°</h4>
<p>æµç¨‹è®¾è®¡æ ¸å¿ƒæœåŠ¡ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span>Â com.example.flowable.service;

<span class="hljs-keyword">import</span>Â com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;
<span class="hljs-keyword">import</span>Â com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
<span class="hljs-keyword">import</span>Â com.example.flowable.entity.FlowDefinition;
<span class="hljs-keyword">import</span>Â com.example.flowable.entity.Result;
<span class="hljs-keyword">import</span>Â com.example.flowable.exception.FlowableException;
<span class="hljs-keyword">import</span>Â com.example.flowable.repository.FlowDefinitionMapper;
<span class="hljs-keyword">import</span>Â lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span>Â org.flowable.engine.RepositoryService;
<span class="hljs-keyword">import</span>Â org.flowable.engine.repository.Deployment;
<span class="hljs-keyword">import</span>Â org.flowable.engine.repository.ProcessDefinition;
<span class="hljs-keyword">import</span>Â org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span>Â org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span>Â org.springframework.transaction.<span class="hljs-keyword">annotation</span>.Transactional;
<span class="hljs-keyword">import</span>Â org.springframework.util.StringUtils;

<span class="hljs-keyword">import</span>Â java.io.ByteArrayOutputStream;
<span class="hljs-keyword">import</span>Â java.io.IOException;
<span class="hljs-keyword">import</span>Â java.io.InputStream;
<span class="hljs-keyword">import</span>Â java.nio.charset.StandardCharsets;
<span class="hljs-keyword">import</span>Â java.time.LocalDateTime;
<span class="hljs-keyword">import</span>Â java.util.List;
<span class="hljs-keyword">import</span>Â java.util.zip.ZipInputStream;

<span class="hljs-comment">/**
Â *Â æµç¨‹è®¾è®¡æœåŠ¡å®ç°ç±»
Â *Â æä¾›æµç¨‹å®šä¹‰çš„ä¿å­˜ã€æŸ¥è¯¢ã€åˆ é™¤ã€éƒ¨ç½²ç­‰åŠŸèƒ½
Â *Â <span class="hljs-doctag">@version</span>Â 1.0.0
Â */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">FlowDesignService</span>Â <span class="hljs-title">extends</span>Â <span class="hljs-title">ServiceImpl</span>&lt;<span class="hljs-type">FlowDefinitionMapper,Â FlowDefinition</span>&gt;Â {

Â Â Â Â <span class="hljs-meta">@Autowired</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â FlowDefinitionMapperÂ flowDefinitionMapper;

Â Â Â Â <span class="hljs-meta">@Autowired</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â RepositoryServiceÂ repositoryService;

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â ä¿å­˜æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â flowDefinitionÂ æµç¨‹å®šä¹‰å®ä½“
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â ä¿å­˜ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-meta">@Transactional(rollbackForÂ =Â Exception.class)</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;FlowDefinition&gt;Â saveFlowDefinition(FlowDefinitionÂ flowDefinition)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â éªŒè¯å¿…å¡«å­—æ®µ</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (!StringUtils.hasText(flowDefinition.getProcessKey()))Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹Keyä¸èƒ½ä¸ºç©º"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (!StringUtils.hasText(flowDefinition.getProcessName()))Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹åç§°ä¸èƒ½ä¸ºç©º"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (!StringUtils.hasText(flowDefinition.getBpmnXml()))Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"BPMNÂ XMLå†…å®¹ä¸èƒ½ä¸ºç©º"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â æ£€æŸ¥æµç¨‹Keyæ˜¯å¦å·²å­˜åœ¨ï¼ˆåŒç‰ˆæœ¬ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â QueryWrapper&lt;FlowDefinition&gt;Â queryWrapperÂ =Â newÂ QueryWrapper&lt;&gt;();
Â Â Â Â Â Â Â Â Â Â Â Â queryWrapper.eq(<span class="hljs-string">"process_key"</span>,Â flowDefinition.getProcessKey())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .eq(<span class="hljs-string">"version"</span>,Â flowDefinition.getVersion()Â !=Â <span class="hljs-literal">null</span>Â ?Â flowDefinition.getVersion()Â :Â <span class="hljs-number">1</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .eq(<span class="hljs-string">"deleted"</span>,Â <span class="hljs-number">0</span>);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">Long</span>Â countÂ =Â flowDefinitionMapper.selectCount(queryWrapper);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (countÂ &gt;Â <span class="hljs-number">0</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹Keyå’Œç‰ˆæœ¬å·å·²å­˜åœ¨ï¼Œè¯·ä¿®æ”¹ç‰ˆæœ¬å·"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è®¾ç½®é»˜è®¤å€¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinition.getVersion()Â ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setVersion(<span class="hljs-number">1</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinition.getCreateTime()Â ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setCreateTime(LocalDateTime.now());
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setUpdateTime(LocalDateTime.now());
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setDeleted(<span class="hljs-number">0</span>);
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setDeployed(<span class="hljs-number">0</span>);

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ä¿å­˜åˆ°æ•°æ®åº“</span>
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinitionMapper.insert(flowDefinition);

Â Â Â Â Â Â Â Â Â Â Â Â log.info(<span class="hljs-string">"ä¿å­˜æµç¨‹å®šä¹‰æˆåŠŸ:Â id={},Â key={},Â name={}"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.getId(),Â flowDefinition.getProcessKey(),Â flowDefinition.getProcessName());

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¿å­˜æˆåŠŸ"</span>,Â flowDefinition);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"ä¿å­˜æµç¨‹å®šä¹‰å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"ä¿å­˜æµç¨‹å®šä¹‰å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æ›´æ–°æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â flowDefinitionÂ æµç¨‹å®šä¹‰å®ä½“
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â æ›´æ–°ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-meta">@Transactional(rollbackForÂ =Â Exception.class)</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;FlowDefinition&gt;Â updateFlowDefinition(FlowDefinitionÂ flowDefinition)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinition.getId()Â ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰IDä¸èƒ½ä¸ºç©º"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â FlowDefinitionÂ existingÂ =Â flowDefinitionMapper.selectById(flowDefinition.getId());
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (existingÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å·²éƒ¨ç½²çš„æµç¨‹ä¸èƒ½ä¿®æ”¹</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (existing.getDeployed()Â ==Â <span class="hljs-number">1</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"å·²éƒ¨ç½²çš„æµç¨‹ä¸èƒ½ä¿®æ”¹ï¼Œè¯·æ–°å»ºç‰ˆæœ¬"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setUpdateTime(LocalDateTime.now());
Â Â Â Â Â Â Â Â Â Â Â Â intÂ rowsÂ =Â flowDefinitionMapper.updateById(flowDefinition);

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (rowsÂ &gt;Â <span class="hljs-number">0</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â log.info(<span class="hljs-string">"æ›´æ–°æµç¨‹å®šä¹‰æˆåŠŸ:Â id={}"</span>,Â flowDefinition.getId());
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(<span class="hljs-string">"æµç¨‹å®šä¹‰æ›´æ–°æˆåŠŸ"</span>,Â flowDefinition);
Â Â Â Â Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æ›´æ–°æµç¨‹å®šä¹‰å¤±è´¥"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"æ›´æ–°æµç¨‹å®šä¹‰å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æ›´æ–°æµç¨‹å®šä¹‰å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â åˆ é™¤æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â åˆ é™¤ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-meta">@Transactional(rollbackForÂ =Â Exception.class)</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;<span class="hljs-built_in">Void</span>&gt;Â deleteFlowDefinition(<span class="hljs-built_in">Long</span>Â id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â FlowDefinitionÂ flowDefinitionÂ =Â flowDefinitionMapper.selectById(id);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinitionÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â é€»è¾‘åˆ é™¤</span>
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setDeleted(<span class="hljs-number">1</span>);
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinition.setUpdateTime(LocalDateTime.now());
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinitionMapper.updateById(flowDefinition);

Â Â Â Â Â Â Â Â Â Â Â Â log.info(<span class="hljs-string">"åˆ é™¤æµç¨‹å®šä¹‰æˆåŠŸ:Â id={}"</span>,Â id);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(<span class="hljs-string">"æµç¨‹å®šä¹‰åˆ é™¤æˆåŠŸ"</span>);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"åˆ é™¤æµç¨‹å®šä¹‰å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"åˆ é™¤æµç¨‹å®šä¹‰å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æ ¹æ®IDæŸ¥è¯¢æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â æŸ¥è¯¢ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;FlowDefinition&gt;Â getFlowDefinitionById(<span class="hljs-built_in">Long</span>Â id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â FlowDefinitionÂ flowDefinitionÂ =Â flowDefinitionMapper.selectById(id);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinitionÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(flowDefinition);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"æŸ¥è¯¢æµç¨‹å®šä¹‰å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æŸ¥è¯¢æµç¨‹å®šä¹‰å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æŸ¥è¯¢æ‰€æœ‰æµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â æµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;List&lt;FlowDefinition&gt;&gt;Â getAllFlowDefinitions()Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â QueryWrapper&lt;FlowDefinition&gt;Â queryWrapperÂ =Â newÂ QueryWrapper&lt;&gt;();
Â Â Â Â Â Â Â Â Â Â Â Â queryWrapper.eq(<span class="hljs-string">"deleted"</span>,Â <span class="hljs-number">0</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .orderByDesc(<span class="hljs-string">"create_time"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â List&lt;FlowDefinition&gt;Â listÂ =Â flowDefinitionMapper.selectList(queryWrapper);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(list);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"æŸ¥è¯¢æµç¨‹å®šä¹‰åˆ—è¡¨å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æŸ¥è¯¢æµç¨‹å®šä¹‰åˆ—è¡¨å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â éƒ¨ç½²æµç¨‹åˆ°Flowableå¼•æ“
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â éƒ¨ç½²ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-meta">@Transactional(rollbackForÂ =Â Exception.class)</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;Deployment&gt;Â deployFlowDefinition(<span class="hljs-built_in">Long</span>Â id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â FlowDefinitionÂ flowDefinitionÂ =Â flowDefinitionMapper.selectById(id);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinitionÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinition.getDeployed()Â ==Â <span class="hljs-number">1</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"è¯¥æµç¨‹å·²ç»éƒ¨ç½²è¿‡äº†"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â éƒ¨ç½²åˆ°Flowableå¼•æ“</span>
Â Â Â Â Â Â Â Â Â Â Â Â StringÂ deploymentNameÂ =Â flowDefinition.getProcessName()Â +Â <span class="hljs-string">".bpmn20.xml"</span>;
Â Â Â Â Â Â Â Â Â Â Â Â DeploymentÂ deploymentÂ =Â repositoryService.createDeployment()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .name(flowDefinition.getProcessName())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .category(flowDefinition.getCategory())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .addBytes(deploymentName,Â flowDefinition.getBpmnXml().getBytes(StandardCharsets.UTF_8))
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .deploy();

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â æ›´æ–°éƒ¨ç½²çŠ¶æ€</span>
Â Â Â Â Â Â Â Â Â Â Â Â flowDefinitionMapper.updateDeployStatus(id,Â <span class="hljs-number">1</span>,Â deployment.getId());

Â Â Â Â Â Â Â Â Â Â Â Â log.info(<span class="hljs-string">"éƒ¨ç½²æµç¨‹æˆåŠŸ:Â id={},Â deploymentId={}"</span>,Â id,Â deployment.getId());
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(<span class="hljs-string">"æµç¨‹éƒ¨ç½²æˆåŠŸ"</span>,Â deployment);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"éƒ¨ç½²æµç¨‹å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"éƒ¨ç½²æµç¨‹å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â è·å–Flowableæµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â æµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;List&lt;ProcessDefinition&gt;&gt;Â getFlowableProcessDefinitions()Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â List&lt;ProcessDefinition&gt;Â listÂ =Â repositoryService.createProcessDefinitionQuery()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .orderByProcessDefinitionVersion()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .desc()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .list();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(list);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"è·å–Flowableæµç¨‹å®šä¹‰åˆ—è¡¨å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"è·å–æµç¨‹å®šä¹‰åˆ—è¡¨å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æ ¹æ®æµç¨‹Keyè·å–æœ€æ–°ç‰ˆæœ¬çš„æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â processKeyÂ æµç¨‹Key
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â æµç¨‹å®šä¹‰
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;ProcessDefinition&gt;Â getLatestProcessDefinitionByKey(StringÂ processKey)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â ProcessDefinitionÂ processDefinitionÂ =Â repositoryService.createProcessDefinitionQuery()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .processDefinitionKey(processKey)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .latestVersion()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .singleResult();

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (processDefinitionÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(processDefinition);
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"è·å–æµç¨‹å®šä¹‰å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"è·å–æµç¨‹å®šä¹‰å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â å¯¼å‡ºæµç¨‹å®šä¹‰XML
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â BPMNÂ XMLå­—ç¬¦ä¸²
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;String&gt;Â exportFlowDefinitionXml(<span class="hljs-built_in">Long</span>Â id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â FlowDefinitionÂ flowDefinitionÂ =Â flowDefinitionMapper.selectById(id);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (flowDefinitionÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(flowDefinition.getBpmnXml());
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"å¯¼å‡ºæµç¨‹å®šä¹‰å¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"å¯¼å‡ºæµç¨‹å®šä¹‰å¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â è·å–æµç¨‹å®šä¹‰çš„XMLèµ„æº
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â processDefinitionIdÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â XMLèµ„æºå†…å®¹
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â Result&lt;String&gt;Â getProcessDefinitionResource(StringÂ processDefinitionId)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â ProcessDefinitionÂ processDefinitionÂ =Â repositoryService.createProcessDefinitionQuery()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .processDefinitionId(processDefinitionId)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .singleResult();

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (processDefinitionÂ ==Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"æµç¨‹å®šä¹‰ä¸å­˜åœ¨"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â StringÂ resourceNameÂ =Â processDefinition.getResourceName();
Â Â Â Â Â Â Â Â Â Â Â Â InputStreamÂ inputStreamÂ =Â repositoryService.getResourceAsStream(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â processDefinition.getDeploymentId(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â resourceName);

Â Â Â Â Â Â Â Â Â Â Â Â byte[]Â bytesÂ =Â readAllBytes(inputStream);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.success(newÂ String(bytes,Â StandardCharsets.UTF_8));
Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">catch</span>Â (ExceptionÂ e)Â {
Â Â Â Â Â Â Â Â Â Â Â Â log.error(<span class="hljs-string">"è·å–æµç¨‹å®šä¹‰èµ„æºå¤±è´¥:Â {}"</span>,Â e.getMessage(),Â e);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â Result.fail(<span class="hljs-string">"è·å–æµç¨‹å®šä¹‰èµ„æºå¤±è´¥:Â "</span>Â +Â e.getMessage());
Â Â Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â è¯»å–è¾“å…¥æµçš„æ‰€æœ‰å­—èŠ‚ï¼ˆJavaÂ 8Â å…¼å®¹ç‰ˆæœ¬ï¼‰
Â Â Â Â Â *
Â Â Â Â Â *Â <span class="hljs-doctag">@param</span>Â inputStreamÂ è¾“å…¥æµ
Â Â Â Â Â *Â <span class="hljs-doctag">@return</span>Â å­—èŠ‚æ•°ç»„
Â Â Â Â Â *Â <span class="hljs-doctag">@throws</span>Â IOExceptionÂ è¯»å–å¼‚å¸¸
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â byte[]Â readAllBytes(InputStreamÂ inputStream)Â throwsÂ IOExceptionÂ {
Â Â Â Â Â Â Â Â ByteArrayOutputStreamÂ bufferÂ =Â newÂ ByteArrayOutputStream();
Â Â Â Â Â Â Â Â intÂ nRead;
Â Â Â Â Â Â Â Â byte[]Â <span class="hljs-keyword">data</span>Â =Â newÂ byte[<span class="hljs-number">4096</span>];
Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>Â ((nReadÂ =Â inputStream.read(<span class="hljs-keyword">data</span>,Â <span class="hljs-number">0</span>,Â <span class="hljs-keyword">data</span>.length))Â !=Â -<span class="hljs-number">1</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â buffer.write(<span class="hljs-keyword">data</span>,Â <span class="hljs-number">0</span>,Â nRead);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â buffer.flush();
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â buffer.toByteArray();
Â Â Â Â }
}
</code></pre>
<h4 data-id="heading-18">5.4 æ§åˆ¶å™¨å±‚</h4>
<p>RESTful API æ¥å£ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">package</span>Â <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.flowable</span><span class="hljs-selector-class">.controller</span>;

<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.flowable</span><span class="hljs-selector-class">.entity</span><span class="hljs-selector-class">.FlowDefinition</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.flowable</span><span class="hljs-selector-class">.entity</span><span class="hljs-selector-class">.Result</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">com</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.flowable</span><span class="hljs-selector-class">.service</span><span class="hljs-selector-class">.FlowDesignService</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">lombok</span><span class="hljs-selector-class">.extern</span><span class="hljs-selector-class">.slf4j</span><span class="hljs-selector-class">.Slf4j</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.flowable</span><span class="hljs-selector-class">.engine</span><span class="hljs-selector-class">.repository</span><span class="hljs-selector-class">.Deployment</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.flowable</span><span class="hljs-selector-class">.engine</span><span class="hljs-selector-class">.repository</span><span class="hljs-selector-class">.ProcessDefinition</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.beans</span><span class="hljs-selector-class">.factory</span><span class="hljs-selector-class">.annotation</span><span class="hljs-selector-class">.Autowired</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">org</span><span class="hljs-selector-class">.springframework</span><span class="hljs-selector-class">.web</span><span class="hljs-selector-class">.bind</span><span class="hljs-selector-class">.annotation</span>.*;

<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">javax</span><span class="hljs-selector-class">.validation</span><span class="hljs-selector-class">.Valid</span>;
<span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">java</span><span class="hljs-selector-class">.util</span><span class="hljs-selector-class">.List</span>;

<span class="hljs-comment">/**
Â *Â æµç¨‹è®¾è®¡æ§åˆ¶å™¨
Â *Â æä¾›æµç¨‹è®¾è®¡çš„RESTÂ APIæ¥å£
Â *Â @versionÂ 1.0.0
Â */</span>
@<span class="hljs-selector-tag">Slf4j</span>
@<span class="hljs-selector-tag">RestController</span>
@<span class="hljs-selector-tag">RequestMapping</span>(<span class="hljs-string">"/api/flow"</span>)
@<span class="hljs-selector-tag">CrossOrigin</span>(originsÂ =Â <span class="hljs-string">"*"</span>)
<span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">class</span>Â <span class="hljs-selector-tag">FlowDesignController</span>Â {

Â Â Â Â <span class="hljs-variable">@Autowired</span>
Â Â Â Â privateÂ FlowDesignServiceÂ flowDesignService;

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â ä¿å­˜æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ flowDefinitionÂ æµç¨‹å®šä¹‰å®ä½“
Â Â Â Â Â *Â @returnÂ ä¿å­˜ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/save"</span>)
Â Â Â Â publicÂ Result&lt;FlowDefinition&gt;Â <span class="hljs-built_in">saveFlowDefinition</span>(<span class="hljs-variable">@Valid</span>Â <span class="hljs-variable">@RequestBody</span>Â FlowDefinitionÂ flowDefinition)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"ä¿å­˜æµç¨‹å®šä¹‰:Â key={},Â name={}"</span>,Â flowDefinition.<span class="hljs-built_in">getProcessKey</span>(),Â flowDefinition.<span class="hljs-built_in">getProcessName</span>());
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.saveFlowDefinition</span>(flowDefinition);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æ›´æ–°æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ flowDefinitionÂ æµç¨‹å®šä¹‰å®ä½“
Â Â Â Â Â *Â @returnÂ æ›´æ–°ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/update"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">FlowDefinition</span>&gt;Â <span class="hljs-selector-tag">updateFlowDefinition</span>(<span class="hljs-variable">@Valid</span>Â <span class="hljs-variable">@RequestBody</span>Â FlowDefinitionÂ flowDefinition)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"æ›´æ–°æµç¨‹å®šä¹‰:Â id={}"</span>,Â flowDefinition.<span class="hljs-built_in">getId</span>());
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.updateFlowDefinition</span>(flowDefinition);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â åˆ é™¤æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â @returnÂ åˆ é™¤ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">DeleteMapping</span>(<span class="hljs-string">"/delete/{id}"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">Void</span>&gt;Â <span class="hljs-selector-tag">deleteFlowDefinition</span>(<span class="hljs-variable">@PathVariable</span>Â LongÂ id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"åˆ é™¤æµç¨‹å®šä¹‰:Â id={}"</span>,Â id);
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.deleteFlowDefinition</span>(id);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æ ¹æ®IDæŸ¥è¯¢æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â @returnÂ æŸ¥è¯¢ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/get/{id}"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">FlowDefinition</span>&gt;Â <span class="hljs-selector-tag">getFlowDefinitionById</span>(<span class="hljs-variable">@PathVariable</span>Â LongÂ id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.getFlowDefinitionById</span>(id);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â è·å–æ‰€æœ‰æµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â *
Â Â Â Â Â *Â @returnÂ æµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/list"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">FlowDefinition</span>&gt;&gt;Â <span class="hljs-selector-tag">getAllFlowDefinitions</span>()Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.getAllFlowDefinitions</span>();
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â éƒ¨ç½²æµç¨‹åˆ°Flowableå¼•æ“
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â @returnÂ éƒ¨ç½²ç»“æœ
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">PostMapping</span>(<span class="hljs-string">"/deploy/{id}"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">Deployment</span>&gt;Â <span class="hljs-selector-tag">deployFlowDefinition</span>(<span class="hljs-variable">@PathVariable</span>Â LongÂ id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"éƒ¨ç½²æµç¨‹:Â id={}"</span>,Â id);
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.deployFlowDefinition</span>(id);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â è·å–Flowableæµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â *
Â Â Â Â Â *Â @returnÂ æµç¨‹å®šä¹‰åˆ—è¡¨
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/deployed/list"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">ProcessDefinition</span>&gt;&gt;Â <span class="hljs-selector-tag">getDeployedFlowDefinitions</span>()Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.getFlowableProcessDefinitions</span>();
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â æ ¹æ®æµç¨‹Keyè·å–æœ€æ–°ç‰ˆæœ¬çš„æµç¨‹å®šä¹‰
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ processKeyÂ æµç¨‹Key
Â Â Â Â Â *Â @returnÂ æµç¨‹å®šä¹‰
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/getByKey/{processKey}"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">ProcessDefinition</span>&gt;Â <span class="hljs-selector-tag">getProcessDefinitionByKey</span>(<span class="hljs-variable">@PathVariable</span>Â StringÂ processKey)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.getLatestProcessDefinitionByKey</span>(processKey);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â å¯¼å‡ºæµç¨‹å®šä¹‰XML
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ idÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â @returnÂ BPMNÂ XMLå­—ç¬¦ä¸²
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/export/{id}"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">String</span>&gt;Â <span class="hljs-selector-tag">exportFlowDefinitionXml</span>(<span class="hljs-variable">@PathVariable</span>Â LongÂ id)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"å¯¼å‡ºæµç¨‹å®šä¹‰XML:Â id={}"</span>,Â id);
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.exportFlowDefinitionXml</span>(id);
Â Â Â Â }

Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â è·å–æµç¨‹å®šä¹‰çš„XMLèµ„æº
Â Â Â Â Â *
Â Â Â Â Â *Â @paramÂ processDefinitionIdÂ æµç¨‹å®šä¹‰ID
Â Â Â Â Â *Â @returnÂ XMLèµ„æºå†…å®¹
Â Â Â Â Â */</span>
Â Â Â Â @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/resource/{processDefinitionId}"</span>)
Â Â Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">Result</span>&lt;<span class="hljs-selector-tag">String</span>&gt;Â <span class="hljs-selector-tag">getProcessDefinitionResource</span>(<span class="hljs-variable">@PathVariable</span>Â StringÂ processDefinitionId)Â {
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">flowDesignService</span><span class="hljs-selector-class">.getProcessDefinitionResource</span>(processDefinitionId);
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-19">å…­ã€å‰ç«¯å®ç°</h3>
<h4 data-id="heading-20">6.1 é›†æˆ bpmn-js</h4>
<p>åœ¨ HTML é¡µé¢ä¸­å¼•å…¥ bpmn-js åº“ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;scriptÂ <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/bpmn-js@14.0.0/dist/bpmn-modeler.development.js"</span>&gt;&lt;/script&gt;
&lt;linkÂ <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>Â href=<span class="hljs-string">"https://unpkg.com/bpmn-js@14.0.0/dist/assets/diagram-js.css"</span>/&gt;
</code></pre>
<h4 data-id="heading-21">6.2 åˆå§‹åŒ–å»ºæ¨¡å™¨</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">//Â åˆ›å»ºÂ BPMNÂ å»ºæ¨¡å™¨å®ä¾‹</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-variable constant_">bpmnModelerÂ </span>=Â <span class="hljs-keyword">new</span><span class="hljs-title function_ invoke__">Â BpmnJS</span>({
<span class="hljs-attr">Â Â Â Â container</span>:Â <span class="hljs-string">'#canvas'</span>,
<span class="hljs-attr">Â Â Â Â height</span>:Â <span class="hljs-string">'100%'</span>,
<span class="hljs-attr">Â Â Â Â keyboard</span>:Â {<span class="hljs-attr">Â bindTo</span>:Â windowÂ }
});

<span class="hljs-comment">//Â å¯¼å…¥é»˜è®¤çš„Â BPMNÂ æ¨¡æ¿</span>
bpmnModeler.<span class="hljs-title function_ invoke__">importXML</span>(defaultBpmnTemplate).<span class="hljs-title function_ invoke__">then</span>(()Â =&gt;Â {
Â Â Â Â bpmnModeler.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'canvas'</span>).<span class="hljs-title function_ invoke__">zoom</span>(<span class="hljs-string">'fit-viewport'</span>);
});
</code></pre>
<h4 data-id="heading-22">6.3 ä¿å­˜æµç¨‹å®šä¹‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-function"><span class="hljs-keyword">function</span>Â <span class="hljs-title">saveFlowDefinition</span>(<span class="hljs-params"/>)Â </span>{
Â Â Â Â <span class="hljs-comment">//Â è·å–Â BPMNÂ XML</span>
Â Â Â Â bpmnModeler.<span class="hljs-title function_ invoke__">saveXML</span>({<span class="hljs-attr">Â format</span>:Â <span class="hljs-literal">true</span>Â }).<span class="hljs-title function_ invoke__">then</span>(resultÂ =&gt;Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">const</span>Â bpmnXmlÂ =Â result.xml;

Â Â Â Â Â Â Â Â //Â å‘é€åˆ°åç«¯ä¿å­˜
Â Â Â Â Â Â Â Â $.<span class="hljs-title function_ invoke__">ajax</span>({
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â url</span>:Â <span class="hljs-string">'/api/flow/save'</span>,
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â method</span>:Â <span class="hljs-string">'POST'</span>,
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â contentType</span>:Â <span class="hljs-string">'application/json'</span>,
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â data</span>:Â JSON.<span class="hljs-title function_ invoke__">stringify</span>({
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â processKey</span>:Â $(<span class="hljs-string">'#processKey'</span>).<span class="hljs-title function_ invoke__">val</span>(),
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â processName</span>:Â $(<span class="hljs-string">'#processName'</span>).<span class="hljs-title function_ invoke__">val</span>(),
<span class="hljs-attr">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â bpmnXml</span>:Â bpmnXml
Â Â Â Â Â Â Â Â Â Â Â Â }),
Â Â Â Â Â Â Â Â Â Â Â Â success:Â <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)Â </span>{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span><span class="hljs-title function_ invoke__">Â </span>(response.codeÂ ===Â <span class="hljs-number">200</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title function_ invoke__">showToast</span>(<span class="hljs-string">'ä¿å­˜æˆåŠŸ'</span>,Â <span class="hljs-string">'success'</span>);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });
Â Â Â Â });
}
</code></pre>
<h4 data-id="heading-23">6.4 éƒ¨ç½²æµç¨‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>Â <span class="hljs-title function_">deployFlowDefinition</span>(<span class="hljs-params">id</span>)Â {
Â Â Â Â $.<span class="hljs-title function_">ajax</span>({
Â Â Â Â Â Â Â Â <span class="hljs-attr">url</span>:Â <span class="hljs-string">'/api/flow/deploy/'</span>Â +Â id,
Â Â Â Â Â Â Â Â <span class="hljs-attr">method</span>:Â <span class="hljs-string">'POST'</span>,
Â Â Â Â Â Â Â Â <span class="hljs-attr">success</span>:Â <span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (response.<span class="hljs-property">code</span>Â ===Â <span class="hljs-number">200</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title function_">showToast</span>(<span class="hljs-string">'éƒ¨ç½²æˆåŠŸï¼éƒ¨ç½²ID:Â '</span>Â +Â response.<span class="hljs-property">data</span>.<span class="hljs-property">id</span>,Â <span class="hljs-string">'success'</span>);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â }
Â Â Â Â });
}
</code></pre>
<hr/>
<h3 data-id="heading-24">ä¸ƒã€æµç¨‹éƒ¨ç½²å®Œæ•´æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84ec12c0f162445188ba5f06ae88a750~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=C5%2BeATcbHlaj0R%2BH3JbGFmd93UE%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-25">7.1 ç»˜åˆ¶é˜¶æ®µ</h4>
<ol>
<li>ç”¨æˆ·æ‰“å¼€æµç¨‹è®¾è®¡å™¨</li>
<li>ä½¿ç”¨ bpmn-js æ‹–æ‹½ç»„ä»¶ç»˜åˆ¶æµç¨‹å›¾</li>
<li>é…ç½®å„å…ƒç´ çš„å±æ€§ï¼ˆä»»åŠ¡åç§°ã€å¤„ç†äººã€ç›‘å¬å™¨ç­‰ï¼‰</li>
</ol>
<h4 data-id="heading-26">7.2 ä¿å­˜é˜¶æ®µ</h4>
<ol>
<li>ç‚¹å‡»"ä¿å­˜"æŒ‰é’®</li>
<li>å‰ç«¯å°† BPMN XML å‘é€åˆ°åç«¯</li>
<li>åç«¯éªŒè¯æ•°æ®å¹¶ä¿å­˜åˆ° MySQL</li>
<li>è¿”å›ä¿å­˜ç»“æœ</li>
</ol>
<h4 data-id="heading-27">7.3 éƒ¨ç½²é˜¶æ®µ</h4>
<ol>
<li>ç”¨æˆ·é€‰æ‹©è¦éƒ¨ç½²çš„æµç¨‹</li>
<li>ç‚¹å‡»"éƒ¨ç½²"æŒ‰é’®</li>
<li>åç«¯è°ƒç”¨ Flowable çš„ RepositoryService</li>
<li>Flowable å¼•æ“è§£æ BPMN XML</li>
<li>åˆ›å»ºéƒ¨ç½²å¯¹è±¡å¹¶å­˜å‚¨åˆ°æ•°æ®åº“</li>
<li>æ›´æ–°æµç¨‹å®šä¹‰çš„éƒ¨ç½²çŠ¶æ€</li>
</ol>
<hr/>
<h3 data-id="heading-28">å…«ã€æ•°æ®åº“è®¾è®¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8859c049e2a4aee8c2e3054ce0b7016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=CqU2dcaYJA1sPWOb4sdpWuMxQX4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-29">8.1 æ ¸å¿ƒè¡¨ç»“æ„</h4>
<p><strong>flow_definition è¡¨</strong></p>
<ul>
<li>å­˜å‚¨ç”¨æˆ·ç»˜åˆ¶çš„æµç¨‹å®šä¹‰ä¿¡æ¯</li>
<li>åŒ…å« BPMN XMLã€ç‰ˆæœ¬å·ã€éƒ¨ç½²çŠ¶æ€ç­‰å­—æ®µ</li>
</ul>
<p><strong>Flowable æ ¸å¿ƒè¡¨ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰</strong></p>
<ul>
<li><code>ACT_RE_PROCDEF</code>ï¼šæµç¨‹å®šä¹‰è¡¨</li>
<li><code>ACT_RE_DEPLOYMENT</code>ï¼šéƒ¨ç½²è¡¨</li>
<li><code>ACT_RU_EXECUTION</code>ï¼šè¿è¡Œæ—¶æ‰§è¡Œå®ä¾‹è¡¨</li>
<li><code>ACT_RU_TASK</code>ï¼šè¿è¡Œæ—¶ä»»åŠ¡è¡¨</li>
<li><code>ACT_HI_PROCINST</code>ï¼šå†å²æµç¨‹å®ä¾‹è¡¨</li>
<li><code>ACT_HI_TASKINST</code>ï¼šå†å²ä»»åŠ¡è¡¨</li>
</ul>
<h4 data-id="heading-30">8.2 è¡¨å…³ç³»è¯´æ˜</h4>
<pre><code class="hljs language-scss" lang="scss">ACT_RE_DEPLOYMENTÂ (<span class="hljs-number">1</span>)Â â”€â”€â”€â†’Â ACT_RE_PROCDEFÂ (N)
Â Â Â Â ä¸€ä¸ªéƒ¨ç½²åŒ…å«å¤šä¸ªæµç¨‹å®šä¹‰

ACT_RE_PROCDEFÂ (<span class="hljs-number">1</span>)Â â”€â”€â”€â†’Â ACT_RU_EXECUTIONÂ (N)
Â Â Â Â ä¸€ä¸ªæµç¨‹å®šä¹‰å¯å¯åŠ¨å¤šä¸ªæµç¨‹å®ä¾‹

ACT_RU_EXECUTIONÂ (<span class="hljs-number">1</span>)Â â”€â”€â”€â†’Â ACT_RU_TASKÂ (N)
Â Â Â Â ä¸€ä¸ªæµç¨‹å®ä¾‹åŒ…å«å¤šä¸ªä»»åŠ¡
</code></pre>
<hr/>
<h3 data-id="heading-31">ä¹ã€å®Œæ•´ä¸šåŠ¡æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cfa2aa30167492281a49e716186ca2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770513912&amp;x-signature=Ntgk2lZfc3Q%2FVEL4mNjDojwnq3w%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-32">9.1 ç”¨æˆ·æ“ä½œæµç¨‹</h4>
<ol>
<li><strong>ç™»å½•ç³»ç»Ÿ</strong>ï¼šç”¨æˆ·ç™»å½•åœ¨çº¿æµç¨‹è®¾è®¡ç³»ç»Ÿ</li>
<li><strong>åˆ›å»ºæµç¨‹</strong>ï¼šç‚¹å‡»"æ–°å»ºæµç¨‹"æŒ‰é’®</li>
<li><strong>ç»˜åˆ¶æµç¨‹å›¾</strong>ï¼šä½¿ç”¨ bpmn-js è®¾è®¡å™¨ç»˜åˆ¶ BPMN 2.0 æµç¨‹å›¾</li>
<li><strong>é…ç½®å±æ€§</strong>ï¼šä¸ºå„å…ƒç´ é…ç½®å±æ€§ï¼ˆåç§°ã€å¤„ç†äººç­‰ï¼‰</li>
<li><strong>ä¿å­˜æµç¨‹</strong>ï¼šå°†æµç¨‹å®šä¹‰ä¿å­˜åˆ° MySQL æ•°æ®åº“</li>
</ol>
<h4 data-id="heading-33">9.2 è®¾è®¡å¸ˆæ“ä½œæµç¨‹</h4>
<ol>
<li><strong>ç»˜åˆ¶æµç¨‹å›¾</strong>ï¼šæ‹–æ‹½ BPMN ç»„ä»¶åˆ°ç”»å¸ƒ</li>
<li><strong>è¿æ¥å…ƒç´ </strong>ï¼šä½¿ç”¨é¡ºåºæµè¿æ¥å„ä¸ªå…ƒç´ </li>
<li><strong>é…ç½®å±æ€§</strong>ï¼šè®¾ç½®ä»»åŠ¡åç§°ã€å€™é€‰ç»„ã€åˆ°æœŸæ—¶é—´ç­‰</li>
<li><strong>ä¿å­˜æµç¨‹</strong>ï¼šå°†è®¾è®¡å¥½çš„æµç¨‹ä¿å­˜åˆ°æ•°æ®åº“</li>
</ol>
<h4 data-id="heading-34">9.3 ç³»ç»Ÿå¤„ç†æµç¨‹</h4>
<ol>
<li><strong>éªŒè¯ XML</strong>ï¼šç³»ç»ŸéªŒè¯ BPMN XML çš„æ ¼å¼å’Œæœ‰æ•ˆæ€§</li>
<li><strong>éƒ¨ç½²æµç¨‹</strong>ï¼šå°†æµç¨‹éƒ¨ç½²åˆ° Flowable å¼•æ“</li>
<li><strong>å­˜å‚¨æ•°æ®</strong>ï¼šå°†æµç¨‹æ•°æ®æŒä¹…åŒ–åˆ°æ•°æ®åº“</li>
</ol>
<hr/>
<h3 data-id="heading-35">åã€å®æˆ˜æ¡ˆä¾‹</h3>
<h4 data-id="heading-36">10.1 è¯·å‡å®¡æ‰¹æµç¨‹</h4>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„è¯·å‡å®¡æ‰¹æµç¨‹ä¸ºä¾‹ï¼Œå±•ç¤ºå®Œæ•´çš„å®ç°è¿‡ç¨‹ã€‚</p>
<p><strong>æµç¨‹éœ€æ±‚</strong>ï¼š</p>
<ol>
<li>å‘˜å·¥æäº¤è¯·å‡ç”³è¯·</li>
<li>éƒ¨é—¨ç»ç†å®¡æ‰¹</li>
<li>å¦‚æœè¯·å‡å¤©æ•° &gt; 3 å¤©ï¼Œéœ€è¦ HR å¤å®¡</li>
<li>å®¡æ‰¹é€šè¿‡åï¼Œé€šçŸ¥å‘˜å·¥</li>
</ol>
<p><strong>BPMN è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xmlÂ version=<span class="hljs-string">"1.0"</span>Â encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bpmn:definitions</span>Â <span class="hljs-attr">xmlns:bpmn</span>=<span class="hljs-string">"http://www.omg.org/spec/BPMN/20100524/MODEL"</span>&gt;</span>
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:process</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"leaveRequest"</span>Â <span class="hljs-attr">name</span>=<span class="hljs-string">"è¯·å‡å®¡æ‰¹æµç¨‹"</span>Â <span class="hljs-attr">isExecutable</span>=<span class="hljs-string">"true"</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:startEvent</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"start"</span>/&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:userTask</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"managerApproval"</span>Â <span class="hljs-attr">name</span>=<span class="hljs-string">"ç»ç†å®¡æ‰¹"</span>Â <span class="hljs-attr">flowable:assignee</span>=<span class="hljs-string">"${manager}"</span>/&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:exclusiveGateway</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"gateway"</span>/&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:userTask</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"hrApproval"</span>Â <span class="hljs-attr">name</span>=<span class="hljs-string">"HRå®¡æ‰¹"</span>Â <span class="hljs-attr">flowable:candidateGroups</span>=<span class="hljs-string">"hr"</span>/&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:endEvent</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"end"</span>/&gt;</span>

Â Â Â Â <span class="hljs-comment">&lt;!--Â æµè½¬Â --&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:sequenceFlow</span>Â <span class="hljs-attr">sourceRef</span>=<span class="hljs-string">"start"</span>Â <span class="hljs-attr">targetRef</span>=<span class="hljs-string">"managerApproval"</span>/&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:sequenceFlow</span>Â <span class="hljs-attr">sourceRef</span>=<span class="hljs-string">"managerApproval"</span>Â <span class="hljs-attr">targetRef</span>=<span class="hljs-string">"gateway"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:conditionExpression</span>Â <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"tFormalExpression"</span>&gt;</span>${approvedÂ !=Â null}<span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:conditionExpression</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:sequenceFlow</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:sequenceFlow</span>Â <span class="hljs-attr">sourceRef</span>=<span class="hljs-string">"gateway"</span>Â <span class="hljs-attr">targetRef</span>=<span class="hljs-string">"hrApproval"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:conditionExpression</span>Â <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"tFormalExpression"</span>&gt;</span>${daysÂ &gt;Â 3}<span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:conditionExpression</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:sequenceFlow</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:sequenceFlow</span>Â <span class="hljs-attr">sourceRef</span>=<span class="hljs-string">"gateway"</span>Â <span class="hljs-attr">targetRef</span>=<span class="hljs-string">"end"</span>&gt;</span>
Â Â Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:conditionExpression</span>Â <span class="hljs-attr">xsi:type</span>=<span class="hljs-string">"tFormalExpression"</span>&gt;</span>${daysÂ &lt;=Â 3}<span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:conditionExpression</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:sequenceFlow</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">bpmn:sequenceFlow</span>Â <span class="hljs-attr">sourceRef</span>=<span class="hljs-string">"hrApproval"</span>Â <span class="hljs-attr">targetRef</span>=<span class="hljs-string">"end"</span>/&gt;</span>
Â Â <span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:process</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bpmn:definitions</span>&gt;</span>
</code></pre>
<p><strong>éƒ¨ç½²å’Œä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//Â å¯åŠ¨æµç¨‹å®ä¾‹</span>
ProcessInstanceÂ processInstanceÂ =Â runtimeService<span class="hljs-selector-class">.startProcessInstanceByKey</span>(
Â Â Â Â "leaveRequest",
Â Â Â Â businessKey,
Â Â Â Â variables
);

<span class="hljs-comment">//Â å®Œæˆç»ç†å®¡æ‰¹ä»»åŠ¡</span>
TaskÂ taskÂ =Â taskService<span class="hljs-selector-class">.createTaskQuery</span>()
Â Â Â Â <span class="hljs-selector-class">.processInstanceId</span>(processInstance.getId())
Â Â Â Â <span class="hljs-selector-class">.singleResult</span>();

taskService<span class="hljs-selector-class">.complete</span>(task.getId(),Â Collections<span class="hljs-selector-class">.singletonMap</span>("approved",Â true));
</code></pre>
<h3 data-id="heading-37">åä¸€ã€å•å…ƒæµ‹è¯•</h3>
<h4 data-id="heading-38">11.1 æµ‹è¯•æœåŠ¡å±‚</h4>
<p>ä½¿ç”¨ JUnit 5 å’Œ Mockito è¿›è¡Œå•å…ƒæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@ExtendWith</span>(MockitoExtension.class)
classÂ FlowDesignServiceTestÂ {

Â Â Â Â <span class="hljs-keyword">@Mock</span>
Â Â Â Â privateÂ FlowDefinitionMapperÂ flowDefinitionMapper;

Â Â Â Â <span class="hljs-keyword">@Mock</span>
Â Â Â Â privateÂ RepositoryServiceÂ repositoryService;

Â Â Â Â <span class="hljs-keyword">@InjectMocks</span>
Â Â Â Â privateÂ FlowDesignServiceÂ flowDesignService;

Â Â Â Â <span class="hljs-keyword">@Test</span>
Â Â Â Â <span class="hljs-keyword">@DisplayName</span>(<span class="hljs-string">"æµ‹è¯•ä¿å­˜æµç¨‹å®šä¹‰"</span>)
Â Â Â Â voidÂ testSaveFlowDefinition()Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â Given</span>
Â Â Â Â Â Â Â Â FlowDefinitionÂ <span class="hljs-attribute">flow</span>Â =Â newÂ <span class="hljs-built_in">FlowDefinition</span>();
Â Â Â Â Â Â Â Â <span class="hljs-attribute">flow</span><span class="hljs-selector-class">.setProcessKey</span>("test");
Â Â Â Â Â Â Â Â <span class="hljs-attribute">flow</span><span class="hljs-selector-class">.setProcessName</span>("æµ‹è¯•æµç¨‹");
Â Â Â Â Â Â Â Â <span class="hljs-attribute">flow</span><span class="hljs-selector-class">.setBpmnXml</span>(bpmnXml);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â When</span>
Â Â Â Â Â Â Â Â Result&lt;FlowDefinition&gt;Â resultÂ =Â flowDesignService<span class="hljs-selector-class">.saveFlowDefinition</span>(flow);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â Then</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">assertTrue</span>(result.isSuccess());
Â Â Â Â Â Â Â Â <span class="hljs-built_in">verify</span>(flowDefinitionMapper)<span class="hljs-selector-class">.insert</span>(any());
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-39">åäºŒã€éƒ¨ç½²å’Œè¿è¡Œ</h3>
<h4 data-id="heading-40">12.1 ç¼–è¯‘æ‰“åŒ…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â ç¼–è¯‘é¡¹ç›®</span>
mvnÂ cleanÂ compile

<span class="hljs-comment">#Â è¿è¡Œæµ‹è¯•</span>
mvnÂ <span class="hljs-built_in">test</span>

<span class="hljs-comment">#Â æ‰“åŒ…ï¼ˆå¯é€‰ï¼‰</span>
mvnÂ cleanÂ package
</code></pre>
<h4 data-id="heading-41">12.2 å¯åŠ¨åº”ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â ä½¿ç”¨Â MavenÂ å¯åŠ¨</span>
mvnÂ spring-boot:run

<span class="hljs-comment">#Â æˆ–ä½¿ç”¨Â javaÂ -jarÂ å¯åŠ¨</span>
javaÂ -jarÂ target/flowable_online-demo-1.0.0.jar
</code></pre>
<h4 data-id="heading-42">12.3 è®¿é—®ç³»ç»Ÿ</h4>
<ul>
<li>é¦–é¡µï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080" target="_blank" title="http://localhost:8080" ref="nofollow noopener noreferrer">http://localhost:8080</a></li>
<li>æµç¨‹è®¾è®¡å™¨ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8080%2Fdesigner" target="_blank" title="http://localhost:8080/designer" ref="nofollow noopener noreferrer">http://localhost:8080/designer</a></li>
</ul>
<hr/>
<h3 data-id="heading-43">åä¸‰ã€æ€»ç»“</h3>
<p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åŸºäº Flowable 6.8.0 å’Œ bpmn-js æ„å»ºä¸€ä¸ªåœ¨çº¿æµç¨‹å›¾ç»˜åˆ¶ç³»ç»Ÿã€‚ è¯¥ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ˜“äºæ‰©å±•å’Œé›†æˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ECS æ¶æ„æ·±åº¦è§£æï¼šä» OOP åˆ°æ•°æ®é©±åŠ¨çš„æ¸¸æˆå¼€å‘é©å‘½]]></title>    <link>https://juejin.cn/post/7601843004958113838</link>    <guid>https://juejin.cn/post/7601843004958113838</guid>    <pubDate>2026-02-01T13:59:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601843004958113838" data-draft-id="7601715462921093130" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ECS æ¶æ„æ·±åº¦è§£æï¼šä» OOP åˆ°æ•°æ®é©±åŠ¨çš„æ¸¸æˆå¼€å‘é©å‘½"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,Rust"/> <meta itemprop="datePublished" content="2026-02-01T13:59:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jump_jump"/> <meta itemprop="url" content="https://juejin.cn/user/4230576474692765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ECS æ¶æ„æ·±åº¦è§£æï¼šä» OOP åˆ°æ•°æ®é©±åŠ¨çš„æ¸¸æˆå¼€å‘é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576474692765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jump_jump
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T13:59:44.000Z" title="Sun Feb 01 2026 13:59:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»38åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸€ä¸ªæ¸¸æˆå¼€å‘ä¸­çš„ç»å…¸éš¾é¢˜</h2>
<p>æƒ³è±¡ä½ æ­£åœ¨å¼€å‘ä¸€æ¬¾ RPG æ¸¸æˆï¼Œæ¸¸æˆä¸­æœ‰è¿™æ ·å‡ ç§è§’è‰²ï¼š</p>
<ul>
<li><strong>ç©å®¶è§’è‰²</strong>ï¼šå¯ä»¥ç§»åŠ¨ã€æ”»å‡»ã€ä½¿ç”¨æŠ€èƒ½ã€è£…å¤‡æ­¦å™¨</li>
<li><strong>NPC å•†äºº</strong>ï¼šå¯ä»¥ç§»åŠ¨ã€å¯äº¤äº’ã€æœ‰åº“å­˜ç³»ç»Ÿ</li>
<li><strong>æ€ªç‰©</strong>ï¼šå¯ä»¥ç§»åŠ¨ã€æ”»å‡»ã€æœ‰AI</li>
<li><strong>å¯ç ´åçš„ç®±å­</strong>ï¼šå¯ä»¥è¢«æ”»å‡»ã€æœ‰ç”Ÿå‘½å€¼ã€å¯æ‰è½ç‰©å“</li>
</ul>
<p>å¦‚æœä½ ä½¿ç”¨ä¼ ç»Ÿçš„<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰</strong>ï¼Œä½ å¯èƒ½ä¼šè®¾è®¡è¿™æ ·çš„ç»§æ‰¿ç»“æ„ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">GameObject
â”œâ”€â”€ Character
â”‚   â”œâ”€â”€ Player (ç§»åŠ¨ + æ”»å‡» + æŠ€èƒ½ + èƒŒåŒ…)
â”‚   â”œâ”€â”€ Monster (ç§»åŠ¨ + æ”»å‡» + AI)
â”‚   â””â”€â”€ NPC (ç§»åŠ¨ + äº¤äº’ + åº“å­˜)
â””â”€â”€ DestructibleObject
    â””â”€â”€ Crate (ç”Ÿå‘½å€¼ + æ‰è½)
</code></pre>
<p>çœ‹èµ·æ¥å¾ˆåˆç†ï¼Œå¯¹å§ï¼Ÿä½†å¾ˆå¿«ä½ ä¼šé‡åˆ°é—®é¢˜ï¼š</p>
<ol>
<li><strong>éœ€æ±‚å˜åŒ–</strong>ï¼šç­–åˆ’è¦æ±‚ç®±å­ä¹Ÿèƒ½ç§»åŠ¨ï¼ˆå˜æˆæ»šåŠ¨çš„æ¡¶ï¼‰</li>
<li><strong>åŠŸèƒ½é‡ç”¨</strong>ï¼šæ€ªç‰©å’Œç®±å­éƒ½æœ‰ç”Ÿå‘½å€¼ï¼Œä½†ä»£ç é‡å¤äº†</li>
<li><strong>å¤šé‡ç»§æ‰¿</strong>ï¼šé£è¡Œæ€ªç‰©æ—¢è¦ç»§æ‰¿ Monsterï¼Œåˆè¦ç»§æ‰¿ Flyableï¼Ÿ</li>
<li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼š10,000 ä¸ªæ€ªç‰©çš„ AI æ›´æ–°å¯¼è‡´ä¸¥é‡å¡é¡¿</li>
</ol>
<p>è¿™å°±æ˜¯ <strong>ECSï¼ˆEntity-Component-Systemï¼‰</strong> æ¶æ„è¯ç”Ÿçš„åŸå› ã€‚å®ƒä»æ ¹æœ¬ä¸Šæ”¹å˜äº†æˆ‘ä»¬æ€è€ƒæ¸¸æˆå¯¹è±¡çš„æ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ ECSï¼Ÿ</h2>
<p><strong>ECS</strong> æ˜¯ä¸€ç§è½¯ä»¶æ¶æ„æ¨¡å¼ï¼Œå°†æ¸¸æˆå¯¹è±¡çš„<strong>èº«ä»½</strong>ã€<strong>æ•°æ®</strong>å’Œ<strong>è¡Œä¸º</strong>å½»åº•åˆ†ç¦»ï¼š</p>
<blockquote>
<p><strong>æ³¨</strong>ï¼šæœ¬æ–‡æ‰€æœ‰ä»£ç ç¤ºä¾‹ä½¿ç”¨ Rust è¯­è¨€ç¼–å†™ï¼Œä½† ECS æ¦‚å¿µé€‚ç”¨äºä»»ä½•ç¼–ç¨‹è¯­è¨€ã€‚</p>
<p>ç¤ºä¾‹ä¸­ä½¿ç”¨çš„é€šç”¨ç±»å‹å®šä¹‰ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Entity</span> = <span class="hljs-type">u32</span>;                    <span class="hljs-comment">// å®ä½“ ID</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vec2</span> { x: <span class="hljs-type">f32</span>, y: <span class="hljs-type">f32</span> }        <span class="hljs-comment">// 2D å‘é‡</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Vec3</span> { x: <span class="hljs-type">f32</span>, y: <span class="hljs-type">f32</span>, z: <span class="hljs-type">f32</span> }  <span class="hljs-comment">// 3D å‘é‡</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Quat</span> { <span class="hljs-comment">/* å››å…ƒæ•° */</span> }           <span class="hljs-comment">// æ—‹è½¬</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Color</span> { r: <span class="hljs-type">f32</span>, g: <span class="hljs-type">f32</span>, b: <span class="hljs-type">f32</span>, a: <span class="hljs-type">f32</span> }  <span class="hljs-comment">// é¢œè‰²</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Item</span> { <span class="hljs-comment">/* ç‰©å“æ•°æ® */</span> }         <span class="hljs-comment">// ç‰©å“</span>

<span class="hljs-comment">// ECS æ¡†æ¶æä¾›çš„ç±»å‹ï¼ˆç±»ä¼¼ Bevy é£æ ¼ï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Query</span>&lt;T&gt; { <span class="hljs-comment">/* æŸ¥è¯¢æ¥å£ */</span> }
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Res</span>&lt;T&gt; { <span class="hljs-comment">/* èµ„æºè®¿é—® */</span> }
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Time</span> { <span class="hljs-comment">/* æ—¶é—´ç®¡ç† */</span> }
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">World</span> { <span class="hljs-comment">/* å®ä½“ä¸–ç•Œ */</span> }
</code></pre>
</blockquote>
<h3 data-id="heading-2">ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-3">1. Entityï¼ˆå®ä½“ï¼‰</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šä¸€ä¸ªå”¯ä¸€çš„ IDï¼ˆé€šå¸¸æ˜¯æ•´æ•°ï¼‰</li>
<li><strong>ä½œç”¨</strong>ï¼šæ ‡è¯†æ¸¸æˆä¸­çš„"å¯¹è±¡"ï¼Œä½†è‡ªå·±ä¸åŒ…å«ä»»ä½•æ•°æ®æˆ–é€»è¾‘</li>
<li><strong>ç±»æ¯”</strong>ï¼šå°±åƒæ•°æ®åº“ä¸­çš„ä¸»é”®ï¼Œæˆ–è€…ä¸€å¼ "èº«ä»½è¯å·"</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®ä½“åªæ˜¯ä¸€ä¸ªIDï¼ˆé€šå¸¸æ˜¯æ•´æ•°ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">entity_player</span>: <span class="hljs-type">u32</span> = <span class="hljs-number">1001</span>;
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">entity_monster</span>: <span class="hljs-type">u32</span> = <span class="hljs-number">1002</span>;
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">entity_crate</span>: <span class="hljs-type">u32</span> = <span class="hljs-number">1003</span>;
</code></pre>
<h4 data-id="heading-4">2. Componentï¼ˆç»„ä»¶ï¼‰</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šçº¯ç²¹çš„æ•°æ®å®¹å™¨ï¼ˆPlain Old Dataï¼‰</li>
<li><strong>ä½œç”¨</strong>ï¼šå­˜å‚¨æ¸¸æˆçŠ¶æ€ï¼ˆå¦‚ä½ç½®ã€é€Ÿåº¦ã€ç”Ÿå‘½å€¼ï¼‰</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>æ²¡æœ‰ä»»ä½•æ–¹æ³•</strong>ï¼Œåªæœ‰å±æ€§</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç»„ä»¶åªæœ‰æ•°æ®ï¼Œæ²¡æœ‰é€»è¾‘</span>
<span class="hljs-comment">// #[derive(Component)] å®è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª ECS ç»„ä»¶</span>
<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span> {
    x: <span class="hljs-type">f32</span>,
    y: <span class="hljs-type">f32</span>,
}

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Health</span> {
    current: <span class="hljs-type">i32</span>,
    max: <span class="hljs-type">i32</span>,
}

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Velocity</span> {
    dx: <span class="hljs-type">f32</span>,
    dy: <span class="hljs-type">f32</span>,
}
</code></pre>
<h4 data-id="heading-5">3. Systemï¼ˆç³»ç»Ÿï¼‰</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šçº¯ç²¹çš„é€»è¾‘å¤„ç†å™¨</li>
<li><strong>ä½œç”¨</strong>ï¼šå¯¹æ‹¥æœ‰ç‰¹å®šç»„ä»¶çš„å®ä½“æ‰§è¡Œæ“ä½œ</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>æ²¡æœ‰æ•°æ®</strong>ï¼Œåªæœ‰è¡Œä¸º</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç³»ç»Ÿåªæœ‰é€»è¾‘ï¼Œæ“ä½œç»„ä»¶æ•°æ®</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">movement_system</span>(
    positions: &amp;<span class="hljs-keyword">mut</span> [Position],
    velocities: &amp;[Velocity],
    dt: <span class="hljs-type">f32</span>,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..positions.<span class="hljs-title function_ invoke__">len</span>() {
        positions[i].x += velocities[i].dx * dt;
        positions[i].y += velocities[i].dy * dt;
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">damage_system</span>(
    entities: &amp;[Entity],
    healths: &amp;<span class="hljs-keyword">mut</span> [Health],
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..healths.<span class="hljs-title function_ invoke__">len</span>() {
        <span class="hljs-keyword">if</span> healths[i].current &lt;= <span class="hljs-number">0</span> {
            <span class="hljs-title function_ invoke__">destroy_entity</span>(entities[i]);
        }
    }
}

<span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">destroy_entity</span>(entity: Entity) {
    <span class="hljs-comment">// é”€æ¯å®ä½“é€»è¾‘</span>
}
</code></pre>
<h4 data-id="heading-6">4. Resourceï¼ˆèµ„æºï¼‰</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šå…¨å±€å…±äº«çš„æ•°æ®ï¼ˆå•ä¾‹ï¼‰</li>
<li><strong>ä½œç”¨</strong>ï¼šå­˜å‚¨ä¸å±äºä»»ä½•å®ä½“çš„æ•°æ®ï¼ˆå¦‚æ—¶é—´ã€è¾“å…¥ã€é…ç½®ï¼‰</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæ•´ä¸ªæ¸¸æˆä¸–ç•Œåªæœ‰ä¸€ä»½</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Resource ç¤ºä¾‹</span>
<span class="hljs-meta">#[derive(Resource, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Time</span> {
    delta: <span class="hljs-type">f32</span>,        <span class="hljs-comment">// å¸§é—´éš”æ—¶é—´</span>
    elapsed: <span class="hljs-type">f32</span>,      <span class="hljs-comment">// æ¸¸æˆè¿è¡Œæ—¶é—´</span>
}

<span class="hljs-meta">#[derive(Resource, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">GameConfig</span> {
    window_width: <span class="hljs-type">u32</span>,
    window_height: <span class="hljs-type">u32</span>,
}

<span class="hljs-comment">// System ä¸­è®¿é—® Resource</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">time_system</span>(time: Res&lt;Time&gt;) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Delta: {}"</span>, time.delta);
}
</code></pre>
<h4 data-id="heading-7">5. Commandsï¼ˆå‘½ä»¤ï¼‰</h4>
<ul>
<li><strong>æœ¬è´¨</strong>ï¼šå»¶è¿Ÿæ‰§è¡Œçš„æ“ä½œé˜Ÿåˆ—</li>
<li><strong>ä½œç”¨</strong>ï¼šå®‰å…¨åœ°åˆ›å»º/åˆ é™¤å®ä½“ã€æ·»åŠ /ç§»é™¤ç»„ä»¶</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šåœ¨å½“å‰å¸§ç»“æŸåæ‰§è¡Œï¼Œé¿å…è¿­ä»£ä¸­ä¿®æ”¹</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä½¿ç”¨ Commands åˆ›å»ºå®ä½“</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_enemy_system</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Position { x: <span class="hljs-number">100.0</span>, y: <span class="hljs-number">100.0</span> },
        Velocity { dx: -<span class="hljs-number">10.0</span>, dy: <span class="hljs-number">0.0</span> },
        Health { current: <span class="hljs-number">50</span>, max: <span class="hljs-number">50</span> },
        Enemy,  <span class="hljs-comment">// æ ‡è®°ç»„ä»¶</span>
    ));
}

<span class="hljs-comment">// ä½¿ç”¨ Commands åˆ é™¤å®ä½“</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">cleanup_dead_system</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;(Entity, &amp;Health)&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (entity, health) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-keyword">if</span> health.current &lt;= <span class="hljs-number">0</span> {
            commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">despawn</span>();  <span class="hljs-comment">// å»¶è¿Ÿåˆ é™¤</span>
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-8">ECS æ ¸å¿ƒæ€æƒ³</h3>
<blockquote>
<p><strong>ç»„åˆä¼˜äºç»§æ‰¿ï¼ˆComposition over Inheritanceï¼‰</strong></p>
</blockquote>
<p>åœ¨ ECS ä¸­ï¼Œä¸€ä¸ªå®ä½“çš„"ç±»å‹"ä¸æ˜¯ç”±ç»§æ‰¿å…³ç³»å†³å®šï¼Œè€Œæ˜¯ç”±å®ƒæ‹¥æœ‰çš„ç»„ä»¶ç»„åˆå†³å®šï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®šä¹‰è¾…åŠ©ç±»å‹</span>
<span class="hljs-meta">#[derive(Component, Default, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Inventory</span> {
    items: <span class="hljs-type">Vec</span>&lt;Item&gt;,
}

<span class="hljs-meta">#[derive(Clone, Copy, Debug)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">AIState</span> {
    Patrol,
    Chase,
    Attack,
}

<span class="hljs-meta">#[derive(Component, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AI</span> {
    state: AIState,
}

<span class="hljs-comment">// ç©å®¶ = Entity + Position + Velocity + Health + Inventory</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">player</span> = world.<span class="hljs-title function_ invoke__">spawn</span>()
    .<span class="hljs-title function_ invoke__">insert</span>(Position { x: <span class="hljs-number">0.0</span>, y: <span class="hljs-number">0.0</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(Velocity { dx: <span class="hljs-number">0.0</span>, dy: <span class="hljs-number">0.0</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(Health { current: <span class="hljs-number">100</span>, max: <span class="hljs-number">100</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(Inventory::<span class="hljs-title function_ invoke__">default</span>())
    .<span class="hljs-title function_ invoke__">id</span>();

<span class="hljs-comment">// æ€ªç‰© = Entity + Position + Velocity + Health + AI</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monster</span> = world.<span class="hljs-title function_ invoke__">spawn</span>()
    .<span class="hljs-title function_ invoke__">insert</span>(Position { x: <span class="hljs-number">10.0</span>, y: <span class="hljs-number">10.0</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(Velocity { dx: <span class="hljs-number">1.0</span>, dy: <span class="hljs-number">0.0</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(Health { current: <span class="hljs-number">50</span>, max: <span class="hljs-number">50</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(AI { state: AIState::Patrol })
    .<span class="hljs-title function_ invoke__">id</span>();

<span class="hljs-comment">// å¯ç§»åŠ¨çš„ç®±å­ = Entity + Position + Velocity + Health</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">crate_entity</span> = world.<span class="hljs-title function_ invoke__">spawn</span>()
    .<span class="hljs-title function_ invoke__">insert</span>(Position { x: <span class="hljs-number">5.0</span>, y: <span class="hljs-number">5.0</span> })
    .<span class="hljs-title function_ invoke__">insert</span>(Velocity { dx: <span class="hljs-number">0.5</span>, dy: <span class="hljs-number">0.0</span> })  <span class="hljs-comment">// ç°åœ¨ç®±å­ä¹Ÿèƒ½æ»šåŠ¨äº†ï¼</span>
    .<span class="hljs-title function_ invoke__">insert</span>(Health { current: <span class="hljs-number">20</span>, max: <span class="hljs-number">20</span> })
    .<span class="hljs-title function_ invoke__">id</span>();
</code></pre>
<hr/>
<h2 data-id="heading-9">äºŒã€æ¶æ„æ¼”è¿›ï¼šä» OOP åˆ° ECS</h2>
<h3 data-id="heading-10">2.1 ä¼ ç»Ÿé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰</h3>
<h4 data-id="heading-11">è®¾è®¡ç†å¿µ</h4>
<ul>
<li><strong>å°è£…</strong>ï¼šæ•°æ®å’Œè¡Œä¸ºç»‘å®šåœ¨ä¸€èµ·</li>
<li><strong>ç»§æ‰¿</strong>ï¼šé€šè¿‡ç±»å±‚æ¬¡ç»“æ„å¤ç”¨ä»£ç </li>
<li><strong>å¤šæ€</strong>ï¼šå­ç±»å¯ä»¥é‡å†™çˆ¶ç±»æ–¹æ³•</li>
</ul>
<h4 data-id="heading-12">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// OOP æ–¹å¼ï¼ˆRust ä¸æ”¯æŒç»§æ‰¿ï¼Œéœ€è¦ç»„åˆæˆ– traitï¼‰</span>

<span class="hljs-comment">// åŸºç¡€æ¸¸æˆå¯¹è±¡</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">GameObject</span> {
    position: Vec2,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">GameObject</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">update</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
        <span class="hljs-comment">// åŸºç¡€é€»è¾‘</span>
    }
}

<span class="hljs-comment">// è§’è‰²ï¼ˆåŒ…å«æ›´å¤šå­—æ®µï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Character</span> {
    position: Vec2,
    health: <span class="hljs-type">i32</span>,
    speed: <span class="hljs-type">f32</span>,
    velocity: Vec2,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Character</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">update</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, delta_time: <span class="hljs-type">f32</span>) {
        <span class="hljs-comment">// ç§»åŠ¨é€»è¾‘</span>
        <span class="hljs-keyword">self</span>.position.x += <span class="hljs-keyword">self</span>.velocity.x * delta_time;
        <span class="hljs-keyword">self</span>.position.y += <span class="hljs-keyword">self</span>.velocity.y * delta_time;
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">take_damage</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, damage: <span class="hljs-type">i32</span>) {
        <span class="hljs-keyword">self</span>.health -= damage;
    }
}

<span class="hljs-comment">// ç©å®¶ï¼ˆéœ€è¦é‡å¤ Character çš„æ‰€æœ‰å­—æ®µ - ç»§æ‰¿é—®é¢˜ï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Player</span> {
    position: Vec2,
    health: <span class="hljs-type">i32</span>,
    speed: <span class="hljs-type">f32</span>,
    velocity: Vec2,
    inventory: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">String</span>&gt;,  <span class="hljs-comment">// ç©å®¶ç‰¹æœ‰å­—æ®µ</span>
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Player</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">update</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, delta_time: <span class="hljs-type">f32</span>) {
        <span class="hljs-comment">// ç§»åŠ¨é€»è¾‘ï¼ˆä»£ç é‡å¤ï¼ï¼‰</span>
        <span class="hljs-keyword">self</span>.position.x += <span class="hljs-keyword">self</span>.velocity.x * delta_time;
        <span class="hljs-keyword">self</span>.position.y += <span class="hljs-keyword">self</span>.velocity.y * delta_time;
        <span class="hljs-comment">// ç©å®¶ç‰¹æœ‰é€»è¾‘</span>
        <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">handle_input</span>();
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">handle_input</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
        <span class="hljs-comment">// è¾“å…¥å¤„ç†</span>
    }
}
</code></pre>
<h4 data-id="heading-13">ä¼˜ç‚¹</h4>
<p>âœ… ç›´è§‚æ˜“æ‡‚ï¼Œç¬¦åˆäººç±»æ€ç»´
âœ… é€‚åˆå°å‹é¡¹ç›®å¿«é€Ÿå¼€å‘
âœ… IDE æ”¯æŒå¥½ï¼Œè°ƒè¯•æ–¹ä¾¿</p>
<h4 data-id="heading-14">ç¼ºç‚¹</h4>
<p>âŒ <strong>ç»§æ‰¿åœ°ç‹±</strong>ï¼šæ·±å±‚æ¬¡ç»§æ‰¿éš¾ä»¥ç»´æŠ¤
âŒ <strong>åƒµåŒ–çš„ç»“æ„</strong>ï¼šä¿®æ”¹åŸºç±»å½±å“æ‰€æœ‰å­ç±»
âŒ <strong>æ€§èƒ½é—®é¢˜</strong>ï¼šå¯¹è±¡åˆ†æ•£åœ¨å†…å­˜ä¸­ï¼Œç¼“å­˜ä¸å‹å¥½
âŒ <strong>å¤šé‡ç»§æ‰¿å›°å¢ƒ</strong>ï¼šC# ä¸æ”¯æŒï¼ŒC++ å®¹æ˜“æ··ä¹±</p>
<hr/>
<h3 data-id="heading-15">2.2 GameObject-Component æ¨¡å¼ï¼ˆUnity ç»å…¸æ¶æ„ï¼‰</h3>
<h4 data-id="heading-16">è®¾è®¡ç†å¿µ</h4>
<ul>
<li><strong>ç»„ä»¶åŒ–</strong>ï¼šGameObject æ˜¯å®¹å™¨ï¼ŒComponent æä¾›åŠŸèƒ½</li>
<li><strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ï¼šé€šè¿‡æ·»åŠ ç»„ä»¶æ‰©å±•åŠŸèƒ½</li>
</ul>
<h4 data-id="heading-17">ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// GameObject-Component æ¨¡å¼ï¼ˆç±»ä¼¼ Unity é£æ ¼ï¼‰</span>

<span class="hljs-comment">// ç»„ä»¶å®šä¹‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Transform</span> {
    position: Vec3,
    rotation: Vec3,
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Rigidbody</span> {
    velocity: Vec3,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Rigidbody</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fixed_update</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, transform: &amp;<span class="hljs-keyword">mut</span> Transform, fixed_delta_time: <span class="hljs-type">f32</span>) {
        <span class="hljs-comment">// ç‰©ç†æ›´æ–°ï¼ˆéœ€è¦æ‰‹åŠ¨è·å– Transform å¼•ç”¨ï¼‰</span>
        transform.position.x += <span class="hljs-keyword">self</span>.velocity.x * fixed_delta_time;
        transform.position.y += <span class="hljs-keyword">self</span>.velocity.y * fixed_delta_time;
        transform.position.z += <span class="hljs-keyword">self</span>.velocity.z * fixed_delta_time;
    }
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayerController</span> {
    speed: <span class="hljs-type">f32</span>,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">PlayerController</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">update</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, rigidbody: &amp;<span class="hljs-keyword">mut</span> Rigidbody, input: <span class="hljs-type">f32</span>) {
        <span class="hljs-comment">// è·å–è¾“å…¥ï¼ˆéœ€è¦æ‰‹åŠ¨ä¼ é€’ Rigidbody å¼•ç”¨ï¼‰</span>
        rigidbody.velocity.x = input * <span class="hljs-keyword">self</span>.speed;
        rigidbody.velocity.y = <span class="hljs-number">0.0</span>;
        rigidbody.velocity.z = <span class="hljs-number">0.0</span>;
    }
}

<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// 1. GetComponent æŸ¥æ‰¾å¼€é”€å¤§</span>
<span class="hljs-comment">// 2. ç»„ä»¶é—´ä¾èµ–éœ€è¦æ‰‹åŠ¨ç®¡ç†</span>
<span class="hljs-comment">// 3. ç»„ä»¶åˆ†æ•£å­˜å‚¨ï¼Œç¼“å­˜ä¸å‹å¥½</span>
</code></pre>
<h4 data-id="heading-18">ä¼˜ç‚¹</h4>
<p>âœ… çµæ´»ç»„åˆï¼Œé¿å…æ·±å±‚ç»§æ‰¿
âœ… ç»„ä»¶å¯å¤ç”¨
âœ… è®¾è®¡å™¨å‹å¥½ï¼ˆå¯è§†åŒ–ç¼–è¾‘ï¼‰</p>
<h4 data-id="heading-19">ç¼ºç‚¹</h4>
<p>âŒ <strong>GetComponent å¼€é”€</strong>ï¼šé¢‘ç¹æŸ¥æ‰¾ç»„ä»¶æ€§èƒ½å·®
âŒ <strong>å†…å­˜å¸ƒå±€æ··ä¹±</strong>ï¼šç»„ä»¶åˆ†æ•£å­˜å‚¨ï¼Œç¼“å­˜æœªå‘½ä¸­ç‡é«˜
âŒ <strong>ä¾èµ–ç®¡ç†å¤æ‚</strong>ï¼šç»„ä»¶é—´è€¦åˆéš¾ä»¥è¿½è¸ª
âŒ <strong>éš¾ä»¥å¹¶è¡ŒåŒ–</strong>ï¼šUpdate æŒ‰å¯¹è±¡é¡ºåºæ‰§è¡Œ</p>
<hr/>
<h3 data-id="heading-20">2.3 ECS æ¶æ„ï¼ˆç°ä»£æ•°æ®é©±åŠ¨è®¾è®¡ï¼‰</h3>
<h4 data-id="heading-21">è®¾è®¡ç†å¿µ</h4>
<ul>
<li><strong>æ•°æ®ä¸é€»è¾‘åˆ†ç¦»</strong>ï¼šComponent åªæœ‰æ•°æ®ï¼ŒSystem åªæœ‰é€»è¾‘</li>
<li><strong>æ•°æ®å±€éƒ¨æ€§</strong>ï¼šç›¸åŒç»„ä»¶ç´§å¯†æ’åˆ—åœ¨å†…å­˜ä¸­</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šSystem ä¸€æ¬¡å¤„ç†æˆåƒä¸Šä¸‡ä¸ªå®ä½“</li>
</ul>
<h4 data-id="heading-22">ç¤ºä¾‹ä»£ç ï¼ˆä¼ªä»£ç ï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç»„ä»¶å®šä¹‰ï¼ˆçº¯æ•°æ®ï¼‰</span>
<span class="hljs-meta">#[derive(Component, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Transform</span> {
    position: Vec3,
    rotation: Quat,
}

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Rigidbody</span> {
    velocity: Vec3,
    mass: <span class="hljs-type">f32</span>,
}

<span class="hljs-meta">#[derive(Component, Clone, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Mesh</span> {
    vertices: <span class="hljs-type">Vec</span>&lt;Vec3&gt;,
}

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Material</span> {
    color: Color,
}

<span class="hljs-comment">// ç³»ç»Ÿå®šä¹‰ï¼ˆçº¯é€»è¾‘ï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">physics_system</span>(
    query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Transform, &amp;Rigidbody)&gt;,
    time: Res&lt;Time&gt;,
) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dt</span> = time.<span class="hljs-title function_ invoke__">delta_seconds</span>();
    <span class="hljs-comment">// æ‰¹é‡å¤„ç†æ‰€æœ‰æ‹¥æœ‰ Transform + Rigidbody çš„å®ä½“</span>
    <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> transform, rigidbody) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        transform.position.x += rigidbody.velocity.x * dt;
        transform.position.y += rigidbody.velocity.y * dt;
        transform.position.z += rigidbody.velocity.z * dt;
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">render_system</span>(
    query: Query&lt;(&amp;Transform, &amp;Mesh, &amp;Material)&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (transform, mesh, material) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-title function_ invoke__">draw</span>(mesh, material, &amp;transform.position);
    }
}

<span class="hljs-comment">// è¾…åŠ©å‡½æ•°</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">draw</span>(mesh: &amp;Mesh, material: &amp;Material, position: &amp;Vec3) {
    <span class="hljs-comment">// æ¸²æŸ“é€»è¾‘</span>
}
</code></pre>
<h4 data-id="heading-23">ä¼˜ç‚¹</h4>
<p>âœ… <strong>æè‡´æ€§èƒ½</strong>ï¼šç¼“å­˜å‹å¥½çš„å†…å­˜å¸ƒå±€
âœ… <strong>å¤©ç„¶å¹¶è¡ŒåŒ–</strong>ï¼šSystem é—´æ— ä¾èµ–å¯å¹¶è¡Œ
âœ… <strong>é«˜åº¦å¯æ‰©å±•</strong>ï¼šæ·»åŠ æ–°ç»„ä»¶/ç³»ç»Ÿæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
âœ… <strong>æ˜“äºæµ‹è¯•</strong>ï¼šæ•°æ®å’Œé€»è¾‘åˆ†ç¦»ï¼Œå•å…ƒæµ‹è¯•ç®€å•</p>
<h4 data-id="heading-24">ç¼ºç‚¹</h4>
<p>âŒ <strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong>ï¼šæ€ç»´æ–¹å¼è½¬å˜
âŒ <strong>è°ƒè¯•å›°éš¾</strong>ï¼šæ²¡æœ‰å¯¹è±¡æ¦‚å¿µï¼Œéš¾ä»¥è¿½è¸ªå•ä¸ªå®ä½“
âŒ <strong>è¿‡åº¦å·¥ç¨‹</strong>ï¼šå°é¡¹ç›®åè€Œå¢åŠ å¤æ‚åº¦</p>
<hr/>
<h2 data-id="heading-25">ä¸‰ã€ECS æ€§èƒ½ä¼˜åŠ¿çš„æœ¬è´¨ï¼šæ•°æ®å¯¼å‘è®¾è®¡ï¼ˆDODï¼‰</h2>
<h3 data-id="heading-26">3.1 CPU ç¼“å­˜åŸç†é€Ÿæˆ</h3>
<p>ç°ä»£ CPU çš„å†…å­˜å±‚æ¬¡ç»“æ„ï¼š</p>
<pre><code class="hljs">CPU å¯„å­˜å™¨      ~1 çº³ç§’     å‡ ç™¾å­—èŠ‚
L1 ç¼“å­˜         ~1 çº³ç§’     32-64 KB
L2 ç¼“å­˜         ~3 çº³ç§’     256-512 KB
L3 ç¼“å­˜         ~12 çº³ç§’    8-32 MB
ä¸»å†…å­˜ï¼ˆRAMï¼‰   ~100 çº³ç§’   å‡  GB
ç¡¬ç›˜            å‡ æ¯«ç§’      å‡  TB
</code></pre>
<p><strong>å…³é”®äº‹å®</strong>ï¼šä»å†…å­˜è¯»æ•°æ®æ¯”ä» L1 ç¼“å­˜æ…¢ <strong>100 å€</strong>ï¼</p>
<p>CPU ä¼šè‡ªåŠ¨å°†å³å°†è®¿é—®çš„æ•°æ®åŠ è½½åˆ°ç¼“å­˜ï¼ˆ<strong>é¢„å–</strong>ï¼‰ï¼Œä½†æœ‰ä¸ªå‰æï¼š<strong>æ•°æ®å¿…é¡»æ˜¯è¿ç»­çš„</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-27">3.2 OOP çš„å†…å­˜å¸ƒå±€é—®é¢˜</h3>
<p>å‡è®¾æœ‰ 10,000 ä¸ªæ€ªç‰©ï¼Œæ¯ä¸ªæ€ªç‰©éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// OOP æ–¹å¼ï¼šå¯¹è±¡åˆ†æ•£åœ¨å †å†…å­˜ä¸­</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Monster</span> {
    id: <span class="hljs-type">u32</span>,            <span class="hljs-comment">// 4 å­—èŠ‚</span>
    position: Vec3,     <span class="hljs-comment">// 12 å­—èŠ‚</span>
    velocity: Vec3,     <span class="hljs-comment">// 12 å­—èŠ‚</span>
    health: <span class="hljs-type">i32</span>,        <span class="hljs-comment">// 4 å­—èŠ‚</span>
    ai: <span class="hljs-type">Box</span>&lt;AI&gt;,        <span class="hljs-comment">// 8 å­—èŠ‚ï¼ˆæŒ‡é’ˆï¼‰</span>
    mesh: <span class="hljs-type">Box</span>&lt;Mesh&gt;,    <span class="hljs-comment">// 8 å­—èŠ‚</span>
    <span class="hljs-comment">// ... å…¶ä»–æˆå‘˜</span>
}

<span class="hljs-comment">// 10000 ä¸ªå¯¹è±¡åœ¨å †ä¸Šåˆ†æ•£å­˜å‚¨</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monsters</span>: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">Box</span>&lt;Monster&gt;&gt; = <span class="hljs-type">Vec</span>::<span class="hljs-title function_ invoke__">with_capacity</span>(<span class="hljs-number">10000</span>);
</code></pre>
<p><strong>å†…å­˜å¸ƒå±€ç¤ºæ„</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">AoS (Array of Structures) - OOP æ–¹å¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
å†…å­˜åœ°å€     å¯¹è±¡å†…å®¹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0x1000      <span class="hljs-section">[Monster1: id|pos|vel|hp|ai*|mesh*| ... ]</span>  48 å­—èŠ‚
            â†“ (å¯èƒ½ä¸­é—´æœ‰å…¶ä»–å¯¹è±¡ï¼Œå†…å­˜ä¸è¿ç»­)
0x5000      <span class="hljs-section">[Monster2: id|pos|vel|hp|ai*|mesh*| ... ]</span>  48 å­—èŠ‚
            â†“
0x9000      <span class="hljs-section">[Monster3: id|pos|vel|hp|ai*|mesh*| ... ]</span>  48 å­—èŠ‚
            ...

é—®é¢˜ï¼š
âŒ æ›´æ–°ä½ç½®æ—¶ï¼ŒCPU éœ€è¦åŠ è½½æ•´ä¸ª Monster ç»“æ„ï¼ˆ48 å­—èŠ‚ï¼‰
âŒ ä¸‹ä¸€ä¸ª Monster å¯èƒ½åœ¨å®Œå…¨ä¸åŒçš„å†…å­˜åœ°å€
âŒ ç¼“å­˜è¡Œï¼ˆ64 å­—èŠ‚ï¼‰è¢«å¤§é‡æ— ç”¨æ•°æ®å æ®
âŒ CPU é¢„å–å¤±æ•ˆï¼Œç¼“å­˜æœªå‘½ä¸­ç‡ 70-90%
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SoA (Structure of Arrays) - ECS æ–¹å¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç»„ä»¶ç±»å‹      å†…å­˜å¸ƒå±€ï¼ˆè¿ç»­ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
IDs:         <span class="hljs-section">[1|2|3|4|5|6|7|8|...]</span> â† 10000 ä¸ªè¿ç»­
Positions:   <span class="hljs-section">[pos1|pos2|pos3|pos4|...]</span> â† åªè¯»è¿™ä¸€è¡Œï¼
Velocities:  <span class="hljs-section">[vel1|vel2|vel3|vel4|...]</span>
Healths:     <span class="hljs-section">[hp1|hp2|hp3|hp4|...]</span>
...

ä¼˜åŠ¿ï¼š
âœ… ç§»åŠ¨ç³»ç»Ÿåªè®¿é—® Position å’Œ Velocity æ•°ç»„
âœ… æ•°æ®ç´§å¯†æ’åˆ—ï¼ŒCPU ä¸€æ¬¡ç¼“å­˜è¡Œå¯åŠ è½½ 4-5 ä¸ªå®ä½“
âœ… CPU ç¡¬ä»¶é¢„å–ç”Ÿæ•ˆï¼Œè‡ªåŠ¨åŠ è½½åç»­æ•°æ®
âœ… ç¼“å­˜å‘½ä¸­ç‡ 95%+ï¼Œé€Ÿåº¦æå‡ 10-50 å€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼šæ›´æ–°æ‰€æœ‰æ€ªç‰©ä½ç½®æ—¶ï¼ŒCPU éœ€è¦ï¼š</p>
<ol>
<li>è·³è½¬åˆ° Monster1 çš„å†…å­˜åœ°å€</li>
<li>åŠ è½½æ•´ä¸ªå¯¹è±¡åˆ°ç¼“å­˜ï¼ˆå³ä½¿åªéœ€è¦ positionï¼‰</li>
<li>è·³è½¬åˆ° Monster2 çš„å†…å­˜åœ°å€ï¼ˆå¯èƒ½å¯¼è‡´ç¼“å­˜å¤±æ•ˆï¼‰</li>
<li>é‡å¤ 10,000 æ¬¡...</li>
</ol>
<p><strong>ç¼“å­˜æœªå‘½ä¸­ç‡</strong>ï¼š~70-90%ï¼ˆå¤§é‡æ—¶é—´æµªè´¹åœ¨ç­‰å¾…å†…å­˜ï¼‰</p>
<hr/>
<h3 data-id="heading-28">3.3 ECS çš„å†…å­˜å¸ƒå±€ä¼˜åŒ–</h3>
<h4 data-id="heading-29">Archetypeï¼ˆåŸå‹ï¼‰å­˜å‚¨</h4>
<p>ECS å°†æ‹¥æœ‰<strong>ç›¸åŒç»„ä»¶ç»„åˆ</strong>çš„å®ä½“å­˜å‚¨åœ¨ä¸€èµ·ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Archetype: <span class="hljs-section">[Position, Velocity, Health]</span>
</code></pre>
<p><strong>å†…å­˜å¸ƒå±€ï¼ˆStructure of Arraysï¼ŒSoAï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">Archetype: <span class="hljs-section">[Position, Velocity, Health]</span>
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        Chunk 0 (16KB)              Chunk 1 (16KB)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Positions  (Ã—100)   â”‚     â”‚ Positions  (Ã—100)   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Velocities (Ã—100)   â”‚     â”‚ Velocities (Ã—100)   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ Healths    (Ã—100)   â”‚     â”‚ Healths    (Ã—100)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ è¿ç»­å†…å­˜                   â†“ è¿ç»­å†…å­˜

è¯¦ç»†è§†å›¾ï¼ˆChunk 0 çš„ Position æ•°ç»„ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
â”‚pos0â”‚pos1â”‚pos2â”‚pos3â”‚pos4â”‚ ... â”‚pos98â”‚pos99â”‚     â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
  12B  12B  12B  12B  12B   ...  12B   12B
  â†‘                                        â†‘
  CPU ç¼“å­˜è¡Œå¯ä»¥ä¸€æ¬¡åŠ è½½ 5-6 ä¸ª Vec3 (64å­—èŠ‚)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
</code></pre>
<p><strong>å¤„ç†æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç§»åŠ¨ç³»ç»Ÿåªéœ€è¦ Position å’Œ Velocity</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">movement_system</span>(
    positions: &amp;<span class="hljs-keyword">mut</span> [Position],    <span class="hljs-comment">// è¿ç»­å†…å­˜å—</span>
    velocities: &amp;[Velocity],       <span class="hljs-comment">// è¿ç»­å†…å­˜å—</span>
    dt: <span class="hljs-type">f32</span>,
) {
    <span class="hljs-comment">// CPU å¯ä»¥é«˜æ•ˆåœ°é¢„å–æ•°æ®</span>
    <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..positions.<span class="hljs-title function_ invoke__">len</span>() {
        positions[i].x += velocities[i].dx * dt;
        positions[i].y += velocities[i].dy * dt;
    }
}
</code></pre>
<p><strong>æ€§èƒ½æå‡</strong>ï¼š</p>
<ul>
<li><strong>ç¼“å­˜å‘½ä¸­ç‡</strong>ï¼š~95% ï¼ˆæ•°æ®è¿ç»­ï¼ŒCPU é¢„å–ç”Ÿæ•ˆï¼‰</li>
<li><strong>SIMD å‘é‡åŒ–</strong>ï¼šå¯ä»¥ä¸€æ¬¡å¤„ç† 4-8 ä¸ªå®ä½“ï¼ˆAVX æŒ‡ä»¤é›†ï¼‰</li>
<li><strong>å®æµ‹é€Ÿåº¦</strong>ï¼šæ¯” OOP å¿« <strong>10-50 å€</strong>ï¼ˆå¤„ç†å¤§é‡å®ä½“æ—¶ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-30">3.4 å®é™…æ€§èƒ½å¯¹æ¯”</h3>
<p>æ¥è‡ªä¸šç•Œçš„çœŸå®æ•°æ®ï¼š</p>

























<table><thead><tr><th>æ¶æ„</th><th>æ›´æ–° 10,000 ä¸ªå®ä½“</th><th>ç¼“å­˜æœªå‘½ä¸­ç‡</th></tr></thead><tbody><tr><td><strong>ä¼ ç»Ÿ OOP</strong></td><td>12.5 ms</td><td>75%</td></tr><tr><td><strong>GameObject-Component</strong></td><td>8.3 ms</td><td>60%</td></tr><tr><td><strong>ECS (Archetype)</strong></td><td>0.8 ms</td><td>5%</td></tr></tbody></table>
<p><strong>æ¡ˆä¾‹ï¼šã€Šå®ˆæœ›å…ˆé”‹ã€‹</strong></p>
<ul>
<li>ä½¿ç”¨ ECS æ¶æ„åï¼Œèƒ½åœ¨å•å¸§å†…å¤„ç† <strong>æ•°ç™¾ä¸‡æ¬¡</strong> ç¢°æ’æ£€æµ‹</li>
<li>æ”¯æŒ <strong>12v12</strong> å¤§è§„æ¨¡å›¢æˆ˜ä¸å¡é¡¿</li>
</ul>
<hr/>
<h2 data-id="heading-31">å››ã€ECS æ¶æ„è¯¦è§£</h2>
<h3 data-id="heading-32">4.1 Entity ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<h4 data-id="heading-33">åˆ›å»ºå®ä½“ï¼ˆSpawnï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ–¹å¼1ï¼šä½¿ç”¨ Commandsï¼ˆæ¨èï¼Œå»¶è¿Ÿæ‰§è¡Œï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_player</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">player_entity</span> = commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Position { x: <span class="hljs-number">0.0</span>, y: <span class="hljs-number">0.0</span> },
        Velocity { dx: <span class="hljs-number">0.0</span>, dy: <span class="hljs-number">0.0</span> },
        Health { current: <span class="hljs-number">100</span>, max: <span class="hljs-number">100</span> },
        Player,
    )).<span class="hljs-title function_ invoke__">id</span>();  <span class="hljs-comment">// è¿”å› Entity ID</span>

    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Created player: {:?}"</span>, player_entity);
}

<span class="hljs-comment">// æ–¹å¼2ï¼šä½¿ç”¨ Worldï¼ˆç«‹å³æ‰§è¡Œï¼Œéœ€è¦ç‹¬å è®¿é—®ï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_enemy_immediate</span>(world: &amp;<span class="hljs-keyword">mut</span> World) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">enemy</span> = world.<span class="hljs-title function_ invoke__">spawn</span>((
        Position { x: <span class="hljs-number">100.0</span>, y: <span class="hljs-number">100.0</span> },
        Enemy,
    )).<span class="hljs-title function_ invoke__">id</span>();
}
</code></pre>
<h4 data-id="heading-34">åˆ é™¤å®ä½“ï¼ˆDespawnï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// åˆ é™¤å•ä¸ªå®ä½“</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">remove_dead_entities</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;(Entity, &amp;Health)&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (entity, health) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-keyword">if</span> health.current &lt;= <span class="hljs-number">0</span> {
            commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">despawn</span>();
        }
    }
}

<span class="hljs-comment">// é€’å½’åˆ é™¤å®ä½“åŠå…¶å­å®ä½“</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">despawn_with_children</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    entity: Entity,
) {
    commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">despawn_recursive</span>();
}
</code></pre>
<h4 data-id="heading-35">æ·»åŠ /ç§»é™¤ç»„ä»¶</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ·»åŠ ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">add_shield</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;Entity, With&lt;Player&gt;&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">entity</span> <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">insert</span>(Shield { strength: <span class="hljs-number">50</span> });
    }
}

<span class="hljs-comment">// ç§»é™¤ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">remove_shield</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;Entity, With&lt;Shield&gt;&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">entity</span> <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).remove::&lt;Shield&gt;();
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-36">4.2 Archetypeï¼ˆåŸå‹ï¼‰ç³»ç»Ÿ</h3>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šæŒ‰ç»„ä»¶ç»„åˆå¯¹å®ä½“åˆ†ç»„</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®ä½“çš„ç»„ä»¶ç»„åˆå†³å®šå®ƒå±äºå“ªä¸ª Archetype</span>
<span class="hljs-comment">// Archetype_A: (Position, Velocity)</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ArchetypeA</span> {
    entities: <span class="hljs-type">Vec</span>&lt;Entity&gt;,          <span class="hljs-comment">// [1, 5, 9]</span>
    positions: <span class="hljs-type">Vec</span>&lt;Position&gt;,       <span class="hljs-comment">// è¿ç»­å­˜å‚¨</span>
    velocities: <span class="hljs-type">Vec</span>&lt;Velocity&gt;,      <span class="hljs-comment">// è¿ç»­å­˜å‚¨</span>
}

<span class="hljs-comment">// Archetype_B: (Position, Velocity, Health)</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ArchetypeB</span> {
    entities: <span class="hljs-type">Vec</span>&lt;Entity&gt;,          <span class="hljs-comment">// [2, 3, 10]</span>
    positions: <span class="hljs-type">Vec</span>&lt;Position&gt;,
    velocities: <span class="hljs-type">Vec</span>&lt;Velocity&gt;,
    healths: <span class="hljs-type">Vec</span>&lt;Health&gt;,
}

<span class="hljs-comment">// Archetype_C: (Position, Mesh, Material)</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ArchetypeC</span> {
    entities: <span class="hljs-type">Vec</span>&lt;Entity&gt;,          <span class="hljs-comment">// [4, 7]</span>
    positions: <span class="hljs-type">Vec</span>&lt;Position&gt;,
    meshes: <span class="hljs-type">Vec</span>&lt;Mesh&gt;,
    materials: <span class="hljs-type">Vec</span>&lt;Material&gt;,
}
</code></pre>
<p><strong>åŠ¨æ€è°ƒæ•´</strong>ï¼š</p>
<ul>
<li>æ·»åŠ ç»„ä»¶æ—¶ï¼Œå®ä½“ä¼š<strong>è¿ç§»</strong>åˆ°æ–°çš„ Archetype</li>
<li>ä¾‹å¦‚ï¼šç»™ Entity 1 æ·»åŠ  Health â†’ ä» Archetype_A ç§»åŠ¨åˆ° Archetype_B</li>
</ul>
<p><strong>å†…å­˜åˆ†å—ï¼ˆChunkï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">ä¸€ä¸ª <span class="hljs-attr">Chunk</span> = <span class="hljs-number">16</span>KB å›ºå®šå†…å­˜å—
Archetype_B çš„ Chunk 0:
  <span class="hljs-section">[PositionÃ—100]</span> <span class="hljs-section">[VelocityÃ—100]</span> <span class="hljs-section">[HealthÃ—100]</span>
</code></pre>
<hr/>
<h3 data-id="heading-37">4.2 Queryï¼ˆæŸ¥è¯¢ï¼‰æœºåˆ¶</h3>
<p>System é€šè¿‡ Query å£°æ˜éœ€è¦å“ªäº›ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç§»åŠ¨ç³»ç»Ÿï¼šæŸ¥è¯¢æ‰€æœ‰æ‹¥æœ‰ Position å’Œ Velocity çš„å®ä½“</span>
<span class="hljs-comment">// Query&lt;(&amp;mut Position, &amp;Velocity)&gt; è¡¨ç¤ºï¼š</span>
<span class="hljs-comment">//   - &amp;mut Position: å¯å˜å€Ÿç”¨ï¼ˆéœ€è¦ä¿®æ”¹ï¼‰</span>
<span class="hljs-comment">//   - &amp;Velocity: ä¸å¯å˜å€Ÿç”¨ï¼ˆåªè¯»ï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">movement_system</span>(
    <span class="hljs-keyword">mut</span> query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Position, &amp;Velocity)&gt;,
    time: Res&lt;Time&gt;,  <span class="hljs-comment">// Res&lt;Time&gt; æ˜¯å…¨å±€èµ„æºï¼Œç”¨äºè·å–æ—¶é—´</span>
) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dt</span> = time.<span class="hljs-title function_ invoke__">delta_seconds</span>();  <span class="hljs-comment">// è·å–å¸§é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰</span>

    <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> pos, vel) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        pos.x += vel.dx * dt;  <span class="hljs-comment">// æ›´æ–° x åæ ‡</span>
        pos.y += vel.dy * dt;  <span class="hljs-comment">// æ›´æ–° y åæ ‡</span>
    }
}

<span class="hljs-comment">// ä¼¤å®³ç³»ç»Ÿï¼šæŸ¥è¯¢æ‹¥æœ‰ Health ä½†æ²¡æœ‰ Invincible çš„å®ä½“</span>
<span class="hljs-comment">// Without&lt;Invincible&gt; æ˜¯è¿‡æ»¤å™¨ï¼Œæ’é™¤æ— æ•ŒçŠ¶æ€çš„å®ä½“</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">damage_system</span>(
    <span class="hljs-keyword">mut</span> query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Health, Without&lt;Invincible&gt;&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-title class_">mut</span> health <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        <span class="hljs-comment">// åœ¨å®é™…æ¸¸æˆä¸­ï¼Œdamage åº”è¯¥ä»äº‹ä»¶æˆ–å…¶ä»–æ¥æºè·å–</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">damage</span> = <span class="hljs-number">10</span>;
        health.current = (health.current - damage).<span class="hljs-title function_ invoke__">max</span>(<span class="hljs-number">0</span>);
    }
}

<span class="hljs-comment">// Invincible æ ‡è®°ç»„ä»¶ï¼ˆå‡è®¾å®šä¹‰ï¼‰</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Invincible</span>;
</code></pre>
<p><strong>ä¼˜åŒ–</strong>ï¼šQuery ç»“æœä¼šè¢«ç¼“å­˜ï¼Œé¿å…é‡å¤éå†</p>
<hr/>
<h3 data-id="heading-38">4.3 System æ‰§è¡Œé¡ºåºä¸å¹¶è¡ŒåŒ–</h3>
<h4 data-id="heading-39">ä¾èµ–æ£€æµ‹</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// System A å’Œ B å¯ä»¥å¹¶è¡Œï¼ˆæ“ä½œä¸åŒç»„ä»¶ï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">system_a</span>(query: Query&lt;(&amp;Position, &amp;Velocity)&gt;) {
    <span class="hljs-comment">// è¯» Positionï¼Œè¯» Velocity</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">system_b</span>(query: Query&lt;(&amp;Health, &amp;<span class="hljs-keyword">mut</span> Damage)&gt;) {
    <span class="hljs-comment">// è¯» Healthï¼Œå†™ Damage</span>
}

<span class="hljs-comment">// System C å’Œ A ä¸èƒ½å¹¶è¡Œï¼ˆéƒ½è¦å†™ Positionï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">system_c</span>(query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Position, &amp;Target)&gt;) {
    <span class="hljs-comment">// å†™ Position - ä¸ system_a å†²çª</span>
}
</code></pre>
<h4 data-id="heading-40">è°ƒåº¦å™¨è‡ªåŠ¨å¹¶è¡ŒåŒ–</h4>
<pre><code class="hljs language-css" lang="css">å¸§å¾ªç¯ï¼š
  é˜¶æ®µ<span class="hljs-number">1</span>ï¼ˆå¹¶è¡Œï¼‰ï¼š
    - MovementSystem  (writes <span class="hljs-attribute">Position</span>)
    - AISystem        (reads <span class="hljs-attribute">Position</span>, writes AI)

  é˜¶æ®µ<span class="hljs-number">2</span>ï¼ˆå¹¶è¡Œï¼‰ï¼š
    - RenderSystem    (reads <span class="hljs-attribute">Position</span>, Mesh)
    - AudioSystem     (reads <span class="hljs-attribute">Position</span>, AudioSource)
</code></pre>
<p><strong>å®æµ‹</strong>ï¼š8 æ ¸ CPU å¯è·å¾— <strong>5-6x</strong> åŠ é€Ÿï¼ˆç†æƒ³æƒ…å†µï¼‰</p>
<hr/>
<h2 data-id="heading-41">äº”ã€ä¸»æµæ¸¸æˆå¼•æ“ä¸­çš„ ECS å®ç°</h2>
<h3 data-id="heading-42">5.1 Unity DOTS (Data-Oriented Technology Stack)</h3>
<p><strong>æ¶æ„</strong>ï¼šArchetype-based ECS</p>
<p><strong>æ ¸å¿ƒæŠ€æœ¯</strong>ï¼š</p>
<ul>
<li><strong>Entities åŒ…</strong>ï¼šECS æ ¸å¿ƒ</li>
<li><strong>Burst Compiler</strong>ï¼šå°† C# ç¼–è¯‘ä¸ºä¼˜åŒ–çš„åŸç”Ÿä»£ç </li>
<li><strong>Job System</strong>ï¼šå¤šçº¿ç¨‹ä»»åŠ¡è°ƒåº¦</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼ˆC# - Unity ä¸“ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Unity.Entities;
<span class="hljs-keyword">using</span> Unity.Transforms;

<span class="hljs-comment">// ç»„ä»¶</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> Speed : IComponentData {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> Value;
}

<span class="hljs-comment">// System</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MovementSystem</span> : <span class="hljs-title">SystemBase</span> {
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnUpdate</span>()</span> {
        <span class="hljs-built_in">float</span> dt = Time.DeltaTime;

        <span class="hljs-comment">// ä½¿ç”¨ Entities.ForEach éå†</span>
        Entities.ForEach((<span class="hljs-keyword">ref</span> Translation pos, <span class="hljs-keyword">in</span> Speed speed) =&gt; {
            pos.Value.x += speed.Value * dt;
        }).ScheduleParallel();  <span class="hljs-comment">// è‡ªåŠ¨å¹¶è¡ŒåŒ–</span>
    }
}
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>Burst ç¼–è¯‘å™¨æ€§èƒ½æè‡´</li>
<li>ä¸ Unity ç”Ÿæ€æ·±åº¦é›†æˆ</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>API é¢‘ç¹å˜æ›´ï¼ˆç›®å‰ä»åœ¨å¼€å‘ä¸­ï¼‰</li>
<li>å­¦ä¹ æ›²çº¿é™¡å³­</li>
<li>è°ƒè¯•å›°éš¾</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¶…å¤§è§„æ¨¡å®ä½“ï¼ˆå¦‚ RTSã€æ¨¡æ‹Ÿæ¸¸æˆï¼‰</p>
<hr/>
<h3 data-id="heading-43">5.2 Unreal Engine - Mass Framework</h3>
<p><strong>æ¶æ„</strong>ï¼šArchetype-based ECSï¼ˆç±»ä¼¼ Unity DOTSï¼‰</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>Epic Games AI å›¢é˜Ÿå¼€å‘ï¼ˆç”¨äºã€Šé»‘å®¢å¸å›½ã€‹æŠ€æœ¯æ¼”ç¤ºï¼‰</li>
<li>ä¸“æ³¨äº<strong>å¤§è§„æ¨¡ç¾¤ä½“æ¨¡æ‹Ÿ</strong>ï¼ˆæ•°ä¸‡ NPCï¼‰</li>
<li>ä¸ Unreal çš„è“å›¾ç³»ç»Ÿé›†æˆ</li>
</ul>
<p><strong>æœ¯è¯­å·®å¼‚</strong>ï¼ˆé¿å…ä¸“åˆ©é—®é¢˜ï¼‰ï¼š</p>
<ul>
<li>Component â†’ <strong>Fragment</strong></li>
<li>System â†’ <strong>Processor</strong></li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼ˆC++ - Unreal ä¸“ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Fragmentï¼ˆç»„ä»¶ï¼‰</span>
<span class="hljs-built_in">USTRUCT</span>()
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">FMassVelocityFragment</span> : <span class="hljs-keyword">public</span> FMassFragment {
    <span class="hljs-built_in">GENERATED_BODY</span>()
    FVector Value;
};

<span class="hljs-comment">// Processorï¼ˆç³»ç»Ÿï¼‰</span>
UMassMovementProcessor : <span class="hljs-keyword">public</span> UMassProcessor {
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">(FMassEntityManager&amp; EntityManager,
                        FMassExecutionContext&amp; Context)</span> </span>{
        <span class="hljs-comment">// æ‰¹é‡å¤„ç†å®ä½“</span>
        Query.<span class="hljs-built_in">ForEachEntityChunk</span>(EntityManager, Context,
            [](FMassExecutionContext&amp; Context) {
                <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
            });
    }
};
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>é€‚åˆ AAA çº§å¤§åœºæ™¯</li>
<li>å†…ç½® LOD ç³»ç»Ÿï¼ˆè¿œå¤„å®ä½“ç®€åŒ–å¤„ç†ï¼‰</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>ä»åœ¨å®éªŒé˜¶æ®µï¼ˆWIPï¼‰</li>
<li>æ–‡æ¡£å’Œæ•™ç¨‹è¾ƒå°‘</li>
</ul>
<hr/>
<h3 data-id="heading-44">5.3 Bevyï¼ˆRust æ¸¸æˆå¼•æ“ï¼‰</h3>
<p><strong>æ¶æ„</strong>ï¼šçº¯ ECS è®¾è®¡ï¼ˆå¼•æ“ä»é›¶å¼€å§‹ä¸º ECS æ„å»ºï¼‰</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ— å†å²åŒ…è¢±ï¼Œæœ€çº¯ç²¹çš„ ECS å®ç°</li>
<li>Rust è¯­è¨€çš„ç±»å‹å®‰å…¨ + é›¶æˆæœ¬æŠ½è±¡</li>
</ul>
<p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> bevy::prelude::*;

<span class="hljs-comment">// ç»„ä»¶</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Velocity</span>(Vec2);

<span class="hljs-comment">// ç³»ç»Ÿ</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">movement_system</span>(
    <span class="hljs-keyword">mut</span> query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Transform, &amp;Velocity)&gt;,
    time: Res&lt;Time&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> transform, velocity) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        transform.translation.x += velocity.<span class="hljs-number">0</span>.x * time.<span class="hljs-title function_ invoke__">delta_seconds</span>();
        transform.translation.y += velocity.<span class="hljs-number">0</span>.y * time.<span class="hljs-title function_ invoke__">delta_seconds</span>();
    }
}

<span class="hljs-comment">// App æ³¨å†Œ</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    App::<span class="hljs-title function_ invoke__">new</span>()
        .<span class="hljs-title function_ invoke__">add_systems</span>(Update, movement_system)
        .<span class="hljs-title function_ invoke__">run</span>();
}
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>API ç®€æ´ä¼˜é›…</li>
<li>ç¼–è¯‘æ—¶æ£€æŸ¥ï¼ˆRust æ‰€æœ‰æƒç³»ç»Ÿé˜²æ­¢æ•°æ®ç«äº‰ï¼‰</li>
<li>å®Œå…¨å…è´¹å¼€æº</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>ç”Ÿæ€å¹´è½»ï¼ŒåŠŸèƒ½ä¸å¦‚æˆç†Ÿå¼•æ“</li>
<li>éœ€è¦å­¦ä¹  Rust è¯­è¨€</li>
</ul>
<hr/>
<h3 data-id="heading-45">5.4 ä¸ºä»€ä¹ˆ Rust é€‚åˆ ECSï¼Ÿ</h3>
<p>Rust è¯­è¨€çš„ç‰¹æ€§ä¸ ECS æ¶æ„å¤©ç„¶å¥‘åˆï¼Œä½¿å…¶æˆä¸ºæ„å»ºé«˜æ€§èƒ½ ECS çš„ç†æƒ³é€‰æ‹©ï¼š</p>
<h4 data-id="heading-46">1. <strong>æ‰€æœ‰æƒç³»ç»Ÿï¼šç¼–è¯‘æ—¶å¹¶è¡Œå®‰å…¨ä¿è¯</strong></h4>
<p>Rust çš„å€Ÿç”¨æ£€æŸ¥å™¨åœ¨<strong>ç¼–è¯‘æ—¶</strong>ä¿è¯æ•°æ®å®‰å…¨ï¼Œæ— éœ€è¿è¡Œæ—¶å¼€é”€ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Rust çš„å€Ÿç”¨è§„åˆ™ï¼š</span>
<span class="hljs-comment">// 1. ä»»æ„å¤šä¸ªä¸å¯å˜å€Ÿç”¨ (&amp;T)</span>
<span class="hljs-comment">// 2. æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå¯å˜å€Ÿç”¨ (&amp;mut T)</span>
<span class="hljs-comment">// 3. ä¸å¯å˜å’Œå¯å˜å€Ÿç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨</span>

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä¸¤ä¸ªç³»ç»Ÿè¯»å–ä¸åŒç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">system_a</span>(query: Query&lt;&amp;Position&gt;) {}
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">system_b</span>(query: Query&lt;&amp;Velocity&gt;) {}
<span class="hljs-comment">// ç¼–è¯‘å™¨åˆ†æï¼šPosition å’Œ Velocity æ— å†²çª â†’ å¯ä»¥å¹¶è¡Œ</span>

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šå¤šä¸ªç³»ç»Ÿåªè¯»åŒä¸€ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_system_1</span>(query: Query&lt;&amp;Position&gt;) {}
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_system_2</span>(query: Query&lt;&amp;Position&gt;) {}
<span class="hljs-comment">// ç¼–è¯‘å™¨åˆ†æï¼šéƒ½æ˜¯ä¸å¯å˜å€Ÿç”¨ â†’ å¯ä»¥å¹¶è¡Œ</span>

<span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¸¤ä¸ªç³»ç»ŸåŒæ—¶å†™åŒä¸€ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">write_system_1</span>(query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Position&gt;) {}
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">write_system_2</span>(query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Position&gt;) {}
<span class="hljs-comment">// ç¼–è¯‘å™¨æŠ¥é”™ï¼šPosition è¢«ä¸¤æ¬¡å¯å˜å€Ÿç”¨ â†’ ä¸èƒ½å¹¶è¡Œ</span>

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä¸€ä¸ªè¯»ä¸€ä¸ªå†™ï¼Œä½†æ˜¯ä¸åŒç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_pos</span>(query: Query&lt;&amp;Position&gt;) {}
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">write_vel</span>(query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Velocity&gt;) {}
<span class="hljs-comment">// ç¼–è¯‘å™¨åˆ†æï¼šPosition è¯»å–ï¼ŒVelocity å†™å…¥ â†’ å¯ä»¥å¹¶è¡Œ</span>
</code></pre>
<p><strong>å…³é”®ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ğŸš€ <strong>é›¶è¿è¡Œæ—¶å¼€é”€</strong>ï¼šå†²çªæ£€æµ‹åœ¨ç¼–è¯‘æ—¶å®Œæˆ</li>
<li>ğŸ”’ <strong>ç»å¯¹å®‰å…¨</strong>ï¼šRust ç¼–è¯‘å™¨ä¿è¯æ— æ•°æ®ç«äº‰</li>
<li>âš¡ <strong>è‡ªåŠ¨å¹¶è¡ŒåŒ–</strong>ï¼šè°ƒåº¦å™¨æ ¹æ®å€Ÿç”¨ä¿¡æ¯è‡ªåŠ¨å¹¶è¡Œ</li>
</ul>
<hr/>
<h4 data-id="heading-47">2. <strong>é›¶æˆæœ¬æŠ½è±¡ï¼šé«˜çº§è¯­æ³•ï¼Œæœºå™¨ç çº§æ€§èƒ½</strong></h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// é«˜çº§ä»£ç ï¼šä¼˜é›…çš„è¿­ä»£å™¨è¯­æ³•</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">movement_system</span>(
    <span class="hljs-keyword">mut</span> query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Transform, &amp;Velocity)&gt;,
    time: Res&lt;Time&gt;,
) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dt</span> = time.<span class="hljs-title function_ invoke__">delta_seconds</span>();

    <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> transform, velocity) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        transform.translation.x += velocity.<span class="hljs-number">0</span>.x * dt;
        transform.translation.y += velocity.<span class="hljs-number">0</span>.y * dt;
    }
}

<span class="hljs-comment">// ç¼–è¯‘åçš„æ±‡ç¼–ä»£ç ï¼ˆç®€åŒ–ï¼‰ï¼š</span>
<span class="hljs-comment">// ç­‰åŒäºç›´æ¥æ•°ç»„è®¿é—®ï¼Œæ²¡æœ‰é¢å¤–å¼€é”€</span>
<span class="hljs-comment">/*
loop:
    movss xmm0, [positions + rax]      ; åŠ è½½ position.x
    movss xmm1, [velocities + rax]     ; åŠ è½½ velocity.x
    mulss xmm1, xmm2                   ; velocity.x * dt
    addss xmm0, xmm1                   ; position.x += result
    movss [positions + rax], xmm0      ; å­˜å‚¨å›å»
    add rax, 12                        ; ä¸‹ä¸€ä¸ª Vec3
    cmp rax, rbx
    jl loop
*/</span>
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>Query è¿­ä»£å™¨ç¼–è¯‘å = ç›´æ¥å†…å­˜è®¿é—®</li>
<li>æ— è™šå‡½æ•°è°ƒç”¨ã€æ— åŠ¨æ€åˆ†å‘</li>
<li>ç¼–è¯‘å™¨å†…è”ä¼˜åŒ–ï¼Œç”Ÿæˆæœ€ä¼˜æœºå™¨ç </li>
</ul>
<hr/>
<h4 data-id="heading-48">3. <strong>ç±»å‹å®‰å…¨çš„ç»„ä»¶æŸ¥è¯¢ï¼šç¼–è¯‘æ—¶éªŒè¯</strong></h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç¼–è¯‘æ—¶æ£€æŸ¥ç»„ä»¶ç±»å‹ï¼Œè¿è¡Œæ—¶é›¶å¼€é”€</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">complex_query_system</span>(
    <span class="hljs-comment">// è¿™ä¸ªç±»å‹ç­¾ååœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šäº†</span>
    query: Query&lt;
        (
            &amp;Transform,           <span class="hljs-comment">// åªè¯»</span>
            &amp;<span class="hljs-keyword">mut</span> Velocity,        <span class="hljs-comment">// å¯å†™</span>
            <span class="hljs-type">Option</span>&lt;&amp;Health&gt;,      <span class="hljs-comment">// å¯é€‰ï¼ˆå®ä½“å¯èƒ½æ²¡æœ‰ï¼‰</span>
        ),
        (
            With&lt;Player&gt;,         <span class="hljs-comment">// è¿‡æ»¤å™¨ï¼šå¿…é¡»æœ‰ Player æ ‡è®°</span>
            Without&lt;Frozen&gt;,      <span class="hljs-comment">// è¿‡æ»¤å™¨ï¼šä¸èƒ½æœ‰ Frozen æ ‡è®°</span>
        )
    &gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (transform, <span class="hljs-keyword">mut</span> velocity, health) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        <span class="hljs-comment">// transform: &amp;Transform     - ç¼–è¯‘å™¨ä¿è¯åªè¯»</span>
        <span class="hljs-comment">// velocity: &amp;mut Velocity   - ç¼–è¯‘å™¨ä¿è¯å¯å†™</span>
        <span class="hljs-comment">// health: Option&lt;&amp;Health&gt;   - ç¼–è¯‘å™¨ä¿è¯æ­£ç¡®å¤„ç† None</span>

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(hp) = health {
            <span class="hljs-keyword">if</span> hp.current &gt; <span class="hljs-number">0</span> {
                velocity.<span class="hljs-number">0</span> *= <span class="hljs-number">0.9</span>;  <span class="hljs-comment">// å‡é€Ÿ</span>
            }
        }
    }
}

<span class="hljs-comment">// å¦‚æœä½ å†™é”™äº†ç±»å‹ï¼š</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">buggy_system</span>(query: Query&lt;&amp;Health&gt;) {  <span class="hljs-comment">// å£°æ˜æ˜¯åªè¯»</span>
    <span class="hljs-keyword">for</span> <span class="hljs-title class_">mut</span> health <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {       <span class="hljs-comment">// âŒ è¯•å›¾å¯å˜è¿­ä»£</span>
        health.current -= <span class="hljs-number">10</span>;              <span class="hljs-comment">// âŒ ç¼–è¯‘å¤±è´¥ï¼</span>
    }
}
<span class="hljs-comment">// ç¼–è¯‘å™¨é”™è¯¯ï¼šcannot borrow immutable local variable `health` as mutable</span>
</code></pre>
<hr/>
<h4 data-id="heading-49">4. <strong>å†…å­˜å¸ƒå±€ç²¾ç¡®æ§åˆ¶ï¼šç¼“å­˜ä¼˜åŒ–</strong></h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Rust å…è®¸ç²¾ç¡®æ§åˆ¶å†…å­˜å¸ƒå±€</span>

<span class="hljs-comment">// 1. é»˜è®¤å¸ƒå±€ï¼ˆRust ç¼–è¯‘å™¨ä¼˜åŒ–ï¼‰</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span> {
    x: <span class="hljs-type">f32</span>,  <span class="hljs-comment">// å¯èƒ½è¢«é‡æ’ä»¥ä¼˜åŒ–å¯¹é½</span>
    y: <span class="hljs-type">f32</span>,
    z: <span class="hljs-type">f32</span>,
}

<span class="hljs-comment">// 2. C å…¼å®¹å¸ƒå±€ï¼ˆä¿è¯å­—æ®µé¡ºåºï¼‰</span>
<span class="hljs-meta">#[repr(C)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">CPosition</span> {
    x: <span class="hljs-type">f32</span>,  <span class="hljs-comment">// ä¿è¯é¡ºåº</span>
    y: <span class="hljs-type">f32</span>,
    z: <span class="hljs-type">f32</span>,
}

<span class="hljs-comment">// 3. SIMD ä¼˜åŒ–å¸ƒå±€ï¼ˆ16 å­—èŠ‚å¯¹é½ï¼‰</span>
<span class="hljs-meta">#[repr(align(16))]</span>
<span class="hljs-meta">#[derive(Component, Clone, Copy)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">SimdVec4</span> {
    data: [<span class="hljs-type">f32</span>; <span class="hljs-number">4</span>],  <span class="hljs-comment">// å¯¹é½åˆ° 128 ä½ï¼Œå¯ç”¨ SSE/AVX æŒ‡ä»¤</span>
}

<span class="hljs-comment">// 4. ç´§å‡‘å¸ƒå±€ï¼ˆå»é™¤å¡«å……ï¼‰</span>
<span class="hljs-meta">#[repr(packed)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">CompactData</span> {
    flag: <span class="hljs-type">u8</span>,   <span class="hljs-comment">// 1 å­—èŠ‚</span>
    value: <span class="hljs-type">u32</span>, <span class="hljs-comment">// 4 å­—èŠ‚ï¼Œç´§å¯†æ’åˆ—ï¼ˆæ— å¡«å……ï¼‰</span>
}

<span class="hljs-comment">// 5. é€æ˜åŒ…è£…ï¼ˆzero-cost wrapperï¼‰</span>
<span class="hljs-meta">#[repr(transparent)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">EntityId</span>(<span class="hljs-type">u64</span>);  <span class="hljs-comment">// è¿è¡Œæ—¶ä¸ u64 å®Œå…¨ç›¸åŒ</span>
</code></pre>
<p><strong>å®é™…åº”ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// SIMD åŠ é€Ÿçš„ä½ç½®æ›´æ–°</span>
<span class="hljs-keyword">use</span> std::arch::x86_64::*;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">simd_movement_system</span>(
    positions: &amp;<span class="hljs-keyword">mut</span> [SimdVec4],
    velocities: &amp;[SimdVec4],
    dt: <span class="hljs-type">f32</span>,
) {
    <span class="hljs-keyword">unsafe</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dt_vec</span> = _mm_set1_ps(dt);  <span class="hljs-comment">// å¹¿æ’­ dt åˆ° 4 ä¸ªæµ®ç‚¹æ•°</span>

        <span class="hljs-keyword">for</span> <span class="hljs-variable">i</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..positions.<span class="hljs-title function_ invoke__">len</span>() {
            <span class="hljs-comment">// ä¸€æ¬¡åŠ è½½ 4 ä¸ªæµ®ç‚¹æ•°</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">pos</span> = _mm_load_ps(positions[i].data.<span class="hljs-title function_ invoke__">as_ptr</span>());
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">vel</span> = _mm_load_ps(velocities[i].data.<span class="hljs-title function_ invoke__">as_ptr</span>());

            <span class="hljs-comment">// SIMD è®¡ç®—ï¼špos += vel * dt (ä¸€æ¬¡å¤„ç† 4 ä¸ª)</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">scaled_vel</span> = _mm_mul_ps(vel, dt_vec);
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">new_pos</span> = _mm_add_ps(pos, scaled_vel);

            <span class="hljs-comment">// å­˜å‚¨å›å»</span>
            _mm_store_ps(positions[i].data.<span class="hljs-title function_ invoke__">as_mut_ptr</span>(), new_pos);
        }
    }
}

<span class="hljs-comment">// æ€§èƒ½æå‡ï¼š4 å€åŠ é€Ÿï¼ˆç†è®ºä¸Šï¼‰</span>
</code></pre>
<hr/>
<h4 data-id="heading-50">5. <strong>ç¼–è¯‘æ—¶ç³»ç»Ÿå†²çªæ£€æµ‹</strong></h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Bevy çš„è°ƒåº¦å™¨åœ¨ç¼–è¯‘æ—¶åˆ†æç³»ç»Ÿä¾èµ–</span>

App::<span class="hljs-title function_ invoke__">new</span>()
    .<span class="hljs-title function_ invoke__">add_systems</span>(Update, (
        system_a,  <span class="hljs-comment">// Query&lt;&amp;mut Position&gt;</span>
        system_b,  <span class="hljs-comment">// Query&lt;&amp;Velocity&gt;</span>
        system_c,  <span class="hljs-comment">// Query&lt;&amp;mut Position&gt;</span>
    ))
    .<span class="hljs-title function_ invoke__">run</span>();

<span class="hljs-comment">// Bevy è°ƒåº¦å™¨çš„åˆ†æï¼ˆç¼–è¯‘æ—¶ï¼‰ï¼š</span>
<span class="hljs-comment">// - system_a å’Œ system_c éƒ½å†™ Position â†’ ä¸èƒ½å¹¶è¡Œï¼Œé¡ºåºæ‰§è¡Œ</span>
<span class="hljs-comment">// - system_b è¯» Velocity â†’ å¯ä»¥ä¸ a å’Œ c å¹¶è¡Œ</span>

<span class="hljs-comment">// æ‰§è¡Œè®¡åˆ’ï¼š</span>
<span class="hljs-comment">// å¹¶è¡Œé˜¶æ®µ1: system_a, system_b (åŒæ—¶æ‰§è¡Œ)</span>
<span class="hljs-comment">// å¹¶è¡Œé˜¶æ®µ2: system_c, system_b (åŒæ—¶æ‰§è¡Œï¼Œå¦‚æœ b è¿˜æ²¡ç»“æŸ)</span>

<span class="hljs-comment">// å¦‚æœä½ æ‰‹åŠ¨æŒ‡å®šé¡ºåºï¼š</span>
App::<span class="hljs-title function_ invoke__">new</span>()
    .<span class="hljs-title function_ invoke__">add_systems</span>(Update, (
        system_a.<span class="hljs-title function_ invoke__">before</span>(system_c),  <span class="hljs-comment">// å¼ºåˆ¶ a åœ¨ c ä¹‹å‰</span>
        system_b,
    ))
    .<span class="hljs-title function_ invoke__">run</span>();
</code></pre>
<hr/>
<h4 data-id="heading-51">6. <strong>Trait ç³»ç»Ÿï¼šæŠ½è±¡æ— å¼€é”€</strong></h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Rust çš„ trait åœ¨ç¼–è¯‘æ—¶å•æ€åŒ–ï¼ˆmonomorphizationï¼‰</span>

<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Damageable</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">take_damage</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, amount: <span class="hljs-type">i32</span>);
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Damageable</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Health</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">take_damage</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, amount: <span class="hljs-type">i32</span>) {
        <span class="hljs-keyword">self</span>.current -= amount;
    }
}

<span class="hljs-comment">// æ³›å‹å‡½æ•°</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">apply_damage</span>&lt;T: Damageable&gt;(target: &amp;<span class="hljs-keyword">mut</span> T, amount: <span class="hljs-type">i32</span>) {
    target.<span class="hljs-title function_ invoke__">take_damage</span>(amount);
}

<span class="hljs-comment">// è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨ç”Ÿæˆç‰¹åŒ–ç‰ˆæœ¬ï¼š</span>
<span class="hljs-title function_ invoke__">apply_damage</span>(&amp;<span class="hljs-keyword">mut</span> health, <span class="hljs-number">10</span>);
<span class="hljs-comment">// ç¼–è¯‘ä¸ºï¼šhealth.current -= 10; (ç›´æ¥å†…è”ï¼Œæ— è™šå‡½æ•°è°ƒç”¨)</span>

<span class="hljs-comment">// å¯¹æ¯” C++ è™šå‡½æ•°ï¼ˆè¿è¡Œæ—¶å¤šæ€ï¼‰ï¼š</span>
<span class="hljs-comment">// health-&gt;take_damage(10);  // è™šå‡½æ•°è¡¨æŸ¥æ‰¾ï¼Œæœ‰å¼€é”€</span>
</code></pre>
<hr/>
<h3 data-id="heading-52">5.5 å…¶ä»–å®ç°</h3>
<hr/>
<h3 data-id="heading-53">5.5 å…¶ä»–å®ç°</h3>






























<table><thead><tr><th>å¼•æ“/æ¡†æ¶</th><th>è¯­è¨€</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>EnTT</strong></td><td>C++</td><td>è½»é‡çº§ ECS åº“ï¼Œå¹¿æ³›ç”¨äº C++ é¡¹ç›®</td></tr><tr><td><strong>Flecs</strong></td><td>C/C++</td><td>é«˜æ€§èƒ½ï¼Œæ”¯æŒå…³ç³»å›¾æŸ¥è¯¢</td></tr><tr><td><strong>specs</strong></td><td>Rust</td><td>Bevy ä¹‹å‰çš„æµè¡Œ Rust ECS åº“</td></tr><tr><td><strong>Amethyst</strong></td><td>Rust</td><td>åœæ­¢ç»´æŠ¤ï¼ˆç”¨æˆ·è¿ç§»è‡³ Bevyï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-54">å…­ã€ECS çš„ä¼˜åŠ¿ä¸åŠ£åŠ¿</h2>
<h3 data-id="heading-55">âœ… ä¼˜åŠ¿æ€»ç»“</h3>
<h4 data-id="heading-56">1. <strong>æ€§èƒ½å“è¶Š</strong></h4>
<ul>
<li><strong>æ•°æ®å±€éƒ¨æ€§</strong>ï¼šç»„ä»¶è¿ç»­å­˜å‚¨ï¼Œç¼“å­˜å‘½ä¸­ç‡é«˜</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šä¸€æ¬¡å¤„ç†æ•°åƒä¸ªå®ä½“</li>
<li><strong>SIMD ä¼˜åŒ–</strong>ï¼šå‘é‡åŒ–æŒ‡ä»¤æé€Ÿ 4-8 å€</li>
<li><strong>å®æµ‹</strong>ï¼šUnity DOTS æ¯”ä¼ ç»Ÿ MonoBehaviour å¿« <strong>20-200 å€</strong>ï¼ˆå–å†³äºåœºæ™¯ï¼‰</li>
</ul>
<h4 data-id="heading-57">2. <strong>å¹¶è¡ŒåŒ–å‹å¥½</strong></h4>
<ul>
<li><strong>System é—´æ— å…±äº«çŠ¶æ€</strong>ï¼šå¤©ç„¶æ”¯æŒå¤šçº¿ç¨‹</li>
<li><strong>è‡ªåŠ¨è°ƒåº¦</strong>ï¼šå¼•æ“åˆ†æä¾èµ–ï¼Œè‡ªåŠ¨å¹¶è¡Œæ‰§è¡Œ</li>
<li><strong>å¤šæ ¸åˆ©ç”¨ç‡é«˜</strong>ï¼šå®æµ‹å¯è¾¾ <strong>80-90%</strong>ï¼ˆOOP é€šå¸¸ &lt;30%ï¼‰</li>
</ul>
<h4 data-id="heading-58">3. <strong>é«˜åº¦å¯æ‰©å±•</strong></h4>
<ul>
<li><strong>æ·»åŠ åŠŸèƒ½æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç </strong>ï¼šæ–°å¢ç»„ä»¶/ç³»ç»Ÿå³å¯</li>
<li><strong>çƒ­æ’æ‹”</strong>ï¼šè¿è¡Œæ—¶åŠ¨æ€æ·»åŠ /ç§»é™¤ç»„ä»¶</li>
<li><strong>æ¨¡ç»„å‹å¥½</strong>ï¼šæ¨¡ç»„å¯ä»¥ç‹¬ç«‹æ·»åŠ ç»„ä»¶/ç³»ç»Ÿ</li>
</ul>
<h4 data-id="heading-59">4. <strong>ä»£ç å¤ç”¨æ€§å¼º</strong></h4>
<ul>
<li><strong>ç»„ä»¶å³åè®®</strong>ï¼šä»»ä½•å®ä½“å¯å¤ç”¨åŒä¸€ç»„ä»¶</li>
<li><strong>System è§£è€¦</strong>ï¼šç§»åŠ¨ç³»ç»Ÿå¯ç”¨äºç©å®¶ã€æ€ªç‰©ã€ç®±å­...</li>
<li><strong>é¿å…ä»£ç é‡å¤</strong>ï¼šå‘Šåˆ«å¤åˆ¶ç²˜è´´å¼å¼€å‘</li>
</ul>
<h4 data-id="heading-60">5. <strong>æ˜“äºæµ‹è¯•</strong></h4>
<ul>
<li><strong>çº¯æ•°æ® + çº¯å‡½æ•°</strong>ï¼šå•å…ƒæµ‹è¯•æç®€</li>
<li><strong>ç¡®å®šæ€§</strong>ï¼šç»™å®šè¾“å…¥ä¿è¯ç›¸åŒè¾“å‡º</li>
<li><strong>æ¨¡æ‹Ÿç®€å•</strong>ï¼šåˆ›å»ºæµ‹è¯•æ•°æ®å³å¯</li>
</ul>
<hr/>
<h3 data-id="heading-61">âŒ åŠ£åŠ¿æ€»ç»“</h3>
<h4 data-id="heading-62">1. <strong>å­¦ä¹ æ›²çº¿é™¡å³­</strong></h4>
<ul>
<li><strong>æ€ç»´è½¬å˜</strong>ï¼šä»"å¯¹è±¡æ€ç»´"åˆ°"æ•°æ®æ€ç»´"</li>
<li><strong>æ¦‚å¿µæŠ½è±¡</strong>ï¼šæ–°æ‰‹éš¾ä»¥ç†è§£ Entity åªæ˜¯ ID</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šæ²¡æœ‰"å¯¹è±¡"å¯æŸ¥çœ‹ï¼Œéœ€è¦æ–°å·¥å…·</li>
</ul>
<h4 data-id="heading-63">2. <strong>è¿‡åº¦å·¥ç¨‹é£é™©</strong></h4>
<ul>
<li><strong>å°é¡¹ç›®ä¸é€‚åˆ</strong>ï¼š100 ä¸ªå®ä½“ä»¥ä¸‹ç”¨ OOP æ›´ç®€å•</li>
<li><strong>å¼€å‘æˆæœ¬é«˜</strong>ï¼šæ­å»º ECS æ¡†æ¶éœ€è¦æ—¶é—´</li>
<li><strong>å›¢é˜ŸåŸ¹è®­</strong>ï¼šæ‰€æœ‰æˆå‘˜éœ€è¦å­¦ä¹ æ–°èŒƒå¼</li>
</ul>
<h4 data-id="heading-64">3. <strong>å·¥å…·é“¾æ¬ ç¼º</strong></h4>
<ul>
<li><strong>å¯è§†åŒ–ç¼–è¾‘å™¨å°‘</strong>ï¼šå¤§å¤šæ•° ECS å¼•æ“æ— åœºæ™¯ç¼–è¾‘å™¨</li>
<li><strong>è°ƒè¯•å™¨æ”¯æŒå·®</strong>ï¼šä¼ ç»Ÿè°ƒè¯•å™¨éš¾ä»¥è¿½è¸ªå®ä½“</li>
<li><strong>ç¾æœ¯/ç­–åˆ’ä¸å‹å¥½</strong>ï¼šçº¯ä»£ç é©±åŠ¨ï¼Œéç¨‹åºå‘˜éš¾å‚ä¸</li>
</ul>
<h4 data-id="heading-65">4. <strong>å…³ç³»å¤„ç†å¤æ‚</strong></h4>
<ul>
<li><strong>çˆ¶å­å…³ç³»</strong>ï¼šä¼ ç»Ÿæ ‘ç»“æ„åœ¨ ECS ä¸­éœ€è¦ç‰¹æ®Šè®¾è®¡</li>
<li><strong>å¼•ç”¨å…¶ä»–å®ä½“</strong>ï¼šéœ€è¦å­˜å‚¨ Entity IDï¼Œé—´æ¥è®¿é—®</li>
<li><strong>äº‹ä»¶ç³»ç»Ÿ</strong>ï¼šè·¨å®ä½“é€šä¿¡éœ€è¦é¢å¤–æœºåˆ¶</li>
</ul>
<h4 data-id="heading-66">5. <strong>API ä¸ç¨³å®š</strong></h4>
<ul>
<li><strong>Unity DOTS</strong>ï¼šé¢‘ç¹ Breaking Changes</li>
<li><strong>Bevy</strong>ï¼šçº¦ 3 ä¸ªæœˆä¸€æ¬¡å¤§ç‰ˆæœ¬æ›´æ–°</li>
<li><strong>è¿ç§»æˆæœ¬é«˜</strong>ï¼šè€é¡¹ç›®å‡çº§å›°éš¾</li>
</ul>
<hr/>
<h2 data-id="heading-67">ä¸ƒã€å¸¸è§é™·é˜±ä¸è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-68">7.1 ç»„ä»¶è®¾è®¡é™·é˜±</h3>
<h4 data-id="heading-69">âŒ é™·é˜± 1ï¼šç»„ä»¶åŒ…å«è¿‡å¤šæ•°æ®ï¼ˆä¸Šå¸ç»„ä»¶ï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¸€ä¸ªç»„ä»¶åŒ…å«å¤ªå¤šä¸œè¥¿</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Character</span> {
    position: Vec3,
    velocity: Vec3,
    health: <span class="hljs-type">i32</span>,
    inventory: <span class="hljs-type">Vec</span>&lt;Item&gt;,
    stats: Stats,
    animation: AnimationState,
    <span class="hljs-comment">// ... 20 ä¸ªå­—æ®µ</span>
}

<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// 1. ç ´åäº† ECS çš„ç¼“å­˜å‹å¥½æ€§</span>
<span class="hljs-comment">// 2. ç§»åŠ¨ç³»ç»Ÿéœ€è¦åŠ è½½æ•´ä¸ª Characterï¼ˆæµªè´¹ç¼“å­˜ï¼‰</span>
<span class="hljs-comment">// 3. æ— æ³•çµæ´»ç»„åˆ</span>
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•</strong>ï¼šæ‹†åˆ†ä¸ºå°ç»„ä»¶</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Transform</span> { position: Vec3, rotation: Quat }

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Velocity</span>(Vec3);

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Health</span> { current: <span class="hljs-type">i32</span>, max: <span class="hljs-type">i32</span> }

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Inventory</span> { items: <span class="hljs-type">Vec</span>&lt;Item&gt; }

<span class="hljs-comment">// æ¯ä¸ªç³»ç»ŸåªåŠ è½½éœ€è¦çš„ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">movement_system</span>(query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Transform, &amp;Velocity)&gt;) {
    <span class="hljs-comment">// åªåŠ è½½ Transform å’Œ Velocityï¼Œç¼“å­˜é«˜æ•ˆï¼</span>
}
</code></pre>
<hr/>
<h4 data-id="heading-70">âŒ é™·é˜± 2ï¼šç»„ä»¶ä¸­åŒ…å«é€»è¾‘</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šç»„ä»¶æœ‰æ–¹æ³•</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Player</span> {
    health: <span class="hljs-type">i32</span>,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Player</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">take_damage</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>, amount: <span class="hljs-type">i32</span>) {  <span class="hljs-comment">// âŒ è¿å ECS åŸåˆ™</span>
        <span class="hljs-keyword">self</span>.health -= amount;
    }
}
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•</strong>ï¼šé€»è¾‘æ”¾åœ¨ System ä¸­</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Health</span> {
    current: <span class="hljs-type">i32</span>,
    max: <span class="hljs-type">i32</span>,
}

<span class="hljs-comment">// é€»è¾‘åœ¨ç³»ç»Ÿä¸­</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">damage_system</span>(
    <span class="hljs-keyword">mut</span> events: EventReader&lt;DamageEvent&gt;,
    <span class="hljs-keyword">mut</span> query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Health&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">event</span> <span class="hljs-keyword">in</span> events.<span class="hljs-title function_ invoke__">read</span>() {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(<span class="hljs-keyword">mut</span> health) = query.<span class="hljs-title function_ invoke__">get_mut</span>(event.target) {
            health.current -= event.amount;
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-71">âŒ é™·é˜± 3ï¼šè¿‡åº¦æ‹†åˆ†ç»„ä»¶</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ‹†åˆ†è¿‡ç»†</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PositionX</span>(<span class="hljs-type">f32</span>);

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PositionY</span>(<span class="hljs-type">f32</span>);

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PositionZ</span>(<span class="hljs-type">f32</span>);

<span class="hljs-comment">// é—®é¢˜ï¼š</span>
<span class="hljs-comment">// 1. Query å˜å¤æ‚</span>
<span class="hljs-comment">// 2. ä¸‰æ¬¡å†…å­˜è®¿é—®</span>
<span class="hljs-comment">// 3. Archetype çˆ†ç‚¸</span>
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•</strong>ï¼šåˆç†ç²’åº¦</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span>(Vec3);  <span class="hljs-comment">// ç»å¸¸ä¸€èµ·ä½¿ç”¨çš„æ•°æ®æ”¾ä¸€èµ·</span>
</code></pre>
<hr/>
<h3 data-id="heading-72">7.2 System è®¾è®¡é™·é˜±</h3>
<h4 data-id="heading-73">âŒ é™·é˜± 4ï¼šé¢‘ç¹çš„ Archetype è¿ç§»</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šé¢‘ç¹æ·»åŠ /ç§»é™¤ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">bad_system</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;Entity, With&lt;Player&gt;&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">entity</span> <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-comment">// æ¯å¸§éƒ½æ·»åŠ /ç§»é™¤ - å¯¼è‡´ Archetype è¿ç§»ï¼</span>
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).remove::&lt;Frozen&gt;();
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">insert</span>(Moving);
    }
}
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•</strong>ï¼šä½¿ç”¨æšä¸¾æˆ–æ ‡å¿—ä½</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Component, Clone, Copy)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">MovementState</span> {
    Idle,
    Moving,
    Frozen,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">good_system</span>(<span class="hljs-keyword">mut</span> query: Query&lt;&amp;<span class="hljs-keyword">mut</span> MovementState&gt;) {
    <span class="hljs-keyword">for</span> <span class="hljs-title class_">mut</span> state <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        *state = MovementState::Moving;  <span class="hljs-comment">// ä¿®æ”¹æ•°æ®ï¼Œä¸æ”¹å˜ Archetype</span>
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-74">âŒ é™·é˜± 5ï¼šä½¿ç”¨ Commands åç«‹å³æŸ¥è¯¢</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šCommands æ˜¯å»¶è¿Ÿæ‰§è¡Œçš„</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">buggy_spawn</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;Entity, With&lt;Player&gt;&gt;,
) {
    commands.<span class="hljs-title function_ invoke__">spawn</span>((Player, Transform::<span class="hljs-title function_ invoke__">default</span>()));

    <span class="hljs-comment">// âŒ æŸ¥è¯¢ä¸åˆ°åˆšåˆ›å»ºçš„å®ä½“ï¼</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Count: {}"</span>, query.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">count</span>());
}
</code></pre>
<p><strong>âœ… æ­£ç¡®åšæ³•</strong>ï¼šåˆ†ä¸¤å¸§æˆ–ä½¿ç”¨ exclusive system</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_system</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    commands.<span class="hljs-title function_ invoke__">spawn</span>((Player, Transform::<span class="hljs-title function_ invoke__">default</span>()));
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">count_system</span>(query: Query&lt;Entity, With&lt;Player&gt;&gt;) {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Count: {}"</span>, query.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">count</span>());  <span class="hljs-comment">// ä¸‹ä¸€å¸§ç”Ÿæ•ˆ</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-75">7.3 è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-76">è°ƒè¯•æŠ€å·§ 1ï¼šå®ä½“æ£€æŸ¥å™¨</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ‰“å°æ‰€æœ‰å®ä½“åŠå…¶ç»„ä»¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">debug_entities</span>(
    query: Query&lt;(Entity, &amp;Transform, <span class="hljs-type">Option</span>&lt;&amp;Velocity&gt;)&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (entity, transform, velocity) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-built_in">println!</span>(
            <span class="hljs-string">"Entity {:?}: pos={:?}, vel={:?}"</span>,
            entity, transform.translation, velocity
        );
    }
}
</code></pre>
<h4 data-id="heading-77">è°ƒè¯•æŠ€å·§ 2ï¼šä½¿ç”¨ bevy-inspector-egui</h4>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-comment"># Cargo.toml</span>
<span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">bevy</span> = <span class="hljs-string">"0.19"</span>
<span class="hljs-attr">bevy-inspector-egui</span> = <span class="hljs-string">"0.29"</span>
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> bevy_inspector_egui::quick::WorldInspectorPlugin;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    App::<span class="hljs-title function_ invoke__">new</span>()
        .<span class="hljs-title function_ invoke__">add_plugins</span>(DefaultPlugins)
        .<span class="hljs-title function_ invoke__">add_plugins</span>(WorldInspectorPlugin::<span class="hljs-title function_ invoke__">new</span>())  <span class="hljs-comment">// å¯è§†åŒ–è°ƒè¯•å™¨</span>
        .<span class="hljs-title function_ invoke__">run</span>();
}
</code></pre>
<h4 data-id="heading-78">è°ƒè¯•æŠ€å·§ 3ï¼šæ€§èƒ½åˆ†æ</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> bevy::diagnostic::{FrameTimeDiagnosticsPlugin, LogDiagnosticsPlugin};

App::<span class="hljs-title function_ invoke__">new</span>()
    .<span class="hljs-title function_ invoke__">add_plugins</span>(DefaultPlugins)
    .<span class="hljs-title function_ invoke__">add_plugins</span>(FrameTimeDiagnosticsPlugin)
    .<span class="hljs-title function_ invoke__">add_plugins</span>(LogDiagnosticsPlugin::<span class="hljs-title function_ invoke__">default</span>())
    .<span class="hljs-title function_ invoke__">run</span>();
</code></pre>
<hr/>
<h2 data-id="heading-79">å…«ã€ä½•æ—¶ä½¿ç”¨ ECSï¼Ÿ</h2>
<h3 data-id="heading-80">âœ… é€‚åˆä½¿ç”¨ ECS çš„åœºæ™¯</h3>
<h4 data-id="heading-81">1. <strong>å¤§è§„æ¨¡å®ä½“å¤„ç†</strong></h4>
<ul>
<li><strong>RTS æ¸¸æˆ</strong>ï¼šæˆç™¾ä¸Šåƒçš„å•ä½ï¼ˆå¦‚ã€Šå¸å›½æ—¶ä»£ã€‹ï¼‰</li>
<li><strong>æ¨¡æ‹Ÿæ¸¸æˆ</strong>ï¼šæ•°ä¸‡ NPCï¼ˆå¦‚ã€ŠåŸå¸‚ï¼šå¤©é™…çº¿ã€‹ï¼‰</li>
<li><strong>ç²’å­ç³»ç»Ÿ</strong>ï¼šç™¾ä¸‡çº§ç²’å­ï¼ˆå¦‚ã€Šæ— äººæ·±ç©ºã€‹ï¼‰</li>
</ul>
<h4 data-id="heading-82">2. <strong>æ€§èƒ½å…³é”®é¡¹ç›®</strong></h4>
<ul>
<li><strong>ç§»åŠ¨ç«¯æ¸¸æˆ</strong>ï¼šCPU/å†…å­˜å—é™</li>
<li><strong>VR æ¸¸æˆ</strong>ï¼šéœ€è¦ç¨³å®š 90+ FPS</li>
<li><strong>ç‰©ç†å¯†é›†å‹</strong>ï¼šå¤§é‡åˆšä½“ç¢°æ’</li>
</ul>
<h4 data-id="heading-83">3. <strong>é«˜åº¦åŠ¨æ€å†…å®¹</strong></h4>
<ul>
<li><strong>æ²™ç›’æ¸¸æˆ</strong>ï¼šç©å®¶å¯åˆ›å»ºä»»æ„ç»„åˆçš„å®ä½“</li>
<li><strong>æ¨¡ç»„ç¤¾åŒº</strong>ï¼šéœ€è¦ç¬¬ä¸‰æ–¹æ‰©å±•åŠŸèƒ½</li>
<li><strong>ç¨‹åºç”Ÿæˆ</strong>ï¼šè¿è¡Œæ—¶åˆ›å»ºå¤§é‡å˜ä½“</li>
</ul>
<h4 data-id="heading-84">4. <strong>å›¢é˜ŸæŠ€æœ¯å®åŠ›å¼º</strong></h4>
<ul>
<li>ç¨‹åºå‘˜ç†Ÿæ‚‰æ•°æ®å¯¼å‘è®¾è®¡</li>
<li>æœ‰æ—¶é—´æŠ•å…¥å­¦ä¹ å’Œæ­å»ºåŸºç¡€è®¾æ–½</li>
</ul>
<hr/>
<h3 data-id="heading-85">âŒ ä¸é€‚åˆä½¿ç”¨ ECS çš„åœºæ™¯</h3>
<h4 data-id="heading-86">1. <strong>å°å‹é¡¹ç›®</strong></h4>
<ul>
<li><strong>åŸå‹å¼€å‘</strong>ï¼šå¿«é€ŸéªŒè¯ç©æ³•ï¼ŒOOP æ›´é«˜æ•ˆ</li>
<li><strong>Game Jam</strong>ï¼š48 å°æ—¶å¼€å‘ï¼ŒECS å¤ªé‡</li>
<li><strong>ä¼‘é—²æ¸¸æˆ</strong>ï¼š100 ä¸ªä»¥ä¸‹å®ä½“ï¼Œæ€§èƒ½éç“¶é¢ˆ</li>
</ul>
<h4 data-id="heading-87">2. <strong>å›¢é˜Ÿåä½œé¡¹ç›®</strong></h4>
<ul>
<li><strong>ç¾æœ¯/ç­–åˆ’ä¸»å¯¼</strong>ï¼šéœ€è¦å¯è§†åŒ–å·¥å…·</li>
<li><strong>éç¨‹åºå‘˜å‚ä¸</strong>ï¼šOOP æ›´ç›´è§‚</li>
<li><strong>ç´§æ€¥å•†ä¸šé¡¹ç›®</strong>ï¼šé£é™©é«˜ï¼Œç¨³å®šæ€§ä¼˜å…ˆ</li>
</ul>
<h4 data-id="heading-88">3. <strong>å‰§æƒ…é©±åŠ¨æ¸¸æˆ</strong></h4>
<ul>
<li><strong>AVG/VN</strong>ï¼šå¯¹è±¡å°‘ï¼Œé‡å‰§æœ¬è€Œéæ€§èƒ½</li>
<li><strong>è§£è°œæ¸¸æˆ</strong>ï¼šå…³å¡è®¾è®¡ä¼˜å…ˆ</li>
<li><strong>çº¿æ€§æµç¨‹</strong>ï¼šä¸éœ€è¦å¤§è§„æ¨¡å®ä½“ç®¡ç†</li>
</ul>
<h4 data-id="heading-89">4. <strong>é—ç•™é¡¹ç›®è¿ç§»</strong></h4>
<ul>
<li><strong>å·²æœ‰å¤§é‡ OOP ä»£ç </strong>ï¼šé‡æ„æˆæœ¬æé«˜</li>
<li><strong>å¼•æ“é™åˆ¶</strong>ï¼šå¦‚ Godot ç›®å‰æ— åŸç”Ÿ ECS</li>
</ul>
<hr/>
<h2 data-id="heading-90">å…«ã€ECS æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-91">8.1 ç»„ä»¶è®¾è®¡åŸåˆ™</h3>
<h4 data-id="heading-92">âœ… DOï¼šç»„ä»¶åº”è¯¥å°è€Œä¸“æ³¨</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å¥½çš„è®¾è®¡ï¼šç»„ä»¶å°è€Œä¸“æ³¨</span>
<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span>(Vec3);

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Velocity</span>(Vec3);

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Health</span> {
    current: <span class="hljs-type">f32</span>,
    max: <span class="hljs-type">f32</span>,
}
</code></pre>
<h4 data-id="heading-93">âŒ DON'Tï¼šç»„ä»¶ä¸åº”è¯¥åŒ…å«é€»è¾‘</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ ç³Ÿç³•çš„è®¾è®¡ï¼šè¿åäº† ECS åŸåˆ™</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Character</span> {
    position: Vec3,
    velocity: Vec3,
    health: <span class="hljs-type">f32</span>,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Character</span> {
    <span class="hljs-comment">// âŒ ç»„ä»¶ä¸åº”è¯¥æœ‰æ–¹æ³•ï¼é€»è¾‘åº”è¯¥åœ¨ System ä¸­</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">update</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
        <span class="hljs-comment">// è¿™ç ´åäº†æ•°æ®ä¸é€»è¾‘åˆ†ç¦»çš„åŸåˆ™</span>
        <span class="hljs-keyword">self</span>.position.x += <span class="hljs-keyword">self</span>.velocity.x;
        <span class="hljs-keyword">self</span>.position.y += <span class="hljs-keyword">self</span>.velocity.y;
        <span class="hljs-keyword">self</span>.position.z += <span class="hljs-keyword">self</span>.velocity.z;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-94">8.2 é¿å…è¿‡åº¦æ‹†åˆ†</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ è¿‡åº¦æ‹†åˆ†ï¼šæ¯ä¸ªå­—æ®µéƒ½æ˜¯ç»„ä»¶</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PositionX</span>(<span class="hljs-type">f32</span>);
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PositionY</span>(<span class="hljs-type">f32</span>);
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PositionZ</span>(<span class="hljs-type">f32</span>);

<span class="hljs-comment">// âœ… åˆç†ç²’åº¦</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span> {
    x: <span class="hljs-type">f32</span>,
    y: <span class="hljs-type">f32</span>,
    z: <span class="hljs-type">f32</span>,
}
</code></pre>
<p><strong>åŸåˆ™</strong>ï¼šç»å¸¸ä¸€èµ·è®¿é—®çš„æ•°æ®åº”è¯¥æ”¾åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­</p>
<hr/>
<h3 data-id="heading-95">8.3 ä½¿ç”¨æ ‡è®°ç»„ä»¶ï¼ˆTag Componentï¼‰</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ ‡è®°ç»„ä»¶ï¼šç©ºç»“æ„ä½“ï¼Œä»…ç”¨äºæ ‡è¯†</span>
<span class="hljs-comment">// æ²¡æœ‰ä»»ä½•å­—æ®µï¼Œåªç”¨äºæ ‡è®°å®ä½“çš„ç±»å‹</span>
<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Player</span>;

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Enemy</span>;

<span class="hljs-comment">// æŸ¥è¯¢æ‰€æœ‰æ•Œäººçš„ä½ç½®</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">enemy_ai_system</span>(query: Query&lt;&amp;Position, With&lt;Enemy&gt;&gt;) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">pos</span> <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-comment">// åªå¤„ç†æ•Œäºº</span>
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-96">8.4 äº‹ä»¶é€šä¿¡</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä½¿ç”¨äº‹ä»¶ç³»ç»Ÿè€Œéç›´æ¥ä¿®æ”¹å…¶ä»–å®ä½“</span>
<span class="hljs-comment">// #[derive(Event)] è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªäº‹ä»¶ç±»å‹</span>
<span class="hljs-meta">#[derive(Event, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">DamageEvent</span> {
    target: Entity,
    amount: <span class="hljs-type">f32</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">damage_dealer_system</span>(<span class="hljs-keyword">mut</span> events: EventWriter&lt;DamageEvent&gt;) {
    events.<span class="hljs-title function_ invoke__">send</span>(DamageEvent {
        target: some_entity,
        amount: <span class="hljs-number">10.0</span>,
    });
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">damage_receiver_system</span>(
    <span class="hljs-keyword">mut</span> events: EventReader&lt;DamageEvent&gt;,
    <span class="hljs-keyword">mut</span> query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Health&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">event</span> <span class="hljs-keyword">in</span> events.<span class="hljs-title function_ invoke__">read</span>() {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(<span class="hljs-keyword">mut</span> health) = query.<span class="hljs-title function_ invoke__">get_mut</span>(event.target) {
            health.current -= event.amount;
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-97">8.5 ECS è®¾è®¡æ¨¡å¼</h3>
<h4 data-id="heading-98">æ¨¡å¼ 1ï¼šæ ‡è®°ç»„ä»¶ï¼ˆMarker Componentï¼‰</h4>
<p>ç”¨ç©ºç»„ä»¶æ ‡è¯†å®ä½“ç±»å‹æˆ–çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç±»å‹æ ‡è®°</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Player</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Enemy</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">NPC</span>;

<span class="hljs-comment">// çŠ¶æ€æ ‡è®°</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Dead</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Frozen</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Invincible</span>;

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">player_input_system</span>(
    query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Velocity, With&lt;Player&gt;&gt;,  <span class="hljs-comment">// åªæŸ¥è¯¢ç©å®¶</span>
) {
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">damage_system</span>(
    query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Health, (With&lt;Enemy&gt;, Without&lt;Invincible&gt;)&gt;,
) {
    <span class="hljs-comment">// åªä¼¤å®³æ•Œäººï¼Œä¸”ä¸èƒ½æ— æ•Œ</span>
}
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é›¶å†…å­˜å¼€é”€ï¼ˆæ ‡è®°ç»„ä»¶å¤§å°ä¸º 0ï¼‰</li>
<li>ç±»å‹å®‰å…¨çš„è¿‡æ»¤</li>
<li>æ¯”å­—ç¬¦ä¸²æˆ–æšä¸¾æ›´é«˜æ•ˆ</li>
</ul>
<hr/>
<h4 data-id="heading-99">æ¨¡å¼ 2ï¼šçŠ¶æ€ç»„ä»¶ï¼ˆState Componentï¼‰</h4>
<p>ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€æœºï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">AIState</span> {
    Idle,
    Patrol { waypoint_index: <span class="hljs-type">usize</span> },
    Chase { target: Entity },
    Attack { target: Entity, cooldown: <span class="hljs-type">f32</span> },
    Flee { from: Entity },
}

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">CharacterState</span> {
    Grounded,
    Jumping { velocity: <span class="hljs-type">f32</span> },
    Falling { velocity: <span class="hljs-type">f32</span> },
    Dashing { direction: Vec2, duration: <span class="hljs-type">f32</span> },
}

<span class="hljs-comment">// AI ç³»ç»Ÿæ ¹æ®çŠ¶æ€æ‰§è¡Œä¸åŒé€»è¾‘</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">ai_system</span>(
    <span class="hljs-keyword">mut</span> query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> AIState, &amp;Transform, &amp;<span class="hljs-keyword">mut</span> Velocity)&gt;,
    targets: Query&lt;&amp;Transform, With&lt;Player&gt;&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> ai_state, transform, <span class="hljs-keyword">mut</span> velocity) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        <span class="hljs-keyword">match</span> *ai_state {
            AIState::Idle =&gt; {
                <span class="hljs-comment">// ç©ºé—²é€»è¾‘</span>
                *ai_state = AIState::Patrol { waypoint_index: <span class="hljs-number">0</span> };
            }
            AIState::Patrol { waypoint_index } =&gt; {
                <span class="hljs-comment">// å·¡é€»é€»è¾‘</span>
                <span class="hljs-keyword">if</span> <span class="hljs-title function_ invoke__">see_player</span>() {
                    *ai_state = AIState::Chase { target: player_entity };
                }
            }
            AIState::Chase { target } =&gt; {
                <span class="hljs-comment">// è¿½å‡»é€»è¾‘</span>
                <span class="hljs-keyword">if</span> <span class="hljs-title function_ invoke__">in_attack_range</span>() {
                    *ai_state = AIState::Attack {
                        target,
                        cooldown: <span class="hljs-number">1.0</span>,
                    };
                }
            }
            AIState::Attack { target, <span class="hljs-keyword">mut</span> cooldown } =&gt; {
                cooldown -= time.<span class="hljs-title function_ invoke__">delta_seconds</span>();
                <span class="hljs-keyword">if</span> cooldown &lt;= <span class="hljs-number">0.0</span> {
                    <span class="hljs-comment">// æ‰§è¡Œæ”»å‡»</span>
                    *ai_state = AIState::Chase { target };
                }
            }
            AIState::Flee { from } =&gt; {
                <span class="hljs-comment">// é€ƒè·‘é€»è¾‘</span>
            }
        }
    }
}
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>çŠ¶æ€è½¬æ¢æ¸…æ™°</li>
<li>ç¼–è¯‘æ—¶æ£€æŸ¥çŠ¶æ€æœ‰æ•ˆæ€§</li>
<li>é¿å…å¸ƒå°”æ ‡å¿—çš„ç»„åˆçˆ†ç‚¸</li>
</ul>
<hr/>
<h4 data-id="heading-100">æ¨¡å¼ 3ï¼šå•ä¾‹ç»„ä»¶ï¼ˆSingleton Componentï¼‰</h4>
<p>å…¨å±€å”¯ä¸€çš„ç»„ä»¶ï¼ˆé€šå¸¸ç”¨ Resourceï¼‰ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ–¹æ¡ˆ1ï¼šä½¿ç”¨ Resourceï¼ˆæ¨èï¼‰</span>
<span class="hljs-meta">#[derive(Resource)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">GameState</span> {
    score: <span class="hljs-type">u32</span>,
    level: <span class="hljs-type">u32</span>,
    paused: <span class="hljs-type">bool</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">update_score</span>(<span class="hljs-keyword">mut</span> game_state: ResMut&lt;GameState&gt;) {
    game_state.score += <span class="hljs-number">10</span>;
}

<span class="hljs-comment">// æ–¹æ¡ˆ2ï¼šå•ä¸ªå®ä½“ + ç»„ä»¶ï¼ˆä¸æ¨èï¼Œä½†æœ‰æ—¶æœ‰ç”¨ï¼‰</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">LevelManager</span> {
    current_level: <span class="hljs-type">u32</span>,
    total_enemies: <span class="hljs-type">u32</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">setup</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    commands.<span class="hljs-title function_ invoke__">spawn</span>(LevelManager {
        current_level: <span class="hljs-number">1</span>,
        total_enemies: <span class="hljs-number">0</span>,
    });
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">use_singleton</span>(query: Query&lt;&amp;LevelManager&gt;) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">manager</span> = query.<span class="hljs-title function_ invoke__">single</span>();  <span class="hljs-comment">// ä¿è¯åªæœ‰ä¸€ä¸ª</span>
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Level: {}"</span>, manager.current_level);
}
</code></pre>
<hr/>
<h4 data-id="heading-101">æ¨¡å¼ 4ï¼šå±‚æ¬¡ç»“æ„ï¼ˆParent-Childrenï¼‰</h4>
<p>å¤„ç†å®ä½“ä¹‹é—´çš„çˆ¶å­å…³ç³»ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> bevy::hierarchy::*;

<span class="hljs-comment">// Bevy å†…ç½®çš„å±‚æ¬¡ç»“æ„æ”¯æŒ</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_spaceship</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    <span class="hljs-comment">// çˆ¶å®ä½“ï¼ˆé£èˆ¹ï¼‰</span>
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Transform::<span class="hljs-title function_ invoke__">default</span>(),
        Ship,
    )).<span class="hljs-title function_ invoke__">with_children</span>(|parent| {
        <span class="hljs-comment">// å­å®ä½“ï¼ˆå¼•æ“ï¼‰</span>
        parent.<span class="hljs-title function_ invoke__">spawn</span>((
            Transform::<span class="hljs-title function_ invoke__">from_xyz</span>(<span class="hljs-number">0.0</span>, -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>),
            Engine,
        ));

        <span class="hljs-comment">// å­å®ä½“ï¼ˆæ­¦å™¨ï¼‰</span>
        parent.<span class="hljs-title function_ invoke__">spawn</span>((
            Transform::<span class="hljs-title function_ invoke__">from_xyz</span>(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>),
            Weapon,
        ));
    });
}

<span class="hljs-comment">// æŸ¥è¯¢å±‚æ¬¡ç»“æ„</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">update_children</span>(
    query: Query&lt;(&amp;Transform, &amp;Children)&gt;,
    child_query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Transform&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (parent_transform, children) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-keyword">for</span> <span class="hljs-variable">child</span> <span class="hljs-keyword">in</span> children.<span class="hljs-title function_ invoke__">iter</span>() {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(<span class="hljs-keyword">mut</span> child_transform) = child_query.<span class="hljs-title function_ invoke__">get_mut</span>(*child) {
                <span class="hljs-comment">// å­å®ä½“è·Ÿéšçˆ¶å®ä½“ç§»åŠ¨</span>
                child_transform.translation += parent_transform.translation;
            }
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-102">æ¨¡å¼ 5ï¼šèƒ½åŠ›ç»„ä»¶ï¼ˆCapability Componentï¼‰</h4>
<p>æ¨¡å—åŒ–çš„èƒ½åŠ›ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// èƒ½åŠ›ç»„ä»¶</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">CanJump</span> {
    force: <span class="hljs-type">f32</span>,
    max_jumps: <span class="hljs-type">u32</span>,
    current_jumps: <span class="hljs-type">u32</span>,
}

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">CanDash</span> {
    speed: <span class="hljs-type">f32</span>,
    cooldown: <span class="hljs-type">f32</span>,
    current_cooldown: <span class="hljs-type">f32</span>,
}

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">CanFly</span> {
    lift_force: <span class="hljs-type">f32</span>,
}

<span class="hljs-comment">// ä¸åŒå®ä½“æ‹¥æœ‰ä¸åŒèƒ½åŠ›</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_player</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Transform::<span class="hljs-title function_ invoke__">default</span>(),
        Player,
        CanJump { force: <span class="hljs-number">500.0</span>, max_jumps: <span class="hljs-number">2</span>, current_jumps: <span class="hljs-number">0</span> },
        CanDash { speed: <span class="hljs-number">1000.0</span>, cooldown: <span class="hljs-number">1.0</span>, current_cooldown: <span class="hljs-number">0.0</span> },
    ));
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_bird</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Transform::<span class="hljs-title function_ invoke__">default</span>(),
        Bird,
        CanFly { lift_force: <span class="hljs-number">100.0</span> },
    ));
}

<span class="hljs-comment">// é€šç”¨çš„è·³è·ƒç³»ç»Ÿï¼ˆé€‚ç”¨äºæ‰€æœ‰èƒ½è·³çš„å®ä½“ï¼‰</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">jump_system</span>(
    keyboard: Res&lt;ButtonInput&lt;KeyCode&gt;&gt;,
    <span class="hljs-keyword">mut</span> query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Velocity, &amp;<span class="hljs-keyword">mut</span> CanJump)&gt;,
) {
    <span class="hljs-keyword">if</span> keyboard.<span class="hljs-title function_ invoke__">just_pressed</span>(KeyCode::Space) {
        <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> velocity, <span class="hljs-keyword">mut</span> jump) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
            <span class="hljs-keyword">if</span> jump.current_jumps &lt; jump.max_jumps {
                velocity.<span class="hljs-number">0</span>.y = jump.force;
                jump.current_jumps += <span class="hljs-number">1</span>;
            }
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-103">æ¨¡å¼ 6ï¼šChanged è¿‡æ»¤å™¨ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</h4>
<p>åªå¤„ç†å˜åŒ–çš„ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// åªåœ¨ä½ç½®æ”¹å˜æ—¶æ›´æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">render_system</span>(
    query: Query&lt;(&amp;Transform, &amp;Sprite), Changed&lt;Transform&gt;&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (transform, sprite) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-comment">// åªæœ‰ Transform æ”¹å˜çš„å®ä½“ä¼šè¢«å¤„ç†</span>
        <span class="hljs-title function_ invoke__">update_sprite_position</span>(sprite, transform);
    }
}

<span class="hljs-comment">// åªåœ¨ç”Ÿå‘½å€¼æ”¹å˜æ—¶æ›´æ–° UI</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">health_ui_system</span>(
    query: Query&lt;&amp;Health, Changed&lt;Health&gt;&gt;,
    <span class="hljs-keyword">mut</span> text_query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Text&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">health</span> <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(<span class="hljs-keyword">mut</span> text) = text_query.<span class="hljs-title function_ invoke__">get_single_mut</span>() {
            text.<span class="hljs-number">0</span> = <span class="hljs-built_in">format!</span>(<span class="hljs-string">"HP: {}/{}"</span>, health.current, health.max);
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-104">æ¨¡å¼ 7ï¼šæ‰¹é‡æ“ä½œï¼ˆBatch Operationsï¼‰</h4>
<p>ä¸€æ¬¡æ€§å¤„ç†å¤šä¸ªå®ä½“ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ‰¹é‡ç”Ÿæˆæ•Œäºº</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">spawn_wave</span>(<span class="hljs-keyword">mut</span> commands: Commands) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">enemies</span>: <span class="hljs-type">Vec</span>&lt;_&gt; = (<span class="hljs-number">0</span>..<span class="hljs-number">100</span>)
        .<span class="hljs-title function_ invoke__">map</span>(|i| {
            (
                Transform::<span class="hljs-title function_ invoke__">from_xyz</span>(i <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * <span class="hljs-number">10.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">0.0</span>),
                <span class="hljs-title function_ invoke__">Velocity</span>(Vec2::<span class="hljs-title function_ invoke__">new</span>(-<span class="hljs-number">50.0</span>, <span class="hljs-number">0.0</span>)),
                Health { current: <span class="hljs-number">50</span>, max: <span class="hljs-number">50</span> },
                Enemy,
            )
        })
        .<span class="hljs-title function_ invoke__">collect</span>();

    <span class="hljs-comment">// æ‰¹é‡ spawn</span>
    commands.<span class="hljs-title function_ invoke__">spawn_batch</span>(enemies);
}

<span class="hljs-comment">// æ‰¹é‡é”€æ¯</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">cleanup_dead</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;Entity, With&lt;Dead&gt;&gt;,
) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dead_entities</span>: <span class="hljs-type">Vec</span>&lt;Entity&gt; = query.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">collect</span>();

    <span class="hljs-keyword">for</span> <span class="hljs-variable">entity</span> <span class="hljs-keyword">in</span> dead_entities {
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">despawn_recursive</span>();
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-105">8.6 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-106">ä¼˜åŒ– 1ï¼šå‡å°‘ Archetype è¿ç§»</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ é¢‘ç¹è¿ç§»</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">bad_freeze_system</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    query: Query&lt;Entity, With&lt;Player&gt;&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-variable">entity</span> <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter</span>() {
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).<span class="hljs-title function_ invoke__">insert</span>(Frozen);  <span class="hljs-comment">// æ¯å¸§éƒ½è¿ç§»</span>
        commands.<span class="hljs-title function_ invoke__">entity</span>(entity).remove::&lt;Frozen&gt;();
    }
}

<span class="hljs-comment">// âœ… ä½¿ç”¨çŠ¶æ€æšä¸¾</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">MovementState</span> {
    Normal,
    Frozen,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">good_freeze_system</span>(
    <span class="hljs-keyword">mut</span> query: Query&lt;&amp;<span class="hljs-keyword">mut</span> MovementState&gt;,
) {
    <span class="hljs-keyword">for</span> <span class="hljs-title class_">mut</span> state <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        *state = MovementState::Frozen;  <span class="hljs-comment">// ä¸è¿ç§» Archetype</span>
    }
}
</code></pre>
<h4 data-id="heading-107">ä¼˜åŒ– 2ï¼šä½¿ç”¨ ParallelIterator</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> bevy::tasks::ParallelIterator;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">parallel_system</span>(
    query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Transform&gt;,
) {
    <span class="hljs-comment">// è‡ªåŠ¨å¹¶è¡Œè¿­ä»£ï¼ˆéœ€è¦ bevy çš„ parallel featureï¼‰</span>
    query.<span class="hljs-title function_ invoke__">par_iter_mut</span>().<span class="hljs-title function_ invoke__">for_each</span>(|<span class="hljs-keyword">mut</span> transform| {
        <span class="hljs-comment">// å¤æ‚è®¡ç®—</span>
        transform.translation.x += <span class="hljs-title function_ invoke__">expensive_calculation</span>();
    });
}
</code></pre>
<h4 data-id="heading-108">ä¼˜åŒ– 3ï¼šåˆç†è®¾è®¡ç»„ä»¶å¤§å°</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// âŒ ç»„ä»¶å¤ªå¤§</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">BadComponent</span> {
    data: <span class="hljs-type">Vec</span>&lt;<span class="hljs-type">u8</span>&gt;,  <span class="hljs-comment">// åŠ¨æ€åˆ†é…ï¼Œç ´åç¼“å­˜å±€éƒ¨æ€§</span>
    big_array: [<span class="hljs-type">f32</span>; <span class="hljs-number">1000</span>],  <span class="hljs-comment">// 4KBï¼Œæµªè´¹ç¼“å­˜</span>
}

<span class="hljs-comment">// âœ… ç»„ä»¶å°è€Œç²¾</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span>(Vec3);  <span class="hljs-comment">// 12 å­—èŠ‚</span>

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">DataRef</span> {
    handle: Handle&lt;Data&gt;,  <span class="hljs-comment">// åªå­˜å¼•ç”¨ï¼Œå®é™…æ•°æ®åœ¨ AssetServer</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-109">ä¹ã€å®Œæ•´å®æˆ˜ç¤ºä¾‹ï¼šç”¨ Bevy æ„å»ºç®€å•å¼¹çƒæ¸¸æˆ</h2>
<h3 data-id="heading-110">9.1 é¡¹ç›®æ¦‚è¿°</h3>
<p>æˆ‘ä»¬å°†ç”¨ Bevy ECS æ„å»ºä¸€ä¸ªç®€å•çš„å¼¹çƒæ¸¸æˆï¼ŒåŒ…å«ï¼š</p>
<ul>
<li>âœ… ç©å®¶æ§åˆ¶çš„æŒ¡æ¿</li>
<li>âœ… è‡ªåŠ¨å¼¹è·³çš„çƒ</li>
<li>âœ… å¯ç ´åçš„ç –å—</li>
<li>âœ… ç¢°æ’æ£€æµ‹</li>
<li>âœ… åˆ†æ•°ç³»ç»Ÿ</li>
</ul>
<p><strong>å®Œæ•´ä»£ç </strong>ï¼ˆçº¦ 250 è¡Œï¼Œå¯ç›´æ¥è¿è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Cargo.toml ä¾èµ–</span>
<span class="hljs-comment">// [dependencies]</span>
<span class="hljs-comment">// bevy = "0.19"</span>

<span class="hljs-keyword">use</span> bevy::prelude::*;
<span class="hljs-keyword">use</span> bevy::sprite::collide_aabb::*;

<span class="hljs-comment">// ======================== ç»„ä»¶å®šä¹‰ ========================</span>

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Position</span>(Vec2);

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Velocity</span>(Vec2);

<span class="hljs-meta">#[derive(Component, Clone, Copy, Debug)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Size</span>(Vec2);

<span class="hljs-comment">// æ ‡è®°ç»„ä»¶</span>
<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Ball</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Paddle</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Brick</span>;

<span class="hljs-meta">#[derive(Component)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Collider</span>;

<span class="hljs-comment">// ======================== èµ„æºå®šä¹‰ ========================</span>

<span class="hljs-meta">#[derive(Resource, Default)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Score</span>(<span class="hljs-type">u32</span>);

<span class="hljs-meta">#[derive(Resource)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">GameConfig</span> {
    paddle_speed: <span class="hljs-type">f32</span>,
    ball_speed: <span class="hljs-type">f32</span>,
    window_width: <span class="hljs-type">f32</span>,
    window_height: <span class="hljs-type">f32</span>,
}

<span class="hljs-comment">// ======================== ä¸»å‡½æ•° ========================</span>

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    App::<span class="hljs-title function_ invoke__">new</span>()
        .<span class="hljs-title function_ invoke__">add_plugins</span>(DefaultPlugins)
        .<span class="hljs-title function_ invoke__">insert_resource</span>(<span class="hljs-title function_ invoke__">Score</span>(<span class="hljs-number">0</span>))
        .<span class="hljs-title function_ invoke__">insert_resource</span>(GameConfig {
            paddle_speed: <span class="hljs-number">500.0</span>,
            ball_speed: <span class="hljs-number">300.0</span>,
            window_width: <span class="hljs-number">800.0</span>,
            window_height: <span class="hljs-number">600.0</span>,
        })
        .<span class="hljs-title function_ invoke__">add_systems</span>(Startup, setup)
        .<span class="hljs-title function_ invoke__">add_systems</span>(Update, (
            paddle_movement,
            ball_movement,
            ball_collision,
            brick_collision,
        ))
        .<span class="hljs-title function_ invoke__">run</span>();
}

<span class="hljs-comment">// ======================== åˆå§‹åŒ–ç³»ç»Ÿ ========================</span>

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">setup</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    config: Res&lt;GameConfig&gt;,
) {
    <span class="hljs-comment">// æ‘„åƒæœº</span>
    commands.<span class="hljs-title function_ invoke__">spawn</span>(Camera2d);

    <span class="hljs-comment">// æŒ¡æ¿</span>
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Sprite {
            color: Color::<span class="hljs-title function_ invoke__">srgb</span>(<span class="hljs-number">0.3</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.7</span>),
            custom_size: <span class="hljs-title function_ invoke__">Some</span>(Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">120.0</span>, <span class="hljs-number">20.0</span>)),
            ..<span class="hljs-title function_ invoke__">default</span>()
        },
        Transform::<span class="hljs-title function_ invoke__">from_xyz</span>(<span class="hljs-number">0.0</span>, -<span class="hljs-number">250.0</span>, <span class="hljs-number">0.0</span>),
        Paddle,
        Collider,
    ));

    <span class="hljs-comment">// çƒ</span>
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Sprite {
            color: Color::<span class="hljs-title function_ invoke__">srgb</span>(<span class="hljs-number">1.0</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>),
            custom_size: <span class="hljs-title function_ invoke__">Some</span>(Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">20.0</span>, <span class="hljs-number">20.0</span>)),
            ..<span class="hljs-title function_ invoke__">default</span>()
        },
        Transform::<span class="hljs-title function_ invoke__">from_xyz</span>(<span class="hljs-number">0.0</span>, -<span class="hljs-number">200.0</span>, <span class="hljs-number">0.0</span>),
        <span class="hljs-title function_ invoke__">Velocity</span>(Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">200.0</span>, <span class="hljs-number">200.0</span>)),
        Ball,
    ));

    <span class="hljs-comment">// ç –å—ï¼ˆ5 è¡Œ Ã— 10 åˆ—ï¼‰</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">brick_width</span> = <span class="hljs-number">60.0</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">brick_height</span> = <span class="hljs-number">20.0</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">gap</span> = <span class="hljs-number">5.0</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">total_width</span> = <span class="hljs-number">10.0</span> * (brick_width + gap);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">start_x</span> = -total_width / <span class="hljs-number">2.0</span> + brick_width / <span class="hljs-number">2.0</span>;

    <span class="hljs-keyword">for</span> <span class="hljs-variable">row</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">5</span> {
        <span class="hljs-keyword">for</span> <span class="hljs-variable">col</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">10</span> {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">x</span> = start_x + col <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * (brick_width + gap);
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">y</span> = <span class="hljs-number">200.0</span> - row <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * (brick_height + gap);

            commands.<span class="hljs-title function_ invoke__">spawn</span>((
                Sprite {
                    color: Color::<span class="hljs-title function_ invoke__">srgb</span>(
                        <span class="hljs-number">0.5</span> + row <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * <span class="hljs-number">0.1</span>,
                        <span class="hljs-number">0.5</span>,
                        <span class="hljs-number">0.5</span> + col <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> * <span class="hljs-number">0.05</span>,
                    ),
                    custom_size: <span class="hljs-title function_ invoke__">Some</span>(Vec2::<span class="hljs-title function_ invoke__">new</span>(brick_width, brick_height)),
                    ..<span class="hljs-title function_ invoke__">default</span>()
                },
                Transform::<span class="hljs-title function_ invoke__">from_xyz</span>(x, y, <span class="hljs-number">0.0</span>),
                Brick,
                Collider,
            ));
        }
    }

    <span class="hljs-comment">// åˆ†æ•°æ˜¾ç¤º</span>
    commands.<span class="hljs-title function_ invoke__">spawn</span>((
        Text::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-string">"Score: 0"</span>),
        TextFont {
            font_size: <span class="hljs-number">30.0</span>,
            ..<span class="hljs-title function_ invoke__">default</span>()
        },
        <span class="hljs-title function_ invoke__">TextColor</span>(Color::WHITE),
        Node {
            position_type: PositionType::Absolute,
            top: Val::<span class="hljs-title function_ invoke__">Px</span>(<span class="hljs-number">10.0</span>),
            left: Val::<span class="hljs-title function_ invoke__">Px</span>(<span class="hljs-number">10.0</span>),
            ..<span class="hljs-title function_ invoke__">default</span>()
        },
    ));
}

<span class="hljs-comment">// ======================== æ¸¸æˆç³»ç»Ÿ ========================</span>

<span class="hljs-comment">// æŒ¡æ¿ç§»åŠ¨ç³»ç»Ÿ</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">paddle_movement</span>(
    keyboard: Res&lt;ButtonInput&lt;KeyCode&gt;&gt;,
    config: Res&lt;GameConfig&gt;,
    time: Res&lt;Time&gt;,
    <span class="hljs-keyword">mut</span> query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Transform, With&lt;Paddle&gt;&gt;,
) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">paddle_transform</span> = query.<span class="hljs-title function_ invoke__">single_mut</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">direction</span> = <span class="hljs-number">0.0</span>;

    <span class="hljs-keyword">if</span> keyboard.<span class="hljs-title function_ invoke__">pressed</span>(KeyCode::ArrowLeft) {
        direction -= <span class="hljs-number">1.0</span>;
    }
    <span class="hljs-keyword">if</span> keyboard.<span class="hljs-title function_ invoke__">pressed</span>(KeyCode::ArrowRight) {
        direction += <span class="hljs-number">1.0</span>;
    }

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">new_x</span> = paddle_transform.translation.x
        + direction * config.paddle_speed * time.<span class="hljs-title function_ invoke__">delta_secs</span>();

    <span class="hljs-comment">// é™åˆ¶åœ¨å±å¹•å†…</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">half_width</span> = config.window_width / <span class="hljs-number">2.0</span> - <span class="hljs-number">60.0</span>;
    paddle_transform.translation.x = new_x.<span class="hljs-title function_ invoke__">clamp</span>(-half_width, half_width);
}

<span class="hljs-comment">// çƒç§»åŠ¨ç³»ç»Ÿ</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">ball_movement</span>(
    config: Res&lt;GameConfig&gt;,
    time: Res&lt;Time&gt;,
    <span class="hljs-keyword">mut</span> query: Query&lt;(&amp;<span class="hljs-keyword">mut</span> Transform, &amp;<span class="hljs-keyword">mut</span> Velocity), With&lt;Ball&gt;&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (<span class="hljs-keyword">mut</span> transform, <span class="hljs-keyword">mut</span> velocity) <span class="hljs-keyword">in</span> query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        <span class="hljs-comment">// æ›´æ–°ä½ç½®</span>
        transform.translation.x += velocity.<span class="hljs-number">0</span>.x * time.<span class="hljs-title function_ invoke__">delta_secs</span>();
        transform.translation.y += velocity.<span class="hljs-number">0</span>.y * time.<span class="hljs-title function_ invoke__">delta_secs</span>();

        <span class="hljs-comment">// å¢™å£ç¢°æ’</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">half_width</span> = config.window_width / <span class="hljs-number">2.0</span>;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">half_height</span> = config.window_height / <span class="hljs-number">2.0</span>;

        <span class="hljs-keyword">if</span> transform.translation.x.<span class="hljs-title function_ invoke__">abs</span>() &gt; half_width - <span class="hljs-number">10.0</span> {
            velocity.<span class="hljs-number">0</span>.x = -velocity.<span class="hljs-number">0</span>.x;
        }
        <span class="hljs-keyword">if</span> transform.translation.y &gt; half_height - <span class="hljs-number">10.0</span> {
            velocity.<span class="hljs-number">0</span>.y = -velocity.<span class="hljs-number">0</span>.y;
        }

        <span class="hljs-comment">// çƒæ‰è½ï¼ˆé‡ç½®æ¸¸æˆï¼‰</span>
        <span class="hljs-keyword">if</span> transform.translation.y &lt; -half_height {
            transform.translation = Vec3::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">0.0</span>, -<span class="hljs-number">200.0</span>, <span class="hljs-number">0.0</span>);
            velocity.<span class="hljs-number">0</span> = Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">200.0</span>, <span class="hljs-number">200.0</span>);
        }
    }
}

<span class="hljs-comment">// çƒä¸æŒ¡æ¿/å¢™å£ç¢°æ’</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">ball_collision</span>(
    <span class="hljs-keyword">mut</span> ball_query: Query&lt;(&amp;Transform, &amp;<span class="hljs-keyword">mut</span> Velocity), With&lt;Ball&gt;&gt;,
    collider_query: Query&lt;&amp;Transform, (With&lt;Collider&gt;, Without&lt;Ball&gt;)&gt;,
) {
    <span class="hljs-title function_ invoke__">for</span> (ball_transform, <span class="hljs-keyword">mut</span> ball_velocity) <span class="hljs-keyword">in</span> ball_query.<span class="hljs-title function_ invoke__">iter_mut</span>() {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ball_size</span> = Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">20.0</span>, <span class="hljs-number">20.0</span>);

        <span class="hljs-keyword">for</span> <span class="hljs-variable">collider_transform</span> <span class="hljs-keyword">in</span> collider_query.<span class="hljs-title function_ invoke__">iter</span>() {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">collision</span> = <span class="hljs-title function_ invoke__">collide</span>(
                ball_transform.translation,
                ball_size,
                collider_transform.translation,
                Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">120.0</span>, <span class="hljs-number">20.0</span>), <span class="hljs-comment">// å‡è®¾ç¢°æ’ä½“å¤§å°</span>
            );

            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(collision) = collision {
                <span class="hljs-keyword">match</span> collision {
                    Collision::Top | Collision::Bottom =&gt; {
                        ball_velocity.<span class="hljs-number">0</span>.y = -ball_velocity.<span class="hljs-number">0</span>.y;
                    }
                    Collision::Left | Collision::Right =&gt; {
                        ball_velocity.<span class="hljs-number">0</span>.x = -ball_velocity.<span class="hljs-number">0</span>.x;
                    }
                    _ =&gt; {}
                }
            }
        }
    }
}

<span class="hljs-comment">// ç –å—ç¢°æ’ä¸é”€æ¯</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">brick_collision</span>(
    <span class="hljs-keyword">mut</span> commands: Commands,
    <span class="hljs-keyword">mut</span> score: ResMut&lt;Score&gt;,
    ball_query: Query&lt;&amp;Transform, With&lt;Ball&gt;&gt;,
    brick_query: Query&lt;(Entity, &amp;Transform), With&lt;Brick&gt;&gt;,
    <span class="hljs-keyword">mut</span> text_query: Query&lt;&amp;<span class="hljs-keyword">mut</span> Text&gt;,
) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ball_size</span> = Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">20.0</span>, <span class="hljs-number">20.0</span>);

    <span class="hljs-keyword">for</span> <span class="hljs-variable">ball_transform</span> <span class="hljs-keyword">in</span> ball_query.<span class="hljs-title function_ invoke__">iter</span>() {
        <span class="hljs-title function_ invoke__">for</span> (brick_entity, brick_transform) <span class="hljs-keyword">in</span> brick_query.<span class="hljs-title function_ invoke__">iter</span>() {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">collision</span> = <span class="hljs-title function_ invoke__">collide</span>(
                ball_transform.translation,
                ball_size,
                brick_transform.translation,
                Vec2::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">60.0</span>, <span class="hljs-number">20.0</span>),
            );

            <span class="hljs-keyword">if</span> collision.<span class="hljs-title function_ invoke__">is_some</span>() {
                <span class="hljs-comment">// é”€æ¯ç –å—</span>
                commands.<span class="hljs-title function_ invoke__">entity</span>(brick_entity).<span class="hljs-title function_ invoke__">despawn</span>();

                <span class="hljs-comment">// å¢åŠ åˆ†æ•°</span>
                score.<span class="hljs-number">0</span> += <span class="hljs-number">10</span>;

                <span class="hljs-comment">// æ›´æ–° UI</span>
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(<span class="hljs-keyword">mut</span> text) = text_query.<span class="hljs-title function_ invoke__">get_single_mut</span>() {
                    text.<span class="hljs-number">0</span> = <span class="hljs-built_in">format!</span>(<span class="hljs-string">"Score: {}"</span>, score.<span class="hljs-number">0</span>);
                }
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-111">9.2 ä»£ç è§£æ</h3>
<h4 data-id="heading-112">æ ¸å¿ƒæ¶æ„è®¾è®¡</h4>
<ol>
<li>
<p><strong>ç»„ä»¶åˆ†ç¦»</strong>ï¼š</p>
<ul>
<li><code>Ball</code>ã€<code>Paddle</code>ã€<code>Brick</code> åªæ˜¯æ ‡è®°</li>
<li><code>Transform</code>ã€<code>Velocity</code> æ˜¯å®é™…æ•°æ®</li>
<li>æ¯ä¸ªç»„ä»¶èŒè´£å•ä¸€</li>
</ul>
</li>
<li>
<p><strong>ç³»ç»Ÿè§£è€¦</strong>ï¼š</p>
<ul>
<li><code>paddle_movement</code> åªå…³å¿ƒæŒ¡æ¿</li>
<li><code>ball_movement</code> åªå…³å¿ƒçƒ</li>
<li><code>brick_collision</code> å¤„ç†ç –å—é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>èµ„æºç®¡ç†</strong>ï¼š</p>
<ul>
<li><code>Score</code> æ˜¯å…¨å±€çŠ¶æ€</li>
<li><code>GameConfig</code> å­˜å‚¨é…ç½®</li>
</ul>
</li>
</ol>
<h4 data-id="heading-113">è¿è¡Œé¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºé¡¹ç›®</span>
cargo new bevy_breakout
<span class="hljs-built_in">cd</span> bevy_breakout

<span class="hljs-comment"># æ·»åŠ ä¾èµ–</span>
cargo add bevy@0.19

<span class="hljs-comment"># å¤åˆ¶ä»£ç åˆ° src/main.rs</span>

<span class="hljs-comment"># è¿è¡Œ</span>
cargo run --release
</code></pre>
<h4 data-id="heading-114">æ€§èƒ½ç‰¹ç‚¹</h4>
<ul>
<li>âœ… æ‰€æœ‰çƒéƒ½åœ¨è¿ç»­å†…å­˜ä¸­ï¼ˆå¦‚æœæœ‰å¤šä¸ªçƒï¼‰</li>
<li>âœ… ç³»ç»Ÿè‡ªåŠ¨å¹¶è¡Œæ‰§è¡Œ</li>
<li>âœ… ç¼“å­˜å‹å¥½çš„å†…å­˜è®¿é—®æ¨¡å¼</li>
</ul>
<hr/>
<h2 data-id="heading-115">åã€å®æˆ˜æ¡ˆä¾‹åˆ†æ</h2>
<h3 data-id="heading-116">æ¡ˆä¾‹ 1ï¼šã€Šå®ˆæœ›å…ˆé”‹ã€‹- Blizzardï¼ˆ2016ï¼‰</h3>
<p><strong>èƒŒæ™¯</strong>ï¼š</p>
<ul>
<li>6v6 å¤šäºº FPS æ¸¸æˆ</li>
<li>æ¯ä¸ªè‹±é›„æœ‰ 4+ ç‹¬ç‰¹æŠ€èƒ½</li>
<li>å¤§é‡æŠ•å°„ç‰©ã€ç²’å­æ•ˆæœã€ç‰©ç†äº¤äº’</li>
<li>éœ€è¦æ”¯æŒ 60Hz tick rate çš„æœåŠ¡å™¨</li>
</ul>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>è‡ªç ” ECS æ¡†æ¶ï¼ˆåŸºäºç»„ä»¶çš„æ¸¸æˆå¯¹è±¡æ¨¡å‹ï¼‰</li>
<li>æ‰€æœ‰æ¸¸æˆå¯¹è±¡éƒ½æ˜¯ Entity + Componentsï¼š
<ul>
<li>è‹±é›„ = Entity + <code>Transform</code> + <code>Health</code> + <code>Abilities</code> + <code>Animation</code> ...</li>
<li>å­å¼¹ = Entity + <code>Transform</code> + <code>Projectile</code> + <code>Damage</code> ...</li>
<li>æŠ€èƒ½æ•ˆæœ = Entity + <code>Transform</code> + <code>VFX</code> + <code>Duration</code> ...</li>
</ul>
</li>
</ul>
<p><strong>æ ¸å¿ƒè®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®ˆæœ›å…ˆé”‹çš„ç»„ä»¶è®¾è®¡ï¼ˆæ¦‚å¿µåŒ–çš„ Rust è¡¨ç¤ºï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Hero</span> {
    entity: Entity,
    <span class="hljs-comment">// ç»„ä»¶é€šè¿‡ ID å¼•ç”¨</span>
    components: <span class="hljs-type">Vec</span>&lt;ComponentId&gt;,
}

<span class="hljs-comment">// æŠ€èƒ½ç³»ç»Ÿä¹Ÿæ˜¯ ECS</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Ability</span> {
    cooldown: <span class="hljs-type">f32</span>,
    energy_cost: <span class="hljs-type">f32</span>,
    effects: <span class="hljs-type">Vec</span>&lt;EffectComponent&gt;,
}

<span class="hljs-comment">// ç½‘ç»œåŒæ­¥ä¼˜åŒ–ï¼šåªåŒæ­¥å˜åŒ–çš„ç»„ä»¶</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ReplicationComponent</span> {
    last_synced_value: Value,
    dirty: <span class="hljs-type">bool</span>,  <span class="hljs-comment">// æ˜¯å¦éœ€è¦åŒæ­¥</span>
}
</code></pre>
<p><strong>æˆæœ</strong>ï¼š</p>
<ul>
<li>âœ… å®¢æˆ·ç«¯ç¨³å®š <strong>60 FPS</strong></li>
<li>âœ… æœåŠ¡å™¨æ¯ç§’å¤„ç† <strong>100 ä¸‡+</strong> ç»„ä»¶æ›´æ–°</li>
<li>âœ… ç½‘ç»œå¸¦å®½å‡å°‘ <strong>40%</strong>ï¼ˆåªåŒæ­¥å˜åŒ–çš„ç»„ä»¶ï¼Œè€Œéæ•´ä¸ªå¯¹è±¡ï¼‰</li>
<li>âœ… æŠ€èƒ½ç³»ç»Ÿé«˜åº¦æ¨¡å—åŒ–ï¼ˆæ–°è‹±é›„å¼€å‘å‘¨æœŸç¼©çŸ­ 30%ï¼‰</li>
</ul>
<p><strong>ç½‘ç»œåŒæ­¥ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿ OOPï¼šæ¯ä¸ªè‹±é›„å¯¹è±¡åºåˆ—åŒ– â†’ 200+ å­—èŠ‚/å¸§</li>
<li>ECS æ–¹æ¡ˆï¼šåªåºåˆ—åŒ–å˜åŒ–çš„ç»„ä»¶ â†’ å¹³å‡ 50-80 å­—èŠ‚/å¸§</li>
</ul>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DW3aieHjyNvw" target="_blank" title="https://www.youtube.com/watch?v=W3aieHjyNvw" ref="nofollow noopener noreferrer">GDC 2017: Overwatch Gameplay Architecture</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fskypjack.github.io%2F2019-06-25-ecs-baf-part-7%2F" target="_blank" title="https://skypjack.github.io/2019-06-25-ecs-baf-part-7/" ref="nofollow noopener noreferrer">ECS Back and Forth - Part 7: Overwatch</a></li>
</ul>
<p><strong>å¯ç¤º</strong>ï¼š
å³ä½¿æ˜¯å°‘é‡å®ä½“ï¼ˆ12 ä¸ªç©å®¶ï¼‰ï¼ŒECS åœ¨å¤æ‚äº¤äº’ã€ç½‘ç»œåŒæ­¥åœºæ™¯ä¸‹ä»æœ‰å·¨å¤§ä¼˜åŠ¿ã€‚</p>
<hr/>
<h3 data-id="heading-117">æ¡ˆä¾‹ 2ï¼šã€Šé»‘å®¢å¸å›½ï¼šè§‰é†’ã€‹æŠ€æœ¯æ¼”ç¤º - Epic Gamesï¼ˆ2021ï¼‰</h3>
<p><strong>èƒŒæ™¯</strong>ï¼š</p>
<ul>
<li>Unreal Engine 5 æŠ€æœ¯æ¼”ç¤º</li>
<li>æ¨¡æ‹Ÿå¼€æ”¾ä¸–ç•ŒåŸå¸‚ï¼Œæ•°ä¸‡ NPC åŒæ—¶æ´»åŠ¨</li>
<li>å±•ç¤ºæ¬¡ä¸–ä»£å®æ—¶æ¸²æŸ“èƒ½åŠ›</li>
</ul>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li><strong>Mass Framework</strong>ï¼ˆUnreal çš„ ECS ç³»ç»Ÿï¼‰</li>
<li><strong>Niagara</strong>ï¼šç²’å­ç³»ç»Ÿï¼ˆè½¦è¾†å°¾æ°”ã€çˆ†ç‚¸æ•ˆæœï¼‰</li>
<li><strong>Nanite</strong>ï¼šè™šæ‹Ÿå‡ ä½•ï¼ˆé«˜ç²¾åº¦å»ºç­‘æ¨¡å‹ï¼‰</li>
<li><strong>Lumen</strong>ï¼šå…¨å±€å…‰ç…§</li>
</ul>
<p><strong>Mass Framework æ¶æ„</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Mass Framework çš„ç»„ä»¶è®¾è®¡ï¼ˆç®€åŒ–ï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">FMassMovementFragment</span> : <span class="hljs-keyword">public</span> FMassFragment {
    FVector Velocity;
    <span class="hljs-type">float</span> Speed;
};

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">FMassNavigationFragment</span> : <span class="hljs-keyword">public</span> FMassFragment {
    FVector Target;
    TArray&lt;FVector&gt; Path;
};

<span class="hljs-comment">// Processorï¼ˆSystemï¼‰æ‰¹é‡å¤„ç†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UMassCrowdProcessor</span> : <span class="hljs-keyword">public</span> UMassProcessor {
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Execute</span><span class="hljs-params">(FMassEntityManager&amp; EntityManager,
                 FMassExecutionContext&amp; Context)</span> </span>{
        <span class="hljs-comment">// æ‰¹é‡æ›´æ–°æ•°ä¸‡ä¸ª NPC</span>
        EntityQuery.<span class="hljs-built_in">ForEachEntityChunk</span>(EntityManager, Context,
            [](FMassExecutionContext&amp; Context) {
                <span class="hljs-keyword">auto</span> Movements = Context.<span class="hljs-built_in">GetMutableFragmentView</span>&lt;FMassMovementFragment&gt;();
                <span class="hljs-keyword">auto</span> Transforms = Context.<span class="hljs-built_in">GetMutableFragmentView</span>&lt;FTransformFragment&gt;();

                <span class="hljs-keyword">for</span> (int32 i = <span class="hljs-number">0</span>; i &lt; Context.<span class="hljs-built_in">GetNumEntities</span>(); ++i) {
                    Transforms[i].Position += Movements[i].Velocity * DeltaTime;
                }
            });
    }
};
</code></pre>
<p><strong>LOD ç³»ç»Ÿè®¾è®¡</strong>ï¼š</p>








































<table><thead><tr><th>è·ç¦»</th><th>NPC çŠ¶æ€</th><th>æ›´æ–°é¢‘ç‡</th><th>åŠ¨ç”»</th><th>AI</th></tr></thead><tbody><tr><td>0-50m</td><td>High Detail</td><td>60 FPS</td><td>å®Œæ•´éª¨éª¼</td><td>å®Œæ•´é€»è¾‘</td></tr><tr><td>50-200m</td><td>Medium</td><td>30 FPS</td><td>ç®€åŒ–åŠ¨ç”»</td><td>ç®€åŒ– AI</td></tr><tr><td>200-500m</td><td>Low</td><td>10 FPS</td><td>å•å¸§åŠ¨ç”»</td><td>çŠ¶æ€æœº</td></tr><tr><td>500m+</td><td>Culled</td><td>1 FPS</td><td>æ— </td><td>ä»…ä½ç½®æ›´æ–°</td></tr></tbody></table>
<p><strong>æˆæœ</strong>ï¼š</p>
<ul>
<li>âœ… åŒå± <strong>35,000+ ä¸ª</strong> å¯äº¤äº’ NPC</li>
<li>âœ… æ¯ä¸ª NPC æœ‰ç‹¬ç«‹ AIã€è·¯å¾„å¯»æ‰¾ã€åŠ¨ç”»</li>
<li>âœ… PlayStation 5 ä¿æŒ <strong>30 FPS</strong>ï¼ˆ4K åˆ†è¾¨ç‡ï¼‰</li>
<li>âœ… åŠ¨æ€åŠ è½½å¸è½½ï¼šç©å®¶ç§»åŠ¨æ—¶å®æ—¶æ¿€æ´»/ä¼‘çœ å®ä½“</li>
</ul>
<p><strong>æ€§èƒ½æ•°æ®</strong>ï¼š</p>
<ul>
<li>CPU è´Ÿè½½ï¼šMass Framework å  <strong>15-20%</strong>ï¼ˆ8 æ ¸ Zen 2ï¼‰</li>
<li>å†…å­˜å ç”¨ï¼šæ¯ä¸ª NPC å¹³å‡ <strong>200 å­—èŠ‚</strong>ï¼ˆç»„ä»¶æ•°æ®ï¼‰</li>
<li>æ‰¹é‡å¤„ç†ï¼šæ¯æ¬¡æ›´æ–°å¤„ç† <strong>1000+ ä¸ª</strong> NPCï¼ˆSIMD ä¼˜åŒ–ï¼‰</li>
</ul>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.unrealengine.com%2Fen-US%2Fblog%2Fthe-matrix-awakens-an-unreal-engine-5-experience-now-available" target="_blank" title="https://www.unrealengine.com/en-US/blog/the-matrix-awakens-an-unreal-engine-5-experience-now-available" ref="nofollow noopener noreferrer">Unreal Engine 5 - The Matrix Awakens Technical Breakdown</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.unrealengine.com%2F5.0%2Fen-US%2Foverview-of-mass-entity-in-unreal-engine%2F" target="_blank" title="https://docs.unrealengine.com/5.0/en-US/overview-of-mass-entity-in-unreal-engine/" ref="nofollow noopener noreferrer">Mass Framework Documentation</a></li>
</ul>
<p><strong>å¯ç¤º</strong>ï¼š
ECS ä½¿å¾—å¤§è§„æ¨¡å®æ—¶æ¨¡æ‹Ÿæˆä¸ºå¯èƒ½ã€‚é€šè¿‡ LOD ç³»ç»Ÿå’Œç©ºé—´åˆ†å—ï¼Œå³ä½¿æ˜¯ AAA çº§ç”»è´¨ä¹Ÿèƒ½ä¿æŒæµç•…å¸§ç‡ã€‚</p>
<hr/>
<h3 data-id="heading-118">æ¡ˆä¾‹ 3ï¼šã€ŠBrotatoã€‹- ç‹¬ç«‹æ¸¸æˆï¼ˆ2022ï¼‰</h3>
<p><strong>èƒŒæ™¯</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <strong>Godot 3.5</strong>ï¼ˆé ECS å¼•æ“ï¼‰å¼€å‘çš„è‚‰é¸½ç”Ÿå­˜æ¸¸æˆ</li>
<li>å±å¹•ä¸ŠåŒæ—¶æœ‰ <strong>æ•°ç™¾ä¸ª</strong> æ•Œäººå’Œ <strong>æ•°åƒå‘</strong> å­å¼¹</li>
<li>ç›®æ ‡å¹³å°ï¼šPC + Switch + ç§»åŠ¨ç«¯</li>
</ul>
<p><strong>æŒ‘æˆ˜</strong>ï¼š</p>
<ul>
<li>Godot çš„ <strong>Node æ ‘ç³»ç»Ÿ</strong> åœ¨å¤§é‡å®ä½“æ—¶æ€§èƒ½ç“¶é¢ˆï¼š
<ul>
<li>æ¯ä¸ª Node æœ‰ç»§æ‰¿å¼€é”€ï¼ˆçˆ¶ç±»æ–¹æ³•è°ƒç”¨ï¼‰</li>
<li>Node æ ‘éå†ä¸æ˜¯ç¼“å­˜å‹å¥½</li>
<li>GDScript è§£é‡Šæ‰§è¡Œé€Ÿåº¦æ…¢</li>
</ul>
</li>
<li>é¢„æœŸæ€§èƒ½ï¼š300+ æ•Œäººæ—¶å¸§ç‡é™è‡³ <strong>15-20 FPS</strong></li>
</ul>
<p><strong>"ç±» ECS"è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<p>å¼€å‘è€… <strong>Blobfish</strong> æ‰‹åŠ¨å®ç°äº†æ•°æ®å¯¼å‘è®¾è®¡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Godot GDScript - ç±» ECS æ¶æ„</span>

<span class="hljs-comment"># ä¼ ç»Ÿ Godot æ–¹å¼ï¼ˆæ…¢ï¼‰</span>
<span class="hljs-comment"># class Enemy extends Node2D:</span>
<span class="hljs-comment">#     var position = Vector2()</span>
<span class="hljs-comment">#     var velocity = Vector2()</span>
<span class="hljs-comment">#     var health = 100</span>
<span class="hljs-comment">#     func _process(delta):</span>
<span class="hljs-comment">#         position += velocity * delta  # æ¯ä¸ª Node ç‹¬ç«‹æ›´æ–°</span>

<span class="hljs-comment"># "ç±» ECS"æ–¹å¼ï¼ˆå¿«ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EnemyManager</span>:
    var positions = []      <span class="hljs-comment"># PackedVector2Arrayï¼ˆè¿ç»­å†…å­˜ï¼‰</span>
    var velocities = []     <span class="hljs-comment"># PackedVector2Array</span>
    var healths = []        <span class="hljs-comment"># PackedInt32Array</span>
    var sprites = []        <span class="hljs-comment"># åªå­˜å¼•ç”¨ï¼ˆç”¨äºæ¸²æŸ“ï¼‰</span>

    <span class="hljs-comment"># æ‰¹é‡æ›´æ–°ï¼ˆæ•°æ®å¯¼å‘ï¼‰</span>
    func update_movement(delta):
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(positions.size()):
            positions[i] += velocities[i] * delta  <span class="hljs-comment"># è¿ç»­å†…å­˜è®¿é—®</span>

    func update_rendering():
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(sprites.size()):
            sprites[i].position = positions[i]  <span class="hljs-comment"># æ›´æ–°æ¸²æŸ“ä½ç½®</span>
</code></pre>
<p><strong>å…·ä½“ä¼˜åŒ–æªæ–½</strong>ï¼š</p>
<ol>
<li>
<p><strong>å¯¹è±¡æ± </strong>ï¼šé¢„åˆ†é… 1000 ä¸ªå®ä½“ï¼Œå¤ç”¨è€Œéåˆ›å»º/é”€æ¯</p>
<pre><code class="hljs language-python" lang="python">var entity_pool = []  <span class="hljs-comment"># é¢„åˆ†é…</span>
var active_entities = []  <span class="hljs-comment"># æ´»è·ƒå®ä½“ç´¢å¼•</span>
</code></pre>
</li>
<li>
<p><strong>æ‰¹é‡å¤„ç†</strong>ï¼šæ‰€æœ‰æ•Œäººä¸€æ¬¡æ€§æ›´æ–°</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ‰¹é‡ç¢°æ’æ£€æµ‹ï¼ˆç©ºé—´å“ˆå¸Œï¼‰</span>
func check_collisions():
    var grid = {}
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> active_entities:
        var cell = get_grid_cell(positions[i])
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> grid.has(cell):
            grid[cell] = []
        grid[cell].append(i)
    <span class="hljs-comment"># åªæ£€æµ‹åŒä¸€æ ¼å­å†…çš„ç¢°æ’</span>
</code></pre>
</li>
<li>
<p><strong>å¤šçº¿ç¨‹</strong>ï¼šå°†æ¸²æŸ“å’Œé€»è¾‘åˆ†ç¦»ï¼ˆGodot Threadï¼‰</p>
</li>
</ol>
<p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š</p>





























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>300 æ•Œäºº</th><th>500 æ•Œäºº</th><th>1000 æ•Œäºº</th></tr></thead><tbody><tr><td>ä¼ ç»Ÿ Node</td><td>18 FPS</td><td>10 FPS</td><td>å´©æºƒ</td></tr><tr><td>ç±» ECS</td><td>60 FPS</td><td>55 FPS</td><td>40 FPS</td></tr><tr><td><strong>æå‡</strong></td><td><strong>3.3x</strong></td><td><strong>5.5x</strong></td><td><strong>å¯è¿è¡Œ</strong></td></tr></tbody></table>
<p><strong>æˆæœ</strong>ï¼š</p>
<ul>
<li>âœ… Steam æ”¶å…¥è¶… <strong>1000 ä¸‡ç¾å…ƒ</strong>ï¼ˆ2022-2023ï¼‰</li>
<li>âœ… ç¨³å®š <strong>60 FPS</strong>ï¼ˆPCï¼‰/ <strong>30 FPS</strong>ï¼ˆSwitchï¼‰</li>
<li>âœ… æœ€å¤šåŒå± <strong>800+ ä¸ª</strong> æ´»è·ƒå®ä½“</li>
</ul>
<p><strong>ä»£ç ç‰‡æ®µ</strong>ï¼ˆå®é™…æ¸¸æˆä¸­çš„ç®€åŒ–ç‰ˆæœ¬ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># enemy_system.gd</span>
extends Node

<span class="hljs-comment"># ç»„ä»¶æ•°ç»„ï¼ˆSoA å¸ƒå±€ï¼‰</span>
var positions: PackedVector2Array = PackedVector2Array()
var velocities: PackedVector2Array = PackedVector2Array()
var healths: PackedInt32Array = PackedInt32Array()

func _physics_process(delta):
    <span class="hljs-comment"># æ‰¹é‡ç§»åŠ¨</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(positions.size()):
        positions[i] += velocities[i] * delta

    <span class="hljs-comment"># æ‰¹é‡ç¢°æ’ï¼ˆç®€åŒ–ï¼‰</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(positions.size()):
        <span class="hljs-keyword">if</span> check_bullet_collision(positions[i]):
            healths[i] -= <span class="hljs-number">10</span>

    <span class="hljs-comment"># æ‰¹é‡æ¸…ç†</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(healths.size() - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):  <span class="hljs-comment"># é€†åºéå†</span>
        <span class="hljs-keyword">if</span> healths[i] &lt;= <span class="hljs-number">0</span>:
            remove_entity(i)
</code></pre>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reddit.com%2Fr%2Fgodot%2Fcomments%2Fxwvq5v%2Fbrotato_how_i_optimized_for_thousands_of_entities%2F" target="_blank" title="https://www.reddit.com/r/godot/comments/xwvq5v/brotato_how_i_optimized_for_thousands_of_entities/" ref="nofollow noopener noreferrer">Brotato Devlog - Performance Optimization</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsteamdb.info%2Fapp%2F1942280%2F" target="_blank" title="https://steamdb.info/app/1942280/" ref="nofollow noopener noreferrer">Steam Stats</a></li>
</ul>
<p><strong>å¯ç¤º</strong>ï¼š</p>
<ul>
<li>å³ä½¿å¼•æ“ä¸åŸç”Ÿæ”¯æŒ ECSï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å®ç°æ•°æ®å¯¼å‘è®¾è®¡</li>
<li>æ ¸å¿ƒæ€æƒ³ï¼š<strong>è¿ç»­å†…å­˜ + æ‰¹é‡å¤„ç† &gt; é¢å‘å¯¹è±¡</strong></li>
<li>ç‹¬ç«‹å¼€å‘è€…ä¹Ÿèƒ½ç”¨ ECS æ€æƒ³ä¼˜åŒ–æ€§èƒ½</li>
</ul>
<hr/>
<h2 data-id="heading-119">åã€æœªæ¥å±•æœ›</h2>
<h3 data-id="heading-120">1. <strong>ç¼–è¾‘å™¨å·¥å…·æ”¹è¿›</strong></h3>
<ul>
<li>Unity æ­£åœ¨å¼€å‘ DOTS å¯è§†åŒ–ç¼–è¾‘å™¨</li>
<li>Bevy ç¤¾åŒºæ¢ç´¢ç¬¬ä¸‰æ–¹ç¼–è¾‘å™¨æ–¹æ¡ˆ</li>
<li>æœªæ¥å¯èƒ½å‡ºç°"æ‰€è§å³æ‰€å¾—"çš„ ECS ç¼–è¾‘å™¨</li>
</ul>
<h3 data-id="heading-121">2. <strong>AI ä¸ ECS ç»“åˆ</strong></h3>
<ul>
<li>è¡Œä¸ºæ ‘ã€GOAP ç­‰ AI ç³»ç»Ÿå¤©ç„¶é€‚åˆ ECS</li>
<li>æœªæ¥å¤§è§„æ¨¡ NPC AI å°†æ›´ä¾èµ– ECS</li>
</ul>
<h3 data-id="heading-122">3. <strong>è·¨å¼•æ“æ ‡å‡†åŒ–</strong></h3>
<ul>
<li>å¯èƒ½å‡ºç°ç»Ÿä¸€çš„ ECS API æ ‡å‡†</li>
<li>ç»„ä»¶å’Œç³»ç»Ÿå¯åœ¨ä¸åŒå¼•æ“é—´è¿ç§»</li>
</ul>
<h3 data-id="heading-123">4. <strong>ç¡¬ä»¶ååŒ</strong></h3>
<ul>
<li>GPU è®¡ç®—ä¸ ECS ç»“åˆï¼ˆå¦‚ Unity DOTS çš„ GPU å®ä¾‹åŒ–ï¼‰</li>
<li>ä¸“ç”¨ç¡¬ä»¶åŠ é€Ÿï¼ˆç±»ä¼¼å…‰çº¿è¿½è¸ªæ ¸å¿ƒï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-124">åä¸€ã€æ€»ç»“ä¸å»ºè®®</h2>
<h3 data-id="heading-125">ECS æ ¸å¿ƒä»·å€¼</h3>
<blockquote>
<p><strong>ECS ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯ä¸€ç§å·¥å…·</strong></p>
</blockquote>
<p>å®ƒçš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ol>
<li><strong>æ•°æ®å¯¼å‘æ€ç»´</strong>ï¼šå…³æ³¨"æ•°æ®å¦‚ä½•æµåŠ¨"è€Œé"å¯¹è±¡å¦‚ä½•äº¤äº’"</li>
<li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼šé€šè¿‡å†…å­˜å¸ƒå±€ä¼˜åŒ–è¾¾åˆ°æè‡´æ€§èƒ½</li>
<li><strong>æ‰©å±•æ€§</strong>ï¼šç»„åˆä¼˜äºç»§æ‰¿ï¼Œé€‚åº”éœ€æ±‚å˜åŒ–</li>
</ol>
<hr/>
<h3 data-id="heading-126">ç»™å¼€å‘è€…çš„å»ºè®®</h3>
<h4 data-id="heading-127">å¦‚æœä½ æ˜¯åˆå­¦è€…</h4>
<ul>
<li><strong>å…ˆå­¦ OOP</strong>ï¼šæ‰“å¥½åŸºç¡€</li>
<li><strong>ç†è§£æ•°æ®ç»“æ„</strong>ï¼šå­¦ä¹ ç¼“å­˜ã€å†…å­˜å¯¹é½ç­‰æ¦‚å¿µ</li>
<li><strong>å°é¡¹ç›®è¯•æ°´</strong>ï¼šç”¨ Bevy æˆ– Unity DOTS åš demo</li>
</ul>
<h4 data-id="heading-128">å¦‚æœä½ æ˜¯ç»éªŒä¸°å¯Œçš„å¼€å‘è€…</h4>
<ul>
<li><strong>è¯„ä¼°é¡¹ç›®éœ€æ±‚</strong>ï¼šæ˜¯å¦çœŸçš„éœ€è¦ ECS</li>
<li><strong>æ¸è¿›å¼é‡‡ç”¨</strong>ï¼šå¯ä»¥æ··åˆ OOP å’Œ ECS</li>
<li><strong>å…³æ³¨ç“¶é¢ˆ</strong>ï¼šç”¨æ€§èƒ½åˆ†æå·¥å…·æ‰¾çœŸæ­£çš„é—®é¢˜</li>
</ul>
<h4 data-id="heading-129">å¦‚æœä½ æ˜¯å›¢é˜Ÿé¢†å¯¼</h4>
<ul>
<li><strong>è€ƒè™‘å­¦ä¹ æˆæœ¬</strong>ï¼šå›¢é˜Ÿæ˜¯å¦æœ‰æ—¶é—´é€‚åº”</li>
<li><strong>å·¥å…·é“¾è¯„ä¼°</strong>ï¼šæ˜¯å¦æœ‰è¶³å¤Ÿçš„ç¼–è¾‘å™¨æ”¯æŒ</li>
<li><strong>é£é™©æ§åˆ¶</strong>ï¼šå•†ä¸šé¡¹ç›®è°¨æ…é€‰æ‹©ä¸æˆç†ŸæŠ€æœ¯</li>
</ul>
<hr/>
<h3 data-id="heading-130">æœ€ç»ˆæ¨è</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ¶æ„</th><th>ç†ç”±</th></tr></thead><tbody><tr><td><strong>åŸå‹å¼€å‘</strong></td><td>OOP</td><td>å¿«é€Ÿè¿­ä»£</td></tr><tr><td><strong>å°å‹ç‹¬ç«‹æ¸¸æˆ</strong></td><td>GameObject-Component</td><td>å¹³è¡¡çµæ´»æ€§å’Œæ€§èƒ½</td></tr><tr><td><strong>å¤§è§„æ¨¡æ¨¡æ‹Ÿ</strong></td><td>ECS</td><td>æ€§èƒ½éœ€æ±‚</td></tr><tr><td><strong>AAA å¤šäººæ¸¸æˆ</strong></td><td>æ··åˆæ¶æ„</td><td>å…³é”®ç³»ç»Ÿç”¨ ECSï¼Œå…¶ä»–ç”¨ OOP</td></tr><tr><td><strong>ç§»åŠ¨ç«¯æ¸¸æˆ</strong></td><td>ECSï¼ˆå¦‚éœ€å¤§é‡å®ä½“ï¼‰</td><td>èµ„æºå—é™</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-131">å‚è€ƒèµ„æ–™</h2>
<h3 data-id="heading-132">ç†è®ºæ–‡ç« </h3>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FEntity_component_system" target="_blank" title="https://en.wikipedia.org/wiki/Entity_component_system" ref="nofollow noopener noreferrer">Entity Component System - Wikipedia</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgamesfromwithin.com%2Fdata-oriented-design" target="_blank" title="https://gamesfromwithin.com/data-oriented-design" ref="nofollow noopener noreferrer">Data-Oriented Design - Games from Within</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSanderMertens%2Fecs-faq" target="_blank" title="https://github.com/SanderMertens/ecs-faq" ref="nofollow noopener noreferrer">ECS FAQ - GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fflamendless.github.io%2Fecs-vs-oop%2F" target="_blank" title="https://flamendless.github.io/ecs-vs-oop/" ref="nofollow noopener noreferrer">ECS vs OOP | flamendless</a></li>
</ol>
<h3 data-id="heading-133">æ€§èƒ½åˆ†æ</h3>
<ol start="5">
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgist.github.com%2FDreaming381%2F89d65f81b9b430ffead443a2d430defc" target="_blank" title="https://gist.github.com/Dreaming381/89d65f81b9b430ffead443a2d430defc" ref="nofollow noopener noreferrer">Your ECS Probably Still Sucks: Part 1 â€“ Memory Matters</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpaperprototype.medium.com%2Funderstanding-ecs-the-l1-and-l2-cache-and-what-makes-ecs-so-fast-6d0a8f4931dd" target="_blank" title="https://paperprototype.medium.com/understanding-ecs-the-l1-and-l2-cache-and-what-makes-ecs-so-fast-6d0a8f4931dd" ref="nofollow noopener noreferrer">The L1 and L2 CPU cache - Understanding ECS</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.daydreamsoft.com%2Fblog%2Fecs-2-0-data-oriented-micro-kernel-architectures-for-massive-persistent-game-worlds" target="_blank" title="https://www.daydreamsoft.com/blog/ecs-2-0-data-oriented-micro-kernel-architectures-for-massive-persistent-game-worlds" ref="nofollow noopener noreferrer">ECS 2.0 and Data-Oriented Architectures</a></li>
</ol>
<h3 data-id="heading-134">å®ç°æ•™ç¨‹</h3>
<ol start="8">
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgeneralistprogrammer.com%2Ftutorials%2Fentity-component-system-complete-ecs-architecture-tutorial" target="_blank" title="https://generalistprogrammer.com/tutorials/entity-component-system-complete-ecs-architecture-tutorial" ref="nofollow noopener noreferrer">Entity Component System Complete Tutorial 2025</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.unity3d.com%2FPackages%2Fcom.unity.entities%401.0%2Fmanual%2Findex.html" target="_blank" title="https://docs.unity3d.com/Packages/com.unity.entities@1.0/manual/index.html" ref="nofollow noopener noreferrer">Unity DOTS å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fvrealmatic.com%2Funreal-engine%2Fmass" target="_blank" title="https://vrealmatic.com/unreal-engine/mass" ref="nofollow noopener noreferrer">Unreal Mass Framework</a></li>
</ol>
<h3 data-id="heading-135">ä¸­æ–‡èµ„æº</h3>
<ol start="11">
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F30538626" target="_blank" title="https://zhuanlan.zhihu.com/p/30538626" ref="nofollow noopener noreferrer">æ¸¸æˆå¼€å‘ä¸­çš„ ECS æ¶æ„æ¦‚è¿° - çŸ¥ä¹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fquestion%2F286963885%2Fanswer%2F2639451110" target="_blank" title="https://www.zhihu.com/question/286963885/answer/2639451110" ref="nofollow noopener noreferrer">ECS çœŸçš„æ˜¯ã€Œæœªæ¥ä¸»æµã€çš„æ¶æ„å—ï¼Ÿ - çŸ¥ä¹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_42173218%2Farticle%2Fdetails%2F143810581" target="_blank" title="https://blog.csdn.net/weixin_42173218/article/details/143810581" ref="nofollow noopener noreferrer">ECS æ¶æ„åœ¨æ¸¸æˆå¼€å‘ä¸­çš„å®è·µåº”ç”¨ - CSDN</a></li>
</ol>
<h3 data-id="heading-136">Rust ECS èµ„æº</h3>
<ol start="14">
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbevyengine.org%2Flearn%2F" target="_blank" title="https://bevyengine.org/learn/" ref="nofollow noopener noreferrer">Bevy å®˜æ–¹æ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbevy-cheatbook.github.io%2F" target="_blank" title="https://bevy-cheatbook.github.io/" ref="nofollow noopener noreferrer">Bevy Cheat Book</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Famethyst%2Fspecs" target="_blank" title="https://github.com/amethyst/specs" ref="nofollow noopener noreferrer">specs - å¦ä¸€ä¸ª Rust ECS åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRalith%2Fhecs" target="_blank" title="https://github.com/Ralith/hecs" ref="nofollow noopener noreferrer">hecs - è½»é‡çº§ ECS</a></li>
</ol>
<hr/>
<h2 data-id="heading-137">ç»“è¯­</h2>
<p>ECS ä»£è¡¨äº†æ¸¸æˆå¼€å‘ä»"å¯¹è±¡å¯¼å‘"åˆ°"æ•°æ®å¯¼å‘"çš„èŒƒå¼è½¬å˜ã€‚å®ƒä¸æ˜¯è¦å–ä»£ OOPï¼Œè€Œæ˜¯åœ¨ç‰¹å®šåœºæ™¯ä¸‹æä¾›æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ­£å¦‚ Mike Actonï¼ˆUnity DOTS é¦–å¸­æ¶æ„å¸ˆï¼‰æ‰€è¯´ï¼š</p>
<blockquote>
<p><strong>"ä»£ç çš„ç›®çš„æ˜¯è½¬æ¢æ•°æ®ã€‚å¦‚æœä½ ä¸ç†è§£æ•°æ®ï¼Œä½ å°±ä¸ç†è§£é—®é¢˜ã€‚"</strong></p>
</blockquote>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ç†è§£ ECS çš„æœ¬è´¨ï¼Œå¹¶åœ¨åˆé€‚çš„æ—¶å€™åšå‡ºæ­£ç¡®çš„æ¶æ„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Linuxã€‘è¿ç»´å®æˆ˜ç¬”è®° â€” æˆ‘å¸¸ç”¨çš„æ–¹æ³•ä¸å‘½ä»¤]]></title>    <link>https://juejin.cn/post/7601075423003459620</link>    <guid>https://juejin.cn/post/7601075423003459620</guid>    <pubDate>2026-02-01T05:59:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601075423003459620" data-draft-id="7601103779392634943" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Linuxã€‘è¿ç»´å®æˆ˜ç¬”è®° â€” æˆ‘å¸¸ç”¨çš„æ–¹æ³•ä¸å‘½ä»¤"/> <meta itemprop="keywords" content="è¿ç»´,Linux"/> <meta itemprop="datePublished" content="2026-02-01T05:59:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Kidaçš„èººå¹³å°å±‹"/> <meta itemprop="url" content="https://juejin.cn/user/1684864740889758"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Linuxã€‘è¿ç»´å®æˆ˜ç¬”è®° â€” æˆ‘å¸¸ç”¨çš„æ–¹æ³•ä¸å‘½ä»¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1684864740889758/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Kidaçš„èººå¹³å°å±‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T05:59:38.000Z" title="Sun Feb 01 2026 05:59:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. å¿«é€Ÿå®šä½å“ªä¸ªå±‚æ¬¡å‡ºé—®é¢˜</h3>
<p>å½“æœåŠ¡å¼‚å¸¸æˆ–å‘Šè­¦æ—¶ï¼Œæˆ‘ç¬¬ä¸€æ­¥ä¸æ˜¯ç›´æ¥é‡å¯ï¼Œè€Œæ˜¯æŠŠç³»ç»Ÿâ€œç›®å‰çš„æ ·å­â€æŠ“ä¸‹æ¥ï¼Œå‘½ä»¤å¾ˆçŸ­ä½†ä¿¡æ¯å¯†åº¦é«˜ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›ç¨‹ä¸è´Ÿè½½</span>
<span class="hljs-built_in">uptime</span>
top -b -n 1 | <span class="hljs-built_in">head</span> -n 20

<span class="hljs-comment"># å†…å­˜/äº¤æ¢</span>
free -h
vmstat 1 5

<span class="hljs-comment"># ç£ç›˜ç©ºé—´ä¸ inode</span>
<span class="hljs-built_in">df</span> -hT
<span class="hljs-built_in">df</span> -i

<span class="hljs-comment"># I/O ä¸ç­‰å¾…</span>
iostat -xz 1 3   <span class="hljs-comment"># éœ€è¦ sysstat åŒ…</span>
iotop -o         <span class="hljs-comment"># éœ€è¦ iotop</span>

<span class="hljs-comment"># ç½‘ç»œä¾¦æµ‹</span>
ss -tulpn
ip a
ip route
</code></pre>
<p>è¿™äº›è¾“å‡ºèƒ½é©¬ä¸Šå‘Šè¯‰æˆ‘ï¼šCPU è¢«æŸè¿›ç¨‹åƒæ»¡äº†ï¼Ÿå†…å­˜è€—å°½ï¼Ÿç£ç›˜æ»¡äº†å¯¼è‡´å†™å¤±è´¥ï¼Ÿè¿˜æ˜¯ç½‘ç»œç«¯å£æ²¡æœ‰ç›‘å¬ï¼Ÿæˆ‘ä¼šæŠŠè¿™äº›å‘½ä»¤è¾“å‡ºå¤åˆ¶åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œä½œä¸ºåç»­åˆ†æçš„è¯æ®ã€‚</p>
<h3 data-id="heading-1">2. è¿›ç¨‹å±‚é¢ç²¾æŸ¥</h3>
<p>å¦‚æœ top æ˜¾ç¤ºæŸä¸ª PID å ç”¨å¼‚å¸¸ï¼Œæˆ‘ä¼šç”¨ä»¥ä¸‹æ­¥éª¤ç¡®è®¤è¿›ç¨‹è¡Œä¸ºï¼Œä¸è½»æ˜“ killï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ps -eo pid,ppid,cmd,%mem,%cpu --<span class="hljs-built_in">sort</span>=-%cpu | <span class="hljs-built_in">head</span> -n 20

<span class="hljs-comment"># æŸ¥çœ‹è¿›ç¨‹æ‰“å¼€çš„ç½‘ç»œ/æ–‡ä»¶</span>
lsof -p &lt;PID&gt;
ss -p | grep &lt;PID&gt;

<span class="hljs-comment"># è·Ÿè¸ªç³»ç»Ÿè°ƒç”¨ï¼ˆçŸ­æ—¶é—´å†…è§‚å¯Ÿï¼‰</span>
strace -p &lt;PID&gt; -s 200 -o /tmp/strace.&lt;PID&gt;.<span class="hljs-built_in">log</span>
<span class="hljs-comment"># æˆ–åªæŠ“å–é˜»å¡çš„ syscall</span>
strace -p &lt;PID&gt; -e trace=network,file -s 200 -o /tmp/strace.net.log
</code></pre>
<p>æˆ‘ç”¨ <code>strace</code> å¹¶ä¸æ˜¯é•¿æœŸè·Ÿè¸ªï¼Œè€Œæ˜¯æƒ³çŸ¥é“ç¨‹åºå¡åœ¨åš I/Oã€ç­‰å¾…ç½‘ç»œï¼Œè¿˜æ˜¯åœ¨æ— é™å¾ªç¯ã€‚å¦‚æœ <code>strace</code> æ˜¾ç¤º blocked on write æˆ– blocked on futexï¼Œé‚£æˆ‘å°±çŸ¥é“è¿™ä¸æ˜¯ CPU ç®—åŠ›é—®é¢˜ï¼Œè€Œæ˜¯ I/O æˆ–é”ç«äº‰ã€‚</p>
<p>å¦‚æœæ˜¯å†…å­˜é—®é¢˜ï¼Œç”¨ <code>pmap -x &lt;PID&gt;</code> æˆ– <code>smem</code> çœ‹å†…å­˜åˆ†å¸ƒï¼›å¦‚æœæ˜¯é¢‘ç¹åˆ›å»ºå­è¿›ç¨‹å¯¼è‡´ load é«˜ï¼Œç”¨ <code>pstree -p &lt;PID&gt;</code> çœ‹çˆ¶å­å…³ç³»ã€‚</p>
<h3 data-id="heading-2">3. å…ˆè¯»ä¸æ”¹ï¼Œå†åŠ¨æ‰‹</h3>
<p>ç£ç›˜æ»¡ã€inode ç”¨å°½ã€æ–‡ä»¶ç³»ç»Ÿé”™ä¹±æ˜¯æˆ‘é‡åˆ°æœ€å¤šçš„åœæœæ¥æºã€‚å…³é”®åŸåˆ™ï¼š<strong>èƒ½è¯»å°±å¤‡ä»½</strong>ã€‚</p>
<p>æŸ¥ç£ç›˜å ç”¨æ—¶ï¼Œæˆ‘ä¸ç›´æ¥ç”¨ <code>du /</code>ï¼ˆå¤ªæ…¢ï¼‰ï¼Œè€Œæ˜¯åˆ†çº§å®šä½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤§ç›®å½•ä¸€è§ˆï¼Œå¿«é€Ÿæ‰¾åˆ°â€œèƒ–ç›®å½•â€</span>
<span class="hljs-built_in">du</span> -xsh /var/* | <span class="hljs-built_in">sort</span> -rh | <span class="hljs-built_in">head</span> -n 20

<span class="hljs-comment"># å®šä½å•ä¸ªç›®å½•ä¸‹çš„å¤§æ–‡ä»¶</span>
find /var/log -xdev -<span class="hljs-built_in">type</span> f -size +100M -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">ls</span> -lh {} \;

<span class="hljs-comment"># æŸ¥ inode ä½¿ç”¨</span>
<span class="hljs-built_in">df</span> -i
</code></pre>
<p>ç£ç›˜æ»¡äº†èƒ½çŸ­æœŸæ•‘æ€¥çš„åšæ³•æˆ‘ä¼šå…ˆç”¨ï¼šæ¸…ç†æ—§æ—¥å¿—ï¼ˆä½†ä¿ç•™å¤‡ä»½ï¼‰ï¼Œå‹ç¼©å½’æ¡£å†·æ•°æ®ï¼Œæˆ–æŠŠæŸä¸ªç›®å½•ä¸´æ—¶æŒ‚åˆ°å¦ä¸€ä¸ªç£ç›˜ä¸Šï¼ˆmount --bindï¼‰ã€‚åªæœ‰åœ¨ç¡®è®¤æ²¡æœ‰å…¶ä»–åŠæ³•æ—¶æ‰åˆ é™¤æ–‡ä»¶ï¼Œå¹¶æŠŠåˆ é™¤æ¸…å•è®°å½•ä¸‹æ¥ã€‚</p>
<p>è‹¥é‡åˆ° filesystem corruptionï¼Œæˆ‘ä¼šå…ˆç”¨ <code>fsck.ext4 -n /dev/sdX</code> åšåªè¯»æ£€æŸ¥ï¼Œç„¶ååšé•œåƒ <code>dd if=/dev/sdX of=/backup/sdX.img bs=4M status=progress</code>ï¼ˆå¦‚æœç›˜è¿˜èƒ½è¯»ï¼‰ï¼Œå†åœ¨é•œåƒä¸Šå°è¯•ä¿®å¤ï¼Œè¿™æ ·æŠŠé£é™©é™åˆ°æœ€ä½ã€‚</p>
<h3 data-id="heading-3">4. æˆ‘å¦‚ä½•å¿«é€Ÿä»æ—¥å¿—é‡ŒæŠ“é—®é¢˜</h3>
<p>æˆ‘ç»å¸¸ç”¨ <code>journalctl</code> å’Œ <code>tail -F</code> è”åˆæŠ“å–æœåŠ¡æ—¥å¿—ã€‚<code>journalctl</code> çš„æ—¶é—´è¿‡æ»¤å¾ˆæœ‰ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç³»ç»Ÿ journal</span>
journalctl -xe --no-pager

<span class="hljs-comment"># æŸä¸ªæœåŠ¡æœ€è¿‘ 200 è¡Œå¹¶æŒç»­è·Ÿè¸ª</span>
journalctl -u myservice -n 200 -f

<span class="hljs-comment"># grep å…³é”®è¯ï¼ˆæ³¨æ„ journalctl è‡ªå¸¦è¿‡æ»¤ï¼‰</span>
journalctl -u myservice --since <span class="hljs-string">"2026-01-25 10:00"</span> --until <span class="hljs-string">"2026-01-25 11:00"</span> | grep -i error
</code></pre>
<p>æˆ‘ä¸€èˆ¬ä¸ä¼šä¸€æ¬¡è¯»å…¨æ—¥å¿—ï¼Œè€Œæ˜¯å…ˆå®šä½æ—¶é—´çª—å£ï¼ˆæŠ¥è­¦è§¦å‘æ—¶åˆ»å‰å 5 åˆ†é’Ÿï¼‰ï¼Œç„¶åå‘å¤–æ‰©å±•ã€‚å¾ˆå¤šæ—¶å€™æ ¹å› å°±åœ¨é‚£çŸ­çŸ­å‡ è¡Œå †æ ˆæˆ–é”™è¯¯ä»£ç é‡Œã€‚</p>
<h3 data-id="heading-4">5. éªŒè¯é“¾è·¯ã€ç«¯å£ã€DNSã€è·¯ç”±</h3>
<p>ç½‘ç»œæ•…éšœå¸¸æœ‰ä¸‰ç§è¡¨ç°ï¼šæœ¬æœºæ— æ³•è®¿é—®ã€ç«¯å£æœªç›‘å¬ã€è¿œç¨‹ä¸é€šã€‚æˆ‘å¸¸åšçš„é¡ºåºæ˜¯ï¼š</p>
<ol>
<li><code>ip a</code> çœ‹åœ°å€ï¼›2. <code>ss -tulpn</code> ç¡®è®¤æœåŠ¡åœ¨ç›‘å¬ï¼›3. <code>curl -I http://127.0.0.1:ç«¯å£</code> éªŒè¯æœ¬æœºæœåŠ¡ï¼›4. <code>tcpdump -i &lt;if&gt; host &lt;peer&gt;</code> æŠ“åŒ…çœ‹æµé‡ã€‚</li>
</ol>
<p>ä¸¾ä¸ªæˆ‘å¸¸ç”¨çš„æŠ“åŒ…å‘½ä»¤ï¼šæˆ‘æƒ³çœ‹ä¸è¿œç«¯ 10.1.2.3 çš„è¿æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo tcpdump -i eth0 host 10.1.2.3 -nn -s0 -w /tmp/cap.pcap
</code></pre>
<p>æŠ“å®Œæˆ‘ä¼šç”¨ Wireshark/<code>tcpdump -r</code> æœ¬åœ°æŸ¥çœ‹æ˜¯å¦æœ‰ä¸‰æ¬¡æ¡æ‰‹ï¼Œæ˜¯å¦æœ‰ RSTï¼Œæˆ–è€…æ˜¯å¦åªæ˜¯åº”ç”¨å±‚è¶…æ—¶ã€‚</p>
<h3 data-id="heading-5">6. æœåŠ¡ç®¡ç†ä¸å¿«é€Ÿæ¢å¤çš„å¥—è·¯</h3>
<p>æˆ‘å§‹ç»ˆåšæŒâ€œå…ˆæ¢å¤æœåŠ¡ï¼Œå†åšæ ¹å› åˆ†æâ€ã€‚è¿™é€šå¸¸æ„å‘³ç€å¿«é€Ÿé‡å¯ service æˆ–åˆ‡æ¢åˆ°å¤‡å®ä¾‹ï¼Œè€Œä¸æ˜¯ç›²ç›®è°ƒå‚ã€‚å¸¸ç”¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">systemctl status myservice
systemctl restart myservice
systemctl stop myservice
journalctl -u myservice -n 200 -f
</code></pre>
<p>å¦‚æœé‡å¯åé—®é¢˜æ¶ˆå¤±ï¼Œæˆ‘ä¸ä¼šå½“åœºæŠŠç³»ç»Ÿå‡çº§æˆ–æ”¹é…ç½®ï¼›æˆ‘ä¼šæŠŠæ¢å¤æ­¥éª¤è®°å½•ï¼Œæ ‡æ³¨ä¸ºâ€œä¸´æ—¶æ¢å¤â€ï¼Œå¹¶åœ¨äº‹åä½å³°æ—¶æ®µåšæ·±å…¥æ’æŸ¥ã€‚</p>
<h3 data-id="heading-6">7. å¤‡ä»½ä¸æ¢å¤</h3>
<p>æˆ‘åå¥½ <code>rsync</code> åšæ–‡ä»¶/ç›®å½•çº§å¤‡ä»½ï¼Œå› ä¸ºå®ƒç®€å•ä¸”å¯å¢é‡ã€‚ç¤ºä¾‹æˆ‘å¸¸ç”¨çš„å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">rsync -aHAX --delete --info=progress2 /data/ /backup/data/
<span class="hljs-comment"># è¯´æ˜ï¼š-aHAX ä¿æŒæƒé™/ç¡¬é“¾æ¥/ACL/æ‰©å±•å±æ€§ï¼›--delete ä¿è¯ç›®æ ‡é•œåƒæºï¼›--info æ˜¾ç¤ºè¿›åº¦</span>
</code></pre>
<p>å¯¹äºæ›´å¤æ‚çš„ç‰ˆæœ¬åŒ–å¤‡ä»½ï¼Œæˆ‘ä¼šç”¨ <code>rsync --link-dest</code> åšç¡¬é“¾æ¥å¢é‡ï¼Œæˆ–è€…é•¿æœŸä½¿ç”¨ <code>restic</code> / <code>borg</code> åšå»é‡å’ŒåŠ å¯†å¤‡ä»½ï¼Œè¿™é‡Œæˆ‘ä¸ªäººåå¥½ restic çš„ç®€å•æ€§ã€‚</p>
<p>é‡è¦çš„æ˜¯ï¼šæ¯æ¬¡å¤‡ä»½åéƒ½åšæ¢å¤æ¼”ç»ƒã€‚å¤‡ä»½ä¸éªŒè¯ = æ²¡æœ‰å¤‡ä»½ã€‚</p>
<h3 data-id="heading-7">8. å‡çº§ã€æ‰“è¡¥ä¸ä¸å˜æ›´ç®¡ç†</h3>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œå‡çº§æ˜¯é£é™©ç®¡ç†è€Œä¸æ˜¯ä¾‹è¡Œæ“ä½œã€‚åŸåˆ™ä¸Šæˆ‘åœ¨ä¸‰å±‚ç¯å¢ƒè·‘å‡çº§ï¼š</p>
<ol>
<li>æœ¬åœ°å¼€å‘æœºï¼ˆå¿«é€ŸéªŒè¯ï¼‰</li>
<li>ç°åº¦æˆ–æµ‹è¯•ç¯å¢ƒï¼ˆä¸šåŠ¡åœºæ™¯è¦†ç›–ï¼‰</li>
<li>ç”Ÿäº§ï¼ˆä½å³°çª—å£ï¼Œå…ˆå¤‡ä»½ï¼‰</li>
</ol>
<p>å¦‚æœæ˜¯å…³é”®ç»„ä»¶ï¼ˆå†…æ ¸ã€æ•°æ®åº“ã€å®¹å™¨ runtimeï¼‰ï¼Œæˆ‘ä¼šå…ˆæ‹å¿«ç…§æˆ–å¤‡ä»½æ•°æ®ï¼Œå¹¶å‡†å¤‡å›æ»šè®¡åˆ’ã€‚å¾ˆå¤šæ•…éšœæ¥è‡ªâ€œç‰ˆæœ¬è·³å¤ªå¤§â€ï¼Œæ‰€ä»¥åˆ†é˜¶æ®µã€æ¯æ¬¡æ”¹ä¸€ä¸ªç»´åº¦ï¼Œæ˜¯æˆ‘ä¸å‡ºæ„å¤–çš„ä¿å‘½æ³•åˆ™ã€‚</p>
<h3 data-id="heading-8">9. â€œæ•‘å‘½â€å‘½ä»¤</h3>
<p>ä¸‹é¢è¿™äº›å‘½ä»¤æˆ‘æŠŠå®ƒä»¬èƒŒåœ¨æ‰‹ä¸Šï¼Œå…³é”®æ—¶åˆ»èƒ½æ•‘åœºï¼ˆæ¯ä¸ªå‘½ä»¤å‰åçš„è¯­å¢ƒæˆ‘éƒ½ä¼šå…ˆç¡®è®¤ï¼‰ï¼š</p>
<ul>
<li>æ‰¾å ç©ºé—´çš„æ–‡ä»¶ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">du</span> -xsh /var/* | <span class="hljs-built_in">sort</span> -rh | <span class="hljs-built_in">head</span> -n 20
</code></pre>
<ul>
<li>æ‰¾å¤§äº 100MB çš„æ–‡ä»¶ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">find / -xdev -<span class="hljs-built_in">type</span> f -size +100M -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">ls</span> -lh {} \; | <span class="hljs-built_in">sort</span> -k5 -h
</code></pre>
<ul>
<li>å¿«é€ŸæŸ¥çœ‹æŸç«¯å£è°åœ¨å ç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">ss -tulpn | grep :80
</code></pre>
<ul>
<li>æŠŠæŸä¸ªæœåŠ¡æ—¥å¿—æµå¼ä¿å­˜å¹¶ grep é”™è¯¯ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">journalctl -u myservice -f |&amp; <span class="hljs-built_in">tee</span> /tmp/myservice.log | grep -i error
</code></pre>
<ul>
<li>ä¸´æ—¶å¢åŠ  swapï¼ˆçŸ­æœŸæ•‘å†…å­˜ä¸è¶³ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo fallocate -l 1G /swapfile
sudo <span class="hljs-built_in">chmod</span> 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
</code></pre>
<p>è¿™äº›å‘½ä»¤çœ‹èµ·æ¥ç®€å•ï¼Œä½†ç”¨äº†å°±çŸ¥é“ï¼šåœ¨ç´§æ€¥æƒ…å†µä¸‹ï¼Œé€Ÿåº¦å’Œè¯æ®æ¯”å®Œç¾çš„æ­¥éª¤æ›´é‡è¦ã€‚</p>
<h3 data-id="heading-9">10. æˆ‘çš„å°ä¹ æƒ¯</h3>
<p>æˆ‘æŠŠè¿™äº›ä¹ æƒ¯æ”¾åœ¨æœ€åï¼Œå› ä¸ºå®ƒä»¬å¾€å¾€æ¯”ä¸€å †å‘½ä»¤æ›´èƒ½é™ä½äº‹æ•…ç‡ï¼š</p>
<ul>
<li>æ¯æ¬¡å˜æ›´å†™å˜æ›´æ—¥å¿—ï¼Œè®°å½•æ—¶é—´ã€æ“ä½œäººå’Œå›æ»šæ­¥éª¤ã€‚</li>
<li>æŠŠå¸¸ç”¨çš„æ’é”™æ­¥éª¤å†™æˆè„šæœ¬æˆ– playbookï¼ˆAnsibleï¼‰ï¼Œé¿å…â€œæ‰‹å·¥å¤±è¯¯â€ã€‚</li>
<li>å®šæœŸæ¼”ç»ƒæ¢å¤ï¼Œä» 1 æ¬¡å˜æ›´å¼€å§‹å»ºç«‹ä¿¡å¿ƒé“¾ã€‚</li>
<li>å¯¹ç”Ÿäº§æœºå™¨åšæœ€å°æƒé™é…ç½®ï¼Œé¿å…è¿ç»´è¯¯æ“ä½œé€ æˆçº§è”æ•…éšœã€‚</li>
<li>å¯¹å…³é”®ç›˜åš SMART å®šæœŸæ£€æµ‹å¹¶é¢„è­¦ï¼ˆ<code>smartctl -H /dev/sdX</code>ï¼‰ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ˜æ˜ç¯å¢ƒå˜é‡å·²ç»è§£å¯†ï¼Œä¸ºå•¥@ConfigurationProperties æ³¨å…¥è¿˜æ˜¯åŠ å¯†å€¼ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7601757036486180874</link>    <guid>https://juejin.cn/post/7601757036486180874</guid>    <pubDate>2026-02-01T09:22:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601757036486180874" data-draft-id="7601374668961087538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ˜æ˜ç¯å¢ƒå˜é‡å·²ç»è§£å¯†ï¼Œä¸ºå•¥@ConfigurationProperties æ³¨å…¥è¿˜æ˜¯åŠ å¯†å€¼ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,Spring Boot"/> <meta itemprop="datePublished" content="2026-02-01T09:22:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="javadaydayup"/> <meta itemprop="url" content="https://juejin.cn/user/2436173497635703"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ˜æ˜ç¯å¢ƒå˜é‡å·²ç»è§£å¯†ï¼Œä¸ºå•¥@ConfigurationProperties æ³¨å…¥è¿˜æ˜¯åŠ å¯†å€¼ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173497635703/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    javadaydayup
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-01T09:22:22.000Z" title="Sun Feb 01 2026 09:22:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨å¾®æœåŠ¡çš„ application.properties æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ª <code>test.container-name</code> é…ç½®ã€‚åŸå§‹é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json">test.container-name=Tomcat
</code></pre>
<p>åŒæ—¶æœ‰ä¸€ä¸ª Java ç±» <code>TestConfigProperty</code> ä¸­é€šè¿‡ <code>@ConfigurationProperties</code> æ³¨è§£æ³¨å…¥è¿™ä¸ªé…ç½®å±æ€§åˆ°å®ƒçš„å˜é‡ <code>containerName</code> ä¸­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ConfigurationProperties(prefix = "test")</span>  
<span class="hljs-meta">@Component</span>  
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestConfigProperty</span> {  
    <span class="hljs-keyword">private</span> String containerName;  
  
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getContainerName</span><span class="hljs-params">()</span> {  
        <span class="hljs-keyword">return</span> containerName;  
    }  
  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContainerName</span><span class="hljs-params">(String containerName)</span> {  
        <span class="hljs-built_in">this</span>.containerName = containerName;  
    }  
}
</code></pre>
<p>ç°åœ¨å› ä¸º <code>test.container-name</code> é…ç½®åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸èƒ½ç›´æ¥é…ç½®åŸå§‹çš„å€¼ï¼Œéœ€è¦é…ç½®åŠ å¯†ä¹‹åçš„å€¼ï¼Œåœ¨å¾®æœåŠ¡å¯åŠ¨çš„æ—¶å€™è§£å¯†ã€‚ç°åœ¨æ˜¯ <code>test.container-name</code> é…ç½®å¼•ç”¨äº† <code>TEST_CONTAINER_NAME</code> ç¯å¢ƒå˜é‡ã€‚é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json">test.container-name=$<span class="hljs-punctuation">{</span>TEST_CONTAINER_NAME<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶ååœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®äº†åŠ å¯†ä¹‹åçš„å€¼ã€‚åœ¨æœ¬æ¡ˆä¾‹ä¸­ä¸ºäº†ç®€åŒ–ï¼Œè¿™é‡ŒåŠ å¯†å°±ç”¨çš„ Base64 ç¼–ç ä½œä¸ºç¤ºä¾‹æ¼”ç¤ºã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca0f88057f3e4d5eae36f559d6e01316~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=gMr0YUyh5qjOQBz3ADuPbKgWnkA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e52a4f158d6a4f6e93734ccf6d542123~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=3VNIDUS4SGCIatuyqV5mykvdiuY%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨é¡¹ç›®ä¸­æœ‰æ¡†æ¶æä¾›äº†åœ¨å¾®æœåŠ¡å¯åŠ¨æ—¶å¯¹åŠ å¯†åçš„å­—ç¬¦ä¸²è§£å¯†çš„èƒ½åŠ›ï¼Œå®ç°çš„åŸºæœ¬åŸç†æ˜¯æä¾›äº†ä¸€ä¸ª <code>DecryptEnvironmentPostProcessor</code> ç±»æ‰©å±•äº† <code>EnvironmentPostProcessor</code>ã€‚</p>
<p>åœ¨å®ƒçš„ <code>postProcessEnvironment()</code> æ–¹æ³•ä¸­ï¼Œåˆ¤æ–­ç¯å¢ƒå˜é‡é…ç½®çš„å€¼æ˜¯å¦æ˜¯ä»¥ <code>ENC_</code> å¼€å¤´ï¼Œå¦‚æœæ˜¯åˆ™è¿›è¡Œè§£å¯†ã€‚è§£å¯†ä¹‹åæ”¾åˆ°ä¸€ä¸ª <code>MapPropertySource</code> é‡Œé¢ï¼Œç„¶åæ·»åŠ åˆ°æ‰€æœ‰çš„ <code>PropertySource</code> çš„å‰é¢ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DecryptEnvironmentPostProcessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">EnvironmentPostProcessor</span>, Ordered {  
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DECRYPTED_SOURCE_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">"decryptedSystemEnvironment"</span>;  
  
    <span class="hljs-meta">@Override</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postProcessEnvironment</span><span class="hljs-params">(ConfigurableEnvironment environment, SpringApplication application)</span> {  
        <span class="hljs-type">String</span> <span class="hljs-variable">systemEnvName</span> <span class="hljs-operator">=</span> StandardEnvironment.SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME;  
        <span class="hljs-type">MapPropertySource</span> <span class="hljs-variable">systemEnvSource</span> <span class="hljs-operator">=</span> (MapPropertySource) environment.getPropertySources().get(systemEnvName);  
        Map&lt;String, Object&gt; decryptedMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();  
        <span class="hljs-keyword">if</span> (systemEnvSource == <span class="hljs-literal">null</span>) {  
            <span class="hljs-keyword">return</span>;  
        }  
        systemEnvSource.getSource().forEach((key, value) -&gt; {  
            <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> String strVal) {  
                <span class="hljs-comment">// è¿™é‡Œè¿›è¡Œäº†è§£å¯†</span>
                <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(strVal) &amp;&amp; strVal.startsWith(<span class="hljs-string">"ENC_"</span>)) {  
                    <span class="hljs-type">String</span> <span class="hljs-variable">plainText</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(Base64.getDecoder().decode(strVal.substring(<span class="hljs-number">4</span>)));  
                    decryptedMap.put(key, plainText);  
                }  
            }  
        });  
  
        <span class="hljs-keyword">if</span> (!decryptedMap.isEmpty()) {  
            <span class="hljs-type">MapPropertySource</span> <span class="hljs-variable">decryptedSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapPropertySource</span>(DECRYPTED_SOURCE_NAME, decryptedMap);  
            <span class="hljs-comment">// è¿™é‡Œæ·»åŠ åˆ°æ‰€æœ‰çš„PropertySourceçš„å‰é¢</span>
            environment.getPropertySources().addBefore(systemEnvName, decryptedSource);  
        }  
    }  
  
    <span class="hljs-meta">@Override</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getOrder</span><span class="hljs-params">()</span> {  
        <span class="hljs-keyword">return</span> Ordered.LOWEST_PRECEDENCE;  
    }  
}
</code></pre>
<p>æŒ‰ç…§ä¸Šè¿°é…ç½®ï¼Œé€šè¿‡è°ƒè¯•å‘ç°ç±» <code>TestConfigProperty</code> é‡Œé¢æ³¨å…¥çš„è¿˜æ˜¯åŠ å¯†ä¹‹åçš„å€¼ï¼Œè€Œå¹¶ä¸æ˜¯æƒ³è¦çš„è§£å¯†ä¹‹åçš„å€¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7febef8cf8d64f9eab907bfc32976d9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=3I3BTahEgirLSaZpetbx551a75E%3D" alt="image.png" loading="lazy"/>
æŸ¥çœ‹ <code>Environment</code> çš„ <code>getPropertySources()</code> æ–¹æ³•çš„è¿”å›å€¼ä¸­ï¼Œè§£å¯†ä¹‹åçš„ç¯å¢ƒå˜é‡å±æ€§é…ç½®ç¡®å®æ˜¯åœ¨æœªè§£å¯†çš„ç¯å¢ƒå˜é‡å±æ€§é…ç½®ä¹‹å‰ï¼ŒæŒ‰ç…§ç›´è§‚ä¸Šçš„ç†è§£ï¼Œé‚£åº”è¯¥æ³¨å…¥çš„æ˜¯è§£å¯†ä¹‹åçš„å€¼æ‰å¯¹ï¼Œä½†æ˜¯å®é™…ç»“æœå´ä¸æ˜¯è¿™æ ·çš„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/391d4555f2d24e7590c802929faa12a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=v8iGSq8AM1P5eIPa68BSjrhBwuM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">é—®é¢˜åŸç†</h2>
<p>ä¹‹å‰çš„æ–‡ç« <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1920208706978678739" target="_blank" title="https://zhuanlan.zhihu.com/p/1920208706978678739" ref="nofollow noopener noreferrer">è¿™å°±æ˜¯å®½æ¾çš„é€‚é…è§„åˆ™ï¼</a>é‡Œé¢è®²äº†å®½æ¾é€‚é…çš„åŸç†ã€‚åœ¨ Spring çš„æ¡†æ¶ä½“ç³»ä¸­æ˜¯åœ¨ <code>ConfigurationPropertiesBindingPostProcessor</code> ä¸­çš„ <code>postProcessBeforeInitialization()</code> ä¸­å®ç°å¯¹æœ‰ <code>@ConfigurationProperties</code> æ³¨è§£ä¿®é¥°ç±»çš„å±æ€§è¿›è¡Œç»‘å®šçš„ã€‚</p>
<p>åœ¨å®ƒçš„å†…éƒ¨å®é™…ä¸Šæ˜¯é€šè¿‡è°ƒç”¨ <code>ConfigurationPropertiesBinder</code> çš„ <code>bind()</code> æ¥å®ç°å±æ€§ç»‘å®šçš„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigurationPropertiesBindingPostProcessor</span>
    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BeanPostProcessor</span>, PriorityOrdered, ApplicationContextAware, InitializingBean {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">postProcessBeforeInitialization</span><span class="hljs-params">(Object bean, String beanName)</span> <span class="hljs-keyword">throws</span> BeansException {
        <span class="hljs-keyword">if</span> (!hasBoundValueObject(beanName)) {
            bind(ConfigurationPropertiesBean.get(<span class="hljs-built_in">this</span>.applicationContext, bean, beanName));
        }
        <span class="hljs-keyword">return</span> bean;
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">bind</span><span class="hljs-params">(ConfigurationPropertiesBean bean)</span> {
        <span class="hljs-keyword">if</span> (bean == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span>;
        }
        Assert.state(bean.asBindTarget().getBindMethod() != BindMethod.VALUE_OBJECT,
                <span class="hljs-string">"Cannot bind @ConfigurationProperties for bean '"</span> + bean.getName()
                        + <span class="hljs-string">"'. Ensure that @ConstructorBinding has not been applied to regular bean"</span>);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è¿™é‡Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº†ConfigurationPropertiesBinderçš„bind()æ–¹æ³•</span>
            <span class="hljs-built_in">this</span>.binder.bind(bean);
        }
        <span class="hljs-keyword">catch</span> (Exception ex) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConfigurationPropertiesBindException</span>(bean, ex);
        }
    }
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30abd11f72ee4451bd3485b0efd1b517~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=zkmWXk%2BIPF0kJ62wXNgIDc7hwEQ%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ <code>ConfigurationPropertiesBinder</code> çš„ <code>bind()</code> æ–¹æ³•åˆè°ƒç”¨äº† <code>Binder</code> çš„ <code>bind()</code> æ–¹æ³•ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96c6b918c1c149d097e70002cd3ce457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=AbRbeZHWRpArvIKHGQC7b%2BvJx2U%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è°ƒç”¨  <code>Binder</code> çš„ <code>bind()</code> æ–¹æ³•æ—¶ï¼Œä¼šæŠŠæ³¨è§£ä¸Šé…ç½®çš„å‰ç¼€ä¼ è¿›å»ï¼Œåœ¨æœ¬æ¡ˆä¾‹ä¸­å°±æ˜¯ <code>test</code>ï¼Œå¹¶åŸºäºè¿™ä¸ªå‰ç¼€åˆ›å»ºä¸€ä¸ª <code>ConfigurationPropertyName</code> å¯¹è±¡ï¼Œç„¶åæœ€ç»ˆè°ƒç”¨åˆ° <code>bindObject()</code> æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Binder</span> {
    <span class="hljs-keyword">public</span> &lt;T&gt; BindResult&lt;T&gt; <span class="hljs-title function_">bind</span><span class="hljs-params">(String name, Bindable&lt;T&gt; target, BindHandler handler)</span> {
        <span class="hljs-comment">// è¿™é‡ŒåŸºäºtestå‰ç¼€åˆ›å»ºäº†ConfigurationPropertyNameå¯¹è±¡</span>
        <span class="hljs-keyword">return</span> bind(ConfigurationPropertyName.of(name), target, handler);
    }
    
    <span class="hljs-keyword">private</span> &lt;T&gt; T <span class="hljs-title function_">bind</span><span class="hljs-params">(ConfigurationPropertyName name, Bindable&lt;T&gt; target, BindHandler handler, Context context,
        <span class="hljs-type">boolean</span> allowRecursiveBinding, <span class="hljs-type">boolean</span> create)</span> {
        <span class="hljs-keyword">try</span> {
            Bindable&lt;T&gt; replacementTarget = handler.onStart(name, target, context);
            <span class="hljs-keyword">if</span> (replacementTarget == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> handleBindResult(name, target, handler, context, <span class="hljs-literal">null</span>, create);
            }
            target = replacementTarget;
            <span class="hljs-comment">// è°ƒç”¨bindObject()æ–¹æ³•</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">bound</span> <span class="hljs-operator">=</span> bindObject(name, target, handler, context, allowRecursiveBinding);
            <span class="hljs-keyword">return</span> handleBindResult(name, target, handler, context, bound, create);
        }
        <span class="hljs-keyword">catch</span> (Exception ex) {
            <span class="hljs-keyword">return</span> handleBindError(name, target, handler, context, ex);
        }
    }
}
</code></pre>
<p>åœ¨  <code>bindObject()</code> ä¸­é¦–å…ˆè°ƒç”¨ <code>findProperty()</code> æ–¹æ³•æŸ¥æ‰¾å±æ€§ï¼Œå› ä¸ºå½“å‰åªæ˜¯å‰ç¼€ <code>test</code>ï¼Œå› æ­¤è‚¯å®šæ˜¯æ‰¾ä¸åˆ°å¯¹åº”çš„å±æ€§é…ç½®çš„ã€‚ å› æ­¤å¾€ä¸‹èµ°ä¼šè°ƒç”¨åˆ° <code>bindDataObject()</code>æ–¹æ³•ã€‚å¯¹äº JavaBean æ¥è¯´ï¼Œåœ¨ <code>Binder</code> çš„ <code>bindDataObject()</code> æ–¹æ³•æœ€ç»ˆä¼šè°ƒç”¨åˆ° <code>JavaBeanBinder</code> çš„ <code>bind()</code> æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Binder</span> {
    <span class="hljs-keyword">private</span> &lt;T&gt; Object <span class="hljs-title function_">bindObject</span><span class="hljs-params">(ConfigurationPropertyName name, Bindable&lt;T&gt; target, BindHandler handler,
	    Context context, <span class="hljs-type">boolean</span> allowRecursiveBinding)</span> {
	    <span class="hljs-type">ConfigurationProperty</span> <span class="hljs-variable">property</span> <span class="hljs-operator">=</span> findProperty(name, target, context);
	    <span class="hljs-keyword">if</span> (property == <span class="hljs-literal">null</span> &amp;&amp; context.depth != <span class="hljs-number">0</span> &amp;&amp; containsNoDescendantOf(context.getSources(), name)) {
	        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
	    }
	    <span class="hljs-comment">// çœç•¥ä¸­é—´ä»£ç </span>
	    
	    <span class="hljs-comment">//è°ƒç”¨bindDataObject()æ–¹æ³•</span>
	    <span class="hljs-keyword">return</span> bindDataObject(name, target, handler, context, allowRecursiveBinding);
	}

    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">bindDataObject</span><span class="hljs-params">(ConfigurationPropertyName name, Bindable&lt;?&gt; target, BindHandler handler,
            Context context, <span class="hljs-type">boolean</span> allowRecursiveBinding)</span> {
        <span class="hljs-keyword">if</span> (isUnbindableBean(name, target, context)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        Class&lt;?&gt; type = target.getType().resolve(Object.class);
        <span class="hljs-type">BindMethod</span> <span class="hljs-variable">bindMethod</span> <span class="hljs-operator">=</span> target.getBindMethod();
        <span class="hljs-keyword">if</span> (!allowRecursiveBinding &amp;&amp; context.isBindingDataObject(type)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-comment">// æ³¨æ„è¿™é‡Œçš„lambdaè¡¨è¾¾å¼ï¼Œåœ¨JavaBeanBinderçš„bind()æ–¹æ³•æœ€ç»ˆåˆä¼šè°ƒç”¨åˆ°è¿™ä¸ªlambdaè¡¨è¾¾å¼</span>
        <span class="hljs-type">DataObjectPropertyBinder</span> <span class="hljs-variable">propertyBinder</span> <span class="hljs-operator">=</span> (propertyName, propertyTarget) -&gt; bind(name.append(propertyName),
                propertyTarget, handler, context, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);
                
	    <span class="hljs-comment">// è¿™é‡Œä¼šè°ƒç”¨åˆ°JavaBeanBinderçš„bind()æ–¹æ³•</span>
        <span class="hljs-keyword">return</span> context.withDataObject(type, () -&gt; fromDataObjectBinders(bindMethod,
                (dataObjectBinder) -&gt; dataObjectBinder.bind(name, target, context, propertyBinder)));
    }
}
</code></pre>
<p>åœ¨ <code>JavaBeanBinder</code> çš„ <code>bind()</code> æ–¹æ³•ä¸­ä¼šè·å–è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰çš„ <code>BeanProperty</code>ï¼Œç„¶ååˆåè°ƒç”¨å› <code>Binder</code> ä¸­çš„lambdaè¡¨è¾¾å¼äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">JavaBeanBinder</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DataObjectBinder</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">bind</span><span class="hljs-params">(ConfigurationPropertyName name, Bindable&lt;T&gt; target, Context context,
            DataObjectPropertyBinder propertyBinder)</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">hasKnownBindableProperties</span> <span class="hljs-operator">=</span> target.getValue() != <span class="hljs-literal">null</span> &amp;&amp; hasKnownBindableProperties(name, context);
        Bean&lt;T&gt; bean = Bean.get(target, hasKnownBindableProperties);
        <span class="hljs-keyword">if</span> (bean == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        BeanSupplier&lt;T&gt; beanSupplier = bean.getSupplier(target);
        <span class="hljs-type">boolean</span> <span class="hljs-variable">bound</span> <span class="hljs-operator">=</span> bind(propertyBinder, bean, beanSupplier, context);
        <span class="hljs-keyword">return</span> (bound ? beanSupplier.get() : <span class="hljs-literal">null</span>);
    }
    
    <span class="hljs-keyword">private</span> &lt;T&gt; <span class="hljs-type">boolean</span> <span class="hljs-title function_">bind</span><span class="hljs-params">(DataObjectPropertyBinder propertyBinder, Bean&lt;T&gt; bean, BeanSupplier&lt;T&gt; beanSupplier,
        Context context)</span> {
        <span class="hljs-type">boolean</span> <span class="hljs-variable">bound</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (BeanProperty beanProperty : bean.getProperties().values()) { <span class="hljs-comment">// è·å–è¿™ä¸ªå¯¹è±¡ä¸Šæ‰€æœ‰çš„BeanPropertyå±æ€§</span>
            bound |= bind(beanSupplier, propertyBinder, beanProperty);
            context.clearConfigurationProperty();
        }
        <span class="hljs-keyword">return</span> bound;
    }
    
    <span class="hljs-keyword">private</span> &lt;T&gt; <span class="hljs-type">boolean</span> <span class="hljs-title function_">bind</span><span class="hljs-params">(BeanSupplier&lt;T&gt; beanSupplier, DataObjectPropertyBinder propertyBinder,
        BeanProperty property)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">propertyName</span> <span class="hljs-operator">=</span> determinePropertyName(property);
        <span class="hljs-type">ResolvableType</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> property.getType();
        Supplier&lt;Object&gt; value = property.getValue(beanSupplier);
        Annotation[] annotations = property.getAnnotations();
        <span class="hljs-type">Object</span> <span class="hljs-variable">bound</span> <span class="hljs-operator">=</span> propertyBinder.bindProperty(propertyName, <span class="hljs-comment">//è¿™ä¸ªåœ°æ–¹å®é™…ä¸Šåˆåè°ƒç”¨å›Binderä¸­çš„lambdaè¡¨è¾¾å¼äº†</span>
                Bindable.of(type).withSuppliedValue(value).withAnnotations(annotations));
        <span class="hljs-keyword">if</span> (bound == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (property.isSettable()) {
            property.setValue(beanSupplier, bound);
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span> || !bound.equals(value.get())) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"No setter found for property: "</span> + property.getName());
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><code>BeanProperty</code> å¯¹è±¡ä¼šå°† JavaBean ä¸­çš„å±æ€§ç»Ÿä¸€ä¸º Dash æ ¼å¼ã€‚åœ¨æœ¬æ¡ˆä¾‹ä¸­å±æ€§åç§°æ˜¯ <code>containerName</code>ï¼Œç»Ÿä¸€ä¹‹åå°±å˜æˆäº† <code>container-name</code>ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8eb95c0912154e9c998600207f72451f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=Qg0dmDKlyy1kzjRH%2F%2FS6uc7tY9U%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ <code>Binder</code> ä¸­ lambda è¡¨è¾¾å¼ä¼šå°†å±æ€§æ‹¼æ¥åˆ°å·²æœ‰çš„ <code>ConfigurationPropertyName</code> å‰ç¼€ä¸Šï¼Œåœ¨æœ¬æ¡ˆä¾‹ä¸­å°±å˜æˆäº† <code>test.container-name</code>ã€‚ç„¶ååˆé€’å½’è°ƒç”¨ <code>bind()</code> æ–¹æ³•ï¼Œç„¶ååˆè°ƒç”¨ <code>findProperty()</code> æ–¹æ³•å°è¯•ä»ä»å¯¹åº”çš„ <code>ConfigurationPropertySource</code> ä¸­è·å–å¯¹åº”çš„é…ç½®ä¸­æŸ¥æ‰¾è¿™ä¸ªå±æ€§ã€‚</p>
<p>Spring æä¾›äº† <code>SpringIterableConfigurationPropertySource</code> ä½œä¸º <code>ConfigurationPropertySource</code> å®ç°ç±»ï¼Œ å®ƒå®é™…æ˜¯å¯¹ <code>PropertySource</code> çš„ä¸€ä¸ªé€‚é…ï¼Œå†…éƒ¨æœ‰ä¸€ä¸ª <code>propertySource</code> è¡¨ç¤ºçœŸæ­£çš„é…ç½®ã€‚é€šè¿‡è°ƒè¯• <code>contex.getSource()</code> æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¯ä»¥çœ‹åˆ°åŠ å¯†ä¹‹åçš„ <code>PropertySource</code> ç¡®å®æ˜¯åœ¨æ²¡æœ‰åŠ å¯†çš„å‰é¢ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">DataObjectPropertyBinder</span> <span class="hljs-variable">propertyBinder</span> <span class="hljs-operator">=</span> (propertyName, propertyTarget) -&gt; bind(name.append(propertyName), <span class="hljs-comment">//è¿™é‡Œå°†å±æ€§åç§°æ‹¼æ¥åˆ°testå‰ç¼€ä¸Š</span>
		propertyTarget, handler, context, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);
                
<span class="hljs-keyword">private</span> &lt;T&gt; ConfigurationProperty <span class="hljs-title function_">findProperty</span><span class="hljs-params">(ConfigurationPropertyName name, Bindable&lt;T&gt; target,
    Context context)</span> {
    <span class="hljs-keyword">if</span> (name.isEmpty() || target.hasBindRestriction(BindRestriction.NO_DIRECT_PROPERTY)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">for</span> (ConfigurationPropertySource source : context.getSources()) {
        <span class="hljs-type">ConfigurationProperty</span> <span class="hljs-variable">property</span> <span class="hljs-operator">=</span> source.getConfigurationProperty(name);
        <span class="hljs-keyword">if</span> (property != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> property;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61dc8d5ecac64fafa6638bb1c22e1d19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgamF2YWRheWRheXVw:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770542542&amp;x-signature=Ze2HUTIra0Fo%2BWL%2FCYZ%2FYG7krL4%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ <code>getConfigurationProperty()</code> æ–¹æ³•ä¸­é¦–å…ˆè°ƒç”¨çˆ¶ç±» <code>SpringConfigurationPropertySource</code> çš„ <code>getConfigurationProperty()</code> æ–¹æ³•ã€‚åœ¨è¯¥æ–¹æ³•ä¸­ä¼šè°ƒç”¨ <code>PropertyMapper</code> çš„ <code>map()</code> æ–¹æ³•å¯¹ä¼ å…¥çš„ <code>ConfigurationPropertyName</code> ç±»å‹çš„ <code>name</code> è¿›è¡Œè½¬æ¢ï¼Œç„¶åæ ¹æ®è½¬æ¢åæ‹¿åˆ°çš„åç§°å» <code>PropertySource</code> ä¸­è·å–å¯¹åº”çš„å±æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfigurationPropertySource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ConfigurationPropertySource</span> {
    <span class="hljs-keyword">public</span> ConfigurationProperty <span class="hljs-title function_">getConfigurationProperty</span><span class="hljs-params">(ConfigurationPropertyName name)</span> {
        <span class="hljs-keyword">if</span> (name == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">for</span> (PropertyMapper mapper : <span class="hljs-built_in">this</span>.mappers) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">for</span> (String candidate : mapper.map(name)) { <span class="hljs-comment">// è¿™é‡Œå…ˆé€šè¿‡PropertyMapperè½¬æ¢åç§°</span>
                    <span class="hljs-type">Object</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> getPropertySource().getProperty(candidate); <span class="hljs-comment">// æ ¹æ®è½¬æ¢åçš„åç§°è·å–è·å–å¯¹åº”çš„å±æ€§</span>
                    <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">null</span>) {
                        <span class="hljs-type">Origin</span> <span class="hljs-variable">origin</span> <span class="hljs-operator">=</span> PropertySourceOrigin.get(<span class="hljs-built_in">this</span>.propertySource, candidate);
                        <span class="hljs-keyword">return</span> ConfigurationProperty.of(<span class="hljs-built_in">this</span>, name, value, origin);
                    }
                }
            }
            <span class="hljs-keyword">catch</span> (Exception ex) {
                <span class="hljs-comment">// Ignore</span>
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<p>åœ¨åˆ›å»º <code>SpringConfigurationPropertySource</code> å¯¹è±¡æ—¶ï¼Œä¼šæ ¹æ® <code>PropertySource</code> æ˜¯ <code>MapPropertySource</code> è¿˜æ˜¯ <code>SystemEnvironmentPropertySource</code> ï¼Œä»è€Œè®¾ç½®ä¸åŒçš„ <code>mappers</code> å±æ€§ï¼Œå¯¹äº <code>SystemEnvironmentPropertySource</code>ï¼Œå®ƒä¼šå¤šä¸€ä¸ª <code>SystemEnvironmentPropertyMapper</code> ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringConfigurationPropertySource</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ConfigurationPropertySource</span> {
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> PropertyMapper[] DEFAULT_MAPPERS = { DefaultPropertyMapper.INSTANCE };

   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> PropertyMapper[] SYSTEM_ENVIRONMENT_MAPPERS = { SystemEnvironmentPropertyMapper.INSTANCE,
    DefaultPropertyMapper.INSTANCE };
    
   <span class="hljs-keyword">static</span> SpringConfigurationPropertySource <span class="hljs-title function_">from</span><span class="hljs-params">(PropertySource&lt;?&gt; source)</span> {
        Assert.notNull(source, <span class="hljs-string">"Source must not be null"</span>);
        PropertyMapper[] mappers = getPropertyMappers(source);
        <span class="hljs-keyword">if</span> (isFullEnumerable(source)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SpringIterableConfigurationPropertySource</span>((EnumerablePropertySource&lt;?&gt;) source, mappers);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SpringConfigurationPropertySource</span>(source, mappers);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> PropertyMapper[] getPropertyMappers(PropertySource&lt;?&gt; source) {
        <span class="hljs-comment">// è¿™é‡Œåˆ¤æ–­äº†å¦‚æœæ˜¯SystemEnvironmentPropertySourceåˆ™ä¼šè¿”å›SYSTEM_ENVIRONMENT_MAPPERSï¼Œé‡Œé¢åŒ…å«äº†SystemEnvironmentPropertyMapper</span>
        <span class="hljs-keyword">if</span> (source <span class="hljs-keyword">instanceof</span> SystemEnvironmentPropertySource &amp;&amp; hasSystemEnvironmentName(source)) {
            <span class="hljs-keyword">return</span> SYSTEM_ENVIRONMENT_MAPPERS;
        }
        <span class="hljs-keyword">return</span> DEFAULT_MAPPERS;
    }
}
</code></pre>
<p>å¯¹äº <code>DefaultPropertyMapper</code> å®ƒçš„ <code>map()</code> æ–¹æ³•ä¼šç›´æ¥è¿”å› <code>ConfigurationPropertyName</code> çš„åç§°ï¼Œåœ¨æœ¬æ¡ˆä¾‹ä¸­å°±ä¼šç›´æ¥è¿”å› <code>test.container-name</code>ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultPropertyMapper</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PropertyMapper</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">map</span><span class="hljs-params">(ConfigurationPropertyName configurationPropertyName)</span> {
        <span class="hljs-comment">// Use a local copy in case another thread changes things</span>
        LastMapping&lt;ConfigurationPropertyName, List&lt;String&gt;&gt; last = <span class="hljs-built_in">this</span>.lastMappedConfigurationPropertyName;
        <span class="hljs-keyword">if</span> (last != <span class="hljs-literal">null</span> &amp;&amp; last.isFrom(configurationPropertyName)) {
            <span class="hljs-keyword">return</span> last.getMapping();
        }
        <span class="hljs-comment">// è¿™é‡Œç›´æ¥è¿”å›ConfigurationPropertyNameçš„åç§°</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">convertedName</span> <span class="hljs-operator">=</span> configurationPropertyName.toString();
        List&lt;String&gt; mapping = Collections.singletonList(convertedName);
        <span class="hljs-built_in">this</span>.lastMappedConfigurationPropertyName = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LastMapping</span>&lt;&gt;(configurationPropertyName, mapping);
        <span class="hljs-keyword">return</span> mapping;
    }
}
</code></pre>
<p>å¯¹äº <code>SystemEnvironmentPropertyMapper</code> å®ƒä¼šè¿”å›ä¸¤ä¸ªæ ¼å¼çš„åç§°ï¼Œåœ¨æœ¬æ¡ˆä¾‹ä¸­å°±ä¼šè¿”å› <code>TEST_CONTAINERNAME</code> å’Œ <code>TEST_CONTAINER_NAME</code> ä¸¤ç§æ ¼å¼ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SystemEnvironmentPropertyMapper</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PropertyMapper</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">PropertyMapper</span> <span class="hljs-variable">INSTANCE</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemEnvironmentPropertyMapper</span>();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">map</span><span class="hljs-params">(ConfigurationPropertyName configurationPropertyName)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> convertName(configurationPropertyName);
        <span class="hljs-type">String</span> <span class="hljs-variable">legacyName</span> <span class="hljs-operator">=</span> convertLegacyName(configurationPropertyName);
        <span class="hljs-keyword">if</span> (name.equals(legacyName)) {
            <span class="hljs-keyword">return</span> Collections.singletonList(name);
        }
        <span class="hljs-comment">// è¿™é‡Œä¼šè¿”å›ä¸¤ä¸ªæ ¼å¼çš„åç§°</span>
        <span class="hljs-keyword">return</span> Arrays.asList(name, legacyName);
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">convertName</span><span class="hljs-params">(ConfigurationPropertyName name)</span> {
        <span class="hljs-keyword">return</span> convertName(name, name.getNumberOfElements());
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">convertName</span><span class="hljs-params">(ConfigurationPropertyName name, <span class="hljs-type">int</span> numberOfElements)</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; numberOfElements; i++) {
            <span class="hljs-keyword">if</span> (!result.isEmpty()) {
                result.append(<span class="hljs-string">'_'</span>);
            }
            result.append(name.getElement(i, Form.UNIFORM).toUpperCase(Locale.ENGLISH));
        }
        <span class="hljs-keyword">return</span> result.toString();
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">convertLegacyName</span><span class="hljs-params">(ConfigurationPropertyName name)</span> {
        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; name.getNumberOfElements(); i++) {
            <span class="hljs-keyword">if</span> (!result.isEmpty()) {
                result.append(<span class="hljs-string">'_'</span>);
            }
            result.append(convertLegacyNameElement(name.getElement(i, Form.ORIGINAL)));
        }
        <span class="hljs-keyword">return</span> result.toString();
    }

    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">convertLegacyNameElement</span><span class="hljs-params">(String element)</span> {
        <span class="hljs-keyword">return</span> element.replace(<span class="hljs-string">'-'</span>, <span class="hljs-string">'_'</span>).toUpperCase(Locale.ENGLISH);
    }
}
</code></pre>
<p>åœ¨æœ¬æ¡ˆä¾‹ä¸­<code>decryptedSystemEnvironment</code> çš„ <code>PropertySource</code> ç±»å‹æ˜¯ <code>MapPropertySource</code>ï¼Œå­˜æ”¾çš„å†…å®¹æ˜¯ <code>TEST_CONTAINER_NAME=Tomcat</code>ã€‚å®ƒåªæœ‰ <code>DefaultPropertyMapper</code>ï¼›</p>
<p>åç§°ä¸º <code>systemEnvironment</code> çš„ <code>PropertySource</code> ç±»å‹æ˜¯ <code>SystemEnvironmentPropertySource</code>ï¼Œå­˜æ”¾çš„å†…å®¹æ˜¯ <code>TEST_CONTAINER_NAME=ENC_VG9tY2F0</code>ã€‚å®ƒæœ‰<code>DefaultPropertyMapper</code> å’Œ <code>SystemEnvironmentPropertyMapper</code>ã€‚</p>
<p><code>decryptedSystemEnvironment</code> åœ¨é¡ºåºä¸Šæ’åœ¨ <code>systemEnvironment</code> å‰é¢ã€‚è¿™ä¸ªæ—¶å€™å¼€å§‹æŸ¥æ‰¾ä¼ å…¥åç§°ä¸º <code>test.container-name</code> çš„ <code>ConfigurationPropertyName</code>ï¼Œè¿™ä¸ªæ—¶å€™å…ˆä» <code>decryptedSystemEnvironment</code> å¼€å§‹æ‰¾ï¼Œç»è¿‡ <code>DefaultPropertyMapper</code> è½¬æ¢ä¹‹åæ‹¿åˆ°çš„å±æ€§åç§°æ˜¯ <code>test.container-name</code>ï¼Œé…ç½®é‡Œé¢æ²¡æœ‰è¿™ä¸ªé…ç½®ï¼›ç„¶åä» <code>systemEnvironment</code> å¼€å§‹æ‰¾ï¼Œç»è¿‡ <code>SystemEnvironmentPropertyMapper</code> è½¬æ¢ä¹‹åæ‹¿åˆ°çš„å±æ€§åç§°æ˜¯<code>TEST_CONTAINERNAME</code> å’Œ <code>TEST_CONTAINER_NAME</code>ï¼Œæ ¹æ® <code>TEST_CONTAINER_NAME</code> å°±æ‹¿åˆ°äº† <code>ENC_VG9tY2F0</code> ã€‚è¿™å°±è§£é‡Šäº†ä¸ºå•¥é…ç½®ç±»æ³¨å…¥çš„è¿˜æ˜¯åŠ å¯†ä¹‹åçš„å€¼äº†ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜è§£å†³</h2>
<p>çŸ¥é“é—®é¢˜çš„åŸç†äº†ä¹‹åï¼Œé—®é¢˜å°±å¥½è§£å†³äº†ã€‚ä¸€ç§æ–¹æ³•æ˜¯å¯ä»¥åœ¨ <code>DecryptEnvironmentPostProcessor</code> ç±»çš„ <code>postProcessBeforeInitialization()</code> æ–¹æ³•ä¸­æŠŠæ·»åŠ çš„ <code>MapPropertySource</code> ç±»å‹æ”¹ä¸º <code>SystemEnvironmentPropertySource</code> å°±å¯ä»¥äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>  
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postProcessEnvironment</span><span class="hljs-params">(ConfigurableEnvironment environment, SpringApplication application)</span> {  
    <span class="hljs-type">String</span> <span class="hljs-variable">systemEnvName</span> <span class="hljs-operator">=</span> StandardEnvironment.SYSTEM_ENVIRONMENT_PROPERTY_SOURCE_NAME;  
    <span class="hljs-type">MapPropertySource</span> <span class="hljs-variable">systemEnvSource</span> <span class="hljs-operator">=</span> (MapPropertySource) environment.getPropertySources().get(systemEnvName);  
    Map&lt;String, Object&gt; decryptedMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();  
    <span class="hljs-keyword">if</span> (systemEnvSource == <span class="hljs-literal">null</span>) {  
        <span class="hljs-keyword">return</span>;  
    }  
    systemEnvSource.getSource().forEach((key, value) -&gt; {  
        <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> String strVal) {  
            <span class="hljs-keyword">if</span> (StringUtils.isNotEmpty(strVal) &amp;&amp; strVal.startsWith(<span class="hljs-string">"ENC_"</span>)) {  
                <span class="hljs-type">String</span> <span class="hljs-variable">plainText</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(Base64.getDecoder().decode(strVal.substring(<span class="hljs-number">4</span>)));  
                decryptedMap.put(key, plainText);  
            }  
        }  
    });  
  
    <span class="hljs-keyword">if</span> (!decryptedMap.isEmpty()) {  
		<span class="hljs-comment">// è¿™é‡ŒåŸæ¥æ·»åŠ çš„æ˜¯MapPropertySourceç±»å‹ï¼Œç°åœ¨è°ƒæ•´ä¸ºSystemEnvironmentPropertySourceç±»å‹</span>
        <span class="hljs-comment">// MapPropertySource decryptedSource = new MapPropertySource(DECRYPTED_SOURCE_NAME, decryptedMap);  </span>
        environment.getPropertySources().addBefore(systemEnvName, <span class="hljs-keyword">new</span> <span class="hljs-title class_">SystemEnvironmentPropertySource</span>(DECRYPTED_SOURCE_NAME, decryptedMap));  
        System.out.println(<span class="hljs-string">""</span>);  
    }  
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Springå’ŒSpringbootçš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7601811815831584819</link>    <guid>https://juejin.cn/post/7601811815831584819</guid>    <pubDate>2026-02-02T06:46:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601811815831584819" data-draft-id="7601822421609267227" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Springå’ŒSpringbootçš„åŒºåˆ«"/> <meta itemprop="keywords" content="åç«¯,Spring Boot,Spring"/> <meta itemprop="datePublished" content="2026-02-02T06:46:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Springå’ŒSpringbootçš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T06:46:59.000Z" title="Mon Feb 02 2026 06:46:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>SpringBootä¸æ˜¯æ›¿ä»£Springçš„æ–°æ¡†æ¶ï¼Œè€Œæ˜¯åŸºäº[Springæ¡†æ¶]çš„â€œå¿«é€Ÿå¼€å‘è„šæ‰‹æ¶â€---ç®€åŒ–äº†Springçš„ä½¿ç”¨æµç¨‹ï¼Œåº•å±‚ä¾ç„¶æ˜¯Springçš„æ ¸å¿ƒï¼ˆIOCã€AOPã€ORMç­‰ï¼‰ã€‚</p>
<p>Â  Â </p>
<h2 data-id="heading-0"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸€ã€æ ¸å¿ƒåŒºåˆ«å¯¹æ¯”</h2>
<p>Â  Â Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f47265451ef497f947b17f028f5a3bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770619622&amp;x-signature=11Qb6NA7gd3OXt8D6HIVlQNqWtQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äºŒã€å…³é”®å·®å¼‚è¯¦è§£</h2>
<h3 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1ã€é…ç½®å¤æ‚åº¦ï¼šSpring ç¹çï¼ŒSpringBootæç®€</h3>
<p>Â  Â  Â è¿™æ˜¯æœ€ç›´è§‚çš„å·®å¼‚ï¼Œæˆ‘ä»¬ç”¨â€œæ•´åˆMyBatisâ€çš„ä¾‹å­å¯¹æ¯”ï¼š<br/>
Springæ•´åˆMyBatisï¼ˆéœ€æ‰‹åŠ¨å†™å¤§é‡é…ç½®ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. æ‰‹åŠ¨é…ç½®æ•°æ®æº</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span> {
    <span class="hljs-type">DruidDataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DruidDataSource</span>();
    ds.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/test"</span>);
    ds.setUsername(<span class="hljs-string">"root"</span>);
    ds.setPassword(<span class="hljs-string">"123456"</span>);
    <span class="hljs-keyword">return</span> ds;
}
 
<span class="hljs-comment">// 2. æ‰‹åŠ¨é…ç½® SqlSessionFactory</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> SqlSessionFactory <span class="hljs-title function_">sqlSessionFactory</span><span class="hljs-params">(DataSource dataSource)</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-type">SqlSessionFactoryBean</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBean</span>();
    factory.setDataSource(dataSource);
    factory.setMapperLocations(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PathMatchingResourcePatternResolver</span>().getResources(<span class="hljs-string">"classpath:mapper/*.xml"</span>));
    <span class="hljs-keyword">return</span> factory.getObject();
}
 
<span class="hljs-comment">// 3. æ‰‹åŠ¨é…ç½® Mapper æ‰«æ</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> MapperScannerConfigurer <span class="hljs-title function_">mapperScannerConfigurer</span><span class="hljs-params">()</span> {
    <span class="hljs-type">MapperScannerConfigurer</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MapperScannerConfigurer</span>();
    scanner.setBasePackage(<span class="hljs-string">"com.example.mapper"</span>);
    <span class="hljs-keyword">return</span> scanner;
}
 
<span class="hljs-comment">// 4. æ‰‹åŠ¨é…ç½®äº‹åŠ¡ç®¡ç†å™¨</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> PlatformTransactionManager <span class="hljs-title function_">transactionManager</span><span class="hljs-params">(DataSource dataSource)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataSourceTransactionManager</span>(dataSource);
}
AIå†™ä»£ç 
</code></pre>
<p>SpringBootæ•´åˆMybatisï¼ˆä»…éœ€ä¾èµ–+å°‘é‡é…ç½®ï¼‰</p>
<p>Â ç¬¬ä¸€æ­¥ï¼šå¼•å…¥å¯åŠ¨å™¨ï¼ˆè‡ªåŠ¨å¼•å…¥æ‰€æœ‰ç›¸å…³ä¾èµ–ï¼‰</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
AIå†™ä»£ç 
</code></pre>
<p>Â ç¬¬äºŒæ­¥ï¼šé…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰å†™æ•°æ®åº“è¿æ¥ä¿¡æ¯</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/test</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
<span class="hljs-attr">mybatis:</span>
  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mapper/*.xml</span>
  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.example.entity</span>
<span class="hljs-string">AIå†™ä»£ç </span>
</code></pre>
<p>Â ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨ç±»åŠ  @MapperScan å³å¯ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½® Beanï¼ï¼ï¼</p>
<h3 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2ã€ä¾èµ–ç®¡ç†ï¼šSpring æ‰‹åŠ¨ï¼ŒSpringBootè‡ªåŠ¨</h3>
<ul>
<li><strong>Spring</strong>ï¼šä½ éœ€è¦æ‰‹åŠ¨å¼•å…¥æ¯ä¸ªä¾èµ–ï¼ˆå¦‚ spring-contextã€spring-jdbcã€mybatisã€druid ç­‰ï¼‰ï¼Œè¿˜è¦ç¡®ä¿æ‰€æœ‰ä¾èµ–çš„ç‰ˆæœ¬å…¼å®¹ï¼ˆæ¯”å¦‚ Spring 5.3 è¦é… MyBatis 3.5+ï¼‰ï¼Œä¸€æ—¦ç‰ˆæœ¬å†²çªï¼Œæ’æŸ¥æˆæœ¬æé«˜ã€‚</li>
<li><strong>SpringBoot</strong>ï¼šæä¾› â€œå¯åŠ¨å™¨ï¼ˆStarterï¼‰â€ æœºåˆ¶ï¼Œæ¯”å¦‚Â <code>spring-boot-starter-web</code>Â ä¼šè‡ªåŠ¨å¼•å…¥ SpringMVCã€Tomcatã€jackson ç­‰æ‰€æœ‰ Web å¼€å‘éœ€è¦çš„ä¾èµ–ï¼Œä¸” SpringBoot çˆ¶å·¥ç¨‹å·²ç»å†…ç½®äº†æ‰€æœ‰å¸¸ç”¨ä¾èµ–çš„å…¼å®¹ç‰ˆæœ¬ï¼Œä½ æ— éœ€å…³æ³¨ç‰ˆæœ¬å·</li>
</ul>
<h3 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3ã€å¯åŠ¨æ–¹å¼ï¼šSpringå¤æ‚ã€SpringBootä¸€é”®å¯åŠ¨</h3>
<ul>
<li>
<p><strong>Spring</strong>ï¼š</p>
<ul>
<li>é Web é¡¹ç›®ï¼šéœ€æ‰‹åŠ¨åˆ›å»º IOC å®¹å™¨ï¼ˆ<code>new AnnotationConfigApplicationContext()</code>ï¼‰ï¼›</li>
<li>Web é¡¹ç›®ï¼šéœ€æ‰“åŒ…ä¸º WAR åŒ…ï¼Œéƒ¨ç½²åˆ°å¤–éƒ¨ Tomcat æœåŠ¡å™¨ï¼Œè¿˜è¦é…ç½®Â <code>web.xml</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>SpringBoot</strong>ï¼š</p>
<ul>
<li>æ— è®º Web / é Web é¡¹ç›®ï¼Œåªéœ€å†™ä¸€ä¸ªå¯åŠ¨ç±»ï¼Œæ‰§è¡ŒÂ <code>main</code>Â æ–¹æ³•å³å¯ï¼š</li>
</ul>
</li>
</ul>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">SpringApplication</span>.<span class="hljs-title function_">run</span>(<span class="hljs-title class_">DemoApplication</span>.<span class="hljs-property">class</span>, args);
    }
}
<span class="hljs-variable constant_">AI</span>å†™ä»£ç 
</code></pre>
<h3 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4ã€è‡ªåŠ¨é…ç½®ï¼šSpringæ— ï¼ŒSpringBootæ ¸å¿ƒç‰¹å¾</h3>
<p>è¿™æ˜¯ SpringBoot æœ€æ ¸å¿ƒçš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p><strong>Spring</strong>ï¼šæ‰€æœ‰ Bean éƒ½éœ€è¦ä½ æ‰‹åŠ¨é…ç½®ï¼ˆXML / æ³¨è§£ï¼‰ï¼Œæ¯”å¦‚è¦ä½¿ç”¨äº‹åŠ¡ï¼Œéœ€æ‰‹åŠ¨é…ç½®Â <code>DataSourceTransactionManager</code>ï¼›è¦ä½¿ç”¨ SpringMVCï¼Œéœ€æ‰‹åŠ¨é…ç½®Â <code>DispatcherServlet</code>ã€‚</p>
</li>
<li>
<p><strong>SpringBoot</strong>ï¼šé€šè¿‡ â€œè‡ªåŠ¨é…ç½®ï¼ˆAutoConfigurationï¼‰â€ æœºåˆ¶ï¼Œæ ¹æ®ä½ å¼•å…¥çš„ä¾èµ–è‡ªåŠ¨æ³¨å†Œç›¸å…³ Beanã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>å¼•å…¥Â <code>spring-boot-starter-web</code>ï¼Œè‡ªåŠ¨é…ç½® DispatcherServletã€CharacterEncodingFilter ç­‰ Web ç›¸å…³ Beanï¼›</li>
<li>å¼•å…¥Â <code>spring-boot-starter-data-jpa</code>ï¼Œè‡ªåŠ¨é…ç½® EntityManagerFactoryã€JpaTransactionManager ç­‰ JPA ç›¸å…³ Beanã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä¸‰ã€äºŒè€…çš„æ ¸å¿ƒè”ç³»</h2>
<ul>
<li><strong>åº•å±‚ä¸€è‡´</strong>ï¼šSpringBoot å®Œå…¨åŸºäº Spring æ ¸å¿ƒï¼ˆIOCã€AOPã€DIã€ORM ç­‰ï¼‰ï¼Œæ²¡æœ‰è„±ç¦» Spring çš„ä½“ç³»ï¼›</li>
<li><strong>å…¼å®¹æ‰€æœ‰ Spring ç”¨æ³•</strong>ï¼šSpring ä¸­çš„Â <code>@Autowired</code>ã€<code>@Service</code>ã€<code>@Transactional</code>Â ç­‰æ³¨è§£ï¼Œåœ¨ SpringBoot ä¸­å®Œå…¨å¯ç”¨ï¼›</li>
<li><strong>SpringBoot æ˜¯ â€œå¢å¼ºç‰ˆâ€</strong> ï¼šå®ƒæ²¡æœ‰æ–°å¢æ ¸å¿ƒåŠŸèƒ½ï¼Œåªæ˜¯å¯¹ Spring çš„é…ç½®ã€ä¾èµ–ã€å¯åŠ¨æµç¨‹åšäº†å°è£…å’Œç®€åŒ–ã€‚</li>
</ul>
<h2 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>å››ã€ä½¿ç”¨åœºæ™¯é€‰æ‹©</h2>
<ul>
<li>ç”¨Â <strong>Spring</strong>ï¼šé€‚åˆéœ€è¦æ·±åº¦å®šåˆ¶åŒ–é…ç½®çš„åœºæ™¯ï¼ˆå¦‚å¤§å‹ä¼ ç»Ÿä¼ä¸šé¡¹ç›®ï¼Œéœ€ç²¾ç»†æ§åˆ¶æ¯ä¸€ä¸ª Beanï¼‰ï¼›</li>
<li>ç”¨Â <strong>SpringBoot</strong>ï¼šé€‚åˆå¿«é€Ÿå¼€å‘çš„å¾®æœåŠ¡ã€ä¸­å°å‹é¡¹ç›®ï¼Œæˆ–éœ€è¦å¿«é€ŸéªŒè¯æƒ³æ³•çš„åœºæ™¯ï¼ˆ90% ä»¥ä¸Šçš„ç°ä»£ Java é¡¹ç›®éƒ½ä¼šé€‰ SpringBootï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>äº”ã€æ€»ç»“</h2>
<ul>
<li><strong>æ ¸å¿ƒå…³ç³»</strong>ï¼šSpringBoot æ˜¯ Spring çš„ â€œè„šæ‰‹æ¶â€ï¼Œä¸æ˜¯æ›¿ä»£å“ï¼Œåº•å±‚æ ¸å¿ƒå®Œå…¨ä¾èµ– Springï¼›</li>
<li><strong>æ ¸å¿ƒå·®å¼‚</strong>ï¼šSpring éœ€æ‰‹åŠ¨é…ç½®æ‰€æœ‰ç»†èŠ‚ï¼ŒSpringBoot é  â€œå¯åŠ¨å™¨ + è‡ªåŠ¨é…ç½®â€ å®ç°é›¶ / å°‘é…ç½®ã€ä¸€é”®å¯åŠ¨ï¼›</li>
<li><strong>ä½¿ç”¨é€‰æ‹©</strong>ï¼šä¼˜å…ˆé€‰ SpringBoot æå‡å¼€å‘æ•ˆç‡ï¼Œå¦‚éœ€æ·±åº¦å®šåˆ¶å†ç»“åˆ Spring çš„åº•å±‚é…ç½®ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†™äº†ä¸€å¥—å‡ ä¹æ— æ•Œçš„å‚æ•°æ ¡éªŒç»„ä»¶ï¼ï¼ï¼]]></title>    <link>https://juejin.cn/post/7601766889985163302</link>    <guid>https://juejin.cn/post/7601766889985163302</guid>    <pubDate>2026-02-02T06:49:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601766889985163302" data-draft-id="7601770028279365641" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†™äº†ä¸€å¥—å‡ ä¹æ— æ•Œçš„å‚æ•°æ ¡éªŒç»„ä»¶ï¼ï¼ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-02T06:49:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç¼–ç¨‹çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/819554264300154"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†™äº†ä¸€å¥—å‡ ä¹æ— æ•Œçš„å‚æ•°æ ¡éªŒç»„ä»¶ï¼ï¼ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/819554264300154/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç¼–ç¨‹çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T06:49:33.000Z" title="Mon Feb 02 2026 06:49:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‚æ•°æ ¡éªŒè¿™ä¸ªä¸œè¥¿ï¼Œå¾ˆå¤šæƒ…å†µä¸‹éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œç”¨Â <code>@NotNull</code>ã€<code>@Size</code>Â ç­‰æ³¨è§£å°±å¯ä»¥è§£å†³ç»å¤§å¤šæ•°åœºæ™¯ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›åœºæ™¯æ˜¯è¿™äº›åŸºæœ¬æ³¨è§£è§£å†³ä¸äº†çš„ï¼Œåªèƒ½ç”¨ä¸€äº›å…¶ä»–çš„æ–¹å¼å¤„ç†ï¼Œè¿™æ ·å°±å¯¼è‡´å‚æ•°æ ¡éªŒå˜æˆäº†å¤šå±‚ï¼Œå…¶å®æ˜¯ä¸åˆ©äºä»£ç ç»´æŠ¤çš„ã€‚</p>
<p>äºæ˜¯ä¹ï¼Œæˆ‘å†™äº†ä¸€å¥—å‡ ä¹å¯ä»¥æ»¡è¶³ä»»ä½•åœºæ™¯çš„å‚æ•°æ ¡éªŒç»„ä»¶ï¼Œéå¸¸å¥½ç”¨ï¼Œå®‰åˆ©ç»™å¤§å®¶ã€‚</p>
<p>GitHubåœ°å€æ–‡æœ«è·å–ï¼</p>
<h2 data-id="heading-0">ğŸ’¡ å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h2>
<ul>
<li>
<p>æšä¸¾å€¼å­—æ®µæ ¡éªŒï¼š</p>
<pre><code class="hljs language-ini" lang="ini">@SpelAssert(<span class="hljs-attr">assertTrue</span> =Â <span class="hljs-string">" T(cn.sticki.enums.UserStatusEnum).getByCode(#this.userStatus) != null "</span>, message =Â <span class="hljs-string">"ç”¨æˆ·çŠ¶æ€ä¸åˆæ³•"</span>)
privateÂ Integer userStatus<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p>å¤šå­—æ®µè”åˆæ ¡éªŒï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@NotNull</span>
<span class="hljs-keyword">private</span>Â Integer contentType;

<span class="hljs-meta">@SpelNotNull(condition =Â <span class="hljs-string">"#this.contentType == 1"</span>, message =Â <span class="hljs-string">"è¯­éŸ³å†…å®¹ä¸èƒ½ä¸ºç©º"</span>)</span>
<span class="hljs-keyword">private</span>Â Object audioContent;

<span class="hljs-meta">@SpelNotNull(condition =Â <span class="hljs-string">"#this.contentType == 2"</span>, message =Â <span class="hljs-string">"è§†é¢‘å†…å®¹ä¸èƒ½ä¸ºç©º"</span>)</span>
<span class="hljs-keyword">private</span>Â Object videoContent;
</code></pre>
</li>
<li>
<p>å¤æ‚é€»è¾‘æ ¡éªŒï¼Œè°ƒç”¨é™æ€æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸­æ–‡ç®—ä¸¤ä¸ªå­—ç¬¦ï¼Œè‹±æ–‡ç®—ä¸€ä¸ªå­—ç¬¦ï¼Œè¦æ±‚æ€»é•¿åº¦ä¸è¶…è¿‡ 10</span>
<span class="hljs-comment">// è°ƒç”¨å¤–éƒ¨é™æ€æ–¹æ³•è¿›è¡Œæ ¡éªŒ</span>
<span class="hljs-meta">@SpelAssert(assertTrue =Â "T(cn.sticki.util.StringUtil).getLength(#this.userName) &lt;= 10", message =Â "ç”¨æˆ·åé•¿åº¦ä¸èƒ½è¶…è¿‡10")</span>
<span class="hljs-keyword">private</span>Â String userName;
</code></pre>
</li>
<li>
<p>è°ƒç”¨Â Spring Bean**ï¼ˆéœ€è¦ä½¿ç”¨ @EnableSpelValidatorBeanRegistrar å¼€å¯Spring Beanæ”¯æŒï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è¿™é‡Œåªæ˜¯ç®€å•ä¸¾ä¾‹ï¼Œå®é™…å¼€å‘ä¸­ä¸å»ºè®®è¿™æ ·åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span>
<span class="hljs-meta">@SpelAssert(assertTrue =Â <span class="hljs-string">"@userService.getById(#this.userId) != null"</span>, message =Â <span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨"</span>)</span>
<span class="hljs-keyword">private</span>Â <span class="hljs-built_in">Long</span> userId;
</code></pre>
</li>
<li>
<p>æ›´å¤šä½¿ç”¨åœºæ™¯ï¼Œæ¬¢è¿æ¢ç´¢å’Œè¡¥å……ï¼</p>
</li>
</ul>
<h2 data-id="heading-1">ğŸ“ ç‰¹ç‚¹</h2>
<ul>
<li>å¼ºå¤§çš„å‚æ•°æ ¡éªŒåŠŸèƒ½ï¼Œå‡ ä¹æ”¯æŒæ‰€æœ‰åœºæ™¯ä¸‹çš„å‚æ•°æ ¡éªŒã€‚</li>
<li>æ‰©å±•è‡ª javax.validation åŒ…ï¼Œåªæ–°å¢ä¸ä¿®æ”¹ï¼Œæ— ç¼é›†æˆåˆ°é¡¹ç›®ä¸­ã€‚</li>
<li>åŸºäº SpELï¼ˆSpring Expression Language**ï¼‰ è¡¨è¾¾å¼ï¼Œæ”¯æŒå¤æ‚çš„æ ¡éªŒé€»è¾‘ã€‚</li>
<li>æ”¯æŒè°ƒç”¨ Spring Beanï¼Œå¯åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨æ³¨å…¥è¿‡çš„ Spring Beanã€‚</li>
<li>æ ¡éªŒæ—¶åŸºäºæ•´ä¸ªå¯¹è±¡ï¼Œæ”¯æŒå¯¹è±¡å†…å­—æ®µé—´çš„æ ¡éªŒé€»è¾‘ã€‚</li>
<li>æ”¯æŒè‡ªå®šä¹‰æ ¡éªŒæ³¨è§£ï¼Œå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰æ ¡éªŒé€»è¾‘ã€‚</li>
<li>æ— éœ€é¢å¤–çš„å¼‚å¸¸å¤„ç†ï¼Œæ ¡éªŒå¤±è´¥æ—¶ä¼šä¸ŠæŠ¥åˆ° javax.validation çš„å¼‚å¸¸ä½“ç³»ä¸­ã€‚</li>
<li>ç®€å•æ˜“ç”¨ï¼Œä½¿ç”¨æ–¹å¼å‡ ä¹ä¸ javax.validation ä¸€è‡´ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œä¸Šæ‰‹å¿«ã€‚</li>
</ul>
<h2 data-id="heading-2">ğŸˆ ç¯å¢ƒ</h2>
<p>ç›®å‰ä»…æµ‹è¯•äº† JDK8 ç¯å¢ƒï¼Œç†è®ºä¸Šæ¥è¯´ JDK8+ åº”è¯¥éƒ½æ˜¯æ”¯æŒçš„ã€‚</p>
<h2 data-id="heading-3">ğŸ“¦ å¿«é€Ÿå¼€å§‹</h2>
<ul>
<li>
<p>æ·»åŠ ä¾èµ–</p>
<p>Latest Version: 0.0.2-beta</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cn.sticki<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spel-validator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>Latest Version<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.hibernate.validator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hibernate-validator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${hibernate-validator.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${spring-boot-starter-web.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
</li>
<li>
<p>åœ¨æ¥å£å‚æ•°ä¸Šä½¿ç”¨Â <code>@Valid</code>Â æˆ–Â <code>@Validated</code>Â æ³¨è§£</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/example"</span>)
publicÂ classÂ ExampleControllerÂ {

Â Â <span class="hljs-comment">/**
Â  Â * ç®€å•æ ¡éªŒç¤ºä¾‹
Â  Â */</span>
Â Â <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/simple"</span>)
Â Â publicÂ Resp&lt;Void&gt;Â <span class="hljs-built_in">simple</span>(<span class="hljs-variable">@RequestBody</span> <span class="hljs-variable">@Valid</span> SimpleExampleParamVo simpleExampleParamVo)Â {
Â  Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">Resp</span><span class="hljs-selector-class">.ok</span>(null);
Â  }

}
</code></pre>
</li>
<li>
<p>åœ¨å®ä½“ç±»ä¸Šä½¿ç”¨Â <code>@SpelValid</code>Â æ³¨è§£ï¼ŒåŒæ—¶åœ¨éœ€è¦æ ¡éªŒçš„å­—æ®µä¸Šä½¿ç”¨Â <code>@SpelNotNull</code>Â ç­‰çº¦æŸæ³¨è§£</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Data</span>
<span class="hljs-variable">@SpelValid</span>
publicÂ classÂ SimpleExampleParamVoÂ {

Â Â <span class="hljs-variable">@NotNull</span>
Â Â privateÂ Boolean switchAudio;

Â Â <span class="hljs-comment">/**
Â  Â * å½“ switchAudio ä¸º true æ—¶ï¼Œæ ¡éªŒ audioContentï¼ŒaudioContent ä¸èƒ½ä¸ºnull
Â  Â */</span>
Â Â <span class="hljs-variable">@SpelNotNull</span>(condition =Â <span class="hljs-string">"#this.switchAudio == true"</span>, message =Â <span class="hljs-string">"è¯­éŸ³å†…å®¹ä¸èƒ½ä¸ºç©º"</span>)
Â Â privateÂ Object audioContent;

}
</code></pre>
</li>
<li>
<p>æ·»åŠ å…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼Œå¤„ç†æ ¡éªŒå¼‚å¸¸</p>
<pre><code class="hljs language-vbnet" lang="vbnet">@RestControllerAdvice
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â ControllerExceptionAdviceÂ {

Â Â @ExceptionHandler({BindException.<span class="hljs-keyword">class</span>,Â MethodArgumentNotValidException.<span class="hljs-keyword">class</span>})
Â Â <span class="hljs-keyword">public</span>Â Resp&lt;Void&gt;Â handleBindException(BindExceptionÂ ex)Â {
Â  Â  <span class="hljs-type">String</span> msg = ex.getFieldErrors().stream()
Â  Â  Â  Â  .map(<span class="hljs-keyword">error</span> -&gt; <span class="hljs-keyword">error</span>.getField() +Â <span class="hljs-string">" "</span>Â + <span class="hljs-keyword">error</span>.getDefaultMessage())
Â  Â  Â  Â  .reduce((s1, s2) -&gt; s1 +Â <span class="hljs-string">","</span>Â + s2)
Â  Â  Â  Â  .<span class="hljs-built_in">orElse</span>(<span class="hljs-string">""</span>);
Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">new</span>Â Resp&lt;&gt;(<span class="hljs-number">400</span>, msg);
Â  }

}
</code></pre>
</li>
<li>
<p>å‘èµ·è¯·æ±‚ï¼Œå³å¯çœ‹åˆ°æ ¡éªŒç»“æœ</p>
</li>
<li/>
<li>
<ul>
<li>
<p>ç¤ºä¾‹ä¸€ï¼š@SpelNotNull æ ¡éªŒä¸é€šè¿‡</p>
<p>è¯·æ±‚ä½“ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"switchAudio"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"audioContent"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å“åº”ä½“</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"audioContent è¯­éŸ³å†…å®¹ä¸èƒ½ä¸ºç©º"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>ç¤ºä¾‹äºŒï¼šæ ¡éªŒé€šè¿‡</p>
<p>è¯·æ±‚ä½“</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"switchAudio"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"audioContent"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å“åº”ä½“</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"æˆåŠŸ"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li>
<p>ç¤ºä¾‹ä¸‰ï¼š@NotNull æ ¡éªŒä¸é€šè¿‡</p>
<p>è¯·æ±‚ä½“</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"switchAudio"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"audioContent"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å“åº”ä½“</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â Â <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-number">400</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"switchAudio ä¸èƒ½ä¸ºnull"</span><span class="hljs-punctuation">,</span>
Â Â <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-literal"><span class="hljs-keyword">null</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-4">ğŸ“– ä½¿ç”¨æŒ‡å—</h2>
<p>æ³¨æ„ï¼šæœ¬ç»„ä»¶çš„ç›®çš„ä¸æ˜¯ä»£æ›¿Â <code>javax.validation</code>Â çš„æ ¡éªŒæ³¨è§£ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ä¸ªæ‰©å±•ï¼Œæ–¹ä¾¿æŸäº›åœºæ™¯ä¸‹çš„å‚æ•°æ ¡éªŒã€‚èƒ½å¤Ÿä½¿ç”¨Â <code>javax.validation</code>Â çš„åœºæ™¯å°±ä¸è¦ä½¿ç”¨Â <code>spel-validator</code>Â ï¼Œå› ä¸ºÂ <code>spel-validator</code>Â ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½æŸè€—ã€‚</p>
<h3 data-id="heading-5">å¼€å¯çº¦æŸæ ¡éªŒ</h3>
<p>éœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼Œæ‰ä¼šå¯¹å¸¦æ³¨è§£çš„å…ƒç´ è¿›è¡Œæ ¡éªŒï¼š</p>
<ol>
<li>åœ¨æ¥å£å‚æ•°ä¸Šä½¿ç”¨Â <code>@Valid</code>Â æˆ–Â <code>@Validated</code>Â æ³¨è§£</li>
<li>åœ¨å®ä½“ç±»ä¸Šä½¿ç”¨Â <code>@SpelValid</code>Â æ³¨è§£</li>
</ol>
<p>å¦‚æœåªæ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆåªä¼šå¯¹å¸¦Â <code>@NotNull</code>ã€<code>@NotEmpty</code>ã€<code>@NotBlank</code>Â ç­‰æ³¨è§£çš„å…ƒç´ è¿›è¡Œæ ¡éªŒã€‚å…³æ³¨å…¬ä¼—å·ï¼šç çŒ¿æŠ€æœ¯ä¸“æ ï¼Œå›å¤å…³é”®è¯ï¼š1111 è·å–é˜¿é‡Œå†…éƒ¨Javaæ€§èƒ½è°ƒä¼˜æ‰‹å†Œï¼</p>
<p>å¦‚æœåªæ»¡è¶³ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆä¸ä¼šå¯¹ä»»ä½•å…ƒç´ è¿›è¡Œæ ¡éªŒã€‚</p>
<p>è¿™æ˜¯å› ä¸ºÂ <code>@SpelValid</code>Â æ³¨è§£æ˜¯åŸºäºÂ <code>javax.validation.Constraint</code>Â å®ç°çš„ï¼Œåªæœ‰åœ¨Â <code>@Valid</code>Â æˆ–Â <code>@Validated</code>Â æ³¨è§£çš„æ”¯æŒä¸‹æ‰ä¼šç”Ÿæ•ˆã€‚è€ŒÂ <code>spel-validator</code>Â æä¾›çš„çº¦æŸæ³¨è§£æ˜¯åŸºäºÂ <code>@SpelValid</code>Â è¿›è¡Œæ‰«ææ ¡éªŒçš„ï¼Œåªæœ‰åœ¨Â <code>@SpelValid</code>Â æ³¨è§£ç”Ÿæ•ˆçš„æƒ…å†µä¸‹æ‰ä¼šæ‰§è¡Œçº¦æŸæ ¡éªŒã€‚</p>
<h3 data-id="heading-6">ä½¿ç”¨çº¦æŸæ³¨è§£</h3>
<p>ç›®å‰æ”¯æŒçš„çº¦æŸæ³¨è§£æœ‰ï¼š</p>








































<table><thead><tr><th>æ³¨è§£</th><th>è¯´æ˜</th><th>å¯¹æ ‡ javax.validation</th></tr></thead><tbody><tr><td><code>@SpelAssert</code></td><td>é€»è¾‘æ–­è¨€æ ¡éªŒ</td><td>æ— </td></tr><tr><td><code>@SpelNotNull</code></td><td>é null æ ¡éªŒ</td><td><code>@NotNull</code></td></tr><tr><td><code>@SpelNotEmpty</code></td><td>é›†åˆã€å­—ç¬¦ä¸²ã€æ•°ç»„å¤§å°éç©ºæ ¡éªŒ</td><td><code>@NotEmpty</code></td></tr><tr><td><code>@SpelNotBlank</code></td><td>å­—ç¬¦ä¸²éç©ºä¸²æ ¡éªŒ</td><td><code>@NotBlank</code></td></tr><tr><td><code>@SpelNull</code></td><td>å¿…é¡»ä¸º null æ ¡éªŒ</td><td><code>@Null</code></td></tr><tr><td><code>@SpelSize</code></td><td>é›†åˆã€å­—ç¬¦ä¸²ã€æ•°ç»„é•¿åº¦æ ¡éªŒ</td><td><code>@Size</code></td></tr></tbody></table>
<p>æ¯ä¸ªçº¦æŸæ³¨è§£éƒ½åŒ…å«ä¸‰ä¸ªé»˜è®¤çš„å±æ€§ï¼š</p>
<ul>
<li><code>message</code>ï¼šæ ¡éªŒå¤±è´¥æ—¶çš„æç¤ºä¿¡æ¯ã€‚</li>
<li><code>group</code>ï¼šåˆ†ç»„æ¡ä»¶ï¼Œæ”¯æŒ SpEL è¡¨è¾¾å¼ï¼Œå½“åˆ†ç»„æ¡ä»¶æ»¡è¶³æ—¶ï¼Œæ‰ä¼šå¯¹å¸¦æ³¨è§£çš„å…ƒç´ è¿›è¡Œæ ¡éªŒã€‚</li>
<li><code>condition</code>ï¼šçº¦æŸå¼€å¯æ¡ä»¶ï¼Œæ”¯æŒ SpEL è¡¨è¾¾å¼ï¼Œå½“ è¡¨è¾¾å¼ä¸ºç©º æˆ– è®¡ç®—ç»“æœä¸ºtrue æ—¶ï¼Œæ‰ä¼šå¯¹å¸¦æ³¨è§£çš„å…ƒç´ è¿›è¡Œæ ¡éªŒã€‚</li>
</ul>
<h3 data-id="heading-7">è°ƒç”¨ Spring Bean</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè§£æå™¨æ— æ³•è¯†åˆ« SpEL è¡¨è¾¾å¼ä¸­çš„ Spring Beanã€‚</p>
<p>å¦‚æœéœ€è¦åœ¨ SpEL è¡¨è¾¾å¼ä¸­è°ƒç”¨ Spring Beanï¼Œéœ€è¦åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ Â <code>@EnableSpelValidatorBeanRegistrar</code>Â æ³¨è§£ï¼Œ å¼€å¯ Spring Bean æ”¯æŒã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@EnableSpelValidatorBeanRegistrar</span>
<span class="hljs-variable">@SpringBootApplication</span>
publicÂ classÂ ApplicationÂ {

Â Â <span class="hljs-selector-tag">public</span>Â <span class="hljs-selector-tag">static</span>Â <span class="hljs-selector-tag">void</span>Â <span class="hljs-selector-tag">main</span>(String[] args)Â {
Â  Â  <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(Application.class,Â args);
Â  }

}
</code></pre>
<h3 data-id="heading-8">è‡ªå®šä¹‰çº¦æŸæ³¨è§£</h3>
<ol>
<li>åœ¨æ³¨è§£ä¸Šä½¿ç”¨Â <code>@SpelConstraint</code>Â ï¼Œå¹¶æŒ‡å®šéªŒè¯å™¨ã€‚</li>
<li>ç„¶åç»™æ³¨è§£æ·»åŠ ä¸Šä¸‰ä¸ªå›ºå®šçš„å­—æ®µ message ã€groupã€conditionã€‚</li>
<li>å®ç°éªŒè¯å™¨</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df850c21a67f42138e8ee752678860e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770619772&amp;x-signature=yXX6JpxdkxT0OOeh7a3fDXffRTc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è‡ªå®šä¹‰ç¤ºä¾‹çº¦æŸç¤ºä¾‹-å®šä¹‰çº¦æŸæ³¨è§£</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b39bec27423c4f63a689e09787be7fed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770619772&amp;x-signature=aM57L7k7FiN7hoGCwGV9BeKVVOE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è‡ªå®šä¹‰çº¦æŸç¤ºä¾‹-å®ç°éªŒè¯å™¨</p>
<p>å…·ä½“å®ç°æ–¹å¼å¯ä»¥å‚è€ƒÂ <code>cn.sticki.validator.spel.SpelConstraint</code>Â ç±»ã€‚å…³æ³¨å…¬ä¼—å·ï¼šç çŒ¿æŠ€æœ¯ä¸“æ ï¼Œå›å¤å…³é”®è¯ï¼š1111 è·å–é˜¿é‡Œå†…éƒ¨Javaæ€§èƒ½è°ƒä¼˜æ‰‹å†Œï¼</p>
<p>å¦‚æœä½ ä½¿ç”¨è¿‡Â <code>javax.validation</code>Â çš„è‡ªå®šä¹‰çº¦æŸæ³¨è§£ï¼Œé‚£ä¹ˆä½ ä¼šå‘ç°Â <code>SpEL Validator</code>Â çš„è‡ªå®šä¹‰çº¦æŸæ³¨è§£å‡ ä¹ä¸Â <code>javax.validation</code>ä¸€è‡´ã€‚</p>
<h2 data-id="heading-9">ğŸ“¦ ç¤ºä¾‹é¡¹ç›®</h2>
<p>æˆ‘ä¹Ÿå†™äº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹é¡¹ç›®ï¼Œä½†ç›®å‰è¿˜ä¸å¤ªå®Œå–„ï¼Œåªæœ‰åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fstick-i%2Fspel-validator-example" target="_blank" title="https://github.com/stick-i/spel-validator-example" ref="nofollow noopener noreferrer">github.com/stick-i/speâ€¦</a></li>
</ul>
<h2 data-id="heading-10">æœ€å</h2>
<h3 data-id="heading-11">å…³äºæ€§èƒ½</h3>
<p>æ€§èƒ½ä¸Šæˆ‘ç›®å‰è¿˜æ²¡æœ‰è¿›è¡Œæµ‹è¯•ï¼Œä½†ä»£ç é‡Œä½¿ç”¨äº†å¾ˆå¤šçš„åå°„ï¼Œä¼šæœ‰ä¸€å®šçš„æŸè€—ï¼Œåé¢æˆ‘å‡†å¤‡å¤šåŠ ä¸€äº›ç¼“å­˜ï¼Œå°½é‡é™ä½æ€§èƒ½ä¸Šçš„å½±å“ã€‚</p>
<h3 data-id="heading-12">ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡</h3>
<p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨SpELçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå¾ˆæ€ªå¼‚çš„ç°è±¡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e84f58bb8fc54a5e8787a27adec4a866~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770619772&amp;x-signature=eEvZagZnnqXxzQkxnymjTQgd31s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ç»™è¿™ä¸¤ä¸ªå­—æ®µéƒ½æ ‡è®°äº†Â <code>@Language("SpEL")</code>ï¼Œä½†æ˜¯åªæœ‰Â <code>condition</code>Â å¯ä»¥è¯†åˆ«ï¼Œæˆ‘ä¸çŸ¥é“è¿™ç®—ä¸ç®—ideaçš„bugï¼Œæˆ‘ç›®å‰ä½¿ç”¨çš„ideaç‰ˆæœ¬æ˜¯ IntelliJ IDEA 2024.1 (Ultimate Edition)ï¼Œæœ‰æ‡‚çš„æœ‹å‹è¯·å¸®å¿™è§£ç­”ä¸€ä¸‹ã€‚</p>
<p>GitHubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fstick-i%2Fspel-validator" target="_blank" title="https://github.com/stick-i/spel-validator" ref="nofollow noopener noreferrer">github.com/stick-i/speâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaè‡ªå®šä¹‰çº¿ç¨‹æ± æ‹’ç»ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7602051987848953875</link>    <guid>https://juejin.cn/post/7602051987848953875</guid>    <pubDate>2026-02-02T06:50:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602051987848953875" data-draft-id="7601728622825259051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaè‡ªå®šä¹‰çº¿ç¨‹æ± æ‹’ç»ç­–ç•¥"/> <meta itemprop="keywords" content="åç«¯,Java,Spring"/> <meta itemprop="datePublished" content="2026-02-02T06:50:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åº·å°åº„"/> <meta itemprop="url" content="https://juejin.cn/user/3905923612945870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaè‡ªå®šä¹‰çº¿ç¨‹æ± æ‹’ç»ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3905923612945870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åº·å°åº„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T06:50:12.000Z" title="Mon Feb 02 2026 06:50:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaè‡ªå®šä¹‰çº¿ç¨‹æ± æ‹’ç»ç­–ç•¥</h2>
<p>è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥çš„æ ¸å¿ƒæ˜¯<strong>å®ç°<code>java.util.concurrent.RejectedExecutionHandler</code>æ¥å£</strong>ï¼Œé‡å†™å”¯ä¸€çš„<code>rejectedExecution(Runnable r, ThreadPoolExecutor executor)</code>æ–¹æ³•ï¼š</p>
<ul>
<li>å‚æ•°<code>r</code>ï¼šè¢«çº¿ç¨‹æ± æ‹’ç»çš„ä»»åŠ¡å®ä¾‹ï¼›</li>
<li>å‚æ•°<code>executor</code>ï¼šå½“å‰çº¿ç¨‹æ± å®ä¾‹ï¼Œå¯é€šè¿‡å®ƒè·å–<strong>å®æ—¶è¿è¡ŒçŠ¶æ€</strong>ï¼ˆæ´»è·ƒçº¿ç¨‹æ•°ã€é˜Ÿåˆ—ä»»åŠ¡æ•°ã€å®Œæˆä»»åŠ¡æ•°ç­‰ï¼‰ï¼Œç”¨äºé—®é¢˜æ’æŸ¥ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.LinkedBlockingQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadFactory;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;

<span class="hljs-comment">/**
 * è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥Demoï¼šè¯¦ç»†æ—¥å¿—+çº¿ç¨‹æ± çŠ¶æ€ç›‘æ§
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomRejectPolicyDemo</span> {

    <span class="hljs-comment">// 1. å®ç°RejectedExecutionHandlerï¼Œè‡ªå®šä¹‰æ‹’ç»ç­–ç•¥</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCustomRejectPolicy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RejectedExecutionHandler</span> {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rejectedExecution</span><span class="hljs-params">(Runnable r, ThreadPoolExecutor executor)</span> {
            <span class="hljs-comment">// æ ¸å¿ƒï¼šæ‰“å°è¯¦ç»†æ‹’ç»æ—¥å¿— + çº¿ç¨‹æ± å®æ—¶çŠ¶æ€ï¼ˆç”Ÿäº§çº§æ’æŸ¥å¿…å¤‡ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">rejectLog</span> <span class="hljs-operator">=</span> String.format(
                    <span class="hljs-string">"===== ä»»åŠ¡è¢«æ‹’ç» =====\n"</span> +
                    <span class="hljs-string">"æ‹’ç»æ—¶é—´ï¼š%s\n"</span> +
                    <span class="hljs-string">"è¢«æ‹’ä»»åŠ¡ï¼š%s\n"</span> +
                    <span class="hljs-string">"çº¿ç¨‹æ± çŠ¶æ€ï¼šè¿è¡Œä¸­=%s | æ ¸å¿ƒçº¿ç¨‹æ•°=%d | æœ€å¤§çº¿ç¨‹æ•°=%d\n"</span> +
                    <span class="hljs-string">"å½“å‰çŠ¶æ€ï¼šæ´»è·ƒçº¿ç¨‹æ•°=%d | é˜Ÿåˆ—ä»»åŠ¡æ•°=%d | å·²å®Œæˆä»»åŠ¡æ•°=%d | æ€»ä»»åŠ¡æ•°=%d"</span>,
                    System.currentTimeMillis(),
                    r.toString(),
                    executor.isRunning(), <span class="hljs-comment">// çº¿ç¨‹æ± æ˜¯å¦å¤„äºRUNNINGçŠ¶æ€</span>
                    executor.getCorePoolSize(),
                    executor.getMaximumPoolSize(),
                    executor.getActiveCount(), <span class="hljs-comment">// å®æ—¶æ´»è·ƒçº¿ç¨‹æ•°</span>
                    executor.getQueue().size(), <span class="hljs-comment">// é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä»»åŠ¡æ•°</span>
                    executor.getCompletedTaskCount(), <span class="hljs-comment">// å·²å®Œæˆçš„ä»»åŠ¡æ€»æ•°</span>
                    executor.getTaskCount() <span class="hljs-comment">// æäº¤çš„æ€»ä»»åŠ¡æ•°ï¼ˆå®Œæˆ+æ‰§è¡Œä¸­+é˜Ÿåˆ—ä¸­ï¼‰</span>
            );
            <span class="hljs-comment">// å®é™…ç”Ÿäº§ä¸­å¯æ›¿æ¢ä¸ºSLF4J/Logbackæ—¥å¿—æ¡†æ¶</span>
            System.err.println(rejectLog);
            <span class="hljs-comment">// å¯é€‰ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚æ‰©å±•ï¼ˆå¦‚ä»»åŠ¡æŒä¹…åŒ–åˆ°MQ/Redisã€è§¦å‘é™æµå‘Šè­¦ã€ä¸»çº¿ç¨‹å…œåº•æ‰§è¡Œç­‰ï¼‰</span>
        }
    }

    <span class="hljs-comment">// 2. è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¯é€‰ï¼Œç”¨äºè®¾ç½®çº¿ç¨‹åï¼Œä¾¿äºæ’æŸ¥ä»»åŠ¡æ‰§è¡Œçº¿ç¨‹ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThreadFactory</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ThreadFactory</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">threadId</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">threadPrefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">"biz-worker-thread-"</span>;

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> Thread <span class="hljs-title function_">newThread</span><span class="hljs-params">(Runnable r)</span> {
            <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r, threadPrefix + threadId.getAndIncrement());
            thread.setDaemon(<span class="hljs-literal">false</span>); <span class="hljs-comment">// éå®ˆæŠ¤çº¿ç¨‹ï¼Œä¿è¯ä»»åŠ¡æ‰§è¡Œå®Œæˆ</span>
            thread.setPriority(Thread.NORM_PRIORITY); <span class="hljs-comment">// æ­£å¸¸ä¼˜å…ˆçº§</span>
            <span class="hljs-keyword">return</span> thread;
        }
    }

    <span class="hljs-comment">// ä¸»ç¨‹åºï¼šæµ‹è¯•è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-comment">// çº¿ç¨‹æ± æ ¸å¿ƒå‚æ•°ï¼šæ•…æ„è®¾ç½®å°å‚æ•°ï¼Œæ–¹ä¾¿è§¦å‘æ‹’ç»ç­–ç•¥</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">corePoolSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;    <span class="hljs-comment">// æ ¸å¿ƒçº¿ç¨‹æ•°</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">maximumPoolSize</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>; <span class="hljs-comment">// æœ€å¤§çº¿ç¨‹æ•°</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">keepAliveTime</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">// éæ ¸å¿ƒçº¿ç¨‹ç©ºé—²è¶…æ—¶æ—¶é—´</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">queueCapacity</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;   <span class="hljs-comment">// ä»»åŠ¡é˜Ÿåˆ—å®¹é‡ï¼ˆæœ‰é™é˜Ÿåˆ—ï¼Œå¿…é€‰ï¼Œå¦åˆ™æ— æ³•è§¦å‘æ‹’ç»ç­–ç•¥ï¼‰</span>

        <span class="hljs-comment">// 3. åˆ›å»ºçº¿ç¨‹æ± ï¼ŒæŒ‡å®šã€è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ã€‘</span>
        <span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
                corePoolSize,
                maximumPoolSize,
                keepAliveTime,
                TimeUnit.SECONDS,
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;(queueCapacity), <span class="hljs-comment">// æœ‰é™å®¹é‡é˜Ÿåˆ—ï¼Œè§¦å‘æ‹’ç»ç­–ç•¥çš„å…³é”®</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThreadFactory</span>(), <span class="hljs-comment">// è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚ï¼ˆå¯é€‰ï¼‰</span>
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCustomRejectPolicy</span>() <span class="hljs-comment">// æ ¸å¿ƒï¼šæŒ‡å®šè‡ªå®šä¹‰æ‹’ç»ç­–ç•¥</span>
        );

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// æäº¤7ä¸ªä»»åŠ¡ï¼Œè§¦å‘æ‹’ç»ç­–ç•¥ï¼ˆ2æ ¸å¿ƒ+2é˜Ÿåˆ—+2éæ ¸å¿ƒ=6ï¼Œç¬¬7ä¸ªä»»åŠ¡è¢«æ‹’ç»ï¼‰</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">7</span>; i++) {
                <span class="hljs-type">int</span> <span class="hljs-variable">taskId</span> <span class="hljs-operator">=</span> i;
                executor.submit(() -&gt; {
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-comment">// æ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œè€—æ—¶1ç§’</span>
                        TimeUnit.SECONDS.sleep(<span class="hljs-number">1</span>);
                        System.out.printf(<span class="hljs-string">"ä»»åŠ¡%dæ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼š%s%n"</span>, taskId, Thread.currentThread().getName());
                    } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                        Thread.currentThread().interrupt();
                        System.out.printf(<span class="hljs-string">"ä»»åŠ¡%dè¢«ä¸­æ–­%n"</span>, taskId);
                    }
                });
                System.out.printf(<span class="hljs-string">"ä»»åŠ¡%då·²æäº¤%n"</span>, taskId);
            }
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// 4. ä¼˜é›…å…³é—­çº¿ç¨‹æ± ï¼ˆå¿…é¡»ï¼Œé¿å…èµ„æºæ³„æ¼ï¼‰</span>
            executor.shutdown();
            <span class="hljs-comment">// ç­‰å¾…çº¿ç¨‹æ± ç»ˆæ­¢ï¼Œè¶…æ—¶åˆ™å¼ºåˆ¶å…³é—­</span>
            <span class="hljs-keyword">if</span> (!executor.awaitTermination(<span class="hljs-number">5</span>, TimeUnit.SECONDS)) {
                executor.shutdownNow();
            }
        }
    }
}
</code></pre>
<p>æœ¬æ¬¡çº¿ç¨‹æ± å‚æ•°è®¾ç½®ä¸º<code>æ ¸å¿ƒ2+æœ€å¤§4+é˜Ÿåˆ—2</code>ï¼Œ<strong>æ€»å¤„ç†èƒ½åŠ› = 6</strong>ï¼ˆ2 æ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œ + 2 é˜Ÿåˆ—ç­‰å¾… + 2 éæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œï¼‰ï¼Œæäº¤ç¬¬ 7 ä¸ªä»»åŠ¡æ—¶ï¼Œæ»¡è¶³<strong>ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ + çº¿ç¨‹æ•°è¾¾åˆ° maximumPoolSize</strong>ï¼Œè§¦å‘è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ã€‚</p>
<pre><code class="hljs language-java" lang="java">ä»»åŠ¡<span class="hljs-number">1</span>å·²æäº¤
ä»»åŠ¡<span class="hljs-number">2</span>å·²æäº¤
ä»»åŠ¡<span class="hljs-number">3</span>å·²æäº¤
ä»»åŠ¡<span class="hljs-number">4</span>å·²æäº¤
ä»»åŠ¡<span class="hljs-number">5</span>å·²æäº¤
ä»»åŠ¡<span class="hljs-number">6</span>å·²æäº¤
ä»»åŠ¡<span class="hljs-number">7</span>å·²æäº¤
===== ä»»åŠ¡è¢«æ‹’ç» =====
æ‹’ç»æ—¶é—´ï¼š<span class="hljs-number">1738456200000</span>
è¢«æ‹’ä»»åŠ¡ï¼šjava.util.concurrent.FutureTask@1b6d3586
çº¿ç¨‹æ± çŠ¶æ€ï¼šè¿è¡Œä¸­=<span class="hljs-literal">true</span> | æ ¸å¿ƒçº¿ç¨‹æ•°=<span class="hljs-number">2</span> | æœ€å¤§çº¿ç¨‹æ•°=<span class="hljs-number">4</span>
å½“å‰çŠ¶æ€ï¼šæ´»è·ƒçº¿ç¨‹æ•°=<span class="hljs-number">4</span> | é˜Ÿåˆ—ä»»åŠ¡æ•°=<span class="hljs-number">2</span> | å·²å®Œæˆä»»åŠ¡æ•°=<span class="hljs-number">0</span> | æ€»ä»»åŠ¡æ•°=<span class="hljs-number">7</span>
ä»»åŠ¡<span class="hljs-number">1</span>æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼šbiz-worker-thread-<span class="hljs-number">1</span>
ä»»åŠ¡<span class="hljs-number">2</span>æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼šbiz-worker-thread-<span class="hljs-number">2</span>
ä»»åŠ¡<span class="hljs-number">3</span>æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼šbiz-worker-thread-<span class="hljs-number">3</span>
ä»»åŠ¡<span class="hljs-number">4</span>æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼šbiz-worker-thread-<span class="hljs-number">4</span>
ä»»åŠ¡<span class="hljs-number">5</span>æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼šbiz-worker-thread-<span class="hljs-number">1</span>
ä»»åŠ¡<span class="hljs-number">6</span>æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œçº¿ç¨‹ï¼šbiz-worker-thread-<span class="hljs-number">2</span>
</code></pre>
<ul>
<li>è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥<strong>å¿…é¡»å®ç°<code>RejectedExecutionHandler</code>æ¥å£</strong>ï¼Œé‡å†™<code>rejectedExecution</code>æ–¹æ³•ï¼›</li>
<li>è§¦å‘æ‹’ç»ç­–ç•¥çš„<strong>å”¯ä¸€æ¡ä»¶</strong>ï¼šä»»åŠ¡é˜Ÿåˆ—å·²æ»¡ <strong>+</strong> çº¿ç¨‹æ± å½“å‰çº¿ç¨‹æ•°è¾¾åˆ°<code>maximumPoolSize</code>ï¼›</li>
<li>é€šè¿‡<code>ThreadPoolExecutor</code>å®ä¾‹å¯è·å–<strong>å…¨é‡è¿è¡ŒçŠ¶æ€</strong>ï¼Œæ˜¯ç”Ÿäº§æ’æŸ¥ä»»åŠ¡æ‹’ç»é—®é¢˜çš„å…³é”®ï¼›</li>
<li>çº¿ç¨‹æ± å¿…é¡»ä½¿ç”¨<strong>æœ‰é™å®¹é‡é˜Ÿåˆ—</strong>ï¼Œå¦åˆ™ä»»åŠ¡ä¼šæ— é™å…¥é˜Ÿï¼Œæ‹’ç»ç­–ç•¥æ°¸è¿œä¸ä¼šç”Ÿæ•ˆï¼›</li>
<li>ä¸šåŠ¡ç»“æŸå<strong>å¿…é¡»ä¼˜é›…å…³é—­çº¿ç¨‹æ± </strong>ï¼ˆ<code>shutdown()</code>+<code>awaitTermination()</code>ï¼‰ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ—¶ä»£ äººäººéƒ½å¯ä»¥æ˜¯å¼€æºè´¡çŒ®è€…ï¼ˆHarmonyOS å¼€å‘ä¸‰æ–¹åº“æŒ‡å—ï¼‰]]></title>    <link>https://juejin.cn/post/7602051987849199635</link>    <guid>https://juejin.cn/post/7602051987849199635</guid>    <pubDate>2026-02-02T07:27:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602051987849199635" data-draft-id="7602057555451871286" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ—¶ä»£ äººäººéƒ½å¯ä»¥æ˜¯å¼€æºè´¡çŒ®è€…ï¼ˆHarmonyOS å¼€å‘ä¸‰æ–¹åº“æŒ‡å—ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-02T07:27:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‡å°‘"/> <meta itemprop="url" content="https://juejin.cn/user/4441682708283191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ—¶ä»£ äººäººéƒ½å¯ä»¥æ˜¯å¼€æºè´¡çŒ®è€…ï¼ˆHarmonyOS å¼€å‘ä¸‰æ–¹åº“æŒ‡å—ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4441682708283191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‡å°‘
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.5 å¦‚é±¼å¾—æ°´
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.5 å¦‚é±¼å¾—æ°´" title="VIP.5 å¦‚é±¼å¾—æ°´" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-02T07:27:45.000Z" title="Mon Feb 02 2026 07:27:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-02
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI æ—¶ä»£ äººäººéƒ½å¯ä»¥æ˜¯å¼€æºè´¡çŒ®è€…ï¼ˆHarmonyOS å¼€å‘ä¸‰æ–¹åº“æŒ‡å—ï¼‰ <a href="#ai-%E6%97%B6%E4%BB%A3-%E4%BA%BA%E4%BA%BA%E9%83%BD%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%BC%80%E6%BA%90%E8%B4%A1%E7%8C%AE%E8%80%85-harmonyos-%E5%BC%80%E5%8F%91%E4%B8%89%E6%96%B9%E5%BA%93%E6%8C%87%E5%8D%97" title="#ai-%E6%97%B6%E4%BB%A3-%E4%BA%BA%E4%BA%BA%E9%83%BD%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%BC%80%E6%BA%90%E8%B4%A1%E7%8C%AE%E8%80%85-harmonyos-%E5%BC%80%E5%8F%91%E4%B8%89%E6%96%B9%E5%BA%93%E6%8C%87%E5%8D%97">â€‹</a></h2>
<blockquote>
<p>ä¸‡å°‘ï¼šåä¸ºHDEã€é¸¿è’™æå®¢</p>
<p>ä¸ªäººä¸»é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.zbztb.cn%2F" target="_blank" title="https://blog.zbztb.cn/" ref="nofollow noopener noreferrer">blog.zbztb.cn/</a></p>
<p><strong>2025å¹´å‚ä¸å­µåŒ–äº†20+é¸¿è’™åº”ç”¨ã€æŠ€æœ¯æ–‡ç« 300+ã€é¸¿è’™çŸ¥è¯†åº“ç”¨æˆ·500+ã€é¸¿è’™å…è´¹è¯¾ç¨‹2å¥—ã€‚</strong></p>
<p>å¦‚æœä½ ä¹Ÿå–œæ¬¢äº¤æµAIå’Œé¸¿è’™æŠ€æœ¯ï¼Œæ¬¢è¿æ‰£æˆ‘ã€‚</p>
</blockquote>
<h2 data-id="heading-1">å‰è¨€ <a href="#%E5%89%8D%E8%A8%80" title="#%E5%89%8D%E8%A8%80">â€‹</a></h2>
<p>AIæ—¶ä»£çš„æ¥ä¸´ï¼Œæå¤§çš„æ‹‰è¿‘äº† <strong>æƒ³æ³• - è¿‡ç¨‹ - ä½œå“</strong> çš„è·ç¦»ï¼Œåªè¦ä½ æœ‰å¥½çš„<strong>idea</strong>ï¼Œ<strong>AI</strong>å°±æ˜¯ä½ çš„ç¿…è†€ï¼Œå¯ä»¥æå¿«åŠ é€Ÿä½ æƒ³æ³•çš„è½åœ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0d9117ba0f34accbfa5e0a1bffceaf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=OKDVvehWmg2RMJU0758xV7g3tcM%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å½“ç„¶ï¼Œè¦æ˜¯ç”¨å¾—è¿‡åº¦äº†ï¼ŒAIä¹Ÿå¯èƒ½å¯ä»¥åŠ é€Ÿä½ <strong>èº«ä½“çš„è´Ÿæ‹…</strong>~</p>
</blockquote>
<p>æŠ›å¼ƒå·¥ä½œä¸è®²ï¼Œç¨‹åºå‘˜å¦‚ä½•åˆ©ç”¨å¥½AIæ¥ç»™è‡ªèº«æå‡ä»·å€¼å‘¢ï¼š</p>
<ul>
<li>å†™åšå®¢</li>
<li>åšäº§å“</li>
<li>åšæŠ€æœ¯æ¡†æ¶ã€æŠ€æœ¯ç»„ä»¶</li>
</ul>
<p>æˆ‘è®¤ä¸ºä»¥ä¸Šè¿™äº›éƒ½æ˜¯å¯ä»¥è®©AIç»™æˆ‘ä»¬å¢åŠ ç«äº‰åŠ›çš„ã€‚</p>
<h2 data-id="heading-2">ç¤ºä¾‹ <a href="#%E7%A4%BA%E4%BE%8B" title="#%E7%A4%BA%E4%BE%8B">â€‹</a></h2>
<p><strong>è¿™é‡Œä»¥ä¸€ä¸ªç®€å•çš„é¸¿è’™ä¸‰æ–¹åº“ç»„ä»¶çš„å¼€å‘å’Œä¸Šæ¶ä¸ºä¾‹</strong></p>
<p><strong>KeyTone</strong>ï¼šæ˜¯ä¸€ä¸ªå¯ä»¥åœ¨é¸¿è’™åº”ç”¨ä¸Šï¼Œåœ¨è¾“å…¥æ¡†è¾“å…¥æ—¶ï¼Œå¢åŠ ä¸€ç‚¹éŸ³æ•ˆçš„ç»„ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cd5667a99034fb198b35de91bdc24f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=ml5Cf8w1XhkR4Tr%2FagktKHvWPiA%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå°ç»„ä»¶å°±æ˜¯ä¸€ä¸ªç®€å•çš„<strong>æƒ³æ³•-ä½œå“çš„ä½“ç°</strong></p>
<h2 data-id="heading-3">è¿‡ç¨‹ <a href="#%E8%BF%87%E7%A8%8B" title="#%E8%BF%87%E7%A8%8B">â€‹</a></h2>
<p>æƒ³æ³•å°±æ˜¯æƒ³è¦åšè¿™æ ·ä¸€ä¸ªå°ç»„ä»¶ï¼Œè¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ï¼Œå¯ä»¥æ’­æ”¾éŸ³æ•ˆã€‚</p>
<p>é‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬çœ‹çœ‹ï¼š</p>
<ol>
<li>AIåˆ¶ä½œéŸ³é¢‘æ–‡ä»¶</li>
<li>AIç¼–å†™ç»„ä»¶</li>
<li>AIç¼–å†™ä½¿ç”¨æ–‡æ¡£</li>
<li>æäº¤åˆ°GitHubä¸Š</li>
<li>æäº¤åˆ°ä¸‰æ–¹åº“ä¸Š</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34fd8d55fd464924b0ba3343a19bcac9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=x%2BP%2FF7tIPHSjVyt55a4W8DdCJ4Y%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå…¶å®æœ€ä¸ºè€—æ—¶çš„è¿‡ç¨‹1ã€2ã€3éƒ½æ˜¯AIç»™æˆ‘ä»¬ææ•ˆå’Œå®ç°ï¼Œè¿™ä¸ªææ•ˆå’Œå®ç°ä¸ä¸€å®šæ˜¯ä½“ç°åœ¨å¼€å‘é€Ÿåº¦ä¸Šï¼Œä¹Ÿå¯èƒ½æ˜¯ä½“ç°ä½ å¯ä»¥åŒæ—¶ç”¨å¤šä¸ªAIåšå¤šä»¶äº‹æƒ…ä¸Šäº†ã€‚</p>
<h2 data-id="heading-4">æŠ€æœ¯è®²è§£ <a href="#%E6%8A%80%E6%9C%AF%E8%AE%B2%E8%A7%A3" title="#%E6%8A%80%E6%9C%AF%E8%AE%B2%E8%A7%A3">â€‹</a></h2>
<h3 data-id="heading-5">åˆ›å»ºHar <a href="#%E5%88%9B%E5%BB%BAhar" title="#%E5%88%9B%E5%BB%BAhar">â€‹</a></h3>
<p>é¦–å…ˆï¼Œæƒ³è¦å‘å¸ƒåˆ°é¸¿è’™ä¸‰æ–¹åº“ï¼Œåœ¨å·²æœ‰çš„å·¥ç¨‹ä¸­éœ€è¦æ–°å»ºä¸€ä¸ªé™æ€å…±äº«åŒ… <strong>Har</strong></p>
<blockquote>
<p>HARï¼ˆHarmony Archiveï¼‰æ˜¯é™æ€å…±äº«åŒ…ï¼Œå¯ä»¥åŒ…å«ä»£ç ã€C++åº“ã€èµ„æºå’Œé…ç½®æ–‡ä»¶ã€‚é€šè¿‡HARå¯ä»¥å®ç°å¤šä¸ªæ¨¡å—æˆ–å¤šä¸ªå·¥ç¨‹å…±äº«ArkUIç»„ä»¶ã€èµ„æºç­‰ç›¸å…³ä»£ç ã€‚</p>
<ul>
<li>æ”¯æŒåº”ç”¨å†…å…±äº«ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºäºŒæ–¹åº“ï¼ˆSDKï¼‰ã€ä¸‰æ–¹åº“ï¼ˆSDKï¼‰å‘å¸ƒåä¾›å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</li>
<li>ä½œä¸ºäºŒæ–¹åº“ï¼ˆSDKï¼‰ï¼Œå‘å¸ƒåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fide-ohpm-repo" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo" ref="nofollow noopener noreferrer">OHPMç§ä»“</a>ï¼Œä¾›å…¬å¸å†…éƒ¨å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</li>
<li>ä½œä¸ºä¸‰æ–¹åº“ï¼ˆSDKï¼‰ï¼Œå‘å¸ƒåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fhome" target="_blank" title="https://ohpm.openharmony.cn/#/cn/home" ref="nofollow noopener noreferrer">OHPMä¸­å¿ƒä»“</a>ï¼Œä¾›å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</li>
</ul>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/815c2807266249e5a6ecdb6e055e6f74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=sUJRCoA1STcfe%2Bo2vIomwI%2FWUgY%3D" alt="" loading="lazy"/></p>
<p>æ­¤æ—¶ä½ çš„å·¥ç¨‹åº”è¯¥æ˜¯è¿™æ ·</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f471e28e5eb4b97ad2a849f842ae8a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=HpPmF9Tw0hRfJWJhPdca2mzbO3A%3D" alt="" loading="lazy"/></p>
<p><code>entry</code>ä½œä¸ºä½ æ­£å¸¸çš„ä¸€ä¸ªåº”ç”¨å·¥ç¨‹</p>
<p>keytoneä½œä¸ºä½ è¦å¼€å‘çš„ä¸€ä¸ªä¸‰æ–¹åº“å·¥ç¨‹</p>
<p>é‚£ä¸ºä»€ä¹ˆä¸ä½¿ç”¨<code>DevEco Studio</code> ç›´æ¥æ–°å»ºä¸€ä¸ªé™æ€å…±äº«åŒ…<code>Har - KeyTone</code>å‘¢</p>
<p>åŸå› æ˜¯ï¼š<code>entry</code>å±äº<code>Hap</code>åŒ…ï¼Œå®ƒæ˜¯åº”ç”¨è¿è¡Œçš„æœ€å°å•å…ƒï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯ä½ æƒ³è¦å®æ—¶çœ‹åˆ°ä½ å¼€å‘çš„<code>Har</code>åŒ…çš„æ•ˆæœï¼Œä½ çš„å¼€å‘å¿…é¡»ä¾æ‰˜äºå®ƒã€‚</p>
<p>æ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯</p>
<p><code>entry</code>æ¨¡å— + ä¸€äº› <code>Har</code>åŒ…ç±»çš„æ¨¡å—åœ¨ä¸€ä¸ªå¤§çš„å·¥ç¨‹å†…ã€‚</p>
<p>åæœŸå‘å¸ƒçš„æ—¶å€™å¯ä»¥åªå‘å¸ƒ<code>Har</code>ï¼Œä¹Ÿå°±æ˜¯<code>KeyTone</code>ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒç¨‹åºå—åˆ°æ±¡æŸ“çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-6">AIç¼–ç  <a href="#ai%E7%BC%96%E7%A0%81" title="#ai%E7%BC%96%E7%A0%81">â€‹</a></h3>
<p>è¿™ä¸ªæ—¶å€™æ˜¯æˆ‘æœ€è½»æ¾çš„æ—¶å€™ï¼Œä½¿ç”¨è‡ªå·±ä¹ æƒ¯çš„AIè®©å®ƒå¼€å§‹æŒ‰ç…§æˆ‘çš„æƒ³æ³•å¼€å§‹å·¥ä½œã€‚</p>
<p>é™„ä¸Šä¸€äº›å¯¹è¯</p>
<ol>
<li>
<p>åˆå§‹åŒ–å·¥ç¨‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffd075baed2a43448a4e84e9f3c5c935~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=aC%2F%2Fy2o7bkWSTgu%2BLAZygStCxUI%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>å‘å¸ƒéœ€æ±‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06ab6b5ccc244b199507c34607e68ffa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=a4XFzso7OUgsoQ18NwvlOkIAPc4%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>é€‰æ‹©æ–¹æ¡ˆ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82ab6369b1b1435591abfca1447fb049~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=d6ajc7UR4JMhtVHOgIX2ZnlJN4w%3D" alt="" loading="lazy"/></p>
<ol start="4">
<li>
<p>ç¡®è®¤è®¡åˆ’ï¼Œå¼€å§‹ç¼–ç </p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b369cb7fc5d4cb7890df91b813badbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=OFODrfBkQMmDgZ%2BivPwT0SwSrAE%3D" alt="" loading="lazy"/></p>
</li>
</ol>
</li>
<li>
<p>çœç•¥ä¸­é—´æ­¥éª¤</p>
</li>
</ol>
<p>å½“ç„¶ï¼Œä½ çš„HaråŒ…å¼€å§‹å¼€å‘æ—¶ï¼Œä½ éœ€è¦åœ¨Entryæ¨¡å—å†…å¼•å…¥å’Œé¢„è§ˆå®ƒã€‚</p>
<p>è¿™ä¸ªæ­¥éª¤ä¹Ÿå¯ä»¥äº¤ç»™AIã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a96a894172374293aec6880c4e33ab90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=2XQknlGcD58HBY89bCP5iWV5xMY%3D" alt="" loading="lazy"/></p>
<p>é‚£è¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…å‘¢</p>
<p>KeyToneä¸­éœ€è¦å¯¼å‡ºä¸€äº›å°è£…å¥½çš„åŠŸèƒ½ï¼Œç»™å¼€å‘è€…è°ƒç”¨</p>
<hr/>
<p>Entryæ¨¡å—å°±å¯ä»¥å¯¼å…¥KeyToneæ¨¡å—ï¼Œç„¶åä½¿ç”¨å®ƒå¯¼å‡ºçš„åŠŸèƒ½äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3025934b4d814469a6a8d93d79c0ad79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=cYHDhNgLAPv1xshY%2F7hQie%2BUXto%3D" alt="" loading="lazy"/></p>
<p>æœ€åè¿è¡Œèµ·æ¥ï¼Œå°±å¯ä»¥åœ¨æ¨¡æ‹Ÿå™¨ä¸­çœ‹åˆ°å…·ä½“æ•ˆæœäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b0a76359ed14b1c86c34bd4d5dd9929~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=H3q0qKE%2BagsXUiPyqpn2J0NLS3k%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">ç¼–å†™Harå†…çš„ç›¸å…³ä¿¡æ¯ <a href="#%E7%BC%96%E5%86%99har%E5%86%85%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF" title="#%E7%BC%96%E5%86%99har%E5%86%85%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">â€‹</a></h3>
<p>ç”±äºä½ çš„HaråŒ…åæœŸæ˜¯éœ€è¦ä¸Šä¼ åˆ°é¸¿è’™ä¸‰æ–¹åº“ä¸Šç»™å…¶ä»–å¼€å‘è€…ä½¿ç”¨çš„ã€‚</p>
<p>æ‰€ä»¥ä½ éœ€è¦å¡«å†™å¥½å¯¹åº”çš„ä¸€äº›è¯´æ˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/130da962f11c4765b7c5b8886b0cce7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=vAIqEdlXnWnq7rzArvZ4PZJuVWA%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“å¡«å†™çš„å†…å®¹ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£</p>
<blockquote>
<p>ä¸‰æ–¹åº“å‘å¸ƒçš„å¿…è¦æ–‡ä»¶</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fhelp%2Fpublishrequirefile" target="_blank" title="https://ohpm.openharmony.cn/#/cn/help/publishrequirefile" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/help/pâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f74c80da4664eddacbd65b3d06e5be0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=TVMmQLaDEmwiR2VdeAWgFphuXlQ%3D" alt="" loading="lazy"/></p>
</blockquote>
<h3 data-id="heading-8">æ„å»ºHar <a href="#%E6%9E%84%E5%BB%BAhar" title="#%E6%9E%84%E5%BB%BAhar">â€‹</a></h3>
<p>å½“å¡«å†™å®Œæ¯•åï¼Œéœ€è¦å°†KeyToneæ„å»ºæˆHarï¼ŒåæœŸä¸Šä¼ åˆ°ä¸‰æ–¹åº“ä¸Šä¹Ÿæ˜¯ä¸Šä¼ Haræ–‡ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2806801778ee417390579c0dcd8e93a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=Qv680FV%2FfwZ4nuazv8AJL5zUIDI%3D" alt="" loading="lazy"/></p>
<hr/>
<p>ç„¶ååœ¨ä½ çš„<code>KeyTone</code>ç›®å½•å†…å¯ä»¥å¾—åˆ°è¿™ä¸ª<code>Har</code>äº§ç‰©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/851e6d584f794384a6ec4d8547b15b94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=LPumKRipOkIqNhC94U%2B0JPxKrgg%3D" alt="image-20260131192130791" loading="lazy"/></p>
<h3 data-id="heading-9">ä¸Šä¼ Har <a href="#%E4%B8%8A%E4%BC%A0har" title="#%E4%B8%8A%E4%BC%A0har">â€‹</a></h3>
<p>è¿™ä¸ªæ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ohpmåŠŸèƒ½è¿›è¡Œä¸Šä¼ è¿™ä¸ªHaräº†ï¼Œæƒ³è¦æˆåŠŸä¸Šä¼ ï¼Œä½ éœ€è¦é…ç½®ä¸€ä¸‹ohpmå’Œä¸‰æ–¹åº“ä¸Šçš„ç¯å¢ƒ</p>
<blockquote>
<p>è®¤è¯ç®¡ç†ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fhelp%2Fcertifymanage" target="_blank" title="https://ohpm.openharmony.cn/#/cn/help/certifymanage" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/help/câ€¦</a></p>
<p>å‘å¸ƒå‡†å¤‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fhelp%2Fcreateandpublish" target="_blank" title="https://ohpm.openharmony.cn/#/cn/help/createandpublish" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/help/câ€¦</a></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97b433a38e5b41fcb1a9dffbfd1c66e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=s5T%2BQ7Kx0Vpbw11s9YPIhotLLRs%3D" alt="" loading="lazy"/></p>
<p>ä¸€åˆ‡é¡ºåˆ©åï¼Œä½ å¯ä»¥åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œå‘å¸ƒå‘½ä»¤</p>
<blockquote>
<p>ohpm publish ä½ çš„HaråŒ…åœ°å€</p>
</blockquote>
<p>æˆåŠŸåï¼Œåœ¨ä¸‰æ–¹åº“ä¸ªäººä¸­å¿ƒä¸Šå¯ä»¥çœ‹åˆ°å®¡æ ¸ä¿¡æ¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80b000fb87944a31899ea8d2a68f144b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=jpbySy8E39keZkHQwJxAZVigdyA%3D" alt="" loading="lazy"/></p>
<p>æ­å–œä½ ï¼Œä½ ä¹Ÿæ˜¯ä¸€ä¸ªå¼€æºè¾¾äººå•¦ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1f3cdbc56074d1598aa06c9fd88082b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770622068&amp;x-signature=WXwq91HrMW%2BK1s8M4bBmPVoKdxw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">å‚è€ƒæ–‡ç«  <a href="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0" title="#%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0">â€‹</a></h2>
<ol>
<li>
<p>OpenHarmonyä¸‰æ–¹åº“ä¸­å¿ƒä»“</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fhelp%2Fintroduction" target="_blank" title="https://ohpm.openharmony.cn/#/cn/help/introduction" ref="nofollow noopener noreferrer">ohpm.openharmony.cn/#/cn/help/iâ€¦</a></p>
</blockquote>
</li>
<li>
<p>åº”ç”¨ç¨‹åºåŒ…åŸºç¡€çŸ¥è¯†</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fapplication-package-fundamentals" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/application-package-fundamentals" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p>
</blockquote>
</li>
</ol>
<h2 data-id="heading-11">å…³äºæˆ‘ <a href="#%E5%85%B3%E4%BA%8E%E6%88%91" title="#%E5%85%B3%E4%BA%8E%E6%88%91">â€‹</a></h2>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼ŒæŒç»­åˆ†äº«é¸¿è’™å¼€å‘ + AI ææ•ˆçš„å®æˆ˜æŠ€å·§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>