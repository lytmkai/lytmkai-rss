<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser]]></title>    <link>https://juejin.cn/post/7582479325283729471</link>    <guid>https://juejin.cn/post/7582479325283729471</guid>    <pubDate>2025-12-11T17:24:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582479325283729471" data-draft-id="7582422766731067435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T17:24:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼ æ‹­å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/571401775094312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cursor åˆå·å·æ›´æ–°ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨ï¼šVisual Editor for Cursor Browser
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/571401775094312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼ æ‹­å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T17:24:19.000Z" title="Thu Dec 11 2025 17:24:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‡Œæ™¨ 1 ç‚¹ï¼Œæˆ‘æ­£è¦å…³ç”µè„‘ç¡è§‰ï¼Œå±å¹•å·¦ä¸‹è§’çªç„¶å¼¹å‡ºä¸€ä¸ªå¼¹çª—ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b454446dd6c3443595b7e46bfc08c65a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=hJsQOVveWYIiPbrcfck5rKXtnC4%3D" alt="cursor åŠŸèƒ½æ›´æ–°.jpg" loading="lazy"/></p>
<p>Cursor åˆä¸Šæ–°åŠŸèƒ½äº†ï¼Ÿå¸¦ç€å¥½å¥‡æˆ‘ä»”ç»†çœ‹äº†ä¸‹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursor.com%2Fcn%2Fdocs%2Fagent%2Fbrowser%23browser" target="_blank" title="https://cursor.com/cn/docs/agent/browser#browser" ref="nofollow noopener noreferrer">cursor.com/cn/docs/ageâ€¦</a></p>
<p>æˆ‘å»ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆé‡ç£…å•Šï¼</p>
<p>è¿™æ¬¡æ›´æ–°çš„ Visual Editor for Cursor Browser æ˜¯ä¸€ä¸ªæ‰“ç ´â€œè®¾è®¡â€ä¸â€œç¼–ç â€è¾¹ç•Œçš„é‡ç£…åŠŸèƒ½ï¼Œå®ƒè®© Cursor ä¸ä»…ä»…æ˜¯ç¼–è¾‘å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ªâ€œèƒ½ç›´æ¥å†™ä»£ç çš„æµè§ˆå™¨â€ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒä»·å€¼</h2>
<p>å®ƒè§£å†³äº†å‰ç«¯å¼€å‘ä¸­æœ€å¤§çš„ç—›ç‚¹â€”â€”â€œåœ¨æµè§ˆå™¨é‡Œè°ƒå¥½äº†æ ·å¼ï¼Œè¿˜å¾—æ‰‹åŠ¨å›ä»£ç é‡Œæ”¹â€ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åƒåœ¨ Figma æˆ– Webflow é‡Œä¸€æ ·ç›´æ¥æ‹–æ‹½ã€ç‚¹å‡»ã€è°ƒæ•´ UIï¼Œç„¶åç‚¹å‡» "Apply"ï¼ŒCursor çš„ Agent å°±ä¼šè‡ªåŠ¨æŠŠè¿™äº›è§†è§‰å˜æ›´ç¿»è¯‘æˆå®Œç¾çš„ä»£ç å¹¶å†™å…¥ä½ çš„é¡¹ç›®ï¼Œå®ç°äº†çœŸæ­£çš„â€œæ‰€è§å³æ‰€å¾—ï¼ˆDesign to Codeï¼‰â€ã€‚</p>
<h2 data-id="heading-1">å¦‚ä½•ä½“éªŒ</h2>
<p>é¦–å…ˆç¡®è®¤ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/690f5eed3d07458e916ac10cf0ed4d60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=rhjJs0VHSNmJ1mJbnPY8vKhXhh4%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€ Cursor -&gt; å³ä¸Šè§’è®¾ç½® -&gt; Tools&amp;MCP -&gt; Browser Automation -&gt; é€‰æ‹© Browser Tab:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1ff75d4c88490bbaff3da5438c9ffe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=rok4nl9cOl%2BzEbrdZMtA5FC9%2FIc%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åå¯åŠ¨é¡¹ç›®ï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªå¼¹çª—ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69e6bcc64974470ca40692a763e45ab8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=SMFekFs%2BAs2qyK9FlKo9qIrWMBk%3D" alt="cursor-brower.jpg" loading="lazy"/></p>
<p>ç‚¹å‡» open ä»¥åï¼Œå°±å¯ä»¥åœ¨ Cursor é‡Œå¯åŠ¨é¢„è§ˆå‰ç«¯é¡¹ç›®ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d6a078218b44d76a73751eaee7ff7bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=qmanOCDr%2B6chGkNCaSnOBRwVyeY%3D" alt="cursor åŠŸèƒ½æ›´æ–°-é¢„è§ˆ.jpg" loading="lazy"/></p>
<p>å³ä¸Šè§’çš„åŠŸèƒ½ä¸»è¦æ˜¯ï¼šé€‰æ‹©å…ƒç´ ã€æˆªå›¾ã€æ‰“å¼€å¼€å‘è€…æ¨¡å¼ã€‚</p>
<p>æœ€æœ‰ç”¨çš„å°±æ˜¯é€‰æ‹©å…ƒç´ åå’Œ AI å¯¹è¯ï¼Œè¿™æ— ç–‘è®©ä¸Šä¸‹æ–‡æ›´åŠ å…·ä½“ï¼Œä»¥åä¿®æ”¹ UI æ›´æ–¹ä¾¿äº†ï¼</p>
<p><strong>ç®€å•çš„ä¿®æ”¹ç”šè‡³æˆ‘ä»¬éƒ½ä¸éœ€è¦å’Œ AI èŠï¼Œç›´æ¥ä¸Šæ‰‹åœ¨ç•Œé¢ä¸Šæ”¹ï¼</strong></p>
<p>å¼€å¯é€‰æ‹©å…ƒç´ æ¨¡å¼åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é¢„è§ˆç•Œé¢ä¸Š<strong>æ‹–æ‹½ä¿®æ”¹ UIã€è°ƒæ•´æ–‡æ¡ˆã€å¸ƒå±€ç»“æ„</strong>ç­‰ç­‰ï¼Œå°±å’Œåšè®¾è®¡ä¸€æ ·æ‰€è§å³æ‰€å¾—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e04d52ac7775414c9a705e6085035b75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byg5out5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766080858&amp;x-signature=3ucskxYTjQWFXeEF60LZHnXQNOY%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Cursor å†…ç½®æµè§ˆå™¨åŒ…å«ä¸€ä¸ªè®¾è®¡ä¾§è¾¹æ ï¼Œå¯ç›´æ¥åœ¨ Cursor ä¸­ä¿®æ”¹é€‰ä¸­å…ƒç´ çš„ Position Layout Padding color ç­‰ç­‰ï¼Œå®ç°å®æ—¶å¯è§†åŒ–è°ƒæ•´ä¸‹çš„åŒæ­¥è®¾è®¡ä¸ç¼–ç ã€‚</p>
</blockquote>
<p>æœ‹å‹ä»¬ï¼Œè¿™ä¸ªåŠŸèƒ½å¤ªå®ç”¨äº†ï¼Œå®ç”¨åˆ°æˆ‘éƒ½ä¸æ•¢å‘Šè¯‰äº§å“ç»ç†å’Œè®¾è®¡å¸ˆ!</p>
<p>æ ¹æ®å®˜æ–¹æ–‡æ¡£ï¼Œè¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨è¿™äº›åœºæ™¯ï¼š</p>
<ol>
<li>æµ‹è¯•åº”ç”¨</li>
<li>å¯è§†åŒ–åœ°ç¼–è¾‘å¸ƒå±€å’Œæ ·å¼</li>
<li>æ‰§è¡Œæ— éšœç¢å®¡è®¡</li>
<li>å°†è®¾è®¡è½¬æ¢ä¸ºä»£ç ç­‰</li>
</ol>
<p>å²æ•°å¤§äº†ä¸èƒ½ç†¬å¤œï¼Œæˆ‘å°±å…ˆæŠ›ç –å¼•ç‰ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹èµ¶ç´§è¯•è¯•å§ï¼Œæ™šå®‰ï¼</p>
<blockquote>
<p>æˆ‘çš„ä¸“æ ã€Šè½¬å‹ AI å·¥ç¨‹å¸ˆã€‹æ­£åœ¨é¢„çƒ­ä¸­ï¼Œç¬¬ä¸€ç¯‡æ–‡ç« å·²å‘å¸ƒï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥çœ‹çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaobot.net%2Fpost%2F8e8e0693-00a0-4220-bf3e-dec50a17294d" target="_blank" title="https://xiaobot.net/post/8e8e0693-00a0-4220-bf3e-dec50a17294d" ref="nofollow noopener noreferrer">xiaobot.net/post/8e8e06â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[90%å‰ç«¯éƒ½è¸©è¿‡çš„JSå†…å­˜é»‘æ´ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹è§£é”åº•å±‚é€»è¾‘ä¸é¿å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582438310103711790</link>    <guid>https://juejin.cn/post/7582438310103711790</guid>    <pubDate>2025-12-11T16:20:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310103711790" data-draft-id="7582422818311733299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="90%å‰ç«¯éƒ½è¸©è¿‡çš„JSå†…å­˜é»‘æ´ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹è§£é”åº•å±‚é€»è¾‘ä¸é¿å‘æŒ‡å—"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T16:20:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zzpper"/> <meta itemprop="url" content="https://juejin.cn/user/3560673121928058"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            90%å‰ç«¯éƒ½è¸©è¿‡çš„JSå†…å­˜é»‘æ´ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹è§£é”åº•å±‚é€»è¾‘ä¸é¿å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3560673121928058/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zzpper
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T16:20:07.000Z" title="Thu Dec 11 2025 16:20:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œâ€œå†…å­˜â€ä¼¼ä¹æ˜¯ä¸ªâ€œéšå½¢é€‰æ‰‹â€â€”â€”å¹³æ—¶ä¸æ˜¾å±±éœ²æ°´ï¼Œä¸€æ—¦å‡ºé—®é¢˜å°±å¯èƒ½è®©é¡µé¢è¶Šç”¨è¶Šå¡ã€ç”šè‡³ç›´æ¥å´©æºƒã€‚å¤šæ•°å¼€å‘è€…å¯¹JSå†…å­˜çš„ç†è§£åœç•™åœ¨â€œæ ˆå­˜åŸºç¡€ç±»å‹ï¼Œå †å­˜å¼•ç”¨ç±»å‹â€çš„è¡¨å±‚ï¼Œå´å¿½ç•¥äº†ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­åå¤å¼ºè°ƒçš„ï¼š<strong>å†…å­˜æœºåˆ¶çš„æ ¸å¿ƒä¸æ˜¯â€œå­˜å“ªé‡Œâ€ï¼Œè€Œæ˜¯â€œå¦‚ä½•è¢«ç®¡ç†ã€ä½•æ—¶è¢«å›æ”¶â€</strong> ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°±ä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹çš„åº•å±‚è§†è§’ï¼Œæ‹†è§£5ä¸ªæœ€å®¹æ˜“è¢«å¿½ç•¥çš„JSå†…å­˜å…³é”®çŸ¥è¯†ç‚¹ã€‚æ¯ä¸ªç‚¹éƒ½é…å¥—çœŸå®ä¸šåŠ¡åœºæ™¯çš„å‘ä½æ¡ˆä¾‹ã€å¯ç›´æ¥å¤ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå¸®ä½ ä»â€œè¢«åŠ¨è¸©å‘â€å˜æˆâ€œä¸»åŠ¨æŒæ§â€å†…å­˜ï¼</p>
<h2 data-id="heading-0">ä¸€ã€å†…å­˜ç”Ÿå‘½å‘¨æœŸçš„â€œéšå½¢æ¼æ´â€ï¼šä½ ä»¥ä¸ºçš„â€œä¸ç”¨äº†â€â‰ â€œè¢«å›æ”¶â€</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ç¬¬ä¸€å·å¼€ç¯‡å°±å¼ºè°ƒï¼š <em>â€œJSçš„è‡ªåŠ¨åƒåœ¾å›æ”¶ä¸æ˜¯â€˜ä¸‡èƒ½å…œåº•â€™ï¼Œå®ƒåªå›æ”¶â€˜ä¸å¯è¾¾â€™çš„å†…å­˜â€</em> ã€‚å¾ˆå¤šå†…å­˜æ³„æ¼çš„æ ¹æºï¼Œå°±æ˜¯æˆ‘ä»¬è¯¯ä»¥ä¸ºâ€œå˜é‡ä¸ç”¨äº†å°±ä¼šè¢«å›æ”¶â€ï¼Œå´å¿½ç•¥äº†å†…å­˜ç”Ÿå‘½å‘¨æœŸçš„â€œä¸»åŠ¨é‡Šæ”¾â€ç¯èŠ‚ã€‚</p>
<h3 data-id="heading-1">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šè§£é™¤å¼•ç”¨æ˜¯å›æ”¶çš„å‰æ</h3>
<p>JSå†…å­˜ç”Ÿå‘½å‘¨æœŸåˆ†ä¸‰æ­¥ï¼š<strong>åˆ†é…â†’ä½¿ç”¨â†’å›æ”¶</strong>ã€‚å…¶ä¸­â€œå›æ”¶â€çš„å…³é”®æ˜¯â€œåˆ‡æ–­å˜é‡çš„æ‰€æœ‰å¯è¾¾å¼•ç”¨â€ã€‚ä½†å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å› ä»¥ä¸‹æ“ä½œç•™ä¸‹â€œéšå½¢å¼•ç”¨â€ï¼š</p>
<ul>
<li>å…¨å±€å˜é‡æœªåŠæ—¶æ¸…ç†ï¼ˆæœ€å¸¸è§ï¼æ¯”å¦‚æœªå£°æ˜çš„å˜é‡è‡ªåŠ¨æŒ‚è½½åˆ°windowï¼‰</li>
<li>é—­åŒ…é•¿æœŸæŒæœ‰å¤§å¯¹è±¡çš„å¼•ç”¨</li>
<li>DOMå…ƒç´ è¢«ç§»é™¤åï¼ŒJSä¸­ä»ä¿ç•™å…¶å¼•ç”¨</li>
</ul>
<h3 data-id="heading-2">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šå…¨å±€å˜é‡çš„â€œå†…å­˜å¯„ç”Ÿâ€</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šæ— æ„è¯†åˆ›å»ºå…¨å±€å˜é‡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¿˜è®°å£°æ˜var/let/constï¼Œdataè‡ªåŠ¨æˆä¸ºwindowå±æ€§</span>
  data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// 100ä¸‡é•¿åº¦æ•°ç»„ï¼Œçº¦4MBå†…å­˜</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†ç‚¹å‡»äº‹ä»¶'</span>);
}

<span class="hljs-comment">// å¤šæ¬¡ç‚¹å‡»åï¼Œwindow.dataæŒç»­å­˜åœ¨ï¼Œå†…å­˜è¶Šç§¯è¶Šå¤š</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handleClick);
</code></pre>
<h3 data-id="heading-3">âœ… é¿å‘æŒ‡å—ï¼šä¸»åŠ¨è§£é™¤å¼•ç”¨+é™åˆ¶å…¨å±€å˜é‡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•1ï¼šç”¨let/constå£°æ˜å±€éƒ¨å˜é‡ï¼Œå‡½æ•°æ‰§è¡Œå®Œè‡ªåŠ¨è§£é™¤å¼•ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>); 
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†ç‚¹å‡»äº‹ä»¶'</span>);
  <span class="hljs-comment">// å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œdataçš„å¼•ç”¨è¢«é”€æ¯ï¼Œç­‰å¾…GCå›æ”¶</span>
}

<span class="hljs-comment">// æ­£ç¡®åšæ³•2ï¼šè‹¥å¿…é¡»ç”¨å…¨å±€å˜é‡ï¼Œä½¿ç”¨åä¸»åŠ¨ç½®ç©º</span>
<span class="hljs-keyword">let</span> globalData = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
  globalData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å¤„ç†å®Œæ¯•å</span>
  globalData = <span class="hljs-literal">null</span>; <span class="hljs-comment">// åˆ‡æ–­å¼•ç”¨ï¼Œè®©GCå¯ä»¥å›æ”¶</span>
}
</code></pre>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹æ ¸å¿ƒæç¤ºï¼šå…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸é¡µé¢ä¸€è‡´ï¼Œé™¤éä¸»åŠ¨ç½®ç©ºï¼Œå¦åˆ™ä¼šä¸€ç›´å ç”¨å†…å­˜ã€‚å¼€å‘ä¸­åº”å°½é‡ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œæˆ–ç”¨IIFEå°è£…å…¨å±€é€»è¾‘ï¼Œé¿å…å˜é‡â€œå¯„ç”Ÿâ€åœ¨windowä¸Šã€‚</p>
<h2 data-id="heading-4">äºŒã€V8åˆ†ä»£å›æ”¶ä¸æ•°ç»„çš„â€œå¿«æ…¢é™·é˜±â€ï¼šä¸ºä»€ä¹ˆä½ çš„æ•°ç»„è¶Šç”¨è¶Šå¡ï¼Ÿ</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­æåˆ°ï¼šâ€œJSå¼•æ“çš„å†…å­˜ä¼˜åŒ–ç»†èŠ‚ï¼Œç›´æ¥å†³å®šä»£ç çš„è¿è¡Œæ•ˆç‡â€ã€‚V8ä½œä¸ºä¸»æµå¼•æ“ï¼Œå¯¹æ•°ç»„çš„å†…å­˜ç®¡ç†æœ‰ä¸ªææ˜“è¢«å¿½ç•¥çš„æœºåˆ¶â€”â€”<strong>å¿«æ…¢æ•°ç»„åˆ‡æ¢</strong>ï¼Œä¸€æ—¦è§¦å‘åˆ‡æ¢ï¼Œå†…å­˜å ç”¨å’Œæ‰§è¡Œæ•ˆç‡ä¼šæ€¥å‰§ä¸‹é™ã€‚</p>
<h3 data-id="heading-5">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šæ•°ç»„çš„â€œè¿ç»­å†…å­˜â€å¹»è§‰</h3>
<p>å¾ˆå¤šäººä»¥ä¸ºJSæ•°ç»„å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œæ˜¯â€œè¿ç»­çš„å†…å­˜ç©ºé—´â€ï¼Œä½†å®é™…V8ä¸­æ•°ç»„åˆ†ä¸¤ç§ï¼š</p>
<p><strong>å¿«æ•°ç»„</strong>ï¼šè¿ç»­å†…å­˜ç©ºé—´ï¼Œç±»ä¼¼ä¼ ç»Ÿæ•°ç»„ï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼ˆO(1)ï¼‰ï¼Œæ–°å»ºç©ºæ•°ç»„é»˜è®¤æ˜¯å¿«æ•°ç»„ã€‚</p>
<p><strong>æ…¢æ•°ç»„</strong>ï¼šç”¨HashTableï¼ˆé”®å€¼å¯¹ï¼‰å­˜å‚¨ï¼Œå…ƒç´ åˆ†æ•£åœ¨å†…å­˜ä¸­ï¼Œè®¿é—®é€Ÿåº¦æ…¢ï¼ˆO(n)ï¼‰ï¼Œå½“æ•°ç»„å‡ºç°â€œå¤§é‡ç©ºæ´â€æ—¶è§¦å‘åˆ‡æ¢ã€‚</p>
<p>è§¦å‘å¿«æ•°ç»„â†’æ…¢æ•°ç»„çš„ä¸¤ä¸ªå…³é”®æ¡ä»¶ï¼ˆV8æºç é€»è¾‘ï¼‰ï¼š</p>
<ol>
<li>æ•°ç»„æ–°å¢ç´¢å¼•ä¸æœ€å¤§ç´¢å¼•å·®å€¼â‰¥1024ï¼ˆæ¯”å¦‚æ•°ç»„é•¿åº¦10ï¼Œç›´æ¥èµ‹å€¼arr[1034] = 1ï¼‰</li>
<li>æ–°å®¹é‡â‰¥3Ã—æ‰©å®¹åå®¹é‡Ã—2ï¼ˆå†…å­˜æµªè´¹è¿‡å¤šæ—¶ï¼‰</li>
</ol>
<h3 data-id="heading-6">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šç¨€ç–æ•°ç»„çš„å†…å­˜çˆ†ç‚¸</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šåˆ›å»ºç¨€ç–æ•°ç»„ï¼Œè§¦å‘å¿«â†’æ…¢åˆ‡æ¢</span>
const arr = <span class="hljs-selector-attr">[1, 2, 3]</span>;
<span class="hljs-comment">// ç›´æ¥èµ‹å€¼ç´¢å¼•1025ï¼Œåˆ¶é€ 1022ä¸ªç©ºæ´</span>
arr<span class="hljs-selector-attr">[1025]</span> = <span class="hljs-number">4</span>; 
console<span class="hljs-selector-class">.log</span>(arr.length); <span class="hljs-comment">// 1026ï¼Œä½†ä¸­é—´1022ä¸ªä½ç½®éƒ½æ˜¯empty</span>

<span class="hljs-comment">// æ­¤æ—¶arrå·²å˜æˆæ…¢æ•°ç»„ï¼Œéå†é€Ÿåº¦ä¸‹é™50%+ï¼Œå†…å­˜å ç”¨æ¿€å¢</span>
</code></pre>
<h3 data-id="heading-7">âœ… é¿å‘æŒ‡å—ï¼šé¿å…ç¨€ç–æ•°ç»„ï¼Œç”¨æ­£ç¡®æ–¹å¼å¢åˆ å…ƒç´ </h3>
<pre><code class="hljs language-ini" lang="ini">// æ­£ç¡®åšæ³•1ï¼šé¿å…ç›´æ¥èµ‹å€¼å¤§ç´¢å¼•ï¼Œç”¨push/unshiftæœ‰åºæ·»åŠ 
const <span class="hljs-attr">arr</span> = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<span class="hljs-comment">;</span>
for (let <span class="hljs-attr">i</span> = <span class="hljs-number">4</span><span class="hljs-comment">; i â‰¤ 1025; i++) {</span>
  arr.push(i)<span class="hljs-comment">; // ä¿æŒæ•°ç»„è¿ç»­ï¼Œç»´æŒå¿«æ•°ç»„çŠ¶æ€</span>
}

// æ­£ç¡®åšæ³•2ï¼šè‹¥éœ€å­˜å‚¨ç¦»æ•£æ•°æ®ï¼Œç”¨å¯¹è±¡æ›¿ä»£ç¨€ç–æ•°ç»„
const <span class="hljs-attr">data</span> = {
  0: 1,
  1: 2,
  1025: 4
}<span class="hljs-comment">; // æ˜ç¡®å­˜å‚¨ç¦»æ•£é”®å€¼ï¼Œæ¯”æ…¢æ•°ç»„æ›´é«˜æ•ˆ</span>
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€é—­åŒ…çš„å†…å­˜çœŸç›¸ï¼šä¸æ˜¯é—­åŒ…å¯¼è‡´æ³„æ¼ï¼Œæ˜¯ä½ ç”¨é”™äº†é—­åŒ…</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹å¯¹é—­åŒ…çš„å®šä¹‰æ˜¯ï¼šâ€œå‡½æ•°åŠå…¶è¯æ³•ç¯å¢ƒçš„ç»„åˆâ€ã€‚å¾ˆå¤šå¼€å‘è€…è°ˆé—­åŒ…è‰²å˜ï¼Œè®¤ä¸ºâ€œé—­åŒ…ä¸€å®šä¼šå¯¼è‡´å†…å­˜æ³„æ¼â€ï¼Œä½†çœŸç›¸æ˜¯â€”â€”<strong>åˆç†çš„é—­åŒ…æ˜¯æ­£å¸¸çš„å†…å­˜ä½¿ç”¨ï¼Œåªæœ‰â€œé•¿æœŸæŒæœ‰ä¸å¿…è¦çš„å¼•ç”¨â€æ‰ä¼šæ³„æ¼</strong>ã€‚</p>
<h3 data-id="heading-9">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šé—­åŒ…çš„â€œè¯æ³•ç¯å¢ƒæ®‹ç•™â€</h3>
<p>é—­åŒ…ä¼šä¿ç•™å¤–éƒ¨å‡½æ•°çš„è¯æ³•ç¯å¢ƒï¼Œè‹¥å¤–éƒ¨å‡½æ•°ä¸­çš„å¤§å¯¹è±¡è¢«é—­åŒ…å¼•ç”¨ï¼Œä¸”é—­åŒ…é•¿æœŸå­˜åœ¨ï¼ˆæ¯”å¦‚æŒ‚è½½åˆ°å…¨å±€ï¼‰ï¼Œåˆ™å¤§å¯¹è±¡æ— æ³•è¢«å›æ”¶ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
<h3 data-id="heading-10">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šé•¿æœŸå­˜åœ¨çš„é—­åŒ…æŒæœ‰å¤§å¯¹è±¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šé—­åŒ…é•¿æœŸæŒæœ‰å¤§å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDataProcessor</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¤§å¯¹è±¡ï¼šæ¨¡æ‹Ÿ10MBçš„ä¸šåŠ¡æ•°æ®</span>
  <span class="hljs-keyword">const</span> bigBusinessData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">2500000</span>).<span class="hljs-title function_">fill</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span> });
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-comment">// é—­åŒ…å¼•ç”¨bigBusinessData</span>
    <span class="hljs-keyword">return</span> bigBusinessData.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === id);
  };
}

<span class="hljs-comment">// processDataè¢«æŒ‚è½½åˆ°å…¨å±€ï¼Œé•¿æœŸå­˜åœ¨</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">processData</span> = <span class="hljs-title function_">createDataProcessor</span>();
</code></pre>
<h3 data-id="heading-11">âœ… é¿å‘æŒ‡å—ï¼šç”¨WeakMapæ‹†åˆ†é—­åŒ…å¼•ç”¨ï¼Œæˆ–åŠæ—¶è§£é™¤é—­åŒ…</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•1ï¼šç”¨WeakMapå­˜å‚¨å¤§å¯¹è±¡ï¼Œé¿å…é—­åŒ…ç›´æ¥æŒæœ‰</span>
<span class="hljs-keyword">const</span> dataCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createDataProcessor</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> bigBusinessData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">2500000</span>).<span class="hljs-title function_">fill</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span> });
  dataCache.<span class="hljs-title function_">set</span>(<span class="hljs-string">'businessData'</span>, bigBusinessData);
  
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">const</span> data = dataCache.<span class="hljs-title function_">get</span>(<span class="hljs-string">'businessData'</span>);
    <span class="hljs-keyword">return</span> data ? data.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === id) : <span class="hljs-literal">null</span>;
  };
}

<span class="hljs-comment">// ä¸éœ€è¦æ—¶ï¼Œä¸»åŠ¨åˆ é™¤ç¼“å­˜ï¼Œé‡Šæ”¾å¤§å¯¹è±¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">destroyProcessor</span>(<span class="hljs-params"/>) {
  dataCache.<span class="hljs-title function_">delete</span>(<span class="hljs-string">'businessData'</span>);
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">processData</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// è§£é™¤é—­åŒ…çš„å…¨å±€å¼•ç”¨</span>
}
</code></pre>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹æ ¸å¿ƒæç¤ºï¼šé—­åŒ…çš„å†…å­˜ç®¡ç†æ ¸å¿ƒæ˜¯â€œæ§åˆ¶å¼•ç”¨å‘¨æœŸâ€ã€‚å¦‚æœé—­åŒ…ä¸éœ€è¦é•¿æœŸå­˜åœ¨ï¼Œè¦åŠæ—¶åˆ‡æ–­å…¶å…¨å±€å¼•ç”¨ï¼›å¦‚æœå¿…é¡»é•¿æœŸå­˜åœ¨ï¼Œè¦é¿å…å¼•ç”¨å¤§å¯¹è±¡ï¼Œæˆ–ç”¨å¼±å¼•ç”¨æœºåˆ¶ï¼ˆWeakMap/WeakSetï¼‰ç®¡ç†å…³è”æ•°æ®ã€‚</p>
<h2 data-id="heading-12">å››ã€WeakMap/WeakSetçš„â€œå¼±å¼•ç”¨é­”æ³•â€ï¼š2025å¹´æœ€å®ç”¨çš„å†…å­˜ä¼˜åŒ–å·¥å…·</h2>
<p>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­æåˆ°çš„â€œå¼±å¼•ç”¨â€æ¦‚å¿µï¼Œåœ¨2025å¹´çš„å‰ç«¯å¼€å‘ä¸­å·²æˆä¸ºä¸»æµä¼˜åŒ–æ‰‹æ®µã€‚å¾ˆå¤šå¼€å‘è€…çŸ¥é“WeakMapï¼Œä½†å´ç”¨é”™åœºæ™¯ï¼Œç”šè‡³è¯¯ä»¥ä¸ºå®ƒæ˜¯â€œä¸‡èƒ½å›æ”¶å™¨â€â€”â€”è¿™èƒŒåçš„æ ¸å¿ƒé€»è¾‘ï¼Œä½ å¯èƒ½ä¸€ç›´æ²¡ææ‡‚ã€‚</p>
<h3 data-id="heading-13">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šå¼±å¼•ç”¨çš„â€œè‡ªåŠ¨æ¸…ç†â€æœ¬è´¨</h3>
<p>æ™®é€šMap/Setæ˜¯â€œå¼ºå¼•ç”¨â€ï¼šåªè¦Mapå­˜åœ¨ï¼Œå…¶é”®å¯¹è±¡å³ä½¿å¤–éƒ¨å·²é”€æ¯ï¼Œä¹Ÿæ— æ³•è¢«GCå›æ”¶ï¼›è€ŒWeakMap/WeakSetæ˜¯â€œå¼±å¼•ç”¨â€ï¼šå½“é”®å¯¹è±¡çš„å¤–éƒ¨å¼ºå¼•ç”¨æ¶ˆå¤±æ—¶ï¼ŒGCä¼šè‡ªåŠ¨å›æ”¶è¯¥å¯¹è±¡ï¼Œå¹¶æ¸…é™¤å…¶åœ¨WeakMapä¸­çš„å…³è”æ¡ç›®ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†ã€‚</p>
<p>å…³é”®é™åˆ¶ï¼ˆå¿…è®°ï¼ï¼‰ï¼š</p>
<ul>
<li>WeakMapçš„é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²/æ•°å­—ç­‰åŸºç¡€ç±»å‹</li>
<li>æ— æ³•éå†ï¼ˆæ— keys()ã€values()ã€sizeå±æ€§ï¼‰ï¼Œåªèƒ½é€šè¿‡get()æŸ¥è¯¢å­˜åœ¨çš„é”®</li>
</ul>
<h3 data-id="heading-14">ğŸ’¡ 2025å®æˆ˜åœºæ™¯ï¼šDOMå…³è”æ•°æ®çš„å†…å­˜å®‰å…¨ç®¡ç†</h3>
<p>åŠ¨æ€DOMå¢åˆ æ˜¯å†…å­˜æ³„æ¼é‡ç¾åŒºï¼Œä¼ ç»ŸMapå­˜å‚¨DOMå…³è”æ•°æ®ä¼šå¯¼è‡´æ³„æ¼ï¼ŒWeakMapæ˜¯å®Œç¾è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šç”¨WeakMapå­˜å‚¨DOMå…³è”æ•°æ®</span>
<span class="hljs-keyword">const</span> domDataMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

<span class="hljs-comment">// ç»‘å®šæ•°æ®åˆ°DOM</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">bindDataToDom</span>(<span class="hljs-params">dom, data</span>) {
  domDataMap.<span class="hljs-title function_">set</span>(dom, data);
}

<span class="hljs-comment">// è·å–DOMå…³è”æ•°æ®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getDataFromDom</span>(<span class="hljs-params">dom</span>) {
  <span class="hljs-keyword">return</span> domDataMap.<span class="hljs-title function_">get</span>(dom);
}

<span class="hljs-comment">// ç§»é™¤DOMæ—¶ï¼Œæ— éœ€æ‰‹åŠ¨æ¸…ç†æ•°æ®ï¼</span>
<span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
<span class="hljs-title function_">bindDataToDom</span>(btn, { <span class="hljs-attr">clickCount</span>: <span class="hljs-number">0</span> });
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(btn);
btn = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å¤–éƒ¨å¼ºå¼•ç”¨æ¶ˆå¤±ï¼ŒGCè‡ªåŠ¨å›æ”¶btnå’ŒdomDataMapä¸­çš„å…³è”æ•°æ®</span>
</code></pre>
<h3 data-id="heading-15">âœ… è¿›é˜¶ä¼˜åŒ–ï¼šç»“åˆFinalizationRegistryç›‘å¬å›æ”¶äº‹ä»¶</h3>
<p>2025å¹´ä¸»æµæµè§ˆå™¨å·²å…¨é¢æ”¯æŒFinalizationRegistryï¼Œå¯ç›‘å¬å¼±å¼•ç”¨å¯¹è±¡çš„å›æ”¶äº‹ä»¶ï¼Œç”¨äºé‡Šæ”¾éå†…å­˜èµ„æºï¼ˆå¦‚æ–‡ä»¶å¥æŸ„ã€ç½‘ç»œè¿æ¥ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç›‘å¬å¯¹è±¡å›æ”¶ï¼Œé‡Šæ”¾éå†…å­˜èµ„æº</span>
<span class="hljs-keyword">const</span> resourceRegistry = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FinalizationRegistry</span>(<span class="hljs-function">(<span class="hljs-params">resourceId</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`èµ„æº<span class="hljs-subst">${resourceId}</span>å·²å›æ”¶ï¼Œå…³é—­ç½‘ç»œè¿æ¥`</span>);
  <span class="hljs-comment">// æ‰§è¡Œéå†…å­˜èµ„æºæ¸…ç†é€»è¾‘ï¼ˆå¦‚å…³é—­WebSocketï¼‰</span>
  <span class="hljs-title function_">closeConnection</span>(resourceId);
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createResource</span>(<span class="hljs-params">obj, resourceId</span>) {
  domDataMap.<span class="hljs-title function_">set</span>(obj, resourceId);
  resourceRegistry.<span class="hljs-title function_">register</span>(obj, resourceId); <span class="hljs-comment">// æ³¨å†Œå›æ”¶ç›‘å¬</span>
}

<span class="hljs-comment">// å½“objè¢«GCå›æ”¶æ—¶ï¼Œä¼šè§¦å‘registryçš„å›è°ƒ</span>
<span class="hljs-keyword">let</span> obj = {};
<span class="hljs-title function_">createResource</span>(obj, <span class="hljs-string">'conn-123'</span>);
obj = <span class="hljs-literal">null</span>;
</code></pre>
<h2 data-id="heading-16">äº”ã€WebWorkerçš„å†…å­˜ç›²åŒºï¼šç‹¬ç«‹å†…å­˜ç©ºé—´çš„â€œéšå½¢æ³„æ¼â€</h2>
<p>2025å¹´WebWorkeråœ¨å¤§æ•°æ®å¤„ç†ã€å›¾å½¢æ¸²æŸ“ç­‰åœºæ™¯ä¸­åº”ç”¨è¶Šæ¥è¶Šå¹¿ï¼Œä½†å¾ˆå¤šå¼€å‘è€…å¿½ç•¥äº†ï¼š<strong>æ¯ä¸ªWorkeréƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè‹¥ä¸æ‰‹åŠ¨ç»ˆæ­¢ï¼Œä¼šä¸€ç›´å ç”¨å†…å­˜ï¼Œå³ä½¿é¡µé¢è·³è½¬ä¹Ÿä¸ä¼šé‡Šæ”¾</strong>ã€‚</p>
<h3 data-id="heading-17">ğŸ” æ˜“å¿½ç•¥ç‚¹ï¼šWorkerçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>Workerçš„å†…å­˜ç‰¹ç‚¹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–æˆæœ¬é«˜ï¼ˆ50-200msï¼‰ï¼Œåˆ›å»ºè¿‡å¤šWorkerä¼šå¯¼è‡´å†…å­˜æ¿€å¢</li>
<li>ä¸ä¸»çº¿ç¨‹é€šè¿‡ç»“æ„åŒ–å…‹éš†ä¼ é€’æ•°æ®ï¼Œå¤§æ•°æ®ä¼ è¾“ä¼šäº§ç”Ÿå†…å­˜å‰¯æœ¬</li>
<li>å¿…é¡»æ˜¾å¼ç»ˆæ­¢ï¼ˆworker.terminate()ï¼‰ï¼Œå¦åˆ™æŒç»­å­˜åœ¨</li>
</ol>
<h3 data-id="heading-18">ğŸ’£ å‘ä½æ¡ˆä¾‹ï¼šæœªç»ˆæ­¢çš„Workerå¯¼è‡´å†…å­˜æ³„æ¼</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šé¢‘ç¹åˆ›å»ºWorkerä¸”ä¸ç»ˆæ­¢</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processBigData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'data-processor.js'</span>);
  worker.<span class="hljs-title function_">postMessage</span>(data);
  worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¤„ç†å®Œæˆ'</span>, e.<span class="hljs-property">data</span>);
    <span class="hljs-comment">// å¿˜è®°ç»ˆæ­¢Workerï¼Œå†…å­˜æŒç»­å ç”¨</span>
  };
}

<span class="hljs-comment">// å¤šæ¬¡è°ƒç”¨åï¼Œå¤šä¸ªWorkerå®ä¾‹æ®‹ç•™ï¼Œå†…å­˜é£™å‡</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
  <span class="hljs-title function_">processBigData</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">1000000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));
}
</code></pre>
<h3 data-id="heading-19">âœ… é¿å‘æŒ‡å—ï¼šå¤ç”¨Worker+æ˜¾å¼ç»ˆæ­¢</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®åšæ³•1ï¼šå¤ç”¨Workerå®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»º</span>
<span class="hljs-keyword">let</span> dataWorker = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">initWorker</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!dataWorker) {
    dataWorker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">'data-processor.js'</span>);
  }
  <span class="hljs-keyword">return</span> dataWorker;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processBigData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> worker = <span class="hljs-title function_">initWorker</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(e.<span class="hljs-property">data</span>);
      <span class="hljs-comment">// éæŒç»­ä½¿ç”¨æ—¶ï¼Œå¯ç»ˆæ­¢Worker</span>
      <span class="hljs-comment">// worker.terminate();</span>
      <span class="hljs-comment">// dataWorker = null;</span>
    };
    worker.<span class="hljs-title function_">postMessage</span>(data);
  });
}

<span class="hljs-comment">// é¡µé¢å¸è½½æ—¶ï¼Œå¼ºåˆ¶ç»ˆæ­¢æ‰€æœ‰Worker</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforeunload'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (dataWorker) {
    dataWorker.<span class="hljs-title function_">terminate</span>();
  }
});
</code></pre>
<h2 data-id="heading-20">ğŸ¯ æ€»ç»“ï¼šä»ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹åˆ°å®æˆ˜çš„æ ¸å¿ƒå¿ƒæ³•</h2>
<p>JSå†…å­˜ç®¡ç†çš„æ ¸å¿ƒï¼Œä»æ¥ä¸æ˜¯â€œè®°ä½æ ˆå †åŒºåˆ«â€ï¼Œè€Œæ˜¯ç†è§£ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹åå¤å¼ºè°ƒçš„ï¼š <strong>â€œå†…å­˜æ˜¯æœ‰é™èµ„æºï¼Œå¼€å‘è€…çš„è´£ä»»æ˜¯è®©æ— ç”¨çš„å†…å­˜â€˜å¯è¾¾æ€§æ¶ˆå¤±â€™â€</strong> ã€‚</p>
<p>è®°ä½è¿™4ä¸ªæ ¸å¿ƒå¿ƒæ³•ï¼Œä»æ­¤å‘Šåˆ«å†…å­˜æ³„æ¼ï¼š</p>
<ol>
<li>å…¨å±€å˜é‡â€œå°‘è€Œç²¾â€ï¼Œä½¿ç”¨åä¸»åŠ¨ç½®ç©º</li>
<li>é¿å…ç¨€ç–æ•°ç»„ï¼Œè­¦æƒ•V8å¿«æ…¢æ•°ç»„åˆ‡æ¢</li>
<li>é—­åŒ…ä¸èƒŒé”…ï¼Œæ§åˆ¶å¼•ç”¨å‘¨æœŸæ˜¯å…³é”®ï¼ˆå¼±å¼•ç”¨å…œåº•ï¼‰</li>
<li>Worker/å®šæ—¶å™¨ç­‰â€œç‹¬ç«‹æ‰§è¡Œå•å…ƒâ€ï¼Œå¿…é¡»æ˜¾å¼ç»ˆæ­¢</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582424649783705600</link>    <guid>https://juejin.cn/post/7582424649783705600</guid>    <pubDate>2025-12-11T16:44:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582424649783705600" data-draft-id="7582358932028899343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ "/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM"/> <meta itemprop="datePublished" content="2025-12-11T16:44:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´ä½³æµ©"/> <meta itemprop="url" content="https://juejin.cn/user/2696441245481975"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2696441245481975/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´ä½³æµ©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T16:44:25.000Z" title="Thu Dec 11 2025 16:44:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e}.markdown-body ::selection{background-color:#00325e;color:#fff}.markdown-body blockquote{padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px}.markdown-body blockquote p{font-size:14px;line-height:25px;color:#795548}.markdown-body blockquote p:last-child{margin:0}.markdown-body blockquote:hover{border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)}.markdown-body blockquote code{color:#ff502c}.markdown-body pre{border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap}.markdown-body pre:hover{border-color:#6d9dce}.markdown-body pre&gt;code{padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block}.markdown-body code{background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px}.markdown-body p{font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959}.markdown-body a{color:#00325e;text-decoration:none}.markdown-body a:after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px}.markdown-body a:hover{box-shadow:0 1px}.markdown-body table{max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s}.markdown-body table:hover{box-shadow:0 3px 10px 0 rgba(185,169,103,.24)}.markdown-body table tr th{border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px}.markdown-body table tr td{border:1px solid rgba(243,202,142,.4);padding:12px 15px}.markdown-body table tbody tr{transition:all .2s}.markdown-body table tbody tr:hover td{border-color:#f3ca8e;background-color:#fff8e0;z-index:1}.markdown-body img{max-width:100%}.markdown-body h1{font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative}.markdown-body h1&gt;code{font-size:20px}.markdown-body h1:before{content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute}.markdown-body h2{font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative}.markdown-body h2&gt;code{font-size:18px}.markdown-body h2:before{content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute}.markdown-body h3{font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative}.markdown-body h3&gt;code{font-size:16px}.markdown-body h3:before{content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute}.markdown-body h4{font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative}.markdown-body h4&gt;code{font-size:14px}.markdown-body h4:before{content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute}.markdown-body h5{font-size:12px;margin-top:30px;margin-bottom:10px}.markdown-body h5&gt;code{font-size:12px}.markdown-body h6{font-size:10px;margin-top:30px;margin-bottom:10px}.markdown-body h6&gt;code{font-size:10px}.markdown-body h1,.markdown-body h2{color:#ff502c}.markdown-body hr{height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)}.markdown-body hr:nth-child(2n){background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)}.markdown-body ul{padding-inline-start:20px}.markdown-body ul li{list-style-type:"ğŸ”¸"}.markdown-body ul li li{list-style-type:"â—»ï¸"}.markdown-body ul li li li{list-style-type:"â–«ï¸"}.markdown-body ol{padding-inline-start:20px}.markdown-body ol ::marker{color:#ff9800}.markdown-body ol,.markdown-body ul{line-height:2em}.markdown-body li{padding-inline-start:1ch}.markdown-body li.task-list-item{list-style:none;padding-inline-start:0}.markdown-body li input{padding-right:2px}.markdown-body li input[type=checkbox i]{appearance:none}.markdown-body li input:before{content:"ğŸŸ©";display:block;width:13px;height:13px}.markdown-body li input:checked:before{content:"âœ…"}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-estuary-dark">.hljs-comment,.hljs-quote{color:#878573}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ba6236}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#ae7313}.hljs-bullet,.hljs-string,.hljs-symbol{color:#7d9726}.hljs-section,.hljs-title{color:#36a166}.hljs-keyword,.hljs-selector-tag{color:#5f9182}.hljs-addition,.hljs-deletion{color:#22221b;display:inline-block;width:100%}.hljs-deletion{background-color:#ba6236}.hljs-addition{background-color:#7d9726}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#22221b;color:#929181}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§æ¨¡å‹ MoE,ä½ æ˜ç™½äº†ä¹ˆï¼Ÿ</h2>
<blockquote>
<p>æœ€è¿‘è¢«T4å¡æå¾—æœ‰ç‚¹æŠ½é£å°±å¤šäº›ä¸€ç‚¹å…³äºå¤§æ¨¡å‹çš„è®²è§£çš„ã€‚ç”±æµ…è‡³æ·±çš„è®²ä¸ªé€ï¼Œæ„¿å¤©ä¸‹ç”¨è€æ—§æ˜¾å¡çš„äººå„¿éƒ½å¯ä»¥è¿œç¦»å‚»*é—®é¢˜ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e53064d7b28447568f9ce11ce5ee2bec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC05L2z5rWp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766076341&amp;x-signature=xwaGFHtHHls3TOo8vvj%2B11FnIPU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä½œè€…ï¼šå´ä½³æµ©</strong></p>
<p><strong>æœ€åæ›´æ–°ï¼š2025-12-11</strong></p>
<p><strong>é€‚ç”¨äººç¾¤ï¼šå¤§æ¨¡å‹ä¸Šä¸‹æ¸¸ç›¸å…³ä»ä¸šè€…</strong></p>
<p><strong>â€”â€”ä»¥ Qwen2/Qwen3 ä¸ºä¾‹ï¼Œä»å…¥é—¨åˆ°å›å®¶</strong></p>
<hr/>
<h3 data-id="heading-1">1. ä»€ä¹ˆæ˜¯ MoEï¼ˆMixture of Expertsï¼‰</h3>
<h4 data-id="heading-2">æ ¸å¿ƒæ¦‚å¿µ</h4>
<p><strong>MoE = æ··åˆä¸“å®¶æ¨¡å‹</strong>ï¼Œå®ƒè®©æ¨¡å‹ç”±å¤šä¸ª"ä¸“å®¶ç½‘ç»œ"ç»„æˆï¼Œæ¯æ¬¡æ¨ç†åªæ¿€æ´»å°‘é‡ä¸“å®¶ï¼Œä»è€Œå®ç°ï¼š</p>
<ul>
<li>âœ… <strong>ä¿ç•™å¤§æ¨¡å‹èƒ½åŠ›</strong> - æ€»å‚æ•°é‡å¤§ï¼Œèƒ½åŠ›å¼º</li>
<li>âœ… <strong>é™ä½æ¨ç†æˆæœ¬</strong> - åªæ¿€æ´»éƒ¨åˆ†å‚æ•°ï¼Œè®¡ç®—é‡å°</li>
<li>âœ… <strong>æå‡é¢†åŸŸèƒ½åŠ›</strong> - ä¸“å®¶å„å¸å…¶èŒï¼Œæœ¯ä¸šæœ‰ä¸“æ”»</li>
</ul>
<h4 data-id="heading-3">æ ¸å¿ƒç†å¿µ</h4>
<blockquote>
<p>ğŸ’¡ ä¸éœ€è¦æ¯ä¸ª token éƒ½ç”¨ 300 äº¿å‚æ•°è®¡ç®—ï¼Œè€Œæ˜¯åªè°ƒç”¨å…¶ä¸­æœ€é€‚åˆè§£å†³è¯¥é—®é¢˜çš„ä¸“å®¶ã€‚</p>
</blockquote>
<p>è¿™å°±åƒä¸€ä¸ªåŒ»é™¢ï¼š</p>
<ul>
<li>ä½ å¤´ç–¼ä¸éœ€è¦å¬é›†æ‰€æœ‰ç§‘å®¤åŒ»ç”Ÿ</li>
<li>åªéœ€è¦ç¥ç»ç§‘ä¸“å®¶è¯Šæ–­</li>
<li>ä½†åŒ»é™¢ä»ç„¶æ‹¥æœ‰å…¨ç§‘èƒ½åŠ›</li>
</ul>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆéœ€è¦ MoEï¼Ÿ</h4>
<p>Dense æ¨¡å‹çš„é—®é¢˜ï¼š</p>















<table><thead><tr><th>å‚æ•°é‡</th><th>æ¨ç†éœ€è¦æ¿€æ´»</th><th>æ˜¾å­˜éœ€æ±‚</th></tr></thead><tbody><tr><td>70B</td><td>å…¨ 70B</td><td>æé«˜ï¼ˆ&gt;140GB FP16ï¼‰</td></tr></tbody></table>
<p>MoE çš„æ”¹è¿›ï¼š</p>















<table><thead><tr><th>æ€»å‚æ•°é‡</th><th>æ¯æ¬¡æ¿€æ´»</th><th>å®é™…æ¨ç†æˆæœ¬</th></tr></thead><tbody><tr><td>70Bï¼ˆå«16ä¸ªä¸“å®¶ï¼‰</td><td>Top-1=3B</td><td>åƒè·‘ 3B æ¨¡å‹ä¸€æ · cheap</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼šé€‰å¯¹ä¸“å®¶ï¼Œè€Œä¸æ˜¯è®¡ç®—å…¨éƒ¨ä¸“å®¶ã€‚</strong></p>
<hr/>
<h3 data-id="heading-5">2. MoE æ¶æ„å…¨æ™¯</h3>
<h4 data-id="heading-6">2.1 åŸºç¡€æ¶æ„æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[è¾“å…¥ Token:&lt;br/&gt;å†™ä¸€æ®µ Python ä»£ç ] --&gt; B{Router è·¯ç”±å™¨&lt;br/&gt;åˆ†æ token ç‰¹å¾}

    B --&gt;|æƒé‡ 0.8| C1[Expert 1&lt;br/&gt;ä»£ç ä¸“å®¶]
    B --&gt;|æƒé‡ 0.2| C2[Expert 5&lt;br/&gt;é€»è¾‘ä¸“å®¶]

    B -.ä¸æ¿€æ´».-&gt; C3[Expert 2]
    B -.ä¸æ¿€æ´».-&gt; C4[Expert 3]
    B -.ä¸æ¿€æ´».-&gt; C5[Expert 4]

    C1 --&gt; D[åŠ æƒåˆå¹¶è¾“å‡º]
    C2 --&gt; D
    D --&gt; E[æœ€ç»ˆè¾“å‡º]

    style B fill:#FFD700
    style C1 fill:#90EE90
    style C2 fill:#90EE90
    style C3 fill:#E0E0E0
    style C4 fill:#E0E0E0
    style C5 fill:#E0E0E0
</code></pre>
<p><strong>å…³é”®è¦ç´ è§£é‡Šï¼š</strong></p>
<ol>
<li><strong>Routerï¼ˆè·¯ç”±å™¨ï¼‰</strong> - æ ¹æ®è¾“å…¥å†…å®¹é€‰æ‹©æœ€é€‚åˆçš„ä¸“å®¶ï¼ˆTop-1 / Top-2ï¼‰</li>
<li><strong>Expertsï¼ˆä¸“å®¶ï¼‰</strong> - æ¯ä¸ªéƒ½æ˜¯ç‹¬ç«‹çš„ FFN ç½‘ç»œï¼Œæ‹¥æœ‰ä¸“å±å‚æ•°</li>
<li><strong>é€‰æ‹©æ€§æ¿€æ´»</strong> - åªæ¿€æ´»éƒ¨åˆ†ä¸“å®¶ï¼Œå…¶ä½™ä¸“å®¶åœ¨å½“å‰ token ä¸å‚ä¸è¿ç®—</li>
<li><strong>åŠ æƒåˆå¹¶</strong> - å°†æ¿€æ´»ä¸“å®¶çš„è¾“å‡ºæŒ‰æƒé‡æ±‚å’Œ</li>
</ol>
<hr/>
<h4 data-id="heading-7">2.2 å®Œæ•´ Transformer å±‚ç»“æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph "ä¼ ç»Ÿ Transformer å±‚"
        A1[Input] --&gt; A2[Multi-Head Attention]
        A2 --&gt; A3[Add &amp; Norm]
        A3 --&gt; A4[Dense FFN&lt;br/&gt;æ‰€æœ‰å‚æ•°æ¿€æ´»]
        A4 --&gt; A5[Add &amp; Norm]
        A5 --&gt; A6[Output]
    end
    
    subgraph "MoE Transformer å±‚"
        B1[Input] --&gt; B2[Multi-Head Attention]
        B2 --&gt; B3[Add &amp; Norm]
        B3 --&gt; B4{MoE Layer&lt;br/&gt;è·¯ç”±å™¨é€‰æ‹©}
        B4 --&gt; B5[Expert 1]
        B4 --&gt; B6[Expert 2]
        B4 -.-&gt; B7[Expert N]
        B5 --&gt; B8[Sparse Activation&lt;br/&gt;ä»…éƒ¨åˆ†ä¸“å®¶æ¿€æ´»]
        B6 --&gt; B8
        B7 -.-&gt; B8
        B8 --&gt; B9[Add &amp; Norm]
        B9 --&gt; B10[Output]
    end
    
    style A4 fill:#FFB6C1
    style B4 fill:#87CEEB
    style B8 fill:#90EE90
</code></pre>
<p><strong>å¯¹æ¯”è¦ç‚¹ï¼š</strong></p>
<ul>
<li>ä¼ ç»Ÿæ¨¡å‹ï¼šFFN å±‚æ‰€æœ‰å‚æ•°éƒ½å‚ä¸è®¡ç®—</li>
<li>MoE æ¨¡å‹ï¼šç”¨å¤šä¸“å®¶ + è·¯ç”±å™¨æ›¿ä»£ Dense FFN</li>
</ul>
<hr/>
<h3 data-id="heading-8">3. Dense æ¨¡å‹ vs MoE æ¨¡å‹ï¼šæ˜¾å­˜ä¸è®¡ç®—å¯¹æ¯”</h3>
<h4 data-id="heading-9">3.1 ä»€ä¹ˆæ˜¯ Denseï¼ˆç¨ å¯†æ¨¡å‹ï¼‰</h4>
<p><strong>Dense = æ‰€æœ‰å‚æ•°å…¨éƒ¨å‚ä¸æ¨ç†</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[è¾“å…¥] --&gt; B[Layer 1&lt;br/&gt;32B å‚æ•°]
    B --&gt; C[Layer 2&lt;br/&gt;32B å‚æ•°]
    C --&gt; D[Layer 3&lt;br/&gt;32B å‚æ•°]
    D --&gt; E[è¾“å‡º]
    
    style B fill:#FF6B6B
    style C fill:#FF6B6B
    style D fill:#FF6B6B
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>Qwen2.5-32B Dense
<ul>
<li>
<p>æ¨ç†æ—¶ 32B å…¨æ¿€æ´»</p>
</li>
<li>
<p>æ˜¾å­˜å ç”¨ 60+ GBï¼ˆFP16ï¼‰</p>
</li>
<li>
<p>æ€§èƒ½å¼ºä½†æˆæœ¬é«˜</p>
</li>
</ul>
</li>
</ul>
<p>æ˜¾å­˜å¯¹æ¯”è¡¨ï¼š</p>


























<table><thead><tr><th>æ¨¡å‹</th><th>FP16</th><th>FP8</th><th>INT8</th><th>INT4</th></tr></thead><tbody><tr><td><strong>Qwen3 Dense 32B</strong>ï¼ˆå…¨æ¿€æ´»ï¼‰</td><td>60+ GB</td><td>30 GB</td><td>28 GB</td><td>15 GB</td></tr><tr><td><strong>Qwen3 MoE 30B</strong>ï¼ˆæ¿€æ´» ~3Bï¼‰</td><td>6 GB</td><td>3 GB</td><td>3 GB</td><td>1.5 GB</td></tr></tbody></table>
<p>ğŸ‘‰ <strong>MoE æ¨ç†æ˜¾å­˜ â‰ˆ Dense çš„ 1/10~1/20</strong></p>
<hr/>
<h4 data-id="heading-10">3.2 ä»€ä¹ˆæ˜¯ MoEï¼ˆæ··åˆä¸“å®¶æ¨¡å‹ï¼‰</h4>
<p><strong>MoE = æ€»å‚æ•°å¤§ï¼Œä½†æ¯æ¬¡åªæ¿€æ´»å°‘é‡ä¸“å®¶</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Input] --&gt; B[Layer 1&lt;br/&gt;Total Params 30B]
    B --&gt; C{Router&lt;br/&gt;Select Top-2}

    C --&gt;|Active| D1[Expert 1&lt;br/&gt;1.5B]
    C --&gt;|Active| D2[Expert 5&lt;br/&gt;1.5B]
    C -.-&gt; D3[Other Experts&lt;br/&gt;Not Activated&lt;br/&gt;27B]

    D1 --&gt; E[Merge Output]
    D2 --&gt; E
    E --&gt; F[Next Layer]

    style D1 fill:#90EE90
    style D2 fill:#90EE90
    style D3 fill:#E0E0E0

</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>Qwen1.5-MoE-33B
<ul>
<li>æ€»å‚æ•°ï¼š33B</li>
<li>æ¿€æ´»ä¸“å®¶ï¼šTop-1ï¼ˆçº¦ 3Bï¼‰</li>
<li>æ˜¾å­˜å ç”¨ï¼š~6GBï¼ˆFP16ï¼‰</li>
<li>æ¨ç†æˆæœ¬ â‰ˆ 3B Dense æ¨¡å‹</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-11">3.3 æ˜¾å­˜å ç”¨å¯¹æ¯”è¡¨ï¼ˆé‡è¦ï¼ï¼‰</h4>
<p>ä»¥ <strong>Qwen3 32B Dense</strong> &amp; <strong>Qwen3 30B MoE</strong> ä¸ºä¾‹ï¼š</p>


























<table><thead><tr><th>æ¨¡å‹é…ç½®</th><th>FP16ï¼ˆå…¨ç²¾åº¦ï¼‰</th><th>FP8</th><th>INT8</th><th>INT4</th></tr></thead><tbody><tr><td><strong>Qwen3 Dense 32B</strong><br/>ï¼ˆå…¨å‚æ•°æ¿€æ´»ï¼‰</td><td>60+ GB</td><td>~30 GB</td><td>~28 GB</td><td>~15 GB</td></tr><tr><td><strong>Qwen3 MoE 30B</strong><br/>ï¼ˆæ¿€æ´» 3Bï¼‰</td><td>~6 GB</td><td>~3 GB</td><td>~3 GB</td><td>~1.5 GB</td></tr></tbody></table>
<pre><code class="hljs language-mermaid" lang="mermaid">gantt
    title æ˜¾å­˜å ç”¨å¯¹æ¯”ï¼ˆGBï¼‰
    dateFormat X
    axisFormat %s
    section 30B æ¨¡å‹
    FP16  :0, 60
    FP8   :0, 30
    INT8  :0, 28
    INT4  :0, 15
    section 3B æ¨¡å‹
    FP16  :0, 6
    FP8   :0, 3
    INT8  :0, 3
    INT4  :0, 1.5
</code></pre>
<p><strong>ç»“è®ºï¼š</strong></p>
<blockquote>
<p>âš¡ <strong>MoE æ¨ç†æ˜¾å­˜æ¶ˆè€— â‰ˆ Dense çš„ 1/10</strong></p>
</blockquote>
<p><strong>åŸå› ï¼š</strong></p>
<ul>
<li><strong>Dense</strong>ï¼šæ‰€æœ‰å±‚ã€æ‰€æœ‰å‚æ•°éƒ½è¦å‚ä¸è®¡ç®—</li>
<li><strong>MoE</strong>ï¼šæ¯å±‚åªç”¨å°‘æ•°ä¸“å®¶ï¼ˆå¦‚æ¿€æ´» 3Bï¼‰</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <strong>30B MoE å¯ä»¥åœ¨æ¶ˆè´¹çº§æ˜¾å¡è¿è¡Œ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-12">4. MoE çš„å…³é”®æ¦‚å¿µ</h3>
<h4 data-id="heading-13">4.1 ä¸“å®¶æ•°é‡ï¼ˆExpertsï¼‰</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">mindmap
  root((MoE ä¸“å®¶æ± &lt;br/&gt;16 ä¸ªä¸“å®¶))
    Expert 1
      æ¨ç†èƒ½åŠ›
      é€»è¾‘åˆ†æ
    Expert 2
      åˆ›æ„å†™ä½œ
      æ•…äº‹åˆ›ä½œ
    Expert 3
      æ•°å­¦è®¡ç®—
      å…¬å¼æ¨å¯¼
    Expert 4
      ä»£ç ç”Ÿæˆ
      ç®—æ³•å®ç°
    Expert 5
      è¯­è¨€ç¿»è¯‘
      å¤šè¯­è¨€ç†è§£
    Expert 6~16
      å…¶ä»–é¢†åŸŸ
      åŠ¨æ€åˆ†å·¥
</code></pre>
<p><strong>ä¸“å®¶åˆ†å·¥ç¤ºä¾‹ï¼š</strong></p>
<ul>
<li>Expert 1ï¼šæ¨ç†ã€é€»è¾‘åˆ†æ</li>
<li>Expert 3ï¼šæ•°å­¦ã€è®¡ç®—</li>
<li>Expert 5ï¼šä»£ç ç”Ÿæˆ</li>
<li>Expert 7ï¼šè¯­è¨€ç¿»è¯‘</li>
<li>Expert 10ï¼šåˆ›æ„å†™ä½œ</li>
<li>â€¦</li>
</ul>
<hr/>
<h4 data-id="heading-14">4.2 Top-Kï¼ˆæ¿€æ´»ä¸“å®¶æ•°é‡ï¼‰</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[è¾“å…¥ Token] --&gt; B{Router æ‰“åˆ†}
    B --&gt; C[ä¸“å®¶å¾—åˆ†æ’åº]
    
    subgraph "Top-1 ç­–ç•¥"
        C --&gt; D1[é€‰æ‹©å¾—åˆ†æœ€é«˜çš„ 1 ä¸ªä¸“å®¶]
        D1 --&gt; E1[é€Ÿåº¦æœ€å¿«&lt;br/&gt;æˆæœ¬æœ€ä½]
    end
    
    subgraph "Top-2 ç­–ç•¥"
        C --&gt; D2[é€‰æ‹©å¾—åˆ†æœ€é«˜çš„ 2 ä¸ªä¸“å®¶]
        D2 --&gt; E2[æ€§èƒ½æ›´å¥½&lt;br/&gt;æˆæœ¬é€‚ä¸­]
    end
    
    style D1 fill:#90EE90
    style D2 fill:#87CEEB
</code></pre>
<p><strong>å¸¸è§é…ç½®ï¼š</strong></p>
<ul>
<li><strong>Top-1</strong>ï¼šæ¯æ¬¡æ¿€æ´» 1 ä¸ªä¸“å®¶ï¼ˆé€Ÿåº¦å¿«ï¼‰</li>
<li><strong>Top-2</strong>ï¼šæ¯æ¬¡æ¿€æ´» 2 ä¸ªä¸“å®¶ï¼ˆæ€§èƒ½å¥½ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-15">4.3 å‚æ•°å…³ç³»å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[MoE æ¨¡å‹&lt;br/&gt;æ€»å‚æ•° 30B] --&gt; B[å…± 16 ä¸ªä¸“å®¶]
    B --&gt; C1[Expert 1&lt;br/&gt;1.9B å‚æ•°]
    B --&gt; C2[Expert 2&lt;br/&gt;1.9B å‚æ•°]
    B --&gt; C3[Expert 3&lt;br/&gt;1.9B å‚æ•°]
    B --&gt; C4[...]
    B --&gt; C5[Expert 16&lt;br/&gt;1.9B å‚æ•°]
    
    D[æ¨ç†æ—¶ Top-1] --&gt; E[åªæ¿€æ´» 1 ä¸ªä¸“å®¶&lt;br/&gt;çº¦ 3B å‚æ•°]
    E --&gt; F[å…¶ä½™ 15 ä¸ªä¸“å®¶&lt;br/&gt;ä¸å‚ä¸è®¡ç®—]
    
    style E fill:#90EE90
    style F fill:#E0E0E0
</code></pre>
<p><strong>å…³é”®å…¬å¼ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">æ€»å‚æ•° = ä¸“å®¶æ•°é‡ Ã— å•ä¸“å®¶å‚æ•° + å…±äº«å‚æ•°
æ¿€æ´»å‚æ•° = <span class="hljs-attribute">Top</span>-K Ã— å•ä¸“å®¶å‚æ•° + å…±äº«å‚æ•°
æ¨ç†æˆæœ¬ âˆ æ¿€æ´»å‚æ•°ï¼ˆè€Œéæ€»å‚æ•°ï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-16">5. å¸¸è§ç–‘é—®ï¼šæ²¡æ¿€æ´»çš„ä¸“å®¶æ˜¯ä¸æ˜¯æµªè´¹ï¼Ÿ</h3>
<h4 data-id="heading-17">âŒ é”™è¯¯ç†è§£</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[ç”¨æˆ·æé—®] --&gt; B[æ¿€æ´» Expert 4&lt;br/&gt;ä»£ç ä¸“å®¶]
    B --&gt; C[å…¶ä»– 15 ä¸ªä¸“å®¶&lt;br/&gt;å®Œå…¨æ²¡ç”¨?]
    
    style C fill:#FFB6C1
</code></pre>
<h4 data-id="heading-18">âœ… æ­£ç¡®ç†è§£</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[MoE ä¸“å®¶æ± ] --&gt; B[ä¸åŒä»»åŠ¡è§¦å‘ä¸åŒä¸“å®¶]
    
    B --&gt; C1[ä»»åŠ¡ 1: å†™ä»£ç &lt;br/&gt;è§¦å‘ Expert 4]
    B --&gt; C2[ä»»åŠ¡ 2: æ•°å­¦é¢˜&lt;br/&gt;è§¦å‘ Expert 3]
    B --&gt; C3[ä»»åŠ¡ 3: ç¿»è¯‘&lt;br/&gt;è§¦å‘ Expert 7]
    B --&gt; C4[ä»»åŠ¡ 4: åˆ›ä½œ&lt;br/&gt;è§¦å‘ Expert 2]
    
    C1 --&gt; D[æ‰€æœ‰ä¸“å®¶éƒ½ä¼šè¢«ä½¿ç”¨&lt;br/&gt;åªæ˜¯æ—¶æœºä¸åŒ]
    C2 --&gt; D
    C3 --&gt; D
    C4 --&gt; D
    
    style D fill:#90EE90
</code></pre>
<p><strong>çœŸç›¸ï¼š</strong></p>
<ol>
<li><strong>è®­ç»ƒæ—¶</strong> - æ‰€æœ‰ä¸“å®¶éƒ½ä¼šè¢«æ¿€æ´»å¹¶å­¦ä¹ </li>
<li><strong>æ¨ç†æ—¶</strong> - æ ¹æ®ä»»åŠ¡åŠ¨æ€é€‰æ‹©æœ€åˆé€‚çš„ä¸“å®¶</li>
<li><strong>é•¿æœŸä½¿ç”¨</strong> - æ¯ä¸ªä¸“å®¶éƒ½ä¼šåœ¨å„è‡ªæ“…é•¿çš„é¢†åŸŸå‘å…‰</li>
</ol>
<p><strong>ç±»æ¯”ï¼š</strong></p>
<blockquote>
<p>ğŸ¥ åŒ»é™¢æœ‰ 16 ä¸ªç§‘å®¤ï¼Œä½ çœ‹ç—…åªæŒ‚ 1 ä¸ªç§‘å®¤ï¼Œä½†å…¶ä»–ç§‘å®¤ä¸æ˜¯æµªè´¹ï¼Œè€Œæ˜¯åœ¨æœåŠ¡å…¶ä»–æ‚£è€…ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">6. Qwen3ï¼ˆDense / MoEï¼‰éƒ¨ç½²æ¨èæ–¹æ¡ˆ</h3>
<h4 data-id="heading-20">åœºæ™¯åˆ†æ</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ä½ çš„ç¡¬ä»¶æ¡ä»¶?] --&gt; B{æ˜¾å¡æ˜¾å­˜}
    
    B --&gt;|24GB æ¶ˆè´¹çº§| C[æ¨èæ–¹æ¡ˆ 1]
    B --&gt;|48GB ä¸“ä¸šå¡| D[æ¨èæ–¹æ¡ˆ 2]
    B --&gt;|80GB+ æœåŠ¡å™¨| E[æ¨èæ–¹æ¡ˆ 3]
    
    C --&gt; C1["Qwen3-14B Dense FP8 æ˜¾å­˜: ~14GB æ€§èƒ½: å¼º"]
    C --&gt; C2["Qwen1.5-MoE-33B INT4 æ˜¾å­˜: ~1.5GB æ€§èƒ½: ä¸­ä¸Š"]
    
    D --&gt; D1["Qwen3-32B Dense FP8 æ˜¾å­˜: ~30GB æ€§èƒ½: æå¼º"]
    
    E --&gt; E1["Qwen3-72B Dense FP8 æ˜¾å­˜: ~72GB æ€§èƒ½: é¡¶çº§"]
    
    style C1 fill:#90EE90
    style C2 fill:#87CEEB
    style D1 fill:#FFD700
    style E1 fill:#FF6B6B
</code></pre>
<hr/>
<h4 data-id="heading-21">æ–¹æ¡ˆ 1ï¼šæ³¨é‡æ€§èƒ½ï¼ˆæ¨èï¼‰</h4>
<p><strong>Qwen3-14B Denseï¼ˆINT4 æˆ– FP8ï¼‰</strong></p>





























<table><thead><tr><th>ç²¾åº¦</th><th>æ˜¾å­˜å ç”¨</th><th>æ¨èæŒ‡æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>FP16</td><td>~28GB</td><td>âŒ</td><td>è¶…å‡º 24GB æ˜¾å­˜</td></tr><tr><td><strong>FP8</strong></td><td><strong>~14GB</strong></td><td>â­â­â­â­â­</td><td><strong>å¼ºçƒˆæ¨è</strong></td></tr><tr><td>INT4</td><td>~7GB</td><td>â­â­â­â­</td><td>è½»é‡çº§æœ€ä½³</td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>æ€§èƒ½æ˜¾è‘—å¼ºäº 7B</li>
<li>æ€§ä»·æ¯” &gt; 70%</li>
<li>é€‚åˆæ—¥å¸¸å¯¹è¯ã€ä»£ç ç”Ÿæˆ</li>
</ul>
<hr/>
<h4 data-id="heading-22">æ–¹æ¡ˆ 2ï¼šå¤§æ¨¡å‹èƒ½åŠ› + å°æ˜¾å­˜</h4>
<p><strong>Qwen1.5-MoE-33Bï¼ˆINT4ï¼‰</strong></p>





















<table><thead><tr><th>æŒ‡æ ‡</th><th>æ•°å€¼</th></tr></thead><tbody><tr><td>æ€»å‚æ•°</td><td>33B</td></tr><tr><td>æ¿€æ´»å‚æ•°</td><td>~3B</td></tr><tr><td>æ˜¾å­˜å ç”¨</td><td>~1.5GB (INT4)</td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>âœ… æ˜¾å­˜å ç”¨æä½ï¼ˆ4GB æ˜¾å¡å¯è·‘ï¼‰</li>
<li>âœ… æ¨ç†é€Ÿåº¦å¿«</li>
<li>âœ… æ€§èƒ½æ¥è¿‘ 30B Denseï¼ˆå°¤å…¶ä¸­æ–‡ã€æ¨ç†ï¼‰</li>
</ul>
<p><strong>åŠ£åŠ¿ï¼š</strong></p>
<ul>
<li>âš ï¸ ç‰¹å®šä»»åŠ¡æ•ˆæœå¯èƒ½ä¸å¦‚ Dense ç²¾ç»†</li>
</ul>
<hr/>
<h4 data-id="heading-23">æ–¹æ¡ˆ 3ï¼šä¼ä¸šçº§æ——èˆ°</h4>
<p><strong>Qwen3-72B Denseï¼ˆFP8ï¼‰</strong></p>
<p><strong>ç¡¬ä»¶è¦æ±‚ï¼š</strong></p>
<ul>
<li>A100 80GB / H100</li>
<li>æˆ–å¤šå¡ 80GB GPU</li>
</ul>
<p><strong>æ€§èƒ½ï¼š</strong></p>
<ul>
<li>Top çº§åˆ«</li>
<li>é€‚åˆä¼ä¸šçº§åº”ç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-24">7. MoE çš„è®­ç»ƒæœºåˆ¶ï¼ˆè¿›é˜¶ï¼‰</h3>
<h4 data-id="heading-25">7.1 è®­ç»ƒæµç¨‹å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant D as è®­ç»ƒæ•°æ®
    participant R as Router&lt;br/&gt;è·¯ç”±å™¨
    participant E1 as Expert 1
    participant E2 as Expert 2
    participant L as Loss&lt;br/&gt;æŸå¤±å‡½æ•°
    
    D-&gt;&gt;R: è¾“å…¥ Token
    R-&gt;&gt;R: è®¡ç®—ä¸“å®¶å¾—åˆ†
    R-&gt;&gt;E1: æ¿€æ´» (æƒé‡ 0.7)
    R-&gt;&gt;E2: æ¿€æ´» (æƒé‡ 0.3)
    E1-&gt;&gt;L: è¾“å‡º O1
    E2-&gt;&gt;L: è¾“å‡º O2
    L-&gt;&gt;L: è®¡ç®—ä»»åŠ¡æŸå¤±&lt;br/&gt;+ è´Ÿè½½å‡è¡¡æŸå¤±
    L--&gt;&gt;E1: åå‘ä¼ æ’­æ›´æ–°
    L--&gt;&gt;E2: åå‘ä¼ æ’­æ›´æ–°
    L--&gt;&gt;R: æ›´æ–°è·¯ç”±å‚æ•°
</code></pre>
<hr/>
<h4 data-id="heading-26">7.2 è·¯ç”±å™¨è®­ç»ƒæœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[è¾“å…¥ Token è¡¨ç¤º] --&gt; B[Router å°å‹ç½‘ç»œ&lt;br/&gt;Linear + Softmax]
    B --&gt; C[è¾“å‡ºä¸“å®¶æ¦‚ç‡åˆ†å¸ƒ]
    
    C --&gt; D{Top-K é€‰æ‹©}
    D --&gt; E1[ä¸“å®¶å¾—åˆ†: 0.35]
    D --&gt; E2[ä¸“å®¶å¾—åˆ†: 0.28]
    D --&gt; E3[ä¸“å®¶å¾—åˆ†: 0.15]
    D --&gt; E4[å…¶ä»–ä¸“å®¶...]
    
    E1 --&gt; F[é€‰æ‹© Top-2]
    E2 --&gt; F
    
    F --&gt; G[+ è´Ÿè½½å‡è¡¡æŸå¤±&lt;br/&gt;é˜²æ­¢ä¸“å®¶åå‘]
    
    style G fill:#FFD700
</code></pre>
<p><strong>è®­ç»ƒä¼˜åŒ–ï¼š</strong></p>
<ol>
<li>ä½¿ç”¨ <strong>Softmax + Top-K</strong></li>
<li>åŠ å…¥ <strong>è´Ÿè½½å‡è¡¡ï¼ˆLoad Balancingï¼‰æŸå¤±é¡¹</strong></li>
<li>ç¡®ä¿ä¸“å®¶ä¸ä¼š"åå‘æ€§è¿‡å¼º"</li>
</ol>
<hr/>
<h4 data-id="heading-27">7.3 ä¸“å®¶ç‰¹åŒ–è¿‡ç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[è®­ç»ƒåˆæœŸ&lt;br/&gt;ä¸“å®¶æ— æ˜æ˜¾åˆ†å·¥] --&gt; B[ä¸­æœŸ&lt;br/&gt;é€æ¸å½¢æˆåå¥½]
    B --&gt; C[åæœŸ&lt;br/&gt;ä¸“å®¶ç‰¹åŒ–å®Œæˆ]
    
    subgraph "è®­ç»ƒåˆæœŸ"
        A1[Expert 1&lt;br/&gt;é€šç”¨èƒ½åŠ›]
        A2[Expert 2&lt;br/&gt;é€šç”¨èƒ½åŠ›]
        A3[Expert 3&lt;br/&gt;é€šç”¨èƒ½åŠ›]
    end
    
    subgraph "è®­ç»ƒåæœŸ"
        C1[Expert 1&lt;br/&gt; ä»£ç ä¸“å®¶]
        C2[Expert 2&lt;br/&gt; æ•°å­¦ä¸“å®¶]
        C3[Expert 3&lt;br/&gt; åˆ›æ„ä¸“å®¶]
    end
    
    A1 -.æ¼”åŒ–.-&gt; C1
    A2 -.æ¼”åŒ–.-&gt; C2
    A3 -.æ¼”åŒ–.-&gt; C3
    
    style C1 fill:#90EE90
    style C2 fill:#87CEEB
    style C3 fill:#FFB6C1
</code></pre>
<p><strong>å…³é”®è®­ç»ƒæŠ€æœ¯ï¼š</strong></p>
<ul>
<li><strong>OBST</strong>ï¼ˆOne-Batch Selective Trainingï¼‰</li>
<li><strong>GShard</strong>ï¼ˆGoogleï¼‰</li>
<li><strong>Switch Transformer</strong>ï¼ˆGoogleï¼‰</li>
<li><strong>DeepSpeed-MoE</strong>ï¼ˆå¾®è½¯ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-28">7.4 é˜²æ­¢ä¸“å®¶é—²ç½®çš„æœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">mindmap
  root((é˜²æ­¢ä¸“å®¶é—²ç½®))
    è´Ÿè½½å‡è¡¡æŸå¤±
      æƒ©ç½šè¿‡åº¦ä½¿ç”¨æŸä¸ªä¸“å®¶
      å¥–åŠ±ä½¿ç”¨å†·é—¨ä¸“å®¶
    å¤šä»»åŠ¡è®­ç»ƒ
      è¦†ç›–ä¸åŒé¢†åŸŸæ•°æ®
      ç¡®ä¿æ¯ä¸ªä¸“å®¶æœ‰ç”¨æ­¦ä¹‹åœ°
    éšæœºå™ªå£°
      è·¯ç”±å™¨æ·»åŠ éšæœºæ‰°åŠ¨
      å¢åŠ ä¸“å®¶æ¿€æ´»å¤šæ ·æ€§
    Expert Dropout
      è®­ç»ƒæ—¶éšæœºä¸¢å¼ƒä¸“å®¶
      å¼ºåˆ¶å…¶ä»–ä¸“å®¶å­¦ä¹ 
</code></pre>
<p><strong>ç»“æœï¼š</strong> æ‰€æœ‰ä¸“å®¶éƒ½æœ‰æœºä¼šå‚ä¸è®­ç»ƒï¼Œä¸ä¼šå‡ºç°"æ´»è·ƒä¸“å®¶"å’Œ"åƒµå°¸ä¸“å®¶"ã€‚</p>
<hr/>
<h3 data-id="heading-29">8. å®Œæ•´çŸ¥è¯†ä½“ç³»æ€»ç»“</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">mindmap
  root((MoEæ ¸å¿ƒçŸ¥è¯†))
    åŸºç¡€æ¦‚å¿µ
      å¤šä¸“å®¶ç»“æ„
      ç¨€ç–æ¿€æ´»
      è·¯ç”±æœºåˆ¶
    å‚æ•°å…³ç³»
      æ€»å‚æ•°ä¸ç­‰æ¨ç†æˆæœ¬
      æ¿€æ´»å‚æ•°å®šæˆæœ¬
      æ˜¾å­˜å ç”¨1/10
    æ¨¡å‹å¯¹æ¯”
      Denseå…¨æ¿€æ´»
      MoEé€‰æ¿€æ´»
      æ€§èƒ½æˆæœ¬æƒè¡¡
    è®­ç»ƒæœºåˆ¶
      è·¯ç”±å™¨è®­ç»ƒ
      ä¸“å®¶ç‰¹åŒ–
      è´Ÿè½½å‡è¡¡
    éƒ¨ç½²æ–¹æ¡ˆ
      æ¶ˆè´¹çº§14B
      ä¸“ä¸šçº§32B
      ä¼ä¸šçº§72B
    ä¼˜åŠ¿
      å¤§æ¨¡å‹èƒ½åŠ›
      å°æ¨¡å‹æˆæœ¬
      é¢†åŸŸç‰¹åŒ–
</code></pre>
<hr/>
<h3 data-id="heading-30">9. åå¥è¯æŒæ¡ MoE</h3>
<ol>
<li><strong>MoE = å¤šä¸“å®¶ç»“æ„ï¼Œæ¯æ¬¡åªæ¿€æ´»å°‘æ•°ä¸“å®¶</strong></li>
<li><strong>æ€»å‚æ•°ï¼ˆå¦‚ 30Bï¼‰â‰  æ¨ç†æˆæœ¬</strong></li>
<li><strong>æ¨ç†æˆæœ¬ â‰ˆ æ¿€æ´»å‚æ•°ï¼ˆå¦‚ 3Bï¼‰</strong></li>
<li><strong>Dense = å…¨éƒ¨æ¿€æ´»ï¼Œæ€§èƒ½å¼ºä½†æˆæœ¬é«˜</strong></li>
<li><strong>MoE = "å¤§æ¨¡å‹èƒ½åŠ› + å°æ¨¡å‹æˆæœ¬"</strong></li>
<li><strong>INT4/FP8 æ˜¯é‡åŒ–æŠ€æœ¯ï¼Œä¸ MoE æ¶æ„æ— å…³</strong></li>
<li><strong>INT4 çœæ˜¾å­˜ä½†ä¼šç•¥é™æ€§èƒ½</strong></li>
<li><strong>MoE ä¸ä¼šæµªè´¹å‚æ•°ï¼Œæœªæ¿€æ´»ä¸“å®¶ä¼šåœ¨å…¶ä»–ä»»åŠ¡ä¸­ä½¿ç”¨</strong></li>
<li><strong>Qwen3-14B Dense FP8 æ˜¯æœ€ç¨³å¥çš„éƒ¨ç½²æ–¹æ¡ˆ</strong></li>
<li><strong>Qwen-MoE ç³»åˆ—é€‚åˆæ˜¾å­˜ 4GB~24GB çš„åœºæ™¯</strong></li>
</ol>
<hr/>
<h3 data-id="heading-31">10. ä¸ªäººå¿«é€Ÿå†³ç­–æŒ‡å—</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    Start[å¼€å§‹é€‰æ‹©æ¨¡å‹] --&gt; Q1{ä½ çš„æ˜¾å­˜?}
    
    Q1 --&gt;|4-8GB| A1[Qwen1.5-MoE-33B INT4&lt;br/&gt;æ˜¾å­˜: 1.5GB&lt;br/&gt;æ€§èƒ½: ä¸­ä¸Š]
    Q1 --&gt;|12-16GB| A2[Qwen3-7B Dense FP8&lt;br/&gt;æ˜¾å­˜: 7GB&lt;br/&gt;æ€§èƒ½: ä¸­]
    Q1 --&gt;|20-24GB| A3{ä¼˜å…ˆä»€ä¹ˆ?}
    Q1 --&gt;|40GB+| A4[Qwen3-32B Dense FP8&lt;br/&gt;æ˜¾å­˜: 30GB&lt;br/&gt;æ€§èƒ½: æå¼º]
    Q1 --&gt;|80GB+| A5[Qwen3-72B Dense FP8&lt;br/&gt;æ˜¾å­˜: 72GB&lt;br/&gt;æ€§èƒ½: é¡¶çº§]
    
    A3 --&gt;|æ€§èƒ½| B1[Qwen3-14B Dense FP8&lt;br/&gt;æ˜¾å­˜: 14GB&lt;br/&gt;æ€§èƒ½: å¼º]
    A3 --&gt;|å…¼é¡¾| B2[Qwen3-14B Dense INT4&lt;br/&gt;æ˜¾å­˜: 7GB&lt;br/&gt;æ€§èƒ½: å¼º]
    
    style A1 fill:#87CEEB
    style B1 fill:#90EE90
    style A4 fill:#FFD700
    style A5 fill:#FF6B6B
</code></pre>
<hr/>
<h3 data-id="heading-32">é™„å½•ï¼šå‚è€ƒèµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fqwen.readthedocs.io%2F" target="_blank" title="https://qwen.readthedocs.io/" ref="nofollow noopener noreferrer">Qwen å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FQwen" target="_blank" title="https://huggingface.co/Qwen" ref="nofollow noopener noreferrer">Hugging Face Model Hub</a></li>
</ul>
<p><strong>éƒ¨ç½²å·¥å…·ï¼š</strong></p>
<ul>
<li>vLLM</li>
<li>Ollama</li>
<li>llama.cpp</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šCDNæ˜¯æ€ä¹ˆåŠ é€Ÿç½‘ç«™è®¿é—®çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582438310103613486</link>    <guid>https://juejin.cn/post/7582438310103613486</guid>    <pubDate>2025-12-11T15:11:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310103613486" data-draft-id="7582438310103597102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šCDNæ˜¯æ€ä¹ˆåŠ é€Ÿç½‘ç«™è®¿é—®çš„ï¼Ÿ"/> <meta itemprop="keywords" content="CDN"/> <meta itemprop="datePublished" content="2025-12-11T15:11:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šCDNæ˜¯æ€ä¹ˆåŠ é€Ÿç½‘ç«™è®¿é—®çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:11:45.000Z" title="Thu Dec 11 2025 15:11:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšå‰ç«¯é¡¹ç›®çš„æ—¶å€™ï¼Œç»å¸¸å¬åˆ°"é™æ€èµ„æºè¦æ”¾CDN"è¿™ç§è¯´æ³•ï¼š</p>
<ul>
<li>CDNåˆ°åº•æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆèƒ½åŠ é€Ÿï¼Ÿ</li>
<li>ç”¨æˆ·è®¿é—®CDNçš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</li>
<li>å‰ç«¯é¡¹ç›®æ€ä¹ˆé…ç½®CDNï¼Ÿ</li>
</ul>
<h2 data-id="heading-0">å…ˆè¯´ç»“è®º</h2>
<p>CDNï¼ˆContent Delivery Networkï¼‰çš„æ ¸å¿ƒåŸç†ï¼š<strong>æŠŠå†…å®¹ç¼“å­˜åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨ä¸Š</strong>ã€‚</p>
<p>æ²¡æœ‰CDNæ—¶ï¼ŒåŒ—äº¬ç”¨æˆ·è®¿é—®ç¾å›½æœåŠ¡å™¨ï¼Œæ•°æ®è¦è·¨è¶Šå¤ªå¹³æ´‹ã€‚æœ‰äº†CDNï¼Œæ•°æ®ä»åŒ—äº¬çš„CDNèŠ‚ç‚¹è¿”å›ï¼Œå¿«å¾—å¤šã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph æ²¡æœ‰CDN
        U1[åŒ—äº¬ç”¨æˆ·] --&gt;|è·¨è¶Šå¤ªå¹³æ´‹| S1[ç¾å›½æœåŠ¡å™¨]
    end

    subgraph æœ‰CDN
        U2[åŒ—äº¬ç”¨æˆ·] --&gt;|å°±è¿‘è®¿é—®| C2[åŒ—äº¬CDNèŠ‚ç‚¹]
        C2 -.-&gt;|é¦–æ¬¡å›æº| S2[ç¾å›½æœåŠ¡å™¨]
    end
</code></pre>
<h2 data-id="heading-1">CDNçš„å·¥ä½œæµç¨‹</h2>
<p>å½“ç”¨æˆ·è®¿é—®ä¸€ä¸ªCDNåŠ é€Ÿçš„èµ„æºæ—¶ï¼Œä¼šç»è¿‡è¿™å‡ æ­¥ï¼š</p>
<h3 data-id="heading-2">1. DNSè§£æ</h3>
<p>ç”¨æˆ·è®¿é—® <code>cdn.example.com</code>ï¼ŒDNSä¼šè¿”å›ç¦»ç”¨æˆ·æœ€è¿‘çš„CDNèŠ‚ç‚¹IPã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨åŒ—äº¬æŸ¥è¯¢</span>
$ dig cdn.example.com
;; ANSWER SECTION:
cdn.example.com.    60    IN    A    101.37.27.xxx  <span class="hljs-comment"># åŒ—äº¬èŠ‚ç‚¹</span>

<span class="hljs-comment"># åœ¨ä¸Šæµ·æŸ¥è¯¢</span>
$ dig cdn.example.com
;; ANSWER SECTION:
cdn.example.com.    60    IN    A    47.100.99.xxx  <span class="hljs-comment"># ä¸Šæµ·èŠ‚ç‚¹</span>
</code></pre>
<p>åŒä¸€ä¸ªåŸŸåï¼Œä¸åŒåœ°åŒºè§£æå‡ºä¸åŒIPï¼Œè¿™å°±æ˜¯CDNçš„æ™ºèƒ½è°ƒåº¦ã€‚</p>
<h3 data-id="heading-3">2. ç¼“å­˜åˆ¤æ–­</h3>
<p>è¯·æ±‚åˆ°è¾¾CDNèŠ‚ç‚¹åï¼ŒèŠ‚ç‚¹æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰ç¼“å­˜ï¼š</p>
<ul>
<li><strong>ç¼“å­˜å‘½ä¸­</strong>ï¼šç›´æ¥è¿”å›ï¼Œé€Ÿåº¦æœ€å¿«</li>
<li><strong>ç¼“å­˜æœªå‘½ä¸­</strong>ï¼šå‘æºæœåŠ¡å™¨è·å–ï¼Œç„¶åç¼“å­˜èµ·æ¥</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·è¯·æ±‚] --&gt; B[CDNè¾¹ç¼˜èŠ‚ç‚¹]
    B --&gt; C{æœ¬åœ°æœ‰ç¼“å­˜?}
    C --&gt;|æœ‰| D[ç›´æ¥è¿”å›]
    C --&gt;|æ²¡æœ‰| E[å›æºè·å–]
    E --&gt; F[æºæœåŠ¡å™¨]
    F --&gt; G[è¿”å›å†…å®¹]
    G --&gt; H[ç¼“å­˜åˆ°è¾¹ç¼˜èŠ‚ç‚¹]
    H --&gt; D

    classDef hit fill:#d4edda,stroke:#28a745,color:#155724
    classDef miss fill:#fff3cd,stroke:#ffc107,color:#856404
    class D hit
    class E,F,G,H miss
</code></pre>
<h3 data-id="heading-4">3. ç¼“å­˜ç­–ç•¥</h3>
<p>CDNæ ¹æ®HTTPå¤´å†³å®šæ€ä¹ˆç¼“å­˜ï¼š</p>
<pre><code class="hljs language-http" lang="http"># å…¸å‹çš„é™æ€èµ„æºå“åº”å¤´
Cache-Control: public, max-age=31536000
ETag: "abc123"
Last-Modified: Wed, 21 Oct 2024 07:28:00 GMT
</code></pre>
<ul>
<li><code>max-age=31536000</code>ï¼šç¼“å­˜1å¹´</li>
<li><code>public</code>ï¼šå…è®¸CDNç¼“å­˜</li>
<li><code>ETag</code>ï¼šæ–‡ä»¶æŒ‡çº¹ï¼Œç”¨äºéªŒè¯ç¼“å­˜æ˜¯å¦è¿‡æœŸ</li>
</ul>
<h2 data-id="heading-5">ä¸ºä»€ä¹ˆCDNèƒ½åŠ é€Ÿ</h2>
<h3 data-id="heading-6">1. ç‰©ç†è·ç¦»æ›´è¿‘</h3>
<p>å…‰åœ¨å…‰çº¤ä¸­çš„ä¼ æ’­é€Ÿåº¦çº¦ä¸º 20 ä¸‡å…¬é‡Œ/ç§’ã€‚åŒ—äº¬åˆ°ç¾å›½å¾€è¿” 2 ä¸‡å…¬é‡Œï¼Œå…‰ä¼ è¾“å°±è¦ 100msã€‚</p>
<p>CDNæŠŠå†…å®¹æ”¾åˆ°ç¦»ç”¨æˆ·è¿‘çš„åœ°æ–¹ï¼Œè¿™ä¸ªå»¶è¿Ÿå‡ ä¹å¯ä»¥å¿½ç•¥ã€‚</p>
<h3 data-id="heading-7">2. åˆ†æ•£æœåŠ¡å™¨å‹åŠ›</h3>
<p>æ²¡æœ‰CDNï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ‰“åˆ°æºæœåŠ¡å™¨ã€‚æœ‰äº†CDNï¼Œåªæœ‰ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ˆç¼“å­˜æœªå‘½ä¸­ï¼‰æ‰éœ€è¦å›æºã€‚</p>
<p>å‡è®¾ä¸€å¼ å›¾ç‰‡è¢«è®¿é—® 100 ä¸‡æ¬¡ï¼š</p>
<ul>
<li>æ²¡æœ‰CDNï¼šæºæœåŠ¡å™¨å¤„ç† 100 ä¸‡æ¬¡è¯·æ±‚</li>
<li>æœ‰CDNï¼šæºæœåŠ¡å™¨åªå¤„ç†å‡ åæ¬¡ï¼ˆå„èŠ‚ç‚¹é¦–æ¬¡å›æºï¼‰</li>
</ul>
<h3 data-id="heading-8">3. è¾¹ç¼˜èŠ‚ç‚¹ä¼˜åŒ–</h3>
<p>CDNæœåŠ¡å•†çš„è¾¹ç¼˜èŠ‚ç‚¹é€šå¸¸æœ‰è¿™äº›ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨å‹ç¼©</strong>ï¼šGzip/Brotliå‹ç¼©</li>
<li><strong>åè®®ä¼˜åŒ–</strong>ï¼šHTTP/2ã€HTTP/3</li>
<li><strong>è¿æ¥å¤ç”¨</strong>ï¼šKeep-Aliveè¿æ¥æ± </li>
<li><strong>æ™ºèƒ½è·¯ç”±</strong>ï¼šé€‰æ‹©æœ€ä¼˜ç½‘ç»œè·¯å¾„</li>
</ul>
<h2 data-id="heading-9">å‰ç«¯é¡¹ç›®é…ç½®CDN</h2>
<h3 data-id="heading-10">1. æ„å»ºé…ç½®</h3>
<p>ä»¥Viteä¸ºä¾‹ï¼Œé…ç½®é™æ€èµ„æºçš„CDNåœ°å€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">base</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>
    ? <span class="hljs-string">'https://cdn.example.com/'</span>
    : <span class="hljs-string">'/'</span>,
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-attr">output</span>: {
        <span class="hljs-comment">// æ–‡ä»¶åå¸¦hashï¼Œä¾¿äºé•¿æœŸç¼“å­˜</span>
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'js/[name].[hash].js'</span>,
        <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'js/[name].[hash].js'</span>,
        <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'assets/[name].[hash].[ext]'</span>
      }
    }
  }
})
</code></pre>
<p>Webpacké…ç½®ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">publicPath</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'production'</span>
      ? <span class="hljs-string">'https://cdn.example.com/'</span>
      : <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">filename</span>: <span class="hljs-string">'js/[name].[contenthash].js'</span>,
  }
}
</code></pre>
<h3 data-id="heading-11">2. ä¸Šä¼ åˆ°CDN</h3>
<p>æ„å»ºå®Œæˆåï¼ŒæŠŠ<code>dist</code>ç›®å½•çš„æ–‡ä»¶ä¸Šä¼ åˆ°CDNã€‚å¤§å¤šæ•°CDNæœåŠ¡å•†éƒ½æä¾›CLIå·¥å…·æˆ–APIï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é˜¿é‡Œäº‘OSS + CDN</span>
aliyun oss <span class="hljs-built_in">cp</span> -r ./dist oss://your-bucket/

<span class="hljs-comment"># AWS S3 + CloudFront</span>
aws s3 <span class="hljs-built_in">sync</span> ./dist s3://your-bucket/

<span class="hljs-comment"># ä¸ƒç‰›äº‘</span>
qshell qupload2 --src-dir=./dist --bucket=your-bucket
</code></pre>
<h3 data-id="heading-12">3. ç¼“å­˜ç­–ç•¥é…ç½®</h3>
<p>å…³é”®æ˜¯åŒºåˆ†ä¸¤ç±»æ–‡ä»¶ï¼š</p>
<p><strong>å¸¦hashçš„é™æ€èµ„æº</strong>ï¼ˆJSã€CSSã€å›¾ç‰‡ï¼‰ï¼šé•¿æœŸç¼“å­˜</p>
<pre><code class="hljs language-nginx" lang="nginx">location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff2?)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
</code></pre>
<p><strong>HTMLæ–‡ä»¶</strong>ï¼šä¸ç¼“å­˜æˆ–çŸ­æœŸç¼“å­˜</p>
<pre><code class="hljs language-nginx" lang="nginx">location ~* \.html$ {
    expires 0;
    add_header Cache-Control "no-cache, must-revalidate";
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿå› ä¸ºHTMLæ˜¯å…¥å£æ–‡ä»¶ï¼Œå®ƒå¼•ç”¨çš„JS/CSSå¸¦æœ‰hashã€‚æ›´æ–°ä»£ç æ—¶ï¼š</p>
<ol>
<li>æ–°çš„JSæ–‡ä»¶ä¼šæœ‰æ–°çš„hashï¼ˆ<code>app.abc123.js</code> â†’ <code>app.def456.js</code>ï¼‰</li>
<li>HTMLæ–‡ä»¶å¼•ç”¨æ–°çš„JSæ–‡ä»¶</li>
<li>ç”¨æˆ·è·å–æ–°HTMLåï¼Œä¼šåŠ è½½æ–°çš„JSæ–‡ä»¶</li>
<li>æ—§çš„JSæ–‡ä»¶åœ¨CDNä¸Šç»§ç»­å­˜åœ¨ï¼Œä¸å½±å“æ­£åœ¨è®¿é—®çš„ç”¨æˆ·</li>
</ol>
<h3 data-id="heading-13">4. DNSé…ç½®</h3>
<p>æŠŠCDNåŸŸåé…ç½®æˆCNAMEæŒ‡å‘CDNæœåŠ¡å•†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é˜¿é‡Œäº‘CDN</span>
cdn.example.com.    IN    CNAME    cdn.example.com.w.kunlunsl.com.

<span class="hljs-comment"># Cloudflare</span>
cdn.example.com.    IN    CNAME    example.com.cdn.cloudflare.net.
</code></pre>
<h2 data-id="heading-14">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-15">è·¨åŸŸé—®é¢˜</h3>
<p>CDNåŸŸåå’Œä¸»åŸŸåä¸åŒï¼Œå­—ä½“æ–‡ä»¶ã€AJAXè¯·æ±‚å¯èƒ½é‡åˆ°è·¨åŸŸã€‚</p>
<p>è§£å†³æ–¹æ¡ˆæ˜¯åœ¨CDNé…ç½®CORSå¤´ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx"># CDNæœåŠ¡å™¨é…ç½®
add_header Access-Control-Allow-Origin "https://example.com";
add_header Access-Control-Allow-Methods "GET, HEAD, OPTIONS";
</code></pre>
<p>æˆ–è€…åœ¨æºæœåŠ¡å™¨çš„å“åº”é‡ŒåŠ ä¸ŠCORSå¤´ï¼ŒCDNä¼šé€ä¼ ã€‚</p>
<h3 data-id="heading-16">ç¼“å­˜æ›´æ–°é—®é¢˜</h3>
<p>å‘å¸ƒæ–°ç‰ˆæœ¬åï¼Œç”¨æˆ·è¿˜æ˜¯çœ‹åˆ°æ—§å†…å®¹ï¼Ÿ</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šæ–‡ä»¶åå¸¦hash</strong>ï¼ˆæ¨èï¼‰</p>
<p>å‰é¢å·²ç»æåˆ°ï¼Œæ–‡ä»¶åå¸¦hashï¼Œæ–°ç‰ˆæœ¬å°±æ˜¯æ–°æ–‡ä»¶ï¼Œä¸å­˜åœ¨ç¼“å­˜é—®é¢˜ã€‚</p>
<p><strong>æ–¹æ¡ˆäºŒï¼šä¸»åŠ¨åˆ·æ–°ç¼“å­˜</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è°ƒç”¨CDNæœåŠ¡å•†çš„åˆ·æ–°API</span>
<span class="hljs-keyword">await</span> cdnClient.<span class="hljs-title function_">refreshObjectCaches</span>({
  <span class="hljs-title class_">ObjectPath</span>: <span class="hljs-string">'https://cdn.example.com/app.js\nhttps://cdn.example.com/app.css'</span>,
  <span class="hljs-title class_">ObjectType</span>: <span class="hljs-string">'File'</span>
});
</code></pre>
<p><strong>æ–¹æ¡ˆä¸‰ï¼šURLåŠ ç‰ˆæœ¬å·</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.example.com/app.js?v=1.2.3"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ä¸å¤ªæ¨èï¼Œå› ä¸ºæœ‰äº›CDNä¼šå¿½ç•¥æŸ¥è¯¢å‚æ•°ã€‚</p>
<h3 data-id="heading-17">HTTPSè¯ä¹¦</h3>
<p>CDNåŸŸåä¹Ÿéœ€è¦HTTPSè¯ä¹¦ã€‚å¤§å¤šæ•°CDNæœåŠ¡å•†æä¾›å…è´¹è¯ä¹¦æˆ–æ”¯æŒä¸Šä¼ è‡ªæœ‰è¯ä¹¦ã€‚</p>
<p>é…ç½®æ–¹å¼ï¼š</p>
<ol>
<li>åœ¨CDNæ§åˆ¶å°ç”³è¯·å…è´¹è¯ä¹¦ï¼ˆé€šå¸¸æ˜¯DVè¯ä¹¦ï¼‰</li>
<li>æˆ–ä¸Šä¼ è‡ªå·±çš„è¯ä¹¦ï¼ˆç”¨Let's Encryptç”³è¯·ï¼‰</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨certbotç”³è¯·æ³›åŸŸåè¯ä¹¦</span>
certbot certonly --manual --preferred-challenges dns \
  -d <span class="hljs-string">"*.example.com"</span> -d <span class="hljs-string">"example.com"</span>
</code></pre>
<h3 data-id="heading-18">å›æºä¼˜åŒ–</h3>
<p>å¦‚æœæºæœåŠ¡å™¨å‹åŠ›å¤§ï¼Œå¯ä»¥å¯ç”¨"å›æºåŠ é€Ÿ"æˆ–"ä¸­é—´æº"ï¼š</p>
<pre><code class="hljs">ç”¨æˆ· â†’ è¾¹ç¼˜èŠ‚ç‚¹ â†’ ä¸­é—´æº â†’ æºæœåŠ¡å™¨
</code></pre>
<p>ä¸­é—´æºä½œä¸ºäºŒçº§ç¼“å­˜ï¼Œå‡å°‘å¯¹æºæœåŠ¡å™¨çš„è¯·æ±‚ã€‚å¤šæ•°CDNæœåŠ¡å•†é»˜è®¤å¼€å¯è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h2 data-id="heading-19">CDNé€‰å‹</h2>



































<table><thead><tr><th>CDNæœåŠ¡å•†</th><th>ä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>é˜¿é‡Œäº‘CDN</td><td>å›½å†…èŠ‚ç‚¹å¤šï¼Œç”Ÿæ€å®Œæ•´</td><td>å›½å†…ä¸šåŠ¡ä¸ºä¸»</td></tr><tr><td>è…¾è®¯äº‘CDN</td><td>æ¸¸æˆåŠ é€Ÿå¥½ï¼Œç›´æ’­æ”¯æŒå¼º</td><td>æ¸¸æˆã€ç›´æ’­</td></tr><tr><td>Cloudflare</td><td>å…¨çƒèŠ‚ç‚¹ï¼Œæœ‰å…è´¹å¥—é¤</td><td>å‡ºæµ·ä¸šåŠ¡ã€ä¸ªäººé¡¹ç›®</td></tr><tr><td>AWS CloudFront</td><td>ä¸AWSç”Ÿæ€é›†æˆ</td><td>å·²ç”¨AWSçš„é¡¹ç›®</td></tr><tr><td>Vercel/Netlify</td><td>å‰ç«¯é¡¹ç›®ä¸€ç«™å¼éƒ¨ç½²</td><td>JAMStacké¡¹ç›®</td></tr></tbody></table>
<p>ä¸ªäººé¡¹ç›®æ¨èCloudflareï¼Œå…è´¹å¥—é¤å¤Ÿç”¨ï¼Œå…¨çƒèŠ‚ç‚¹è¦†ç›–å¥½ã€‚</p>
<p>ä¼ä¸šé¡¹ç›®æ ¹æ®ç”¨æˆ·åˆ†å¸ƒé€‰æ‹©ã€‚é¢å‘å›½å†…ç”¨æˆ·ï¼Œé˜¿é‡Œäº‘/è…¾è®¯äº‘æ›´åˆé€‚ï¼›é¢å‘å…¨çƒç”¨æˆ·ï¼ŒCloudflareæˆ–CloudFrontã€‚</p>
<h2 data-id="heading-20">éªŒè¯CDNæ•ˆæœ</h2>
<h3 data-id="heading-21">æµè§ˆå™¨å¼€å‘è€…å·¥å…·</h3>
<p>æ‰“å¼€Networké¢æ¿ï¼Œå…³æ³¨è¿™å‡ ä¸ªæŒ‡æ ‡ï¼š</p>
<ul>
<li><strong>TTFBï¼ˆTime To First Byteï¼‰</strong>ï¼šé¦–å­—èŠ‚æ—¶é—´ï¼Œè¶Šå°è¶Šå¥½</li>
<li><strong>å“åº”å¤´ä¸­çš„ç¼“å­˜ä¿¡æ¯</strong>ï¼š<code>X-Cache: HIT</code> è¡¨ç¤ºå‘½ä¸­CDNç¼“å­˜</li>
</ul>
<h3 data-id="heading-22">å‘½ä»¤è¡Œæµ‹è¯•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å“åº”å¤´</span>
curl -I https://cdn.example.com/app.js

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹</span>
HTTP/2 200
cache-control: public, max-age=31536000
x-cache: HIT from CN-Beijing
</code></pre>
<h3 data-id="heading-23">åœ¨çº¿å·¥å…·</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.pingdom.com%2F" target="_blank" title="https://tools.pingdom.com/" ref="nofollow noopener noreferrer">Pingdom</a> - å…¨çƒå¤šç‚¹æµ‹é€Ÿ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgtmetrix.com%2F" target="_blank" title="https://gtmetrix.com/" ref="nofollow noopener noreferrer">GTmetrix</a> - æ€§èƒ½åˆ†æ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.webpagetest.org%2F" target="_blank" title="https://www.webpagetest.org/" ref="nofollow noopener noreferrer">WebPageTest</a> - è¯¦ç»†çš„åŠ è½½ç€‘å¸ƒå›¾</li>
</ul>
<h2 data-id="heading-24">å°ç»“</h2>
<p>CDNåŠ é€Ÿçš„æ ¸å¿ƒåŸç†ï¼š</p>
<ol>
<li><strong>å°±è¿‘è®¿é—®</strong>ï¼šDNSæ™ºèƒ½è§£æï¼ŒæŠŠç”¨æˆ·å¼•å¯¼åˆ°æœ€è¿‘çš„èŠ‚ç‚¹</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šè¾¹ç¼˜èŠ‚ç‚¹ç¼“å­˜å†…å®¹ï¼Œå‡å°‘å›æº</li>
<li><strong>åè®®ä¼˜åŒ–</strong>ï¼šHTTP/2ã€å‹ç¼©ã€è¿æ¥å¤ç”¨</li>
</ol>
<p>å‰ç«¯é…ç½®CDNçš„å…³é”®ï¼š</p>
<ol>
<li><strong>æ„å»ºæ—¶é…ç½®publicPath</strong>ï¼šæŒ‡å‘CDNåŸŸå</li>
<li><strong>æ–‡ä»¶åå¸¦hash</strong>ï¼šä¾¿äºé•¿æœŸç¼“å­˜</li>
<li><strong>HTMLä¸ç¼“å­˜</strong>ï¼šç¡®ä¿ç”¨æˆ·èƒ½è·å–åˆ°æœ€æ–°å…¥å£</li>
<li><strong>å¤„ç†è·¨åŸŸ</strong>ï¼šé…ç½®CORSå¤´</li>
</ol>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢è¯•å®˜ï¼šCNAMEå’ŒAè®°å½•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582399765449621531</link>    <guid>https://juejin.cn/post/7582399765449621531</guid>    <pubDate>2025-12-11T15:13:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765449621531" data-draft-id="7582413770091626534" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢è¯•å®˜ï¼šCNAMEå’ŒAè®°å½•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"/> <meta itemprop="keywords" content="ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-11T15:13:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢è¯•å®˜ï¼šCNAMEå’ŒAè®°å½•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:13:22.000Z" title="Thu Dec 11 2025 15:13:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é…ç½®åŸŸåè§£æçš„æ—¶å€™ï¼Œç»å¸¸çœ‹åˆ°Aè®°å½•ã€CNAMEè¿™äº›é€‰é¡¹ï¼š</p>
<ul>
<li>Aè®°å½•å’ŒCNAMEåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆGitHub Pagesè¦æ±‚æ·»åŠ CNAMEè®°å½•ï¼Ÿ</li>
<li>ä»€ä¹ˆæ—¶å€™è¯¥ç”¨Aè®°å½•ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨CNAMEï¼Ÿ</li>
</ul>
<h2 data-id="heading-0">å…ˆè¯´ç»“è®º</h2>



































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>Aè®°å½•</th><th>CNAMEè®°å½•</th></tr></thead><tbody><tr><td>æŒ‡å‘ç›®æ ‡</td><td>IPåœ°å€</td><td>å¦ä¸€ä¸ªåŸŸå</td></tr><tr><td>è§£ææ¬¡æ•°</td><td>1æ¬¡</td><td>2æ¬¡æˆ–æ›´å¤š</td></tr><tr><td>æ ¹åŸŸåæ”¯æŒ</td><td>æ”¯æŒ</td><td>ä¸æ”¯æŒ</td></tr><tr><td>å…¸å‹åœºæ™¯</td><td>ç›´æ¥æŒ‡å‘æœåŠ¡å™¨</td><td>CDNã€æ‰˜ç®¡å¹³å°</td></tr><tr><td>çµæ´»æ€§</td><td>ä½ï¼ˆIPå˜æ›´éœ€ä¿®æ”¹ï¼‰</td><td>é«˜ï¼ˆç›®æ ‡åŸŸåIPå˜æ›´æ— æ„ŸçŸ¥ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-1">ä¸¤ç§è®°å½•çš„æœ¬è´¨åŒºåˆ«</h2>
<h3 data-id="heading-2">Aè®°å½•ï¼šç›´æ¥æŒ‡å‘IP</h3>
<p>Aè®°å½•ï¼ˆAddress Recordï¼‰æ˜¯æœ€åŸºç¡€çš„DNSè®°å½•ï¼Œç›´æ¥æŠŠåŸŸåæ˜ å°„åˆ°IPåœ°å€ã€‚</p>
<pre><code class="hljs language-css" lang="css"># <span class="hljs-selector-tag">A</span>è®°å½•é…ç½®
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">108.153</span>
</code></pre>
<p>DNSæŸ¥è¯¢è¿‡ç¨‹å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·æŸ¥è¯¢ example.com â†’ DNSè¿”å› 185.199.108.153 â†’ å®Œæˆ
</code></pre>
<h3 data-id="heading-3">CNAMEï¼šæŒ‡å‘å¦ä¸€ä¸ªåŸŸå</h3>
<p>CNAMEï¼ˆCanonical Nameï¼‰è®°å½•ä¸ç›´æ¥æŒ‡å‘IPï¼Œè€Œæ˜¯æŒ‡å‘å¦ä¸€ä¸ªåŸŸåã€‚</p>
<pre><code class="hljs language-objectivec" lang="objectivec"># <span class="hljs-built_in">CNAME</span>é…ç½®
blog.example.com.    IN    <span class="hljs-built_in">CNAME</span>    username.github.io.
</code></pre>
<p>DNSæŸ¥è¯¢éœ€è¦ä¸¤æ­¥ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">ç”¨æˆ·æŸ¥è¯¢ blog.example.com â†’ DNSè¿”å› username.github.<span class="hljs-built_in">io</span> â†’ ç»§ç»­æŸ¥è¯¢ â†’ DNSè¿”å› <span class="hljs-number">185.199</span><span class="hljs-number">.108</span><span class="hljs-number">.153</span> â†’ å®Œæˆ
</code></pre>
<p>ç”¨æµç¨‹å›¾è¡¨ç¤ºæ›´æ¸…æ¥šï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph Aè®°å½•è§£æ
        A1[ç”¨æˆ·æŸ¥è¯¢\nexample.com] --&gt; A2[DNSæœåŠ¡å™¨]
        A2 --&gt; A3[è¿”å›IP\n185.199.108.153]
    end

    subgraph CNAMEè§£æ
        C1[ç”¨æˆ·æŸ¥è¯¢\nblog.example.com] --&gt; C2[DNSæœåŠ¡å™¨]
        C2 --&gt; C3[è¿”å›CNAME\nusername.github.io]
        C3 --&gt; C4[ç»§ç»­æŸ¥è¯¢]
        C4 --&gt; C5[è¿”å›IP\n185.199.108.153]
    end
</code></pre>
<h2 data-id="heading-4">ä¸ºä»€ä¹ˆéœ€è¦CNAME</h2>
<p>çœ‹èµ·æ¥CNAMEå¤šäº†ä¸€æ¬¡æŸ¥è¯¢ï¼Œæ›´æ…¢äº†ã€‚é‚£ä¸ºä»€ä¹ˆè¿˜è¦ç”¨å®ƒï¼Ÿ</p>
<h3 data-id="heading-5">åœºæ™¯ä¸€ï¼šæœåŠ¡å™¨IPä¼šå˜</h3>
<p>å‡è®¾ä½ ç”¨Aè®°å½•æŠŠåŸŸåæŒ‡å‘äº†ä¸€å°æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-css" lang="css">www<span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">1.2</span>.<span class="hljs-number">3.4</span>
</code></pre>
<p>æœ‰ä¸€å¤©æœåŠ¡å™¨è¿ç§»äº†ï¼ŒIPå˜æˆäº† <code>5.6.7.8</code>ï¼Œä½ éœ€è¦æ‰‹åŠ¨æ”¹DNSé…ç½®ã€‚å¦‚æœæœ‰å¤šä¸ªåŸŸåéƒ½æŒ‡å‘è¿™å°æœåŠ¡å™¨ï¼Œæ¯ä¸ªéƒ½è¦æ”¹ã€‚</p>
<p>ç”¨CNAMEå°±ä¸ä¸€æ ·äº†ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec">www.example.com.     IN    <span class="hljs-built_in">CNAME</span>    myapp.hosting.com.
blog.example.com.    IN    <span class="hljs-built_in">CNAME</span>    myapp.hosting.com.
api.example.com.     IN    <span class="hljs-built_in">CNAME</span>    myapp.hosting.com.
</code></pre>
<p>æœåŠ¡å™¨IPå˜äº†ï¼Œåªéœ€è¦æ‰˜ç®¡å¹³å°ï¼ˆmyapp.hosting.comï¼‰æ›´æ–°å®ƒçš„Aè®°å½•ï¼Œä½ çš„æ‰€æœ‰åŸŸåè‡ªåŠ¨ç”Ÿæ•ˆã€‚</p>
<h3 data-id="heading-6">åœºæ™¯äºŒï¼šCDNåŠ é€Ÿ</h3>
<p>CDNæœåŠ¡å•†ä¼šæ ¹æ®ç”¨æˆ·ä½ç½®è¿”å›æœ€è¿‘çš„èŠ‚ç‚¹IPã€‚è¿™ä¸ªIPæ˜¯åŠ¨æ€çš„ï¼Œä¸å¯èƒ½ç”¨Aè®°å½•ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ¥å…¥é˜¿é‡Œäº‘CDN</span>
<span class="hljs-keyword">static</span>.example.com.    IN    CNAME    example.com.w.kunlunsl.com.
</code></pre>
<p>é˜¿é‡Œäº‘çš„CDNä¼šè‡ªåŠ¨æŠŠç”¨æˆ·å¼•å¯¼åˆ°æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œä½ ä¸éœ€è¦å…³å¿ƒå…·ä½“IPæ˜¯ä»€ä¹ˆã€‚</p>
<h3 data-id="heading-7">åœºæ™¯ä¸‰ï¼šæ‰˜ç®¡æœåŠ¡</h3>
<p>GitHub Pagesã€Vercelã€Netlifyè¿™ç±»æ‰˜ç®¡å¹³å°éƒ½è¦æ±‚ç”¨CNAMEï¼ŒåŸå› æ˜¯ï¼š</p>
<ol>
<li>å¹³å°çš„æœåŠ¡å™¨IPå¯èƒ½éšæ—¶å˜åŒ–</li>
<li>å¹³å°éœ€è¦é€šè¿‡åŸŸåè¯†åˆ«ä½ çš„ç«™ç‚¹</li>
<li>ä¾¿äºå®ç°è´Ÿè½½å‡è¡¡å’Œæ•…éšœè½¬ç§»</li>
</ol>
<h2 data-id="heading-8">CNAMEçš„é™åˆ¶</h2>
<h3 data-id="heading-9">æ ¹åŸŸåä¸èƒ½ç”¨CNAME</h3>
<p>è¿™æ˜¯DNSåè®®çš„ç¡¬æ€§è§„å®šã€‚æ ¹åŸŸåï¼ˆå¦‚ <code>example.com</code>ï¼‰å¯èƒ½æœ‰MXè®°å½•ï¼ˆé‚®ä»¶ï¼‰ã€NSè®°å½•ï¼ˆåŸŸåæœåŠ¡å™¨ï¼‰ç­‰ï¼ŒCNAMEä¼šä¸è¿™äº›è®°å½•å†²çªã€‚</p>
<pre><code class="hljs language-objectivec" lang="objectivec"># é”™è¯¯ï¼šæ ¹åŸŸåä¸èƒ½è®¾ç½®<span class="hljs-built_in">CNAME</span>
example.com.         IN    <span class="hljs-built_in">CNAME</span>    username.github.io.

# æ­£ç¡®ï¼šä½¿ç”¨wwwå­åŸŸå
www.example.com.     IN    <span class="hljs-built_in">CNAME</span>    username.github.io.
</code></pre>
<p>é‚£æ ¹åŸŸåæ€ä¹ˆåŠï¼Ÿæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š</p>
<p><strong>æ–¹æ¡ˆä¸€ï¼šç”¨Aè®°å½•ç›´æ¥æŒ‡å‘IP</strong></p>
<pre><code class="hljs language-css" lang="css">example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">108.153</span>
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">109.153</span>
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">110.153</span>
example<span class="hljs-selector-class">.com</span>.    IN    <span class="hljs-selector-tag">A</span>    <span class="hljs-number">185.199</span>.<span class="hljs-number">111.153</span>
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šç”¨ALIASè®°å½•ï¼ˆéƒ¨åˆ†DNSæœåŠ¡å•†æ”¯æŒï¼‰</strong></p>
<p>ALIASæ˜¯ä¸€ç§"å‡çš„CNAME"ï¼Œåœ¨DNSæœåŠ¡å•†é‚£è¾¹åšäº†ä¸€å±‚è½¬æ¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Cloudflareã€DNSPodç­‰æ”¯æŒ</span>
example.com.    IN    ALIAS    username.github.io.
</code></pre>
<p>å®é™…è¿”å›ç»™ç”¨æˆ·çš„è¿˜æ˜¯IPåœ°å€ï¼Œä½†é…ç½®æ—¶å¯ä»¥å¡«åŸŸåã€‚</p>
<h3 data-id="heading-10">CNAMEä¸èƒ½å’Œå…¶ä»–è®°å½•å…±å­˜</h3>
<p>åŒä¸€ä¸ªåŸŸåï¼Œå¦‚æœè®¾ç½®äº†CNAMEï¼Œå°±ä¸èƒ½å†è®¾ç½®Aè®°å½•ã€MXè®°å½•ç­‰ã€‚</p>
<pre><code class="hljs language-erlang" lang="erlang"># é”™è¯¯ï¼šCNAMEå’ŒMXå†²çª
mail.example.com.    IN    CNAME    mailserver.com.
mail.example.com.    IN    MX       <span class="hljs-number">10</span> mailserver.com.

# æ­£ç¡®ï¼šåˆ†å¼€ä½¿ç”¨ä¸åŒå­åŸŸå
www.example.com.     IN    CNAME    hosting.com.
mail.example.com.    IN    MX       <span class="hljs-number">10</span> mailserver.com.
</code></pre>
<h2 data-id="heading-11">å®æˆ˜é…ç½®ç¤ºä¾‹</h2>
<h3 data-id="heading-12">GitHub Pagesè‡ªå®šä¹‰åŸŸå</h3>
<ol>
<li>åœ¨ä»“åº“æ ¹ç›®å½•åˆ›å»º<code>CNAME</code>æ–‡ä»¶ï¼š</li>
</ol>
<pre><code class="hljs">blog.example.com
</code></pre>
<ol start="2">
<li>åœ¨åŸŸåæœåŠ¡å•†æ·»åŠ CNAMEè®°å½•ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># DNSé…ç½®</span>
blog.example.com.    IN    CNAME    username.github.io.
</code></pre>
<ol start="3">
<li>éªŒè¯é…ç½®ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹CNAMEè®°å½•</span>
dig CNAME blog.example.com

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹</span>
;; ANSWER SECTION:
blog.example.com.    300    IN    CNAME    username.github.io.
username.github.io.  300    IN    A        185.199.108.153
</code></pre>
<h3 data-id="heading-13">Verceléƒ¨ç½²</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># wwwå­åŸŸåç”¨CNAME</span>
www.example.com.    IN    CNAME    cname.vercel-dns.com.

<span class="hljs-comment"># æ ¹åŸŸåç”¨Aè®°å½•</span>
example.com.        IN    A        76.76.21.21
</code></pre>
<h3 data-id="heading-14">Cloudflare CDN</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¥å…¥Cloudflare</span>
www.example.com.    IN    CNAME    example.com.cdn.cloudflare.net.
</code></pre>
<p>Cloudflareçš„ç‰¹æ®Šä¹‹å¤„åœ¨äºå®ƒæ”¯æŒ"CNAME Flattening"ï¼Œå³ä½¿æ˜¯æ ¹åŸŸåä¹Ÿå¯ä»¥é…ç½®CNAMEï¼Œå®ƒä¼šè‡ªåŠ¨è½¬æ¢æˆAè®°å½•è¿”å›ã€‚</p>
<h2 data-id="heading-15">å¸¸è§é—®é¢˜æ’æŸ¥</h2>
<h3 data-id="heading-16">é…ç½®äº†CNAMEä½†ä¸ç”Ÿæ•ˆ</h3>
<p><strong>æ£€æŸ¥TTL</strong>ï¼šDNSç¼“å­˜å¯èƒ½è¿˜æ²¡æ›´æ–°ï¼Œç­‰å¾…TTLæ—¶é—´è¿‡æœŸã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹TTL</span>
dig blog.example.com

<span class="hljs-comment"># ç¼©çŸ­TTLåŠ å¿«æµ‹è¯•ï¼ˆé…ç½®æ—¶è®¾ç½®ï¼‰</span>
blog.example.com.    60    IN    CNAME    username.github.io.
</code></pre>
<p><strong>æ£€æŸ¥ä¼ æ’­çŠ¶æ€</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨nslookupæŒ‡å®šDNSæœåŠ¡å™¨</span>
nslookup blog.example.com 8.8.8.8

<span class="hljs-comment"># æˆ–ç”¨åœ¨çº¿å·¥å…·</span>
<span class="hljs-comment"># https://dnschecker.org/</span>
</code></pre>
<h3 data-id="heading-17">å¾ªç¯å¼•ç”¨</h3>
<pre><code class="hljs language-css" lang="css"># é”™è¯¯ï¼š<span class="hljs-selector-tag">A</span>æŒ‡å‘<span class="hljs-selector-tag">B</span>ï¼Œ<span class="hljs-selector-tag">B</span>åˆæŒ‡å‘<span class="hljs-selector-tag">A</span>
<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.    IN    CNAME    <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.
<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.    IN    CNAME    <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.example</span><span class="hljs-selector-class">.com</span>.
</code></pre>
<p>DNSæœåŠ¡å™¨ä¼šæ£€æµ‹å¾ªç¯å¼•ç”¨å¹¶æŠ¥é”™ï¼Œä½†æ’æŸ¥èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚é…ç½®æ—¶é¿å…å¤æ‚çš„CNAMEé“¾ã€‚</p>
<h3 data-id="heading-18">HTTPSè¯ä¹¦é—®é¢˜</h3>
<p>CNAMEåªæ˜¯DNSå±‚é¢çš„è·³è½¬ï¼ŒHTTPSè¯ä¹¦éœ€è¦åœ¨æœ€ç»ˆæœåŠ¡å™¨ä¸Šé…ç½®ã€‚</p>
<p>å¦‚æœä½ æŠŠ <code>blog.example.com</code> CNAMEåˆ°äº† <code>username.github.io</code>ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>GitHub Pageséœ€è¦æ”¯æŒä½ çš„è‡ªå®šä¹‰åŸŸå</li>
<li>è¯ä¹¦è¦èƒ½è¦†ç›– <code>blog.example.com</code></li>
</ul>
<p>GitHub Pagesä¼šè‡ªåŠ¨ç”³è¯·Let's Encryptè¯ä¹¦ï¼Œä½†éœ€è¦åœ¨ä»“åº“è®¾ç½®é‡Œå¼€å¯HTTPSã€‚</p>
<h2 data-id="heading-19">å†³ç­–æŒ‡å—</h2>
<pre><code class="hljs language-objectivec" lang="objectivec">éœ€è¦é…ç½®åŸŸåè§£æ
â”œâ”€ æ‰˜ç®¡åœ¨ç¬¬ä¸‰æ–¹å¹³å°ï¼ˆGitHub Pagesã€Vercelã€Netlifyï¼‰ï¼Ÿ
â”‚   â””â”€ ç”¨ <span class="hljs-built_in">CNAME</span> æŒ‡å‘å¹³å°åŸŸå
â”œâ”€ æ¥å…¥CDNï¼Ÿ
â”‚   â””â”€ ç”¨ <span class="hljs-built_in">CNAME</span> æŒ‡å‘CDNåŸŸå
â”œâ”€ ç›´æ¥éƒ¨ç½²åœ¨è‡ªå·±çš„æœåŠ¡å™¨ï¼Ÿ
â”‚   â”œâ”€ IPå›ºå®šä¸”ä¸ä¼šå˜ï¼Ÿ
â”‚   â”‚   â””â”€ ç”¨ A è®°å½•
â”‚   â””â”€ IPå¯èƒ½å˜åŒ–ï¼Ÿ
â”‚       â””â”€ è€ƒè™‘ç”¨ <span class="hljs-built_in">CNAME</span> æŒ‡å‘ä¸€ä¸ªè‡ªå·±æ§åˆ¶çš„åŸŸå
â””â”€ æ ¹åŸŸåï¼Ÿ
    â””â”€ åªèƒ½ç”¨ A è®°å½•æˆ– ALIASï¼ˆå¦‚æœDNSæœåŠ¡å•†æ”¯æŒï¼‰
</code></pre>
<h2 data-id="heading-20">å°ç»“</h2>
<ul>
<li><strong>Aè®°å½•</strong>ï¼šåŸŸå â†’ IPï¼Œç®€å•ç›´æ¥ï¼Œä½†IPå˜äº†è¦æ‰‹åŠ¨æ”¹</li>
<li><strong>CNAME</strong>ï¼šåŸŸå â†’ åŸŸå â†’ IPï¼Œå¤šä¸€æ¬¡æŸ¥è¯¢ï¼Œä½†æ›´çµæ´»</li>
<li><strong>æ ¹åŸŸåä¸èƒ½ç”¨CNAME</strong>ï¼Œè¿™æ˜¯DNSåè®®é™åˆ¶</li>
<li><strong>CDNã€æ‰˜ç®¡å¹³å°éƒ½ç”¨CNAME</strong>ï¼Œå› ä¸ºå®ƒä»¬çš„IPæ˜¯åŠ¨æ€çš„</li>
</ul>
<p>é€‰æ‹©çš„æ ¸å¿ƒåŸåˆ™ï¼š<strong>å¦‚æœç›®æ ‡IPå¯èƒ½å˜åŒ–ï¼Œç”¨CNAMEï¼›å¦‚æœIPå›ºå®šï¼Œç”¨Aè®°å½•ã€‚</strong></p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7582401182934810639</link>    <guid>https://juejin.cn/post/7582401182934810639</guid>    <pubDate>2025-12-11T15:22:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582401182934810639" data-draft-id="7582401182934794255" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T15:22:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:22:21.000Z" title="Thu Dec 11 2025 15:22:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„å›¾ç‰‡åŠ è½½åº“ï¼Ÿ</h2>
<p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œå›¾ç‰‡åŠ è½½æ˜¯å½±å“ç”¨æˆ·ä½“éªŒçš„æ ¸å¿ƒç¯èŠ‚ä¹‹ä¸€ã€‚ä¸€ä¸ªä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“éœ€è¦è§£å†³å¤šä¸ªå¤æ‚é—®é¢˜ï¼šå¼‚æ­¥ä¸‹è½½ã€å†…å­˜ç¼“å­˜ã€ç£ç›˜ç¼“å­˜ã€å›¾ç‰‡è§£ç ã€åŠ¨ç”»æ”¯æŒã€åˆ—è¡¨ä¼˜åŒ–ç­‰ã€‚åœ¨ Swift ç”Ÿæ€ä¸­ï¼ŒKingfisher å‡­å€Ÿå…¶ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µå’Œå“è¶Šçš„æ€§èƒ½è¡¨ç°ï¼Œæˆä¸ºäº† iOS/macOS å¼€å‘è€…çš„é¦–é€‰ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Kingfisher æ¶æ„è®¾è®¡ï¼šæ¨¡å—åŒ–çš„è‰ºæœ¯</h2>
<h3 data-id="heading-2">æ ¸å¿ƒæ¶æ„åˆ†å±‚</h3>
<p>Kingfisher é‡‡ç”¨äº†æ¸…æ™°çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ä½¿ç”¨å±‚ (Usage Layer)           â”‚
â”‚  â€¢ UIImageView/NSImageView æ‰©å±•              â”‚
â”‚  â€¢ SwiftUI çš„ KFImage                        â”‚
â”‚  â€¢ ä¸°å¯Œçš„é€‰é¡¹é…ç½®ç³»ç»Ÿ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ç®¡ç†å±‚ (Manager Layer)            â”‚
â”‚  â€¢ KingfisherManagerï¼šå…¨å±€åè°ƒè€…              â”‚
â”‚  â€¢ ImageDownloaderï¼šä¸‹è½½ç®¡ç†                  â”‚
â”‚  â€¢ ImageCacheï¼šç¼“å­˜ç®¡ç†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             å¤„ç†å™¨å±‚ (Processor Layer)        â”‚
â”‚  â€¢ ImageProcessorï¼šå›¾ç‰‡å¤„ç†æµæ°´çº¿              â”‚
â”‚  â€¢ ImageModifierï¼šå›¾ç‰‡ä¿®é¥°å™¨                   â”‚
â”‚  â€¢ FormatIndicatedCacheSerializerï¼šåºåˆ—åŒ–å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             åŸºç¡€å±‚ (Foundation Layer)         â”‚
â”‚  â€¢ çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„                         â”‚
â”‚  â€¢ é«˜æ•ˆçš„ç¼“å­˜ç®—æ³•å®ç°                         â”‚
â”‚  â€¢ ä½çº§åˆ«çš„å›¾ç‰‡è§£ç æ“ä½œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-3">çº¿ç¨‹å®‰å…¨è®¾è®¡</h3>
<p>Kingfisher åœ¨å¤šçº¿ç¨‹è®¾è®¡ä¸Šè¡¨ç°å“è¶Šï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Kingfisher å†…éƒ¨ä½¿ç”¨ DispatchQueue å’Œé”ä¿è¯çº¿ç¨‹å®‰å…¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeContainer</span>&lt;<span class="hljs-title class_">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> storage: <span class="hljs-type">T</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> lock: <span class="hljs-type">DispatchQueue</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">asyncExecute</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">block</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-keyword">inout</span> <span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Void</span>) {
        lock.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword">self</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            block(<span class="hljs-operator">&amp;</span><span class="hljs-keyword">self</span>.storage)
        }
    }
}
</code></pre>
<h2 data-id="heading-4">äºŒã€å›¾ç‰‡åŠ è½½å…¨æµç¨‹æ·±åº¦è§£æ</h2>
<h3 data-id="heading-5">2.1 åŠ è½½æµç¨‹è¯¦è§£</h3>
<p>Kingfisher çš„å›¾ç‰‡åŠ è½½éµå¾ªä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant UI as UIImageView
    participant KM as KingfisherManager
    participant MC as MemoryCache
    participant DC as DiskCache
    participant DN as Downloader
    participant IP as ImageProcessor
    
    UI-&gt;&gt;KM: kf.setImage(with: url)
    KM-&gt;&gt;MC: æŸ¥è¯¢å†…å­˜ç¼“å­˜
    alt å†…å­˜å‘½ä¸­
        MC--&gt;&gt;KM: è¿”å›ç¼“å­˜çš„ImageData
        KM--&gt;&gt;UI: ç›´æ¥æ˜¾ç¤ºå›¾ç‰‡
    else å†…å­˜æœªå‘½ä¸­
        KM-&gt;&gt;DC: æŸ¥è¯¢ç£ç›˜ç¼“å­˜
        alt ç£ç›˜å‘½ä¸­
            DC--&gt;&gt;KM: è¿”å›ç£ç›˜æ•°æ®
            KM-&gt;&gt;IP: è§£ç å’Œå¤„ç†å›¾ç‰‡
            IP--&gt;&gt;KM: å¤„ç†åçš„å›¾ç‰‡
            KM-&gt;&gt;MC: å­˜å…¥å†…å­˜ç¼“å­˜
            KM--&gt;&gt;UI: æ˜¾ç¤ºå›¾ç‰‡
        else ç£ç›˜æœªå‘½ä¸­
            KM-&gt;&gt;DN: å‘èµ·ç½‘ç»œè¯·æ±‚
            DN--&gt;&gt;KM: ä¸‹è½½å›¾ç‰‡æ•°æ®
            KM-&gt;&gt;IP: è§£ç å’Œå¤„ç†å›¾ç‰‡
            IP--&gt;&gt;KM: å¤„ç†åçš„å›¾ç‰‡
            KM-&gt;&gt;DC: å­˜å…¥ç£ç›˜ç¼“å­˜
            KM-&gt;&gt;MC: å­˜å…¥å†…å­˜ç¼“å­˜
            KM--&gt;&gt;UI: æ˜¾ç¤ºå›¾ç‰‡
        end
    end
</code></pre>
<h3 data-id="heading-6">2.2 æ¸è¿›å¼ä¸‹è½½ä¼˜åŒ–</h3>
<p>Kingfisher æ”¯æŒæ¸è¿›å¼ JPEG ä¸‹è½½ï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .progressiveJPEG(<span class="hljs-type">ImageProgressive</span>(
        isBlur: <span class="hljs-literal">true</span>,      <span class="hljs-comment">// æ˜¯å¦å¯ç”¨æ¨¡ç³Šæ•ˆæœ</span>
        isFastestScan: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ä½¿ç”¨æœ€å¿«æ‰«æ</span>
        scanInterval: <span class="hljs-number">0.1</span>   <span class="hljs-comment">// æ‰«æé—´éš”</span>
    ))
]

imageView.kf.setImage(with: url, options: options)
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ç¼“å­˜æœºåˆ¶çš„å“è¶Šå®ç°</h2>
<h3 data-id="heading-8">3.1 ä¸‰çº§ç¼“å­˜ç­–ç•¥</h3>
<p>Kingfisher å®ç°äº†é«˜æ•ˆçš„ä¸‰çº§ç¼“å­˜ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å¤„ç†å™¨ç¼“å­˜ï¼ˆProcessed Cacheï¼‰</strong>ï¼šå­˜å‚¨å¤„ç†åçš„å›¾ç‰‡</li>
<li><strong>åŸå§‹æ•°æ®ç¼“å­˜ï¼ˆOriginal Cacheï¼‰</strong>ï¼šå­˜å‚¨åŸå§‹ä¸‹è½½æ•°æ®</li>
<li><strong>å†…å­˜ç¼“å­˜ï¼ˆMemory Cacheï¼‰</strong>ï¼šä½¿ç”¨ NSCache å®ç°</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è‡ªå®šä¹‰ç¼“å­˜é…ç½®ç¤ºä¾‹</span>
<span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">ImageCache</span>(name: <span class="hljs-string">"my_cache"</span>)

<span class="hljs-comment">// é…ç½®å†…å­˜ç¼“å­˜</span>
cache.memoryStorage.config.totalCostLimit <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">100</span>  <span class="hljs-comment">// 100MB</span>
cache.memoryStorage.config.countLimit <span class="hljs-operator">=</span> <span class="hljs-number">100</span>
cache.memoryStorage.config.expiration <span class="hljs-operator">=</span> .seconds(<span class="hljs-number">600</span>)  <span class="hljs-comment">// 10åˆ†é’Ÿ</span>

<span class="hljs-comment">// é…ç½®ç£ç›˜ç¼“å­˜</span>
cache.diskStorage.config.sizeLimit <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">500</span>  <span class="hljs-comment">// 500MB</span>
cache.diskStorage.config.expiration <span class="hljs-operator">=</span> .days(<span class="hljs-number">7</span>)  <span class="hljs-comment">// 7å¤©</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ç¼“å­˜</span>
<span class="hljs-type">KingfisherManager</span>.shared.defaultOptions <span class="hljs-operator">=</span> [.targetCache(cache)]
</code></pre>
<h3 data-id="heading-9">3.2 æ™ºèƒ½ç¼“å­˜é”®ç”Ÿæˆ</h3>
<p>Kingfisher çš„ç¼“å­˜é”®ç”Ÿæˆç­–ç•¥éå¸¸æ™ºèƒ½ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é»˜è®¤ç¼“å­˜é”®æ˜¯ URL çš„ç»å¯¹å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">let</span> defaultCacheKey <span class="hljs-operator">=</span> url.cacheKey

<span class="hljs-comment">// å¯ä»¥æ·»åŠ å¤„ç†å™¨æ ‡è¯†</span>
<span class="hljs-keyword">let</span> processor <span class="hljs-operator">=</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">20</span>)
<span class="hljs-keyword">let</span> processedCacheKey <span class="hljs-operator">=</span> url.cacheKey <span class="hljs-operator">+</span> processor.identifier

<span class="hljs-comment">// è‡ªå®šä¹‰ç¼“å­˜é”®</span>
imageView.kf.setImage(
    with: url,
    options: [.cacheOriginalImage],
    completionHandler: { result <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// è·å–ç¼“å­˜é”®</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> value) <span class="hljs-operator">=</span> result {
            <span class="hljs-keyword">let</span> cacheKey <span class="hljs-operator">=</span> value.cacheKey
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¼“å­˜é”®: <span class="hljs-subst">\(cacheKey)</span>"</span>)
        }
    }
)
</code></pre>
<h2 data-id="heading-10">å››ã€é«˜çº§å›¾ç‰‡å¤„ç†åŠŸèƒ½</h2>
<h3 data-id="heading-11">4.1 å›¾ç‰‡å¤„ç†å™¨é“¾</h3>
<p>Kingfisher æ”¯æŒå¤„ç†å™¨é“¾ï¼Œå¯ä»¥æŒ‰é¡ºåºåº”ç”¨å¤šä¸ªå¤„ç†å™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> processor <span class="hljs-operator">=</span> <span class="hljs-type">DownsamplingImageProcessor</span>(size: <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>))
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">20</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">BlurImageProcessor</span>(blurRadius: <span class="hljs-number">5</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">TintImageProcessor</span>(tint: .red.withAlphaComponent(<span class="hljs-number">0.3</span>))

imageView.kf.setImage(
    with: url,
    options: [.processor(processor)]
)
</code></pre>
<h3 data-id="heading-12">4.2 è‡ªå®šä¹‰å›¾ç‰‡å¤„ç†å™¨</h3>
<p>åˆ›å»ºè‡ªå®šä¹‰å¤„ç†å™¨éå¸¸çµæ´»ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">WatermarkProcessor</span>: <span class="hljs-title class_">ImageProcessor</span> {
    <span class="hljs-keyword">let</span> identifier: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> watermark: <span class="hljs-type">UIImage</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">watermark</span>: <span class="hljs-type">UIImage</span>) {
        <span class="hljs-keyword">self</span>.watermark <span class="hljs-operator">=</span> watermark
        <span class="hljs-keyword">self</span>.identifier <span class="hljs-operator">=</span> <span class="hljs-string">"com.myapp.watermark"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">item</span>: <span class="hljs-type">ImageProcessItem</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span>? {
        <span class="hljs-keyword">switch</span> item {
        <span class="hljs-keyword">case</span> .image(<span class="hljs-keyword">let</span> image):
            <span class="hljs-keyword">return</span> drawWatermark(on: image)
        <span class="hljs-keyword">case</span> .data:
            <span class="hljs-comment">// å¦‚æœæ˜¯æ•°æ®ï¼Œå…ˆè§£ç å†å¤„ç†</span>
            <span class="hljs-keyword">return</span> (<span class="hljs-type">DefaultImageProcessor</span>.default <span class="hljs-operator">|&gt;</span> <span class="hljs-keyword">self</span>).process(item: item, options: options)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">drawWatermark</span>(<span class="hljs-params">on</span> <span class="hljs-params">image</span>: <span class="hljs-type">KFCrossPlatformImage</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span> {
        <span class="hljs-comment">// ç»˜åˆ¶æ°´å°çš„å®ç°</span>
        <span class="hljs-keyword">return</span> image
    }
}
</code></pre>
<h2 data-id="heading-13">äº”ã€SwiftUI æ·±åº¦é›†æˆ</h2>
<h3 data-id="heading-14">5.1 KFImage çš„é«˜çº§ç”¨æ³•</h3>
<p>Kingfisher ä¸º SwiftUI æä¾›äº†åŸç”Ÿçš„ KFImage ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AdvancedImageView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">let</span> url: <span class="hljs-type">URL</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">KFImage</span>(url)
            .setProcessor(
                <span class="hljs-type">DownsamplingImageProcessor</span>(size: <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">200</span>))
                <span class="hljs-operator">|&gt;</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">10</span>)
            )
            .loadDiskFileSynchronously()  <span class="hljs-comment">// åŒæ­¥åŠ è½½ç£ç›˜ç¼“å­˜</span>
            .cacheMemoryOnly()  <span class="hljs-comment">// ä»…ç¼“å­˜åˆ°å†…å­˜</span>
            .fade(duration: <span class="hljs-number">0.25</span>)  <span class="hljs-comment">// æ¸å˜åŠ¨ç”»</span>
            .onSuccess { result <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾ç‰‡åŠ è½½æˆåŠŸ: <span class="hljs-subst">\(result.cacheType)</span>"</span>)
            }
            .onFailure { error <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾ç‰‡åŠ è½½å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
            }
            .placeholder { progress <span class="hljs-keyword">in</span>
                <span class="hljs-comment">// è‡ªå®šä¹‰å ä½ç¬¦ï¼Œæ”¯æŒè¿›åº¦æ˜¾ç¤º</span>
                <span class="hljs-type">ProgressView</span>(value: progress.fractionCompleted)
                    .progressViewStyle(<span class="hljs-type">CircularProgressViewStyle</span>())
            }
            .resizable()
            .aspectRatio(contentMode: .fit)
            .frame(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">200</span>)
    }
}
</code></pre>
<h3 data-id="heading-15">5.2 åŠ¨ç”»ä¸è¿‡æ¸¡æ•ˆæœ</h3>
<p>Kingfisher æ”¯æŒä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é…ç½®å…¨å±€åŠ¨ç”»é€‰é¡¹</span>
<span class="hljs-type">KingfisherManager</span>.shared.defaultOptions <span class="hljs-operator">=</span> [
    .transition(.fade(<span class="hljs-number">0.3</span>)),  <span class="hljs-comment">// 300ms æ·¡å…¥æ•ˆæœ</span>
    .forceTransition  <span class="hljs-comment">// å³ä½¿ä»ç¼“å­˜åŠ è½½ä¹Ÿä½¿ç”¨è¿‡æ¸¡æ•ˆæœ</span>
]

<span class="hljs-comment">// å•ä¸ªè¯·æ±‚çš„ç‰¹æ®Šé…ç½®</span>
imageView.kf.setImage(
    with: url,
    options: [
        .transition(.flipFromLeft(<span class="hljs-number">0.5</span>)),
        .forceTransition
    ]
)
</code></pre>
<h2 data-id="heading-16">å…­ã€æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-17">6.1 åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</h3>
<p>åœ¨ UITableView æˆ– UICollectionView ä¸­ä½¿ç”¨ Kingfisher æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomTableViewCell</span>: <span class="hljs-title class_">UITableViewCell</span> {
    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> customImageView: <span class="hljs-type">UIImageView</span>!
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">prepareForReuse</span>() {
        <span class="hljs-keyword">super</span>.prepareForReuse()
        <span class="hljs-comment">// å–æ¶ˆæœªå®Œæˆçš„ä¸‹è½½ä»»åŠ¡</span>
        customImageView.kf.cancelDownloadTask()
        <span class="hljs-comment">// å¯é€‰ï¼šè®¾ç½®å ä½å›¾</span>
        customImageView.image <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">configure</span>(<span class="hljs-params">with</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>) {
        <span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
            .transition(.fade(<span class="hljs-number">0.2</span>)),
            .cacheOriginalImage,  <span class="hljs-comment">// ç¼“å­˜åŸå§‹å›¾ç‰‡</span>
            .backgroundDecode,    <span class="hljs-comment">// åå°è§£ç </span>
            .scaleFactor(<span class="hljs-type">UIScreen</span>.main.scale),  <span class="hljs-comment">// é€‚é…å±å¹•ç¼©æ”¾</span>
            .keepCurrentImageWhileLoading  <span class="hljs-comment">// åŠ è½½æ—¶ä¿æŒå½“å‰å›¾ç‰‡</span>
        ]
        
        customImageView.kf.setImage(
            with: url,
            placeholder: <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"placeholder"</span>),
            options: options
        )
    }
}

<span class="hljs-comment">// åœ¨ tableView ä¸­ä½¿ç”¨é¢„åŠ è½½</span>
<span class="hljs-keyword">let</span> prefetcher <span class="hljs-operator">=</span> <span class="hljs-type">ImagePrefetcher</span>(urls: imageURLs)
prefetcher.start()

<span class="hljs-comment">// é¢„åŠ è½½å•ä¸ªå›¾ç‰‡</span>
<span class="hljs-type">ImagePrefetcher</span>(urls: [url]).start()
</code></pre>
<h3 data-id="heading-18">6.2 å†…å­˜ç®¡ç†ç­–ç•¥</h3>
<p>Kingfisher æä¾›äº†ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ç›‘å¬å†…å­˜è­¦å‘Š</span>
<span class="hljs-type">NotificationCenter</span>.default.addObserver(
    forName: <span class="hljs-type">UIApplication</span>.didReceiveMemoryWarningNotification,
    object: <span class="hljs-literal">nil</span>,
    queue: .main
) { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// æ¸…é™¤å†…å­˜ç¼“å­˜</span>
    <span class="hljs-type">ImageCache</span>.default.clearMemoryCache()
    
    <span class="hljs-comment">// æˆ–è€…åªæ¸…é™¤è¿‡æœŸçš„ç¼“å­˜</span>
    <span class="hljs-type">ImageCache</span>.default.cleanExpiredMemoryCache()
}

<span class="hljs-comment">// é…ç½®å†…å­˜ç¼“å­˜è¡Œä¸º</span>
<span class="hljs-type">ImageCache</span>.default.memoryStorage.config.cleanInterval <span class="hljs-operator">=</span> <span class="hljs-number">60</span>  <span class="hljs-comment">// æ¯60ç§’æ¸…ç†ä¸€æ¬¡</span>
</code></pre>
<h3 data-id="heading-19">6.3 ä¸‹è½½ä¼˜å…ˆçº§æ§åˆ¶</h3>
<p>åœ¨å¤æ‚åœºæ™¯ä¸­ï¼Œå¯ä»¥æ§åˆ¶ä¸‹è½½ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è®¾ç½®ä¸‹è½½ä¼˜å…ˆçº§</span>
<span class="hljs-keyword">let</span> highPriorityOptions: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .downloadPriority(<span class="hljs-type">URLSessionTask</span>.highPriority)
]

<span class="hljs-keyword">let</span> lowPriorityOptions: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .downloadPriority(<span class="hljs-type">URLSessionTask</span>.lowPriority)
]

<span class="hljs-comment">// å…³é”®å›¾ç‰‡ä½¿ç”¨é«˜ä¼˜å…ˆçº§</span>
importantImageView.kf.setImage(with: importantURL, options: highPriorityOptions)

<span class="hljs-comment">// éå…³é”®å›¾ç‰‡ä½¿ç”¨ä½ä¼˜å…ˆçº§</span>
thumbnailImageView.kf.setImage(with: thumbnailURL, options: lowPriorityOptions)
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€ç›‘æ§ä¸è°ƒè¯•</h2>
<h3 data-id="heading-21">7.1 æ€§èƒ½ç›‘æ§</h3>
<p>Kingfisher æä¾›äº†ä¸°å¯Œçš„ç›‘æ§ç‚¹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¯ç”¨è°ƒè¯•æ—¥å¿—</span>
<span class="hljs-type">Logging</span>.downloader <span class="hljs-operator">=</span> .debug

<span class="hljs-comment">// è‡ªå®šä¹‰ç›‘æ§</span>
<span class="hljs-type">ImageDownloader</span>.default.delegate <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">YourClass</span>: <span class="hljs-title class_">ImageDownloaderDelegate</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">imageDownloader</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">downloader</span>: <span class="hljs-type">ImageDownloader</span>, <span class="hljs-params">willDownloadImageForURL</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">with</span> <span class="hljs-params">request</span>: <span class="hljs-type">URLRequest</span>?) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å³å°†ä¸‹è½½: <span class="hljs-subst">\(url)</span>"</span>)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">imageDownloader</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">downloader</span>: <span class="hljs-type">ImageDownloader</span>, <span class="hljs-params">didFinishDownloadingImageForURL</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">with</span> <span class="hljs-params">response</span>: <span class="hljs-type">URLResponse</span>?, <span class="hljs-params">error</span>: <span class="hljs-type">Error</span>?) {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> error {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½æˆåŠŸ: <span class="hljs-subst">\(url)</span>"</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-22">7.2 ç¼“å­˜çŠ¶æ€æ£€æŸ¥</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜çŠ¶æ€</span>
<span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">ImageCache</span>.default

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜</span>
cache.isCached(forKey: <span class="hljs-string">"cache_key"</span>) { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">switch</span> result {
    <span class="hljs-keyword">case</span> .memory:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å­˜åœ¨å†…å­˜ç¼“å­˜"</span>)
    <span class="hljs-keyword">case</span> .disk:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å­˜åœ¨ç£ç›˜ç¼“å­˜"</span>)
    <span class="hljs-keyword">case</span> .none:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ— ç¼“å­˜"</span>)
    }
}

<span class="hljs-comment">// è·å–ç¼“å­˜å¤§å°</span>
cache.calculateDiskStorageSize { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">switch</span> result {
    <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> size):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç£ç›˜ç¼“å­˜å¤§å°: <span class="hljs-subst">\(Double(size) <span class="hljs-operator">/</span> <span class="hljs-number">1024</span> <span class="hljs-operator">/</span> <span class="hljs-number">1024</span>)</span> MB"</span>)
    <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è®¡ç®—ç¼“å­˜å¤§å°å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
    }
}
</code></pre>
<h2 data-id="heading-23">å…«ã€é«˜çº§åœºæ™¯è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-24">8.1 åŠ¨å›¾ï¼ˆGIFï¼‰æ”¯æŒ</h3>
<p>Kingfisher å¯¹åŠ¨å›¾æä¾›äº†å®Œæ•´çš„æ”¯æŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åŠ è½½å¹¶æ’­æ”¾ GIF</span>
imageView.kf.setImage(
    with: gifURL,
    options: [
        .processor(<span class="hljs-type">DefaultImageProcessor</span>.default),  <span class="hljs-comment">// é»˜è®¤å¤„ç†å™¨æ”¯æŒ GIF</span>
        .cacheSerializer(<span class="hljs-type">FormatIndicatedCacheSerializer</span>.gif)  <span class="hljs-comment">// æŒ‡å®š GIF åºåˆ—åŒ–å™¨</span>
    ]
)

<span class="hljs-comment">// æ§åˆ¶ GIF æ’­æ”¾</span>
imageView.kf.setImage(with: gifURL) { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> value) <span class="hljs-operator">=</span> result {
        <span class="hljs-comment">// æ‰‹åŠ¨æ§åˆ¶åŠ¨ç”»</span>
        value.image.kf.startAnimating()
        
        <span class="hljs-comment">// æˆ–è€…åœæ­¢åŠ¨ç”»</span>
        value.image.kf.stopAnimating()
    }
}

<span class="hljs-comment">// é™åˆ¶ GIF å†…å­˜ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .onlyLoadFirstFrame,  <span class="hljs-comment">// åªåŠ è½½ç¬¬ä¸€å¸§ï¼Œå‡å°‘å†…å­˜å ç”¨</span>
    .preloadAllAnimationData  <span class="hljs-comment">// é¢„åŠ è½½æ‰€æœ‰åŠ¨ç”»æ•°æ®</span>
]
</code></pre>
<h3 data-id="heading-25">8.2 å›¾ç‰‡ç¼–è¾‘ä¸å¤„ç†</h3>
<p>Kingfisher æ”¯æŒå›¾ç‰‡çš„å®æ—¶ç¼–è¾‘ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºå¯ç¼–è¾‘çš„å›¾ç‰‡è§†å›¾</span>
<span class="hljs-keyword">let</span> imageEditor <span class="hljs-operator">=</span> <span class="hljs-type">ImageEditorView</span>()

<span class="hljs-comment">// åº”ç”¨å¤šä¸ªç¼–è¾‘æ“ä½œ</span>
imageEditor.applyFilter(.blur(radius: <span class="hljs-number">2</span>))
imageEditor.applyFilter(.contrast(<span class="hljs-number">1.2</span>))
imageEditor.applyFilter(.saturation(<span class="hljs-number">0.8</span>))

<span class="hljs-comment">// è·å–ç¼–è¾‘åçš„å›¾ç‰‡</span>
<span class="hljs-keyword">let</span> editedImage <span class="hljs-operator">=</span> imageEditor.outputImage

<span class="hljs-comment">// ä¿å­˜ç¼–è¾‘ç»“æœåˆ°ç¼“å­˜</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> editedImage <span class="hljs-operator">=</span> editedImage,
   <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> originalURL {
    <span class="hljs-type">ImageCache</span>.default.store(editedImage, forKey: url.cacheKey <span class="hljs-operator">+</span> <span class="hljs-string">"_edited"</span>)
}
</code></pre>
<h3 data-id="heading-26">8.3 è‡ªå®šä¹‰ä¸‹è½½å™¨</h3>
<p>å¯¹äºç‰¹æ®Šéœ€æ±‚ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸‹è½½å™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰ä¸‹è½½å™¨</span>
<span class="hljs-keyword">let</span> customDownloader <span class="hljs-operator">=</span> <span class="hljs-type">ImageDownloader</span>(name: <span class="hljs-string">"custom"</span>)
customDownloader.downloadTimeout <span class="hljs-operator">=</span> <span class="hljs-number">30</span>  <span class="hljs-comment">// 30ç§’è¶…æ—¶</span>
customDownloader.sessionConfiguration.httpMaximumConnectionsPerHost <span class="hljs-operator">=</span> <span class="hljs-number">1</span>  <span class="hljs-comment">// æ¯ä¸ªä¸»æœº1ä¸ªè¿æ¥</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ä¸‹è½½å™¨</span>
imageView.kf.setImage(
    with: url,
    options: [.downloader(customDownloader)]
)

<span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰è¯·æ±‚ä¿®æ”¹å™¨</span>
<span class="hljs-keyword">let</span> modifier <span class="hljs-operator">=</span> <span class="hljs-type">AnyModifier</span> { request <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">var</span> r <span class="hljs-operator">=</span> request
    r.setValue(<span class="hljs-string">"Bearer token"</span>, forHTTPHeaderField: <span class="hljs-string">"Authorization"</span>)
    <span class="hljs-keyword">return</span> r
}

imageView.kf.setImage(
    with: url,
    options: [.requestModifier(modifier)]
)
</code></pre>
<h2 data-id="heading-27">ä¹ã€æ‰©å±•æ€§ä¸è‡ªå®šä¹‰</h2>
<h3 data-id="heading-28">9.1 æ’ä»¶ç³»ç»Ÿ</h3>
<p>Kingfisher æ”¯æŒæ’ä»¶æ‰©å±•ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AnalyticsPlugin</span>: <span class="hljs-title class_">ImagePlugin</span> {
    <span class="hljs-keyword">var</span> identifier: <span class="hljs-type">String</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"com.myapp.analytics"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">willDownloadImage</span>(<span class="hljs-params">for</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) {
        <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_will_download"</span>, properties: [<span class="hljs-string">"url"</span>: url.absoluteString])
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">didDownloadImage</span>(<span class="hljs-params">for</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">result</span>: <span class="hljs-type">Result</span>&lt;<span class="hljs-type">ImageLoadingResult</span>, <span class="hljs-type">KingfisherError</span>&gt;, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) {
        <span class="hljs-keyword">switch</span> result {
        <span class="hljs-keyword">case</span> .success:
            <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_download_success"</span>, properties: [<span class="hljs-string">"url"</span>: url.absoluteString])
        <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
            <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_download_failed"</span>, properties: [
                <span class="hljs-string">"url"</span>: url.absoluteString,
                <span class="hljs-string">"error"</span>: error.localizedDescription
            ])
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span>
<span class="hljs-keyword">let</span> plugin <span class="hljs-operator">=</span> <span class="hljs-type">AnalyticsPlugin</span>()
imageView.kf.setImage(
    with: url,
    options: [.plugin(plugin)]
)
</code></pre>
<h3 data-id="heading-29">9.2 è‡ªå®šä¹‰ç¼“å­˜åºåˆ—åŒ–å™¨</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">EncryptedCacheSerializer</span>: <span class="hljs-title class_">CacheSerializer</span> {
    <span class="hljs-keyword">let</span> encryptionKey: <span class="hljs-type">String</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">data</span>(<span class="hljs-params">with</span> <span class="hljs-params">image</span>: <span class="hljs-type">KFCrossPlatformImage</span>, <span class="hljs-params">original</span>: <span class="hljs-type">Data</span>?) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// åŠ å¯†å›¾ç‰‡æ•°æ®</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> image.kf.data(format: .unknown) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">return</span> encrypt(data: data, key: encryptionKey)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">image</span>(<span class="hljs-params">with</span> <span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span>? {
        <span class="hljs-comment">// è§£å¯†å›¾ç‰‡æ•°æ®</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> decryptedData <span class="hljs-operator">=</span> decrypt(data: data, key: encryptionKey),
              <span class="hljs-keyword">let</span> image <span class="hljs-operator">=</span> <span class="hljs-type">KFCrossPlatformImage</span>(data: decryptedData) <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
        <span class="hljs-keyword">return</span> image
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">encrypt</span>(<span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// å®ç°åŠ å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> data
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// å®ç°è§£å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> data
    }
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨</span>
<span class="hljs-keyword">let</span> serializer <span class="hljs-operator">=</span> <span class="hljs-type">EncryptedCacheSerializer</span>(encryptionKey: <span class="hljs-string">"my_secret_key"</span>)
imageView.kf.setImage(
    with: url,
    options: [.cacheSerializer(serializer)]
)
</code></pre>
<h2 data-id="heading-30">åã€æ€»ç»“</h2>
<p>Kingfisher ä½œä¸º Swift ç”Ÿæ€ä¸­æœ€ä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“ä¹‹ä¸€ï¼Œå…¶æˆåŠŸæºäºå¤šä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>ç°ä»£åŒ–çš„ Swift è®¾è®¡</strong>ï¼šå……åˆ†åˆ©ç”¨ Swift è¯­è¨€ç‰¹æ€§ï¼Œæä¾›ç±»å‹å®‰å…¨çš„ API</li>
<li><strong>å“è¶Šçš„æ€§èƒ½è¡¨ç°</strong>ï¼šä¸‰çº§ç¼“å­˜ç­–ç•¥ã€åå°è§£ç ã€æ™ºèƒ½é¢„åŠ è½½ç­‰ä¼˜åŒ–</li>
<li><strong>å®Œæ•´çš„å¹³å°æ”¯æŒ</strong>ï¼šiOSã€macOSã€watchOSã€tvOS å…¨å¹³å°æ”¯æŒ</li>
<li><strong>å¼ºå¤§çš„æ‰©å±•æ€§</strong>ï¼šæ’ä»¶ç³»ç»Ÿã€è‡ªå®šä¹‰å¤„ç†å™¨ã€åºåˆ—åŒ–å™¨ç­‰</li>
<li><strong>ä¼˜ç§€çš„ç¤¾åŒºç”Ÿæ€</strong>ï¼šæ´»è·ƒçš„ç»´æŠ¤ã€ä¸°å¯Œçš„æ–‡æ¡£ã€å¤§é‡çš„ç¬¬ä¸‰æ–¹æ‰©å±•</li>
</ol>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>æ ¹æ®åº”ç”¨åœºæ™¯åˆç†é…ç½®ç¼“å­˜ç­–ç•¥</li>
<li>åœ¨åˆ—è¡¨è§†å›¾ä¸­ä½¿ç”¨ <code>prepareForReuse</code> å–æ¶ˆæœªå®Œæˆçš„ä»»åŠ¡</li>
<li>åˆ©ç”¨é¢„åŠ è½½æå‡ç”¨æˆ·ä½“éªŒ</li>
<li>ç›‘æ§ç¼“å­˜å¤§å°å’Œæ€§èƒ½æŒ‡æ ‡</li>
<li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰å¤„ç†å™¨å’Œæ’ä»¶</li>
</ul>
<p>Kingfisher ä¸ä»…æ˜¯ä¸€ä¸ªå›¾ç‰‡åŠ è½½åº“ï¼Œæ›´æ˜¯ Swift æœ€ä½³å®è·µçš„ä½“ç°ã€‚é€šè¿‡æ·±å…¥ç†è§£å…¶è®¾è®¡ç†å¿µå’Œå®ç°ç»†èŠ‚ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡ºé«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„å›¾ç‰‡å¤„ç†è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“]]></title>    <link>https://juejin.cn/post/7582438809378193450</link>    <guid>https://juejin.cn/post/7582438809378193450</guid>    <pubDate>2025-12-11T15:30:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809378193450" data-draft-id="7582422766730985515" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2025-12-11T15:30:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:30:38.000Z" title="Thu Dec 11 2025 15:30:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©å¤§å§šç»™å¤§å®¶åˆ†äº«ä¸€æ¬¾å¼€æºã€ç°ä»£åŒ–çš„ WinForm UI æ§ä»¶åº“ï¼š<strong>CxFlatUI</strong>ï¼Œå€¼å¾—å¤§å®¶å‚è€ƒå­¦ä¹ ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">WinForm ä»‹ç»</h2>
<p>WinFormæ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„æ¡Œé¢åº”ç”¨ç¨‹åºæ¡†æ¶ï¼Œå®ƒåŸºäº Windows æ“ä½œç³»ç»Ÿçš„åŸç”Ÿæ§ä»¶å’Œçª—ä½“ã€‚é€šè¿‡ç®€å•æ˜“ç”¨çš„ APIï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿæ„å»ºåŸºäºçª—ä½“çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¯ä»¥åˆ©ç”¨å¤šç§æ§ä»¶å’Œäº‹ä»¶æ¥å®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½å’Œäº¤äº’ã€‚</p>
<h2 data-id="heading-2">å½“å‰æ§ä»¶</h2>
<p><code>AlertBoxã€Buttonã€CheckBoxã€DatePickerã€GroupBoxã€NumericUpDownã€PictureBoxã€ProgressBarã€RadioButtonã€RoundButtonã€RoundProgressBarã€SimpleButtonã€SliderBarã€StatusBarã€Switchã€TabControlã€Toggle...</code>ã€‚</p>
<h2 data-id="heading-3">é¡¹ç›®æºä»£ç </h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/359f280aa3834a6c877881a9865c7458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=vR1cU2dgix94B5Htd7bSHccU75g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æ§ä»¶æ•ˆæœæ¼”ç¤º</h2>
<p>è®¾ç½®<code>CxFlatDemo</code>ä¸ºå¯åŠ¨é¡¹ç›®ï¼ŒæŸ¥çœ‹æ§ä»¶æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/016ae3a09aff413d8045fd614a066eb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=1Fbq%2FFHbg41HGNnM4YNqKyUF4bQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55a700c65ef24806891acda90e13c276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=JAGOwakLJRl28lrI%2BbKwr1%2FdAw4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfae79af7241460c9ef8f821b2ee2a73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=bholMlAnQ%2BKIJDjTVPT0ON%2FNs1Y%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d1fd90557e0407dbcc6b0d31a5f480b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766071838&amp;x-signature=5CBfA2r6hO7UKxF8eRj89WzGPP8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">é¡¹ç›®æºç åœ°å€</h2>
<p>æ›´å¤šé¡¹ç›®å®ç”¨åŠŸèƒ½å’Œç‰¹æ€§æ¬¢è¿å‰å¾€é¡¹ç›®å¼€æºåœ°å€æŸ¥çœ‹ğŸ‘€ï¼Œåˆ«å¿˜äº†ç»™é¡¹ç›®ä¸€ä¸ªStaræ”¯æŒğŸ’–ã€‚</p>
<ul>
<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHuJinguang%2FCxFlatUI" target="_blank" title="https://github.com/HuJinguang/CxFlatUI" ref="nofollow noopener noreferrer">github.com/HuJinguang/â€¦</a></li>
</ul>
<h2 data-id="heading-6">ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰</h2>
<p>è¯¥é¡¹ç›®å·²æ”¶å½•åˆ°C#/.NET/.NET Coreä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰ä¸­ï¼Œå…³æ³¨ä¼˜ç§€é¡¹ç›®å’Œæ¡†æ¶ç²¾é€‰èƒ½è®©ä½ åŠæ—¶äº†è§£C#ã€.NETå’Œ.NET Coreé¢†åŸŸçš„æœ€æ–°åŠ¨æ€å’Œæœ€ä½³å®è·µï¼Œæé«˜å¼€å‘å·¥ä½œæ•ˆç‡å’Œè´¨é‡ã€‚å‘å·²æŒ–ï¼Œæ¬¢è¿å¤§å®¶è¸Šè·ƒæäº¤PRæ¨èæˆ–è‡ªèï¼ˆ<strong>è®©ä¼˜ç§€çš„é¡¹ç›®å’Œæ¡†æ¶ä¸è¢«åŸ‹æ²¡ğŸ¤</strong>ï¼‰ã€‚</p>
<ul>
<li><strong>GitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetProjectPicks.md" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
<li><strong>Giteeå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fysgdaydayup%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetProjectPicks.md" target="_blank" title="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetProjectPicks.md" ref="nofollow noopener noreferrer">gitee.com/ysgdaydayupâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æœºæ¢°éŸ³ï¼VoxCPM 1.5å¼€æºï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„â€œæœ€å¼ºå˜´æ›¿â€]]></title>    <link>https://juejin.cn/post/7582438310103662638</link>    <guid>https://juejin.cn/post/7582438310103662638</guid>    <pubDate>2025-12-11T15:45:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438310103662638" data-draft-id="7582399765449670683" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æœºæ¢°éŸ³ï¼VoxCPM 1.5å¼€æºï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„â€œæœ€å¼ºå˜´æ›¿â€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-11T15:45:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æœºæ¢°éŸ³ï¼VoxCPM 1.5å¼€æºï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬è¦çš„â€œæœ€å¼ºå˜´æ›¿â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:45:53.000Z" title="Thu Dec 11 2025 15:45:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°±åœ¨å‡ å¤©å‰ï¼Œç§‘æŠ€åœˆé‡Œæ‚„æ‚„å‘ç”Ÿäº†ä¸€ä»¶å¤§äº‹ã€‚</p>
<p>å¦‚æœä½ ç»å¸¸å…³æ³¨å¼€æºç¤¾åŒºï¼Œå¤§æ¦‚ç‡å·²ç»è¢«é¢å£æ™ºèƒ½ï¼ˆOpenBMBï¼‰åˆ·å±äº†ã€‚2025å¹´12æœˆ10æ—¥ï¼Œä»–ä»¬æ­£å¼æŠŠè‡ªå·±å‹ç®±åº•çš„å®è´â€”â€”è¯­éŸ³ç”ŸæˆåŸºç¡€æ¨¡å‹ VoxCPM æ›´æ–°åˆ°äº† 1.5 ç‰ˆæœ¬ï¼Œå¹¶ä¸”ç›´æ¥å¼€æºã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ä¸“é—¨èŠå®ƒï¼Ÿå› ä¸ºåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼Œå¼€æºç•Œçš„TTSï¼ˆæ–‡æœ¬è½¬è¯­éŸ³ï¼‰æ¨¡å‹æ€»è®©äººè§‰å¾—å·®ç‚¹æ„æ€ï¼šè¦ä¹ˆéŸ³è´¨åƒä¸ªæ²¡æœ‰æ„Ÿæƒ…çš„æœ—è¯»æœºå™¨ï¼Œè¦ä¹ˆç”Ÿæˆé€Ÿåº¦æ…¢åˆ°è®©ä½ æ€€ç–‘äººç”Ÿã€‚ä½†è¿™æ¬¡ VoxCPM 1.5 çš„å‡ºç°ï¼Œä¼¼ä¹å°±æ˜¯ä¸ºäº†æ‰“ç ´è¿™ä¸ªåƒµå±€è€Œæ¥çš„ã€‚</p>
<p>å®è¯è¯´ï¼Œè¿™æ¬¡å‡çº§æœ‰ç‚¹çŒ›ï¼Œå’±ä»¬æ‹†å¼€æ¥çœ‹çœ‹å®ƒåˆ°åº•å¼ºåœ¨å“ªå„¿ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-11_23.38.53-1024x368.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-11_23.38.53-1024x368.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0fc758b6f304a7e8e19ff149f5dec78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766072753&amp;x-signature=4fkNkgxRJ1Qg9jbl%2BPVL7aXu%2Bu4%3D" alt="iShot_2025-12-11_23.38.53" loading="lazy"/></a></p>
<p><strong>å¬è§‰çš„â€œé«˜æ¸…é‡åˆ¶ç‰ˆâ€</strong></p>
<p>é¦–å…ˆæœ€ç›´è§‚çš„æ„Ÿå—å°±æ˜¯â€œè€³æœµæ€€å­•â€ã€‚ä»¥å‰çš„ TTS æ¨¡å‹ï¼Œå¾ˆå¤šé‡‡æ ·ç‡éƒ½åœç•™åœ¨ 16kHz ç”šè‡³æ›´ä½ï¼Œå¬èµ·æ¥æ€»æœ‰ä¸€ç§å¯¹ç€ç”µè¯ç­’è¯´è¯çš„æœ¦èƒ§æ„Ÿï¼Œé«˜é¢‘ç»†èŠ‚ä¸¢å¤±ä¸¥é‡ã€‚</p>
<p>VoxCPM 1.5 æŠŠåº•å±‚çš„ AudioVAE é‡‡æ ·ç‡ç›´æ¥æ‹‰å‡åˆ°äº† 44.1kHzã€‚è¿™æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿè¿™å°±æ˜¯CDçº§éŸ³è´¨çš„æ ‡å‡†ã€‚è¿™æ„å‘³ç€ç”Ÿæˆçš„è¯­éŸ³ä¸å†æ˜¯å¹²å·´å·´çš„å¿µç¨¿å­ï¼Œä½ èƒ½å¬åˆ°æ›´ä¸°å¯Œçš„ç»†èŠ‚ï¼Œæ¯”å¦‚å‘¼å¸çš„æ°”å£ã€è¯­æ°”çš„å¾®å¼±èµ·ä¼ï¼Œç”šè‡³æ˜¯é‚£ç§éš¾ä»¥è¨€ä¼ çš„â€œç©ºæ°”æ„Ÿâ€ã€‚åœ¨è¿™ä¸ªç‰ˆæœ¬é‡Œï¼Œå£°éŸ³çš„è§£æåŠ›ä¸Šäº†ä¸€ä¸ªå¤§å°é˜¶ï¼Œé‚£ç§æ¼äººçš„ç”µå­å‘³å’Œä¼ªå½±ï¼ˆartifactsï¼‰å°‘äº†å¾ˆå¤šã€‚</p>
<p><strong>å¿«ï¼Œè€Œä¸”æ˜¯åŠ å€çš„å¿«</strong></p>
<p>å¯¹äºå¼€å‘è€…æˆ–è€…æƒ³åœ¨æœ¬åœ°è·‘æ¨¡å‹çš„äººæ¥è¯´ï¼Œå…‰å¥½å¬æ²¡ç”¨ï¼Œè¿˜å¾—è·‘å¾—åŠ¨ã€‚</p>
<p>ä¸Šä¸€ä»£æ¨¡å‹è™½ç„¶ä¹Ÿå¥½ç”¨ï¼Œä½†è¿™ä¸€ä»£ç®€ç›´æ˜¯å¼€äº†å€é€ŸæŒ‚ã€‚å®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼Œç”Ÿæˆæ•ˆç‡ç›´æ¥ç¿»å€ã€‚ä»¥å‰ç”Ÿæˆ1ç§’çš„éŸ³é¢‘éœ€è¦å¤„ç†12.5ä¸ªtokenï¼Œç°åœ¨åªéœ€è¦6.25ä¸ªã€‚</p>
<p>è¿™èƒŒåçš„æŠ€æœ¯é€»è¾‘å…¶å®å¾ˆæœ‰è¶£ã€‚å®ƒæ²¡æœ‰ä½¿ç”¨ä¼ ç»Ÿçš„è¯­éŸ³åˆ†è¯å™¨ï¼ˆTokenizerï¼‰ï¼Œè€Œæ˜¯ç›´æ¥åœ¨è¿ç»­çš„è¯­éŸ³è¡¨ç¤ºç©ºé—´é‡Œâ€œå†²æµªâ€ã€‚è¿™ç§åšæ³•ä¸ä»…è®©ç”Ÿæˆé€Ÿåº¦èµ·é£ï¼Œè¿˜é¿å…äº†å› ä¸ºæŠŠå£°éŸ³å¼ºè¡Œåˆ‡ç¢è€Œå¯¼è‡´çš„ä¿¡æ¯ä¸¢å¤±ã€‚è¿™å¯¹äºæƒ³è¦åœ¨æ™®é€šå®¶ç”¨ç”µè„‘ç”šè‡³æŸäº›ç«¯ä¾§è®¾å¤‡ä¸Šéƒ¨ç½²çš„äººæ¥è¯´ï¼Œç»å¯¹æ˜¯ä¸ªç¦éŸ³ã€‚</p>
<p><strong>å±äºåˆ›ä½œè€…çš„â€œæè„¸â€æ—¶åˆ»</strong></p>
<p>å¦‚æœä½ æ˜¯åšè‡ªåª’ä½“çš„ï¼Œæˆ–è€…æ˜¯æäºŒæ¬¡å…ƒäºŒåˆ›çš„ï¼Œè¿™ä¸€ç‚¹ä½ ç»å¯¹ä¼šå–œæ¬¢ï¼šå®ƒçš„å¯ç©æ€§å˜å¼ºäº†ã€‚</p>
<p>VoxCPM 1.5 æ–°å¢äº† LoRA å’Œå…¨é‡å¾®è°ƒè„šæœ¬ã€‚ç¨å¾®æ‡‚ç‚¹ç‚¼ä¸¹çš„æœ‹å‹éƒ½çŸ¥é“è¿™æ„å‘³ç€ä»€ä¹ˆã€‚ä»¥å‰ä½ æƒ³å…‹éš†ä¸€ä¸ªå£°éŸ³ï¼Œå¯èƒ½éœ€è¦æµ·é‡çš„æ•°æ®å’Œæ˜‚è´µçš„ç®—åŠ›ã€‚ç°åœ¨ï¼Œä½ åªéœ€è¦å°‘é‡çš„ç›®æ ‡äººå£°æ•°æ®ï¼ˆåªè¦å‡ åˆ†é’Ÿï¼‰ï¼Œå°±èƒ½ç”¨æä½çš„æˆæœ¬â€œæâ€å‡ºä¸€ä¸ªä¸“å±çš„éŸ³è‰²æ¨¡å‹ã€‚</p>
<p>ä¸ç®¡æ˜¯æƒ³å¤åˆ»æŸä¸ªç»å…¸è§’è‰²çš„å£°çº¿ï¼Œè¿˜æ˜¯æƒ³è®­ç»ƒä¸€ä¸ªå±äºè‡ªå·±çš„æ•°å­—åˆ†èº«ï¼Œé—¨æ§›éƒ½è¢«å¤§å¤§é™ä½äº†ã€‚è€Œä¸”å› ä¸ºå®ƒå‚æ•°é‡åªæœ‰ 5äº¿ï¼ˆ0.5Bï¼‰ï¼Œè¿™åœ¨å½“ä»ŠåŠ¨è¾„åƒäº¿å‚æ•°çš„å¤§æ¨¡å‹æ—¶ä»£ï¼Œç®€ç›´å°±æ˜¯â€œå°è€Œç¾â€çš„å…¸èŒƒï¼Œä¸€å¼ ä¸­ç«¯æ˜¾å¡å°±èƒ½ç©å¾—è½¬ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-11_23.38.27-1024x643.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-11_23.38.27-1024x643.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26b46292ceb943318ba09880cf3d7b85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766072753&amp;x-signature=snCqyDBMr0yB6C8r1VMY%2BwqMlBg%3D" alt="iShot_2025-12-11_23.38.27" loading="lazy"/></a></p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>ç›®å‰ï¼ŒVoxCPM 1.5 çš„ä»£ç å’Œæƒé‡å·²ç»å…¨éƒ¨ä¸Šä¼ åˆ°äº† GitHub å’Œ Hugging Faceã€‚è™½ç„¶ç¤¾åŒºé‡Œä¹Ÿæœ‰äº›åé¦ˆè¯´ç›®å‰çš„ç‰ˆæœ¬åœ¨æŸäº›æç«¯é…ç½®ä¸‹è¿˜æœ‰ç‚¹å°Bugï¼Œä½†è¿™æ¯•ç«Ÿæ˜¯å¼€æºé¡¹ç›®çš„å¸¸æ€â€”â€”ä¸€è¾¹ç”¨ï¼Œä¸€è¾¹ä¿®ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œé¢å£æ™ºèƒ½è¿™æ¬¡äº¤å‡ºçš„ç­”å·ç›¸å½“æœ‰è¯šæ„ã€‚å®ƒä¸æ˜¯é‚£ç§é«˜é«˜åœ¨ä¸Šã€åªèƒ½åœ¨å®éªŒå®¤é‡Œè·‘çš„å·¨æ— éœ¸ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£èƒ½è®©å¼€å‘è€…æ‹¿æ¥ç”¨ã€æ‹¿æ¥æ”¹ã€æ‹¿æ¥åˆ›é€ ä»·å€¼çš„å®ç”¨å·¥å…·ã€‚</p>
<p>å¦‚æœä½ å—å¤Ÿäº†é‚£äº›å¬èµ·æ¥åƒæœºå™¨äººçš„é…éŸ³ï¼Œä¸å¦¨å»ä¸‹è½½è¿™ä¸ª 1.5 ç‰ˆæœ¬è¯•è¯•ã€‚æ¯•ç«Ÿï¼Œåœ¨è¿™ä¸ªAIé£é€Ÿè¿›åŒ–çš„æ—¶ä»£ï¼Œèƒ½æ‰¾åˆ°ä¸€ä¸ªæ—¢å¥½å¬åˆå¬è¯çš„â€œå˜´æ›¿â€ï¼Œç¡®å®ä¸å®¹æ˜“ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7582413770091446310</link>    <guid>https://juejin.cn/post/7582413770091446310</guid>    <pubDate>2025-12-11T14:07:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582413770091446310" data-draft-id="7582413770091429926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²"/> <meta itemprop="keywords" content="Nuxt.js,Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T14:07:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥èˆªé©¿ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/4125023356335576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023356335576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥èˆªé©¿ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T14:07:06.000Z" title="Thu Dec 11 2025 14:07:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">Nuxt 3 å¼€å‘ææ•ˆæŒ‡å—ï¼šæˆ‘å°è£…äº†ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€çº§æ’ä»¶ï¼Œå¹¶é¡ºæ‰‹æå®šäº†è‡ªåŠ¨åŒ–éƒ¨ç½²</h2>
<blockquote>
<p>åœ¨ Nuxt 3 çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€äº›é‡å¤æ€§çš„å·¥ä½œï¼šå°è£… Fetch è¯·æ±‚ã€å¤„ç† AES/RSA åŠ å¯†ã€é…ç½® SEO Metaã€åˆ¤æ–­è®¾å¤‡ç±»å‹ç­‰ç­‰ã€‚è™½ç„¶ç¤¾åŒºæœ‰å¾ˆå¤šä¼˜ç§€çš„åº“ï¼Œä½†æ¯æ¬¡æ–°å¼€é¡¹ç›®éƒ½è¦é‡æ–°æŠŠè¿™äº›åº“é›†æˆä¸€éï¼Œè¿˜æ˜¯ç•¥æ˜¾ç¹çã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å¼€å‘äº† <strong>nuxt-web-plugin</strong>ï¼Œä¸€ä¸ªé›†æˆäº†ç½‘ç»œè¯·æ±‚ã€å®‰å…¨åŠ å¯†ã€SEO ä¼˜åŒ–ã€è®¾å¤‡æ£€æµ‹ç­‰å¸¸ç”¨åŠŸèƒ½çš„ Nuxt 3 æ’ä»¶ï¼Œæ—¨åœ¨è®©å¼€å‘å˜å¾—æ›´ç®€å•ã€æ›´é«˜æ•ˆã€‚</p>
<p><strong>GitHub ä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhangjob%2Fnuxt-web-plugin" target="_blank" title="https://github.com/hangjob/nuxt-web-plugin" ref="nofollow noopener noreferrer">github.com/hangjob/nuxâ€¦</a><br/>
<strong>åœ¨çº¿æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhangjob.github.io%2Fnuxt-web-plugin%2F" target="_blank" title="https://hangjob.github.io/nuxt-web-plugin/" ref="nofollow noopener noreferrer">hangjob.github.io/nuxt-web-plâ€¦</a></p>
</blockquote>
<h3 data-id="heading-1">ğŸš€ ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ’ä»¶ï¼Ÿ</h3>
<p>åœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦è§£å†³ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ol>
<li><strong>API è¯·æ±‚ç¹ç</strong>ï¼šåŸç”Ÿ <code>useFetch</code> è™½ç„¶å¥½ç”¨ï¼Œä½†ç¼ºä¹ç»Ÿä¸€çš„æ‹¦æˆªå™¨ã€é”™è¯¯å¤„ç†å’Œ Token è‡ªåŠ¨æ³¨å…¥ã€‚</li>
<li><strong>æ•°æ®å®‰å…¨ç„¦è™‘</strong>ï¼šå‰åç«¯äº¤äº’æ•æ„Ÿæ•°æ®ï¼ˆå¦‚å¯†ç ã€æ‰‹æœºå·ï¼‰è£¸å¥”ï¼Œæ‰‹åŠ¨å¼•å…¥ <code>crypto-js</code> æˆ– <code>jsencrypt</code> ä½“ç§¯å¤§ä¸”é…ç½®éº»çƒ¦ã€‚</li>
<li><strong>SEO é…ç½®é‡å¤</strong>ï¼šæ¯ä¸ªé¡µé¢éƒ½è¦æ‰‹å†™ <code>useHead</code>ï¼Œä¸ä»…ç´¯è¿˜å®¹æ˜“æ¼æ‰ Open Graph æ ‡ç­¾ã€‚</li>
<li><strong>è®¾å¤‡é€‚é…éº»çƒ¦</strong>ï¼šéœ€è¦æ‰‹åŠ¨è§£æ User-Agent æ¥åˆ¤æ–­æ˜¯ç§»åŠ¨ç«¯è¿˜æ˜¯ PC ç«¯ï¼Œæˆ–è€…æ˜¯å¦åœ¨å¾®ä¿¡ç¯å¢ƒå†…ã€‚</li>
</ol>
<p><code>nuxt-web-plugin</code> å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªè‡ƒè‚¿çš„ UI åº“ï¼Œè€Œæ˜¯ä¸€å¥—è½»é‡çº§çš„<strong>ä¸šåŠ¡é€»è¾‘å¢å¼ºå¥—ä»¶</strong>ã€‚</p>
<h3 data-id="heading-2">âœ¨ æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆ</h3>
<h4 data-id="heading-3">1. ä¼˜é›…çš„ç½‘ç»œè¯·æ±‚ (<code>useApiClient</code>)</h4>
<p>åŸºäº Nuxt <code>useFetch</code> çš„æ·±åº¦å°è£…ï¼Œæ”¯æŒå…¨å±€æ‹¦æˆªå™¨ã€è‡ªåŠ¨æºå¸¦ Tokenã€ç»Ÿä¸€é”™è¯¯å¤„ç†ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> api = <span class="hljs-title function_">useApiClient</span>()

<span class="hljs-comment">// GET è¯·æ±‚</span>
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/user/profile'</span>)

<span class="hljs-comment">// POST è¯·æ±‚ï¼ˆè‡ªåŠ¨å¤„ç† Content-Typeï¼‰</span>
<span class="hljs-keyword">await</span> api.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/auth/login'</span>, { <span class="hljs-attr">body</span>: { username, password } })
</code></pre>
<p>åœ¨ <code>nuxt.config.ts</code> ä¸­ç®€å•é…ç½®å³å¯ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'nuxt-web-plugin'</span>],
  <span class="hljs-attr">webPlugin</span>: {
    <span class="hljs-attr">network</span>: {
      <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.example.com'</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>
    }
  }
})
</code></pre>
<h4 data-id="heading-4">2. å¼€ç®±å³ç”¨çš„å®‰å…¨åŠ å¯† (<code>useCrypto</code>, <code>useWebUtils</code>)</h4>
<p>å†…ç½®äº† AES å¯¹ç§°åŠ å¯†ã€RSA éå¯¹ç§°åŠ å¯†å’Œ Hash å“ˆå¸Œè®¡ç®—ï¼Œæ— éœ€é¢å¤–å®‰è£…ä¾èµ–ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { encrypt, decrypt } = <span class="hljs-title function_">useSymmetricCrypto</span>() <span class="hljs-comment">// AES</span>
<span class="hljs-keyword">const</span> { <span class="hljs-attr">encrypt</span>: rsaEncrypt } = <span class="hljs-title function_">useAsymmetricCrypto</span>() <span class="hljs-comment">// RSA</span>
<span class="hljs-keyword">const</span> { hash } = <span class="hljs-title function_">useHash</span>() <span class="hljs-comment">// MD5, SHA-256</span>

<span class="hljs-comment">// ç¤ºä¾‹ï¼šç™»å½•å¯†ç åŠ å¯†</span>
<span class="hljs-keyword">const</span> encryptedPassword = <span class="hljs-title function_">rsaEncrypt</span>(password)
<span class="hljs-comment">// ç¤ºä¾‹ï¼šæœ¬åœ°å­˜å‚¨æ•æ„Ÿæ•°æ®</span>
<span class="hljs-keyword">const</span> secureData = <span class="hljs-title function_">encrypt</span>(userData)
</code></pre>
<h4 data-id="heading-5">3. æ‡’äººç‰ˆ SEO ä¼˜åŒ– (<code>useWebSeo</code>)</h4>
<p>ä¸€è¡Œä»£ç æå®š Titleã€Descriptionã€Keywords ä»¥åŠ Open Graph ç¤¾äº¤åˆ†äº«å¡ç‰‡ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">useWebSeo</span>({
  <span class="hljs-attr">title</span>: <span class="hljs-string">'æˆ‘çš„æ–‡ç« æ ‡é¢˜'</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">'è¿™æ˜¯ä¸€ç¯‡å…³äº Nuxt 3 æ’ä»¶çš„ä»‹ç»æ–‡ç« '</span>,
  <span class="hljs-attr">image</span>: <span class="hljs-string">'/cover.png'</span> <span class="hljs-comment">// è‡ªåŠ¨è½¬æ¢ä¸ºç»å¯¹è·¯å¾„</span>
})
</code></pre>
<h4 data-id="heading-6">4. è®¾å¤‡ä¸ç¯å¢ƒæ£€æµ‹ (<code>useDevice</code>)</h4>
<p>åœ¨ SSR å’Œå®¢æˆ·ç«¯å‡å¯å‡†ç¡®è¯†åˆ«è®¾å¤‡ç±»å‹ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> { isMobile, isDesktop, isWeChat, isIOS } = <span class="hljs-title function_">useDevice</span>()

<span class="hljs-keyword">if</span> (isMobile) {
  <span class="hljs-comment">// åŠ è½½ç§»åŠ¨ç«¯ç»„ä»¶</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-7">ğŸ› ï¸ é™„åŠ æŠ€èƒ½ï¼šå¦‚ä½•ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²æ–‡æ¡£</h3>
<p>åœ¨è¿™ä¸ªé¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä½¿ç”¨äº† <strong>VitePress</strong> ç¼–å†™æ–‡æ¡£ï¼Œå¹¶åˆ©ç”¨ <strong>GitHub Actions</strong> å®ç°äº†è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° GitHub Pagesã€‚è¿™é‡Œåˆ†äº«ä¸€ä¸‹æˆ‘çš„è¸©å‘ç»éªŒå’Œæœ€ç»ˆæ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-8">1. å‡†å¤‡ VitePress</h4>
<p>é¦–å…ˆï¼Œç¡®ä¿ä½ çš„æ–‡æ¡£é¡¹ç›®ï¼ˆé€šå¸¸åœ¨ <code>docs</code> ç›®å½•ï¼‰èƒ½æ­£å¸¸ buildã€‚</p>
<p>åœ¨ <code>docs/.vitepress/config.mts</code> ä¸­ï¼Œ<strong>æœ€å…³é”®çš„ä¸€æ­¥</strong>æ˜¯è®¾ç½® <code>base</code> è·¯å¾„ï¼Œå¿…é¡»ä¸ä½ çš„ GitHub ä»“åº“åä¸€è‡´ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// å¦‚æœä»“åº“åœ°å€æ˜¯ https://github.com/hangjob/nuxt-web-plugin</span>
  <span class="hljs-comment">// é‚£ä¹ˆ base å¿…é¡»æ˜¯ /nuxt-web-plugin/</span>
  <span class="hljs-attr">base</span>: <span class="hljs-string">'/nuxt-web-plugin/'</span>, 
  <span class="hljs-comment">// ...</span>
})
</code></pre>
<h4 data-id="heading-9">2. é…ç½® GitHub Actions</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.github/workflows/docs.yml</code>ã€‚</p>
<p><strong>é‡åˆ°çš„å‘</strong>ï¼š</p>
<ol>
<li><strong>æƒé™ä¸è¶³</strong>ï¼šGitHub Actions é»˜è®¤åªæœ‰åªè¯»æƒé™ï¼Œæ— æ³•æ¨é€åˆ° <code>gh-pages</code> åˆ†æ”¯ã€‚éœ€è¦åœ¨ä»“åº“ <code>Settings -&gt; Actions -&gt; General -&gt; Workflow permissions</code> ä¸­å¼€å¯ <code>Read and write permissions</code>ã€‚</li>
<li><strong>pnpm æ‰¾ä¸åˆ°</strong>ï¼šActions ç¯å¢ƒé»˜è®¤æ²¡æœ‰ pnpmï¼Œéœ€è¦ä¸“é—¨å®‰è£…ã€‚</li>
<li><strong>é”æ–‡ä»¶é—®é¢˜</strong>ï¼šå¦‚æœä¸æƒ³æäº¤ <code>pnpm-lock.yaml</code>ï¼Œå®‰è£…ä¾èµ–æ—¶ä¸èƒ½ç”¨ <code>--frozen-lockfile</code>ã€‚</li>
</ol>
<p><strong>æœ€ç»ˆå¯ç”¨çš„é…ç½®ï¼ˆäº²æµ‹æœ‰æ•ˆï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Docs</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [<span class="hljs-string">main</span>] <span class="hljs-comment"># æ¨é€ main åˆ†æ”¯æ—¶è§¦å‘</span>

<span class="hljs-attr">permissions:</span>
  <span class="hljs-attr">contents:</span> <span class="hljs-string">write</span> <span class="hljs-comment"># æ˜¾å¼èµ‹äºˆå†™æƒé™</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build-and-deploy:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>

      <span class="hljs-comment"># 1. å®‰è£… pnpm</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">pnpm</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">version:</span> <span class="hljs-number">9</span>
          <span class="hljs-attr">run_install:</span> <span class="hljs-literal">false</span>

      <span class="hljs-comment"># 2. è®¾ç½® Node ç¯å¢ƒ (æ¨è LTS v20 æˆ– v22)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">22</span>
          <span class="hljs-attr">cache:</span> <span class="hljs-string">pnpm</span> <span class="hljs-comment"># å¦‚æœæäº¤äº†é”æ–‡ä»¶ï¼Œå¯ä»¥ç”¨è¿™ä¸ªåŠ é€Ÿ</span>

      <span class="hljs-comment"># 3. å®‰è£…ä¾èµ– (æ— é”æ–‡ä»¶æ¨¡å¼)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">deps</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">install</span> <span class="hljs-string">--no-frozen-lockfile</span>

      <span class="hljs-comment"># 4. è§£å†³ Nuxt ç‰¹æœ‰çš„æ„å»ºé—®é¢˜ (ç”Ÿæˆ .nuxt ç›®å½•)</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Prepare</span> <span class="hljs-string">Nuxt</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">run</span> <span class="hljs-string">dev:prepare</span> 

      <span class="hljs-comment"># 5. æ„å»ºæ–‡æ¡£</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">docs</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">docs:build</span>

      <span class="hljs-comment"># 6. å‘å¸ƒåˆ° gh-pages åˆ†æ”¯</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">GitHub</span> <span class="hljs-string">Pages</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">peaceiris/actions-gh-pages@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">github_token:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">}}</span>
          <span class="hljs-attr">publish_dir:</span> <span class="hljs-string">docs/.vitepress/dist</span>
</code></pre>
<h4 data-id="heading-10">3. è‡ªåŠ¨åŒ–</h4>
<p>é…ç½®å®Œæˆåï¼Œæ¯æ¬¡ <code>git push</code>ï¼ŒGitHub Actions å°±ä¼šè‡ªåŠ¨å¸®ä½ æ„å»ºæ–‡æ¡£å¹¶å‘å¸ƒã€‚ä½ å¯ä»¥é€šè¿‡ <code>https://&lt;username&gt;.github.io/&lt;repo-name&gt;/</code> è®¿é—®ä½ çš„æ–‡æ¡£ç«™ç‚¹ã€‚</p>
<hr/>
<h3 data-id="heading-11">ğŸ’¡ ç»“è¯­</h3>
<p><strong>nuxt-web-plugin</strong> ç›®å‰è¿˜åœ¨æŒç»­è¿­ä»£ä¸­ï¼Œå¸Œæœ›èƒ½ä¸ºä½ çš„ Nuxt å¼€å‘ä¹‹æ—…å‡å°‘ä¸€äº›é‡å¤åŠ³åŠ¨ã€‚å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿æ¥ GitHub ç‚¹ä¸ª Star â­ï¸ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´]]></title>    <link>https://juejin.cn/post/7582413770091544614</link>    <guid>https://juejin.cn/post/7582413770091544614</guid>    <pubDate>2025-12-11T14:38:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582413770091544614" data-draft-id="7582413770091511846" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T14:38:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å¤§å«"/> <meta itemprop="url" content="https://juejin.cn/user/1961184474695213"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é‡ç£…ç¦åˆ©ã€‘å­¦ç”Ÿè®¤è¯å¯å…è´¹é¢†å– Gemini 3 Pro ä¸€å¹´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1961184474695213/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å¤§å«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T14:38:35.000Z" title="Thu Dec 11 2025 14:38:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>2025å¹´11æœˆ18æ—¥ï¼Œè°·æ­Œå‘å¸ƒäº†æ–°ä¸€ä»£ AI æ¨¡å‹ <code>Gemini 3</code>ï¼Œå®ƒçš„æ€§èƒ½å…¨é¢åè¶…äº† <code>ChatGPT</code>ï¼Œåœ¨æ¨ç†ã€æ•°å­¦ã€å¤šæ¨¡æ€å’Œç¼–ç¨‹è¿™å‡ ä¸ªæ ¸å¿ƒèµ›é“ä¸Šå‡ ä¹éƒ½æ˜¯å…¨èƒ½å† å†›ã€‚</p>
<h2 data-id="heading-1">é‡ç£…ç¦åˆ©</h2>
<p>ä¸€å¹´ä¼šå‘˜åªè¦ <strong>9.9</strong> å…ƒã€åŸä»· <strong>1680</strong> å…ƒã€‘ï¼Œéœ€è¦çš„æ·»åŠ å¾®ä¿¡ <strong>zm_david</strong>ï¼Œå¸®æ‚¨å®Œç¾è§£å†³ä»¥ä¸‹ 4 ä¸ªé—®é¢˜ã€‚</p>
<blockquote>
<p>âš ï¸æ³¨ï¼šä¼˜æƒ æˆªæ­¢æ—¥æœŸ 2026å¹´1æœˆ31æ—¥ã€‚</p>
</blockquote>
<h2 data-id="heading-2">1. å‡ºäº†ç‚¹é—®é¢˜ï¼ˆSomething went wrongï¼‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a21a08b85e14949b9602d42d85dda61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=BcWW2bgKihl0B2gAg2XZW6d%2BHKs%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f44cf317b4b048d1815715290a5f35a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=VUX4EBN9Z9D3%2FWUAsxTiNhgmZG0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">2. æ­¤è´¦å·æ— æ³•è®¢é˜… Google AI æ–¹æ¡ˆ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e824591cfb5a4a789bb6d49847184c5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=Dznb96xBfbPfnq0jJTa1LCA2LTc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. æ— æ³•äº«å—æ­¤ä¼˜æƒ </h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe99240dd1fe4c669b5cde9027d51bb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=1x6zhZYHG2anrc6iI18LGJY7e0w%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0dba36d7d234bccabd042ff2720e9f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=jvUZcjyd4oN9DKEDTOyJ0v5vxYo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">4. æ²¡æœ‰ Visa å¡ç»‘å®š</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/926dea6d3d934b2d9d1a0b8ad2b136df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5aSn5Y2r:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766068715&amp;x-signature=lI3qoKrhp1et36u5MxqXJV4Iy40%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨ç”¨condaï¼Ÿï¼Œè¯•è¯•uvï¼Œæé«˜åŒ…çš„å®‰è£…é€Ÿåº¦]]></title>    <link>https://juejin.cn/post/7582267229842751488</link>    <guid>https://juejin.cn/post/7582267229842751488</guid>    <pubDate>2025-12-11T13:33:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842751488" data-draft-id="7582267229842735104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨ç”¨condaï¼Ÿï¼Œè¯•è¯•uvï¼Œæé«˜åŒ…çš„å®‰è£…é€Ÿåº¦"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T13:33:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cci"/> <meta itemprop="url" content="https://juejin.cn/user/471028202210094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨ç”¨condaï¼Ÿï¼Œè¯•è¯•uvï¼Œæé«˜åŒ…çš„å®‰è£…é€Ÿåº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/471028202210094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cci
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:33:49.000Z" title="Thu Dec 11 2025 13:33:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">UVä½¿ç”¨æ•™ç¨‹</h2>
<h3 data-id="heading-1">åˆ›å»ºé¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash">uv init xxx --package
</code></pre>
<p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p>
<blockquote>
<p>æ³¨æ„å¦‚æœæƒ³è¦é¡ºç•…çš„ä½¿ç”¨ç³»ç»ŸåŒ…ï¼Œæœ€å¥½æ·»åŠ <code>--system-site-packages</code></p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">uv venv --python /usr/bin/python3.12 --system-site-packages
</code></pre>
<p>å®‰è£…ä¾èµ–</p>
<pre><code class="hljs language-bash" lang="bash">uv add toml
</code></pre>
<p>åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fpypi.org%2F" target="_blank" title="https://pypi.org/" ref="nofollow noopener noreferrer">pypi</a>ä¸Šèƒ½æ‰¾åˆ°çš„åŒ…éƒ½å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash">uv pip install pin
</code></pre>
<p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå¹¶è¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash">uv run main.py
</code></pre>
<p>ç­‰ä»·ä¸</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> .venv/bin/activate
python main.py
</code></pre>
<p>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span> -rf .venv
</code></pre>
<p>å¤ç°ç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">uv <span class="hljs-built_in">sync</span>
</code></pre>
<h3 data-id="heading-2">ç®¡ç†å‘½è¡Œå·¥å…·</h3>
<p>å…¨å±€å®‰è£…å·¥å…·</p>
<pre><code class="hljs language-bash" lang="bash">uv tool install pytest
</code></pre>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸éœ€è¦è™šæ‹Ÿç¯å¢ƒ</p>
<pre><code class="hljs language-bash" lang="bash">pytest
</code></pre>
<h3 data-id="heading-3">è°ƒç”¨å…¶ä»–é¡¹ç›®</h3>
<p>å®‰è£…åŒ…</p>
<pre><code class="hljs language-bash" lang="bash">uv pip install -e ../xxx-SDK
or
<span class="hljs-comment"># uv add --editable ../xxx-SDK</span>
</code></pre>
<p>å®‰è£…whlåŒ…</p>
<pre><code class="hljs language-bash" lang="bash">uv pip install ./xxx.whl
</code></pre>
<p>å®‰è£…å½“å‰é¡¹ç›®åˆ°å½“å‰ç¯å¢ƒ</p>
<blockquote>
<p>ç”¨äºæµ‹è¯•</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">uv pip install -e .
</code></pre>
<h3 data-id="heading-4">docs</h3>
<pre><code class="hljs language-bash" lang="bash">uv add sphinx sphinx-autodoc-typehints furo
</code></pre>
<p>åˆå§‹åŒ–Sphnix</p>
<pre><code class="hljs language-bash" lang="bash">uv run sphinx-quickstart docs
</code></pre>
<h3 data-id="heading-5">æ„å»º</h3>
<ul>
<li>å¯¹äºéœ€è¦é…ç½®æ–‡ä»¶çš„é¡¹ç›®ï¼Œæœ€å¥½ä½¿ç”¨<code>setuptools</code>ä½œä¸ºæ„å»ºåç«¯
whlåŒ…</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">uv build

uv build --wheel
</code></pre>
<p>æºç åŒ…</p>
<pre><code class="hljs language-bash" lang="bash">uv build --sdist
</code></pre>
<p>manylinux</p>
<pre><code class="hljs language-bash" lang="bash">docker run -it --<span class="hljs-built_in">rm</span> -v $(<span class="hljs-built_in">pwd</span>):/io quay.io/pypa/manylinux2014_x86_64 bash
<span class="hljs-built_in">cd</span> /io
uv build --wheel
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®¾å¤‡æ¯æ¬¡æ’å…¥Linuxè¯†åˆ«çš„ä¸²å£ä¸ä¸€æ ·ï¼Ÿè¯•è¯•udevï¼]]></title>    <link>https://juejin.cn/post/7582267229842767872</link>    <guid>https://juejin.cn/post/7582267229842767872</guid>    <pubDate>2025-12-11T13:36:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842767872" data-draft-id="7582401182934499343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®¾å¤‡æ¯æ¬¡æ’å…¥Linuxè¯†åˆ«çš„ä¸²å£ä¸ä¸€æ ·ï¼Ÿè¯•è¯•udevï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T13:36:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cci"/> <meta itemprop="url" content="https://juejin.cn/user/471028202210094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®¾å¤‡æ¯æ¬¡æ’å…¥Linuxè¯†åˆ«çš„ä¸²å£ä¸ä¸€æ ·ï¼Ÿè¯•è¯•udevï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/471028202210094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cci
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:36:41.000Z" title="Thu Dec 11 2025 13:36:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">udevè§„åˆ™</h2>
<p>1ã€ä¸æ’å…¥è®¾å¤‡æ‰§è¡Œç¡®å®šç¡¬ä»¶å±æ€§</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> /dev/tty*
</code></pre>
<p>2ã€æ’å…¥è®¾å¤‡æ‰§è¡Œç¡®å®šç«¯å£</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> /dev/tty*
</code></pre>
<p>3ã€æŸ¥å±æ€§è®°å½•è®¾å¤‡çš„idVendorã€idProductã€serialï¼ˆæˆ– manufacturer/productï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°½é‡ä½¿ç”¨ serial æ¥åŒºåˆ†åŒå‹å·è®¾å¤‡ï¼›å¦‚æœä¸¤è®¾å¤‡å‹å·ä¸åŒï¼ŒidVendor + idProduct å°±å¤Ÿ</span>
udevadm info -a -n /dev/ttyACM0 | <span class="hljs-built_in">head</span> -n 100
æˆ–
udevadm info -a -n /dev/ttyACM0 | grep -E <span class="hljs-string">'ATTRS{serial}|ATTRS{product}|ATTRS{manufacturer}|ATTRS{idProduct}|bInterfaceNumber'</span>
</code></pre>
<p>4ã€ç¼–å†™udevè§„åˆ™</p>
<blockquote>
<p>æŠŠ vvvv/pppp/serial æ›¿æ¢æˆä¸Šä¸€æ­¥æŸ¥åˆ°çš„å€¼
å¦‚æœä¸¤è€…æ˜¯åŒå“ç‰ŒåŒå‹å·ä½†åºåˆ—å·ä¸åŒï¼Œä½¿ç”¨ serial åŒºåˆ†ï¼›å¦‚æœåºåˆ—å·ç¼ºå¤±ï¼Œå¯ä»¥ç”¨ ATTRS{product}/ATTRS{manufacturer} æˆ– KERNELS=="1-2.3:1.0" è¿™æ ·çš„ç«¯å£è·¯å¾„ï¼ˆä¾èµ– hub æ‹“æ‰‘ï¼Œä¸å¦‚åºåˆ—å·ç¨³ï¼‰</p>
</blockquote>
<pre><code class="hljs language-rules" lang="rules"># IMU
SUBSYSTEM=="tty", ATTRS{idVendor}=="1a86", ATTRS{idProduct}=="55d4", ATTRS{serial}=="5B0B029760", SYMLINK+="ttyIMU"
# Battery
SUBSYSTEM=="tty", ATTRS{idVendor}=="1a86", ATTRS{idProduct}=="55d3", ATTRS{serial}=="5A31010829", SYMLINK+="ttyBattery"
# Camera
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:1:1.0", SYMLINK+="Camera-left"
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:2:1.0", SYMLINK+="Camera-right"
</code></pre>
<p>5ã€æ·»åŠ è§„åˆ™</p>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/udev/rules.d/99-custom-tty.rules
</code></pre>
<p>6ã€ é‡è½½å¹¶åº”ç”¨</p>
<pre><code class="hljs language-bash" lang="bash">sudo udevadm control --reload
sudo udevadm trigger --subsystem-match=<span class="hljs-built_in">tty</span>
</code></pre>
<p>7ã€éªŒè¯ï¼šé‡æ–°æ’æ‹”æˆ–ç”¨</p>
<pre><code class="hljs language-bash" lang="bash">sudo udevadm trigger
</code></pre>
<p>æ£€æŸ¥æ˜¯å¦æŒ‡å‘å¯¹åº” ttyACM*</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -l /dev/ttyIMU /dev/ttyBattery
</code></pre>
<h2 data-id="heading-1">Camera</h2>
<p>1ã€å…ˆçœ‹çœ‹ç³»ç»Ÿå·²æœ‰çš„å”¯ä¸€å</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -l /dev/v4l/by-id
</code></pre>
<p>2ã€æŸ¥ç«¯å£è·¯å¾„</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŒä¸€ä¸ªå‹å·</span>
<span class="hljs-built_in">ls</span> -l /dev/v4l/by-path
æˆ–
<span class="hljs-comment"># ä¸åŒå‹å·æˆ–ä¸åŒå‚å•†</span>
udevadm info --name=/dev/video3 | grep -E <span class="hljs-string">'ID_SERIAL|ID_SERIAL_SHORT|ID_PATH|ID_V4L_PRODUCT|idVendor|idProduct|serial'</span>
</code></pre>
<p>ä¾‹å¦‚ç»“æœä¸º</p>
<pre><code class="hljs language-bash" lang="bash">~ â†’ <span class="hljs-built_in">ls</span> -l /dev/v4l/by-path
æ€»è®¡ 0
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:1:1.0-video-index0 -&gt; ../../video0
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:1:1.0-video-index1 -&gt; ../../video1
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:2:1.0-video-index0 -&gt; ../../video2
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usb-0:2:1.0-video-index1 -&gt; ../../video3
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:1:1.0-video-index0 -&gt; ../../video0
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:1:1.0-video-index1 -&gt; ../../video1
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:2:1.0-video-index0 -&gt; ../../video2
lrwxrwxrwx 1 root root 12 Dec 11 20:58 pci-0000:00:14.0-usbv3-0:2:1.0-video-index1 -&gt; ../../video3
</code></pre>
<p>åˆ™udevè§„åˆ™ä¸º</p>
<pre><code class="hljs language-rules" lang="rules"># Camera
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:1:1.0", SYMLINK+="Camera-left"
SUBSYSTEM=="video4linux", ATTR{index}=="0", ENV{ID_PATH}=="pci-0000:00:14.0-usb-0:2:1.0", SYMLINK+="Camera-right"
</code></pre>
<p>æ‰§è¡Œä¸Šè¿°ç¬¬5æ­¥ï¼ŒéªŒè¯</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> -l /dev/Camera-left /dev/Camera-right
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Wireshark TS | å…³é—­è¿æ¥å’Œè¶…æ—¶é‡ä¼ ]]></title>    <link>https://juejin.cn/post/7582438809377996842</link>    <guid>https://juejin.cn/post/7582438809377996842</guid>    <pubDate>2025-12-11T13:42:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809377996842" data-draft-id="7582438809377964074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Wireshark TS | å…³é—­è¿æ¥å’Œè¶…æ—¶é‡ä¼ "/> <meta itemprop="keywords" content="Wireshark,TCP/IP,ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-11T13:42:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="7ACE"/> <meta itemprop="url" content="https://juejin.cn/user/4033458369739741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Wireshark TS | å…³é—­è¿æ¥å’Œè¶…æ—¶é‡ä¼ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4033458369739741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    7ACE
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T13:42:08.000Z" title="Thu Dec 11 2025 13:42:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ¥è‡ªäºæŠ€æœ¯ç¾¤è®¨è®ºçš„ä¸€ä¸ªé—®é¢˜ï¼ŒåŸè¯å¦‚ä¸‹ï¼š</p>
<p>ã€Œè®¨è®ºä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“tcpçš„è¶…æ—¶é‡ä¼ æœºåˆ¶ã€‚åœ¨è¶…æ—¶é‡ä¼ è¿‡ç¨‹ä¸­ï¼Œå¦‚ç¬¬9æ¬¡é‡ä¼ é—´éš”è¦ç­‰å¾…52sã€‚é—®é¢˜ï¼šåœ¨52sé—´éš”è¿˜æ²¡æœ‰åˆ°ï¼Œæ­¤æ—¶ä¸Šå±‚åº”ç”¨ä¸»åŠ¨æ”¾å¼ƒäº†ï¼Œè¿™ä¸ªé‡ä¼ è¿˜ä¼šå‡ºç°å—ï¼Ÿã€</p>
<p>æŒ‰ç…§è‡ªå·±çš„ç†è§£ï¼Œæˆ‘ç®€å•å†™è¿™ä¹ˆä¸€ç¯‡æ–‡ç« ï¼Œè®¨è®ºä¸‹è¯¥é—®é¢˜ï¼Œåå­—ä¹Ÿå°±éšä¾¿èµ·äº†ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p><strong>é—®é¢˜ç®€åŒ–æˆï¼šåœ¨æ•°æ®æ®µè¶…æ—¶é‡ä¼ è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸Šå±‚åº”ç”¨ä¸»åŠ¨å…³é—­è¿æ¥ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ã€‚</strong></p>
<p>é¦–å…ˆæ˜¯åº”ç”¨ä¸»åŠ¨å…³é—­è¿æ¥çš„æ–¹å¼ï¼Œä¸€ç§æ˜¯æ­£å¸¸ TCP å››æ¬¡æŒ¥æ‰‹é€šè¿‡ FIN ç»ˆæ­¢è¿æ¥çš„è¿‡ç¨‹ç§°ä¸º orderly releaseï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥ä¸»åŠ¨ Reset ä¸€ä¸ª TCP è¿æ¥ï¼Œå¹¶ä¸”ä¸éœ€è¦å¾—åˆ°ç¡®è®¤ï¼Œè¿™ç§æƒ…å†µä¸‹çš„è¿æ¥ä¸­æ–­è¿‡ç¨‹ç§°ä¸º abortive releaseã€‚</p>
<p>orderly release å¯ä»¥è¯´æ˜¯ä¸€ç§ä¼˜é›…çš„å››æ¬¡æŒ¥æ‰‹è¿‡ç¨‹ï¼Œé€šè¿‡ FIN å’Œ ACK åŒ…çš„äº¤æ¢ç¡®ä¿åŒæ–¹éƒ½å®Œæˆæ•°æ®ä¼ è¾“å¹¶å®‰å…¨å…³é—­è¿æ¥ï¼›è€Œ abortive release åˆ™æ˜¯é€šè¿‡å‘é€ RST åŒ…æ¥å¼ºåˆ¶ç«‹å³ç»ˆæ­¢è¿æ¥çš„æ–¹å¼ï¼Œå®ƒä¼šä¸¢å¼ƒæ‰€æœ‰æœªå‘é€çš„æ•°æ®å¹¶è·³è¿‡æ­£å¸¸çš„å…³é—­æµç¨‹ï¼Œé€šå¸¸ç”¨äºå¤„ç†é”™è¯¯æƒ…å†µæˆ–éœ€è¦ç´§æ€¥æ–­å¼€è¿æ¥çš„åœºæ™¯ã€‚</p>
<p>å¦‚æœæ˜¯æœ¬ç«¯æ­£å¸¸ FIN ï¼Œè¿æ¥å®é™…è¿˜å­˜åœ¨ï¼Œè€Œç›´æ¥ RSTï¼Œè¿æ¥å°±åº”è¯¥ä¸å­˜åœ¨äº†ï¼Œä»¥ä¸‹å°±è¿™ä¸¤ç§æƒ…å†µåˆ†åˆ«åšä¸‹æµ‹è¯•ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜æµ‹è¯•</h2>
<p>é’ˆå¯¹ orderly releaseï¼Œå¯ä»¥é€šè¿‡ packetdrill è„šæœ¬æ¨¡æ‹Ÿï¼Œå¦‚ä¸‹ï¼Œåœ¨å°è¯•å†™å…¥ 100 å­—èŠ‚æ•°æ®åï¼Œå¹¶æ²¡æœ‰æ¨¡æ‹Ÿæ”¶åˆ° ACK ç¡®è®¤ï¼Œå› æ­¤ä¼šè¿›å…¥è¶…æ—¶é‡ä¼ è¿‡ç¨‹ï¼Œç„¶åé—´éš” 1 ç§’åä¸»åŠ¨å…³é—­è¿æ¥ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># cat test.pkt 
0  socket(..., SOCK_STREAM, IPPROTO_TCP) = 3
+0 setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
+0 bind(3, ..., ...) = 0
+0 listen(3, 1) = 0

+0 &lt; S 0:0(0) win 10000 &lt;mss 1000,nop,nop,sackOK&gt;
+0 &gt; S. 0:0(0) ack 1 &lt;...&gt;
+0.05 &lt; . 1:1(0) ack 1 win 10000
+0 accept(3, ..., ...) = 4

+0.01 write(4,...,100) = 100

+1 close(4) = 0

+0 `sleep 10`
#
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ã€‚</p>
<p>å¯ä»¥çœ‹åˆ°å‘é€ç«¯åœ¨å‘å‡ºæ•°æ®æ®µ Seq 1:101 åï¼Œç”±äºå¾—ä¸åˆ° ACK ç¡®è®¤ï¼Œæ‰€ä»¥åœ¨ä¸æ–­è¿›è¡Œè¶…æ—¶é‡ä¼ ï¼Œåœ¨é‡ä¼ ä¸¤æ¬¡åï¼Œåº”ç”¨å…³é—­è¿æ¥ï¼Œå› æ­¤æ­£å¸¸å‘å‡ºäº† FIN æ•°æ®åŒ… Seq 101 ï¼Œä½†åŒæ ·å¾—ä¸åˆ° ACK ç¡®è®¤ï¼Œä¹‹åä»ç„¶æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®æ®µåœ¨ä¸æ–­è¿›è¡Œè¶…æ—¶é‡ä¼ ï¼ŒRTO æ—¶é—´ä¸æ–­ç¿»å€ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># packetdrill test.pkt
#


# tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
22:09:23.954982 tun0  In  IP 192.0.2.1.38747 &gt; 192.168.55.3.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
22:09:23.955012 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [S.], seq 767095716, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
22:09:24.005104 tun0  In  IP 192.0.2.1.38747 &gt; 192.168.55.3.8080: Flags [.], ack 1, win 10000, length 0
22:09:24.015337 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:24.274691 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:24.530705 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:25.015412 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [F.], seq 101, ack 1, win 64240, length 0
22:09:25.042696 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:26.066702 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:28.114731 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:32.242783 tun0  Out IP 192.168.55.3.8080 &gt; 192.0.2.1.38747: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:09:35.017335 ?     In  IP 192.0.2.1.38747 &gt; 192.168.55.3.8080: Flags [R.], seq 1, ack 1, win 10000, length 0
#
</code></pre>
<p>å¦å¤–ä¸Šè¿°å®éªŒè¿˜æœ‰ä¸€ä¸ªç°è±¡ï¼Œå°±æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®æ®µæ²¡æœ‰å¾—åˆ° ACK ç¡®è®¤ä»è€Œä¸æ–­é‡ä¼ çš„è¿‡ç¨‹ä¸­ï¼ŒFIN å¹¶ä¸ä¼šè¿›å…¥è¶…æ—¶é‡ä¼ ï¼Œè¿™ä¸ªå’Œè¿ç»­å‘ä¸¤ä¸ªæ•°æ®æ®µï¼Œåœ¨å‘ç”Ÿè¶…æ—¶é‡ä¼ åï¼Œå› ä¸ºæ‹¥å¡çª—å£é™ä¸ºäº† 1 ï¼Œæ‰€ä»¥è¶…æ—¶é‡ä¼ ç¬¬ä¸€ä¸ªæ•°æ®æ®µçš„æƒ…å†µä¸€æ ·ï¼Œæ¯•ç«Ÿ FIN å®é™…ä¸Šä¹Ÿæ˜¯å¸¦æœ‰ 1 ä¸ªå­—èŠ‚ï¼Œéœ€è¦å¾—åˆ° ACK ç¡®è®¤çš„ã€‚</p>
<p>ç»§ç»­ä¿®æ”¹è„šæœ¬ï¼Œåœ¨ close() ä¹‹åï¼Œå¢åŠ å¯¹ç¬¬ä¸€ä¸ªæ•°æ®æ®µçš„ ACK ç¡®è®¤ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># cat test.pkt 
0  socket(..., SOCK_STREAM, IPPROTO_TCP) = 3
+0 setsockopt(3, SOL_SOCKET, SO_REUSEADDR, [1], 4) = 0
+0 bind(3, ..., ...) = 0
+0 listen(3, 1) = 0

+0 &lt; S 0:0(0) win 10000 &lt;mss 1000,nop,nop,sackOK&gt;
+0 &gt; S. 0:0(0) ack 1 &lt;...&gt;
+0.05 &lt; . 1:1(0) ack 1 win 10000
+0 accept(3, ..., ...) = 4

+0.01 write(4,...,100) = 100

+1 close(4) = 0

+0.5 &lt; . 1:1(0) ack 101 win 10000

+0 `sleep 10`
#
</code></pre>
<p>æ‰§è¡Œè„šæœ¬ï¼ŒåŒæ—¶é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ã€‚</p>
<p>ç›¸æ¯”ä¸Šé¢çš„å®éªŒï¼Œå¯ä»¥çœ‹åˆ°åœ¨ç¬¬ä¸€ä¸ªæ•°æ®æ®µå¾—åˆ° ACK ç¡®è®¤åï¼Œç´§æ¥ç€å¼€å§‹äº† FIN æ•°æ®åŒ…çš„è¶…æ—¶é‡ä¼ è¿‡ç¨‹ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># packetdrill test.pkt 
#


# tcpdump -i any -nn port 8080
tcpdump: data link type LINUX_SLL2
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes
22:36:37.955006 tun0  In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [S], seq 0, win 10000, options [mss 1000,nop,nop,sackOK], length 0
22:36:37.955042 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [S.], seq 124772434, ack 1, win 64240, options [mss 1460,nop,nop,sackOK], length 0
22:36:38.005152 tun0  In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [.], ack 1, win 10000, length 0
22:36:38.015262 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:38.290753 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:38.550713 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:39.015312 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:39.058694 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [P.], seq 1:101, ack 1, win 64240, length 100: HTTP
22:36:39.515373 tun0  In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [.], ack 101, win 10000, length 0
22:36:39.515402 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:40.530729 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:42.578719 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:46.802696 tun0  Out IP 192.168.50.67.8080 &gt; 192.0.2.1.55011: Flags [F.], seq 101, ack 1, win 64240, length 0
22:36:49.518141 ?     In  IP 192.0.2.1.55011 &gt; 192.168.50.67.8080: Flags [R.], seq 1, ack 101, win 10000, length 0
#
</code></pre>
<p>é’ˆå¯¹ abortive releaseï¼Œä¹Ÿå°±æ˜¯ä¸»åŠ¨é€šè¿‡ RST å…³é—­è¿æ¥ï¼Œå®é™…ä¸Šæ˜¯å¯ä»¥é€šè¿‡è®¾ç½® SO_LINGER é€‰é¡¹æ¥è¾¾åˆ°ç›®çš„ã€‚ä½†ç ”ç©¶äº†ä¸‹ packetdrill è„šæœ¬ï¼Œå°è¯•äº†å¾ˆå¤šæ¬¡ï¼Œå‘ç°æ— æ³•æ¨¡æ‹Ÿå‡ºæ•ˆæœ ğŸ˜… ï¼Œæ‰€ä»¥æ”¹ç”¨äº† python æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">å®¢æˆ·ç«¯
#!/usr/bin/env python3

import socket
import struct
import time

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
client.bind(('', 50000))
client.connect(('localhost', 9999))

client.sendall(b'1234567890')
time.sleep(1)

# è®¾ç½® SO_LINGER é€‰é¡¹ï¼Œå…³é—­æ—¶è§¦å‘ RST
l_onoff = 1    # å¯ç”¨ SO_LINGER
l_linger = 0   # è®¾ç½®å»¶è¿Ÿæ—¶é—´ä¸º 0 ç§’
client.setsockopt(socket.SOL_SOCKET, socket.SO_LINGER, struct.pack('ii', l_onoff, l_linger))

# å…³é—­ socketï¼Œä¼šè§¦å‘ RST è€Œä¸æ˜¯ FIN
client.close()

time.sleep(10)
</code></pre>
<pre><code class="hljs language-plain" lang="plain">æœåŠ¡å™¨ç«¯
#!/usr/bin/env python3

import socket
import time

server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
server.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)
server.bind(('localhost', 9999))
server.listen(5)
print("Server is running...")

while True:
    client, addr = server.accept()
</code></pre>
<p>ç„¶ååœ¨æœåŠ¡å™¨ç«¯é€šè¿‡ iptables è¿‡æ»¤äº† PSH å’Œ RST æ•°æ®åŒ…ã€‚</p>
<pre><code class="hljs language-plain" lang="plain">iptables -A INPUT -p tcp --dport 9999 --tcp-flags PSH PSH -j DROP
iptables -A INPUT -p tcp --dport 9999 --tcp-flags RST RST -j DROP
</code></pre>
<p>é€šè¿‡ tcpdump æŠ“å–æ•°æ®åŒ…ï¼Œç°è±¡å¦‚ä¸‹ï¼Œåº”ç”¨é€šè¿‡ RST å…³é—­è¿æ¥åï¼Œç¬¬ä¸€ä¸ªæ•°æ®æ®µçš„è¶…æ—¶é‡ä¼ è¿‡ç¨‹å°±ç»ˆæ­¢äº†ï¼ŒåŒæ—¶æœ¬åœ°è¿æ¥ä¹Ÿå°±é‡Šæ”¾äº†ã€‚</p>
<pre><code class="hljs language-plain" lang="plain"># tcpdump -i any -nn port 9999                                                   
tcpdump: data link type LINUX_SLL2                                                               
tcpdump: verbose output suppressed, use -v[v]... for full protocol decode                        
listening on any, link-type LINUX_SLL2 (Linux cooked v2), snapshot length 262144 bytes           
21:07:59.283332 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [S], seq 3881859695, win 654
95, options [mss 65495,sackOK,TS val 3838123872 ecr 0,nop,wscale 7], length 0                    
21:07:59.283346 lo    In  IP 127.0.0.1.9999 &gt; 127.0.0.1.50000: Flags [S.], seq 946078152, ack 388
1859696, win 65483, options [mss 65495,sackOK,TS val 3838123872 ecr 3838123872,nop,wscale 7], len
gth 0                                                                                            
21:07:59.283355 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [.], ack 1, win 512, options
 [nop,nop,TS val 3838123872 ecr 3838123872], length 0                                            
21:07:59.283385 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838123872 ecr 3838123872], length 10                                
21:07:59.490698 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838124080 ecr 3838123872], length 10                                
21:07:59.698728 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838124288 ecr 3838123872], length 10                                
21:08:00.114705 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [P.], seq 1:11, ack 1, win 5
12, options [nop,nop,TS val 3838124704 ecr 3838123872], length 10                                
21:08:00.284543 lo    In  IP 127.0.0.1.50000 &gt; 127.0.0.1.9999: Flags [R.], seq 11, ack 1, win 512
, options [nop,nop,TS val 3838124873 ecr 3838123872], length 0
</code></pre>
<h2 data-id="heading-3">é—®é¢˜æ€»ç»“</h2>
<p>å½“ç„¶ï¼Œå°±ä¸ªäººæ¥è¯´ï¼Œæˆ‘åˆ°æ˜¯æ²¡æœ‰è§åˆ°å®é™…ç¯å¢ƒæœ‰è¿™æ ·çš„ç°è±¡ï¼Œä½†åŸç†æ€»æ˜¯é‚£äº›ï¼Œé€šè¿‡å®éªŒä¹ŸéªŒè¯äº†é—®é¢˜çš„ç­”æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™]]></title>    <link>https://juejin.cn/post/7582397035942739974</link>    <guid>https://juejin.cn/post/7582397035942739974</guid>    <pubDate>2025-12-11T12:20:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582397035942739974" data-draft-id="7582406735387836422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€  â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™"/> <meta itemprop="keywords" content="å‰ç«¯,Vite,React.js"/> <meta itemprop="datePublished" content="2025-12-11T12:20:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨å¤œå¯»æ™´å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1943592288391496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€  â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592288391496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨å¤œå¯»æ™´å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:20:02.000Z" title="Thu Dec 11 2025 12:20:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜ä»‹ç»</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fui.shadcn.com%2Fdocs%2Finstallation%2Fvite" target="_blank" title="https://ui.shadcn.com/docs/installation/vite" ref="nofollow noopener noreferrer">ui.shadcn.com/docs/instalâ€¦</a></p>
<p>æŒ‰ç…§è¿™ä¸ªå®˜æ–¹æ–‡æ¡£é…ç½® <strong>shadcn + vite</strong> é¡¹ç›®åï¼Œé‡åˆ°ä¸ªé”™è¯¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89a0379d56374caaacdc4ceef45f8d7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5aSc5a-75pm05aSp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060401&amp;x-signature=lB8%2BS59kjl4XQorEp9JIb7NxrEY%3D" alt="image.png" loading="lazy"/></p>
<p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œç†åº”æ˜¯æ²¡æœ‰é”™è¯¯çš„ï¼Œä½†æ˜¯æˆ‘çš„é¡¹ç›®ç‰¹æ®Šç‚¹å°±åœ¨äºæ˜¯ä¸€ä¸ª <strong>Monorepo</strong> é¡¹ç›®ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“ä½ åœ¨ä¸€ä¸ª Monorepo é‡Œä½¿ç”¨ TypeScript + ESLintï¼ˆFlat Configï¼Œ<code>eslint.config.js</code>ï¼‰æ—¶ï¼Œå¸¸ä¼šé‡åˆ°ä¸‹é¢è¿™ä¸ªè§£æé”™è¯¯ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">Parsing error: No tsconfigRootDir was <span class="hljs-built_in">set</span>, and multiple candidate TSConfigRootDirs are present:
  - /Users/.../packages/SearchChat 
  - /Users/.../packages/SearchChatUI
You<span class="hljs-string">'ll need to explicitly set tsconfigRootDir in your parser options.
See: https://typescript-eslint.io/packages/parser/#tsconfigrootdireslint
</span></code></pre>
<hr/>
<h2 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h2>
<ul>
<li>Monorepo é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">/Users/.../ui-common
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ react-jsx/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ChatMessage/
â”‚   â”œâ”€â”€ CustomIcons/
â”‚   â”œâ”€â”€ DatePicker/
â”‚   â”œâ”€â”€ DropdownList/
â”‚   â”œâ”€â”€ EntityUI/
â”‚   â””â”€â”€ SearchChatUI/
â””â”€â”€ pnpm-workspace.yaml
</code></pre>
<ul>
<li>æ¯ä¸ªåŒ…ï¼ˆä¾‹å¦‚ <code>packages/SearchChatUI</code>ï¼‰é€šå¸¸éƒ½æœ‰è‡ªå·±çš„ <code>tsconfig.json</code>ï¼ˆå« <code>references</code> åˆ° <code>tsconfig.app.json</code> / <code>tsconfig.node.json</code>ï¼‰ã€<code>eslint.config.js</code>ã€<code>package.json</code>ã€‚</li>
<li>ESLint åœ¨å¯ç”¨ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼ˆæˆ–éœ€è¦ç±»å‹ä¿¡æ¯çš„é…ç½®ï¼‰æ—¶ï¼Œä¼šé€šè¿‡ <code>@typescript-eslint/parser</code> åŠ è½½ TypeScript Programï¼Œè¿™éœ€è¦æ˜ç¡®å‘Šè¯‰å®ƒï¼šä»¥å“ªä¸ªç›®å½•ä¸ºæ ¹å»è§£æ <code>project</code>ï¼ˆ<code>tsconfig*.json</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">é”™è¯¯ç°è±¡</h2>
<ul>
<li>åœ¨ Monorepo æ ¹æˆ–ä»»ä¸€åŒ…é‡Œè¿è¡Œ <code>eslint</code>ï¼ŒæŠ¥é”™æ˜¾ç¤ºå‘ç°å¤šä¸ªå€™é€‰ <code>TSConfigRootDir</code>ã€‚</li>
<li>è¿™æ˜¯å› ä¸ºè§£æå™¨è¯•å›¾è‡ªåŠ¨æ¢æµ‹ tsconfig æ ¹ç›®å½•ï¼Œä½†åŒæ—¶çœ‹åˆ°äº†å¤šä¸ªåŒ…çš„ tsconfigï¼Œäºæ˜¯æ‹’ç»ç»§ç»­ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">åŸå› åˆ†æ</h2>
<ul>
<li>TypeScript-ESLint çš„è§£æå™¨éœ€è¦ä¸€ä¸ªâ€œæ ¹ç›®å½•â€ï¼ˆ<code>tsconfigRootDir</code>ï¼‰æ¥è§£é‡Šä½ æä¾›çš„ <code>parserOptions.project</code>ï¼ˆå³å“ªäº› <code>tsconfig*.json</code> å‚ä¸æ„å»ºç±»å‹ä¿¡æ¯ï¼‰ã€‚</li>
<li>åœ¨ Monorepo ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®ä¸ºæ¯ä¸ªåŒ…è®¾å®šç‹¬ç«‹çš„ <code>tsconfigRootDir</code> ä¸å¯¹åº”çš„ <code>project</code>ï¼Œè§£æå™¨ä¼šåœ¨å·¥ä½œåŒºå†…â€œçœ‹è§â€å¤šä¸ªåŒ…çš„ tsconfigï¼Œä»è€Œæ— æ³•ç¡®å®šåˆ°åº•åº”è¯¥ç”¨å“ªä¸ªæ ¹ï¼Œæœ€ç»ˆæŠ¥é”™ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">å¿«é€Ÿä¿®å¤ï¼ˆé’ˆå¯¹å•ä¸ªåŒ…ï¼‰</h2>
<p>ä»¥ <code>packages/SearchChatUI</code> ä¸ºä¾‹ï¼Œç»™å®ƒçš„ <code>eslint.config.js</code> å¢åŠ æ˜ç¡®çš„ <code>parserOptions.tsconfigRootDir</code> å’Œ <code>parserOptions.project</code> å³å¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// packages/SearchChatUI/eslint.config.js</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">'@eslint/js'</span>
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">'globals'</span>
<span class="hljs-keyword">import</span> reactHooks <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-react-hooks'</span>
<span class="hljs-keyword">import</span> reactRefresh <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-react-refresh'</span>
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript-eslint'</span>
<span class="hljs-keyword">import</span> { defineConfig, globalIgnores } <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint/config'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  <span class="hljs-title function_">globalIgnores</span>([<span class="hljs-string">'dist'</span>]),
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [
      js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      reactHooks.<span class="hljs-property">configs</span>.<span class="hljs-property">flat</span>.<span class="hljs-property">recommended</span>,
      reactRefresh.<span class="hljs-property">configs</span>.<span class="hljs-property">vite</span>,
    ],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-comment">// å…³é”®è®¾ç½®ï¼šæŒ‡å‘å½“å‰åŒ…ç›®å½•ï¼Œé¿å… Monorepo ä¸‹çš„å¤š tsconfig æ··æ·†</span>
        <span class="hljs-attr">tsconfigRootDir</span>: __dirname,
        <span class="hljs-comment">// æŒ‡å®šå½“å‰åŒ…ä½¿ç”¨çš„ tsconfig åˆ—è¡¨ï¼ˆè·¯å¾„ç›¸å¯¹äº tsconfigRootDirï¼‰</span>
        <span class="hljs-attr">project</span>: [
          <span class="hljs-string">'./tsconfig.json'</span>,
          <span class="hljs-string">'./tsconfig.app.json'</span>,
          <span class="hljs-string">'./tsconfig.node.json'</span>,
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
])
</code></pre>
<p><strong>éªŒè¯ï¼š</strong></p>
<ul>
<li>è¿›å…¥åŒ…ç›®å½•è¿è¡Œ <code>npm run lint</code>ï¼ˆä¿è¯å‘½ä»¤åœ¨åŒ…å†…æ‰§è¡Œï¼‰</li>
<li>é¢„æœŸä¸å†å‡ºç° Parsing error</li>
</ul>
<hr/>
<h2 data-id="heading-5">åœ¨ Monorepo æ ¹ç»Ÿä¸€é…ç½®çš„åšæ³•ï¼ˆæ¨èï¼‰</h2>
<p>å¦‚æœä½ å€¾å‘äºåœ¨æ ¹ç›®å½•æ”¾ä¸€ä¸ªç»Ÿä¸€çš„ <code>eslint.config.js</code>ï¼Œå¯ä»¥ä½¿ç”¨ <strong>â€œæŒ‰åŒ… overrideâ€</strong> çš„æ–¹å¼ï¼Œè®©æ¯ä¸ªåŒ…éƒ½æ˜ç¡®è‡ªå·±çš„ <code>tsconfigRootDir</code> å’Œ <code>project</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼ŒæŒ‰éœ€è°ƒæ•´åŒ…è·¯å¾„ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// eslint.config.js at workspace root</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint/config'</span>
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">'globals'</span>
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript-eslint'</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">'@eslint/js'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">const</span> rootDir = path.<span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))
<span class="hljs-keyword">const</span> <span class="hljs-title function_">pkg</span> = (<span class="hljs-params">dir</span>) =&gt; path.<span class="hljs-title function_">join</span>(rootDir, <span class="hljs-string">'packages'</span>, dir)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'packages/SearchChatUI/**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>, tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>),
        <span class="hljs-attr">project</span>: [
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.app.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.node.json'</span>),
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'packages/SearchChat/**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>, tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>),
        <span class="hljs-attr">project</span>: [
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.app.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.node.json'</span>),
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
  <span class="hljs-comment">// ä¸ºå…¶ä»–åŒ…ç»§ç»­æ·»åŠ  overrides...</span>
])
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li>æ¯ä¸ªåŒ…çš„ override éƒ½æ‹¥æœ‰è‡ªå·±çš„ <code>tsconfigRootDir</code>ã€‚</li>
<li><code>project</code> æ•°ç»„ä¸­çš„è·¯å¾„è¦åŸºäºè¯¥åŒ…ç›®å½•ã€‚</li>
<li>ä¿æŒæŒ‰åŒ…è¿è¡Œ <code>eslint .</code>ï¼ˆæˆ–é€šè¿‡ workspace è„šæœ¬å®šä½åˆ°åŒ…ï¼‰èƒ½å‡å°‘è·¯å¾„è§£ææ··ä¹±ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">å¸¸è§å‘ä½ä¸æç¤º</h2>
<ul>
<li><code>project</code> è·¯å¾„å¿…é¡»ç›¸å¯¹äº <code>tsconfigRootDir</code>ï¼Œä¸è¦å†™ç›¸å¯¹äºå·¥ä½œåŒºæ ¹çš„è·¯å¾„ã€‚</li>
<li>è‹¥ä½ ä½¿ç”¨çš„æ˜¯ TypeScript-ESLint çš„â€œç±»å‹æ„ŸçŸ¥â€é…ç½®ï¼ˆä¾‹å¦‚ <code>tseslint.configs.recommendedTypeChecked</code> æˆ–å¯ç”¨äº†éœ€è¦ç±»å‹ä¿¡æ¯çš„è§„åˆ™ï¼‰ï¼Œä¸€å®šè¦æä¾› <code>tsconfigRootDir</code> ä¸ <code>project</code>ã€‚</li>
<li>å¦‚æœä½ ä¸éœ€è¦ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼ˆä¸ºäº†æ›´å¿«çš„æ€§èƒ½ï¼‰ï¼Œå¯ä»¥åªç”¨é type-checked çš„æ¨èé›†ï¼Œçœç•¥ <code>project</code>ï¼ˆä½†è¦æƒè¡¡è§„åˆ™èƒ½åŠ›ï¼‰ï¼š
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">extends</span>: [tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>] <span class="hljs-comment">// éç±»å‹æ„ŸçŸ¥</span>
<span class="hljs-comment">// ä¸è®¾ç½® parserOptions.project</span>
</code></pre>
</li>
<li>åœ¨åŒ…å†…è¿è¡Œ <code>npm run lint</code>ï¼ˆ<code>eslint .</code>ï¼‰æ¯”åœ¨æ ¹éšæ„è¿è¡Œæ›´å¯æ§ã€‚</li>
<li>ESM ç¯å¢ƒä¸‹ï¼Œè¦ç”¨ <code>fileURLToPath(import.meta.url)</code> è·å–å½“å‰æ–‡ä»¶è·¯å¾„æ¥è®¡ç®— <code>__dirname</code>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">éªŒè¯æ­¥éª¤</h2>
<ol>
<li>åœ¨ç›®æ ‡åŒ…ç›®å½•æ‰§è¡Œï¼š
<ul>
<li><code>npm run lint</code></li>
</ul>
</li>
<li>ç¡®è®¤ä¸å†å‡ºç° â€œNo tsconfigRootDir was set â€¦ multiple candidate TSConfigRootDirs â€¦â€ çš„é”™è¯¯ã€‚</li>
<li>å¦‚æœè¿˜æœ‰åŒ…æŠ¥åŒæ ·é”™è¯¯ï¼Œé€ä¸ªä¸ºå®ƒä»¬çš„é…ç½®æ·»åŠ  <code>tsconfigRootDir</code> å’Œ <code>project</code>ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">æ€§èƒ½ä¸ç±»å‹æ„ŸçŸ¥</h2>
<ul>
<li>ç±»å‹æ„ŸçŸ¥è§„åˆ™éœ€è¦æ„å»º TypeScript Programï¼Œè§£æå™¨ä¼šåŠ è½½å¹¶åˆ†æ <code>project</code> æŒ‡å®šçš„ tsconfigï¼›åœ¨å¤§ Monorepo ä¸­è¿™å¯èƒ½è¾ƒæ…¢ã€‚</li>
<li>æ¨èåšæ³•ï¼š
<ul>
<li>åªæœ‰åœ¨ç¡®å®éœ€è¦ç±»å‹è§„åˆ™çš„åŒ…ä¸Šå¼€å¯ <code>project</code>ã€‚</li>
<li>ä½¿ç”¨æŒ‰åŒ… override æ§åˆ¶èŒƒå›´ã€‚</li>
<li>ç»“åˆ CI åˆ†å±‚æ‰§è¡Œï¼ˆå…ˆéç±»å‹æ„ŸçŸ¥å¿«é€Ÿæ£€æŸ¥ï¼Œå†åœ¨å…³é”®åŒ…è·‘ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-9">å°ç»“</h2>
<p>è¿™ä¸ªæŠ¥é”™æœ¬è´¨æ˜¯ Monorepo ç¯å¢ƒä¸‹ â€œç±»å‹è§„åˆ™éœ€è¦æ˜ç¡®ä¸Šä¸‹æ–‡â€ çš„æé†’ã€‚åªè¦ä¸ºæ¯ä¸ªåŒ…è®¾å®šæ¸…æ™°çš„ <code>tsconfigRootDir</code> ä¸ <code>project</code>ï¼ŒESLint å°±èƒ½å‡†ç¡®åœ°è·å–ç±»å‹ä¿¡æ¯å¹¶ç¨³å®šå·¥ä½œã€‚æŒ‰åŒ…åˆ’åˆ† override æ˜¯æ ¹çº§ç»Ÿä¸€é…ç½®çš„å¥½æ–¹å¼ï¼›è€Œåœ¨åŒ…å†…ç‹¬ç«‹é…ç½®åˆ™æ›´ä¸ºç›´è§‰ã€‚</p>
<hr/>
<h2 data-id="heading-10">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>TypeScript-ESLint Parser æ–‡æ¡£ï¼ˆ<code>tsconfigRootDir</code>ï¼‰ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Fpackages%2Fparser%2F%23tsconfigrootdireslint" target="_blank" title="https://typescript-eslint.io/packages/parser/#tsconfigrootdireslint" ref="nofollow noopener noreferrer">typescript-eslint.io/packages/paâ€¦</a></li>
<li>TypeScript-ESLint é…ç½®æŒ‡å—ï¼ˆFlat Configï¼‰<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Fgetting-started%2Ftyped-linting%23flat-config" target="_blank" title="https://typescript-eslint.io/getting-started/typed-linting#flat-config" ref="nofollow noopener noreferrer">typescript-eslint.io/getting-staâ€¦</a></li>
<li>ESLint Flat Config å®˜æ–¹æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Feslint.org%2Fdocs%2Flatest%2Fuse%2Fconfigure%2Fconfiguration-files-new" target="_blank" title="https://eslint.org/docs/latest/use/configure/configuration-files-new" ref="nofollow noopener noreferrer">eslint.org/docs/latestâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OODERå›¾ç”Ÿä»£ç æ¡†æ¶ï¼šJavaæ³¨è§£é©±åŠ¨çš„å…¨æ ˆå®ç°ä¸è½åœ°æŒ‘æˆ˜]]></title>    <link>https://juejin.cn/post/7582393212768124982</link>    <guid>https://juejin.cn/post/7582393212768124982</guid>    <pubDate>2025-12-11T12:24:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582393212768124982" data-draft-id="7582438809377636394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OODERå›¾ç”Ÿä»£ç æ¡†æ¶ï¼šJavaæ³¨è§£é©±åŠ¨çš„å…¨æ ˆå®ç°ä¸è½åœ°æŒ‘æˆ˜"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T12:24:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OODERå›¾ç”Ÿä»£ç æ¡†æ¶ï¼šJavaæ³¨è§£é©±åŠ¨çš„å…¨æ ˆå®ç°ä¸è½åœ°æŒ‘æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:24:04.000Z" title="Thu Dec 11 2025 12:24:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»38åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šå›¾ç”Ÿä»£ç æŠ€æœ¯çš„å‘å±•èƒŒæ™¯ä¸ OODER æ¡†æ¶æ¦‚è¿°</h2>
<p>â€‹</p>
<p>åœ¨ç°ä»£ Web å¼€å‘é¢†åŸŸï¼Œ"è®¾è®¡ç¨¿å¿«é€Ÿè½åœ°" ä¸ "å…¨æ ˆæ¶æ„å¯ç»´æŠ¤æ€§" ä¸€ç›´æ˜¯å›°æ‰°å¼€å‘å›¢é˜Ÿçš„ä¸¤å¤§æ ¸å¿ƒéš¾é¢˜ã€‚ä¼ ç»Ÿçš„å¼€å‘æ¨¡å¼ä¸‹ï¼Œè®¾è®¡ç¨¿åˆ°ä»£ç çš„è½¬æ¢å¾€å¾€éœ€è¦å‰ç«¯å·¥ç¨‹å¸ˆæ‰‹åŠ¨ç¼–å†™å¤§é‡ HTMLã€CSS å’Œ JavaScript ä»£ç ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”å®¹æ˜“å‡ºç°è§†è§‰åå·®ã€‚æ›´ä¸ºå…³é”®çš„æ˜¯ï¼Œä¼ ç»Ÿ "å›¾ç”Ÿä»£ç " å·¥å…·è¾“å‡ºçš„çº¯å‰ç«¯ä»£ç ä¸åç«¯æ¶æ„è„±èŠ‚ï¼Œæ— æ³•å®ç°çœŸæ­£çš„å…¨æ ˆä¸€ä½“åŒ–å¼€å‘ã€‚</p>
<p>éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œç‰¹åˆ«æ˜¯å¤§è¯­è¨€æ¨¡å‹åœ¨ä»£ç ç”Ÿæˆé¢†åŸŸçš„çªç ´ï¼Œå›¾ç”Ÿä»£ç æŠ€æœ¯è¿æ¥äº†æ–°çš„å‘å±•æœºé‡ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å›¾ç”Ÿä»£ç å·¥å…·æ™®éå­˜åœ¨ä¸‰å¤§ç—›ç‚¹ï¼šä¸€æ˜¯ç”Ÿæˆçš„ä»£ç ä¸å…¨æ ˆæ¶æ„è„±èŠ‚ï¼Œæ— æ³•å¤ç”¨åç«¯æ¥å£ã€çŠ¶æ€ç®¡ç†ç­‰æ ¸å¿ƒèƒ½åŠ›ï¼›äºŒæ˜¯ä»£ç è€¦åˆåº¦é«˜ï¼Œä¸æ”¯æŒç»„ä»¶åŒ–å¤ç”¨ï¼›ä¸‰æ˜¯æ— æ³•é€šè¿‡å¯è§†åŒ–è®¾è®¡å™¨è¿›è¡Œåç»­çš„ç¼–è¾‘ä¸ç®¡ç†ã€‚</p>
<p><strong>OODER å…¨æ ˆæ¡†æ¶</strong>åº”è¿è€Œç”Ÿï¼Œå®ƒå¹¶éå•çº¯çš„å‰ç«¯æ¡†æ¶ï¼Œè€Œæ˜¯æ¶µç›– "å‰ç«¯ç»„ä»¶ - åç«¯æ¥å£ - æ•°æ®åº“äº¤äº’ - éƒ¨ç½²å·¥å…·" çš„å…¨æ ˆè§£å†³æ–¹æ¡ˆã€‚å…¶æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ "æ³¨è§£å¼å¼€å‘"ï¼Œé€šè¿‡ Java æ³¨è§£æœºåˆ¶å®ç°å‰ç«¯ç»„ä»¶ä¸åç«¯æœåŠ¡çš„æ— ç¼è¡”æ¥ï¼Œç‰¹åˆ«é€‚åˆ AI è¾…åŠ©å¼€å‘åœºæ™¯ã€‚OODER çš„å®˜æ–¹å®šä¹‰æ˜¯ "ä¸ºä½ä»£ç å¹³å°ä¸ AI è¾…åŠ©å¼€å‘è€Œç”Ÿçš„è½»é‡çº§å‰ç«¯æ¡†æ¶"ï¼Œå…¶æ¶æ„è®¾è®¡å®Œå…¨å›´ç»• "AI ç†è§£" ä¸ "å¯è§†åŒ–" å±•å¼€ï¼Œæ ¸å¿ƒæ˜¯ "ä¸‰å±‚æ¶æ„" ä¸ "å››ç»Ÿä¸€" è§„èŒƒã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥å‰–æ OODER æ¡†æ¶çš„æŠ€æœ¯å®ç°åŸç†ï¼Œé‡ç‚¹è§£æå…¶ Java æ³¨è§£é©±åŠ¨æœºåˆ¶ï¼Œå¹¶é€šè¿‡ HeroSvgPaper å’Œ FeaturesContent ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶çš„å®æˆ˜æ¡ˆä¾‹ï¼Œå…¨é¢å±•ç¤ºä»è®¾è®¡ç¨¿åˆ°å…¨æ ˆåº”ç”¨çš„å®Œæ•´æŠ€æœ¯é“¾è·¯ã€‚åŒæ—¶ï¼Œæœ¬æ–‡å°†å®¢è§‚åˆ†ææ¡†æ¶è½åœ°è¿‡ç¨‹ä¸­é¢ä¸´çš„æŠ€æœ¯æŒ‘æˆ˜ï¼Œå¹¶æå‡ºç›¸åº”çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ºä¼ä¸šçº§åº”ç”¨çš„å®æ–½æä¾›å‚è€ƒã€‚</p>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad00af17165445dba04a3bf63c0f0214~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=AsCIwBzxG1iaFK%2F79BxQp5sg9Wg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-1">äºŒã€OODER æ¡†æ¶æ ¸å¿ƒæŠ€æœ¯æ¶æ„è§£æ</h2>
<h3 data-id="heading-2">2.1 ä¸‰å±‚æ¶æ„è®¾è®¡ï¼šAI ä¸å¯è§†åŒ–å·¥å…·çš„ååŒæœºåˆ¶</h3>
<p>OODER æ¡†æ¶é‡‡ç”¨ç‹¬ç‰¹çš„<strong>ä¸‰å±‚æ¶æ„è®¾è®¡</strong>ï¼Œæ¯å±‚èŒè´£æ¸…æ™°ï¼ŒAI å’Œå·¥å…·åªéœ€å¯¹æ¥å¯¹åº”å±‚çº§ï¼Œæ— éœ€ç†è§£å…¨æ ˆé€»è¾‘ã€‚è¿™ç§åˆ†å±‚è®¾è®¡çš„æ ¸å¿ƒä»·å€¼åœ¨äºå°†å¤æ‚çš„å…¨æ ˆå¼€å‘ä»»åŠ¡åˆ†è§£ä¸ºä¸‰ä¸ªç‹¬ç«‹è€ŒåˆååŒçš„å±‚æ¬¡ï¼š</p>
<p>** å¯è§†åŒ–ç•Œé¢å±‚ï¼ˆç»™ç”¨æˆ·ç”¨ï¼‰** åŒ…å«ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ï¼šåŠ¨ä½œé…ç½®é¢æ¿é‡‡ç”¨ä¸‰æ­¥å¼è®¾è®¡ï¼ˆé€‰ç›®æ ‡â†’é€‰åŠ¨ä½œâ†’é…å‚æ•°ï¼‰ï¼Œç”¨æˆ·æ— éœ€ç¼–å†™ä»£ç å³å¯å®Œæˆå¤æ‚é…ç½®ï¼›ç»„ä»¶æ ‘è§†å›¾ç›´è§‚å±•ç¤ºç»„ä»¶ç»“æ„ï¼Œæ”¯æŒæ‹–æ‹½å¼æ“ä½œï¼›é¢„è§ˆçª—å£æä¾›æ‰€è§å³æ‰€å¾—çš„æ•ˆæœåé¦ˆï¼Œå®æ—¶æ˜¾ç¤ºé…ç½®ç»“æœã€‚</p>
<p>** é€»è¾‘å¤„ç†å±‚ï¼ˆç»™ AI ç”¨ï¼‰** æ˜¯æ¡†æ¶çš„æ™ºèƒ½æ ¸å¿ƒï¼Œä¸»è¦åŒ…æ‹¬ï¼šåŠ¨ä½œè§£æå¼•æ“å°†å¯è§†åŒ–é…ç½®è½¬æ¢ä¸ºå¯æ‰§è¡Œé€»è¾‘ï¼Œæ”¯æŒå¤æ‚çš„ä¸šåŠ¡è§„åˆ™ï¼›æ¡ä»¶è¯„ä¼°å™¨å¤„ç† if-and-or çš„å¤åˆæ¡ä»¶åˆ¤æ–­ï¼›æ‰§è¡Œè°ƒåº¦å™¨ç®¡ç†åŠ¨ä½œçš„æ‰§è¡Œé¡ºåºä¸å¼‚æ­¥é€»è¾‘ï¼Œç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p>
<p>** æ•°æ®å­˜å‚¨å±‚ï¼ˆç»™å·¥å…·ç”¨ï¼‰** é‡‡ç”¨ JSON æ ¼å¼å­˜å‚¨æ‰€æœ‰é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šåŠ¨ä½œå®šä¹‰å­˜å‚¨ä»¥ JSON æ ¼å¼ä¿å­˜åŠ¨ä½œé…ç½®ï¼Œä¾¿äº AI è§£æï¼›ç»„ä»¶å…ƒæ•°æ®åŒ…å«ç»„ä»¶çš„å±æ€§ã€æ–¹æ³•ã€äº‹ä»¶æè¿°ï¼Œä¸ºå¯è§†åŒ–å·¥å…·æä¾›å®Œæ•´çš„ç»„ä»¶ä¿¡æ¯ï¼›æ‰§è¡Œæ—¥å¿—è®°å½•ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ï¼Œä¾¿äºè°ƒè¯•ä¸å›æ»šã€‚</p>
<p>è¿™ç§åˆ†å±‚è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼ŒAI åªéœ€èšç„¦ "é€»è¾‘å¤„ç†å±‚" å¤„ç†åŠ¨ä½œé…ç½®ï¼Œå¯è§†åŒ–å·¥å…·åªéœ€å…³æ³¨ "ç•Œé¢å±‚" æ¸²æŸ“ç»„ä»¶æ ‘ï¼ŒäºŒè€…é€šè¿‡ "æ•°æ®å­˜å‚¨å±‚" çš„ JSON æ ¼å¼è¿›è¡Œäº¤äº’ï¼Œæ— éœ€åƒä¼ ç»Ÿæ¡†æ¶é‚£æ ·ï¼ŒAI æ—¢è¦ç†è§£ JSX è¯­æ³•ï¼Œåˆè¦ç†è§£ Hooks è§„åˆ™ï¼Œè¿˜è¦ç†è§£è™šæ‹Ÿ DOM æœºåˆ¶ã€‚</p>
<h3 data-id="heading-3">2.2 "å››ç»Ÿä¸€" è§„èŒƒï¼šæ³¨è§£é©±åŠ¨çš„æ ¸å¿ƒæœºåˆ¶</h3>
<p>OODER æ¡†æ¶çš„å¦ä¸€ä¸ªæ ¸å¿ƒåˆ›æ–°æ˜¯ **"å››ç»Ÿä¸€" è§„èŒƒ **ï¼Œå³æ ·å¼ã€æ¨¡æ¿ã€è¡Œä¸ºã€æ•°æ®çš„å®Œå…¨åˆ†ç¦»ï¼Œè¿™æ˜¯ä¸“é—¨ä¸º AI è®¾è®¡çš„ "ç†è§£è§„çŸ©"ã€‚ä¼ ç»Ÿæ¡†æ¶ä¸­ï¼Œæ ·å¼ï¼ˆCSSï¼‰ã€æ¨¡æ¿ï¼ˆJSXï¼‰ã€è¡Œä¸ºï¼ˆäº‹ä»¶ï¼‰ã€æ•°æ®ï¼ˆstateï¼‰å¸¸æ··åœ¨ä¸€èµ·ï¼ŒAI éœ€è¦ "çŒœ" å®ƒä»¬çš„å…³è”ï¼›è€Œ OODER å¼ºåˆ¶åˆ†ç¦»ï¼Œä¸º AI æä¾›äº†æ˜ç¡®çš„è§£æè§„åˆ™ï¼š</p>
<p><strong>æ¨¡æ¿ç»Ÿä¸€ï¼ˆTemplatesï¼‰</strong>ï¼šç»„ä»¶çš„ HTML ç»“æ„ç”¨ JSON å®šä¹‰ï¼ŒAI å¯ç›´æ¥è§£æèŠ‚ç‚¹å…³ç³»ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"div"</span>,
  <span class="hljs-string">"props"</span>: {
    <span class="hljs-string">"id"</span>: <span class="hljs-string">"hero"</span>,
    <span class="hljs-string">"class"</span>: <span class="hljs-string">"hero-section"</span>
  },
  <span class="hljs-string">"children"</span>: [
    { <span class="hljs-string">"type"</span>: <span class="hljs-string">"h1"</span>, <span class="hljs-string">"props"</span>: { <span class="hljs-string">"text"</span>: <span class="hljs-string">"OODERå…¨æ ˆæ¡†æ¶"</span> } },
    { <span class="hljs-string">"type"</span>: <span class="hljs-string">"button"</span>, <span class="hljs-string">"props"</span>: { <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç«‹å³ä½“éªŒ"</span> } }
  ]
}
</code></pre>
<p><strong>æ ·å¼ç»Ÿä¸€ï¼ˆStylesï¼‰</strong>ï¼šç»„ä»¶çš„ CSS æ ·å¼ç”¨å¯¹è±¡å®šä¹‰ï¼Œæ”¯æŒ CSS å˜é‡ï¼ŒAI å¯æ‰¹é‡ä¿®æ”¹ã€‚æ ·å¼ä¿¡æ¯é€šè¿‡@Styleæ³¨è§£é…ç½®ï¼Œæ”¯æŒç»„ä»¶çº§å’Œå…¨å±€çº§çš„æ ·å¼ç®¡ç†ã€‚</p>
<p><strong>è¡Œä¸ºç»Ÿä¸€ï¼ˆActionsï¼‰</strong>ï¼šç»„ä»¶çš„æ–¹æ³•ä¸äº‹ä»¶é›†ä¸­åœ¨ Ince å¯¹è±¡ä¸­ï¼ŒAI å¯æŒ‰ "æ–¹æ³•å" è°ƒç”¨ã€‚é€šè¿‡@EventBindæ³¨è§£ç»‘å®šäº‹ä»¶ï¼Œå®ç° "ç»„ä»¶åŠ è½½æ—¶è‡ªåŠ¨è¯·æ±‚æ•°æ®å¹¶æ¸²æŸ“" ç­‰å¤æ‚äº¤äº’é€»è¾‘ã€‚</p>
<p><strong>æ•°æ®ç»Ÿä¸€ï¼ˆDataModelï¼‰</strong>ï¼šç»„ä»¶çš„æ•°æ®æºå®šä¹‰åˆå§‹å€¼ä¸å˜æ›´é€»è¾‘ï¼ŒAI å¯è‡ªåŠ¨ç»‘å®šã€‚é€šè¿‡@DataMappingæ³¨è§£å®ç°æ•°æ®çš„è‡ªåŠ¨æ˜ å°„ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™æ•°æ®å¤„ç†ä»£ç ã€‚</p>
<p>è¿™ç§åˆ†ç¦»å¼è§„èŒƒç›¸å½“äºç»™ AI æä¾›äº† "è¯´æ˜ä¹¦"ï¼Œå®ƒä¸ç”¨å†åˆ†æä»£ç ä¸­çš„éšå¼å…³è”ï¼Œåªéœ€æŒ‰è§„èŒƒè§£æå„éƒ¨åˆ†å³å¯ï¼Œç†è§£æˆæœ¬å¤§å¹…é™ä½ã€‚AI çš„è§£ææ­£ç¡®ç‡ä»ä¼ ç»Ÿæ¡†æ¶çš„ 85% æå‡åˆ° 98%ï¼Œæ— éœ€é¢å¤–è°ƒè¯•ã€‚</p>
<h3 data-id="heading-4">2.3 æŠ€æœ¯æ ˆæ¶æ„ï¼šä»å‰ç«¯åˆ°åç«¯çš„å®Œæ•´æŠ€æœ¯é“¾è·¯</h3>
<p>OODER æ¡†æ¶çš„æŠ€æœ¯æ ˆæ¶æ„å±•ç°äº†å…¶å…¨æ ˆä¸€ä½“åŒ–çš„è®¾è®¡ç†å¿µã€‚åœ¨å‰ç«¯å±‚é¢ï¼Œæ¡†æ¶é‡‡ç”¨è‡ªç ”çš„<strong>è™šæ‹Ÿ DOM å¼•æ“</strong>ï¼Œæ”¯æŒæ ·å¼ä¸ç»“æ„çš„æ·±åº¦è§£è€¦ï¼Œé€šè¿‡@Styleæ³¨è§£å®ç°ç»„ä»¶æ ·å¼é…ç½®ï¼Œç»“åˆ@Themeæ³¨è§£å®Œæˆå…¨å±€ä¸»é¢˜æ§åˆ¶ã€‚</p>
<p>åœ¨åç«¯é›†æˆæ–¹é¢ï¼ŒOODER æä¾›äº†å¼ºå¤§çš„<strong>æ³¨è§£å¼å…¨æ ˆè¡”æ¥èƒ½åŠ›</strong>ã€‚å‰ç«¯ç»„ä»¶é€šè¿‡@ApiBindã€@DataMappingç­‰æ³¨è§£ç›´æ¥ç»‘å®šåç«¯æ¥å£ï¼Œæ— éœ€é¢å¤–ç¼–å†™é€‚é…ä»£ç ï¼Œå®ç° "ç»„ä»¶æ¸²æŸ“ - æ•°æ®è¯·æ±‚ - çŠ¶æ€æ›´æ–°" é—­ç¯ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ç®€å•çš„@ApiBind(url = "/api/onecode/demo", method = "GET")å³å¯å®Œæˆæ¥å£å…³è”ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å¤„ç†æ•°æ®è¯·æ±‚ã€å“åº”è§£æå’Œç»„ä»¶æ›´æ–°çš„å®Œæ•´æµç¨‹ã€‚</p>
<p>åœ¨å·¥å…·é“¾æ”¯æŒæ–¹é¢ï¼ŒOODER é›†æˆäº†<strong>è®¾è®¡ç¨¿è§£æå·¥å…·</strong>ï¼Œå¯å°† PSã€Figma è®¾è®¡ç¨¿è½¬æ¢ä¸ºç»„ä»¶å±æ€§é…ç½®åŠå¯¹åº”çš„@Styleæ³¨è§£å‚æ•°ã€‚åŒæ—¶æä¾›ooder api-genå‘½ä»¤ï¼Œæ ¹æ®å‰ç«¯ç»„ä»¶çš„@ApiBindæ³¨è§£é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆå«@Apiã€@RequestParamç­‰åç«¯æ³¨è§£çš„æ¥å£æ¨¡æ¿ï¼Œæ”¯æŒ Node.js å’Œ Java ä¸¤ç§è¯­è¨€ã€‚</p>
<h3 data-id="heading-5">2.4 ä¸ä¼ ç»Ÿå¼€å‘æ¨¡å¼çš„æ ¸å¿ƒå·®å¼‚</h3>
<p>OODER æ¡†æ¶ä¸ä¼ ç»Ÿå¼€å‘æ¨¡å¼å­˜åœ¨æ ¹æœ¬æ€§çš„å·®å¼‚ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<p><strong>å¼€å‘èŒƒå¼çš„è½¬å˜</strong>ï¼šä¼ ç»Ÿå¼€å‘æ¨¡å¼é‡‡ç”¨ "ç¼–ç ä¸ºæ ¸å¿ƒ" çš„æ–¹å¼ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨ç¼–å†™å¤§é‡ä»£ç ï¼›è€Œ OODER é‡‡ç”¨ "é…ç½®ä¸ºæ ¸å¿ƒ" çš„æ–¹å¼ï¼Œé€šè¿‡æ³¨è§£å’Œå¯è§†åŒ–é…ç½®å®Œæˆå¼€å‘å·¥ä½œã€‚è¿™ç§è½¬å˜ä½¿å¾—éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½å‚ä¸åˆ°åº”ç”¨å¼€å‘è¿‡ç¨‹ä¸­ã€‚</p>
<p><strong>AI é€‚é…æ€§çš„æå‡</strong>ï¼šä¼ ç»Ÿæ¡†æ¶å¯¹ AI çš„ "ä¸å‹å¥½" æœ¬è´¨æ˜¯ "è§„åˆ™å¤ªå¤šä¸”ä¸æ˜ç¡®"ï¼›OOD çš„ "å‹å¥½" æ˜¯å› ä¸ºå®ƒç»™ AI å®šäº† "ç®€å•æ¸…æ™°çš„è§„åˆ™"ã€‚ä¾‹å¦‚ï¼ŒOOD ä¸­çš„äº‹ä»¶ç»‘å®šï¼ŒAI åªéœ€è§£æ JSON é…ç½®ï¼Œäº‹ä»¶ç›®æ ‡ã€åŠ¨ä½œã€å‚æ•°éƒ½æ˜ç¡®ï¼Œæ— éœ€ç†è§£å¤æ‚è¯­æ³•ã€‚</p>
<p><strong>æ¶æ„å¤æ‚åº¦çš„é™ä½</strong>ï¼šä¼ ç»Ÿæ¡†æ¶ï¼ˆReact/Vueï¼‰æ˜¯ "å…¨æ ˆæ¡†æ¶"ï¼Œéœ€è¦å¤„ç†è™šæ‹Ÿ DOMã€è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰æ‰€æœ‰å‰ç«¯é—®é¢˜ï¼Œä½“ç§¯å¤§ï¼ˆReact æ ¸å¿ƒåŒ…çº¦ 42KBï¼ŒVue çº¦ 33KBï¼‰ï¼›OOD æ˜¯ "èšç„¦æ¡†æ¶"ï¼Œåªå¤„ç† "å¯è§†åŒ–ä¸ AI åä½œ" çš„æ ¸å¿ƒé—®é¢˜ï¼Œä½“ç§¯ä»… 8KBï¼ˆgzip åï¼‰ï¼ŒåŠ è½½é€Ÿåº¦æå‡ 4 å€ã€‚</p>
<p><strong>å¼€å‘æ•ˆç‡çš„æ˜¾è‘—æå‡</strong>ï¼šé€šè¿‡ OODER çš„æ³¨è§£å¼å¼€å‘å’Œå¯è§†åŒ–é…ç½®ï¼Œå¼€å‘æ•ˆç‡ç›¸æ¯”ä¼ ç»Ÿæ¨¡å¼æå‡ 60% ä»¥ä¸Šã€‚ç»„ä»¶åŒ–æ‹†åˆ†åï¼Œä»£ç å¤ç”¨ç‡ä»ä¼ ç»Ÿ HTML çš„ 20% æå‡è‡³ 80%ï¼Œä¾‹å¦‚ Button ç»„ä»¶å¯åœ¨å¤šä¸ªé¡µé¢ä¸­å¤ç”¨ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€Java æ³¨è§£é©±åŠ¨æœºåˆ¶æ·±åº¦å‰–æ</h2>
<h3 data-id="heading-7">3.1 æ³¨è§£ä½“ç³»æ¶æ„è®¾è®¡</h3>
<p>OODER æ¡†æ¶çš„ Java æ³¨è§£ä½“ç³»æ˜¯å…¶æ ¸å¿ƒç«äº‰åŠ›æ‰€åœ¨ï¼Œå®ƒæ„å»ºäº†ä»å‰ç«¯ç»„ä»¶åˆ°åç«¯æœåŠ¡çš„å®Œæ•´æ³¨è§£é“¾è·¯ã€‚æ•´ä¸ªæ³¨è§£ä½“ç³»å¯ä»¥åˆ’åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒå±‚æ¬¡ï¼š</p>
<p><strong>åŸºç¡€æ¡†æ¶æ³¨è§£</strong>åŒ…æ‹¬@Controllerã€@RequestMappingç­‰ Spring MVC æ ‡å‡†æ³¨è§£ï¼Œç”¨äºå®šä¹‰ Web æ¥å£çš„è®¿é—®è·¯å¾„ã€‚åŒæ—¶åŒ…å« OODER è‡ªå®šä¹‰çš„@XPathæ³¨è§£ï¼Œç”¨äºæŒ‡å®šç»„ä»¶åœ¨è§†å›¾æ ‘ä¸­çš„å±‚çº§è·¯å¾„ï¼Œå¦‚@XPath(path="view.homepage.pagecontainer.hero.herosvgpaper.herosvgpapermain.herosvgpaper")ã€‚</p>
<p><strong>ç»„ä»¶ç±»å‹æ³¨è§£</strong>æ˜¯æ¡†æ¶çš„æ ¸å¿ƒåˆ›æ–°ï¼Œ@SVGPaperFormAnnotationæ ‡è®° SVG Paper è¡¨å•ç±»å‹ï¼Œ@GalleryAnnotationæ ‡è®°ç”»å»Šç»„ä»¶ç±»å‹ï¼Œ@Componentæ ‡è®°é€šç”¨ç»„ä»¶ã€‚è¿™äº›æ³¨è§£ä¸ä»…æ ‡è¯†ç»„ä»¶ç±»å‹ï¼Œè¿˜æ‰¿è½½äº†ç»„ä»¶çš„åŸºç¡€é…ç½®ä¿¡æ¯ã€‚</p>
<p><strong>å±æ€§é…ç½®æ³¨è§£</strong>åˆ†ä¸ºå‡ ç±»ï¼š@FieldAnnotationæŒ‡å®šç»„ä»¶ç±»å‹å’ŒæœåŠ¡ç±»ï¼Œå¦‚@FieldAnnotation(componentType=ComponentType.SVGTEXT,serviceClass=CustomFieldService.class)ï¼›@SVGAnnotationé…ç½® SVG å…ƒç´ æ ¸å¿ƒå±æ€§ï¼›@SVGAttrAnnotationè®¾ç½® SVG å…ƒç´ å±æ€§é”®å€¼å¯¹ï¼›@SVGTextAnnotationä¸“é—¨ç”¨äº SVG æ–‡æœ¬å…ƒç´ çš„å±æ€§é…ç½®ã€‚</p>
<p><strong>äº¤äº’è¡Œä¸ºæ³¨è§£</strong>åŒ…æ‹¬@ContainerAnnotationå®šä¹‰å®¹å™¨çš„åŠ¨ç”»æ•ˆæœï¼Œå¦‚showEffects="Blur"ã€activeAnim=CustomAnimType.blinkAlertï¼›@APIEventAnnotationç»‘å®šèœå•å’Œé€‰é¡¹å¡äº‹ä»¶ï¼Œæ”¯æŒè‡ªåŠ¨è¿è¡Œé…ç½®ï¼›@DataMappingæ³¨è§£ç”¨äºæ•°æ®æ˜ å°„è§„åˆ™å®šä¹‰ã€‚</p>
<h3 data-id="heading-8">3.2 æ ¸å¿ƒæ³¨è§£è¯¦è§£ä¸ä½¿ç”¨æ¨¡å¼</h3>
<h4 data-id="heading-9">3.2.1 @SVGPaperFormAnnotation - SVG è¡¨å•ç»„ä»¶æ ‡è®°</h4>
<p>@SVGPaperFormAnnotationæ˜¯ OODER æ¡†æ¶ç”¨äºæ ‡è®° SVG Paper è¡¨å•ç»„ä»¶çš„æ ¸å¿ƒæ³¨è§£ã€‚è¯¥æ³¨è§£ä¸»è¦ç”¨äºæ ‡è¯†ä¸€ä¸ªæ¥å£æˆ–ç±»ä½œä¸º SVG ç»„ä»¶çš„é…ç½®æºï¼Œæ¡†æ¶åœ¨å¯åŠ¨æ—¶ä¼šæ‰«ææ‰€æœ‰å¸¦æœ‰è¯¥æ³¨è§£çš„ç»„ä»¶ï¼Œå¹¶å°†å…¶æ³¨å†Œåˆ°ç»„ä»¶å®¹å™¨ä¸­ã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32b69fa28a034410b93b3ccfe30d0adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=CCjXXjDb%2FdVHH6Zw4cJT%2FUlLPtU%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>â€‹</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Controller</span>
@<span class="hljs-title class_">RequestMapping</span>(<span class="hljs-string">"view/homepage/pagecontainer/hero/"</span>)
@<span class="hljs-title class_">XPath</span>(path=<span class="hljs-string">"view.homepage.pagecontainer.hero.herosvgpaper.herosvgpapermain.herosvgpaper"</span>)
@<span class="hljs-title class_">SVGPaperFormAnnotation</span>
public interface <span class="hljs-title class_">HeroSvgPaper</span> {
    <span class="hljs-comment">// ç»„ä»¶æ–¹æ³•å®šä¹‰</span>
}
</code></pre>
<p>è¯¥æ³¨è§£é€šå¸¸ä¸@Controllerã€@RequestMappingå’Œ@XPathæ³¨è§£é…åˆä½¿ç”¨ï¼Œå½¢æˆå®Œæ•´çš„ç»„ä»¶å®šä½å’Œè®¿é—®è·¯å¾„ã€‚@XPathæ³¨è§£çš„è·¯å¾„ä¿¡æ¯ç›´æ¥å¯¹åº”å‰ç«¯è§†å›¾æ ‘çš„å±‚çº§ç»“æ„ï¼Œç¡®ä¿ç»„ä»¶èƒ½å¤Ÿæ­£ç¡®åŠ è½½å’Œæ¸²æŸ“ã€‚</p>
<h4 data-id="heading-10">3.2.2 @FieldAnnotation - ç»„ä»¶ç±»å‹ä¸æœåŠ¡ç»‘å®š</h4>
<p>@FieldAnnotationæ˜¯ç”¨äºæŒ‡å®šç»„ä»¶ç±»å‹å’Œå…³è”æœåŠ¡ç±»çš„å…³é”®æ³¨è§£ã€‚å…¶æ ¸å¿ƒå±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>componentTypeï¼šæŒ‡å®šç»„ä»¶çš„ç±»å‹ï¼Œå¦‚ComponentType.SVGTEXTè¡¨ç¤º SVG æ–‡æœ¬ç»„ä»¶</li>
<li>serviceClassï¼šæŒ‡å®šå¤„ç†è¯¥ç»„ä»¶çš„æœåŠ¡ç±»ï¼Œå¦‚CustomFieldService.class</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">FieldAnnotation</span>(componentType=<span class="hljs-title class_">ComponentType</span>.<span class="hljs-property">SVGTEXT</span>,serviceClass=<span class="hljs-title class_">CustomFieldService</span>.<span class="hljs-property">class</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„è®¾è®¡ç†å¿µæ˜¯å°†ç»„ä»¶çš„ç±»å‹ä¿¡æ¯ä¸å¤„ç†é€»è¾‘è§£è€¦ï¼Œé€šè¿‡æœåŠ¡ç±»æ¨¡å¼å®ç°ç»„ä»¶çš„å¯æ‰©å±•æ€§ã€‚ä¸åŒç±»å‹çš„ç»„ä»¶å¯ä»¥å¯¹åº”ä¸åŒçš„æœåŠ¡ç±»ï¼Œå®ç°å·®å¼‚åŒ–çš„å¤„ç†é€»è¾‘ã€‚</p>
<h4 data-id="heading-11">3.2.3 @SVGAnnotation - SVG æ ¸å¿ƒå±æ€§é…ç½®</h4>
<p>@SVGAnnotationç”¨äºé…ç½® SVG å…ƒç´ çš„æ ¸å¿ƒå±æ€§ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>imageClassï¼šæŒ‡å®šç»„ä»¶çš„å›¾æ ‡ç±»åï¼Œé€šå¸¸ä½¿ç”¨ Remix Icon çš„ç±»å</li>
<li>svgTagï¼šæŒ‡å®š SVG å…ƒç´ çš„æ ‡ç­¾åæˆ–ç±»å‹</li>
<li>offSetFlowï¼šæŒ‡å®š SVG å…ƒç´ çš„åç§»æµå¸ƒå±€æ–¹å¼</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">SVGAnnotation</span>(imageClass=<span class="hljs-string">"ri-th-large-line"</span>, svgTag=<span class="hljs-string">"Shapes:Circle"</span>, offSetFlow=<span class="hljs-string">"none"</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„è®¾è®¡ç›®æ ‡æ˜¯æä¾› SVG ç»„ä»¶çš„åŸºç¡€é…ç½®èƒ½åŠ›ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ³¨è§£æ¥å£æ”¯æŒå¤šç§ SVG å…ƒç´ ç±»å‹ã€‚</p>
<h4 data-id="heading-12">3.2.4 @SVGAttrAnnotation - SVG å±æ€§é”®å€¼å¯¹é…ç½®</h4>
<p>@SVGAttrAnnotationæ˜¯æœ€çµæ´»çš„ SVG å±æ€§é…ç½®æ³¨è§£ï¼Œå®ƒå…è®¸ç›´æ¥è®¾ç½® SVG å…ƒç´ çš„ä»»æ„å±æ€§é”®å€¼å¯¹ã€‚æ”¯æŒçš„å±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>åŸºæœ¬å½¢çŠ¶å±æ€§ï¼šxã€yã€rã€cxã€cyã€widthã€height</li>
<li>æ ·å¼å±æ€§ï¼šstrokeã€fillã€"stroke-width"</li>
<li>æ–‡æœ¬å±æ€§ï¼štextã€fontFamilyã€fontSize</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">SVGAttrAnnotation</span>(x=<span class="hljs-string">"50%"</span>, y=<span class="hljs-string">"40%"</span>, text=<span class="hljs-string">"ä½ä»£ç å¼€å‘å¹³å°"</span>, fill=<span class="hljs-string">"#ffffff"</span>, stroke=<span class="hljs-string">"#004A7F"</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„ä¼˜åŠ¿åœ¨äºå…¶çµæ´»æ€§ï¼Œå¯ä»¥é…ç½® SVG è§„èŒƒæ”¯æŒçš„ä»»æ„å±æ€§ï¼Œæ»¡è¶³å¤æ‚çš„è§†è§‰è®¾è®¡éœ€æ±‚ã€‚</p>
<h4 data-id="heading-13">3.2.5 @ContainerAnnotation - å®¹å™¨åŠ¨ç”»ä¸äº¤äº’é…ç½®</h4>
<p>@ContainerAnnotationä¸“é—¨ç”¨äºé…ç½®å®¹å™¨ç»„ä»¶çš„åŠ¨ç”»æ•ˆæœå’Œäº¤äº’è¡Œä¸ºï¼Œæ ¸å¿ƒå±æ€§åŒ…æ‹¬ï¼š</p>
<ul>
<li>showEffectsï¼šæŒ‡å®šç»„ä»¶æ˜¾ç¤ºæ—¶çš„ç‰¹æ•ˆï¼Œå¦‚Bluræ¨¡ç³Šæ•ˆæœ</li>
<li>activeAnimï¼šæŒ‡å®šç»„ä»¶çš„æ¿€æ´»åŠ¨ç”»ï¼Œå¦‚CustomAnimType.blinkAlerté—ªçƒåŠ¨ç”»</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">ContainerAnnotation</span>(showEffects=<span class="hljs-string">"Blur"</span>, activeAnim=<span class="hljs-title class_">CustomAnimType</span>.<span class="hljs-property">blinkAlert</span>)
</code></pre>
<p>è¯¥æ³¨è§£çš„è®¾è®¡ç†å¿µæ˜¯å°†åŠ¨ç”»é€»è¾‘ä¸ç»„ä»¶å®šä¹‰è§£è€¦ï¼Œé€šè¿‡å£°æ˜å¼çš„é…ç½®æ–¹å¼å®ç°å¤æ‚çš„äº¤äº’æ•ˆæœã€‚</p>
<h3 data-id="heading-14">3.3 æ³¨è§£é©±åŠ¨çš„ä»£ç ç”ŸæˆåŸç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbaf819c40f2461b87dca7843e948eda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=3DvXEe1r7ziZFQ49U5dk2KSQbEI%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>OODER æ¡†æ¶çš„æ³¨è§£é©±åŠ¨æœºåˆ¶åŸºäº Java åå°„æŠ€æœ¯ï¼Œé€šè¿‡è¿è¡Œæ—¶è§£ææ³¨è§£ä¿¡æ¯åŠ¨æ€ç”Ÿæˆå¯æ‰§è¡Œä»£ç ã€‚å…¶æ ¸å¿ƒåŸç†åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š</p>
<p><strong>æ³¨è§£æ‰«æä¸è§£æé˜¶æ®µ</strong>ï¼šæ¡†æ¶å¯åŠ¨æ—¶ï¼Œé€šè¿‡ Spring çš„BeanPostProcessoræœºåˆ¶æ‰«ææ‰€æœ‰å¸¦æœ‰ç‰¹å®šæ³¨è§£çš„ç±»å’Œæ–¹æ³•ã€‚ä½¿ç”¨åå°„ API è·å–ç±»ã€æ–¹æ³•ã€å­—æ®µä¸Šçš„æ³¨è§£åŠå…¶å±æ€§å€¼ï¼Œå°†è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å…ƒæ•°æ®ç»“æ„ä¸­ã€‚</p>
<p><strong>å…ƒæ•°æ®è½¬æ¢é˜¶æ®µ</strong>ï¼šè§£æå™¨å°†æ³¨è§£ä¿¡æ¯è½¬æ¢ä¸ºæ¡†æ¶å†…éƒ¨çš„å…ƒæ•°æ®æ ¼å¼ã€‚ä¾‹å¦‚ï¼Œ@SVGAttrAnnotationçš„å±æ€§ä¼šè¢«è½¬æ¢ä¸ºæ ‡å‡†çš„ SVG å±æ€§å­—å…¸ï¼Œ@ApiBindæ³¨è§£ä¼šè¢«è½¬æ¢ä¸ºæ¥å£è°ƒç”¨é…ç½®ï¼ŒåŒ…å« URLã€æ–¹æ³•ã€å‚æ•°æ˜ å°„ç­‰ä¿¡æ¯ã€‚</p>
<p><strong>ä»£ç ç”Ÿæˆé˜¶æ®µ</strong>ï¼šåŸºäºè½¬æ¢åçš„å…ƒæ•°æ®ï¼Œæ¡†æ¶åŠ¨æ€ç”Ÿæˆå¯¹åº”çš„æ‰§è¡Œä»£ç ã€‚å¯¹äº SVG ç»„ä»¶ï¼Œç”Ÿæˆæ ‡å‡†çš„ SVG æ ‡ç­¾ä»£ç ï¼›å¯¹äºæ•°æ®ç»‘å®šç»„ä»¶ï¼Œç”Ÿæˆæ•°æ®è¯·æ±‚å’Œæ¸²æŸ“ä»£ç ï¼›å¯¹äºäº¤äº’ç»„ä»¶ï¼Œç”Ÿæˆäº‹ä»¶ç›‘å¬å’Œå¤„ç†ä»£ç ã€‚</p>
<p><strong>è¿è¡Œæ—¶æ‰§è¡Œé˜¶æ®µ</strong>ï¼šç”Ÿæˆçš„ä»£ç åœ¨è¿è¡Œæ—¶è¢«æ‰§è¡Œï¼Œå®ç°ç»„ä»¶çš„æ¸²æŸ“ã€æ•°æ®åŠ è½½ã€äº¤äº’å“åº”ç­‰åŠŸèƒ½ã€‚æ¡†æ¶é€šè¿‡åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œåœ¨ä¸ä¿®æ”¹åŸå§‹ä»£ç çš„æƒ…å†µä¸‹ï¼Œä¸ºç»„ä»¶æ·»åŠ é¢å¤–çš„åŠŸèƒ½é€»è¾‘ã€‚</p>
<h3 data-id="heading-15">3.4 è¿è¡Œæ—¶æ³¨è§£å¤„ç†æœºåˆ¶</h3>
<p>OODER æ¡†æ¶çš„è¿è¡Œæ—¶æ³¨è§£å¤„ç†æœºåˆ¶æ˜¯å…¶é«˜æ€§èƒ½å’Œçµæ´»æ€§çš„å…³é”®ã€‚å½“æ³¨è§£çš„ä¿ç•™ç­–ç•¥è®¾ç½®ä¸ºRetentionPolicy.RUNTIMEæ—¶ï¼ŒJVM ä¼šåœ¨ç±»åŠ è½½æ—¶è§£ææ³¨è§£ä¿¡æ¯å¹¶å­˜å‚¨èµ·æ¥ï¼Œä¾›åå°„ API ä½¿ç”¨ã€‚</p>
<p><strong>åŠ¨æ€ä»£ç†å®ç°</strong>ï¼šå½“é€šè¿‡åå°„ API è·å–æ³¨è§£æ—¶ï¼ŒJVM å®é™…ä¸Šè¿”å›ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡ã€‚è¿™ä¸ªä»£ç†å¯¹è±¡é€šè¿‡java.lang.reflect.InvocationHandleræ¥å£çš„å®ç°ç±»sun.reflect.annotation.AnnotationInvocationHandleræ¥å¤„ç†æ³¨è§£æ–¹æ³•çš„è°ƒç”¨ã€‚</p>
<p><strong>ç¼“å­˜ä¼˜åŒ–ç­–ç•¥</strong>ï¼šä¸ºäº†æé«˜æ€§èƒ½ï¼ŒJVM ä¼šç¼“å­˜è§£æåçš„æ³¨è§£å¯¹è±¡ã€‚OODER æ¡†æ¶è¿›ä¸€æ­¥ä¼˜åŒ–äº†è¿™ä¸€æœºåˆ¶ï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶ä¸€æ¬¡æ€§è§£ææ‰€æœ‰ç›¸å…³æ³¨è§£ï¼Œæ„å»ºå®Œæ•´çš„ç»„ä»¶å…ƒæ•°æ®ç¼“å­˜ï¼Œé¿å…è¿è¡Œæ—¶çš„é‡å¤è§£æå¼€é”€ã€‚</p>
<p><strong>æ³¨è§£ä¼˜å…ˆçº§ç®¡ç†</strong>ï¼šæ¡†æ¶å®šä¹‰äº†æ¸…æ™°çš„æ³¨è§£ä¼˜å…ˆçº§è§„åˆ™ï¼šRAD è®¾è®¡å™¨é…ç½®ï¼ˆè‡ªåŠ¨åŒæ­¥è‡³æ³¨è§£ï¼‰&gt;@Styleæ³¨è§£ &gt; ç»„ä»¶é»˜è®¤æ ·å¼ &gt;@Themeå…¨å±€ä¸»é¢˜ã€‚è¿™ç§ä¼˜å…ˆçº§æœºåˆ¶ç¡®ä¿äº†é…ç½®çš„ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p>
<h2 data-id="heading-16">å››ã€HeroSvgPaper å®æˆ˜æ¡ˆä¾‹ï¼šSVG ç»„ä»¶çš„æ³¨è§£åŒ–å®ç°</h2>
<h3 data-id="heading-17">4.1 æ¡ˆä¾‹èƒŒæ™¯ä¸æŠ€æœ¯ç›®æ ‡</h3>
<p>HeroSvgPaper æ˜¯ OODER å®˜ç½‘é¦–é¡µçš„æ ¸å¿ƒè§†è§‰ç»„ä»¶ï¼Œä½äºé¦–å±è‹±é›„åŒºï¼Œæ‰¿æ‹…ç€å“ç‰Œå±•ç¤ºä¸é¦–å±å¸å¼•åŠ›è¥é€ çš„é‡è¦èŒè´£ã€‚è¯¥ç»„ä»¶çš„æŠ€æœ¯å®ç°å……åˆ†ä½“ç°äº† OODER æ¡†æ¶åœ¨ SVG å¯è§†åŒ–æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ï¼Œå…¶æ ¸å¿ƒæŒ‘æˆ˜åœ¨äºå®ç° SVG å…ƒç´ çš„åƒç´ çº§è¿˜åŸä¸å¤æ‚åŠ¨ç”»æ•ˆæœçš„ä»£ç åŒ–ã€‚</p>
<p>æœ¬æ¡ˆä¾‹çš„æŠ€æœ¯ç›®æ ‡åŒ…æ‹¬ï¼šå®ç°è®¾è®¡ç¨¿ 100% çš„è§†è§‰è¿˜åŸï¼ŒåŒ…æ‹¬æ¸å˜èƒŒæ™¯ã€ç«‹ä½“æ–‡å­—æ•ˆæœã€å“åº”å¼å¸ƒå±€ç­‰ï¼›æ”¯æŒå¤æ‚çš„ SVG åŠ¨ç”»ï¼Œå¦‚æ·¡å…¥ä¸Šç§»ã€é—ªçƒæç¤ºç­‰äº¤äº’æ•ˆæœï¼›é€šè¿‡æ³¨è§£é…ç½®å®ç°å…¨æ ˆæ•°æ®ç»‘å®šï¼Œæ”¯æŒåŠ¨æ€å†…å®¹æ›´æ–°ï¼›ç¡®ä¿ç»„ä»¶åœ¨ä¸åŒè®¾å¤‡ä¸Šçš„å®Œç¾é€‚é…ã€‚</p>
<h3 data-id="heading-18">4.2 æ ¸å¿ƒå®ç°ä»£ç è¯¦è§£</h3>
<p>HeroSvgPaper çš„å®Œæ•´å®ç°ä»£ç å±•ç¤ºäº† OODER æ³¨è§£ä½“ç³»çš„å¼ºå¤§èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒæ¥å£å®šä¹‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Controller</span>
@<span class="hljs-title class_">RequestMapping</span>(<span class="hljs-string">"view/homepage/pagecontainer/hero/"</span>)
@<span class="hljs-title class_">XPath</span>(path=<span class="hljs-string">"view.homepage.pagecontainer.hero.herosvgpaper.herosvgpapermain.herosvgpaper"</span>)
@<span class="hljs-title class_">SVGPaperFormAnnotation</span>
public interface <span class="hljs-title class_">HeroSvgPaper</span> {
    
    @<span class="hljs-title class_">FieldAnnotation</span>(componentType=<span class="hljs-title class_">ComponentType</span>.<span class="hljs-property">SVGTEXT</span>,serviceClass=<span class="hljs-title class_">CustomFieldService</span>.<span class="hljs-property">class</span>)
    @<span class="hljs-title class_">ContainerAnnotation</span>(showEffects=<span class="hljs-string">"Blur"</span>,activeAnim=<span class="hljs-title class_">CustomAnimType</span>.<span class="hljs-property">blinkAlert</span>)
    @<span class="hljs-title class_">CustomAnnotation</span>(caption=<span class="hljs-string">"heroTitleSvg"</span>)
    @<span class="hljs-title class_">SVGAnnotation</span>(offSetFlow=<span class="hljs-string">"none"</span>)
    @<span class="hljs-title class_">SVGAttrAnnotation</span>(x=<span class="hljs-string">"50%"</span>,y=<span class="hljs-string">"40%"</span>,text=<span class="hljs-string">"ä½ä»£ç å¼€å‘å¹³å°"</span>,fill=<span class="hljs-string">"#ffffff"</span>)
    @<span class="hljs-title class_">SVGTextAnnotation</span>(fontFamily=<span class="hljs-string">"Arial, sans-serif"</span>,fontSize=<span class="hljs-string">"48px"</span>,fill=<span class="hljs-string">"#ffffff"</span>)
    public <span class="hljs-title class_">ResultModel</span> <span class="hljs-title function_">getHeroTitleSvg</span>();
}
</code></pre>
<h3 data-id="heading-19">4.3 æ³¨è§£é…ç½®çš„æŠ€æœ¯è§£æ</h3>
<h4 data-id="heading-20">4.3.1 æ¥å£å®šä½ä¸è·¯ç”±é…ç½®</h4>
<p>@Controllerå’Œ@RequestMappingæ³¨è§£å®šä¹‰äº†ç»„ä»¶çš„ Web è®¿é—®è·¯å¾„ä¸ºview/homepage/pagecontainer/hero/ã€‚è¿™ä¸ªè·¯å¾„ä¸å‰ç«¯è§†å›¾æ ‘çš„ç»“æ„å®Œå…¨å¯¹åº”ï¼Œç¡®ä¿äº†ç»„ä»¶èƒ½å¤Ÿæ­£ç¡®åŠ è½½ã€‚@XPathæ³¨è§£æŒ‡å®šäº†ç»„ä»¶åœ¨è§†å›¾æ ‘ä¸­çš„å®Œæ•´è·¯å¾„ï¼Œç²¾ç¡®åˆ°æ¯ä¸ªèŠ‚ç‚¹å±‚çº§ï¼Œè¿™ç§ç»†ç²’åº¦çš„å®šä½æœºåˆ¶ä¿è¯äº†ç»„ä»¶æ¸²æŸ“çš„å‡†ç¡®æ€§ã€‚</p>
<h4 data-id="heading-21">4.3.2 SVG æ–‡æœ¬ç»„ä»¶çš„å±æ€§é…ç½®</h4>
<p>@FieldAnnotationæŒ‡å®šäº†ç»„ä»¶ç±»å‹ä¸ºComponentType.SVGTEXTï¼Œå…³è”çš„æœåŠ¡ç±»ä¸ºCustomFieldService.classã€‚è¿™ä¸ªé…ç½®å‘Šè¯‰æ¡†æ¶è¯¥ç»„ä»¶æ˜¯ä¸€ä¸ª SVG æ–‡æœ¬ç»„ä»¶ï¼Œéœ€è¦ä½¿ç”¨æŒ‡å®šçš„æœåŠ¡ç±»è¿›è¡Œå¤„ç†ã€‚</p>
<p>@SVGAnnotationçš„offSetFlow="none"é…ç½®è¡¨ç¤º SVG å…ƒç´ ä¸ä½¿ç”¨åç§»æµå¸ƒå±€ï¼Œä¿æŒæ­£å¸¸çš„æ–‡æ¡£æµã€‚è¿™å¯¹äºå®ç°ç²¾ç¡®çš„å®šä½æ•ˆæœéå¸¸é‡è¦ã€‚</p>
<p>@SVGAttrAnnotationæä¾›äº† SVG æ–‡æœ¬å…ƒç´ çš„æ ¸å¿ƒå±æ€§é…ç½®ï¼š</p>
<ul>
<li>x="50%"å’Œy="40%"ï¼šè®¾ç½®æ–‡æœ¬åœ¨ SVG ç”»å¸ƒä¸­çš„ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®ç°å“åº”å¼å®šä½</li>
<li>text="ä½ä»£ç å¼€å‘å¹³å°"ï¼šè®¾ç½®æ–‡æœ¬å†…å®¹</li>
<li>fill="#ffffff"ï¼šè®¾ç½®æ–‡æœ¬å¡«å……é¢œè‰²ä¸ºç™½è‰²</li>
</ul>
<p>@SVGTextAnnotationä¸“é—¨é…ç½®æ–‡æœ¬ç›¸å…³å±æ€§ï¼š</p>
<ul>
<li>fontFamily="Arial, sans-serif"ï¼šè®¾ç½®å­—ä½“æ—</li>
<li>fontSize="48px"ï¼šè®¾ç½®å­—ä½“å¤§å°</li>
<li>fill="#ffffff"ï¼šå†æ¬¡è®¾ç½®å¡«å……é¢œè‰²ï¼Œç¡®ä¿æ ·å¼ä¸€è‡´æ€§</li>
</ul>
<h4 data-id="heading-22">4.3.3 åŠ¨ç”»ä¸äº¤äº’æ•ˆæœé…ç½®</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae379f682b0f45e4b5e571606b52d75c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=ZKiv75SKMWskiOI9c5lPTtJxbQg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<p>@ContainerAnnotationé…ç½®äº†ç»„ä»¶çš„åŠ¨ç”»æ•ˆæœï¼š</p>
<ul>
<li>showEffects="Blur"ï¼šæŒ‡å®šç»„ä»¶æ˜¾ç¤ºæ—¶çš„æ¨¡ç³Šç‰¹æ•ˆï¼Œå¢å¼ºè§†è§‰å†²å‡»åŠ›</li>
<li>activeAnim=CustomAnimType.blinkAlertï¼šæŒ‡å®šç»„ä»¶çš„æ¿€æ´»åŠ¨ç”»ä¸ºé—ªçƒæç¤ºæ•ˆæœ</li>
</ul>
<p>è¿™ç§åŠ¨ç”»é…ç½®æ–¹å¼çš„ä¼˜åŠ¿åœ¨äºå°†åŠ¨ç”»é€»è¾‘ä¸ç»„ä»¶å®šä¹‰è§£è€¦ï¼Œé€šè¿‡å£°æ˜å¼é…ç½®å³å¯å®ç°å¤æ‚çš„äº¤äº’æ•ˆæœï¼Œæ— éœ€ç¼–å†™ä»»ä½• JavaScript åŠ¨ç”»ä»£ç ã€‚</p>
<h3 data-id="heading-23">4.4 SVG ç»„ä»¶ä½“ç³»æ¶æ„</h3>
<p>OODER æ¡†æ¶æä¾›äº†å®Œæ•´çš„ SVG ç»„ä»¶ä½“ç³»ï¼Œä¸º HeroSvgPaper çš„å®ç°æä¾›äº†åšå®çš„æŠ€æœ¯åŸºç¡€ï¼š</p>
<p><strong>æ ¸å¿ƒç»„ä»¶å±‚çº§</strong>ï¼š</p>
<ul>
<li>ood.UI.SVGPaperï¼šSVG ç”»æ¿å®¹å™¨ï¼Œä½œä¸ºæ‰€æœ‰ SVG å…ƒç´ çš„æ‰¿è½½ä¸»ä½“</li>
<li>ood.svg.Textï¼šSVG æ–‡æœ¬å…ƒç´ ï¼Œæ”¯æŒæ–‡æœ¬å±æ€§é…ç½®ä¸åŠ¨ç”»ç»‘å®š</li>
<li>ood.svg.Circle/Rect/Pathï¼šåŸºç¡€å›¾å½¢å…ƒç´ ï¼Œå¯ç»„åˆå®ç°å¤æ‚è§†è§‰æ•ˆæœ</li>
<li>ood.svg.Groupï¼šSVG å…ƒç´ ç»„ï¼Œç”¨äºç»„ç»‡å’Œç®¡ç†å¤šä¸ªç›¸å…³å…ƒç´ </li>
</ul>
<p><strong>åŠ¨ç”»æ”¯æŒèƒ½åŠ›</strong>ï¼š</p>
<p>æ¡†æ¶çš„ SVG ç»„ä»¶ä½“ç³»å†…ç½®äº†å¼ºå¤§çš„åŠ¨ç”»æ”¯æŒèƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>åŸºç¡€åŠ¨ç”»ï¼šå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ã€é€æ˜åº¦å˜åŒ–</li>
<li>è·¯å¾„åŠ¨ç”»ï¼šæ²¿æŒ‡å®šè·¯å¾„ç§»åŠ¨çš„å¤æ‚åŠ¨ç”»</li>
<li>å˜å½¢åŠ¨ç”»ï¼šæ”¯æŒ SVG çš„transformå±æ€§åŠ¨ç”»</li>
<li>æ—¶é—´è½´æ§åˆ¶ï¼šæ”¯æŒåŠ¨ç”»çš„å»¶è¿Ÿã€é‡å¤ã€å›è°ƒç­‰æ§åˆ¶</li>
</ul>
<h3 data-id="heading-24">4.5 å¤æ‚åŠ¨ç”»å®ç°æœºåˆ¶</h3>
<p>HeroSvgPaper çš„åŠ¨ç”»å®ç°å±•ç¤ºäº† OODER æ¡†æ¶åœ¨ SVG åŠ¨ç”»æ–¹é¢çš„å¼ºå¤§èƒ½åŠ›ã€‚ä»¥ä¸‹æ˜¯æ ¸å¿ƒåŠ¨ç”»é€»è¾‘çš„å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»ºSVG Paperç”»æ¿</span>
host.<span class="hljs-property">hero</span>.<span class="hljs-title function_">append</span>(ood.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ood.UI.SVGPaper"</span>)
    .<span class="hljs-title function_">setHost</span>(host, <span class="hljs-string">"heroSvgPaper"</span>)
    .<span class="hljs-title function_">setName</span>(<span class="hljs-string">"heroSvgPaper"</span>)
    .<span class="hljs-title function_">setWidth</span>(<span class="hljs-string">"100%"</span>)
);

<span class="hljs-comment">// åˆ›å»ºSVGæ ‡é¢˜æ–‡æœ¬</span>
<span class="hljs-keyword">const</span> titleSvg = ood.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ood.svg.Text"</span>)
    .<span class="hljs-title function_">setHost</span>(host, <span class="hljs-string">"heroTitleSvg"</span>)
    .<span class="hljs-title function_">setSVGAttr</span>({
        <span class="hljs-attr">x</span>: <span class="hljs-string">"50%"</span>,
        <span class="hljs-attr">y</span>: <span class="hljs-string">"40%"</span>,
        <span class="hljs-attr">text</span>: <span class="hljs-string">"OODERå…¨æ ˆæ¡†æ¶ Â· å›¾ç”Ÿä»£ç ä¸€é”®è½åœ°"</span>,
        <span class="hljs-attr">fill</span>: <span class="hljs-string">"rgba(255,255,255,0.8)"</span>,
        <span class="hljs-attr">opacity</span>: <span class="hljs-string">"0"</span>,
        <span class="hljs-attr">transform</span>: <span class="hljs-string">"translate(0, 50)"</span>
    });

<span class="hljs-comment">// æ ¸å¿ƒåŠ¨ç”»é€»è¾‘ï¼šæ·¡å…¥+ä¸Šç§»åŠ¨ç”»</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animateSvgText</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ ‡é¢˜åŠ¨ç”»ï¼š1ç§’å†…æ·¡å…¥å¹¶ä¸Šç§»è‡³åŸä½ï¼Œä½¿ç”¨ease-outç¼“åŠ¨</span>
    titleSvg.<span class="hljs-title function_">elemsAnimate</span>({
        <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">transform</span>: <span class="hljs-string">'translate(0, 0)'</span>
    }, <span class="hljs-number">1000</span>, <span class="hljs-string">'ease-out'</span>);
    
    <span class="hljs-comment">// æè¿°æ–‡æœ¬å»¶è¿Ÿ300mså¯åŠ¨ï¼Œå½¢æˆåŠ¨ç”»å±‚æ¬¡æ„Ÿ</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        descSvg.<span class="hljs-title function_">elemsAnimate</span>({
            <span class="hljs-attr">opacity</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">transform</span>: <span class="hljs-string">'translate(0, 0)'</span>
        }, <span class="hljs-number">1000</span>, <span class="hljs-string">'ease-out'</span>);
    }, <span class="hljs-number">300</span>);
}

<span class="hljs-comment">// é¡µé¢åŠ è½½å®Œæˆåè§¦å‘åŠ¨ç”»</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, animateSvgText);
</code></pre>
<h3 data-id="heading-25">4.6 æŠ€æœ¯ä¼˜åŠ¿ä¸æ€§èƒ½åˆ†æ</h3>
<p>ç›¸æ¯”ä¼ ç»Ÿ CSS åŠ¨ç”»ï¼ŒåŸºäº OODER SVG ç»„ä»¶çš„å®ç°å…·å¤‡å››å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<p><strong>è§†è§‰è¡¨ç°åŠ›æ›´å¼º</strong>ï¼šæ”¯æŒè·¯å¾„åŠ¨ç”»ã€å˜å½¢ç­‰å¤æ‚æ•ˆæœï¼Œåç»­å¯æ‰©å±•æ·»åŠ æ–‡å­—æè¾¹æµåŠ¨åŠ¨ç”»ã€‚SVG çš„çŸ¢é‡ç‰¹æ€§ä¿è¯äº†å›¾å½¢åœ¨ä»»ä½•ç¼©æ”¾çº§åˆ«ä¸‹éƒ½ä¸ä¼šå¤±çœŸï¼Œå®Œç¾é€‚é…ä¸åŒåˆ†è¾¨ç‡çš„è®¾å¤‡ã€‚</p>
<p><strong>æ€§èƒ½è¡¨ç°æ›´ä¼˜</strong>ï¼šä¾æ‰˜ OODER æ¡†æ¶çš„ GPU åŠ é€Ÿèƒ½åŠ›ï¼ŒåŠ¨ç”»æµç•…æ— å¡é¡¿ï¼Œå°¤å…¶åœ¨ç§»åŠ¨ç«¯è¡¨ç°ç¨³å®šã€‚SVG åŠ¨ç”»å¤©ç„¶æ”¯æŒç¡¬ä»¶åŠ é€Ÿï¼Œé¿å…äº†ä¼ ç»Ÿ JavaScript åŠ¨ç”»çš„æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p><strong>å¼€å‘æ•ˆç‡æ›´é«˜</strong>ï¼šé€šè¿‡æ³¨è§£é…ç½®å³å¯å®ç°å¤æ‚åŠ¨ç”»ï¼Œæ— éœ€ç¼–å†™å¤§é‡ JavaScript ä»£ç ã€‚åŠ¨ç”»é…ç½®ä¸ç»„ä»¶å®šä¹‰ä¸€ä½“åŒ–ï¼Œä¾¿äºç»´æŠ¤å’Œä¿®æ”¹ã€‚</p>
<p><strong>è·¨è®¾å¤‡é€‚é…æ€§å¥½</strong>ï¼šSVG çš„å“åº”å¼ç‰¹æ€§ä½¿å¾—ç»„ä»¶èƒ½å¤Ÿå®Œç¾é€‚é…ä¸åŒå°ºå¯¸çš„å±å¹•ï¼Œä» PC ç«¯åˆ°ç§»åŠ¨ç«¯éƒ½èƒ½ä¿æŒä¸€è‡´çš„è§†è§‰æ•ˆæœã€‚</p>
<h2 data-id="heading-26">äº”ã€FeaturesContent å®æˆ˜æ¡ˆä¾‹ï¼šç”»å»Šç»„ä»¶çš„å…¨æ ˆå®ç°</h2>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ff3c03af3064cb98590492a4a9d187a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060644&amp;x-signature=tLqKlIX5Af2Xz4lAZ7p3IXt9AE0%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-27">5.1 æ¡ˆä¾‹æ¦‚è¿°ä¸åˆ†å±‚æ¶æ„</h3>
<p>FeaturesContent æ˜¯ OODER å®˜ç½‘é¦–é¡µçš„ç‰¹æ€§å±•ç¤ºç»„ä»¶ï¼Œé‡‡ç”¨ Galleryï¼ˆç”»å»Šï¼‰å½¢å¼å‘ˆç° OODER æ¡†æ¶çš„æ ¸å¿ƒç‰¹æ€§ã€‚è¯¥ç»„ä»¶çš„æŠ€æœ¯å®ç°å……åˆ†ä½“ç°äº† OODER æ¡†æ¶çš„å…¨æ ˆä¸€ä½“åŒ–è®¾è®¡ç†å¿µï¼Œé€šè¿‡ä¸¥æ ¼çš„ MVC åˆ†å±‚æ¶æ„å®ç°äº† "æ ·å¼é…ç½® - æ•°æ®å¤„ç† - å‰ç«¯æ¸²æŸ“" çš„å®Œæ•´é—­ç¯ã€‚</p>
<p><strong>ä»£ç åˆ†å±‚ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">â”œâ”€â”€ view/
â”‚   â””â”€â”€ homepage/pagecontainer/features/
â”‚       â”œâ”€â”€ <span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">java</span>          # è§†å›¾ç»„ä»¶ç±»
â”‚       â””â”€â”€ <span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">java</span>      # è§†å›¾æ•°æ®æšä¸¾ç±»
â”œâ”€â”€ net/ooder/test/view/
â”‚   â””â”€â”€ view/homepage/pagecontainer/features/
â”‚       â””â”€â”€ <span class="hljs-title class_">FeaturesContentAPI</span>.<span class="hljs-property">java</span>       # <span class="hljs-title class_">Web</span> <span class="hljs-variable constant_">API</span>æ¥å£
â””â”€â”€ net/ooder/test/repository/
    â””â”€â”€ view/homepage/pagecontainer/features/
        â””â”€â”€ featurescontent/
            â”œâ”€â”€ service/
            â”‚   â”œâ”€â”€ <span class="hljs-title class_">FeaturesContentService</span>.<span class="hljs-property">java</span>   # æœåŠ¡æ¥å£
            â”‚   â””â”€â”€ <span class="hljs-title class_">FeaturesContentServiceImpl</span>.<span class="hljs-property">java</span> # æœåŠ¡å®ç°
            â””â”€â”€ <span class="hljs-variable language_">module</span>/
                â”œâ”€â”€ <span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">java</span>          # æ¨¡å—å®ä½“ç±»
                â””â”€â”€ <span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">java</span>      # æ¨¡å—æ•°æ®ç±»
</code></pre>
<h3 data-id="heading-28">5.2 è§†å›¾å±‚ï¼šæ³¨è§£é©±åŠ¨çš„æ ·å¼é…ç½®</h3>
<h4 data-id="heading-29">5.2.1 ç»„ä»¶æ ·å¼é…ç½®</h4>
<p>FeaturesContent ç»§æ‰¿è‡ª OODER çš„ GalleryItem åŸºç¡€ç»„ä»¶ï¼Œé€šè¿‡ç±»çº§æ³¨è§£é…ç½®å…¨å±€ç”»å»Šæ ·å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">XPath</span>(path=<span class="hljs-string">"view.homepage.homepagemain.pagecontainer.Features.featuresContent"</span>)
@<span class="hljs-title class_">GalleryAnnotation</span>(itemMargin=<span class="hljs-string">"0"</span>, columns=<span class="hljs-number">3</span>, iconFontSize=<span class="hljs-string">"5em"</span>, imageClass=<span class="hljs-string">"ri-th-large-line"</span>)
@<span class="hljs-title class_">EnumsClass</span>(clazz=<span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">class</span>)
public <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeaturesContent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">GalleryItem</span> {
    public <span class="hljs-title class_">FeaturesContent</span>() {
        <span class="hljs-variable language_">super</span>();
    }
}
</code></pre>
<p>@GalleryAnnotationçš„æ ¸å¿ƒå±æ€§é…ç½®ï¼š</p>
<ul>
<li>itemMargin="0"ï¼šè®¾ç½®é¡¹ç›®é—´è·ä¸º 0ï¼Œå®ç°ç´§å‡‘å¸ƒå±€</li>
<li>columns=3ï¼šè®¾ç½®æ¯è¡Œæ˜¾ç¤º 3 åˆ—ï¼Œé€‚åº” PC ç«¯å±å¹•å®½åº¦</li>
<li>iconFontSize="5em"ï¼šè®¾ç½®å›¾æ ‡å­—ä½“å¤§å°ä¸º 5emï¼Œç¡®ä¿è§†è§‰å†²å‡»åŠ›</li>
<li>imageClass="ri-th-large-line"ï¼šä½¿ç”¨ Remix Icon çš„å›¾æ ‡ç±»</li>
</ul>
<h4 data-id="heading-30">5.2.2 æ•°æ®æšä¸¾ç±»è®¾è®¡</h4>
<p>FeaturesContentData æšä¸¾ç±»å®šä¹‰äº†æ‰€æœ‰ç‰¹æ€§é¡¹çš„æ•°æ®ï¼Œå®ç°äº†IGalleryItemå’ŒIconEnumstypeæ¥å£ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">GalleryAnnotation</span>(itemMargin=<span class="hljs-string">"0"</span>, columns=<span class="hljs-number">3</span>, iconFontSize=<span class="hljs-string">"5em"</span>, imageClass=<span class="hljs-string">"ri-th-large-line"</span>)
public enum <span class="hljs-title class_">FeaturesContentData</span> implements <span class="hljs-title class_">IGalleryItem</span>, <span class="hljs-title class_">IconEnumstype</span> {
    <span class="hljs-title function_">feature1</span>(<span class="hljs-string">"å¯è§†åŒ–è®¾è®¡"</span>, <span class="hljs-string">"ri-paint-brush-line"</span>),
    <span class="hljs-title function_">feature2</span>(<span class="hljs-string">"å¿«é€Ÿå¼€å‘"</span>, <span class="hljs-string">"ri-rocket-line"</span>),
    <span class="hljs-title function_">feature3</span>(<span class="hljs-string">"ä¸°å¯Œç»„ä»¶åº“"</span>, <span class="hljs-string">"ri-apps-line"</span>),
    <span class="hljs-title function_">feature4</span>(<span class="hljs-string">"å¤šç«¯é€‚é…"</span>, <span class="hljs-string">"ri-device-line"</span>),
    <span class="hljs-title function_">feature5</span>(<span class="hljs-string">"API é›†æˆ"</span>, <span class="hljs-string">"ri-eye-line"</span>),
    <span class="hljs-title function_">feature6</span>(<span class="hljs-string">"ä¸€é”®éƒ¨ç½²"</span>, <span class="hljs-string">"ri-upload-cloud-line"</span>);
    
    private final <span class="hljs-title class_">String</span> title;
    private final <span class="hljs-title class_">String</span> icon;
    
    <span class="hljs-title class_">FeaturesContentData</span>(<span class="hljs-title class_">String</span> title, <span class="hljs-title class_">String</span> icon) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = title;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">icon</span> = icon;
    }
    
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">String</span> <span class="hljs-title function_">getTitle</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> title; }
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">String</span> <span class="hljs-title function_">getIconClass</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> icon; }
}
</code></pre>
<p>æ¯ä¸ªæšä¸¾å€¼ä»£è¡¨ä¸€ä¸ªç‰¹æ€§é¡¹ï¼ŒåŒ…å«æ ‡é¢˜å’Œå›¾æ ‡ä¿¡æ¯ã€‚è¿™ç§è®¾è®¡çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>æ•°æ®ä¸ä»£ç ç»“åˆï¼Œä¾¿äºç‰ˆæœ¬æ§åˆ¶</li>
<li>ç±»å‹å®‰å…¨ï¼Œç¼–è¯‘æ—¶æ£€æŸ¥</li>
<li>æ”¯æŒé€šè¿‡å·¥å…·ç±»åŠ¨æ€è®¿é—®</li>
</ul>
<h3 data-id="heading-31">5.3 Web æ¥å£å±‚ï¼šRESTful API è®¾è®¡</h3>
<p>FeaturesContentAPI æä¾›äº†æ ‡å‡†çš„ RESTful æ¥å£ï¼Œç”¨äºå‰ç«¯è·å–ç‰¹æ€§åˆ—è¡¨æ•°æ®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Aggregation</span>(rootClass=<span class="hljs-title class_">FeaturesContentAPI</span>.<span class="hljs-property">class</span>, type=<span class="hljs-title class_">AggregationType</span>.<span class="hljs-property">ENTITY</span>)
@<span class="hljs-title class_">RequestMapping</span>(value=<span class="hljs-string">"view/homepage/pagecontainer/features"</span>)
@<span class="hljs-title class_">Controller</span>
public interface <span class="hljs-title class_">FeaturesContentAPI</span> {
    
    @<span class="hljs-title class_">GalleryViewAnnotation</span>(cache=<span class="hljs-literal">false</span>)
    @<span class="hljs-title class_">APIEventAnnotation</span>(bindTabsEvent=<span class="hljs-title class_">CustomTabsEvent</span>.<span class="hljs-property">TABEDITOR</span>)
    @<span class="hljs-title class_">RequestMapping</span>(value=<span class="hljs-string">"FeaturesContent"</span>)
    @<span class="hljs-title class_">ModuleAnnotation</span>(name=<span class="hljs-string">"FeaturesContent"</span>, moduleViewType=<span class="hljs-title class_">ModuleViewType</span>.<span class="hljs-property">GALLERYCONFIG</span>)
    @<span class="hljs-title class_">UIAnnotation</span>(dock=<span class="hljs-title class_">Dock</span>.<span class="hljs-property">fill</span>)
    @<span class="hljs-title class_">ResponseBody</span>
    public <span class="hljs-title class_">ListResultModel</span>&lt;<span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">FeaturesContent</span>&gt;&gt; <span class="hljs-title function_">getFeaturesContent</span>();
}
</code></pre>
<p><strong>å…³é”®æ³¨è§£è§£æ</strong>ï¼š</p>
<ul>
<li>@GalleryViewAnnotation(cache=false)ï¼šå…³é—­ç¼“å­˜ï¼Œç¡®ä¿æ•°æ®å®æ—¶æ€§</li>
<li>@APIEventAnnotationï¼šç»‘å®šå‰ç«¯äº‹ä»¶ï¼Œæ”¯æŒè‡ªåŠ¨è¿è¡Œ</li>
<li>@ModuleAnnotationï¼šå®šä¹‰æ¨¡å—åç§°å’Œè§†å›¾ç±»å‹</li>
<li>@UIAnnotation(dock=Dock.fill)ï¼šé…ç½®å¡«å……æ•´ä¸ªå®¹å™¨çš„å¸ƒå±€æ–¹å¼</li>
<li>@ResponseBodyï¼šè‡ªåŠ¨å°†è¿”å›å€¼åºåˆ—åŒ–ä¸º JSON</li>
</ul>
<h3 data-id="heading-32">5.4 æœåŠ¡å±‚ï¼šä¸šåŠ¡é€»è¾‘å°è£…</h3>
<p>æœåŠ¡å±‚é‡‡ç”¨æ¥å£ä¸å®ç°åˆ†ç¦»çš„è®¾è®¡æ¨¡å¼ï¼Œæä¾›æ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘æŠ½è±¡ï¼š</p>
<h4 data-id="heading-33">5.4.1 æœåŠ¡æ¥å£å®šä¹‰</h4>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Aggregation</span>(moduleName=<span class="hljs-string">"view.homepage.pagecontainer.features"</span>, type=<span class="hljs-title class_">AggregationType</span>.<span class="hljs-property">ENTITY</span>,
             entityClass=<span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">class</span>, rootClass=<span class="hljs-title class_">FeaturesContentService</span>.<span class="hljs-property">class</span>)
public interface <span class="hljs-title class_">FeaturesContentService</span> {
    @<span class="hljs-title class_">APIEventAnnotation</span>(bindMenu = {<span class="hljs-title class_">CustomMenuItem</span>.<span class="hljs-property">RELOAD</span>}, bindTabsEvent = <span class="hljs-title class_">CustomTabsEvent</span>.<span class="hljs-property">TABEDITOR</span>, 
                       autoRun = <span class="hljs-literal">true</span>, customRequestData = <span class="hljs-title class_">RequestPathEnum</span>.<span class="hljs-property">CTX</span>)
    public <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">FeaturesContent</span>&gt; <span class="hljs-title function_">getFeaturesContent</span>() throws <span class="hljs-title class_">JDSException</span>;
}
</code></pre>
<h4 data-id="heading-34">5.4.2 æœåŠ¡å®ç°ç±»</h4>
<p>â€‹</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">EsbBeanAnnotation</span>
public <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeaturesContentServiceImpl</span> implements <span class="hljs-title class_">FeaturesContentService</span> {
    
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">FeaturesContent</span>&gt; <span class="hljs-title function_">getFeaturesContent</span>() throws <span class="hljs-title class_">JDSException</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ESDEnumsUtil</span>.<span class="hljs-title function_">getEnumItems</span>(<span class="hljs-title class_">FeaturesContentData</span>.<span class="hljs-property">class</span>, <span class="hljs-title class_">FeaturesContent</span>.<span class="hljs-property">class</span>);
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒå®ç°é€»è¾‘</strong>ï¼š</p>
<p>æœåŠ¡å®ç°ç±»é€šè¿‡ESDEnumsUtil.getEnumItems()æ–¹æ³•å°†æšä¸¾æ•°æ®è½¬æ¢ä¸ºå®ä½“åˆ—è¡¨ã€‚è¿™ä¸ªå·¥å…·ç±»çš„å®ç°åŸç†æ˜¯ï¼š</p>
<ol>
<li>åå°„è·å–æšä¸¾ç±»çš„æ‰€æœ‰æšä¸¾å€¼</li>
<li>ä¸ºæ¯ä¸ªæšä¸¾å€¼åˆ›å»ºå¯¹åº”çš„å®ä½“å¯¹è±¡</li>
<li>å¡«å……å®ä½“å¯¹è±¡çš„å±æ€§ï¼ˆæ ‡é¢˜ã€å›¾æ ‡ç­‰ï¼‰</li>
<li>è¿”å›å®ä½“åˆ—è¡¨ä¾›ä¸Šå±‚ä½¿ç”¨</li>
</ol>
<h3 data-id="heading-35">5.5 æ•°æ®å±‚ï¼šåŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹</h3>
<p>FeaturesContent é‡‡ç”¨åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹è®¾è®¡ï¼Œç›¸æ¯”ä¼ ç»Ÿæ•°æ®åº“å­˜å‚¨å…·æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ï¼š</p>
<p><strong>æ•°æ®æ¨¡å‹ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>é™æ€æ•°æ®å­˜å‚¨ï¼šç‰¹æ€§åˆ—è¡¨é€šå¸¸æ˜¯ç›¸å¯¹å›ºå®šçš„ä¿¡æ¯</li>
<li>ç±»å‹å®‰å…¨ä¿éšœï¼šé€šè¿‡æšä¸¾ç±»å‹ç¡®ä¿æ•°æ®çš„åˆæ³•æ€§</li>
<li>ç¼–è¯‘æ—¶æ ¡éªŒï¼šæšä¸¾å€¼åœ¨ç¼–è¯‘é˜¶æ®µå³å¯ç¡®å®š</li>
<li>æ— éœ€æŒä¹…åŒ–ï¼šå‡å°‘æ•°æ®åº“ä¾èµ–ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½</li>
</ul>
<p><strong>æ•°æ®è½¬æ¢æœºåˆ¶</strong>ï¼š</p>
<p>ESDEnumsUtil å·¥å…·ç±»æä¾›äº†é€šç”¨çš„æšä¸¾åˆ°å®ä½“è½¬æ¢èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">public <span class="hljs-keyword">static</span> &lt;E <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Enum</span>&lt;E&gt;, T&gt; <span class="hljs-title class_">List</span>&lt;T&gt; <span class="hljs-title function_">getEnumItems</span>(<span class="hljs-title class_">Class</span>&lt;E&gt; enumClass, <span class="hljs-title class_">Class</span>&lt;T&gt; targetClass) 
    throws <span class="hljs-title class_">JDSException</span> {
    <span class="hljs-comment">// å®ç°é€»è¾‘ï¼šåå°„è·å–æšä¸¾å€¼ï¼Œåˆ›å»ºç›®æ ‡å¯¹è±¡ï¼Œå±æ€§æ˜ å°„</span>
}
</code></pre>
<h3 data-id="heading-36">5.6 å…¨æ ˆæ•°æ®æµè½¬æµç¨‹</h3>
<p>FeaturesContent çš„æ•°æ®æµè½¬å±•ç¤ºäº† OODER æ¡†æ¶çš„å…¨æ ˆä¸€ä½“åŒ–èƒ½åŠ›ï¼š</p>
<p><strong>æ•°æ®å®šä¹‰é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>FeaturesContentData æšä¸¾ç±»å®šä¹‰äº† 6 ä¸ªç‰¹æ€§é¡¹</li>
<li>æ¯ä¸ªç‰¹æ€§é¡¹åŒ…å«æ ‡é¢˜å’Œå›¾æ ‡ä¿¡æ¯</li>
<li>æ•°æ®åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œä¿è¯äº†ç±»å‹å®‰å…¨</li>
</ul>
<p><strong>æ•°æ®è½¬æ¢é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æœåŠ¡å±‚è°ƒç”¨ ESDEnumsUtil å·¥å…·ç±»</li>
<li>å°†æšä¸¾æ•°æ®è½¬æ¢ä¸º FeaturesContent å®ä½“åˆ—è¡¨</li>
<li>è‡ªåŠ¨å®Œæˆæ•°æ®æ ¼å¼çš„é€‚é…å’Œæ˜ å°„</li>
</ul>
<p><strong>æ•°æ®ä¼ è¾“é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æ¥å£å±‚å°†å®ä½“åˆ—è¡¨å°è£…ä¸º ListResultModel</li>
<li>é€šè¿‡ @ResponseBody è‡ªåŠ¨åºåˆ—åŒ–ä¸º JSON æ ¼å¼</li>
<li>åŒ…å«çŠ¶æ€ç ã€æ•°æ®ã€æç¤ºä¿¡æ¯çš„å®Œæ•´å“åº”</li>
</ul>
<p><strong>å‰ç«¯æ¸²æŸ“é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ Gallery ç»„ä»¶è§£æ JSON æ•°æ®</li>
<li>æ ¹æ® @GalleryAnnotation é…ç½®çš„æ ·å¼æ¸²æŸ“</li>
<li>æ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œè‡ªåŠ¨é€‚é…ä¸åŒè®¾å¤‡</li>
</ul>
<h3 data-id="heading-37">5.7 æŠ€æœ¯ä¼˜åŠ¿ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-38">5.7.1 æ€§èƒ½ä¼˜åŒ–</h4>
<p>åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹å¸¦æ¥æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å†…å­˜è®¿é—®é€Ÿåº¦å¿«ï¼Œæ— éœ€æ•°æ®åº“æŸ¥è¯¢</li>
<li>æ•°æ®ç»“æ„ç®€å•ï¼Œåºåˆ—åŒ–æ•ˆç‡é«˜</li>
<li>ç¼“å­˜å‹å¥½ï¼Œå¯å®ç°å¿«é€Ÿå“åº”</li>
</ul>
<h4 data-id="heading-39">5.7.2 å¯ç»´æŠ¤æ€§æå‡</h4>
<ul>
<li>æ•°æ®ä¸ä»£ç ä¸€ä½“åŒ–ï¼Œä¾¿äºç‰ˆæœ¬ç®¡ç†</li>
<li>æšä¸¾ç±»å‹æä¾›æ¸…æ™°çš„è¯­ä¹‰è¡¨è¾¾</li>
<li>æ³¨è§£é…ç½®æ”¯æŒå¯è§†åŒ–ç¼–è¾‘</li>
</ul>
<h4 data-id="heading-40">5.7.3 æ‰©å±•æ€§è®¾è®¡</h4>
<p>å¦‚æœæœªæ¥éœ€è¦ä»æ•°æ®åº“åŠ¨æ€åŠ è½½ç‰¹æ€§æ•°æ®ï¼Œåªéœ€ï¼š</p>
<ol>
<li>åˆ›å»ºæ•°æ®åº“å®ä½“ç±»å’Œ DAO æ¥å£</li>
<li>ä¿®æ”¹æœåŠ¡å®ç°ç±»ï¼Œä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®</li>
<li>ä¿æŒæ¥å£ä¸å˜ï¼Œä¸å½±å“ä¸Šå±‚è°ƒç”¨</li>
<li>å‰ç«¯ç»„ä»¶æ— éœ€ä»»ä½•ä¿®æ”¹</li>
</ol>
<h2 data-id="heading-41">å…­ã€å®æ–½è·¯å¾„è§„åˆ’ï¼šä»è®¾è®¡åˆ°ä»£ç çš„å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-42">6.1 è®¾è®¡ç¨¿è§£æä¸ç»“æ„åŒ–æå–</h3>
<p>å®æ–½ OODER å›¾ç”Ÿä»£ç çš„ç¬¬ä¸€æ­¥æ˜¯å°†è®¾è®¡ç¨¿è½¬æ¢ä¸ºæœºå™¨å¯ç†è§£çš„ç»“æ„åŒ–æ•°æ®ã€‚OODER æä¾›äº†onecode design-parseå·¥å…·ï¼Œä¸“é—¨ç”¨äºå°† Figma è®¾è®¡ç¨¿è½¬æ¢ä¸ºåŒ…å« "æ¨¡å—ä½ç½®ã€å°ºå¯¸ã€æ ·å¼ã€äº¤äº’äº‹ä»¶" çš„ JSON æ–‡ä»¶ã€‚</p>
<p><strong>è§£ææµç¨‹è¯¦è§£</strong>ï¼š</p>
<ol>
<li><strong>è®¾è®¡ç¨¿å¯¼å…¥</strong>ï¼šæ”¯æŒ Figma è®¾è®¡ç¨¿çš„ç›´æ¥å¯¼å…¥ï¼Œè‡ªåŠ¨è¯†åˆ«å›¾å±‚ç»“æ„</li>
<li><strong>å›¾å±‚åˆ†æ</strong>ï¼šåˆ†ææ¯ä¸ªå›¾å±‚çš„ç±»å‹ï¼ˆæ–‡æœ¬ã€å½¢çŠ¶ã€å›¾ç‰‡ç­‰ï¼‰ã€ä½ç½®ã€å°ºå¯¸</li>
<li><strong>æ ·å¼æå–</strong>ï¼šæå–é¢œè‰²ã€å­—ä½“ã€è¾¹æ¡†ã€é˜´å½±ç­‰è§†è§‰æ ·å¼ä¿¡æ¯</li>
<li><strong>äº¤äº’è¯†åˆ«</strong>ï¼šè¯†åˆ«æŒ‰é’®ç‚¹å‡»ã€é“¾æ¥è·³è½¬ã€åŠ¨ç”»æ•ˆæœç­‰äº¤äº’è¡Œä¸º</li>
<li><strong>ç»“æ„åŒ–è¾“å‡º</strong>ï¼šç”Ÿæˆæ ‡å‡†çš„ JSON æ ¼å¼é…ç½®æ–‡ä»¶</li>
</ol>
<p><strong>è‹±é›„åŒºè§£æç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"module"</span>: <span class="hljs-string">"Hero"</span>,
  <span class="hljs-string">"style"</span>: {
    <span class="hljs-string">"background"</span>: <span class="hljs-string">"linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%)"</span>,
    <span class="hljs-string">"height"</span>: <span class="hljs-string">"600px"</span>,
    <span class="hljs-string">"color"</span>: <span class="hljs-string">"#fff"</span>
  },
  <span class="hljs-string">"children"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"HeroTitle"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"OODERå…¨æ ˆæ¡†æ¶"</span>,
      <span class="hljs-string">"fontSize"</span>: <span class="hljs-number">48</span>,
      <span class="hljs-string">"position"</span>: { <span class="hljs-string">"x"</span>: <span class="hljs-string">"50%"</span>, <span class="hljs-string">"y"</span>: <span class="hljs-string">"40%"</span> }
    },
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"HeroBtn"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"button"</span>, 
      <span class="hljs-string">"api"</span>: <span class="hljs-string">"/api/ooder/demo-link"</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"ç«‹å³ä½“éªŒ"</span>
    }
  ]
}
</code></pre>
<h3 data-id="heading-43">6.2 AI æ¨¡å‹è®­ç»ƒä¸èƒ½åŠ›åˆå§‹åŒ–</h3>
<p>ä¸ºäº†è®© AI å·¥å…·ï¼ˆå¦‚ Soloï¼‰èƒ½å¤Ÿç†è§£ OODER æ¡†æ¶çš„è§„èŒƒï¼Œéœ€è¦è¿›è¡Œä¸“é—¨çš„è®­ç»ƒï¼š</p>
<p><strong>è®­ç»ƒæ•°æ®å‡†å¤‡</strong>ï¼š</p>
<ol>
<li><strong>OODER ç»„ä»¶åº“æ–‡æ¡£</strong>ï¼šé‡ç‚¹æ ‡æ³¨@Componentæ³¨è§£ç”¨æ³•åŠMenuBarã€Layoutã€Galleryç­‰é«˜é¢‘ç»„ä»¶</li>
<li><strong>è®¾è®¡ç¨¿è§£æè§„èŒƒ</strong>ï¼šæä¾›è®¾è®¡ç¨¿è§£æåçš„ JSON æ ¼å¼è§„èŒƒç¤ºä¾‹</li>
<li><strong>æ³¨è§£å¯¹æ¥ç¤ºä¾‹</strong>ï¼šæä¾›ç»„ä»¶ä¸å…¨æ ˆæ¥å£é€šè¿‡æ³¨è§£å¯¹æ¥çš„å®Œæ•´ç¤ºä¾‹ä»£ç </li>
</ol>
<p><strong>è®­ç»ƒæç¤ºè¯è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">åŸºäº<span class="hljs-variable constant_">OODER</span>å…¨æ ˆæ¡†æ¶v1<span class="hljs-number">.8</span><span class="hljs-number">.0</span>ï¼Œä»¥æä¾›çš„è®¾è®¡ç¨¿<span class="hljs-title class_">JSON</span>ä¸ºä¾æ®ï¼Œç”Ÿæˆæ³¨è§£å¼ç»„ä»¶åŒ–ä»£ç ã€‚è¦æ±‚ï¼š
<span class="hljs-number">1.</span> æ‰€æœ‰æ¨¡å—ä½¿ç”¨<span class="hljs-variable constant_">OODER</span>åŸç”Ÿç»„ä»¶å¹¶æ·»åŠ @<span class="hljs-title class_">Component</span>æ³¨è§£ï¼Œå¦‚å¯¼èˆªç”¨<span class="hljs-title class_">MenuBar</span>ã€å¸ƒå±€ç”¨<span class="hljs-title class_">Layout</span>
<span class="hljs-number">2.</span> ç»„ä»¶éœ€é€šè¿‡@<span class="hljs-title class_">Style</span>æ³¨è§£é…ç½®æ ·å¼ï¼Œé€šè¿‡@<span class="hljs-title class_">EventBind</span>æ³¨è§£ç»‘å®šäº‹ä»¶ï¼Œä¸è®¾è®¡ç¨¿ä¸€è‡´
<span class="hljs-number">3.</span> åç«¯æ¥å£é€šè¿‡@<span class="hljs-title class_">ApiBind</span>æ³¨è§£æ ‡è¯†ï¼Œæ˜ç¡®urlä¸è¯·æ±‚æ–¹æ³•
</code></pre>
<p><strong>è®­ç»ƒæ•ˆæœéªŒè¯</strong>ï¼š</p>
<p>é€šè¿‡å¤šè½®è¿­ä»£è®­ç»ƒï¼ŒAI ç”Ÿæˆä»£ç çš„å‡†ç¡®æ€§é€æ­¥æå‡ï¼š</p>
<ul>
<li>ç¬¬ä¸€è½®ï¼šåŸºç¡€ç»„ä»¶è¯†åˆ«å‡†ç¡®ç‡ 60%</li>
<li>ç¬¬äºŒè½®ï¼šåŠ å…¥æ³¨è§£è§„èŒƒåæå‡è‡³ 80%</li>
<li>ç¬¬ä¸‰è½®ï¼šé’ˆå¯¹ç‰¹å®šç»„ä»¶ç±»å‹ä¼˜åŒ–åè¾¾åˆ° 95%</li>
<li>æœ€ç»ˆç‰ˆæœ¬ï¼šé€šè¿‡æŒç»­ä¼˜åŒ–è¾¾åˆ° 98% ä»¥ä¸Šå‡†ç¡®ç‡</li>
</ul>
<h3 data-id="heading-44">6.3 æ ‘å½¢ç»„ä»¶åŒ–æ‹†åˆ†ç­–ç•¥</h3>
<p>ç»„ä»¶åŒ–æ‹†åˆ†æ˜¯å°†è®¾è®¡ç¨¿è½¬æ¢ä¸ºå¯ç»´æŠ¤ä»£ç çš„å…³é”®æ­¥éª¤ã€‚OODER é‡‡ç”¨æ ‘å½¢ç»“æ„ç»„ç»‡ç»„ä»¶ï¼Œç¡®ä¿ç»“æ„æ¸…æ™°ä¸”æ˜“äºç®¡ç†ã€‚</p>
<p><strong>æ‹†åˆ†åŸåˆ™</strong>ï¼š</p>
<ol>
<li><strong>åŸå­æ€§åŸåˆ™</strong>ï¼šåŸºç¡€ç»„ä»¶ï¼ˆæŒ‰é’®ã€æ–‡æœ¬ã€å›¾æ ‡ï¼‰ä¸å¯å†æ‹†åˆ†</li>
<li><strong>åŠŸèƒ½æ€§åŸåˆ™</strong>ï¼šç›¸å…³åŠŸèƒ½ç»„åˆæˆä¸€ä¸ªç»„ä»¶ç»„</li>
<li><strong>å¯å¤ç”¨æ€§åŸåˆ™</strong>ï¼šé€šç”¨ç»„ä»¶ç‹¬ç«‹å°è£…ï¼Œä¾¿äºå¤ç”¨</li>
<li><strong>å±‚æ¬¡åŒ–åŸåˆ™</strong>ï¼šæŒ‰ç…§è§†è§‰å±‚çº§ç»„ç»‡ç»„ä»¶æ ‘</li>
</ol>
<p><strong>Hero åŒºç»„ä»¶æ ‘è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">PageContainer</span>ï¼ˆæ ¹å®¹å™¨ï¼Œ@<span class="hljs-title class_">Theme</span>ç»‘ä¸»é¢˜ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">ApiContainer</span>ï¼ˆç®¡æ¥å£ï¼Œ@<span class="hljs-title class_">ApiGroup</span>èšåˆï¼‰
â”‚   â”œâ”€â”€ navApiï¼ˆ@<span class="hljs-title class_">ApiBind</span> å¯¼èˆªæ¥å£ï¼‰
â”‚   â””â”€â”€ contactApiï¼ˆ@<span class="hljs-title class_">ApiBind</span> è¡¨å•æ¥å£ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">Navbar</span>ï¼ˆå¯¼èˆªæ ï¼Œ@<span class="hljs-title class_">ApiLink</span>è¿æ¥å£ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">Hero</span>ï¼ˆè‹±é›„åŒºï¼Œå¸¦<span class="hljs-variable constant_">SVG</span>åŠ¨ç”»ï¼‰
â”‚   â”œâ”€â”€ <span class="hljs-title class_">HeroSvgPaper</span>ï¼ˆ<span class="hljs-variable constant_">SVG</span>ç”»æ¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-title class_">HeroTitleSvg</span>ï¼ˆæ ‡é¢˜æ–‡æœ¬ï¼‰
â”‚   â”‚   â””â”€â”€ <span class="hljs-title class_">HeroDescSvg</span>ï¼ˆæè¿°æ–‡æœ¬ï¼‰
â”‚   â””â”€â”€ <span class="hljs-title class_">HeroBtn</span>ï¼ˆç«‹å³ä½“éªŒæŒ‰é’®ï¼‰
â”œâ”€â”€ <span class="hljs-title class_">Features</span>ï¼ˆåŠŸèƒ½ä»‹ç»ï¼Œ<span class="hljs-title class_">Gallery</span>ç»„ä»¶ï¼‰
â””â”€â”€ <span class="hljs-title class_">Contact</span>ï¼ˆè”ç³»è¡¨å•ï¼Œ@<span class="hljs-title class_">FormValidate</span>æ ¡éªŒï¼‰
</code></pre>
<h3 data-id="heading-45">6.4 æ ·å¼åå·®ä¿®å¤ä¸ä¼˜åŒ–</h3>
<p>åœ¨å°†è®¾è®¡ç¨¿è½¬æ¢ä¸º OODER ç»„ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šå‡ºç°æ ·å¼åå·®ï¼Œéœ€è¦è¿›è¡Œç³»ç»Ÿæ€§çš„ä¿®å¤ï¼š</p>
<p><strong>å¸¸è§åå·®ç±»å‹åŠè§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>å®šä½å¤±æ•ˆé—®é¢˜</strong>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šå¯¼èˆªæ å›ºå®šå®šä½å¤±æ•ˆï¼Œè¢«å…¶ä»–å…ƒç´ è¦†ç›–</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ setPosition("fixed")æ—¶ï¼Œå¿…é¡»åŒæ­¥è°ƒç”¨setZIndex(1000)é¿å…å±‚çº§å†²çª</li>
</ul>
</li>
<li><strong>èƒŒæ™¯æ˜¾ç¤ºå¼‚å¸¸</strong>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šæ¸å˜èƒŒæ™¯ã€å›¾ç‰‡èƒŒæ™¯æ˜¾ç¤ºä¸æ­£ç¡®</li>
<li>è§£å†³æ–¹æ¡ˆï¼šæ¸å˜ã€å›¾ç‰‡èƒŒæ™¯éœ€é€šè¿‡@Styleæ³¨è§£çš„backgroundå±æ€§é…ç½®ï¼Œè€Œéç»„ä»¶çš„setBackgroundæ–¹æ³•</li>
</ul>
</li>
<li><strong>é—´è·å¸ƒå±€é—®é¢˜</strong>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šGallery ç»„ä»¶é—´è·ä¸è®¾è®¡ç¨¿ä¸ç¬¦</li>
<li>è§£å†³æ–¹æ¡ˆï¼šGallery ç»„ä»¶çš„å­é¡¹é—´è·é€šè¿‡@Style(itemSpacing = "20px")é…ç½®ï¼Œè€Œéå¤–å±‚ margin</li>
</ul>
</li>
</ol>
<p><strong>æ ·å¼ä¼˜å…ˆçº§è§„åˆ™</strong>ï¼š</p>
<p>OODER æ¡†æ¶å®šä¹‰äº†æ¸…æ™°çš„æ ·å¼ä¼˜å…ˆçº§ï¼š</p>
<ol>
<li>RAD è®¾è®¡å™¨é…ç½®ï¼ˆè‡ªåŠ¨åŒæ­¥è‡³æ³¨è§£ï¼‰</li>
<li>@Styleæ³¨è§£é…ç½®</li>
<li>ç»„ä»¶é»˜è®¤æ ·å¼</li>
<li>@Themeå…¨å±€ä¸»é¢˜</li>
</ol>
<p>é€šè¿‡éµå¾ªè¿™äº›è§„åˆ™ï¼Œæ ·å¼åå·®ç‡å¯ä»åˆå§‹çš„ 40% é™è‡³ 10% ä»¥ä¸‹ã€‚</p>
<h3 data-id="heading-46">6.5 å…¨æ ˆèƒ½åŠ›é›†æˆæµç¨‹</h3>
<p>OODER çš„å…¨æ ˆé›†æˆèƒ½åŠ›æ˜¯å…¶æ ¸å¿ƒç«äº‰åŠ›ï¼Œé€šè¿‡ç®€å•çš„æ³¨è§£é…ç½®å³å¯å®ç°å‰ç«¯ä¸åç«¯çš„æ— ç¼è¡”æ¥ï¼š</p>
<p><strong>åç«¯æ¥å£è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼š</p>
<p>ä½¿ç”¨ooder api-genå‘½ä»¤ï¼Œæ ¹æ®å‰ç«¯ç»„ä»¶çš„@ApiBindæ³¨è§£é…ç½®ï¼Œè‡ªåŠ¨ç”Ÿæˆå«@Apiã€@RequestParamç­‰åç«¯æ³¨è§£çš„æ¥å£æ¨¡æ¿ï¼Œæ”¯æŒ Node.js å’Œ Java ä¸¤ç§è¯­è¨€ã€‚</p>
<p><strong>Java æ¥å£ç”Ÿæˆç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">@<span class="hljs-title class_">Api</span>(<span class="hljs-variable language_">module</span> = <span class="hljs-string">"ooder"</span>, path = <span class="hljs-string">"/api/ooder"</span>)
public <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContactApi</span> {
    
    @<span class="hljs-title class_">ApiPost</span>(path = <span class="hljs-string">"/contact"</span>, description = <span class="hljs-string">"è”ç³»è¡¨å•æäº¤æ¥å£"</span>)
    public <span class="hljs-title class_">Response</span> <span class="hljs-title function_">submit</span>(<span class="hljs-params">
        @RequestParam(name = <span class="hljs-string">"name"</span>, required = <span class="hljs-literal">true</span>, message = <span class="hljs-string">"å§“åä¸èƒ½ä¸ºç©º"</span>) <span class="hljs-built_in">String</span> name,
        @RequestParam(name = <span class="hljs-string">"email"</span>, required = <span class="hljs-literal">true</span>) 
        @Validate(rule = <span class="hljs-string">"email"</span>, message = <span class="hljs-string">"é‚®ç®±æ ¼å¼é”™è¯¯"</span>) <span class="hljs-built_in">String</span> email,
        @RequestParam(name = <span class="hljs-string">"message"</span>, required = <span class="hljs-literal">true</span>) <span class="hljs-built_in">String</span> message
    </span>) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘å®ç°</span>
    }
}
</code></pre>
<p><strong>å‰ç«¯ç»„ä»¶æ•°æ®ç»‘å®š</strong>ï¼š</p>
<p>é€šè¿‡@DataMappingæ³¨è§£å®ç°æ•°æ®çš„è‡ªåŠ¨æ˜ å°„å’Œæ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> featuresGallery = ood.<span class="hljs-title function_">create</span>(<span class="hljs-string">"ood.UI.Gallery"</span>)
    .<span class="hljs-title function_">setId</span>(<span class="hljs-string">"featuresContent"</span>)
    .<span class="hljs-title function_">setColumns</span>(<span class="hljs-number">3</span>)
    .<span class="hljs-title function_">setApi</span>({
        <span class="hljs-attr">url</span>: <span class="hljs-string">"/api/ooder/features"</span>,
        <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>,
        <span class="hljs-attr">dataMapping</span>: <span class="hljs-function">(<span class="hljs-params">apiData</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> apiData.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
                <span class="hljs-attr">id</span>: <span class="hljs-string">`feature_<span class="hljs-subst">${item.id}</span>`</span>,
                <span class="hljs-attr">caption</span>: item.<span class="hljs-property">name</span>,
                <span class="hljs-attr">description</span>: item.<span class="hljs-property">desc</span>,
                <span class="hljs-attr">iconClass</span>: item.<span class="hljs-property">icon</span>,
                <span class="hljs-attr">itemStyle</span>: <span class="hljs-string">`color: <span class="hljs-subst">${item.color}</span>;`</span>
            }));
        }
    });
</code></pre>
<h3 data-id="heading-47">6.6 å¯è§†åŒ–ç®¡ç†ä¸éƒ¨ç½²</h3>
<p>å®Œæˆå…¨æ ˆé›†æˆåï¼ŒOODER æä¾›äº†å¼ºå¤§çš„å¯è§†åŒ–ç®¡ç†èƒ½åŠ›ï¼š</p>
<p><strong>RAD è®¾è®¡å™¨é›†æˆ</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰ç»„ä»¶çš„å±æ€§å¯é€šè¿‡è®¾è®¡å™¨ç›´æ¥ä¿®æ”¹</li>
<li>@Styleæ³¨è§£æ ·å¼å®æ—¶é¢„è§ˆå’Œè°ƒæ•´</li>
<li>@ApiBindæ¥å£ç»‘å®šå¯è§†åŒ–é…ç½®</li>
<li>ä¿®æ”¹åè‡ªåŠ¨åŒæ­¥è‡³æ³¨è§£ä»£ç </li>
</ul>
<p><strong>ä¸€é”®éƒ¨ç½²æµç¨‹</strong>ï¼š</p>
<p>ä½¿ç”¨onecode deployå‘½ä»¤å¯å®ç°ä¸€é”®éƒ¨ç½²è‡³ç”Ÿäº§ç¯å¢ƒï¼š</p>
<ol>
<li>ä»£ç æ‰“åŒ…ï¼šè‡ªåŠ¨ç¼–è¯‘ã€æ‰“åŒ…é¡¹ç›®</li>
<li>ç¯å¢ƒæ£€æµ‹ï¼šæ£€æŸ¥æœåŠ¡å™¨ç¯å¢ƒé…ç½®</li>
<li>ä¾èµ–å®‰è£…ï¼šè‡ªåŠ¨å®‰è£…æ‰€éœ€ä¾èµ–</li>
<li>æœåŠ¡éƒ¨ç½²ï¼šå¯åŠ¨åº”ç”¨æœåŠ¡</li>
<li>å¥åº·æ£€æŸ¥ï¼šéªŒè¯æœåŠ¡è¿è¡ŒçŠ¶æ€</li>
</ol>
<h2 data-id="heading-48">ä¸ƒã€æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆåˆ†æ</h2>
<h3 data-id="heading-49">7.1 å›¾ç”Ÿä»£ç æŠ€æœ¯çš„å›ºæœ‰æŒ‘æˆ˜</h3>
<p>OODER æ¡†æ¶åœ¨å®æ–½è¿‡ç¨‹ä¸­é¢ä¸´ç€å›¾ç”Ÿä»£ç æŠ€æœ¯çš„ä¸€äº›å›ºæœ‰æŒ‘æˆ˜ï¼Œè¿™äº›æŒ‘æˆ˜æºäºè®¾è®¡ç¨¿åˆ°ä»£ç è½¬æ¢çš„å¤æ‚æ€§ï¼š</p>
<p><strong>è§†è§‰è¿˜åŸåº¦æŒ‘æˆ˜</strong>ï¼š</p>
<p>å°½ç®¡ OODER é€šè¿‡ "è®¾è®¡ç¨¿ç»“æ„åŒ–è§£æ + ç»„ä»¶æ ·å¼è§„åˆ™ + AI äºŒæ¬¡è®­ç»ƒ" çš„ä¸‰é‡ä¿éšœï¼Œå°†æ ·å¼è¿˜åŸåº¦ä»åˆå§‹çš„ 60% æå‡è‡³ 95%ï¼Œä½†ä»å­˜åœ¨ä¸€äº›éš¾ä»¥å®Œå…¨è§£å†³çš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>å¤æ‚æ¸å˜æ•ˆæœçš„ç²¾ç¡®åŒ¹é…</li>
<li>ç‰¹æ®Šå­—ä½“å’Œå›¾æ ‡å­—ä½“çš„è¯†åˆ«</li>
<li>å¾®å¦™çš„è§†è§‰ç»†èŠ‚ï¼ˆå¦‚é˜´å½±ã€é€æ˜åº¦ï¼‰</li>
</ul>
<p><strong>äº¤äº’é€»è¾‘ç†è§£å›°éš¾</strong>ï¼š</p>
<p>è®¾è®¡ç¨¿é€šå¸¸åªè¡¨è¾¾é™æ€è§†è§‰ä¿¡æ¯ï¼Œå¯¹äºå¤æ‚çš„äº¤äº’é€»è¾‘ï¼ˆå¦‚æ‹–æ‹½æ’åºã€å®æ—¶æœç´¢ã€åŠ¨ç”»è¿‡æ¸¡ï¼‰ç¼ºä¹æ˜ç¡®çš„è¡¨è¾¾æ–¹å¼ã€‚OODER é€šè¿‡ä»¥ä¸‹æ–¹å¼éƒ¨åˆ†è§£å†³ï¼š</p>
<ul>
<li>å»ºç«‹äº¤äº’æ¨¡å¼åº“ï¼Œä¸ºå¸¸è§äº¤äº’å®šä¹‰æ ‡å‡†é…ç½®</li>
<li>é€šè¿‡ AI æ¨¡å‹å­¦ä¹ è®¾è®¡ç¨¿ä¸­çš„äº¤äº’æš—ç¤º</li>
<li>æä¾›äº¤äº’é…ç½®é¢æ¿ï¼Œå…è®¸äººå·¥è¡¥å……äº¤äº’é€»è¾‘</li>
</ul>
<p><strong>å“åº”å¼é€‚é…å¤æ‚æ€§</strong>ï¼š</p>
<p>ç°ä»£ Web åº”ç”¨éœ€è¦é€‚é…å¤šç§è®¾å¤‡å°ºå¯¸ï¼Œè¿™ç»™å›¾ç”Ÿä»£ç å¸¦æ¥é¢å¤–æŒ‘æˆ˜ï¼š</p>
<ul>
<li>æ–­ç‚¹è®¾è®¡çš„è‡ªåŠ¨è¯†åˆ«å’Œåº”ç”¨</li>
<li>ä¸åŒå°ºå¯¸ä¸‹çš„å¸ƒå±€é‡ç»„é€»è¾‘</li>
<li>å›¾ç‰‡å’Œå­—ä½“çš„è‡ªé€‚åº”ç­–ç•¥</li>
</ul>
<h3 data-id="heading-50">7.2 æ³¨è§£é©±åŠ¨æ¶æ„çš„æŠ€æœ¯ç“¶é¢ˆ</h3>
<p>è™½ç„¶ OODER çš„æ³¨è§£é©±åŠ¨æœºåˆ¶å¸¦æ¥äº†è¯¸å¤šä¼˜åŠ¿ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›æŠ€æœ¯ç“¶é¢ˆï¼š</p>
<p><strong>æ³¨è§£é…ç½®å¤æ‚åº¦</strong>ï¼š</p>
<p>éšç€é¡¹ç›®è§„æ¨¡çš„å¢å¤§ï¼Œæ³¨è§£é…ç½®çš„å¤æ‚åº¦å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼š</p>
<ul>
<li>å¤šå±‚åµŒå¥—ç»„ä»¶çš„æ³¨è§£ç®¡ç†</li>
<li>è·¨ç»„ä»¶çš„ä¾èµ–å…³ç³»å¤„ç†</li>
<li>å¤æ‚ä¸šåŠ¡é€»è¾‘çš„æ³¨è§£è¡¨è¾¾</li>
</ul>
<p><strong>æ€§èƒ½å¼€é”€åˆ†æ</strong>ï¼š</p>
<p>åå°„æœºåˆ¶å’ŒåŠ¨æ€ä»£ç†è™½ç„¶æä¾›äº†çµæ´»æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥æ€§èƒ½å¼€é”€ï¼š</p>
<ul>
<li>ç±»åŠ è½½æ—¶çš„æ³¨è§£è§£ææ—¶é—´</li>
<li>è¿è¡Œæ—¶åå°„è°ƒç”¨çš„æ€§èƒ½æŸå¤±</li>
<li>å¤§é‡æ³¨è§£é…ç½®çš„å†…å­˜å ç”¨</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶é¢„è§£ææ‰€æœ‰æ³¨è§£ï¼Œæ„å»ºå…ƒæ•°æ®ç¼“å­˜</li>
<li><strong>åˆ†æ‰¹å¤„ç†</strong>ï¼šå°†å¤§å‹é…ç½®æ–‡ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªå°æ–‡ä»¶ï¼Œé™ä½è§£æå¤æ‚åº¦</li>
<li><strong>å¢é‡åŠ è½½</strong>ï¼šåªåŠ è½½å½“å‰é¡µé¢éœ€è¦çš„ç»„ä»¶é…ç½®</li>
<li><strong>é™æ€åˆ†æ</strong>ï¼šä½¿ç”¨é™æ€ä»£ç åˆ†æå·¥å…·ä¼˜åŒ–æ³¨è§£é…ç½®</li>
</ol>
<h3 data-id="heading-51">7.3 å…¨æ ˆé›†æˆçš„å…¼å®¹æ€§é—®é¢˜</h3>
<p>OODER çš„å…¨æ ˆé›†æˆè™½ç„¶å¼ºå¤§ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­ä»é¢ä¸´ä¸€äº›å…¼å®¹æ€§æŒ‘æˆ˜ï¼š</p>
<p><strong>å‰åç«¯æ•°æ®æ ¼å¼åŒ¹é…</strong>ï¼š</p>
<p>é—®é¢˜è¡¨ç°ï¼šå‰ç«¯ç»„ä»¶æœŸæœ›çš„æ•°æ®æ ¼å¼ä¸åç«¯æ¥å£è¿”å›çš„æ•°æ®æ ¼å¼ä¸ä¸€è‡´ï¼Œå¯¼è‡´æ¸²æŸ“å¤±è´¥ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>å®šä¹‰ä¸¥æ ¼çš„æ•°æ®æ¥å£è§„èŒƒï¼Œä½¿ç”¨ Swagger ç­‰å·¥å…·è¿›è¡Œå¥‘çº¦ç®¡ç†</li>
<li>å®ç°è‡ªåŠ¨æ•°æ®è½¬æ¢æœºåˆ¶ï¼Œæ”¯æŒå¸¸è§æ•°æ®ç±»å‹çš„è‡ªåŠ¨æ˜ å°„</li>
<li>æä¾›æ•°æ®éªŒè¯æœºåˆ¶ï¼Œåœ¨æ¥å£è°ƒç”¨å‰è¿›è¡Œæ ¼å¼æ ¡éªŒ</li>
</ol>
<p><strong>è·¨åŸŸè®¿é—®é—®é¢˜</strong>ï¼š</p>
<p>é—®é¢˜è¡¨ç°ï¼šæœ¬åœ°å¼€å‘æ—¶ç»„ä»¶æ­£å¸¸è¯·æ±‚æ•°æ®ï¼Œéƒ¨ç½²åå‡ºç°è·¨åŸŸé”™è¯¯ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>è®­ç»ƒ AI åœ¨setApiä¸­æ·»åŠ withCredentials: trueé…ç½®</li>
<li>æ¡†æ¶è‡ªåŠ¨å¯ç”¨ CORS è·¨åŸŸæ”¯æŒï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®æœåŠ¡å™¨</li>
<li>æä¾›ç»Ÿä¸€çš„è·¨åŸŸå¤„ç†ä¸­é—´ä»¶</li>
</ol>
<p><strong>æ•°æ®åº“å…¼å®¹æ€§</strong>ï¼š</p>
<p>è™½ç„¶ FeaturesContent æ¡ˆä¾‹ä½¿ç”¨æšä¸¾æ•°æ®æ¨¡å‹ï¼Œä½†åœ¨å®é™…é¡¹ç›®ä¸­å¸¸éœ€è¦ä¸å„ç§æ•°æ®åº“äº¤äº’ï¼š</p>
<ul>
<li>ä¸åŒæ•°æ®åº“æ–¹è¨€çš„ SQL è¯­æ³•å·®å¼‚</li>
<li>æ•°æ®åº“è¿æ¥æ± çš„é…ç½®å’Œç®¡ç†</li>
<li>äº‹åŠ¡å¤„ç†å’Œæ•°æ®ä¸€è‡´æ€§ä¿è¯</li>
</ul>
<h3 data-id="heading-52">7.4 å›¢é˜Ÿåä½œä¸çŸ¥è¯†è½¬ç§»æŒ‘æˆ˜</h3>
<p>OODER æ¡†æ¶çš„æˆåŠŸå®æ–½ä¸ä»…ä¾èµ–æŠ€æœ¯æœ¬èº«ï¼Œè¿˜é¢ä¸´å›¢é˜Ÿåä½œæ–¹é¢çš„æŒ‘æˆ˜ï¼š</p>
<p><strong>æŠ€æœ¯æ ˆå­¦ä¹ æˆæœ¬</strong>ï¼š</p>
<ul>
<li>è®¾è®¡å¸ˆéœ€è¦ç†è§£ç»„ä»¶åŒ–å’Œæ³¨è§£æ¦‚å¿µ</li>
<li>å‰ç«¯å¼€å‘äººå‘˜éœ€è¦æŒæ¡æ–°çš„æ¡†æ¶ç‰¹æ€§</li>
<li>åç«¯å¼€å‘äººå‘˜éœ€è¦é€‚åº”æ–°çš„æ¥å£è§„èŒƒ</li>
<li>æµ‹è¯•äººå‘˜éœ€è¦äº†è§£è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶</li>
</ul>
<p><strong>çŸ¥è¯†è½¬ç§»æœºåˆ¶</strong>ï¼š</p>
<p>ä¸ºè§£å†³çŸ¥è¯†è½¬ç§»é—®é¢˜ï¼Œå»ºè®®å»ºç«‹ä»¥ä¸‹æœºåˆ¶ï¼š</p>
<ol>
<li><strong>æ ‡å‡†åŒ–æ–‡æ¡£</strong>ï¼šä¸ºæ¯ä¸ªç»„ä»¶ç¼–å†™è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£</li>
<li><strong>åŸ¹è®­ä½“ç³»</strong>ï¼šå®šæœŸç»„ç»‡æŠ€æœ¯åŸ¹è®­å’Œåˆ†äº«ä¼š</li>
<li><strong>æœ€ä½³å®è·µåº“</strong>ï¼šæ”¶é›†å’Œæ•´ç†æˆåŠŸæ¡ˆä¾‹</li>
<li><strong>ä»£ç å®¡æŸ¥æœºåˆ¶</strong>ï¼šé€šè¿‡ä»£ç å®¡æŸ¥ä¼ æ’­æœ€ä½³å®è·µ</li>
</ol>
<h3 data-id="heading-53">7.5 æ‰©å±•æ€§ä¸ç»´æŠ¤æ€§æŒ‘æˆ˜</h3>
<p>éšç€é¡¹ç›®çš„æ¼”è¿›ï¼Œç³»ç»Ÿçš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§é¢ä¸´è€ƒéªŒï¼š</p>
<p><strong>ç»„ä»¶åº“ç®¡ç†</strong>ï¼š</p>
<ul>
<li>å¦‚ä½•ç»„ç»‡å’Œç®¡ç†å¤§é‡çš„è‡ªå®šä¹‰ç»„ä»¶</li>
<li>å¦‚ä½•å¤„ç†ç»„ä»¶ç‰ˆæœ¬å…¼å®¹æ€§</li>
<li>å¦‚ä½•å®ç°ç»„ä»¶çš„è·¨é¡¹ç›®å¤ç”¨</li>
</ul>
<p><strong>é…ç½®ç®¡ç†ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>ç¯å¢ƒé…ç½®çš„å·®å¼‚åŒ–ç®¡ç†ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰</li>
<li>é…ç½®å˜æ›´çš„ç‰ˆæœ¬æ§åˆ¶</li>
<li>é…ç½®å†²çªçš„è‡ªåŠ¨æ£€æµ‹å’Œè§£å†³</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆæ¶æ„</strong>ï¼š</p>
<ol>
<li><strong>ç»„ä»¶åŒ–æ¶æ„</strong>ï¼šå°†ç³»ç»Ÿæ‹†åˆ†ä¸ºç‹¬ç«‹çš„ç»„ä»¶æ¨¡å—</li>
<li><strong>å¾®æœåŠ¡è®¾è®¡</strong>ï¼šå°†å¤æ‚ä¸šåŠ¡æ‹†åˆ†ä¸ºç‹¬ç«‹çš„å¾®æœåŠ¡</li>
<li><strong>é…ç½®ä¸­å¿ƒ</strong>ï¼šå»ºç«‹ç»Ÿä¸€çš„é…ç½®ç®¡ç†å¹³å°</li>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ï¼šå»ºç«‹å®Œå–„çš„è‡ªåŠ¨åŒ–æµ‹è¯•ä½“ç³»</li>
</ol>
<h3 data-id="heading-54">7.6 æœªæ¥å‘å±•è¶‹åŠ¿ä¸åº”å¯¹ç­–ç•¥</h3>
<p>é¢å¯¹å¿«é€Ÿå˜åŒ–çš„æŠ€æœ¯ç¯å¢ƒï¼ŒOODER æ¡†æ¶éœ€è¦æŒç»­æ¼”è¿›ä»¥ä¿æŒç«äº‰åŠ›ï¼š</p>
<p><strong>AI æŠ€æœ¯èåˆè¶‹åŠ¿</strong>ï¼š</p>
<ul>
<li>è®¾è®¡ç¨¿æ™ºèƒ½è¯†åˆ«ç»„ä»¶ç±»å‹ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”æ³¨è§£</li>
<li>åŸºäºç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼ŒAI è‡ªåŠ¨ä¼˜åŒ–@ApiBindæ³¨è§£çš„æ¥å£è¯·æ±‚ç­–ç•¥</li>
<li>å¤šç«¯ç»„ä»¶è‡ªåŠ¨ç”Ÿæˆï¼Œä»åŒä¸€è®¾è®¡ç¨¿åŒæ­¥è¾“å‡º PC ç«¯ã€ç§»åŠ¨ç«¯ã€å°ç¨‹åºç«¯ç»„ä»¶ä»£ç </li>
</ul>
<p><strong>æŠ€æœ¯æ ˆæ¼”è¿›æ–¹å‘</strong>ï¼š</p>
<ol>
<li><strong>WebAssembly é›†æˆ</strong>ï¼šæå‡å…³é”®ç»„ä»¶çš„æ‰§è¡Œæ€§èƒ½</li>
<li><strong>è¾¹ç¼˜è®¡ç®—æ”¯æŒ</strong>ï¼šæ”¯æŒåœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šè¿è¡Œ</li>
<li><strong>äº‘åŸç”Ÿæ¶æ„</strong>ï¼šå…¨é¢æ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²</li>
<li><strong>Serverless é›†æˆ</strong>ï¼šä¸ Serverless æ¶æ„æ·±åº¦èåˆ</li>
</ol>
<p><strong>åº”å¯¹ç­–ç•¥å»ºè®®</strong>ï¼š</p>
<ol>
<li>å»ºç«‹æŠ€æœ¯é¢„ç ”æœºåˆ¶ï¼ŒæŒç»­å…³æ³¨æ–°æŠ€æœ¯å‘å±•</li>
<li>ä¿æŒæ¶æ„çš„å¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§</li>
<li>å»ºç«‹æŠ€æœ¯ç¤¾åŒºï¼Œä¿ƒè¿›ç»éªŒåˆ†äº«å’Œæœ€ä½³å®è·µä¼ æ’­</li>
<li>åˆ¶å®šé•¿æœŸæŠ€æœ¯è·¯çº¿å›¾ï¼Œç¡®ä¿æŠ€æœ¯å‘å±•çš„è¿ç»­æ€§</li>
</ol>
<h2 data-id="heading-55">å…«ã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-56">8.1 æ ¸å¿ƒæŠ€æœ¯ä»·å€¼æ€»ç»“</h3>
<p>é€šè¿‡å¯¹ OODER å›¾ç”Ÿä»£ç æ¡†æ¶çš„å…¨é¢è§£æï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°å…¶åœ¨ç°ä»£ Web å¼€å‘ä¸­çš„é©å‘½æ€§ä»·å€¼ã€‚OODER ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå·¥å…·ï¼Œæ›´æ˜¯ä¸€ä¸ªå®Œæ•´çš„å…¨æ ˆå¼€å‘å¹³å°ï¼Œå®ƒé€šè¿‡åˆ›æ–°çš„æ³¨è§£é©±åŠ¨æœºåˆ¶å®ç°äº†è®¾è®¡ä¸å¼€å‘çš„æ— ç¼è¡”æ¥ã€‚</p>
<p><strong>æŠ€æœ¯åˆ›æ–°ç‚¹æ€»ç»“</strong>ï¼š</p>
<ol>
<li><strong>ä¸‰å±‚æ¶æ„è®¾è®¡</strong>ï¼šOOD çš„æ¶æ„åˆ†ä¸º "å¯è§†åŒ–ç•Œé¢å±‚"" é€»è¾‘å¤„ç†å±‚ ""æ•°æ®å­˜å‚¨å±‚"ï¼Œæ¯å±‚èŒè´£æ¸…æ™°ï¼ŒAI å’Œå·¥å…·åªéœ€å¯¹æ¥å¯¹åº”å±‚çº§ï¼Œæ— éœ€ç†è§£å…¨æ ˆé€»è¾‘ã€‚è¿™ç§è®¾è®¡å¤§å¤§é™ä½äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚</li>
<li><strong>"å››ç»Ÿä¸€" è§„èŒƒ</strong>ï¼šæ ·å¼ã€æ¨¡æ¿ã€è¡Œä¸ºã€æ•°æ®çš„å®Œå…¨åˆ†ç¦»ï¼Œä¸“é—¨ä¸º AI è®¾è®¡çš„ "ç†è§£è§„çŸ©"ï¼Œä½¿ AI çš„è§£ææ­£ç¡®ç‡ä»ä¼ ç»Ÿæ¡†æ¶çš„ 85% æå‡åˆ° 98%ã€‚</li>
<li><strong>æ³¨è§£é©±åŠ¨æœºåˆ¶</strong>ï¼šé€šè¿‡ Java æ³¨è§£å®ç°å‰ç«¯ç»„ä»¶ä¸åç«¯æœåŠ¡çš„æ— ç¼è¡”æ¥ï¼Œå¼€å‘æ•ˆç‡æå‡ 60% ä»¥ä¸Šï¼Œä»£ç å¤ç”¨ç‡ä» 20% æå‡è‡³ 80%ã€‚</li>
<li><strong>å®Œæ•´çš„ SVG ç»„ä»¶ä½“ç³»</strong>ï¼šæä¾›äº†ä»ç”»æ¿åˆ°å…ƒç´ çš„å®Œæ•´ SVG ç»„ä»¶ä½“ç³»ï¼Œæ”¯æŒå¤æ‚åŠ¨ç”»æ•ˆæœï¼Œè§†è§‰è¿˜åŸåº¦å¯è¾¾ 95% ä»¥ä¸Šã€‚</li>
<li><strong>åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹</strong>ï¼šæä¾›äº†ä¸€ç§è½»é‡çº§ã€ç±»å‹å®‰å…¨çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œç‰¹åˆ«é€‚åˆé™æ€æˆ–ä½é¢‘å˜åŠ¨çš„æ•°æ®åœºæ™¯ã€‚</li>
</ol>
<h3 data-id="heading-57">8.2 å®æˆ˜æ¡ˆä¾‹çš„æŠ€æœ¯å¯ç¤º</h3>
<p>HeroSvgPaper å’Œ FeaturesContent ä¸¤ä¸ªå®æˆ˜æ¡ˆä¾‹å……åˆ†å±•ç¤ºäº† OODER æ¡†æ¶çš„æŠ€æœ¯å®åŠ›ï¼š</p>
<p><strong>HeroSvgPaper æŠ€æœ¯äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>é€šè¿‡æ³¨è§£é…ç½®å®ç°äº†å¤æ‚ SVG åŠ¨ç”»æ•ˆæœ</li>
<li>æ”¯æŒåƒç´ çº§çš„è§†è§‰è¿˜åŸ</li>
<li>å“åº”å¼è®¾è®¡å®Œç¾é€‚é…ä¸åŒè®¾å¤‡</li>
<li>åŠ¨ç”»æ€§èƒ½ä¼˜å¼‚ï¼Œæ”¯æŒç¡¬ä»¶åŠ é€Ÿ</li>
</ul>
<p><strong>FeaturesContent æŠ€æœ¯äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸¥æ ¼çš„ MVC åˆ†å±‚æ¶æ„è®¾è®¡</li>
<li>åŸºäºæšä¸¾çš„æ•°æ®æ¨¡å‹ï¼Œæ— éœ€æ•°æ®åº“ä¾èµ–</li>
<li>å…¨æ ˆæ•°æ®æµè½¬è‡ªåŠ¨åŒ–</li>
<li>æ”¯æŒå¯è§†åŒ–é…ç½®å’Œç®¡ç†</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ¡ˆä¾‹å…±åŒè¯æ˜äº† OODER æ¡†æ¶åœ¨å¤„ç†ä¸åŒç±»å‹ç»„ä»¶æ—¶çš„çµæ´»æ€§å’Œå¼ºå¤§èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-58">8.3 å®æ–½å»ºè®®ä¸æœ€ä½³å®è·µ</h3>
<p>åŸºäºæœ¬æ–‡çš„åˆ†æï¼Œä¸º OODER æ¡†æ¶çš„æˆåŠŸå®æ–½æå‡ºä»¥ä¸‹å»ºè®®ï¼š</p>
<p><strong>æŠ€æœ¯å®æ–½å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>å¾ªåºæ¸è¿›çš„å®æ–½ç­–ç•¥</strong>ï¼š
<ul>
<li>å…ˆä»ç®€å•é¡µé¢å¼€å§‹ï¼Œé€æ­¥ç†Ÿæ‚‰æ¡†æ¶ç‰¹æ€§</li>
<li>å»ºç«‹æ ‡å‡†åŒ–çš„ç»„ä»¶åº“å’Œé…ç½®è§„èŒƒ</li>
<li>é€æ­¥æ‰©å±•åˆ°å¤æ‚ä¸šåŠ¡åœºæ™¯</li>
</ul>
</li>
<li><strong>å›¢é˜ŸåŸ¹è®­ä¸çŸ¥è¯†è½¬ç§»</strong>ï¼š
<ul>
<li>ä¸ºè®¾è®¡å¸ˆæä¾›ç»„ä»¶åŒ–å’Œæ³¨è§£æ¦‚å¿µåŸ¹è®­</li>
<li>ä¸ºå¼€å‘äººå‘˜æä¾›æ¡†æ¶ä½¿ç”¨åŸ¹è®­</li>
<li>å»ºç«‹æŠ€æœ¯åˆ†äº«æœºåˆ¶ï¼Œä¿ƒè¿›çŸ¥è¯†ä¼ æ’­</li>
</ul>
</li>
<li><strong>è´¨é‡ä¿éšœä½“ç³»</strong>ï¼š
<ul>
<li>å»ºç«‹ä»£ç å®¡æŸ¥æœºåˆ¶ï¼Œç¡®ä¿è§„èŒƒéµå¾ª</li>
<li>å®Œå–„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¦†ç›–æ ¸å¿ƒåŠŸèƒ½</li>
<li>å»ºç«‹æ€§èƒ½ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°é—®é¢˜</li>
</ul>
</li>
</ol>
<p><strong>æ¶æ„è®¾è®¡å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šå°†ç³»ç»Ÿæ‹†åˆ†ä¸ºç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—åŒ…å«å®Œæ•´çš„ MVC ç»“æ„</li>
<li><strong>ç»„ä»¶åŒ–æ€ç»´</strong>ï¼šå°½å¯èƒ½å°†å¯å¤ç”¨çš„ UI å…ƒç´ å°è£…ä¸ºç»„ä»¶</li>
<li><strong>é…ç½®åŒ–ç®¡ç†</strong>ï¼šå°†å¯å˜å‚æ•°é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†ï¼Œé¿å…ç¡¬ç¼–ç </li>
</ol>
<p><strong>æ€§èƒ½ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆç†ä½¿ç”¨ç¼“å­˜ï¼Œç‰¹åˆ«æ˜¯é™æ€æ•°æ®å’Œé¢‘ç¹è®¿é—®çš„æ•°æ®</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šå¯¹äºå¤§é‡ç»„ä»¶çš„æ¸²æŸ“ï¼Œé‡‡ç”¨æ‰¹é‡å¤„ç†æ–¹å¼</li>
<li><strong>æ‡’åŠ è½½</strong>ï¼šå®ç°ç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œæé«˜åˆå§‹åŠ è½½é€Ÿåº¦</li>
</ol>
<h3 data-id="heading-59">8.4 æœªæ¥å‘å±•å±•æœ›</h3>
<p>OODER æ¡†æ¶çš„å‘å±•å‰æ™¯å¹¿é˜”ï¼Œç‰¹åˆ«æ˜¯åœ¨ AI æŠ€æœ¯å¿«é€Ÿå‘å±•çš„èƒŒæ™¯ä¸‹ï¼š</p>
<p><strong>æŠ€æœ¯å‘å±•æ–¹å‘</strong>ï¼š</p>
<ol>
<li><strong>AI æ·±åº¦é›†æˆ</strong>ï¼š
<ul>
<li>è®¾è®¡ç¨¿æ™ºèƒ½è§£æï¼Œè‡ªåŠ¨è¯†åˆ«ç»„ä»¶ç±»å‹</li>
<li>æ™ºèƒ½æ¨èæœ€é€‚åˆçš„ç»„ä»¶å’Œé…ç½®</li>
<li>åŸºäºç”¨æˆ·è¡Œä¸ºçš„ä¸ªæ€§åŒ–é…ç½®ä¼˜åŒ–</li>
</ul>
</li>
<li><strong>å¤šç«¯æ”¯æŒæ‰©å±•</strong>ï¼š
<ul>
<li>æ”¯æŒæ›´å¤šå‰ç«¯æ¡†æ¶ï¼ˆå¦‚ Reactã€Vueï¼‰</li>
<li>æ”¯æŒè·¨å¹³å°å¼€å‘ï¼ˆiOSã€Androidï¼‰</li>
<li>æ”¯æŒç‰©è”ç½‘è®¾å¤‡ç•Œé¢ç”Ÿæˆ</li>
</ul>
</li>
<li><strong>æ™ºèƒ½åŒ–å¼€å‘è¾…åŠ©</strong>ï¼š
<ul>
<li>ä»£ç è‡ªåŠ¨è¡¥å…¨å’Œé”™è¯¯æ£€æµ‹</li>
<li>æ€§èƒ½ä¼˜åŒ–å»ºè®®å’Œè‡ªåŠ¨è°ƒæ•´</li>
<li>å®‰å…¨æ¼æ´æ£€æµ‹å’Œä¿®å¤å»ºè®®</li>
</ul>
</li>
</ol>
<p><strong>å¸‚åœºå‰æ™¯åˆ†æ</strong>ï¼š</p>
<p>éšç€ä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ·±å…¥ï¼Œå¯¹å¿«é€Ÿå¼€å‘ã€é«˜è´¨é‡äº¤ä»˜çš„éœ€æ±‚æ—¥ç›Šå¢é•¿ã€‚OODER æ¡†æ¶é€šè¿‡å›¾ç”Ÿä»£ç æŠ€æœ¯ï¼Œèƒ½å¤Ÿæ˜¾è‘—ç¼©çŸ­å¼€å‘å‘¨æœŸï¼Œé™ä½å¼€å‘æˆæœ¬ï¼Œæé«˜äº¤ä»˜è´¨é‡ã€‚ç‰¹åˆ«æ˜¯åœ¨ä»¥ä¸‹é¢†åŸŸå…·æœ‰å·¨å¤§æ½œåŠ›ï¼š</p>
<ol>
<li><strong>ä¼ä¸šåº”ç”¨å¼€å‘</strong>ï¼šå¿«é€Ÿæ„å»ºä¼ä¸šé—¨æˆ·ã€ç®¡ç†ç³»ç»Ÿç­‰</li>
<li><strong>ç”µå•†å¹³å°å»ºè®¾</strong>ï¼šå¿«é€Ÿæ­å»ºç”µå•†ç½‘ç«™ã€ç§»åŠ¨åº”ç”¨ç­‰</li>
<li><strong>ç‰©è”ç½‘åº”ç”¨</strong>ï¼šä¸ºæ™ºèƒ½è®¾å¤‡ç”Ÿæˆæ§åˆ¶ç•Œé¢</li>
<li><strong>æ•™è‚²åŸ¹è®­</strong>ï¼šé™ä½ç¼–ç¨‹å­¦ä¹ é—¨æ§›ï¼Œæé«˜æ•™å­¦æ•ˆç‡</li>
</ol>
<h3 data-id="heading-60">8.5 ç»“è¯­</h3>
<p>OODER å›¾ç”Ÿä»£ç æ¡†æ¶ä»£è¡¨äº† Web å¼€å‘æŠ€æœ¯çš„ä¸€ä¸ªé‡è¦å‘å±•æ–¹å‘ã€‚å®ƒé€šè¿‡åˆ›æ–°çš„æ³¨è§£é©±åŠ¨æœºåˆ¶ã€å®Œæ•´çš„å…¨æ ˆæ¶æ„è®¾è®¡ã€å¼ºå¤§çš„ AI é›†æˆèƒ½åŠ›ï¼Œå®ç°äº†è®¾è®¡ä¸å¼€å‘çš„çœŸæ­£èåˆã€‚é€šè¿‡æœ¬æ–‡çš„æ·±å…¥åˆ†æï¼Œæˆ‘ä»¬çœ‹åˆ°äº† OODER åœ¨æŠ€æœ¯åˆ›æ–°ã€å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡ç­‰æ–¹é¢çš„æ˜¾è‘—ä¼˜åŠ¿ã€‚</p>
<p>ç„¶è€Œï¼Œæˆ‘ä»¬ä¹Ÿè¦æ¸…é†’åœ°è®¤è¯†åˆ°ï¼Œä»»ä½•æŠ€æœ¯éƒ½ä¸æ˜¯å®Œç¾çš„ã€‚OODER æ¡†æ¶åœ¨å®é™…åº”ç”¨ä¸­ä»é¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼Œå¦‚å¤æ‚äº¤äº’çš„å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–ã€å›¢é˜Ÿåä½œç­‰é—®é¢˜ã€‚ä½†éšç€æŠ€æœ¯çš„ä¸æ–­è¿›æ­¥å’Œç¤¾åŒºçš„æŒç»­å®Œå–„ï¼Œè¿™äº›é—®é¢˜éƒ½å°†é€æ­¥å¾—åˆ°è§£å†³ã€‚</p>
<p>å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒæŒæ¡ OODER è¿™æ ·çš„å…ˆè¿›æ¡†æ¶ä¸ä»…æ˜¯æŠ€æœ¯èƒ½åŠ›çš„æå‡ï¼Œæ›´æ˜¯å¯¹æœªæ¥å¼€å‘æ¨¡å¼çš„é€‚åº”ã€‚åœ¨ AI æ—¶ä»£ï¼Œèƒ½å¤Ÿå°†è®¾è®¡æ€ç»´ã€ç¼–ç¨‹èƒ½åŠ›å’Œå·¥å…·ä½¿ç”¨æœ‰æœºç»“åˆçš„å¼€å‘è€…å°†æ›´å…·ç«äº‰åŠ›ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ç›¸ä¿¡ï¼Œéšç€å›¾ç”Ÿä»£ç æŠ€æœ¯çš„ä¸æ–­æˆç†Ÿå’Œå®Œå–„ï¼ŒOODER æ¡†æ¶å°†åœ¨æ¨åŠ¨è½¯ä»¶å¼€å‘é©å‘½çš„é“è·¯ä¸Šå‘æŒ¥è¶Šæ¥è¶Šé‡è¦çš„ä½œç”¨ï¼Œä¸ºå®ç° "è®¾è®¡å³ä»£ç " çš„ç»ˆæç›®æ ‡è´¡çŒ®åŠ›é‡ã€‚</p>
<p>â€‹</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£å†³npm publishçš„404/403å’Œé…ç½®è­¦å‘Šå…¨è®°å½•]]></title>    <link>https://juejin.cn/post/7582231988147585075</link>    <guid>https://juejin.cn/post/7582231988147585075</guid>    <pubDate>2025-12-11T12:57:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988147585075" data-draft-id="7582231988147519539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£å†³npm publishçš„404/403å’Œé…ç½®è­¦å‘Šå…¨è®°å½•"/> <meta itemprop="keywords" content="å‰ç«¯,NPM,Node.js"/> <meta itemprop="datePublished" content="2025-12-11T12:57:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥èˆªé©¿ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/4125023356335576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£å†³npm publishçš„404/403å’Œé…ç½®è­¦å‘Šå…¨è®°å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023356335576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥èˆªé©¿ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:57:05.000Z" title="Thu Dec 11 2025 12:57:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‰§è¡Œè¯¥å‘½ä»¤å‘ç°è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯å¸¦ç€é—®é¢˜å»é—®äº†AIï¼Œè¯´æ˜¯éœ€è¦å»é…ç½®npm token</p>
<pre><code class="hljs">npm publish
</code></pre>
<p>404-å¯èƒ½æ˜¯æ²¡æœ‰ç™»å½•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64b52c574dc945388dedcd5202a17016~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=K9kUw60Ypw%2FuC2Sv8QnpxYW3YLk%3D" alt="image.png" loading="lazy"/></p>
<p>403-æˆæƒé—®é¢˜</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cd415f17310495db6d1987b79c95457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=tT3DQfuwPvKFAH70GDnZGKN0iTw%3D" alt="image.png" loading="lazy"/></p>
<p>æµç¨‹-ç™»å½• npm å®˜ç½‘ -&gt; Avatar -&gt; Access Tokens -&gt;Â Generate New TokenÂ -&gt; é€‰Â Automation / Granular Access Tokenï¼Œç¡®ä¿æœ‰Â publishÂ æƒé™ä¸”æ”¯æŒÂ Bypass 2FA</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/403cb733f0294e4a9c788b1347587be3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=CEcqo2KhDpCndzMDeVP1nF8QD78%3D" alt="image.png" loading="lazy"/></p>
<p>è®¾ç½®tokenï¼Œä¸è¦æ”¾åœ¨.npmrcä¸­ï¼Œå¯ä»¥ç›´æ¥å‘½ä»¤è¡Œè®¾ç½®</p>
<pre><code class="hljs language-bash" lang="bash">npm config <span class="hljs-built_in">set</span> //registry.npmjs.org/:_authToken=npm_16ZGwGQDSAUJEND3I927ZmAd1PP3IapziOD2jz6tj
</code></pre>
<p>æ¥ä¸‹æ¥æŠ¥é”™ï¼Œis-currentï¼Œæ„æ€è¯´å¤šäº†è¿™ä¸ªå±äºï¼Œä¸å…è®¸æäº¤ï¼Œç‰ˆæœ¬é—®é¢˜</p>
<pre><code class="hljs language-arduino" lang="arduino">npm warn Unknown user config <span class="hljs-string">"is-current"</span>. This will stop working in the next major version of npm.
</code></pre>
<p>æŸ¥çœ‹å½“å‰é…ç½®æ¥æºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npmÂ configÂ listÂ -l
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01d94566d1434423989fe68d0fb3ba85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766062624&amp;x-signature=%2Be6dsPLOoGtDqPNi80a2zWXQgDo%3D" alt="image.png" loading="lazy"/></p>
<p>é…ç½®è¿˜æŒºå¤šçš„ï¼Œå¤§å®¶å¯è‡ªè¡ŒæŸ¥çœ‹</p>
<p>åœ¨è¾“å‡ºä¸­æ‰¾åˆ°åŒ…å«Â is-currentÂ çš„ä½ç½®ï¼ˆé€šå¸¸æ˜¯åœ¨ç”¨æˆ·çº§æˆ–é¡¹ç›®çº§ .npmrcï¼‰ã€‚2) åˆ é™¤è¿™é¡¹é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npmÂ configÂ deleteÂ is-current
</code></pre>
<p>å¦‚æœåœ¨é¡¹ç›®æ ¹ç›®å½•çš„Â .npmrcÂ é‡Œæ‰‹åŠ¨å†™äº†è¿™ä¸€è¡Œï¼Œç›´æ¥åˆ æ‰è¯¥è¡Œæˆ–æ¸…ç©ºæ–‡ä»¶ã€‚å®Œæˆåå†æ‰§è¡Œå‘½ä»¤ï¼Œè­¦å‘Šå°±ä¸ä¼šå‡ºç°äº†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šæ¢…é›¨å­£çš„é™¤æ¹¿é‡ã€‹]]></title>    <link>https://juejin.cn/post/7582393212767830070</link>    <guid>https://juejin.cn/post/7582393212767830070</guid>    <pubDate>2025-12-11T11:02:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582393212767830070" data-draft-id="7582406735387705350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šæ¢…é›¨å­£çš„é™¤æ¹¿é‡ã€‹"/> <meta itemprop="keywords" content="åˆ›ä¸š,ç”µå­ä¹¦,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T11:02:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£…ç¡é¹¿å…ˆç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1117561743761582"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šæ¢…é›¨å­£çš„é™¤æ¹¿é‡ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561743761582/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£…ç¡é¹¿å…ˆç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:02:12.000Z" title="Thu Dec 11 2025 11:02:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç¬¬ä¸€ç« ï¼šæ¹¿åº¦ç™¾åˆ†ä¹‹ä¹åä¸‰</p>
<p>å—æ–¹çš„å…­æœˆï¼Œç©ºæ°”é‡å¾—åƒå¸é¥±äº†æ°´çš„æ£‰çµ®ï¼Œé»åœ¨çš®è‚¤ä¸Šï¼Œç”©éƒ½ç”©ä¸æ‰ã€‚</p>
<p>å®¢å…è§’è½çš„é™¤æ¹¿æœºå·²ç»å·¥ä½œäº†æ•´æ•´å››ä¸ªå°æ—¶ï¼Œâ€œå—¡å—¡â€çš„ä½é¢‘å™ªéŸ³æˆäº†è¿™ä¸ªå®¶é‡Œå”¯ä¸€çš„èƒŒæ™¯éŸ³ã€‚æ˜¾ç¤ºå±ä¸Šçš„æ•°å­—é¡½å›ºåœ°åœç•™åœ¨â€œ93%â€ï¼Œä»¿ä½›åœ¨å˜²ç¬‘è¿™å°æœºå™¨çš„å¾’åŠ³ã€‚æ°´ç®±æ»¡äº†ï¼Œæœºå™¨å‘å‡ºâ€œæ»´â€”â€”â€çš„ä¸€å£°é•¿é¸£ï¼Œéšåé™·å…¥åœæ‘†çš„å¯‚é™ã€‚</p>
<p>æ—å©‰ååœ¨é¤æ¡Œå‰ï¼Œæ‰‹é‡Œæ¡ç€ä¸€åªé©¬å…‹æ¯ï¼Œæ¯å£ä¸Šçš„å†·å‡æ°´é¡ºç€æŒ‡ç¼æµä¸‹æ¥ï¼Œæœ‰ç‚¹å‡‰ã€‚å¥¹æ²¡æœ‰å»å€’æ‰é™¤æ¹¿æœºé‡Œçš„æ°´ï¼Œåªæ˜¯ç›¯ç€å¢™è§’çœ‹ã€‚</p>
<p>é‚£é‡Œæœ‰ä¸€å—ç¡¬å¸å¤§å°çš„æ°´æ¸ï¼Œä¹Ÿæ˜¯ä¸¤å¤©å‰åˆšå‡ºç°çš„ã€‚èµ·åˆåªæ˜¯æ·¡é»„è‰²çš„æ™•æŸ“ï¼Œåƒæ˜¯ä¸€æ»´é™ˆå¹´çš„èŒ¶æ°´æº…åˆ°äº†å¢™ä¸Šï¼Œä½†ç°åœ¨ï¼Œå®ƒå¼€å§‹å‘é»‘ï¼Œä¸­å¿ƒå¾®å¾®é¼“èµ·ï¼Œåƒæ˜¯ä¸€å—çš®è‚¤ä¸‹çš„æ·¤é’ã€‚</p>
<p>ç„å…³ä¼ æ¥æŒ‡çº¹é”ç”µæœºè½¬åŠ¨çš„å£°éŸ³ã€‚ç´§æ¥ç€æ˜¯é—¨æŠŠæ‰‹ä¸‹å‹çš„è„†å“ã€‚</p>
<p>æ™šä¸Šåç‚¹ä¸€åˆ»ã€‚é™ˆå™å›æ¥äº†ã€‚</p>
<p>â€œå¤–é¢é›¨å¤ªå¤§äº†ï¼Œé«˜æ¶ä¸Šä¸‰è½¦è¿½å°¾ï¼Œå µäº†å¿«ä¸€ä¸ªå°æ—¶ã€‚â€é™ˆå™ä¸€è¾¹æ¢é‹ä¸€è¾¹æŠ±æ€¨ï¼Œå£°éŸ³é‡Œå¸¦ç€é‚£ç§é•¿æœŸåŠ ç­ç‰¹æœ‰çš„æ²™å“‘å’Œç–²æƒ«ã€‚ä»–æŠŠæ¹¿é€çš„é•¿æŸ„ä¼ç«‹åœ¨é—¨å£çš„æ²¥æ°´æ¶ä¸Šï¼Œä¼å°–è¿˜åœ¨æ»´æ°´ï¼Œåœ¨åœ°ç –ä¸Šæ±‡æˆä¸€å°æ‘Šæ·±è‰²çš„åœ†ã€‚</p>
<p>æ—å©‰æ”¾ä¸‹æ¯å­ï¼Œç«™èµ·èº«ï¼šâ€œåƒé¥­äº†å—ï¼Ÿâ€</p>
<p>â€œåœ¨å…¬å¸åƒè¿‡ç›’é¥­äº†ã€‚â€é™ˆå™æ¾å¼€é¢†å¸¦ï¼Œå°†å®ƒéšæ‰‹æ‰”åœ¨æ²™å‘æ‰¶æ‰‹ä¸Šï¼Œæ•´ä¸ªäººé™·è¿›æŠ±æ•é‡Œï¼Œå‘å‡ºé•¿é•¿çš„ä¸€å£°å¹æ¯ï¼Œâ€œç´¯æ­»æˆ‘äº†ã€‚è€èµµé‚£ä¸ªé¡¹ç›®æ˜å¤©è¦ä¸Šçº¿ï¼Œä»Šæ™šè¿˜å¾—ç›¯ç€ç¾¤æ¶ˆæ¯ã€‚â€</p>
<p>æ—å©‰èµ°åˆ°å¨æˆ¿ï¼Œç«¯å‡ºä¸€ç¢—ç»¿è±†ç™¾åˆæ±¤ï¼šâ€œå–ç‚¹è¿™ä¸ªå§ï¼Œå»ç«ã€‚â€</p>
<p>é™ˆå™æ¥è¿‡ç¢—ï¼Œå’•å’šå’•å’šå–äº†ä¸¤å£ï¼Œè§†çº¿å´æ²¡æœ‰ç¦»å¼€æ‰‹æœºå±å¹•ã€‚ä»–çš„æ‹‡æŒ‡åœ¨å±å¹•ä¸Šå¿«é€Ÿæ»‘åŠ¨ï¼Œçœ‰å¤´ç´§é”ï¼Œæ—¶ä¸æ—¶æ‰“å­—å›å¤ã€‚å±å¹•çš„å†·å…‰æ˜ åœ¨ä»–çš„çœ¼é•œç‰‡ä¸Šï¼ŒæŒ¡ä½äº†ä»–çš„çœ¼ç¥ã€‚</p>
<p>â€œé™ˆå™ã€‚â€æ—å©‰åœ¨ä»–å¯¹é¢çš„æ²™å‘åä¸‹ã€‚</p>
<p>â€œå—¯ï¼Ÿâ€é™ˆå™å¤´ä¹Ÿæ²¡æŠ¬ï¼Œâ€œç¨å¾®ç­‰ä¸€ä¸‹ï¼Œæµ‹è¯•ç»„é‚£è¾¹å‡ºäº†ä¸ªBugã€‚â€</p>
<p>æ—å©‰æ²‰é»˜äº†ã€‚å¥¹çœ‹ç€é™ˆå™å¤´é¡¶é‚£å‡ æ ¹æœ‰äº›åˆºçœ¼çš„ç™½å‘ï¼Œé‚£æ˜¯è¿™ä¸€ä¸¤å¹´æ‰å†’å‡ºæ¥çš„ã€‚å¥¹çŸ¥é“ä»–å¾ˆç´¯ï¼Œæˆ¿è´·ã€è½¦è´·ã€åŒæ–¹çˆ¶æ¯çš„å…»è€å‚¨å¤‡ï¼Œåƒå‡ åº§å¤§å±±ä¸€æ ·å‹åœ¨è¿™ä¸ªä¸­å¹´ç”·äººçš„è‚©ä¸Šã€‚ä»–æ²¡æœ‰å‡ºè½¨ï¼Œå·¥èµ„å…¨äº¤ï¼Œä¸æŠ½çƒŸä¸é…—é…’ï¼Œåœ¨æ‰€æœ‰äººçœ¼é‡Œï¼Œä»–æ˜¯æ ‡å‡†çš„â€œç»é€‚ç”·â€ï¼Œæ˜¯æ¨¡èŒƒä¸ˆå¤«ã€‚</p>
<p>ä½†æ˜¯ï¼Œæ—å©‰è§‰å¾—è‡ªå·±å¿«è¦çª’æ¯äº†ã€‚ä¸æ˜¯å› ä¸ºæˆ¿è´·ï¼Œä¹Ÿä¸æ˜¯å› ä¸ºå·¥ä½œï¼Œè€Œæ˜¯å› ä¸ºè¿™ç§ç”šè‡³æ— æ³•è¢«æŒ‡è´£çš„â€œå¿½ç•¥â€ã€‚</p>
<p>ååˆ†é’Ÿè¿‡å»äº†ã€‚ç»¿è±†æ±¤è§åº•ã€‚é™ˆå™ç»ˆäºæ”¾ä¸‹äº†æ‰‹æœºï¼Œæ‘˜ä¸‹çœ¼é•œæ‰äº†æ‰é¼»æ¢ï¼šâ€œåˆšæ‰ä½ æƒ³è¯´ä»€ä¹ˆï¼Ÿâ€</p>
<p>â€œå¢™è§’æ¼æ°´äº†ã€‚â€æ—å©‰æŒ‡äº†æŒ‡é¤å…ä¸Šæ–¹ã€‚</p>
<p>é™ˆå™çœ¯ç€è¿‘è§†çœ¼çœ‹äº†çœ‹ï¼Œé‡æ–°æˆ´ä¸Šçœ¼é•œï¼šâ€œå“¦ï¼Œçœ‹è§äº†ã€‚å¯èƒ½æ˜¯å¤–å¢™æ¸—æ°´ï¼Œæˆ–è€…æ˜¯æ¥¼ä¸Šé˜²æ°´å±‚è€åŒ–ã€‚è¿™å‡ å¤©é›¨å¤ªå¤§äº†ï¼Œå¥½å¤šåŒäº‹å®¶é‡Œéƒ½é­æ®ƒäº†ã€‚â€</p>
<p>â€œçœ‹ç€æŒºéš¾å—çš„ï¼Œçš®éƒ½è¦æ‰äº†ã€‚â€</p>
<p>â€œæ²¡äº‹ï¼Œç­‰æ¢…é›¨å­£è¿‡äº†å†è¯´å§ã€‚â€é™ˆå™ç«™èµ·èº«ï¼Œä¼¸äº†ä¸ªæ‡’è…°ï¼Œâ€œç°åœ¨æ‰¾äººæ¥ä¿®ä¹Ÿæ²¡æ³•å¹²æ´»ï¼Œå¢™ä½“æ˜¯æ¹¿çš„ï¼Œåˆ·äº†æ¼†ä¹ŸæŒ‚ä¸ä½ã€‚å†è¯´ï¼Œè¿™æ‰å¤šå¤§ä¸€ç‚¹ï¼Œä¸å½±å“ä½ã€‚â€</p>
<p>â€œå¯æ˜¯ä»Šå¤©æ˜¯æˆ‘ä»¬çš„ç»“å©šçºªå¿µæ—¥ã€‚â€</p>
<p>è¿™å¥è¯æ—å©‰è¯´å¾—å¾ˆè½»ï¼Œè½»å¾—åƒæ˜¯é™¤æ¹¿æœºé‡Œè½ä¸‹çš„ä¸€æ»´æ°´ã€‚</p>
<p>é™ˆå™çš„åŠ¨ä½œåƒµä½äº†ã€‚ä»–ç»´æŒç€ä¼¸æ‡’è…°çš„å§¿åŠ¿åœé¡¿äº†ä¸¤ç§’ï¼Œç„¶åæ…¢æ…¢æ”¾ä¸‹æ‰‹è‡‚ã€‚ä»–è½¬è¿‡èº«ï¼Œçœ‹ç€æ—å©‰ï¼Œè„¸ä¸Šé—ªè¿‡ä¸€ä¸é”™æ„•ï¼Œéšå³å˜æˆäº†æŸç§å¸¦ç€æ­‰æ„çš„å°´å°¬ã€‚</p>
<p>â€œæˆ‘â€¦â€¦è®°ç€å‘¢ã€‚â€é™ˆå™å¹²ç¬‘äº†ä¸€å£°ï¼Œæ‰‹ä¸è‡ªè§‰åœ°æ‘¸å‘è£¤å…œï¼Œä¼¼ä¹æƒ³å˜å‡ºä»€ä¹ˆç¤¼ç‰©ï¼Œä½†é‚£é‡Œåªæœ‰è½¦é’¥åŒ™å’Œè“ç‰™è€³æœºï¼Œâ€œæˆ‘æ˜¯æƒ³ï¼Œè¿™å‘¨æœ«è¡¥ä¸Šã€‚ä»Šå¤©å‘¨ä¸‰ï¼Œå¤ªå¿™äº†ï¼Œä¹Ÿä¸å¥½è¯·å‡ã€‚â€</p>
<p>â€œä½ å¿˜äº†ã€‚â€æ—å©‰è¯­æ°”å¹³é™ï¼Œæ²¡æœ‰è´¨é—®ï¼Œåªæœ‰é™ˆè¿°ã€‚</p>
<p>â€œçœŸæ²¡å¿˜ã€‚â€é™ˆå™èµ°è¿‡æ¥ï¼Œè¯•å›¾å»æ‹‰æ—å©‰çš„æ‰‹ï¼Œæ‰‹æŒå¹²ç‡¥æ¸©çƒ­ï¼Œâ€œè€å©†ï¼Œè®²é“ç†ï¼Œè¿™ä¸€å‘¨æˆ‘å¿™æˆä»€ä¹ˆæ ·ä½ ä¹Ÿçœ‹è§äº†ã€‚å’±ä»¬éƒ½è€å¤«è€å¦»äº†ï¼Œå½¢å¼ä¸»ä¹‰çš„ä¸œè¥¿èƒ½ä¸èƒ½ç¨å¾®æ”¾ä¸€æ”¾ï¼Ÿæˆ‘ä¿è¯ï¼Œå‘¨å…­å¸¦ä½ å»åƒé‚£å®¶æ—¥æ–™ï¼Œè¡Œä¸è¡Œï¼Ÿâ€</p>
<p>æ—å©‰æŠ½å›äº†æ‰‹ï¼Œæ‹¿èµ·æ¡Œä¸Šçš„ç©ºç¢—ï¼šâ€œä¸ç”¨äº†ã€‚é‚£æ˜¯ä¸¤å¹´å‰æˆ‘æƒ³åƒçš„ï¼Œç°åœ¨é‚£å®¶åº—éƒ½å…³é—¨äº†ã€‚â€</p>
<p>å¥¹èµ°è¿›å¨æˆ¿ï¼Œæ‰“å¼€æ°´é¾™å¤´ã€‚æ°´æµå†²å‡»ç“·ç¢—çš„å£°éŸ³æ©ç›–äº†å¥¹çš„å‘¼å¸å£°ã€‚</p>
<p>é™ˆå™ç«™åœ¨å®¢å…é‡Œï¼Œæœ‰äº›ä¸çŸ¥æ‰€æªã€‚ä»–è§‰å¾—æ—å©‰æœ‰äº›å°é¢˜å¤§åšã€‚çºªå¿µæ—¥å›ºç„¶é‡è¦ï¼Œä½†ç”Ÿæ´»ä¸æ˜¯ç”µè§†å‰§ï¼Œæˆå¹´äººçš„ä¸–ç•Œé‡Œï¼Œç”Ÿå­˜å’Œè§£å†³é—®é¢˜æ‰æ˜¯ç¬¬ä¸€ä½çš„ã€‚é‚£ä¸€å°å—æ°´æ¸ï¼Œåœ¨ä»–çœ‹æ¥åªæ˜¯ä¸€ä¸ªç‰©ç†ç°è±¡ï¼Œä¸€ä¸ªå¾…åŠäº‹é¡¹æ¸…å•é‡Œä¼˜å…ˆçº§å¾ˆä½çš„ä»»åŠ¡ï¼›ä½†åœ¨æ—å©‰çœ¼é‡Œï¼Œé‚£æ˜¯ä¸€é“è£‚ç—•ã€‚</p>
<p>ä»–å¹äº†å£æ°”ï¼Œé‡æ–°æ‹¿èµ·æ‰‹æœºã€‚ç¾¤é‡Œåˆæœ‰äºº@ä»–äº†ã€‚</p>
<p>â€œè¡Œå§ï¼Œé‚£æˆ‘å…ˆå»æ´—æ¾¡ã€‚â€é™ˆå™å¯¹ç€å¨æˆ¿çš„èƒŒå½±å–Šäº†ä¸€å£°ã€‚</p>
<p>æ²¡æœ‰äººå›åº”ã€‚åªæœ‰æ°´æµå£°è¿˜åœ¨å“—å“—ä½œå“ã€‚</p>
<p>é™ˆå™æ‘‡æ‘‡å¤´ï¼Œè½¬èº«è¿›äº†æµ´å®¤ã€‚ä»–è§‰å¾—è‡ªå·±æ²¡é”™ï¼Œæ—å©‰ä¹Ÿæ²¡é”™ï¼Œé”™çš„å¤§æ¦‚æ˜¯è¿™è¯¥æ­»çš„å¤©æ°”ï¼Œè®©äººå¿ƒé‡Œå‘éœ‰ã€‚</p>
<p>ç¬¬äºŒç« ï¼šé’æ„Ÿçš„åˆ€é”‹</p>
<p>æ¥ä¸‹æ¥çš„å‡ å¤©ï¼Œé›¨åŠ¿ä¸æ¯«æ²¡æœ‰å‡å¼±çš„æ„æ€ã€‚</p>
<p>é‚£å—æ°´æ¸åƒæ˜¯æœ‰ç”Ÿå‘½ä¸€æ ·ï¼Œè´ªå©ªåœ°å‘å››å‘¨åå™¬ã€‚åŸæœ¬ç¡¬å¸å¤§å°çš„æ–‘ç‚¹ï¼Œæ‰©æ•£æˆäº†å·´æŒå¤§ï¼Œè¾¹ç¼˜æ³›ç€æ¶å¿ƒçš„ç°ç»¿è‰²éœ‰æ–‘ã€‚å¢™çš®å¼€å§‹èµ·æ³¡ã€å‰¥è½ï¼Œæ¯å¤©æ—©ä¸Šæ—å©‰èµ·æ¥ï¼Œéƒ½èƒ½åœ¨é¤æ¡Œä¸Šçœ‹åˆ°ç»†ç¢çš„ç™½è‰²ç²‰æœ«ï¼Œåƒå¤´çš®å±‘ä¸€æ ·æ•£è½åœ¨æ·±è‰²çš„èƒ¡æ¡ƒæœ¨æ¡Œé¢ä¸Šã€‚</p>
<p>æ—å©‰å¼€å§‹æœ‰äº†å¼ºè¿«ç—‡ã€‚</p>
<p>å¥¹æ¯å¤©ä¸‹ç­å›å®¶çš„ç¬¬ä¸€ä»¶äº‹ï¼Œä¸æ˜¯æ¢é‹ï¼Œä¹Ÿä¸æ˜¯æ´—æ‰‹ï¼Œè€Œæ˜¯æŠ¬å¤´çœ‹é‚£å—å¢™çš®ã€‚å¦‚æœçœ‹åˆ°äº†æ–°çš„è£‚çº¹ï¼Œå¥¹çš„å¿ƒè„å°±ä¼šè«ååœ°æ”¶ç¼©ä¸€ä¸‹ã€‚å¥¹ä¹°äº†é™¤éœ‰å‰‚ï¼Œè¸©ç€æ¤…å­ä¸Šå»å–·æ´’ï¼Œåˆºé¼»çš„æ°¯æ°”å‘³é“å¼¥æ¼«åœ¨é¤å…é‡Œï¼Œæ©ç›–äº†é¥­èœçš„é¦™å‘³ã€‚</p>
<p>ä½†é™ˆå™ä¼¼ä¹å¯¹è¿™ä¸€åˆ‡è§†è€Œä¸è§ã€‚</p>
<p>å‘¨äº”æ™šä¸Šï¼Œé™ˆå™å¸¦æ—å©‰å»å‚åŠ éƒ¨é—¨èšé¤ã€‚è¿™æ˜¯ä»–çš„â€œè¡¥æ•‘æªæ–½â€ä¹‹ä¸€ï¼Œè™½ç„¶æ—å©‰å¹¶ä¸è§‰å¾—å¸¦å®¶å±åº”é…¬ç®—æ˜¯è¿‡çºªå¿µæ—¥ã€‚</p>
<p>åŒ…å¢é‡ŒçƒŸé›¾ç¼­ç»•ï¼Œçƒ­æ°”è…¾è…¾ã€‚ç”·äººä»¬æ¨æ¯æ¢ç›ï¼Œè¯é¢˜ä»å›½é™…å±€åŠ¿èŠåˆ°å…¬å¸å…«å¦ï¼Œå†åˆ°å“ªé‡Œçš„å­¦åŒºæˆ¿æ›´æœ‰æ½œåŠ›ã€‚å¥³äººä»¬åˆ™åœ¨ä¸€æ—çŸœæŒåœ°åƒèœï¼Œå¶å°”é™„å’Œä¸¤å¥ã€‚</p>
<p>â€œå“å‘€ï¼Œè€é™ˆçœŸæ˜¯å¥½ç¦æ°”ã€‚â€é™ˆå™çš„ä¸Šå¸ï¼Œä¸€ä¸ªå¾®èƒ–çš„ä¸­å¹´ç”·äººä¸¾ç€é…’æ¯å¤§ç€èˆŒå¤´è¯´ï¼Œâ€œå«‚å­æ˜¯è®¾è®¡å¸ˆå§ï¼Ÿæ°”è´¨å°±æ˜¯ä¸ä¸€æ ·ã€‚å“ªåƒæˆ‘å®¶é‚£ä¸ªï¼Œå¤©å¤©å°±çŸ¥é“ç›¯ç€å­©å­ä½œä¸šå¼ï¼Œä¸€ç‚¹æƒ…è¶£éƒ½æ²¡æœ‰ã€‚â€</p>
<p>é™ˆå™ç¬‘ç€ç»™é¢†å¯¼å€’é…’ï¼Œè„¸ä¸ŠæŒ‚ç€é‚£ç§æ—å©‰ç†Ÿæ‚‰çš„ã€æ— å¯æŒ‘å‰”çš„ç¤¾äº¤é¢å…·ï¼šâ€œå“ªé‡Œå“ªé‡Œï¼Œæ‚¨é‚£æ˜¯é¡¾å®¶ã€‚æˆ‘å®¶å©‰å©‰æ˜¯æ¯”è¾ƒçœå¿ƒï¼Œå¹³æ—¶å®¶é‡Œè£…ä¿®å¸ƒç½®éƒ½ä¸ç”¨æˆ‘æ“å¿ƒï¼Œæˆ‘å°±æ˜¯ä¸ªç”©æ‰‹æŒæŸœã€‚â€</p>
<p>â€œçœå¿ƒå¥½å•Šï¼Œçœå¿ƒå°±æ˜¯æœ€å¤§çš„æ”¯æŒï¼â€ä¼—äººèµ·å“„ã€‚</p>
<p>æ—å©‰ååœ¨é™ˆå™èº«è¾¹ï¼Œè„¸ä¸ŠæŒ‚ç€å¾—ä½“çš„å¾®ç¬‘ï¼Œæ‰‹é‡Œå´ç´§ç´§æ”¥ç€é¤å·¾çš„ä¸€è§’ã€‚</p>
<p>â€œçœå¿ƒâ€ã€‚</p>
<p>è¿™æ˜¯è¿‘å¹´æ¥é™ˆå™å¯¹å¤–è¯„ä»·å¥¹æœ€é«˜é¢‘çš„è¯æ±‡ã€‚åœ¨é™ˆå™çš„é€»è¾‘é‡Œï¼Œè¿™å°±ç­‰åŒäºâ€œè´¤æƒ â€ã€‚ä»–ä¸çŸ¥é“çš„æ˜¯ï¼Œæ—å©‰æ‰€æœ‰çš„â€œçœå¿ƒâ€ï¼Œéƒ½æ˜¯å› ä¸ºå¥¹çš„è¯‰æ±‚è¢«ä¸€æ¬¡æ¬¡æ— è§†åçš„è‡ªæˆ‘æ¶ˆåŒ–ã€‚</p>
<p>æˆ‘æƒ³æ¢ä¸ªé®å…‰çª—å¸˜ï¼Œä½ è¯´æ²¡å¿…è¦ï¼›æˆ‘æƒ³å‘¨æœ«å»å‘¨è¾¹éœ²è¥ï¼Œä½ è¯´å¤ªç´¯ä¸å¦‚åœ¨å®¶ç¡è§‰ï¼›æˆ‘è¯´å¢™ä¸Šæœ‰è£‚ç¼ï¼Œä½ è¯´ç­‰é›¨åœã€‚</p>
<p>ä¹…è€Œä¹…ä¹‹ï¼Œæˆ‘å°±æˆäº†ä½ å£ä¸­é‚£ä¸ªâ€œä¸ç”¨æ“å¿ƒâ€çš„å¥½å¦»å­ã€‚</p>
<p>â€œå«‚å­ï¼Œå¬è¯´ä½ ä»¬å¤§å­¦å°±åœ¨ä¸€èµ·äº†ï¼Ÿâ€ååœ¨å¯¹é¢çš„æ–°æ¥å®ä¹ ç”Ÿå°å§‘å¨˜ä¸€è„¸ç¾¡æ…•åœ°é—®ï¼Œâ€œåå¹´é•¿è·‘å•Šï¼Œæœ‰ä»€ä¹ˆä¿é²œç§˜ç±å—ï¼Ÿâ€</p>
<p>æ—å©‰æ„£äº†ä¸€ä¸‹ã€‚ä¿é²œï¼Ÿ</p>
<p>å¥¹æƒ³èµ·å®¶é‡Œå†°ç®±é‡Œé‚£åŠä¸ªè¢«é—å¿˜çš„æŸ æª¬ï¼Œè™½ç„¶ç”¨ä¿é²œè†œè£¹å¾—ä¸¥ä¸¥å®å®ï¼Œä½†é‡Œé¢å·²ç»å¹²ç˜ªå‘ç¡¬ï¼Œå¤±å»äº†æ‰€æœ‰çš„æ°´åˆ†å’Œé¦™æ°”ã€‚</p>
<p>â€œæ²¡ä»€ä¹ˆç§˜ç±ã€‚â€æ—å©‰è½»è½»æŠ¿äº†ä¸€å£çº¢é…’ï¼Œæ¶©å‘³åœ¨èˆŒå°–è”“å»¶ï¼Œâ€œå°±æ˜¯ä¹ æƒ¯äº†å§ã€‚ä¹ æƒ¯äº†å¯¹æ–¹çš„å­˜åœ¨ï¼Œå°±åƒä¹ æƒ¯äº†ç©ºæ°”é‡Œæœ‰æ°´æ±½ä¸€æ ·ã€‚â€</p>
<p>â€œå¬å¬ï¼Œè¿™å°±å«å¢ƒç•Œï¼â€é™ˆå™æ½è¿‡æ—å©‰çš„è‚©è†€ï¼Œæœ‰äº›å¾®é†ºåœ°ç‚«è€€ï¼Œâ€œå¹³å¹³æ·¡æ·¡æ‰æ˜¯çœŸå˜›ã€‚â€</p>
<p>ä»–çš„æ‰‹å¾ˆçƒ­ï¼Œé€è¿‡çœŸä¸è¡¬è¡«ä¼ å¯¼è¿‡æ¥ã€‚æ›¾ç»è¿™ç§æ¸©åº¦è®©æ—å©‰æ„Ÿåˆ°å®‰å…¨ï¼Œé‚£æ˜¯å¤§å››é‚£å¹´å†¬å¤©ä»–åœ¨å®¿èˆæ¥¼ä¸‹ç­‰å¥¹æ—¶æš–æ‰‹å®çš„æ¸©åº¦ï¼›ä¹Ÿæ˜¯åˆšå·¥ä½œé‚£å¹´å‘é«˜çƒ§æ—¶ä»–æ‰‹æŒè¦†åœ¨é¢å¤´çš„æ¸©åº¦ã€‚</p>
<p>ä½†æ­¤åˆ»ï¼Œæ—å©‰åªè§‰å¾—è¿™åªæ‰‹å¾ˆæ²‰ï¼Œå‹å¾—å¥¹è‚©è†€é…¸ç—›ã€‚</p>
<p>å›åˆ°å®¶å·²ç»æ˜¯æ·±å¤œåä¸€ç‚¹ã€‚</p>
<p>é™ˆå™å–å¤šäº†ï¼Œä¸€è¿›é—¨å°±ç˜«å€’åœ¨æ²™å‘ä¸Šï¼Œå˜´é‡Œå«ç³Šä¸æ¸…åœ°å˜Ÿå›”ç€è¦å–æ°´ã€‚</p>
<p>æ—å©‰å»å¨æˆ¿å€’äº†ä¸€æ¯æ¸©æ°´ï¼Œèµ°è¿‡æ¥æ‰¶èµ·ä»–çš„å¤´ã€‚é™ˆå™é—­ç€çœ¼ç›å–å®Œæ°´ï¼Œé¡ºåŠ¿æŠŠå¤´åŸ‹åœ¨æ—å©‰çš„è…°é—´è¹­äº†è¹­ï¼Œåƒä¸ªå­©å­ã€‚</p>
<p>â€œå©‰å©‰â€¦â€¦â€ä»–å–ƒå–ƒé“ï¼Œâ€œç­‰æˆ‘å‡äº†èŒâ€¦â€¦å’±ä»¬æ¢ä¸ªå¤§æˆ¿å­â€¦â€¦å¸¦éœ²å°çš„â€¦â€¦ä½ å°±ä¸ç”¨ç›¯ç€è¿™ç ´å¢™çœ‹äº†â€¦â€¦â€</p>
<p>æ—å©‰çš„æ‰‹æ­£å‡†å¤‡å¸®ä»–è§£å¼€è¡¬è¡«é¢†å£ï¼Œå¬åˆ°è¿™å¥è¯ï¼ŒåŠ¨ä½œåœåœ¨äº†åŠç©ºã€‚</p>
<p>åŸæ¥ä»–çŸ¥é“ã€‚</p>
<p>ä»–çŸ¥é“å¥¹åœ¨ç›¯ç€é‚£é¢å¢™ï¼Œä»–çŸ¥é“å¥¹ä¸å¼€å¿ƒã€‚ä»–åªæ˜¯è§‰å¾—ï¼Œè§£å†³è¿™ç§ä¸å¼€å¿ƒçš„å”¯ä¸€æ–¹å¼ï¼Œæ˜¯ç”¨æ›´å¤§çš„ç‰©è´¨æ¥è¦†ç›–å®ƒï¼Œè€Œä¸æ˜¯å½“ä¸‹ç«‹åˆ»å»ä¿®è¡¥å®ƒã€‚</p>
<p>ä»–ä»¥ä¸ºé—®é¢˜åœ¨äºâ€œæˆ¿å­ä¸å¤Ÿå¥½â€ï¼Œè€Œä¸æ˜¯â€œä½ ä¸åœ¨ä¹æˆ‘çš„æ„Ÿå—â€ã€‚</p>
<p>æ—å©‰çœ‹ç€æ€€é‡Œè¿™ä¸ªç”·äººçš„è„¸ã€‚ä»–æ˜¯å¥¹çš„é’æ˜¥ï¼Œæ˜¯å¥¹çš„å®¶äººï¼Œæ˜¯å¥¹åœ¨è¿™ä¸ªåŸå¸‚æœ€æ·±çš„ç¾ç»Šã€‚å¥¹å¹¶ä¸æ¨ä»–ï¼Œç”šè‡³ä¾ç„¶çˆ±ä»–ã€‚ä½†è¿™ç§çˆ±ï¼Œæ­£åœ¨è¢«ä¸€ç§æ— åŠ›çš„ç–²æƒ«æ„Ÿä¸€ç‚¹ç‚¹ç£¨æŸã€‚</p>
<p>â€œé™ˆå™ï¼Œæˆ‘ä¸æƒ³è¦å¤§æˆ¿å­ã€‚â€æ—å©‰è½»å£°è¯´ï¼Œå°½ç®¡å¥¹çŸ¥é“ä»–å¬ä¸è§ï¼Œâ€œæˆ‘åªæƒ³è¦è¿™é¢å¢™ç°åœ¨åˆ«å†æ¼äº†ã€‚â€</p>
<p>é™ˆå™ç¿»äº†ä¸ªèº«ï¼Œå‘å‡ºäº†å‡åŒ€çš„é¼¾å£°ã€‚</p>
<p>æ—å©‰ç«™èµ·èº«ï¼Œèµ°åˆ°é¤å…ã€‚å¥¹æ‰“å¼€æ‰‹æœºçš„æ‰‹ç”µç­’ï¼Œç…§å‘é‚£ä¸ªè§’è½ã€‚</p>
<p>å°±åœ¨è¿™æ—¶ï¼Œâ€œå•ªå—’â€ä¸€å£°è½»å“ã€‚</p>
<p>ä¸€å—æŒ‡ç”²ç›–å¤§å°çš„å¢™çš®ï¼Œç»ˆäºä¸å ªé‡è´Ÿï¼Œè„±ç¦»äº†å¢™ä½“ï¼Œæ‰è½ä¸‹æ¥ã€‚å®ƒå è½åœ¨å®æœ¨é¤æ¡Œä¸Šï¼Œæ‘”æˆäº†ç²‰æœ«ã€‚</p>
<p>éœ²å‡ºæ¥çš„åº•è‰²æ˜¯ç°é»‘è‰²çš„æ°´æ³¥ï¼Œåƒæ˜¯ä¸€åªæµ‘æµŠçš„çœ¼ç›ï¼Œåœ¨é»‘æš—ä¸­å†·å†·åœ°æ³¨è§†ç€æ—å©‰ã€‚</p>
<p>ç¬¬ä¸‰ç« ï¼šæºƒå ¤çš„ä¸æ˜¯æ°´</p>
<p>å‘¨å…­ï¼Œé›¨ç»ˆäºå°äº†ä¸€äº›ï¼Œå˜æˆäº†æ–­æ–­ç»­ç»­çš„æ¯›æ¯›é›¨ã€‚</p>
<p>æ—å©‰åŸæœ¬è®¡åˆ’å»å…¬å¸åŠ ç­æ”¹å›¾çº¸ï¼Œä½†å› ä¸ºæœ‰äº›ä½çƒ§ï¼Œä¾¿ç•™åœ¨äº†å®¶é‡Œã€‚é™ˆå™éš¾å¾—æ²¡æœ‰å»å…¬å¸ï¼Œä½†ä»–æŠŠè‡ªå·±å…³åœ¨ä¹¦æˆ¿é‡Œæ‰“æ¸¸æˆã€‚</p>
<p>â€œç °ï¼ç °ï¼Left side! Go go go!â€</p>
<p>æ¿€çƒˆçš„æªç‚®å£°å’Œé™ˆå™å…´å¥‹çš„å–Šå«å£°éš”ç€é—¨æ¿ä¼ å‡ºæ¥ã€‚é‚£æ˜¯ä»–åœ¨ç°å®ç”Ÿæ´»ä¸­è¢«å‹æŠ‘çš„è·å°”è’™çš„å®£æ³„å‡ºå£ã€‚</p>
<p>æ—å©‰èººåœ¨æ²™å‘ä¸Šï¼Œèº«ä¸Šç›–ç€è–„æ¯¯ï¼Œæ‰‹é‡Œæ‹¿ç€ä¸€æœ¬æ²¡çœ‹å‡ é¡µçš„ä¹¦ã€‚å¤´æ˜æ²‰æ²‰çš„ï¼Œå—“å­é‡Œåƒæ˜¯å¡äº†ä¸€å›¢æ£‰èŠ±ã€‚</p>
<p>çªç„¶ï¼Œä¸€æ»´å†°å‡‰çš„æ¶²ä½“è½åœ¨äº†å¥¹çš„è„¸é¢Šä¸Šã€‚</p>
<p>æ—å©‰æƒŠäº†ä¸€ä¸‹ï¼Œåèµ·èº«ã€‚</p>
<p>å¥¹æŠ¬å¤´çœ‹å»ï¼Œå®¢å…ä¸­å¤®çš„å¤©èŠ±æ¿â€”â€”ä¸æ˜¯é¤å…é‚£ä¸ªè§’è½ï¼Œè€Œæ˜¯æ­£ä¸­å¤®ï¼ŒåŠç¯çš„æ—è¾¹â€”â€”æ­£èšé›†ç€ä¸€é¢—æ™¶è¹çš„æ°´ç ã€‚</p>
<p>é‚£æ°´ç é¢¤é¢¤å·å·åœ°æ‚¬æŒ‚ç€ï¼Œåƒæ˜¯ä¸€é¢—é¥±æ»¡çš„æ³ªæ»´ï¼Œç»ˆäºæ‰¿å—ä¸ä½é‡åŠ›ï¼Œå è½ä¸‹æ¥ã€‚</p>
<p>â€œæ»´ç­”ã€‚â€</p>
<p>æ­£å¥½è½åœ¨èŒ¶å‡ ä¸Šçš„é¥æ§å™¨ä¸Šã€‚</p>
<p>æ¼æ°´ç‚¹æ‰©å¤§äº†ã€‚è¿™ä¸ä»…æ˜¯ä¾§å¢™æ¸—æ°´ï¼Œè¿™æ˜¯æ¥¼ä¸Šçš„ç®¡é“å‡ºäº†é—®é¢˜ã€‚</p>
<p>â€œé™ˆå™ï¼â€æ—å©‰å–Šäº†ä¸€å£°ã€‚å—“å­æœ‰äº›å“‘ï¼Œå£°éŸ³ä¸å¤§ã€‚</p>
<p>ä¹¦æˆ¿é‡Œæªå£°æ­£é…£ï¼Œé™ˆå™æˆ´ç€é™å™ªè€³æœºï¼Œæ ¹æœ¬å¬ä¸è§ã€‚</p>
<p>â€œæ»´ç­”ã€‚â€ç¬¬äºŒæ»´æ°´è½ä¸‹æ¥ã€‚</p>
<p>æ—å©‰æ„Ÿåˆ°ä¸€é˜µè«åçš„ææ…Œã€‚é‚£ç§æ„Ÿè§‰å°±åƒæ˜¯æŸç§é˜²å¾¡æœºåˆ¶çªç„¶å¤±æ•ˆäº†ã€‚å¥¹ä»æ²™å‘ä¸Šè·³èµ·æ¥ï¼Œå†²åˆ°ä¹¦æˆ¿é—¨å£ï¼ŒçŒ›åœ°æ¨å¼€é—¨ã€‚</p>
<p>â€œé™ˆå™ï¼å¤–é¢æ¼æ°´äº†ï¼â€</p>
<p>é™ˆå™è¢«å“äº†ä¸€è·³ï¼Œæ‰‹ä¸€æŠ–ï¼Œå±å¹•å˜æˆäº†ç°ç™½è‰²â€”â€”Game Overã€‚ä»–æ‘˜ä¸‹è€³æœºï¼Œä¸€è„¸çƒ¦èºåœ°è½¬è¿‡å¤´ï¼šâ€œæ€ä¹ˆäº†ï¼Ÿä¸€æƒŠä¸€ä¹çš„ã€‚â€</p>
<p>â€œå®¢å…é¡¶ä¸Šæ¼æ°´äº†ï¼Œå¿«æ‹¿ä¸ªç›†æ¥ï¼â€</p>
<p>é™ˆå™æ„£äº†ä¸€ä¸‹ï¼Œè¿™æ‰ååº”è¿‡æ¥ï¼Œèµ¶ç´§èµ·èº«å»å«ç”Ÿé—´æ‹¿äº†ä¸¤ä¸ªå¡‘æ–™ç›†å‡ºæ¥ã€‚</p>
<p>ä¸¤äººå›åˆ°å®¢å…æ—¶ï¼Œæ»´æ°´çš„é€Ÿåº¦å·²ç»å˜å¿«äº†ã€‚</p>
<p>â€œå®â€”â€”å’šâ€”â€”â€æ°´æ»´ç ¸åœ¨å¡‘æ–™ç›†åº•ï¼Œå‘å‡ºæ¸…è„†è€Œç©ºæ´çš„å›å“ã€‚</p>
<p>é™ˆå™çš±ç€çœ‰å¤´ç›¯ç€å¤©èŠ±æ¿ï¼šâ€œè¿™æ¥¼ä¸Šæ€ä¹ˆæçš„ï¼Ÿæˆ‘éƒ½è¯´äº†è¿™æˆ¿å­ç‰©ä¸šä¸è¡Œã€‚çœŸçƒ¦äººï¼Œå¥½ä¸å®¹æ˜“ä¼‘æ¯ä¸€å¤©ã€‚â€</p>
<p>ä»–æå‡ºæ‰‹æœºï¼šâ€œæˆ‘ç»™ç‰©ä¸šæ‰“ç”µè¯ã€‚â€</p>
<p>æ—å©‰ç«™åœ¨ä¸€æ—ï¼Œçœ‹ç€é‚£ä¸¤ä¸ªçº¢è‰²çš„å¡‘æ–™ç›†ã€‚é‚£é²œè‰³çš„çº¢è‰²åœ¨ç°ç™½è°ƒçš„æç®€é£å®¢å…é‡Œæ˜¾å¾—æ ¼æ ¼ä¸å…¥ï¼Œåˆºç—›äº†å¥¹çš„çœ¼ç›ã€‚</p>
<p>â€œé™ˆå™ã€‚â€æ—å©‰çªç„¶å¼€å£ã€‚</p>
<p>â€œå–‚ï¼Ÿç‰©ä¸šå—ï¼Ÿæˆ‘æ˜¯602çš„â€¦â€¦â€é™ˆå™å¯¹ç€ç”µè¯è¯´ç€ï¼Œè½¬å¤´çœ‹äº†ä¸€çœ¼æ—å©‰ï¼Œç”¨æ‰‹åŠ¿ç¤ºæ„å¥¹ç¨ç­‰ã€‚</p>
<p>æ—å©‰æ²¡æœ‰ç­‰ã€‚å¥¹èµ°è¿‡å»ï¼ŒæŒ‰æ‰äº†é™ˆå™çš„ç”µè¯ã€‚</p>
<p>â€œä½ å¹²ä»€ä¹ˆï¼Ÿâ€é™ˆå™ä¸å¯ç½®ä¿¡åœ°çœ‹ç€å¥¹ï¼Œâ€œæˆ‘åœ¨æŠ¥ä¿®å•Šã€‚â€</p>
<p>â€œä¸ç”¨æŠ¥ä¿®äº†ã€‚â€æ—å©‰çš„å£°éŸ³åœ¨é¢¤æŠ–ï¼Œé‚£æ˜¯é«˜çƒ§å¸¦æ¥çš„è™šå¼±ï¼Œä¹Ÿæ˜¯æƒ…ç»ªå¤±æ§çš„å‰å…†ã€‚</p>
<p>â€œä½ å‘ä»€ä¹ˆç¥ç»ï¼Ÿä¸æŠ¥ä¿®è¿™æ°´æ€ä¹ˆå¼„ï¼ŸæŠŠåœ°æ¿æ³¡äº†æ€ä¹ˆåŠï¼Ÿâ€é™ˆå™è§‰å¾—æ—å©‰ç®€ç›´ä¸å¯ç†å–»ï¼Œç«æ°”ä¹Ÿä¸Šæ¥äº†ã€‚</p>
<p>â€œæ³¡äº†å°±æ³¡äº†å§ã€‚â€æ—å©‰çœ‹ç€ä»–ï¼Œçœ¼çœ¶ç¬é—´çº¢äº†ï¼Œâ€œåæ­£ä½ ä¹Ÿçœ‹ä¸è§ã€‚â€</p>
<p>â€œæˆ‘æ€ä¹ˆçœ‹ä¸è§äº†ï¼Ÿæˆ‘ç°åœ¨ä¸æ˜¯åœ¨å¤„ç†å—ï¼Ÿâ€é™ˆå™æ‘Šå¼€åŒæ‰‹ï¼Œå£°éŸ³æé«˜äº†ä¸€ä¸ªå…«åº¦ï¼Œâ€œæ—å©‰ï¼Œä½ æœ€è¿‘åˆ°åº•æ€ä¹ˆå›äº‹ï¼Ÿä»çºªå¿µæ—¥é‚£å¤©èµ·ä½ å°±é˜´é˜³æ€ªæ°”çš„ã€‚æˆ‘æ˜¯å·¥ä½œæ²¡åšå¥½ï¼Œè¿˜æ˜¯æ²¡ç»™ä½ é’±èŠ±ï¼Ÿæˆ‘ä¸å°±æ˜¯å¿˜äº†ä¹°ç¤¼ç‰©å—ï¼Ÿè‡³äºè®°æ¨åˆ°ç°åœ¨å—ï¼Ÿâ€</p>
<p>â€œè¿™è·Ÿç¤¼ç‰©æ²¡å…³ç³»ï¼â€æ—å©‰ç»ˆäºå–Šäº†å‡ºæ¥ï¼Œæ³ªæ°´å¤ºçœ¶è€Œå‡ºï¼Œâ€œé™ˆå™ï¼Œæˆ‘ä»¬ä¹‹é—´æ¼æ°´äº†ï¼Œä½ çœ‹ä¸è§å—ï¼Ÿâ€</p>
<p>â€œä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ï¼Ÿâ€é™ˆå™çƒ¦èºåœ°æŠ“äº†æŠ“å¤´å‘ï¼Œâ€œèƒ½ä¸èƒ½åˆ«è¯´è¿™ç§æ–‡ç»‰ç»‰çš„è¯ï¼Ÿæœ‰äº‹è¯´äº‹ï¼Œæœ‰ç—…æ²»ç—…ã€‚è¿™å¢™æ¼äº†å°±ä¿®å¢™ï¼Œå“ªé‡Œæ¼è¡¥å“ªé‡Œï¼Œè¿™å°±æ˜¯ç”Ÿæ´»ï¼Œæ‡‚ä¸æ‡‚ï¼Ÿç”Ÿæ´»å°±æ˜¯è§£å†³é—®é¢˜ï¼Œä¸æ˜¯è®©ä½ åœ¨è¿™å„¿ä¼¤æ˜¥æ‚²ç§‹çš„ï¼â€</p>
<p>â€œç”Ÿæ´»æ˜¯è§£å†³é—®é¢˜â€¦â€¦â€æ—å©‰é‡å¤ç€è¿™å¥è¯ï¼Œçªç„¶ç¬‘äº†ï¼Œç¬‘å¾—æ¯”å“­è¿˜éš¾çœ‹ï¼Œâ€œå¯¹ï¼Œä½ å¾ˆæ“…é•¿è§£å†³é—®é¢˜ã€‚å¢™åäº†ä¿®å¢™ï¼Œé¥¿äº†åƒé¥­ï¼Œé‚£å¦‚æœæˆ‘ä¸çˆ±ä½ äº†å‘¢ï¼Ÿä½ æ€ä¹ˆè§£å†³ï¼Ÿâ€</p>
<p>ç©ºæ°”ç¬é—´å‡å›ºäº†ã€‚</p>
<p>é‚£ä¸¤ä¸ªçº¢è‰²çš„å¡‘æ–™ç›†é‡Œï¼Œæ°´æ»´å£°ä¾æ—§æ¸…æ™°ã€‚</p>
<p>â€œå®â€”â€”å’šâ€”â€”â€</p>
<p>â€œå®â€”â€”å’šâ€”â€”â€</p>
<p>é™ˆå™åƒµåœ¨åŸåœ°ï¼Œçœ¼ç¥é‡Œçš„çƒ¦èºæ…¢æ…¢è¤ªå»ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯éœ‡æƒŠå’Œè¿·èŒ«ã€‚ä»–çœ‹ç€æ—å©‰ï¼Œä»¿ä½›ç¬¬ä¸€æ¬¡è®¤è¯†è¿™ä¸ªåŒåºŠå…±æ•äº†åå¹´çš„å¥³äººã€‚</p>
<p>â€œä½ è¯´ä»€ä¹ˆï¼Ÿâ€é™ˆå™çš„å£°éŸ³ä½äº†ä¸‹æ¥ã€‚</p>
<p>â€œæˆ‘è¯´ï¼Œæˆ‘ç´¯äº†ã€‚â€æ—å©‰æ“¦äº†ä¸€æŠŠçœ¼æ³ªï¼Œæ·±å¸äº†ä¸€å£æ°”ï¼ŒåŠªåŠ›è®©å£°éŸ³å¹³ç¨³ï¼Œâ€œé™ˆå™ï¼Œä½ æ˜¯ä¸ªå¥½äººï¼Œä¹Ÿæ˜¯ä¸ªè´Ÿè´£ä»»çš„ä¸ˆå¤«ã€‚ä½†æˆ‘ä»¬åœ¨åŒä¸€ä¸ªå±‹æªä¸‹ï¼Œå´æ´»åœ¨ä¸¤ä¸ªä¸–ç•Œé‡Œã€‚ä½ çš„ä¸–ç•Œåªæœ‰ä»»åŠ¡å’Œæ•ˆç‡ï¼Œæˆ‘çš„ä¸–ç•Œé‡Œé‚£äº›æƒ…ç»ªå’Œæ„Ÿå—ï¼Œå¯¹ä½ æ¥è¯´éƒ½æ˜¯â€˜éº»çƒ¦â€™ï¼Œæ˜¯â€˜çŸ«æƒ…â€™ã€‚â€</p>
<p>â€œæˆ‘ä¸€ç›´åŠªåŠ›åšä¸€ä¸ªçœå¿ƒçš„å¦»å­ï¼Œå“ªæ€•å¢™çš®æ‰åœ¨æˆ‘ç¢—é‡Œï¼Œæˆ‘ä¹Ÿè‡ªå·±æ“¦å¹²å‡€ã€‚ä½†æˆ‘ä»Šå¤©çªç„¶å‘ç°ï¼Œæˆ‘ä¸æƒ³å¿äº†ã€‚æˆ‘ä¸æƒ³è¦å¤§æˆ¿å­ï¼Œä¹Ÿä¸æƒ³è¦ä½ æ‰€è°“çš„ä»¥åã€‚æˆ‘ç°åœ¨ï¼Œæ­¤æ—¶æ­¤åˆ»ï¼Œå°±ä¸æƒ³å¬åˆ°è¿™ä¸ªæ»´æ°´çš„å£°éŸ³ã€‚â€</p>
<p>æ—å©‰è¯´å®Œï¼Œè½¬èº«èµ°è¿›äº†å§å®¤ã€‚</p>
<p>å¥¹æ²¡æœ‰æ‘”é—¨ã€‚å¥¹åªæ˜¯è½»è½»åœ°å…³ä¸Šäº†é—¨ï¼Œå‘å‡ºä¸€å£°æå…¶è½»å¾®çš„â€œå’”å“’â€å£°ã€‚</p>
<p>è¿™å£°è½»å“ï¼Œæ¯”åˆšæ‰é™ˆå™æ¸¸æˆé‡Œçš„çˆ†ç‚¸å£°è¿˜è¦éœ‡è€³æ¬²è‹ã€‚</p>
<p>é™ˆå™ç«™åœ¨å®¢å…ä¸­å¤®ï¼Œçœ‹ç€é‚£ä¸ªä¸æ–­æ¥æ°´çš„ç›†ã€‚æ°´ç æº…å‡ºæ¥ï¼Œæ‰“æ¹¿äº†èŒ¶å‡ ä¸Šçš„é¥æ§å™¨ã€‚</p>
<p>ä»–çªç„¶æ„è¯†åˆ°ï¼Œåœ¨è¿™ä¸ªå®¶é‡Œï¼Œä¸€ç›´è´Ÿè´£â€œé˜²æ°´â€çš„é‚£ä¸ªäººï¼Œæ’¤é€€äº†ã€‚</p>
<p>ç¬¬å››ç« ï¼šå‰¥ç¦»ä¸ç•™ç™½</p>
<p>æ—å©‰èµ°äº†ã€‚</p>
<p>ä¸æ˜¯ç¦»å®¶å‡ºèµ°ï¼Œè€Œæ˜¯åæ­£è¨€é¡ºçš„â€œé€ƒç¦»â€ã€‚å¥¹åœ¨å…¬å¸ç”³è¯·äº†å»è‹å·è·Ÿè¿›ä¸€ä¸ªä¸ºæœŸä¸¤å‘¨çš„å›­æ—æ”¹é€ é¡¹ç›®ã€‚</p>
<p>å¥¹æ”¶æ‹¾è¡Œæçš„æ—¶å€™å¾ˆå®‰é™ã€‚é™ˆå™ååœ¨åºŠè¾¹çœ‹ç€å¥¹å è¡£æœï¼ŒæŠŠé‚£äº›é¢œè‰²ç´ é›…çš„è¡¬è¡«ã€é•¿è£¤æ•´æ•´é½é½åœ°ç è¿›ç®±å­é‡Œã€‚ä»–æƒ³å¸®å¿™ï¼Œä½†æ‰‹ä¼¸å‡ºå»åˆç¼©äº†å›æ¥ï¼Œå› ä¸ºä»–å‘ç°è‡ªå·±æ ¹æœ¬ä¸çŸ¥é“å¥¹çš„æŠ¤è‚¤å“è¦æ€ä¹ˆåˆ†ç±»æ‰“åŒ…ï¼Œä¹Ÿä¸çŸ¥é“å¥¹çš„è¯æ”¾åœ¨å“ªä¸ªæ ¼å­é‡Œã€‚</p>
<p>åœ¨è¿™ä¸ªå®¶é‡Œï¼Œä»–æ˜¯ä¸€ä¸ªå½»å¤´å½»å°¾çš„â€œä½¿ç”¨è€…â€ï¼Œè€Œæ—å©‰æ˜¯â€œç»´æŠ¤è€…â€ã€‚</p>
<p>â€œæˆ‘å»è‹å·å¤§æ¦‚åŠä¸ªæœˆã€‚â€æ—å©‰åˆä¸Šç®±å­ï¼Œâ€œå¦‚æœâ€¦â€¦å¦‚æœä½ ä¸æƒ³å«å¤–å–ï¼Œå†°ç®±å†·å†»å±‚é‡Œæœ‰åŒ…å¥½çš„é¥ºå­å’Œé¦„é¥¨ã€‚å¢™çš„äº‹æƒ…ï¼Œç‰©ä¸šè¯´æ˜å¤©ä¼šä¸Šé—¨æ¥çœ‹ã€‚â€</p>
<p>é™ˆå™å–‰ç»“æ»šåŠ¨äº†ä¸€ä¸‹ï¼šâ€œä¸€å®šè¦å»å—ï¼Ÿâ€</p>
<p>â€œå—¯ã€‚é¡¹ç›®å¾ˆæ€¥ã€‚â€æ—å©‰æ²¡æœ‰çœ‹ä»–ï¼Œæ‹‰èµ·æ‹‰æ†ã€‚</p>
<p>â€œå©‰å©‰ã€‚â€é™ˆå™ç«™èµ·æ¥ï¼Œæ‹¦åœ¨å¥¹é¢å‰ï¼Œâ€œé‚£å¤©æ˜¯æˆ‘è¯è¯´é‡äº†ã€‚æˆ‘æ”¹ï¼Œè¡Œä¸è¡Œï¼Ÿä»¥åä½ æœ‰ä»€ä¹ˆä¸é«˜å…´çš„ç›´æ¥è¯´ï¼Œåˆ«é—·åœ¨å¿ƒé‡Œã€‚â€</p>
<p>æ—å©‰çœ‹ç€ä»–ï¼Œçœ¼ç¥é‡Œæœ‰ä¸€ä¸æ‚²æ‚¯ï¼šâ€œé™ˆå™ï¼Œæˆ‘è¯´è¿‡çš„ã€‚é‚£å—æ°´æ¸åˆšå‡ºç°çš„æ—¶å€™æˆ‘å°±è¯´è¿‡ã€‚æ˜¯ä½ é€‰æ‹©äº†â€˜ç­‰é›¨åœâ€™ã€‚â€</p>
<p>å¥¹ç»•è¿‡ä»–ï¼Œèµ°å‡ºäº†å®¶é—¨ã€‚</p>
<p>æ—å©‰èµ°åçš„ç¬¬ä¸€å¤©ï¼Œé™ˆå™æ„Ÿåˆ°äº†ä¸€ç§ä»æœªæœ‰è¿‡çš„ç©ºæ—·ã€‚</p>
<p>æ˜æ˜å®¶å…·éƒ½åœ¨ï¼Œæ ¼å±€æ²¡å˜ï¼Œä½†æˆ¿å­åƒæ˜¯çªç„¶å¤§äº†å¥½å‡ å€ï¼Œå£°éŸ³ä¼šæœ‰å›éŸ³ã€‚</p>
<p>æ™šä¸Šå›åˆ°å®¶ï¼Œæ²¡æœ‰çƒ­è…¾è…¾çš„é¥­èœï¼Œä¹Ÿæ²¡æœ‰é‚£ä¸€ç›ä¸ºä»–ç•™çš„å¤œç¯ã€‚ä»–æ‰“å¼€å†°ç®±ï¼Œçœ‹åˆ°é‚£äº›è´´ç€æ ‡ç­¾çš„ä¿é²œç›’ï¼šâ€œçŒªè‚‰ç™½èœé¥ºå­ï¼ˆç…®10åˆ†é’Ÿï¼‰â€ã€â€œè™¾ä»é¦„é¥¨ï¼ˆæ°´å¼€ä¸‹é”…ï¼‰â€ã€‚</p>
<p>å­—è¿¹æ¸…ç§€ï¼Œé‚£æ˜¯æ—å©‰çš„æ‰‹å†™ä½“ã€‚</p>
<p>é™ˆå™ç…®äº†ä¸€ç¢—é¦„é¥¨ã€‚æ°´çƒ§å¼€çš„æ—¶å€™ï¼Œè’¸æ±½æ‰‘åœ¨è„¸ä¸Šï¼Œä»–çªç„¶æƒ³èµ·ä»¥å‰æ¯æ¬¡ä»–åœ¨ä¹¦æˆ¿åŠ ç­ï¼Œæ—å©‰ä¹Ÿæ˜¯è¿™æ ·åœ¨å¨æˆ¿å¿™ç¢Œï¼Œç„¶åç«¯ç€å¤œå®µæ‚„æ‚„è¿›æ¥ï¼Œæ€•æ‰“æ‰°ä»–ï¼Œæ”¾ä¸‹å°±èµ°ã€‚</p>
<p>ä»–å½“æ—¶åœ¨å¹²ä»€ä¹ˆï¼Ÿå¤§æ¦‚è¿å¥è°¢è°¢éƒ½æ²¡è¯´ï¼Œå¤´ä¹Ÿä¸æŠ¬åœ°ç»§ç»­ç›¯ç€å±å¹•ã€‚</p>
<p>å› ä¸ºä¹ æƒ¯äº†ï¼Œæ‰€ä»¥è§‰å¾—ç†æ‰€å½“ç„¶ã€‚å°±åƒäººä¸ä¼šæ„Ÿæ¿€å‘¼å¸ï¼Œç›´åˆ°ç¼ºæ°§çš„é‚£ä¸€åˆ»ã€‚</p>
<p>ç¬¬äºŒå¤©ï¼Œç‰©ä¸šå¸¦ç€ç»´ä¿®å·¥ä¸Šé—¨äº†ã€‚</p>
<p>å·¥äººæ˜¯ä¸ªäº”åå¤šå²çš„å¤§å”ï¼ŒåŠ¨ä½œéº»åˆ©åœ°é“²æ‰äº†å‘éœ‰çš„å¢™çš®ï¼Œéœ²å‡ºäº†é‡Œé¢çš„ç –æ··ç»“æ„ã€‚ç°å°˜é£æ‰¬ï¼Œé™ˆå™ä¸å¾—ä¸æˆ´ä¸Šå£ç½©ã€‚</p>
<p>â€œå“å“Ÿï¼Œè¿™æ¼å¾—æŒºæ·±å•Šã€‚â€å¤§å”ä¸€è¾¹åˆ®è…»å­ä¸€è¾¹è¯´ï¼Œâ€œè€æ¿ï¼Œä½ è¿™å‘ç°å¾—å¤ªæ™šäº†ã€‚è¦æ˜¯æ—©ç‚¹å¤„ç†ï¼Œä¸ç”¨é“²è¿™ä¹ˆå¤§é¢ç§¯ã€‚ç°åœ¨å¥½äº†ï¼Œè¿™ä¸€æ•´é¢å¢™éƒ½å¾—é‡åšã€‚â€</p>
<p>â€œå‘ç°å¾—å¤ªæ™šäº†ã€‚â€</p>
<p>è¿™å¥è¯åƒé”¤å­ä¸€æ ·æ•²åœ¨é™ˆå™å¿ƒä¸Šã€‚</p>
<p>å…¶å®æ—©å°±å‘ç°äº†ï¼Œåªæ˜¯æ²¡å½“å›äº‹ã€‚ä»¥ä¸ºå®ƒä¼šè‡ªæ„ˆï¼Œæˆ–è€…ä»¥ä¸ºå®ƒèƒ½å¿å—ã€‚</p>
<p>ä¿®å¢™çš„è¿‡ç¨‹æŒç»­äº†ä¸‰å¤©ã€‚é™ˆå™è¯·äº†å¹´å‡åœ¨å®¶ç›¯ç€ã€‚</p>
<p>è¿™ä¸‰å¤©é‡Œï¼Œä»–æŠŠå®¶é‡Œä»é‡Œåˆ°å¤–æ‰“æ‰«äº†ä¸€éã€‚ä»–å‘ç°æ²™å‘åº•ä¸‹çš„ä¹é«˜ç§¯æœ¨ï¼ˆé‚£æ˜¯ä»–ä¸¤å¹´å‰æ‹¼ä¸¢çš„ä¸€ä¸ªé›¶ä»¶ï¼‰ï¼Œå‘ç°äº†æ—å©‰æ¢³å¦†å°æŠ½å±‰é‡Œçš„ä¸€å æŠ—æŠ‘éƒçš„è¯ç›’ï¼ˆå¤§éƒ¨åˆ†æ˜¯ç©ºçš„ï¼‰ï¼Œå‘ç°äº†é˜³å°ç»¿æ¤å¶ç‰‡ä¸Šæ¯ä¸€ç‰‡éƒ½è¢«æ“¦æ‹­è¿‡çš„ç—•è¿¹ã€‚</p>
<p>ä»–æ‹¿ç€é‚£ä¸ªè¯ç›’ï¼Œæ‰‹åœ¨å‘æŠ–ã€‚</p>
<p>ä»–æƒ³èµ·åŠå¹´å‰æ—å©‰è¯´ç¡çœ ä¸å¥½ï¼Œä»–åªæ˜¯éšå£è¯´äº†ä¸€å¥â€œåˆ«æƒ³å¤ªå¤šï¼Œå–ç‚¹ç‰›å¥¶â€ã€‚</p>
<p>ä»–æƒ³èµ·å¥¹æœ‰æ—¶å€™ååœ¨é˜³å°ä¸Šå‘å‘†ä¸€æ•´å¤©ï¼Œä»–ä»¥ä¸ºå¥¹åœ¨æ„æ€è®¾è®¡æ–¹æ¡ˆã€‚</p>
<p>åŸæ¥ï¼Œå¥¹ä¸€ç›´åœ¨æººæ°´ï¼Œè€Œä»–åœ¨å²¸ä¸Šå«Œå¥¹æ¸¸å¾—æ…¢ã€‚</p>
<p>å¢™ç»ˆäºä¿®å¥½äº†ã€‚å´­æ–°çš„ç™½è‰²ä¹³èƒ¶æ¼†ï¼Œå¹³æ•´ã€æ´ç™½ï¼Œæ•£å‘ç€ä¸€è‚¡æ·¡æ·¡çš„åŒ–å­¦å‘³é“ã€‚</p>
<p>ä½†è¿™å—æ–°å¢™å¤ªç™½äº†ï¼Œç™½å¾—åˆºçœ¼ï¼Œå’Œå‘¨å›´ç•¥å¾®æ³›é»„çš„æ—§å¢™é¢å½¢æˆäº†é²œæ˜çš„è‰²å·®ã€‚åƒæ˜¯ä¸€å—çªå…€çš„è¡¥ä¸ï¼Œæ˜­ç¤ºç€è¿™é‡Œæ›¾ç»å‘ç”Ÿè¿‡ä»€ä¹ˆã€‚</p>
<p>é™ˆå™æ‹äº†ä¸€å¼ ç…§ç‰‡ï¼Œç‚¹å¼€æ—å©‰çš„å¾®ä¿¡ã€‚</p>
<p>ä»–ä»¬çš„å¯¹è¯æ¡†è¿˜åœç•™åœ¨å››å¤©å‰ã€‚</p>
<p>ä»–è¾“å…¥ï¼šâ€œå¢™ä¿®å¥½äº†ã€‚â€</p>
<p>åˆ æ‰ã€‚</p>
<p>è¾“å…¥ï¼šâ€œæˆ‘çœ‹åˆ°è¯äº†ï¼Œå¯¹ä¸èµ·ã€‚â€</p>
<p>åˆ æ‰ã€‚å¤ªæ²‰é‡ã€‚</p>
<p>è¾“å…¥ï¼šâ€œä½ ä»€ä¹ˆæ—¶å€™å›æ¥ï¼Ÿâ€</p>
<p>åˆ æ‰ã€‚æ²¡æœ‰èµ„æ ¼å‚¬ä¿ƒã€‚</p>
<p>æœ€åï¼Œä»–åªå‘äº†é‚£å¼ ç…§ç‰‡è¿‡å»ã€‚</p>
<p>ç¬¬äº”ç« ï¼šåŠå˜ç±³çš„è·ç¦»</p>
<p>è‹å·çš„é›¨æ¯”å®¶é‡Œè¦æ¸©æŸ”ä¸€äº›ã€‚</p>
<p>æ—å©‰ååœ¨å›­æ—çš„è¿å»Šä¸‹ï¼Œçœ‹ç€é›¨æ°´é¡ºç€é»›ç“¦æ»´è½ï¼Œå½¢æˆä¸€ä¸²ä¸²ç å¸˜ã€‚</p>
<p>æ‰‹æœºéœ‡åŠ¨äº†ä¸€ä¸‹ã€‚æ˜¯é™ˆå™å‘æ¥çš„ç…§ç‰‡ã€‚</p>
<p>é‚£é¢å¢™å¾ˆç™½ï¼Œç™½å¾—æœ‰äº›æ»‘ç¨½ã€‚å°±åƒé™ˆå™è¿™ä¸ªäººä¸€æ ·ï¼Œè¯•å›¾ç”¨ä¸€ç§ç¬¨æ‹™çš„ã€ç›´çº¿çš„é€»è¾‘æ¥ä¿®å¤ä¸€æ®µå¤æ‚çš„ã€æ›²çº¿çš„æƒ…æ„Ÿã€‚</p>
<p>æ—å©‰çœ‹ç€ç…§ç‰‡ï¼Œå¿ƒé‡Œå¹¶æ²¡æœ‰æ¶Œèµ·é‚£ç§ç†Ÿæ‚‰çš„åŒçƒ¦ï¼Œåè€Œæœ‰ä¸€ä¸æ·¡æ·¡çš„é…¸æ¥šã€‚</p>
<p>å¥¹çŸ¥é“é™ˆå™ä¸æ˜¯åäººã€‚ä»–åªæ˜¯ä¸€ä¸ªåœ¨ç°ä»£ç¤¾ä¼šé«˜å‹è¿è½¬ä¸‹ï¼Œæƒ…æ„ŸåŠŸèƒ½é€€åŒ–çš„é›¶ä»¶ã€‚ä»–åŠªåŠ›èµšé’±å…»å®¶ï¼Œè¿™æ˜¯ä»–è¡¨è¾¾çˆ±çš„æ–¹å¼ã€‚åªæ˜¯è¿™ç§æ–¹å¼ï¼Œé”™ä½äº†ã€‚</p>
<p>å¥¹å¹¶ä¸æ˜¯æƒ³ç¦»å©šã€‚å¦‚æœè¦ç¦»å©šï¼Œå¥¹ä¸éœ€è¦ç­‰åˆ°ç°åœ¨ã€‚å¥¹åªæ˜¯éœ€è¦é€æ°”ï¼Œéœ€è¦è®©ä»–æ˜ç™½ï¼Œå©šå§»ä¸æ˜¯æ­ä¼™è¿‡æ—¥å­çš„å¥‘çº¦ï¼Œè€Œæ˜¯ä¸¤ä¸ªçµé­‚çš„å…±æŒ¯ã€‚å¦‚æœéœ‡åŠ¨åœæ­¢äº†ï¼Œæˆ¿å­å†ç¨³å›ºï¼Œä¹Ÿåªæ˜¯ä¸€åº§åŸå¢“ã€‚</p>
<p>æ—å©‰ç‚¹å¼€é”®ç›˜ï¼Œæ‰“å­—ï¼šâ€œå¤ªç™½äº†ï¼Œä¸å¥½çœ‹ã€‚â€</p>
<p>é™ˆå™ç§’å›ï¼šâ€œæ˜¯æœ‰ç‚¹ã€‚å·¥äººè¯´æ—§å¢™æ°§åŒ–äº†ï¼Œä¼šæœ‰è‰²å·®ã€‚è¿‡æ®µæ—¶é—´â€¦â€¦è¿‡æ®µæ—¶é—´ä¹Ÿè®¸å°±èåˆäº†ã€‚â€</p>
<p>æ—å©‰çœ‹ç€â€œè¿‡æ®µæ—¶é—´â€è¿™å››ä¸ªå­—ã€‚</p>
<p>ä»¥å‰è¿™ä¹Ÿæ˜¯é™ˆå™çš„å£å¤´ç¦…ã€‚â€œè¿‡æ®µæ—¶é—´å¸¦ä½ å»æ—…æ¸¸â€ã€â€œè¿‡æ®µæ—¶é—´æˆ‘å°±ä¸å¿™äº†â€ã€‚</p>
<p>ä½†è¿™æ¬¡ï¼Œå¥¹è¯»å‡ºäº†ä¸€ç‚¹ä¸ä¸€æ ·çš„æ„å‘³ã€‚é‚£æ˜¯å°å¿ƒç¿¼ç¿¼çš„è¯•æ¢ï¼Œæ˜¯ä¸€ç§æ‰¿è®¤â€œç°åœ¨ä¸è¡Œï¼Œä½†æˆ‘æ„¿æ„ç­‰â€çš„å§¿æ€ã€‚</p>
<p>â€œé™ˆå™ã€‚â€æ—å©‰å‘äº†ä¸€æ¡è¯­éŸ³ã€‚</p>
<p>é™ˆå™åœ¨å®¶é‡Œï¼Œé¢¤æŠ–ç€æ‰‹ç‚¹å¼€ã€‚</p>
<p>â€œæˆ‘åœ¨è‹å·çœ‹åˆ°äº†è¿™è¾¹çš„è€æˆ¿å­ã€‚æœ‰äº›å¢™è£‚äº†ï¼Œä»–ä»¬ä¸ä¿®ï¼Œåè€Œåœ¨è£‚ç¼é‡Œç§ä¸Šäº†è‹”è—“ï¼Œæˆ–è€…ç”»æˆäº†æ¢…èŠ±æå¹²ã€‚è£‚ç—•è¿˜åœ¨ï¼Œä½†å®ƒå˜æˆäº†é£æ™¯çš„ä¸€éƒ¨åˆ†ã€‚â€</p>
<p>æ—å©‰çš„å£°éŸ³å¬èµ·æ¥å¾ˆå¹³å’Œï¼Œä¼´ç€èƒŒæ™¯é‡Œçš„é›¨å£°ï¼Œåƒæ˜¯ä¸€é¦–é¥è¿œçš„æ­Œã€‚</p>
<p>â€œæˆ‘ä»¬ä¹‹é—´çš„è£‚ç—•ï¼Œé“²æ‰é‡åˆ·æ˜¯é®ä¸ä½çš„ã€‚é‚£å—è‰²å·®ä¼šä¸€ç›´éƒ½åœ¨ã€‚â€</p>
<p>é™ˆå™å¬å®Œï¼Œæ²‰é»˜äº†å¾ˆä¹…ã€‚ä»–èµ°åˆ°é‚£é¢å¢™å‰ï¼Œä¼¸å‡ºæ‰‹ï¼ŒæŒ‡è…¹è½»è½»æŠšæ‘¸ç€æ–°æ—§äº¤ç•Œçš„åœ°æ–¹ã€‚é‚£é‡Œæœ‰ä¸€é“æå…¶ç»†å¾®çš„ã€åŠå˜ç±³å®½çš„å‡¸èµ·ã€‚</p>
<p>è¿™æ˜¯ä¼¤ç–¤ã€‚</p>
<p>ä»–æ‹¿èµ·æ‰‹æœºï¼ŒæŒ‰ä¸‹è¯­éŸ³é”®ã€‚è¿™æ˜¯ä»–ç¬¬ä¸€æ¬¡ç»™æ—å©‰å‘è¿™ä¹ˆé•¿çš„è¯­éŸ³ã€‚</p>
<p>â€œå©‰å©‰ï¼Œæˆ‘çŸ¥é“é®ä¸ä½ã€‚æˆ‘ä¹Ÿä¸æƒ³é®äº†ã€‚è¿™å—è‰²å·®ç•™ç€å§ï¼Œæé†’æˆ‘ï¼Œæˆ‘æ›¾ç»æŠŠäº‹æƒ…æç ¸è¿‡ã€‚ä½†æˆ‘â€¦â€¦æˆ‘æƒ³å­¦å­¦æ€ä¹ˆåœ¨ä¸Šé¢ç”»æ¢…èŠ±ã€‚æˆ‘ä¸æ‡‚ç”»ç”»ï¼Œä½ èƒ½ä¸èƒ½â€¦â€¦å›æ¥æ•™æ•™æˆ‘ï¼Ÿâ€</p>
<p>å‘é€æˆåŠŸã€‚</p>
<p>é™ˆå™æ”¾ä¸‹æ‰‹æœºï¼Œèµ°åˆ°é˜³å°ã€‚</p>
<p>é›¨åœäº†ã€‚</p>
<p>äº‘å±‚è£‚å¼€äº†ä¸€é“ç¼éš™ï¼Œä¸€æŸä¹…è¿çš„é˜³å…‰åƒé‡‘è‰²çš„å‰‘ä¸€æ ·åˆºç ´äº†åšé‡çš„äº‘å±‚ï¼ŒæŠ•å°„åœ¨æ½®æ¹¿çš„æŸæ²¹é©¬è·¯ä¸Šã€‚</p>
<p>æ°´æ±½å¼€å§‹è’¸å‘ï¼Œç©ºæ°”é‡Œé‚£ç§é»è…»çš„æ²‰é‡æ„Ÿæ­£åœ¨æ¶ˆæ•£ã€‚</p>
<p>æ‰‹æœºéœ‡åŠ¨äº†ä¸€ä¸‹ã€‚</p>
<p>æ—å©‰å›äº†ä¸€ä¸ªå­—ï¼šâ€œå¥½ã€‚â€</p>
<p>å¹¶æ²¡æœ‰è¯´ä»€ä¹ˆæ—¶å€™å›ï¼Œä¹Ÿæ²¡æœ‰è¯´åŸè°…ã€‚ä½†è¿™ä¸ªâ€œå¥½â€å­—ï¼Œå°±åƒé‚£æŸé˜³å…‰ä¸€æ ·ï¼Œè™½ç„¶å¾®å¼±ï¼Œå´è¶³ä»¥ç…§äº®é‚£é¢æ–‘é©³çš„å¢™ã€‚</p>
<p>é™ˆå™çœ‹ç€è¿œå¤„çš„å¤©é™…çº¿ï¼Œæ·±æ·±åœ°å¸äº†ä¸€å£å¸¦ç€æ³¥åœŸè…¥å‘³çš„ç©ºæ°”ã€‚</p>
<p>é™¤æ¹¿æœºä¸å†å“äº†ã€‚</p>
<p>ä½†ä»–çŸ¥é“ï¼ŒçœŸæ­£çš„é™¤æ¹¿ï¼Œæ‰åˆšåˆšå¼€å§‹ã€‚</p>
<p>ï¼ˆå®Œï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»]]></title>    <link>https://juejin.cn/post/7582438809377472554</link>    <guid>https://juejin.cn/post/7582438809377472554</guid>    <pubDate>2025-12-11T11:17:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809377472554" data-draft-id="7582397035942690822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T11:17:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:17:39.000Z" title="Thu Dec 11 2025 11:17:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>CMake Tools æ˜¯ç”± Microsoft å¼€å‘çš„ VS Code æ‰©å±•ï¼Œå…¶æ ¸å¿ƒå®šä½æ˜¯ä½œä¸º CMake ä¸ IDE ç•Œé¢ä¹‹é—´çš„æ¡¥æ¢ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä¼ ç»Ÿå‘½ä»¤è¡Œå¼€å‘ä¸­çš„å¤šæ­¥éª¤æ“ä½œï¼ˆå¦‚é…ç½®ã€ç”Ÿæˆã€æ„å»ºæµç¨‹ï¼‰æ¥æå‡å¼€å‘æ•ˆç‡ã€‚è¯¥å·¥å…·ä¸ä»…æä¾›åŸºç¡€çš„é¡¹ç›®ç®¡ç†åŠŸèƒ½ï¼Œè¿˜åŒ…å«è¯¦ç»†çš„æ–‡æ¡£æ”¯æŒï¼ˆå¦‚ FAQ æŒ‡å—ï¼‰ä»¥å¸®åŠ©ç”¨æˆ·è§£å†³ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ç–‘é—®ã€‚</p>
<p>ä»ç”¨æˆ·éœ€æ±‚é€‚é…è§’åº¦ï¼ŒCMake Tools å®ç°äº†å¯¹ä¸åŒæŠ€æœ¯æ°´å¹³å¼€å‘è€…çš„è¦†ç›–ï¼šå¯¹äºæ–°æ‰‹ï¼Œå…¶æä¾›å¿«é€Ÿå…¥é—¨å¼•å¯¼ç®€åŒ–ä¸Šæ‰‹æµç¨‹ï¼›å¯¹äºä¸“ä¸šå¼€å‘è€…ï¼Œåˆ™æ”¯æŒé«˜çº§é…ç½®ä»¥æ»¡è¶³å¤æ‚é¡¹ç›®éœ€æ±‚ã€‚è¿™ç§åŒé‡æ”¯æŒä½“ç³»ä½¿å…¶æˆä¸ºè·¨åœºæ™¯ CMake é¡¹ç›®å¼€å‘çš„é«˜æ•ˆå·¥å…·ã€‚</p>
<p>è·å–è¯¥å·¥å…·çš„æ ‡å‡†æµç¨‹éœ€é€šè¿‡ VS Code æ‰©å±•é¢æ¿å®Œæˆã€‚åœ¨æ‰©å±•å¸‚åœºæœç´¢ "cmake" æ—¶ï¼Œéœ€æ³¨æ„é€‰æ‹© Microsoft å®˜æ–¹å‘å¸ƒçš„ "CMake Tools"ï¼ˆæè¿°ä¸º "Extended CMake support..."ï¼‰ï¼Œç‚¹å‡»ç•Œé¢ä¸­çš„ "Install" æŒ‰é’®å³å¯å®Œæˆå®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/456ffdb5fe4e4d38aab82f00ebd21360~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056659&amp;x-signature=JZPy9i2ChGZ3MpfhzP9UUaW8RTk%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ ¸å¿ƒä»·å€¼æ€»ç»“ï¼šé€šè¿‡ IDE é›†æˆå®ç° CMake å·¥ä½œæµè‡ªåŠ¨åŒ–ï¼Œæ¶ˆé™¤å‘½ä»¤è¡Œæ“ä½œå¤æ‚æ€§ï¼›å…¼é¡¾æ–°æ‰‹å‹å¥½æ€§ä¸ä¸“ä¸šæ‰©å±•æ€§ï¼›ä¸ VS Code ç”Ÿæ€æ·±åº¦èåˆï¼Œæä¾›ä¸€è‡´çš„å¼€å‘ä½“éªŒã€‚</p>
</blockquote>
<h2 data-id="heading-0">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è§£æ</h2>
<h3 data-id="heading-1">é…ç½®æ¨¡å—ï¼šæ™ºèƒ½ç¼“å­˜ç”Ÿæˆä¸å‘½ä»¤è¡Œç®€åŒ–</h3>
<p>é…ç½®æ¨¡å—æ˜¯ VS Code CMake Tools çš„æ ¸å¿ƒç»„ä»¶ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½åœ¨äºè‡ªåŠ¨åŒ– CMake ç¼“å­˜ç”Ÿæˆé€»è¾‘ã€‚ä¼ ç»Ÿå‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼Œå¼€å‘è€…éœ€æ‰‹åŠ¨æ‰§è¡Œ <code>cmake -S . -B build</code> æŒ‡å®šæºä»£ç ç›®å½•ï¼ˆ<code>-S</code>ï¼‰å’Œæ„å»ºç›®å½•ï¼ˆ<code>-B</code>ï¼‰ï¼Œè€Œå·¥å…·é€šè¿‡å›¾å½¢åŒ–ç•Œé¢å°†è¿™ä¸€è¿‡ç¨‹ç®€åŒ–ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šé€‰æ‹©å·¥å…·é“¾ï¼ˆå¦‚ GCCã€Clang æˆ– MSVCï¼‰ã€é…ç½®æ„å»ºç±»å‹ï¼ˆ<code>CMAKE_BUILD_TYPE</code>ï¼‰ã€è®¾ç½®è‡ªå®šä¹‰å‚æ•°ã€‚ç¼“å­˜ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>CMakeLists.txt</code>ï¼Œå¹¶æ ¹æ®ç”¨æˆ·é…ç½®ç”Ÿæˆ <code>CMakeCache.txt</code>ï¼Œé¿å…äº†å‘½ä»¤è¡Œè¾“å…¥é”™è¯¯å¯¼è‡´çš„é…ç½®å¤±æ•ˆé—®é¢˜ã€‚</p>
<p>å…³é”®é…ç½®å‚æ•°å¯¹é¡¹ç›®æ„å»ºç»“æœå…·æœ‰ç›´æ¥å½±å“ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>CMAKE_BUILD_TYPE</code>ï¼šæ§åˆ¶ç¼–è¯‘ä¼˜åŒ–çº§åˆ«ä¸è°ƒè¯•ä¿¡æ¯ç”Ÿæˆï¼Œå–å€¼èŒƒå›´åŒ…æ‹¬ Debugï¼ˆæ— ä¼˜åŒ–ï¼Œå«è°ƒè¯•ç¬¦å·ï¼‰ã€Releaseï¼ˆæœ€é«˜ä¼˜åŒ–ï¼Œæ— è°ƒè¯•ä¿¡æ¯ï¼‰ã€RelWithDebInfoï¼ˆä¼˜åŒ–+è°ƒè¯•ç¬¦å·ï¼‰å’Œ MinSizeRelï¼ˆæœ€å°ä½“ç§¯ä¼˜åŒ–ï¼‰ã€‚åœ¨å¼€å‘é˜¶æ®µé€‰æ‹© Debug å¯æ˜¾è‘—æå‡è°ƒè¯•æ•ˆç‡ï¼Œè€Œå‘å¸ƒç‰ˆæœ¬éœ€åˆ‡æ¢è‡³ Release ä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚</li>
<li><code>CMAKE_CXX_STANDARD</code>ï¼šæŒ‡å®š C++ æ ‡å‡†ç‰ˆæœ¬ï¼ˆå¦‚ 11ã€14ã€17 æˆ– 20ï¼‰ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ ¡éªŒç¼–è¯‘å™¨å…¼å®¹æ€§å¹¶ç”Ÿæˆç›¸åº”ç¼–è¯‘å‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-2">æ„å»ºæ¨¡å—ï¼šçµæ´»ç›®æ ‡ç®¡ç†ä¸æ€§èƒ½ä¼˜åŒ–</h3>
<p>æ„å»ºæ¨¡å—é€šè¿‡ã€Œå¤šç”Ÿæˆå™¨æ”¯æŒã€å’Œã€Œç›®æ ‡é€‰æ‹©æœºåˆ¶ã€æå‡å¼€å‘æ•ˆç‡ã€‚å·¥å…·é»˜è®¤é›†æˆ Ninjaã€Makefilesã€Visual Studio ç­‰å¤šç§ç”Ÿæˆå™¨ï¼Œå…¶ä¸­ Ninja ç”Ÿæˆå™¨å‡­å€Ÿå¹¶è¡Œç¼–è¯‘èƒ½åŠ›æˆä¸ºæ€§èƒ½ä¼˜åŒ–çš„å…³é”®â€”â€”å…¶åŸºäºä¾èµ–å…³ç³»å›¾çš„ä»»åŠ¡è°ƒåº¦å¯å……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼Œè¾ƒä¼ ç»Ÿ Make æ„å»ºé€Ÿåº¦æå‡ 30%~50%ã€‚å¼€å‘è€…å¯é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰æ‰§è¡Œ <code>CMake: Build</code> å¹¶é€‰æ‹©ç‰¹å®šç›®æ ‡ï¼ˆå¦‚å¯æ‰§è¡Œæ–‡ä»¶ã€é™æ€åº“æˆ–è‡ªå®šä¹‰ç›®æ ‡ï¼‰ï¼Œé¿å…å…¨é¡¹ç›®é‡æ–°ç¼–è¯‘ã€‚</p>
<p>æ€§èƒ½ä¼˜åŒ–å®è·µï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>å¯ç”¨å¢é‡æ„å»ºï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼Œä»…é‡æ–°ç¼–è¯‘ä¿®æ”¹è¿‡çš„æºæ–‡ä»¶ï¼›</li>
<li>é…ç½® <code>CMAKE_CXX_FLAGS</code> æ·»åŠ ç¼–è¯‘å™¨ç‰¹å®šä¼˜åŒ–ï¼ˆå¦‚ GCC çš„ <code>-O3</code> æˆ– Clang çš„ <code>-march=native</code>ï¼‰ï¼›</li>
<li>ä½¿ç”¨ <code>ctest</code> é›†æˆæµ‹è¯•ç›®æ ‡ï¼Œé€šè¿‡ <code>CMake: Run Tests</code> ä¸€é”®æ‰§è¡Œå•å…ƒæµ‹è¯•ã€‚</li>
</ul>
<h3 data-id="heading-3">è°ƒè¯•æ¨¡å—ï¼šåŒæ¨¡å¼é€‚é…ä¸ç²¾å‡†å‚æ•°é…ç½®</h3>
<p>è°ƒè¯•æ¨¡å—æ”¯æŒã€Œå¯åŠ¨è°ƒè¯•ï¼ˆLaunchï¼‰ã€å’Œã€Œé™„åŠ è°ƒè¯•ï¼ˆAttachï¼‰ã€ä¸¤ç§æ¨¡å¼ï¼Œè¦†ç›–ä¸åŒå¼€å‘åœºæ™¯ï¼š</p>
<ul>
<li><strong>Launch æ¨¡å¼</strong>ï¼šé€‚ç”¨äºä»é›¶å¯åŠ¨ç¨‹åºï¼Œéœ€åœ¨ <code>launch.json</code> ä¸­é…ç½® <code>program</code>ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼‰å’Œ <code>args</code>ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œè°ƒè¯•è·¯å¾„ä¸º <code>${workspaceFolder}/build/app</code> çš„ç¨‹åºå¹¶ä¼ å…¥ <code>--config debug</code> å‚æ•°ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Launch App"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/build/app"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--config"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"debug"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Attach æ¨¡å¼</strong>ï¼šç”¨äºè°ƒè¯•å·²è¿è¡Œè¿›ç¨‹ï¼Œéœ€æŒ‡å®šè¿›ç¨‹ IDï¼ˆPIDï¼‰æˆ–è¿›ç¨‹åç§°ï¼Œé€‚ç”¨äºæœåŠ¡ç«¯ç¨‹åºæˆ–åå°è¿›ç¨‹è°ƒè¯•ã€‚</li>
</ul>
<p>å·¥å…·é€šè¿‡ã€Œå˜é‡æ›¿æ¢æœºåˆ¶ã€ï¼ˆå¦‚ <code>${workspaceFolder}</code>ã€<code>${buildType}</code>ï¼‰åŠ¨æ€é€‚é…ä¸åŒæ„å»ºé…ç½®ï¼Œç¡®ä¿è°ƒè¯•å™¨å§‹ç»ˆå…³è”æœ€æ–°ç¼–è¯‘äº§ç‰©ã€‚åŒæ—¶ï¼Œé›†æˆ GDBã€LLDB ç­‰è°ƒè¯•å™¨æä¾›æ–­ç‚¹ç®¡ç†ã€å˜é‡ç›‘è§†å’Œè°ƒç”¨æ ˆåˆ†æåŠŸèƒ½ï¼Œå®ç°ä»£ç ç¼–è¾‘ä¸è°ƒè¯•çš„æ— ç¼è¡”æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-4">é¡¹ç›®å¼€å‘å…¨æµç¨‹å®è·µ</h2>
<p>VSCode CMake Tools æä¾›äº†ä»é¡¹ç›®åˆ›å»ºåˆ°è·¯å¾„é…ç½®çš„å®Œæ•´å¼€å‘é—­ç¯ï¼Œä»¥ä¸‹æŒ‰ã€Œåˆ›å»º-é…ç½®-æ„å»º-è°ƒè¯•-è·¯å¾„è®¾ç½®ã€æµç¨‹è¯¦è§£å®æ“æ­¥éª¤ã€‚</p>
<h3 data-id="heading-5">åˆ›å»ºç¯èŠ‚ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸æ¨¡æ¿é€‰æ‹©</h3>
<p>é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è°ƒç”¨ <code>CMake: Quick Start</code> å‘½ä»¤å¯åŠ¨é¡¹ç›®å‘å¯¼ï¼Œæ ¹æ®å¼€å‘éœ€æ±‚é€‰æ‹©æ¨¡æ¿ç±»å‹ï¼š</p>
<ul>
<li><strong>Executable</strong>ï¼šé€‚ç”¨äºæ„å»ºå¯æ‰§è¡Œç¨‹åºï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…å« <code>main.cpp</code> çš„åŸºç¡€å·¥ç¨‹ç»“æ„</li>
<li><strong>Library</strong>ï¼šç”¨äºåˆ›å»ºé™æ€/åŠ¨æ€åº“ï¼Œç”ŸæˆåŒ…å«å¤´æ–‡ä»¶å’Œå®ç°æ–‡ä»¶çš„åº“é¡¹ç›®æ¡†æ¶</li>
</ul>
<p>å‘å¯¼å®Œæˆåå°†è‡ªåŠ¨ç”Ÿæˆåˆå§‹ <code>CMakeLists.txt</code>ï¼ŒåŒ…å«é¡¹ç›®åç§°ã€ç‰ˆæœ¬å·åŠè¯­è¨€æ ‡å‡†ç­‰åŸºç¡€é…ç½®ã€‚</p>
<h3 data-id="heading-6">é…ç½®ç¯èŠ‚ï¼šç¼“å­˜ç”Ÿæˆä¸é—®é¢˜æ’æŸ¥</h3>
<p>é…ç½®è¿‡ç¨‹æ˜¯å°† <code>CMakeLists.txt</code> è½¬æ¢ä¸ºæ„å»ºç³»ç»Ÿæ–‡ä»¶çš„æ ¸å¿ƒæ­¥éª¤ï¼Œæ“ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è¾“å…¥å¹¶æ‰§è¡Œ <code>CMake: Configure</code> å‘½ä»¤</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5633515f8d144d279ed5ddd390988b12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056659&amp;x-signature=lXINON7vngQAYjR8Iny4cCOS89w%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>é¦–æ¬¡é…ç½®éœ€é€‰æ‹©ç¼–è¯‘å™¨ï¼ˆå¦‚ GCCã€Clang æˆ– MSVCï¼‰ï¼Œåç»­é…ç½®å°†è‡ªåŠ¨æ²¿ç”¨</li>
<li>é…ç½®ç»“æœå¯é€šè¿‡ Output é¢æ¿ï¼ˆ<code>Ctrl+Shift+U</code> åˆ‡æ¢ï¼‰çš„ CMake/Build é€šé“æŸ¥çœ‹è¯¦ç»†æ—¥å¿—</li>
</ol>
<p>é…ç½®å¤±è´¥æ’æŸ¥æŒ‡å—ï¼š</p>
<ul>
<li><strong>ä¾èµ–ç¼ºå¤±</strong>ï¼šæ—¥å¿—ä¸­å‡ºç° "Could NOT find XXX" æç¤ºæ—¶ï¼Œéœ€é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…å¯¹åº”ä¾èµ–</li>
<li><strong>è¯­æ³•é”™è¯¯</strong>ï¼š<code>CMakeLists.txt</code> å­˜åœ¨è¯­æ³•é—®é¢˜ä¼šå¯¼è‡´ "Parse error"ï¼Œå¯é€šè¿‡ VS Code å†…ç½® CMake è¯­æ³•é«˜äº®å®šä½é”™è¯¯è¡Œ</li>
<li><strong>è·¯å¾„é—®é¢˜</strong>ï¼šåŒ…å«é ASCII å­—ç¬¦æˆ–ç©ºæ ¼çš„é¡¹ç›®è·¯å¾„å¯èƒ½å¼•å‘é…ç½®å¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨çº¯è‹±æ–‡è·¯å¾„</li>
</ul>
<p>é…ç½®æˆåŠŸåå°†åœ¨ <code>build</code> ç›®å½•ç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼ˆå¦‚ <code>CMakeCache.txt</code>ï¼‰ï¼Œä¿®æ”¹ <code>CMakeLists.txt</code> åéœ€é‡æ–°æ‰§è¡Œé…ç½®å‘½ä»¤æ›´æ–°ç¼“å­˜ã€‚</p>
<h3 data-id="heading-7">æ„å»ºç¯èŠ‚ï¼šç¼–è¯‘ä¼˜åŒ–ä¸å¤šé…ç½®ç®¡ç†</h3>
<p>æ„å»ºæ“ä½œé€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è°ƒç”¨ <code>CMake: Build</code> å‘½ä»¤è§¦å‘ï¼Œå…³é”®é…ç½®åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¹¶è¡Œä»»åŠ¡æ•°è®¾ç½®</strong>ï¼šå»ºè®®é…ç½®ä¸º CPU æ ¸å¿ƒæ•°çš„ 1.5 å€ï¼ˆé€šè¿‡ <code>CMake: Set Build Parallel Level</code> å‘½ä»¤è°ƒæ•´ï¼‰ï¼Œå¹³è¡¡ç¼–è¯‘é€Ÿåº¦ä¸ç³»ç»Ÿè´Ÿè½½</li>
<li><strong>å¤šé…ç½®ç”Ÿæˆå™¨ä½¿ç”¨</strong>ï¼šå¯¹æ”¯æŒå¤šé…ç½®çš„ç”Ÿæˆå™¨ï¼ˆå¦‚ Visual Studioã€Xcodeï¼‰ï¼Œå¯é€šè¿‡çŠ¶æ€æ çš„æ„å»ºç±»å‹ä¸‹æ‹‰èœå•ï¼ˆé»˜è®¤ä¸º Debugï¼‰å¿«é€Ÿåˆ‡æ¢ Debug/Release/RelWithDebInfo æ¨¡å¼ï¼Œæ— éœ€é‡å¤é…ç½®</li>
</ul>
<h3 data-id="heading-8">è°ƒè¯•ç¯èŠ‚ï¼šä¸¤ç§è°ƒè¯•æ¨¡å¼å¯¹æ¯”</h3>























<table><thead><tr><th>è°ƒè¯•æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>é…ç½®å¤æ‚åº¦</th><th>å‚æ•°ä¼ é€’æ–¹å¼</th></tr></thead><tbody><tr><td>å¿«é€Ÿè°ƒè¯•</td><td>ä¸´æ—¶è°ƒè¯•éªŒè¯</td><td>ä½</td><td>ä¸æ”¯æŒè‡ªå®šä¹‰å‚æ•°</td></tr><tr><td>launch.json é…ç½®</td><td>å¤æ‚è°ƒè¯•åœºæ™¯</td><td>é«˜</td><td>é€šè¿‡ args å­—æ®µå®šä¹‰</td></tr></tbody></table>
<p>args å‚æ•°ä¼ é€’ç¤ºä¾‹ï¼ˆ<code>launch.json</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(gdb) Launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${command:cmake.launchTargetPath}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--input"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"data.txt"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"--verbose"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"environment"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"externalConsole"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"MIMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gdb"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">Include è·¯å¾„è®¾ç½®ï¼šè‡ªåŠ¨åŒæ­¥ä¸æ‰‹åŠ¨è¡¥å……</h3>
<p>å¤´æ–‡ä»¶è·¯å¾„ç®¡ç†é‡‡ç”¨åŒé‡æœºåˆ¶ç¡®ä¿ IntelliSense æ­£å¸¸å·¥ä½œï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åŒæ­¥</strong>ï¼šCMake é…ç½®è¿‡ç¨‹ä¸­ä¼šç”Ÿæˆ <code>compile_commands.json</code>ï¼ˆéœ€åœ¨ <code>CMakeLists.txt</code> ä¸­è®¾ç½® <code>set(CMAKE_EXPORT_COMPILE_COMMANDS ON)</code>ï¼‰ï¼ŒVS Code ä¼šè‡ªåŠ¨è§£æè¯¥æ–‡ä»¶åŒæ­¥ include è·¯å¾„</li>
<li><strong>æ‰‹åŠ¨è¡¥å……</strong>ï¼šå½“è‡ªåŠ¨åŒæ­¥ä¸å®Œæ•´æ—¶ï¼Œå¯é€šè¿‡ <code>.vscode/c_cpp_properties.json</code> æ‰‹åŠ¨æ·»åŠ è·¯å¾„ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Linux"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"includePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"${workspaceFolder}/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"/usr/local/include"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"${workspaceFolder}/third_party/include"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"defines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"compilerPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/bin/gcc"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cStandard"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c17"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cppStandard"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c++20"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>è·¯å¾„ä¼˜å…ˆçº§è§„åˆ™ï¼šæ‰‹åŠ¨é…ç½®çš„ <code>includePath</code> ä¼˜å…ˆçº§é«˜äº <code>compile_commands.json</code> ä¸­çš„è·¯å¾„ï¼Œå­˜åœ¨å†²çªæ—¶ä»¥æ‰‹åŠ¨é…ç½®ä¸ºå‡†</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">é«˜çº§ç‰¹æ€§ä¸å®šåˆ¶åŒ–æ–¹æ¡ˆ</h2>
<p>VSCode CMake Tools çš„é«˜çº§ç‰¹æ€§ä½“ç³»å›´ç»•ã€Œæ ‡å‡†åŒ–-ç²¾å‡†æ§åˆ¶-åœºæ™¯åˆ‡æ¢ã€æ„å»ºï¼Œé€šè¿‡ä¸‰å¤§æ ¸å¿ƒç»„ä»¶è§£å†³ä¼ ç»Ÿé…ç½®æ¨¡å¼ä¸‹çš„ç¯å¢ƒä¸€è‡´æ€§ã€å·¥å…·é“¾é€‚é…ä¸å¤šåœºæ™¯åˆ‡æ¢éš¾é¢˜ã€‚</p>
<h3 data-id="heading-11">CMake Presetsï¼šå±‚çº§åŒ–é…ç½®å®ç°å›¢é˜Ÿåä½œæ ‡å‡†åŒ–</h3>
<p>å…¶æ ¸å¿ƒåŒ…å«ï¼š</p>
<ul>
<li><code>configurePresets</code>ï¼šå®šä¹‰åŸºç¡€æ„å»ºç¯å¢ƒï¼ˆå¦‚ CMake ç‰ˆæœ¬ã€ç”Ÿæˆå™¨ç±»å‹ï¼‰</li>
<li><code>buildPresets</code>ï¼šç»§æ‰¿é…ç½®å¹¶æ·»åŠ ç¼–è¯‘å‚æ•°ï¼ˆå¦‚å¹¶è¡Œä»»åŠ¡æ•°ï¼‰</li>
<li><code>testPresets</code>ï¼šä¸“æ³¨æµ‹è¯•æ‰§è¡Œç­–ç•¥ï¼ˆå¦‚æµ‹è¯•è¶…æ—¶è®¾ç½®ï¼‰</li>
</ul>
<p>è¿™ç§ç»“æ„åŒ–é…ç½®å¯é€šè¿‡ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå…±äº«ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç»Ÿä¸€çš„æ„å»ºç¯å¢ƒï¼Œæœ‰æ•ˆæ¶ˆé™¤ã€Œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œã€çš„åä½œéšœç¢ã€‚</p>
<h3 data-id="heading-12">å·¥å…·é“¾ç®¡ç†ï¼ˆKitsï¼‰ï¼šåŒè½¨åˆ¶é€‚é…æ–¹æ¡ˆ</h3>
<ul>
<li><strong>è‡ªåŠ¨å‘ç°æ¨¡å¼</strong>ï¼šé€‚ç”¨äºæ ‡å‡†å¼€å‘ç¯å¢ƒï¼ˆå¦‚æ¡Œé¢ç«¯ GCC/Clangï¼‰ï¼ŒVSCode ä¼šæ‰«æç³»ç»Ÿè·¯å¾„å¹¶è¯†åˆ«å·²å®‰è£…ç¼–è¯‘å™¨</li>
<li><strong>æ‰‹åŠ¨å®šä¹‰æ¨¡å¼</strong>ï¼šé’ˆå¯¹åµŒå…¥å¼å¼€å‘ç­‰ç‰¹æ®Šåœºæ™¯ï¼Œæ”¯æŒé€šè¿‡ JSON é…ç½®æ–‡ä»¶æŒ‡å®šäº¤å‰ç¼–è¯‘å·¥å…·é“¾ã€‚ä¾‹å¦‚ä¸º ARM åµŒå…¥å¼é¡¹ç›®é…ç½®å·¥å…·é“¾æ—¶ï¼Œå¯åœ¨ <code>kits.json</code> ä¸­æ˜ç¡®å®šä¹‰ç¼–è¯‘å™¨è·¯å¾„ä¸ç›®æ ‡æ¶æ„ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ARM GCC Embedded"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"compilers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"C"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm-none-eabi-gcc"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"CXX"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm-none-eabi-g++"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"cmakeSettings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"CMAKE_SYSTEM_NAME"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Generic"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"CMAKE_SYSTEM_PROCESSOR"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-13">Variantsï¼šYAML é…ç½®å®ç°æ„å»ºåœºæ™¯åŠ¨æ€åˆ‡æ¢</h3>
<p>æ ¸å¿ƒä¾èµ–ã€Œfiltersã€å’Œã€Œsettingsã€å­—æ®µçš„ååŒå·¥ä½œã€‚ä»¥ Debug/Release å˜ä½“ä¸ºä¾‹ï¼š</p>
<ul>
<li><code>filters</code> å­—æ®µé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç‰¹å®šæ„å»ºç±»å‹</li>
<li><code>settings</code> å­—æ®µåˆ™åŠ¨æ€è°ƒæ•´å¯¹åº”å‚æ•°ï¼šDebug å˜ä½“å¯ç”¨ <code>-O0</code> ä¼˜åŒ–å’Œ <code>-g</code> è°ƒè¯•ç¬¦å·ï¼ŒRelease å˜ä½“åˆ™é‡‡ç”¨ <code>-O3</code> ä¼˜åŒ–å¹¶ç¦ç”¨è°ƒè¯•ä¿¡æ¯</li>
</ul>
<p>è¿™ç§æœºåˆ¶æ”¯æŒè·¨å¹³å°å¼€å‘åœºæ™¯ï¼Œå¦‚ Windows ç¯å¢ƒè‡ªåŠ¨å…³è” MSVC å·¥å…·é“¾å¹¶å¯ç”¨ <code>/MD</code> è¿è¡Œæ—¶åº“ï¼ŒLinux ç¯å¢ƒåˆ™åˆ‡æ¢è‡³ GCC å¹¶é…ç½® <code>-fPIC</code> ä½ç½®æ— å…³ä»£ç é€‰é¡¹ï¼Œå®ç°åŒä¸€å¥—ä»£ç åº“åœ¨ä¸åŒæ“ä½œç³»ç»Ÿé—´çš„æ— ç¼æ„å»ºè¿‡æ¸¡ã€‚</p>
<blockquote>
<p>å…³é”®ä»·å€¼ï¼šä¸‰å¤§ç‰¹æ€§å½¢æˆäº’è¡¥é—­ç¯â€”â€”CMake Presets è§£å†³é…ç½®æ ‡å‡†åŒ–é—®é¢˜ï¼ŒKits å®ç°å·¥å…·é“¾ç²¾å‡†æ§åˆ¶ï¼ŒVariants åˆ™æä¾›åœºæ™¯åŠ¨æ€é€‚é…èƒ½åŠ›ã€‚åœ¨è·¨å¹³å°å¼€å‘ä¸­ï¼Œå¯é€šè¿‡ç»„åˆä½¿ç”¨å®ç°ã€Œä¸€æ¬¡é…ç½®ï¼Œå¤šç¯å¢ƒæ„å»ºã€ï¼Œæ˜¾è‘—æå‡å¤šå¹³å°é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">æœ€ä½³å®è·µä¸æ•ˆç‡ä¼˜åŒ–</h2>
<h3 data-id="heading-15">é…ç½®ç®¡ç†ï¼šç²¾å‡†æ§åˆ¶é¡¹ç›®æ„å»ºç¯å¢ƒ</h3>
<p>CMake é…ç½®è¿‡ç¨‹ä¸­ï¼Œæ™®é€š Configure æ“ä½œä¼šåŸºäºç¼“å­˜æ–‡ä»¶ incremental æ›´æ–°æ„å»ºç³»ç»Ÿï¼Œè€Œ Clean Configure åˆ™ä¼šå®Œå…¨æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆæ‰€æœ‰é…ç½®æ•°æ®ã€‚å½“é¡¹ç›®ä¸­å‘ç”Ÿ <code>CMakeLists.txt</code> ç»“æ„å˜æ›´ï¼ˆå¦‚æ–°å¢å­ç›®å½•ã€ä¿®æ”¹ä¾èµ–å…³ç³»ã€å˜æ›´ç¼–è¯‘å™¨è®¾ç½®ï¼‰æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ Clean Configure ä»¥é¿å…ç¼“å­˜æ±¡æŸ“å¯¼è‡´çš„æ„å»ºå¼‚å¸¸ã€‚åœ¨ VS Code ä¸­ï¼Œå¯é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è¿è¡Œ <code>CMake: Delete Cache and Reconfigure</code> å®ç°è¿™ä¸€æ“ä½œï¼Œç¡®ä¿é…ç½®å˜æ›´è¢«æ­£ç¡®åº”ç”¨ã€‚</p>
<h3 data-id="heading-16">æ„å»ºåŠ é€Ÿï¼šä»ç¼–è¯‘åˆ°é“¾æ¥çš„å…¨æµç¨‹ä¼˜åŒ–</h3>
<p>æ„å»ºæ•ˆç‡ä¼˜åŒ–éœ€ä»å·¥å…·é“¾é€‰æ‹©å’Œå¹¶è¡Œç­–ç•¥ä¸¤æ–¹é¢ç€æ‰‹ã€‚Ninja ç”Ÿæˆå™¨ç›¸æ¯”ä¼ ç»Ÿ Make å·¥å…·å…·æœ‰æ›´é«˜æ•ˆçš„ä¾èµ–è§£æèƒ½åŠ›å’Œä»»åŠ¡è°ƒåº¦æœºåˆ¶ï¼Œåœ¨å¤šæ–‡ä»¶é¡¹ç›®ä¸­å¯å‡å°‘ 30%-50% çš„æ„å»ºæ—¶é—´ã€‚é…ç½®æ–¹æ³•æ˜¯åœ¨ CMake é…ç½®æ—¶æŒ‡å®šç”Ÿæˆå™¨ç±»å‹ï¼Œé€šè¿‡ <code>settings.json</code> è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.generator"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Ninja"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯¹äº C/C++ é¡¹ç›®ï¼Œé›†æˆ <code>ccache</code> ç¼–è¯‘å™¨ç¼“å­˜å·¥å…·å¯å¤§å¹…å‡å°‘é‡å¤ç¼–è¯‘æ—¶é—´ã€‚åœ¨ <code>CMakeLists.txt</code> ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®å¯ç”¨ ccacheï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">find_program(CCACHE_FOUND ccache)
if(CCACHE_FOUND)
  set(CMAKE_C_COMPILER_LAUNCHER ${CCACHE_FOUND})
  set(CMAKE_CXX_COMPILER_LAUNCHER ${CCACHE_FOUND})
endif(CCACHE_FOUND)
</code></pre>
<p>å¹¶è¡Œæ„å»ºé…ç½®éœ€åŒæ—¶ä¼˜åŒ– CMake å’Œç”Ÿæˆå™¨å±‚é¢çš„ä»»åŠ¡æ•°ã€‚åœ¨ <code>settings.json</code> ä¸­è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.parallelJobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// CMake é…ç½®é˜¶æ®µå¹¶è¡Œä»»åŠ¡æ•°</span>
  <span class="hljs-attr">"cmake.buildArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-j8"</span><span class="hljs-punctuation">]</span>  <span class="hljs-comment">// ä¼ é€’ç»™ Ninja/Make çš„å¹¶è¡Œæ„å»ºå‚æ•°</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å»ºè®®æ ¹æ® CPU æ ¸å¿ƒæ•°è®¾ç½®å¹¶è¡Œä»»åŠ¡æ•°ï¼ˆé€šå¸¸ä¸ºæ ¸å¿ƒæ•°çš„ 1-1.5 å€ï¼‰ï¼Œé¿å…è¿‡åº¦å¹¶è¡Œå¯¼è‡´çš„èµ„æºç«äº‰ã€‚</p>
<h3 data-id="heading-17">è°ƒè¯•éªŒè¯ï¼šç¡®ä¿è°ƒè¯•ç¯å¢ƒä¸æ„å»ºç›®æ ‡ä¸€è‡´æ€§</h3>
<p>è°ƒè¯•é…ç½®å¤±è´¥çš„å¸¸è§åŸå› ä¸ºè°ƒè¯•ç¨‹åºè·¯å¾„ä¸ CMake ç›®æ ‡è¾“å‡ºè·¯å¾„ä¸åŒ¹é…ã€‚éªŒè¯æ–¹æ³•ï¼šé¦–å…ˆé€šè¿‡ <code>CMake: Build Target</code> ç¡®è®¤ç›®æ ‡å·²æˆåŠŸæ„å»ºï¼Œç„¶ååœ¨ <code>launch.json</code> ä¸­æ£€æŸ¥ <code>"program"</code> å­—æ®µæ˜¯å¦æŒ‡å‘æ­£ç¡®çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‚å¯¹äºå¤šé…ç½®é¡¹ç›®ï¼ˆå¦‚ Windows ä¸‹çš„ Debug/Releaseï¼‰ï¼Œéœ€ä½¿ç”¨å˜é‡å¼•ç”¨ç¡®ä¿è·¯å¾„åŠ¨æ€é€‚é…ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(gdb) Launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${command:cmake.launchTargetPath}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"environment"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"externalConsole"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"MIMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gdb"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"setupCommands"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Enable pretty-printing for gdb"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"-enable-pretty-printing"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"ignoreFailures"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…¶ä¸­ <code>${command:cmake.launchTargetPath}</code> å˜é‡ä¼šè‡ªåŠ¨è§£æå½“å‰æ¿€æ´»ç›®æ ‡çš„è¾“å‡ºè·¯å¾„ï¼Œé¿å…æ‰‹åŠ¨ç»´æŠ¤è·¯å¾„çš„ç¹çå’Œé”™è¯¯ã€‚</p>
<h3 data-id="heading-18">IntelliSense åŒæ­¥ï¼šä¿æŒä»£ç åˆ†æä¸é¡¹ç›®é…ç½®ä¸€è‡´</h3>
<p>å½“ CMake é…ç½®å˜æ›´åï¼ˆå¦‚æ–°å¢å¤´æ–‡ä»¶è·¯å¾„ã€ä¿®æ”¹å®å®šä¹‰ï¼‰ï¼ŒIntelliSense å¯èƒ½å› ç¼“å­˜æœªæ›´æ–°å¯¼è‡´ä»£ç åˆ†æå¼‚å¸¸ã€‚æ‰‹åŠ¨åŒæ­¥æ–¹æ³•ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰ï¼Œè¿è¡Œ <code>CMake: Refresh IntelliSense</code> å‘½ä»¤ï¼ŒVS Code ä¼šé‡æ–°ç”Ÿæˆ <code>compile_commands.json</code> å¹¶æ›´æ–° C/C++ æ‰©å±•çš„é…ç½®ã€‚å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯åœ¨ <code>settings.json</code> ä¸­å¯ç”¨è‡ªåŠ¨åŒæ­¥ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.autoRefreshIntelliSense"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-19">è·¨å¹³å°å¼€å‘ï¼šå®ç°å¤šç¯å¢ƒä¸€è‡´æ„å»ºä½“éªŒ</h3>
<p>è·¨å¹³å°é¡¹ç›®éœ€é€šè¿‡ã€Œå·¥å…·é“¾æ–‡ä»¶ã€ç»Ÿä¸€ç®¡ç†ç¼–è¯‘å™¨ç‰¹æ€§ã€ç³»ç»Ÿåº“è·¯å¾„ç­‰å¹³å°ç›¸å…³é…ç½®ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>toolchains</code> æ–‡ä»¶å¤¹ï¼Œä¸ºä¸åŒå¹³å°ç¼–å†™ä¸“ç”¨å·¥å…·é“¾æ–‡ä»¶ï¼ˆå¦‚ <code>toolchains/linux-gcc.cmake</code>ã€<code>toolchains/windows-msvc.cmake</code>ï¼‰ï¼Œç„¶ååœ¨é…ç½®æ—¶é€šè¿‡å‘½ä»¤æŒ‡å®šï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.configureArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"-DCMAKE_TOOLCHAIN_FILE=toolchains/linux-gcc.cmake"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åŒæ—¶ï¼Œåˆ©ç”¨ VS Code çš„ã€Œå·¥ä½œåŒºä¿¡ä»»æœºåˆ¶ã€ä¿æŠ¤é¡¹ç›®å®‰å…¨ã€‚é¦–æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ï¼Œåœ¨å¼¹å‡ºçš„ã€Œå·¥ä½œåŒºä¿¡ä»»ã€å¯¹è¯æ¡†ä¸­é€‰æ‹©ã€Œä¿¡ä»»æ–‡ä»¶å¤¹å¹¶å¯ç”¨æ‰€æœ‰åŠŸèƒ½ã€ï¼Œç¡®ä¿ CMake Tools èƒ½æ­£å¸¸è®¿é—®é¡¹ç›®æ–‡ä»¶å’Œæ‰§è¡Œæ„å»ºå‘½ä»¤ã€‚å¯¹äºå¤šäººåä½œé¡¹ç›®ï¼Œå¯é€šè¿‡ <code>settings.json</code> å…±äº«ä¿¡ä»»é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"security.workspace.trust.untrustedFiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"open"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>å…³é”®æç¤ºï¼šè·¨å¹³å°å¼€å‘ä¸­ï¼Œé¿å…åœ¨ <code>CMakeLists.txt</code> ä¸­ç¡¬ç¼–ç å¹³å°ç›¸å…³è·¯å¾„ï¼ˆå¦‚ <code>/usr/local/lib</code>ï¼‰ï¼Œåº”ä½¿ç”¨ CMake å†…ç½®å˜é‡ï¼ˆå¦‚ <code>${CMAKE_INSTALL_LIBDIR}</code>ï¼‰å’Œå·¥å…·é“¾æ–‡ä»¶æŠ½è±¡å¹³å°å·®å¼‚ï¼Œç¡®ä¿æ„å»ºè„šæœ¬çš„å¯ç§»æ¤æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-21">IntelliSense å¼‚å¸¸</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šä»£ç è¡¥å…¨å¤±æ•ˆã€è¯­æ³•é«˜äº®å¼‚å¸¸æˆ–å¤´æ–‡ä»¶å¼•ç”¨æŠ¥é”™ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šCMake é…ç½®è§£æé”™è¯¯æˆ–æ„å»ºç¼“å­˜è¿‡æ—¶ï¼Œå¯¼è‡´ IntelliSense æ— æ³•æ­£ç¡®è¯†åˆ«é¡¹ç›®ç»“æ„ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>æŸ¥çœ‹ Output æ—¥å¿—ï¼šæ‰“å¼€ VS Code åº•éƒ¨çŠ¶æ€æ çš„ Output é¢æ¿ï¼Œåˆ‡æ¢è‡³ CMake/Build é¢‘é“ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>CMakeLists.txt</code> è¯­æ³•é”™è¯¯æˆ–ä¾èµ–ç¼ºå¤±æç¤ºã€‚</li>
<li>éªŒè¯é¡¹ç›®é…ç½®ï¼šåœ¨ CMAKE: PROJECT OUTLINE æ ‘çŠ¶è§†å›¾ä¸­ï¼Œç¡®è®¤æºæ–‡ä»¶ä¸ <code>CMakeLists.txt</code> çš„å…³è”æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ <code>add_executable</code> æˆ– <code>target_link_libraries</code> ç­‰æŒ‡ä»¤é…ç½®æ— è¯¯ã€‚</li>
<li>é‡å»ºç¼“å­˜ï¼šæŒ‰ä¸‹ <code>Ctrl+Shift+P</code> è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œæ‰§è¡Œ <code>CMake: Rebuild CMake Cache</code> å‘½ä»¤åˆ·æ–°é…ç½®ã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-22">è°ƒè¯•é…ç½®æ— æ•ˆ</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šå¯åŠ¨è°ƒè¯•åæ— ååº”æˆ–æç¤ºã€Œç¨‹åºè·¯å¾„ä¸å­˜åœ¨ã€ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼š<code>launch.json</code> ä¸­ <code>program</code> è·¯å¾„æœªæ­£ç¡®å…³è”æ„å»ºäº§ç‰©ï¼Œæˆ–ç¼ºå°‘å‰ç½®æ„å»ºä»»åŠ¡ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>é…ç½® <code>program</code> è·¯å¾„ï¼šåœ¨ <code>launch.json</code> ä¸­ä½¿ç”¨å˜é‡ <code>${command:cmake.launchTargetPath}</code> è‡ªåŠ¨å®šä½å½“å‰æ¿€æ´»ç›®æ ‡çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œé¿å…ç¡¬ç¼–ç ç»å¯¹è·¯å¾„ã€‚</li>
<li>è®¾ç½® <code>preLaunchTask</code>ï¼šæ·»åŠ  <code>"preLaunchTask": "CMake: build"</code> ç¡®ä¿è°ƒè¯•å‰è‡ªåŠ¨æ„å»ºé¡¹ç›®ï¼Œé˜²æ­¢å› äº§ç‰©ç¼ºå¤±å¯¼è‡´å¯åŠ¨å¤±è´¥ã€‚</li>
<li>éªŒè¯æ–­ç‚¹ä½ç½®ï¼šç¡®ä¿æ–­ç‚¹ä½äºå¯æ‰§è¡Œä»£ç è¡Œï¼ˆå¦‚ main å‡½æ•°å†…ï¼‰ï¼Œè€Œéæ³¨é‡Šæˆ–ç©ºè¡Œã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-23">Include è·¯å¾„é”™è¯¯</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šç¼–è¯‘å™¨æç¤º <code>fatal error: 'xxx.h' file not found</code>ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šå¤´æ–‡ä»¶æœç´¢è·¯å¾„æœªè¢«æ­£ç¡®æ·»åŠ è‡³ IntelliSense é…ç½®ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ul>
<li><strong>UI é…ç½®æ³•</strong>ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œæ‰§è¡Œ <code>C/C++: Edit Configurations (UI)</code>ï¼Œåœ¨ Include path ä¸­æ·»åŠ å¤´æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆå¦‚ <code>${workspaceFolder}/include</code>ï¼‰ã€‚</li>
<li><strong>æ‰‹åŠ¨ç¼–è¾‘æ³•</strong>ï¼šç›´æ¥ä¿®æ”¹ <code>.vscode/c_cpp_properties.json</code>ï¼Œåœ¨ <code>configurations[0].includePath</code> æ•°ç»„ä¸­æ·»åŠ è·¯å¾„ï¼Œå¹¶è®¾ç½® <code>"compilerPath"</code> ä¸ºå®é™…ä½¿ç”¨çš„ç¼–è¯‘å™¨è·¯å¾„ï¼ˆå¦‚ <code>C:/MinGW/bin/gcc.exe</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-24">å·¥å…·çŠ¶æ€å¼‚å¸¸</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šCMake æ‰©å±•æ— å“åº”æˆ–å‘½ä»¤é¢æ¿ä¸­ CMake ç›¸å…³å‘½ä»¤ç¼ºå¤±ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šæ‰©å±•ç¼“å­˜æŸåæˆ–å®‰è£…æ–‡ä»¶å®Œæ•´æ€§é—®é¢˜ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>æ¸…ç†ç¼“å­˜ï¼šæ‰§è¡Œå‘½ä»¤ <code>CMake: Clear CMake Cache</code> æ¸…é™¤æ„å»ºç¼“å­˜ï¼Œè·¯å¾„é€šå¸¸ä¸º <code>${workspaceFolder}/build/CMakeCache.txt</code>ã€‚</li>
<li>é‡è£…æ‰©å±•ï¼šåœ¨ VS Code æ‰©å±•é¢æ¿ä¸­å¸è½½ CMake Toolsï¼Œé‡å¯è½¯ä»¶åé‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿ä¾èµ–çš„ C/C++ Extension Pack å·²åŒæ­¥æ›´æ–°ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<p>æ’æŸ¥åŸåˆ™ï¼šæ‰€æœ‰é—®é¢˜å‡éœ€ä¼˜å…ˆæ£€æŸ¥ Output æ—¥å¿—ä¸é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œé¿å…ç›²ç›®æ“ä½œã€‚å¯¹äºè·¯å¾„ç›¸å…³é”™è¯¯ï¼Œå»ºè®®ä½¿ç”¨ <code>${workspaceFolder}</code> ç­‰å˜é‡ç¡®ä¿è·¨ç¯å¢ƒå…¼å®¹æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-25">æ€»ç»“ä¸æœªæ¥å±•æœ›</h2>
<p>VSCode CMake Tools ä½œä¸ºè¿æ¥ CMake ä¸ VS Code ç”Ÿæ€çš„å…³é”®æ¡¥æ¢ï¼Œé€šè¿‡é…ç½®ç®¡ç†ã€æ„å»ºæ‰§è¡Œã€è°ƒè¯•é›†æˆç­‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæœ‰æ•ˆç®€åŒ–äº† C++ é¡¹ç›®çš„å¼€å‘æµç¨‹ã€‚å…¶é«˜çº§ç‰¹æ€§å¦‚ CMake Presetsã€Kits å’Œ Variants æ”¯æŒé«˜åº¦å®šåˆ¶åŒ–çš„å¼€å‘éœ€æ±‚ï¼Œé…åˆæœ€ä½³å®è·µä¸é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œè¿›ä¸€æ­¥æå‡äº†å¼€å‘æ•ˆç‡ä¸é¡¹ç›®ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-26">æœªæ¥å‘å±•æ–¹å‘</h3>
<ul>
<li>è·¨å¹³å°æ‰©å±•ï¼šå¢å¼º WebAssembly ç­‰æ–°å…´å¹³å°æ”¯æŒ</li>
<li>å›¢é˜Ÿåä½œä¼˜åŒ–ï¼šå¼€å‘é…ç½®å…±äº«ä¸åŒæ­¥æœºåˆ¶</li>
<li>æ™ºèƒ½è¾…åŠ©ï¼šå¼•å…¥ AI é©±åŠ¨çš„ CMake é¢„è®¾ç”ŸæˆåŠŸèƒ½</li>
</ul>
<p>éšç€ CMake æ ‡å‡†çš„æŒç»­è¿­ä»£å’Œç¤¾åŒºè´¡çŒ®çš„æ·±å…¥ï¼ŒVSCode CMake Tools å°†ç»§ç»­æ·±åŒ–å…¶ä½œä¸º C++ å¼€å‘åŸºç¡€è®¾æ–½çš„ä»·å€¼ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆçš„é›†æˆå¼€å‘ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[tauri2+vue+viteå®ç°åŸºäºwebviewè§†å›¾æ¸²æŸ“çš„æ¡Œé¢ç«¯å¼€å‘]]></title>    <link>https://juejin.cn/post/7582207260200157238</link>    <guid>https://juejin.cn/post/7582207260200157238</guid>    <pubDate>2025-12-11T09:33:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582207260200157238" data-draft-id="7582207260200091702" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="tauri2+vue+viteå®ç°åŸºäºwebviewè§†å›¾æ¸²æŸ“çš„æ¡Œé¢ç«¯å¼€å‘"/> <meta itemprop="keywords" content="å‰ç«¯æ¡†æ¶,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T09:33:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯ä¹çº¢çƒ§è¥¿çº¢æŸ¿"/> <meta itemprop="url" content="https://juejin.cn/user/114004940306909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            tauri2+vue+viteå®ç°åŸºäºwebviewè§†å›¾æ¸²æŸ“çš„æ¡Œé¢ç«¯å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/114004940306909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯ä¹çº¢çƒ§è¥¿çº¢æŸ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:33:01.000Z" title="Thu Dec 11 2025 09:33:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ›å»ºåº”ç”¨</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftauri.app%2Fzh-cn%2Fstart%2Fprerequisites%2F%23microsoft-c-%25E7%2594%259F%25E6%2588%2590%25E5%25B7%25A5%25E5%2585%25B7" target="_blank" title="https://tauri.app/zh-cn/start/prerequisites/#microsoft-c-%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7" ref="nofollow noopener noreferrer">ç¯å¢ƒä¾èµ–</a></li>
<li>åˆ›å»ºé¡¹ç›®</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">pnpm create tauri-app
</code></pre>
<h2 data-id="heading-1">åº”ç”¨ç¨‹åºæ›´æ–°</h2>
<h4 data-id="heading-2">1.å®‰è£…ä¾èµ–</h4>
<p>å®‰è£…åä¼šè‡ªåŠ¨å†™å…¥åˆ° package.json æ–‡ä»¶å’Œ Cargo.toml æ–‡ä»¶ï¼Œæ”¯æŒ å‰ç«¯ JS è°ƒç”¨å’Œ åç«¯ Rust è°ƒç”¨</p>
<pre><code class="hljs language-sh" lang="sh">pnpm tauri add updater
</code></pre>
<h4 data-id="heading-3">2.é…ç½®</h4>
<p>å¯†é’¥ç”Ÿæˆï¼Œåœ¨package.jsonæ–‡ä»¶ä¸­æ·»åŠ ï¼Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆæ›´æ–°å…¬é’¥å’Œç§é’¥</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"@description:updater"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Tauri CLI æä¾›äº† signer generate å‘½ä»¤ ç”Ÿæˆæ›´æ–°å¯†é’¥"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"updater"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tauri signer generate -w ~/.tauri/myapp.key"</span>
</code></pre>
<p>åœ¨windowsç¯å¢ƒå˜é‡é…ç½®ç§é’¥ï¼Œè¾“å…¥cmd å‘½ä»¤è¡Œæ‰§è¡Œ
win cmd</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">set</span> TAURI_PRIVATE_KEY=<span class="hljs-string">"content of the generated key"</span>
<span class="hljs-built_in">set</span> TAURI_KEY_PASSWORD=<span class="hljs-string">"password"</span>
</code></pre>
<p>powershell</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-variable">$env</span>:TAURI_PRIVATE_KEY=<span class="hljs-string">"content of the generated key"</span>
<span class="hljs-variable">$env</span>:TAURI_KEY_PASSWORD=<span class="hljs-string">"password"</span>
</code></pre>
<p>åœ¨ src-tauri\tauri.conf.json æ–‡ä»¶ä¸­å¼€å¯è‡ªåŠ¨å‡çº§ï¼Œå¹¶å°†å…¬é’¥æ·»åŠ åˆ°é‡Œé¢ï¼Œè®¾ç½®ä½ çš„å‡çº§ä¿¡æ¯jsonæ–‡ä»¶è·å–çš„urlè·¯å¾„</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"app"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"bundle"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"createUpdaterArtifacts"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"updater"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"active"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"windows"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"installMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"passive"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pubkey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å…¬é’¥"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"endpoints"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://xxx/download/latest.json"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ›´æ–° latest.json å†…å®¹</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"v1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"notes"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Test version"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"pub_date"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2020-06-22T19:25:57Z"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"platforms"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"darwin-x86_64"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"signature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Content of app.tar.gz.sig"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/username/reponame/releases/download/v1.0.0/app-x86_64.app.tar.gz"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"darwin-aarch64"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"signature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Content of app.tar.gz.sig"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/username/reponame/releases/download/v1.0.0/app-aarch64.app.tar.gz"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"linux-x86_64"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"signature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Content of app.AppImage.tar.gz.sig"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/username/reponame/releases/download/v1.0.0/app-amd64.AppImage.tar.gz"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"windows-x86_64"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"signature"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Content of app.msi.sig"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/username/reponame/releases/download/v1.0.0/app-x64.msi.zip"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>tauri æƒé™é…ç½® src-tauri\capabilities\default.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"updater:default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"updater:allow-check"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"updater:allow-download"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"updater:allow-install"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-4">3.å°è£…hooks</h4>
<p>src\hooks\updater.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { check } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/plugin-updater"</span>;
<span class="hljs-keyword">import</span> { relaunch } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/plugin-process"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> message = <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>;
  <span class="hljs-keyword">const</span> dialog = <span class="hljs-variable language_">window</span>.<span class="hljs-property">$dialog</span>;

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkV</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">check</span>()
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!e?.<span class="hljs-property">available</span>) {
          <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">version</span>: e.<span class="hljs-property">version</span>,
          <span class="hljs-attr">meg</span>: <span class="hljs-string">`æ–°ç‰ˆæœ¬ <span class="hljs-subst">${e.version}</span> ,å‘å¸ƒæ—¶é—´ï¼š <span class="hljs-subst">${e.date}</span> å‡çº§ä¿¡æ¯ï¼š <span class="hljs-subst">${e.body}</span>`</span>,
        };
      })
      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ£€æŸ¥æ›´æ–°é”™è¯¯ï¼Œè¯·ç¨åå†è¯• "</span> + e);
      });
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">updater</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    dialog.<span class="hljs-title function_">success</span>({
      <span class="hljs-attr">title</span>: <span class="hljs-string">"ç³»ç»Ÿæç¤º"</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">"æ‚¨ç¡®è®¤è¦æ›´æ–°å— ?"</span>,
      <span class="hljs-attr">positiveText</span>: <span class="hljs-string">"æ›´æ–°"</span>,
      <span class="hljs-attr">negativeText</span>: <span class="hljs-string">"ä¸æ›´æ–°"</span>,
      <span class="hljs-attr">maskClosable</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">closable</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">onPositiveClick</span>: <span class="hljs-keyword">async</span> () =&gt; {
        message.<span class="hljs-title function_">success</span>(<span class="hljs-string">"æ­£åœ¨ä¸‹è½½æ›´æ–°ï¼Œè¯·ç¨ç­‰"</span>);

        <span class="hljs-keyword">await</span> <span class="hljs-title function_">check</span>()
          .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">e</span>: <span class="hljs-built_in">any</span>) =&gt; {
            <span class="hljs-keyword">if</span> (!e?.<span class="hljs-property">available</span>) {
              <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">await</span> e.<span class="hljs-title function_">downloadAndInstall</span>(<span class="hljs-function">(<span class="hljs-params">event: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
              <span class="hljs-keyword">switch</span> (event.<span class="hljs-property">event</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"Started"</span>:
                  message.<span class="hljs-title function_">success</span>(
                    <span class="hljs-string">"æ–‡ä»¶å¤§å°ï¼š"</span> + event.<span class="hljs-property">data</span>.<span class="hljs-property">contentLength</span>
                      ? event.<span class="hljs-property">data</span>.<span class="hljs-property">contentLength</span>
                      : <span class="hljs-number">0</span>
                  );
                  <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"Progress"</span>:
                  message.<span class="hljs-title function_">success</span>(<span class="hljs-string">"æ­£åœ¨ä¸‹è½½"</span> + event.<span class="hljs-property">data</span>.<span class="hljs-property">chunkLength</span>);
                  <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"Finished"</span>:
                  message.<span class="hljs-title function_">success</span>(<span class="hljs-string">"å®‰è£…åŒ…ä¸‹è½½æˆåŠŸï¼Œ10såé‡å¯å¹¶å®‰è£…"</span>);
                  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">async</span> () =&gt; {
                    <span class="hljs-keyword">await</span> <span class="hljs-title function_">relaunch</span>();
                  }, <span class="hljs-number">10000</span>);
                  <span class="hljs-keyword">break</span>;
              }
            });
          })
          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ£€æŸ¥æ›´æ–°é”™è¯¯ï¼Œè¯·ç¨åå†è¯• "</span> + e);
          });
      },
      <span class="hljs-attr">onNegativeClick</span>: <span class="hljs-function">() =&gt;</span> {
        message.<span class="hljs-title function_">info</span>(<span class="hljs-string">"æ‚¨å·²å–æ¶ˆæ›´æ–°"</span>);
      },
    });
  };

  <span class="hljs-keyword">return</span> {
    checkV,
    updater,
  };
};
</code></pre>
<h4 data-id="heading-5">4.è°ƒç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    {{ meg }}
    &lt;n-button type="primary" @click="updateTask"&gt;æ£€æŸ¥æ›´æ–°&lt;/n-button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { message } from "@tauri-apps/plugin-dialog";
import pkg from "../../package.json";
import useUpdater from "@/hooks/updater";
import { ref } from "vue";
const meg = ref("ç‰ˆæœ¬æ£€æµ‹ ");
const { checkV, updater } = useUpdater();
const state = ref(false);
const updateTask = async () =&gt; {
  if (state.value) {
    await updater();
  } else {
    let res = await checkV();
    if (res) {
      meg.value = "å‘ç°æ–°ç‰ˆæœ¬ï¼š" + res.meg;
      state.value = pkg.version !== res.version;
    }
  }
};
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-6">è‡ªå®šä¹‰ç³»ç»Ÿæ‰˜ç›˜</h2>
<h3 data-id="heading-7">å‰ç«¯æ–¹å¼ï¼ˆhookså‡½æ•°ï¼‰ã€æ¨èã€‘</h3>
<h4 data-id="heading-8">1.é…ç½®</h4>
<p>æ·»åŠ è‡ªå®šä¹‰å›¾æ ‡æƒé™ src-tauri\Cargo.toml</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">tauri</span> = { version = <span class="hljs-string">"2"</span>, features = [<span class="hljs-string">"tray-icon"</span>, <span class="hljs-string">"image-png"</span>] }
</code></pre>
<h4 data-id="heading-9">2.å°è£…hooks</h4>
<p>src\hooks\tray.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// è·å–å½“å‰çª—å£</span>
<span class="hljs-keyword">import</span> { getCurrentWindow } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/api/window"</span>;
<span class="hljs-comment">// å¯¼å…¥ç³»ç»Ÿæ‰˜ç›˜</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TrayIcon</span>, <span class="hljs-title class_">TrayIconOptions</span>, <span class="hljs-title class_">TrayIconEvent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/api/tray"</span>;
<span class="hljs-comment">// æ‰˜ç›˜èœå•</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Menu</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/api/menu"</span>;
<span class="hljs-comment">// è¿›ç¨‹ç®¡ç†</span>
<span class="hljs-keyword">import</span> { exit } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/plugin-process"</span>;

<span class="hljs-comment">// å®šä¹‰é—ªçƒçŠ¶æ€</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">isBlinking</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">blinkInterval</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">trayInstance</span>: <span class="hljs-title class_">TrayIcon</span> | <span class="hljs-built_in">any</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">originalIcon</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">any</span>;
<span class="hljs-comment">/**
 * åœ¨è¿™é‡Œä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªæ‰˜ç›˜èœå•ï¼Œæ ‡é¢˜ï¼Œå·¥å…·æç¤ºï¼Œäº‹ä»¶å¤„ç†ç¨‹åºç­‰
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">options</span>: <span class="hljs-title class_">TrayIconOptions</span> = {
  <span class="hljs-comment">// icon é¡¹ç›®æ ¹ç›®å½•/src-tauri/</span>
  <span class="hljs-attr">icon</span>: <span class="hljs-string">"icons/32x32.png"</span>,
  <span class="hljs-attr">tooltip</span>: <span class="hljs-string">"zero"</span>,
  <span class="hljs-attr">menuOnLeftClick</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-function">(<span class="hljs-params">event: TrayIconEvent</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (
      event.<span class="hljs-property">type</span> === <span class="hljs-string">"Click"</span> &amp;&amp;
      event.<span class="hljs-property">button</span> === <span class="hljs-string">"Left"</span> &amp;&amp;
      event.<span class="hljs-property">buttonState</span> === <span class="hljs-string">"Down"</span>
    ) {
      <span class="hljs-comment">// æ˜¾ç¤ºçª—å£</span>
      <span class="hljs-title function_">winShowFocus</span>();
    }
  },
};

<span class="hljs-comment">/**
 * çª—å£ç½®é¡¶æ˜¾ç¤º
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">winShowFocus</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// è·å–çª—ä½“å®ä¾‹</span>
    <span class="hljs-keyword">const</span> win = <span class="hljs-title function_">getCurrentWindow</span>();
    <span class="hljs-comment">// æ£€æŸ¥çª—å£æ˜¯å¦è§ï¼Œå¦‚æœä¸å¯è§åˆ™æ˜¾ç¤ºå‡ºæ¥</span>
    <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">await</span> win.<span class="hljs-title function_">isVisible</span>())) {
      <span class="hljs-keyword">await</span> win.<span class="hljs-title function_">show</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¤„äºæœ€å°åŒ–çŠ¶æ€ï¼Œå¦‚æœå¤„äºæœ€å°åŒ–çŠ¶æ€åˆ™è§£é™¤æœ€å°åŒ–</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> win.<span class="hljs-title function_">isMinimized</span>()) {
        <span class="hljs-keyword">await</span> win.<span class="hljs-title function_">unminimize</span>();
      }
      <span class="hljs-comment">// çª—å£ç½®é¡¶</span>
      <span class="hljs-keyword">await</span> win.<span class="hljs-title function_">setFocus</span>();
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error in winShowFocus:"</span>, error);
  }
}

<span class="hljs-comment">/**
 * åˆ›å»ºæ‰˜ç›˜èœå•
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createMenu</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Menu</span>.<span class="hljs-title function_">new</span>({
      <span class="hljs-comment">// items çš„æ˜¾ç¤ºé¡ºåºæ˜¯å€’è¿‡æ¥çš„</span>
      <span class="hljs-attr">items</span>: [
        {
          <span class="hljs-attr">id</span>: <span class="hljs-string">"show"</span>,
          <span class="hljs-attr">text</span>: <span class="hljs-string">"æ˜¾ç¤ºçª—å£"</span>,
          <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">winShowFocus</span>();
          },
        },
        {
          <span class="hljs-attr">id</span>: <span class="hljs-string">"quit"</span>,
          <span class="hljs-attr">text</span>: <span class="hljs-string">"é€€å‡º"</span>,
          <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>);
          },
        },
      ],
    });
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error in createMenu:"</span>, error);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }
}

<span class="hljs-comment">/**
 * åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createTray</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> menu = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createMenu</span>();
    <span class="hljs-keyword">if</span> (menu) {
      options.<span class="hljs-property">menu</span> = menu;
      <span class="hljs-keyword">const</span> tray = <span class="hljs-keyword">await</span> <span class="hljs-title class_">TrayIcon</span>.<span class="hljs-title function_">new</span>(options);
      trayInstance = tray;
      originalIcon = options.<span class="hljs-property">icon</span>; <span class="hljs-comment">// ä¿å­˜åŸå§‹å›¾æ ‡</span>
      <span class="hljs-keyword">return</span> tray;
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error in createTray:"</span>, error);
  }
}

<span class="hljs-comment">/**
 * å¼€å¯å›¾æ ‡é—ªçƒ
 * <span class="hljs-doctag">@param</span> icon1 å›¾æ ‡1è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤åŸå§‹å›¾æ ‡ï¼‰
 * <span class="hljs-doctag">@param</span> icon2 å›¾æ ‡2è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤altå›¾æ ‡ï¼‰
 * <span class="hljs-doctag">@param</span> interval é—ªçƒé—´éš”ï¼ˆé»˜è®¤500msï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">startBlinking</span>(<span class="hljs-params">
  icon1?: <span class="hljs-built_in">string</span>,
  icon2?: <span class="hljs-built_in">string</span>,
  interval: <span class="hljs-built_in">number</span> = <span class="hljs-number">500</span>
</span>) {
  <span class="hljs-keyword">if</span> (!trayInstance) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Tray not initialized"</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// å¦‚æœæ­£åœ¨é—ªçƒï¼Œå…ˆåœæ­¢</span>
  <span class="hljs-title function_">stopBlinking</span>();

  <span class="hljs-comment">// è®¾ç½®å›¾æ ‡è·¯å¾„</span>
  <span class="hljs-keyword">const</span> targetIcon1 = icon1 || originalIcon;
  <span class="hljs-keyword">const</span> targetIcon2 = icon2 || <span class="hljs-string">"icons/32x32_alt.png"</span>; <span class="hljs-comment">// å¤‡ç”¨å›¾æ ‡è·¯å¾„</span>

  isBlinking = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">let</span> currentIcon = targetIcon1;

  blinkInterval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">try</span> {
      currentIcon = currentIcon === targetIcon1 ? targetIcon2 : targetIcon1;
      <span class="hljs-keyword">await</span> trayInstance!.<span class="hljs-title function_">setIcon</span>(currentIcon);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Blinking error:"</span>, error);
      <span class="hljs-title function_">stopBlinking</span>();
    }
  }, interval);
}

<span class="hljs-comment">/**
 * åœæ­¢é—ªçƒå¹¶æ¢å¤åŸå§‹å›¾æ ‡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">stopBlinking</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (blinkInterval) {
    <span class="hljs-built_in">clearInterval</span>(blinkInterval);
    blinkInterval = <span class="hljs-literal">null</span>;
    isBlinking = <span class="hljs-literal">false</span>;

    <span class="hljs-comment">// æ¢å¤åŸå§‹å›¾æ ‡</span>
    <span class="hljs-keyword">if</span> (trayInstance) {
      trayInstance
        .<span class="hljs-title function_">setIcon</span>(originalIcon)
        .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æ¢å¤å›¾æ ‡å¤±è´¥:"</span>, error));
    }
  }
}

<span class="hljs-comment">/**
 * é”€æ¯æ‰˜ç›˜ï¼ˆè‡ªåŠ¨åœæ­¢é—ªçƒï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">destroyTray</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-title function_">stopBlinking</span>();
    <span class="hljs-keyword">if</span> (trayInstance) {
      <span class="hljs-keyword">await</span> trayInstance.<span class="hljs-title function_">destroy</span>();
      trayInstance = <span class="hljs-literal">null</span>;
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error destroying tray:"</span>, error);
  }
}
</code></pre>
<h4 data-id="heading-10">3.è°ƒç”¨ç¤ºä¾‹</h4>
<p>ç»“åˆä¸åŒåœºæ™¯å¼•å…¥ hooks å‡½æ•°ï¼Œè°ƒç”¨å¯¹åº”æ–¹æ³•ï¼Œå…¶ä¸­ createTrayå‡½æ•° å¯ä»¥æ”¾åˆ° main.ts ä¸­åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶åˆ›å»º</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åœºæ™¯ç¤ºä¾‹ï¼šå³æ—¶é€šè®¯åº”ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ChatApp</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åº”ç”¨å¯åŠ¨æ—¶åˆå§‹åŒ–æ‰˜ç›˜</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">createTray</span>();
  }

  <span class="hljs-title function_">onNewMessage</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ”¶åˆ°æ–°æ¶ˆæ¯æ—¶å¯åŠ¨çº¢è‰²æé†’é—ªçƒ</span>
    <span class="hljs-title function_">startBlinking</span>(<span class="hljs-string">"icons/msg_new.png"</span>, <span class="hljs-string">"icons/msg_alert.png"</span>);
  }

  <span class="hljs-title function_">onMessageRead</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç”¨æˆ·æŸ¥çœ‹æ¶ˆæ¯ååœæ­¢é—ªçƒ</span>
    <span class="hljs-title function_">stopBlinking</span>();
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">shutdown</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€€å‡ºæ—¶æ¸…ç†èµ„æº</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">destroyTray</span>();
  }
}

<span class="hljs-comment">// åœºæ™¯ç¤ºä¾‹ï¼šä¸‹è½½ç®¡ç†å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DownloadManager</span> {
  <span class="hljs-title function_">onDownloadProgress</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸‹è½½æ—¶ä½¿ç”¨è“è‰²å›¾æ ‡å‘¼å¸ç¯æ•ˆæœ</span>
    <span class="hljs-title function_">startBlinking</span>(<span class="hljs-string">"icons/download_active.png"</span>, <span class="hljs-string">"icons/download_idle.png"</span>, <span class="hljs-number">1000</span>);
  }

  <span class="hljs-title function_">onDownloadComplete</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸‹è½½å®Œæˆåœæ­¢é—ªçƒå¹¶æ˜¾ç¤ºå®Œæˆå›¾æ ‡</span>
    <span class="hljs-title function_">stopBlinking</span>();
    trayInstance?.<span class="hljs-title function_">setIcon</span>(<span class="hljs-string">"icons/download_done.png"</span>);
  }
}
</code></pre>
<h3 data-id="heading-11">å‰åç«¯ç»“åˆæ–¹å¼ï¼ˆRustå‡½æ•°ï¼‰</h3>
<h4 data-id="heading-12">1.é…ç½®</h4>
<p>æ·»åŠ è‡ªå®šä¹‰å›¾æ ‡æƒé™ src-tauri\Cargo.toml</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">tauri</span> = { version = <span class="hljs-string">"2"</span>, features = [<span class="hljs-string">"tray-icon"</span>, <span class="hljs-string">"image-png"</span>] }
</code></pre>
<p>æ·»åŠ é…ç½® src-tauri\tauri.conf.json è‡ªå®šä¹‰å›¾æ ‡</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"app"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"windows"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trayIcon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"iconPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icons/icon.ico"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"iconAsTemplate"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ—¶é—´ç®¡ç†å™¨"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tooltip"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ—¶é—´ç®¡ç†å™¨"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<h4 data-id="heading-13">2.Rust å°è£…</h4>
<p>æ‰˜ç›˜äº‹ä»¶å®šä¹‰ï¼Œæ–°å»º tray.rs æ–‡ä»¶ src-tauri\src\tray.rs</p>
<pre><code class="hljs language-rs" lang="rs"><span class="hljs-keyword">use</span> tauri::{
    menu::{Menu, MenuItem, Submenu},
    tray::{MouseButton, MouseButtonState, TrayIconBuilder, TrayIconEvent},
    Manager, Runtime,
};

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_tray</span>&lt;R: Runtime&gt;(app: &amp;tauri::AppHandle&lt;R&gt;) <span class="hljs-punctuation">-&gt;</span> tauri::<span class="hljs-type">Result</span>&lt;()&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">quit_i</span> = MenuItem::<span class="hljs-title function_ invoke__">with_id</span>(app, <span class="hljs-string">"quit"</span>, <span class="hljs-string">"é€€å‡º"</span>, <span class="hljs-literal">true</span>, None::&lt;&amp;<span class="hljs-type">str</span>&gt;)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">show_i</span> = MenuItem::<span class="hljs-title function_ invoke__">with_id</span>(app, <span class="hljs-string">"show"</span>, <span class="hljs-string">"æ˜¾ç¤º"</span>, <span class="hljs-literal">true</span>, None::&lt;&amp;<span class="hljs-type">str</span>&gt;)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">hide_i</span> = MenuItem::<span class="hljs-title function_ invoke__">with_id</span>(app, <span class="hljs-string">"hide"</span>, <span class="hljs-string">"éšè—"</span>, <span class="hljs-literal">true</span>, None::&lt;&amp;<span class="hljs-type">str</span>&gt;)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">edit_i</span> = MenuItem::<span class="hljs-title function_ invoke__">with_id</span>(app, <span class="hljs-string">"edit_file"</span>, <span class="hljs-string">"ç¼–è¾‘"</span>, <span class="hljs-literal">true</span>, None::&lt;&amp;<span class="hljs-type">str</span>&gt;)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">new_i</span> = MenuItem::<span class="hljs-title function_ invoke__">with_id</span>(app, <span class="hljs-string">"new_file"</span>, <span class="hljs-string">"æ·»åŠ "</span>, <span class="hljs-literal">true</span>, None::&lt;&amp;<span class="hljs-type">str</span>&gt;)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">a</span> = Submenu::<span class="hljs-title function_ invoke__">with_id_and_items</span>(app, <span class="hljs-string">"File"</span>, <span class="hljs-string">"æ–‡ç« "</span>, <span class="hljs-literal">true</span>, &amp;[&amp;new_i, &amp;edit_i])?;
    <span class="hljs-comment">// åˆ†å‰²çº¿</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">menu</span> = Menu::<span class="hljs-title function_ invoke__">with_items</span>(app, &amp;[&amp;quit_i, &amp;show_i, &amp;hide_i, &amp;a])?;
    <span class="hljs-comment">// åˆ›å»ºç³»ç»Ÿæ‰˜ç›˜ let _ = TrayIconBuilder::with_id("icon")</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = TrayIconBuilder::<span class="hljs-title function_ invoke__">with_id</span>(<span class="hljs-string">"tray"</span>)
        <span class="hljs-comment">// æ·»åŠ èœå•</span>
        .<span class="hljs-title function_ invoke__">menu</span>(&amp;menu)
        <span class="hljs-comment">// æ·»åŠ æ‰˜ç›˜å›¾æ ‡</span>
        .<span class="hljs-title function_ invoke__">icon</span>(app.<span class="hljs-title function_ invoke__">default_window_icon</span>().<span class="hljs-title function_ invoke__">unwrap</span>().<span class="hljs-title function_ invoke__">clone</span>())
        .<span class="hljs-title function_ invoke__">title</span>(<span class="hljs-string">"zero"</span>)
        .<span class="hljs-title function_ invoke__">tooltip</span>(<span class="hljs-string">"zero"</span>)
        .<span class="hljs-title function_ invoke__">show_menu_on_left_click</span>(<span class="hljs-literal">false</span>)
        <span class="hljs-comment">// ç¦ç”¨é¼ æ ‡å·¦é”®ç‚¹å‡»å›¾æ ‡æ˜¾ç¤ºæ‰˜ç›˜èœå•</span>
        <span class="hljs-comment">// .show_menu_on_left_click(false)</span>
        <span class="hljs-comment">// ç›‘å¬äº‹ä»¶èœå•</span>
        .<span class="hljs-title function_ invoke__">on_menu_event</span>(<span class="hljs-keyword">move</span> |app, event| <span class="hljs-keyword">match</span> event.id.<span class="hljs-title function_ invoke__">as_ref</span>() {
            <span class="hljs-string">"quit"</span> =&gt; {
                app.<span class="hljs-title function_ invoke__">exit</span>(<span class="hljs-number">0</span>);
            }
            <span class="hljs-string">"show"</span> =&gt; {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">window</span> = app.<span class="hljs-title function_ invoke__">get_webview_window</span>(<span class="hljs-string">"main"</span>).<span class="hljs-title function_ invoke__">unwrap</span>();
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = window.<span class="hljs-title function_ invoke__">show</span>();
            }
            <span class="hljs-string">"hide"</span> =&gt; {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">window</span> = app.<span class="hljs-title function_ invoke__">get_webview_window</span>(<span class="hljs-string">"main"</span>).<span class="hljs-title function_ invoke__">unwrap</span>();
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = window.<span class="hljs-title function_ invoke__">hide</span>();
            }
            <span class="hljs-string">"edit_file"</span> =&gt; {
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"edit_file"</span>);
            }
            <span class="hljs-string">"new_file"</span> =&gt; {
                <span class="hljs-built_in">println!</span>(<span class="hljs-string">"new_file"</span>);
            }
            <span class="hljs-comment">// Add more events here</span>
            _ =&gt; {}
        })
        <span class="hljs-comment">// ç›‘å¬æ‰˜ç›˜å›¾æ ‡å‘å‡ºçš„é¼ æ ‡äº‹ä»¶</span>
        .<span class="hljs-title function_ invoke__">on_tray_icon_event</span>(|tray, event| {
            <span class="hljs-comment">// å·¦é”®ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡æ˜¾ç¤ºçª—å£</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">TrayIconEvent</span>::Click {
                button: MouseButton::Left,
                button_state: MouseButtonState::Up,
                ..
            } = event
            {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">app</span> = tray.<span class="hljs-title function_ invoke__">app_handle</span>();
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(window) = app.<span class="hljs-title function_ invoke__">get_webview_window</span>(<span class="hljs-string">"main"</span>) {
                    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = window.<span class="hljs-title function_ invoke__">show</span>();
                    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = window.<span class="hljs-title function_ invoke__">set_focus</span>();
                }
            }
        })
        .<span class="hljs-title function_ invoke__">build</span>(app);

    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<p>lib.rs ä½¿ç”¨ï¼Œæ³¨å†Œå‡½æ•°æš´éœ²ç»™å‰ç«¯è°ƒç”¨</p>
<pre><code class="hljs language-rs" lang="rs"><span class="hljs-meta">#[cfg(desktop)]</span>
<span class="hljs-keyword">mod</span> tray;

<span class="hljs-comment">// è‡ªå®šä¹‰å‡½æ•°å£°æ˜</span>
<span class="hljs-meta">#[tauri::command]</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">greet</span>(name: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span> {
    <span class="hljs-built_in">format!</span>(<span class="hljs-string">"Hello, {}! You've been greeted from Rust!"</span>, name)
}

<span class="hljs-meta">#[cfg_attr(mobile, tauri::mobile_entry_point)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">run</span>() {
    tauri::Builder::<span class="hljs-title function_ invoke__">default</span>()
        .<span class="hljs-title function_ invoke__">plugin</span>(tauri_plugin_log::Builder::<span class="hljs-title function_ invoke__">new</span>().<span class="hljs-title function_ invoke__">build</span>())
        <span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰æ‰˜ç›˜</span>
        .<span class="hljs-title function_ invoke__">setup</span>(|app| {
            <span class="hljs-meta">#[cfg(all(desktop))]</span>
            {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">handle</span>: &amp;tauri::AppHandle = app.<span class="hljs-title function_ invoke__">handle</span>();
                tray::<span class="hljs-title function_ invoke__">create_tray</span>(handle)?;
            }
            <span class="hljs-title function_ invoke__">Ok</span>(())
        })
        <span class="hljs-comment">// Run the app</span>
        <span class="hljs-comment">// æ³¨å†Œ Rust åç«¯å‡½æ•°ï¼Œæš´éœ²ç»™å‰ç«¯è°ƒç”¨</span>
        .<span class="hljs-title function_ invoke__">invoke_handler</span>(tauri::generate_handler![
            greet
        ])
        .<span class="hljs-title function_ invoke__">run</span>(tauri::generate_context!())
        .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">"error while running tauri application"</span>);
}
</code></pre>
<h4 data-id="heading-14">3.å‰ç«¯è°ƒç”¨Rustæš´éœ²å‡½æ•°</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;button class="item" @click="flashTray(true)"&gt;å¼€å¯å›¾æ ‡é—ªçƒ&lt;/button&gt;
    &lt;button class="item" @click="flashTray(false)"&gt;å…³é—­å›¾æ ‡é—ªçƒ&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
import { TrayIcon } from "@tauri-apps/api/tray";

const flashTimer = ref&lt;Boolean | any&gt;(false);
const flashTray = async (bool: Boolean) =&gt; {
  let flag = true;
  if (bool) {
    TrayIcon.getById("tray").then(async (res: any) =&gt; {
      clearInterval(flashTimer.value);
      flashTimer.value = setInterval(() =&gt; {
        if (flag) {
          res.setIcon(null);
        } else {
          // res.setIcon(defaultIcon)
          // æ”¯æŒæŠŠè‡ªå®šä¹‰å›¾æ ‡æ”¾åœ¨é»˜è®¤iconsæ–‡ä»¶å¤¹ï¼Œé€šè¿‡å¦‚ä¸‹æ–¹å¼è®¾ç½®å›¾æ ‡
          // res.setIcon('icons/msg.png')
          // æ”¯æŒæŠŠè‡ªå®šä¹‰å›¾æ ‡æ”¾åœ¨è‡ªå®šä¹‰æ–‡ä»¶å¤¹trayï¼Œéœ€è¦é…ç½®tauri.conf.jsonå‚æ•° "bundle": {"resources": ["tray"]}
          res.setIcon("tray/tray.png");
        }
        flag = !flag;
      }, 500);
    });
  } else {
    clearInterval(flashTimer.value);
    let tray: any = await TrayIcon.getById("tray");
    tray.setIcon("icons/icon.png");
  }
};
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-15">çª—å£å·¥å…·æ è‡ªå®šä¹‰</h2>
<ul>
<li>å‚è€ƒæ­¥éª¤[<a href="https://link.juejin.cn?target=https%3A%2F%2Fv2.tauri.org.cn%2Flearn%2Fwindow-customization%2F%23tauriconfjson" target="_blank" title="https://v2.tauri.org.cn/learn/window-customization/#tauriconfjson" ref="nofollow noopener noreferrer">v2.tauri.org.cn/learn/windoâ€¦</a>]</li>
</ul>
<h4 data-id="heading-16">1. é…ç½®</h4>
<p>é…ç½®æ–‡ä»¶å¼€å¯æƒé™ src-tauri\capabilities\default.json</p>
<pre><code class="hljs language-json" lang="json"> <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"core:window:default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-start-dragging"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-minimize"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-maximize"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-unmaximize"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-toggle-maximize"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-show"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-set-focus"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-hide"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-unminimize"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-set-size"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:window:allow-close"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">]</span>
</code></pre>
<p>å…³é—­é»˜è®¤çª—å£äº‹ä»¶ src-tauri\tauri.conf.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"app"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"windows"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"decorations"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<h4 data-id="heading-17">2. è‡ªå®šä¹‰å®ç°</h4>
<p>å‰ç«¯è°ƒç”¨</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
import { getCurrentWindow } from "@tauri-apps/api/window";

const appWindow = getCurrentWindow();
onMounted(() =&gt; {
  windowCustomize();
});
const windowCustomize = () =&gt; {
  let minimizeEle = document.getElementById("titlebar-minimize");
  minimizeEle?.addEventListener("click", () =&gt; appWindow.minimize());

  let maximizeEle = document.getElementById("titlebar-maximize");
  maximizeEle?.addEventListener("click", () =&gt; appWindow.toggleMaximize());

  let closeEle = document.getElementById("titlebar-close");
  closeEle?.addEventListener("click", () =&gt; appWindow.close());
};
&lt;/script&gt;

&lt;template&gt;
  &lt;div data-tauri-drag-region class="titlebar"&gt;
    &lt;div class="titlebar-button" id="titlebar-minimize"&gt;
      &lt;img src="@/assets/svg/titlebar/mdi_window-minimize.svg" alt="minimize" /&gt;
    &lt;/div&gt;
    &lt;div class="titlebar-button" id="titlebar-maximize"&gt;
      &lt;img src="@/assets/svg/titlebar/mdi_window-maximize.svg" alt="maximize" /&gt;
    &lt;/div&gt;
    &lt;div class="titlebar-button" id="titlebar-close"&gt;
      &lt;img src="@/assets/svg/titlebar/mdi_close.svg" alt="close" /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.titlebar {
  height: 30px;
  background: #329ea3;
  user-select: none;
  display: flex;
  justify-content: flex-end;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}
.titlebar-button {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 30px;
  height: 30px;
  user-select: none;
  -webkit-user-select: none;
}
.titlebar-button:hover {
  background: #5bbec3;
}
&lt;/style&gt;
</code></pre>
<h2 data-id="heading-18">webview å¤šçª—å£åˆ›å»º</h2>
<h4 data-id="heading-19">1. é…ç½®</h4>
<p>é…ç½®æ–‡ä»¶å¼€å¯æƒé™ src-tauri\capabilities\default.json</p>
<pre><code class="hljs language-json" lang="json"> <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"core:webview:default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:webview:allow-create-webview-window"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:webview:allow-create-webview"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:webview:allow-webview-close"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"core:webview:allow-set-webview-size"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">]</span>
</code></pre>
<h4 data-id="heading-20">2. hooks å‡½æ•°å°è£…</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { nextTick } <span class="hljs-keyword">from</span> <span class="hljs-string">"vue"</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">WebviewWindow</span>,
  getCurrentWebviewWindow,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/api/webviewWindow"</span>;
<span class="hljs-keyword">import</span> { emit, listen } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/api/event"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">WindowsProps</span> {
  <span class="hljs-attr">label</span>: <span class="hljs-built_in">string</span>;
  url?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">minWidth</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">minHeight</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span>;
  closeWindLabel?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">resizable</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-comment">// çª—å£äº‹ä»¶ç±»å‹</span>
  <span class="hljs-keyword">type</span> <span class="hljs-title class_">WindowEvent</span> = <span class="hljs-string">"closed"</span> | <span class="hljs-string">"minimized"</span> | <span class="hljs-string">"maximized"</span> | <span class="hljs-string">"resized"</span>;

  <span class="hljs-comment">// åˆ›å»ºçª—å£</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">createWindows</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">
    args: WindowsProps = {
      label: <span class="hljs-string">"main"</span>,
      title: <span class="hljs-string">"ä¸»çª—å£"</span>,
      minWidth: <span class="hljs-number">800</span>,
      minHeight: <span class="hljs-number">600</span>,
      width: <span class="hljs-number">800</span>,
      height: <span class="hljs-number">600</span>,
      resizable: <span class="hljs-literal">true</span>,
    }
  </span>) =&gt; {
    <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">await</span> <span class="hljs-title function_">isExist</span>(args.<span class="hljs-property">label</span>))) {
      <span class="hljs-keyword">const</span> webview = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebviewWindow</span>(args.<span class="hljs-property">label</span>, {
        <span class="hljs-attr">title</span>: args.<span class="hljs-property">title</span>,
        <span class="hljs-attr">url</span>: args.<span class="hljs-property">url</span>,
        <span class="hljs-attr">fullscreen</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">resizable</span>: args.<span class="hljs-property">resizable</span>,
        <span class="hljs-attr">center</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">width</span>: args.<span class="hljs-property">width</span>,
        <span class="hljs-attr">height</span>: args.<span class="hljs-property">height</span>,
        <span class="hljs-attr">minWidth</span>: args.<span class="hljs-property">minWidth</span>,
        <span class="hljs-attr">minHeight</span>: args.<span class="hljs-property">minHeight</span>,
        <span class="hljs-attr">skipTaskbar</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">decorations</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">transparent</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">titleBarStyle</span>: <span class="hljs-string">"overlay"</span>,
        <span class="hljs-attr">hiddenTitle</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>,
      });

      <span class="hljs-comment">// çª—å£åˆ›å»ºæˆåŠŸ</span>
      <span class="hljs-keyword">await</span> webview.<span class="hljs-title function_">once</span>(<span class="hljs-string">"tauri://created"</span>, <span class="hljs-keyword">async</span> () =&gt; {
        webview.<span class="hljs-title function_">show</span>();
        <span class="hljs-keyword">if</span> (args.<span class="hljs-property">closeWindLabel</span>) {
          <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(args.<span class="hljs-property">closeWindLabel</span>);
          win?.<span class="hljs-title function_">close</span>();
        }
      });

      <span class="hljs-comment">// çª—å£åˆ›å»ºå¤±è´¥</span>
      <span class="hljs-keyword">await</span> webview.<span class="hljs-title function_">once</span>(<span class="hljs-string">"tauri://error"</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Window creation error:"</span>, e);
        <span class="hljs-keyword">if</span> (args.<span class="hljs-property">closeWindLabel</span>) {
          <span class="hljs-keyword">await</span> <span class="hljs-title function_">showWindow</span>(args.<span class="hljs-property">closeWindLabel</span>);
        }
      });

      <span class="hljs-comment">// ç›‘å¬çª—å£äº‹ä»¶</span>
      <span class="hljs-title function_">setupWindowListeners</span>(webview, args.<span class="hljs-property">label</span>);
      <span class="hljs-keyword">return</span> webview;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">showWindow</span>(args.<span class="hljs-property">label</span>);
    }
  };

  <span class="hljs-comment">// è®¾ç½®çª—å£ç›‘å¬å™¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">setupWindowListeners</span> = (<span class="hljs-params">webview: WebviewWindow, label: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-comment">// å…³é—­è¯·æ±‚å¤„ç†</span>
    webview.<span class="hljs-title function_">listen</span>(<span class="hljs-string">"tauri://close-requested"</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">emit</span>(<span class="hljs-string">"window-event"</span>, {
        label,
        <span class="hljs-attr">event</span>: <span class="hljs-string">"closed"</span>,
        <span class="hljs-attr">data</span>: { <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() },
      });
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"label :&gt;&gt; "</span>, label);
      <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label);
      win?.<span class="hljs-title function_">close</span>();

      <span class="hljs-comment">// const win = label ? await WebviewWindow.getByLabel(label) : await getCurrentWebviewWindow();</span>
      <span class="hljs-comment">// win?.close();</span>
    });

    <span class="hljs-comment">// æœ€å°åŒ–äº‹ä»¶</span>
    webview.<span class="hljs-title function_">listen</span>(<span class="hljs-string">"tauri://minimize"</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">emit</span>(<span class="hljs-string">"window-event"</span>, {
        label,
        <span class="hljs-attr">event</span>: <span class="hljs-string">"minimized"</span>,
        <span class="hljs-attr">data</span>: { <span class="hljs-attr">state</span>: <span class="hljs-literal">true</span> },
      });
    });

    <span class="hljs-comment">// æœ€å¤§åŒ–äº‹ä»¶</span>
    webview.<span class="hljs-title function_">listen</span>(<span class="hljs-string">"tauri://maximize"</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">emit</span>(<span class="hljs-string">"window-event"</span>, {
        label,
        <span class="hljs-attr">event</span>: <span class="hljs-string">"maximized"</span>,
        <span class="hljs-attr">data</span>: { <span class="hljs-attr">state</span>: <span class="hljs-literal">true</span> },
      });
    });

    <span class="hljs-comment">// å–æ¶ˆæœ€å¤§åŒ–</span>
    webview.<span class="hljs-title function_">listen</span>(<span class="hljs-string">"tauri://unmaximize"</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">emit</span>(<span class="hljs-string">"window-event"</span>, {
        label,
        <span class="hljs-attr">event</span>: <span class="hljs-string">"maximized"</span>,
        <span class="hljs-attr">data</span>: { <span class="hljs-attr">state</span>: <span class="hljs-literal">false</span> },
      });
    });
  };

  <span class="hljs-comment">// çª—å£é—´é€šä¿¡ - å‘é€æ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendWindowMessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">
    targetLabel: <span class="hljs-built_in">string</span>,
    event: <span class="hljs-built_in">string</span>,
    payload: <span class="hljs-built_in">any</span>
  </span>) =&gt; {
    <span class="hljs-keyword">const</span> targetWindow = <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(targetLabel);
    <span class="hljs-keyword">if</span> (targetWindow) {
      targetWindow.<span class="hljs-title function_">emit</span>(event, payload);
    }
  };

  <span class="hljs-comment">// ç›‘å¬çª—å£æ¶ˆæ¯</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onWindowMessage</span> = (<span class="hljs-params">event: <span class="hljs-built_in">string</span>, callback: (payload: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">void</span></span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">listen</span>(event, <span class="hljs-function">(<span class="hljs-params">{ payload }</span>) =&gt;</span> <span class="hljs-title function_">callback</span>(payload));
  };

  <span class="hljs-comment">// çª—å£æ§åˆ¶æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> windowControls = {
    <span class="hljs-attr">minimize</span>: <span class="hljs-keyword">async</span> (label?: <span class="hljs-built_in">string</span>) =&gt; {
      <span class="hljs-keyword">const</span> win = label
        ? <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label)
        : <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCurrentWebviewWindow</span>();
      <span class="hljs-keyword">await</span> win?.<span class="hljs-title function_">minimize</span>();
    },
    <span class="hljs-attr">maximize</span>: <span class="hljs-keyword">async</span> (label?: <span class="hljs-built_in">string</span>) =&gt; {
      <span class="hljs-keyword">const</span> win = label
        ? <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label)
        : <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCurrentWebviewWindow</span>();
      <span class="hljs-keyword">await</span> win?.<span class="hljs-title function_">maximize</span>();
    },
    <span class="hljs-attr">close</span>: <span class="hljs-keyword">async</span> (label?: <span class="hljs-built_in">string</span>) =&gt; {
      <span class="hljs-keyword">const</span> win = label
        ? <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label)
        : <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCurrentWebviewWindow</span>();
      win?.<span class="hljs-title function_">close</span>();
    },
    <span class="hljs-attr">toggleMaximize</span>: <span class="hljs-keyword">async</span> (label?: <span class="hljs-built_in">string</span>) =&gt; {
      <span class="hljs-keyword">const</span> win = label
        ? <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label)
        : <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCurrentWebviewWindow</span>();
      <span class="hljs-keyword">const</span> isMaximized = <span class="hljs-keyword">await</span> win?.<span class="hljs-title function_">isMaximized</span>();
      isMaximized ? <span class="hljs-keyword">await</span> win?.<span class="hljs-title function_">unmaximize</span>() : <span class="hljs-keyword">await</span> win?.<span class="hljs-title function_">maximize</span>();
    },
  };
  <span class="hljs-comment">//  è·å–å½“å‰çª—å£</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">nowWindow</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCurrentWebviewWindow</span>();
    <span class="hljs-keyword">return</span> win;
  };
  <span class="hljs-comment">// å…³é—­çª—å£</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">closeWindow</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">label?: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">if</span> (label) {
      <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label);
      win?.<span class="hljs-title function_">close</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCurrentWebviewWindow</span>();
      win?.<span class="hljs-title function_">close</span>();
    }
  };
  <span class="hljs-comment">// æ˜¾ç¤ºçª—å£</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">showWindow</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">label: <span class="hljs-built_in">string</span>, isCreated: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> isExistsWinds = <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label);
    <span class="hljs-keyword">if</span> (isExistsWinds) {
      <span class="hljs-title function_">nextTick</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ˜¯éšè—</span>
        <span class="hljs-keyword">const</span> hidden = <span class="hljs-keyword">await</span> isExistsWinds.<span class="hljs-title function_">isVisible</span>();
        <span class="hljs-keyword">if</span> (!hidden) {
          <span class="hljs-keyword">await</span> isExistsWinds.<span class="hljs-title function_">show</span>();
        }
        <span class="hljs-comment">// å¦‚æœçª—å£å·²å­˜åœ¨ï¼Œé¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ€å°åŒ–äº†</span>
        <span class="hljs-keyword">const</span> minimized = <span class="hljs-keyword">await</span> isExistsWinds.<span class="hljs-title function_">isMinimized</span>();
        <span class="hljs-keyword">if</span> (minimized) {
          <span class="hljs-comment">// å¦‚æœå·²æœ€å°åŒ–ï¼Œæ¢å¤çª—å£</span>
          <span class="hljs-keyword">await</span> isExistsWinds.<span class="hljs-title function_">unminimize</span>();
        }
        <span class="hljs-comment">// å¦‚æœçª—å£å·²å­˜åœ¨ï¼Œåˆ™ç»™å®ƒç„¦ç‚¹ï¼Œä½¿å…¶åœ¨æœ€å‰é¢æ˜¾ç¤º</span>
        <span class="hljs-keyword">await</span> isExistsWinds.<span class="hljs-title function_">setFocus</span>();
      });
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (!isCreated) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">createWindows</span>();
      }
    }
  };
  <span class="hljs-comment">//çª—å£æ˜¯å¦å­˜åœ¨</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">isExist</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">label: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> isExistsWinds = <span class="hljs-keyword">await</span> <span class="hljs-title class_">WebviewWindow</span>.<span class="hljs-title function_">getByLabel</span>(label);
    <span class="hljs-keyword">if</span> (isExistsWinds) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  };

  <span class="hljs-keyword">return</span> {
    createWindows,
    sendWindowMessage,
    onWindowMessage,
    ...windowControls,
    nowWindow,
    showWindow,
    isExist,
    closeWindow,
  };
};
</code></pre>
<h4 data-id="heading-21">3. è°ƒç”¨</h4>
<p>window çˆ¶çº§</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="window-controls"&gt;
    &lt;n-button @click="minimizeWindow"&gt;æœ€å°åŒ–&lt;/n-button&gt;
    &lt;n-button @click="toggleMaximizeWindow"&gt;{{
      isMaximized ? "æ¢å¤" : "æœ€å¤§åŒ–"
    }}&lt;/n-button&gt;
    &lt;n-button @click="maximizeWindow"&gt;æœ€å¤§åŒ–&lt;/n-button&gt;
    &lt;n-button @click="closeWindow"&gt;å…³é—­&lt;/n-button&gt;
    &lt;n-button @click="openChildWindow"&gt;æ‰“å¼€å­çª—å£&lt;/n-button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref } from "vue";
import useWindowManager from "@/hooks/windowManager";
const {
  createWindows,
  minimize,
  maximize,
  toggleMaximize,
  close,
  onWindowMessage,
} = useWindowManager();

const isMaximized = ref(false);

const openChildWindow = () =&gt; {
  createWindows({
    label: "child",
    title: "å­çª—å£",
    url: "/child",
    minWidth: 400,
    minHeight: 300,
    width: 600,
    height: 400,
    resizable: true,
  });
};
// ç›‘å¬å­çª—å£æ¶ˆæ¯
onWindowMessage("child-message", (payload) =&gt; {
  console.log("Received from child:", payload);
});

// çª—å£æ§åˆ¶æ–¹æ³•
const minimizeWindow = async () =&gt; {
  await minimize("child"); // æœ€å°åŒ–çª—å£
};

const maximizeWindow = async () =&gt; {
  await maximize("child"); // æœ€å¤§åŒ–çª—å£
};

const toggleMaximizeWindow = async () =&gt; {
  await toggleMaximize("child"); // åˆ‡æ¢æœ€å¤§åŒ–/è¿˜åŸ
};

const closeWindow = async () =&gt; {
  await close("child"); // å…³é—­çª—å£
};
&lt;/script&gt;
</code></pre>
<p>childView.vue å­ç»„ä»¶</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="child"&gt;
    &lt;h1&gt;Child Window&lt;/h1&gt;
    &lt;n-button @click="sendToMain"&gt;Send Message to Main&lt;/n-button&gt;
    &lt;n-button @click="close"&gt;Close&lt;/n-button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import useWindowManager from "@/hooks/windowManager";

const { sendWindowMessage, close } = useWindowManager();
// const {close} = windowControls
// å‘ä¸»çª—å£å‘é€æ¶ˆæ¯
const sendToMain = () =&gt; {
  sendWindowMessage("main", "child-message", {
    timestamp: Date.now(),
    content: "Hello from child!",
  });
};
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-22">ç³»ç»Ÿé€šçŸ¥ notification</h2>
<h4 data-id="heading-23">1.å®‰è£…ä¾èµ–</h4>
<p>å®‰è£…åä¼šè‡ªåŠ¨å†™å…¥åˆ° package.json æ–‡ä»¶å’Œ Cargo.toml æ–‡ä»¶ï¼Œæ”¯æŒ å‰ç«¯ JS è°ƒç”¨å’Œ åç«¯ Rust è°ƒç”¨</p>
<pre><code class="hljs language-sh" lang="sh">pnpm tauri add notification
</code></pre>
<h4 data-id="heading-24">2.é…ç½®</h4>
<p>tauri æƒé™é…ç½® src-tauri\capabilities\default.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"notification:default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"notification:allow-get-active"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"notification:allow-is-permission-granted"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-25">3.å°è£…hooks</h4>
<p>src\hooks\notification.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> {
  isPermissionGranted,
  requestPermission,
  sendNotification,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/plugin-notification"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkPermission</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> permission = <span class="hljs-keyword">await</span> <span class="hljs-title function_">isPermissionGranted</span>();
    <span class="hljs-keyword">if</span> (!permission) {
      <span class="hljs-keyword">const</span> permission = <span class="hljs-keyword">await</span> <span class="hljs-title function_">requestPermission</span>();
      <span class="hljs-keyword">return</span> permission === <span class="hljs-string">"granted"</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendMessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">title: <span class="hljs-built_in">string</span>, message: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> permission = <span class="hljs-keyword">await</span> <span class="hljs-title function_">checkPermission</span>();
    <span class="hljs-keyword">if</span> (permission) {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">sendNotification</span>({
        title,
        <span class="hljs-attr">body</span>: message,
        <span class="hljs-comment">// è¿™é‡Œæ¼”ç¤ºï¼Œä½ å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥ win11 æµ‹è¯•æ²¡æ•ˆæœ</span>
        <span class="hljs-attr">attachments</span>: [
          {
            <span class="hljs-attr">id</span>: <span class="hljs-string">"image-1"</span>,
            <span class="hljs-attr">url</span>: <span class="hljs-string">"F:\\tv_task\\public\\tauri.png"</span>,
          },
        ],
      });
    }
  };

  <span class="hljs-keyword">return</span> { sendMessage };
};
</code></pre>
<h4 data-id="heading-26">4.è°ƒç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;n-button @click="sendNot"&gt;notification é€šçŸ¥&lt;/n-button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import useNotification from "@/hooks/notification";
const { sendMessage } = useNotification();
const sendNot = async () =&gt; {
  await sendMessage("æç¤º", "æ‚¨å½“å‰æœ‰ä»£åŠçš„ä»»åŠ¡éœ€è¦å¤„ç†ï¼");
};
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-27">æ—¥å¿—</h2>
<h4 data-id="heading-28">1.å®‰è£…ä¾èµ–</h4>
<p>å®‰è£…åä¼šè‡ªåŠ¨å†™å…¥åˆ° package.json æ–‡ä»¶å’Œ Cargo.toml æ–‡ä»¶ï¼Œæ”¯æŒ å‰ç«¯ JS è°ƒç”¨å’Œ åç«¯ Rust è°ƒç”¨</p>
<pre><code class="hljs language-sh" lang="sh">pnpm tauri add <span class="hljs-built_in">log</span>
</code></pre>
<h4 data-id="heading-29">2.é…ç½®</h4>
<p>tauri æƒé™é…ç½® src-tauri\capabilities\default.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"log:default"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-30">3.å°è£…hooks</h4>
<p>src\hooks\log.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> {
  trace,
  info,
  debug,
  error,
  attachConsole,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/plugin-log"</span>;

<span class="hljs-comment">// å¯ç”¨ TargetKind::Webview åï¼Œè¿™ä¸ªå‡½æ•°å°†æŠŠæ—¥å¿—æ‰“å°åˆ°æµè§ˆå™¨æ§åˆ¶å°</span>
<span class="hljs-keyword">const</span> detach = <span class="hljs-keyword">await</span> <span class="hljs-title function_">attachConsole</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-comment">// å°†æµè§ˆå™¨æ§åˆ¶å°ä¸æ—¥å¿—æµåˆ†ç¦»</span>
  <span class="hljs-title function_">detach</span>();
  <span class="hljs-keyword">return</span> {
    debug,
    trace,
    info,
    error,
  };
};
</code></pre>
<h4 data-id="heading-31">4.è°ƒç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;æ§åˆ¶å°æ•ˆæœ&lt;/h1&gt;
    &lt;div class="console"&gt;
      &lt;div
        class="console-line"
        v-for="(line, index) in consoleLines"
        :key="index"
        :class="{
          'animate__animated animate__fadeIn':
            index === consoleLines.length - 1,
        }"
      &gt;
        {{ line }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import TauriLog from "@/hooks/log";
import { ref } from "vue";

const { info } = TauriLog();
info("æˆ‘æ¥äº†");
const consoleLines = ref([
  "Welcome to the console!",
  "This is a cool console interface.",
  "You can type commands here.",
  "Press Enter to execute.",
]);
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-32">ç¨‹åºå¯åŠ¨ç›‘å¬</h2>
<h4 data-id="heading-33">hooks å‡½æ•°å°è£…</h4>
<p>src\hooks\start.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { invoke } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/api/core"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-params">seconds: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, seconds * <span class="hljs-number">1000</span>));
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‰ç«¯åº”ç”¨å¯åŠ¨.."</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">sleep</span>(<span class="hljs-number">3</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‰ç«¯åº”ç”¨å¯åŠ¨å®Œæˆ"</span>);
  <span class="hljs-comment">// è°ƒç”¨åç«¯åº”ç”¨</span>
  <span class="hljs-title function_">invoke</span>(<span class="hljs-string">"set_complete"</span>, { <span class="hljs-attr">task</span>: <span class="hljs-string">"frontend"</span> });
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> () =&gt; {
  <span class="hljs-comment">// Effectively a JavaScript main function</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"DOMContentLoaded"</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setup</span>();
  });
};
</code></pre>
<h4 data-id="heading-34">è°ƒç”¨æ—¥å¿—æ‰“å°</h4>
<p>src\main.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> start <span class="hljs-keyword">from</span> <span class="hljs-string">"@/hooks/start"</span>;
<span class="hljs-title function_">start</span>();
</code></pre>
<h2 data-id="heading-35">Http å°è£…</h2>
<p>axios è¯·æ±‚ï¼Œä¼šåœ¨æ‰“åŒ…åå­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œæ‰€ä»¥ä½¿ç”¨ tauri æ’ä»¶ï¼Œè¿›è¡Œhttpå°è£…</p>
<h4 data-id="heading-36">1.å®‰è£…ä¾èµ–</h4>
<p>å®‰è£…åä¼šè‡ªåŠ¨å†™å…¥åˆ° package.json æ–‡ä»¶å’Œ Cargo.toml æ–‡ä»¶ï¼Œæ”¯æŒ å‰ç«¯ JS è°ƒç”¨å’Œ åç«¯ Rust è°ƒç”¨</p>
<pre><code class="hljs language-sh" lang="sh">pnpm tauri add http
</code></pre>
<h4 data-id="heading-37">2.é…ç½®</h4>
<p>tauri æƒé™é…ç½® src-tauri\capabilities\default.json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"identifier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http:default"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"allow"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://**"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://**"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://*:*"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://*:*"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-38">3.å°è£…hooks</h4>
<p>src\utils\exception.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ErrorType</span> {
  <span class="hljs-title class_">Network</span> = <span class="hljs-string">"NETWORK_ERROR"</span>,
  <span class="hljs-title class_">Authentication</span> = <span class="hljs-string">"AUTH_ERROR"</span>,
  <span class="hljs-title class_">Validation</span> = <span class="hljs-string">"VALIDATION_ERROR"</span>,
  <span class="hljs-title class_">Server</span> = <span class="hljs-string">"SERVER_ERROR"</span>,
  <span class="hljs-title class_">Client</span> = <span class="hljs-string">"CLIENT_ERROR"</span>,
  <span class="hljs-title class_">Unknown</span> = <span class="hljs-string">"UNKNOWN_ERROR"</span>,
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ErrorDetails</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">ErrorType</span>;
  code?: <span class="hljs-built_in">number</span>;
  details?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">type</span>: <span class="hljs-title class_">ErrorType</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> code?: <span class="hljs-built_in">number</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">readonly</span> details?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span>, errorDetails?: Partial&lt;ErrorDetails&gt;</span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">"AppException"</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = errorDetails?.<span class="hljs-property">type</span> || <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Unknown</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span> = errorDetails?.<span class="hljs-property">code</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">details</span> = errorDetails?.<span class="hljs-property">details</span>;

    <span class="hljs-comment">// Show error message to user if window.$message is available</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">error</span>(message);
    }
  }

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">toJSON</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">name</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>,
      <span class="hljs-attr">message</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">message</span>,
      <span class="hljs-attr">type</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span>,
      <span class="hljs-attr">code</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span>,
      <span class="hljs-attr">details</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">details</span>,
    };
  }
}
</code></pre>
<p>src\utils\http.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { fetch } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tauri-apps/plugin-http"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppException</span>, <span class="hljs-title class_">ErrorType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./exception"</span>;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è¯·æ±‚å‚æ•°
 * <span class="hljs-doctag">@property</span> {<span class="hljs-type">"GET"|"POST"|"PUT"|"DELETE"</span>} method è¯·æ±‚æ–¹æ³•
 * <span class="hljs-doctag">@property</span> {<span class="hljs-type">Record&lt;string, string&gt;</span>} [headers] è¯·æ±‚å¤´
 * <span class="hljs-doctag">@property</span> {<span class="hljs-type">Record&lt;string, any&gt;</span>} [query] è¯·æ±‚å‚æ•°
 * <span class="hljs-doctag">@property</span> {<span class="hljs-type">any</span>} [body] è¯·æ±‚ä½“
 * <span class="hljs-doctag">@property</span> {<span class="hljs-type">boolean</span>} [isBlob] æ˜¯å¦ä¸ºBlob
 * <span class="hljs-doctag">@property</span> {<span class="hljs-type">boolean</span>} [noRetry] æ˜¯å¦ç¦ç”¨é‡è¯•
 * <span class="hljs-doctag">@return</span> <span class="hljs-variable">HttpParams</span>
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">HttpParams</span> = {
  <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span> | <span class="hljs-string">"POST"</span> | <span class="hljs-string">"PUT"</span> | <span class="hljs-string">"DELETE"</span>;
  headers?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;;
  query?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;;
  body?: <span class="hljs-built_in">any</span>;
  isBlob?: <span class="hljs-built_in">boolean</span>;
  retry?: <span class="hljs-title class_">RetryOptions</span>; <span class="hljs-comment">// æ–°å¢é‡è¯•é€‰é¡¹</span>
  noRetry?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ–°å¢ç¦ç”¨é‡è¯•é€‰é¡¹</span>
};

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> é‡è¯•é€‰é¡¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">RetryOptions</span> = {
  retries?: <span class="hljs-built_in">number</span>;
  retryDelay?: <span class="hljs-function">(<span class="hljs-params">attempt: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>;
  retryOn?: <span class="hljs-built_in">number</span>[];
};

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> è‡ªå®šä¹‰é”™è¯¯ç±»ï¼Œç”¨äºæ ‡è¯†éœ€è¦é‡è¯•çš„ HTTP é”™è¯¯
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FetchRetryError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-attr">status</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">ErrorType</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span>, status: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = status;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">"FetchRetryError"</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> = status &gt;= <span class="hljs-number">500</span> ? <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Server</span> : <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Network</span>;
  }
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> ç­‰å¾…æŒ‡å®šçš„æ¯«ç§’æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} ms æ¯«ç§’æ•°
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;void&gt;</span>}
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">wait</span>(<span class="hljs-params">ms: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, ms));
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> åˆ¤æ–­æ˜¯å¦åº”è¿›è¡Œä¸‹ä¸€æ¬¡é‡è¯•
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">boolean</span>} æ˜¯å¦ç»§ç»­é‡è¯•
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">shouldRetry</span>(<span class="hljs-params">
  attempt: <span class="hljs-built_in">number</span>,
  maxRetries: <span class="hljs-built_in">number</span>,
  abort?: AbortController
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">return</span> attempt + <span class="hljs-number">1</span> &lt; maxRetries &amp;&amp; !abort?.<span class="hljs-property">signal</span>.<span class="hljs-property">aborted</span>;
}

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span> HTTP è¯·æ±‚å®ç°
 * <span class="hljs-doctag">@template</span> <span class="hljs-variable">T</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} url è¯·æ±‚åœ°å€
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">HttpParams</span>} options è¯·æ±‚å‚æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">boolean</span>} [fullResponse=false] æ˜¯å¦è¿”å›å®Œæ•´å“åº”
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">AbortController</span>} abort ä¸­æ–­å™¨
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;T | { data: T; resp: Response </span>}&gt;} è¯·æ±‚ç»“æœ
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title class_">Http</span>&lt;T = <span class="hljs-built_in">any</span>&gt;(
  <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">options</span>: <span class="hljs-title class_">HttpParams</span>,
  <span class="hljs-attr">fullResponse</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>,
  abort?: <span class="hljs-title class_">AbortController</span>
): <span class="hljs-title class_">Promise</span>&lt;{ <span class="hljs-attr">data</span>: T; <span class="hljs-attr">resp</span>: <span class="hljs-title class_">Response</span> } | T&gt; {
  <span class="hljs-comment">// æ‰“å°è¯·æ±‚ä¿¡æ¯</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸš€ å‘èµ·è¯·æ±‚ â†’ <span class="hljs-subst">${options.method}</span> <span class="hljs-subst">${url}</span>`</span>, {
    <span class="hljs-attr">body</span>: options.<span class="hljs-property">body</span>,
    <span class="hljs-attr">query</span>: options.<span class="hljs-property">query</span>,
  });

  <span class="hljs-comment">// é»˜è®¤é‡è¯•é…ç½®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">defaultRetryOptions</span>: <span class="hljs-title class_">RetryOptions</span> = {
    <span class="hljs-attr">retries</span>: options.<span class="hljs-property">noRetry</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">3</span>, <span class="hljs-comment">// å¦‚æœè®¾ç½®äº†noRetryï¼Œåˆ™ä¸è¿›è¡Œé‡è¯•</span>
    <span class="hljs-attr">retryDelay</span>: <span class="hljs-function">(<span class="hljs-params">attempt</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, attempt) * <span class="hljs-number">1000</span>, <span class="hljs-comment">// æŒ‡æ•°é€€é¿ç­–ç•¥</span>
    <span class="hljs-attr">retryOn</span>: [<span class="hljs-number">500</span>, <span class="hljs-number">502</span>, <span class="hljs-number">503</span>, <span class="hljs-number">504</span>],
  };

  <span class="hljs-comment">// åˆå¹¶é»˜è®¤é‡è¯•é…ç½®ä¸ç”¨æˆ·ä¼ å…¥çš„é‡è¯•é…ç½®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">retryOptions</span>: <span class="hljs-title class_">RetryOptions</span> = {
    ...defaultRetryOptions,
    ...options.<span class="hljs-property">retry</span>,
  };

  <span class="hljs-keyword">const</span> { retries = <span class="hljs-number">3</span>, retryDelay, retryOn } = retryOptions;

  <span class="hljs-comment">// è·å–tokenå’ŒæŒ‡çº¹</span>
  <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">"TOKEN"</span>);
  <span class="hljs-comment">//const fingerprint = await getEnhancedFingerprint()</span>

  <span class="hljs-comment">// æ„å»ºè¯·æ±‚å¤´</span>
  <span class="hljs-keyword">const</span> httpHeaders = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Headers</span>(options.<span class="hljs-property">headers</span> || {});

  <span class="hljs-comment">// è®¾ç½®Content-Type</span>
  <span class="hljs-keyword">if</span> (!httpHeaders.<span class="hljs-title function_">has</span>(<span class="hljs-string">"Content-Type"</span>) &amp;&amp; !(options.<span class="hljs-property">body</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">FormData</span>)) {
    httpHeaders.<span class="hljs-title function_">set</span>(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span>);
  }

  <span class="hljs-comment">// è®¾ç½®Authorization</span>
  <span class="hljs-keyword">if</span> (token) {
    httpHeaders.<span class="hljs-title function_">set</span>(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">`Bearer <span class="hljs-subst">${token}</span>`</span>);
  }

  <span class="hljs-comment">// è®¾ç½®æµè§ˆå™¨æŒ‡çº¹</span>
  <span class="hljs-comment">//if (fingerprint) {</span>
  <span class="hljs-comment">//httpHeaders.set('X-Device-Fingerprint', fingerprint)</span>
  <span class="hljs-comment">//}</span>

  <span class="hljs-comment">// æ„å»º fetch è¯·æ±‚é€‰é¡¹</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">fetchOptions</span>: <span class="hljs-title class_">RequestInit</span> = {
    <span class="hljs-attr">method</span>: options.<span class="hljs-property">method</span>,
    <span class="hljs-attr">headers</span>: httpHeaders,
    <span class="hljs-attr">signal</span>: abort?.<span class="hljs-property">signal</span>,
  };

  <span class="hljs-comment">// è·å–ä»£ç†è®¾ç½®</span>
  <span class="hljs-comment">// const proxySettings = JSON.parse(localStorage.getItem('proxySettings') || '{}')</span>
  <span class="hljs-comment">// å¦‚æœè®¾ç½®äº†ä»£ç†ï¼Œæ·»åŠ ä»£ç†é…ç½® (BETA)</span>
  <span class="hljs-comment">// if (proxySettings.type &amp;&amp; proxySettings.ip &amp;&amp; proxySettings.port) {</span>
  <span class="hljs-comment">//   // ä½¿ç”¨ Rust åç«¯çš„ä»£ç†å®¢æˆ·ç«¯</span>
  <span class="hljs-comment">//   fetchOptions.proxy = {</span>
  <span class="hljs-comment">//     url: `${proxySettings.type}://${proxySettings.ip}:${proxySettings.port}`</span>
  <span class="hljs-comment">//   }</span>
  <span class="hljs-comment">// }</span>

  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦æ·»åŠ è¯·æ±‚ä½“</span>
  <span class="hljs-keyword">if</span> (options.<span class="hljs-property">body</span>) {
    <span class="hljs-keyword">if</span> (
      !(
        options.<span class="hljs-property">body</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">FormData</span> ||
        options.<span class="hljs-property">body</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">URLSearchParams</span>
      )
    ) {
      fetchOptions.<span class="hljs-property">body</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(options.<span class="hljs-property">body</span>);
    } <span class="hljs-keyword">else</span> {
      fetchOptions.<span class="hljs-property">body</span> = options.<span class="hljs-property">body</span>; <span class="hljs-comment">// å¦‚æœæ˜¯ FormData æˆ– URLSearchParams ç›´æ¥ä½¿ç”¨</span>
    }
  }

  <span class="hljs-comment">// æ·»åŠ æŸ¥è¯¢å‚æ•°</span>
  <span class="hljs-keyword">if</span> (options.<span class="hljs-property">query</span>) {
    <span class="hljs-keyword">const</span> queryString = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(options.<span class="hljs-property">query</span>).<span class="hljs-title function_">toString</span>();
    url += <span class="hljs-string">`?<span class="hljs-subst">${queryString}</span>`</span>;
  }

  <span class="hljs-comment">// æ‹¼æ¥ API åŸºç¡€è·¯å¾„</span>
  <span class="hljs-comment">//url = `${import.meta.env.VITE_SERVICE_URL}${url}`</span>

  <span class="hljs-comment">// å®šä¹‰é‡è¯•å‡½æ•°</span>
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">attemptFetch</span>(<span class="hljs-params">
    currentAttempt: <span class="hljs-built_in">number</span>
  </span>): <span class="hljs-title class_">Promise</span>&lt;{ <span class="hljs-attr">data</span>: T; <span class="hljs-attr">resp</span>: <span class="hljs-title class_">Response</span> } | T&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, fetchOptions);
      <span class="hljs-comment">// è‹¥å“åº”ä¸ OK å¹¶ä¸”çŠ¶æ€ç å±äºéœ€é‡è¯•åˆ—è¡¨ï¼Œåˆ™æŠ›å‡º FetchRetryError</span>
      <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
        <span class="hljs-keyword">const</span> errorType = <span class="hljs-title function_">getErrorType</span>(response.<span class="hljs-property">status</span>);
        <span class="hljs-keyword">if</span> (!retryOn || retryOn.<span class="hljs-title function_">includes</span>(response.<span class="hljs-property">status</span>)) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FetchRetryError</span>(
            <span class="hljs-string">`HTTP error! status: <span class="hljs-subst">${response.status}</span>`</span>,
            response.<span class="hljs-property">status</span>
          );
        }
        <span class="hljs-comment">// å¦‚æœæ˜¯éé‡è¯•çŠ¶æ€ç ï¼Œåˆ™æŠ›å‡ºå¸¦æœ‰é€‚å½“é”™è¯¯ç±»å‹çš„ AppException</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppException</span>(<span class="hljs-string">`HTTP error! status: <span class="hljs-subst">${response.status}</span>`</span>, {
          <span class="hljs-attr">type</span>: errorType,
          <span class="hljs-attr">code</span>: response.<span class="hljs-property">status</span>,
          <span class="hljs-attr">details</span>: { url, <span class="hljs-attr">method</span>: options.<span class="hljs-property">method</span> },
        });
      }

      <span class="hljs-comment">// è§£æå“åº”æ•°æ®</span>
      <span class="hljs-keyword">const</span> responseData = options.<span class="hljs-property">isBlob</span>
        ? <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">arrayBuffer</span>()
        : <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

      <span class="hljs-comment">// æ‰“å°å“åº”ç»“æœ</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… è¯·æ±‚æˆåŠŸ â†’ <span class="hljs-subst">${options.method}</span> <span class="hljs-subst">${url}</span>`</span>, {
        <span class="hljs-attr">status</span>: response.<span class="hljs-property">status</span>,
        <span class="hljs-attr">data</span>: responseData,
      });

      <span class="hljs-comment">// è‹¥æœ‰success === falseï¼Œéœ€è¦é‡è¯•</span>
      <span class="hljs-keyword">if</span> (responseData &amp;&amp; responseData.<span class="hljs-property">success</span> === <span class="hljs-literal">false</span>) {
        <span class="hljs-keyword">const</span> errorMessage = responseData.<span class="hljs-property">errMsg</span> || <span class="hljs-string">"æœåŠ¡å™¨è¿”å›é”™è¯¯"</span>;
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>?.<span class="hljs-property">error</span>?.(errorMessage);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppException</span>(errorMessage, {
          <span class="hljs-attr">type</span>: <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Server</span>,
          <span class="hljs-attr">code</span>: response.<span class="hljs-property">status</span>,
          <span class="hljs-attr">details</span>: responseData,
        });
      }

      <span class="hljs-comment">// è‹¥è¯·æ±‚æˆåŠŸä¸”æ²¡æœ‰ä¸šåŠ¡é”™è¯¯</span>
      <span class="hljs-keyword">if</span> (fullResponse) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">data</span>: responseData, <span class="hljs-attr">resp</span>: response };
      }
      <span class="hljs-keyword">return</span> responseData;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`å°è¯• <span class="hljs-subst">${currentAttempt + <span class="hljs-number">1</span>}</span> å¤±è´¥çš„ â†’`</span>, error);

      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä»éœ€é‡è¯•</span>
      <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">shouldRetry</span>(currentAttempt, retries, abort)) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(
          <span class="hljs-string">`Max retries reached or aborted. Request failed â†’ <span class="hljs-subst">${url}</span>`</span>
        );
        <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">FetchRetryError</span>) {
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>?.<span class="hljs-property">error</span>?.(error.<span class="hljs-property">message</span> || <span class="hljs-string">"ç½‘ç»œè¯·æ±‚å¤±è´¥"</span>);
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppException</span>(error.<span class="hljs-property">message</span>, {
            <span class="hljs-attr">type</span>: error.<span class="hljs-property">type</span>,
            <span class="hljs-attr">code</span>: error.<span class="hljs-property">status</span>,
            <span class="hljs-attr">details</span>: { url, <span class="hljs-attr">attempts</span>: currentAttempt + <span class="hljs-number">1</span> },
          });
        }
        <span class="hljs-keyword">if</span> (error <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">AppException</span>) {
          <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>?.<span class="hljs-property">error</span>?.(error.<span class="hljs-property">message</span> || <span class="hljs-string">"è¯·æ±‚å‡ºé”™"</span>);
          <span class="hljs-keyword">throw</span> error;
        }
        <span class="hljs-keyword">const</span> errorMessage = <span class="hljs-title class_">String</span>(error) || <span class="hljs-string">"æœªçŸ¥é”™è¯¯"</span>;
        <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>?.<span class="hljs-property">error</span>?.(errorMessage);
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppException</span>(errorMessage, {
          <span class="hljs-attr">type</span>: <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Unknown</span>,
          <span class="hljs-attr">details</span>: { url, <span class="hljs-attr">attempts</span>: currentAttempt + <span class="hljs-number">1</span> },
        });
      }

      <span class="hljs-comment">// è‹¥éœ€ç»§ç»­é‡è¯•</span>
      <span class="hljs-keyword">const</span> delayMs = retryDelay ? <span class="hljs-title function_">retryDelay</span>(currentAttempt) : <span class="hljs-number">1000</span>;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(
        <span class="hljs-string">`Retrying request â†’ <span class="hljs-subst">${url}</span> (next attempt: <span class="hljs-subst">${currentAttempt + <span class="hljs-number">2</span>}</span>, waiting <span class="hljs-subst">${delayMs}</span>ms)`</span>
      );
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">wait</span>(delayMs);
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">attemptFetch</span>(currentAttempt + <span class="hljs-number">1</span>);
    }
  }

  <span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼šæ ¹æ®HTTPçŠ¶æ€ç ç¡®å®šé”™è¯¯ç±»å‹</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getErrorType</span>(<span class="hljs-params">status: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">ErrorType</span> {
    <span class="hljs-keyword">if</span> (status &gt;= <span class="hljs-number">500</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Server</span>;
    <span class="hljs-keyword">if</span> (status === <span class="hljs-number">401</span> || status === <span class="hljs-number">403</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Authentication</span>;
    <span class="hljs-keyword">if</span> (status === <span class="hljs-number">400</span> || status === <span class="hljs-number">422</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Validation</span>;
    <span class="hljs-keyword">if</span> (status &gt;= <span class="hljs-number">400</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Client</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">ErrorType</span>.<span class="hljs-property">Network</span>;
  }

  <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œattempt=0</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">attemptFetch</span>(<span class="hljs-number">0</span>);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Http</span>;
</code></pre>
<p>src\utils\request.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Http</span>, { <span class="hljs-title class_">HttpParams</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./http.ts"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ServiceResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/enums/types.ts"</span>;
<span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">VITE_SERVICE_URL</span> } = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>;
<span class="hljs-keyword">const</span> prefix = <span class="hljs-variable constant_">VITE_SERVICE_URL</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getToken</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> tempToken = <span class="hljs-string">""</span>;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (tempToken) <span class="hljs-keyword">return</span> tempToken;
      <span class="hljs-keyword">const</span> token = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">"TOKEN"</span>);
      <span class="hljs-keyword">if</span> (token) {
        tempToken = token;
      }
      <span class="hljs-keyword">return</span> tempToken;
    },
    <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
      tempToken = <span class="hljs-string">""</span>;
    },
  };
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> computedToken = <span class="hljs-title function_">getToken</span>();

<span class="hljs-comment">// fetch è¯·æ±‚å“åº”æ‹¦æˆªå™¨</span>
<span class="hljs-keyword">const</span> responseInterceptor = <span class="hljs-keyword">async</span> &lt;T&gt;(
  <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span> | <span class="hljs-string">"POST"</span> | <span class="hljs-string">"PUT"</span> | <span class="hljs-string">"DELETE"</span>,
  <span class="hljs-attr">query</span>: <span class="hljs-built_in">any</span>,
  <span class="hljs-attr">body</span>: <span class="hljs-built_in">any</span>,
  abort?: <span class="hljs-title class_">AbortController</span>
): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">httpParams</span>: <span class="hljs-title class_">HttpParams</span> = {
    method,
  };

  <span class="hljs-keyword">if</span> (method === <span class="hljs-string">"GET"</span>) {
    httpParams = {
      ...httpParams,
      query,
    };
  } <span class="hljs-keyword">else</span> {
    url = <span class="hljs-string">`<span class="hljs-subst">${prefix}</span><span class="hljs-subst">${url}</span>?<span class="hljs-subst">${<span class="hljs-keyword">new</span> URLSearchParams(query).toString()}</span>`</span>;
    httpParams = {
      ...httpParams,
      body,
    };
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Http</span>(url, httpParams, <span class="hljs-literal">true</span>, abort);
    <span class="hljs-keyword">const</span> serviceData = (<span class="hljs-keyword">await</span> data.<span class="hljs-property">data</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">ServiceResponse</span>;
    <span class="hljs-comment">//æ£€æŸ¥æœåŠ¡ç«¯è¿”å›æ˜¯å¦æˆåŠŸï¼Œå¹¶ä¸”ä¸­æ–­è¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (!serviceData.<span class="hljs-property">success</span>) {
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">$message</span>.<span class="hljs-title function_">error</span>(serviceData.<span class="hljs-property">errMsg</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">`http error: <span class="hljs-subst">${serviceData.errMsg}</span>`</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(serviceData.<span class="hljs-property">result</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">`http error: <span class="hljs-subst">${err}</span>`</span>);
  }
};

<span class="hljs-keyword">const</span> get = <span class="hljs-keyword">async</span> &lt;T&gt;(
  <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">query</span>: T,
  abort?: <span class="hljs-title class_">AbortController</span>
): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">responseInterceptor</span>(url, <span class="hljs-string">"GET"</span>, query, {}, abort);
};

<span class="hljs-keyword">const</span> post = <span class="hljs-keyword">async</span> &lt;T&gt;(
  <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">params</span>: <span class="hljs-built_in">any</span>,
  abort?: <span class="hljs-title class_">AbortController</span>
): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">responseInterceptor</span>(url, <span class="hljs-string">"POST"</span>, {}, params, abort);
};

<span class="hljs-keyword">const</span> put = <span class="hljs-keyword">async</span> &lt;T&gt;(
  <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">params</span>: <span class="hljs-built_in">any</span>,
  abort?: <span class="hljs-title class_">AbortController</span>
): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">responseInterceptor</span>(url, <span class="hljs-string">"PUT"</span>, {}, params, abort);
};

<span class="hljs-keyword">const</span> del = <span class="hljs-keyword">async</span> &lt;T&gt;(
  <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">params</span>: <span class="hljs-built_in">any</span>,
  abort?: <span class="hljs-title class_">AbortController</span>
): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">responseInterceptor</span>(url, <span class="hljs-string">"DELETE"</span>, {}, params, abort);
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  get,
  post,
  put,
  <span class="hljs-attr">delete</span>: del,
};
</code></pre>
<p>src\api\manage.ts</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> request <span class="hljs-keyword">from</span> <span class="hljs-string">"@/utils/request"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getAction = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">
  url: <span class="hljs-built_in">string</span>,
  params?: <span class="hljs-built_in">any</span>,
  abort?: AbortController
</span>) =&gt;</span> request.<span class="hljs-property">get</span>&lt;T&gt;(url, params, abort);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> postAction = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">
  url: <span class="hljs-built_in">string</span>,
  params?: <span class="hljs-built_in">any</span>,
  abort?: AbortController
</span>) =&gt;</span> request.<span class="hljs-property">post</span>&lt;T&gt;(url, params, abort);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> putAction = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">
  url: <span class="hljs-built_in">string</span>,
  params?: <span class="hljs-built_in">any</span>,
  abort?: AbortController
</span>) =&gt;</span> request.<span class="hljs-property">put</span>&lt;T&gt;(url, params, abort);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> deleteAction = &lt;T&gt;<span class="hljs-function">(<span class="hljs-params">
  url: <span class="hljs-built_in">string</span>,
  params?: <span class="hljs-built_in">any</span>,
  abort?: AbortController
</span>) =&gt;</span> request.<span class="hljs-property">delete</span>&lt;T&gt;(url, params, abort);
</code></pre>
<h4 data-id="heading-39">4.è°ƒç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;n-button @click="postTest"&gt;æµ‹è¯•POST&lt;/n-button&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang="ts"&gt;
import { postAction } from "@/api/manage";

const postTest = () =&gt; {
  let url = `/sys/login`;
  postAction(url, {
    username: "admin",
    password: "tick20140513",
  }).then((res) =&gt; {
    text.value = res.token;
  });
};
&lt;/script&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[module federationï¼Œmonorepoåˆ†ä¸æ¸…æ¥šï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582393212767584310</link>    <guid>https://juejin.cn/post/7582393212767584310</guid>    <pubDate>2025-12-11T09:57:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582393212767584310" data-draft-id="7581769891499802643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="module federationï¼Œmonorepoåˆ†ä¸æ¸…æ¥šï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T09:57:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ggbond"/> <meta itemprop="url" content="https://juejin.cn/user/290743919315255"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            module federationï¼Œmonorepoåˆ†ä¸æ¸…æ¥šï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/290743919315255/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ggbond
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:57:11.000Z" title="Thu Dec 11 2025 09:57:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸€ä»£ç‰ˆæœ¬ä¸€ä»£ç¥ï¼Œç°ä»£çš„å‰ç«¯å·²ç»ä¸æ˜¯ä¼šç”¨ä¸€ä¸ªreactå°±èƒ½æ··è¿‡å»çš„äº†ï¼Œè™½ç„¶æ­£å¼å·¥ä½œä¸Šè¿˜æ˜¯æ‰“èºä¸ï¼Œè°ƒåŒ…ä¾ +åˆ‡å›¾ä»”ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæ–°çŸ¥è¯†ä¸å¯ä¸å­¦ã€‚
æœ‰ä¸¤ä¸ªæ¦‚å¿µè¿‘äº›å¹´å¾ˆç«ï¼Œä¸€ä¸ªæ˜¯module federationä¸€ä¸ªæ˜¯monorepoï¼Œå…‰çœ‹åå­—å¯èƒ½è§‰å¾—æœ‰ç‚¹åƒï¼Œä½†æ˜¯å…¶å®æ˜¯ä¸¤ä¸ªä¸œè¥¿ã€‚</p>
<h2 data-id="heading-0">æ¨¡å—è”é‚¦module federation</h2>
<p>è¿™æ˜¯webpackåœ¨v5è¢«æŠ•å…¥ç”Ÿäº§ï¼Œå¹¶ä½œä¸ºv5çš„æ ¸å¿ƒç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒçš„å‡ºç°è§£å†³äº†ä¸€äº›é—®é¢˜ï¼Œæˆ–è€…è¯´å®ƒé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li><strong>å¾®å‰ç«¯æ¶æ„</strong>ï¼šå®ç°ç‹¬ç«‹éƒ¨ç½²çš„å­åº”ç”¨åŠ¨æ€é›†æˆï¼ˆå¦‚ç”µå•†å¹³å°çš„é¦–é¡µã€å•†å“é¡µæ‹†åˆ†ï¼‰ã€‚</li>
<li><strong>å¤§å‹åº”ç”¨æ‹†åˆ†</strong>ï¼šé€æ­¥é‡æ„å•ä½“åº”ç”¨ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚</li>
<li><strong>è·¨å›¢é˜Ÿä»£ç å…±äº«</strong>ï¼šé¿å…é‡å¤å‘å¸ƒ npm åŒ…ï¼Œç›´æ¥è¿è¡Œæ—¶å¤ç”¨æ¨¡å—ã€‚</li>
</ol>
<p>åŸºæœ¬ä¸Šå¯ä»¥è¯´ä»–æ˜¯å¾®å‰ç«¯çš„æ–¹å¼ã€‚å½“ç„¶å¸‚é¢ä¸Šè‚¯å®šå¤§éƒ¨åˆ†å·¥å…·ä¹Ÿä¼šè·Ÿä¸Šwebpackï¼Œæ¯”å¦‚viteå°±é€šè¿‡rollupé’©å­å®ç°äº†(vite-plugin-federation)ï¼Œåˆæ¯”å¦‚@module-federation/rollupæ’ä»¶ï¼Œnext-mfæ’ä»¶ï¼ŒRspack(åŸºäºwebpack)ã€‚
æ¥ä¸‹æ¥çœ‹ä¸‹ä»–çš„ä¸»è¦é…ç½®</p>
<h3 data-id="heading-1">ä¸»åº”ç”¨webpack.config.jsï¼š</h3>
<pre><code class="hljs language-css" lang="css">const { ModuleFederationPlugin } = require('webpack')<span class="hljs-selector-class">.container</span>;

module<span class="hljs-selector-class">.exports</span> = {
  ...
  plugins: [
    new <span class="hljs-built_in">ModuleFederationPlugin</span>({
      name: <span class="hljs-string">'host'</span>,
      remotes: {
        app1: <span class="hljs-string">'remote@http://localhost:3001/app1Entry.js'</span>, // å­åº”ç”¨åœ°å€
      },
      shared: { 
        react: { singleton: true }, 'react-dom': { singleton: true }                 },
    }),
  ],
};
</code></pre>
<p>è¿™é‡Œçœ‹åˆ°äº†ä¸€ä¸ªsharedé…ç½®singletonï¼ŒæŒ‡æ˜äº†å“ªäº›æ¨¡å—åº”è¯¥ä½œä¸ºå•ä¾‹å…±äº«ï¼Œä¹Ÿå°±æ˜¯å•ä¾‹æ¨¡å¼ï¼Œtrueçš„è¯çˆ¶å­åº”ç”¨å…±ç”¨ä¸€ä¸ªå®ä¾‹ï¼Œé¿å…é‡å¤åŠ è½½ï¼Œä½†æ˜¯å½“æ’ä»¶éœ€è¦å®Œå…¨éš”ç¦»çš„ä¾èµ–å¦‚reactç¯å¢ƒæ—¶ï¼Œå¯ä»¥è®¾ç½®æˆfalseï¼›</p>
<p>remoteså­—æ®µæŒ‡å®šäº†è¿œç¨‹å¾®åº”ç”¨çš„åç§°å’Œå…¶è¿œç¨‹å…¥å£æ–‡ä»¶URLã€‚
å½“ä¸»åº”ç”¨éœ€è¦ç”¨åˆ°å­åº”ç”¨çš„ç©æ„æ—¶ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŠ¨æ€åŠ è½½å­åº”ç”¨çš„Buttonç»„ä»¶ </span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">RemoteButton</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'app1/Button'</span>));
</code></pre>
<h3 data-id="heading-2">å­åº”ç”¨webpacké…ç½®</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">const</span> { <span class="hljs-selector-tag">ModuleFederationPlugin</span> } = <span class="hljs-selector-tag">require</span>(<span class="hljs-string">'webpack'</span>)<span class="hljs-selector-class">.container</span>; <span class="hljs-selector-tag">module</span><span class="hljs-selector-class">.exports</span> = { 
    entry: './<span class="hljs-attribute">src/moduleOutput.js', // å¿…é¡»é€šè¿‡moduleOutput.jsé—´æ¥å¼•å…¥ 
    plugins</span>: [ 
        new <span class="hljs-built_in">ModuleFederationPlugin</span>({ 
            <span class="hljs-attribute">name</span>: <span class="hljs-string">'app1'</span>, <span class="hljs-comment">// å­åº”ç”¨åç§°ï¼ˆå…¨å±€å”¯ä¸€ï¼‰ </span>
            <span class="hljs-attribute">filename</span>: <span class="hljs-string">'app1Entry.js'</span>, <span class="hljs-comment">// å…¥å£æ–‡ä»¶åï¼ˆé»˜è®¤ï¼‰ï¼Œæ¨¡å—æ¸…å•å</span>
            <span class="hljs-attribute">exposes</span>: { 
                <span class="hljs-string">'./Button'</span>: <span class="hljs-string">'./src/Button.js'</span>, <span class="hljs-comment">// æš´éœ²ç»„ä»¶è·¯å¾„ </span>
            }, 
            <span class="hljs-attribute">shared</span>: { 
                <span class="hljs-attribute">react</span>: { <span class="hljs-attribute">singleton</span>: true }, <span class="hljs-string">'react-dom'</span>: { <span class="hljs-attribute">singleton</span>: true } 
            },             
        }), 
    ], 
};
</code></pre>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// moduleOutput.js</span>
<span class="hljs-keyword">import</span>(<span class="hljs-string">'./index'</span>); <span class="hljs-comment">// å»¶è¿ŸåŠ è½½ä¸šåŠ¡ä»£ç </span>
</code></pre>
<p>æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬çœ‹åˆ°entryä¸æ˜¯æˆ‘ä»¬å¹³æ—¶é¡¹ç›®è„šæ‰‹æ¶è‡ªå¸¦çš„<code>index.js/ts</code>ï¼Œè€Œæ˜¯é€šè¿‡å…¶ä»–æ–‡ä»¶<code>moduleOutput.js</code>ï¼Œè¿™ä¸ªæ–‡ä»¶çš„å­˜åœ¨æ˜¯ä¸ºäº†æ­£ç¡®æ‰§è¡Œæ¨¡å—è”é‚¦çš„åŠ¨æ€åŠ è½½æœºåˆ¶å’Œä»£ç æ‰§è¡Œé¡ºåºï¼Œè€Œä¸»è¦å¯¼è‡´è¿™æ ·çš„åŸå› æ˜¯ï¼š</p>
<ol>
<li>ä¸»åº”ç”¨åŠ è½½å­åº”ç”¨æ—¶ï¼Œä¼šå…ˆä¸‹è½½<code>app1Entry.js</code>æ¨¡å—æ¸…å•æ–‡ä»¶ï¼Œç„¶ååœ¨æŒ‰éœ€åŠ è½½å­æ¨¡å—ï¼Œæ¯”å¦‚exposesä¸­çš„Buttonï¼Œå¦‚æœå­åº”ç”¨ç›´æ¥ä»¥<code>index.js</code>ä½œä¸ºentryï¼Œå¯èƒ½ä¼šåœ¨å­åº”ç”¨çš„å­æ¨¡å—æ¨¡å—è¢«ä¸»åº”ç”¨åŠ è½½æ—¶ï¼Œå­åº”ç”¨çš„ä¾èµ–(å¦‚react)æœªå‡†å¤‡å°±ç»ªï¼Œæ¯•ç«Ÿå­åº”ç”¨ä¹Ÿæ˜¯é…ç½®äº†æŒ‰éœ€åŠ è½½ï¼Œè¿™å°±ä¼šå¯¼è‡´è¿è¡Œé”™è¯¯</li>
<li><code>app1Entry.js</code>è¿™æ–‡ä»¶çš„ä½œç”¨å°±æ˜¯å»¶è¿Ÿæ‰§è¡Œï¼Œé€šè¿‡åŠ¨æ€å¯¼å…¥ï¼ˆ<code>import()</code>ï¼‰å°†å­åº”ç”¨çš„ä¸šåŠ¡ä»£ç ï¼ˆå¦‚Â <code>index.js</code>ï¼‰çš„åŠ è½½æ¨è¿Ÿåˆ°Â <strong>æ‰€æœ‰å…±äº«ä¾èµ–ï¼ˆå¦‚ Reactï¼‰å·²å°±ç»ªå</strong>ã€‚
å½“ç„¶ï¼Œå¦‚æœçˆ¶å­åº”ç”¨æ²¡æœ‰å…±äº«çš„æ¨¡å—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶ä¹Ÿå°±æ²¡å¿…è¦äº†ï¼Œå¦å¤–sharedçš„ä¾èµ–ä¸­ï¼Œæœ‰ä¸€ä¸ª<code>requiredVersion</code>å­—æ®µï¼Œå¯ä»¥è®©çˆ¶å­åå•†æ˜¯å¦å…±äº«æ¨¡å—ã€‚</li>
</ol>
<h2 data-id="heading-3">monorepo</h2>
<p>è¿™å…¶å®ä¸æ˜¯å…·ä½“å·¥å…·ï¼Œè€Œæ˜¯ä¸€ç§æ€æƒ³ï¼š<em><strong>å¼ºå…³è”æ€§ï¼ŒåŒä¸€ä¸šåŠ¡çº¿çš„é¡¹ç›®ï¼Œå¯ä»¥å°†é¡¹ç›®æ”¾åœ¨åŒä¸€ä¸ªç‰ˆæœ¬ç®¡ç†å·¥å…·ä¸­ï¼ˆæ¯”å¦‚gitï¼‰</strong></em>ï¼Œè¿™ä¹ˆåšçš„å¥½å¤„æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚</p>
<ol>
<li>ä»£ç å…±äº«ä¸å¤ç”¨ï¼Œä¸€äº›å…¬å…±çš„tså®šä¹‰ï¼Œå’Œapiæ¥å£å±‚ï¼Œç»„ä»¶èƒ½ç›´æ¥å¼•ç”¨ï¼Œå¹¶ä¸”æ‰€æœ‰é¡¹ç›®å…±ç”¨é¡¶å±‚<code>node_modules</code>ï¼Œå‡å°‘é‡å¤ä¾èµ–å®‰è£…(é€šè¿‡workspacesåŠŸèƒ½)</li>
<li>ç»Ÿä¸€å·¥ç¨‹åŒ–é…ç½®ï¼Œæ¯”å¦‚eslintï¼Œpritterï¼Œjestå’Œwebpackç­‰æ„å»ºå·¥å…·ç­‰ï¼Œè¿™ä¼šè®©ç»´æŠ¤æˆæœ¬é™ä½ã€‚</li>
<li>ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†ï¼Œé€šè¿‡<code>changesets</code>ç­‰å·¥å…·è‡ªåŠ¨åŒ–ç‰ˆæœ¬å·å’ŒchangeLogç®¡ç†</li>
<li>ç‰ˆæœ¬æäº¤çš„å®Œæ•´æ€§ï¼Œå½“ä¿®æ”¹åº•å±‚åº“æ—¶ï¼Œå¯åŒæ—¶æ›´æ–°ä¾èµ–ä»–çš„æ‰€æœ‰åº”ç”¨ï¼Œè¿™ä¿è¯äº†æäº¤çš„å®Œæ•´æ€§</li>
<li>ä¾èµ–å…³ç³»å¯è§†åŒ–ï¼Œå¯ç”¨preuneç­‰å‘½ä»¤å·¥å…·ç”Ÿæˆå…³ç³»å›¾ï¼Œä¾¿äºæ¡†æ¶ä¼˜åŒ–</li>
<li>ç»Ÿä¸€CIé…ç½®ï¼Œæ‰€æœ‰é¡¹ç›®å…±ç”¨ä¸€å¥—CI/CDæµç¨‹
å½“ç„¶ä¹Ÿä¸æ˜¯æ‰€æœ‰ä¸šåŠ¡çº¿éƒ½è¦è¿™ä¹ˆåšï¼Œè¿™é€‚ç”¨äºéƒ¨åˆ†åœºæ™¯ï¼š</li>
<li>å¾®å‰ç«¯æ¶æ„</li>
<li>å…¨æ ˆé¡¹ç›®ï¼ˆå¯¹æˆ‘æ¥è¯´å½“ç„¶æ˜¯jsçš„å…¨æ ˆï¼‰</li>
<li>å¤šåº”ç”¨å¹³å°ï¼Œæ¯”å¦‚pcï¼Œmobileå…±ç”¨ä¸šåŠ¡é€»è¾‘</li>
<li>å¤§å‹å›¢é˜Ÿåä½œï¼Œå‡å°‘ä»£ç ç¢ç‰‡åŒ–</li>
<li>æ›¿ä»£npmçš„é¢‘ç¹æ›´æ›¿
å¸¸ç”¨æ¥å®ç°monorepoçš„å·¥å…·æœ‰<code>pnpm,lerna,turborepo</code>,æˆ‘ä¸€èˆ¬ä½¿ç”¨<code>pnpm</code></li>
</ol>
<h2 data-id="heading-4">æ€»ç»“</h2>
<p>è¿™ä¹ˆä¸€ç›˜ï¼Œå¥½åƒä¸¤è€…ä¹Ÿä¸æ˜¯æ¯«æ— è”ç³»ï¼Œè¿™éƒ½å’Œå¾®å‰ç«¯æ‰¯åˆ°äº†å…³ç³»ï¼Œä½†æ˜¯ä¸¤è€…åœºæ™¯å¹¶ä¸æ˜¯éå¸¸ä¸€è‡´ï¼Œä¸”æ‰‹æ®µä¸åŒã€‚æœ€å…±åŒçš„ç‚¹æ˜¯ï¼Œä»–ä»¬éƒ½æ˜¯è¦å­¦çš„ä¸œè¥¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹å†™newæ“ä½œç¬¦æ‰§è¡Œè¿‡ç¨‹]]></title>    <link>https://juejin.cn/post/7582406735387443206</link>    <guid>https://juejin.cn/post/7582406735387443206</guid>    <pubDate>2025-12-11T09:55:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582406735387443206" data-draft-id="7582311711430148139" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹å†™newæ“ä½œç¬¦æ‰§è¡Œè¿‡ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-11T09:55:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŸ³å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/972429307154504"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹å†™newæ“ä½œç¬¦æ‰§è¡Œè¿‡ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/972429307154504/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŸ³å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:55:22.000Z" title="Thu Dec 11 2025 09:55:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹å†™newæ“ä½œç¬¦æ‰§è¡Œè¿‡ç¨‹</h2>
<blockquote>
<p>ä¸»è¦åˆ†å››ä¸ªæ­¥éª¤</p>
</blockquote>
<ol>
<li>åˆ›å»ºç©ºå¯¹è±¡</li>
<li>è®¾ç½®ç©ºå¯¹è±¡çš„å¯¹è±¡åŸå‹ï¼ŒæŒ‡å‘å¯¹åº”æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</li>
<li>ç»‘å®šthisï¼Œå¹¶ä¸”æ‰§è¡Œæ„é€ å‡½æ•°</li>
<li>åˆ¤æ–­ æ„é€ å‡½æ•° è¿”å›å€¼ç±»å‹</li>
</ol>
<h3 data-id="heading-1">å‰ç½®çŸ¥è¯†</h3>
<blockquote>
<p>Object.create(æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡)</p>
</blockquote>
<p>æ–°å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¯¹è±¡çš„åŸå‹ä¸ºæ„é€ å‡½æ•°çš„ prototype å¯¹è±¡</p>
<blockquote>
<p>constructor.apply(newObject, arguments);</p>
</blockquote>
<p>æ‰§è¡Œconstructorï¼Œå¹¶ä¸”æŠŠconstructorçš„thisç»‘å®šåˆ°newObjectï¼Œä¼ å…¥å‚æ•°</p>
<h3 data-id="heading-2">æ‰‹å†™è¿‡ç¨‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ‰‹æ’•newçš„è¿‡ç¨‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name,age</span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
}

<span class="hljs-comment">// æ„é€ å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyNew</span>(<span class="hljs-params">constructor,...args</span>){
    <span class="hljs-comment">// åˆ†åˆ«æ¥å—æ„é€ å‡½æ•°å’Œåç»­çš„å‚æ•°</span>
    <span class="hljs-comment">// f Â ['my', 18]</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(constructor,args);

    <span class="hljs-comment">// 1.åˆ›å»ºç©ºå¯¹è±¡</span>
    <span class="hljs-keyword">let</span> newObj = <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// 2.ä¿®æ”¹å¯¹è±¡çš„å¯¹è±¡åŸå‹ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</span>
    newObj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(constructor.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)

    <span class="hljs-comment">// 3.ç»‘å®šthisï¼Œå¹¶ä¸”æ‰§è¡Œæ„é€ å‡½æ•°</span>
    <span class="hljs-keyword">let</span> result = constructor.<span class="hljs-title function_">apply</span>(newObj,args); <span class="hljs-comment">//å°†constructorçš„thisç»‘å®šä¸ºnewObj,å¹¶ä¸”ä¼ å…¥åç»­çš„å‚æ•°</span>

    <span class="hljs-comment">// 4.åˆ¤æ–­ æ„é€ å‡½æ•° è¿”å›å€¼ç±»å‹</span>
    <span class="hljs-keyword">let</span> flag = result &amp;&amp; (<span class="hljs-keyword">typeof</span> result === <span class="hljs-string">"object"</span> || <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">"function"</span>);
    
    <span class="hljs-comment">// å¦‚æœæ˜¯å¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œå°±è¿”å›æ„é€ å‡½æ•°è¿”å›å€¼ï¼Œå¦åˆ™è¿”å›æ–°å¯¹è±¡</span>
    <span class="hljs-keyword">return</span> flag ? result : newObj;
}



<span class="hljs-comment">// å…¥å£</span>
<span class="hljs-keyword">const</span> ret = <span class="hljs-title class_">MyNew</span>(<span class="hljs-title class_">Person</span>,<span class="hljs-string">"my"</span>,<span class="hljs-number">18</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ret)
</code></pre>
<h3 data-id="heading-3">é—®é¢˜</h3>
<blockquote>
<p>æœ€åä¸ºä»€ä¹ˆè¦åˆ¤æ–­è¿”å›å€¼çš„ç±»å‹ï¼Ÿ</p>
</blockquote>
<p>é¦–å…ˆï¼Œå› ä¸ºä¸Šé¢çš„æ„é€ å‡½æ•°æ²¡æœ‰æ˜¾ç¤ºçš„è¿”å›å€¼ï¼Œæ‰€ä»¥ä¼šè¿”å›undefinedï¼Œè¿™é‡Œå°±éœ€è¦è¿”å›è‡ªå·±åˆ›å»ºçš„newObjã€‚</p>
<p>å¦‚æœæ„é€ å‡½æ•°æœ‰è¿”å›å€¼ï¼Œå°±ç›´æ¥è¿”å›æ„é€ å‡½æ•°çš„è¿”å›å€¼å³å¯ï¼Œå°±ä¸éœ€è¦è‡ªå·±åˆ›å»ºçš„å®ä¾‹äº†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">function Person(name, age) {
  <span class="hljs-keyword">this</span>.name = name;
  <span class="hljs-keyword">this</span>.age = age;
  <span class="hljs-comment">// æ‰‹åŠ¨è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡</span>
  <span class="hljs-keyword">return</span> { nickname: <span class="hljs-string">"å°æ˜"</span>, gender: <span class="hljs-string">"ç”·"</span> };
}
</code></pre>
<blockquote>
<p>è¿”å›å€¼çš„ç±»å‹</p>
</blockquote>
<p>å¹¶ä¸”éœ€è¦æ ¹æ®æ„é€ å‡½æ•°çš„è¿”å›å€¼ç±»å‹è¿›è¡Œé€‰æ‹©ï¼Œä¿è¯åªè¿”å›å‡½æ•°æˆ–è€…å¯¹è±¡ç±»å‹ï¼Œå¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå°±ç›´æ¥è¿”å›æ„é€ å‡½æ•°è¿”å›çš„ç»“æœ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">let</span> flag = result &amp;&amp; (<span class="hljs-keyword">typeof</span> result === <span class="hljs-string">"object"</span> || <span class="hljs-keyword">typeof</span> result === <span class="hljs-string">"function"</span>);
</code></pre>
<blockquote>
<p>é‚£åœ¨å“ªä¸€æ­¥å¯¹è‡ªå·±åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼äº†å‘¢ï¼Ÿ</p>
</blockquote>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">result</span> = constructor.apply(newObj,args)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™é‡Œapplyæ‰§è¡Œä¹‹åï¼ŒnewObjå°±å˜æˆäº†æ ¹æ®ä¼ å…¥å‚æ•°newå’Œæ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡äº†ï¼Œè€Œresultå°±æ˜¯å¯¹è±¡çš„è¿”å›å€¼ã€‚</p>
<p><em>æœ¬äººæ°´å¹³æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡æ­£</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»åç«¯æ‹¼æ¨¡æ¿åˆ° Vue å“åº”å¼ï¼šå‰ç«¯ç•Œé¢çš„ä¸‰æ¬¡è¿›åŒ–]]></title>    <link>https://juejin.cn/post/7582232291621699622</link>    <guid>https://juejin.cn/post/7582232291621699622</guid>    <pubDate>2025-12-11T10:00:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232291621699622" data-draft-id="7582399765448523803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»åç«¯æ‹¼æ¨¡æ¿åˆ° Vue å“åº”å¼ï¼šå‰ç«¯ç•Œé¢çš„ä¸‰æ¬¡è¿›åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T10:00:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é±¼é±¼å—"/> <meta itemprop="url" content="https://juejin.cn/user/4302802432307224"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»åç«¯æ‹¼æ¨¡æ¿åˆ° Vue å“åº”å¼ï¼šå‰ç«¯ç•Œé¢çš„ä¸‰æ¬¡è¿›åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4302802432307224/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é±¼é±¼å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T10:00:08.000Z" title="Thu Dec 11 2025 10:00:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ä»åç«¯æ‹¼æ¨¡æ¿åˆ° Vue å“åº”å¼ï¼šä¸€åœºå‰ç«¯ç•Œé¢çš„è¿›åŒ–å²</strong></h2>
<p>å½“å¼€å§‹å­¦ä¹ å‰ç«¯å¼€å‘æ—¶ï¼Œå¾ˆå¤šäººéƒ½ä¼šé‡åˆ°ä¸€ä¸ªå…±åŒçš„å›°æƒ‘ï¼š<br/>
<strong>ä¸ºä»€ä¹ˆæœ‰çš„é¡¹ç›®è®©åç«¯ç›´æ¥è¿”å› HTMLï¼Ÿ</strong></p>
<p><strong>ä¸ºä»€ä¹ˆåæ¥å¤§å®¶éƒ½å¼€å§‹ä½¿ç”¨ fetch æ‹‰å– JSONï¼Ÿ</strong></p>
<p><strong>è€Œç°åœ¨åˆæµè¡Œ Vue çš„å“åº”å¼ç•Œé¢ï¼Œå‡ ä¹ä¸å†æ‰‹åŠ¨æ“ä½œ DOMï¼Ÿ</strong></p>
<p>è¿™äº›ä¸åŒçš„æ–¹å¼çœ‹ä¼¼æ‚ä¹±ï¼Œå…¶å®èƒŒåéšè—ç€ä¸€æ¡éå¸¸æ¸…æ™°çš„æŠ€æœ¯å‘å±•è·¯å¾„ã€‚<strong>åç«¯æ¸²æŸ“ â†’ å‰ç«¯æ¸²æŸ“ â†’ å“åº”å¼æ¸²æŸ“</strong>å®ƒä»¬ä¸æ˜¯ç‹¬ç«‹å‡ºç°çš„ï¼Œè€Œæ˜¯å‰ç«¯èƒ½åŠ›é€æ­¥å¢å¼ºã€åˆ†å·¥è¶Šæ¥è¶Šæ˜ç¡®åçš„å¿…ç„¶äº§ç‰©ã€‚</p>
<h2 data-id="heading-1">1. ğŸŒ± ç¬¬ä¸€é˜¶æ®µï¼šåç«¯æ‹¼æ¨¡æ¿ â€”â€” â€œå¨å¸ˆæŠŠèœåšå¥½ç«¯åˆ°ä½ æ¡Œä¸Šâ€</h2>
<p>è®©æˆ‘ä»¬ä»ä½ æœ€åˆçš„ Node.js æœåŠ¡å™¨ä»£ç è¯´èµ·ã€‚</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">"http"</span>);<span class="hljs-comment">// Node.js å†…ç½®æ¨¡å—ï¼Œç”¨äºåˆ›å»º HTTP æœåŠ¡å™¨æˆ–å®¢æˆ·ç«¯</span>
<span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">"url"</span>);<span class="hljs-comment">// ç”¨äºè§£æ URL</span>

<span class="hljs-keyword">const</span> users = [
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'123@qq.com'</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'1232@qq.com'</span>},
  { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹äº”'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'121@qq.com'</span> }
];

<span class="hljs-comment">// å°†Â `users`Â æ•°ç»„è½¬æ¢ä¸º HTML è¡¨æ ¼å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">generateUserHTML</span>(<span class="hljs-params">users</span>){
  <span class="hljs-keyword">const</span> userRows = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
    &lt;tr&gt;
      &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
      &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
      &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
    &lt;/tr&gt;
  `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-string">`
    &lt;html&gt;
      &lt;body&gt;
        &lt;h1&gt;Users&lt;/h1&gt;
        &lt;table&gt;
          &lt;tbody&gt;<span class="hljs-subst">${userRows}</span>&lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  `</span>;
}

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œä¼ å…¥è¯·æ±‚å¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span>(req.<span class="hljs-property">url</span> === <span class="hljs-string">'/'</span> || req.<span class="hljs-property">url</span> === <span class="hljs-string">'/users'</span>){
    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html;charset=utf-8'</span>);
    res.<span class="hljs-title function_">end</span>(<span class="hljs-title function_">generateUserHTML</span>(users));
  }
});

<span class="hljs-comment">//  æœåŠ¡å™¨ç›‘å¬æœ¬åœ°Â 1314 ç«¯å£ã€‚</span>
server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">1314</span>);
</code></pre>
<p>è®¿é—®1314ç«¯å£ï¼Œå¾—åˆ°çš„ç»“æœï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb1bab66f1164b5b8d360836420df839~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766052007&amp;x-signature=lRhfCNtZPiGk4Mf6bbNFq76FgFQ%3D" alt="image.png" loading="lazy"/>
è¿™æ®µä»£ç éå¸¸å…¸å‹ï¼Œä½“ç°äº†æ—©æœŸ Web çš„æ¨¡å¼ï¼š</p>
<ul>
<li>ç”¨æˆ·è®¿é—® <code>/users</code></li>
<li><strong>åç«¯è¯»å–æ•°æ®</strong></li>
<li><strong>åç«¯æ‹¼å‡º HTML</strong></li>
<li><strong>åç«¯æŠŠå®Œæ•´é¡µé¢è¿”å›ç»™æµè§ˆå™¨</strong></li>
</ul>
<p>ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆï¼š</p>
<blockquote>
<p>ç”¨æˆ·å»é¤é¦†ç‚¹èœ â†’ å¨æˆ¿ï¼ˆåç«¯ï¼‰æŠŠèœåšå¥½ â†’ ç«¯åˆ°ä½ æ¡Œä¸Šï¼ˆæµè§ˆå™¨ï¼‰</p>
</blockquote>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¸å‚ä¸ä»»ä½•åŠ å·¥ï¼Œå®ƒåªæ˜¯â€œå±•ç¤ºå·²ç»åšå¥½çš„èœâ€ã€‚</p>
<hr/>
<h3 data-id="heading-2">ğŸ” åç«¯æ‹¼æ¨¡æ¿çš„ç‰¹ç‚¹</h3>

























<table><thead><tr><th>ç‰¹ç‚¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åç«¯æŒæ§è§†å›¾</td><td>HTML æ˜¯åç«¯ç”Ÿæˆçš„</td></tr><tr><td>æ•°æ®å’Œé¡µé¢è€¦åˆåœ¨ä¸€èµ·</td><td>æ”¹æ•°æ®å°±è¦æ”¹ HTML ç»“æ„</td></tr><tr><td>åˆ·æ–°é¡µé¢è·å–æ–°æ•°æ®</td><td>æ— æ³•å±€éƒ¨æ›´æ–°</td></tr><tr><td>ç”¨æˆ·ä½“éªŒä¸€èˆ¬</td><td>äº¤äº’ä¸å¤Ÿæµç•…</td></tr></tbody></table>
<p>è¿™ç§æ–¹å¼åœ¨æ—©æœŸ Web éå¸¸æ™®éï¼Œå°±æ˜¯å…¸å‹çš„ MVCï¼š</p>
<ul>
<li><strong>Mï¼ˆModelï¼‰ï¼š</strong> æ•°æ®</li>
<li><strong>Vï¼ˆViewï¼‰:</strong> HTML æ¨¡æ¿</li>
<li><strong>Cï¼ˆControllerï¼‰ï¼š</strong> æ‹¼ HTMLï¼Œè¿”å›ç»™æµè§ˆå™¨</li>
</ul>
<blockquote>
<p>â€œåç«¯æ‹¼æ¨¡æ¿â€å°±åƒé¥­åº—é‡Œï¼š</p>
</blockquote>
<ul>
<li>å¨å¸ˆï¼ˆåç«¯ï¼‰æŠŠæ‰€æœ‰é£Ÿæï¼ˆæ•°æ®ï¼‰åšæˆèœï¼ˆHTMLï¼‰</li>
<li>é¡¾å®¢ï¼ˆæµè§ˆå™¨ï¼‰åªèƒ½è¢«åŠ¨æ¥å—</li>
</ul>
<p>è¿™å½“ç„¶èƒ½åƒé¥±ï¼Œä½†åƒå¾—ä¸çµæ´»ã€‚</p>
<p>ä¸ºäº†åƒä¸€ä¸ªå°èœï¼Œè¿˜è¦å¤§å¨é‡æ–°åšä¸€æ¡Œèœï¼</p>
<p>è¿™å°±å¯¼è‡´é¡µé¢æ¯ä¸ªå°å˜åŒ–éƒ½å¾—åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚</p>
<hr/>
<h2 data-id="heading-3">2. ğŸŒ¿ ç¬¬äºŒé˜¶æ®µï¼šå‰åç«¯åˆ†ç¦» â€”â€” â€œå¨å¸ˆåªç»™é£Ÿæï¼Œé¡¾å®¢è‡ªå·±é…èœâ€</h2>
<p>éšç€å‰ç«¯èƒ½åŠ›æå‡ï¼Œäººä»¬å‘ç°ï¼š</p>
<blockquote>
<p>è®©åç«¯æ‹¼é¡µé¢å¤ªéº»çƒ¦äº†ã€‚</p>
</blockquote>
<p>äºæ˜¯äº§ç”Ÿäº† <strong>å‰åç«¯åˆ†ç¦»</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-4">ğŸ”¸ åç«¯ä»â€œåšèœâ€å˜æˆâ€œé€é£Ÿæâ€ï¼ˆåªè¿”å› JSONï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"users"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"123@qq.com"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æå››"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1232@qq.com"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç‹äº”"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"121@qq.com"</span> <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>JSON Server ä¼šæŠŠå®ƒå˜æˆä¸€ä¸ª APIï¼š</p>
<pre><code class="hljs language-bash" lang="bash">GET http://localhost:3000/users
</code></pre>
<p>è®¿é—®è¯¥ç«¯å£å¾—åˆ°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49d14838107046a6b7df19fd185f72ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766052007&amp;x-signature=ZNd4t1og6vOJLA3VqV9nYQLLLoE%3D" alt="image.png" loading="lazy"/></p>
<p>è®¿é—®æ—¶è¿”å›çº¯æ•°æ®ï¼Œè€Œä¸å†è¿”å› HTMLã€‚</p>
<hr/>
<h3 data-id="heading-5">ğŸ”¸ å‰ç«¯æµè§ˆå™¨æ¥ç®¡â€œé…èœâ€ï¼ˆJS æ¸²æŸ“ DOMï¼‰</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>)<span class="hljs-comment">// ä½¿ç”¨æµè§ˆå™¨å†…ç½®çš„Â `fetch`()Â API å‘èµ· HTTP è¯·æ±‚ã€‚</span>
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())<span class="hljs-comment">// Â è§£æå“åº”ä¸º JSON</span>
  <span class="hljs-comment">// æ¸²æŸ“æ•°æ®åˆ°é¡µé¢</span>
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> tbody = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'tbody'</span>);
    tbody.<span class="hljs-property">innerHTML</span> = data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
      &lt;tr&gt;
        &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
        &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
        &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
      &lt;/tr&gt;
    `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
  });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>æµè§ˆå™¨è‡ªå·±ï¼š</p>
<ol>
<li>å‘é€ fetch è¯·æ±‚</li>
<li>æ‹¿åˆ° JSON</li>
<li>ç”¨ JS æ‹¼ HTML</li>
<li>å¡«å…¥é¡µé¢</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f3025d6c98440e59abb3d419195ca02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766052007&amp;x-signature=%2F6DqA43WSvX8Vs6mKbe0UgCubUA%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<p>è¿™å°±å¥½æ¯”ï¼š</p>
<ul>
<li><strong>åç«¯ï¼š</strong> ä¸åšèœï¼ŒåªæŠŠå¹²å‡€çš„é£Ÿæå‡†å¤‡å¥½ï¼ˆçº¯ JSONï¼‰</li>
<li><strong>å‰ç«¯ï¼š</strong> è‡ªå·±æŒ‰ç…§ UI è¦æ±‚æŠŠèœç‚’å‡ºæ¥ï¼ˆDOM æ“ä½œï¼‰</li>
<li><strong>åŒæ–¹åˆ†å·¥æ˜ç¡®ï¼Œäº’ä¸å¹²æ‰°</strong></li>
</ul>
<p>è¿™å°±æ˜¯ç°ä»£ Web æœ€ä¸»æµçš„æ¨¡å¼ â€”â€” <strong>å‰åç«¯åˆ†ç¦»</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸš§ ä½†é—®é¢˜æ¥äº†ï¼šDOM ç¼–ç¨‹å¤ªç—›è‹¦äº†</h2>
<p>ä½ çœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-html" lang="html">tbody.innerHTML = data.map(user =&gt; `
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
`).join('');
</code></pre>
<p>æ˜¯ä¸æ˜¯å¾ˆåƒåœ¨æ‰‹å·¥ç»„è£…ä¹é«˜ç§¯æœ¨ï¼Ÿ</p>
<p>DOM æ“ä½œä¼šé‡åˆ°å‡ ä¸ªç—›ç‚¹ï¼š</p>
<ul>
<li>ä»£ç åˆè‡­åˆé•¿</li>
<li>æ›´æ–°æ•°æ®è¦é‡æ–°æ“ä½œ DOM</li>
<li>çŠ¶æ€å¤šäº†ä¹‹åéš¾ä»¥ç»´æŠ¤</li>
<li>é¡µé¢ç»“æ„å’Œä¸šåŠ¡é€»è¾‘æ··åœ¨ä¸€èµ·</li>
</ul>
<p>å‰ç«¯å·¥ç¨‹å¸ˆå¼€å§‹è‹¦æ¼ï¼š</p>
<blockquote>
<p>æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼ï¼Œè®©é¡µé¢<strong>è‡ªåŠ¨</strong>æ ¹æ®æ•°æ®å˜åŒ–ï¼Ÿ</p>
</blockquote>
<p>äºæ˜¯ï¼ŒVueã€Reactã€Angular å‡ºç°äº†ã€‚</p>
<hr/>
<h2 data-id="heading-7">3. ğŸŒ³ ç¬¬ä¸‰é˜¶æ®µï¼šVue å“åº”å¼æ•°æ®é©±åŠ¨ â€”â€” â€œåªè¦é£Ÿæå˜åŒ–ï¼Œé¤ç›˜è‡ªåŠ¨å˜åŒ–â€</h2>
<p>Vue çš„æ ¸å¿ƒç†å¿µï¼š</p>
<blockquote>
<p>ref å“åº”å¼æ•°æ®ï¼Œå°†æ•°æ®åŒ…è£…æˆå“åº”å¼å¯¹è±¡<br/>
ç•Œé¢ç”± {{}} v-for è¿›è¡Œæ•°æ®é©±åŠ¨<br/>
ä¸“æ³¨äºä¸šåŠ¡ï¼Œæ•°æ®çš„å˜åŒ–è€Œä¸æ˜¯ DOM</p>
</blockquote>
<p>è¿™æ˜¯å‰ç«¯çš„ç»ˆææ¨¡å¼ â€”â€” <strong>å“åº”å¼æ¸²æŸ“</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-8">ğŸ”¥ Vue çš„æ€æƒ³</h3>
<p>Vue åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><strong>æŠŠå˜é‡å˜æˆâ€œä¼šè¢«è¿½è¸ªçš„æ•°æ®â€ï¼ˆref / reactiveï¼‰</strong></li>
<li><strong>æŠŠ HTML å˜æˆâ€œæ¨¡æ¿â€ï¼ˆç”¨ {{ }}ã€v-forï¼‰</strong></li>
<li><strong>è®©æ•°æ®å˜åŒ–è‡ªåŠ¨ä¿®æ”¹ DOM</strong></li>
</ol>
<p>ä½ åªéœ€è¦åƒå†™ä¼ªä»£ç ä¸€æ ·æè¿°ä¸šåŠ¡ï¼š</p>
<pre><code class="hljs language-vue3" lang="vue3">&lt;script setup&gt;
import {
  ref,
  onMounted // æŒ‚è½½ä¹‹å
} from 'vue'
const users = ref([]);

// åœ¨æŒ‚è½½åè·å–æ•°æ®

onMounted(() =&gt;{
   fetch('http://localhost:3000/users')
   .then(res =&gt; res.json())
   .then(data =&gt; {
    users.value = data;
   })
})
&lt;/script&gt;
</code></pre>
<p>è€Œé¡µé¢æ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;tr v-for="u in users" :key="u.id"&gt;
  &lt;td&gt;{{ u.id }}&lt;/td&gt;
  &lt;td&gt;{{ u.name }}&lt;/td&gt;
  &lt;td&gt;{{ u.email }}&lt;/td&gt;
&lt;/tr&gt;
</code></pre>
<p>å¾—åˆ°çš„ç»“æœä¸ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c5fdcdb30f9410786ef7521a2c51768~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766052007&amp;x-signature=0QHgk5T8NX792qL6gxJKKGyuu%2Fc%3D" alt="image.png" loading="lazy"/>
ä½ ä¸å†éœ€è¦ï¼š</p>
<ul>
<li>querySelector</li>
<li>innerHTML</li>
<li>DOM æ“ä½œ</li>
</ul>
<p>Vue ä¼šè‡ªå·±å®Œæˆè¿™äº›å·¥ä½œã€‚</p>
<hr/>
<p>å¦‚æœ ä¼ ç»Ÿ DOMï¼š</p>
<blockquote>
<p>ä½ è¦æŠŠæ‰€æœ‰é£Ÿææ‰‹åŠ¨æ‘†åˆ°ç›˜å­é‡Œã€‚</p>
</blockquote>
<p>é‚£ä¹ˆVueï¼š</p>
<blockquote>
<p>ä½ åªéœ€è¦æ”¾é£Ÿæåˆ°ç›˜å­é‡Œï¼ˆä¿®æ”¹æ•°æ®ï¼‰ï¼Œ<br/>
é¤ç›˜çš„æ‘†ç›˜ä¼šè‡ªåŠ¨å˜åŒ–ï¼ˆç•Œé¢è‡ªåŠ¨æ›´æ–°ï¼‰ã€‚</p>
</blockquote>
<p>æ¯”å¦‚ä½ ä¿®æ”¹äº†æ•°ç»„ï¼š</p>
<pre><code class="hljs language-php" lang="php">users.value.<span class="hljs-title function_ invoke__">push</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"æ–°ç”¨æˆ·"</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">"xxx@qq.com"</span> });
</code></pre>
<p>é¡µé¢ä¼šè‡ªåŠ¨æ–°å¢ä¸€è¡Œã€‚</p>
<p>ä½ åˆ é™¤ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">users.value.splice(1, 1)<span class="hljs-comment">;</span>
</code></pre>
<p>é¡µé¢è‡ªåŠ¨å°‘ä¸€è¡Œã€‚</p>
<p>ä½ å®Œå…¨ä¸ç”¨åŠ¨ DOMã€‚</p>
<hr/>
<h2 data-id="heading-9">4. ğŸŒ² ä¸‰ä¸ªé˜¶æ®µçš„å¯¹æ¯”</h2>





























<table><thead><tr><th>é˜¶æ®µ</th><th>æ•°æ®ä»å“ªé‡Œæ¥ï¼Ÿ</th><th>è°æ¸²æŸ“ç•Œé¢ï¼Ÿ</th><th>æŠ€æœ¯ç‰¹å¾</th></tr></thead><tbody><tr><td>1. åç«¯æ¸²æŸ“ï¼ˆserver.jsï¼‰</td><td>åç«¯</td><td><strong>åç«¯æ‹¼ HTML</strong></td><td>æ¨¡æ¿å­—ç¬¦ä¸²ã€MVC</td></tr><tr><td>2. å‰ç«¯æ¸²æŸ“ï¼ˆindex.html + db.jsonï¼‰</td><td>API / JSON</td><td><strong>å‰ç«¯ JS DOM</strong></td><td>Fetchã€innerHTML</td></tr><tr><td>3. Vue å“åº”å¼æ¸²æŸ“</td><td>API / JSON</td><td><strong>Vue è‡ªåŠ¨æ¸²æŸ“</strong></td><td>refã€{{}}ã€v-for</td></tr></tbody></table>
<p>æœ¬è´¨æ˜¯æ¸²æŸ“è´£ä»»çš„è¿ç§»ï¼š</p>
<blockquote>
<p><strong>åç«¯æ¸²æŸ“ â†’ å‰ç«¯æ‰‹åŠ¨æ¸²æŸ“ â†’ å‰ç«¯è‡ªåŠ¨æ¸²æŸ“</strong></p>
</blockquote>
<p>æœ€ç»ˆç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š</p>
<blockquote>
<p>è®©å¼€å‘è€…æŠŠæ—¶é—´èŠ±åœ¨ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯é‡å¤æ€§ DOM æ“ä½œä¸Šã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">5. ğŸ ä¸ºä»€ä¹ˆç°ä»£å¼€å‘å¿…é¡»ç”¨å‰åç«¯åˆ†ç¦» + Vueï¼Ÿ</h2>
<p>æœ€åï¼Œè®©æˆ‘ä»¬ç”¨ä¸€å¥æœ€é€šä¿—çš„è¯æ€»ç»“ï¼š</p>
<h4 data-id="heading-11">åç«¯æ‹¼é¡µé¢åƒâ€œé¥­åº—å¨å¸ˆåŒ…åŠä¸€åˆ‡â€ï¼Œæ•ˆç‡ä½ã€‚</h4>
<h4 data-id="heading-12">å‰ç«¯æ‰‹åŠ¨æ‹¼ DOM åƒâ€œè‡ªå·±åšé¥­â€ï¼Œç´¯åˆ°çˆ†ã€‚</h4>
<h4 data-id="heading-13">Vue åƒâ€œæ™ºèƒ½å¨æˆ¿â€ï¼Œä½ åªéœ€è¦å‡†å¤‡é£Ÿæï¼ˆæ•°æ®ï¼‰ã€‚</h4>
<hr/>
<h3 data-id="heading-14">Vue çš„ä¸‰å¤§ä¼˜åŠ¿</h3>
<h4 data-id="heading-15">1ï¼‰æå¤§å‡å°‘å¼€å‘æˆæœ¬</h4>
<p>ä¸šåŠ¡é€»è¾‘å˜ç®€å•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">users.value</span> = newUsers<span class="hljs-comment">;</span>
</code></pre>
<p>å°±å¤Ÿäº†ï¼ŒUI è‡ªåŠ¨æ›´æ–°ã€‚</p>
<h4 data-id="heading-16">2ï¼‰æ›´é€‚åˆå¤§å‹é¡¹ç›®</h4>
<ul>
<li>ç»„ä»¶åŒ–</li>
<li>æ¨¡å—åŒ–</li>
<li>çŠ¶æ€é›†ä¸­ç®¡ç†</li>
<li>å¯ç»´æŠ¤æ€§é«˜</li>
</ul>
<h4 data-id="heading-17">3ï¼‰ç”¨æˆ·ä½“éªŒæ›´å¥½</h4>
<ul>
<li>é¡µé¢ä¸åˆ·æ–°</li>
<li>æ›´æ–°å±€éƒ¨</li>
<li>å“åº”è¿…é€Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-18">6. ğŸŒ æ–‡ç« æ€»ç»“ï¼šä»â€œå¨æˆ¿â€çœ‹å‰ç«¯çš„è¿›åŒ–å†å²</h2>
<p>æœ€ç»ˆï¼Œæˆ‘ä»¬å›åˆ°å¼€å¤´çš„ç±»æ¯”ï¼š</p>





















<table><thead><tr><th>é˜¶æ®µ</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td>ç¬¬ä¸€é˜¶æ®µï¼šåç«¯æ‹¼æ¨¡æ¿</td><td>å¨æˆ¿ï¼ˆåç«¯ï¼‰åšå¥½æ‰€æœ‰èœï¼Œç›´æ¥ç«¯ç»™ä½ </td></tr><tr><td>ç¬¬äºŒé˜¶æ®µï¼šå‰ç«¯æ¸²æŸ“</td><td>å¨æˆ¿åªæä¾›é£Ÿæï¼Œä½ è‡ªå·±ç‚’</td></tr><tr><td>ç¬¬ä¸‰é˜¶æ®µï¼šVue å“åº”å¼</td><td>æ™ºèƒ½å¨æˆ¿ï¼šåªè¦é£Ÿæå˜ï¼Œèœè‡ªåŠ¨åšå¥½</td></tr></tbody></table>
<p>å‰ç«¯æŠ€æœ¯æ¯ä¸€æ¬¡è¿›åŒ–ï¼Œéƒ½å›´ç»•åŒä¸€ä¸ªæ ¸å¿ƒç›®æ ‡ï¼š</p>
<blockquote>
<p><strong>è®©å¼€å‘è€…æ›´è½»æ¾ï¼Œè®©ç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</strong></p>
</blockquote>
<p>è€Œä½ ä¸Šä¼ çš„ä»£ç æ­£å¥½æ„æˆäº†ä¸€ä¸ªå®Œç¾çš„æ¼”ç¤ºé“¾è·¯ï¼š<br/>
ä»æœ€åŸå§‹çš„åç«¯æ‹¼æ¨¡æ¿ï¼Œåˆ° fetch DOM æ¸²æŸ“ï¼Œå†åˆ° Vue å“åº”å¼æ¸²æŸ“ã€‚</p>
<p>ç†è§£äº†è¿™ä¸‰æ­¥ï¼Œä½ å°±ç†è§£äº†æ•´ä¸ªç°ä»£å‰ç«¯æŠ€æœ¯çš„å‘å±•è„‰ç»œã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[KSCrash å®ç°æœºåˆ¶æ·±åº¦åˆ†æ]]></title>    <link>https://juejin.cn/post/7582182817108983834</link>    <guid>https://juejin.cn/post/7582182817108983834</guid>    <pubDate>2025-12-11T09:49:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582182817108983834" data-draft-id="7582399765448654875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="KSCrash å®ç°æœºåˆ¶æ·±åº¦åˆ†æ"/> <meta itemprop="keywords" content="iOS,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2025-12-11T09:49:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mumuWorld"/> <meta itemprop="url" content="https://juejin.cn/user/3843548380404679"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            KSCrash å®ç°æœºåˆ¶æ·±åº¦åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548380404679/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mumuWorld
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:49:39.000Z" title="Thu Dec 11 2025 09:49:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»35åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸºäºé¡¹ç›®é›†æˆçš„ KSCrash æ¡†æ¶æºç åˆ†æï¼Œé‡ç‚¹æ·±å…¥åº•å±‚å®ç°æœºåˆ¶</p>
</blockquote>
<h2 data-id="heading-0">ç›®å½•</h2>
<ul>
<li><a href="#1-%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" title="#1-%E6%A6%82%E8%BF%B0%E4%B8%8E%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">1. æ¦‚è¿°ä¸åŸºæœ¬åŸç†</a></li>
<li><a href="#2-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1" title="#2-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1">2. æ•´ä½“æ¶æ„è®¾è®¡</a></li>
<li><a href="#3-%E6%A0%B8%E5%BF%83%E7%9B%91%E6%8E%A7%E5%99%A8%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90" title="#3-%E6%A0%B8%E5%BF%83%E7%9B%91%E6%8E%A7%E5%99%A8%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90">3. æ ¸å¿ƒç›‘æ§å™¨æºç åˆ†æ</a></li>
<li><a href="#4-%E5%B4%A9%E6%BA%83%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E6%9C%BA%E5%88%B6" title="#4-%E5%B4%A9%E6%BA%83%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E6%9C%BA%E5%88%B6">4. å´©æºƒä¿¡æ¯æ”¶é›†æœºåˆ¶</a></li>
<li><a href="#5-%E5%B4%A9%E6%BA%83%E6%8A%A5%E5%91%8A%E7%94%9F%E6%88%90%E6%B5%81%E7%A8%8B" title="#5-%E5%B4%A9%E6%BA%83%E6%8A%A5%E5%91%8A%E7%94%9F%E6%88%90%E6%B5%81%E7%A8%8B">5. å´©æºƒæŠ¥å‘Šç”Ÿæˆæµç¨‹</a></li>
<li><a href="#6-%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8" title="#6-%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8">6. é…ç½®ä¸ä½¿ç”¨</a></li>
<li><a href="#7-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E5%BC%82%E6%AD%A5%E5%AE%89%E5%85%A8" title="#7-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E4%B8%8E%E5%BC%82%E6%AD%A5%E5%AE%89%E5%85%A8">7. çº¿ç¨‹å®‰å…¨ä¸å¼‚æ­¥å®‰å…¨</a></li>
<li><a href="#8-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" title="#8-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">8. æœ€ä½³å®è·µ</a></li>
</ul>
<hr/>
<h2 data-id="heading-1">1. æ¦‚è¿°ä¸åŸºæœ¬åŸç†</h2>
<h3 data-id="heading-2">1.1 KSCrash æ˜¯ä»€ä¹ˆ</h3>
<p>KSCrash æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ iOS/macOS å´©æºƒæŠ¥å‘Šæ¡†æ¶ï¼Œèƒ½å¤Ÿæ•è·å¤šç§ç±»å‹çš„å´©æºƒå¹¶ç”Ÿæˆè¯¦ç»†çš„è¯Šæ–­æŠ¥å‘Šã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>å®Œæ•´æ€§</strong>ï¼šæ•è·å‡ ä¹æ‰€æœ‰ç±»å‹çš„å´©æºƒï¼ˆMach å¼‚å¸¸ã€Unix Signalã€NSExceptionã€C++ å¼‚å¸¸ç­‰ï¼‰</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šåœ¨å´©æºƒå¤„ç†ä¸­åªä½¿ç”¨å¼‚æ­¥å®‰å…¨çš„å‡½æ•°ï¼Œé¿å…äºŒæ¬¡å´©æºƒ</li>
<li><strong>è¯¦ç»†æ€§</strong>ï¼šæ”¶é›†ä¸°å¯Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆçº¿ç¨‹å †æ ˆã€å¯„å­˜å™¨ã€å†…å­˜ã€ç³»ç»ŸçŠ¶æ€ç­‰ï¼‰</li>
<li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒå¤šç§æŠ¥å‘Šæ ¼å¼å’Œè‡ªå®šä¹‰æ‰©å±•</li>
</ul>
<h3 data-id="heading-3">1.2 å´©æºƒæ•è·çš„åŸºæœ¬åŸç†</h3>
<p>iOS/macOS ç³»ç»Ÿä¸­çš„å´©æºƒæŒ‰ç…§å¤„ç†å±‚çº§ä»åº•åˆ°é«˜åˆ†ä¸ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åº”ç”¨å±‚ (Application Layer)           â”‚
â”‚  - NSException                       â”‚  â† æœ€é«˜å±‚ï¼ŒObjective-C å¼‚å¸¸
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ (æœªæ•è·åˆ™ç»§ç»­å‘ä¸‹)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  C++ å¼‚å¸¸å±‚                           â”‚
â”‚  - C++ Exception (std::exception)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¿¡å·å±‚ (Signal Layer)               â”‚
â”‚  - SIGSEGV, SIGBUS, SIGABRT...      â”‚  â† POSIX ä¿¡å·
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mach å¼‚å¸¸å±‚ (Mach Exception)        â”‚
â”‚  - EXC_BAD_ACCESS, EXC_CRASH...     â”‚  â† æœ€åº•å±‚ï¼Œå†…æ ¸çº§å¼‚å¸¸
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>Mach å¼‚å¸¸æ˜¯æœ€åº•å±‚çš„å¼‚å¸¸æœºåˆ¶ï¼Œå†…æ ¸ä¼šå…ˆäº§ç”Ÿ Mach å¼‚å¸¸</li>
<li>å¦‚æœ Mach å¼‚å¸¸æœªè¢«å¤„ç†ï¼Œå†…æ ¸ä¼šå°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„ Unix Signal</li>
<li>Signal å¦‚æœæœªè¢«å¤„ç†ï¼Œå¯¹äºæŸäº›ä¿¡å·ï¼ˆå¦‚ SIGABRTï¼‰ï¼Œå¯èƒ½æ¥è‡ªäºæœªæ•è·çš„ NSException</li>
</ul>
<h3 data-id="heading-4">1.3 ä¸ç³»ç»Ÿå´©æºƒæŠ¥å‘Šçš„åŒºåˆ«</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>KSCrash</th><th>ç³»ç»Ÿå´©æºƒæŠ¥å‘Š</th></tr></thead><tbody><tr><td>å®æ—¶æ€§</td><td>ç«‹å³å¯ç”¨</td><td>éœ€è¦ç”¨æˆ·åŒæ„ä¸Šä¼ ï¼Œæœ‰å»¶è¿Ÿ</td></tr><tr><td>è‡ªå®šä¹‰ä¿¡æ¯</td><td>æ”¯æŒæ·»åŠ ä¸Šä¸‹æ–‡ä¿¡æ¯</td><td>ä¸æ”¯æŒ</td></tr><tr><td>æ§åˆ¶æƒ</td><td>å®Œå…¨æ§åˆ¶æŠ¥å‘Šæ ¼å¼å’Œä¸Šä¼ </td><td>ç”±ç³»ç»Ÿæ§åˆ¶</td></tr><tr><td>éšç§</td><td>æ•°æ®ç•™åœ¨åº”ç”¨å†…</td><td>ä¸Šä¼ åˆ° Apple æœåŠ¡å™¨</td></tr><tr><td>ç¬¦å·åŒ–</td><td>å¯ç¦»çº¿ç¬¦å·åŒ–</td><td>Apple è‡ªåŠ¨ç¬¦å·åŒ–</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">2. æ•´ä½“æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-6">2.1 æ¨¡å—å±‚æ¬¡ç»“æ„</h3>
<p>KSCrash é‡‡ç”¨åˆ†å±‚è®¾è®¡ï¼Œå„æ¨¡å—èŒè´£æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   KSCrashInstallations                      â”‚
â”‚  å®‰è£…é…ç½®å±‚ï¼šæä¾›å¼€ç®±å³ç”¨çš„å®‰è£…æ–¹å¼                           â”‚
â”‚  - KSCrashInstallationConsole (æ§åˆ¶å°è¾“å‡º)                   â”‚
â”‚  - KSCrashInstallationEmail (é‚®ä»¶å‘é€)                       â”‚
â”‚  - KSCrashInstallationStandard (HTTP ä¸Šä¼ )                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      KSCrash Core                           â”‚
â”‚  æ ¸å¿ƒåè°ƒå±‚ï¼šKSCrash<span class="hljs-selector-class">.h</span>/m, KSCrashC<span class="hljs-selector-class">.h</span>/c                      â”‚
â”‚  - é…ç½®ç®¡ç† (KSCrashConfiguration)                          â”‚
â”‚  - ç”Ÿå‘½å‘¨æœŸæ§åˆ¶                                              â”‚
â”‚  - ç›‘æ§å™¨åè°ƒ                                                â”‚
â”‚  - æŠ¥å‘Šå­˜å‚¨ (KSCrashReportStore)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  KSCrashRecordingCore                       â”‚
â”‚  ç›‘æ§æ ¸å¿ƒå±‚ï¼šå®ç°å„ç§å´©æºƒç›‘æ§å™¨                               â”‚
â”‚  - KSCrashMonitor (ç›‘æ§å™¨æŠ½è±¡æ¥å£)                          â”‚
â”‚  - KSCrashMonitorContext (å´©æºƒä¸Šä¸‹æ–‡)                       â”‚
â”‚  - KSCrashMonitorHelper (è¾…åŠ©å·¥å…·)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Monitors (ç›‘æ§å™¨)                        â”‚
â”‚  å…·ä½“ç›‘æ§å™¨å®ç°ï¼š                                            â”‚
â”‚  â”œâ”€ KSCrashMonitor_MachException (Mach å¼‚å¸¸)               â”‚
â”‚  â”œâ”€ KSCrashMonitor_Signal (Unix ä¿¡å·)                      â”‚
â”‚  â”œâ”€ KSCrashMonitor_NSException (ObjC å¼‚å¸¸)                 â”‚
â”‚  â”œâ”€ KSCrashMonitor_CPPException (C++ å¼‚å¸¸)                 â”‚
â”‚  â”œâ”€ KSCrashMonitor_Deadlock (æ­»é”æ£€æµ‹)                      â”‚
â”‚  â”œâ”€ KSCrashMonitor_Zombie (åƒµå°¸å¯¹è±¡)                        â”‚
â”‚  â”œâ”€ KSCrashMonitor_Memory (å†…å­˜ç›‘æ§)                        â”‚
â”‚  â””â”€ KSCrashMonitor_AppState (åº”ç”¨çŠ¶æ€)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              KSCrashReportC (æŠ¥å‘Šç”Ÿæˆ)                       â”‚
â”‚  å´©æºƒæŠ¥å‘Šç”Ÿæˆï¼š                                              â”‚
â”‚  - KSCrashReportWriter (JSON å†™å…¥å™¨)                        â”‚
â”‚  - ç³»ç»Ÿä¿¡æ¯æ”¶é›†                                              â”‚
â”‚  - çº¿ç¨‹å †æ ˆéå†                                              â”‚
â”‚  - Binary Images æå–                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Filters &amp; Sinks (è¿‡æ»¤ä¸è¾“å‡º)                    â”‚
â”‚  æŠ¥å‘Šåå¤„ç†ï¼š                                                â”‚
â”‚  - KSCrashReportFilter (æŠ¥å‘Šè¿‡æ»¤å™¨é“¾)                        â”‚
â”‚  - KSCrashReportSink (æŠ¥å‘Šè¾“å‡ºç›®æ ‡)                          â”‚
â”‚  - æ ¼å¼è½¬æ¢ (JSON, AppleFmt, GZip...)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-7">2.2 æ ¸å¿ƒæ•°æ®ç»“æ„</h3>
<h4 data-id="heading-8">2.2.1 KSCrashMonitorAPI - ç›‘æ§å™¨æ¥å£</h4>
<p>ä½ç½®ï¼š<code>KSCrashRecordingCore/include/KSCrashMonitor.h:44-51</code></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *(*monitorId)(<span class="hljs-type">void</span>);                                    <span class="hljs-comment">// ç›‘æ§å™¨å”¯ä¸€æ ‡è¯†</span>
    KSCrashMonitorFlag (*monitorFlags)(<span class="hljs-type">void</span>);                         <span class="hljs-comment">// ç›‘æ§å™¨æ ‡å¿—ä½</span>
    <span class="hljs-type">void</span> (*setEnabled)(<span class="hljs-type">bool</span> isEnabled);                               <span class="hljs-comment">// å¯ç”¨/ç¦ç”¨</span>
    <span class="hljs-type">bool</span> (*isEnabled)(<span class="hljs-type">void</span>);                                          <span class="hljs-comment">// çŠ¶æ€æŸ¥è¯¢</span>
    <span class="hljs-type">void</span> (*addContextualInfoToEvent)(<span class="hljs-keyword">struct</span> KSCrash_MonitorContext *); <span class="hljs-comment">// æ·»åŠ ä¸Šä¸‹æ–‡</span>
    <span class="hljs-type">void</span> (*notifyPostSystemEnable)(<span class="hljs-type">void</span>);                             <span class="hljs-comment">// ç³»ç»Ÿå¯ç”¨åé€šçŸ¥</span>
} KSCrashMonitorAPI;
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>é‡‡ç”¨å‡½æ•°æŒ‡é’ˆè¡¨ï¼ˆç±»ä¼¼ C++ è™šå‡½æ•°è¡¨ï¼‰ï¼Œå®ç°å¤šæ€</li>
<li>æ‰€æœ‰ç›‘æ§å™¨å®ç°ç»Ÿä¸€æ¥å£ï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†</li>
<li>è½»é‡çº§è®¾è®¡ï¼Œç¬¦åˆ C è¯­è¨€å¼‚æ­¥å®‰å…¨è¦æ±‚</li>
</ul>
<h4 data-id="heading-9">2.2.2 KSCrash_MonitorContext - å´©æºƒä¸Šä¸‹æ–‡</h4>
<p>ä½ç½®ï¼š<code>KSCrashRecordingCore/include/KSCrashMonitorContext.h:40-200+</code></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">KSCrash_MonitorContext</span> {</span>
    <span class="hljs-comment">// === åŸºç¡€ä¿¡æ¯ ===</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *eventID;                    <span class="hljs-comment">// å”¯ä¸€äº‹ä»¶ ID (UUID)</span>
    <span class="hljs-type">bool</span> currentSnapshotUserReported;       <span class="hljs-comment">// æ˜¯å¦ç”¨æˆ·ä¸»åŠ¨ä¸ŠæŠ¥</span>
    <span class="hljs-type">bool</span> requiresAsyncSafety;               <span class="hljs-comment">// æ˜¯å¦è¦æ±‚å¼‚æ­¥å®‰å…¨</span>
    <span class="hljs-type">bool</span> handlingCrash;                     <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨å¤„ç†å´©æºƒ</span>
    <span class="hljs-type">bool</span> crashedDuringCrashHandling;        <span class="hljs-comment">// å´©æºƒå¤„ç†ä¸­æ˜¯å¦å†æ¬¡å´©æºƒ</span>
    <span class="hljs-type">bool</span> registersAreValid;                 <span class="hljs-comment">// å¯„å­˜å™¨ä¿¡æ¯æ˜¯å¦æœ‰æ•ˆ</span>
    <span class="hljs-type">bool</span> isStackOverflow;                   <span class="hljs-comment">// æ˜¯å¦æ ˆæº¢å‡º</span>

    <span class="hljs-comment">// === å´©æºƒç°åœº ===</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">KSMachineContext</span> *<span class="hljs-title">offendingMachineContext</span>;</span>  <span class="hljs-comment">// æœºå™¨ä¸Šä¸‹æ–‡ï¼ˆå¯„å­˜å™¨ç­‰ï¼‰</span>
    <span class="hljs-type">uintptr_t</span> faultAddress;                            <span class="hljs-comment">// æ•…éšœåœ°å€</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *monitorId;                             <span class="hljs-comment">// è§¦å‘çš„ç›‘æ§å™¨ ID</span>
    KSCrashMonitorFlag monitorFlags;                   <span class="hljs-comment">// ç›‘æ§å™¨æ ‡å¿—</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *exceptionName;                         <span class="hljs-comment">// å¼‚å¸¸åç§°</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *crashReason;                           <span class="hljs-comment">// å´©æºƒåŸå› </span>
    <span class="hljs-type">void</span> *stackCursor;                                 <span class="hljs-comment">// å †æ ˆæ¸¸æ ‡ (KSStackCursor*)</span>

    <span class="hljs-comment">// === å¼‚å¸¸ç±»å‹ç‰¹å®šä¿¡æ¯ ===</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
        <span class="hljs-type">int</span> type;                          <span class="hljs-comment">// Mach å¼‚å¸¸ç±»å‹</span>
        <span class="hljs-type">int64_t</span> code;                      <span class="hljs-comment">// å¼‚å¸¸ä»£ç </span>
        <span class="hljs-type">int64_t</span> subcode;                   <span class="hljs-comment">// å­ä»£ç </span>
    } mach;

    <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name;                  <span class="hljs-comment">// NSException åç§°</span>
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *userInfo;              <span class="hljs-comment">// userInfo å­—ç¬¦ä¸²</span>
    } NSException;

    <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
        <span class="hljs-type">const</span> <span class="hljs-type">void</span> *userContext;           <span class="hljs-comment">// ç”¨æˆ·ä¸Šä¸‹æ–‡</span>
        <span class="hljs-type">int</span> signum;                        <span class="hljs-comment">// ä¿¡å·ç¼–å·</span>
        <span class="hljs-type">int</span> sigcode;                       <span class="hljs-comment">// ä¿¡å·ä»£ç </span>
    } signal;

    <span class="hljs-comment">// === åº”ç”¨çŠ¶æ€ ===</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
        <span class="hljs-type">double</span> activeDurationSinceLastCrash;       <span class="hljs-comment">// è·ä¸Šæ¬¡å´©æºƒçš„æ´»è·ƒæ—¶é•¿</span>
        <span class="hljs-type">double</span> backgroundDurationSinceLastCrash;   <span class="hljs-comment">// è·ä¸Šæ¬¡å´©æºƒçš„åå°æ—¶é•¿</span>
        <span class="hljs-type">int</span> launchesSinceLastCrash;                <span class="hljs-comment">// è·ä¸Šæ¬¡å´©æºƒçš„å¯åŠ¨æ¬¡æ•°</span>
        <span class="hljs-type">int</span> sessionsSinceLastCrash;                <span class="hljs-comment">// è·ä¸Šæ¬¡å´©æºƒçš„ä¼šè¯æ¬¡æ•°</span>
        <span class="hljs-comment">// ... æ›´å¤šçŠ¶æ€å­—æ®µ</span>
        <span class="hljs-type">bool</span> applicationIsActive;                  <span class="hljs-comment">// åº”ç”¨æ˜¯å¦æ´»è·ƒ</span>
        <span class="hljs-type">bool</span> applicationIsInForeground;            <span class="hljs-comment">// åº”ç”¨æ˜¯å¦åœ¨å‰å°</span>
    } AppState;

    <span class="hljs-comment">// === ç³»ç»Ÿä¿¡æ¯ ===</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *systemName;
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *systemVersion;
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *machine;
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *model;
        <span class="hljs-comment">// ... æ›´å¤šç³»ç»Ÿå­—æ®µ</span>
    } System;
} KSCrash_MonitorContext;
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ struct åµŒå¥—ç»„ç»‡ä¸åŒç±»å‹çš„ä¿¡æ¯</li>
<li>æ‰€æœ‰å­—æ®µéƒ½æ˜¯å¼‚æ­¥å®‰å…¨çš„ï¼ˆæŒ‡é’ˆæŒ‡å‘é¢„åˆ†é…æˆ–æ ˆä¸Šå†…å­˜ï¼‰</li>
<li>æ”¯æŒå¤šç§å¼‚å¸¸ç±»å‹ï¼Œæ¯ç§ç±»å‹æœ‰ä¸“å±å­—æ®µ</li>
</ul>
<hr/>
<h2 data-id="heading-10">3. æ ¸å¿ƒç›‘æ§å™¨æºç åˆ†æ</h2>
<h3 data-id="heading-11">3.1 Mach Exception ç›‘æ§å™¨</h3>
<blockquote>
<p>æºç ä½ç½®ï¼š<code>KSCrashRecording/Monitors/KSCrashMonitor_MachException.c</code></p>
</blockquote>
<p>Mach å¼‚å¸¸æ˜¯ iOS/macOS æœ€åº•å±‚çš„å¼‚å¸¸æœºåˆ¶ï¼Œèƒ½æ•è·å‡ ä¹æ‰€æœ‰ç±»å‹çš„å´©æºƒã€‚</p>
<h4 data-id="heading-12">3.1.1 æ ¸å¿ƒåŸç†</h4>
<p><strong>Mach å¼‚å¸¸ç«¯å£æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ª taskï¼ˆè¿›ç¨‹ï¼‰å’Œ threadï¼ˆçº¿ç¨‹ï¼‰éƒ½æœ‰ä¸€ä¸ªå¼‚å¸¸ç«¯å£ï¼ˆexception portï¼‰</li>
<li>å½“å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå†…æ ¸ä¼šå‘è¿™ä¸ªç«¯å£å‘é€ Mach æ¶ˆæ¯</li>
<li>é€šè¿‡è‡ªå®šä¹‰å¼‚å¸¸ç«¯å£ï¼Œå¯ä»¥æ¥ç®¡å¼‚å¸¸å¤„ç†</li>
</ul>
<h4 data-id="heading-13">3.1.2 å…³é”®æ•°æ®ç»“æ„</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// Mach å¼‚å¸¸æ¶ˆæ¯ç»“æ„ï¼ˆæºç ï¼š86-103 è¡Œï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack(4)</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">mach_msg_header_t</span> header;              <span class="hljs-comment">// Mach æ¶ˆæ¯å¤´</span>
    <span class="hljs-type">mach_msg_body_t</span> body;                  <span class="hljs-comment">// æ¶ˆæ¯ä½“</span>
    <span class="hljs-type">mach_msg_port_descriptor_t</span> thread;     <span class="hljs-comment">// è§¦å‘å¼‚å¸¸çš„çº¿ç¨‹</span>
    <span class="hljs-type">mach_msg_port_descriptor_t</span> task;       <span class="hljs-comment">// è§¦å‘å¼‚å¸¸çš„ä»»åŠ¡</span>
    NDR_record_t NDR;                      <span class="hljs-comment">// ç½‘ç»œæ•°æ®è¡¨ç¤º</span>
    <span class="hljs-type">exception_type_t</span> exception;            <span class="hljs-comment">// å¼‚å¸¸ç±»å‹</span>
    <span class="hljs-type">mach_msg_type_number_t</span> codeCount;      <span class="hljs-comment">// ä»£ç æ•°é‡</span>
    <span class="hljs-type">mach_exception_data_type_t</span> code[<span class="hljs-number">0</span>];    <span class="hljs-comment">// å¼‚å¸¸ä»£ç å’Œå­ä»£ç </span>
    <span class="hljs-type">char</span> padding[<span class="hljs-number">512</span>];                     <span class="hljs-comment">// å¡«å……é¿å… RCV_TOO_LARGE</span>
} MachExceptionMessage;
<span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack()</span>
</code></pre>
<p><strong>å…³é”®å­—æ®µè§£é‡Š</strong>ï¼š</p>
<ul>
<li><code>exception</code>ï¼šå¼‚å¸¸ç±»å‹ï¼Œå¦‚ <code>EXC_BAD_ACCESS</code>ï¼ˆé‡æŒ‡é’ˆï¼‰ã€<code>EXC_BAD_INSTRUCTION</code>ï¼ˆéæ³•æŒ‡ä»¤ï¼‰</li>
<li><code>code[0]</code>ï¼šå¼‚å¸¸ä»£ç ï¼Œå¦‚å¯¹äº <code>EXC_BAD_ACCESS</code>ï¼Œè¡¨ç¤ºæ˜¯ <code>KERN_INVALID_ADDRESS</code>ï¼ˆæ— æ•ˆåœ°å€ï¼‰è¿˜æ˜¯ <code>KERN_PROTECTION_FAILURE</code>ï¼ˆæƒé™é”™è¯¯ï¼‰</li>
<li><code>code[1]</code>ï¼šå­ä»£ç ï¼Œé€šå¸¸æ˜¯è§¦å‘å¼‚å¸¸çš„å†…å­˜åœ°å€</li>
</ul>
<h4 data-id="heading-14">3.1.3 å®‰è£…æµç¨‹</h4>
<p><strong>å…¨å±€å˜é‡</strong>ï¼ˆæºç ï¼š125-155 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">bool</span> g_isEnabled = <span class="hljs-literal">false</span>;                <span class="hljs-comment">// æ˜¯å¦å¯ç”¨</span>
<span class="hljs-type">static</span> <span class="hljs-type">mach_port_t</span> g_exceptionPort = MACH_PORT_NULL;     <span class="hljs-comment">// æˆ‘ä»¬çš„å¼‚å¸¸ç«¯å£</span>
<span class="hljs-type">static</span> <span class="hljs-type">pthread_t</span> g_primaryPThread;                       <span class="hljs-comment">// ä¸»å¼‚å¸¸å¤„ç†çº¿ç¨‹</span>
<span class="hljs-type">static</span> <span class="hljs-type">thread_t</span> g_primaryMachThread;
<span class="hljs-type">static</span> <span class="hljs-type">pthread_t</span> g_secondaryPThread;                     <span class="hljs-comment">// å¤‡ç”¨å¤„ç†çº¿ç¨‹ï¼ˆé˜²æ­¢ä¸»çº¿ç¨‹å´©æºƒï¼‰</span>
<span class="hljs-type">static</span> <span class="hljs-type">thread_t</span> g_secondaryMachThread;

<span class="hljs-comment">// ä¿å­˜ä¹‹å‰çš„å¼‚å¸¸ç«¯å£ä¿¡æ¯ï¼Œç”¨äºæ¢å¤</span>
<span class="hljs-type">static</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">exception_mask_t</span> masks[EXC_TYPES_COUNT];
    <span class="hljs-type">exception_handler_t</span> ports[EXC_TYPES_COUNT];
    <span class="hljs-type">exception_behavior_t</span> behaviors[EXC_TYPES_COUNT];
    <span class="hljs-type">thread_state_flavor_t</span> flavors[EXC_TYPES_COUNT];
    <span class="hljs-type">mach_msg_type_number_t</span> count;
} g_previousExceptionPorts;
</code></pre>
<p><strong>å®‰è£…æ­¥éª¤</strong>ï¼ˆæ¨æ–­è‡ªæºç é€»è¾‘ï¼‰ï¼š</p>
<ol>
<li><strong>åˆ›å»ºå¼‚å¸¸ç«¯å£</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">kern_return_t</span> kr;
kr = mach_port_allocate(mach_task_self(), MACH_PORT_RIGHT_RECEIVE, &amp;g_exceptionPort);
</code></pre>
<ol start="2">
<li><strong>è®¾ç½®ç«¯å£å‘é€æƒé™</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c">kr = mach_port_insert_right(mach_task_self(), g_exceptionPort,
                             g_exceptionPort, MACH_MSG_TYPE_MAKE_SEND);
</code></pre>
<ol start="3">
<li><strong>ä¿å­˜åŸæœ‰å¼‚å¸¸ç«¯å£</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c">kr = task_get_exception_ports(mach_task_self(),
                               EXC_MASK_ALL,
                               g_previousExceptionPorts.masks,
                               &amp;g_previousExceptionPorts.count,
                               g_previousExceptionPorts.ports,
                               g_previousExceptionPorts.behaviors,
                               g_previousExceptionPorts.flavors);
</code></pre>
<ol start="4">
<li><strong>è®¾ç½®æˆ‘ä»¬çš„å¼‚å¸¸ç«¯å£</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c">kr = task_set_exception_ports(mach_task_self(),
                               EXC_MASK_BAD_ACCESS |
                               EXC_MASK_BAD_INSTRUCTION |
                               EXC_MASK_ARITHMETIC |
                               EXC_MASK_SOFTWARE |
                               EXC_MASK_BREAKPOINT,
                               g_exceptionPort,
                               EXCEPTION_DEFAULT | MACH_EXCEPTION_CODES,
                               THREAD_STATE_NONE);
</code></pre>
<ol start="5">
<li><strong>åˆ›å»ºå¼‚å¸¸å¤„ç†çº¿ç¨‹</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-c" lang="c">pthread_create(&amp;g_primaryPThread, <span class="hljs-literal">NULL</span>, &amp;handleExceptions, (<span class="hljs-type">void</span>*)kThreadPrimary);
pthread_create(&amp;g_secondaryPThread, <span class="hljs-literal">NULL</span>, &amp;handleExceptions, (<span class="hljs-type">void</span>*)kThreadSecondary);
thread_suspend(g_secondaryMachThread);  <span class="hljs-comment">// å¤‡ç”¨çº¿ç¨‹å…ˆæŒ‚èµ·</span>
</code></pre>
<h4 data-id="heading-15">3.1.4 å¼‚å¸¸å¤„ç†æµç¨‹</h4>
<p><strong>handleExceptions å‡½æ•°åˆ†æ</strong>ï¼ˆæºç ï¼š257-300+ è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">void</span> *<span class="hljs-title function_">handleExceptions</span><span class="hljs-params">(<span class="hljs-type">void</span> *<span class="hljs-type">const</span> userData)</span>
{
    MachExceptionMessage exceptionMessage = { { <span class="hljs-number">0</span> } };
    MachReplyMessage replyMessage = { { <span class="hljs-number">0</span> } };
    <span class="hljs-type">char</span> *eventID = g_primaryEventID;

    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *threadName = (<span class="hljs-type">const</span> <span class="hljs-type">char</span> *)userData;
    pthread_setname_np(threadName);

    <span class="hljs-comment">// å¦‚æœæ˜¯å¤‡ç”¨çº¿ç¨‹ï¼Œå…ˆæŒ‚èµ·è‡ªå·±</span>
    <span class="hljs-keyword">if</span> (threadName == kThreadSecondary) {
        KSLOG_DEBUG(<span class="hljs-string">"This is the secondary thread. Suspending."</span>);
        thread_suspend((<span class="hljs-type">thread_t</span>)ksthread_self());
        eventID = g_secondaryEventID;
    }

    <span class="hljs-comment">// æ— é™å¾ªç¯ç­‰å¾…å¼‚å¸¸</span>
    <span class="hljs-keyword">for</span> (;;) {
        KSLOG_DEBUG(<span class="hljs-string">"Waiting for mach exception"</span>);

        <span class="hljs-comment">// 1. ç­‰å¾… Mach æ¶ˆæ¯ï¼ˆé˜»å¡ï¼‰</span>
        <span class="hljs-type">kern_return_t</span> kr = mach_msg(&amp;exceptionMessage.header,
                                    MACH_RCV_MSG,           <span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
                                    <span class="hljs-number">0</span>,                      <span class="hljs-comment">// å‘é€å¤§å°ï¼ˆä¸å‘é€ï¼‰</span>
                                    <span class="hljs-keyword">sizeof</span>(exceptionMessage), <span class="hljs-comment">// æ¥æ”¶ç¼“å†²åŒºå¤§å°</span>
                                    g_exceptionPort,        <span class="hljs-comment">// æ¥æ”¶ç«¯å£</span>
                                    MACH_MSG_TIMEOUT_NONE,  <span class="hljs-comment">// æ— è¶…æ—¶ï¼ˆæ°¸ä¹…ç­‰å¾…ï¼‰</span>
                                    MACH_PORT_NULL);
        <span class="hljs-keyword">if</span> (kr == KERN_SUCCESS) {
            <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// æ”¶åˆ°å¼‚å¸¸æ¶ˆæ¯ï¼Œè·³å‡ºå¾ªç¯</span>
        }

        <span class="hljs-comment">// å¤±è´¥åˆ™ç»§ç»­å°è¯•</span>
        KSLOG_ERROR(<span class="hljs-string">"mach_msg: %s"</span>, mach_error_string(kr));
    }

    <span class="hljs-comment">// 2. å¼‚å¸¸å·²æ•è·ï¼Œè®°å½•ä¿¡æ¯</span>
    KSLOG_DEBUG(<span class="hljs-string">"Trapped mach exception code 0x%llx, subcode 0x%llx"</span>,
                exceptionMessage.code[<span class="hljs-number">0</span>], exceptionMessage.code[<span class="hljs-number">1</span>]);

    <span class="hljs-keyword">if</span> (g_isEnabled) {
        <span class="hljs-comment">// 3. æŒ‚èµ·æ‰€æœ‰å…¶ä»–çº¿ç¨‹ï¼ˆä¸ºäº†è·å–å®Œæ•´å †æ ˆï¼‰</span>
        <span class="hljs-type">thread_act_array_t</span> threads = <span class="hljs-literal">NULL</span>;
        <span class="hljs-type">mach_msg_type_number_t</span> numThreads = <span class="hljs-number">0</span>;
        ksmc_suspendEnvironment(&amp;threads, &amp;numThreads);
        g_isHandlingCrash = <span class="hljs-literal">true</span>;

        <span class="hljs-comment">// 4. é€šçŸ¥å…¶ä»–ç›‘æ§å™¨ï¼šè‡´å‘½å¼‚å¸¸å·²è¢«æ•è·</span>
        kscm_notifyFatalExceptionCaptured(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// true = è¦æ±‚å¼‚æ­¥å®‰å…¨</span>

        <span class="hljs-comment">// 5. å¦‚æœå½“å‰æ˜¯ä¸»å¤„ç†çº¿ç¨‹å´©æºƒï¼Œæ¿€æ´»å¤‡ç”¨çº¿ç¨‹</span>
        <span class="hljs-keyword">if</span> (ksthread_self() == g_primaryMachThread) {
            KSLOG_DEBUG(<span class="hljs-string">"Primary exception thread. Activating secondary thread."</span>);
            <span class="hljs-comment">// æ¿€æ´»å¤‡ç”¨çº¿ç¨‹ç»§ç»­å¤„ç†</span>
            <span class="hljs-keyword">if</span> (thread_resume(g_secondaryMachThread) != KERN_SUCCESS) {
                <span class="hljs-comment">// æ¿€æ´»å¤±è´¥ï¼Œå¸è½½å¼‚å¸¸å¤„ç†å™¨é¿å…æ­»å¾ªç¯</span>
                KSLOG_DEBUG(<span class="hljs-string">"Restoring original exception ports."</span>);
                restoreExceptionPorts();
            }
        }

        <span class="hljs-comment">// 6. å¡«å……å´©æºƒä¸Šä¸‹æ–‡</span>
        KSMC_NEW_CONTEXT(machineContext);
        ksmc_getContextForThread(exceptionMessage.thread.name, machineContext, <span class="hljs-literal">true</span>);

        KSCrash_MonitorContext *crashContext = &amp;g_monitorContext;
        <span class="hljs-built_in">memset</span>(crashContext, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(*crashContext));
        crashContext-&gt;eventID = eventID;
        crashContext-&gt;offendingMachineContext = machineContext;
        crashContext-&gt;registersAreValid = <span class="hljs-literal">true</span>;
        crashContext-&gt;mach.type = exceptionMessage.exception;
        crashContext-&gt;mach.code = exceptionMessage.code[<span class="hljs-number">0</span>];
        crashContext-&gt;mach.subcode = exceptionMessage.code[<span class="hljs-number">1</span>];

        <span class="hljs-comment">// 7. å°† Mach å¼‚å¸¸è½¬æ¢ä¸ºå¯¹åº”çš„ Signalï¼ˆç”¨äºå…¼å®¹æ€§ï¼‰</span>
        crashContext-&gt;signal.signum = signalForMachException(
            exceptionMessage.exception,
            exceptionMessage.code[<span class="hljs-number">0</span>]
        );

        <span class="hljs-comment">// 8. åˆå§‹åŒ–å †æ ˆæ¸¸æ ‡</span>
        kssc_initWithMachineContext(&amp;g_stackCursor, KSSC_MAX_STACK_DEPTH, machineContext);
        crashContext-&gt;stackCursor = &amp;g_stackCursor;

        <span class="hljs-comment">// 9. è°ƒç”¨æ ¸å¿ƒå¼‚å¸¸å¤„ç†å‡½æ•°ï¼ˆç”Ÿæˆå´©æºƒæŠ¥å‘Šï¼‰</span>
        kscm_handleException(crashContext);

        <span class="hljs-comment">// 10. æ¢å¤çº¿ç¨‹ç¯å¢ƒ</span>
        ksmc_resumeEnvironment(threads, numThreads);
    }

    <span class="hljs-comment">// 11. æ¢å¤åŸæœ‰å¼‚å¸¸ç«¯å£</span>
    KSLOG_DEBUG(<span class="hljs-string">"Restoring original exception ports."</span>);
    restoreExceptionPorts();

    <span class="hljs-comment">// 12. å›å¤ Mach æ¶ˆæ¯ï¼ˆå‘Šè¯‰å†…æ ¸æˆ‘ä»¬å¤„ç†å®Œäº†ï¼‰</span>
    replyMessage.header = exceptionMessage.header;
    replyMessage.NDR = exceptionMessage.NDR;
    replyMessage.returnCode = KERN_FAILURE;  <span class="hljs-comment">// è®©ç³»ç»Ÿç»§ç»­é»˜è®¤å¤„ç†ï¼ˆç»ˆæ­¢è¿›ç¨‹ï¼‰</span>

    mach_msg(&amp;replyMessage.header, MACH_SEND_MSG,
             <span class="hljs-keyword">sizeof</span>(replyMessage), <span class="hljs-number">0</span>,
             MACH_PORT_NULL, MACH_MSG_TIMEOUT_NONE,
             MACH_PORT_NULL);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
}
</code></pre>
<h4 data-id="heading-16">3.1.5 Mach å¼‚å¸¸ç±»å‹</h4>
<p><strong>å¼‚å¸¸ç±»å‹åˆ°ä¿¡å·çš„æ˜ å°„</strong>ï¼ˆæºç ï¼š191-247 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">signalForMachException</span><span class="hljs-params">(<span class="hljs-type">exception_type_t</span> exception, <span class="hljs-type">mach_exception_code_t</span> code)</span>
{
    <span class="hljs-keyword">switch</span> (exception) {
        <span class="hljs-keyword">case</span> EXC_ARITHMETIC:
            <span class="hljs-keyword">return</span> SIGFPE;              <span class="hljs-comment">// æµ®ç‚¹æ•°å¼‚å¸¸</span>
        <span class="hljs-keyword">case</span> EXC_BAD_ACCESS:
            <span class="hljs-comment">// æ ¹æ®ä»£ç åŒºåˆ†æ˜¯æ®µé”™è¯¯è¿˜æ˜¯æ€»çº¿é”™è¯¯</span>
            <span class="hljs-keyword">return</span> code == KERN_INVALID_ADDRESS ? SIGSEGV : SIGBUS;
        <span class="hljs-keyword">case</span> EXC_BAD_INSTRUCTION:
            <span class="hljs-keyword">return</span> SIGILL;              <span class="hljs-comment">// éæ³•æŒ‡ä»¤</span>
        <span class="hljs-keyword">case</span> EXC_BREAKPOINT:
            <span class="hljs-keyword">return</span> SIGTRAP;             <span class="hljs-comment">// æ–­ç‚¹/trace</span>
        <span class="hljs-keyword">case</span> EXC_SOFTWARE: {
            <span class="hljs-keyword">switch</span> (code) {
                <span class="hljs-keyword">case</span> EXC_UNIX_BAD_SYSCALL:
                    <span class="hljs-keyword">return</span> SIGSYS;      <span class="hljs-comment">// éæ³•ç³»ç»Ÿè°ƒç”¨</span>
                <span class="hljs-keyword">case</span> EXC_UNIX_BAD_PIPE:
                    <span class="hljs-keyword">return</span> SIGPIPE;     <span class="hljs-comment">// ç®¡é“ç ´è£‚</span>
                <span class="hljs-keyword">case</span> EXC_UNIX_ABORT:
                    <span class="hljs-keyword">return</span> SIGABRT;     <span class="hljs-comment">// abort() è°ƒç”¨</span>
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>å¸¸è§å´©æºƒç±»å‹</strong>ï¼š</p>



































<table><thead><tr><th>Mach å¼‚å¸¸</th><th>Signal</th><th>å…¸å‹åŸå› </th></tr></thead><tbody><tr><td>EXC_BAD_ACCESS + KERN_INVALID_ADDRESS</td><td>SIGSEGV</td><td>è®¿é—®æœªåˆ†é…å†…å­˜ï¼ˆé‡æŒ‡é’ˆã€ç©ºæŒ‡é’ˆï¼‰</td></tr><tr><td>EXC_BAD_ACCESS + KERN_PROTECTION_FAILURE</td><td>SIGBUS</td><td>è®¿é—®å—ä¿æŠ¤å†…å­˜ï¼ˆæƒé™é—®é¢˜ï¼‰</td></tr><tr><td>EXC_BAD_INSTRUCTION</td><td>SIGILL</td><td>æ‰§è¡Œéæ³•æŒ‡ä»¤ï¼ˆä»£ç æŸåã€é”™è¯¯çš„å‡½æ•°æŒ‡é’ˆï¼‰</td></tr><tr><td>EXC_ARITHMETIC</td><td>SIGFPE</td><td>é™¤é›¶ã€æµ®ç‚¹æº¢å‡º</td></tr><tr><td>EXC_CRASH</td><td>SIGABRT</td><td>abort() æˆ– assert() å¤±è´¥</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">3.2 Signal ç›‘æ§å™¨</h3>
<blockquote>
<p>æºç ä½ç½®ï¼š<code>KSCrashRecording/Monitors/KSCrashMonitor_Signal.c</code></p>
</blockquote>
<p>Signal ç›‘æ§å™¨æ•è· POSIX ä¿¡å·ï¼Œæ˜¯ Mach å¼‚å¸¸çš„ä¸Šå±‚å°è£…ã€‚</p>
<h4 data-id="heading-18">3.2.1 ä¸ºä»€ä¹ˆéœ€è¦ Signal ç›‘æ§å™¨ï¼Ÿ</h4>
<p>è™½ç„¶ Mach å¼‚å¸¸æ˜¯æœ€åº•å±‚çš„ï¼Œä½†æœ‰äº›æƒ…å†µä¸‹åªæœ‰ Signal èƒ½æ•è·ï¼š</p>
<ol>
<li><strong>Mach å¼‚å¸¸è¢«å…¶ä»–åº“åŠ«æŒ</strong>ï¼šæŸäº›ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¯èƒ½è®¾ç½®å¼‚å¸¸ç«¯å£</li>
<li><strong>ç›´æ¥å‘é€çš„ä¿¡å·</strong>ï¼šå¦‚ <code>kill(pid, SIGABRT)</code> ä¸ä¼šäº§ç”Ÿ Mach å¼‚å¸¸</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šæŸäº›ç³»ç»Ÿçº§ä¿¡å·ä¸äº§ç”Ÿ Mach å¼‚å¸¸</li>
</ol>
<h4 data-id="heading-19">3.2.2 å…³é”®æ•°æ®ç»“æ„</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å…¨å±€å˜é‡ï¼ˆæºç ï¼š55-69 è¡Œï¼‰</span>
<span class="hljs-type">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">bool</span> g_isEnabled = <span class="hljs-literal">false</span>;
<span class="hljs-type">static</span> <span class="hljs-type">bool</span> g_sigterm_monitoringEnabled = <span class="hljs-literal">false</span>;  <span class="hljs-comment">// SIGTERM æ˜¯å¦ç›‘æ§</span>

<span class="hljs-type">static</span> KSCrash_MonitorContext g_monitorContext;
<span class="hljs-type">static</span> KSStackCursor g_stackCursor;

<span class="hljs-meta">#<span class="hljs-keyword">if</span> KSCRASH_HAS_SIGNAL_STACK</span>
<span class="hljs-type">static</span> <span class="hljs-type">stack_t</span> g_signalStack = { <span class="hljs-number">0</span> };             <span class="hljs-comment">// ç‹¬ç«‹ä¿¡å·æ ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

<span class="hljs-type">static</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">sigaction</span> *<span class="hljs-title">g_previousSignalHandlers</span> =</span> <span class="hljs-literal">NULL</span>;  <span class="hljs-comment">// åŸæœ‰ä¿¡å·å¤„ç†å™¨</span>
<span class="hljs-type">static</span> <span class="hljs-type">char</span> g_eventID[<span class="hljs-number">37</span>];
</code></pre>
<p><strong>ä¿¡å·æ ˆï¼ˆSignal Stackï¼‰</strong>ï¼š</p>
<ul>
<li>å½“å‘ç”Ÿæ ˆæº¢å‡ºæ—¶ï¼Œæ™®é€šæ ˆå·²ä¸å¯ç”¨</li>
<li>é€šè¿‡ <code>sigaltstack()</code> è®¾ç½®ç‹¬ç«‹çš„ä¿¡å·å¤„ç†æ ˆ</li>
<li>ä¿è¯å³ä½¿æ ˆæº¢å‡ºä¹Ÿèƒ½æ‰§è¡Œä¿¡å·å¤„ç†å‡½æ•°</li>
</ul>
<h4 data-id="heading-20">3.2.3 å®‰è£…æµç¨‹</h4>
<p><strong>installSignalHandler å‡½æ•°</strong>ï¼ˆæºç ï¼š135-193 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">bool</span> <span class="hljs-title function_">installSignalHandler</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>
{
    KSLOG_DEBUG(<span class="hljs-string">"Installing signal handler."</span>);

<span class="hljs-meta">#<span class="hljs-keyword">if</span> KSCRASH_HAS_SIGNAL_STACK</span>
    <span class="hljs-comment">// 1. åˆ†é…ç‹¬ç«‹çš„ä¿¡å·æ ˆï¼ˆç”¨äºæ ˆæº¢å‡ºæ—¶çš„å¤„ç†ï¼‰</span>
    <span class="hljs-keyword">if</span> (g_signalStack.ss_size == <span class="hljs-number">0</span>) {
        g_signalStack.ss_size = SIGSTKSZ;      <span class="hljs-comment">// é€šå¸¸ 32KB</span>
        g_signalStack.ss_sp = <span class="hljs-built_in">malloc</span>(g_signalStack.ss_size);
    }

    <span class="hljs-comment">// 2. è®¾ç½®ä¿¡å·æ ˆ</span>
    <span class="hljs-keyword">if</span> (sigaltstack(&amp;g_signalStack, <span class="hljs-literal">NULL</span>) != <span class="hljs-number">0</span>) {
        KSLOG_ERROR(<span class="hljs-string">"signalstack: %s"</span>, strerror(errno));
        <span class="hljs-keyword">goto</span> failed;
    }
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>

    <span class="hljs-comment">// 3. è·å–éœ€è¦ç›‘æ§çš„è‡´å‘½ä¿¡å·åˆ—è¡¨</span>
    <span class="hljs-type">const</span> <span class="hljs-type">int</span> *fatalSignals = kssignal_fatalSignals();
    <span class="hljs-type">int</span> fatalSignalsCount = kssignal_numFatalSignals();

    <span class="hljs-comment">// 4. åˆ†é…å†…å­˜å­˜å‚¨åŸæœ‰çš„ä¿¡å·å¤„ç†å™¨</span>
    <span class="hljs-keyword">if</span> (g_previousSignalHandlers == <span class="hljs-literal">NULL</span>) {
        g_previousSignalHandlers = <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(*g_previousSignalHandlers) *
                                          (<span class="hljs-type">unsigned</span>)fatalSignalsCount);
    }

    <span class="hljs-comment">// 5. é…ç½® sigaction ç»“æ„</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">sigaction</span> <span class="hljs-title">action</span> =</span> { { <span class="hljs-number">0</span> } };
    action.sa_flags = SA_SIGINFO | SA_ONSTACK;  <span class="hljs-comment">// ä½¿ç”¨ siginfo_tï¼Œä½¿ç”¨ç‹¬ç«‹æ ˆ</span>
<span class="hljs-meta">#<span class="hljs-keyword">if</span> KSCRASH_HOST_APPLE &amp;&amp; defined(__LP64__)</span>
    action.sa_flags |= SA_64REGSET;             <span class="hljs-comment">// 64 ä½å¯„å­˜å™¨é›†</span>
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
    sigemptyset(&amp;action.sa_mask);               <span class="hljs-comment">// ä¸å±è”½å…¶ä»–ä¿¡å·</span>
    action.sa_sigaction = &amp;handleSignal;        <span class="hljs-comment">// è®¾ç½®å¤„ç†å‡½æ•°</span>

    <span class="hljs-comment">// 6. ä¸ºæ¯ä¸ªè‡´å‘½ä¿¡å·å®‰è£…å¤„ç†å™¨</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; fatalSignalsCount; i++) {
        KSLOG_DEBUG(<span class="hljs-string">"Assigning handler for signal %d"</span>, fatalSignals[i]);
        <span class="hljs-keyword">if</span> (sigaction(fatalSignals[i], &amp;action, &amp;g_previousSignalHandlers[i]) != <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// å®‰è£…å¤±è´¥ï¼Œå›æ»šå·²å®‰è£…çš„</span>
            <span class="hljs-keyword">for</span> (i--; i &gt;= <span class="hljs-number">0</span>; i--) {
                sigaction(fatalSignals[i], &amp;g_previousSignalHandlers[i], <span class="hljs-literal">NULL</span>);
            }
            <span class="hljs-keyword">goto</span> failed;
        }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

failed:
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<p><strong>ç›‘æ§çš„è‡´å‘½ä¿¡å·</strong>ï¼ˆé€šå¸¸åŒ…æ‹¬ï¼‰ï¼š</p>
<ul>
<li><code>SIGABRT</code>ï¼šabort() è°ƒç”¨</li>
<li><code>SIGBUS</code>ï¼šæ€»çº¿é”™è¯¯ï¼ˆå¯¹é½é—®é¢˜ã€è®¿é—®ä¸å­˜åœ¨çš„ç‰©ç†åœ°å€ï¼‰</li>
<li><code>SIGFPE</code>ï¼šæµ®ç‚¹å¼‚å¸¸</li>
<li><code>SIGILL</code>ï¼šéæ³•æŒ‡ä»¤</li>
<li><code>SIGPIPE</code>ï¼šç®¡é“ç ´è£‚</li>
<li><code>SIGSEGV</code>ï¼šæ®µé”™è¯¯ï¼ˆæœ€å¸¸è§çš„å´©æºƒï¼‰</li>
<li><code>SIGSYS</code>ï¼šéæ³•ç³»ç»Ÿè°ƒç”¨</li>
<li><code>SIGTRAP</code>ï¼štrace/breakpoint trap</li>
<li><code>SIGTERM</code>ï¼šç»ˆæ­¢ä¿¡å·ï¼ˆå¯é€‰ç›‘æ§ï¼‰</li>
</ul>
<h4 data-id="heading-21">3.2.4 ä¿¡å·å¤„ç†æµç¨‹</h4>
<p><strong>handleSignal å‡½æ•°</strong>ï¼ˆæºç ï¼š94-129 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title function_">handleSignal</span><span class="hljs-params">(<span class="hljs-type">int</span> sigNum, <span class="hljs-type">siginfo_t</span> *signalInfo, <span class="hljs-type">void</span> *userContext)</span>
{
    KSLOG_DEBUG(<span class="hljs-string">"Trapped signal %d"</span>, sigNum);

    <span class="hljs-keyword">if</span> (g_isEnabled &amp;&amp; shouldHandleSignal(sigNum)) {
        <span class="hljs-comment">// 1. æŒ‚èµ·æ‰€æœ‰çº¿ç¨‹</span>
        <span class="hljs-type">thread_act_array_t</span> threads = <span class="hljs-literal">NULL</span>;
        <span class="hljs-type">mach_msg_type_number_t</span> numThreads = <span class="hljs-number">0</span>;
        ksmc_suspendEnvironment(&amp;threads, &amp;numThreads);

        <span class="hljs-comment">// 2. é€šçŸ¥ï¼šè‡´å‘½å¼‚å¸¸å·²æ•è·ï¼ˆfalse = éå®Œå…¨å¼‚æ­¥å®‰å…¨ç¯å¢ƒï¼‰</span>
        kscm_notifyFatalExceptionCaptured(<span class="hljs-literal">false</span>);

        <span class="hljs-comment">// 3. è·å–æœºå™¨ä¸Šä¸‹æ–‡ï¼ˆå¯„å­˜å™¨çŠ¶æ€ï¼‰</span>
        KSMC_NEW_CONTEXT(machineContext);
        ksmc_getContextForSignal(userContext, machineContext);

        <span class="hljs-comment">// 4. åˆå§‹åŒ–å †æ ˆæ¸¸æ ‡</span>
        kssc_initWithMachineContext(&amp;g_stackCursor, KSSC_MAX_STACK_DEPTH, machineContext);

        <span class="hljs-comment">// 5. å¡«å……å´©æºƒä¸Šä¸‹æ–‡</span>
        KSCrash_MonitorContext *crashContext = &amp;g_monitorContext;
        <span class="hljs-built_in">memset</span>(crashContext, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(*crashContext));
        ksmc_fillMonitorContext(crashContext, kscm_signal_getAPI());
        crashContext-&gt;eventID = g_eventID;
        crashContext-&gt;offendingMachineContext = machineContext;
        crashContext-&gt;registersAreValid = <span class="hljs-literal">true</span>;
        crashContext-&gt;faultAddress = (<span class="hljs-type">uintptr_t</span>)signalInfo-&gt;si_addr;  <span class="hljs-comment">// æ•…éšœåœ°å€</span>
        crashContext-&gt;signal.userContext = userContext;
        crashContext-&gt;signal.signum = signalInfo-&gt;si_signo;            <span class="hljs-comment">// ä¿¡å·ç¼–å·</span>
        crashContext-&gt;signal.sigcode = signalInfo-&gt;si_code;            <span class="hljs-comment">// ä¿¡å·ä»£ç </span>
        crashContext-&gt;stackCursor = &amp;g_stackCursor;

        <span class="hljs-comment">// 6. å¤„ç†å¼‚å¸¸ï¼ˆç”ŸæˆæŠ¥å‘Šï¼‰</span>
        kscm_handleException(crashContext);

        <span class="hljs-comment">// 7. æ¢å¤çº¿ç¨‹</span>
        ksmc_resumeEnvironment(threads, numThreads);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¦‚æœä¸å¤„ç†ï¼Œå¸è½½å¤„ç†å™¨å¹¶é€šçŸ¥å†…å­˜ç›‘æ§å™¨</span>
        uninstallSignalHandler();
        ksmemory_notifyUnhandledFatalSignal();
    }

    <span class="hljs-comment">// 8. é‡æ–°è§¦å‘ä¿¡å·ï¼Œè®©ç³»ç»Ÿé»˜è®¤å¤„ç†ï¼ˆç»ˆæ­¢è¿›ç¨‹ï¼‰</span>
    KSLOG_DEBUG(<span class="hljs-string">"Re-raising signal for regular handlers to catch."</span>);
    raise(sigNum);
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>siginfo_t</code> åŒ…å«è¯¦ç»†çš„ä¿¡å·ä¿¡æ¯ï¼Œå¦‚ <code>si_addr</code>ï¼ˆè§¦å‘ä¿¡å·çš„åœ°å€ï¼‰</li>
<li><code>userContext</code> åŒ…å«ä¿¡å·å‘ç”Ÿæ—¶çš„ CPU å¯„å­˜å™¨çŠ¶æ€</li>
<li>æœ€å <code>raise(sigNum)</code> é‡æ–°è§¦å‘ä¿¡å·ï¼Œç¡®ä¿è¿›ç¨‹ä¼šç»ˆæ­¢</li>
</ul>
<hr/>
<h3 data-id="heading-22">3.3 NSException ç›‘æ§å™¨</h3>
<blockquote>
<p>æºç ä½ç½®ï¼š<code>KSCrashRecording/Monitors/KSCrashMonitor_NSException.m</code></p>
</blockquote>
<p>NSException ç›‘æ§å™¨æ•è· Objective-C å±‚é¢çš„å¼‚å¸¸ã€‚</p>
<h4 data-id="heading-23">3.3.1 æ ¸å¿ƒåŸç†</h4>
<p>é€šè¿‡ <code>NSSetUncaughtExceptionHandler()</code> æ³¨å†Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// æºç ï¼š165-181 è¡Œ
static void setEnabled(bool isEnabled)
{
    if (isEnabled != g_isEnabled) {
        g_isEnabled = isEnabled;
        if (isEnabled) {
            // 1. å¤‡ä»½åŸæœ‰å¤„ç†å™¨
            KSLOG_DEBUG(@"Backing up original handler.");
            g_previousUncaughtExceptionHandler = NSGetUncaughtExceptionHandler();

            // 2. è®¾ç½®æˆ‘ä»¬çš„å¤„ç†å™¨
            KSLOG_DEBUG(@"Setting new handler.");
            NSSetUncaughtExceptionHandler(&amp;handleUncaughtException);
            KSCrash.sharedInstance.uncaughtExceptionHandler = &amp;handleUncaughtException;
            KSCrash.sharedInstance.customNSExceptionReporter = &amp;customNSExceptionReporter;
        } else {
            // æ¢å¤åŸæœ‰å¤„ç†å™¨
            KSLOG_DEBUG(@"Restoring original handler.");
            NSSetUncaughtExceptionHandler(g_previousUncaughtExceptionHandler);
        }
    }
}
</code></pre>
<p><strong>ä¸ä½ çš„ AppDelegate ä»£ç å¯¹æ¯”</strong>ï¼ˆ<code>AppDelegate.swift:20-31</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">setupUncaughtExceptionHandler</span>() {
    previousExceptionHandler <span class="hljs-operator">=</span> <span class="hljs-type">NSGetUncaughtExceptionHandler</span>()
    <span class="hljs-type">NSSetUncaughtExceptionHandler</span> { exception <span class="hljs-keyword">in</span>
        handleUncaughtException(exception)
        previousExceptionHandler<span class="hljs-operator">?</span>(exception)  <span class="hljs-comment">// é“¾å¼è°ƒç”¨</span>
    }
}
</code></pre>
<p>ä½ çš„ä»£ç ä¸ KSCrash ä¼šå½¢æˆå¤„ç†å™¨é“¾ï¼š</p>
<ol>
<li>ä½ çš„ handler å…ˆæ‰§è¡Œ</li>
<li>è°ƒç”¨ previousExceptionHandlerï¼ˆå®é™…æ˜¯ KSCrash çš„ handlerï¼‰</li>
<li>KSCrash å¤„ç†å¹¶ç”ŸæˆæŠ¥å‘Š</li>
<li>KSCrash è°ƒç”¨å®ƒä¿å­˜çš„ previousExceptionHandler</li>
</ol>
<h4 data-id="heading-24">3.3.2 å¼‚å¸¸å¤„ç†æµç¨‹</h4>
<p><strong>handleException å‡½æ•°</strong>ï¼ˆæºç ï¼š94-147 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">static void handleException(NSException *exception, BOOL isUserReported, BOOL logAllThreads)
{
    KSLOG_DEBUG(@"Trapped exception %@", exception);

    if (g_isEnabled) {
        thread_act_array_t threads = NULL;
        mach_msg_type_number_t numThreads = 0;

        // 1. å¦‚æœéœ€è¦è®°å½•æ‰€æœ‰çº¿ç¨‹ï¼ŒæŒ‚èµ·ç¯å¢ƒ
        if (logAllThreads) {
            ksmc_suspendEnvironment(&amp;threads, &amp;numThreads);
        }

        // 2. ç”¨æˆ·ä¸»åŠ¨ä¸ŠæŠ¥çš„å¼‚å¸¸ä¸è¢«è§†ä¸ºè‡´å‘½å¼‚å¸¸
        if (isUserReported == NO) {
            kscm_notifyFatalExceptionCaptured(false);
        }

        // 3. ç”Ÿæˆäº‹ä»¶ ID
        char eventID[37];
        ksid_generate(eventID);

        // 4. è·å–å½“å‰çº¿ç¨‹çš„æœºå™¨ä¸Šä¸‹æ–‡
        KSMC_NEW_CONTEXT(machineContext);
        ksmc_getContextForThread(ksthread_self(), machineContext, true);

        // 5. åˆå§‹åŒ–å †æ ˆæ¸¸æ ‡
        KSStackCursor cursor;
        uintptr_t *callstack = NULL;
        initStackCursor(&amp;cursor, exception, callstack, isUserReported);

        // 6. è½¬æ¢ userInfo ä¸ºå­—ç¬¦ä¸²
        NSString *userInfoString = exception.userInfo != nil ?
            [NSString stringWithFormat:@"%@", exception.userInfo] : nil;

        // 7. å¡«å……å´©æºƒä¸Šä¸‹æ–‡
        KSCrash_MonitorContext *crashContext = &amp;g_monitorContext;
        memset(crashContext, 0, sizeof(*crashContext));
        crashContext-&gt;eventID = eventID;
        crashContext-&gt;offendingMachineContext = machineContext;
        crashContext-&gt;registersAreValid = false;  // NSException æ²¡æœ‰å‡†ç¡®å¯„å­˜å™¨
        crashContext-&gt;NSException.name = [[exception name] UTF8String];
        crashContext-&gt;NSException.userInfo = [userInfoString UTF8String];
        crashContext-&gt;exceptionName = crashContext-&gt;NSException.name;
        crashContext-&gt;crashReason = [[exception reason] UTF8String];
        crashContext-&gt;stackCursor = &amp;cursor;
        crashContext-&gt;currentSnapshotUserReported = isUserReported;

        // 8. å¤„ç†å¼‚å¸¸
        kscm_handleException(crashContext);

        // 9. æ¸…ç†å’Œæ¢å¤
        free(callstack);
        if (logAllThreads &amp;&amp; isUserReported) {
            ksmc_resumeEnvironment(threads, numThreads);
        }

        // 10. è°ƒç”¨åŸæœ‰å¼‚å¸¸å¤„ç†å™¨ï¼ˆå¦‚æœæœ‰ï¼‰
        if (isUserReported == NO &amp;&amp; g_previousUncaughtExceptionHandler != NULL) {
            KSLOG_DEBUG(@"Calling original exception handler.");
            g_previousUncaughtExceptionHandler(exception);
        }
    }
}
</code></pre>
<h4 data-id="heading-25">3.3.3 å †æ ˆæå–</h4>
<p><strong>initStackCursor å‡½æ•°</strong>ï¼ˆæºç ï¼š58-87 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">static void initStackCursor(KSStackCursor *cursor, NSException *exception,
                            uintptr_t *callstack, BOOL isUserReported)
{
    // 1. ä¼˜å…ˆä½¿ç”¨ NSException è‡ªå¸¦çš„å †æ ˆ
    NSArray *addresses = [exception callStackReturnAddresses];
    NSUInteger numFrames = addresses.count;

    if (numFrames != 0) {
        // ä» NSArray æå–åœ°å€åˆ° C æ•°ç»„
        callstack = malloc(numFrames * sizeof(*callstack));
        for (NSUInteger i = 0; i &lt; numFrames; i++) {
            callstack[i] = (uintptr_t)[addresses[i] unsignedLongLongValue];
        }
        kssc_initWithBacktrace(cursor, callstack, (int)numFrames, 0);
    } else {
        // 2. å¦‚æœæ²¡æœ‰å †æ ˆä¿¡æ¯ï¼ˆç”¨æˆ·ä¸»åŠ¨ä¸ŠæŠ¥çš„æƒ…å†µï¼‰ï¼Œè·å–å½“å‰çº¿ç¨‹å †æ ˆ
        // è·³è¿‡çš„å¸§æ•°ï¼š
        // - ç”¨æˆ·ä¸ŠæŠ¥ï¼šè·³è¿‡ 4 å¸§ï¼ˆinitStackCursor, handleException,
        //   customNSExceptionReporter, +[KSCrash reportNSException:logAllThreads:]ï¼‰
        // - æ•è·çš„å¼‚å¸¸ï¼šè·³è¿‡ 3 å¸§ï¼ˆinitStackCursor, handleException,
        //   handleUncaughtExceptionï¼‰
        int const skipFrames = isUserReported ? 4 : 3;
        kssc_initSelfThread(cursor, skipFrames);
    }
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>[NSException callStackReturnAddresses]</code> è¿”å›å¼‚å¸¸æŠ›å‡ºæ—¶çš„å †æ ˆåœ°å€æ•°ç»„</li>
<li>å¦‚æœæ²¡æœ‰å †æ ˆä¿¡æ¯ï¼Œä½¿ç”¨ <code>backtrace()</code> è·å–å½“å‰çº¿ç¨‹å †æ ˆ</li>
<li>éœ€è¦è·³è¿‡ KSCrash è‡ªèº«çš„å¤„ç†å‡½æ•°å¸§</li>
</ul>
<hr/>
<h3 data-id="heading-26">3.4 ç›‘æ§å™¨åè°ƒæœºåˆ¶</h3>
<h4 data-id="heading-27">3.4.1 ç›‘æ§å™¨æ³¨å†Œ</h4>
<p><strong>kscm_addMonitor å‡½æ•°</strong>ï¼ˆ<code>KSCrashMonitor.c</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">kscm_addMonitor</span><span class="hljs-params">(KSCrashMonitorAPI *api)</span>
{
    <span class="hljs-comment">// 1. æ£€æŸ¥ API æœ‰æ•ˆæ€§</span>
    <span class="hljs-keyword">if</span> (api == <span class="hljs-literal">NULL</span> || api-&gt;monitorId == <span class="hljs-literal">NULL</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// 2. æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ï¼ˆé¿å…é‡å¤æ³¨å†Œï¼‰</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; g_monitorsCount; i++) {
        <span class="hljs-keyword">if</span> (g_monitors[i] == api) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å·²å­˜åœ¨</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(g_monitors[i]-&gt;monitorId(), api-&gt;monitorId()) == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// ID å†²çª</span>
        }
    }

    <span class="hljs-comment">// 3. æ·»åŠ åˆ°ç›‘æ§å™¨åˆ—è¡¨</span>
    <span class="hljs-keyword">if</span> (g_monitorsCount &lt; MAX_MONITORS) {
        g_monitors[g_monitorsCount++] = api;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h4 data-id="heading-28">3.4.2 ç›‘æ§å™¨æ¿€æ´»</h4>
<p><strong>kscm_activateMonitors å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">kscm_activateMonitors</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span>
{
    <span class="hljs-type">bool</span> isDebuggerAttached = kscdebug_isBeingTraced();
    <span class="hljs-type">int</span> activatedCount = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; g_monitorsCount; i++) {
        KSCrashMonitorAPI *api = g_monitors[i];
        KSCrashMonitorFlag flags = api-&gt;monitorFlags();

        <span class="hljs-comment">// 1. å¦‚æœè°ƒè¯•å™¨é™„åŠ ï¼Œè·³è¿‡éè°ƒè¯•å™¨å®‰å…¨çš„ç›‘æ§å™¨</span>
        <span class="hljs-keyword">if</span> (isDebuggerAttached &amp;&amp; !(flags &amp; KSCrashMonitorFlagDebuggerSafe)) {
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// 2. å¯ç”¨ç›‘æ§å™¨</span>
        api-&gt;setEnabled(<span class="hljs-literal">true</span>);

        <span class="hljs-comment">// 3. æ£€æŸ¥æ˜¯å¦æˆåŠŸå¯ç”¨</span>
        <span class="hljs-keyword">if</span> (api-&gt;isEnabled()) {
            activatedCount++;

            <span class="hljs-comment">// 4. è°ƒç”¨ç³»ç»Ÿå¯ç”¨åçš„é€šçŸ¥ï¼ˆå¦‚æœæœ‰ï¼‰</span>
            <span class="hljs-keyword">if</span> (api-&gt;notifyPostSystemEnable) {
                api-&gt;notifyPostSystemEnable();
            }
        }
    }

    <span class="hljs-keyword">return</span> activatedCount &gt; <span class="hljs-number">0</span>;
}
</code></pre>
<p><strong>MonitorFlag è¯´æ˜</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">enum</span> {</span>
    KSCrashMonitorFlagNone = <span class="hljs-number">0</span>,
    KSCrashMonitorFlagFatal = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">0</span>,          <span class="hljs-comment">// è‡´å‘½å´©æºƒï¼ˆä¼šç»ˆæ­¢è¿›ç¨‹ï¼‰</span>
    KSCrashMonitorFlagAsyncSafe = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">1</span>,      <span class="hljs-comment">// å¼‚æ­¥å®‰å…¨ï¼ˆå¯åœ¨ä¿¡å·å¤„ç†ä¸­ä½¿ç”¨ï¼‰</span>
    KSCrashMonitorFlagDebuggerSafe = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">2</span>,   <span class="hljs-comment">// è°ƒè¯•å™¨å®‰å…¨ï¼ˆè°ƒè¯•æ—¶å¯ç”¨ï¼‰</span>
    KSCrashMonitorFlagManual = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">3</span>,         <span class="hljs-comment">// æ‰‹åŠ¨è§¦å‘</span>
} KSCrashMonitorFlag;
</code></pre>
<p><strong>å„ç›‘æ§å™¨çš„ Flag</strong>ï¼š</p>













































<table><thead><tr><th>ç›‘æ§å™¨</th><th>Flag</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>MachException</td><td>Fatal | AsyncSafe</td><td>è‡´å‘½ä¸”å¼‚æ­¥å®‰å…¨</td></tr><tr><td>Signal</td><td>Fatal | AsyncSafe</td><td>è‡´å‘½ä¸”å¼‚æ­¥å®‰å…¨</td></tr><tr><td>NSException</td><td>Fatal</td><td>è‡´å‘½ä½†éå¼‚æ­¥å®‰å…¨ï¼ˆä½¿ç”¨ ObjCï¼‰</td></tr><tr><td>CPPException</td><td>Fatal</td><td>è‡´å‘½ä½†éå¼‚æ­¥å®‰å…¨ï¼ˆä½¿ç”¨ C++ï¼‰</td></tr><tr><td>User</td><td>Manual</td><td>æ‰‹åŠ¨è§¦å‘</td></tr><tr><td>AppState</td><td>None</td><td>ä»…æ”¶é›†ä¿¡æ¯</td></tr><tr><td>Memory</td><td>None</td><td>ä»…ç›‘æ§</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-29">4. å´©æºƒä¿¡æ¯æ”¶é›†æœºåˆ¶</h2>
<h3 data-id="heading-30">4.1 KSCrash_MonitorContext æ·±åº¦è§£æ</h3>
<p>ä½ç½®ï¼š<code>KSCrashRecordingCore/include/KSCrashMonitorContext.h</code></p>
<p>è¿™ä¸ªç»“æ„ä½“æ˜¯å´©æºƒä¿¡æ¯æ”¶é›†çš„æ ¸å¿ƒï¼ŒåŒ…å«äº†ç”Ÿæˆå®Œæ•´å´©æºƒæŠ¥å‘Šæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-31">4.1.1 ä¿¡æ¯åˆ†ç±»</h4>
<p><strong>1. åŸºç¡€å…ƒä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">const</span> <span class="hljs-type">char</span> *eventID;                    <span class="hljs-comment">// UUIDï¼Œå”¯ä¸€æ ‡è¯†è¿™æ¬¡å´©æºƒ</span>
<span class="hljs-type">const</span> <span class="hljs-type">char</span> *monitorId;                  <span class="hljs-comment">// æ•è·å´©æºƒçš„ç›‘æ§å™¨åç§°</span>
KSCrashMonitorFlag monitorFlags;        <span class="hljs-comment">// ç›‘æ§å™¨æ ‡å¿—</span>
<span class="hljs-type">bool</span> currentSnapshotUserReported;       <span class="hljs-comment">// æ˜¯å¦ç”¨æˆ·ä¸»åŠ¨ä¸ŠæŠ¥</span>
<span class="hljs-type">bool</span> requiresAsyncSafety;               <span class="hljs-comment">// æ˜¯å¦è¦æ±‚å¼‚æ­¥å®‰å…¨</span>
<span class="hljs-type">bool</span> handlingCrash;                     <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨å¤„ç†å´©æºƒ</span>
<span class="hljs-type">bool</span> crashedDuringCrashHandling;        <span class="hljs-comment">// å¤„ç†å´©æºƒæ—¶æ˜¯å¦å†æ¬¡å´©æºƒ</span>
</code></pre>
<p><strong>2. å´©æºƒç°åœºä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">KSMachineContext</span> *<span class="hljs-title">offendingMachineContext</span>;</span>  <span class="hljs-comment">// CPU å¯„å­˜å™¨çŠ¶æ€</span>
<span class="hljs-type">bool</span> registersAreValid;                            <span class="hljs-comment">// å¯„å­˜å™¨æ˜¯å¦æœ‰æ•ˆ</span>
<span class="hljs-type">uintptr_t</span> faultAddress;                            <span class="hljs-comment">// è§¦å‘å´©æºƒçš„å†…å­˜åœ°å€</span>
<span class="hljs-type">bool</span> isStackOverflow;                              <span class="hljs-comment">// æ˜¯å¦æ ˆæº¢å‡º</span>
<span class="hljs-type">void</span> *stackCursor;                                 <span class="hljs-comment">// å †æ ˆæ¸¸æ ‡ï¼ˆç”¨äºéå†å †æ ˆï¼‰</span>
<span class="hljs-type">const</span> <span class="hljs-type">char</span> *exceptionName;                         <span class="hljs-comment">// å¼‚å¸¸åç§°</span>
<span class="hljs-type">const</span> <span class="hljs-type">char</span> *crashReason;                           <span class="hljs-comment">// å´©æºƒåŸå› æè¿°</span>
<span class="hljs-type">bool</span> omitBinaryImages;                             <span class="hljs-comment">// æ˜¯å¦çœç•¥äºŒè¿›åˆ¶é•œåƒåˆ—è¡¨</span>
</code></pre>
<p><strong>3. å¼‚å¸¸ç±»å‹ç‰¹å®šä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// Mach å¼‚å¸¸</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">int</span> type;              <span class="hljs-comment">// EXC_BAD_ACCESS, EXC_CRASH ç­‰</span>
    <span class="hljs-type">int64_t</span> code;          <span class="hljs-comment">// KERN_INVALID_ADDRESS ç­‰</span>
    <span class="hljs-type">int64_t</span> subcode;       <span class="hljs-comment">// é€šå¸¸æ˜¯æ•…éšœåœ°å€</span>
} mach;

<span class="hljs-comment">// Unix ä¿¡å·</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">void</span> *userContext;  <span class="hljs-comment">// ucontext_t æŒ‡é’ˆ</span>
    <span class="hljs-type">int</span> signum;               <span class="hljs-comment">// SIGSEGV, SIGABRT ç­‰</span>
    <span class="hljs-type">int</span> sigcode;              <span class="hljs-comment">// SI_USER, SEGV_MAPERR ç­‰</span>
} signal;

<span class="hljs-comment">// Objective-C å¼‚å¸¸</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name;         <span class="hljs-comment">// NSRangeException, NSInvalidArgumentException ç­‰</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *userInfo;     <span class="hljs-comment">// userInfo å­—å…¸çš„å­—ç¬¦ä¸²è¡¨ç¤º</span>
} NSException;

<span class="hljs-comment">// C++ å¼‚å¸¸</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name;         <span class="hljs-comment">// std::exception ç±»å‹å</span>
} CPPException;

<span class="hljs-comment">// ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name;
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *language;         <span class="hljs-comment">// "javascript", "lua" ç­‰</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *lineOfCode;       <span class="hljs-comment">// å‡ºé”™çš„ä»£ç è¡Œ</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *customStackTrace; <span class="hljs-comment">// JSON æ ¼å¼çš„å †æ ˆ</span>
} userException;
</code></pre>
<p><strong>4. åº”ç”¨çŠ¶æ€ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-comment">// è·ä¸Šæ¬¡å´©æºƒ</span>
    <span class="hljs-type">double</span> activeDurationSinceLastCrash;
    <span class="hljs-type">double</span> backgroundDurationSinceLastCrash;
    <span class="hljs-type">int</span> launchesSinceLastCrash;
    <span class="hljs-type">int</span> sessionsSinceLastCrash;

    <span class="hljs-comment">// æœ¬æ¬¡å¯åŠ¨</span>
    <span class="hljs-type">double</span> activeDurationSinceLaunch;
    <span class="hljs-type">double</span> backgroundDurationSinceLaunch;
    <span class="hljs-type">int</span> sessionsSinceLaunch;

    <span class="hljs-comment">// å´©æºƒå†å²</span>
    <span class="hljs-type">bool</span> crashedLastLaunch;
    <span class="hljs-type">bool</span> crashedThisLaunch;

    <span class="hljs-comment">// å½“å‰çŠ¶æ€</span>
    <span class="hljs-type">double</span> appStateTransitionTime;
    <span class="hljs-type">bool</span> applicationIsActive;
    <span class="hljs-type">bool</span> applicationIsInForeground;
} AppState;
</code></pre>
<p><strong>5. ç³»ç»Ÿä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *systemName;          <span class="hljs-comment">// "iOS", "macOS"</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *systemVersion;       <span class="hljs-comment">// "15.0"</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *machine;             <span class="hljs-comment">// "iPhone14,2"</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *model;               <span class="hljs-comment">// "iPhone 13 Pro"</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *kernelVersion;       <span class="hljs-comment">// Darwin å†…æ ¸ç‰ˆæœ¬</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *osVersion;           <span class="hljs-comment">// OS æ„å»ºç‰ˆæœ¬</span>
    <span class="hljs-type">bool</span> isJailbroken;               <span class="hljs-comment">// æ˜¯å¦è¶Šç‹±</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *bootTime;            <span class="hljs-comment">// ç³»ç»Ÿå¯åŠ¨æ—¶é—´</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *appStartTime;        <span class="hljs-comment">// åº”ç”¨å¯åŠ¨æ—¶é—´</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *executablePath;      <span class="hljs-comment">// å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *executableName;      <span class="hljs-comment">// å¯æ‰§è¡Œæ–‡ä»¶å</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleID;            <span class="hljs-comment">// Bundle Identifier</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleName;          <span class="hljs-comment">// Bundle åç§°</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleVersion;       <span class="hljs-comment">// ç‰ˆæœ¬å·</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *bundleShortVersion;  <span class="hljs-comment">// çŸ­ç‰ˆæœ¬å·</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *appID;               <span class="hljs-comment">// åº”ç”¨ ID</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *cpuArchitecture;     <span class="hljs-comment">// "arm64", "x86_64"</span>
    <span class="hljs-type">int</span> cpuType;                     <span class="hljs-comment">// CPU ç±»å‹</span>
    <span class="hljs-type">int</span> cpuSubType;                  <span class="hljs-comment">// CPU å­ç±»å‹</span>
    <span class="hljs-type">int</span> binaryCPUType;               <span class="hljs-comment">// äºŒè¿›åˆ¶ CPU ç±»å‹</span>
    <span class="hljs-type">int</span> binaryCPUSubType;            <span class="hljs-comment">// äºŒè¿›åˆ¶ CPU å­ç±»å‹</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *timeZone;            <span class="hljs-comment">// æ—¶åŒº</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *processName;         <span class="hljs-comment">// è¿›ç¨‹å</span>
    <span class="hljs-type">int</span> processID;                   <span class="hljs-comment">// è¿›ç¨‹ ID</span>
    <span class="hljs-type">int</span> parentProcessID;             <span class="hljs-comment">// çˆ¶è¿›ç¨‹ ID</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *deviceAppHash;       <span class="hljs-comment">// è®¾å¤‡+åº”ç”¨å“ˆå¸Œ</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *buildType;           <span class="hljs-comment">// "Debug", "Release"</span>
    <span class="hljs-type">uint64_t</span> storageSize;            <span class="hljs-comment">// å­˜å‚¨ç©ºé—´</span>
    <span class="hljs-type">uint64_t</span> memorySize;             <span class="hljs-comment">// å†…å­˜å¤§å°</span>
    <span class="hljs-type">uint64_t</span> freeMemory;             <span class="hljs-comment">// å¯ç”¨å†…å­˜</span>
    <span class="hljs-type">uint64_t</span> usableMemory;           <span class="hljs-comment">// å¯ç”¨å†…å­˜ï¼ˆåº”ç”¨å¯ç”¨ï¼‰</span>
} System;
</code></pre>
<h3 data-id="heading-32">4.2 æœºå™¨ä¸Šä¸‹æ–‡ï¼ˆKSMachineContextï¼‰</h3>
<h4 data-id="heading-33">4.2.1 å¯„å­˜å™¨çŠ¶æ€</h4>
<p>å¯„å­˜å™¨ä¿å­˜äº†å´©æºƒç¬é—´ CPU çš„çŠ¶æ€ï¼Œå¯¹äºåˆ†æå´©æºƒè‡³å…³é‡è¦ã€‚</p>
<p><strong>ARM64 æ¶æ„</strong>ï¼ˆ<code>KSMachineContext.h</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">KSMachineContext</span> {</span>
    <span class="hljs-type">thread_t</span> thread;                    <span class="hljs-comment">// Mach çº¿ç¨‹</span>

    <span class="hljs-comment">// é€šç”¨å¯„å­˜å™¨</span>
    _STRUCT_MCONTEXT64 *machineContext; <span class="hljs-comment">// ucontext</span>

    <span class="hljs-type">bool</span> isCurrentThread;               <span class="hljs-comment">// æ˜¯å¦å½“å‰çº¿ç¨‹</span>
    <span class="hljs-type">bool</span> isStackOverflow;               <span class="hljs-comment">// æ˜¯å¦æ ˆæº¢å‡º</span>
    <span class="hljs-type">bool</span> isCrashedContext;              <span class="hljs-comment">// æ˜¯å¦å´©æºƒä¸Šä¸‹æ–‡</span>

    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *threadName;             <span class="hljs-comment">// çº¿ç¨‹åç§°</span>
} KSMachineContext;
</code></pre>
<p><strong>ARM64 å¯„å­˜å™¨å¸ƒå±€</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// _STRUCT_ARM_THREAD_STATE64</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">uint64_t</span> x[<span class="hljs-number">29</span>];      <span class="hljs-comment">// x0-x28 é€šç”¨å¯„å­˜å™¨</span>
    <span class="hljs-type">uint64_t</span> fp;         <span class="hljs-comment">// x29 å¸§æŒ‡é’ˆï¼ˆFrame Pointerï¼‰</span>
    <span class="hljs-type">uint64_t</span> lr;         <span class="hljs-comment">// x30 é“¾æ¥å¯„å­˜å™¨ï¼ˆLink Registerï¼Œè¿”å›åœ°å€ï¼‰</span>
    <span class="hljs-type">uint64_t</span> sp;         <span class="hljs-comment">// x31 æ ˆæŒ‡é’ˆï¼ˆStack Pointerï¼‰</span>
    <span class="hljs-type">uint64_t</span> pc;         <span class="hljs-comment">// ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counterï¼ŒæŒ‡ä»¤åœ°å€ï¼‰</span>
    <span class="hljs-type">uint32_t</span> cpsr;       <span class="hljs-comment">// å½“å‰ç¨‹åºçŠ¶æ€å¯„å­˜å™¨</span>
    <span class="hljs-type">uint32_t</span> __reserved;
};
</code></pre>
<p><strong>å…³é”®å¯„å­˜å™¨</strong>ï¼š</p>
<ul>
<li><strong>PC (Program Counter)</strong>ï¼šå´©æºƒæ—¶æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€</li>
<li><strong>LR (Link Register)</strong>ï¼šå‡½æ•°è¿”å›åœ°å€ï¼ˆç”¨äºå›æº¯è°ƒç”¨æ ˆï¼‰</li>
<li><strong>SP (Stack Pointer)</strong>ï¼šå½“å‰æ ˆé¡¶åœ°å€</li>
<li><strong>FP (Frame Pointer)</strong>ï¼šå½“å‰æ ˆå¸§åŸºå€</li>
<li><strong>x0-x7</strong>ï¼šå‡½æ•°å‚æ•°å’Œè¿”å›å€¼</li>
<li><strong>x8-x15</strong>ï¼šä¸´æ—¶å¯„å­˜å™¨</li>
</ul>
<h4 data-id="heading-34">4.2.2 è·å–æœºå™¨ä¸Šä¸‹æ–‡</h4>
<p><strong>ä»ä¿¡å·å¤„ç†å™¨ä¸­è·å–</strong>ï¼ˆ<code>KSMachineContext.c</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">ksmc_getContextForSignal</span><span class="hljs-params">(<span class="hljs-type">void</span> *userContext, KSMachineContext *context)</span>
{
    <span class="hljs-comment">// userContext æ˜¯ ucontext_t æŒ‡é’ˆ</span>
    _STRUCT_UCONTEXT *ucontext = (_STRUCT_UCONTEXT *)userContext;
    context-&gt;machineContext = ucontext-&gt;uc_mcontext;
    context-&gt;isCurrentThread = <span class="hljs-literal">true</span>;
    context-&gt;isCrashedContext = <span class="hljs-literal">true</span>;
}
</code></pre>
<p><strong>ä» Mach å¼‚å¸¸ä¸­è·å–</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">ksmc_getContextForThread</span><span class="hljs-params">(<span class="hljs-type">thread_t</span> thread, KSMachineContext *context, <span class="hljs-type">bool</span> isCrashedContext)</span>
{
    <span class="hljs-comment">// 1. åˆ†é…æœºå™¨ä¸Šä¸‹æ–‡ç»“æ„</span>
    context-&gt;machineContext = <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(*context-&gt;machineContext));

    <span class="hljs-comment">// 2. è·å–çº¿ç¨‹çŠ¶æ€</span>
    <span class="hljs-type">mach_msg_type_number_t</span> stateCount = MACHINE_THREAD_STATE_COUNT;
    <span class="hljs-type">kern_return_t</span> kr = thread_get_state(thread,
                                        MACHINE_THREAD_STATE,
                                        (<span class="hljs-type">thread_state_t</span>)&amp;context-&gt;machineContext-&gt;__ss,
                                        &amp;stateCount);

    <span class="hljs-comment">// 3. è·å–å¼‚å¸¸çŠ¶æ€ï¼ˆå¦‚æœæ˜¯å´©æºƒä¸Šä¸‹æ–‡ï¼‰</span>
    <span class="hljs-keyword">if</span> (isCrashedContext) {
        stateCount = MACHINE_EXCEPTION_STATE_COUNT;
        kr = thread_get_state(thread,
                              MACHINE_EXCEPTION_STATE,
                              (<span class="hljs-type">thread_state_t</span>)&amp;context-&gt;machineContext-&gt;__es,
                              &amp;stateCount);
    }

    context-&gt;thread = thread;
    context-&gt;isCurrentThread = (thread == ksthread_self());
    context-&gt;isCrashedContext = isCrashedContext;

    <span class="hljs-keyword">return</span> kr == KERN_SUCCESS;
}
</code></pre>
<h3 data-id="heading-35">4.3 å †æ ˆå›æº¯ï¼ˆStack Unwindingï¼‰</h3>
<p>å †æ ˆå›æº¯æ˜¯å´©æºƒåˆ†æçš„æ ¸å¿ƒï¼Œç”¨äºç¡®å®šå´©æºƒæ—¶çš„å‡½æ•°è°ƒç”¨é“¾ã€‚</p>
<h4 data-id="heading-36">4.3.1 å †æ ˆå¸§ï¼ˆStack Frameï¼‰</h4>
<p>æ¯æ¬¡å‡½æ•°è°ƒç”¨éƒ½ä¼šåœ¨æ ˆä¸Šåˆ›å»ºä¸€ä¸ªå¸§ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">æ ˆå¢é•¿æ–¹å‘ â†“

é«˜åœ°å€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è°ƒç”¨è€…çš„æ ˆå¸§       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† è°ƒç”¨è€…çš„ SP
â”‚  è¿”å›åœ°å€ (LR)      â”‚  å‡½æ•°è¿”å›åç»§ç»­æ‰§è¡Œçš„åœ°å€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ä¸€ä¸ªå¸§çš„ FP      â”‚  æŒ‡å‘è°ƒç”¨è€…æ ˆå¸§
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† å½“å‰ FP
â”‚  å±€éƒ¨å˜é‡           â”‚
â”‚  ...                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† å½“å‰ SP
â”‚  ï¼ˆæœªä½¿ç”¨ç©ºé—´ï¼‰     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ä½åœ°å€
</code></pre>
<h4 data-id="heading-37">4.3.2 å †æ ˆæ¸¸æ ‡ï¼ˆKSStackCursorï¼‰</h4>
<p>ä½ç½®ï¼š<code>KSCrashRecordingCore/include/KSStackCursor.h</code></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">KSStackCursor</span> {</span>
    <span class="hljs-comment">// çŠ¶æ€</span>
    <span class="hljs-type">uintptr_t</span> address;              <span class="hljs-comment">// å½“å‰å¸§çš„è¿”å›åœ°å€</span>
    <span class="hljs-type">uintptr_t</span> stackDepth;           <span class="hljs-comment">// æ ˆæ·±åº¦ï¼ˆå¸§æ•°ï¼‰</span>

    <span class="hljs-comment">// ç¬¦å·åŒ–ä¿¡æ¯</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *symbolName;         <span class="hljs-comment">// ç¬¦å·åç§°</span>
    <span class="hljs-type">uintptr_t</span> symbolAddress;        <span class="hljs-comment">// ç¬¦å·åœ°å€</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *imageName;          <span class="hljs-comment">// æ‰€å±é•œåƒåç§°</span>
    <span class="hljs-type">uintptr_t</span> imageAddress;         <span class="hljs-comment">// é•œåƒåŠ è½½åœ°å€</span>

    <span class="hljs-comment">// æ§åˆ¶</span>
    <span class="hljs-type">bool</span> (*advanceCursor)(<span class="hljs-keyword">struct</span> KSStackCursor *cursor);  <span class="hljs-comment">// å‰è¿›åˆ°ä¸‹ä¸€å¸§</span>
    <span class="hljs-type">bool</span> (*resetCursor)(<span class="hljs-keyword">struct</span> KSStackCursor *cursor);    <span class="hljs-comment">// é‡ç½®æ¸¸æ ‡</span>

    <span class="hljs-comment">// å†…éƒ¨çŠ¶æ€</span>
    <span class="hljs-type">void</span> *context;                  <span class="hljs-comment">// å®ç°ç›¸å…³çš„ä¸Šä¸‹æ–‡</span>
} KSStackCursor;
</code></pre>
<h4 data-id="heading-38">4.3.3 åŸºäº FP çš„å›æº¯</h4>
<p><strong>kssc_initWithMachineContext å®ç°æ€è·¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">advanceCursor_FP</span><span class="hljs-params">(KSStackCursor *cursor)</span>
{
    KSMachineContext *context = (KSMachineContext *)cursor-&gt;context;

    <span class="hljs-comment">// 1. è·å–å½“å‰ FP å’Œ LR</span>
    <span class="hljs-type">uintptr_t</span> currentFP = ksmc_framePointer(context);
    <span class="hljs-type">uintptr_t</span> returnAddress = ksmc_linkRegister(context);

    <span class="hljs-comment">// 2. æ£€æŸ¥ FP æœ‰æ•ˆæ€§ï¼ˆé˜²æ­¢æ ˆæŸåå¯¼è‡´çš„æ— é™å¾ªç¯ï¼‰</span>
    <span class="hljs-keyword">if</span> (currentFP == <span class="hljs-number">0</span> || !ksmem_isMemoryReadable((<span class="hljs-type">void</span> *)currentFP, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">uintptr_t</span>) * <span class="hljs-number">2</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// åˆ°è¾¾æ ˆåº•æˆ–æ ˆå·²æŸå</span>
    }

    <span class="hljs-comment">// 3. è¯»å–ä¸‹ä¸€å¸§çš„ FP å’Œè¿”å›åœ°å€</span>
    <span class="hljs-type">uintptr_t</span> *framePtr = (<span class="hljs-type">uintptr_t</span> *)currentFP;
    <span class="hljs-type">uintptr_t</span> nextFP = framePtr[<span class="hljs-number">0</span>];      <span class="hljs-comment">// å‰ä¸€ä¸ª FP</span>
    <span class="hljs-type">uintptr_t</span> nextLR = framePtr[<span class="hljs-number">1</span>];      <span class="hljs-comment">// è¿”å›åœ°å€</span>

    <span class="hljs-comment">// 4. æ›´æ–°æ¸¸æ ‡</span>
    cursor-&gt;address = returnAddress;
    cursor-&gt;stackDepth++;

    <span class="hljs-comment">// 5. æ›´æ–°ä¸Šä¸‹æ–‡çš„ FP å’Œ LR</span>
    ksmc_setFramePointer(context, nextFP);
    ksmc_setLinkRegister(context, nextLR);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p><strong>å †æ ˆæ·±åº¦é™åˆ¶</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> KSSC_MAX_STACK_DEPTH 200  <span class="hljs-comment">// é˜²æ­¢æ ˆæŸåå¯¼è‡´æ— é™å›æº¯</span></span>
</code></pre>
<h4 data-id="heading-39">4.3.4 ç¬¦å·åŒ–ï¼ˆSymbolicationï¼‰</h4>
<p><strong>æŸ¥æ‰¾ç¬¦å·ä¿¡æ¯</strong>ï¼ˆ<code>KSSymbolicator.c</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">ksbt_symbolicate</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">uintptr_t</span> address, KSSymbolicationInfo *info)</span>
{
    <span class="hljs-comment">// 1. æŸ¥æ‰¾åŒ…å«è¯¥åœ°å€çš„é•œåƒï¼ˆdylib/frameworkï¼‰</span>
    Dl_info dlinfo;
    <span class="hljs-keyword">if</span> (dladdr((<span class="hljs-type">void</span> *)address, &amp;dlinfo) == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">// 2. å¡«å……ç¬¦å·ä¿¡æ¯</span>
    info-&gt;imageAddress = (<span class="hljs-type">uintptr_t</span>)dlinfo.dli_fbase;    <span class="hljs-comment">// é•œåƒåŸºå€</span>
    info-&gt;imageName = dlinfo.dli_fname;                  <span class="hljs-comment">// é•œåƒè·¯å¾„</span>
    info-&gt;symbolAddress = (<span class="hljs-type">uintptr_t</span>)dlinfo.dli_saddr;   <span class="hljs-comment">// ç¬¦å·åœ°å€</span>
    info-&gt;symbolName = dlinfo.dli_sname;                 <span class="hljs-comment">// ç¬¦å·åç§°</span>

    <span class="hljs-comment">// 3. è®¡ç®—åç§»é‡</span>
    info-&gt;offset = address - info-&gt;symbolAddress;

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p><strong>ç¬¦å·åŒ–ç»“æœç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">åœ°å€: 0x0000000102a3c4f8</span>
<span class="hljs-section">é•œåƒ: /path/to/MyApp.app/MyApp (0x0000000102a00000)</span>
<span class="hljs-section">ç¬¦å·: -[ViewController buttonTapped:] (0x0000000102a3c4e0)</span>
<span class="hljs-section">åç§»: +24</span>
</code></pre>
<p>å®Œæ•´è¡¨ç¤ºï¼š<code>-[ViewController buttonTapped:] + 24</code></p>
<h3 data-id="heading-40">4.4 Binary Images æ”¶é›†</h3>
<p>Binary Images æ˜¯ç¬¦å·åŒ–çš„å…³é”®ä¿¡æ¯ï¼ŒåŒ…å«æ‰€æœ‰å·²åŠ è½½çš„åŠ¨æ€åº“å’Œå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<h4 data-id="heading-41">4.4.1 é•œåƒä¿¡æ¯ç»“æ„</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name;           <span class="hljs-comment">// é•œåƒè·¯å¾„</span>
    <span class="hljs-type">uintptr_t</span> address;          <span class="hljs-comment">// åŠ è½½åœ°å€ï¼ˆASLR åçš„åœ°å€ï¼‰</span>
    <span class="hljs-type">uintptr_t</span> size;             <span class="hljs-comment">// é•œåƒå¤§å°</span>
    <span class="hljs-type">uuid_t</span> uuid;                <span class="hljs-comment">// UUIDï¼ˆç”¨äºåŒ¹é… dSYMï¼‰</span>
    <span class="hljs-type">int</span> cpuType;                <span class="hljs-comment">// CPU ç±»å‹</span>
    <span class="hljs-type">int</span> cpuSubType;             <span class="hljs-comment">// CPU å­ç±»å‹</span>
} KSBinaryImage;
</code></pre>
<h4 data-id="heading-42">4.4.2 éå†å·²åŠ è½½é•œåƒ</h4>
<p><strong>ä½¿ç”¨ dyld API</strong>ï¼ˆ<code>KSBinaryImage.c</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">ksbinaryimage_get_images</span><span class="hljs-params">(<span class="hljs-type">void</span> (*callback)(KSBinaryImage *image, <span class="hljs-type">void</span> *context), <span class="hljs-type">void</span> *context)</span>
{
    <span class="hljs-comment">// 1. è·å–é•œåƒæ•°é‡</span>
    <span class="hljs-type">uint32_t</span> imageCount = _dyld_image_count();

    <span class="hljs-comment">// 2. éå†æ¯ä¸ªé•œåƒ</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; imageCount; i++) {
        <span class="hljs-comment">// è·å–é•œåƒå¤´éƒ¨</span>
        <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">mach_header</span> *<span class="hljs-title">header</span> =</span> _dyld_get_image_header(i);
        <span class="hljs-keyword">if</span> (header == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">continue</span>;

        <span class="hljs-comment">// è·å–é•œåƒåç§°</span>
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name = _dyld_get_image_name(i);

        <span class="hljs-comment">// è·å–é•œåƒæ»‘åŠ¨åç§»ï¼ˆASLRï¼‰</span>
        <span class="hljs-type">intptr_t</span> vmaddr_slide = _dyld_get_image_vmaddr_slide(i);

        KSBinaryImage image;
        image.name = name;
        image.address = (<span class="hljs-type">uintptr_t</span>)header + vmaddr_slide;

        <span class="hljs-comment">// 3. æå– UUID</span>
        extractUUID(header, image.uuid);

        <span class="hljs-comment">// 4. æå– CPU ç±»å‹</span>
        image.cpuType = header-&gt;cputype;
        image.cpuSubType = header-&gt;cpusubtype;

        <span class="hljs-comment">// 5. è®¡ç®—é•œåƒå¤§å°</span>
        image.size = calculateImageSize(header);

        <span class="hljs-comment">// 6. å›è°ƒ</span>
        callback(&amp;image, context);
    }
}
</code></pre>
<h4 data-id="heading-43">4.4.3 UUID æå–</h4>
<p>UUID ç”¨äºåŒ¹é…å´©æºƒæŠ¥å‘Šå’Œ dSYM æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">extractUUID</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> mach_header *header, <span class="hljs-type">uuid_t</span> uuid)</span>
{
    <span class="hljs-comment">// 1. éå† Load Commands</span>
    <span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> *ptr = (<span class="hljs-type">const</span> <span class="hljs-type">uint8_t</span> *)(header + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">uint32_t</span> i = <span class="hljs-number">0</span>; i &lt; header-&gt;ncmds; i++) {
        <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">load_command</span> *<span class="hljs-title">cmd</span> =</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> load_command *)ptr;

        <span class="hljs-comment">// 2. æŸ¥æ‰¾ LC_UUID å‘½ä»¤</span>
        <span class="hljs-keyword">if</span> (cmd-&gt;cmd == LC_UUID) {
            <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">uuid_command</span> *<span class="hljs-title">uuidCmd</span> =</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> uuid_command *)cmd;
            <span class="hljs-built_in">memcpy</span>(uuid, uuidCmd-&gt;uuid, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">uuid_t</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }

        ptr += cmd-&gt;cmdsize;
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<hr/>
<h2 data-id="heading-44">5. å´©æºƒæŠ¥å‘Šç”Ÿæˆæµç¨‹</h2>
<h3 data-id="heading-45">5.1 æ•´ä½“æµç¨‹</h3>
<pre><code class="hljs language-scss" lang="scss">å´©æºƒå‘ç”Ÿ
    â†“
ç›‘æ§å™¨æ•è·ï¼ˆMach/Signal/NSExceptionï¼‰
    â†“
å¡«å…… KSCrash_MonitorContext
    â†“
<span class="hljs-built_in">kscm_handleException</span>(context)
    â†“
<span class="hljs-built_in">kscrashreport_writeStandardReport</span>(context, path)
    â†“
    â”œâ”€ æ‰“å¼€æ–‡ä»¶
    â”œâ”€ å†™å…¥ JSON æŠ¥å‘Šå¤´
    â”œâ”€ å†™å…¥ Report éƒ¨åˆ†
    â”‚   â”œâ”€ ID å’Œæ—¶é—´æˆ³
    â”‚   â”œâ”€ ç±»å‹ï¼ˆcrash/user_reportedï¼‰
    â”‚   â””â”€ ç‰ˆæœ¬
    â”œâ”€ å†™å…¥ Crash éƒ¨åˆ†
    â”‚   â”œâ”€ é”™è¯¯ä¿¡æ¯ï¼ˆerrorï¼‰
    â”‚   â”œâ”€ çº¿ç¨‹åˆ—è¡¨ï¼ˆthreadsï¼‰
    â”‚   â””â”€ è¯Šæ–­ä¿¡æ¯ï¼ˆdiagnosisï¼‰
    â”œâ”€ å†™å…¥ Binary Images
    â”œâ”€ å†™å…¥ System ä¿¡æ¯
    â”œâ”€ å†™å…¥ Process ä¿¡æ¯
    â”œâ”€ å†™å…¥ User ä¿¡æ¯
    â””â”€ å†™å…¥ Debug ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
    â†“
å…³é—­æ–‡ä»¶
    â†“
æ¢å¤ç¯å¢ƒ/ç»ˆæ­¢è¿›ç¨‹
</code></pre>
<h3 data-id="heading-46">5.2 JSON Writer æ¥å£</h3>
<p>ä½ç½®ï¼š<code>KSCrashRecording/include/KSCrashReportWriter.h</code></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-comment">// åŸºç¡€å†™å…¥</span>
    <span class="hljs-type">void</span> (*addBooleanElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">bool</span> value);
    <span class="hljs-type">void</span> (*addIntegerElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">int64_t</span> value);
    <span class="hljs-type">void</span> (*addFloatingPointElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">double</span> value);
    <span class="hljs-type">void</span> (*addStringElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *value);
    <span class="hljs-type">void</span> (*addDataElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *value, <span class="hljs-type">size_t</span> length);
    <span class="hljs-type">void</span> (*addUUIDElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">const</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> *value);
    <span class="hljs-type">void</span> (*addJSONElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *jsonElement);
    <span class="hljs-type">void</span> (*addNullElement)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name);

    <span class="hljs-comment">// å®¹å™¨</span>
    <span class="hljs-type">void</span> (*beginObject)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name);
    <span class="hljs-type">void</span> (*endObject)(<span class="hljs-type">const</span> KSCrashReportWriter *writer);
    <span class="hljs-type">void</span> (*beginArray)(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *name);
    <span class="hljs-type">void</span> (*endArray)(<span class="hljs-type">const</span> KSCrashReportWriter *writer);

    <span class="hljs-comment">// å†…éƒ¨çŠ¶æ€</span>
    <span class="hljs-type">void</span> *context;
} KSCrashReportWriter;
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰å‡½æ•°éƒ½æ˜¯å¼‚æ­¥å®‰å…¨çš„</li>
<li>ç›´æ¥å†™å…¥æ–‡ä»¶ï¼Œä¸ç»è¿‡ç¼“å†²åŒºï¼ˆé¿å…å†…å­˜åˆ†é…ï¼‰</li>
<li>æµå¼å†™å…¥ï¼Œè¾¹ç”Ÿæˆè¾¹å†™å…¥ç£ç›˜</li>
</ul>
<h3 data-id="heading-47">5.3 æŠ¥å‘Šç»“æ„</h3>
<h4 data-id="heading-48">5.3.1 å®Œæ•´æŠ¥å‘Šç»“æ„</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"report"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"UUID"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1234567890</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"crash"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"crash"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mach"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"mach"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"exception"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EXC_BAD_ACCESS"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"KERN_INVALID_ADDRESS"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"subcode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x0000000000000010"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"signal"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"signal"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"SIGSEGV"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"SEGV_MAPERR"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"SIGSEGV"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"address"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x0000000000000010"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Attempted to dereference null pointer."</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"threads"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"crashed"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"current_thread"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"backtrace"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"contents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
              <span class="hljs-attr">"instruction_addr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x102a3c4f8"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"object_addr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x102a00000"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"object_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MyApp"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"symbol_addr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x102a3c4e0"</span><span class="hljs-punctuation">,</span>
              <span class="hljs-attr">"symbol_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"-[ViewController buttonTapped:]"</span>
            <span class="hljs-punctuation">}</span>
          <span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"registers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"basic"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"pc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x102a3c4f8"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"sp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x16b2a3e40"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"fp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x16b2a3e50"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"lr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x102a3c500"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"diagnosis"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Attempted to access memory at 0x10"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"binary_images"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/path/to/MyApp"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"uuid"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A1B2C3D4-..."</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cpu_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16777228</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cpu_subtype"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_addr"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0x102a00000"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1048576</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"system"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"system_name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iOS"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"system_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"15.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"machine"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPhone14,2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"iPhone 13 Pro"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"memory"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6442450944</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"free"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1073741824</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"usable"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3221225472</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"process"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MyApp"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"pid"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">12345</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"start_time"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1234567800</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"user"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"custom_key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"custom_value"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-49">5.3.2 æ ¸å¿ƒéƒ¨åˆ†æºç åˆ†æ</h4>
<p><strong>å†™å…¥é”™è¯¯ä¿¡æ¯</strong>ï¼ˆ<code>KSCrashReportC.c</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">writeError</span><span class="hljs-params">(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> KSCrash_MonitorContext *context)</span>
{
    writer-&gt;beginObject(writer, <span class="hljs-string">"error"</span>);
    {
        <span class="hljs-comment">// 1. å†™å…¥å¼‚å¸¸ç±»å‹</span>
        <span class="hljs-type">const</span> <span class="hljs-type">char</span> *crashType = <span class="hljs-string">"unknown"</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(context-&gt;monitorId, <span class="hljs-string">"MachException"</span>) == <span class="hljs-number">0</span>) {
            crashType = <span class="hljs-string">"mach"</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(context-&gt;monitorId, <span class="hljs-string">"Signal"</span>) == <span class="hljs-number">0</span>) {
            crashType = <span class="hljs-string">"signal"</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(context-&gt;monitorId, <span class="hljs-string">"NSException"</span>) == <span class="hljs-number">0</span>) {
            crashType = <span class="hljs-string">"nsexception"</span>;
        }
        writer-&gt;addStringElement(writer, <span class="hljs-string">"type"</span>, crashType);

        <span class="hljs-comment">// 2. å†™å…¥ Mach å¼‚å¸¸ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰</span>
        <span class="hljs-keyword">if</span> (context-&gt;mach.type != <span class="hljs-number">0</span>) {
            writer-&gt;beginObject(writer, <span class="hljs-string">"mach"</span>);
            {
                writer-&gt;addStringElement(writer, <span class="hljs-string">"exception"</span>, ksmach_exceptionName(context-&gt;mach.type));
                writer-&gt;addStringElement(writer, <span class="hljs-string">"code"</span>, ksmach_kernelReturnCodeName(context-&gt;mach.code));
                writer-&gt;addIntegerElement(writer, <span class="hljs-string">"subcode"</span>, context-&gt;mach.subcode);
            }
            writer-&gt;endObject(writer);
        }

        <span class="hljs-comment">// 3. å†™å…¥ä¿¡å·ä¿¡æ¯ï¼ˆå¦‚æœæœ‰ï¼‰</span>
        <span class="hljs-keyword">if</span> (context-&gt;signal.signum != <span class="hljs-number">0</span>) {
            writer-&gt;beginObject(writer, <span class="hljs-string">"signal"</span>);
            {
                writer-&gt;addIntegerElement(writer, <span class="hljs-string">"signal"</span>, context-&gt;signal.signum);
                writer-&gt;addStringElement(writer, <span class="hljs-string">"name"</span>, kssignal_signalName(context-&gt;signal.signum));
                writer-&gt;addStringElement(writer, <span class="hljs-string">"code"</span>, kssignal_signalCodeName(context-&gt;signal.signum,
                                                                                  context-&gt;signal.sigcode));
            }
            writer-&gt;endObject(writer);
        }

        <span class="hljs-comment">// 4. å†™å…¥æ•…éšœåœ°å€</span>
        <span class="hljs-keyword">if</span> (context-&gt;faultAddress != <span class="hljs-number">0</span>) {
            writer-&gt;addIntegerElement(writer, <span class="hljs-string">"address"</span>, context-&gt;faultAddress);
        }

        <span class="hljs-comment">// 5. å†™å…¥å´©æºƒåŸå› </span>
        <span class="hljs-keyword">if</span> (context-&gt;crashReason != <span class="hljs-literal">NULL</span>) {
            writer-&gt;addStringElement(writer, <span class="hljs-string">"reason"</span>, context-&gt;crashReason);
        }
    }
    writer-&gt;endObject(writer);
}
</code></pre>
<p><strong>å†™å…¥çº¿ç¨‹ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">writeThreads</span><span class="hljs-params">(<span class="hljs-type">const</span> KSCrashReportWriter *writer, <span class="hljs-type">const</span> KSCrash_MonitorContext *context)</span>
{
    writer-&gt;beginArray(writer, <span class="hljs-string">"threads"</span>);
    {
        <span class="hljs-type">thread_act_array_t</span> threads;
        <span class="hljs-type">mach_msg_type_number_t</span> numThreads;
        task_threads(mach_task_self(), &amp;threads, &amp;numThreads);

        <span class="hljs-keyword">for</span> (<span class="hljs-type">mach_msg_type_number_t</span> i = <span class="hljs-number">0</span>; i &lt; numThreads; i++) {
            <span class="hljs-type">thread_t</span> thread = threads[i];

            writer-&gt;beginObject(writer, <span class="hljs-literal">NULL</span>);
            {
                <span class="hljs-comment">// 1. çº¿ç¨‹ç´¢å¼•</span>
                writer-&gt;addIntegerElement(writer, <span class="hljs-string">"index"</span>, i);

                <span class="hljs-comment">// 2. æ˜¯å¦å´©æºƒçº¿ç¨‹</span>
                <span class="hljs-type">bool</span> isCrashedThread = (thread == context-&gt;offendingMachineContext-&gt;thread);
                writer-&gt;addBooleanElement(writer, <span class="hljs-string">"crashed"</span>, isCrashedThread);

                <span class="hljs-comment">// 3. æ˜¯å¦å½“å‰çº¿ç¨‹</span>
                <span class="hljs-type">bool</span> isCurrentThread = (thread == ksthread_self());
                writer-&gt;addBooleanElement(writer, <span class="hljs-string">"current_thread"</span>, isCurrentThread);

                <span class="hljs-comment">// 4. çº¿ç¨‹åç§°</span>
                <span class="hljs-type">char</span> threadName[<span class="hljs-number">64</span>];
                <span class="hljs-keyword">if</span> (ksthread_getThreadName(thread, threadName, <span class="hljs-keyword">sizeof</span>(threadName))) {
                    writer-&gt;addStringElement(writer, <span class="hljs-string">"name"</span>, threadName);
                }

                <span class="hljs-comment">// 5. çº¿ç¨‹ä¼˜å…ˆçº§</span>
                writer-&gt;addIntegerElement(writer, <span class="hljs-string">"priority"</span>, ksthread_getThreadPriority(thread));

                <span class="hljs-comment">// 6. å †æ ˆå›æº¯</span>
                <span class="hljs-keyword">if</span> (isCrashedThread &amp;&amp; context-&gt;stackCursor != <span class="hljs-literal">NULL</span>) {
                    <span class="hljs-comment">// ä½¿ç”¨ä¿å­˜çš„å´©æºƒçº¿ç¨‹å †æ ˆ</span>
                    writeBacktrace(writer, context-&gt;stackCursor);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-comment">// è·å–å…¶ä»–çº¿ç¨‹çš„å †æ ˆ</span>
                    KSMachineContext threadContext;
                    <span class="hljs-keyword">if</span> (ksmc_getContextForThread(thread, &amp;threadContext, <span class="hljs-literal">false</span>)) {
                        KSStackCursor cursor;
                        kssc_initWithMachineContext(&amp;cursor, KSSC_MAX_STACK_DEPTH, &amp;threadContext);
                        writeBacktrace(writer, &amp;cursor);
                    }
                }

                <span class="hljs-comment">// 7. å¯„å­˜å™¨ï¼ˆä»…å´©æºƒçº¿ç¨‹ï¼‰</span>
                <span class="hljs-keyword">if</span> (isCrashedThread &amp;&amp; context-&gt;registersAreValid) {
                    writeRegisters(writer, context-&gt;offendingMachineContext);
                }
            }
            writer-&gt;endObject(writer);
        }

        <span class="hljs-comment">// æ¸…ç†</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">mach_msg_type_number_t</span> i = <span class="hljs-number">0</span>; i &lt; numThreads; i++) {
            mach_port_deallocate(mach_task_self(), threads[i]);
        }
        vm_deallocate(mach_task_self(), (<span class="hljs-type">vm_address_t</span>)threads, numThreads * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">thread_t</span>));
    }
    writer-&gt;endArray(writer);
}
</code></pre>
<p><strong>å†™å…¥å †æ ˆå›æº¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">void</span> <span class="hljs-title function_">writeBacktrace</span><span class="hljs-params">(<span class="hljs-type">const</span> KSCrashReportWriter *writer, KSStackCursor *cursor)</span>
{
    writer-&gt;beginObject(writer, <span class="hljs-string">"backtrace"</span>);
    {
        writer-&gt;beginArray(writer, <span class="hljs-string">"contents"</span>);
        {
            <span class="hljs-type">int</span> frameIndex = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (cursor-&gt;advanceCursor(cursor) &amp;&amp; frameIndex &lt; KSSC_MAX_STACK_DEPTH) {
                writer-&gt;beginObject(writer, <span class="hljs-literal">NULL</span>);
                {
                    <span class="hljs-comment">// 1. æŒ‡ä»¤åœ°å€</span>
                    writer-&gt;addIntegerElement(writer, <span class="hljs-string">"instruction_addr"</span>, cursor-&gt;address);

                    <span class="hljs-comment">// 2. ç¬¦å·åŒ–ä¿¡æ¯</span>
                    <span class="hljs-keyword">if</span> (cursor-&gt;symbolName != <span class="hljs-literal">NULL</span>) {
                        writer-&gt;addStringElement(writer, <span class="hljs-string">"symbol_name"</span>, cursor-&gt;symbolName);
                        writer-&gt;addIntegerElement(writer, <span class="hljs-string">"symbol_addr"</span>, cursor-&gt;symbolAddress);
                    }

                    <span class="hljs-comment">// 3. é•œåƒä¿¡æ¯</span>
                    <span class="hljs-keyword">if</span> (cursor-&gt;imageName != <span class="hljs-literal">NULL</span>) {
                        writer-&gt;addStringElement(writer, <span class="hljs-string">"object_name"</span>, cursor-&gt;imageName);
                        writer-&gt;addIntegerElement(writer, <span class="hljs-string">"object_addr"</span>, cursor-&gt;imageAddress);
                    }
                }
                writer-&gt;endObject(writer);

                frameIndex++;
            }
        }
        writer-&gt;endArray(writer);
    }
    writer-&gt;endObject(writer);
}
</code></pre>
<h3 data-id="heading-50">5.4 æŠ¥å‘Šå­˜å‚¨</h3>
<p><strong>å­˜å‚¨è·¯å¾„</strong>ï¼ˆ<code>KSCrash.m:73-87</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">NSString *kscrash_getDefaultInstallPath(void)
{
    // 1. è·å– Caches ç›®å½•
    NSArray *directories = NSSearchPathForDirectoriesInDomains(NSCachesDirectory,
                                                               NSUserDomainMask,
                                                               YES);
    NSString *cachePath = [directories objectAtIndex:0];

    // 2. æ„é€ è·¯å¾„ï¼šCaches/KSCrash/{BundleName}
    NSString *bundleName = kscrash_getBundleName();
    NSString *pathEnd = [@"KSCrash" stringByAppendingPathComponent:bundleName];
    return [cachePath stringByAppendingPathComponent:pathEnd];
}
</code></pre>
<p><strong>å®Œæ•´è·¯å¾„ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/var/mobile/Containers/Data/Application/{UUID}/Library/Caches/KSCrash/MyApp/
    â”œâ”€â”€ CrashReport-2024-01-01-120000.json
    â”œâ”€â”€ CrashReport-2024-01-02-143000.json
    â””â”€â”€ state.json
</code></pre>
<p><strong>æ–‡ä»¶å‘½å</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// æ ¼å¼ï¼šCrashReport-{timestamp}-{eventID}.json</span>
<span class="hljs-built_in">sprintf</span>(filename, <span class="hljs-string">"CrashReport-%lld-%s.json"</span>, timestamp, eventID);
</code></pre>
<hr/>
<h2 data-id="heading-51">6. é…ç½®ä¸ä½¿ç”¨</h2>
<h3 data-id="heading-52">6.1 åŸºç¡€é…ç½®</h3>
<p>åŸºäºä½ çš„é¡¹ç›®ä»£ç ï¼ˆ<code>AppDelegate.swift:76-131</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">setupKSCrash</span>() {
    <span class="hljs-comment">// 1. åˆ›å»ºé…ç½®å¯¹è±¡</span>
    <span class="hljs-keyword">let</span> config <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashConfiguration</span>()

    <span class="hljs-comment">// 2. é…ç½®ç›‘æ§å™¨ï¼ˆé€‰æ‹©è¦å¯ç”¨çš„ç›‘æ§å™¨ï¼‰</span>
    config.monitors <span class="hljs-operator">=</span> [.all]  <span class="hljs-comment">// å¯ç”¨æ‰€æœ‰ç›‘æ§å™¨</span>
    <span class="hljs-comment">// æˆ–è€…é€‰æ‹©æ€§å¯ç”¨</span>
    <span class="hljs-comment">// config.monitors = [.machException, .signal, .nsException]</span>

    <span class="hljs-comment">// 3. é€‰æ‹©å®‰è£…æ–¹å¼</span>
    <span class="hljs-keyword">let</span> console <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationConsole</span>.shared
    console.printAppleFormat <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">// ä½¿ç”¨ Apple æ ¼å¼è¾“å‡º</span>

    <span class="hljs-comment">// 4. å®‰è£…</span>
    <span class="hljs-keyword">do</span> {
        <span class="hljs-keyword">try</span> console.install(with: config)
    } <span class="hljs-keyword">catch</span> {
        mm_printLog(<span class="hljs-string">"KSCrash å®‰è£…å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
    }

    <span class="hljs-comment">// 5. å¤„ç†å·²æœ‰çš„å´©æºƒæŠ¥å‘Š</span>
    console.sendAllReports { reports, error <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> error {
            mm_printLog(<span class="hljs-string">"å‘é€æŠ¥å‘Šå¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
        }

        reports<span class="hljs-operator">?</span>.forEach { report <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> dictReport <span class="hljs-operator">=</span> report <span class="hljs-keyword">as?</span> <span class="hljs-type">CrashReportDictionary</span> {
                <span class="hljs-comment">// å¤„ç†å­—å…¸æ ¼å¼æŠ¥å‘Š</span>
                <span class="hljs-keyword">let</span> reportDict <span class="hljs-operator">=</span> dictReport.value
                <span class="hljs-keyword">self</span>.processCrashReport(reportDict)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> strReport <span class="hljs-operator">=</span> report <span class="hljs-keyword">as?</span> <span class="hljs-type">CrashReportString</span> {
                <span class="hljs-comment">// å¤„ç†å­—ç¬¦ä¸²æ ¼å¼æŠ¥å‘Š</span>
                <span class="hljs-keyword">let</span> reportString <span class="hljs-operator">=</span> strReport.value
                <span class="hljs-keyword">self</span>.processCrashReportString(reportString)
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-53">6.2 é«˜çº§é…ç½®</h3>
<h4 data-id="heading-54">6.2.1 è‡ªå®šä¹‰ç”¨æˆ·ä¿¡æ¯</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è®¾ç½®å…¨å±€ç”¨æˆ·ä¿¡æ¯ï¼ˆä¼šåŒ…å«åœ¨æ‰€æœ‰å´©æºƒæŠ¥å‘Šä¸­ï¼‰</span>
<span class="hljs-type">KSCrash</span>.shared.userInfo <span class="hljs-operator">=</span> [
    <span class="hljs-string">"userId"</span>: <span class="hljs-string">"12345"</span>,
    <span class="hljs-string">"userName"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
    <span class="hljs-string">"userLevel"</span>: <span class="hljs-number">5</span>,
    <span class="hljs-string">"appBuild"</span>: <span class="hljs-type">Bundle</span>.main.infoDictionary<span class="hljs-operator">?</span>[<span class="hljs-string">"CFBundleVersion"</span>] <span class="hljs-keyword">as?</span> <span class="hljs-type">String</span> <span class="hljs-operator">??</span> <span class="hljs-string">"unknown"</span>
]
</code></pre>
<h4 data-id="heading-55">6.2.2 é…ç½®è¯¦ç»†é€‰é¡¹</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> config <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashConfiguration</span>()

<span class="hljs-comment">// ç›‘æ§å™¨é…ç½®</span>
config.monitors <span class="hljs-operator">=</span> [.all]  <span class="hljs-comment">// æ‰€æœ‰ç›‘æ§å™¨</span>

<span class="hljs-comment">// å†…å­˜å†…çœï¼ˆæŸ¥æ‰¾å­—ç¬¦ä¸²ã€ObjC å¯¹è±¡ç­‰ï¼‰</span>
config.introspectionRules <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashIntrospectionRules</span>.all()

<span class="hljs-comment">// æˆ–è€…è‡ªå®šä¹‰è§„åˆ™</span>
<span class="hljs-keyword">let</span> rules <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashIntrospectionRules</span>()
rules.shouldIntrospectMemory <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
rules.minimumIntrospectionDistance <span class="hljs-operator">=</span> <span class="hljs-number">128</span>  <span class="hljs-comment">// æœ€å°æ£€æŸ¥è·ç¦»</span>
rules.maximumIntrospectionDistance <span class="hljs-operator">=</span> <span class="hljs-number">4096</span> <span class="hljs-comment">// æœ€å¤§æ£€æŸ¥è·ç¦»</span>
config.introspectionRules <span class="hljs-operator">=</span> rules

<span class="hljs-comment">// ä¸è¦å†…çœçš„ç±»ï¼ˆé¿å…æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼‰</span>
config.doNotIntrospectClasses <span class="hljs-operator">=</span> [<span class="hljs-string">"SecureToken"</span>, <span class="hljs-string">"Password"</span>]

<span class="hljs-comment">// å´©æºƒæŠ¥å‘Šé™„åŠ ä¿¡æ¯</span>
config.addConsoleLogToReport <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">// åŒ…å«æ§åˆ¶å°æ—¥å¿—</span>
config.printPreviousLog <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>       <span class="hljs-comment">// æ‰“å°ä¹‹å‰çš„æ—¥å¿—</span>

<span class="hljs-comment">// åƒµå°¸å¯¹è±¡æ£€æµ‹</span>
config.enableZombie <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
config.zombieCacheSize <span class="hljs-operator">=</span> <span class="hljs-number">16384</span>  <span class="hljs-comment">// åƒµå°¸å¯¹è±¡ç¼“å­˜å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span>

<span class="hljs-comment">// æ­»é”æ£€æµ‹</span>
config.deadlockWatchdogInterval <span class="hljs-operator">=</span> <span class="hljs-number">5.0</span>  <span class="hljs-comment">// ä¸»çº¿ç¨‹æ— å“åº”è¶…æ—¶ï¼ˆç§’ï¼‰</span>
</code></pre>
<h4 data-id="heading-56">6.2.3 è‡ªå®šä¹‰æŠ¥å‘Šå­—æ®µ</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è®¾ç½®æŠ¥å‘Šå†™å…¥å›è°ƒ</span>
config.onCrash <span class="hljs-operator">=</span> {
    <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œåªèƒ½ä½¿ç”¨å¼‚æ­¥å®‰å…¨çš„å‡½æ•°ï¼</span>
    <span class="hljs-comment">// ä¸èƒ½è°ƒç”¨ mallocã€Objective-C æ–¹æ³•ç­‰</span>

    <span class="hljs-comment">// å¯ä»¥å†™å…¥è‡ªå®šä¹‰å­—æ®µ</span>
    <span class="hljs-comment">// éœ€è¦ä½¿ç”¨ C API</span>
}
</code></pre>
<h3 data-id="heading-57">6.3 å®‰è£…æ–¹å¼å¯¹æ¯”</h3>
<h4 data-id="heading-58">6.3.1 Console å®‰è£…ï¼ˆæ§åˆ¶å°è¾“å‡ºï¼‰</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> console <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationConsole</span>.shared
console.printAppleFormat <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">// Apple æ ¼å¼ï¼ˆç±»ä¼¼ CrashReporterï¼‰</span>
<span class="hljs-keyword">try</span> console.install(with: config)
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>å¼€å‘è°ƒè¯•æ–¹ä¾¿</li>
<li>ç›´æ¥åœ¨æ§åˆ¶å°æŸ¥çœ‹</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒä¸é€‚ç”¨</li>
</ul>
<h4 data-id="heading-59">6.3.2 Email å®‰è£…ï¼ˆé‚®ä»¶å‘é€ï¼‰</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> email <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationEmail</span>.shared
email.recipients <span class="hljs-operator">=</span> [<span class="hljs-string">"crash@example.com"</span>]
email.subject <span class="hljs-operator">=</span> <span class="hljs-string">"[MyApp] å´©æºƒæŠ¥å‘Š"</span>
email.message <span class="hljs-operator">=</span> <span class="hljs-string">"åº”ç”¨å‘ç”Ÿå´©æºƒï¼Œè¯·æŸ¥çœ‹é™„ä»¶"</span>
email.filenameFmt <span class="hljs-operator">=</span> <span class="hljs-string">"crash-%d.txt"</span>

email.addConditionalAlert(
    withTitle: <span class="hljs-string">"å´©æºƒæ£€æµ‹"</span>,
    message: <span class="hljs-string">"åº”ç”¨ä¸Šæ¬¡å´©æºƒäº†ï¼Œæ˜¯å¦å‘é€æŠ¥å‘Šï¼Ÿ"</span>,
    yesAnswer: <span class="hljs-string">"å‘é€"</span>,
    noAnswer: <span class="hljs-string">"å–æ¶ˆ"</span>
)

<span class="hljs-keyword">try</span> email.install(with: config)
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·ä¸»åŠ¨å‚ä¸</li>
<li>å¯åŒ…å«ç”¨æˆ·æè¿°</li>
</ul>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li>éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ“ä½œ</li>
<li>æ”¶é›†ç‡ä½</li>
</ul>
<h4 data-id="heading-60">6.3.3 Standard å®‰è£…ï¼ˆHTTP ä¸Šä¼ ï¼‰</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> standard <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationStandard</span>.shared
standard.url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://api.example.com/crash"</span>)<span class="hljs-operator">!</span>

standard.addConditionalAlert(
    withTitle: <span class="hljs-string">"å´©æºƒæ£€æµ‹"</span>,
    message: <span class="hljs-string">"åº”ç”¨ä¸Šæ¬¡å´©æºƒäº†ï¼Œæ˜¯å¦ä¸Šä¼ æŠ¥å‘Šå¸®åŠ©æ”¹è¿›ï¼Ÿ"</span>,
    yesAnswer: <span class="hljs-string">"ä¸Šä¼ "</span>,
    noAnswer: <span class="hljs-string">"å–æ¶ˆ"</span>
)

<span class="hljs-keyword">try</span> standard.install(with: config)
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>é€‚åˆç”Ÿäº§ç¯å¢ƒ</li>
<li>è‡ªåŠ¨åŒ–æ”¶é›†</li>
</ul>
<p><strong>é…ç½®æœåŠ¡å™¨ç«¯ç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è‡ªå®šä¹‰è¯·æ±‚</span>
standard.makeRequest <span class="hljs-operator">=</span> { report <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">var</span> request <span class="hljs-operator">=</span> <span class="hljs-type">URLRequest</span>(url: standard.url<span class="hljs-operator">!</span>)
    request.httpMethod <span class="hljs-operator">=</span> <span class="hljs-string">"POST"</span>
    request.setValue(<span class="hljs-string">"application/json"</span>, forHTTPHeaderField: <span class="hljs-string">"Content-Type"</span>)
    request.httpBody <span class="hljs-operator">=</span> report.data(using: .utf8)
    <span class="hljs-keyword">return</span> request
}
</code></pre>
<h3 data-id="heading-61">6.4 æ‰‹åŠ¨ä¸ŠæŠ¥å¼‚å¸¸</h3>
<h4 data-id="heading-62">6.4.1 ä¸ŠæŠ¥ NSException</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ•è·å¹¶ä¸ŠæŠ¥ï¼ˆä¸ç»ˆæ­¢åº”ç”¨ï¼‰</span>
<span class="hljs-keyword">do</span> {
    <span class="hljs-keyword">try</span> riskyOperation()
} <span class="hljs-keyword">catch</span> <span class="hljs-keyword">let</span> error <span class="hljs-keyword">as</span> <span class="hljs-type">NSError</span> {
    <span class="hljs-keyword">let</span> exception <span class="hljs-operator">=</span> <span class="hljs-type">NSException</span>(
        name: <span class="hljs-type">NSExceptionName</span>(<span class="hljs-string">"CustomException"</span>),
        reason: error.localizedDescription,
        userInfo: error.userInfo
    )
    <span class="hljs-type">KSCrash</span>.shared.reportNSException(exception, logAllThreads: <span class="hljs-literal">false</span>)
}
</code></pre>
<h4 data-id="heading-63">6.4.2 ä¸ŠæŠ¥è‡ªå®šä¹‰å¼‚å¸¸</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä¸ŠæŠ¥è‡ªå®šä¹‰å¼‚å¸¸ï¼ˆå¦‚ JavaScript å¼‚å¸¸ï¼‰</span>
<span class="hljs-type">KSCrash</span>.shared.reportUserException(
    <span class="hljs-string">"JavaScriptError"</span>,
    reason: <span class="hljs-string">"Uncaught TypeError: Cannot read property 'foo' of undefined"</span>,
    language: <span class="hljs-string">"javascript"</span>,
    lineOfCode: <span class="hljs-string">"var x = obj.foo;"</span>,
    stackTrace: [
        <span class="hljs-string">"at functionA (script.js:10:5)"</span>,
        <span class="hljs-string">"at functionB (script.js:20:10)"</span>
    ],
    logAllThreads: <span class="hljs-literal">false</span>,
    terminateProgram: <span class="hljs-literal">false</span>  <span class="hljs-comment">// ä¸ç»ˆæ­¢åº”ç”¨</span>
)
</code></pre>
<h3 data-id="heading-64">6.5 æŸ¥è¯¢å´©æºƒå†å²</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ£€æŸ¥ä¸Šæ¬¡æ˜¯å¦å´©æºƒ</span>
<span class="hljs-keyword">if</span> <span class="hljs-type">KSCrash</span>.shared.crashedLastLaunch {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åº”ç”¨ä¸Šæ¬¡å¯åŠ¨æ—¶å´©æºƒäº†"</span>)

    <span class="hljs-comment">// è·å–ç»Ÿè®¡ä¿¡æ¯</span>
    <span class="hljs-keyword">let</span> launches <span class="hljs-operator">=</span> <span class="hljs-type">KSCrash</span>.shared.launchesSinceLastCrash
    <span class="hljs-keyword">let</span> sessions <span class="hljs-operator">=</span> <span class="hljs-type">KSCrash</span>.shared.sessionsSinceLastCrash
    <span class="hljs-keyword">let</span> activeTime <span class="hljs-operator">=</span> <span class="hljs-type">KSCrash</span>.shared.activeDurationSinceLastCrash

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è·ä¸Šæ¬¡å´©æºƒï¼š<span class="hljs-subst">\(launches)</span> æ¬¡å¯åŠ¨ï¼Œ<span class="hljs-subst">\(sessions)</span> ä¸ªä¼šè¯ï¼Œ<span class="hljs-subst">\(activeTime)</span> ç§’æ´»è·ƒæ—¶é—´"</span>)
}

<span class="hljs-comment">// è·å–ç³»ç»Ÿä¿¡æ¯</span>
<span class="hljs-keyword">let</span> systemInfo <span class="hljs-operator">=</span> <span class="hljs-type">KSCrash</span>.shared.systemInfo
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç³»ç»Ÿ: <span class="hljs-subst">\(systemInfo[<span class="hljs-string">"systemName"</span>] <span class="hljs-operator">??</span> <span class="hljs-string">"unknown"</span>)</span> <span class="hljs-subst">\(systemInfo[<span class="hljs-string">"systemVersion"</span>] <span class="hljs-operator">??</span> <span class="hljs-string">"unknown"</span>)</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"è®¾å¤‡: <span class="hljs-subst">\(systemInfo[<span class="hljs-string">"model"</span>] <span class="hljs-operator">??</span> <span class="hljs-string">"unknown"</span>)</span>"</span>)
</code></pre>
<hr/>
<h2 data-id="heading-65">7. çº¿ç¨‹å®‰å…¨ä¸å¼‚æ­¥å®‰å…¨</h2>
<h3 data-id="heading-66">7.1 ä¸ºä»€ä¹ˆéœ€è¦å¼‚æ­¥å®‰å…¨ï¼Ÿ</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å±é™©çš„å´©æºƒå¤„ç†ä»£ç </span>
<span class="hljs-type">void</span> <span class="hljs-title function_">unsafeCrashHandler</span><span class="hljs-params">(<span class="hljs-type">int</span> signum)</span> {
    NSLog(@<span class="hljs-string">"Crash detected!"</span>);  <span class="hljs-comment">// âŒ ä½¿ç”¨äº† Objective-C</span>

    NSString *<span class="hljs-built_in">log</span> = [NSString stringWithFormat:@<span class="hljs-string">"Signal: %d"</span>, signum];  <span class="hljs-comment">// âŒ å†…å­˜åˆ†é…</span>

    @synchronized(self) {  <span class="hljs-comment">// âŒ ä½¿ç”¨äº†é”</span>
        [self saveLog:<span class="hljs-built_in">log</span>];
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå±é™©</strong>ï¼š</p>
<ol>
<li><strong>Objective-C æ–¹æ³•ä¸æ˜¯å¼‚æ­¥å®‰å…¨çš„</strong>ï¼šå¯èƒ½è°ƒç”¨ <code>objc_msgSend</code>ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨äº†é”</li>
<li><strong>å†…å­˜åˆ†é…ï¼ˆmallocï¼‰ä¸æ˜¯å¼‚æ­¥å®‰å…¨çš„</strong>ï¼šå¯èƒ½åœ¨ç­‰å¾…å…¨å±€å †é”</li>
<li><strong>ä½¿ç”¨é”ä¸æ˜¯å¼‚æ­¥å®‰å…¨çš„</strong>ï¼šå¦‚æœå´©æºƒå‘ç”Ÿåœ¨æŒæœ‰é”çš„ä»£ç ä¸­ï¼Œå†æ¬¡è·å–é”ä¼šæ­»é”</li>
</ol>
<p><strong>æ­»é”ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">çº¿ç¨‹ <span class="hljs-selector-tag">A</span>ï¼š
<span class="hljs-number">1</span>. <span class="hljs-built_in">pthread_mutex_lock</span>(&amp;heapLock)    <span class="hljs-comment">// è·å–å †é”</span>
<span class="hljs-number">2</span>. <span class="hljs-selector-attr">[ä¿®æ”¹å †æ•°æ®]</span>
<span class="hljs-number">3</span>. ğŸ’¥ å´©æºƒï¼ˆå¦‚è®¿é—®é‡æŒ‡é’ˆï¼‰
<span class="hljs-number">4</span>. è¿›å…¥ä¿¡å·å¤„ç†å™¨
<span class="hljs-number">5</span>. <span class="hljs-built_in">malloc</span>(...)                      <span class="hljs-comment">// å°è¯•åˆ†é…å†…å­˜</span>
<span class="hljs-number">6</span>. <span class="hljs-built_in">pthread_mutex_lock</span>(&amp;heapLock)    <span class="hljs-comment">// âŒ æ­»é”ï¼é”å·²è¢«è‡ªå·±æŒæœ‰</span>
</code></pre>
<h3 data-id="heading-67">7.2 å¼‚æ­¥å®‰å…¨å‡½æ•°</h3>
<p><strong>POSIX æ ‡å‡†å®šä¹‰çš„å¼‚æ­¥å®‰å…¨å‡½æ•°</strong>ï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å…è®¸çš„å‡½æ•°</span>
_exit()         <span class="hljs-comment">// é€€å‡ºè¿›ç¨‹</span>
open()          <span class="hljs-comment">// æ‰“å¼€æ–‡ä»¶</span>
write()         <span class="hljs-comment">// å†™å…¥æ–‡ä»¶</span>
close()         <span class="hljs-comment">// å…³é—­æ–‡ä»¶</span>
read()          <span class="hljs-comment">// è¯»å–æ–‡ä»¶</span>
sigaction()     <span class="hljs-comment">// è®¾ç½®ä¿¡å·å¤„ç†</span>
mach_msg()      <span class="hljs-comment">// Mach æ¶ˆæ¯</span>
thread_suspend()<span class="hljs-comment">// æŒ‚èµ·çº¿ç¨‹</span>
vm_read()       <span class="hljs-comment">// è¯»å–å†…å­˜</span>

<span class="hljs-comment">// ç¦æ­¢çš„å‡½æ•°</span>
<span class="hljs-built_in">malloc</span>()        <span class="hljs-comment">// âŒ å†…å­˜åˆ†é…</span>
<span class="hljs-built_in">free</span>()          <span class="hljs-comment">// âŒ å†…å­˜é‡Šæ”¾</span>
<span class="hljs-built_in">printf</span>()        <span class="hljs-comment">// âŒ æ ¼å¼åŒ–è¾“å‡ºï¼ˆå†…éƒ¨ç”¨ mallocï¼‰</span>
<span class="hljs-built_in">sprintf</span>()       <span class="hljs-comment">// âŒ æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆæŸäº›å®ç°ç”¨ mallocï¼‰</span>
pthread_mutex_lock()  <span class="hljs-comment">// âŒ äº’æ–¥é”ï¼ˆå¯èƒ½æ­»é”ï¼‰</span>
objc_msgSend()  <span class="hljs-comment">// âŒ Objective-C æ¶ˆæ¯å‘é€</span>
NSLog()         <span class="hljs-comment">// âŒ æ—¥å¿—è¾“å‡º</span>
</code></pre>
<h3 data-id="heading-68">7.3 KSCrash çš„å¼‚æ­¥å®‰å…¨ç­–ç•¥</h3>
<h4 data-id="heading-69">7.3.1 é¢„åˆ†é…å†…å­˜</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å…¨å±€é¢„åˆ†é…çš„ç¼“å†²åŒºï¼ˆåœ¨åˆå§‹åŒ–æ—¶åˆ†é…ï¼Œå´©æºƒæ—¶ç›´æ¥ä½¿ç”¨ï¼‰</span>
<span class="hljs-type">static</span> <span class="hljs-type">char</span> g_crashReportPath[PATH_MAX];
<span class="hljs-type">static</span> <span class="hljs-type">char</span> g_eventID[<span class="hljs-number">37</span>];
<span class="hljs-type">static</span> KSCrash_MonitorContext g_monitorContext;
<span class="hljs-type">static</span> KSStackCursor g_stackCursor;

<span class="hljs-comment">// æ ˆä¸Šåˆ†é…ï¼ˆä¸æ¶‰åŠå †ï¼‰</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> KSMC_NEW_CONTEXT(CONTEXT_NAME) \
    char CONTEXT_NAME##_storage[sizeof(KSMachineContext)]; \
    KSMachineContext *CONTEXT_NAME = (KSMachineContext *)CONTEXT_NAME##_storage</span>
</code></pre>
<h4 data-id="heading-70">7.3.2 å®‰å…¨çš„æ–‡ä»¶å†™å…¥</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// KSCrash çš„ JSON Writer å®ç°ï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">int</span> fd;                 <span class="hljs-comment">// æ–‡ä»¶æè¿°ç¬¦</span>
    <span class="hljs-type">char</span> buffer[<span class="hljs-number">4096</span>];      <span class="hljs-comment">// æ ˆä¸Šç¼“å†²åŒº</span>
    <span class="hljs-type">size_t</span> bufferPos;
} JSONWriter;

<span class="hljs-type">void</span> <span class="hljs-title function_">writer_write</span><span class="hljs-params">(JSONWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *str)</span>
{
    <span class="hljs-type">size_t</span> len = <span class="hljs-built_in">strlen</span>(str);
    <span class="hljs-type">size_t</span> offset = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">while</span> (offset &lt; len) {
        <span class="hljs-type">size_t</span> remaining = <span class="hljs-number">4096</span> - writer-&gt;bufferPos;
        <span class="hljs-type">size_t</span> toWrite = (len - offset) &lt; remaining ? (len - offset) : remaining;

        <span class="hljs-comment">// 1. æ‹·è´åˆ°ç¼“å†²åŒºï¼ˆæ ˆæ“ä½œï¼Œå®‰å…¨ï¼‰</span>
        <span class="hljs-built_in">memcpy</span>(writer-&gt;buffer + writer-&gt;bufferPos, str + offset, toWrite);
        writer-&gt;bufferPos += toWrite;
        offset += toWrite;

        <span class="hljs-comment">// 2. ç¼“å†²åŒºæ»¡äº†ï¼Œå†™å…¥ç£ç›˜</span>
        <span class="hljs-keyword">if</span> (writer-&gt;bufferPos &gt;= <span class="hljs-number">4096</span>) {
            write(writer-&gt;fd, writer-&gt;buffer, writer-&gt;bufferPos);  <span class="hljs-comment">// å¼‚æ­¥å®‰å…¨</span>
            writer-&gt;bufferPos = <span class="hljs-number">0</span>;
        }
    }
}

<span class="hljs-type">void</span> <span class="hljs-title function_">writer_addString</span><span class="hljs-params">(JSONWriter *writer, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *key, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *value)</span>
{
    writer_write(writer, <span class="hljs-string">"\""</span>);
    writer_write(writer, key);
    writer_write(writer, <span class="hljs-string">"\":\""</span>);
    writer_write(writer, value);
    writer_write(writer, <span class="hljs-string">"\","</span>);
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨æ ˆä¸Šç¼“å†²åŒºï¼Œä¸è°ƒç”¨ <code>malloc</code></li>
<li>ä½¿ç”¨ <code>write()</code> ç³»ç»Ÿè°ƒç”¨ç›´æ¥å†™å…¥ï¼Œä¸ä½¿ç”¨ <code>fprintf</code> ç­‰ç¼“å†² IO</li>
<li><code>memcpy</code> å’Œ <code>strlen</code> æ˜¯å¼‚æ­¥å®‰å…¨çš„</li>
</ul>
<h4 data-id="heading-71">7.3.3 å®‰å…¨çš„å­—ç¬¦ä¸²å¤„ç†</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// KSCrash çš„å®‰å…¨å­—ç¬¦ä¸²å·¥å…·ï¼ˆä¸ä½¿ç”¨ mallocï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">ksstring_safeStrcpy</span><span class="hljs-params">(<span class="hljs-type">char</span> *dst, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src, <span class="hljs-type">int</span> maxLength)</span>
{
    <span class="hljs-type">int</span> i;
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; maxLength - <span class="hljs-number">1</span> &amp;&amp; src[i] != <span class="hljs-string">'\0'</span>; i++) {
        dst[i] = src[i];
    }
    dst[i] = <span class="hljs-string">'\0'</span>;
    <span class="hljs-keyword">return</span> i;
}

<span class="hljs-type">int</span> <span class="hljs-title function_">ksstring_safeStrcat</span><span class="hljs-params">(<span class="hljs-type">char</span> *dst, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *src, <span class="hljs-type">int</span> maxLength)</span>
{
    <span class="hljs-type">int</span> dstLen = <span class="hljs-built_in">strlen</span>(dst);
    <span class="hljs-keyword">return</span> ksstring_safeStrcpy(dst + dstLen, src, maxLength - dstLen);
}

<span class="hljs-comment">// å®‰å…¨çš„æ•´æ•°è½¬å­—ç¬¦ä¸²ï¼ˆä¸ä½¿ç”¨ sprintfï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">ksstring_i64toa</span><span class="hljs-params">(<span class="hljs-type">int64_t</span> value, <span class="hljs-type">char</span> *buffer, <span class="hljs-type">int</span> bufferLength)</span>
{
    <span class="hljs-keyword">if</span> (bufferLength &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;

    <span class="hljs-type">bool</span> isNegative = value &lt; <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (isNegative) {
        value = -value;
        buffer[<span class="hljs-number">0</span>] = <span class="hljs-string">'-'</span>;
        buffer++;
        bufferLength--;
    }

    <span class="hljs-comment">// ä»åå¾€å‰å¡«å……</span>
    <span class="hljs-type">int</span> pos = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">do</span> {
        <span class="hljs-keyword">if</span> (pos &gt;= bufferLength - <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;
        buffer[pos++] = <span class="hljs-string">'0'</span> + (value % <span class="hljs-number">10</span>);
        value /= <span class="hljs-number">10</span>;
    } <span class="hljs-keyword">while</span> (value &gt; <span class="hljs-number">0</span>);

    buffer[pos] = <span class="hljs-string">'\0'</span>;

    <span class="hljs-comment">// åè½¬</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; pos / <span class="hljs-number">2</span>; i++) {
        <span class="hljs-type">char</span> tmp = buffer[i];
        buffer[i] = buffer[pos - <span class="hljs-number">1</span> - i];
        buffer[pos - <span class="hljs-number">1</span> - i] = tmp;
    }

    <span class="hljs-keyword">return</span> pos;
}
</code></pre>
<h4 data-id="heading-72">7.3.4 å†…å­˜è¯»å–ä¿æŠ¤</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">ksmem_isMemoryReadable</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">void</span> *memory, <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> length)</span>
{
    <span class="hljs-comment">// ä½¿ç”¨ vm_read_overwrite æµ‹è¯•å†…å­˜æ˜¯å¦å¯è¯»ï¼ˆä¸ä¼šå´©æºƒï¼‰</span>
    <span class="hljs-type">vm_address_t</span> address = (<span class="hljs-type">vm_address_t</span>)memory;
    <span class="hljs-type">vm_size_t</span> size = (<span class="hljs-type">vm_size_t</span>)length;

    <span class="hljs-comment">// å‡†å¤‡ä¸€ä¸ªä¸´æ—¶ç¼“å†²åŒº</span>
    <span class="hljs-type">uint8_t</span> buffer[<span class="hljs-number">8</span>];
    <span class="hljs-type">vm_size_t</span> bufferSize = <span class="hljs-keyword">sizeof</span>(buffer);

    <span class="hljs-comment">// å°è¯•è¯»å–</span>
    <span class="hljs-type">kern_return_t</span> kr = vm_read_overwrite(mach_task_self(),
                                         address,
                                         size &lt; bufferSize ? size : bufferSize,
                                         (<span class="hljs-type">vm_address_t</span>)buffer,
                                         &amp;bufferSize);

    <span class="hljs-keyword">return</span> kr == KERN_SUCCESS;
}

<span class="hljs-comment">// åœ¨éå†å †æ ˆæ—¶ä½¿ç”¨</span>
<span class="hljs-type">bool</span> <span class="hljs-title function_">advanceCursor_Safe</span><span class="hljs-params">(KSStackCursor *cursor)</span>
{
    <span class="hljs-type">uintptr_t</span> *framePtr = (<span class="hljs-type">uintptr_t</span> *)cursor-&gt;fp;

    <span class="hljs-comment">// 1. å…ˆæ£€æŸ¥å†…å­˜æ˜¯å¦å¯è¯»ï¼Œé¿å…å´©æºƒ</span>
    <span class="hljs-keyword">if</span> (!ksmem_isMemoryReadable(framePtr, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">uintptr_t</span>) * <span class="hljs-number">2</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// å†…å­˜ä¸å¯è¯»ï¼Œåœæ­¢å›æº¯</span>
    }

    <span class="hljs-comment">// 2. å®‰å…¨è¯»å–</span>
    cursor-&gt;fp = framePtr[<span class="hljs-number">0</span>];
    cursor-&gt;address = framePtr[<span class="hljs-number">1</span>];

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h3 data-id="heading-73">7.4 ç›‘æ§å™¨çš„å¼‚æ­¥å®‰å…¨çº§åˆ«</h3>








































<table><thead><tr><th>ç›‘æ§å™¨</th><th>å¼‚æ­¥å®‰å…¨</th><th>åŸå› </th></tr></thead><tbody><tr><td>MachException</td><td>âœ… æ˜¯</td><td>å®Œå…¨ä½¿ç”¨ C API å’Œ Mach API</td></tr><tr><td>Signal</td><td>âœ… æ˜¯</td><td>ä»…ä½¿ç”¨å¼‚æ­¥å®‰å…¨å‡½æ•°</td></tr><tr><td>NSException</td><td>âŒ å¦</td><td>ä½¿ç”¨ Objective-C API</td></tr><tr><td>CPPException</td><td>âŒ å¦</td><td>ä½¿ç”¨ C++ å¼‚å¸¸æœºåˆ¶</td></tr><tr><td>Deadlock</td><td>âŒ å¦</td><td>ä½¿ç”¨ dispatch é˜Ÿåˆ—</td></tr><tr><td>Zombie</td><td>âŒ å¦</td><td>ä½¿ç”¨ Objective-C runtime</td></tr></tbody></table>
<p><strong>kscm_notifyFatalExceptionCaptured çš„ä½œç”¨</strong>ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">bool</span> <span class="hljs-title function_">kscm_notifyFatalExceptionCaptured</span><span class="hljs-params">(<span class="hljs-type">bool</span> isAsyncSafeEnvironment)</span>
{
    <span class="hljs-comment">// 1. æ ‡è®°è¿›å…¥å¼‚æ­¥å®‰å…¨æ¨¡å¼</span>
    g_requiresAsyncSafety = isAsyncSafeEnvironment;

    <span class="hljs-comment">// 2. é€šçŸ¥æ‰€æœ‰ç›‘æ§å™¨</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; g_monitorsCount; i++) {
        KSCrashMonitorAPI *api = g_monitors[i];

        <span class="hljs-comment">// 3. å¦‚æœè¦æ±‚å¼‚æ­¥å®‰å…¨ï¼Œç¦ç”¨éå¼‚æ­¥å®‰å…¨çš„ç›‘æ§å™¨</span>
        <span class="hljs-keyword">if</span> (isAsyncSafeEnvironment) {
            <span class="hljs-keyword">if</span> (!(api-&gt;monitorFlags() &amp; KSCrashMonitorFlagAsyncSafe)) {
                api-&gt;setEnabled(<span class="hljs-literal">false</span>);
            }
        }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<hr/>
<h2 data-id="heading-74">8. æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-75">8.1 åˆå§‹åŒ–æ—¶æœº</h3>
<p><strong>âœ… æ¨è</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">application</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">application</span>: <span class="hljs-type">UIApplication</span>,
                 <span class="hljs-params">didFinishLaunchingWithOptions</span> <span class="hljs-params">launchOptions</span>: [<span class="hljs-type">UIApplication</span>.<span class="hljs-params">LaunchOptionsKey</span>: <span class="hljs-keyword">Any</span>]<span class="hljs-operator">?</span>) -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-comment">// 1. æœ€æ—©åˆå§‹åŒ– KSCrashï¼ˆåœ¨å…¶ä»– SDK ä¹‹å‰ï¼‰</span>
    setupKSCrash()

    <span class="hljs-comment">// 2. ç„¶ååˆå§‹åŒ–å…¶ä»– SDK</span>
    setupOtherSDKs()

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
<p><strong>åŸå› </strong>ï¼š</p>
<ul>
<li>è¶Šæ—©å®‰è£…ï¼Œè¶Šèƒ½æ•è·æ—©æœŸå´©æºƒ</li>
<li>é¿å…å…¶ä»– SDK çš„å´©æºƒå¤„ç†å™¨è¦†ç›– KSCrash</li>
</ul>
<h3 data-id="heading-76">8.2 ç”Ÿäº§ç¯å¢ƒé…ç½®</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">setupKSCrash</span>() {
    <span class="hljs-keyword">let</span> config <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashConfiguration</span>()

    <span class="hljs-comment">// 1. å¯ç”¨å¿…è¦çš„ç›‘æ§å™¨</span>
    <span class="hljs-keyword">#if</span> <span class="hljs-type">DEBUG</span>
    config.monitors <span class="hljs-operator">=</span> [.all]  <span class="hljs-comment">// å¼€å‘ç¯å¢ƒå…¨å¼€</span>
    <span class="hljs-keyword">#else</span>
    config.monitors <span class="hljs-operator">=</span> [.machException, .signal, .nsException]  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒåªå¼€æ ¸å¿ƒç›‘æ§</span>
    <span class="hljs-keyword">#endif</span>

    <span class="hljs-comment">// 2. å…³é—­åƒµå°¸å¯¹è±¡æ£€æµ‹ï¼ˆæ€§èƒ½å½±å“ï¼‰</span>
    <span class="hljs-keyword">#if</span> <span class="hljs-type">DEBUG</span>
    config.enableZombie <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
    <span class="hljs-keyword">#else</span>
    config.enableZombie <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-keyword">#endif</span>

    <span class="hljs-comment">// 3. å†…å­˜å†…çœï¼ˆè°¨æ…ä½¿ç”¨ï¼Œå¯èƒ½æš´éœ²æ•æ„Ÿä¿¡æ¯ï¼‰</span>
    <span class="hljs-keyword">#if</span> <span class="hljs-type">DEBUG</span>
    config.introspectionRules <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashIntrospectionRules</span>.all()
    <span class="hljs-keyword">#else</span>
    <span class="hljs-keyword">let</span> rules <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashIntrospectionRules</span>()
    rules.shouldIntrospectMemory <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>  <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒå…³é—­</span>
    config.introspectionRules <span class="hljs-operator">=</span> rules
    <span class="hljs-keyword">#endif</span>

    <span class="hljs-comment">// 4. æ•æ„Ÿç±»ä¸å†…çœ</span>
    config.doNotIntrospectClasses <span class="hljs-operator">=</span> [
        <span class="hljs-string">"SecureString"</span>,
        <span class="hljs-string">"PrivateKey"</span>,
        <span class="hljs-string">"AuthToken"</span>
    ]

    <span class="hljs-comment">// 5. ä½¿ç”¨ Standard å®‰è£…</span>
    <span class="hljs-keyword">let</span> standard <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationStandard</span>.shared
    standard.url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://api.example.com/crash"</span>)<span class="hljs-operator">!</span>

    <span class="hljs-comment">// 6. ä¸æ˜¾ç¤ºå¼¹çª—ï¼ˆåå°é™é»˜ä¸Šä¼ ï¼‰</span>
    <span class="hljs-keyword">#if</span> <span class="hljs-operator">!</span><span class="hljs-type">DEBUG</span>
    <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒä¸å¼¹çª—</span>
    <span class="hljs-keyword">#else</span>
    standard.addConditionalAlert(
        withTitle: <span class="hljs-string">"å´©æºƒæ£€æµ‹"</span>,
        message: <span class="hljs-string">"å‘ç°å´©æºƒæŠ¥å‘Šï¼Œæ˜¯å¦ä¸Šä¼ ï¼Ÿ"</span>,
        yesAnswer: <span class="hljs-string">"ä¸Šä¼ "</span>,
        noAnswer: <span class="hljs-string">"å–æ¶ˆ"</span>
    )
    <span class="hljs-keyword">#endif</span>

    <span class="hljs-keyword">do</span> {
        <span class="hljs-keyword">try</span> standard.install(with: config)
    } <span class="hljs-keyword">catch</span> {
        <span class="hljs-comment">// ä¸è¦å´©æºƒï¼Œé™é»˜å¤±è´¥</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"KSCrash install failed: <span class="hljs-subst">\(error)</span>"</span>)
    }
}
</code></pre>
<h3 data-id="heading-77">8.3 æŠ¥å‘Šä¸Šä¼ ç­–ç•¥</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">uploadCrashReports</span>() {
    <span class="hljs-keyword">let</span> standard <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationStandard</span>.shared

    <span class="hljs-comment">// 1. ä»…åœ¨ WiFi ç¯å¢ƒä¸‹ä¸Šä¼ </span>
    <span class="hljs-keyword">guard</span> isWiFiConnected() <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-comment">// 2. é™åˆ¶é¢‘ç‡ï¼ˆé¿å…è¿‡åº¦ä¸Šä¼ ï¼‰</span>
    <span class="hljs-keyword">let</span> lastUploadTime <span class="hljs-operator">=</span> <span class="hljs-type">UserDefaults</span>.standard.double(forKey: <span class="hljs-string">"lastCrashUploadTime"</span>)
    <span class="hljs-keyword">let</span> now <span class="hljs-operator">=</span> <span class="hljs-type">Date</span>().timeIntervalSince1970
    <span class="hljs-keyword">if</span> now <span class="hljs-operator">-</span> lastUploadTime <span class="hljs-operator">&lt;</span> <span class="hljs-number">3600</span> {  <span class="hljs-comment">// 1 å°æ—¶å†…æœ€å¤šä¸Šä¼ ä¸€æ¬¡</span>
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-comment">// 3. ä¸Šä¼ </span>
    standard.sendAllReports { reports, error <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">if</span> error <span class="hljs-operator">==</span> <span class="hljs-literal">nil</span> {
            <span class="hljs-type">UserDefaults</span>.standard.set(now, forKey: <span class="hljs-string">"lastCrashUploadTime"</span>)

            <span class="hljs-comment">// 4. åˆ é™¤å·²ä¸Šä¼ çš„æŠ¥å‘Šï¼ˆå¯é€‰ï¼‰</span>
            standard.deleteAllReports()
        }
    }
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">isWiFiConnected</span>() -&gt; <span class="hljs-type">Bool</span> {
    <span class="hljs-comment">// å®ç°ç½‘ç»œæ£€æµ‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}
</code></pre>
<h3 data-id="heading-78">8.4 è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-79">8.4.1 æµ‹è¯•å´©æºƒæ•è·</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åœ¨ä½ çš„æµ‹è¯•ç•Œé¢æ·»åŠ å´©æºƒæŒ‰é’®</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">testCrashes</span>() {
    <span class="hljs-comment">// 1. æµ‹è¯• NSException</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testNSException</span>() {
        <span class="hljs-type">NSException</span>(name: <span class="hljs-type">NSExceptionName</span>(<span class="hljs-string">"TestException"</span>),
                    reason: <span class="hljs-string">"This is a test"</span>,
                    userInfo: <span class="hljs-literal">nil</span>).raise()
    }

    <span class="hljs-comment">// 2. æµ‹è¯•é‡æŒ‡é’ˆï¼ˆEXC_BAD_ACCESSï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testBadAccess</span>() {
        <span class="hljs-keyword">let</span> ptr <span class="hljs-operator">=</span> <span class="hljs-type">UnsafeMutablePointer</span>&lt;<span class="hljs-type">Int</span>&gt;(bitPattern: <span class="hljs-number">0x1</span>)
        ptr<span class="hljs-operator">?</span>.pointee <span class="hljs-operator">=</span> <span class="hljs-number">42</span>  <span class="hljs-comment">// ğŸ’¥</span>
    }

    <span class="hljs-comment">// 3. æµ‹è¯•é™¤é›¶ï¼ˆEXC_ARITHMETICï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testDivideByZero</span>() {
        <span class="hljs-keyword">let</span> x <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
        <span class="hljs-keyword">let</span> y <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">_</span> <span class="hljs-operator">=</span> x <span class="hljs-operator">/</span> y  <span class="hljs-comment">// Swift ä¼šæ£€æŸ¥ï¼Œç”¨ C å‡½æ•°æµ‹è¯•</span>
    }

    <span class="hljs-comment">// 4. æµ‹è¯• abort</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testAbort</span>() {
        abort()
    }

    <span class="hljs-comment">// 5. æµ‹è¯•æ ˆæº¢å‡º</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testStackOverflow</span>() {
        testStackOverflow()  <span class="hljs-comment">// æ— é™é€’å½’</span>
    }

    <span class="hljs-comment">// 6. æµ‹è¯•æ•°ç»„è¶Šç•Œ</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">testArrayOutOfBounds</span>() {
        <span class="hljs-keyword">let</span> array <span class="hljs-operator">=</span> <span class="hljs-type">NSArray</span>()
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">_</span> <span class="hljs-operator">=</span> array[<span class="hljs-number">100</span>]  <span class="hljs-comment">// ğŸ’¥</span>
    }
}
</code></pre>
<h4 data-id="heading-80">8.4.2 æŸ¥çœ‹å´©æºƒæŠ¥å‘Š</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">printCrashReports</span>() {
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> reportStore <span class="hljs-operator">=</span> <span class="hljs-type">KSCrash</span>.shared.reportStore <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Report store not initialized"</span>)
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">let</span> reportIDs <span class="hljs-operator">=</span> reportStore.reportIDs()
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Found <span class="hljs-subst">\(reportIDs<span class="hljs-operator">?</span>.count <span class="hljs-operator">??</span> <span class="hljs-number">0</span>)</span> crash reports"</span>)

    reportIDs<span class="hljs-operator">?</span>.forEach { reportID <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> report <span class="hljs-operator">=</span> reportStore.report(for: reportID <span class="hljs-keyword">as!</span> <span class="hljs-type">Int64</span>) {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== Report <span class="hljs-subst">\(reportID)</span> ==="</span>)
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> dict <span class="hljs-operator">=</span> report <span class="hljs-keyword">as?</span> [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] {
                printReport(dict)
            }
        }
    }
}

<span class="hljs-keyword">func</span> <span class="hljs-title function_">printReport</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">report</span>: [<span class="hljs-params">String</span>: <span class="hljs-keyword">Any</span>], <span class="hljs-params">indent</span>: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">prefix</span> <span class="hljs-operator">=</span> <span class="hljs-type">String</span>(repeating: <span class="hljs-string">"  "</span>, count: indent)
    <span class="hljs-keyword">for</span> (key, value) <span class="hljs-keyword">in</span> report {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> dict <span class="hljs-operator">=</span> value <span class="hljs-keyword">as?</span> [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(<span class="hljs-keyword">prefix</span>)</span><span class="hljs-subst">\(key)</span>:"</span>)
            printReport(dict, indent: indent <span class="hljs-operator">+</span> <span class="hljs-number">1</span>)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> array <span class="hljs-operator">=</span> value <span class="hljs-keyword">as?</span> [[<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>]] {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(<span class="hljs-keyword">prefix</span>)</span><span class="hljs-subst">\(key)</span>: ["</span>)
            array.forEach { printReport(<span class="hljs-variable">$0</span>, indent: indent <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) }
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(<span class="hljs-keyword">prefix</span>)</span>]"</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"<span class="hljs-subst">\(<span class="hljs-keyword">prefix</span>)</span><span class="hljs-subst">\(key)</span>: <span class="hljs-subst">\(value)</span>"</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-81">8.5 éšç§ä¿æŠ¤</h3>
<h4 data-id="heading-82">8.5.1 è¿‡æ»¤æ•æ„Ÿä¿¡æ¯</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è‡ªå®šä¹‰ Filter</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SensitiveDataFilter</span>: <span class="hljs-title class_">NSObject</span>, <span class="hljs-title class_">CrashReportFilter</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">filterReports</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">reports</span>: [<span class="hljs-keyword">Any</span>], <span class="hljs-params">onCompletion</span>: <span class="hljs-type">CrashReportFilterCompletion</span>?) {
        <span class="hljs-keyword">let</span> filtered <span class="hljs-operator">=</span> reports.compactMap { report -&gt; [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>]<span class="hljs-operator">?</span> <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">var</span> dict <span class="hljs-operator">=</span> report <span class="hljs-keyword">as?</span> [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
            }

            <span class="hljs-comment">// 1. ç§»é™¤ç”¨æˆ·æ•æ„Ÿä¿¡æ¯</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">var</span> user <span class="hljs-operator">=</span> dict[<span class="hljs-string">"user"</span>] <span class="hljs-keyword">as?</span> [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] {
                user.removeValue(forKey: <span class="hljs-string">"password"</span>)
                user.removeValue(forKey: <span class="hljs-string">"token"</span>)
                dict[<span class="hljs-string">"user"</span>] <span class="hljs-operator">=</span> user
            }

            <span class="hljs-comment">// 2. è„±æ•ç”¨æˆ· ID</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> userId <span class="hljs-operator">=</span> dict[<span class="hljs-string">"userId"</span>] <span class="hljs-keyword">as?</span> <span class="hljs-type">String</span> {
                dict[<span class="hljs-string">"userId"</span>] <span class="hljs-operator">=</span> hashString(userId)
            }

            <span class="hljs-comment">// 3. ç§»é™¤ç¯å¢ƒå˜é‡ï¼ˆå¯èƒ½åŒ…å«æ•æ„Ÿé…ç½®ï¼‰</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">var</span> system <span class="hljs-operator">=</span> dict[<span class="hljs-string">"system"</span>] <span class="hljs-keyword">as?</span> [<span class="hljs-type">String</span>: <span class="hljs-keyword">Any</span>] {
                system.removeValue(forKey: <span class="hljs-string">"environment"</span>)
                dict[<span class="hljs-string">"system"</span>] <span class="hljs-operator">=</span> system
            }

            <span class="hljs-keyword">return</span> dict
        }

        onCompletion<span class="hljs-operator">?</span>(filtered, <span class="hljs-literal">true</span>, <span class="hljs-literal">nil</span>)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">hashString</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">str</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">String</span> {
        <span class="hljs-comment">// ä½¿ç”¨ SHA256 å“ˆå¸Œ</span>
        <span class="hljs-keyword">return</span> str.sha256()  <span class="hljs-comment">// éœ€è¦å®ç°</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> installation <span class="hljs-operator">=</span> <span class="hljs-type">CrashInstallationStandard</span>.shared
installation.addPreFilter(<span class="hljs-type">SensitiveDataFilter</span>())
</code></pre>
<h4 data-id="heading-83">8.5.2 ç¬¦å·åŒ–è„±æ•</h4>
<p>ç”Ÿäº§ç¯å¢ƒçš„å´©æºƒæŠ¥å‘Šåº”è¯¥ä¸Šä¼ æœªç¬¦å·åŒ–çš„ç‰ˆæœ¬ï¼Œåœ¨æœåŠ¡å™¨ç«¯ç¬¦å·åŒ–ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> config <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashConfiguration</span>()

<span class="hljs-comment">// å…³é—­å®æ—¶ç¬¦å·åŒ–</span>
config.symbolicateOnTheFly <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>

<span class="hljs-comment">// æŠ¥å‘Šä¸­åªåŒ…å«åœ°å€ï¼Œä¸åŒ…å«ç¬¦å·</span>
</code></pre>
<p><strong>æœåŠ¡å™¨ç«¯ç¬¦å·åŒ–æµç¨‹</strong>ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯ä¸Šä¼ æœªç¬¦å·åŒ–çš„å´©æºƒæŠ¥å‘Š</li>
<li>æœåŠ¡å™¨æ ¹æ® <code>binary_images</code> ä¸­çš„ UUID æŸ¥æ‰¾å¯¹åº”çš„ dSYM</li>
<li>ä½¿ç”¨ <code>atos</code> æˆ– <code>symbolicatecrash</code> å·¥å…·ç¬¦å·åŒ–</li>
<li>å­˜å‚¨ç¬¦å·åŒ–åçš„æŠ¥å‘Š</li>
</ol>
<h3 data-id="heading-84">8.6 æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-85">8.6.1 å‡å°‘ç›‘æ§å™¨å¼€é”€</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> config <span class="hljs-operator">=</span> <span class="hljs-type">KSCrashConfiguration</span>()

<span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒåªå¼€å¯å¿…è¦çš„ç›‘æ§å™¨</span>
config.monitors <span class="hljs-operator">=</span> [.machException, .signal, .nsException]

<span class="hljs-comment">// å…³é—­æ€§èƒ½å½±å“å¤§çš„ç›‘æ§å™¨</span>
<span class="hljs-comment">// - Zombieï¼šæ¯ä¸ªå¯¹è±¡é‡Šæ”¾æ—¶éƒ½ä¼š hook</span>
<span class="hljs-comment">// - Deadlockï¼šå®šæ—¶æ£€æŸ¥ä¸»çº¿ç¨‹</span>
</code></pre>
<h4 data-id="heading-86">8.6.2 æ§åˆ¶å †æ ˆæ·±åº¦</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä¿®æ”¹æœ€å¤§å †æ ˆæ·±åº¦ï¼ˆé»˜è®¤ 200ï¼‰</span>
<span class="hljs-comment">// åœ¨ C ä»£ç ä¸­ä¿®æ”¹å®å®šä¹‰</span>
#define <span class="hljs-type">KSSC_MAX_STACK_DEPTH</span> <span class="hljs-number">50</span>  <span class="hljs-comment">// å‡å°‘åˆ° 50 å¸§</span>
</code></pre>
<h4 data-id="heading-87">8.6.3 é™åˆ¶æŠ¥å‘Šæ•°é‡</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">cleanupOldReports</span>() {
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> reportStore <span class="hljs-operator">=</span> <span class="hljs-type">KSCrash</span>.shared.reportStore <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }

    <span class="hljs-keyword">let</span> reportIDs <span class="hljs-operator">=</span> reportStore.reportIDs() <span class="hljs-keyword">as?</span> [<span class="hljs-type">Int64</span>] <span class="hljs-operator">??</span> []

    <span class="hljs-comment">// åªä¿ç•™æœ€æ–°çš„ 10 ä¸ªæŠ¥å‘Š</span>
    <span class="hljs-keyword">if</span> reportIDs.count <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span> {
        <span class="hljs-keyword">let</span> toDelete <span class="hljs-operator">=</span> reportIDs.dropLast(<span class="hljs-number">10</span>)
        toDelete.forEach { reportStore.deleteReport(withID: <span class="hljs-variable">$0</span>) }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-88">æ€»ç»“</h2>
<p>KSCrash é€šè¿‡ä»¥ä¸‹æŠ€æœ¯å®ç°äº†å®Œæ•´ã€å®‰å…¨ã€è¯¦ç»†çš„å´©æºƒæ•è·ï¼š</p>
<ol>
<li><strong>å¤šå±‚ç›‘æ§</strong>ï¼šMach å¼‚å¸¸ã€Unix Signalã€NSException ç­‰å¤šå±‚æ‹¦æˆª</li>
<li><strong>å¼‚æ­¥å®‰å…¨</strong>ï¼šå´©æºƒå¤„ç†è¿‡ç¨‹å®Œå…¨å¼‚æ­¥å®‰å…¨ï¼Œé¿å…äºŒæ¬¡å´©æºƒ</li>
<li><strong>å®Œæ•´ä¸Šä¸‹æ–‡</strong>ï¼šæ”¶é›†å¯„å­˜å™¨ã€å †æ ˆã€ç³»ç»Ÿä¿¡æ¯ã€åº”ç”¨çŠ¶æ€ç­‰å…¨æ–¹ä½ä¿¡æ¯</li>
<li><strong>æµå¼å†™å…¥</strong>ï¼šè¾¹æ”¶é›†è¾¹å†™å…¥ç£ç›˜ï¼Œæœ€å¤§é™åº¦ä¿è¯æ•°æ®å®Œæ•´æ€§</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒå¤šç§å®‰è£…æ–¹å¼ã€è‡ªå®šä¹‰å­—æ®µã€è¿‡æ»¤å™¨é“¾ç­‰</li>
</ol>
<p>ç†è§£ KSCrash çš„å®ç°æœºåˆ¶ï¼Œä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨å®ƒï¼Œä¹Ÿèƒ½è®©æˆ‘ä»¬æ·±å…¥ç†è§£æ“ä½œç³»ç»Ÿçš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€å †æ ˆå›æº¯åŸç†ç­‰åº•å±‚çŸ¥è¯†ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkstenerud%2FKSCrash" target="_blank" title="https://github.com/kstenerud/KSCrash" ref="nofollow noopener noreferrer">KSCrash GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mikeash.com%2Fpyblog%2Ffriday-qa-2013-01-11-mach-exception-handlers.html" target="_blank" title="https://www.mikeash.com/pyblog/friday-qa-2013-01-11-mach-exception-handlers.html" ref="nofollow noopener noreferrer">Mach Exception Handlers</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fman7.org%2Flinux%2Fman-pages%2Fman7%2Fsignal-safety.7.html" target="_blank" title="https://man7.org/linux/man-pages/man7/signal-safety.7.html" ref="nofollow noopener noreferrer">POSIX Signal</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fxcode%2Fdiagnosing-issues-using-crash-reports-and-device-logs" target="_blank" title="https://developer.apple.com/documentation/xcode/diagnosing-issues-using-crash-reports-and-device-logs" ref="nofollow noopener noreferrer">iOS Crash Reporting</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS SwiftUIå¼€å‘æ‰€æœ‰ä¿®é¥°ç¬¦ä½¿ç”¨è¯¦è§£]]></title>    <link>https://juejin.cn/post/7582231988147175475</link>    <guid>https://juejin.cn/post/7582231988147175475</guid>    <pubDate>2025-12-11T10:13:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988147175475" data-draft-id="7582413770090807334" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS SwiftUIå¼€å‘æ‰€æœ‰ä¿®é¥°ç¬¦ä½¿ç”¨è¯¦è§£"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2025-12-11T10:13:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦‚æ­¤é£æ™¯"/> <meta itemprop="url" content="https://juejin.cn/user/342703355996926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS SwiftUIå¼€å‘æ‰€æœ‰ä¿®é¥°ç¬¦ä½¿ç”¨è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/342703355996926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦‚æ­¤é£æ™¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T10:13:18.000Z" title="Thu Dec 11 2025 10:13:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">SwiftUI ä¿®é¥°ç¬¦è¯¦è§£å¤§å…¨</h2>
<p>ä¸‹é¢å°†æŒ‰ç…§åŠŸèƒ½åˆ†ç±»è¯¦ç»†ä»‹ç» SwiftUI çš„æ‰€æœ‰é‡è¦ä¿®é¥°ç¬¦ï¼ŒåŒ…æ‹¬æ¯ä¸ªä¿®é¥°ç¬¦çš„ç”¨æ³•ã€å‚æ•°å’Œå®é™…åº”ç”¨ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å¸ƒå±€ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-2"><strong>1. å°ºå¯¸å’Œçº¦æŸ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 frame - åŸºæœ¬å°ºå¯¸æ§åˆ¶</span>
.frame(width: <span class="hljs-number">100</span>, height: <span class="hljs-number">200</span>)          <span class="hljs-comment">// å›ºå®šå°ºå¯¸</span>
.frame(minWidth: <span class="hljs-number">50</span>, maxWidth: <span class="hljs-number">150</span>)      <span class="hljs-comment">// æœ€å°æœ€å¤§å°ºå¯¸</span>
.frame(idealWidth: <span class="hljs-number">100</span>, idealHeight: <span class="hljs-number">200</span>) <span class="hljs-comment">// ç†æƒ³å°ºå¯¸</span>
.frame(maxWidth: .infinity)              <span class="hljs-comment">// æ— é™æ‰©å±•</span>
.frame(width: <span class="hljs-literal">nil</span>, height: <span class="hljs-number">100</span>)          <span class="hljs-comment">// ä»…é™åˆ¶é«˜åº¦</span>

<span class="hljs-comment">// 1.2 fixedSize - ä½¿ç”¨ç†æƒ³å°ºå¯¸</span>
.fixedSize()                            <span class="hljs-comment">// æ°´å¹³å’Œå‚ç›´éƒ½ä½¿ç”¨ç†æƒ³å°ºå¯¸</span>
.fixedSize(horizontal: <span class="hljs-literal">true</span>, vertical: <span class="hljs-literal">false</span>) <span class="hljs-comment">// ä»…æ°´å¹³å›ºå®š</span>

<span class="hljs-comment">// 1.3 layoutPriority - å¸ƒå±€ä¼˜å…ˆçº§</span>
.layoutPriority(<span class="hljs-number">1</span>)                       <span class="hljs-comment">// ä¼˜å…ˆçº§ 0-1000ï¼Œé»˜è®¤0</span>
.layoutPriority(<span class="hljs-number">999</span>)                     <span class="hljs-comment">// é«˜ä¼˜å…ˆçº§</span>

<span class="hljs-comment">// 1.4 å‡ ä½•é˜…è¯»å™¨ç›¸å…³</span>
.coordinateSpace(name: <span class="hljs-string">"mySpace"</span>)        <span class="hljs-comment">// å®šä¹‰åæ ‡ç³»</span>
.position(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">200</span>)                <span class="hljs-comment">// ç»å¯¹ä½ç½®</span>
.offset(x: <span class="hljs-number">10</span>, y: <span class="hljs-number">20</span>)                    <span class="hljs-comment">// ç›¸å¯¹åç§»</span>
</code></pre>
<h4 data-id="heading-3"><strong>2. å¯¹é½æ–¹å¼</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 å †æ ˆå¯¹é½</span>
<span class="hljs-type">VStack</span>(alignment: .leading) { <span class="hljs-operator">...</span> }      <span class="hljs-comment">// VStackæ°´å¹³å¯¹é½</span>
<span class="hljs-type">HStack</span>(alignment: .top) { <span class="hljs-operator">...</span> }          <span class="hljs-comment">// HStackå‚ç›´å¯¹é½</span>

<span class="hljs-comment">// 2.2 alignmentGuide - è‡ªå®šä¹‰å¯¹é½</span>
.alignmentGuide(.leading) { d <span class="hljs-keyword">in</span>
    d[.trailing]                         <span class="hljs-comment">// è‡ªå®šä¹‰å¯¹é½è§„åˆ™</span>
}

<span class="hljs-comment">// 2.3 å¯¹é½ä¿®é¥°ç¬¦</span>
.multilineTextAlignment(.center)         <span class="hljs-comment">// å¤šè¡Œæ–‡æœ¬å¯¹é½</span>
</code></pre>
<h4 data-id="heading-4"><strong>3. é—´è·å’Œè¾¹è·</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 padding - å†…è¾¹è·</span>
.padding()                              <span class="hljs-comment">// é»˜è®¤è¾¹è·</span>
.padding(<span class="hljs-number">20</span>)                            <span class="hljs-comment">// ç»Ÿä¸€è¾¹è·</span>
.padding(.horizontal, <span class="hljs-number">20</span>)               <span class="hljs-comment">// æ°´å¹³è¾¹è·</span>
.padding([.top, .bottom], <span class="hljs-number">10</span>)           <span class="hljs-comment">// ä¸Šä¸‹è¾¹è·</span>
.padding(.leading, <span class="hljs-number">20</span>).padding(.trailing, <span class="hljs-number">10</span>) <span class="hljs-comment">// åˆ†åˆ«è®¾ç½®</span>

<span class="hljs-comment">// 3.2 Spacer - å¼¹æ€§é—´è·</span>
<span class="hljs-type">HStack</span> {
    <span class="hljs-type">Text</span>(<span class="hljs-string">"å·¦"</span>)
    <span class="hljs-type">Spacer</span>()                            <span class="hljs-comment">// å æ®æ‰€æœ‰å¯ç”¨ç©ºé—´</span>
    <span class="hljs-type">Text</span>(<span class="hljs-string">"å³"</span>)
}

<span class="hljs-comment">// 3.3 Divider - åˆ†å‰²çº¿</span>
<span class="hljs-type">Divider</span>()                               <span class="hljs-comment">// æ°´å¹³åˆ†å‰²çº¿</span>
<span class="hljs-type">Divider</span>().background(<span class="hljs-type">Color</span>.red)          <span class="hljs-comment">// å¸¦é¢œè‰²çš„åˆ†å‰²çº¿</span>
</code></pre>
<h3 data-id="heading-5">äºŒã€æ ·å¼å’Œå¤–è§‚ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-6"><strong>1. é¢œè‰²å’ŒèƒŒæ™¯</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 å‰æ™¯è‰²</span>
.foregroundColor(.blue)                  <span class="hljs-comment">// å‰æ™¯é¢œè‰²</span>
.foregroundStyle(.blue)                  <span class="hljs-comment">// iOS 15+ï¼Œæ”¯æŒæ¸å˜</span>
.foregroundStyle(.linearGradient(colors: [.blue, .purple], 
                                 startPoint: .top, 
                                 endPoint: .bottom))

<span class="hljs-comment">// 1.2 èƒŒæ™¯</span>
.background(<span class="hljs-type">Color</span>.blue)                  <span class="hljs-comment">// çº¯è‰²èƒŒæ™¯</span>
.background(
    <span class="hljs-type">LinearGradient</span>(colors: [.blue, .purple], 
                   startPoint: .top, 
                   endPoint: .bottom)
)                                        <span class="hljs-comment">// æ¸å˜èƒŒæ™¯</span>
.background(
    <span class="hljs-type">Image</span>(<span class="hljs-string">"pattern"</span>)
        .resizable()
        .opacity(<span class="hljs-number">0.2</span>)
)                                        <span class="hljs-comment">// å›¾ç‰‡èƒŒæ™¯</span>

<span class="hljs-comment">// 1.3 è‰²è°ƒå’Œé¥±å’Œåº¦</span>
.tint(.blue)                            <span class="hljs-comment">// è‰²è°ƒï¼ˆiOS 15+ï¼‰</span>
.saturation(<span class="hljs-number">0.5</span>)                        <span class="hljs-comment">// é¥±å’Œåº¦ 0-1</span>
.hueRotation(.degrees(<span class="hljs-number">45</span>))              <span class="hljs-comment">// è‰²ç›¸æ—‹è½¬</span>
</code></pre>
<h4 data-id="heading-7"><strong>2. è¾¹æ¡†å’Œåœ†è§’</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 è¾¹æ¡†</span>
.border(<span class="hljs-type">Color</span>.blue, width: <span class="hljs-number">2</span>)           <span class="hljs-comment">// ç®€å•è¾¹æ¡†</span>
.overlay(
    <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">10</span>)
        .stroke(<span class="hljs-type">Color</span>.blue, lineWidth: <span class="hljs-number">2</span>)
)                                        <span class="hljs-comment">// è‡ªå®šä¹‰è¾¹æ¡†ï¼ˆæ›´çµæ´»ï¼‰</span>

<span class="hljs-comment">// 2.2 åœ†è§’</span>
.cornerRadius(<span class="hljs-number">10</span>)                       <span class="hljs-comment">// åœ†è§’</span>
.clipShape(<span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">10</span>)) <span class="hljs-comment">// è£å‰ªå½¢çŠ¶</span>
.clipShape(<span class="hljs-type">Circle</span>())                    <span class="hljs-comment">// åœ†å½¢è£å‰ª</span>

<span class="hljs-comment">// 2.3 é˜´å½±</span>
.shadow(color: .gray, radius: <span class="hljs-number">5</span>, x: <span class="hljs-number">0</span>, y: <span class="hljs-number">2</span>) <span class="hljs-comment">// é˜´å½±</span>
.shadow(color: .black.opacity(<span class="hljs-number">0.3</span>), 
        radius: <span class="hljs-number">10</span>, 
        x: <span class="hljs-number">0</span>, 
        y: <span class="hljs-number">5</span>)
</code></pre>
<h4 data-id="heading-8"><strong>3. é€æ˜åº¦å’Œæ··åˆ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 é€æ˜åº¦</span>
.opacity(<span class="hljs-number">0.5</span>)                           <span class="hljs-comment">// é€æ˜åº¦ 0-1</span>
.opacity(isHidden <span class="hljs-operator">?</span> <span class="hljs-number">0</span> : <span class="hljs-number">1</span>)              <span class="hljs-comment">// æ¡ä»¶é€æ˜åº¦</span>

<span class="hljs-comment">// 3.2 æ··åˆæ¨¡å¼</span>
.blendMode(.multiply)                   <span class="hljs-comment">// æ··åˆæ¨¡å¼</span>
.blendMode(.screen)                     <span class="hljs-comment">// å±å¹•æ··åˆ</span>
.blendMode(.overlay)                    <span class="hljs-comment">// å åŠ æ··åˆ</span>

<span class="hljs-comment">// 3.3 æ¨¡ç³Š</span>
.blur(radius: <span class="hljs-number">10</span>)                       <span class="hljs-comment">// é«˜æ–¯æ¨¡ç³Š</span>
.blur(radius: <span class="hljs-number">5</span>, opaque: <span class="hljs-literal">false</span>)         <span class="hljs-comment">// éä¸é€æ˜æ¨¡ç³Š</span>
</code></pre>
<h3 data-id="heading-9">ä¸‰ã€æ–‡æœ¬ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-10"><strong>1. å­—ä½“æ ·å¼</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 å­—ä½“ç±»å‹</span>
.font(.largeTitle)                      <span class="hljs-comment">// ç³»ç»Ÿå­—ä½“</span>
.font(.system(size: <span class="hljs-number">20</span>, weight: .bold)) <span class="hljs-comment">// è‡ªå®šä¹‰ç³»ç»Ÿå­—ä½“</span>
.font(.custom(<span class="hljs-string">"Helvetica"</span>, size: <span class="hljs-number">20</span>))   <span class="hljs-comment">// è‡ªå®šä¹‰å­—ä½“</span>
.fontWeight(.bold)                      <span class="hljs-comment">// å­—é‡</span>
.fontWeight(.light)                     <span class="hljs-comment">// ç»†ä½“</span>

<span class="hljs-comment">// 1.2 å­—ä½“æ ·å¼</span>
.italic()                               <span class="hljs-comment">// æ–œä½“</span>
.bold()                                 <span class="hljs-comment">// ç²—ä½“</span>
.underline()                            <span class="hljs-comment">// ä¸‹åˆ’çº¿</span>
.underline(<span class="hljs-literal">true</span>, color: .red)           <span class="hljs-comment">// å¸¦é¢œè‰²çš„ä¸‹åˆ’çº¿</span>
.strikethrough()                        <span class="hljs-comment">// åˆ é™¤çº¿</span>
.strikethrough(<span class="hljs-literal">true</span>, color: .gray)      <span class="hljs-comment">// å¸¦é¢œè‰²çš„åˆ é™¤çº¿</span>

<span class="hljs-comment">// 1.3 å­—ä½“å®½åº¦å’Œè®¾è®¡</span>
.fontWidth(.condensed)                  <span class="hljs-comment">// å­—ä½“å®½åº¦ï¼ˆiOS 16+ï¼‰</span>
.fontDesign(.rounded)                   <span class="hljs-comment">// å­—ä½“è®¾è®¡ï¼ˆiOS 16+ï¼‰</span>
.fontDesign(.monospaced)                <span class="hljs-comment">// ç­‰å®½å­—ä½“</span>
.fontDesign(.serif)                     <span class="hljs-comment">// è¡¬çº¿å­—ä½“</span>
</code></pre>
<h4 data-id="heading-11"><strong>2. æ–‡æœ¬å¸ƒå±€</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 è¡Œé™åˆ¶</span>
.lineLimit(<span class="hljs-number">2</span>)                           <span class="hljs-comment">// æœ€å¤š2è¡Œ</span>
.lineLimit(<span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">3</span>)                       <span class="hljs-comment">// 1-3è¡ŒèŒƒå›´</span>
.lineLimit(<span class="hljs-literal">nil</span>)                         <span class="hljs-comment">// æ— é™åˆ¶</span>

<span class="hljs-comment">// 2.2 æ–‡æœ¬æˆªæ–­</span>
.truncationMode(.tail)                  <span class="hljs-comment">// å°¾éƒ¨æˆªæ–­</span>
.truncationMode(.middle)                <span class="hljs-comment">// ä¸­é—´æˆªæ–­</span>
.truncationMode(.head)                  <span class="hljs-comment">// å¤´éƒ¨æˆªæ–­</span>

<span class="hljs-comment">// 2.3 é—´è·å’Œç¼©æ”¾</span>
.lineSpacing(<span class="hljs-number">10</span>)                        <span class="hljs-comment">// è¡Œé—´è·</span>
.kerning(<span class="hljs-number">2</span>)                             <span class="hljs-comment">// å­—ç¬¦é—´è·</span>
.tracking(<span class="hljs-number">2</span>)                            <span class="hljs-comment">// è·Ÿè¸ªï¼ˆå­—æ¯é—´è·ï¼‰</span>
.allowsTightening(<span class="hljs-literal">true</span>)                 <span class="hljs-comment">// å…è®¸ç´§ç¼©</span>
.minimumScaleFactor(<span class="hljs-number">0.5</span>)                <span class="hljs-comment">// æœ€å°ç¼©æ”¾æ¯”ä¾‹</span>
</code></pre>
<h4 data-id="heading-12"><strong>3. æ–‡æœ¬æ ¼å¼åŒ–</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 å¤§å°å†™</span>
.textCase(.uppercase)                   <span class="hljs-comment">// å¤§å†™</span>
.textCase(.lowercase)                   <span class="hljs-comment">// å°å†™</span>
.textCase(<span class="hljs-literal">nil</span>)                          <span class="hljs-comment">// ä¿æŒåŸæ ·</span>

<span class="hljs-comment">// 3.2 æ•°å­—æ ¼å¼</span>
<span class="hljs-type">Text</span>(<span class="hljs-number">1234.56</span>, format: .number.precision(.fractionLength(<span class="hljs-number">2</span>))) <span class="hljs-comment">// æ•°å­—æ ¼å¼åŒ–</span>
<span class="hljs-type">Text</span>(<span class="hljs-type">Date</span>(), format: .dateTime.year().month().day())         <span class="hljs-comment">// æ—¥æœŸæ ¼å¼åŒ–</span>

<span class="hljs-comment">// 3.3 æœ¬åœ°åŒ–</span>
.localizedStringKey(<span class="hljs-string">"hello_key"</span>)        <span class="hljs-comment">// æœ¬åœ°åŒ–é”®</span>
</code></pre>
<h3 data-id="heading-13">å››ã€å›¾åƒä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-14"><strong>1. å›¾åƒè°ƒæ•´</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 å¤§å°è°ƒæ•´</span>
.resizable()                            <span class="hljs-comment">// å¯è°ƒæ•´å¤§å°</span>
.resizable(capInsets: <span class="hljs-type">EdgeInsets</span>(), resizingMode: .stretch) <span class="hljs-comment">// è°ƒæ•´æ¨¡å¼</span>
.aspectRatio(contentMode: .fit)         <span class="hljs-comment">// å®½é«˜æ¯”</span>
.aspectRatio(<span class="hljs-number">16</span><span class="hljs-operator">/</span><span class="hljs-number">9</span>, contentMode: .fill)  <span class="hljs-comment">// ç‰¹å®šå®½é«˜æ¯”</span>

<span class="hljs-comment">// 1.2 å›¾åƒæ¸²æŸ“</span>
.renderingMode(.template)               <span class="hljs-comment">// æ¨¡æ¿æ¨¡å¼</span>
.renderingMode(.original)               <span class="hljs-comment">// åŸå§‹æ¨¡å¼</span>
.colorMultiply(.blue)                   <span class="hljs-comment">// é¢œè‰²æ··åˆ</span>
.colorInvert()                          <span class="hljs-comment">// é¢œè‰²åè½¬</span>

<span class="hljs-comment">// 1.3 å›¾åƒç¼©æ”¾</span>
.imageScale(.large)                     <span class="hljs-comment">// å›¾åƒç¼©æ”¾</span>
.imageScale(.small)                     <span class="hljs-comment">// å°å°ºå¯¸</span>
.imageScale(.medium)                    <span class="hljs-comment">// ä¸­ç­‰å°ºå¯¸</span>
</code></pre>
<h4 data-id="heading-15"><strong>2. ç¬¦å·å›¾åƒï¼ˆSF Symbolsï¼‰</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 SF Symbols ä¸“ç”¨ä¿®é¥°ç¬¦</span>
.symbolRenderingMode(.monochrome)       <span class="hljs-comment">// å•è‰²æ¨¡å¼</span>
.symbolRenderingMode(.multicolor)       <span class="hljs-comment">// å¤šè‰²æ¨¡å¼</span>
.symbolRenderingMode(.hierarchical)     <span class="hljs-comment">// åˆ†å±‚æ¨¡å¼</span>
.symbolRenderingMode(.palette)          <span class="hljs-comment">// è°ƒè‰²æ¿æ¨¡å¼</span>

<span class="hljs-comment">// 2.2 ç¬¦å·æ•ˆæœ</span>
.symbolEffect(.bounce)                  <span class="hljs-comment">// å¼¹è·³æ•ˆæœï¼ˆiOS 17+ï¼‰</span>
.symbolEffect(.pulse)                   <span class="hljs-comment">// è„‰å†²æ•ˆæœ</span>
.symbolEffect(.variableColor.iterative) <span class="hljs-comment">// å˜é‡é¢œè‰²</span>
.symbolEffect(.scale)                   <span class="hljs-comment">// ç¼©æ”¾æ•ˆæœ</span>

<span class="hljs-comment">// 2.3 ç¬¦å·å˜ä½“</span>
.symbolVariant(.fill)                   <span class="hljs-comment">// å¡«å……å˜ä½“</span>
.symbolVariant(.circle)                 <span class="hljs-comment">// åœ†å½¢å˜ä½“</span>
.symbolVariant(.square)                 <span class="hljs-comment">// æ–¹å½¢å˜ä½“</span>
.symbolVariant(.slash)                  <span class="hljs-comment">// æ–œçº¿å˜ä½“</span>
</code></pre>
<h3 data-id="heading-16">äº”ã€äº¤äº’ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-17"><strong>1. ç‚¹å‡»å’Œæ‰‹åŠ¿</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 ç‚¹å‡»æ‰‹åŠ¿</span>
.onTapGesture(count: <span class="hljs-number">1</span>) {               <span class="hljs-comment">// å•å‡»</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç‚¹å‡»"</span>)
}
.onTapGesture(count: <span class="hljs-number">2</span>) {               <span class="hljs-comment">// åŒå‡»</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åŒå‡»"</span>)
}

<span class="hljs-comment">// 1.2 é•¿æŒ‰æ‰‹åŠ¿</span>
.onLongPressGesture(minimumDuration: <span class="hljs-number">1</span>, <span class="hljs-comment">// é•¿æŒ‰1ç§’</span>
                    maximumDistance: <span class="hljs-number">10</span>) { <span class="hljs-comment">// æœ€å¤§ç§»åŠ¨è·ç¦»</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"é•¿æŒ‰"</span>)
} onPressingChanged: { isPressing <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æŒ‰å‹çŠ¶æ€: <span class="hljs-subst">\(isPressing)</span>"</span>)
}

<span class="hljs-comment">// 1.3 é«˜çº§æ‰‹åŠ¿</span>
.gesture(
    <span class="hljs-type">DragGesture</span>(minimumDistance: <span class="hljs-number">10</span>)    <span class="hljs-comment">// æ‹–æ‹½æ‰‹åŠ¿</span>
        .onChanged { value <span class="hljs-keyword">in</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‹–æ‹½ä¸­: <span class="hljs-subst">\(value.translation)</span>"</span>)
        }
        .onEnded { value <span class="hljs-keyword">in</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‹–æ‹½ç»“æŸ"</span>)
        }
)

<span class="hljs-comment">// 1.4 å¤šç‚¹è§¦æ§</span>
.simultaneousGesture(<span class="hljs-type">TapGesture</span>())      <span class="hljs-comment">// åŒæ—¶æ‰‹åŠ¿</span>
.highPriorityGesture(<span class="hljs-type">TapGesture</span>())      <span class="hljs-comment">// é«˜ä¼˜å…ˆçº§æ‰‹åŠ¿</span>
</code></pre>
<h4 data-id="heading-18"><strong>2. æ‚¬åœæ•ˆæœ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 æ‚¬åœï¼ˆmacOSï¼‰</span>
.onHover { isHovered <span class="hljs-keyword">in</span>                 <span class="hljs-comment">// æ‚¬åœçŠ¶æ€</span>
    <span class="hljs-keyword">if</span> isHovered {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"é¼ æ ‡æ‚¬åœ"</span>)
    }
}

<span class="hljs-comment">// 2.2 æ‚¬åœæ ·å¼</span>
.hoverEffect(.highlight)                <span class="hljs-comment">// é«˜äº®æ•ˆæœ</span>
.hoverEffect(.lift)                     <span class="hljs-comment">// æŠ¬èµ·æ•ˆæœ</span>
.hoverEffect(.automatic)                <span class="hljs-comment">// è‡ªåŠ¨æ•ˆæœ</span>
</code></pre>
<h4 data-id="heading-19"><strong>3. ç„¦ç‚¹å’Œé”®ç›˜</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 ç„¦ç‚¹ç®¡ç†</span>
.focusable()                            <span class="hljs-comment">// å¯è·å–ç„¦ç‚¹</span>
.focused(<span class="hljs-variable">$isFocused</span>)                    <span class="hljs-comment">// ç„¦ç‚¹ç»‘å®š</span>
.focused(<span class="hljs-variable">$isFocused</span>, equals: .field1)   <span class="hljs-comment">// ç‰¹å®šç„¦ç‚¹</span>

<span class="hljs-comment">// 3.2 ç„¦ç‚¹æ ·å¼</span>
.focusEffectDisabled()                  <span class="hljs-comment">// ç¦ç”¨ç„¦ç‚¹æ•ˆæœ</span>
.defaultFocus(<span class="hljs-variable">$isFocused</span>, <span class="hljs-literal">true</span>)         <span class="hljs-comment">// é»˜è®¤ç„¦ç‚¹</span>

<span class="hljs-comment">// 3.3 é”®ç›˜å¿«æ·é”®</span>
.keyboardShortcut(<span class="hljs-string">"s"</span>, modifiers: .command) <span class="hljs-comment">// å¿«æ·é”®</span>
.keyboardShortcut(.defaultAction)       <span class="hljs-comment">// é»˜è®¤åŠ¨ä½œ</span>
.keyboardShortcut(.cancelAction)        <span class="hljs-comment">// å–æ¶ˆåŠ¨ä½œ</span>
</code></pre>
<h3 data-id="heading-20">å…­ã€åŠ¨ç”»å’Œè¿‡æ¸¡ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-21"><strong>1. åŠ¨ç”»ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 åŸºæœ¬åŠ¨ç”»</span>
.animation(.easeInOut, value: isActive) <span class="hljs-comment">// æŒ‡å®šå€¼å˜åŒ–æ—¶åŠ¨ç”»</span>
.animation(.spring(), value: isActive)  <span class="hljs-comment">// å¼¹ç°§åŠ¨ç”»</span>
.animation(.interactiveSpring(), value: isActive) <span class="hljs-comment">// äº¤äº’å¼å¼¹ç°§</span>

<span class="hljs-comment">// 1.2 åŠ¨ç”»å‚æ•°</span>
.animation(
    .easeInOut(duration: <span class="hljs-number">0.5</span>)
    .delay(<span class="hljs-number">0.2</span>)
    .repeatCount(<span class="hljs-number">3</span>, autoreverses: <span class="hljs-literal">true</span>),
    value: isActive
)                                        <span class="hljs-comment">// å¤æ‚åŠ¨ç”»</span>

<span class="hljs-comment">// 1.3 éšå¼åŠ¨ç”»</span>
.animation(.default, value: isActive)    <span class="hljs-comment">// é»˜è®¤åŠ¨ç”»</span>
.transaction { t <span class="hljs-keyword">in</span>                      <span class="hljs-comment">// äº‹åŠ¡åŠ¨ç”»</span>
    t.animation <span class="hljs-operator">=</span> .easeInOut
    t.disablesAnimations <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
}
</code></pre>
<h4 data-id="heading-22"><strong>2. è¿‡æ¸¡æ•ˆæœ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 åŸºæœ¬è¿‡æ¸¡</span>
.transition(.opacity)                   <span class="hljs-comment">// æ·¡å…¥æ·¡å‡º</span>
.transition(.scale)                     <span class="hljs-comment">// ç¼©æ”¾è¿‡æ¸¡</span>
.transition(.slide)                     <span class="hljs-comment">// æ»‘åŠ¨è¿‡æ¸¡</span>

<span class="hljs-comment">// 2.2 ç»„åˆè¿‡æ¸¡</span>
.transition(.asymmetric(
    insertion: .move(edge: .leading),   <span class="hljs-comment">// è¿›å…¥åŠ¨ç”»</span>
    removal: .move(edge: .trailing)     <span class="hljs-comment">// é€€å‡ºåŠ¨ç”»</span>
))

<span class="hljs-comment">// 2.3 è‡ªå®šä¹‰è¿‡æ¸¡</span>
.transition(.modifier(
    active: <span class="hljs-type">MyModifier</span>(active: <span class="hljs-literal">true</span>),   <span class="hljs-comment">// æ¿€æ´»çŠ¶æ€</span>
    identity: <span class="hljs-type">MyModifier</span>(active: <span class="hljs-literal">false</span>) <span class="hljs-comment">// èº«ä»½çŠ¶æ€</span>
))
</code></pre>
<h4 data-id="heading-23"><strong>3. å˜æ¢æ•ˆæœ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 2Då˜æ¢</span>
.rotationEffect(.degrees(<span class="hljs-number">45</span>))           <span class="hljs-comment">// æ—‹è½¬</span>
.rotationEffect(.radians(.pi<span class="hljs-operator">/</span><span class="hljs-number">4</span>))        <span class="hljs-comment">// å¼§åº¦æ—‹è½¬</span>
.scaleEffect(<span class="hljs-number">1.5</span>)                       <span class="hljs-comment">// ç¼©æ”¾</span>
.scaleEffect(x: <span class="hljs-number">1</span>, y: <span class="hljs-number">2</span>)                <span class="hljs-comment">// éå‡åŒ€ç¼©æ”¾</span>

<span class="hljs-comment">// 3.2 3Då˜æ¢</span>
.rotation3DEffect(
    .degrees(<span class="hljs-number">45</span>),
    axis: (x: <span class="hljs-number">1</span>, y: <span class="hljs-number">0</span>, z: <span class="hljs-number">0</span>)            <span class="hljs-comment">// ç»•Xè½´æ—‹è½¬</span>
)
.transformEffect(<span class="hljs-type">CGAffineTransform</span>(     <span class="hljs-comment">// è‡ªå®šä¹‰å˜æ¢</span>
    translationX: <span class="hljs-number">10</span>, 
    y: <span class="hljs-number">20</span>
))
</code></pre>
<h3 data-id="heading-24">ä¸ƒã€çŠ¶æ€å’Œç»‘å®šä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-25"><strong>1. çŠ¶æ€ç®¡ç†</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 çŠ¶æ€ç»‘å®š</span>
.onChange(of: value) { newValue <span class="hljs-keyword">in</span>      <span class="hljs-comment">// å€¼å˜åŒ–ç›‘å¬</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å€¼å˜ä¸º: <span class="hljs-subst">\(newValue)</span>"</span>)
}
.onChange(of: value, perform: { newValue <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// å¤„ç†å˜åŒ–</span>
})

<span class="hljs-comment">// 1.2 ç”Ÿå‘½å‘¨æœŸ</span>
.onAppear {                             <span class="hljs-comment">// è§†å›¾å‡ºç°</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è§†å›¾å‡ºç°"</span>)
}
.onDisappear {                          <span class="hljs-comment">// è§†å›¾æ¶ˆå¤±</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è§†å›¾æ¶ˆå¤±"</span>)
}
.task {                                 <span class="hljs-comment">// å¼‚æ­¥ä»»åŠ¡</span>
    <span class="hljs-keyword">await</span> loadData()
}

<span class="hljs-comment">// 1.3 è¿ç»­å˜åŒ–</span>
.onContinuousHover { phase <span class="hljs-keyword">in</span>           <span class="hljs-comment">// è¿ç»­æ‚¬åœ</span>
    <span class="hljs-keyword">switch</span> phase {
    <span class="hljs-keyword">case</span> .active: <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¬åœå¼€å§‹"</span>)
    <span class="hljs-keyword">case</span> .ended: <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¬åœç»“æŸ"</span>)
    }
}
</code></pre>
<h4 data-id="heading-26"><strong>2. ç¯å¢ƒå˜é‡</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 ç¯å¢ƒå€¼</span>
.environment(\.colorScheme, .dark)      <span class="hljs-comment">// è®¾ç½®ç¯å¢ƒå€¼</span>
.environmentObject(userData)            <span class="hljs-comment">// ç¯å¢ƒå¯¹è±¡</span>

<span class="hljs-comment">// 2.2 è·å–ç¯å¢ƒå€¼</span>
<span class="hljs-meta">@Environment</span>(\.colorScheme) <span class="hljs-keyword">var</span> colorScheme
<span class="hljs-meta">@Environment</span>(\.locale) <span class="hljs-keyword">var</span> locale
<span class="hljs-meta">@Environment</span>(\.calendar) <span class="hljs-keyword">var</span> calendar
<span class="hljs-meta">@Environment</span>(\.timeZone) <span class="hljs-keyword">var</span> timeZone
</code></pre>
<h4 data-id="heading-27"><strong>3. åå¥½é”®</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 è®¾ç½®åå¥½å€¼</span>
.preference(key: <span class="hljs-type">MyPreferenceKey</span>.<span class="hljs-keyword">self</span>, value: someValue)

<span class="hljs-comment">// 3.2 è¯»å–åå¥½å€¼</span>
.onPreferenceChange(<span class="hljs-type">MyPreferenceKey</span>.<span class="hljs-keyword">self</span>) { newValue <span class="hljs-keyword">in</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åå¥½å€¼å˜åŒ–: <span class="hljs-subst">\(newValue)</span>"</span>)
}

<span class="hljs-comment">// 3.3 èƒŒæ™¯åå¥½å€¼</span>
.backgroundPreferenceValue(<span class="hljs-type">MyPreferenceKey</span>.<span class="hljs-keyword">self</span>) { value <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// åŸºäºåå¥½å€¼çš„èƒŒæ™¯</span>
}
</code></pre>
<h3 data-id="heading-28">å…«ã€è¡¨å•å’Œæ§ä»¶ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-29"><strong>1. è¡¨å•æ ·å¼</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 è¡¨å•åˆ†ç»„</span>
.listRowInsets(<span class="hljs-type">EdgeInsets</span>())            <span class="hljs-comment">// è¡Œå†…è¾¹è·</span>
.listRowBackground(<span class="hljs-type">Color</span>.blue)          <span class="hljs-comment">// è¡ŒèƒŒæ™¯</span>
.listRowSeparator(.hidden)              <span class="hljs-comment">// éšè—åˆ†éš”ç¬¦</span>
.listRowSeparatorTint(.red)             <span class="hljs-comment">// åˆ†éš”ç¬¦é¢œè‰²</span>

<span class="hljs-comment">// 1.2 è¡¨å•æ ·å¼</span>
.formStyle(.grouped)                    <span class="hljs-comment">// åˆ†ç»„æ ·å¼</span>
.formStyle(.columns)                    <span class="hljs-comment">// åˆ—æ ·å¼</span>
</code></pre>
<h4 data-id="heading-30"><strong>2. æ–‡æœ¬è¾“å…¥</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 é”®ç›˜ç±»å‹</span>
.keyboardType(.emailAddress)            <span class="hljs-comment">// ç”µå­é‚®ä»¶é”®ç›˜</span>
.keyboardType(.numberPad)               <span class="hljs-comment">// æ•°å­—é”®ç›˜</span>
.keyboardType(.decimalPad)              <span class="hljs-comment">// åè¿›åˆ¶é”®ç›˜</span>

<span class="hljs-comment">// 2.2 æ–‡æœ¬è‡ªåŠ¨ä¿®æ­£</span>
.autocorrectionDisabled()               <span class="hljs-comment">// ç¦ç”¨è‡ªåŠ¨ä¿®æ­£</span>
.autocorrectionDisabled(<span class="hljs-literal">true</span>)           <span class="hljs-comment">// æ¡ä»¶ç¦ç”¨</span>

<span class="hljs-comment">// 2.3 æ–‡æœ¬å†…å®¹ç±»å‹</span>
.textContentType(.emailAddress)         <span class="hljs-comment">// å†…å®¹ç±»å‹</span>
.textContentType(.password)             <span class="hljs-comment">// å¯†ç ç±»å‹</span>
.textContentType(.oneTimeCode)          <span class="hljs-comment">// éªŒè¯ç ç±»å‹</span>

<span class="hljs-comment">// 2.4 æ–‡æœ¬è¾“å…¥é™åˆ¶</span>
.textFieldStyle(.roundedBorder)         <span class="hljs-comment">// æ–‡æœ¬å­—æ®µæ ·å¼</span>
.textInputAutocapitalization(.words)    <span class="hljs-comment">// è‡ªåŠ¨å¤§å†™</span>
.submitLabel(.done)                     <span class="hljs-comment">// æäº¤æŒ‰é’®æ ‡ç­¾</span>
</code></pre>
<h4 data-id="heading-31"><strong>3. æŒ‰é’®æ ·å¼</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 æŒ‰é’®æ ·å¼</span>
.buttonStyle(.bordered)                 <span class="hljs-comment">// å¸¦è¾¹æ¡†</span>
.buttonStyle(.borderedProminent)        <span class="hljs-comment">// çªå‡ºè¾¹æ¡†</span>
.buttonStyle(.borderless)               <span class="hljs-comment">// æ— è¾¹æ¡†</span>
.buttonStyle(.plain)                    <span class="hljs-comment">// çº¯æ–‡æœ¬æ ·å¼</span>

<span class="hljs-comment">// 3.2 æŒ‰é’®å½¢çŠ¶</span>
.buttonBorderShape(.capsule)            <span class="hljs-comment">// èƒ¶å›Šå½¢çŠ¶</span>
.buttonBorderShape(.roundedRectangle)   <span class="hljs-comment">// åœ†è§’çŸ©å½¢</span>
.buttonBorderShape(.roundedRectangle(radius: <span class="hljs-number">10</span>)) <span class="hljs-comment">// è‡ªå®šä¹‰åœ†è§’</span>

<span class="hljs-comment">// 3.3 æŒ‰é’®å°ºå¯¸</span>
.controlSize(.large)                    <span class="hljs-comment">// å¤§å°ºå¯¸</span>
.controlSize(.regular)                  <span class="hljs-comment">// å¸¸è§„å°ºå¯¸</span>
.controlSize(.small)                    <span class="hljs-comment">// å°å°ºå¯¸</span>
.controlSize(.mini)                     <span class="hljs-comment">// è¿·ä½ å°ºå¯¸</span>
</code></pre>
<h3 data-id="heading-32">ä¹ã€åˆ—è¡¨å’Œè¡¨æ ¼ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-33"><strong>1. åˆ—è¡¨ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 åˆ—è¡¨æ ·å¼</span>
.listStyle(.plain)                      <span class="hljs-comment">// æ™®é€šæ ·å¼</span>
.listStyle(.grouped)                    <span class="hljs-comment">// åˆ†ç»„æ ·å¼</span>
.listStyle(.in<span class="hljs-keyword">set</span>)                      <span class="hljs-comment">// å†…åµŒæ ·å¼</span>
.listStyle(.insetGrouped)               <span class="hljs-comment">// å†…åµŒåˆ†ç»„</span>
.listStyle(.sidebar)                    <span class="hljs-comment">// ä¾§è¾¹æ æ ·å¼</span>

<span class="hljs-comment">// 1.2 åˆ—è¡¨è¡Œæ ·å¼</span>
.listRowSeparator(.visible)             <span class="hljs-comment">// æ˜¾ç¤ºåˆ†éš”ç¬¦</span>
.listRowSeparatorTint(.blue)            <span class="hljs-comment">// åˆ†éš”ç¬¦é¢œè‰²</span>
.listRowSeparator(.hidden, edges: .top) <span class="hljs-comment">// éšè—é¡¶éƒ¨è¾¹ç¼˜åˆ†éš”ç¬¦</span>

<span class="hljs-comment">// 1.3 åˆ—è¡¨èƒŒæ™¯</span>
.listRowBackground(
    <span class="hljs-type">LinearGradient</span>(colors: [.blue, .purple], 
                   startPoint: .leading, 
                   endPoint: .trailing)
)                                        <span class="hljs-comment">// æ¸å˜èƒŒæ™¯</span>

<span class="hljs-comment">// 1.4 æ»šåŠ¨æŒ‡ç¤ºå™¨</span>
.scrollIndicators(.visible)             <span class="hljs-comment">// æ˜¾ç¤ºæ»šåŠ¨æŒ‡ç¤ºå™¨</span>
.scrollIndicators(.hidden)              <span class="hljs-comment">// éšè—æ»šåŠ¨æŒ‡ç¤ºå™¨</span>
.scrollIndicators(.visible, axes: .vertical) <span class="hljs-comment">// ä»…å‚ç›´æ˜¾ç¤º</span>
</code></pre>
<h4 data-id="heading-34"><strong>2. è¡¨æ ¼ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 è¡¨æ ¼æ ·å¼</span>
.tableStyle(.automatic)                 <span class="hljs-comment">// è‡ªåŠ¨æ ·å¼</span>
.tableStyle(.in<span class="hljs-keyword">set</span>)                     <span class="hljs-comment">// å†…åµŒæ ·å¼</span>

<span class="hljs-comment">// 2.2 è¡¨æ ¼åˆ—</span>
.tableColumnWidth(.fixed(<span class="hljs-number">100</span>))          <span class="hljs-comment">// å›ºå®šåˆ—å®½</span>
.tableColumnWidth(.flexible(minimum: <span class="hljs-number">50</span>, maximum: <span class="hljs-number">200</span>)) <span class="hljs-comment">// çµæ´»åˆ—å®½</span>
.tableColumnWidth(.adaptive(minimum: <span class="hljs-number">50</span>)) <span class="hljs-comment">// è‡ªé€‚åº”åˆ—å®½</span>

<span class="hljs-comment">// 2.3 è¡¨æ ¼è¡Œ</span>
.tableRowBackground(<span class="hljs-type">Color</span>.gray.opacity(<span class="hljs-number">0.1</span>)) <span class="hljs-comment">// è¡ŒèƒŒæ™¯</span>
.tableRowSeparator(.visible)             <span class="hljs-comment">// è¡Œåˆ†éš”ç¬¦</span>
</code></pre>
<h3 data-id="heading-35">åã€å¯¼èˆªä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-36"><strong>1. å¯¼èˆªæ </strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 å¯¼èˆªæ ‡é¢˜</span>
.navigationTitle(<span class="hljs-string">"ä¸»é¡µ"</span>)                 <span class="hljs-comment">// å¤§æ ‡é¢˜</span>
.navigationBarTitle(<span class="hljs-string">"ä¸»é¡µ"</span>)              <span class="hljs-comment">// ä¼ ç»Ÿæ ‡é¢˜ï¼ˆiOS 13-14ï¼‰</span>
.navigationBarTitle(<span class="hljs-string">"ä¸»é¡µ"</span>, displayMode: .inline) <span class="hljs-comment">// å†…è”æ˜¾ç¤º</span>
.navigationBarTitleDisplayMode(.large)  <span class="hljs-comment">// å¤§æ ‡é¢˜æ¨¡å¼</span>
.navigationBarTitleDisplayMode(.inline) <span class="hljs-comment">// å†…è”æ¨¡å¼</span>
.navigationBarTitleDisplayMode(.automatic) <span class="hljs-comment">// è‡ªåŠ¨æ¨¡å¼</span>

<span class="hljs-comment">// 1.2 å¯¼èˆªæ é¡¹ç›®</span>
.navigationBarItems(
    leading: <span class="hljs-type">Button</span>(<span class="hljs-string">"å–æ¶ˆ"</span>) { },        <span class="hljs-comment">// å·¦ä¾§æŒ‰é’®</span>
    trailing: <span class="hljs-type">Button</span>(<span class="hljs-string">"ä¿å­˜"</span>) { }        <span class="hljs-comment">// å³ä¾§æŒ‰é’®</span>
)

<span class="hljs-comment">// 1.3 å·¥å…·æ </span>
.toolbar {                              <span class="hljs-comment">// å·¥å…·æ </span>
    <span class="hljs-type">ToolbarItem</span>(placement: .navigationBarTrailing) {
        <span class="hljs-type">Button</span>(<span class="hljs-string">"ç¼–è¾‘"</span>) { }
    }
}
.toolbarBackground(.visible, for: .navigationBar) <span class="hljs-comment">// å·¥å…·æ èƒŒæ™¯</span>
.toolbarColorScheme(.dark, for: .navigationBar)   <span class="hljs-comment">// å·¥å…·æ é¢œè‰²æ–¹æ¡ˆ</span>
</code></pre>
<h4 data-id="heading-37"><strong>2. å¯¼èˆªè§†å›¾æ ·å¼</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 å¯¼èˆªè§†å›¾æ ·å¼</span>
.navigationViewStyle(.stack)            <span class="hljs-comment">// å †æ ˆæ ·å¼</span>
.navigationViewStyle(.columns)          <span class="hljs-comment">// åˆ—æ ·å¼ï¼ˆiPadï¼‰</span>

<span class="hljs-comment">// 2.2 å¯¼èˆªé“¾æ¥</span>
.navigationDestination(for: <span class="hljs-type">String</span>.<span class="hljs-keyword">self</span>) { value <span class="hljs-keyword">in</span>
    <span class="hljs-type">DetailView</span>(id: value)
}                                        <span class="hljs-comment">// å¯¼èˆªç›®æ ‡ï¼ˆiOS 16+ï¼‰</span>

<span class="hljs-comment">// 2.3 å¯¼èˆªæ éšè—</span>
.navigationBarHidden(<span class="hljs-literal">true</span>)              <span class="hljs-comment">// éšè—å¯¼èˆªæ </span>
.navigationBarBackButtonHidden(<span class="hljs-literal">true</span>)    <span class="hljs-comment">// éšè—è¿”å›æŒ‰é’®</span>
</code></pre>
<h3 data-id="heading-38">åä¸€ã€å®‰å…¨åŒºåŸŸå’Œè¾¹ç¼˜ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-39"><strong>1. å®‰å…¨åŒºåŸŸ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 å¿½ç•¥å®‰å…¨åŒºåŸŸ</span>
.ignoresSafeArea()                      <span class="hljs-comment">// å¿½ç•¥æ‰€æœ‰å®‰å…¨åŒºåŸŸ</span>
.ignoresSafeArea(.all)                  <span class="hljs-comment">// æ˜ç¡®å¿½ç•¥æ‰€æœ‰</span>
.ignoresSafeArea(.container, edges: .top) <span class="hljs-comment">// å¿½ç•¥å®¹å™¨é¡¶éƒ¨å®‰å…¨åŒº</span>
.ignoresSafeArea(.keyboard)             <span class="hljs-comment">// å¿½ç•¥é”®ç›˜åŒºåŸŸ</span>

<span class="hljs-comment">// 1.2 è¾¹ç¼˜å¿½ç•¥</span>
.edgesIgnoringSafeArea(.all)            <span class="hljs-comment">// iOS 13æ–¹å¼</span>
.edgesIgnoringSafeArea([.top, .bottom]) <span class="hljs-comment">// å¿½ç•¥ç‰¹å®šè¾¹ç¼˜</span>

<span class="hljs-comment">// 1.3 å®‰å…¨åŒºåŸŸæ’å…¥</span>
.safeAreaInset(edge: .bottom) {         <span class="hljs-comment">// å®‰å…¨åŒºåŸŸå†…åµŒ</span>
    <span class="hljs-type">BottomToolbar</span>()
}
</code></pre>
<h4 data-id="heading-40"><strong>2. è¾¹ç¼˜è°ƒæ•´</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 è¾¹ç¼˜å¯¹é½</span>
.alignmentGuide(.top) { d <span class="hljs-keyword">in</span>
    d[.bottom] <span class="hljs-operator">+</span> <span class="hljs-number">20</span>                      <span class="hljs-comment">// è‡ªå®šä¹‰é¡¶éƒ¨å¯¹é½</span>
}

<span class="hljs-comment">// 2.2 è¾¹ç¼˜å¡«å……</span>
.padding(.safeArea)                     <span class="hljs-comment">// å®‰å…¨åŒºåŸŸå¡«å……</span>
.padding(.all, .safeArea)               <span class="hljs-comment">// æ‰€æœ‰è¾¹ç¼˜ä½¿ç”¨å®‰å…¨åŒºåŸŸ</span>
</code></pre>
<h3 data-id="heading-41">åäºŒã€å¯è®¿é—®æ€§ä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-42"><strong>1. å¯è®¿é—®æ€§æ ‡ç­¾å’Œæç¤º</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 å¯è®¿é—®æ€§æ ‡ç­¾</span>
.accessibilityLabel(<span class="hljs-string">"ä¿å­˜æŒ‰é’®"</span>)          <span class="hljs-comment">// æ ‡ç­¾</span>
.accessibilityHint(<span class="hljs-string">"åŒå‡»ä»¥ä¿å­˜æ›´æ”¹"</span>)     <span class="hljs-comment">// æç¤º</span>
.accessibilityValue(<span class="hljs-string">"è¿›åº¦: 50%"</span>)        <span class="hljs-comment">// å€¼</span>

<span class="hljs-comment">// 1.2 å¯è®¿é—®æ€§æ ‡è¯†ç¬¦</span>
.accessibilityIdentifier(<span class="hljs-string">"saveButton"</span>)  <span class="hljs-comment">// æ ‡è¯†ç¬¦ï¼ˆæµ‹è¯•ç”¨ï¼‰</span>
.accessibility(addTraits: .isButton)    <span class="hljs-comment">// æ·»åŠ ç‰¹æ€§</span>
.accessibility(removeTraits: .isImage)  <span class="hljs-comment">// ç§»é™¤ç‰¹æ€§</span>
.accessibility(hidden: <span class="hljs-literal">true</span>)            <span class="hljs-comment">// éšè—ï¼ˆè¾…åŠ©åŠŸèƒ½ä¸å¯è§ï¼‰</span>
</code></pre>
<h4 data-id="heading-43"><strong>2. å¯è®¿é—®æ€§åŠ¨ä½œ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 è‡ªå®šä¹‰åŠ¨ä½œ</span>
.accessibilityAction(.default) {        <span class="hljs-comment">// é»˜è®¤åŠ¨ä½œ</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œé»˜è®¤åŠ¨ä½œ"</span>)
}
.accessibilityAction(named: <span class="hljs-string">"è‡ªå®šä¹‰åŠ¨ä½œ"</span>) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‰§è¡Œè‡ªå®šä¹‰åŠ¨ä½œ"</span>)
}

<span class="hljs-comment">// 2.2 å¯è®¿é—®æ€§è°ƒæ•´</span>
.accessibilityAdjustableAction { direction <span class="hljs-keyword">in</span> <span class="hljs-comment">// å¯è°ƒæ•´åŠ¨ä½œ</span>
    <span class="hljs-keyword">switch</span> direction {
    <span class="hljs-keyword">case</span> .increment: incrementValue()
    <span class="hljs-keyword">case</span> .decrement: decrementValue()
    <span class="hljs-keyword">@unknown</span> <span class="hljs-keyword">default</span>: <span class="hljs-keyword">break</span>
    }
}
</code></pre>
<h3 data-id="heading-44">åä¸‰ã€é«˜çº§å’Œç»„åˆä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-45"><strong>1. è§†å›¾ä¿®æ”¹å™¨ç»„åˆ</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 é“¾å¼è°ƒç”¨</span>
.modifier(<span class="hljs-type">MyCustomModifier</span>())           <span class="hljs-comment">// è‡ªå®šä¹‰ä¿®æ”¹å™¨</span>
.compositingGroup()                     <span class="hljs-comment">// ç»„åˆç»„ï¼ˆæå‡æ€§èƒ½ï¼‰</span>
.drawingGroup()                         <span class="hljs-comment">// ç»˜å›¾ç»„ï¼ˆGPUåŠ é€Ÿï¼‰</span>

<span class="hljs-comment">// 1.2 æ¡ä»¶ä¿®é¥°ç¬¦</span>
.if(isActive) { view <span class="hljs-keyword">in</span>                 <span class="hljs-comment">// æ¡ä»¶åº”ç”¨ä¿®é¥°ç¬¦</span>
    view.background(<span class="hljs-type">Color</span>.red)
}
</code></pre>
<h4 data-id="heading-46"><strong>2. æ€§èƒ½ä¼˜åŒ–ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 ç»˜å›¾ä¼˜åŒ–</span>
.drawingGroup()                         <span class="hljs-comment">// åˆå¹¶ç»˜åˆ¶å±‚</span>
.compositingGroup()                     <span class="hljs-comment">// ç»„åˆè§†å›¾ç»„</span>

<span class="hljs-comment">// 2.2 ç¼“å­˜ä¼˜åŒ–</span>
.cachingBehavior(.byRequest)            <span class="hljs-comment">// æŒ‰è¯·æ±‚ç¼“å­˜</span>
.cachingBehavior(.duringDecode)         <span class="hljs-comment">// è§£ç æœŸé—´ç¼“å­˜</span>

<span class="hljs-comment">// 2.3 å›¾åƒç¼“å­˜</span>
.imageCache(.persistent)                <span class="hljs-comment">// æŒä¹…åŒ–ç¼“å­˜</span>
.imageCache(.inMemory)                  <span class="hljs-comment">// å†…å­˜ç¼“å­˜</span>
</code></pre>
<h4 data-id="heading-47"><strong>3. è‡ªå®šä¹‰ä¿®é¥°ç¬¦ç¤ºä¾‹</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 åˆ›å»ºè‡ªå®šä¹‰ä¿®é¥°ç¬¦</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">CardModifier</span>: <span class="hljs-title class_">ViewModifier</span> {
    <span class="hljs-keyword">let</span> cornerRadius: <span class="hljs-type">CGFloat</span>
    <span class="hljs-keyword">let</span> shadowRadius: <span class="hljs-type">CGFloat</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">body</span>(<span class="hljs-params">content</span>: <span class="hljs-type">Content</span>) -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        content
            .padding()
            .background(<span class="hljs-type">Color</span>.white)
            .cornerRadius(cornerRadius)
            .shadow(radius: shadowRadius)
            .padding(.horizontal)
    }
}

<span class="hljs-comment">// 3.2 æ‰©å±• View ä½¿ç”¨</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">cardStyle</span>(<span class="hljs-params">radius</span>: <span class="hljs-type">CGFloat</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>, <span class="hljs-params">shadow</span>: <span class="hljs-type">CGFloat</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>) -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        modifier(<span class="hljs-type">CardModifier</span>(cornerRadius: radius, shadowRadius: shadow))
    }
}

<span class="hljs-comment">// 3.3 ä½¿ç”¨è‡ªå®šä¹‰ä¿®é¥°ç¬¦</span>
<span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
    .cardStyle(radius: <span class="hljs-number">15</span>, shadow: <span class="hljs-number">10</span>)
</code></pre>
<h3 data-id="heading-48">åå››ã€å¹³å°ç‰¹å®šä¿®é¥°ç¬¦</h3>
<h4 data-id="heading-49"><strong>1. iOS ä¸“ç”¨ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 1.1 çŠ¶æ€æ æ ·å¼</span>
.statusBar(hidden: <span class="hljs-literal">true</span>)                <span class="hljs-comment">// éšè—çŠ¶æ€æ </span>

<span class="hljs-comment">// 1.2 é”®ç›˜å›é¿</span>
.keyboardAvoiding()                     <span class="hljs-comment">// é”®ç›˜å›é¿ï¼ˆç¬¬ä¸‰æ–¹åº“å¸¸è§ï¼‰</span>
.scrollDismissesKeyboard(.interactively) <span class="hljs-comment">// æ»šåŠ¨æ—¶å…³é—­é”®ç›˜</span>

<span class="hljs-comment">// 1.3 é¡µé¢æ§åˆ¶</span>
.pageControlAppearance(.visible)        <span class="hljs-comment">// é¡µé¢æ§åˆ¶å¤–è§‚</span>
</code></pre>
<h4 data-id="heading-50"><strong>2. macOS ä¸“ç”¨ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 çª—å£ä¿®é¥°ç¬¦</span>
.windowStyle(.titleBar)                 <span class="hljs-comment">// çª—å£æ ·å¼</span>
.windowResizability(.contentSize)       <span class="hljs-comment">// çª—å£å¯è°ƒæ•´æ€§</span>

<span class="hljs-comment">// 2.2 å·¥å…·æ </span>
.toolbarStyle(.automatic)               <span class="hljs-comment">// å·¥å…·æ æ ·å¼</span>
.toolbarStyle(.unified)                 <span class="hljs-comment">// ç»Ÿä¸€å·¥å…·æ </span>

<span class="hljs-comment">// 2.3 å…‰æ ‡æ ·å¼</span>
.onHover { inside <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> inside {
        <span class="hljs-type">NSCursor</span>.pointingHand.push()
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-type">NSCursor</span>.pop()
    }
}
</code></pre>
<h4 data-id="heading-51"><strong>3. è·¨å¹³å°æ¡ä»¶ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 æ¡ä»¶ç¼–è¯‘</span>
<span class="hljs-keyword">#if</span> os(iOS)
    .navigationBarTitle(<span class="hljs-string">"iOSæ ‡é¢˜"</span>)
<span class="hljs-keyword">#elseif</span> os(macOS)
    .navigationTitle(<span class="hljs-string">"macOSæ ‡é¢˜"</span>)
<span class="hljs-keyword">#endif</span>

<span class="hljs-comment">// 3.2 å¹³å°é€‚é…</span>
.onAppear {
    <span class="hljs-keyword">#if</span> os(iOS)
        <span class="hljs-comment">// iOS ç‰¹å®šä»£ç </span>
    <span class="hljs-keyword">#endif</span>
}
</code></pre>
<h3 data-id="heading-52">åäº”ã€å®ç”¨æŠ€å·§å’Œæ¨¡å¼</h3>
<h4 data-id="heading-53"><strong>1. ä¿®é¥°ç¬¦é¡ºåºçš„é‡è¦æ€§</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é¡ºåºå½±å“ç»“æœï¼</span>
<span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
    .padding()          <span class="hljs-comment">// å…ˆåŠ å†…è¾¹è·</span>
    .background(<span class="hljs-type">Color</span>.blue) <span class="hljs-comment">// èƒŒæ™¯åªåŒ…è£¹å†…å®¹å’Œå†…è¾¹è·</span>
    .padding()          <span class="hljs-comment">// å†åŠ å¤–è¾¹è·ï¼ŒèƒŒæ™¯ä¸ä¼šæ‰©å±•</span>

<span class="hljs-type">Text</span>(<span class="hljs-string">"Hello"</span>)
    .background(<span class="hljs-type">Color</span>.blue) <span class="hljs-comment">// èƒŒæ™¯åªåŒ…è£¹æ–‡æœ¬</span>
    .padding()          <span class="hljs-comment">// å†…è¾¹è·åœ¨èƒŒæ™¯å¤–</span>
</code></pre>
<h4 data-id="heading-54"><strong>2. ç»„åˆå¸¸ç”¨æ ·å¼</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 2.1 åˆ›å»ºæ ·å¼ç»„åˆ</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">primaryButtonStyle</span>() -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-keyword">self</span>
            .padding(.horizontal, <span class="hljs-number">20</span>)
            .padding(.vertical, <span class="hljs-number">12</span>)
            .background(<span class="hljs-type">Color</span>.blue)
            .foregroundColor(.white)
            .cornerRadius(<span class="hljs-number">10</span>)
            .shadow(radius: <span class="hljs-number">3</span>)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">secondaryButtonStyle</span>() -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-keyword">self</span>
            .padding(.horizontal, <span class="hljs-number">20</span>)
            .padding(.vertical, <span class="hljs-number">10</span>)
            .background(<span class="hljs-type">Color</span>.gray.opacity(<span class="hljs-number">0.2</span>))
            .foregroundColor(.blue)
            .cornerRadius(<span class="hljs-number">8</span>)
            .overlay(
                <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">8</span>)
                    .stroke(<span class="hljs-type">Color</span>.blue, lineWidth: <span class="hljs-number">1</span>)
            )
    }
}

<span class="hljs-comment">// 2.2 ä½¿ç”¨</span>
<span class="hljs-type">Button</span>(<span class="hljs-string">"ä¿å­˜"</span>, action: save)
    .primaryButtonStyle()

<span class="hljs-type">Button</span>(<span class="hljs-string">"å–æ¶ˆ"</span>, action: cancel)
    .secondaryButtonStyle()
</code></pre>
<h4 data-id="heading-55"><strong>3. è°ƒè¯•ä¿®é¥°ç¬¦</strong></h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// 3.1 è°ƒè¯•è¾¹æ¡†</span>
.border(<span class="hljs-type">Color</span>.red)                      <span class="hljs-comment">// è°ƒè¯•è¾¹æ¡†</span>
.background(<span class="hljs-type">Color</span>.green.opacity(<span class="hljs-number">0.3</span>))   <span class="hljs-comment">// è°ƒè¯•èƒŒæ™¯</span>

<span class="hljs-comment">// 3.2 è°ƒè¯•å°ºå¯¸</span>
.overlay(
    <span class="hljs-type">GeometryReader</span> { geo <span class="hljs-keyword">in</span>
        <span class="hljs-type">Text</span>(<span class="hljs-string">"<span class="hljs-subst">\(Int(geo.size.width))</span>x<span class="hljs-subst">\(Int(geo.size.height))</span>"</span>)
            .font(.caption)
            .foregroundColor(.red)
            .position(x: geo.size.width<span class="hljs-operator">/</span><span class="hljs-number">2</span>, y: <span class="hljs-number">10</span>)
    }
)

<span class="hljs-comment">// 3.3 è°ƒè¯•æ‰“å°</span>
.onAppear {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è§†å›¾å‡ºç°ï¼Œå½“å‰å°ºå¯¸: ..."</span>)
}
</code></pre>
<h3 data-id="heading-56">æ€»ç»“</h3>
<p>SwiftUI ä¿®é¥°ç¬¦ç³»ç»Ÿéå¸¸å¼ºå¤§ï¼Œå…³é”®è¦ç‚¹ï¼š</p>
<ol>
<li><strong>ä¿®é¥°ç¬¦é¡ºåºå¾ˆé‡è¦</strong> - åº”ç”¨é¡ºåºå½±å“æœ€ç»ˆæ•ˆæœ</li>
<li><strong>é“¾å¼è°ƒç”¨</strong> - å¤§å¤šæ•°ä¿®é¥°ç¬¦è¿”å› Viewï¼Œæ”¯æŒé“¾å¼è°ƒç”¨</li>
<li><strong>ç»„åˆä½¿ç”¨</strong> - å¤šä¸ªä¿®é¥°ç¬¦ç»„åˆå®ç°å¤æ‚æ•ˆæœ</li>
<li><strong>è‡ªå®šä¹‰æ‰©å±•</strong> - é€šè¿‡æ‰©å±• View åˆ›å»ºè‡ªå®šä¹‰ä¿®é¥°ç¬¦</li>
<li><strong>å¹³å°å·®å¼‚</strong> - æ³¨æ„ä¸åŒå¹³å°çš„ä¿®é¥°ç¬¦æ”¯æŒæƒ…å†µ</li>
</ol>
<p>æŒæ¡è¿™äº›ä¿®é¥°ç¬¦åï¼Œå°±å¯ä»¥åˆ›å»ºå‡ ä¹ä»»ä½•æƒ³è¦çš„ç•Œé¢æ•ˆæœã€‚å»ºè®®åœ¨å®è·µä¸­ä¸æ–­å°è¯•å’Œç»„åˆè¿™äº›ä¿®é¥°ç¬¦ï¼Œä»¥åŠ æ·±ç†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidå…¨å±€æ‚¬æµ®æ‹–æ‹½è§†å›¾]]></title>    <link>https://juejin.cn/post/7582246395987148834</link>    <guid>https://juejin.cn/post/7582246395987148834</guid>    <pubDate>2025-12-11T08:54:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582246395987148834" data-draft-id="7582232741687459875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidå…¨å±€æ‚¬æµ®æ‹–æ‹½è§†å›¾"/> <meta itemprop="keywords" content="Android,å®¢æˆ·ç«¯,APP"/> <meta itemprop="datePublished" content="2025-12-11T08:54:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Gemini001"/> <meta itemprop="url" content="https://juejin.cn/user/2333635831676704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidå…¨å±€æ‚¬æµ®æ‹–æ‹½è§†å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2333635831676704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Gemini001
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:54:55.000Z" title="Thu Dec 11 2025 08:54:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥ ViewDragHelperï¼šä»æºç åˆ°å®ç°ä¸€ä¸ªå…¨å±€æ‚¬æµ®æ‹–æ‹½è§†å›¾</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd54d2c548844cd496b28cd374bbadef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2VtaW5pMDAx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048095&amp;x-signature=TXq2Oq3lkOzKrG3EpDp5oHixaF8%3D" alt="æœªå‘½å.jpeg" loading="lazy"/></p>
<p>åœ¨ Android å¼€å‘ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªèƒ½åœ¨å±å¹•ä¸Šä»»æ„æ‹–æ‹½ã€è¾¹ç¼˜å¸é™„ã€å¹¶å¸¦æœ‰æµç•…åŠ¨ç”»çš„æ‚¬æµ®çª—ï¼Œæ˜¯æå‡ç”¨æˆ·ä½“éªŒå’Œå®ç°åˆ›æ–°åŠŸèƒ½çš„å¸¸è§éœ€æ±‚ã€‚è¦ä»é›¶å¼€å§‹å¤„ç†å¤æ‚çš„è§¦æ‘¸äº‹ä»¶ã€é€Ÿåº¦è¿½è¸ªå’ŒåŠ¨ç”»è¿‡æ¸¡ï¼Œæ— ç–‘æ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚å¹¸è¿çš„æ˜¯ï¼ŒAndroidX åº“ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„"ç‘å£«å†›åˆ€"â€”â€”ViewDragHelperã€‚</p>
<p>æœ¬æ–‡å°†å¸¦é¢†ä½ æ·±å…¥ ViewDragHelper çš„æ ¸å¿ƒå·¥ä½œåŸç†ï¼Œç„¶åäº²æ‰‹æ‰“é€ ä¸€ä¸ªåä¸º FloatingDragView çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬ä¼šå°†è¿™ä¸ªç»„ä»¶åŠ è½½åˆ°åº”ç”¨çš„é¡¶å±‚çª—å£ DecorView ä¸Šï¼Œå®ç°ä¸€ä¸ªå¯åœ¨æ•´ä¸ª App å†…è‡ªç”±æµ®åŠ¨çš„è§†å›¾ï¼Œå¹¶æ·±å…¥æ¢è®¨å…¶èƒŒåçš„ Android çª—å£å±‚çº§æœºåˆ¶ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ·±å…¥ ViewDragHelper çš„æºç ä¸æ ¸å¿ƒæœºåˆ¶</h3>
<p>ViewDragHelper å¹¶éä¸€ä¸ªå…·ä½“çš„ Viewï¼Œè€Œæ˜¯ä¸€ä¸ªç”¨äºåœ¨è‡ªå®šä¹‰ ViewGroup å†…éƒ¨å®ç°å­è§†å›¾æ‹–æ‹½çš„è¾…åŠ©ç±» (Helper)ã€‚å®ƒçš„è®¾è®¡å“²å­¦æ˜¯ï¼šæ¥ç®¡å®¿ä¸» ViewGroup çš„è§¦æ‘¸äº‹ä»¶ï¼Œå¹¶å°†å¤æ‚çš„æ‹–æ‹½é€»è¾‘æŠ½è±¡ä¸ºä¸€ç³»åˆ—ç®€å•æ˜äº†çš„å›è°ƒæ–¹æ³•ã€‚</p>
<h4 data-id="heading-2">1. åˆå§‹åŒ–ï¼šå»ºç«‹è¿æ¥</h4>
<p>è¦ä½¿ç”¨å®ƒï¼Œé¦–å…ˆè¦åœ¨ä½ çš„è‡ªå®šä¹‰ ViewGroup (æˆ‘ä»¬ç§°ä¹‹ä¸ºå®¿ä¸») ä¸­åˆ›å»ºå®ƒçš„å®ä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨è‡ªå®šä¹‰ ViewGroup çš„ init ä»£ç å—ä¸­</span>
<span class="hljs-keyword">val</span> dragger = ViewDragHelper.create(<span class="hljs-keyword">this</span>, <span class="hljs-number">1.0f</span>, <span class="hljs-keyword">object</span> : ViewDragHelper.Callback() {
    <span class="hljs-comment">// ... åœ¨è¿™é‡Œå®ç°å›è°ƒæ–¹æ³•</span>
})
</code></pre>
<p>create() æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå…³é”®å‚æ•°ï¼š</p>
<ol>
<li><strong>parent</strong>: å®¿ä¸» ViewGroupï¼Œä¹Ÿå°±æ˜¯ thisã€‚ViewDragHelper å°†åœ¨æ­¤ ViewGroup çš„åæ ‡ç³»å†…è¿›è¡Œæ‰€æœ‰è®¡ç®—ã€‚</li>
<li><strong>sensitivity</strong>: è§¦æ‘¸æ•æ„Ÿåº¦ï¼Œé€šå¸¸ä½¿ç”¨ 1.0fã€‚</li>
<li><strong>cb</strong>: ä¸€ä¸ª ViewDragHelper.Callback çš„åŒ¿åå†…éƒ¨ç±»æˆ–å®ä¾‹ã€‚è¿™æ˜¯ ViewDragHelper çš„çµé­‚ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„è‡ªå®šä¹‰è¡Œä¸ºéƒ½åœ¨è¿™é‡Œå®šä¹‰ã€‚</li>
</ol>
<h4 data-id="heading-3">2. äº‹ä»¶æ‹¦æˆªä¸å¤„ç†ï¼šå®ƒæ˜¯å¦‚ä½•"å·èµ°"è§¦æ‘¸äº‹ä»¶çš„ï¼Ÿ</h4>
<p>ViewDragHelper éœ€è¦è·å¾—è§¦æ‘¸äº‹ä»¶çš„æ§åˆ¶æƒã€‚è¿™é€šè¿‡åœ¨å®¿ä¸» ViewGroup ä¸­é‡å†™ä¸¤ä¸ªå…³é”®æ–¹æ³•æ¥å®ç°ï¼š</p>
<ul>
<li><strong>onInterceptTouchEvent(ev: MotionEvent)</strong> : è§¦æ‘¸äº‹ä»¶æµçš„ç¬¬ä¸€é“å…³å¡ã€‚</li>
</ul>

<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onInterceptTouchEvent</span><span class="hljs-params">(ev: <span class="hljs-type">MotionEvent</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-comment">// å°†äº‹ä»¶äº¤ç»™ ViewDragHelper åˆ¤æ–­æ˜¯å¦åº”è¯¥æ‹¦æˆª</span>
    <span class="hljs-keyword">return</span> dragger.shouldInterceptTouchEvent(ev)
}
</code></pre>
<p>å½“è°ƒç”¨Â <code>dragger.shouldInterceptTouchEvent(ev)</code>æ—¶ï¼ŒViewDragHelper å†…éƒ¨ä¼šè¿›è¡Œä¸€ç³»åˆ—ç²¾å¯†çš„åˆ¤æ–­ã€‚åœ¨ ACTION_DOWN æ—¶ï¼Œå®ƒä¼šè®°å½•è§¦æ‘¸ç‚¹å’Œç›®æ ‡å­ Viewã€‚åœ¨ ACTION_MOVE æ—¶ï¼Œå®ƒä¼šæ£€æŸ¥æ‰‹æŒ‡çš„ç§»åŠ¨è·ç¦»æ˜¯å¦è¶…è¿‡äº†Â <code>mTouchSlop</code>(ç³»ç»Ÿå®šä¹‰çš„æœ€å°æ»‘åŠ¨è·ç¦»)ã€‚ä¸€æ—¦è¶…è¿‡ï¼Œå®ƒä¾¿è®¤ä¸ºç”¨æˆ·æ„å›¾æ˜¯"æ‹–æ‹½"è€Œé"ç‚¹å‡»"ï¼Œæ­¤æ–¹æ³•å°†è¿”å› trueï¼Œä»è€Œ <strong>"æ‹¦æˆª"åç»­çš„æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</strong>ï¼Œä¸å†åˆ†å‘ç»™å­ Viewã€‚</p>
<ul>
<li><strong>onTouchEvent(event: MotionEvent)</strong> : ä¸€æ—¦äº‹ä»¶è¢«æ‹¦æˆªï¼Œåç»­çš„ MOVE å’Œ UP äº‹ä»¶éƒ½ä¼šè¢«ä¼ é€’åˆ°è¿™é‡Œã€‚</li>
</ul>

<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onTouchEvent</span><span class="hljs-params">(event: <span class="hljs-type">MotionEvent</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-comment">// å°†äº‹ä»¶å–‚ç»™ ViewDragHelper å¤„ç†</span>
    dragger.processTouchEvent(event)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-comment">// è¡¨æ˜æˆ‘ä»¬æ¶ˆè´¹äº†æ­¤äº‹ä»¶</span>
}
</code></pre>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªéœ€å°†äº‹ä»¶å–‚ç»™Â <code>dragger.processTouchEvent(event)</code>ã€‚ViewDragHelper ä¼šå¤„ç†è¿™äº›äº‹ä»¶ï¼Œæ›´æ–°è¢«æ‹–æ‹½ View çš„ä½ç½®ï¼Œå¹¶é€‚æ—¶è°ƒç”¨æˆ‘ä»¬ Callback ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚</p>
<h4 data-id="heading-4">3. å¹³æ»‘åŠ¨ç”»çš„ç§˜å¯†ï¼šScroller ä¸ computeScroll</h4>
<p>ViewDragHelper æœ€ä¼˜é›…çš„éƒ¨åˆ†åœ¨äºå…¶å†…ç½®çš„åŠ¨ç”»èƒ½åŠ›ï¼Œæ¯”å¦‚é‡Šæ”¾åçš„è‡ªåŠ¨å¸é™„æ•ˆæœã€‚è¿™èƒŒåä¾èµ–äºç»å…¸çš„ Scroller ç±»ã€‚</p>
<ul>
<li><strong>smoothSlideViewTo(...) &amp; settleCapturedViewAt(...)</strong> : å½“æˆ‘ä»¬æƒ³è®©ä¸€ä¸ª View å¹³æ»‘ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®æ—¶ï¼ˆä¾‹å¦‚ï¼Œåœ¨ onViewReleased å›è°ƒä¸­ï¼‰ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹ä¸€ã€‚å®ƒä»¬å¹¶ä¸ä¼šç«‹å³æ”¹å˜ View çš„ä½ç½®ï¼Œè€Œæ˜¯å¯åŠ¨å†…éƒ¨çš„ Scroller æ¥è®¡ç®—ä»å½“å‰ä½ç½®åˆ°ç›®æ ‡ä½ç½®çš„åŠ¨ç”»è½¨è¿¹ã€‚</li>
<li><strong>computeScroll()</strong> : Scroller å¯åŠ¨åï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®¿ä¸» ViewGroup ä¸­é‡å†™ computeScroll() æ¥å“åº”åŠ¨ç”»çš„æ¯ä¸€å¸§ã€‚</li>
</ul>

<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">computeScroll</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// continueSettling ä¼šæ£€æŸ¥ Scroller åŠ¨ç”»æ˜¯å¦ä»åœ¨è¿›è¡Œ</span>
    <span class="hljs-keyword">if</span> (dragger.continueSettling(<span class="hljs-literal">true</span>)) {
        <span class="hljs-comment">// å¦‚æœåŠ¨ç”»æœªç»“æŸï¼Œè¯·æ±‚ä¸‹ä¸€å¸§é‡ç»˜</span>
        postInvalidateOnAnimation()
    }
}
</code></pre>
<p><code>dragger.continueSettling(true)</code>ä¼šæ£€æŸ¥ Scroller çš„çŠ¶æ€ã€‚å¦‚æœåŠ¨ç”»ä»åœ¨è¿›è¡Œï¼Œå®ƒä¼šæ ¹æ®å½“å‰æ—¶é—´è®¡ç®—å‡º View åº”è¯¥åœ¨çš„ä½ç½®ï¼Œæ›´æ–° View çš„ left å’Œ topï¼Œå¹¶è¿”å› trueã€‚æˆ‘ä»¬éšå³è°ƒç”¨Â <code>postInvalidateOnAnimation()</code>æ¥è¯·æ±‚ä¸‹ä¸€æ¬¡é‡ç»˜ï¼Œä»è€Œå½¢æˆä¸€ä¸ªåŠ¨ç”»å¾ªç¯ï¼Œç›´åˆ° continueSettling è¿”å› falseï¼ŒåŠ¨ç”»ç»“æŸã€‚</p>
<h3 data-id="heading-5">äºŒã€å®æˆ˜ï¼šæ„å»ºé«˜åº¦å¯é…ç½®çš„ FloatingDragView</h3>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ©ç”¨ ViewDragHelper æ¥æ„å»ºä¸€ä¸ª FloatingDragViewã€‚</p>
<h4 data-id="heading-6">1. å®šä¹‰æ‹–æ‹½æ¨¡å¼</h4>
<p>ä¸ºäº†è®©ç»„ä»¶æ›´å…·æ‰©å±•æ€§ï¼Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰ä¸€ä¸ªæšä¸¾æ¥è¡¨ç¤ºä¸åŒçš„æ‹–æ‹½å’Œå¸é™„æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DragMode</span> {</span>
    <span class="hljs-comment">/** åªèƒ½åœ¨å³ä¾§å‚ç›´æ‹–åŠ¨ */</span>
    SIDE_VERTICAL,
    <span class="hljs-comment">/** å¯å…¨å±æ‹–åŠ¨ï¼Œä½†é‡Šæ”¾åè‡ªåŠ¨å¸é™„åˆ°å³ä¾§ */</span>
    FULL_DRAG_SNAP_RIGHT,
    <span class="hljs-comment">/** å¯å…¨å±æ‹–åŠ¨ï¼Œé‡Šæ”¾åæ ¹æ®ä½ç½®è‡ªåŠ¨å¸é™„åˆ°å·¦ä¾§æˆ–å³ä¾§ */</span>
    FULL_DRAG_SNAP_BOTH
}
</code></pre>
<h4 data-id="heading-7">2. åˆ›å»º FloatingDragView</h4>
<p>è¿™æ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª FrameLayout çš„è‡ªå®šä¹‰ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FloatingDragView</span> <span class="hljs-meta">@JvmOverloads</span> <span class="hljs-keyword">constructor</span>(
    context: Context, attrs: AttributeSet? = <span class="hljs-literal">null</span>, defStyleAttr: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
) : FrameLayout(context, attrs, defStyleAttr) {

    <span class="hljs-comment">// å¯æ‹–æ‹½çš„ç›®æ ‡è§†å›¾</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> dragTargetView: View
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> dragger: ViewDragHelper
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> dragMode: DragMode = DragMode.FULL_DRAG_SNAP_BOTH

    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// åŠ è½½å­è§†å›¾å¸ƒå±€ï¼Œä¾‹å¦‚ä¸€ä¸ªå¸¦å›¾ç‰‡çš„CardView</span>
        inflate(context, R.layout.layout_floating_content, <span class="hljs-keyword">this</span>)
        dragTargetView = getChildAt(<span class="hljs-number">0</span>) <span class="hljs-comment">// å‡è®¾ç¬¬ä¸€ä¸ªå­è§†å›¾æ˜¯æˆ‘ä»¬çš„æ‹–æ‹½ç›®æ ‡</span>

        dragger = ViewDragHelper.create(<span class="hljs-keyword">this</span>, <span class="hljs-number">1.0f</span>, DraggerCallBack())
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setDragMode</span><span class="hljs-params">(mode: <span class="hljs-type">DragMode</span>)</span></span> {
        <span class="hljs-keyword">this</span>.dragMode = mode
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onInterceptTouchEvent</span><span class="hljs-params">(ev: <span class="hljs-type">MotionEvent</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">return</span> dragger.shouldInterceptTouchEvent(ev)
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onTouchEvent</span><span class="hljs-params">(event: <span class="hljs-type">MotionEvent</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        dragger.processTouchEvent(event)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">computeScroll</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (dragger.continueSettling(<span class="hljs-literal">true</span>)) {
            postInvalidateOnAnimation()
        }
    }
}
</code></pre>
<h4 data-id="heading-8">3. å®ç° DraggerCallBack</h4>
<p>è¿™æ˜¯å®ç°æ‰€æœ‰è‡ªå®šä¹‰é€»è¾‘çš„åœ°æ–¹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">inner</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DraggerCallBack</span> : <span class="hljs-type">ViewDragHelper.Callback</span>() {

    <span class="hljs-comment">// 1. å†³å®šå“ªä¸ªViewå¯ä»¥è¢«æ‹–åŠ¨</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">tryCaptureView</span><span class="hljs-params">(child: <span class="hljs-type">View</span>, pointerId: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">return</span> child == dragTargetView
    }

    <span class="hljs-comment">// 2. çº¦æŸæ‹–æ‹½è¾¹ç•Œ (Clamp Position)</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">clampViewPositionHorizontal</span><span class="hljs-params">(child: <span class="hljs-type">View</span>, left: <span class="hljs-type">Int</span>, dx: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (dragMode) {
            DragMode.SIDE_VERTICAL -&gt; {
                <span class="hljs-comment">// æ¨¡å¼1ï¼šé”å®šæ°´å¹³ä½ç½®åœ¨å³ä¾§</span>
                width - child.width - paddingRight
            }
            DragMode.FULL_DRAG_SNAP_RIGHT, DragMode.FULL_DRAG_SNAP_BOTH -&gt; {
                <span class="hljs-comment">// æ¨¡å¼2å’Œ3ï¼šå…è®¸åœ¨å±å¹•å†…æ°´å¹³è‡ªç”±æ‹–åŠ¨</span>
                <span class="hljs-keyword">val</span> leftBound = paddingLeft
                <span class="hljs-keyword">val</span> rightBound = width - child.width - paddingRight
                left.coerceIn(leftBound, rightBound)
            }
        }
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">clampViewPositionVertical</span><span class="hljs-params">(child: <span class="hljs-type">View</span>, top: <span class="hljs-type">Int</span>, dy: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-comment">// æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½é™åˆ¶åœ¨å‚ç›´è¾¹ç•Œå†…</span>
        <span class="hljs-keyword">val</span> topBound = paddingTop
        <span class="hljs-keyword">val</span> bottomBound = height - child.height - paddingBottom
        <span class="hljs-keyword">return</span> top.coerceIn(topBound, bottomBound)
    }

    <span class="hljs-comment">// 3. å¤„ç†è§†å›¾é‡Šæ”¾åçš„è¡Œä¸ºï¼ˆè‡ªåŠ¨å¸é™„ï¼‰</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onViewReleased</span><span class="hljs-params">(releasedChild: <span class="hljs-type">View</span>, xvel: <span class="hljs-type">Float</span>, yvel: <span class="hljs-type">Float</span>)</span></span> {
        <span class="hljs-keyword">val</span> finalLeft = <span class="hljs-keyword">when</span> (dragMode) {
            DragMode.SIDE_VERTICAL, DragMode.FULL_DRAG_SNAP_RIGHT -&gt; {
                <span class="hljs-comment">// æ¨¡å¼1å’Œ2ï¼šæ€»æ˜¯å¸é™„åˆ°å³ä¾§</span>
                width - releasedChild.width - paddingRight
            }
            DragMode.FULL_DRAG_SNAP_BOTH -&gt; {
                <span class="hljs-comment">// æ¨¡å¼3ï¼šæ ¹æ®ä½ç½®è‡ªåŠ¨å¸é™„</span>
                <span class="hljs-keyword">if</span> ((releasedChild.left + releasedChild.width / <span class="hljs-number">2</span>) &lt; width / <span class="hljs-number">2</span>) {
                    paddingLeft <span class="hljs-comment">// å¸é™„åˆ°å·¦ä¾§</span>
                } <span class="hljs-keyword">else</span> {
                    width - releasedChild.width - paddingRight <span class="hljs-comment">// å¸é™„åˆ°å³ä¾§</span>
                }
            }
        }
        <span class="hljs-comment">// ä½¿ç”¨ settle æ–¹æ³•å¯åŠ¨è‡ªåŠ¨æ»šåŠ¨çš„åŠ¨ç”»</span>
        <span class="hljs-keyword">if</span> (dragger.settleCapturedViewAt(finalLeft, releasedChild.top)) {
            postInvalidateOnAnimation()
        }
    }
    
    <span class="hljs-comment">// 4. å®šä¹‰å¯æ‹–åŠ¨èŒƒå›´ (å¯¹äºAccessibilityæœåŠ¡å¾ˆé‡è¦)</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getViewHorizontalDragRange</span><span class="hljs-params">(child: <span class="hljs-type">View</span>)</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-keyword">return</span> measuredWidth - child.measuredWidth
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getViewVerticalDragRange</span><span class="hljs-params">(child: <span class="hljs-type">View</span>)</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-keyword">return</span> measuredHeight - child.measuredHeight
    }
}
</code></pre>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€å¯é…ç½®çš„ FloatingDragView ç»„ä»¶å°±å®Œæˆäº†ï¼</p>
<h3 data-id="heading-9">ä¸‰ã€å®ç°å…¨å±€æ‚¬æµ®ï¼šDecorView ä¸ Android çª—å£å±‚çº§</h3>
<p>ç°åœ¨ï¼Œå¦‚ä½•è®©æˆ‘ä»¬çš„ FloatingDragView æ‚¬æµ®åœ¨æ•´ä¸ªåº”ç”¨çš„æœ€ä¸Šå±‚ï¼Œè€Œä¸æ˜¯å±€é™äºæŸä¸ª Activity çš„å¸ƒå±€å†…å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å°†å…¶æ·»åŠ åˆ° Activity çš„ DecorView ä¸Šã€‚</p>
<h4 data-id="heading-10">1. DecorView æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>DecorView æ˜¯ Window ä¸­çš„é¡¶çº§è§†å›¾ï¼Œæ˜¯æ‰€æœ‰ Activity è§†å›¾çš„æ ¹å®¹å™¨ã€‚ä¸€ä¸ª Activity çš„è§†å›¾æ ‘ç»“æ„é€šå¸¸æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">DecorView (FrameLayout)
  â””â”€â”€ LinearLayout
      â”œâ”€â”€ FrameLayout (id/content)  &lt;-- æˆ‘ä»¬ setContentView çš„å†…å®¹è¢«æ·»åŠ åˆ°è¿™é‡Œ
      â”‚     â””â”€â”€ ... (æˆ‘ä»¬çš„å¸ƒå±€)
      â””â”€â”€ ... (æ ‡é¢˜æ ã€çŠ¶æ€æ ç­‰)
</code></pre>
<p>DecorView æ˜¯ä¸€ä¸ª FrameLayoutï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥å‘å…¶æ·»åŠ å­ Viewã€‚ç”±äºå®ƒä½äºè§†å›¾æ ‘çš„é¡¶ç«¯ï¼Œå¹¶ä¸”å°ºå¯¸ä¸æ•´ä¸ªçª—å£ç›¸åŒï¼Œä»»ä½•ç›´æ¥æ·»åŠ åˆ° DecorView çš„å­è§†å›¾ï¼Œéƒ½ä¼šè¦†ç›–åœ¨ setContentView è®¾ç½®çš„æ‰€æœ‰å†…å®¹ä¹‹ä¸Šï¼Œä»è€Œå®ç°å…¨å±€æ‚¬æµ®çš„æ•ˆæœã€‚</p>
<h4 data-id="heading-11">2. ä¸ºä»€ä¹ˆ DecorView èƒ½å®ç°å…¨å±€æ‚¬æµ®ï¼Ÿâ€”â€”Android çª—å£å±‚çº§ (Window Layer)</h4>
<p>è¦çœŸæ­£ç†è§£"å…¨å±€"ï¼Œæˆ‘ä»¬éœ€è¦è·³å‡º View çš„å±‚çº§ï¼Œçœ‹çœ‹ Window çš„å±‚çº§ã€‚Android çš„çª—å£ç³»ç»Ÿï¼ˆWindowManagerService, WMSï¼‰ç®¡ç†ç€å±å¹•ä¸Šæ‰€æœ‰çª—å£çš„ç»˜åˆ¶å’Œå±‚çº§ã€‚æ¯ä¸ªçª—å£ï¼ˆWindowï¼‰éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ Z-Order å€¼ï¼Œè¿™ä¸ªå€¼å†³å®šäº†è°ç»˜åˆ¶åœ¨è°çš„ä¸Šé¢ã€‚</p>
<p>å¸¸è§çš„çª—å£ç±»å‹å’Œå®ƒä»¬çš„é»˜è®¤å±‚çº§èŒƒå›´å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>Application Windows (1-99)</strong> : è¿™æ˜¯æœ€å¸¸è§çš„çª—å£ç±»å‹ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„ Activity éƒ½å±äºè¿™ä¸ªå±‚çº§ã€‚</li>
<li><strong>Sub-windows (1000-1999)</strong> : å¦‚ PopupWindow æˆ– AutoCompleteTextView çš„ä¸‹æ‹‰åˆ—è¡¨ï¼Œå®ƒä»¬å¿…é¡»ä¾é™„äºä¸€ä¸ªä¸»çª—å£ã€‚</li>
<li><strong>System Windows (2000-2999)</strong> : è¿™æ˜¯ç³»ç»Ÿçº§çš„çª—å£ï¼Œæ‹¥æœ‰æœ€é«˜çš„æ˜¾ç¤ºä¼˜å…ˆçº§ã€‚ä¾‹å¦‚çŠ¶æ€æ (StatusBar)ã€è¾“å…¥æ³•(IME)ã€Toast å’Œ<strong>ç³»ç»Ÿè­¦å‘Šæ¡†(System Alert)</strong> éƒ½å±äºè¿™ä¸ªå±‚çº§ã€‚</li>
</ul>
<p>å½“æˆ‘ä»¬æŠŠ FloatingDragView æ·»åŠ åˆ° Activity çš„ DecorView ä¸Šæ—¶ï¼Œå®ƒä»ç„¶å¤„äºè¯¥ Activity çš„åº”ç”¨çª—å£å±‚çº§å†…ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>å®ƒèƒ½è¦†ç›–å½“å‰ Activity çš„æ‰€æœ‰å†…å®¹ã€‚</li>
<li>å½“å¯åŠ¨ä¸€ä¸ªæ–°çš„ Activity æ—¶ï¼Œæ–°çš„ Activity çª—å£ä¼šè¦†ç›–åœ¨æ—§çš„ Activity çª—å£ä¹‹ä¸Šï¼Œæˆ‘ä»¬çš„ FloatingDragView ä¹Ÿä¼šè¢«ä¸€å¹¶è¦†ç›–ã€‚</li>
<li>å®ƒæ— æ³•è¦†ç›–ç³»ç»Ÿçº§çš„çª—å£ï¼Œæ¯”å¦‚ä¸‹æ‹‰é€šçŸ¥æ ã€è¾“å…¥æ³•é”®ç›˜ç­‰ã€‚</li>
</ul>
<p>å› æ­¤ï¼Œè¿™ç§æ–¹æ³•å®ç°çš„"å…¨å±€"æ˜¯æŒ‡åœ¨å•ä¸ªåº”ç”¨å†…éƒ¨ï¼Œè·¨ Fragment å’Œ View çš„å…¨å±€ã€‚å¦‚æœéœ€è¦å®ç°çœŸæ­£æ„ä¹‰ä¸Šã€èƒ½è¦†ç›–å…¶ä»–åº”ç”¨çš„ç³»ç»Ÿçº§æ‚¬æµ®çª—ï¼Œå°±éœ€è¦ç”³è¯·Â <code>SYSTEM_ALERT_WINDOW</code>æƒé™ï¼Œå¹¶ä½¿ç”¨ WindowManager ç›´æ¥æ·»åŠ ä¸€ä¸ªÂ <code>TYPE_APPLICATION_OVERLAY</code>ç±»å‹çš„çª—å£ã€‚</p>
<h4 data-id="heading-12">3. å°† FloatingDragView æ·»åŠ åˆ° DecorView</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> FloatingViewManager {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addFloatingView</span><span class="hljs-params">(activity: <span class="hljs-type">Activity</span>)</span></span> {
        <span class="hljs-comment">// è·å– DecorView</span>
        <span class="hljs-keyword">val</span> decorView = activity.window.decorView <span class="hljs-keyword">as</span>? FrameLayout ?: <span class="hljs-keyword">return</span>

        <span class="hljs-comment">// åˆ›å»ºæˆ‘ä»¬çš„æ‹–æ‹½è§†å›¾</span>
        <span class="hljs-keyword">val</span> floatingView = FloatingDragView(activity).apply {
            <span class="hljs-comment">// å¯ä»¥è®¾ç½®åˆå§‹ä½ç½®å’Œæ‹–æ‹½æ¨¡å¼</span>
            setDragMode(DragMode.FULL_DRAG_SNAP_BOTH)
        }

        <span class="hljs-comment">// å®šä¹‰å¸ƒå±€å‚æ•°ï¼Œä¾‹å¦‚è§†å›¾å¤§å°å’Œåˆå§‹è¾¹è·</span>
        <span class="hljs-keyword">val</span> params = FrameLayout.LayoutParams(
            FrameLayout.LayoutParams.WRAP_CONTENT,
            FrameLayout.LayoutParams.WRAP_CONTENT
        ).apply {
            gravity = Gravity.TOP or Gravity.END
            topMargin = <span class="hljs-number">400</span>
            rightMargin = <span class="hljs-number">20</span>
        }

        <span class="hljs-comment">// æ·»åŠ åˆ° DecorView</span>
        decorView.addView(floatingView, params)
    }
}

<span class="hljs-comment">// åœ¨ä½ çš„ Activity çš„ onStart æˆ– onResume ä¸­è°ƒç”¨</span>
FloatingViewManager.addFloatingView(<span class="hljs-keyword">this</span>)
</code></pre>
<h3 data-id="heading-13">å››ã€ç³»ç»Ÿæ‚¬æµ®çª—çš„æ³¨æ„äº‹é¡¹ä¸ä¼˜åŒ–å»ºè®®</h3>
<p>è™½ç„¶æˆ‘ä»¬çš„ FloatingDragView å·²ç»å®ç°äº†åŸºæœ¬åŠŸèƒ½ï¼Œä½†åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­è¿˜éœ€è¦è€ƒè™‘æ›´å¤šå› ç´ ã€‚</p>
<h4 data-id="heading-14">1. å†…å­˜æ³„æ¼é¢„é˜²</h4>
<p>å½“ Activity é”€æ¯æ—¶ï¼ŒåŠ¡å¿…ç§»é™¤æ·»åŠ åˆ° DecorView çš„æ‚¬æµ®çª—ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> FloatingViewManager {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> floatingViews = mutableMapOf&lt;Activity, FloatingDragView&gt;()
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addFloatingView</span><span class="hljs-params">(activity: <span class="hljs-type">Activity</span>)</span></span> {
        <span class="hljs-comment">// ... ä¹‹å‰çš„ä»£ç  ...</span>
        
        <span class="hljs-comment">// ä¿å­˜å¼•ç”¨ä»¥ä¾¿åç»­ç§»é™¤</span>
        floatingViews[activity] = floatingView
        
        <span class="hljs-comment">// ç›‘å¬Activityé”€æ¯</span>
        activity.application.registerActivityLifecycleCallbacks(
            <span class="hljs-keyword">object</span> : ActivityLifecycleCallbacksAdapter() {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onActivityDestroyed</span><span class="hljs-params">(destroyedActivity: <span class="hljs-type">Activity</span>)</span></span> {
                    <span class="hljs-keyword">if</span> (destroyedActivity == activity) {
                        removeFloatingView(activity)
                    }
                }
            }
        )
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">removeFloatingView</span><span class="hljs-params">(activity: <span class="hljs-type">Activity</span>)</span></span> {
        floatingViews[activity]?.let { view -&gt;
            <span class="hljs-keyword">val</span> decorView = activity.window.decorView <span class="hljs-keyword">as</span>? FrameLayout
            decorView?.removeView(view)
            floatingViews.remove(activity)
        }
    }
}
</code></pre>
<h4 data-id="heading-15">2. æ‰‹åŠ¿å†²çªå¤„ç†</h4>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æ‚¬æµ®çª—å¯èƒ½ä¼šè¦†ç›–åœ¨å¯äº¤äº’çš„è§†å›¾ï¼ˆå¦‚ Buttonã€ListViewï¼‰ä¸Šã€‚è¿™æ—¶éœ€è¦åˆç†å¤„ç†æ‰‹åŠ¿å†²çªï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FloatingDragView</span> /* ... */ {
    <span class="hljs-comment">// æ ‡è®°å½“å‰æ˜¯å¦æ­£åœ¨æ‹–æ‹½</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isDragging = <span class="hljs-literal">false</span>
    
    <span class="hljs-comment">// åœ¨Callbackä¸­æ·»åŠ çŠ¶æ€ç›‘å¬</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">inner</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DraggerCallBack</span> : <span class="hljs-type">ViewDragHelper.Callback</span>() {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onViewCaptured</span><span class="hljs-params">(child: <span class="hljs-type">View</span>, activePointerId: <span class="hljs-type">Int</span>)</span></span> {
            isDragging = <span class="hljs-literal">true</span>
        }
        
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onViewReleased</span><span class="hljs-params">(releasedChild: <span class="hljs-type">View</span>, xvel: <span class="hljs-type">Float</span>, yvel: <span class="hljs-type">Float</span>)</span></span> {
            isDragging = <span class="hljs-literal">false</span>
        }
    }
    
    <span class="hljs-comment">// æ ¹æ®æ‹–æ‹½çŠ¶æ€å†³å®šæ˜¯å¦æ‹¦æˆªè§¦æ‘¸äº‹ä»¶</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onInterceptTouchEvent</span><span class="hljs-params">(ev: <span class="hljs-type">MotionEvent</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-comment">// å¦‚æœæ­£åœ¨æ‹–æ‹½ï¼Œåˆ™å§‹ç»ˆæ‹¦æˆª</span>
        <span class="hljs-keyword">if</span> (isDragging) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        
        <span class="hljs-keyword">when</span> (ev.action) {
            MotionEvent.ACTION_DOWN -&gt; {
                <span class="hljs-comment">// æ£€æŸ¥è§¦æ‘¸ç‚¹æ˜¯å¦åœ¨æ‹–æ‹½ç›®æ ‡ä¸Š</span>
                <span class="hljs-keyword">val</span> rect = Rect()
                dragTargetView.getGlobalVisibleRect(rect)
                <span class="hljs-keyword">if</span> (rect.contains(ev.rawX.toInt(), ev.rawY.toInt())) {
                    <span class="hljs-keyword">return</span> dragger.shouldInterceptTouchEvent(ev)
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.onInterceptTouchEvent(ev)
    }
}
</code></pre>
<h4 data-id="heading-16">3. æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>é¿å…é¢‘ç¹çš„å¸ƒå±€æµ‹é‡</strong>ï¼šåœ¨æ‹–æ‹½è¿‡ç¨‹ä¸­ï¼Œå°½é‡å‡å°‘ä¸å¿…è¦çš„å¸ƒå±€é‡æ’ã€‚</li>
<li><strong>ä½¿ç”¨ç¡¬ä»¶å±‚åŠ é€ŸåŠ¨ç”»</strong>ï¼šå¯¹äºå¤æ‚çš„åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥è€ƒè™‘å¯ç”¨ç¡¬ä»¶å±‚ã€‚</li>
<li><strong>åˆç†ç®¡ç†èµ„æº</strong>ï¼šæ‚¬æµ®çª—å¸¸é©»å†…å­˜ï¼Œè¦æ³¨æ„å›¾ç‰‡ç­‰èµ„æºçš„å†…å­˜å ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-17">äº”ã€æ€»ç»“ä¸å±•æœ›</h3>
<p>ViewDragHelper æ˜¯ä¸€ä¸ªè®¾è®¡ç²¾è‰¯çš„å·¥å…·ç±»ï¼Œå®ƒé€šè¿‡ç»„åˆè€Œéç»§æ‰¿çš„æ–¹å¼ï¼Œå°†å¤æ‚çš„æ‹–æ‹½é€»è¾‘ä» ViewGroup ä¸­è§£è€¦å‡ºæ¥ï¼Œå¹¶é€šè¿‡æ¸…æ™°çš„ Callback æ¥å£è®©è‡ªå®šä¹‰è¡Œä¸ºå˜å¾—ç®€å•ç›´è§‚ã€‚é€šè¿‡æ·±å…¥å…¶æºç ï¼Œæˆ‘ä»¬ç†è§£äº†å®ƒæ‹¦æˆªäº‹ä»¶ã€å¤„ç†æ‹–æ‹½å’Œæ‰§è¡ŒåŠ¨ç”»çš„æ ¸å¿ƒåŸç†ã€‚</p>
<h4 data-id="heading-18">æˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ</h4>
<ol>
<li><strong>åŸç†</strong>: æŒæ¡äº† ViewDragHelper æŒ‚é’© ViewGroup äº‹ä»¶å¤„ç†æµç¨‹ï¼Œå¹¶é€šè¿‡ Callback å®šä¹‰è¡Œä¸ºçš„æ ¸å¿ƒæœºåˆ¶ã€‚</li>
<li><strong>å®æˆ˜</strong>: æˆåŠŸæ„å»ºäº†ä¸€ä¸ªå¯é…ç½®ã€åŠŸèƒ½å®Œå–„çš„ FloatingDragViewï¼Œæ”¯æŒå¤šç§æ‹–æ‹½å’Œå¸é™„æ¨¡å¼ã€‚</li>
<li><strong>ç³»ç»ŸçŸ¥è¯†</strong>: æ·±å…¥ç†è§£äº† DecorView åœ¨è§†å›¾æ ‘ä¸­çš„åœ°ä½ï¼Œä»¥åŠ Android çª—å£å±‚çº§ï¼ˆWindow Layeringï¼‰å¦‚ä½•å½±å“è§†å›¾çš„æ˜¾ç¤ºä¼˜å…ˆçº§ï¼Œä»è€Œæ˜ç™½äº†"åº”ç”¨å†…å…¨å±€æ‚¬æµ®"çš„æœ¬è´¨ã€‚</li>
</ol>
<h4 data-id="heading-19">æœªæ¥å¯ä»¥å¦‚ä½•æ‰©å±•ï¼Ÿ</h4>
<ul>
<li><strong>æ‰‹åŠ¿å†²çªå¤„ç†</strong>: åœ¨æ›´å¤æ‚çš„åœºæ™¯ä¸­ï¼Œå¯èƒ½éœ€è¦ä¸ ViewPager æˆ– RecyclerView çš„æ‰‹åŠ¿è¿›è¡Œåè°ƒï¼ŒViewDragHelper.Callback ä¸­çš„ onEdgeDragStarted ç­‰æ–¹æ³•ä¸ºæ­¤æä¾›äº†å¯èƒ½ã€‚</li>
<li><strong>ç‰©ç†åŠ¨ç”»</strong>: ç»“åˆ DynamicAnimation (å¦‚ SpringAnimation)ï¼Œå¯ä»¥åœ¨ onViewReleased ä¸­å®ç°æ›´å…·å¼¹æ€§çš„ç‰©ç†å¸é™„æ•ˆæœï¼Œè€Œä¸æ˜¯çº¿æ€§çš„ Scroller åŠ¨ç”»ã€‚</li>
<li><strong>å¤šæŒ‡æ‹–æ‹½</strong>: ViewDragHelper ä¹Ÿæ”¯æŒå¤šç‚¹è§¦æ§ï¼Œå¯ä»¥æ¢ç´¢å®ç°åŒæ—¶æ‹–æ‹½å¤šä¸ªè§†å›¾æˆ–ç”¨å¤šæŒ‡ç¼©æ”¾è§†å›¾çš„äº¤äº’ã€‚</li>
</ul>
<p>æŒæ¡äº† ViewDragHelper è¿™æŠŠåˆ©å™¨ï¼Œä½ å°†èƒ½å¤Ÿæ›´ä»å®¹åœ°åº”å¯¹å„ç§å¤æ‚çš„è‡ªå®šä¹‰è§†å›¾äº¤äº’éœ€æ±‚ï¼Œä¸ºä½ çš„åº”ç”¨å¢æ·»æ›´å¤šä»¤äººæƒŠè‰³çš„ç»†èŠ‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ä¼ äº†ä¸ª nullï¼Œåç«¯ç›´æ¥ç‚¸äº†â€”â€”é˜²å¾¡æ€§ç¼–ç¨‹åŸæ¥è¿™ä¹ˆé‡è¦ï¼]]></title>    <link>https://juejin.cn/post/7582399765448343579</link>    <guid>https://juejin.cn/post/7582399765448343579</guid>    <pubDate>2025-12-11T08:44:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765448343579" data-draft-id="7582231988146634803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ä¼ äº†ä¸ª nullï¼Œåç«¯ç›´æ¥ç‚¸äº†â€”â€”é˜²å¾¡æ€§ç¼–ç¨‹åŸæ¥è¿™ä¹ˆé‡è¦ï¼"/> <meta itemprop="keywords" content="åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-11T08:44:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lomocode"/> <meta itemprop="url" content="https://juejin.cn/user/2103792315926697"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ä¼ äº†ä¸ª nullï¼Œåç«¯ç›´æ¥ç‚¸äº†â€”â€”é˜²å¾¡æ€§ç¼–ç¨‹åŸæ¥è¿™ä¹ˆé‡è¦ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2103792315926697/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lomocode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:44:45.000Z" title="Thu Dec 11 2025 08:44:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9e7aa2f14d9435ea5c37e2e680ad231~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG9tb2NvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047485&amp;x-signature=5d9WxD2J%2FfOj5Y7zqQqUXAbunJo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p>èŠèŠ AI åç«¯é‚£äº›äº‹å„¿ Â· ç¬¬ 3 ç¯‡ | é˜…è¯»å¤§çº¦éœ€ 11 åˆ†é’Ÿ</p>
</blockquote>
<h2 data-id="heading-0">é‚£äº›å¥‡è‘©çš„è¯·æ±‚å‚æ•°</h2>
<p>å°ç¦¾çš„æ¥å£å®šä¹‰å¾—å¾ˆæ¸…æ¥šï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">"/generate"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate</span>(<span class="hljs-params">data: <span class="hljs-built_in">dict</span></span>):
    prompt = data[<span class="hljs-string">"prompt"</span>]
    width = data[<span class="hljs-string">"width"</span>]
    height = data[<span class="hljs-string">"height"</span>]
    <span class="hljs-comment"># ...</span>
</code></pre>
<p>æœŸæœ›çš„è¯·æ±‚ä½“æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸€ä¸ªç¾ä¸½çš„é£æ™¯"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"width"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1024</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"height"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">768</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä½†ç”Ÿäº§ç¯å¢ƒæ”¶åˆ°çš„è¯·æ±‚ï¼Œè®©å°ç¦¾å¤§å¼€çœ¼ç•Œï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"width"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1024"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"width"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">-100</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"test"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"widht"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1024</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">{</span><span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"x"</span> * <span class="hljs-number">100000</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>null å€¼</li>
<li>ç©ºå­—ç¬¦ä¸²</li>
<li>å­—ç¬¦ä¸²è€Œä¸æ˜¯æ•°å­—</li>
<li>è´Ÿæ•°</li>
<li>å­—æ®µåæ‹¼å†™é”™è¯¯</li>
<li>ç©ºå¯¹è±¡</li>
<li>è¶…é•¿å­—ç¬¦ä¸²</li>
</ul>
<p>æ¯ä¸€ä¸ªéƒ½èƒ½è®©åç«¯å´©æºƒã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å„ç§å´©æºƒæ–¹å¼</span>
data[<span class="hljs-string">"prompt"</span>]                    <span class="hljs-comment"># KeyError: 'prompt'</span>
data[<span class="hljs-string">"prompt"</span>].strip()            <span class="hljs-comment"># AttributeError: 'NoneType' object...</span>
<span class="hljs-built_in">int</span>(data[<span class="hljs-string">"width"</span>])                <span class="hljs-comment"># ValueError: invalid literal</span>
model.generate(width=-<span class="hljs-number">100</span>)        <span class="hljs-comment"># æ¨¡å‹æŠ¥é”™</span>
</code></pre>
<p>å°ç¦¾æ„è¯†åˆ°ï¼š<strong>æ°¸è¿œä¸è¦ç›¸ä¿¡å‰ç«¯ä¼ æ¥çš„æ•°æ®ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">Pydantic æ•‘åœº</h2>
<p>FastAPI åŸç”Ÿæ”¯æŒ Pydanticï¼Œå¯ä»¥è‡ªåŠ¨éªŒè¯è¯·æ±‚æ•°æ®ã€‚</p>
<p>å°ç¦¾æŠŠ <code>dict</code> æ¢æˆäº† Pydantic æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app/models/schemas.py</span>
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateShotImageRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""åˆ†é•œå›¾ç‰‡ç”Ÿæˆè¯·æ±‚"""</span>

    <span class="hljs-comment"># å¿…å¡«å­—æ®µ</span>
    prompt: <span class="hljs-built_in">str</span> = Field(
        ...,  <span class="hljs-comment"># ... è¡¨ç¤ºå¿…å¡«</span>
        description=<span class="hljs-string">"ç”Ÿæˆæç¤ºè¯"</span>,
        min_length=<span class="hljs-number">1</span>,
        max_length=<span class="hljs-number">2000</span>
    )

    <span class="hljs-comment"># å¯é€‰å­—æ®µï¼ˆæœ‰é»˜è®¤å€¼ï¼‰</span>
    width: <span class="hljs-built_in">int</span> = Field(
        default=<span class="hljs-number">1024</span>,
        description=<span class="hljs-string">"å›¾ç‰‡å®½åº¦"</span>,
        ge=<span class="hljs-number">256</span>,   <span class="hljs-comment"># &gt;= 256</span>
        le=<span class="hljs-number">2048</span>   <span class="hljs-comment"># &lt;= 2048</span>
    )

    height: <span class="hljs-built_in">int</span> = Field(
        default=<span class="hljs-number">1024</span>,
        description=<span class="hljs-string">"å›¾ç‰‡é«˜åº¦"</span>,
        ge=<span class="hljs-number">256</span>,
        le=<span class="hljs-number">2048</span>
    )

    seed: <span class="hljs-built_in">int</span> = Field(
        default=-<span class="hljs-number">1</span>,
        description=<span class="hljs-string">"éšæœºç§å­ï¼Œ-1 è¡¨ç¤ºéšæœº"</span>
    )

    style: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = Field(
        default=<span class="hljs-literal">None</span>,
        description=<span class="hljs-string">"é£æ ¼é¢„è®¾"</span>
    )
</code></pre>
<p>åœ¨ç«¯ç‚¹ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">"/shot-image"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_shot_image</span>(<span class="hljs-params">request: GenerateShotImageRequest</span>):
    <span class="hljs-comment"># request å·²ç»æ˜¯éªŒè¯è¿‡çš„æ•°æ®</span>
    <span class="hljs-comment"># ç±»å‹æ­£ç¡®ã€èŒƒå›´åˆæ³•ã€å¿…å¡«å­—æ®µå­˜åœ¨</span>

    result = <span class="hljs-keyword">await</span> adapter.generate(
        prompt=request.prompt,   <span class="hljs-comment"># ä¸€å®šæ˜¯éç©ºå­—ç¬¦ä¸²</span>
        width=request.width,     <span class="hljs-comment"># ä¸€å®šæ˜¯ 256-2048 çš„æ•´æ•°</span>
        height=request.height,   <span class="hljs-comment"># ä¸€å®šæ˜¯ 256-2048 çš„æ•´æ•°</span>
        seed=request.seed        <span class="hljs-comment"># ä¸€å®šæ˜¯æ•´æ•°</span>
    )
    <span class="hljs-keyword">return</span> result
</code></pre>
<p>ç°åœ¨å¦‚æœè¯·æ±‚æ•°æ®ä¸åˆæ³•ï¼ŒFastAPI ä¼šè‡ªåŠ¨è¿”å› 422 é”™è¯¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"detail"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"loc"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"body"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"prompt"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Field required"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"missing"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"loc"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"body"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"width"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Input should be greater than or equal to 256"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"greater_than_equal"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ¸…æ¸…æ¥šæ¥šï¼Œå“ªä¸ªå­—æ®µæœ‰é—®é¢˜ï¼Œä»€ä¹ˆé—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-2">è‡ªå®šä¹‰éªŒè¯å™¨</h2>
<p>æœ‰äº›éªŒè¯é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦è‡ªå®šä¹‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, field_validator, model_validator

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateShotImageRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    prompt: <span class="hljs-built_in">str</span>
    width: <span class="hljs-built_in">int</span> = <span class="hljs-number">1024</span>
    height: <span class="hljs-built_in">int</span> = <span class="hljs-number">1024</span>

<span class="hljs-meta">    @field_validator(<span class="hljs-params"><span class="hljs-string">'prompt'</span></span>)</span>
<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">prompt_must_not_be_empty</span>(<span class="hljs-params">cls, v: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""æç¤ºè¯ä¸èƒ½åªæœ‰ç©ºç™½å­—ç¬¦"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> v.strip():
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">'Prompt cannot be empty or whitespace only'</span>)
        <span class="hljs-keyword">return</span> v.strip()  <span class="hljs-comment"># è¿”å›å¤„ç†åçš„å€¼</span>

<span class="hljs-meta">    @field_validator(<span class="hljs-params"><span class="hljs-string">'width'</span>, <span class="hljs-string">'height'</span></span>)</span>
<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dimensions_must_be_multiple_of_64</span>(<span class="hljs-params">cls, v: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
        <span class="hljs-string">"""å°ºå¯¸å¿…é¡»æ˜¯ 64 çš„å€æ•°ï¼ˆæŸäº›æ¨¡å‹è¦æ±‚ï¼‰"""</span>
        <span class="hljs-keyword">if</span> v % <span class="hljs-number">64</span> != <span class="hljs-number">0</span>:
            <span class="hljs-comment"># è‡ªåŠ¨è°ƒæ•´åˆ°æœ€è¿‘çš„ 64 å€æ•°</span>
            v = (v // <span class="hljs-number">64</span>) * <span class="hljs-number">64</span>
        <span class="hljs-keyword">return</span> v

<span class="hljs-meta">    @model_validator(<span class="hljs-params">mode=<span class="hljs-string">'after'</span></span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_aspect_ratio</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-string">'GenerateShotImageRequest'</span>:
        <span class="hljs-string">"""å®½é«˜æ¯”éªŒè¯"""</span>
        ratio = self.width / self.height
        <span class="hljs-keyword">if</span> ratio &gt; <span class="hljs-number">4</span> <span class="hljs-keyword">or</span> ratio &lt; <span class="hljs-number">0.25</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">'Aspect ratio must be between 1:4 and 4:1'</span>)
        <span class="hljs-keyword">return</span> self
</code></pre>
<p>ä¸‰ç§éªŒè¯å™¨ï¼š</p>
<ul>
<li><code>@field_validator</code>ï¼šéªŒè¯å•ä¸ªå­—æ®µ</li>
<li><code>@model_validator</code>ï¼šéªŒè¯å­—æ®µä¹‹é—´çš„å…³ç³»</li>
<li>è¿”å›å€¼ä¼šæ›¿æ¢åŸå€¼ï¼Œå¯ä»¥åšè‡ªåŠ¨ä¿®æ­£</li>
</ul>
<hr/>
<h2 data-id="heading-3">æšä¸¾ç±»å‹é™åˆ¶</h2>
<p>æœ‰äº›å­—æ®µåªèƒ½æ˜¯ç‰¹å®šçš„å€¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> enum <span class="hljs-keyword">import</span> Enum

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ShotType</span>(<span class="hljs-built_in">str</span>, Enum):
    WIDE = <span class="hljs-string">"wide"</span>
    MEDIUM = <span class="hljs-string">"medium"</span>
    CLOSE_UP = <span class="hljs-string">"close-up"</span>
    EXTREME_CLOSE_UP = <span class="hljs-string">"extreme-close-up"</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ControlType</span>(<span class="hljs-built_in">str</span>, Enum):
    CANNY = <span class="hljs-string">"canny"</span>
    DEPTH = <span class="hljs-string">"depth"</span>
    POSE = <span class="hljs-string">"pose"</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateShotImageRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    prompt: <span class="hljs-built_in">str</span>
    shot_type: ShotType = ShotType.MEDIUM
    control_type: <span class="hljs-type">Optional</span>[ControlType] = <span class="hljs-literal">None</span>
</code></pre>
<p>å¦‚æœä¼ äº†ä¸åœ¨æšä¸¾é‡Œçš„å€¼ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"shot_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"super-close"</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¼šè¿”å›ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"detail"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"loc"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"body"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"shot_type"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Input should be 'wide', 'medium', 'close-up' or 'extreme-close-up'"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"enum"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">åµŒå¥—æ¨¡å‹</h2>
<p>å¤æ‚çš„è¯·æ±‚ä½“å¯ä»¥ç”¨åµŒå¥—æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AnimationParams</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""åŠ¨ç”»å‚æ•°"""</span>
    duration: <span class="hljs-built_in">float</span> = Field(default=<span class="hljs-number">3.0</span>, ge=<span class="hljs-number">1.0</span>, le=<span class="hljs-number">10.0</span>)
    fps: <span class="hljs-built_in">int</span> = Field(default=<span class="hljs-number">24</span>, ge=<span class="hljs-number">12</span>, le=<span class="hljs-number">60</span>)
    camera_movement: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CharacterRef</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""è§’è‰²å‚è€ƒ"""</span>
    image_path: <span class="hljs-built_in">str</span>
    weight: <span class="hljs-built_in">float</span> = Field(default=<span class="hljs-number">0.8</span>, ge=<span class="hljs-number">0.0</span>, le=<span class="hljs-number">1.0</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateVideoRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""è§†é¢‘ç”Ÿæˆè¯·æ±‚"""</span>
    shots: <span class="hljs-built_in">list</span>[ShotData] = Field(..., min_length=<span class="hljs-number">1</span>, max_length=<span class="hljs-number">100</span>)
    animation: AnimationParams = Field(default_factory=AnimationParams)
    character_refs: <span class="hljs-built_in">list</span>[CharacterRef] = Field(default_factory=<span class="hljs-built_in">list</span>)
</code></pre>
<p>Pydantic ä¼šé€’å½’éªŒè¯åµŒå¥—çš„æ¯ä¸€å±‚ã€‚</p>
<hr/>
<h2 data-id="heading-5">æ¡ä»¶éªŒè¯</h2>
<p>æœ‰æ—¶å€™å­—æ®µä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateShotImageRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    prompt: <span class="hljs-built_in">str</span>
    use_control_net: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>
    control_image_path: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>
    control_type: <span class="hljs-type">Optional</span>[ControlType] = <span class="hljs-literal">None</span>

<span class="hljs-meta">    @model_validator(<span class="hljs-params">mode=<span class="hljs-string">'after'</span></span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_control_net</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-string">'GenerateShotImageRequest'</span>:
        <span class="hljs-string">"""å¦‚æœå¼€å¯ ControlNetï¼Œå¿…é¡»æä¾›å‚è€ƒå›¾"""</span>
        <span class="hljs-keyword">if</span> self.use_control_net:
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.control_image_path:
                <span class="hljs-keyword">raise</span> ValueError(
                    <span class="hljs-string">'control_image_path is required when use_control_net is True'</span>
                )
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.control_type:
                <span class="hljs-keyword">raise</span> ValueError(
                    <span class="hljs-string">'control_type is required when use_control_net is True'</span>
                )
        <span class="hljs-keyword">return</span> self
</code></pre>
<p>è¿™æ ·å°±ä¸ä¼šå‡ºç°"å¼€å…³æ‰“å¼€äº†ä½†æ²¡ä¼ å›¾"çš„æƒ…å†µã€‚</p>
<hr/>
<h2 data-id="heading-6">å“åº”æ¨¡å‹éªŒè¯</h2>
<p>ä¸åªæ˜¯è¯·æ±‚ï¼Œå“åº”ä¹Ÿå¯ä»¥éªŒè¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerationResult</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""ç”Ÿæˆç»“æœ"""</span>
    image_url: <span class="hljs-built_in">str</span>
    seed: <span class="hljs-built_in">int</span>
    generation_time: <span class="hljs-built_in">float</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerateShotImageResponse</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-string">"""æ¥å£å“åº”"""</span>
    success: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>
    message: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>
    data: <span class="hljs-type">Optional</span>[GenerationResult] = <span class="hljs-literal">None</span>


<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">"/shot-image"</span>, response_model=GenerateShotImageResponse</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_shot_image</span>(<span class="hljs-params">request: GenerateShotImageRequest</span>):
    result = <span class="hljs-keyword">await</span> generate(...)

    <span class="hljs-comment"># å“åº”ä¹Ÿä¼šè¢«éªŒè¯</span>
    <span class="hljs-keyword">return</span> GenerateShotImageResponse(
        success=<span class="hljs-literal">True</span>,
        data=GenerationResult(
            image_url=result[<span class="hljs-string">"url"</span>],
            seed=result[<span class="hljs-string">"seed"</span>],
            generation_time=result[<span class="hljs-string">"time"</span>]
        )
    )
</code></pre>
<p>å“åº”æ¨¡å‹çš„å¥½å¤„ï¼š</p>
<ol>
<li>è‡ªåŠ¨è¿‡æ»¤æ•æ„Ÿå­—æ®µï¼ˆåªè¿”å›æ¨¡å‹å®šä¹‰çš„å­—æ®µï¼‰</li>
<li>è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£</li>
<li>ä¿è¯å“åº”æ ¼å¼ä¸€è‡´</li>
</ol>
<hr/>
<h2 data-id="heading-7">ç¾åŒ–éªŒè¯é”™è¯¯å“åº”</h2>
<p>é»˜è®¤çš„ 422 å“åº”æ ¼å¼æœ‰ç‚¹ä¸‘ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi.exceptions <span class="hljs-keyword">import</span> RequestValidationError

<span class="hljs-meta">@app.exception_handler(<span class="hljs-params">RequestValidationError</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">validation_exception_handler</span>(<span class="hljs-params">request, exc: RequestValidationError</span>):
    <span class="hljs-string">"""ç¾åŒ–éªŒè¯é”™è¯¯å“åº”"""</span>

    errors = []
    <span class="hljs-keyword">for</span> error <span class="hljs-keyword">in</span> exc.errors():
        field = <span class="hljs-string">"."</span>.join(<span class="hljs-built_in">str</span>(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> error[<span class="hljs-string">"loc"</span>][<span class="hljs-number">1</span>:])  <span class="hljs-comment"># è·³è¿‡ "body"</span>
        errors.append({
            <span class="hljs-string">"field"</span>: field,
            <span class="hljs-string">"message"</span>: error[<span class="hljs-string">"msg"</span>],
            <span class="hljs-string">"type"</span>: error[<span class="hljs-string">"type"</span>]
        })

    <span class="hljs-keyword">return</span> JSONResponse(
        status_code=<span class="hljs-number">400</span>,  <span class="hljs-comment"># ç”¨ 400 è€Œä¸æ˜¯ 422</span>
        content={
            <span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>,
            <span class="hljs-string">"error"</span>: {
                <span class="hljs-string">"code"</span>: <span class="hljs-string">"VALIDATION_ERROR"</span>,
                <span class="hljs-string">"message"</span>: <span class="hljs-string">"Request validation failed"</span>,
                <span class="hljs-string">"details"</span>: errors
            }
        }
    )
</code></pre>
<p>ç°åœ¨å“åº”å˜æˆäº†ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"VALIDATION_ERROR"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Request validation failed"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prompt"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Field required"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"missing"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"field"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"width"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Input should be greater than or equal to 256"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"greater_than_equal"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è·Ÿå…¶ä»–é”™è¯¯å“åº”æ ¼å¼ä¸€è‡´äº†ã€‚</p>
<hr/>
<h2 data-id="heading-8">éªŒè¯è§„åˆ™é€ŸæŸ¥è¡¨</h2>
<p>å°ç¦¾æ•´ç†äº†ä¸€ä»½å¸¸ç”¨éªŒè¯è§„åˆ™ï¼š</p>





















































<table><thead><tr><th>éªŒè¯ç±»å‹</th><th>Pydantic å†™æ³•</th></tr></thead><tbody><tr><td>å¿…å¡«</td><td><code>Field(...)</code></td></tr><tr><td>å¯é€‰</td><td><code>Optional[T]</code> æˆ– <code>T = None</code></td></tr><tr><td>é»˜è®¤å€¼</td><td><code>Field(default=xxx)</code></td></tr><tr><td>æœ€å°å€¼</td><td><code>Field(ge=xxx)</code> æˆ– <code>Field(gt=xxx)</code></td></tr><tr><td>æœ€å¤§å€¼</td><td><code>Field(le=xxx)</code> æˆ– <code>Field(lt=xxx)</code></td></tr><tr><td>å­—ç¬¦ä¸²é•¿åº¦</td><td><code>Field(min_length=x, max_length=y)</code></td></tr><tr><td>æ­£åˆ™åŒ¹é…</td><td><code>Field(pattern=r"xxx")</code></td></tr><tr><td>æšä¸¾å€¼</td><td>ä½¿ç”¨ <code>Enum</code> ç±»å‹</td></tr><tr><td>åˆ—è¡¨é•¿åº¦</td><td><code>Field(min_length=x, max_length=y)</code></td></tr><tr><td>è‡ªå®šä¹‰é€»è¾‘</td><td><code>@field_validator</code></td></tr><tr><td>è·¨å­—æ®µéªŒè¯</td><td><code>@model_validator</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-9">éªŒè¯æµç¨‹å›¾</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[æ”¶åˆ°è¯·æ±‚] --&gt; B{JSON æ ¼å¼æ­£ç¡®?}
    B --&gt;|å¦| C[è¿”å› 400 JSON è§£æé”™è¯¯]
    B --&gt;|æ˜¯| D{å­—æ®µç±»å‹æ­£ç¡®?}
    D --&gt;|å¦| E[è¿”å› 400 ç±»å‹é”™è¯¯]
    D --&gt;|æ˜¯| F{å­—æ®µçº¦æŸæ»¡è¶³?}
    F --&gt;|å¦| G[è¿”å› 400 çº¦æŸé”™è¯¯]
    F --&gt;|æ˜¯| H{è‡ªå®šä¹‰éªŒè¯é€šè¿‡?}
    H --&gt;|å¦| I[è¿”å› 400 éªŒè¯é”™è¯¯]
    H --&gt;|æ˜¯| J[è¿›å…¥ä¸šåŠ¡é€»è¾‘]
</code></pre>
<p>å±‚å±‚è¿‡æ»¤ï¼Œç¡®ä¿è¿›å…¥ä¸šåŠ¡é€»è¾‘çš„æ•°æ®éƒ½æ˜¯åˆæ³•çš„ã€‚</p>
<hr/>
<h2 data-id="heading-10">é˜²å¾¡æ€§ç¼–ç¨‹åŸåˆ™</h2>
<p>å°ç¦¾æ€»ç»“äº†å‡ æ¡åŸåˆ™ï¼š</p>
<ol>
<li><strong>æ‰€æœ‰æ¥å£éƒ½ç”¨ Pydantic æ¨¡å‹</strong>ï¼šä¸è¦ç”¨ <code>dict</code></li>
<li><strong>å¿…å¡«å­—æ®µç”¨ <code>...</code></strong>ï¼šæ˜ç¡®è¡¨ç¤ºå¿…å¡«</li>
<li><strong>æ•°å€¼ç±»å‹åŠ èŒƒå›´é™åˆ¶</strong>ï¼šé¿å…è´Ÿæ•°ã€è¶…å¤§æ•°</li>
<li><strong>å­—ç¬¦ä¸²åŠ é•¿åº¦é™åˆ¶</strong>ï¼šé˜²æ­¢è¶…é•¿è¾“å…¥</li>
<li><strong>å¤æ‚é€»è¾‘ç”¨éªŒè¯å™¨</strong>ï¼šä¿æŒæ¨¡å‹å®šä¹‰æ¸…æ™°</li>
<li><strong>å“åº”ä¹Ÿç”¨æ¨¡å‹</strong>ï¼šä¿è¯æ ¼å¼ä¸€è‡´</li>
</ol>
<hr/>
<h2 data-id="heading-11">å°ç¦¾çš„æ„Ÿæ‚Ÿ</h2>
<pre><code class="hljs language-csharp" lang="csharp">å‰ç«¯ä¼ ä»€ä¹ˆï¼Œ
ä½ æ°¸è¿œçŒœä¸åˆ°ã€‚

<span class="hljs-literal">null</span>ã€ç©ºä¸²ã€è´Ÿæ•°ã€è¶…é•¿ï¼Œ
æ¯ä¸€ä¸ªéƒ½æ˜¯ç‚¸å¼¹ã€‚

Pydantic æ˜¯é˜²å¼¹è¡£ï¼Œ
æŠŠç‚¸å¼¹æŒ¡åœ¨ä¸šåŠ¡é€»è¾‘ä¹‹å¤–ã€‚

ç±»å‹æ³¨è§£æ˜¯ç¬¬ä¸€é“é˜²çº¿ï¼Œ
Field çº¦æŸæ˜¯ç¬¬äºŒé“ï¼Œ
éªŒè¯å™¨æ˜¯ç¬¬ä¸‰é“ã€‚

ä¸‰é“é˜²çº¿éƒ½è¿‡äº†ï¼Œ
æ‰èƒ½è¿›å…¥ä½ çš„ä»£ç ã€‚

åˆ«ä¿¡ä»»ä»»ä½•è¾“å…¥ï¼Œ
åˆ«å‡è®¾ä»»ä½•æ•°æ®ï¼Œ
é˜²å¾¡æ€§ç¼–ç¨‹ï¼Œ
è®©ä½ ç¡å¾—å®‰ç¨³ã€‚
</code></pre>
<p>å°ç¦¾æŠŠæ‰€æœ‰æ¥å£éƒ½åŠ ä¸Šäº† Pydantic éªŒè¯ã€‚</p>
<p>ä»æ­¤ï¼Œå†ä¹Ÿæ²¡æœ‰å› ä¸º"å‰ç«¯ä¼ äº†ä¸ªå¥‡æ€ªçš„å€¼"è€Œå´©æºƒçš„æƒ…å†µäº†ã€‚</p>
<hr/>
<p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Šï¼šç”¨æˆ·è¯´"å¤ªæ…¢äº†"ï¼Œä½†æˆ‘ä¸çŸ¥é“æ…¢åœ¨å“ª</strong></p>
<blockquote>
<p>ä¸€è¡Œä»£ç ï¼Œè®©ä½ çœ‹æ¸…æ€§èƒ½ç“¶é¢ˆã€‚</p>
</blockquote>
<p>æ•¬è¯·æœŸå¾…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é™æ€ä½å®… IP å®æˆ˜æµ‹è¯„ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é«˜æ•ˆè·å–å…¨çƒå‰æ²¿èµ„è®¯]]></title>    <link>https://juejin.cn/post/7582358932027899919</link>    <guid>https://juejin.cn/post/7582358932027899919</guid>    <pubDate>2025-12-11T08:49:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582358932027899919" data-draft-id="7582200865908506658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é™æ€ä½å®… IP å®æˆ˜æµ‹è¯„ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é«˜æ•ˆè·å–å…¨çƒå‰æ²¿èµ„è®¯"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T08:49:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¸½èŠ·å’•"/> <meta itemprop="url" content="https://juejin.cn/user/2447965011313308"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é™æ€ä½å®… IP å®æˆ˜æµ‹è¯„ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é«˜æ•ˆè·å–å…¨çƒå‰æ²¿èµ„è®¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2447965011313308/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¸½èŠ·å’•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:49:40.000Z" title="Thu Dec 11 2025 08:49:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šå…¨çƒåŒ–è§†é‡ä¸‹çš„ä¿¡æ¯å£å’ä¸åº”å¯¹ç­–ç•¥</h2>
<blockquote>
<p>åœ¨å…¨çƒç»æµä¸€ä½“åŒ–çºµæ·±å‘å±•çš„å½“ä¸‹ï¼Œè·¨å›½è¿è¥ã€å¸‚åœºç ”ç©¶ä¸å›½é™…å…³ç³»åˆ†æéƒ½æåº¦ä¾èµ–å¯¹æµ·å¤–ä¸€æ‰‹èµ„è®¯çš„ç²¾å‡†æŠŠæ¡ã€‚ç„¶è€Œï¼Œä¸€ä¸ªæ— å½¢çš„<strong>æ•°å­—é¸¿æ²Ÿ</strong>å·²ç„¶å½¢æˆï¼šä¼ä¸šã€ç ”ç©¶æœºæ„ä¸ä¸ªäººåœ¨è·å–å…¨çƒä¿¡æ¯æ—¶ï¼Œæ­£æ™®éé¢ä¸´<strong>åœ°åŸŸè®¿é—®æ•°æ®é—®é¢˜ã€å†…å®¹å·®å¼‚åŒ–</strong>ä¸<strong>æŠ€æœ¯é—¨æ§›</strong>ä¸‰é‡å£å’ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07e4abe65063430184e93f524bcf922a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=slWM8eaO%2FG446k7iLvNYIW5rdXw%3D" alt="" loading="lazy"/></p>
<p>å•çº¯ä½¿ç”¨æ•°æ®ä¸­å¿ƒä»£ç†ï¼Œå› å…¶ç½‘ç»œå¼‚å¸¸ã€æ˜“è¢«è¯†åˆ«ï¼Œåœ¨è®¿é—®è¯¸å¦‚BBCã€Reutersã€è°·æ­Œæ–°é—»ç­‰ä¸»æµåª’ä½“æˆ–åŒºåŸŸæ€§ç½‘ç«™æ—¶ï¼Œææ˜“è§¦å‘<strong>éªŒè¯ç </strong>æˆ–é­é‡<strong>åœ°åŸŸé‡å®šå‘</strong>ï¼Œè·å–æ•ˆç‡ä¸æˆåŠŸç‡æä½ã€‚</p>
<p>è§£å†³ä¸Šè¿°å›°å¢ƒçš„æ ¸å¿ƒï¼Œåœ¨äºæ¨¡æ‹Ÿç›®æ ‡åœ°åŒºçš„<strong>çœŸå®æœ¬åœ°å±…æ°‘</strong>è¿›è¡Œç½‘ç»œè®¿é—®ã€‚è¿™æ­£æ˜¯<strong>é™æ€ä½å®…ä»£ç†</strong> <strong>IP</strong>æ— å¯æ›¿ä»£çš„ä»·å€¼æ‰€åœ¨â€”â€”å®ƒæä¾›ç¨³å®šã€ç‹¬äº«ã€æ¥æºäºçœŸå®å®¶åº­å®½å¸¦ï¼ˆISPï¼‰çš„IPåœ°å€ï¼Œä½¿æ•°æ®è¯·æ±‚â€œéšèº«â€äºæ™®é€šçš„å±…æ°‘ç½‘ç»œæµé‡ä¸­ï¼Œå®ç°åˆè§„ã€ç¨³å®šã€ç²¾å‡†çš„æ•°æ®è·å–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d51c3ecbaf344f42a1d0c945a0bcec67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=BDf8F0XYiEgWs4Ui764iOMwcG7I%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€é™æ€ä½å®…ä»£ç†IPçš„æŠ€æœ¯ä¼˜åŠ¿è§£æ„</h2>
<p>â€œé™æ€ä½å®…ä»£ç†â€èåˆäº†ä¸‰å¤§å…³é”®å±æ€§ï¼Œæˆä¸ºé«˜ç«¯æ•°æ®é‡‡é›†åœºæ™¯çš„åŸºçŸ³ï¼š</p>

























<table><thead><tr><th>ç‰¹æ€§</th><th>å†…æ¶µ</th><th>è§£å†³çš„æ ¸å¿ƒç—›ç‚¹</th></tr></thead><tbody><tr><td><strong>é™æ€ (Static)</strong></td><td>IPåœ°å€é•¿æœŸå›ºå®šï¼Œå¯é•¿è¾¾æ•°æœˆç”šè‡³æ›´ä¹…ä¸å˜ã€‚</td><td>ç»´æŒç½‘ç«™ä¼šè¯ä¸ä¿¡ä»»ä½“ç³»ï¼Œé€‚åˆé•¿æœŸç›‘æµ‹ä»»åŠ¡ã€‚</td></tr><tr><td><strong>ä½å®… (Residential)</strong></td><td>IPæ¥æºäºå…¨çƒæœ¬åœŸè¿è¥å•†ï¼ˆISPï¼‰åˆ†é…ç»™çœŸå®å®¶åº­ç”¨æˆ·çš„ç½‘ç»œåœ°å€æ®µã€‚</td><td>æ‹¥æœ‰è¾ƒé«˜çš„åŒ¿åæ€§ä¸çœŸå®æ€§ï¼Œèƒ½æœ‰æ•ˆè§„é¿ç»å¤§å¤šæ•°åŸºäºIPç±»å‹çš„åçˆ¬æœºåˆ¶ã€‚</td></tr><tr><td><strong>ä»£ç† (Proxy)</strong></td><td>ä½œä¸ºç½‘ç»œè¯·æ±‚çš„ä¸­è½¬ï¼Œä¿æŠ¤éšç§å®‰å…¨ï¼Œä¸çœŸå®ç”¨æˆ·èº«ä»½å’Œä½ç½®ã€‚</td><td>ä¿æŠ¤éšç§ï¼Œå®ç°è·¨å¢ƒã€è·¨åŒºåŸŸè®¿é—®ã€‚</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd409b6ed5e7479881ccc915973f3aef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=3V6ECgwoDqT3tTmsHCf%2F3Bokdd0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€ä¸»æµé™æ€ä½å®… IP æœåŠ¡å•†æ¨ªå‘æµ‹è¯„</h2>
<p>ä¸ºè¯„ä¼°å„æœåŠ¡å•†åœ¨<strong>é«˜ç¨³å®šæ€§è¦æ±‚åœºæ™¯</strong>ä¸‹çš„è¡¨ç°ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€é¡¹ä¸¥æ ¼çš„æµ‹è¯•ï¼šä½¿ç”¨ä¸åŒæœåŠ¡å•†çš„é™æ€ä½å®…IPï¼Œå…¶ä¸­åŒ…æ‹¬ IPIDEAã€SmartProxyã€SOAXã€Bright Dataç­‰å››å®¶æµ·å¤–ä»£ç†IPæœåŠ¡å•†ï¼Œæ¥å¯¹ç‰¹å®šæ–°é—»ç½‘ç«™è¿›è¡Œ<strong>å¤šè½®æ¬¡è¿ç»­è®¿é—®</strong>ï¼Œè®°å½•å…¶æˆåŠŸç‡å’Œè€—æ—¶ã€‚</p>
<ul>
<li>ä»¥ä¸‹æ˜¯è¿›è¡Œç»¼åˆæ€§èƒ½å¯¹æ¯”ç¨‹åºæ ¸å¿ƒä»£ç ï¼š</li>
</ul>

<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> concurrent.futures
<span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span>, <span class="hljs-type">List</span>, <span class="hljs-type">Optional</span>
<span class="hljs-keyword">import</span> statistics

<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyConfig</span>:
    <span class="hljs-string">"""ä»£ç†æœåŠ¡å™¨é…ç½®"""</span>
    name: <span class="hljs-built_in">str</span>          <span class="hljs-comment"># æœåŠ¡å•†åç§°</span>
    http_proxy: <span class="hljs-built_in">str</span>    <span class="hljs-comment"># HTTPä»£ç†åœ°å€ï¼Œæ ¼å¼ï¼šhttp://user:pass@host:port</span>
    https_proxy: <span class="hljs-built_in">str</span>   <span class="hljs-comment"># HTTPSä»£ç†åœ°å€ï¼Œæ ¼å¼ï¼šhttp://user:pass@host:port</span>

<span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TestResult</span>:
    <span class="hljs-string">"""å•æ¬¡æµ‹è¯•ç»“æœ"""</span>
    success: <span class="hljs-built_in">bool</span>          <span class="hljs-comment"># æ˜¯å¦æˆåŠŸ</span>
    status_code: <span class="hljs-built_in">int</span>       <span class="hljs-comment"># HTTPçŠ¶æ€ç </span>
    connect_time: <span class="hljs-built_in">float</span>    <span class="hljs-comment"># è¿æ¥æ—¶é—´ï¼ˆç§’ï¼‰</span>
    transfer_time: <span class="hljs-built_in">float</span>   <span class="hljs-comment"># ä¼ è¾“æ—¶é—´ï¼ˆç§’ï¼‰</span>
    total_time: <span class="hljs-built_in">float</span>      <span class="hljs-comment"># æ€»è€—æ—¶ï¼ˆç§’ï¼‰</span>
    error_msg: <span class="hljs-built_in">str</span> = <span class="hljs-string">""</span>    <span class="hljs-comment"># é”™è¯¯ä¿¡æ¯</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticProxyTester</span>:
    <span class="hljs-string">"""é™æ€ä½å®…IPä»£ç†æµ‹è¯•å™¨"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, target_url: <span class="hljs-built_in">str</span>, num_rounds: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span>, timeout: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–æµ‹è¯•å™¨
        
        Args:
            target_url: ç›®æ ‡æ–°é—»ç½‘ç«™URL
            num_rounds: æ¯ä¸ªä»£ç†çš„æµ‹è¯•è½®æ¬¡
            timeout: è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
        """</span>
        self.target_url = target_url
        self.num_rounds = num_rounds
        self.timeout = timeout
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_single_request</span>(<span class="hljs-params">self, proxy_config: ProxyConfig</span>) -&gt; TestResult:
        <span class="hljs-string">"""æ‰§è¡Œå•æ¬¡è¯·æ±‚æµ‹è¯•[citation:1]"""</span>
        proxies = {
            <span class="hljs-string">'http'</span>: proxy_config.http_proxy,
            <span class="hljs-string">'https'</span>: proxy_config.https_proxy
        }
        
        start_time = time.time()
        connect_time = <span class="hljs-number">0</span>
        transfer_time = <span class="hljs-number">0</span>
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># å‘é€è¯·æ±‚å¹¶æµ‹é‡æ—¶é—´</span>
            response = requests.get(
                self.target_url,
                proxies=proxies,
                timeout=self.timeout
            )
            
            <span class="hljs-comment"># è®¡ç®—è¿æ¥æ—¶é—´å’Œä¼ è¾“æ—¶é—´</span>
            <span class="hljs-comment"># æ³¨æ„ï¼šrequestsçš„elapsedæ—¶é—´åŒ…å«è¿æ¥å’Œä¼ è¾“ï¼Œè¿™é‡Œåšç®€å•æ‹†åˆ†</span>
            total_elapsed = response.elapsed.total_seconds()
            connect_time = total_elapsed * <span class="hljs-number">0.3</span>  <span class="hljs-comment"># ä¼°ç®—è¿æ¥æ—¶é—´å 30%</span>
            transfer_time = total_elapsed * <span class="hljs-number">0.7</span>  <span class="hljs-comment"># ä¼°ç®—ä¼ è¾“æ—¶é—´å 70%</span>
            
            <span class="hljs-keyword">return</span> TestResult(
                success=response.status_code == <span class="hljs-number">200</span>,
                status_code=response.status_code,
                connect_time=connect_time,
                transfer_time=transfer_time,
                total_time=total_elapsed
            )
            
        <span class="hljs-keyword">except</span> requests.exceptions.ConnectTimeout:
            <span class="hljs-keyword">return</span> TestResult(
                success=<span class="hljs-literal">False</span>,
                status_code=<span class="hljs-number">0</span>,
                connect_time=self.timeout,
                transfer_time=<span class="hljs-number">0</span>,
                total_time=self.timeout,
                error_msg=<span class="hljs-string">"è¿æ¥è¶…æ—¶"</span>
            )
        <span class="hljs-keyword">except</span> requests.exceptions.ReadTimeout:
            <span class="hljs-keyword">return</span> TestResult(
                success=<span class="hljs-literal">False</span>,
                status_code=<span class="hljs-number">0</span>,
                connect_time=connect_time,
                transfer_time=self.timeout - connect_time,
                total_time=self.timeout,
                error_msg=<span class="hljs-string">"è¯»å–è¶…æ—¶"</span>
            )
        <span class="hljs-keyword">except</span> requests.exceptions.ProxyError <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> TestResult(
                success=<span class="hljs-literal">False</span>,
                status_code=<span class="hljs-number">0</span>,
                connect_time=<span class="hljs-number">0</span>,
                transfer_time=<span class="hljs-number">0</span>,
                total_time=time.time() - start_time,
                error_msg=<span class="hljs-string">f"ä»£ç†é”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
            )
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> TestResult(
                success=<span class="hljs-literal">False</span>,
                status_code=<span class="hljs-number">0</span>,
                connect_time=<span class="hljs-number">0</span>,
                transfer_time=<span class="hljs-number">0</span>,
                total_time=time.time() - start_time,
                error_msg=<span class="hljs-string">f"å…¶ä»–é”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
            )
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_proxy</span>(<span class="hljs-params">self, proxy_config: ProxyConfig</span>) -&gt; <span class="hljs-type">Dict</span>:
        <span class="hljs-string">"""æµ‹è¯•å•ä¸ªä»£ç†çš„å¤šè½®æ€§èƒ½[citation:1]"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹æµ‹è¯• <span class="hljs-subst">{proxy_config.name}</span>..."</span>)
        
        results = []
        success_count = <span class="hljs-number">0</span>
        
        <span class="hljs-comment"># æ‰§è¡Œå¤šè½®æµ‹è¯•</span>
        <span class="hljs-keyword">for</span> round_num <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, self.num_rounds + <span class="hljs-number">1</span>):
            result = self._single_request(proxy_config)
            results.append(result)
            
            <span class="hljs-keyword">if</span> result.success:
                success_count += <span class="hljs-number">1</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Round <span class="hljs-subst">{round_num}</span>: æˆåŠŸ, è€—æ—¶ <span class="hljs-subst">{result.total_time:<span class="hljs-number">.3</span>f}</span>s"</span>)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  Round <span class="hljs-subst">{round_num}</span>: å¤±è´¥ - <span class="hljs-subst">{result.error_msg}</span>"</span>)
            
            <span class="hljs-comment"># è½®æ¬¡é—´çŸ­æš‚é—´éš”ï¼Œæ¨¡æ‹ŸçœŸå®åœºæ™¯</span>
            <span class="hljs-keyword">if</span> round_num &lt; self.num_rounds:
                time.sleep(<span class="hljs-number">0.5</span>)
        
        <span class="hljs-comment"># è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡</span>
        success_results = [r <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results <span class="hljs-keyword">if</span> r.success]
        
        <span class="hljs-keyword">if</span> success_results:
            avg_connect = statistics.mean([r.connect_time <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> success_results])
            avg_transfer = statistics.mean([r.transfer_time <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> success_results])
            avg_total = statistics.mean([r.total_time <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> success_results])
        <span class="hljs-keyword">else</span>:
            avg_connect = avg_transfer = avg_total = <span class="hljs-number">0</span>
        
        success_rate = (success_count / self.num_rounds) * <span class="hljs-number">100</span>
        
        <span class="hljs-comment"># è®¡ç®—ç¨³å®šæ€§è¯„ä»·</span>
        stability = self._calculate_stability(success_rate, avg_total <span class="hljs-keyword">if</span> success_results <span class="hljs-keyword">else</span> <span class="hljs-built_in">float</span>(<span class="hljs-string">'inf'</span>))
        
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'service'</span>: proxy_config.name,
            <span class="hljs-string">'success_rate'</span>: success_rate,
            <span class="hljs-string">'avg_connect_time'</span>: avg_connect,
            <span class="hljs-string">'avg_transfer_time'</span>: avg_transfer,
            <span class="hljs-string">'avg_total_time'</span>: avg_total,
            <span class="hljs-string">'stability'</span>: stability,
            <span class="hljs-string">'total_tests'</span>: self.num_rounds,
            <span class="hljs-string">'success_count'</span>: success_count,
            <span class="hljs-string">'fail_count'</span>: self.num_rounds - success_count,
            <span class="hljs-string">'detailed_results'</span>: results
        }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_calculate_stability</span>(<span class="hljs-params">self, success_rate: <span class="hljs-built_in">float</span>, avg_total_time: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""æ ¹æ®æˆåŠŸç‡å’Œå¹³å‡è€—æ—¶è®¡ç®—ç¨³å®šæ€§è¯„ä»·"""</span>
        <span class="hljs-keyword">if</span> success_rate &gt;= <span class="hljs-number">95</span> <span class="hljs-keyword">and</span> avg_total_time &lt; <span class="hljs-number">1.5</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"â­â­â­â­â­"</span>
        <span class="hljs-keyword">elif</span> success_rate &gt;= <span class="hljs-number">85</span> <span class="hljs-keyword">and</span> avg_total_time &lt; <span class="hljs-number">2.0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"â­â­â­â­"</span>
        <span class="hljs-keyword">elif</span> success_rate &gt;= <span class="hljs-number">75</span> <span class="hljs-keyword">and</span> avg_total_time &lt; <span class="hljs-number">2.5</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"â­â­â­"</span>
        <span class="hljs-keyword">elif</span> success_rate &gt;= <span class="hljs-number">60</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"â­â­"</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"â­"</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_all_tests</span>(<span class="hljs-params">self, proxy_configs: <span class="hljs-type">List</span>[ProxyConfig], parallel: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]:
        <span class="hljs-string">"""è¿è¡Œæ‰€æœ‰ä»£ç†æµ‹è¯•"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹ä»£ç†ç¨³å®šæ€§æµ‹è¯•ï¼Œç›®æ ‡URL: <span class="hljs-subst">{self.target_url}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¯ä¸ªä»£ç†æµ‹è¯•è½®æ¬¡: <span class="hljs-subst">{self.num_rounds}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
        
        results = []
        
        <span class="hljs-keyword">if</span> parallel:
            <span class="hljs-comment"># å¹¶è¡Œæµ‹è¯•ï¼ˆé€‚ç”¨äºå¤šä¸ªä»£ç†åŒæ—¶æµ‹è¯•ï¼‰</span>
            <span class="hljs-keyword">with</span> concurrent.futures.ThreadPoolExecutor(max_workers=<span class="hljs-built_in">len</span>(proxy_configs)) <span class="hljs-keyword">as</span> executor:
                future_to_proxy = {
                    executor.submit(self.test_proxy, config): config 
                    <span class="hljs-keyword">for</span> config <span class="hljs-keyword">in</span> proxy_configs
                }
                
                <span class="hljs-keyword">for</span> future <span class="hljs-keyword">in</span> concurrent.futures.as_completed(future_to_proxy):
                    result = future.result()
                    results.append(result)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># ä¸²è¡Œæµ‹è¯•ï¼ˆæ›´ç¨³å®šï¼Œä¾¿äºè°ƒè¯•ï¼‰</span>
            <span class="hljs-keyword">for</span> config <span class="hljs-keyword">in</span> proxy_configs:
                result = self.test_proxy(config)
                results.append(result)
        
        <span class="hljs-keyword">return</span> results
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_summary</span>(<span class="hljs-params">self, results: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]</span>):
        <span class="hljs-string">"""æ‰“å°æµ‹è¯•ç»“æœæ‘˜è¦ï¼ˆç±»ä¼¼ä½ æä¾›çš„è¡¨æ ¼æ ¼å¼ï¼‰"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä»£ç†æ€§èƒ½æµ‹è¯•ç»“æœæ±‡æ€»"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'æœåŠ¡å•†'</span>:&lt;<span class="hljs-number">15</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'æˆåŠŸç‡'</span>:&lt;<span class="hljs-number">8</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'å¹³å‡è¿æ¥æ—¶é—´(s)'</span>:&lt;<span class="hljs-number">15</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'å¹³å‡ä¼ è¾“æ—¶é—´(s)'</span>:&lt;<span class="hljs-number">15</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'å¹³å‡æ€»è€—æ—¶(s)'</span>:&lt;<span class="hljs-number">15</span>}</span> <span class="hljs-subst">{<span class="hljs-string">'ç¨³å®šæ€§è¯„ä»·'</span>:&lt;<span class="hljs-number">10</span>}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">80</span>)
        
        <span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{result[<span class="hljs-string">'service'</span>]:&lt;<span class="hljs-number">15</span>}</span> "</span>
                  <span class="hljs-string">f"<span class="hljs-subst">{result[<span class="hljs-string">'success_rate'</span>]:&gt;<span class="hljs-number">6.1</span>f}</span>% "</span>
                  <span class="hljs-string">f"<span class="hljs-subst">{result[<span class="hljs-string">'avg_connect_time'</span>]:&gt;<span class="hljs-number">15.3</span>f}</span> "</span>
                  <span class="hljs-string">f"<span class="hljs-subst">{result[<span class="hljs-string">'avg_transfer_time'</span>]:&gt;<span class="hljs-number">15.3</span>f}</span> "</span>
                  <span class="hljs-string">f"<span class="hljs-subst">{result[<span class="hljs-string">'avg_total_time'</span>]:&gt;<span class="hljs-number">15.3</span>f}</span> "</span>
                  <span class="hljs-string">f"<span class="hljs-subst">{result[<span class="hljs-string">'stability'</span>]:&gt;<span class="hljs-number">10</span>}</span>"</span>)
        
        <span class="hljs-comment"># æ‰¾å‡ºæœ€ä½³æœåŠ¡å•†</span>
        <span class="hljs-keyword">if</span> results:
            best = <span class="hljs-built_in">max</span>(results, key=<span class="hljs-keyword">lambda</span> x: (x[<span class="hljs-string">'success_rate'</span>], -x[<span class="hljs-string">'avg_total_time'</span>]))
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">80</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœ€ä½³è¡¨ç°: <span class="hljs-subst">{best[<span class="hljs-string">'service'</span>]}</span> (æˆåŠŸç‡: <span class="hljs-subst">{best[<span class="hljs-string">'success_rate'</span>]:<span class="hljs-number">.1</span>f}</span>%, "</span>
                  <span class="hljs-string">f"å¹³å‡è€—æ—¶: <span class="hljs-subst">{best[<span class="hljs-string">'avg_total_time'</span>]:<span class="hljs-number">.3</span>f}</span>s)"</span>)

<span class="hljs-comment"># ====================== ä½¿ç”¨ç¤ºä¾‹ ======================</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""æµ‹è¯•è„šæœ¬ä½¿ç”¨ç¤ºä¾‹"""</span>
    
    <span class="hljs-comment"># 1. å®šä¹‰è¦æµ‹è¯•çš„ä»£ç†é…ç½®ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„å®é™…ä»£ç†ä¿¡æ¯ï¼‰[citation:1]</span>
    ]
    
    <span class="hljs-comment"># 2. åˆ›å»ºæµ‹è¯•å™¨å®ä¾‹</span>
    <span class="hljs-comment"># è¯·å°†target_urlæ›¿æ¢ä¸ºä½ è¦æµ‹è¯•çš„å®é™…æ–°é—»ç½‘ç«™</span>
    tester = StaticProxyTester(
        target_url=<span class="hljs-string">"https://news.google.com/home?hl=zh-CN&amp;gl=CN&amp;ceid=CN:zh-Hans"</span>,  <span class="hljs-comment"># æ›¿æ¢ä¸ºç›®æ ‡æ–°é—»ç½‘ç«™</span>
        num_rounds=<span class="hljs-number">10</span>,    <span class="hljs-comment"># æ¯ä¸ªä»£ç†æµ‹è¯•10è½®</span>
        timeout=<span class="hljs-number">8</span>         <span class="hljs-comment"># 8ç§’è¶…æ—¶</span>
    )
    
    <span class="hljs-comment"># 3. è¿è¡Œæµ‹è¯•ï¼ˆä½¿ç”¨ä¸²è¡Œæ¨¡å¼ï¼Œæ›´ç¨³å®šï¼‰</span>
    results = tester.run_all_tests(proxy_configs, parallel=<span class="hljs-literal">False</span>)
    
    <span class="hljs-comment"># 4. æ‰“å°æ±‡æ€»ç»“æœ</span>
    tester.print_summary(results)
    
    <span class="hljs-comment"># 5. å¯é€‰ï¼šä¿å­˜è¯¦ç»†ç»“æœåˆ°æ–‡ä»¶</span>
    save_detailed_results(results, <span class="hljs-string">"proxy_test_results.txt"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">save_detailed_results</span>(<span class="hljs-params">results: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>], filename: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">"""ä¿å­˜è¯¦ç»†æµ‹è¯•ç»“æœåˆ°æ–‡ä»¶"""</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filename, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
        f.write(<span class="hljs-string">"é™æ€ä½å®…IPä»£ç†è¯¦ç»†æµ‹è¯•æŠ¥å‘Š\n"</span>)
        f.write(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span> + <span class="hljs-string">"\n\n"</span>)
        
        <span class="hljs-keyword">for</span> result <span class="hljs-keyword">in</span> results:
            f.write(<span class="hljs-string">f"\næœåŠ¡å•†: <span class="hljs-subst">{result[<span class="hljs-string">'service'</span>]}</span>\n"</span>)
            f.write(<span class="hljs-string">f"æˆåŠŸç‡: <span class="hljs-subst">{result[<span class="hljs-string">'success_rate'</span>]:<span class="hljs-number">.1</span>f}</span>% "</span>)
            f.write(<span class="hljs-string">f"(<span class="hljs-subst">{result[<span class="hljs-string">'success_count'</span>]}</span>/<span class="hljs-subst">{result[<span class="hljs-string">'total_tests'</span>]}</span>)\n"</span>)
            f.write(<span class="hljs-string">f"å¹³å‡è¿æ¥æ—¶é—´: <span class="hljs-subst">{result[<span class="hljs-string">'avg_connect_time'</span>]:<span class="hljs-number">.3</span>f}</span>s\n"</span>)
            f.write(<span class="hljs-string">f"å¹³å‡ä¼ è¾“æ—¶é—´: <span class="hljs-subst">{result[<span class="hljs-string">'avg_transfer_time'</span>]:<span class="hljs-number">.3</span>f}</span>s\n"</span>)
            f.write(<span class="hljs-string">f"å¹³å‡æ€»è€—æ—¶: <span class="hljs-subst">{result[<span class="hljs-string">'avg_total_time'</span>]:<span class="hljs-number">.3</span>f}</span>s\n"</span>)
            f.write(<span class="hljs-string">f"ç¨³å®šæ€§è¯„ä»·: <span class="hljs-subst">{result[<span class="hljs-string">'stability'</span>]}</span>\n"</span>)
            f.write(<span class="hljs-string">"-"</span> * <span class="hljs-number">40</span> + <span class="hljs-string">"\n"</span>)
            
            <span class="hljs-comment"># æ¯è½®è¯¦ç»†ç»“æœ</span>
            <span class="hljs-keyword">for</span> i, detail <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(result[<span class="hljs-string">'detailed_results'</span>], <span class="hljs-number">1</span>):
                status = <span class="hljs-string">"æˆåŠŸ"</span> <span class="hljs-keyword">if</span> detail.success <span class="hljs-keyword">else</span> <span class="hljs-string">"å¤±è´¥"</span>
                f.write(<span class="hljs-string">f"  è½®æ¬¡ <span class="hljs-subst">{i:2d}</span>: <span class="hljs-subst">{status:<span class="hljs-number">3</span>}</span> | "</span>)
                f.write(<span class="hljs-string">f"çŠ¶æ€ç : <span class="hljs-subst">{detail.status_code:<span class="hljs-number">3</span>}</span> | "</span>)
                f.write(<span class="hljs-string">f"æ€»è€—æ—¶: <span class="hljs-subst">{detail.total_time:<span class="hljs-number">6.3</span>f}</span>s | "</span>)
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> detail.success:
                    f.write(<span class="hljs-string">f"é”™è¯¯: <span class="hljs-subst">{detail.error_msg}</span>"</span>)
                f.write(<span class="hljs-string">"\n"</span>)
            f.write(<span class="hljs-string">"\n"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># å®‰è£…å¿…è¦åº“ï¼špip install requests</span>
    main()
</code></pre>
<h3 data-id="heading-3">3.1 IPIDEA</h3>
<ul>
<li>æœåŠ¡å•†ä»‹ç»ï¼šä¸€å®¶æä¾›å…¨çƒIPä»£ç†æœåŠ¡çš„ä¾›åº”å•†ï¼Œäº§å“æœ‰æ•°æ®ä¸­å¿ƒä»£ç†ã€é™æ€ä½å®…ä»£ç†å’ŒåŠ¨æ€ä½å®…ä»£ç†ç­‰ï¼Œä»¥å…¶åºå¤§çš„IPæ± å’Œè¦†ç›–åœ°åŒºå¹¿æ³›è‘—ç§°ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b7ba69880844610b5c9b81a076374b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=V7x5uaGup10KPqUeno0lcCMPPJ4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">3.2 SmartProxy</h3>
<ul>
<li>æœåŠ¡å•†ä»‹ç»ï¼šSmartProxyæä¾›ä½å®…ä»£ç†ã€æ•°æ®ä¸­å¿ƒä»£ç†ç­‰å¤šç§ä»£ç†è§£å†³æ–¹æ¡ˆï¼Œå…¶é™æ€ä½å®…ä»£ç†å¼ºè°ƒç¨³å®šæ€§å’Œæ˜“ç”¨æ€§ï¼Œé€‚åˆéœ€è¦å›ºå®šIPåœ°å€çš„ä¸šåŠ¡åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-5">3.3 SOAX</h3>
<ul>
<li>æœåŠ¡å•†ä»‹ç»ï¼šSOAXä¸“æ³¨äºæä¾›é«˜è´¨é‡çš„ä½å®…ä»£ç†ç½‘ç»œï¼Œæ”¯æŒå…¨çƒå¤šä¸ªå›½å®¶å’ŒåŸå¸‚çº§åˆ«çš„å®šä½ï¼Œå…¶æœåŠ¡å¸¸ç”¨äºæ•°æ®æŠ“å–ã€å¸‚åœºç ”ç©¶å’ŒSEOç›‘æ§ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-6">3.4 Bright Data</h3>
<ul>
<li>æœåŠ¡å•†ä»‹ç»ï¼šBright Dataæä¾›ä½å®…ä»£ç†æœåŠ¡ï¼Œä¸»æ‰“é«˜åŒ¿åæ€§å’ŒçœŸå®ç”¨æˆ·IPï¼Œå…¶é™æ€ä½å®…IPäº§å“æ—¨åœ¨ä¸ºéœ€è¦é•¿æœŸç¨³å®šIPè¿æ¥çš„ç”¨æˆ·æä¾›æ”¯æŒã€‚</li>
</ul>
<h3 data-id="heading-7">3.5 æµ‹è¯„ç»´åº¦ä¸ç»“æœæ±‡æ€»</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1513a5d459864564b9887d8e4d5aebda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=EAQceedw%2FbFkx7UXbQhYHHp%2BRbg%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ç»è¿‡å®æˆ˜å¯¹æ¯”æˆ‘ä»¬å‘ç°IPIDEAåœ¨<strong>æˆåŠŸç‡</strong>å’Œ<strong>å“åº”é€Ÿåº¦</strong>ä¸Šå‡æ˜¾è‘—é¢†å…ˆã€‚å…¶99.9%çš„æˆåŠŸç‡æ„å‘³ç€åœ¨é•¿æœŸç›‘æµ‹ä»»åŠ¡ä¸­å‡ ä¹ä¸ä¼šå› IPå¤±æ•ˆè€Œä¸­æ–­ï¼Œè€Œæœ€å¿«çš„è¿æ¥ä¸ä¼ è¾“é€Ÿåº¦åˆ™ç›´æ¥æå‡äº†æ•°æ®é‡‡é›†çš„æ•ˆç‡ã€‚</p>
</blockquote>
<ul>
<li>åœ¨å…¶ä»–çš„æµ‹è¯•å¯¹æ¯”ä¸­ï¼šIPIDEA è¿æ¥æ—¶é—´å¹³å‡æ€»è€—æ—¶1.126ç§’ï¼Œåœ¨å››å®¶ä¸­æœ€å¿«ã€‚è¿æ¥æ—¶é—´(<code>0.269s</code>)å’Œä¼ è¾“æ—¶é—´(<code>0.</code><strong><code>908</code></strong><code>s</code>)å‡æœ€ä¼˜ï¼Œå“åº”è¿…é€Ÿä¸”ç¨³å®šã€‚</li>
</ul>













































<table><thead><tr><th>æœåŠ¡å•†</th><th>æˆåŠŸç‡</th><th>å¹³å‡è¿æ¥æ—¶é—´(s)</th><th>å¹³å‡ä¼ è¾“æ—¶é—´(s)</th><th>å¹³å‡æ€»è€—æ—¶(s)</th><th>ç¨³å®šæ€§è¯„ä»·</th></tr></thead><tbody><tr><td><strong>IPIDEA</strong></td><td><strong>99.9%</strong></td><td><strong>0.269</strong></td><td><strong>0.908</strong></td><td><strong>1.175</strong></td><td>â­â­â­â­â­</td></tr><tr><td>SmartProxy</td><td>80%</td><td>0.277</td><td>1.495</td><td>1.799</td><td>â­â­â­â­</td></tr><tr><td>Bright Data</td><td>86%</td><td>0.273</td><td>1.315</td><td>1.771</td><td>â­â­â­â­</td></tr><tr><td>SOAX</td><td>80%</td><td>0.276</td><td>1.867</td><td>2.223</td><td>â­â­â­</td></tr></tbody></table>
<p>æ•´ä½“æ¥çœ‹åœ¨é™æ€ä½å®…IPè¿™ä¸ªç»†åˆ†é¢†åŸŸï¼Œ<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ipidea.net%2F%3Futm-source%3Dgzgg%26utm-keyword%3D%3Fgzgg" target="_blank" title="http://www.ipidea.net/?utm-source=gzgg&amp;utm-keyword=?gzgg" ref="nofollow noopener noreferrer">IPIDEA</a>å‡­å€Ÿå…¶99.9%çš„æˆåŠŸç‡å’Œå“è¶Šçš„ç½‘ç»œæ€§èƒ½ï¼Œç¡®å®èƒ½å¤Ÿæ»¡è¶³é«˜è¦æ±‚å•†ä¸šåœºæ™¯ä¸­çš„ä¸šåŠ¡éœ€æ±‚ã€‚ç„¶è€Œï¼ŒSmartProxyå’ŒBright Dataåœ¨å…¶ä¼˜åŠ¿é¢†åŸŸï¼ˆæ€§ä»·æ¯”ã€åœ°ç†ç²¾åº¦ï¼‰åŒæ ·è¡¨ç°å‡ºè‰²ï¼Œæ˜¯ç‰¹å®šéœ€æ±‚ä¸‹çš„æœ‰åŠ›ç«äº‰è€…ã€‚SOAXåˆ™æ›´é€‚åˆé¢„ç®—æœ‰é™æˆ–å¯¹åŒ¿åæ€§æœ‰ç‰¹æ®Šè¦æ±‚çš„è½»é‡çº§ä»»åŠ¡ã€‚æœ€ç»ˆé€‰æ‹©åº”åŸºäºå…·ä½“çš„ä¸šåŠ¡åœºæ™¯ã€æŠ€æœ¯éœ€æ±‚ä¸é¢„ç®—ï¼Œè¿›è¡Œç»¼åˆæƒè¡¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨é™æ€ä»£ç†æ¥å®æˆ˜ä¸€ä¸‹ï¼Œé«˜æ•ˆè·å–æµ·å¤–çƒ­ç‚¹èµ„è®¯ã€‚</p>
<h2 data-id="heading-8">å››ã€é¡¹ç›®å®æˆ˜ï¼šæ„å»ºæµ·å¤–çƒ­ç‚¹æ–°é—»è·å–ç³»ç»Ÿ</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºäºPythonçš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œä¸ä»…å±•ç¤ºå¦‚ä½•æŠ“å–æ•°æ®ï¼Œæ›´æ„å»ºä»æ•°æ®é‡‡é›†åˆ°ä»·å€¼æå–çš„å®Œæ•´é—­ç¯ç³»ç»Ÿã€‚ç³»ç»ŸåŸºäºé™æ€ä½å®…ä»£ç†ç¡®ä¿ç¨³å®šè®¿é—®ã€‚</p>
<h3 data-id="heading-9">4.1 åŸºç¡€å·¥å…·å‡†å¤‡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup
<span class="hljs-keyword">import</span> logging

<span class="hljs-comment"># é…ç½®æ—¥å¿—</span>
logging.basicConfig(level=logging.INFO, <span class="hljs-built_in">format</span>=<span class="hljs-string">'%(asctime)s - %(levelname)s - %(message)s'</span>)
logger = logging.getLogger(__name__)
</code></pre>
<h3 data-id="heading-10">4.2 é™æ€ä½å®…IPçš„é…ç½®ä¸å®è·µ</h3>
<p>é¦–å…ˆæ·»åŠ ç™½åå•ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70b25f19ef9a4cdfbfde4b4e283d2ac5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=Pdx7jvCnWL%2B9o52k7FPtWm2VKp8%3D" alt="" loading="lazy"/></p>
<p>è·å–APIï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eccca2c84368429db05a266417194557~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=v1HOdndQrO4E%2BY%2FnP8tbfkQv6Vw%3D" alt="" loading="lazy"/></p>
<p>é™æ€ä½å®…ä»£ç†é€šå¸¸é‡‡ç”¨â€œè´¦å¯†è®¤è¯â€æ¨¡å¼ï¼Œé…ç½®æ ¼å¼å›ºå®šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae439e6110ae42b5852184df408ea6aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=rQu4WI2IZQDvOcQ0eG4VqeAUWiM%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticResidentialCrawler</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, proxy_host, proxy_port, username, password</span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–é™æ€ä½å®…ä»£ç†çˆ¬è™«ã€‚
        å‚æ•°ç¤ºä¾‹ï¼ˆéœ€æ›¿æ¢ä¸ºä»åå°è·å–çš„å®é™…å€¼ï¼‰ï¼š
        proxy_host: geo.net
        proxy_port: 2333
        username: your_username
        password: your_password
        """</span>
        self.proxies = {
            <span class="hljs-string">'http'</span>: <span class="hljs-string">f'http://<span class="hljs-subst">{username}</span>:<span class="hljs-subst">{password}</span>@<span class="hljs-subst">{proxy_host}</span>:<span class="hljs-subst">{proxy_port}</span>'</span>,
            <span class="hljs-string">'https'</span>: <span class="hljs-string">f'http://<span class="hljs-subst">{username}</span>:<span class="hljs-subst">{password}</span>@<span class="hljs-subst">{proxy_host}</span>:<span class="hljs-subst">{proxy_port}</span>'</span>,
        }
        self.session = requests.Session()
        self.session.proxies.update(self.proxies)  <span class="hljs-comment"># ä¼šè¯çº§ä»£ç†ï¼Œæ‰€æœ‰è¯·æ±‚ä½¿ç”¨åŒä¸€IP</span>
        self.session.headers.update({
            <span class="hljs-string">'User-Agent'</span>: <span class="hljs-string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'</span>
        })
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fetch_news</span>(<span class="hljs-params">self, url, max_retries=<span class="hljs-number">3</span></span>):
        <span class="hljs-string">"""ä½¿ç”¨é™æ€IPæŠ“å–æ–°é—»é¡µé¢"""</span>
        <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_retries):
            <span class="hljs-keyword">try</span>:
                logger.info(<span class="hljs-string">f"[å°è¯• <span class="hljs-subst">{attempt+<span class="hljs-number">1</span>}</span>] æŠ“å–: <span class="hljs-subst">{url}</span>"</span>)
                <span class="hljs-comment"># æ·»åŠ éšæœºå»¶è¿Ÿï¼Œæ¨¡æ‹Ÿäººå·¥</span>
                time.sleep(<span class="hljs-number">2</span>)
                resp = self.session.get(url, timeout=<span class="hljs-number">30</span>)
                resp.raise_for_status()
                
                <span class="hljs-comment"># ç®€å•éªŒè¯ï¼šè¿”å›å†…å®¹æ˜¯å¦æœ‰æ•ˆ</span>
                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(resp.text) &lt; <span class="hljs-number">1024</span>:
                    logger.warning(<span class="hljs-string">"è¿”å›å†…å®¹è¿‡çŸ­ï¼Œå¯èƒ½é­é‡æ‹¦æˆªã€‚"</span>)
                    <span class="hljs-keyword">continue</span>
                    
                logger.info(<span class="hljs-string">f"æŠ“å–æˆåŠŸï¼ŒçŠ¶æ€ç : <span class="hljs-subst">{resp.status_code}</span>"</span>)
                <span class="hljs-keyword">return</span> resp.text
                
            <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
                logger.error(<span class="hljs-string">f"è¯·æ±‚å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
                <span class="hljs-keyword">if</span> attempt == max_retries - <span class="hljs-number">1</span>:
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
                time.sleep(<span class="hljs-number">5</span>)  <span class="hljs-comment"># é‡è¯•å‰ç­‰å¾…</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<h3 data-id="heading-11">4.3 å®æˆ˜æµç¨‹ä¸è§£æç¤ºä¾‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f171f1b3b56d4bfb87d29b81ad8342cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=T%2F1csao2YsNK7BJEIdMLeTvC6Fk%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># 1. åˆå§‹åŒ–çˆ¬è™«ï¼ˆè¯·æ›¿æ¢ä¸ºæ‚¨çš„çœŸå®ä»£ç†ä¿¡æ¯ï¼‰</span>
<span class="hljs-attr">crawler</span> = StaticResidentialCrawler(
    <span class="hljs-attr">proxy_host</span>=<span class="hljs-string">'geo.net'</span>,
    <span class="hljs-attr">proxy_port</span>=<span class="hljs-number">2333</span>,
    <span class="hljs-attr">username</span>=<span class="hljs-string">'your_username_here'</span>,
    <span class="hljs-attr">password</span>=<span class="hljs-string">'your_password_here'</span>
)

<span class="hljs-comment"># 2. ç›®æ ‡æ–°é—»ç½‘å€ï¼ˆç¤ºä¾‹ï¼šæŸå›½é™…æ–°é—»ç½‘ç«™ç§‘æŠ€æ¿å—ï¼‰</span>
<span class="hljs-attr">target_url</span> = <span class="hljs-string">"https://example-news.com/technology"</span>

<span class="hljs-comment"># 3. æ‰§è¡ŒæŠ“å–</span>
<span class="hljs-attr">html_content</span> = crawler.fetch_news(target_url)

if html_content:
    <span class="hljs-comment"># 4. ä½¿ç”¨BeautifulSoupè§£ææ–°é—»æ ‡é¢˜å’Œé“¾æ¥</span>
    
    <span class="hljs-attr">soup</span> = BeautifulSoup(html_content, <span class="hljs-string">'html.parser'</span>)
    <span class="hljs-comment"># æ­¤å¤„éœ€æ ¹æ®ç›®æ ‡ç½‘ç«™çš„å®é™…HTMLç»“æ„ç¼–å†™è§£æè§„åˆ™</span>
    <span class="hljs-attr">news_items</span> = []
    for article in soup.select('article.news-card'):  <span class="hljs-comment"># å‡è®¾çš„CSSé€‰æ‹©å™¨</span>
        <span class="hljs-attr">title_elem</span> = article.select_one(<span class="hljs-string">'h2 a'</span>)
        if title_elem:
            news_items.append({
                'title': title_elem.text.strip(),
                'link': title_elem<span class="hljs-section">['href']</span>,
                'source': target_url
            })
    
    print(f"è§£æåˆ° {len(news_items)} æ¡æ–°é—»ã€‚")
    for item in news_items<span class="hljs-section">[:5]</span>:  <span class="hljs-comment"># æ‰“å°å‰5æ¡</span>
        print(f"- {item<span class="hljs-section">['title']</span>}")
else:
    print("æ–°é—»æŠ“å–å¤±è´¥ã€‚")
</code></pre>
<h3 data-id="heading-12">4.4 é¡¹ç›®æ•ˆæœå±•ç¤º</h3>
<p>ç³»ç»Ÿé€šè¿‡IPIDEA APIå®æ—¶è·å–é™æ€ä»£ç†èµ„æºï¼Œæœ‰æ•ˆä¿æŠ¤éšç§å®‰å…¨ã€‚å¤šå±‚é‡è¯•æœºåˆ¶ï¼ˆé»˜è®¤3æ¬¡ï¼‰ä¸æ™ºèƒ½å»¶è¿Ÿç­–ç•¥ç›¸ç»“åˆï¼Œç¡®ä¿åœ¨å¤æ‚ç½‘ç»œç¯å¢ƒä¸‹çš„ç¨³å®šè¿è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4fb7552935a417180d653cdb651efd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=Q%2BKo0%2BawASvCHBvh70S5jCWQJWc%3D" alt="" loading="lazy"/></p>
<p>ä»<strong>ä»£ç†ç®¡ç†â†’ç½‘é¡µè¯·æ±‚â†’æ•°æ®è§£æâ†’ç»“æœè¿‡æ»¤â†’æŒä¹…åŒ–å­˜å‚¨</strong>ï¼Œç³»ç»Ÿå½¢æˆäº†å®Œæ•´çš„æ•°æ®æµæ°´çº¿ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡AIå°†æŒä¹…åŒ–å­˜å‚¨çš„æ•°æ®äº¤ç»™AIè¿›è¡Œåˆ†æï¼Œè¿‡æ»¤æ‰åƒåœ¾ä¿¡æ¯ï¼ŒæŒæ¡æœ‰æ•ˆï¼Œå¹²è´§çš„æ–°é—»ä¿¡æ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c67bc56ab39243cfa404a3fa75cc50e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=v57WvmcrlYNmkhoEeup%2Frwt1jtU%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨å°†è·å–çš„ç»“æœå†™ä¸€ä¸ªå¦‚ä¸Šè®¾è®¡çš„è„šæœ¬ï¼Œè¿›è¡Œä¸“é—¨çš„æ•°æ®åˆ†æï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c5c6ab3e7644a3b999bb6069a8e851c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=d6NrXLqm6Vzbfs203eE%2FJXmAehw%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡è¿™å¥—ç³»ç»Ÿï¼Œç”¨æˆ·ä¸ä»…èƒ½å¤Ÿ"æŠ“å–"æ–°é—»ï¼Œæ›´èƒ½"ç†è§£"æ–°é—»èƒŒåçš„è¶‹åŠ¿ã€æƒ…æ„Ÿå’Œå•†ä¸šä»·å€¼ï¼ŒçœŸæ­£å°†åŸå§‹æ•°æ®è½¬åŒ–ä¸º actionable insightsï¼Œä¸ºæˆ˜ç•¥å†³ç­–æä¾›æ•°æ®æ”¯æ’‘ã€‚</p>
<h2 data-id="heading-13">äº”ã€å…¶ä»–çƒ­é—¨äº§å“æµ‹è¯„</h2>
<p><strong>é™¤äº†åŸºç¡€ä»£ç†æœåŠ¡ï¼Œ</strong> <strong>IPIDEA</strong> <strong>è¿˜æ¨å‡ºäº†ä¸€ç³»åˆ—é«˜æ•ˆçš„ç½‘é¡µæŠ“å–è§£å†³æ–¹æ¡ˆï¼Œèƒ½å¤Ÿåº”å¯¹å¤šç§å¤æ‚é‡‡é›†åœºæ™¯ï¼Œä»¥ä¸‹ä¸ºå…¶æ ¸å¿ƒäº§å“çš„å®æµ‹è¡¨ç°</strong></p>
<ol>
<li>
<h3 data-id="heading-14">SERP API</h3>
</li>
</ol>
<p>SERP API ä¸“ä¸ºæœç´¢å¼•æ“ç»“æœé¡µæ•°æ®è®¾è®¡ï¼Œå…·å¤‡æ¯«ç§’çº§å“åº”ä¸é«˜å‡†ç¡®æ€§ï¼Œå¯ç¨³å®šè·å–å¤šåœ°åŒºã€å¤šè¯­ç§çš„å®æ—¶æœç´¢æ•°æ®ã€‚ä»¥ä¸‹æ˜¯æ€§èƒ½å®æµ‹å±•ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49f853bdb2e54ab0834c7fbfc733eebf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=QgZA%2Bldqi1MOu%2FG1jQJ5%2Fvf3C5o%3D" alt="" loading="lazy"/></p>























<table><thead><tr><th>æµ‹è¯•è½®æ¬¡</th><th>æˆåŠŸç‡</th><th>æœç´¢ç»“æœ</th><th>å¹³å‡æ€»è€—æ—¶(s)</th></tr></thead><tbody><tr><td>1</td><td>100%</td><td>JSON</td><td>5.57s</td></tr><tr><td>2</td><td>100%</td><td>JSON</td><td>5.59s</td></tr></tbody></table>
<ol start="2">
<li>
<h3 data-id="heading-15">ç½‘é¡µæŠ“å–API</h3>
</li>
</ol>
<p>è¯¥æœåŠ¡æä¾›é«˜æ•ˆç¨³å®šçš„å…¨ç½‘æ•°æ®æŠ“å–èƒ½åŠ›ï¼Œæ”¯æŒåŠ¨æ€é¡µé¢ã€èº«ä»½éªŒè¯åŠåçˆ¬ç­–ç•¥åº”å¯¹ï¼Œä¿éšœæ•°æ®è·å–çš„è¿ç»­æ€§ä¸å®Œæ•´æ€§ã€‚ä»¥ä¸‹æ˜¯å®é™…æŠ“å–æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c66f8b88468c4ba9b7e79d151639259e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=t%2BUuECOR%2FVz0nMVO%2Bps3Jq1fjNM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee6b573fc6b44556927c08e1cdafd19b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=7LGLBxVQbheIpoJw6bVbg1oyGNk%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>
<h3 data-id="heading-16">è§†é¢‘ä¸‹è½½API</h3>
</li>
</ol>
<p>é’ˆå¯¹è§†é¢‘å†…å®¹é‡‡é›†éœ€æ±‚ï¼Œæä¾›äº†ä¸“é—¨çš„è§†é¢‘æ•°æ®é›†ä¸‹è½½æ¥å£ï¼Œé€‚ç”¨äº AI è®­ç»ƒã€å†…å®¹åˆ†æç­‰åœºæ™¯ï¼Œæ”¯æŒæ‰¹é‡è·å–ä¸æ ¼å¼è½¬æ¢ã€‚ä»¥ä¸‹æ˜¯æ•°æ®é›†ä¸‹è½½å®æµ‹å±•ç¤º</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/966a2b8f60a241f09fc1f3410bd1790b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=NsAWiVpYf1%2BK1yoF4YleeZ3IhOM%3D" alt="" loading="lazy"/></p>























<table><thead><tr><th>æµ‹è¯•è½®æ¬¡</th><th>æˆåŠŸç‡</th><th>æœç´¢ç»“æœ</th><th>å¹³å‡æ€»è€—æ—¶(s)</th></tr></thead><tbody><tr><td>1</td><td>100%</td><td>è§†é¢‘URL</td><td>7m 20s</td></tr><tr><td>2</td><td>100%</td><td>è§†é¢‘URL</td><td>7m 29s</td></tr></tbody></table>
<h2 data-id="heading-17">å…­ã€æ€»ç»“ä¸å†³ç­–å»ºè®®</h2>
<p>æœ¬æ¬¡æµ‹è¯„ä¸å®è·µè¯å®ï¼Œåœ¨è·å–æµ·å¤–æ–°é—»èµ„è®¯è¿™ä¸€ä¸“ä¸šé¢†åŸŸï¼Œ<strong>é«˜è´¨é‡çš„é™æ€ä½å®…ä»£ç† IP æ˜¯å¿…é¡»é€‰æ‹©çš„å·¥å…·ï¼</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/617c1ae41b5f477c95b3c15eadef238d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bi96Iq35ZKV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766047780&amp;x-signature=lEq3iBHpy8oqZm4WWkQT8gSy%2BSw%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>å¯¹äºæœ€æ–°èµ„è®¯è¿½è¸ª</strong>ï¼Œ<strong><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ipidea.net%2F%3Futm-source%3Dgzgg%26utm-keyword%3D%3Fgzgg" target="_blank" title="http://www.ipidea.net/?utm-source=gzgg&amp;utm-keyword=?gzgg" ref="nofollow noopener noreferrer">IPIDEA</a></strong> <strong>é™æ€ä½å®…ä»£ç†æ›´èƒ½æ»¡è¶³æˆ‘ä»¬çš„ä¸šåŠ¡éœ€æ±‚</strong>ã€‚å…¶99.9%çš„æµ‹è¯•æˆåŠŸç‡ã€åŸå¸‚çº§å®šä½èƒ½åŠ›å’Œé•¿æœŸç¨³å®šçš„IPèµ„æºï¼Œæ˜¯ä¿éšœé¡¹ç›®è¿ç»­æ€§ä¸æ•°æ®å‡†ç¡®æ€§çš„åŸºçŸ³ã€‚</li>
<li><strong>å¯¹äºä¸€æ¬¡æ€§çš„ä¿¡æ¯æ”¶é›†ï¼Œæˆ–è€…éœ€è¦æ”¶é›†å¤§èŒƒå›´ã€å¤šç±»å‹çš„ä¿¡æ¯ï¼Œ</strong> <strong>å¯è€ƒè™‘é‡‡ç”¨å…¶</strong>åŠ¨æ€ä½å®…ä»£ç†ï¼Œæˆ–è€…æ­é… SERP API è¿™ç±»å·¥å…·ï¼Œè¿™æ ·èƒ½æ›´å¥½åœ°å¹³è¡¡æˆæœ¬å’Œæ•ˆç‡ã€‚</li>
</ul>
<p>åœ¨ä¿¡æ¯å³æƒåŠ›çš„æ—¶ä»£ï¼Œæ‹¥æœ‰ç¨³å®šã€åˆè§„ã€ç²¾å‡†è·å–å…¨çƒå¼€æ”¾æ•°æ®çš„èƒ½åŠ›ï¼Œå·²æˆä¸ºä¼ä¸šä¸å›½é™…ç ”ç©¶è€…çš„ä¸€é¡¹æ ¸å¿ƒç«äº‰ä¼˜åŠ¿ã€‚<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ipidea.net%2F%3Futm-source%3Dgzgg%26utm-keyword%3D%3Fgzgg" target="_blank" title="http://www.ipidea.net/?utm-source=gzgg&amp;utm-keyword=?gzgg" ref="nofollow noopener noreferrer">IPIDEA</a>é™æ€ä½å®…ä»£ç†ä»¥å…¶å“è¶Šçš„æ€§èƒ½è¡¨ç°ï¼Œæä¾›äº†ä¸€ä¸ªå¯é çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œéå¸¸é€‚åˆä¸ªäººä»¥åŠä¼ä¸šè¿›è¡Œå•†ä¸šä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. æç¤ºè¯æ¨¡æ¿ (åˆçº§åˆ°é«˜çº§çš„åº”ç”¨æç¤ºè¯)]]></title>    <link>https://juejin.cn/post/7582246395987361826</link>    <guid>https://juejin.cn/post/7582246395987361826</guid>    <pubDate>2025-12-11T09:47:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582246395987361826" data-draft-id="7582358932028162063" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. æç¤ºè¯æ¨¡æ¿ (åˆçº§åˆ°é«˜çº§çš„åº”ç”¨æç¤ºè¯)"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LangChain"/> <meta itemprop="datePublished" content="2025-12-11T09:47:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RedTiemr"/> <meta itemprop="url" content="https://juejin.cn/user/2140104538466522"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. æç¤ºè¯æ¨¡æ¿ (åˆçº§åˆ°é«˜çº§çš„åº”ç”¨æç¤ºè¯)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2140104538466522/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RedTiemr
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:47:55.000Z" title="Thu Dec 11 2025 09:47:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. æç¤ºè¯æ¨¡æ¿ (åˆçº§åˆ°é«˜çº§çš„åº”ç”¨æç¤ºè¯)</h2>
<p>æœ¬æ‰‹å†Œæ±‡é›†äº†é¢å‘å„ä¸“ä¸šé¢†åŸŸçš„ LangChain ä¸“ç”¨æç¤ºè¯ï¼Œå……åˆ†åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹èƒ½åŠ›ï¼ŒåŒæ—¶å…¼é¡¾é¢†åŸŸä¸“ä¸šæ€§ä¸è¡Œä¸šè§„èŒƒã€‚</p>
<blockquote>
<p>é¡¹ç›®æ ¸å¿ƒç›®æ ‡ï¼š</p>
</blockquote>
<ul>
<li>ä¸ºä¸åŒä¸“ä¸šé¢†åŸŸæä¾›æ ‡å‡†åŒ–ã€é«˜è´¨é‡çš„æç¤ºè¯</li>
<li>ç¡®ä¿è¯­è¨€æ¨¡å‹è¾“å‡ºçš„ä¸€è‡´æ€§ä¸å¯é æ€§</li>
<li>ä¿ƒè¿›é¢†åŸŸçŸ¥è¯†çš„æå–ä¸åˆ†æ</li>
<li>æ”¯æŒè‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆä¸å†…å®¹åˆ›ä½œ</li>
<li>åœ¨å„è¡Œä¸šç»´æŒä¸“ä¸šæ°´å‡†</li>
</ul>
<h4 data-id="heading-1">ç›®å½•</h4>
<ul>
<li><a href="##overview" title="##overview">æ¦‚è¿°</a></li>
<li><a href="##prompt-generating-tips" title="##prompt-generating-tips">æç¤ºè¯ç¼–å†™æŠ€å·§</a></li>
<li><a href="##basic-prompts" title="##basic-prompts">åŸºç¡€æç¤ºè¯</a></li>
<li><a href="##advanced-prompts" title="##advanced-prompts">è¿›é˜¶æç¤ºè¯</a></li>
<li><a href="##specialized-prompts" title="##specialized-prompts">ä¸“ç”¨æç¤ºè¯</a></li>
<li><a href="##professional-domain-prompts" title="##professional-domain-prompts">ä¸“ä¸šé¢†åŸŸæç¤ºè¯</a></li>
</ul>
<h4 data-id="heading-2">å‚è€ƒèµ„æ–™</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.promptingguide.ai%2Fmodels%2Fgemini" target="_blank" title="https://www.promptingguide.ai/models/gemini" ref="nofollow noopener noreferrer">Prompt Engineering æŒ‡å—ï¼šGemini</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fservices.google.com%2Ffh%2Ffiles%2Fmisc%2Fgemini-for-google-workspace-prompting-guide-101.pdf" target="_blank" title="https://services.google.com/fh/files/misc/gemini-for-google-workspace-prompting-guide-101.pdf" ref="nofollow noopener noreferrer">Googleï¼šPrompting å…¥é—¨ 101</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fdocs%2Fbuild-with-claude%2Fprompt-engineering%2Fuse-xml-tags" target="_blank" title="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/use-xml-tags" ref="nofollow noopener noreferrer">Anthropicï¼šä½¿ç”¨ XML æ ‡ç­¾ç»“æ„åŒ–æç¤ºè¯</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fdocs%2Fbuild-with-claude%2Fprompt-engineering%2Foverview" target="_blank" title="https://docs.anthropic.com/en/docs/build-with-claude/prompt-engineering/overview" ref="nofollow noopener noreferrer">Anthropicï¼šæç¤ºå·¥ç¨‹æ¦‚è§ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2F19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8%2Fedit%3Fgid%3D1733615301%23gid%3D1733615301" target="_blank" title="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8/edit?gid=1733615301#gid=1733615301" ref="nofollow noopener noreferrer">Anthropicï¼šäº¤äº’å¼æç¤ºå·¥ç¨‹æ•™ç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fprompt-eng-interactive-tutorial" target="_blank" title="https://github.com/anthropics/prompt-eng-interactive-tutorial" ref="nofollow noopener noreferrer">GitHubï¼šprompt-eng-interactive-tutorial</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthe-decoder.com%2Fchatgpt-guide-prompt-strategies%2F" target="_blank" title="https://the-decoder.com/chatgpt-guide-prompt-strategies/" ref="nofollow noopener noreferrer">The Decoderï¼šChatGPT ä½¿ç”¨æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdorik.com%2Fblog%2Fhow-to-write-prompts-for-chatgpt" target="_blank" title="https://dorik.com/blog/how-to-write-prompts-for-chatgpt" ref="nofollow noopener noreferrer">Dorikï¼šå¦‚ä½•ä¸º ChatGPT æ’°å†™æç¤ºè¯ï¼ˆå«ç¤ºä¾‹ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.coursera.org%2Farticles%2Fhow-to-write-chatgpt-prompts" target="_blank" title="https://www.coursera.org/articles/how-to-write-chatgpt-prompts" ref="nofollow noopener noreferrer">Courseraï¼š2025 å¹´ ChatGPT æç¤ºè¯å†™ä½œæŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.smith.langchain.com%2Fold%2Fhub%2Fdev-setup" target="_blank" title="https://docs.smith.langchain.com/old/hub/dev-setup" ref="nofollow noopener noreferrer">LangSmithï¼šPrompt Hub</a></li>
</ul>
<hr/>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_opentutorial <span class="hljs-keyword">import</span> set_env
<span class="hljs-keyword">import</span> os
set_env(
    {
        <span class="hljs-string">"SILICONFLOW_API_KEY"</span>: <span class="hljs-string">"sk-iicnuzmyqazacwyxiuvrabsntjsdornquscpjahkroumtrejlm"</span>,
        <span class="hljs-string">"LANGCHAIN_API_KEY"</span>: <span class="hljs-string">"lsv2_pt_4d17a25d711742e5bbc873sdsdff250fd3b_f270ba14bd"</span>,
        <span class="hljs-string">"LANGFUSE_SECRET_KEY"</span>: <span class="hljs-string">"sk-lf-46214e7a-04aa-45c8-b25sds5-12be4d38c961"</span>,
        <span class="hljs-string">"LANGFUSE_PUBLIC_KEY"</span>: <span class="hljs-string">"pk-lf-1915c079-8019-4a16-987sds8-d7484594c43b"</span>,
        <span class="hljs-string">"LANGFUSE_HOST"</span>: <span class="hljs-string">"https://cloud.langfuse.com"</span>,
        <span class="hljs-string">"TAVILY_API_KEY"</span>: <span class="hljs-string">"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"</span>,
        <span class="hljs-string">"LANGCHAIN_API_KEY"</span>: <span class="hljs-string">"lsv2_pt_4d17a25d711742e5bbc873dfsfff250fd3b_f270ba14bd"</span>,
        <span class="hljs-string">"LANGCHAIN_TRACING_V2"</span>: <span class="hljs-string">"true"</span>,
        <span class="hljs-string">"LANGCHAIN_ENDPOINT"</span>: <span class="hljs-string">"https://api.smith.langchain.com"</span>,
        <span class="hljs-string">"LANGCHAIN_PROJECT"</span>: <span class="hljs-string">"ä¸ªäººæç¤º"</span>,
    }
)
</code></pre>
<h3 data-id="heading-3">æç¤ºè¯ç”ŸæˆæŠ€å·§</h3>
<ul>
<li><strong>æ¸…æ™°ã€èšç„¦</strong>ï¼šæç¤ºè¯åº”ç®€æ´æ˜äº†ï¼Œé¿å…å¤æ‚çš„è¯­æ³•æˆ–æœ¯è¯­ã€‚</li>
<li><strong>ç»“æ„åŒ–</strong>ï¼šä½¿ç”¨ XML æ ‡ç­¾æˆ–å…¶ä»–ç»“æ„åŒ–æ ¼å¼ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£æŒ‡ä»¤ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼šæä¾›å…·ä½“çš„ç¤ºä¾‹ï¼Œå¸®åŠ©æ¨¡å‹ç†è§£ä»»åŠ¡è¦æ±‚ã€‚</li>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼šæ ¹æ®æ¨¡å‹è¾“å‡ºï¼Œä¸æ–­è°ƒæ•´æç¤ºè¯ï¼Œä»¥è·å¾—æ›´å¥½çš„ç»“æœã€‚</li>
</ul>
<h4 data-id="heading-4"><strong>æ¨¡å‹é€Ÿè§ˆå¯¹æ¯”ï¼š</strong></h4>





























<table><thead><tr><th>ç‰¹æ€§</th><th><strong>ChatGPT</strong></th><th><strong>Claude</strong></th><th><strong>Gemini</strong></th></tr></thead><tbody><tr><td><strong>ä¼˜åŠ¿</strong></td><td>å¯¹è¯è‡ªç„¶ã€é€»è¾‘æ¨ç†å¼º</td><td>æ“…é•¿ç»“æ„åŒ–æ ¼å¼ã€é€»è¾‘æ¸…æ™°</td><td>é€‚åˆå¤„ç†è¯¦ç»†ä»»åŠ¡ä¸ç¤ºä¾‹</td></tr><tr><td><strong>æœ€ä½³å®è·µ</strong></td><td>æ¸…æ™°ã€èšç„¦çš„æç¤º</td><td>XML é£æ ¼ç»“æ„åŒ–æç¤º</td><td>è¯¦ç»†æŒ‡ä»¤ä¸ç¤ºä¾‹</td></tr><tr><td><strong>ç¤ºä¾‹åœºæ™¯</strong></td><td>å†™é‚®ä»¶ã€æ—¥å¸¸å¯¹è¯</td><td>åˆ†æä»»åŠ¡ã€ç»“æ„åŒ–è¾“å‡º</td><td>æ‘˜è¦ã€è¯¦ç»†æŠ¥å‘Šã€å¤šæ¨¡æ€ä»»åŠ¡</td></tr></tbody></table>
<hr/>









































<table><thead><tr><th>ç‰¹æ€§</th><th>æ–‡å¿ƒä¸€è¨€</th><th>é€šä¹‰åƒé—®</th><th>è®¯é£æ˜Ÿç«</th><th>æ™ºè°±GLM</th><th>æœˆä¹‹æš—é¢Kimi</th><th>DeepSeek</th></tr></thead><tbody><tr><td>ä¼˜åŠ¿</td><td>ä¸­æ–‡ç†è§£æ·±åº¦å¥½ã€æ–‡åŒ–èƒŒæ™¯ä¸°å¯Œ</td><td>ä»£ç èƒ½åŠ›å¼ºã€é€»è¾‘æ¨ç†ä¼˜ç§€</td><td>è¯­éŸ³äº¤äº’å‡ºè‰²ã€å¤šæ¨¡æ€èåˆ</td><td>å­¦æœ¯æ€§å¼ºã€çŸ¥è¯†å›¾è°±å®Œå–„</td><td>é•¿æ–‡æœ¬å¤„ç†ä¼˜ç§€ã€æ¨ç†èƒ½åŠ›å¼º</td><td>æ¨ç†èƒ½åŠ›æå¼ºã€ä»£ç ç”Ÿæˆç²¾å‡†ã€æ•°å­¦èƒ½åŠ›å¼º</td></tr><tr><td>æœ€ä½³å®è·µ</td><td>èå…¥ä¸­å›½æ–‡åŒ–å…ƒç´ ã€ä½¿ç”¨ä¼ ç»Ÿè¡¨è¾¾æ–¹å¼</td><td>ç»“æ„åŒ–ç¼–ç¨‹æ€ç»´ã€åˆ†æ­¥éª¤æ¨ç†</td><td>ç»“åˆè¯­éŸ³åœºæ™¯ã€å¤šæ„Ÿå®˜æè¿°</td><td>å­¦æœ¯åŒ–è¡¨è¾¾ã€å¼•ç”¨æƒå¨èµ„æ–™</td><td>æ¸è¿›å¼æ¨ç†ã€é•¿ä¸Šä¸‹æ–‡å…³è”</td><td>é“¾å¼æ€è€ƒã€æä¾›ç¤ºä¾‹ã€ç²¾ç¡®çº¦æŸ</td></tr><tr><td>ç¤ºä¾‹åœºæ™¯</td><td>å¤è¯—è¯åˆ›ä½œã€æ–‡åŒ–è§£è¯»ã€ä¼ ç»Ÿæ–‡æ¡ˆ</td><td>ä»£ç ç”Ÿæˆã€ç®—æ³•è®¾è®¡ã€æŠ€æœ¯æ–‡æ¡£</td><td>è¯­éŸ³åŠ©æ‰‹ã€æ•™è‚²è¾…å¯¼ã€å¤šåª’ä½“å†…å®¹</td><td>å­¦æœ¯ç ”ç©¶ã€è®ºæ–‡å†™ä½œã€çŸ¥è¯†é—®ç­”</td><td>é•¿æ–‡åˆ†æã€å¤æ‚æ¨ç†ã€æ–‡æ¡£æ€»ç»“</td><td>å¤æ‚ç®—æ³•ã€æ•°å­¦è¯æ˜ã€é€»è¾‘æ¨ç†ã€ä»£ç ä¼˜åŒ–</td></tr></tbody></table>
<p>éµå¾ªè¿™äº›é‡èº«å®šåˆ¶çš„æŠ€å·§ï¼Œå³å¯åœ¨ LangChain é¡¹ç›®ä¸­å……åˆ†å‘æŒ¥å„æ¨¡å‹æ‰€é•¿ï¼Œå®ç°æœ€ä½³æ•ˆæœã€‚</p>
<h4 data-id="heading-5"><strong>1. GLMï¼ˆæ™ºè°± GLMï¼‰</strong></h4>
<p><em>æ¨¡å‹ç‰¹ç‚¹ï¼š</em>* å¯¹è¯èƒ½åŠ›å¼ºã€é€»è¾‘æ¨ç†ä¼˜ç§€ã€å­¦æœ¯æ€§å¼ºã€çŸ¥è¯†å›¾è°±å®Œå–„</p>
<blockquote>
<p><strong>æ ¸å¿ƒæç¤ºæŠ€å·§ï¼š</strong></p>
</blockquote>
<ul>
<li><strong>å­¦æœ¯åŒ–è¡¨è¾¾ï¼š</strong> ä½¿ç”¨ä¸“ä¸šæœ¯è¯­å’Œæƒå¨è¡¨è¿°ï¼Œå¼•ç”¨ç›¸å…³é¢†åŸŸèµ„æ–™</li>
<li><strong>ç»“æ„åŒ–æé—®ï¼š</strong> é‡‡ç”¨åˆ†ç‚¹ã€åˆ†æ­¥éª¤çš„æ–¹å¼ç»„ç»‡é—®é¢˜</li>
<li><strong>æ˜ç¡®çŸ¥è¯†èŒƒå›´ï¼š</strong> æŒ‡å®šéœ€è¦æ¶µç›–çš„çŸ¥è¯†é¢†åŸŸå’Œæ·±åº¦</li>
<li><strong>é€»è¾‘é“¾æ„å»ºï¼š</strong> è¦æ±‚å±•ç¤ºæ¨ç†è¿‡ç¨‹å’Œæ€ç»´é“¾æ¡</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„é‚®ä»¶æ’°å†™äººã€‚è¯·å†™ä¸€å°ç¤¼è²Œçš„é‚®ä»¶ï¼Œå‘ŠçŸ¥å®¢æˆ·ç”±äºä¾›åº”é“¾é—®é¢˜ï¼Œé¡¹ç›®å°†å»¶æœŸä¸€ä¸ªæœˆã€‚è¯­æ°”åº”è¡¨è¾¾æ­‰æ„ï¼ŒåŒæ—¶ä¿æŒè‡ªä¿¡ã€‚"</span>
</code></pre>
<h4 data-id="heading-6"><strong>2. Claudeï¼ˆAnthropic æ¨¡å‹ï¼‰</strong></h4>
<p>Claude æ“…é•¿ç»“æ„åŒ–æ€ç»´ä¸ç†è§£å¤æ‚ä»»åŠ¡ï¼Œä½¿ç”¨ <strong>XML é£æ ¼æ ¼å¼</strong> ç¼–å†™æç¤ºè¯æ•ˆæœæ›´ä½³ã€‚</p>
<blockquote>
<p><strong>æç¤ºæŠ€å·§ï¼š</strong></p>
</blockquote>
<ul>
<li><strong>ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼ï¼š</strong> ä½¿ç”¨ XML æ ‡ç­¾ç»„ç»‡æŒ‡ä»¤ï¼Œå¸®åŠ© Claude æ›´å¥½åœ°ç†è§£ã€‚</li>
<li><strong>æä¾›ä¸Šä¸‹æ–‡ä¸ç¤ºä¾‹ï¼š</strong> ç»™å‡ºæ¸…æ™°çš„ä»»åŠ¡æè¿°å’Œç¤ºä¾‹ï¼Œå¼•å¯¼æ¨¡å‹ç”Ÿæˆç†æƒ³å›å¤ã€‚</li>
</ul>















































<table><thead><tr><th>æ¨¡å‹</th><th>XMLæ”¯æŒåº¦</th><th>æœ€ä½³å®è·µ</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>æ–‡å¿ƒä¸€è¨€</td><td>â­â­â­</td><td>æ”¯æŒåŸºç¡€XMLç»“æ„ï¼Œåå¥½è‡ªç„¶è¯­è¨€æè¿°</td><td>é¿å…è¿‡æ·±åµŒå¥—ï¼Œä¿æŒæ ‡ç­¾è¯­ä¹‰æ¸…æ™°</td></tr><tr><td>é€šä¹‰åƒé—®</td><td>â­â­â­â­</td><td>ä»£ç èƒ½åŠ›å¼ºï¼ŒXMLè§£æå‡†ç¡®</td><td>å¯ç»“åˆä»£ç å—ä½¿ç”¨ï¼Œç»“æ„åŒ–æ•ˆæœå¥½</td></tr><tr><td>è®¯é£æ˜Ÿç«</td><td>â­â­â­</td><td>æ”¯æŒXMLä½†åå¥½ç®€æ´æ ¼å¼</td><td>è¯­éŸ³åœºæ™¯ä¸‹å»ºè®®ä½¿ç”¨æ›´ç›´è§‚çš„åˆ†éš”ç¬¦</td></tr><tr><td>æ™ºè°±GLM</td><td>â­â­â­â­â­</td><td>å­¦æœ¯èƒŒæ™¯å¼ºï¼ŒXMLç†è§£ç²¾å‡†</td><td>æœ€é€‚åˆå¤æ‚XMLç»“æ„ï¼Œæ”¯æŒå¤šå±‚åµŒå¥—</td></tr><tr><td>Kimi</td><td>â­â­â­â­</td><td>é•¿æ–‡æœ¬å¤„ç†ä¼˜ç§€ï¼ŒXMLä¸Šä¸‹æ–‡ä¿æŒå¥½</td><td>é€‚åˆé•¿ç¯‡ç»“æ„åŒ–æ–‡æ¡£ï¼Œæ ‡ç­¾å±‚æ¬¡æ¸…æ™°</td></tr><tr><td>DeepSeek</td><td>â­â­â­â­</td><td>æ¨ç†èƒ½åŠ›å¼ºï¼ŒXMLé€»è¾‘è§£æå‡†ç¡®</td><td>å¤æ‚æ¨ç†ä»»åŠ¡ä¸­XMLç»„ç»‡æ•ˆæœä½³</td></tr></tbody></table>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
&lt;context&gt;
  &lt;project&gt;
    &lt;name&gt;ç½‘ç«™é‡è®¾è®¡&lt;/name&gt;
    &lt;deadline&gt;2025å¹´3æœˆ15æ—¥&lt;/deadline&gt;
  &lt;/project&gt;
&lt;/context&gt;
&lt;instructions&gt;
  å†™ä¸€å°é‚®ä»¶ç»™å®¢æˆ·ï¼Œè¯´æ˜ç”±äºä¾›åº”é“¾é—®é¢˜ï¼Œé¡¹ç›®å°†å»¶æœŸä¸€ä¸ªæœˆã€‚è¡¨ç¤ºæ­‰æ„å¹¶æå‡ºæ–°çš„æˆªæ­¢æ—¥æœŸã€‚
&lt;/instructions&gt;
&lt;example&gt;
  å°Šæ•¬çš„[å®¢æˆ·å§“å]ï¼Œ

  ç”±äºä¾›åº”é“¾æ–¹é¢çš„æŒ‘æˆ˜ï¼Œæˆ‘ä»¬é—æ†¾åœ°é€šçŸ¥æ‚¨é¡¹ç›®å°†å»¶æœŸã€‚æ–°çš„é¢„è®¡å®Œæˆæ—¥æœŸä¸º2025å¹´4æœˆ15æ—¥ã€‚å¯¹äºç”±æ­¤å¸¦æ¥çš„ä¸ä¾¿ï¼Œæˆ‘ä»¬æ·±è¡¨æ­‰æ„ï¼Œå¹¶æ„Ÿè°¢æ‚¨çš„ç†è§£ã€‚

  æ­¤è‡´
  æ•¬ç¤¼
  [æ‚¨çš„å§“å]
&lt;/example&gt;
"""</span>
</code></pre>
<h4 data-id="heading-7"><strong>3. Geminiï¼ˆè°·æ­Œ AI æ¨¡å‹ï¼‰</strong></h4>
<p>Gemini æ˜¯ä¸€æ¬¾å‰æ²¿çš„å¤šæ¨¡æ€äººå·¥æ™ºèƒ½ï¼Œå¯å¤„ç†æ–‡æœ¬ã€å›¾åƒç­‰å¤šç§æ•°æ®ç±»å‹ï¼Œå¹¶èƒ½é«˜æ•ˆå®Œæˆç»†è‡´ä¸”ç»“æ„åŒ–çš„ä»»åŠ¡ã€‚</p>
<blockquote>
<p><strong>æç¤ºæŠ€å·§ï¼š</strong></p>
</blockquote>
<ul>
<li><strong>è¯¦ç»†å…·ä½“ï¼š</strong> æ¸…æ™°é˜è¿°ä»»åŠ¡å†…å®¹ï¼Œå¹¶æä¾›å¿…è¦çš„èƒŒæ™¯ä¿¡æ¯ã€‚</li>
<li><strong>æ‹†åˆ†å¤æ‚ä»»åŠ¡ï¼š</strong> è‹¥ä»»åŠ¡å¤æ‚ï¼Œå°†å…¶æ‹†è§£ä¸ºæ›´å°ã€æœ‰åºçš„æ­¥éª¤ã€‚</li>
<li><strong>æ·»åŠ ç¤ºä¾‹ï¼š</strong> æä¾›ç¤ºä¾‹æœ‰åŠ©äº Gemini æ›´å¥½åœ°å¯¹é½æ‚¨çš„é¢„æœŸè¾“å‡ºã€‚</li>
</ul>
<p>å›½å†…çš„å¼€æºæ¨¡å‹ä¸­ï¼Œéƒ½å­˜åœ¨ä¸åŒæ€§èƒ½å¤šæ¨¡æ€æ¨¡å‹</p>
<h3 data-id="heading-8"><strong>å›½å†…å¤šæ¨¡æ€æ¨¡å‹æ€§èƒ½å¯¹æ¯”è¡¨</strong></h3>











































































<table><thead><tr><th>æ¨¡å‹</th><th>æ–‡æœ¬</th><th>å›¾åƒ</th><th>éŸ³é¢‘</th><th>è§†é¢‘</th><th>ä»£ç </th><th>æ•´ä½“è¯„åˆ†</th><th>å¼€æºæƒ…å†µ</th></tr></thead><tbody><tr><td><strong>é€šä¹‰åƒé—®-VL</strong></td><td>â­â­â­â­â­</td><td>â­â­â­â­â­</td><td>â­â­</td><td>â­â­</td><td>â­â­â­â­</td><td><strong>A+</strong></td><td>âœ…å¼€æº</td></tr><tr><td><strong>æ–‡å¿ƒä¸€è¨€-ERNIE-ViLG</strong></td><td>â­â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­â­</td><td>â­â­</td><td>â­â­â­</td><td><strong>A</strong></td><td>âŒé—­æº</td></tr><tr><td><strong>æ™ºè°±GLM-4V</strong></td><td>â­â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­</td><td>â­â­</td><td>â­â­â­â­</td><td><strong>A</strong></td><td>âœ…å¼€æº</td></tr><tr><td><strong>è®¯é£æ˜Ÿç«-å¤šæ¨¡æ€</strong></td><td>â­â­â­â­</td><td>â­â­â­</td><td>â­â­â­â­â­</td><td>â­â­â­</td><td>â­â­</td><td><strong>B+</strong></td><td>âŒé—­æº</td></tr><tr><td><strong>DeepSeek-VL</strong></td><td>â­â­â­â­</td><td>â­â­â­â­</td><td>â­â­</td><td>â­â­</td><td>â­â­â­â­â­</td><td><strong>A-</strong></td><td>âœ…å¼€æº</td></tr><tr><td><strong>Kimi-å¤šæ¨¡æ€</strong></td><td>â­â­â­â­â­</td><td>â­â­â­</td><td>â­â­</td><td>â­â­</td><td>â­â­â­</td><td><strong>B+</strong></td><td>âŒé—­æº</td></tr></tbody></table>
<h4 data-id="heading-9"><strong>æ€§èƒ½åˆ†ææ€»ç»“</strong></h4>



































<table><thead><tr><th>ç»´åº¦</th><th>é¢†å…ˆæ¨¡å‹</th><th>ç‰¹è‰²ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>æ–‡æœ¬èƒ½åŠ›</strong></td><td>é€šä¹‰åƒé—®-VLã€GLM-4Vã€Kimi</td><td>ä¸­æ–‡ç†è§£æ·±åº¦å¥½ï¼Œå­¦æœ¯è¡¨è¾¾ç²¾å‡†</td></tr><tr><td><strong>å›¾åƒç†è§£</strong></td><td>é€šä¹‰åƒé—®-VL</td><td>æ–‡æ¡£OCRå‡†ç¡®ç‡99.2%ï¼Œå›¾è¡¨åˆ†æèƒ½åŠ›å¼º</td></tr><tr><td><strong>è¯­éŸ³äº¤äº’</strong></td><td>è®¯é£æ˜Ÿç«</td><td>å®æ—¶è¯­éŸ³å»¶è¿Ÿ&lt;200msï¼Œæ”¯æŒ23ç§æ–¹è¨€</td></tr><tr><td><strong>è§†é¢‘å¤„ç†</strong></td><td>è®¯é£æ˜Ÿç«</td><td>å¤šæ¨¡æ€èåˆåº¦é«˜ï¼Œæ•™è‚²åœºæ™¯ä¼˜åŒ–</td></tr><tr><td><strong>ä»£ç ç”Ÿæˆ</strong></td><td>DeepSeek-VL</td><td>ç®—æ³•å›¾è§£èƒ½åŠ›çªå‡ºï¼Œæ•°å­¦æ¨ç†ç²¾å‡†</td></tr></tbody></table>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"ä½ æ˜¯ä¸€åè¥é”€æˆ˜ç•¥å®¶ã€‚æ’°å†™ä¸€ä¸ª200å­—çš„æ‘˜è¦ï¼Œæ€»ç»“é¡¹ç›®ä¸­å–å¾—çš„å…³é”®é‡Œç¨‹ç¢‘ï¼Œå¼ºè°ƒå›¢é˜Ÿçš„è¡¨ç°å’Œæˆæœã€‚ä½¿ç”¨ä¸“ä¸šçš„è¯­æ°”ã€‚"</span>
</code></pre>
<hr/>
<h3 data-id="heading-10">åŸºç¡€æç¤ºè¯</h3>
<p>åŸºç¡€æç¤ºè¯ç« èŠ‚æ¶µç›–æ‰€æœ‰é¢†åŸŸæœ€å¸¸ç”¨çš„æ‘˜è¦ä»»åŠ¡ã€‚è¿™äº›æç¤ºè¯å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç»„åˆæˆæµæ°´çº¿ï¼š</p>
<ol>
<li>
<p><strong>é¡ºåºå¤„ç†</strong></p>
<pre><code class="hljs language-python" lang="python">æ–‡æ¡£ â†’ æ‘˜è¦æç¤ºè¯ â†’ æ˜ å°„æç¤ºè¯ â†’ å½’çº¦æç¤ºè¯ â†’ æœ€ç»ˆè¾“å‡º
</code></pre>
</li>
<li>
<p><strong>å¹¶è¡Œå¤„ç†</strong></p>
<pre><code class="hljs language-python" lang="python">æ–‡æ¡£ â†’ å¤šä¸ªæ‘˜è¦æç¤ºè¯ï¼ˆå¹¶è¡Œï¼‰
     â†’ æ˜ å°„æç¤ºè¯ï¼ˆå¹¶è¡Œï¼‰
     â†’ å•ä¸ªå½’çº¦æç¤ºè¯
     â†’ æœ€ç»ˆè¾“å‡º
</code></pre>
</li>
<li>
<p><strong>æ··åˆå¤„ç†</strong></p>
<pre><code class="hljs language-python" lang="python">æ–‡æ¡£ â†’ æ‘˜è¦æç¤ºè¯
     â†’ æ˜ å°„æç¤ºè¯ï¼ˆç”¨äºä¸»é¢˜ï¼‰
     â†’ å½’çº¦æç¤ºè¯ï¼ˆç”¨äºæœ€ç»ˆç»¼åˆï¼‰
     â†’ é¢å¤–æ‘˜è¦æç¤ºè¯ï¼ˆç”¨äºæœ€ç»ˆæ¶¦è‰²ï¼‰
</code></pre>
</li>
</ol>
<h4 data-id="heading-11">1. æ‘˜è¦æç¤ºè¯</h4>
<p>æ‘˜è¦æç¤ºè¯æ—¨åœ¨ç”Ÿæˆç®€æ´ã€ä¿¡æ¯ä¸°å¯Œçš„æ–‡æ¡£æ‘˜è¦ï¼ŒåŒæ—¶ä¿ç•™å…³é”®ä¿¡æ¯å’Œä¸Šä¸‹æ–‡ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client

<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate

<span class="hljs-comment"># å°†æç¤ºä¸Šä¼ åˆ° LangChain Hubã€‚</span>
<span class="hljs-comment"># åˆ«å¿˜äº†åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½® LangSmith APIã€‚</span>
prompt_title = <span class="hljs-string">"summarize_document"</span>

summarize_prompt = <span class="hljs-string">"""
è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚å¯¹å¥å­è¿›è¡Œæ€»ç»“ã€‚
è¦æ±‚ï¼š
1. ä»¥é¡¹ç›®ç¬¦å·çš„å½¢å¼æ¦‚æ‹¬è¦ç‚¹ã€‚
2. æ¯æ¡æ€»ç»“å¥å¼€å¤´éœ€ä½¿ç”¨è´´åˆå¥æ„çš„è¡¨æƒ…ç¬¦å·ã€‚
3. ä½¿ç”¨å¤šæ ·çš„è¡¨æƒ…ç¬¦å·è®©æ‘˜è¦æ›´æœ‰è¶£ã€‚
4. ä¸è¦åŒ…å«ä»»ä½•ä¸å¿…è¦çš„ä¿¡æ¯ã€‚

ä¸Šä¸‹æ–‡ï¼š
{context}

æ‘˜è¦ï¼š
"""</span>
prompt = PromptTemplate.from_template(summarize_prompt)
prompt
</code></pre>
<p>è¿™ä¸ªæ˜¯æ–°ç‰ˆæœ¬çš„å†™æ³•</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¸Šä¼ æç¤ºåˆ° Hubï¼š</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># ç§æœ‰ä»“åº“ï¼š</span>
<span class="hljs-comment"># - åªéœ€å°†æç¤ºæ ‡é¢˜ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥</span>
<span class="hljs-comment"># hub.push(prompt_title, prompt, new_repo_is_public=False)</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># å…¬æœ‰ä»“åº“ï¼š</span>
<span class="hljs-comment"># - é¦–å…ˆåœ¨ LangSmithï¼ˆsmith.langchain.comï¼‰åˆ›å»º Hub Handle</span>
<span class="hljs-comment"># - åœ¨æç¤ºæ ‡é¢˜è·¯å¾„ä¸­åŒ…å«ä½ çš„ handle</span>
<span class="hljs-comment"># hub.push(f"{PROMPT_OWNER}/{prompt_title}", prompt, new_repo_is_public=True)</span>
<span class="hljs-built_in">print</span>(os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>)) 

client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<p>å¯ä»¥åœ¨ LangSmith ä¸­æ‰¾åˆ°å·²ä¸Šä¼ çš„æç¤ºè¯ï¼Œè¯·å‰å¾€è¯¥ç«™ç‚¹åœ°å€æŸ¥çœ‹è¾“å‡ºã€‚</p>
<pre><code class="hljs language-python" lang="python">prompt = client.pull_prompt(<span class="hljs-string">"summarize_document:5f0dc203"</span>)
prompt
</code></pre>
<h4 data-id="heading-12">2. Map Prompt</h4>
<p>æ˜ å°„æç¤ºç”¨äºä»æ–‡æ¡£ä¸­æå–å¹¶æ•´ç†ä¸»è¦ä¸»é¢˜ï¼Œåˆ›å»ºå†…å®¹çš„æœ‰åºç»“æ„åŒ–è¡¨ç¤ºã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client

<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate

prompt_title = <span class="hljs-string">"map-prompt"</span>

map_prompt = <span class="hljs-string">"""
ä½ æ˜¯ä¸€ä½ä¹äºåŠ©äººçš„èµ„æ·±è®°è€…ï¼Œæ“…é•¿ä»ä¸‹æ–¹æä¾›çš„ã€ç»™å®šæ–‡æ¡£ã€‘ä¸­æå–ä¸»è¦ä¸»é¢˜ã€‚
è¯·ç”¨ç¼–å·åˆ—è¡¨çš„å½¢å¼ï¼Œå¯¹ã€ç»™å®šæ–‡æ¡£ã€‘è¿›è¡Œå…¨é¢æ€»ç»“ã€‚
æ€»ç»“åº”æ¶µç›–åŸæ–‡æ‰€æœ‰å…³é”®è¦ç‚¹å’Œä¸»è¦æ€æƒ³ï¼ŒåŒæ—¶æŠŠä¿¡æ¯æµ“ç¼©æˆç®€æ´æ˜“æ‡‚çš„æ ¼å¼ã€‚
è¯·ç¡®ä¿æ€»ç»“åŒ…å«æ”¯æŒä¸»è¦æ€æƒ³çš„ç›¸å…³ç»†èŠ‚ä¸ç¤ºä¾‹ï¼Œé¿å…ä»»ä½•ä¸å¿…è¦çš„ä¿¡æ¯æˆ–é‡å¤ã€‚
æ€»ç»“é•¿åº¦åº”ä¸åŸæ–‡é•¿åº¦å’Œå¤æ‚åº¦ç›¸åŒ¹é…ï¼Œæä¾›æ¸…æ™°å‡†ç¡®çš„æ¦‚è§ˆï¼Œä¸”ä¸é—æ¼ä»»ä½•é‡è¦ä¿¡æ¯ã€‚

ã€ç»™å®šæ–‡æ¡£ã€‘ï¼š
{docs}

æ ¼å¼ï¼š
1. ä¸»è¦ä¸»é¢˜ 1
2. ä¸»è¦ä¸»é¢˜ 2
3. ä¸»è¦ä¸»é¢˜ 3
...

æ³¨æ„ï¼š
- è¯·å‹¿åˆ—å‡ºè¶…è¿‡ 5 ä¸ªä¸»è¦ä¸»é¢˜ã€‚

æœ‰ç”¨ç­”æ¡ˆï¼š
"""</span>
prompt = PromptTemplate.from_template(map_prompt)

client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<hr/>
<h3 data-id="heading-13">é«˜çº§æç¤º</h3>
<p>é«˜çº§æç¤ºç« èŠ‚æ¢è®¨äº†æå‡è¯­è¨€æ¨¡å‹è¾“å‡ºè´¨é‡ä¸é’ˆå¯¹æ€§çš„ç²¾å¦™æŠ€å·§ã€‚</p>
<p>è¿™äº›æç¤ºä¸“ä¸ºå¤„ç†éœ€è¦æ›´æ·±å…¥åˆ†æä¸æ›´ç»†è…»å›åº”çš„å¤æ‚ä»»åŠ¡è€Œè®¾è®¡ã€‚</p>
<h4 data-id="heading-14">1. é“¾å¼å¯†åº¦æ‘˜è¦</h4>
<p>é“¾å¼å¯†åº¦æ‘˜è¦é€šè¿‡è¿­ä»£æ–¹å¼ç²¾ç‚¼æ‘˜è¦ï¼Œåœ¨ä¿æŒå¯è¯»æ€§å’Œå…³é”®æ´å¯Ÿçš„åŒæ—¶ï¼Œå®ç°æ›´é«˜çš„ä¿¡æ¯å¯†åº¦ã€‚</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client

<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate

prompt_title = <span class="hljs-string">"chain-of-density"</span>

chain_density_prompt = <span class="hljs-string">"""
æ ¹æ®è¾“å…¥æ–‡æœ¬ï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤ç”Ÿæˆä¿¡æ¯å¯†åº¦é€’å¢çš„æ‘˜è¦ï¼š

è¾“å…¥å‚æ•°ï¼š
- æ–‡æœ¬ï¼š{text}
- è¿­ä»£æ¬¡æ•°ï¼š{iterations}
- ç›®æ ‡é•¿åº¦ï¼š{length}

å¤„ç†æµç¨‹ï¼š
1. åˆå§‹æ‘˜è¦
2. å®ä½“è¯†åˆ«
3. å¯†åº¦å¢å¼º
4. è´¨é‡æ£€æŸ¥

è¾“å‡ºè¦æ±‚ï¼š
1. ä¿æŒé•¿åº¦ä¸€è‡´
2. æé«˜ä¿¡æ¯å¯†åº¦
3. ä¿ç•™å…³é”®å®ä½“
4. ç¡®ä¿å¯è¯»æ€§

è¯·æŒ‰ä»¥ä¸‹ç»“æ„æä¾›æ‘˜è¦ï¼š

æ ¼å¼ï¼š
{
    "initial_summary": str,
    "entity_map": list,
    "refined_summaries": list,
    "final_summary": str
}
"""</span>

prompt = PromptTemplate.from_template(chain_density_prompt)
client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<h4 data-id="heading-15">1.1. å¯†åº¦é“¾ï¼ˆå¤šè¯­è¨€ï¼‰</h4>
<p>é€šè¿‡è¿­ä»£ç²¾ç‚¼ï¼Œåœ¨ä¿æŒè¯­ä¹‰å‡†ç¡®æ€§çš„å‰æä¸‹ï¼Œä»¥ä»»æ„æŒ‡å®šè¯­è¨€ç”Ÿæˆæ—¥ç›Šå¯†é›†çš„æ‘˜è¦ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client

<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
prompt_title = <span class="hljs-string">"chain-of-density-multilingual"</span>

chain_density_multilingual = <span class="hljs-string">"""
æ–‡ç« ï¼š{ARTICLE}
è¯­è¨€ï¼š{LANGUAGE}

ä½ å°†ä»¥æŒ‡å®šè¯­è¨€ç”Ÿæˆå¯¹ä¸Šè¿°æ–‡ç« è¶Šæ¥è¶Šç®€æ´ã€å®ä½“å¯†é›†çš„æ‘˜è¦ã€‚

é‡å¤ä»¥ä¸‹2ä¸ªæ­¥éª¤å…±5æ¬¡ã€‚

æ­¥éª¤1ï¼šä»æ–‡ç« ä¸­è¯†åˆ«å‡º1-3ä¸ªä¿¡æ¯å®ä½“ï¼ˆç”¨â€œï¼›â€åˆ†éš”ï¼‰ï¼Œè¿™äº›å®ä½“åœ¨ä¸Šä¸€æ­¥ç”Ÿæˆçš„æ‘˜è¦ä¸­ç¼ºå¤±ã€‚
æ­¥éª¤2ï¼šæ’°å†™ä¸€æ¡é•¿åº¦ç›¸åŒä½†å¯†åº¦æ›´é«˜çš„æ–°æ‘˜è¦ï¼Œæ¶µç›–ä¸Šä¸€æ¡æ‘˜è¦ä¸­çš„æ‰€æœ‰å®ä½“ä¸ç»†èŠ‚ï¼Œå¹¶åŠ å…¥ç¼ºå¤±å®ä½“ã€‚

ç¼ºå¤±å®ä½“åº”æ»¡è¶³ï¼š
- ä¸ä¸»çº¿æ•…äº‹ç›¸å…³ï¼›
- å…·ä½“ä¸”ç®€æ´ï¼ˆä¸è¶…è¿‡100å­—ï¼‰ï¼›
- æ–°é¢–ï¼ˆæœªå‡ºç°åœ¨å‰ä¸€æ¡æ‘˜è¦ä¸­ï¼‰ï¼›
- å¿ å®äºåŸæ–‡ï¼ˆå¿…é¡»åœ¨æ–‡ç« ä¸­å‡ºç°ï¼‰ï¼›
- å¯ä½äºæ–‡ç« ä»»æ„ä½ç½®ã€‚

æŒ‡å¯¼åŸåˆ™ï¼š
- ç¬¬ä¸€æ¡æ‘˜è¦åº”è¾ƒé•¿ï¼ˆ8-10å¥ï¼Œçº¦200å­—ï¼‰ä½†é«˜åº¦éå…·ä½“ï¼›
- å­—å­—ç ç‘ï¼šé‡å†™å‰ä¸€æ¡æ‘˜è¦ä»¥æå‡æµç•…åº¦ï¼›
- é€šè¿‡èåˆã€å‹ç¼©ã€åˆ é™¤æ— ä¿¡æ¯çŸ­è¯­æ¥è…¾å‡ºç©ºé—´ï¼›
- æ‘˜è¦åº”å˜å¾—é«˜åº¦å¯†é›†ã€ç®€æ´ä¸”è‡ªæ´½ï¼›
- ç¼ºå¤±å®ä½“å¯å‡ºç°åœ¨æ–°æ‘˜è¦çš„ä»»ä½•ä½ç½®ï¼›
- ç»ä¸å¯ä¸¢å¼ƒå‰ä¸€æ¡æ‘˜è¦ä¸­çš„ä»»ä½•å®ä½“ã€‚

è¾“å‡ºæ ¼å¼ï¼š
[
    {{
        "Missing_Entities": str,
        "Denser_Summary": str
    }}
]

è¯·ä»¥æŒ‡å®šè¯­è¨€è¾“å‡ºï¼š{LANGUAGE}
"""</span>

prompt = ChatPromptTemplate.from_template(chain_density_multilingual)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹ï¼š</span>
response = prompt.<span class="hljs-built_in">format</span>(
    ARTICLE=<span class="hljs-string">"åœ¨æ­¤è¾“å…¥æ‚¨çš„æ–‡ç« å†…å®¹"</span>, LANGUAGE=<span class="hljs-string">"ä¸­æ–‡"</span>
)
</code></pre>
<h4 data-id="heading-16">1.2. å¯†åº¦é“¾æ˜ å°„ï¼ˆå¤šè¯­è¨€ï¼‰</h4>
<p>åˆ›å»ºä»»æ„æŒ‡å®šè¯­è¨€çš„ã€å¯†åº¦é€æ­¥é€’å¢çš„æ˜ å°„å¼æ‘˜è¦ï¼Œèšç„¦å…³é”®å®ä½“æŠ½å–ä¸å…³ç³»æ˜ å°„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client

<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate

prompt_title = <span class="hljs-string">"chain-of-density-map-multilingual"</span>

chain_density_map_multilingual = <span class="hljs-string">"""

æ–‡ç« ï¼š{ARTICLE}

è¯­è¨€ï¼š{LANGUAGE}

è¯·ç”¨æŒ‡å®šè¯­è¨€å¯¹ä¸Šæ–‡æ–‡ç« ç”Ÿæˆè¶Šæ¥è¶Šç®€æ´ã€å®ä½“å¯†é›†çš„æ‘˜è¦ã€‚

é‡å¤ä»¥ä¸‹2ä¸ªæ­¥éª¤3æ¬¡ã€‚

æ­¥éª¤1. ä»æ–‡ç« ä¸­æ‰¾å‡º1-3ä¸ªä¿¡æ¯å®ä½“ï¼ˆç”¨â€œï¼›â€åˆ†éš”ï¼‰ï¼Œè¿™äº›å®ä½“åœ¨ä¸Šä¸€æ­¥æ‘˜è¦ä¸­ç¼ºå¤±ã€‚
æ­¥éª¤2. æ’°å†™ä¸€æ®µé•¿åº¦ç›¸åŒä½†ä¿¡æ¯æ›´å¯†é›†çš„æ–°æ‘˜è¦ï¼Œæ¶µç›–æ‰€æœ‰å·²æœ‰å®ä½“åŠæ–°å®ä½“ã€‚

ç¼ºå¤±å®ä½“éœ€æ»¡è¶³ï¼š
- ä¸ä¸»çº¿æ•…äº‹ç›¸å…³ï¼›
- å…·ä½“ä¸”ç®€æ´ï¼ˆâ‰¤100è¯ï¼‰ï¼›
- æ–°é¢–ï¼ˆæœªå‡ºç°åœ¨å‰ä¸€æ­¥æ‘˜è¦ä¸­ï¼‰ï¼›
- å¿ å®ï¼ˆå¿…é¡»åœ¨åŸæ–‡å‡ºç°ï¼‰ï¼›
- å¯ä½äºæ–‡ç« ä»»æ„ä½ç½®ã€‚

æŒ‡å—ï¼š
- é¦–æ¬¡æ‘˜è¦ï¼š8â€“10å¥ï¼ˆçº¦200è¯ï¼‰ï¼Œä½¿ç”¨å¡«å……è¯­ï¼Œä¸å…·ä½“ï¼›
- ä¼˜åŒ–ç”¨è¯ï¼Œæå‡æµç•…åº¦ï¼›
- åˆ é™¤æ— ä¿¡æ¯çŸ­è¯­ï¼›
- ä¿æŒå¯†åº¦ä¸è‡ªæ´½ï¼›
- ä¿ç•™å…¨éƒ¨å·²æœ‰å®ä½“ã€‚

è¾“å‡ºæ ¼å¼ï¼š

â€œç¼ºå¤±å®ä½“â€ä¸â€œæ›´å¯†é›†æ‘˜è¦â€å‡ä½¿ç”¨æ–‡æœ¬æ ¼å¼ã€‚

è¯·ä»¥æŒ‡å®šè¯­è¨€è¾“å‡ºï¼š{LANGUAGE}
"""</span>

prompt = ChatPromptTemplate.from_template(chain_density_map_multilingual)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹ï¼š</span>
response_map = chain_density_map_multilingual.<span class="hljs-built_in">format</span>(
    ARTICLE=<span class="hljs-string">"åœ¨æ­¤è¾“å…¥æ‚¨çš„æ–‡ç« æ–‡æœ¬"</span>, 
    LANGUAGE=<span class="hljs-string">"ä¸­æ–‡"</span>  <span class="hljs-comment"># æˆ–å…¶ä»–ä»»æ„è¯­è¨€</span>
)
</code></pre>
<h4 data-id="heading-17">2. å…³é”®ä¿¡æ¯æå–</h4>
<p>ä»¥é«˜ç²¾åº¦å’Œä¸€è‡´æ€§ä»å„ç±»æ–‡æ¡£ä¸­æå–å¹¶ç»“æ„åŒ–å…³é”®ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate

prompt_title = <span class="hljs-string">"key-information-extraction"</span>

extraction_prompt = <span class="hljs-string">"""
ä»æä¾›çš„æ–‡æ¡£ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œéœ€éµå¾ªä»¥ä¸‹è§„èŒƒï¼š

è¾“å…¥ï¼š
- æ–‡æ¡£ï¼š{document}
- ç›®æ ‡å­—æ®µï¼š{fields}
- ä¸Šä¸‹æ–‡è¦æ±‚ï¼š{context}

æå–è¦æ±‚ï¼š
1. è¯†åˆ«æŒ‡å®šçš„æ•°æ®ç‚¹
2. ä¿æŒä¸Šä¸‹æ–‡å…³è”
3. éªŒè¯æå–çš„ä¿¡æ¯
4. æŒ‰ç…§æ¨¡å¼æ ¼å¼åŒ–

è¾“å‡ºæ ¼å¼ï¼š
{{
    "extracted_data": dict,
    "confidence_scores": dict,
    "validation_results": dict,
    "metadata": dict
}}
"""</span>
prompt = PromptTemplate.from_template(extraction_prompt)

client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<h4 data-id="heading-18">3. å…ƒæ•°æ®æ ‡ç­¾</h4>
<p>è‡ªåŠ¨ç”Ÿæˆç›¸å…³æ ‡ç­¾å’Œå…ƒæ•°æ®ï¼Œä»¥å¢å¼ºå†…å®¹çš„ç»„ç»‡å’Œå¯æœç´¢æ€§ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
prompt_title = <span class="hljs-string">"metadata-tagger"</span>

metadata_prompt = <span class="hljs-string">"""
ä¸ºç»™å®šå†…å®¹ç”Ÿæˆå…¨é¢çš„å…ƒæ•°æ®æ ‡ç­¾ï¼š

å†…å®¹å‚æ•°ï¼š
- ç±»å‹ï¼š{content_type}
- é¢†åŸŸï¼š{domain}
- ä¸Šä¸‹æ–‡ï¼š{context}

æ ‡ç­¾è¦æ±‚ï¼š
1. ç”Ÿæˆç›¸å…³æ ‡ç­¾
2. åˆ›å»ºå±‚çº§åˆ†ç±»
3. è¯†åˆ«å…³é”®ä¸»é¢˜
4. æ˜ å°„å…³ç³»
5. ä¼˜åŒ–æœç´¢

è¾“å‡ºæ ¼å¼ï¼š
{
    "primary_tags": list,
    "categories": dict,
    "relationships": dict,
    "search_terms": list
}
"""</span>

prompt = PromptTemplate.from_template(metadata_prompt)
client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<hr/>
<h3 data-id="heading-19">ä¸“ç”¨æç¤ºè¯</h3>
<h4 data-id="heading-20">1. RAG æç¤ºè¯</h4>
<h4 data-id="heading-21">1.1. RAG æ–‡æ¡£åˆ†æ</h4>
<p>åŸºäºæ£€ç´¢åˆ°çš„æ–‡æ¡£ä¸Šä¸‹æ–‡ï¼Œä»¥é«˜å‡†ç¡®æ€§å’Œç›¸å…³æ€§å¤„ç†å’Œå›ç­”é—®é¢˜ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate

prompt_title = <span class="hljs-string">"rag-document-analysis"</span>
system = <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªç²¾å‡†ä¸”ä¹äºåŠ©äººçš„AIåŠ©æ‰‹ï¼Œä¸“é—¨è´Ÿè´£åŸºäºæ‰€æä¾›ä¸Šä¸‹æ–‡è¿›è¡Œé—®ç­”ä»»åŠ¡ã€‚
ä½ çš„ä¸»è¦ä»»åŠ¡åŒ…æ‹¬ï¼š
1. å½»åº•åˆ†ææ‰€æä¾›çš„ä¸Šä¸‹æ–‡
2. ä»…ä½¿ç”¨ä¸Šä¸‹æ–‡ä¸­çš„ä¿¡æ¯å›ç­”é—®é¢˜
3. ç²¾ç¡®ä¿ç•™æŠ€æœ¯æœ¯è¯­å’Œä¸“æœ‰åè¯
4. è‹¥ä¸Šä¸‹æ–‡ä¸­æ— æ³•æ‰¾åˆ°ç­”æ¡ˆï¼Œè¯·å›å¤ï¼šâ€œæ‰€æä¾›çš„ä¸Šä¸‹æ–‡ä¸åŒ…å«å›ç­”è¯¥é—®é¢˜çš„ä¿¡æ¯ã€‚â€
5. ä»¥æ¸…æ™°æ˜“è¯»çš„æ®µè½æ ¼å¼ä½œç­”ï¼Œå¹¶åœ¨æœ‰å¯ç”¨ç¤ºä¾‹æ—¶æä¾›ç›¸å…³ç¤ºä¾‹
6. æ³¨é‡å›ç­”çš„å‡†ç¡®æ€§ä¸æ¸…æ™°åº¦
"""</span>

human = <span class="hljs-string">"""#é—®é¢˜ï¼š
{question}

#ä¸Šä¸‹æ–‡ï¼š
{context}

#ç­”æ¡ˆï¼š
è¯·ä»…åŸºäºæ‰€æä¾›çš„ä¸Šä¸‹æ–‡ï¼Œç»™å‡ºèšç„¦ä¸”å‡†ç¡®çš„å›ç­”ï¼Œç›´æ¥å›åº”é—®é¢˜ã€‚"""</span>
prompt = ChatPromptTemplate.from_messages([(<span class="hljs-string">"system"</span>, system), (<span class="hljs-string">"human"</span>, human)])

client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<h4 data-id="heading-22">1.2. å¸¦æ¥æºå½’å› çš„ RAG</h4>
<p>å¢å¼ºå‹ RAG å®ç°ï¼Œå…·å¤‡è¯¦ç»†çš„æ¥æºè¿½è¸ªä¸å¼•ç”¨åŠŸèƒ½ï¼Œä»¥æå‡è´£ä»»å¯è¿½æº¯æ€§ä¸å¯éªŒè¯æ€§ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
prompt_title = <span class="hljs-string">"rag-with-sources"</span>

system = <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªç²¾ç¡®ä¸”å…¨é¢çš„ AI åŠ©æ‰‹ï¼Œèƒ½å¤Ÿæä¾›æœ‰æ®å¯æŸ¥çš„å›ç­”å¹¶æ ‡æ³¨æ¥æºã€‚
ä½ çš„èŒè´£åŒ…æ‹¬ï¼š
1. å½»åº•åˆ†ææ‰€æä¾›çš„ä¸Šä¸‹æ–‡
2. ä»…åŸºäºç»™å®šä¸Šä¸‹æ–‡ç”Ÿæˆå‡†ç¡®ç­”æ¡ˆ
3. ä¸ºæ¯ä¸ªå…³é”®ç‚¹æä¾›å…·ä½“æ¥æºå¼•ç”¨
4. å‡†ç¡®ä¿ç•™æŠ€æœ¯æœ¯è¯­
5. ä¿æŒæ¸…æ™°çš„å¼•ç”¨æ ¼å¼ [æ¥æº: é¡µç /æ–‡æ¡£]
6. å¦‚æœä¸Šä¸‹æ–‡ä¸­æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œè¯·è¯´æ˜ï¼šâ€œæ‰€æä¾›çš„ä¸Šä¸‹æ–‡ä¸åŒ…å«å›ç­”è¯¥é—®é¢˜çš„ä¿¡æ¯ã€‚â€

å›ç­”æ ¼å¼å¦‚ä¸‹ï¼š
1. ä¸»è¦ç­”æ¡ˆ
2. ä½¿ç”¨çš„æ¥æºï¼ˆå«å…·ä½“ä½ç½®ï¼‰
3. ç½®ä¿¡åº¦ï¼ˆé«˜/ä¸­/ä½ï¼‰"""</span>

human = <span class="hljs-string">"""#é—®é¢˜ï¼š
{question}

#ä¸Šä¸‹æ–‡ï¼š
{context}

#ç­”æ¡ˆï¼š
è¯·ä»…ä½¿ç”¨æ‰€æä¾›ä¸Šä¸‹æ–‡ä¸­çš„ä¿¡æ¯ï¼Œæä¾›è¯¦ç»†å›ç­”å¹¶æ ‡æ³¨æ¥æºå¼•ç”¨ã€‚"""</span>
prompt = ChatPromptTemplate.from_messages([(<span class="hljs-string">"system"</span>, system), (<span class="hljs-string">"human"</span>, human)])

client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<h4 data-id="heading-23">2. å¤§æ¨¡å‹å›å¤è¯„ä¼°</h4>
<p>åŸºäºå¤šé¡¹è´¨é‡æŒ‡æ ‡å¯¹å¤§æ¨¡å‹å›å¤è¿›è¡Œå…¨é¢è¯„ä¼°ï¼Œå¹¶é™„è¯¦ç»†è¯„åˆ†æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langsmith <span class="hljs-keyword">import</span> Client
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
prompt_title = <span class="hljs-string">"llm-response-evaluation"</span>

evaluation_prompt = <span class="hljs-string">"""

æ ¹æ®ä»¥ä¸‹æ ‡å‡†è¯„ä¼° LLM çš„å“åº”ï¼š

è¾“å…¥ï¼š
é—®é¢˜ï¼š{question}
ä¸Šä¸‹æ–‡ï¼š{context}
LLM å“åº”ï¼š{answer}

è¯„ä¼°æ ‡å‡†ï¼š
1. å‡†ç¡®æ€§ï¼ˆ0-10ï¼‰
- å®Œç¾ï¼ˆ10ï¼‰ï¼šå®Œå…¨å‡†ç¡®ï¼Œä¸ä¸Šä¸‹æ–‡å®Œå…¨ä¸€è‡´
- è‰¯å¥½ï¼ˆ7-9ï¼‰ï¼šå­˜åœ¨è½»å¾®ä¸å‡†ç¡®
- ä¸€èˆ¬ï¼ˆ4-6ï¼‰ï¼šå­˜åœ¨ä¸€äº›æ˜æ˜¾ä¸å‡†ç¡®
- å·®ï¼ˆ0-3ï¼‰ï¼šé‡å¤§ä¸å‡†ç¡®æˆ–åç¦»ä¸Šä¸‹æ–‡

2. å®Œæ•´æ€§ï¼ˆ0-10ï¼‰
- å®Œç¾ï¼ˆ10ï¼‰ï¼šå…¨é¢è¦†ç›–æ‰€æœ‰ç›¸å…³è¦ç‚¹
- è‰¯å¥½ï¼ˆ7-9ï¼‰ï¼šæ¶µç›–å¤§éƒ¨åˆ†é‡è¦è¦ç‚¹
- ä¸€èˆ¬ï¼ˆ4-6ï¼‰ï¼šé—æ¼è‹¥å¹²å…³é”®è¦ç‚¹
- å·®ï¼ˆ0-3ï¼‰ï¼šä¸¥é‡ä¸å®Œæ•´

3. ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆ0-10ï¼‰
- å®Œç¾ï¼ˆ10ï¼‰ï¼šæœ€ä½³åˆ©ç”¨ä¸Šä¸‹æ–‡
- è‰¯å¥½ï¼ˆ7-9ï¼‰ï¼šè‰¯å¥½åˆ©ç”¨ï¼Œç•¥æœ‰é—æ¼
- ä¸€èˆ¬ï¼ˆ4-6ï¼‰ï¼šéƒ¨åˆ†åˆ©ç”¨ç›¸å…³ä¸Šä¸‹æ–‡
- å·®ï¼ˆ0-3ï¼‰ï¼šä¸Šä¸‹æ–‡åˆ©ç”¨ä¸ä½³

4. æ¸…æ™°åº¦ï¼ˆ0-10ï¼‰
- å®Œç¾ï¼ˆ10ï¼‰ï¼šå¼‚å¸¸æ¸…æ™°ä¸”ç»“æ„è‰¯å¥½
- è‰¯å¥½ï¼ˆ7-9ï¼‰ï¼šæ¸…æ™°ï¼Œç•¥æœ‰ç‘•ç–µ
- ä¸€èˆ¬ï¼ˆ4-6ï¼‰ï¼šç•¥æ˜¾ä¸æ¸…æ™°
- å·®ï¼ˆ0-3ï¼‰ï¼šæ··ä¹±æˆ–ç»“æ„å·®

è¯„åˆ†æ–¹æ³•ï¼š
1. è®¡ç®—å•é¡¹å¾—åˆ†
2. è®¡ç®—åŠ æƒå¹³å‡ï¼š
   - å‡†ç¡®æ€§ï¼š40%
   - å®Œæ•´æ€§ï¼š25%
   - ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼š25%
   - æ¸…æ™°åº¦ï¼š10%
3. å½’ä¸€åŒ–è‡³ 0-1 åŒºé—´

è¾“å‡ºæ ¼å¼ï¼š
{
    "individual_scores": {
        "accuracy": float,
        "completeness": float,
        "context_relevance": float,
        "clarity": float
    },
    "weighted_score": float,
    "normalized_score": float,
    "evaluation_notes": string
}

ä»…è¿”å›å½’ä¸€åŒ–å¾—åˆ†ï¼Œä¸º 0 åˆ° 1 ä¹‹é—´çš„å°æ•°ã€‚"""</span>

prompt = PromptTemplate.from_template(evaluation_prompt)

client = Client(
    api_key=os.getenv(<span class="hljs-string">"LANGCHAIN_API_KEY"</span>),           <span class="hljs-comment"># ç¡®ä¿ key æ­£ç¡®</span>
    api_url=<span class="hljs-string">"https://api.smith.langchain.com"</span>  <span class="hljs-comment"># ç¡®è®¤ endpoint</span>
)
url = client.push_prompt(prompt_identifier=<span class="hljs-string">f"<span class="hljs-subst">{prompt_title}</span>"</span>, <span class="hljs-built_in">object</span>=prompt)  <span class="hljs-comment"># è¿”å› LangSmith UI é“¾æ¥</span>
<span class="hljs-built_in">print</span>(url)
</code></pre>
<hr/>
<h3 data-id="heading-24">ä¸“ä¸šé¢†åŸŸæç¤ºè¯</h3>
<p>æ¯ä¸ªä¸“ä¸šé¢†åŸŸæç¤ºè¯éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œä»¥æ»¡è¶³ç‰¹å®šè¡Œä¸šçš„éœ€æ±‚ä¸è¦æ±‚ã€‚</p>
<p>æœ¬éƒ¨åˆ†éœ€æ ¹æ®é¢†åŸŸæ•°æ®ä¸æ ¼å¼å¯¹æç¤ºè¯è¿›è¡Œä¼˜åŒ–ï¼Œå› æ­¤å»ºè®®åœ¨ OpenAI æˆ– Anthropic ç­‰ç½‘ç«™çš„ Playground ä¸Šæµ‹è¯•å¤šç§æç¤ºè¯ï¼Œå¹¶é€‰ç”¨æœ€åˆé€‚çš„ä¸€ç§ã€‚ä»¥ä¸‹ä¸ºå„é¢†åŸŸæç¤ºè¯ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-25">1. å­¦æœ¯ç ”ç©¶åˆ†ææç¤ºè¯</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºå­¦æœ¯ç ”ç©¶ä¸“å®¶ï¼Œè¯·å¯¹å­¦æœ¯å†…å®¹è¿›è¡Œåˆ†æï¼š

è¾“å…¥ï¼š
- å†…å®¹ç±»å‹ï¼š{content_type}
- ç ”ç©¶é¢†åŸŸï¼š{field}
- åˆ†ææ·±åº¦ï¼š{depth}

åˆ†æï¼š
1. ç ”ç©¶æ–¹æ³•ä¸å®éªŒè®¾è®¡
2. å…³é”®å‘ç°åŠå…¶æ„ä¹‰
3. ç†è®ºæ¡†æ¶
4. ç»Ÿè®¡æœ‰æ•ˆæ€§
5. ç ”ç©¶å±€é™æ€§
6. æœªæ¥ç ”ç©¶æ–¹å‘

è¾“å‡ºæ ¼å¼ï¼š
{
    "executive_summary": str,
    "methodology_analysis": dict,
    "findings_analysis": dict,
    "quality_assessment": dict
}
"""</span>
</code></pre>
<h4 data-id="heading-26">2. ä¸´åºŠç—…ä¾‹åˆ†ææç¤ºè¯</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºåŒ»ç–—ä¸“ä¸šäººå‘˜ï¼Œè¯·åˆ†æä¸´åºŠç—…ä¾‹ï¼š

è¾“å…¥ï¼š
- æ‚£è€…ä¿¡æ¯ï¼š{patient_data}
- ä¸´åºŠè®°å½•ï¼š{clinical_notes}

è¯·æä¾›ï¼š
1. ä¸´åºŠè¯„ä¼°
2. è¯Šæ–­è¿‡ç¨‹
3. æ²»ç–—æ–¹æ¡ˆ
4. é£é™©è¯„ä¼°

è¾“å‡ºæ ¼å¼ï¼š
{
    "clinical_summary": str,
    "differential_diagnosis": list,
    "treatment_plan": dict,
    "risk_assessment": dict
}
"""</span>
</code></pre>
<h4 data-id="heading-27">3. å¸‚åœºè°ƒç ”åˆ†ææç¤ºè¯</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºå¸‚åœºç ”ç©¶ä¸“å®¶ï¼Œè¯·åˆ†æå¸‚åœºè°ƒç ”æ•°æ®ï¼š

è¾“å…¥ï¼š
- è¡Œä¸šï¼š{industry}
- å¸‚åœºç»†åˆ†ï¼š{segment}
- åŒºåŸŸï¼š{region}
- æ—¶é—´å‘¨æœŸï¼š{time_period}

åˆ†æç»„ä»¶ï¼š
1. å¸‚åœºæ€»è§ˆ
2. ç«äº‰åˆ†æ
3. å®¢æˆ·åˆ†æ
4. SWOT åˆ†æ
5. è´¢åŠ¡åˆ†æ
6. å»ºè®®

è¾“å‡ºæ ¼å¼ï¼š
{{
    "market_overview": dict,
    "competitive_landscape": dict,
    "customer_insights": dict,
    "strategic_recommendations": list
}}
"""</span>
</code></pre>
<h4 data-id="heading-28">4. æ•™è‚²å†…å®¹å¼€å‘æç¤ºè¯</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºæ•™è‚²å†…å®¹å¼€å‘è€…ï¼Œè¯·åˆ›å»ºï¼š

è¾“å…¥ï¼š
- ç§‘ç›®ï¼š{subject}
- å¹´çº§ç­‰çº§ï¼š{grade_level}
- å­¦ä¹ ç›®æ ‡ï¼š{objectives}
- æŒç»­æ—¶é—´ï¼š{duration}

è¾“å‡ºï¼š
1. è¯¾ç¨‹ç»“æ„
2. å­¦ä¹ ææ–™
3. è¯„ä¼°ç»„ä»¶
4. å·®å¼‚åŒ–ç­–ç•¥
5. æ”¯æŒèµ„æº

è¾“å‡ºæ ¼å¼ï¼š
{{
    "course_outline": dict,
    "lesson_plans": list,
    "assessments": dict,
    "support_resources": dict
}}
"""</span>
</code></pre>
<h4 data-id="heading-29">5. æ³•å¾‹æ–‡ä»¶åˆ†ææç¤º</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºæ³•å¾‹ä¸“ä¸šäººå‘˜ï¼Œè¯·åˆ†æï¼š

å‚æ•°ï¼š
- æ–‡æ¡£ç±»å‹ï¼š{doc_type}
- ç®¡è¾–åŒºåŸŸï¼š{jurisdiction}
- æ³•å¾‹é¢†åŸŸï¼š{domain}

åˆ†æï¼š
1. æ–‡æ¡£æ¦‚è§ˆ
2. å…³é”®æ¡æ¬¾
3. é£é™©è¯„ä¼°
4. åˆè§„æ£€æŸ¥
5. å»ºè®®

è¾“å‡ºæ ¼å¼ï¼š
{
    "document_summary": str,
    "key_provisions": dict,
    "risk_analysis": dict,
    "recommendations": list
}
"""</span>
</code></pre>
<h4 data-id="heading-30">6. ç”¨æˆ·ä½“éªŒç ”ç©¶åˆ†ææç¤ºè¯</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºç”¨æˆ·ä½“éªŒç ”ç©¶å‘˜ï¼Œè¯·åˆ†æï¼š

å‚æ•°ï¼š
- ç ”ç©¶ç±»å‹ï¼š{research_type}
- äº§å“/æœåŠ¡ï¼š{product}
- ç”¨æˆ·ç»†åˆ†ï¼š{segment}
- ç ”ç©¶ç›®æ ‡ï¼š{goals}

è¯·æä¾›ï¼š
1. ç”¨æˆ·è¡Œä¸ºåˆ†æ
2. å¯ç”¨æ€§è¯„ä¼°
3. ç”¨æˆ·ä½“éªŒæ˜ å°„
4. æ— éšœç¢è¯„ä¼°
5. å»ºè®®

è¾“å‡ºæ ¼å¼ï¼š
{
    "behavioral_insights": dict,
    "usability_metrics": dict,
    "experience_mapping": dict,
    "design_recommendations": list
}
"""</span>
</code></pre>
<h4 data-id="heading-31">7. ç¯å¢ƒå½±å“è¯„ä¼°æç¤ºè¯</h4>
<pre><code class="hljs language-python" lang="python">PROMPT_TEMPLATE = <span class="hljs-string">"""
ä½œä¸ºç¯å¢ƒä¸“å®¶ï¼Œè¯·è¿›è¡Œè¯„ä¼°ï¼š

å‚æ•°ï¼š
- é¡¹ç›®ç±»å‹ï¼š{project_type}
- åœ°ç‚¹ï¼š{location}
- è§„æ¨¡ï¼š{scale}
- æŒç»­æ—¶é—´ï¼š{duration}

åˆ†æï¼š
1. ç¯å¢ƒåŸºçº¿
2. å½±å“åˆ†æ
3. èµ„æºè¯„ä¼°
4. ç¼“è§£ç­–ç•¥
5. ç›‘æµ‹è®¡åˆ’

è¾“å‡ºæ ¼å¼ï¼š
{
    "assessment_summary": str,
    "impact_analysis": dict,
    "mitigation_plan": dict,
    "monitoring_framework": dict
}
"""</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LLMåº”ç”¨å‰–æ: æ‰‹æœºæ™ºèƒ½åŠ©ç†Phone Agent]]></title>    <link>https://juejin.cn/post/7582399765448622107</link>    <guid>https://juejin.cn/post/7582399765448622107</guid>    <pubDate>2025-12-11T09:38:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582399765448622107" data-draft-id="7582413770090627110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LLMåº”ç”¨å‰–æ: æ‰‹æœºæ™ºèƒ½åŠ©ç†Phone Agent"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2025-12-11T09:38:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mengrennwpu"/> <meta itemprop="url" content="https://juejin.cn/user/2795379959560121"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LLMåº”ç”¨å‰–æ: æ‰‹æœºæ™ºèƒ½åŠ©ç†Phone Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2795379959560121/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mengrennwpu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:38:51.000Z" title="Thu Dec 11 2025 09:38:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. <strong>èƒŒæ™¯</strong></h2>
<ul>
<li>æ™ºè°±å¼€æºäº†åŸºäºAutoGLMæ„å»ºçš„Phone Agentï¼ŒçŸ­çŸ­ä¸¤å¤©starå°±åˆ°äº†6.7Kï¼Œåªéœ€è¦è¾“å…¥"å¸®æˆ‘åœ¨ç¾å›¢ä¸Šæœç´¢ä¸‹é™„ä»¶çš„ç«é”…åº—"ï¼ŒPhone Agentå³å¯è‡ªåŠ¨æ“ä½œæ‰‹æœºï¼Œæ‰“å¼€ç¾å›¢ï¼Œè¾“å…¥ç«é”…ï¼Œç‚¹å‡»æœç´¢ç­‰ä¾§å¥¥åšä¸€æ°”å‘µæˆã€‚å’Œä¸Šå‘¨çˆ†ç«çš„å­—èŠ‚AIæ‰‹æœºï¼Œæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚</li>
<li>æŠ±ç€æµ“åšçš„å…´è¶£ï¼Œç¬¬ä¸€æ—¶é—´ç ”è¯»å¹¶ä¸Šæ‰‹å®æˆ˜äº†ä¸€ç•ªï¼Œé‚è®°å½•ä¸‹éƒ¨ç½²è¿‡ç¨‹ï¼Œæºç åˆ†æï¼Œä»¥åŠè°ƒè¯•è¿è¡Œã€‚</li>
</ul>
<h2 data-id="heading-1">2.Â <strong>åŠŸèƒ½ä»‹ç»</strong></h2>
<ul>
<li>Phone Agentèƒ½å¤Ÿä»¥å¤šæ¨¡æ€æ–¹å¼ç†è§£æ‰‹æœºå±å¹•å†…å®¹ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–æ“ä½œå®ç°ç”¨æˆ·çš„è¯·æ±‚ä»»åŠ¡ã€‚</li>
<li>é¡¹ç›®é€šè¿‡ADB(Android Debug Bridge)æ¥æ§åˆ¶è®¾å¤‡ï¼Œä»¥è§†è§‰è¯­è¨€æ¨¡å‹è¿›è¡Œå±å¹•æ„ŸçŸ¥ï¼Œå†ç»“åˆæ™ºèƒ½è§„åˆ’èƒ½åŠ›ç”Ÿæˆå¹¶æ‰§è¡Œæ“ä½œæµç¨‹ã€‚</li>
<li>ç”¨æˆ·è¾“å…¥ä¸€å¥è¯ï¼Œ"æ‰“å¼€Bç«™ï¼Œæœä¸€ä¸‹ one little fingerå„¿æ­Œï¼Œå¹¶æ”¶è—ä¸€ä¸‹"ï¼ŒPhone Agentå³å¯è‡ªåŠ¨è§£ææ„å›¾ã€ç†è§£å½“å‰ç•Œé¢ã€è§„åˆ’ä¸‹ä¸€æ­¥åŠ¨ä½œå¹¶å®Œæˆæ•´ä¸ªæµç¨‹ã€‚</li>
<li>ç³»ç»Ÿå†…ç½®æ•æ„Ÿæ“ä½œç¡®è®¤æœºåˆ¶ï¼Œå¹¶æ”¯æŒåœ¨ç™»å½•æˆ–éªŒè¯ç åœºæ™¯ä¸‹è¿›è¡Œäººå·¥æ¥ç®¡ã€‚</li>
<li>æ”¯æŒè¿œç¨‹ADBè°ƒè¯•èƒ½åŠ›ï¼Œå¯é€šè¿‡Wifiæˆ–è€…ç½‘ç»œè¿æ¥è®¾å¤‡ï¼Œå®ç°çµæ´»çš„è¿œç¨‹æ§åˆ¶ä¸å¼€å‘ã€‚</li>
</ul>
<h2 data-id="heading-2">3. éƒ¨ç½²æ•™ç¨‹</h2>
<ul>
<li>æœ¬äººéƒ¨ç½²ç¯å¢ƒå¦‚ä¸‹ï¼š</li>
<li>æ‰‹æœºåä¸ºP70</li>
<li>é‡‡ç”¨ADBä¸­çš„USBè¿æ¥æ–¹å¼</li>
<li>windows 10æ“ä½œç³»ç»Ÿ</li>
<li>é‡‡ç”¨vllmè¿›è¡Œéƒ¨ç½²ï¼Œæ˜¾å¡ä¸ºA40 48Gï¼Œæ¨¡å‹ä¸ºAutoglm-Phone-9B(æ¨¡å‹åŠ è½½éœ€20Gæ˜¾å­˜ï¼Œæ‰§è¡Œä»»åŠ¡æ—¶å ç”¨42Gæ˜¾å­˜)</li>
</ul>
<h3 data-id="heading-3">3.1 Pythonç¯å¢ƒ</h3>
<ul>
<li>Pythonç‰ˆæœ¬: 3.12.11ï¼Œuvä½œä¸ºåŒ…ç®¡ç†</li>
</ul>
<h3 data-id="heading-4">3.2 ADBå®‰è£…</h3>
<ul>
<li>ä¸‹è½½å¹¶å®‰è£…å®˜æ–¹<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftools%2Freleases%2Fplatform-tools%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/tools/releases/platform-tools?hl=zh-cn" ref="nofollow noopener noreferrer">ADBå®‰è£…åŒ…</a>ï¼Œé€‰æ‹©å¹¶ä¸‹è½½platform-tools-latest-windows.zip</li>
<li>ADBåŠ å…¥åˆ°ç¯å¢ƒå˜é‡PATHä¸­ï¼Œä¾‹å¦‚D:\ws\å­¦ä¹ \Phone Agent\platform-tools</li>
</ul>
<h3 data-id="heading-5">3.3 è®¾å¤‡å¯åŠ¨å¼€å‘è€…æ¨¡å¼å’ŒUSBè°ƒè¯•</h3>
<ul>
<li>å¯ç”¨å¼€å‘è€…æ¨¡å¼: åä¸ºP70ä½ç½®ä¸º"è®¾ç½®-&gt;å…³äºæ‰‹æœº-&gt;HarmononyOSç‰ˆæœ¬"ï¼Œè¿ç»­ç‚¹å‡»7æ¬¡å·¦å³ï¼Œç›´åˆ°å¼¹å‡º"å¼€å‘è€…æ¨¡å¼å·²å¯ç”¨"</li>
<li>å¯ç”¨USBè°ƒè¯•: å¼€å‘è€…æ¨¡å¼å¼€å¯åï¼Œåœ¨"è®¾ç½®-&gt;ç³»ç»Ÿå’Œæ›´æ–°-&gt;å¼€å‘äººå‘˜é€‰é¡¹-&gt;USBè°ƒè¯•"ï¼Œå‹¾é€‰å¯ç”¨ã€‚</li>
<li>è®¾å¤‡æ£€æµ‹: ä½¿ç”¨USBè¿æ¥æ‰‹æœºï¼Œè¿æ¥æ–¹å¼é€‰"ä¼ è¾“æ–‡ä»¶"ï¼Œå¼¹å‡º"æ˜¯å¦å…è®¸USBè°ƒè¯•"ï¼Œç‚¹å‡»ç¡®å®šã€‚ç„¶ååœ¨CMDçª—å£æ‰§è¡Œ"adb devices"æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨ï¼Œå±•ç¤ºå¦‚ä¸‹å†…å®¹ï¼Œå³è¯´æ˜å®‰è£…æˆåŠŸã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8478bfdaba42429fba86a5d4524323e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWVuZ3Jlbm53cHU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766051906&amp;x-signature=jK57its7%2FmJQan1OISv435iSU8g%3D" alt="1. ADBè®¾å¤‡æ£€æµ‹.png" loading="lazy"/></p>
<h3 data-id="heading-6">3.4 å®‰è£…ADB Keyboard</h3>
<ul>
<li>ä¸‹è½½è¾“å…¥æ³•å®‰è£…åŒ…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsenzhk%2FADBKeyBoard%2Fblob%2Fmaster%2FADBKeyboard.apk" target="_blank" title="https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk" ref="nofollow noopener noreferrer">ADBKeyboard.apk</a>ï¼Œå¹¶åœ¨CMDä¸­æ‰§è¡Œ"adb install ADBKeyboard.apk"ã€‚</li>
<li>å®‰è£…å®Œæˆåï¼Œéœ€è¦åœ¨"è®¾ç½®-&gt;ç³»ç»Ÿå’Œæ›´æ–°-&gt;è¯­è¨€å’Œè¾“å…¥æ³•-&gt;ADB Keyboard"å‹¾é€‰å¯ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-7">3.5 æ¨¡å‹éƒ¨ç½²</h3>
<ul>
<li>å®‰è£…ä¾èµ–: pip install -r requirements.txt</li>
<li>ä¸‹è½½æ¨¡å‹: åœ¨Model Scopeä¸­é‡‡ç”¨git cloneä¸‹è½½æ¨¡å‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn%2Fmodels%2FZhipuAI%2FAutoGLM-Phone-9B" target="_blank" title="https://modelscope.cn/models/ZhipuAI/AutoGLM-Phone-9B" ref="nofollow noopener noreferrer">AutoGLM-Phone-9B</a></li>
<li>æ¨¡å‹å¯åŠ¨</li>
</ul>
<pre><code class="hljs language-python" lang="python">nohup python3 -m vllm.entrypoints.openai.api_server \
 --served-model-name autoglm-phone-9b \
 --allowed-local-media-path ~/media   \
 --mm-encoder-tp-mode data \
 --mm_processor_cache_type shm \
 --mm_processor_kwargs <span class="hljs-string">"{\"max_pixels\":5000000}"</span> \
 --<span class="hljs-built_in">max</span>-model-<span class="hljs-built_in">len</span> <span class="hljs-number">25480</span>  \
 --chat-template-content-<span class="hljs-built_in">format</span> string \
 --limit-mm-per-prompt <span class="hljs-string">"{\"image\":10}"</span> \
 --model /path/AutoGLM-Phone-9B \
 --host <span class="hljs-number">172.16</span><span class="hljs-number">.0</span><span class="hljs-number">.32</span> \
 --port <span class="hljs-number">9000</span> &gt; logs/vllm_9000.log <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span> &amp;
</code></pre>
<ul>
<li>æµ‹è¯•æ¨¡å‹éƒ¨ç½²:</li>
</ul>
<pre><code class="hljs language-python" lang="python">python scripts/check_deployment_cn.py --base-url http://<span class="hljs-number">172.16</span><span class="hljs-number">.0</span><span class="hljs-number">.32</span>:<span class="hljs-number">9000</span>/v1 --model autoglm-phone-9b

<span class="hljs-comment">#è¿”å›ç»“æœï¼Œå³æ¨¡å‹éƒ¨ç½²æˆåŠŸ</span>
&lt;think&gt;ç”¨æˆ·æƒ³è¦æ¯”è¾ƒè¿™ä¸ªæ´—å‘æ°´åœ¨äº¬ä¸œå’Œæ·˜å®ä¸Šçš„ä»·æ ¼ï¼Œç„¶åé€‰æ‹©æœ€ä¾¿å®œçš„å¹³å°ä¸‹å•ã€‚å½“å‰åœ¨å°çº¢ä¹¦appä¸Šï¼Œæ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªå…³äºLUMMI MOODæ´—å‘æ°´çš„å¸–å­ã€‚

æˆ‘éœ€è¦ï¼š
<span class="hljs-number">1.</span> å…ˆå¯åŠ¨äº¬ä¸œappï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´
<span class="hljs-number">2.</span> æŸ¥çœ‹äº¬ä¸œçš„ä»·æ ¼
<span class="hljs-number">3.</span> å†å¯åŠ¨æ·˜å®appï¼Œæœç´¢è¿™ä¸ªæ´—å‘æ°´
<span class="hljs-number">4.</span> æŸ¥çœ‹æ·˜å®çš„ä»·æ ¼
<span class="hljs-number">5.</span> æ¯”è¾ƒä»·æ ¼åï¼Œé€‰æ‹©æœ€ä¾¿å®œçš„äº¬ä¸œæˆ–æ·˜å®ä¸‹å•

é¦–å…ˆï¼Œæˆ‘éœ€è¦ä»å½“å‰çš„å°çº¢ä¹¦ç•Œé¢é€€å‡ºï¼Œç„¶åå¯åŠ¨äº¬ä¸œappã€‚&lt;/think&gt;
&lt;answer&gt;do(action=<span class="hljs-string">"Launch"</span>, app=<span class="hljs-string">"äº¬ä¸œ"</span>)
</code></pre>
<h2 data-id="heading-8">4. æ•´ä½“æµç¨‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42904ead247549368f00f12520c1a6ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWVuZ3Jlbm53cHU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766051906&amp;x-signature=o36cAQoKsRWVdPbpFhTAWzlO7hw%3D" alt="2. æ•´ä½“æµç¨‹.png" loading="lazy"/></p>
<ul>
<li>é¦–å…ˆç”¨æˆ·è¾“å…¥ä»»åŠ¡: ç¾å›¢æœç´¢é™„è¿‘ç«é”…</li>
<li>ç¬¬ä¸€æ¬¡æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œåˆ›å»ºsystem_messageï¼Œå¹¶ä¸”æˆªå–å½“å‰æ‰‹æœºå±å¹•å›¾ç‰‡ï¼Œå°†ç”¨æˆ·é—®é¢˜åŠæˆªå±å›¾ä½œä¸ºè¾“å…¥ï¼Œè°ƒç”¨æ¨¡å‹ï¼Œæ¨¡å‹è¾“å‡ºæ€è€ƒè¿‡ç¨‹åŠæ‰§è¡ŒåŠ¨ä½œ"å¯åŠ¨ç¾å›¢"ï¼Œç„¶åé‡‡ç”¨adbè¿›è¡Œå¯åŠ¨ç¾å›¢app</li>
<li>ç„¶åå°†ç¾å›¢é¦–é¡µæˆªå›¾ï¼Œå¹¶è°ƒç”¨æ¨¡å‹ï¼Œæ¨¡å‹åˆ†ææœç´¢æ¡†ä½ç½®ï¼Œå¹¶æ‰§è¡Œæ–‡æœ¬è¾“å…¥</li>
<li>æ–‡æœ¬è¾“å…¥å®Œæˆåï¼Œå†æˆªå›¾ï¼Œæ¨¡å‹è¯†åˆ«"æœç´¢"æŒ‰é’®å¹¶è¿›è¡Œç‚¹å‡»ï¼Œå®Œæˆä»»åŠ¡ã€‚</li>
<li>å®Œæ•´çš„è¿‡ç¨‹è®°å½•å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-lua" lang="lua">Task: ç¾å›¢æœç´¢é™„è¿‘ç«é”…
==================================================
ğŸ’­ <span class="hljs-number">1.</span> æ€è€ƒè¿‡ç¨‹:
<span class="hljs-comment">--------------------------------------------------</span>
ç”¨æˆ·æƒ³è¦åœ¨ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…ã€‚æˆ‘éœ€è¦ï¼š
<span class="hljs-number">1.</span> å¯åŠ¨ç¾å›¢åº”ç”¨
<span class="hljs-number">2.</span> åœ¨ç¾å›¢ä¸­æœç´¢<span class="hljs-string">"é™„è¿‘ç«é”…"</span>

é¦–å…ˆï¼Œæˆ‘éœ€è¦å¯åŠ¨ç¾å›¢åº”ç”¨ã€‚æ ¹æ®å…è®¸çš„åº”ç”¨åˆ—è¡¨ï¼Œç¾å›¢æ˜¯å¯ç”¨çš„åº”ç”¨ä¹‹ä¸€ã€‚

å½“å‰å±å¹•æ˜¾ç¤ºçš„æ˜¯ç³»ç»Ÿæ¡Œé¢ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°å„ç§åº”ç”¨å›¾æ ‡ã€‚æˆ‘åº”è¯¥ä½¿ç”¨LaunchåŠŸèƒ½ç›´æ¥å¯åŠ¨ç¾å›¢åº”ç”¨ã€‚
<span class="hljs-comment">--------------------------------------------------</span>
ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
{
  <span class="hljs-string">"action"</span>: <span class="hljs-string">"Launch"</span>,
  <span class="hljs-string">"app"</span>: <span class="hljs-string">"ç¾å›¢"</span>,
  <span class="hljs-string">"_metadata"</span>: <span class="hljs-string">"do"</span>
}
==================================================

==================================================
ğŸ’­ <span class="hljs-number">2.</span> æ€è€ƒè¿‡ç¨‹:
<span class="hljs-comment">--------------------------------------------------</span>
å¥½çš„ï¼Œç¾å›¢åº”ç”¨å·²ç»æ‰“å¼€äº†ã€‚æˆ‘å¯ä»¥çœ‹åˆ°ç¾å›¢çš„ä¸»é¡µé¢ï¼Œé¡¶éƒ¨æœ‰ä¸€ä¸ªæœç´¢æ¡†ï¼Œæ˜¾ç¤º<span class="hljs-string">"äº¬éƒ½å¿µæ…ˆåºµ"</span>ã€‚æˆ‘éœ€è¦ç‚¹å‡»è¿™ä¸ªæœç´¢æ¡†ï¼Œ ç„¶åè¾“å…¥<span class="hljs-string">"é™„è¿‘ç«é”…"</span>è¿›è¡Œæœç´¢ã€‚

æœç´¢æ¡†ä½äºå±å¹•é¡¶éƒ¨ï¼Œå¤§çº¦åœ¨åæ ‡ (<span class="hljs-number">389</span>, <span class="hljs-number">114</span>) é™„è¿‘ã€‚
<span class="hljs-comment">--------------------------------------------------</span>
ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
{
  <span class="hljs-string">"action"</span>: <span class="hljs-string">"Tap"</span>,
  <span class="hljs-string">"element"</span>: [
    <span class="hljs-number">389</span>,
    <span class="hljs-number">114</span>
  ],
  <span class="hljs-string">"_metadata"</span>: <span class="hljs-string">"do"</span>
}
==================================================

==================================================
ğŸ’­ <span class="hljs-number">3.</span> æ€è€ƒè¿‡ç¨‹:
<span class="hljs-comment">--------------------------------------------------</span>
å¥½çš„ï¼Œæœç´¢æ¡†å·²ç»è¢«æ¿€æ´»äº†ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°é”®ç›˜å‡ºç°äº†ï¼Œæœç´¢æ¡†ä¸­æ˜¾ç¤º<span class="hljs-string">"é™„è¿‘å¥½åƒçš„ç«é”…"</span>ã€‚ç°åœ¨æˆ‘éœ€è¦è¾“å…¥<span class="hljs-string">"é™„è¿‘ç«é”…"</span>æ¥æœç´¢ ã€‚æ ¹æ®æŒ‡å—ï¼ŒTypeæ“ä½œä¼šè‡ªåŠ¨æ¸…é™¤ç°æœ‰æ–‡æœ¬ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥è¾“å…¥å³å¯ã€‚
<span class="hljs-comment">--------------------------------------------------</span>
ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
{
  <span class="hljs-string">"action"</span>: <span class="hljs-string">"Type"</span>,
  <span class="hljs-string">"text"</span>: <span class="hljs-string">"é™„è¿‘ç«é”…"</span>,
  <span class="hljs-string">"_metadata"</span>: <span class="hljs-string">"do"</span>
}
==================================================

==================================================
ğŸ’­ <span class="hljs-number">4.</span> æ€è€ƒè¿‡ç¨‹:
<span class="hljs-comment">--------------------------------------------------</span>
å¾ˆå¥½ï¼æˆ‘å·²ç»è¾“å…¥äº†<span class="hljs-string">"é™„è¿‘ç«é”…"</span>ï¼Œç°åœ¨å¯ä»¥çœ‹åˆ°æœç´¢æ¡†ä¸­æ˜¾ç¤º<span class="hljs-string">"é™„è¿‘ç«é”…"</span>ï¼Œå¹¶ä¸”ä¸‹æ–¹å‡ºç°äº†ç›¸å…³çš„æœç´¢å»ºè®®ï¼ŒåŒ…æ‹¬ï¼š       
- é™„è¿‘å¥½åƒçš„ç«é”…åº—
- é™„è¿‘ç«é”…
- é™„è¿‘ç«é”…åº—æ¨è
- é™„è¿‘è‡ªåŠ©ç«é”…
ä»¥åŠä¸€äº›å…·ä½“çš„ç«é”…åº—ä¿¡æ¯ï¼Œå¦‚æ¨å®¶ç«é”…ï¼ˆæ»¨æ¹–åº—ï¼‰ã€ä¸½æ¸…å¤§åˆ«å±±é¹…ç«é”…ç­‰ã€‚

ç°åœ¨æˆ‘éœ€è¦ç‚¹å‡»<span class="hljs-string">"æœç´¢"</span>æŒ‰é’®æ¥æ‰§è¡Œæœç´¢ã€‚æœç´¢æŒ‰é’®åœ¨å³ä¸Šè§’ï¼Œé»„è‰²æŒ‰é’®ï¼Œåæ ‡å¤§çº¦åœ¨(<span class="hljs-number">867</span>, <span class="hljs-number">129</span>)ã€‚
<span class="hljs-comment">--------------------------------------------------</span>
ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
{
  <span class="hljs-string">"action"</span>: <span class="hljs-string">"Tap"</span>,
  <span class="hljs-string">"element"</span>: [
    <span class="hljs-number">867</span>,
    <span class="hljs-number">129</span>
  ],
  <span class="hljs-string">"_metadata"</span>: <span class="hljs-string">"do"</span>
}
==================================================

==================================================
ğŸ’­ <span class="hljs-number">5.</span> æ€è€ƒè¿‡ç¨‹:
<span class="hljs-comment">--------------------------------------------------</span>
å¤ªå¥½äº†ï¼æœç´¢ç»“æœå·²ç»æ˜¾ç¤ºå‡ºæ¥äº†ã€‚æˆ‘å¯ä»¥çœ‹åˆ°é™„è¿‘ç«é”…çš„æœç´¢ç»“æœï¼ŒåŒ…æ‹¬ï¼š

<span class="hljs-number">1.</span> è®¸åºœç‰›ç«é”…(åˆè‚¥æ‚¦æ–¹åº—) - è¯„åˆ†<span class="hljs-number">4.3</span>ï¼Œ<span class="hljs-number">963</span>æ¡è¯„è®ºï¼ŒÂ¥<span class="hljs-number">50</span>/äººï¼Œè·ç¦»<span class="hljs-number">1.9</span>km
<span class="hljs-number">2.</span> <span class="hljs-number">2014</span>æµ·é²œçƒ§çƒ¤Â·æ¶®ç¾Šè‚‰Â·ç¾Šèå­... - è¯„åˆ†<span class="hljs-number">4.9</span>ï¼Œ<span class="hljs-number">572</span>æ¡è¯„è®ºï¼ŒÂ¥<span class="hljs-number">78</span>/äººï¼Œè·ç¦»<span class="hljs-number">2.4</span>km
<span class="hljs-number">3.</span> æµªé‡Œå¯»Â·è‡»ç‰›å…»ç”Ÿç‰›è‚‰ç«... - è¯„åˆ†<span class="hljs-number">5.0</span>ï¼Œ<span class="hljs-number">4.9</span>ä¸‡æ¡è¯„è®ºï¼ŒÂ¥<span class="hljs-number">63</span>/äººï¼Œè·ç¦»<span class="hljs-number">3.4</span>km

é¡µé¢æ˜¾ç¤ºäº†å¤šä¸ªç­›é€‰é€‰é¡¹ï¼šå…¨éƒ¨ã€å¤–å–ã€å›¢è´­ã€åœ°ç‚¹ã€ç¬”è®°ç­‰ã€‚å½“å‰æ˜¾ç¤ºçš„æ˜¯<span class="hljs-string">"å…¨éƒ¨"</span>é€‰é¡¹å¡ã€‚

ä»»åŠ¡å·²ç»å®Œæˆï¼Œæˆ‘æˆåŠŸåœ¨ç¾å›¢æœç´¢äº†é™„è¿‘çš„ç«é”…åº—ï¼Œå¹¶æ˜¾ç¤ºäº†æœç´¢ç»“æœã€‚
<span class="hljs-comment">--------------------------------------------------</span>
ğŸ¯ æ‰§è¡ŒåŠ¨ä½œ:
{
  <span class="hljs-string">"_metadata"</span>: <span class="hljs-string">"finish"</span>,
  <span class="hljs-string">"message"</span>: <span class="hljs-string">"ä»»åŠ¡å®Œæˆï¼æˆ‘å·²ç»æˆåŠŸåœ¨ç¾å›¢æœç´¢äº†é™„è¿‘çš„ç«é”…åº—ã€‚æœç´¢ç»“æœæ˜¾ç¤ºäº†å¤šå®¶é™„è¿‘çš„ç«é”…åº—ï¼ŒåŒ…æ‹¬ï¼š\n\n1. **è®¸åºœç‰›ç«é”…(åˆè‚¥æ‚¦æ–¹åº—)** - è¯„åˆ†4.3åˆ†ï¼Œ963æ¡è¯„è®ºï¼Œäººå‡Â¥50ï¼Œè·ç¦»1.9km\n2. **2014æµ·é²œçƒ§çƒ¤Â·æ¶®ç¾Šè‚‰Â·ç¾Šèå­** - è¯„åˆ†4.9åˆ†ï¼Œ572æ¡è¯„è®ºï¼Œäººå‡Â¥78ï¼Œè·ç¦»2.4km  \n3. **æµªé‡Œå¯»Â·è‡»ç‰›å…»ç”Ÿç‰›è‚‰ç«** - è¯„åˆ†5.0åˆ†ï¼Œ4.9ä¸‡æ¡è¯„è®ºï¼Œäººå‡Â¥63ï¼Œè·ç¦»3.4km\n\né¡µé¢è¿˜æä¾›äº†å¤šç§ç­›é€‰é€‰é¡¹ï¼ˆå…¨éƒ¨ã€å¤–å–ã€å›¢è´­ã€åœ°ç‚¹ç­‰ï¼‰ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„ç­›é€‰æ¡ä»¶æ¥æŸ¥çœ‹æ›´å¤šç«é”…åº— ä¿¡æ¯ã€‚"</span>
}
==================================================

</code></pre>
<h2 data-id="heading-9">5. æ€»ç»“ä¸æ€è€ƒ</h2>
<ul>
<li>(1) Phone Agentæ€»ä½“çš„æ€æƒ³æ˜¯ï¼šåŸºäºç”¨æˆ·çš„è¾“å…¥ï¼Œä»¥åŠæ¯ä¸€æ­¥æ‰‹æœºçš„æˆªå±ï¼Œè®©æ¨¡å‹åˆ¤æ–­å½“å‰æ‰€å¤„ä»»åŠ¡çš„ç¯èŠ‚ï¼Œä»¥åŠä¸‹ä¸€æ­¥çš„æ‰§è¡ŒåŠ¨ä½œã€‚</li>
<li>(2) æ‰€æœ‰çš„æ‰§è¡Œç¯èŠ‚å‡ç”±adbæ“ä½œç›¸åº”æŒ‡ä»¤ï¼ŒåŒ…æ‹¬å¯åŠ¨appã€å•å‡»ã€åŒå‡»ã€æ»‘åŠ¨ã€åé€€ã€æ–‡æœ¬è¾“å…¥ç­‰ã€‚</li>
<li>(3) ä½œä¸ºå­¦ä¹ å‚è€ƒé¡¹ç›®ï¼Œæ•´ä½“çš„äº¤äº’æµç¨‹è¿˜æ˜¯ç›¸å¯¹å†—ä½™çš„ï¼Œç®€å•çš„4æ­¥æ“ä½œï¼Œæ¨¡å‹æ¯æ¬¡éƒ½éœ€è¦åˆ†æåˆ¤æ–­ï¼Œå› æ­¤è€—æ—¶å¾ˆé•¿ã€‚</li>
<li>(4) å¦‚æœæœ‰æ–°appéœ€è¦é«˜æ•ˆåœ°è‡ªåŠ¨æ‰§è¡Œï¼Œè¯¥å¦‚ä½•ä¿éšœæ¨¡å‹çš„è¯†åˆ«å‡†ç¡®ç‡ï¼Ÿ</li>
</ul>
<h2 data-id="heading-10">6. å‚è€ƒ</h2>
<ul>
<li>(1) é¡¹ç›®åœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzai-org%2FOpen-AutoGLM" target="_blank" title="https://github.com/zai-org/Open-AutoGLM" ref="nofollow noopener noreferrer">github.com/zai-org/Opeâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Native æ ·å¼ç³»ç»Ÿè¯¦è§£ï¼šä¸ Web CSS çš„â€œä¼¼æ˜¯è€Œéâ€]]></title>    <link>https://juejin.cn/post/7581760987763703859</link>    <guid>https://juejin.cn/post/7581760987763703859</guid>    <pubDate>2025-12-10T06:14:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581760987763703859" data-draft-id="7581772744376516654" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Native æ ·å¼ç³»ç»Ÿè¯¦è§£ï¼šä¸ Web CSS çš„â€œä¼¼æ˜¯è€Œéâ€"/> <meta itemprop="keywords" content="å‰ç«¯,React Native"/> <meta itemprop="datePublished" content="2025-12-10T06:14:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Native æ ·å¼ç³»ç»Ÿè¯¦è§£ï¼šä¸ Web CSS çš„â€œä¼¼æ˜¯è€Œéâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T06:14:48.000Z" title="Wed Dec 10 2025 06:14:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    21
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šä» Web è½¬æˆ˜ React Native çš„å¼€å‘è€…æœ€å…ˆé—®çš„é—®é¢˜é€šå¸¸æ˜¯ï¼šâ€œæˆ‘èƒ½ç›´æ¥æŠŠ CSS æ–‡ä»¶å¤åˆ¶è¿›å»å—ï¼Ÿâ€</p>
<p>ç­”æ¡ˆæ˜¯<strong>ä¸èƒ½</strong>ã€‚è™½ç„¶ React Native çš„æ ·å¼ç³»ç»Ÿåœ¨å‘½åå’Œè¡Œä¸ºä¸ŠæåŠ›æ¨¡ä»¿ CSSï¼Œä½†å®ƒæœ¬è´¨ä¸Šæ˜¯<strong>JavaScript å¯¹è±¡</strong>ï¼Œè¿è¡Œæœºåˆ¶ä¹Ÿå®Œå…¨ä¸åŒã€‚ä»¥ä¸‹æ˜¯å…³äºè¿™ä¸¤è€…å·®å¼‚çš„å®Œæ•´æŠ€æœ¯æ€»ç»“ã€‚</p>
<h2 data-id="heading-0">1. æ ¸å¿ƒè¯­æ³•ï¼šä» Kebab-case åˆ° CamelCase</h2>
<p>åœ¨ Web ä¸­ï¼ŒCSS æ˜¯æ–‡æœ¬ï¼›åœ¨ RN ä¸­ï¼Œæ ·å¼æ˜¯ä»£ç ï¼ˆå¯¹è±¡ï¼‰ã€‚ç”±äº JavaScript å¯¹è±¡çš„å±æ€§åä¸èƒ½åŒ…å«è¿å­—ç¬¦ï¼ˆ<code>-</code>ï¼‰ï¼Œæ‰€æœ‰ CSS å±æ€§éƒ½å¿…é¡»è½¬æ¢ä¸º <strong>å°é©¼å³°å‘½åæ³• (camelCase)</strong> ã€‚</p>






























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Web CSS</strong></th><th><strong>React Native Style</strong></th></tr></thead><tbody><tr><td><strong>èƒŒæ™¯è‰²</strong></td><td><code>background-color: red;</code></td><td><code>backgroundColor: 'red'</code></td></tr><tr><td><strong>å­—ä½“å¤§å°</strong></td><td><code>font-size: 16px;</code></td><td><code>fontSize: 16</code> (æ³¨æ„æ˜¯æ•°å­—)</td></tr><tr><td><strong>å¤–è¾¹è·</strong></td><td><code>margin-top: 20px;</code></td><td><code>marginTop: 20</code></td></tr><tr><td><strong>å¤åˆå±æ€§</strong></td><td><code>border: 1px solid red;</code></td><td><strong>ä¸æ”¯æŒ</strong>ã€‚å¿…é¡»æ‹†åˆ†ä¸º <code>borderWidth</code>, <code>borderColor</code>, <code>borderStyle</code></td></tr></tbody></table>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆè¿™æ ·åšï¼Ÿ</h3>
<p>å› ä¸ºæ ·å¼æ˜¯ JS å¯¹è±¡ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åˆ©ç”¨ç¼–ç¨‹è¯­è¨€çš„æ‰€æœ‰èƒ½åŠ›ï¼šå˜é‡ã€æ¡ä»¶åˆ¤æ–­ã€å‡½æ•°è®¡ç®—ç­‰ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// React Native å…è®¸åŠ¨æ€è®¡ç®—æ ·å¼</span>
&lt;<span class="hljs-title class_">View</span> style={{
  <span class="hljs-attr">backgroundColor</span>: isActive ? <span class="hljs-string">'blue'</span> : <span class="hljs-string">'gray'</span>, <span class="hljs-comment">// æ¡ä»¶æ ·å¼</span>
  <span class="hljs-attr">width</span>: windowWidth * <span class="hljs-number">0.5</span> <span class="hljs-comment">// åŠ¨æ€è®¡ç®—</span>
}} /&gt;
</code></pre>
<h2 data-id="heading-2">2. ç»§æ‰¿ä¸å±‚å ï¼šæ•°ç»„è¦†ç›–æ³•</h2>
<p>Web CSS çš„å…¨ç§°æ˜¯â€œå±‚å æ ·å¼è¡¨â€ï¼ˆCascading Style Sheetsï¼‰ï¼Œä¾èµ–é€‰æ‹©å™¨æƒé‡ï¼ˆSpecificityï¼‰æ¥å†³å®šè°ç”Ÿæ•ˆã€‚</p>
<p>React Native æ²¡æœ‰é€‰æ‹©å™¨ï¼ˆæ²¡æœ‰ .class æˆ– #idï¼‰ï¼Œä¹Ÿæ²¡æœ‰éšå¼çš„æ ·å¼ç»§æ‰¿ï¼ˆå­å…ƒç´ ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿çˆ¶å…ƒç´ çš„å­—ä½“é¢œè‰²ï¼‰ã€‚</p>
<p>RN çš„â€œå±‚å â€é€šè¿‡æ•°ç»„å®ç°ï¼š</p>
<p>RN å…è®¸ä½ ç»™ style å±æ€§ä¼ é€’ä¸€ä¸ªæ•°ç»„ã€‚æ•°ç»„ä¸­è¶Šé åçš„æ ·å¼ä¼˜å…ˆçº§è¶Šé«˜ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> styles = {
  <span class="hljs-attr">base</span>: { <span class="hljs-attr">fontSize</span>: <span class="hljs-number">14</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'black'</span> },
  <span class="hljs-attr">active</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">'blue'</span> } <span class="hljs-comment">// æ¿€æ´»çŠ¶æ€è¦†ç›–é¢œè‰²</span>
};

<span class="hljs-comment">// æ•°ç»„æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼Œæœ€ç»ˆé¢œè‰²ä¸º blue</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.base,</span> <span class="hljs-attr">styles.active</span>]}&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
</code></pre>
<p>è¿™ç§æ–¹å¼è®©æ ·å¼è¦†ç›–å˜å¾—<strong>æ˜¾å¼ä¸”å¯é¢„æµ‹</strong>ï¼Œå½»åº•æ¶ˆé™¤äº† Web å¼€å‘ä¸­â€œä¸çŸ¥é“è¿™ä¸ªæ ·å¼æ˜¯ä»å“ªé‡Œç»§æ‰¿æ¥çš„â€ç—›è‹¦ã€‚</p>
<h2 data-id="heading-3">3. å¸ƒå±€ç³»ç»Ÿï¼šFlexbox æ˜¯å”¯ä¸€çœŸç†</h2>
<p>React Native ç§»é™¤äº† Web ä¸­å¤æ‚çš„ <code>float</code>, <code>display: block/inline</code>, <code>grid</code> ç­‰å¸ƒå±€æ–¹å¼ï¼Œ<strong>åªä¿ç•™å¹¶å¼ºåˆ¶ä½¿ç”¨ Flexbox</strong>ã€‚</p>
<p>ä½†æœ‰ä¸€ä¸ªå·¨å¤§çš„é™·é˜±éœ€è¦æ³¨æ„ï¼š<strong>é»˜è®¤ä¸»è½´æ–¹å‘ä¸åŒ</strong>ã€‚</p>
<ul>
<li>
<p><strong>Web Flexbox:</strong> é»˜è®¤ <code>flex-direction: row</code> (æ¨ªå‘æ’åˆ—)ã€‚</p>
</li>
<li>
<p><strong>RN Flexbox:</strong> é»˜è®¤ <code>flexDirection: 'column'</code> (çºµå‘æ’åˆ—)ã€‚</p>
<ul>
<li><em>åŸå› ï¼š</em> æ‰‹æœºå±å¹•æ˜¯çª„é•¿çš„ï¼Œå‚ç›´æ»šåŠ¨æ˜¯ç§»åŠ¨ç«¯çš„é»˜è®¤äº¤äº’æ¨¡å¼ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-4">4. å°ºå¯¸ä¸å•ä½ï¼šæ²¡æœ‰ <code>px</code>ï¼Œåªæœ‰é€»è¾‘ç‚¹</h2>
<p>åœ¨ Web ä¸Šï¼Œæˆ‘ä»¬çº ç»“äº px, em, rem, vw, vhã€‚</p>
<p>åœ¨ RN ä¸Šï¼Œå‡ ä¹æ‰€æœ‰å°ºå¯¸å±æ€§ï¼ˆwidth, height, margin, padding, fontSizeï¼‰éƒ½åªæ¥å—ä¸å¸¦å•ä½çš„æ•°å­—ã€‚</p>
<ul>
<li>
<p><strong>å«ä¹‰ï¼š</strong> è¿™äº›æ•°å­—ä»£è¡¨ <strong>é€»è¾‘åƒç´  (Logical Pixels / Points)</strong> ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨é€‚é…ï¼š</strong> RN ä¼šæ ¹æ®è®¾å¤‡çš„å±å¹•å¯†åº¦ï¼ˆDPI/PixelRatioï¼‰è‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºå±å¹•ä¸Šçš„ç‰©ç†åƒç´ ã€‚</p>
<ul>
<li>å†™ <code>width: 100</code>ï¼Œåœ¨æ™®é€šå±æ˜¯ 100pxï¼Œåœ¨ Retina å±å¯èƒ½æ˜¯ 200px æˆ– 300pxã€‚</li>
<li><em>ä¾‹å¤–ï¼š</em> ä¹Ÿå¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”å­—ç¬¦ä¸²ï¼Œå¦‚ <code>width: '50%'</code>ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">5. å¸¸è§ç—›ç‚¹ä¸å·²çŸ¥é™åˆ¶ (Known Issues)</h2>
<p>æ ¹æ®ä½ æä¾›çš„æ–‡æ¡£ç‰‡æ®µï¼ŒRN å¹¶ä¸æ˜¯å®Œç¾å¤åˆ»äº† CSS å¼•æ“ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªè‘—åçš„â€œå‘â€ï¼š</p>
<h3 data-id="heading-6">A. è§¦æ‘¸åŒºåŸŸä¸çˆ¶çº§è¾¹ç•Œ (Parent Bounds)</h3>
<ul>
<li>
<p><strong>Web:</strong> å­å…ƒç´ è®¾ä¸º <code>absolute</code> å¹¶ç§»å‡ºçˆ¶å…ƒç´ æ¡†å¤–ï¼Œé€šå¸¸ä¾ç„¶å¯è§ä¸”å¯ç‚¹å‡»ã€‚</p>
</li>
<li>
<p><strong>RN (Android):</strong> å­å…ƒç´ çš„<strong>è§¦æ‘¸äº‹ä»¶</strong>æ— æ³•è¶…å‡ºçˆ¶ç»„ä»¶çš„è¾¹ç•Œã€‚å¦‚æœä½ æŠŠæŒ‰é’®ç”¨ <code>position: absolute</code> ç§»åˆ°äº†çˆ¶ View çš„å¤–é¢ï¼Œä½ çœ‹ç€å®ƒåœ¨é‚£é‡Œï¼Œä½†ç‚¹å®ƒæ²¡ååº”ã€‚</p>
<ul>
<li><em>æ³¨ï¼š</em> è§†è§‰ä¸Šï¼ŒAndroid é»˜è®¤ <code>overflow: hidden</code> è¡Œä¸ºè¾ƒå¼ºï¼Œè™½æ–°ç‰ˆæœ¬æœ‰æ”¹å–„ï¼Œä½†ç‚¹å‡»åˆ¤å®šä¾ç„¶ä¸¥æ ¼éµå¾ªçˆ¶çº§åŒºåŸŸã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">B. è´Ÿè¾¹è· (Negative Margins)</h3>
<ul>
<li><strong>Web:</strong> <code>margin-top: -50px</code> æ˜¯å¸¸ç”¨çš„é‡å å¸ƒå±€æŠ€å·§ã€‚</li>
<li><strong>RN:</strong> æ–‡æ¡£æ˜ç¡®æåˆ° <em>"on Android negative margin is not supported"</em> ï¼ˆæˆ–æ”¯æŒå—é™ï¼‰ã€‚è™½ç„¶ç°ä»£ RN ç‰ˆæœ¬å¯¹è´Ÿ margin çš„æ”¯æŒå·²ç»å¥½è½¬ï¼Œä½†åœ¨æŸäº›å¤æ‚åµŒå¥—æˆ–æ—§ç‰ˆæœ¬ Android ä¸Šï¼Œå®ƒä¾ç„¶ä¼šå¯¼è‡´å¸ƒå±€å¡Œé™·æˆ–è£å‰ªã€‚</li>
</ul>
<h3 data-id="heading-8">C. åœ†è§’ä¸å›¾ç‰‡ (Border Radius)</h3>
<p>å¦‚å‰æ–‡æ‰€è¿°ï¼ŒiOS çš„ <code>&lt;Image&gt;</code> ç»„ä»¶å¯¹ <code>borderTopLeftRadius</code> ç­‰<strong>å•ç‹¬</strong>åœ†è§’å±æ€§æ”¯æŒä¸ä½³ã€‚å¿…é¡»é€šè¿‡åŒ…è£¹ä¸€ä¸ª <code>&lt;View&gt;</code> å¹¶è®¾ç½® <code>overflow: 'hidden'</code> æ¥å®ç°å¼‚å½¢å›¾ç‰‡ã€‚</p>
<h3 data-id="heading-9">D. é˜´å½± (Shadows)</h3>
<p>è¿™æ˜¯æœ€åˆ†è£‚çš„åœ°æ–¹ï¼š</p>
<ul>
<li><strong>iOS:</strong> ä½¿ç”¨ <code>shadowColor</code>, <code>shadowOffset</code>, <code>shadowOpacity</code> (ç±»ä¼¼ CSS)ã€‚</li>
<li><strong>Android:</strong> å¿…é¡»ä½¿ç”¨ <code>elevation</code> (ä¸€ä¸ªæ•°å­—ï¼Œå¯¹åº” Material Design çš„å±‚çº§é«˜åº¦)ã€‚ä¸ºäº†è·¨å¹³å°ï¼Œé€šå¸¸éœ€è¦æ ¹æ®å¹³å°å†™ä¸¤å¥—ä»£ç ã€‚</li>
</ul>
<h2 data-id="heading-10">6. æœ€ä½³å®è·µï¼šStyleSheet.create</h2>
<p>è™½ç„¶ä½ å¯ä»¥ç›´æ¥å†™å†…è”æ ·å¼å¯¹è±¡ <code>style={{color: 'red'}}</code>ï¼Œä½†å®˜æ–¹æ¨èä½¿ç”¨ <code>StyleSheet.create</code>ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">StyleSheet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#fff'</span>,
  },
});
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ol>
<li><strong>æ€§èƒ½ï¼š</strong> ç³»ç»Ÿå¯ä»¥å°†è¿™äº›æ ·å¼å¯¹è±¡ ID åŒ–å¹¶ç¼“å­˜ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“ç»„ä»¶æ—¶éƒ½é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</li>
<li><strong>éªŒè¯ï¼š</strong> å®ƒä¼šåœ¨å¼€å‘é˜¶æ®µæ£€æŸ¥ä½ çš„å±æ€§åæ˜¯å¦åˆæ³•ï¼ˆæ¯”å¦‚å¦‚æœä½ å†™äº† <code>background-color</code>ï¼Œå®ƒä¼šç›´æ¥æŠ¥é”™æé†’ä½ æ”¹æˆ <code>backgroundColor</code>ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>å½“ä½ å¼€å§‹åœ¨ React Native ä¸­å†™æ ·å¼æ—¶ï¼Œè¯·è®°ä½ï¼š</p>
<ol>
<li>âŒ ä¸è¦ç”¨ Kebab-case (<code>font-size</code>)ï¼Œè¦ç”¨ <strong>CamelCase</strong> (<code>fontSize</code>)ã€‚</li>
<li>âŒ ä¸è¦åŠ  <code>px</code> å•ä½ï¼Œç›´æ¥å†™<strong>æ•°å­—</strong>ã€‚</li>
<li>âŒ ä¸è¦æŒ‡æœ›æ ·å¼è‡ªåŠ¨ç»§æ‰¿ï¼ˆText ç»„ä»¶å†…çš„åµŒå¥—é™¤å¤–ï¼‰ã€‚</li>
<li>âš ï¸ é»˜è®¤å¸ƒå±€æ˜¯ <strong>çºµå‘ (Column)</strong> çš„ã€‚</li>
<li>âš ï¸ æ‰€æœ‰çš„è¾¹æ¡†ã€é˜´å½±ã€åœ†è§’ï¼Œåœ¨ iOS å’Œ Android ä¸Šå¯èƒ½è¡¨ç°ä¸ä¸€è‡´ï¼Œå¤šçœŸæœºæµ‹è¯•ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ•³ï¸ React é¿å‘æŒ‡å—ï¼š"é—­åŒ…é™·é˜±"]]></title>    <link>https://juejin.cn/post/7582401182934188047</link>    <guid>https://juejin.cn/post/7582401182934188047</guid>    <pubDate>2025-12-11T10:19:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582401182934188047" data-draft-id="7582401182934171663" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ•³ï¸ React é¿å‘æŒ‡å—ï¼š&quot;é—­åŒ…é™·é˜±&quot;"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2025-12-11T10:19:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªçˆ±åƒç³–çš„å°ç¾Š"/> <meta itemprop="url" content="https://juejin.cn/user/1865251025859358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ•³ï¸ React é¿å‘æŒ‡å—ï¼š"é—­åŒ…é™·é˜±"
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1865251025859358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªçˆ±åƒç³–çš„å°ç¾Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T10:19:54.000Z" title="Thu Dec 11 2025 10:19:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong>ï¼šå¦‚æœä½ æ˜¯ React æ–°æ‰‹ï¼Œæˆ–è€…åˆšä» Class ç»„ä»¶è½¬åˆ° Hooksï¼Œè¿™ç¯‡æ–‡ç« æˆ–è®¸å¯ä»¥å¸®ä½ çœä¸‹å‡ æ ¹å¤´å‘ã€‚</p>
</blockquote>
<blockquote>
<p>å¹¿å‘Šæ¤å…¥ï¼šæ¬¢è¿è®¿é—®æˆ‘çš„ä¸ªäººç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhixiaohezi.com" target="_blank" title="https://hixiaohezi.com" ref="nofollow noopener noreferrer">hixiaohezi.com</a></p>
</blockquote>
<hr/>
<h2 data-id="heading-0">æ¡ˆå‘ç°åœº</h2>
<p>äº‹æƒ…å‘ç”Ÿåœ¨ä¸¤å¹´å‰çš„ä¸€ä¸ªå‘¨äº”ä¸‹åˆï¼ˆæ˜¯çš„ï¼Œå¢¨è²å®šå¾‹é€šè¿‡ä¸ç¼ºå¸­ï¼‰ï¼Œå½“æ—¶æˆ‘æ­£åœ¨å†™ä¸€ä¸ªæå…¶ç®€å•çš„åŠŸèƒ½ï¼š<strong>å€’è®¡æ—¶</strong>ã€‚</p>
<p>éœ€æ±‚å¾ˆç®€å•ï¼šç”¨æˆ·ç‚¹å‡»æŒ‰é’®å¼€å§‹å€’è®¡æ—¶ 60 ç§’ï¼Œæ¯ç§’æ›´æ–°é¡µé¢ä¸Šçš„æ•°å­—ï¼Œå€’è®¡æ—¶ç»“æŸåè‡ªåŠ¨é‡ç½®ã€‚</p>
<p>ä½œä¸ºä¸€åè€èœé¸Ÿï¼Œæˆ‘è„‘å­ä¸€æ‰”ï¼Œç›´æ¥æ•²ä¸‹äº†å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Timer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">60</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰å€’è®¡æ—¶:'</span>, count); <span class="hljs-comment">// ç”¨äºè°ƒè¯•</span>
      
      <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-title function_">setCount</span>(count - <span class="hljs-number">1</span>); <span class="hljs-comment">// é€»è¾‘å¾ˆå®Œç¾å¯¹å§ï¼Ÿ</span>
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">clearInterval</span>(timer);
      }
    }, <span class="hljs-number">1000</span>);

    <span class="hljs-comment">// æ¸…ç†å®šæ—¶å™¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
  }, []); <span class="hljs-comment">// ç©ºä¾èµ–æ•°ç»„ï¼Œå› ä¸ºæˆ‘åªæƒ³è®©å®šæ—¶å™¨å¯åŠ¨ä¸€æ¬¡</span>

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å€’è®¡æ—¶ï¼š{count} ç§’<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>æˆ‘ä¿å­˜äº†ä»£ç ï¼Œåˆ·æ–°äº†æµè§ˆå™¨ï¼Œå‡†å¤‡æäº¤ä»£ç ç„¶åä¸‹ç­è·‘è·¯ã€‚</p>
<h2 data-id="heading-1">è¯¡å¼‚çš„ç°è±¡</h2>
<p>å±å¹•ä¸Šçš„æ•°å­—ä» <code>60</code> å˜æˆäº† <code>59</code>ã€‚
ç„¶å... å°±å®šæ ¼åœ¨äº† <code>59</code>ã€‚</p>
<p>ä½†æˆ‘æ‰“å¼€æ§åˆ¶å°ä¸€çœ‹ï¼Œæ§åˆ¶å°åœ¨ç–¯ç‹‚è¾“å‡ºï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">å½“å‰å€’è®¡æ—¶: 60</span>
<span class="hljs-section">å½“å‰å€’è®¡æ—¶: 60</span>
<span class="hljs-section">å½“å‰å€’è®¡æ—¶: 60</span>
...
</code></pre>
<p><strong>What???</strong></p>
<p>æˆ‘çš„ <code>count</code> å·²ç»å˜æˆ <code>59</code> äº†å•Šï¼ˆé¡µé¢éƒ½å˜äº†ï¼‰ï¼Œä¸ºä»€ä¹ˆ <code>setInterval</code> æ‰“å°å‡ºæ¥çš„è¿˜æ˜¯ <code>60</code>ï¼Ÿä¸ºä»€ä¹ˆå®ƒä¸€ç›´åœ¨é‡å¤ <code>60 - 1 = 59</code> è¿™ä¸ªåŠ¨ä½œï¼Œå´å†ä¹Ÿä¸‹ä¸å»äº†ï¼Ÿ</p>
<p>æˆ‘å½“æ—¶çš„ç¬¬ä¸€ååº”æ˜¯ï¼š</p>
<ol>
<li>React åäº†ï¼Ÿ</li>
<li>æµè§ˆå™¨åäº†ï¼Ÿ</li>
<li>å®‡å®™å°„çº¿å¹²æ‰°äº† CPUï¼Ÿ</li>
</ol>
<p>å”¯ç‹¬æ²¡æƒ³è¿‡æ˜¯è‡ªå·±èœã€‚</p>
<h2 data-id="heading-2">ç ´æ¡ˆï¼šè¯¥æ­»çš„"é—­åŒ…"</h2>
<p>åœ¨å¯¹ç€å±å¹•å‘å‘†äº† n åˆ†é’Ÿï¼ŒæŸ¥é˜…äº†æ— æ•° StackOverflow ä¹‹åï¼Œæˆ‘ç»ˆäºæ˜ç™½äº†çœŸç›¸ã€‚</p>
<p>è¿™ä¸ªå‘çš„åå­—å«ï¼š<strong>Stale Closure (é™ˆæ—§é—­åŒ… / åƒµå°¸é—­åŒ…)</strong>ã€‚</p>
<p>ç®€å•ç”¨äººè¯è§£é‡Šä¸€ä¸‹ï¼š</p>
<p>å½“ä½ å†™ä¸‹ <code>useEffect(..., [])</code> ä¸”ä¾èµ–æ•°ç»„ä¸ºç©ºæ—¶ï¼Œè¿™ä¸ª Effect <strong>åªä¼šåœ¨ç»„ä»¶æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡</strong>ã€‚
è¿™æ—¶å€™ï¼Œ<code>setInterval</code> è¢«åˆ›å»ºäº†ã€‚å®ƒæ•è·äº†<strong>å½“æ—¶</strong>ç¯å¢ƒä¸‹çš„ <code>count</code> å˜é‡ã€‚
<strong>å½“æ—¶</strong>ï¼Œ<code>count</code> æ˜¯ 60ã€‚</p>
<p>æ— è®ºç»„ä»¶åæ¥é‡æ–°æ¸²æŸ“äº†å¤šå°‘æ¬¡ï¼Œæ— è®ºé¡µé¢ä¸Šçš„ <code>count</code> å˜æˆäº† 59ã€58 è¿˜æ˜¯ 0ï¼Œ<strong>å®šæ—¶å™¨é‡Œçš„é‚£ä¸ªå›è°ƒå‡½æ•°ï¼Œä¾ç„¶æ˜¯ç¬¬ä¸€æ¬¡åˆ›å»ºæ—¶çš„é‚£ä¸ªå‡½æ•°</strong>ã€‚
åœ¨é‚£ä¸ªå‡½æ•°"å†»ç»“"çš„è®°å¿†é‡Œï¼Œ<code>count</code> æ°¸è¿œæ˜¯ 60ã€‚</p>
<p>æ‰€ä»¥å®ƒæ¯ä¸€ç§’éƒ½åœ¨åšåŒä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p>"å™¢ï¼Œç°åœ¨ count æ˜¯ 60ï¼Œæˆ‘è¦æŠŠå®ƒå˜æˆ 59ã€‚"</p>
</blockquote>
<p>åƒä¸åƒä¸€æ¡åªæœ‰ 7 ç§’è®°å¿†çš„é±¼ï¼Ÿ</p>
<h2 data-id="heading-3">è§£å†³æ–¹æ¡ˆ</h2>
<p>æ‰¾åˆ°äº†åŸå› ï¼Œè§£å†³å°±å¾ˆç®€å•äº†ã€‚è¿™é‡Œæä¾›ä¸¤ç§æ–¹æ¡ˆï¼Œä½†æˆ‘å¼ºçƒˆæ¨èç¬¬ä¸€ç§ã€‚</p>
<h3 data-id="heading-4">æ–¹æ¡ˆä¸€ï¼šå‡½æ•°å¼æ›´æ–° (æ¨è âœ…)</h3>
<p>è¿™æ˜¯æœ€ä¼˜é›…çš„è§£æ³•ï¼Œä¸éœ€è¦é‡ç½®å®šæ—¶å™¨ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// é‡ç‚¹åœ¨è¿™é‡Œï¼ï¼ï¼</span>
    <span class="hljs-comment">// prevCount æ˜¯ React ä¼ è¿›æ¥çš„æœ€æ–°å€¼ï¼Œä¸ä¾èµ–å¤–éƒ¨é—­åŒ…</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">prevCount</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (prevCount &lt;= <span class="hljs-number">1</span>) {
        <span class="hljs-built_in">clearInterval</span>(timer);
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
      }
      <span class="hljs-keyword">return</span> prevCount - <span class="hljs-number">1</span>;
    });
  }, <span class="hljs-number">1000</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
}, []); <span class="hljs-comment">// ä¾ç„¶å¯ä»¥æ˜¯ç©ºæ•°ç»„</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</strong>ï¼šå› ä¸º <code>setState</code> å¦‚æœæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼ŒReact ä¼šä¿è¯æŠŠ<strong>æœ€æ–°çš„</strong>çŠ¶æ€å€¼ä¼ ç»™ä½ ã€‚ä½ ä¸éœ€è¦è¯»å–å¤–éƒ¨çš„ <code>count</code> å˜é‡ï¼Œä»è€Œç»•è¿‡äº†é—­åŒ…é™·é˜±ã€‚</p>
<h3 data-id="heading-5">æ–¹æ¡ˆäºŒï¼šuseRef å¤§æ³• (ä¸‡èƒ½ âœ…)</h3>
<p>å¦‚æœä½ ä¸ä»…è¦æ›´æ–°çŠ¶æ€ï¼Œè¿˜è¦åœ¨å®šæ—¶å™¨é‡Œ<strong>è¯»å–</strong>æœ€æ–°çš„ <code>props</code> æˆ–å…¶ä»–çŠ¶æ€åšåˆ¤æ–­ï¼Œ<code>useRef</code> æ˜¯æ•‘å‘½ç¨»è‰ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> countRef = <span class="hljs-title function_">useRef</span>(count);

<span class="hljs-comment">// æ¯æ¬¡æ¸²æŸ“éƒ½æ›´æ–° ref.current</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  countRef.<span class="hljs-property">current</span> = count;
}, [count]);

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ref.current æ°¸è¿œæ˜¯æœ€æ–°çš„ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¼•ç”¨å¯¹è±¡</span>
    <span class="hljs-keyword">if</span> (countRef.<span class="hljs-property">current</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// do something...</span>
    }
  }, <span class="hljs-number">1000</span>);
}, []);
</code></pre>
<hr/>
<p>å¦‚æœè¿™ä¸ªå‘ä½ ä¹Ÿè¸©è¿‡ï¼Œæ¡ä¸ªçˆªã€‚</p>
<p>æœ€åï¼Œå†åŠ ä¸ªå¹¿å‘Šï¼Œæ¬¢è¿è®¿é—®æˆ‘çš„ä¸ªäººç½‘ç«™ï¼šğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhixiaohezi.com" target="_blank" title="https://hixiaohezi.com" ref="nofollow noopener noreferrer">hixiaohezi.com</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e48e611d33c4486b3a90c1c12910a5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q54ix5ZCD57OW55qE5bCP576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053193&amp;x-signature=ubZgzXfCAenvNT2AvDin50pc%2FTY%3D" alt="xiaohezi.com.qrcode.png" loading="lazy"/></p>
<p><em>(è¿™é‡Œæ˜¯æˆ‘çš„ä¸ªäººç½‘ç«™ï¼Œè™½ç„¶æ²¡æœ‰ Hooks é‚£ä¹ˆå¤æ‚ï¼Œä½†ç»å¯¹çœŸè¯š)</em></p>
<p><strong>ç¥å¤§å®¶çš„ä»£ç æ°¸è¿œæ²¡æœ‰ Bugï¼Œåªæœ‰ Featureï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç°ä»£C++ç³»ç»Ÿç¼–ç¨‹ä¸­ç±»å‹é‡è§£é‡Šçš„å†…å­˜å®‰å…¨èŒƒå¼]]></title>    <link>https://juejin.cn/post/7581858890608574500</link>    <guid>https://juejin.cn/post/7581858890608574500</guid>    <pubDate>2025-12-10T11:35:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581858890608574500" data-draft-id="7581876069609553963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç°ä»£C++ç³»ç»Ÿç¼–ç¨‹ä¸­ç±»å‹é‡è§£é‡Šçš„å†…å­˜å®‰å…¨èŒƒå¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-10T11:35:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç°ä»£C++ç³»ç»Ÿç¼–ç¨‹ä¸­ç±»å‹é‡è§£é‡Šçš„å†…å­˜å®‰å…¨èŒƒå¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T11:35:30.000Z" title="Wed Dec 10 2025 11:35:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åº•å±‚ç³»ç»Ÿç¼–ç¨‹é¢†åŸŸï¼ŒæŒ‡é’ˆè¿ç®—å’Œç±»å‹é‡è§£é‡Šæ˜¯æ„å»ºé«˜æ€§èƒ½ç¡¬ä»¶æ¥å£å’Œæ•°æ®å¤„ç†ç®¡é“çš„åŸºçŸ³ã€‚ç„¶è€Œï¼Œä¸€ä¸ªæ™®éå­˜åœ¨çš„ç¼–ç æ¨¡å¼â€”â€”<code>reinterpret_cast(byte_buffer[offset])</code>â€”â€”æ­ç¤ºäº†ç¨‹åºå‘˜å¯¹C++æŒ‡é’ˆè¯­ä¹‰çš„æ·±å±‚æ¬¡è¯¯è§£ã€‚æœ¬æ–‡é€šè¿‡å½¢å¼åŒ–åˆ†æè¿™ä¸€åæ¨¡å¼ï¼Œæ¢è®¨äº†åœ°å€ç©ºé—´æ“ä½œä¸å€¼è¯­ä¹‰çš„æ··æ·†ç°è±¡ï¼Œæå‡ºäº†åŸºäºç°ä»£C++ç±»å‹ç³»ç»Ÿçš„å®‰å…¨è®¿é—®èŒƒå¼ï¼Œå¹¶å»ºç«‹äº†é˜²å¾¡æ€§æŒ‡é’ˆè¿ç®—çš„å·¥ç¨‹å®è·µæ¡†æ¶ã€‚</p>
<h2 data-id="heading-0">1. ä¸€ä¸ªå·¥ä¸šçº§åæ¨¡å¼</h2>
<h3 data-id="heading-1">1.1 åæ¨¡å¼å®šä¹‰</h3>
<p>è€ƒè™‘ä»¥ä¸‹ç¡¬ä»¶æ•°æ®é‡‡é›†ç³»ç»Ÿçš„å…¸å‹ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// PCIe DMAç¼“å†²åŒºæ•°æ®æµå¤„ç†</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">SensorData</span> {
    <span class="hljs-type">float</span> real_component;
    <span class="hljs-type">float</span> imag_component;
    <span class="hljs-type">uint32_t</span> timestamp;
    <span class="hljs-type">uint16_t</span> quality_flag;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DataPipeline</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessHardwareData</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* dma_buffer, <span class="hljs-type">size_t</span> buffer_capacity)</span> </span>{
        <span class="hljs-keyword">constexpr</span> <span class="hljs-type">size_t</span> protocol_overhead = <span class="hljs-number">64</span>;  <span class="hljs-comment">// åè®®å¤´éƒ¨å¤§å°</span>
        
        <span class="hljs-comment">// åæ¨¡å¼ï¼šå±é™©çš„ç±»å‹é‡è§£é‡Š</span>
        SensorData* sensor_stream = 
            <span class="hljs-built_in">reinterpret_cast</span>(dma_buffer[protocol_overhead]);
        
        <span class="hljs-built_in">ExtractTelemetry</span>(sensor_stream);
    }
};
</code></pre>
<h3 data-id="heading-2">1.2 è¯­ä¹‰åˆ†æ</h3>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œç¨‹åºå‘˜æ„å›¾è·³è¿‡64å­—èŠ‚çš„åè®®å¤´éƒ¨ï¼Œå°†åç»­æ•°æ®è§£é‡Šä¸º<code>SensorData</code>ç»“æ„æµã€‚ç„¶è€Œï¼Œè¡¨è¾¾å¼çš„å®é™…è¯­ä¹‰æ˜¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// è¯­æ³•æ ‘åˆ†è§£</span>
dma_buffer[protocol_overhead]           <span class="hljs-comment">// 1. æ•°ç»„ä¸‹æ ‡æ“ä½œç¬¦ï¼Œè¿”å›uint8_tå€¼</span>
<span class="hljs-built_in">reinterpret_cast</span>(... )     <span class="hljs-comment">// 2. å°†8ä½æ•´æ•°å€¼å¼ºåˆ¶è½¬æ¢ä¸ºæŒ‡é’ˆ</span>

<span class="hljs-comment">// ç­‰ä»·å±•å¼€</span>
<span class="hljs-type">uint8_t</span> temporary_byte = *(dma_buffer + protocol_overhead);
SensorData* misinterpreted_ptr = <span class="hljs-built_in">reinterpret_cast</span>(
    <span class="hljs-built_in">static_cast</span>(temporary_byte)
);
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šç¨‹åºå‘˜æ‰§è¡Œçš„æ˜¯<strong>å€¼çš„ç±»å‹é‡è§£é‡Š</strong>è€Œé<strong>åœ°å€çš„ç±»å‹é‡è§£é‡Š</strong>ï¼Œè¿™è¿åäº†æŒ‡é’ˆä»£æ•°çš„åŸºæœ¬å…¬ç†ã€‚</p>
<h2 data-id="heading-3">2. ç†è®ºåŸºç¡€</h2>
<h3 data-id="heading-4">2.1 å†…å­˜å¯¹è±¡æ¨¡å‹ï¼ˆC++17 Â§6.7ï¼‰</h3>
<p>C++æ ‡å‡†å°†å­˜å‚¨åˆ†ä¸º<strong>å­—èŠ‚</strong>ï¼ˆbyteï¼‰å’Œ<strong>å¯¹è±¡</strong>ï¼ˆobjectï¼‰ä¸¤ä¸ªæŠ½è±¡å±‚æ¬¡ã€‚ç±»å‹ç³»ç»Ÿåœ¨è¿™ä¸¤ä¸ªå±‚æ¬¡é—´å»ºç«‹äº†æ˜ å°„å…³ç³»ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å†…å­˜å¸ƒå±€çš„æ•°å­¦æè¿°</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">concept</span> ByteRepresentable = <span class="hljs-keyword">requires</span> {
    <span class="hljs-built_in">sizeof</span>(T) &gt;= <span class="hljs-number">1</span>;
    <span class="hljs-built_in">alignof</span>(T) &gt;= <span class="hljs-number">1</span>;
};

<span class="hljs-comment">// å¯¹è±¡åˆ›å»ºçš„å…¬ç†</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryObject</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å…¬ç†1ï¼šå¯¹è±¡å æ®è¿ç»­çš„å­—èŠ‚åºåˆ—</span>
    <span class="hljs-built_in">static_assert</span>(is_trivially_copyable_v);
    
    <span class="hljs-comment">// å…¬ç†2ï¼šå¯¹è±¡åœ°å€ç­‰äºå…¶é¦–å­—èŠ‚åœ°å€</span>
    <span class="hljs-function"><span class="hljs-type">uint8_t</span>* <span class="hljs-title">begin_bytes</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(<span class="hljs-built_in">const_cast</span>(<span class="hljs-keyword">this</span>));
    }
    
    <span class="hljs-comment">// å…¬ç†3ï¼šç±»å‹å®‰å…¨çš„é‡è§£é‡Šå¿…é¡»åŸºäºåœ°å€è€Œéå€¼</span>
    <span class="hljs-function"><span class="hljs-keyword">template</span>
    <span class="hljs-type">static</span> U* <span class="hljs-title">ReinterpretAtAddress</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* byte_address)</span> </span>{
        <span class="hljs-comment">// æ­£ç¡®ï¼šåœ°å€è½¬æ¢</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>&lt;u&gt;(byte_address);
    }
    
    <span class="hljs-function"><span class="hljs-keyword">template</span>
    <span class="hljs-type">static</span> U* <span class="hljs-title">ReinterpretAtValue</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span> byte_value)</span> </span>{  <span class="hljs-comment">// å±é™©ï¼</span>
        <span class="hljs-comment">// é”™è¯¯ï¼šå€¼è½¬æ¢ï¼ˆè¿åå†…å­˜å®‰å…¨ï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>&lt;u&gt;(<span class="hljs-built_in">static_cast</span>(byte_value));
    }
};
</code></pre>
<h3 data-id="heading-5">2.2 æŒ‡é’ˆè¿ç®—çš„å½¢å¼è¯­ä¹‰</h3>
<p>æŒ‡é’ˆè¿ç®—åœ¨C++æ ‡å‡†ä¸­å®šä¹‰ä¸º<strong>åŸºäºç±»å‹çš„åœ°å€ç®—æœ¯</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æŒ‡é’ˆè¿ç®—çš„å½¢å¼å®šä¹‰</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FormalPointer</span> {
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">uintptr_t</span> base_address;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// å®šä¹‰ï¼šæŒ‡é’ˆåŠ æ³• â‰¡ åœ°å€åç§» + ç±»å‹å¤§å°ç¼©æ”¾</span>
    FormalPointer <span class="hljs-keyword">operator</span>+(<span class="hljs-type">ptrdiff_t</span> n) <span class="hljs-type">const</span> {
        <span class="hljs-type">uintptr_t</span> raw_offset = n * <span class="hljs-built_in">sizeof</span>(T);
        <span class="hljs-type">uintptr_t</span> new_address = base_address + raw_offset;
        
        <span class="hljs-comment">// æ»¡è¶³ï¼šp + n â‰¡ reinterpret_cast(reinterpret_cast(p) + n * sizeof(T))</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">FormalPointer</span>(new_address);
    }
    
    <span class="hljs-comment">// å…³é”®åŒºåˆ«ï¼šä¸‹æ ‡æ“ä½œç¬¦è¿”å›çš„æ˜¯å€¼ï¼Œä¸æ˜¯åœ°å€</span>
    T <span class="hljs-keyword">operator</span>[](<span class="hljs-type">ptrdiff_t</span> n) <span class="hljs-type">const</span> {
        <span class="hljs-keyword">return</span> *(<span class="hljs-keyword">this</span> + n);  <span class="hljs-comment">// è§£å¼•ç”¨æ“ä½œ</span>
    }
};
</code></pre>
<h2 data-id="heading-6">3. å·¥ç¨‹å½±å“</h2>
<h3 data-id="heading-7">3.1 å±é™©åœºæ™¯åˆ†ç±»</h3>



































<table><thead><tr><th>åœºæ™¯ç±»å‹</th><th>é”™è¯¯æ¨¡å¼</th><th>æ½œåœ¨åæœ</th><th>å‘ç”Ÿæ¦‚ç‡</th></tr></thead><tbody><tr><td><strong>ç¡¬ä»¶æ¥å£</strong></td><td><code>reinterpret_cast(mmio_base[offset])</code></td><td>æ€»çº¿é”™è¯¯ï¼Œç¡¬ä»¶é”æ­»</td><td>é«˜</td></tr><tr><td><strong>ç½‘ç»œåè®®</strong></td><td><code>reinterpret_cast(rx_buffer[header_len])</code></td><td>æ•°æ®æŸåï¼Œå®‰å…¨æ¼æ´</td><td>ä¸­</td></tr><tr><td><strong>æ–‡ä»¶æ˜ å°„</strong></td><td><code>reinterpret_cast&lt;header&gt;(file_view[magic_size])</code></td><td>æ®µé”™è¯¯ï¼Œæ–‡ä»¶æŸå</td><td>é«˜</td></tr><tr><td><strong>è·¨è¯­è¨€æ¥å£</strong></td><td><code>reinterpret_cast(c_buffer[alignment])</code></td><td>ABIä¸åŒ¹é…ï¼Œæ ˆç ´å</td><td>ä¸­</td></tr></tbody></table>
<h3 data-id="heading-8">3.2 çœŸå®æ¡ˆä¾‹åˆ†æ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ¡ˆä¾‹ï¼šåŒ»ç–—æˆåƒè®¾å¤‡å›ºä»¶æ¼æ´ï¼ˆå·²åŒ¿ååŒ–å¤„ç†ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UltrasoundImageProcessor</span> {
    <span class="hljs-comment">// å†å²æ¼æ´ä»£ç </span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessEchoData</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* pcie_payload)</span> </span>{
        <span class="hljs-comment">// é”™è¯¯ï¼šå°†FIRST_SAMPLE_OFFSETå¤„çš„å­—èŠ‚å€¼å½“ä½œæŒ‡é’ˆ</span>
        ComplexFloat* echo_samples = 
            <span class="hljs-built_in">reinterpret_cast</span>(pcie_payload[FIRST_SAMPLE_OFFSET]);
        
        <span class="hljs-comment">// å½“pcie_payload[32] = 0x80æ—¶</span>
        <span class="hljs-comment">// å®é™…è®¿é—®åœ°å€0x00000080ï¼Œå±äºå†…æ ¸ç©ºé—´</span>
        <span class="hljs-comment">// å¯¼è‡´ç‰¹æƒçº§å¼‚å¸¸ï¼Œç³»ç»Ÿå´©æºƒ</span>
    }
    
    <span class="hljs-comment">// ä¿®å¤å</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessEchoDataSafe</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* pcie_payload)</span> </span>{
        <span class="hljs-comment">// æ­£ç¡®ï¼šè®¡ç®—åç§»åœ°å€åè¿›è¡Œç±»å‹é‡è§£é‡Š</span>
        <span class="hljs-type">uint8_t</span>* samples_start = pcie_payload + FIRST_SAMPLE_OFFSET;
        ComplexFloat* echo_samples = 
            <span class="hljs-built_in">reinterpret_cast</span>(samples_start);
        
        <span class="hljs-comment">// æ·»åŠ è¾¹ç•ŒéªŒè¯</span>
        <span class="hljs-type">size_t</span> available_bytes = <span class="hljs-built_in">CalculateAvailableBytes</span>(pcie_payload);
        <span class="hljs-keyword">if</span> (samples_start + <span class="hljs-built_in">sizeof</span>(ComplexFloat) &gt; pcie_payload + available_bytes) {
            <span class="hljs-built_in">LogFault</span>(FAULT_BOUNDARY_VIOLATION);
            <span class="hljs-keyword">return</span>;
        }
    }
};
</code></pre>
<p><strong>åæœåˆ†æ</strong>ï¼šåŸå§‹æ¼æ´å¯¼è‡´è®¾å¤‡åœ¨ç‰¹å®šæ•°æ®æ¨¡å¼ä¸‹ï¼ˆæ¦‚ç‡çº¦0.4%ï¼‰å‘ç”Ÿç³»ç»Ÿçº§å´©æºƒï¼Œéœ€è¦ç°åœºå·¥ç¨‹å¸ˆé‡å¯ã€‚ä¿®å¤åå®ç°äº†é›¶æ•…éšœè¿è¡Œè¶…è¿‡18ä¸ªæœˆã€‚</p>
<h2 data-id="heading-9">4. ç±»å‹å®‰å…¨çš„è§£å†³æ–¹æ¡ˆæ¡†æ¶</h2>
<h3 data-id="heading-10">4.1 ç¼–è¯‘æ—¶éªŒè¯ç³»ç»Ÿ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ¦‚å¿µï¼šå¯å®‰å…¨é‡è§£é‡Šçš„å†…å­˜åŒºåŸŸ</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">concept</span> SafelyReinterpretable = <span class="hljs-keyword">requires</span> {
    <span class="hljs-keyword">requires</span> is_trivially_copyable_v;
    <span class="hljs-keyword">requires</span> is_trivially_copyable_v;
    <span class="hljs-keyword">requires</span> is_standard_layout_v;
    <span class="hljs-function"><span class="hljs-keyword">requires</span> <span class="hljs-title">sizeof</span><span class="hljs-params">(To)</span> &lt;</span>= <span class="hljs-built_in">sizeof</span>(From);  <span class="hljs-comment">// æˆ–æ»¡è¶³ç‰¹å®šå¯¹é½</span>
};

<span class="hljs-comment">// å®‰å…¨æŒ‡é’ˆå°è£…å™¨</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CheckedReinterpretPtr</span> {
<span class="hljs-keyword">private</span>:
    <span class="hljs-type">uint8_t</span>* base_ptr_;
    <span class="hljs-type">size_t</span> capacity_;
    
    <span class="hljs-comment">// ç¼–è¯‘æ—¶æ£€æŸ¥ï¼šé˜²æ­¢å€¼åˆ°æŒ‡é’ˆçš„é”™è¯¯è½¬æ¢</span>
    <span class="hljs-keyword">template</span>
    <span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> <span class="hljs-type">bool</span> IsValueToPointerConversion = 
        is_pointer_v&lt;u&gt; &amp;&amp; !is_pointer_v &amp;&amp; <span class="hljs-built_in">sizeof</span>(T) == <span class="hljs-number">1</span>;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">template</span>
    <span class="hljs-keyword">explicit</span> <span class="hljs-title">CheckedReinterpretPtr</span><span class="hljs-params">(ByteSource* source, <span class="hljs-type">size_t</span> capacity)</span>
        : base_ptr_(reinterpret_cast(source))
        , capacity_(capacity) {</span>
        
        <span class="hljs-built_in">static_assert</span>(!IsValueToPointerConversion,
            &amp;#<span class="hljs-number">34</span>;ERROR: Attempting value-to-pointer reinterpretation. &amp;#<span class="hljs-number">34</span>;
            &amp;#<span class="hljs-number">34</span>;Use pointer arithmetic instead.&amp;#<span class="hljs-number">34</span>;);
    }
    
    <span class="hljs-comment">// å®‰å…¨çš„åç§»è®¿é—®ï¼ˆç¼–è¯‘æ—¶+è¿è¡Œæ—¶æ£€æŸ¥ï¼‰</span>
    <span class="hljs-keyword">template</span>
    [[nodiscard]] <span class="hljs-function">Expected 
    <span class="hljs-title">OffsetAs</span><span class="hljs-params">(<span class="hljs-type">size_t</span> byte_offset)</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-comment">// ç¼–è¯‘æ—¶éªŒè¯</span>
        <span class="hljs-built_in">static_assert</span>(SafelyReinterpretable,
            &amp;#<span class="hljs-number">34</span>;Target type <span class="hljs-keyword">not</span> safely reinterpretable from bytes&amp;#<span class="hljs-number">34</span>;);
        
        <span class="hljs-comment">// è¿è¡Œæ—¶è¾¹ç•Œæ£€æŸ¥</span>
        <span class="hljs-keyword">if</span> (byte_offset + <span class="hljs-built_in">sizeof</span>(TargetType) &gt; capacity_) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">Unexpected</span>(AccessError::OutOfBounds);
        }
        
        <span class="hljs-type">uint8_t</span>* target_address = base_ptr_ + byte_offset;
        
        <span class="hljs-comment">// å¯¹é½æ£€æŸ¥ï¼ˆå¦‚æœä¸¥æ ¼è¦æ±‚ï¼‰</span>
        <span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-keyword">alignof</span>(TargetType) &gt; <span class="hljs-number">1</span>)</span> </span>{
            <span class="hljs-type">uintptr_t</span> addr = <span class="hljs-built_in">reinterpret_cast</span>(target_address);
            <span class="hljs-keyword">if</span> (addr % <span class="hljs-built_in">alignof</span>(TargetType) != <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">Unexpected</span>(AccessError::Misaligned);
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(target_address);
    }
};
</code></pre>
<h3 data-id="heading-11">4.2 å·¥ä¸šçº§æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å®è·µ1ï¼šåˆ†å±‚æŠ½è±¡æ¶æ„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HardwareDataChannel</span> {
<span class="hljs-keyword">private</span>:
    <span class="hljs-comment">// ç¬¬ä¸€å±‚ï¼šåŸå§‹å­—èŠ‚è®¿é—®ï¼ˆéš”ç¦»å±é™©æ“ä½œï¼‰</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">RawByteAccessor</span> {
        <span class="hljs-type">uint8_t</span>* <span class="hljs-type">const</span> buffer_;
        <span class="hljs-type">const</span> <span class="hljs-type">size_t</span> capacity_;
        
    <span class="hljs-keyword">public</span>:
        <span class="hljs-comment">// ä»…æä¾›å®‰å…¨çš„åŸå§‹æ“ä½œ</span>
        <span class="hljs-function">Span <span class="hljs-title">SliceBytes</span><span class="hljs-params">(<span class="hljs-type">size_t</span> offset, <span class="hljs-type">size_t</span> length)</span> <span class="hljs-type">const</span> </span>{
            <span class="hljs-keyword">if</span> (offset + length &gt; capacity_) {
                <span class="hljs-built_in">ThrowBoundaryError</span>(offset, length, capacity_);
            }
            <span class="hljs-keyword">return</span> {buffer_ + offset, length};  <span class="hljs-comment">// æ­£ç¡®ï¼šæŒ‡é’ˆç®—æœ¯</span>
        }
    };
    
    <span class="hljs-comment">// ç¬¬äºŒå±‚ï¼šç±»å‹å®‰å…¨è§†å›¾</span>
    <span class="hljs-keyword">template</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedDataView</span> {
        Span raw_span_;
        
    <span class="hljs-keyword">public</span>:
        <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">TypedDataView</span><span class="hljs-params">(Span raw)</span> : raw_span_(raw) {</span>
            <span class="hljs-built_in">ValidateLayout</span>();
        }
        
        <span class="hljs-function">DataType* <span class="hljs-title">data</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-comment">// å®‰å…¨çš„å•ç‚¹è½¬æ¢</span>
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(raw_span_.<span class="hljs-built_in">data</span>());
        }
    };
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">template</span>
    TypedDataView <span class="hljs-title">GetDataView</span><span class="hljs-params">(<span class="hljs-type">size_t</span> byte_offset)</span> </span>{
        <span class="hljs-keyword">auto</span> raw_slice = raw_accessor_.<span class="hljs-built_in">SliceBytes</span>(byte_offset, <span class="hljs-built_in">sizeof</span>(DataType));
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">TypedDataView</span>(raw_slice);
    }
};

<span class="hljs-comment">// å®è·µ2ï¼šåŸºäºç­–ç•¥çš„è®¾è®¡æ¨¡å¼</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PolicyBasedReinterpreter</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">template</span>
    <span class="hljs-type">static</span> TargetType* <span class="hljs-title">Reinterpret</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* source, <span class="hljs-type">size_t</span> offset)</span> </span>{
        <span class="hljs-comment">// ç­–ç•¥é©±åŠ¨çš„å®‰å…¨æ£€æŸ¥</span>
        <span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(SafetyPolicy::requires_bounds_check)</span> </span>{
            SafetyPolicy::<span class="hljs-built_in">ValidateBounds</span>(source, offset, <span class="hljs-built_in">sizeof</span>(TargetType));
        }
        
        <span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(SafetyPolicy::requires_alignment_check)</span> </span>{
            SafetyPolicy::<span class="hljs-built_in">ValidateAlignment</span>(source + offset);
        }
        
        <span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(SafetyPolicy::requires_type_safety)</span> </span>{
            SafetyPolicy::<span class="hljs-built_in">ValidateTypeCompatibility</span>();
        }
        
        <span class="hljs-comment">// å®‰å…¨çš„æ ¸å¿ƒè½¬æ¢</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(source + offset);
    }
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šåŒ»ç–—è®¾å¤‡çš„é«˜å®‰å…¨æ€§ç­–ç•¥</span>
<span class="hljs-keyword">using</span> MedicalImagingPolicy = SafetyPolicy&lt;
    bounds_check = Strict,
    alignment_check = Strict,
    type_safety = Strict,
    logging = Detailed
&gt;;

<span class="hljs-keyword">auto</span> image_data = PolicyBasedReinterpreter::
    <span class="hljs-built_in">Reinterpret</span>(dma_buffer, FRAME_HEADER_SIZE);
</code></pre>
<h2 data-id="heading-12">5. éªŒè¯ä¸æµ‹è¯•æ–¹æ³•è®º</h2>
<h3 data-id="heading-13">5.1 é™æ€åˆ†æè§„åˆ™</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Clang-Tidyè‡ªå®šä¹‰æ£€æŸ¥è§„åˆ™</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ValueToPointerConversionCheck</span> : <span class="hljs-keyword">public</span> ClangTidyCheck {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">registerMatchers</span><span class="hljs-params">(MatchFinder* Finder)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-comment">// åŒ¹é…æ¨¡å¼ï¼šreinterpret_cast(buffer[index])</span>
        Finder-&gt;<span class="hljs-built_in">addMatcher</span>(
            <span class="hljs-built_in">reinterpretCastExpr</span>(
                <span class="hljs-built_in">hasSourceExpression</span>(
                    <span class="hljs-built_in">arraySubscriptExpr</span>(
                        <span class="hljs-built_in">hasBase</span>(<span class="hljs-built_in">expr</span>().<span class="hljs-built_in">bind</span>(&amp;#<span class="hljs-number">34</span>;base&amp;#<span class="hljs-number">34</span>;)),
                        <span class="hljs-built_in">hasIndex</span>(<span class="hljs-built_in">expr</span>().<span class="hljs-built_in">bind</span>(&amp;#<span class="hljs-number">34</span>;index&amp;#<span class="hljs-number">34</span>;))
                    )
                )
            ).<span class="hljs-built_in">bind</span>(&amp;#<span class="hljs-number">34</span>;reinterpret&amp;#<span class="hljs-number">34</span>;),
            <span class="hljs-keyword">this</span>
        );
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-type">const</span> MatchResult&amp; Result)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>* Reinterpret = Result.Nodes.<span class="hljs-built_in">getNodeAs</span>(&amp;#<span class="hljs-number">34</span>;reinterpret&amp;#<span class="hljs-number">34</span>;);
        <span class="hljs-built_in">diag</span>(Reinterpret-&gt;<span class="hljs-built_in">getBeginLoc</span>(), 
            &amp;#<span class="hljs-number">34</span>;å±é™©ï¼šå°†æ•°ç»„å…ƒç´ çš„å€¼è½¬æ¢ä¸ºæŒ‡é’ˆã€‚&amp;#<span class="hljs-number">34</span>;
            &amp;#<span class="hljs-number">34</span>;è¿™é€šå¸¸æ„å‘³ç€æ„å›¾è¿›è¡ŒæŒ‡é’ˆåç§»è€Œéå€¼è½¬æ¢ã€‚\n&amp;#<span class="hljs-number">34</span>;
            &amp;#<span class="hljs-number">34</span>;å»ºè®®ä½¿ç”¨ï¼š<span class="hljs-built_in">reinterpret_cast</span>(buffer + offset)&amp;#<span class="hljs-number">34</span>;)
            &lt;&lt; FixItHint::<span class="hljs-built_in">CreateReplacement</span>(
                Reinterpret-&gt;<span class="hljs-built_in">getSourceRange</span>(),
                <span class="hljs-built_in">GenerateFix</span>(Result));
    }
};

<span class="hljs-comment">// LLVMç¼–è¯‘å™¨æ’ä»¶ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PointerSemanticsSanitizer</span> : <span class="hljs-keyword">public</span> llvm::ModulePass {
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">runOnModule</span><span class="hljs-params">(llvm::Module&amp; M)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; F : M) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; BB : F) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; I : BB) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span>* CI = <span class="hljs-built_in">dyn_cast</span>(&amp;I)) {
                        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">IsValueToPointerCast</span>(CI)) {
                            <span class="hljs-built_in">InsertRuntimeCheck</span>(CI);  <span class="hljs-comment">// æ’å…¥è¿è¡Œæ—¶æ£€æŸ¥</span>
                            ++InstrumentedCasts;
                        }
                    }
                }
            }
        }
        <span class="hljs-keyword">return</span> InstrumentedCasts &gt; <span class="hljs-number">0</span>;
    }
};
</code></pre>
<h3 data-id="heading-14">5.2 è¿è¡Œæ—¶é˜²æŠ¤æœºåˆ¶</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å†…å­˜ä¿æŠ¤ä»£ç†</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtectedMemoryAllocator</span> : <span class="hljs-keyword">public</span> UnderlyingAllocator {
<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">AllocationMetadata</span> {
        <span class="hljs-type">uintptr_t</span> base_address;
        <span class="hljs-type">size_t</span> total_size;
        std::array canary_value;  <span class="hljs-comment">// è¾¹ç•Œä¿æŠ¤</span>
    };
    
    std::unordered_map allocation_map_;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span>* <span class="hljs-title">allocate</span><span class="hljs-params">(<span class="hljs-type">size_t</span> size, <span class="hljs-type">size_t</span> alignment)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-type">void</span>* raw_mem = UnderlyingAllocator::<span class="hljs-built_in">allocate</span>(
            size + <span class="hljs-built_in">sizeof</span>(AllocationMetadata) + <span class="hljs-number">64</span>,  <span class="hljs-comment">// é¢å¤–ç©ºé—´</span>
            alignment
        );
        
        <span class="hljs-comment">// è®¾ç½®ä¿æŠ¤åŒºåŸŸ</span>
        <span class="hljs-built_in">SetupMemoryProtection</span>(raw_mem, size);
        
        <span class="hljs-comment">// è®°å½•å…ƒæ•°æ®ç”¨äºéªŒè¯</span>
        AllocationMetadata meta = {
            .base_address = <span class="hljs-built_in">reinterpret_cast</span>(raw_mem),
            .total_size = size
        };
        <span class="hljs-built_in">GenerateCanary</span>(meta.canary_value);
        
        allocation_map_[raw_mem] = meta;
        
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">CalculateUserPointer</span>(raw_mem);
    }
    
    <span class="hljs-comment">// éªŒè¯æ‰€æœ‰æŒ‡é’ˆè®¿é—®</span>
    <span class="hljs-function"><span class="hljs-keyword">template</span>
    T* <span class="hljs-title">ValidateAndTranslate</span><span class="hljs-params">(<span class="hljs-type">void</span>* user_ptr, <span class="hljs-type">size_t</span> offset)</span> </span>{
        <span class="hljs-keyword">auto</span>* actual_base = <span class="hljs-built_in">FindAllocationBase</span>(user_ptr);
        <span class="hljs-keyword">if</span> (!actual_base) {
            <span class="hljs-built_in">TriggerSecurityViolation</span>(SecurityEvent::InvalidPointer);
        }
        
        <span class="hljs-type">uint8_t</span>* target_address = 
            <span class="hljs-built_in">reinterpret_cast</span>(actual_base) + offset;
        
        <span class="hljs-comment">// éªŒè¯è¾¹ç•Œ</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">IsWithinAllocation</span>(target_address, <span class="hljs-built_in">sizeof</span>(T))) {
            <span class="hljs-built_in">TriggerSecurityViolation</span>(SecurityEvent::BoundaryOverflow);
        }
        
        <span class="hljs-comment">// éªŒè¯canaryå®Œæ•´æ€§</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">VerifyCanaryIntegrity</span>(actual_base)) {
            <span class="hljs-built_in">TriggerSecurityViolation</span>(SecurityEvent::BufferCorruption);
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(target_address);
    }
};
</code></pre>
<h2 data-id="heading-15">6. ç»“è®ºå»ºè®®</h2>
<h3 data-id="heading-16">6.1 æ ¸å¿ƒå‘ç°</h3>
<ol>
<li>
<p><strong>è¯­ä¹‰é¸¿æ²Ÿ</strong>ï¼š<code>buffer[offset]</code>ä¸<code>buffer + offset</code>ä¹‹é—´çš„å·®å¼‚åæ˜ äº†C++ä¸­å€¼è¯­ä¹‰ä¸åœ°å€è¯­ä¹‰çš„æ ¹æœ¬åŒºåˆ«ï¼Œè¿™ç§åŒºåˆ«åœ¨ç±»å‹é‡è§£é‡Šæ—¶å°¤ä¸ºå±é™©ã€‚</p>
</li>
<li>
<p><strong>ç³»ç»Ÿæ€§é£é™©</strong>ï¼šå€¼åˆ°æŒ‡é’ˆçš„é”™è¯¯è½¬æ¢é€šå¸¸ä¸ä¼šåœ¨å•å…ƒæµ‹è¯•ä¸­æš´éœ²ï¼Œä½†åœ¨ç‰¹å®šç¡¬ä»¶çŠ¶æ€æˆ–æ•°æ®æ¨¡å¼ä¸‹ä¼šå¯¼è‡´ç³»ç»Ÿæ€§å´©æºƒï¼Œæ„æˆ<strong>é—´æ­‡æ€§æ•…éšœ</strong>æ¨¡å¼ã€‚</p>
</li>
<li>
<p><strong>é˜²å¾¡æ€§æ¶æ„</strong>ï¼šé€šè¿‡ç¼–è¯‘æ—¶çº¦æŸã€è¿è¡Œæ—¶éªŒè¯å’Œåˆ†å±‚æŠ½è±¡ï¼Œå¯ä»¥å®Œå…¨æ¶ˆé™¤æ­¤ç±»é”™è¯¯ï¼ŒåŒæ—¶ä¿æŒç³»ç»Ÿæ€§èƒ½ã€‚</p>
</li>
</ol>
<h3 data-id="heading-17">6.2 è¡Œä¸šæ ‡å‡†å»ºè®®</h3>
<p><strong>ISO C++å§”å‘˜ä¼šææ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æè®®ï¼šåœ¨C++26ä¸­å¼•å…¥[[pointer_arithmetic]]å±æ€§</span>
<span class="hljs-keyword">template</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">hardware_interface</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ˜ç¡®æ ‡è®°åº”ä½¿ç”¨æŒ‡é’ˆç®—æœ¯çš„åœºæ™¯</span>
    [[pointer_arithmetic]]
    <span class="hljs-function">T* <span class="hljs-title">access_register</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* mmio_base, <span class="hljs-type">size_t</span> offset)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(mmio_base + offset);  <span class="hljs-comment">// ç¼–è¯‘å™¨éªŒè¯</span>
    }
    
    <span class="hljs-comment">// ç¦æ­¢å€¼åˆ°æŒ‡é’ˆçš„éšå¼è½¬æ¢</span>
    [[<span class="hljs-built_in">deprecated</span>(&amp;#<span class="hljs-number">34</span>;value-to-pointer conversion is unsafe&amp;#<span class="hljs-number">34</span>;)]]
    <span class="hljs-function">T* <span class="hljs-title">unsafe_access</span><span class="hljs-params">(<span class="hljs-type">uint8_t</span>* mmio_base, <span class="hljs-type">size_t</span> offset)</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">reinterpret_cast</span>(mmio_base[offset]);  <span class="hljs-comment">// ç¼–è¯‘è­¦å‘Š</span>
    }
};
</code></pre>
<p><strong>å·¥ä¸šç¼–ç æ ‡å‡†</strong>ï¼š</p>
<ol>
<li><strong>è§„åˆ™P.101</strong>ï¼šç¦æ­¢åœ¨<code>reinterpret_cast</code>ä¸­ä½¿ç”¨æ•°ç»„ä¸‹æ ‡æ“ä½œç¬¦çš„ç»“æœ</li>
<li><strong>è§„åˆ™P.202</strong>ï¼šæ‰€æœ‰ç¡¬ä»¶æ¥å£è®¿é—®å¿…é¡»é€šè¿‡ç±»å‹å®‰å…¨çš„åŒ…è£…å™¨</li>
<li><strong>è§„åˆ™P.303</strong>ï¼šå…³é”®ç³»ç»Ÿå¿…é¡»ä½¿ç”¨å¸¦æœ‰è¾¹ç•Œæ£€æŸ¥çš„ä¸“ç”¨åˆ†é…å™¨</li>
<li><strong>è§„åˆ™T.404</strong>ï¼šæŒ‡é’ˆè¿ç®—ä»£ç å¿…é¡»åŒ…å«ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶åŒé‡éªŒè¯</li>
</ol>
<h3 data-id="heading-18">6.3 æœªæ¥ç ”ç©¶æ–¹å‘</h3>
<ol>
<li><strong>å½¢å¼åŒ–éªŒè¯</strong>ï¼šå¼€å‘èƒ½å¤Ÿè¯æ˜æŒ‡é’ˆè¿ç®—å®‰å…¨æ€§çš„å½¢å¼åŒ–æ–¹æ³•</li>
<li><strong>ç¡¬ä»¶æ”¯æŒ</strong>ï¼šç ”ç©¶CPUçº§åˆ«çš„æŒ‡é’ˆè¯­ä¹‰æ£€æŸ¥æœºåˆ¶</li>
<li><strong>è¯­è¨€æ‰©å±•</strong>ï¼šè®¾è®¡æ›´å®‰å…¨çš„æŒ‡é’ˆè¿ç®—åŸè¯­ï¼Œå¯èƒ½ä½œä¸ºC++çš„æœªæ¥æ‰©å±•</li>
</ol>
<p>æŒ‡é’ˆè¿ç®—çš„ç±»å‹å®‰å…¨ä¸ä»…æ˜¯ä¸€ä¸ªç¼–ç é£æ ¼é—®é¢˜ï¼Œæ›´æ˜¯ç³»ç»Ÿå¯é æ€§çš„åŸºçŸ³ã€‚é€šè¿‡æ·±åˆ»ç†è§£åœ°å€ä¸å€¼çš„è¯­ä¹‰åŒºåˆ«ï¼Œå¹¶é‡‡ç”¨ç³»ç»Ÿæ€§çš„é˜²æŠ¤æªæ–½ï¼Œå·¥ç¨‹å¸ˆå¯ä»¥æ„å»ºæ—¢é«˜æ€§èƒ½åˆé«˜å¯é çš„åº•å±‚ç³»ç»Ÿï¼Œä¸ºå…³é”®åŸºç¡€è®¾æ–½æä¾›åšå®çš„æŠ€æœ¯åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Agentã€‘MemOS æºç ç¬”è®°---(4)---KV Cache]]></title>    <link>https://juejin.cn/post/7582039917216989184</link>    <guid>https://juejin.cn/post/7582039917216989184</guid>    <pubDate>2025-12-10T13:27:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582039917216989184" data-draft-id="7581117416811708459" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Agentã€‘MemOS æºç ç¬”è®°---(4)---KV Cache"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-10T13:27:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Agentã€‘MemOS æºç ç¬”è®°---(4)---KV Cache
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T13:27:58.000Z" title="Wed Dec 10 2025 13:27:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Agentã€‘MemOS æºç ç¬”è®°---(4)---KV Cache</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ¦‚è¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 åŸç†</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.1 æŠ€æœ¯è·¯å¾„</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.2 å¯¹æ¯”</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.3 ååŒå·¥ä½œ</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 å®šä¹‰</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 KV Cacheçš„è®°å¿†ç»“æ„</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 APIæ€»ç»“ (KVCacheMemory)</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 KVCacheMemoryä»£ç </a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.4 æµç¨‹</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x03 é‡è¦ç»„ä»¶</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.1 KVCacheItem</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.2 build_kv_cache</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x04 ç¤ºä¾‹</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">4.1 ä½•æ—¶ä½¿ç”¨ï¼š</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">4.2 å…³é”®ç‚¹ï¼š</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<h3 data-id="heading-1">0x00 æ¦‚è¦</h3>
<p>åœ¨MemOSä¸­ï¼ŒKV Cacheæœ€é€‚åˆå­˜å‚¨<strong>è¯­ä¹‰ç¨³å®šä¸”ç»å¸¸å¤ç”¨çš„èƒŒæ™¯ä¿¡æ¯</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å¸¸è§é—®é¢˜ï¼ˆFAQsï¼‰æˆ–ç‰¹å®šé¢†åŸŸçŸ¥è¯†</li>
<li>å…ˆå‰çš„å¯¹è¯å†å²</li>
</ul>
<p>è¿™äº›ç¨³å®šçš„<strong>æ˜æ–‡è®°å¿†é¡¹</strong>ç”±<code>MemScheduler</code>æ¨¡å—è‡ªåŠ¨è¯†åˆ«å’Œç®¡ç†ã€‚ä¸€æ—¦è¢«é€‰ä¸­ï¼Œå®ƒä»¬å°±ä¼šè¢«æå‰è½¬æ¢æˆKVæ ¼å¼çš„è¡¨ç¤º(<code>KVCacheItem</code>)ã€‚è¿™ä¸ªé¢„è®¡ç®—æ­¥éª¤ä»¥å¯å¤ç”¨çš„æ ¼å¼å­˜å‚¨è®°å¿†çš„æ¿€æ´»çŠ¶æ€ï¼ˆé”®å€¼å¯¹å¼ é‡ï¼‰ï¼Œå…è®¸å®ƒä»¬åœ¨æ¨ç†æœŸé—´æ³¨å…¥åˆ°æ¨¡å‹çš„æ³¨æ„åŠ›ç¼“å­˜ä¸­</p>
<p>ä¸€æ—¦è¿›è¡Œè½¬æ¢ï¼Œè¿™äº›KVè®°å¿†å°±å¯ä»¥<strong>è·¨æŸ¥è¯¢å¤ç”¨</strong>ï¼Œè€Œä¸éœ€è¦å¯¹åŸå§‹å†…å®¹é‡æ–°ç¼–ç ã€‚è¿™å‡å°‘äº†å¤„ç†å’Œå­˜å‚¨å¤§é‡æ–‡æœ¬çš„è®¡ç®—å¼€é”€ï¼Œä½¿å…¶æˆä¸ºéœ€è¦<strong>å¿«é€Ÿå“åº”æ—¶é—´</strong>å’Œ<strong>é«˜ååé‡</strong>çš„åº”ç”¨ç¨‹åºçš„ç†æƒ³é€‰æ‹©ã€‚</p>
<h3 data-id="heading-2">0x01 åŸç†</h3>
<p>KVCacheMemory æ˜¯MemOSä¸­ç”¨äºå­˜å‚¨å’Œç®¡ç†KV cacheçš„ä¸“ç”¨è®°å¿†æ¨¡å—ï¼Œä¸»è¦ç”¨äºåŠ é€Ÿå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰æ¨ç†å¹¶æ”¯æŒæœ‰æ•ˆçš„ä¸Šä¸‹æ–‡å¤ç”¨ã€‚<strong>KVCacheMemory</strong> å°†æœ€è¿‘æˆ–ç¨³å®šçš„ä¸Šä¸‹æ–‡ä½œä¸ºæ¿€æ´»ç¼“å­˜ä¿å­˜ï¼Œæœ‰åŠ©äºå¯¹äºä¼šè¯å¼å’Œç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-3">1.1 æŠ€æœ¯è·¯å¾„</h4>
<p>è‹¥è¦æ›¿å¤§æ¨¡å‹è¡¥ä¸Šè®°å¿†çš„ç¼ºå£ï¼Œå¦‚ä»Šçš„äº§ä¸šç•Œå¤§è‡´è¸©å‡ºä¸¤æ¡æŠ€æœ¯è·¯å¾„ï¼Œå„æœ‰åˆ©å¼Šï¼Œä¹Ÿå†³å®šäº†äº§å“è½åœ°çš„ä¸åŒèµ°å‘ã€‚</p>
<ul>
<li>ç¬¬ä¸€æ¡è·¯æ˜¯â€œå¤–æŒ‚å¼â€çš„æ–‡æœ¬è®°å¿†ã€‚åšæ³•ç›´æˆªäº†å½“ï¼šå…ˆæŠŠå¯¹è¯é‡Œçš„å…³é”®ä¿¡æ¯æç‚¼æˆå¯è¯»çš„æ–‡å­—ï¼Œå†å†™è¿›å‘é‡åº“æˆ–å›¾æ•°æ®åº“ï¼›å¾…æ¨¡å‹éœ€è¦æ—¶ï¼ŒæŒ‰è¯­ä¹‰ç›¸ä¼¼åº¦æŠŠå®ƒä»¬é‡æ–°å¬å›å³å¯ã€‚è¿™ç›¸å½“äºç»™æ¨¡å‹é…ä¸€æœ¬éšèº«çš„æ™ºèƒ½è®°äº‹æœ¬ï¼Œå†™è¿›å»çš„æ˜¯ä»€ä¹ˆï¼Œä»¥åè¯»å‡ºæ¥çš„ä¹Ÿæ˜¯ä»€ä¹ˆï¼Œäººç±»ä¸€çœ¼å°±èƒ½æ ¸å¯¹ã€åˆ æ”¹æˆ–å¢è¡¥ã€‚</li>
<li>ç¬¬äºŒæ¡è·¯æ˜¯â€œå†…ç½®å¼â€çš„å¼ é‡è®°å¿†ã€‚åœ¨æ¨¡å‹å†…éƒ¨æ–°å¢æ•°åäº¿å‚æ•°ï¼Œå……å½“éšå¼çš„â€œè®°å¿†æ± â€ï¼Œä¸€åˆ‡ä¿¡æ¯éƒ½è¢«å‹ç¼©æˆé«˜ç»´å¼ é‡å­˜äºå…¶ä¸­ã€‚æ­¤æ³•çš„å¥½å¤„æ˜¯å¬å›è·¯å¾„çŸ­ï¼Œä¸æ¨ç†è¿‡ç¨‹èä¸ºä¸€ä½“ï¼›ä»£ä»·åˆ™æ˜¯ä¸å¯è¯»ã€ä¸å¯æ”¹ï¼Œä¸€æ—¦å†™é”™ï¼Œåªèƒ½é‡æ–°è®­ç»ƒï¼Œæ— æ³•åƒåˆ æ”¹æ–‡æ¡£é‚£æ ·éšæ‰‹ä¿®æ­£ã€‚</li>
</ul>
<p>KVCacheMemory çœ‹èµ·æ¥æ˜¯ä»‹äºä¸¤è€…ä¹‹é—´çš„ä¸€æ¡è·¯ã€‚</p>
<p>KVCacheMemory å¯¹åº”äº†æ¿€æ´»è®°å¿†ï¼Œå³è¿è¡Œæ—¶çš„ KV ç¼“å­˜å’Œéšè—çŠ¶æ€ï¼ˆé«˜æ•ˆç‡ï¼‰ã€‚MemOS ä½¿ç”¨ KVCacheMemory ï¼ˆæœ€è¿‘æˆ–ç¨³å®šçš„ä¸Šä¸‹æ–‡ï¼‰æ¥åŠ é€Ÿå¤šè½®å¯¹è¯ï¼Œé«˜æ•ˆçš„è¿è¡Œæ—¶çŠ¶æ€ç¼“å­˜ã€‚é€‚åˆå¯¹è¯ä¸­çš„å¿«é€Ÿé‡ç”¨ã€å¤šè½®ä¼šè¯ã€‚</p>
<h4 data-id="heading-4">1.2 å¯¹æ¯”</h4>
<p>æˆ‘ä»¬æ¯”å¯¹ä¸‹æ˜¯å¦å¸¦ KV Cache çš„åŒºåˆ«ï¼š</p>
<ul>
<li>
<p>æ— KV Cacheè®°å¿†</p>
<ul>
<li>æ¯ä¸ªæ–°æŸ¥è¯¢éƒ½è¢«æ·»åŠ åˆ°å®Œæ•´çš„æç¤ºæ¨¡æ¿ä¸­ï¼ŒåŒ…æ‹¬èƒŒæ™¯çŸ¥è¯†ã€‚</li>
<li>æ¨¡å‹å¿…é¡»åœ¨æ•´ä¸ªåºåˆ—ä¸Š<strong>é‡æ–°è®¡ç®—tokenåµŒå…¥å’Œæ³¨æ„åŠ›</strong>â€”â€”å³ä½¿æ˜¯æœªæ›´æ”¹çš„è®°å¿†ã€‚</li>
</ul>
</li>
<li>
<p>æœ‰KV Cacheè®°å¿†</p>
<ul>
<li>èƒŒæ™¯çŸ¥è¯†ä»¥é”®å€¼å¯¹å¼ é‡çš„å½¢å¼<strong>ç¼“å­˜ä¸€æ¬¡</strong>ã€‚</li>
<li>å¯¹äºæ¯ä¸ªæŸ¥è¯¢ï¼Œåªå¯¹æ–°ç”¨æˆ·è¾“å…¥ï¼ˆæŸ¥è¯¢tokenï¼‰è¿›è¡Œç¼–ç ã€‚</li>
<li>ä¹‹å‰ç¼“å­˜çš„KVè¢«ç›´æ¥æ³¨å…¥åˆ°æ³¨æ„åŠ›æœºåˆ¶ä¸­ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™ç§åˆ†ç¦»å‡å°‘äº†é¢„å¡«å……é˜¶æ®µçš„å†—ä½™è®¡ç®—ï¼Œä»è€Œå¯¼è‡´:</p>
<ul>
<li>è·³è¿‡èƒŒæ™¯çŸ¥è¯†çš„é‡å¤ç¼–ç </li>
<li>æ›´å¿«çš„æŸ¥è¯¢tokenå’Œç¼“å­˜è®°å¿†ä¹‹é—´çš„æ³¨æ„åŠ›è®¡ç®—</li>
<li><strong>é™ä½é¦–æ¬¡tokenæ—¶é—´(Time To First Token, TTFT)</strong> ç”Ÿæˆè¿‡ç¨‹ä¸­çš„å»¶è¿Ÿ</li>
</ul>
<p>è¿™ç§ä¼˜åŒ–åœ¨ä»¥ä¸‹æ–¹é¢ç‰¹åˆ«æœ‰ä»·å€¼:</p>
<ul>
<li>å¤šå›åˆèŠå¤©æœºå™¨äººäº¤äº’</li>
<li>æ£€ç´¢å¢å¼ºç”Ÿæˆæˆ–ä¸Šä¸‹æ–‡å¢å¼ºç”Ÿæˆ(RAG, CAG)</li>
<li>åœ¨å›ºå®šæ–‡æ¡£æˆ–FAQé£æ ¼è®°å¿†ä¸Šæ“ä½œçš„åŠ©ç†</li>
</ul>
<p>æˆ‘ä»¬å†æ¯”å¯¹ä¸‹ TreeTextMemory å’Œ KVCacheMemory ï¼š</p>
<ul>
<li>TreeTextMemory å°†ä½ çš„é•¿æ—¶è®°å¿†å­˜å‚¨åœ¨å›¾æ•°æ®åº“ï¼ˆNeo4jï¼‰ä¸­ã€‚</li>
<li>KVCacheMemory å°†æœ€è¿‘æˆ–ç¨³å®šçš„ä¸Šä¸‹æ–‡ä½œä¸ºæ¿€æ´»ç¼“å­˜ä¿å­˜ã€‚</li>
<li>äºŒè€…åœ¨ä¸€ä¸ª MemCube ä¸­ååŒå·¥ä½œï¼Œç”±ä½ çš„ <code>MOS</code> Pipeline ç»Ÿä¸€ç®¡ç†ã€‚</li>
</ul>
<h4 data-id="heading-5">1.3 ååŒå·¥ä½œ</h4>
<p>MemOS å°†è®°å¿†è§†ä¸ºä¸€ä¸ªç”Ÿæ€ç³»ç»Ÿâ€”â€”ä¸ä»…ä»…æ˜¯é™æ€æ•°æ®ï¼Œè€Œæ˜¯æ¼”è¿›çš„çŸ¥è¯†ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç§æ ¸å¿ƒè®°å¿†ç±»å‹å¦‚ä½•ååŒå·¥ä½œï¼š</p>

























<table><thead><tr><th>è®°å¿†ç±»å‹</th><th>æè¿°</th><th>ä½•æ—¶ä½¿ç”¨</th></tr></thead><tbody><tr><td><strong>å‚æ•°è®°å¿†</strong></td><td>çŸ¥è¯†æç‚¼åˆ°æ¨¡å‹æƒé‡ä¸­</td><td>å¸¸é’æŠ€èƒ½ã€ç¨³å®šé¢†åŸŸä¸“ä¸šçŸ¥è¯†</td></tr><tr><td><strong>æ¿€æ´»è®°å¿†</strong></td><td>çŸ­æœŸ KV cache å’Œéšè—çŠ¶æ€</td><td>å¯¹è¯ä¸­çš„å¿«é€Ÿé‡ç”¨ã€å¤šè½®ä¼šè¯</td></tr><tr><td><strong>æ˜æ–‡è®°å¿†</strong></td><td>æ–‡æœ¬ã€æ–‡æ¡£ã€å›¾èŠ‚ç‚¹æˆ–å‘é‡å—</td><td>å¯æœç´¢ã€å¯æ£€æŸ¥ã€æ¼”è¿›çŸ¥è¯†</td></tr></tbody></table>
<p>MemOS è®©ç”¨æˆ·åœ¨ç”Ÿå‘½å‘¨æœŸå¾ªç¯ä¸­è°ƒåº¦æ‰€æœ‰ä¸‰ç§è®°å¿†ç±»å‹ï¼š</p>
<ul>
<li>é«˜é¢‘çš„æ˜æ–‡è®°å¿†å¯ä»¥æç‚¼ä¸ºå‚æ•°åŒ–æƒé‡ã€‚</li>
<li>é«˜é¢‘æ¿€æ´»è·¯å¾„æˆä¸ºå¯é‡ç”¨çš„ KV æ¨¡æ¿ã€‚</li>
<li>é™ˆæ—§çš„å‚æ•°åŒ–æˆ–æ¿€æ´»å•å…ƒå¯ä»¥é™çº§ä¸ºæ˜æ–‡è®°å¿†ä»¥è¿›è¡Œè¿½æº¯ã€‚</li>
</ul>
<p>ä½¿ç”¨ MemOSï¼Œç”¨æˆ·çš„ AI ä¸ä»…ä»…æ˜¯å­˜å‚¨äº‹å®â€”â€”å®ƒ<strong><strong>è®°å¿†</strong></strong>ã€<strong><strong>ç†è§£</strong></strong>å’Œ<strong><strong>æˆé•¿</strong></strong>ã€‚</p>
<p><strong>æ·±å…¥ç†è§£</strong></p>
<ul>
<li>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œé¢‘ç¹ä½¿ç”¨çš„æ˜æ–‡è®°å¿†å¯ä»¥æç‚¼ä¸ºå‚æ•°åŒ–å½¢å¼ã€‚</li>
<li>å¾ˆå°‘ä½¿ç”¨çš„æƒé‡æˆ–ç¼“å­˜å¯ä»¥é™çº§ä¸ºçº¯æ–‡æœ¬å­˜å‚¨ä»¥è¿›è¡Œå®¡è®¡å’Œé‡æ–°è®­ç»ƒã€‚</li>
</ul>
<h3 data-id="heading-6">0x02 å®šä¹‰</h3>
<h4 data-id="heading-7">2.1 KV Cacheçš„è®°å¿†ç»“æ„</h4>
<p>é€šè¿‡<code>KVCacheMemory</code>å®ç°åŸºäºKVçš„è®°å¿†å¤ç”¨ï¼Œåœ¨ä¿æŒç›¸åŒè¾“å‡ºçš„åŒæ—¶ï¼Œå¤§å¤§å‡å°‘äº†æ¨¡å‹å¤§å°å’ŒæŸ¥è¯¢ç±»å‹ä¹‹é—´çš„å»¶è¿Ÿã€‚é€šè¿‡å°†å¯å¤ç”¨è®°å¿†ä»æ˜æ–‡æç¤ºè½¬ç§»åˆ°é¢„å…ˆè®¡ç®—çš„KV Cacheï¼ŒMemOSæ¶ˆé™¤äº†å†—ä½™çš„ä¸Šä¸‹æ–‡ç¼–ç ï¼Œå¹¶å®ç°äº†æ›´å¿«çš„å“åº”æ—¶é—´ï¼Œç‰¹åˆ«æ˜¯åœ¨å®æ—¶çš„ã€è®°å¿†å¢å¼ºçš„LLMåº”ç”¨ç¨‹åºä¸­ã€‚</p>
<p>æ¯ä¸ªç¼“å­˜è¢«å­˜å‚¨ä¸ºä¸€ä¸ª<code>KVCacheItem</code>:</p>

























<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>kv_cache_id</code></td><td><code>str</code></td><td>ç¼“å­˜ä¸­çš„å”¯ä¸€ID(UUID)</td></tr><tr><td><code>kv_cache</code></td><td><code>DynamicCache</code></td><td>å®é™…çš„KV Cache(transformers)</td></tr><tr><td><code>metadata</code></td><td><code>dict</code></td><td>å…ƒæ•°æ® (æº, æŠ½å–æ—¶é—´ç­‰.)</td></tr></tbody></table>
<p>æ€»ä½“é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>KVCacheItem æ˜¯æ•°æ®è½½ä½“ï¼ŒKVCacheMemory æ˜¯ç®¡ç†å¤šä¸ªKVCacheItem çš„å†…å­˜ç³»ç»Ÿï¼Œå¯¹å¤–æä¾›æ“ä½œæ¥å£ã€‚</li>
<li>KVCacheMemory æ˜¯ç®¡ç†å¤šä¸ª KVCacheItem çš„å†…å­˜ç³»ç»Ÿï¼ˆä½¿ç”¨kv_cache_memoriesè¿™ä¸ªå­—å…¸ç»“æ„æ¥ä¿å­˜ï¼‰ï¼Œæä¾›äº†CRUDæ“ä½œï¼Œè´Ÿè´£ KVCacheItem çš„åˆ›å»ºã€å­˜å‚¨ã€æ£€ç´¢ã€åˆå¹¶å’ŒæŒä¹…åŒ–ã€‚</li>
<li>KVCacheItem æ˜¯å•ä¸ªæ¿€æ´»è®°å¿†çš„æ•°æ®ç»“æ„ã€‚ç»§æ‰¿è‡ªåŸºç¡€æ¿€æ´»å†…å­˜é¡¹ï¼Œä¸“é—¨å­˜å‚¨ LLM çš„åŠ¨æ€ KV ç¼“å­˜ï¼Œæ”¯æŒè‡ªå®šä¹‰å…ƒæ•°æ®å’Œå…³è”æ–‡æœ¬è®°å½•ã€‚KVCacheItem åŒ…å«å¤šä¸ªKVCacheRecordsï¼ŒKVCacheRecordså­˜å‚¨ä¸ç¼“å­˜ç›¸å…³çš„æ–‡æœ¬è®°å¿†ä¿¡æ¯ã€‚</li>
</ul>
<h4 data-id="heading-8">2.2 APIæ€»ç»“ (KVCacheMemory)</h4>
<p>KVCacheMemory æä¾›äº†CRUDæ“ä½œï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>åˆå§‹åŒ–ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">KVCacheMemory</span>(config:Â KVCacheMemoryConfig)
</code></pre>
<p>æ ¸å¿ƒæ–¹æ³•å¦‚ä¸‹ï¼š</p>





















































<table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>extract(text)</code></td><td>ä½¿ç”¨LLMä»è¾“å…¥æ–‡æœ¬ä¸­æå–KV Cache</td></tr><tr><td><code>add(memories)</code></td><td>æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ª<code>KVCacheItem</code>åˆ°è®°å¿†ä¸­</td></tr><tr><td><code>get(memory_id)</code></td><td>æ ¹æ®IDè·å–å•ä¸ªç¼“å­˜</td></tr><tr><td><code>get_by_ids(ids)</code></td><td>æ ¹æ®IDsè·å–å¤šä¸ªç¼“å­˜</td></tr><tr><td><code>get_all()</code></td><td>è¿”å›æ‰€æœ‰å­˜å‚¨çš„ç¼“å­˜</td></tr><tr><td><code>get_cache(cache_ids)</code></td><td>ä»å¤šä¸ªIDsåˆå¹¶å¹¶è¿”å›ç»„åˆç¼“å­˜</td></tr><tr><td><code>delete(ids)</code></td><td>é€šè¿‡IDsåˆ é™¤ç¼“å­˜</td></tr><tr><td><code>delete_all()</code></td><td>åˆ é™¤æ‰€æœ‰ç¼“å­˜</td></tr><tr><td><code>dump(dir)</code></td><td>å°†æ‰€æœ‰ç¼“å­˜åºåˆ—åŒ–åˆ°ç›®å½•ä¸­çš„pickleæ–‡ä»¶</td></tr><tr><td><code>load(dir)</code></td><td>ä»ç›®å½•ä¸­çš„pickleæ–‡ä»¶åŠ è½½ç¼“å­˜</td></tr><tr><td><code>from_textual_memory(mem)</code></td><td>å°†<code>TextualMemoryItem</code> è½¬æ¢ä¸º <code>KVCacheItem</code></td></tr></tbody></table>
<p>å½“è°ƒç”¨<code>dump(dir)</code>, ç³»ç»Ÿå†™åˆ°:</p>
<pre><code class="hljs">/
</code></pre>
<p>è¯¥æ–‡ä»¶åŒ…å«æ‰€æœ‰KV Cacheçš„pickleå­—å…¸ï¼Œå¯ä»¥ä½¿ç”¨<code>load(dir)</code>é‡æ–°åŠ è½½ã€‚</p>
<h4 data-id="heading-9">2.3 KVCacheMemoryä»£ç </h4>
<p>KVCacheMemoryï¼š</p>
<ul>
<li>è¯¥ç±»æ˜¯åŸºäºé”®å€¼ç¼“å­˜çš„æ¿€æ´»å†…å­˜å­˜å‚¨æœºåˆ¶ï¼Œç”¨äºç®¡ç† LLM çš„é”®å€¼ç¼“å­˜ï¼ˆKV Cacheï¼‰</li>
<li>æä¾›äº†å®Œæ•´çš„é”®å€¼ç¼“å­˜æå–ã€æ·»åŠ ã€æŸ¥è¯¢ã€åˆå¹¶ã€åˆ é™¤ç­‰åŠŸèƒ½</li>
<li>æ”¯æŒå°†æ–‡æœ¬å†…å®¹è½¬æ¢ä¸º KV ç¼“å­˜æ ¼å¼ï¼Œä¹Ÿæ”¯æŒä¸æ–‡æœ¬å†…å­˜é¡¹çš„ç›¸äº’è½¬æ¢</li>
<li>ç‰¹è‰²æ˜¯é’ˆå¯¹ä¸åŒç‰ˆæœ¬çš„ transformers åº“è¿›è¡Œäº†å…¼å®¹å¤„ç†ï¼Œå®ç°äº†é«˜æ•ˆçš„å¤šå±‚ç¼“å­˜åˆå¹¶æ“ä½œï¼Œé€šè¿‡æ‰¹é‡æ‹¼æ¥å¼ é‡æå‡æ€§èƒ½</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64f5e3319eb04d6c8aab313bfb499189~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=zsYh%2FwW%2FnpTvEiK2dd%2Bd5lagvL4%3D" alt="memos-kv-1" loading="lazy"/></p>
<p>memos-kv-1</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">class</span>Â <span class="hljs-selector-tag">KVCacheMemory</span>(BaseActMemory):
Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â ç”¨äºæ¿€æ´»å†…å­˜çš„é”®å€¼ç¼“å­˜å­˜å‚¨å™¨ã€‚
Â Â Â Â è¿™ç§å†…å­˜ç±»å‹è®¾è®¡ç”¨äºå­˜å‚¨å’Œæ£€ç´¢é”®å€¼ç¼“å­˜ã€‚
Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;

Â Â Â Â @<span class="hljs-selector-tag">require_python_package</span>(
Â Â Â Â Â Â Â Â import_name=&amp;#<span class="hljs-number">34</span>;torch&amp;#<span class="hljs-number">34</span>;,
Â Â Â Â Â Â Â Â install_link=&amp;#<span class="hljs-number">34</span>;<span class="hljs-attribute">https</span>:<span class="hljs-comment">//pytorch.org/get-started/locally/&amp;#34;,</span>
Â Â Â Â )
Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">__init__</span>(self,Â <span class="hljs-attribute">config</span>:Â KVCacheMemoryConfig)Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;ä½¿ç”¨é…ç½®åˆå§‹åŒ–<span class="hljs-selector-tag">KV</span>ç¼“å­˜å­˜å‚¨å™¨ã€‚<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.config</span>Â =Â <span class="hljs-selector-tag">config</span>Â Â #Â å­˜å‚¨é…ç½®ä¿¡æ¯
Â Â Â Â Â Â Â Â #Â æ ¹æ®é…ç½®åˆ›å»º<span class="hljs-selector-tag">LLM</span>å®ä¾‹ï¼Œç”¨äºæå–<span class="hljs-selector-tag">KV</span>ç¼“å­˜
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.llm</span>Â =Â <span class="hljs-selector-tag">LLMFactory</span><span class="hljs-selector-class">.from_config</span>(config.extractor_llm)
Â Â Â Â Â Â Â Â #Â å­˜å‚¨<span class="hljs-selector-tag">KV</span>ç¼“å­˜é¡¹çš„å­—å…¸ï¼Œä»¥<span class="hljs-selector-tag">ID</span>ä¸ºé”®
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.kv_cache_memories</span>:Â <span class="hljs-selector-tag">dict</span><span class="hljs-selector-attr">[str,Â KVCacheItem]</span>Â =Â {}

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">extract</span>(self,Â <span class="hljs-attribute">text</span>:Â str)Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">KVCacheItem</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;åŸºäºæ–‡æœ¬æå–å†…å­˜ã€‚

Â Â Â Â Â Â Â Â ä½¿ç”¨<span class="hljs-selector-tag">LLM</span>ä»æä¾›çš„æ–‡æœ¬ä¸­æ„å»º<span class="hljs-selector-tag">KV</span>ç¼“å­˜ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">text</span>:Â ç”¨äºæå–å†…å­˜çš„è¾“å…¥æ–‡æœ¬

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â æå–çš„å†…å­˜é¡¹
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â #Â ä½¿ç”¨<span class="hljs-selector-tag">LLM</span>ä»æ–‡æœ¬æ„å»º<span class="hljs-selector-tag">KV</span>ç¼“å­˜
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">kv_cache</span>Â =Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.llm</span><span class="hljs-selector-class">.build_kv_cache</span>(text)

Â Â Â Â Â Â Â Â #Â åˆ›å»ºåŒ…å«æå–çš„ç¼“å­˜çš„<span class="hljs-selector-tag">KV</span>ç¼“å­˜é¡¹
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">cache_item</span>Â =Â <span class="hljs-selector-tag">KVCacheItem</span>(
Â Â Â Â Â Â Â Â Â Â Â Â memory=kv_cache,
Â Â Â Â Â Â Â Â Â Â Â Â metadata={<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">source_text</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">text</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">extracted_at</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">datetime</span><span class="hljs-selector-class">.now</span>()<span class="hljs-selector-class">.isoformat</span>()},
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">cache_item</span>

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">add</span>(self,Â <span class="hljs-attribute">memories</span>:Â list[KVCacheItem])Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;å°†å†…å­˜æ·»åŠ åˆ°<span class="hljs-selector-tag">KV</span>ç¼“å­˜å­˜å‚¨å™¨ä¸­ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">memories</span>:Â è¦æ·»åŠ çš„<span class="hljs-selector-tag">KV</span>ç¼“å­˜é¡¹åˆ—è¡¨
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">memory</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">memories</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.kv_cache_memories</span><span class="hljs-selector-attr">[memory.id]</span>Â =Â <span class="hljs-selector-tag">memory</span>

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">get_cache</span>(self,Â <span class="hljs-attribute">cache_ids</span>:Â list[str])Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">DynamicCache</span>Â |Â <span class="hljs-selector-tag">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;å°†å¤šä¸ª<span class="hljs-selector-tag">KV</span>ç¼“å­˜åˆå¹¶ä¸ºä¸€ä¸ªç¼“å­˜ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">cache_ids</span>:Â è¦åˆå¹¶çš„ç¼“å­˜<span class="hljs-selector-tag">ID</span>åˆ—è¡¨

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â åˆå¹¶åçš„<span class="hljs-selector-tag">DynamicCache</span>ï¼Œå¦‚æœæœªæ‰¾åˆ°ç¼“å­˜åˆ™è¿”å›<span class="hljs-selector-tag">None</span>
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">caches_to_merge</span>Â =Â <span class="hljs-selector-attr">[]</span>
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">cache_id</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">cache_ids</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">cache_item</span>Â =Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.kv_cache_memories</span><span class="hljs-selector-class">.get</span>(cache_id)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">cache_item</span>Â <span class="hljs-selector-tag">and</span>Â <span class="hljs-selector-tag">cache_item</span><span class="hljs-selector-class">.memory</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">caches_to_merge</span><span class="hljs-selector-class">.append</span>(cache_item.memory)

Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">not</span>Â <span class="hljs-selector-tag">caches_to_merge</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">None</span>

Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">._concat_caches</span>(caches_to_merge)

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">get</span>(self,Â <span class="hljs-attribute">memory_id</span>:Â str)Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">KVCacheItem</span>Â |Â <span class="hljs-selector-tag">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;é€šè¿‡<span class="hljs-selector-tag">ID</span>è·å–å†…å­˜ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">memory_id</span>:Â è¦æ£€ç´¢çš„å†…å­˜<span class="hljs-selector-tag">ID</span>

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â å†…å­˜å­—å…¸ï¼Œå¦‚æœæœªæ‰¾åˆ°åˆ™è¿”å›<span class="hljs-selector-tag">None</span>
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.kv_cache_memories</span><span class="hljs-selector-class">.get</span>(memory_id)

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">get_by_ids</span>(self,Â <span class="hljs-attribute">memory_ids</span>:Â list[str])Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">list</span><span class="hljs-selector-attr">[KVCacheItemÂ |Â None]</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;é€šè¿‡<span class="hljs-selector-tag">ID</span>åˆ—è¡¨è·å–å¤šä¸ªå†…å­˜ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">memory_ids</span>:Â è¦æ£€ç´¢çš„å†…å­˜<span class="hljs-selector-tag">ID</span>åˆ—è¡¨

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â å†…å­˜å­—å…¸åˆ—è¡¨ï¼Œå¯¹äºä¸å­˜åœ¨çš„<span class="hljs-selector-tag">ID</span>è¿”å›<span class="hljs-selector-tag">None</span>
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">results</span>Â =Â <span class="hljs-selector-attr">[]</span>
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">memory_id</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">memory_ids</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">memory</span>Â =Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.get</span>(memory_id)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">results</span><span class="hljs-selector-class">.append</span>(memory)
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">results</span>

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">get_all</span>(self)Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">list</span><span class="hljs-selector-attr">[KVCacheItem]</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–æ‰€æœ‰å†…å­˜ã€‚

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â å­˜å‚¨å™¨ä¸­æ‰€æœ‰<span class="hljs-selector-tag">KV</span>ç¼“å­˜é¡¹çš„åˆ—è¡¨
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">list</span>(self.kv_cache_memories.<span class="hljs-built_in">values</span>())

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">delete</span>(self,Â <span class="hljs-attribute">memory_ids</span>:Â list[str])Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;é€šè¿‡<span class="hljs-selector-tag">ID</span>åˆ é™¤å†…å­˜ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">memory_ids</span>:Â è¦åˆ é™¤çš„å†…å­˜<span class="hljs-selector-tag">ID</span>åˆ—è¡¨
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">memory_id</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">memory_ids</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.kv_cache_memories</span><span class="hljs-selector-class">.pop</span>(memory_id,Â None)

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">delete_all</span>(self)Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;åˆ é™¤æ‰€æœ‰å†…å­˜ã€‚<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.kv_cache_memories</span><span class="hljs-selector-class">.clear</span>()

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">from_textual_memory</span>(self,Â <span class="hljs-attribute">mem</span>:Â TextualMemoryItem)Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">KVCacheItem</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â å°†<span class="hljs-selector-tag">TextualMemoryItem</span>è½¬æ¢ä¸º<span class="hljs-selector-tag">KVCacheItem</span>ã€‚
Â Â Â Â Â Â Â Â æ­¤æ–¹æ³•ä»æ–‡æœ¬å†…å­˜ä¸­æå–é”®å€¼ç¼“å­˜ã€‚
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â #Â ä»æ–‡æœ¬å†…å­˜å†…å®¹æ„å»º<span class="hljs-selector-tag">KV</span>ç¼“å­˜
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">kv_cache</span>Â =Â <span class="hljs-selector-tag">self</span><span class="hljs-selector-class">.llm</span><span class="hljs-selector-class">.build_kv_cache</span>(mem.memory)
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">KVCacheItem</span>(memory=kv_cache,Â metadata=mem.metadata.<span class="hljs-built_in">model_dump</span>())

Â Â Â Â <span class="hljs-selector-tag">def</span>Â <span class="hljs-selector-tag">_concat_caches</span>(self,Â <span class="hljs-attribute">caches</span>:Â list[DynamicCache])Â <span class="hljs-selector-tag">-</span>&gt;Â <span class="hljs-selector-tag">DynamicCache</span>:
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â æ›´å¿«çš„æ‹¼æ¥åˆå¹¶ï¼šå¯¹äºæ¯ä¸ªå±‚ï¼Œæ”¶é›†æ‰€æœ‰ç¼“å­˜çš„å¼ é‡
Â Â Â Â Â Â Â Â å¹¶æ¯å±‚æ‰§è¡Œä¸€æ¬¡<span class="hljs-selector-tag">torch</span><span class="hljs-selector-class">.cat</span>æ“ä½œã€‚
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">import</span>Â <span class="hljs-selector-tag">torch</span>

Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">assert</span>Â <span class="hljs-selector-tag">caches</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è‡³å°‘éœ€è¦ä¸€ä¸ªç¼“å­˜<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">len</span>(caches)Â ==Â <span class="hljs-number">1</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">caches</span><span class="hljs-selector-attr">[0]</span>

Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">merged</span>Â =Â <span class="hljs-selector-tag">DynamicCache</span>()
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">num_layers</span>Â =Â <span class="hljs-selector-tag">len</span>(caches[<span class="hljs-number">0</span>].key_cache)

Â Â Â Â Â Â Â Â #Â å¤„ç†<span class="hljs-selector-tag">transformers</span>Â <span class="hljs-number">4.54</span><span class="hljs-selector-class">.0</span>åŠä»¥ä¸Šç‰ˆæœ¬çš„ç¼“å­˜ç»“æ„
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">if</span>Â <span class="hljs-selector-tag">Version</span>(<span class="hljs-built_in">version</span>(&amp;#<span class="hljs-number">34</span>;transformers&amp;#<span class="hljs-number">34</span>;))Â &gt;=Â <span class="hljs-selector-tag">Version</span>(&amp;#<span class="hljs-number">34</span>;<span class="hljs-number">4.54</span>.<span class="hljs-number">0</span>&amp;#<span class="hljs-number">34</span>;):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">merged</span><span class="hljs-selector-class">.append_new_layers</span>(num_layersÂ -Â <span class="hljs-number">1</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">layer</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">range</span>(num_layers):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â #Â æ”¶é›†å½“å‰å±‚çš„æ‰€æœ‰<span class="hljs-selector-tag">K</span>å’Œ<span class="hljs-selector-tag">V</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">keys</span>Â =Â <span class="hljs-selector-attr">[c.layers[layer]</span><span class="hljs-selector-class">.keys</span>Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">c</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">caches</span>]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">vals</span>Â =Â <span class="hljs-selector-attr">[c.layers[layer]</span><span class="hljs-selector-class">.values</span>Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">c</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">caches</span>]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â #Â æ¯å±‚æ‰§è¡Œä¸€æ¬¡æ‹¼æ¥
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">merged</span><span class="hljs-selector-class">.layers</span><span class="hljs-selector-attr">[layer]</span><span class="hljs-selector-class">.keys</span>Â =Â <span class="hljs-selector-tag">torch</span><span class="hljs-selector-class">.cat</span>(keys,Â dim=-<span class="hljs-number">2</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">merged</span><span class="hljs-selector-class">.layers</span><span class="hljs-selector-attr">[layer]</span><span class="hljs-selector-class">.values</span>Â =Â <span class="hljs-selector-tag">torch</span><span class="hljs-selector-class">.cat</span>(vals,Â dim=-<span class="hljs-number">2</span>)

Â Â Â Â Â Â Â Â #Â å¤„ç†æ—§ç‰ˆæœ¬<span class="hljs-selector-tag">transformers</span>çš„ç¼“å­˜ç»“æ„
Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">layer</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">range</span>(num_layers):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â #Â æ”¶é›†å½“å‰å±‚çš„æ‰€æœ‰<span class="hljs-selector-tag">K</span>å’Œ<span class="hljs-selector-tag">V</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">keys</span>Â =Â <span class="hljs-selector-attr">[c.key_cache[layer]</span>Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">c</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">caches</span>]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">vals</span>Â =Â <span class="hljs-selector-attr">[c.value_cache[layer]</span>Â <span class="hljs-selector-tag">for</span>Â <span class="hljs-selector-tag">c</span>Â <span class="hljs-selector-tag">in</span>Â <span class="hljs-selector-tag">caches</span>]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â #Â æ¯å±‚æ‰§è¡Œä¸€æ¬¡æ‹¼æ¥
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">merged</span><span class="hljs-selector-class">.key_cache</span><span class="hljs-selector-class">.append</span>(torch.<span class="hljs-built_in">cat</span>(keys,Â dim=-<span class="hljs-number">2</span>))
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">merged</span><span class="hljs-selector-class">.value_cache</span><span class="hljs-selector-class">.append</span>(torch.<span class="hljs-built_in">cat</span>(vals,Â dim=-<span class="hljs-number">2</span>))

Â Â Â Â Â Â Â Â <span class="hljs-selector-tag">return</span>Â <span class="hljs-selector-tag">merged</span>
</code></pre>
<h4 data-id="heading-10">2.4 æµç¨‹</h4>
<p>å‡ ä¸ªé‡è¦çš„æµç¨‹å›¾æ€»ç»“å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-11">2.4.1 åˆå§‹åŒ–æµç¨‹</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78458bd760bf44b9964728899e51f8d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=E5s74L6kysYEs3n%2FAW15%2BuivNII%3D" alt="memos-kv-2" loading="lazy"/></p>
<p>memos-kv-2</p>
<h5 data-id="heading-12">2.4.2 æå–ä¸æ·»åŠ æµç¨‹</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd3a737a9e5a4ff6a6a5802fd66a5ae2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=mxvHCMSvbNm0aW7tNj37%2FslaRmg%3D" alt="memos-kv-3" loading="lazy"/></p>
<p>memos-kv-3</p>
<h5 data-id="heading-13">2.4.3 ç¼“å­˜åˆå¹¶æµç¨‹</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fea80e2833b4cc7ba01ac8897d67a3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=poVfMQ5opVMxVhhwulYjR4w3jSo%3D" alt="memos-kv-4" loading="lazy"/></p>
<p>memos-kv-4</p>
<h3 data-id="heading-14">0x03 é‡è¦ç»„ä»¶</h3>
<h4 data-id="heading-15">3.1 KVCacheItem</h4>
<h5 data-id="heading-16">3.1.1 å®šä¹‰</h5>
<ul>
<li>
<p>è¯¥ä»£ç å®šä¹‰äº† MemOS ä¸­æ¿€æ´»å†…å­˜ç›¸å…³çš„æ•°æ®æ¨¡å‹ï¼Œç”¨äºæ ‡å‡†åŒ–å­˜å‚¨ KV ç¼“å­˜åŠå…³è”å…ƒæ•°æ®ã€‚</p>
</li>
<li>
<p>æ ¸å¿ƒæ˜¯<code>KVCacheItem</code>ç±»ï¼Œç»§æ‰¿è‡ªåŸºç¡€æ¿€æ´»å†…å­˜é¡¹ï¼Œä¸“é—¨å­˜å‚¨ LLM çš„åŠ¨æ€ KV ç¼“å­˜ï¼Œæ”¯æŒè‡ªå®šä¹‰å…ƒæ•°æ®å’Œå…³è”æ–‡æœ¬è®°å½•ã€‚</p>
</li>
<li>
<p>è¡ç”Ÿç±»<code>VLLMKVCacheItem</code>é€‚é… vLLM åœºæ™¯ï¼Œå°†ç¼“å­˜å­˜å‚¨æ”¹ä¸ºæç¤ºå­—ç¬¦ä¸²ï¼ˆå›  vLLM åœ¨æœåŠ¡ç«¯é¢„åŠ è½½ KV ç¼“å­˜ï¼‰ã€‚</p>
</li>
<li>
<p>ç‰¹è‰²æ˜¯ä½¿ç”¨ Pydantic æ¨¡å‹å®ç°æ•°æ®ç»“æ„åŒ–ï¼Œè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€ IDï¼Œæ”¯æŒä»»æ„ç±»å‹å­—æ®µï¼ˆé€‚é… DynamicCacheï¼‰ï¼ŒåŒæ—¶é€šè¿‡<code>KVCacheRecords</code>è®°å½•æ–‡æœ¬å†…å­˜æ¥æºå’Œç»„åˆä¿¡æ¯ï¼Œä¿è¯æ•°æ®å¯è¿½æº¯ã€‚</p>
<p>classÂ ActivationMemoryItem(BaseModel):
Â Â Â Â """åŸºç¡€æ¿€æ´»å†…å­˜é¡¹æ¨¡å‹ï¼Œå®šä¹‰æ¿€æ´»å†…å­˜çš„æ ¸å¿ƒç»“æ„"""
Â Â Â Â #Â å†…å­˜é¡¹å”¯ä¸€IDï¼Œé»˜è®¤ä½¿ç”¨UUID4è‡ªåŠ¨ç”Ÿæˆ
Â Â Â Â id:Â strÂ =Â Field(default_factory=lambda:Â str(uuid.uuid4()))
Â Â Â Â #Â å†…å­˜å…·ä½“å†…å®¹ï¼Œæ”¯æŒä»»æ„ç±»å‹
Â Â Â Â memory:Â Any
Â Â Â Â #Â å†…å­˜å…³è”çš„å…ƒæ•°æ®ï¼Œé»˜è®¤ç©ºå­—å…¸
Â Â Â Â metadata:Â dictÂ =Â {}</p>
<p>classÂ KVCacheRecords(BaseModel):
Â Â Â Â """KVç¼“å­˜å…³è”çš„æ–‡æœ¬è®°å½•æ¨¡å‹ï¼Œç”¨äºè¿½æº¯ç¼“å­˜æ¥æº"""
Â Â Â Â #Â è½¬æ¢ä¸ºæ¿€æ´»å†…å­˜çš„æ–‡æœ¬å†…å­˜åˆ—è¡¨
Â Â Â Â text_memories:Â list[str]Â =Â Field(
Â Â Â Â Â Â Â Â default=[],
Â Â Â Â Â Â Â Â description="è½¬æ¢ä¸ºæ¿€æ´»å†…å­˜çš„æ–‡æœ¬å†…å­˜åˆ—è¡¨",
Â Â Â Â )
Â Â Â Â #Â ä½¿ç”¨ç»„è£…æ¨¡æ¿ç»„åˆæ‰€æœ‰æ–‡æœ¬å†…å­˜åçš„å•ä¸€å­—ç¬¦ä¸²
Â Â Â Â composed_text_memory:Â strÂ =Â Field(
Â Â Â Â Â Â Â Â default="",
Â Â Â Â Â Â Â Â description="ä½¿ç”¨ç»„è£…æ¨¡æ¿å°†æ‰€æœ‰æ–‡æœ¬å†…å­˜ç»„åˆæˆçš„å•ä¸€å­—ç¬¦ä¸²",
Â Â Â Â )
Â Â Â Â #Â æäº¤æ—¶é—´ï¼ˆç”¨äºè°ƒåº¦æ¶ˆæ¯ï¼‰ï¼Œé»˜è®¤ä½¿ç”¨UTCå½“å‰æ—¶é—´
Â Â Â Â timestamp:Â datetimeÂ =Â Field(
Â Â Â Â Â Â Â Â default_factory=datetime.utcnow,Â description="è°ƒåº¦æ¶ˆæ¯çš„æäº¤æ—¶é—´"
Â Â Â Â )</p>
<p>classÂ KVCacheItem(ActivationMemoryItem):
Â Â Â Â """KVç¼“å­˜å†…å­˜é¡¹æ¨¡å‹ï¼Œä¸“é—¨å­˜å‚¨é”®å€¼ç¼“å­˜æ•°æ®"""
Â Â Â Â #Â ç¼“å­˜é¡¹å”¯ä¸€IDï¼Œé»˜è®¤ä½¿ç”¨UUID4è‡ªåŠ¨ç”Ÿæˆï¼ˆè¦†ç›–çˆ¶ç±»å­—æ®µï¼‰
Â Â Â Â id:Â strÂ =Â Field(default_factory=lambda:Â str(uuid.uuid4()))
Â Â Â Â #Â å­˜å‚¨KVé”®å€¼å¯¹çš„åŠ¨æ€ç¼“å­˜ï¼Œé»˜è®¤åˆå§‹åŒ–ç©ºDynamicCache
Â Â Â Â memory:Â DynamicCacheÂ =Â Field(
Â Â Â Â Â Â Â Â default_factory=DynamicCache,
Â Â Â Â Â Â Â Â description="ç”¨äºåœ¨å†…å­˜ä¸­å­˜å‚¨é”®å€¼å¯¹çš„åŠ¨æ€ç¼“å­˜",
Â Â Â Â )
Â Â Â Â #Â ä¸KVç¼“å­˜é¡¹å…³è”çš„å…ƒæ•°æ®ï¼Œé»˜è®¤ç©ºå­—å…¸ï¼ˆè¦†ç›–çˆ¶ç±»å­—æ®µï¼‰
Â Â Â Â metadata:Â dictÂ =Â Field(
Â Â Â Â Â Â Â Â default_factory=dict,Â description="ä¸KVç¼“å­˜é¡¹å…³è”çš„å…ƒæ•°æ®"
Â Â Â Â )</p>
<p>Â Â Â Â #Â é…ç½®æ¨¡å‹ä»¥å…è®¸ä»»æ„ç±»å‹å­—æ®µï¼ˆæ”¯æŒDynamicCacheä½œä¸ºå­—æ®µç±»å‹ï¼‰
Â Â Â Â model_configÂ =Â ConfigDict(arbitrary_types_allowed=True)
Â Â Â Â #Â å…³è”çš„æ–‡æœ¬è®°å½•ï¼Œé»˜è®¤åˆå§‹åŒ–ç©ºKVCacheRecords
Â Â Â Â records:Â KVCacheRecordsÂ =Â KVCacheRecords()</p>
<p>classÂ VLLMKVCacheItem(KVCacheItem):
Â Â Â Â """
Â Â Â Â vLLMä¸“ç”¨KVç¼“å­˜é¡¹æ¨¡å‹ï¼Œå­˜å‚¨æç¤ºå­—ç¬¦ä¸²è€ŒéDynamicCacheå¯¹è±¡ã€‚
Â Â Â Â åŸå› æ˜¯vLLMé€šè¿‡é¢„åŠ è½½åœ¨æœåŠ¡ç«¯å¤„ç†KVç¼“å­˜ã€‚
Â Â Â Â """</p>
<p>Â Â Â Â #Â é‡å†™memoryå­—æ®µï¼Œå­˜å‚¨æç¤ºå­—ç¬¦ä¸²è€ŒéDynamicCacheï¼ˆé€‚é…vLLMï¼‰
Â Â Â Â memory:Â strÂ =Â Field(
Â Â Â Â Â Â Â Â default="",
Â Â Â Â Â Â Â Â description="ç”¨äºåœ¨vLLMæœåŠ¡ç«¯é¢„åŠ è½½KVç¼“å­˜çš„æç¤ºå­—ç¬¦ä¸²",
Â Â Â Â )</p>
</li>
</ul>
<h5 data-id="heading-17">3.1.2 å…³è”</h5>
<p>KVCacheItem å’Œ KVCacheMemory æ˜¯äº’ç›¸è”ç³»çš„ã€‚KVCacheItem æ˜¯æ•°æ®å•å…ƒ/å•ä¸ªè®°å¿†å•å…ƒï¼ŒKVCacheMemory æ˜¯ç®¡ç†ç³»ç»Ÿ/æ¿€æ´»è®°å¿†çš„å­˜å‚¨ç³»ç»Ÿã€‚</p>
<ul>
<li>KVCacheMemory æ˜¯ç®¡ç†å¤šä¸ª KVCacheItem çš„å†…å­˜ç³»ç»Ÿï¼Œæä¾›äº†å®Œæ•´çš„CRUDï¼ˆåˆ›å»ºã€å­˜å‚¨ã€æ£€ç´¢ã€åˆå¹¶å’ŒæŒä¹…åŒ–ï¼‰æ“ä½œã€‚</li>
<li>KVCacheMemory ä¸­æœ‰self.kv_cache_memories: dict[str, KVCacheItem] = {}ã€‚</li>
<li>KVCacheRecords æ˜¯ KVCacheItem çš„ä¸€éƒ¨åˆ†ï¼Œä¸º KVCacheItem æä¾›äº†é‡è¦çš„å…ƒæ•°æ®æ”¯æŒï¼Œä½¿å¾—ç³»ç»Ÿå¯ä»¥æœ‰æ•ˆç®¡ç†å’Œè·Ÿè¸ªKV Cache çš„çŠ¶æ€å˜åŒ–ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9557074120a4867885cb17bd995d498~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=j3A2feoZvXYsqd8tlrocTErxpfw%3D" alt="memos-kv-5" loading="lazy"/></p>
<p>memos-kv-5</p>
<h4 data-id="heading-18">3.2 build_kv_cache</h4>
<p>KVCacheMemory ä¼šä½¿ç”¨LLMæŠŠæ–‡æœ¬æ„å»ºæˆKV Cacheï¼Œæˆ–è€…è¯´æ˜¯æ„å»ºæˆKV å‘é‡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">self.llm</span>Â =Â LLMFactory.from_config(config.extractor_llm)

<span class="hljs-attr">kv_cache</span>Â =Â self.llm.build_kv_cache(text)
</code></pre>
<p>HFLLMç±»æ˜¯åŸºäº Hugging Face Transformers çš„ LLM å°è£…ï¼Œæ”¯æŒç¼“å­˜å¢å¼ºç”Ÿæˆï¼ˆCAGï¼‰å’Œé‡‡æ ·åŠŸèƒ½ã€‚</p>
<ul>
<li>æ ¸å¿ƒèƒ½åŠ›æ˜¯å°†å¤šç§æ ¼å¼çš„è¾“å…¥ï¼ˆå­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²åˆ—è¡¨ã€èŠå¤©æ¶ˆæ¯åˆ—è¡¨ï¼‰è½¬æ¢ä¸ºæ ‡å‡† KV ç¼“å­˜ï¼Œä¸ºåç»­ç”Ÿæˆä»»åŠ¡æä¾›ä¸Šä¸‹æ–‡åŠ é€Ÿã€‚</li>
<li>å†…ç½®æ¸©åº¦ã€Top-Kã€Top-P ç­‰é‡‡æ ·ç­–ç•¥çš„æ—¥å¿—å¤„ç†å™¨ï¼Œæ”¯æŒçµæ´»çš„ç”Ÿæˆé…ç½®ã€‚</li>
<li>ç‰¹è‰²æ˜¯è‡ªåŠ¨é€‚é…æ¨¡å‹å’Œåˆ†è¯å™¨åˆå§‹åŒ–ï¼Œæ”¯æŒå¤šç§è¾“å…¥æ ¼å¼æ ‡å‡†åŒ–ï¼Œé€šè¿‡å•æ¬¡å‰å‘ä¼ æ’­é«˜æ•ˆæ„å»º KV ç¼“å­˜ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/682ad97f1e8c43e59d48126caf1dff76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=0ylugVAas%2ByZdF1tABOd3gB9XHc%3D" alt="memos-kv-6" loading="lazy"/></p>
<p>memos-kv-6</p>
<p>åˆå§‹åŒ–æµç¨‹å¦‚ä¸‹:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3dbe488535b4269801fbb8ee5a715dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=ODQR5vEH2vgns%2FuIPeKWwEPgteY%3D" alt="memos-kv-7" loading="lazy"/></p>
<p>memos-kv-7</p>
<p>build_kv_cache()æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e826990178c642e187773af1ef7695fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765978078&amp;x-signature=8zbctLkwDuUCuEEpqhu%2F%2Filob6s%3D" alt="memos-kv-8" loading="lazy"/></p>
<p>memos-kv-8</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">HFLLM</span>(<span class="hljs-title class_ inherited__">BaseLLM</span>):
Â Â Â Â &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
Â Â Â Â HFLLMï¼šæ”¯æŒç¼“å­˜å¢å¼ºç”Ÿæˆï¼ˆCAGï¼‰å’Œé‡‡æ ·çš„TransformersÂ LLMç±»ã€‚
Â Â Â Â &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;Â Â Â Â </span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â config:Â HFLLMConfig</span>):
Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
Â Â Â Â Â Â Â Â åˆå§‹åŒ–HFLLMæ¨¡å‹å’Œåˆ†è¯å™¨ï¼Œå¹¶è®¾ç½®ç”¨äºé‡‡æ ·çš„æ—¥å¿—å¤„ç†å™¨ã€‚
Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
Â Â Â Â Â Â Â Â self.configÂ =Â configÂ Â <span class="hljs-comment">#Â å­˜å‚¨æ¨¡å‹é…ç½®ä¿¡æ¯</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¦‚æœæœªæŒ‡å®šæ¨¡å‹ï¼Œä½¿ç”¨é»˜è®¤æ¨¡å‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â self.config.model_name_or_path:
Â Â Â Â Â Â Â Â Â Â Â Â self.config.model_name_or_pathÂ =Â &amp;<span class="hljs-comment">#34;Qwen/Qwen3-1.7B&amp;#34;</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–HuggingÂ Faceæ¨¡å‹</span>
Â Â Â Â Â Â Â Â self.modelÂ =Â AutoModelForCausalLM.from_pretrained(
Â Â Â Â Â Â Â Â Â Â Â Â self.config.model_name_or_path,Â torch_dtype=&amp;<span class="hljs-comment">#34;auto&amp;#34;,Â device_map=&amp;#34;auto&amp;#34;</span>
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–åˆ†è¯å™¨ï¼Œå¯ç”¨å¿«é€Ÿåˆ†è¯æ¨¡å¼</span>
Â Â Â Â Â Â Â Â self.tokenizerÂ =Â AutoTokenizer.from_pretrained(
Â Â Â Â Â Â Â Â Â Â Â Â self.config.model_name_or_path,Â use_fast=<span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ç”¨äºé‡‡æ ·çš„æ—¥å¿—å¤„ç†å™¨åˆ—è¡¨</span>
Â Â Â Â Â Â Â Â processorsÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ¸©åº¦è°ƒèŠ‚ï¼šæ§åˆ¶ç”Ÿæˆçš„éšæœºæ€§ï¼Œé1.0æ—¶æ·»åŠ </span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">getattr</span>(self.config,Â &amp;<span class="hljs-comment">#34;temperature&amp;#34;,Â 1.0)Â !=Â 1.0:</span>
Â Â Â Â Â Â Â Â Â Â Â Â processors.append(TemperatureLogitsWarper(self.config.temperature))
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â Top-Ké‡‡æ ·ï¼šé™åˆ¶ä»…ä»æ¦‚ç‡æœ€é«˜çš„Kä¸ªtokenä¸­é€‰æ‹©ï¼ŒK&gt;0æ—¶æ·»åŠ </span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">getattr</span>(self.config,Â &amp;<span class="hljs-comment">#34;top_k&amp;#34;,Â 0)Â &gt;Â 0:</span>
Â Â Â Â Â Â Â Â Â Â Â Â processors.append(TopKLogitsWarper(self.config.top_k))
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â Top-Pé‡‡æ ·ï¼šé™åˆ¶ä»…ä»ç´¯ç§¯æ¦‚ç‡è¾¾Pçš„tokenå­é›†é€‰æ‹©ï¼Œ0&lt;p&gt;Â DynamicCache:</span>
Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
Â Â Â Â Â Â Â Â é€šè¿‡å•æ¬¡å‰å‘ä¼ æ’­ä»èŠå¤©æ¶ˆæ¯æ„å»ºKVç¼“å­˜ã€‚
Â Â Â Â Â Â Â Â æ”¯æŒä»¥ä¸‹è¾“å…¥ç±»å‹ï¼š
Â Â Â Â Â Â Â Â Â Â Â Â -Â <span class="hljs-built_in">str</span>ï¼šç”¨ä½œç³»ç»Ÿæç¤ºè¯ã€‚
Â Â Â Â Â Â Â Â Â Â Â Â -Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]ï¼šæ‹¼æ¥åç”¨ä½œç³»ç»Ÿæç¤ºè¯ã€‚
Â Â Â Â Â Â Â Â Â Â Â Â -Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]ï¼šç›´æ¥ç”¨ä½œèŠå¤©æ¶ˆæ¯ï¼ˆéœ€åŒ…å«&amp;<span class="hljs-comment">#34;role&amp;#34;å’Œ&amp;#34;content&amp;#34;é”®ï¼‰ã€‚</span>
Â Â Â Â Â Â Â Â æ¶ˆæ¯å§‹ç»ˆä¼šè½¬æ¢ä¸ºæ ‡å‡†èŠå¤©æ¨¡æ¿æ ¼å¼ã€‚
Â Â Â Â Â Â Â Â å¼‚å¸¸ï¼š
Â Â Â Â Â Â Â Â Â Â Â Â ValueErrorï¼šå¦‚æœæ¨¡æ¿å¤„ç†åçš„æç¤ºè¯ä¸ºç©ºã€‚
Â Â Â Â Â Â Â Â è¿”å›ï¼š
Â Â Â Â Â Â Â Â Â Â Â Â DynamicCacheï¼šæ„å»ºå®Œæˆçš„KVç¼“å­˜å¯¹è±¡ã€‚
Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">import</span>Â torch

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†å¤šç§è¾“å…¥ç±»å‹ï¼Œç»Ÿä¸€è½¬æ¢ä¸ºæ ‡å‡†èŠå¤©æ¶ˆæ¯æ ¼å¼</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">isinstance</span>(messages,Â <span class="hljs-built_in">str</span>):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å­—ç¬¦ä¸²è¾“å…¥è½¬ä¸ºç³»ç»Ÿæç¤ºè¯æ ¼å¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â messagesÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;role&amp;#34;:Â &amp;#34;system&amp;#34;,</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;content&amp;#34;:Â f&amp;#34;BelowÂ isÂ someÂ informationÂ aboutÂ theÂ user.\n{messages}&amp;#34;,</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â <span class="hljs-built_in">isinstance</span>(messages,Â <span class="hljs-built_in">list</span>)Â <span class="hljs-keyword">and</span>Â messagesÂ <span class="hljs-keyword">and</span>Â <span class="hljs-built_in">isinstance</span>(messages[<span class="hljs-number">0</span>],Â <span class="hljs-built_in">str</span>):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å­—ç¬¦ä¸²åˆ—è¡¨è¾“å…¥æ‹¼æ¥åè½¬ä¸ºç³»ç»Ÿæç¤ºè¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â messagesÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;role&amp;#34;:Â &amp;#34;system&amp;#34;,</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;content&amp;#34;:Â f&amp;#34;BelowÂ isÂ someÂ informationÂ aboutÂ theÂ user.\n{'Â '.join(messages)}&amp;#34;,</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åº”ç”¨èŠå¤©æ¨¡æ¿ç”Ÿæˆå®Œæ•´æç¤ºè¯ï¼ˆä¸æ·»åŠ ç”Ÿæˆæç¤ºï¼Œä¸åˆ†è¯ï¼‰</span>
Â Â Â Â Â Â Â Â promptÂ =Â self.tokenizer.apply_chat_template(
Â Â Â Â Â Â Â Â Â Â Â Â messages,Â tokenize=<span class="hljs-literal">False</span>,Â add_generation_prompt=<span class="hljs-literal">False</span>
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯¹æç¤ºè¯è¿›è¡Œåˆ†è¯ï¼Œè½¬æ¢ä¸ºæ¨¡å‹è¾“å…¥æ ¼å¼</span>
Â Â Â Â Â Â Â Â inputsÂ =Â self.tokenizer(prompt,Â return_tensors=&amp;<span class="hljs-comment">#34;pt&amp;#34;)</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å°†è¾“å…¥IDç§»è‡³æ¨¡å‹æ‰€åœ¨è®¾å¤‡ï¼Œè½¬æ¢ä¸ºé•¿æ•´å‹</span>
Â Â Â Â Â Â Â Â inputs[&amp;<span class="hljs-comment">#34;input_ids&amp;#34;]Â =Â inputs[&amp;#34;input_ids&amp;#34;].to(self.model.device,Â dtype=torch.long)</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–åºåˆ—é•¿åº¦</span>
Â Â Â Â Â Â Â Â seq_lenÂ =Â inputs[&amp;<span class="hljs-comment">#34;input_ids&amp;#34;].size(-1)</span>
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æŸ¥æç¤ºè¯æ˜¯å¦ä¸ºç©º</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â seq_lenÂ ==Â <span class="hljs-number">0</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>Â ValueError(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â &amp;<span class="hljs-comment">#34;èŠå¤©æ¨¡æ¿å¤„ç†åçš„æç¤ºè¯ä¸ºç©ºï¼Œæ— æ³•æ„å»ºKVç¼“å­˜ã€‚è¯·æ£€æŸ¥ä½ çš„æ¶ˆæ¯è¾“å…¥ã€‚&amp;#34;</span>
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–åŠ¨æ€KVç¼“å­˜</span>
Â Â Â Â Â Â Â Â kvÂ =Â DynamicCache()
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å…³é—­æ¢¯åº¦è®¡ç®—ï¼Œæ‰§è¡Œå‰å‘ä¼ æ’­æ„å»ºç¼“å­˜</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">with</span>Â torch.no_grad():
Â Â Â Â Â Â Â Â Â Â Â Â self.model(**inputs,Â use_cache=<span class="hljs-literal">True</span>,Â past_key_values=kv)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æˆªå–æœ‰æ•ˆé•¿åº¦çš„ç¼“å­˜ï¼ˆå»é™¤å¯èƒ½çš„å†—ä½™éƒ¨åˆ†ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â i,Â (k,Â v)Â <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(kv.key_cache,Â kv.value_cache,Â strict=<span class="hljs-literal">False</span>)):
Â Â Â Â Â Â Â Â Â Â Â Â kv.key_cache[i]Â =Â k[:,Â :,Â :seq_len,Â :]
Â Â Â Â Â Â Â Â Â Â Â Â kv.value_cache[i]Â =Â v[:,Â :,Â :seq_len,Â :]
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â kv
</code></pre>
<h3 data-id="heading-19">0x04 ç¤ºä¾‹</h3>
<h4 data-id="heading-20">4.1 ä½•æ—¶ä½¿ç”¨ï¼š</h4>
<ul>
<li>ä½ æƒ³è¦çŸ­æœŸå·¥ä½œè®°å¿†ä»¥åŠ å¿«å¤šè½®å¯¹è¯é€Ÿåº¦ã€‚</li>
<li>é€‚åˆèŠå¤©æœºå™¨äººä¼šè¯åŠ é€Ÿæˆ–æç¤ºå¤ç”¨ã€‚</li>
<li>æœ€é€‚åˆç¼“å­˜éšè—çŠ¶æ€ / KV å¯¹ã€‚</li>
</ul>
<h4 data-id="heading-21">4.2 å…³é”®ç‚¹ï¼š</h4>
<ul>
<li>
<p>ç”¨ KVCacheMemoryï¼Œä¸å«æ˜¾å¼æ˜æ–‡è®°å¿†ã€‚</p>
</li>
<li>
<p>æ¼”ç¤ºæå– â†’ æ·»åŠ  â†’ åˆå¹¶ â†’ è·å– â†’ åˆ é™¤ã€‚</p>
</li>
<li>
<p>å±•ç¤ºå¦‚ä½•å¯¼å‡º/åŠ è½½ KV cacheã€‚</p>
</li>
</ul>
<p>ä»¥ä¸‹æ˜¯KV Cacheçš„ä½¿ç”¨ç¤ºä¾‹ã€‚</p>
<pre><code class="hljs language-xml" lang="xml">fromÂ memos.configs.memoryÂ importÂ MemoryConfigFactory
fromÂ memos.memories.factoryÂ importÂ MemoryFactory

#Â ä¸ºÂ KVCacheMemoryï¼ˆHuggingFaceÂ åç«¯ï¼‰åˆ›å»ºé…ç½®
configÂ =Â MemoryConfigFactory(
Â Â Â Â backend=<span class="hljs-symbol">&amp;#34;</span>kv_cache<span class="hljs-symbol">&amp;#34;</span>,
Â Â Â Â config={
Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>extractor_llm<span class="hljs-symbol">&amp;#34;</span>:Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>backend<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>huggingface<span class="hljs-symbol">&amp;#34;</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>config<span class="hljs-symbol">&amp;#34;</span>:Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>model_name_or_path<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>Qwen/Qwen3-0.6B<span class="hljs-symbol">&amp;#34;</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>max_tokens<span class="hljs-symbol">&amp;#34;</span>:Â 32,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>add_generation_prompt<span class="hljs-symbol">&amp;#34;</span>:Â True,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-symbol">&amp;#34;</span>remove_think_prefix<span class="hljs-symbol">&amp;#34;</span>:Â True,
Â Â Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â },
Â Â Â Â },
)

#Â å®ä¾‹åŒ–Â KVCacheMemory
kv_memÂ =Â MemoryFactory.from_config(config)

#Â æå–ä¸€ä¸ªÂ KVCacheItemï¼ˆDynamicCacheï¼‰
promptÂ =Â [
Â Â Â Â {<span class="hljs-symbol">&amp;#34;</span>role<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>user<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>content<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>WhatÂ isÂ MemOS?<span class="hljs-symbol">&amp;#34;</span>},
Â Â Â Â {<span class="hljs-symbol">&amp;#34;</span>role<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>assistant<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>content<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>MemOSÂ isÂ aÂ memoryÂ operatingÂ systemÂ forÂ LLMs.<span class="hljs-symbol">&amp;#34;</span>},
]
print(<span class="hljs-symbol">&amp;#34;</span>=====Â ExtractÂ KVCacheItemÂ =====<span class="hljs-symbol">&amp;#34;</span>)
cache_itemÂ =Â kv_mem.extract(prompt)
print(cache_item)

#Â å°†ç¼“å­˜æ·»åŠ åˆ°å†…å­˜ä¸­
kv_mem.add([cache_item])
print(<span class="hljs-symbol">&amp;#34;</span>AllÂ caches:<span class="hljs-symbol">&amp;#34;</span>,Â kv_mem.get_all())

#Â é€šè¿‡Â IDÂ è·å–
retrievedÂ =Â kv_mem.get(cache_item.id)
print(<span class="hljs-symbol">&amp;#34;</span>Retrieved:<span class="hljs-symbol">&amp;#34;</span>,Â retrieved)

#Â åˆå¹¶ç¼“å­˜ï¼ˆæ¨¡æ‹Ÿå¤šè½®å¯¹è¯ï¼‰
item2Â =Â kv_mem.extract([{<span class="hljs-symbol">&amp;#34;</span>role<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>user<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>content<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>TellÂ meÂ aÂ joke.<span class="hljs-symbol">&amp;#34;</span>}])
kv_mem.add([item2])
mergedÂ =Â kv_mem.get_cache([cache_item.id,Â item2.id])
print(<span class="hljs-symbol">&amp;#34;</span>MergedÂ cache:<span class="hljs-symbol">&amp;#34;</span>,Â merged)

#Â åˆ é™¤å…¶ä¸­ä¸€ä¸ª
kv_mem.delete([cache_item.id])
print(<span class="hljs-symbol">&amp;#34;</span>AfterÂ delete:<span class="hljs-symbol">&amp;#34;</span>,Â kv_mem.get_all())

#Â å¯¼å‡ºå’ŒåŠ è½½ç¼“å­˜
kv_mem.dump(<span class="hljs-symbol">&amp;#34;</span>tmp/kv_mem<span class="hljs-symbol">&amp;#34;</span>)
print(<span class="hljs-symbol">&amp;#34;</span>DumpedÂ toÂ tmp/kv_mem<span class="hljs-symbol">&amp;#34;</span>)
kv_mem.delete_all()
kv_mem.load(<span class="hljs-symbol">&amp;#34;</span>tmp/kv_mem<span class="hljs-symbol">&amp;#34;</span>)
print(<span class="hljs-symbol">&amp;#34;</span>LoadedÂ caches:<span class="hljs-symbol">&amp;#34;</span>,Â kv_mem.get_all())
</code></pre>
<h3 data-id="heading-22">0xFF å‚è€ƒ</h3>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå¤§å‚é¢è¯•çœŸé¢˜ï¼šä»è°¢é£æœºçš„æç¬‘å›ç­”çœ‹æŠ€æœ¯æ·±åº¦ä¸ä¸šåŠ¡è¡”æ¥]]></title>    <link>https://juejin.cn/post/7570912420568399882</link>    <guid>https://juejin.cn/post/7570912420568399882</guid>    <pubDate>2025-11-10T15:07:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7570912420568399882" data-draft-id="7570897638441254939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå¤§å‚é¢è¯•çœŸé¢˜ï¼šä»è°¢é£æœºçš„æç¬‘å›ç­”çœ‹æŠ€æœ¯æ·±åº¦ä¸ä¸šåŠ¡è¡”æ¥"/> <!----> <meta itemprop="datePublished" content="2025-11-10T15:07:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¦å°”æ‘©æ–¯çš„å¼Ÿå­"/> <meta itemprop="url" content="https://juejin.cn/user/622743759107883"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå¤§å‚é¢è¯•çœŸé¢˜ï¼šä»è°¢é£æœºçš„æç¬‘å›ç­”çœ‹æŠ€æœ¯æ·±åº¦ä¸ä¸šåŠ¡è¡”æ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/622743759107883/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¦å°”æ‘©æ–¯çš„å¼Ÿå­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-10T15:07:16.000Z" title="Mon Nov 10 2025 15:07:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaå¤§å‚é¢è¯•çœŸé¢˜ï¼šä»è°¢é£æœºçš„æç¬‘å›ç­”çœ‹æŠ€æœ¯æ·±åº¦ä¸ä¸šåŠ¡è¡”æ¥</h2>
<h3 data-id="heading-1">ä¸€ã€æ•…äº‹åœºæ™¯ï¼šéŸ³è§†é¢‘ç›´æ’­å¹³å°çš„é«˜å¹¶å‘æŒ‘æˆ˜</h3>
<p><strong>é¢è¯•å®˜ï¼ˆä¸¥è‚ƒï¼‰ï¼š</strong> ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€ä¸ªçœŸå®ä¸šåŠ¡åœºæ™¯â€”â€”æŸéŸ³è§†é¢‘ç›´æ’­å¹³å°åœ¨618å¤§ä¿ƒæœŸé—´ï¼Œå•æ—¥å³°å€¼ç”¨æˆ·æ•°çªç ´500ä¸‡ï¼Œå¹³å‡åœ¨çº¿æ—¶é•¿è¶…è¿‡4å°æ—¶ã€‚ä½œä¸ºæ ¸å¿ƒåç«¯å·¥ç¨‹å¸ˆï¼Œä½ å¦‚ä½•è®¾è®¡ç³»ç»Ÿæ¶æ„æ¥æ”¯æ’‘è¿™ç§è§„æ¨¡ï¼Ÿ</p>
<p><strong>ç¨‹åºå‘˜è°¢é£æœºï¼ˆæŒ å¤´ï¼‰ï¼š</strong> å“¦ï¼Œè¿™ä¸ªæˆ‘æ‡‚ï¼å°±æ˜¯å¤šåŠ æœåŠ¡å™¨å‘—ï¼Œå†æä¸ªè´Ÿè½½å‡è¡¡ï¼Œè®©æµé‡åˆ†æ‘Šåˆ°ä¸åŒæœºå™¨ä¸Šâ€¦â€¦</p>
<p><strong>é¢è¯•å®˜ï¼ˆå¾®ç¬‘ï¼‰ï¼š</strong> å¾ˆå¥½ï¼Œæœ‰åŸºç¡€è®¤çŸ¥ã€‚ä½†å…·ä½“æ€ä¹ˆå®ç°ï¼Ÿæ¯”å¦‚ä½ æåˆ°çš„è´Ÿè½½å‡è¡¡ï¼Œç”¨çš„æ˜¯ä»€ä¹ˆå·¥å…·ï¼Ÿæ˜¯å¦‚ä½•ä¿è¯ä¼šè¯ä¸€è‡´æ€§çš„ï¼Ÿ</p>
<p><strong>è°¢é£æœºï¼ˆè‡ªä¿¡ï¼‰ï¼š</strong> å—¯â€¦â€¦æˆ‘ç”¨Nginxï¼Œç„¶åæŠŠç”¨æˆ·è¯·æ±‚åˆ†å‘å‡ºå»ã€‚è‡³äºä¼šè¯ä¸€è‡´æ€§å˜›â€¦â€¦å¥½åƒå¯ä»¥ç”¨Rediså­˜ä¸€ä¸‹ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆç‚¹å¤´ï¼‰ï¼š</strong> æ°å¥½ï¼æˆ‘ä»¬æ­£æ˜¯é€šè¿‡ <strong>Spring Session + Redis</strong> å®ç°åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ï¼Œé¿å…äº†ä¼ ç»ŸSessionå¤åˆ¶å¸¦æ¥çš„æ€§èƒ½ç“¶é¢ˆã€‚é‚£ä¹ˆï¼Œå¦‚æœç”¨æˆ·åœ¨è§‚çœ‹ç›´æ’­æ—¶çªç„¶æ–­ç½‘é‡è¿ï¼Œå¦‚ä½•å¿«é€Ÿæ¢å¤æ’­æ”¾çŠ¶æ€ï¼Ÿ</p>
<p><strong>è°¢é£æœºï¼ˆæ”¯æ”¯å¾å¾ï¼‰ï¼š</strong> è¿™ä¸ªâ€¦â€¦æ˜¯ä¸æ˜¯è¦ç¼“å­˜è§†é¢‘åˆ‡ç‰‡ï¼Ÿæˆ–è€…ç”¨Kafkaè®°å½•ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆç•¥å¸¦é—æ†¾ï¼‰ï¼š</strong> æ¥è¿‘äº†ã€‚æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ <strong>Kafka + Flink å®æ—¶å¤„ç†ç”¨æˆ·æ’­æ”¾è½¨è¿¹</strong>ï¼Œç»“åˆ <strong>Redis ç¼“å­˜æœ€è¿‘æ’­æ”¾ä½ç½®</strong>ï¼Œæ”¯æŒç§’çº§æ¢å¤ã€‚è¿™èƒŒåæ¶‰åŠæµæ‰¹ä¸€ä½“æ¶æ„è®¾è®¡ã€‚</p>
<p><strong>è°¢é£æœºï¼ˆæç„¶å¤§æ‚Ÿï¼‰ï¼š</strong> åŸæ¥å¦‚æ­¤ï¼é‚£â€¦â€¦é‚£æˆ‘å¾—å›å»å¥½å¥½å­¦å­¦Flinkï¼</p>
<hr/>
<h3 data-id="heading-2">äºŒã€æ·±å…¥è¿½é—®ï¼šé«˜å¯ç”¨ä¸å®¹ç¾è®¾è®¡</h3>
<p><strong>é¢è¯•å®˜ï¼š</strong> ç°åœ¨æˆ‘ä»¬è¿›å…¥ç¬¬äºŒè½®ã€‚å‡è®¾æŸä¸ªè¾¹ç¼˜èŠ‚ç‚¹å‘ç”Ÿæ•…éšœï¼Œå¯¼è‡´éƒ¨åˆ†ç”¨æˆ·æ— æ³•è¿æ¥ï¼Œç³»ç»Ÿè¯¥å¦‚ä½•è‡ªæ„ˆï¼Ÿ</p>
<p><strong>è°¢é£æœºï¼ˆæ€è€ƒï¼‰ï¼š</strong> é‚£ä¸å°±æ˜¯ç”¨ZooKeeperåšæœåŠ¡æ³¨å†Œä¸å‘ç°å—ï¼Ÿæˆ–è€…ç”¨Consulï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆèµè®¸ï¼‰ï¼š</strong> æ­£ç¡®ï¼æˆ‘ä»¬ä½¿ç”¨ <strong>Spring Cloud Alibaba Nacos</strong> è¿›è¡ŒæœåŠ¡æ³¨å†Œä¸å‘ç°ï¼Œå¹¶é…åˆ <strong>Sentinel</strong> å®ç°ç†”æ–­é™æµã€‚å½“æŸä¸ªèŠ‚ç‚¹å¼‚å¸¸æ—¶ï¼ŒæœåŠ¡è°ƒç”¨è‡ªåŠ¨é™çº§ï¼Œç”¨æˆ·è¯·æ±‚è¢«è·¯ç”±è‡³å¥åº·èŠ‚ç‚¹ã€‚</p>
<p><strong>è°¢é£æœºï¼ˆå…´å¥‹ï¼‰ï¼š</strong> å“¦ï¼é‚£æ˜¯ä¸æ˜¯è¿˜å¯ä»¥ç”¨Resilience4jåšæ›´ç»†ç²’åº¦çš„é™çº§ç­–ç•¥ï¼Ÿæ¯”å¦‚å¯¹æŸäº›æ¥å£è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆå¾®ç¬‘ï¼‰ï¼š</strong> éå¸¸åˆ°ä½ï¼æˆ‘ä»¬ç¡®å®é›†æˆäº† <strong>Resilience4j</strong>ï¼Œå¹¶ç»“åˆ <strong>OpenFeign + Hystrix Dashboard</strong> å®ç°äº†å¯è§†åŒ–ç›‘æ§ã€‚ç°åœ¨ï¼Œå¦‚æœæŸä¸ªå¾®æœåŠ¡å“åº”å»¶è¿Ÿè¿‡é«˜ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§¦å‘ç†”æ–­æœºåˆ¶ï¼Œé˜²æ­¢é›ªå´©ã€‚</p>
<p><strong>è°¢é£æœºï¼ˆæŒ å¤´ï¼‰ï¼š</strong> é‚£â€¦â€¦é‚£è¦æ˜¯æ•´ä¸ªæœºæˆ¿éƒ½æŒ‚äº†å‘¢ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆè®¤çœŸï¼‰ï¼š</strong> è¿™æ­£æ˜¯æˆ‘ä»¬è®¾è®¡çš„è·¨å¯ç”¨åŒºå®¹ç¾æ–¹æ¡ˆã€‚æˆ‘ä»¬ä½¿ç”¨ <strong>Kubernetes + Istio</strong> æ„å»ºå¤šæ´»é›†ç¾¤ï¼Œåœ¨ä¸åŒåœ°åŸŸéƒ¨ç½²ç›¸åŒæœåŠ¡å®ä¾‹ã€‚é€šè¿‡ <strong>gRPC + Service Mesh</strong> å®ç°è·¨åŒºåŸŸæœåŠ¡é€šä¿¡ï¼Œå¹¶åˆ©ç”¨ <strong>Flyway</strong> ç®¡ç†æ•°æ®åº“ç‰ˆæœ¬ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p><strong>è°¢é£æœºï¼ˆæƒŠå¹ï¼‰ï¼š</strong> å¤ªå‰å®³äº†ï¼æˆ‘ä¹‹å‰åªåœ¨ä¹¦ä¸Šçœ‹è¿‡è¿™äº›æ¦‚å¿µâ€¦â€¦</p>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€ç»ˆæè€ƒéªŒï¼šæ€§èƒ½ä¼˜åŒ–ä¸å®‰å…¨é˜²æŠ¤</h3>
<p><strong>é¢è¯•å®˜ï¼š</strong> æœ€åä¸€è½®ã€‚å‡è®¾ç”¨æˆ·ä¸Šä¼ è§†é¢‘æ—¶é¢‘ç¹å‡ºç°â€œä¸Šä¼ å¤±è´¥â€é—®é¢˜ï¼Œå¯èƒ½æ˜¯ä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•æ’æŸ¥ï¼Ÿ</p>
<p><strong>è°¢é£æœºï¼ˆè‡ªä¿¡ï¼‰ï¼š</strong> åº”è¯¥æ˜¯ç½‘ç»œé—®é¢˜å§ï¼Ÿæˆ–è€…æ˜¯æœåŠ¡å™¨å¤ªå¿™äº†ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆå¼•å¯¼ï¼‰ï¼š</strong> ä»ç³»ç»Ÿè§’åº¦åˆ†æã€‚æˆ‘ä»¬å‘ç°ï¼Œä¸Šä¼ è¯·æ±‚é«˜å³°æœŸä¼šå¯¼è‡´ <strong>Tomcatçº¿ç¨‹æ± è€—å°½</strong>ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼šå°†ä¸Šä¼ ä»»åŠ¡å¼‚æ­¥åŒ–ï¼Œä½¿ç”¨ <strong>RabbitMQ + Spring Boot å¼‚æ­¥æ¶ˆè´¹</strong>ï¼Œå¹¶å°†æ–‡ä»¶å…ˆå†™å…¥æœ¬åœ°ä¸´æ—¶ç›®å½•ï¼Œå†é€šè¿‡ <strong>MinIO å¯¹è±¡å­˜å‚¨</strong> åˆ†å¸ƒå¼ä¿å­˜ã€‚</p>
<p><strong>è°¢é£æœºï¼ˆç‚¹å¤´ï¼‰ï¼š</strong> å“¦ï¼Œé‚£å²‚ä¸æ˜¯èƒ½å¤§å¤§é™ä½ä¸»æœåŠ¡å‹åŠ›ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜ï¼ˆç»§ç»­ï¼‰ï¼š</strong> æ˜¯çš„ã€‚åŒæ—¶ï¼Œä¸ºé˜²æ­¢æ¶æ„ä¸Šä¼ ï¼Œæˆ‘ä»¬åœ¨å‰ç«¯åšäº†æ–‡ä»¶ç±»å‹æ ¡éªŒï¼Œåç«¯ä½¿ç”¨ <strong>Apache Tika</strong> è§£ææ–‡ä»¶çœŸå®ç±»å‹ï¼Œå¹¶ç»“åˆ <strong>Shiro + JWT</strong> å®ç°èº«ä»½è®¤è¯ï¼Œç¡®ä¿åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½ä¸Šä¼ ã€‚</p>
<p><strong>è°¢é£æœºï¼ˆæç„¶ï¼‰ï¼š</strong> åŸæ¥å¦‚æ­¤ï¼æˆ‘ä»¥å‰ä»¥ä¸ºåªè¦åŠ ä¸ªtokenå°±è¡Œï¼Œæ²¡æƒ³åˆ°è¿˜æœ‰è¿™ä¹ˆå¤šç»†èŠ‚â€¦â€¦</p>
<p><strong>é¢è¯•å®˜ï¼ˆç«™èµ·ï¼‰ï¼š</strong> è°¢é£æœºåŒå­¦ï¼Œä½ çš„å›ç­”è™½ç„¶ä¸å¤Ÿç²¾å‡†ï¼Œä½†å±•ç°äº†ä¸é”™çš„å­¦ä¹ æ½œåŠ›å’Œé€»è¾‘æ€ç»´ã€‚æˆ‘ä»¬ä¼šåœ¨ä¸€å‘¨å†…é€šçŸ¥ç»“æœã€‚ç¥ä½ å¥½è¿ï¼</p>
<hr/>
<h3 data-id="heading-4">å››ã€æŠ€æœ¯è§£æï¼šä»é¢è¯•é—®ç­”ä¸­æç‚¼å®æˆ˜è¦ç‚¹ï¼ˆå°ç™½ä¹Ÿèƒ½çœ‹æ‡‚ï¼‰</h3>
<h4 data-id="heading-5">1. é«˜å¹¶å‘æ¶æ„è®¾è®¡æ ¸å¿ƒè¦ç´ </h4>
<ul>
<li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šä½¿ç”¨ Nginx + LVSï¼Œå®ç°è¯·æ±‚åˆ†å‘ï¼›</li>
<li><strong>åˆ†å¸ƒå¼ä¼šè¯</strong>ï¼šé€šè¿‡ <strong>Spring Session + Redis</strong> å­˜å‚¨ç”¨æˆ·çŠ¶æ€ï¼Œé¿å…ä¼šè¯ä¸¢å¤±ï¼›</li>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šåˆ©ç”¨ <strong>RabbitMQ / Kafka</strong> å°†è€—æ—¶æ“ä½œï¼ˆå¦‚ä¸Šä¼ ã€æ¶ˆæ¯æ¨é€ï¼‰è§£è€¦ï¼›</li>
<li><strong>å¤šæ´»éƒ¨ç½²</strong>ï¼šåŸºäº <strong>Kubernetes + Istio</strong> å®ç°è·¨åŒºåŸŸå®¹ç¾ï¼Œä¿éšœæœåŠ¡è¿ç»­æ€§ã€‚</li>
</ul>
<h4 data-id="heading-6">2. å¾®æœåŠ¡æ²»ç†å…³é”®æŠ€æœ¯</h4>
<ul>
<li><strong>æœåŠ¡æ³¨å†Œä¸å‘ç°</strong>ï¼šä½¿ç”¨ <strong>Nacos</strong> æ›¿ä»£ Eurekaï¼Œæ”¯æŒåŠ¨æ€é…ç½®æ¨é€ï¼›</li>
<li><strong>ç†”æ–­é™æµ</strong>ï¼šé›†æˆ <strong>Sentinel / Resilience4j</strong>ï¼Œé˜²æ­¢é›ªå´©ï¼›</li>
<li><strong>é“¾è·¯è¿½è¸ª</strong>ï¼šé€šè¿‡ <strong>Zipkin + OpenTelemetry</strong> è¿½è¸ªè¯·æ±‚é“¾è·¯ï¼Œå®šä½æ…¢æ¥å£ï¼›</li>
<li><strong>API ç½‘å…³</strong>ï¼šä½¿ç”¨ <strong>Spring Cloud Gateway</strong> ç»Ÿä¸€å…¥å£ï¼Œå®ç°é‰´æƒã€é™æµã€æ—¥å¿—é‡‡é›†ã€‚</li>
</ul>
<h4 data-id="heading-7">3. æ•°æ®åº“ä¸ç¼“å­˜ä¼˜åŒ–ç­–ç•¥</h4>
<ul>
<li><strong>è¿æ¥æ± ç®¡ç†</strong>ï¼šä½¿ç”¨ <strong>HikariCP</strong> æ›¿ä»£ C3P0ï¼Œæå‡è¿æ¥æ•ˆç‡ï¼›</li>
<li><strong>è¯»å†™åˆ†ç¦»</strong>ï¼šé€šè¿‡ <strong>MyBatis Plus + ShardingSphere</strong> å®ç°åˆ†åº“åˆ†è¡¨ï¼›</li>
<li><strong>ç¼“å­˜ç©¿é€/å‡»ç©¿</strong>ï¼šä½¿ç”¨ <strong>Caffeine + Redis</strong> åŒå±‚ç¼“å­˜ï¼Œé…åˆå¸ƒéš†è¿‡æ»¤å™¨é˜²ç©¿é€ï¼›</li>
<li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šé‡‡ç”¨ <strong>Canal + Kafka</strong> å®ç° MySQL Binlog åŒæ­¥åˆ° ESã€‚</li>
</ul>
<h4 data-id="heading-8">4. å®‰å…¨ä¸é£æ§æœºåˆ¶</h4>
<ul>
<li><strong>èº«ä»½è®¤è¯</strong>ï¼šåŸºäº <strong>JWT + OAuth2</strong> æ„å»ºæ— çŠ¶æ€è®¤è¯ä½“ç³»ï¼›</li>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šä½¿ç”¨ <strong>Spring Security + RBAC</strong> æ¨¡å‹ï¼›</li>
<li><strong>æ–‡ä»¶å®‰å…¨</strong>ï¼šé€šè¿‡ <strong>Tika</strong> æ ¡éªŒä¸Šä¼ æ–‡ä»¶çœŸå®ç±»å‹ï¼Œé˜²æ­¢ç—…æ¯’æ³¨å…¥ï¼›</li>
<li><strong>æ—¥å¿—å®¡è®¡</strong>ï¼šæ‰€æœ‰æ•æ„Ÿæ“ä½œè®°å½•è‡³ <strong>ELK Stack</strong>ï¼Œä¾¿äºè¿½æº¯ã€‚</li>
</ul>
<h4 data-id="heading-9">5. CI/CD ä¸å¯è§‚æµ‹æ€§</h4>
<ul>
<li><strong>æŒç»­é›†æˆ</strong>ï¼šä½¿ç”¨ <strong>GitHub Actions + Docker + Kubernetes</strong> æ„å»ºè‡ªåŠ¨åŒ–å‘å¸ƒæµæ°´çº¿ï¼›</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šé›†æˆ <strong>Prometheus + Grafana</strong> ç›‘æ§æŒ‡æ ‡ï¼Œè®¾ç½®é˜ˆå€¼å‘Šè­¦ï¼›</li>
<li><strong>æ—¥å¿—åˆ†æ</strong>ï¼šé€šè¿‡ <strong>Fluentd + Elasticsearch + Kibana</strong> å®ç°æ—¥å¿—é›†ä¸­ç®¡ç†ï¼›</li>
<li><strong>é“¾è·¯è¿½è¸ª</strong>ï¼šä½¿ç”¨ <strong>Jaeger</strong> å¯è§†åŒ–è°ƒç”¨é“¾ï¼Œå¿«é€Ÿå®šä½æ€§èƒ½ç“¶é¢ˆã€‚</li>
</ul>
<blockquote>
<p>âœ… æ€»ç»“ï¼šçœŸæ­£çš„é«˜é˜¶é¢è¯•ï¼Œä¸ä»…è€ƒå¯ŸçŸ¥è¯†ç‚¹ï¼Œæ›´çœ‹é‡ <strong>ä¸šåŠ¡ç†è§£èƒ½åŠ› + æŠ€æœ¯é€‰å‹æ€ç»´ + æ¶æ„è®¾è®¡èƒ½åŠ›</strong>ã€‚å³ä½¿ç­”é”™ï¼Œåªè¦å±•ç°å‡ºæ€è€ƒè¿‡ç¨‹ï¼Œä¾ç„¶å€¼å¾—é¼“åŠ±ã€‚</p>
</blockquote>
<hr/>
<blockquote>
<p>ğŸ“Œ æœ¬æ–‡é¦–å‘äºæ˜é‡‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚ä½œè€…ï¼š@æŠ€æœ¯å°é£ä¾  | æŠ€æœ¯äº¤æµç¾¤ï¼š987654321</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <!----></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¯å’–å•¡æˆæœ¬æå®šå¤šæ¨¡æ€å¾®è°ƒï¼šFC DevPod + Llama-Factory æé€Ÿå®æˆ˜]]></title>    <link>https://juejin.cn/post/7581858890608050212</link>    <guid>https://juejin.cn/post/7581858890608050212</guid>    <pubDate>2025-12-10T09:57:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581858890608050212" data-draft-id="7581858890607247396" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¯å’–å•¡æˆæœ¬æå®šå¤šæ¨¡æ€å¾®è°ƒï¼šFC DevPod + Llama-Factory æé€Ÿå®æˆ˜"/> <meta itemprop="keywords" content="Serverless"/> <meta itemprop="datePublished" content="2025-12-10T09:57:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¯å’–å•¡æˆæœ¬æå®šå¤šæ¨¡æ€å¾®è°ƒï¼šFC DevPod + Llama-Factory æé€Ÿå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T09:57:40.000Z" title="Wed Dec 10 2025 09:57:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šç‹éªœ</p>
<p>ä½œä¸ºä¸€ä¸ª AI å¼€å‘è€…ï¼Œä½ ä¸€å®šç»å†è¿‡è¿™æ ·çš„ç»æœ›æ—¶åˆ»ï¼šå…´è‡´å‹ƒå‹ƒåœ°ä¸‹è½½äº†æœ€æ–°çš„ Qwen2-VL æƒé‡ï¼Œå‡†å¤‡ç”¨è‡ªå·±çš„å‚ç›´é¢†åŸŸæ•°æ®è·‘ä¸€æ¬¡ SFTï¼ˆç›‘ç£å¾®è°ƒï¼‰ã€‚ç„¶è€Œï¼Œç°å®å´æ˜¯æ®‹é…·çš„â€”â€”</p>
<ul>
<li><code>RuntimeError: CUDA out of memory</code>â€”â€” æ˜¾å­˜ä¸å¤Ÿï¼Œæ¨¡å‹åŠ è½½å¤±è´¥ã€‚</li>
<li><code>Driver/Library version mismatch</code>â€”â€” é©±åŠ¨ç‰ˆæœ¬ä¸å¯¹ï¼Œç¯å¢ƒé…ç½®é™·å…¥æ­»å¾ªç¯ã€‚</li>
<li>çœ‹ç€äº‘å‚å•† GPU å®ä¾‹é«˜æ˜‚çš„åŒ…æœˆè´¦å•ï¼ŒçŠ¹è±«ç€è¦ä¸è¦ä¸ºäº†è¿™å‡ å°æ—¶çš„å®éªŒæŒ‰ä¸‹â€œè´­ä¹°â€é”®ã€‚</li>
</ul>
<p>æŠ€æœ¯çš„è¿›æ­¥æœ¬è¯¥æ˜¯ä¸ºäº†é‡Šæ”¾åˆ›é€ åŠ›ï¼Œè€Œä¸æ˜¯å¢åŠ é—¨æ§›ã€‚åœ¨ Serverless æ—¶ä»£ï¼Œç®—åŠ›åº”è¯¥åƒæ°´ç”µä¸€æ ·ï¼Œæ‰­å¼€æ°´é¾™å¤´å°±æœ‰ï¼Œå…³ä¸Šå°±åœï¼ŒæŒ‰éœ€ä»˜è´¹ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ‰“ç ´â€œå¾®è°ƒ=æ˜‚è´µ+éº»çƒ¦â€çš„åˆ»æ¿å°è±¡ã€‚ä¸éœ€è¦å›¤ç§¯æ˜¾å¡ï¼Œä¹Ÿä¸éœ€è¦ç²¾é€šè¿ç»´ï¼Œæˆ‘ä»¬å°†å¸¦ä½ ä½“éªŒä¸€å¥—â€œ<strong>DevPod + Llama-Factoryçš„æé€Ÿç»„åˆæ‹³</strong>â€œã€‚</p>
<h2 data-id="heading-0">æ–¹æ¡ˆæ­ç§˜ï¼šFC+Llama-Factory çš„â€œé»„é‡‘æ­æ¡£â€</h2>
<p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚åœ¨å¼€å§‹å®æˆ˜ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ‹†è§£ä¸€ä¸‹è¿™å¥—â€œå¼€ç®±å³ç”¨â€çš„å¾®è°ƒæµæ°´çº¿èƒŒåçš„ä¸‰ä½ä¸»è§’ã€‚å½“å®ƒä»¬åœ¨ Serverless æ¶æ„ä¸‹ç›¸é‡ï¼Œå¤æ‚çš„æ¨¡å‹è®­ç»ƒå°±å˜æˆäº†ä¸€åœºæµç•…çš„æ­ç§¯æœ¨æ¸¸æˆã€‚</p>
<h4 data-id="heading-1">1. ä¸»è§’ï¼šQwen VL æ¨¡å‹ â€”â€” å¤šæ¨¡æ€é¢†åŸŸçš„â€œå…­è¾¹å½¢æˆ˜å£«â€</h4>
<ul>
<li><strong>çœ‹å¾—æ›´æ¸…ï¼š</strong> å®ƒä¸ä»…èƒ½è¯†åˆ«å›¾ç‰‡ä¸­çš„ç‰©ä½“ï¼Œè¿˜èƒ½ç²¾å‡†æå–å¤æ‚çš„å›¾è¡¨æ•°æ®ã€é˜…è¯»å¯†é›†çš„æ–‡æ¡£æ–‡å­—ï¼ˆOCRï¼‰ï¼Œç”šè‡³ç†è§£é•¿è§†é¢‘ä¸­çš„æ—¶åºé€»è¾‘ã€‚</li>
<li><strong>æ‡‚ä½ æ‰€æƒ³ï¼š</strong> åœ¨æŒ‡ä»¤éµå¾ªï¼ˆInstruction Followingï¼‰èƒ½åŠ›ä¸Šå¤§å¹…å¢å¼ºï¼Œè¿™æ„å‘³ç€é€šè¿‡å¾®è°ƒï¼Œä½ å¯ä»¥æ›´å®¹æ˜“åœ°è®©å®ƒå­¦ä¼šä½ ç‰¹å®šä¸šåŠ¡åœºæ™¯ä¸‹çš„â€œè¡Œè¯â€å’Œè§„åˆ™ã€‚</li>
<li><strong>ä»·å€¼ç‚¹ï¼š</strong> é€‰æ‹© Qwen2-VLï¼Œæ„å‘³ç€ä½ çš„èµ·ç‚¹å·²ç»æ˜¯è¡Œä¸šé¡¶å°–æ°´å¹³ï¼Œå¾®è°ƒåªæ˜¯ä¸ºäº†è®©å®ƒæ›´æ‡‚ä½ çš„ç§æœ‰æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-2">2. å·¥å…·ï¼šLlama-Factory â€”â€” å¾®è°ƒç•Œçš„â€œç‘å£«å†›åˆ€â€</h4>
<p>å¯¹äºè®¸å¤šå¼€å‘è€…æ¥è¯´ï¼Œå¾®è°ƒæœ€å¤§çš„é—¨æ§›ä¸æ˜¯ä¸æ‡‚åŸç†ï¼Œè€Œæ˜¯ä¸æƒ³å†™é‚£å‡ åƒè¡Œçš„ PyTorch è®­ç»ƒä»£ç ã€‚Llama-Factory çš„å‡ºç°ï¼Œå®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<ul>
<li><strong>é›¶ä»£ç é—¨æ§›ï¼š</strong> å®ƒæä¾›äº†ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ WebUI ç•Œé¢ã€‚åŠ è½½æ¨¡å‹ã€é…ç½®å‚æ•°ã€ç›‘æ§ Loss æ›²çº¿ã€è¯„ä¼°æ•ˆæœï¼Œæ‰€æœ‰æ“ä½œéƒ½å¯ä»¥åœ¨æµè§ˆå™¨ä¸­é€šè¿‡ç‚¹å‡»å®Œæˆã€‚</li>
<li><strong>å…¨æµç¨‹è¦†ç›–ï¼š</strong> ä»é¢„è®­ç»ƒï¼ˆPTï¼‰ã€æŒ‡ä»¤ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰åˆ°å¥–åŠ±æ¨¡å‹è®­ç»ƒï¼ˆRMï¼‰å’Œ PPO/DPOï¼Œå®ƒé›†æˆäº†ä¸šç•Œæœ€ä¸»æµçš„å¾®è°ƒæ–¹æ³•ï¼ˆå¦‚ LoRAã€QLoRAï¼‰ã€‚</li>
<li><strong>ä»·å€¼ç‚¹ï¼š</strong> å®ƒå±è”½äº†åº•å±‚ DeepSpeedã€Accelerate ç­‰æ¡†æ¶çš„å¤æ‚é…ç½®ï¼Œè®©ä½ èƒ½æŠŠç²¾åŠ›é›†ä¸­åœ¨â€œæ•°æ®è´¨é‡â€å’Œâ€œæ¨¡å‹æ•ˆæœâ€ä¸Šã€‚</li>
</ul>
<h4 data-id="heading-3">3. èˆå°ï¼šé˜¿é‡Œäº‘å‡½æ•°è®¡ç®— FC â€”â€” ä¸º AI è€Œç”Ÿçš„ Serverless ç®—åŠ›</h4>
<p>æœ‰äº†å¥½æ¨¡å‹å’Œå¥½å·¥å…·ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªèƒ½è·‘å¾—åŠ¨å®ƒä»¬çš„â€œèˆå°â€ã€‚ä¼ ç»Ÿçš„ GPU æœåŠ¡å™¨ç§Ÿèµæ¨¡å¼å¾€å¾€é¢ä¸´â€œéƒ¨ç½²éš¾ã€é—²ç½®è´µâ€çš„å°´å°¬ï¼Œè€Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Ffc%3Fspm%3Da1z389.11499242.0.0.65452413RXCQWs%26utm_content%3Dg_1000408146" target="_blank" title="https://www.aliyun.com/product/fc?spm=a1z389.11499242.0.0.65452413RXCQWs&amp;utm_content=g_1000408146" ref="nofollow noopener noreferrer">å‡½æ•°è®¡ç®—ï¼ˆFCï¼‰</a>ç»™å‡ºäº†å…¨æ–°çš„è§£æ³•ï¼š</p>
<ul>
<li><strong>æè‡´å¼¹æ€§ï¼ŒæŒ‰é‡ä»˜è´¹ï¼š</strong> è¿™æ˜¯ Serverless çš„çµé­‚ã€‚ä½ åªéœ€è¦ä¸ºè®­ç»ƒçš„é‚£å‡ ä¸ªå°æ—¶ä»˜è´¹ã€‚è®­ç»ƒç»“æŸï¼Œå®ä¾‹å¯è½»æ¾é‡Šæ”¾ï¼Œä¸å†äº§ç”Ÿä»»ä½•é—²ç½®è´¹ç”¨ã€‚å¯¹äºå®éªŒæ€§è´¨çš„å¾®è°ƒä»»åŠ¡ï¼Œæˆæœ¬å¯ä»¥é™ä½ 50% ä»¥ä¸Šã€‚</li>
<li><strong>ç¯å¢ƒé¢„ç½®ï¼Œæ‹’ç»â€œé…ç¯å¢ƒâ€ï¼š</strong> æˆ‘ä»¬åœ¨ FC çš„åº”ç”¨ä¸­å¿ƒé¢„ç½®äº†åŒ…å« CUDAã€PyTorch ä»¥åŠ Llama-Factory ä¾èµ–çš„å®˜æ–¹é•œåƒã€‚è¿™ä¸€æ­¥è‡³å…³é‡è¦â€”â€”å®ƒæ„å‘³ç€ä½ ä¸éœ€è¦å¤„ç†ä»»ä½•é©±åŠ¨å†²çªï¼Œç‚¹å‡»éƒ¨ç½²ï¼Œç¯å¢ƒå³åˆ»å°±ç»ªã€‚</li>
<li><strong>å¼‚æ„ç®—åŠ›æ”¯æŒï¼š</strong> FC æä¾›äº†ä¸°å¯Œçš„ GPU è§„æ ¼ä¾›ä½ é€‰æ‹©ï¼Œæ»¡è¶³ä¸åŒè§„æ¨¡çš„å¾®è°ƒéœ€æ±‚ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d449f0c469f34cab849b86746359a22e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=rVgJZtI4gSZ47Q9p3FmTnWKmMw4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><em>â€œå½“ Llama-Factory çš„å¯è§†åŒ–äº¤äº’é‡ä¸Š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Ffc%3Fspm%3Da1z389.11499242.0.0.65452413RXCQWs%26utm_content%3Dg_1000408146" target="_blank" title="https://www.aliyun.com/product/fc?spm=a1z389.11499242.0.0.65452413RXCQWs&amp;utm_content=g_1000408146" ref="nofollow noopener noreferrer">FC</a> çš„æè‡´å¼¹æ€§ï¼Œå¾®è°ƒ Qwen2-VL å°±å˜æˆäº†ä¸€åœºâ€˜ç‚¹å‡»å³å¾—â€™çš„æµç•…ä½“éªŒã€‚æˆ‘ä»¬ä¸å†éœ€è¦åƒè¿ç»´å·¥ç¨‹å¸ˆä¸€æ ·ç›¯ç€é»‘åº•ç™½å­—çš„ç»ˆç«¯çª—å£ï¼Œè€Œæ˜¯å¯ä»¥åƒä¿®å›¾å¸ˆä¸€æ ·ï¼Œåœ¨ Web ç•Œé¢ä¸Šä¼˜é›…åœ°æ‰“ç£¨æˆ‘ä»¬çš„æ¨¡å‹ã€‚â€</em></p>
<h2 data-id="heading-4">æåº¦éƒ¨ç½²ï¼š5 åˆ†é’Ÿæ­å»ºå¾®è°ƒæµæ°´çº¿</h2>
<p>ä¼ ç»Ÿå¾®è°ƒçš„ç¬¬ä¸€æ­¥é€šå¸¸æ˜¯â€œç§ŸæœåŠ¡å™¨ã€è£…é©±åŠ¨ã€é…ç¯å¢ƒâ€ï¼Œè€Œåœ¨ Serverless æ¶æ„ä¸‹ï¼Œæˆ‘ä»¬ç›´æ¥ä»â€œåº”ç”¨â€å¼€å§‹ã€‚</p>
<h4 data-id="heading-5">Step 1ï¼šDevPod å¼€å‘ç¯å¢ƒä¸€é”®æ‹‰èµ·</h4>
<p>ç™»å½• Function AI æ§åˆ¶å° - Fun Model - æ¨¡å‹å¸‚åœºï¼Œç‚¹å‡»é¡µé¢çš„ã€Œè‡ªå®šä¹‰å¼€å‘ã€ï¼Œåœ¨ã€Œæ¨¡å‹ç¯å¢ƒä¸‹ã€é€‰æ‹©ã€Œè‡ªå®šä¹‰ç¯å¢ƒã€ï¼Œåœ¨å®¹å™¨é•œåƒåœ°å€ä¸­å¡«å…¥Â <code>serverless-registry.cn-hangzhou.cr.aliyuncs.com/functionai/devpod-presets:llama-factory-v0.9.4-v1</code>ã€‚è¯¥é•œåƒå·²å†…ç½® llama-factory v0.9.4 çš„ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/496f1509dc4b48c295d5bd9d02c1619c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=Fyul11xoJCFdMBrSaOLCgS5KU5E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-6">Step 2ï¼šèµ„æºä¸å­˜å‚¨é…ç½®ï¼ˆå…³é”®ä¸€æ­¥ï¼‰</h4>
<p>åªéœ€å…³æ³¨ GPU ç±»å‹ã€‚å¯¹äº Qwen3-VL çš„ LoRA å¾®è°ƒï¼Œæ¨èé€‰æ‹© GPU æ€§èƒ½å‹å•å¡å³å¯æ»¡è¶³éœ€æ±‚ï¼Œæ€§ä»·æ¯”æé«˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f84d56ae42b148c0ac43c8674ff94246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=1gxObfna3TERPXhe0oYq8Wz9Dzw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-7">Step 3ï¼šä¸€é”®æ‹‰èµ·ç¯å¢ƒï¼Œç‚¹å‡»ã€ŒDevPod å¼€å‘è°ƒè¯•ã€</h4>
<p>FC ä¼šè‡ªåŠ¨æ‹‰å–åŒ…å« CUDA ç¯å¢ƒå’Œ Llama-Factory æ¡†æ¶çš„é•œåƒã€‚å¤§çº¦ç­‰å¾… 1-3 åˆ†é’Ÿï¼Œé¡µé¢è‡ªåŠ¨è·³è½¬åˆ° DevPod é¡µé¢ï¼Œæˆ‘ä»¬è¿›å…¥ Terminal ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤Â USE_MODELSCOPE_HUB=1 lmf webui<code>Â </code>å¯åŠ¨ llama-factory çš„è¿›ç¨‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61498ba49fcb4bdc851b33b1036a06a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=m21UGgrm4TsoraLhVdyhBx05q3Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/021835339e0347bc96a6f8963862d27b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=k2AG1o77y6xWS6gdzrZh0lztHgA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ ¹æ®ã€Œå¿«é€Ÿè®¿é—®ã€é¡µç­¾çš„æç¤ºï¼Œå°† uri ä¸­çš„ {port} æ›¿æ¢ä¸º 7860 å³å¯ï¼ˆllama-factory é»˜è®¤ä½¿ç”¨ 7860 ç«¯å£ï¼‰ã€‚ç›´æ¥ä½¿ç”¨è¯¥ uri åœ¨æµè§ˆå™¨è¿›è¡Œè®¿é—®ï¼Œè¿›å…¥ llama-factory çš„ webui ç•Œé¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18ff05aaf8314ebea7067f972fe221b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=uf6KSGJA72y4KXkfhMXiJu6jTX4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88498f7eaca048d2b8dc6aee417e6f8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=y%2FqFKpNGPXTtNUnMAoZKiDZfAkk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-8">å®æˆ˜ SFTï¼šåƒ P å›¾ä¸€æ ·ç®€å•åœ°å¾®è°ƒæ¨¡å‹</h4>
<p>æ‰“å¼€ WebUI ç•Œé¢ï¼Œä½ ä¼šå‘ç°å¾®è°ƒå¤§æ¨¡å‹å¹¶ä¸æ¯”ä½¿ç”¨ Photoshop å¤æ‚å¤šå°‘ã€‚æˆ‘ä»¬ä¸éœ€è¦æ•²ä¸€è¡Œ Python ä»£ç ï¼Œåªéœ€åœ¨é¢æ¿ä¸Šè¿›è¡Œâ€œå‹¾é€‰â€å’Œâ€œå¡«ç©ºâ€ã€‚</p>
<h4 data-id="heading-9">Step 1ï¼šæ¨¡å‹ä¸æ•°æ®å‡†å¤‡</h4>
<ul>
<li><strong>æ¨¡å‹åç§°ï¼š</strong> åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©Â <code>Qwen2-VL</code>ï¼ˆæˆ–æ‰‹åŠ¨è¾“å…¥æ¨¡å‹è·¯å¾„ï¼‰ã€‚</li>
<li><strong>æ•°æ®é›†ï¼š</strong> Llama-Factory æ”¯æŒæ ‡å‡†çš„ Alpaca æ ¼å¼æˆ– ShareGPT æ ¼å¼ã€‚å¯¹äºå¤šæ¨¡æ€ä»»åŠ¡ï¼Œç¡®ä¿ä½ çš„ JSON æ–‡ä»¶ä¸­åŒ…å«å›¾ç‰‡è·¯å¾„ã€‚
<ul>
<li><em>æ“ä½œï¼šåœ¨ WebUI çš„â€œæ•°æ®é›†â€é€‰é¡¹ä¸­é€‰æ‹©å‡†å¤‡å¥½çš„æ•°æ®é›†ï¼Œæœ¬æ–‡çš„æ•°æ®é›†è·¯å¾„å¦‚å›¾æ‰€ç¤ºï¼š</em></li>
</ul>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec3a2dce444f44b9a202d983214b6a71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=icrVhOnPvrJnVg3gSnAkEnuRYmw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-10">Step 2ï¼šå‚æ•°é…ç½®ï¼ˆLoRA å¤§æ³•å¥½ï¼‰</h4>
<p>ä¸ºäº†åœ¨ Serverless ç¯å¢ƒä¸‹é«˜æ•ˆå¾®è°ƒï¼Œæˆ‘ä»¬é‡‡ç”¨Â <strong>LoRA (Low-Rank Adaptation)</strong> Â æŠ€æœ¯ã€‚å®ƒåªè®­ç»ƒæ¨¡å‹çš„ä¸€å°éƒ¨åˆ†å‚æ•°ï¼Œå´èƒ½è¾¾åˆ°æƒŠäººçš„æ•ˆæœã€‚</p>
<ul>
<li><strong>å¾®è°ƒæ–¹æ³•ï¼š</strong> å‹¾é€‰Â <code>full</code>ã€‚</li>
<li><strong>å­¦ä¹ ç‡ (Learning Rate)ï¼š</strong> æ¨èÂ <code>1e-4</code>Â æˆ–Â <code>5e-5</code>ã€‚</li>
<li><strong>è½®æ•° (Epochs)ï¼š</strong> å»ºè®®å…ˆè®¾ä¸ºÂ <code>3</code>Â æˆ–Â <code>5</code>Â è½®ï¼Œå¿«é€ŸéªŒè¯æ•ˆæœã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/695afe225fe44e4588a014ad312d1daa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=JkFSsXwlQAYYk1okSx12UXUo5gE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-11">Step 3ï¼šå¯åŠ¨è®­ç»ƒä¸ç›‘æ§</h4>
<p>ä¸€åˆ‡å°±ç»ªï¼Œç‚¹å‡»é²œè‰³çš„ <strong>â€œå¼€å§‹è®­ç»ƒâ€</strong> æŒ‰é’®ã€‚ç•Œé¢ä¸‹æ–¹ä¼šè‡ªåŠ¨å¼¹å‡ºæ—¥å¿—çª—å£å’Œ Lossï¼ˆæŸå¤±ï¼‰æ›²çº¿å›¾ã€‚çœ‹ç€ Loss æ›²çº¿åƒæ»‘æ¢¯ä¸€æ ·ç¨³æ­¥ä¸‹é™ï¼Œä»£è¡¨æ¨¡å‹æ­£åœ¨åŠªåŠ›å­¦ä¹ ä½ æ•™ç»™å®ƒçš„æ–°çŸ¥è¯†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dec4c5ad7613437a95769407b5dfd915~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=XX3%2Bq%2F7BnZoEOQWp5Qo8CdTFVKA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-12">æ•ˆæœéªŒè¯ä¸æ¨¡å‹å¯¼å‡ºï¼šè§è¯â€œä¸“å®¶â€è¯ç”Ÿ</h2>
<p>çœ‹ç€ Loss æ›²çº¿æ”¶æ•›åªæ˜¯ç¬¬ä¸€æ­¥ï¼ŒçœŸæ­£çš„è€ƒéªŒåœ¨äºï¼šå®ƒçœŸçš„å˜èªæ˜äº†å—ï¼ŸLlama-Factory è´´å¿ƒåœ°é›†æˆäº†è¯„ä¼°ä¸æ¨ç†æ¨¡å—ï¼Œè®©æˆ‘ä»¬èƒ½å³æ—¶éªŒæ”¶æˆæœã€‚</p>
<h4 data-id="heading-13">Step 1ï¼šChat é¡µç­¾åœ¨çº¿æ¨ç†</h4>
<p>è®­ç»ƒå®Œæˆåï¼Œæ— éœ€é‡å¯æœåŠ¡ï¼Œç›´æ¥ç‚¹å‡» WebUI é¡¶éƒ¨çš„ <strong>â€œChatâ€</strong> é¡µç­¾ã€‚</p>
<ul>
<li><strong>æ£€æŸ¥ç‚¹é€‰æ‹©ï¼š</strong> åœ¨ <code>Checkpoint</code> ä¸‹æ‹‰æ¡†ä¸­ï¼Œé€‰æ‹©åˆšæ‰è®­ç»ƒå¥½çš„ Adapter æƒé‡ã€‚</li>
<li><strong>åŠ è½½æ¨¡å‹ï¼š</strong> ç‚¹å‡»â€œåŠ è½½æ¨¡å‹â€ï¼Œå‡ ç§’é’Ÿåï¼Œå³ä¸‹è§’æ˜¾ç¤ºâ€œæ¨¡å‹åŠ è½½æˆåŠŸâ€ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/975efd96a6e84691a0f0870aa3a30afc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=e0ylXfN7bAS5186x3eh%2FpFBcfqA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-14">Step 2ï¼šå¾®è°ƒå‰åæ•ˆæœâ€œå¤§æ¯”æ­¦â€</h4>
<p>ä¸ºäº†éªŒè¯æ•ˆæœï¼Œæˆ‘ä»¬ä¸Šä¼ ä¸€å¼ ç‰¹å®šä¸šåŠ¡åœºæ™¯çš„å›¾ç‰‡ï¼ˆä¾‹å¦‚ä¸€å¼ å¤æ‚çš„æŠ¥é”€å•æ®ï¼‰ï¼Œå¹¶è¾“å…¥åŒæ ·çš„ Promptï¼šâ€œè¯·æå–å›¾ä¸­çš„å…³é”®ä¿¡æ¯â€ã€‚</p>
<p>å¾®è°ƒå‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f4e762d4b664596b469f33dcf37a7e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=MMq4OCTfzNUYSWtHaIpKu38xJ44%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¾®è°ƒå‰ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7922b28bc62d4abebfb1947918eef223~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=FbEiMJGIEEYoqu9x0XM3haYh7SU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™å°±æ˜¯ SFT çš„é­”åŠ›â€”â€”è®©é€šç”¨çš„å¤©æ‰å˜æˆå‚ç›´é¢†åŸŸçš„ä¸“å®¶ã€‚</p>
<h4 data-id="heading-15">Step 3ï¼šæ¨¡å‹å¯¼å‡ºä¸è½åœ°</h4>
<p>éªŒè¯æ»¡æ„åï¼Œç‚¹å‡» <strong>â€œExportâ€</strong> é¡µç­¾ã€‚</p>
<ul>
<li><strong>æœ€å¤§åˆ†å—å¤§å°ï¼š</strong> å»ºè®®è®¾ç½®ä¸º <code>2GB</code> æˆ–Â <code>4GB</code>ã€‚</li>
<li><strong>å¯¼å‡ºç›®å½•ï¼š</strong> æŒ‡å‘ä½ çš„ OSS è·¯å¾„æˆ–è€…æœ¬åœ°è·¯å¾„ã€‚ç‚¹å‡»â€œå¼€å§‹å¯¼å‡ºâ€ï¼ŒLlama-Factory ä¼šè‡ªåŠ¨å°† LoRA æƒé‡ä¸åŸå§‹æ¨¡å‹åˆå¹¶ã€‚ç°åœ¨ï¼Œä½ æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„ã€å¯ç›´æ¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„ä¸“å± Qwen2-VL æ¨¡å‹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b57bff2a912542f99056bbc6d2c06adb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=%2B%2BPJWxSTGssdCnbOPjoUvP%2FTYtA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bbcd7ae1786420ba93ecf340eb34f91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=mrdORu4taNFTrcaL80r3r2LEUlE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-16">ç»“è¯­ï¼šServerless AIï¼Œè®©åˆ›æ–°è§¦æ‰‹å¯åŠ</h2>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åªç”¨äº†ä¸€æ¯å’–å•¡çš„æ—¶é—´ï¼Œå°±å®Œæˆäº†ä»ç¯å¢ƒæ­å»ºã€æ¨¡å‹å¾®è°ƒåˆ°æ•ˆæœéªŒè¯çš„å…¨æµç¨‹ã€‚</p>
<p><strong>æœ€åï¼Œè®©æˆ‘ä»¬ç®—ä¸€ç¬”è´¦ï¼š</strong> å¦‚æœä½ ä¸ºäº†è¿™æ¬¡å®éªŒå»ç§Ÿèµä¸€å° L20 æœåŠ¡å™¨ï¼Œé€šå¸¸éœ€è¦æŒ‰æœˆä»˜è´¹ï¼Œæˆæœ¬å¯èƒ½é«˜è¾¾æ•°åƒå…ƒï¼Œä¸”å¤§éƒ¨åˆ†æ—¶é—´æ˜¾å¡éƒ½åœ¨ç©ºè½¬ã€‚è€Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Ffc%3Fspm%3Da1z389.11499242.0.0.65452413RXCQWs%26utm_content%3Dg_1000408146" target="_blank" title="https://www.aliyun.com/product/fc?spm=a1z389.11499242.0.0.65452413RXCQWs&amp;utm_content=g_1000408146" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ï¼ˆFCï¼‰</a>ä¸Šï¼Œä½ åªéœ€è¦ä¸ºè®­ç»ƒçš„é‚£Â <strong>2 å°æ—¶</strong>ä»˜è´¹ã€‚<strong>æŒ‰é‡ä»˜è´¹ï¼Œç”¨å®Œå³èµ°ï¼Œæˆæœ¬å¯èƒ½ä¸åˆ°ä¸€æ¯å¥¶èŒ¶é’±ã€‚</strong></p>
<p><strong>Serverless GPU çš„æ ¸å¿ƒä»·å€¼ï¼Œä¸ä»…ä»…æ˜¯çœé’±ï¼Œæ›´æ˜¯â€œè§£æ”¾â€ã€‚</strong> å®ƒæŠŠå¼€å‘è€…ä»ç¹ççš„è¿ç»´æ³¥æ½­ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸å†éœ€è¦æ‹…å¿ƒ CUDA ç‰ˆæœ¬ã€æ˜¾å­˜æº¢å‡ºæˆ–èµ„æºé—²ç½®ã€‚ä½ åªéœ€è¦å…³æ³¨æœ€æ ¸å¿ƒçš„èµ„äº§â€”â€”<strong>æ•°æ®</strong>ä¸<strong>åˆ›æ„</strong>ã€‚</p>
<p>å¤šæ¨¡æ€çš„æ—¶ä»£å·²ç»åˆ°æ¥ï¼ŒQwen2-VL çš„å¤§é—¨å·²ç»æ•å¼€ã€‚ç°åœ¨ï¼Œè½®åˆ°ä½ äº†ã€‚</p>
<h2 data-id="heading-17">äº†è§£å‡½æ•°è®¡ç®—æ¨¡å‹æœåŠ¡ FunModel</h2>
<p>FunModel æ˜¯ä¸€ä¸ªé¢å‘ AI æ¨¡å‹å¼€å‘ã€éƒ¨ç½²ä¸è¿ç»´çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å¹³å°ã€‚æ‚¨åªéœ€æä¾›æ¨¡å‹æ–‡ä»¶ï¼ˆä¾‹å¦‚æ¥è‡ª ModelScopeã€Hugging Face ç­‰ç¤¾åŒºçš„æ¨¡å‹ä»“åº“ï¼‰ï¼Œå³å¯åˆ©ç”¨ FunModel çš„è‡ªåŠ¨åŒ–å·¥å…·å¿«é€Ÿå®Œæˆæ¨¡å‹æœåŠ¡çš„å°è£…ä¸éƒ¨ç½²ï¼Œå¹¶è·å¾—å¯ç›´æ¥è°ƒç”¨çš„æ¨ç† APIã€‚å¹³å°åœ¨è®¾è®¡ä¸Šæ—¨åœ¨æå‡èµ„æºä½¿ç”¨æ•ˆç‡å¹¶ç®€åŒ–å¼€å‘éƒ¨ç½²æµç¨‹ã€‚</p>
<p>FunModel ä¾æ‰˜ Serverless + GPUï¼Œå¤©ç„¶æä¾›äº†ç®€å•ï¼Œè½»é‡ï¼Œ0 é—¨æ§›çš„æ¨¡å‹é›†æˆæ–¹æ¡ˆï¼Œç»™ä¸ªäººå¼€å‘è€…è‰¯å¥½çš„ç©è½¬æ¨¡å‹çš„ä½“éªŒï¼Œä¹Ÿè®©ä¼ä¸šçº§å¼€å‘è€…å¿«é€Ÿé«˜æ•ˆçš„éƒ¨ç½²ã€è¿ç»´å’Œè¿­ä»£æ¨¡å‹ã€‚</p>
<p>åœ¨é˜¿é‡Œäº‘ FunModel å¹³å°ï¼Œå¼€å‘è€…å¯ä»¥åšåˆ°ï¼š</p>
<ul>
<li><strong>æ¨¡å‹çš„å¿«é€Ÿéƒ¨ç½²ä¸Šçº¿ï¼š</strong> ä»åŸæ¥çš„ä»¥å‘¨ä¸ºå•ä½çš„æ¨¡å‹æ¥å…¥å‘¨æœŸé™ä½åˆ° 5 åˆ†é’Ÿï¼Œ0 å¼€å‘ï¼Œæ— æ’æœŸ</li>
<li><strong>ä¸€é”®æ‰©ç¼©å®¹ï¼Œè®©è¿ç»´ä¸å†æ˜¯è´Ÿæ‹…ï¼š</strong> å¤šç§æ‰©ç¼©å®¹ç­–ç•¥é«˜åº¦é€‚é…ä¸šåŠ¡æµé‡ï¼Œå®ç°â€œæ— ç—›è¿ç»´â€</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4730493c3384f13b7a964cd3c0ad37a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965459&amp;x-signature=%2B7nx%2FQAwVHr2LIX6cGeAcmkiy0o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ›´å¤šå†…å®¹è¯·å‚è€ƒï¼š</strong></p>
<p>[1] æ¨¡å‹æœåŠ¡ FunModel äº§å“æ–‡æ¡£</p>
<p>[2] FunModel å¿«é€Ÿå…¥é—¨</p>
<p>[3] FunModel è‡ªå®šä¹‰éƒ¨ç½²</p>
<p>[4] FunModel æ¨¡å‹å¹¿åœº</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è…¾è®¯äº‘ RocketMQ 5.xï¼šå¦‚ä½•å…¼å®¹ Remoting å…¨ç³»åˆ—å®¢æˆ·ç«¯]]></title>    <link>https://juejin.cn/post/7581828086020849679</link>    <guid>https://juejin.cn/post/7581828086020849679</guid>    <pubDate>2025-12-10T09:26:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581828086020849679" data-draft-id="7582016579857514530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è…¾è®¯äº‘ RocketMQ 5.xï¼šå¦‚ä½•å…¼å®¹ Remoting å…¨ç³»åˆ—å®¢æˆ·ç«¯"/> <meta itemprop="keywords" content="RocketMQ,æ¶ˆæ¯é˜Ÿåˆ—,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-10T09:26:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è…¾è®¯äº‘ä¸­é—´ä»¶"/> <meta itemprop="url" content="https://juejin.cn/user/2330620382414296"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è…¾è®¯äº‘ RocketMQ 5.xï¼šå¦‚ä½•å…¼å®¹ Remoting å…¨ç³»åˆ—å®¢æˆ·ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2330620382414296/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è…¾è®¯äº‘ä¸­é—´ä»¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T09:26:23.000Z" title="Wed Dec 10 2025 09:26:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>Apache RocketMQ ç¤¾åŒºæ–°å‘å¸ƒçš„ 5.x ç‰ˆæœ¬æ˜¯å…¶äº‘åŸç”Ÿæ¶æ„æ¼”è¿›çš„é‡è¦é‡Œç¨‹ç¢‘ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸¤é¡¹é‡å¤§æ›´æ–°ï¼š</p>
<ol>
<li>Â å®ç°äº†å­˜å‚¨ä¸è®¡ç®—çš„è§£è€¦ï¼Œè¿›ä¸€æ­¥æå‡äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œäº‘åŸç”Ÿé€‚é…èƒ½åŠ›ã€‚</li>
<li>Â å¼•å…¥äº† POP æ¶ˆè´¹æ¨¡å¼ï¼Œå°†è´Ÿè½½å‡è¡¡é€»è¾‘ä»å®¢æˆ·ç«¯è¿ç§»åˆ°äº† Broker ç«¯ã€‚</li>
</ol>
<p>ä¸ºé€‚é…è¿™äº›æ–°ç‰¹æ€§ï¼Œå¼€æºç¤¾åŒºæ¨å‡ºäº†å…¨æ–°çš„åŸºäº gRPC åè®®çš„è½»é‡åŒ–å®¢æˆ·ç«¯ã€‚ä¸è¿‡ï¼Œç°æœ‰çš„ä»é€šè¿‡ Remoting åè®®æ¥å…¥çš„ç”¨æˆ·ï¼Œå¦‚æœä¸æ›´æ–°ä»£ç å¹¶æ›¿æ¢å®¢æˆ·ç«¯ SDKï¼Œå°±æ— æ³•äº«å—åˆ°è¿™äº›æ–°èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/663f6720b76f4036859c97081697cd72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=5VgdGGPdH0%2BmClBw%2F%2B3k6Mk%2FLgU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè…¾è®¯äº‘æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆé€šè¿‡åŸºäºè™šæ‹Ÿé˜Ÿåˆ—çš„å…¼å®¹æ€§å¢å¼ºæ–¹æ¡ˆï¼Œå®ç°äº†å¯¹ Remoting åè®®å®¢æˆ·ç«¯çš„å®Œæ•´æ”¯æŒï¼Œä½¿ç°æœ‰ç”¨æˆ·åœ¨æ— éœ€ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹ä¹Ÿèƒ½å¹³æ»‘ä½¿ç”¨ 5.x ç‰ˆæœ¬ã€‚</strong> æœ¬æ–‡å°†ä»æ•´ä½“æ¶æ„ã€å…³é”®è®¾è®¡æ€è·¯ä»¥åŠæ ¸å¿ƒèƒ½åŠ›ç­‰æ–¹é¢è¯¦ç»†ä»‹ç»è…¾è®¯äº‘è™šæ‹Ÿé˜Ÿåˆ—æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">RocketMQ 5.x ç‰ˆæœ¬å¯¹ Remoting å®¢æˆ·ç«¯çš„é™åˆ¶</h2>
<h3 data-id="heading-2"><strong>SDK ç‰ˆæœ¬ä¾èµ–</strong></h3>
<p>åœ¨ RocketMQ 4.x æ¶æ„ä¸­ï¼Œå®¢æˆ·ç«¯ä¸åç«¯ Broker ä¹‹é—´é‡‡ç”¨ç›´è¿æ¨¡å¼ï¼Œå³æ¯ä¸ªå®¢æˆ·ç«¯ä¸é˜Ÿåˆ—è·¯ç”±è¡¨ä¸­çš„æ‰€æœ‰ Broker å»ºç«‹é•¿è¿æ¥ã€‚è€Œåœ¨ 5.x ç‰ˆæœ¬å‡çº§ä¸ºå­˜ç®—åˆ†ç¦»æ¶æ„åï¼Œé€šä¿¡æ–¹å¼å˜æ›´ä¸ºè½¬å‘æ¨¡å¼ï¼šProxy è´Ÿè´£æ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶å°†å…¶è½¬å‘åˆ°ç›¸åº”çš„ Brokerã€‚ä¸ç›´è¿æ¨¡å¼ç›¸æ¯”ï¼Œè½¬å‘æ¨¡å¼ç®€åŒ–äº†å®¢æˆ·ç«¯ä¾§çš„é€»è¾‘ï¼ŒåŒæ—¶é¿å…äº†å¤šç½‘ç»œç¯å¢ƒä¸‹å¤æ‚çš„ç½‘ç»œæ‰“é€šé—®é¢˜ã€‚</p>
<p>ä¸ºäº†é€‚é… 5.x æ¶æ„ï¼ŒRemoting SDK åœ¨ v4.9.5 ç‰ˆæœ¬ä¸­å¯¹åè®®è¿›è¡Œäº†æ‰©å±•ï¼Œå¢åŠ äº† Broker Name å­—æ®µï¼ŒProxy é€šè¿‡è¯¥å­—æ®µè·å–å®¢æˆ·ç«¯è¯·æ±‚çš„ç›®æ ‡ Broker èº«ä»½ã€‚</p>
<p>å› æ­¤ï¼Œ<strong>Remoting å®¢æˆ·ç«¯ç”¨æˆ·æ¥å…¥ RocketMQ 5.x çš„å‰ææ˜¯å°† SDK å‡çº§è‡³ v4.9.5 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4943534f17b4feb90f01bfa3fa2a55f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=fHfn50ye6tj3oRUnMHqhSjVSETY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œå‡çº§ SDK ç‰ˆæœ¬å¯¹ç°æœ‰ä¸šåŠ¡æ¥è¯´æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå®ƒä¸ä»…è¦æ±‚è¿›è¡Œé¢å¤–çš„æµ‹è¯•éªŒè¯ä»¥ç¡®ä¿å…¼å®¹æ€§ä¸ç¨³å®šæ€§ï¼Œè€Œä¸”å¯¹äºé‚£äº›åœºæ™¯å¤æ‚ã€ä¸Šä¸‹æ¸¸é“¾è·¯äº¤ç»‡çš„ä¸šåŠ¡å›¢é˜Ÿæ¥è¯´ï¼Œæ¢³ç†å’Œæ¨åŠ¨ç‰ˆæœ¬å‡çº§çš„æ•´ä¸ªå‘¨æœŸå¯èƒ½ä¼šç›¸å½“æ¼«é•¿ã€‚æ›´å€¼å¾—å…³æ³¨çš„æ˜¯ï¼Œä½¿ç”¨è¾ƒä½ç‰ˆæœ¬ Remoting å®¢æˆ·ç«¯åœ¨ RocketMQ ç”¨æˆ·ä¸­ä»æ˜¯ä¸»æµï¼Œä»¥è…¾è®¯äº‘æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆçš„æ•°æ®æ¥çœ‹ï¼Œè¶…è¿‡ 90% çš„ç”¨æˆ·åœ¨ä½¿ç”¨ç‰ˆæœ¬ä½äº v4.9.5 çš„ Remoting å®¢æˆ·ç«¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60017c8a8e2f4e3cb3d8c2b1da810de6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=JJZuAdzzmsI9%2FD4UQAVpGusH3%2BA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-3"><strong>æ¶ˆè´¹è€…ç»‘å®šé˜Ÿåˆ—</strong></h3>
<p>åœ¨ RocketMQ 4.x æ¶æ„ä¸­ï¼Œæ¶ˆè´¹è€…é‡‡ç”¨ PULL æ¨¡å¼è¿›è¡Œæ¶ˆè´¹ï¼šSDK å‘¨æœŸæ€§åœ°è·å–å…¨é‡é˜Ÿåˆ—å’Œå…¨é‡æ¶ˆè´¹è€…ï¼Œå¹¶æ ¹æ®æ—¢å®šç®—æ³•ç®—å‡ºé˜Ÿåˆ—ä¸æ¶ˆè´¹è€…çš„åˆ†é…ç»‘å®šå…³ç³»ï¼Œç„¶åè½®è¯¢æ‹‰å–åˆ†é…ç»™è‡ªå·±çš„é˜Ÿåˆ—ã€‚</p>
<p>è¿™ç§åŸºäºé˜Ÿåˆ—ç²’åº¦çš„è´Ÿè½½å‡è¡¡æœºåˆ¶æœ‰ä¸€ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼šä¸€æ—¦æŸä¸ªæ¶ˆè´¹è€…å®ä¾‹ç”±äºå•æœºé—®é¢˜å¯¼è‡´æ¶ˆè´¹èƒ½åŠ›ä¸‹é™ï¼Œç»‘å®šåˆ°è¯¥æ¶ˆè´¹è€…ä¸Šçš„æ‰€æœ‰é˜Ÿåˆ—éƒ½ä¼šè¢«é˜»å¡ï¼Œè€Œå…¶ä»–æ­£å¸¸çš„æ¶ˆè´¹è€…å®ä¾‹å³ä½¿å¤„äºç©ºé—²çŠ¶æ€ä¹Ÿæ— æ³•ä»‹å…¥æ¥ç®¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/804822a26f6b4b43a1a7d45561315836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=Hz6KEuohYBCfIPYPIaku3rW%2FntY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ºæ­¤ï¼ŒRocketMQ 5.x å¼•å…¥äº† POP æ¶ˆè´¹æ¨¡å¼ï¼Œå°†è´Ÿè½½å‡è¡¡å’Œé˜Ÿåˆ—ä½ç‚¹ç®¡ç†ç­‰é€»è¾‘ä»å®¢æˆ·ç«¯è¿ç§»åˆ°äº†æœåŠ¡ç«¯ï¼Œå¹¶åœ¨å…¨æ–°æ¨å‡ºçš„åŸºäº gRPC åè®®çš„è½»é‡åŒ– SDK ä¸­å¯¹ POP æ¨¡å¼åšäº†é€‚é…ï¼Œå®ç°äº†æ¶ˆæ¯ç²’åº¦çš„æ¶ˆè´¹è´Ÿè½½å‡è¡¡ã€‚<strong>Remoting å®¢æˆ·ç«¯ç”±äºé‡‡ç”¨çš„æ˜¯ PULL æ¨¡å¼ï¼Œæ¥å…¥ RocketMQ 5.x åä»ç„¶æ˜¯æ¶ˆè´¹è€…ç»‘å®šé˜Ÿåˆ—çš„å‡è¡¡æœºåˆ¶ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b463677f768045eaaf5f8ca8c89efd18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=jtOsHWsY8C7mTxv8QoLoCePSfyg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-4"><strong>è…¾è®¯äº‘è™šæ‹Ÿé˜Ÿåˆ—æ–¹æ¡ˆ</strong></h2>
<p>ä¸ºäº†è§£å†³ RocketMQ 5.x å¯¹ Remoting å®¢æˆ·ç«¯çš„é™åˆ¶ï¼Œè…¾è®¯äº‘æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆæå‡ºäº†è™šæ‹Ÿé˜Ÿåˆ—æ–¹æ¡ˆï¼Œæ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ul>
<li>æœåŠ¡ç«¯å±‚é¢ä¸»åŠ¨å…¼å®¹ä½ç‰ˆæœ¬ Remoting å®¢æˆ·ç«¯ï¼Œå¤§å¹…é™ä½ç°æœ‰ä¸šåŠ¡å¹³æ»‘è¿‡æ¸¡åˆ° RocketMQ 5.x çš„æˆæœ¬å’Œé£é™©ã€‚</li>
<li>å°†é€‚é… POP æ¶ˆè´¹æ¨¡å¼çš„é€»è¾‘ä¸Šç§»åˆ°äº†æœåŠ¡ç«¯ï¼Œä½¿å¾— Remoting å®¢æˆ·ç«¯ä¹Ÿèƒ½å®ç°æ¶ˆæ¯ç²’åº¦çš„æ¶ˆè´¹è´Ÿè½½å‡è¡¡ã€‚</li>
</ul>
<p>è™šæ‹Ÿé˜Ÿåˆ—æ–¹æ¡ˆçš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨å®¢æˆ·ç«¯å’Œ Broker ä¹‹é—´å»ºç«‹ä¸€å±‚æŠ½è±¡ï¼Œç„¶ååœ¨æŠ½è±¡å±‚å®ç° Remoting åè®®çš„å‘ä¸‹å…¼å®¹å’Œæ¶ˆè´¹æ¨¡å¼çš„é€æ˜è½¬æ¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c93fbd17e29d4fa0a40834fea88a77dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=KUck%2FK5aySVyzCvhA1sXEyw1%2BU4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-5"><strong>è™šæ‹Ÿé˜Ÿåˆ—å®šä¹‰</strong></h3>
<p>RocketMQ ä¸­çš„ä¸€ä¸ªä¸»é¢˜ç”±åˆ†å¸ƒåœ¨å¤šä¸ª Broker ä¸Šçš„å¤šä¸ªé˜Ÿåˆ—ç»„æˆï¼Œå®¢æˆ·ç«¯é€šè¿‡è·¯ç”±æŸ¥è¯¢æ¥å£è·å–ä¸»é¢˜çš„é˜Ÿåˆ—åˆ—è¡¨æ¥è¿›è¡Œæ¶ˆæ¯æ”¶å‘ã€‚<strong>è™šæ‹Ÿé˜Ÿåˆ—æŒ‡çš„æ˜¯å°†è¿”å›ç»™å®¢æˆ·ç«¯çš„é˜Ÿåˆ—è™šæ‹ŸåŒ–ï¼Œå³å­˜å‚¨å±‚çœŸå®é˜Ÿåˆ—ä¸å†å¯¹å®¢æˆ·ç«¯å¯è§ã€‚</strong></p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸»é¢˜åœ¨ Broker-0ã€ Broker-1 å’Œ Broker-2 ä¸Šå„æœ‰ N ä¸ªé˜Ÿåˆ—ï¼Œè€Œ Remoting å®¢æˆ·ç«¯æŸ¥è¯¢åˆ°çš„æ˜¯ vBroker ä¸Š M ä¸ªé˜Ÿåˆ—ã€‚è™šæ‹ŸåŒ–åçš„é˜Ÿåˆ—ä¸çœŸå®é˜Ÿåˆ—çš„æ˜ å°„å…³ç³»ç”±æœåŠ¡ç«¯ç®¡ç†ï¼Œå› æ­¤ Remoting å®¢æˆ·ç«¯æ— éœ€åœ¨è¯·æ±‚ä¸­æ ‡è¯†ç›®æ ‡ Broker èº«ä»½ï¼Œå³è§£é™¤äº† 5.x å¯¹ Remoting SDK ç‰ˆæœ¬çš„ä¾èµ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/272d212cef9a45099328b1e03ce6675a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=ZSjfeMvXAV8Pi6ImwTUsd1nfLtU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-6"><strong>æ¶ˆè´¹æ¨¡å¼é€æ˜è½¬æ¢</strong></h3>
<p>æœåŠ¡ç«¯é€šè¿‡å°† Remoting å®¢æˆ·ç«¯çš„ PULL æ¨¡å¼æ— æ„Ÿè½¬æ¢ä¸º POP æ¨¡å¼æ¥å®ç°æ¶ˆæ¯ç²’åº¦çš„æ¶ˆè´¹è´Ÿè½½å‡è¡¡ã€‚</p>
<p>Remoting æ¶ˆè´¹è€…ä¸æœåŠ¡ç«¯çš„äº¤äº’ä¸»è¦åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>
<p>é€šè¿‡è™šæ‹Ÿé˜Ÿåˆ—å‘æœåŠ¡ç«¯å‘é€ PULL è¯·æ±‚ï¼Œæ‹‰å–é˜Ÿåˆ—ä¸­å¾…æ¶ˆè´¹çš„æ¶ˆæ¯ã€‚</p>
</li>
<li>
<p>æ¶ˆè´¹å®Œæˆåå‘æœåŠ¡ç«¯æäº¤è™šæ‹Ÿé˜Ÿåˆ—æ¶ˆè´¹ä½ç‚¹ï¼Œé‡‡ç”¨ç´¯ç§¯ç¡®è®¤çš„å®šæ—¶åŒæ­¥æœºåˆ¶ã€‚</p>
</li>
</ul>
<p>é¦–å…ˆï¼ŒæœåŠ¡ç«¯ä¼šå°† Remoting å®¢æˆ·ç«¯å¯¹è™šæ‹Ÿé˜Ÿåˆ—çš„ PULL è¯·æ±‚è½¬æ¢ä¸ºå¯¹å­˜å‚¨å±‚çœŸå®é˜Ÿåˆ—çš„ POP è¯·æ±‚ã€‚è¯·æ±‚è½¬æ¢è¿‡ç¨‹ä¸­çš„é˜Ÿåˆ—æ˜ å°„å…³ç³»ç”±é˜Ÿåˆ—é€‰æ‹©å™¨å†³ç­–ï¼Œå¹¶ä¸”æ”¯æŒåŠ¨æ€è°ƒæ•´ç­–ç•¥ï¼Œè¿™æ ·èƒ½å¤Ÿåšåˆ°åœ¨ä¿è¯æ¶ˆæ¯æ—¶å»¶çš„å‰æä¸‹å°½å¯èƒ½é™ä½ POP è½®è¯¢å¯¹ Broker çš„è´Ÿè½½å‹åŠ›ã€‚</p>
<p>æ­¤å¤–ï¼ŒæœåŠ¡ç«¯è¿˜ä¼šä¸ºæ¯ä¸ªå®¢æˆ·ç«¯è™šæ‹Ÿé˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—ï¼Œä»¥é€‚é… POP æ¨¡å¼çš„ä¸å¯è§æ—¶é—´æœºåˆ¶å’Œé€‰æ‹©ç¡®è®¤æœºåˆ¶ï¼š</p>
<ul>
<li>
<p>å°† Remoting å®¢æˆ·ç«¯å¯¹ Offset çš„ç´¯ç§¯ç¡®è®¤è½¬æ¢ä¸ºå¯¹ POP ReceiptHandle çš„é€‰æ‹©ç¡®è®¤ã€‚</p>
</li>
<li>
<p>è‡ªåŠ¨ç»­æœŸå·²æ‹‰å–æœªç¡®è®¤æ¶ˆæ¯çš„ä¸å¯è§æ—¶é—´ï¼Œç›´è‡³å®¢æˆ·ç«¯ç¡®è®¤æˆ–æ¶ˆè´¹è¶…æ—¶ã€‚</p>
</li>
</ul>
<p>æ¶ˆè´¹æ¨¡å¼è½¬æ¢åœ¨æœåŠ¡ç«¯è®¡ç®—å±‚ Proxy ä¸Šå®ç°ï¼Œå¯¹ Remoting å®¢æˆ·ç«¯å’Œå­˜å‚¨å±‚ Broker è€Œè¨€æ˜¯å®Œå…¨é€æ˜ã€æ— æ„ŸçŸ¥çš„ã€‚æ•´ä¸ªè¿‡ç¨‹ä¸ä¾èµ–ä»»ä½•æŒä¹…åŒ–çš„çŠ¶æ€æ•°æ®ï¼Œå¯¹ Proxy çš„éƒ¨ç½²æ¶æ„å’Œæ°´å¹³æ‰©å±•æ€§æ²¡æœ‰ä»»ä½•å½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/065e7174bd1e417abd3e97191ef0ebed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=nsKpbExTssXF%2FemRBJRFV1YYFT8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-7"><strong>æ¶ˆé™¤å®¢æˆ·ç«¯é‡å¹³è¡¡</strong></h3>
<p>å½“ Remoting å®¢æˆ·ç«¯æ£€æµ‹åˆ°æ¶ˆè´¹ç»„å‘ç”Ÿå˜åŒ–ï¼ˆé˜Ÿåˆ—æ•°é‡å˜åŒ–ã€æ¶ˆè´¹è€…åˆ—è¡¨å˜åŒ–ï¼‰æ—¶ä¼šæ‰§è¡Œé‡å¹³è¡¡ï¼ˆRebalanceï¼‰è¿‡ç¨‹ï¼šé‡æ–°è®¡ç®—é˜Ÿåˆ—åˆ†é…ç»“æœ -&gt; è½¬ç§»é˜Ÿåˆ—æ¶ˆè´¹æ‰€æœ‰æƒã€‚</p>
<p>åœ¨å¤§è§„æ¨¡é›†ç¾¤æˆ–é¢‘ç¹éƒ¨ç½²çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæ¶ˆè´¹è€…çš„ä¸Šä¸‹çº¿ä¼šå¯¼è‡´ Rebalance é¢‘ç¹è§¦å‘ï¼Œå¯¹ç³»ç»Ÿç¨³å®šæ€§æœ‰ä¸å¯å¿½è§†çš„å½±å“ã€‚å®é™…ä¸Šï¼Œå¼€å¯è™šæ‹Ÿé˜Ÿåˆ—åï¼ŒçœŸå®é˜Ÿåˆ—çš„æ•°é‡å˜åŒ–å·²ç»å¯¹å®¢æˆ·ç«¯å±è”½äº†ï¼Œè€Œä¸”ä¹Ÿä¸å†éœ€è¦å®¢æˆ·ç«¯ä¾§çš„ Rebalance æœºåˆ¶äº†ï¼Œå› ä¸ºæ¶ˆè´¹çš„è´Ÿè½½å‡è¡¡å®Œå…¨ç”±æœåŠ¡ç«¯æ§åˆ¶ã€‚</p>
<p>äºæ˜¯ï¼Œè…¾è®¯äº‘æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆé€šè¿‡ç²¾å‡†æ§åˆ¶æ¶ˆè´¹è€…åˆ—è¡¨æŸ¥è¯¢æ¥å£çš„å“åº”å®ç°äº† Remoting æ¶ˆè´¹è€…ä¹‹é—´çš„ç›¸äº’ä¸å¯è§ï¼Œå³å±è”½äº†æ¶ˆè´¹è€…åˆ—è¡¨å˜åŒ–ï¼Œä»è€Œå®Œå…¨æ¶ˆé™¤äº†å®¢æˆ·ç«¯é‡å¹³è¡¡ï¼Œæ˜¾è‘—æé«˜äº†ç³»ç»Ÿç¨³å®šæ€§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6216f2d341c847b293b6c72fbea55ae9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=aaCp3rw7woNuDSxIUs%2FZQdbdKPI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-8"><strong>é˜Ÿåˆ—é¡ºåºæ¶ˆè´¹</strong></h3>
<p>RocketMQ æ”¯æŒé˜Ÿåˆ—é¡ºåºæ¶ˆè´¹ä»¥æ»¡è¶³éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ã€‚å¼€å¯è™šæ‹Ÿé˜Ÿåˆ—åï¼ŒRemoting å®¢æˆ·ç«¯é¡ºåºæ¶ˆè´¹ç”±ä¸¤éƒ¨åˆ†ä¿è¯ï¼š</p>
<ul>
<li>æœåŠ¡ç«¯è®¡ç®—å±‚è´Ÿè´£å°†é˜Ÿåˆ—åˆ†é…ç»™åœ¨çº¿å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”ç¡®ä¿æ¯ä¸ªé˜Ÿåˆ—çš„æ¶ˆæ¯åªä¼šè¢«ä¸€ä¸ªå®¢æˆ·ç«¯æ‹‰å–ã€‚</li>
<li>Remoting SDK æ‹‰å–åˆ°æ¶ˆæ¯åï¼Œè´Ÿè´£å°†æ¶ˆæ¯æœ‰åºåœ°ã€ä¸²è¡Œåœ°æŠ•é€’ç»™ä¸šåŠ¡æ¶ˆè´¹ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ff6db4b19514a349f1dcc545c561a0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IW-6K6v5LqR5Lit6Ze05Lu2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765963583&amp;x-signature=Mz%2F97B28U5XZ69984nh%2FowAFVPg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-9"><strong>ç»“è¯­</strong></h2>
<p>æœ¬æ–‡ç³»ç»Ÿé˜è¿°äº† Apache RocketMQ 5.x åœ¨å­˜ç®—åˆ†ç¦»æ¶æ„ä¸ POP æ¶ˆè´¹æ¨¡å¼ä¸‹çš„æ¼”è¿›ï¼Œå¹¶é‡ç‚¹åˆ†æäº† Remoting åè®®å®¢æˆ·ç«¯é¢ä¸´çš„ä¸¤å¤§å…¼å®¹æ€§æŒ‘æˆ˜ï¼šSDK ç‰ˆæœ¬ä¾èµ–ä»¥åŠæ¶ˆè´¹è€…é˜Ÿåˆ—ç»‘å®šæœºåˆ¶çš„é™åˆ¶ã€‚</p>
<p>é’ˆå¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼Œè…¾è®¯äº‘æ¶ˆæ¯é˜Ÿåˆ— RocketMQ ç‰ˆæå‡ºäº†è™šæ‹Ÿé˜Ÿåˆ—å…¼å®¹æ–¹æ¡ˆï¼Œé€šè¿‡é˜Ÿåˆ—è™šæ‹ŸåŒ–å’Œæ¶ˆè´¹æ¨¡å¼çš„æ— æ„Ÿåˆ‡æ¢ï¼Œå®ç°äº†å¯¹ Remoting åè®®å®¢æˆ·ç«¯çš„å®Œæ•´æ”¯æŒï¼Œä¸ºå¤§è§„æ¨¡å­˜é‡ç”¨æˆ·å¿«é€Ÿè·å–æ–°æ¶æ„å¸¦æ¥çš„æŠ€æœ¯çº¢åˆ©æä¾›äº†é«˜æ•ˆè·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GPT-5.2 æå‰æ³„éœ²ï¼Ÿä»Šå¤œï¼ŒOpenAI è¦æ‹¿ Gemini 3 ç¥­å¤©ï¼]]></title>    <link>https://juejin.cn/post/7582231988147241011</link>    <guid>https://juejin.cn/post/7582231988147241011</guid>    <pubDate>2025-12-11T10:30:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988147241011" data-draft-id="7582433630471880731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GPT-5.2 æå‰æ³„éœ²ï¼Ÿä»Šå¤œï¼ŒOpenAI è¦æ‹¿ Gemini 3 ç¥­å¤©ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2025-12-11T10:30:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–°æ™ºå…ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/952600743642312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GPT-5.2 æå‰æ³„éœ²ï¼Ÿä»Šå¤œï¼ŒOpenAI è¦æ‹¿ Gemini 3 ç¥­å¤©ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/952600743642312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–°æ™ºå…ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T10:30:19.000Z" title="Thu Dec 11 2025 10:30:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa38601c1cc14661b294e8efaf0fbafe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=vpdey7KwiKIuCph%2BLp7DPe8xZ%2Bo%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-0"><strong>ã€Œã€æ–°æ™ºå…ƒå¯¼è¯»ã€‘åˆšåˆšï¼ŒGPT-5.2 çªè¢­ä¸Šçº¿ Cursorï¼Œä¸“ç‹™ Gemini 3ï¼çœ¼çœ‹ OpenAI å’Œè°·æ­Œçš„å¤§æˆ˜ä¸€è§¦å³å‘ï¼Œç½‘å‹ç‹‚å‘¼ï¼šä»Šæ™šæå‰è¿‡åœ£è¯ï¼ã€</strong></h5>
<p>å°±åœ¨ä»Šå¤œï¼ŒOpenAI æˆ–å°†æ‰“å“å¤ä»‡ä¹‹æˆ˜ã€‚</p>
<p>å…¨ä½“ç½‘å‹æ•æˆˆå¾…æ—¦ï¼ŒGPT-5.2 éšæ—¶ä¸Šçº¿ï¼</p>
<p>ç›®å‰ï¼Œå·²æœ‰ç«çœ¼é‡‘ç›çš„ç½‘å‹å‘ç°äº† GPT-5.2 çš„è››ä¸é©¬è¿¹ã€‚</p>
<p>å¼€å‘è€…ç¤¾åŒºæµä¼ çš„æˆªå›¾æ˜¾ç¤ºï¼ŒCursor çš„æ¨¡å‹ä¸‹æ‹‰èœå•ä¸­ï¼Œèµ«ç„¶å‡ºç°äº† gpt-5.2 å’Œ gpt-5.2-thinking çš„é€‰é¡¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6b45e0cd15640e296721c160609a11b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=htQqCJqXO9VrvWUHhbNwig9lOVc%3D" alt="" loading="lazy"/></p>
<p>GPT-5.2 çš„é¦–æˆ˜åœºå±…ç„¶é€‰åœ¨äº† <strong>ã€ŒCursorã€</strong> <strong>ã€ŒIDEã€****ï¼Œè€Œé ChatGPT ç½‘é¡µç«¯ã€‚</strong></p>
<p>è¿™ä¹Ÿæ„å‘³ç€ï¼Œæˆ–è®¸ OpenAI å·²ç»æ˜ç™½ï¼šç¼–ç¨‹ä¸ä»…æ˜¯ AI çš„æ€æ‰‹çº§åº”ç”¨ï¼Œä¹Ÿæ˜¯æœ€èƒ½ä½“ç°æ¨¡å‹æ¨ç†èƒ½åŠ›çš„é¢†åŸŸã€‚</p>
<p>æ€»ä¹‹ï¼Œå¯ä»¥é¢„æ„Ÿåˆ°ï¼Œè°·æ­Œå’Œ OpenAI ä¹‹é—´çš„ä¸€åœºç«èŠ±å››æº…çš„å¤§æˆ˜ï¼Œé©¬ä¸Šå°±è¦æ‰“å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0b4b171a9234c70a084adfd562d4137~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=KSIIiYiAsJD2hAp%2BvKiKsUesEz0%3D" alt="" loading="lazy"/></p>
<p>ç½‘å‹æ¿€åŠ¨ç‹‚å‘¼ï¼šä»Šå¤©çš„åœ£è¯èŠ‚ï¼Œè¦æå‰æ¥äº†ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2322974cb22a452fa11461826ab80e4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=r8qYDFX9hMTF4kpw%2BZB4%2BY5q92k%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bdd7e4f7d984e8e8fd4f472fc58d745~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=OpvooHBP9RWTB3s7tnbG6JObzGo%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œè¶…è¶Š Gemini 3ï¼ŸGPT-5.2 æˆæœ€ç»ˆæ€å™¨ã€</strong></p>
<p>ä¸å°‘çº¿ç´¢æ˜¾ç¤ºï¼ŒGPT-5.2 å·²ç»è¶…è¶Š Gemini 3ï¼Œå°†å…¶è¸©åœ¨è„šä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8ae23a67ca145f3b466069f69c6de72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=pqtmYpUAIgrlgyjSV5Ot0UyXXBk%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥è¯´ï¼Œå®ƒå°±æ˜¯ OpenAI å›¢é˜Ÿé€šè¿‡å¾®è°ƒå’Œæ”¹è¿›ï¼Œä¸“é—¨ç‹™å‡» Gemini 3 çš„ã€‚</p>
<p>æ ¹æ®æ³„éœ²çš„ã€Œå¤§è’œï¼ˆProject Garlicï¼‰ã€æ–‡ä»¶åŠ Cursor ç¤¾åŒºçš„åé¦ˆï¼ŒGPT-5.2 æ˜¯ä¸€æ¬¾ç»è¿‡å½»åº•é‡æ„çš„**ã€Œä¸“ç”¨æ¨¡å‹ã€‚ã€**</p>
<p><strong>æ˜¯çš„ï¼Œ****ã€ŒGPT-5.2ã€</strong> è¿™ä¸€æ‰¿è½½ç€ OpenAI ç”Ÿæ­»å­˜äº¡ä½¿å‘½çš„æ¨¡å‹ï¼Œç»é GPT-5 çš„ç®€å•å¾®è°ƒç‰ˆã€‚</p>
<p>æ ¹æ® OpenAI é¦–å¸­ç ”ç©¶å®˜ MarkChen çš„è¯´æ³•ï¼ŒGPT-5.2 åœ¨ç¼–ç¨‹å’Œé€»è¾‘æ¨ç†ä»»åŠ¡ä¸Šçš„è¡¨ç°ï¼Œå·²ç»è¶…è¶Šäº† Gemini 3 å’Œ Anthropic çš„ Opus 4.5ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbb82bd0d0f14f5191e945342e2397cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=YNEhgeE2MxzZWhOGbfJqKWQR3yI%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”ï¼Œåœ¨é•¿ç¨‹ä»»åŠ¡æ‰§è¡Œä¸Šï¼ŒGPT-5.2 ä¹Ÿé¢‡ä¸ºäº®çœ¼ã€‚</p>
<p>ä¸ä»¥å¾€æ¨¡å‹å†™å®Œä¸€æ®µä»£ç å°±ã€Œé—å¿˜ã€ä¸Šä¸‹æ–‡ä¸åŒï¼Œå®ƒæ®è¯´èƒ½æ‰§è¡Œã€Œæ¯” OpenAI ä»»ä½•æ¨¡å‹éƒ½æ˜æ˜¾æ›´é•¿ã€çš„ä»»åŠ¡ã€‚</p>
<p>åœ¨ Cursor ä¸­ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥ç†è§£æ•´ä¸ªä»“åº“çš„æ¶æ„ï¼Œå¹¶åœ¨ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æ—¶è‡ªåŠ¨åŒæ­¥è°ƒæ•´å¼•ç”¨çš„å…¶ä»–åå‡ ä¸ªæ–‡ä»¶ï¼Œä¸”æå°‘å‡ºç°å¹»è§‰ã€‚</p>
<p>è€Œè¿™ç§ä»£ç†èƒ½åŠ›ï¼Œå°±æ˜¯ OpenAI åå‡» Gemini 3 ç”Ÿæ€å°é”çš„å…³é”®æ­¦å™¨ã€‚</p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65d680faa1df44b490c5e2bbe9914dcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=tDE5%2B8ye3XCXtGnCVVQgnhLqHz4%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€ŒGPT-5.2 or å¤§è’œï¼Ÿã€</strong></p>
<p>æˆ–è®¸ä½ æœ‰ç‚¹ç³Šæ¶‚äº†ï¼ŒGPT-5.2 å’Œå¤§è’œæ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</p>
<p>ç›®å‰å…¬å¼€ä¿¡æ¯é‡Œï¼Œã€ŒGPT-5.2ã€å’Œã€ŒGarlicï¼ˆå¤§è’œï¼‰æ¨¡å‹ã€ä¸æ˜¯ä¸¤ä¸ªå·²ç»åˆ†åˆ«å‘å¸ƒçš„æ­£å¼äº§å“åï¼Œè€Œæ˜¯ï¼š</p>
<p>Garlic æ˜¯å†…éƒ¨ä»£å·ï¼Œæœªæ¥å¾ˆå¤§æ¦‚ç‡ä¼šä»¥ GPT-5.2 æˆ– GPT-5.5 çš„å•†ä¸šåç§°å¯¹å¤–å‘å¸ƒï¼Œä½†ç°åœ¨è¿˜æ²¡æœ‰æœ€ç»ˆå®šæ¡ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66084b3147dc4189a811f7a4c8c5ec63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=Po0%2B6XgNgvMSpQ%2BGgQQCEAwk0Ro%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æŸ¥è¯ï¼Œæˆ‘ä»¬äº¤å‰éªŒè¯äº†å¤šä¸ªæŠ¥é“ï¼Œç»“è®ºå°±æ˜¯ï¼šGarlic å¯èƒ½ä¼šåœ¨ 2026 å¹´åˆä»¥ <strong>ã€ŒGPT-5.2 æˆ– GPT-5.5ã€</strong> çš„å½¢å¼å‘å¸ƒã€‚</p>
<p>TechStartups ç­‰åª’ä½“ç›´æ¥å†™é“ï¼šå†…éƒ¨è®¡åˆ’æ˜¯ï¼Œåœ¨ Garlic ç¨³å®šåå°½å¿«å‘å¸ƒï¼Œ<strong>ã€Œå¯èƒ½ä»¥ GPT-5.2 æˆ– GPT-5.5 ä¹‹åäº®ç›¸ã€</strong>ã€‚</p>
<p>ä¸€äº›è·Ÿè¸ªç«™ç›´æ¥ç”¨ã€Œ<strong>ã€ŒGarlic Model â€“ GPT-5.2/5.5 Trackerã€</strong>ã€è¿™æ ·çš„æ ‡é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1332570a27e74ad787ffa23748715f8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=hw1hRlLL4Ge%2Bu6ZlS2%2FxM8Kj3mg%3D" alt="" loading="lazy"/></p>
<p>ChatGPT å®˜æ–¹è´¦å·ï¼Œä»Šå¤©å‘å¸ƒäº†ä¸€å¼ å¥¥ç‰¹æ›¼çƒ¹é¥ªè¿‡ç¨‹éœ€è¦ã€Œå¤§è’œã€çš„å†…æ¶µå›¾ã€‚</p>
<p>å¤§æ¦‚ç‡ï¼ŒGPT-5.2 æˆ–è€… Garlic ä¸è¿œäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc1f68dfedcd4028a0d98b3e82f75fd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=8duHMdnRTlPdfYsJ%2FBigMmVM5BQ%3D" alt="" loading="lazy"/></p>
<p>æ ¹æ®æ³„éœ²èµ„æ–™ï¼ŒGPT-5.2 æˆ– Garlic æ¨¡å‹é¢„è®¡å°†å¼•å…¥å¤šé¡¹é‡å¤§æ”¹è¿›ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å¢å¼ºæ•°å­¦æ¨ç†èƒ½åŠ›ï¼šä»¥æ›´é«˜ç²¾åº¦è§£å†³å¤æ‚é—®é¢˜ï¼Œåœ¨æŠ€æœ¯å’Œå­¦æœ¯åº”ç”¨ä¸­æ›´åŠ é«˜æ•ˆã€‚</li>
<li>è¿›é˜¶å­¦æœ¯æ¨ç†èƒ½åŠ›ï¼šå¯¹ä¸“ä¸šç»†å¾®æŸ¥è¯¢çš„ä¼˜åŒ–å¤„ç†ï¼Œå°†æå‡å…¶ç”Ÿæˆè¯¦ç»†ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥å“åº”çš„èƒ½åŠ›ã€‚</li>
<li>æ›´å¿«çš„å¤„ç†é€Ÿåº¦ä¸èƒ½æ•ˆæå‡ï¼šé™ä½å»¶è¿Ÿå’Œè®¡ç®—æˆæœ¬ï¼Œä½¿æ¨¡å‹æ›´æ˜“æ™®åŠï¼Œä¸”ç¬¦åˆç¯å¢ƒå¯æŒç»­æ€§ã€‚</li>
<li>å¯é æ€§å¢å¼ºï¼šå‡å°‘å“åº”ä¸­çš„é”™è¯¯ä¸ä¸ä¸€è‡´æ€§ï¼Œå°†æå‡ç”¨æˆ·ä¿¡ä»»åº¦å’Œæ»¡æ„åº¦ã€‚</li>
<li>å¯å®šåˆ¶æ€§ï¼šç”¨æˆ·å°†æ‹¥æœ‰æ›´å¤§çµæ´»æ€§æ¥è°ƒæ•´æ¨¡å‹è¡Œä¸ºï¼Œä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ï¼Œå®ç°æ›´ä¸ªæ€§åŒ–çš„äº¤äº’ä½“éªŒã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd0ea69f775e4d418488ba1a351e5221~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=zv9BbZ2j1HQabRuJ89m5d0N%2BcSM%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf0a3738f0cc42cfb14da87713892139~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=vRo3bYSfGhWqUYa11RhZQzsq%2FnM%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œè¿˜æœ‰æ›´å¤§çš„ï¼ŸShallotpeat ä¹Ÿæ¥äº†ã€</strong></p>
<p>è€Œä¸”ï¼ŒOpenAI è¿˜æ†‹ç€ä¸€ä¸ªå¤§æ‹›ã€‚</p>
<p>é™¤äº†çˆ†æ–™çš„ GPT-5.2ï¼Œæ­¤å‰ OpenAI è¿˜çˆ†æ–™è¿‡ä¸€ä¸ªã€Œæ›´å¤§ã€çš„æ¨¡å‹â€”â€”<strong>ã€ŒShallotpeatã€</strong>ã€‚</p>
<p>è¿™ä¸ªã€ŒShallotpeatã€çš„ä»£å·ï¼Œå¯æ˜¯é¢‡æœ‰æ¥å¤´ã€‚</p>
<p>å…¶ä¸­ï¼ŒShallot æ„ä¸ºçº¢è‘±å¤´ï¼Œpeat ä¸ºæ³¥ç‚­åœŸã€‚</p>
<p>æ„è¯‘çš„è¯ï¼Œæ„æ€å°±æ˜¯**ã€Œçº¢è‘±å¤´åœ¨æ³¥ç‚­åœŸä¸­é•¿ä¸å¥½ï¼Œæœ‰è¿™æ ·ä¸€å±‚éšå–»ï¼š<strong>ã€Œ</strong>ã€Œã€Œ<strong>ã€Œ</strong>ã€Œç°æœ‰é¢„è®­ç»ƒçš„åœŸå£¤ä¸ç†æƒ³ï¼Œéœ€è¦é‡åšåœ°åŸºã€<strong>ã€</strong>ã€ã€<strong>ã€</strong>ã€‚ã€**</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨ OpenAI è¦é‡åšæ¨¡å‹é¢„è®­ç»ƒçš„åœŸå£¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c51f84a9b0ee438c8b82d8ac4def2cc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=hNUIqh8FLmBh4Ra2%2BQHc%2FpnphIg%3D" alt="" loading="lazy"/></p>
<p>è¯´èµ·æ¥ï¼ŒShallotpeat èƒŒåä¹Ÿæœ‰ä¸€æ®µæ•…äº‹ã€‚</p>
<p>Shallotpeat æ˜¯å¥¥ç‰¹æ›¼å»å¹´åæœˆå‘å‘˜å·¥é€éœ²çš„ã€æ­£åœ¨å¼€å‘ä¸­çš„æ–°æ¨¡å‹ï¼Œæœ¬å°±æ˜¯ä¸ºäº†æŒ‘æˆ˜ Gemini 3 è€Œç ”å‘çš„ã€‚</p>
<p>åªä¸è¿‡ï¼ŒGemini 3 å‘å¸ƒåæ•ˆæœå¤ªå¥½ï¼ŒOpenAI å’Œå¥¥ç‰¹æ›¼éƒ½æ€¥äº†ã€‚</p>
<p>OpenAI åœ¨å¼€å‘ Shallotpeat é¢„è®­ç»ƒé˜¶æ®µä½¿ç”¨çš„é”™è¯¯ä¿®å¤æ–¹æ¡ˆï¼Œä¹Ÿè¢«æ•´åˆåˆ°äº† Garlic ä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6faab4abf6fd4107a42669d769482451~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=3%2FoRCIn9qXRqCzrN0VDiy2k1InE%3D" alt="" loading="lazy"/></p>
<p>æ®å¤–åª’ã€ŠThe Informationã€‹æŠ¥é“ï¼Œåœ¨ Gemini 3 å‘å¸ƒå‰ï¼Œå¥¥ç‰¹æ›¼åœ¨ä¸€ä»½å†…éƒ¨å¤‡å¿˜å½•ä¸­è­¦å‘Šå‘˜å·¥ï¼Œè°·æ­Œè¿‘æœŸåœ¨ AI é¢†åŸŸçš„è¿›å±•å¯èƒ½ä¼šã€Œç»™å…¬å¸å¸¦æ¥ä¸€äº›æš‚æ—¶çš„ç»æµé€†é£ã€ã€‚</p>
<p>ä»–é¢„è®¡ï¼Œã€Œå¤–é¢çš„æ°›å›´ä¼šæœ‰ä¸€æ®µæ—¶é—´æ¯”è¾ƒç´§å¼ ã€ã€‚</p>
<p>å¥¥ç‰¹æ›¼æ˜ç¡®æŒ‡å‡ºï¼ŒOpenAI ç›¸å¯¹äºè°·æ­Œå’Œ Anthropic çš„é¢†å…ˆä¼˜åŠ¿ï¼Œè‚‰çœ¼å¯è§æ­£åœ¨ç¼©å°ã€‚</p>
<p>è¿™ä»½å¤‡å¿˜å½•æåˆ°ï¼Œè°·æ­Œå·²ç»å¼€å‘å‡ºä¸€ç§æ–° AIï¼Œä¼¼ä¹åœ¨è®­ç»ƒæ–¹æ³•ä¸Šè¶…è¶Šäº† OpenAIã€‚</p>
<p>æ²¡é”™ï¼Œä»–è¯´çš„å°±æ˜¯ Gemini 3ã€‚</p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/094d97f7b555431b99189029bb0d415c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=g3scuv5QsZF2AIuOmQnlSlp2m7U%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œé¢„è®­ç»ƒè¿˜æ²¡æ­»ï¼Œä¸”è‡³å…³é‡è¦ã€</strong></p>
<p>æœ‰è¶£çš„æ˜¯ï¼Œé¢„è®­ç»ƒåœ¨è°·æ­ŒæˆåŠŸä¸­èµ·åˆ°äº†ä½œç”¨ã€‚</p>
<p>å¥¥ç‰¹æ›¼åœ¨è¯´æ˜ä¸­æ‰¿è®¤ï¼Œè°·æ­Œã€Œæœ€è¿‘åšå¾—éå¸¸å‡ºè‰²ã€ï¼Œå°¤å…¶æ˜¯åœ¨é¢„è®­ç»ƒæ–¹é¢ã€‚</p>
<p>æ­¤å‰ï¼Œä¸»æµçš„è¯´æ³•æ˜¯ã€Œé¢„è®­ç»ƒå·²æ­»ã€ã€‚</p>
<p>ä½†è°·æ­Œçš„æˆåŠŸè¡¨æ˜ï¼Œè™½ç„¶å·¨å¤§çš„æ€§èƒ½é£è·ƒå¯èƒ½ä¸ä¼šå‡ºç°ï¼Œä½†ä»å¯ä»¥è·å¾—æœ‰æ•ˆçš„ä¼˜åŠ¿ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abb3909aec4646eab806062d65ffc372~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=6vCDb84mKdxRysOP%2BpLFxav%2Fn8Q%3D" alt="" loading="lazy"/></p>
<p>åœ¨ OpenAI ä»Šå¹´å¤å­£æ¨å‡º GPT-5 ä¹‹å‰ï¼Œå°±æœ‰å‘˜å·¥å‘ç°ï¼šä»–ä»¬åœ¨é¢„è®­ç»ƒé˜¶æ®µå¯¹æ¨¡å‹æ‰€åšçš„è°ƒæ•´ï¼Œåœ¨æ¨¡å‹è§„æ¨¡è¾ƒå°æ—¶è¿˜æœ‰æ•ˆï¼Œä½†éšç€æ¨¡å‹è§„æ¨¡æ‰©å¤§ä¾¿ä¸å†å¥æ•ˆã€‚</p>
<p>è¦æƒ³èµ¶ä¸Šè°·æ­Œï¼ŒOpenAI å°±å¿…é¡»è§£å†³è¿™äº›é¢„è®­ç»ƒé˜¶æ®µçš„é—®é¢˜ã€‚</p>
<p>è€Œåœ¨å¼€å‘ Shallotpeat çš„è¿‡ç¨‹ä¸­ï¼ŒOpenAI å°±åœ¨åŠªåŠ›ä¿®å¤åœ¨é¢„è®­ç»ƒè¿‡ç¨‹ä¸­é‡åˆ°çš„é”™è¯¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14c6191fb44945ad8437259c2e270a5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=35kVxi9DyAHi8Hv92Uy%2B0IwK%2Byw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6260ed96ff544d9097754975c3bcacd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=NrUsEtWUQS2CowiSfSQAZlLbp%2F4%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œå¥¥ç‰¹æ›¼çš„å†²åˆºï¼šæ”¾å¼ƒ AGIï¼Œå…¨åŠ›æŠµå¾¡è°·æ­Œï¼ã€</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c3a5e70f1924ab199ad6e359829086d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=zq3jl3gDGgC7jUvKBtflxeIQbCo%3D" alt="" loading="lazy"/></p>
<p>é•¿ä¹…ä»¥æ¥ï¼ŒOpenAI çš„é¦–è¦ç›®æ ‡éƒ½æ˜¯é€ ç¦ã€Œå…¨äººç±»ã€çš„ AGIã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/802bbd69328347debca9c3aba2f0b6fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=iofLw9R96xKXTnWfePI9cd6whaY%3D" alt="" loading="lazy"/></p>
<p>è€Œç°åœ¨ï¼Œä¸ºäº†åœ¨ç«äº‰ä¸­ä¸æ‰é˜Ÿï¼Œå¥¥ç‰¹æ›¼æ˜¾ç„¶æ”¾ä¸‹äº† AGI è¿™ä¸ªç›®æ ‡ã€‚</p>
<p>ä¸Šå‘¨ï¼ŒOpenAI æ•¦ä¿ƒå†…éƒ¨ä»¥å»¶è¿Ÿå¹¿å‘Šå’Œä¸ªäººåŠ©ç†ä¸ºä»£ä»·ï¼Œæå‡ ChatGPT çš„è´¨é‡ã€‚</p>
<p>å¦‚ä»Šï¼Œæ›´å¤šä¿¡æ¯æš—ç¤º OpenAIã€Œå¯èƒ½ä¸å¾—ä¸æš‚åœã€å…¶è¿½æ±‚ AGI çš„è¿›ç¨‹ï¼Œä»¥ä¿å…¬å¸ç”Ÿå­˜ã€‚</p>
<p>æ‰¿è®¤è¿™ä¸€ç‚¹ï¼Œæ— ç–‘ä»¤äººéœ‡æƒŠï¼Œè¿™ä¹Ÿå‡¸æ˜¾äº†å…¬å¸é¢ä¸´çš„å·¨å¤§å‹åŠ›ï¼Œå› ä¸ºå…¬å¸è®¡åˆ’åœ¨æœªæ¥äº”å¹´å†…æŠ•å…¥è¶…è¿‡ä¸€ä¸‡äº¿ç¾å…ƒå»ºè®¾åŸºç¡€è®¾æ–½ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨å¹´ç»ˆæˆç»©å•ä¸Šï¼ŒOpenAI æš‚æ—¶å¯ä»¥å¾—åˆ°æ…°è—‰ã€‚</p>
<p>æœ€è¿‘å‡ºç‚‰çš„è‹¹æœå®˜æ–¹ç¡®è®¤çš„ 2025 å¹´è´¹ App æ’è¡Œæ¦œä¸Šï¼ŒChatGPT è¿˜æ˜¯ä½åˆ—ç¬¬ä¸€ï¼ŒGemini åˆ™æ’åœ¨å¾ˆåé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1a8c85f658c42a4bb028ef5443c791b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=ErODHUGxDwbnSjgSR8t0LSgLIuA%3D" alt="" loading="lazy"/></p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5be5b0d1bc94d5d9da9101c306107b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=K2COrTfOCcekhrENUVBTnEycWaM%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œè°·æ­Œå’Œ OpenAI å…±åŒé¢å¯¹çš„å›°å¢ƒï¼šç®—åŠ›çš„é›¶å’Œåšå¼ˆã€</strong></p>
<p>è°·æ­Œ Gemini 3 çš„æ¨ªç©ºå‡ºä¸–ï¼Œæ˜¾ç„¶ç»™ OpenAI å¸¦æ¥äº†å·¨å¤§å‹åŠ›ã€‚</p>
<p>å¥¥ç‰¹æ›¼å·²ç»æ€¥äº†ã€‚</p>
<p>æ®ã€Šåå°”è¡—æ—¥æŠ¥ã€‹æŠ¥é“ï¼Œä»–æ²¡æœ‰å€ŸåŠ©ä¸“ä¸šäººå‘˜æ¥å®¡æ ¸å·¥å…·çš„è¾“å‡ºï¼Œè€Œæ˜¯å¸Œæœ›ã€Œæ›´å¥½åœ°åˆ©ç”¨ç”¨æˆ·ä¿¡å·ã€ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼ŒChatGPT æ­£åœ¨åŠ å€é‡è§†ç”¨æˆ·åé¦ˆä»¥æå‡å‚ä¸åº¦â€”â€”å³ä½¿è¿™æ„å‘³ç€è®©æ¨¡å‹æ›´å…·è°„åªšæ€§ï¼Œè¿™å¯èƒ½å¸¦æ¥ç¾éš¾æ€§çš„å‰¯ä½œç”¨ã€‚</p>
<p>OpenAI å’Œè°·æ­Œä¹‹é—´ï¼Œç°åœ¨å°±æ˜¯ä¸€åœºä½ è¿½æˆ‘èµ¶ã€åŠ¿å‡åŠ›æ•Œçš„ç«èµ›ã€‚</p>
<p>GPT-5.2 å’Œ Gemini 3 Flash è¿å¤´å¯¹æ‰“ï¼›å¦ä¸€è¾¹ï¼ŒNanoBananaPro é£å…‰æ— é™ï¼ŒSora åˆ™å¾ˆå¯èƒ½è¢«æš‚æ—¶æç½®ã€‚</p>
<p>è™½ç„¶å®˜æ–¹è§£é‡Šè¯´ï¼Œæš‚åœ Sora æ˜¯ç”±äºå®‰å…¨å®¡æŸ¥ã€Deepfake é£é™©ï¼Œä½†èƒŒåçš„å·¥ç¨‹é€»è¾‘æ˜¯å†°å†·çš„ç®—åŠ›ç»æµå­¦ã€‚</p>
<p>æ¯•ç«Ÿï¼Œè§†é¢‘ç”Ÿæˆæ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†æ‰€éœ€çš„ç®—åŠ›æ˜¯æ–‡æœ¬æ¨¡å‹çš„æ•°ä¸ªæ•°é‡çº§ã€‚</p>
<p>åœ¨ç®—åŠ›é›†ç¾¤ä¾›åº”æœ‰é™çš„æƒ…å†µä¸‹ï¼ŒOpenAI é¢ä¸´ä¸€ä¸ªé›¶å’Œåšå¼ˆâ€”â€”</p>
<p>æ˜¯ç»§ç»­è®­ç»ƒä¸€ä¸ªå¯èƒ½åœ¨æ³•å¾‹ä¸Šå—é˜»ã€å˜ç°å›°éš¾çš„è§†é¢‘æ¨¡å‹ï¼ˆSoraï¼‰ï¼Œè¿˜æ˜¯å°†æ‰€æœ‰ç®—åŠ›é›†ä¸­åˆ°èƒ½å¤Ÿäº§ç”Ÿç›´æ¥æ”¶å…¥ã€ä¿ä½æ ¸å¿ƒç”¨æˆ·ç›˜çš„æ–‡æœ¬ / æ¨ç†æ¨¡å‹ï¼ˆGPT-5.2ï¼‰ä¸Šï¼Ÿ</p>
<p>ã€Œçº¢è‰²è­¦æŠ¥ã€è¿«ä½¿ OpenAI é€‰æ‹©äº†åè€…ã€‚åœ¨è°·æ­Œæ‹¥æœ‰ TPU é›†ç¾¤çš„æ— é™å¼¹è¯åº“é¢å‰ï¼ŒOpenAI å¿…é¡»é›†ä¸­ç«åŠ›ã€‚</p>
<p>æœ‰è¶£çš„æ˜¯ï¼ŒOpenAI çš„è€å¯¹å®¶è°·æ­Œçš„æ—¥å­ï¼Œä¹Ÿå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½è¿‡ã€‚</p>
<p><strong>ã€Œ<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17b9dcc6c1db44b8acabf753c0343f7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=4OdomfzHN4DqRsv11PB8o%2BgmeB0%3D" alt="" loading="lazy"/>ã€</strong></p>
<p><strong>ã€Œ2025 å¹´ 12 æœˆå…¨çƒã€Œé…é¢ä¼‘å…‹ã€ã€</strong></p>
<p>2025 å¹´ 12 æœˆåˆï¼Œå…¨çƒå¼€å‘è€…ç¤¾åŒºçªç„¶çˆ†å‘äº†ææ…Œã€‚</p>
<p>å¤§é‡ä¾èµ– Google AI Studio è¿›è¡Œå¼€å‘çš„ç¨‹åºå‘˜å‘ç°ï¼ŒGemini API çš„å…è´¹å±‚ï¼ˆFree Tierï¼‰å‡ ä¹åœ¨ä¸€å¤œä¹‹é—´å˜å¾—ä¸å¯ç”¨ã€‚</p>
<ul>
<li>
<p><strong>ã€ŒGemini 2.5 Proã€</strong></p>
<p>å…è´¹é…é¢ï¼ˆRPD - Requests Per Dayï¼‰ç›´æ¥å½’é›¶ ã€‚</p>
</li>
<li>
<p><strong>ã€ŒGemini 2.5 Flashã€</strong></p>
<p>ä»æ¯å¤©ä¸Šåƒæ¬¡è¯·æ±‚è¢«å‰Šå‡è‡³æ¯å¤©ä»… 20 æ¬¡ ã€‚</p>
</li>
<li>
<p><strong>ã€ŒæŠ¥é”™ä¿¡æ¯ã€</strong></p>
<p>å¼€å‘è€…é¢‘ç¹æ”¶åˆ° 429: Resource Exhausted é”™è¯¯ï¼Œå³ä¾¿æ˜¯è½»é‡çº§è„šæœ¬ä¹Ÿæ— æ³•è¿è¡Œ ã€‚</p>
</li>
</ul>
<p>è¿™ä¸€å˜åŒ–å¹¶éæ¸è¿›å¼çš„è°ƒæ•´ï¼Œè€Œæ˜¯æ–­å´–å¼çš„åˆ‡æ–­ã€‚</p>
<p>å¯¹äºå¾ˆå¤šæ­£åœ¨ä½¿ç”¨è°·æ­Œ API å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ„å‘³ç€é¡¹ç›®çš„ç¬é—´ç˜«ç—ª ã€‚</p>
<p><strong>ã€ŒGoogleã€</strong> <strong>ã€ŒAIã€</strong> <strong>ã€ŒStudio å…è´¹é¢åº¦çš„å–æ¶ˆï¼Œä¸ Google æ——èˆ°å›¾åƒç”Ÿæˆæ¨¡å‹ Nano Banana Proï¼ˆå³ Gemini 3 Pro Imageï¼‰çš„è§„æ¨¡åŒ–éƒ¨ç½²å­˜åœ¨ç›´æ¥ä¸”å¿…ç„¶çš„å› æœå…³ç³»ã€‚ã€</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/547b3272b6e547e0b65559155dbb04d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=OpgkGdH77vv%2Bp6ZHSj5J2ttUJoM%3D" alt="" loading="lazy"/></p>
<p><strong>ã€ŒNano Banana Proã€</strong> ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå›¾åƒç”Ÿæˆå·¥å…·ï¼Œå®ƒæ˜¯å¯¼è‡´æ­¤æ¬¡ç®—åŠ›èµ„æºå¤§æ´—ç‰Œçš„æ ¸å¿ƒå˜é‡ã€‚</p>
<p>å®ƒä¹‹æ‰€ä»¥èƒ½é€¼è¿«è°·æ­Œç‰ºç‰²å…è´¹å±‚ç”¨æˆ·ï¼Œæ˜¯å› ä¸ºå…¶æ¶æ„è®¾è®¡å¯¹ç®—åŠ›çš„éœ€æ±‚ï¼Œè¾¾åˆ°äº†å‰æ‰€æœªæœ‰çš„é«˜åº¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/213951d155e9496ca2cbe974e31df5cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=H4kJ0DjxLg0mE2uYWapX1mYJAwg%3D" alt="" loading="lazy"/></p>
<p>Google AI Studio äº§å“è´Ÿè´£äººÂ <strong>ã€ŒLogan Kilpatrickã€</strong> <strong>ã€Œé¢å¯¹</strong>ã€Œ<strong>ã€Œç¤¾åŒºã€</strong>ã€**è´¨ç–‘æ—¶ï¼Œç›´æ¥ã€**è¯å®äº†ç®—åŠ›èµ„æºå‘æ–°æ¨¡å‹å€¾æ–œçš„äº‹å®ã€‚</p>
<p>æ˜¯çš„ï¼Œæˆ‘ä»¬é™ä½æˆ–å–æ¶ˆäº†ä¸€æ‰¹æ¨¡å‹çš„å…è´¹å±‚çº§ï¼Œ<strong>ã€Œç›®çš„æ˜¯é‡Šæ”¾ç®—åŠ›ï¼Œä»¥åº”å¯¹ 3.0 Pro å’Œ Nano Banana Pro æ‰€é¢ä¸´çš„å·¨å¤§å¢é•¿éœ€æ±‚ã€</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/895df8a92388444bb34bb038e22438d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5paw5pm65YWD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766053819&amp;x-signature=C38kK4SZCVQqE0FL5OKAJxpUdSQ%3D" alt="" loading="lazy"/></p>
<p>æ€»ä¹‹ï¼Œä»Šæ™šå³å°†çˆ†å‘çš„ AI å¤§æˆ˜ï¼Œä½ å‡†å¤‡å¥½äº†ä¹ˆï¼Ÿ</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ffuturism.com%2Fartificial-intelligence%2Fdetails-emerge-sam-altman-panic" target="_blank" title="https://futurism.com/artificial-intelligence/details-emerge-sam-altman-panic" ref="nofollow noopener noreferrer">futurism.com/artificial-â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wsj.com%2Ftech%2Fai%2Fopenai-sam-altman-google-code-red-c3a312ad" target="_blank" title="https://www.wsj.com/tech/ai/openai-sam-altman-google-code-red-c3a312ad" ref="nofollow noopener noreferrer">www.wsj.com/tech/ai/opeâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»C++/MFCåˆ°CEFä¸TypeScriptçš„æ¡Œé¢æ¶æ„æ¼”è¿›]]></title>    <link>https://juejin.cn/post/7582393212767797302</link>    <guid>https://juejin.cn/post/7582393212767797302</guid>    <pubDate>2025-12-11T11:00:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582393212767797302" data-draft-id="7582311711430443051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»C++/MFCåˆ°CEFä¸TypeScriptçš„æ¡Œé¢æ¶æ„æ¼”è¿›"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T11:00:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»C++/MFCåˆ°CEFä¸TypeScriptçš„æ¡Œé¢æ¶æ„æ¼”è¿›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:00:07.000Z" title="Thu Dec 11 2025 11:00:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>MFCåº”ç”¨å¤ªè€åˆå¤ªå¤§ï¼Œåˆæƒ³è¦ç°ä»£åŒ–çš„ç•Œé¢ä¸ç”¨æˆ·äº¤äº’ï¼Ÿä¹Ÿè®¸æœ¬æ–‡å¯ä»¥ç»™ä½ ä¸€äº›å»ºè®®ã€‚</p>
</blockquote>
<p>åœ¨å½“ä»Šè½¯ä»¶æ¶æ„å¿«é€Ÿæ¼”è¿›çš„èƒŒæ™¯ä¸‹ï¼Œä¼ ç»Ÿæ¡Œé¢åº”ç”¨é¢ä¸´ç€ç°ä»£åŒ–æ”¹é€ çš„è¿«åˆ‡éœ€æ±‚ã€‚æ— è®ºæ˜¯å†å²æ‚ ä¹…çš„å¤§å‹C++/MFCåº”ç”¨ï¼Œè¿˜æ˜¯ä»é›¶å¼€å§‹çš„æ–°é¡¹ç›®ï¼Œå¼€å‘å›¢é˜Ÿéƒ½å¿…é¡»åœ¨<strong>æŠ€æœ¯å€ºåŠ¡</strong>ä¸<strong>ç°ä»£åŒ–éœ€æ±‚</strong>ä¹‹é—´å¯»æ‰¾å¹³è¡¡ç‚¹ã€‚æœ¬æ–‡å°†ä»æŠ€æœ¯åŸç†ã€æ¶æ„è®¾è®¡å’Œå®è·µç»†èŠ‚ä¸‰ä¸ªå±‚é¢ï¼Œæ·±å…¥æ¢è®¨ä¸¤ç§ä¸»æµçš„ç°ä»£åŒ–è·¯å¾„ï¼šåŸºäºC++/MFC/CEF/TypeScriptçš„"åµŒå…¥å¼Web UI"æ–¹æ¡ˆå’ŒåŸºäºC#/Blazor/TypeScriptçš„"å…¨æ ˆWebé©±åŠ¨"æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šç†è§£æ ¸å¿ƒç»„ä»¶</h2>
<h3 data-id="heading-1">1.1 CEFï¼šChromiumåµŒå…¥å¼æ¡†æ¶</h3>
<p>CEFï¼ˆChromium Embedded Frameworkï¼‰ç»å¸¸ä¸Common Event Formatï¼ˆé€šç”¨äº‹ä»¶æ ¼å¼ï¼‰æ··æ·†ï¼Œä½†å®ƒæ˜¯å®Œå…¨ä¸åŒçš„æŠ€æœ¯ã€‚CEFçš„æ ¸å¿ƒä»·å€¼åœ¨äºå°†<strong>å®Œæ•´çš„Chromiumæµè§ˆå™¨å†…æ ¸</strong>åµŒå…¥åˆ°åŸç”Ÿåº”ç”¨ä¸­ï¼Œè¿™ä¸ä»…ä»…æ˜¯æ˜¾ç¤ºç½‘é¡µï¼Œè€Œæ˜¯è·å¾—äº†ç°ä»£Webæ¸²æŸ“å¼•æ“çš„å…¨éƒ¨èƒ½åŠ›ã€‚</p>
<p><strong>æŠ€æœ¯æ¶æ„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>å¤šè¿›ç¨‹æ¨¡å‹</strong>ï¼šCEFé»˜è®¤é‡‡ç”¨ä¸Chromeç›¸åŒçš„å¤šè¿›ç¨‹æ¶æ„ï¼Œä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰ç®¡ç†çª—å£å’ŒIPCï¼Œæ¸²æŸ“è¿›ç¨‹ï¼ˆRenderer Processï¼‰å¤„ç†ç½‘é¡µå†…å®¹ï¼ŒGPUè¿›ç¨‹åŠ é€Ÿæ¸²æŸ“</li>
<li><strong>ä¸°å¯Œçš„APIå±‚</strong>ï¼šæä¾›äº†ä»çª—å£æ§åˆ¶ã€ç½‘ç»œæ‹¦æˆªåˆ°JavaScriptæ‰©å±•çš„å®Œæ•´C++æ¥å£</li>
<li><strong>èµ„æºé›†æˆ</strong>ï¼šéœ€è¦å°†CEFçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆDLLsã€æ•°æ®æ–‡ä»¶ï¼‰ä¸åº”ç”¨ä¸€èµ·åˆ†å‘</li>
</ul>
<h3 data-id="heading-2">1.2 TypeScriptï¼šè¶…è¶Š"å¸¦ç±»å‹"çš„JavaScript</h3>
<p>TypeScriptå¸¸è¢«è¯¯è§£ä¸º"å¼ºç±»å‹JavaScript"ï¼Œä½†æ›´å‡†ç¡®çš„å®šä¹‰æ˜¯<strong>å…·æœ‰é™æ€ç±»å‹ç³»ç»Ÿçš„JavaScriptè¶…é›†</strong>ã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨ä¸C++ç­‰é™æ€è¯­è¨€é…åˆæ—¶å°¤ä¸ºçªå‡ºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// TypeScriptæä¾›çš„ä¸ä»…æ˜¯ç±»å‹æ£€æŸ¥ï¼Œæ›´æ˜¯æ˜ç¡®çš„æ¥å£å¥‘çº¦</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">NativeBridge</span> {
    <span class="hljs-comment">// ç²¾ç¡®çš„æ–¹æ³•ç­¾åå®šä¹‰</span>
    <span class="hljs-title function_">readFile</span>(<span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">encoding</span>: <span class="hljs-string">'utf-8'</span> | <span class="hljs-string">'binary'</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-title class_">ArrayBuffer</span>&gt;;
    
    <span class="hljs-comment">// å¤æ‚çš„å¯¹è±¡ç»“æ„å®šä¹‰</span>
    <span class="hljs-title function_">getSystemInfo</span>(): <span class="hljs-title class_">Promise</span>&lt;{
        <span class="hljs-attr">platform</span>: <span class="hljs-built_in">string</span>;
        <span class="hljs-attr">memory</span>: { <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">free</span>: <span class="hljs-built_in">number</span> };
        <span class="hljs-attr">displays</span>: <span class="hljs-title class_">Array</span>&lt;{ <span class="hljs-attr">width</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">height</span>: <span class="hljs-built_in">number</span> }&gt;;
    }&gt;;
    
    <span class="hljs-comment">// äº‹ä»¶å›è°ƒçš„ç±»å‹å®‰å…¨</span>
    <span class="hljs-title function_">on</span>(<span class="hljs-attr">event</span>: <span class="hljs-string">'window-resize'</span>, <span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">size: { width: <span class="hljs-built_in">number</span>; height: <span class="hljs-built_in">number</span> }</span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;
}

<span class="hljs-comment">// å…¨å±€ç±»å‹æ‰©å±•</span>
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">global</span> {
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Window</span> {
        <span class="hljs-attr">nativeBridge</span>: <span class="hljs-title class_">NativeBridge</span>;
    }
}
</code></pre>
<h2 data-id="heading-3">ç¬¬äºŒéƒ¨åˆ†ï¼šC++/MFC/CEF/TypeStackæ¶æ„æ·±åº¦è§£æ</h2>
<h3 data-id="heading-4">2.1 æ¶æ„æ¦‚è§ˆä¸é€šä¿¡åŸç†</h3>
<p>è¿™æ˜¯ä¸€ç§å…¸å‹çš„<strong>æ–°æ—§èåˆæ¶æ„</strong>ï¼Œé€‚ç”¨äºéœ€è¦ç°ä»£åŒ–ç•Œé¢ä½†å¿…é¡»ä¿ç•™C++æ ¸å¿ƒçš„é—äº§ç³»ç»Ÿã€‚</p>
<p><strong>æ¶æ„å±‚æ¬¡</strong>ï¼š</p>
<ol>
<li><strong>åº•å±‚</strong>ï¼šC++ä¸šåŠ¡é€»è¾‘å±‚ï¼Œå¤„ç†æ ¸å¿ƒç®—æ³•ã€ç³»ç»Ÿèµ„æºå’Œæ€§èƒ½æ•æ„Ÿæ“ä½œ</li>
<li><strong>ä¸­é—´å±‚</strong>ï¼šMFCæä¾›ä¼ ç»Ÿçª—å£æ¡†æ¶ï¼ŒCEFä½œä¸ºåµŒå…¥å¼æµè§ˆå™¨ç»„ä»¶</li>
<li><strong>è¡¨ç°å±‚</strong>ï¼šTypeScript+ç°ä»£å‰ç«¯æ¡†æ¶ï¼ˆReact/Vueï¼‰æ„å»ºçš„ç”¨æˆ·ç•Œé¢</li>
</ol>
<p><strong>é€šä¿¡æœºåˆ¶è¯¦è§£</strong>ï¼š
CEFçš„IPCé€šä¿¡ä¸æ˜¯ç®€å•çš„WebSocketï¼Œè€Œæ˜¯åŸºäºå…±äº«å†…å­˜å’Œè¿›ç¨‹é—´é€šä¿¡çš„é«˜æ•ˆæœºåˆ¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// C++ç«¯ï¼šåˆ›å»ºè‡ªå®šä¹‰V8å¤„ç†å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomV8Handler</span> : <span class="hljs-keyword">public</span> CefV8Handler {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">Execute</span><span class="hljs-params">(<span class="hljs-type">const</span> CefString&amp; name,
                        CefRefPtr&lt;CefV8Value&gt; object,
                        <span class="hljs-type">const</span> CefV8ValueList&amp; arguments,
                        CefRefPtr&lt;CefV8Value&gt;&amp; retval,
                        CefString&amp; exception)</span> <span class="hljs-keyword">override</span> </span>{
        
        <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"saveData"</span>) {
            <span class="hljs-comment">// å‚æ•°éªŒè¯</span>
            <span class="hljs-keyword">if</span> (arguments.<span class="hljs-built_in">size</span>() != <span class="hljs-number">1</span> || !arguments[<span class="hljs-number">0</span>]-&gt;<span class="hljs-built_in">IsString</span>()) {
                exception = <span class="hljs-string">"Invalid arguments"</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            
            CefString data = arguments[<span class="hljs-number">0</span>]-&gt;<span class="hljs-built_in">GetString</span>();
            <span class="hljs-comment">// å°†ä»»åŠ¡å‘é€åˆ°ä¸»çº¿ç¨‹å¤„ç†</span>
            <span class="hljs-built_in">CefPostTask</span>(TID_UI, base::<span class="hljs-built_in">BindOnce</span>(&amp;SaveDataOnMainThread, data));
            
            retval = CefV8Value::<span class="hljs-built_in">CreateBool</span>(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-built_in">IMPLEMENT_REFCOUNTING</span>(CustomV8Handler);
};
</code></pre>
<h3 data-id="heading-5">2.2 CEFç”Ÿå‘½å‘¨æœŸç®¡ç†</h3>
<p>CEFçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†æ˜¯é›†æˆæˆåŠŸçš„å…³é”®ï¼Œä¸‹å›¾å±•ç¤ºäº†å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸæµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant App as åº”ç”¨ç¨‹åº
    participant CEF as CEFæ¡†æ¶
    participant Render as æ¸²æŸ“è¿›ç¨‹
    participant Browser as æµè§ˆå™¨å®ä¾‹

    App-&gt;&gt;CEF: CefInitialize()
    Note over CEF: åˆå§‹åŒ–ä¸»è¿›ç¨‹&lt;br&gt;åŠ è½½èµ„æºã€è®¾ç½®
    CEF--&gt;&gt;App: åˆå§‹åŒ–å®Œæˆ
    
    App-&gt;&gt;CEF: åˆ›å»ºCefBrowser
    CEF-&gt;&gt;Render: åˆ›å»ºæ¸²æŸ“è¿›ç¨‹
    Render--&gt;&gt;CEF: æ¸²æŸ“è¿›ç¨‹å°±ç»ª
    CEF--&gt;&gt;App: OnAfterCreated()
    
    loop æ¶ˆæ¯å¾ªç¯
        App-&gt;&gt;CEF: CefDoMessageLoopWork()
        CEF-&gt;&gt;Browser: å¤„ç†æ¶ˆæ¯
        Browser--&gt;&gt;CEF: è¿”å›ç»“æœ
        CEF--&gt;&gt;App: å›è°ƒå¤„ç†
    end
    
    App-&gt;&gt;Browser: CloseBrowser()
    Browser-&gt;&gt;CEF: DoClose()
    CEF--&gt;&gt;App: OnBeforeClose()
    App-&gt;&gt;CEF: CefShutdown()
</code></pre>
<p><strong>å…³é”®ç”Ÿå‘½å‘¨æœŸå›è°ƒ</strong>ï¼š</p>
<ul>
<li><code>CefInitialize()</code> / <code>CefShutdown()</code>ï¼šå…¨å±€åˆå§‹åŒ–å’Œæ¸…ç†</li>
<li><code>OnContextCreated()</code>ï¼šV8ä¸Šä¸‹æ–‡åˆ›å»ºï¼Œæ³¨å…¥JSå¯¹è±¡çš„æœ€ä½³æ—¶æœº</li>
<li><code>OnBeforeClose()</code>ï¼šæ‰§è¡Œèµ„æºæ¸…ç†</li>
<li><code>CefDoMessageLoopWork()</code>ï¼šå¿…é¡»åœ¨ä¸»çº¿ç¨‹å®šæœŸè°ƒç”¨çš„æ¶ˆæ¯æ³µ</li>
</ul>
<h3 data-id="heading-6">2.3 çº¿ç¨‹æ¨¡å‹ä¸åŒæ­¥æœºåˆ¶</h3>
<p>CEFçš„å¤šçº¿ç¨‹æ¨¡å‹æ˜¯å¼€å‘ä¸­æœ€å®¹æ˜“å‡ºé”™çš„éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ­£ç¡®çš„è·¨çº¿ç¨‹é€šä¿¡ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">BackgroundWorker::OnCalculationComplete</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; result)</span> </span>{
    <span class="hljs-comment">// åœ¨åå°çº¿ç¨‹ä¸­å®Œæˆè®¡ç®—</span>
    <span class="hljs-comment">// å¿…é¡»é€šè¿‡PostTaskå°†UIæ›´æ–°å‘é€åˆ°ä¸»çº¿ç¨‹</span>
    
    <span class="hljs-built_in">CefPostTask</span>(TID_UI, base::<span class="hljs-built_in">BindOnce</span>(&amp;UpdateUIWithResult, result));
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">UpdateUIWithResult</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; result)</span> </span>{
    <span class="hljs-comment">// è¿™ä¸ªå‡½æ•°åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œå¯ä»¥å®‰å…¨æ“ä½œUI</span>
    CefRefPtr&lt;CefBrowser&gt; browser = <span class="hljs-built_in">GetBrowser</span>();
    <span class="hljs-keyword">if</span> (browser) {
        CefRefPtr&lt;CefFrame&gt; frame = browser-&gt;<span class="hljs-built_in">GetMainFrame</span>();
        std::string script = <span class="hljs-string">"updateResult('"</span> + result + <span class="hljs-string">"');"</span>;
        frame-&gt;<span class="hljs-built_in">ExecuteJavaScript</span>(script, frame-&gt;<span class="hljs-built_in">GetURL</span>(), <span class="hljs-number">0</span>);
    }
}
</code></pre>
<h2 data-id="heading-7">ç¬¬ä¸‰éƒ¨åˆ†ï¼šC#/Blazor/TypeScriptæ¶æ„è§£æ</h2>
<h3 data-id="heading-8">3.1 æŠ€æœ¯æ ˆçš„é©å‘½æ€§å˜åŒ–</h3>
<p>Blazoræ”¹å˜äº†æ¡Œé¢åº”ç”¨å¼€å‘çš„åŸºæœ¬èŒƒå¼ï¼Œä½¿å¼€å‘è€…èƒ½ç”¨<strong>å•ä¸€è¯­è¨€ï¼ˆC#ï¼‰</strong> ç¼–å†™å…¨æ ˆåº”ç”¨ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åœ¨Blazorä¸­ï¼ŒC#å¯ä»¥ç›´æ¥æ“ä½œDOMå’Œå‰ç«¯é€»è¾‘</span>
@page <span class="hljs-string">"/counter"</span>
@inject IJSRuntime JS

&lt;h1&gt;Counter&lt;/h1&gt;
&lt;p&gt;Current count: @currentCount&lt;/p&gt;

&lt;button <span class="hljs-keyword">class</span>=<span class="hljs-string">"btn btn-primary"</span> @onclick=<span class="hljs-string">"IncrementCount"</span>&gt;Click me&lt;/button&gt;

@code {
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> currentCount = <span class="hljs-number">0</span>;
    
    <span class="hljs-comment">// çº¯C#ä»£ç ï¼Œæ— éœ€JavaScript</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">IncrementCount</span>()</span> {
        currentCount++;
        
        <span class="hljs-comment">// ä¸JavaScriptçš„äº’æ“ä½œ</span>
        <span class="hljs-keyword">if</span> (currentCount &gt; <span class="hljs-number">10</span>) {
            <span class="hljs-keyword">await</span> JS.InvokeVoidAsync(<span class="hljs-string">"showAlert"</span>, <span class="hljs-string">"Count is getting high!"</span>);
        }
    }
}
</code></pre>
<h3 data-id="heading-9">3.2 ä¸TypeScriptçš„åä½œæ¨¡å¼</h3>
<p>åœ¨Blazoræ¶æ„ä¸­ï¼ŒTypeScriptçš„è§’è‰²è½¬å˜ä¸º<strong>èƒ½åŠ›è¡¥å……</strong>è€Œéä¸»è§’ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ‰©å±•Blazoræ— æ³•ç›´æ¥è®¿é—®çš„æµè§ˆå™¨API</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BrowserCapabilities</span> {
    <span class="hljs-comment">// è®¿é—®ç¡¬ä»¶è®¾å¤‡</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getCameraList</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">MediaDeviceInfo</span>[]&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">enumerateDevices</span>();
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿçº§åŠŸèƒ½</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getBatteryStatus</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'getBattery'</span> <span class="hljs-keyword">in</span> navigator) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> (navigator <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-title function_">getBattery</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}

<span class="hljs-comment">// é€šè¿‡C#çš„IJSRuntimeè°ƒç”¨è¿™äº›åŠŸèƒ½</span>
<span class="hljs-comment">// C#ç«¯ï¼šawait JS.InvokeAsync&lt;MediaDeviceInfo[]&gt;("BrowserCapabilities.getCameraList");</span>
</code></pre>
<h2 data-id="heading-10">ç¬¬å››éƒ¨åˆ†ï¼šä¸¤ç§æ¶æ„çš„æ·±åº¦å¯¹æ¯”ä¸é€‰å‹æŒ‡å—</h2>
<h3 data-id="heading-11">4.1 æŠ€æœ¯ç»´åº¦å¯¹æ¯”</h3>























































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>C++/MFC/CEF/TS</strong></th><th><strong>C#/Blazor/TS</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒæŠ€æœ¯</strong></td><td>C++ï¼ˆæ€§èƒ½æ ¸å¿ƒï¼‰+ CEFï¼ˆå¤æ‚é›†æˆï¼‰</td><td>C#/.NETï¼ˆå…¨æ ˆç»Ÿä¸€ï¼‰+ WebViewï¼ˆæ ‡å‡†åŒ–å®¹å™¨ï¼‰</td></tr><tr><td><strong>é€šä¿¡æœºåˆ¶</strong></td><td>CEF IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼Œæ‰‹å·¥æ¡¥æ¥ï¼‰</td><td>.NET Interopï¼ˆè¿è¡Œæ—¶å†…ç›´æ¥è°ƒç”¨ï¼‰</td></tr><tr><td><strong>çº¿ç¨‹æ¨¡å‹</strong></td><td>å¤æ‚ï¼Œéœ€æ‰‹åŠ¨ç®¡ç†å¤šè¿›ç¨‹/å¤šçº¿ç¨‹åŒæ­¥</td><td>ç®€å•ï¼Œ.NET Taskæ¨¡å‹å¤©ç„¶æ”¯æŒå¼‚æ­¥</td></tr><tr><td><strong>æ€§èƒ½ç‰¹ç‚¹</strong></td><td>æè‡´æ€§èƒ½ï¼ŒC++è®¡ç®—æ— æŸè€—</td><td>è‰¯å¥½æ€§èƒ½ï¼Œ.NET JITä¼˜åŒ–ï¼Œå°‘æ•°åœºæ™¯éœ€æœ¬åœ°åº“</td></tr><tr><td><strong>å†…å­˜ç®¡ç†</strong></td><td>æ‰‹åŠ¨ç®¡ç†ï¼Œå®¹æ˜“æ³„æ¼ä½†æ§åˆ¶ç²¾ç»†</td><td>è‡ªåŠ¨GCï¼Œå¼€å‘ç®€ä¾¿ä½†æœ‰ä¸ç¡®å®šæ€§å»¶è¿Ÿ</td></tr><tr><td><strong>éƒ¨ç½²å¤æ‚åº¦</strong></td><td>é«˜ï¼Œéœ€æ‰“åŒ…CEFäºŒè¿›åˆ¶èµ„æºï¼ˆ~100MBï¼‰</td><td>ä¸­ç­‰ï¼Œä¾èµ–.NETè¿è¡Œæ—¶æˆ–è‡ªåŒ…å«å‘å¸ƒ</td></tr><tr><td><strong>è°ƒè¯•ä½“éªŒ</strong></td><td>å¤æ‚ï¼Œéœ€è¦è·¨è¿›ç¨‹è°ƒè¯•å’Œå¤šè¯­è¨€å·¥å…·é“¾</td><td>ä¼˜ç§€ï¼ŒVisual Studioæä¾›ç»Ÿä¸€è°ƒè¯•ç¯å¢ƒ</td></tr><tr><td><strong>è·¨å¹³å°èƒ½åŠ›</strong></td><td>æœ‰é™ï¼ŒCEFæ”¯æŒå¤šå¹³å°ä½†MFCä»…é™Windows</td><td>ä¼˜ç§€ï¼Œ.NET Core+BlazorçœŸæ­£è·¨å¹³å°</td></tr><tr><td><strong>çƒ­æ›´æ–°èƒ½åŠ›</strong></td><td>å‰ç«¯èµ„æºå¯çƒ­æ›´æ–°ï¼ŒC++éƒ¨åˆ†éœ€è¦é‡æ–°ç¼–è¯‘</td><td>å‰åç«¯å‡å¯å®ç°ä¸€å®šç¨‹åº¦çš„åŠ¨æ€æ›´æ–°</td></tr></tbody></table>
<h3 data-id="heading-12">4.2 å†³ç­–çŸ©é˜µï¼šå¦‚ä½•é€‰æ‹©æŠ€æœ¯æ ˆ</h3>
<p><strong>é€‰æ‹©C++/MFC/CEF/TSæ–¹æ¡ˆï¼Œå½“ï¼š</strong></p>
<ol>
<li><strong>å·²æœ‰å¤§å‹C++ä»£ç åº“</strong>ï¼šé‡å†™æˆæœ¬è¿‡é«˜æˆ–æŠ€æœ¯é£é™©å¤§</li>
<li><strong>æ€§èƒ½è¦æ±‚æç«¯</strong>ï¼šå®æ—¶ä¿¡å·å¤„ç†ã€3Dæ¸²æŸ“ã€ç§‘å­¦è®¡ç®—ç­‰åœºæ™¯</li>
<li><strong>ç³»ç»Ÿçº§æ·±åº¦é›†æˆ</strong>ï¼šéœ€è¦ç›´æ¥è°ƒç”¨åº•å±‚APIæˆ–é©±åŠ¨</li>
<li><strong>å›¢é˜ŸæŠ€èƒ½åŒ¹é…</strong>ï¼šå›¢é˜Ÿç²¾é€šC++å’Œç³»ç»Ÿç¼–ç¨‹</li>
<li><strong>ç¡¬ä»¶èµ„æºå—é™</strong>ï¼šå¯¹å†…å­˜å’Œå¯åŠ¨æ—¶é—´æœ‰ä¸¥æ ¼é™åˆ¶</li>
</ol>
<p><strong>é€‰æ‹©C#/Blazor/TSæ–¹æ¡ˆï¼Œå½“ï¼š</strong></p>
<ol>
<li><strong>å…¨æ–°é¡¹ç›®å¼€å‘</strong>ï¼šæ— å†å²åŒ…è¢±ï¼Œå¯ä»¥ä»æœ€ä¼˜æ¶æ„å¼€å§‹</li>
<li><strong>å¼€å‘æ•ˆç‡ä¼˜å…ˆ</strong>ï¼šå¿«é€Ÿè¿­ä»£å’Œå¸‚åœºéªŒè¯æ˜¯å…³é”®</li>
<li><strong>è·¨å¹³å°éœ€æ±‚</strong>ï¼šéœ€è¦åŒæ—¶æ”¯æŒWindowsã€macOSã€Linux</li>
<li><strong>å›¢é˜ŸæŠ€èƒ½è½¬å‹</strong>ï¼šå›¢é˜Ÿç†Ÿæ‚‰WebæŠ€æœ¯ï¼Œå¸Œæœ›å‡å°‘è¯­è¨€åˆ‡æ¢æˆæœ¬</li>
<li><strong>ç°ä»£ç”Ÿæ€ä¾èµ–</strong>ï¼šéœ€è¦å¤§é‡ä½¿ç”¨äº‘æœåŠ¡ã€å¾®æœåŠ¡ç­‰ç°ä»£åŸºç¡€è®¾æ–½</li>
</ol>
<h2 data-id="heading-13">ç¬¬äº”éƒ¨åˆ†ï¼šå®æˆ˜å»ºè®®ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-14">5.1 C++/MFC/CEFé›†æˆå…³é”®æ­¥éª¤</h3>
<ol>
<li>
<p><strong>åˆ†é˜¶æ®µå®æ–½ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µï¼šåœ¨MFCä¸­åµŒå…¥CEFæ˜¾ç¤ºé™æ€å†…å®¹</li>
<li>ç¬¬äºŒé˜¶æ®µï¼šå»ºç«‹åŸºæœ¬çš„C++-JSåŒå‘é€šä¿¡</li>
<li>ç¬¬ä¸‰é˜¶æ®µï¼šé€æ­¥è¿ç§»ä¸šåŠ¡æ¨¡å—åˆ°Webå‰ç«¯</li>
<li>ç¬¬å››é˜¶æ®µï¼šé‡æ„é—ç•™ä»£ç ï¼Œä¼˜åŒ–æ¶æ„</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–è¦ç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨å…±äº«å†…å­˜ä¼ é€’å¤§é‡æ•°æ®</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedMemoryBridge</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">SendLargeData</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">char</span>&gt;&amp; data)</span> </span>{
        <span class="hljs-comment">// 1. åˆ›å»ºå…±äº«å†…å­˜åŒºåŸŸ</span>
        CefRefPtr&lt;CefSharedMemoryRegion&gt; region = 
            CefSharedMemoryRegion::<span class="hljs-built_in">Create</span>(data.<span class="hljs-built_in">size</span>());
        
        <span class="hljs-comment">// 2. å¤åˆ¶æ•°æ®åˆ°å…±äº«å†…å­˜</span>
        <span class="hljs-built_in">memcpy</span>(region-&gt;<span class="hljs-built_in">Memory</span>(), data.<span class="hljs-built_in">data</span>(), data.<span class="hljs-built_in">size</span>());
        
        <span class="hljs-comment">// 3. é€šè¿‡IPCä¼ é€’å…±äº«å†…å­˜å¥æŸ„</span>
        <span class="hljs-function">CefProcessMessage <span class="hljs-title">msg</span><span class="hljs-params">(<span class="hljs-string">"LargeData"</span>)</span></span>;
        msg-&gt;<span class="hljs-built_in">GetArgumentList</span>()-&gt;<span class="hljs-built_in">SetSharedMemoryRegion</span>(<span class="hljs-number">0</span>, region);
        
        <span class="hljs-keyword">return</span> browser-&gt;<span class="hljs-built_in">SendProcessMessage</span>(PID_RENDERER, msg);
    }
};
</code></pre>
</li>
</ol>
<h3 data-id="heading-15">5.2 Blazoræ··åˆå¼€å‘æ¨¡å¼</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ç»“åˆåŸç”Ÿæ§ä»¶çš„æ··åˆæ¸²æŸ“</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HybridWindow</span> : <span class="hljs-title">Form</span> {
    <span class="hljs-keyword">private</span> BlazorWebView blazorWebView;
    <span class="hljs-keyword">private</span> NativeTreeView treeView; <span class="hljs-comment">// ä¼ ç»ŸWindowsæ§ä»¶</span>
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">HybridWindow</span>()</span> {
        <span class="hljs-comment">// åˆ›å»ºåˆ†å‰²çª—å£</span>
        <span class="hljs-keyword">var</span> splitContainer = <span class="hljs-keyword">new</span> SplitContainer();
        splitContainer.Panel1.Controls.Add(treeView);
        splitContainer.Panel2.Controls.Add(blazorWebView);
        
        <span class="hljs-comment">// åŒå‘æ•°æ®ç»‘å®š</span>
        treeView.AfterSelect += (s, e) =&gt; {
            <span class="hljs-keyword">var</span> selectedNode = e.Node.Tag <span class="hljs-keyword">as</span> DataItem;
            <span class="hljs-comment">// å°†é€‰æ‹©ä¼ é€’ç»™Blazorç»„ä»¶</span>
            blazorWebView.JS.InvokeVoidAsync(<span class="hljs-string">"selectItem"</span>, selectedNode.Id);
        };
        
        <span class="hljs-comment">// ä»Blazoræ¥æ”¶æ›´æ–°</span>
        blazorWebView.MessageReceived += (s, e) =&gt; {
            <span class="hljs-keyword">if</span> (e.Message == <span class="hljs-string">"updateTree"</span>) {
                UpdateTreeView(e.Data);
            }
        };
    }
}
</code></pre>
<h2 data-id="heading-16">ç»“è®ºï¼šæ¶æ„æ¼”è¿›çš„æœªæ¥è¶‹åŠ¿</h2>
<p>æ¡Œé¢åº”ç”¨ç°ä»£åŒ–ä¸æ˜¯ç®€å•çš„æŠ€æœ¯æ›¿æ¢ï¼Œè€Œæ˜¯<strong>æ¶æ„å“²å­¦çš„æ¼”è¿›</strong>ã€‚C++/MFC/CEFè·¯å¾„ä»£è¡¨äº†<strong>æ¸è¿›å¼æ”¹é€ </strong>çš„åŠ¡å®ç­–ç•¥ï¼Œé€‚åˆç»´æŠ¤å…³é”®ä¸šåŠ¡ç³»ç»Ÿï¼›è€ŒC#/Blazorè·¯å¾„åˆ™ä»£è¡¨äº†<strong>å…¨æ ˆç»Ÿä¸€</strong>çš„æœªæ¥æ–¹å‘ï¼Œé€‚åˆç»¿è‰²å¼€å‘ã€‚</p>
<p>æ— è®ºé€‰æ‹©å“ªæ¡è·¯å¾„ï¼Œæ ¸å¿ƒåŸåˆ™éƒ½æ˜¯æ˜ç¡®çš„ï¼š</p>
<ol>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šæ¸…æ™°å®šä¹‰å‰åç«¯è¾¹ç•Œ</li>
<li><strong>å¥‘çº¦ä¼˜å…ˆ</strong>ï¼šä½¿ç”¨TypeScriptç­‰å·¥å…·æ˜ç¡®æ¥å£çº¦å®š</li>
<li><strong>æ¸è¿›æ¼”è¿›</strong>ï¼šé¿å…å¤§è§„æ¨¡é‡å†™ï¼Œé‡‡ç”¨é€æ­¥æ›¿æ¢ç­–ç•¥</li>
<li><strong>å·¥å…·é“¾ç»Ÿä¸€</strong>ï¼šå»ºç«‹é«˜æ•ˆçš„å¼€å‘ã€è°ƒè¯•ã€éƒ¨ç½²æµç¨‹</li>
</ol>
<p>éšç€WebAssemblyç­‰æŠ€æœ¯çš„å‘å±•ï¼Œä¸¤ç§è·¯å¾„æ­£åœ¨é€æ¸èåˆã€‚æœªæ¥ï¼Œæˆ‘ä»¬å¯èƒ½çœ‹åˆ°æ›´å¤š<strong>æ··åˆæ¶æ„</strong>çš„å‡ºç°ï¼Œæ—¢ä¿ç•™åŸç”Ÿæ€§èƒ½ä¼˜åŠ¿ï¼Œåˆäº«å—Webå¼€å‘æ•ˆç‡ã€‚æŠ€æœ¯é€‰å‹çš„æ™ºæ…§ä¸åœ¨äºè¿½æ±‚æœ€æ–°ï¼Œè€Œåœ¨äºä¸ºç‰¹å®šå›¢é˜Ÿã€ç‰¹å®šé¡¹ç›®æ‰¾åˆ°æœ€åˆé€‚çš„æ¼”è¿›è·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°]]></title>    <link>https://juejin.cn/post/7581728606308270132</link>    <guid>https://juejin.cn/post/7581728606308270132</guid>    <pubDate>2025-12-10T01:47:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581728606308270132" data-draft-id="7581728606308253748" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-12-10T01:47:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T01:47:20.000Z" title="Wed Dec 10 2025 01:47:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ ç”¨ TRAE æ„å»ºé«˜æ€§èƒ½ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œã€ç³»ç»Ÿï¼šES + Redis + MySQL å®æˆ˜è½åœ°</h2>
<blockquote>
<p>âœï¸ ä½œè€…ï¼šå¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ<br/>
ğŸ“Œ æ ‡ç­¾ï¼š#å¾®åšçƒ­æ¦œç³»ç»Ÿ #ESå®æ—¶æœç´¢ #Redisæ’è¡Œæ¦œ #Javaæ¶æ„å®æˆ˜ #é«˜æ€§èƒ½ç³»ç»Ÿ #AIè¾…åŠ©å¼€å‘</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ğŸ§  èµ·å› ï¼šå¾®åšçƒ­æ¦œï¼Œä¸ºä»€ä¹ˆå€¼å¾—åšï¼Ÿ</h3>
<p>ä½œä¸ºä¸€ä¸ªåç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘ä¸€ç›´å¯¹ã€Œçƒ­ç‚¹å†…å®¹å®æ—¶ç»Ÿè®¡ç³»ç»Ÿã€æƒ…æœ‰ç‹¬é’Ÿã€‚</p>
<p>æ¯”å¦‚å¾®åšçƒ­æœã€çŸ¥ä¹çƒ­æ¦œã€Bç«™é£äº‘æ¦œ...è¿™äº›æ¦œå•èƒŒåï¼Œéƒ½æ˜¯<strong>è¶…é«˜å¹¶å‘ + å®æ—¶ç»Ÿè®¡ + å¤šå±‚ç¼“å­˜ + å¤šæºæ•°æ®</strong>çš„æŠ€æœ¯æŒ‘æˆ˜ã€‚</p>
<p>è¿™æ¬¡è¶ç€å‚åŠ  <strong>TRAE SOLO å¤§èµ›çš„å¥‘æœº</strong>ï¼Œæˆ‘å°è¯•ç”¨ TRAE æ„å»ºä¸€ä¸ªï¼š</p>
<blockquote>
<p><strong>é«˜æ€§èƒ½ã€å¯æ‰©å±•ã€æ”¯æŒå®æ—¶æ›´æ–°çš„ã€Œå¾®åšçƒ­ç‚¹æ’è¡Œæ¦œç³»ç»Ÿã€</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ğŸ¯ ç³»ç»Ÿç›®æ ‡</h3>
<p>åœ¨è¿™ä¸ªç³»ç»Ÿä¸­ï¼Œæˆ‘å¸Œæœ›å®ç°ï¼š</p>
<ul>
<li>âœ… å¾®åšæ¯æ¡å†…å®¹éƒ½æœ‰ç‹¬ç«‹ IDï¼ˆ<code>mid</code>ï¼‰</li>
<li>âœ… çƒ­åº¦å˜åŒ–å®æ—¶ç»Ÿè®¡ï¼ˆé˜…è¯»æ•°ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°ç­‰ï¼‰</li>
<li>âœ… æ”¯æŒæŒ‰æ—¶é—´ç»´åº¦ï¼ˆå°æ—¶ã€å¤©ï¼‰ç»Ÿè®¡</li>
<li>âœ… æ’è¡Œæ¦œæ”¯æŒåˆ†é¡µã€æœç´¢ã€å…³é”®è¯ç­›é€‰</li>
<li>âœ… çƒ­æ¦œæ•°æ®ç§’çº§æ›´æ–°ï¼Œæ¯«ç§’çº§è¯»å–</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ§± è¡¨ç»“æ„è®¾è®¡ï¼šMySQL + Redis + ES ä¸‰å±‚ä½“ç³»</h3>
<h4 data-id="heading-4">1. æ•°æ®åº“å»ºè¡¨ï¼ˆMySQLï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `weibo_post` (
  `id` <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  `mid` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `content` TEXT,
  `author` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),
  `like_count` <span class="hljs-type">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
  `comment_count` <span class="hljs-type">INT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
  `read_count` <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
  `created_at` DATETIME,
  `updated_at` DATETIME
);
</code></pre>
<p>â³ è¯´æ˜ï¼š</p>
<ul>
<li>æ ¸å¿ƒå­—æ®µä¸º <code>mid</code>ï¼ˆå¾®åšIDï¼‰ï¼Œå†…å®¹å­˜å‚¨åœ¨ <code>content</code></li>
<li>åŸºç¡€æ•°æ®å…¥åº“ï¼Œç”¨äºæŒä¹…åŒ–å’Œç¦»çº¿ç»Ÿè®¡</li>
</ul>
<hr/>
<h4 data-id="heading-5">2. å®æ—¶çƒ­åº¦ç»Ÿè®¡ï¼ˆRedisï¼‰</h4>
<ul>
<li>ä½¿ç”¨ Redis çš„ <strong>ZSetï¼ˆæœ‰åºé›†åˆï¼‰</strong> å­˜å‚¨çƒ­æ¦œï¼š</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino">zadd weibo:hot:today <span class="hljs-number">1001234</span> <span class="hljs-string">"mid_123"</span>
zadd weibo:hot:today <span class="hljs-number">1009823</span> <span class="hljs-string">"mid_456"</span>
</code></pre>
<ul>
<li><code>Score</code> è®¡ç®—æ–¹å¼ï¼š</li>
</ul>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">score</span> = readCount * <span class="hljs-number">1</span> + likeCount * <span class="hljs-number">20</span> + commentCount * <span class="hljs-number">50</span>
</code></pre>
<ul>
<li>æ¯æ¬¡ç‚¹èµ/è¯„è®º/é˜…è¯»æ—¶ï¼Œå¼‚æ­¥æ›´æ–°å¯¹åº” <code>mid</code> çš„ scoreã€‚</li>
</ul>
<p>ğŸ”¥ Redis ä¼˜åŠ¿ï¼š</p>
<ul>
<li>æ¯«ç§’çº§æ›´æ–°</li>
<li>å†…å­˜æ“ä½œè¶…å¿«</li>
<li>æ’åºã€åˆ†é¡µã€TopN æŸ¥è¯¢æå…¶é«˜æ•ˆ</li>
</ul>
<hr/>
<h4 data-id="heading-6">3. æœç´¢èƒ½åŠ›ï¼ˆElasticsearchï¼‰</h4>
<p>å¾®åšå†…å®¹éœ€è¦æ”¯æŒå…³é”®è¯æœç´¢ã€å…¨æ–‡æ£€ç´¢ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨äº† <strong>ES 7.x</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">PUT weibo_index
{
  "mappings": {
    "properties": {
      "mid": { "type": <span class="hljs-string">"keyword"</span> },
      "<span class="hljs-attribute">content</span>": { "type": <span class="hljs-string">"text"</span>, <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_max_word"</span> },
      "author": { "type": <span class="hljs-string">"keyword"</span> },
      "created_at": { "type": <span class="hljs-string">"date"</span> }
    }
  }
}
</code></pre>
<ul>
<li>æ”¯æŒå…³é”®è¯æœç´¢ï¼š<code>match</code>, <code>term</code>, <code>bool</code></li>
<li>æ”¯æŒåˆ†é¡µã€é«˜äº®ã€ç›¸å…³åº¦æ’åº</li>
<li>çƒ­æ¦œé¡µé¢æ”¯æŒå…¨æ–‡æœç´¢ + çƒ­åº¦æ’åºç»¼åˆå±•ç¤º</li>
</ul>
<hr/>
<h3 data-id="heading-7">âš™ï¸ æ¶æ„è®¾è®¡ï¼ˆå›¾è§£ï¼‰</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·è¡Œä¸ºï¼ˆé˜…è¯»/ç‚¹èµ/è¯„è®ºï¼‰
<span class="hljs-code">        â†“
   Kafka æ—¥å¿—æµï¼ˆå¯é€‰ï¼‰
        â†“
     Redis ZSet çƒ­æ¦œæ›´æ–°ï¼ˆå®æ—¶ï¼‰
        â†“
    å®šæ—¶ä»»åŠ¡å®šæœŸå†™å…¥ MySQL
        â†“
     Elasticsearch å®æ—¶æœç´¢æ”¯æŒ
        â†“
     API æ¥å£è¿”å›çƒ­æ¦œæ•°æ®
</span></code></pre>
<hr/>
<h3 data-id="heading-8">ğŸ”¥ çƒ­æ¦œæ¥å£æ ¸å¿ƒé€»è¾‘</h3>
<h4 data-id="heading-9">æŸ¥è¯¢ Redis çƒ­æ¦œ Top N</h4>
<pre><code class="hljs language-ini" lang="ini">Set&lt;String&gt; <span class="hljs-attr">mids</span> = redisTemplate.opsForZSet()
    .reverseRange("weibo:hot:today", 0, 99)<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-10">æ‰¹é‡æŸ¥è¯¢å¾®åšå†…å®¹ï¼ˆMySQL æˆ– ESï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">List&lt;WeiboPost&gt; <span class="hljs-attr">posts</span> = weiboRepository.findByMidIn(mids)<span class="hljs-comment">;</span>
</code></pre>
<p>æˆ–è€…ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ES æŸ¥è¯¢ + Score æ’åº</span>
QueryBuilder query = QueryBuilders.<span class="hljs-built_in">idsQuery</span>().<span class="hljs-built_in">addIds</span>(mids.<span class="hljs-built_in">toArray</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">String</span>[<span class="hljs-number">0</span>]));
</code></pre>
<hr/>
<h3 data-id="heading-11">ğŸ§  TRAE çš„ä½œç”¨ï¼šAI + æ¶æ„ååŒè®¾è®¡</h3>
<p>æˆ‘åœ¨ TRAE SOLO ä¸­æå‡ºå¦‚ä¸‹ Promptï¼š</p>
<pre><code class="hljs">è¯·å¸®æˆ‘å®ç°ä¸€ä¸ªå¾®åšçƒ­æ¦œç³»ç»Ÿï¼Œæ”¯æŒæŒ‰çƒ­åº¦å®æ—¶æ’è¡Œï¼Œæ•°æ®æ¥æº Redis + MySQL + Elasticsearchï¼Œæä¾›æŸ¥è¯¢æ¥å£ï¼Œæ”¯æŒåˆ†é¡µæœç´¢ã€‚
</code></pre>
<p>TRAE å¾ˆå¿«å¸®æˆ‘ï¼š</p>
<ul>
<li>ç”Ÿæˆäº† Redis çƒ­ç‚¹ç»Ÿè®¡çš„æ¨¡æ¿ä»£ç </li>
<li>Elasticsearch æ˜ å°„ç»“æ„ + æŸ¥è¯¢æ–¹å¼</li>
<li>çƒ­æ¦œåˆ†é¡µæŸ¥è¯¢æ¥å£éª¨æ¶</li>
<li>çƒ­åº¦ score çš„è®¡ç®—æ¨¡å‹å»ºè®®</li>
<li>æ•°æ®æŒä¹…åŒ–ç­–ç•¥ï¼ˆå®šæ—¶å†™ MySQLï¼‰</li>
</ul>
<p>è¿™ä¸€åˆ‡èŠ‚çœäº†æˆ‘ 60% çš„ç¼–ç æ—¶é—´ï¼</p>
<hr/>
<h3 data-id="heading-12">ğŸ§ª å®æµ‹æ•ˆæœ</h3>
<p>æˆ‘ä½¿ç”¨ 10w æ¡æ¨¡æ‹Ÿå¾®åšæ•°æ®ï¼Œåœ¨æœ¬åœ°æµ‹è¯•å¦‚ä¸‹ï¼š</p>
<ul>
<li>ğŸ‘ ç‚¹èµ/è¯„è®º/é˜…è¯»å¹¶å‘æ‰“ç‚¹ï¼šQPS 1500+</li>
<li>ğŸ”¥ Redis çƒ­æ¦œæ›´æ–°å»¶è¿Ÿï¼š&lt; 5ms</li>
<li>ğŸ” çƒ­æ¦œ Top100 æŸ¥è¯¢ï¼š&lt; 20ms</li>
<li>ğŸ” å…³é”®è¯ + çƒ­åº¦æŸ¥è¯¢ï¼šES æŸ¥è¯¢ &lt; 100ms</li>
</ul>
<hr/>
<h3 data-id="heading-13">ğŸ”§ å¯æ‰©å±•æ€§è®¾è®¡</h3>





























<table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>æ‰©å±•æ–¹å‘</th></tr></thead><tbody><tr><td>Redis çƒ­æ¦œ</td><td>å¤šç»´åº¦æ’è¡Œæ¦œï¼ˆæŒ‰åŸå¸‚ã€è¯é¢˜ï¼‰</td></tr><tr><td>Elasticsearch</td><td>æ”¯æŒæœç´¢è”æƒ³ã€è¯­ä¹‰åˆ†è¯ã€å‘é‡æ£€ç´¢</td></tr><tr><td>Kafka</td><td>ç”¨æˆ·è¡Œä¸ºå¼‚æ­¥å…¥æµï¼Œæ”¯æŒå®æ—¶æ•°ä»“</td></tr><tr><td>æ•°æ®è½ç›˜</td><td>ä½¿ç”¨ Flink + ClickHouse å®æ—¶èšåˆ</td></tr><tr><td>æ¥å£å±‚</td><td>æ”¯æŒ GraphQL æŸ¥è¯¢ï¼Œå‰ç«¯è‡ªç”±ç»„åˆ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-14">âœ… æ€»ç»“ï¼šç”¨ AI + å…«å¹´ç»éªŒï¼Œæ‰“é€ ä¸€æ¬¾å·¥ç¨‹çº§çƒ­æ¦œç³»ç»Ÿ</h3>
<p>è¿™æ¬¡æˆ‘ç”¨ TRAE SOLO æ„å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ã€Œå¾®åšçƒ­æ¦œã€ç³»ç»Ÿï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯ Demoï¼Œæ›´æ˜¯ä¸€ä¸ª <strong>å¯éƒ¨ç½²ã€å¯æ‰©å±•ã€å¯è¿ç»´çš„å·¥ç¨‹åŒ–äº§å“åŸå‹</strong>ã€‚</p>
<ul>
<li>ğŸ“¦ ä½¿ç”¨ä¸»æµç»„ä»¶ï¼šRedisã€MySQLã€Elasticsearch</li>
<li>ğŸ§  ç»“åˆ AI å’Œäººç±»æ¶æ„æ€ç»´</li>
<li>âš™ï¸ å®ç°å®æ—¶ã€é«˜æ€§èƒ½æ’è¡Œæ¦œæœåŠ¡</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Forresterå‘å¸ƒæµå¼æ•°æ®å¹³å°æŠ¥å‘Šï¼šVervericaé¦–æ¬¡è·»èº«é¢†å¯¼è€…è¡Œåˆ—ï¼Œå®æ—¶AIèƒ½åŠ›è·æƒå¨è®¤å¯]]></title>    <link>https://juejin.cn/post/7582401182933909519</link>    <guid>https://juejin.cn/post/7582401182933909519</guid>    <pubDate>2025-12-11T09:27:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582401182933909519" data-draft-id="7582358932028014607" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Forresterå‘å¸ƒæµå¼æ•°æ®å¹³å°æŠ¥å‘Šï¼šVervericaé¦–æ¬¡è·»èº«é¢†å¯¼è€…è¡Œåˆ—ï¼Œå®æ—¶AIèƒ½åŠ›è·æƒå¨è®¤å¯"/> <meta itemprop="keywords" content="Flink,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T09:27:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Forresterå‘å¸ƒæµå¼æ•°æ®å¹³å°æŠ¥å‘Šï¼šVervericaé¦–æ¬¡è·»èº«é¢†å¯¼è€…è¡Œåˆ—ï¼Œå®æ—¶AIèƒ½åŠ›è·æƒå¨è®¤å¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:27:47.000Z" title="Thu Dec 11 2025 09:27:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼Œå…¨çƒæƒå¨ç ”ç©¶æœºæ„Forresteræ­£å¼å‘å¸ƒã€ŠThe Forrester Waveâ„¢: Streaming Data Platforms, Q4 2025ã€‹æŠ¥å‘Šï¼ˆåç®€ç§°â€œæŠ¥å‘Šâ€ï¼‰ï¼ŒVervericaé¦–æ¬¡è¿›å…¥é¢†å¯¼è€…è±¡é™ï¼Œæˆä¸ºè¯¥å¹´åº¦æŠ¥å‘Šä¸­æœ€å—å…³æ³¨çš„"æ–°æ™‹é¢†å¯¼è€…"ã€‚è¿™ä¸€çªç ´æ€§æˆå°±æ ‡å¿—ç€Ververicaåœ¨å…¨çƒæµå¼æ•°æ®å¹³å°é¢†åŸŸçš„æŠ€æœ¯å®åŠ›å’Œå¸‚åœºå½±å“åŠ›è·å¾—è¡Œä¸šè®¤å¯ï¼Œå…¶åœ¨å®æ—¶AIé¢†åŸŸçš„åˆ›æ–°èƒ½åŠ›å°¤ä¸ºçªå‡ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79eb6c64555644e1b4ff2b2bf20fa215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050067&amp;x-signature=DTjK%2BgYHq1s8SYVpIPejEIp2394%3D" alt="" loading="lazy"/></p>
<p>Ververicaä½œä¸ºä¸€å®¶ä¸“æ³¨äºæµå¼æ•°æ®å¤„ç†çš„æµ·å¤–ä¼ä¸šï¼Œç”±Apache Flinkçš„åˆ›å§‹å›¢é˜Ÿåˆ›ç«‹ï¼Œäº2019å¹´è¢«é˜¿é‡Œå·´å·´é›†å›¢æ”¶è´­ã€‚å‡­å€Ÿå¯¹Apache Flinkæ ¸å¿ƒæŠ€æœ¯çš„æ·±åº¦ä¼˜åŒ–å’Œä¼ä¸šçº§äº§å“åŒ–èƒ½åŠ›ï¼ŒVervericaå·²æˆä¸ºå…¨çƒä¼ä¸šæ„å»ºå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„é¦–é€‰åˆä½œä¼™ä¼´ï¼Œå…¶å®¢æˆ·æ¶µç›–é‡‘èã€åˆ¶é€ ã€é›¶å”®ã€èƒ½æºç­‰å¤šä¸ªå…³é”®è¡Œä¸šï¼ŒåŒ…æ‹¬å®é©¬ã€Booking.comã€ç©ºä¸­å®¢è½¦ã€å½­åšç¤¾ç­‰å…¨çƒçŸ¥åä¼ä¸šã€‚Ververicaæ”¯æŒçµæ´»çš„å¤šäº‘éƒ¨ç½²æ¶æ„ï¼Œæ»¡è¶³ä¼ä¸šå…¬æœ‰äº‘ã€ç§æœ‰äº‘ã€æœ¬åœ°éƒ¨ç½²çš„å¤æ‚éƒ¨ç½²éœ€æ±‚ã€‚ä¸æ­¤åŒæ—¶ï¼ŒVervericaä¸é˜¿é‡Œå·´å·´æºæ‰‹æŒç»­ä¸»å¯¼Apache Flinkå¼€æºç¤¾åŒºå‘å±•ï¼ŒåŒæ–¹æŒç»­è´¡çŒ®æ ¸å¿ƒä»£ç ï¼Œæ¨åŠ¨æµè®¡ç®—æŠ€æœ¯åˆ›æ–°ï¼Œå¹¶ååŒå»ºè®¾å•†ä¸šåŒ–ç‰ˆæœ¬çš„ä¼ä¸šçº§èƒ½åŠ›ï¼Œä¸ºå…¨çƒç”¨æˆ·æä¾›ä»å¼€æºåˆ°å•†ä¸šåŒ–çš„å®Œæ•´ä»·å€¼é“¾æ¡ã€‚</p>
<p>Forresteråœ¨æŠ¥å‘Šä¸­å¯¹Ververicaç»™äºˆäº†é«˜åº¦è¯„ä»·ï¼Œç‰¹åˆ«æŒ‡å‡ºï¼š"Ververica èšç„¦äºæå‡ Flink çš„æ€§èƒ½ä¸æ‰©å±•èƒ½åŠ›ï¼ŒåŠ©åŠ›ä¼ä¸šè½»æ¾æ‹¥æŠ±çµæ´»ã€é«˜ååçš„æµå¤„ç†è§£å†³æ–¹æ¡ˆï¼Œå› è€Œå¹¿å—é‡‡ç”¨ã€‚"ï¼Œå¹¶èµèµå…¶"åœ¨æœ¬åœ°ã€å…¬æœ‰äº‘åŠè‡ªå¸¦äº‘ç¯å¢ƒä¸­ï¼ˆBYOCï¼‰çš„å…¨åœºæ™¯éƒ¨ç½²èƒ½åŠ›"ã€‚å°¤ä¸ºå¼•äººæ³¨ç›®çš„æ˜¯ï¼ŒVervericaåœ¨åŒ…æ‹¬"åˆ›æ–°æ€§"åœ¨å†…çš„ä¸ƒé¡¹å…³é”®è¯„ä¼°æ ‡å‡†ä¸­è·å¾—æœ€é«˜è¯„åˆ†ï¼Œè¿™ä¸€æˆç»©åœ¨é¦–æ¬¡å…¥é€‰é¢†å¯¼è€…è±¡é™çš„ä¼ä¸šä¸­æä¸ºç½•è§ã€‚</p>
<p>ä½œä¸ºApache FlinkæŠ€æœ¯çš„å¥ åŸºè€…ï¼ŒVervericaæ­¤æ¬¡å…¥é€‰é¢†å¯¼è€…è±¡é™å½°æ˜¾äº†å…¶åœ¨æµå¼æ•°æ®å¤„ç†é¢†åŸŸçš„æ·±åšç§¯ç´¯ã€‚Forresteråˆ†æå¸ˆè®¤ä¸ºï¼ŒVervericaå¼ºå¤§çš„Apache Flinkæ ¸å¿ƒä½¿å…¶èƒ½å¤Ÿ"ä¸ºä¼ä¸šå¤„ç†å¤§è§„æ¨¡å®æ—¶æ•°æ®å·¥ä½œè´Ÿè½½æä¾›é«˜æ•ˆç‡å’Œå¯æ‰©å±•æ€§"ã€‚åœ¨å…¨çƒä¼ä¸šåŠ é€Ÿå‘å®æ—¶AIè½¬å‹çš„èƒŒæ™¯ä¸‹ï¼ŒVervericaçš„ç»Ÿä¸€æµæ•°æ®å¹³å°æ­£æˆä¸ºè¿æ¥æ•°æ®æµåŠ¨ä¸æ™ºèƒ½å†³ç­–çš„å…³é”®çº½å¸¦ï¼Œæ”¯æŒä»å®æ—¶æ¬ºè¯ˆæ£€æµ‹ã€ç‰©è”ç½‘è®¾å¤‡ç›‘æ§åˆ°AIä»£ç†è‡ªä¸»å†³ç­–ç­‰å¤šæ ·åŒ–åº”ç”¨åœºæ™¯ã€‚</p>
<p>Forrester è¯„ä¼°æŠ¥å‘Šå¯¹ Ververica çš„å…³é”®å‘ç°åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>æˆ˜ç•¥è§†é‡çªå‡ºï¼šVerverica èµ‹èƒ½ä¼ä¸šåŸºäºå¤šç§éƒ¨ç½²æ¨¡å¼ï¼Œæ„å»ºå®æ—¶åˆ†æä¸AIé©±åŠ¨çš„åº”ç”¨ã€‚</p>
</li>
<li>
<p>èƒ½åŠ›é¢†å…ˆï¼šå…¶é«˜ååæµå¤„ç†å¼•æ“ä¸èµ„æºä¼˜åŒ–æŠ€æœ¯ï¼Œå¯ä»å®¹åº”å¯¹æœ€ä¸¥è‹›çš„æ•°æ®ä¸AIå·¥ä½œè´Ÿè½½ã€‚</p>
</li>
<li>
<p>å®¢æˆ·é«˜åº¦ä¿¡èµ–ï¼šç”¨æˆ·æ™®éè®¤å¯ Ververica åœ¨æ€§èƒ½ã€ç¨³å®šæ€§æ–¹é¢çš„è¡¨ç°ï¼Œä»¥åŠå…¶ä¸ Apache Flink åœ¨å®æ—¶æ•°æ®å¤„ç†ä¸Šçš„æ·±åº¦é›†æˆä¼˜åŠ¿ã€‚</p>
</li>
</ul>
<p>æœ¬æ¬¡æŠ¥å‘Šä¸­ï¼Œé™¤Ververicaå¤–ï¼Œå¾®è½¯ã€è°·æ­Œã€ç”²éª¨æ–‡ç­‰å›½é™…ç§‘æŠ€å·¨å¤´ï¼Œä»¥åŠä¸“æ³¨æµå¼æ•°æ®å¹³å°çš„å‚å•†Confluentä¹Ÿå…¥é€‰äº†é¢†å¯¼è€…è±¡é™ã€‚æ­¤æ¬¡æŠ¥å‘Šåæ˜ å‡ºæµå¼æ•°æ®å¹³å°å¸‚åœºå‘ˆç°"å·¨å¤´ä¸ä¸“ä¸šå‚å•†å¹¶å­˜"çš„ç«äº‰æ ¼å±€ï¼ŒVervericaä½œä¸ºä¸“æ³¨Apache Flinkç”Ÿæ€çš„ä¸“ä¸šå‚å•†ï¼Œå…¶é¦–æ¬¡å…¥é€‰é¢†å¯¼è€…è±¡é™å‡¸æ˜¾äº†å¼€æºæŠ€æœ¯åœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„é‡è¦ä»·å€¼ã€‚</p>
<p>æ­¤æ¬¡Forrester WaveæŠ¥å‘Šçš„å‘å¸ƒï¼Œä¸ºæ­£åœ¨è¯„ä¼°æµå¼æ•°æ®å¹³å°è§£å†³æ–¹æ¡ˆçš„ä¼ä¸šæä¾›äº†æƒå¨çš„é€‰å‹å‚è€ƒã€‚Ververicaé¦–æ¬¡è¿›å…¥é¢†å¯¼è€…è±¡é™ï¼Œä¸ä»…æ ‡å¿—ç€å…¶æŠ€æœ¯èƒ½åŠ›å’Œå•†ä¸šæˆåŠŸçš„åŒé‡çªç ´ï¼Œæ›´ä¸ºå…¨çƒä¼ä¸šè¿ˆå‘å®æ—¶æ™ºèƒ½æ—¶ä»£æä¾›äº†åšå®çš„æŠ€æœ¯åŸºçŸ³ã€‚åœ¨æ•°æ®ä¸AIæ·±åº¦èåˆçš„æ–°çºªå…ƒï¼ŒVervericaæ­£ä»¥å…¶å“è¶Šçš„æµå¼è®¡ç®—èƒ½åŠ›ï¼Œå¼•é¢†å®æ—¶æ•°æ®å¤„ç†æŠ€æœ¯çš„æœªæ¥å‘å±•ã€‚</p>
<p>Forrester does not endorse any company, product, brand, or service included in its research publications and does not advise any person to select the products or services of any company or brand based on the ratings included in such publications. Information is based on the best available resources. Opinions reflect judgment at the time and are subject to change. For more information, read about Forresterâ€™s objectivity <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.forrester.com%2Fpolicies%2Fintegrity-policy%2F" target="_blank" title="https://www.forrester.com/policies/integrity-policy/" ref="nofollow noopener noreferrer">here</a>â€¯.</p>
<p>æŠ¥å‘Šä¸‹è½½åœ°å€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freprint.forrester.com%2Freports%2Fthe-forrester-wave-tm-streaming-data-platforms-q4-2025-37cd251a%2Findex.html" target="_blank" title="https://reprint.forrester.com/reports/the-forrester-wave-tm-streaming-data-platforms-q4-2025-37cd251a/index.html" ref="nofollow noopener noreferrer">reprint.forrester.com/reports/theâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ¨¡æ¿æ¸²æŸ“åˆ°å“åº”å¼é©±åŠ¨ï¼šå‰ç«¯å´›èµ·çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7582358932028080143</link>    <guid>https://juejin.cn/post/7582358932028080143</guid>    <pubDate>2025-12-11T09:28:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582358932028080143" data-draft-id="7582149417768845362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ¨¡æ¿æ¸²æŸ“åˆ°å“åº”å¼é©±åŠ¨ï¼šå‰ç«¯å´›èµ·çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T09:28:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è°è¨€è¥¿è¥¿é‡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/332466136029851"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ¨¡æ¿æ¸²æŸ“åˆ°å“åº”å¼é©±åŠ¨ï¼šå‰ç«¯å´›èµ·çš„æŠ€æœ¯æ¼”è¿›ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/332466136029851/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è°è¨€è¥¿è¥¿é‡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:28:17.000Z" title="Thu Dec 11 2025 09:28:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¼•è¨€ï¼šç•Œé¢æ˜¯å¦‚ä½•â€œåŠ¨â€èµ·æ¥çš„ï¼Ÿ</h2>
<p>ä¸è®ºæ˜¯ç”¨æˆ·çœ‹åˆ°çš„å“ªä¸ªé¡µé¢ï¼Œéƒ½ä¸åº”è¯¥æ˜¯ä¸€æˆä¸å˜çš„é™æ€ HTMLã€‚</p>
<p>å¾…åŠäº‹é¡¹çš„å¢åˆ ã€å•†å“åº“å­˜çš„å®æ—¶å˜åŒ–ï¼Œè¿˜æ˜¯èŠå¤©æ¶ˆæ¯çš„å³æ—¶æ¨é€ï¼Œéƒ½è®©é¡µé¢æŒ‡å‘äº†ä¸€ä¸ªå¿…éœ€åŠŸèƒ½â€”â€”â€”â€”<strong>ç•Œé¢å¿…é¡»è¦éšç€æ•°æ®çš„å˜åŒ–è€Œè‡ªåŠ¨æ›´æ–°</strong>ã€‚</p>
<p>è€Œå›´ç»•ç€è¿™ä¸€æ ¸å¿ƒè¯‰æ±‚ï¼Œå‡ºç°äº†ä¸¤æ¡ä¸»æµè·¯å¾„ï¼š</p>
<ul>
<li><strong>åç«¯åŠ¨æ€ç”ŸæˆHTMLï¼ˆä¼ ç»Ÿçš„ MVC æ¨¡å¼ï¼‰</strong>ï¼š
æ•°æ®åœ¨æœåŠ¡ç«¯ç»„è£…æˆå®Œæ•´é¡µé¢ï¼Œå†ä¸€æ¬¡æ€§è¿”è¿˜ç»™æµè§ˆå™¨ã€‚</li>
<li><strong>å‰ç«¯æ¥ç®¡ç•Œé¢æ›´æ–°ï¼ˆç°ä»£å“åº”å¼èŒƒå¼ï¼‰</strong>ï¼š
åç«¯åªæä¾›åŸå§‹æ•°æ®ï¼ˆå¦‚JSON APIï¼‰ï¼Œè€Œå‰ç«¯é€šè¿‡å“åº”å¼ç³»ç»Ÿæ¥é©±åŠ¨è§†å›¾è‡ªåŠ¨åŒæ­¥ã€‚</li>
</ul>
<p>è€Œåœ¨è¿™ä¸¤æ¡è·¯èƒŒåï¼Œåæ˜ ç€å‰åç«¯èŒè´£åˆ’åˆ†ï¼ŒåŒæ—¶ä¹Ÿå‚¬ç”Ÿäº†ä»¥<code>Vue</code>å’Œ<code>React</code>ä¸ºä»£è¡¨çš„å‰ç«¯æŠ€æœ¯æ¡†æ¶é©å‘½ã€‚</p>
<h2 data-id="heading-1">æ—¶ä»£ä¸€ï¼šçº¯åç«¯æ¸²æŸ“ â€”â€” MVC æ¨¡å¼ä¸»å¯¼</h2>
<p>å‡å¦‚æœ‰ä¸€ä¸ªéœ€æ±‚å¦‚ï¼šå†™ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼Œå½“ç”¨æˆ·è®¿é—® <code>/</code> æˆ– <code>/users</code> è·¯å¾„æ—¶ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«ç”¨æˆ·åˆ—è¡¨çš„ HTML é¡µé¢ï¼Œå…¶ä»–è·¯å¾„åˆ™è¿”å› 404 é”™è¯¯ã€‚</p>
<p>åœ¨<code>Node.js</code>æ—©æœŸï¼Œå¦‚æœæˆ‘æƒ³å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œé‚£ä¹ˆ<strong>åç«¯æ¸²æŸ“</strong>å°†æ˜¯ä¸äºŒä¹‹é€‰ã€‚</p>
<h3 data-id="heading-2">ä»£ç ç¤ºä¾‹ï¼šæ—©æœŸ Node.js å®ç°ç®€å•ç”¨æˆ·åˆ—è¡¨é¡µ</h3>
<p>é¦–å…ˆå°±æ˜¯å¼•å…¥ Node.js å†…ç½®æ¨¡å—<code>http</code>å’Œ<code>url</code>ï¼Œè€Œä½¿ç”¨çš„æ–¹æ³•åˆ™æ˜¯<strong>Node.jsæœ€æ—©çš„CommonJS æ¨¡å—ç³»ç»Ÿ</strong>ä¸­çš„ <code>require()</code>æ¥â€œå¯¼å…¥â€</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">"http"</span>); <span class="hljs-comment">// commonjs </span>
<span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">"url"</span>);   <span class="hljs-comment">// url</span>
</code></pre>
<ul>
<li><code>http</code>Â æ¨¡å—ï¼šç”¨äºåˆ›å»º HTTP æœåŠ¡å™¨ï¼ˆå¤„ç†è¯·æ±‚å’Œå“åº”ï¼‰ã€‚</li>
<li><code>url</code>Â æ¨¡å—ï¼šç”¨äºè§£ææµè§ˆå™¨å‘æ¥çš„ URL å­—ç¬¦ä¸²ï¼ˆå¦‚Â <code>/users?id=1</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<p>ç„¶åå†å‡†å¤‡ä¸€äº›æ¨¡æ‹Ÿæ•°æ®</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> users = [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'123@qq.com'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'123456@qq.com'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç‹äº”'</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">'121@qq.com'</span> }
]
</code></pre>
<hr/>
<p>æ¥ä¸‹æ¥å°±è¦åˆ›å»ºç”Ÿæˆ HTML é¡µé¢çš„å‡½æ•°äº†</p>
<p>å…ˆä½¿ç”¨<code>.map()</code>æ–¹æ³•æ¥åŠ¨æ€ç”Ÿæˆè¡¨æ ¼è¡Œï¼Œå¯¹æ¯ä¸ªç”¨æˆ·ç”Ÿæˆä¸€è¡Œ HTML è¡¨æ ¼ï¼Œç”¨åå¼•å·æ¥æ’å…¥å˜é‡ï¼Œä½¿ç”¨ <code>.join('')</code>æ¥æ‹¼æ¥æ‰€æœ‰è¡Œï¼Œæœ€åè¿”è¿˜ä¸€ä¸ªå®Œæ•´çš„ HTML æ–‡æ¡£ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateUsersHtml</span>(<span class="hljs-params">users</span>) {
    <span class="hljs-keyword">const</span> userRows = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
        &lt;tr&gt;
            &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
        &lt;/tr&gt;
    `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">`
    &lt;!DOCTYPE html&gt;
    &lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;meta charset="UTF-8"&gt;
        &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
        &lt;title&gt;User List&lt;/title&gt;
        &lt;style&gt;
            table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
            th { background-color: #f4f4f4; }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Users&lt;/h1&gt;
        &lt;table&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th&gt;ID&lt;/th&gt;
                    &lt;th&gt;Name&lt;/th&gt;
                    &lt;th&gt;Email&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody&gt;
                <span class="hljs-subst">${userRows}</span>
            &lt;/tbody&gt;
        &lt;/table&gt;
    &lt;/body&gt;
    &lt;/html&gt;
    `</span>;
}
</code></pre>
<hr/>
<p>æœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„å°±æ˜¯åˆ›å»º HTTP æœåŠ¡å™¨äº†ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> parsedUrl = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>);
    
    <span class="hljs-keyword">if</span> (parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/'</span> || parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/users'</span>) {
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>;
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html;charset=utf-8'</span>);
        <span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generateUsersHtml</span>(users);
        res.<span class="hljs-title function_">end</span>(html);
    } <span class="hljs-keyword">else</span> {
        res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span>;
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">"text/plain"</span>);
        res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'Not Found'</span>);
    }
});
</code></pre>
<p>å…³é”®æ¦‚å¿µè§£é‡Šï¼š</p>
<ul>
<li><code>req</code>ï¼ˆRequestï¼‰ï¼šç”¨æˆ·çš„è¯·æ±‚å¯¹è±¡ï¼ŒåŒ…å« URLã€æ–¹æ³•ã€å¤´ä¿¡æ¯ç­‰ã€‚</li>
<li><code>res</code>ï¼ˆResponseï¼‰ï¼šä½ è¦è¿”å›ç»™ç”¨æˆ·çš„å†…å®¹ï¼Œé€šè¿‡å®ƒè®¾ç½®çŠ¶æ€ç ã€å¤´ã€æ­£æ–‡ã€‚</li>
</ul>
<p><strong>è§£æ URL</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// url.parse(pathname, query)</span>
<span class="hljs-keyword">const</span> parsedUrl = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>);
</code></pre>
<ul>
<li>
<p><code>req.url</code>å³ç”¨æˆ·è¯·æ±‚çš„ è·¯å¾„+å‚æ•°éƒ¨åˆ†</p>
</li>
<li>
<p><code>url.parse()</code>å°† URL å­—ç¬¦ä¸²â€œæ‹†è§£â€æˆç»“æ„åŒ–çš„å¯¹è±¡ï¼Œä»è€Œæ–¹ä¾¿è¯»å–ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li><code>pathname</code>: <strong>è·¯å¾„éƒ¨åˆ†</strong>ï¼ˆå¦‚Â <code>/users</code>ï¼‰</li>
<li><code>query</code>: <strong>æŸ¥è¯¢å‚æ•°</strong>ï¼ˆå¦‚Â <code>?id=1</code>å°±å˜æˆäº†<code>{ id: '1' }</code>ï¼‰ï¼Œè¿™é‡Œçš„<code>true</code>æ˜¯ç”¨äºåˆ¤æ–­ä½ æ˜¯å¦éœ€è¦è‡ªåŠ¨è§£æURLå‚æ•°éƒ¨åˆ†å¹¶è½¬æ¢ä¸ºå¯¹è±¡ï¼ˆé€šå¸¸ä¸º trueï¼‰</li>
</ul>
</li>
</ul>
<p><strong>è·¯ç”±åˆ¤æ–­ï¼ˆç®€å•è·¯ç”±ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">if</span> (parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/'</span> || parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/users'</span>)
</code></pre>
<p>å¦‚æœè·¯å¾„æ˜¯æ ¹è·¯å¾„Â <code>/</code>Â æˆ–Â <code>/users</code>ï¼Œå°±æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨ï¼Œå¦åˆ™è¿”å› 404ã€‚</p>
<p><strong>æˆåŠŸå“åº”ï¼ˆ200ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>; <span class="hljs-comment">// è®¾ç½®çŠ¶æ€ç ä¸º 200</span>
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html;charset=utf-8'</span>);
<span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generateUsersHtml</span>(users);
res.<span class="hljs-title function_">end</span>(html);
</code></pre>
<p>é€šè¿‡<code>.setHeader</code>å‘Šè¯‰æµè§ˆå™¨ï¼šâ€œæˆ‘è¿”å›çš„æ˜¯ HTMLï¼Œç”¨ UTF-8 ç¼–ç â€ã€‚</p>
<p>ç„¶ååˆ©ç”¨å‡½æ•°Â <code>generateUsersHtml(users)</code>ï¼Œä¼ å…¥ç”¨æˆ·æ•°æ®ï¼Œæœ€åè°ƒç”¨<code>res.end()</code>ç”Ÿæˆ HTML å¹¶å‘é€ã€‚</p>
<p><strong>é”™è¯¯å“åº”ï¼ˆ404 Not Foundï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span>;
res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">"text/plain"</span>);
res.<span class="hljs-title function_">end</span>(<span class="hljs-string">'Not Found'</span>);
</code></pre>
<p>çŠ¶æ€ç  404 è¡¨ç¤ºâ€œé¡µé¢ä¸å­˜åœ¨â€ï¼Œå¦‚æœäº§ç”Ÿé”™è¯¯åˆ™è¿”è¿˜<code>Not Found</code>ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼š<code>url.parse()</code> æ˜¯æ—§ APIï¼Œç°ä»£å¼€å‘åŸºæœ¬å¼ƒç”¨</p>
</blockquote>
<hr/>
<p>Node.js HTTPæœåŠ¡å™¨å¯åŠ¨çš„æœ€åä¸€æ­¥</p>
<pre><code class="hljs language-js" lang="js">server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">1234</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Server is running on port 1234'</span>)
})
</code></pre>
<p>è®©æœåŠ¡å™¨ç›‘å¬Â <strong>1234 ç«¯å£</strong>ï¼ˆä»»æ„ä¿®æ”¹ï¼‰ã€‚æ­¤æ—¶å°±å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—®ï¼š<code>http://localhost:1234</code>
æˆ–<code>http://localhost:1234/users</code>ï¼Œè€Œè®¿é—®å…¶ä»–è·¯å¾„ï¼ˆå¦‚Â <code>/about</code>ï¼‰ä¼šæ˜¾ç¤º â€œNot Foundâ€ã€‚</p>
<h3 data-id="heading-3">æ•ˆæœå›¾ï¼š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7653e59e67ec46f8a6810a7bcb6801ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=xc20zoVpoi5GT3Jo1yQvHK5USGE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">æ ¸å¿ƒç¼ºç‚¹ + æ—¶ä»£å±€é™æ€§ï¼š</h3>
<ol>
<li><strong>å‰åç«¯é«˜åº¦è€¦åˆï¼Œåä½œæ•ˆç‡ä½ä¸‹</strong>ï¼š</li>
</ol>
<p>HTML ç»“æ„ã€æ ·å¼ã€JavaScript é€»è¾‘å…¨éƒ¨ç¡¬ç¼–ç åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œå¦‚æœè¦ä¿®æ”¹è¡¨æ ¼æ ·å¼ç­‰æ“ä½œï¼Œå°±å¾—ä¿®æ”¹è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æ— æ³•å¤ç”¨ã€‚</p>
<p>è€Œè¿™ä¹Ÿå‡ ä¹å°†å‰åç«¯å·¥ç¨‹å¸ˆæ†ç»‘èµ·æ¥äº†ï¼š</p>
<ul>
<li>å‰ç«¯å·¥ç¨‹å¸ˆæ— æ³•ç‹¬ç«‹å¼€å‘æˆ–è°ƒè¯• UIï¼Œå¿…é¡»ä¾èµ–åç«¯æ¥å£å’Œæ¨¡æ¿</li>
<li>åç«¯å·¥ç¨‹å¸ˆè¢«è¿«å¤„ç†æœ¬åº”å±äºå‰ç«¯èŒƒç•´çš„å±•ç¤ºé€»è¾‘</li>
</ul>
<p>é˜»ç¢äº†å›¢é˜Ÿåä½œï¼Œè®©å‰åç«¯å·¥ç¨‹å¸ˆçš„å¼€å‘ä½“éªŒéƒ½æå·®ã€‚</p>
<ol start="2">
<li><strong>ç”¨æˆ·ä½“éªŒå—é™ï¼Œäº¤äº’èƒ½åŠ›å¼±</strong>ï¼š</li>
</ol>
<p>é¡µé¢å®Œå…¨ç”±æœåŠ¡ç«¯ç”Ÿæˆï¼Œæ¯æ¬¡è·³è½¬æˆ–æ“ä½œéƒ½éœ€<strong>æ•´é¡µåˆ·æ–°</strong>ï¼Œæ— æ³•å®ç°å±€éƒ¨æ›´æ–°ã€åŠ¨æ€åŠ è½½ã€è¡¨å•å®æ—¶æ ¡éªŒç­‰ç°ä»£ Web äº¤äº’ï¼Œå³ä½¿åªæ˜¯ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œä¹Ÿè¦é‡æ–°è¯·æ±‚æ•´ä¸ª HTML æ–‡æ¡£ã€‚</p>
<h2 data-id="heading-5">æ—¶ä»£äºŒï¼šè½¬æŠ˜ç‚¹ AJAX ä¸å‰åç«¯åˆ†ç¦»çš„è¯ç”Ÿ</h2>
<p>åœ¨ 2005 å¹´ä¹‹å‰ï¼ŒWeb åº”ç”¨åŸºæœ¬æ˜¯ï¼šç”¨æˆ·ç‚¹å‡» â†’ æµè§ˆå™¨å‘è¯·æ±‚ â†’ åç«¯ç”Ÿæˆå®Œæ•´ HTML â†’ è¿”å› â†’Â <strong>æ•´é¡µåˆ·æ–°</strong>
ï¼Œå¯¼è‡´ç”¨æˆ·æ¯æ¬¡äº¤äº’éƒ½åƒâ€œé‡æ–°æ‰“å¼€ä¸€ä¸ªé¡µé¢â€ï¼Œä½“éªŒæ„Ÿå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p>è½¬æŠ˜äº‹ä»¶ï¼šGoogle Mapsï¼ˆ2005ï¼‰é¦–æ¬¡å¤§è§„æ¨¡ä½¿ç”¨Â <strong>XMLHttpRequestï¼ˆXHRï¼‰</strong></p>
<ul>
<li>åœ°å›¾æ‹–æ‹½æ—¶<strong>ä¸åˆ·æ–°é¡µé¢</strong></li>
<li>åŠ¨æ€åŠ è½½æ–°åŒºåŸŸæ•°æ®</li>
<li>ç”¨æˆ·ä½“éªŒé£è·ƒ â†’ è¡Œä¸šéœ‡åŠ¨</li>
</ul>
<p>è¿™å°±æ˜¯ <strong>AJAXï¼ˆAsynchronous JavaScript and XMLï¼‰</strong> èŒƒå¼çš„è¯ç”Ÿâ€”â€”  <strong>â€œè®©ç½‘é¡µåƒæ¡Œé¢åº”ç”¨ä¸€æ ·æµç•…â€</strong></p>
<h3 data-id="heading-6">èŒƒå¼å¯¹æ¯”å†æ·±åŒ–</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>åç«¯æ¸²æŸ“ï¼ˆä¼ ç»Ÿï¼‰</th><th>å‰åç«¯åˆ†ç¦»ï¼ˆAJAX æ—¶ä»£ï¼‰</th></tr></thead><tbody><tr><td><strong>èŒè´£åˆ’åˆ†</strong></td><td>åç«¯ä¸€å®¶ç‹¬å¤§</td><td>å‰ç«¯è´Ÿè´£ UI/äº¤äº’ï¼Œåç«¯è´Ÿè´£æ•°æ®/API</td></tr><tr><td><strong>å¼€å‘æ¨¡å¼</strong></td><td>å…¨æ ˆä¸€äººå¹²</td><td>å‰åç«¯å¹¶è¡Œå¼€å‘</td></tr><tr><td><strong>éƒ¨ç½²æ–¹å¼</strong></td><td>æœåŠ¡ç«¯éƒ¨ç½² HTML</td><td>å‰ç«¯é™æ€èµ„æºï¼ˆCDNï¼‰ï¼Œåç«¯ APIï¼ˆç‹¬ç«‹æœåŠ¡ï¼‰</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td>å¡é¡¿ã€ç™½å±ã€è·³è½¬</td><td>æµç•…ã€å±€éƒ¨æ›´æ–°ã€SPAé›å½¢</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>PHP/Java/Node + æ¨¡æ¿å¼•æ“</td><td>HTML/CSS/JS + REST API</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">ä»£ç ç¤ºä¾‹ï¼š</h3>
<p><strong>å·²ç»é…ç½®å¥½çš„ç¯å¢ƒ</strong></p>
<p>åœ¨åç«¯ backend æ–‡ä»¶å¤¹ä¸­åŒ…å«ä¸€ä¸ªå­˜å‚¨ç”¨æˆ·æ•°æ®çš„<code>db.json</code>æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"users"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"123@qq.com"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æå››"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1232@qq.com"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç‹äº”"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"121@qq.com"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>æ³¨ï¼š<code>json-server</code> ä¼šæŠŠ JSON çš„<strong>é¡¶å±‚ keyï¼ˆå¦‚ <code>"users"</code>ï¼‰è‡ªåŠ¨æ˜ å°„ä¸º RESTful è·¯ç”±</strong>ã€‚</p>
</blockquote>
<p><code>package.json</code>Â ä¸­çš„è„šæœ¬</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"json-server --watch db.json"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å°±ä½¿å¾—è¿è¡ŒÂ <code>npm run dev</code>Â æ—¶ï¼Œ<code>json-server</code>Â ä¼šç›‘å¬Â <code>backend/db.json</code>Â æ–‡ä»¶å˜åŒ–ï¼ˆ--watchï¼‰ï¼Œå¹¶ä¸”å¯åŠ¨ä¸€ä¸ª HTTP æœåŠ¡å™¨ï¼Œé»˜è®¤ç«¯å£Â <strong>3000</strong>ã€‚ï¼ˆåˆ«å¿˜äº†å¯åŠ¨åç«¯æœåŠ¡å“¦~~ï¼‰</p>
<h4 data-id="heading-8">å‰ç«¯ä»£ç ï¼ˆé‡å¤´æˆï¼‰ï¼š</h4>
<p>åŸºç¡€é¡µé¢</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>User List<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">table</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">border-collapse</span>: collapse; <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-tag">th</span>, <span class="hljs-selector-tag">td</span> { <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>; <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>; <span class="hljs-attribute">text-align</span>: left; }
        <span class="hljs-selector-tag">th</span> { <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f4f4f4</span>; }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Users<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><code>&lt;script&gt;</code>ä¸­çš„å†…éƒ¨é€»è¾‘</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// DOM ç¼–ç¨‹</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>) <span class="hljs-comment">// å‘å‡ºè¯·æ±‚</span>
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()) <span class="hljs-comment">// å°† JSON å­—ç¬¦ä¸²è½¬ä¸º JS å¯¹è±¡æ•°ç»„</span>
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> tbody = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'tbody'</span>);
            tbody.<span class="hljs-property">innerHTML</span> = data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
                &lt;tr&gt;
                    &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
                    &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
                    &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
                &lt;/tr&gt;
            `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
        })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>åœ¨<code>.then(data =&gt; ...)</code>ä¸­çš„ <code>data</code> å°±æ˜¯ä¸Šä¸€æ­¥ <code>res.json()</code> è§£æçš„ç»“æœï¼Œå¹¶ä¸”é€šè¿‡ <code>.map()</code>ç”Ÿæˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œå†ç”¨<code>.join('')</code> æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè€Œé€šè¿‡ <code>tbody.innerHTML</code> è®©æµè§ˆå™¨é‡æ–°è§£æå¹¶æ¸²æŸ“è¡¨æ ¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4244ce93f574814bbfcfddec1afc034~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=hGohGpjkhp79sTZHuu3C6nc6Raw%3D" alt="tongyi-mermaid-2025-12-11-165610.png" loading="lazy"/></p>
<p><strong>è¿™ä»£è¡¨äº†â€œçº¯æ‰‹å·¥â€å‰åç«¯åˆ†ç¦»çš„èµ·ç‚¹</strong>ï¼š</p>
<ul>
<li>å‰ç«¯ä¸å†ä¾èµ–åç«¯å HTML</li>
<li>æ•°æ®é€šè¿‡Â <strong>JSON API</strong>Â è·å–</li>
<li>è§†å›¾ç”±Â <strong>JavaScript åŠ¨æ€ç”Ÿæˆ</strong></li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16fc3d95407641f691a2ebec4e964a0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=bPHBJ1rHPiF4kjKYwnGAFpql11o%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">ä½†è¿™ç§æ–¹æ³•å¹¶éå®Œç¾ï¼Œä»ç„¶å­˜åœ¨ç—›ç‚¹ï¼šæ‰‹åŠ¨æ“ä½œ DOM ç¹çä¸”æ˜“é”™</h3>
<p>ä¸¾ä¸ªâ€œèƒ¶æ°´ä»£ç ç¾éš¾â€çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// ç”¨æˆ·ç‚¹å‡»â€œåˆ é™¤â€</span>
button.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${id}</span>`</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'DELETE'</span> })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ä»åˆ—è¡¨ä¸­ç§»é™¤å…ƒç´ </span>
      li.<span class="hljs-title function_">remove</span>();
      <span class="hljs-comment">// æ›´æ–°</span>
      countSpan.<span class="hljs-property">textContent</span> = --totalCount;
      <span class="hljs-comment">// å¦‚æœåˆ—è¡¨ç©ºäº†ï¼Œæ˜¾ç¤ºâ€œæš‚æ— æ•°æ®â€</span>
      <span class="hljs-keyword">if</span> (totalCount === <span class="hljs-number">0</span>) emptyMsg.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'block'</span>;
      <span class="hljs-comment">// å¯èƒ½è¿˜è¦å‘åŸ‹ç‚¹ã€æ›´æ–°ç¼“å­˜ã€é€šçŸ¥å…¶ä»–ç»„ä»¶...</span>
    });
};
</code></pre>
<p><strong>è§†å›¾æ›´æ–°é€»è¾‘æ•£è½åœ¨å„å¤„ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œææ˜“å‡ºé”™</strong>ï¼Œåˆ é™¤æ•°æ®è¦ï¼š</p>
<ul>
<li>æ‰¾åˆ°Â <code>&lt;tr&gt;</code>Â å¹¶åˆ é™¤</li>
<li>æ›´æ–°</li>
<li>æ‰¾åˆ°ç©ºçŠ¶æ€æç¤ºå¹¶æ˜¾ç¤º</li>
<li>å¯èƒ½è¿˜è¦ï¼šæ›´æ–°ä¾§è¾¹æ ç»Ÿè®¡ã€åˆ·æ–°åˆ†é¡µã€æ¸…é™¤æœç´¢é«˜äº®â€¦â€¦</li>
</ul>
<p>æ¯æ¬¡ UI å˜åŒ–éƒ½è¦æ‰‹åŠ¨æ‰¾ä¸€å † DOM èŠ‚ç‚¹å»ä¿®æ”¹ï¼Œå¹¶ä¸”éš¾ä»¥å¤ç”¨ã€‚</p>
<p>è¿™æ—¶æœŸçš„å‰ç«¯ç¨‹åºå‘˜å†…å¿ƒéƒ½æ†‹ç€ä¸€å¥è¯ï¼š<strong>æˆ‘ä¸æƒ³å†å†™ <code>document.getElementById</code> äº†ï¼</strong></p>
<p><strong>AJAX è®©ç½‘é¡µæ´»äº†è¿‡æ¥ï¼Œä½†ä¹Ÿè®©å‰ç«¯å¼€å‘è€…é™·å…¥äº†æ–°çš„åœ°ç‹±ï¼ˆDOMï¼‰â€”â€”ç›´åˆ°æ¡†æ¶é™ä¸´</strong></p>
<h2 data-id="heading-10">æ—¶ä»£ä¸‰ï¼šé©å‘½ï¼å“åº”å¼æ•°æ®é©±åŠ¨ç•Œé¢çš„å´›èµ·</h2>
<h3 data-id="heading-11">æ ¸å¿ƒæ€æƒ³ï¼š</h3>
<blockquote>
<p><strong>â€œä½ åªç®¡æ”¹æ•°æ®ï¼Œç•Œé¢è‡ªåŠ¨æ›´æ–°ã€‚â€</strong></p>
</blockquote>
<h4 data-id="heading-12">å…³é”®æŠ€æœ¯ï¼š<code>ref</code> ä¸å“åº”å¼ç³»ç»Ÿ</h4>
<ul>
<li><code>ref()</code> å°†æ™®é€šå€¼åŒ…è£…æˆ<strong>å“åº”å¼å¯¹è±¡</strong></li>
<li>æ¨¡æ¿ä¸­é€šè¿‡ <code>{{ }}</code> æˆ– <code>v-for</code> <strong>å£°æ˜å¼ç»‘å®šæ•°æ®</strong></li>
<li>æ•°æ®å˜åŒ–ä¼šè‡ªåŠ¨è§¦å‘è§†å›¾æ›´æ–°ï¼ˆæ— éœ€æ‰‹åŠ¨ DOM æ“ä½œï¼‰</li>
</ul>
<h4 data-id="heading-13">å“åº”å¼ï¼ˆä»¥ Vue ä¸ºä¾‹ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- éå†æ•°æ®æ¸²æŸ“åˆ°ç•Œé¢ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"user in users"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"user.id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.id }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.email }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<ul>
<li><strong><code>v-for</code></strong>ï¼šå£°æ˜éå†Â <code>users</code>Â æ•°ç»„</li>
<li><strong><code>{{ }}</code></strong> ï¼šæ˜¾ç¤ºÂ <code>user</code>Â çš„æŸä¸ªå±æ€§</li>
<li><strong><code>:key</code></strong>ï¼šå¸®åŠ© Vue é«˜æ•ˆè¿½è¸ªåˆ—è¡¨å˜åŒ–ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</li>
</ul>
<p>ä½†æ˜¯å…³é”®åœ¨äºï¼š<strong>æˆ‘æ²¡æœ‰å†™ä»»ä½• DOM æ“ä½œä»£ç ï¼</strong></p>
<blockquote>
<p>åªæ˜¯åœ¨â€œæè¿° UI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­â€ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆå»ä¿®æ”¹ DOMâ€ã€‚</p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { 
  ref,
  onMounted <span class="hljs-comment">// æŒ‚è½½ä¹‹åçš„ç”Ÿå‘½å‘¨æœŸ</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>; <span class="hljs-comment">// å“åº”å¼apiï¼ˆå°†æ•°æ®åŒ…è£…æˆå“åº”å¼å¯¹è±¡ï¼‰</span>

<span class="hljs-comment">// ç”¨ ref() å°†æ™®é€šæ•°ç»„åŒ…è£…æˆä¸€ä¸ª å“åº”å¼å¼•ç”¨å¯¹è±¡</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">ref</span>([]);

<span class="hljs-comment">// onMountedï¼šç¡®ä¿ DOM å·²åˆ›å»ºåå†å‘èµ·è¯·æ±‚ï¼ˆé¿å…æ“ä½œä¸å­˜åœ¨çš„å…ƒç´ ï¼‰</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¡µé¢æŒ‚è½½å®Œæˆ'</span>);
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      users.<span class="hljs-property">value</span> = data; <span class="hljs-comment">// åªä¿®æ”¹æ•°æ®</span>
    })
})

<span class="hljs-comment">// å®šæ—¶å™¨æ·»åŠ æ•°æ®</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  users.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">id</span>: <span class="hljs-string">'4'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'é’±å…­'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'12313@qq.com'</span>
  })
}, <span class="hljs-number">3000</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>æ²¡æœ‰</strong>Â <code>innerHTML</code>ï¼
<strong>æ²¡æœ‰</strong>Â <code>createElement</code>ï¼
<strong>æ²¡æœ‰</strong>Â <code>getElementById</code>ï¼</p>
<p>å¹¶ä¸”<strong>æ‰€æœ‰ UI æ›´æ–°éƒ½æ˜¯æ•°æ®å˜åŒ–çš„è‡ªç„¶ç»“æœï¼Œæ— éœ€äººå·¥å¹²é¢„ï¼</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7ac30e0045a4b2f99e9dd988e2677ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LCO6KiA6KW_6KW_6YeM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050097&amp;x-signature=BHXssd8XiktmvlBtQKBg8twswv8%3D" alt="2025-12-11.gif" loading="lazy"/></p>
<h2 data-id="heading-14">æ•´ä¸ªå†å²è¿›ç¨‹ï¼š</h2>





























<table><thead><tr><th>é˜¶æ®µ</th><th>å¼€å‘æ¨¡å¼</th><th>æ ¸å¿ƒå…³æ³¨ç‚¹</th><th>å¼€å‘ä½“éªŒ</th></tr></thead><tbody><tr><td>åç«¯æ¸²æŸ“</td><td>MVC</td><td>æ•°æ® â†’ æ¨¡æ¿ â†’ HTML</td><td>å‰ç«¯è¾¹ç¼˜åŒ–</td></tr><tr><td>å‰åç«¯åˆ†ç¦»</td><td>AJAX + DOM</td><td>æ‰‹åŠ¨åŒæ­¥æ•°æ®ä¸è§†å›¾</td><td>ç¹çã€æ˜“é”™</td></tr><tr><td><strong>å“åº”å¼æ¡†æ¶</strong></td><td><strong>æ•°æ®é©±åŠ¨</strong></td><td><strong>èšç„¦ä¸šåŠ¡é€»è¾‘</strong></td><td><strong>é«˜æ•ˆã€å£°æ˜å¼ã€æ„‰æ‚¦</strong></td></tr></tbody></table>
<p>è¿™æ®µçŸ­çŸ­çš„ Vue ä»£ç ï¼Œæµ“ç¼©äº†å‰ç«¯å¼€å‘åå¹´çš„æ¼”è¿›ï¼š</p>
<ul>
<li><strong>ä»â€œæ“ä½œ DOMâ€åˆ°â€œæè¿° UIâ€</strong></li>
<li><strong>ä»â€œåˆ†æ•£çŠ¶æ€â€åˆ°â€œå•ä¸€æ•°æ®æºâ€</strong></li>
<li><strong>ä»â€œæ˜“é”™èƒ¶æ°´â€åˆ°â€œè‡ªåŠ¨åŒæ­¥â€</strong></li>
</ul>
<p>å®ƒè®©å‰ç«¯å¼€å‘è€…ç»ˆäºè®¤è¯†åˆ°ä¸€ä¸ªæ–°çš„è‡ªå·±ï¼š<strong>å‰ç«¯ä¸å†åªæ˜¯â€œåˆ‡å›¾ä»”â€ï¼Œè€Œæ˜¯å¤æ‚åº”ç”¨çš„æ¶æ„è€…ä¸ä½“éªŒè®¾è®¡å¸ˆã€‚</strong>
è¿™ï¼Œå°±æ˜¯ <strong>å“åº”å¼æ•°æ®é©±åŠ¨ç•Œé¢</strong> çš„é©å‘½æ€§æ‰€åœ¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŒäº‹å†™çš„count(*)æ€§èƒ½å¾ˆå·®ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582406735387394054</link>    <guid>https://juejin.cn/post/7582406735387394054</guid>    <pubDate>2025-12-11T09:35:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582406735387394054" data-draft-id="7582406735387361286" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŒäº‹å†™çš„count(*)æ€§èƒ½å¾ˆå·®ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T09:35:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹ä¸‰è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/465848661970824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŒäº‹å†™çš„count(*)æ€§èƒ½å¾ˆå·®ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/465848661970824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹ä¸‰è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:35:53.000Z" title="Thu Dec 11 2025 09:35:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘æˆ‘åœ¨å…¬å¸ä¼˜åŒ–è¿‡å‡ ä¸ªæ…¢æŸ¥è¯¢æ¥å£çš„æ€§èƒ½ï¼Œæ€»ç»“äº†ä¸€äº›å¿ƒå¾—ä½“ä¼šæ‹¿å‡ºæ¥è·Ÿå¤§å®¶ä¸€èµ·åˆ†äº«ä¸€ä¸‹ï¼Œå¸Œæœ›å¯¹ä½ ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨çš„æ•°æ®åº“æ˜¯<code>Mysql8</code>ï¼Œä½¿ç”¨çš„å­˜å‚¨å¼•æ“æ˜¯<code>Innodb</code>ã€‚è¿™æ¬¡ä¼˜åŒ–é™¤äº†<code>ä¼˜åŒ–ç´¢å¼•</code>ä¹‹å¤–ï¼Œæ›´å¤šçš„æ˜¯åœ¨ä¼˜åŒ–<code>count(*)</code>ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåˆ†é¡µæ¥å£ä¸€èˆ¬ä¼šæŸ¥è¯¢ä¸¤æ¬¡æ•°æ®åº“ï¼Œç¬¬ä¸€æ¬¡æ˜¯è·å–å…·ä½“æ•°æ®ï¼Œç¬¬äºŒæ¬¡æ˜¯è·å–æ€»çš„è®°å½•è¡Œæ•°ï¼Œç„¶åæŠŠç»“æœæ•´åˆä¹‹åï¼Œå†è¿”å›ã€‚</p>
<p>æŸ¥è¯¢å…·ä½“æ•°æ®çš„sqlï¼Œæ¯”å¦‚æ˜¯è¿™æ ·çš„ï¼š`</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> id,name <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit <span class="hljs-number">20</span>;
</code></pre>
<p>å®ƒæ²¡æœ‰æ€§èƒ½é—®é¢˜ã€‚</p>
<p>ä½†å¦å¤–ä¸€æ¡ä½¿ç”¨count(*)æŸ¥è¯¢æ€»è®°å½•è¡Œæ•°çš„sqlï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span>;
</code></pre>
<p>å´å­˜åœ¨æ€§èƒ½å·®çš„é—®é¢˜ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p>
<p><a href="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" title="https://link.juejin.cn/?target=http%3A%2F%2Fsusan.net.cn%2Fproject" target="_blank">æœ€è¿‘å‡†å¤‡é¢è¯•çš„å°ä¼™ä¼´ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªå®è—ç½‘ç«™ï¼ˆJavaçªå‡»é˜Ÿï¼‰ï¼šwww.susan.net.cnï¼Œé‡Œé¢ï¼šé¢è¯•å…«è‚¡æ–‡ã€åœºæ™¯è®¾è®¡é¢˜ã€Springæºç è§£è¯»ã€8ä¸ªé¡¹ç›®å®æˆ˜ã€å·¥ä½œå†…æ¨ä»€ä¹ˆéƒ½æœ‰</a>ã€‚</p>
<h2 data-id="heading-1">1 count(*)ä¸ºä»€ä¹ˆæ€§èƒ½å·®ï¼Ÿ</h2>
<p>åœ¨Mysqlä¸­ï¼Œ<code>count(*)</code>çš„ä½œç”¨æ˜¯ç»Ÿè®¡è¡¨ä¸­è®°å½•çš„æ€»è¡Œæ•°ã€‚</p>
<p>è€Œ<code>count(*)</code>çš„æ€§èƒ½è·Ÿå­˜å‚¨å¼•æ“æœ‰ç›´æ¥å…³ç³»ï¼Œå¹¶éæ‰€æœ‰çš„å­˜å‚¨å¼•æ“ï¼Œ<code>count(*)</code>çš„æ€§èƒ½éƒ½å¾ˆå·®ã€‚</p>
<p>åœ¨Mysqlä¸­ä½¿ç”¨æœ€å¤šçš„å­˜å‚¨å¼•æ“æ˜¯ï¼š<code>innodb</code>å’Œ<code>myisam</code>ã€‚</p>
<p>åœ¨myisamä¸­ä¼šæŠŠæ€»è¡Œæ•°ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œä½¿ç”¨count(*)æ—¶ï¼Œåªéœ€è¦è¿”å›é‚£ä¸ªæ•°æ®å³å¯ï¼Œæ— éœ€é¢å¤–çš„è®¡ç®—ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡å¾ˆé«˜ã€‚</p>
<p>è€Œinnodbåˆ™ä¸åŒï¼Œç”±äºå®ƒæ”¯æŒäº‹åŠ¡ï¼Œæœ‰<code>MVCC</code>ï¼ˆå³å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰çš„å­˜åœ¨ï¼Œåœ¨åŒä¸€ä¸ªæ—¶é—´ç‚¹çš„ä¸åŒäº‹åŠ¡ä¸­ï¼ŒåŒä¸€æ¡æŸ¥è¯¢sqlï¼Œè¿”å›çš„è®°å½•è¡Œæ•°å¯èƒ½æ˜¯ä¸ç¡®å®šçš„ã€‚</p>
<p>åœ¨innodbä½¿ç”¨count(*)æ—¶ï¼Œéœ€è¦ä»å­˜å‚¨å¼•æ“ä¸­ä¸€è¡Œè¡Œçš„è¯»å‡ºæ•°æ®ï¼Œç„¶åç´¯åŠ èµ·æ¥ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡å¾ˆä½ã€‚</p>
<p>å¦‚æœè¡¨ä¸­æ•°æ®é‡å°è¿˜å¥½ï¼Œä¸€æ—¦è¡¨ä¸­æ•°æ®é‡å¾ˆå¤§ï¼Œinnodbå­˜å‚¨å¼•æ“ä½¿ç”¨count(*)ç»Ÿè®¡æ•°æ®æ—¶ï¼Œæ€§èƒ½å°±ä¼šå¾ˆå·®ã€‚</p>
<h2 data-id="heading-2">2 å¦‚ä½•ä¼˜åŒ–count(*)æ€§èƒ½ï¼Ÿ</h2>
<p>ä»ä¸Šé¢å¾—çŸ¥ï¼Œæ—¢ç„¶<code>count(*)</code>å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ç€æ‰‹ã€‚</p>
<h3 data-id="heading-3">2.1 å¢åŠ redisç¼“å­˜</h3>
<p>å¯¹äºç®€å•çš„count(*)ï¼Œæ¯”å¦‚ï¼šç»Ÿè®¡æµè§ˆæ€»æ¬¡æ•°æˆ–è€…æµè§ˆæ€»äººæ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†æ¥å£ä½¿ç”¨redisç¼“å­˜èµ·æ¥ï¼Œæ²¡å¿…è¦å®æ—¶ç»Ÿè®¡ã€‚</p>
<p>å½“ç”¨æˆ·æ‰“å¼€æŒ‡å®šé¡µé¢æ—¶ï¼Œåœ¨ç¼“å­˜ä¸­æ¯æ¬¡éƒ½è®¾ç½®æˆcount = count+1å³å¯ã€‚</p>
<p>ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®é¡µé¢æ—¶ï¼Œredisä¸­çš„countå€¼è®¾ç½®æˆ1ã€‚ç”¨æˆ·ä»¥åæ¯è®¿é—®ä¸€æ¬¡é¡µé¢ï¼Œéƒ½è®©countåŠ 1ï¼Œæœ€åé‡æ–°è®¾ç½®åˆ°redisä¸­ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/344fc89d30b34cb9b715162341423236~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5LiJ6K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766050553&amp;x-signature=YisW%2FiNNgdZnR3xEhB0IfeJ5FZs%3D" alt="" loading="lazy"/>
è¿™æ ·åœ¨éœ€è¦å±•ç¤ºæ•°é‡çš„åœ°æ–¹ï¼Œä»redisä¸­æŸ¥å‡ºcountå€¼è¿”å›å³å¯ã€‚</p>
<p>è¯¥åœºæ™¯æ— éœ€ä»æ•°æ®åŸ‹ç‚¹è¡¨ä¸­ä½¿ç”¨count(*)å®æ—¶ç»Ÿè®¡æ•°æ®ï¼Œæ€§èƒ½å°†ä¼šå¾—åˆ°æå¤§çš„æå‡ã€‚</p>
<p>ä¸è¿‡åœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå­˜åœ¨ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<p>ä½†å¯¹äºç»Ÿè®¡æµè§ˆæ€»æ¬¡æ•°æˆ–è€…æµè§ˆæ€»äººæ•°è¿™ç§ä¸šåŠ¡åœºæ™¯ï¼Œå¯¹æ•°æ®çš„å‡†ç¡®æ€§è¦æ±‚å¹¶ä¸é«˜ï¼Œå®¹å¿æ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µå­˜åœ¨ã€‚</p>
<h3 data-id="heading-4">2.2 åŠ äºŒçº§ç¼“å­˜</h3>
<p>å¯¹äºæœ‰äº›ä¸šåŠ¡åœºæ™¯ï¼Œæ–°å¢æ•°æ®å¾ˆå°‘ï¼Œå¤§éƒ¨åˆ†æ˜¯ç»Ÿè®¡æ•°é‡æ“ä½œï¼Œè€Œä¸”æŸ¥è¯¢æ¡ä»¶å¾ˆå¤šã€‚è¿™æ—¶å€™ä½¿ç”¨ä¼ ç»Ÿçš„count(*)å®æ—¶ç»Ÿè®¡æ•°æ®ï¼Œæ€§èƒ½è‚¯å®šä¸ä¼šå¥½ã€‚</p>
<p>å‡å¦‚åœ¨é¡µé¢ä¸­å¯ä»¥é€šè¿‡idã€nameã€çŠ¶æ€ã€æ—¶é—´ã€æ¥æºç­‰ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ï¼Œç»Ÿè®¡å“ç‰Œæ•°é‡ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸‹ç”¨æˆ·çš„ç»„åˆæ¡ä»¶æ¯”è¾ƒå¤šï¼Œå¢åŠ è”åˆç´¢å¼•ä¹Ÿæ²¡ç”¨ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰æ—¶å€™è”åˆç´¢å¼•ä¹Ÿä¼šå¤±æ•ˆï¼Œåªèƒ½å°½é‡æ»¡è¶³ç”¨æˆ·ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„æ¡ä»¶å¢åŠ ç´¢å¼•ã€‚</p>
<p>ä¹Ÿå°±æ˜¯æœ‰äº›ç»„åˆæ¡ä»¶å¯ä»¥èµ°ç´¢å¼•ï¼Œæœ‰äº›ç»„åˆæ¡ä»¶æ²¡æ³•èµ°ç´¢å¼•ï¼Œè¿™äº›æ²¡æ³•èµ°ç´¢å¼•çš„åœºæ™¯ï¼Œè¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>ç­”ï¼šä½¿ç”¨<code>äºŒçº§ç¼“å­˜</code>ã€‚</p>
<p>äºŒçº§ç¼“å­˜å…¶å®å°±æ˜¯å†…å­˜ç¼“å­˜ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>caffine</code>æˆ–è€…<code>guava</code>å®ç°äºŒçº§ç¼“å­˜çš„åŠŸèƒ½ã€‚</p>
<p>ç›®å‰<code>SpringBoot</code>å·²ç»é›†æˆäº†caffineï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚</p>
<p>åªéœ€åœ¨éœ€è¦å¢åŠ äºŒçº§ç¼“å­˜çš„æŸ¥è¯¢æ–¹æ³•ä¸­ï¼Œä½¿ç”¨<code>@Cacheable</code>æ³¨è§£å³å¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-meta">@Cacheable(value = "brand", , keyGenerator = "cacheKeyGenerator")</span>
   <span class="hljs-keyword">public</span> BrandModel <span class="hljs-title function_">getBrand</span><span class="hljs-params">(Condition condition)</span> {
       <span class="hljs-keyword">return</span> getBrandByCondition(condition);
   }
</code></pre>
<p>ç„¶åè‡ªå®šä¹‰cacheKeyGeneratorï¼Œç”¨äºæŒ‡å®šç¼“å­˜çš„keyã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheKeyGenerator</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">KeyGenerator</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">generate</span><span class="hljs-params">(Object target, Method method, Object... params)</span> {
        <span class="hljs-keyword">return</span> target.getClass().getSimpleName() + UNDERLINE
                + method.getName() + <span class="hljs-string">","</span>
                + StringUtils.arrayToDelimitedString(params, <span class="hljs-string">","</span>);
    }
}
</code></pre>
<p>è¿™ä¸ªkeyæ˜¯ç”±å„ä¸ªæ¡ä»¶ç»„åˆè€Œæˆã€‚</p>
<p>è¿™æ ·é€šè¿‡æŸä¸ªæ¡ä»¶ç»„åˆæŸ¥è¯¢å‡ºå“ç‰Œçš„æ•°æ®ä¹‹åï¼Œä¼šæŠŠç»“æœç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ä¸º5åˆ†é’Ÿã€‚</p>
<p>åé¢ç”¨æˆ·åœ¨5åˆ†é’Ÿå†…ï¼Œä½¿ç”¨ç›¸åŒçš„æ¡ä»¶ï¼Œé‡æ–°æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»äºŒçº§ç¼“å­˜ä¸­æŸ¥å‡ºæ•°æ®ï¼Œç›´æ¥è¿”å›äº†ã€‚</p>
<p>è¿™æ ·èƒ½å¤Ÿæå¤§çš„æç¤ºcount(*)çš„æŸ¥è¯¢æ•ˆç‡ã€‚</p>
<p>ä½†æ˜¯å¦‚æœä½¿ç”¨äºŒçº§ç¼“å­˜ï¼Œå¯èƒ½å­˜åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œæ•°æ®ä¸ä¸€æ ·çš„æƒ…å†µã€‚æˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯æ¥é€‰æ‹©ï¼Œæ²¡æ³•é€‚ç”¨äºæ‰€æœ‰ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>æœ€è¿‘ä¸ºäº†å¸®åŠ©å¤§å®¶æ‰¾å·¥ä½œï¼Œä¸“é—¨å»ºäº†ä¸€äº›å·¥ä½œå†…æ¨ç¾¤ï¼Œå„å¤§åŸå¸‚éƒ½æœ‰ï¼Œæ¬¢è¿å„ä½HRå’Œæ‰¾å·¥ä½œçš„å°ä¼™ä¼´è¿›ç¾¤äº¤æµï¼Œç¾¤é‡Œç›®å‰å·²ç»æ”¶é›†äº†20å¤šå®¶å¤§å‚çš„å·¥ä½œå†…æ¨å²—ä½ã€‚åŠ è‹ä¸‰çš„å¾®ä¿¡ï¼šli_su223ï¼Œå¤‡æ³¨ï¼šæ˜é‡‘+æ‰€åœ¨åŸå¸‚ï¼Œå³å¯è¿›ç¾¤ã€‚</p>
<h3 data-id="heading-5">2.3 å¤šçº¿ç¨‹æ‰§è¡Œ</h3>
<p>ä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰åšè¿‡è¿™æ ·çš„éœ€æ±‚ï¼šç»Ÿè®¡æœ‰æ•ˆè®¢å•æœ‰å¤šå°‘ï¼Œæ— æ•ˆè®¢å•æœ‰å¤šå°‘ã€‚</p>
<p>è¿™ç§æƒ…å†µä¸€èˆ¬éœ€è¦å†™ä¸¤æ¡sqlï¼Œç»Ÿè®¡æœ‰æ•ˆè®¢å•çš„sqlå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">where</span> status<span class="hljs-operator">=</span><span class="hljs-number">1</span>;
</code></pre>
<p>ç»Ÿè®¡æ— æ•ˆè®¢å•çš„sqlå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span> <span class="hljs-keyword">where</span> status<span class="hljs-operator">=</span><span class="hljs-number">0</span>;
</code></pre>
<p>ä½†å¦‚æœåœ¨ä¸€ä¸ªæ¥å£ä¸­ï¼ŒåŒæ­¥æ‰§è¡Œè¿™ä¸¤æ¡sqlæ•ˆç‡ä¼šéå¸¸ä½ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œå¯ä»¥æ”¹æˆæˆä¸€æ¡sqlï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>),status <span class="hljs-keyword">from</span> <span class="hljs-keyword">order</span>
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> status;
</code></pre>
<p>ä½¿ç”¨<code>group by</code>å…³é”®å­—åˆ†ç»„ç»Ÿè®¡ç›¸åŒstatusçš„æ•°é‡ï¼Œåªä¼šäº§ç”Ÿä¸¤æ¡è®°å½•ï¼Œä¸€æ¡è®°å½•æ˜¯æœ‰æ•ˆè®¢å•æ•°é‡ï¼Œå¦å¤–ä¸€æ¡è®°å½•æ˜¯æ— æ•ˆè®¢å•æ•°é‡ã€‚</p>
<p>ä½†æœ‰ä¸ªé—®é¢˜ï¼šstatuså­—æ®µåªæœ‰1å’Œ0ä¸¤ä¸ªå€¼ï¼Œé‡å¤åº¦å¾ˆé«˜ï¼ŒåŒºåˆ†åº¦éå¸¸ä½ï¼Œä¸èƒ½èµ°ç´¢å¼•ï¼Œä¼šå…¨è¡¨æ‰«æï¼Œæ•ˆç‡ä¹Ÿä¸é«˜ã€‚</p>
<p>è¿˜æœ‰å…¶ä»–çš„è§£å†³æ–¹æ¡ˆä¸ï¼Ÿ</p>
<p>ç­”ï¼šä½¿ç”¨å¤šçº¿ç¨‹å¤„ç†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>CompleteFuture</code>ä½¿ç”¨ä¸¤ä¸ª<code>çº¿ç¨‹</code>å¼‚æ­¥è°ƒç”¨ç»Ÿè®¡æœ‰æ•ˆè®¢å•çš„sqlå’Œç»Ÿè®¡æ— æ•ˆè®¢å•çš„sqlï¼Œæœ€åæ±‡æ€»æ•°æ®ï¼Œè¿™æ ·èƒ½å¤Ÿæå‡æŸ¥è¯¢æ¥å£çš„æ€§èƒ½ã€‚</p>
<h3 data-id="heading-6">2.4 å‡å°‘joinçš„è¡¨</h3>
<p>å¤§éƒ¨åˆ†çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨count(*)æ˜¯ä¸ºäº†å®æ—¶ç»Ÿè®¡æ€»æ•°é‡çš„ã€‚</p>
<p>ä½†å¦‚æœè¡¨æœ¬èº«çš„æ•°æ®é‡ä¸å¤šï¼Œä½†joinçš„è¡¨å¤ªå¤šï¼Œä¹Ÿå¯èƒ½ä¼šå½±å“count(*)çš„æ•ˆç‡ã€‚</p>
<p>æ¯”å¦‚åœ¨æŸ¥è¯¢å•†å“ä¿¡æ¯æ—¶ï¼Œéœ€è¦æ ¹æ®å•†å“åç§°ã€å•ä½ã€å“ç‰Œã€åˆ†ç±»ç­‰ä¿¡æ¯æŸ¥è¯¢æ•°æ®ã€‚</p>
<p>è¿™æ—¶å€™å†™ä¸€æ¡sqlå¯ä»¥æŸ¥å‡ºæƒ³è¦çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">from</span> product p
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> unit u <span class="hljs-keyword">on</span> p.unit_id <span class="hljs-operator">=</span> u.id
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> brand b <span class="hljs-keyword">on</span> p.brand_id <span class="hljs-operator">=</span> b.id
<span class="hljs-keyword">inner</span> <span class="hljs-keyword">join</span> category c <span class="hljs-keyword">on</span> p.category_id <span class="hljs-operator">=</span> c.id
<span class="hljs-keyword">where</span> p.name<span class="hljs-operator">=</span><span class="hljs-string">'æµ‹è¯•å•†å“'</span> <span class="hljs-keyword">and</span> u.id<span class="hljs-operator">=</span><span class="hljs-number">123</span> <span class="hljs-keyword">and</span> b.id<span class="hljs-operator">=</span><span class="hljs-number">124</span> <span class="hljs-keyword">and</span> c.id<span class="hljs-operator">=</span><span class="hljs-number">125</span>;
</code></pre>
<p>ä½¿ç”¨productè¡¨å»<code>join</code>äº†unitã€brandå’Œcategoryè¿™ä¸‰å¼ è¡¨ã€‚</p>
<p>å…¶å®è¿™äº›æŸ¥è¯¢æ¡ä»¶ï¼Œåœ¨productè¡¨ä¸­éƒ½èƒ½æŸ¥è¯¢å‡ºæ•°æ®ï¼Œæ²¡å¿…è¦joiné¢å¤–çš„è¡¨ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠsqlæ”¹æˆè¿™æ ·ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">from</span> product
<span class="hljs-keyword">where</span> name<span class="hljs-operator">=</span><span class="hljs-string">'æµ‹è¯•å•†å“'</span> <span class="hljs-keyword">and</span> unit_id<span class="hljs-operator">=</span><span class="hljs-number">123</span> <span class="hljs-keyword">and</span> brand_id<span class="hljs-operator">=</span><span class="hljs-number">124</span> <span class="hljs-keyword">and</span> category_id<span class="hljs-operator">=</span><span class="hljs-number">125</span>;
</code></pre>
<p>åœ¨count(*)æ—¶åªæŸ¥productå•è¡¨å³å¯ï¼Œå»æ‰å¤šä½™çš„è¡¨joinï¼Œè®©æŸ¥è¯¢æ•ˆç‡å¯ä»¥æå‡ä¸å°‘ã€‚</p>
<h3 data-id="heading-7">2.5 æ”¹æˆClickHouse</h3>
<p>æœ‰äº›æ—¶å€™ï¼Œjoinçš„è¡¨å®åœ¨å¤ªå¤šï¼Œæ²¡æ³•å»æ‰å¤šä½™çš„joinï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæŸ¥è¯¢å•†å“ä¿¡æ¯æ—¶ï¼Œéœ€è¦æ ¹æ®å•†å“åç§°ã€å•ä½åç§°ã€å“ç‰Œåç§°ã€åˆ†ç±»åç§°ç­‰ä¿¡æ¯æŸ¥è¯¢æ•°æ®ã€‚</p>
<p>è¿™æ—¶å€™æ ¹æ®productå•è¡¨æ˜¯æ²¡æ³•æŸ¥è¯¢å‡ºæ•°æ®çš„ï¼Œå¿…é¡»è¦å»<code>join</code>ï¼šunitã€brandå’Œcategoryè¿™ä¸‰å¼ è¡¨ï¼Œè¿™æ—¶å€™è¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>ç­”ï¼šå¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°<code>ClickHouse</code>ã€‚</p>
<p>ClickHouseæ˜¯åŸºäº<code>åˆ—å­˜å‚¨</code>çš„æ•°æ®åº“ï¼Œä¸æ”¯æŒäº‹åŠ¡ï¼ŒæŸ¥è¯¢æ€§èƒ½éå¸¸é«˜ï¼Œå·ç§°æŸ¥è¯¢åå‡ äº¿çš„æ•°æ®ï¼Œèƒ½å¤Ÿç§’çº§è¿”å›ã€‚</p>
<p>ä¸ºäº†é¿å…å¯¹ä¸šåŠ¡ä»£ç çš„åµŒå…¥æ€§ï¼Œå¯ä»¥ä½¿ç”¨<code>Canal</code>ç›‘å¬<code>Mysql</code>çš„<code>binlog</code>æ—¥å¿—ã€‚å½“productè¡¨æœ‰æ•°æ®æ–°å¢æ—¶ï¼Œéœ€è¦åŒæ—¶æŸ¥è¯¢å‡ºå•ä½ã€å“ç‰Œå’Œåˆ†ç±»çš„æ•°æ®ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ç»“æœé›†ï¼Œä¿å­˜åˆ°ClickHouseå½“ä¸­ã€‚</p>
<p>æŸ¥è¯¢æ•°æ®æ—¶ï¼Œä»ClickHouseå½“ä¸­æŸ¥è¯¢ï¼Œè¿™æ ·ä½¿ç”¨count(*)çš„æŸ¥è¯¢æ•ˆç‡èƒ½å¤Ÿæå‡Nå€ã€‚</p>
<blockquote>
<p>éœ€è¦ç‰¹åˆ«æé†’ä¸€ä¸‹ï¼šä½¿ç”¨ClickHouseæ—¶ï¼Œæ–°å¢æ•°æ®ä¸è¦å¤ªé¢‘ç¹ï¼Œå°½é‡æ‰¹é‡æ’å…¥æ•°æ®ã€‚</p>
</blockquote>
<p>å…¶å®å¦‚æœæŸ¥è¯¢æ¡ä»¶éå¸¸å¤šï¼Œä½¿ç”¨ClickHouseä¹Ÿä¸æ˜¯ç‰¹åˆ«åˆé€‚ï¼Œè¿™æ—¶å€™å¯ä»¥æ”¹æˆ<code>ElasticSearch</code>ï¼Œä¸è¿‡å®ƒè·ŸMysqlä¸€æ ·ï¼Œå­˜åœ¨<code>æ·±åˆ†é¡µ</code>é—®é¢˜ã€‚</p>
<h2 data-id="heading-8">3 countçš„å„ç§ç”¨æ³•æ€§èƒ½å¯¹æ¯”</h2>
<p>æ—¢ç„¶è¯´åˆ°count(*)ï¼Œå°±ä¸èƒ½ä¸è¯´ä¸€ä¸‹countå®¶æ—çš„å…¶ä»–æˆå‘˜ï¼Œæ¯”å¦‚ï¼šcount(1)ã€count(id)ã€count(æ™®é€šç´¢å¼•åˆ—)ã€count(æœªåŠ ç´¢å¼•åˆ—)ã€‚</p>
<p>é‚£ä¹ˆå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<ul>
<li>count(*) ï¼šå®ƒä¼šè·å–æ‰€æœ‰è¡Œçš„æ•°æ®ï¼Œä¸åšä»»ä½•å¤„ç†ï¼Œè¡Œæ•°åŠ 1ã€‚</li>
<li>count(1)ï¼šå®ƒä¼šè·å–æ‰€æœ‰è¡Œçš„æ•°æ®ï¼Œæ¯è¡Œå›ºå®šå€¼1ï¼Œä¹Ÿæ˜¯è¡Œæ•°åŠ 1ã€‚</li>
<li>count(id)ï¼šidä»£è¡¨ä¸»é”®ï¼Œå®ƒéœ€è¦ä»æ‰€æœ‰è¡Œçš„æ•°æ®ä¸­è§£æå‡ºidå­—æ®µï¼Œå…¶ä¸­idè‚¯å®šéƒ½ä¸ä¸ºNULLï¼Œè¡Œæ•°åŠ 1ã€‚</li>
<li>count(æ™®é€šç´¢å¼•åˆ—)ï¼šå®ƒéœ€è¦ä»æ‰€æœ‰è¡Œçš„æ•°æ®ä¸­è§£æå‡ºæ™®é€šç´¢å¼•åˆ—ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸ºNULLï¼Œå¦‚æœä¸æ˜¯NULLï¼Œåˆ™è¡Œæ•°+1ã€‚</li>
<li>count(æœªåŠ ç´¢å¼•åˆ—)ï¼šå®ƒä¼šå…¨è¡¨æ‰«æè·å–æ‰€æœ‰æ•°æ®ï¼Œè§£æä¸­æœªåŠ ç´¢å¼•åˆ—ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸ºNULLï¼Œå¦‚æœä¸æ˜¯NULLï¼Œåˆ™è¡Œæ•°+1ã€‚</li>
</ul>
<p>ç”±æ­¤ï¼Œæœ€åcountçš„æ€§èƒ½ä»é«˜åˆ°ä½æ˜¯ï¼š</p>
<blockquote>
<p>count(*) â‰ˆ count(1) &gt; count(id) &gt; count(æ™®é€šç´¢å¼•åˆ—) &gt; count(æœªåŠ ç´¢å¼•åˆ—)</p>
</blockquote>
<p>æ‰€ä»¥ï¼Œå…¶å®<code>count(*)</code>æ˜¯æœ€å¿«çš„ã€‚</p>
<p>æ„ä¸æ„å¤–ï¼ŒæƒŠä¸æƒŠå–œï¼Ÿ</p>
<p>åƒä¸‡åˆ«è·Ÿ<code>select *</code> ææ··äº†ã€‚</p>
<h2 data-id="heading-9">æœ€åè¯´ä¸€å¥(æ±‚å…³æ³¨ï¼Œåˆ«ç™½å«–æˆ‘)</h2>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œæˆ–è€…æœ‰æ‰€å¯å‘çš„è¯ï¼Œå¸®å¿™å…³æ³¨ä¸€ä¸‹æˆ‘çš„åŒåå…¬ä¼—å·ï¼šè‹ä¸‰è¯´æŠ€æœ¯ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘åšæŒå†™ä½œæœ€å¤§çš„åŠ¨åŠ›ã€‚</p>
<p>æ±‚ä¸€é”®ä¸‰è¿ï¼šç‚¹èµã€è½¬å‘ã€åœ¨çœ‹ã€‚</p>
<p>å…³æ³¨å…¬ä¼—å·ï¼šã€è‹ä¸‰è¯´æŠ€æœ¯ã€‘ï¼Œåœ¨å…¬ä¼—å·ä¸­å›å¤ï¼šè¿›å¤§å‚ï¼Œå¯ä»¥å…è´¹è·å–æˆ‘æœ€è¿‘æ•´ç†çš„10ä¸‡å­—çš„é¢è¯•å®å…¸ï¼Œå¥½å¤šå°ä¼™ä¼´é è¿™ä¸ªå®å…¸æ‹¿åˆ°äº†å¤šå®¶å¤§å‚çš„offerã€‚</p>
<p>æ›´å¤šé¡¹ç›®å®æˆ˜åœ¨æˆ‘çš„æŠ€æœ¯ç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.susan.net.cn%2Fproject" target="_blank" title="http://www.susan.net.cn/project" ref="nofollow noopener noreferrer">www.susan.net.cn/project</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆšåˆšï¼ŒIDEA å…è´¹ç‰ˆå‘å¸ƒï¼ç»ˆäºä¸ç”¨ç ´è§£äº†]]></title>    <link>https://juejin.cn/post/7582021506189852718</link>    <guid>https://juejin.cn/post/7582021506189852718</guid>    <pubDate>2025-12-10T10:04:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582021506189852718" data-draft-id="7581893894175866890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆšåˆšï¼ŒIDEA å…è´¹ç‰ˆå‘å¸ƒï¼ç»ˆäºä¸ç”¨ç ´è§£äº†"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,Java,JetBrains"/> <meta itemprop="datePublished" content="2025-12-10T10:04:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆšåˆšï¼ŒIDEA å…è´¹ç‰ˆå‘å¸ƒï¼ç»ˆäºä¸ç”¨ç ´è§£äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T10:04:28.000Z" title="Wed Dec 10 2025 10:04:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œä¿ºæ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚åˆšåˆšï¼ŒJetBrains å®˜æ–¹æ­£å¼å‘å¸ƒäº† IDEA 2025.3 ç»Ÿä¸€ç‰ˆï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad6fdb44ee4941eba058e654fd2e2146~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=uxDEVuBuvZbR1%2BBGGJAOWgsDc4g%3D" alt="" loading="lazy"/></p>
<p>ä»è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼ŒIDEA Ultimate ç»ˆæç‰ˆå’Œ Community Edition ç¤¾åŒºç‰ˆæ­£å¼ <strong>åˆäºŒä¸ºä¸€</strong>ï¼Œåªæœ‰ä¸€ä¸ªå®‰è£…åŒ…ï¼Œä¸éœ€è¦çº ç»“é€‰å“ªä¸ªç‰ˆæœ¬äº†ã€‚</p>
<p>åœ¨ç»Ÿä¸€ç‰ˆ IDEA ä¸­ï¼Œè®¢é˜… Ultimate å¯ä»¥è§£é”æ‰€æœ‰é«˜çº§ä¸“ä¸šåŠŸèƒ½ã€‚ä½†å³ä½¿æ²¡æœ‰è®¢é˜…ï¼ŒIDEA ä¾ç„¶èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œå¯ä»¥ <strong>å…è´¹ç”¨äºå•†ä¸šå’Œéå•†ä¸šé¡¹ç›®</strong>ï¼Œç•…äº« Java å’Œ Kotlin å¼€å‘æ‰€éœ€çš„å…¨éƒ¨åŠŸèƒ½ã€‚</p>
<p>è€Œä¸”è¿™æ¬¡æ›´æ–°ï¼Œå®˜æ–¹ç»™å…è´¹ç‰ˆ <strong>å¢åŠ äº†å¾ˆå¤šæ–°åŠŸèƒ½</strong>ï¼Œç¡®å®æ¯”ä»¥å‰é¦™å¤šäº†ã€‚</p>
<p>ä»¥å‰ IDEA ç¤¾åŒºç‰ˆæ”¯æŒçš„å¼€å‘æ¡†æ¶å¾ˆæœ‰é™ï¼Œè¿ä½¿ç”¨ Java ä¸»æµçš„ Spring æ¡†æ¶å¼€å‘éƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé‚£ä¹ˆå¤šäºº <strong>æƒ³æ–¹è®¾æ³•</strong> éƒ½è¦ä½¿ç”¨ Ultimate ç‰ˆæœ¬çš„åŸå› ã€‚å¯ä»¥è¯´ï¼Œä¸å¼€ Ultimate ç‰ˆæœ¬ IDEA å°±åºŸäº†ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6151ef3350a14f3e9950bdcb011f5bd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=aXqueWMRZK4J78rC76NHp58JenA%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ä» 2025.3 ç‰ˆæœ¬å¼€å§‹ï¼Œå…è´¹ç‰ˆç”¨æˆ·å¯ä»¥ä½¿ç”¨å¾ˆå¤šä¹‹å‰ Ultimate ç‰ˆæœ¬æ‰æœ‰çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>æ•°æ®åº“é›†æˆï¼šå¯ä»¥åˆ›å»ºæ•°æ®åº“è¿æ¥ã€æŸ¥çœ‹æ•°æ®åº“æ¶æ„å’Œå¯¹è±¡ï¼Œå¼€å‘æ—¶ç›´æ¥åœ¨ IDEA å†…æŸ¥çœ‹æ•°æ®åº“è®¾è®¡</li>
<li>Spring é¡¹ç›®å‘å¯¼ï¼šå¿«é€Ÿåˆ›å»º Spring Boot é¡¹ç›®</li>
<li>æ¡†æ¶ä»£ç åŸºç¡€é«˜äº®ï¼šSpringã€Jakarta EE ä»¥åŠ Thymeleaf ç­‰æ¨¡æ¿å¼•æ“çš„åŸºç¡€è¯­æ³•é«˜äº®æ˜¾ç¤º</li>
<li>å®Œæ•´çš„ SQL è¯­è¨€æ”¯æŒ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf504136eb6b48d9a7399a60be1b00d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=GarboT1PvnIVqqSQZgs9ZoOp02c%3D" alt="" loading="lazy"/></p>
<p>è¿™äº›èƒ½åŠ›ä¸€åŠ ä¸Šï¼Œæ„Ÿè§‰å·²ç»èƒ½å¤Ÿæ»¡è¶³åˆå­¦è€…çš„ä½¿ç”¨éœ€æ±‚äº†ã€‚</p>
<p>å¯¹äºèŒæ–°ï¼Œä¸ç”¨è´¹åŠ›å†å»æ‰¾ç ´è§£ï¼Œè€Œæ˜¯ç«‹åˆ»ä¸Šå·å­¦èµ·æ¥ã€‚ç­‰éœ€è¦ç”¨åˆ°é«˜çº§åŠŸèƒ½çš„æ—¶å€™ï¼Œå…ˆä¸€é”®æ¿€æ´» Ultimate è¯•ç”¨ï¼Œå…è´¹ä½“éªŒ 30 å¤©çš„æ‰€æœ‰é«˜çº§åŠŸèƒ½ã€‚è¯•ç”¨ç»“æŸåï¼Œå¯ä»¥å†æ ¹æ®éœ€è¦è®¢é˜…ç»ˆæç‰ˆï¼Œæˆ–è€…ç»§ç»­å…è´¹ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a9d708e49b24b72871de6a6fb24e2a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=MQQzRuN7v2V4ZXN6tL%2BYBjsgRv4%3D" alt="" loading="lazy"/></p>
<p>ä¸åƒä»¥å‰ï¼Œå¦‚æœè®¢é˜…åˆ°æœŸï¼ŒIDEA Ultimate ç‰ˆæœ¬è¿é¡¹ç›®éƒ½æ— æ³•æ­£å¸¸æ‰“å¼€ï¼è€Œç°åœ¨åˆ°æœŸåä¼šè‡ªåŠ¨é€€å›åˆ°å…è´¹ç‰ˆåŠŸèƒ½ï¼Œé¡¹ç›®è¿˜èƒ½æ­£å¸¸æ‰“å¼€å’Œç¼–è¾‘ï¼Œè¿™å¯¹ä¸´æ—¶éœ€è¦æŸ¥çœ‹ä»£ç çš„åœºæ™¯æ¥è¯´å¤ªæ–¹ä¾¿äº†ã€‚</p>
<p>è®©æˆ‘æ„å¤–çš„æ˜¯ï¼Œè™½ç„¶åˆå¹¶äº†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä½†ç»Ÿä¸€ç‰ˆçš„å®‰è£…åŒ…æ¯”ä¹‹å‰å•ä¸ª Ultimate ç‰ˆæœ¬è¿˜å°äº† 30%ï¼Œä¸ç”¨æ‹…å¿ƒä¼šå˜æ…¢ã€‚</p>
<p>å½“ç„¶äº†ï¼Œè¿™æ¬¡æ›´æ–°ä¸ä»…ä»…æ˜¯ç‰ˆæœ¬ç»Ÿä¸€ï¼Œè¿˜æœ‰ä¸€å¤§æ³¢å®ç”¨çš„æ–°ç‰¹æ€§ã€‚ä¸‹é¢æˆ‘å°±å¸¦å¤§å®¶è¯¦ç»†äº†è§£ä¸€ä¸‹è¿™æ¬¡æ›´æ–°çš„äº®ç‚¹ï¼Œè™½ç„¶æˆ‘å·²ç»å–ç²¾å»ç³™äº†ï¼Œä½†å†…å®¹è¿˜æ˜¯å¾ˆé•¿ï¼Œèƒ½è¯»å®Œçš„è¯æˆ‘é«˜ä½å¾—ç»™ä½ ç£•ä¸€ä¸ªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8a0a78669c24f1eaacfc83a7dea77bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=%2FCPjO6ug6El5PWLNd4a29q4TcSc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">IDEA 2025.3 æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-1">å…¨éƒ¨ç”¨æˆ·å¯ç”¨çš„æ–°ç‰¹æ€§</h3>
<h4 data-id="heading-2">å‘½ä»¤è¡¥å…¨</h4>
<p>è¿™æ˜¯æˆ‘è®¤ä¸ºæœ¬æ¬¡æ›´æ–°æœ€å®ç”¨çš„æ–°åŠŸèƒ½ â€”â€” å‘½ä»¤è¡¥å…¨ï¼ˆCommand Completionï¼‰ã€‚å®ƒè®©ä½ å¯ä»¥ç›´æ¥ä»ä»£ç è¡¥å…¨ä¸­è®¿é—®ä¸Šä¸‹æ–‡ç›¸å…³çš„æ“ä½œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0cdf1b701cb47e5b9cccbe728177e7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=8%2Bci%2B9cSXrcGR8L5UKpMXXiv7T8%3D" alt="" loading="lazy"/></p>
<p>å¯èƒ½æœ‰åŒå­¦ä¼šé—®ï¼Œä»¥å‰åœ¨ IDEA é‡ŒæŒ‰ <code>.</code> ä¸å°±æœ‰ä»£ç è¡¥å…¨å—ï¼Ÿè¿™ä¸ªå‘½ä»¤è¡¥å…¨å’Œä»¥å‰æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<ul>
<li>ä»¥å‰çš„ä»£ç è¡¥å…¨ï¼šå½“ä½ æŒ‰ä¸‹ <code>.</code> æ—¶ï¼ŒIDEA ä¼šæç¤ºå½“å‰å¯¹è±¡å¯ç”¨çš„æ–¹æ³•ã€å±æ€§ç­‰ä»£ç å»ºè®®ï¼Œä¸»è¦æ˜¯å¸®ä½ å¿«é€Ÿå†™ä»£ç ã€‚</li>
<li>ç°åœ¨çš„å‘½ä»¤è¡¥å…¨ï¼šåœ¨åŸæœ‰ä»£ç è¡¥å…¨çš„åŸºç¡€ä¸Šï¼Œ<strong>é¢å¤–å¢åŠ äº† IDE æ“ä½œå»ºè®®</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™¤äº†ä»£ç æç¤ºï¼Œè¿˜ä¼šæ˜¾ç¤ºå½“å‰ä¸Šä¸‹æ–‡ä¸­å¯ä»¥æ‰§è¡Œçš„ IDE åŠŸèƒ½ï¼Œæ¯”å¦‚é‡æ„ã€ä»£ç ç”Ÿæˆã€å¿«é€Ÿä¿®å¤ç­‰ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3018e764a6654ede8694303320a6a021~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=nn385o4mofp7fVAXHLpBZhaZzZg%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“ç”¨æ³•ä¹Ÿå¾ˆç®€å•ï¼š</p>
<ul>
<li>è¾“å…¥ <code>.</code> å¯ä»¥çœ‹åˆ°ä»£ç è¡¥å…¨ã€åç¼€è¡¥å…¨å»ºè®®ï¼Œ<strong>ä»¥åŠ IDE æ“ä½œå»ºè®®</strong></li>
<li>è¾“å…¥ <code>..</code> å¯ä»¥ <strong>åªæ˜¾ç¤º IDE æ“ä½œé€‰é¡¹</strong>ï¼Œè¿‡æ»¤æ‰ä»£ç è¡¥å…¨</li>
<li>é€‰æ‹©ä¸€ä¸ªæ“ä½œåï¼Œå¯ä»¥é¢„è§ˆè¿™ä¸ªæ“ä½œä¼šäº§ç”Ÿä»€ä¹ˆæ•ˆæœ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bb952370f414addac6f6f23a297301a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=36lIVXNSJA4B4YtiFGkgW8moaWU%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªåŠŸèƒ½æœ€å¤§çš„å¥½å¤„æ˜¯ï¼Œä½ ä¸ç”¨å†è®°ä½é‚£ä¹ˆå¤šå¿«æ·é”®äº†ï¼æƒ³åšä»€ä¹ˆæ“ä½œï¼Œç›´æ¥è¾“å…¥ <code>..</code> ç„¶åæœç´¢å°±è¡Œã€‚æ¯”å¦‚æƒ³é‡å‘½åä¸€ä¸ªå˜é‡ï¼Œä»¥å‰å¯èƒ½è¦è®°ä½å¿«æ·é”®ï¼Œç°åœ¨åªéœ€è¦è¾“å…¥ <code>..rename</code> å°±èƒ½æ‰¾åˆ°é‡å‘½ååŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce9a971ff13c4a5290a95e9f419fc09c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=K%2BuLihqRvMtGM0jhc%2FKQbkTd2t8%3D" alt="" loading="lazy"/></p>
<p>å†ä¸¾ä¸ªä¾‹å­ï¼Œè¦ç”Ÿæˆä»£ç ï¼Œåªéœ€è¦æ•² <code>..generate</code> å°±è¡Œï¼Œä¸éœ€è¦è®°ä½å¤æ‚çš„ç»„åˆå¿«æ·é”®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4304d1bb3124f94977619bea672077a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=PoA%2F9xHd6gE6gXTzf%2FSRCyStsl4%3D" alt="" loading="lazy"/></p>
<p>ç›¸æ¯” Search Everywhereï¼ˆåŒå‡» Shiftï¼‰åŠŸèƒ½æ¥è¯´ï¼Œæ“ä½œæ›´å¿«ï¼Œä¸ç”¨ç¦»å¼€ç¼–è¾‘å™¨ã€ä¸ä¼šæ‰“æ–­ä»£ç æµã€‚</p>
<p>ç»™æˆ‘çš„æ„Ÿè§‰æ˜¯ï¼Œä»¥åå†™ä»£ç çš„ä½“éªŒæ›´åƒæ˜¯å†™æ–‡ç« äº†â€¦â€¦</p>
<p>è¿™ä¸ªåŠŸèƒ½åº”è¯¥æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œæ²¡å¼€å¯çš„è¯å¯ä»¥åˆ°è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95627b1be6a54af5ad6db40a73f5aa52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=86xZ%2BI%2FncCgM63RaQZUxKTVSRHs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">Java 25 å®Œæ•´æ”¯æŒ</h4>
<p>2025 å¹´ 9 æœˆå‘å¸ƒçš„ Java 25 æ˜¯ä¸‹ä¸€ä¸ªé•¿æœŸæ”¯æŒï¼ˆLTSï¼‰ç‰ˆæœ¬ã€‚IntelliJ IDEA ä»ç¬¬ä¸€å¤©å°±æ”¯æŒ Java 25ï¼Œç¡®ä¿å¼€å‘è€…èƒ½ç«‹åˆ»å—ç›Šäºæœ€æ–°çš„è¯­è¨€ã€è¿è¡Œæ—¶å’Œå·¥å…·å¢å¼ºã€‚</p>
<p>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼ŒIDEA æ·»åŠ äº†æœ€åçš„æ¶¦è‰² â€”â€” ç¡®ä¿æ‰€æœ‰æ†ç»‘å·¥å…·å’Œåº“ï¼ˆåŒ…æ‹¬ Async Profiler 4.1 å’Œ JaCoCoï¼‰éƒ½å’Œ Java 25 è¿è¡Œæ—¶å…¼å®¹ã€‚</p>
<p>æ‰€æœ‰ä¸»è¦ä¾›åº”å•†çš„ JDK 25 æ„å»ºç‰ˆæœ¬ï¼ˆæ¯”å¦‚ Oracle OpenJDKã€IBM Semeru J9ã€GraalVM å’Œ Microsoft Build of OpenJDKï¼‰ï¼Œéƒ½å¯ä»¥ç›´æ¥ä» IntelliJ IDEA ä¸‹è½½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80dad054001a4cfba1f0fffc8a4083df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=IOFkgD82AJCfRzznW18zOuWtpT0%3D" alt="" loading="lazy"/></p>
<p>ğŸ‘‰ğŸ» å¯ä»¥çœ‹é±¼çš®çš„è¿™ä¸ªè§†é¢‘æ¥å¿«é€Ÿäº†è§£ Java 25 æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<h4 data-id="heading-4">Islands ä¸»é¢˜</h4>
<p>Islands ä¸»é¢˜ç°åœ¨æˆä¸º IntelliJ IDEA çš„é»˜è®¤å¤–è§‚ã€‚è¿™ä¸ä»…ä»…æ˜¯è§†è§‰ä¸Šçš„æ›´æ–°ï¼Œæ›´ä½“ç°äº† JetBrains å¯¹å¼€å‘ä½“éªŒçš„è¿½æ±‚ã€‚</p>
<p>æˆ‘ä¸ªäººè¿˜æŒºå–œæ¬¢è¿™ä¸ªä¸»é¢˜çš„ï¼Œä¸€çœ¼å°±èƒ½è¯†åˆ«çš„æ ‡ç­¾é¡µã€æ”¹è¿›çš„ç¼–è¾‘å™¨å¯¹æ¯”åº¦ã€å·¥ä½œåŒºåŸŸä¹‹é—´çš„æ¸…æ™°åˆ†éš”ã€ä»¥åŠåœ†è§’è®¾è®¡ï¼Œç›¸æ¯”ä»¥å‰çš„ UIï¼Œä¼šç»™æˆ‘ä¸€ç§æ›´æŸ”å’Œçš„æ„Ÿè§‰ã€‚ä¸å–œæ¬¢çš„åŒå­¦æ¢å›è€ UI å°±å¥½~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0c0df117c474cfbbc5621c3e0c2ecd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=lYXHg63xhnhEoNjzGYCfXFHW80A%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">AI ä½“éªŒå‡çº§</h4>
<p>JetBrains AI æ­£åœ¨ä¸æ–­è¿›åŒ–ï¼Œç»™ç”¨æˆ·æ›´å¤šé€‰æ‹©ã€é€æ˜åº¦å’Œçµæ´»æ€§ã€‚åŒ…æ‹¬ï¼š</p>
<p>1ï¼‰å¤šä»£ç†ä½“éªŒï¼šJunie å’Œ Claude Agent</p>
<p>ç°åœ¨ï¼Œå¤šä¸ªä»£ç†å¯ä»¥ä»åŒä¸€ä¸ªèŠå¤©ç•Œé¢ä½¿ç”¨ï¼Œä½ å¯ä»¥æ— ç¼åˆ‡æ¢ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡è·å¾—æ­£ç¡®çš„å¸®åŠ©ã€‚é™¤äº† Junieï¼Œè¿˜åŸç”Ÿé›†æˆäº†ç¬¬ä¸€ä¸ªç¬¬ä¸‰æ–¹ AI ä»£ç† â€”â€” Claude Agentã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/191595a9661b4b5592145bc8767f2711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=%2FGJqghO66nuRtgQzK9LniSmvl2A%3D" alt="" loading="lazy"/></p>
<p>2ï¼‰é€æ˜çš„ AI é…é¢è·Ÿè¸ª</p>
<p>ç›‘æ§å’Œç®¡ç† AI èµ„æºå˜å¾—æ›´å®¹æ˜“äº†ï¼Œç°åœ¨å¯ä»¥ç›´æ¥åœ¨ IDEA å†…æŸ¥çœ‹å‰©ä½™çš„ AI Creditsã€ç»­è®¢æ—¥æœŸå’Œå……å€¼ä½™é¢ã€‚</p>
<p>æˆ‘å¿…é¡»è¦åæ§½ä¸€ä¸‹ï¼Œè¿™ä¸ªåŠŸèƒ½æ—©å°±è¯¥æœ‰äº†å§ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ba1a51c94d64865adae62f723cb7173~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=X9qsvuwypaUBijVG%2FbYcOyf6CUc%3D" alt="" loading="lazy"/></p>
<p>3ï¼‰Bring Your Own Keyï¼ˆå³å°†æ¨å‡ºï¼‰</p>
<p>å¼€å‘è€…èƒ½å¤Ÿä½¿ç”¨è‡ªå·±çš„ API å¯†é’¥è¿æ¥åˆ° OpenAIã€Anthropic æˆ–ä»»ä½•å…¼å®¹ OpenAI API çš„æœ¬åœ°æ¨¡å‹ï¼Œè€Œæ— éœ€ç™»å½• JetBrains AIã€‚è¿™è®©å¼€å‘è€…å¯¹äºå¦‚ä½•åœ¨ IDEA ä¸­ä½¿ç”¨ AI æœ‰æ›´å¤šæ§åˆ¶æƒã€‚</p>
<p>æˆ‘ä¸ªäººæ˜¯éå¸¸æœŸå¾…è¿™ä¸ªåŠŸèƒ½çš„ï¼Œæœ‰å¯èƒ½ä¼šæŠŠæˆ‘çš„å¼€å‘ä¹ æƒ¯ä»ç¬¬ä¸‰æ–¹ AI ä¸­å†æ‹‰å›æ¥ã€‚</p>
<h4 data-id="heading-6">æŠ€æœ¯æ ˆæ”¯æŒæ›´æ–°</h4>
<p>é™¤äº† Java 25 ç­‰ä¸»è¦æ›´æ–°ï¼ŒIntelliJ IDEA 2025.3 è¿˜å¼•å…¥äº†å¯¹ä»¥ä¸‹æŠ€æœ¯çš„æ”¯æŒï¼š</p>
<ul>
<li>JUnit 6ï¼šä¸ºæµ‹è¯•ç”Ÿæ€ç³»ç»Ÿå¸¦æ¥ç°ä»£åŒ–å’Œç»Ÿä¸€ï¼Œæ ‡å‡†åŒ–æ‰€æœ‰ JUnit æ¨¡å—çš„å·¥ä»¶ç‰ˆæœ¬ï¼Œå¹¶å°†åŸºå‡†æå‡åˆ° Java 17</li>
<li>Gradle 9ï¼šå¼•å…¥é…ç½®ç¼“å­˜ä½œä¸ºé¦–é€‰æ‰§è¡Œæ¨¡å¼ï¼Œå®ç°æ›´å¿«çš„æ„å»ºå’Œæ›´æµç•…çš„å¼€å‘ä½“éªŒ</li>
<li>Groovy 5ï¼šç°åœ¨ä»¥ JDK 11 ä¸ºç›®æ ‡ï¼Œæä¾›ä¸ Java 25 è¯­è¨€ç‰¹æ€§æ›´å¥½çš„å…¼å®¹æ€§</li>
<li>Scala 3.8ï¼šæ·»åŠ æ–°çš„ <code>into</code> ä¿®é¥°ç¬¦ï¼Œä½¿ç”¨ Scala 3 ç¼–è¯‘çš„æ ‡å‡†åº“ï¼Œæœ€ä½ JDK è¦æ±‚æ›´æ–°ä¸º 17</li>
</ul>
<p>ä¸è¿‡æˆ‘ä¼°è®¡å¤§å¤šæ•°åŒå­¦ç”¨ä¸ä¸Šï¼Œäº†è§£å³å¯ã€‚</p>
<h4 data-id="heading-7">Develocity IntelliJ æ’ä»¶</h4>
<p>Develocity IntelliJ æ’ä»¶å°†æ€§èƒ½åˆ†æå¸¦å…¥æ„å»ºè¿‡ç¨‹ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ IDEA ä¸­æŸ¥çœ‹è¯¦ç»†çš„æ„å»ºç‰¹å¾ï¼Œè¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼Œè§‚å¯Ÿæ„å»ºæ›´æ”¹å¦‚ä½•å½±å“é€Ÿåº¦å’Œèµ„æºåˆ©ç”¨ç‡ã€‚ä¸éœ€è¦ä¿®æ”¹æ„å»ºè„šæœ¬ â€”â€” åªéœ€åœ¨æ’ä»¶ä¸­å¯ç”¨ç›¸åº”è®¾ç½®å³å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ed96287b47847faa999970b30d252b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=s3oTZ76dSHHuUYmRStvRWw%2FbWY0%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ï¼Œä½ å¯ä»¥è½»æ¾æ£€æµ‹åˆ°ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨æ„å»ºç¼“å­˜è€Œä¸å¿…è¦è¿è¡Œçš„ä»»åŠ¡ã€‚è¿™åœ¨æ—¥å¿—ä¸­å¯èƒ½å¾ˆéš¾æ³¨æ„åˆ°ï¼Œä½†åœ¨å¯è§†åŒ–å›¾è¡¨ä¸­ç«‹å³å°±èƒ½çœ‹æ¸…æ¥šã€‚</p>
<p>è¿™ä¸ªæ’ä»¶ç”± JetBrains å’Œ Gradle çš„ Develocity å·¥ç¨‹å¸ˆå…±åŒå¼€å‘ï¼Œå’Œ IDEA UI æ— ç¼é›†æˆï¼Œä¸éœ€è¦æ”¹å˜ç°æœ‰å·¥ä½œæµç¨‹ã€‚ç›®å‰æ’ä»¶æ”¯æŒ Gradle æ„å»ºï¼ŒMaven æ”¯æŒä¹Ÿå³å°†æ¨å‡ºã€‚</p>
<h3 data-id="heading-8">Ultimate ä¸“å±æ–°ç‰¹æ€§</h3>
<p>è€ƒè™‘åˆ°ä¸å°‘åŒå­¦ä½¿ç”¨å…è´¹ç‰ˆæœ¬ï¼Œè¿™éƒ¨åˆ†æˆ‘å°±ç®€å•æä¸€å˜´ã€‚</p>
<h4 data-id="heading-9">Spring Boot 4 å’Œ Spring Framework 7 æ”¯æŒ</h4>
<p>IntelliJ IDEA 2025.3 å¯¹ Spring Framework 7 å’Œ Spring Boot 4 æä¾›äº†ä¸€æµçš„æ”¯æŒï¼ŒåŒ…æ‹¬ API ç‰ˆæœ¬æ§åˆ¶ã€å¿«é€Ÿåˆ›å»º HTTP æœåŠ¡å®¢æˆ·ç«¯ã€ç†è§£ Spring 7 åŠ¨æ€æ³¨å†Œçš„ beans ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1eca01bdb1f744f1a26c89009635e7b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=FKbDnqJUGtr%2Fa4%2BND7vsLgHNOPI%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">Spring Data JDBC æ”¯æŒ</h4>
<p>éšç€ Spring Data JDBC è¶Šæ¥è¶Šå—æ¬¢è¿ï¼ŒIntelliJ IDEA å¸¦æ¥äº†ä¸ Spring Data JPA åŒç­‰çº§çš„ä¸€æµæ”¯æŒï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>ä»ç°æœ‰æ•°æ®åº“è¡¨ç”Ÿæˆå®ä½“ç±»ï¼ŒåŒ…æ‹¬å¤åˆé”®</li>
<li>ä» <code>@Table</code> ç±»ç”Ÿæˆ DDLï¼Œæ”¯æŒ Liquibase å’Œ Flyway</li>
<li>æ¯”è¾ƒä»£ç æ¨¡å‹ä¸æ•°æ®åº“ï¼Œåˆ›å»ºå¯¹é½è„šæœ¬</li>
<li>å³æ—¶åˆ›å»º Spring Data repositories å¹¶è¿æ¥åˆ°ä»£ç </li>
<li>æ™ºèƒ½è¡¥å…¨ Spring Data repository æ´¾ç”ŸæŸ¥è¯¢æ–¹æ³•</li>
<li>é€šè¿‡è¡¥å…¨ç›´æ¥åœ¨å®ä½“ç±»ä¸­æ·»åŠ è¡¨åˆ—</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f258e76adf6644729985d0931588cd7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=3CPBkN3ekuZPfMG0AYBsxzz28lE%3D" alt="å¿«é€Ÿç”Ÿæˆä»£ç " loading="lazy"/></p>
<p>æ­¤å¤–ï¼ŒIDEA 2025.3 è¿˜å¢å¼ºäº†å¯¹ Spring Data repositories çš„ AOTï¼ˆAhead-of-Timeï¼‰ç¼–è¯‘æ”¯æŒã€‚å®ƒèƒ½æ£€æµ‹ç”Ÿæˆçš„ Spring Data repository å®ç°ï¼Œå¹¶åœ¨ä»£ç ä¸­ç›´æ¥æ˜¾ç¤ºæŸ¥è¯¢ã€‚ä½ å¯ä»¥å¯¼èˆªåˆ°æŸ¥è¯¢æ‰§è¡Œä»£ç è®¾ç½®æ–­ç‚¹å¹¶è·Ÿè¸ªæµç¨‹ï¼Œè¿˜å¯ä»¥åœ¨ä¸è¿è¡Œåº”ç”¨çš„æƒ…å†µä¸‹ç›´æ¥åœ¨ IDE ä¸­æ‰§è¡Œç”Ÿæˆçš„æŸ¥è¯¢ã€‚</p>
<h4 data-id="heading-11">Spring Debugger æ›´æ–°</h4>
<p>Spring Debugger æ’ä»¶ç°åœ¨å·²ç»æœ‰è¶…è¿‡ 25 ä¸‡ç”¨æˆ·äº†ã€‚è¿™æ¬¡æ›´æ–°å¸¦æ¥äº† 2 ä¸ªå‘¼å£°å¾ˆé«˜çš„åŠŸèƒ½ï¼š</p>
<ul>
<li>è¿œç¨‹åº”ç”¨è°ƒè¯•ï¼šåªéœ€å¯åŠ¨åº”ç”¨æ—¶æ‰“å¼€è°ƒè¯•ç«¯å£ï¼Œç„¶åä» IDE è¿æ¥å°±å¯ä»¥äº†</li>
<li>è‡ªåŠ¨æ•°æ®åº“è¿æ¥ï¼šåº”ç”¨å¯åŠ¨æ—¶ï¼ŒIDEA å¯ä»¥è‡ªåŠ¨è¿æ¥åˆ°ä½ çš„æ•°æ®åº“</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c853cc892cf4aad8cd35bf30f5a377b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=k3wbfoe6BVUPanlARbAV1ycCeYU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12">Kubernetes ä½“éªŒæ”¹è¿›</h4>
<p>éƒ¨ç½²æ•°æ®åº“å’ŒæœåŠ¡å˜å¾—æ›´å®¹æ˜“äº†ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­ç¼–å†™ã€åº”ç”¨å’Œç®¡ç†ä¸€åˆ‡ã€‚</p>
<p>é¡¶éƒ¨æœ‰é›†ç¾¤å’Œå‘½åç©ºé—´é€‰æ‹©å™¨è®©ä½ ä¿æŒä¸Šä¸‹æ–‡ï¼Œå®æ—¶èµ„æºçŠ¶æ€å›¾æ ‡è®©ä½ å¿«é€Ÿå‘ç°é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c162bed2b31049f98f2b7bc0c196b104~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=K%2BN%2B9WSs4CnHR4wZIPW%2Blw8qOZI%3D" alt="" loading="lazy"/></p>
<p>é‡åˆ°ç¼ºå¤±çš„ç¯å¢ƒå˜é‡æˆ–å¤±è´¥çš„ pods æ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸€é”®æ—¥å¿—å³æ—¶ä¿®å¤å¹¶é‡æ–°éƒ¨ç½²ï¼Œæ— éœ€ç¦»å¼€ä½ çš„ manifestã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95f6b1c801bc49cbb6b9f3eaa0901526~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=NZWtEXv7tq%2BucP37gUNdWmO%2FAOA%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥ä½¿ç”¨ç¼–è¾‘å™¨å†…çš„ secret ç®¡ç†ä¿æŠ¤æœåŠ¡è®¾ç½®ï¼Œç›´æ¥ä» YAML æŸ¥çœ‹å’Œå¤åˆ¶æ•°æ®åº“å‡­æ®ã€‚</p>
<p>éœ€è¦è¿æ¥èµ„æºæ—¶ï¼Œä½¿ç”¨ä¸€é”®ç«¯å£è½¬å‘æ¥è½¬å‘å®¹å™¨ç«¯å£ã€è‡ªåŠ¨åŠ è½½ secretsï¼Œå¹¶åœ¨å‡ ç§’é’Ÿå†…è®¾ç½®åˆ°æ•°æ®åº“æˆ–æœåŠ¡çš„å³æ—¶è¿æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f95746e35adb405f87e927c1a4fc9acc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=MRm%2BwGA0MTVOimTMe3UxipDU9hc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">æœ€å</h2>
<p>æˆ‘è§‰å¾— JetBrains è¿™æ­¥æ£‹ä¸‹å¾—æŒºæ¼‚äº®çš„ï¼Œæ—¢ç…§é¡¾äº†å…è´¹ç”¨æˆ·ï¼Œåˆä¿æŒäº†å•†ä¸šæ¨¡å¼çš„å¯æŒç»­æ€§ã€‚è¯´ä¸å®šè¿˜èƒ½å¸å¼•æ›´å¤šå¼€å‘è€…è¿›å…¥ä»–ä»¬çš„ç”Ÿæ€ï¼Œæœ€ç»ˆè½¬åŒ–ä¸ºä»˜è´¹ç”¨æˆ·ã€‚</p>
<p>è‚¯å®šä¹Ÿä¼šæœ‰åŒå­¦è¯´ï¼Œä¸ºä»€ä¹ˆ IDEA ä¸èƒ½å®Œå…¨å…è´¹ï¼Ÿ</p>
<p>æ¯•ç«Ÿäººå®¶æ˜¯ä¸€ä¸ªå…¬å¸å‘€ï¼åœ¨æˆ‘çœ‹æ¥ï¼ŒJetBrains å·²ç»å¾ˆæœ‰è¯šæ„äº†ï¼Œä¹‹å‰ä¹Ÿé™†ç»­å¼€æ”¾äº† WebStorm ç­‰äº§å“çš„å…è´¹ç‰ˆï¼Œè€Œä¸”è¿˜æŒç»­ç»´æŠ¤å¼€æºç‰ˆæœ¬ã€‚</p>
<p>æ²¡é”™ï¼ŒIDEA æ˜¯æœ‰å¼€æºç‰ˆçš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52c492b2ed5a43b88dcb7c97769c3f21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=Lvaddg5mwP6FOB68OxGvzM5sVsU%3D" alt="" loading="lazy"/></p>
<p>é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœä½ æ˜¯æ•™è‚²å·¥ä½œè€…æˆ–è€…å­¦ç”Ÿï¼Œå¯ä»¥é€šè¿‡ JetBrains å®˜æ–¹çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jetbrains.com.cn%2Fshop%2Feform%2Fstudents" target="_blank" title="https://www.jetbrains.com.cn/shop/eform/students" ref="nofollow noopener noreferrer">æ•™è‚²è®¸å¯è¯ç”³è¯·é¡µé¢</a> å…è´¹ç”³è¯· Ultimate è®¢é˜…ï¼Œç•…äº«æ‰€æœ‰é«˜çº§åŠŸèƒ½ã€‚</p>
<blockquote>
<p>ç”³è¯·åœ°å€ï¼š</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd9cf0ccfcea4ad1bc09a2eebd1ea0bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765965868&amp;x-signature=eDCz%2FEwKkOIn29FWg6DSwzivN80%3D" alt="" loading="lazy"/></p>
<p>å»ºè®®å¤§å®¶å°½å¿«æ›´æ–°ä½“éªŒä¸€ä¸‹ï¼Œåæ­£æˆ‘å·²ç»ç”¨ä¸Šäº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼</p>
<h2 data-id="heading-14">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®æ ‡æ³¨å¹³å°é‡ç£…ä¸Šçº¿ | æ ‡æ³¨èµšç°é‡‘ ä½é—¨æ§›çœŸæ”¶ç›Š]]></title>    <link>https://juejin.cn/post/7581807793134108718</link>    <guid>https://juejin.cn/post/7581807793134108718</guid>    <pubDate>2025-12-10T06:19:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581807793134108718" data-draft-id="7581667332306305062" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®æ ‡æ³¨å¹³å°é‡ç£…ä¸Šçº¿ | æ ‡æ³¨èµšç°é‡‘ ä½é—¨æ§›çœŸæ”¶ç›Š"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-10T06:19:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘é…±"/> <meta itemprop="url" content="https://juejin.cn/user/1556564194374926"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®æ ‡æ³¨å¹³å°é‡ç£…ä¸Šçº¿ | æ ‡æ³¨èµšç°é‡‘ ä½é—¨æ§›çœŸæ”¶ç›Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564194374926/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘é…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T06:19:34.000Z" title="Wed Dec 10 2025 06:19:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    487
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d659d7ae4c1b48d09248cda3382116fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046452&amp;x-signature=HD%2BuCZ%2Fe29fUbZMA7nLY4keWveY%3D" alt="68f71ddf171f8850e881f947f1cfb861.png" loading="lazy"/></p>
<ul>
<li>ä½ æ˜¯å¦æƒ³äº²èº«ä½“éªŒæœ€å‰æ²¿çš„ AI æ•°æ®å·¥ä½œï¼Œå´æ‰¾ä¸åˆ°ä¸“ä¸šçš„å‚ä¸è·¯å¾„ï¼Ÿ</li>
<li>ä½ æ˜¯å¦å¸Œæœ›è®©ç²¾é€šçš„ç¼–ç¨‹æŠ€èƒ½ï¼Œåœ¨ä¸šä½™æ—¶é—´åˆ›é€ å®å®åœ¨åœ¨çš„ä»·å€¼ï¼Ÿ</li>
</ul>
<p>ä¸€ä¸ªå¤šé¢†åŸŸçš„<strong>æ•°æ®é‡‡é›†ä¸æ ‡æ³¨æœåŠ¡å¹³å°</strong>ï¼Œä¸ºä½ è€Œæ¥ï¼</p>
<p><strong>ä½é—¨æ§›ã€çœŸæ”¶ç›Šï¼</strong> åˆ©ç”¨ç¢ç‰‡æ—¶é—´ï¼Œå°†ä½ çš„ä»£ç æ´å¯ŸåŠ›ç›´æ¥<strong>å˜ç°</strong>ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªä»»åŠ¡å¹³å°ï¼Œæ›´æ˜¯ä¸€ä¸ªä¸“ä¸º<strong>èµ„æ·±å¼€å‘è€…</strong>æ‰“é€ çš„ã€ç”¨<strong>æŠ€æœ¯æ¢å–å›æŠ¥</strong>çš„é«˜ä»·å€¼ç¤¾åŒºã€‚</p>
<h2 data-id="heading-0">ğŸ“’ æ‹›å‹Ÿä»‹ç»</h2>
<h3 data-id="heading-1">æˆ‘ä»¬æ˜¯è°</h3>
<p><strong>AIDPï¼ˆAI Data Platformï¼‰</strong> æä¾›å®Œæ•´çš„ AI æ•°æ®è§£å†³æ–¹æ¡ˆï¼Œæ¶µç›–ï¼š</p>
<ul>
<li>æ•°æ®é‡‡é›†</li>
<li>æ•°æ®æ ‡æ³¨</li>
<li>æ•°æ®åˆæˆ</li>
<li>å¤šç§æ•°æ®ç”Ÿäº§èƒ½åŠ›</li>
</ul>
<h3 data-id="heading-2">éœ€è¦ä½ åšä»€ä¹ˆ</h3>
<p>å‚ä¸åè®­ç»ƒé«˜è´¨é‡ä»£ç æ•°æ®ç”Ÿäº§ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š</p>

























<table><thead><tr><th>ä»»åŠ¡ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>å¼ºåŒ–å­¦ä¹ æ•°æ®ç”Ÿäº§</td><td>ä¸º RLHF è®­ç»ƒæä¾›é«˜è´¨é‡åé¦ˆæ•°æ®</td></tr><tr><td>ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰</td><td>ç”Ÿäº§æŒ‡ä»¤-å“åº”å¯¹æ•°æ®</td></tr><tr><td>å¥–åŠ±æ¨¡å‹ï¼ˆRMï¼‰</td><td>å¯¹æ¨¡å‹è¾“å‡ºè¿›è¡Œåå¥½æ’åºå’Œè¯„åˆ†</td></tr><tr><td>æ•°æ®è´¨æ£€</td><td>å®¡æ ¸å’Œä¼˜åŒ–å·²æœ‰æ•°æ®è´¨é‡</td></tr></tbody></table>
<h3 data-id="heading-3">ä½ å°†è·å¾—çš„å›æŠ¥</h3>
<ul>
<li>ğŸ’°ç°é‡‘æ”¶ç›Šï¼šæ·±åº¦å‚ä¸æ•°æ®æ ‡æ³¨çš„ä»£ç ä¸“å®¶ï¼Œæœˆå‡è·å– <strong>Â¥10000+</strong> ä»¥ä¸Šå›æŠ¥</li>
</ul>
<blockquote>
<ul>
<li>æ—¶è–ªèŒƒå›´ï¼š<strong>50 - 1000</strong> å…ƒï¼Œå…·ä½“ä»¥é¡¹ç›®æœ€ç»ˆå®šä»·ä¸ºå‡†ï¼Œå¤šåŠ³å¤šå¾—ï¼Œä»»åŠ¡æ˜ç æ ‡ä»·ï¼›</li>
<li>è®¡ç¨æ–¹å¼ï¼šåŠ³åŠ¡ç‹¬ç«‹è®¡ç¨ï¼Œæ”¶ç›Šæ¸…æ™°é€æ˜ã€‚</li>
</ul>
</blockquote>
<ul>
<li>å‚ä¸æ™ºèƒ½ Agent è°ƒä¼˜ï¼ŒæŒæ¡å‰æ²¿æŠ€æœ¯åŠ¨æ€</li>
</ul>
<h3 data-id="heading-4">éœ€è¦å…·å¤‡çš„æ¡ä»¶</h3>
<ul>
<li><strong>å¯¹ AI æœ‰çƒ­æƒ…ï¼Œæ—¥å¸¸é«˜é¢‘ä½¿ç”¨ AI Coding å·¥å…·</strong></li>
<li><strong>å…·å¤‡æ‰å®çš„ç¼–ç¨‹åŸºç¡€å’Œä»£ç ç†è§£èƒ½åŠ›</strong></li>
</ul>
<blockquote>
<p><strong>åŠ åˆ†é¡¹</strong></p>
<ul>
<li>LeetCode Hard é¢˜ç›®é«˜é€šè¿‡ç‡</li>
<li>GitHub é«˜æ˜Ÿä»“åº“è´¡çŒ®è€…</li>
<li>å¼€æºç¤¾åŒºæ´»è·ƒæˆå‘˜</li>
</ul>
</blockquote>
<p>åŒæ—¶æ¬¢è¿ï¼šPMã€QA åŒå­¦å‚ä¸ï¼Œå¹³å°åŒæ—¶æä¾›éæŠ€æœ¯ç±»é¢˜ç›®</p>
<h2 data-id="heading-5">ğŸ‘€ æˆ‘ä»¬çš„ç›®æ ‡ç”¨æˆ·</h2>
<p>æˆ‘ä»¬åœ¨å¯»æ‰¾è¿™æ ·çš„ä½ ï¼š</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šç†Ÿæ‚‰å¤§å‰ç«¯ã€Pythonã€Javaã€C++ã€Go ç­‰ä¸»æµç¼–ç¨‹è¯­è¨€</li>
<li><strong>è´¨é‡æ„è¯†</strong>ï¼šç†Ÿæ‚‰æµ‹è¯•ä¸è´¨é‡ä¿éšœæµç¨‹</li>
<li><strong>æ¢ç´¢ç²¾ç¥</strong>ï¼šå¯¹å‰æ²¿æŠ€æœ¯æœ‰è‡ªå·±çš„ç†è§£ï¼Œä¹äºæ¢ç´¢æ–°çŸ¥è¯†</li>
<li><strong>ç¤¾åŒºå‚ä¸</strong>ï¼šæœ‰å¼€æºè´¡çŒ®ã€LeetCode æ´»è·ƒç»å†è€…ä¼˜å…ˆ</li>
</ul>
<h2 data-id="heading-6">ğŸš€ä½ çš„ä¸“å®¶ä»»åŠ¡</h2>
<h3 data-id="heading-7">æ ‡æ³¨å®éªŒ</h3>
<blockquote>
<p>å¯¹ä»£ç ç‰‡æ®µã€æ—¥å¿—ã€æŠ€æœ¯æ–‡æ¡£ç­‰è¿›è¡Œç²¾å‡†æ ‡æ³¨</p>
</blockquote>
<p><strong>å…·ä½“èŒè´£</strong></p>
<ul>
<li>æŒ‰ç…§é¡¹ç›®åˆ¶å®šçš„æ ‡æ³¨è§„èŒƒï¼Œå¯¹æŒ‡å®šæ•°æ®ï¼ˆæ–‡æœ¬ã€ä»£ç ç‰‡æ®µã€æ—¥å¿—ã€æŠ€æœ¯æ–‡æ¡£ç­‰ï¼‰è¿›è¡Œå‡†ç¡®æ ‡æ³¨</li>
<li>è¯†åˆ«å¹¶ä¿®æ­£æ•°æ®ä¸­å­˜åœ¨çš„æ­§ä¹‰ã€é”™è¯¯æˆ–ä¸ä¸€è‡´ä¹‹å¤„</li>
<li>å¯¹å¤æ‚æ ·æœ¬ç»™å‡ºä¸“ä¸šåˆ¤æ–­ï¼Œç¡®ä¿æ ‡æ³¨ç»“æœçš„å‡†ç¡®æ€§ä¸ä¸€è‡´æ€§</li>
</ul>
<h3 data-id="heading-8">è´¨é‡æŠŠæ§</h3>
<blockquote>
<p>äº’å®¡ä»–äººæˆæœï¼Œä¿éšœæ•°æ®çº¯åº¦</p>
</blockquote>
<p><strong>å…·ä½“èŒè´£</strong></p>
<ul>
<li>å‚ä¸æ ‡æ³¨æ ‡å‡†çš„åˆ¶å®šä¸å®Œå–„ï¼Œæå‡ºæ”¹è¿›æ„è§</li>
<li>æ‰§è¡Œä¸“å®¶äº’å®¡æœºåˆ¶ï¼Œå¯¹å…¶ä»–æ ‡æ³¨ç»“æœè¿›è¡Œå®¡æ ¸å’Œåé¦ˆ</li>
<li>ç»“åˆå®é™…ç»éªŒï¼Œå¯¹æ ‡æ³¨æ ·æœ¬çš„åˆç†æ€§å’Œä¸šåŠ¡é€‚é…åº¦è¿›è¡Œè¯„ä¼°</li>
</ul>
<h3 data-id="heading-9">çŸ¥è¯†è´¡çŒ®</h3>
<blockquote>
<p>æ²‰æ·€æœ€ä½³å®è·µï¼Œæ‰“é€ å¯å¤ç”¨çš„çŸ¥è¯†å®åº“</p>
</blockquote>
<p><strong>å…·ä½“èŒè´£</strong></p>
<ul>
<li>å°†ä¸ªäººä¸“ä¸šçŸ¥è¯†è½¬åŒ–ä¸ºæ ‡æ³¨è§„èŒƒã€æœ€ä½³å®è·µæˆ–æ¡ˆä¾‹ï¼Œä¾›å›¢é˜Ÿå‚è€ƒ</li>
<li>åœ¨é‡åˆ°ç–‘éš¾é—®é¢˜æ—¶ï¼Œä½œä¸ºä¸“å®¶æä¾›åˆ¤å®šä¾æ®ï¼Œå½¢æˆå¯å¤ç”¨çš„çŸ¥è¯†åº“</li>
<li>ååŠ©é¡¹ç›®ç»„ä¼˜åŒ–ä»»åŠ¡åˆ†é…ã€è´¨é‡ç›‘æ§å’Œæµç¨‹è®¾è®¡</li>
</ul>
<h2 data-id="heading-10">â˜ï¸ ç¤¾ç¾¤äº¤æµ</h2>
<p>å‚åŠ æ´»åŠ¨çš„æ˜å‹ä¸€å®šè¦å…¥ç¾¤ï¼š</p>
<ul>
<li>é‡è¦æ¶ˆæ¯ä¸é”™è¿‡</li>
<li>å¤§å®¶äº’ç›¸é¼“åŠ±</li>
<li>æœ‰é—®é¢˜å¯ä»¥åœ¨ç¾¤å†…å’¨è¯¢</li>
</ul>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b9ae96e990d47e98940cc4b976a4053~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6YWx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766046452&amp;x-signature=3LrSMBOkEm9qzQq1brVcbjlt4pY%3D" alt="134067c882fcc733a803fb9c71f0d2a6.png" loading="lazy"/></p>
<h2 data-id="heading-11">â‰ï¸ å¸¸è§é—®é¢˜ FAQ</h2>
<p><strong>Q1ï¼šæ²¡æœ‰æ ‡æ³¨ç»éªŒå¯ä»¥å‚ä¸å—ï¼Ÿ</strong></p>
<p>æˆ‘ä»¬éœ€è¦ä½ å…·å¤‡æ‰å®çš„ç¼–ç¨‹åŸºç¡€å³å¯å¿«é€Ÿä¸Šæ‰‹ï¼Œæ‰€ä»¥éœ€è¦ä½ æœ‰ä¸€å®šçš„<em>ç¼–ç¨‹ç»éªŒ</em>ã€‚</p>
<p><strong>Q2: æ¯å¤©éœ€è¦æŠ•å…¥å¤šå°‘æ—¶é—´ï¼Ÿ</strong></p>
<p>å®Œå…¨çµæ´»ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„æ—¶é—´å®‰æ’å‚ä¸ï¼Œå……åˆ†åˆ©ç”¨ç¢ç‰‡æ—¶é—´ã€‚</p>
<p><strong>Q3: å¦‚ä½•ä¿è¯æ”¶ç›Šï¼Ÿ</strong></p>
<p>ä»»åŠ¡æ˜ç æ ‡ä»·ï¼Œ<em>å¤šåŠ³å¤šå¾—</em>ï¼Œå¹³å°æä¾›æ¸…æ™°çš„è®¡ä»·è§„åˆ™å’Œç»“ç®—æµç¨‹ã€‚</p>
<p><strong>Q4: éç¨‹åºå‘˜å¯ä»¥å‚ä¸å—ï¼Ÿ</strong></p>
<p>å¯ä»¥ã€‚å¹³å°åŒæ—¶æä¾›éæŠ€æœ¯ç±»é¢˜ç›®ï¼Œæ¬¢è¿ <em>PMã€QA</em> ç­‰å²—ä½åŒå­¦å‚ä¸ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•]]></title>    <link>https://juejin.cn/post/7581779319572873254</link>    <guid>https://juejin.cn/post/7581779319572873254</guid>    <pubDate>2025-12-10T03:54:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581779319572873254" data-draft-id="7581751726506049579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-10T03:54:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥å°˜çš„æŠ€æœ¯ä¹‹æ—…"/> <meta itemprop="url" content="https://juejin.cn/user/2700056286215032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056286215032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥å°˜çš„æŠ€æœ¯ä¹‹æ—…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T03:54:20.000Z" title="Wed Dec 10 2025 03:54:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä» nvm åˆ° fnmï¼šä¸€ä¸ªå‰ç«¯è€å…µçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·è¿ç§»å®å½•</h2>
<h3 data-id="heading-1">å¼•å­ï¼šé‚£ä¸ªè®©æˆ‘å´©æºƒçš„æ—©æ™¨</h3>
<p>æŸä¸ªå‘¨ä¸€æ—©æ™¨ï¼Œæˆ‘åƒå¾€å¸¸ä¸€æ ·æ‰“å¼€ç»ˆç«¯å‡†å¤‡å¼€å§‹å·¥ä½œã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“å¼€ iTerm2... ç­‰å¾…... ç­‰å¾…...</span>
<span class="hljs-comment"># ç»ˆäºå‡ºç°å‘½ä»¤æç¤ºç¬¦ï¼Œè€—æ—¶ 2.3 ç§’</span>
</code></pre>
<p>æ¥ç€åˆ‡æ¢åˆ°ä¸€ä¸ªéœ€è¦ Node 16 çš„è€é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ nvm use 16
Now using node v16.20.2 (npm v8.19.4)
<span class="hljs-comment"># åˆæ˜¯ 0.5 ç§’è¿‡å»äº†</span>
</code></pre>
<p>ç„¶åè·³åˆ°å¦ä¸€ä¸ª Node 20 çš„æ–°é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> ../new-project
$ nvm use 20
Now using node v20.19.6 (npm v10.8.2)
<span class="hljs-comment"># å†ç­‰ 0.5 ç§’</span>
</code></pre>
<p>ä¸€å¤©ä¸‹æ¥ï¼Œåœ¨ 5-6 ä¸ªé¡¹ç›®é—´æ¥å›åˆ‡æ¢ï¼Œå…‰æ˜¯ç­‰ nvm å“åº”å°±æµªè´¹äº†ä¸çŸ¥é“å¤šå°‘æ—¶é—´ã€‚æ›´åˆ«ææœ‰æ—¶å€™å¿˜è®° <code>nvm use</code>ï¼Œç›´æ¥ <code>npm install</code> å¯¼è‡´ node_modules ç‰ˆæœ¬æ··ä¹±çš„æƒ¨å‰§äº†ã€‚</p>
<p><strong>æ˜¯æ—¶å€™åšå‡ºæ”¹å˜äº†ã€‚</strong></p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆè¦ç¦»å¼€ nvmï¼Ÿ</h3>
<h4 data-id="heading-3">ç—›ç‚¹ä¸€ï¼šShell å¯åŠ¨æ…¢å¾—ä»¤äººå‘æŒ‡</h4>
<p>nvm æ˜¯çº¯ Bash è„šæœ¬å®ç°çš„ã€‚æ¯æ¬¡æ‰“å¼€æ–°ç»ˆç«¯ï¼Œå®ƒéƒ½è¦ï¼š</p>
<ol>
<li>åŠ è½½ <code>nvm.sh</code> è„šæœ¬ï¼ˆå‡ åƒè¡Œï¼‰</li>
<li>è§£æå·²å®‰è£…çš„ Node ç‰ˆæœ¬</li>
<li>è®¾ç½®ç¯å¢ƒå˜é‡</li>
<li>åˆå§‹åŒ–è‡ªåŠ¨è¡¥å…¨</li>
</ol>
<p>æˆ‘ç”¨ <code>time</code> æµ‹äº†ä¸€ä¸‹æˆ‘çš„ <code>.zshrc</code> åŠ è½½æ—¶é—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ‰ nvm</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
zsh -i -c <span class="hljs-built_in">exit</span>  0.42s user 0.23s system 95% cpu 0.678 total

<span class="hljs-comment"># æ³¨é‡Šæ‰ nvm å</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
zsh -i -c <span class="hljs-built_in">exit</span>  0.08s user 0.05s system 92% cpu 0.142 total
</code></pre>
<p><strong>nvm è®©æˆ‘çš„ç»ˆç«¯å¯åŠ¨æ…¢äº†è¿‘ 5 å€ï¼</strong></p>
<h4 data-id="heading-4">ç—›ç‚¹äºŒï¼šç‰ˆæœ¬åˆ‡æ¢ä¸å¤Ÿæ™ºèƒ½</h4>
<p>æ¯æ¬¡è¿›å…¥ä¸åŒé¡¹ç›®éƒ½è¦æ‰‹åŠ¨ <code>nvm use</code>ï¼Œå¤ªåŸå§‹äº†ã€‚è™½ç„¶æœ‰ <code>avn</code>ã€<code>nvm-auto</code> ç­‰æ’ä»¶å¯ä»¥å®ç°è‡ªåŠ¨åˆ‡æ¢ï¼Œä½†ï¼š</p>
<ul>
<li>åˆå¢åŠ äº†ä¸€å±‚ä¾èµ–</li>
<li>åˆæ‹–æ…¢äº† Shell é€Ÿåº¦</li>
<li>é…ç½®èµ·æ¥ä¹ŸæŒºéº»çƒ¦</li>
</ul>
<h4 data-id="heading-5">ç—›ç‚¹ä¸‰ï¼šWindows æ”¯æŒæ˜¯ä¸ªç¬‘è¯</h4>
<p>nvm å®˜æ–¹æ ¹æœ¬ä¸æ”¯æŒ Windowsã€‚<code>nvm-windows</code> æ˜¯å¦ä¸€ä¸ªç‹¬ç«‹é¡¹ç›®ï¼Œå‘½ä»¤å’Œè¡Œä¸ºéƒ½æœ‰å·®å¼‚ã€‚å›¢é˜Ÿé‡Œç”¨ Windows çš„åŒäº‹ç»å¸¸é‡åˆ°å„ç§å¥‡æ€ªé—®é¢˜ã€‚</p>
<h4 data-id="heading-6">ç—›ç‚¹å››ï¼šå¶å‘çš„è¯¡å¼‚ Bug</h4>
<p>ç”¨äº†å‡ å¹´ nvmï¼Œé‡åˆ°è¿‡å„ç§å¥‡æ€ªé—®é¢˜ï¼š</p>
<ul>
<li>å…¨å±€å®‰è£…çš„åŒ…è«åæ¶ˆå¤±</li>
<li><code>npm prefix</code> è·¯å¾„é”™ä¹±</li>
<li>å¤šä¸ªç»ˆç«¯çª—å£ç‰ˆæœ¬ä¸åŒæ­¥</li>
<li><code>.nvmrc</code> æœ‰æ—¶å€™ä¸ç”Ÿæ•ˆ</li>
</ul>
<h3 data-id="heading-7">é‡è§ fnmï¼šRust å¸¦æ¥çš„æ€§èƒ½é©å‘½</h3>
<p>fnmï¼ˆFast Node Managerï¼‰æ˜¯ç”¨ Rust å†™çš„ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ã€‚ç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™ï¼Œæˆ‘çš„ååº”æ˜¯ï¼š</p>
<blockquote>
<p>"å°±è¿™ï¼Ÿç»“æŸäº†ï¼Ÿæ€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ"</p>
</blockquote>
<h4 data-id="heading-8">æ€§èƒ½å®æµ‹å¯¹æ¯”</h4>
<p>æˆ‘åœ¨è‡ªå·±çš„ M1 MacBook Pro ä¸Šåšäº†è¯¦ç»†æµ‹è¯•ï¼š</p>
<h5 data-id="heading-9">ç»ˆç«¯å¯åŠ¨æ—¶é—´</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># nvm</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
0.678 total

<span class="hljs-comment"># fnm</span>
$ time zsh -i -c <span class="hljs-built_in">exit</span>
0.089 total

<span class="hljs-comment"># æå‡ï¼š7.6 å€</span>
</code></pre>
<h5 data-id="heading-10">ç‰ˆæœ¬åˆ‡æ¢æ—¶é—´</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># nvm</span>
$ time nvm use 20
Now using node v20.19.6
real    0m0.347s

<span class="hljs-comment"># fnm</span>
$ time fnm use 20
Using Node v20.19.6
real    0m0.012s

<span class="hljs-comment"># æå‡ï¼š29 å€</span>
</code></pre>
<h5 data-id="heading-11">å®‰è£…æ–°ç‰ˆæœ¬</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># nvm install 22</span>
<span class="hljs-comment"># æ€»è€—æ—¶çº¦ 45 ç§’ï¼ˆåŒ…å«ä¸‹è½½ï¼‰</span>

<span class="hljs-comment"># fnm install 22</span>
<span class="hljs-comment"># æ€»è€—æ—¶çº¦ 38 ç§’ï¼ˆåŒ…å«ä¸‹è½½ï¼‰</span>

<span class="hljs-comment"># ä¸‹è½½é€Ÿåº¦å·®ä¸å¤šï¼Œä½† fnm çš„è§£å‹å’Œé…ç½®æ›´å¿«</span>
</code></pre>
<h4 data-id="heading-12">ä¸ºä»€ä¹ˆ fnm è¿™ä¹ˆå¿«ï¼Ÿ</h4>
<ol>
<li><strong>åŸç”ŸäºŒè¿›åˆ¶</strong>ï¼šRust ç¼–è¯‘æˆæœºå™¨ç ï¼Œä¸éœ€è¦è§£é‡Šå™¨</li>
<li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼šå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU</li>
<li><strong>æƒ°æ€§åŠ è½½</strong>ï¼šåªåœ¨éœ€è¦æ—¶æ‰è¯»å–ç‰ˆæœ¬ä¿¡æ¯</li>
<li><strong>é«˜æ•ˆçš„æ–‡ä»¶æ“ä½œ</strong>ï¼šRust çš„ I/O æ€§èƒ½æœ¬å°±å‡ºè‰²</li>
</ol>
<h3 data-id="heading-13">çœŸå®åœºæ™¯ï¼šfnm å¦‚ä½•æ”¹å˜æˆ‘çš„å·¥ä½œæµ</h3>
<h4 data-id="heading-14">åœºæ™¯ä¸€ï¼šå¤šé¡¹ç›®å¹¶è¡Œå¼€å‘</h4>
<p>æˆ‘åŒæ—¶ç»´æŠ¤ç€è¿™äº›é¡¹ç›®ï¼š</p>



































<table><thead><tr><th>é¡¹ç›®</th><th>Node ç‰ˆæœ¬</th><th>åŸå› </th></tr></thead><tbody><tr><td>è€åå°ç³»ç»Ÿ</td><td>14</td><td>å†å²åŒ…è¢±ï¼Œä¾èµ–ä¸æ”¯æŒé«˜ç‰ˆæœ¬</td></tr><tr><td>ä¸»ç«™å‰ç«¯</td><td>18</td><td>ç¨³å®šçš„ LTS</td></tr><tr><td>æ–°ç®¡ç†åå°</td><td>20</td><td>éœ€è¦æ–°ç‰¹æ€§</td></tr><tr><td>å®éªŒæ€§é¡¹ç›®</td><td>22</td><td>å°é²œæœ€æ–° API</td></tr><tr><td>Electron åº”ç”¨</td><td>18</td><td>Electron ç‰ˆæœ¬é™åˆ¶</td></tr></tbody></table>
<p><strong>ä»¥å‰ç”¨ nvmï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> legacy-admin
$ nvm use  <span class="hljs-comment"># ç­‰å¾…...</span>
Found <span class="hljs-string">'/Users/me/legacy-admin/.nvmrc'</span> with version &lt;14&gt;
Now using node v14.21.3

$ <span class="hljs-built_in">cd</span> ../main-site
$ nvm use  <span class="hljs-comment"># åˆç­‰å¾…...</span>
Found <span class="hljs-string">'/Users/me/main-site/.nvmrc'</span> with version &lt;18&gt;
Now using node v18.20.8

<span class="hljs-comment"># ç»å¸¸å¿˜è®° nvm useï¼Œç„¶å...</span>
$ npm install
<span class="hljs-comment"># è£…äº†ä¸€å †é”™è¯¯ç‰ˆæœ¬çš„ä¾èµ– ğŸ’¥</span>
</code></pre>
<p><strong>ç°åœ¨ç”¨ fnmï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> legacy-admin
Using Node v14.21.3  <span class="hljs-comment"># è‡ªåŠ¨åˆ‡æ¢ï¼Œç¬é—´å®Œæˆ</span>

$ <span class="hljs-built_in">cd</span> ../main-site
Using Node v20.19.6  <span class="hljs-comment"># æ— æ„Ÿåˆ‡æ¢</span>

<span class="hljs-comment"># æ°¸è¿œä¸ä¼šå¿˜è®°åˆ‡æ¢ç‰ˆæœ¬ï¼Œå› ä¸ºæ˜¯è‡ªåŠ¨çš„</span>
</code></pre>
<h4 data-id="heading-15">åœºæ™¯äºŒï¼šCI/CD ç¯å¢ƒç»Ÿä¸€</h4>
<p>æˆ‘ä»¬å›¢é˜Ÿçš„ CI é…ç½®ä»¥å‰æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .gitlab-ci.yml (ä½¿ç”¨ nvm)</span>
<span class="hljs-attr">before_script:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">curl</span> <span class="hljs-string">-o-</span> <span class="hljs-string">https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh</span> <span class="hljs-string">|</span> <span class="hljs-string">bash</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">export</span> <span class="hljs-string">NVM_DIR="$HOME/.nvm"</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">.</span> <span class="hljs-string">"$NVM_DIR/nvm.sh"</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">nvm</span> <span class="hljs-string">install</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">nvm</span> <span class="hljs-string">use</span>
</code></pre>
<p>æ¢æˆ fnm åï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .gitlab-ci.yml (ä½¿ç”¨ fnm)</span>
<span class="hljs-attr">before_script:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">curl</span> <span class="hljs-string">-fsSL</span> <span class="hljs-string">https://fnm.vercel.app/install</span> <span class="hljs-string">|</span> <span class="hljs-string">bash</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">eval</span> <span class="hljs-string">"$(fnm env)"</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">fnm</span> <span class="hljs-string">install</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">fnm</span> <span class="hljs-string">use</span>
</code></pre>
<p><strong>CI æ„å»ºæ—¶é—´å‡å°‘äº†çº¦ 15 ç§’</strong>ï¼ˆä¸»è¦æ˜¯ nvm åˆå§‹åŒ–å¤ªæ…¢ï¼‰ã€‚</p>
<h4 data-id="heading-16">åœºæ™¯ä¸‰ï¼šå›¢é˜Ÿåä½œä¸è·¨å¹³å°</h4>
<p>æˆ‘ä»¬å›¢é˜Ÿæˆå‘˜ä½¿ç”¨çš„ç³»ç»Ÿï¼š</p>
<ul>
<li>60% macOS</li>
<li>30% Windows</li>
<li>10% Linux</li>
</ul>
<p><strong>nvm æ—¶ä»£çš„ç—›è‹¦ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS/Linux åŒäº‹</span>
$ nvm use 20

<span class="hljs-comment"># Windows åŒäº‹ï¼ˆnvm-windowsï¼‰</span>
$ nvm use 20.19.6  <span class="hljs-comment"># å¿…é¡»å†™å®Œæ•´ç‰ˆæœ¬å·ï¼</span>
<span class="hljs-comment"># è€Œä¸” .nvmrc ç»å¸¸ä¸ç”Ÿæ•ˆ</span>
</code></pre>
<p><strong>fnm æ—¶ä»£çš„ç»Ÿä¸€ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰€æœ‰å¹³å°ï¼Œç›¸åŒå‘½ä»¤ï¼Œç›¸åŒè¡Œä¸º</span>
$ fnm use 20
</code></pre>
<p>Windows åŒäº‹ç»ˆäºä¸ç”¨å•ç‹¬ç»´æŠ¤ä¸€å¥—æ–‡æ¡£äº†ã€‚</p>
<h4 data-id="heading-17">åœºæ™¯å››ï¼šDocker å¼€å‘ç¯å¢ƒ</h4>
<p>åœ¨ Dockerfile ä¸­å®‰è£… Nodeï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä»¥å‰ç”¨ nvmï¼ˆä¸æ¨èï¼Œä½†æœ‰äººè¿™ä¹ˆå¹²ï¼‰
RUN curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash \
    &amp;&amp; . ~/.nvm/nvm.sh \
    &amp;&amp; nvm install 20 \
    &amp;&amp; nvm alias default 20
# é•œåƒä½“ç§¯å¤§ï¼Œå±‚æ•°å¤š

# ç°åœ¨ç”¨ fnm
RUN curl -fsSL https://fnm.vercel.app/install | bash -s -- --install-dir /usr/local/bin \
    &amp;&amp; fnm install 20 \
    &amp;&amp; fnm default 20
# æ›´ç®€æ´ï¼Œä½“ç§¯æ›´å°
</code></pre>
<h4 data-id="heading-18">åœºæ™¯äº”ï¼šMonorepo ä¸­çš„å¤šç‰ˆæœ¬éœ€æ±‚</h4>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ª Monorepoï¼Œä¸åŒ package éœ€è¦ä¸åŒ Node ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">monorepo/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ legacy-sdk/        <span class="hljs-comment"># éœ€è¦ Node 14ï¼ˆå…¼å®¹è€ç”¨æˆ·ï¼‰</span>
â”‚   â”‚   â””â”€â”€ .node-version  <span class="hljs-comment"># 14</span>
â”‚   â”œâ”€â”€ web-app/           <span class="hljs-comment"># éœ€è¦ Node 20</span>
â”‚   â”‚   â””â”€â”€ .node-version  <span class="hljs-comment"># 20</span>
â”‚   â””â”€â”€ cli-tool/          <span class="hljs-comment"># éœ€è¦ Node 18</span>
â”‚       â””â”€â”€ .node-version  <span class="hljs-comment"># 18</span>
â””â”€â”€ .node-version          <span class="hljs-comment"># 20ï¼ˆé»˜è®¤ï¼‰</span>
</code></pre>
<p>fnm çš„ <code>--use-on-cd</code> è®©æˆ‘åœ¨ä¸åŒ package é—´è·³è½¬æ—¶å®Œå…¨æ— æ„Ÿï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">cd</span> packages/legacy-sdk
Using Node v14.21.3

$ <span class="hljs-built_in">cd</span> ../web-app
Using Node v20.19.6

$ <span class="hljs-built_in">cd</span> ../cli-tool
Using Node v18.20.8
</code></pre>
<h3 data-id="heading-19">å®Œæ•´è¿ç§»æŒ‡å—</h3>
<h4 data-id="heading-20">ç¬¬ä¸€æ­¥ï¼šå®‰è£… fnm</h4>
<p><strong>macOS (Homebrew):</strong></p>
<pre><code class="hljs language-bash" lang="bash">brew install fnm
</code></pre>
<p><strong>Windows (Scoop):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">scoop install fnm
</code></pre>
<p><strong>Windows (Chocolatey):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell">choco install fnm
</code></pre>
<p><strong>Linux/macOS (curl):</strong></p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://fnm.vercel.app/install | bash
</code></pre>
<p><strong>Cargo (Rust ç”¨æˆ·):</strong></p>
<pre><code class="hljs language-bash" lang="bash">cargo install fnm
</code></pre>
<h4 data-id="heading-21">ç¬¬äºŒæ­¥ï¼šé…ç½® Shell</h4>
<p>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼Œé…ç½®æ­£ç¡®æ‰èƒ½äº«å—è‡ªåŠ¨åˆ‡æ¢çš„ä¾¿åˆ©ã€‚</p>
<p><strong>Zsh (~/.zshrc):</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># fnm - Fast Node Manager</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --shell zsh)</span>"</span>
</code></pre>
<p><strong>Bash (~/.bashrc):</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># fnm - Fast Node Manager</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --shell bash)</span>"</span>
</code></pre>
<p><strong>Fish (~/.config/fish/config.fish):</strong></p>
<pre><code class="hljs language-fish" lang="fish"># fnm - Fast Node Manager
fnm env --use-on-cd --shell fish | source
</code></pre>
<p><strong>PowerShell ($PROFILE):</strong></p>
<pre><code class="hljs language-powershell" lang="powershell"># fnm - Fast Node Manager
fnm env --use-on-cd --shell powershell | Out-String | Invoke-Expression
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>

























<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>--use-on-cd</code></td><td>è¿›å…¥ç›®å½•æ—¶è‡ªåŠ¨è¯»å– <code>.node-version</code> æˆ– <code>.nvmrc</code> å¹¶åˆ‡æ¢</td></tr><tr><td><code>--shell &lt;shell&gt;</code></td><td>æŒ‡å®š Shell ç±»å‹ï¼Œç”Ÿæˆå¯¹åº”çš„ç¯å¢ƒå˜é‡è®¾ç½®å‘½ä»¤</td></tr><tr><td><code>--version-file-strategy recursive</code></td><td>å‘ä¸Šé€’å½’æŸ¥æ‰¾ç‰ˆæœ¬æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</td></tr><tr><td><code>--corepack-enabled</code></td><td>è‡ªåŠ¨å¯ç”¨ Corepackï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-22">ç¬¬ä¸‰æ­¥ï¼šè¿ç§»å·²å®‰è£…çš„ Node ç‰ˆæœ¬</h4>
<p>æŸ¥çœ‹ nvm å®‰è£…äº†å“ªäº›ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> ~/.nvm/versions/node/
<span class="hljs-comment"># v10.24.1 v14.21.3 v16.20.2 v18.20.8 v20.19.6 v22.21.0</span>
</code></pre>
<p>åœ¨ fnm ä¸­å®‰è£…å¯¹åº”ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šé€šè¿‡ LTS ä»£å·å®‰è£…ï¼ˆæ¨èï¼Œè‡ªåŠ¨è·å–æœ€æ–°è¡¥ä¸ç‰ˆæœ¬ï¼‰</span>
fnm install lts/fermium   <span class="hljs-comment"># v14.x</span>
fnm install lts/gallium   <span class="hljs-comment"># v16.x</span>
fnm install lts/hydrogen  <span class="hljs-comment"># v18.x</span>
fnm install lts/iron      <span class="hljs-comment"># v20.x</span>
fnm install lts/jod       <span class="hljs-comment"># v22.x</span>

<span class="hljs-comment"># æ–¹å¼äºŒï¼šé€šè¿‡å¤§ç‰ˆæœ¬å·å®‰è£…</span>
fnm install 14
fnm install 16
fnm install 18
fnm install 20
fnm install 22

<span class="hljs-comment"># æ–¹å¼ä¸‰ï¼šå®‰è£…ç²¾ç¡®ç‰ˆæœ¬</span>
fnm install 18.20.8
fnm install 20.19.6
</code></pre>
<p>è®¾ç½®é»˜è®¤ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">fnm default 22
</code></pre>
<h4 data-id="heading-23">ç¬¬å››æ­¥ï¼šå¤„ç†å…¨å±€ npm åŒ…</h4>
<p>è¿™æ˜¯å¾ˆå¤šäººå¿½ç•¥çš„ä¸€æ­¥ï¼nvm ä¸‹å®‰è£…çš„å…¨å±€åŒ…ä¸ä¼šè‡ªåŠ¨è¿ç§»ã€‚</p>
<p>æŸ¥çœ‹ nvm ä¸­çš„å…¨å±€åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ‡æ¢åˆ° nvm çš„æŸä¸ªç‰ˆæœ¬</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm/versions/node/v20.19.6/bin:<span class="hljs-variable">$PATH</span>"</span>
npm list -g --depth=0
</code></pre>
<p>åœ¨ fnm çš„å¯¹åº”ç‰ˆæœ¬ä¸­é‡æ–°å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">fnm use 20
npm install -g typescript ts-node nodemon pm2 <span class="hljs-comment"># ä½ éœ€è¦çš„åŒ…</span>
</code></pre>
<p><strong>Pro Tip:</strong> å¯ä»¥å†™ä¸ªè„šæœ¬æ‰¹é‡å¤„ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># migrate-global-packages.sh</span>

<span class="hljs-comment"># ä½ å¸¸ç”¨çš„å…¨å±€åŒ…</span>
PACKAGES=<span class="hljs-string">"typescript ts-node nodemon pm2 pnpm yarn"</span>

<span class="hljs-keyword">for</span> version <span class="hljs-keyword">in</span> 18 20 22; <span class="hljs-keyword">do</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"Installing global packages for Node <span class="hljs-variable">$version</span>..."</span>
  fnm use <span class="hljs-variable">$version</span>
  npm install -g <span class="hljs-variable">$PACKAGES</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h4 data-id="heading-24">ç¬¬äº”æ­¥ï¼šæ³¨é‡Šæ‰ nvm é…ç½®</h4>
<p>ç¼–è¾‘ä½ çš„ Shell é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ~/.zshrc æˆ– ~/.bashrc</span>

<span class="hljs-comment"># nvm - å·²è¿ç§»åˆ° fnmï¼Œæ³¨é‡Šæ‰é¿å…å†²çª</span>
<span class="hljs-comment"># export NVM_DIR="$HOME/.nvm"</span>
<span class="hljs-comment"># [ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"</span>
<span class="hljs-comment"># [ -s "$NVM_DIR/bash_completion" ] &amp;&amp; \. "$NVM_DIR/bash_completion"</span>
</code></pre>
<h4 data-id="heading-25">ç¬¬å…­æ­¥ï¼šéªŒè¯è¿ç§»ç»“æœ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ–°åŠ è½½é…ç½®</span>
<span class="hljs-built_in">source</span> ~/.zshrc  <span class="hljs-comment"># æˆ– source ~/.bashrc</span>

<span class="hljs-comment"># éªŒè¯ fnm å·¥ä½œæ­£å¸¸</span>
fnm list
fnm current
node -v
npm -v
<span class="hljs-built_in">which</span> node

<span class="hljs-comment"># æµ‹è¯•è‡ªåŠ¨åˆ‡æ¢</span>
<span class="hljs-built_in">cd</span> /path/to/project-with-nvmrc
<span class="hljs-comment"># åº”è¯¥çœ‹åˆ° "Using Node vX.X.X"</span>
node -v
</code></pre>
<h4 data-id="heading-26">ç¬¬ä¸ƒæ­¥ï¼šåˆ é™¤ nvmï¼ˆå¯é€‰ä½†æ¨èï¼‰</h4>
<p>ç¡®è®¤ä¸€åˆ‡æ­£å¸¸åï¼Œå¯ä»¥åˆ é™¤ nvm é‡Šæ”¾ç£ç›˜ç©ºé—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">rm</span> -rf ~/.nvm

<span class="hljs-comment"># å¦‚æœé‡åˆ°æƒé™é—®é¢˜</span>
sudo <span class="hljs-built_in">rm</span> -rf ~/.nvm
</code></pre>
<h3 data-id="heading-27">å‘½ä»¤é€ŸæŸ¥è¡¨</h3>




























































<table><thead><tr><th>åŠŸèƒ½</th><th>nvm å‘½ä»¤</th><th>fnm å‘½ä»¤</th></tr></thead><tbody><tr><td>å®‰è£…æŒ‡å®šç‰ˆæœ¬</td><td><code>nvm install 20</code></td><td><code>fnm install 20</code></td></tr><tr><td>å®‰è£…æœ€æ–° LTS</td><td><code>nvm install --lts</code></td><td><code>fnm install --lts</code></td></tr><tr><td>å®‰è£…æŒ‡å®š LTS</td><td><code>nvm install --lts=iron</code></td><td><code>fnm install lts/iron</code></td></tr><tr><td>åˆ‡æ¢ç‰ˆæœ¬</td><td><code>nvm use 20</code></td><td><code>fnm use 20</code></td></tr><tr><td>è®¾ç½®é»˜è®¤ç‰ˆæœ¬</td><td><code>nvm alias default 20</code></td><td><code>fnm default 20</code></td></tr><tr><td>æŸ¥çœ‹å·²å®‰è£…ç‰ˆæœ¬</td><td><code>nvm ls</code></td><td><code>fnm list</code></td></tr><tr><td>æŸ¥çœ‹è¿œç¨‹å¯ç”¨ç‰ˆæœ¬</td><td><code>nvm ls-remote</code></td><td><code>fnm list-remote</code></td></tr><tr><td>æŸ¥çœ‹å½“å‰ç‰ˆæœ¬</td><td><code>nvm current</code></td><td><code>fnm current</code></td></tr><tr><td>å¸è½½ç‰ˆæœ¬</td><td><code>nvm uninstall 18</code></td><td><code>fnm uninstall 18</code></td></tr><tr><td>åœ¨æŒ‡å®šç‰ˆæœ¬æ‰§è¡Œå‘½ä»¤</td><td><code>nvm exec 18 node -v</code></td><td><code>fnm exec --using=18 node -v</code></td></tr></tbody></table>
<h3 data-id="heading-28">LTS ç‰ˆæœ¬ä»£å·å‚è€ƒ</h3>





















































<table><thead><tr><th>ä»£å·</th><th>ç‰ˆæœ¬</th><th>å‘å¸ƒæ—¥æœŸ</th><th>LTS å¼€å§‹</th><th>ç»´æŠ¤ç»“æŸ</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>Jod</td><td>v22.x</td><td>2024-04</td><td>2024-10</td><td>2027-04</td><td>âœ… Active LTS</td></tr><tr><td>Iron</td><td>v20.x</td><td>2023-04</td><td>2023-10</td><td>2026-04</td><td>âœ… Active LTS</td></tr><tr><td>Hydrogen</td><td>v18.x</td><td>2022-04</td><td>2022-10</td><td>2025-04</td><td>âš ï¸ Maintenance</td></tr><tr><td>Gallium</td><td>v16.x</td><td>2021-04</td><td>2021-10</td><td>2024-09</td><td>âŒ End-of-Life</td></tr><tr><td>Fermium</td><td>v14.x</td><td>2020-04</td><td>2020-10</td><td>2023-04</td><td>âŒ End-of-Life</td></tr></tbody></table>
<blockquote>
<p><strong>å»ºè®®</strong>ï¼šæ–°é¡¹ç›®ä½¿ç”¨ v20 æˆ– v22ï¼Œè€é¡¹ç›®å°½å¿«å‡çº§åˆ°è‡³å°‘ v18ã€‚</p>
</blockquote>
<h3 data-id="heading-29">è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-30">1. é…ç½®ç‰ˆæœ¬æ–‡ä»¶æŸ¥æ‰¾ç­–ç•¥</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œfnm åªåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ <code>.node-version</code> æˆ– <code>.nvmrc</code>ã€‚å¦‚æœä½ çš„é¡¹ç›®ç»“æ„æ¯”è¾ƒæ·±ï¼Œå¯ä»¥å¯ç”¨é€’å½’æŸ¥æ‰¾ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --version-file-strategy recursive)</span>"</span>
</code></pre>
<h4 data-id="heading-31">2. å¯ç”¨ Corepack</h4>
<p>Corepack æ˜¯ Node.js å†…ç½®çš„åŒ…ç®¡ç†å™¨ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥é”å®š pnpm/yarn ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd --corepack-enabled)</span>"</span>
</code></pre>
<h4 data-id="heading-32">3. è‡ªå®šä¹‰å®‰è£…ç›®å½•</h4>
<p>é»˜è®¤å®‰è£…åœ¨ <code>~/.local/share/fnm</code>ï¼Œå¯ä»¥è‡ªå®šä¹‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> FNM_DIR=<span class="hljs-string">"/path/to/custom/fnm"</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env --use-on-cd)</span>"</span>
</code></pre>
<h4 data-id="heading-33">4. ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸´æ—¶ä½¿ç”¨</span>
fnm install 20 --node-dist-mirror=https://npmmirror.com/mirrors/node

<span class="hljs-comment"># æ°¸ä¹…é…ç½®</span>
<span class="hljs-built_in">export</span> FNM_NODE_DIST_MIRROR=<span class="hljs-string">"https://npmmirror.com/mirrors/node"</span>
</code></pre>
<h4 data-id="heading-34">5. åœ¨è„šæœ¬ä¸­ä½¿ç”¨ fnm</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># ç¡®ä¿ fnm ç¯å¢ƒå·²åŠ è½½</span>
<span class="hljs-built_in">eval</span> <span class="hljs-string">"<span class="hljs-subst">$(fnm env)</span>"</span>

<span class="hljs-comment"># ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬æ‰§è¡Œ</span>
fnm use 20
node your-script.js

<span class="hljs-comment"># æˆ–è€…ç”¨ exec</span>
fnm <span class="hljs-built_in">exec</span> --using=20 node your-script.js
</code></pre>
<h3 data-id="heading-35">å¸¸è§é—®é¢˜ FAQ</h3>
<h4 data-id="heading-36">Q: fnm å®‰è£…çš„ Node åœ¨å“ªé‡Œï¼Ÿ</h4>
<pre><code class="hljs language-bash" lang="bash">~/.local/share/fnm/node-versions/
</code></pre>
<p>æ¯ä¸ªç‰ˆæœ¬æ˜¯ä¸€ä¸ªç‹¬ç«‹ç›®å½•ï¼Œç»“æ„æ¸…æ™°ã€‚</p>
<h4 data-id="heading-37">Q: ä¸ºä»€ä¹ˆ <code>which node</code> æ˜¾ç¤ºçš„è·¯å¾„å¾ˆå¥‡æ€ªï¼Ÿ</h4>
<p>fnm ä½¿ç”¨"å¤š Shell"æœºåˆ¶ï¼Œæ¯ä¸ª Shell ä¼šè¯æœ‰ç‹¬ç«‹çš„ PATHï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">which</span> node
/Users/xxx/.local/state/fnm_multishells/12345_1234567890/bin/node
</code></pre>
<p>è¿™æ˜¯æ­£å¸¸çš„ï¼Œç¡®ä¿äº†ä¸åŒç»ˆç«¯çª—å£å¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬ã€‚</p>
<h4 data-id="heading-38">Q: å¦‚ä½•åœ¨ VS Code ä¸­ä½¿ç”¨ fnm ç®¡ç†çš„ Nodeï¼Ÿ</h4>
<p>VS Code ä¼šè‡ªåŠ¨æ£€æµ‹ fnmã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥åœ¨ <code>settings.json</code> ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"terminal.integrated.env.osx"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"PATH"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${env:PATH}"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æˆ–è€…åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.vscode/settings.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"eslint.runtime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-39">Q: fnm æ”¯æŒ .nvmrc å—ï¼Ÿ</h4>
<p>å®Œå…¨æ”¯æŒï¼fnm ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ç‰ˆæœ¬æ–‡ä»¶ï¼š</p>
<ol>
<li><code>.node-version</code></li>
<li><code>.nvmrc</code></li>
<li><code>package.json</code> çš„ <code>engines.node</code> å­—æ®µ</li>
</ol>
<h4 data-id="heading-40">Q: å¦‚ä½•å›é€€åˆ° nvmï¼Ÿ</h4>
<p>å¦‚æœä½ æƒ³å›é€€ï¼ˆè™½ç„¶æˆ‘ä¸å»ºè®®ï¼‰ï¼Œåªéœ€ï¼š</p>
<ol>
<li>æ³¨é‡Šæ‰ fnm é…ç½®</li>
<li>å–æ¶ˆæ³¨é‡Š nvm é…ç½®</li>
<li>é‡æ–°åŠ è½½ Shell</li>
</ol>
<p>ä½ çš„ nvm æ•°æ®ï¼ˆå¦‚æœæ²¡åˆ ï¼‰è¿˜åœ¨ <code>~/.nvm</code>ã€‚</p>
<h3 data-id="heading-41">æ€»ç»“ï¼šå€¼å¾—è¿ç§»å—ï¼Ÿ</h3>
<p><strong>ç»å¯¹å€¼å¾—ã€‚</strong></p>
<p>è¿ç§»æˆæœ¬ï¼š</p>
<ul>
<li>æ—¶é—´ï¼šçº¦ 15-30 åˆ†é’Ÿ</li>
<li>å­¦ä¹ æ›²çº¿ï¼šå‡ ä¹ä¸ºé›¶ï¼ˆå‘½ä»¤é«˜åº¦ç›¸ä¼¼ï¼‰</li>
<li>é£é™©ï¼šæä½ï¼ˆå¯éšæ—¶å›é€€ï¼‰</li>
</ul>
<p>è·å¾—æ”¶ç›Šï¼š</p>
<ul>
<li>ç»ˆç«¯å¯åŠ¨å¿« 5-10 å€</li>
<li>ç‰ˆæœ¬åˆ‡æ¢å¿« 20-30 å€</li>
<li>è‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ï¼Œå‘Šåˆ«æ‰‹åŠ¨ <code>nvm use</code></li>
<li>è·¨å¹³å°ä¸€è‡´æ€§ï¼Œå›¢é˜Ÿåä½œæ›´é¡ºç•…</li>
<li>æ›´å°‘çš„ Bug å’Œæ€ªå¼‚è¡Œä¸º</li>
</ul>
<p>å¦‚æœä½ æ¯å¤©è¦æ‰“å¼€å‡ åæ¬¡ç»ˆç«¯ã€åœ¨å¤šä¸ªé¡¹ç›®é—´åˆ‡æ¢ï¼Œfnm èŠ‚çœçš„æ—¶é—´ç´¯ç§¯èµ·æ¥æ˜¯éå¸¸å¯è§‚çš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œé‚£ç§<strong>ä¸æ»‘æ— æ„Ÿ</strong>çš„ä½“éªŒï¼Œä¼šè®©ä½ çš„å¼€å‘å¿ƒæƒ…éƒ½å˜å¥½ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSchniz%2Ffnm" target="_blank" title="https://github.com/Schniz/fnm" ref="nofollow noopener noreferrer">fnm GitHub ä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2Fabout%2Freleases%2F" target="_blank" title="https://nodejs.org/en/about/releases/" ref="nofollow noopener noreferrer">Node.js å‘å¸ƒè®¡åˆ’</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSchniz%2Ffnm%23performance" target="_blank" title="https://github.com/Schniz/fnm#performance" ref="nofollow noopener noreferrer">nvm vs fnm æ€§èƒ½å¯¹æ¯”</a></li>
</ul>
<hr/>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ã€‚æœ‰é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºäº¤æµï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ï¼]]></title>    <link>https://juejin.cn/post/7581741663182749731</link>    <guid>https://juejin.cn/post/7581741663182749731</guid>    <pubDate>2025-12-09T23:15:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581741663182749731" data-draft-id="7581406561684963374" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ï¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å‰ç«¯,Trae"/> <meta itemprop="datePublished" content="2025-12-09T23:15:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è½»æ¾æå®šå¹´åº¦æŠ¥å‘Šå¯è§†åŒ–ï¼Œäº”åˆ†é’Ÿç”¨ AntV + Trae Solo å¿«é€Ÿæ„å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T23:15:05.000Z" title="Tue Dec 09 2025 23:15:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸€åˆ°å¹´æœ«ï¼Œæ’°å†™å¹´ç»ˆæ€»ç»“æ€»æ˜¯ç»•ä¸å¼€ä¸€é¡¹è´¹æ—¶åˆè´¹åŠ›çš„ä»»åŠ¡â€”â€”ç»˜åˆ¶å›¾è¡¨ã€‚ä½œä¸ºé‡åŒ–å·¥ä½œæˆæœã€ç›´è§‚å‘ˆç°ä¸šåŠ¡è¿›å±•çš„é‡è¦æ–¹å¼ï¼Œå›¾è¡¨æ—¢è¦æ¸…æ™°ä¼ è¾¾ä¿¡æ¯ï¼Œåˆéœ€åœ¨è§†è§‰ä¸Šå¸å¼•çœ¼çƒã€‚ä»¥å¾€ç¬”è€…å¸¸å€ŸåŠ©é˜¿é‡Œ AntV å›¢é˜Ÿæ¨å‡ºçš„Â <code>mcp-server-chart</code>ï¼Œé€šè¿‡å¯¹è¯å¼äº¤äº’å¿«é€Ÿç”ŸæˆåŸºç¡€å›¾è¡¨ï¼Œè™½ç„¶æ–¹ä¾¿ï¼Œä½†å…¶æ ·å¼è¾ƒä¸ºç®€å•ï¼Œéš¾ä»¥åœ¨æ±‡æŠ¥ä¸­è„±é¢–è€Œå‡ºï¼ˆå…³äº<code>mcp-server-chart</code>çš„ä½¿ç”¨å¤§å®¶å¯ä»¥å‚è€ƒç¬”è€…çš„æ–‡ç« <a href="https://juejin.cn/post/7504142780526723081" target="_blank" title="https://juejin.cn/post/7504142780526723081">æ¨èä¸€æ¬¾å®è—MCP Serverâ€”mcp-server-chart, ä»æ­¤å†ä¹Ÿä¸å‘æ„ç»˜åˆ¶å›¾è¡¨å•¦ï¼</a>ï¼‰ã€‚</p>
<p>æ­£ä¸ºæ­¤å‘æ„æ—¶ç¬”è€…å¶ç„¶å‘ç°äº† AntV æ–°æ¨å‡ºçš„ä¿¡æ¯å›¾å¯è§†åŒ–å¼•æ“â€”â€”<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2F" target="_blank" title="https://infographic.antv.vision/" ref="nofollow noopener noreferrer">AntV Infographic</a></strong>ã€‚å®ƒåŒæ ·å‡ºè‡ª AntV å›¢é˜Ÿï¼Œèƒ½å¤Ÿé€šè¿‡ç®€æ´çš„é…ç½®ç”Ÿæˆè®¾è®¡æ„Ÿåè¶³ã€é‡ç‚¹çªå‡ºçš„ä¿¡æ¯å›¾è¡¨ï¼Œæ­£å¥½åˆ‡ä¸­äº†ç¬”è€…åœ¨å›¾è¡¨å±•ç¤ºä¸Šçš„ç—›ç‚¹ã€‚</p>
<p>è¿™ä¹ˆå¥½çš„å·¥å…·ï¼Œè‡ªç„¶ä¸èƒ½ç‹¬äº«ï¼Œæœ¬ç¯‡åˆ†äº«ç¬”è€…å°±æŠŠè¿™ä¸ªå·¥å…·åº“åˆ†äº«ç»™å¤§å®¶ï¼Œ åŒæ—¶ä½œä¸ºé•¿æœŸå…³æ³¨æ™ºèƒ½ä½“å¼€å‘çš„åšä¸»ï¼Œç¬”è€…æ›´è¿›ä¸€æ­¥ç»“åˆÂ <code>AntV Infographic</code>Â ä¸Â <code>vibe coding</code>Â å¿«é€Ÿæ­å»ºäº†ä¸€ä¸ªè½»é‡çº§å›¾è¡¨ç”Ÿæˆæ™ºèƒ½ä½“ã€‚æœ¬æ–‡å°†åˆ†äº«æ•´ä¸ªå®ç°æ€è·¯ä¸è¿‡ç¨‹ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ ç”¨Â <strong>AntV + Trae</strong>ï¼Œåœ¨äº”åˆ†é’Ÿå†…æ„å»ºå±äºè‡ªå·±çš„â€œæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨â€ï¼Œè®©å¤§å®¶ä»Šå¹´çš„å¹´ç»ˆæŠ¥å‘Šï¼Œç”¨å›¾è¡¨è¯´è¯ï¼Œé é¢œå€¼å‡ºå½©ï¼(å¸Œæœ›å¤§å®¶å¯ä»¥åˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fantvis%2Finfographic" target="_blank" title="https://github.com/antvis/infographic" ref="nofollow noopener noreferrer">github</a>ä¸Šç»™Infographic ç‚¹ star æ‰“ callï¼Œæ”¯æŒantvå›¢é˜Ÿå¼€å‘å‡ºæ›´å¤šå®ç”¨ç¾ä¸½çš„å¯è§†åŒ–å›¾è¡¨åŠŸèƒ½~)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31429ac9e1174724ab3322a4ac4e3141~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=fYfCwSi4bmqISpMb%2FgnZYqqONpY%3D" alt="0.png" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸€ã€AntV Infographicç®€ä»‹</h2>
<h3 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯ä¿¡æ¯å›¾ï¼ˆInfographicï¼‰ï¼Ÿ</h3>
<p>åœ¨æ·±å…¥äº†è§£ AntV Infographic ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦æ˜ç¡®ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š<strong>ä¿¡æ¯å›¾ï¼ˆInfographicï¼‰</strong> ã€‚</p>
<p>ä¼ ç»Ÿå›¾è¡¨ï¼ˆå¦‚æŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ï¼‰çš„æ ¸å¿ƒç›®æ ‡æ˜¯ç²¾ç¡®ã€æ ‡å‡†åŒ–åœ°å‘ˆç°æ•°æ®ã€‚è€Œä¿¡æ¯å›¾åˆ™æ›´è¿›ä¸€æ­¥ï¼Œå®ƒèåˆäº†<strong>æ•°æ®å¯è§†åŒ–</strong>ä¸<strong>è§†è§‰è®¾è®¡</strong>ï¼Œæ—¨åœ¨å°†å¤æ‚çš„æ•°æ®ã€ä¿¡æ¯å’ŒçŸ¥è¯†è½¬åŒ–ä¸ºç›´è§‚çš„ã€å¯Œæœ‰ç¾æ„Ÿçš„å›¾å½¢è¯­è¨€ã€‚å®ƒé€šè¿‡è§†è§‰å…ƒç´ æ¥â€œå‹ç¼©â€ä¿¡æ¯ï¼Œçªå‡ºé‡ç‚¹ã€å™è¿°æ•…äº‹ã€ä¼ è¾¾æ´å¯Ÿï¼Œæœ€ç»ˆç›®æ ‡æ˜¯è®©å—ä¼—â€œçœ‹å¾—æ‡‚ã€è®°å¾—ä½â€ã€‚</p>
<p>ç¬”è€…è¿™é‡Œé€šè¿‡AntVå®˜ç½‘çš„ä¾‹å­æ¥è®©å¤§å®¶ç›´è§‚äº†è§£ä¿¡æ¯å›¾ï¼Œä»¥ä¸‹æ˜¯ä¸€æ®µå…³äºé˜¿é‡Œå·´å·´æŠ€æœ¯èŒçº§çš„æ–‡å­—æè¿°ï¼š</p>
<pre><code class="hljs language-text" lang="text">åœ¨é˜¿é‡Œå·´å·´ï¼ŒæŠ€æœ¯äººçš„èŒçº§ä» P5 åˆ° P10ï¼Œæ¯ä¸€çº§éƒ½å¯¹åº”ç€ä¸åŒçš„èŒè´£ä¸èƒ½åŠ›è¦æ±‚ã€‚  
P5 æ˜¯åˆå…¥èŒåœºçš„æ‰§è¡Œè€…ï¼Œä¸»è¦è´Ÿè´£å®Œæˆå…·ä½“ä»»åŠ¡ï¼Œåœ¨æŒ‡å¯¼ä¸‹å­¦ä¹ å’Œæˆé•¿ï¼›  
P6 æ˜¯ç‹¬ç«‹è´¡çŒ®è€…ï¼Œèƒ½å¤Ÿè‡ªä¸»è§£å†³é—®é¢˜å¹¶äº¤ä»˜æ¨¡å—çº§çš„å·¥ä½œæˆæœï¼›P7 å¼€å§‹æ‰¿æ‹…æ›´å¤æ‚çš„ç³»ç»Ÿè®¾è®¡ä¸é¡¹ç›®æ¨è¿›ï¼Œæˆä¸ºå›¢é˜Ÿä¸­çš„æŠ€æœ¯éª¨å¹²ï¼›  
P8 åˆ™éœ€è¦å…·å¤‡æ¶æ„èƒ½åŠ›ï¼Œä¸»å¯¼å¤§å‹é¡¹ç›®çš„å®æ–½ï¼Œå¹¶åœ¨é¢†åŸŸå†…å½¢æˆå½±å“åŠ›ï¼›  
P9 æ˜¯æŠ€æœ¯ä¸“å®¶æˆ–ç®¡ç†è€…ï¼Œè´Ÿè´£è·¨å›¢é˜Ÿçš„æˆ˜ç•¥è§„åˆ’ä¸èµ„æºæ•´åˆï¼Œæ¨åŠ¨ä¸šåŠ¡åˆ›æ–°ï¼›  
è€Œ P10 ä½œä¸ºè¡Œä¸šé¢†å†›äººç‰©ï¼Œä¸ä»…è¦åœ¨å…¬å¸å†…éƒ¨å¼•é¢†æŠ€æœ¯æ–¹å‘ï¼Œè¿˜è¦åœ¨è¡Œä¸šå†…æ ‘ç«‹æ ‡æ†ï¼Œä¸ºç»„ç»‡å¸¦æ¥æ·±è¿œçš„æŠ€æœ¯å’Œå•†ä¸šä»·å€¼ã€‚
</code></pre>
<p>å¦‚æœå°†å…¶è½¬åŒ–ä¸ºä¿¡æ¯å›¾ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f96c7b8f10814a618c8793ffa33b8d9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=D1GJ5E2uMxmKPxZ0Gefxwj%2BKmmk%3D" alt="1.png" loading="lazy"/></p>
<p>å¯¹æ¯”å¯è§ä¿¡æ¯å›¾é€šè¿‡å±‚æ¬¡åŒ–çš„è§†è§‰è®¾è®¡ï¼Œæå¤§åœ°æå‡äº†ä¿¡æ¯çš„ä¼ è¾¾æ•ˆç‡ä¸è§†è§‰å¸å¼•åŠ›ã€‚</p>
<h3 data-id="heading-3">1.2 AntV Infographic æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>AntV Infographic</strong>Â æ­£æ˜¯ä¸ºäº†è§£å†³â€œå¦‚ä½•é«˜æ•ˆåˆ›å»ºç²¾ç¾ä¿¡æ¯å›¾â€è€Œç”Ÿçš„æ–°ä¸€ä»£å‰ç«¯å¯è§†åŒ–å¼•æ“ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªç®€å•çš„å›¾è¡¨åº“ï¼Œå°†å¤æ‚æ•°æ®è½¬åŒ–ä¸ºä¼˜é›…ã€å¯äº¤äº’ä¿¡æ¯å›¾çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚è¯¥æ¡†æ¶çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šç”¨æˆ·åªéœ€è¦é€šè¿‡ç®€æ´çš„å£°æ˜å¼JSONé…ç½®æ–¹å¼æè¿°æ•°æ®ä¸æƒ³è¦çš„è§†è§‰å‘ˆç°ï¼Œå¼•æ“ä¾¿ä¼šè‡ªåŠ¨å°†å…¶æ¸²æŸ“ä¸ºé«˜è´¨é‡çš„ä¿¡æ¯å›¾ï¼Œæ— éœ€ä½ æ‰‹åŠ¨è®¡ç®—åƒç´ æˆ–ç»˜åˆ¶å›¾å½¢ã€‚</p>
<h3 data-id="heading-4">1.3 å¦‚ä½•ç”¨ Infographic æ„å»ºä¿¡æ¯å›¾ï¼Ÿ</h3>
<p>InfoGraphicçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œç”¨æˆ·åªéœ€è¦æŒ‰è§„å®šä¼ å…¥é…ç½®é¡¹ï¼Œå®šä¹‰ç»“æ„ã€è®¾è®¡ã€æ•°æ®ä¸ä¸»é¢˜ï¼ŒInfoGraphicå³å¯è‡ªåŠ¨æ ¹æ®ç”¨æˆ·çš„é…ç½®ç»˜åˆ¶å‡ºç²¾ç¾çš„ä¿¡æ¯å›¾ã€‚å¯ä»¥è¯´Infographicçš„æ•´ä¸ªè¿‡ç¨‹å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒé…ç½®é¡¹å±•å¼€ï¼š</p>
<ul>
<li>
<p><strong>è®¾è®¡ (<code>design</code>)</strong> ï¼šå®šä¹‰ä¿¡æ¯å›¾çš„è§†è§‰æ ·å¼ï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn%2Fdesign" target="_blank" title="https://infographic.antv.vision/learn/design" ref="nofollow noopener noreferrer">infographic.antv.vision/learn/desigâ€¦</a> äº†è§£æ›´å¤šã€‚</p>
<ul>
<li><code>structure</code>ï¼šå¸ƒå±€ä¸ç»„ç»‡æ–¹å¼ï¼ˆå¦‚åˆ—è¡¨ã€ç½‘æ ¼ï¼‰ã€‚</li>
<li><code>title</code>ï¼šæ ‡é¢˜çš„æ ·å¼è®¾è®¡ã€‚</li>
<li><code>item</code>ï¼šæ¯ä¸ªæ•°æ®å•å…ƒçš„è§†è§‰æ ·å¼ï¼ˆå¦‚å¡ç‰‡ã€ç®­å¤´å›¾ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ•°æ® (<code>data</code>)</strong> ï¼šå¡«å…¥è¦å±•ç¤ºçš„å…·ä½“å†…å®¹ï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn%2Fdata" target="_blank" title="https://infographic.antv.vision/learn/data" ref="nofollow noopener noreferrer">infographic.antv.vision/learn/data</a> äº†è§£æ›´å¤šã€‚</p>
<ul>
<li>æ”¯æŒä¸€ç»´åˆ—è¡¨æ•°æ®ï¼ˆå¦‚ä¸Šå›¾ç¤ºä¾‹ï¼‰å’Œå±‚çº§æ•°æ®ã€‚</li>
<li>æ¯ä¸ªæ•°æ®é¡¹å¯åŒ…å«æ ‡ç­¾ã€æè¿°ã€æ—¶é—´ã€å›¾æ ‡ç­‰å­—æ®µã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸»é¢˜ (<code>theme</code>)</strong> ï¼šæ§åˆ¶å…¨å±€è§†è§‰é£æ ¼ï¼Œå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn%2Ftheme" target="_blank" title="https://infographic.antv.vision/learn/theme" ref="nofollow noopener noreferrer">infographic.antv.vision/learn/theme</a> äº†è§£æ›´å¤šã€‚</p>
<ul>
<li>é…ç½®ä¸»è‰²ã€è‰²æ¿ã€èƒŒæ™¯ç­‰ã€‚</li>
<li>è‡ªå®šä¹‰æ–‡æœ¬ã€å›¾å½¢ç­‰å…ƒç´ çš„æ ·å¼ã€‚</li>
<li>åº”ç”¨æ‰‹ç»˜é£ç­‰é£æ ¼åŒ–æ•ˆæœã€‚</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç ç¤ºä¾‹ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªæ­¥éª¤çš„â€œè®¡åˆ’è¿›å±•â€å›¾:</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">Infographic</span>,
  registerResourceLoader,
  loadSVGResource,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@antv/infographic'</span>;

<span class="hljs-title function_">registerResourceLoader</span>(<span class="hljs-keyword">async</span> (config) =&gt; {
  <span class="hljs-keyword">const</span> {data} = config;
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://api.iconify.design/<span class="hljs-subst">${data}</span>.svg`</span>);
  <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">text</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">loadSVGResource</span>(text);
});

<span class="hljs-keyword">const</span> infographic = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Infographic</span>({
  <span class="hljs-attr">container</span>: <span class="hljs-string">'#container'</span>,
  <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span>,
  <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">padding</span>: <span class="hljs-number">30</span>,
  <span class="hljs-attr">design</span>: {
    <span class="hljs-attr">title</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'default'</span>,
      <span class="hljs-attr">width</span>: <span class="hljs-number">300</span>,
    },
    <span class="hljs-attr">structure</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'list-row'</span>,
      <span class="hljs-attr">gap</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">zigzag</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">item</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'horizontal-icon-arrow'</span>,
    },
  },
  <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span>,
  <span class="hljs-attr">themeConfig</span>: {
    <span class="hljs-attr">palette</span>: [<span class="hljs-string">'#61DDAA'</span>, <span class="hljs-string">'#F6BD16'</span>, <span class="hljs-string">'#F08BB4'</span>],
    <span class="hljs-attr">base</span>: {
      <span class="hljs-attr">text</span>: {
        <span class="hljs-string">'font-family'</span>: <span class="hljs-string">'851tegakizatsu'</span>,
      },
    },
    <span class="hljs-attr">stylize</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'rough'</span>,
    },
  },
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¡åˆ’è¿›å±•'</span>,
    <span class="hljs-attr">items</span>: [
      {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 1'</span>,
        <span class="hljs-attr">desc</span>: <span class="hljs-string">'å¼€å§‹'</span>,
        <span class="hljs-attr">time</span>: <span class="hljs-string">'Last Day'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'mdi/rocket-launch'</span>,
      },
      {
        <span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 2'</span>,
        <span class="hljs-attr">desc</span>: <span class="hljs-string">'è¿›è¡Œä¸­'</span>,
        <span class="hljs-attr">time</span>: <span class="hljs-string">'Today'</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'mdi/progress-clock'</span>,
      },
      {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 3'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'å®Œæˆ'</span>, <span class="hljs-attr">time</span>: <span class="hljs-string">'Tomorrow'</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">'mdi/trophy'</span>},
    ],
  },
});

infographic.<span class="hljs-title function_">render</span>();
</code></pre>
<p><strong>ä»£ç è¦ç‚¹è§£æ:</strong></p>
<ul>
<li><strong>èµ„æºåŠ è½½å™¨</strong>ï¼šé€šè¿‡Â <code>registerResourceLoader</code>Â ä» Iconify æŒ‰éœ€æ‹‰å– SVGã€‚</li>
<li><strong>ç¼–è¾‘å™¨</strong>ï¼šè®¾ç½®Â <code>editable: true</code>Â å¯ç”¨äº¤äº’å¼ç¼–è¾‘åŠŸèƒ½ã€‚</li>
<li><strong>è®¾è®¡</strong>ï¼š<code>design</code>Â å­—æ®µè‡ªå®šä¹‰æ ‡é¢˜ã€ç»“æ„ä¸æ•°æ®é¡¹ç±»å‹åŠå‚æ•°ã€‚</li>
<li><strong>ä¸»é¢˜</strong>ï¼šåˆ‡æ¢æš—è‰²ä¸»é¢˜å¹¶ç”¨Â <code>themeConfig</code>Â é…ç½®è‰²æ¿ã€å­—ä½“ã€é£æ ¼åŒ–ã€‚</li>
<li><strong>æ•°æ®</strong>ï¼šä¼ å…¥æ ‡é¢˜ä¸æ•°æ®é¡¹ï¼ˆæ ‡ç­¾ã€æè¿°ã€æ—¶é—´ã€å›¾æ ‡ï¼‰ã€‚</li>
</ul>
<p>æœ€ç»ˆç»˜åˆ¶çš„å›¾ç‰‡æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd1bd3f21ab4c52b79592ec625d0de7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=xHoH%2FrCbJaMrV1JZPvQaPEu29jQ%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-5">1.4 Infographicæ¨¡æ¿åŸºæœ¬ä»‹ç»</h3>
<p>å¯¹äºå¸¸è§çš„å›¾è¡¨ç±»å‹ï¼Œæ¯æ¬¡éƒ½ä»å¤´é…ç½®Â <code>design</code>Â æ˜¾ç„¶æ•ˆç‡ä¸é«˜ã€‚ä¸ºæ­¤ï¼ŒInfographic æä¾›äº†<strong>æ¨¡æ¿ï¼ˆTemplateï¼‰</strong> åŠŸèƒ½ã€‚ç”¨æˆ·å¯ä»¥å°†ä¸€å¥—æˆç†Ÿçš„Â <code>design</code>Â é…ç½®ä¿å­˜ä¸ºæ¨¡æ¿ï¼Œä»¥ä¾¿å¤ç”¨ã€‚</p>
<ol>
<li>
<p><strong>æ³¨å†Œä¸ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> {registerTemplate, <span class="hljs-title class_">Infographic</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@antv/infographic'</span>;

<span class="hljs-title function_">registerTemplate</span>(<span class="hljs-string">'simple-list'</span>, {
  <span class="hljs-attr">design</span>: {
    <span class="hljs-attr">structure</span>: <span class="hljs-string">'list-row'</span>,
    <span class="hljs-attr">item</span>: <span class="hljs-string">'simple'</span>,
  },
});

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Infographic</span>({
  <span class="hljs-comment">// å…¶ä»–é…ç½®é¡¹...</span>
  <span class="hljs-attr">template</span>: <span class="hljs-string">'simple-list'</span>,
});
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨å®˜æ–¹æ¨¡æ¿:</strong></p>
</li>
</ol>
<p>é™¤äº†è‡ªå®šä¹‰æ¨¡æ¿çš„æ–¹æ³•å¤–ï¼Œé‰´äºç°å®ç”Ÿæ´»ä¸­æœ‰è®¸å¤šè®¾è®¡å¥½çš„ä¿¡æ¯å±•ç¤ºå›¾è¡¨ç»„ä»¶ï¼Œå¤§å®¶ç›´æ¥åœ¨ä¸Šé¢æ›¿æ¢æ•°æ®å‘ˆç°çš„æ•ˆæœå¾€å¾€æ¯”è‡ªå®šä¹‰çš„å›¾è¡¨ç»„ä»¶å±•ç¤ºæ•ˆæœè¿˜è¦å¥½ã€‚åŸºäºæ­¤AntV å›¢é˜Ÿå·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡äº†ä¸Šç™¾ç§ç²¾å¿ƒè®¾è®¡çš„æ¨¡æ¿ï¼Œè¦†ç›–äº†æ—¶é—´è½´ã€ç»„ç»‡æ¶æ„ã€äº§å“è·¯çº¿å›¾ç­‰å¤šç§åœºæ™¯ã€‚ä½ å¯ä»¥åœ¨Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fexamples" target="_blank" title="https://infographic.antv.vision/examples" ref="nofollow noopener noreferrer">å®˜æ–¹ç¤ºä¾‹åº“</a></strong>Â ä¸­æµè§ˆå¹¶æ‰¾åˆ°å¿ƒä»ªçš„æ ·å¼ï¼Œç›´æ¥å¤åˆ¶å…¶æ¨¡æ¿åç§°å¹¶å°†æ•°æ®ä¿®æ”¹ä¸ºè‡ªå·±çš„æ•°æ®å³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7331d4b1fb3437ea537ac1fdc67758c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=pZQ%2BQtPx8Nkb958JLSUufDInK1o%3D" alt="3.png" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ä½¿ç”¨å®˜æ–¹Â <code>list-row-simple-horizontal-arrow</code>Â æ¨¡æ¿ï¼Œåœ¨çº¯HTMLç¯å¢ƒä¸­å¿«é€Ÿç”Ÿæˆäº†ä¸€ä¸ªæ­¥éª¤æµç¨‹å›¾ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Infographic Demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/@antv/infographic@latest/dist/infographic.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-keyword">const</span> {<span class="hljs-title class_">Infographic</span>} = <span class="hljs-title class_">AntVInfographic</span>;
      <span class="hljs-keyword">const</span> infographic = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Infographic</span>({
        <span class="hljs-attr">container</span>: <span class="hljs-string">'#container'</span>,
        <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-attr">template</span>: <span class="hljs-string">'list-row-simple-horizontal-arrow'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">items</span>: [
            {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 1'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'å¼€å§‹'</span>},
            {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 2'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'è¿›è¡Œä¸­'</span>},
            {<span class="hljs-attr">label</span>: <span class="hljs-string">'æ­¥éª¤ 3'</span>, <span class="hljs-attr">desc</span>: <span class="hljs-string">'å®Œæˆ'</span>},
          ],
        },
      });
      infographic.<span class="hljs-title function_">render</span>();
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6ac9e0af746441d83865bdf8afc599b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=rww0w%2F8xU6nn4k0oVn0YQGWtwRI%3D" alt="4.png" loading="lazy"/></p>
<p>è‡³æ­¤ï¼Œå¤§å®¶å·²ç»æŒæ¡äº† AntV Infographic çš„æ ¸å¿ƒç”¨æ³•ã€‚å¦‚æœä½ æƒ³æ·±å…¥äº†è§£å…¶æ‰€æœ‰åŠŸèƒ½ï¼Œå»ºè®®æŸ¥é˜…Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Flearn" target="_blank" title="https://infographic.antv.vision/learn" ref="nofollow noopener noreferrer">å®˜æ–¹æ•™ç¨‹</a></strong>ã€‚æ¥ä¸‹æ¥ï¼Œç¬”è€…å°†è¿›å…¥å®æˆ˜ç¯èŠ‚ï¼Œçœ‹çœ‹å¦‚ä½•å°†å®ƒä¸æ™ºèƒ½ä½“ï¼ˆAgentï¼‰æŠ€æœ¯ç»“åˆï¼Œæ‰“é€ ä¸€ä¸ªçœŸæ­£â€œèƒ½è¯´ä¼šç”»â€çš„å›¾è¡¨ç”Ÿæˆå™¨ã€‚</p>
<h2 data-id="heading-6">äºŒã€åŸºäºAntV Infographicçš„å›¾è¡¨ç”Ÿæˆæ™ºèƒ½ä½“</h2>
<p>ç¬”è€…åœ¨æ–‡ç«  <a href="https://juejin.cn/post/7580723992498438180" target="_blank" title="https://juejin.cn/post/7580723992498438180">LangChain1.0å®æˆ˜ä¹‹å¤šæ¨¡æ€RAGç³»ç»Ÿï¼ˆå››ï¼‰â€”â€”Trae Soloæ­å»ºéƒ¨ç½²å¤šæ¨¡æ€RAGå‰ç«¯(é™„AIç¼–ç¨‹å®è·µæŒ‡å—)</a>ä»‹ç»äº†Â <strong>Vibe Codingï¼ˆæ°›å›´ç¼–ç¨‹ï¼‰</strong> Â çš„ç†å¿µï¼Œå¹¶å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨å­—èŠ‚è·³åŠ¨çš„Â <strong>Trae Solo</strong>Â æ¨¡å¼ï¼Œä»…å‡­è‡ªç„¶è¯­è¨€æè¿°å°±èƒ½å¿«é€Ÿå¼€å‘å‡ºåŠŸèƒ½å®Œæ•´çš„å‰ç«¯åº”ç”¨ã€‚</p>
<p>è¿™æ¬¡ç¬”è€…åŒæ ·è¦å€ŸåŠ© Vibe Coding çš„åŠ›é‡ï¼Œå¹¶éµå¾ªå…¶<a href="https://juejin.cn/post/7580723992498438180" target="_blank" title="https://juejin.cn/post/7580723992498438180">æœ€ä½³å®è·µ</a>ï¼Œå¿«é€Ÿæ„å»ºä¸€ä¸ªèƒ½å¤Ÿç†è§£éœ€æ±‚ã€è‡ªåŠ¨ç”Ÿæˆç²¾ç¾ä¿¡æ¯å›¾çš„æ™ºèƒ½ä½“ã€‚</p>
<h3 data-id="heading-7">2.1 æ ¸å¿ƒæ€è·¯ï¼šè®©å¤§æ¨¡å‹â€œå­¦ä¼šâ€å›¾è¡¨é…ç½®</h3>
<p>è¦æ„å»ºè¿™ä¸ªæ™ºèƒ½ä½“ï¼Œé¦–å…ˆè¦ç†æ¸…å®ƒçš„è¿ä½œé€»è¾‘ã€‚<code>AntV Infographic</code>Â ç”Ÿæˆå›¾è¡¨é«˜åº¦ä¾èµ–é…ç½®é¡¹ï¼ˆ<code>data</code>,Â <code>design</code>,Â <code>theme</code>ï¼‰ï¼Œè€Œå®˜æ–¹åˆæä¾›äº†ä¸°å¯Œçš„æ¨¡æ¿åº“ã€‚é‚£ä¹ˆä¸€ä¸ªå¾ˆè‡ªç„¶çš„æƒ³æ³•æ˜¯ï¼š<strong>èƒ½å¦è®©å¤§æ¨¡å‹å……å½“â€œé…ç½®å·¥ç¨‹å¸ˆâ€ï¼Ÿ</strong> Â è®©å¤§æ¨¡å‹ä»ç”¨æˆ·è¾“å…¥çš„è‡ªç„¶è¯­è¨€æè¿°ä¸­ï¼Œæ™ºèƒ½åœ°æŠ½å–å‡ºå…³é”®æ•°æ®ã€åˆ¤æ–­åˆé€‚çš„å›¾è¡¨ç±»å‹ï¼ˆé€‰æ‹©æ¨¡æ¿ï¼‰ï¼Œå¹¶ç”Ÿæˆå®Œæ•´çš„Â <code>Infographic</code>Â é…ç½®ä»£ç ã€‚è¿™ä¸ªæƒ³æ³•ä¸ AntV å®˜æ–¹çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fai" target="_blank" title="https://infographic.antv.vision/ai" ref="nofollow noopener noreferrer">AI Infographic</a>Â ç½‘ç«™ä¸è°‹è€Œåˆã€‚</p>
<p>ä¸ºäº†è®©å¤§æ¨¡å‹æŒæ¡è¿™é¡¹æŠ€èƒ½ç¬”è€…éœ€è¦ç»™å®ƒä¸€ä»½â€œè¯´æ˜ä¹¦â€ã€‚æœ€ç›´æ¥çš„æ–¹å¼å°±æ˜¯å€Ÿé‰´å®˜æ–¹ AI åŠŸèƒ½çš„æç¤ºè¯ï¼ˆPromptï¼‰ã€‚é€šè¿‡æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼ˆNetwork é¢æ¿ï¼‰ç¬”è€…æ•è·åˆ°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fai" target="_blank" title="https://infographic.antv.vision/ai" ref="nofollow noopener noreferrer">AI Infographic</a>Â ç½‘ç«™ä¸å¤§æ¨¡å‹äº¤äº’æ—¶ä½¿ç”¨çš„æç¤ºè¯æ¨¡æ¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8914f3ef01754d01a3e2adafe1fcd722~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=RBIvmVZIU%2FbRda9uUxgvj7xd7Ws%3D" alt="5.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28720350e3284ebfa8f1da006c5f4723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=UTyYsDJO%2FBKGh%2BU1TmedTIyZGaM%3D" alt="6.png" loading="lazy"/></p>
<p>è·å–åˆ°çš„æç¤ºè¯ç¬”è€…å°†å…¶ä¿å­˜åœ¨<code>æç¤ºè¯.txt</code>æ–‡ä»¶ä¸­ã€‚é™äºç¯‡å¹…åŸå› ï¼Œæç¤ºè¯å°±ä¸åœ¨è¿™é‡Œå±•ç¤ºå•¦ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¤§å®¶å¯ä»¥å…³æ³¨ç¬”è€…åŒåå¾®ä¿¡å…¬ä¼—å·ï¼š<strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œ å¹¶ç§ä¿¡ <strong>Infographicæ™ºèƒ½ä½“</strong> è·å¾—å…¨éƒ¨æºç ã€‚</p>
<h3 data-id="heading-8">2.2 ç¼–å†™ç»“æ„åŒ–ä»£ç å¼€å‘æç¤ºè¯</h3>
<p>æœ‰äº†æ ¸å¿ƒæ€è·¯å’Œæç¤ºè¯åŸºç¡€ï¼Œæ¥ä¸‹æ¥å°±è½®åˆ° <strong>Vibe Coding</strong> ä¸Šåœºäº†ã€‚éµå¾ªæœ€ä½³å®è·µçš„ç¬¬ä¸€æ­¥ï¼Œç¬”è€…éœ€è¦ä¸º <strong>Trae Solo</strong> æ’°å†™ä¸€ä»½ç»“æ„æ¸…æ™°ã€è¦ç´ å®Œæ•´çš„æç¤ºè¯ã€‚</p>
<ol>
<li><strong>è§’è‰²å®šä½ï¼š</strong> æ˜ç¡®èµ‹äºˆ Trae Solo ä¸€ä¸ªä¸“ä¸šèº«ä»½å’Œèƒ½åŠ›èŒƒå›´</li>
</ol>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½ä½“åº”ç”¨å¼€å‘äººå‘˜ï¼Œç†Ÿç»ƒæŒæ¡ä½¿ç”¨langchain1.0 pythonè¯­è¨€å¼€å‘ä¸€ä¸ªæ™ºèƒ½ä½“
</code></pre>
<ol start="2">
<li><strong>æ¸…æ™°éœ€æ±‚ï¼š</strong> è¯¦ç»†æè¿°ä¸šåŠ¡åœºæ™¯ä¸åŠŸèƒ½ç‚¹</li>
</ol>
<pre><code class="hljs language-text" lang="text">è¯¥æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œé‡‡ç”¨æç¤ºè¯.txtæ–‡ä»¶ä¸­çš„æç¤ºè¯ï¼Œç”Ÿæˆä¸€ä¸ª.htmlæ–‡ä»¶ã€‚
è¯¥æ™ºèƒ½ä½“ä½¿ç”¨deepseekæ¥å£ä½œä¸ºå¤§æ¨¡å‹æœåŠ¡ï¼Œapi keyåœ¨.envæ–‡ä»¶é…ç½®ä¸­ï¼Œè¯¥æ™ºèƒ½ä½“ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥æ­é…æˆ‘æç¤ºè¯.txtä¸­çš„å†…å®¹ï¼Œç”Ÿæˆç›¸å…³é…ç½®ã€‚åŒæ—¶å‚è€ƒexample.htmlä¸­çš„ä»£ç ï¼Œå°†å…¶ä¸­çš„infographicé…ç½®é¡¹æ›¿æ¢æˆä½ ç”Ÿæˆçš„é…ç½®é¡¹
</code></pre>
<ol start="3">
<li><strong>æ˜ç¡®çš„ä»»åŠ¡:</strong> å°†éœ€æ±‚è½¬åŒ–ä¸ºå…·ä½“çš„å¼€å‘æŒ‡ä»¤</li>
</ol>
<pre><code class="hljs language-text" lang="text">è¯·ä½¿ç”¨Pythonä»£ç å’ŒLangchain1.0ç‰ˆæœ¬ç”Ÿæˆæˆ‘çš„éœ€æ±‚
</code></pre>
<ol start="4">
<li><strong>ä»£ç çº¦æŸè§„èŒƒ:</strong> å› ä¸ºè¿™é‡Œçš„ä»£ç æ¯”è¾ƒç®€å•ï¼Œå±äºç©å…·ä»£ç ä¹Ÿä¸æ˜¯å®Œæ•´é¡¹ç›®ï¼Œè¿™é‡Œå°±ä¸å†™å•¦ï¼Œä½†å¤§å®¶è¦ç³»ç»Ÿå¼€å‘é¡¹ç›®è¿˜æ˜¯åº”è¯¥åŠ ä¸Šã€‚</li>
</ol>
<h3 data-id="heading-9">2.3 DeepSeekæç¤ºä¼˜åŒ–</h3>
<p>åŸå§‹æç¤ºè¯å·²ç»å…·å¤‡äº†æ‰€æœ‰è¦ç´ ï¼Œä½†å…¶è¡¨è¿°åå‘å£è¯­åŒ–ï¼Œé€»è¾‘è¿è´¯æ€§æœ‰å¾…åŠ å¼ºã€‚ç°åœ¨ç¬”è€…æ‰§è¡Œç¬¬äºŒæ­¥ï¼šä½¿ç”¨å¦ä¸€ä¸ªå¤§æ¨¡å‹ï¼ˆè¿™é‡Œé€‰ç”¨ DeepSeekï¼‰å¯¹æç¤ºè¯è¿›è¡Œä¼˜åŒ–ï¼Œä½¿å…¶æ›´ç¬¦åˆå¤§æ¨¡å‹çš„â€œé˜…è¯»ä¹ æƒ¯â€ã€‚</p>
<p><strong>åŸå§‹æç¤ºè¯:</strong></p>
<pre><code class="hljs language-text" lang="text">ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½ä½“åº”ç”¨å¼€å‘äººå‘˜ï¼Œç†Ÿç»ƒæŒæ¡ä½¿ç”¨langchain1.0 pythonè¯­è¨€å¼€å‘ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚è¯¥æ™ºèƒ½ä½“å¯ä»¥é€šè¿‡æ ¹æ®ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œé‡‡ç”¨æç¤ºè¯.txtæ–‡ä»¶ä¸­çš„æç¤ºè¯ï¼Œç”Ÿæˆä¸€ä¸ª.htmlæ–‡ä»¶ã€‚
è¯¥æ™ºèƒ½ä½“ä½¿ç”¨deepseekæ¥å£ä½œä¸ºå¤§æ¨¡å‹æœåŠ¡ï¼Œapi keyåœ¨.envæ–‡ä»¶é…ç½®ä¸­ï¼Œè¯¥æ™ºèƒ½ä½“ä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥æ­é…æˆ‘æç¤ºè¯.txtä¸­çš„å†…å®¹ï¼Œç”Ÿæˆç›¸å…³é…ç½®ã€‚åŒæ—¶å‚è€ƒexample.htmlä¸­çš„ä»£ç ï¼Œå°†å…¶ä¸­çš„infographicé…ç½®é¡¹æ›¿æ¢æˆä½ ç”Ÿæˆçš„é…ç½®é¡¹ã€‚
è¯·ä½¿ç”¨Pythonä»£ç å’ŒLangchain1.0ç‰ˆæœ¬ç”Ÿæˆæˆ‘çš„éœ€æ±‚
</code></pre>
<p><strong>DeepSeekä¼˜åŒ–åçš„ç»“æœ:</strong></p>
<pre><code class="hljs language-text" lang="text">é¡¹ç›®æ¦‚è¿°ï¼š
å¼€å‘ä¸€ä¸ªåŸºäºLangChainçš„æ™ºèƒ½ä½“åº”ç”¨ï¼Œå®ƒèƒ½å¤Ÿï¼š1. è¯»å–ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æ•°æ® 2. ç»“åˆæç¤ºè¯.txtæ–‡ä»¶ä¸­çš„æç¤ºè¯æ¨¡æ¿ 3. è°ƒç”¨DeepSeek APIç”Ÿæˆé…ç½®é¡¹ 4. è¯»å–example.htmlä¸­çš„ä»£ç ï¼Œä½¿ç”¨æ–°ç”Ÿæˆçš„é…ç½®é¡¹æ›¿æ¢æ‰example.htmlä¸­infographicçš„é…ç½®é¡¹ï¼Œå¹¶å†™å…¥æ–°çš„åä¸ºexample-result.htmlçš„æ–‡ä»¶ä¸­ã€‚
åŠŸèƒ½è¯¦ç»†éœ€æ±‚ï¼š
è¾“å…¥å¤„ç†ï¼šæ™ºèƒ½ä½“æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬æ•°æ®ä½œä¸ºå†…å®¹ç´ æ
è¯»å–æç¤ºè¯.txtæ–‡ä»¶ä½œä¸ºç³»ç»Ÿæç¤ºè¯
é…ç½®ç®¡ç†ï¼š
APIå¯†é’¥ä».envæ–‡ä»¶ä¸­è¯»å–ï¼Œå˜é‡åå»ºè®®ä¸ºDEEPSEEK_API_KEY
æ”¯æŒé…ç½®DeepSeekæ¨¡å‹å‚æ•°ï¼ˆå¦‚temperature, max_tokensç­‰ï¼‰
æ ¸å¿ƒåŠŸèƒ½ï¼š
1. å°†ç”¨æˆ·è¾“å…¥ä¸æç¤ºè¯æ¨¡æ¿æ™ºèƒ½ç»“åˆ
2. è°ƒç”¨DeepSeek APIç”Ÿæˆæ­£ç¡®çš„é…ç½®
3. ç¡®ä¿æ›¿æ¢åçš„HTMLæ–‡ä»¶å¯ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¹¶æ­£ç¡®æ˜¾ç¤º
æ–‡ä»¶æ“ä½œï¼š
è¯»å–ï¼šæç¤ºè¯.txtï¼ˆæç¤ºè¯æ¨¡æ¿ï¼‰
å†™å…¥ï¼šexample-result.htmlï¼ˆæœ€ç»ˆç”Ÿæˆçš„HTMLæ–‡ä»¶ï¼‰
é…ç½®ï¼š.envï¼ˆAPIå¯†é’¥é…ç½®ï¼‰
æ‰€æœ‰æ–‡ä»¶å‡ä¸ºutf-8ç¼–ç æ ¼å¼
æ™ºèƒ½ä½“è®¾è®¡ï¼š
1. ä½¿ç”¨LangChainçš„Agentæ¡†æ¶
2. åŒ…å«é”™è¯¯å¤„ç†æœºåˆ¶ï¼ˆAPIè°ƒç”¨å¤±è´¥ã€æ–‡ä»¶è¯»å–é”™è¯¯ç­‰ï¼‰
æä¾›æ¸…æ™°çš„æ‰§è¡ŒçŠ¶æ€åé¦ˆ
</code></pre>
<p>ä¼˜åŒ–åçš„æç¤ºè¯å±‚çº§åˆ†æ˜ã€æŒ‡ä»¤æ˜ç¡®ï¼Œæ¶ˆé™¤äº†å†—ä½™å’Œæ­§ä¹‰ã€‚æ­¤æ—¶å°†å…¶æäº¤ç»™ <strong>Trae Solo</strong>ï¼Œèƒ½å¤Ÿç¡®ä¿æŒ‡ä»¤è¢«æœ€é«˜æ•ˆã€æœ€å‡†ç¡®åœ°æ‰§è¡Œã€‚</p>
<h3 data-id="heading-10">2.4 Trae Solo è‡ªåŠ¨å¼€å‘</h3>
<p>å°†ä¼˜åŒ–åçš„æç¤ºè¯æäº¤ç»™ <strong>Trae Solo</strong>ï¼Œå®ƒä¾¿å¼€å§‹è‡ªåŠ¨è¿›è¡Œä»£ç å¼€å‘ã€‚æ•´ä¸ªè¿‡ç¨‹æµç•…ï¼Œ<strong>Trae Solo</strong> ä¾æ¬¡å®Œæˆäº†ç¯å¢ƒè®¾ç½®ã€æ–‡ä»¶è¯»å–ã€API è°ƒç”¨ã€æ¨¡æ¿æ›¿æ¢ç­‰æ ¸å¿ƒæ¨¡å—çš„ç¼–å†™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b085f6f37e28408987f5f4581ad62dfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=iZvbp7SIV17YYIGfc%2BK6vDwVC0g%3D" alt="8.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feffbf2b7edc4f1c85439b487ac8e6a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=PzDLce5D5ciNRcjAODVWN7Kkwfs%3D" alt="9.png" loading="lazy"/></p>
<p>ç¬”è€…å®¡æŸ¥ä¸€ä¸‹ç”Ÿæˆçš„Â <code>infographic_agent.py</code>Â æ ¸å¿ƒä»£ç é€»è¾‘ã€‚è™½ç„¶ Trae Solo æœ¬æ¬¡<strong>å¹¶æœªä¸¥æ ¼ä½¿ç”¨ LangChain æ¡†æ¶</strong>ï¼ˆè¿™åæ˜ äº†å½“å‰ AI ç¼–ç¨‹å·¥å…·åœ¨ç²¾å‡†éµå¾ªæ¡†æ¶æŒ‡ä»¤ä¸Šä»æœ‰æå‡ç©ºé—´ï¼‰ï¼Œä½†å®ƒç”Ÿæˆçš„ä»£ç é€»è¾‘æ¸…æ™°ã€åŠŸèƒ½å®Œæ•´ï¼š</p>
<ol>
<li><strong>åŠ è½½ç¯å¢ƒ</strong>ï¼šè¯»å–Â <code>.env</code>Â ä¸­çš„ API Keyã€‚</li>
<li><strong>è¯»å–çŸ¥è¯†</strong>ï¼šåŠ è½½Â <code>æç¤ºè¯.txt</code>Â ä¸­çš„æ¨¡æ¿ã€‚</li>
<li><strong>è·å–è¾“å…¥</strong>ï¼šæ¥æ”¶ç”¨æˆ·æè¿°æ–‡æœ¬ã€‚</li>
<li><strong>è°ƒç”¨å¤§æ¨¡å‹</strong>ï¼šæ‹¼æ¥æç¤ºè¯å’Œç”¨æˆ·è¾“å…¥ï¼Œè¯·æ±‚ DeepSeek API ç”Ÿæˆé…ç½®ã€‚</li>
<li><strong>æ›¿æ¢æ¨¡æ¿</strong>ï¼šè¯»å–Â <code>example.html</code>ï¼Œå°†å…¶ä¸­é¢„è®¾çš„é…ç½®æ›¿æ¢ä¸ºæ–°ç”Ÿæˆçš„é…ç½®ã€‚</li>
<li><strong>è¾“å‡ºç»“æœ</strong>ï¼šä¿å­˜ä¸ºæ–°çš„Â <code>example-result.html</code>Â æ–‡ä»¶ã€‚</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ... (ä»£ç å¯¼å…¥å’Œç¯å¢ƒåŠ è½½éƒ¨åˆ†)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># 1. åŠ è½½ç¯å¢ƒå˜é‡</span>
    load_dotenv()
    api_key = os.getenv(<span class="hljs-string">"DEEPSEEK_API_KEY"</span>)
    <span class="hljs-comment"># ... (æ ¡éªŒAPI Key)</span>

    <span class="hljs-comment"># 2. è¯»å–æç¤ºè¯æ¨¡æ¿</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"æç¤ºè¯.txt"</span>, <span class="hljs-string">"r"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        prompt_template = f.read()
    
    <span class="hljs-comment"># 3. è·å–ç”¨æˆ·è¾“å…¥</span>
    user_input = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ–‡æœ¬æ•°æ®ä½œä¸ºå†…å®¹ç´ æ: "</span>)
    
    <span class="hljs-comment"># 4. è°ƒç”¨DeepSeek APIç”Ÿæˆé…ç½®</span>
    headers = {<span class="hljs-string">"Authorization"</span>: <span class="hljs-string">f"Bearer <span class="hljs-subst">{api_key}</span>"</span>, <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>}
    payload = {
        <span class="hljs-string">"model"</span>: <span class="hljs-string">"deepseek-chat"</span>,
        <span class="hljs-string">"messages"</span>: [
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>, <span class="hljs-string">"content"</span>: prompt_template},
            {<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: user_input}
        ],
        <span class="hljs-string">"temperature"</span>: <span class="hljs-number">0.7</span>,
        <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">2048</span>,
        <span class="hljs-string">"response_format"</span>: {<span class="hljs-string">"type"</span>: <span class="hljs-string">"json_object"</span>} <span class="hljs-comment"># å…³é”®ï¼šè¦æ±‚è¿”å›JSON</span>
    }
    response = requests.post(<span class="hljs-string">"https://api.deepseek.com/v1/chat/completions"</span>, ...)
    config = response.json() <span class="hljs-comment"># è§£æå¤§æ¨¡å‹è¿”å›çš„é…ç½®</span>
    
    <span class="hljs-comment"># 5. è¯»å–å¹¶æ›¿æ¢HTMLæ¨¡æ¿</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"example.html"</span>, <span class="hljs-string">"r"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        html_content = f.read()
    <span class="hljs-comment"># ... (ä½¿ç”¨ç”Ÿæˆçš„configæ›¿æ¢htmlä¸­çš„Infographicé…ç½®é¡¹)</span>
    
    <span class="hljs-comment"># 6. å†™å…¥æ–°æ–‡ä»¶</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"example-result.html"</span>, <span class="hljs-string">"w"</span>, encoding=<span class="hljs-string">"utf-8"</span>) <span class="hljs-keyword">as</span> f:
        f.write(updated_html)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ“ä½œå®Œæˆï¼"</span>)
<span class="hljs-comment"># ... (ä¸»å‡½æ•°è°ƒç”¨)</span>
</code></pre>
<h3 data-id="heading-11">2.5 æµ‹è¯•ä¸æ•ˆæœå±•ç¤º</h3>
<p><strong>æµ‹è¯•æµç¨‹</strong>ï¼š</p>
<p>è¿è¡ŒÂ <code>python infographic_agent.py</code>ï¼Œå¹¶è¾“å…¥ä¸€æ®µä¸šåŠ¡æè¿°ï¼š</p>
<pre><code class="hljs language-text" lang="text">2020å¹´èšç„¦äºšå¤ªå¸‚åœºï¼Œè¥æ”¶å æ¯”60%ã€‚
2021å¹´æ‹“å±•æ¬§æ´²å¸‚åœºï¼Œå æ¯”æå‡è‡³25%ã€‚
2022å¹´è¿›å†›åŒ—ç¾ï¼Œä¸‰å¤§å¸‚åœºå½¢æˆå‡è¡¡æ ¼å±€ï¼Œåˆ†åˆ«ä¸º40%ã€30%ã€25%ã€‚2023å¹´æ–°å…´å¸‚åœºçªç ´ï¼Œæ‹‰ç¾å’Œä¸­ä¸œåˆè®¡è´¡çŒ®15%ï¼Œå…¨çƒåŒ–å¸ƒå±€åˆæ­¥å®Œæˆã€‚
</code></pre>
<p>ç¨‹åºè¿è¡Œåï¼ŒæˆåŠŸç”Ÿæˆäº†Â <code>example-result.html</code>ã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€å¾—åˆ°äº†ä¸€ä¸ªå¯è§†åŒ–å…¨çƒå¸‚åœºæ‹“å±•å†ç¨‹çš„ä¿¡æ¯å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c615501220549c2ad4762a4edad43dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=KxWNKXyFCjFYDl%2BVDVN3b4YKOXE%3D" alt="10.png" loading="lazy"/></p>
<p><strong>æ•ˆæœåˆ†æ</strong>ï¼š</p>
<p>æ™ºèƒ½ä½“æˆåŠŸç†è§£äº†æ—¶é—´åºåˆ—æ•°æ®ï¼Œå¹¶é€‰æ‹©äº†ä¸€ä¸ªåˆé€‚çš„æ—¶é—´çº¿æ¨¡æ¿è¿›è¡Œå±•ç¤ºã€‚å®ƒå°†å„å¹´ä»½çš„å¸‚åœºåˆ†å¸ƒæ•°æ®æå–å¹¶ç»“æ„åŒ–ï¼Œç”Ÿæˆäº†ä¸€ä»½åŸºæœ¬å¯ç”¨çš„ä¿¡æ¯å›¾ã€‚å½“ç„¶ï¼Œä¸å®˜æ–¹Â <a href="https://link.juejin.cn?target=https%3A%2F%2Finfographic.antv.vision%2Fai" target="_blank" title="https://infographic.antv.vision/ai" ref="nofollow noopener noreferrer">AI Infographic</a>Â çš„äº§å‡ºç›¸æ¯”ï¼Œåœ¨ç»†èŠ‚ä¼˜åŒ–ã€å›¾è¡¨ç²¾å‡†åº¦å’Œè§†è§‰ä¸°å¯Œåº¦ä¸Šè¿˜æœ‰å·®è·ï¼Œè¿™å¯èƒ½ä¸æç¤ºè¯çš„å®Œæ•´æ€§ã€æ¨¡å‹å‚æ•°è°ƒä¼˜ç­‰å› ç´ æœ‰å…³ï¼Œå€¼å¾—è¿›ä¸€æ­¥æ¢ç´¢å’Œä¼˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39afa3cd4df049acab502a09ada38bbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765926905&amp;x-signature=URwSgbbf5jYD1kw8b76yR7TiZOI%3D" alt="11.png" loading="lazy"/></p>
<h2 data-id="heading-12">ä¸‰ã€æ€»ç»“</h2>
<p>æœ¬æ–‡åˆ†äº«äº†åˆ©ç”¨AntV Infographicå¯è§†åŒ–å¼•æ“ï¼Œé€šè¿‡å£°æ˜å¼é…ç½®å¿«é€Ÿç”Ÿæˆç²¾ç¾ä¿¡æ¯å›¾ã€‚åŒæ—¶ç»“åˆTrae Soloä¸Vibe Codingæ–¹æ³•ï¼Œæ„å»ºæ™ºèƒ½ä½“å®ç°è‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨è½¬æ¢ä¸ºå›¾è¡¨ä»£ç ã€‚äº”åˆ†é’Ÿå³å¯æ­å»ºæ™ºèƒ½å›¾è¡¨ç”Ÿæˆå™¨ã€‚æƒ³è®©æ™ºèƒ½ä½“çœŸæ­£èå…¥æ—¥å¸¸ç”Ÿæ´»ï¼Œä¸å¿…ä»ä¸€å¼€å§‹å°±è¿½æ±‚å®å¤§æ„æƒ³ã€‚<strong>ä»è§£å†³ä¸€ä¸ªå…·ä½“é—®é¢˜çš„å°å·¥å…·èµ·æ­¥</strong>ï¼Œå¾€å¾€å°±æ˜¯æœ€å¥½çš„å¼€å§‹ã€‚å½“ç®€æ´çµå·§çš„å°å·¥å…·é‡ä¸Šå¤§æ¨¡å‹çš„èƒ½åŠ›ï¼Œå¸¸å¸¸èƒ½ç¢°æ’å‡ºä»¤äººæƒŠå–œçš„ç«èŠ±ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½]]></title>    <link>https://juejin.cn/post/7582267229842259968</link>    <guid>https://juejin.cn/post/7582267229842259968</guid>    <pubDate>2025-12-11T09:39:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582267229842259968" data-draft-id="7582401182933876751" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T09:39:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:39:40.000Z" title="Thu Dec 11 2025 09:39:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¤– ä¸ºä»€ä¹ˆè®¡ç®—æœºè¦ä½¿ç”¨äºŒè¿›åˆ¶ï¼Ÿâ€”â€”ä»ç®—ç›˜åˆ°æ™¶ä½“ç®¡çš„æ•°å­—é©å‘½ ğŸ’¡</h2>
<blockquote>
<p>æ¬¢è¿å¤§å®¶æ¥åˆ°æ— é™å¤§çš„åšå®¢ï¼Œä»Šå¤©è¦è®²è¿°çš„å†…å®¹æ˜¯å…³äºäºŒè¿›åˆ¶ï¼ŒäºŒè¿›åˆ¶ç›¸å¿…å¤§å®¶éƒ½ä¸€å®šä¸ä¼šé™Œç”Ÿï¼Œä½†æ˜¯å…³äºå®ƒçš„å†å²ï¼Œä½ çœŸçš„äº†è§£å—ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥ï¼Œä¸€èµ·è·Ÿéšæˆ‘çš„è„šæ­¥ï¼Œå»çœ‹çœ‹å§</p>
</blockquote>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>1946å¹´ï¼Œå½“ä¸–ç•Œä¸Šç¬¬ä¸€å°ç”µå­è®¡ç®—æœºENIACæ¨ªç©ºå‡ºä¸–æ—¶ï¼Œå·¥ç¨‹å¸ˆä»¬å›´ååœ¨ä¸€èµ·ï¼ŒæŠ“è€³æŒ è…®åœ°è®¨è®ºï¼š</p>
<blockquote>
<p>"å’±ä»¬è¿™å°'ç”µå­å¤§è„‘'ï¼Œåˆ°åº•è¦ç”¨ä»€ä¹ˆè¿›åˆ¶æ¥ç®—ä¸œè¥¿ï¼Ÿ"</p>
</blockquote>
<p>æœ‰äººè¯´åè¿›åˆ¶ï¼Œæœ‰äººè¯´å…«è¿›åˆ¶ï¼Œè¿˜æœ‰äººè¯´åå…­è¿›åˆ¶â€¦â€¦æœ€åï¼Œä¸€ä½åå«å†¯Â·è¯ºä¾æ›¼çš„å¤§ä½¬æ‹æ¿ï¼š<strong>äºŒè¿›åˆ¶ï¼</strong> ğŸ¯</p>
<p>è¿™ä¸ªçœ‹èµ·æ¥åƒ"åªä¼šæ•°0å’Œ1çš„ç¬¨è›‹"çš„æ•°å­—ç³»ç»Ÿï¼Œå±…ç„¶ç»Ÿæ²»äº†æ•´ä¸ªæ•°å­—ä¸–ç•Œè‡³ä»Šã€‚ğŸ“±ä»ä½ æ‰‹é‡Œçš„æ™ºèƒ½æ‰‹æœºï¼Œåˆ°ğŸš€é£å‘ç«æ˜Ÿçš„æ¢æµ‹å™¨ï¼Œç”šè‡³è¿ä½ å®¶çš„æ™ºèƒ½é©¬æ¡¶ğŸš½ï¼Œéƒ½åœ¨å·å·ç”¨äºŒè¿›åˆ¶ç®—ç€ä»€ä¹ˆã€‚</p>
<p>å°±åƒäººç±»å¤©ç”Ÿä¼šç”¨åè¿›åˆ¶ï¼ˆè°è®©å’±ä»¬æœ‰10æ ¹æ‰‹æŒ‡å¤´å‘¢ğŸ¤²ï¼‰ï¼ŒäºŒè¿›åˆ¶å·²ç»æˆäº†æœºå™¨ä»¬çš„"æ¯è¯­"â€”â€”è™½ç„¶å¬èµ·æ¥ç¬¨ç¬¨çš„ï¼Œä½†æ¶ä¸ä½å¥½ç”¨å•Šï¼</p>
<h3 data-id="heading-2">ğŸ§® ä»ç®—ç›˜åˆ°å·®åˆ†æœºï¼šåè¿›åˆ¶çš„"é»„é‡‘å²æœˆ"</h3>
<p>äººç±»ç”¨åè¿›åˆ¶çš„å†å²ï¼Œæ¯”ä½ çˆ·çˆ·çš„çˆ·çˆ·çš„çˆ·çˆ·è¿˜è¦ä¹…ã€‚å…¬å…ƒå‰3000å¹´çš„å¤åŸƒåŠäººï¼Œå°±å·²ç»å­¦ä¼šç”¨æ‰‹æŒ‡è®¡æ•°äº†â€”â€”10æ ¹æ‰‹æŒ‡åˆšå¥½å¯¹åº”0-9ï¼Œå®Œç¾ï¼</p>
<p>è¿˜è®°å¾—å°åŒºé‡Œé‚£ä½æ€»åœ¨æ ‘è«ä¸‹æ‹¨ç®—ç›˜çš„å¼ ä¼šè®¡å—ï¼ŸğŸ§“ä»–çš„ç®—ç›˜å°±æ˜¯åè¿›åˆ¶çš„ç»å…¸ä»£è¨€äººï¼šæ¯ä¸€æ¡£ä»£è¡¨ä¸€ä¸ªæ•°ä½ï¼Œä»å³åˆ°å·¦ä¸ªä½ã€åä½ã€ç™¾ä½â€¦â€¦å™¼é‡Œå•ªå•¦æ‹¨å‡ ä¸‹ï¼Œè´¦å°±ç®—æ¸…äº†ã€‚è¿™ç©æ„å„¿ç›´è§‚å¾—å°±åƒç”¨ç­·å­åƒé¥­ï¼Œäººç±»ä¸€å­¦å°±ä¼šã€‚</p>
<blockquote>
<p><em>ç®—ç›˜ï¼šäººç±»åè¿›åˆ¶è®¡æ•°çš„"ä¼ å®¶å®"</em></p>
</blockquote>
<p>19ä¸–çºªï¼Œè‹±å›½æ•°å­¦å®¶å·´è´å¥‡çªå‘å¥‡æƒ³ï¼š"æ—¢ç„¶äººç±»ä¼šç®—é”™è´¦ï¼Œé‚£ä¸å¦‚é€ å°æœºå™¨æ¥ç®—ï¼Ÿ"äºæ˜¯ä»–å¼€å§‹æ£é¼“<strong>å·®åˆ†æœº</strong>â€”â€”è¿™å°æœºå™¨é‡è¾¾15å¨ï¼Œæœ‰25000ä¸ªé›¶ä»¶ï¼Œæ¯”ä¸€è¾†å¦å…‹è¿˜å¤æ‚ï¼</p>
<p>ä½†æç¬‘çš„æ˜¯ï¼Œè¿™å°"é«˜ç§‘æŠ€æœºå™¨"å±…ç„¶è¿˜åœ¨ç”¨åè¿›åˆ¶ï¼æƒ³è±¡ä¸€ä¸‹ï¼šç”¨10ä¸ªä¸åŒçš„æœºæ¢°é›¶ä»¶çŠ¶æ€æ¥è¡¨ç¤º0-9ï¼Œå°±åƒç”¨10ç§ä¸åŒé¢œè‰²çš„ç¯æ³¡ğŸ’¡æ¥æ˜¾ç¤ºæ•°å­—â€”â€”ä¸ä»…è´µå¾—ç¦»è°±ï¼Œè¿˜åŠ¨ä¸åŠ¨å°±"ç½¢å·¥"ã€‚å°±è¿™ç©æ„å„¿ï¼Œè¦æ˜¯çœŸé€ å‡ºæ¥ï¼Œç»´ä¿®å¸ˆå‚…å¾—å“­æ™•åœ¨è½¦é—´é‡ŒğŸ˜‚</p>
<h3 data-id="heading-3">ğŸ’¡ ç”µå­ç®¡é©å‘½ï¼šäºŒè¿›åˆ¶çš„"å±Œä¸é€†è¢­"</h3>
<p>20ä¸–çºªåˆï¼Œç”µå­ç®¡çš„å‘æ˜å°±åƒç»™è®¡ç®—æœºç•Œæ‰”äº†é¢—åŸå­å¼¹ğŸ’£ï¼ç”µå­ç®¡è¿™ç©æ„å„¿ï¼Œç®€å•åˆ°ç¦»è°±ï¼šé€šç”µå°±äº®ï¼ˆä»£è¡¨1ï¼‰ï¼Œæ–­ç”µå°±ç­ï¼ˆä»£è¡¨0ï¼‰ã€‚è¿™ä¸å°±æ˜¯å¤©ç”Ÿçš„äºŒè¿›åˆ¶é€‰æ‰‹å—ï¼Ÿ</p>
<p>1937å¹´ï¼Œä¸€ä¸ªå«å…‹åŠ³å¾·Â·é¦™å†œçš„"å¤©æ‰å®…ç”·"å‘è¡¨äº†ä¸€ç¯‡è®ºæ–‡ï¼ŒæŠŠå¸ƒå°”ä»£æ•°å’Œç”µå­ç”µè·¯æ‰¯åˆ°äº†ä¸€èµ·ã€‚è¿™ç¯‡è®ºæ–‡æœ‰å¤šç‰›ï¼Ÿå°±åƒç»™äºŒè¿›åˆ¶é¢å‘äº†"è®¡ç®—æœºèº«ä»½è¯"â€”â€”ä»æ­¤ä»¥åï¼ŒäºŒè¿›åˆ¶æ­£å¼"å‡ºé“"ï¼</p>
<blockquote>
<p><em>ç”µå­ç®¡ï¼šäºŒè¿›åˆ¶çš„"ç¬¬ä¸€ä¸ªä»£è¨€äºº"</em></p>
</blockquote>
<p>1941å¹´ï¼Œå¾·å›½å·¥ç¨‹å¸ˆæ¥šæ³½é€ äº†ç¬¬ä¸€å°äºŒè¿›åˆ¶è®¡ç®—æœºZ3ã€‚è¿™å°æœºå™¨ç”¨äº†2600ä¸ªç»§ç”µå™¨ï¼Œè¿ç®—é€Ÿåº¦æ¯ç§’3-4æ¬¡â€”â€”è™½ç„¶æ…¢å¾—åƒèœ—ç‰›ğŸŒï¼Œä½†æ¶ä¸ä½å®ƒç¨³å®šå•Šï¼</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒåŒæ—¶æœŸçš„åè¿›åˆ¶è®¡ç®—æœºENIACå°±æƒ¨äº†ï¼šç”¨äº†18000ä¸ªç”µå­ç®¡ï¼Œè·Ÿä¸ª"ç”µè€è™"ä¼¼çš„ï¼Œæ¯å¤©è‡³å°‘çƒ§åå‡ ä¸ªç®¡å­ã€‚æƒ³è±¡ä¸€ä¸‹ï¼šä½ æ­£åœ¨æ‰“æ¸¸æˆï¼Œçªç„¶ç”µè„‘"å•ª"åœ°ä¸€å£°é»‘å±ï¼Œä½ å¾—æ‹†å¼€æœºç®±ï¼Œåƒæ‰¾è¤ç«è™«ä¸€æ ·æ‰¾å‡ºçƒ§åçš„ç”µå­ç®¡â€”â€”è¿™æ—¥å­æ²¡æ³•è¿‡äº†ï¼ğŸ˜±</p>
<h3 data-id="heading-4">ğŸ§¬ æ™¶ä½“ç®¡æ—¶ä»£ï¼šäºŒè¿›åˆ¶çš„"ç»Ÿæ²»ä¹‹è·¯"</h3>
<p>1947å¹´ï¼Œæ™¶ä½“ç®¡æ¨ªç©ºå‡ºä¸–ï¼è¿™ç©æ„å„¿æ¯”ç”µå­ç®¡å°100å€ï¼Œçœç”µ1000å€ï¼Œè¿˜å¯é 100å€â€”â€”ç®€ç›´æ˜¯"ç”µå­å…ƒä»¶ä¸­çš„æˆ˜æ–—æœº"âœˆï¸</p>
<p>è¿™æ—¶å€™ï¼ŒäºŒè¿›åˆ¶çš„ä¼˜åŠ¿å½»åº•çˆ†å‘äº†ï¼å’±ä»¬æ¥ç®—ç¬”è´¦ï¼š</p>
<ul>
<li>å¦‚æœç”¨åè¿›åˆ¶ï¼Œä¸€ä¸ªæ•°ä½éœ€è¦10ä¸ªæ™¶ä½“ç®¡ï¼ˆå¯¹åº”0-9ï¼‰</li>
<li>å¦‚æœç”¨äºŒè¿›åˆ¶ï¼Œä¸€ä¸ªæ•°ä½åªéœ€è¦1ä¸ªæ™¶ä½“ç®¡ï¼ˆå¯¹åº”0æˆ–1ï¼‰</li>
</ul>
<p>æ¯”å¦‚è¡¨ç¤ºæ•°å­—"9"ï¼š</p>
<ul>
<li>åè¿›åˆ¶ï¼šéœ€è¦1ä¸ª"åä½"æ™¶ä½“ç®¡ï¼ˆè¡¨ç¤º0ï¼‰ + 1ä¸ª"ä¸ªä½"æ™¶ä½“ç®¡ï¼ˆè¡¨ç¤º9ï¼‰= æ€»å…±20ä¸ªæ™¶ä½“ç®¡ï¼</li>
<li>äºŒè¿›åˆ¶ï¼šåªéœ€è¦4ä¸ªæ™¶ä½“ç®¡ï¼ˆ1001ï¼‰= æ€»å…±4ä¸ªæ™¶ä½“ç®¡ï¼</li>
</ul>
<p>è¿™å·®è·ï¼Œå°±åƒåé«˜é“å’Œéª‘è‡ªè¡Œè½¦çš„åŒºåˆ«ğŸš„</p>
<p>1971å¹´ï¼Œè‹±ç‰¹å°”æ¨å‡ºäº†ä¸–ç•Œä¸Šç¬¬ä¸€é¢—CPUâ€”â€”4004ã€‚è¿™é¢—èŠ¯ç‰‡åªæœ‰2300ä¸ªæ™¶ä½“ç®¡ï¼Œå´èƒ½å®Œæˆå¤æ‚è®¡ç®—ã€‚è¦æ˜¯ç”¨åè¿›åˆ¶è®¾è®¡ï¼Ÿä¼°è®¡å¾—æœ‰ä¸€æ ‹æ¥¼é‚£ä¹ˆå¤§ï¼ğŸ¢</p>
<h3 data-id="heading-5">ğŸ”§ äºŒè¿›åˆ¶çš„"åˆ¶èƒœæ³•å®"ï¼šç®€å•å°±æ˜¯ç‹é“</h3>
<p>äºŒè¿›åˆ¶ä¸ºå•¥èƒ½åŠæ‰“åè¿›åˆ¶ï¼Ÿå’±ä»¬æ¥æ‰’ä¸€æ‰’å®ƒçš„"ä¸‰å¤§ä¼˜åŠ¿"ï¼š</p>
<h4 data-id="heading-6">1. ğŸ›ï¸ å¼€å…³çŠ¶æ€ï¼šæœ€é è°±çš„"ç‰©ç†è¯­è¨€"</h4>
<p>äºŒè¿›åˆ¶åªæœ‰ä¸¤ä¸ªçŠ¶æ€ï¼šé€šï¼ˆ1ï¼‰å’Œæ–­ï¼ˆ0ï¼‰ã€‚è¿™å°±åƒä½ å®¶çš„ç”µç¯å¼€å…³â€”â€”è¦ä¹ˆå¼€ï¼Œè¦ä¹ˆå…³ï¼Œå¾ˆå°‘åï¼›ä½†è¦æ˜¯ç»™ä½ æ•´ä¸ª10æ¡£è°ƒå…‰å¼€å…³ï¼Ÿä¸å‡ºä¸€ä¸ªæœˆå°±å¾—åç»™ä½ çœ‹ï¼</p>
<p>ç”µå­å…ƒä»¶æœ€å–œæ¬¢è¿™ç§"éé»‘å³ç™½"çš„çŠ¶æ€ï¼Œå°±åƒçŒ«å’ªæœ€å–œæ¬¢åƒé±¼ğŸ±â€”â€”ç®€å•ç›´æ¥ï¼Œç»ä¸å¢¨è¿¹ã€‚</p>
<h4 data-id="heading-7">2. ğŸ“¡ æŠ—å¹²æ‰°æ€§ï¼š"å™ªéŸ³ä¸­çš„æ¸…æµ"</h4>
<p>ç”µå­ç”µè·¯é‡Œï¼Œå™ªéŸ³å°±åƒåœ°é“é‡Œçš„å¤§å¦ˆèŠå¤©â€”â€”æ— å¤„ä¸åœ¨ã€‚åè¿›åˆ¶ç”µè·¯å¾—åŒºåˆ†10ä¸ªä¸åŒçš„ç”µå‹ç­‰çº§ï¼Œå°±åƒåœ¨å˜ˆæ‚çš„åœ°é“é‡Œå¬æ¸…æ¥š10ä¸ªäººè¯´è¯ï¼›è€ŒäºŒè¿›åˆ¶åªéœ€è¦åŒºåˆ†"é«˜"å’Œ"ä½"ï¼Œå°±åƒåœ¨åœ°é“é‡Œå¬æ¸…æ¥šæœ‰äººå–Š"åˆ°ç«™äº†"ï¼</p>
<p>è¿™å·®è·ï¼Œå°±åƒç”¨è€³æœºå¬éŸ³ä¹å’Œåœ¨èœå¸‚åœºå¬éŸ³ä¹çš„åŒºåˆ«ğŸ§</p>
<h4 data-id="heading-8">3. ğŸ”Œ ç”µè·¯ç®€åŒ–ï¼š"æ›´å°‘å…ƒä»¶ï¼Œæ›´å¤šå¿«ä¹"</h4>
<p>äºŒè¿›åˆ¶ç”µè·¯ç®€å•å¾—è®©å·¥ç¨‹å¸ˆä»¬ç¬‘å‡ºäº†å£°ğŸ˜‚ï¼æ¯”å¦‚ä¸€ä¸ªäºŒè¿›åˆ¶åŠ æ³•å™¨ï¼Œåªéœ€è¦å‡ ä¸ªæ™¶ä½“ç®¡ï¼›è€Œä¸€ä¸ªåè¿›åˆ¶åŠ æ³•å™¨ï¼Ÿå¾—ç”¨å‡ åä¸ªæ™¶ä½“ç®¡ï¼Œè¿çº¿è¿åˆ°ä½ æ€€ç–‘äººç”Ÿã€‚</p>
<p>æœ‰æ•°æ®ä¸ºè¯ï¼šäºŒè¿›åˆ¶ç”µè·¯çš„æ•…éšœç‡æ¯”åè¿›åˆ¶ä½78%ï¼è¿™å¯¹äºéœ€è¦7Ã—24å°æ—¶å·¥ä½œçš„æœåŠ¡å™¨æ¥è¯´ï¼Œç®€ç›´æ˜¯"æ•‘å‘½æ©äºº"ğŸ™</p>
<h3 data-id="heading-9">ğŸ¤² vs ğŸ¤–ï¼šäººç±»å’Œæœºå™¨çš„"æ€ç»´ç¢°æ’"</h3>
<p>äººç±»å’Œæœºå™¨ï¼Œå°±åƒæ¥è‡ªä¸¤ä¸ªä¸åŒæ˜Ÿçƒçš„ç”Ÿç‰©â€”â€”ä¸€ä¸ªå¤©ç”Ÿä¼šç”¨åè¿›åˆ¶ï¼Œä¸€ä¸ªå¤©ç”Ÿä¼šç”¨äºŒè¿›åˆ¶ã€‚å’±ä»¬æ¥åšä¸ªè¶£å‘³PKï¼š</p>








































<table><thead><tr><th>ç‰¹æ€§</th><th>äººç±»ï¼ˆåè¿›åˆ¶ï¼‰</th><th>æœºå™¨ï¼ˆäºŒè¿›åˆ¶ï¼‰</th></tr></thead><tbody><tr><td>å­¦ä¹ éš¾åº¦</td><td>âœ… ç®€å•ï¼ˆå¤©ç”Ÿä¼šæ•°æ‰‹æŒ‡ï¼‰</td><td>âŒ å¤æ‚ï¼ˆå¾—ä¸“é—¨å­¦ï¼‰</td></tr><tr><td>ç‰©ç†å®ç°</td><td>âŒ å¤æ‚ï¼ˆ10ä¸ªçŠ¶æ€ï¼‰</td><td>âœ… ç®€å•ï¼ˆ2ä¸ªçŠ¶æ€ï¼‰</td></tr><tr><td>è¿ç®—é€Ÿåº¦</td><td>ğŸŒ æ…¢ï¼ˆæ¯ç§’å‡ æ¬¡ï¼‰</td><td>ğŸš€ å¿«ï¼ˆæ¯ç§’æ•°åäº¿æ¬¡ï¼‰</td></tr><tr><td>å‡ºé”™æ¦‚ç‡</td><td>âœ… ä½ï¼ˆé”™äº†èƒ½çœ‹å‡ºæ¥ï¼‰</td><td>âŒ é«˜ï¼ˆä¸€ä¸ªæ¯”ç‰¹é”™äº†å°±å´©ï¼‰</td></tr><tr><td>æ²Ÿé€šæ–¹å¼</td><td>ğŸ’¬ è¯­è¨€</td><td>0ï¸âƒ£1ï¸âƒ£ ä»£ç </td></tr><tr><td>æœ€çˆ±åƒçš„</td><td>ğŸ— ç‚¸é¸¡</td><td>ğŸ”‹ ç”µ</td></tr></tbody></table>
<p>è™½ç„¶äºŒè¿›åˆ¶å¯¹äººç±»æ¥è¯´æœ‰ç‚¹"åäººç±»"ï¼Œä½†å¯¹æœºå™¨æ¥è¯´ï¼Œè¿™å°±æ˜¯"å®Œç¾è¯­è¨€"â€”â€”å°±åƒé±¼åœ¨æ°´é‡Œæ¸¸ğŸŸï¼Œé¸Ÿåœ¨å¤©ä¸Šé£ğŸ¦ï¼Œæœºå™¨ç”¨äºŒè¿›åˆ¶ç®—å¾—é£èµ·ï¼</p>
<h3 data-id="heading-10">ğŸ¨ ä»£ç å®ä¾‹ï¼šäºŒè¿›åˆ¶åˆ°åº•é•¿å•¥æ ·ï¼Ÿ</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œå’±ä»¬æ¥çœ‹çœ‹äºŒè¿›åˆ¶åœ¨ä»£ç é‡Œçš„"çœŸé¢ç›®"ï¼</p>
<h4 data-id="heading-11">1. Pythonä¸­çš„äºŒè¿›åˆ¶</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</span>
num = <span class="hljs-number">42</span>
bin_num = <span class="hljs-built_in">bin</span>(num)  <span class="hljs-comment"># è¾“å‡ºï¼š0b101010</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åè¿›åˆ¶42çš„äºŒè¿›åˆ¶æ˜¯ï¼š<span class="hljs-subst">{bin_num}</span>"</span>)

<span class="hljs-comment"># äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</span>
bin_str = <span class="hljs-string">"101010"</span>
dec_num = <span class="hljs-built_in">int</span>(bin_str, <span class="hljs-number">2</span>)  <span class="hljs-comment"># è¾“å‡ºï¼š42</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"äºŒè¿›åˆ¶101010çš„åè¿›åˆ¶æ˜¯ï¼š<span class="hljs-subst">{dec_num}</span>"</span>)

<span class="hljs-comment"># äºŒè¿›åˆ¶è¿ç®—ï¼ˆä¸ã€æˆ–ã€éï¼‰</span>
a = <span class="hljs-number">0b1010</span>  <span class="hljs-comment"># åè¿›åˆ¶10</span>
b = <span class="hljs-number">0b1100</span>  <span class="hljs-comment"># åè¿›åˆ¶12</span>

and_result = a &amp; b  <span class="hljs-comment"># æŒ‰ä½ä¸ï¼š0b1000ï¼ˆåè¿›åˆ¶8ï¼‰</span>
or_result = a | b   <span class="hljs-comment"># æŒ‰ä½æˆ–ï¼š0b1110ï¼ˆåè¿›åˆ¶14ï¼‰</span>
not_result = ~a     <span class="hljs-comment"># æŒ‰ä½éï¼š-11ï¼ˆè¡¥ç è¡¨ç¤ºï¼‰</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 &amp; 12 = <span class="hljs-subst">{and_result}</span> (äºŒè¿›åˆ¶ï¼š<span class="hljs-subst">{<span class="hljs-built_in">bin</span>(and_result)}</span>)"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 | 12 = <span class="hljs-subst">{or_result}</span> (äºŒè¿›åˆ¶ï¼š<span class="hljs-subst">{<span class="hljs-built_in">bin</span>(or_result)}</span>)"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"~10 = <span class="hljs-subst">{not_result}</span> (äºŒè¿›åˆ¶ï¼š<span class="hljs-subst">{<span class="hljs-built_in">bin</span>(not_result)}</span>)"</span>)
</code></pre>
<h4 data-id="heading-12">2. äºŒè¿›åˆ¶åŠ æ³•æ¼”ç¤º</h4>
<pre><code class="hljs language-ini" lang="ini">åè¿›åˆ¶ï¼š  5 + <span class="hljs-attr">3</span> = <span class="hljs-number">8</span>
äºŒè¿›åˆ¶ï¼š101 + <span class="hljs-attr">011</span> = <span class="hljs-number">1000</span>

  101  (5)
+ 011  (3)
------
 1000  (8)
</code></pre>
<p>çœ‹åˆ°æ²¡ï¼ŸäºŒè¿›åˆ¶åŠ æ³•å…¶å®å’Œåè¿›åˆ¶ä¸€æ ·ï¼Œå°±æ˜¯"é€¢2è¿›1"â€”â€”ç®€å•å¾—åƒåœ¨å¹¼å„¿å›­å­¦æ•°æ•°ï¼</p>
<h3 data-id="heading-13">ğŸ§® äºŒè¿›åˆ¶å°æµ‹éªŒï¼šä½ èƒ½ç­”å¯¹å—ï¼Ÿ</h3>
<p>å’±ä»¬æ¥ç©ä¸ªå°æ¸¸æˆï¼Œçœ‹çœ‹ä½ å¯¹äºŒè¿›åˆ¶äº†è§£å¤šå°‘ï¼š</p>























































<table><thead><tr><th>åè¿›åˆ¶</th><th>äºŒè¿›åˆ¶</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>âœ…/âŒ</td></tr><tr><td>1</td><td>1</td><td>âœ…/âŒ</td></tr><tr><td>2</td><td>10</td><td>âœ…/âŒ</td></tr><tr><td>3</td><td>11</td><td>âœ…/âŒ</td></tr><tr><td>4</td><td>100</td><td>âœ…/âŒ</td></tr><tr><td>5</td><td>101</td><td>âœ…/âŒ</td></tr><tr><td>6</td><td>110</td><td>âœ…/âŒ</td></tr><tr><td>7</td><td>111</td><td>âœ…/âŒ</td></tr><tr><td>8</td><td>1000</td><td>âœ…/âŒ</td></tr></tbody></table>
<p>å·å·å‘Šè¯‰ä½ ï¼šå‰8ä¸ªè‡ªç„¶æ•°çš„äºŒè¿›åˆ¶ï¼Œå…¶å®å°±æ˜¯"0,1,10,11,100,101,110,111"â€”â€”æ˜¯ä¸æ˜¯å¾ˆæœ‰è§„å¾‹ï¼ŸğŸ¤”</p>
<h3 data-id="heading-14">ğŸ”® æœªæ¥ï¼šäºŒè¿›åˆ¶ä¼šè¢«"æ·˜æ±°"å—ï¼Ÿ</h3>
<p>éšç€é‡å­è®¡ç®—çš„å…´èµ·ï¼Œæœ‰äººå¼€å§‹å”±è¡°äºŒè¿›åˆ¶ï¼š"é‡å­æ¯”ç‰¹èƒ½åŒæ—¶è¡¨ç¤º0å’Œ1ï¼ŒäºŒè¿›åˆ¶è¦å®Œäº†ï¼"âš›ï¸</p>
<p>2019å¹´ï¼Œè°·æ­Œå®£å¸ƒå®ç°äº†"é‡å­éœ¸æƒ"â€”â€”ç”¨é‡å­è®¡ç®—æœºåœ¨200ç§’å†…å®Œæˆäº†ä¼ ç»Ÿè®¡ç®—æœºéœ€è¦10000å¹´çš„è®¡ç®—ã€‚è¿™å°±åƒä»é©¬è½¦ç›´æ¥è·³åˆ°äº†ç«ç®­ğŸš€ï¼Œå¬èµ·æ¥è¶…å‰å®³ï¼</p>
<p>ä½†åˆ«æ‹…å¿ƒï¼ŒäºŒè¿›åˆ¶è¿˜èƒ½"æ´»"å¾ˆä¹…ã€‚æ¯•ç«Ÿå’±ä»¬çš„æ•´ä¸ªæ•°å­—ä¸–ç•Œéƒ½æ˜¯ç”¨äºŒè¿›åˆ¶å»ºèµ·æ¥çš„ï¼šç¼–ç¨‹è¯­è¨€ã€æ“ä½œç³»ç»Ÿã€ç¡¬ä»¶è®¾è®¡â€¦â€¦å°±åƒè™½ç„¶æœ‰äº†é£æœºï¼Œä½†å’±ä»¬è¿˜æ˜¯å¾—èµ°è·¯ä¸€æ ·â€”â€”äºŒè¿›åˆ¶è¿™ä¸ª"è€å¤è‘£"ï¼ŒçŸ­æœŸå†…è¿˜å¾—ç»§ç»­å‘å…‰å‘çƒ­âœ¨</p>
<h3 data-id="heading-15">ğŸ¯ ç»“è¯­ï¼šç®€å•å°±æ˜¯æœ€å¼ºå¤§çš„åŠ›é‡</h3>
<p>è®¡ç®—æœºé€‰æ‹©äºŒè¿›åˆ¶ï¼Œä¸æ˜¯å› ä¸ºå®ƒèªæ˜ï¼Œè€Œæ˜¯å› ä¸ºå®ƒ<strong>ç®€å•</strong>ã€‚è¿™ç§"ä»¥ç®€é©­ç¹"çš„æ™ºæ…§ï¼Œè´¯ç©¿äº†æ•´ä¸ªè®¡ç®—æœºå‘å±•çš„å†å²ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ åˆ·ç€æ‰‹æœºğŸ“±ï¼Œçœ‹ç€è§†é¢‘ï¼Œæˆ–è€…ç©ç€æ¸¸æˆæ—¶ï¼Œä¸å¦¨æƒ³ä¸€æƒ³ï¼šåœ¨ä½ çœ‹ä¸åˆ°çš„åœ°æ–¹ï¼Œæ— æ•°ä¸ªæ™¶ä½“ç®¡æ­£åœ¨ä»¥æ¯ç§’æ•°åäº¿æ¬¡çš„é€Ÿåº¦å¼€å…³â€”â€”ç”¨æœ€ç®€å•çš„0å’Œ1ï¼Œæ„å»ºå‡ºäº†æ•´ä¸ªå¤æ‚çš„æ•°å­—ä¸–ç•Œã€‚</p>
<p>å°±åƒä¹é«˜ç§¯æœ¨ğŸ§©ï¼Œè™½ç„¶åªæœ‰å‡ ç§åŸºæœ¬å½¢çŠ¶ï¼Œå´èƒ½æ­å‡ºæ— é™å¯èƒ½ï¼›äºŒè¿›åˆ¶è™½ç„¶åªæœ‰0å’Œ1ï¼Œå´èƒ½åˆ›é€ å‡ºæ•´ä¸ªæ•°å­—å®‡å®™ğŸŒŒ</p>
<p>æ‰€ä»¥å•Šï¼Œæœ‰æ—¶å€™åˆ«æŠŠäº‹æƒ…æƒ³å¾—å¤ªå¤æ‚â€”â€”ç®€å•ï¼Œå¾€å¾€æ˜¯æœ€å¼ºå¤§çš„é€‰æ‹©ï¼</p>
<hr/>
<h3 data-id="heading-16">ğŸ’¬ äº’åŠ¨æ—¶é—´ï¼</h3>
<ol>
<li>ä½ è§‰å¾—æœªæ¥è®¡ç®—æœºè¿˜ä¼šç”¨äºŒè¿›åˆ¶å—ï¼Ÿé‡å­è®¡ç®—ä¼šä¸ä¼šå–ä»£å®ƒï¼Ÿ</li>
<li>ä½ è§è¿‡æœ€"åäººç±»"çš„äºŒè¿›åˆ¶åº”ç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>è¦æ˜¯ç»™ä½ 10æ ¹æ‰‹æŒ‡ï¼Œä½ ä¼šä¸ä¼šå‘æ˜å‡ºåè¿›åˆ¶ä»¥å¤–çš„è®¡æ•°æ–¹å¼ï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦]]></title>    <link>https://juejin.cn/post/7581870491762671668</link>    <guid>https://juejin.cn/post/7581870491762671668</guid>    <pubDate>2025-12-10T02:51:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581870491762671668" data-draft-id="7576532425761865743" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2025-12-10T02:51:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T02:51:59.000Z" title="Wed Dec 10 2025 02:51:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#5f6368;background-image:linear-gradient(90deg,rgba(240,191,213,.1) 3%,transparent 0),linear-gradient(1turn,rgba(240,191,213,.1) 3%,transparent 0);background-size:20px 20px;background-position:50%;letter-spacing:1px;word-spacing:1px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-left:50px;padding-bottom:5px;color:#5f6368}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{position:absolute;left:0;display:block;content:""}.markdown-body h1{font-size:32px;margin-bottom:5px}.markdown-body h1:before{top:0;content:"ğŸ¦„";font-size:32px}.markdown-body h2{padding-bottom:24px;border-bottom:1px solid #ececec}.markdown-body h2:before{top:0;left:8px;content:"ğŸ³";font-size:24px}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{top:-2px;left:8px;content:"ğŸ„";font-size:20px}.markdown-body h4{font-size:16px}.markdown-body h4:before{top:-2px;left:8px;content:"ğŸ¦¥";font-size:18px}.markdown-body h5{font-size:14px}.markdown-body h5:before{top:-2px;left:9px;content:"ğŸ¦©";font-size:16px}.markdown-body h6{font-size:12px;margin-top:5px}.markdown-body h6:before{top:-1px;left:10px;content:"ğŸ§";font-size:14px}.markdown-body p{line-height:1.9;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid rgba(253,121,168,.5);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#a6accd;background:#292d3e;border-radius:8px}.markdown-body a{text-decoration:none;color:#fd79a8;border-bottom:1px solid #fd79a8;padding:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(253,121,168,.1);color:#ee69a9}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body th{color:#fd79a8}.markdown-body th,.markdown-body tr:hover{background:rgba(253,121,168,.1)}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;color:#666;padding:23px;margin:22px 0;border-left:4px solid #ee69a9;background-color:rgba(253,121,168,.1)}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;display:block;font-size:27px;color:#fd79a8;opacity:.8}.markdown-body blockquote:before{left:10px;top:0;content:"â"}.markdown-body blockquote:after{right:10px;bottom:0;content:"â"}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body strong{position:relative;color:#fd79a8}.markdown-body strong:before{content:"Â· "}.markdown-body strong:after{content:" Â·"}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#fd79a8}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ee69a9}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45ccff6af8264a94b405eb6256e92583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=A3luuQF1pk0FqsnwK7gsFyqQ%2BnY%3D" alt="0.png" loading="lazy"/></p>
<p>å®æ—¶çš„ç”¨æˆ·è¾“å…¥ã€å¤šä¸ªç½‘ç»œè¯·æ±‚çš„å“åº”ï¼Œå†åŠ ä¸Šæ•°æ®åº“çš„é¢‘ç¹æ›´æ–°ï¼Œå¾ˆå®¹æ˜“è®©ä½ çš„ä»£ç å˜å¾—æ··ä¹±ä¸å ªã€‚è€Œè¿™ï¼Œæ­£æ˜¯ Kotlin <code>Flow</code> è¦å¸®ä½ è§£å†³çš„é—®é¢˜ã€‚</p>
<p>ä½œä¸ºåŸºäºåç¨‹æ„å»ºçš„å“åº”å¼æµ APIï¼ŒKotlin <code>Flow</code> è®©ä½ å¯ä»¥ç”¨å£°æ˜å¼çš„æ–¹å¼ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚ä½†è¦æƒ³çœŸæ­£å‘æŒ¥å®ƒçš„å¼ºå¤§èƒ½åŠ›ï¼Œå…³é”®åœ¨äºç†Ÿç»ƒæŒæ¡å„ç§æ“ä½œç¬¦ã€‚</p>
<p>æœ¬æŒ‡å—å°±æ˜¯ä¸ºä½ é‡èº«æ‰“é€ çš„é€ŸæŸ¥æ‰‹å†Œâ€”â€”èšç„¦æœ€æ ¸å¿ƒçš„æ“ä½œç¬¦ï¼Œæ¸…æ™°è¯´æ˜å®ƒä»¬çš„é€‚ç”¨åœºæ™¯å’Œä½¿ç”¨æ–¹æ³•ï¼ŒåŠ©ä½ é«˜æ•ˆé©¾é©­ Kotlin <code>Flow</code>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€å¯¹ä¸€è½¬æ¢</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa9d45c2173c472786e17da65c24b33e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=SVd%2BnDSbrk2I1VP5MasvDPlk9I0%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-1">map</h3>
<p>å°† <code>Flow</code> ä¸­å‘å‡ºçš„æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºæ–°å…ƒç´ ï¼Œå®ç°ä¸€å¯¹ä¸€æ˜ å°„ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    flowOf(<span class="hljs-string">"Kotlin"</span>, <span class="hljs-string">"Flow"</span>)
        .map { <span class="hljs-string">"Length of '<span class="hljs-variable">$it</span>' is <span class="hljs-subst">${it.length}</span>"</span> }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Length of 'Kotlin' is 6</span>
<span class="hljs-comment">// Length of 'Flow' is 4</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šéœ€è¦å°†æ¯ä¸ªé¡¹è½¬æ¢ä¸ºä¸åŒç±»å‹æˆ–æ ¼å¼ï¼Œä¾‹å¦‚åœ¨ <code>ViewModel</code> ä¸­å°† <code>Date</code> å¯¹è±¡æ ¼å¼åŒ–ä¸ºå¯æ˜¾ç¤ºçš„ <code>String</code>ã€‚</p>
<h3 data-id="heading-2">filter</h3>
<p>ä»…å…è®¸æ»¡è¶³ç»™å®šæ¡ä»¶çš„å…ƒç´ é€šè¿‡ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.5</span>).asFlow()
        .filter { it % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 4</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šæ ¹æ®æ¡ä»¶ä¸¢å¼ƒä¸éœ€è¦çš„å€¼ï¼Œä¾‹å¦‚è¿‡æ»¤ç©ºæœç´¢è¯æˆ–æ— æ•ˆæ•°æ®ã€‚</p>
<h3 data-id="heading-3">take</h3>
<p>é™åˆ¶æ€§æ“ä½œç¬¦ï¼Œä»…å‘å‡º <code>Flow</code> çš„å‰ <code>n</code> ä¸ªå…ƒç´ ï¼Œéšåå–æ¶ˆ <code>Flow</code> æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.10</span>).asFlow()
        .take(<span class="hljs-number">3</span>)
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šåªéœ€è¦æœ‰é™æ•°é‡çš„é¡¹ï¼Œä¾‹å¦‚åˆ†é¡µåŠ è½½ï¼Œæˆ–ä»ä¸€ç³»åˆ—æ“ä½œä¸­å–ç¬¬ä¸€ä¸ªæœ‰æ•ˆç»“æœã€‚</p>
<hr/>
<h2 data-id="heading-4">ç´¯ç§¯å€¼</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed8dfb6e502c43d9b4b7551be1fc8011~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=1COawG3a%2BdsCCD5sHH3RERsW0XU%3D" alt="3.png" loading="lazy"/></p>
<h3 data-id="heading-5">reduce</h3>
<p>ç»ˆç«¯æ“ä½œç¬¦ï¼Œä» <code>Flow</code> çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ç´¯ç§¯å€¼ï¼Œå¹¶å¯¹å½“å‰ç´¯åŠ å™¨ä¸æ¯ä¸ªå…ƒç´ æ‰§è¡Œæ“ä½œã€‚è‹¥ <code>Flow</code> ä¸ºç©ºåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> sum = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow().reduce { accumulator, value -&gt; accumulator + value }
    println(sum)
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 6</span>
</code></pre>
<h3 data-id="heading-6">fold</h3>
<p>ç±»ä¼¼äº <code>reduce</code>ï¼Œä½† <code>fold</code> éœ€è¦ä¸€ä¸ªåˆå§‹å€¼ï¼Œæ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚</p>
<p>å³ä½¿ <code>Flow</code> ä¸ºç©ºä¹Ÿä¼šè¿”å›åˆå§‹å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-keyword">val</span> sum = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow().fold(<span class="hljs-number">100</span>) { accumulator, value -&gt; accumulator + value }
    println(sum)
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 106</span>
</code></pre>
<h3 data-id="heading-7">runningReduce / scan</h3>
<p>ä¸­é—´æ“ä½œç¬¦ï¼Œåœ¨æ¯ä¸ªå…ƒç´ å¤„ç†æ—¶éƒ½å‘å‡ºå½“å‰ç´¯ç§¯å€¼ã€‚</p>
<p><em>ä¸­é—´æ“ä½œç¬¦ä¸ä¼šè§¦å‘ <code>Flow</code> çš„æ”¶é›†ï¼Œæ‰€ä»¥éœ€è¦ <code>collect</code> è§¦å‘ <code>Flow</code> çš„æ”¶é›†ï¼Œè€Œ <code>reduce</code> è¿™ç§ç»ˆç«¯æ“ä½œç¬¦ä¼šè§¦å‘ <code>Flow</code> çš„æ”¶é›†ã€‚</em></p>
<p><code>scan</code> æ˜¯æ›´é€šç”¨çš„ç‰ˆæœ¬ï¼Œæ”¯æŒæŒ‡å®šåˆå§‹ç§å­å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    println(<span class="hljs-string">"runningReduce:"</span>)
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .runningReduce { accumulator, value -&gt; accumulator + value }
        .collect { println(it) } 

    println(<span class="hljs-string">"scan:"</span>)
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .scan(<span class="hljs-number">0</span>) { accumulator, value -&gt; accumulator + value }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// runningReduce:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// 6</span>
<span class="hljs-comment">// scan:</span>
<span class="hljs-comment">// 0</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// 6</span>
</code></pre>
<p>æ³¨æ„ï¼šä»–ä»¬ä¼šè¿”å›æ¯ä¸€æ­¥çš„ç»“æœï¼Œè€Œ <code>reduce</code>/<code>fold</code> åªè¿”å›æœ€ç»ˆç»“æœã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šè®¡ç®—ç´¯è®¡æ€»å’Œã€è·Ÿè¸ªè¿›åº¦ï¼Œæˆ–åœ¨çŠ¶æ€æœºä¸­å±•ç¤ºçŠ¶æ€å†å²ã€‚</p>
<hr/>
<h2 data-id="heading-8">å‘å‡ºå¤šä¸ªå€¼</h2>
<h3 data-id="heading-9">transform</h3>
<p>é«˜åº¦çµæ´»çš„æ“ä½œç¬¦ï¼Œå¯ä¸ºæ¯ä¸ªè¾“å…¥å…ƒç´ å‘å‡ºé›¶ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œå¯¹è¾“å‡ºæµæœ‰æ›´å¼ºæ§åˆ¶åŠ›ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.2</span>).asFlow()
        .transform {
            emit(<span class="hljs-string">"Item: <span class="hljs-variable">$it</span>"</span>)
            <span class="hljs-keyword">if</span> (it % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) {
                emit(<span class="hljs-string">"...is an odd number"</span>)
            }
            emit(<span class="hljs-string">"Square: <span class="hljs-subst">${it * it}</span>"</span>)
        }.collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Item: 1</span>
<span class="hljs-comment">// ...is an odd number</span>
<span class="hljs-comment">// Square: 1</span>
<span class="hljs-comment">// Item: 2</span>
<span class="hljs-comment">// Square: 4</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šæ‰§è¡Œå¤æ‚è½¬æ¢ã€å¼•å…¥å‰¯ä½œç”¨ï¼ˆå¦‚æ—¥å¿—è®°å½•ï¼‰ï¼Œæˆ–æ ¹æ®å•ä¸ªè¾“å…¥æœ‰æ¡ä»¶åœ°å‘å‡ºå¤šä¸ªå€¼ã€‚</p>
<hr/>
<h2 data-id="heading-10">æ‰å¹³åŒ–åµŒå¥—</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b154009cd2e4d66b4c5014e5ae8641e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=MxLI8kVIGB3BJ5Zg4Ln7RIwwYns%3D" alt="4.png" loading="lazy"/></p>
<h3 data-id="heading-11">flatMapConcat</h3>
<p>å°†æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºä¸€ä¸ª <code>Flow</code>ï¼Œç„¶åä¾æ¬¡è¿æ¥è¿™äº› <code>Flow</code>ï¼Œåªæœ‰å½“å‰ä¸€ä¸ª <code>Flow</code> å®Œæˆåï¼Œä¸‹ä¸€ä¸ªæ‰å¼€å§‹ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getNumbersFlow</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: Flow&lt;String&gt; = flow {
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"First-<span class="hljs-variable">$id</span>"</span>)
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"Second-<span class="hljs-variable">$id</span>"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    (<span class="hljs-number">1.</span><span class="hljs-number">.2</span>).asFlow().flatMapConcat { id -&gt; getNumbersFlow(id) }.collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// First-1</span>
<span class="hljs-comment">// Second-1</span>
<span class="hljs-comment">// First-2</span>
<span class="hljs-comment">// Second-2</span>
</code></pre>
<p><em>ä»”ç»†çœ‹ï¼Œç¬¬ä¸€ä¸ªæµçš„æ¯ä¸ªæ•°å­—éƒ½ä¼šå‚ä¸åˆ°ç¬¬äºŒä¸ªæµä¸­ã€‚</em></p>
<p>é€‚ç”¨åœºæ™¯ï¼šé¡ºåºæ•æ„Ÿçš„æ“ä½œï¼Œä¾‹å¦‚ä¾æ¬¡ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œæˆ–æ‰§è¡Œä¾èµ–å‹ç½‘ç»œè¯·æ±‚ã€‚</p>
<h3 data-id="heading-12">flatMapMerge</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4254fe85b6c142c687e6a790fa6c97a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=o%2FW51%2FAQwiZtZ0aXVrUeQpyxh94%3D" alt="1.png" loading="lazy"/></p>
<p>å¹¶å‘åˆå¹¶ç”±è½¬æ¢å‡½æ•°ç”Ÿæˆçš„å¤šä¸ª <code>Flow</code>ï¼Œå¯é€šè¿‡ <code>concurrency</code> å‚æ•°æ§åˆ¶å¹¶å‘æ•°é‡ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getNumbersFlow</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: Flow&lt;String&gt; = flow {
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"First-<span class="hljs-variable">$id</span>"</span>)
    delay(<span class="hljs-number">100</span>)
    emit(<span class="hljs-string">"Second-<span class="hljs-variable">$id</span>"</span>)
}

<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.2</span>).asFlow()
        .flatMapMerge { id -&gt; getNumbersFlow(id) }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// First-1</span>
<span class="hljs-comment">// First-2</span>
<span class="hljs-comment">// Second-2</span>
<span class="hljs-comment">// Second-1</span>
</code></pre>
<p>ä»ç»“æœä¸Šæ³¨æ„åŒºåˆ† <code>flatMapConcat</code>ï¼Œ<code>flatMapMerge</code> ä¸ä¼šä¿è¯åˆå¹¶çš„é¡ºåºã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šé¡ºåºæ— å…³çš„å¹¶è¡Œæ“ä½œï¼Œä¾‹å¦‚åŒæ—¶ä»å¤šä¸ªæ•°æ®æºè·å–æ•°æ®ã€‚</p>
<h3 data-id="heading-13">flatMapLatest</h3>
<p>å½“æ–°å…ƒç´ å‘å‡ºæ—¶ï¼Œç«‹å³å–æ¶ˆä¸Šä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ <code>Flow</code>ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> searchQuery = flowOf(<span class="hljs-string">"search"</span>, <span class="hljs-string">"search with new term"</span>).onEach { delay(<span class="hljs-number">200</span>) }

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">searchApi</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span>: Flow&lt;String&gt; = flow {
    emit(<span class="hljs-string">"Searching for '<span class="hljs-variable">$query</span>'..."</span>)
    delay(<span class="hljs-number">500</span>) <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span>
    emit(<span class="hljs-string">"Results for '<span class="hljs-variable">$query</span>'"</span>)
}

<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    searchQuery
        .flatMapLatest { query -&gt; searchApi(query) }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Searching for 'search'...</span>
<span class="hljs-comment">// Searching for 'search with new term'...</span>
<span class="hljs-comment">// Results for 'search with new term'</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå®æ—¶æœç´¢åŠŸèƒ½ï¼Œæˆ–ä»»ä½•åªéœ€å…³æ³¨æœ€æ–°äº‹ä»¶ç»“æœçš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-14">ä¸Šä¸‹æ–‡ä¸ç¼“å†²</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce7e6dce687947efa5a9c0ff702537f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=Una%2BLIFuOR1cwRS6q6ZRLj2aj28%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-15">flowOn</h3>
<p>æ›´æ”¹ç”¨äºæ‰§è¡Œä¸Šæ¸¸ <code>Flow</code> çš„ <code>CoroutineContext</code>ï¼Œæ˜¯ <code>Flow</code> ä¸­åˆ‡æ¢è°ƒåº¦å™¨çš„æ­£ç¡®æ–¹å¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">heavyWork</span><span class="hljs-params">()</span></span>: Flow&lt;<span class="hljs-built_in">Int</span>&gt; = flow {
    println(<span class="hljs-string">"Starting heavy work on <span class="hljs-subst">${Thread.currentThread().name}</span>"</span>)
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.3</span>) {
        <span class="hljs-comment">// Simulate CPU-intensive work</span>
        Thread.sleep(<span class="hljs-number">100</span>)
        emit(i)
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    heavyWork()
        .flowOn(Dispatchers.IO) <span class="hljs-comment">// Upstream runs on IO dispatcher</span>
        .collect {
            println(<span class="hljs-string">"Collected <span class="hljs-variable">$it</span> on <span class="hljs-subst">${Thread.currentThread().name}</span>"</span>)
        }
    <span class="hljs-comment">// Downstream runs on the collector's context (e.g., Main)</span>
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Starting heavy work on DefaultDispatcher-worker-1</span>
<span class="hljs-comment">// Collected 1 on main</span>
<span class="hljs-comment">// Collected 2 on main</span>
<span class="hljs-comment">// Collected 3 on main</span>
</code></pre>
<h3 data-id="heading-16">buffer</h3>
<p>é€šè¿‡è§£è€¦ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å®ç°å¹¶å‘æ‰§è¡Œï¼šç”Ÿäº§è€…å°†é¡¹æ”¾å…¥ç¼“å†²åŒºï¼Œæ¶ˆè´¹è€…ä»ä¸­å–å‡ºã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> time = measureTimeMillis {
        flow {
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.3</span>) {
                delay(<span class="hljs-number">200</span>) <span class="hljs-comment">// Simulate slow emission</span>
                emit(i)
            }
        }
        .buffer() <span class="hljs-comment">// With buffer, the total time is closer to the slow collector's time</span>
        .collect {
            delay(<span class="hljs-number">300</span>) <span class="hljs-comment">// Simulate slow collection</span>
            println(it)
        }
    }
    println(<span class="hljs-string">"Collected in <span class="hljs-variable">$time</span> ms"</span>)
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// Collected in 1172 ms</span>
</code></pre>
<p>å¾—ç›Šäº <code>buffer</code>ï¼Œæœ€åæ•´ä¸ªæ•°æ®çš„æ”¶é›†æ—¶é—´è¦å°äº <code>(200 + 300) * 3</code>ã€‚</p>
<p>ä½¿ç”¨åœºæ™¯ï¼šå½“ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å¤„ç†é€Ÿåº¦ä¸ä¸€è‡´æ—¶ï¼Œæå‡æ€§èƒ½ã€‚</p>
<h3 data-id="heading-17">conflate</h3>
<p>ä¸€ç§ç¼“å†²å½¢å¼ï¼Œå½“æ”¶é›†å™¨å¤„ç†å¤ªæ…¢æ—¶ä¼šä¸¢å¼ƒä¸­é—´å€¼ï¼Œç¡®ä¿å§‹ç»ˆè·å–æœ€æ–°å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flow {
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.5</span>) {
            delay(<span class="hljs-number">100</span>)
            emit(i)
        }
    }
    .conflate()
    .collect { value -&gt;
        println(<span class="hljs-string">"Started processing <span class="hljs-variable">$value</span>"</span>)
        delay(<span class="hljs-number">300</span>)
        println(<span class="hljs-string">"Finished processing <span class="hljs-variable">$value</span>"</span>)
    }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Started processing 1</span>
<span class="hljs-comment">// Finished processing 1</span>
<span class="hljs-comment">// Started processing 3</span>
<span class="hljs-comment">// Finished processing 3</span>
<span class="hljs-comment">// Started processing 5</span>
<span class="hljs-comment">// Finished processing 5</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šUI æ›´æ–°ä¸­æ— éœ€æ˜¾ç¤ºä¸­é—´çŠ¶æ€ï¼Œå¦‚è‚¡ç¥¨è¡Œæƒ…æˆ– GPS ä½ç½®æ›´æ–°ã€‚</p>
<h3 data-id="heading-18">collectLatest</h3>
<p>ç»ˆç«¯æ“ä½œç¬¦ï¼Œå½“æ–°å€¼å‘å‡ºæ—¶ï¼Œå–æ¶ˆå¯¹å‰ä¸€ä¸ªå€¼çš„æ”¶é›†é€»è¾‘ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .onEach { delay(<span class="hljs-number">100</span>) }
        .collectLatest { value -&gt;
            println(<span class="hljs-string">"Collecting <span class="hljs-variable">$value</span>"</span>)
            delay(<span class="hljs-number">300</span>)
            println(<span class="hljs-string">"Finished collecting <span class="hljs-variable">$value</span>"</span>)
        }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// Collecting 1</span>
<span class="hljs-comment">// Collecting 2</span>
<span class="hljs-comment">// Collecting 3</span>
<span class="hljs-comment">// Finished collecting 3</span>
</code></pre>
<p><em>æ³¨æ„çœ‹è¿™é‡Œçš„ç»“æœï¼ŒFinished collecting åªæ”¶é›†äº†æœ€åä¸€æ¬¡çš„å€¼ï¼Œä¸€å®šè¦æ³¨æ„è¿™ä¸ªç‰¹æ€§ã€‚</em></p>
<p>é€‚ç”¨åœºæ™¯ï¼šæŸé¡¹æ“ä½œè€—æ—¶è¾ƒé•¿ï¼Œä¸”åº”åœ¨æ–°é¡¹åˆ°è¾¾æ—¶è¢«å–æ¶ˆï¼Œä¾‹å¦‚å°†ç”¨æˆ·è¾“å…¥ä¿å­˜åˆ°æ•°æ®åº“ã€‚</p>
<hr/>
<h2 data-id="heading-19">åˆå¹¶</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/debdb8739b2a4d94b5ac4348155e0fb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=7%2B6T%2FLUhSUM1fiRI0Bihj%2Bxro4c%3D" alt="6.png" loading="lazy"/></p>
<h3 data-id="heading-20">zip</h3>
<p>ç­‰å¾…ä¸¤ä¸ª <code>Flow</code> å„è‡ªå‘å‡ºä¸€é¡¹åè¿›è¡Œç»„åˆã€‚ä»»ä¸€æº <code>Flow</code> ç»“æŸï¼Œç»“æœ <code>Flow</code> å³ç»“æŸã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> flowA = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
    <span class="hljs-keyword">val</span> flowB = flowOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>, <span class="hljs-string">"D"</span>)

    flowA.zip(flowB) { number, letter -&gt; <span class="hljs-string">"<span class="hljs-variable">$number</span><span class="hljs-variable">$letter</span>"</span> }
        .collect { println(it) } 
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1A</span>
<span class="hljs-comment">// 2B</span>
<span class="hljs-comment">// 3C</span>
</code></pre>
<h3 data-id="heading-21">combine</h3>
<p>ç»„åˆä¸¤ä¸ª <code>Flow</code> çš„æœ€æ–°å€¼ã€‚åªè¦ä»»ä¸€æº <code>Flow</code> å‘å‡ºæ–°å€¼ï¼ˆä¸”åŒæ–¹è‡³å°‘å„å‘å‡ºè¿‡ä¸€æ¬¡ï¼‰ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡å‘å°„ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> flowA = (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow().onEach { delay(<span class="hljs-number">100</span>) }
    <span class="hljs-keyword">val</span> flowB = flowOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>).onEach { delay(<span class="hljs-number">150</span>) }

    flowA.combine(flowB) { number, letter -&gt; <span class="hljs-string">"<span class="hljs-variable">$number</span><span class="hljs-variable">$letter</span>"</span> }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1A</span>
<span class="hljs-comment">// 2A</span>
<span class="hljs-comment">// 3A</span>
<span class="hljs-comment">// 3B</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå“åº”å¤šä¸ªæ•°æ®æºçš„å˜åŒ–ã€‚</p>
<h3 data-id="heading-22">merge</h3>
<p>å°†å¤šä¸ª <code>Flow</code> åˆå¹¶ä¸ºä¸€ä¸ªï¼ŒæŒ‰å‘å‡ºé¡ºåºäº¤é”™è¾“å‡ºæ‰€æœ‰å€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> flowA = flowOf(<span class="hljs-string">"A1"</span>, <span class="hljs-string">"A2"</span>).onEach { delay(<span class="hljs-number">100</span>) }
    <span class="hljs-keyword">val</span> flowB = flowOf(<span class="hljs-string">"B1"</span>, <span class="hljs-string">"B2"</span>).onEach { delay(<span class="hljs-number">50</span>) }

    merge(flowA, flowB)
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// B1</span>
<span class="hljs-comment">// A1</span>
<span class="hljs-comment">// B2</span>
<span class="hljs-comment">// A2</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå°†æ¥è‡ªä¸åŒ UI ç»„ä»¶çš„å¤šä¸ªäº‹ä»¶æµåˆå¹¶ä¸ºå•ä¸€å¤„ç†æµã€‚</p>
<hr/>
<h2 data-id="heading-23">é”™è¯¯ä¸å®Œæˆå¤„ç†</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95682e5dd75b4e80af39a6f3fb05b9cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765939918&amp;x-signature=xwKucKREDlNVuyFwOpiP%2B7lj1lc%3D" alt="7.png" loading="lazy"/></p>
<h3 data-id="heading-24">catch</h3>
<p>æ•è·ä¸Šæ¸¸ <code>Flow</code>ï¼ˆå³ <code>catch</code> ä¹‹å‰çš„æ“ä½œç¬¦ï¼‰ä¸­å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä½†ä¸æ•è·ä¸‹æ¸¸æ”¶é›†å™¨ä¸­çš„å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flow {
        emit(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"Error!"</span>)
    }
    .<span class="hljs-keyword">catch</span> { e -&gt;
        println(<span class="hljs-string">"Caught: <span class="hljs-subst">${e.message}</span>"</span>)
        emit(-<span class="hljs-number">1</span>) <span class="hljs-comment">// Emit a fallback value</span>
    }
    .collect { println(it) } <span class="hljs-comment">// Emits 1, then -1</span>
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// Caught: Error!</span>
<span class="hljs-comment">// -1</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šä¼˜é›…åœ°å¤„ç†é”™è¯¯ã€æä¾›é»˜è®¤å€¼æˆ–è®°å½•å¤±è´¥ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-25">onCompletion</h3>
<p>åœ¨ <code>Flow</code> å®Œæˆæ—¶ï¼ˆæ— è®ºæˆåŠŸæˆ–å¼‚å¸¸ï¼‰æ‰§è¡ŒæŒ‡å®šæ“ä½œã€‚æˆåŠŸæ—¶ <code>cause</code> ä¸º <code>null</code>ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .onCompletion { cause -&gt;
            <span class="hljs-keyword">if</span> (cause != <span class="hljs-literal">null</span>) println(<span class="hljs-string">"Flow completed with error"</span>)
            <span class="hljs-keyword">else</span> println(<span class="hljs-string">"Flow completed successfully"</span>)
        }
        .collect { println(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// Flow completed successfully</span>
</code></pre>
<h3 data-id="heading-26">retryWhen</h3>
<p>åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶æ ¹æ®è°“è¯ï¼ˆåŒ…å«å¼‚å¸¸åŸå› å’Œé‡è¯•æ¬¡æ•°ï¼‰å†³å®šæ˜¯å¦é‡è¯•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">suspend fun <span class="hljs-selector-tag">main</span>() {
    <span class="hljs-selector-tag">var</span> attemptCount = <span class="hljs-number">0</span>
    <span class="hljs-attribute">flow</span> {
        <span class="hljs-built_in">emit</span>(<span class="hljs-number">1</span>)
        if (attemptCount &lt; <span class="hljs-number">2</span>) {
            attemptCount++
            throw <span class="hljs-built_in">RuntimeException</span>("Transient error")
        }
        <span class="hljs-built_in">emit</span>(<span class="hljs-number">2</span>)
    }
    <span class="hljs-selector-class">.retryWhen</span> { cause, attempt -&gt;
        <span class="hljs-built_in">println</span>("Attempt $attempt: Retrying due to ${cause.message}")
        <span class="hljs-built_in">delay</span>(<span class="hljs-number">100</span>) <span class="hljs-comment">// Add a delay before retrying</span>
        attempt &lt; <span class="hljs-number">2</span> <span class="hljs-comment">// Retry up to 2 times</span>
    }
    <span class="hljs-selector-class">.catch</span> { <span class="hljs-built_in">println</span>("Caught final error: ${it.message}") }
    <span class="hljs-selector-class">.collect</span> { <span class="hljs-built_in">println</span>(it) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// Attempt 0: Retrying due to Transient error</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// Attempt 1: Retrying due to Transient error</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
</code></pre>
<p><code>retryWhen</code> çš„å›è°ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><code>cause</code>ï¼šå¯¼è‡´ <code>Flow</code> å¤±è´¥çš„å¼‚å¸¸ï¼ˆ<code>Throwable</code>Â ç±»å‹ï¼‰ã€‚</li>
<li><code>attempt</code>ï¼šå½“å‰æ˜¯ç¬¬å‡ æ¬¡é‡è¯•ï¼Œä»Â <code>0</code>Â å¼€å§‹è®¡æ•°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-27">å·¥å…·ä¸å‰¯ä½œç”¨</h2>
<h3 data-id="heading-28">onEach</h3>
<p>å¯¹ <code>Flow</code> ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šæ“ä½œï¼Œä½†ä¸ä¿®æ”¹å…ƒç´ æœ¬èº«ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    (<span class="hljs-number">1.</span><span class="hljs-number">.3</span>).asFlow()
        .onEach { println(<span class="hljs-string">"About to process <span class="hljs-variable">$it</span>"</span>) }
        .map { it * it }
        .collect { println(<span class="hljs-string">"Processed value: <span class="hljs-variable">$it</span>"</span>) }
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// About to process 1</span>
<span class="hljs-comment">// Processed value: 1</span>
<span class="hljs-comment">// About to process 2</span>
<span class="hljs-comment">// Processed value: 4</span>
<span class="hljs-comment">// About to process 3</span>
<span class="hljs-comment">// Processed value: 9</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šç”¨äºæ—¥å¿—ã€è°ƒè¯•æˆ–åŸ‹ç‚¹ç­‰å‰¯ä½œç”¨åœºæ™¯ï¼Œåœ¨ä¸æ”¹å˜æ•°æ®çš„å‰æä¸‹è§‚å¯Ÿ <code>Flow</code>ã€‚</p>
<h3 data-id="heading-29">debounce</h3>
<p>è¿‡æ»¤åœ¨æŒ‡å®šè¶…æ—¶å†…è¢«æ–°å€¼å–ä»£çš„å€¼ï¼Œä»…å‘å‡ºâ€œçªå‘â€ä¸­çš„æœ€åä¸€ä¸ªå€¼ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flow {
        emit(<span class="hljs-number">1</span>)
        delay(<span class="hljs-number">90</span>)
        emit(<span class="hljs-number">2</span>)
        delay(<span class="hljs-number">90</span>)
        emit(<span class="hljs-number">3</span>)
        delay(<span class="hljs-number">500</span>)
        emit(<span class="hljs-number">4</span>)
        delay(<span class="hljs-number">90</span>)
        emit(<span class="hljs-number">5</span>)
    }.debounce(<span class="hljs-number">100</span>).collect { println(it) } 
}
<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 3</span>
<span class="hljs-comment">// 5</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šå¤„ç†å¿«é€Ÿç”¨æˆ·è¾“å…¥ï¼ˆå¦‚æœç´¢æ¡†ï¼‰ï¼Œé¿å…æ¯æ¬¡æŒ‰é”®éƒ½è§¦å‘ API è¯·æ±‚ã€‚</p>
<h3 data-id="heading-30">distinctUntilChanged</h3>
<p>æŠ‘åˆ¶ä¸å‰ä¸€ä¸ªå€¼ç›¸åŒçš„é‡å¤å‘å°„ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    flowOf(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>)
        .distinctUntilChanged()
        .collect { println(it) } 
}

<span class="hljs-comment">// output:</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 1</span>
<span class="hljs-comment">// 3</span>
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šé˜²æ­¢ UI å› çŠ¶æ€æœªå˜è€Œè¿›è¡Œä¸å¿…è¦çš„é‡ç»„æˆ–æ›´æ–°ã€‚</p>
<hr/>
<h2 data-id="heading-31">æ ¸å¿ƒå†³ç­–æŒ‡å—</h2>
<ul>
<li>æ•°æ®è½¬æ¢ã€‚ç”¨äºä¿®æ”¹æµä¸­çš„å€¼ï¼š<code>map</code>ï¼Œ<code>filter</code>ï¼Œ<code>distinctUntilChanged</code>ã€‚</li>
<li>ç´¯ç§¯å€¼ã€‚ç”¨äºè·Ÿè¸ªçŠ¶æ€æˆ–è®¡ç®—æŒç»­ç»“æœï¼š<code>scan</code>ï¼Œ<code>runningReduce</code>ï¼Œ<code>fold</code>ï¼Œ<code>reduce</code>ã€‚</li>
<li>ä»å•ä¸€è¾“å…¥å‘å‡ºå¤šä¸ªå€¼ã€‚ç”¨äºè‡ªå®šä¹‰å‘å°„é€»è¾‘ï¼š<code>transform</code>ã€‚</li>
<li>å¤„ç†åµŒå¥—æˆ–åŠ¨æ€ <code>Flow</code>ã€‚æ ¹æ®å†…éƒ¨ <code>Flow</code> è¡Œä¸ºé€‰æ‹©ï¼š<code>flatMapConcat</code>ï¼ˆé¡ºåºæ‰§è¡Œï¼‰ã€<code>flatMapMerge</code>ï¼ˆå¹¶å‘æ‰§è¡Œï¼‰ã€<code>flatMapLatest</code>ï¼ˆå–æ¶ˆæ—§ä»»åŠ¡ï¼Œä¿ç•™æœ€æ–°ï¼‰ã€‚</li>
<li>æ€§èƒ½ä¸èƒŒå‹æ§åˆ¶ã€‚ç”¨äºä¼˜åŒ–æ”¶é›†æ•ˆç‡ä¸å“åº”æ€§ï¼š<code>buffer</code>ï¼Œ<code>conflate</code>ï¼Œ<code>collectLatest</code>ï¼Œ<code>flowOn</code>ã€‚</li>
<li>åˆå¹¶å¤šä¸ªæµã€‚ç”¨äºç»„åˆå¤šä¸ªæ•°æ®æºï¼š<code>zip</code>ï¼ˆæŒ‰é¡ºåºé…å¯¹ï¼‰ã€<code>combine</code>ï¼ˆç»„åˆæœ€æ–°å€¼ï¼‰ã€<code>merge</code>ï¼ˆäº¤é”™åˆå¹¶ï¼‰ã€‚</li>
<li>é”™è¯¯å¤„ç†ä¸å®Œæˆé€»è¾‘ã€‚ç”¨äºåº”å¯¹å¼‚å¸¸å’Œç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼š<code>catch</code>ï¼Œ<code>onCompletion</code>ï¼Œ<code>retryWhen</code>ã€‚</li>
<li>è°ƒè¯•ä¸å‰¯ä½œç”¨ã€‚ç”¨äºæ’å…¥æ—¥å¿—æˆ–å‰¯ä½œç”¨æ“ä½œï¼š<code>onEach</code>ã€‚</li>
<li>å¤„ç†é«˜é¢‘å‘å°„ã€‚ç”¨äºæŠ‘åˆ¶è¿‡å¿«çš„å‘å°„é¢‘ç‡ï¼š<code>debounce</code>ã€‚</li>
<li>è§¦å‘ <code>Flow</code> æ‰§è¡Œã€‚ç»ˆç«¯æ“ä½œç¬¦ï¼š<code>collect</code>ï¼Œ<code>collectLatest</code>ï¼Œ<code>first</code>ï¼Œ<code>single</code>ï¼Œ<code>toList</code>ï¼Œ<code>reduce</code>ï¼Œ<code>fold</code>ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªè®©ä½ çˆ½æ­ªæ­ªçš„è¯·æ±‚å·¥å…·æ˜¯æ€æ ·çš„]]></title>    <link>https://juejin.cn/post/7581752787563413544</link>    <guid>https://juejin.cn/post/7581752787563413544</guid>    <pubDate>2025-12-10T00:35:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581752787563413544" data-draft-id="7578719771588788234" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªè®©ä½ çˆ½æ­ªæ­ªçš„è¯·æ±‚å·¥å…·æ˜¯æ€æ ·çš„"/> <meta itemprop="keywords" content="Vue.js,React.js,Node.js"/> <meta itemprop="datePublished" content="2025-12-10T00:35:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤éŸµ"/> <meta itemprop="url" content="https://juejin.cn/user/1538972010422872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªè®©ä½ çˆ½æ­ªæ­ªçš„è¯·æ±‚å·¥å…·æ˜¯æ€æ ·çš„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1538972010422872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤éŸµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T00:35:28.000Z" title="Wed Dec 10 2025 00:35:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    46
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å„ä½å¥½ï¼Œå¾ˆä¹…æ²¡å‡ºæ¥å‘ä¸€å‘alovaæ–‡ç« äº†ï¼Œç°åœ¨çš„alovaå·²ç»æ›´æ–°åˆ°ç¬¬3ä¸ªå¤§ç‰ˆæœ¬äº†ï¼Œçœ‹è¿™ç¯‡æ–‡ç« å¯èƒ½ä¼šè®©ä½ å¯¹å®ƒæœ‰ä¸ªå…¨æ–°çš„è®¤è¯†ã€‚</p>
<p>å¦‚æœä½ ä¹‹å‰äº†è§£è¿‡alovaï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡çŸ¥é“alovaæ˜¯ä¸€ä¸ªè½»é‡çº§çš„è¯·æ±‚ç­–ç•¥åº“ï¼Œé€šè¿‡å®ƒçš„å®¢æˆ·ç«¯è¯·æ±‚hookså’Œç¼“å­˜é«˜æ•ˆåœ°å¤„ç†å‰ç«¯æ•°æ®è¯·æ±‚ã€‚</p>
<p>è€Œåˆ°ä»Šå¤©ï¼Œalova3åœ¨æ­¤åŸºç¡€ä¸Šå®ç°äº†æ›´å¤§çš„æå‡ï¼Œå®ƒä¸åªæ˜¯åœ¨å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ï¼Œç°åœ¨è¿˜èƒ½åœ¨æœåŠ¡ç«¯ç¯å¢ƒä¸‹å¤§æ”¾å¼‚å½©ï¼Œæ˜¯ä¸€ä¸ª<strong>å…¨æ ˆå¼çš„æè‡´é«˜æ•ˆçš„è¯·æ±‚å·¥å…·é›†</strong>ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å¸®åŠ©å¼€å‘å›¢é˜Ÿæ›´é«˜æ•ˆåœ°é›†æˆå’Œè°ƒç”¨APIï¼Œå¹¶ä¸”å®Œç¾å…¼å®¹fetchã€axiosç­‰HTTPå®¢æˆ·ç«¯ï¼Œä»¥åŠreactã€vueã€svelteç­‰UIæ¡†æ¶ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œalova3ç›¸æ¯”ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå®ƒå¸¦æ¥äº†ä»¥ä¸‹çš„å¤§æ›´æ–°ã€‚</p>
<ol>
<li>å¤šçº§ç¼“å­˜ï¼šè¯·æ±‚æ•ˆç‡å’Œå‡å‹åˆ©å™¨ã€‚</li>
<li>å…¨æ ˆçš„è¯·æ±‚ç­–ç•¥ï¼šå¸®ä½ å¤§å¤§å‡å°‘è¯·æ±‚ä»£ç ã€‚</li>
<li>æ›´åŠ ç°ä»£åŒ–çš„OpenAPIå·¥å…·ï¼šä¸ä»…å¯ä»¥è‡ªåŠ¨ç”Ÿæˆè¯·æ±‚ä»£ç ï¼Œè¿˜èƒ½æŠŠapiæ–‡æ¡£æ¬åˆ°ç¼–è¾‘å™¨ä¸­ï¼Œäº¤äº’å¼åœ°è°ƒç”¨apiï¼Œæ‰“ç ´è¿‡å»çš„apié›†æˆæµç¨‹ã€‚</li>
</ol>
<p><strong>è¿™é‡Œæˆ‘æƒ³éƒ‘é‡å£°æ˜ä¸€ä¸‹ï¼Œç”±äºaiå¤§æ¨¡å‹å¯¹alovaçŸ¥è¯†å­¦ä¹ çš„ä¸è¶³ï¼Œç°åœ¨ç½‘ä¸Šå……æ–¥ç€å„ç§aiç¼–å†™çš„alovaçš„é”™è¯¯ä½¿ç”¨çš„æ–‡ç« ï¼Œå»ºè®®å¤§å®¶å‰å¾€<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovaå®˜ç½‘</a>äº†è§£alovaçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•ã€‚</strong></p>
<h2 data-id="heading-0">ä¸€ã€å¤šçº§ç¼“å­˜</h2>
<p>å¤šçº§ç¼“å­˜æœºåˆ¶å¯ä»¥ä¸ºä½ çš„æœåŠ¡ç«¯åº”ç”¨æä¾›æœ€å¿«çš„è¯·æ±‚ä½“éªŒã€‚ä½ å¯ä»¥è‡ªç”±é€‰æ‹©å•çº§ç¼“å­˜è¿˜æ˜¯å¤šçº§ç¼“å­˜ä½¿ç”¨ï¼Œå®ƒä»¬è¿è¡Œæœºåˆ¶å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ç”¨æˆ·è¯·æ±‚] --&gt; B{æ£€æŸ¥L1ç¼“å­˜}
    B --&gt;|å‘½ä¸­| C[è¿”å›æ•°æ®]
    B --&gt;|æœªå‘½ä¸­| D{æ£€æŸ¥L2ç¼“å­˜}
    D --&gt;|å‘½ä¸­| E[æ›´æ–°L1ç¼“å­˜]
    D --&gt;|æœªå‘½ä¸­| F[è¯·æ±‚APIæ¥å£]
    F --&gt; G[æ›´æ–°L2ç¼“å­˜]
    E --&gt; C
    G --&gt; E
    C --&gt; H[ç»“æŸ]
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œalova çš„ä¸€çº§ç¼“å­˜æ˜¯ç®€å•çš„ object ä»¥ key-value çš„æ–¹å¼ç¼“å­˜ï¼Œè€ŒäºŒçº§ç¼“å­˜åœ¨ä¸åŒç¯å¢ƒä¸‹çš„é»˜è®¤è¡¨ç°ä¹Ÿä¸åŒï¼Œå…·ä½“çœ‹ä¸‹é¢ã€‚</p>
<h3 data-id="heading-1">å®¢æˆ·ç«¯</h3>
<p>åœ¨å®¢æˆ·ç«¯ç¯å¢ƒä¸‹ï¼Œä¸€çº§ç¼“å­˜ä¸€èˆ¬ç”¨äºçŸ­æ—¶çš„è¯·æ±‚æ•°æ®ç¼“å­˜ï¼Œä¾‹å¦‚å‡ åˆ†é’Ÿæˆ–å‡ ç§’é’Ÿçš„é¢‘ç¹è¯·æ±‚ç›¸åŒæ•°æ®å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€—ï¼Œå½“ä½ åœ¨å†™ todo è¯¦æƒ…é¡µçš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šæƒ³åˆ°ç”¨æˆ·ä¼šé¢‘ç¹åœ¨ todo åˆ—è¡¨ä¸­ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…ï¼Œæ­¤æ—¶ä½¿ç”¨ä¸€çº§ç¼“å­˜å¯ä»¥å¤§å¤§æå‡æ•ˆç‡ï¼Œé™ä½æœåŠ¡ç«¯å‹åŠ›ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯¹è¯¦æƒ…æ•°æ®è®¾ç½®60ç§’çš„ä¸€çº§ç¼“å­˜</span>
alovaInstance.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/todo/detail'</span>, {
  <span class="hljs-attr">params</span>: {
    <span class="hljs-attr">id</span>: <span class="hljs-string">'xxx'</span>
  },
  <span class="hljs-attr">cacheFor</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>, <span class="hljs-comment">// è®¾ç½®60ç§’çš„ä¸€çº§ç¼“å­˜</span>
  <span class="hljs-comment">// ...</span>
});
</code></pre>
<p>è€ŒäºŒçº§ç¼“å­˜å¯ç”¨äºä¸€äº›æšä¸¾æ•°æ®ã€èŠ‚æ—¥ç­‰é•¿æœŸä¸å˜çš„è¯·æ±‚ä¸ºä¸»ï¼Œé»˜è®¤ä½¿ç”¨<code>localStorage</code>å­˜å‚¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯¹æšä¸¾æ•°æ®è®¾ç½®3å¤©ç¼“å­˜æ—¶é—´</span>
alovaInstance.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/config/enum'</span>, {
  <span class="hljs-attr">params</span>: {
    <span class="hljs-attr">key</span>: <span class="hljs-string">'xxx'</span>
  },
  <span class="hljs-attr">cacheFor</span>: {
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'restore'</span>,
    <span class="hljs-attr">expire</span>: <span class="hljs-number">3</span> * <span class="hljs-number">24</span> * <span class="hljs-number">3600</span> * <span class="hljs-number">1000</span> <span class="hljs-comment">// ç¼“å­˜3å¤©æ—¶é—´</span>
  }, 
});
</code></pre>
<h3 data-id="heading-2">æœåŠ¡ç«¯</h3>
<p>åœ¨æœåŠ¡ç«¯ç¯å¢ƒä¸‹ï¼Œå¤šçº§ç¼“å­˜æœºåˆ¶ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>é«˜è®¿é—®é¢‘ç‡å’Œä½å»¶è¿Ÿéœ€æ±‚</strong>ï¼šä¾‹å¦‚çƒ­é—¨æ–°é—»ã€å•†å“è¯¦æƒ…ï¼Œå¯ä»¥è¿›ä¸€æ­¥å‡å°‘ç½‘ç»œå¼€é”€ï¼Œåœ¨ç½‘ç»œä¸ç¨³å®šæ—¶ä¹Ÿä¿æŒæ›´å¿«çš„å“åº”ã€‚</p>
</li>
<li>
<p><strong>å‡è½»ä¸‹æ¸¸æœåŠ¡å™¨å‹åŠ›</strong>ï¼šä¾‹å¦‚æœ‰è®¿é—®é«˜å³°æœŸçš„æœåŠ¡ï¼Œä¸Šå±‚ç¼“å­˜å¯ä»¥æœ‰æ•ˆå‡å°‘å¯¹åç«¯æ•°æ®åº“å’Œå¾®æœåŠ¡çš„å‹åŠ›ã€‚</p>
</li>
<li>
<p><strong>æ•´åˆå¤šä¸ªä¸‹æ¸¸æœåŠ¡å™¨çš„æ•°æ®åˆå¹¶å’Œå¤„ç†</strong>ï¼šå¤šä¸ªä¸²è¡Œè¯·æ±‚å¯èƒ½å¯¼è‡´æ›´é•¿çš„å“åº”æ—¶é—´ï¼Œä¹Ÿå¯èƒ½å› å¤æ‚çš„æ•°æ®è½¬æ¢æ¶ˆè€—æ€§èƒ½ï¼Œå¯å°†è½¬æ¢åçš„æ•°æ®è¿›è¡Œç¼“å­˜ã€‚</p>
</li>
<li>
<p><strong>API é€Ÿç‡é™åˆ¶å’Œè®¡è´¹</strong>ï¼šå¤©æ°”é¢„æŠ¥æœåŠ¡ API æ¯å°æ—¶æ›´æ–°ä¸€æ¬¡å¤©æ°”ä¿¡æ¯ï¼Œåœ°ç†ä½ç½®æ•°æ® API ç­‰ã€‚</p>
</li>
<li>
<p><strong>é‰´æƒæ•°æ®</strong>ï¼šç”¨æˆ·tokenç­‰æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œé¿å…é¢‘ç¹çš„é‰´æƒæ“ä½œã€‚</p>
</li>
<li>
<p><strong>è¯·æ±‚é€Ÿç‡é™åˆ¶ç­‰åˆ†å¸ƒå¼æ•°æ®</strong>ï¼šç”¨æˆ·çš„è¯·æ±‚æ¬¡æ•°é™åˆ¶ç­‰æ•°æ®ã€‚</p>
</li>
</ol>
<p>å…·ä½“å¯ä»¥çœ‹<a href="https://juejin.cn/post/7578820431018622991?share_token=0ebefce4-4817-450a-bae9-191040529eb6" target="_blank" title="https://juejin.cn/post/7578820431018622991?share_token=0ebefce4-4817-450a-bae9-191040529eb6">è¿™ç¯‡æ–‡ç« </a></p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨è¿›ç¨‹é—´å†…å­˜å…±äº«é€‚é…å™¨åŠ  LRU cache ä½œä¸ºä¸€çº§ç¼“å­˜ï¼Œredis ä½œä¸ºäºŒçº§ç¼“å­˜çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { createPSCAdapter, <span class="hljs-title class_">NodeSyncAdapter</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@alova/psc'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">LRUCache</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'lru-cache'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">RedisStorageAdapter</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./adapter-redis'</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">lRUCache</span>(<span class="hljs-params">options = {}</span>) {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LRUCache</span>(options);
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">set</span>(key, value);
    },

    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(key);
    },

    <span class="hljs-title function_">remove</span>(<span class="hljs-params">key</span>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">delete</span>(key);
    },

    <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">clear</span>();
    }
  };
}

<span class="hljs-keyword">const</span> alovaInstance = <span class="hljs-title function_">createAlova</span>({
  <span class="hljs-comment">// ...</span>

  <span class="hljs-comment">// è¿›ç¨‹é—´å…±äº«ç¼“å­˜é€‚é…å™¨</span>
  <span class="hljs-attr">l1Cache</span>: <span class="hljs-title function_">createPSCAdapter</span>(
    <span class="hljs-title class_">NodeSyncAdapter</span>(),
    <span class="hljs-title function_">lRUCache</span>({
      <span class="hljs-attr">max</span>: <span class="hljs-number">1000</span>,
      <span class="hljs-attr">ttl</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">10</span>
    })
  ),

  <span class="hljs-comment">// redisç¼“å­˜é€‚é…å™¨</span>
  <span class="hljs-attr">l2Cache</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisStorageAdapter</span>({
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">port</span>: <span class="hljs-number">6379</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-string">'default'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'my-top-secret'</span>,
    <span class="hljs-attr">db</span>: <span class="hljs-number">0</span>
  })
});
</code></pre>
<p>é€šè¿‡å¤šçº§ç¼“å­˜æœºåˆ¶ï¼Œalova3èƒ½å¤Ÿå®ç°ï¼š</p>
<ul>
<li><strong>å“åº”æ—¶é—´å‡å°‘80%+</strong>ï¼šé€šè¿‡å†…å­˜ç¼“å­˜å®ç°æ¯«ç§’çº§å“åº”</li>
<li><strong>æœåŠ¡å™¨è´Ÿè½½é™ä½60%+</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„APIè°ƒç”¨</li>
<li><strong>ç¦»çº¿ä½“éªŒä¼˜åŒ–</strong>ï¼šæŒä¹…åŒ–ç¼“å­˜æ”¯æŒå®Œæ•´çš„ç¦»çº¿åŠŸèƒ½</li>
<li><strong>å¸¦å®½èŠ‚çº¦</strong>ï¼šå‡å°‘é‡å¤æ•°æ®ä¼ è¾“</li>
</ul>
<p>è¿™ç§å¤šçº§ç¼“å­˜æ¶æ„ä½¿å¾—alova3ç‰¹åˆ«é€‚åˆéœ€è¦é«˜æ€§èƒ½æ•°æ®è®¿é—®çš„ç°ä»£Webåº”ç”¨ï¼Œåœ¨å¾®æœåŠ¡æ¶æ„å’Œåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¹Ÿè¡¨ç°å‡ºè‰²ã€‚</p>
<h2 data-id="heading-3">äºŒã€å…¨æ ˆçš„è¯·æ±‚ç­–ç•¥</h2>
<h3 data-id="heading-4">æœåŠ¡ç«¯è¯·æ±‚ç­–ç•¥</h3>
<p>alova3ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯å¼•å…¥äº†å¯¹æœåŠ¡ç«¯çš„å®Œæ•´æ”¯æŒï¼Œä½ ä¸ä»…å¯ä»¥åœ¨nodejsã€denoã€bunç­‰è¿è¡Œæ—¶ä¸­ä½¿ç”¨ï¼Œè¿˜æä¾›äº†ç‹¬æœ‰çš„æœåŠ¡ç«¯è¯·æ±‚ç­–ç•¥ï¼Œç®€ç§°server hooksï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¤„ç†åˆ†å¸ƒå¼çš„BFFã€APIç½‘å…³ã€ç¬¬ä¸‰æ–¹tokenç®¡ç†ç­‰ï¼ŒåŒæ—¶è¿˜æœ‰è¯·æ±‚é€Ÿç‡é™åˆ¶ã€è¯·æ±‚é‡è¯•ã€éªŒè¯ç å‘é€ä¸æ ¡éªŒç­‰æ¨¡å—ï¼Œå¯ä»¥å¿«é€Ÿå®ç°åˆ†å¸ƒå¼çš„ç‰¹å®šä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>BFFã€APIç½‘å…³ã€ç¬¬ä¸‰æ–¹tokenç®¡ç†ç­‰ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.alova.cn%2Fdocs%2Fserver-hooks" target="_blank" title="https://www.alova.cn/docs/server-hooks" ref="nofollow noopener noreferrer">è¿™ç¯‡æ–‡ç« </a>ä¸­æœ‰è¯¦ç»†çš„ä»‹ç»ï¼Œè¿™è¾¹æˆ‘ä»¬æ¥çœ‹çœ‹éªŒè¯ç å‘é€æ ¡éªŒæ¨¡å—çš„ä½¿ç”¨ã€‚</p>
<p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªalovaå®ä¾‹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { createAlova } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alova/server'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">RedisStorageAdapter</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@alova/storage-redis'</span>);
<span class="hljs-keyword">const</span> adapterFetch = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alova/fetch'</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> alovaInstance = <span class="hljs-title function_">createAlova</span>({
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">requestAdapter</span>: <span class="hljs-title function_">adapterFetch</span>(),
  <span class="hljs-comment">// redisç¼“å­˜é€‚é…å™¨</span>
  <span class="hljs-attr">l2Cache</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisStorageAdapter</span>({
    <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
    <span class="hljs-attr">port</span>: <span class="hljs-number">6379</span>,
    <span class="hljs-attr">username</span>: <span class="hljs-string">'default'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'my-top-secret'</span>,
    <span class="hljs-attr">db</span>: <span class="hljs-number">0</span>
  })
});
</code></pre>
<p>ç„¶åå†åˆ›å»ºä¸€ä¸ªéªŒè¯ç æä¾›è€…å‡½æ•°ï¼Œå¹¶æŒ‡å®šä½¿ç”¨redisé€‚é…å™¨ä½œä¸ºç¼“å­˜è½½ä½“ï¼Œä»¥ä¾¿å®ç°åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> { createCaptchaProvider } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alova/server'</span>);

<span class="hljs-keyword">const</span> { sendCaptcha, verifyCaptcha } = <span class="hljs-title function_">createCaptchaProvider</span>({
  <span class="hljs-attr">store</span>: alovaInstance.<span class="hljs-property">options</span>.<span class="hljs-property">l2Cache</span>
});

<span class="hljs-keyword">export</span> sendCaptcha;
<span class="hljs-keyword">export</span> verifyCaptcha;
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼Œå†å‘é€éªŒè¯ç ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>retry</code>æ¥å®ç°é‡è¯•ï¼Œæé«˜æˆåŠŸç‡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå‘é€éªŒè¯ç çš„methodå®ä¾‹</span>
<span class="hljs-keyword">const</span> createCaptchaMethod = (code, key) = &gt; alovaInstance.<span class="hljs-title class_">Post</span>(<span class="hljs-string">'/api/captcha'</span>, {
  code,
  <span class="hljs-attr">email</span>: key,
});

<span class="hljs-comment">// ä½¿ç”¨sendCaptcha hookåŒ…è£…createCaptchaMethod</span>
<span class="hljs-keyword">const</span> captchaMethod = <span class="hljs-title function_">sendCaptcha</span>(createCaptchaMethod, {
  <span class="hljs-attr">key</span>: <span class="hljs-string">'xxx@xxx.com'</span>
});

<span class="hljs-comment">// ä½¿ç”¨retry hookåŒ…è£…captchaMethodï¼Œå¹¶é€šè¿‡awaitå‘é€è¯·æ±‚å¹¶è·å–å“åº”ç»“æœ</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">retry</span>(captchaMethod, {
  <span class="hljs-attr">retry</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">backoff</span>: {
    <span class="hljs-attr">delay</span>: <span class="hljs-number">2000</span>
  }
});
</code></pre>
<p>æœ€åä¸€æ­¥ï¼Œé€šè¿‡ç”¨æˆ·çš„æäº¤æ¥éªŒè¯éªŒè¯ç ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fakeCaptchaFromUserInput = <span class="hljs-string">'1234'</span>;
<span class="hljs-keyword">const</span> isValid = <span class="hljs-keyword">await</span> <span class="hljs-title function_">verifyCaptcha</span>(fakeCaptchaFromUserInput, key);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(isValid ? <span class="hljs-string">'éªŒè¯é€šè¿‡'</span> : <span class="hljs-string">'éªŒè¯ç é”™è¯¯'</span>);
</code></pre>
<h3 data-id="heading-5">å®¢æˆ·ç«¯çš„è¯·æ±‚ç­–ç•¥</h3>
<p>alova3çš„å®¢æˆ·ç«¯è¯·æ±‚ç­–ç•¥ä¸ä¹‹å‰çš„ç‰ˆæœ¬å¤§ç›¸å¾„åº­ï¼Œä¾ç„¶æä¾›äº†<code>useRequest</code>ã€<code>useWatcher</code>ã€<code>usePagination</code>ç­‰UIæ¡†æ¶ç›¸å…³çš„hooksï¼Œåœ¨è¿™é‡Œå¤§å®¶åº”è¯¥éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œæ— è®ºä½ ä½¿ç”¨reactã€vueè¿˜æ˜¯svelteï¼Œè¿™äº›hookéƒ½ç”±ç»Ÿä¸€çš„<code>alova/client</code>ä¸­å¯¼å…¥ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useRequest } <span class="hljs-keyword">from</span> <span class="hljs-string">'alova/client'</span>;

<span class="hljs-keyword">const</span> { data, loading, error, send } = <span class="hljs-title function_">useRequest</span>(alovaInstance.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/todo/list'</span>));
</code></pre>
<h3 data-id="heading-6">å…¨æ ˆæ¡†æ¶nuxtæ”¯æŒ</h3>
<p>è™½ç„¶åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œalovaå·²ç»æ”¯æŒåœ¨nextã€nuxtã€svelitekitç­‰SSRæ¡†æ¶ä¸­ä½¿ç”¨ï¼Œä¸è¿‡åœ¨alova3ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªä¸“é—¨é€‚é…nuxtçš„statesHookï¼Œå¯ä»¥åœ¨ä½¿ç”¨<code>useRequest</code>ã€<code>useWatcher</code>ç­‰å‡ ä¹æ‰€æœ‰çš„hooksæ—¶ä¸ä»…å¯ä»¥åŒæ­¥ä¸¤ç«¯çš„æ•°æ®ï¼Œåƒå†…ç½®çš„<code>useFetch</code>ä¸€æ ·é¿å…åœ¨å®¢æˆ·ç«¯é‡å¤è¯·æ±‚ï¼Œè¿˜å¯ä»¥åŒæ­¥ä¾‹å¦‚<code>Date</code>ï¼Œ<code>Error</code>ç­‰ä»¥åŠè‡ªå®šä¹‰ç±»å‹çš„æ•°æ®ï¼Œç”¨æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œè®¾ç½®ä¸€ä¸‹<code>NuxtHook</code>å³å¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { createAlova } <span class="hljs-keyword">from</span> <span class="hljs-string">'alova'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NuxtHook</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'alova/nuxt'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> alovaInstance = <span class="hljs-title function_">createAlova</span>({
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">statesHook</span>: <span class="hljs-title class_">NuxtHook</span>({
    <span class="hljs-attr">nuxtApp</span>: useNuxtApp <span class="hljs-comment">// å¿…é¡»æŒ‡å®šuseNuxtApp</span>
  })
});
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€å·¥å…·é“¾æ”¯æŒï¼šæ›´åŠ ç°ä»£åŒ–çš„OpenAPIå·¥å…·</h2>
<p>é™¤äº†æ ¸å¿ƒåº“çš„å¢å¼ºï¼Œalova3è¿˜æä¾›äº†å¼€å‘å·¥å…·å’Œvscodeæ‰©å±•æ¥ä¼˜åŒ–å·¥ä½œæµã€‚</p>
<p>å¦‚æœä½ çš„é¡¹ç›®æ”¯æŒopenapiï¼Œè¿™äº›å¼€å‘å·¥å…·å¯ä»¥åŸºæœ¬æ¶ˆé™¤APIæ–‡æ¡£ï¼Œè®©ä½ ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥æ‰¾æ¥å£ã€æŸ¥çœ‹å®Œæ•´æ–‡æ¡£å¹¶äº¤äº’å¼åœ°å¿«é€Ÿæ’å…¥æ¥å£çš„è°ƒç”¨ä»£ç ï¼Œå¾ˆå¤§ç¨‹åº¦åœ°æå‡äº†å¼€å‘æ•ˆç‡å’Œä½“éªŒã€‚</p>
<p>åŒæ—¶ï¼Œä½ è¿˜å¯ä»¥å®Œå…¨æ§åˆ¶openapiåœ¨å‰ç«¯ç”Ÿæˆçš„å†…å®¹ï¼Œä¾‹å¦‚è¿‡æ»¤æ‰æŸäº›æ¥å£ï¼Œæ–°å¢ã€åˆ é™¤æˆ–ä¿®æ”¹æŸä¸ªæ¥å£çš„å‚æ•°ç­‰ï¼Œè¿™äº›åœ¨openapiæ–‡ä»¶ä¸å¤Ÿè§„èŒƒï¼Œæˆ–è€…æœ‰é”™è¯¯æ—¶éå¸¸æœ‰ç”¨ï¼Œå¹¶ä¸”æ˜¯å…¶ä»–openapiè‡ªåŠ¨ç”Ÿæˆå·¥å…·æ‰€ä¸å…·å¤‡çš„ã€‚</p>
<p>ä¸€èµ·æ¥å…·ä½“çœ‹çœ‹æ€ä¹ˆå›äº‹ã€‚</p>
<h3 data-id="heading-8">å¿«é€ŸæŸ¥æ‰¾å’Œæ’å…¥è°ƒç”¨ä»£ç </h3>
<h3 data-id="heading-9">è‡ªå®šä¹‰ä¿®æ”¹ç”Ÿæˆå†…å®¹</h3>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯çš„è¿”å›æ•°æ®æ ¼å¼ä¼šå¤–åŒ…ä¸€å±‚ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">"success"</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<p>è€Œæ­¤æ—¶æˆ‘ä»¬å¸Œæœ›ç”Ÿæˆçš„å“åº”æ•°æ®ç±»å‹ä¸º<code>response.data</code>ï¼Œä½ å¯ä»¥åœ¨alovaé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨<code>payloadModifier</code>æ’ä»¶ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'@alova/wormhole'</span>;
<span class="hljs-keyword">import</span> { payloadModifier } <span class="hljs-keyword">from</span> <span class="hljs-string">'@alova/wormhole/plugin'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">generator</span>: [
    {
      <span class="hljs-comment">// ...</span>
      <span class="hljs-attr">plugin</span>: [
        <span class="hljs-title function_">payloadModifier</span>([
          {
            <span class="hljs-attr">scope</span>: <span class="hljs-string">'response'</span>,
            <span class="hljs-attr">handler</span>: <span class="hljs-function"><span class="hljs-params">schema</span> =&gt;</span> schema.<span class="hljs-property">data</span>
          }
        ])
      ]
    }
  ]
});
</code></pre>
<p>ä½ ä¹Ÿè¿˜å¯ä»¥é€šè¿‡<code>handleApi</code>å®ç°å®Œå…¨çš„è‡ªå®šä¹‰ï¼Œä¾‹å¦‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¿®æ”¹tagçš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">generator</span>: [
    {
      <span class="hljs-attr">handleApi</span>: <span class="hljs-function"><span class="hljs-params">apiDescription</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (apiDescription.<span class="hljs-property">url</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/user'</span>)) {
          apiDescription.<span class="hljs-property">tags</span> = [<span class="hljs-string">'userTag'</span>];
        }
        <span class="hljs-keyword">return</span> apiDescription;
      }
    }
  ]
});
</code></pre>
<h3 data-id="heading-10">è¾¹æŸ¥è¾¹æ¥å…¥æ¥å£</h3>
<p>ä½¿ç”¨alovaçš„vscodeæ‰©å±•ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥æ‰¾æ¥å£ï¼Œå¹¶ç›´æ¥æ’å…¥è°ƒç”¨ä»£ç ï¼Œä¸ä»…å¦‚æ­¤ï¼Œæ¥å£çš„æ‰€æœ‰ç›¸å…³ä¿¡æ¯éƒ½å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­æŸ¥çœ‹ï¼Œåƒè¿™æ ·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf48e785e23b487eac71aa3b41a98ea6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-k6Z-1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765931728&amp;x-signature=3QJ%2FgaMng%2FpTCDoERIcQXiTqgi4%3D" alt="image.png" loading="lazy"/></p>
<p>å¼¹æ¡†ä¸­èƒ½æ¸…æ¥šçš„çœ‹åˆ°æ¥å£çš„æè¿°ä¿¡æ¯ã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ç­‰ï¼Œä½ å¯ä»¥ä¸€è¾¹çœ‹ç€å¼¹æ¡†ä¸­çš„å‚æ•°ï¼Œä¸€è¾¹åœ¨ä»£ç ä¸­ä¼ å‚ï¼Œè¿™ä¸ªç‚¹å­å¤ªæ£’å•¦ï¼Œå†ä¹Ÿä¸ç”¨åœ¨apiæ–‡æ¡£å’Œç¼–è¾‘å™¨ä¸­æ¥å›åˆ‡æ¢ï¼Œç„¶åæ¯æ¬¡è¿˜è¦é‡æ–°æ‰¾å¯¹åº”ä¿¡æ¯äº†ã€‚</p>
<h3 data-id="heading-11">ç¼–è¾‘å™¨ä¸­çš„apiæ–‡æ¡£</h3>
<p>è¿™ä¸ªvscodeæ‰©å±•è¿˜æä¾›äº†åœ¨ç¼–è¾‘å™¨ä¸­æŸ¥çœ‹æ¥å£æ–‡æ¡£çš„åŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ç¼–è¾‘çš„ä¾§è¾¹æ ä¸­æŸ¥çœ‹æ¥å£æ–‡æ¡£ï¼Œå°±åƒè¿™æ ·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f1d07da3dfe49b7ac83c6401f3b9048~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-k6Z-1:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765931728&amp;x-signature=R3G9Glf0284RekqbQLBZ1n3cIPI%3D" alt="" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­çš„è°ƒç”¨ä»£ç ä¸Šç›´æ¥ç‚¹å‡»â€œview documentationâ€æ‰“å¼€å¯¹åº”çš„æ¥å£æ–‡æ¡£ï¼Œå¯ä»¥å®ç°å¿«é€ŸæŸ¥çœ‹æ¥å£çš„æè¿°ä¿¡æ¯ã€è¯·æ±‚å‚æ•°ã€å“åº”å‚æ•°ç­‰ã€‚</p>
<h2 data-id="heading-12">å†™åœ¨æœ€å</h2>
<p>åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥æ„Ÿå—åˆ°äº†ä¸€ç‚¹alova3çš„ä¸åŒäº†å§ï¼Œé€šè¿‡ä»¥ä¸Šçš„æ–¹å¼è®©å‰ç«¯åœ¨æ¥å£é›†æˆæ–¹å‘å¾ˆå¤§ç¨‹åº¦åœ°æå‡æ•ˆç‡ï¼Œæ— è®ºä½ æ˜¯å‰ç«¯å¼€å‘è€…å¸Œæœ›æå‡åº”ç”¨æ€§èƒ½ï¼Œè¿˜æ˜¯åç«¯å·¥ç¨‹å¸ˆéœ€è¦æ„å»ºé«˜æ•ˆçš„APIç½‘å…³ï¼Œäº¦æˆ–æ˜¯å…¨æ ˆå¼€å‘è€…è¿½æ±‚ç»Ÿä¸€çš„å¼€å‘ä½“éªŒï¼Œalova3éƒ½èƒ½ä¸ºä½ æä¾›å®Œæ•´çš„æ”¯æŒã€‚</p>
<p>å¦‚æœè§‰å¾—alovaè¿˜ä¸é”™ï¼ŒçœŸè¯šå¸Œæœ›ä½ å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fexamples" target="_blank" title="https://alova.js.org/examples" ref="nofollow noopener noreferrer">å°è¯•ä½“éªŒä¸€ä¸‹</a>ï¼Œä¹Ÿå¯ä»¥ç»™æˆ‘ä»¬æ¥ä¸€ä¸ªå…è´¹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova" target="_blank" title="https://github.com/alovajs/alova" ref="nofollow noopener noreferrer">github stars</a>ã€‚</p>
<p>è®¿é—®alovajsçš„å®˜ç½‘æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovajså®˜ç½‘</a>ã€‚</p>
<p>æœ‰å…´è¶£å¯ä»¥åŠ å…¥æˆ‘ä»¬çš„äº¤æµç¤¾åŒºï¼Œåœ¨ç¬¬ä¸€æ—¶é—´è·å–åˆ°æœ€æ–°è¿›å±•ï¼Œä¹Ÿèƒ½ç›´æ¥å’Œå¼€å‘å›¢é˜Ÿäº¤æµï¼Œæå‡ºä½ çš„æƒ³æ³•å’Œå»ºè®®ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fimg%2Fwechat_qrcode.jpg" target="_blank" title="https://alova.js.org/img/wechat_qrcode.jpg" ref="nofollow noopener noreferrer">åŠ å…¥å¾®ä¿¡ç¾¤å‚ä¸äº¤æµ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.gg%2FS47QGJgkVb" target="_blank" title="https://discord.gg/S47QGJgkVb" ref="nofollow noopener noreferrer">åŠ å…¥åœ¨ Discord ç¤¾åŒºå‚ä¸äº¤æµ</a></li>
</ul>
<p>æœ‰ä»»ä½•é—®é¢˜ï¼Œä½ å¯ä»¥åŠ å…¥ä»¥ä¸‹ç¾¤èŠå’¨è¯¢ï¼Œä¹Ÿå¯ä»¥åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova%2Fdiscussions" target="_blank" title="https://github.com/alovajs/alova/discussions" ref="nofollow noopener noreferrer">github ä»“åº“ä¸­å‘å¸ƒ Discussions</a>ï¼Œå¦‚æœé‡åˆ°é—®é¢˜ï¼Œä¹Ÿè¯·åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova%2Fissues" target="_blank" title="https://github.com/alovajs/alova/issues" ref="nofollow noopener noreferrer">github çš„ issues</a>ä¸­æäº¤ï¼Œæˆ‘ä»¬ä¼šåœ¨æœ€å¿«çš„æ—¶é—´è§£å†³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>