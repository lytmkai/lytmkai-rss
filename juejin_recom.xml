<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰]]></title>    <link>https://juejin.cn/post/7602850166731292681</link>    <guid>https://juejin.cn/post/7602850166731292681</guid>    <pubDate>2026-02-04T16:37:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602850166731292681" data-draft-id="7602811649126711347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-04T16:37:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uzong"/> <meta itemprop="url" content="https://juejin.cn/user/372082495985181"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/372082495985181/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uzong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T16:37:58.000Z" title="Wed Feb 04 2026 16:37:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡æ•´ç†è‡ª LangChain åšå®¢ã€ŠContext Engineering for Agentsã€‹ã€æ›´è‡ªç„¶ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.langchain.com%2Fcontext-engineering-for-agents%2F" target="_blank" title="https://blog.langchain.com/context-engineering-for-agents/" ref="nofollow noopener noreferrer">blog.langchain.com/context-engâ€¦</a></p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰åœ¨æ™ºèƒ½ä½“ï¼ˆAgentï¼‰ç³»ç»Ÿä¸­çš„å¹¿æ³›åº”ç”¨ï¼Œå¦‚ä½•æœ‰æ•ˆç®¡ç†æœ‰é™çš„ä¸Šä¸‹æ–‡çª—å£ï¼ˆContext Windowï¼‰æˆä¸ºå…³é”®æŒ‘æˆ˜ã€‚</p>
<h2 data-id="heading-0">1. <strong>ä¸ºä»€ä¹ˆéœ€è¦ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Ÿ</strong></h2>
<p>å¤§è¯­è¨€æ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£ç±»ä¼¼äºè®¡ç®—æœºçš„ RAMâ€”â€”å®ƒæ˜¯æ¨¡å‹çš„â€œå·¥ä½œè®°å¿†â€ï¼Œä½†å®¹é‡æœ‰é™ã€‚å½“æ™ºèƒ½ä½“æ‰§è¡Œé•¿æœŸä»»åŠ¡æ—¶ï¼Œä¼šä¸æ–­ç´¯ç§¯ä»¥ä¸‹ç±»å‹çš„ä¸Šä¸‹æ–‡ï¼š<br/>
â— æŒ‡ä»¤ï¼ˆInstructionsï¼‰ï¼šæç¤ºè¯ã€è®°å¿†ã€å°‘æ ·æœ¬ç¤ºä¾‹ã€å·¥å…·æè¿°ç­‰<br/>
â— çŸ¥è¯†ï¼ˆKnowledgeï¼‰ï¼šäº‹å®ã€ç”¨æˆ·åå¥½ã€å†å²ä¿¡æ¯ç­‰<br/>
â— å·¥å…·åé¦ˆï¼ˆToolsï¼‰ï¼šAPI è°ƒç”¨ç»“æœã€ä»£ç æ‰§è¡Œè¾“å‡ºç­‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60857d41abe34deab9e8e629a34e5f31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=xmp%2BewZqcBtkOni8oweul7KJe7Q%3D" alt="" loading="lazy"/></p>
<p>é•¿æœŸæ‰§è¡Œçš„ä»»åŠ¡å’Œå·¥å…·è°ƒç”¨åé¦ˆçš„ç§¯ç´¯æ„å‘³ç€æ™ºèƒ½ä½“é€šå¸¸ä¼šä½¿ç”¨å¤§é‡ä»¤ç‰Œã€‚<strong>è¿™å¯èƒ½å¼•å‘å¤šç§é—®é¢˜ï¼šå¯èƒ½è¶…è¿‡ä¸Šä¸‹æ–‡çª—å£å¤§å°ã€å¯¼è‡´æˆæœ¬æˆ–å»¶è¿Ÿæ€¥å‰§ä¸Šå‡ï¼Œæˆ–é™ä½æ™ºèƒ½ä½“æ€§èƒ½ã€‚</strong></p>
<p>éšç€äº¤äº’è½®æ¬¡å¢åŠ ï¼Œä¸Šä¸‹æ–‡è¿…é€Ÿè†¨èƒ€ï¼Œå¯èƒ½å¼•å‘ä»¥ä¸‹é—®é¢˜ï¼š</p>

























<table><thead><tr><th>é—®é¢˜ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>ä¸Šä¸‹æ–‡ä¸­æ¯’ï¼ˆContext Poisoningï¼‰</td><td>å¹»è§‰å†…å®¹è¢«å†™å…¥ä¸Šä¸‹æ–‡ï¼Œæ±¡æŸ“åç»­æ¨ç†</td></tr><tr><td>ä¸Šä¸‹æ–‡å¹²æ‰°ï¼ˆContext Distractionï¼‰</td><td>è¿‡å¤šæ— å…³ä¿¡æ¯å‹å€’æ¨¡å‹å¯¹æ ¸å¿ƒä»»åŠ¡çš„å…³æ³¨</td></tr><tr><td>ä¸Šä¸‹æ–‡æ··æ·†ï¼ˆContext Confusionï¼‰</td><td>å†—ä½™æˆ–çŸ›ç›¾ä¿¡æ¯å¯¼è‡´è¾“å‡ºä¸ä¸€è‡´</td></tr><tr><td>ä¸Šä¸‹æ–‡å†²çªï¼ˆContext Clashï¼‰</td><td>ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨ç›¸äº’çŸ›ç›¾çš„äº‹å®æˆ–æŒ‡ä»¤</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/043a0136d1f4447592b209d2c5aee1f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=%2B8VtSDMh4360T5MEcUiexsUHg1s%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹å·²æˆä¸ºæ„å»ºå¯é ã€é«˜æ•ˆæ™ºèƒ½ä½“çš„é¦–è¦ä»»åŠ¡.</strong></p>
<h2 data-id="heading-1">2. <strong>ä¸Šä¸‹æ–‡å·¥ç¨‹çš„å››å¤§æ ¸å¿ƒç­–ç•¥</strong></h2>
<p>ä¸ºåº”å¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼Œä¸šç•Œæ™®éé‡‡ç”¨ä»¥ä¸‹å››ç±»ç­–ç•¥ï¼š</p>
<ul>
<li><strong>å†™å…¥ä¸Šä¸‹æ–‡ï¼ˆWriteï¼‰</strong></li>
<li><strong>é€‰æ‹©ä¸Šä¸‹æ–‡ï¼ˆSelectï¼‰</strong></li>
<li><strong>å‹ç¼©ä¸Šä¸‹æ–‡ï¼ˆCompressï¼‰</strong></li>
<li><strong>éš”ç¦»ä¸Šä¸‹æ–‡ï¼ˆIsolateï¼‰</strong></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeecf084f0384f67b66f6e025dec2e3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=XvxsMUT8ckaaSa5PfmAD6HmG7go%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2"><strong>2.1 å†™å…¥ä¸Šä¸‹æ–‡ï¼ˆWriteï¼‰</strong></h3>
<p>å°†é‡è¦ä¿¡æ¯<strong>ä¿å­˜åˆ°ä¸Šä¸‹æ–‡çª—å£ä¹‹å¤–</strong>ï¼Œä¾›åç»­ä½¿ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0aaf3cdc0c1a406eac6e1bcf60253212~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=4z8Bvwf%2FxnrQWN%2B2JBRt7VXs2wU%3D" alt="" loading="lazy"/></p>
<p><strong>Scratchpadï¼ˆè‰ç¨¿æ¿ï¼‰</strong> ï¼šåœ¨å•æ¬¡ä¼šè¯ä¸­ä¸´æ—¶å­˜å‚¨è®¡åˆ’ã€ä¸­é—´ç»“è®ºç­‰ã€‚ä¾‹å¦‚ Anthropic çš„å¤šæ™ºèƒ½ä½“ç ”ç©¶ç³»ç»Ÿä¸­ï¼Œä¸»ç ”ç©¶å‘˜ä¼šå°†ç ”ç©¶è®¡åˆ’å†™å…¥ Memoryï¼Œé˜²æ­¢å› ä¸Šä¸‹æ–‡æˆªæ–­è€Œä¸¢å¤±ã€‚<strong>å®ç°æ–¹å¼ï¼šé€šè¿‡å·¥å…·è°ƒç”¨å†™å…¥æ–‡ä»¶ï¼Œæˆ–å­˜å…¥è¿è¡Œæ—¶çŠ¶æ€å¯¹è±¡ï¼ˆStateï¼‰ã€‚</strong></p>
<hr/>
<p><strong>é•¿æœŸè®°å¿†ï¼ˆMemoriesï¼‰</strong> ï¼šè·¨ä¼šè¯æŒä¹…åŒ–ä¿¡æ¯ã€‚</p>
<p>åº”ç”¨å®ä¾‹ï¼šChatGPTã€Cursorã€Windsurf å‡æ”¯æŒè‡ªåŠ¨ç”Ÿæˆç”¨æˆ·ä¸“å±é•¿æœŸè®°å¿†ã€‚</p>
<h3 data-id="heading-3"><strong>2.2 é€‰æ‹©ä¸Šä¸‹æ–‡ï¼ˆSelectï¼‰</strong></h3>
<p><strong>åŠ¨æ€æ£€ç´¢æœ€ç›¸å…³çš„ä¿¡æ¯</strong>æ³¨å…¥å½“å‰ä¸Šä¸‹æ–‡ã€‚</p>
<ul>
<li><strong>ä» Scratchpad é€‰æ‹©</strong>ï¼šè‹¥ä»¥ State å­˜å‚¨ï¼Œå¼€å‘è€…å¯æ§åˆ¶æ¯æ­¥æš´éœ²å“ªäº›å­—æ®µï¼›è‹¥ä»¥å·¥å…·å®ç°ï¼Œåˆ™é€šè¿‡è¯»å–å·¥å…·è°ƒç”¨è·å–ã€‚</li>
<li><strong>è®°å¿†æ£€ç´¢</strong>ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li><strong>ç¨‹åºæ€§è®°å¿†</strong>ï¼ˆProceduralï¼‰ï¼šå¦‚ <code>CLAUDE.md</code>ã€è§„åˆ™æ–‡ä»¶ï¼Œç”¨äºæŒ‡å¯¼è¡Œä¸ºã€‚</li>
<li><strong>æƒ…æ™¯æ€§è®°å¿†</strong>ï¼ˆEpisodicï¼‰ï¼šå°‘æ ·æœ¬ç¤ºä¾‹ã€‚</li>
<li><strong>è¯­ä¹‰æ€§è®°å¿†</strong>ï¼ˆSemanticï¼‰ï¼šäº‹å®çŸ¥è¯†ï¼Œé€šå¸¸é€šè¿‡<strong>å‘é‡åµŒå…¥</strong>æˆ–<strong>çŸ¥è¯†å›¾è°±</strong>è¿›è¡Œæ£€ç´¢ã€‚</li>
</ul>
</li>
</ul>

<ul>
<li><strong>å·¥å…·é€‰æ‹©</strong>ï¼šå¯¹å¤§é‡å·¥å…·ä½¿ç”¨ RAG æŠ€æœ¯ï¼Œä»…æ£€ç´¢ä¸å½“å‰ä»»åŠ¡æœ€ç›¸å…³çš„å·¥å…·æè¿°ï¼Œå¯æå‡å·¥å…·é€‰æ‹©å‡†ç¡®ç‡ã€‚</li>
<li><strong>çŸ¥è¯†æ£€ç´¢ï¼ˆRAGï¼‰</strong> ï¼šå°¤å…¶åœ¨ä»£ç æ™ºèƒ½ä½“ä¸­ï¼Œéœ€ç»“åˆ AST è§£æã€æ–‡ä»¶æœç´¢ã€çŸ¥è¯†å›¾è°±ä¸é‡æ’åºç­‰å¤šç§æŠ€æœ¯ï¼Œè€Œéä»…ä¾èµ–å‘é‡æœç´¢ã€‚</li>
</ul>
<h3 data-id="heading-4"><strong>2.3. å‹ç¼©ä¸Šä¸‹æ–‡ï¼ˆCompressï¼‰</strong></h3>
<p><strong>ä¿ç•™å®Œæˆä»»åŠ¡æ‰€éœ€çš„æœ€å°‘ token</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2ebf7017d0a4218a243730799f74fca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=7xHQCUGRcSr8BSoETq%2FOULq%2BNWE%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸Šä¸‹æ–‡æ‘˜è¦ï¼ˆSummarizationï¼‰</strong> ï¼š</p>
<ul>
<li>åœ¨æ¥è¿‘ä¸Šä¸‹æ–‡ä¸Šé™æ—¶ï¼Œå¯¹æ•´ä¸ªå¯¹è¯è½¨è¿¹è¿›è¡Œé€’å½’æˆ–åˆ†å±‚æ‘˜è¦ã€‚</li>
<li>å¯åœ¨ç‰¹å®šèŠ‚ç‚¹ï¼ˆå¦‚è€— token çš„æœç´¢å·¥å…·åï¼‰æ’å…¥æ‘˜è¦æ­¥éª¤ã€‚</li>
<li>å¤æ‚åœºæ™¯ä¸‹ç”šè‡³éœ€å¾®è°ƒä¸“ç”¨æ‘˜è¦æ¨¡å‹ã€‚</li>
</ul>
<p><strong>ä¸Šä¸‹æ–‡ä¿®å‰ªï¼ˆTrimming/Pruningï¼‰</strong> ï¼š</p>
<ul>
<li>åŸºäºå¯å‘å¼è§„åˆ™ï¼ˆå¦‚åˆ é™¤æœ€æ—©æ¶ˆæ¯ï¼‰ã€‚</li>
<li>æˆ–ä½¿ç”¨è®­ç»ƒå¥½çš„ä¸Šä¸‹æ–‡å‰ªæå™¨ã€‚</li>
</ul>
<h3 data-id="heading-5"><strong>2.4. éš”ç¦»ä¸Šä¸‹æ–‡ï¼ˆIsolateï¼‰</strong></h3>
<p><strong>å°†ä¸Šä¸‹æ–‡æ‹†åˆ†ï¼Œé¿å…ç›¸äº’å¹²æ‰°</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b32a1faa2154348b042874c0f62001a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=R5tcRYZ9KjwYJ%2FyejCxdNkgRMp0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21213f2ec3804cf794baf5a176fa1151~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=J2TYYztQ1R%2FkZ54F%2F14ccRAqZXY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">3. <strong>LangGraphï¼šä¸Šä¸‹æ–‡å·¥ç¨‹çš„å®è·µæ¡†æ¶</strong></h2>
<p>LangGraph ä½œä¸ºåº•å±‚æ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶ï¼ŒåŸç”Ÿæ”¯æŒä¸Šè¿°æ‰€æœ‰ç­–ç•¥ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aefc4491cf44f7a917b7d05f4fb99ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770827877&amp;x-signature=AEhFcimNiHki6%2FVXydXxANraA6U%3D" alt="image.png" loading="lazy"/>
ä¸Šä¸‹æ–‡å·¥ç¨‹å·²ä»â€œæŠ€å·§â€æ¼”å˜ä¸º<strong>æ™ºèƒ½ä½“å¼€å‘çš„æ ¸å¿ƒå·¥ç¨‹å­¦ç§‘</strong>ã€‚é¢å¯¹æœ‰é™çš„ä¸Šä¸‹æ–‡çª—å£ä¸å¤æ‚çš„ä»»åŠ¡éœ€æ±‚ï¼Œå¼€å‘è€…å¿…é¡»åƒæ“ä½œç³»ç»Ÿç®¡ç†å†…å­˜ä¸€æ ·ï¼Œç²¾å¿ƒè°ƒåº¦æ¯ä¸€æ¡ä¿¡æ¯çš„â€œç”Ÿå‘½å‘¨æœŸâ€â€”â€”ä½•æ—¶å†™å…¥ã€å¦‚ä½•é€‰æ‹©ã€æ˜¯å¦å‹ç¼©ã€æ€æ ·éš”ç¦»ã€‚</p>
<p><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ä¸æ˜¯ â€œè¶Šå¤šä¿¡æ¯è¶Šå¥½â€ï¼Œä¹Ÿä¸æ˜¯ â€œè¶Šå°‘ä¿¡æ¯è¶Šçœâ€ï¼Œè€Œæ˜¯åœ¨æ¯ä¸ªä»»åŠ¡æ­¥éª¤ä¸­ï¼Œè®© Agent è·å¾— â€œåˆšåˆšå¥½â€ çš„ä¿¡æ¯ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»€ä¹ˆæ˜¯å­ç½‘æ©ç ï¼Ÿä¸€æ–‡å½»åº•ææ‡‚ IP åœ°å€åˆ’åˆ†çš„æ ¸å¿ƒæœºåˆ¶]]></title>    <link>https://juejin.cn/post/7602824293164662799</link>    <guid>https://juejin.cn/post/7602824293164662799</guid>    <pubDate>2026-02-04T14:16:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602824293164662799" data-draft-id="7602837527674109967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»€ä¹ˆæ˜¯å­ç½‘æ©ç ï¼Ÿä¸€æ–‡å½»åº•ææ‡‚ IP åœ°å€åˆ’åˆ†çš„æ ¸å¿ƒæœºåˆ¶"/> <meta itemprop="keywords" content="ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2026-02-04T14:16:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»€ä¹ˆæ˜¯å­ç½‘æ©ç ï¼Ÿä¸€æ–‡å½»åº•ææ‡‚ IP åœ°å€åˆ’åˆ†çš„æ ¸å¿ƒæœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T14:16:05.000Z" title="Wed Feb 04 2026 14:16:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œ<strong>å­ç½‘æ©ç ï¼ˆSubnet Maskï¼‰</strong> æ˜¯ä¸€ä¸ªçœ‹ä¼¼ç®€å•å´è‡³å…³é‡è¦çš„æ¦‚å¿µã€‚å®ƒä¸ IP åœ°å€å¦‚å½±éšå½¢ï¼Œå…±åŒå†³å®šäº†â€œå“ªäº›è®¾å¤‡å±äºåŒä¸€ä¸ªå±€åŸŸç½‘â€ã€â€œæ•°æ®åŒ…è¯¥å‘å¾€å“ªé‡Œâ€ã€‚ç„¶è€Œï¼Œå¾ˆå¤šåˆå­¦è€…ç”šè‡³å¼€å‘è€…å¯¹å®ƒçš„ç†è§£ä»åœç•™åœ¨â€œ255.255.255.0â€è¿™æ ·çš„å­—ç¬¦ä¸²å±‚é¢ã€‚</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä» <strong>IP åœ°å€çš„æœ¬è´¨å‡ºå‘</strong>ï¼Œæ·±å…¥æµ…å‡ºåœ°è®²è§£å­ç½‘æ©ç çš„åŸç†ã€ä½œç”¨ã€è®¡ç®—æ–¹æ³•åŠå…¶åœ¨ç°ä»£ç½‘ç»œä¸­çš„å®é™…åº”ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦å­ç½‘æ©ç ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ æ”¶åˆ°ä¸€å°ä¿¡ï¼Œåœ°å€å†™ç€â€œåŒ—äº¬å¸‚æµ·æ·€åŒºä¸­å…³æ‘å¤§è¡—1å·â€ã€‚ä½†é‚®å±€æ€ä¹ˆçŸ¥é“â€œä¸­å…³æ‘å¤§è¡—1å·â€å±äºâ€œæµ·æ·€åŒºâ€è€Œä¸æ˜¯â€œæœé˜³åŒºâ€ï¼Ÿ<br/>
â€”â€” å› ä¸ºæœ‰<strong>è¡Œæ”¿åŒºåˆ’è§„åˆ™</strong>ã€‚</p>
<p>åœ¨ç½‘ç»œä¸–ç•Œä¸­ï¼Œ<strong>IP åœ°å€</strong> å°±åƒé—¨ç‰Œå·ï¼Œè€Œ <strong>å­ç½‘æ©ç </strong> å°±æ˜¯é‚£ä¸ªâ€œè¡Œæ”¿åŒºåˆ’è§„åˆ™â€ï¼Œç”¨äº<strong>åˆ’åˆ†ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†</strong>ã€‚</p>
<h3 data-id="heading-1">ğŸ¯ æ ¸å¿ƒé—®é¢˜ï¼š</h3>
<ul>
<li>ç»™å®šä¸€ä¸ª IP åœ°å€ï¼ˆå¦‚ <code>192.168.1.10</code>ï¼‰ï¼Œå¦‚ä½•åˆ¤æ–­å®ƒå’Œ <code>192.168.1.20</code> æ˜¯å¦åœ¨åŒä¸€å±€åŸŸç½‘ï¼Ÿ</li>
<li>è·¯ç”±å™¨å¦‚ä½•çŸ¥é“è¯¥æŠŠæ•°æ®åŒ…è½¬å‘åˆ°æœ¬åœ°è¿˜æ˜¯è¿œç¨‹ç½‘ç»œï¼Ÿ</li>
</ul>
<p><strong>ç­”æ¡ˆï¼šé€šè¿‡å­ç½‘æ©ç è¿›è¡Œâ€œç½‘ç»œå·â€æå–ä¸æ¯”å¯¹ã€‚</strong></p>
<hr/>
<h2 data-id="heading-2">äºŒã€IP åœ°å€çš„ç»“æ„ï¼šç½‘ç»œä½ + ä¸»æœºä½</h2>
<p>IPv4 åœ°å€æ˜¯ä¸€ä¸ª 32 ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œé€šå¸¸ä»¥ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºï¼ˆå¦‚ <code>192.168.1.10</code>ï¼‰ã€‚</p>
<p>ä½†è¿™ä¸ªåœ°å€å…¶å®åŒ…å«ä¸¤éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-css" lang="css">IP åœ°å€ = <span class="hljs-selector-attr">[ç½‘ç»œæ ‡è¯†ï¼ˆNetwork IDï¼‰]</span> + <span class="hljs-selector-attr">[ä¸»æœºæ ‡è¯†ï¼ˆHost IDï¼‰]</span>
</code></pre>
<ul>
<li><strong>ç½‘ç»œæ ‡è¯†</strong>ï¼šæ ‡è¯†ä¸€ä¸ª<strong>å­ç½‘</strong>ï¼ˆå¦‚å…¬å¸å†…ç½‘ã€å®¶åº­ WiFiï¼‰</li>
<li><strong>ä¸»æœºæ ‡è¯†</strong>ï¼šæ ‡è¯†è¯¥å­ç½‘ä¸­çš„<strong>å…·ä½“è®¾å¤‡</strong>ï¼ˆå¦‚ä½ çš„ç”µè„‘ã€æ‰‹æœºï¼‰</li>
</ul>
<blockquote>
<p>âœ… <strong>å…³é”®</strong>ï¼šå­ç½‘æ©ç çš„ä½œç”¨å°±æ˜¯<strong>å‘Šè¯‰ç³»ç»Ÿï¼šå‰å¤šå°‘ä½æ˜¯ç½‘ç»œä½ï¼Œåå¤šå°‘ä½æ˜¯ä¸»æœºä½</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å­ç½‘æ©ç çš„æœ¬è´¨ï¼šäºŒè¿›åˆ¶â€œé®ç½©â€</h2>
<p>å­ç½‘æ©ç ä¹Ÿæ˜¯ä¸€ä¸ª 32 ä½çš„æ•°ï¼Œå…¶è§„åˆ™éå¸¸ç®€å•ï¼š</p>
<ul>
<li><strong>ç½‘ç»œä½å¯¹åº”çš„ä½ç½® â†’ 1</strong></li>
<li><strong>ä¸»æœºä½å¯¹åº”çš„ä½ç½® â†’ 0</strong></li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>

























<table><thead><tr><th>IP åœ°å€</th><th>192.168.1.10</th></tr></thead><tbody><tr><td>å­ç½‘æ©ç </td><td>255.255.255.0</td></tr><tr><td>äºŒè¿›åˆ¶ IP</td><td><code>11000000.10101000.00000001.00001010</code></td></tr><tr><td>äºŒè¿›åˆ¶æ©ç </td><td><code>11111111.11111111.11111111.00000000</code></td></tr><tr><td><strong>ç½‘ç»œå·ï¼ˆANDï¼‰</strong></td><td><code>11000000.10101000.00000001.00000000</code> â†’ <strong>192.168.1.0</strong></td></tr></tbody></table>
<h3 data-id="heading-4">ğŸ” è®¡ç®—è¿‡ç¨‹ï¼š<strong>IP åœ°å€ AND å­ç½‘æ©ç  = ç½‘ç»œåœ°å€</strong></h3>
<ul>
<li>æ‰€æœ‰åœ¨åŒä¸€å­ç½‘çš„è®¾å¤‡ï¼Œ<strong>ç½‘ç»œåœ°å€å¿…é¡»ç›¸åŒ</strong>ã€‚</li>
<li>ä¸»æœºä½å…¨ 0 è¡¨ç¤º<strong>ç½‘ç»œæœ¬èº«</strong>ï¼ˆå¦‚ 192.168.1.0ï¼‰</li>
<li>ä¸»æœºä½å…¨ 1 è¡¨ç¤º<strong>å¹¿æ’­åœ°å€</strong>ï¼ˆå¦‚ 192.168.1.255ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">å››ã€å¸¸è§å­ç½‘æ©ç ç¤ºä¾‹</h2>















































<table><thead><tr><th>å­ç½‘æ©ç ï¼ˆåè¿›åˆ¶ï¼‰</th><th>CIDR è¡¨ç¤ºæ³•</th><th>ç½‘ç»œä½</th><th>ä¸»æœºä½</th><th>å¯ç”¨ä¸»æœºæ•°</th></tr></thead><tbody><tr><td>255.0.0.0</td><td>/8</td><td>8</td><td>24</td><td>2Â²â´ - 2 = 16,777,214</td></tr><tr><td>255.255.0.0</td><td>/16</td><td>16</td><td>16</td><td>65,534</td></tr><tr><td><strong>255.255.255.0</strong></td><td><strong>/24</strong></td><td><strong>24</strong></td><td><strong>8</strong></td><td><strong>254</strong></td></tr><tr><td>255.255.255.128</td><td>/25</td><td>25</td><td>7</td><td>126</td></tr><tr><td>255.255.255.252</td><td>/30</td><td>30</td><td>2</td><td>2</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>ä¸ºä»€ä¹ˆå‡ 2ï¼Ÿ</strong><br/>
å› ä¸ºä¸»æœºä½å…¨ 0ï¼ˆç½‘ç»œåœ°å€ï¼‰å’Œå…¨ 1ï¼ˆå¹¿æ’­åœ°å€ï¼‰ä¸èƒ½åˆ†é…ç»™è®¾å¤‡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">äº”ã€CIDR è¡¨ç¤ºæ³•ï¼šæ›´ç®€æ´çš„å†™æ³•</h2>
<p>ç°ä»£ç½‘ç»œå¸¸ç”¨ <strong>CIDRï¼ˆæ— ç±»åˆ«åŸŸé—´è·¯ç”±ï¼‰</strong> è¡¨ç¤ºæ³•ï¼Œå°† IP å’Œæ©ç åˆå¹¶ï¼š</p>
<ul>
<li><code>192.168.1.0/24</code> = IP èŒƒå›´ 192.168.1.0 ~ 192.168.1.255ï¼Œæ©ç  255.255.255.0</li>
<li><code>10.0.0.0/8</code> = æ•´ä¸ª A ç±»ç§æœ‰ç½‘ç»œ</li>
<li><code>172.16.0.0/12</code> = B ç±»ç§æœ‰ç½‘ç»œï¼ˆ172.16.0.0 ~ 172.31.255.255ï¼‰</li>
</ul>
<blockquote>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼šç®€æ´ã€ä¾¿äºè·¯ç”±èšåˆã€æ”¯æŒçµæ´»åˆ’åˆ†å­ç½‘ï¼ˆVLSMï¼‰</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å…­ã€å­ç½‘åˆ’åˆ†ï¼ˆSubnettingï¼‰å®æˆ˜</h2>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ª <code>192.168.1.0/24</code> ç½‘ç»œï¼Œä½†éœ€è¦åˆ’åˆ†ä¸º <strong>ä¸¤ä¸ªå­ç½‘</strong>ï¼ˆå¦‚åŠå…¬åŒºå’Œè®¿å®¢åŒºï¼‰ã€‚</p>
<h3 data-id="heading-8">æ­¥éª¤ï¼š</h3>
<ol>
<li>
<p>å€Ÿç”¨ 1 ä½ä¸»æœºä½ä½œä¸ºç½‘ç»œä½ â†’ æ–°æ©ç  <code>/25</code>ï¼ˆ255.255.255.128ï¼‰</p>
</li>
<li>
<p>å¾—åˆ°ä¸¤ä¸ªå­ç½‘ï¼š</p>
<ul>
<li>
<p><strong>å­ç½‘1</strong>ï¼š192.168.1.0/25</p>
<ul>
<li>å¯ç”¨ IPï¼š192.168.1.1 ~ 192.168.1.126</li>
<li>å¹¿æ’­ï¼š192.168.1.127</li>
</ul>
</li>
<li>
<p><strong>å­ç½‘2</strong>ï¼š192.168.1.128/25</p>
<ul>
<li>å¯ç”¨ IPï¼š192.168.1.129 ~ 192.168.1.254</li>
<li>å¹¿æ’­ï¼š192.168.1.255</li>
</ul>
</li>
</ul>
</li>
</ol>
<blockquote>
<p>ğŸŒ <strong>å¥½å¤„</strong>ï¼š</p>
<ul>
<li>éš”ç¦»å¹¿æ’­åŸŸï¼Œå‡å°‘ç½‘ç»œæ‹¥å µ</li>
<li>æé«˜å®‰å…¨æ€§ï¼ˆä¸åŒå­ç½‘éœ€è·¯ç”±å™¨æ‰èƒ½é€šä¿¡ï¼‰</li>
<li>æ›´é«˜æ•ˆåˆ©ç”¨ IP åœ°å€</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-9">ä¸ƒã€å­ç½‘æ©ç åœ¨å®é™…ä¸­çš„ä½œç”¨</h2>
<h3 data-id="heading-10">1. <strong>æœ¬åœ°é€šä¿¡åˆ¤æ–­</strong></h3>
<p>å½“ä½ çš„ç”µè„‘è¦è®¿é—® <code>192.168.1.20</code>ï¼š</p>
<ul>
<li>è‡ªèº« IPï¼š192.168.1.10/24 â†’ ç½‘ç»œå· = 192.168.1.0</li>
<li>ç›®æ ‡ IPï¼š192.168.1.20/24 â†’ ç½‘ç»œå· = 192.168.1.0</li>
<li><strong>ç½‘ç»œå·ç›¸åŒ â†’ ç›´æ¥é€šè¿‡ ARP å‘é€ï¼Œæ— éœ€ç»è¿‡è·¯ç”±å™¨</strong></li>
</ul>
<h3 data-id="heading-11">2. <strong>è·¯ç”±å†³ç­–</strong></h3>
<p>å¦‚æœè®¿é—® <code>8.8.8.8</code>ï¼š</p>
<ul>
<li>ç½‘ç»œå· â‰  æœ¬åœ°ç½‘ç»œ â†’ æ•°æ®åŒ…äº¤ç»™<strong>é»˜è®¤ç½‘å…³ï¼ˆè·¯ç”±å™¨ï¼‰</strong></li>
</ul>
<h3 data-id="heading-12">3. <strong>DHCP è‡ªåŠ¨åˆ†é…</strong></h3>
<p>è·¯ç”±å™¨é€šè¿‡å­ç½‘æ©ç çŸ¥é“å¯åˆ†é…çš„ IP èŒƒå›´ï¼ˆå¦‚ 192.168.1.100~200ï¼‰</p>
<hr/>
<h2 data-id="heading-13">å…«ã€å¸¸è§è¯¯åŒºæ¾„æ¸…</h2>
<h3 data-id="heading-14">âŒ è¯¯åŒº1ï¼šâ€œå­ç½‘æ©ç å†³å®š IP åœ°å€èŒƒå›´â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šå­ç½‘æ©ç <strong>é…åˆ IP åœ°å€</strong>æ‰èƒ½ç¡®å®šèŒƒå›´ã€‚å•ç‹¬è¯´â€œ255.255.255.0 å¯¹åº” 254 ä¸ª IPâ€æ˜¯ä¸ä¸¥è°¨çš„ã€‚</li>
</ul>
<h3 data-id="heading-15">âŒ è¯¯åŒº2ï¼šâ€œæ‰€æœ‰å®¶åº­ç½‘ç»œéƒ½æ˜¯ /24â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šç°åœ¨å¾ˆå¤šå…‰çŒ«/è·¯ç”±å™¨ä½¿ç”¨ <code>/23</code>ï¼ˆ255.255.254.0ï¼‰ç”šè‡³æ›´å¤§ï¼Œä»¥æ”¯æŒæ›´å¤š IoT è®¾å¤‡ã€‚</li>
</ul>
<h3 data-id="heading-16">âŒ è¯¯åŒº3ï¼šâ€œå­ç½‘æ©ç å¯ä»¥ä»»æ„è®¾ç½®â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šå¿…é¡»ä¿è¯<strong>åŒä¸€å­ç½‘å†…æ‰€æœ‰è®¾å¤‡ä½¿ç”¨ç›¸åŒçš„æ©ç </strong>ï¼Œå¦åˆ™ä¼šå¯¼è‡´é€šä¿¡å¼‚å¸¸ï¼ˆå¦‚ A è®¤ä¸ºè‡ªå·±å’Œ B åŒç½‘æ®µï¼ŒB å´è®¤ä¸ºä¸åœ¨ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-17">ä¹ã€å·¥å…·æ¨èï¼šå¿«é€Ÿè®¡ç®—å­ç½‘</h2>
<ul>
<li>
<p><strong>åœ¨çº¿å·¥å…·</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsubnet-calculator.com%2F" target="_blank" title="https://subnet-calculator.com/" ref="nofollow noopener noreferrer">subnet-calculator.com</a></p>
</li>
<li>
<p><strong>å‘½ä»¤è¡Œ</strong>ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">Linux/macOS</span>
ipcalc 192.168.1.0/25
<span class="hljs-meta prompt_">
# </span><span class="bash">Windows (PowerShell)</span>
Get-NetIPAddress | Select IPAddress, PrefixLength
</code></pre>
</li>
</ul>
<hr/>
<h2 data-id="heading-18">åã€æ€»ç»“</h2>





























<table><thead><tr><th>æ¦‚å¿µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å­ç½‘æ©ç </strong></td><td>32 ä½â€œé®ç½©â€ï¼Œç”¨äºåˆ†ç¦» IP çš„ç½‘ç»œä½å’Œä¸»æœºä½</td></tr><tr><td><strong>æ ¸å¿ƒæ“ä½œ</strong></td><td><code>IP AND Mask = Network Address</code></td></tr><tr><td><strong>å…³é”®ä½œç”¨</strong></td><td>åˆ¤æ–­æ˜¯å¦åŒç½‘æ®µã€æŒ‡å¯¼è·¯ç”±ã€åˆ’åˆ†å¹¿æ’­åŸŸ</td></tr><tr><td><strong>ç°ä»£è¡¨ç¤º</strong></td><td>CIDRï¼ˆå¦‚ /24ï¼‰å–ä»£ä¼ ç»Ÿæ©ç å†™æ³•</td></tr><tr><td><strong>è®¾è®¡æ€æƒ³</strong></td><td><strong>åˆ†å±‚å¯»å€</strong> â€”â€” å…ˆæ‰¾ç½‘ç»œï¼Œå†æ‰¾ä¸»æœº</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>è®°ä½</strong>ï¼š<br/>
<strong>å­ç½‘æ©ç ä¸æ˜¯â€œé™åˆ¶â€ï¼Œè€Œæ˜¯â€œç»„ç»‡â€</strong> ã€‚<br/>
å®ƒè®©åºå¤§çš„äº’è”ç½‘èƒ½å¤Ÿè¢«é«˜æ•ˆã€æœ‰åºåœ°ç®¡ç†ã€‚</p>
</blockquote>
<p>æŒæ¡å­ç½‘æ©ç ï¼Œæ˜¯ä½ è¿ˆå‘ç½‘ç»œå·¥ç¨‹å¸ˆã€DevOps æˆ–äº‘æ¶æ„å¸ˆçš„é‡è¦ä¸€æ­¥ã€‚ä¸‹æ¬¡å½“ä½ é…ç½®è·¯ç”±å™¨æˆ–æ’æŸ¥ç½‘ç»œé—®é¢˜æ—¶ï¼Œä½ ä¼šæ„Ÿè°¢ä»Šå¤©è®¤çœŸè¯»å®Œè¿™ç¯‡æ–‡ç« çš„è‡ªå·±ï¼</p>
<hr/>
<p><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼š</p>
<ul>
<li>RFC 950: Internet Standard Subnetting Procedure</li>
<li>ã€ŠTCP/IP è¯¦è§£ å·1ã€‹ç¬¬5ç« ï¼šIP å±‚</li>
<li>AWS VPC å­ç½‘è§„åˆ’æœ€ä½³å®è·µ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®ä¹ ç”Ÿâ€œå¬å¤šäº†åè€Œæ›´ä¹±â€â€”â€”æœåŠ¡ç«¯å¼€å‘çš„è‡ªæ•‘æ–¹æ³•è®º]]></title>    <link>https://juejin.cn/post/7602824293164679183</link>    <guid>https://juejin.cn/post/7602824293164679183</guid>    <pubDate>2026-02-04T14:18:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602824293164679183" data-draft-id="7602837527674126351" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®ä¹ ç”Ÿâ€œå¬å¤šäº†åè€Œæ›´ä¹±â€â€”â€”æœåŠ¡ç«¯å¼€å‘çš„è‡ªæ•‘æ–¹æ³•è®º"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-04T14:18:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´"/> <meta itemprop="url" content="https://juejin.cn/user/4257747754552599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®ä¹ ç”Ÿâ€œå¬å¤šäº†åè€Œæ›´ä¹±â€â€”â€”æœåŠ¡ç«¯å¼€å‘çš„è‡ªæ•‘æ–¹æ³•è®º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4257747754552599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èˆ’ä¸€ç¬‘ä¸ç§ƒå¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T14:18:09.000Z" title="Wed Feb 04 2026 14:18:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšæœåŠ¡ç«¯çš„äººï¼Œæœ€æ€•çš„å…¶å®ä¸æ˜¯å†™ä»£ç ã€‚</p>
<p>è€Œæ˜¯ä½ å·²ç»è§£é‡Šåˆ°å£å¹²èˆŒç‡¥ï¼Œå¯¹æ–¹è½¬å¤´å¯¹å¤–åŒæ­¥æ—¶ä¾ç„¶èƒ½åšåˆ°ï¼š</p>
<blockquote>
<p><strong>æŒ‡é¹¿ä¸ºé©¬ï¼Œå—è¾•åŒ—è¾™ã€‚</strong></p>
</blockquote>
<p>æœ€è¿‘æˆ‘å°±é‡åˆ°äº†ä¸€æ¬¡ç‰¹åˆ«å…¸å‹çš„åœºæ™¯ï¼š</p>
<p>æˆ‘ä»¥ä¸ºè‡ªå·±è®²å¾—å¾ˆæ¸…æ¥šï¼Œ ç»“æœç¬¬äºŒå¤©å¯¹é½æ—¶ï¼Œè®¤çŸ¥å®Œå…¨è·‘åï¼Œç”šè‡³è¿˜å˜æˆäº†ï¼š</p>
<blockquote>
<p>â€œè¿™æ˜¯ XX è®©æˆ‘è¿™ä¹ˆåšçš„ã€‚â€</p>
</blockquote>
<p>é‚£ä¸€åˆ»ï¼Œè¯´ä¸å°´å°¬æ˜¯å‡çš„ã€‚</p>
<p>æ‰€ä»¥è¿™ç¯‡æ–‡ç« æˆ‘æƒ³ä»è‡ªå·±çš„è§†è§’å‡ºå‘ï¼Œè®°å½•ä¸€æ¬¡çœŸå®çš„å¸¦æ•™äº‹æ•…ï¼Œä¹Ÿé¡ºä¾¿æ€»ç»“ä¸€å¥—æœåŠ¡ç«¯äººå¸¸ç”¨çš„â€œè‡ªæ•‘æ–¹æ³•è®ºâ€ã€‚</p>
<hr/>
<h2 data-id="heading-0">èƒŒæ™¯ï¼šMCP å·¥å…·èƒ½åŠ›çš„è½åœ°</h2>
<p>å…¬å¸æœ€è¿‘éœ€è¦åœ¨ç°æœ‰ä¸šåŠ¡æ¨¡å—ä¸­ï¼Œè¡¥é½ MCP å·¥å…·è°ƒç”¨èƒ½åŠ›ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯è¦è®©ä¸šåŠ¡æœåŠ¡å…·å¤‡ï¼š</p>
<ul>
<li>å·¥å…·æ³¨å†Œ</li>
<li>æƒé™æ ¡éªŒ</li>
<li>Agent è°ƒç”¨</li>
<li>ç»Ÿä¸€æ‰§è¡Œé“¾è·¯</li>
</ul>
<p>ä¸Šå‘¨å…­æˆ‘åŸºäºå…«ä¸€èœåˆ€å¤§ä½¬çš„å¼€æºé¡¹ç›® <strong>Knife4j</strong> åšäº†ä¸€ä¸ª POCï¼Œå®ç°äº†åŸºç¡€çš„è°ƒç”¨éª¨æ¶ã€‚</p>
<p>åç»­éœ€è¦è¡¥é½ Agent è°ƒç”¨ä¾§çš„å®Œæ•´é—­ç¯ï¼Œè¿™éƒ¨åˆ†äº¤ç»™å®ä¹ ç”Ÿå°WåŒå­¦ç»§ç»­æ¨è¿›ã€‚</p>
<hr/>
<h2 data-id="heading-1">æœåŠ¡äº¤äº’æµç¨‹ï¼ˆPOCç‰ˆæœ¬ï¼‰</h2>
<p>æ•´ä½“è°ƒç”¨é“¾è·¯å¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0dd0d92bacf442af9fdd8a55d5f7b534~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IiS5LiA56yR5LiN56eD5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770819491&amp;x-signature=YBvjsJIvNw88LldflZHbQHdl8nY%3D" alt="img" loading="lazy"/></p>
<p>è¿™ä¸ªæµç¨‹æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä½†å¯¹äºå®ä¹ ç”Ÿæ¥è¯´ï¼ŒçœŸæ­£éš¾çš„å¾€å¾€ä¸æ˜¯â€œæ€ä¹ˆå†™ä»£ç â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆç³»ç»Ÿè¦è¿™ä¹ˆè®¾è®¡ï¼Ÿ å“ªäº›è¾¹ç•Œä¸èƒ½ç¢°ï¼Ÿ å“ªäº›ä¸œè¥¿çœ‹èµ·æ¥èƒ½åšï¼Œå…¶å®ä¸èƒ½åšï¼Ÿ</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">æ ¸å¿ƒç–‘æƒ‘ç‚¹ï¼šæƒé™ä¸å·¥å…·è¾¹ç•Œ</h2>
<p>åœ¨ MCP å·¥å…·æ¥å…¥è¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€ä¸ªç»•ä¸å¼€çš„é—®é¢˜å°±æ˜¯ï¼š</p>
<h3 data-id="heading-3">Token åˆ°åº•åœ¨è¿™é‡Œæ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ</h3>
<p>æƒé™æ ¡éªŒæ˜¯å·¥å…·è°ƒç”¨é“¾è·¯çš„ç¬¬ä¸€é“é—¨æ§›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9a0b7dcec8746458ed90f6c94a4f94d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IiS5LiA56yR5LiN56eD5aS0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770819491&amp;x-signature=fYjdy5AUq6AEkbX7Ht4U2JI5FYY%3D" alt="img" loading="lazy"/></p>
<p>è¿™é‡Œå…¶å®ç‰µæ‰¯åˆ°ä¸€æ•´å¥—â€œä¿¡ä»»è¿ç§»â€çš„æ¼”è¿›ï¼š</p>
<ul>
<li>æœ€æ—©çš„ Cookie</li>
<li>åæ¥çš„ Session</li>
<li>å†åˆ° JWT Token</li>
<li>ä»¥åŠ Sa-Token è¿™ç§å·¥ç¨‹åŒ–å°è£…</li>
</ul>
<p>è¿™äº›ä¸œè¥¿æˆ‘å½“æ—¶ä¸€å£æ°”å…¨è®²äº†ã€‚</p>
<p>è®²å¾—å¾ˆçˆ½ï¼Œä¹Ÿå¾ˆç»†ã€‚</p>
<p>ä½†ç°åœ¨å›å¤´çœ‹ï¼š</p>
<blockquote>
<p>ä¿¡æ¯å¯†åº¦å¤ªé«˜ï¼Œå¯¹å®ä¹ ç”Ÿæ¥è¯´åè€Œæ˜¯ä¸€ç§è´Ÿæ‹…ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äº‹æ•…ï¼šè®²å¤ªå¤šå¯¼è‡´ä¿¡æ¯è¿‡è½½ï¼Œå¯¹å¤–æ²Ÿé€šå¤±çœŸ</h2>
<p>é—®é¢˜å‘ç”Ÿåœ¨ä¸€æ¬¡å¾ˆå…¸å‹çš„åœºæ™¯ã€‚</p>
<p>å®ä¹ ç”Ÿæå‡ºäº†ä¸€ä¸ªâ€œçœ‹èµ·æ¥å¾ˆèªæ˜â€çš„å®ç°æƒ³æ³•ã€‚</p>
<p>æˆ‘æ‹…å¿ƒä»–èµ°åï¼Œäºæ˜¯èŠ±äº†ä¸€ä¸ªå¤šå°æ—¶é€æ¡è§£é‡Šï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆä¸è¡Œ</li>
<li>é£é™©åœ¨å“ª</li>
<li>ç³»ç»Ÿè¾¹ç•Œæ˜¯ä»€ä¹ˆ</li>
<li>æ¨èçš„æ›¿ä»£æ–¹æ¡ˆæ˜¯ä»€ä¹ˆ</li>
</ul>
<p>å½“æ—¶æˆ‘ä»¥ä¸ºè‡ªå·±è®²å¾—è¶³å¤Ÿæ¸…æ¥šã€‚</p>
<p>ç»“æœç¬¬äºŒå¤©ï¼Œä»–å»å’Œå¦ä¸€ä¸ªåŒäº‹å¯¹é½æ—¶ï¼Œè®¤çŸ¥å®Œå…¨è·‘åã€‚</p>
<p>ç”šè‡³å¯¹æ–¹è½¬è¿°æˆï¼š</p>
<blockquote>
<p>â€œè¿™æ˜¯ XX è®©æˆ‘è¿™ä¹ˆåšçš„ã€‚â€</p>
</blockquote>
<p>é‚£ä¸€åˆ»æˆ‘éå¸¸å°´å°¬ã€‚</p>
<p>åæ¥æˆ‘æ„è¯†åˆ°ï¼š</p>
<p>è¿™ä¸æ˜¯ä»–â€œç¬¨â€ï¼Œè€Œæ˜¯æˆ‘æŠŠâ€œçŸ¥è¯†å¯†åº¦â€æ‹‰æ»¡äº†ï¼Œå´æ²¡æœ‰åšâ€œç†è§£é—­ç¯â€ã€‚</p>
<hr/>
<h2 data-id="heading-5">å†™åœ¨æœ€åï¼šè®²è§£ä¸æ˜¯äº¤ä»˜ï¼Œé—­ç¯æ‰æ˜¯äº¤ä»˜</h2>
<p>å¸¦å®ä¹ ç”Ÿæœ€å¤§çš„æŒ‘æˆ˜ï¼Œä»æ¥ä¸æ˜¯æŠ€æœ¯éš¾åº¦ã€‚</p>
<p>è€Œæ˜¯ï¼š</p>
<blockquote>
<p>ä½ ä»¥ä¸ºä½ è®²æ¸…æ¥šäº†ï¼Œ ä½†ä»–å…¶å®åªæ˜¯â€œå¬è¿‡äº†â€ã€‚</p>
</blockquote>
<p>ä»é‚£å¤©ä¹‹åæˆ‘æ‰çœŸæ­£æ„è¯†åˆ°ï¼š</p>
<p><strong>è®²è§£ä¸æ˜¯äº¤ä»˜ï¼Œé—­ç¯æ‰æ˜¯äº¤ä»˜ã€‚</strong></p>
<p>ä¸‹ä¸€æ¬¡æˆ‘ä¼šæ›´å…‹åˆ¶ï¼š</p>
<ul>
<li>å°‘è®²ä¸€ç‚¹åŸç†</li>
<li>å¤šåšä¸€ç‚¹ç¡®è®¤</li>
<li>è®©å¯¹æ–¹å…ˆå¤è¿°ï¼Œå†å»æ‰§è¡Œ</li>
<li>å¯¹å¤–åŒæ­¥å‰å…ˆè¿‡ä¸€é summary</li>
</ul>
<p>å› ä¸ºå¸¦äººè¿™ä»¶äº‹ï¼Œæœ¬è´¨ä¸Šä¸æ˜¯â€œè¾“å‡ºçŸ¥è¯†â€ï¼Œè€Œæ˜¯â€œäº¤ä»˜ç†è§£â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redis äº‹åŠ¡çš„â€œåŸå­æ€§â€è¿·æ€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† Lua è„šæœ¬]]></title>    <link>https://juejin.cn/post/7602811649126613043</link>    <guid>https://juejin.cn/post/7602811649126613043</guid>    <pubDate>2026-02-04T14:44:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602811649126613043" data-draft-id="7602901565024862217" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redis äº‹åŠ¡çš„â€œåŸå­æ€§â€è¿·æ€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† Lua è„šæœ¬"/> <meta itemprop="keywords" content="Redis,é¢è¯•,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-02-04T14:44:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ—…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3485898277388519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redis äº‹åŠ¡çš„â€œåŸå­æ€§â€è¿·æ€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€ç»ˆé€‰æ‹©äº† Lua è„šæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485898277388519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ—…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T14:44:09.000Z" title="Wed Feb 04 2026 14:44:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢çš„è¯</strong></p>
<p>ä½œä¸ºä¸€ä¸ªé•¿æœŸå’Œå…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰æ‰“äº¤é“çš„å¼€å‘è€…ï¼Œåˆæ¬¡æŸ¥é˜… Redis æ–‡æ¡£æ—¶ï¼Œçœ‹åˆ° <code>MULTI</code>ã€<code>EXEC</code>ã€<code>DISCARD</code> è¿™äº›æŒ‡ä»¤ï¼Œå¿ƒä¸­éš¾å…æ¶Œèµ·ä¸€è‚¡ç”±äºç†Ÿæ‚‰è€Œå¸¦æ¥çš„å®‰å…¨æ„Ÿã€‚</p>
<p>æˆ‘ä»¬çš„å¤§è„‘ä¼šè‡ªåŠ¨å»ºç«‹æ˜ å°„ï¼š<code>MULTI</code> å°±æ˜¯ <code>BEGIN</code>ï¼Œ<code>EXEC</code> å°±æ˜¯ <code>COMMIT</code>ï¼Œ<code>DISCARD</code> å°±æ˜¯ <code>ROLLBACK</code>ã€‚è¿™å¥—ç»„åˆæ‹³æ‰“ä¸‹æ¥ï¼Œæ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘ä¼¼ä¹éƒ½åº”è¯¥å…·å¤‡äº†â€œä¸æˆåŠŸä¾¿æˆä»â€çš„åŸå­æ€§ä¿éšœã€‚</p>
<p>ä½†è¿™æ°æ°æ˜¯ Redis ç»™æˆ‘ä¸Šçš„ç¬¬ä¸€è¯¾ï¼š<strong>ç›¸ä¼¼çš„å‘½åèƒŒåï¼Œå¾€å¾€è—ç€æˆªç„¶ä¸åŒçš„çµé­‚ã€‚</strong> å½“ä½ æŠŠ MySQL çš„äº‹åŠ¡è§‚ç”Ÿæ¬ç¡¬å¥—åˆ° Redis èº«ä¸Šæ—¶ï¼Œé”™ä»˜å°±å·²ç»å¼€å§‹äº†ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ å‰¥å¼€ <strong>Redis äº‹åŠ¡</strong>çš„å¤–è¡£ï¼Œä»â€œåŸå­æ€§â€çš„å®šä¹‰åå·®è¯´èµ·ï¼ŒèŠèŠä¸ºä»€ä¹ˆåœ¨ç°ä»£å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¶Šæ¥è¶Šå€¾å‘äº<strong>ç”¨ Lua è„šæœ¬æ¥æ›¿ä»£å®ƒã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€å…ˆæŠŠè¯¯ä¼šè§£å¼€ï¼šRedis äº‹åŠ¡ä¸æ˜¯ ACID</h2>
<p><strong>åœ¨å…³ç³»å‹æ•°æ®åº“çš„ä¸–ç•Œé‡Œï¼Œâ€œäº‹åŠ¡â€äºŒå­—é‡è‹¥åƒé’§</strong>ï¼Œå®ƒå‡ ä¹ç­‰åŒäº <strong>ACID</strong>ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰ã€‚æˆ‘ä»¬ä¹ æƒ¯äº†â€œè¦ä¹ˆå…¨æœ‰ï¼Œè¦ä¹ˆå…¨æ— â€çš„å®‰å…¨æ„Ÿã€‚</p>
<p>è€Œåœ¨ Redis çš„ä¸–ç•Œé‡Œï¼Œ<code>MULTI</code> å’Œ <code>EXEC</code> æ›´åƒæ˜¯ä¸€ä¸ª<strong>æ‰¹å¤„ç†ä¿¡å·</strong>ï¼š</p>
<blockquote>
<p><strong>æŠŠä¸€å †å‘½ä»¤å…ˆæ”¾è¿›é˜Ÿåˆ—é‡Œæ’é˜Ÿï¼Œç­‰åˆ° <code>EXEC</code> æ—¶ï¼Œä¸€æ¬¡æ€§ã€æŒ‰é¡ºåºåœ°æ‰§è¡Œå®ƒä»¬ã€‚</strong></p>
</blockquote>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå·¨å¤§çš„è®¤çŸ¥åå·®ã€‚å½“æˆ‘ä»¬è°ˆè®º Redis çš„â€œåŸå­æ€§â€æ—¶ï¼ŒRedis æŒ‡çš„å…¶å®æ˜¯ <strong>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</strong>ï¼Œè€Œä¸æ˜¯ <strong>å›æ»šï¼ˆRollbackï¼‰</strong>ã€‚</p>
<ul>
<li><strong>å®ƒä¿è¯çš„æ˜¯</strong>ï¼š<strong>æˆ‘æ‰§è¡Œè¿™æ®µå‘½ä»¤çš„æ—¶å€™ï¼Œåˆ«äººä¸èƒ½æ’é˜Ÿï¼ˆç‹¬å æ‰§è¡Œï¼‰ã€‚</strong></li>
<li><strong>å®ƒä¸ä¿è¯çš„æ˜¯</strong>ï¼š<strong>å¦‚æœæˆ‘æ‰§è¡Œåˆ°ä¸€åŠæŠ¥é”™äº†ï¼Œæˆ‘ä¼šå¸®ä½ æŠŠå‰é¢çš„æ“ä½œæ’¤é”€ï¼ˆå¤±è´¥å›æ»šï¼‰ã€‚</strong></li>
</ul>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ Redis äº‹åŠ¡å’Œæ ‡å‡† ACID äº‹åŠ¡çš„åŒºåˆ«ï¼š</p>



































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">å…³ç³»å‹æ•°æ®åº“ (MySQL)</th><th align="left">Redis äº‹åŠ¡</th><th align="left">å·®å¼‚è§£è¯»</th></tr></thead><tbody><tr><td align="left"><strong>åŸå­æ€§ (Atomicity)</strong></td><td align="left"><strong>All or Nothing</strong> <br/> å¤±è´¥å³å›æ»šï¼Œå¦‚åŒæœªå‘ç”Ÿè¿‡</td><td align="left"><strong>All or Partial</strong> <br/> æ²¡å¾—å•†é‡ï¼Œé”™äº†å°±é”™äº†ï¼Œå‰©ä¸‹çš„æ¥ç€å¹²</td><td align="left">Redis ä¸æ”¯æŒ Rollbackï¼Œéƒ¨åˆ†æˆåŠŸæ˜¯å¸¸æ€</td></tr><tr><td align="left"><strong>ä¸€è‡´æ€§ (Consistency)</strong></td><td align="left">å¼ºä¸€è‡´æ€§ <br/> çº¦æŸå¿…é¡»æ»¡è¶³</td><td align="left">å¼±ä¸€è‡´æ€§ <br/> ä¾èµ–ä¸šåŠ¡ä»£ç ä¿éšœ</td><td align="left">Redis ä¸ä¼šæ ¡éªŒä¸šåŠ¡çº¦æŸï¼ˆå¦‚å¤–é”®ã€éç©ºç­‰ï¼‰</td></tr><tr><td align="left"><strong>éš”ç¦»æ€§ (Isolation)</strong></td><td align="left">æœ‰å¤šç§éš”ç¦»çº§åˆ« (RC/RR/Serializable)</td><td align="left"><strong>ä¸²è¡ŒåŒ–æ‰§è¡Œ</strong> <br/> æ‰§è¡ŒæœŸé—´ä¸å¯è¢«æ‰“æ–­</td><td align="left">å¾—ç›Šäºå•çº¿ç¨‹æ¨¡å‹ï¼Œ<code>EXEC</code> æœŸé—´å¤©ç„¶éš”ç¦»</td></tr><tr><td align="left"><strong>æŒä¹…æ€§ (Durability)</strong></td><td align="left">WAL æ—¥å¿—ä¿éšœ <br/> æ‰ç”µä¸ä¸¢å¤±</td><td align="left">å–å†³äº AOF/RDB é…ç½®</td><td align="left">é»˜è®¤é…ç½®ä¸‹é€šå¸¸æœ‰æ•°æ®ä¸¢å¤±é£é™©</td></tr></tbody></table>
<blockquote>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong>
<strong>Redis äº‹åŠ¡æ˜¯â€œå‘½ä»¤é˜Ÿåˆ— + ç‹¬å æ‰§è¡Œâ€ï¼Œç»ä¸æ˜¯â€œå¤±è´¥å›æ»š + å¼ºä¸€è‡´â€ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-1">äºŒã€æ®‹é…·çš„çœŸç›¸ï¼šå®ƒçœŸçš„ä¸åŒ…å›æ»š</h2>
<p>ä¸ºäº†æŠŠè¿™ä¸ªæ¦‚å¿µåˆ»è¿› DNAï¼Œæˆ‘ä»¬çœ‹ä¸¤ç§çœŸå®çš„é”™è¯¯åœºæ™¯ã€‚</p>
<h3 data-id="heading-2">1. å…¥é˜Ÿæ—¶çš„â€œä½çº§é”™è¯¯â€ï¼ˆå…¨å‘˜è¿åï¼‰</h3>
<p>å¦‚æœä½ åœ¨<strong>å‘½ä»¤å…¥é˜Ÿé˜¶æ®µ</strong>å°±çŠ¯äº†è¯­æ³•é”™è¯¯ï¼ˆæ¯”å¦‚å‚æ•°å†™å°‘äº†ï¼‰ï¼ŒRedis è¿˜æ˜¯è®²é“ç†çš„ï¼Œå®ƒä¼šç›´æ¥æ‹’ç»æ•´ä¸ªäº‹åŠ¡ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">127.0.0.1:6379&gt; MULTI
OK
127.0.0.1:6379&gt; SET key1 value1
QUEUED
127.0.0.1:6379&gt; SET key2      <span class="hljs-comment"># &lt;--- è¯­æ³•é”™è¯¯ï¼šå°‘äº†å‚æ•°</span>
(error) ERR wrong number of arguments <span class="hljs-keyword">for</span> <span class="hljs-string">'set'</span> <span class="hljs-built_in">command</span>
127.0.0.1:6379&gt; EXEC
(error) EXECABORT Transaction discarded because of previous errors.
</code></pre>
<p>è¿™æ—¶å€™ï¼Œ<strong>æ‰€æœ‰å‘½ä»¤éƒ½ä¸ä¼šæ‰§è¡Œ</strong>ã€‚è¿™ç¬¦åˆæˆ‘ä»¬å¯¹â€œäº‹åŠ¡â€çš„é¢„æœŸã€‚</p>
<h3 data-id="heading-3">2. æ‰§è¡Œæ—¶çš„â€œè¿è¡Œæ—¶é”™è¯¯â€ï¼ˆè™½æ­»çŠ¹è¿›ï¼‰</h3>
<p>è¿™æ‰æ˜¯çœŸæ­£çš„å‘ã€‚å‡è®¾è¯­æ³•æ²¡é—®é¢˜ï¼Œä½†åœ¨<strong>æ‰§è¡ŒæœŸé—´</strong>ï¼ŒæŸæ¡å‘½ä»¤å› ä¸ºæ•°æ®ç±»å‹ä¸åŒ¹é…æŠ¥é”™äº†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">127.0.0.1:6379&gt; MULTI
OK
127.0.0.1:6379&gt; SET user:A:points 100
QUEUED
127.0.0.1:6379&gt; LPUSH user:A:points <span class="hljs-string">"error_data"</span>  <span class="hljs-comment"># &lt;--- å¯¹ String ç±»å‹åš List æ“ä½œï¼Œæ³¨å®šè¿è¡ŒæŠ¥é”™</span>
QUEUED
127.0.0.1:6379&gt; INCR user:A:points                 <span class="hljs-comment"># &lt;--- åç»­å‘½ä»¤</span>
QUEUED

127.0.0.1:6379&gt; EXEC
1) OK
2) (error) WRONGTYPE Operation against a key holding the wrong kind of value  &lt;--- æŠ¥é”™ï¼
3) (<span class="hljs-built_in">integer</span>) 101                                                              &lt;--- ä¾ç„¶æˆåŠŸäº†ï¼
</code></pre>
<p><strong>ç›®çªå£å‘†äº†å—ï¼Ÿ</strong>
ç¬¬äºŒæ¡å‘½ä»¤æŠ¥é”™äº†ï¼Œä½†ç¬¬ä¸‰æ¡å‘½ä»¤ä¾ç„¶æ¬¢å¿«åœ°æ‰§è¡Œäº†ã€‚æ•°æ®å‡ºç°äº†ä¸­é—´æ€ï¼šå³æ‰€è°“çš„â€œä¸ä¸€è‡´â€ã€‚</p>
<p>Redis å®˜æ–¹å¯¹æ­¤çš„è§£é‡Šéå¸¸â€œç›´ç”·â€ï¼š</p>
<blockquote>
<p>â€œåªæœ‰è¯­æ³•é”™è¯¯æ‰ä¼šè¢«æ‹¦æˆªï¼Œè¿è¡Œæ—¶é”™è¯¯å±äºç¨‹åºå‘˜çš„é€»è¾‘ Bugï¼ˆæ¯”å¦‚æŠŠ String å½“ List ç”¨ï¼‰ã€‚<strong>æ•°æ®åº“ä¸åº”è¯¥ä¸ºäº†ç¨‹åºå‘˜çš„ Bug ä¹°å•ï¼Œå»æå¤æ‚çš„å›æ»šæœºåˆ¶ã€‚</strong>â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€è¿›é˜¶ä¹‹è·¯ï¼šä»åŸç”Ÿæ‰¹é‡åˆ° Lua è„šæœ¬</h2>
<blockquote>
<p><strong>ğŸ’¡ é¢„å¤‡çŸ¥è¯†ï¼šRTT æ˜¯æ€§èƒ½æ€æ‰‹</strong></p>
<p>ä¸€ä¸ª Redis å‘½ä»¤çš„æ‰§è¡Œå¯ä»¥ç®€åŒ–ä¸º 4 æ­¥ï¼š<strong>å‘é€å‘½ä»¤ â†’ å‘½ä»¤æ’é˜Ÿ â†’ å‘½ä»¤æ‰§è¡Œ â†’ è¿”å›ç»“æœ</strong>ã€‚</p>
<p>å…¶ä¸­ï¼Œç¬¬ 1 æ­¥å’Œç¬¬ 4 æ­¥çš„æ—¶é—´ä¹‹å’Œç§°ä¸º <strong>RTT (å¾€è¿”æ—¶é—´)</strong>ã€‚å¦‚æœæˆ‘æœ‰ 100 ä¸ªå‘½ä»¤ï¼Œä¸€ä¸ªä¸ªå‘å°±éœ€è¦ 100 æ¬¡ RTTï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½æµªè´¹åœ¨ç½‘ç»œä¼ è¾“ä¸Šã€‚
<strong>æ‰¹é‡æ“ä½œçš„æ ¸å¿ƒæ„ä¹‰ï¼Œå°±æ˜¯æŠŠ 100 æ¬¡ RTT å‹ç¼©æˆ 1 æ¬¡ã€‚</strong></p>
</blockquote>
<p>æ—¢ç„¶ <code>MULTI/EXEC</code> è¿™ä¹ˆâ€œå¤´é“â€ï¼Œé‚£æˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­åˆ°åº•è¯¥æ€ä¹ˆé€‰ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠ Redis çš„æ‰¹é‡æ“ä½œèƒ½åŠ›åˆ†ä¸ºå‡ ä¸ªæ®µä½ã€‚</p>
<h3 data-id="heading-5">Lv1. åŸç”Ÿæ‰¹é‡å‘½ä»¤ (MSET / MGET)</h3>
<p>è¿™æ˜¯æœ€ç®€å•ã€æœ€å¿«çš„æ–¹å¼ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šåŸç”Ÿçš„åŸå­æ€§ã€‚<code>MSET key1 val1 key2 val2</code> æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œ<strong>è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥</strong>ï¼ˆåœ¨ Redis å±‚é¢ï¼‰ã€‚</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">MSET key1 <span class="hljs-string">"Hello"</span> key2 <span class="hljs-string">"World"</span>
</code></pre>
</li>
<li><strong>å±€é™</strong>ï¼šåªèƒ½å¤„ç†åŒä¸€ç§å‘½ä»¤ï¼Œé€»è¾‘æ­»æ¿ã€‚</li>
</ul>
<h3 data-id="heading-6">Lv2. ç®¡é“ (Pipeline)</h3>
<p>å½“ä½ éœ€è¦æ‰¹é‡æ‰§è¡Œå‡ åä¸ªä¸åŒçš„å‘½ä»¤ï¼Œä¸”ä¸éœ€è¦å®ƒä»¬ä¹‹é—´æœ‰é€»è¾‘ä¾èµ–æ—¶ï¼ŒPipeline æ˜¯é¦–é€‰ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>å”¯å¿«ä¸ç ´</strong>ã€‚å®ƒæŠŠå‡ åä¸ªå‘½ä»¤æ‰“åŒ…ï¼Œä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼ˆRTTï¼‰å‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ‰§è¡Œå®Œå†ä¸€æ¬¡æ€§è¿”å›ã€‚</li>
<li><strong>å½¢è±¡ç†è§£</strong>ï¼š<strong>ä¸‹ 100 ä¸ªå• -&gt; ä¸€æ¬¡æ€§æ”¶ 100 ä¸ªå¿«é€’ (1 æ¬¡ RTT)</strong>ã€‚</li>
<li><strong>ä¸äº‹åŠ¡çš„åŒºåˆ«</strong>ï¼š
<ul>
<li><strong>éåŸå­æ€§</strong>ï¼šPipeline åªæ˜¯æ‰“åŒ…å‘é€ï¼ŒRedis å¯èƒ½ä¼šåœ¨å¤„ç† Pipeline ä¸­é—´ç©¿æ’æ‰§è¡Œå…¶ä»–å®¢æˆ·ç«¯çš„å‘½ä»¤ï¼ˆäº¤é”™æ‰§è¡Œï¼‰ã€‚</li>
<li><strong>æ•ˆç‡æ›´é«˜</strong>ï¼šä¸éœ€è¦åƒäº‹åŠ¡é‚£æ ·æ¯ä¸ªå‘½ä»¤éƒ½å‘ä¸€æ¬¡ï¼Œåªéœ€è¦å‘é€ä¸€æ¬¡ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">Lv3. äº‹åŠ¡ (MULTI / EXEC)</h3>
<p>æ¯” Pipeline å¤šäº†ä¸€å±‚ä¿éšœï¼š<strong>ç‹¬å æ‰§è¡Œ</strong>ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼š<strong>åŸå­æ“ä½œï¼ˆéš”ç¦»æ€§ï¼‰</strong>ã€‚
<ul>
<li><strong>ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡ä¸ä¼šåŒæ—¶è¿è¡Œ</strong>ã€‚åœ¨ <code>EXEC</code> æ‰§è¡ŒæœŸé—´ï¼ŒRedis ä¼šâ€œä»¥æ­¤ä¸ºå°Šâ€ï¼Œä¿è¯æ²¡æœ‰å…¶ä»–å®¢æˆ·ç«¯èƒ½æ’é˜Ÿã€‚</li>
</ul>
</li>
<li><strong>ç¼ºç‚¹</strong>ï¼š
<ul>
<li><strong>RTT å¼€é”€å¤§</strong>ï¼šäº‹åŠ¡ä¸­ <strong>æ¯ä¸ªå‘½ä»¤éƒ½éœ€è¦å•ç‹¬å‘é€</strong> åˆ°æœåŠ¡ç«¯å…¥é˜Ÿï¼Œè¯·æ±‚æ¬¡æ•°å¹¶æ²¡æœ‰å‡å°‘ã€‚</li>
<li><strong>ä¸æ”¯æŒå›æ»š</strong>ï¼Œä¸æ”¯æŒåœ¨äº‹åŠ¡ä¸­é—´åšé€»è¾‘åˆ¤æ–­ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">Lv3.1 äº‹åŠ¡ + WATCH (ä¹è§‚é”)</h3>
<p>å•çº¯çš„ <code>MULTI/EXEC</code> å¾€å¾€æ¯”è¾ƒé¸¡è‚‹ï¼Œå› ä¸ºå®ƒæ— æ³•æ„ŸçŸ¥ä¸­é—´çŠ¶æ€ã€‚<strong>ä½†è¿™å¥—æœºåˆ¶å”¯ä¸€çš„â€œç‹ç‰Œâ€ç»„åˆæ˜¯é…åˆ <code>WATCH</code> å‘½ä»¤ï¼Œå®ç°ä¹è§‚é” (CAS)ã€‚</strong></p>
<ul>
<li>
<p><strong>åœºæ™¯</strong>ï¼šç§’æ€æ‰£å‡åº“å­˜ã€‚</p>
<ul>
<li>åœ¨ <code>MULTI</code> ä¹‹å‰ <code>WATCH stock</code>ã€‚</li>
<li>å¦‚æœåœ¨ <code>EXEC</code> æ‰§è¡Œå‰ <code>stock</code> è¢«åˆ«äººæ”¹äº†ï¼Œæ•´ä¸ªäº‹åŠ¡åŸåœ°å–æ¶ˆï¼ˆè¿”å› nilï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">WATCH stock:001                <span class="hljs-comment"># 1. ç›‘è§†åº“å­˜</span>
GET stock:001                  <span class="hljs-comment"># 2. è¯»åº“å­˜ï¼Œå‘ç°æ˜¯ 10</span>
MULTI                          <span class="hljs-comment"># 3. å¼€å¯äº‹åŠ¡ (å¼€å§‹æ’é˜Ÿ)</span>
DECR stock:001                 <span class="hljs-comment"># 4. å‡åº“å­˜</span>
EXEC                           <span class="hljs-comment"># 5. æ‰§è¡Œ</span>
<span class="hljs-comment"># å¦‚æœåœ¨æ­¥éª¤ 1-5 ä¹‹é—´ï¼Œåˆ«äººæ”¹äº† stock:001ï¼Œè¿™é‡Œä¼šè¿”å› (nil)ï¼Œäº‹åŠ¡å›æ»šã€‚</span>
</code></pre>
</li>
<li>
<p><strong>è‡´å‘½å¼±ç‚¹</strong>ï¼š<strong>é«˜å¹¶å‘ä¸‹æ€§èƒ½æå·®</strong>ã€‚</p>
<ul>
<li>å°±åƒä¸€ç¾¤äººæŠ¢ä¸€ä¸ªéº¦å…‹é£ï¼Œä¸€ä¸ªäººæŠ¢åˆ°äº†ï¼Œå…¶ä»–äººçš„ <code>CAS</code> å…¨éƒ¨å¤±è´¥ï¼Œåªèƒ½å®¢æˆ·ç«¯é‡è¯•ï¼ˆè‡ªæ—‹ï¼‰ã€‚</li>
<li><strong>ç«äº‰è¶Šæ¿€çƒˆï¼Œé‡è¯•è¶Šé¢‘ç¹ï¼ŒCPU ç©ºè½¬è¶Šä¸¥é‡ã€‚</strong></li>
</ul>
</li>
</ul>
<h3 data-id="heading-9">Lv4. æœ€ç»ˆå…µå™¨ â€”â€” Lua è„šæœ¬</h3>
<p>ä» Redis 2.6 å¼€å§‹ï¼ŒLua è„šæœ¬æˆä¸ºäº†è§£å†³å¤æ‚åŸå­æ€§é—®é¢˜çš„æ ¸å¿ƒæ–¹æ¡ˆï¼Œå®ƒå®Œç¾æ›¿ä»£äº† <code>WATCH</code> äº‹åŠ¡ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå®ƒæ¯”äº‹åŠ¡å¼ºï¼Ÿ</strong></p>
<ol>
<li><strong>é€»è¾‘åŸå­æ€§</strong>ï¼šä¸€æ®µ Lua è„šæœ¬è¢«è§†ä½œä¸€æ¡å‘½ä»¤ã€‚Redis ä¿è¯è„šæœ¬æ‰§è¡ŒæœŸé—´ï¼Œ<strong>ä¸ä¼šæœ‰ä»»ä½•å…¶ä»–è„šæœ¬æˆ–å‘½ä»¤æ’å…¥</strong>ã€‚</li>
<li><strong>æ•ˆç‡æ›´é«˜</strong>ï¼šä¸éœ€è¦åƒ <code>WATCH</code> é‚£æ ·åå¤é‡è¯•ã€‚è„šæœ¬åœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œï¼Œåªæœ‰ä¸€æ¬¡ RTTã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼šå®‰å…¨çš„â€œå…ˆæŸ¥åæ”¹â€</strong></p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- åˆ¤æ–­ key æ˜¯å¦ç­‰äºé¢„æœŸå€¼ï¼Œå¦‚æœæ˜¯åˆ™åˆ é™¤</span>
<span class="hljs-keyword">if</span> redis.call(<span class="hljs-string">"GET"</span>, KEYS[<span class="hljs-number">1</span>]) == ARGV[<span class="hljs-number">1</span>] <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> redis.call(<span class="hljs-string">"DEL"</span>, KEYS[<span class="hljs-number">1</span>])
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
<span class="hljs-keyword">end</span>
</code></pre>
<p><strong>âš ï¸ å¿…é¡»è­¦æƒ•çš„ç¼ºé™·ï¼šLua ä¹Ÿä¸å›æ»šï¼</strong>
è™½ç„¶ Lua è„šæœ¬è¢«ç§°ä¸ºâ€œåŸå­æ“ä½œâ€ï¼Œä½†è¯·æ³¨æ„ï¼šå®ƒçš„åŸå­æ€§ä¾ç„¶æŒ‡çš„æ˜¯<strong>ä¸è¢«æ‰“æ‰°</strong>ï¼Œè€Œä¸æ˜¯<strong>å¤±è´¥å›æ»š</strong>ã€‚</p>
<blockquote>
<p><strong>å¦‚æœ Lua è„šæœ¬è¿è¡Œåˆ°ä¸­é€”å‡ºé”™ï¼ˆæ¯”å¦‚è°ƒç”¨äº†ä¸å­˜åœ¨çš„å‘½ä»¤ï¼Œæˆ–æ˜¾å¼æŠ¥é”™é€€å‡ºï¼‰ï¼Œè„šæœ¬ä¼šåœæ­¢æ‰§è¡Œï¼Œä½†ä¹‹å‰å·²ç»æ‰§è¡Œè¿‡çš„å†™æ“ä½œï¼Œæ˜¯ä¸ä¼šè¢«æ’¤é”€çš„ï¼</strong></p>
</blockquote>
<p>è¿™æ„å‘³ç€ï¼Œå³ä½¿æ˜¯ Luaï¼Œä¹Ÿä¸èƒ½ç»™ä½ å¸¦æ¥ RDBMS é‚£ç§â€œå›æ»šä¸€åˆ‡â€çš„å®‰å…¨æ„Ÿã€‚ä½ ä¾ç„¶éœ€è¦åœ¨ä»£ç å±‚é¢ä¿è¯é€»è¾‘çš„ä¸¥å¯†æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-10">å››ã€æ€»ç»“ï¼šé€‰å‹å†³ç­–è¡¨</h2>
<p>ä¸ºäº†è®©ä½ åœ¨å®é™…ä¸šåŠ¡ä¸­ä¸å†çº ç»“ï¼Œæˆ‘æ•´ç†äº†ä¸€ä»½ç®€å•çš„å†³ç­–è¡¨ï¼š</p>



































<table><thead><tr><th align="left">éœ€æ±‚åœºæ™¯</th><th align="left">æ¨èæ–¹æ¡ˆ</th><th align="left">æ ¸å¿ƒç†ç”±</th></tr></thead><tbody><tr><td align="left"><strong>ç®€å•æ‰¹é‡è¯»å†™ (KV)</strong></td><td align="left"><strong>MSET / MGET</strong></td><td align="left">åŸç”Ÿå‘½ä»¤ï¼Œæœ€å¿«ï¼Œæœ€çœå¿ƒã€‚</td></tr><tr><td align="left"><strong>å¤§é‡ç¦»æ•£å‘½ä»¤ (æ— å…³è”)</strong></td><td align="left"><strong>Pipeline</strong></td><td align="left">ç½‘ç»œå¼€é”€æœ€ä½ï¼Œååé‡æœ€é«˜ã€‚</td></tr><tr><td align="left"><strong>éœ€è¦ CAS (ä½å¹¶å‘)</strong></td><td align="left"><strong>WATCH + MULTI</strong></td><td align="left"><strong>äº‹åŠ¡å”¯ä¸€çš„ç”¨æ­¦ä¹‹åœ°ã€‚</strong> é€‚åˆä½é¢‘ç«äº‰ï¼Œå®ç°ç®€å•ã€‚</td></tr><tr><td align="left"><strong>å¤æ‚é€»è¾‘ / é«˜å¹¶å‘</strong></td><td align="left"><strong>Lua è„šæœ¬</strong></td><td align="left"><strong>è¡Œä¸šæ ‡å‡†ã€‚</strong> é¿å…äº† CAS è‡ªæ—‹çš„æ€§èƒ½å¼€é”€ï¼ŒåŸå­æ€§å¼ºã€‚</td></tr><tr><td align="left"><strong>å³ä½¿æŠ¥é”™ä¹Ÿè¦å›æ»š</strong></td><td align="left"><strong>MySQL / RDBMS</strong></td><td align="left"><strong>åˆ«ä¸ºéš¾ Redisã€‚</strong> å®ƒæ²¡æœ‰ Undo Logï¼Œåšä¸åˆ°çœŸæ­£çš„å›æ»šã€‚</td></tr></tbody></table>
<h2 data-id="heading-11">å†™åœ¨æœ€å</h2>
<p>å›å¤´çœ‹ï¼Œ<strong>Redis äº‹åŠ¡è¿™å¥—æœºåˆ¶ï¼Œå°±åƒæ˜¯ä¸€ä¸ªâ€œå¦‚æœä¸ä»”ç»†è¯»è¯´æ˜ä¹¦ä¸€å®šä¼šç”¨é”™â€çš„åŠæˆå“ã€‚</strong></p>
<p>ä½†æ­£æ˜¯è¿™ä¸ªâ€œåŠæˆå“â€ï¼ŒæŠ˜å°„å‡ºäº† Redis æœ€åº•å±‚çš„ä»·å€¼è§‚ï¼š<strong>ä¸ºäº†æ€§èƒ½ï¼Œå¯ä»¥ç‰ºç‰²ä¸€åˆ‡â€œçœ‹èµ·æ¥å¾ˆç¾â€çš„æŠ½è±¡</strong>ã€‚å®ƒæ‹’ç»äº†æ²‰é‡çš„ Undo Logï¼Œæ‹’ç»äº†å¤æ‚çš„éš”ç¦»çº§åˆ«ï¼Œåªç•™ä¸‹äº†ä¸€ä¸ªæœ€ç®€å•çš„â€œæ’é˜Ÿæ‰§è¡Œâ€é€»è¾‘ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ä¸‹æ¬¡å†å†™ä¸‹ <code>MULTI</code> çš„æ—¶å€™ï¼Œå¿ƒé‡Œè¦æ¸…æ¥šï¼š</p>
<ul>
<li>å¦‚æœåªæ˜¯ä¸ºäº†å¿«ï¼Œ<strong>Pipeline</strong> æ‰æ˜¯é‚£ä¸ªä¸è®²æ­¦å¾·çš„â€œåŠ é€Ÿå™¨â€ã€‚</li>
<li>å¦‚æœåªæ˜¯ä¸ºäº†é˜²æ’é˜Ÿï¼Œ<strong>Transaction</strong> å¤Ÿç”¨äº†ï¼Œä½†åœ¨é«˜å¹¶å‘ä¸‹ï¼Œå®ƒè„†å¼±å¾—åƒä¸ªæ˜“ç¢å“ã€‚</li>
<li>å¦‚æœè¦å¤„ç†çœŸæ­£çš„å¤æ‚é€»è¾‘ï¼Œè¯·æ¯«ä¸çŠ¹è±«åœ°æ‹¥æŠ± <strong>Lua</strong> â€”â€” è™½ç„¶å®ƒä¹Ÿä¸ä¼šå›æ»šï¼Œä½†è‡³å°‘åœ¨â€œæ‰§è¡ŒåŸå­æ€§â€ä¸Šï¼Œå®ƒæ˜¯æˆ‘ä»¬æ‰‹é‡Œæœ€ç¨³çš„é‚£å¼ ç‰Œã€‚</li>
</ul>
<p>çœŸæ­£çš„æŠ€æœ¯æˆç†Ÿï¼Œä¸æ˜¯èƒŒè¯µå…«è‚¡æ–‡é‡Œçš„ ACID å®šä¹‰ï¼Œè€Œæ˜¯æ‡‚å¾—åœ¨<strong>ç”±äºç‰©ç†é™åˆ¶è€Œæ»¡æ˜¯é—æ†¾çš„çœŸå®ä¸–ç•Œé‡Œ</strong>ï¼Œåšå‡ºé‚£ä¸ªæœ€ä¸åçš„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç½‘ç»œæ¥å£è®¾å¤‡è¯¦è§£ï¼šä» `eth0`ã€`lo` åˆ° `br0`ï¼Œçœ‹æ‡‚ Linux ç½‘ç»œçš„â€œå™¨å®˜â€]]></title>    <link>https://juejin.cn/post/7602800677711806498</link>    <guid>https://juejin.cn/post/7602800677711806498</guid>    <pubDate>2026-02-04T14:44:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602800677711806498" data-draft-id="7602846823325450275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç½‘ç»œæ¥å£è®¾å¤‡è¯¦è§£ï¼šä» `eth0`ã€`lo` åˆ° `br0`ï¼Œçœ‹æ‡‚ Linux ç½‘ç»œçš„â€œå™¨å®˜â€"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-02-04T14:44:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç½‘ç»œæ¥å£è®¾å¤‡è¯¦è§£ï¼šä» `eth0`ã€`lo` åˆ° `br0`ï¼Œçœ‹æ‡‚ Linux ç½‘ç»œçš„â€œå™¨å®˜â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T14:44:54.000Z" title="Wed Feb 04 2026 14:44:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæ‰§è¡Œ <code>ip addr</code> æˆ– <code>ifconfig</code> å‘½ä»¤æ—¶ï¼Œä½ ä¼šçœ‹åˆ°å½¢å¦‚ <code>eth0</code>ã€<code>lo</code>ã€<code>br0</code>ã€<code>docker0</code>ã€<code>vethxxx</code> çš„ç½‘ç»œæ¥å£ã€‚å®ƒä»¬æœ‰çš„ä»£è¡¨çœŸå®ç½‘å¡ï¼Œæœ‰çš„å´æ˜¯çº¯è½¯ä»¶æ„é€ çš„â€œè™šæ‹Ÿå™¨å®˜â€ã€‚</p>
<p>è¿™äº›æ¥å£å…±åŒæ„æˆäº† Linux å¼ºå¤§è€Œçµæ´»çš„ç½‘ç»œèƒ½åŠ›ï¼Œæ”¯æ’‘ç€ä»æœ¬åœ°é€šä¿¡åˆ°å®¹å™¨åŒ–ã€è™šæ‹ŸåŒ–çš„å¤æ‚åœºæ™¯ã€‚</p>
<p>æœ¬æ–‡å°†ä»¥ <strong><code>eth0</code>ï¼ˆç‰©ç†æ¥å£ï¼‰ã€<code>lo</code>ï¼ˆå›ç¯æ¥å£ï¼‰ã€<code>br0</code>ï¼ˆç½‘æ¡¥æ¥å£ï¼‰</strong> ä¸ºä¾‹ï¼Œæ·±å…¥è§£æå„ç±»ç½‘ç»œæ¥å£çš„æœ¬è´¨ã€ä½œç”¨åŠå…¸å‹åº”ç”¨åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ç½‘ç»œæ¥å£ï¼ˆNetwork Interfaceï¼‰ï¼Ÿ</h2>
<blockquote>
<p><strong>ç½‘ç»œæ¥å£</strong> æ˜¯æ“ä½œç³»ç»Ÿä¸ç½‘ç»œä¹‹é—´é€šä¿¡çš„æŠ½è±¡å±‚ï¼Œæ—¢å¯ä»¥æ˜¯<strong>ç‰©ç†ç¡¬ä»¶</strong>ï¼ˆå¦‚ç½‘å¡ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯<strong>å†…æ ¸è½¯ä»¶æ¨¡æ‹Ÿçš„è™šæ‹Ÿè®¾å¤‡</strong>ã€‚</p>
</blockquote>
<p>æ— è®ºç‰©ç†è¿˜æ˜¯è™šæ‹Ÿï¼Œæ‰€æœ‰æ¥å£åœ¨ç³»ç»Ÿä¸­éƒ½è¡¨ç°ä¸ºä¸€ä¸ªâ€œè®¾å¤‡â€ï¼Œæ‹¥æœ‰ï¼š</p>
<ul>
<li>å”¯ä¸€åç§°ï¼ˆå¦‚ <code>eth0</code>ï¼‰</li>
<li>IP åœ°å€</li>
<li>MAC åœ°å€ï¼ˆé™¤å›ç¯å¤–ï¼‰</li>
<li>çŠ¶æ€ï¼ˆUP/DOWNï¼‰</li>
</ul>
<p>å¯é€šè¿‡ <code>ip link show</code> æŸ¥çœ‹æ‰€æœ‰æ¥å£ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä¸‰å¤§å…¸å‹æ¥å£è¯¦è§£</h2>
<h3 data-id="heading-2">1. <code>eth0</code> â€”â€” ç‰©ç†ä»¥å¤ªç½‘æ¥å£ï¼ˆPhysical Ethernet Interfaceï¼‰</h3>
<h4 data-id="heading-3">ğŸ” æœ¬è´¨ï¼š</h4>
<ul>
<li>ä»£è¡¨<strong>ç¬¬ä¸€å—ç‰©ç†ä»¥å¤ªç½‘å¡</strong>ï¼ˆEthernet NICï¼‰ã€‚</li>
<li>åç§°ä¸­çš„ <code>eth</code> è¡¨ç¤º Ethernetï¼Œ<code>0</code> è¡¨ç¤ºåºå·ï¼ˆç¬¬äºŒå—ä¸º <code>eth1</code>ï¼Œä¾æ­¤ç±»æ¨ï¼‰ã€‚</li>
<li>ç°ä»£ç³»ç»Ÿå¤šä½¿ç”¨ <strong>å¯é¢„æµ‹å‘½åè§„åˆ™</strong>ï¼ˆå¦‚ <code>enp3s0</code>ã€<code>ens33</code>ï¼‰ï¼Œä½† <code>eth0</code> ä»å¹¿æ³›ç”¨äºè™šæ‹Ÿæœºæˆ–æ—§ç³»ç»Ÿã€‚</li>
</ul>
<h4 data-id="heading-4">ğŸ“Œ ç‰¹ç‚¹ï¼š</h4>
<ul>
<li>æœ‰çœŸå®çš„ <strong>MAC åœ°å€</strong>ï¼ˆç”±ç½‘å¡å‚å•†åˆ†é…ï¼‰</li>
<li>éœ€è¦è¿æ¥ç½‘çº¿æˆ– Wi-Fi æ‰èƒ½é€šä¿¡</li>
<li>æ•°æ®åŒ…é€šè¿‡å®ƒè¿›å‡ºä¸»æœº</li>
</ul>
<h4 data-id="heading-5">ğŸ’¡ å…¸å‹ç”¨é€”ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ eth0 ä¿¡æ¯</span>
$ ip addr show eth0
2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 ...
    <span class="hljs-built_in">link</span>/ether 00:11:22:33:44:55 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.10/24 brd 192.168.1.255 scope global eth0
</code></pre>
<ul>
<li>æœåŠ¡å™¨å¯¹å¤–æä¾›æœåŠ¡</li>
<li>è™šæ‹Ÿæœºè®¿é—®å¤–ç½‘</li>
</ul>
<blockquote>
<p>âœ… <strong>å…³é”®</strong>ï¼š<code>eth0</code> æ˜¯ä¸»æœºä¸å¤–éƒ¨ç½‘ç»œçš„<strong>å”¯ä¸€ç‰©ç†é€šé“</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">2. <code>lo</code> â€”â€” å›ç¯æ¥å£ï¼ˆLoopback Interfaceï¼‰</h3>
<h4 data-id="heading-7">ğŸ” æœ¬è´¨ï¼š</h4>
<ul>
<li>ä¸€ä¸ª<strong>çº¯è™šæ‹Ÿçš„ç½‘ç»œæ¥å£</strong>ï¼Œå®Œå…¨ç”±å†…æ ¸å®ç°ï¼Œ<strong>ä¸ä¾èµ–ä»»ä½•ç¡¬ä»¶</strong>ã€‚</li>
<li>åç§° <code>lo</code> å³ â€œloopbackâ€ ç¼©å†™ã€‚</li>
<li>IPv4 åœ°å€å›ºå®šä¸º <code>127.0.0.1</code>ï¼ŒIPv6 ä¸º <code>::1</code>ã€‚</li>
</ul>
<h4 data-id="heading-8">ğŸ“Œ ç‰¹ç‚¹ï¼š</h4>
<ul>
<li><strong>æ‰€æœ‰å‘å¾€ 127.0.0.0/8 çš„æµé‡éƒ½èµ° lo æ¥å£</strong></li>
<li>æ—  MAC åœ°å€ï¼ˆæˆ–æ˜¾ç¤ºä¸º <code>00:00:00:00:00:00</code>ï¼‰</li>
<li>å§‹ç»ˆå¤„äº <code>UP</code> çŠ¶æ€</li>
<li>å»¶è¿Ÿæä½ï¼ˆå†…å­˜æ‹·è´ï¼Œæ— éœ€é©±åŠ¨ï¼‰</li>
</ul>
<h4 data-id="heading-9">ğŸ’¡ å…¸å‹ç”¨é€”ï¼š</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æœ¬æœºè®¿é—®è‡ªèº«æœåŠ¡</span>
curl http:<span class="hljs-comment">//127.0.0.1:8000</span>

<span class="hljs-meta"># æ•°æ®åº“è¿æ¥æœ¬åœ° MySQL</span>
mysql -h <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> -u root
</code></pre>
<ul>
<li>å¼€å‘æµ‹è¯•ï¼ˆæ— éœ€ç½‘ç»œï¼‰</li>
<li>æœ¬åœ°è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰</li>
<li>æœåŠ¡å¥åº·æ£€æŸ¥ï¼ˆå¦‚ Kubernetes liveness probeï¼‰</li>
</ul>
<blockquote>
<p>âœ… <strong>å…³é”®</strong>ï¼š<code>lo</code> è®©â€œè‡ªå·±å’Œè‡ªå·±é€šä¿¡â€æˆä¸ºå¯èƒ½ï¼Œæ˜¯<strong>å•æœºç½‘ç»œç”Ÿæ€çš„åŸºçŸ³</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">3. <code>br0</code> â€”â€” ç½‘æ¡¥æ¥å£ï¼ˆBridge Interfaceï¼‰</h3>
<h4 data-id="heading-11">ğŸ” æœ¬è´¨ï¼š</h4>
<ul>
<li>ä¸€ä¸ª<strong>è™šæ‹Ÿäº¤æ¢æœº</strong>ï¼Œç”± Linux å†…æ ¸çš„ <strong>ç½‘æ¡¥æ¨¡å—ï¼ˆbridge moduleï¼‰</strong> å®ç°ã€‚</li>
<li>åç§° <code>br</code> è¡¨ç¤º bridgeï¼Œ<code>0</code> ä¸ºåºå·ï¼ˆå¯è‡ªå®šä¹‰ï¼Œå¦‚ <code>docker0</code>ã€<code>virbr0</code>ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-12">ğŸ“Œ å·¥ä½œåŸç†ï¼š</h4>
<ul>
<li>å°†å¤šä¸ªç½‘ç»œæ¥å£ï¼ˆç‰©ç†æˆ–è™šæ‹Ÿï¼‰â€œæ¥å…¥â€ç½‘æ¡¥ï¼›</li>
<li>ç½‘æ¡¥æ ¹æ® MAC åœ°å€è¡¨<strong>è½¬å‘å¸§</strong>ï¼Œå®ç°äºŒå±‚è¿é€šï¼›</li>
<li>å¯¹ä¸Šå±‚åè®®é€æ˜ï¼Œå¦‚åŒä¸€ä¸ªç‰©ç†äº¤æ¢æœºã€‚</li>
</ul>
<h4 data-id="heading-13">ğŸ’¡ å…¸å‹ç”¨é€”ï¼š</h4>
<h5 data-id="heading-14">åœºæ™¯1ï¼šKVM è™šæ‹Ÿæœºæ¡¥æ¥ç½‘ç»œ</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºç½‘æ¡¥ br0</span>
ip <span class="hljs-built_in">link</span> add name br0 <span class="hljs-built_in">type</span> bridge

<span class="hljs-comment"># å°†ç‰©ç†ç½‘å¡ eth0 åŠ å…¥ç½‘æ¡¥</span>
ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> eth0 master br0

<span class="hljs-comment"># å¯åŠ¨ç½‘æ¡¥</span>
ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> br0 up

<span class="hljs-comment"># è™šæ‹Ÿæœºé…ç½®ç½‘å¡è¿æ¥åˆ° br0 â†’ è·å¾—ä¸å®¿ä¸»æœºåŒç½‘æ®µ IP</span>
</code></pre>
<p>â†’ è™šæ‹Ÿæœºå¦‚åŒç›´æ¥æ’åœ¨ç‰©ç†äº¤æ¢æœºä¸Šï¼</p>
<h5 data-id="heading-15">åœºæ™¯2ï¼šDocker é»˜è®¤ç½‘æ¡¥ <code>docker0</code></h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">$</span> <span class="hljs-string">ip</span> <span class="hljs-string">addr</span> <span class="hljs-string">show</span> <span class="hljs-string">docker0</span>
<span class="hljs-attr">3: docker0:</span> <span class="hljs-string">&lt;BROADCAST,MULTICAST,UP&gt;</span> <span class="hljs-string">mtu</span> <span class="hljs-number">1500</span> <span class="hljs-string">...</span>
    <span class="hljs-string">inet</span> <span class="hljs-number">172.17</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">/16</span>
</code></pre>
<ul>
<li>æ‰€æœ‰ Docker å®¹å™¨é»˜è®¤è¿æ¥åˆ° <code>docker0</code></li>
<li>å®¹å™¨é€šè¿‡ NAT è®¿é—®å¤–ç½‘</li>
</ul>
<blockquote>
<p>âœ… <strong>å…³é”®</strong>ï¼š<code>br0</code> æ˜¯<strong>æ„å»ºè™šæ‹Ÿå±€åŸŸç½‘ï¼ˆVLANï¼‰çš„æ ¸å¿ƒå·¥å…·</strong>ï¼Œå®ç°â€œå¤šè®¾å¤‡åŒç½‘æ®µâ€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-16">ä¸‰ã€å…¶ä»–å¸¸è§è™šæ‹Ÿæ¥å£ç®€ä»‹</h2>






























<table><thead><tr><th>æ¥å£ç±»å‹</th><th>ç¤ºä¾‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>VETH Pair</strong></td><td><code>vetha1b2c3@if4</code></td><td>æˆå¯¹å‡ºç°çš„è™šæ‹Ÿç½‘çº¿ï¼Œå¸¸ç”¨äºè¿æ¥å®¹å™¨ä¸ç½‘æ¡¥</td></tr><tr><td><strong>TUN/TAP</strong></td><td><code>tun0</code>, <code>tap0</code></td><td>ç”¨æˆ·æ€ç¨‹åºæ¨¡æ‹Ÿç½‘ç»œè®¾å¤‡ï¼ˆå¦‚ VPNã€QEMUï¼‰</td></tr><tr><td><strong>VLAN æ¥å£</strong></td><td><code>eth0.100</code></td><td>åœ¨ç‰©ç†æ¥å£ä¸Šåˆ’åˆ† VLANï¼ˆ802.1Qï¼‰</td></tr><tr><td><strong>Bonding</strong></td><td><code>bond0</code></td><td>å¤šç½‘å¡ç»‘å®šï¼Œå®ç°è´Ÿè½½å‡è¡¡æˆ–é«˜å¯ç”¨</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-17">å››ã€å¦‚ä½•æŸ¥çœ‹ä¸ç®¡ç†ç½‘ç»œæ¥å£ï¼Ÿ</h2>
<h3 data-id="heading-18">å¸¸ç”¨å‘½ä»¤ï¼š</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æ¥å£çŠ¶æ€</span>
ip <span class="hljs-built_in">link</span> show

<span class="hljs-comment"># æŸ¥çœ‹ IP åœ°å€</span>
ip addr show

<span class="hljs-comment"># å¯ç”¨/ç¦ç”¨æ¥å£</span>
sudo ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> eth0 up
sudo ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> eth0 down

<span class="hljs-comment"># åˆ›å»ºç½‘æ¡¥</span>
sudo ip <span class="hljs-built_in">link</span> add name br0 <span class="hljs-built_in">type</span> bridge

<span class="hljs-comment"># å°†æ¥å£åŠ å…¥ç½‘æ¡¥</span>
sudo ip <span class="hljs-built_in">link</span> <span class="hljs-built_in">set</span> eth0 master br0
</code></pre>
<h3 data-id="heading-19">ç½‘ç»œæ‹“æ‰‘å¯è§†åŒ–ï¼ˆç®€åŒ–ï¼‰ï¼š</h3>
<pre><code class="hljs language-scss" lang="scss">graph LR
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[Container]</span> --&gt;|veth pair| <span class="hljs-selector-tag">B</span>(docker0&lt;br/&gt;Bridge)
    C<span class="hljs-selector-attr">[VM]</span> --&gt;|tap| <span class="hljs-built_in">D</span>(br0&lt;br/&gt;Bridge)
    D --&gt;|master| E<span class="hljs-selector-attr">[eth0&lt;br/&gt;Physical NIC]</span>
    F<span class="hljs-selector-attr">[Local Process]</span> --&gt;|<span class="hljs-number">127.0</span><span class="hljs-selector-class">.0</span><span class="hljs-selector-class">.1</span>| <span class="hljs-built_in">G</span>(lo&lt;br/&gt;Loopback)
</code></pre>
<hr/>
<h2 data-id="heading-20">äº”ã€ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¹ˆå¤šè™šæ‹Ÿæ¥å£ï¼Ÿ</h2>
<p>Linux ç½‘ç»œè®¾è®¡å“²å­¦ï¼š <strong>â€œä¸€åˆ‡çš†æ–‡ä»¶ï¼Œä¸€åˆ‡çš†å¯è™šæ‹ŸåŒ–â€</strong> ã€‚</p>
<p>é€šè¿‡ç»„åˆä¸åŒç±»å‹çš„è™šæ‹Ÿæ¥å£ï¼Œå¯ä»¥æ„å»ºä»»æ„å¤æ‚çš„ç½‘ç»œæ‹“æ‰‘ï¼š</p>
<ul>
<li>å®¹å™¨ç½‘ç»œï¼ˆCNI æ’ä»¶ï¼‰</li>
<li>è™šæ‹Ÿæœºç½‘ç»œï¼ˆLibvirt + QEMUï¼‰</li>
<li>SDNï¼ˆè½¯ä»¶å®šä¹‰ç½‘ç»œï¼‰</li>
<li>ç½‘ç»œéš”ç¦»ï¼ˆNetwork Namespaceï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼š<br/>
<strong>ç”¨è½¯ä»¶å®šä¹‰ç½‘ç»œï¼Œè€Œéä¾èµ–ç¡¬ä»¶</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-21">å…­ã€æ€»ç»“ï¼šä¸‰å¤§æ¥å£å¯¹æ¯”</h2>

































<table><thead><tr><th>æ¥å£</th><th>ç±»å‹</th><th>æ˜¯å¦ç‰©ç†</th><th>å…¸å‹ IP</th><th>ä¸»è¦ç”¨é€”</th></tr></thead><tbody><tr><td><strong><code>eth0</code></strong></td><td>ç‰©ç†ä»¥å¤ªç½‘</td><td>âœ… æ˜¯</td><td>192.168.x.x</td><td>ä¸»æœºå¯¹å¤–é€šä¿¡</td></tr><tr><td><strong><code>lo</code></strong></td><td>å›ç¯</td><td>âŒ å¦</td><td>127.0.0.1</td><td>æœ¬æœºè¿›ç¨‹é€šä¿¡</td></tr><tr><td><strong><code>br0</code></strong></td><td>ç½‘æ¡¥</td><td>âŒ å¦</td><td>è‡ªå®šä¹‰ï¼ˆå¦‚ 10.0.0.1ï¼‰</td><td>è™šæ‹Ÿç½‘ç»œäº’è”</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>è®°ä½</strong>ï¼š</p>
<ul>
<li><strong><code>eth0</code> æ˜¯â€œå˜´â€</strong> â€”â€” å¯¹å¤–è¯´è¯ï¼›</li>
<li><strong><code>lo</code> æ˜¯â€œè„‘å­â€</strong> â€”â€” è‡ªæˆ‘æ€è€ƒï¼›</li>
<li><strong><code>br0</code> æ˜¯â€œäº¤æ¢æœºâ€</strong> â€”â€” è¿æ¥å¤šä¸ªâ€œå˜´â€ã€‚</li>
</ul>
</blockquote>
<p>æŒæ¡è¿™äº›åŸºç¡€æ¥å£ï¼Œä½ å°±æŒæ¡äº† Linux ç½‘ç»œä¸–ç•Œçš„â€œè§£å‰–å›¾â€ã€‚æ— è®ºæ˜¯æ’æŸ¥ç½‘ç»œæ•…éšœã€é…ç½®å®¹å™¨å¹³å°ï¼Œè¿˜æ˜¯è®¾è®¡äº‘ç½‘ç»œæ¶æ„ï¼Œéƒ½å°†æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<hr/>
<p><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼š</p>
<ul>
<li>Linux å†…æ ¸æ–‡æ¡£ï¼šNetworking Overview</li>
<li>ã€ŠLinux é«˜æ€§èƒ½æœåŠ¡å™¨ç¼–ç¨‹ã€‹ç¬¬2ç« </li>
<li>Docker ç½‘ç»œæ¨¡å‹è¯¦è§£</li>
<li>Open vSwitch vs Linux Bridge</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Windowsç»ˆäºæœ‰äº†èƒ½å¹²æ´»çš„AIé˜Ÿå‹ï¼šæ·±åº¦è§£æå¤©å·¥Skyworkæ¡Œé¢ç‰ˆ]]></title>    <link>https://juejin.cn/post/7602834985901522994</link>    <guid>https://juejin.cn/post/7602834985901522994</guid>    <pubDate>2026-02-04T13:06:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602834985901522994" data-draft-id="7602789520036053002" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Windowsç»ˆäºæœ‰äº†èƒ½å¹²æ´»çš„AIé˜Ÿå‹ï¼šæ·±åº¦è§£æå¤©å·¥Skyworkæ¡Œé¢ç‰ˆ"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-02-04T13:06:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Windowsç»ˆäºæœ‰äº†èƒ½å¹²æ´»çš„AIé˜Ÿå‹ï¼šæ·±åº¦è§£æå¤©å·¥Skyworkæ¡Œé¢ç‰ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:06:49.000Z" title="Wed Feb 04 2026 13:06:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœæ˜¯é•¿æœŸä½¿ç”¨Windowsè¿›è¡Œé‡åº¦åŠå…¬çš„æœ‹å‹ï¼Œè¿‡å»è¿™ä¸€å¹´å¤§æ¦‚ç‡æ˜¯çœ‹ç€Macç”¨æˆ·æµå£æ°´çš„ã€‚å½“è‹¹æœç”Ÿæ€é‡Œçš„AIåº”ç”¨å·²ç»å¼€å§‹å¸®è®¾è®¡å¸ˆæ•´ç†ç´ æã€å¸®ç¨‹åºå‘˜å†™æ–‡æ¡£çš„æ—¶å€™ï¼ŒWindowsç«¯çš„AIåŠ©æ‰‹å¤§å¤šè¿˜åœç•™åœ¨ç½‘é¡µå¯¹è¯æ¡†é‡Œï¼Œè¦ä¹ˆå°±æ˜¯éœ€è¦ç¹ççš„äº‘ç«¯ä¸Šä¼ ï¼Œä¸ä»…æ…¢ï¼Œè¿˜æ€»è®©äººæ‹…å¿ƒå…¬å¸æœºå¯†æ˜¯ä¸æ˜¯ä¹Ÿä¸å°å¿ƒâ€œå–‚â€ç»™äº†å¤§æ¨¡å‹ã€‚</p>
<p>å°±åœ¨2026å¹´2æœˆ4æ—¥ï¼Œæ˜†ä»‘å¤©å·¥ç»™å‡ºäº†ä¸€ä¸ªç›¸å½“ç¡¬æ ¸çš„å›ç­”ï¼šå¤©å·¥Skyworkæ¡Œé¢ç‰ˆã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F02%2FiShot_2026-02-04_20.56.23-1024x466.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/02/iShot_2026-02-04_20.56.23-1024x466.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3a5323681ac4c52aa1666ce8aace489~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815209&amp;x-signature=sl3UD0op4Fu2dh9WwHquSwPgSJA%3D" alt="iShot_2026-02-04_20.56.23" loading="lazy"/></a></p>
<p>è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–°çš„èŠå¤©æœºå™¨äººï¼Œæ˜†ä»‘ä¸‡ç»´è¿™æ¬¡æ˜¾ç„¶æ˜¯å†²ç€â€œæ¥ç®¡ä½ çš„å·¥ä½œæµâ€æ¥çš„ã€‚ä½œä¸ºä¸€åé•¿æœŸå…³æ³¨AIç”Ÿäº§åŠ›å·¥å…·çš„è§‚å¯Ÿè€…ï¼Œåœ¨ä»”ç»†ç ”ç©¶äº†å®ƒçš„å‘å¸ƒä¿¡æ¯åï¼Œæˆ‘è®¤ä¸ºè¿™æ¬¾äº§å“å¯èƒ½æ ‡å¿—ç€Windowsç”Ÿæ€ä¸‹AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰çš„çœŸæ­£æˆç†Ÿã€‚</p>
<h3 data-id="heading-0">å‘Šåˆ«äº‘ç«¯ç„¦è™‘ï¼ŒçœŸæ­£çš„â€œæœ¬åœ°åŒ–â€</h3>
<p>Skyworkæ¡Œé¢ç‰ˆæœ€è®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œæˆ–è€…è¯´æœ€è®©ä¼ä¸šç”¨æˆ·æ„Ÿåˆ°è¸å®çš„ç‰¹æ€§ï¼Œå°±æ˜¯å®ƒçš„â€œç»å¯¹æœ¬åœ°åŒ–â€ã€‚</p>
<p>åœ¨è¿‡å»ï¼Œæˆ‘ä»¬è¦ç”¨AIå¤„ç†ä¸€ä»½è´¢åŠ¡æŠ¥è¡¨æˆ–æ³•å¾‹åˆåŒï¼Œå¿ƒç†å‹åŠ›æ˜¯å·¨å¤§çš„ã€‚ä½ å¿…é¡»æŠŠæ–‡ä»¶ä¼ åˆ°äº‘ç«¯ï¼Œç­‰å¾…æœåŠ¡å™¨å¤„ç†ã€‚è€ŒSkyworkç›´æ¥æŠŠå·¥ä½œç¯å¢ƒæ¬åˆ°äº†ä½ çš„ç¡¬ç›˜é‡Œã€‚å®ƒé‡‡ç”¨äº†ä¸€ç§æœ¬åœ°è™šæ‹Ÿæœºéš”ç¦»æŠ€æœ¯ï¼Œç›¸å½“äºåœ¨ä½ çš„ç”µè„‘é‡Œåˆ’å‡ºäº†ä¸€å—ç»å¯¹å®‰å…¨çš„æ²™ç›’ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F02%2Fasfsdfsdf-1024x597.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/02/asfsdfsdf-1024x597.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b616fbf58f634a9483343606a7d0e300~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815209&amp;x-signature=k5m%2FlfKRAUWGWqlXEiQ4qKI1pdA%3D" alt="asfsdfsdf" loading="lazy"/></a></p>
<p>åœ¨è¿™ä¸ªæ²™ç›’é‡Œï¼ŒAIå¯ä»¥ç›´æ¥è¯»å–ã€åˆ†æä½ æœ¬åœ°æ–‡ä»¶å¤¹é‡Œçš„æˆç™¾ä¸Šåƒä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰çš„è®¡ç®—å’Œæ•°æ®æµè½¬éƒ½åœ¨è¿™å°æœºå™¨å†…éƒ¨å®Œæˆã€‚è¿™ä¸ä»…è§£å†³äº†éšç§æ³„éœ²çš„åé¡¾ä¹‹å¿§ï¼Œæ›´æ¶ˆé™¤äº†ç½‘ç»œä¸Šä¼ ä¸‹è½½çš„å»¶è¿Ÿã€‚å¯¹äºåŠ¨è¾„å‡ ç™¾å…†çš„å·¥ç¨‹æ–‡ä»¶æˆ–é«˜æ¸…è§†é¢‘ç´ æï¼Œè¿™ç§æœ¬åœ°ç›´è¿çš„é€Ÿåº¦ä¼˜åŠ¿æ˜¯äº‘ç«¯åº”ç”¨æ— æ³•æ¯”æ‹Ÿçš„ã€‚</p>
<h3 data-id="heading-1">å·¦æ‰‹Claudeï¼Œå³æ‰‹Gemini</h3>
<p>å¾ˆå¤šæœ¬åœ°åŒ–AIå·¥å…·çš„ä¸€å¤§ç—›ç‚¹æ˜¯æ¨¡å‹èƒ½åŠ›ä¸å¤Ÿå¼ºï¼Œå¾€å¾€ä¸ºäº†è¿å°±æœ¬åœ°ç®—åŠ›è€Œé˜‰å‰²æ™ºå•†ã€‚ä½†Skyworkè¿™æ¬¡é‡‡å–äº†ä¸€ç§å¾ˆèªæ˜çš„ç­–ç•¥ã€‚</p>
<p>å®ƒæ¥å…¥äº†ç›®å‰å¸‚é¢ä¸Šæœ€é¡¶å°–çš„æ¨¡å‹æ¢¯é˜Ÿï¼šClaude 4.5ç³»åˆ—ï¼ˆOpuså’ŒSonnetï¼‰ä»¥åŠGoogleçš„Gemini 3 Proã€‚è¿™æ„å‘³ç€ä½ ä¸éœ€è¦åœ¨â€œæ•°æ®å®‰å…¨â€å’Œâ€œæ¨¡å‹æ™ºå•†â€ä¹‹é—´åšé€‰æ‹©é¢˜ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F02%2Fasfsfsdgfd-1024x708.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/02/asfsfsdgfd-1024x708.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e46c488c0d741d8a5af8fe9ba7b7f72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815209&amp;x-signature=su8SwzgCdPUsRlnDDNiE5gs4IUs%3D" alt="asfsfsdgfd" loading="lazy"/></a></p>
<p>æ›´æœ‰æ„æ€çš„æ˜¯å®ƒçš„â€œAutoæ¨¡å¼â€ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œç”¨æˆ·å¾€å¾€ä¸çŸ¥é“è¯¥ç”¨å“ªä¸ªæ¨¡å‹ã€‚Skyworkä¼šè‡ªåŠ¨åˆ¤æ–­ï¼šå¦‚æœä½ æ‰”ç»™å®ƒä¸€å †å¤æ‚çš„é€»è¾‘æ¨ç†é¢˜ï¼Œå®ƒä¼šè°ƒç”¨æ“…é•¿æ¨ç†çš„Claudeï¼›å¦‚æœä½ éœ€è¦æ ¹æ®ä¸€æ®µè§†é¢‘ç”Ÿæˆç½‘é¡µæˆ–åˆ†æå›¾è¡¨ï¼Œå®ƒä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¤šæ¨¡æ€èƒ½åŠ›æ›´å¼ºçš„Geminiã€‚è¿™ç§æ™ºèƒ½è·¯ç”±çš„æœºåˆ¶ï¼Œæ‰æ˜¯AIåŠ©æ‰‹è¯¥æœ‰çš„æ ·å­â€”â€”å°‘è®©ç”¨æˆ·åšé€‰æ‹©ï¼Œå¤šå¸®ç”¨æˆ·å‡ºç»“æœã€‚</p>
<h3 data-id="heading-2">æ‡‚å†…å®¹çš„â€œOSçº§åŒäº‹â€</h3>
<p>å®˜æ–¹æŠŠè¿™æ¬¾äº§å“å®šä½ä¸ºâ€œWindowsç‰ˆçš„Claude Coworkâ€ï¼Œä½†æˆ‘è®¤ä¸ºâ€œOSçº§åŒäº‹â€è¿™ä¸ªæ¯”å–»æ›´è´´åˆ‡ã€‚</p>
<p>ä¼ ç»Ÿçš„AIæ˜¯â€œä½ é—®æˆ‘ç­”â€ï¼Œè€ŒSkyworkæ˜¯â€œä½ ç»™æ´»ï¼Œæˆ‘æ¥å¹²â€ã€‚å®ƒå†…ç½®äº†è¶…è¿‡100ä¸ªæŠ€èƒ½ï¼ˆSkillsï¼‰ï¼Œè¿™äº›æŠ€èƒ½ä¸æ˜¯ç®€å•çš„APIè°ƒç”¨ï¼Œè€Œæ˜¯å¯¹å·¥ä½œåœºæ™¯çš„æ·±åº¦å°è£…ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F02%2FiShot_2026-02-04_20.56.05-1024x519.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/02/iShot_2026-02-04_20.56.05-1024x519.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e330f38f8eef4788a9072aa3cba530cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815209&amp;x-signature=Ko4OpKeeRlh3HIHzQnDoBBJ53Cs%3D" alt="iShot_2026-02-04_20.56.05" loading="lazy"/></a></p>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šä½ çš„æ¡Œé¢ä¸Šæ•£è½ç€è¿™ä¸€å‘¨æ··ä¹±çš„ä¼šè®®çºªè¦ï¼ˆWordï¼‰ã€å‡ å¼ ç™½æ¿è‰å›¾ï¼ˆå›¾ç‰‡ï¼‰å’Œä¸€ä»½é”€å”®æ•°æ®ï¼ˆExcelï¼‰ã€‚ä»¥å‰ä½ éœ€è¦æ‰‹åŠ¨æ‰“å¼€æ¯ä¸ªæ–‡ä»¶ï¼Œå¤åˆ¶ç²˜è´´ï¼Œæ•´ç†é€»è¾‘ã€‚è€Œåœ¨Skyworké‡Œï¼Œä½ åªéœ€è¦é€‰ä¸­è¿™äº›æ–‡ä»¶ï¼Œå‘Šè¯‰å®ƒï¼šâ€œæŠŠè¿™äº›èµ„æ–™æ•´ç†æˆä¸€ä»½ä¸‹å‘¨çš„æ±‡æŠ¥PPTï¼Œé‡ç‚¹çªå‡ºé”€å”®å¢é•¿ã€‚â€</p>
<p>å®ƒä¸æ˜¯åœ¨å¤„ç†æ ¼å¼ï¼Œè€Œæ˜¯åœ¨ç†è§£å†…å®¹ã€‚å®ƒèƒ½è¯»æ‡‚å›¾ç‰‡é‡Œçš„è‰å›¾é€»è¾‘ï¼Œèƒ½åˆ†æExcelé‡Œçš„æ•°æ®è¶‹åŠ¿ï¼Œç„¶åæŠŠå®ƒä»¬ä¸²è”æˆä¸€ä»½ç»“æ„å®Œæ•´çš„PPTã€‚è¿™ç§è·¨æ ¼å¼ã€å¤šä»»åŠ¡å¹¶è¡Œçš„èƒ½åŠ›ï¼Œæ‰æ˜¯å°†AIä»â€œç©å…·â€å˜æˆâ€œå·¥å…·â€çš„å…³é”®ä¸€æ­¥ã€‚</p>
<h3 data-id="heading-3">é—¨æ§›ä¸ä»£ä»·</h3>
<p>å½“ç„¶ï¼Œå¥½ç”¨çš„ç”Ÿäº§åŠ›å·¥å…·æ˜¯æœ‰é—¨æ§›çš„ã€‚ç›®å‰Skyworkæ¡Œé¢ç‰ˆéœ€è¦ä»å®˜ç½‘ä¸‹è½½ï¼Œå¹¶ä¸”å¿…é¡»è´­ä¹°ä¼šå‘˜æ‰èƒ½ä½¿ç”¨ã€‚Basicä¼šå‘˜æ¯æœˆ19.99ç¾å…ƒï¼ŒPlusä¼šå‘˜æ¯æœˆ49.99ç¾å…ƒã€‚</p>
<p>è¿™ä¸ªå®šä»·ç­–ç•¥å¾ˆæ˜æ˜¾æ˜¯å¯¹æ ‡äº†æµ·å¤–çš„ä¸»æµç«å“ã€‚å¯¹äºä¸ªäººç”¨æˆ·æ¥è¯´ï¼Œæ¯æœˆä¸€ç™¾å¤šäººæ°‘å¸å¯èƒ½éœ€è¦æƒè¡¡ä¸€ä¸‹ï¼Œä½†å¯¹äºé‚£äº›æ¯å¤©è¢«çç¢æ–‡æ¡£å’Œæ ¼å¼è½¬æ¢æŠ˜ç£¨çš„ä¸“ä¸šäººå£«æ¥è¯´ï¼Œå¦‚æœå®ƒèƒ½æ¯å¤©å¸®ä½ çœä¸‹å“ªæ€•åŠå°æ—¶ï¼Œè¿™ä¸ªä»·æ ¼å…¶å®éå¸¸åˆ’ç®—ã€‚</p>
<h3 data-id="heading-4">ç»“è¯­</h3>
<p>å¤©å·¥Skyworkæ¡Œé¢ç‰ˆçš„å‡ºç°ï¼Œå¡«è¡¥äº†Windowså¹³å°åœ¨åŸç”Ÿçº§AI Agentä¸Šçš„ä¸€ä¸ªå·¨å¤§ç©ºç™½ã€‚å®ƒä¸å†å¼ºè¿«ç”¨æˆ·å»é€‚åº”AIçš„èŠå¤©çª—å£ï¼Œè€Œæ˜¯è®©AIä¸»åŠ¨æ½œå…¥ç”¨æˆ·çš„æ–‡ä»¶å¤¹å’Œå·¥ä½œæµä¸­ã€‚</p>
<p>å¦‚æœä½ å—å¤Ÿäº†åœ¨å„ç§ç½‘é¡µå’Œè½¯ä»¶ä¹‹é—´æ¥å›é€šè¿‡Ctrl+C/Væ¬è¿æ•°æ®ï¼Œæˆ–è€…å¯¹æ•°æ®éšç§æœ‰ç€æé«˜çš„æ•æ„Ÿåº¦ï¼Œé‚£ä¹ˆè¿™æ¬¾äº§å“å€¼å¾—ä½ ç«‹åˆ»å»å®˜ç½‘ä¸‹è½½ä½“éªŒã€‚æ¯•ç«Ÿï¼Œåœ¨2026å¹´ï¼Œè°ä¸æƒ³æ‹¥æœ‰ä¸€ä¸ªæ—¢èªæ˜åˆå˜´ä¸¥ï¼Œè¿˜ä½åœ¨ä½ ç”µè„‘é‡Œçš„å…¨èƒ½åŠ©ç†å‘¢ï¼Ÿ</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†™ React å†™åˆ°å‡Œæ™¨ï¼Œæˆ‘æ‰æ‡‚ RD280UG å½©çº¸ç¼–ç¨‹æ¨¡å¼æœ‰å¤šé¦™!]]></title>    <link>https://juejin.cn/post/7602634187284578314</link>    <guid>https://juejin.cn/post/7602634187284578314</guid>    <pubDate>2026-02-04T13:07:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602634187284578314" data-draft-id="7602789520036069386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†™ React å†™åˆ°å‡Œæ™¨ï¼Œæˆ‘æ‰æ‡‚ RD280UG å½©çº¸ç¼–ç¨‹æ¨¡å¼æœ‰å¤šé¦™!"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T13:07:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¼€å‘çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1116759545088190"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†™ React å†™åˆ°å‡Œæ™¨ï¼Œæˆ‘æ‰æ‡‚ RD280UG å½©çº¸ç¼–ç¨‹æ¨¡å¼æœ‰å¤šé¦™!
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759545088190/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¼€å‘çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:07:48.000Z" title="Wed Feb 04 2026 13:07:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸º<strong>å‰ç«¯å¼€å‘</strong>ï¼Œå…¶å®æˆ‘ä¸€ç›´è§‰å¾—<strong>æ˜¾ç¤ºå™¨</strong>çš„å½±å“ï¼Œè¿œæ¯”é”®ç›˜é¼ æ ‡æ›´éšå½¢ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬æ¯å¤©é¢å¯¹çš„ä¸æ˜¯**â€œä»£ç â€**ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>å¯†å¯†éº»éº»çš„ <code>DOM</code> ç»“æ„</li>
<li><code>æ·±è‰²ä¸»é¢˜</code>ä¸‹çš„é«˜é¢‘å­—ç¬¦</li>
<li>é•¿æ—¶é—´æ»šåŠ¨çš„<code>è°ƒè¯•é¢æ¿</code></li>
<li><code>CSS</code> çš„å±‚çº§ç¼©è¿›å’Œç»†å°ç¬¦å·</li>
<li><code>æµè§ˆå™¨</code> + <code>IDE</code> + <code>æ§åˆ¶å°</code>ä¸‰å¼€</li>
</ul>
<p>ä¸€å¤©ä¸‹æ¥ï¼Œçœ¼ç›ç´¯çš„ä¸æ˜¯å·¥ä½œé‡ï¼Œè€Œæ˜¯å±å¹•ä¸€ç›´åœ¨<code>â€œæ¶ˆè€—æ³¨æ„åŠ›â€</code>ã€‚</p>
<p>æœ€è¿‘æˆ‘æŠŠä¸»åŠ›å±æ¢æˆäº† <strong>æ˜åŸº RD280UG</strong>ã€‚</p>
<p>å®ƒæ˜¯ <strong>RD280U</strong> çš„å‡çº§æ¬¾ï¼Œä½†ä¸æ˜¯é‚£ç§â€œæ¢ä¸ªåå­—åŠ ç‚¹å‚æ•°â€çš„å‡çº§ï¼Œè€Œæ˜¯é’ˆå¯¹ç¨‹åºå‘˜ï¼ˆå°¤å…¶æ˜¯å‰ç«¯ï¼‰åšäº†ä¸‰å¤„å…³é”®å¼ºåŒ–ï¼š</p>
<p><strong>RD280UG ç›¸æ¯” RD280U çš„æ ¸å¿ƒå‡çº§ï¼š</strong></p>
<ul>
<li><strong>ä¸“ä¸šç¼–ç¨‹æ¨¡å¼å‡çº§ï¼šæ–°å¢å½©çº¸ç¼–ç¨‹æ¨¡å¼</strong></li>
<li><strong>2000:1 é«˜å¯¹æ¯”åº¦ + åˆ†åŒºå¯¹æ¯”åº¦åŠŸèƒ½</strong></li>
<li><strong>120Hz é«˜åˆ·å‡çº§ï¼Œæ»šåŠ¨ä¸è°ƒè¯•æ›´é¡ºæ»‘</strong></li>
</ul>
<p>è¿™ä¸‰ä¸ªç‚¹ï¼Œæ°å¥½éƒ½æˆ³åœ¨å‰ç«¯å¼€å‘çš„é«˜é¢‘åœºæ™¯é‡Œã€‚</p>
<h2 data-id="heading-0">3:2 å±å¹•æ¯”ä¾‹ï¼šå†™å‰ç«¯çš„äººæœ€æ‡‚â€œçºµå‘ç©ºé—´â€</h2>
<p>å‰ç«¯å¼€å‘æœ€å¸¸è§çš„ç•Œé¢æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ä¸æ˜¯å•æ–‡ä»¶ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li><code>JSX/HTML</code> çš„åµŒå¥—ç»“æ„</li>
<li>ç»„ä»¶å±‚çº§</li>
<li><code>Tailwind</code> ç±»åå †å </li>
<li>æµè§ˆå™¨ <code>DevTools</code> çš„ <code>Elements</code> æ ‘</li>
</ul>
<p>ä½ ä¼šå‘ç°ï¼Œå‰ç«¯ä»£ç çš„ç—›ç‚¹ä»æ¥ä¸æ˜¯æ¨ªå‘ï¼Œè€Œæ˜¯<strong>çºµå‘ä¿¡æ¯å¯†åº¦å¤ªå¤§</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d9d5633c0ea45aba05a8bad0a77179d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=2iw%2FRcF%2Bh7N2Fg6R53kpct37WEA%3D" alt="" loading="lazy"/></p>
<p><strong>RD280UG</strong> çš„ <code>3:2</code> æ¯”ä¾‹å°±æ˜¯ä¸ºè¿™ä¸ªåœºæ™¯å‡†å¤‡çš„ã€‚</p>
<p>ç›¸æ¯”ä¼ ç»Ÿ <code>16:9</code>ï¼š</p>
<ul>
<li>åŒæ ·çª—å£èƒ½å¤šæ˜¾ç¤ºæ›´å¤šè¡Œ <code>DOM</code></li>
<li>ä¸€ä¸ªç»„ä»¶ç»“æ„ä¸ç”¨åå¤æ»šåŠ¨</li>
<li>è°ƒè¯•æ—¶ä¸Šä¸‹æ–‡æ›´å®Œæ•´</li>
<li>â€œæ€è·¯ä¸æ–­æ¡£â€çš„æ„Ÿè§‰éå¸¸æ˜æ˜¾</li>
</ul>
<p>å°¤å…¶åœ¨è¯»åˆ«äººä»£ç ã€çœ‹å¤æ‚é¡µé¢ç»“æ„æ—¶ï¼Œæå‡ç‰¹åˆ«ç›´æ¥ã€‚</p>
<h2 data-id="heading-1">æŠ—åå°„é¢æ¿ï¼šå‰ç«¯è°ƒè‰²å’Œé•¿æ—¶é—´ç›¯å±æ›´å‹å¥½</h2>
<p>å‰ç«¯å¼€å‘ç»å¸¸éœ€è¦ï¼š</p>
<ul>
<li>å¯¹æ¯” <code>UI</code> è‰²å½©</li>
<li>è°ƒæ•´<code>æ¸å˜</code>ä¸<code>é˜´å½±</code></li>
<li>çœ‹ç»†å°å­—ä½“çš„æ¸²æŸ“æ•ˆæœ</li>
</ul>
<p>ä½†æ™®é€šå±å¹•åœ¨å¼ºå…‰ç¯å¢ƒä¸‹å¾ˆå®¹æ˜“å‡ºç°<code>â€œæ³›ç™½â€</code>å’Œ<code>åå…‰</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fb6d6780dd4492994d5cb2a030ec2c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=92kqIQhqQYjN6c4PGNBfctZjfr8%3D" alt="" loading="lazy"/></p>
<p><strong>RD280UG</strong> çš„æŠ—åå°„é¢æ¿å±äºé‚£ç§ï¼š</p>
<ul>
<li>åŠå…¬å®¤é¡¶ç¯ä¸åˆºçœ¼</li>
<li>èƒŒåæœ‰å…‰ä¹Ÿä¸ä¼šæ™ƒ</li>
<li>å±å¹•å†…å®¹å§‹ç»ˆå¹²å‡€ç¨³å®š</li>
</ul>
<p>è¿™ç§ä½“éªŒä¸æ˜¯â€œæƒŠè‰³â€ï¼Œè€Œæ˜¯å†™ä¸€æ•´å¤©åæ‰å‘ç°ï¼šçœ¼ç›çœŸçš„æ›´è½»æ¾ã€‚</p>
<h2 data-id="heading-2">ä¸“ä¸šç¼–ç¨‹æ¨¡å¼ï¼šè¿™æ¬¡å‡çº§çš„é‡ç‚¹ï¼ˆæ–°å¢å½©çº¸æ¨¡å¼ï¼‰</h2>
<p>è¿™ä¸€ä»£ <strong>RD280UG</strong> æœ€æ ¸å¿ƒçš„å˜åŒ–ï¼Œå°±æ˜¯ç¼–ç¨‹æ¨¡å¼åšå¾—æ›´<code>â€œä¸“ä¸šåŒ–â€</code>ã€‚</p>
<p>å®ƒä¸æ˜¯ç®€å•è°ƒäº®åº¦ï¼Œè€Œæ˜¯ä»<strong>ä»£ç è¯†åˆ«æ•ˆç‡</strong>å‡ºå‘åšçš„æ˜¾ç¤ºä¼˜åŒ–ã€‚</p>
<p><strong>RD280UG</strong> çš„ç¼–ç¨‹æ¨¡å¼ç°åœ¨æœ‰ä¸‰ç§ï¼š</p>
<h3 data-id="heading-3">1ï¼‰æš—é»‘ç¼–ç¨‹æ¨¡å¼ï¼šä¸“ä¸ºæ·±è‰²ä¸»é¢˜ä¼˜åŒ–</h3>
<p>å‰ç«¯å¼€å‘è€…å¤§å¤šç”¨ <code>Dark Theme</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f35ddda4d59148d4bf2cae2af3d2bab5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=eIJVZ17Fq6H8rvjRhRRF3lXeno0%3D" alt="" loading="lazy"/></p>
<p>ä½†æ™®é€šæ˜¾ç¤ºå™¨åœ¨æš—è‰²èƒŒæ™¯ä¸‹å¸¸è§é—®é¢˜æ˜¯ï¼š</p>
<ul>
<li><strong>é»‘ä¸å¤Ÿæ²‰ï¼Œç°è’™è’™</strong></li>
<li><strong>å­—ç¬¦è¾¹ç¼˜å‘è™š</strong></li>
<li><strong>æ³¨é‡Šå’Œä»£ç å±‚çº§æ··åœ¨ä¸€èµ·</strong></li>
</ul>
<p>æš—é»‘ç¼–ç¨‹æ¨¡å¼çš„åŸç†æ˜¯ï¼š</p>
<ul>
<li><strong>å‹ä½èƒŒæ™¯äº®åº¦</strong></li>
<li><strong>æå‡å­—ä½“è¾¹ç¼˜æ¸…æ™°åº¦</strong></li>
<li><strong>å¢å¼ºå¯¹æ¯”å±‚çº§</strong></li>
</ul>
<p>æ•ˆæœå°±æ˜¯ï¼š</p>
<ul>
<li><strong>å˜é‡åæ›´â€œè·³å‡ºæ¥â€</strong></li>
<li><strong>ç¼©è¿›ç»“æ„æ›´æ¸…æ¥š</strong></li>
<li><strong>é•¿æ—¶é—´çœ‹æš—è‰²ä¸ç´¯</strong></li>
</ul>
<p>ç‰¹åˆ«é€‚åˆ <code>React/Vue</code> è¿™ç§ç»“æ„å¯†é›†å‹ä»£ç ã€‚</p>
<h3 data-id="heading-4">2ï¼‰æ˜äº®ç¼–ç¨‹æ¨¡å¼ï¼šé€‚åˆç™½åº•ä¸æ–‡æ¡£åœºæ™¯</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c5b1f12d4d44430b5f4ffc61f18eb57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=8pI9GTphOgR0FLGvIwc3aCrVGHk%3D" alt="" loading="lazy"/></p>
<p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¸æ­¢å†™ä»£ç ï¼Œè¿˜åœ¨ï¼š</p>
<ul>
<li>æŸ¥ <code>MDN</code></li>
<li>å†™<code>æŠ€æœ¯æ–‡æ¡£</code></li>
<li>çœ‹<code>æ¥å£è¯´æ˜</code></li>
<li>å¯¹ç…§<code>è®¾è®¡ç¨¿</code></li>
</ul>
<p>æ˜äº®ç¼–ç¨‹æ¨¡å¼ä¼šä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>ç™½åº•ä¸åˆºçœ¼</strong></li>
<li><strong>å­—ä½“ä¸å‘ç°</strong></li>
<li><strong>é¡µé¢ä¿¡æ¯æ›´â€œå¹²å‡€â€</strong></li>
</ul>
<p>é€‚åˆç™½å¤©åŠå…¬å’Œå¤šçª—å£æ··åˆåœºæ™¯ã€‚</p>
<h3 data-id="heading-5">3ï¼‰æ–°å¢ï¼šå½©çº¸ç¼–ç¨‹æ¨¡å¼ï¼ˆè¿™æ¬¡æœ€å¤§äº®ç‚¹ï¼‰</h3>
<p>å½©çº¸æ¨¡å¼æ˜¯ <strong>RD280UG</strong> æ–°å¢çš„å‡çº§ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/813ecf35653a48399b721f48edf80c63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=TD7%2Fso5a7MzKGiMxkg3nLRi%2Bg%2BM%3D" alt="" loading="lazy"/></p>
<p>å®ƒçš„æ€è·¯éå¸¸åƒâ€œæŠ¤çœ¼çº¸å¼ é˜…è¯»â€ï¼š</p>
<ul>
<li>èƒŒæ™¯ä¸æ˜¯<code>çº¯ç™½</code>æˆ–<code>çº¯é»‘</code></li>
<li>è€Œæ˜¯<code>ä½åˆºæ¿€</code>çš„æŸ”å’Œçº¸å¼ è‰²</li>
<li>å‡å°‘é«˜äº®å¯¹æ¯”å¸¦æ¥çš„ç–²åŠ³</li>
</ul>
<p>åŸç†ä¸Šï¼Œå®ƒé€šè¿‡è°ƒæ•´ï¼š</p>
<ul>
<li><strong>è‰²æ¸©æ›²çº¿</strong></li>
<li><strong>èƒŒæ™¯äº®åº¦åˆ†å¸ƒ</strong></li>
<li><strong>å­—ç¬¦ä¸åº•è‰²çš„å¯¹æ¯”å…³ç³»</strong></li>
</ul>
<p>è®©å±å¹•å‘ˆç°ä¸€ç§â€œçº¸é¢ä»£ç â€çš„æ„Ÿè§‰ã€‚</p>
<p>å®é™…ä½“éªŒéå¸¸é€‚åˆï¼š</p>
<ul>
<li><strong>é•¿æ—¶é—´å†™ä¸šåŠ¡ä»£ç </strong></li>
<li><strong>æ·±å¤œæ”¹ <code>bug</code></strong></li>
<li><strong>çœ‹åˆ«äººé¡¹ç›®æºç </strong></li>
<li><strong>å‰ç«¯è°ƒè¯•ä¸€åå°±æ˜¯å‡ ä¸ªå°æ—¶</strong></li>
</ul>
<h2 data-id="heading-6">2000:1 é«˜å¯¹æ¯”åº¦ + åˆ†åŒºå¯¹æ¯”åº¦ï¼šå‰ç«¯è°ƒè¯•æ›´æ¸…æ™°</h2>
<p><strong>RD280UG</strong> è¿™æ¬¡å¯¹æ¯”åº¦å‡çº§åˆ° <strong>2000:1</strong>ï¼Œå¹¶æ–°å¢äº†åˆ†åŒºå¯¹æ¯”åº¦åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33ca5b873207452781971e106a4e3948~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=MES3xxSg37WBU8LVx98%2BamGtHxQ%3D" alt="" loading="lazy"/></p>
<p>è¿™å¯¹å‰ç«¯å¼€å‘å°¤å…¶é‡è¦ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬ç»å¸¸é¢å¯¹ï¼š</p>
<ul>
<li><code>DevTools</code> çš„å¤šå±‚é¢æ¿</li>
<li><code>æ§åˆ¶å°</code>è¾“å‡º</li>
<li><code>ä»£ç åŒº</code> + <code>æµè§ˆå™¨</code>é¢„è§ˆåŒæ—¶å¼€</li>
</ul>
<p>åˆ†åŒºå¯¹æ¯”åº¦çš„ä½œç”¨æ˜¯ï¼š<strong>å±å¹•ä¸åŒåŒºåŸŸå¯ä»¥åŠ¨æ€ä¼˜åŒ–å¯¹æ¯”åº¦è¡¨ç°</strong></p>
<p>ç»“æœå°±æ˜¯ï¼š</p>
<ul>
<li><strong>ä»£ç åŒºæ–‡å­—æ›´é”åˆ©</strong></li>
<li><strong>è°ƒè¯•é¢æ¿å±‚çº§æ›´åˆ†æ˜</strong></li>
<li><strong>é»‘åº•æ§åˆ¶å°ä¸ä¼šç³Šæˆä¸€ç‰‡</strong></li>
<li><strong>å°å­—å·ç¬¦å·ï¼ˆ{}, (), ;ï¼‰æ›´å®¹æ˜“è¯†åˆ«</strong></li>
</ul>
<p>å¯¹äºå‰ç«¯è¿™ç§**â€œä¿¡æ¯å¯†åº¦çˆ†ç‚¸â€**çš„å·¥ä½œæµæ¥è¯´ï¼Œè¿™ä¸ªå‡çº§éå¸¸å®ç”¨ã€‚</p>
<h2 data-id="heading-7">120Hz é«˜åˆ·ï¼šæ»šåŠ¨ä»£ç å’Œé¡µé¢è°ƒè¯•æ›´é¡º</h2>
<p>å¾ˆå¤šäººè§‰å¾—é«˜åˆ·æ˜¯æ¸¸æˆéœ€æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a34229a6cf047ebb2de8de793617078~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=BZ1fGPI67%2FC5rBY6djmbg3Ri6CY%3D" alt="" loading="lazy"/></p>
<p>ä½†å‰ç«¯å¼€å‘çš„é«˜é¢‘åŠ¨ä½œå…¶å®æ˜¯ï¼š</p>
<ul>
<li><strong>æ»šåŠ¨é•¿é¡µé¢</strong></li>
<li><strong>æ‹–åŠ¨è°ƒè¯•çª—å£</strong></li>
<li><strong>æµè§ˆå™¨ä¸Šä¸‹åˆ‡æ¢</strong></li>
<li><strong>æŸ¥çœ‹åŠ¨ç”»ä¸äº¤äº’æ•ˆæœ</strong></li>
</ul>
<p><strong>120Hz</strong> å¸¦æ¥çš„æå‡æ˜¯ï¼š</p>
<ul>
<li><strong>æ»šåŠ¨æ›´è·Ÿæ‰‹</strong></li>
<li><strong>ç”»é¢æ›´ç¨³å®š</strong></li>
<li><strong>é•¿æ—¶é—´ç›¯å±ä¸å®¹æ˜“èƒ€çœ¼</strong></li>
</ul>
<p>å±äºâ€œæ¶¦ç‰©ç»†æ— å£°â€çš„å‡çº§ã€‚</p>
<h2 data-id="heading-8">MoonHalo + å¤œé—´ä¿æŠ¤ï¼šæ·±å¤œæ”¹ bug çš„èˆ’é€‚æ„Ÿ</h2>
<p>å‰ç«¯å¼€å‘æœ€ç†Ÿæ‚‰çš„åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1570ad6338174d088041e49343560be1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=KhetKmZgTBu3kgc8W2QjlV65g0o%3D" alt="" loading="lazy"/></p>
<p>æ™šä¸Šåä¸€ç‚¹ï¼š</p>
<ul>
<li><strong>å±‹é‡Œå¾ˆæš—</strong></li>
<li><strong>å±å¹•å¾ˆäº®</strong></li>
<li><strong>ä½ è¿˜åœ¨ä¿®çº¿ä¸Šé—®é¢˜</strong></li>
</ul>
<p><strong>RD280UG</strong> çš„<code>å¤œé—´ä¿æŠ¤æ¨¡å¼</code> + <code>MoonHalo</code> ç¯å¢ƒå…‰éå¸¸é€‚åˆè¿™ç§åœºæ™¯ï¼š</p>
<ul>
<li>å±å¹•äº®åº¦æ›´æŸ”å’Œ</li>
<li>è‰²æ¸©æ›´èˆ’é€‚</li>
<li>èƒŒåç¯å¢ƒå…‰å‡å°‘æ˜æš—åå·®</li>
<li>ä¸ä¼šåƒç›¯ç€ä¸€å—åˆºçœ¼å…‰æ¿</li>
</ul>
<p>æ·±å¤œç¼–ç ä½“éªŒæ˜æ˜¾æ›´â€œæ¾â€ã€‚</p>
<h2 data-id="heading-9">è½¯ä»¶ååŒå‡çº§ï¼šæ–°å¢æ”¯æŒ Linux</h2>
<p><strong>RD280UG</strong> ä¾ç„¶æ”¯æŒ <code>Display Pilot 2</code> è½¯ä»¶è°ƒèŠ‚æ˜¾ç¤ºå™¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d61f8eb0b6f94eb4ba821f3154d32c12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815272&amp;x-signature=U2KBQBfb919oibnuUEQFA1%2BwE7I%3D" alt="" loading="lazy"/></p>
<p>è¿™æ¬¡è¿˜æœ‰ä¸€ä¸ªå¯¹ç¨‹åºå‘˜å¾ˆé‡è¦çš„å‡çº§ï¼š</p>
<p><strong>æ–°å¢æ”¯æŒ Linux ç³»ç»Ÿ</strong></p>
<p>å¯¹äºå¾ˆå¤šå‰ç«¯/å…¨æ ˆç”¨æˆ·æ¥è¯´ï¼š</p>
<ul>
<li>ä¸»åŠ›æœºæ˜¯ <code>Mac</code></li>
<li>å¼€å‘æœºæ˜¯ <code>Linux</code></li>
<li>æµ‹è¯•ç¯å¢ƒä¹Ÿåœ¨ <code>Linux</code></li>
</ul>
<p>è½¯ä»¶æ”¯æŒæ‰©å±•åï¼Œè°ƒèŠ‚æ˜¾ç¤ºå™¨ä¼šæ›´æ–¹ä¾¿ã€‚</p>
<h2 data-id="heading-10">æ€»ç»“ï¼šRD280UG æ›´åƒâ€œå‰ç«¯å¼€å‘çš„ç¬¬äºŒä»£ç”Ÿäº§åŠ›å±â€</h2>
<p><strong>RD280UG</strong> çš„å‡çº§æ–¹å‘éå¸¸æ˜ç¡®ï¼š</p>
<ul>
<li><strong>å½©çº¸ç¼–ç¨‹æ¨¡å¼</strong> â†’ é•¿æ—¶é—´å†™ä»£ç æ›´è€çœ‹</li>
<li><strong>2000:1 + åˆ†åŒºå¯¹æ¯”åº¦</strong> â†’ è°ƒè¯•ä¿¡æ¯æ›´æ¸…æ™°</li>
<li><strong>120Hz é«˜åˆ·</strong> â†’ æ»šåŠ¨ä¸äº¤äº’æ›´é¡ºæ»‘</li>
</ul>
<p>å†åŠ ä¸Šï¼š</p>
<ul>
<li><code>3:2</code> çºµå‘ç©ºé—´</li>
<li><code>æŠ—åå°„é¢æ¿</code></li>
<li><code>MoonHalo</code> å¤œé—´ä½“éªŒ</li>
<li>è½¯ä»¶æ”¯æŒ <code>Linux</code></li>
</ul>
<p>å®ƒä¸æ˜¯å•çº¯å‚æ•°å‡çº§ï¼Œè€Œæ˜¯æ›´è´´è¿‘ç¨‹åºå‘˜çœŸå®å·¥ä½œæµçš„è¿­ä»£ã€‚</p>
<p>å¦‚æœä½ æ˜¯<strong>å‰ç«¯å¼€å‘è€…</strong>ï¼Œæ¯å¤©éƒ½åœ¨ <code>IDE</code> + <code>æµè§ˆå™¨</code> + <code>DevTools</code> ä¹‹é—´åˆ‡æ¢ï¼Œé‚£ <strong>RD280UG</strong> ä¼šæ˜¯ä¸€å—çœŸæ­£èƒ½æå‡æ•ˆç‡å’Œèˆ’é€‚åº¦çš„æ˜¾ç¤ºå™¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[log-lotteryï¼šä¸åªæ˜¯ç‚«é…·çš„3DæŠ½å¥–ï¼Œæ›´æ˜¯å­¦ä¹ å‰ç«¯å¼€å‘çš„æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7602814773496774698</link>    <guid>https://juejin.cn/post/7602814773496774698</guid>    <pubDate>2026-02-04T13:08:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602814773496774698" data-draft-id="7602807243704795199" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="log-lotteryï¼šä¸åªæ˜¯ç‚«é…·çš„3DæŠ½å¥–ï¼Œæ›´æ˜¯å­¦ä¹ å‰ç«¯å¼€å‘çš„æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T13:08:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            log-lotteryï¼šä¸åªæ˜¯ç‚«é…·çš„3DæŠ½å¥–ï¼Œæ›´æ˜¯å­¦ä¹ å‰ç«¯å¼€å‘çš„æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:08:37.000Z" title="Wed Feb 04 2026 13:08:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ–‡ç« ç®€ä»‹ï¼šå¹´å…³å°†è‡³ï¼Œå¹´ä¼šæŠ½å¥–å¦‚ä½•ç©å‡ºæ–°æ„ï¼Ÿlog-lottery å¼€æºé¡¹ç›®å°†ä¼ ç»ŸæŠ½å¥–å‡çº§ä¸ºç‚«é…·çš„3Dçƒä½“è§†è§‰ç››å®´ï¼Œæ›´æ˜¯ä¸€æ¬¾èåˆ Vue3ã€Three.jsã€IndexedDB ç­‰å‰æ²¿æŠ€æœ¯çš„å®Œæ•´å­¦ä¹ æ¡ˆä¾‹ã€‚å®ƒä¸ä»…æ”¯æŒå¥–å“äººå‘˜ç®¡ç†ã€ç•Œé¢å®šåˆ¶ä¸éŸ³ä¹é…ç½®ï¼Œè¿˜æä¾›åœ¨çº¿ä½“éªŒã€æœ¬åœ°éƒ¨ç½²ä¸ Docker å®¹å™¨åŒ–ç­‰å¤šç§ä½¿ç”¨æ–¹å¼ã€‚æ— è®ºæ˜¯æ‰“é€ ç°åœºäº®ç‚¹ï¼Œè¿˜æ˜¯æ·±å…¥å­¦ä¹ ç°ä»£å‰ç«¯å·¥ç¨‹å®è·µï¼Œè¿™ä¸ªé¡¹ç›®éƒ½èƒ½ä¸ºä½ å¸¦æ¥æƒŠå–œä¸æ”¶è·ã€‚</p>
</blockquote>
<p>å¹´å…³å°†è‡³ï¼Œå„å®¶å…¬å¸å·²é™†ç»­å¼€å§‹ç­¹å¤‡å¹´ä¼šã€‚æ´»åŠ¨ç°åœºç¯ç«ç’€ç’¨ï¼Œæ— è®ºæ˜¯åº†å…¸è¿˜æ˜¯å…¶ä»–èšä¼šï¼ŒæŠ½å¥–ç¯èŠ‚å¾€å¾€æ˜¯æœ€ä»¤äººå¿ƒåŠ¨çš„äº®ç‚¹ã€‚ç„¶è€Œï¼Œè‹¥åªæ˜¯ç®€å•åœ°æ¬å‡ºä¸€ä¸ªæŠ½å¥–ç®±éšæ‰‹æŠ½å–ï¼Œå°¤å…¶æ˜¯å¯¹äºè½¯ä»¶å…¬å¸è€Œè¨€â€”â€”æ˜¯å¦æ˜¾å¾—ä¸é«˜å¤§ä¸Šå‘¢ï¼Ÿ</p>
<p>ä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„æŠ½å¥–ç³»ç»ŸèƒŒåï¼Œå…¶å®å¯ä»¥æ‰¿è½½ä¸°å¯Œçš„å‰ç«¯å¼€å‘æŠ€æœ¯ä¸å·¥ç¨‹å®è·µï¼Ÿä»Šå¤©æˆ‘è¦å‘å¤§å®¶ä»‹ç»çš„ log-lotteryï¼Œæ­£æ˜¯è¿™æ ·ä¸€ä¸ªå°†è¶£å‘³æ€§ä¸æŠ€æœ¯æ·±åº¦å·§å¦™èåˆçš„å¼€æºé¡¹ç›®ã€‚å®ƒä¸ä»…æ‹¥æœ‰å¼•äººæ³¨ç›®çš„ 3D è§†è§‰æ•ˆæœï¼Œæ›´å ªç§°ç°ä»£å‰ç«¯æŠ€æœ¯æ ˆçš„å®Œæ•´ç¤ºèŒƒæ¡ˆä¾‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34f0af04203645ce85e3beb5427dc1a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=M00zqoaGf5ZLtrNIF%2FYaPPoZjl8%3D" alt="f99efd1d4c35e9a7e295e318becbe469.png" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ‰ ä»€ä¹ˆ log-lotteryï¼Ÿ</h2>
<p>log-lotteryæ˜¯ä¸€ä¸ªå¯é…ç½®å¯å®šåˆ¶åŒ–çš„æŠ½å¥–åº”ç”¨ï¼Œç‚«é…·3Dçƒä½“ï¼Œå¯ç”¨äºå¹´ä¼šæŠ½å¥–ç­‰æ´»åŠ¨ï¼Œæ”¯æŒå¥–å“ã€äººå‘˜ã€ç•Œé¢ã€å›¾ç‰‡éŸ³ä¹é…ç½®ã€‚log-lottery æœ€å¸å¼•äººçš„ç‰¹ç‚¹æ— ç–‘æ˜¯å…¶åä¸½çš„3Dçƒä½“æŠ½å¥–ç•Œé¢ã€‚å½“å‚ä¸è€…åå•ä»¥3Dçƒä½“å½¢å¼æ—‹è½¬ã€è·³åŠ¨æ—¶ï¼Œé‚£ç§è§†è§‰å†²å‡»åŠ›æ˜¯ä¼ ç»ŸæŠ½å¥–ç³»ç»Ÿæ— æ³•æ¯”æ‹Ÿçš„ã€‚æ— è®ºæ˜¯åœ¨å…¬å¸å¹´ä¼šã€æ ¡å›­æ´»åŠ¨è¿˜æ˜¯å…¶ä»–åº†ç¥åœºåˆï¼Œè¿™ä¸ªåŠŸèƒ½éƒ½èƒ½ç¬é—´ç‚¹ç‡ƒç°åœºæ°”æ°›ã€‚</p>
<p>ä½† log-lottery çš„é­…åŠ›è¿œä¸æ­¢äºæ­¤ã€‚å®ƒæ›´æ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„<strong>å­¦ä¹ é¡¹ç›®</strong>ï¼Œå±•ç¤ºäº†å¦‚ä½•å°†å¤šç§ç°ä»£å‰ç«¯æŠ€æœ¯æœ‰æœºç»“åˆï¼Œæ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ä½“éªŒä¼˜ç§€çš„Webåº”ç”¨ã€‚</p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FLOG1997%2Flog-lottery" title="https://github.com/LOG1997/log-lottery" target="_blank" ref="nofollow noopener noreferrer">github.com/LOG1997/logâ€¦</a></p>
<p><strong>åœ¨çº¿ä½“éªŒ</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flottery.to2026.xyz%2Flog-lottery" title="https://lottery.to2026.xyz/log-lottery" target="_blank" ref="nofollow noopener noreferrer">lottery.to2026.xyz/log-lottery</a></p>
<p>è¯¥é¡¹ç›®ç›®å‰å†githubä¸Šå·²æœ‰Â <strong>3k</strong>â­ï¸ star</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07fb2beb375d4bb7bda4b7c64c4e152c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=bct3fmPFr6lkXNy1nEZipJq4o%2Bs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">ğŸ› ï¸ æŠ€æœ¯æ ˆäº®ç‚¹</h2>
<p>log-lottery é‡‡ç”¨äº†å½“å‰å‰ç«¯å¼€å‘çš„ä¸»æµæŠ€æœ¯æ ˆï¼š</p>
<ul>
<li>â€¢Â <strong>Vue3</strong>Â - æœ€æ–°ç‰ˆçš„Vueæ¡†æ¶ï¼Œå±•ç¤ºç»„åˆå¼APIçš„æœ€ä½³å®è·µ</li>
<li>â€¢Â <strong>Three.js</strong>Â - ä¸šç•Œé¢†å…ˆçš„3Då›¾å½¢åº“ï¼Œå®ç°æƒŠè‰³çš„è§†è§‰æ•ˆæœ</li>
<li>â€¢Â <strong>IndexedDB</strong>Â - æµè§ˆå™¨æœ¬åœ°æ•°æ®åº“ï¼Œå®ç°æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨</li>
<li>â€¢Â <strong>Pinia</strong>Â - Vueçš„ç°ä»£çŠ¶æ€ç®¡ç†åº“</li>
<li>â€¢Â <strong>DaisyUI</strong>Â - Tailwind CSSç»„ä»¶åº“ï¼Œæä¾›ç¾è§‚çš„UIåŸºç¡€</li>
</ul>
<p>è¿™ä¸ªæŠ€æœ¯ç»„åˆéå¸¸å®ç”¨ï¼Œæ˜¯å­¦ä¹ è€…äº†è§£ç°ä»£Webå¼€å‘æ¶æ„çš„ç»ä½³é¡¹ç›®ã€‚</p>
<h2 data-id="heading-2">ğŸ”§ å¿«é€Ÿå¼€å§‹</h2>
<h3 data-id="heading-3">ğŸŒåœ¨çº¿ä½“éªŒ</h3>
<p>ç›´æ¥è®¿é—®å®˜æ–¹æä¾›çš„ä¸¤ä¸ªåœ°å€ä¹‹ä¸€å³å¯ä½“éªŒï¼š</p>
<ul>
<li>â€¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Flottery.to2026.xyz%2Flog-lottery" target="_blank" title="https://lottery.to2026.xyz/log-lottery" ref="nofollow noopener noreferrer">lottery.to2026.xyz/log-lottery</a></li>
<li>â€¢ <a href="https://link.juejin.cn?target=https%3A%2F%2Flog1997.github.io%2Flog-lottery%2F" target="_blank" title="https://log1997.github.io/log-lottery/" ref="nofollow noopener noreferrer">log1997.github.io/log-lotteryâ€¦</a></li>
</ul>
<h3 data-id="heading-4">ğŸ–¥ï¸æœ¬åœ°å¼€å‘</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â å…‹éš†é¡¹ç›®</span>
gitÂ <span class="hljs-built_in">clone</span>Â https://github.com/LOG1997/log-lottery.git

<span class="hljs-comment">#Â å®‰è£…ä¾èµ–</span>
pnpmÂ iÂ Â Â æˆ–Â npmÂ install

<span class="hljs-comment">#Â å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span>
pnpmÂ devÂ Â Â æˆ–Â npmÂ runÂ dev

<span class="hljs-comment">#Â æ‰“åŒ…</span>
pnpmÂ buildÂ æˆ–Â npmÂ runÂ build
</code></pre>
<h3 data-id="heading-5">ğŸ³Dockeréƒ¨ç½²</h3>
<ul>
<li>â€¢ Docker run è¿è¡Œ</li>
</ul>
<p>æ‹‰å–é•œåƒï¼Œä»Docker Hubæ‹‰å–é•œåƒlog-lottery</p>
<pre><code class="hljs language-bash" lang="bash">dockerÂ pullÂ log1997/log-lottery:latest
</code></pre>
<p>è¿è¡Œå®¹å™¨</p>
<pre><code class="hljs language-c" lang="c">dockerÂ runÂ -dÂ --nameÂ <span class="hljs-built_in">log</span>-lotteryÂ -pÂ <span class="hljs-number">9279</span>:<span class="hljs-number">80</span>Â log1997/<span class="hljs-built_in">log</span>-lottery:latest
</code></pre>
<ul>
<li>â€¢ docker-compose è¿è¡Œ</li>
</ul>
<p>åˆ›å»ºdocker-compose.ymlæ–‡ä»¶</p>
<pre><code class="hljs language-perl" lang="perl">services:
Â Â <span class="hljs-keyword">log</span>-lottery:
Â Â Â Â image:Â log1997/<span class="hljs-keyword">log</span>-lottery:latest
Â Â Â Â container_name:Â <span class="hljs-keyword">log</span>-lottery
Â Â Â Â ports:
Â Â Â Â Â Â -Â <span class="hljs-string">"9279:80"</span>
Â Â Â Â restart:Â <span class="hljs-keyword">unless</span>-stopped
</code></pre>
<p>åœ¨docker-compose.yml åŒçº§ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨</p>
<pre><code class="hljs">docker-composeÂ upÂ -dÂ 
</code></pre>
<p>å¯åŠ¨ä¹‹åè®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A9279%2Flog-lottery%2F" target="_blank" title="http://localhost:9279/log-lottery/" ref="nofollow noopener noreferrer">http://localhost:9279/log-lottery/</a> å³å¯ä½¿ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dadadf586dc9414c92ba24a0a7d30394~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=0pSUMLN5rTR3KKObjPaRW%2FOkoO0%3D" alt="df6cf7cecb81ee905c15ee1473607f62.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51f52f9cf3994467abd71c1d57725237~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=sED0V2d0Kq10J9UshXFgcmtZrQs%3D" alt="23f5fdf0072f10d95ac454f3ab9b2d4a.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a45e165754f5457ab81143efae99f0eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=DlXAb8esvlZvSCA%2F9s2dJfzX8%2B0%3D" alt="28037b55654df1190c4a168abe9d57a3.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f11186bf7a38406a94507ebd30630a1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=ngwYPgAd6ESRZC0noKuW08sib%2BQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b3b88662f4c4a8eb37d5f47b88bb620~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=DWKA6ldF58dpZiEGUNHnBS%2BsObw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1f448ac6a8146939477168f759bc752~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=nHT%2Fss%2FZTNij6jX%2Fg880AjzgI9c%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2244b2f883a14f00941dc50241e56f78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=9tfjOLd86fBg5jtwORFhm9YeSUc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">ğŸ“‹ åŠŸèƒ½ä¸°å¯Œä¸”å®ç”¨</h2>
<h3 data-id="heading-7">1. ğŸ§‘â€ğŸ¤â€ğŸ§‘å®Œæ•´çš„äººå‘˜ä¸å¥–å“ç®¡ç†</h3>
<ul>
<li>â€¢ é€šè¿‡Excelæ¨¡æ¿å¯¼å…¥å‚ä¸äººå‘˜åå•</li>
<li>â€¢ è‡ªå®šä¹‰å¥–é¡¹è®¾ç½®ï¼ˆåç§°ã€äººæ•°ã€å‚ä¸èŒƒå›´ç­‰ï¼‰</li>
<li>â€¢ æŠ½å¥–ç»“æœå¯¼å‡ºåˆ°Excelï¼Œæ–¹ä¾¿åç»­å¤„ç†</li>
</ul>
<h3 data-id="heading-8">2. ğŸ¨é«˜åº¦å¯å®šåˆ¶åŒ–ç•Œé¢</h3>
<ul>
<li>â€¢ è‡ªå®šä¹‰æ ‡é¢˜ã€åˆ—æ•°ã€å¡ç‰‡é¢œè‰²</li>
<li>â€¢ æ›´æ¢èƒŒæ™¯å›¾ç‰‡å’Œé¦–é¡µå›¾æ¡ˆ</li>
<li>â€¢ æ”¯æŒèƒŒæ™¯éŸ³ä¹ä¸Šä¼ å’Œæ’­æ”¾</li>
</ul>
<h3 data-id="heading-9">3. ğŸš¢å¤šç§éƒ¨ç½²æ–¹å¼</h3>
<ul>
<li>â€¢Â <strong>åœ¨çº¿è®¿é—®</strong>ï¼šç›´æ¥é€šè¿‡æä¾›çš„é“¾æ¥ä½¿ç”¨</li>
<li>â€¢Â <strong>Dockeréƒ¨ç½²</strong>ï¼šä¸€é”®å®¹å™¨åŒ–éƒ¨ç½²</li>
<li>â€¢Â <strong>æœ¬åœ°å®‰è£…åŒ…</strong>ï¼šWindowså¹³å°å¯ç›´æ¥å®‰è£…ä½¿ç”¨</li>
</ul>
<h2 data-id="heading-10">ğŸš€ å­¦ä¹ ä»·å€¼</h2>
<p>å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œlog-lottery æä¾›äº†å¤šä¸ªå­¦ä¹ ç»´åº¦ï¼š</p>
<h3 data-id="heading-11">1. ğŸ®3D Webåº”ç”¨å¼€å‘</h3>
<p>é€šè¿‡ Three.js ä¸ Vue3 çš„é›†æˆï¼Œä½ å¯ä»¥å­¦ä¹ å¦‚ä½•åœ¨Webåº”ç”¨ä¸­æ·»åŠ 3Då…ƒç´ ï¼Œè¿™å¯¹äºæ¸¸æˆå¼€å‘ã€æ•°æ®å¯è§†åŒ–ç­‰é¢†åŸŸéƒ½æœ‰é‡è¦å‚è€ƒä»·å€¼ã€‚</p>
<h3 data-id="heading-12">2. ğŸ’¾æœ¬åœ°æ•°æ®æŒä¹…åŒ–</h3>
<p>é¡¹ç›®ä½¿ç”¨ IndexedDB å­˜å‚¨é…ç½®å’Œåª’ä½“æ–‡ä»¶ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨æµè§ˆå™¨ç«¯å®ç°å¤æ‚çš„æ•°æ®ç®¡ç†ï¼Œè¿™å¯¹äºç¦»çº¿åº”ç”¨å’ŒPWAå¼€å‘éå¸¸æœ‰å¸®åŠ©ã€‚</p>
<h3 data-id="heading-13">3.ğŸ› ï¸ å®Œæ•´çš„å‰ç«¯å·¥ç¨‹åŒ–å®è·µ</h3>
<p>ä»å¼€å‘ã€æ„å»ºåˆ°éƒ¨ç½²ï¼Œé¡¹ç›®å±•ç¤ºäº†å®Œæ•´çš„å¼€å‘æµç¨‹ã€‚ç‰¹åˆ«æ˜¯Dockeræ”¯æŒï¼Œè®©ä½ äº†è§£å¦‚ä½•å°†å‰ç«¯åº”ç”¨å®¹å™¨åŒ–ã€‚</p>
<h2 data-id="heading-14">ğŸŒŸç»“è¯­</h2>
<p>Log-Lottery å±•ç¤ºäº†ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„åº”ç”¨èƒŒåæ‰€è•´å«çš„ä¸°å¯ŒæŠ€æœ¯å†…æ¶µã€‚å®ƒä¸ä»…æ˜¯æ´»è·ƒå¹´ä¼šæ°”æ°›çš„å®ç”¨å·¥å…·ï¼Œæ›´æ˜¯ä¸€ä»¶ç²¾å¿ƒæ‰“ç£¨çš„æŠ€æœ¯ä½œå“ï¼Œä¸€ä¸ªæå…·å­¦ä¹ ä»·å€¼çš„å¼€æºé¡¹ç›®ã€‚</p>
<p>ä½œä¸ºä½¿ç”¨è€…ï¼Œä½ å¯ä»¥ï¼š</p>
<ul>
<li>â€¢ è·å¾—ä¸€ä¸ªå…è´¹ã€å¼ºå¤§ä¸”é«˜åº¦å¯å®šåˆ¶çš„æŠ½å¥–ç³»ç»Ÿ</li>
<li>â€¢ æ”¯æŒæœ¬åœ°éƒ¨ç½²ï¼Œç¡®ä¿æ´»åŠ¨æ•°æ®å®Œå…¨è‡ªä¸»å¯æ§</li>
<li>â€¢ é€šè¿‡ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œçµæ´»é€‚åº”ä¸åŒæ´»åŠ¨åœºæ™¯</li>
</ul>
<p>ä½œä¸ºå­¦ä¹ è€…ï¼Œä½ å°†èƒ½å¤Ÿï¼š</p>
<ul>
<li>â€¢ æ·±å…¥å‰–æä¸€ä¸ªç”Ÿäº§ç¯å¢ƒçº§çš„ Three.js å®Œæ•´åº”ç”¨æ¡ˆä¾‹</li>
<li>â€¢ æŒæ¡ IndexedDB åœ¨å‰ç«¯å¤æ‚åœºæ™¯ä¸­çš„å®æˆ˜ä½¿ç”¨æ–¹æ³•</li>
<li>â€¢ ç†è§£åŸºäº Vue 3 çš„ç°ä»£åŒ–å‰ç«¯é¡¹ç›®æ¶æ„è®¾è®¡</li>
</ul>
<p>æ— è®ºä½ æ˜¯ä¸ºäº†ä¸‹ä¸€æ¬¡å…¬å¸å¹´ä¼šå‡†å¤‡ä¸€ä¸ªæƒŠè‰³å…¨åœºçš„æŠ½å¥–ç¯èŠ‚ï¼Œè¿˜æ˜¯å¸Œæœ›è¿›ä¸€æ­¥æå‡ä¸ªäººå‰ç«¯æŠ€æœ¯å®åŠ›ï¼ŒLog-Lottery éƒ½æ˜¯ä¸€ä¸ªå€¼å¾—ä½ æŠ•å…¥æ—¶é—´æ·±å…¥æ¢ç´¢çš„ä¼˜ç§€é¡¹ç›®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/966b5281f9054bbabe1841af546cd9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815317&amp;x-signature=%2Bfl13kQQJU%2FBFbbgW7xXySMflJo%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬12ç¯‡ï¼‰ï¼šSoulX-Podcast - å¤šè½®å¯¹è¯å¼æ’­å®¢ç”Ÿæˆï¼Œè®©AIè¯­éŸ³æ›´è‡ªç„¶çœŸå®]]></title>    <link>https://juejin.cn/post/7602776926328094774</link>    <guid>https://juejin.cn/post/7602776926328094774</guid>    <pubDate>2026-02-04T13:15:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926328094774" data-draft-id="7602776926328078390" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬12ç¯‡ï¼‰ï¼šSoulX-Podcast - å¤šè½®å¯¹è¯å¼æ’­å®¢ç”Ÿæˆï¼Œè®©AIè¯­éŸ³æ›´è‡ªç„¶çœŸå®"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å¼€æº"/> <meta itemprop="datePublished" content="2026-02-04T13:15:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬12ç¯‡ï¼‰ï¼šSoulX-Podcast - å¤šè½®å¯¹è¯å¼æ’­å®¢ç”Ÿæˆï¼Œè®©AIè¯­éŸ³æ›´è‡ªç„¶çœŸå®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:15:38.000Z" title="Wed Feb 04 2026 13:15:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>"å¦‚æœAIèƒ½ç”ŸæˆåƒçœŸå®æ’­å®¢ä¸€æ ·è‡ªç„¶çš„å¯¹è¯ï¼Œæ”¯æŒå¤šè½®äº¤äº’ã€ä¸åŒæ–¹è¨€ï¼Œè¿˜èƒ½åŠ å…¥ç¬‘å£°ã€å¹æ¯ç­‰çœŸå®æƒ…æ„Ÿï¼Œé‚£è¯¥å¤šå¥½ï¼Ÿ"</p>
</blockquote>
<p>è¿™æ˜¯"ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®"ç³»åˆ—çš„ç¬¬12ç¯‡æ–‡ç« ã€‚ä»Šå¤©å¸¦ä½ äº†è§£çš„é¡¹ç›®æ˜¯ <strong>SoulX-Podcast</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSoul-AILab%2FSoulX-Podcast" target="_blank" title="https://github.com/Soul-AILab/SoulX-Podcast" ref="nofollow noopener noreferrer">GitHub</a>ï¼‰ã€‚</p>
<p>ä¼ ç»Ÿçš„TTSç³»ç»Ÿä¸»è¦é¢å‘å•è¯´è¯äººã€å•è½®å¯¹è¯ï¼Œç”Ÿæˆçš„è¯­éŸ³ç¼ºä¹çœŸå®å¯¹è¯çš„è‡ªç„¶æ„Ÿã€‚SoulX-Podcastä¸“ä¸ºæ’­å®¢é£æ ¼çš„å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³ç”Ÿæˆè€Œè®¾è®¡ï¼Œä¸ä»…æ”¯æŒè·¨æ–¹è¨€çš„é›¶æ ·æœ¬è¯­éŸ³å…‹éš†ï¼Œè¿˜èƒ½æ§åˆ¶å‰¯è¯­è¨€äº‹ä»¶ï¼ˆå¦‚ç¬‘å£°ã€å¹æ¯ï¼‰ï¼Œè®©AIç”Ÿæˆçš„è¯­éŸ³æ›´è‡ªç„¶ã€æ›´çœŸå®ï¼ŒçœŸæ­£è¾¾åˆ°æ’­å®¢çº§åˆ«çš„è´¨é‡ã€‚</p>
<h3 data-id="heading-1">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</h3>
<ul>
<li>SoulX-Podcastçš„æ ¸å¿ƒæ¶æ„å’ŒæŠ€æœ¯ç‰¹ç‚¹</li>
<li>å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³ç”Ÿæˆçš„å®ç°åŸç†</li>
<li>è·¨æ–¹è¨€é›¶æ ·æœ¬è¯­éŸ³å…‹éš†çš„æŠ€æœ¯çªç ´</li>
<li>å‰¯è¯­è¨€æ§åˆ¶ï¼ˆç¬‘å£°ã€å¹æ¯ç­‰ï¼‰çš„å®ç°æ–¹å¼</li>
<li>å¦‚ä½•ä½¿ç”¨SoulX-Podcastç”Ÿæˆé«˜è´¨é‡æ’­å®¢</li>
<li>ä¸å…¶ä»–TTSç³»ç»Ÿçš„å¯¹æ¯”åˆ†æ</li>
<li>WebUIå’ŒAPIçš„ä½¿ç”¨æ–¹æ³•</li>
</ul>
<h3 data-id="heading-2">å‰ç½®çŸ¥è¯†</h3>
<ul>
<li>å¯¹TTSï¼ˆæ–‡æœ¬è½¬è¯­éŸ³ï¼‰æœ‰åŸºæœ¬äº†è§£</li>
<li>äº†è§£è¯­éŸ³åˆæˆçš„åŸºæœ¬æ¦‚å¿µ</li>
<li>ç†Ÿæ‚‰Pythonç¼–ç¨‹ï¼ˆå¯é€‰ï¼‰</li>
<li>å¯¹é›¶æ ·æœ¬å­¦ä¹ æœ‰åŸºæœ¬è®¤è¯†ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h2>
<h3 data-id="heading-4">é¡¹ç›®ç®€ä»‹</h3>
<p><strong>SoulX-Podcast</strong> æ˜¯ä¸€ä¸ªä¸“ä¸º<strong>æ’­å®¢é£æ ¼çš„å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³ç”Ÿæˆ</strong>è€Œè®¾è®¡çš„TTSç³»ç»Ÿï¼Œç”±Soul AIå›¢é˜Ÿå¼€å‘ã€‚å®ƒä¸ä»…èƒ½åœ¨ä¼ ç»Ÿçš„å•è¯´è¯äººTTSä»»åŠ¡ä¸Šè¡¨ç°ä¼˜å¼‚ï¼Œæ›´é‡è¦çš„æ˜¯å®ç°äº†é«˜è´¨é‡çš„å¤šè½®å¯¹è¯å¼è¯­éŸ³ç”Ÿæˆï¼Œè®©AIç”Ÿæˆçš„è¯­éŸ³æ›´æ¥è¿‘çœŸå®æ’­å®¢çš„è‡ªç„¶æ„Ÿã€‚</p>
<p><strong>é¡¹ç›®è§£å†³çš„æ ¸å¿ƒé—®é¢˜</strong>ï¼š</p>
<ul>
<li>ä¼ ç»ŸTTSç³»ç»Ÿåªæ”¯æŒå•è¯´è¯äººã€å•è½®å¯¹è¯</li>
<li>ç¼ºä¹å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡ç†è§£å’Œè¿è´¯æ€§</li>
<li>æ— æ³•ç”Ÿæˆå¤šè¯´è¯äººä¹‹é—´çš„è‡ªç„¶å¯¹è¯</li>
<li>ç¼ºä¹æ–¹è¨€æ”¯æŒï¼Œæ— æ³•å®ç°è·¨æ–¹è¨€è¯­éŸ³å…‹éš†</li>
<li>ç”Ÿæˆçš„è¯­éŸ³ç¼ºä¹çœŸå®æƒ…æ„Ÿè¡¨è¾¾ï¼ˆå¦‚ç¬‘å£°ã€å¹æ¯ç­‰å‰¯è¯­è¨€ï¼‰</li>
</ul>
<p><strong>é¢å‘çš„ç”¨æˆ·ç¾¤ä½“</strong>ï¼š</p>
<ul>
<li>éœ€è¦ç”Ÿæˆæ’­å®¢å†…å®¹çš„åˆ›ä½œè€…</li>
<li>éœ€è¦å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³çš„åº”ç”¨å¼€å‘è€…</li>
<li>éœ€è¦æ–¹è¨€è¯­éŸ³åˆæˆçš„å¼€å‘è€…</li>
<li>éœ€è¦é«˜è´¨é‡ã€è‡ªç„¶è¯­éŸ³åˆæˆçš„AIåº”ç”¨å¼€å‘è€…</li>
<li>å¯¹è¯­éŸ³åˆæˆè´¨é‡æœ‰é«˜è¦æ±‚çš„å¼€å‘è€…</li>
</ul>
<h3 data-id="heading-5">ä½œè€…/å›¢é˜Ÿä»‹ç»</h3>
<p><strong>å›¢é˜Ÿï¼šSoul AI Lab</strong></p>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä¸“æ³¨äºè¯­éŸ³æŠ€æœ¯å’ŒAIçš„ç§‘ç ”å›¢é˜Ÿ</li>
<li><strong>è´¡çŒ®è€…</strong>ï¼š4ä½æ ¸å¿ƒè´¡çŒ®è€…</li>
<li><strong>ç†å¿µ</strong>ï¼šæ‰“é€ é«˜è´¨é‡ã€è‡ªç„¶ã€çœŸå®çš„æ’­å®¢é£æ ¼è¯­éŸ³ç”Ÿæˆç³»ç»Ÿ</li>
<li><strong>ç›¸å…³æˆæœ</strong>ï¼šå‘è¡¨ç›¸å…³æŠ€æœ¯è®ºæ–‡ï¼Œåœ¨Hugging Faceä¸Šæä¾›æ¨¡å‹å’ŒDemo</li>
</ul>
<p><strong>é¡¹ç›®åˆ›å»ºæ—¶é—´</strong>ï¼š2025å¹´10æœˆï¼ˆä»GitHubæ´»åŠ¨æ¥çœ‹æ˜¯æŒç»­æ´»è·ƒçš„é¡¹ç›®ï¼‰</p>
<h3 data-id="heading-6">é¡¹ç›®æ•°æ®</h3>
<ul>
<li>â­ <strong>GitHub Stars</strong>: 3.1k+ï¼ˆæŒç»­å¿«é€Ÿå¢é•¿ï¼‰</li>
<li>ğŸ´ <strong>Forks</strong>: 403+</li>
<li>ğŸ“¦ <strong>ç‰ˆæœ¬</strong>: æœ€æ–°ç‰ˆæœ¬ï¼ˆæŒç»­æ›´æ–°ï¼‰</li>
<li>ğŸ“„ <strong>License</strong>: Apache-2.0</li>
</ul>
<p><strong>é¡¹ç›®å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li>2025å¹´10æœˆï¼šé¡¹ç›®åˆ›å»ºï¼Œå‘å¸ƒåˆå§‹ç‰ˆæœ¬</li>
<li>2025å¹´10æœˆ28æ—¥ï¼šè®ºæ–‡å‘è¡¨</li>
<li>2025å¹´10æœˆ29æ—¥ï¼šæ¨¡å‹åœ¨Hugging Faceä¸Šå‘å¸ƒ</li>
<li>2025å¹´10æœˆ30æ—¥ï¼šæ·»åŠ WebUIå’Œå•è¯´è¯äººTTSç¤ºä¾‹</li>
<li>2025å¹´10æœˆ31æ—¥ï¼šéƒ¨ç½²Hugging Faceåœ¨çº¿Demo</li>
<li>2025å¹´11æœˆ3æ—¥ï¼šæ”¯æŒvLLMåŠ é€Ÿå’ŒDockeréƒ¨ç½²</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸»è¦åŠŸèƒ½</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä½œç”¨</h3>
<p>SoulX-Podcastçš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>ç”Ÿæˆé«˜è´¨é‡ã€è‡ªç„¶ã€çœŸå®çš„æ’­å®¢é£æ ¼å¤šè½®å¯¹è¯å¼è¯­éŸ³</strong>ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³ç”Ÿæˆ</strong>ï¼šæ”¯æŒå¤šä¸ªè¯´è¯äººä¹‹é—´çš„è‡ªç„¶å¯¹è¯ï¼Œä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§</li>
<li><strong>è·¨æ–¹è¨€é›¶æ ·æœ¬è¯­éŸ³å…‹éš†</strong>ï¼šæ”¯æŒå››å·è¯ã€æ²³å—è¯ã€ç²¤è¯­ç­‰æ–¹è¨€ï¼Œåªéœ€æä¾›å‚è€ƒéŸ³é¢‘å³å¯å…‹éš†</li>
<li><strong>å‰¯è¯­è¨€æ§åˆ¶</strong>ï¼šæ”¯æŒç¬‘å£°ã€å¹æ¯ã€å‘¼å¸ã€å’³å—½ã€æ¸…å—“ç­‰å‰¯è¯­è¨€äº‹ä»¶ï¼Œå¢å¼ºçœŸå®æ„Ÿ</li>
<li><strong>é«˜è´¨é‡å•è¯´è¯äººTTS</strong>ï¼šåœ¨ä¼ ç»Ÿå•è¯´è¯äººTTSä»»åŠ¡ä¸Šä¹Ÿè¡¨ç°ä¼˜å¼‚</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šæ”¯æŒä¸­æ–‡ï¼ˆæ™®é€šè¯å’Œå¤šç§æ–¹è¨€ï¼‰å’Œè‹±æ–‡</li>
</ol>
<h3 data-id="heading-9">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>
<p><strong>æ’­å®¢å†…å®¹ç”Ÿæˆ</strong></p>
<ul>
<li>è‡ªåŠ¨ç”Ÿæˆæ’­å®¢å¯¹è¯å†…å®¹</li>
<li>å¤šè¯´è¯äººä¹‹é—´çš„è‡ªç„¶å¯¹è¯</li>
<li>æ·»åŠ çœŸå®çš„æƒ…æ„Ÿè¡¨è¾¾ï¼ˆç¬‘å£°ã€å¹æ¯ç­‰ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æœ‰å£°ä¹¦åˆ¶ä½œ</strong></p>
<ul>
<li>å¤šè§’è‰²å¯¹è¯çš„æœ‰å£°ä¹¦</li>
<li>ä¸åŒæ–¹è¨€è§’è‰²çš„è¯­éŸ³ç”Ÿæˆ</li>
<li>è‡ªç„¶çš„æƒ…æ„Ÿè¡¨è¾¾</li>
</ul>
</li>
<li>
<p><strong>æ•™è‚²å†…å®¹åˆ¶ä½œ</strong></p>
<ul>
<li>å¤šè¯´è¯äººçš„æ•™å­¦å¯¹è¯</li>
<li>ä¸åŒæ–¹è¨€çš„æ•™å­¦å†…å®¹</li>
<li>ç”ŸåŠ¨çš„å¯¹è¯å¼æ•™å­¦</li>
</ul>
</li>
<li>
<p><strong>æ¸¸æˆå’Œå¨±ä¹åº”ç”¨</strong></p>
<ul>
<li>æ¸¸æˆè§’è‰²çš„è¯­éŸ³ç”Ÿæˆ</li>
<li>ä¸åŒæ–¹è¨€çš„è§’è‰²è¯­éŸ³</li>
<li>ä¸°å¯Œçš„å‰¯è¯­è¨€è¡¨è¾¾</li>
</ul>
</li>
<li>
<p><strong>è¾…åŠ©æŠ€æœ¯åº”ç”¨</strong></p>
<ul>
<li>ä¸ºè§†éšœç”¨æˆ·ç”Ÿæˆè‡ªç„¶å¯¹è¯</li>
<li>ä¸ªæ€§åŒ–è¯­éŸ³åŠ©æ‰‹</li>
<li>å¤šè¯­è¨€ã€å¤šæ–¹è¨€çš„è¯­éŸ³æœåŠ¡</li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">å¿«é€Ÿå¼€å§‹</h3>
<p><strong>å®‰è£…æ­¥éª¤</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…‹éš†ä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/Soul-AILab/SoulX-Podcast.git
<span class="hljs-built_in">cd</span> SoulX-Podcast

<span class="hljs-comment"># 2. åˆ›å»ºCondaç¯å¢ƒ</span>
conda create -n soulxpodcast -y python=3.11
conda activate soulxpodcast

<span class="hljs-comment"># 3. å®‰è£…ä¾èµ–</span>
pip install -r requirements.txt

<span class="hljs-comment"># 4. ä¸‹è½½æ¨¡å‹</span>
pip install -U huggingface_hub
huggingface-cli download --resume-download Soul-AILab/SoulX-Podcast-1.7B \
  --local-dir pretrained_models/SoulX-Podcast-1.7B
</code></pre>
<p><strong>æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨WebUIï¼ˆæœ€ç®€å•çš„æ–¹å¼ï¼‰</span>
python3 webui.py --model_path pretrained_models/SoulX-Podcast-1.7B

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨æ–¹è¨€æ¨¡å‹</span>
python3 webui.py --model_path pretrained_models/SoulX-Podcast-1.7B-dialect

<span class="hljs-comment"># ä½¿ç”¨å‘½ä»¤è¡Œç¤ºä¾‹è„šæœ¬</span>
bash example/infer_dialogue.sh
</code></pre>
<p><strong>Pythonä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> soulxpodcast <span class="hljs-keyword">import</span> SoulXPodcast

<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span>
model = SoulXPodcast(model_path=<span class="hljs-string">"pretrained_models/SoulX-Podcast-1.7B"</span>)

<span class="hljs-comment"># ç”Ÿæˆå¤šè¯´è¯äººå¯¹è¯</span>
dialogue = [
    {<span class="hljs-string">"speaker"</span>: <span class="hljs-string">"ä¸»æŒäºº"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"æ¬¢è¿æ¥åˆ°ä»Šå¤©çš„æ’­å®¢èŠ‚ç›®ï¼"</span>},
    {<span class="hljs-string">"speaker"</span>: <span class="hljs-string">"å˜‰å®¾"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"è°¢è°¢é‚€è¯·ï¼&lt;|laughter|&gt;ä»Šå¤©å¾ˆé«˜å…´æ¥åˆ°è¿™é‡Œã€‚"</span>},
    {<span class="hljs-string">"speaker"</span>: <span class="hljs-string">"ä¸»æŒäºº"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"è®©æˆ‘ä»¬å¼€å§‹ä»Šå¤©çš„è®¨è®ºå§ã€‚"</span>}
]

<span class="hljs-comment"># ç”Ÿæˆè¯­éŸ³</span>
audio = model.generate_dialogue(dialogue, reference_audios={
    <span class="hljs-string">"ä¸»æŒäºº"</span>: <span class="hljs-string">"path/to/host_audio.wav"</span>,
    <span class="hljs-string">"å˜‰å®¾"</span>: <span class="hljs-string">"path/to/guest_audio.wav"</span>
})

<span class="hljs-comment"># ä¿å­˜éŸ³é¢‘</span>
model.save_audio(audio, <span class="hljs-string">"output_podcast.wav"</span>)
</code></pre>
<h3 data-id="heading-11">æ ¸å¿ƒç‰¹æ€§</h3>
<ol>
<li>
<p><strong>å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³ç”Ÿæˆ</strong></p>
<ul>
<li>æ”¯æŒå¤šä¸ªè¯´è¯äººä¹‹é—´çš„è‡ªç„¶å¯¹è¯</li>
<li>ä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§å’Œå¯¹è¯æµç•…æ€§</li>
<li>æ¯ä¸ªè¯´è¯äººå¯ä»¥æœ‰ä¸åŒçš„è¯­éŸ³ç‰¹å¾</li>
</ul>
</li>
<li>
<p><strong>è·¨æ–¹è¨€é›¶æ ·æœ¬è¯­éŸ³å…‹éš†</strong></p>
<ul>
<li>æ”¯æŒå››å·è¯ã€æ²³å—è¯ã€ç²¤è¯­ç­‰æ–¹è¨€</li>
<li>åªéœ€æä¾›å‚è€ƒéŸ³é¢‘å³å¯å…‹éš†</li>
<li>æ— éœ€é’ˆå¯¹æ¯ç§æ–¹è¨€å•ç‹¬è®­ç»ƒæ¨¡å‹</li>
</ul>
</li>
<li>
<p><strong>å‰¯è¯­è¨€æ§åˆ¶</strong></p>
<ul>
<li>æ”¯æŒå¤šç§å‰¯è¯­è¨€æ ‡ç­¾ï¼š<code>&lt;|laughter|&gt;</code>ã€<code>&lt;|sigh|&gt;</code>ã€<code>&lt;|breathing|&gt;</code>ã€<code>&lt;|coughing|&gt;</code>ã€<code>&lt;|throat_clearing|&gt;</code></li>
<li>å¢å¼ºè¯­éŸ³çš„çœŸå®æ„Ÿå’Œè‡ªç„¶åº¦</li>
<li>è®©AIç”Ÿæˆçš„è¯­éŸ³æ›´æ¥è¿‘äººç±»è¡¨è¾¾</li>
</ul>
</li>
<li>
<p><strong>é«˜è´¨é‡å•è¯´è¯äººTTS</strong></p>
<ul>
<li>åœ¨ä¼ ç»Ÿå•è¯´è¯äººTTSä»»åŠ¡ä¸Šè¡¨ç°ä¼˜å¼‚</li>
<li>æ”¯æŒé•¿æ–‡æœ¬è¯­éŸ³åˆæˆ</li>
<li>ç”Ÿæˆè‡ªç„¶ã€æ¸…æ™°çš„è¯­éŸ³</li>
</ul>
</li>
<li>
<p><strong>å¤šè¯­è¨€æ”¯æŒ</strong></p>
<ul>
<li>æ”¯æŒä¸­æ–‡ï¼ˆæ™®é€šè¯å’Œå¤šç§æ–¹è¨€ï¼‰</li>
<li>æ”¯æŒè‹±æ–‡</li>
<li>å¯ä»¥æ··åˆä½¿ç”¨å¤šç§è¯­è¨€</li>
</ul>
</li>
<li>
<p><strong>WebUIç•Œé¢</strong></p>
<ul>
<li>å‹å¥½çš„å›¾å½¢ç•Œé¢</li>
<li>ç®€å•æ˜“ç”¨çš„æ“ä½œæµç¨‹</li>
<li>å®æ—¶é¢„è§ˆå’Œè°ƒæ•´</li>
</ul>
</li>
<li>
<p><strong>APIæ”¯æŒ</strong></p>
<ul>
<li>æä¾›RESTful APIæ¥å£</li>
<li>æ–¹ä¾¿é›†æˆåˆ°å…¶ä»–åº”ç”¨</li>
<li>æ”¯æŒæ‰¹é‡å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>vLLMåŠ é€Ÿ</strong></p>
<ul>
<li>æ”¯æŒvLLMæ¨ç†åŠ é€Ÿ</li>
<li>Dockeréƒ¨ç½²æ”¯æŒ</li>
<li>æé«˜ç”Ÿæˆé€Ÿåº¦</li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">é¡¹ç›®ä¼˜åŠ¿</h3>





















































<table><thead><tr><th align="left">å¯¹æ¯”é¡¹</th><th align="left">SoulX-Podcast</th><th align="left">ä¼ ç»ŸTTS</th><th align="left">å…¶ä»–å¯¹è¯å¼TTS</th></tr></thead><tbody><tr><td align="left"><strong>å¤šè¯´è¯äººå¯¹è¯</strong></td><td align="left">âœ… åŸç”Ÿæ”¯æŒ</td><td align="left">âŒ ä¸æ”¯æŒ</td><td align="left">âš ï¸ æœ‰é™æ”¯æŒ</td></tr><tr><td align="left"><strong>å¤šè½®å¯¹è¯</strong></td><td align="left">âœ… ä¸Šä¸‹æ–‡è¿è´¯</td><td align="left">âŒ å•è½®</td><td align="left">âš ï¸ æœ‰é™æ”¯æŒ</td></tr><tr><td align="left"><strong>æ–¹è¨€æ”¯æŒ</strong></td><td align="left">âœ… é›¶æ ·æœ¬è·¨æ–¹è¨€</td><td align="left">âŒ ä¸æ”¯æŒ</td><td align="left">âŒ ä¸æ”¯æŒ</td></tr><tr><td align="left"><strong>å‰¯è¯­è¨€æ§åˆ¶</strong></td><td align="left">âœ… å¤šç§å‰¯è¯­è¨€</td><td align="left">âŒ ä¸æ”¯æŒ</td><td align="left">âŒ ä¸æ”¯æŒ</td></tr><tr><td align="left"><strong>è¯­éŸ³è´¨é‡</strong></td><td align="left">âœ… æ’­å®¢çº§åˆ«</td><td align="left">âš ï¸ ä¸€èˆ¬</td><td align="left">âš ï¸ ä¸€èˆ¬</td></tr><tr><td align="left"><strong>è‡ªç„¶åº¦</strong></td><td align="left">âœ… é«˜è‡ªç„¶åº¦</td><td align="left">âš ï¸ ä¸­ç­‰</td><td align="left">âš ï¸ ä¸­ç­‰</td></tr><tr><td align="left"><strong>é›¶æ ·æœ¬å…‹éš†</strong></td><td align="left">âœ… æ”¯æŒ</td><td align="left">âš ï¸ æœ‰é™</td><td align="left">âš ï¸ æœ‰é™</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©SoulX-Podcastï¼Ÿ</strong></p>
<p>ç›¸æ¯”ä¼ ç»ŸTTSå’Œå…¶ä»–å¯¹è¯å¼TTSç³»ç»Ÿï¼ŒSoulX-Podcastä¸“ä¸ºæ’­å®¢é£æ ¼çš„å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯è€Œè®¾è®¡ï¼Œæ”¯æŒè·¨æ–¹è¨€é›¶æ ·æœ¬è¯­éŸ³å…‹éš†å’Œå‰¯è¯­è¨€æ§åˆ¶ï¼Œç”Ÿæˆçš„è¯­éŸ³æ›´è‡ªç„¶ã€æ›´çœŸå®ï¼Œæ˜¯æ’­å®¢å†…å®¹ç”Ÿæˆå’Œé«˜è´¨é‡å¯¹è¯å¼è¯­éŸ³åˆæˆçš„ç†æƒ³é€‰æ‹©ã€‚</p>
<hr/>
<h2 data-id="heading-13">é¡¹ç›®è¯¦ç»†å‰–æ</h2>
<h3 data-id="heading-14">æ¶æ„è®¾è®¡</h3>
<p>SoulX-Podcasté‡‡ç”¨<strong>åŸºäºTransformerçš„ç”Ÿæˆå¼æ¶æ„</strong>ï¼Œä¸“é—¨é’ˆå¯¹å¤šè½®ã€å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³ç”Ÿæˆè¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-15">æ ¸å¿ƒæ¶æ„</h4>
<pre><code class="hljs language-sql" lang="sql">SoulX<span class="hljs-operator">-</span>Podcast <span class="hljs-keyword">System</span>
â”œâ”€â”€ Text Processingï¼ˆæ–‡æœ¬å¤„ç†ï¼‰
â”‚   â”œâ”€â”€ å¤šè¯´è¯äººå¯¹è¯è§£æ
â”‚   â”œâ”€â”€ å‰¯è¯­è¨€æ ‡ç­¾è¯†åˆ«
â”‚   â”œâ”€â”€ ä¸Šä¸‹æ–‡ç†è§£
â”‚   â””â”€â”€ å¤šè¯­è¨€å¤„ç†
â”œâ”€â”€ Voice Cloningï¼ˆè¯­éŸ³å…‹éš†ï¼‰
â”‚   â”œâ”€â”€ å‚è€ƒéŸ³é¢‘ç¼–ç 
â”‚   â”œâ”€â”€ è¯´è¯äººç‰¹å¾æå–
â”‚   â”œâ”€â”€ è·¨æ–¹è¨€ç‰¹å¾è¿ç§»
â”‚   â””â”€â”€ é›¶æ ·æœ¬å…‹éš†
â”œâ”€â”€ Speech Generationï¼ˆè¯­éŸ³ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ å¤šè½®å¯¹è¯ç”Ÿæˆ
â”‚   â”œâ”€â”€ å‰¯è¯­è¨€äº‹ä»¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ ä¸Šä¸‹æ–‡è¿è´¯æ€§ä¿æŒ
â”‚   â””â”€â”€ é«˜è´¨é‡éŸ³é¢‘åˆæˆ
â””â”€â”€ Model Architectureï¼ˆæ¨¡å‹æ¶æ„ï¼‰
    â”œâ”€â”€ Transformer Encoder
    â”œâ”€â”€ Multi<span class="hljs-operator">-</span>Speaker Attention
    â”œâ”€â”€ Dialect<span class="hljs-operator">-</span>Aware <span class="hljs-keyword">Module</span>
    â””â”€â”€ Paralinguistic Control <span class="hljs-keyword">Module</span>
</code></pre>
<h4 data-id="heading-16">å¤šè½®å¯¹è¯ç”Ÿæˆ</h4>
<p>SoulX-Podcastçš„æ ¸å¿ƒåˆ›æ–°åœ¨äº<strong>å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡ç†è§£</strong>ï¼š</p>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>è§£æå¤šè¯´è¯äººå¯¹è¯æ–‡æœ¬</li>
<li>æå–æ¯ä¸ªè¯´è¯äººçš„å‚è€ƒéŸ³é¢‘ç‰¹å¾</li>
<li>ç†è§£å¯¹è¯çš„ä¸Šä¸‹æ–‡å’Œè¿è´¯æ€§</li>
<li>ç”Ÿæˆä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§çš„è¯­éŸ³</li>
<li>å¤„ç†è¯´è¯äººä¹‹é—´çš„è‡ªç„¶è¿‡æ¸¡</li>
</ol>
<p><strong>æŠ€æœ¯ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨Transformeræ¶æ„å¤„ç†é•¿åºåˆ—</li>
<li>å¤šè¯´è¯äººæ³¨æ„åŠ›æœºåˆ¶</li>
<li>ä¸Šä¸‹æ–‡çª—å£ç®¡ç†</li>
<li>å¯¹è¯è¿è´¯æ€§å»ºæ¨¡</li>
</ul>
<h4 data-id="heading-17">è·¨æ–¹è¨€é›¶æ ·æœ¬è¯­éŸ³å…‹éš†</h4>
<p>SoulX-Podcastå®ç°äº†<strong>è·¨æ–¹è¨€çš„é›¶æ ·æœ¬è¯­éŸ³å…‹éš†</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æŠ€æœ¯çªç ´ï¼š</p>
<p><strong>å·¥ä½œåŸç†</strong>ï¼š</p>
<ol>
<li>æå–å‚è€ƒéŸ³é¢‘çš„è¯´è¯äººç‰¹å¾ï¼ˆä¸ä¾èµ–æ–¹è¨€ï¼‰</li>
<li>è¯†åˆ«ç›®æ ‡æ–¹è¨€çš„è¯­è¨€ç‰¹å¾</li>
<li>å°†è¯´è¯äººç‰¹å¾è¿ç§»åˆ°ç›®æ ‡æ–¹è¨€</li>
<li>ç”Ÿæˆç›®æ ‡æ–¹è¨€çš„è¯­éŸ³</li>
</ol>
<p><strong>æ”¯æŒçš„æ–¹è¨€</strong>ï¼š</p>
<ul>
<li>å››å·è¯</li>
<li>æ²³å—è¯</li>
<li>ç²¤è¯­</li>
<li>å…¶ä»–ä¸­æ–‡æ–¹è¨€ï¼ˆé€šè¿‡æ¨¡å‹æ‰©å±•ï¼‰</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ— éœ€é’ˆå¯¹æ¯ç§æ–¹è¨€å•ç‹¬è®­ç»ƒ</li>
<li>åªéœ€æä¾›å‚è€ƒéŸ³é¢‘å³å¯å…‹éš†</li>
<li>ä¿æŒè¯´è¯äººçš„è¯­éŸ³ç‰¹å¾</li>
<li>å‡†ç¡®è¿˜åŸæ–¹è¨€ç‰¹è‰²</li>
</ul>
<h4 data-id="heading-18">å‰¯è¯­è¨€æ§åˆ¶</h4>
<p>SoulX-Podcastæ”¯æŒå¤šç§<strong>å‰¯è¯­è¨€äº‹ä»¶</strong>ï¼Œå¢å¼ºè¯­éŸ³çš„çœŸå®æ„Ÿï¼š</p>
<p><strong>æ”¯æŒçš„å‰¯è¯­è¨€æ ‡ç­¾</strong>ï¼š</p>
<ul>
<li><code>&lt;|laughter|&gt;</code>ï¼šç¬‘å£°</li>
<li><code>&lt;|sigh|&gt;</code>ï¼šå¹æ¯</li>
<li><code>&lt;|breathing|&gt;</code>ï¼šå‘¼å¸å£°</li>
<li><code>&lt;|coughing|&gt;</code>ï¼šå’³å—½å£°</li>
<li><code>&lt;|throat_clearing|&gt;</code>ï¼šæ¸…å—“å£°</li>
</ul>
<p><strong>å®ç°æ–¹å¼</strong>ï¼š</p>
<ol>
<li>åœ¨æ–‡æœ¬ä¸­æ’å…¥å‰¯è¯­è¨€æ ‡ç­¾</li>
<li>æ¨¡å‹è¯†åˆ«æ ‡ç­¾å¹¶ç”Ÿæˆå¯¹åº”çš„éŸ³é¢‘äº‹ä»¶</li>
<li>è‡ªç„¶èå…¥è¯­éŸ³æµä¸­</li>
<li>ä¿æŒè¯­éŸ³çš„è¿è´¯æ€§</li>
</ol>
<p><strong>åº”ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœ¨æ–‡æœ¬ä¸­ä½¿ç”¨å‰¯è¯­è¨€æ ‡ç­¾</span>
text = <span class="hljs-string">"ä»Šå¤©å¤©æ°”çœŸå¥½ï¼&lt;|laughter|&gt;æˆ‘ä»¬å‡ºå»èµ°èµ°å§ã€‚&lt;|sigh|&gt;ä¸è¿‡è¦æ³¨æ„é˜²æ™’ã€‚"</span>

<span class="hljs-comment"># æ¨¡å‹ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶ç”Ÿæˆå¯¹åº”çš„å‰¯è¯­è¨€äº‹ä»¶</span>
audio = model.generate(text, reference_audio=<span class="hljs-string">"speaker.wav"</span>)
</code></pre>
<h4 data-id="heading-19">æ¨¡å‹æ¶æ„</h4>
<p>SoulX-PodcaståŸºäº<strong>1.7Bå‚æ•°çš„Transformeræ¨¡å‹</strong>ï¼š</p>
<p><strong>æ¨¡å‹ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>å‚æ•°é‡ï¼š1.7Bï¼ˆåŸºç¡€æ¨¡å‹å’Œæ–¹è¨€æ¨¡å‹ï¼‰</li>
<li>æ¶æ„ï¼šåŸºäºTransformerçš„ç”Ÿæˆå¼æ¨¡å‹</li>
<li>è®­ç»ƒæ•°æ®ï¼šå¤§è§„æ¨¡å¤šè¯´è¯äººå¯¹è¯æ•°æ®</li>
<li>ä¼˜åŒ–ï¼šé’ˆå¯¹å¤šè½®å¯¹è¯å’Œæ–¹è¨€æ”¯æŒä¼˜åŒ–</li>
</ul>
<p><strong>ä¸¤ä¸ªç‰ˆæœ¬</strong>ï¼š</p>
<ol>
<li><strong>SoulX-Podcast-1.7B</strong>ï¼šåŸºç¡€æ¨¡å‹ï¼Œæ”¯æŒå¤šè½®å¯¹è¯å’Œå‰¯è¯­è¨€æ§åˆ¶</li>
<li><strong>SoulX-Podcast-1.7B-dialect</strong>ï¼šæ–¹è¨€æ¨¡å‹ï¼Œé¢å¤–æ”¯æŒè·¨æ–¹è¨€é›¶æ ·æœ¬å…‹éš†</li>
</ol>
<h3 data-id="heading-20">å…³é”®æŠ€æœ¯å®ç°</h3>
<h4 data-id="heading-21">å¤šè¯´è¯äººå¯¹è¯å¤„ç†</h4>
<p>SoulX-Podcasté€šè¿‡ä»¥ä¸‹æ–¹å¼å¤„ç†å¤šè¯´è¯äººå¯¹è¯ï¼š</p>
<ol>
<li><strong>è¯´è¯äººæ ‡è¯†</strong>ï¼šä¸ºæ¯ä¸ªè¯´è¯äººåˆ†é…å”¯ä¸€æ ‡è¯†</li>
<li><strong>å‚è€ƒéŸ³é¢‘ç®¡ç†</strong>ï¼šä¸ºæ¯ä¸ªè¯´è¯äººæä¾›å‚è€ƒéŸ³é¢‘</li>
<li><strong>ä¸Šä¸‹æ–‡ç®¡ç†</strong>ï¼šç»´æŠ¤å¤šè½®å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>ç‰¹å¾æå–</strong>ï¼šä»å‚è€ƒéŸ³é¢‘ä¸­æå–è¯´è¯äººç‰¹å¾</li>
<li><strong>å¯¹è¯ç”Ÿæˆ</strong>ï¼šç”Ÿæˆä¿æŒè¯´è¯äººç‰¹å¾çš„å¯¹è¯è¯­éŸ³</li>
</ol>
<h4 data-id="heading-22">é›¶æ ·æœ¬è¯­éŸ³å…‹éš†</h4>
<p>é›¶æ ·æœ¬è¯­éŸ³å…‹éš†çš„å®ç°ï¼š</p>
<ol>
<li><strong>ç‰¹å¾è§£è€¦</strong>ï¼šå°†è¯´è¯äººç‰¹å¾å’Œè¯­è¨€ç‰¹å¾è§£è€¦</li>
<li><strong>ç‰¹å¾æå–</strong>ï¼šä»å‚è€ƒéŸ³é¢‘ä¸­æå–è¯´è¯äººç‰¹å¾</li>
<li><strong>ç‰¹å¾è¿ç§»</strong>ï¼šå°†è¯´è¯äººç‰¹å¾è¿ç§»åˆ°ç›®æ ‡è¯­è¨€/æ–¹è¨€</li>
<li><strong>è¯­éŸ³ç”Ÿæˆ</strong>ï¼šåŸºäºè¿ç§»åçš„ç‰¹å¾ç”Ÿæˆè¯­éŸ³</li>
</ol>
<h4 data-id="heading-23">å‰¯è¯­è¨€äº‹ä»¶ç”Ÿæˆ</h4>
<p>å‰¯è¯­è¨€äº‹ä»¶çš„ç”Ÿæˆæ–¹å¼ï¼š</p>
<ol>
<li><strong>æ ‡ç­¾è¯†åˆ«</strong>ï¼šè¯†åˆ«æ–‡æœ¬ä¸­çš„å‰¯è¯­è¨€æ ‡ç­¾</li>
<li><strong>äº‹ä»¶å»ºæ¨¡</strong>ï¼šä¸ºæ¯ç§å‰¯è¯­è¨€äº‹ä»¶å»ºç«‹æ¨¡å‹</li>
<li><strong>è‡ªç„¶èå…¥</strong>ï¼šå°†å‰¯è¯­è¨€äº‹ä»¶è‡ªç„¶èå…¥è¯­éŸ³æµ</li>
<li><strong>æ—¶åºå¯¹é½</strong>ï¼šç¡®ä¿å‰¯è¯­è¨€äº‹ä»¶åœ¨æ­£ç¡®çš„æ—¶é—´ç‚¹å‡ºç°</li>
</ol>
<h3 data-id="heading-24">ä½¿ç”¨æ–¹å¼</h3>
<h4 data-id="heading-25">WebUIä½¿ç”¨</h4>
<p>SoulX-Podcastæä¾›äº†å‹å¥½çš„WebUIç•Œé¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨WebUIï¼ˆåŸºç¡€æ¨¡å‹ï¼‰</span>
python3 webui.py --model_path pretrained_models/SoulX-Podcast-1.7B

<span class="hljs-comment"># å¯åŠ¨WebUIï¼ˆæ–¹è¨€æ¨¡å‹ï¼‰</span>
python3 webui.py --model_path pretrained_models/SoulX-Podcast-1.7B-dialect
</code></pre>
<p><strong>WebUIåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>æ–‡æœ¬è¾“å…¥å’Œç¼–è¾‘</li>
<li>å‚è€ƒéŸ³é¢‘ä¸Šä¼ </li>
<li>å‰¯è¯­è¨€æ ‡ç­¾æ’å…¥</li>
<li>å®æ—¶é¢„è§ˆå’Œè°ƒæ•´</li>
<li>éŸ³é¢‘å¯¼å‡º</li>
</ul>
<h4 data-id="heading-26">APIä½¿ç”¨</h4>
<p>SoulX-Podcastæä¾›APIæ¥å£ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨APIæœåŠ¡</span>
python3 run_api.py --model_path pretrained_models/SoulX-Podcast-1.7B
</code></pre>
<p><strong>APIç«¯ç‚¹</strong>ï¼š</p>
<ul>
<li><code>/generate</code>ï¼šç”Ÿæˆå•è¯´è¯äººè¯­éŸ³</li>
<li><code>/generate_dialogue</code>ï¼šç”Ÿæˆå¤šè¯´è¯äººå¯¹è¯</li>
<li><code>/clone_voice</code>ï¼šé›¶æ ·æœ¬è¯­éŸ³å…‹éš†</li>
</ul>
<h4 data-id="heading-27">vLLMåŠ é€Ÿ</h4>
<p>SoulX-Podcastæ”¯æŒvLLMåŠ é€Ÿï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»ºDockeré•œåƒ</span>
<span class="hljs-built_in">cd</span> runtime/vllm
docker build -t soulxpodcast:v1.0 .

<span class="hljs-comment"># è¿è¡Œå®¹å™¨</span>
docker run -it --runtime=nvidia --name soulxpodcast \
  -v /mnt/data:/mnt/data -p 7860:7860 soulxpodcast:v1.0
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ›´å¿«çš„æ¨ç†é€Ÿåº¦</li>
<li>æ›´å¥½çš„GPUåˆ©ç”¨ç‡</li>
<li>æ”¯æŒæ‰¹é‡å¤„ç†</li>
<li>æ˜“äºéƒ¨ç½²å’Œæ‰©å±•</li>
</ul>
<h3 data-id="heading-28">ä¸å…¶ä»–é¡¹ç›®çš„å¯¹æ¯”</h3>
<h4 data-id="heading-29">ä¸Supertonicå¯¹æ¯”</h4>













































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">SoulX-Podcast</th><th align="left">Supertonic</th></tr></thead><tbody><tr><td align="left"><strong>ä¸»è¦ç”¨é€”</strong></td><td align="left">æ’­å®¢é£æ ¼å¤šè½®å¯¹è¯</td><td align="left">è®¾å¤‡ç«¯å•è¯´è¯äººTTS</td></tr><tr><td align="left"><strong>å¤šè¯´è¯äºº</strong></td><td align="left">âœ… åŸç”Ÿæ”¯æŒ</td><td align="left">âŒ ä¸æ”¯æŒ</td></tr><tr><td align="left"><strong>å¤šè½®å¯¹è¯</strong></td><td align="left">âœ… ä¸Šä¸‹æ–‡è¿è´¯</td><td align="left">âŒ å•è½®</td></tr><tr><td align="left"><strong>æ–¹è¨€æ”¯æŒ</strong></td><td align="left">âœ… é›¶æ ·æœ¬è·¨æ–¹è¨€</td><td align="left">âš ï¸ æœ‰é™</td></tr><tr><td align="left"><strong>å‰¯è¯­è¨€æ§åˆ¶</strong></td><td align="left">âœ… å¤šç§å‰¯è¯­è¨€</td><td align="left">âŒ ä¸æ”¯æŒ</td></tr><tr><td align="left"><strong>éƒ¨ç½²æ–¹å¼</strong></td><td align="left">äº‘ç«¯/æœ¬åœ°</td><td align="left">è®¾å¤‡ç«¯</td></tr><tr><td align="left"><strong>æ€§èƒ½</strong></td><td align="left">é«˜è´¨é‡</td><td align="left">æé€Ÿ</td></tr></tbody></table>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ul>
<li>éœ€è¦æ’­å®¢é£æ ¼å¤šè½®å¯¹è¯ â†’ SoulX-Podcast</li>
<li>éœ€è¦è®¾å¤‡ç«¯æé€ŸTTS â†’ Supertonic</li>
</ul>
<h4 data-id="heading-30">ä¸å…¶ä»–å¯¹è¯å¼TTSå¯¹æ¯”</h4>
<p>SoulX-Podcastç›¸æ¯”å…¶ä»–å¯¹è¯å¼TTSç³»ç»Ÿçš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>ä¸“ä¸ºæ’­å®¢è®¾è®¡</strong>ï¼šä¸“é—¨é’ˆå¯¹æ’­å®¢é£æ ¼çš„å¤šè½®å¯¹è¯ä¼˜åŒ–</li>
<li><strong>è·¨æ–¹è¨€æ”¯æŒ</strong>ï¼šç‹¬ç‰¹çš„è·¨æ–¹è¨€é›¶æ ·æœ¬å…‹éš†èƒ½åŠ›</li>
<li><strong>å‰¯è¯­è¨€æ§åˆ¶</strong>ï¼šä¸°å¯Œçš„å‰¯è¯­è¨€äº‹ä»¶æ”¯æŒ</li>
<li><strong>é«˜è´¨é‡ç”Ÿæˆ</strong>ï¼šæ’­å®¢çº§åˆ«çš„è¯­éŸ³è´¨é‡</li>
<li><strong>æ˜“äºä½¿ç”¨</strong>ï¼šå‹å¥½çš„WebUIå’ŒAPIæ¥å£</li>
</ol>
<hr/>
<h2 data-id="heading-31">é¡¹ç›®åœ°å€ä¸èµ„æº</h2>
<h3 data-id="heading-32">å®˜æ–¹èµ„æº</h3>
<ul>
<li>ğŸŒŸ <strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSoul-AILab%2FSoulX-Podcast" target="_blank" title="https://github.com/Soul-AILab/SoulX-Podcast" ref="nofollow noopener noreferrer">github.com/Soul-AILab/â€¦</a></li>
<li>ğŸŒ <strong>Demo</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fspaces%2FSoul-AILab%2FSoulX-Podcast" target="_blank" title="https://huggingface.co/spaces/Soul-AILab/SoulX-Podcast" ref="nofollow noopener noreferrer">Hugging Face Spaces</a></li>
<li>ğŸ“¦ <strong>æ¨¡å‹</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FSoul-AILab%2FSoulX-Podcast-1.7B" target="_blank" title="https://huggingface.co/Soul-AILab/SoulX-Podcast-1.7B" ref="nofollow noopener noreferrer">SoulX-Podcast-1.7B</a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FSoul-AILab%2FSoulX-Podcast-1.7B-dialect" target="_blank" title="https://huggingface.co/Soul-AILab/SoulX-Podcast-1.7B-dialect" ref="nofollow noopener noreferrer">SoulX-Podcast-1.7B-dialect</a></li>
<li>ğŸ“„ <strong>è®ºæ–‡</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2510.23541" target="_blank" title="https://arxiv.org/abs/2510.23541" ref="nofollow noopener noreferrer">arXiv:2510.23541</a></li>
</ul>
<h3 data-id="heading-33">é€‚ç”¨äººç¾¤</h3>
<p><strong>SoulX-Podcastç‰¹åˆ«é€‚åˆ</strong>ï¼šéœ€è¦ç”Ÿæˆæ’­å®¢å†…å®¹çš„åˆ›ä½œè€…ã€éœ€è¦å¤šè¯´è¯äººå¯¹è¯å¼è¯­éŸ³çš„åº”ç”¨å¼€å‘è€…ã€éœ€è¦æ–¹è¨€è¯­éŸ³åˆæˆçš„å¼€å‘è€…ã€éœ€è¦é«˜è´¨é‡ã€è‡ªç„¶è¯­éŸ³åˆæˆçš„AIåº”ç”¨å¼€å‘è€…ã€å¯¹è¯­éŸ³åˆæˆè´¨é‡æœ‰é«˜è¦æ±‚çš„å¼€å‘è€…ã€éœ€è¦å‰¯è¯­è¨€æ§åˆ¶çš„åº”ç”¨å¼€å‘è€…ã€‚</p>
<p><strong>ä¸é€‚åˆ</strong>ï¼šåªéœ€è¦ç®€å•å•è¯´è¯äººTTSçš„ç”¨æˆ·ã€å¯¹æ¨¡å‹å¤§å°æœ‰ä¸¥æ ¼é™åˆ¶çš„è®¾å¤‡ç«¯åº”ç”¨ã€ä¸éœ€è¦å¤šè½®å¯¹è¯çš„åœºæ™¯ã€‚</p>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ6ï¼‰--- äº‹ä»¶ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7602776926328111158</link>    <guid>https://juejin.cn/post/7602776926328111158</guid>    <pubDate>2026-02-04T13:16:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926328111158" data-draft-id="7601169987412197414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ6ï¼‰--- äº‹ä»¶ç³»ç»Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-02-04T13:16:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ6ï¼‰--- äº‹ä»¶ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:16:26.000Z" title="Wed Feb 04 2026 13:16:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ6ï¼‰--- äº‹ä»¶ç³»ç»Ÿ</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ¦‚è¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 EventStream</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.1 åŠŸèƒ½</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.2 å®ç°</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.3 è®¢é˜…</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 Event</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 Event</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 Action</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 Observation</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.4 Environment</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.5 AgentThinkAction</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<h3 data-id="heading-1">0x00 æ¦‚è¦</h3>
<p>å¦‚æœè¯´ ReAct èŒƒå¼æ˜¯ä»£ç†çš„ â€œå¤§è„‘æ€ç»´æ¨¡å¼â€ï¼Œé‚£ä¹ˆäº‹ä»¶é©±åŠ¨æ¶æ„å°±æ˜¯Agentç³»ç»Ÿçš„ â€œç¥ç»ç½‘ç»œâ€ï¼Œå®ƒä½¿ç”¨äº†å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œä»¥å»ä¸­å¿ƒåŒ–çš„æ–¹å¼åè°ƒå„ç»„ä»¶é«˜æ•ˆè¿ä½œï¼Œå…è®¸ç»„ä»¶ä¹‹é—´çš„æ¾è€¦åˆé€šä¿¡ã€‚æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒå¹¶éåƒµç¡¬çš„åŒæ­¥è°ƒç”¨ï¼Œè€Œæ˜¯ä¸€æ¡æ‰¿è½½æ‰€æœ‰å…³é”®æ´»åŠ¨çš„ â€œäº‹ä»¶æµâ€ï¼Œç³»ç»Ÿä¸­çš„å„ç±»æ ¸å¿ƒæ“ä½œéƒ½ä¼šè¢«æŠ½è±¡ä¸ºæ ‡å‡†åŒ–çš„ â€œäº‹ä»¶â€ã€‚</p>
<p>OpenHands ä¸­ï¼ŒEventStream è´Ÿè´£ç®¡ç†sessionä¸­çš„è§¦å‘çš„äº‹ä»¶ï¼Œä»¥åŠäº‹ä»¶æ³¨å†Œå‡½æ•°çš„å›è°ƒé¡¹ç›®ä¸­æ³¨å†Œäº‹ä»¶å›è°ƒå‡½æ•°ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>Runtime</code>æ³¨å†Œï¼šåªæ¥æ”¶<code>Action</code>çš„äº‹ä»¶ä¸runtimeè¿›è¡Œäº¤äº’</li>
<li><code>AgentController</code>æ³¨å†Œï¼Œæ ¹æ®äº‹ä»¶æ›´æ–°AgentçŠ¶æ€</li>
<li><code>main</code>ï¼šå‘½ä»¤è¡Œæ–¹å¼æ‰§è¡Œagentæ•ˆæœè¯„ä¼°æ—¶ä½¿ç”¨ï¼Œæ¥æ”¶agentçŠ¶æ€å˜æ›´äº‹ä»¶</li>
</ul>
<p>å› ä¸ºæœ¬ç³»åˆ—å€Ÿé‰´çš„æ–‡ç« è¿‡å¤šï¼Œå¯èƒ½åœ¨å‚è€ƒæ–‡çŒ®ä¸­æœ‰é—æ¼çš„æ–‡ç« ï¼Œå¦‚æœæœ‰ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>
<h3 data-id="heading-2">0x01 EventStream</h3>
<p>è¦æŒæ¡æ•´ä¸ªç¨‹åºçš„è¿ä½œï¼Œé¦–å…ˆè¦ç†è§£äº‹ä»¶ç³»ç»Ÿçš„ï¼Œå®ƒå°±åƒæ˜¯ç¨‹åºä¸­çš„ä¿¡æ¯é«˜é€Ÿå…¬è·¯ï¼Œå„ä¸ªéƒ¨åˆ†é€šè¿‡å®ƒæ¥äº¤æ¢ä¿¡æ¯ã€‚OpenHands äº‹ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯<code>EventStream</code>ç±»ï¼ˆäº‹ä»¶æµç³»ç»Ÿï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“é—¨å¤„ç†äº‹ä»¶çš„ç³»ç»Ÿï¼Œå®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ç»´æŠ¤äº†äº‹ä»¶é˜Ÿåˆ—å¹¶æ”¯æŒäº‹ä»¶çš„å‘å¸ƒå’Œè®¢é˜…ï¼Œç®¡ç†å’Œåˆ†å‘äº‹ä»¶ã€‚è¿™ç§äº‹ä»¶é©±åŠ¨çš„æ¶æ„ä½¿OpenHandsèƒ½å¤Ÿå¤„ç†å¼‚æ­¥æ“ä½œï¼Œå¹¶æ”¯æŒå¤šAgentä¹‹é—´çš„åä½œã€‚</p>
<p>OpenHands çš„ä»£ç å®ç°ç›¸å¯¹ç®€å•ï¼Œå…³é”®åœ¨äºç†è§£å…¶å·¥ä½œåŸç†ã€‚ä¸»è¦æ­¥éª¤åŒ…æ‹¬ï¼š</p>
<ul>
<li>å¯åŠ¨ä¸€ä¸ªå¾ªç¯è¿è¡Œçš„çº¿ç¨‹ï¼Œè¿™ä¸ªçº¿ç¨‹è´Ÿè´£ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è¯»å–äº‹ä»¶ï¼Œå¹¶å°†å®ƒä»¬é€ä¸€å‘é€åˆ°å„ä¸ªè®¢é˜…æ¨¡å—çš„å¤„ç†é˜Ÿåˆ—ä¸­ã€‚</li>
<li>å½“æ¨¡å—éœ€è¦è®¢é˜…äº‹ä»¶æ—¶ï¼Œå®ƒä¼šè°ƒç”¨ä¸€ä¸ªè®¢é˜…å‡½æ•°<code>subscribe</code>ï¼Œè¿™æ ·äº‹ä»¶æµå°±ä¼šä¸ºè¯¥æ¨¡å—ç»´æŠ¤ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæ‰€æœ‰å‘é€åˆ°è¯¥æ¨¡å—çš„äº‹ä»¶éƒ½ä¼šè¢«ç›¸åº”çš„å›è°ƒå‡½æ•°å¤„ç†ã€‚</li>
<li>ä»»ä½•åœ°æ–¹éœ€è¦å‘äº‹ä»¶æµä¸­æ·»åŠ äº‹ä»¶æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨ä¸€ä¸ªæ·»åŠ äº‹ä»¶çš„å‡½æ•°<code>add_event</code>ã€‚</li>
</ul>
<p>äº‹ä»¶æµçš„é€»è¾‘è™½ç„¶ç®€å•ï¼Œä½†ç¡®ä¿äº†ç¨‹åºå„éƒ¨åˆ†ä¹‹é—´çš„ç‹¬ç«‹æ€§å’Œé€šä¿¡çš„ä¸€è‡´æ€§ã€‚è¿™é‡Œçš„æ¶ˆæ¯éƒ½æ˜¯äº‹ä»¶ï¼Œåˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li><code>Action</code>ï¼šæŒ‡éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚</li>
<li><code>Observation</code>ï¼šæŒ‡ç¯å¢ƒå¯¹ä»»åŠ¡æ‰§è¡Œç»“æœçš„å›åº”ã€‚</li>
</ul>
<p>ä¸‹å›¾å±•ç¤ºäº† OpenHands ä¸­ Agent ä¸ç¯å¢ƒäº¤äº’çš„æ ¸å¿ƒæœºåˆ¶ï¼šAgent é€šè¿‡æ‰§è¡ŒåŠ¨ä½œå½±å“ç¯å¢ƒï¼Œç¯å¢ƒé€šè¿‡è§‚å¯Ÿç»“æœåé¦ˆç»™ Agentï¼ŒAgent åŸºäºè¿™äº›åé¦ˆåšå‡ºä¸‹ä¸€æ­¥å†³ç­–ã€‚ï¼š</p>
<ul>
<li>Agent å†³å®šæ‰§è¡Œä¸€ä¸ªåŠ¨ä½œï¼Œé€šè¿‡AgentControllerå’ŒEventStreamä¼ åˆ°äº†Runtimeã€‚</li>
<li>Runtime åœ¨ç¯å¢ƒä¸­æ‰§è¡Œè¯¥åŠ¨ä½œ</li>
<li>ç¯å¢ƒäº§ç”Ÿä¸€ä¸ªè§‚å¯Ÿç»“æœä½œä¸ºæ‰§è¡Œç»“æœ</li>
<li>Runtime æ•è·è¿™ä¸ªè§‚å¯Ÿç»“æœå¹¶å‘é€åˆ° EventStreamï¼ˆäº‹ä»¶æµï¼‰</li>
<li>EventStream å­˜å‚¨è§‚å¯Ÿç»“æœï¼Œç„¶åé€šè¿‡AgentControlleré€šçŸ¥Agent</li>
<li>Agent è·å–æ›´æ–°åçš„å†å²è®°å½•ï¼ˆåŒ…æ‹¬æ–°çš„è§‚å¯Ÿç»“æœï¼‰</li>
<li>Agent ä½¿ç”¨è§‚å¯Ÿç»“æœåšå‡ºä¸‹ä¸€ä¸ªå†³ç­–</li>
<li>å¾ªç¯é‡å¤è¿›è¡Œ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b52fd2a34a24f48b174aab45bb51d9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815786&amp;x-signature=u3Vrp55ied7EvCMISeJ8U9gmpnw%3D" alt="OpenHands-EventStream" loading="lazy"/></p>
<p>OpenHands-EventStream</p>
<h4 data-id="heading-3">1.1 åŠŸèƒ½</h4>
<p>EventStream çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>äº‹ä»¶è®¢é˜…ä¸é€šçŸ¥æœºåˆ¶ã€‚</p>
<ul>
<li>å¤šè®¢é˜…è€…æ”¯æŒï¼šé€šè¿‡EventStreamSubscriberæšä¸¾å®šä¹‰äº†å¤šç§è®¢é˜…è€…ç±»å‹ã€‚</li>
<li>çµæ´»è®¢é˜…æœºåˆ¶ï¼šä½¿ç”¨ subscribe å’Œ unscribe æ–¹æ³•ç®¡ç†è®¢é˜…å…³ç³»ã€‚</li>
<li>å¤šå›è°ƒæ”¯æŒï¼šæ¯ä¸ªè®¢é˜…è€…å¯ä»¥æ³¨å†Œå¤šä¸ªå›è°ƒå‡½æ•°ï¼Œé€šè¿‡callback_idè¿›è¡ŒåŒºåˆ†ã€‚</li>
</ul>
</li>
<li>
<p>äº‹ä»¶å¤„ç†ä¸åˆ†å‘</p>
<ul>
<li>å¼‚æ­¥é˜Ÿåˆ—å¤„ç†ï¼šä½¿ç”¨ queue.Queueå’Œç‹¬ç«‹çº¿ç¨‹å¤„ç†äº‹ä»¶é˜Ÿåˆ—ã€‚</li>
<li>çº¿ç¨‹æ± æ‰§è¡Œï¼šä¸ºæ¯ä¸ªè®¢é˜…è€…çš„å›è°ƒå‡½æ•°åˆ›å»ºç‹¬ç«‹çš„çº¿ç¨‹æ± ï¼Œé¿å…é˜»å¡ã€‚</li>
<li>é¡ºåºåˆ†å‘ï¼šæŒ‰ç…§è®¢é˜…è€…IDçš„æ’åºé¡ºåºå°†äº‹ä»¶åˆ†å‘ç»™è®¢é˜…è€…ã€‚</li>
</ul>
</li>
<li>
<p>äº‹ä»¶å­˜å‚¨ä¸æŒä¹…åŒ–</p>
<ul>
<li>äº‹ä»¶IDç®¡ç†ï¼šä¸ºæ¯ä¸ªäº‹ä»¶åˆ†é…å”¯ä¸€IDå¹¶ç»´æŠ¤é€’å¢è®¡æ•°å™¨ã€‚</li>
<li>æ—¶é—´æˆ³è®°å½•ï¼šè‡ªåŠ¨ä¸ºäº‹ä»¶æ·»åŠ æ—¶é—´æˆ³ã€‚</li>
<li>æ–‡ä»¶å­˜å‚¨ï¼šå°†äº‹ä»¶ä»¥JSONæ ¼å¼æŒä¹…åŒ–åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚</li>
<li>ç¼“å­˜é¡µé¢æœºåˆ¶ï¼šä½¿ç”¨é¡µé¢ç¼“å­˜æé«˜å¤§é‡äº‹ä»¶çš„è¯»å†™æ€§èƒ½ã€‚</li>
</ul>
</li>
<li>
<p>å·¥ä½œæµç¨‹ï¼š</p>
<ul>
<li>ç»„ä»¶é€šè¿‡subscribeæ–¹æ³•æ³¨å†Œä¸ºäº‹ä»¶è®¢é˜…è€…ã€‚</li>
<li>å½“æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œé€šè¿‡add_eventæ–¹æ³•æ·»åŠ åˆ°äº‹ä»¶æµã€‚</li>
<li>add_eventæ–¹æ³•å¤„ç†äº‹ä»¶IDåˆ†é…ï¼Œæ—¶é—´æˆ³è®¾ç½®ã€æŒä¹…åŒ–å­˜å‚¨ã€‚</li>
<li>äº‹ä»¶è¢«æ”¾å…¥å¤„ç†é˜Ÿåˆ—ï¼Œç”±ç‹¬ç«‹çº¿ç¨‹å¼‚æ­¥åˆ†å‘ã€‚</li>
<li>_process_queue åˆ†å‘æŒ‰ç…§é¡ºåºå°†äº‹ä»¶åˆ†å‘ç»™æ‰€æœ‰è®¢é˜…è€…çš„å›è°ƒå‡½æ•°ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿EventStreamç§°ä¸ºç³»ç»Ÿä¸­æ ¸å¿ƒçš„äº‹ä»¶ä¸­æ¢ï¼Œå®ç°äº†ç»„ä»¶é—´çš„è§£è€¦å’Œå¼‚æ­¥é€šä¿¡ã€‚</p>
<h4 data-id="heading-4">1.2 å®ç°</h4>
<p>EventStream ç›¸å…³çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">EventStream</span>(<span class="hljs-title class_ inherited__">EventStore</span>):
Â Â Â Â secrets:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">str</span>]
Â Â Â Â <span class="hljs-comment">#Â ForÂ eachÂ subscriberÂ ID,Â thereÂ isÂ aÂ mapÂ ofÂ callbackÂ functionsÂ -Â useful</span>
Â Â Â Â <span class="hljs-comment">#Â whenÂ thereÂ areÂ multipleÂ listeners</span>
Â Â Â Â _subscribers:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Callable</span>]]
Â Â Â Â _lock:Â threading.Lock
Â Â Â Â _queue:Â queue.Queue[Event]
Â Â Â Â _queue_thread:Â threading.Thread
Â Â Â Â _queue_loop:Â asyncio.AbstractEventLoopÂ |Â <span class="hljs-literal">None</span>
Â Â Â Â _thread_pools:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â ThreadPoolExecutor]]
Â Â Â Â _thread_loops:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â asyncio.AbstractEventLoop]]
Â Â Â Â _write_page_cache:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â sid:Â <span class="hljs-built_in">str</span>,Â file_store:Â FileStore,Â user_id:Â <span class="hljs-built_in">str</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span></span>):
Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__(sid,Â file_store,Â user_id)
Â Â Â Â Â Â Â Â self._stop_flagÂ =Â threading.Event()
Â Â Â Â Â Â Â Â self._queue:Â queue.Queue[Event]Â =Â queue.Queue()
Â Â Â Â Â Â Â Â self._thread_poolsÂ =Â {}
Â Â Â Â Â Â Â Â self._thread_loopsÂ =Â {}
Â Â Â Â Â Â Â Â self._queue_loopÂ =Â <span class="hljs-literal">None</span>
Â Â Â Â Â Â Â Â self._queue_threadÂ =Â threading.Thread(target=self._run_queue_loop)
Â Â Â Â Â Â Â Â self._queue_thread.daemonÂ =Â <span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â self._queue_thread.start()
Â Â Â Â Â Â Â Â self._subscribersÂ =Â {}
Â Â Â Â Â Â Â Â self._lockÂ =Â threading.Lock()
Â Â Â Â Â Â Â Â self.secretsÂ =Â {}
Â Â Â Â Â Â Â Â self._write_page_cacheÂ =Â []

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_init_thread_loop</span>(<span class="hljs-params">self,Â subscriber_id:Â <span class="hljs-built_in">str</span>,Â callback_id:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â loopÂ =Â asyncio.new_event_loop()
Â Â Â Â Â Â Â Â asyncio.set_event_loop(loop)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â subscriber_idÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â self._thread_loops:
Â Â Â Â Â Â Â Â Â Â Â Â self._thread_loops[subscriber_id]Â =Â {}
Â Â Â Â Â Â Â Â self._thread_loops[subscriber_id][callback_id]Â =Â loop
</code></pre>
<h4 data-id="heading-5">1.3 è®¢é˜…</h4>
<p>ä»»ä½•å¤æ‚ä»»åŠ¡çš„æ‰§è¡Œï¼Œéƒ½ç¦»ä¸å¼€å¯¹çŠ¶æ€å˜åŒ–çš„ç²¾å‡†æ„ŸçŸ¥ä¸å®æ—¶å“åº”ã€‚OpenHands é‡‡ç”¨è§‚å¯Ÿè€…æ¨¡å¼ä½œä¸ºä»»åŠ¡è°ƒåº¦çš„æ ¸å¿ƒæœºåˆ¶ï¼Œå…¶è®¾è®¡çµæ„Ÿæºè‡ªç°å®ä¸–ç•Œçš„ "æŒ‡æŒ¥ - ä¾¦å¯Ÿ" ä½“ç³» â€”â€” å°±åƒæˆ˜åœºä¸Šçš„æŒ‡æŒ¥å®˜éœ€è¦ä¾¦å¯Ÿå…µå®æ—¶ä¼ é€’å‰çº¿åŠ¨æ€ï¼Œæ¡†æ¶ä¸­çš„è°ƒåº¦ä¸­å¿ƒä¹Ÿä¾èµ–åˆ†å¸ƒå¼çš„ "çŠ¶æ€è§‚å¯Ÿè€…" æ¥æŒæ¡æ¯ä¸€ä¸ªä»»åŠ¡çš„è¿›å±•ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼Œç³»ç»Ÿå°†ä»»åŠ¡æ‹†è§£ä¸ºä¸€ç³»åˆ—å¯ç›‘æ§çš„ "çŠ¶æ€èŠ‚ç‚¹"ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½é…å¤‡ä¸“å±çš„è§‚å¯Ÿè€…å®ä¾‹ã€‚å½“æŸä¸€èŠ‚ç‚¹çš„çŠ¶æ€å‘ç”Ÿå˜æ›´ï¼ˆä¾‹å¦‚ä» "å¾…æ‰§è¡Œ" è½¬ä¸º "æ‰§è¡Œä¸­"ï¼Œæˆ–ä» "æˆåŠŸ" è½¬ä¸º "å¤±è´¥"ï¼‰ï¼Œè§‚å¯Ÿè€…ä¼šç«‹å³è§¦å‘é¢„è®¾çš„å›è°ƒé€»è¾‘ï¼Œé€šçŸ¥è°ƒåº¦ä¸­å¿ƒè¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†ã€‚è¿™ç§è®¾è®¡å¸¦æ¥äº†ä¸¤å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>å®ç°äº†ä»»åŠ¡è°ƒåº¦çš„ "æ¾è€¦åˆ"ã€‚è°ƒåº¦ä¸­å¿ƒæ— éœ€ä¸»åŠ¨æŸ¥è¯¢æ¯ä¸ªä»»åŠ¡çš„çŠ¶æ€ï¼Œè€Œæ˜¯è¢«åŠ¨æ¥æ”¶çŠ¶æ€å˜æ›´é€šçŸ¥ï¼Œè¿™å¤§å¹…é™ä½äº†ç³»ç»Ÿå„æ¨¡å—é—´çš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ–°å¢ä»»åŠ¡ç±»å‹æˆ–ä¿®æ”¹è°ƒåº¦é€»è¾‘æ—¶ï¼Œæ— éœ€é‡æ„æ•´ä¸ªæ¡†æ¶ã€‚</li>
<li>æ”¯æŒåŠ¨æ€ä¼˜å…ˆçº§è°ƒæ•´ã€‚å½“é«˜ç´§æ€¥åº¦çš„ä»»åŠ¡æ’å…¥æ—¶ï¼Œè§‚å¯Ÿè€…å¯å®æ—¶æ•è·è¿™ä¸€äº‹ä»¶ï¼Œè§¦å‘è°ƒåº¦ä¸­å¿ƒçš„ä¼˜å…ˆçº§é‡æ’æœºåˆ¶ï¼Œæš‚åœä½ä¼˜å…ˆçº§ä»»åŠ¡çš„èµ„æºåˆ†é…ï¼Œç¡®ä¿å…³é”®ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œã€‚è¿™ç§çµæ´»æ€§åœ¨å¤šé¡¹ç›®å¹¶è¡Œçš„åœºæ™¯ä¸­å°¤ä¸ºé‡è¦ã€‚</li>
</ul>
<p>åœ¨è¿™ä¸€æ¶æ„ä¸­ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½æ‰®æ¼”ç€ â€œç”Ÿäº§è€…â€ æˆ– â€œæ¶ˆè´¹è€…â€ çš„è§’è‰²ã€‚ç”Ÿäº§è€…è´Ÿè´£ç”Ÿæˆäº‹ä»¶ï¼šä»£ç†å†³ç­–åäº§ç”Ÿ â€œåŠ¨ä½œäº‹ä»¶â€ï¼Œè¿è¡Œæ—¶ç¯å¢ƒæ‰§è¡Œä»»åŠ¡åç”Ÿæˆ â€œåé¦ˆäº‹ä»¶â€ã€‚æ¶ˆè´¹è€…åˆ™é€šè¿‡è®¢é˜…ç‰¹å®šäº‹ä»¶è·å–ä¿¡æ¯å¹¶å“åº”ï¼šè¿è¡Œæ—¶è®¢é˜… â€œåŠ¨ä½œäº‹ä»¶â€ ä»¥æ‰§è¡Œå…·ä½“ä»»åŠ¡ï¼Œæ§åˆ¶å™¨è®¢é˜…å…¨é‡äº‹ä»¶ä»¥ç»´æŠ¤ç³»ç»ŸçŠ¶æ€ã€‚è¿™ç§åŸºäºäº‹ä»¶çš„äº¤äº’æ¨¡å¼ï¼Œå½»åº•æ‰“ç ´äº†ç»„ä»¶é—´çš„ç›´æ¥ä¾èµ–ã€‚</p>
<p>äº‹ä»¶æµåƒä¸€æ¡ç¯å½¢é«˜æ¶ï¼Œä»»ä½•è½¦è¾†ï¼ˆäº‹ä»¶ï¼‰ä¸€æ—¦é©¶å…¥ï¼Œå°±ä¼šè¢«å¹¶è¡ŒåŒé“åˆ†æµåˆ°å‡ åº§æ”¶è´¹ç«™â€”â€”Sessionã€Runtimeã€Memory ã€ AgentControllerã€......ã€‚å®ƒä»¬å„è‡ªé¢†å–ä¸“å±ã€Œé€šè¡Œåˆ¸ã€ï¼ˆSubscriber æ ‡è¯†ï¼‰ï¼Œåœ¨åŒä¸€æ—¶åˆ»å¯¹åŒä¸€è¾†è½¦è¿›è¡Œå®‰æ£€ã€æ”¶è´¹æˆ–è®°å½•ï¼Œè€Œæ— éœ€ç­‰å¾…å‰ä¸€å…³å¡æ”¾è¡Œã€‚</p>
<h5 data-id="heading-6">1.3.1 è®¢é˜…è€…</h5>
<p>_subscribers å’Œ subscriber_id èµ·åˆ°å¦‚ä¸‹ä½œç”¨ã€‚</p>
<p>subscriber_id ä¼šå”¯ä¸€æ ‡è¯†ä¸€ä¸ªè®¢é˜…è€…ï¼Œæ¯ä¸ªè®¢é˜…è€…ä»£è¡¨ç³»ç»Ÿçš„ä¸åŒç»„ä»¶æˆ–è€…æœåŠ¡ã€‚ä¸åŒçš„è®¢é˜…è€…ä¼šå¤„ç†äº‹ä»¶ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>EventStreamSubscriber.SERVER: æœåŠ¡å™¨å¤„ç†</li>
<li>EventStreamSubscriber.RUNTIME: è¿è¡Œæ—¶å¤„ç†</li>
<li>EventStreamSubscriber.AGENT_CONTROLLER: ä»£ç†æ§åˆ¶å™¨å¤„ç†</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">classÂ EventStreamSubscriber(str,Â Enum):
Â Â Â Â <span class="hljs-attr">AGENT_CONTROLLER</span>Â =Â <span class="hljs-string">'agent_controller'</span>
Â Â Â Â <span class="hljs-attr">RESOLVER</span>Â =Â <span class="hljs-string">'openhands_resolver'</span>
Â Â Â Â <span class="hljs-attr">SERVER</span>Â =Â <span class="hljs-string">'server'</span>
Â Â Â Â <span class="hljs-attr">RUNTIME</span>Â =Â <span class="hljs-string">'runtime'</span>
Â Â Â Â <span class="hljs-attr">MEMORY</span>Â =Â <span class="hljs-string">'memory'</span>
Â Â Â Â <span class="hljs-attr">MAIN</span>Â =Â <span class="hljs-string">'main'</span>
Â Â Â Â <span class="hljs-attr">TEST</span>Â =Â <span class="hljs-string">'test'</span>
</code></pre>
<p>å‡ ä¸ªå¤§æ¨¡å—éƒ½æ˜¯åœ¨<code>__init__</code>å‡½æ•°ä¸­å®Œæˆæ¨¡å—çš„åˆå§‹åŒ–å‡†å¤‡å·¥ä½œï¼Œå¹¶ä¸”å‘äº‹ä»¶æµä¸­è®¢é˜…æ¶ˆæ¯å¹¶æ³¨å†Œå„è‡ªæ¨¡å—çš„æ¶ˆæ¯å¤„ç†å‡½æ•°ã€‚äº‹ä»¶å›è°ƒå‡½æ•°ä¼šæ ¹æ®å½“å‰çš„äº‹ä»¶è¿›è¡ŒçŠ¶æ€æœºçš„çŠ¶æ€è½¬ç§»ã€‚</p>
<ul>
<li>
<p>Runtime åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.RUNTIMEï¼Œäº‹ä»¶å›è°ƒå‡½æ•°ä¼šå¤„ç†éœ€è¦runtineå¤„ç†çš„actionï¼Œæ¯”å¦‚mcp/toolç­‰ç­‰ã€‚<code>Runtime</code>åªå¤„ç†å¯è¿è¡Œçš„<code>Action</code>äº‹ä»¶ï¼Œæ‰§è¡ŒåŠ¨ä½œæ‹¿åˆ°è¾“å‡º<code>Observation</code>å‘é€å›äº‹ä»¶æµä¸­<code>isinstance(event, MCPAction)</code>æ‰§è¡ŒMCPè·å–ç»“æœå…¶ä»–runtimeæ”¯æŒçš„actionåˆ™æ‰§è¡Œè·å–ç»“æœã€‚</p>
</li>
<li>
<p>Memory åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.MEMORYã€‚äº‹ä»¶å›è°ƒå‡½æ•°æ ¹æ®å½“å‰çš„<code>event</code>ç”Ÿæˆä¸€ä¸ªå¸¦<code>microagent_knowledge</code>çš„<code>RecallObservation</code>å¹¶ä»¥<code>ENVIRONMENT</code>ä½œä¸ºæºæ·»åŠ å›äº‹ä»¶æµä¸­ï¼Œè¿™é‡Œçš„<code>microagent_knowledge</code>æ˜¯ä¸€ç§ç‰¹å®šæç¤ºè¯å¢å¼ºçš„æ–¹æ³•ã€‚<code>Memory</code>åªå¤„ç†<code>RecallAction</code>ï¼Œå¯¹äºç”¨æˆ·é¦–æ¬¡è¾“å…¥ä¿¡æ¯åˆ™å°†ä¸€äº›é¢å¤–çš„å·¥ä½œç©ºé—´ä¸Šä¸‹æ–‡ä¿¡æ¯æ·»åŠ åˆ°<code>RecallObservation</code>å‘é€å›äº‹ä»¶æµä¸­ï¼Œå¯¹äºå…¶ä»–éç”¨æˆ·é¦–æ¬¡çš„è¾“å…¥ä¿¡æ¯åˆ™åŠ å…¥microagent_knowledgeåˆ°<code>RecallObservation</code>å‘é€å›äº‹ä»¶æµä¸­ã€‚</p>
</li>
<li>
<p>AgentController åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.AGENT_CONTROLLERã€‚<code>AgentController</code>ä½œä¸ºä¸»è¦çŠ¶æ€ç®¡ç†æ¨¡å—ï¼Œ</p>
<ul>
<li>
<p>æ ¹æ®<code>Observation</code>äº‹ä»¶è¿›è¡ŒçŠ¶æ€å˜æ¢</p>
</li>
<li>
<p>æ ¹æ®<code>Action</code>è¿›è¡ŒçŠ¶æ€å˜æ¢å’Œä»¥ä¸‹å¤„ç†ï¼š</p>
<ul>
<li>å¯¹äº<code>MessageAction</code>å‘é€<code>RecallAction</code>åˆ°äº‹ä»¶æµä¸­</li>
<li>å¯¹äº<code>AgentDelegateAction</code>åšAgentè·¯ç”±ï¼ˆåç»­æœºåˆ¶è§£è¯»ä¸­å†è¯¦ç»†ä»‹ç»ï¼‰</li>
</ul>
</li>
<li>
<p>æ ¹æ®å½“å‰çš„<code>event</code>åˆ¤æ–­è¿›è¡Œè°ƒç”¨<code>agent.step</code></p>
</li>
</ul>
</li>
<li>
<p>run_controller åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.MAINã€‚</p>
</li>
<li>
<p>WebSessionã€ConversationManager ä¼šè®¢é˜… EventStreamSubscriber.SERVERã€‚</p>
</li>
</ul>
<h5 data-id="heading-7">1.3.2 åˆ†å‘</h5>
<p>ç”¨æˆ·å‘é€æ¶ˆæ¯æ·»åŠ äº†ä¸€æ¡æ¶ˆæ¯åˆ°æ¶ˆæ¯æµä¸­ï¼Œç³»ç»Ÿä¼šä¾æ® subscriber_id æ¥å†³å®šå“ªäº›è®¢é˜…è€…åº”è¯¥æ¥æ”¶è¯¥ç±»äº‹ä»¶ã€‚è¿™æ¡æ¶ˆæ¯ä¼šè¢«å¹¿æ’­åˆ°æ¯ä¸€ä¸ªæ¶ˆæ¯é€šé“ä¸­ï¼Œé€šè¿‡æ³¨å†Œçš„å›è°ƒå‡½æ•°å¯ä»¥åˆ†æå“ªäº›æ¨¡å—å¯¹æ¶ˆæ¯è¿›è¡Œäº†å¤„ç†ã€‚</p>
<pre><code class="hljs language-python" lang="python">Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_process_queue</span>(<span class="hljs-params">self</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">while</span>Â should_continue()Â <span class="hljs-keyword">and</span>Â <span class="hljs-keyword">not</span>Â self._stop_flag.is_set():
Â Â Â Â Â Â Â Â Â Â Â Â eventÂ =Â <span class="hljs-literal">None</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â eventÂ =Â self._queue.get(timeout=<span class="hljs-number">0.1</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â queue.Empty:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â passÂ eachÂ eventÂ toÂ eachÂ callbackÂ inÂ order</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â keyÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">sorted</span>(self._subscribers.keys()):Â <span class="hljs-comment">#Â æ­¤å¤„ä¼šå†³å®šåˆ†å‘åˆ°å“ªé‡Œ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â callbacksÂ =Â self._subscribers[key]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â CreateÂ aÂ copyÂ ofÂ theÂ keysÂ toÂ avoidÂ "dictionaryÂ changedÂ sizeÂ duringÂ iteration"Â error</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â callback_idsÂ =Â <span class="hljs-built_in">list</span>(callbacks.keys())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â callback_idÂ <span class="hljs-keyword">in</span>Â callback_ids:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â CheckÂ ifÂ callback_idÂ stillÂ existsÂ (mightÂ haveÂ beenÂ removedÂ duringÂ iteration)</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â callback_idÂ <span class="hljs-keyword">in</span>Â callbacks:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â callbackÂ =Â callbacks[callback_id]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â poolÂ =Â self._thread_pools[key][callback_id]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â futureÂ =Â pool.submit(callback,Â event)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â future.add_done_callback(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self._make_error_handler(callback_id,Â key)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
</code></pre>
<h5 data-id="heading-8">1.3.3 èµ„æºç®¡ç†</h5>
<p>subscriber_id å¸®åŠ©ç³»ç»Ÿç®¡ç†æ¯ä¸ªè®¢é˜…è€…çš„èµ„æºã€‚</p>
<pre><code class="hljs language-python" lang="python">Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_clean_up_subscriber</span>(<span class="hljs-params">self,Â subscriber_id:Â <span class="hljs-built_in">str</span>,Â callback_id:Â <span class="hljs-built_in">str</span></span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â subscriber_idÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â self._subscribers:
Â Â Â Â Â Â Â Â Â Â Â Â logger.warning(<span class="hljs-string">f'SubscriberÂ notÂ foundÂ duringÂ cleanup:Â <span class="hljs-subst">{subscriber_id}</span>'</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â callback_idÂ <span class="hljs-keyword">not</span>Â <span class="hljs-keyword">in</span>Â self._subscribers[subscriber_id]:
Â Â Â Â Â Â Â Â Â Â Â Â logger.warning(<span class="hljs-string">f'CallbackÂ notÂ foundÂ duringÂ cleanup:Â <span class="hljs-subst">{callback_id}</span>'</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (
Â Â Â Â Â Â Â Â Â Â Â Â subscriber_idÂ <span class="hljs-keyword">in</span>Â self._thread_loops
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">and</span>Â callback_idÂ <span class="hljs-keyword">in</span>Â self._thread_loops[subscriber_id]
Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â loopÂ =Â self._thread_loops[subscriber_id][callback_id]
Â Â Â Â Â Â Â Â Â Â Â Â current_taskÂ =Â asyncio.current_task(loop)
Â Â Â Â Â Â Â Â Â Â Â Â pendingÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â taskÂ <span class="hljs-keyword">for</span>Â taskÂ <span class="hljs-keyword">in</span>Â asyncio.all_tasks(loop)Â <span class="hljs-keyword">if</span>Â taskÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â current_task
Â Â Â Â Â Â Â Â Â Â Â Â ]
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â taskÂ <span class="hljs-keyword">in</span>Â pending:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â task.cancel()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loop.stop()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â loop.close()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â logger.warning(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f'ErrorÂ closingÂ loopÂ forÂ <span class="hljs-subst">{subscriber_id}</span>/<span class="hljs-subst">{callback_id}</span>:Â <span class="hljs-subst">{e}</span>'</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">del</span>Â self._thread_loops[subscriber_id][callback_id]

Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (
Â Â Â Â Â Â Â Â Â Â Â Â subscriber_idÂ <span class="hljs-keyword">in</span>Â self._thread_pools
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">and</span>Â callback_idÂ <span class="hljs-keyword">in</span>Â self._thread_pools[subscriber_id]
Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â poolÂ =Â self._thread_pools[subscriber_id][callback_id]
Â Â Â Â Â Â Â Â Â Â Â Â pool.shutdown()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">del</span>Â self._thread_pools[subscriber_id][callback_id]

Â Â Â Â Â Â Â Â <span class="hljs-keyword">del</span>Â self._subscribers[subscriber_id][callback_id]
</code></pre>
<h3 data-id="heading-9">0x02 Event</h3>
<p>åœ¨ OpenHands ç³»ç»Ÿä¸­ï¼ŒEvent æ˜¯ç³»ç»Ÿä¸­æœ€åŸºæœ¬çš„æ•°æ®å•å…ƒï¼Œä»£è¡¨ç³»ç»Ÿä¸­å‘ç”Ÿçš„å„ç§åŠ¨ä½œå’Œè§‚å¯Ÿç»“æœï¼ˆç”¨æˆ·è¾“å…¥ã€æ™ºèƒ½ä½“æ–‡æœ¬ã€å·¥å…·è°ƒç”¨/ç»“æœã€çŠ¶æ€å˜æ›´è¯·æ±‚ã€æ§åˆ¶ä¿¡å·ï¼‰ã€‚æ‰€æœ‰äº‹ä»¶éƒ½ç»§æ‰¿è‡ª Event åŸºç±»ã€‚è¡¨ç¤ºä¸€ä¸ªåŸå­æ€§äº‹ä»¶ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ<code>Event Stream</code>æ¯”ä½œä¸€ä¸ªä¿¡æ¯ä¼ é€’çš„â€œé‚®æ”¿ç³»ç»Ÿâ€ï¼Œé‚£ä¹ˆ<code>Event</code>å°±æ˜¯è¿™ä¸ªç³»ç»Ÿä¸­ä¼ é€’çš„â€œä¿¡ä»¶â€ã€‚åœ¨OpenHandsä¸­ï¼Œ<code>Event</code>æ˜¯æœ€åŸºæœ¬çš„ä¿¡æ¯å•ä½ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥è®°å½•ç³»ç»Ÿä¸­å‘ç”Ÿçš„ä»»ä½•é‡è¦äº‹ä»¶ã€‚</p>
<p>é€šè¿‡å°†Agentçš„æ€è€ƒï¼ˆç”±LLMç”Ÿæˆçš„è‡ªç„¶è¯­è¨€è¾“å‡ºï¼‰ä¸ç³»ç»Ÿçš„å®é™…æ‰§è¡Œï¼ˆç»“æ„åŒ–çš„Action/Observationï¼‰åˆ†å¼€ï¼Œæˆ‘ä»¬è§£å†³äº†æ„å›¾ä¸æ‰§è¡Œä¹‹é—´çš„éš”ç¦»ã€‚LLMè´Ÿè´£å†³å®šâ€œè¦åšä»€ä¹ˆâ€ï¼Œè€ŒAction/Observationåˆ™è¯¦ç»†è¯´æ˜äº†â€œæ€æ ·å»åšâ€å’Œâ€œç»“æœå¦‚ä½•â€ï¼Œè¿™ç¡®ä¿äº†ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p>
<h4 data-id="heading-10">2.1 Event</h4>
<h5 data-id="heading-11">2.1.1 å®šä¹‰</h5>
<p>æ¯ä¸€ä¸ª <code>Event</code> å¯¹è±¡éƒ½æºå¸¦äº†ä¸€äº›å…ƒæ•°æ®ï¼Œå°±åƒä¿¡å°ä¸Šçš„ä¿¡æ¯ï¼š</p>
<ul>
<li><code>id</code>: äº‹ä»¶çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</li>
<li><code>source</code>: äº‹ä»¶çš„æ¥æºï¼Œå¯ä»¥æ˜¯ <code>AGENT</code>ã€<code>USER</code> æˆ– <code>ENVIRONMENT</code>ã€‚</li>
<li><code>timestamp</code>: äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´æˆ³ã€‚</li>
<li><code>cause</code>: è§¦å‘æ­¤äº‹ä»¶çš„å¦ä¸€ä¸ªäº‹ä»¶çš„ <code>id</code>ã€‚</li>
</ul>
<p>å°†ç³»ç»Ÿä¸­çš„æ‰€æœ‰äº’åŠ¨éƒ½æŠ½è±¡ä¸º<code>Event</code>ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ç§é€šç”¨çš„è¯­è¨€ã€‚æ— è®ºæ˜¯Agentçš„å†³ç­–ã€ç”¨æˆ·çš„æ¶ˆæ¯è¿˜æ˜¯ç¯å¢ƒçš„åé¦ˆï¼Œéƒ½å¯ä»¥ç»Ÿä¸€å¤„ç†ã€å­˜å‚¨å’Œåˆ†å‘ã€‚ç‰¹åˆ«æ˜¯<code>cause</code>å­—æ®µï¼Œå®ƒåƒä¸€æ¡çœ‹ä¸è§çš„çº¿ï¼Œå°†Actionå’Œå®ƒå¼•èµ·çš„Observationç´§å¯†è”ç³»èµ·æ¥ï¼Œå½¢æˆäº†ReActå¾ªç¯çš„å› æœé“¾ï¼Œè¿™å¯¹äºç†è§£å’Œè°ƒè¯•Agentçš„è¡Œä¸ºè‡³å…³é‡è¦ã€‚</p>
<p>éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@dataclass</span>
classÂ <span class="hljs-attribute">Event</span>:
Â Â Â Â INVALID_IDÂ =Â -<span class="hljs-number">1</span>

Â Â Â Â <span class="hljs-variable">@property</span>
Â Â Â Â defÂ <span class="hljs-built_in">message</span>(self)Â -&gt;Â strÂ |Â <span class="hljs-attribute">None</span>:
Â Â Â Â Â Â Â Â ifÂ <span class="hljs-built_in">hasattr</span>(self,Â <span class="hljs-string">'_message'</span>):
Â Â Â Â Â Â Â Â Â Â Â Â msgÂ =Â <span class="hljs-built_in">getattr</span>(self,Â <span class="hljs-string">'_message'</span>)
Â Â Â Â Â Â Â Â Â Â Â Â returnÂ <span class="hljs-built_in">str</span>(msg)Â ifÂ msgÂ isÂ <span class="hljs-keyword">not</span>Â NoneÂ elseÂ None
Â Â Â Â Â Â Â Â returnÂ <span class="hljs-string">''</span>

Â Â Â Â <span class="hljs-variable">@property</span>
Â Â Â Â defÂ <span class="hljs-built_in">id</span>(self)Â -&gt;Â <span class="hljs-attribute">int</span>:
Â Â Â Â Â Â Â Â ifÂ <span class="hljs-built_in">hasattr</span>(self,Â <span class="hljs-string">'_id'</span>):
Â Â Â Â Â Â Â Â Â Â Â Â id_valÂ =Â <span class="hljs-built_in">getattr</span>(self,Â <span class="hljs-string">'_id'</span>)
Â Â Â Â Â Â Â Â Â Â Â Â returnÂ <span class="hljs-built_in">int</span>(id_val)Â ifÂ id_valÂ isÂ <span class="hljs-keyword">not</span>Â NoneÂ elseÂ Event.INVALID_ID
Â Â Â Â Â Â Â Â returnÂ Event.INVALID_ID
</code></pre>
<p>EventStream å¯¹Eventçš„å¤„ç†è¿‡ç¨‹ä¸ºï¼š</p>
<ul>
<li>äº‹ä»¶é€šè¿‡ add_event æ–¹æ³•æ·»åŠ åˆ°æµä¸­</li>
<li>ç³»ç»Ÿè‡ªåŠ¨åˆ†é… ID å’Œæ—¶é—´æˆ³</li>
<li>äº‹ä»¶è¢«å­˜å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿ</li>
<li>äº‹ä»¶è¢«æ”¾å…¥å¤„ç†é˜Ÿåˆ—</li>
</ul>
<p>ç³»ç»Ÿé€šè¿‡ event_to_dict å’Œ event_from_dict å‡½æ•°å¤„ç†äº‹ä»¶çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œç¡®ä¿äº‹ä»¶å¯ä»¥åœ¨ä¸åŒç»„ä»¶é—´ä¼ è¾“å’Œå­˜å‚¨ã€‚</p>
<h5 data-id="heading-12">2.1.2 åˆ†ç±»</h5>
<p>æŒ‰ç…§åŠŸèƒ½åˆ†ç±»ï¼Œäº‹ä»¶ä¸»è¦åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§æ˜¯Actionï¼ˆè¡ŒåŠ¨ï¼‰ï¼Œå®ƒä»£è¡¨äº†æ™ºèƒ½ä»£ç†æƒ³è¦å¯¹ç¯å¢ƒæ‰§è¡Œçš„å…·ä½“æ“ä½œã€‚è¿™å¹¶ä¸æ˜¯æ¨¡ç³Šä¸æ¸…çš„è‡ªç„¶è¯­è¨€æè¿°ï¼Œè€Œæ˜¯ä¸€ä¸ªæ˜ç¡®çš„æŒ‡ä»¤ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»£ç†æƒ³è¦åˆ—å‡ºæŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå®ƒä¼šå‘é€ä¸€ä¸ªæ¸…æ™°çš„æŒ‡ä»¤ï¼Œå¦‚â€œæ‰§è¡Œå‘½ä»¤'ls -l'â€ã€‚è¿™æ ·çš„æŒ‡ä»¤è®©ç³»ç»Ÿèƒ½å¤Ÿå‡†ç¡®æ— è¯¯åœ°ç†è§£ä»£ç†çš„æ„å›¾å¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</li>
<li>ç¬¬äºŒç§æ˜¯Observationï¼ˆè§‚å¯Ÿï¼‰ï¼Œå®ƒä»£è¡¨äº†æ™ºèƒ½ä»£ç†ä»ç¯å¢ƒä¸­æ”¶é›†åˆ°çš„ä¿¡æ¯ã€‚è¿™é€šå¸¸æ˜¯åœ¨æ‰§è¡Œäº†æŸä¸ªè¡ŒåŠ¨ä¹‹åï¼Œç³»ç»Ÿç»™äºˆçš„åé¦ˆã€‚ä¾‹å¦‚ï¼Œå¦‚æœä»£ç†æ‰§è¡Œäº†ä¸€ä¸ªåˆ—å‡ºæ–‡ä»¶çš„å‘½ä»¤ï¼Œè§‚å¯Ÿå°±ä¼šåŒ…å«æ‰§è¡Œç»“æœçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚â€œè¾“å‡ºå†…å®¹ä¸º'...'ï¼Œé€€å‡ºä»£ç ä¸º0â€ã€‚è¿™äº›ä¿¡æ¯å¸®åŠ©ä»£ç†äº†è§£å…¶è¡ŒåŠ¨çš„ç»“æœï¼Œå¹¶ä¸ºä¸‹ä¸€æ­¥è¡ŒåŠ¨æä¾›ä¾æ®ã€‚</li>
</ul>
<p>æŒ‰æ¥æºï¼Œäº‹ä»¶åˆ†ç±»å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>EventSource.AGENT æ¥è‡ªä»£ç†çš„æ“ä½œå’Œè§‚å¯Ÿç»“æœ</p>
</li>
<li>
<p>EventSource.USER æ¥è‡ªç”¨æˆ·çš„æ“ä½œ</p>
</li>
<li>
<p>EventSource.ENVIRONMENT æ¥è‡ªç¯å¢ƒçš„æ“ä½œå’Œè§‚å¯Ÿç»“æœï¼Œè¿™äº›äº‹ä»¶å¯èƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç³»ç»ŸçŠ¶æ€å˜åŒ–</li>
<li>ç¯å¢ƒåˆå§‹åŒ–å®Œæˆé€šçŸ¥</li>
<li>è¿è¡Œæ—¶çŠ¶æ€æ›´æ–°</li>
<li>ç³»ç»Ÿçº§çš„è§‚å¯Ÿç»“æœ</li>
</ul>
</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">classÂ EventSource(str,Â Enum):
Â Â Â Â <span class="hljs-attr">AGENT</span>Â =Â <span class="hljs-string">'agent'</span>
Â Â Â Â <span class="hljs-attr">USER</span>Â =Â <span class="hljs-string">'user'</span>
Â Â Â Â <span class="hljs-attr">ENVIRONMENT</span>Â =Â <span class="hljs-string">'environment'</span>
</code></pre>
<h4 data-id="heading-13">2.2 Action</h4>
<h5 data-id="heading-14">2.2.1 ç±»å‹</h5>
<p>æ€»å…±æœ‰ 13 ç§ä¸åŒçš„ Action ç±»å‹ã€‚è¿™äº› Action æ¶µç›–äº†ä»£ç†æ‰§è¡Œçš„å„ç§æ“ä½œï¼ŒåŒ…æ‹¬æ–‡ä»¶æ“ä½œã€å‘½ä»¤æ‰§è¡Œã€æ¶ˆæ¯ä¼ é€’ã€çŠ¶æ€ç®¡ç†ã€ä»£ç†å§”æ‰˜ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<ul>
<li>
<p>åŸºç¡€ Action ç±»å‹ï¼š</p>
<ul>
<li>Action â€“ æŠ½è±¡åŸºç±»</li>
</ul>
</li>
<li>
<p>å…·ä½“ Action å®ç°ï¼š</p>
<ul>
<li>AgentDelegateAction â€“ å§”æ‰˜ä»£ç†æ‰§è¡Œä»»åŠ¡</li>
<li>AgentThinkActionï¼šå…è®¸ Agent æ·»åŠ çº¯æ–‡æœ¬åˆ°å†å²è®°å½•ä¸­çš„æ— æ“ä½œã€‚</li>
<li>AgentFinishAction â€“ ä»£ç†å®Œæˆä»»åŠ¡ï¼Œåœæ­¢æ§åˆ¶å¾ªç¯ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥æ–°ä»»åŠ¡ã€‚</li>
<li>AgentRejectAction â€“ ä»£ç†æ‹’ç»ä»»åŠ¡</li>
<li>AgentRecallActionï¼šæœç´¢è®°å¿†ï¼ˆä¾‹å¦‚å‘é‡æ•°æ®åº“ï¼‰ã€‚</li>
<li>BrowseInteractiveAction â€“ äº¤äº’å¼æµè§ˆ</li>
<li>ChangeAgentStateAction â€“ æ›´æ”¹ä»£ç†çŠ¶æ€</li>
<li>CmdRunAction â€“ åœ¨æ²™ç›’ç»ˆç«¯ä¸­è¿è¡Œå‘½ä»¤</li>
<li>CmdKillActionï¼šæ€æ­»åå°å‘½ä»¤ã€‚</li>
<li>FileEditAction â€“ ç¼–è¾‘æ–‡ä»¶</li>
<li>FileReadAction â€“ è¯»å–æ–‡ä»¶</li>
<li>IPythonRunCellAction â€“ äº¤äº’å¼æ‰§è¡ŒPythonä»£ç å—ï¼ˆåœ¨Jupyterç¬”è®°æœ¬ä¸­ï¼‰å¹¶æ¥æ”¶<code>CmdOutputObservation</code>ã€‚</li>
<li>MessageAction â€“ æ¶ˆæ¯æ“ä½œï¼Œè¡¨ç¤ºæ¥è‡ªä»£ç†æˆ–ç”¨æˆ·çš„æ¶ˆæ¯</li>
<li>AddTaskActionï¼šå‘è®¡åˆ’ä¸­æ·»åŠ å­ä»»åŠ¡ã€‚</li>
<li>ModifyTaskActionï¼šæ›´æ”¹å­ä»»åŠ¡çš„çŠ¶æ€ã€‚</li>
<li>NullAction â€“ ç©ºæ“ä½œ</li>
<li>SystemMessageAction â€“ ç³»ç»Ÿæ¶ˆæ¯æ“ä½œ</li>
</ul>
</li>
<li>
<p>ç‰¹æ®Š Agent ç›¸å…³ Actionï¼š</p>
<ul>
<li>CondensationAction â€“ å†å²å‹ç¼©æ“ä½œ</li>
<li>CondensationRequestAction â€“ è¯·æ±‚å†å²å‹ç¼©æ“ä½œ</li>
<li>RecallAction â€“ å›å¿†æ“ä½œ</li>
</ul>
</li>
</ul>
<h5 data-id="heading-15">2.2.2 æµç¨‹</h5>
<p>åœ¨ OpenHands çš„æ¶æ„ä¸­ï¼Œæ€»ä½“çš„äº‹ä»¶æµå¦‚ä¸‹ï¼šAgent -&gt; Action -&gt; Runtime-&gt; Observation -&gt; Agent</p>
<ul>
<li>Agentç”ŸæˆActionäº‹ä»¶å¹¶å‘é€åˆ°ç¯å¢ƒ</li>
<li>äº‹ä»¶é€šè¿‡EventStreamä¼ é€’ç»™Runtimeæ‰§è¡Œ</li>
<li>Runtimeæ‰§è¡Œç›¸åº”æ“ä½œ</li>
<li>Environment æ‰§è¡Œ Action å¹¶ç”Ÿæˆ Observation ä½œä¸ºå“åº”</li>
<li>Observation è¢«å‘é€å› Agent ä½œä¸ºä¸‹ä¸€æ­¥å†³ç­–çš„è¾“å…¥</li>
</ul>
<p>å…·ä½“å¯ä»¥å‚è§anthropicçš„å›¾ä¾‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b1dfc585add4441b356338594f8af0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770815786&amp;x-signature=SIZzdeI%2FIQzA2tGO0lQMwYSl8Sk%3D" alt="openhands-4.1-4" loading="lazy"/></p>
<p>openhands-4.1-4</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fbuilding-effective-agents" target="_blank" title="https://www.anthropic.com/engineering/building-effective-agents" ref="nofollow noopener noreferrer">Building effective agents</a></p>
<p>å³ï¼Œä¸ºäº†è§£å†³çº¿æ€§å·¥ä½œæµçš„è„†å¼±æ€§ï¼Œå¼•å…¥äº†<strong>é—­ç¯åé¦ˆ</strong>æœºåˆ¶ã€‚ç°åœ¨ï¼Œä»»åŠ¡çš„æ¯ä¸€æ­¥ä¸å†æ˜¯ä¸€æ¬¡æ€§çš„è°ƒç”¨ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>å¯ä»¥è‡ªæˆ‘çº é”™çš„ Agent</strong>ã€‚è¿™ç§ Agent å¾ªç¯æå¤§åœ°æå‡äº†ç³»ç»Ÿçš„é²æ£’æ€§å’Œæœ€ç»ˆç»“æœçš„è´¨é‡ï¼Œå› ä¸ºæ¨¡å‹æœ‰æœºä¼šä»è‡ªå·±çš„é”™è¯¯ä¸­å­¦ä¹ å’Œæ¢å¤ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº†Observationã€‚</p>
<h4 data-id="heading-16">2.3 Observation</h4>
<p>Actionæ˜¯Agentå¯¹ç¯å¢ƒï¼ˆRuntimeï¼‰å‘å‡ºçš„æŒ‡ä»¤æˆ–è€…æ“ä½œï¼ŒObservationæ˜¯ç¯å¢ƒå¯¹è¿™äº›æ“ä½œçš„å“åº”æˆ–è€…åé¦ˆã€‚å®ƒä»£è¡¨äº†ç¯å¢ƒå¯¹ Agent æ‰§è¡Œçš„ Action çš„å“åº”ï¼ŒåŒ…å«äº†æ“ä½œç»“æœã€ç¯å¢ƒçŠ¶æ€å˜åŒ–ç­‰ä¿¡æ¯ï¼Œä¾› Agent è¿›è¡Œä¸‹ä¸€æ­¥å†³ç­–ä½¿ç”¨ã€‚è¿™ç§è®¾è®¡ç¬¦åˆå…¸å‹çš„å¼ºåŒ–å­¦ä¹ å’Œæ™ºèƒ½ä½“ç³»ç»Ÿçš„æ¨¡å¼ï¼Œå…¶ä¸­ Agent é€šè¿‡ä¸ç¯å¢ƒäº¤äº’ï¼ˆæ‰§è¡Œ Action å¹¶æ¥æ”¶ Observationï¼‰æ¥å®Œæˆä»»åŠ¡ã€‚</p>
<h5 data-id="heading-17">2.3.1 ç±»å‹</h5>
<ul>
<li>
<p>å¤–éƒ¨æ¥æºçš„ Observationsï¼Œå¤§éƒ¨åˆ† Observation å¯¹è±¡æ˜¯ä»å¤–éƒ¨ç¯å¢ƒæˆ–è¿è¡Œæ—¶ç³»ç»Ÿæ„å»ºå¹¶ä¼ å…¥çš„ï¼Œè¿™äº› Observation ç±»å‹éƒ½ä»£è¡¨äº†ç¯å¢ƒçš„ä¸åŒçŠ¶æ€ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å‘½ä»¤æ‰§è¡Œç»“æœï¼ˆCmdRunObservationï¼‰</li>
<li>æ–‡ä»¶è¯»å–ç»“æœï¼ˆFileReadObservationï¼‰</li>
<li>IPython æ‰§è¡Œç»“æœï¼ˆIPythonRunCellObservationï¼‰</li>
<li>æµè§ˆå™¨äº¤äº’ç»“æœï¼ˆBrowserOutputObservationï¼‰</li>
<li>RecallObservation: è®°å¿†æ£€ç´¢ç»“æœ</li>
<li>CmdOutputObservationï¼šå‘½ä»¤æ‰§è¡Œçš„è¾“å‡ºã€‚</li>
<li>BrowserOutputObservationï¼šæµè§ˆ URL åçš„è¾“å‡ºã€‚</li>
<li>FileReadObservationï¼šæ–‡ä»¶è¯»å–æ“ä½œçš„è¾“å‡ºã€‚</li>
<li>AgentRecallObservationï¼šAgent å›å¿†æ“ä½œçš„è¾“å‡ºã€‚</li>
<li>AgentErrorObservationï¼šAgent æ‰§è¡Œæ“ä½œæ—¶å‘ç”Ÿé”™è¯¯çš„è¾“å‡ºã€‚</li>
</ul>
<p>è¿™äº›é€šå¸¸ç”±è¿è¡Œæ—¶ç³»ç»Ÿåˆ›å»ºå¹¶é€šè¿‡äº‹ä»¶æµä¼ é€’ç»™æ§åˆ¶å™¨ã€‚</p>
</li>
<li>
<p>AgentController å†…éƒ¨æ„å»ºçš„ Observationsã€‚åœ¨ AgentController ç±»ä¸­ï¼Œæœ‰å‡ å¤„ä¼šç›´æ¥æ„å»º Observation å¯¹è±¡ï¼š</p>
<ul>
<li>NullObservationï¼šè¡¨ç¤ºæ— æ“ä½œæˆ–å¿½ç•¥çš„è§‚å¯Ÿç»“æœï¼Œç”¨äºè¿‡æ»¤ä¸éœ€è¦å¤„ç†çš„äº‹ä»¶ã€‚</li>
<li>ErrorObservationï¼šè¡¨ç¤ºæ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ï¼ŒåŒ…å«é”™è¯¯ä¿¡æ¯ä¾›ä»£ç†å¤„ç†ã€‚</li>
<li>AgentStateChangedObservationï¼šè¡¨ç¤ºä»£ç†çŠ¶æ€çš„å˜æ›´ï¼Œå¦‚åŠ è½½ã€è¿è¡Œã€é”™è¯¯ç­‰çŠ¶æ€ã€‚æ¯”å¦‚ï¼Œåœ¨AgentControllerçš„set_agent_state_toå‡½æ•°ä¸­ï¼Œå½“agentçŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ä¼šåˆ›å»ºä¸€ä¸ªAgentStateChangedObservationäº‹ä»¶ï¼Œå¹¶å°†å…¶æ¥æºè®¾ç½®ä¸º EventSource.ENVIRONMENTã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-18">2.3.2 æµç¨‹</h5>
<p>Observation åœ¨ Agent ä¸­çš„å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">RuntimeÂ æ‰§è¡ŒÂ ActionÂ -<span class="hljs-punctuation">-&gt;</span>Â äº§ç”ŸÂ ObservationÂ -<span class="hljs-punctuation">-&gt;</span>Â EventStreamÂ å‘å¸ƒäº‹ä»¶Â -<span class="hljs-punctuation">-&gt;</span>Â AgentController.on_eventÂ æ¥æ”¶Â -<span class="hljs-punctuation">-&gt;</span>Â åˆ¤æ–­æ˜¯å¦éœ€è¦Â stepÂ -<span class="hljs-punctuation">-&gt;</span>Â AgentController._stepÂ å¤„ç†Â -<span class="hljs-punctuation">-&gt;</span>Â è°ƒç”¨Â Agent.stepÂ -<span class="hljs-punctuation">-&gt;</span>Â AgentÂ åŸºäºå†å²äº‹ä»¶ï¼ˆåŒ…æ‹¬Â Observationï¼‰å†³ç­–
</code></pre>
<p>å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>Runtimeæ‰§è¡Œå®Œactionä¹‹åï¼Œç”Ÿæˆobservationäº‹ä»¶ã€‚</li>
<li>äº‹ä»¶é€šè¿‡EventStream.add_event() ä¼ å›Agentï¼Œè¿™äº› Observations é€šè¿‡äº‹ä»¶æµä¼ é€’ï¼Œç”¨äºæ›´æ–°ä»£ç†çš„çŠ¶æ€å’Œå†å²è®°å½•ã€‚</li>
<li>AgentController è®¢é˜… EventStreamï¼Œåœ¨ on_event() æ–¹æ³•ä¸­å¤„ç†è¿™äº›äº‹ä»¶ã€‚</li>
<li>AgentåŸºäºobservationå†³å®šä¸‹ä¸€æ­¥åŠ¨ä½œã€‚</li>
</ul>
<p>Observation åœ¨ Agent å†³ç­–ä¸­çš„ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>Agent çŠ¶æ€æ›´æ–°ï¼šAgentStateChangedObservation ä¼šæ›´æ–° Agent çš„å†…éƒ¨çŠ¶æ€ï¼›é”™è¯¯ Observation ä¼šè§¦å‘é”™è¯¯å¤„ç†æµç¨‹ã€‚</li>
<li>å†å²è®°å½•ï¼šæ‰€æœ‰ Observations éƒ½è¢«å­˜å‚¨åœ¨ State.history ä¸­ï¼›Agent åœ¨å†³ç­–æ—¶ä¼šå›é¡¾æ•´ä¸ªå†å²è®°å½•ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„ Actions å’Œ Observationsã€‚</li>
<li>å†³ç­–ä¾æ®ï¼šAgentï¼ˆLLMï¼‰é€šè¿‡åˆ†æå†å²ä¸­çš„ Observations æ¥ç†è§£ç¯å¢ƒçŠ¶æ€ï¼›ä¾‹å¦‚ CmdOutputObservation æä¾›äº†å‘½ä»¤æ‰§è¡Œç»“æœï¼ŒAgent æ®æ­¤å†³å®šä¸‹ä¸€æ­¥è¡ŒåŠ¨ã€‚</li>
</ul>
<h5 data-id="heading-19">2.3.3 ç»†èŠ‚</h5>
<p>ä¸»è¦çš„ Observation æ„å»ºä½ç½®åŒ…æ‹¬ï¼š</p>
<ul>
<li>è¿è¡Œæ—¶ç¯å¢ƒï¼ˆæ‰§è¡Œå‘½ä»¤ã€æ–‡ä»¶æ“ä½œç­‰ï¼‰</li>
<li>AgentController._reset () æ–¹æ³•ï¼ˆæ„å»º ErrorObservationï¼‰</li>
<li>AgentController.set_agent_state_to () æ–¹æ³•ï¼ˆæ„å»º AgentStateChangedObservationï¼‰</li>
<li>AgentController.end_delegate () æ–¹æ³•ï¼ˆæ„å»º AgentDelegateObservationï¼‰</li>
</ul>
<h4 data-id="heading-20">2.4 Environment</h4>
<p>é’ˆå¯¹ EventSource.ENVIRONMENTï¼Œæœ¬å°èŠ‚åšç‰¹æ®Šè¯´æ˜ã€‚</p>
<p>EventSource.ENVIRONMENT é€šå¸¸è¡¨ç¤ºç”±ç³»ç»Ÿç¯å¢ƒæˆ–è€…åŸºç¡€è®¾æ–½ç”Ÿæˆçš„äº‹ä»¶ï¼Œå¯èƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç³»ç»ŸçŠ¶æ€å˜åŒ–ã€‚</li>
<li>ç¯å¢ƒåˆå§‹åŒ–å®Œæˆé€šçŸ¥ã€‚</li>
<li>è¿è¡Œæ—¶çŠ¶æ€æ›´æ–°ã€‚</li>
<li>ç³»ç»Ÿçº§çš„è§‚å¯Ÿç»“æœã€‚</li>
</ul>
<p>åœ¨ä»£ç ä¸­ä½¿ç”¨å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â openhands\cli\commands.py</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">handle_exit_command</span>(<span class="hljs-params">
Â Â Â Â config:Â OpenHandsConfig,
Â Â Â Â event_stream:Â EventStream,
Â Â Â Â usage_metrics:Â UsageMetrics,
Â Â Â Â sid:Â <span class="hljs-built_in">str</span>,
</span>)Â -&gt;Â <span class="hljs-built_in">bool</span>:
Â Â Â Â <span class="hljs-keyword">if</span>Â confirm_exit:
Â Â Â Â Â Â Â Â event_stream.add_event(
Â Â Â Â Â Â Â Â Â Â Â Â ChangeAgentStateAction(AgentState.STOPPED),
Â Â Â Â Â Â Â Â Â Â Â Â EventSource.ENVIRONMENT,
Â Â Â Â Â Â Â Â )

<span class="hljs-comment">#Â åœ¨Â RuntimeÂ ä¸­Â Â Â Â Â Â Â Â </span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">maybe_run_setup_script</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â setupÂ scriptsÂ timeÂ outÂ afterÂ 10Â minutes</span>
Â Â Â Â Â Â Â Â actionÂ =Â CmdRunAction(
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f'chmodÂ +xÂ <span class="hljs-subst">{setup_script}</span>Â &amp;&amp;Â sourceÂ <span class="hljs-subst">{setup_script}</span>'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â blocking=<span class="hljs-literal">True</span>,
Â Â Â Â Â Â Â Â Â Â Â Â hidden=<span class="hljs-literal">True</span>,
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â AddÂ theÂ actionÂ toÂ theÂ eventÂ streamÂ asÂ anÂ ENVIRONMENTÂ event</span>
Â Â Â Â Â Â Â Â sourceÂ =Â EventSource.ENVIRONMENT
Â Â Â Â Â Â Â Â self.event_stream.add_event(action,Â source)
Â Â Â Â Â Â Â Â 
<span class="hljs-comment">#Â åœ¨Memoryç±»Â _on_eventÂ æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¯å¢ƒè¿”å›çš„Â ObservationÂ è¢«é‡æ–°æ ‡è®°ä¸ºÂ AgentÂ äº‹ä»¶å‘é€åˆ°Â UI:python</span>
<span class="hljs-keyword">async</span>Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_on_event</span>(<span class="hljs-params">self,Â event:Â Event</span>):Â Â Â 
Â Â Â Â self.event_stream.add_event(workspace_obs,Â EventSource.ENVIRONMENT)
Â Â Â Â 
<span class="hljs-comment">#Â åœ¨Â AgentSessionÂ ä¸­</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.event_stream.add_event(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ChangeAgentStateAction(AgentState.RUNNING),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â EventSource.ENVIRONMENT,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

<span class="hljs-comment">#Â åœ¨Â WebSessionÂ ä¸­</span>
Â Â Â Â Â Â Â Â self.agent_session.event_stream.add_event(
Â Â Â Â Â Â Â Â Â Â Â Â AgentStateChangedObservation(<span class="hljs-string">''</span>,Â AgentState.LOADING),
Â Â Â Â Â Â Â Â Â Â Â Â EventSource.ENVIRONMENT,
Â Â Â Â Â Â Â Â )
Â Â Â Â 
<span class="hljs-comment">#Â AgentControllerÂ ä¸­</span>
Â Â Â Â <span class="hljs-keyword">async</span>Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">set_agent_state_to</span>(<span class="hljs-params">self,Â new_state:Â AgentState</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â self.event_stream.add_event(
Â Â Â Â Â Â Â Â Â Â Â Â AgentStateChangedObservation(<span class="hljs-string">''</span>,Â self.state.agent_state,Â reason),
Â Â Â Â Â Â Â Â Â Â Â Â EventSource.ENVIRONMENT,
Â Â Â Â Â Â Â Â )
</code></pre>
<p>è™½ç„¶Runtimeä¹Ÿä¼šäº§ç”Ÿä¸€äº›è§‚å¯Ÿç»“æœï¼Œä½†å…·ä½“æ˜¯ EventSource.ENVIRONMENT æˆ–è€… EventSource.AGENTï¼Œå–å†³äºä¸Šä¸‹æ–‡ã€‚</p>
<h4 data-id="heading-21">2.5 AgentThinkAction</h4>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹ AgentThinkActionï¼Œè¯¥Actionå…è®¸ Agent æ·»åŠ çº¯æ–‡æœ¬åˆ°å†å²è®°å½•ä¸­çš„æ— æ“ä½œã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ================================================</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â AgentThinkAction</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ================================================</span>
Â Â Â Â Â Â Â Â Â Â Â Â elifÂ <span class="hljs-attr">tool_call.function.name</span>Â ==Â ThinkTool[<span class="hljs-string">'function'</span>][<span class="hljs-string">'name'</span>]:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">action</span>Â =Â AgentThinkAction(thought=arguments.get(<span class="hljs-string">'thought'</span>,Â <span class="hljs-string">''</span>))
</code></pre>
<p>ThinkTool æ˜¯å¯¹Anthropic Think Toolè®¾è®¡ç†å¿µçš„æ¨¡ä»¿æˆ–å†å®ç°ã€‚</p>
<h5 data-id="heading-22">Anthropic Think Tool</h5>
<p>Anthropic Think Toolåœ¨æ‰§è¡Œå¤æ‚ä»»åŠ¡æ—¶ä¸ºå…¶åˆ›å»ºä¸“é—¨ç”¨äºç»“æ„åŒ–æ€è€ƒçš„ç©ºé—´ã€‚Think Toolå‘ç”Ÿåœ¨AIå¼€å§‹å“åº”ä¹‹åï¼Œåƒæ˜¯åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä¸»åŠ¨åœä¸‹æ¥æ•´ç†æ€è·¯ã€‚é€šè¿‡â€œthinkâ€å·¥å…·ï¼ŒAnthropic èµ‹äºˆ Claude åœ¨å¾—å‡ºæœ€ç»ˆç­”æ¡ˆçš„è¿‡ç¨‹ä¸­æ’å…¥ä¸€ä¸ªé¢å¤–æ€è€ƒæ­¥éª¤çš„èƒ½åŠ›â€”â€”è¯¥æ­¥éª¤æ‹¥æœ‰è‡ªå·±ä¸“å±çš„æ€è€ƒç©ºé—´ï¼Œç”¨ä»¥åˆ¤æ–­å½“å‰æ˜¯å¦å·²æŒæ¡ç»§ç»­æ¨è¿›æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ã€‚è¿™ä¸€æœºåˆ¶åœ¨æ‰§è¡Œé•¿é“¾æ¡çš„å·¥å…·è°ƒç”¨æˆ–ä¸ç”¨æˆ·è¿›è¡Œå¤šè½®å¤æ‚å¯¹è¯æ—¶å°¤ä¸ºæœ‰ç”¨ã€‚</p>
<p>å°½ç®¡å¬èµ·æ¥ä¸å»¶ä¼¸æ€è€ƒï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fresearch%2Fvisible-extended-thinking" target="_blank" title="https://www.anthropic.com/research/visible-extended-thinking" ref="nofollow noopener noreferrer">extended thinking</a>ï¼‰ç±»ä¼¼ï¼Œä½†äºŒè€…æ¦‚å¿µä¸åŒï¼šå»¶ä¼¸æ€è€ƒå‘ç”Ÿåœ¨ Claude å¼€å§‹ç”Ÿæˆå›å¤<strong>ä¹‹å‰</strong>ï¼Œè®©æ¨¡å‹æ·±åº¦æ€è€ƒå¹¶è¿­ä»£æ–¹æ¡ˆï¼›è€Œâ€œæ€è€ƒâ€å·¥å…·ç”¨äº Claude<strong>å·²å¼€å§‹ç”Ÿæˆå›å¤å</strong>ï¼Œåœ¨é‡åˆ°é•¿é“¾æ¡å·¥å…·è°ƒç”¨æˆ–é•¿å¯¹è¯æ—¶ï¼Œä¸»åŠ¨æš‚åœå¹¶æ€è€ƒæ˜¯å¦å·²æŒæ¡è¶³å¤Ÿä¿¡æ¯ã€‚å®ƒå°¤å…¶é€‚ç”¨äºæ¨¡å‹æ— æ³•ä»…å‡­ç”¨æˆ·æŸ¥è¯¢è·å¾—å…¨éƒ¨ä¿¡æ¯ï¼Œè€Œéœ€å¤„ç†å¤–éƒ¨ä¿¡æ¯ï¼ˆå¦‚å·¥å…·è¿”å›ç»“æœï¼‰çš„åœºæ™¯ã€‚</p>
<p>ç›¸æ¯”å»¶ä¼¸æ€è€ƒï¼Œâ€œæ€è€ƒâ€å·¥å…·æ‰€è¿›è¡Œçš„æ¨ç†èŒƒå›´æ›´çª„ï¼Œæ›´èšç„¦äºæ–°å‘ç°çš„ä¿¡æ¯ã€‚</p>
<p>Anthropic æ¨èï¼š</p>
<ul>
<li>å¯¹äºéé¡ºåºå·¥å…·è°ƒç”¨æˆ–ç®€å•æŒ‡ä»¤éµå¾ªï¼Œä¼˜å…ˆä½¿ç”¨å»¶ä¼¸æ€è€ƒï¼›</li>
<li>å¯¹äºå¤æ‚å·¥å…·é“¾ã€éœ€ä»”ç»†åˆ†æå·¥å…·è¾“å‡ºã€ç­–ç•¥å¯†é›†å‹ç¯å¢ƒæˆ–ä»£ä»·é«˜æ˜‚çš„åºåˆ—å†³ç­–ï¼Œä½¿ç”¨â€œæ€è€ƒâ€å·¥å…·ã€‚</li>
</ul>
<h6 data-id="heading-23">ä½•æ—¶ä½¿ç”¨â€œæ€è€ƒâ€å·¥å…·</h6>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€æ·±åº¦åˆ†æå‰åºå·¥å…·è¾“å‡ºï¼Œå¯èƒ½å›æº¯æ–¹æ¡ˆï¼›</li>
<li>ç­–ç•¥å¯†é›†å‹ç¯å¢ƒï¼Œéœ€éªŒè¯åˆè§„æ€§ï¼›</li>
<li>åºåˆ—å†³ç­–ï¼Œæ¯æ­¥ä¾èµ–å‰åºç»“æœä¸”é”™è¯¯ä»£ä»·é«˜ã€‚</li>
</ul>
<p><strong>ä¸é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å•æ¬¡æˆ–å¹¶è¡Œå·¥å…·è°ƒç”¨å³å¯å®Œæˆä»»åŠ¡ï¼›</li>
<li>çº¦æŸç®€å•ï¼Œé»˜è®¤è¡Œä¸ºå·²è¶³å¤Ÿã€‚</li>
</ul>
<h6 data-id="heading-24">æœ€ä½³å®è·µ</h6>
<ol>
<li><strong>é¢†åŸŸç¤ºä¾‹é©±åŠ¨çš„æç¤º</strong> ç»™å‡ºä½•æ—¶ã€å¦‚ä½•è°ƒç”¨æ€è€ƒå·¥å…·ï¼Œå¹¶æä¾›è´´åˆä¸šåŠ¡çš„æ¨ç†ç¤ºä¾‹ï¼ˆè§åŸæ–‡èˆªç©ºåŸŸæç¤ºï¼‰ã€‚</li>
<li><strong>å°†å¤æ‚æŒ‡ä»¤æ”¾å…¥ç³»ç»Ÿæç¤º</strong> é•¿ä¸”å¤æ‚çš„æ€è€ƒæŒ‡å—æ”¾åœ¨ç³»ç»Ÿæç¤ºè€Œéå·¥å…·æè¿°ä¸­ï¼Œæ•ˆæœæ›´ä½³ã€‚</li>
<li><strong>æŒç»­ç›‘æ§ä¸è¿­ä»£</strong> è§‚å¯Ÿ Claude å®é™…è°ƒç”¨æ¨¡å¼ï¼Œé’ˆå¯¹æ€§è°ƒæ•´æç¤ºï¼Œä»¥å¼ºåŒ–æœ‰æ•ˆæ€è€ƒè·¯å¾„ã€‚</li>
</ol>
<h5 data-id="heading-25">ä»£ç </h5>
<p>ThinkTool å¯¹åº”çš„ä»£ç å¦‚ä¸‹ã€‚è®©æ¨¡å‹åœ¨â€œå†…éƒ¨ç‹¬ç™½â€é˜¶æ®µæŠŠæ€è€ƒè¿‡ç¨‹å†™å…¥æ—¥å¿—ï¼Œä¸è§¦å‘å¤–éƒ¨è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-python" lang="python">_THINK_DESCRIPTIONÂ =Â <span class="hljs-string">"""UseÂ theÂ toolÂ toÂ thinkÂ aboutÂ something.Â ItÂ willÂ notÂ obtainÂ newÂ informationÂ orÂ makeÂ anyÂ changesÂ toÂ theÂ repository,Â butÂ justÂ logÂ theÂ thought.Â UseÂ itÂ whenÂ complexÂ reasoningÂ orÂ brainstormingÂ isÂ needed.

CommonÂ useÂ cases:
1.Â WhenÂ exploringÂ aÂ repositoryÂ andÂ discoveringÂ theÂ sourceÂ ofÂ aÂ bug,Â callÂ thisÂ toolÂ toÂ brainstormÂ severalÂ uniqueÂ waysÂ ofÂ fixingÂ theÂ bug,Â andÂ assessÂ whichÂ change(s)Â areÂ likelyÂ toÂ beÂ simplestÂ andÂ mostÂ effective.
2.Â AfterÂ receivingÂ testÂ results,Â useÂ thisÂ toolÂ toÂ brainstormÂ waysÂ toÂ fixÂ failingÂ tests.
3.Â WhenÂ planningÂ aÂ complexÂ refactoring,Â useÂ thisÂ toolÂ toÂ outlineÂ differentÂ approachesÂ andÂ theirÂ tradeoffs.
4.Â WhenÂ designingÂ aÂ newÂ feature,Â useÂ thisÂ toolÂ toÂ thinkÂ throughÂ architectureÂ decisionsÂ andÂ implementationÂ details.
5.Â WhenÂ debuggingÂ aÂ complexÂ issue,Â useÂ thisÂ toolÂ toÂ organizeÂ yourÂ thoughtsÂ andÂ hypotheses.

TheÂ toolÂ simplyÂ logsÂ yourÂ thoughtÂ processÂ forÂ betterÂ transparencyÂ andÂ doesÂ notÂ executeÂ anyÂ codeÂ orÂ makeÂ changes."""</span>

ThinkToolÂ =Â ChatCompletionToolParam(
Â Â Â Â <span class="hljs-built_in">type</span>=<span class="hljs-string">'function'</span>,
Â Â Â Â function=ChatCompletionToolParamFunctionChunk(
Â Â Â Â Â Â Â Â name=<span class="hljs-string">'think'</span>,
Â Â Â Â Â Â Â Â description=_THINK_DESCRIPTION,
Â Â Â Â Â Â Â Â parameters={
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'type'</span>:Â <span class="hljs-string">'object'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'properties'</span>:Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'thought'</span>:Â {<span class="hljs-string">'type'</span>:Â <span class="hljs-string">'string'</span>,Â <span class="hljs-string">'description'</span>:Â <span class="hljs-string">'TheÂ thoughtÂ toÂ log.'</span>},
Â Â Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'required'</span>:Â [<span class="hljs-string">'thought'</span>],
Â Â Â Â Â Â Â Â },
Â Â Â Â ),
)

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ThinkExecutor</span>(<span class="hljs-title class_ inherited__">ToolExecutor</span>):
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__call__</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â _:Â ThinkAction,
Â Â Â Â Â Â Â Â conversation:Â <span class="hljs-string">"BaseConversationÂ |Â None"</span>Â =Â <span class="hljs-literal">None</span>,Â Â <span class="hljs-comment">#Â noqa:Â ARG002</span>
Â Â Â Â </span>)Â -&gt;Â ThinkObservation:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â ThinkObservation.from_text(text=<span class="hljs-string">"YourÂ thoughtÂ hasÂ beenÂ logged."</span>)


<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ThinkTool</span>(ToolDefinition[ThinkAction,Â ThinkObservation]):
Â Â Â Â <span class="hljs-string">"""ToolÂ forÂ loggingÂ thoughtsÂ withoutÂ makingÂ changes."""</span>

Â Â Â Â @<span class="hljs-built_in">classmethod</span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â cls,
Â Â Â Â Â Â Â Â conv_state:Â <span class="hljs-string">"ConversationStateÂ |Â None"</span>Â =Â <span class="hljs-literal">None</span>,Â Â <span class="hljs-comment">#Â noqa:Â ARG003</span>
Â Â Â Â Â Â Â Â **params,
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Sequence</span>[Self]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""CreateÂ ThinkToolÂ instance.

Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â conv_state:Â OptionalÂ conversationÂ stateÂ (notÂ usedÂ byÂ ThinkTool).
Â Â Â Â Â Â Â Â Â Â Â Â **params:Â AdditionalÂ parametersÂ (noneÂ supported).

Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â AÂ sequenceÂ containingÂ aÂ singleÂ ThinkToolÂ instance.

Â Â Â Â Â Â Â Â Raises:
Â Â Â Â Â Â Â Â Â Â Â Â ValueError:Â IfÂ anyÂ parametersÂ areÂ provided.
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â params:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>Â ValueError(<span class="hljs-string">"ThinkToolÂ doesn'tÂ acceptÂ parameters"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â [
Â Â Â Â Â Â Â Â Â Â Â Â cls(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â description=THINK_DESCRIPTION,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â action_type=ThinkAction,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â observation_type=ThinkObservation,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â executor=ThinkExecutor(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â annotations=ToolAnnotations(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â readOnlyHint=<span class="hljs-literal">True</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â destructiveHint=<span class="hljs-literal">False</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â idempotentHint=<span class="hljs-literal">True</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â openWorldHint=<span class="hljs-literal">False</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â ]
</code></pre>
<h3 data-id="heading-26">0xFF å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.all-hands.dev%2Fopenhands%2Fusage%2Farchitecture%2Fbackend" target="_blank" title="https://docs.all-hands.dev/openhands/usage/architecture/backend" ref="nofollow noopener noreferrer">docs.all-hands.dev/openhands/uâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936485868761257658" target="_blank" title="https://zhuanlan.zhihu.com/p/1936485868761257658" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬äºŒç¯‡ï¼šAgent ç›¸å…³æ ¸å¿ƒæ¦‚å¿µã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936175201323825087" target="_blank" title="https://zhuanlan.zhihu.com/p/1936175201323825087" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬ä¸€ç¯‡ï¼šç³»åˆ—å¯¼è¯»ã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940436682949244630" target="_blank" title="https://zhuanlan.zhihu.com/p/1940436682949244630" ref="nofollow noopener noreferrer">Coding Agentä¹‹Openhandsè§£æ(å«ä»£ç )</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fwu-long-ming-cha-56" target="_blank" title="https://www.zhihu.com/people/wu-long-ming-cha-56" ref="nofollow noopener noreferrer">Arrow</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940824548485347192" target="_blank" title="https://zhuanlan.zhihu.com/p/1940824548485347192" ref="nofollow noopener noreferrer">OpenHands æºç è§£è¯»</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fxiao-hui-66-72" target="_blank" title="https://www.zhihu.com/people/xiao-hui-66-72" ref="nofollow noopener noreferrer">ä¸€åŠ›è¾‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1949931198932586886" target="_blank" title="https://zhuanlan.zhihu.com/p/1949931198932586886" ref="nofollow noopener noreferrer">Anthropic å®˜æ–¹æ•™ç¨‹ï¼šä¸º Agent è®¾è®¡é«˜æ•ˆå·¥å…·çš„æœ€ä½³å®è·µ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fclaude-think-tool" target="_blank" title="https://www.anthropic.com/engineering/claude-think-tool" ref="nofollow noopener noreferrer">The "think" tool: Enabling Claude to stop and think in complex tool use situations</a></p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ VS Code å’Œ Android Studio é˜…è¯» Android æºç ï¼šåŸºäº Copilot çš„é«˜æ•ˆä»£ç åˆ†ææŠ€å·§]]></title>    <link>https://juejin.cn/post/7602776926328143926</link>    <guid>https://juejin.cn/post/7602776926328143926</guid>    <pubDate>2026-02-04T13:23:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926328143926" data-draft-id="7602841282802155561" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ VS Code å’Œ Android Studio é˜…è¯» Android æºç ï¼šåŸºäº Copilot çš„é«˜æ•ˆä»£ç åˆ†ææŠ€å·§"/> <meta itemprop="keywords" content="Android,æºç ,Github Copilot"/> <meta itemprop="datePublished" content="2026-02-04T13:23:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ VS Code å’Œ Android Studio é˜…è¯» Android æºç ï¼šåŸºäº Copilot çš„é«˜æ•ˆä»£ç åˆ†ææŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:23:13.000Z" title="Wed Feb 04 2026 13:23:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. èƒŒæ™¯</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¤§å®¶å¸¸ç”¨ AI å·¥å…·ï¼ˆå¦‚ ChatGPTã€DeepSeek ç­‰ï¼‰è¿›è¡Œä»£ç åˆ†æã€‚ä½†é€šè¿‡ç½‘é¡µ AI å·¥å…·åˆ†æä»£ç æ—¶ï¼Œç¼ºä¹ä¸Šä¸‹æ–‡ï¼Œéœ€è¦æ‰‹åŠ¨åˆ†æ®µç²˜è´´ä»£ç ï¼Œæ•ˆç‡ä½ä¸”å®¹æ˜“é—æ¼å…³é”®ä¿¡æ¯ã€‚</p>
<p>å…¬å¸å¼•å…¥ Copilot åï¼Œå¤§å®¶å¤šåœ¨ VS Codeã€Android Studio ç­‰ IDE æ’ä»¶ä¸­ç”¨ Copilot è¿›è¡Œä»£ç åˆ†æã€‚Copilot èƒ½ç›´æ¥åˆ†æå½“å‰ç¼–è¾‘å™¨ä¸­çš„ä»£ç ï¼Œå¹¶æ”¯æŒä¸Šä¸‹æ–‡ï¼Œæå¤§æå‡äº†åˆ†ææ•ˆç‡ï¼Œå‡å°‘äº†äººå·¥ç²˜è´´çš„éº»çƒ¦ã€‚</p>
<p>ä½†å®é™…å¼€å‘ä¸­ï¼Œä»å­˜åœ¨ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ul>
<li><strong>ä»£ç è·³è½¬ä¸è¿è´¯</strong>ï¼šå¯¹äº Android.bp soong æ„å»ºç³»ç»Ÿä¸‹çš„ Android ä»£ç ï¼Œä¸èƒ½è‡ªç”±åœ°è·³è½¬åˆ°æ–¹æ³•å®šä¹‰ã€å®ç°ã€ç¬¦å·ç­‰ã€‚</li>
<li><strong>æŸ¥æ‰¾æ–¹æ³•ç¹ç</strong>ï¼šå¤§éƒ¨åˆ† Android framework å¼€å‘ï¼Œæ˜¯é€šè¿‡ VS Code æˆ– Android Studio æ‰“å¼€æ•´ä¸ªé¡¹ç›®ä»£ç æ–‡ä»¶å¤¹ï¼Œç„¶åç”¨å…¨å±€æŸ¥æ‰¾æŒ‡ä»¤å®šä½æ–¹æ³•ã€‚è¿™ä¼šå¯¼è‡´é€šè¿‡ Copilot åˆ†æä»£ç æ—¶éœ€è¦æ‰‹åŠ¨æŸ¥æ‰¾ã€å¤åˆ¶ï¼Œå®¹æ˜“ä¸­æ–­æ€è·¯ï¼Œä¸”æŸ¥æ‰¾ç»“æœä¸ä¸€å®šç²¾å‡†ã€‚</li>
</ul>
<p>å®é™…å¼€å‘ä¸­å‘ç°ï¼Œé€šè¿‡ <strong>aidegen</strong> åœ¨ VS Code å’Œ Android Studio ä¸­é…ç½®æ¨¡å—åŒ–ä»£ç åŠ è½½ç¯å¢ƒï¼Œæ”¯æŒè‡ªåŠ¨è·³è½¬åŠŸèƒ½ï¼Œç»“åˆ Copilot çš„ä¸Šä¸‹æ–‡åˆ†æå’Œåˆ†æ®µè§£é‡Šèƒ½åŠ›ï¼Œå¯ä»¥å®ç°æŒç»­ã€è¿è´¯ä¸”é«˜æ•ˆçš„ä»£ç åˆ†ææµç¨‹ï¼Œä»è€Œæå‡ Android é¡¹ç›®çš„ä»£ç åˆ†æä¸å¼€å‘æ•ˆç‡ï¼Œæœ‰æ•ˆè§£å†³ä¸Šè¿°ç—›ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-2">2.1 VS Code + Copilot Android ä»£ç åˆ†æ</h3>
<p>å¯¹äº HAL å±‚å¯é…ç½® VS Code + Copilot Android ä»£ç åˆ†æç¯å¢ƒã€‚</p>
<p>ä¸‹é¢ä»¥åˆ†æ Android ç³»ç»Ÿä¸­çš„ <code>android/bootable/recovery</code> æ¨¡å—ä»£ç æ¥è¯´æ˜å®æ–½æ­¥éª¤ã€‚</p>
<h4 data-id="heading-3">2.1.1 é…ç½® VS Code Android.bp ä»£ç è‡ªåŠ¨è·³è½¬ç¯å¢ƒ</h4>
<p>æŠŠåŸæœ‰çš„ C++ ç›¸å…³çš„æ’ä»¶å¸è½½æ‰ï¼Œå®‰è£… <strong>clangd</strong> æ’ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6c9a5ab857b48319e7114f53be5046b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=lRiIpGNgdCP0kqkQWCr%2Fvnbzd6w%3D" alt="02-01-clangd-plugin.png" loading="lazy"/></p>
<h4 data-id="heading-4">2.1.2 ä½¿ç”¨ aidegen ç”Ÿæˆ VS Code æ¨¡å—åŒ–å·¥ç¨‹æ–‡ä»¶</h4>
<p><strong>aidegen</strong>ï¼ˆAndroid IDE Generatorï¼‰æ˜¯ Google æä¾›çš„ä¸€ä¸ªç”¨äº Android å¼€å‘çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸»è¦ç”¨äºè‡ªåŠ¨ç”Ÿæˆé€‚ç”¨äº IDEï¼ˆå¦‚ Android Studioã€IntelliJ IDEAã€VS Code ç­‰ï¼‰çš„å·¥ç¨‹æ–‡ä»¶ã€‚</p>
<p>å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€ŸæŠŠ Android æºç ä¸­çš„æŸä¸ªæ¨¡å—ï¼ˆå¦‚ appã€frameworkã€JNIã€native ä»£ç ç­‰ï¼‰å¯¼å…¥åˆ° IDE é‡Œï¼Œæ–¹ä¾¿ä»£ç é˜…è¯»ã€è°ƒè¯•å’Œæ™ºèƒ½è·³è½¬ã€‚</p>
<p>åœ¨ android ä»£ç è·¯å¾„ä¸‹ï¼ˆä¾‹ï¼š<code>/workspace/tegu/android</code>ï¼‰æ‰§è¡Œå¦‚ä¸‹ç¼–è¯‘æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> lunch
<span class="hljs-built_in">source</span> build/envsetup.sh
lunch ï¼ˆå¯¹åº”productï¼‰
<span class="hljs-built_in">cd</span> bootable/recovery
aidegen -i v -s
</code></pre>
<p>æ‰§è¡Œä¸Šé¢æŒ‡ä»¤åï¼ŒVS Code ä¼šè¢«è‡ªåŠ¨æ‹‰èµ·æ¥ï¼Œå¹¶ä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ <code>bootable.recovery.code-workspace</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2abdaac3fa214a74ac4537a13236f435~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=u1HUUf5usULadfhvWf3E3JWPiJs%3D" alt="02-02-aidegen.png" loading="lazy"/></p>
<p><strong>å¤‡æ³¨</strong>ï¼š</p>
<p><code>aidegen -i v -s</code> ä¸ä»…å¯ä»¥å¯¹å•ç‹¬æ¨¡å—ç”Ÿæˆå·¥ç¨‹æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å¯¹æŸä¸ªè·¯å¾„ä¸‹çš„æ‰€æœ‰æ¨¡å—ç”Ÿæˆä¸€ä¸ªå·¥ç¨‹æ–‡ä»¶ï¼Œåœ¨ç›¸å…³è·¯å¾„ä¸‹æ‰§è¡Œå³å¯ã€‚</p>
<h4 data-id="heading-5">2.1.3 VS Code ä¸­é…ç½®å·¥ç¨‹æ–‡ä»¶</h4>
<p>VS Code è¢«è‡ªåŠ¨æ‹‰èµ·æ¥åå·¥ä½œç©ºé—´å¦‚ä¸‹ï¼Œå…¶ä¼šè‡ªåŠ¨åŠ è½½å½“å‰æ¨¡å—ä»£ç å’Œ <code>bootable.recovery.code-workspace</code> æ–‡ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16fedd70773a4823abf78c8805666a97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=u3l3ZhRGqDTMkWjTx2CC1umNK9c%3D" alt="02-03-vscode-config1.png" loading="lazy"/></p>
<p>åœ¨ç”Ÿæˆçš„ <code>bootable.recovery.code-workspace</code> æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è“è‰²æ¡†å†…çš„å…¨å±€é…ç½®ï¼Œçº¢è‰²æ¡†çš„å†…å®¹éœ€æ ¹æ®ä¸åŒé¡¹ç›®çš„ out è·¯å¾„è¿›è¡Œé…ç½®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a600bc961024f639f7e968cca87634b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=XzGzohYvcdZ6Z4P3YeDjj5U%2Bfxc%3D" alt="02-04-vscode-config2.png" loading="lazy"/></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"folders"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bootable.recovery"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/home/workspace/tegu/android/bootable/recovery"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"settings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"clangd.arguments"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-string">"--compile-commands-dir=/home/workspace/tegu/android/out/soong/development/ide/compdb"</span>
        <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-6">2.1.4 é‡æ–°åŠ è½½æ›´æ”¹åçš„é…ç½®</h4>
<p>é…ç½®å®Œæˆåå…³é—­å½“å‰ VS Codeï¼Œå³é”®ä¿®æ”¹åçš„ <code>bootable.recovery.code-workspace</code> æ–‡ä»¶ï¼Œä½¿ç”¨ VS Code é‡æ–°æ‰“å¼€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b8ac7815a4348a29d72ec2451fc7df1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=OSQ2qZSzUDkrS9aXLEdw5YxZWgw%3D" alt="02-05-open-new-workspace.png" loading="lazy"/></p>
<h4 data-id="heading-7">2.1.5 æ£€æŸ¥é…ç½®æ˜¯å¦æˆåŠŸ</h4>
<p>ç¬¬ä¸€æ¬¡é…ç½®çš„æ—¶å€™ï¼ŒVS Code å³ä¸‹è§’ä¼šæç¤ºå®‰è£… clangd çš„ç›¸å…³ä¾èµ–å‹ç¼©åŒ…ï¼ŒæŒ‰ç…§æç¤ºç‚¹å‡»å…è®¸å¹¶è¿›è¡Œä¸‹è½½ã€‚</p>
<p>ä¸‹è½½å®Œæˆåå†é‡å¤æ­¥éª¤ 2.1.4 å³å¯ã€‚</p>
<p>é…ç½®æˆåŠŸçš„æƒ…å†µä¸‹ï¼Œç›¸å…³æ–¹æ³•æœ‰äº†æç¤ºï¼Œå¹¶å¯ä»¥è‡ªç”±è·³è½¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/955a593fe6124a0a996df463beedc3f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=LcLOBGlq5wm3dDXrnbWxeuPrl7c%3D" alt="02-06-vscode-config-success.png" loading="lazy"/></p>
<h4 data-id="heading-8">2.1.6 ä½¿ç”¨ Copilot æ•´ä½“åˆ†æè¯¥æ¨¡å—ä»£ç </h4>
<p>ä¸Šä¸‹æ–‡æ·»åŠ å½“å‰å·¥ç¨‹æ–‡ä»¶ï¼Œå¹¶è¯¢é—®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d517f4e69b0d430cb25e0e10a0fe4714~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=hyWrZ0IVZ%2F%2BZhSNVorltPSLOBV8%3D" alt="02-07-analyse-code-with-copilot1.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3c386e501e94ca8b0374940205f7f7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=C%2BUbnu4QjAVIZE2tTiBj%2FAJYM94%3D" alt="02-08-analyse-code-with-copilot2.png" loading="lazy"/></p>
<p>ä¸Šé¢ç›¸å…³çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ä¼šç”Ÿæˆé“¾æ¥ï¼Œéƒ½å¯ä»¥ç‚¹å‡»è¿›è¡ŒæŸ¥çœ‹/è¯¢é—®/åˆ†æã€‚</p>
<h4 data-id="heading-9">2.1.7 ç»“åˆè‡ªç”±è·³è½¬åŠŸèƒ½ï¼Œä½¿ç”¨ Copilot è¿›è¡ŒæŒç»­åˆ†æ</h4>
<p>å…‰æ ‡å®šä½åˆ°æŸä¸€ä¸ªæ–¹æ³•ä¸Šï¼Œ<code>CTRL + é¼ æ ‡å·¦é”®</code> ç‚¹å‡»ï¼Œå³å¯è·³è½¬åˆ°å…·ä½“å®ç°æ–¹æ³•ä¸­ï¼ˆåŒ…æ‹¬éæœ¬æ¨¡å—çš„æ–¹æ³•å®ç°ï¼Œå¦‚æœ¬æ¨¡å—æ‰€ä¾èµ–çš„åŸç”Ÿåº“æ–¹æ³•å®ç°ä¹Ÿå¯ä»¥è·³è½¬æŸ¥çœ‹å®ç°ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f4597066ebd48fbad8863d04096d2d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=x4CH3u3ahpkuC95DoVYDEp9Vs94%3D" alt="02-09-analyse-code-with-copilot3.png" loading="lazy"/></p>
<h4 data-id="heading-10">2.1.8 é…ç½®å…‰æ ‡å‰è¿›å’Œè¿”å›å¿«æ·é”®</h4>
<p>å¯ä»¥å¯¹å…‰æ ‡çš„å‰è¿›å’Œè¿”å›é…ç½®è‡ªå·±ä¹ æƒ¯çš„å¿«æ·é”®ã€‚</p>
<p>é…ç½®åçš„å¥½å¤„ï¼šæ¯”å¦‚å½“å‰å…‰æ ‡åœ¨æ–¹æ³• A ä¸Šï¼Œç„¶åè·³è½¬åˆ°å¦ä¸€ä¸ªæ–‡ä»¶çš„æ–¹æ³• B ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…‰æ ‡è¿”å›å¿«æ·é”®å†å›åˆ° Aï¼Œæˆ–è€…å†å‰è¿›åˆ° Bã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46bef34fe4e54778bc1454da05874e82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=73dHYQa7fzNs1Urzb%2B8OTFIkMgA%3D" alt="02-10-hotkey-config.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ec5a9f52fd9492cb781935acf76939d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=79a96wkKSVuy%2Br8QstcsmxFf4Cs%3D" alt="02-11-hotkey-config2.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6bc4fe2f80a40a3a818476cdabd0049~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=6DwmeGJpZCqilK0o3A0IR7J3nRA%3D" alt="02-12-hotkey-config3.png" loading="lazy"/></p>
<p>AI å·¥å…·ä¼šè‡ªåŠ¨é”å®šå½“å‰æŸ¥çœ‹çš„æ–‡ä»¶å’Œä»£ç è¡Œï¼Œå› æ­¤å¯ä»¥ç›´æ¥å¸®åŠ©åˆ†æã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6100bf5486cb4919805505917884ac9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=MFYDOOpmatccRJsYPrKKM3oqhHY%3D" alt="02-13-read-code-with-copolit.png" loading="lazy"/></p>
<p>ä¹Ÿå¯ä»¥é’ˆå¯¹å½“å‰å…‰æ ‡æŸè¡Œè¿›è¡Œè¯¢é—®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26634c05d2604a31b58afc45b088910c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=Haj0ovCalzc958iMDqH64SBX1c8%3D" alt="02-14-read-code-with-copolit2.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-11">2.2 Android Studio + Copilot Android ä»£ç åˆ†æ</h3>
<p>å¯¹äº JAVA å±‚å¯é…ç½® Android Studio + Copilot Android ä»£ç åˆ†æç¯å¢ƒã€‚</p>
<p>ä¸‹é¢ä»¥åˆ†æ Android é¡¹ç›®ä»£ç ä¸­ <code>android/packages/apps/Music</code> æ¨¡å—ä»£ç æ¥è¯´æ˜å®æ–½æ­¥éª¤ã€‚</p>
<h4 data-id="heading-12">2.2.1 ä½¿ç”¨ aidegen ç”Ÿæˆ Android Studio æ¨¡å—åŒ–å·¥ç¨‹æ–‡ä»¶</h4>
<p><strong>aidegen</strong>ï¼ˆAndroid IDE Generatorï¼‰æ˜¯ Google æä¾›çš„ä¸€ä¸ªç”¨äº Android å¼€å‘çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸»è¦ç”¨äºè‡ªåŠ¨ç”Ÿæˆé€‚ç”¨äº IDEï¼ˆå¦‚ Android Studioã€IntelliJ IDEAã€VS Code ç­‰ï¼‰çš„å·¥ç¨‹æ–‡ä»¶ã€‚</p>
<p>å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€ŸæŠŠ Android æºç ä¸­çš„æŸä¸ªæ¨¡å—ï¼ˆå¦‚ appã€frameworkã€JNIã€native ä»£ç ç­‰ï¼‰å¯¼å…¥åˆ° IDE é‡Œï¼Œæ–¹ä¾¿ä»£ç é˜…è¯»ã€è°ƒè¯•å’Œæ™ºèƒ½è·³è½¬ã€‚</p>
<p>åœ¨ android ä»£ç è·¯å¾„ä¸‹ï¼ˆä¾‹ï¼š<code>/workspace/tegu/android</code>ï¼‰æ‰§è¡Œå¦‚ä¸‹ç¼–è¯‘æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> lunch
<span class="hljs-built_in">source</span> build/envsetup.sh
lunch ï¼ˆå¯¹åº”productï¼‰
</code></pre>
<p>æŸ¥çœ‹ <code>android/packages/apps/Music</code> ç¼–è¯‘é…ç½®ä¸­çš„æ¨¡å—åï¼š</p>
<pre><code class="hljs language-bash" lang="bash">android/packages/apps/Music$ <span class="hljs-built_in">cat</span> Android.bp
</code></pre>
<pre><code class="hljs language-bp" lang="bp">android_app {
    name: "Music", //æ¨¡å—åä¸º Music
    srcs: ["src/**/*.java"],
    resource_dirs: ["kotlin/res"],
    sdk_version: "current",
    product_specific: true,
    optimize: {
        proguard_flags_files: ["proguard.flags"],
    },
}
</code></pre>
<p>æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">aidegen Music -i s -p &lt;your_android_studio_path&gt;/bin
</code></pre>
<p>å…¶ä¸­ <code>&lt;your_android_studio_path&gt;</code> æ›¿æ¢ä¸ºä½ æœ¬åœ° Android Studio çš„å®é™…å®‰è£…è·¯å¾„ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">aidegen Music -i s -p /soft/android-studio-2022.1.1.21-linux/android-studio/bin
</code></pre>
<p>æ‰§è¡Œä¸Šé¢æŒ‡ä»¤åï¼ŒAndroid Studio ä¼šè¢«è‡ªåŠ¨æ‹‰èµ·æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆæ¨¡å—åŒ–é…ç½®ç¯å¢ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/594909bd729e480499c0e2d9b4dc80ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=3TQg6SjK9nKW9ZMZg4xtdJCdpGw%3D" alt="02-15-open-workspace-with-as.png" loading="lazy"/></p>
<p>å¹¶ä¸”ä¼šè‡ªåŠ¨ç”Ÿæˆæœ¬æ¨¡å—çš„å¤–éƒ¨ä¾èµ–ï¼Œæ”¯æŒè·³è½¬åˆ°ä¾èµ–æ¨¡å—ï¼Œæ–¹ä¾¿æŸ¥çœ‹ç›¸å…³è°ƒç”¨çš„å…·ä½“ä»£ç å®ç°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ce50782af1f4fd2bf4b3a31250d3b9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=Wpiarf7YHqZf3PaWHNcwagSaRmE%3D" alt="02-16-open-workspace-with-as2.png" loading="lazy"/></p>
<p>å·¥ç¨‹é…ç½®æˆåŠŸåï¼Œå³å¯å®ç°ä»£ç çš„è‡ªç”±è·³è½¬ï¼Œå¹¶ç»“åˆ Copilot çš„ä¸Šä¸‹æ–‡åˆ†æå’Œåˆ†æ®µè§£é‡Šèƒ½åŠ›ï¼Œè¿›è¡ŒæŒç»­çš„ä»£ç åˆ†æï¼Œå…¶åˆ†ææµç¨‹ä¸ VS Code ç¯å¢ƒåˆ†ææµç¨‹ç±»ä¼¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5dedad85e8246799275a2bb0ae843a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770816197&amp;x-signature=Z65Pq0oWeiAiB8N2X0zjYzH7BRY%3D" alt="02-17-open-workspace-with-as3.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-13">3. æ€»ç»“</h2>
<p>é€šè¿‡ä½¿ç”¨ <strong>aidegen</strong> å·¥å…·é…ç½® VS Code å’Œ Android Studio çš„æ¨¡å—åŒ–ä»£ç ç¯å¢ƒï¼Œç»“åˆ <strong>Copilot</strong> çš„ä¸Šä¸‹æ–‡åˆ†æèƒ½åŠ›ï¼Œå¯ä»¥å®ç°ï¼š</p>
<ul>
<li>âœ… <strong>è‡ªç”±ä»£ç è·³è½¬</strong>ï¼šæ”¯æŒæ–¹æ³•å®šä¹‰ã€å®ç°ã€ç¬¦å·çš„å¿«é€Ÿè·³è½¬</li>
<li>âœ… <strong>é«˜æ•ˆä»£ç åˆ†æ</strong>ï¼šCopilot è‡ªåŠ¨é”å®šå½“å‰æ–‡ä»¶å’Œä»£ç è¡Œï¼Œæä¾›ç²¾å‡†åˆ†æ</li>
<li>âœ… <strong>æŒç»­è¿è´¯åˆ†æ</strong>ï¼šæ— éœ€æ‰‹åŠ¨æŸ¥æ‰¾å’Œå¤åˆ¶ä»£ç ï¼Œä¿æŒåˆ†ææ€è·¯è¿è´¯</li>
<li>âœ… <strong>å¤šæ¨¡å—æ”¯æŒ</strong>ï¼šå¯ä»¥åˆ†æå•ä¸ªæ¨¡å—æˆ–æ•´ä¸ªè·¯å¾„ä¸‹çš„æ‰€æœ‰æ¨¡å—</li>
</ul>
<p>è¿™å¥—æ–¹æ¡ˆæœ‰æ•ˆè§£å†³äº† Android æºç é˜…è¯»ä¸­çš„ä»£ç è·³è½¬å’ŒæŸ¥æ‰¾é—®é¢˜ï¼Œå¤§å¹…æå‡äº†ä»£ç åˆ†ææ•ˆç‡ã€‚</p>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQL ä¸­çš„é€»è¾‘è¯»ä¸ç‰©ç†è¯»ï¼šæ·±å…¥ç†è§£ InnoDB çš„ I/O è¡Œä¸º]]></title>    <link>https://juejin.cn/post/7602824293164580879</link>    <guid>https://juejin.cn/post/7602824293164580879</guid>    <pubDate>2026-02-04T13:28:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602824293164580879" data-draft-id="7602554905271730176" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL ä¸­çš„é€»è¾‘è¯»ä¸ç‰©ç†è¯»ï¼šæ·±å…¥ç†è§£ InnoDB çš„ I/O è¡Œä¸º"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2026-02-04T13:28:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL ä¸­çš„é€»è¾‘è¯»ä¸ç‰©ç†è¯»ï¼šæ·±å…¥ç†è§£ InnoDB çš„ I/O è¡Œä¸º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:28:32.000Z" title="Wed Feb 04 2026 13:28:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ MySQL æ€§èƒ½è°ƒä¼˜å’Œæ•°æ®åº“åŸç†å­¦ä¹ ä¸­ï¼Œ <strong>â€œé€»è¾‘è¯»â€ï¼ˆLogical Readï¼‰</strong> å’Œ <strong>â€œç‰©ç†è¯»â€ï¼ˆPhysical Readï¼‰</strong> æ˜¯ä¸¤ä¸ªæ ¸å¿ƒä½†å¸¸è¢«æ··æ·†çš„æ¦‚å¿µã€‚å®ƒä»¬ç›´æ¥å…³ç³»åˆ°æŸ¥è¯¢æ€§èƒ½ã€ç¼“å­˜æ•ˆç‡ä»¥åŠç£ç›˜ I/O å‹åŠ›ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ InnoDB å­˜å‚¨å¼•æ“å†…éƒ¨ï¼Œå½»åº•ææ‡‚è¿™ä¸¤ä¸ªæ¦‚å¿µçš„åŒºåˆ«ã€è”ç³»åŠå…¶å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯é€»è¾‘è¯»ï¼Ÿä»€ä¹ˆæ˜¯ç‰©ç†è¯»ï¼Ÿ</h2>
<h3 data-id="heading-1">âœ… é€»è¾‘è¯»ï¼ˆLogical Readï¼‰</h3>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šä» <strong>InnoDB ç¼“å†²æ± ï¼ˆBuffer Poolï¼‰</strong> ä¸­è¯»å–æ•°æ®é¡µçš„æ“ä½œã€‚</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä¸æ¶‰åŠç£ç›˜ I/Oï¼›</li>
<li>é€Ÿåº¦æå¿«ï¼ˆå†…å­˜è®¿é—®ï¼Œçº³ç§’çº§ï¼‰ï¼›</li>
<li>æ˜¯æ•°æ®åº“é«˜æ•ˆè¿è¡Œçš„å…³é”®ã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ«å</strong>ï¼šä¹Ÿç§°ä¸º <strong>â€œç¼“å­˜å‘½ä¸­è¯»â€</strong> æˆ– <strong>â€œå†…å­˜è¯»â€</strong> ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">âœ… ç‰©ç†è¯»ï¼ˆPhysical Readï¼‰</h3>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šå½“æ‰€éœ€æ•°æ®é¡µ <strong>ä¸åœ¨ Buffer Pool ä¸­</strong> æ—¶ï¼Œä» <strong>ç£ç›˜ï¼ˆæˆ– SSDï¼‰</strong> åŠ è½½æ•°æ®é¡µåˆ° Buffer Pool çš„æ“ä½œã€‚</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¶‰åŠç£ç›˜ I/Oï¼ˆæ¯«ç§’çº§ï¼Œæ¯”å†…å­˜æ…¢ç™¾ä¸‡å€ï¼‰ï¼›</li>
<li>æ˜¯æ€§èƒ½ç“¶é¢ˆçš„ä¸»è¦æ¥æºï¼›</li>
<li>ä¼šå¢åŠ ç³»ç»Ÿè´Ÿè½½å’Œå“åº”å»¶è¿Ÿã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ«å</strong>ï¼šä¹Ÿç§°ä¸º <strong>â€œç£ç›˜è¯»â€</strong> æˆ– <strong>â€œç¼“å­˜æœªå‘½ä¸­è¯»â€</strong> ã€‚</p>
</li>
</ul>
<blockquote>
<p>ğŸ“Œ <strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼š<br/>
<strong>é€»è¾‘è¯» = è¯»å†…å­˜ï¼Œç‰©ç†è¯» = è¯»ç£ç›˜ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">äºŒã€InnoDB çš„æ•°æ®è¯»å–æµç¨‹ï¼ˆå›¾è§£ï¼‰</h2>
<pre><code class="hljs language-css" lang="css">graph <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[æ‰§è¡Œ SQL æŸ¥è¯¢]</span> --&gt; <span class="hljs-selector-tag">B</span>{æ‰€éœ€æ•°æ®é¡µæ˜¯å¦åœ¨ Buffer Pool?}
    <span class="hljs-selector-tag">B</span> -- æ˜¯ --&gt; C<span class="hljs-selector-attr">[ç›´æ¥è¿”å›æ•°æ®&lt;br/&gt;ï¼ˆé€»è¾‘è¯»ï¼‰]</span>
    <span class="hljs-selector-tag">B</span> -- å¦ --&gt; D<span class="hljs-selector-attr">[ä»ç£ç›˜è¯»å–æ•°æ®é¡µåˆ° Buffer Pool&lt;br/&gt;ï¼ˆç‰©ç†è¯»ï¼‰]</span>
    D --&gt; E<span class="hljs-selector-attr">[è¿”å›æ•°æ®&lt;br/&gt;ï¼ˆåç»­è¯»å˜ä¸ºé€»è¾‘è¯»ï¼‰]</span>
</code></pre>
<ol>
<li>
<p>MySQL æ¥æ”¶åˆ°æŸ¥è¯¢è¯·æ±‚ï¼›</p>
</li>
<li>
<p>InnoDB å¼•æ“æ ¹æ®ç´¢å¼•æˆ–ä¸»é”®å®šä½åˆ°ç›®æ ‡æ•°æ®é¡µï¼›</p>
</li>
<li>
<p>æ£€æŸ¥è¯¥é¡µæ˜¯å¦å·²åœ¨ <strong>Buffer Pool</strong> ä¸­ï¼š</p>
<ul>
<li>å¦‚æœåœ¨ â†’ <strong>é€»è¾‘è¯»</strong>ï¼Œç›´æ¥è¿”å›ï¼›</li>
<li>å¦‚æœä¸åœ¨ â†’ è§¦å‘ <strong>ç‰©ç†è¯»</strong>ï¼Œä»ç£ç›˜åŠ è½½ï¼›</li>
</ul>
</li>
<li>
<p>ç‰©ç†è¯»åï¼Œæ•°æ®é¡µè¢«ç¼“å­˜ï¼Œ<strong>ä¸‹æ¬¡ç›¸åŒæŸ¥è¯¢å°†å‘½ä¸­é€»è¾‘è¯»</strong>ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å¦‚ä½•æŸ¥çœ‹é€»è¾‘è¯»ä¸ç‰©ç†è¯»çš„ç»Ÿè®¡ä¿¡æ¯ï¼Ÿ</h2>
<p>MySQL æä¾›äº†ä¸°å¯Œçš„æ€§èƒ½ç›‘æ§æŒ‡æ ‡ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹ï¼š</p>
<h3 data-id="heading-5">æ–¹æ³•1ï¼šä½¿ç”¨ <code>SHOW ENGINE INNODB STATUS</code></h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> ENGINE INNODB STATUS\G
</code></pre>
<p>åœ¨è¾“å‡ºçš„ <strong>BUFFER POOL AND MEMORY</strong> éƒ¨åˆ†ï¼Œä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">Pages made young ..., <span class="hljs-keyword">not</span> young ...
Pages read ..., created ..., written ...
Number <span class="hljs-keyword">of</span> rows inserted ..., updated ..., deleted ..., read ...
</code></pre>
<p>å…¶ä¸­ <code>Pages read</code> è¡¨ç¤º <strong>ç‰©ç†è¯»çš„é¡µæ•°</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-6">æ–¹æ³•2ï¼šæŸ¥è¯¢ <code>information_schema.GLOBAL_STATUS</code></h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é€»è¾‘è¯»ï¼ˆInnoDB ç¼“å†²æ± è¯»å–æ¬¡æ•°ï¼‰</span>
<span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">GLOBAL</span> STATUS <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'Innodb_buffer_pool_read_requests'</span>;

<span class="hljs-comment">-- ç‰©ç†è¯»ï¼ˆä»ç£ç›˜è¯»å–çš„æ¬¡æ•°ï¼‰</span>
<span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">GLOBAL</span> STATUS <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'Innodb_buffer_pool_reads'</span>;
</code></pre>
<h4 data-id="heading-7">è®¡ç®—ç¼“å­˜å‘½ä¸­ç‡ï¼ˆå…³é”®æŒ‡æ ‡ï¼ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> 
  (<span class="hljs-number">1</span> <span class="hljs-operator">-</span> 
    Innodb_buffer_pool_reads <span class="hljs-operator">/</span> Innodb_buffer_pool_read_requests
  ) <span class="hljs-operator">*</span> <span class="hljs-number">100</span> <span class="hljs-keyword">AS</span> buffer_pool_hit_rate
<span class="hljs-keyword">FROM</span> 
  information_schema.GLOBAL_STATUS
<span class="hljs-keyword">WHERE</span> Variable_name <span class="hljs-keyword">IN</span> (<span class="hljs-string">'Innodb_buffer_pool_reads'</span>, <span class="hljs-string">'Innodb_buffer_pool_read_requests'</span>);
</code></pre>
<ul>
<li><strong>ç†æƒ³å€¼</strong>ï¼š <strong>&gt; 99%</strong> ï¼ˆå³ 99% çš„è¯»æ¥è‡ªå†…å­˜ï¼‰</li>
<li><strong>è­¦æˆ’çº¿</strong>ï¼š&lt; 95% â†’ å¯èƒ½éœ€è¦å¢å¤§ <code>innodb_buffer_pool_size</code></li>
</ul>
<blockquote>
<p>ğŸ’¡ ç¤ºä¾‹ï¼š<br/>
è‹¥ <code>Innodb_buffer_pool_read_requests = 1,000,000</code>ï¼Œ<br/>
<code>Innodb_buffer_pool_reads = 10,000</code>ï¼Œ<br/>
åˆ™å‘½ä¸­ç‡ = (1 - 10,000 / 1,000,000) Ã— 100% = <strong>99%</strong> âœ…</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å››ã€å½±å“é€»è¾‘è¯»/ç‰©ç†è¯»çš„å› ç´ </h2>



































<table><thead><tr><th>å› ç´ </th><th>å¯¹é€»è¾‘è¯»çš„å½±å“</th><th>å¯¹ç‰©ç†è¯»çš„å½±å“</th></tr></thead><tbody><tr><td><strong>Buffer Pool å¤§å°</strong></td><td>è¶Šå¤§ï¼Œé€»è¾‘è¯»è¶Šå¤š</td><td>è¶Šå°ï¼Œç‰©ç†è¯»è¶Šå¤š</td></tr><tr><td><strong>æ•°æ®è®¿é—®æ¨¡å¼</strong></td><td>çƒ­ç‚¹æ•°æ®å¤š â†’ é€»è¾‘è¯»é«˜</td><td>å…¨è¡¨æ‰«æ/å†·æ•°æ® â†’ ç‰©ç†è¯»é«˜</td></tr><tr><td><strong>æŸ¥è¯¢æ˜¯å¦èµ°ç´¢å¼•</strong></td><td>ç´¢å¼•è¦†ç›– â†’ å‡å°‘é¡µè¯»å–é‡</td><td>å…¨è¡¨æ‰«æ â†’ å¤§é‡ç‰©ç†è¯»</td></tr><tr><td><strong>æœåŠ¡å™¨é‡å¯</strong></td><td>Buffer Pool æ¸…ç©º â†’ åˆæœŸç‰©ç†è¯»æ¿€å¢</td><td>â€”</td></tr><tr><td><strong>å¹¶å‘æŸ¥è¯¢</strong></td><td>å…±äº«çƒ­ç‚¹é¡µ â†’ æå‡é€»è¾‘è¯»æ¯”ä¾‹</td><td>äº‰æŠ¢ I/O â†’ ç‰©ç†è¯»æ’é˜Ÿ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-9">äº”ã€ä¼˜åŒ–å»ºè®®ï¼šå¦‚ä½•å‡å°‘ç‰©ç†è¯»ï¼Œæå‡é€»è¾‘è¯»ï¼Ÿ</h2>
<h3 data-id="heading-10">âœ… 1. <strong>åˆç†é…ç½® <code>innodb_buffer_pool_size</code></strong></h3>
<ul>
<li>å»ºè®®è®¾ç½®ä¸º <strong>ç‰©ç†å†…å­˜çš„ 50%~75%</strong> ï¼ˆä¸“ç”¨æ•°æ®åº“æœåŠ¡å™¨ï¼‰ï¼›</li>
<li>ç›‘æ§å‘½ä¸­ç‡ï¼ŒåŠ¨æ€è°ƒæ•´ã€‚</li>
</ul>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># my.cnf</span>
<span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">innodb_buffer_pool_size</span> = <span class="hljs-number">8</span>G
</code></pre>
<h3 data-id="heading-11">âœ… 2. <strong>è®¾è®¡é«˜æ•ˆç´¢å¼•ï¼Œé¿å…å…¨è¡¨æ‰«æ</strong></h3>
<ul>
<li>ä½¿ç”¨ <strong>è¦†ç›–ç´¢å¼•ï¼ˆCovering Indexï¼‰</strong> å‡å°‘å›è¡¨ï¼›</li>
<li>ç¡®ä¿ <code>WHERE</code>ã€<code>ORDER BY</code> å­—æ®µèƒ½åˆ©ç”¨ç´¢å¼•ã€‚</li>
</ul>
<h3 data-id="heading-12">âœ… 3. <strong>é¢„çƒ­ Buffer Poolï¼ˆé€‚ç”¨äºé‡å¯åï¼‰</strong></h3>
<ul>
<li>
<p>MySQL 5.6+ æ”¯æŒ <strong>Buffer Pool é¢„çƒ­/è½¬å‚¨</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">innodb_buffer_pool_dump_at_shutdown</span> = <span class="hljs-literal">ON</span>
<span class="hljs-attr">innodb_buffer_pool_load_at_startup</span> = <span class="hljs-literal">ON</span>
</code></pre>
</li>
<li>
<p>é‡å¯æ—¶è‡ªåŠ¨åŠ è½½ä¸Šæ¬¡çš„çƒ­ç‚¹é¡µï¼Œé¿å…â€œå†·å¯åŠ¨â€é—®é¢˜ã€‚</p>
</li>
</ul>
<h3 data-id="heading-13">âœ… 4. <strong>é¿å…å¤§ç»“æœé›†æŸ¥è¯¢</strong></h3>
<ul>
<li>åˆ†é¡µä½¿ç”¨æ¸¸æ ‡ï¼ˆ<code>WHERE id &gt; last_id</code>ï¼‰è€Œé <code>LIMIT 100000, 10</code>ï¼›</li>
<li>é™åˆ¶å•æ¬¡æŸ¥è¯¢è¿”å›è¡Œæ•°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-14">å…­ã€å¸¸è§è¯¯åŒºæ¾„æ¸…</h2>
<h3 data-id="heading-15">âŒ è¯¯åŒº1ï¼šâ€œé€»è¾‘è¯»å°±æ˜¯ SELECT æ¬¡æ•°â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šé€»è¾‘è¯»æ˜¯ <strong>â€œé¡µè¯»å–æ¬¡æ•°â€</strong> ï¼Œä¸æ˜¯è¡Œæ•°æˆ– SQL æ¡æ•°ã€‚<br/>
ä¸€æ¡ <code>SELECT * FROM big_table</code> å¯èƒ½è§¦å‘ä¸Šä¸‡æ¬¡é€»è¾‘è¯»ï¼</li>
</ul>
<h3 data-id="heading-16">âŒ è¯¯åŒº2ï¼šâ€œç‰©ç†è¯»è¶Šå°‘è¶Šå¥½ï¼Œæœ€å¥½ä¸º 0â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šæ–°æ•°æ®é¦–æ¬¡è®¿é—®å¿…ç„¶è§¦å‘ç‰©ç†è¯»ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡ã€‚<br/>
å…³æ³¨çš„æ˜¯ <strong>æ¯”ä¾‹</strong>ï¼ˆå‘½ä¸­ç‡ï¼‰ï¼Œè€Œéç»å¯¹å€¼ã€‚</li>
</ul>
<h3 data-id="heading-17">âŒ è¯¯åŒº3ï¼šâ€œSSD å¿«ï¼Œç‰©ç†è¯»æ— æ‰€è°“â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šå³ä½¿ SSDï¼Œå†…å­˜è®¿é—®ä»æ¯”ç£ç›˜å¿« <strong>1000 å€ä»¥ä¸Š</strong>ã€‚<br/>
é«˜å¹¶å‘ä¸‹ï¼Œå¤§é‡ç‰©ç†è¯»ä»ä¼šå¯¼è‡´ I/O é˜Ÿåˆ—å †ç§¯ã€å»¶è¿Ÿé£™å‡ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-18">ä¸ƒã€å®æˆ˜æ¡ˆä¾‹ï¼šä¸€æ¬¡æ…¢æŸ¥è¯¢çš„åˆ†æ</h2>
<p><strong>é—®é¢˜</strong>ï¼šæŸæŠ¥è¡¨æŸ¥è¯¢è€—æ—¶ 15 ç§’ã€‚</p>
<p><strong>æ’æŸ¥æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>
<p>æ‰§è¡Œ <code>EXPLAIN</code>ï¼šå‘ç° <strong>å…¨è¡¨æ‰«æ</strong>ï¼ˆtype=ALLï¼‰ï¼›</p>
</li>
<li>
<p>æŸ¥çœ‹çŠ¶æ€å˜é‡ï¼š</p>
<ul>
<li><code>Innodb_buffer_pool_read_requests</code>: 120,000</li>
<li><code>Innodb_buffer_pool_reads</code>: 85,000 â†’ å‘½ä¸­ç‡ä»… 29%ï¼</li>
</ul>
</li>
<li>
<p><strong>æ ¹å› </strong>ï¼šæ— åˆé€‚ç´¢å¼• + Buffer Pool æ— æ³•ç¼“å­˜å…¨è¡¨ï¼›</p>
</li>
<li>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>æ·»åŠ è”åˆç´¢å¼• <code>(status, create_time)</code>ï¼›</li>
<li>æŸ¥è¯¢æ”¹å†™ä¸ºåªæŸ¥å¿…è¦å­—æ®µï¼›</li>
</ul>
</li>
<li>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>æŸ¥è¯¢æ—¶é—´é™è‡³ 80msï¼›</li>
<li>é€»è¾‘è¯»å æ¯”æå‡è‡³ 99.8%ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-19">å…«ã€æ€»ç»“</h2>






























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>é€»è¾‘è¯»</th><th>ç‰©ç†è¯»</th></tr></thead><tbody><tr><td><strong>æ¥æº</strong></td><td>Buffer Poolï¼ˆå†…å­˜ï¼‰</td><td>ç£ç›˜/SSD</td></tr><tr><td><strong>é€Ÿåº¦</strong></td><td>æå¿«ï¼ˆns çº§ï¼‰</td><td>æ…¢ï¼ˆms çº§ï¼‰</td></tr><tr><td><strong>æ€§èƒ½å½±å“</strong></td><td>æ­£å‘ï¼ˆé«˜æ•ˆï¼‰</td><td>è´Ÿå‘ï¼ˆç“¶é¢ˆï¼‰</td></tr><tr><td><strong>ä¼˜åŒ–ç›®æ ‡</strong></td><td><strong>æœ€å¤§åŒ–</strong></td><td><strong>æœ€å°åŒ–</strong></td></tr></tbody></table>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼š</p>
<blockquote>
<p><strong>è®©æ•°æ®å°½å¯èƒ½â€œå¾…åœ¨å†…å­˜é‡Œâ€ï¼Œå‡å°‘å»ç£ç›˜â€œè·‘è…¿â€çš„æ¬¡æ•°ã€‚</strong></p>
</blockquote>
<p>é€šè¿‡åˆç†é…ç½® Buffer Poolã€è®¾è®¡é«˜æ•ˆç´¢å¼•ã€ç›‘æ§å‘½ä¸­ç‡ï¼Œä½ å¯ä»¥æ˜¾è‘—æå‡ MySQL çš„æŸ¥è¯¢æ€§èƒ½ï¼Œæ‰“é€ é«˜ååã€ä½å»¶è¿Ÿçš„æ•°æ®åº“æœåŠ¡ã€‚</p>
<hr/>
<p><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.0%2Fen%2Finnodb-buffer-pool.html" target="_blank" title="https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html" ref="nofollow noopener noreferrer">MySQL å®˜æ–¹æ–‡æ¡£ï¼šInnoDB Buffer Pool</a></li>
<li>ã€Šé«˜æ€§èƒ½ MySQLã€‹ç¬¬ 3 ç« ï¼šæœåŠ¡å™¨æ€§èƒ½å‰–æ</li>
<li>ä½¿ç”¨ <code>pt-query-digest</code> åˆ†ææ…¢æŸ¥è¯¢ä¸­çš„ I/O æ¨¡å¼</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python æ³¨å†Œè¡¨æ¨¡å¼ï¼ˆRegistry Patternï¼‰è¯¦è§£ï¼šæ„å»ºå¯æ‰©å±•ã€æ’ä»¶åŒ–çš„ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7602581823639420928</link>    <guid>https://juejin.cn/post/7602581823639420928</guid>    <pubDate>2026-02-04T13:43:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602581823639420928" data-draft-id="7602800677711642658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python æ³¨å†Œè¡¨æ¨¡å¼ï¼ˆRegistry Patternï¼‰è¯¦è§£ï¼šæ„å»ºå¯æ‰©å±•ã€æ’ä»¶åŒ–çš„ç³»ç»Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-04T13:43:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python æ³¨å†Œè¡¨æ¨¡å¼ï¼ˆRegistry Patternï¼‰è¯¦è§£ï¼šæ„å»ºå¯æ‰©å±•ã€æ’ä»¶åŒ–çš„ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T13:43:52.000Z" title="Wed Feb 04 2026 13:43:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Python æ³¨å†Œè¡¨æ¨¡å¼ï¼ˆRegistry Patternï¼‰è¯¦è§£ï¼šæ„å»ºå¯æ‰©å±•ã€æ’ä»¶åŒ–çš„ç³»ç»Ÿ</h2>
<p>åœ¨å¼€å‘å¤§å‹åº”ç”¨æˆ–æ¡†æ¶æ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦<strong>åŠ¨æ€å‘ç°å’Œç®¡ç†ç»„ä»¶</strong>ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>è‡ªåŠ¨æ³¨å†Œæ‰€æœ‰ API è·¯ç”±</li>
<li>åŠ è½½æ‰€æœ‰æ•°æ®åº“æ¨¡å‹</li>
<li>å‘ç°æ‰€æœ‰å‘½ä»¤è¡Œå­å‘½ä»¤</li>
<li>ç®¡ç†æ‰€æœ‰æ”¯ä»˜ç½‘å…³æ’ä»¶</li>
</ul>
<p>å¦‚æœæ¯æ¬¡æ–°å¢ç»„ä»¶éƒ½è¦æ‰‹åŠ¨ä¿®æ”¹ä¸»ç¨‹åºé€»è¾‘ï¼Œç³»ç»Ÿå°†å˜å¾—<strong>è„†å¼±ã€éš¾ä»¥ç»´æŠ¤ã€è¿åå¼€é—­åŸåˆ™</strong>ã€‚</p>
<p><strong>æ³¨å†Œè¡¨æ¨¡å¼ï¼ˆRegistry Patternï¼‰</strong> æ­£æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„ç»å…¸è®¾è®¡æ¨¡å¼ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯æ³¨å†Œè¡¨æ¨¡å¼ï¼Ÿ</h3>
<blockquote>
<p><strong>æ³¨å†Œè¡¨æ¨¡å¼</strong> æ˜¯ä¸€ç§ç”¨äº<strong>é›†ä¸­ç®¡ç†å¯¹è±¡æˆ–ç±»çš„åˆ›å»ºä¸æŸ¥æ‰¾</strong>çš„è®¾è®¡æ¨¡å¼ã€‚å®ƒé€šè¿‡ä¸€ä¸ªå…¨å±€çš„â€œæ³¨å†Œä¸­å¿ƒâ€ï¼ˆRegistryï¼‰ï¼Œè®©ç»„ä»¶åœ¨å®šä¹‰æ—¶è‡ªåŠ¨æ³¨å†Œè‡ªå·±ï¼Œä¾›åç»­æŒ‰åç§°æˆ–ç±»å‹åŠ¨æ€è·å–ã€‚</p>
</blockquote>
<h4 data-id="heading-2">ğŸ¯ æ ¸å¿ƒæ€æƒ³ï¼š</h4>
<ul>
<li><strong>è§£è€¦ç»„ä»¶å®šä¹‰ä¸ä½¿ç”¨</strong></li>
<li><strong>æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€å‘ç°</strong></li>
<li><strong>å®ç°æ’ä»¶åŒ–ã€å¯æ‰©å±•æ¶æ„</strong></li>
</ul>
<hr/>
<h3 data-id="heading-3">äºŒã€æ³¨å†Œè¡¨æ¨¡å¼ vs å·¥å‚æ¨¡å¼ vs ç­–ç•¥æ¨¡å¼</h3>

























<table><thead><tr><th>æ¨¡å¼</th><th>ç›®çš„</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>æ³¨å†Œè¡¨æ¨¡å¼</strong></td><td><strong>é›†ä¸­ç®¡ç†å·²çŸ¥ç»„ä»¶</strong></td><td>ç»„ä»¶â€œè‡ªæ³¨å†Œâ€ï¼Œæ”¯æŒåŠ¨æ€å‘ç°</td></tr><tr><td><strong>å·¥å‚æ¨¡å¼</strong></td><td><strong>å°è£…å¯¹è±¡åˆ›å»ºé€»è¾‘</strong></td><td>å®¢æˆ·ç«¯ä¸å…³å¿ƒå…·ä½“ç±»</td></tr><tr><td><strong>ç­–ç•¥æ¨¡å¼</strong></td><td><strong>åŠ¨æ€åˆ‡æ¢ç®—æ³•è¡Œä¸º</strong></td><td>è¡Œä¸ºå¯æ›¿æ¢</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>æ³¨å†Œè¡¨å¸¸ä½œä¸ºå·¥å‚/ç­–ç•¥çš„åº•å±‚æ”¯æ’‘</strong>ï¼š<br/>
å·¥å‚ä»æ³¨å†Œè¡¨ä¸­æŸ¥æ‰¾å…·ä½“å®ç°æ¥åˆ›å»ºå¯¹è±¡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">ä¸‰ã€Python å®ç°æ³¨å†Œè¡¨æ¨¡å¼çš„ 4 ç§æ–¹å¼</h3>
<h4 data-id="heading-5">æ–¹å¼1ï¼šåŸºäºå­—å…¸çš„ç®€å•æ³¨å†Œè¡¨ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># registry.py</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentRegistry</span>:
    _registry = {}

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">register</span>(<span class="hljs-params">cls, name: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-string">"""è£…é¥°å™¨ï¼šæ³¨å†Œæ”¯ä»˜æ–¹å¼"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">payment_class</span>):
            cls._registry[name] = payment_class
            <span class="hljs-keyword">return</span> payment_class
        <span class="hljs-keyword">return</span> decorator

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">cls, name: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-string">"""è·å–æ”¯ä»˜ç±»"""</span>
        <span class="hljs-keyword">if</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> cls._registry:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"Unknown payment method: <span class="hljs-subst">{name}</span>"</span>)
        <span class="hljs-keyword">return</span> cls._registry[name]

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-meta">@PaymentRegistry.register(<span class="hljs-params"><span class="hljs-string">"alipay"</span></span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Alipay</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">self, amount</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"Paid <span class="hljs-subst">{amount}</span> via Alipay"</span>

<span class="hljs-meta">@PaymentRegistry.register(<span class="hljs-params"><span class="hljs-string">"wechat"</span></span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WechatPay</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">self, amount</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"Paid <span class="hljs-subst">{amount}</span> via WeChat"</span>

<span class="hljs-comment"># åŠ¨æ€ä½¿ç”¨</span>
method = PaymentRegistry.get(<span class="hljs-string">"alipay"</span>)()
<span class="hljs-built_in">print</span>(method.pay(<span class="hljs-number">100</span>))  <span class="hljs-comment"># Paid 100 via Alipay</span>
</code></pre>
<p>âœ… <strong>ä¼˜ç‚¹</strong>ï¼šç®€æ´ã€ç›´è§‚ã€æ”¯æŒè£…é¥°å™¨è¯­æ³•<br/>
âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ’ä»¶ç³»ç»Ÿã€å‘½ä»¤æ³¨å†Œã€è·¯ç”±ç®¡ç†</p>
<hr/>
<h4 data-id="heading-6">æ–¹å¼2ï¼šåŸºäºå…ƒç±»ï¼ˆMetaclassï¼‰çš„è‡ªåŠ¨æ³¨å†Œï¼ˆé«˜çº§ï¼‰</h4>
<p>é€‚ç”¨äº<strong>æ‰€æœ‰å­ç±»è‡ªåŠ¨æ³¨å†Œ</strong>çš„åœºæ™¯ï¼ˆå¦‚ Django ORM æ¨¡å‹ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"># å®šä¹‰åŸºç±» + å…ƒç±»
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ModelMeta</span>(type):
    registry = {}

    def __new__(cls, name, bases, attrs):
        new_class = <span class="hljs-keyword">super</span>().__new__(cls, name, bases, attrs)
        <span class="hljs-keyword">if</span> name != <span class="hljs-string">"BaseModel"</span>:  # æ’é™¤åŸºç±»è‡ªèº«
            ModelMeta.registry[name.lower()] = new_<span class="hljs-keyword">class</span>
        <span class="hljs-title class_">return</span> <span class="hljs-title">new_class</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseModel</span>(metaclass=ModelMeta):
    pass

# å­ç±»è‡ªåŠ¨æ³¨å†Œ
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(BaseModel):
    pass

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span>(BaseModel):
    pass

# æŸ¥çœ‹æ³¨å†Œç»“æœ
print(ModelMeta.registry)  # {<span class="hljs-string">'user'</span>: &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">'__main__.User'</span>&gt;, <span class="hljs-string">'order'</span>: &lt;<span class="hljs-keyword">class</span> <span class="hljs-string">'__main__.Order'</span>&gt;}
</code></pre>
<p>âœ… <strong>ä¼˜ç‚¹</strong>ï¼šæ— éœ€æ˜¾å¼è°ƒç”¨æ³¨å†Œï¼Œå­ç±»å®šä¹‰å³æ³¨å†Œ<br/>
âš ï¸ <strong>ç¼ºç‚¹</strong>ï¼šå…ƒç±»è¾ƒéš¾ç†è§£ï¼Œè°ƒè¯•å¤æ‚</p>
<hr/>
<h4 data-id="heading-7">æ–¹å¼3ï¼šç»“åˆ <code>__init_subclass__</code>ï¼ˆPython 3.6+ æ¨èï¼‰</h4>
<p>æ¯”å…ƒç±»æ›´ç®€æ´ã€æ›´ Pythonic çš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Command</span>:
    registry = {}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init_subclass__</span>(<span class="hljs-params">cls, **kwargs</span>):
        <span class="hljs-variable language_">super</span>().__init_subclass__(**kwargs)
        <span class="hljs-comment"># è‡ªåŠ¨æ³¨å†Œå­ç±»ï¼ˆä½¿ç”¨ç±»åå°å†™ï¼‰</span>
        <span class="hljs-title class_">Command</span>.registry[cls.__name__.lower()] = cls

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CreateCommand</span>(<span class="hljs-title class_">Command</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Creating..."</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DeleteCommand</span>(<span class="hljs-title class_">Command</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Deleting..."</span>

<span class="hljs-comment"># è‡ªåŠ¨æ³¨å†Œå®Œæˆï¼</span>
cmd = <span class="hljs-title class_">Command</span>.registry[<span class="hljs-string">"createcommand"</span>]()
print(cmd.execute())  <span class="hljs-comment"># Creating...</span>
</code></pre>
<p>âœ… <strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ— éœ€å…ƒç±»ï¼Œä»£ç æ›´æ¸…æ™°</li>
<li>è‡ªåŠ¨æ³¨å†Œæ‰€æœ‰å­ç±»</li>
<li>æ”¯æŒè‡ªå®šä¹‰æ³¨å†Œé€»è¾‘ï¼ˆå¦‚æŒ‡å®šåˆ«åï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-8">æ–¹å¼4ï¼šå¸¦éªŒè¯å’Œç”Ÿå‘½å‘¨æœŸçš„å®Œæ•´æ³¨å†Œè¡¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span>, <span class="hljs-type">Type</span>, <span class="hljs-type">Callable</span>, <span class="hljs-type">Any</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentRegistry</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self._components: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Type</span>] = {}
        self._validators: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Callable</span>] = {}
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">register</span>(<span class="hljs-params">self, name: <span class="hljs-built_in">str</span>, validator: <span class="hljs-type">Callable</span> = <span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""æ³¨å†Œç»„ä»¶ï¼Œå¯é€‰éªŒè¯å‡½æ•°"""</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">cls</span>):
            <span class="hljs-keyword">if</span> name <span class="hljs-keyword">in</span> self._components:
                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"Component '<span class="hljs-subst">{name}</span>' already registered!"</span>)
            
            <span class="hljs-comment"># æ‰§è¡ŒéªŒè¯ï¼ˆå¦‚æ£€æŸ¥æ˜¯å¦å®ç°å¿…è¦æ–¹æ³•ï¼‰</span>
            <span class="hljs-keyword">if</span> validator:
                validator(cls)
            
            self._components[name] = cls
            <span class="hljs-keyword">return</span> cls
        <span class="hljs-keyword">return</span> decorator
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create</span>(<span class="hljs-params">self, name: <span class="hljs-built_in">str</span>, *args, **kwargs</span>) -&gt; <span class="hljs-type">Any</span>:
        <span class="hljs-string">"""åˆ›å»ºç»„ä»¶å®ä¾‹"""</span>
        <span class="hljs-keyword">if</span> name <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self._components:
            <span class="hljs-keyword">raise</span> KeyError(<span class="hljs-string">f"Component '<span class="hljs-subst">{name}</span>' not found!"</span>)
        <span class="hljs-keyword">return</span> self._components[name](*args, **kwargs)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_components</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>(self._components.keys())

<span class="hljs-comment"># ä½¿ç”¨</span>
registry = ComponentRegistry()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_has_run_method</span>(<span class="hljs-params">cls</span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">hasattr</span>(cls, <span class="hljs-string">'run'</span>):
        <span class="hljs-keyword">raise</span> TypeError(<span class="hljs-string">f"<span class="hljs-subst">{cls.__name__}</span> must implement 'run' method"</span>)

<span class="hljs-meta">@registry.register(<span class="hljs-params"><span class="hljs-string">"task_a"</span>, validator=validate_has_run_method</span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskA</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Running Task A"</span>

<span class="hljs-comment"># å°è¯•æ³¨å†Œæ— æ•ˆç»„ä»¶ï¼ˆä¼šæŠ¥é”™ï¼‰</span>
<span class="hljs-comment"># @registry.register("bad_task")</span>
<span class="hljs-comment"># class BadTask: pass  # ç¼ºå°‘ run æ–¹æ³• â†’ æŠ›å¼‚å¸¸</span>

<span class="hljs-comment"># åˆ›å»ºå®ä¾‹</span>
task = registry.create(<span class="hljs-string">"task_a"</span>)
<span class="hljs-built_in">print</span>(task.run())  <span class="hljs-comment"># Running Task A</span>
</code></pre>
<p>âœ… <strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ¡†æ¶å¼€å‘ã€ä¸¥æ ¼æ’ä»¶è§„èŒƒ</p>
<hr/>
<h3 data-id="heading-9">å››ã€å…¸å‹åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-10">åœºæ™¯1ï¼šWeb æ¡†æ¶ä¸­çš„è·¯ç”±æ³¨å†Œï¼ˆå¦‚ Flaskï¼‰</h4>
<pre><code class="hljs language-python" lang="python">app = Flask(__name__)

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">"/home"</span></span>)  </span><span class="hljs-comment"># è£…é¥°å™¨å°†è§†å›¾å‡½æ•°æ³¨å†Œåˆ°è·¯ç”±è¡¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">home</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello"</span>
</code></pre>
<blockquote>
<p>Flask å†…éƒ¨ç»´æŠ¤ä¸€ä¸ª URL â†’ å‡½æ•° çš„æ³¨å†Œè¡¨ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-11">åœºæ™¯2ï¼šå‘½ä»¤è¡Œå·¥å…·çš„å­å‘½ä»¤ç®¡ç†ï¼ˆå¦‚ Clickï¼‰</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@click</span>.<span class="hljs-built_in">group</span>()
def <span class="hljs-built_in">cli</span>():
    pass

<span class="hljs-variable">@cli</span>.<span class="hljs-built_in">command</span>()
def <span class="hljs-built_in">init</span>():
    click.<span class="hljs-built_in">echo</span>(<span class="hljs-string">"Init project"</span>)

<span class="hljs-variable">@cli</span>.<span class="hljs-built_in">command</span>()
def <span class="hljs-built_in">deploy</span>():
    click.<span class="hljs-built_in">echo</span>(<span class="hljs-string">"Deploy app"</span>)
</code></pre>
<blockquote>
<p>Click è‡ªåŠ¨æ”¶é›†æ‰€æœ‰ <code>@command</code> è£…é¥°çš„å‡½æ•°ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-12">åœºæ™¯3ï¼šæœºå™¨å­¦ä¹ ä¸­çš„æ¨¡å‹æ³¨å†Œ</h4>
<pre><code class="hljs language-python" lang="python">MODELS = Registry()

<span class="hljs-meta">@MODELS.register(<span class="hljs-params"><span class="hljs-string">"random_forest"</span></span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomForestModel</span>:
    <span class="hljs-keyword">pass</span>

<span class="hljs-meta">@MODELS.register(<span class="hljs-params"><span class="hljs-string">"xgboost"</span></span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">XGBoostModel</span>:
    <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># ä»é…ç½®æ–‡ä»¶åŠ¨æ€åŠ è½½</span>
model_name = config[<span class="hljs-string">"model"</span>]
model = MODELS.create(model_name)
</code></pre>
<hr/>
<h4 data-id="heading-13">åœºæ™¯4ï¼šæ¸¸æˆå¼€å‘ä¸­çš„æŠ€èƒ½/é“å…·ç³»ç»Ÿ</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">SKILLS = Registry()

<span class="hljs-meta">@SKILLS</span>.register(<span class="hljs-string">"fireball"</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FireballSkill</span>:
    <span class="hljs-type">damage</span> = 100

<span class="hljs-meta">@SKILLS</span>.register(<span class="hljs-string">"heal"</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HealSkill</span>:
    <span class="hljs-type">heal_amount</span> = 50

# æ ¹æ®ç©å®¶é€‰æ‹©åŠ¨æ€åˆ›å»ºæŠ€èƒ½
skill = SKILLS.create(player_selected_skill)
</code></pre>
<hr/>
<h3 data-id="heading-14">äº”ã€æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h3>
<h4 data-id="heading-15">âœ… æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>ä½¿ç”¨è£…é¥°å™¨è¯­æ³•</strong>ï¼š<code>@registry.register("name")</code> æ›´ç›´è§‚</li>
<li><strong>æ”¯æŒåˆ«åæ³¨å†Œ</strong>ï¼šå…è®¸ä¸€ä¸ªç»„ä»¶æœ‰å¤šä¸ªåç§°</li>
<li><strong>æä¾›åˆ—è¡¨æŸ¥è¯¢æ¥å£</strong>ï¼š<code>registry.list()</code> ä¾¿äºè°ƒè¯•</li>
<li><strong>åŠ å…¥éªŒè¯æœºåˆ¶</strong>ï¼šç¡®ä¿æ³¨å†Œçš„ç»„ä»¶ç¬¦åˆæ¥å£è§„èŒƒ</li>
<li><strong>çº¿ç¨‹å®‰å…¨è€ƒè™‘</strong>ï¼šå¤šçº¿ç¨‹ç¯å¢ƒä¸‹åŠ é”ï¼ˆé€šå¸¸æ³¨å†Œå‘ç”Ÿåœ¨å¯åŠ¨é˜¶æ®µï¼Œæ— éœ€æ‹…å¿ƒï¼‰</li>
</ol>
<h4 data-id="heading-16">âš ï¸ æ³¨æ„äº‹é¡¹</h4>
<ul>
<li><strong>é¿å…å…¨å±€çŠ¶æ€æ±¡æŸ“</strong>ï¼šæ³¨å†Œè¡¨åº”ä½œç”¨åŸŸæ˜ç¡®ï¼ˆå¦‚æ¨¡å—çº§ï¼Œè€Œéè·¨æ¨¡å—å…±äº«ï¼‰</li>
<li><strong>é˜²æ­¢é‡å¤æ³¨å†Œ</strong>ï¼šåº”æŠ›å‡ºå¼‚å¸¸æˆ–è¦†ç›–ï¼ˆæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼‰</li>
<li><strong>ä¸è¦æ»¥ç”¨</strong>ï¼šç®€å•åœºæ™¯ç›´æ¥ç”¨å­—å…¸å³å¯ï¼Œä¸å¿…å¼ºè¡Œå¥—æ¨¡å¼</li>
</ul>
<hr/>
<h3 data-id="heading-17">å…­ã€æ€»ç»“</h3>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒä»·å€¼</strong></td><td>è§£è€¦ç»„ä»¶å®šä¹‰ä¸ä½¿ç”¨ï¼Œæ”¯æŒåŠ¨æ€å‘ç°</td></tr><tr><td><strong>å…³é”®ç»„ä»¶</strong></td><td>æ³¨å†Œä¸­å¿ƒï¼ˆå­—å…¸/ç±»ï¼‰ã€æ³¨å†Œæœºåˆ¶ï¼ˆè£…é¥°å™¨/å…ƒç±»ï¼‰ã€è·å–æ¥å£</td></tr><tr><td><strong>Python ä¼˜åŠ¿</strong></td><td>å‡½æ•°/ç±»æ˜¯ä¸€ç­‰å…¬æ°‘ï¼Œè£…é¥°å™¨å’Œå…ƒç±»è®©å®ç°æå…¶ç®€æ´</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>æ’ä»¶ç³»ç»Ÿã€æ¡†æ¶å¼€å‘ã€å‘½ä»¤ç®¡ç†ã€ç­–ç•¥é›†åˆ</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>è®°ä½</strong>ï¼š<br/>
<strong>â€œå¥½çš„æ³¨å†Œè¡¨ï¼Œè®©æ–°å¢åŠŸèƒ½åªéœ€å†™æ–°ä»£ç ï¼Œæ— éœ€æ”¹æ—§ä»£ç ã€‚â€</strong></p>
</blockquote>
<p>æ³¨å†Œè¡¨æ¨¡å¼æ˜¯æ„å»º<strong>å¯æ‰©å±•ã€å¯ç»´æŠ¤ã€æ’ä»¶åŒ–ç³»ç»Ÿ</strong>çš„åŸºçŸ³ã€‚æŒæ¡å®ƒï¼Œä½ å°±èƒ½åƒ Flaskã€Djangoã€Click ç­‰ä¼˜ç§€æ¡†æ¶ä¸€æ ·ï¼Œè®¾è®¡å‡ºä¼˜é›…çš„æ‰©å±•æœºåˆ¶ã€‚</p>
<hr/>
<p><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼š</p>
<ul>
<li>ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹â€”â€” æ³¨å†Œè¡¨è™½é GoF 23 ç§ä¹‹ä¸€ï¼Œä½†å¹¿æ³›åº”ç”¨</li>
<li>Python å®˜æ–¹æ–‡æ¡£ï¼š<code>__init_subclass__</code>ã€è£…é¥°å™¨ã€å…ƒç±»</li>
<li>æºç å­¦ä¹ ï¼šFlask çš„ <code>@app.route</code>ã€Django çš„ model registry</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Django ä¸­çš„å±æ€§ä»£ç†æ¨¡å¼ï¼šæ­ç§˜ `django.core.cache.cache` çš„é­”æ³•]]></title>    <link>https://juejin.cn/post/7602581823639470080</link>    <guid>https://juejin.cn/post/7602581823639470080</guid>    <pubDate>2026-02-04T14:00:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602581823639470080" data-draft-id="7602800677711675426" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Django ä¸­çš„å±æ€§ä»£ç†æ¨¡å¼ï¼šæ­ç§˜ `django.core.cache.cache` çš„é­”æ³•"/> <meta itemprop="keywords" content="Django"/> <meta itemprop="datePublished" content="2026-02-04T14:00:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Django ä¸­çš„å±æ€§ä»£ç†æ¨¡å¼ï¼šæ­ç§˜ `django.core.cache.cache` çš„é­”æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T14:00:39.000Z" title="Wed Feb 04 2026 14:00:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Django å¼€å‘ä¸­ï¼Œä½ å¯èƒ½æ—©å·²ä¹ æƒ¯è¿™æ ·ä½¿ç”¨ç¼“å­˜ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">from django.core.cache <span class="hljs-keyword">import</span> cache

cache.<span class="hljs-keyword">set</span>(<span class="hljs-string">"user:1001"</span>, user_data, timeout=<span class="hljs-number">300</span>)
<span class="hljs-keyword">data</span> = cache.<span class="hljs-keyword">get</span>(<span class="hljs-string">"user:1001"</span>)
</code></pre>
<p>ä½†ä½ æ˜¯å¦å¥½å¥‡ï¼š</p>
<blockquote>
<p><strong><code>cache</code> åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå®ƒå¦‚ä½•åœ¨ä¸ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹ï¼Œæ— ç¼åˆ‡æ¢ Redisã€Memcached æˆ–æœ¬åœ°å†…å­˜ç¼“å­˜ï¼Ÿ</strong></p>
</blockquote>
<p>ç­”æ¡ˆå°±è—åœ¨ Django çš„ä¸€ä¸ªç²¾å·§è®¾è®¡ä¸­ â€”â€” <strong>å±æ€§ä»£ç†æ¨¡å¼ï¼ˆAttribute Proxy Patternï¼‰</strong> ã€‚æœ¬æ–‡å°†å¸¦ä½ æ­å¼€è¿™å±‚ç¥ç§˜é¢çº±ï¼Œå¹¶æ·±å…¥ç†è§£å…¶åœ¨ç¼“å­˜ç³»ç»Ÿä¸­çš„æ ¸å¿ƒä½œç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯å±æ€§ä»£ç†æ¨¡å¼ï¼Ÿ</h2>
<blockquote>
<p><strong>å±æ€§ä»£ç†æ¨¡å¼</strong> æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œé€šè¿‡ä¸€ä¸ª<strong>ä»£ç†å¯¹è±¡</strong>å°†å¯¹å±æ€§æˆ–æ–¹æ³•çš„è®¿é—®<strong>è½¬å‘ï¼ˆdelegateï¼‰</strong> ç»™å¦ä¸€ä¸ªçœŸå®å¯¹è±¡ï¼Œè€Œè°ƒç”¨è€…å¯¹æ­¤å®Œå…¨æ— æ„ŸçŸ¥ã€‚</p>
</blockquote>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹ç‚¹ï¼š</h3>
<ul>
<li><strong>é€æ˜æ€§</strong>ï¼šå®¢æˆ·ç«¯åƒä½¿ç”¨æ™®é€šå¯¹è±¡ä¸€æ ·ä½¿ç”¨ä»£ç†ï¼›</li>
<li><strong>è§£è€¦æ€§</strong>ï¼šçœŸå®å¯¹è±¡å¯åŠ¨æ€æ›¿æ¢ï¼Œä¸å½±å“è°ƒç”¨æ–¹ï¼›</li>
<li><strong>å»¶è¿Ÿåˆå§‹åŒ–</strong>ï¼šçœŸå®å¯¹è±¡å¯åœ¨é¦–æ¬¡è®¿é—®æ—¶æ‰åˆ›å»ºã€‚</li>
</ul>
<p>åœ¨ Python ä¸­ï¼Œå¯é€šè¿‡é‡å†™ <code>__getattr__</code>ã€<code>__setattr__</code> ç­‰é­”æœ¯æ–¹æ³•å®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€Django ç¼“å­˜ç³»ç»Ÿçš„æ¶æ„è®¾è®¡</h2>
<p>Django æ”¯æŒå¤šç§ç¼“å­˜åç«¯ï¼š</p>
<ul>
<li><code>LocMemCache</code>ï¼ˆæœ¬åœ°å†…å­˜ï¼‰</li>
<li><code>RedisCache</code></li>
<li><code>MemcachedCache</code></li>
<li><code>DatabaseCache</code></li>
<li>è‡ªå®šä¹‰åç«¯</li>
</ul>
<p>ä½†æ— è®ºä½¿ç”¨å“ªç§ï¼Œå¼€å‘è€…éƒ½åªä¸ <strong>åŒä¸€ä¸ª <code>cache</code> å¯¹è±¡</strong>äº¤äº’ã€‚è¿™æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿ</p>
<h3 data-id="heading-3">å…³é”®è§’è‰²ï¼š</h3>





















<table><thead><tr><th>ç»„ä»¶</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong><code>django.core.cache.cache</code></strong></td><td>å…¨å±€ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰</td></tr><tr><td><strong><code>django.core.cache.caches</code></strong></td><td>ç¼“å­˜åç«¯æ³¨å†Œè¡¨ï¼ˆRegistryï¼‰</td></tr><tr><td><strong><code>BaseCache</code> åŠå…¶å®ç°ç±»</strong></td><td>çœŸå®ç¼“å­˜åç«¯ï¼ˆReal Subjectï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€æºç å‰–æï¼š<code>cache</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<h3 data-id="heading-5">æ­¥éª¤1ï¼š<code>cache</code> çš„å®šä¹‰ï¼ˆ<code>django/core/cache/__init__.py</code>ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># django/core/cache/__init__.py</span>
from django.core.cache.backends.base import DEFAULT_CACHE_ALIAS
from django.core.cache.utils import CacheHandler

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª CacheHandler å®ä¾‹</span>
<span class="hljs-attr">caches</span> = CacheHandler()

<span class="hljs-comment"># é»˜è®¤ç¼“å­˜åˆ«åï¼ˆé€šå¸¸ä¸º 'default'ï¼‰</span>
<span class="hljs-attr">cache</span> = caches[DEFAULT_CACHE_ALIAS]  <span class="hljs-comment"># â† å…³é”®ï¼</span>
</code></pre>
<p>è¿™é‡Œ <code>cache</code> å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸå®çš„ç¼“å­˜å¯¹è±¡ï¼Œè€Œæ˜¯ <code>caches['default']</code> çš„ç»“æœã€‚</p>
<hr/>
<h3 data-id="heading-6">æ­¥éª¤2ï¼š<code>CacheHandler</code> â€”â€” å±æ€§ä»£ç†çš„æ ¸å¿ƒ</h3>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># django/core/cache/utils.py</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheHandler</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-variable language_">self</span>._caches = {}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-keyword">alias</span></span>):
        <span class="hljs-comment"># å¦‚æœè¯¥ alias çš„ç¼“å­˜æœªåˆ›å»ºï¼Œåˆ™åˆ›å»ºå¹¶ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">alias</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.<span class="hljs-symbol">_caches:</span>
            <span class="hljs-variable language_">self</span>._caches[<span class="hljs-keyword">alias</span>] = <span class="hljs-variable language_">self</span>.create_cache(<span class="hljs-keyword">alias</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._caches[<span class="hljs-keyword">alias</span>]

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_cache</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, <span class="hljs-keyword">alias</span></span>):
        <span class="hljs-comment"># 1. ä» settings.CACHES è·å–é…ç½®</span>
        <span class="hljs-comment"># 2. åŠ¨æ€å¯¼å…¥å¯¹åº”çš„ç¼“å­˜ backend ç±»</span>
        <span class="hljs-comment"># 3. å®ä¾‹åŒ–å¹¶è¿”å›</span>
        ...
</code></pre>
<blockquote>
<p>âœ… <strong>é‡ç‚¹</strong>ï¼š<code>CacheHandler</code> æœ¬èº«<strong>ä¸å®ç°ä»»ä½•ç¼“å­˜é€»è¾‘</strong>ï¼Œå®ƒåªæ˜¯ä¸€ä¸ª<strong>æŒ‰éœ€åˆ›å»ºå¹¶ç¼“å­˜çœŸå®åç«¯çš„ä»£ç†å·¥å‚</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">æ­¥éª¤3ï¼š<code>DefaultCacheProxy</code> â€”â€” çœŸæ­£çš„â€œé€æ˜ä»£ç†â€</h3>
<p>ä½†åœ¨æ—§ç‰ˆæœ¬ï¼ˆ&lt;4.0ï¼‰ä¸­ï¼ŒDjango ä½¿ç”¨äº†ä¸€ä¸ªæ›´å…¸å‹çš„ä»£ç†ç±»ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># ç®€åŒ–ç‰ˆ DefaultCacheProxy</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DefaultCacheProxy</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, name</span>):
        <span class="hljs-comment"># é¦–æ¬¡è®¿é—®æ—¶ï¼Œä» caches['default'] è·å–çœŸå®å¯¹è±¡</span>
        <span class="hljs-keyword">return</span> getattr(caches[<span class="hljs-variable constant_">DEFAULT_CACHE_ALIAS</span>], name)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__setattr__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, name, value</span>):
        setattr(caches[<span class="hljs-variable constant_">DEFAULT_CACHE_ALIAS</span>], name, value)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__delattr__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, name</span>):
        delattr(caches[<span class="hljs-variable constant_">DEFAULT_CACHE_ALIAS</span>], name)

<span class="hljs-comment"># å…¨å±€ cache å¯¹è±¡</span>
cache = <span class="hljs-title class_">DefaultCacheProxy</span>()
</code></pre>
<h4 data-id="heading-8">å·¥ä½œæµç¨‹ï¼š</h4>
<ol>
<li>è°ƒç”¨ <code>cache.set(...)</code>ï¼›</li>
<li>è§¦å‘ <code>__getattr__('set')</code>ï¼›</li>
<li>ä»£ç†è‡ªåŠ¨è·å– <code>caches['default']</code>ï¼ˆå³çœŸå®åç«¯ï¼‰ï¼›</li>
<li>è½¬å‘è°ƒç”¨ <code>real_cache.set(...)</code>ã€‚</li>
</ol>
<blockquote>
<p>ğŸ” <strong>è¿™å°±æ˜¯å±æ€§ä»£ç†æ¨¡å¼çš„ç²¾é«“ï¼šè°ƒç”¨è€…ä»¥ä¸ºåœ¨æ“ä½œ <code>cache</code>ï¼Œå®é™…åœ¨æ“ä½œ <code>RedisCache</code> æˆ– <code>LocMemCache</code>ï¼</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-9">å››ã€é…ç½®é©±åŠ¨ï¼šå¦‚ä½•åˆ‡æ¢ç¼“å­˜åç«¯ï¼Ÿ</h2>
<p>ä¸€åˆ‡çš„ç§˜å¯†éƒ½åœ¨ <code>settings.py</code> ä¸­ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># settings.py</span>

CACHES = {
    <span class="hljs-string">'default'</span>: {
        <span class="hljs-string">'BACKEND'</span>: <span class="hljs-string">'django.core.cache.backends.redis.RedisCache'</span>,
        <span class="hljs-string">'LOCATION'</span>: <span class="hljs-string">'redis://127.0.0.1:6379/1'</span>,
    },
    <span class="hljs-string">'session'</span>: {
        <span class="hljs-string">'BACKEND'</span>: <span class="hljs-string">'django.core.cache.backends.locmem.LocMemCache'</span>,
    }
}

<span class="hljs-comment"># ä»£ç æ— éœ€ä»»ä½•ä¿®æ”¹ï¼</span>
<span class="hljs-keyword">from</span> django.core.cache <span class="hljs-keyword">import</span> cache
cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">"key"</span>, <span class="hljs-string">"value"</span>)  <span class="hljs-comment"># è‡ªåŠ¨ä½¿ç”¨ Redis</span>

<span class="hljs-comment"># å¦‚éœ€ä½¿ç”¨å…¶ä»–åç«¯</span>
<span class="hljs-keyword">from</span> django.core.cache <span class="hljs-keyword">import</span> caches
session_cache = caches[<span class="hljs-string">'session'</span>]
session_cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">"sess_id"</span>, data)  <span class="hljs-comment"># ä½¿ç”¨å†…å­˜ç¼“å­˜</span>
</code></pre>
<h3 data-id="heading-10">åŠ¨æ€åˆ‡æ¢ç¤ºä¾‹ï¼ˆæµ‹è¯•åœºæ™¯ï¼‰ï¼š</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># tests.py</span>
<span class="hljs-keyword">from</span> django.test <span class="hljs-keyword">import</span> override_settings

<span class="hljs-meta">@override_settings(<span class="hljs-params">CACHES={
    <span class="hljs-string">'default'</span>: {<span class="hljs-string">'BACKEND'</span>: <span class="hljs-string">'django.core.cache.backends.dummy.DummyCache'</span>}
}</span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_without_cache</span>():
    <span class="hljs-comment"># æ­¤æ—¶ cache æ˜¯ DummyCacheï¼ˆä¸å®é™…å­˜å‚¨ï¼‰</span>
    <span class="hljs-keyword">assert</span> cache.get(<span class="hljs-string">"any_key"</span>) <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>
</code></pre>
<blockquote>
<p>âœ… <strong>é›¶ä»£ç ä¾µå…¥ï¼Œä»…é é…ç½®å³å¯åˆ‡æ¢åº•å±‚å®ç°ï¼</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-11">äº”ã€ä¸ºä»€ä¹ˆä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Ÿä¼˜åŠ¿ä½•åœ¨ï¼Ÿ</h2>





























<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>è§£è€¦</strong></td><td>ä¸šåŠ¡ä»£ç ä¸ä¾èµ–å…·ä½“ç¼“å­˜å®ç°</td></tr><tr><td><strong>é€æ˜æ€§</strong></td><td>å¼€å‘è€…æ— éœ€å…³å¿ƒ <code>cache</code> å†…éƒ¨æ˜¯ Redis è¿˜æ˜¯ Memcached</td></tr><tr><td><strong>æ‡’åŠ è½½</strong></td><td>çœŸå®ç¼“å­˜è¿æ¥åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶æ‰å»ºç«‹ï¼ŒèŠ‚çœèµ„æº</td></tr><tr><td><strong>å¤šåç«¯æ”¯æŒ</strong></td><td>é€šè¿‡ <code>caches[alias]</code> è½»æ¾ç®¡ç†å¤šä¸ªç¼“å­˜å®ä¾‹</td></tr><tr><td><strong>æµ‹è¯•å‹å¥½</strong></td><td>å¯è½»æ¾ mock æˆ–æ›¿æ¢ä¸º dummy åç«¯</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">å…­ã€æ‰©å±•ï¼šè‡ªå®šä¹‰ç¼“å­˜åç«¯</h2>
<p>Django å…è®¸ä½ å®ç°è‡ªå·±çš„ç¼“å­˜åç«¯ï¼Œåªéœ€ç»§æ‰¿ <code>BaseCache</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># myapp/cache_backends.py</span>
<span class="hljs-keyword">from</span> django.core.cache.backends.base <span class="hljs-keyword">import</span> BaseCache

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCustomCache</span>(<span class="hljs-title class_ inherited__">BaseCache</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, key, default=<span class="hljs-literal">None</span>, version=<span class="hljs-literal">None</span></span>):
        <span class="hljs-comment"># è‡ªå®šä¹‰è·å–é€»è¾‘ï¼ˆå¦‚è°ƒç”¨å¤–éƒ¨ APIï¼‰</span>
        ...

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">self, key, value, timeout=<span class="hljs-number">300</span>, version=<span class="hljs-literal">None</span></span>):
        <span class="hljs-comment"># è‡ªå®šä¹‰å­˜å‚¨é€»è¾‘</span>
        ...
</code></pre>
<p>é…ç½®ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-objectivec" lang="objectivec"><span class="hljs-built_in">CACHES</span> = {
    <span class="hljs-string">'default'</span>: {
        <span class="hljs-string">'BACKEND'</span>: <span class="hljs-string">'myapp.cache_backends.MyCustomCache'</span>,
    }
}
</code></pre>
<blockquote>
<p>ä»£ç†æ¨¡å¼ç¡®ä¿ä½ çš„è‡ªå®šä¹‰åç«¯èƒ½<strong>æ— ç¼æ¥å…¥ç°æœ‰ä»£ç </strong>ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-13">ä¸ƒã€å¸¸è§è¯¯åŒºæ¾„æ¸…</h2>
<h3 data-id="heading-14">âŒ è¯¯åŒº1ï¼šâ€œ<code>cache</code> æ˜¯ä¸€ä¸ªå•ä¾‹ç¼“å­˜å®ä¾‹â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼š<code>cache</code> æ˜¯ä¸€ä¸ª<strong>ä»£ç†å¯¹è±¡</strong>ï¼ŒèƒŒåçš„çœŸå®å®ä¾‹ç”± <code>CacheHandler</code> ç®¡ç†ã€‚</li>
</ul>
<h3 data-id="heading-15">âŒ è¯¯åŒº2ï¼šâ€œä¿®æ”¹ <code>cache</code> å±æ€§ä¼šå½±å“æ‰€æœ‰åœ°æ–¹â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šç”±äºä»£ç†è½¬å‘ï¼Œ<code>cache.timeout = 60</code> å®é™…ä¿®æ”¹çš„æ˜¯çœŸå®åç«¯çš„å±æ€§ï¼Œä½†<strong>ä¸æ¨èç›´æ¥ä¿®æ”¹</strong>ï¼Œåº”é€šè¿‡é…ç½®æ§åˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-16">âŒ è¯¯åŒº3ï¼šâ€œä»£ç†ä¼šå¸¦æ¥æ€§èƒ½æŸè€—â€</h3>
<ul>
<li><strong>çº æ­£</strong>ï¼šPython å±æ€§æŸ¥æ‰¾å¼€é”€æå°ï¼Œä¸”çœŸå®å¯¹è±¡ä¼šè¢«ç¼“å­˜ï¼ˆ<code>_caches</code> å­—å…¸ï¼‰ï¼Œ<strong>ä»…é¦–æ¬¡è®¿é—®æœ‰å¾®å° overhead</strong>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-17">å…«ã€æ€»ç»“</h2>
<p>Django é€šè¿‡ <strong>å±æ€§ä»£ç†æ¨¡å¼ + æ³¨å†Œè¡¨æ¨¡å¼</strong>ï¼Œæ„å»ºäº†ä¸€ä¸ª<strong>é«˜åº¦çµæ´»ã€å¯æ’æ‹”çš„ç¼“å­˜ç³»ç»Ÿ</strong>ï¼š</p>
<ul>
<li><strong><code>cache</code></strong> æ˜¯ä¸€ä¸ªæ™ºèƒ½ä»£ç†ï¼Œéšè—äº†åº•å±‚å¤æ‚æ€§ï¼›</li>
<li><strong><code>CACHES</code> é…ç½®</strong> å†³å®šäº†çœŸå®åç«¯ç±»å‹ï¼›</li>
<li><strong>å¼€å‘è€…åªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘</strong>ï¼Œæ— éœ€å…³å¿ƒç¼“å­˜å®ç°ç»†èŠ‚ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>è®¾è®¡å¯ç¤º</strong>ï¼š<br/>
å½“ä½ éœ€è¦â€œ<strong>åŒä¸€æ¥å£ï¼Œå¤šç§å®ç°ï¼Œè¿è¡Œæ—¶åˆ‡æ¢</strong>â€æ—¶ï¼Œå±æ€§ä»£ç†æ¨¡å¼æ˜¯ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<p>è¿™ç§æ¨¡å¼ä¸ä»…ç”¨äºç¼“å­˜ï¼Œè¿˜å¹¿æ³›åº”ç”¨äº Django çš„ï¼š</p>
<ul>
<li>æ•°æ®åº“è·¯ç”±ï¼ˆ<code>db_router</code>ï¼‰</li>
<li>æ—¥å¿—å¤„ç†å™¨</li>
<li>é‚®ä»¶åç«¯</li>
<li>æ–‡ä»¶å­˜å‚¨ï¼ˆ<code>default_storage</code>ï¼‰</li>
</ul>
<p>æŒæ¡å®ƒï¼Œä½ å°±æŒæ¡äº† Django â€œçº¦å®šä¼˜äºé…ç½®â€ å’Œ â€œå¯æ’æ‹”æ¶æ„â€ çš„æ ¸å¿ƒæ€æƒ³ã€‚</p>
<hr/>
<p><strong>å»¶ä¼¸é˜…è¯»</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.djangoproject.com%2Fen%2Fstable%2Ftopics%2Fcache%2F" target="_blank" title="https://docs.djangoproject.com/en/stable/topics/cache/" ref="nofollow noopener noreferrer">Django å®˜æ–¹æ–‡æ¡£ï¼šCache Framework</a></li>
<li>ã€ŠTwo Scoops of Djangoã€‹ç¬¬ 18 ç« ï¼šCaching</li>
<li>æºç é˜…è¯»ï¼š<code>django/core/cache/</code></li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IntelliJ IDEA 2026.1 EAP 2 å‘å¸ƒï¼ŒClaude Code ä½“éªŒä¼˜åŒ–ï¼äººéº»äº†ã€‚]]></title>    <link>https://juejin.cn/post/7602901565033644078</link>    <guid>https://juejin.cn/post/7602901565033644078</guid>    <pubDate>2026-02-04T12:24:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602901565033644078" data-draft-id="7602811649126187059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IntelliJ IDEA 2026.1 EAP 2 å‘å¸ƒï¼ŒClaude Code ä½“éªŒä¼˜åŒ–ï¼äººéº»äº†ã€‚"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-02-04T12:24:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IntelliJ IDEA 2026.1 EAP 2 å‘å¸ƒï¼ŒClaude Code ä½“éªŒä¼˜åŒ–ï¼äººéº»äº†ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T12:24:10.000Z" title="Wed Feb 04 2026 12:24:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Guideã€‚IntelliJ IDEA 2026.1 EAP 2 æ¥äº†ï¼è¿™æ¬¡æ›´æ–°å˜åŒ–ä¸å°â€”â€”Gradle Tooling API å‡çº§åˆ° 9.3.0ã€Java è°ƒè¯•å™¨æ–°å¢å¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹ã€Claude Code æ”¯æŒ Shift+Enter æ¢è¡Œã€JUnit 6 çš„ CancellationToken æ”¯æŒã€DevContainers å®¹å™¨åŒ–å¼€å‘å¢å¼ºã€‚</p>
<p>å’Œå¤§å®¶ä¸€æ ·ï¼Œç°æœ‰ Cursorã€Claude Codeã€ Codex ç­‰ AI ç¼–ç¨‹ IDE ä¹‹åï¼Œæˆ‘æ‰“å¼€ IDEA çš„é¢‘ç‡çœŸçš„å°‘å¤šäº†ã€‚ä¸è¿‡ï¼Œæˆ‘è¿˜æ˜¯ä¼šåœ¨ç”µè„‘è£…ä¸Šï¼Œå¹³æ—¶ CR æˆ–è€…è°ƒè¯•ç­‰åœºæ™¯è¿˜æ˜¯æ›´ç†Ÿæ‚‰ä¸€äº›ã€‚</p>
<p>å½“ä¸‹å»ä¸‹ç»“è®ºï¼Œè¯´è¿™æ¬¾é™ªä¼´äº†ç»å¤§éƒ¨åˆ† Java å¼€å‘è€…è¿™ä¹ˆå¤šå¹´çš„ IDE ä¼šèµ°å‘ç­äº¡ï¼ŒçœŸè¿˜ä¸å¤ªå¥½è¯´ï¼Œè¿™ä¸ªæ—¶ä»£ä¸€åˆ‡å‘å±•éƒ½å¿«äº†ï¼è¯´ä¸å®š IDEA åé¢åœ¨ AI æ–¹å‘å–å¾—äº†è¿›æ­¥å‘¢ï¼Ÿ</p>
<p>å¼€å§‹ä»‹ç»æœ¬æ¬¡å¸¦æ¥çš„ä¸»è¦æ›´æ–°ä¹‹å‰ï¼Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹ EAPã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ EAPï¼Ÿ</h2>
<p><strong>EAPï¼ˆEarly Access Programï¼‰</strong> æ˜¯ JetBrains çš„æ—©æœŸè®¿é—®è®¡åˆ’ï¼Œæä¾›<strong>å…è´¹çš„å…¨åŠŸèƒ½é¢„è§ˆç‰ˆæœ¬</strong>ã€‚ä½ å¯ä»¥å°†å…¶è§†ä¸ºâ€œå®˜æ–¹å…¬æµ‹ç‰ˆâ€â€”â€”åŠŸèƒ½å®Œæ•´ä½†å¤„äºæ‰“ç£¨æœŸï¼Œé€‚åˆæƒ³æå‰å°é²œæˆ–å…è´¹ä½¿ç”¨æ­£ç‰ˆ IDE çš„å¼€å‘è€…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/20c9100bb0bf40d7aae693a6077ac9a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=kgIPiSi%2FSjxYi26QmKWoqnyQebA%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸ºä»€ä¹ˆè¦å…³æ³¨ EAPï¼Ÿ</strong></p>
<ul>
<li><strong>å®Œå…¨å…è´¹</strong>ï¼šEAP ç‰ˆæœ¬åœ¨æœ‰æ•ˆæœŸå†…æ²¡æœ‰ä»»ä½•åŠŸèƒ½é™åˆ¶ã€‚</li>
<li><strong>æå‰ä½“éªŒæ–°ç‰¹æ€§</strong>ï¼šæ¯”æ­£å¼ç‰ˆæ—©å‡ ä¸ªæœˆç”¨ä¸Šç”Ÿäº§åŠ›å·¥å…·ã€‚</li>
<li><strong>å½±å“äº§å“æ–¹å‘</strong>ï¼šä½ çš„åé¦ˆå¯ä»¥ç›´æ¥æäº¤ç»™å¼€å‘è€…ï¼Œç”šè‡³å½±å“æœ€ç»ˆç‰ˆæœ¬çš„èµ°å‘ã€‚</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šç”±äºæ˜¯ä¸ç¨³å®šç‰ˆæœ¬ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨æ­£å¼ç‰ˆï¼›ä¸ªäººé¡¹ç›®æˆ–æŠ€æœ¯ç ”ç©¶å»ºè®®å°è¯• EAPã€‚</p>
<p>ä¸‹é¢å¸¦å¤§å®¶è¯¦ç»†çœ‹çœ‹è¿™æ¬¡æ›´æ–°ã€‚</p>
<h2 data-id="heading-1">Java è°ƒè¯•å™¨ä¼˜åŒ–</h2>
<p>å†™å¼‚æ­¥ä»£ç æœ€å¤´ç–¼çš„æ˜¯ä»€ä¹ˆï¼Ÿ<strong>è°ƒè¯•</strong>ã€‚</p>
<p>å½“ä½ ç”¨ <code>CompletableFuture</code>ã€Reactorã€RxJava è¿™äº›åº“å†™å¼‚æ­¥é€»è¾‘æ—¶ï¼Œå †æ ˆè·Ÿè¸ªä¼šå˜æˆä¸€ä¸² <code>lambda$xxx$xxx</code>ï¼Œçœ‹ä¸å‡ºä¸šåŠ¡é€»è¾‘åœ¨å“ªã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯å¼‚æ­¥å †æ ˆè·Ÿè¸ªï¼Ÿ</strong></p>
<p>ä¼ ç»Ÿå †æ ˆæ˜¯â€œç‰©ç†â€çš„ï¼Œè®°å½•çš„æ˜¯å½“å‰çº¿ç¨‹çš„è°ƒç”¨ã€‚è€Œå¼‚æ­¥ä»£ç ä¸­ï¼Œä»»åŠ¡ä¼šåœ¨ä¸åŒçº¿ç¨‹é—´ä¼ é€’ï¼Œå¯¼è‡´è°ƒç”¨é“¾æ–­è£‚ã€‚å¼‚æ­¥å †æ ˆè·Ÿè¸ªå°è¯•è¿˜åŸâ€œé€»è¾‘è°ƒç”¨é“¾â€ï¼Œè®©ä½ çœ‹åˆ°ä»»åŠ¡æ˜¯ä»å“ªé‡Œè¢«åˆ›å»ºå’Œè§¦å‘çš„ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿä»£ç çš„å †æ ˆ</span>
Thread.run()
  â””â”€ service.process()
      â””â”€ repository.save()

<span class="hljs-comment">// å¼‚æ­¥ä»£ç çš„å †æ ˆï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</span>
ForkJoinPool.run()
  â””â”€ lambda$asyncProcess$abc123
      â””â”€ CompletableFuture.apply()
          â””â”€ ?? ä¸šåŠ¡é€»è¾‘åœ¨å“ªï¼Ÿ
</code></pre>
<p><strong>å¼‚æ­¥å †æ ˆè·Ÿè¸ª</strong>å°è¯•è¿˜åŸ"é€»è¾‘è°ƒç”¨é“¾"ï¼Œè€Œä¸æ˜¯"ç‰©ç†çº¿ç¨‹æ ˆ"ï¼Œè®©å¼€å‘è€…èƒ½çœ‹åˆ°ä¸šåŠ¡ä»£ç çš„æ‰§è¡Œè·¯å¾„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36daa702f4114fc9ab7cc4a30bdfd27b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=uPCv0Z0dciGPdBYsNPoyoompIfo%3D" alt="åœ¨æ§åˆ¶å°ä¸­æ‰“å°çš„å¤±è´¥æµ‹è¯•çš„å¼‚æ­¥å †æ ˆè·Ÿè¸ª" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4119f26dad94da6bee533c36a819f5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=GLAz0UIBNcxLJLcDh5c81EPYq2o%3D" alt="è¿è¡Œé…ç½®å¯¹è¯æ¡†ä¸­çš„â€œæ‰“å°å¼‚å¸¸çš„å¼‚æ­¥å †æ ˆè·Ÿè¸ªâ€å¤é€‰æ¡†" loading="lazy"/></p>
<p>EAP 2 å¼•å…¥äº†<strong>å¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹</strong>ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦æ£€æµ‹å¼€é”€ï¼Ÿ</strong></p>
<p>ç»´æŠ¤é€»è¾‘è°ƒç”¨å…³ç³»éœ€è¦é¢å¤–çš„å†…å­˜å’Œ CPU èµ„æºã€‚åœ¨æŸäº›æç«¯åœºæ™¯ä¸‹ï¼Œè¿™ç§ç›‘æ§æœ¬èº«å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚æ–°ç‰¹æ€§ä¼šä¸»åŠ¨ç›‘æµ‹è°ƒè¯•å™¨çš„è¿è¡Œå¼€é”€ï¼Œå½“å‘ç°å…¶æ¶ˆè€—èµ„æºè¿‡å¤šæ—¶ä¼šåŠæ—¶æç¤ºã€‚è¿™èƒ½æœ‰æ•ˆé˜²æ­¢å¼€å‘è€…å› ä¸ºâ€œè°ƒè¯•å·¥å…·å¤ªé‡â€è€Œå¯¹åº”ç”¨æœ¬èº«çš„æ€§èƒ½äº§ç”Ÿè¯¯åˆ¤ã€‚</p>
<h2 data-id="heading-2">é€‚é… JUnit 6 æ–°ç‰¹æ€§</h2>
<p>JUnit 6.0.0 å·²ç»å‘å¸ƒï¼ŒIDEA 2026.1 EAP 2 å¯¹å…¶æ”¯æŒè¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-3">CancellationToken æ”¯æŒï¼ˆæ–°ç‰¹æ€§ï¼‰</h3>
<p>IDEA-382199ï¼š<strong>JUnit 6 æ”¯æŒ CancellationToken</strong>ã€‚</p>
<p><strong>JUnit 6 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</strong></p>
<p>JUnit 6 æ˜¯ä¸€æ¬¡é‡å¤§å‡çº§ï¼Œå…¶æ ¸å¿ƒå˜åŒ–åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ç‰ˆæœ¬å·ç»Ÿä¸€</strong>ï¼šJUnit Platformã€Jupiter å’Œ Vintage ç°åœ¨ç»Ÿä¸€ä½¿ç”¨ 6.0.0 ç‰ˆæœ¬å·ã€‚</li>
<li><strong>åŸºçº¿æå‡</strong>ï¼šè¦æ±‚ <strong>Java 17+</strong> å’Œ <strong>Kotlin 2.2+</strong>ã€‚</li>
<li><strong>åŸç”Ÿæ”¯æŒ Kotlin æŒ‚èµ·å‡½æ•°</strong>ï¼šå¯ä»¥ç›´æ¥æµ‹è¯• <code>suspend</code> æ–¹æ³•ã€‚</li>
<li><strong>åä½œå¼å–æ¶ˆ</strong>ï¼šå¼•å…¥ CancellationToken APIã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/184a684db55c4258b55053e218faf58c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=GpaNjV2pctW2HASoffmYdLszde4%3D" alt="" loading="lazy"/></p>
<p><strong>CancellationToken</strong> æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å®ƒè®©æµ‹è¯•å¯ä»¥è¢«"ä¸»åŠ¨å–æ¶ˆ"ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ä½ å¯åŠ¨äº† 1000 ä¸ªæµ‹è¯•</span>
<span class="hljs-comment">// è·‘åˆ°ç¬¬ 10 ä¸ªå‘ç°å…³é”® bugï¼Œæƒ³ç«‹å³åœæ­¢</span>
<span class="hljs-comment">// ä»¥å‰åªèƒ½æ‰‹åŠ¨ kill è¿›ç¨‹</span>
<span class="hljs-comment">// ç°åœ¨å¯ä»¥ç”¨ CancellationToken å–æ¶ˆå‰©ä½™æµ‹è¯•</span>
</code></pre>
<p>å¯¹ CI/CD åœºæ™¯å°¤å…¶æœ‰ç”¨â€”â€”å¿«é€Ÿåé¦ˆã€èŠ‚çœèµ„æºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd51fdc5c75f42159041ec223857af6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=xcZmvD6HEC03kHG9Xbb19wxy4%2Fk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">@FieldSource é™æ€åˆ†æä¿®å¤</h3>
<p>ä¿®å¤äº† JUnit 6 <code>@FieldSource</code> çš„é™æ€åˆ†æè¯¯æŠ¥ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">@<span class="hljs-built_in">FieldSource</span>(<span class="hljs-string">"testData.txt"</span>)
<span class="hljs-type">static</span> <span class="hljs-built_in">Stream</span>&lt;<span class="hljs-type">String</span>&gt; testData;

<span class="hljs-comment">// ä»¥å‰ï¼šIDE æŠ¥é”™ "Field source type must be convertible to a Stream"</span>
<span class="hljs-comment">// ç°åœ¨ï¼šæ­£ç¡®è¯†åˆ«ç±»å‹ï¼Œä¸å†è¯¯æŠ¥</span>
</code></pre>
<h2 data-id="heading-5">DevContainers å¢å¼º</h2>
<p>å¦‚æœä½ åœ¨ç”¨ DevContainersï¼ˆå®¹å™¨åŒ–å¼€å‘ç¯å¢ƒï¼‰ï¼Œè¿™æ¬¡æ›´æ–°æœ‰å‡ ä¸ªé‡è¦æ”¹è¿›ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯ DevContainersï¼Ÿ</strong></p>
<p><strong>DevContainersï¼ˆå¼€å‘å®¹å™¨ï¼‰</strong> æ˜¯ç”¨å®¹å™¨å°è£…å®Œæ•´å¼€å‘ç¯å¢ƒçš„æŠ€æœ¯ã€‚ä½ æŠŠé¡¹ç›®éœ€è¦çš„æ‰€æœ‰å·¥å…·ã€ä¾èµ–ã€é…ç½®éƒ½æ‰“åŒ…è¿› Docker å®¹å™¨ï¼Œå›¢é˜Ÿæˆå‘˜ç”¨åŒä¸€ä¸ªé•œåƒå¼€å‘â€”â€”"åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘"çš„é—®é¢˜ç›´æ¥æ¶ˆå¤±ã€‚</p>
<p>æ ¸å¿ƒå¥½å¤„ï¼š</p>
<ul>
<li><strong>ç¯å¢ƒä¸€è‡´æ€§</strong>ï¼šæ‰€æœ‰äººç”¨åŒä¸€ä¸ªå®¹å™¨ï¼Œæœ¬åœ°ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå¯¹é½</li>
<li><strong>å¿«é€Ÿä¸Šæ‰‹</strong>ï¼šæ–°æˆå‘˜ <code>docker-compose up</code> å°±èƒ½å¹²æ´»</li>
<li><strong>éš”ç¦»æ€§</strong>ï¼šé¡¹ç›®ä¾èµ–ä¸æ±¡æŸ“æœ¬åœ°æœºå™¨</li>
<li><strong>å¯ç§»æ¤</strong>ï¼šäº‘å¼€å‘ç¯å¢ƒï¼ˆGitHub Codespacesã€Gitpodï¼‰æ— ç¼åˆ‡æ¢</li>
</ul>
<h3 data-id="heading-6">æ–°å¢ DevContainers é…ç½®é€‰é¡¹</h3>
<p>ä¸ºäº†æ›´å¥½åœ°å…¼å®¹ <strong>Dev Container Specification</strong>ï¼ŒEAP 2 æ–°å¢äº†ä¸‰ä¸ªå…³é”®é…ç½®é¡¹ï¼š</p>





















<table><thead><tr><th align="left">é€‰é¡¹</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>remoteUser</code></td><td align="left">æŒ‡å®šå®¹å™¨å†…è¿è¡Œå‘½ä»¤çš„ç”¨æˆ·ï¼ˆå¦‚é¿å…ä½¿ç”¨ root å¸¦æ¥çš„æƒé™é—®é¢˜ï¼‰</td></tr><tr><td align="left"><code>remoteEnv</code></td><td align="left">çµæ´»è®¾ç½®å®¹å™¨å†…çš„ç¯å¢ƒå˜é‡</td></tr><tr><td align="left"><code>userEnvProbe</code></td><td align="left">ä¼˜åŒ–æ¢æµ‹ç”¨æˆ·ç¯å¢ƒé…ç½®ï¼ˆå¦‚ <code>.zshrc</code>ï¼‰çš„æ–¹å¼</td></tr></tbody></table>
<p>è¿™äº›æ”¹è¿›è®© IDEA åœ¨å¤„ç†å¤æ‚çš„å®¹å™¨æƒé™å’Œç¯å¢ƒå·®å¼‚æ—¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<h3 data-id="heading-7">Docker è¿æ¥ä¿®å¤</h3>
<p>ä¿®å¤äº† <strong>macOS ä¸Š Docker æ’ä»¶è¿æ¥å¤±è´¥</strong>çš„é—®é¢˜ã€‚è¯¥é—®é¢˜ç”± Docker Desktop for macOS æ›´æ”¹é»˜è®¤ Socket è·¯å¾„å¼•èµ·ï¼Œæ–°ç‰ˆæœ¬å·²å®Œæˆè·¯å¾„è‡ªåŠ¨é€‚é…ã€‚</p>
<h2 data-id="heading-8">Gradle ç”Ÿæ€å‡çº§</h2>
<p>è¿™æ¬¡ EAP 2 åœ¨ Gradle é›†æˆä¸Šä¸‹äº†å¤§åŠŸå¤«ï¼Œæ ¸å¿ƒæ˜¯<strong>Gradle Tooling API å‡çº§åˆ° 9.3.0</strong>ã€‚</p>
<h3 data-id="heading-9">Gradle Tooling API 9.3.0</h3>
<p><strong>ä»€ä¹ˆæ˜¯ Gradle Tooling APIï¼Ÿ</strong></p>
<p>å®ƒæ˜¯ Gradle æä¾›çš„ç¼–ç¨‹æ¥å£ï¼Œè®© IDE å¯ä»¥"æ·±å…¥"æ„å»ºè¿‡ç¨‹â€”â€”ä¸æ˜¯ç®€å•è°ƒç”¨å‘½ä»¤è¡Œï¼Œè€Œæ˜¯ç›´æ¥æŸ¥è¯¢é¡¹ç›®ç»“æ„ã€ä¾èµ–å…³ç³»ã€ä»»åŠ¡ä¿¡æ¯ï¼Œå¹¶ç”¨ç±»å‹å®‰å…¨çš„æ–¹å¼è¿”å›ç»“æœã€‚</p>
<p>ç®€å•å¯¹æ¯”ï¼š</p>
<ul>
<li><strong>å‘½ä»¤è¡Œæ–¹å¼</strong>ï¼šIDE è°ƒç”¨ <code>gradle tasks</code>ï¼Œç„¶åè§£ææ–‡æœ¬è¾“å‡º</li>
<li><strong>Tooling API</strong>ï¼šIDE è°ƒç”¨ <code>getTasks()</code>ï¼Œç›´æ¥æ‹¿åˆ°ä»»åŠ¡å¯¹è±¡åˆ—è¡¨</li>
</ul>
<p>Tooling API çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>ç‰ˆæœ¬ç‹¬ç«‹</strong>ï¼šåŒä¸€ API ç‰ˆæœ¬å¯ä»¥å…¼å®¹ä¸åŒ Gradle ç‰ˆæœ¬</li>
<li><strong>ç»“æ„åŒ–æ•°æ®</strong>ï¼šä¸éœ€è¦è§£ææ–‡æœ¬ï¼Œç›´æ¥è·å–æ¨¡å‹å¯¹è±¡</li>
<li><strong>æ·±åº¦é›†æˆ</strong>ï¼šå¯ä»¥å®æ—¶ç›‘å¬æ„å»ºè¿›åº¦ã€æ¨¡å‹å˜åŒ–</li>
</ul>
<p>å‡çº§åˆ° 9.3.0 å¸¦æ¥çš„å¥½å¤„ï¼š</p>
<ul>
<li>æ›´å¥½çš„ WSL/Docker ç¯å¢ƒæ”¯æŒ</li>
<li>æœ¬åœ°ä¾èµ–è¡¥å…¨ä½“éªŒæå‡</li>
<li>ç‰ˆæœ¬ç›®å½•ï¼ˆVersion Catalogï¼‰ç›¸å…³é€»è¾‘ä¿®å¤</li>
</ul>
<h3 data-id="heading-10">Gradle Best Practices æ£€æµ‹</h3>
<p>æ–°å¢<strong>æœ€ä½³å®è·µæ£€æµ‹</strong>åŠŸèƒ½ã€‚Gradle å®˜æ–¹æœ‰ä¸€å¥—æ„å»ºæœ€ä½³å®è·µï¼ˆæ¯”å¦‚é¿å…ä½¿ç”¨è¿‡æ—¶è¯­æ³•ã€åˆç†é…ç½®ä¾èµ–ç­‰ï¼‰ï¼ŒIDEA ç°åœ¨ä¼šä¸»åŠ¨æ£€æµ‹ä½ çš„ <code>build.gradle</code>/<code>build.gradle.kts</code> æ˜¯å¦ç¬¦åˆè¿™äº›å®è·µã€‚</p>
<pre><code class="hljs language-groovy" lang="groovy">// ä¸æ¨è
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web:3.2.0'
}

// æ¨èï¼šä½¿ç”¨ç‰ˆæœ¬ç›®å½•
dependencies {
    implementation libs.spring.boot.starter.web
}
</code></pre>
<h3 data-id="heading-11">æœ¬åœ°ä¾èµ–è¡¥å…¨</h3>
<p>EAP 2 ä¿®å¤äº†<strong>æœ¬åœ°ä¾èµ–è¡¥å…¨</strong>çš„é—®é¢˜ã€‚ä»¥å‰åœ¨ <code>dependencies {}</code> å—é‡Œè¡¥å…¨æœ¬åœ°é¡¹ç›®ä¾èµ–æ—¶ï¼Œé‡åˆ°æ¨ªæ ï¼ˆ<code>-</code>ï¼‰ç¬¦å·ä¼šå¤±æ•ˆï¼Œç°åœ¨å·²ç»ä¿®å¤ã€‚</p>
<p>å¦å¤–ï¼Œ<strong>TOML å…ƒç´ </strong>çš„ Find Usages çª—å£æ ‡é¢˜ä¹Ÿæ”¹äº†ï¼ˆIDEA-382192ï¼‰ï¼Œæ›´æ¸…æ™°ã€‚</p>
<h2 data-id="heading-12">å¼€å‘è€…ä½“éªŒä¼˜åŒ–</h2>
<h3 data-id="heading-13">HTTP Client æ–°å¢ wait-for å‡½æ•°</h3>
<p><strong>HTTP Client æ”¯æŒ <code>wait-for(x)</code> å‡½æ•°</strong>ï¼ˆä¼‘çœ /ç­‰å¾…ï¼‰ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">## æµ‹è¯•æ¥å£å»¶è¿Ÿ</span>
GET https:<span class="hljs-regexp">//api</span>.example.com/ping

<span class="hljs-comment">## ç­‰å¾… 3 ç§’åå†æ¬¡è¯·æ±‚</span>
<span class="hljs-keyword">wait</span>-<span class="hljs-keyword">for</span>(<span class="hljs-number">3</span>)

GET https:<span class="hljs-regexp">//api</span>.example.com/ping
</code></pre>
<p>è¿™å¯¹æµ‹è¯•"å»¶è¿Ÿè§¦å‘"ã€"é‡è¯•é€»è¾‘"ç­‰åœºæ™¯æœ‰ç”¨ã€‚</p>
<h3 data-id="heading-14">Terminal ä¸­ Claude Code æ”¯æŒä¼˜åŒ–</h3>
<p><strong>Terminal ä¸­ Claude Code æ”¯æŒ Shift+Enter æ¢è¡Œ</strong>ã€‚</p>
<p>ä»¥å‰åœ¨ Terminal é‡Œè¿›å…¥ Claude Code æ¨¡å¼åï¼ŒæŒ‰ Enter æ˜¯å‘é€æ¶ˆæ¯ï¼Œæ— æ³•æ¢è¡Œã€‚ç°åœ¨ Shift+Enter å¯ä»¥æ’å…¥æ–°è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d37c6aa901844af99543cb9e5fe5c7ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770812652&amp;x-signature=2Z5NgwZtF1ZLSuiJg40FH7NLiZ4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15">è¯­è¨€çº§åˆ«æ™ºèƒ½åŒ¹é…</h3>
<p><strong>è¯­è¨€çº§åˆ«è‡ªåŠ¨åŒ¹é…æœ€é«˜æ”¯æŒçš„ JDK</strong>ã€‚</p>
<p>ä»¥å‰æ‰‹åŠ¨è®¾ç½®è¯­è¨€çº§åˆ«å¾ˆçƒ¦â€”â€”é¡¹ç›®ç”¨ JDK 21ï¼Œä½†è¯­è¨€çº§åˆ«è¿˜æ˜¯ Java 17ï¼Œæ–°è¯­æ³•æŠ¥é”™ã€‚ç°åœ¨ IDEA ä¼šè‡ªåŠ¨è¯†åˆ«é¡¹ç›® JDKï¼ŒæŠŠè¯­è¨€çº§åˆ«è®¾åˆ°æœ€é«˜æ”¯æŒç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-16">é«˜ CPU å ç”¨ä¼˜åŒ–</h3>
<p>ä¿®å¤äº†<strong>æ‰“å¼€å¸¦é€šé…ç¬¦æ³›å‹çš„ Java ç±»å¯¼è‡´ CPU é£™å‡</strong>çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™ç§ä»£ç ä»¥å‰ä¸€æ‰“å¼€ IDEA å°±å¼€å§‹ç‹‚åƒ CPU</span>
<span class="hljs-title class_">List</span>&lt;? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, ? <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Collection</span>&lt;?&gt;&gt;&gt; wildcardHell;
</code></pre>
<h2 data-id="heading-17">K2 ç¼–è¯‘å™¨æŒç»­è¿›åŒ–</h2>
<h3 data-id="heading-18">æ™ºèƒ½è¡¥å…¨æ”¹è¿›</h3>
<p><strong>æ”¹è¿›çš„å‘½åå‚æ•°è¡¥å…¨æ’åº</strong>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä»¥å‰ï¼šå‘½åå‚æ•°è¡¥å…¨é¡ºåºæ··ä¹±</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processUser</span><span class="hljs-params">(id: <span class="hljs-type">Long</span>, name: <span class="hljs-type">String</span>, age: <span class="hljs-type">Int</span>, email: <span class="hljs-type">String</span>)</span></span>

processUser(id = <span class="hljs-number">1</span>, ??? æç¤ºé¡ºåºå¾ˆä¹±)

<span class="hljs-comment">// ç°åœ¨ï¼šæŒ‰ä½¿ç”¨é¢‘ç‡ã€ä¸Šä¸‹æ–‡ç›¸å…³æ€§æ’åº</span>
processUser(id = <span class="hljs-number">1</span>, name = <span class="hljs-string">"å¼ ä¸‰"</span>, age = <span class="hljs-number">25</span>, email = <span class="hljs-string">"..."</span>)
</code></pre>
<h3 data-id="heading-19">æšä¸¾å€¼è½¯å¼ƒç”¨æç¤º</h3>
<p><strong>è½¯å¼ƒç”¨ <code>kotlin.enumValues</code> å‡½æ•°</strong>ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä»¥å‰</span>
val values = enumValues&lt;<span class="hljs-attribute">Color</span>&gt;()

<span class="hljs-comment">// ç°åœ¨ IDE å»ºè®®ç”¨æ›´ç°ä»£çš„æ–¹å¼</span>
val values = <span class="hljs-attribute">Color</span><span class="hljs-selector-class">.entries</span>
</code></pre>
<p><code>enumValues</code> æ˜¯ Kotlin 1.9 ä¹‹å‰çš„é—ç•™ APIï¼Œæ–°ä»£ç åº”è¯¥ç”¨ <code>entries</code> å±æ€§ã€‚</p>
<h2 data-id="heading-20">Bug ä¿®å¤å¤§ç›˜ç‚¹</h2>
<p>EAP 2 ä¿®å¤äº†å¤§é‡ Bugï¼Œä»¥ä¸‹æ˜¯æŒ‰æ¨¡å—åˆ†ç±»çš„ä¸»è¦ä¿®å¤ï¼š</p>









































<table><thead><tr><th align="left">æ¨¡å—</th><th align="left">ä¸»è¦ä¿®å¤</th></tr></thead><tbody><tr><td align="left"><strong>Gradle</strong></td><td align="left">æœ¬åœ°ä¾èµ–è¡¥å…¨æ¨ªæ å¤±æ•ˆã€ç‰ˆæœ¬ç›®å½•é‡å‘½åã€WSL ç£ç›˜æ‰«æ</td></tr><tr><td align="left"><strong>Java</strong></td><td align="left">é€šé…æ³›å‹ CPU é£™å‡ã€åŒ…æ³¨è§£ PSI ä¸¢å¤±ã€optimize imports å¿½ç•¥æ³¨é‡Š</td></tr><tr><td align="left"><strong>è°ƒè¯•å™¨</strong></td><td align="left">Split Debugger å€¼æ›´æ–°é—®é¢˜ã€å¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹</td></tr><tr><td align="left"><strong>æµ‹è¯•</strong></td><td align="left">JUnit å‚æ•°æœªä½¿ç”¨è¯¯æŠ¥ã€Cucumber æ–œæ è½¬ä¹‰</td></tr><tr><td align="left"><strong>Kotlin</strong></td><td align="left">K2 ç§»é™¤æœªç”¨å˜é‡ã€æ™ºèƒ½è¡¥å…¨æ’åºã€æšä¸¾å€¼è½¯å¼ƒç”¨</td></tr><tr><td align="left"><strong>DevContainers</strong></td><td align="left">WSL/Docker è·¯å¾„é—®é¢˜ã€è¿œç¨‹ç”¨æˆ·/ç¯å¢ƒå˜é‡æ”¯æŒ</td></tr><tr><td align="left"><strong>UI</strong></td><td align="left">èœå•é—ªçƒã€Islands ä¸»é¢˜æ¸å˜ä¸æµç•…ã€å­—ä½“æ ·å¼é‡ç½®</td></tr><tr><td align="left"><strong>Version Control</strong></td><td align="left">Git é«˜äº®æ®‹ç•™ã€Worktree æ‰“å¼€å¤±è´¥</td></tr></tbody></table>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p><strong>IntelliJ IDEA 2026.1 EAP 2 çš„å…³é”®å‡çº§ï¼š</strong></p>
<ol>
<li><strong>Gradle Tooling API 9.3.0</strong>ï¼šåº•å±‚é€šä¿¡å‡çº§ï¼Œæœ¬åœ°ä¾èµ–è¡¥å…¨ä¿®å¤</li>
<li><strong>Java è°ƒè¯•å™¨å¢å¼º</strong>ï¼šå¼‚æ­¥å †æ ˆè·Ÿè¸ªå¼€é”€æ£€æµ‹</li>
<li><strong>JUnit 6 æ”¯æŒ</strong>ï¼š<code>CancellationToken</code>ã€<code>@FieldSource</code> ä¿®å¤</li>
<li><strong>DevContainers å¢å¼º</strong>ï¼šr<code>emoteUser/remoteEnv/userEnvProbe</code> é€‰é¡¹</li>
<li><strong>HTTP Client</strong>ï¼šæ–°å¢ <code>wait-for</code> å‡½æ•°</li>
<li><strong>Claude Code</strong>ï¼šClaude Code æ”¯æŒ Shift+Enter æ¢è¡Œ</li>
<li><strong>Kotlin K2</strong>ï¼šæ™ºèƒ½è¡¥å…¨æ”¹è¿›ã€æšä¸¾å€¼è½¯å¼ƒç”¨</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä¿®å¤é€šé…æ³›å‹ CPU é£™å‡ç­‰é—®é¢˜</li>
</ol>
<p><strong>å»ºè®®ï¼š</strong></p>
<ul>
<li>å¦‚æœä½ åœ¨ç”¨ Gradle 9.xã€JUnit 6ã€æˆ–è€…æå®¹å™¨åŒ–å¼€å‘ï¼Œè¿™æ¬¡ EAP å€¼å¾—ä¸€è¯•</li>
<li>EAP ç‰ˆæœ¬å®Œå…¨å…è´¹ï¼Œä½†å¯èƒ½ä¸ç¨³å®šï¼Œç”Ÿäº§ç¯å¢ƒè°¨æ…ä½¿ç”¨</li>
<li>å¯ä»¥åœ¨è™šæ‹Ÿæœºæˆ–æµ‹è¯•é¡¹ç›®é‡Œå…ˆè¯•è¯•ï¼Œåé¦ˆç»™ JetBrains å¸®åŠ©æ”¹è¿›æœ€ç»ˆç‰ˆæœ¬</li>
</ul>
<p><strong>â­ï¸æ¨è</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fhome.html" target="_blank" title="https://javaguide.cn/home.html" ref="nofollow noopener noreferrer">Java é¢è¯• &amp; åç«¯é€šç”¨é¢è¯•æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fzhuanlan%2Finterview-guide.html" target="_blank" title="https://javaguide.cn/zhuanlan/interview-guide.html" ref="nofollow noopener noreferrer">ã€ŠSpringAI æ™ºèƒ½é¢è¯•å¹³å°+RAG çŸ¥è¯†åº“ã€‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Finterview-preparation%2Fjava-roadmap.html" target="_blank" title="https://javaguide.cn/interview-preparation/java-roadmap.html" ref="nofollow noopener noreferrer">Java å­¦ä¹ è·¯çº¿(æœ€æ–°ç‰ˆï¼Œ4w+å­—)</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Finterview-preparation%2Fpdf-interview-javaguide.html" target="_blank" title="https://javaguide.cn/interview-preparation/pdf-interview-javaguide.html" ref="nofollow noopener noreferrer">2026 æœ€æ–°åç«¯é¢è¯• PDF èµ„æ–™</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[docker-compose k8séƒ¨ç½²é¡¹ç›®ä½¿ç”¨æœåŠ¡åç§°ï¼Œåç«¯æœåŠ¡å‘å¸ƒåå‡ºç°æ¥å£502é—®é¢˜]]></title>    <link>https://juejin.cn/post/7602837527673929743</link>    <guid>https://juejin.cn/post/7602837527673929743</guid>    <pubDate>2026-02-04T11:30:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602837527673929743" data-draft-id="7600990891206049819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="docker-compose k8séƒ¨ç½²é¡¹ç›®ä½¿ç”¨æœåŠ¡åç§°ï¼Œåç«¯æœåŠ¡å‘å¸ƒåå‡ºç°æ¥å£502é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,Nginx,Docker"/> <meta itemprop="datePublished" content="2026-02-04T11:30:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="litongqian"/> <meta itemprop="url" content="https://juejin.cn/user/4318537403609374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            docker-compose k8séƒ¨ç½²é¡¹ç›®ä½¿ç”¨æœåŠ¡åç§°ï¼Œåç«¯æœåŠ¡å‘å¸ƒåå‡ºç°æ¥å£502é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4318537403609374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    litongqian
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T11:30:55.000Z" title="Wed Feb 04 2026 11:30:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™é‡Œä½¿ç”¨ä¸€ä¸ªä¾‹å­docker-compose.yml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">docker-compose.yml</span>
<span class="hljs-comment"># ç¡®ä¿æ‰€æœ‰æœåŠ¡åœ¨åŒä¸€ç½‘ç»œ</span>
<span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">app:</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mynetwork</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mysql</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">redis</span>
  
  <span class="hljs-attr">mysql:</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mynetwork</span>
  
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">mynetwork</span>
  <span class="hljs-attr">imotor-ltq:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">phm-ltq:1.0.0</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">imotor-ltq</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app_net</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">limits:</span>
          <span class="hljs-attr">cpus:</span> <span class="hljs-string">'3.00'</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">5G</span>
        <span class="hljs-attr">reservations:</span>
          <span class="hljs-attr">cpus:</span> <span class="hljs-string">'3.00'</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">2G</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"7953:8080"</span>
<span class="hljs-attr">spectral-ltq-web:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">spectral-ltq-web:1.0.0</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">spectral-ltq-web</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>
    <span class="hljs-attr">networks:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">app_net</span>
    <span class="hljs-attr">deploy:</span>
      <span class="hljs-attr">resources:</span>
        <span class="hljs-attr">limits:</span>
          <span class="hljs-attr">cpus:</span> <span class="hljs-string">'1.00'</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">1G</span>
        <span class="hljs-attr">reservations:</span>
          <span class="hljs-attr">cpus:</span> <span class="hljs-string">'1.00'</span>
          <span class="hljs-attr">memory:</span> <span class="hljs-string">1G</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"7777:8080"</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-attr">imotor-algo:</span>
        <span class="hljs-attr">condition:</span> <span class="hljs-string">service_healthy</span>
<span class="hljs-attr">networks:</span>
  <span class="hljs-attr">mynetwork:</span>
    <span class="hljs-attr">driver:</span> <span class="hljs-string">bridge</span>
</code></pre>
<p>å‰ç«¯nginx é•œåƒå®¹å™¨é…ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">    location /api/ {                <span class="hljs-comment"># ä½¿ç”¨å˜é‡å¼ºåˆ¶æ¯æ¬¡è§£æ                proxy_pass http://imotor-ltq:7953/;                proxy_set_header Host $proxy_host;                proxy_set_header X-Real-IP $remote_addr;                proxy_set_header remote_addr $remote_addr;                proxy_http_version 1.1;                proxy_connect_timeout 4s;                proxy_read_timeout 600s;                proxy_send_timeout 12s;            }</span>
</code></pre>
<p>å½“åç«¯å¼€å‘æ–°åŠŸèƒ½å‘ç‰ˆåå¶ç°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a25db82b9124a9d9a56e8116e7b0c61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl0b25ncWlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809454&amp;x-signature=XJ8fy6UaXRvU92xUqTyOTmWWaQ4%3D" alt="" loading="lazy"/></p>
<p>å‘ç°æœåŠ¡ä¸èƒ½ä½¿ç”¨äº†ï¼Œæ¯æ¬¡å‡ºç°è¿™ä¸ªé—®é¢˜æ—¶ éƒ½éœ€è¦é‡å¯å‰ç«¯é¡¹ç›®ï¼Œ</p>
<p>åé¢å¼€å§‹æ’æŸ¥ï¼šæŸ¥çœ‹docker ç½‘ç»œ</p>
<pre><code class="hljs language-bash" lang="bash">docker network <span class="hljs-built_in">ls</span>
docker network inspect &lt;network_name&gt;
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/474f691b3fe243f2a3e999cce8ec268f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl0b25ncWlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809454&amp;x-signature=Ihwr5itDu0fJrvHd892EnrrYwo4%3D" alt="" loading="lazy"/></p>
<p>å¤šæ¬¡é‡å¯åå‘ç°IPåœ°å€ä¼šå‘ç”Ÿå˜åŒ–ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯ä½¿ç”¨æœåŠ¡åDNSè§£ææ—¶å­˜åœ¨ç¼“å­˜<br/>
ä½¿ç”¨çš„æ˜¯ä¹‹å‰çš„æœåŠ¡IPåœ°å€ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°</p>
<p>è¿›ä¸€æ­¥ç¡®å®šé—®é¢˜ï¼šä½¿ç”¨Â docker-compose exec å‰ç«¯åº”ç”¨ ping imotor-ltq<br/>
æœåŠ¡</p>
<p>è§£å†³æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">server { 
         <span class="hljs-keyword">listen</span>       <span class="hljs-number">8080</span>;<span class="hljs-comment"># è®¿é—®ç«¯å£ </span>
         server_name  localhost;
         resolver <span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">11</span> valid=<span class="hljs-number">10</span>s;  <span class="hljs-comment"># Docker å†…ç½® DNS</span>
         location /api/ {
          set $algo_host imotor-algo;
          rewrite ^<span class="hljs-regexp">/api/</span>(.*)$ /$1 <span class="hljs-keyword">break</span>; <span class="hljs-regexp">//</span>ä½¿ç”¨rewriteé‡ç½®ä¸ºåç«¯éœ€è¦çš„åœ°å€
          proxy_pass http:<span class="hljs-regexp">//</span>$algo_host:<span class="hljs-number">8080</span>;
       }
    }
</code></pre>
<p>// æ·»åŠ Â resolver 127.0.0.11 valid=10s; # Docker å†…ç½® DNS<br/>
ä½¿ç”¨å˜é‡</p>
<p>Â set $algo_host imotor-algo;</p>
<p>rewrite ^/api/(.*)<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex"> /</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">/</span></span></span></span></span>1 break;</p>
<p>proxy_pass http://$algo_host:8080;</p>
<p>ä¹‹å‰æƒ³çœç•¥Â  rewrite ^/api/(.*)<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex"> /</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">/</span></span></span></span></span>1 break;ç›´æ¥åœ¨åé¢åŠ /</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">set</span> <span class="hljs-variable">$algo_host</span> imotor-algo;
proxy_pass http://<span class="hljs-variable">$algo_host</span>:8080/;
</code></pre>
<p>å‘ç°æ‰¾ä¸åˆ°æœåŠ¡åœ°å€ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› </p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Ant Design Token Lensï¼šè®© Ant Design Token åœ¨ VS Code ä¸­ã€Œå¯è§†åŒ–ã€ï¼Œæ‹’ç»æŠ½è±¡ï¼Œæ‰€è§å³æ‰€å¾—]]></title>    <link>https://juejin.cn/post/7602841282801909801</link>    <guid>https://juejin.cn/post/7602841282801909801</guid>    <pubDate>2026-02-04T11:37:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602841282801909801" data-draft-id="7602579671476011027" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Ant Design Token Lensï¼šè®© Ant Design Token åœ¨ VS Code ä¸­ã€Œå¯è§†åŒ–ã€ï¼Œæ‹’ç»æŠ½è±¡ï¼Œæ‰€è§å³æ‰€å¾—"/> <meta itemprop="keywords" content="Visual Studio Code,å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-02-04T11:37:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™šé£äºˆæ˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/4344859055106215"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Ant Design Token Lensï¼šè®© Ant Design Token åœ¨ VS Code ä¸­ã€Œå¯è§†åŒ–ã€ï¼Œæ‹’ç»æŠ½è±¡ï¼Œæ‰€è§å³æ‰€å¾—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4344859055106215/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™šé£äºˆæ˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T11:37:42.000Z" title="Wed Feb 04 2026 11:37:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ æ˜¯ä¸€åä½¿ç”¨ Ant Design (v5/v6) è¿›è¡Œå¼€å‘çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œå°¤å…¶æ˜¯å½“ä½ ç»“åˆ <strong>Tailwind CSS</strong> æˆ–ç¼–å†™ <strong>CSS/Less/Sass</strong> æ ·å¼æ—¶ï¼Œä½ æ˜¯å¦é‡åˆ°è¿‡ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ul>
<li><strong>Token æ˜¯æŠ½è±¡çš„</strong>ï¼šçœ‹åˆ° <code>var(--ant-color-primary)</code> æ—¶ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆé¢œè‰²ã€‚</li>
<li><strong>ç›²äººæ‘¸è±¡</strong>ï¼šä¸ºäº†æ‰¾ä¸€ä¸ªåˆé€‚çš„ Tokenï¼Œä¸å¾—ä¸åœ¨ Ant Design å®˜ç½‘å’Œä»£ç ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚</li>
<li><strong>Tailwind çš„å°´å°¬</strong>ï¼šæƒ³åœ¨ Tailwind ä¸­ä½¿ç”¨ Ant Design Tokenï¼Œç”¨ <code>${token.colorPrimary}</code> å´å‘ç°æ ·å¼ä¸ç”Ÿæ•ˆï¼Œåªèƒ½é€€åŒ–å›<strong>è¡Œå†…æ ·å¼</strong>ã€‚</li>
<li><strong>è®°å¿†è´Ÿæ‹…</strong>ï¼šToken æ•°é‡åºå¤§ï¼Œéœ€è¦è®°ä½ Token çš„åå­—å’Œä½œç”¨ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91d23fac58ce4ddeb510bde035477905~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pma6aOO5LqI5pif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809861&amp;x-signature=rRAnVrGl2AnO7E5ZJ6dpzwrPlU0%3D" alt="example-1 (1).gif" loading="lazy"/></p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FlxKylin%2Fvscode-ext-antd-token-lens" target="_blank" title="https://github.com/lxKylin/vscode-ext-antd-token-lens" ref="nofollow noopener noreferrer">Ant Design Token Lens</a></strong> å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›ç—›ç‚¹è€Œç”Ÿçš„ VS Code æ’ä»¶ã€‚å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯è®© Ant Design CSS Token åœ¨ç¼–è¾‘å™¨ä¸­å˜å¾—<strong>å¯è§ã€å¯ç†è§£ã€å¯æ“ä½œ</strong>ã€‚</p>
<blockquote>
<p>ğŸ’¡ <strong>ä¸€å¥è¯æ¨è</strong>ï¼šå®ƒå°±åƒæ˜¯ç»™ä½ çš„ VS Code è£…ä¸Šäº†ä¸€å‰¯â€œAnt Design é€è§†é•œâ€ï¼Œè®©ä½ åœ¨å†™ä»£ç æ—¶èƒ½ç›´æ¥çœ‹åˆ° Token èƒŒåçš„çœŸå®é¢œè‰²å’Œå«ä¹‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆä¼šéœ€è¦è¿™ä¸ªæ’ä»¶</h2>
<p>Ant Design æä¾›äº† <code>useToken</code> å’Œ <code>getDesignToken</code> æ¥è·å– Design Tokenï¼Œä½†ä»…é™äº React è¿è¡Œæ—¶ç¯å¢ƒã€‚åœ¨ <code>.css</code>ã€<code>.less</code> ç­‰æ ·å¼æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ç»“åˆ <code>Tailwind CSS</code> å¼€å‘æ—¶ï¼Œç›´æ¥ä½¿ç”¨è¿™äº› JS å˜é‡å¾€å¾€å­˜åœ¨é™åˆ¶ã€‚</p>
<p>ç‰¹åˆ«æ˜¯ Design Token åœ¨ <code>Tailwind CSS</code> ä¸­é€šå¸¸<strong>ä¸ç”Ÿæ•ˆ</strong>ï¼Œåªèƒ½é€€åŒ–ä¸º<strong>è¡Œå†…æ ·å¼</strong>ä½¿ç”¨ã€‚</p>
<p>ä½œä¸ºä¸€å <code>Tailwind CSS</code> ä½¿ç”¨è€…ï¼Œæˆ‘å¸Œæœ›èƒ½ç›´è§‚åœ°çœ‹åˆ° Token çš„å®é™…æ•ˆæœï¼Œè€Œä¸æ˜¯é¢å¯¹æŠ½è±¡çš„å˜é‡åã€‚ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œè®© Token åœ¨ VS Code ä¸­çœŸå®â€œå¯è§â€ï¼Œæœ¬æ’ä»¶åº”è¿è€Œç”Ÿã€‚</p>
<p><strong>âŒ å¸¸è§çš„é”™è¯¯åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ğŸ˜­ Tailwind æ— æ³•è§£æåŠ¨æ€å˜é‡ï¼Œå¯¼è‡´æ ·å¼ä¸¢å¤±</span>
&lt;div className={<span class="hljs-string">`text-[<span class="hljs-subst">${token.colorPrimary}</span>]`</span>}&gt;<span class="hljs-title class_">Hello</span>&lt;/div&gt;
</code></pre>
<p>Tailwind æ˜¯åœ¨<strong>æ„å»ºæ—¶</strong>ï¼ˆBuild Timeï¼‰å·¥ä½œçš„ï¼Œå®ƒéœ€è¦æ‰«æé™æ€å­—ç¬¦ä¸²æ¥ç”Ÿæˆ CSSã€‚åŠ¨æ€çš„ JavaScript å˜é‡åœ¨æ„å»ºé˜¶æ®µæ˜¯æœªçŸ¥çš„ï¼Œå› æ­¤ Tailwind ä¼šç›´æ¥å¿½ç•¥å®ƒã€‚</p>
<p><strong>âœ… æœ€ä½³å®è·µï¼š</strong></p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ğŸ˜ ä½¿ç”¨ CSS å˜é‡ï¼ŒTailwind å¯ä»¥ç›´æ¥è¯†åˆ«å¹¶ç”Ÿæˆå·¥å…·ç±»</span>
&lt;div className=<span class="hljs-string">"text-[var(--ant-color-primary)]"</span>&gt;<span class="hljs-title class_">Hello</span>&lt;/div&gt;
</code></pre>
<p>æ ¸å¿ƒåŒºåˆ«ï¼šé™æ€å­—ç¬¦ä¸² vs åŠ¨æ€æ’å€¼</p>
<h3 data-id="heading-1"><code>text-[var(--ant-color-primary)]</code> ä¸ºä»€ä¹ˆå¯è¡Œï¼Ÿ</h3>
<ul>
<li>æ„å»ºé˜¶æ®µï¼š<code>Tailwind</code> æ‰«æå™¨åœ¨æºç ä¸­çœ‹åˆ°äº† <code>text-[var(--ant-color-primary)]</code> è¿™ä¸ªå®Œæ•´çš„é™æ€å­—ç¬¦ä¸²ã€‚å®ƒä¸éœ€è¦æ‰§è¡Œ JSï¼Œå°±çŸ¥é“ä½ è¦ä¸€ä¸ªä»»æ„å€¼å·¥å…·ç±»ã€‚</li>
<li>ç”Ÿæˆ CSSï¼šå®ƒæå–ä¸­æ‹¬å·é‡Œçš„å†…å®¹ï¼Œç›´æ¥ç”Ÿæˆå¦‚ä¸‹ CSS è§„åˆ™ï¼š</li>
<li>è¿è¡Œé˜¶æ®µï¼šæµè§ˆå™¨è¯»å–è¿™è¡Œ CSSã€‚æ­¤æ—¶ Ant Design å·²ç»ï¼ˆé€šè¿‡ JSï¼‰æŠŠ <code>--ant-color-primary</code> æ³¨å…¥åˆ°äº† html æˆ– body æ ‡ç­¾ä¸Šï¼Œæµè§ˆå™¨æˆåŠŸè§£æäº†å˜é‡ï¼Œé¢œè‰²ç”Ÿæ•ˆã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c4d496c4fc644469672baf297c66b5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pma6aOO5LqI5pif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809861&amp;x-signature=c%2BIXi5Eju%2FZwW4GBVpV5jYPjPEo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2"><code>text-[${token.colorPrimary}]</code> ä¸ºä»€ä¹ˆä¸å¯è¡Œï¼Ÿ</h3>
<ul>
<li>æ„å»ºé˜¶æ®µï¼š<code>Tailwind</code> æ‰«æå™¨çœ‹åˆ°çš„æ˜¯ <code>text-[${token.colorPrimary}]</code>ã€‚è¿™æ˜¯ä¸€ä¸ªåŒ…å«å˜é‡çš„æ¨¡æ¿å­—ç¬¦ä¸²ã€‚</li>
<li>æ— æ³•é¢„æµ‹ï¼š<code>Tailwind</code> åªè¿›è¡Œé™æ€æ–‡æœ¬åˆ†æï¼Œå®ƒä¸æ‰§è¡Œ <code>JavaScript</code>ã€‚å®ƒæ— æ³•é¢„çŸ¥ <code>token.colorPrimary</code> åˆ°åº•ä¼šå˜æˆ <code>#1677ff</code> è¿˜æ˜¯ <code>red</code>ã€‚</li>
<li>ç»“æœï¼šå› ä¸ºæ— æ³•ç¡®å®šç±»åï¼Œ<code>Tailwind</code> æ”¾å¼ƒç”Ÿæˆä»»ä½• CSSã€‚</li>
<li>è¿è¡Œé˜¶æ®µï¼šè™½ç„¶ React æŠŠç±»åæ¸²æŸ“æˆäº† <code>text-[#1677ff]</code>ï¼Œä½†å¯¹åº”çš„ CSS è§„åˆ™æ ¹æœ¬ä¸å­˜åœ¨ï¼Œæ‰€ä»¥é¢œè‰²ä¸ç”Ÿæ•ˆã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">æ ¸å¿ƒåŠŸèƒ½äº®ç‚¹</h2>
<h3 data-id="heading-4">1. é¢œè‰²å¯è§†åŒ–</h3>
<p>æ‹’ç»æŠ½è±¡ï¼Œæ‰€è§å³æ‰€å¾—ã€‚æ’ä»¶ä¼šè‡ªåŠ¨æ‰«æä½ ä»£ç ä¸­çš„ <code>var(--ant-*)</code> æ ¼å¼ Tokenï¼Œå¹¶ç›´æ¥åœ¨ä»£ç æ˜¾ç¤ºå¯¹åº”çš„é¢œè‰²è£…é¥°å™¨ã€‚</p>
<ul>
<li><strong>å®æ—¶åé¦ˆ</strong>ï¼šå½“ä½ ä¿®æ”¹ Token åæ—¶ï¼Œé¢œè‰²å—ç«‹å³æ›´æ–°ã€‚</li>
<li><strong>ä¸»é¢˜æ„ŸçŸ¥</strong>ï¼šæ”¯æŒè‡ªåŠ¨æ£€æµ‹æˆ–æ‰‹åŠ¨åˆ‡æ¢ Light/Dark ä¸»é¢˜ï¼ŒæŸ¥çœ‹ Token åœ¨ä¸åŒæ¨¡å¼ä¸‹çš„è¡¨ç°ã€‚</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šå®Œç¾æ”¯æŒ <code>.css</code>, <code>.less</code>, <code>.scss</code>, <code>.ts</code>, <code>.tsx</code>, <code>.vue</code>, <code>.html</code>, <code>markdown</code> ç­‰æ–‡ä»¶ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca49cb3f7f954679a84c3ce9e828a0f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pma6aOO5LqI5pif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809861&amp;x-signature=piXytTnf%2B5dbHCCxEHEXGqrD4bI%3D" alt="example-2.png" loading="lazy"/></p>
<h3 data-id="heading-5">2. æ™ºèƒ½è‡ªåŠ¨è¡¥å…¨</h3>
<p>å¿˜è®° Token çš„å…·ä½“æ‹¼å†™ï¼Ÿæ²¡å…³ç³»ã€‚</p>
<ul>
<li><strong>æé€Ÿè§¦å‘</strong>ï¼šè¾“å…¥ <code>var(--</code> æˆ– <code>--ant</code> å³å¯å”¤èµ·è¡¥å…¨åˆ—è¡¨ã€‚</li>
<li><strong>å¯Œäº¤äº’åˆ—è¡¨</strong>ï¼šè¡¥å…¨åˆ—è¡¨ä¸­ä¸ä»…æœ‰ Token åç§°ï¼Œè¿˜ç›´æ¥å±•ç¤ºé¢œè‰²é¢„è§ˆã€ä¸­æ–‡æè¿°å’Œå½“å‰å€¼ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b90d2b4ba15a43519391d36a42ba308b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pma6aOO5LqI5pif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809861&amp;x-signature=TE808OejZQvAoixOeRNJbEpC%2BGs%3D" alt="example-4.png" loading="lazy"/></p>
<h3 data-id="heading-6">3. æ·±åº¦ä¿¡æ¯é€è§†</h3>
<p>é¼ æ ‡æ‚¬åœåœ¨ Token ä¸Šï¼Œä»¿ä½›æ‹¥æœ‰äº†é€è§†çœ¼ã€‚Hover æç¤ºæ¡†å°†ä¸ºä½ å±•ç¤ºï¼š</p>
<ul>
<li><strong>åŒä¸»é¢˜å¯¹æ¯”</strong>ï¼šåŒæ—¶åˆ—å‡ºè¯¥ Token åœ¨ Light å’Œ Dark æ¨¡å¼ä¸‹çš„è‰²å€¼ (HEX/RGB)ã€‚</li>
<li><strong>è¯­ä¹‰è¯´æ˜</strong>ï¼šæ˜¾ç¤ºå®˜æ–¹çš„ä¸­æ–‡è¯­ä¹‰æè¿°ï¼ˆå¦‚ï¼š<code>ColorError</code> - "é”™è¯¯è‰²"ï¼‰ã€‚</li>
<li><strong>ä¸€é”®æ“ä½œ</strong>ï¼šæ”¯æŒå¤åˆ¶ Token å€¼ã€æŸ¥æ‰¾å¼•ç”¨ç­‰å¿«æ·æ“ä½œã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fedceb507e144bf6bb7c2515c38476d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pma6aOO5LqI5pif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770809861&amp;x-signature=x6CUPjA9oiTYD747KC3jVLKvIrc%3D" alt="example-3.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">å¿«é€Ÿå¼€å§‹</h2>
<ol>
<li>æ‰“å¼€ <strong>VS Code æ‰©å±•å¸‚åœº</strong>ã€‚</li>
<li>æœç´¢ <strong>"Ant Design Token Lens"</strong>ã€‚</li>
<li>ç‚¹å‡»å®‰è£…ã€‚</li>
</ol>
<p>æˆ–è€…ç›´æ¥è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3DlxKylin.ant-design-token-lens" target="_blank" title="https://marketplace.visualstudio.com/items?itemName=lxKylin.ant-design-token-lens" ref="nofollow noopener noreferrer">Ant Design Token Lens</a>è¿›è¡Œå®‰è£…ã€‚</p>
<p>æ— éœ€ç¹çé…ç½®ï¼Œå®‰è£…å³ç”¨ã€‚</p>
<h2 data-id="heading-8">ç»“è¯­</h2>
<p>ä»ä»Šå¤©å¼€å§‹ï¼Œå‘Šåˆ«åœ¨æ–‡æ¡£å’Œç¼–è¾‘å™¨ä¹‹é—´åå¤æ¨ªè·³çš„æ—¥å­ã€‚è®© <strong>Ant Design Token Lens</strong> æˆä¸ºä½ å¼€å‘ Ant Design åº”ç”¨çš„å¾—åŠ›åŠ©æ‰‹ï¼Œä½“éªŒ<strong>ç²¾å‡†ã€ç›´è§‚ã€é«˜æ•ˆ</strong>çš„æ ·å¼å¼€å‘æµç¨‹ã€‚</p>
<ul>
<li>å¦‚å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ç»™<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FlxKylin%2Fvscode-ext-antd-token-lens" target="_blank" title="https://github.com/lxKylin/vscode-ext-antd-token-lens" ref="nofollow noopener noreferrer">GitHubä»“åº“</a>ç‚¹ä¸€ä¸ªStarğŸŒŸå™¢ï¼</li>
<li>æˆ–è€…è¯´æœ‰ä»€ä¹ˆæ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿æissue</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 10 ç¯‡ï¼šè®©åº”ç”¨æ›´å¥å£® - é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ]]></title>    <link>https://juejin.cn/post/7602789520035872778</link>    <guid>https://juejin.cn/post/7602789520035872778</guid>    <pubDate>2026-02-04T11:38:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602789520035872778" data-draft-id="7602811649126121523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 10 ç¯‡ï¼šè®©åº”ç”¨æ›´å¥å£® - é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,uni-app"/> <meta itemprop="datePublished" content="2026-02-04T11:38:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HashTang"/> <meta itemprop="url" content="https://juejin.cn/user/1117561754756488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 10 ç¯‡ï¼šè®©åº”ç”¨æ›´å¥å£® - é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561754756488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HashTang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T11:38:48.000Z" title="Wed Feb 04 2026 11:38:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><blockquote>
<p>åŠŸèƒ½åšå®Œäº†ï¼Œä½†ç”¨æˆ·ä½“éªŒè¿˜å·®ä¸€æ­¥â€”â€”å½“ç½‘ç»œå‡ºé”™ã€æ¥å£è¶…æ—¶ã€æ•°æ®å¼‚å¸¸æ—¶ï¼Œåº”ç”¨ä¼šä¸ä¼šå´©æºƒï¼Ÿç”¨æˆ·èƒ½ä¸èƒ½çœ‹åˆ°å‹å¥½çš„æç¤ºï¼Ÿè¿™ç¯‡æ–‡ç« ä»¥<strong>å¿ƒåŠ¨æ‹èŠ</strong>å°ç¨‹åºä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å’Œ AI å¯¹è¯ï¼Œæ„å»º<strong>å¥å£®ã€å‹å¥½ã€å¯ç»´æŠ¤</strong>çš„é”™è¯¯å¤„ç†ä½“ç³»ã€‚</p>
<p><strong>ç³»åˆ—ä¸“æ </strong>ï¼š<a href="https://juejin.cn/column/7579556047783624756" target="_blank" title="https://juejin.cn/column/7579556047783624756">ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ä¸“æ ç›®å½•</a></p>
<p><strong>æœ¬ç¯‡ä¸»é¢˜</strong>ï¼šè®©åº”ç”¨æ›´å¥å£® - é”™è¯¯å¤„ç†ä¸è¾¹ç•Œæƒ…å†µ</p>
<p><strong>å®æˆ˜é¡¹ç›®</strong>ï¼šå¿ƒåŠ¨æ‹èŠ - AI æ‹çˆ±èŠå¤©åŠ©æ‰‹</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ï¼šé”™è¯¯å¤„ç†çš„é‡è¦æ€§</h2>
<h3 data-id="heading-1">1.1 æ²¡æœ‰é”™è¯¯å¤„ç†çš„ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ å±é™©ï¼šæ²¡æœ‰ä»»ä½•é”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenerate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chatService.<span class="hljs-title function_">generateReply</span>({ <span class="hljs-attr">text</span>: inputText.<span class="hljs-property">value</span> });
  replies.<span class="hljs-property">value</span> = response.<span class="hljs-property">data</span>.<span class="hljs-property">replies</span>;
};
</code></pre>
<p><strong>å¯èƒ½å‡ºç°çš„é—®é¢˜</strong>ï¼š</p>
<ul>
<li>ç½‘ç»œæ–­å¼€ â†’ åº”ç”¨ç™½å±</li>
<li>æ¥å£è¶…æ—¶ â†’ æ— ä»»ä½•åé¦ˆ</li>
<li>è¿”å›æ•°æ®ä¸ºç©º â†’ <code>Cannot read property 'replies' of undefined</code></li>
<li>ç”¨æˆ·ç‚¹å‡»å¤šæ¬¡ â†’ é‡å¤è¯·æ±‚</li>
</ul>
<h3 data-id="heading-2">1.2 å®Œå–„çš„é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âœ… å¥å£®ï¼šå®Œæ•´çš„é”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenerate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (loading.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// é˜²é‡å¤ç‚¹å‡»</span>

  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chatService.<span class="hljs-title function_">generateReply</span>({ <span class="hljs-attr">text</span>: inputText.<span class="hljs-property">value</span> });

    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">code</span> !== <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(response.<span class="hljs-property">msg</span> || <span class="hljs-string">'ç”Ÿæˆå¤±è´¥'</span>);
    }

    replies.<span class="hljs-property">value</span> = response.<span class="hljs-property">data</span>?.<span class="hljs-property">replies</span> ?? [];  <span class="hljs-comment">// ç©ºå€¼ä¿æŠ¤</span>
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">const</span> errMsg = error?.<span class="hljs-property">message</span> || <span class="hljs-string">'ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åå†è¯•'</span>;
    toast.<span class="hljs-title function_">error</span>(errMsg);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç”Ÿæˆå›å¤å¤±è´¥:'</span>, error);
  } <span class="hljs-keyword">finally</span> {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
};
</code></pre>
<h3 data-id="heading-3">1.3 æœ¬æ–‡è¦è§£å†³çš„é—®é¢˜</h3>





























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ç½‘ç»œé”™è¯¯</td><td>ç»Ÿä¸€é”™è¯¯æç¤º + é‡è¯•æœºåˆ¶</td></tr><tr><td>æ¥å£é”™è¯¯ç </td><td>åˆ†ç±»å¤„ç†ï¼ˆ401/403/500ï¼‰</td></tr><tr><td>ç©ºå€¼å¼‚å¸¸</td><td>å¯é€‰é“¾ + ç©ºå€¼åˆå¹¶</td></tr><tr><td>é‡å¤ç‚¹å‡»</td><td>loading çŠ¶æ€é”å®š</td></tr><tr><td>ç”¨æˆ·å–æ¶ˆ</td><td>åŒºåˆ†å–æ¶ˆå’ŒçœŸæ­£çš„é”™è¯¯</td></tr></tbody></table>
<h2 data-id="heading-4">äºŒã€ç»Ÿä¸€é”™è¯¯æç¤ºï¼šToast å°è£…</h2>
<h3 data-id="heading-5">2.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé¡¹ç›®é‡Œå¾ˆå¤šåœ°æ–¹è¦æ˜¾ç¤ºæç¤ºï¼Œæœ‰æˆåŠŸã€å¤±è´¥ã€è­¦å‘Šç­‰ç±»å‹ã€‚
    æ¯æ¬¡éƒ½å†™ uni.showToast å¤ªç¹çï¼Œèƒ½ä¸èƒ½å°è£…ä¸€ä¸‹ï¼Ÿ
</code></pre>
<h3 data-id="heading-6">2.2 AI è®¾è®¡æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šå°è£…ä¸€ä¸ª toast å·¥å…·ï¼Œæä¾›é“¾å¼è°ƒç”¨ï¼š

ğŸ“ æ¥å£è®¾è®¡ï¼š

toast.success('æ“ä½œæˆåŠŸ')
toast.error('æ“ä½œå¤±è´¥')
toast.warning('è¯·æ³¨æ„')
toast.info('æç¤ºä¿¡æ¯')

ğŸ“ é…ç½®é€‰é¡¹ï¼š

interface ToastOptions {
  duration?: number;      // æ˜¾ç¤ºæ—¶é•¿ï¼Œé»˜è®¤ 2000ms
  position?: 'top' | 'middle' | 'bottom';  // ä½ç½®
  mask?: boolean;         // æ˜¯å¦æ˜¾ç¤ºé®ç½©é˜²æ­¢ç©¿é€
}
</code></pre>
<h3 data-id="heading-7">2.3 AI ç”Ÿæˆä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/toast.ts</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ToastType</span> = <span class="hljs-string">'success'</span> | <span class="hljs-string">'error'</span> | <span class="hljs-string">'warning'</span> | <span class="hljs-string">'info'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ToastOptions</span> {
  <span class="hljs-keyword">type</span>?: <span class="hljs-title class_">ToastType</span>;
  duration?: <span class="hljs-built_in">number</span>;
  position?: <span class="hljs-string">'top'</span> | <span class="hljs-string">'middle'</span> | <span class="hljs-string">'bottom'</span>;
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;
  mask?: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showToast</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showToast</span>(<span class="hljs-params">options: ToastOptions</span>): <span class="hljs-built_in">void</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showToast</span>(<span class="hljs-params">options: ToastOptions | <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">defaultOptions</span>: <span class="hljs-title class_">ToastOptions</span> = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>,
    <span class="hljs-attr">duration</span>: <span class="hljs-number">2000</span>,
    <span class="hljs-attr">position</span>: <span class="hljs-string">'middle'</span>,
    <span class="hljs-attr">message</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">mask</span>: <span class="hljs-literal">false</span>,
  };

  <span class="hljs-keyword">const</span> mergedOptions = <span class="hljs-keyword">typeof</span> options === <span class="hljs-string">'string'</span>
    ? { ...defaultOptions, <span class="hljs-attr">message</span>: options }
    : { ...defaultOptions, ...options };

  <span class="hljs-comment">// æ˜ å°„ position åˆ° UniApp æ”¯æŒçš„æ ¼å¼</span>
  <span class="hljs-keyword">const</span> positionMap = {
    <span class="hljs-attr">top</span>: <span class="hljs-string">'top'</span>,
    <span class="hljs-attr">middle</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">bottom</span>: <span class="hljs-string">'bottom'</span>,
  };

  uni.<span class="hljs-title function_">showToast</span>({
    <span class="hljs-attr">title</span>: mergedOptions.<span class="hljs-property">message</span>,
    <span class="hljs-attr">duration</span>: mergedOptions.<span class="hljs-property">duration</span>,
    <span class="hljs-attr">position</span>: positionMap[mergedOptions.<span class="hljs-property">position</span> ?? <span class="hljs-string">'middle'</span>],
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
    <span class="hljs-attr">mask</span>: mergedOptions.<span class="hljs-property">mask</span>,
  });
}

<span class="hljs-comment">// ä¾¿æ·æ–¹æ³•</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">SimpleToastOptions</span> = <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">ToastOptions</span>, <span class="hljs-string">'type'</span> | <span class="hljs-string">'message'</span>&gt;;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> toast = {
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">string</span>, options?: SimpleToastOptions</span>) =&gt;</span>
    <span class="hljs-title function_">showToast</span>({ ...options, <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>, message }),
  <span class="hljs-attr">error</span>: <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">string</span>, options?: SimpleToastOptions</span>) =&gt;</span>
    <span class="hljs-title function_">showToast</span>({ ...options, <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>, message }),
  <span class="hljs-attr">warning</span>: <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">string</span>, options?: SimpleToastOptions</span>) =&gt;</span>
    <span class="hljs-title function_">showToast</span>({ ...options, <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>, message }),
  <span class="hljs-attr">info</span>: <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">string</span>, options?: SimpleToastOptions</span>) =&gt;</span>
    <span class="hljs-title function_">showToast</span>({ ...options, <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>, message }),
};
</code></pre>
<h3 data-id="heading-8">2.4 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { toast } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/toast'</span>;

<span class="hljs-comment">// ç®€å•ç”¨æ³•</span>
toast.<span class="hljs-title function_">success</span>(<span class="hljs-string">'ä¿å­˜æˆåŠŸ'</span>);
toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åå†è¯•'</span>);

<span class="hljs-comment">// å¸¦é…ç½®</span>
toast.<span class="hljs-title function_">info</span>(<span class="hljs-string">'æ­£åœ¨å¤„ç†...'</span>, { <span class="hljs-attr">duration</span>: <span class="hljs-number">3000</span>, <span class="hljs-attr">mask</span>: <span class="hljs-literal">true</span> });
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€æ¥å£é”™è¯¯åˆ†ç±»å¤„ç†</h2>
<h3 data-id="heading-10">3.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šåç«¯è¿”å›ä¸åŒçš„é”™è¯¯ç ï¼š
    - 401ï¼šæœªç™»å½•æˆ– token è¿‡æœŸ
    - 403ï¼šæ²¡æœ‰æƒé™ï¼ˆå¦‚ VIP åŠŸèƒ½ï¼‰
    - 500ï¼šæœåŠ¡å™¨é”™è¯¯

    ä¸åŒé”™è¯¯ç è¦æœ‰ä¸åŒçš„å¤„ç†é€»è¾‘ã€‚
</code></pre>
<h3 data-id="heading-11">3.2 AI è®¾è®¡é”™è¯¯åˆ†ç±»</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šåœ¨ HTTP å±‚ç»Ÿä¸€å¤„ç†å¸¸è§é”™è¯¯ç ï¼Œä¸šåŠ¡å±‚å¤„ç†ç‰¹æ®Šé”™è¯¯ï¼š

ğŸ“ é”™è¯¯åˆ†ç±»ï¼š

ã€HTTP å±‚å¤„ç†ã€‘ï¼ˆåœ¨ http.ts ä¸­ï¼‰
- 401 â†’ æ¸…é™¤ç™»å½•æ€ï¼Œè·³è½¬ç™»å½•
- ç½‘ç»œé”™è¯¯ â†’ æ˜¾ç¤º"ç½‘ç»œé”™è¯¯"æç¤º

ã€ä¸šåŠ¡å±‚å¤„ç†ã€‘ï¼ˆåœ¨é¡µé¢ä¸­ï¼‰
- 403 â†’ å¼•å¯¼å¼€é€š VIP
- ä¸šåŠ¡é”™è¯¯ â†’ æ˜¾ç¤ºå…·ä½“é”™è¯¯ä¿¡æ¯
</code></pre>
<h3 data-id="heading-12">3.3 HTTP å±‚é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/http/http.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> http&lt;T&gt;(<span class="hljs-attr">options</span>: <span class="hljs-title class_">CustomRequestOptions</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">IResData</span>&lt;T&gt;&gt;(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    uni.<span class="hljs-title function_">request</span>({
      ...options,
      <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-comment">// 2xx çŠ¶æ€ç è§†ä¸ºæˆåŠŸ</span>
        <span class="hljs-keyword">if</span> (res.<span class="hljs-property">statusCode</span> &gt;= <span class="hljs-number">200</span> &amp;&amp; res.<span class="hljs-property">statusCode</span> &lt; <span class="hljs-number">300</span>) {
          <span class="hljs-title function_">resolve</span>(res.<span class="hljs-property">data</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">IResData</span>&lt;T&gt;);
        }
        <span class="hljs-comment">// 401 æœªæˆæƒ</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (res.<span class="hljs-property">statusCode</span> === <span class="hljs-number">401</span>) {
          <span class="hljs-comment">// æ¸…é™¤ç™»å½•æ€</span>
          uni.<span class="hljs-title function_">removeStorageSync</span>(<span class="hljs-string">'token'</span>);
          <span class="hljs-comment">// å¯ä»¥è§¦å‘å…¨å±€äº‹ä»¶æˆ–è·³è½¬ç™»å½•</span>
          <span class="hljs-title function_">reject</span>(res);
        }
        <span class="hljs-comment">// å…¶ä»–é”™è¯¯</span>
        <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">if</span> (!options.<span class="hljs-property">hideErrorToast</span>) {
            <span class="hljs-keyword">const</span> data = res.<span class="hljs-property">data</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">IResData</span>&lt;T&gt;;
            uni.<span class="hljs-title function_">showToast</span>({
              <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
              <span class="hljs-attr">title</span>: data.<span class="hljs-property">msg</span> || <span class="hljs-string">'è¯·æ±‚é”™è¯¯'</span>,
            });
          }
          <span class="hljs-title function_">reject</span>(res);
        }
      },
      <span class="hljs-comment">// ç½‘ç»œé”™è¯¯</span>
      <span class="hljs-title function_">fail</span>(<span class="hljs-params">err</span>) {
        uni.<span class="hljs-title function_">showToast</span>({
          <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>,
          <span class="hljs-attr">title</span>: <span class="hljs-string">'ç½‘ç»œé”™è¯¯ï¼Œæ¢ä¸ªç½‘ç»œè¯•è¯•'</span>,
        });
        <span class="hljs-title function_">reject</span>(err);
      },
    });
  });
}
</code></pre>
<h3 data-id="heading-13">3.4 ä¸šåŠ¡å±‚é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é¡µé¢ä¸­å¤„ç† 403 ç­‰ä¸šåŠ¡é”™è¯¯</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenerate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chatService.<span class="hljs-title function_">generateReply</span>(params);

    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">code</span> !== <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(response.<span class="hljs-property">msg</span> || <span class="hljs-string">'ç”Ÿæˆå¤±è´¥'</span>);
    }

    replies.<span class="hljs-property">value</span> = response.<span class="hljs-property">data</span>?.<span class="hljs-property">replies</span> ?? [];
  } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç”Ÿæˆå›å¤å¤±è´¥:'</span>, error);

    <span class="hljs-comment">// æå–é”™è¯¯ä¿¡æ¯</span>
    <span class="hljs-keyword">const</span> errMsg = error?.<span class="hljs-property">data</span>?.<span class="hljs-property">message</span>
      || error?.<span class="hljs-property">msg</span>
      || error?.<span class="hljs-property">message</span>
      || <span class="hljs-string">'ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åå†è¯•'</span>;

    <span class="hljs-comment">// æ ¹æ®çŠ¶æ€ç åˆ†ç±»å¤„ç†</span>
    <span class="hljs-keyword">const</span> statusCode = error?.<span class="hljs-property">statusCode</span> || error?.<span class="hljs-property">data</span>?.<span class="hljs-property">code</span> || error?.<span class="hljs-property">code</span>;

    <span class="hljs-keyword">if</span> (statusCode === <span class="hljs-number">403</span>) {
      <span class="hljs-comment">// æƒé™ä¸è¶³ï¼Œå¼•å¯¼å¼€é€š VIP</span>
      <span class="hljs-keyword">const</span> message = errMsg || <span class="hljs-string">'å…è´¹æ¬¡æ•°å·²ç”¨å®Œï¼Œè¯·å¼€é€šVIP'</span>;
      <span class="hljs-title function_">promptOpenVip</span>(message);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// å…¶ä»–é”™è¯¯ï¼Œæ˜¾ç¤ºæç¤º</span>
      toast.<span class="hljs-title function_">error</span>(errMsg);
    }
  } <span class="hljs-keyword">finally</span> {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
};
</code></pre>
<h2 data-id="heading-14">å››ã€ç©ºå€¼ä¿æŠ¤ï¼šé˜²å¾¡æ€§ç¼–ç¨‹</h2>
<h3 data-id="heading-15">4.1 å¸¸è§çš„ç©ºå€¼é”™è¯¯</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ å±é™©ï¼šå¯èƒ½æŠ¥é”™</span>
<span class="hljs-keyword">const</span> username = response.<span class="hljs-property">data</span>.<span class="hljs-property">user</span>.<span class="hljs-property">username</span>;
<span class="hljs-comment">// å¦‚æœ response.data æ˜¯ undefinedï¼Œå°±ä¼šæŠ¥é”™</span>

<span class="hljs-keyword">const</span> firstReply = replies[<span class="hljs-number">0</span>].<span class="hljs-property">text</span>;
<span class="hljs-comment">// å¦‚æœ replies æ˜¯ç©ºæ•°ç»„ï¼Œå°±ä¼šæŠ¥é”™</span>
</code></pre>
<h3 data-id="heading-16">4.2 AI æ•™æˆ‘é˜²å¾¡æ€§ç¼–ç¨‹</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šç”¨å¯é€‰é“¾ï¼ˆ?.ï¼‰å’Œç©ºå€¼åˆå¹¶ï¼ˆ??ï¼‰æ¥ä¿æŠ¤ï¼š

ğŸ“ é˜²å¾¡æ€§ç¼–ç¨‹è§„åˆ™ï¼š

1. è®¿é—®å¯¹è±¡å±æ€§ â†’ ç”¨ ?.
2. æä¾›é»˜è®¤å€¼ â†’ ç”¨ ??
3. æ•°ç»„è®¿é—® â†’ å…ˆæ£€æŸ¥é•¿åº¦æˆ–ç”¨ ?.[0]
</code></pre>
<h3 data-id="heading-17">4.3 å®è·µç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âœ… å®‰å…¨ï¼šå¯é€‰é“¾ + ç©ºå€¼åˆå¹¶</span>
<span class="hljs-keyword">const</span> username = response?.<span class="hljs-property">data</span>?.<span class="hljs-property">user</span>?.<span class="hljs-property">username</span> ?? <span class="hljs-string">'æœªçŸ¥ç”¨æˆ·'</span>;

<span class="hljs-comment">// âœ… å®‰å…¨ï¼šæ•°ç»„ä¿æŠ¤</span>
<span class="hljs-keyword">const</span> replies = response.<span class="hljs-property">data</span>?.<span class="hljs-property">replies</span> ?? [];
<span class="hljs-keyword">const</span> firstReply = replies.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? replies[<span class="hljs-number">0</span>].<span class="hljs-property">text</span> : <span class="hljs-string">''</span>;

<span class="hljs-comment">// âœ… å®‰å…¨ï¼šè§£æ„æ—¶æä¾›é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> { data = {} } = response ?? {};
<span class="hljs-keyword">const</span> { replies = [], analysis = <span class="hljs-string">''</span> } = data;

<span class="hljs-comment">// âœ… å®‰å…¨ï¼šå‡½æ•°å‚æ•°é»˜è®¤å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updateUserInfo</span> = (<span class="hljs-params">info: Partial&lt;UserInfo&gt; = {}</span>) =&gt; {
  <span class="hljs-comment">// info ä¸€å®šæ˜¯å¯¹è±¡ï¼Œä¸ä¼šæ˜¯ undefined</span>
};
</code></pre>
<h3 data-id="heading-18">4.4 å®é™…ä»£ç ä¸­çš„åº”ç”¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç”Ÿæˆå›å¤çš„å®Œæ•´é”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenerate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// ... è¯·æ±‚é€»è¾‘</span>

  <span class="hljs-keyword">const</span> data = response.<span class="hljs-property">data</span> ?? {};

  <span class="hljs-comment">// å®‰å…¨æå–åˆ†æç»“æœ</span>
  analysisResult.<span class="hljs-property">value</span> = data.<span class="hljs-property">analysis</span> || <span class="hljs-string">''</span>;

  <span class="hljs-comment">// å®‰å…¨æå–å›å¤åˆ—è¡¨ï¼Œå¹¶æ·»åŠ  id</span>
  <span class="hljs-keyword">const</span> repliesFromApi = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(data.<span class="hljs-property">replies</span>)
    ? data.<span class="hljs-property">replies</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-variable constant_">MEMORY_REPLY_COUNT</span>)
    : [];

  replies.<span class="hljs-property">value</span> = repliesFromApi.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">r, idx</span>) =&gt;</span> ({
    ...r,
    <span class="hljs-attr">id</span>: r.<span class="hljs-property">id</span> ?? idx,  <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ idï¼Œç”¨ç´¢å¼•ä»£æ›¿</span>
  }));

  <span class="hljs-comment">// å®‰å…¨æ›´æ–°é…é¢ä¿¡æ¯</span>
  userStore.<span class="hljs-title function_">updateFreeQuota</span>({
    <span class="hljs-attr">free_reply_total</span>: data.<span class="hljs-property">freeReplyTotal</span>,
    <span class="hljs-attr">free_reply_used</span>: data.<span class="hljs-property">freeReplyUsed</span>,
    <span class="hljs-attr">free_reply_remaining</span>: data.<span class="hljs-property">remainingTimes</span>,
    <span class="hljs-attr">vip_status</span>: data.<span class="hljs-property">isVip</span> ? <span class="hljs-string">'vip'</span> : <span class="hljs-string">'none'</span>,
    <span class="hljs-attr">vip_expire_time</span>: data.<span class="hljs-property">vipExpireTime</span> ?? <span class="hljs-literal">null</span>,
  });
};
</code></pre>
<h2 data-id="heading-19">äº”ã€ç”¨æˆ·å–æ¶ˆ vs çœŸæ­£çš„é”™è¯¯</h2>
<h3 data-id="heading-20">5.1 é—®é¢˜åœºæ™¯</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šç”¨æˆ·é€‰æ‹©å›¾ç‰‡æ—¶ç‚¹äº†"å–æ¶ˆ"ï¼Œä¼šè§¦å‘ fail å›è°ƒï¼Œ
    æ˜¾ç¤º"å›¾ç‰‡é€‰æ‹©å¤±è´¥"çš„é”™è¯¯æç¤ºã€‚
    ä½†è¿™ä¸æ˜¯çœŸæ­£çš„é”™è¯¯ï¼Œä¸åº”è¯¥æç¤ºã€‚
</code></pre>
<h3 data-id="heading-21">5.2 AI åˆ†æåŒºåˆ†æ–¹æ³•</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šé€šè¿‡é”™è¯¯ä¿¡æ¯æ¥åŒºåˆ†ç”¨æˆ·å–æ¶ˆå’ŒçœŸæ­£çš„é”™è¯¯ï¼š

ğŸ“Š é”™è¯¯ä¿¡æ¯åˆ†æï¼š

ã€ç”¨æˆ·å–æ¶ˆã€‘
- chooseMedia:fail cancel
- chooseImage:fail cancel
- chooseImage:failï¼ˆcode: 0ï¼‰

ã€çœŸæ­£çš„é”™è¯¯ã€‘
- chooseImage:fail no permission
- chooseMedia:fail system error
- å…¶ä»–é”™è¯¯ä¿¡æ¯
</code></pre>
<h3 data-id="heading-22">5.3 å®ç°ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">addImages</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> { run } = <span class="hljs-title function_">useUpload</span>(<span class="hljs-string">''</span>, {}, {
    <span class="hljs-attr">count</span>: remainingCount,
    <span class="hljs-attr">selectOnly</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">onSelect</span>: <span class="hljs-function">(<span class="hljs-params">images</span>) =&gt;</span> {
      <span class="hljs-comment">// æ­£å¸¸å¤„ç†é€‰ä¸­çš„å›¾ç‰‡</span>
      images.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">img</span>) =&gt;</span> <span class="hljs-title function_">uploadChosenImage</span>(img));
    },
    <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç”¨æˆ·ä¸»åŠ¨å–æ¶ˆ</span>
      <span class="hljs-keyword">const</span> errMsg = <span class="hljs-keyword">typeof</span> err === <span class="hljs-string">'object'</span> &amp;&amp; err !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-string">'errMsg'</span> <span class="hljs-keyword">in</span> err
        ? (err <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">errMsg</span>
        : <span class="hljs-string">''</span>;
      <span class="hljs-keyword">const</span> errCode = <span class="hljs-keyword">typeof</span> err === <span class="hljs-string">'object'</span> &amp;&amp; err !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-string">'code'</span> <span class="hljs-keyword">in</span> err
        ? (err <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">code</span>
        : -<span class="hljs-number">1</span>;

      <span class="hljs-keyword">const</span> isUserCancel =
        errMsg === <span class="hljs-string">'chooseMedia:fail cancel'</span> ||
        errMsg === <span class="hljs-string">'chooseImage:fail cancel'</span> ||
        (errMsg === <span class="hljs-string">'chooseImage:fail'</span> &amp;&amp; errCode === <span class="hljs-number">0</span>);

      <span class="hljs-keyword">if</span> (!isUserCancel) {
        <span class="hljs-comment">// åªæœ‰çœŸæ­£çš„é”™è¯¯æ‰æç¤º</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å›¾ç‰‡é€‰æ‹©å¤±è´¥:'</span>, err);
        toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å›¾ç‰‡é€‰æ‹©å¤±è´¥'</span>);
      }
      <span class="hljs-comment">// ç”¨æˆ·å–æ¶ˆæ—¶é™é»˜å¤„ç†ï¼Œä¸æ˜¾ç¤ºä»»ä½•æç¤º</span>
    },
  });

  <span class="hljs-title function_">run</span>();
};
</code></pre>
<h2 data-id="heading-23">å…­ã€Promise å°è£…ï¼šç»Ÿä¸€å›è°ƒé£æ ¼</h2>
<h3 data-id="heading-24">6.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šuni.login ç­‰ API ç”¨çš„æ˜¯å›è°ƒé£æ ¼ï¼Œå†™èµ·æ¥å¾ˆç¹çã€‚
    èƒ½ä¸èƒ½å°è£…æˆ Promise é£æ ¼ï¼Ÿ
</code></pre>
<h3 data-id="heading-25">6.2 AI å°è£…ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/wechat.ts</span>
<span class="hljs-comment">/**
 * è·å–å¾®ä¿¡ç™»å½•å‡­è¯
 * å°†å›è°ƒé£æ ¼å°è£…æˆ Promise
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">requestWechatLoginCode</span> = (<span class="hljs-params"/>) =&gt;
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    uni.<span class="hljs-title function_">login</span>({
      <span class="hljs-attr">provider</span>: <span class="hljs-string">'weixin'</span>,
      <span class="hljs-attr">onlyAuthorize</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (res?.<span class="hljs-property">code</span>) {
          <span class="hljs-title function_">resolve</span>(res.<span class="hljs-property">code</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æœªè·å–åˆ°æœ‰æ•ˆçš„ç™»å½•å‡­è¯'</span>));
        }
      },
      <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-title function_">reject</span>(err);
      },
    });
  });

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">await</span> <span class="hljs-title function_">requestWechatLoginCode</span>();
  <span class="hljs-keyword">await</span> userStore.<span class="hljs-title function_">wechatLogin</span>(code);
} <span class="hljs-keyword">catch</span> (error) {
  toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç™»å½•å¤±è´¥'</span>);
}
</code></pre>
<h3 data-id="heading-26">6.3 å‰ªè´´æ¿å°è£…</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/clipboard.ts</span>
<span class="hljs-keyword">import</span> { isApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/platform'</span>;

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">plus</span>: <span class="hljs-built_in">any</span>;

<span class="hljs-comment">/**
 * è·¨å¹³å°å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">copyText</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-comment">// App ç«¯ä½¿ç”¨ plus API</span>
  <span class="hljs-keyword">if</span> (isApp &amp;&amp; <span class="hljs-keyword">typeof</span> plus !== <span class="hljs-string">'undefined'</span> &amp;&amp; plus?.<span class="hljs-property">navigator</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        plus.<span class="hljs-property">navigator</span>.<span class="hljs-title function_">setClipboard</span>(text);
        <span class="hljs-title function_">resolve</span>();
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-title function_">reject</span>(error);
      }
    });
  }

  <span class="hljs-comment">// å°ç¨‹åº/H5 ä½¿ç”¨ uni API</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    uni.<span class="hljs-title function_">setClipboardData</span>({
      <span class="hljs-attr">data</span>: text,
      <span class="hljs-attr">success</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(),
      <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(err),
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCopy</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">copyText</span>(text);
    toast.<span class="hljs-title function_">success</span>(<span class="hljs-string">'å·²å¤åˆ¶'</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å¤åˆ¶å¤±è´¥:'</span>, error);
    toast.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å¤åˆ¶å¤±è´¥ï¼Œè¯·ç¨åå†è¯•'</span>);
  }
};
</code></pre>
<h2 data-id="heading-27">ä¸ƒã€Loading çŠ¶æ€ç®¡ç†</h2>
<h3 data-id="heading-28">7.1 é˜²æ­¢é‡å¤ç‚¹å‡»</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// é˜²æ­¢é‡å¤ç‚¹å‡»</span>
  <span class="hljs-keyword">if</span> (loading.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;

  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">doSubmit</span>();
  } <span class="hljs-keyword">finally</span> {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
};
</code></pre>
<h3 data-id="heading-29">7.2 æŒ‰é’®çŠ¶æ€è”åŠ¨</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;XButton
    :text="loading ? 'å¤„ç†ä¸­...' : 'æäº¤'"
    :loading="loading"
    :disabled="loading || !canSubmit"
    @click="handleSubmit"
  /&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-30">7.3 å¤šä¸ª Loading çŠ¶æ€</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é¡µé¢æœ‰å¤šä¸ªç‹¬ç«‹çš„åŠ è½½çŠ¶æ€</span>
<span class="hljs-keyword">const</span> isGenerating = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);      <span class="hljs-comment">// ç”Ÿæˆå›å¤</span>
<span class="hljs-keyword">const</span> isUploadingImages = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// ä¸Šä¼ å›¾ç‰‡</span>
<span class="hljs-keyword">const</span> isSaving = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);          <span class="hljs-comment">// ä¿å­˜æ•°æ®</span>

<span class="hljs-comment">// è®¡ç®—æ€»ä½“åŠ è½½çŠ¶æ€</span>
<span class="hljs-keyword">const</span> isLoading = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span>
  isGenerating.<span class="hljs-property">value</span> || isUploadingImages.<span class="hljs-property">value</span> || isSaving.<span class="hljs-property">value</span>
);

<span class="hljs-comment">// ç»†ç²’åº¦æ§åˆ¶æŒ‰é’®çŠ¶æ€</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">XButton</span>
  <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"isGenerating || isUploadingImages"</span>
  @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleGenerate"</span>
/&gt;</span></span>
</code></pre>
<h2 data-id="heading-31">å…«ã€é”™è¯¯å¤„ç†æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-32">8.1 é”™è¯¯å¤„ç†æ¸…å•</h3>

























<table><thead><tr><th>å±‚çº§</th><th>å¤„ç†å†…å®¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>HTTP å±‚</td><td>ç½‘ç»œé”™è¯¯ã€401</td><td>http.ts ç»Ÿä¸€å¤„ç†</td></tr><tr><td>ä¸šåŠ¡å±‚</td><td>403ã€ä¸šåŠ¡é”™è¯¯ç </td><td>é¡µé¢ catch å—å¤„ç†</td></tr><tr><td>UI å±‚</td><td>ç”¨æˆ·æç¤ºã€çŠ¶æ€æ¢å¤</td><td>toast + loading</td></tr></tbody></table>
<h3 data-id="heading-33">8.2 ä»£ç æ¨¡æ¿</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ ‡å‡†çš„å¼‚æ­¥æ“ä½œæ¨¡æ¿</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAsyncAction</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// 1. é˜²é‡å¤</span>
  <span class="hljs-keyword">if</span> (loading.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// 2. å‰ç½®æ ¡éªŒ</span>
  <span class="hljs-keyword">if</span> (!canSubmit.<span class="hljs-property">value</span>) {
    toast.<span class="hljs-title function_">warning</span>(<span class="hljs-string">'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯'</span>);
    <span class="hljs-keyword">return</span>;
  }

  loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 3. æ‰§è¡Œæ“ä½œ</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">doAction</span>();

    <span class="hljs-comment">// 4. æ ¡éªŒå“åº”</span>
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">code</span> !== <span class="hljs-number">200</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(response.<span class="hljs-property">msg</span> || <span class="hljs-string">'æ“ä½œå¤±è´¥'</span>);
    }

    <span class="hljs-comment">// 5. å¤„ç†æˆåŠŸ</span>
    <span class="hljs-keyword">const</span> data = response.<span class="hljs-property">data</span> ?? {};
    <span class="hljs-title function_">processData</span>(data);
    toast.<span class="hljs-title function_">success</span>(<span class="hljs-string">'æ“ä½œæˆåŠŸ'</span>);

  } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
    <span class="hljs-comment">// 6. åˆ†ç±»å¤„ç†é”™è¯¯</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ“ä½œå¤±è´¥:'</span>, error);

    <span class="hljs-keyword">const</span> statusCode = error?.<span class="hljs-property">statusCode</span> || error?.<span class="hljs-property">code</span>;
    <span class="hljs-keyword">const</span> errMsg = error?.<span class="hljs-property">msg</span> || error?.<span class="hljs-property">message</span> || <span class="hljs-string">'æ“ä½œå¤±è´¥'</span>;

    <span class="hljs-keyword">if</span> (statusCode === <span class="hljs-number">403</span>) {
      <span class="hljs-title function_">handleNoPermission</span>();
    } <span class="hljs-keyword">else</span> {
      toast.<span class="hljs-title function_">error</span>(errMsg);
    }

  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-comment">// 7. æ¢å¤çŠ¶æ€</span>
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
};
</code></pre>
<h3 data-id="heading-34">8.3 æ€»ç»“</h3>








































<table><thead><tr><th>æŠ€æœ¯</th><th>ç”¨é€”</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>try-catch-finally</td><td>æ•è·å’Œæ¢å¤</td><td>å¼‚æ­¥æ“ä½œçš„æ ‡å‡†æ¨¡å¼</td></tr><tr><td>å¯é€‰é“¾ <code>?.</code></td><td>å®‰å…¨è®¿é—®å±æ€§</td><td><code>response?.data?.user</code></td></tr><tr><td>ç©ºå€¼åˆå¹¶ <code>??</code></td><td>æä¾›é»˜è®¤å€¼</td><td><code>value ?? defaultValue</code></td></tr><tr><td>Promise å°è£…</td><td>ç»Ÿä¸€å›è°ƒé£æ ¼</td><td><code>requestWechatLoginCode()</code></td></tr><tr><td>é”™è¯¯åˆ†ç±»</td><td>å·®å¼‚åŒ–å¤„ç†</td><td>401/403/500 ä¸åŒå¤„ç†</td></tr><tr><td>Loading çŠ¶æ€</td><td>é˜²é‡å¤ + ç”¨æˆ·åé¦ˆ</td><td><code>if (loading) return</code></td></tr></tbody></table>
<hr/>
<blockquote>
<p>é”™è¯¯å¤„ç†ä¸æ˜¯"äº‹åè¡¥æ•‘"ï¼Œè€Œæ˜¯<strong>è®¾è®¡é˜¶æ®µå°±è¦è€ƒè™‘çš„æ¶æ„é—®é¢˜</strong>ã€‚</p>
<p>å¥½çš„é”™è¯¯å¤„ç†è®©ç”¨æˆ·æ„Ÿå—åˆ°åº”ç”¨çš„ä¸“ä¸šå’Œå¯é ã€‚</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ83ï¼‰å¦‚ä½•åœ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602841282802008105</link>    <guid>https://juejin.cn/post/7602841282802008105</guid>    <pubDate>2026-02-04T11:57:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602841282802008105" data-draft-id="7602776926327963702" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ83ï¼‰å¦‚ä½•åœ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T11:57:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ83ï¼‰å¦‚ä½•åœ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T11:57:40.000Z" title="Wed Feb 04 2026 11:57:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateï¼Œå¯ä»¥å¸®åŠ©ä½ å°†æ•°æ®åº“ä¸­çš„æ•°æ®å¤‡ä»½åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä»æ–‡ä»¶ä¸­æ¢å¤æ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ç¤ºä¾‹ï¼Œç»“åˆä»£ç æ¼”ç¤ºå¦‚ä½•åœ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚</p>
<h3 data-id="heading-0">1. è®¾ç½®Hibernateé…ç½®</h3>
<p>åˆ›å»ºä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶<code>hibernate.cfg.xml</code>ï¼Œç”¨äºè¿æ¥æ•°æ®åº“ã€‚</p>
<h4 data-id="heading-1"><code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/backup_restore_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>db_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>db_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">2. åˆ›å»ºå®ä½“ç±»</h3>
<p>å®šä¹‰ä¸€ä¸ªç®€å•çš„å®ä½“ç±»æ¥è¡¨ç¤ºæ•°æ®åº“è¡¨ä¸­çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-3"><code>User.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String email;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h3 data-id="heading-4">3. ç¼–å†™æ•°æ®å¤‡ä»½å’Œæ¢å¤æµç¨‹</h3>
<p>ç¼–å†™ä»£ç æ¥å®ç°æ•°æ®å¤‡ä»½åˆ°æ–‡ä»¶å’Œä»æ–‡ä»¶æ¢å¤æ•°æ®çš„åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-5"><code>DataBackupRestore.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.SerializationFeature;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.type.CollectionType;

<span class="hljs-keyword">import</span> java.io.File;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataBackupRestore</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">BACKUP_FILE_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">"backup.json"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>().enable(SerializationFeature.INDENT_OUTPUT);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Configure Hibernate</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> config.buildSessionFactory();

        <span class="hljs-comment">// Backup data</span>
        backupData(sessionFactory);

        <span class="hljs-comment">// Restore data</span>
        restoreData(sessionFactory);

        sessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">backupData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        
        List&lt;User&gt; users = session.createQuery(<span class="hljs-string">"FROM User"</span>, User.class).list();
        transaction.commit();
        session.close();

        <span class="hljs-keyword">try</span> {
            objectMapper.writeValue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(BACKUP_FILE_PATH), users);
            System.out.println(<span class="hljs-string">"Data backup completed successfully."</span>);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            System.err.println(<span class="hljs-string">"Failed to backup data: "</span> + e.getMessage());
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">restoreData</span><span class="hljs-params">(SessionFactory sessionFactory)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">CollectionType</span> <span class="hljs-variable">javaType</span> <span class="hljs-operator">=</span> objectMapper.getTypeFactory().constructCollectionType(List.class, User.class);
            List&lt;User&gt; users = objectMapper.readValue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(BACKUP_FILE_PATH), javaType);

            <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
            <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
            
            <span class="hljs-keyword">for</span> (User user : users) {
                session.saveOrUpdate(user);
            }
            transaction.commit();
            session.close();

            System.out.println(<span class="hljs-string">"Data restore completed successfully."</span>);
        } <span class="hljs-keyword">catch</span> (IOException e) {
            System.err.println(<span class="hljs-string">"Failed to restore data: "</span> + e.getMessage());
        }
    }
}
</code></pre>
<h3 data-id="heading-6">4. ç¼–å†™ä¸»ç±»</h3>
<p>ç¼–å†™ä¸»ç±»æ¥è¿è¡Œæ•°æ®å¤‡ä»½å’Œæ¢å¤æµç¨‹ã€‚</p>
<h4 data-id="heading-7"><code>Main.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        DataBackupRestore.main(args);
    }
}
</code></pre>
<h3 data-id="heading-8">è¿è¡Œæ•°æ®å¤‡ä»½å’Œæ¢å¤æµç¨‹</h3>
<p>ç¼–è¯‘å¹¶è¿è¡Œä¸Šé¢çš„Javaä»£ç ï¼Œå®ƒå°†ä»æ•°æ®åº“ä¸­æå–æ•°æ®å¹¶å¤‡ä»½åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶åä»æ–‡ä»¶ä¸­æ¢å¤æ•°æ®åˆ°æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-9">ä¾‹å­è§£é‡Š</h3>
<ol>
<li><strong>Hibernateé…ç½®ï¼š</strong> é…ç½®ä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œç”¨äºè¿æ¥æ•°æ®åº“ã€‚</li>
<li><strong>å®ä½“ç±»ï¼š</strong> åˆ›å»ºä¸€ä¸ªç®€å•çš„å®ä½“ç±»æ¥è¡¨ç¤ºæ•°æ®åº“è¡¨ä¸­çš„æ•°æ®ã€‚</li>
<li><strong>æ•°æ®å¤‡ä»½å’Œæ¢å¤æµç¨‹ï¼š</strong>
<ul>
<li><strong>å¤‡ä»½æ•°æ®ï¼š</strong> ä»æ•°æ®åº“ä¸­æå–æ•°æ®å¹¶å°†å…¶å¤‡ä»½åˆ°JSONæ–‡ä»¶ä¸­ã€‚</li>
<li><strong>æ¢å¤æ•°æ®ï¼š</strong> ä»JSONæ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶å°†å…¶æ¢å¤åˆ°æ•°æ®åº“ä¸­ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10">å¤‡ä»½æ•°æ®</h4>
<ol>
<li>é€šè¿‡Hibernateä»æ•°æ®åº“ä¸­æå–æ‰€æœ‰ç”¨æˆ·æ•°æ®ã€‚</li>
<li>ä½¿ç”¨Jacksonåº“å°†æ•°æ®åºåˆ—åŒ–ä¸ºJSONæ ¼å¼ï¼Œå¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</li>
</ol>
<h4 data-id="heading-11">æ¢å¤æ•°æ®</h4>
<ol>
<li>ä½¿ç”¨Jacksonåº“ä»JSONæ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚</li>
<li>é€šè¿‡Hibernateå°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šé…ç½®å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚è¿™ä¸ªç¤ºä¾‹åŒ…æ‹¬å¦‚ä½•é…ç½®Hibernateã€å¦‚ä½•å®šä¹‰å®ä½“ç±»ä»¥åŠå¦‚ä½•ç¼–å†™æ•°æ®å¤‡ä»½å’Œæ¢å¤æµç¨‹ï¼Œå¸®åŠ©ä½ å®ç°ä»æ•°æ®åº“åˆ°æ–‡ä»¶çš„å¤‡ä»½å’Œä»æ–‡ä»¶åˆ°æ•°æ®åº“çš„æ¢å¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ84ï¼‰å¦‚ä½•åœ¨DevOpsæµç¨‹ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602816610931523647</link>    <guid>https://juejin.cn/post/7602816610931523647</guid>    <pubDate>2026-02-04T11:58:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602816610931523647" data-draft-id="7602776926327980086" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ84ï¼‰å¦‚ä½•åœ¨DevOpsæµç¨‹ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T11:58:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ84ï¼‰å¦‚ä½•åœ¨DevOpsæµç¨‹ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T11:58:18.000Z" title="Wed Feb 04 2026 11:58:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨DevOpsæµç¨‹ä¸­ä½¿ç”¨Hibernateï¼Œä¸»è¦æ˜¯ä¸ºäº†ç¡®ä¿åœ¨è‡ªåŠ¨åŒ–çš„æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²è¿‡ç¨‹ä¸­èƒ½å¤Ÿä¸€è‡´ã€å¯é åœ°ç®¡ç†æ•°æ®åº“çš„Schemaå’Œæ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ç¤ºä¾‹ï¼Œç»“åˆä»£ç æ¼”ç¤ºå¦‚ä½•åœ¨DevOpsæµç¨‹ä¸­ä½¿ç”¨Hibernateï¼ŒåŒ…æ‹¬æ•°æ®åº“è¿ç§»ã€æ•°æ®ç§å­ã€è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€‚</p>
<h3 data-id="heading-0">1. è®¾ç½®Hibernateé…ç½®</h3>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶<code>hibernate.cfg.xml</code>ï¼Œç”¨äºè¿æ¥æ•°æ®åº“ã€‚</p>
<h4 data-id="heading-1"><code>hibernate.cfg.xml</code></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/devops_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>db_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>db_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">2. åˆ›å»ºå®ä½“ç±»</h3>
<p>å®šä¹‰ä¸€ä¸ªç®€å•çš„å®ä½“ç±»æ¥è¡¨ç¤ºæ•°æ®åº“è¡¨ä¸­çš„æ•°æ®ã€‚</p>
<h4 data-id="heading-3"><code>User.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> String email;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h3 data-id="heading-4">3. æ•°æ®åº“è¿ç§»å·¥å…·</h3>
<p>ä¸ºäº†åœ¨DevOpsæµç¨‹ä¸­ç®¡ç†æ•°æ®åº“Schemaå’Œæ•°æ®è¿ç§»ï¼Œå¯ä»¥ä½¿ç”¨Flywayæˆ–Liquibaseã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Flywayçš„ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-5">Flywayé…ç½®ï¼ˆ<code>flyway.conf</code>ï¼‰</h4>
<pre><code class="hljs language-properties" lang="properties">flyway.url=jdbc:mysql://localhost:3306/devops_db
flyway.user=db_user
flyway.password=db_password
flyway.locations=filesystem:src/main/resources/db/migration
</code></pre>
<h4 data-id="heading-6">åˆ›å»ºè¿ç§»è„šæœ¬</h4>
<p>åœ¨<code>src/main/resources/db/migration</code>ç›®å½•ä¸‹åˆ›å»ºè¿ç§»è„šæœ¬<code>V1__Create_users_table.sql</code>ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users (
    id <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
);
</code></pre>
<h3 data-id="heading-7">4. ç¼–å†™æ•°æ®ç§å­</h3>
<p>ç¼–å†™ä¸€ä¸ªåˆå§‹åŒ–æ•°æ®çš„ç±»ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ’å…¥ä¸€äº›åˆå§‹æ•°æ®ã€‚</p>
<h4 data-id="heading-8"><code>DataSeeder.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSeeder</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Configure Hibernate</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> config.buildSessionFactory();

        <span class="hljs-comment">// Seed data</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        
        <span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        user1.setName(<span class="hljs-string">"Alice"</span>);
        user1.setEmail(<span class="hljs-string">"alice@example.com"</span>);
        
        <span class="hljs-type">User</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        user2.setName(<span class="hljs-string">"Bob"</span>);
        user2.setEmail(<span class="hljs-string">"bob@example.com"</span>);

        session.save(user1);
        session.save(user2);

        transaction.commit();
        session.close();
        sessionFactory.close();
    }
}
</code></pre>
<h3 data-id="heading-9">5. å•å…ƒæµ‹è¯•</h3>
<p>ç¼–å†™å•å…ƒæµ‹è¯•æ¥ç¡®ä¿æ•°æ®åº“æ“ä½œçš„æ­£ç¡®æ€§ã€‚</p>
<h4 data-id="heading-10"><code>UserTest.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.AfterAll;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.BeforeAll;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;

<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.junit.jupiter.api.Assertions.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserTest</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SessionFactory sessionFactory;

    <span class="hljs-meta">@BeforeAll</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setup</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">config</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>);
        sessionFactory = config.buildSessionFactory();
    }

    <span class="hljs-meta">@AfterAll</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">tearDown</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (sessionFactory != <span class="hljs-literal">null</span>) {
            sessionFactory.close();
        }
    }

    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUserCreation</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();

        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();
        user.setName(<span class="hljs-string">"Charlie"</span>);
        user.setEmail(<span class="hljs-string">"charlie@example.com"</span>);
        session.save(user);

        transaction.commit();
        session.close();

        session = sessionFactory.openSession();
        <span class="hljs-type">User</span> <span class="hljs-variable">retrievedUser</span> <span class="hljs-operator">=</span> session.get(User.class, user.getId());
        session.close();

        assertNotNull(retrievedUser);
        assertEquals(<span class="hljs-string">"Charlie"</span>, retrievedUser.getName());
        assertEquals(<span class="hljs-string">"charlie@example.com"</span>, retrievedUser.getEmail());
    }
}
</code></pre>
<h3 data-id="heading-11">6. æŒç»­é›†æˆ</h3>
<p>ä½¿ç”¨CIå·¥å…·ï¼ˆå¦‚Jenkinsã€GitLab CIã€GitHub Actionsï¼‰æ¥è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•è¿‡ç¨‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªGitHub Actionså·¥ä½œæµç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-12"><code>.github/workflows/ci.yml</code></h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">CI</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]
  <span class="hljs-attr">pull_request:</span>
    <span class="hljs-attr">branches:</span> [ <span class="hljs-string">main</span> ]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>

    <span class="hljs-attr">services:</span>
      <span class="hljs-attr">mysql:</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">mysql:5.7</span>
        <span class="hljs-attr">ports:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-number">3306</span><span class="hljs-string">:3306</span>
        <span class="hljs-attr">env:</span>
          <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">root</span>
          <span class="hljs-attr">MYSQL_DATABASE:</span> <span class="hljs-string">devops_db</span>
          <span class="hljs-attr">MYSQL_USER:</span> <span class="hljs-string">db_user</span>
          <span class="hljs-attr">MYSQL_PASSWORD:</span> <span class="hljs-string">db_password</span>
        <span class="hljs-attr">options:</span> <span class="hljs-string">--health-cmd="mysqladmin</span> <span class="hljs-string">ping</span> <span class="hljs-string">--silent"</span> <span class="hljs-string">--health-interval=10s</span> <span class="hljs-string">--health-timeout=5s</span> <span class="hljs-string">--health-retries=3</span>

    <span class="hljs-attr">steps:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span> <span class="hljs-string">code</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Set</span> <span class="hljs-string">up</span> <span class="hljs-string">JDK</span> <span class="hljs-number">11</span>
      <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-java@v2</span>
      <span class="hljs-attr">with:</span>
        <span class="hljs-attr">java-version:</span> <span class="hljs-string">'11'</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Grant</span> <span class="hljs-string">execute</span> <span class="hljs-string">permission</span> <span class="hljs-string">for</span> <span class="hljs-string">gradlew</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">chmod</span> <span class="hljs-string">+x</span> <span class="hljs-string">gradlew</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">Flyway</span> <span class="hljs-string">migrations</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">flywayMigrate</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">with</span> <span class="hljs-string">Gradle</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">build</span>

    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Run</span> <span class="hljs-string">tests</span>
      <span class="hljs-attr">run:</span> <span class="hljs-string">./gradlew</span> <span class="hljs-string">test</span>
</code></pre>
<h3 data-id="heading-13">ä¾‹å­è§£é‡Š</h3>
<ol>
<li><strong>Hibernateé…ç½®ï¼š</strong> é…ç½®ä¸€ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œç”¨äºè¿æ¥æ•°æ®åº“ã€‚</li>
<li><strong>å®ä½“ç±»ï¼š</strong> åˆ›å»ºä¸€ä¸ªç®€å•çš„å®ä½“ç±»æ¥è¡¨ç¤ºæ•°æ®åº“è¡¨ä¸­çš„æ•°æ®ã€‚</li>
<li><strong>æ•°æ®åº“è¿ç§»å·¥å…·ï¼š</strong> ä½¿ç”¨Flywayç®¡ç†æ•°æ®åº“Schemaå’Œæ•°æ®è¿ç§»ã€‚</li>
<li><strong>æ•°æ®ç§å­ï¼š</strong> ç¼–å†™åˆå§‹åŒ–æ•°æ®çš„ç±»ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ’å…¥ä¸€äº›åˆå§‹æ•°æ®ã€‚</li>
<li><strong>å•å…ƒæµ‹è¯•ï¼š</strong> ç¼–å†™å•å…ƒæµ‹è¯•æ¥ç¡®ä¿æ•°æ®åº“æ“ä½œçš„æ­£ç¡®æ€§ã€‚</li>
<li><strong>æŒç»­é›†æˆï¼š</strong> ä½¿ç”¨CIå·¥å…·ï¼ˆå¦‚GitHub Actionsï¼‰æ¥è‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•è¿‡ç¨‹ã€‚</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šé…ç½®å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨DevOpsæµç¨‹ä¸­ä½¿ç”¨Hibernateã€‚è¿™åŒ…æ‹¬å¦‚ä½•é…ç½®Hibernateã€å¦‚ä½•å®šä¹‰å®ä½“ç±»ã€å¦‚ä½•ä½¿ç”¨Flywayè¿›è¡Œæ•°æ®åº“è¿ç§»ã€å¦‚ä½•ç¼–å†™æ•°æ®ç§å­å’Œå•å…ƒæµ‹è¯•ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨CIå·¥å…·å®ç°æŒç»­é›†æˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ81ï¼‰å¦‚ä½•åœ¨æ•°æ®åŒæ­¥ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602503154505039913</link>    <guid>https://juejin.cn/post/7602503154505039913</guid>    <pubDate>2026-02-03T12:11:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602503154505039913" data-draft-id="7602455806446075910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ81ï¼‰å¦‚ä½•åœ¨æ•°æ®åŒæ­¥ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-03T12:11:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ81ï¼‰å¦‚ä½•åœ¨æ•°æ®åŒæ­¥ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:11:56.000Z" title="Tue Feb 03 2026 12:11:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateï¼Œå¯ä»¥å¸®åŠ©ä½ ä»ä¸€ä¸ªæ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œå¹¶å°†è¿™äº›æ•°æ®åŒæ­¥åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ä¸­ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„ç¤ºä¾‹ï¼Œç»“åˆä»£ç æ¼”ç¤ºå¦‚ä½•åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚</p>
<h3 data-id="heading-0">1. è®¾ç½®Hibernateé…ç½®</h3>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸¤ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨äºæºæ•°æ®åº“å’Œç›®æ ‡æ•°æ®åº“çš„è¿æ¥ã€‚</p>
<h4 data-id="heading-1"><code>hibernate_source.cfg.xml</code>ï¼ˆæºæ•°æ®åº“é…ç½®æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/source_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>source_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>source_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>validate<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2"><code>hibernate_target.cfg.xml</code>ï¼ˆç›®æ ‡æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"utf-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span> <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/target_db<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>target_user<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>target_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.hbm2ddl.auto"</span>&gt;</span>update<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">2. åˆ›å»ºå®ä½“ç±»</h3>
<p>åˆ›å»ºä¸¤ä¸ªå®ä½“ç±»åˆ†åˆ«å¯¹åº”æºæ•°æ®åº“å’Œç›®æ ‡æ•°æ®åº“ä¸­çš„è¡¨ã€‚</p>
<h4 data-id="heading-4"><code>SourceEntity.java</code>ï¼ˆæºæ•°æ®åº“å®ä½“ç±»ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "source_table")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SourceEntity</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String dataField;
    <span class="hljs-keyword">private</span> String timestamp;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h4 data-id="heading-5"><code>TargetEntity.java</code>ï¼ˆç›®æ ‡æ•°æ®åº“å®ä½“ç±»ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "target_table")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TargetEntity</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String dataField;
    <span class="hljs-keyword">private</span> String timestamp;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h3 data-id="heading-6">3. ç¼–å†™æ•°æ®åŒæ­¥æµç¨‹</h3>
<p>ç¼–å†™æ•°æ®åŒæ­¥æµç¨‹æ¥æå–ã€è½¬æ¢å’ŒåŠ è½½æ•°æ®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSync</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// Configure Hibernate for source database</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">sourceConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate_source.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">sourceSessionFactory</span> <span class="hljs-operator">=</span> sourceConfig.buildSessionFactory();

        <span class="hljs-comment">// Configure Hibernate for target database</span>
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">targetConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate_target.cfg.xml"</span>);
        <span class="hljs-type">SessionFactory</span> <span class="hljs-variable">targetSessionFactory</span> <span class="hljs-operator">=</span> targetConfig.buildSessionFactory();

        <span class="hljs-comment">// Extract Data from source database</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">sourceSession</span> <span class="hljs-operator">=</span> sourceSessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">sourceTransaction</span> <span class="hljs-operator">=</span> sourceSession.beginTransaction();
        List&lt;SourceEntity&gt; sourceData = sourceSession.createQuery(<span class="hljs-string">"FROM SourceEntity"</span>, SourceEntity.class).list();
        sourceTransaction.commit();
        sourceSession.close();

        <span class="hljs-comment">// Transform Data</span>
        List&lt;TargetEntity&gt; transformedData = transformData(sourceData);

        <span class="hljs-comment">// Sync Data to target database</span>
        <span class="hljs-type">Session</span> <span class="hljs-variable">targetSession</span> <span class="hljs-operator">=</span> targetSessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">targetTransaction</span> <span class="hljs-operator">=</span> targetSession.beginTransaction();
        <span class="hljs-keyword">for</span> (TargetEntity targetEntity : transformedData) {
            targetSession.saveOrUpdate(targetEntity);
        }
        targetTransaction.commit();
        targetSession.close();

        sourceSessionFactory.close();
        targetSessionFactory.close();
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;TargetEntity&gt; <span class="hljs-title function_">transformData</span><span class="hljs-params">(List&lt;SourceEntity&gt; sourceData)</span> {
        <span class="hljs-comment">// Example transformation logic</span>
        <span class="hljs-keyword">return</span> sourceData.stream()
                .map(sourceEntity -&gt; {
                    <span class="hljs-type">TargetEntity</span> <span class="hljs-variable">targetEntity</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TargetEntity</span>();
                    targetEntity.setDataField(sourceEntity.getDataField());
                    targetEntity.setTimestamp(sourceEntity.getTimestamp());
                    <span class="hljs-keyword">return</span> targetEntity;
                })
                .toList();
    }
}
</code></pre>
<h3 data-id="heading-7">4. è¿è¡Œæ•°æ®åŒæ­¥æµç¨‹</h3>
<p>ç¼–è¯‘å¹¶è¿è¡Œä¸Šé¢çš„Javaä»£ç ï¼Œå®ƒå°†è¿æ¥åˆ°æºæ•°æ®åº“ï¼Œæå–æ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¹¶å°†è¿™äº›æ•°æ®åŒæ­¥åˆ°ç›®æ ‡æ•°æ®åº“ã€‚</p>
<h3 data-id="heading-8">ä¾‹å­è§£é‡Š</h3>
<ol>
<li><strong>Hibernateé…ç½®ï¼š</strong> é…ç½®ä¸¤ä¸ªHibernateé…ç½®æ–‡ä»¶ï¼Œåˆ†åˆ«ç”¨äºæºæ•°æ®åº“å’Œç›®æ ‡æ•°æ®åº“çš„è¿æ¥ã€‚</li>
<li><strong>å®ä½“ç±»ï¼š</strong> åˆ›å»ºå¯¹åº”æºæ•°æ®è¡¨å’Œç›®æ ‡æ•°æ®è¡¨çš„å®ä½“ç±»ã€‚</li>
<li><strong>æ•°æ®åŒæ­¥æµç¨‹ï¼š</strong>
<ul>
<li><strong>æŠ½å–ï¼ˆExtractï¼‰ï¼š</strong> ä»æºæ•°æ®åº“ä¸­æå–æ•°æ®ã€‚</li>
<li><strong>è½¬æ¢ï¼ˆTransformï¼‰ï¼š</strong> å¯¹æå–çš„æ•°æ®è¿›è¡Œè½¬æ¢ã€‚</li>
<li><strong>åŠ è½½ï¼ˆLoadï¼‰ï¼š</strong> å°†è½¬æ¢åçš„æ•°æ®åŒæ­¥åˆ°ç›®æ ‡æ•°æ®åº“ä¸­ã€‚</li>
</ul>
</li>
</ol>
<p>é€šè¿‡ä»¥ä¸Šé…ç½®å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨æ•°æ®åŒæ­¥è¿‡ç¨‹ä¸­ä½¿ç”¨Hibernateã€‚è¿™ä¸ªç¤ºä¾‹åŒ…æ‹¬å¦‚ä½•é…ç½®Hibernateã€å¦‚ä½•å®šä¹‰å®ä½“ç±»ä»¥åŠå¦‚ä½•ç¼–å†™æ•°æ®åŒæ­¥æµç¨‹ï¼Œå¸®åŠ©ä½ å®ç°ä»æºæ•°æ®åº“åˆ°ç›®æ ‡æ•°æ®åº“çš„æ•°æ®åŒæ­¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•è®©AIå†™å‡ºä¸€ä¸ªç¨³å®šçš„åº”ç”¨]]></title>    <link>https://juejin.cn/post/7602543146237706283</link>    <guid>https://juejin.cn/post/7602543146237706283</guid>    <pubDate>2026-02-04T10:03:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602543146237706283" data-draft-id="7602776926327488566" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•è®©AIå†™å‡ºä¸€ä¸ªç¨³å®šçš„åº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T10:03:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‡èˆç²¾é€‰"/> <meta itemprop="url" content="https://juejin.cn/user/4388906147515367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•è®©AIå†™å‡ºä¸€ä¸ªç¨³å®šçš„åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4388906147515367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‡èˆç²¾é€‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:03:33.000Z" title="Wed Feb 04 2026 10:03:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å‰è¨€ï¼š<br/> AIæ—¶ä»£ï¼Œå‰ç«¯è½¬å‹åŠ¿åœ¨å¿…è¡Œï¼Œæˆ–è€…è¯´ç¯å¢ƒå·²ç»å¼€å§‹é€æ­¥åœ¨å¼ºåˆ¶ä½ è½¬å‹äº†ï¼Œä»å‰ä¸¤å¹´çš„ä¸AIå…±åŒç¼–ç¨‹ï¼Œåˆ°ç°åœ¨AIå·²ç»å¼€å§‹å®Œæˆå¤§å¤šæ•°çš„å·¥ä½œäº†ã€‚é‚£ä¹ˆå‰ç«¯å¦‚ä½•å®šä½è‡ªå·±çš„è§’è‰²å°±æ›´æ˜¾å¾—é‡è¦äº†ã€‚ä½œè€…å°±æ˜¯ä»ä¸€åå‰ç«¯ï¼Œé€æ­¥è½¬æˆäº†ä¸€ä¸ªAIå¼€å‘è€…ï¼Œä¸åœ¨å±€é™åœ¨å‰ç«¯é¢†åŸŸï¼Œè€Œæ˜¯å¤šè¯­è¨€çš„å¼€å‘è€…ï¼Œæˆ–è€…è¯´æ˜¯AIå·¥å…·æˆ–è€…AIé©±åŠ¨çš„é¡¹ç›®å¼€å‘è€…ã€‚</p>
</blockquote>
<p>æœ¬æ–‡è€Œæ˜¯ä½œè€…åœ¨å¤šä¸ªçœŸå®é¡¹ç›®ä¸­ï¼Œé€šè¿‡ä¸æ–­è¯•é”™ã€æ€»ç»“ã€ä¼˜åŒ– Prompt å’Œå·¥ç¨‹æµç¨‹åï¼Œæ²‰æ·€å‡ºçš„ä¸€äº›ç»éªŒ(å¯èƒ½æœ‰ä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œå®Œå…¨æ˜¯æ ¹æ®è‡ªèº«å·¥ç¨‹ç»éªŒçš„æ€»ç»“)ã€‚</p>
<p>å¦‚ä½•è®©AIå†™å‡ºä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ï¼Œå¹¶ä¸”è¿™ä¸ªé¡¹ç›®è¿˜èƒ½åšåˆ°ç¬¦åˆé¢„æœŸä¸”ä»£ç å¥å£®ç¨³å®šã€‚</p>
<h3 data-id="heading-0">ç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š</h3>
<blockquote>
<p>å¦‚ä½•è®© AI å†™å‡ºä¸€ä¸ªå®Œæ•´ã€å¯ç»´æŠ¤ã€ç¬¦åˆé¢„æœŸï¼Œå¹¶ä¸”è¶³å¤Ÿç¨³å®šçš„çœŸå®é¡¹ç›®ã€‚</p>
</blockquote>
<p>æˆ‘å¤§æ¦‚æ€»ç»“äº†å‡ ä¸ªéƒ¨åˆ†</p>
<h3 data-id="heading-1">1. æç¤ºè¯</h3>
<ul>
<li>
<p>æ¸…æ™°çš„è¾“å…¥æº</p>
<p>ä½ åº”è¯¥çŸ¥é“ä½ çš„ä¸Šæ¸¸æ˜¯ä»€ä¹ˆï¼Œè¾“å‡ºæ˜¯ä»€ä¹ˆã€‚å¦‚æœæœ‰ï¼Œè¦å¦‚ä½•å¤„ç†ï¼Œé¿å…è¿™äº›å½±å“çš„è‡ªå·±çš„ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p>promptå¦‚ä½•å†™</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯ä½ å¦‚ä½•ç»„ç»‡è‡ªå·±çš„promptã€‚å¾ˆå¤šäººè§‰å¾— AI â€œä¸ç¨³å®šâ€â€œç»å¸¸èƒ¡å†™â€â€œä»£ç è´¨é‡ä¸è¡Œâ€ï¼Œä½†å®é™…é¡¹ç›®ä¸­ä½ ä¼šå‘ç°ï¼š80% çš„é—®é¢˜ï¼Œå‡ºåœ¨è¾“å…¥ï¼Œè€Œä¸æ˜¯æ¨¡å‹ã€‚</p>
</blockquote>
<p>æˆ‘æ€»ç»“äº†å¾ˆé‡è¦çš„ä¸€ç‚¹å°±æ˜¯<span>ç»“æ„åŒ–</span></p>
<p>ç»“æ„åŒ–æ˜¯æŒ‡ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯ä½ æè¿°çš„éœ€æ±‚è¦æœ‰æ˜ç¡®çš„ç»“æ„å±‚çº§ã€‚
å¦‚ï¼š</p>
<ul>
<li>è§’è‰²å®šä¹‰</li>
<li>ç›®æ ‡æè¿°</li>
<li>è¾“å…¥è¯´æ˜</li>
<li>è¾“å‡ºè¦æ±‚</li>
<li>çº¦æŸæ¡ä»¶</li>
<li>å¤±è´¥å¤„ç†è§„åˆ™</li>
</ul>
<p>é‚£ä¹ˆä½ çš„è¾“å…¥åº”è¯¥ç±»ä¼¼è¿™æ ·ï¼š
::: block-1
ä½ æ˜¯ä¸€ä¸ªèµ„æ·±å‰ç«¯ + AI å·¥ç¨‹å¸ˆ<br/>
ä½ çš„ç›®æ ‡æ˜¯å°† Figma åŸå‹è½¬æ¢ä¸º React é¡¹ç›®<br/>
è¾“å…¥åŒ…å«ï¼šåŸå‹å›¾ç‰‡ + Figma èŠ‚ç‚¹æ•°æ®<br/>
è¾“å‡ºå¿…é¡»æ˜¯å¯è¿è¡Œçš„ React é¡¹ç›®<br/>
ä¸å…è®¸ç•™ä¸‹ TODO<br/>
ä¸å…è®¸ä¿®æ”¹å·²æœ‰æ–‡ä»¶<br/>
:::</p>
<p>ç¬¬äºŒç‚¹å°±æ˜¯å¯¹è¾“å…¥è¾“å‡ºçš„ç»“æ„åŒ–è¦æ±‚ï¼Œä¹Ÿå°±æ˜¯<span>å¤§æ¨¡å‹æ¯”è¾ƒå®¹æ˜“ç†è§£çš„å¦‚XMLç»“æ„</span></p>
<p>è¿™ä¸€ç‚¹æ˜¯å› ä¸ºåœ¨å¤§æ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¥æ”¶äº†å¤§é‡çš„Xmlçš„ç»“æ„åŒ–æ•°æ®ï¼Œæ‰€ä»¥å®ƒå¤©ç„¶çš„å¯¹è¿™ç§ç»“æ„æ•æ„Ÿã€‚è¿™ä¸ªåœ¨claudeæ–‡æ¡£ä¸­æ›¾ç»æåˆ°è¿‡ã€‚å¦‚å»å¹´çˆ†ç«çš„bolt.newçš„å¼€æºç‰ˆæœ¬é‡Œé¢ï¼Œå®ƒçš„promptå¯ä»¥çœ‹åˆ°å¤§é‡çš„ç»“æ„åŒ–æç¤ºè¯</p>
<p><img src="https://p2.ssl.qhimg.com/t110b9a93016ce4916d0ffe7d6a.png" alt="" loading="lazy"/></p>
<p>å¯çœ‹åˆ°å¾ˆå¤šçš„ç»“æ„åŒ–æŒ‡ä»¤</p>
</li>
<li>
<p>åˆ†å±‚æ¬¡ï¼Œåå‘æç¤º
ä¸è¦ä¸€æ¬¡æ€§è®© AI å¹²æ‰€æœ‰äº‹ã€‚</p>
<p>é”™è¯¯æ–¹å¼ï¼š</p>
<blockquote>
<p>æ ¹æ®è¿™äº›å†…å®¹ï¼Œå¸®æˆ‘ç”Ÿæˆä¸€ä¸ªå®Œæ•´é¡¹ç›®</p>
</blockquote>
<p>æ­£ç¡®æ–¹å¼ï¼š</p>
<p>ç¬¬ä¸€æ­¥: åªè®©AIåˆ†æ</p>
<p>ç¬¬ä¸€æ­¥: åªè®©AIç»™æ–¹æ¡ˆ</p>
<p>ç¬¬ä¸‰æ­¥ï¼šåªè®©AIç”Ÿæˆä»£ç </p>
<p>ç¬¬å››æ­¥ï¼šåªè®©AIä¿®å¤é—®é¢˜</p>
<p>å¹¶ä¸”åŠ å…¥åå‘æç¤ºï¼š</p>
<blockquote>
<p>å¦‚æœä¿¡æ¯ä¸è¶³ï¼Œå¿…é¡»æ˜ç¡®æŒ‡å‡º
ä¸å…è®¸è‡ªè¡Œå‡è®¾
ä¸å…è®¸ä½¿ç”¨æœªå£°æ˜çš„åº“</p>
</blockquote>
<p>è¿™ä¸€æ­¥èƒ½æå¤§å‡å°‘â€œçœ‹ä¼¼åˆç†ã€å®é™…ä¸å¯ç”¨â€çš„å¹»è§‰ä»£ç </p>
</li>
<li>
<p>æç¤ºè¯ä¸è¦æ€•å¤šï¼ŒæŠŠä½ æƒ³åˆ°çš„è¾¹ç•Œæƒ…å†µéƒ½å†™ä¸Šä¹Ÿä¸æ— ä¸å¯ï¼Œ æ¯•ç«Ÿç°åœ¨æ¨¡å‹çš„ç†è§£èƒ½åŠ›å’Œä¸Šä¸‹æ–‡é•¿åº¦å·²ç»æœ‰äº†å¾ˆå¤§çš„æå‡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">2. å·¥ç¨‹åŒ–</h3>
<p>çœŸæ­£èƒ½è½åœ°çš„ AI å¼€å‘ï¼Œä¸€å®šæ˜¯å·¥ç¨‹åŒ–çš„ï¼Œè€Œä¸æ˜¯èŠå¤©å¼çš„ã€‚</p>
<blockquote>
<p>è¿‡ç¨‹å¯æ§ã€åˆ†æ­¥éª¤ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§ç”Ÿæˆ</p>
</blockquote>
<p>ä½ å¯ä»¥æŠŠ AI çœ‹æˆ<code>ä¸€ä¸ªä¸å¤ªèªæ˜ä½†æ‰§è¡ŒåŠ›æå¼ºçš„å·¥ç¨‹å¸ˆ</code>,
å‰ææ˜¯ä½ è¦æ‹†å¥½ä»»åŠ¡</p>
<p>ä¾‹å¦‚ä¸€ä¸ªçœŸå®é¡¹ç›®æµç¨‹ï¼š</p>
<p>åˆå§‹åŒ–é¡¹ç›®ç»“æ„</p>
<p>é”å®šæŠ€æœ¯æ ˆ</p>
<p>ç”Ÿæˆé¡µé¢éª¨æ¶/è·¯ç”±ç­‰</p>
<p>å…¶å®ƒéƒ¨åˆ†</p>
<p>ä»£ç è‡ªæ£€ä¸ä¿®å¤</p>
<p><img src="https://p3.ssl.qhimg.com/t110b9a930106d601cf0e9e02c3.jpg" alt="" loading="lazy"/></p>
   <p>æ¯ä¸€æ­¥éƒ½æœ‰æ˜ç¡®è¾“å…¥å’Œè¾“å‡º</p>
<p>å¦‚æœæ‹†çš„è¶³å¤Ÿç»†è‡´ï¼Œé‚£ä¹ˆæ¯ä¸€æ­¥çš„äº§å‡ºå…¶å®éƒ½å¯ä»¥ç”¨æˆ‘ä»¬å·¥ç¨‹åŒ–çš„æ–¹å¼æ¥è§£å†³ï¼Œå¯¹äº§ç‰©çš„æ£€æŸ¥ä¼šå¤§å¹…åº¦çš„å‡å°‘AIçš„ä¹±å†™çš„æƒ…å†µï¼ŒåŒæ—¶è¿˜èƒ½ç»™æˆ‘ä»¬èŠ‚çœå¾ˆå¤šä¸å¿…è¦çš„tokenæµªè´¹</p>
<h4 data-id="heading-3">å¢åŠ æ¨¡ç‰ˆ</h4>
<p>æ¨¡ç‰ˆæ˜¯é™åˆ¶AIå‘æ•£çš„éå¸¸æœ‰æ•ˆçš„æ–¹å¼ã€‚åœ¨å¾ˆå¤šä¼˜ç§€çš„å¼€æºé¡¹ç›®ä¸­ä¹Ÿéƒ½æ˜¯æä¾›äº†å¤§é‡çš„æ¨¡ç‰ˆæ¥å®ç°ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸ªè®©AIåœ¨ä¸€ä¸ªåœˆå­é‡Œé¢å‘æŒ¥ï¼Œå’Œè®©AIæ— è¾¹ç•Œçš„å‘æŒ¥å“ªä¸€ç§ä¼šæ›´åŠ çš„ç¨³å®šã€‚æ¯•ç«Ÿæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ä¸ªç”Ÿäº§é¡¹ç›®ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªèŠå¤©æœºå™¨äººã€‚</p>
<h4 data-id="heading-4">mcp</h4>
<p>å…¶å®è¿™ä¸ªæ›´å¤šçš„æ˜¯ä¸ºäº†è®©äº§å“æ›´åŠ çš„çœ‹èµ·æ¥åƒ "äº§å“"ã€‚</p>
<p>æ¯•ç«Ÿè®©AIç”Ÿæˆä¸€ä¸ªåŸå¸‚çš„å®æ—¶å¤©æ°”æƒ…å†µï¼Œå®ƒæœ€åç»™ä½ çš„æ˜¯ä¸€å †å‡çš„æ•°æ®æ‘†åœ¨é‚£ï¼Œä¹Ÿå¾ˆè®©äººå‡ºæˆã€‚</p>
<h3 data-id="heading-5">æ¨¡å‹é€‰æ‹©</h3>
<p>è¿™ä¸ªæ²¡æœ‰å¤ªå¤šé€‰æ‹©ï¼Œå°±æ˜¯claudeç³»ï¼Œå¯¹æŒ‡ä»¤çš„éµå¾ªéå¸¸å¥½ã€‚</p>
<p>gemini3æœ€è¿‘ä¹ŸæŒºç«ï¼Œè¯•äº†ä¸€ä¸‹ï¼Œè¯•å›¾èƒ½åŠ›ç¡®å®æ¯”claudeè¦å¥½ï¼Œä½†æ˜¯è¯´æŒ‡ä»¤éµå¾ªï¼Œè‡ªæˆ‘æ„Ÿè§‰æ²¡æœ‰claudeæ›´å¥½ã€‚</p>
<h3 data-id="heading-6">å…¶å®ƒ</h3>
<p>æ•´ä¸ªè¿‡ç¨‹ä¹Ÿé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æœ€å¤§çš„é—®é¢˜å°±æ˜¯<span>AIç¼–å†™é€Ÿåº¦</span>è¿™ä¸ªã€‚</p>
<p>ä¹Ÿå°è¯•è¿‡å¹¶å‘å¤„ç†ï¼Œå…¶å®å°±æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œå¦‚æœèƒ½åšåˆ°å½“ç„¶å¾ˆå¥½ï¼Œæ²¡æœ‰å»åšç‰¹åˆ«æ·±å…¥çš„å°è¯•ã€‚ä½†æ˜¯å¯æƒ³è€ŒçŸ¥ä¼šæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ä¸Šä¸‹æ–‡åŒæ­¥çš„é—®é¢˜ï¼Œæ€ä¹ˆä¿è¯æ¯ä¸ª<code>session</code>ä¹‹é—´çš„ä¸Šä¸‹æ–‡æ˜¯æœ‰å…³è”çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„è·¯ç”±ï¼Œç‚¹å‡»è·³è½¬ï¼ŒçŠ¶æ€ç®¡ç†ç­‰ç­‰ã€‚</p>
<p>æˆ–è€…æ˜¯çˆ¶å­sessionçš„æ–¹å¼ï¼Œä½†æ˜¯åˆè¯¥å¦‚ä½•åˆ’åˆ†èŒè´£ï¼Œä»¥åŠè®°å¿†ç®¡ç†éƒ½ä¼šæ¯”è¾ƒå¤æ‚ã€‚</p>
<p>ä½†ç»ˆå½’æ˜¯æœ‰åŠæ³•è§£å†³çš„ï¼Œ<span>ä½†åŒæ—¶ä¹Ÿå¯ä»¥æœ‰å¦ä¸€ä¸ªåæ€å°±æ˜¯æ—¢ç„¶æˆ‘ä»¬åšçš„æ˜¯ä¸€ä¸ªå®Œå¤‡çš„å¯ä¸Šçº¿çš„ä¸œè¥¿ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ—¶é—´è€—è´¹æ˜¯å¦ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚</span></p>
<p>ä»ç¨³å®šæ€§å’Œä¸Šä¸‹æ–‡ç®¡ç†çš„è§’åº¦æ¥è¯´ï¼Œä¸šç•Œå·²ç»å‡ºäº†å¯¹åº”çš„agentäº§å“æ¥è§£å†³ï¼Œclaude codeå’Œgemini cliéƒ½æ˜¯å¸®ä½ è§£å†³è¿™äº›é—®é¢˜çš„ã€‚å®ƒä»¬å¯ä»¥å¸®åŠ©ä½ è§£å†³ä¸Šä¸‹æ–‡è‡ªåŠ¨å‹ç¼©çš„é—®é¢˜ï¼Œå·¥å…·ä½¿ç”¨ï¼Œæ–‡ä»¶æŸ¥æ‰¾ç­‰ç­‰ä»¥å‰éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„è¡¥å…¨çš„èƒ½åŠ›ã€‚</p>
<p>è€Œä¸”claude codeçœŸå¿ƒå¥½ç”¨ï¼Œæœ‰äº†å®ƒä¹‹åæˆ‘ä»¬ä¹‹å‰çš„ä»£ç å¯ä»¥èŠ‚çœ70%ï¼Œå®ƒåšåˆ°äº†ä¸€ä¸ªçœŸæ­£çš„agentèƒ½åšåˆ°çš„äº‹æƒ…ã€‚ä½†æ˜¯å³ä½¿ç”¨äº†è¿™ä¸ªagentçš„äº§å“ï¼Œä¹Ÿä¼šé¢ä¸´å¾ˆå¤šæƒ…å†µï¼Œæ¯”å¦‚æˆ‘ä»¬å°±é‡åˆ°äº†ä¸€äº›æƒ…å†µã€‚</p>
<p>ä¸€ä¸ªæ˜¯é¢‘ç¹å¯¹è¯ä»¥åŠä¸€äº›è¾“å…¥è¿‡å¤§çš„æƒ…å†µï¼Œæœ€ç»ˆä¼šæ’‘çˆ†ä¸Šä¸‹æ–‡ã€‚æˆ–è€…å®ƒè‡ªèº«è®°å¿†çš„é—®é¢˜å¯¼è‡´å®ƒä¸è®°å¾—çš„cwdç›®å½•ï¼Œå¯¼è‡´å®ƒè‡ªå·±å»å¯»æ‰¾ç›®å½•å†™å…¥æ–‡ä»¶ã€‚</p>
<p>ç›®å‰å®ƒä¹Ÿæä¾›äº†ä¸€äº›å¥½çš„æ–¹å¼å»è§£å†³ã€‚æ¯”å¦‚subagent, è¯»å†™é’©å­æˆ–è€…Skillç­‰èƒ½åŠ›ã€‚</p>
<p>è¿™é‡Œå¾ˆå¤šæ­¥éª¤çš„ç»†èŠ‚æ²¡æœ‰å¾ˆå…·ä½“çš„å†™ï¼Œæ¶‰åŠåˆ°çš„é—®é¢˜ä¼šå¾ˆå¤šï¼Œæ„Ÿè§‰æ¯ä¸€ä¸ªç»†èŠ‚éƒ½å¯ä»¥è¯¦ç»†çš„å‡ºä¸€ç¯‡æ–‡ç« çš„åœ°æ­¥ã€‚</p>
<p>è™½ç„¶ä¸Šæ–‡è¯´åˆ°äº†å·¥ç¨‹åŒ–å»è§£å†³ä¸€äº›é—®é¢˜ï¼Œå®è·µä¸­å…¶å®å¤§å®¶éƒ½æ„Ÿè§‰åˆ°äº†ä¸€ç‚¹å°±æ˜¯<code>äººä¸ºçš„å¹²é¢„åœ¨è¶Šæ¥è¶Šå°‘</code>ã€‚ä¹Ÿå°±æ˜¯å¤§æ¨¡å‹çš„èƒ½åŠ›å§‹ç»ˆåœ¨è¿›æ­¥ã€‚æˆ‘ä»¬ç›®å‰çš„ä¸€åˆ‡æ“ä½œï¼Œä¼¼ä¹éƒ½æ˜¯åœ¨ç»™è¿‡æ¸¡é˜¶æ®µæ‰“è¡¥ä¸ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½»åº•ææ‡‚ MCPï¼šTraeã€Agent ä¸æ’ä»¶æœåŠ¡ç«¯çš„â€œä¸‰è§’ååŒâ€åŸç†è§£æ]]></title>    <link>https://juejin.cn/post/7602553969970970678</link>    <guid>https://juejin.cn/post/7602553969970970678</guid>    <pubDate>2026-02-04T09:35:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602553969970970678" data-draft-id="7602579671475994643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½»åº•ææ‡‚ MCPï¼šTraeã€Agent ä¸æ’ä»¶æœåŠ¡ç«¯çš„â€œä¸‰è§’ååŒâ€åŸç†è§£æ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-04T09:35:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="goingflygo"/> <meta itemprop="url" content="https://juejin.cn/user/3896324936173719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½»åº•ææ‡‚ MCPï¼šTraeã€Agent ä¸æ’ä»¶æœåŠ¡ç«¯çš„â€œä¸‰è§’ååŒâ€åŸç†è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3896324936173719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    goingflygo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:35:26.000Z" title="Wed Feb 04 2026 09:35:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI ç¼–ç¨‹å·¥å…·ï¼ˆå¦‚ Trae, Cursor, Windsurfï¼‰çˆ†å‘çš„ä»Šå¤©ï¼Œä½ å¯èƒ½å¬è¯´è¿‡ <strong>MCP (Model Context Protocol)</strong> è¿™ä¸ªè¯ã€‚å®ƒæ˜¯ Anthropic æ¨å‡ºçš„ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œè¢«ç§°ä¸º AI æ—¶ä»£çš„ "USB æ¥å£"ã€‚</p>
<p>ä½†å®ƒå…·ä½“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿå½“ä½ åœ¨ Trae é‡Œå®‰è£…äº†ä¸€ä¸ªæ’ä»¶ï¼ˆæ¯”å¦‚ <code>trae-mem</code>ï¼‰ï¼Œå½“ä½ å¯¹ AI è¯´â€œå¸®æˆ‘ä¿å­˜è¿™æ®µè®°å¿†â€æ—¶ï¼Œåº•å±‚åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<p>æœ¬æ–‡å°†é€šè¿‡ <code>trae-mem</code> çš„å®é™…ä»£ç ï¼Œå¸¦ä½ æ·±å…¥è§£æ„ <strong>Traeï¼ˆå®¿ä¸»/å®¢æˆ·ç«¯ï¼‰</strong>ã€<strong>Agentï¼ˆå¤§æ¨¡å‹/å¤§è„‘ï¼‰</strong> å’Œ <strong>MCP Serverï¼ˆæœåŠ¡ç«¯/å·¥å…·æ‰‹ï¼‰</strong> ä¹‹é—´çš„äº¤äº’åŸç†ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ æ ¸å¿ƒè§’è‰²ï¼šè°åœ¨åšä»€ä¹ˆï¼Ÿ</h2>
<p>åœ¨ä¸€ä¸ªå…¸å‹çš„ MCP å·¥ä½œæµä¸­ï¼Œæœ‰ä¸‰ä¸ªå…³é”®è§’è‰²ï¼Œå®ƒä»¬çš„å…³ç³»ç±»ä¼¼äº<strong>æ“ä½œç³»ç»Ÿã€CPU å’Œ åº”ç”¨ç¨‹åº</strong>ã€‚</p>
<h3 data-id="heading-1">1. MCP Host (Trae IDE) â€”â€” â€œæ€»çº¿ä¸è¿æ¥å™¨â€</h3>
<p>Trae æ˜¯æ•´ä¸ªç³»ç»Ÿçš„å®¿ä¸»ï¼ˆHostï¼‰ã€‚</p>
<ul>
<li><strong>å®ƒçš„èŒè´£</strong>ï¼šè´Ÿè´£å¯åŠ¨ MCP Server è¿›ç¨‹ï¼Œç®¡ç†æ ‡å‡†è¾“å…¥/è¾“å‡ºï¼ˆStdioï¼‰é€šé“ï¼Œå¹¶å°† Server æä¾›çš„å·¥å…·æ¸…å•ï¼ˆTools Listï¼‰â€œå–‚â€ç»™å¤§æ¨¡å‹ã€‚</li>
<li><strong>ç±»æ¯”</strong>ï¼šå®ƒæ˜¯ç”µè„‘çš„ä¸»æ¿å’Œæ“ä½œç³»ç»Ÿï¼Œè´Ÿè´£æŠŠå¤–è®¾ï¼ˆMCP Serverï¼‰æ¥å…¥è¿›æ¥ï¼Œå¹¶è®© CPUï¼ˆAgentï¼‰èƒ½çœ‹åˆ°å®ƒä»¬ã€‚</li>
</ul>
<h3 data-id="heading-2">2. MCP Server (æœåŠ¡ç«¯) â€”â€” â€œèƒ½åŠ›æä¾›è€…â€</h3>
<p>è¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„è¿›ç¨‹ï¼ˆä¾‹å¦‚æˆ‘ä»¬çš„ <code>python -m trae_mem.mcp_server</code>ï¼‰ã€‚</p>
<ul>
<li><strong>å®ƒçš„èŒè´£</strong>ï¼šå®ƒä¸çŸ¥é“ Agent æ˜¯è°ï¼Œä¹Ÿä¸æ‡‚è‡ªç„¶è¯­è¨€ã€‚å®ƒåªæ‡‚ <strong>JSON-RPC</strong> åè®®ã€‚å®ƒæš´éœ²äº†ä¸€ç»„å…·ä½“çš„<strong>å·¥å…·ï¼ˆToolsï¼‰</strong>ã€<strong>èµ„æºï¼ˆResourcesï¼‰</strong> æˆ– <strong>æç¤ºè¯ï¼ˆPromptsï¼‰</strong>ã€‚</li>
<li><strong>ç±»æ¯”</strong>ï¼šå®ƒå°±åƒä¸€ä¸ª USB é”®ç›˜æˆ–æ‰“å°æœºé©±åŠ¨ã€‚å®ƒæœ‰å…·ä½“çš„åŠŸèƒ½ï¼ˆæ‰“å°ã€æŒ‰é”®ï¼‰ï¼Œä½†éœ€è¦æœ‰äººæ¥è°ƒç”¨ã€‚</li>
<li><strong>ä»£ç å®ä¾‹</strong>ï¼š<code>trae-mem</code> æš´éœ²äº† <code>trae_mem_log</code>, <code>trae_mem_search</code> ç­‰å·¥å…·ã€‚</li>
</ul>
<h3 data-id="heading-3">3. Agent (å¤§æ¨¡å‹) â€”â€” â€œå†³ç­–å¤§è„‘â€</h3>
<p>è¿™æ˜¯è¿è¡Œåœ¨äº‘ç«¯ï¼ˆæˆ–æœ¬åœ°ï¼‰çš„ LLMï¼ˆå¦‚ Claude 3.5 Sonnet, GPT-4ï¼‰ã€‚</p>
<ul>
<li><strong>å®ƒçš„èŒè´£</strong>ï¼šå®ƒè´Ÿè´£ç†è§£ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æ„å›¾ï¼ŒæŸ¥çœ‹ Trae ç»™å®ƒçš„â€œå·¥å…·èœå•â€ï¼Œå¹¶å†³å®š<strong>æ˜¯å¦è°ƒç”¨</strong>ä»¥åŠ<strong>å¦‚ä½•è°ƒç”¨</strong>æŸä¸ªå·¥å…·ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šAgent <strong>ä¸èƒ½ç›´æ¥è¿è¡Œä»£ç </strong>ï¼Œå®ƒåªèƒ½è¾“å‡ºä¸€ä¸ªâ€œæˆ‘æƒ³è°ƒç”¨å·¥å…· Xâ€çš„æ–‡æœ¬æŒ‡ä»¤ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€ äº¤äº’å››éƒ¨æ›²ï¼šä»å¯åŠ¨åˆ°æ‰§è¡Œ</h2>
<p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸‰è€…æ˜¯å¦‚ä½•é€šè¿‡ MCP åè®®èˆåŠ¨èµ·æ¥çš„ã€‚æˆ‘ä»¬å°†æµç¨‹åˆ†ä¸ºå››ä¸ªé˜¶æ®µã€‚</p>
<h3 data-id="heading-5">æµç¨‹å›¾æ€»è§ˆ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Agent as ğŸ§  Agent (Model)
    participant Host as ğŸ–¥ï¸ Trae (MCP Client)
    participant Server as âš™ï¸ MCP Server (trae-mem)

    Note over Host, Server: é˜¶æ®µä¸€ï¼šæ¡æ‰‹ä¸å‘ç°
    Host-&gt;&gt;Server: å¯åŠ¨è¿›ç¨‹ (spawn process)
    Host-&gt;&gt;Server: JSON-RPC: initialize
    Server--&gt;&gt;Host: return capabilities (æˆ‘æ”¯æŒ Tools!)
    Host-&gt;&gt;Server: JSON-RPC: tools/list (ä½ æœ‰å•¥å·¥å…·ï¼Ÿ)
    Server--&gt;&gt;Host: return [trae_mem_log, hook_event...] (Schemaå®šä¹‰)

    Note over Agent, Host: é˜¶æ®µäºŒï¼šæ€è€ƒä¸å†³ç­–
    Host-&gt;&gt;Agent: User Prompt + Tools Schema (èœå•)
    Agent-&gt;&gt;Agent: æ€è€ƒï¼š"ç”¨æˆ·æƒ³å­˜è®°å¿†ï¼Œæˆ‘è¦ç”¨ trae_mem_log"
    Agent--&gt;&gt;Host: Output: Tool Call Request (æˆ‘æƒ³è°ƒç”¨è¿™ä¸ª!)

    Note over Host, Server: é˜¶æ®µä¸‰ï¼šè°ƒç”¨ä¸æ‰§è¡Œ
    Host-&gt;&gt;Server: JSON-RPC: tools/call {name: "trae_mem_log", args: {...}}
    Server-&gt;&gt;Server: æ‰§è¡Œ Python ä»£ç  (å†™å…¥ SQLite)
    Server--&gt;&gt;Host: return Result (æˆåŠŸ/å¤±è´¥ä¿¡æ¯)

    Note over Agent, Host: é˜¶æ®µå››ï¼šåé¦ˆä¸å“åº”
    Host-&gt;&gt;Agent: Tool Output (è¿™æ˜¯å·¥å…·çš„è¿è¡Œç»“æœ)
    Agent--&gt;&gt;Agent: æ•´åˆä¿¡æ¯
    Agent--&gt;&gt;Host: Final Response (è‡ªç„¶è¯­è¨€å›å¤ç”¨æˆ·)
</code></pre>
<h3 data-id="heading-6">é˜¶æ®µä¸€ï¼šæ¡æ‰‹ä¸å‘ç° (Handshake &amp; Discovery)</h3>
<p>å½“ä½ åœ¨ Trae çš„ <code>mcp.json</code> ä¸­é…ç½®å¥½æœåŠ¡å¹¶é‡å¯ IDE æ—¶ï¼š</p>
<ol>
<li>
<p><strong>å¯åŠ¨</strong>ï¼šTrae åœ¨åå°æ‚„æ‚„è¿è¡Œäº† <code>python3 -m trae_mem.mcp_server</code>ã€‚</p>
</li>
<li>
<p><strong>åˆå§‹åŒ– (<code>initialize</code>)</strong>ï¼š
Trae å‘é€ä¸€ä¸ª JSON åŒ…ç»™ Serverï¼Œè¯´ï¼šâ€œä½ å¥½ï¼Œæˆ‘æ˜¯å®¢æˆ·ç«¯ï¼Œåè®®ç‰ˆæœ¬ 2024-11-05â€ã€‚
Server å›å¤ï¼šâ€œä½ å¥½ï¼Œæˆ‘æ˜¯ <code>trae-mem</code>ï¼Œç‰ˆæœ¬ 0.1.0ï¼Œæˆ‘æ”¯æŒ Tools èƒ½åŠ›â€ã€‚</p>
</li>
<li>
<p><strong>åˆ—å‡ºå·¥å…· (<code>tools/list</code>)</strong>ï¼š
Trae é—®ï¼šâ€œè¯·æŠŠä½ æ”¯æŒçš„æ‰€æœ‰å·¥å…·åˆ—è¡¨å‘ç»™æˆ‘ã€‚â€
Server ä¼šè¿”å›ä¸€ä¸ªå·¨å¤§çš„ JSON åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†æ¯ä¸ªå·¥å…·çš„ <code>inputSchema</code>ã€‚</p>
<blockquote>
<p><strong>å…³é”®ä»£ç  (<code>mcp_server.py</code>)</strong>:</p>
<pre><code class="hljs language-python" lang="python">{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"trae_mem_hook_event"</span>,
    <span class="hljs-string">"description"</span>: <span class="hljs-string">"é€‚é…ç”Ÿå‘½å‘¨æœŸäº‹ä»¶..."</span>,
    <span class="hljs-string">"inputSchema"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"object"</span>,
        <span class="hljs-string">"properties"</span>: { <span class="hljs-string">"event"</span>: {...}, <span class="hljs-string">"payload"</span>: {...} },
        <span class="hljs-string">"required"</span>: [<span class="hljs-string">"event"</span>, <span class="hljs-string">"payload"</span>]
    }
}
</code></pre>
<p><em>è¿™æ®µ JSON å°±æ˜¯ Agent åæ¥èƒ½è¯»æ‡‚çš„â€œè¯´æ˜ä¹¦â€ã€‚</em></p>
</blockquote>
</li>
</ol>
<h3 data-id="heading-7">é˜¶æ®µäºŒï¼šæ€è€ƒä¸å†³ç­– (Reasoning)</h3>
<p>ç°åœ¨ï¼Œç”¨æˆ·åœ¨èŠå¤©æ¡†è¾“å…¥ï¼š<strong>â€œæˆ‘åˆšä¿®å¤äº†ç™»å½• bugï¼Œå¸®æˆ‘è®°å½•ä¸€ä¸‹ã€‚â€</strong></p>
<ol>
<li><strong>æ„å»ºä¸Šä¸‹æ–‡</strong>ï¼šTrae å°†ç”¨æˆ·çš„è¿™å¥è¯ï¼Œè¿åŒåˆšæ‰ Server å‘æ¥çš„â€œå·¥å…·è¯´æ˜ä¹¦â€ï¼Œä¸€èµ·æ‰“åŒ…å‘ç»™ Agentï¼ˆå¤§æ¨¡å‹ï¼‰ã€‚</li>
<li><strong>æ¨¡å‹æ€è€ƒ</strong>ï¼š
Agent è¯»åˆ°è¯´æ˜ä¹¦ï¼Œå‘ç°æœ‰ä¸€ä¸ªå·¥å…·å« <code>trae_mem_log</code>ï¼Œæè¿°æ˜¯â€œå†™å…¥ä¸€æ¡è§‚æµ‹...â€ã€‚
Agent è®¤ä¸ºï¼šâ€œè¿™ä¸ªå·¥å…·ç¬¦åˆç”¨æˆ·çš„éœ€æ±‚ã€‚â€</li>
<li><strong>ç”Ÿæˆè°ƒç”¨è¯·æ±‚</strong>ï¼š
Agent <strong>ä¸ä¼š</strong>ç›´æ¥æ‰§è¡Œ Python ä»£ç ï¼Œå®ƒåªæ˜¯è¿”å›ä¸€æ®µç‰¹å®šçš„æ–‡æœ¬ï¼ˆé€šå¸¸æ˜¯ XML æˆ– JSON æ ¼å¼ï¼‰ï¼Œå‘Šè¯‰ Traeï¼š
<blockquote>
<p><em>â€œè¯·å¸®æˆ‘è°ƒç”¨ <code>trae_mem_log</code>ï¼Œå‚æ•°æ˜¯ <code>text='ä¿®å¤ç™»å½•bug', kind='user'</code>ã€‚â€</em></p>
</blockquote>
</li>
</ol>
<h3 data-id="heading-8">é˜¶æ®µä¸‰ï¼šä¸­è½¬ä¸æ‰§è¡Œ (Execution)</h3>
<p>Trae æ‹¦æˆªåˆ°äº† Agent çš„è¿™ä¸ªè¯·æ±‚ã€‚</p>
<ol>
<li><strong>åè®®è½¬æ¢</strong>ï¼šTrae å°† Agent çš„æ„å›¾è½¬æ¢ä¸ºæ ‡å‡†çš„ MCP JSON-RPC è¯·æ±‚ï¼Œé€šè¿‡ Stdin ç®¡é“å‘ç»™ Serverã€‚
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tools/call"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"trae_mem_log"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"arguments"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"session"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"current"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"kind"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¿®å¤ç™»å½•bug"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
<li><strong>Server å¹²æ´»</strong>ï¼š
<code>mcp_server.py</code> çš„ä¸»å¾ªç¯æ”¶åˆ°è¿™è¡Œ JSONï¼Œè§£æå‡º <code>name</code> å’Œ <code>arguments</code>ï¼Œç„¶åè°ƒç”¨å¯¹åº”çš„ Python å‡½æ•°æ“ä½œ SQLite æ•°æ®åº“ã€‚</li>
<li><strong>è¿”å›ç»“æœ</strong>ï¼š
æ“ä½œå®Œæˆåï¼ŒServer æ‰“å°ç»“æœåˆ° Stdoutï¼š
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"result"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"observation_id_12345"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-9">é˜¶æ®µå››ï¼šé—­ç¯ (Loop Closure)</h3>
<p>Trae æ”¶åˆ°è¿™ä¸ªç»“æœï¼ŒæŠŠå®ƒé€šè¿‡ Prompt å†æ¬¡å–‚å›ç»™ Agentã€‚
Agent çœ‹åˆ°ç»“æœï¼šâ€œå“¦ï¼Œå·¥å…·æ‰§è¡ŒæˆåŠŸäº†ï¼Œè¿”å›äº† IDã€‚â€
Agent æœ€ç»ˆå›å¤ç”¨æˆ·ï¼šâ€œ<strong>å·²ä¸ºæ‚¨è®°å½•è¯¥ä¿®å¤æ“ä½œï¼ˆID: ...ï¼‰ã€‚</strong>â€</p>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€ ä¸ºä»€ä¹ˆè¿™ç§æ¶æ„å¾ˆç‰›ï¼Ÿ</h2>
<p>ç†è§£äº†è¿™ä¸ªåŸç†ï¼Œä½ å°±æ˜ç™½äº† MCP çš„ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<ol>
<li>
<p><strong>å®‰å…¨æ€§ (Security)</strong>ï¼š
Agent æ°¸è¿œæ— æ³•ç›´æ¥è§¦ç¢°ä½ çš„ç¡¬ç›˜æˆ–ç½‘ç»œã€‚å®ƒåªèƒ½è¯·æ±‚ Trae è°ƒç”¨ Server æš´éœ²å‡ºæ¥çš„æœ‰é™çš„å‡ ä¸ªå·¥å…·ã€‚å¦‚æœ Server æ²¡å†™â€œåˆ é™¤æ–‡ä»¶â€çš„å·¥å…·ï¼ŒAgent å°±ç®—æƒ³åˆ ä¹Ÿåˆ ä¸æ‰ã€‚</p>
</li>
<li>
<p><strong>é€šç”¨æ€§ (Universality)</strong>ï¼š
<code>trae-mem</code> åªéœ€è¦å†™ä¸€æ¬¡ MCP Serverï¼Œå°±å¯ä»¥åŒæ—¶è¢« Traeã€Claude Desktopã€Zed Editor ç­‰ä»»ä½•æ”¯æŒ MCP çš„å®¢æˆ·ç«¯ä½¿ç”¨ã€‚å°±åƒ USB é”®ç›˜æ’å“ªå°ç”µè„‘éƒ½èƒ½ç”¨ã€‚</p>
</li>
<li>
<p><strong>æœ¬åœ°åŒ– (Local Control)</strong>ï¼š
Agent å¯ä»¥åœ¨äº‘ç«¯ï¼ˆOpenAI/Anthropicï¼‰ï¼Œä½† MCP Server è·‘åœ¨ä½ æœ¬åœ°ã€‚è¿™æ„å‘³ç€äº‘ç«¯çš„å¤§è„‘å¯ä»¥é€šè¿‡è¿™ä¸ªâ€œæœ¬åœ°æ‰‹è„šâ€æ¥æ“ä½œä½ æœ¬åœ°çš„æ•°æ®åº“ã€æ–‡ä»¶ï¼Œå®ç°äº†<strong>ç«¯äº‘ååŒ</strong>ã€‚</p>
</li>
</ol>
<h2 data-id="heading-11">å››ã€ æ€»ç»“</h2>
<ul>
<li><strong>Trae</strong> æ˜¯<strong>è·¯ç”±å™¨</strong>ï¼Œè´Ÿè´£è½¬å‘æ¶ˆæ¯ã€‚</li>
<li><strong>Agent</strong> æ˜¯<strong>æŒ‡æŒ¥å®˜</strong>ï¼Œè´Ÿè´£ä¸‹è¾¾æŒ‡ä»¤ã€‚</li>
<li><strong>MCP Server</strong> æ˜¯<strong>å·¥å…µ</strong>ï¼Œè´Ÿè´£å¹²è„æ´»ç´¯æ´»ã€‚</li>
</ul>
<p>å½“ä½ ä¸‹ä¸€æ¬¡åœ¨ Trae é‡Œçœ‹åˆ° AI å¸®ä½ æŸ¥æ•°æ®åº“ã€å†™æ–‡ä»¶æ—¶ï¼Œè¯·è®°å¾—ï¼šè¿™èƒŒåæ˜¯ä¸€åœºç²¾å¯†çš„ä¸‰æ–¹æ¥åŠ›èµ›ï¼Œè€Œ <strong>MCP åè®®</strong> å°±æ˜¯å®ƒä»¬å…±åŒçš„æ¥åŠ›æ£’ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çªç„¶ï¼Œä¸€ä¸ªæ ‘ç»“æ„çš„æ•°æ®å±•ç¤ºä¸å‡ºæ¥äº†]]></title>    <link>https://juejin.cn/post/7602814773496119338</link>    <guid>https://juejin.cn/post/7602814773496119338</guid>    <pubDate>2026-02-04T10:03:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602814773496119338" data-draft-id="7602543146237526059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çªç„¶ï¼Œä¸€ä¸ªæ ‘ç»“æ„çš„æ•°æ®å±•ç¤ºä¸å‡ºæ¥äº†"/> <meta itemprop="keywords" content="å‰ç«¯,axios"/> <meta itemprop="datePublished" content="2026-02-04T10:03:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢…å·_é…·å­"/> <meta itemprop="url" content="https://juejin.cn/user/1488075996274921"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çªç„¶ï¼Œä¸€ä¸ªæ ‘ç»“æ„çš„æ•°æ®å±•ç¤ºä¸å‡ºæ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1488075996274921/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢…å·_é…·å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:03:39.000Z" title="Wed Feb 04 2026 10:03:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">çªç„¶ï¼Œä¸€ä¸ªæ ‘ç»“æ„çš„æ•°æ®å±•ç¤ºä¸å‡ºæ¥äº†</h2>
<p>â€ƒâ€ƒæœ‰ä¸€å¤©ï¼Œä¸€ä¸ªå·²ç»ä¸Šçº¿çš„é¡¹ç›®ï¼Œæ”¶åˆ°äº†ç”¨æˆ·åé¦ˆï¼Œè¯´åœ¨é™„ä»¶ä¸Šä¼ çš„æ—¶å€™ï¼ŒåŒæ—¶ä¸Šä¼ ä¸¤ä¸ªä¼šå‡ºé”™ã€‚åæ¥ç»æ’æŸ¥ï¼Œæ—§ç³»ç»Ÿçš„æ¡†æ¶ç”¨çš„æ˜¯ element-uiï¼Œè€Œæ–°ç³»ç»Ÿç”¨çš„æ˜¯ ant-design-vueï¼Œæ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ¡†æ¶çš„Ë²upload ç»„ä»¶çš„Ë²å‚æ•°æ ¼å¼ä¸åŒË²å¯¼è‡´çš„é”™è¯¯ã€‚å¦‚æœæƒ³è¦å½»åº•ä¿®å¤ï¼Œå°±è¦æŠŠæ–°ç³»ç»Ÿä¸­çš„ upload ç»„ä»¶ä»£ç é‡æ„ã€‚ç”±äºå·²ç»å­˜åœ¨çš„ä»£ç ä½“é‡æ¯”è¾ƒå¤§ï¼Œé‡æ„æˆæœ¬è¿‡é«˜ï¼Œäºæ˜¯å†³å®šï¼Œå¦è¾Ÿè¹Šå¾„ã€‚</p>
<p>â€ƒâ€ƒåœ¨ç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªä¼˜åŒ–åŠŸèƒ½ï¼šåœ¨çŸ­æ—¶é—´å†…é‡å¤è°ƒç”¨ä¸€ä¸ªæ¥å£æ—¶ï¼Œåªä¼šä¿ç•™æœ€åä¸€æ¬¡è°ƒç”¨ã€‚</p>
<p>â€ƒâ€ƒè¿™ä¸ªä¼˜åŒ–åŠŸèƒ½ï¼Œæ­£å¥½å¯ä»¥æ©ç›–é™„ä»¶ä¸Šä¼ é‡åˆ°çš„é—®é¢˜ã€‚ä½†æ˜¯ä¸€ä¸ªåŒäº‹è¡¨ç¤ºï¼Œè™½ç„¶æ‰¾åˆ°äº†è¿™ä¸ªä¼˜åŒ–åŠŸèƒ½çš„ä»£ç ï¼Œä½†å¥½åƒæ ¹æœ¬æ²¡ç”¨ä¸Šï¼ŒçŸ­æ—¶é—´å†…é‡å¤è°ƒç”¨çš„æ¥å£å¹¶æ²¡æœ‰è¢«ä¼˜åŒ–æˆä¸€ä¸ªã€‚äºæ˜¯ï¼Œè¿™ä¸ªé—®é¢˜æ¥åˆ°äº†æˆ‘è¿™é‡Œâ€¦â€¦</p>
<p>â€ƒâ€ƒäº‹æƒ…çš„æ¥é¾™å»è„‰å·²ç»æ¸…æ¥šäº†ï¼Œæ¥ä¸‹æ¥ï¼Œå¼€å§‹å¹²æ´»</p>
<h3 data-id="heading-1">ç¬¬ä¸€å±‚é˜»ç¢</h3>
<p>â€ƒâ€ƒé¦–å…ˆæ¢³ç†ä¼˜åŒ–åŠŸèƒ½é€»è¾‘ï¼Œå®ç°æ–¹æ³•æ˜¯åœ¨ è¯·æ±‚æ‹¦æˆªå™¨ ä¸ å“åº”æ‹¦æˆªå™¨ ä¸­é…åˆå®Œæˆçš„ï¼Œå¤§è‡´å°±æ˜¯è¯´ï¼š</p>
<p>â€ƒâ€ƒå°†å½“å‰è°ƒç”¨çš„æ¥å£ï¼Œæ”¾ç½®åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ã€‚åœ¨æ¥å£æˆåŠŸè¿”å›å‰ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨äº†ç›¸åŒæ¥å£ï¼Œå°±å°†å‰ä¸€æ¬¡çš„è°ƒç”¨ä¸­æ­¢ï¼Œä¿ç•™åä¸€æ¬¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c56ef746d1f74b1996e403b27060db99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=q0addOmxJcjLAbHJ5L2U7N5gAio%3D" alt="å“åº”æ‹¦æˆªå™¨" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a5958690bb64459a44defc74b05cd27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=5IMeVMoSCriHtLX4qNFi92sMfxU%3D" alt="å“åº”æ‹¦æˆªå™¨" loading="lazy"/></p>
<p>â€ƒâ€ƒæˆªå›¾ä¸­æ‹¦æˆªå™¨é‡Œè°ƒç”¨çš„ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ†åˆ«å°±æ˜¯ Ë²æ·»åŠ è¿›å®¹å™¨Ë² ä¸ Ë²ä»å®¹å™¨ç§»é™¤å¹¶ä¸­æ­¢Ë² çš„ä¸¤ä¸ªå‡½æ•°ï¼Œæ£€æŸ¥åˆ°è¿™é‡Œæ—¶å‘ç°ï¼Œè¯·æ±‚æ‹¦æˆªå™¨ä¸­çš„ç¬¬ä¸€è¡Œä»£ç è¢«<strong>æ³¨é‡Šæ‰äº†</strong>ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰äº†å¯¹ removePending å‡½æ•°çš„è°ƒç”¨ï¼Œå¯¼è‡´æ•´ä¸ªé€»è¾‘æ²¡æœ‰å®Œæ•´æ‰§è¡Œã€‚</p>
<p>â€ƒâ€ƒæŸ¥è¯¢ä¿®æ”¹è®°å½•ï¼Œå‘ç°è¿™æ˜¯é¡¹ç›®åˆå§‹åŒ–æ—¶çš„åŸå§‹ä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹‹å‰ä½¿ç”¨è¿‡è¿™ä¸ªæ¡†æ¶çš„é¡¹ç›®ç»„ï¼Œæ•…æ„æŠŠè¿™ä¸ªä»£ç æ³¨é‡Šæ‰äº†ã€‚è™½ç„¶ä¸æ˜æ‰€ä»¥ï¼Œä½†ä¸ºäº†è§£å†³ç°åœ¨é™„ä»¶ä¸Šä¼ çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å†ç»™å®ƒ<strong>æ”¾å¼€</strong>å§ã€‚</p>
<p>â€ƒâ€ƒé€šçŸ¥æµ‹è¯•ï¼Œå‘Šè¯‰åŒäº‹ï¼Œé—®é¢˜è§£å†³ï¼Œçš†å¤§æ¬¢å–œã€‚</p>
<p>â€ƒâ€ƒæ„å¤–çš„æ˜¯ï¼ŒçœŸæ­£çš„é—®é¢˜æ‰åˆšåˆšæµ®å‡ºæ°´é¢â€¦â€¦</p>
<h3 data-id="heading-2">ç¬¬äºŒå±‚é˜»ç¢</h3>
<p>â€ƒâ€ƒæµ‹è¯•äººå‘˜å¤æµ‹é™„ä»¶ä¸Šä¼ ï¼Œæœç„¶å¦‚é¢„æœŸæ‰€æ–™ï¼Œæ¡†æ¶ç»„ä»¶çš„å·®å¼‚é—®é¢˜ æˆåŠŸè¢« ä¼˜åŒ–ä»£ç æå®šäº†ã€‚</p>
<p>â€ƒâ€ƒä½†æ˜¯æ²¡è¿‡å¤šä¹…ï¼Œæµ‹è¯•äººå‘˜è¡¨ç¤ºï¼Œåˆå‡ºç°äº†ä¸€ä¸ªæ–°bugï¼Œæœ‰ä¸€ä¸ªé¡µé¢çš„æ•°æ®ï¼ŒæŸ¥ä¸å‡ºæ¥äº†â€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e64052e3a6c741028071727b018cf501~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=5nENa7IfYsWNEk1luBlilKHnZV0%3D" alt="æŠ¥é”™" loading="lazy"/></p>
<p>â€ƒâ€ƒè°ƒç”¨æ ˆæ»¡äº†ï¼Ÿ</p>
<p>â€ƒâ€ƒè¿™æ˜¯ä¸€ä¸ªæ ‘è¡¨æ ¼çš„é¡µé¢ï¼Œè¿™ä¸ªåŠŸèƒ½ä¸€ç›´éƒ½å¥½å¥½çš„ï¼Œè¦å‡ºé—®é¢˜æ—©å°±åº”è¯¥å‡ºäº†ã€‚é—®é—®åç«¯åŒäº‹ï¼Œæ”¹è¿‡ä¸œè¥¿æ²¡æœ‰ï¼Ÿæ£€æŸ¥å‰ç«¯ä»£ç ï¼Œè°åŠ¨äº†ä»£ç äº†ï¼Ÿéƒ½æ²¡æœ‰ï¼Œå¥½å¥½çš„çªç„¶å°±ä¸è¡Œäº†ã€‚</p>
<p>â€ƒâ€ƒåˆšåˆšä¿®å¤bugçš„å–œæ‚¦ä¸€ä¸‹å°±æ¶ˆæ•£äº†ã€‚æ£€æŸ¥äº†å¥½ä¹…ï¼Œä¸æ˜æ‰€ä»¥ã€‚å‰ç«¯ä»¥ä¸ºæ˜¯åç«¯çš„é—®é¢˜ï¼Œåç«¯ä»¥ä¸ºæ˜¯å‰ç«¯çš„é—®é¢˜ã€‚åç«¯åŒäº‹æå‡ºä¸ªæƒ³æ³•ï¼ŒæŠŠåˆšåˆšæ”¹çš„ä»£ç æ¢å¤ä¸€ä¸‹è¯•è¯•å‘¢ï¼Ÿ</p>
<p>â€ƒâ€ƒå“ˆå“ˆå“ˆï¼Œæ¥å£é‡å¤è°ƒç”¨ä¼˜åŒ– çš„ä»£ç ï¼Œè·ŸË²è°ƒç”¨æ ˆæº¢å‡ºË²çš„bugï¼Œæ€ä¹ˆå¯èƒ½æœ‰å…³ç³»å‘¢ï¼</p>
<p>â€ƒâ€ƒå½“æˆ‘å°†ä»£ç æ¢å¤ï¼Œé‡æ–°å°† removePending å‡½æ•°<strong>æ³¨é‡Šæ‰</strong>ä¹‹åã€‚<strong>æœç„¶å¥½äº†</strong></p>
<p>é¦–å…ˆè´´å‡ºåœ¨ä¸¤ä¸ªæ‹¦æˆªå™¨é‡Œéƒ½è°ƒç”¨äº†çš„ removePending å‡½æ•°
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bef45512d080460abbd20cf4df789296~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=Z7a28XntKgx6TK1oD6mR6NsixPA%3D" alt="å‡½æ•°.png" loading="lazy"/>
è¿™ä¸ªå‡½æ•°ï¼Œå°±æ˜¯åœ¨å®¹å™¨ä¸­æŸ¥è¯¢ï¼Œæ˜¯ä¸æ˜¯å·²ç»å­˜åœ¨æŸä¸€ä¸ªæ¥å£äº†ï¼Œå­˜åœ¨å°±æŠŠå®ƒç»™åœäº†ï¼</p>
<h5 data-id="heading-3">é—®é¢˜æ‰€åœ¨ï¼š</h5>
<p>â€ƒâ€ƒå¯èƒ½æœ‰ç»éªŒçš„äººåœ¨ä¸€å¼€å§‹å°±å‘ç°äº†ï¼Œé—®é¢˜å°±å‡ºåœ¨å“åº”æ‹¦æˆªå™¨é‡Œçš„å‡½æ•°è°ƒç”¨ä¸Šã€‚</p>
<p>â€ƒâ€ƒè¯·æ±‚æ‹¦æˆªå™¨ ä¸ å“åº”æ‹¦æˆªå™¨ éƒ½å°†è‡ªèº«é»˜è®¤çš„å‚æ•°ä¼ ç»™äº† removePending å‡½æ•°ï¼Œä½†ï¼Œä¸¤ä¸ªæ‹¦æˆªå™¨çš„é»˜è®¤å‚æ•°çš„æ ¼å¼ï¼Œæ˜¯ä¸åŒçš„ï¼</p>
<p>â€ƒâ€ƒé—®é¢˜ï¼Œå°±å‡ºåœ¨è¿™é‡Œï¼š</p>
<ol>
<li>
<p>è¯·æ±‚æ‹¦æˆªå™¨å‚æ•°</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93986c42127240e28a2bf3d41236aa27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=qJ02IMr6b7c4HHeBBlGvvxpYAZ4%3D" alt="è”æƒ³æˆªå›¾_20260204154129.png" loading="lazy"/></p>
</li>
<li>
<p>å“åº”æ‹¦æˆªå™¨å‚æ•°
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb999d5436454c48bf04e7e9c89cfa5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=uthoTUDmRPoEDHbxGhkC3AYBERs%3D" alt="è”æƒ³æˆªå›¾_20260204154151.png" loading="lazy"/>
â€ƒâ€ƒç»è¿‡æ‰“å°æ£€æŸ¥ï¼ŒæŸ¥è¯¢èµ„æ–™åç¡®è®¤ï¼Œå“åº”æ‹¦æˆªå™¨å‚æ•°ä¸­çš„ config å­—æ®µï¼Œæ‰æ˜¯ä¸ è¯·æ±‚æ‹¦æˆªå™¨å‚æ•° ç›¸åŒçš„å­˜åœ¨ã€‚</p>
</li>
</ol>
<p>â€ƒâ€ƒä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨Ë²å“åº”æ‹¦æˆªå™¨Ë²è°ƒç”¨ removePending æ—¶ï¼Œç»™äº†ä¸€ä¸ª<strong>æ„å¤–</strong>çš„å€¼ã€‚è€Œæ£€æŸ¥è¿™ä¸ªå€¼ä¼šå‘ç°ï¼Œå…¶ä¸­çš„ data å±æ€§ï¼Œå°±æ˜¯æ¥å£è¿”å›çš„å®Œæ•´å†…å®¹ã€‚å¯¹åº”åˆ°åˆšåˆšæŠ¥é”™çš„é¡µé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å‡½æ•°å¯¹ä¸€ä¸ªå·¨å¤§çš„æ ‘å½¢æ•°æ®ï¼Œåšäº† qs.stringify() æ“ä½œ</strong>ã€‚</p>
<p>â€ƒâ€ƒå°±æ˜¯è¿™ä¸ªæ“ä½œï¼Œå¯¼è‡´äº†è°ƒç”¨æ ˆæº¢å‡ºã€‚</p>
<p>â€ƒâ€ƒå¥½ï¼Œåªéœ€è¦åœ¨å“åº”æ‹¦æˆªå™¨é‡Œï¼Œä¼ å‚çš„æ—¶å€™åŠ ä¸Šä¸ª .config ï¼Œå¥½äº†ï¼Œçš†å¤§æ¬¢å–œ X 2</p>
<p>â€ƒâ€ƒå¯ä¸‡ä¸‡æ²¡æƒ³åˆ°ï¼Œæ”¹åˆ°è¿™é‡Œï¼Œå¹¶æ²¡æœ‰å½»åº•ç»“æŸâ€¦â€¦</p>
<h3 data-id="heading-4">ç¬¬ä¸‰å±‚é˜»ç¢</h3>
<p>â€ƒâ€ƒå› ä¸ºè¿™ä¸€éƒ¨åˆ†è¿˜å­˜åœ¨ä¸€äº›å°çš„ç–‘è™‘ï¼Œæ‰€ä»¥ï¼Œè™½ç„¶åŠŸèƒ½éƒ½å·²ç»èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨äº†ï¼Œä½†æˆ‘è®¡åˆ’åœ¨ç©ºé—²çš„æ—¶å€™å›é¡¾ä¸€ä¸‹ï¼Œå°†æ‰€æœ‰çš„ä¸è§£å¼„æ¸…æ¥šå¹¶è®°å½•ä¸‹æ¥ã€‚å°±åœ¨ç–‘è™‘è¢«ä¸€ç‚¹ç‚¹æ¶ˆé™¤çš„æ—¶å€™ï¼Œæˆ‘åˆå‘ç°äº†ä¸€ä¸ªéšè—å¾ˆæ·±çš„é—®é¢˜</p>
<p>â€ƒâ€ƒç†è®ºä¸Šè®²ï¼Œåœ¨æ‰€æœ‰æ¥å£è°ƒç”¨å®Œæˆåï¼Œæš‚å­˜æ¥å£çš„å®¹å™¨åº”è¯¥ä¼šè¢«æ¸…ç©ºã€‚å› ä¸ºåœ¨æœ€åçš„å“åº”æ‹¦æˆªå™¨ä¸­ï¼Œä¼šæ‰§è¡Œ removePending å‡½æ•°æ¥ç§»é™¤æ¥å£ã€‚ä½†æˆ‘çœ‹åˆ°çš„ï¼Œå´æ˜¯è¿™æ ·çš„ç»“æœï¼š</p>
<p>å®¹å™¨çš„ç»“æœï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c071f943b46429284d16c8cdac31182~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=ibCpkBZyy6%2FJXnFJ3cvuuHz14ns%3D" alt="å®¹å™¨ç»“æœ.png" loading="lazy"/></p>
<p>â€ƒâ€ƒåœ¨æ“ä½œæ—¶ï¼Œé‡Œé¢çš„æ¥å£æ•°æ®ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½†åˆä¸æ˜¯æ‰€æœ‰çš„éƒ½åœ¨é‡Œé¢ï¼Œåªæœ‰ä¸€éƒ¨åˆ†ã€‚</p>
<p>â€ƒâ€ƒä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤šæ¥å£è¿˜åœ¨é‡Œé¢ï¼Ÿåˆä¸ºä»€ä¹ˆåªæœ‰ä¸€éƒ¨åˆ†ï¼Ÿ</p>
<p>â€ƒâ€ƒæ£€æŸ¥ä»£ç ï¼Œè¯·æ±‚æ‹¦æˆªå™¨ ä¸­æ·»åŠ è¿›å®¹å™¨ï¼Œå“åº”æ‹¦æˆªå™¨ ä¸­ä»å®¹å™¨ä¸­åˆ é™¤ï¼Œæ•´ä¸ªé€»è¾‘æ˜¯æ²¡é—®é¢˜çš„ï¼Œé‚£ä¹ˆè¿™åˆæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</p>
<p>â€ƒâ€ƒæœ€ç»ˆï¼Œé—®é¢˜å®šä½åœ¨äº† config.data å­—æ®µä¸Š</p>
<p>â€ƒâ€ƒåˆ†åˆ«æ‰“å° è¯·æ±‚æ‹¦æˆªå™¨ ä¸ å“åº”æ‹¦æˆªå™¨ ä¸­çš„ config.data çš„ å€¼ ä¸ ç±»å‹</p>
<ol>
<li>è¯·æ±‚æ‹¦æˆªå™¨ä¸­çš„ config.data
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a9694f7f3e145419c98d0388ddd1b2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=OqZ1zE5yMmN6iKdt%2BP3qFSQbRM4%3D" alt="è¯·æ±‚æ‹¦æˆªå™¨çš„.png" loading="lazy"/></li>
<li>å“åº”æ‹¦æˆªå™¨ä¸­çš„ config.data
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bacd82367cad4b72b832a54a9214e85b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=38Kl065ta2ifr%2FX%2FRN%2B5rAcTBMg%3D" alt="å“åº”æ‹¦æˆªå™¨çš„" loading="lazy"/></li>
<li>è¯·æ±‚æ‹¦æˆªå™¨ä¸å“åº”æ‹¦æˆªå™¨ä¸­çš„ configï¼Œé‡Œé¢çš„ data æ˜¯ç›¸åŒçš„</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/581055499fa646e59e079374dd1a1181~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=Veb0XUG4J3vyPmVV9Yt%2F2TTUKCw%3D" alt="è”æƒ³æˆªå›¾_20260204165126.png" loading="lazy"/></p>
<p>â€ƒâ€ƒåœ¨è¯·æ±‚æ‹¦æˆªå™¨ä¸­ï¼Œconfig.data æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹æ•°æ®ï¼›åœ¨å“åº”æ‹¦æˆªå™¨ä¸­ï¼Œconfig.data å˜æˆäº†å­—ç¬¦ä¸²ã€‚è€Œåœ¨ç›´æ¥æ‰“å° config æ—¶ï¼Œé‡Œé¢çš„ data åˆéƒ½æ˜¯ JSON å­—ç¬¦ä¸²ã€‚ä»£ç å®é™…ä½¿ç”¨çš„å€¼ï¼Œå¹¶ä¸æ˜¯æ‰“å°å°ä¸­çœ‹åˆ°çš„å€¼ï¼Œè¿™ä¹Ÿæ˜¯å‰ç«¯éå¸¸å®¹æ˜“å‡ºé”™çš„ç‚¹ã€‚</p>
<h5 data-id="heading-5">é—®é¢˜æ‰€åœ¨ï¼š</h5>
<p>é—®é¢˜ï¼Œåˆå‡ºåœ¨æ•°æ®çš„æ ¼å¼ä¸Šï¼<br/>
ä½†è¿™æ¬¡ä¸æ˜¯æ•°æ®å±‚çº§çš„é—®é¢˜ï¼Œè€Œæ˜¯ axios åº•å±‚ï¼Œé»˜è®¤å¯¹æ•°æ®æ ¼å¼çš„ä¿®æ”¹<br/>
å›é¡¾ä¸€ä¸‹ removePending å‡½æ•°ï¼Œé—®é¢˜å°±å‡ºåœ¨ config.data ä¸Š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a80ac8313ca422e9eeb7bd5e2481c93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=5e37qo9QhI22fj9cnpbMDf8Boa0%3D" alt="è”æƒ³æˆªå›¾_20260204162657.png" loading="lazy"/></p>
<p>â€ƒâ€ƒaxios ä¼šåœ¨è¯·æ±‚æ‹¦æˆªå™¨æ‰§è¡Œåã€çœŸæ­£å‘é€è¯·æ±‚å‰ï¼Œè‡ªåŠ¨æŠŠ config.data ä» JS å¯¹è±¡åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²ã€‚è€Œå“åº”æ‹¦æˆªå™¨é‡Œæ‹¿åˆ°çš„ config.dataï¼Œæ˜¯ç»è¿‡è¿™æ¬¡åºåˆ—åŒ–åçš„æœ€ç»ˆç»“æœã€‚</p>
<p>â€ƒâ€ƒç®€å•è¯´ï¼šè¯·æ±‚æ‹¦æˆªå™¨æ“ä½œçš„æ˜¯ã€ŒåŸå§‹ JS å¯¹è±¡ã€ï¼Œå“åº”æ‹¦æˆªå™¨æ‹¿åˆ°çš„æ˜¯ã€Œaxios åºåˆ—åŒ–åçš„ JSON å­—ç¬¦ä¸²ã€</p>
<p>æ‰€ä»¥ï¼Œä¸ºäº†æ“ä½œæ•°æ®çš„ç±»å‹ç»Ÿä¸€ï¼Œåœ¨æ“ä½œ config.data æ•°æ®å‰ï¼Œè¿›è¡Œæ ¼å¼è°ƒæ•´ï¼Œå®Œæˆï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8a08d10ef374d588b60fade48838ae5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qKF5bedX-mFt-WtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804218&amp;x-signature=etbR%2FFG7DfuotQQxvsWkbR3T7co%3D" alt="è”æƒ³æˆªå›¾_20260204171321.png" loading="lazy"/></p>
<p>â€ƒâ€ƒæœ€ç»ˆï¼Œè¿™ä¸ªä¼˜åŒ–ä»£ç çš„é€»è¾‘ä¸å®ç°ï¼Œå®Œå…¨æ­£å¸¸äº†ï¼</p>
<p>â€ƒâ€ƒæœ€åæä¸€ä¸‹ï¼Œæ•´ä¸ª axios å°è£…é‡Œé¢ï¼Œè¿˜æœ‰ä¸€ä¸ªåœ¨è·¯ç”±è·³è½¬æ—¶ç”¨äºæ¸…ç©ºå®¹å™¨çš„å‡½æ•°ï¼Œä½†æŸ¥éæ•´ä¸ªé¡¹ç›®ä»£ç ï¼Œæ ¹æœ¬æ²¡äººç”¨ï¼</p>
<h3 data-id="heading-6">æ€»ç»“ï¼š</h3>
<p>â€ƒâ€ƒè¿™æ˜¯ä¸€ä¸ªåœ¨æ¶æ„é˜¶æ®µé—ç•™ä¸‹æ¥çš„é—®é¢˜ï¼Œåœ¨å‰é¢çš„é¡¹ç›®ç»„æ‰‹ä¸Šè¢«æ©ç›–äº†ï¼ŒæŠŠå¤§é—®é¢˜å˜æˆäº†å°é—®é¢˜ä»è€Œå¿½ç•¥æ‰ã€‚åœ¨æˆ‘ä»¬è¿™é‡Œï¼Œå°é—®é¢˜å› ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å˜æ›´è€Œæ˜¾ç°ã€‚åœ¨ä¸æ–­çš„ä¿®æ”¹ä¸­ï¼Œç»ˆäºä»æ ¹æœ¬ä¸Šå¼„æ¸…æ¥šäº†æ¥é¾™å»è„‰ï¼</p>
<p>æ‰€ä»¥ï¼šæ¶æ„æ˜¯æ¶æ„å¸ˆçš„äº‹ï¼Œå¼€å‘æ‰ä¸ä¼šæ”¹ï¼Œç”šè‡³æœ‰å¯èƒ½ï¼Œä¼šæ”¹ä¸ªé”™çš„ä¸Šæ¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æŠ€æœ¯ä¸“é¢˜ã€‘Scikit-learn Pythonæœºå™¨å­¦ä¹  - æ¨¡å‹ä¿å­˜åŠåŠ è½½]]></title>    <link>https://juejin.cn/post/7602842876256387118</link>    <guid>https://juejin.cn/post/7602842876256387118</guid>    <pubDate>2026-02-04T10:04:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602842876256387118" data-draft-id="7602789520035594250" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æŠ€æœ¯ä¸“é¢˜ã€‘Scikit-learn Pythonæœºå™¨å­¦ä¹  - æ¨¡å‹ä¿å­˜åŠåŠ è½½"/> <meta itemprop="keywords" content="æœºå™¨å­¦ä¹ ,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-04T10:04:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é”‹java1234"/> <meta itemprop="url" content="https://juejin.cn/user/4152222342709933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æŠ€æœ¯ä¸“é¢˜ã€‘Scikit-learn Pythonæœºå™¨å­¦ä¹  - æ¨¡å‹ä¿å­˜åŠåŠ è½½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4152222342709933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é”‹java1234
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:04:58.000Z" title="Wed Feb 04 2026 10:04:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é”‹å“¥ã€‚æœ€è¿‘è¿è½½æ›´æ–°ã€ŠScikit-learn Pythonæœºå™¨å­¦ä¹ ã€‹æŠ€æœ¯ä¸“é¢˜ã€‚ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a74fb788cd74ecc9ceecf77ae572662~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6ZSLamF2YTEyMzQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804470&amp;x-signature=Ghv2sHC%2BGL%2Fw0uDqtXKP3DpMQtM%3D" alt="image.png" loading="lazy"/> æœ¬è¯¾ç¨‹ä¸»è¦è®²è§£åŸºäºScikit-learnçš„Pythonæœºå™¨å­¦ä¹ çŸ¥è¯†ï¼ŒåŒ…æ‹¬æœºå™¨å­¦ä¹ æ¦‚è¿°ï¼Œç‰¹å¾å·¥ç¨‹(æ•°æ®é›†ï¼Œç‰¹å¾æŠ½å–ï¼Œç‰¹å¾é¢„å¤„ç†ï¼Œç‰¹å¾é™ç»´ç­‰)ï¼Œåˆ†ç±»ç®—æ³•(K-ä¸´è¿‘ç®—æ³•ï¼Œæœ´ç´ è´å¶æ–¯ç®—æ³•ï¼Œå†³ç­–æ ‘ç­‰)ï¼Œå›å½’ä¸èšç±»ç®—æ³•(çº¿æ€§å›å½’ï¼Œæ¬ æ‹Ÿåˆï¼Œé€»è¾‘å›å½’ä¸äºŒåˆ†ç±»ï¼ŒK-meansç®—æ³•)ç­‰ã€‚ åŒæ—¶ä¹Ÿé…å¥—è§†é¢‘æ•™ç¨‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11reUzEEPH%2F" title="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11reUzEEPH%2F" target="_blank">ã€ŠScikit-learn Pythonæœºå™¨å­¦ä¹  è§†é¢‘æ•™ç¨‹ã€‹</a></p>
<p>åœ¨ä½¿ç”¨ <code>scikit-learn</code> è¿›è¡Œæœºå™¨å­¦ä¹ æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šéœ€è¦å°†è®­ç»ƒå¥½çš„æ¨¡å‹ä¿å­˜èµ·æ¥ï¼Œä¾¿äºåç»­çš„ä½¿ç”¨æˆ–éƒ¨ç½²ã€‚ä¿å­˜æ¨¡å‹å¯ä»¥é¿å…æ¯æ¬¡éƒ½é‡æ–°è®­ç»ƒæ¨¡å‹ï¼Œå°¤å…¶æ˜¯åœ¨æ¨¡å‹è®­ç»ƒæ—¶é—´è¾ƒé•¿æˆ–è®­ç»ƒæ•°æ®éå¸¸å¤§çš„æƒ…å†µä¸‹ã€‚<code>scikit-learn</code> æä¾›äº†å¤šç§ä¿å­˜å’ŒåŠ è½½æ¨¡å‹çš„æ–¹æ³•ï¼Œæœ€å¸¸è§çš„æ˜¯ä½¿ç”¨ <code>joblib</code> æˆ– <code>pickle</code> åº“ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡joblibæ¥å®ç°æ¨¡å‹ä¿å­˜å’ŒåŠ è½½ï¼Œæ ¸å¿ƒæ˜¯é€šè¿‡joblibçš„dump()æ–¹æ³•æ¥ä¿å­˜æ¨¡å‹ï¼Œä»¥åŠé€šè¿‡load()æ–¹æ³•æ¥åŠ è½½æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬æ‰¾ä¸€ä¸ªå‰é¢çš„éšæœºæ£®æ—åˆ†ç±»ç®—æ³•RandomForestClassifierTest.pyæ¥æ¼”ç¤ºä¸‹æ¨¡å‹ä¿å­˜åŠåŠ è½½ã€‚</p>
<h2 data-id="heading-0">ä½¿ç”¨æ¨¡å‹å®ä¾‹</h2>
<pre><code class="hljs language-ini" lang="ini">from sklearn.datasets import load_iris
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score, classification_report
from sklearn.model_selection import train_test_split
â€‹
<span class="hljs-comment"># 1,åŠ è½½æ•°æ®</span>
<span class="hljs-attr">iris</span> = load_iris()
<span class="hljs-attr">X</span> = iris.data Â <span class="hljs-comment"># ç‰¹å¾çŸ©é˜µ (150ä¸ªæ ·æœ¬ï¼Œ4ä¸ªç‰¹å¾ï¼šè¼é•¿ã€è¼å®½ã€ç“£é•¿ã€ç“£å®½)</span>
<span class="hljs-attr">y</span> = iris.target Â <span class="hljs-comment"># ç‰¹å¾å€¼ ç›®æ ‡å‘é‡ (3ç±»é¸¢å°¾èŠ±ï¼š0, 1, 2)</span>
â€‹
<span class="hljs-comment"># 2,æ•°æ®é¢„å¤„ç†</span>
X_train, X_test, y_train, <span class="hljs-attr">y_test</span> = train_test_split(X, y, test_size=<span class="hljs-number">0.2</span>) Â <span class="hljs-comment"># åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†</span>
â€‹
<span class="hljs-comment"># 3,åˆ›å»ºå’Œè®­ç»ƒæ¨¡å‹</span>
<span class="hljs-attr">rfc_model</span> = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>, Â <span class="hljs-comment"># 100æ£µæ ‘</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">oob_score</span>=<span class="hljs-literal">True</span>, Â <span class="hljs-comment"># å¯ç”¨OOBè¯„ä¼°</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">max_depth</span>=<span class="hljs-number">3</span> Â <span class="hljs-comment"># æ§åˆ¶æ ‘çš„æ·±åº¦ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )
rfc_model.fit(X_train, y_train) Â <span class="hljs-comment"># è®­ç»ƒæ¨¡å‹</span>
â€‹
<span class="hljs-comment"># 4,è¿›è¡Œé¢„æµ‹å¹¶è¯„ä¼°æ¨¡å‹</span>
<span class="hljs-attr">y_pred</span> = rfc_model.predict(X_test) Â <span class="hljs-comment"># åœ¨æµ‹è¯•é›†ä¸Šè¿›è¡Œé¢„æµ‹</span>
print('éšæœºæ£®æ—é¢„æµ‹å€¼ï¼š', y_pred)
print('æ­£ç¡®å€¼ Â  Â  Â  ï¼š', y_test)
â€‹
<span class="hljs-attr">accuracy</span> = accuracy_score(y_test, y_pred) Â <span class="hljs-comment"># è®¡ç®—å‡†ç¡®ç‡</span>
print(f'æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š{accuracy:.2f}')
print('åˆ†ç±»æŠ¥å‘Šï¼š\n', classification_report(y_test, y_pred, <span class="hljs-attr">target_names</span>=iris.target_names))
</code></pre>
<h2 data-id="heading-1">æ¨¡å‹ä¿å­˜dump</h2>
<p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ¨¡å‹ä¿å­˜æµ‹è¯•ç±»saveModelTest.py</p>
<pre><code class="hljs language-ini" lang="ini">import joblib
from sklearn.datasets import load_iris
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score, classification_report
from sklearn.model_selection import train_test_split
â€‹
<span class="hljs-comment"># 1,åŠ è½½æ•°æ®</span>
<span class="hljs-attr">iris</span> = load_iris()
<span class="hljs-attr">X</span> = iris.data Â <span class="hljs-comment"># ç‰¹å¾çŸ©é˜µ (150ä¸ªæ ·æœ¬ï¼Œ4ä¸ªç‰¹å¾ï¼šè¼é•¿ã€è¼å®½ã€ç“£é•¿ã€ç“£å®½)</span>
<span class="hljs-attr">y</span> = iris.target Â <span class="hljs-comment"># ç‰¹å¾å€¼ ç›®æ ‡å‘é‡ (3ç±»é¸¢å°¾èŠ±ï¼š0, 1, 2)</span>
â€‹
<span class="hljs-comment"># 2,æ•°æ®é¢„å¤„ç†</span>
X_train, X_test, y_train, <span class="hljs-attr">y_test</span> = train_test_split(X, y, test_size=<span class="hljs-number">0.2</span>) Â <span class="hljs-comment"># åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†</span>
â€‹
<span class="hljs-comment"># 3,åˆ›å»ºå’Œè®­ç»ƒæ¨¡å‹</span>
<span class="hljs-attr">rfc_model</span> = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>, Â <span class="hljs-comment"># 100æ£µæ ‘</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">oob_score</span>=<span class="hljs-literal">True</span>, Â <span class="hljs-comment"># å¯ç”¨OOBè¯„ä¼°</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">max_depth</span>=<span class="hljs-number">3</span> Â <span class="hljs-comment"># æ§åˆ¶æ ‘çš„æ·±åº¦ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ</span>
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  )
rfc_model.fit(X_train, y_train) Â <span class="hljs-comment"># è®­ç»ƒæ¨¡å‹</span>
â€‹
<span class="hljs-comment"># ä¿å­˜æ¨¡å‹</span>
joblib.dump(rfc_model, 'rfc_model.pkl')
â€‹
<span class="hljs-comment"># 4,è¿›è¡Œé¢„æµ‹å¹¶è¯„ä¼°æ¨¡å‹</span>
<span class="hljs-attr">y_pred</span> = rfc_model.predict(X_test) Â <span class="hljs-comment"># åœ¨æµ‹è¯•é›†ä¸Šè¿›è¡Œé¢„æµ‹</span>
print('éšæœºæ£®æ—é¢„æµ‹å€¼ï¼š', y_pred)
print('æ­£ç¡®å€¼ Â  Â  Â  ï¼š', y_test)
â€‹
<span class="hljs-attr">accuracy</span> = accuracy_score(y_test, y_pred) Â <span class="hljs-comment"># è®¡ç®—å‡†ç¡®ç‡</span>
print(f'æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š{accuracy:.2f}')
print('åˆ†ç±»æŠ¥å‘Šï¼š\n', classification_report(y_test, y_pred, <span class="hljs-attr">target_names</span>=iris.target_names))
</code></pre>
<p>æ‰§è¡Œå®Œï¼ŒåŒçº§ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ªpklæ–‡ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/600be1dacd8d424394d265c806655cb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6ZSLamF2YTEyMzQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804470&amp;x-signature=yxuoRJoTEqA2S4mkegYq%2BYFHR3k%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">æ¨¡å‹åŠ è½½load</h2>
<p>æˆ‘ä»¬åœ¨æ–°å»ºä¸€ä¸ªæ¨¡å‹åŠ è½½æµ‹è¯•ç±»loadModelTest.py</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> joblib
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris
<span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, classification_report
<span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split
â€‹
<span class="hljs-comment"># 1,åŠ è½½æ•°æ®</span>
iris = load_iris()
X = iris.data Â <span class="hljs-comment"># ç‰¹å¾çŸ©é˜µ (150ä¸ªæ ·æœ¬ï¼Œ4ä¸ªç‰¹å¾ï¼šè¼é•¿ã€è¼å®½ã€ç“£é•¿ã€ç“£å®½)</span>
y = iris.target Â <span class="hljs-comment"># ç‰¹å¾å€¼ ç›®æ ‡å‘é‡ (3ç±»é¸¢å°¾èŠ±ï¼š0, 1, 2)</span>
â€‹
<span class="hljs-comment"># 2,æ•°æ®é¢„å¤„ç†</span>
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="hljs-number">0.2</span>) Â <span class="hljs-comment"># åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†</span>
â€‹
<span class="hljs-comment"># åŠ è½½æ¨¡å‹</span>
rfc_model = joblib.load(<span class="hljs-string">'rfc_model.pkl'</span>)
â€‹
<span class="hljs-comment"># 4,è¿›è¡Œé¢„æµ‹å¹¶è¯„ä¼°æ¨¡å‹</span>
y_pred = rfc_model.predict(X_test) Â <span class="hljs-comment"># åœ¨æµ‹è¯•é›†ä¸Šè¿›è¡Œé¢„æµ‹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">'éšæœºæ£®æ—é¢„æµ‹å€¼ï¼š'</span>, y_pred)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'æ­£ç¡®å€¼ Â  Â  Â  ï¼š'</span>, y_test)
â€‹
accuracy = accuracy_score(y_test, y_pred) Â <span class="hljs-comment"># è®¡ç®—å‡†ç¡®ç‡</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š<span class="hljs-subst">{accuracy:<span class="hljs-number">.2</span>f}</span>'</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'åˆ†ç±»æŠ¥å‘Šï¼š\n'</span>, classification_report(y_test, y_pred, target_names=iris.target_names))
</code></pre>
<p>è¿™æ ·å°±å°±èƒ½é‡å¤åˆ©ç”¨è®­ç»ƒå¥½æ¨¡å‹ã€‚</p>
<p>æˆ‘ä»¬è¿è¡Œæµ‹è¯•ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">éšæœºæ£®æ—é¢„æµ‹å€¼ï¼š <span class="hljs-selector-attr">[0 2 0 1 2 2 1 2 1 2 2 0 1 0 0 2 0 2 1 0 0 0 2 2 1 0 0 2 2 2]</span>
æ­£ç¡®å€¼ Â  Â  Â  ï¼š <span class="hljs-selector-attr">[0 2 0 2 2 2 1 2 1 2 2 0 1 0 0 2 0 2 1 0 0 0 2 1 1 0 0 2 2 2]</span>
æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š<span class="hljs-number">0.93</span>
åˆ†ç±»æŠ¥å‘Šï¼š
 Â  Â  Â  Â  Â  Â  Â  precision Â   recall  f1-score Â  support
â€‹
 Â  Â   setosa Â  Â  Â  <span class="hljs-number">1.00</span> Â  Â   <span class="hljs-number">1.00</span> Â  Â   <span class="hljs-number">1.00</span> Â  Â  Â   <span class="hljs-number">11</span>
  versicolor Â  Â  Â  <span class="hljs-number">0.83</span> Â  Â   <span class="hljs-number">0.83</span> Â  Â   <span class="hljs-number">0.83</span> Â  Â  Â  Â  <span class="hljs-number">6</span>
 Â  virginica Â  Â  Â  <span class="hljs-number">0.92</span> Â  Â   <span class="hljs-number">0.92</span> Â  Â   <span class="hljs-number">0.92</span> Â  Â  Â   <span class="hljs-number">13</span>
â€‹
 Â   accuracy Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">0.93</span> Â  Â  Â   <span class="hljs-number">30</span>
 Â  macro avg Â  Â  Â  <span class="hljs-number">0.92</span> Â  Â   <span class="hljs-number">0.92</span> Â  Â   <span class="hljs-number">0.92</span> Â  Â  Â   <span class="hljs-number">30</span>
weighted avg Â  Â  Â  <span class="hljs-number">0.93</span> Â  Â   <span class="hljs-number">0.93</span> Â  Â   <span class="hljs-number">0.93</span> Â  Â  Â   <span class="hljs-number">30</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹æ­å»ºç¬¬ä¸€ä¸ª RAG å®æˆ˜ï¼šå®ç°æœ¬åœ°æ–‡æ¡£æ™ºèƒ½é—®ç­”]]></title>    <link>https://juejin.cn/post/7602789520035643402</link>    <guid>https://juejin.cn/post/7602789520035643402</guid>    <pubDate>2026-02-04T09:59:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602789520035643402" data-draft-id="7602811649125793843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹æ­å»ºç¬¬ä¸€ä¸ª RAG å®æˆ˜ï¼šå®ç°æœ¬åœ°æ–‡æ¡£æ™ºèƒ½é—®ç­”"/> <meta itemprop="keywords" content="Agent,LangChain"/> <meta itemprop="datePublished" content="2026-02-04T09:59:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å±…å¾®"/> <meta itemprop="url" content="https://juejin.cn/user/2130203368238091"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹æ­å»ºç¬¬ä¸€ä¸ª RAG å®æˆ˜ï¼šå®ç°æœ¬åœ°æ–‡æ¡£æ™ºèƒ½é—®ç­”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2130203368238091/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å±…å¾®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:59:47.000Z" title="Wed Feb 04 2026 09:59:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»40åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ‰‹æŠŠæ‰‹æ­å»ºç¬¬ä¸€ä¸ª RAG å®æˆ˜ï¼šå®ç°æœ¬åœ°æ–‡æ¡£æ™ºèƒ½é—®ç­”</h2>
<h3 data-id="heading-1">4.1 é¡¹ç›®æ¦‚è¿°</h3>
<p>æœ¬æ–‡å°†å¸¦é¢†ä½ ä»é›¶å¼€å§‹æ­å»ºåŸºäº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„çŸ¥è¯†é—®ç­”ç³»ç»Ÿï¼Œå®ç°æ–‡æ¡£ä¸Šä¼ ã€å†…å®¹è§£æä¸å¹¶åŸºäºæ£€ç´¢æ–‡æ¡£å†…å®¹è¿›è¡Œæ™ºèƒ½é—®ç­”ã€‚ç³»ç»Ÿæ”¯æŒ PDFã€DOCXã€TXTã€MD ç­‰å¤šæ ¼å¼æ–‡æ¡£ï¼Œé€šè¿‡å‘é‡æ•°æ®åº“å­˜å‚¨æ–‡æ¡£å‘é‡ï¼Œç»“åˆå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç”Ÿæˆå‡†ç¡®å›ç­”ï¼Œå¹¶å…·æœ‰æµå¼è¾“å‡ºåŠŸèƒ½æå‡ç”¨æˆ·ä½“éªŒï¼Œæœ‰æ•ˆè§£å†³ LLM çš„é™æ€çŸ¥è¯†å±€é™ä¸ â€œå¹»è§‰â€ é—®é¢˜ã€‚</p>
<p>æ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ”¯æŒä¸Šä¼  PDF/DOCX/TXT/MD æ ¼å¼æ–‡æ¡£ã€‚</li>
<li>è‡ªåŠ¨è§£ææ–‡æ¡£å†…å®¹ã€è¿›è¡Œå‘é‡åŒ–å¹¶å­˜å‚¨åœ¨å‘é‡æ•°æ®åº“ä¸­ã€‚</li>
<li>åŸºäºç”¨æˆ·é—®é¢˜æ£€ç´¢ç›¸å…³æ–‡æ¡£ç‰‡æ®µï¼Œç»“åˆæ£€ç´¢çš„æ–‡æ¡£ç‰‡æ®µã€ä¸Šä¸‹æ–‡ç”Ÿæˆå‡†ç¡®å›ç­”ã€‚</li>
<li>æ”¯æŒå¤šè½®å¯¹è¯ã€ç†è§£ä¸Šä¸‹æ–‡è¯­å¢ƒå’Œæµå¼è¾“å‡ºã€‚</li>
<li>æä¾›ç®€æ´çš„ Web äº¤äº’ç•Œé¢ã€‚</li>
</ul>
<h3 data-id="heading-2">4.2 å·¥ä½œæµç¨‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa1ec2011ec74425bc10b7b694c4ca43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGF5b6u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803987&amp;x-signature=xkSFniD4lvxI4bm1qod2gDXCxv0%3D" alt="image-20260102230727272" loading="lazy"/></p>
<p>ä¸Šå›¾å±•ç¤ºäº†åŸºäºRAGçš„çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿçš„å·¥ä½œæµç¨‹ï¼Œæ•´ä½“å¯åˆ†ä¸º<strong>æ–‡æ¡£å¤„ç†ï¼ˆçŸ¥è¯†å…¥åº“ï¼‰</strong> å’Œ<strong>ç”¨æˆ·æŸ¥è¯¢ï¼ˆçŸ¥è¯†æ£€ç´¢ä¸å›ç­”ï¼‰</strong> ä¸¤å¤§é˜¶æ®µï¼Œä»¥ä¸‹åˆ†æ­¥éª¤è§£æï¼š</p>
<p>ä¸€ã€æ–‡æ¡£å¤„ç†é˜¶æ®µï¼ˆçŸ¥è¯†å…¥åº“ï¼‰</p>
<ul>
<li><strong>1. è§£ææå–ä¿¡æ¯</strong>ï¼šå¯¹åŸå§‹æ–‡æ¡£ï¼ˆå¦‚ PDFã€Markdownã€Wordã€txt æ ¼å¼ï¼‰ï¼Œé€šè¿‡å·¥å…·ï¼ˆå¦‚<code>pypdf</code>åº“ã€æ–‡æ¡£è§£æå·¥å…·ï¼‰æå–æ–‡æœ¬å†…å®¹ï¼Œè½¬åŒ–ä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</li>
<li><strong>2. æ–‡æœ¬åˆ†å‰²</strong>ï¼šå°†æå–çš„é•¿å­—ç¬¦ä¸²åˆ‡å‰²ä¸ºè‹¥å¹² â€œæ–‡æœ¬å—â€ï¼ˆChunkï¼‰ï¼Œç¡®ä¿æ¯ä¸ªæ–‡æœ¬å—è¯­ä¹‰ç›¸å¯¹å®Œæ•´ï¼ˆæ¯”å¦‚æŒ‰æ®µè½ã€å›ºå®šå­—æ•°åˆ†å‰²ï¼‰ï¼Œä¾¿äºåç»­å‘é‡åŒ–å’Œæ£€ç´¢ã€‚</li>
<li><strong>3. å‘é‡åŒ–</strong>ï¼šåˆ©ç”¨Embedding æ¨¡å‹ï¼ˆä¸€ç§å°†æ–‡æœ¬è½¬åŒ–ä¸ºæ•°å€¼å‘é‡çš„æ¨¡å‹ï¼‰ï¼ŒæŠŠæ¯ä¸ªæ–‡æœ¬å—è½¬åŒ–ä¸ºé«˜ç»´å‘é‡ã€‚å‘é‡çš„æ•°å€¼èƒ½å¤Ÿè¡¨å¾æ–‡æœ¬çš„è¯­ä¹‰ä¿¡æ¯ï¼Œè¯­ä¹‰è¶Šç›¸ä¼¼çš„æ–‡æœ¬ï¼Œå‘é‡è·ç¦»è¶Šè¿‘ã€‚</li>
<li><strong>4. å­˜å‚¨</strong>ï¼šå°†è¿™äº›æ–‡æœ¬å‘é‡å­˜å…¥å‘é‡æ•°æ®åº“ï¼ˆVector Databaseï¼‰ï¼Œæ”¯æŒåç»­å¿«é€Ÿçš„ç›¸ä¼¼åº¦æŸ¥è¯¢ã€‚</li>
</ul>
<p>äºŒã€ç”¨æˆ·æŸ¥è¯¢é˜¶æ®µï¼ˆçŸ¥è¯†æ£€ç´¢ä¸å›ç­”ï¼‰</p>
<ul>
<li><strong>5. ç”¨æˆ·æŸ¥è¯¢å‘é‡åŒ–</strong>ï¼šç”¨æˆ·è¾“å…¥æŸ¥è¯¢ï¼ˆå¦‚ â€œä»‹ç»ä¸‹å…¬å¸çš„å‘å±•å†ç¨‹â€ï¼‰åï¼ŒåŒæ ·é€šè¿‡ä¸Šè¿°<strong>Embedding æ¨¡å‹</strong>ï¼Œå°†æŸ¥è¯¢æ–‡æœ¬è½¬åŒ–ä¸ºå‘é‡ã€‚</li>
<li><strong>6. ç›¸ä¼¼åº¦æŸ¥è¯¢</strong>ï¼šæŸ¥è¯¢å‘é‡æ•°æ®åº“ä¸­ï¼Œè®¡ç®— â€œç”¨æˆ·æŸ¥è¯¢å‘é‡â€ ä¸ â€œå·²å­˜å‚¨çš„æ–‡æœ¬å—å‘é‡â€ çš„ç›¸ä¼¼åº¦ï¼Œç­›é€‰å‡º<strong>TOP K ä¸ªæœ€ç›¸å…³çš„æ–‡æœ¬å—</strong>ï¼ˆå³ä¸ç”¨æˆ·é—®é¢˜è¯­ä¹‰æœ€åŒ¹é…çš„çŸ¥è¯†ç‰‡æ®µï¼‰ã€‚</li>
<li><strong>7. ç»“æœé‡æ’ï¼ˆRerankï¼‰</strong> ï¼šå¯¹ TOP Kç›¸å…³çš„ç»“æœè¿›ä¸€æ­¥åšé‡æ’ï¼Œç¡®ä¿æœ€ç›¸å…³çš„å†…å®¹ä¼˜å…ˆè¢«é€‰ç”¨ã€‚</li>
<li><strong>8. ç»„åˆæç¤ºè¯</strong>ï¼šå°† â€œç”¨æˆ·è¾“å…¥ã€é‡æ’åçš„çŸ¥è¯†ç‰‡æ®µ ã€ä¸Šä¸‹æ–‡è¡¥å……ï¼ˆå¯é€‰ï¼‰ã€ç³»ç»Ÿæç¤ºï¼ˆå¦‚ â€œåŸºäºæä¾›çš„ä¿¡æ¯ç”Ÿæˆç®€æ´å›ç­”â€ï¼‰â€ æ•´åˆä¸º<strong>ç»“æ„åŒ–æç¤ºè¯ï¼ˆPromptï¼‰</strong> ã€‚</li>
<li><strong>9. æäº¤ LLM ç”Ÿæˆå“åº”</strong>ï¼šå°†ç»„åˆå¥½çš„æç¤ºè¯è¾“å…¥<strong>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰</strong> ï¼ŒLLM åŸºäºè¿™äº›ä¿¡æ¯ç†è§£ç”¨æˆ·éœ€æ±‚ï¼Œç”Ÿæˆæœ€ç»ˆçš„è‡ªç„¶è¯­è¨€å›ç­”ï¼ˆResponseï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">4.3 æ¶æ„è®¾è®¡</h3>
<p>ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d853e04371cc4870b57fa6b14a5fcbcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGF5b6u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803987&amp;x-signature=xe1LKuJrGkExM2GhGqB2WKdT55s%3D" alt="image-20260103193232562" loading="lazy"/></p>
<ul>
<li>
<p><strong>å‰ç«¯å±‚</strong>ï¼šåŸºäº Streamlit æ„å»ºï¼Œè´Ÿè´£ä¸ç”¨æˆ·ç›´æ¥äº¤äº’ï¼ŒåŒ…æ‹¬æä¾›<strong>äº¤äº’ç•Œé¢</strong>ã€æ”¯æŒ<strong>æ–‡ä»¶ä¸Šä¼ </strong>ã€å®ç°<strong>èŠå¤©äº¤äº’</strong>ã€æ”¯æŒ<strong>è¿ç»­å¤šè½®å¯¹è¯</strong>ã€æµå¼è¾“å‡ºã€‚</p>
</li>
<li>
<p><strong>æœåŠ¡å±‚</strong>ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå°è£…äº† RAG æŠ€æœ¯çš„æ ¸å¿ƒæµç¨‹ï¼š</p>
<ul>
<li><strong>æ–‡æ¡£å¤„ç†</strong>ï¼šå¯¹ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£è¿›è¡Œè§£æã€åˆ†å—ï¼ˆå°†é•¿æ–‡æ¡£æ‹†åˆ†ä¸ºçŸ­æ–‡æœ¬ç‰‡æ®µï¼Œä¾¿äºåç»­å¤„ç†ï¼‰ã€‚</li>
<li><strong>å‘é‡åŒ–å­˜å‚¨</strong>ï¼šè°ƒç”¨åµŒå…¥æ¨¡å‹ï¼Œå°†åˆ†å—åçš„æ–‡æœ¬ç‰‡æ®µè½¬æ¢ä¸ºè¯­ä¹‰å‘é‡ï¼Œå†æ‰¹é‡å†™å…¥å‘é‡æ•°æ®åº“ï¼Œå®ŒæˆçŸ¥è¯†å…¥åº“ã€‚</li>
<li><strong>æ£€ç´¢å¢å¼º</strong>ï¼šç”¨æˆ·å‘èµ·æŸ¥è¯¢æ—¶ï¼Œå…ˆé€šè¿‡å‘é‡æ•°æ®åº“æ£€ç´¢å‡º<strong>Top K å€™é€‰æ–‡æœ¬ç‰‡æ®µ</strong>ï¼Œå†è°ƒç”¨é‡æ’æ¨¡å‹å¯¹å€™é€‰ç»“æœåš<strong>ç²¾ç»†åŒ–æ’åº</strong>ï¼Œç­›é€‰å‡ºæœ€ç›¸å…³çš„å†…å®¹ï¼Œä¸º LLM æä¾›ç²¾å‡†çŸ¥è¯†æ”¯æ’‘ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡è®°å¿†</strong>ï¼šè®°å½•å¯¹è¯çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä½¿å¤§è¯­è¨€æ¨¡å‹èƒ½ç†è§£å¤šè½®å¯¹è¯çš„é€»è¾‘ï¼ˆå¦‚è¿ç»­è¿½é—®æ—¶ï¼Œæ¨¡å‹èƒ½åŸºäºå†å²å¯¹è¯å›ç­”ï¼‰ã€‚</li>
<li><strong>LLM è°ƒç”¨</strong>ï¼šå°è£…å¯¹ â€œå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰â€ çš„è°ƒç”¨é€»è¾‘ï¼Œå°† â€œ<code>ç³»ç»Ÿæç¤ºè¯ + ç”¨æˆ·å½“å‰é—®é¢˜ + æ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æœ¬ + å¯¹è¯ä¸Šä¸‹æ–‡</code>â€ æ•´åˆä¸ºæç¤ºè¯ï¼Œè°ƒç”¨å¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆå‡†ç¡®å›ç­”ï¼Œå¹¶å°†ç»“æœå›ä¼ è‡³å‰ç«¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŸºç¡€æœåŠ¡å±‚ï¼š</strong></p>
<p>ä¸ºä¸Šå±‚ä¸šåŠ¡æä¾›æ ¸å¿ƒæŠ€æœ¯èƒ½åŠ›æ”¯æ’‘ï¼ŒåŒ…å«ä¸‰å¤§æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li><strong>åµŒå…¥æ¨¡å‹ï¼ˆEmbedding modelï¼‰</strong> ï¼šå°†è‡ªç„¶è¯­è¨€æ–‡æœ¬è½¬æ¢ä¸ºé«˜ç»´è¯­ä¹‰å‘é‡ï¼Œæ˜¯å®ç°æ–‡æœ¬ç›¸ä¼¼åº¦æ£€ç´¢çš„åŸºç¡€ã€‚</li>
<li><strong>å‘é‡æ•°æ®åº“ï¼ˆVector Databaseâ€Œï¼‰</strong> ï¼šä¸“ç”¨äºå­˜å‚¨å’Œå¿«é€Ÿæ£€ç´¢å‘é‡æ•°æ®çš„æ•°æ®åº“ï¼Œæ”¯æŒé«˜æ•ˆçš„ç›¸ä¼¼æ€§æ£€ç´¢ï¼ˆå¦‚ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—ï¼‰ï¼Œæ˜¯ RAG æµç¨‹çš„æ ¸å¿ƒå­˜å‚¨è½½ä½“ã€‚</li>
<li><strong>é‡æ’æ¨¡å‹ï¼ˆReranker Modelï¼‰</strong> ï¼šå¯¹å‘é‡æ£€ç´¢å¾—åˆ°çš„ Top K å€™é€‰ç»“æœåšäºŒæ¬¡ç²¾å‡†æ’åºï¼Œæå‡ â€œç›¸å…³æ–‡æœ¬ç‰‡æ®µâ€ çš„åŒ¹é…ç²¾åº¦ï¼›</li>
<li><strong>å¤§è¯­è¨€æ¨¡å‹å±‚ï¼ˆLLMï¼‰</strong> ï¼šå³å¤§è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ GPT5ã€Qwenã€ DeepSeekç­‰ï¼‰ï¼Œè´Ÿè´£åŸºäºç”¨æˆ·é—®é¢˜å’Œæ£€ç´¢åˆ°çš„æ–‡æœ¬ï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›ç­”ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">4.4 æŠ€æœ¯é€‰å‹</h3>
<ul>
<li><strong>å‰ç«¯æ¡†æ¶</strong>ï¼šStreamlitï¼ˆå¿«é€Ÿæ„å»ºäº¤äº’å¼ Web åº”ç”¨ï¼‰ã€‚</li>
<li><strong>æ–‡æ¡£å¤„ç†</strong>ï¼šLangChainï¼ˆæ–‡æ¡£åŠ è½½ã€æ–‡æœ¬åˆ†å—ã€è®°å¿†ä¸Šä¸‹æ–‡ç®¡ç†ï¼‰ã€‚</li>
<li><strong>åµŒå…¥æ¨¡å‹</strong>ï¼šæ”¯æŒ Qwenã€OpenAIç­‰ç¬¬ä¸‰æ–¹æä¾›çš„åµŒå…¥æ¨¡å‹ï¼Œä»¥åŠæ”¯æŒæœ¬åœ°éƒ¨ç½²æ¨¡å‹<code>bge-small-zh-v1.5</code>ã€‚</li>
<li><strong>å‘é‡æ•°æ®åº“</strong>ï¼šChromaï¼ˆè½»é‡çº§åµŒå…¥å¼å‘é‡æ•°æ®åº“ï¼‰ã€‚</li>
<li><strong>å¤§è¯­è¨€æ¨¡å‹</strong>ï¼šæ”¯æŒ Qwenã€OpenAIã€DeepSeek ç­‰æ¨¡å‹ã€‚</li>
<li><strong>æ–‡æ¡£å¤„ç†</strong>ï¼špypdfï¼ˆPDF è§£æï¼‰ã€docx2txtï¼ˆDOCX è§£æï¼‰</li>
<li><strong>ç¯å¢ƒç®¡ç†</strong>ï¼špython-dotenvï¼ˆç¯å¢ƒå˜é‡ç®¡ç†ï¼‰ã€‚</li>
<li><strong>å¼€å‘è¯­è¨€</strong>ï¼šPython 3.8+ã€‚</li>
</ul>
<h3 data-id="heading-5">4.5 ä»£ç å®ç°</h3>
<h4 data-id="heading-6">4.5.1 é¡¹ç›®ç»“æ„æ­å»º</h4>
<p>é¡¹ç›®å®Œæˆåï¼Œç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">simple_rag_assistant/
â”œâ”€â”€ .<span class="hljs-built_in">env</span> Â  Â  Â  Â  Â  Â  Â  Â   <span class="hljs-comment"># ç¯å¢ƒå˜é‡é…ç½®</span>
â”œâ”€â”€ requirements.txt Â  Â   <span class="hljs-comment"># ä¾èµ–åˆ—è¡¨</span>
â”œâ”€â”€ main.py Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># ä¸»ç¨‹åºå…¥å£ï¼ˆStreamlitç•Œé¢ï¼‰</span>
â”œâ”€â”€ models/
â”‚ Â  â”œâ”€â”€ models_data/                 Â  <span class="hljs-comment"># æœ¬åœ°åµŒå…¥æ¨¡å‹æ–‡ä»¶</span>
â”‚ Â  â”œâ”€â”€ custom_dashscope_embedding.py  <span class="hljs-comment"># è‡ªå®šä¹‰åƒé—®åµŒå…¥æ¨¡å‹é€‚é…ï¼ˆè§£å†³æ‰¹é‡å¤„ç†å¤§å°é™åˆ¶é—®é¢˜ï¼‰</span>
â”‚ Â  â”œâ”€â”€ langchain_embedding.py Â  Â  Â  Â  <span class="hljs-comment"># åµŒå…¥æ¨¡å‹è°ƒç”¨</span>
â”‚ Â  â””â”€â”€ langchain_llm.py Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># å¤§è¯­è¨€æ¨¡å‹è°ƒç”¨</span>
â”‚ Â  â””â”€â”€ reranker_model.py Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment"># é‡æ’æ¨¡å‹è°ƒç”¨</span>
â””â”€â”€ services/
 Â   â””â”€â”€ rag_service_stream.py Â  Â  Â  Â   <span class="hljs-comment"># RAGæ ¸å¿ƒæœåŠ¡</span>
</code></pre>
<h4 data-id="heading-7">4.5.2 ç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-8">ä¸€ã€é…ç½®Conda è™šæ‹Ÿç¯å¢ƒï¼ˆå®‰è£… Condaï¼Œè‹¥æœªå®‰è£…ï¼‰</h5>
<ul>
<li>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.conda.io%2Fen%2Flatest%2Fminiconda.html" target="_blank" title="https://docs.conda.io/en/latest/miniconda.html" ref="nofollow noopener noreferrer">docs.conda.io/en/latest/mâ€¦</a>ï¼ˆconda è½»é‡åŒ–ï¼Œæ¨èï¼‰</p>
</li>
<li>
<p>å®‰è£…æµç¨‹ï¼š</p>
<ul>
<li>Windowsï¼šåŒå‡»å®‰è£…åŒ…ï¼Œå‹¾é€‰ "Add Miniconda3 to PATH"ï¼ˆæ–¹ä¾¿å‘½ä»¤è¡Œè°ƒç”¨ï¼‰</li>
<li>Mac/Linuxï¼šæ‰§è¡Œå®‰è£…è„šæœ¬ï¼ŒæŒ‰æç¤ºå®Œæˆï¼ˆé»˜è®¤ä¼šæ·»åŠ ç¯å¢ƒå˜é‡ï¼‰</li>
</ul>
</li>
<li>
<p>éªŒè¯å®‰è£…ï¼šæ‰“å¼€ç»ˆç«¯ / å‘½ä»¤æç¤ºç¬¦ï¼Œè¾“å…¥<code>conda --version</code>ï¼Œæ˜¾ç¤ºç‰ˆæœ¬å·åˆ™æˆåŠŸ</p>
</li>
</ul>
<h5 data-id="heading-9">äºŒã€åˆ›å»ºå¹¶æ¿€æ´» Conda è™šæ‹Ÿç¯å¢ƒ</h5>
<ol start="0">
<li>
<p>æ‰“å¼€ç»ˆç«¯ / å‘½ä»¤æç¤ºç¬¦ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆPython ç‰ˆæœ¬æŒ‡å®š 3.11ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºåä¸ºrag-envçš„è™šæ‹Ÿç¯å¢ƒ(åç§°å¯éšæ„)ï¼ŒæŒ‡å®šPython 3.11</span>
conda create -n rag-env <span class="hljs-attr">python</span>=<span class="hljs-number">3.11</span>
</code></pre>
<p>è¿‡ç¨‹ä¸­ä¼šæç¤ºå®‰è£…ä¾èµ–ï¼Œè¾“å…¥<code>y</code>ç¡®è®¤ã€‚</p>
</li>
<li>
<p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š</p>
<ul>
<li>
<p>Windowsï¼ˆå‘½ä»¤æç¤ºç¬¦ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">conda activate rag-env <span class="hljs-comment"># è‹¥æ‰§è¡Œä¸äº†ï¼Œå°è¯•ï¼šconda.bat activate rag-env</span>
</code></pre>
</li>
<li>
<p>Mac/Linuxï¼š</p>
<pre><code class="hljs">conda activate rag-env
</code></pre>
</li>
</ul>
<p>æ¿€æ´»æˆåŠŸåï¼Œç»ˆç«¯å‰ç¼€ä¼šæ˜¾ç¤º<code>(rag-env)</code></p>
</li>
<li>
<p>ï¼ˆå¯é€‰ï¼‰é…ç½® Conda é•œåƒæºï¼ˆåŠ é€Ÿä¾èµ–å®‰è£…ï¼Œå›½å†…ç”¨æˆ·æ¨èï¼‰ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"># æ·»åŠ æ¸…åé•œåƒæº
conda config --add channels https:<span class="hljs-comment">//mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span>
conda config --add channels https:<span class="hljs-comment">//mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span>
config --set show_channel_urls yes
</code></pre>
</li>
</ol>
<h5 data-id="heading-10">ä¸‰ã€å®‰è£…é¡¹ç›®ä¾èµ–</h5>
<ol start="0">
<li>
<p>åˆ›å»ºé¡¹ç›®æ–‡ä»¶å¤¹å¹¶è¿›å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ–‡ä»¶å¤¹</span>
<span class="hljs-built_in">mkdir</span> simple_rag_assistant &amp;&amp; <span class="hljs-built_in">cd</span> simple_rag_assistant
</code></pre>
</li>
<li>
<p>åˆ›å»º<code>requirements.txt</code>æ–‡ä»¶ï¼Œæ·»åŠ ä¾èµ–åŒ…å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">streamlit</span>==<span class="hljs-number">1.46</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">langchain</span>==<span class="hljs-number">0.3</span>.<span class="hljs-number">26</span>
<span class="hljs-attr">langchain-chroma</span>==<span class="hljs-number">0.2</span>.<span class="hljs-number">4</span>
<span class="hljs-attr">langchain-community</span>==<span class="hljs-number">0.3</span>.<span class="hljs-number">27</span>
<span class="hljs-attr">langchain-core</span>==<span class="hljs-number">0.3</span>.<span class="hljs-number">66</span>
<span class="hljs-attr">langchain-deepseek</span>==<span class="hljs-number">0.1</span>.<span class="hljs-number">3</span>
<span class="hljs-attr">langchain-openai</span>==<span class="hljs-number">0.3</span>.<span class="hljs-number">19</span>
<span class="hljs-attr">python-dotenv</span>==<span class="hljs-number">1.1</span>.<span class="hljs-number">0</span>
<span class="hljs-attr">pypdf</span>==<span class="hljs-number">5.6</span>.<span class="hljs-number">1</span>
<span class="hljs-attr">dashscope</span>==<span class="hljs-number">1.23</span>.<span class="hljs-number">5</span>
<span class="hljs-attr">tenacity</span>==<span class="hljs-number">9.1</span>.<span class="hljs-number">2</span>
<span class="hljs-attr">sentence-transformers</span>==<span class="hljs-number">5.1</span>.<span class="hljs-number">2</span>  <span class="hljs-comment"># HuggingFaceåµŒå…¥æ¨¡å‹ä¾èµ–</span>
</code></pre>
</li>
<li>
<p>ç”¨ pip å®‰è£…ä¾èµ–ï¼ˆConda ç¯å¢ƒä¸­å·²è‡ªå¸¦ pipï¼Œæ— éœ€é¢å¤–é…ç½®ï¼‰ï¼š</p>
<pre><code class="hljs">pip install -r requirements.txt
</code></pre>
<p>è‹¥å®‰è£…ç¼“æ…¢ï¼Œä¹Ÿå¯ä¸´æ—¶ä½¿ç”¨ä¸­ç§‘å¤§é•œåƒæˆ–æ¸…å pip é•œåƒå®‰è£…ï¼ˆè¦æ£€æŸ¥ä¸‹ï¼Œä¸ç¡®å®šæ˜¯å¦å¯ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># 1. é˜¿é‡Œäº‘ï¼ˆç¨³å®šï¼Œå›½å†…é¦–é€‰ï¼‰</span>
pip install -r requirements.txt -i <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/mirrors.aliyun.com/pypi</span><span class="hljs-regexp">/simple/</span>
<span class="hljs-comment"># 2. æ¸…åå¤§å­¦ï¼ˆå­¦æœ¯é•œåƒï¼ŒåŒ…å…¨æ›´æ–°å¿«ï¼‰</span>
<span class="hljs-comment"># pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/</span>
<span class="hljs-comment"># 3. è…¾è®¯äº‘ï¼ˆä¼ä¸šçº§é•œåƒï¼Œé€Ÿåº¦ç¨³å®šï¼‰</span>
<span class="hljs-comment"># pip install -r requirements.txt -i https://mirrors.cloud.tencent.com/pypi/simple/</span>
</code></pre>
</li>
</ol>
<h5 data-id="heading-11">å››ã€é…ç½®ç¯å¢ƒå˜é‡</h5>
<ol start="0">
<li>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º<code>.env</code>æ–‡ä»¶ï¼ˆæ³¨æ„æ–‡ä»¶åå‰æœ‰å°æ•°ç‚¹ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Qwenï¼ˆåƒé—®ï¼‰æ¨¡å‹é…ç½®ï¼ˆå¿…å¡«ï¼Œé»˜è®¤ä½¿ç”¨ï¼‰</span>
<span class="hljs-attr">QWEN_API_KEY</span>=ä½ çš„åƒé—®APIå¯†é’¥
<span class="hljs-attr">QWEN_BASE_URL</span>=ä½ çš„åƒé—®APIåŸºç¡€åœ°å€ï¼ˆå¦‚https://dashscope.aliyuncs.com/compatible-mode/v1ï¼‰

<span class="hljs-comment"># OpenAIæ¨¡å‹é…ç½®ï¼ˆå¯é€‰ï¼Œå¦‚éœ€åˆ‡æ¢ä½¿ç”¨ï¼‰</span>
<span class="hljs-attr">OPENAI_API_KEY</span>=ä½ çš„OpenAI APIå¯†é’¥
<span class="hljs-attr">OPENAI_BASE_URL</span>=ä½ çš„OpenAI APIåŸºç¡€åœ°å€

<span class="hljs-comment"># DeepSeekæ¨¡å‹é…ç½®ï¼ˆå¯é€‰ï¼Œå¦‚éœ€åˆ‡æ¢ä½¿ç”¨ï¼‰</span>
<span class="hljs-attr">DEEPSEEK_API_KEY</span>=ä½ çš„DeepSeek APIå¯†é’¥
<span class="hljs-attr">DEEPSEEK_BASE_URL</span>=ä½ çš„DeepSeek APIåŸºç¡€åœ°å€
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>é»˜è®¤ä½¿ç”¨é€šä¹‰åƒé—®çš„å¤§è¯­è¨€æ¨¡å‹<code>qwen-plus</code>ä»¥åŠå‘é‡æ¨¡å‹<code>text-embedding-v4</code>ã€‚åƒé—® API å¯†é’¥è·å–ï¼šç™»å½•é˜¿é‡Œäº‘ç™¾ç‚¼å¤§æ¨¡å‹å¹³å°ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdashscope.console.aliyun.com%2F" target="_blank" title="https://dashscope.console.aliyun.com/" ref="nofollow noopener noreferrer">dashscope.console.aliyun.com/</a>ï¼‰ç”³è¯·ï¼Œæ–°ç”¨æˆ·é»˜è®¤æœ‰100W tokençš„å…è´¹é¢åº¦ã€‚</li>
<li>å…¶å®ƒ API å¯†é’¥æ ¹æ®å®é™…ä½¿ç”¨éœ€æ±‚é…ç½®ï¼Œæ— éœ€ä½¿ç”¨åˆ™å¯ç•™ç©ºã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-12">4.5.3 æ ¸å¿ƒæ¨¡å—å®ç°</h4>
<h5 data-id="heading-13">1 è‡ªå®šä¹‰åµŒå…¥æ¨¡å‹é€‚é…ï¼ˆmodels/custom_dashscope_embedding.pyï¼‰</h5>
<p>è¯¥ç±»å®ç°åƒé—®åµŒå…¥æ¨¡å‹ä¸ LangChain çš„é€‚é…ï¼Œè´Ÿè´£å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ã€‚</p>
<p>ç”±äºåœ¨ä½¿ç”¨å®˜æ–¹æä¾›çš„ç±»<code>from langchain_community.embeddings import DashScopeEmbeddings</code>è¿›è¡Œå‘é‡åŒ–æ—¶ï¼ŒæŠ¥é”™:<code>batch size is invalid,it should not be larger than 10.: input.contents</code>ã€‚è¯¥é”™è¯¯åŸå› æ˜¯<code>langchain_community</code> åŒ…ä¸­çš„çš„<code>DashScopeEmbeddings</code>ç±»åœ¨å¤„ç†æ–‡æ¡£æ—¶ï¼Œé»˜è®¤çš„æ‰¹é‡å¤§å°è¶…è¿‡äº† DashScope API çš„é™åˆ¶ã€‚æ•…é‡å†™äº†è¯¥ç±»ï¼Œè°ƒæ•´äº†é»˜è®¤BATCH_SIZEçš„å¤§å°ï¼Œä»¥è§£å†³æ‰¹é‡è¯·æ±‚è¶…é™é—®é¢˜ã€‚</p>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º<code>models</code> æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>custom_dashscope_embedding.py</code>æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> annotations

<span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> (
    <span class="hljs-type">Any</span>,
    <span class="hljs-type">Callable</span>,
    <span class="hljs-type">Dict</span>,
    <span class="hljs-type">List</span>,
    <span class="hljs-type">Optional</span>,
)

<span class="hljs-keyword">from</span> langchain_core.embeddings <span class="hljs-keyword">import</span> Embeddings
<span class="hljs-keyword">from</span> langchain_core.utils <span class="hljs-keyword">import</span> get_from_dict_or_env
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, ConfigDict, model_validator
<span class="hljs-keyword">from</span> requests.exceptions <span class="hljs-keyword">import</span> HTTPError
<span class="hljs-keyword">from</span> tenacity <span class="hljs-keyword">import</span> (
    before_sleep_log,
    retry,
    retry_if_exception_type,
    stop_after_attempt,
    wait_exponential,
)

logger = logging.getLogger(__name__)

<span class="hljs-comment"># ä¸åŒæ¨¡å‹çš„æ‰¹é‡å¤„ç†å¤§å°</span>
BATCH_SIZE = {<span class="hljs-string">"text-embedding-v1"</span>: <span class="hljs-number">25</span>, <span class="hljs-string">"text-embedding-v2"</span>: <span class="hljs-number">25</span>, <span class="hljs-string">"text-embedding-v3"</span>: <span class="hljs-number">6</span>, <span class="hljs-string">"text-embedding-v4"</span>: <span class="hljs-number">6</span>}


<span class="hljs-keyword">def</span> <span class="hljs-title function_">_create_retry_decorator</span>(<span class="hljs-params">embeddings: DashScopeEmbeddings</span>) -&gt; <span class="hljs-type">Callable</span>[[<span class="hljs-type">Any</span>], <span class="hljs-type">Any</span>]:
    <span class="hljs-string">"""åˆ›å»ºé‡è¯•è£…é¥°å™¨ï¼Œå¤„ç†APIè°ƒç”¨å¤±è´¥çš„æƒ…å†µ"""</span>
    multiplier = <span class="hljs-number">1</span>
    min_seconds = <span class="hljs-number">1</span>  <span class="hljs-comment"># åˆå§‹é‡è¯•é—´éš”1ç§’</span>
    max_seconds = <span class="hljs-number">4</span>  <span class="hljs-comment"># æœ€å¤§é‡è¯•é—´éš”4ç§’</span>
    <span class="hljs-comment"># Wait 2^x * 1 second between each retry starting with</span>
    <span class="hljs-comment"># 1 seconds, then up to 4 seconds, then 4 seconds afterwards</span>
    <span class="hljs-keyword">return</span> retry(
        reraise=<span class="hljs-literal">True</span>,
        stop=stop_after_attempt(embeddings.max_retries),
        wait=wait_exponential(multiplier, <span class="hljs-built_in">min</span>=min_seconds, <span class="hljs-built_in">max</span>=max_seconds),
        retry=(retry_if_exception_type(HTTPError)),
        before_sleep=before_sleep_log(logger, logging.WARNING),
    )


<span class="hljs-keyword">def</span> <span class="hljs-title function_">embed_with_retry</span>(<span class="hljs-params">embeddings: DashScopeEmbeddings, **kwargs: <span class="hljs-type">Any</span></span>) -&gt; <span class="hljs-type">Any</span>:
    <span class="hljs-string">"""å¸¦é‡è¯•æœºåˆ¶çš„åµŒå…¥ç”Ÿæˆå‡½æ•°ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†"""</span>
    retry_decorator = _create_retry_decorator(embeddings)

<span class="hljs-meta">    @retry_decorator</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_embed_with_retry</span>(<span class="hljs-params">**kwargs: <span class="hljs-type">Any</span></span>) -&gt; <span class="hljs-type">Any</span>:
        result = []
        i = <span class="hljs-number">0</span>
        input_data = kwargs[<span class="hljs-string">"input"</span>]
        input_len = <span class="hljs-built_in">len</span>(input_data) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(input_data, <span class="hljs-built_in">list</span>) <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>
        batch_size = BATCH_SIZE.get(kwargs[<span class="hljs-string">"model"</span>], <span class="hljs-number">6</span>) <span class="hljs-comment"># æŒ‰æ¨¡å‹è·å–æ‰¹é‡å¤§å°</span>

        <span class="hljs-comment"># æ‰¹é‡å¤„ç†è¾“å…¥ï¼Œé¿å…å•æ¬¡è¯·æ±‚è¶…å‡ºAPIé™åˆ¶</span>
        <span class="hljs-keyword">while</span> i &lt; input_len:
            kwargs[<span class="hljs-string">"input"</span>] = (
                input_data[i: i + batch_size]
                <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(input_data, <span class="hljs-built_in">list</span>)
                <span class="hljs-keyword">else</span> input_data
            )
            resp = embeddings.client.call(**kwargs)   <span class="hljs-comment"># è°ƒç”¨åµŒå…¥API</span>
            <span class="hljs-keyword">if</span> resp.status_code == <span class="hljs-number">200</span>:
                result += resp.output[<span class="hljs-string">"embeddings"</span>]  <span class="hljs-comment"># æå–åµŒå…¥ç»“æœ</span>
            <span class="hljs-keyword">elif</span> resp.status_code <span class="hljs-keyword">in</span> [<span class="hljs-number">400</span>, <span class="hljs-number">401</span>]:
                <span class="hljs-keyword">raise</span> ValueError(
                    <span class="hljs-string">f"status_code: <span class="hljs-subst">{resp.status_code}</span> \n "</span>
                    <span class="hljs-string">f"code: <span class="hljs-subst">{resp.code}</span> \n message: <span class="hljs-subst">{resp.message}</span>"</span>
                )
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">raise</span> HTTPError(
                    <span class="hljs-string">f"HTTP error occurred: status_code: <span class="hljs-subst">{resp.status_code}</span> \n "</span>
                    <span class="hljs-string">f"code: <span class="hljs-subst">{resp.code}</span> \n message: <span class="hljs-subst">{resp.message}</span>"</span>,
                    response=resp,
                )
            i += batch_size
        <span class="hljs-keyword">return</span> result

    <span class="hljs-keyword">return</span> _embed_with_retry(**kwargs)


<span class="hljs-keyword">class</span> <span class="hljs-title class_">DashScopeEmbeddings</span>(BaseModel, Embeddings):
    <span class="hljs-string">"""
    DashScopeåµŒå…¥æ¨¡å‹å°è£…ç±»ï¼Œé€‚é…LangChainæ¥å£ã€‚ä½¿ç”¨è¯¥æ¨¡å‹å‰ï¼Œæ‚¨éœ€è¦å…ˆå®‰è£… dashscope Python åŒ…ï¼Œå¹¶ä¸”ï¼š
    1.å°†æ‚¨çš„ API å¯†é’¥é…ç½®åˆ°ç¯å¢ƒå˜é‡ DASHSCOPE_API_KEY ä¸­ï¼›
    2.æˆ–è€…ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­ä»¥å‘½åå‚æ•°çš„å½¢å¼ä¼ å…¥ API å¯†é’¥ã€‚
    """</span>

    client: <span class="hljs-type">Any</span> = <span class="hljs-literal">None</span>   <span class="hljs-comment"># åƒé—®åµŒå…¥APIå®¢æˆ·ç«¯</span>
    <span class="hljs-string">"""The DashScope client."""</span>
    model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"text-embedding-v1"</span> <span class="hljs-comment"># é»˜è®¤ä½¿ç”¨çš„åƒé—®åµŒå…¥æ¨¡å‹</span>
    dashscope_api_key: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>
    max_retries: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>   <span class="hljs-comment"># APIè°ƒç”¨æœ€å¤§é‡è¯•æ¬¡æ•°</span>
    <span class="hljs-string">"""Maximum number of retries to make when generating."""</span>

    model_config = ConfigDict(
        extra=<span class="hljs-string">"forbid"</span>,
    )

<span class="hljs-meta">    @model_validator(<span class="hljs-params">mode=<span class="hljs-string">"before"</span></span>)</span>
<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_environment</span>(<span class="hljs-params">cls, values: <span class="hljs-type">Dict</span></span>) -&gt; <span class="hljs-type">Any</span>:
        <span class="hljs-string">"""éªŒè¯ç¯å¢ƒé…ç½®ï¼Œåˆå§‹åŒ–åƒé—®å®¢æˆ·ç«¯"""</span>

        <span class="hljs-keyword">import</span> dashscope

        <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡æˆ–å‚æ•°ä¸­è·å–APIå¯†é’¥</span>
        values[<span class="hljs-string">"dashscope_api_key"</span>] = get_from_dict_or_env(
            values, <span class="hljs-string">"dashscope_api_key"</span>, <span class="hljs-string">"DASHSCOPE_API_KEY"</span>
        )
        dashscope.api_key = values[<span class="hljs-string">"dashscope_api_key"</span>]
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">import</span> dashscope
            <span class="hljs-comment"># åˆå§‹åŒ–åƒé—®æ–‡æœ¬åµŒå…¥å®¢æˆ·ç«¯</span>
            values[<span class="hljs-string">"client"</span>] = dashscope.TextEmbedding
        <span class="hljs-keyword">except</span> ImportError:
            <span class="hljs-keyword">raise</span> ImportError(
                <span class="hljs-string">"Could not import dashscope python package. "</span>
                <span class="hljs-string">"Please install it with `pip install dashscope`."</span>
            )
        <span class="hljs-keyword">return</span> values

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">embed_documents</span>(<span class="hljs-params">self, texts: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>]]:
        <span class="hljs-string">"""
        ä¸ºæ–‡æ¡£æ–‡æœ¬ç”ŸæˆåµŒå…¥å‘é‡ï¼ˆæ‰¹é‡å¤„ç†ï¼‰

        Args:
            texts: The list of texts to embed.

        Returns:
            List of embeddings, one for each text.
        """</span>
        embeddings = embed_with_retry(
            self, <span class="hljs-built_in">input</span>=texts, text_type=<span class="hljs-string">"document"</span>, model=self.model
        )
        embedding_list = [item[<span class="hljs-string">"embedding"</span>] <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> embeddings]
        <span class="hljs-keyword">return</span> embedding_list

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">embed_query</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>]:
        <span class="hljs-string">"""ä¸ºæŸ¥è¯¢æ–‡æœ¬ç”ŸæˆåµŒå…¥å‘é‡ï¼ˆå•ä¸ªæ–‡æœ¬ï¼‰.

        Args:
            text: The text to embed.

        Returns:
            Embedding for the text.
        """</span>
        embedding = embed_with_retry(
            self, <span class="hljs-built_in">input</span>=text, text_type=<span class="hljs-string">"query"</span>, model=self.model
        )[<span class="hljs-number">0</span>][<span class="hljs-string">"embedding"</span>]
        <span class="hljs-keyword">return</span> embedding
</code></pre>
<h5 data-id="heading-14">2 åµŒå…¥æ¨¡å‹è°ƒç”¨ï¼ˆmodels/langchain_embedding.pyï¼‰</h5>
<p>è¯¥æ–‡ä»¶ç»Ÿä¸€åˆå§‹åŒ–ä¸åŒæ¥æºçš„æ–‡æœ¬åµŒå…¥æ¨¡å‹ã€‚æ”¯æŒåƒé—®ï¼ˆQwenï¼‰ã€OpenAI å’Œæœ¬åœ° BGE æ¨¡å‹ï¼Œæ–¹ä¾¿å¼€å‘è€…æ ¹æ®éœ€æ±‚åˆ‡æ¢ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ã€‚</p>
<p>åœ¨<code>models</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶<code>langchain_embedding.py</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¯¼å…¥å¿…è¦çš„Pythonåº“</span>
<span class="hljs-keyword">import</span> os  <span class="hljs-comment"># ç”¨äºå¤„ç†æ“ä½œç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½</span>

<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> OpenAIEmbeddings
<span class="hljs-keyword">from</span> langchain_huggingface <span class="hljs-keyword">import</span> HuggingFaceEmbeddings
<span class="hljs-keyword">from</span> models.custom_dashscope_embedding <span class="hljs-keyword">import</span> DashScopeEmbeddings

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-keyword">def</span> <span class="hljs-title function_">initialize_embedding_model</span>(<span class="hljs-params">provider: <span class="hljs-built_in">str</span> = <span class="hljs-string">"qwen"</span></span>):
    <span class="hljs-string">"""
        åˆå§‹åŒ–å¹¶è¿”å›æŒ‡å®šæä¾›å•†çš„åµŒå…¥æ¨¡å‹
        å‚æ•°:
            provider (str): åµŒå…¥æ¨¡å‹æä¾›å•†,æ”¯æŒ"openai"ã€"qwen"ã€"local_bge_smallâ€œ,é»˜è®¤ä¸ºqwen
        è¿”å›:
            embeddings: åˆå§‹åŒ–åçš„åµŒå…¥æ¨¡å‹å®ä¾‹
        """</span>
    <span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
    <span class="hljs-keyword">if</span> provider.lower() == <span class="hljs-string">"openai"</span>:
        <span class="hljs-comment"># ä½¿ç”¨OpenAIçš„åµŒå…¥æ¨¡å‹</span>
        api_key = os.getenv(<span class="hljs-string">"OPENAI_API_KEY"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"ç¼ºå°‘OPENAI_API_KEYç¯å¢ƒå˜é‡"</span>)

        base_url = os.getenv(<span class="hljs-string">"OPENAI_BASE_URL"</span>)
        <span class="hljs-keyword">if</span> base_url:
            <span class="hljs-keyword">return</span> OpenAIEmbeddings(
                openai_api_key=api_key,
                base_url=base_url,
                model=<span class="hljs-string">"text-embedding-ada-002"</span>
            )
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> OpenAIEmbeddings(
                openai_api_key=api_key,
                model=<span class="hljs-string">"text-embedding-ada-002"</span>
            )

    <span class="hljs-keyword">elif</span> provider.lower() == <span class="hljs-string">"qwen"</span>:
        <span class="hljs-comment"># ä½¿ç”¨åƒé—®çš„åµŒå…¥æ¨¡å‹</span>
        api_key = os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"ç¼ºå°‘QWEN_API_KEYç¯å¢ƒå˜é‡"</span>)

        base_url = os.getenv(<span class="hljs-string">"QWEN_BASE_URL"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> base_url:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"ç¼ºå°‘QWEN_BASE_URLç¯å¢ƒå˜é‡"</span>)

        <span class="hljs-keyword">return</span> DashScopeEmbeddings(
            dashscope_api_key=api_key,
            model=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># åƒé—®åµŒå…¥æ¨¡å‹åç§°ï¼Œæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´</span>
        )

    <span class="hljs-keyword">elif</span> provider.lower() == <span class="hljs-string">"local_bge_small"</span>:
        <span class="hljs-comment"># BGE-small-zh-v1.5æ˜¯åŒ—äº¬æ™ºæºç ”ç©¶é™¢ï¼ˆBAAIï¼‰å¼€å‘çš„è½»é‡çº§ä¸­æ–‡æ–‡æœ¬åµŒå…¥æ¨¡å‹ï¼Œæ”¯æŒå°†æ–‡æœ¬è½¬æ¢ä¸ºé«˜ç»´å‘é‡ï¼Œé€‚ç”¨äºæ£€ç´¢ã€åˆ†ç±»ã€èšç±»ç­‰ä»»åŠ¡ï¼Œä¸”å¯¹èµ„æºå—é™åœºæ™¯å‹å¥½ã€‚</span>
        <span class="hljs-comment"># æ‰‹åŠ¨ä¸‹è½½å‘é‡æ¨¡å‹ï¼ŒæŒ‡å®šæœ¬åœ°æ–‡ä»¶å¤¹è·¯å¾„ï¼Œè‹¥ SDK è‡ªåŠ¨ä¸‹è½½ï¼Œç›´æ¥ç”¨æ¨¡å‹åã€‚</span>
        model_path = <span class="hljs-string">"./models_data/bge-small-zh-v1.5"</span>  <span class="hljs-comment"># æ‰‹åŠ¨ä¸‹è½½çš„æœ¬åœ°è·¯å¾„</span>
        <span class="hljs-comment"># æˆ– model_path = "BAAI/bge-small-zh-v1.5"ï¼ˆç›´æ¥ç”¨æ¨¡å‹åï¼Œé¦–æ¬¡ä½¿ç”¨æ—¶ï¼ŒSDK è‡ªåŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼‰</span>

        <span class="hljs-keyword">return</span> HuggingFaceEmbeddings(
            model_name=model_path,
            model_kwargs={<span class="hljs-string">'device'</span>: <span class="hljs-string">'cpu'</span>},  <span class="hljs-comment"># å¯æŒ‡å®š 'cuda' å¯ç”¨ GPU åŠ é€Ÿ</span>
            encode_kwargs={<span class="hljs-string">'normalize_embeddings'</span>: <span class="hljs-literal">True</span>}  <span class="hljs-comment"># æ˜¯å¦å¯¹è¾“å‡ºå‘é‡å½’ä¸€åŒ–ï¼ˆæ¨èç”¨äºç›¸ä¼¼åº¦è®¡ç®—ï¼‰</span>
        )

    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f"ä¸æ”¯æŒçš„åµŒå…¥æ¨¡å‹æä¾›å•†: <span class="hljs-subst">{provider}</span>ã€‚è¯·é€‰æ‹©'openai'ã€'huggingface'æˆ–'qwen'"</span>)
</code></pre>
<p>æä¾›äº† 3 ç§åµŒå…¥æ¨¡å‹ï¼Œåªéœ€é€‰æ‹©å…¶ä¸­ä¸€ç›´å³å¯ï¼Œæ¯ç§æ¨¡å‹çš„åˆå§‹åŒ–é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong><code>qwen</code>ï¼ˆåƒé—®ï¼‰ï¼š</strong> é»˜è®¤ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯åƒé—®å‘é‡æ¨¡å‹<code>text-embedding-v4</code>ã€‚å¿…é¡»é…ç½®<code>QWEN_API_KEY</code>å’Œ<code>QWEN_BASE_URL</code>ä¸¤ä¸ªç¯å¢ƒå˜é‡ã€‚</p>
</li>
<li>
<p><strong>openaiï¼š</strong> éœ€åœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®<code>OPENAI_API_KEY</code>ï¼Œè‹¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ä»£ç†è¿˜éœ€é…ç½®<code>OPENAI_BASE_URL</code>ï¼ˆè‡ªå®šä¹‰æ¥å£åœ°å€ï¼‰ã€‚</p>
</li>
<li>
<p><strong>local_bge_smallï¼š</strong> æœ¬åœ°åŠ è½½å‘é‡æ¨¡å‹ï¼Œä¸è®¿é—®ç¬¬ä¸‰æ–¹æä¾›çš„æ¨¡å‹æœåŠ¡ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯åŒ—äº¬æ™ºæºç ”ç©¶é™¢ï¼ˆBAAIï¼‰å¼€å‘çš„è½»é‡çº§ä¸­æ–‡æ–‡æœ¬åµŒå…¥æ¨¡å‹<code>bge-small-zh-v1.5</code>ï¼Œå¯¹èµ„æºè¦æ±‚ä¸é«˜ï¼Œé€‚åˆèµ„æºå—é™åœºæ™¯ã€‚</p>
<p>è‹¥ä½¿ç”¨æœ¬åœ°åŠ è½½å‘é‡æ¨¡å‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol start="0">
<li>
<p>é¦–å…ˆå®‰è£…å¿…è¦çš„ Python åº“ã€‚</p>
<pre><code class="hljs language-css" lang="css">pip install transformers sentence-transformers torch <span class="hljs-attr">--upgrade</span>
</code></pre>
</li>
<li>
<p>ä¸‹è½½å‘é‡æ¨¡å‹æ–‡ä»¶ï¼Œä¸¤ç§æ–¹å¼ä¸‹è½½ï¼š</p>
<ul>
<li>
<p>æ‰‹åŠ¨ä¸‹è½½ï¼šå¯ä»<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2FBAAI%2Fbge-small-zh-v1.5" target="_blank" title="https://huggingface.co/BAAI/bge-small-zh-v1.5" ref="nofollow noopener noreferrer">HuggingFace</a> æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.modelscope.cn%2Fmodels%2FBAAI%2Fbge-small-zh-v1.5%2Ffiles" target="_blank" title="https://www.modelscope.cn/models/BAAI/bge-small-zh-v1.5/files" ref="nofollow noopener noreferrer">é­”å¡”åœ°å€</a>ä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼Œæ”¾åˆ°å½“å‰ç›®å½•çš„<code>./models_data/bge-small-zh-v1.5</code>è·¯å¾„ä¸‹ã€‚ä¸‹è½½æ–‡ä»¶ï¼š<code>config.json</code>ï¼ˆæ¨¡å‹é…ç½®ï¼‰ã€<code>model.safetensors</code>ï¼ˆæ¨¡å‹æƒé‡ï¼‰ã€<code>tokenizer.json</code>ã€<code>tokenizer_config.json</code>ã€<code>vocab.txt</code>ï¼ˆåˆ†è¯å™¨æ–‡ä»¶ï¼‰ã€‚è®¾ç½®model_path ä¸ºä¸‹è½½çš„æœ¬åœ°è·¯å¾„åœ°å€ã€‚</p>
</li>
<li>
<p>è‡ªåŠ¨ä¸‹è½½ï¼šè®¾ç½®<code>model_path</code>ä¸º<code>"BAAI/bge-small-zh-v1.5"</code>ï¼Œé¦–æ¬¡è¿è¡Œæ—¶ SDK ä¼šè‡ªåŠ¨ä¸‹è½½ï¼ˆéœ€è”ç½‘ï¼‰ã€‚ä¸‹è½½é»˜è®¤å­˜å‚¨è·¯å¾„å¦‚ä¸‹ï¼š</p>
<p>Windowsï¼š<code>`C:\Users\ç”¨æˆ·å.cache\huggingface\transformers</code>ï¼‰`</p>
<p>Linux/Macï¼š<code>~/.cache/huggingface/transformers</code></p>
<p>ä¸‹è½½å®Œæˆåï¼Œåç»­è¿è¡Œä»£ç ä¼šç›´æ¥ä»ç¼“å­˜åŠ è½½ï¼Œæ— éœ€é‡å¤ä¸‹è½½ã€‚</p>
</li>
</ul>
</li>
<li>
<p>åŠ è½½æ¨¡å‹ï¼šé€šè¿‡ LangChain åº“ä¸­<code>HuggingFaceEmbeddings</code>åŠ è½½ã€‚</p>
<ul>
<li>é…ç½®ä¸º CPU è¿è¡Œï¼ˆå¯æ”¹<code>cuda</code>ç”¨ GPUï¼‰ï¼›</li>
<li>å¯¹è¾“å‡ºå‘é‡å½’ä¸€åŒ–ï¼ˆæ–¹ä¾¿åç»­ç›¸ä¼¼åº¦è®¡ç®—ï¼‰ã€‚</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><strong>æµ‹è¯•åµŒå…¥æ¨¡å‹</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test_embedding_model</span>(<span class="hljs-params">provider: <span class="hljs-built_in">str</span> = <span class="hljs-string">"openai"</span></span>):
    <span class="hljs-string">"""æµ‹è¯•åµŒå…¥æ¨¡å‹çš„åŸºæœ¬åŠŸèƒ½"""</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># åˆå§‹åŒ–åµŒå…¥æ¨¡å‹</span>
        embeddings = initialize_embedding_model(provider)

        <span class="hljs-comment"># æµ‹è¯•æ–‡æœ¬</span>
        test_text = <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ–‡æœ¬ï¼Œç”¨äºéªŒè¯åµŒå…¥æ¨¡å‹çš„åŠŸèƒ½ã€‚"</span>

        <span class="hljs-comment"># ç”ŸæˆåµŒå…¥å‘é‡</span>
        vector = embeddings.embed_query(test_text)

        <span class="hljs-comment"># æ‰“å°åŸºæœ¬ä¿¡æ¯</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä½¿ç”¨ <span class="hljs-subst">{provider.upper()}</span> åµŒå…¥æ¨¡å‹ç”Ÿæˆå‘é‡æˆåŠŸ"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é‡ç»´åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(vector)}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘é‡å‰10ä¸ªå…ƒç´ : <span class="hljs-subst">{vector[:<span class="hljs-number">10</span>]}</span>"</span>)

        <span class="hljs-keyword">return</span> vector

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æµ‹è¯•å¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># æµ‹è¯•åƒé—®æ¨¡å‹</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n=== æµ‹è¯•åƒé—®åµŒå…¥æ¨¡å‹ ==="</span>)
    test_embedding_model(<span class="hljs-string">"qwen"</span>)

    <span class="hljs-comment"># æµ‹è¯•OpenAIæ¨¡å‹</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== æµ‹è¯•bge-small-zh-v1.5åµŒå…¥æ¨¡å‹ ==="</span>)
    test_embedding_model(<span class="hljs-string">"local_bge_small"</span>)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="" alt="image-20251105145212047" loading="lazy"/></p>
<h5 data-id="heading-15">4 LLMæ¨¡å‹è°ƒç”¨ï¼ˆlangchain_llm.pyï¼‰</h5>
<p>åŸºäº LangChain æ¡†æ¶ï¼Œå°è£…LLMçš„è°ƒç”¨ï¼Œå®ç°ä»ç¯å¢ƒå˜é‡è¯»å–é…ç½®ã€æ ¡éªŒå‚æ•°ï¼Œè¿”å›æ¨¡å‹èŠå¤©å®ä¾‹<code>ChatOpenAI</code>ã€‚å¯é€‚é…å…¼å®¹openAI æ¥å£è§„èŒƒçš„æ¨¡å‹æœåŠ¡ï¼Œå¦‚åƒé—®(Qwen)ã€DeepSeekã€OpenAIã€æ™ºè°±(Zhipu)ç­‰ï¼Œå¯é…ç½®MODEL_CONFIG_MAPçµæ´»æ‰©å±•ï¼Œé»˜è®¤ä½¿ç”¨åƒé—®æ¨¡å‹ã€‚</p>
<p>åœ¨<code>models</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶<code>langchain_llm.py</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¯¼å…¥å¿…è¦çš„Pythonåº“</span>
<span class="hljs-keyword">import</span> os  <span class="hljs-comment"># ç”¨äºå¤„ç†æ“ä½œç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½</span>
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span>, <span class="hljs-type">Optional</span>

<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">from</span> langchain.chat_models <span class="hljs-keyword">import</span> init_chat_model
<span class="hljs-keyword">from</span> langchain_core.language_models <span class="hljs-keyword">import</span> BaseChatModel
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-comment"># æ¨¡å‹é…ç½®å¸¸é‡ï¼ˆé›†ä¸­ç®¡ç†ï¼Œä¾¿äºç»´æŠ¤ï¼‰</span>
MODEL_CONFIG_MAP: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">str</span>]] = {
    <span class="hljs-string">"qwen"</span>: {
        <span class="hljs-string">"api_key_env"</span>: <span class="hljs-string">"QWEN_API_KEY"</span>,
        <span class="hljs-string">"base_url_env"</span>: <span class="hljs-string">"QWEN_BASE_URL"</span>,
        <span class="hljs-string">"default_model"</span>: <span class="hljs-string">"qwen-plus"</span>
    },
    <span class="hljs-string">"deepseek"</span>: {
        <span class="hljs-string">"api_key_env"</span>: <span class="hljs-string">"DEEPSEEK_API_KEY"</span>,
        <span class="hljs-string">"base_url_env"</span>: <span class="hljs-string">"DEEPSEEK_BASE_URL"</span>,
        <span class="hljs-string">"default_model"</span>: <span class="hljs-string">"deepseek-chat"</span>
    },
    <span class="hljs-string">"openai"</span>: {
        <span class="hljs-string">"api_key_env"</span>: <span class="hljs-string">"OPENAI_API_KEY"</span>,
        <span class="hljs-string">"base_url_env"</span>: <span class="hljs-string">"OPENAI_BASE_URL"</span>,
        <span class="hljs-string">"default_model"</span>: <span class="hljs-string">"gpt-4-turbo"</span>
    },
    <span class="hljs-string">"zhipu"</span>: {
        <span class="hljs-string">"api_key_env"</span>: <span class="hljs-string">"ZHIPU_API_KEY"</span>,
        <span class="hljs-string">"base_url_env"</span>: <span class="hljs-string">"ZHIPU_BASE_URL"</span>,
        <span class="hljs-string">"default_model"</span>: <span class="hljs-string">"glm-4"</span>
    }
}


<span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_env_var</span>(<span class="hljs-params">env_name: <span class="hljs-built_in">str</span>, model_type: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    å®‰å…¨è·å–å¹¶æ ¡éªŒç¯å¢ƒå˜é‡ï¼Œæä¾›é”™è¯¯æç¤ºã€‚
    Args:
        env_name: å¾…è¯»å–çš„ç¯å¢ƒå˜é‡åç§°ï¼ˆå¦‚QWEN_API_KEYï¼‰
        model_type: æ¨¡å‹ç±»å‹æ ‡è¯†ï¼ˆå¦‚qwen/deepseekï¼‰ï¼Œç”¨äºé”™è¯¯æç¤ºä¸Šä¸‹æ–‡

    Returns:
        str: éç©ºçš„ç¯å¢ƒå˜é‡å€¼

    Raises:
        ValueError: å½“ç¯å¢ƒå˜é‡æœªè®¾ç½®æˆ–å€¼ä¸ºç©ºæ—¶æŠ›å‡ºï¼ŒåŒ…å«æ˜ç¡®çš„é…ç½®æŒ‡å¼•
    """</span>
    value = os.getenv(env_name)
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> value:
        <span class="hljs-keyword">raise</span> ValueError(
            <span class="hljs-string">f"[<span class="hljs-subst">{model_type.upper()}</span>] ç¼ºå°‘å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š<span class="hljs-subst">{env_name}</span>\n"</span>
            <span class="hljs-string">f"è¯·åœ¨.envæ–‡ä»¶ä¸­é…ç½® <span class="hljs-subst">{env_name}</span>=ä½ çš„APIå¯†é’¥/åŸºç¡€åœ°å€"</span>
        )
    <span class="hljs-keyword">return</span> value


<span class="hljs-keyword">def</span> <span class="hljs-title function_">langchain_llm</span>(<span class="hljs-params">
        model_type: <span class="hljs-built_in">str</span> = <span class="hljs-string">"qwen"</span>,
        model: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>,
        temperature: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span>,
        **kwargs
</span>) -&gt; BaseChatModel:
    <span class="hljs-string">"""
    ç»Ÿä¸€çš„LLMæ¨¡å‹åˆå§‹åŒ–å…¥å£å‡½æ•°ï¼Œé€‚é…æ‰€æœ‰å…¼å®¹OpenAIæ¥å£è§„èŒƒçš„æ¨¡å‹ã€‚
    å·²æ”¯æŒæ¨¡å‹ï¼šqwenï¼ˆé€šä¹‰åƒé—®ï¼‰/deepseek(æ·±åº¦æ±‚ç´¢)/openai(OpenAIå®˜æ–¹)/zhipu(æ™ºè°±GLMæ¨¡å‹)ï¼Œå¯é…ç½®MODEL_CONFIG_MAPæ‰©å±•ã€‚

    Args:
        model_type: æ¨¡å‹ç±»å‹æ ‡è¯†ï¼Œæ”¯æŒï¼šqwen/deepseek/openai/zhipu
        model: å…·æ¨¡å‹åç§°ï¼Œä¸ä¼ åˆ™ä½¿ç”¨é»˜è®¤å€¼
        temperature: ç”Ÿæˆæ¸©åº¦ç³»æ•°ï¼Œæ§åˆ¶è¾“å‡ºéšæœºæ€§ï¼ˆ0=å®Œå…¨ç¡®å®šï¼Œ1=é«˜åº¦éšæœºï¼‰ï¼Œé»˜è®¤0.0
        **kwargs: é€ä¼ å‚æ•°ï¼Œä¼šä¼ é€’ç»™åº•å±‚çš„init_chat_model/ChatOpenAIåˆå§‹åŒ–æ–¹æ³•
                  æ”¯æŒçš„å‚æ•°ç¤ºä¾‹ï¼šmax_tokens(ç”Ÿæˆæœ€å¤§é•¿åº¦)ã€timeout(è¶…æ—¶æ—¶é—´)ã€top_p(é‡‡æ ·é˜ˆå€¼)ç­‰

    Returns:
        BaseChatModel: åˆå§‹åŒ–å®Œæˆçš„LangChainèŠå¤©æ¨¡å‹å®ä¾‹ï¼Œå¯ç›´æ¥ç”¨äºå¯¹è¯ç”Ÿæˆ
    """</span>
    <span class="hljs-comment"># æ ¡éªŒæ¨¡å‹ç±»å‹æ˜¯å¦æ”¯æŒ</span>
    <span class="hljs-keyword">if</span> model_type <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> MODEL_CONFIG_MAP:
        <span class="hljs-keyword">raise</span> ValueError(
            <span class="hljs-string">f"ä¸æ”¯æŒçš„æ¨¡å‹ç±»å‹ï¼š<span class="hljs-subst">{model_type}</span>\n"</span>
            <span class="hljs-string">f"å½“å‰æ”¯æŒçš„ç±»å‹ï¼š<span class="hljs-subst">{<span class="hljs-built_in">list</span>(MODEL_CONFIG_MAP.keys())}</span>"</span>
        )

    <span class="hljs-comment"># è·å–æ¨¡å‹é…ç½®</span>
    config = MODEL_CONFIG_MAP[model_type]
    model = model <span class="hljs-keyword">or</span> config[<span class="hljs-string">"default_model"</span>]

    <span class="hljs-comment"># è·å–ç¯å¢ƒå˜é‡</span>
    api_key = _get_env_var(config[<span class="hljs-string">"api_key_env"</span>], model_type)
    base_url = _get_env_var(config[<span class="hljs-string">"base_url_env"</span>], model_type)

    <span class="hljs-comment"># æ ¹æ®æ¨¡å‹ç±»å‹åˆå§‹åŒ–</span>
    <span class="hljs-keyword">if</span> model_type == <span class="hljs-string">"deepseek"</span>:
        <span class="hljs-comment"># DeepSeekä½¿ç”¨init_chat_modelåˆå§‹åŒ–</span>
        llm = init_chat_model(
            model=model,
            api_key=api_key,
            api_base=base_url,
            temperature=temperature,
            model_provider=<span class="hljs-string">"deepseek"</span>,
            **kwargs
        )
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># å…¶ä»–æ¨¡å‹ä½¿ç”¨ChatOpenAIï¼ˆå…¼å®¹OpenAIæ¥å£ï¼‰</span>
        llm = ChatOpenAI(
            model=model,
            api_key=api_key,
            openai_api_base=base_url,
            temperature=temperature,
            **kwargs
        )

    <span class="hljs-keyword">return</span> llm


<span class="hljs-keyword">def</span> <span class="hljs-title function_">langchain_qwen_llm</span>(<span class="hljs-params">model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"qwen-plus"</span>, temperature: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span></span>) -&gt; BaseChatModel:
    <span class="hljs-string">"""åˆå§‹åŒ–åƒé—®èŠå¤©æ¨¡å‹"""</span>
    <span class="hljs-keyword">return</span> langchain_llm(<span class="hljs-string">"qwen"</span>, model=model, temperature=temperature)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">langchain_deepseek_llm</span>(<span class="hljs-params">model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"deepseek-chat"</span>, temperature: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span></span>) -&gt; BaseChatModel:
    <span class="hljs-string">"""åˆå§‹åŒ–DeepSeekèŠå¤©æ¨¡å‹"""</span>
    <span class="hljs-keyword">return</span> langchain_llm(<span class="hljs-string">"deepseek"</span>, model=model, temperature=temperature)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">langchain_openai_llm</span>(<span class="hljs-params">model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"gpt-4-turbo"</span>, temperature: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span></span>) -&gt; BaseChatModel:
    <span class="hljs-string">"""åˆå§‹åŒ–OpenAIèŠå¤©æ¨¡å‹"""</span>
    <span class="hljs-keyword">return</span> langchain_llm(<span class="hljs-string">"openai"</span>, model=model, temperature=temperature)


<span class="hljs-comment"># æ–°å¢æ™ºè°±åˆå§‹åŒ–å‡½æ•°ï¼ˆæ‰©å±•æ”¯æŒï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">langchain_zhipu_llm</span>(<span class="hljs-params">model: <span class="hljs-built_in">str</span> = <span class="hljs-string">"glm-4"</span>, temperature: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span></span>) -&gt; BaseChatModel:
    <span class="hljs-string">"""åˆå§‹åŒ–æ™ºè°±èŠå¤©æ¨¡å‹"""</span>
    <span class="hljs-keyword">return</span> langchain_llm(<span class="hljs-string">"zhipu"</span>, model=model, temperature=temperature)
</code></pre>
<p><strong>æµ‹è¯•LLMæ¨¡å‹</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">if</span> __name__ <span class="hljs-operator">==</span> <span class="hljs-string">"__main__"</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> <span class="hljs-operator">*</span> <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹æµ‹è¯•æ¨¡å‹åˆå§‹åŒ–ä¸è°ƒç”¨"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> <span class="hljs-operator">*</span> <span class="hljs-number">50</span> <span class="hljs-operator">+</span> <span class="hljs-string">"<span class="hljs-subst">\n</span>"</span>)

    user_query <span class="hljs-operator">=</span> <span class="hljs-string">"è¯·ç”¨3å¥è¯ä»‹ç»ä¸‹è‡ªå·±"</span>
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"ç”¨æˆ·æé—®ï¼š{user_query}"</span>)

    # <span class="hljs-number">1</span>. æµ‹è¯•åƒé—®æ¨¡å‹
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€æµ‹è¯•åƒé—®æ¨¡å‹...ã€‘"</span>)
    qwen_llm <span class="hljs-operator">=</span> initialize_qwen_llm(model<span class="hljs-operator">=</span><span class="hljs-string">"qwen-plus"</span>, temperature<span class="hljs-operator">=</span><span class="hljs-number">0</span>)
    response <span class="hljs-operator">=</span> qwen_llm.invoke(user_query)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"åƒé—®å“åº”ï¼š<span class="hljs-subst">\n</span>{response.content}<span class="hljs-subst">\n</span>"</span>)

    # <span class="hljs-number">2</span>. æµ‹è¯•<span class="hljs-type">DeepSeekæ¨¡å‹</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€æµ‹è¯• DeepSeek æ¨¡å‹...ã€‘"</span>)
    deepseek_llm <span class="hljs-operator">=</span> initialize_deepseek_llm(<span class="hljs-string">"deepseek-chat"</span>, temperature<span class="hljs-operator">=</span><span class="hljs-number">0</span>)
    response <span class="hljs-operator">=</span> deepseek_llm.invoke(user_query)
    # ç¾åŒ–è¾“å‡ºå“åº”
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"DeepSeekå“åº”ï¼š<span class="hljs-subst">\n</span>{response.content}<span class="hljs-subst">\n</span>"</span>)

    # <span class="hljs-number">3</span>. æµ‹è¯•<span class="hljs-type">OpenAIæ¨¡å‹ï¼ˆä¿ç•™æ³¨é‡Šï¼Œéœ€å¯ç”¨æ—¶å–æ¶ˆæ³¨é‡Šå³å¯ï¼‰</span>
    # <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€æµ‹è¯• OpenAI æ¨¡å‹...ã€‘"</span>)
    # å–æ¶ˆä¸‹é¢<span class="hljs-number">2</span>è¡Œæ³¨é‡Šå³å¯å¯ç”¨<span class="hljs-type">OpenAIæµ‹è¯•</span>
    # openai_llm <span class="hljs-operator">=</span> initialize_openai_llm(model<span class="hljs-operator">=</span><span class="hljs-string">"gpt-5"</span>, temperature<span class="hljs-operator">=</span><span class="hljs-number">0.3</span>)
    # <span class="hljs-built_in">print</span>(<span class="hljs-string">"â„¹ï¸  è‹¥éœ€æµ‹è¯•OpenAIï¼Œå–æ¶ˆä»£ç ä¸­OpenAIç›¸å…³çš„æ³¨é‡Šå³å¯<span class="hljs-subst">\n</span>"</span>)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/499ae1bb2e26430bb802706e815c8ddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGF5b6u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803987&amp;x-signature=pelZFA9Glc29m0WVahhibwZgfQA%3D" alt="image-20251105152257506" loading="lazy"/></p>
<h5 data-id="heading-16">5 é‡æ’æ¨¡å‹è°ƒç”¨ï¼ˆreranker_model.pyï¼‰</h5>
<p>åˆå§‹åŒ–é‡æ’æ¨¡å‹ï¼Œç”¨äºå¯¹æ£€ç´¢é˜¶æ®µå¬å›çš„å€™é€‰æ–‡æ¡£è¿›è¡Œè¯­ä¹‰ç›¸å…³æ€§é‡æ’ï¼Œæå‡æ£€ç´¢ç²¾åº¦ã€‚</p>
<p>åœ¨<code>models</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶<code>reranker_model.py</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>,  <span class="hljs-type">Optional</span>

<span class="hljs-keyword">import</span> torch
<span class="hljs-keyword">from</span> langchain_core.documents <span class="hljs-keyword">import</span> Document
<span class="hljs-keyword">from</span> sentence_transformers <span class="hljs-keyword">import</span> CrossEncoder

<span class="hljs-comment"># é…ç½®æ—¥å¿—</span>
logging.basicConfig(
    level=logging.INFO,
    <span class="hljs-built_in">format</span>=<span class="hljs-string">"%(asctime)s - %(name)s - %(levelname)s - %(message)s"</span>
)
logger = logging.getLogger(__name__)


<span class="hljs-keyword">class</span> <span class="hljs-title class_">RerankerCrossModel</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">
            self,
            model_name_or_path: <span class="hljs-built_in">str</span> = <span class="hljs-string">"BAAI/bge-reranker-large"</span>,
            device: <span class="hljs-type">Optional</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-literal">None</span>,
            batch_size: <span class="hljs-built_in">int</span> = <span class="hljs-number">16</span>
    </span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–é‡æ’å™¨ã€‚ç”¨äºå¯¹æ£€ç´¢é˜¶æ®µå¬å›çš„å€™é€‰æ–‡æ¡£è¿›è¡Œè¯­ä¹‰ç›¸å…³æ€§é‡æ’ï¼Œæå‡æ£€ç´¢ç²¾åº¦ã€‚
        é€‚é…éµå¾ª sentence-transformers çš„ CrossEncoder è§„èŒƒçš„æ¨¡å‹, å¦‚ms-marco-MiniLM-L-12-v2ã€bge-reranker-base/largeç­‰

        Args:
            model_name_or_path: strï¼Œæ¨¡å‹åç§°ï¼ˆHuggingFace Hubè§„èŒƒåï¼‰æˆ–æœ¬åœ°å­˜å‚¨è·¯å¾„ï¼š
                - 1.æ¨¡å‹åç§°ï¼šæœ¬åœ°ç¼“å­˜ï¼ˆé»˜è®¤~/.cache/huggingface/ï¼‰æ— è¯¥æ¨¡å‹æ—¶ï¼Œè‡ªåŠ¨ä»Hubä¸‹è½½æƒé‡/é…ç½®/åˆ†è¯å™¨ï¼›ç¼“å­˜å·²å­˜åœ¨åˆ™ç›´æ¥åŠ è½½ï¼Œæ— éœ€é‡å¤ä¸‹è½½ã€‚
                - 2.æœ¬åœ°è·¯å¾„ï¼šéœ€æ‰‹åŠ¨ä¸‹è½½å®Œæ•´æ¨¡å‹æ–‡ä»¶ï¼ˆåŒ…å«config.jsonã€model.safetensors/pytorch_model.binç­‰ï¼‰åˆ°æœ¬åœ°è·¯å¾„åœ°å€ã€‚
            device: æ¨¡å‹è¿è¡Œè®¾å¤‡ï¼ŒNoneåˆ™è‡ªåŠ¨æ£€æµ‹ï¼ˆä¼˜å…ˆä½¿ç”¨CUDAï¼Œæ— åˆ™ä½¿ç”¨CPUï¼‰
            batch_size: æ¨ç†æ‰¹æ¬¡å¤§å°ï¼Œå»ºè®®CPUè®¾8/16ï¼ŒGPUå¯æ ¹æ®æ˜¾å­˜é€‚å½“å¢å¤§ï¼ˆé»˜è®¤16ï¼‰
        """</span>
        <span class="hljs-comment"># è®¾å¤‡è‡ªåŠ¨é€‚é…</span>
        self.device = device <span class="hljs-keyword">if</span> device <span class="hljs-keyword">else</span> (<span class="hljs-string">"cuda"</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">"cpu"</span>)
        self.batch_size = batch_size
        self.model_name_or_path = model_name_or_path
        self.reranker_model: <span class="hljs-type">Optional</span>[CrossEncoder] = <span class="hljs-literal">None</span>

        <span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span>
        self._load_model()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_load_model</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""åŠ è½½å¹¶é‡åˆå§‹åŒ–CrossEncoderé‡æ’æ¨¡å‹"""</span>
        <span class="hljs-keyword">try</span>:
            self.reranker_model = CrossEncoder(self.model_name_or_path, device=self.device)
            logger.info(<span class="hljs-string">f"âœ…é‡æ’æ¨¡å‹åŠ è½½å®Œæˆ | è®¾å¤‡ï¼š<span class="hljs-subst">{self.device}</span> | æ‰¹æ¬¡å¤§å°ï¼š<span class="hljs-subst">{self.batch_size}</span>"</span>)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"æ¨¡å‹åŠ è½½å¤±è´¥ï¼š<span class="hljs-subst">{e}</span>\nè¯·æ£€æŸ¥ï¼š1. æ¨¡å‹è·¯å¾„æ˜¯å¦æ­£ç¡® 2. ç½‘ç»œæ˜¯å¦æ­£å¸¸ï¼ˆé¦–æ¬¡ä¸‹è½½éœ€è”ç½‘ï¼‰"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">rerank_documents</span>(<span class="hljs-params">
            self,
            query: <span class="hljs-built_in">str</span>,
            documents: <span class="hljs-type">List</span>[Document],
            top_n: <span class="hljs-built_in">int</span> = <span class="hljs-number">3</span>,
            score_threshold: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.0</span>
    </span>) -&gt; <span class="hljs-type">List</span>[Document]:
        <span class="hljs-string">"""
        å¯¹æ£€ç´¢åˆ°çš„æ–‡æ¡£è¿›è¡Œé‡æ’åº

        Args:
            query: ç”¨æˆ·æŸ¥è¯¢é—®é¢˜
            documents: å‘é‡æ£€ç´¢å¾—åˆ°çš„åŸå§‹æ–‡æ¡£åˆ—è¡¨
            top_n: é‡æ’åä¿ç•™çš„æ–‡æ¡£æ•°é‡
            score_threshold: åˆ†æ•°é˜ˆå€¼ï¼Œä½äºè¯¥å€¼çš„æ–‡æ¡£ä¼šè¢«è¿‡æ»¤

        Returns:
            List[Document]: é‡æ’åºåçš„æ–‡æ¡£åˆ—è¡¨ï¼ˆæŒ‰ç›¸å…³æ€§ä»é«˜åˆ°ä½ï¼‰
        """</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> documents:
            <span class="hljs-keyword">return</span> []

        <span class="hljs-comment"># æ„é€ æ¨¡å‹è¾“å…¥ï¼š(query, doc_text) å¯¹</span>
        pairs = [(query, doc.page_content) <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> documents]

        <span class="hljs-comment"># è®¡ç®—ç›¸å…³æ€§åˆ†æ•°</span>
        scores = self.reranker_model.predict(pairs)

        <span class="hljs-comment"># å°†æ–‡æ¡£ä¸åˆ†æ•°é…å¯¹å¹¶æ’åº</span>
        doc_score_pairs = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(documents, scores))
        <span class="hljs-comment"># æŒ‰åˆ†æ•°é™åºæ’åº</span>
        doc_score_pairs.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)

        <span class="hljs-comment"># è¿‡æ»¤åˆ†æ•°é˜ˆå€¼å¹¶æˆªå–top_n</span>
        filtered_docs = []
        <span class="hljs-keyword">for</span> doc, score <span class="hljs-keyword">in</span> doc_score_pairs:
            <span class="hljs-keyword">if</span> score &gt;= score_threshold <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(filtered_docs) &lt; top_n:
                <span class="hljs-comment"># å°†åˆ†æ•°æ·»åŠ åˆ°æ–‡æ¡£å…ƒæ•°æ®ä¸­</span>
                doc.metadata[<span class="hljs-string">"rerank_score"</span>] = <span class="hljs-built_in">float</span>(score)
                filtered_docs.append(doc)
            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(filtered_docs) &gt;= top_n:
                <span class="hljs-keyword">break</span>

        logger.info(<span class="hljs-string">f"é‡æ’å®Œæˆï¼šåŸå§‹<span class="hljs-subst">{<span class="hljs-built_in">len</span>(documents)}</span>ä¸ªæ–‡æ¡£ â†’ ç­›é€‰å<span class="hljs-subst">{<span class="hljs-built_in">len</span>(filtered_docs)}</span>ä¸ªæ–‡æ¡£"</span>)
        <span class="hljs-keyword">return</span> filtered_docs
</code></pre>
<p><strong>æµ‹è¯•é‡æ’æ¨¡å‹</strong></p>
<pre><code class="hljs language-ini" lang="ini">if <span class="hljs-attr">__name__</span> == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># æµ‹è¯•æ•°æ®</span>
    <span class="hljs-attr">sample_documents</span> = [
        Document(page_content=<span class="hljs-string">"æ–‡æ¡£1å†…å®¹ï¼šäººå·¥æ™ºèƒ½å…¥é—¨"</span>, metadata={<span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>}),
        Document(page_content=<span class="hljs-string">"æ–‡æ¡£2å†…å®¹ï¼šå¤§è¯­è¨€æ¨¡å‹åŸç†"</span>, metadata={<span class="hljs-string">"id"</span>: <span class="hljs-number">2</span>}),
        Document(page_content=<span class="hljs-string">"æ–‡æ¡£3å†…å®¹ï¼šPython åŸºç¡€æ•™ç¨‹"</span>, metadata={<span class="hljs-string">"id"</span>: <span class="hljs-number">3</span>}),
        Document(page_content=<span class="hljs-string">"æ–‡æ¡£4å†…å®¹ï¼šè¯­ä¹‰æ£€ç´¢ç®—æ³•"</span>, metadata={<span class="hljs-string">"id"</span>: <span class="hljs-number">4</span>}),
        Document(page_content=<span class="hljs-string">"æ–‡æ¡£5å†…å®¹ï¼šæœºå™¨å­¦ä¹ å®æˆ˜"</span>, metadata={<span class="hljs-string">"id"</span>: <span class="hljs-number">5</span>}),
    ]
    <span class="hljs-comment"># ä½¿ç”¨BAAI/bge-reranker-largeæ¨¡å‹</span>
    <span class="hljs-attr">reranker</span> = RerankerCrossModel(
        <span class="hljs-comment"># è¿™é‡ŒåŠ è½½æœ¬åœ°è·¯å¾„æ¨¡å‹ï¼ˆéœ€æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ï¼‰</span>
        <span class="hljs-comment"># a.æ¨¡å‹æ–‡ä»¶è·å–åœ°å€ï¼šhttps://modelscope.cn/models/BAAI/bge-reranker-v2-m3</span>
        <span class="hljs-comment"># b.éœ€ä¸‹è½½æ–‡ä»¶ï¼šconfig.jsonã€model.safetensorsã€special_tokens_map.jsonã€tokenizer.jsonã€tokenizer_config.json</span>
        <span class="hljs-comment"># model_name_or_path="BAAI/bge-reranker-base",  # æ¨¡å‹åç§°</span>
        <span class="hljs-attr">model_name_or_path</span>=<span class="hljs-string">"../../../data/models_reranker_data/BAAI/bge-reranker-v2-m3"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§°</span>
        <span class="hljs-attr">device</span>=<span class="hljs-string">"cuda"</span> if torch.cuda.is_available() else <span class="hljs-string">"cpu"</span>,
        <span class="hljs-attr">batch_size</span>=<span class="hljs-number">8</span>
    )
    <span class="hljs-attr">query</span> = <span class="hljs-string">"å¤§è¯­è¨€æ¨¡å‹çš„è¯­ä¹‰æ£€ç´¢æ–¹æ³•"</span>
    <span class="hljs-attr">result_docs</span> = reranker.rerank_documents(
        <span class="hljs-attr">query</span>=query,
        <span class="hljs-attr">documents</span>=sample_documents,
        <span class="hljs-attr">top_n</span>=<span class="hljs-number">3</span>
    )

    <span class="hljs-comment"># æ‰“å°æœ€ç»ˆç»“æœï¼ˆæ–°å¢ï¼šè¾“å‡ºé‡æ’åçš„è¯¦ç»†ä¿¡æ¯ï¼‰</span>
    print("\<span class="hljs-attr">n</span>========== é‡æ’ç»“æœè¯¦æƒ… ==========<span class="hljs-string">")
    for i, doc in enumerate(result_docs, 1):
        print(f"</span>\nç¬¬{i}åæ–‡æ¡£ï¼š<span class="hljs-string">")
        print(f"</span>æ–‡æ¡£IDï¼š{doc.metadata[<span class="hljs-string">'id'</span>]}  é‡æ’åˆ†æ•°ï¼š{doc.metadata[<span class="hljs-string">'rerank_score'</span>]:.<span class="hljs-number">4</span>f} æ–‡æ¡£å†…å®¹ï¼š{doc.page_content}<span class="hljs-string">")
</span></code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da014591879846b4992faa96015185e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGF5b6u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803987&amp;x-signature=eQeAbQIdHxpHqsLu76EHJRCUu7g%3D" alt="image-20260104114808254" loading="lazy"/></p>
<h5 data-id="heading-17">6 RAG æ ¸å¿ƒæœåŠ¡ï¼ˆrag_service_stream.pyï¼‰</h5>
<p>è¯¥ç±»å®ç°å®Œæ•´æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰çš„æ ¸å¿ƒé€»è¾‘ï¼šæ–‡æ¡£å¤„ç†ã€å‘é‡å­˜å‚¨ã€æ£€ç´¢å’Œå›ç­”ç”Ÿæˆã€‚åŸºäº LangChain æ„å»ºï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯è®©å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç»“åˆä¸Šä¼ çš„æ–‡æ¡£çŸ¥è¯†è¿›è¡Œé—®ç­”ï¼Œè§£å†³çº¯ LLM å¯èƒ½å­˜åœ¨çš„äº‹å®æ€§é”™è¯¯ã€çŸ¥è¯†æ—¶æ•ˆæ€§ç­‰é—®é¢˜ã€‚</p>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º<code>services</code>æ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶<code>rag_service_stream.py</code>ã€‚</p>
<h6 data-id="heading-18">ä¸€ã€å¼•å…¥ä¾èµ–</h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> tempfile
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Optional</span>, <span class="hljs-type">Any</span>, Generator
<span class="hljs-keyword">from</span> langchain.text_splitter <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter
<span class="hljs-keyword">from</span> langchain_community.document_loaders <span class="hljs-keyword">import</span> TextLoader, PyPDFLoader, Docx2txtLoader
<span class="hljs-keyword">from</span> langchain_chroma <span class="hljs-keyword">import</span> Chroma

<span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> ConversationBufferWindowMemory
<span class="hljs-keyword">from</span> langchain.schema <span class="hljs-keyword">import</span> HumanMessage
<span class="hljs-keyword">from</span> sentence_transformers <span class="hljs-keyword">import</span> CrossEncoder

<span class="hljs-keyword">from</span> models.langchain_embedding <span class="hljs-keyword">import</span> initialize_embedding_model
<span class="hljs-keyword">from</span> models.langchain_llm <span class="hljs-keyword">import</span> langchain_qwen_llm
<span class="hljs-keyword">from</span> models.reranker_model <span class="hljs-keyword">import</span> RerankerCrossModel
</code></pre>
<h6 data-id="heading-19"><strong>äºŒã€åˆ›å»º<code>RAGService</code>ç±»å¹¶åˆå§‹åŒ–</strong></h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RAGService</span>:
    <span class="hljs-string">"""
    RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æœåŠ¡ç±»ï¼Œå®ç°æ–‡æ¡£è§£æã€å‘é‡åŒ–å­˜å‚¨åŠåŸºäºæ£€ç´¢çš„çŸ¥è¯†è¿›è¡Œé—®ç­”ï¼Œè¾…åŠ© LLM ç”Ÿæˆæ›´å‡†ç¡®ã€æœ‰ä¾æ®çš„å›ç­”ã€‚
    æ ¸å¿ƒæµç¨‹ï¼šæ–‡æ¡£ä¸Šä¼ â†’è§£æåˆ†å—â†’å‘é‡åŒ–å­˜å‚¨â†’æ£€ç´¢ç›¸å…³ç‰‡æ®µâ†’LLMç”Ÿæˆç­”æ¡ˆã€‚
    æ”¯æŒæµå¼è¾“å‡ºã€‚
    """</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,
                 persist_directory: <span class="hljs-built_in">str</span> = <span class="hljs-string">"chroma_db"</span>,
                 retrieve_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">8</span>,  <span class="hljs-comment"># æ£€ç´¢ top-k ä¸ªç›¸å…³æ–‡æœ¬å—</span>
                 enable_reranker: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¯å¦å¼€å¯é‡æ’</span>
                 model_name_or_path: <span class="hljs-built_in">str</span> = <span class="hljs-string">"BAAI/bge-reranker-large"</span>,  <span class="hljs-comment"># é‡æ’æ¨¡å‹åç§°ï¼ˆHuggingFace Hubè§„èŒƒåï¼‰æˆ–æœ¬åœ°å­˜å‚¨è·¯å¾„</span>
                 rerank_top_n: <span class="hljs-built_in">int</span> = <span class="hljs-number">4</span>,  <span class="hljs-comment"># é‡æ’åä¿ç•™æ•°é‡,å¿…é¡»å°äºretrieve_k</span>
                 rerank_score_threshold: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.1</span>  <span class="hljs-comment"># é‡æ’åˆ†æ•°é˜ˆå€¼ï¼Œå¤§äºè¯¥é˜ˆå€¼æ‰è¢«é€‰å–</span>
                 </span>):
        <span class="hljs-string">"""
        åˆå§‹åŒ–RAGæœåŠ¡ï¼ŒåŠ è½½åµŒå…¥æ¨¡å‹ã€LLMæ¨¡å‹åŠå·²å­˜åœ¨çš„å‘é‡æ•°æ®åº“ã€‚

        Args:
            persist_directory: å‘é‡æ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤å€¼ä¸º"chroma_db"
            model_name_or_path: å¯é€‰ï¼Œé‡æ’æ¨¡å‹åç§°ï¼ˆHuggingFace Hubè§„èŒƒåï¼‰æˆ–æœ¬åœ°å­˜å‚¨è·¯å¾„ï¼Œé»˜è®¤ä½¿ç”¨BAAIçš„bge-reranker-v2-m3ï¼ˆä¸­æ–‡æ€§ä»·æ¯”è¾ƒé«˜ï¼‰
                - 1.æ¨¡å‹åç§°ï¼šæœ¬åœ°ç¼“å­˜ï¼ˆé»˜è®¤~/.cache/huggingface/ï¼‰æ— è¯¥æ¨¡å‹æ—¶ï¼Œè‡ªåŠ¨ä»Hubä¸‹è½½æƒé‡/é…ç½®/åˆ†è¯å™¨ï¼›ç¼“å­˜å·²å­˜åœ¨åˆ™ç›´æ¥åŠ è½½ï¼Œæ— éœ€é‡å¤ä¸‹è½½ã€‚
                - 2.æœ¬åœ°è·¯å¾„ï¼šéœ€æ‰‹åŠ¨ä¸‹è½½å®Œæ•´æ¨¡å‹æ–‡ä»¶ï¼ˆåŒ…å«config.jsonã€model.safetensors/pytorch_model.binç­‰ï¼‰åˆ°æœ¬åœ°è·¯å¾„åœ°å€ã€‚
            retrieve_k: å¯é€‰ï¼Œå‘é‡æ£€ç´¢é˜¶æ®µä»æ•°æ®åº“ä¸­å¬å›çš„å€™é€‰æ–‡æœ¬å—æ•°é‡ï¼Œé»˜è®¤å€¼10ã€‚
            rerank_top_n: å¯é€‰ï¼Œä»å¬å›çš„å€™é€‰æ–‡æœ¬å—ä¸­é‡æ’ç­›é€‰åï¼Œæœ€ç»ˆä¿ç•™çš„é«˜ç›¸å…³æ–‡æœ¬å—æ•°é‡ï¼Œé»˜è®¤å€¼3ã€‚çº¦æŸï¼šå¿…é¡»æ»¡è¶³ rerank_top_n &lt; retrieve_kã€‚
            rerank_score_threshold:å¯é€‰ï¼Œé‡æ’ç»“æœçš„åˆ†æ•°ç­›é€‰é˜ˆå€¼ï¼Œé»˜è®¤å€¼0.1ã€‚ä»…å¾—åˆ†è¶…è¿‡è¯¥é˜ˆå€¼çš„æ–‡æœ¬å—ä¼šè¢«ä¿ç•™ã€‚

        """</span>
        <span class="hljs-comment"># å‘é‡æ•°æ®åº“æŒä¹…åŒ–ç›®å½•</span>
        self.persist_directory = persist_directory
        <span class="hljs-comment"># åˆå§‹åŒ–åµŒå…¥æ¨¡å‹ï¼ˆç”¨äºå°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡ï¼‰</span>
        self.embeddings = initialize_embedding_model(<span class="hljs-string">"qwen"</span>)
        <span class="hljs-comment"># æ£€ç´¢ top-k ä¸ªç›¸å…³æ–‡æœ¬å—</span>
        self.retrieve_k = retrieve_k,
        <span class="hljs-comment"># åˆå§‹åŒ–å‘é‡æ•°æ®åº“ï¼ˆè‹¥å­˜åœ¨ï¼‰</span>
        self.vectordb = self._load_vector_db()
        <span class="hljs-comment"># åˆå§‹åŒ–å¤§è¯­è¨€æ¨¡å‹ï¼ˆç”¨äºç”Ÿæˆç­”æ¡ˆï¼‰</span>
        self.llm = langchain_qwen_llm()
        <span class="hljs-comment"># æ˜¯å¦å¼€å¯é‡æ’</span>
        self.enable_reranker = enable_reranker
        <span class="hljs-comment"># åˆå§‹åŒ–é‡æ’æ¨¡å‹</span>
        self.reranker_model = self._init_rerank_model(model_name_or_path)
        <span class="hljs-comment"># é‡æ’åä¿ç•™æ•°é‡,å¿…é¡»å°äºk</span>
        self.rerank_top_n = rerank_top_n
        <span class="hljs-comment"># é‡æ’åˆ†æ•°é˜ˆå€¼ï¼Œå¤§äºè¯¥é˜ˆå€¼æ‰è¢«é€‰å–</span>
        self.rerank_score_threshold = rerank_score_threshold
        <span class="hljs-comment"># ä¿å­˜å½“å‰æµå¼å›ç­”ï¼Œç”¨äºå®Œæ•´å­˜å‚¨</span>
        self.current_stream_answer = <span class="hljs-string">""</span>
        <span class="hljs-comment"># åˆå§‹åŒ–å†…å­˜ï¼Œè®¾ç½®çª—å£å¤§å° k=50ï¼ˆåªä¿ç•™æœ€è¿‘100è½®å¯¹è¯ï¼‰</span>
        <span class="hljs-comment"># ConversationBufferWindowMemory æ˜¯ ConversationBufferMemory çš„æ‰©å±•ç‰ˆæœ¬ï¼Œä¸“é—¨ç”¨äºè§£å†³é•¿å¯¹è¯åœºæ™¯ä¸‹çš„</span>
        <span class="hljs-comment"># ä¸Šä¸‹æ–‡ç®¡ç†é—®é¢˜ã€‚å®ƒé€šè¿‡åªä¿ç•™æœ€è¿‘çš„ N è½®å¯¹è¯ï¼ˆæ»‘åŠ¨çª—å£æœºåˆ¶ï¼‰ï¼Œåœ¨ç»´æŒå¯¹è¯è¿è´¯æ€§çš„åŒæ—¶ï¼Œé¿å…å†å²è®°å½•è¿‡é•¿å¯¼è‡´çš„ Token è¶…é™é—®é¢˜ã€‚</span>
        self.memory = ConversationBufferWindowMemory(
            k=<span class="hljs-number">50</span>,  <span class="hljs-comment"># çª—å£å¤§å°ï¼šä»…ä¿ç•™æœ€è¿‘50è½®å¯¹è¯ï¼ˆ1è½®=1æ¬¡ç”¨æˆ·+1æ¬¡åŠ©æ‰‹äº¤äº’ï¼‰</span>
            return_messages=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># è¿”å›LangChainæ ‡å‡†Messageå¯¹è±¡ï¼ˆè€Œéçº¯å­—ç¬¦ä¸²ï¼Œä¾¿äºæ ¼å¼ç»Ÿä¸€ï¼‰</span>
            memory_key=<span class="hljs-string">"chat_history"</span>,  <span class="hljs-comment"># è®°å¿†æ•°æ®çš„å­˜å‚¨é”®ï¼ˆåç»­æå–å†å²æ—¶ä½¿ç”¨ï¼‰</span>
            output_key=<span class="hljs-string">"answer"</span>,  <span class="hljs-comment"># ä¸LLMè¾“å‡ºç»“æœçš„é”®å¯¹é½ï¼ˆé€‚é…é“¾å¼è°ƒç”¨è§„èŒƒï¼‰</span>
            input_key=<span class="hljs-string">"input"</span>  <span class="hljs-comment"># ä¸LLMè¾“å‡ºç»“æœçš„é”®å¯¹é½ï¼ˆé€‚é…é“¾å¼è°ƒç”¨è§„èŒƒï¼‰</span>
        )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_load_vector_db</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-type">Optional</span>[Chroma]:
        <span class="hljs-string">"""
        ç§æœ‰æ–¹æ³•ï¼šåŠ è½½å·²æŒä¹…åŒ–çš„å‘é‡æ•°æ®åº“ï¼ˆè‹¥ç›®å½•å­˜åœ¨ä¸”éç©ºï¼‰ã€‚
        å‘é‡æ•°æ®åº“ç”¨äºå­˜å‚¨æ–‡æ¡£ç‰‡æ®µçš„å‘é‡è¡¨ç¤ºï¼Œæ”¯æŒé«˜æ•ˆçš„ç›¸ä¼¼æ€§æ£€ç´¢ã€‚

        Returns:
            åŠ è½½æˆåŠŸçš„Chromaå‘é‡æ•°æ®åº“å®ä¾‹ï¼›è‹¥ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥ï¼Œè¿”å›None

        Raises:
            RuntimeError: æ•°æ®åº“åŠ è½½è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯æ—¶æŠ›å‡ºå¼‚å¸¸
        """</span>
        <span class="hljs-comment"># è·¯å¾„ä¸å­˜åœ¨æ—¶è‡ªåŠ¨åˆ›å»ºï¼ˆæ”¯æŒå¤šçº§ç›®å½•ï¼‰</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(self.persist_directory):
            <span class="hljs-keyword">try</span>:
                os.makedirs(self.persist_directory, exist_ok=<span class="hljs-literal">True</span>)
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                error_msg = <span class="hljs-string">f"åˆ›å»ºChromaæ•°æ®åº“è·¯å¾„å¤±è´¥ï¼š<span class="hljs-subst">{self.persist_directory}</span>ï¼Œé”™è¯¯ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
                <span class="hljs-keyword">raise</span> RuntimeError(error_msg) <span class="hljs-keyword">from</span> e

        <span class="hljs-comment"># æ£€æŸ¥æŒä¹…åŒ–ç›®å½•æ˜¯å¦å­˜åœ¨ä¸”éç©º</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">return</span> Chroma(
                embedding_function=self.embeddings,
                persist_directory=self.persist_directory,
            )
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">raise</span> RuntimeError(<span class="hljs-string">f"å‘é‡æ•°æ®åº“åŠ è½½å¤±è´¥ï¼ˆè·¯å¾„ï¼š<span class="hljs-subst">{self.persist_directory}</span>ï¼‰ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

    <span class="hljs-comment"># ===================== é‡æ’æ¨¡å‹åˆå§‹åŒ– =====================</span>
<span class="hljs-meta">    @staticmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_init_rerank_model</span>(<span class="hljs-params">model_name_or_path: <span class="hljs-built_in">str</span> = <span class="hljs-string">"BAAI/bge-reranker-large"</span></span>) -&gt; RerankerCrossModel | <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""
        åˆå§‹åŒ–é‡æ’æ¨¡å‹ï¼Œç”¨äºå¯¹æ£€ç´¢ç»“æœè¿›è¡Œè¯­ä¹‰é‡æ’åº.é»˜è®¤ä½¿ç”¨BAAIçš„bge-reranker-largeã€‚

        Args:
            model_name_or_path: é‡æ’æ¨¡å‹åç§°ï¼ˆHuggingFace Hubè§„èŒƒåï¼‰æˆ–æœ¬åœ°å­˜å‚¨è·¯å¾„ï¼Œ
        Returns:
            CrossEncoder: åˆå§‹åŒ–åçš„é‡æ’æ¨¡å‹å®ä¾‹
        """</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># åŠ è½½é‡æ’æ¨¡å‹</span>
            rerank_model = RerankerCrossModel(model_name_or_path)
            logger.info(<span class="hljs-string">f"æˆåŠŸåŠ è½½é‡æ’æ¨¡å‹: <span class="hljs-subst">{model_name_or_path}</span>"</span>)
            <span class="hljs-keyword">return</span> rerank_model
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            logger.info(<span class="hljs-string">f"åŠ è½½é‡æ’æ¨¡å‹å¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<h6 data-id="heading-20">ä¸‰ã€æ–‡æ¡£å¤„ç†ï¼š<code>process_document(file)</code></h6>
<p>å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£ï¼Œè§£æã€åˆ†å—ã€å‘é‡åŒ–ã€å¹¶å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ã€‚</p>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_document</span>(<span class="hljs-params">self, file: <span class="hljs-type">Any</span></span>) -&gt; <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">bool</span> | <span class="hljs-built_in">str</span>]:
        <span class="hljs-string">"""
        å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£ï¼ˆè§£æã€åˆ†å—ã€å‘é‡åŒ–ã€å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ï¼‰ã€‚
        æ”¯æŒçš„æ ¼å¼ï¼šPDFã€DOCXã€TXTã€MDï¼ˆå¯é€šè¿‡æ‰©å±•loaderæ”¯æŒæ›´å¤šæ ¼å¼ï¼‰ã€‚
        """</span>
        <span class="hljs-comment"># -------------------------- ï¼ˆ1ï¼‰æ–‡ä»¶æœ‰æ•ˆæ€§æ ¡éªŒä¸ä¸´æ—¶æ–‡ä»¶åˆ›å»º ------------------------</span>
        <span class="hljs-comment">#  éªŒè¯æ–‡ä»¶å¯¹è±¡æœ‰æ•ˆæ€§</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> file <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">hasattr</span>(file, <span class="hljs-string">'name'</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">hasattr</span>(file, <span class="hljs-string">'getvalue'</span>):
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"message"</span>: <span class="hljs-string">"æ— æ•ˆçš„æ–‡ä»¶å¯¹è±¡"</span>}

        <span class="hljs-comment"># æå–å¹¶æ ‡å‡†åŒ–æ–‡ä»¶åç¼€ï¼ˆè½¬ä¸ºå°å†™ï¼Œä¾¿äºæ ¼å¼åˆ¤æ–­ï¼‰</span>
        file_name = file.name
        file_suffix = file_name.split(<span class="hljs-string">'.'</span>)[-<span class="hljs-number">1</span>].lower() <span class="hljs-keyword">if</span> <span class="hljs-string">'.'</span> <span class="hljs-keyword">in</span> file_name <span class="hljs-keyword">else</span> <span class="hljs-string">''</span>
        tmp_file_path = <span class="hljs-literal">None</span>  <span class="hljs-comment"># ä¸´æ—¶æ–‡ä»¶è·¯å¾„ï¼ˆç”¨äºåç»­æ¸…ç†ï¼‰</span>

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># åˆ›å»ºä¸´æ—¶æ–‡ä»¶å­˜å‚¨ä¸Šä¼ çš„æ–‡ä»¶å†…å®¹ï¼ˆé¿å…ç›´æ¥æ“ä½œå†…å­˜ä¸­çš„äºŒè¿›åˆ¶æ•°æ®ï¼‰</span>
            <span class="hljs-keyword">with</span> tempfile.NamedTemporaryFile(
                    delete=<span class="hljs-literal">False</span>,  <span class="hljs-comment"># å…³é—­è‡ªåŠ¨åˆ é™¤ï¼Œç¡®ä¿åŠ è½½å™¨èƒ½è¯»å–</span>
                    suffix=<span class="hljs-string">f".<span class="hljs-subst">{file_suffix}</span>"</span>,  <span class="hljs-comment"># ä¿ç•™æ–‡ä»¶åç¼€ï¼Œé¿å…åŠ è½½å™¨è§£æé”™è¯¯</span>
                    mode=<span class="hljs-string">'wb'</span>  <span class="hljs-comment"># äºŒè¿›åˆ¶å†™å…¥æ¨¡å¼</span>
            ) <span class="hljs-keyword">as</span> tmp_file:
                tmp_file.write(file.getvalue())  <span class="hljs-comment"># å†™å…¥æ–‡ä»¶å†…å®¹</span>
                tmp_file_path = tmp_file.name  <span class="hljs-comment"># è®°å½•ä¸´æ—¶æ–‡ä»¶è·¯å¾„</span>

            <span class="hljs-comment"># -------------------------- ï¼ˆ2ï¼‰æ–‡æ¡£åŠ è½½ï¼ˆæŒ‰æ ¼å¼é€‚é…ï¼‰ -------------------------</span>
            <span class="hljs-comment"># æ ¹æ®æ–‡ä»¶åç¼€é€‰æ‹©å¯¹åº”çš„æ–‡æ¡£åŠ è½½å™¨</span>
            <span class="hljs-keyword">if</span> file_suffix == <span class="hljs-string">'pdf'</span>:
                loader = PyPDFLoader(tmp_file_path)  <span class="hljs-comment"># PDFåŠ è½½å™¨</span>
            <span class="hljs-keyword">elif</span> file_suffix == <span class="hljs-string">'docx'</span>:
                loader = Docx2txtLoader(tmp_file_path)  <span class="hljs-comment"># DOCXåŠ è½½å™¨</span>
            <span class="hljs-keyword">elif</span> file_suffix <span class="hljs-keyword">in</span> [<span class="hljs-string">'txt'</span>, <span class="hljs-string">'md'</span>]:
                loader = TextLoader(tmp_file_path, encoding=<span class="hljs-string">'utf-8'</span>)  <span class="hljs-comment"># æ–‡æœ¬æ–‡ä»¶åŠ è½½å™¨ï¼ˆæ”¯æŒUTF-8ç¼–ç ï¼‰</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>,
                    <span class="hljs-string">"message"</span>: <span class="hljs-string">f"ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹ï¼š<span class="hljs-subst">{file_suffix}</span>ï¼Œå½“å‰æ”¯æŒï¼špdf/docx/txt/md"</span>
                }

            <span class="hljs-comment"># åŠ è½½æ–‡æ¡£å†…å®¹ï¼ˆè¿”å›Documentå¯¹è±¡åˆ—è¡¨ï¼Œæ¯ä¸ªå¯¹è±¡å«page_contentå’Œmetadataï¼‰</span>
            documents = loader.load()
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> documents:  <span class="hljs-comment"># å¤„ç†ç©ºæ–‡æ¡£æƒ…å†µ</span>
                <span class="hljs-keyword">return</span> {<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"message"</span>: <span class="hljs-string">"æ–‡æ¡£åŠ è½½å¤±è´¥ï¼šå†…å®¹ä¸ºç©ºæˆ–æ— æ³•è§£æ"</span>}

            <span class="hljs-comment"># -------------------------- ï¼ˆ3ï¼‰æ–‡æœ¬åˆ†å—ï¼ˆè§£å†³é•¿æ–‡æœ¬é—®é¢˜ï¼‰ ---------------------</span>
            <span class="hljs-comment"># åˆå§‹åŒ–æ–‡æœ¬åˆ†å—å™¨ï¼ˆè§£å†³é•¿æ–‡æœ¬è¶…å‡ºæ¨¡å‹ä¸Šä¸‹æ–‡çª—å£çš„é—®é¢˜ï¼‰</span>
            text_splitter = RecursiveCharacterTextSplitter(
                chunk_size=<span class="hljs-number">1000</span>,  <span class="hljs-comment"># æ¯ä¸ªç‰‡æ®µçš„å­—ç¬¦æ•°ï¼ˆæ ¹æ®æ¨¡å‹ä¸Šä¸‹æ–‡è°ƒæ•´ï¼‰</span>
                chunk_overlap=<span class="hljs-number">200</span>,  <span class="hljs-comment"># ç‰‡æ®µé—´é‡å å­—ç¬¦æ•°ï¼ˆä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§ï¼‰</span>
                separators=[<span class="hljs-string">"\n\n"</span>, <span class="hljs-string">"\n"</span>, <span class="hljs-string">"ã€‚"</span>, <span class="hljs-string">" "</span>, <span class="hljs-string">""</span>]  <span class="hljs-comment"># ä¼˜å…ˆæŒ‰ä¸­æ–‡æ ‡ç‚¹åˆ†å‰²ï¼Œæå‡åˆ†å—åˆç†æ€§</span>
            )
            <span class="hljs-comment"># å°†æ–‡æ¡£åˆ†å‰²ä¸ºç‰‡æ®µï¼ˆæ¯ä¸ªç‰‡æ®µä½œä¸ºç‹¬ç«‹å•å…ƒå­˜å…¥å‘é‡åº“ï¼‰</span>
            splits = text_splitter.split_documents(documents)

            <span class="hljs-comment"># -------------------------- ï¼ˆ4ï¼‰å‘é‡å­˜å‚¨ --------------------------</span>
            <span class="hljs-comment"># å°†ç‰‡æ®µæ·»åŠ åˆ°å‘é‡æ•°æ®åº“</span>
            <span class="hljs-keyword">if</span> self.vectordb:
                <span class="hljs-comment"># è‹¥æ•°æ®åº“å·²å­˜åœ¨ï¼Œç›´æ¥æ·»åŠ æ–°ç‰‡æ®µ</span>
                self.vectordb.add_documents(splits)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># è‹¥æ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°åº“å¹¶æ·»åŠ ç‰‡æ®µ</span>
                self.vectordb = Chroma.from_documents(
                    documents=splits,
                    embedding=self.embeddings,  <span class="hljs-comment"># ä½¿ç”¨åˆå§‹åŒ–çš„åµŒå…¥æ¨¡å‹</span>
                    persist_directory=self.persist_directory  <span class="hljs-comment"># æŒ‡å®šå­˜å‚¨è·¯å¾„</span>
                )

            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">"success"</span>: <span class="hljs-literal">True</span>,
                <span class="hljs-string">"message"</span>: <span class="hljs-string">f"æ–‡æ¡£å¤„ç†æˆåŠŸï¼å…±æ·»åŠ  <span class="hljs-subst">{<span class="hljs-built_in">len</span>(splits)}</span> ä¸ªæ–‡æœ¬ç‰‡æ®µï¼ˆæ–‡ä»¶ï¼š<span class="hljs-subst">{file_name}</span>ï¼‰"</span>
            }

        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:  <span class="hljs-comment"># æ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œè¿”å›å…·ä½“é”™è¯¯ä¿¡æ¯</span>
            <span class="hljs-keyword">return</span> {<span class="hljs-string">"success"</span>: <span class="hljs-literal">False</span>, <span class="hljs-string">"message"</span>: <span class="hljs-string">f"æ–‡æ¡£å¤„ç†å¤±è´¥ï¼ˆ<span class="hljs-subst">{file_name}</span>ï¼‰ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>}
        <span class="hljs-keyword">finally</span>:
            <span class="hljs-comment"># -------------------------- ï¼ˆ5ï¼‰ä¸´æ—¶æ–‡ä»¶æ¸…ç† --------------------------</span>
            <span class="hljs-comment"># ç¡®ä¿ä¸´æ—¶æ–‡ä»¶è¢«æ¸…ç†ï¼ˆæ— è®ºå¤„ç†æˆåŠŸ/å¤±è´¥ï¼‰</span>
            <span class="hljs-keyword">if</span> tmp_file_path <span class="hljs-keyword">and</span> os.path.exists(tmp_file_path):
                <span class="hljs-keyword">try</span>:
                    os.remove(tmp_file_path)
                <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è­¦å‘Šï¼šä¸´æ—¶æ–‡ä»¶æ¸…ç†å¤±è´¥ï¼ˆè·¯å¾„ï¼š<span class="hljs-subst">{tmp_file_path}</span>ï¼‰ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
</code></pre>
<p>è´Ÿè´£å°†ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£è½¬æ¢ä¸ºå‘é‡å¹¶å­˜å‚¨ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol start="0">
<li>
<p><strong>æ–‡ä»¶æœ‰æ•ˆæ€§æ ¡éªŒä¸ä¸´æ—¶æ–‡ä»¶åˆ›å»ºï¼š</strong></p>
<ul>
<li>æ ¡éªŒæ–‡ä»¶å¯¹è±¡æ˜¯å¦åŒ…å« <code>name</code>ï¼ˆæ–‡ä»¶åï¼‰å’Œ <code>getvalue()</code>ï¼ˆè·å–äºŒè¿›åˆ¶å†…å®¹ï¼‰æ–¹æ³•ï¼›</li>
<li>é€šè¿‡ <code>tempfile.NamedTemporaryFile</code> åˆ›å»ºä¸´æ—¶æ–‡ä»¶ï¼Œå†™å…¥ä¸Šä¼ æ–‡ä»¶çš„äºŒè¿›åˆ¶å†…å®¹ï¼ˆé¿å…ç›´æ¥æ“ä½œå†…å­˜æ•°æ®ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ–‡æ¡£åŠ è½½ï¼ˆæŒ‰æ ¼å¼é€‚é…ï¼‰ï¼š</strong></p>
<p>æ ¹æ®æ–‡ä»¶åç¼€é€‰æ‹©å¯¹åº”çš„ LangChain åŠ è½½å™¨ï¼Œæ”¯æŒ 4 ç§æ ¼å¼ï¼š</p>

























<table><thead><tr><th>æ–‡ä»¶æ ¼å¼</th><th>åŠ è½½å™¨</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td>PDF</td><td><code>PyPDFLoader</code></td><td>è§£æ PDF æ¯é¡µå†…å®¹ï¼Œç”Ÿæˆ Document å¯¹è±¡</td></tr><tr><td>DOCX</td><td><code>Docx2txtLoader</code></td><td>æå– DOCX æ–‡æœ¬å†…å®¹ï¼ˆå¿½ç•¥æ ¼å¼ï¼‰</td></tr><tr><td>TXT/MD</td><td><code>TextLoader</code></td><td>è¯»å–çº¯æ–‡æœ¬ï¼ŒæŒ‡å®š UTF-8 ç¼–ç </td></tr></tbody></table>
</li>
<li>
<p><strong>æ–‡æœ¬åˆ†å—ï¼ˆè§£å†³é•¿æ–‡æœ¬é—®é¢˜ï¼‰ï¼š</strong></p>
<p>ä½¿ç”¨ <code>RecursiveCharacterTextSplitter</code> è¿›è¡Œæ™ºèƒ½åˆ†å—ï¼Œæ ¸å¿ƒé…ç½®ï¼š</p>
<ul>
<li><code>chunk_size=1000</code>ï¼šæ¯ä¸ªæ–‡æœ¬ç‰‡æ®µæœ€å¤š 1000 å­—ç¬¦ï¼ˆé€‚é… LLM ä¸Šä¸‹æ–‡çª—å£ï¼‰ï¼›</li>
<li><code>chunk_overlap=200</code>ï¼šç‰‡æ®µé—´é‡å  200 å­—ç¬¦ï¼ˆé¿å…ä¸Šä¸‹æ–‡æ–­è£‚ï¼Œæ¯”å¦‚ä¸€ä¸ªäº‹ä»¶æè¿°è·¨ç‰‡æ®µï¼‰ï¼›</li>
<li><code>separators=["\n\n", "\n", "ã€‚", " ", ""]</code>ï¼šä¼˜å…ˆæŒ‰å¤§åˆ†éš”ç¬¦ï¼ˆå¦‚ <code>\n\n</code> æ®µè½ï¼‰åˆ†å‰²ï¼Œåˆ†å‰²å¤±è´¥å†ç”¨å°åˆ†éš”ç¬¦ï¼ˆå¦‚ <code>ã€‚</code> ä¸­æ–‡å¥æœ«ï¼‰ï¼Œæœ€å¤§ç¨‹åº¦ä¿è¯è¯­ä¹‰å®Œæ•´æ€§ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘é‡åŒ–å­˜å‚¨ï¼š</strong></p>
<p>è´Ÿè´£å°†æ–‡æœ¬ï¼ˆé—®é¢˜ã€æ–‡æ¡£ç‰‡æ®µï¼‰è½¬æ¢ä¸ºé«˜ç»´å‘é‡ï¼Œæ˜¯ã€Œæ£€ç´¢ã€çš„æ ¸å¿ƒåŸºç¡€ï¼Œå¹¶å­˜å…¥å‘é‡æ•°æ®åº“ä¸­ã€‚</p>
<ul>
<li>è‹¥å‘é‡æ•°æ®åº“å·²å­˜åœ¨ï¼ˆ<code>self.vectordb</code> éç©ºï¼‰ï¼Œç›´æ¥æ·»åŠ æ–°åˆ†å—ï¼›</li>
<li>è‹¥ä¸å­˜åœ¨ï¼Œé€šè¿‡ <code>Chroma.from_documents</code> åˆå§‹åŒ–æ•°æ®åº“å¹¶å†™å…¥åˆ†å—å‘é‡ï¼ŒåŒæ—¶æŒ‡å®šæŒä¹…åŒ–è·¯å¾„ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸´æ—¶æ–‡ä»¶æ¸…ç†ï¼š</strong></p>
<p>é€šè¿‡ <code>finally</code> å—ç¡®ä¿æ— è®ºå¤„ç†æˆåŠŸ / å¤±è´¥ï¼Œä¸´æ—¶æ–‡ä»¶éƒ½ä¼šè¢«åˆ é™¤ï¼Œé¿å…ç£ç›˜å ç”¨ã€‚</p>
</li>
</ol>
<h6 data-id="heading-21">å››ã€é—®ç­”ç”Ÿæˆï¼š<code>get_answer_stream(question, chat_history)</code></h6>
<p>è¯¥æ–¹æ³•æ˜¯ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„æ ¸å¿ƒæ‰§è¡Œå…¥å£ï¼Œå®ç°æ£€ç´¢ç›¸å…³æ–‡æ¡£â†’é‡æ’â†’ç»“åˆå†å²å¯¹è¯â†’è°ƒç”¨LLMæµå¼ç”Ÿæˆè¾“å‡ºã€‚æ ¸å¿ƒç›®æ ‡æ˜¯ï¼šè®© LLM åŸºäºã€Œç”¨æˆ·é—®é¢˜ + å†å²å¯¹è¯ + ç›¸å…³æ–‡æ¡£ç‰‡æ®µã€ç”Ÿæˆç²¾å‡†ã€æœ‰ä¾æ®çš„ç­”æ¡ˆï¼ŒåŒæ—¶æ”¯æŒä¸Šä¸‹æ–‡è¿è´¯å¯¹è¯ï¼Œæµå¼è¾“å‡ºã€‚</p>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_answer_stream</span>(<span class="hljs-params">self, question: <span class="hljs-built_in">str</span></span>) -&gt; Generator[<span class="hljs-built_in">str</span>, <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>]:
        <span class="hljs-string">"""
        åŸºäºRAGæŠ€æœ¯ç”Ÿæˆé—®é¢˜ç­”æ¡ˆï¼Œå®ç°æµå¼è¾“å‡ºï¼Œé€å—äº§ç”Ÿå›ç­”å†…å®¹ã€‚
        æ ¸å¿ƒæµç¨‹ï¼šæ£€ç´¢ç›¸å…³æ–‡æ¡£ç‰‡æ®µ â†’ç»“åˆå¯¹è¯å†å² â†’ æ‹¼æ¥æç¤ºè¯ â†’ è°ƒç”¨LLMç”Ÿæˆç­”æ¡ˆã€‚
        Args:
            question: ç”¨æˆ·å½“å‰çš„é—®é¢˜ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼Œéç©ºï¼‰
        Returns:
            ç”Ÿæˆçš„ç­”æ¡ˆå­—ç¬¦ä¸²ï¼›è‹¥å‘ç”Ÿé”™è¯¯ï¼Œè¿”å›é”™è¯¯æç¤ºï¼›è‹¥æœªä¸Šä¼ æ–‡æ¡£ï¼Œè¿”å›å¼•å¯¼æç¤º
        """</span>
        <span class="hljs-comment"># é‡ç½®å½“å‰æµå¼å›ç­”</span>
        self.current_stream_answer = <span class="hljs-string">""</span>

        <span class="hljs-comment"># -------------------------- 1. æ£€æŸ¥å‘é‡æ•°æ®åº“æ˜¯å¦åˆå§‹åŒ–ï¼ˆæ˜¯å¦å·²ä¸Šä¼ æ–‡æ¡£ï¼‰ -------------</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.vectordb:
            <span class="hljs-keyword">yield</span> <span class="hljs-string">"è¯·å…ˆä¸Šä¼ å¹¶å¤„ç†æ–‡æ¡£ï¼Œæ‰èƒ½è¿›è¡Œé—®ç­”å“¦~"</span>
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> question <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(question, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">or</span> question.strip() == <span class="hljs-string">""</span>:
            <span class="hljs-keyword">yield</span> <span class="hljs-string">"è¯·è¾“å…¥æœ‰æ•ˆçš„é—®é¢˜å†…å®¹~"</span>
            <span class="hljs-keyword">return</span>

        <span class="hljs-comment"># -------------------------- 2. å¯¹è¯å†å²è®°å¿†åŠ è½½ï¼ˆé€‚é…é•¿å¯¹è¯ï¼‰ -----------------------</span>
        <span class="hljs-comment"># ä¸Šä¸‹æ–‡ç®¡ç†</span>
        combine_contexts = []
        <span class="hljs-comment"># åŠ è½½å¯¹è¯å†å²è®°å¿†ï¼Œè®¾ç½®çª—å£å¤§å° k=50ï¼ˆä¿ç•™æœ€è¿‘100è½®å¯¹è¯,æ»‘åŠ¨çª—å£æœºåˆ¶ï¼‰ï¼Œåœ¨ç»´æŒå¯¹è¯è¿è´¯æ€§çš„åŒæ—¶ï¼Œé¿å…å†å²è®°å½•è¿‡é•¿å¯¼è‡´çš„ Token è¶…é™é—®é¢˜ã€‚</span>
        <span class="hljs-keyword">for</span> msg <span class="hljs-keyword">in</span> self.memory.load_memory_variables({})[<span class="hljs-string">"chat_history"</span>]:
            combine_contexts.append(msg)

        <span class="hljs-comment"># ------------------------ 3. æ–‡æ¡£æ£€ç´¢ï¼šè·å–é—®é¢˜ç›¸å…³çš„äº‹å®ä¾æ® ------------------------</span>
        <span class="hljs-comment"># åˆ›å»ºå‘é‡æ•°æ®åº“æ£€ç´¢å™¨ï¼Œæ ¹æ®é—®é¢˜æ£€ç´¢ç›¸å…³æ–‡æ¡£ç‰‡æ®µ</span>
        retriever = self.vectordb.as_retriever(search_kwargs={<span class="hljs-string">"k"</span>: <span class="hljs-number">5</span>})
        relevant_docs = retriever.invoke(question)

        <span class="hljs-comment"># ------------------------ 4. å¯¹æ£€ç´¢çš„ç›¸å…³æ–‡æ¡£è¿›è¡Œé‡æ’ ------------------------</span>
        <span class="hljs-keyword">if</span> self.reranker_model <span class="hljs-keyword">and</span> self.enable_reranker:
            filters_docs = self.reranker_model.rerank_documents(
                query=question,
                documents=relevant_docs,
                top_n=self.rerank_top_n,
                score_threshold=self.rerank_score_threshold
            )
            <span class="hljs-keyword">if</span> filters_docs:  <span class="hljs-comment"># è‹¥æœªé‡æ’æœªç­›é€‰åˆ°æ–‡æ¡£,å°±è‡ªåŠ¨é€‰å–å‰rerank_top_nä¸ªæ£€ç´¢çš„ç›¸å…³æ–‡æ¡£</span>
                relevant_docs = filters_docs
                logger.info(<span class="hljs-string">f"é‡æ’åæå– <span class="hljs-subst">{<span class="hljs-built_in">len</span>(relevant_docs)}</span> ä¸ªç›¸å…³æ–‡æœ¬å—"</span>)
            <span class="hljs-keyword">else</span>:
                relevant_docs = relevant_docs[:self.rerank_top_n]
                logger.info(<span class="hljs-string">f"é‡æ’åæœªç­›é€‰åˆ°æ–‡æ¡£ï¼Œæå–æ£€ç´¢çš„ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(relevant_docs)}</span> ä¸ªç›¸å…³æ–‡æœ¬å—"</span>)

        <span class="hljs-comment"># -------------------------- 5. æç¤ºè¯æ„å»ºï¼šæ‹¼æ¥å®Œæ•´æç¤ºè¯ --------------------------</span>
        <span class="hljs-comment"># æå–ç‰‡æ®µå†…å®¹ï¼Œæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼ˆä¾¿äºæ‹¼æ¥æç¤ºï¼‰</span>
        context_text = <span class="hljs-string">"\n\n"</span>.join([doc.page_content <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> relevant_docs])

        <span class="hljs-comment"># ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿ï¼šæ˜ç¡®LLMè§’è‰²ã€å›ç­”è§„åˆ™ï¼ˆé¿å…å¹»è§‰ï¼‰å’Œè¾“å…¥ç»“æ„ï¼ˆContext/History/Questionï¼‰</span>
        system_prompt = <span class="hljs-string">"""
        ä½ æ˜¯åŸºäºæ–‡æ¡£çš„é—®ç­”åŠ©æ‰‹ï¼Œä»…ä½¿ç”¨ä»¥ä¸‹æä¾›çš„æ–‡æ¡£ç‰‡æ®µï¼ˆContextï¼‰å›ç­”é—®é¢˜ã€‚
        å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œç›´æ¥è¯´â€œæ ¹æ®æä¾›çš„æ–‡æ¡£ï¼Œæ— æ³•å›ç­”è¯¥é—®é¢˜â€ï¼Œä¸è¦ç¼–é€ å†…å®¹ã€‚
        å›ç­”éœ€ç®€æ´ã€å‡†ç¡®ï¼Œç»“åˆå†å²å¯¹è¯ï¼ˆHistoryï¼‰ç†è§£ä¸Šä¸‹æ–‡ï¼Œæ¯ä¸€æ¬¡å›ç­”è¦é‡æ–°å®¡è§†å½“å‰æä¾›çš„å†…å®¹ï¼Œä¸è¦åªæ˜¯ç®€å•é‡å¤å†å²å›ç­”ã€‚

        Context:
        {context_text}

        Current Question: {question}

        Answer:
        """</span>
        <span class="hljs-comment"># ä½¿ç”¨æ£€ç´¢çš„ç›¸å…³æ–‡æ¡£ç‰‡æ®µå’Œç”¨æˆ·è¾“å…¥é—®é¢˜æ ¼å¼åŒ–æç¤ºæ¨¡æ¿</span>
        final_prompt = system_prompt.<span class="hljs-built_in">format</span>(
            context_text=context_text,
            question=question
        )
        <span class="hljs-comment"># æ·»åŠ æœ€ç»ˆæç¤ºåˆ°ä¸Šä¸‹æ–‡ä¸­</span>
        combine_contexts.append(HumanMessage(content=final_prompt))

        logger.info(<span class="hljs-string">f"combine_contexts:<span class="hljs-subst">{combine_contexts}</span>"</span>)

        <span class="hljs-comment"># -------------------------- 6. æµå¼è°ƒç”¨LLMï¼šé€å—ç”Ÿæˆå¹¶è¿”å›ç­”æ¡ˆ ----------------------</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># æµå¼è°ƒç”¨LLMï¼šllm.stream()è¿”å›ç”Ÿæˆå™¨ï¼Œé€å—è·å–LLMè¾“å‡ºï¼ˆè€Œéç­‰å¾…å®Œæ•´ç­”æ¡ˆï¼‰</span>
            <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> self.llm.stream(combine_contexts):     
                <span class="hljs-comment"># å®æ—¶è¿”å›è¾“å‡ºå†…å®¹</span>
                <span class="hljs-keyword">if</span> chunk.content:
                    <span class="hljs-keyword">yield</span> chunk.content
                    self.current_stream_answer += chunk.content

            <span class="hljs-comment"># å®Œæ•´ç­”æ¡ˆç”Ÿæˆåï¼Œæ›´æ–°å¯¹è¯è®°å¿†ï¼šå°†æœ¬æ¬¡é—®ç­”ï¼ˆé—®é¢˜+å®Œæ•´ç­”æ¡ˆï¼‰å­˜å…¥è®°å¿†ï¼Œä¾›ä¸‹ä¸€è½®å¯¹è¯å¤ç”¨</span>
            self.memory.save_context(
                inputs={<span class="hljs-string">"input"</span>: question},
                outputs={<span class="hljs-string">"answer"</span>: self.current_stream_answer}
            )

            logger.info(<span class="hljs-string">f"self.memory.save_context:<span class="hljs-subst">{self.memory.model_dump_json()}</span>"</span>)

        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            logger.error(<span class="hljs-string">f"é”™è¯¯ï¼šç­”æ¡ˆç”Ÿæˆå¤±è´¥ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
            <span class="hljs-keyword">yield</span> <span class="hljs-string">"æŠ±æ­‰ï¼Œå¤„ç†é—®é¢˜æ—¶å‘ç”Ÿé”™è¯¯ï¼Œè¯·ç¨åå†è¯•~"</span>
</code></pre>
<p><strong>æµç¨‹å¦‚ä¸‹ï¼š</strong></p>
<ol start="0">
<li>
<p><strong>å‰ç½®æ ¡éªŒ</strong></p>
<ul>
<li>æ£€æŸ¥å‘é‡æ•°æ®åº“æ˜¯å¦åˆå§‹åŒ–ï¼ˆå³æ˜¯å¦å·²ä¸Šä¼ æ–‡æ¡£ï¼‰ ã€‚</li>
<li>æ£€æŸ¥ç”¨æˆ·é—®é¢˜æ˜¯å¦æœ‰æ•ˆï¼ˆéç©ºå­—ç¬¦ä¸²ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¯¹è¯å†å²åŠ è½½</strong></p>
<p>é€šè¿‡ <code>ConversationBufferWindowMemoryï¼ˆæ»‘åŠ¨çª—å£è®°å¿†ï¼‰</code> ç®¡ç†å¯¹è¯å†å²ï¼Œé…ç½® <code>k=50</code>ï¼Œä»…ä¿ç•™æœ€è¿‘ 50 è½®å¯¹è¯ï¼ˆ1 è½® = 1 æ¬¡ç”¨æˆ·æé—® + 1 æ¬¡åŠ©æ‰‹å›ç­”ï¼‰ï¼Œæ—¢ä¿è¯å¯¹è¯è¿è´¯æ€§ï¼Œåˆé¿å…é•¿å¯¹è¯å¯¼è‡´çš„ Token è¶…é™é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>æ£€ç´¢ç›¸å…³æ–‡æ¡£ï¼ˆè·å–å›ç­”çš„äº‹å®ä¾æ®ï¼‰</strong></p>
<p>åŸºäºå‘é‡æ£€ç´¢æŠ€æœ¯ï¼Œä»å·²ä¸Šä¼ æ–‡æ¡£ä¸­æå–ä¸ç”¨æˆ·é—®é¢˜è¯­ä¹‰ç›¸ä¼¼çš„æ–‡æœ¬ç‰‡æ®µï¼š</p>
<ul>
<li>å°†å‘é‡æ•°æ®åº“è½¬ä¸ºæ£€ç´¢å™¨ï¼ˆ<code>self.vectordb.as_retriever</code>ï¼‰ï¼›</li>
<li>é…ç½® <code>search_kwargs={"k": 5}</code>ï¼šæ£€ç´¢ä¸ç”¨æˆ·é—®é¢˜æœ€ç›¸å…³çš„ 5 ä¸ªæ–‡æœ¬ç‰‡æ®µï¼ˆ<code>k</code> å€¼å¯è°ƒæ•´ï¼Œå¹³è¡¡ç›¸å…³æ€§ä¸ä¸Šä¸‹æ–‡é•¿åº¦ï¼‰ï¼›</li>
<li>æå–æ£€ç´¢ç»“æœçš„æ–‡æœ¬å†…å®¹ï¼Œæ‹¼æ¥ä¸º <code>context_text</code>ï¼ˆä¾› LLM å‚è€ƒï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ£€ç´¢æ–‡æ¡£é‡æ’ï¼ˆæå‡æ–‡æ¡£ç›¸å…³æ€§ç²¾åº¦ï¼‰</strong></p>
<p>å¯¹åŸå§‹æ£€ç´¢ç»“æœè¿›è¡Œç²¾ç»†åŒ–ç­›é€‰ï¼Œè¿›ä¸€æ­¥æå‡æ–‡æ¡£ä¸é—®é¢˜çš„åŒ¹é…åº¦ï¼š</p>
<ul>
<li>è‹¥é…ç½®äº†é‡æ’æ¨¡å‹ï¼ˆ<code>self.reranker_model</code>ï¼‰ï¼Œåˆ™è°ƒç”¨æ¨¡å‹å¯¹åŸå§‹æ£€ç´¢çš„æ–‡æœ¬ç‰‡æ®µè¿›è¡Œé‡æ’ï¼›</li>
<li>é‡æ’è§„åˆ™ï¼šæŒ‰ã€Œç›¸å…³æ€§åˆ†æ•°ã€ç­›é€‰ Top-N ä¸ªç‰‡æ®µï¼ˆ<code>top_n</code> å¯é…ç½®ï¼‰ï¼Œå¹¶è¿‡æ»¤åˆ†æ•°ä½äºé˜ˆå€¼ï¼ˆ<code>score_threshold</code>ï¼‰çš„ç‰‡æ®µï¼›</li>
<li>é™çº§å¤„ç†ï¼šè‹¥é‡æ’åæ— ç¬¦åˆæ¡ä»¶çš„ç‰‡æ®µï¼Œåˆ™é»˜è®¤é€‰å–åŸå§‹æ£€ç´¢ç»“æœçš„å‰ N ä¸ªç‰‡æ®µã€‚</li>
</ul>
</li>
<li>
<p><strong>ç»„åˆæç¤ºè¯</strong></p>
<ul>
<li><strong>åˆå§‹åŒ–ä¸Šä¸‹æ–‡å¯¹è¯åˆ—è¡¨</strong>ï¼šcombine_contexts = []ã€‚</li>
<li><strong>æ·»åŠ å†å²å¯¹è¯è®°å¿†</strong>ï¼šä»è®°å¿†ä¸­åŠ è½½æœ€è¿‘å¯¹è¯åˆ—è¡¨ï¼ˆMessageå¯¹è±¡ï¼‰åˆ°ä¸Šä¸‹æ–‡å¯¹è¯ä¸­ï¼Œè®© LLM æ¸…æ™°è¯†åˆ«å†å²äº¤äº’é€»è¾‘ã€‚</li>
<li><strong>å®šä¹‰æç¤ºè¯æ¨¡æ¿ï¼ˆ<code>system_prompt</code>ï¼‰</strong> ï¼šå®šä¹‰ LLM çš„è§’è‰²ã€å›ç­”è§„åˆ™ï¼Œå¦‚ï¼šä»…ä½¿ç”¨æä¾›çš„æ–‡æ¡£ç‰‡æ®µå›ç­”ï¼Œæ— ç›¸å…³ä¿¡æ¯æ—¶æ˜ç¡®å‘ŠçŸ¥ï¼Œä¸ç¼–é€ å†…å®¹ã€‚</li>
<li><strong>æ ¼å¼åŒ–æç¤ºæ¨¡æ¿</strong>ï¼šå°†<code>context_text</code>ï¼ˆæ£€ç´¢åˆ°çš„æ–‡æ¡£ï¼‰ã€<code>question</code>ï¼ˆå½“å‰é—®é¢˜ï¼‰ æ ¼å¼åŒ–æç¤ºæ¨¡æ¿ï¼Œç”Ÿæˆç»“æ„åŒ–çš„ <code>final_prompt</code>ï¼Œå¹¶ä½œä¸ºç”¨æˆ·è¾“å…¥æ·»åŠ åˆ°ä¸Šä¸‹æ–‡å¯¹è¯ä¸­ã€‚</li>
</ul>
</li>
</ol>
<ul>
<li>
<p><strong>æµå¼è°ƒç”¨LLMè¾“å‡ºç»“æœåŠè®°å¿†æ›´æ–°</strong></p>
<p>å®ç°æµå¼è¾“å‡ºå›ç­”ï¼Œå¹¶å°†æœ¬æ¬¡äº¤äº’å­˜å…¥è®°å¿†ä»¥æ”¯æ’‘åç»­å¯¹è¯ï¼š</p>
<ul>
<li><strong>æµå¼ç”Ÿæˆå›ç­”</strong>ï¼šè°ƒç”¨ <code>self.llm.stream(combine_contexts)</code>ï¼Œå°†å®Œæ•´ä¸Šä¸‹æ–‡æäº¤ç»™ LLMï¼Œé€å—è¯»å–ç”Ÿæˆå™¨ä¸­çš„å“åº”ç‰‡æ®µå¹¶å®æ—¶è¿”å›ç»™ç”¨æˆ·ï¼ŒåŒæ—¶å°†ç‰‡æ®µæ‹¼æ¥ä¸º <code>self.current_stream_answer</code>ï¼ˆå®Œæ•´ç­”æ¡ˆï¼‰ï¼›</li>
<li><strong>å¯¹è¯è®°å¿†æ›´æ–°</strong>ï¼šå½“å®Œæ•´ç­”æ¡ˆç”Ÿæˆåï¼Œå°†æœ¬æ¬¡é—®ç­”å¯¹ï¼ˆç”¨æˆ·é—®é¢˜ <code>question</code> + å®Œæ•´ç­”æ¡ˆ <code>self.current_stream_answer</code>ï¼‰å­˜å…¥è®°å¿† <code>ConversationBufferWindowMemory</code>ï¼Œä¾›ä¸‹ä¸€è½®å¯¹è¯ã€‚</li>
</ul>
<p>æµå¼è¾“å‡ºæå‡ç”¨æˆ·ä½“éªŒï¼Œè®°å¿†æ›´æ–°ä¿éšœä¸‹ä¸€è½®å¯¹è¯å¯å¤ç”¨æœ¬æ¬¡äº¤äº’ä¿¡æ¯ï¼Œç»´æŒä¸Šä¸‹æ–‡è¿è´¯ã€‚</p>
</li>
</ul>
<h6 data-id="heading-22">äº”ã€æ¸…ç©ºæ•°æ®åº“<code>clear_database()</code></h6>
<p>æ”¯æŒé‡æ–°ä¸Šä¼ æ–‡æ¡£ã€æ¸…ç©ºå†å²çŸ¥è¯†ã€‚</p>
<pre><code class="hljs language-python" lang="python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">clear_database</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""æ¸…ç©ºå‘é‡æ•°æ®åº“"""</span>
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">if</span> self.vectordb:
                self.vectordb.reset_collection()

            <span class="hljs-comment"># æ¸…é™¤è®°å¿†</span>
            self.memory.clear()
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é”™è¯¯ï¼šæ•°æ®åº“æ¸…ç©ºå¤±è´¥ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<p>æ¸…ç©º Chroma å‘é‡æ•°æ®åº“çš„é›†åˆå†…æ•°æ®ï¼ˆ<code>reset_collection</code>ï¼‰ã€‚</p>
<h5 data-id="heading-23">7 å‰ç«¯ç•Œé¢ï¼ˆmain.pyï¼‰</h5>
<p>é€šè¿‡ Streamlit æ¡†æ¶æ­å»º Web äº¤äº’ç•Œé¢ï¼Œé€šè¿‡ â€œä¸Šä¼ æ–‡æ¡£â†’æé—®â€ çš„æ“ä½œï¼Œè·å¾—åŸºäºæ–‡æ¡£çš„ç²¾å‡†å›ç­”ï¼ŒåŒæ—¶æ”¯æŒæµå¼è¾“å‡ºï¼ˆè¾¹ç”Ÿæˆè¾¹å±•ç¤ºï¼‰å’ŒèŠå¤©è¿ç»­æ€§ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import os
import sys

import streamlit as st
from dotenv import load_dotenv

<span class="hljs-comment"># å°†å½“å‰è„šæœ¬æ‰€åœ¨ç›®å½•åŠ å…¥Pythonæœç´¢è·¯å¾„ï¼ˆç¡®ä¿èƒ½æ‰¾åˆ°servicesç›®å½•ä¸‹çš„RAGServiceï¼‰</span>
<span class="hljs-attr">current_dir</span> = os.path.dirname(os.path.abspath(__file__))
sys.path.append(current_dir)

from services.rag_service_stream import RAGService

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-comment"># é…ç½®é¡µé¢æ ‡é¢˜ã€å›¾æ ‡ã€å¸ƒå±€</span>
st.set_page_config(
    <span class="hljs-attr">page_title</span>=<span class="hljs-string">"RAGçŸ¥è¯†é—®ç­”åŠ©æ‰‹"</span>,
    <span class="hljs-attr">page_icon</span>=<span class="hljs-string">":robot:"</span>,
    <span class="hljs-attr">layout</span>=<span class="hljs-string">"wide"</span>
)


<span class="hljs-comment"># åˆå§‹åŒ–Streamlitä¼šè¯çŠ¶æ€ï¼ˆè·¨åˆ·æ–°ä¿å­˜æ•°æ®ï¼Œé¿å…é¡µé¢åˆ·æ–°åæ•°æ®ä¸¢å¤±ï¼‰</span>
def initialize_app():
    <span class="hljs-comment"># åˆå§‹åŒ–ä¼šè¯çŠ¶æ€</span>
    if "history" not in st.session_state:
        <span class="hljs-attr">st.session_state.history</span> = []

    <span class="hljs-comment"># ç”¨äºé‡ç½®æ–‡ä»¶ä¸Šä¼ æ¡†çŠ¶æ€çš„ä¼šè¯å˜é‡</span>
    if "upload_key" not in st.session_state:
        <span class="hljs-attr">st.session_state.upload_key</span> = <span class="hljs-number">0</span>

    <span class="hljs-comment"># åˆå§‹åŒ–RAGé…ç½®å‚æ•°</span>
    if "retrieve_k" not in st.session_state:
        <span class="hljs-attr">st.session_state.retrieve_k</span> = <span class="hljs-number">6</span>  <span class="hljs-comment"># é»˜è®¤æ£€ç´¢æ–‡æ¡£æ•°é‡</span>
    if "enable_reranker" not in st.session_state:
        <span class="hljs-attr">st.session_state.enable_reranker</span> = <span class="hljs-literal">False</span>  <span class="hljs-comment"># é»˜è®¤å¼€å¯é‡æ’</span>
    if "rerank_top_n" not in st.session_state:
        <span class="hljs-attr">st.session_state.rerank_top_n</span> = <span class="hljs-number">5</span>  <span class="hljs-comment"># é‡æ’åä¿ç•™æ–‡æ¡£æ•°é‡</span>

    <span class="hljs-comment"># åˆå§‹åŒ–RAGæ ¸å¿ƒæœåŠ¡ï¼ˆå°è£…äº†æ–‡æ¡£å¤„ç†ã€å‘é‡å­˜å‚¨ã€æµå¼é—®ç­”çš„æ ¸å¿ƒé€»è¾‘ï¼‰</span>
    if "rag_service" not in st.session_state:
        <span class="hljs-attr">st.session_state.rag_service</span> = RAGService(
            <span class="hljs-attr">retrieve_k</span>=st.session_state.retrieve_k,
            <span class="hljs-attr">enable_reranker</span>=st.session_state.enable_reranker,
            <span class="hljs-attr">rerank_top_n</span>=st.session_state.rerank_top_n,
            <span class="hljs-comment"># é‡æ’æ¨¡å‹é…ç½®ï¼šç”¨äºå¯¹æ£€ç´¢ç»“æœè¿›è¡Œè¯­ä¹‰é‡æ’åº.é»˜è®¤ä½¿ç”¨BAAIçš„bge-reranker-v2-m3ï¼ˆä¸­æ–‡æ•ˆæœæ€§ä»·æ¯”è¾ƒé«˜ï¼‰ã€‚</span>
            <span class="hljs-comment"># è¿™é‡ŒåŠ è½½æœ¬åœ°è·¯å¾„æ¨¡å‹ï¼ˆéœ€æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ï¼‰</span>
            <span class="hljs-comment"># a.æ¨¡å‹æ–‡ä»¶è·å–åœ°å€ï¼šhttps://modelscope.cn/models/BAAI/bge-reranker-v2-m3</span>
            <span class="hljs-comment"># b.éœ€ä¸‹è½½æ–‡ä»¶ï¼šconfig.jsonã€model.safetensorsã€special_tokens_map.jsonã€tokenizer.jsonã€tokenizer_config.json</span>
            <span class="hljs-attr">model_name_or_path</span>=<span class="hljs-string">"../../data/models_reranker_data/BAAI/bge-reranker-v2-m3"</span>  <span class="hljs-comment"># æŒ‡å®šé‡æ’æ¨¡å‹æœ¬åœ°å­˜å‚¨è·¯å¾„</span>
        )


initialize_app()

<span class="hljs-comment"># å®šä¹‰ä¾§è¾¹æ åŒºåŸŸ</span>
with st.sidebar:
    st.subheader("RAGçŸ¥è¯†é—®ç­”åŠ©æ‰‹")

    <span class="hljs-comment"># RAGæ£€ç´¢é…ç½®åŒºåŸŸ</span>
    <span class="hljs-comment"># 1. æ£€ç´¢æ•°é‡æ§åˆ¶</span>
    <span class="hljs-attr">retrieve_k</span> = st.slider(
        "åˆå§‹æ£€ç´¢æ–‡æ¡£æ•°é‡ (retrieve_k)",
        <span class="hljs-attr">min_value</span>=<span class="hljs-number">1</span>, max_value=<span class="hljs-number">10</span>, value=st.session_state.retrieve_k, step=<span class="hljs-number">1</span>,
        <span class="hljs-attr">help</span>=<span class="hljs-string">"ä»å‘é‡åº“ä¸­åˆå§‹æ£€ç´¢çš„æ–‡æ¡£æ•°é‡ï¼Œæ•°é‡è¶Šå¤šè¦†ç›–èŒƒå›´è¶Šå¹¿ï¼Œä½†å¯èƒ½å¼•å…¥å™ªéŸ³"</span>
    )

    <span class="hljs-comment"># 2. é‡æ’åŠŸèƒ½å¼€å…³</span>
    <span class="hljs-attr">enable_reranker</span> = st.toggle(
        "å¼€å¯æ£€ç´¢ç»“æœé‡æ’",
        <span class="hljs-attr">value</span>=st.session_state.enable_reranker,
        <span class="hljs-attr">help</span>=<span class="hljs-string">"å¼€å¯åä¼šå¯¹æ£€ç´¢åˆ°çš„æ–‡æ¡£è¿›è¡Œè¯­ä¹‰é‡æ’åºï¼Œæå‡å›ç­”è´¨é‡ï¼Œä½†ä¼šå¢åŠ å“åº”æ—¶é—´"</span>
    )

    <span class="hljs-comment"># 3. é‡æ’åä¿ç•™æ•°é‡ï¼ˆä»…åœ¨å¼€å¯é‡æ’æ—¶å¯é…ç½®ï¼‰</span>
    <span class="hljs-attr">rerank_top_n</span> = st.slider(
        "é‡æ’åä¿ç•™æ–‡æ¡£æ•°é‡ (rerank_top_n)",
        <span class="hljs-attr">min_value</span>=<span class="hljs-number">1</span>, max_value=<span class="hljs-number">8</span>, value=st.session_state.rerank_top_n, step=<span class="hljs-number">1</span>,
        <span class="hljs-attr">help</span>=<span class="hljs-string">"é‡æ’åæœ€ç»ˆä¿ç•™çš„æ–‡æ¡£æ•°é‡ï¼Œéœ€å°äºç­‰äºåˆå§‹æ£€ç´¢æ•°é‡"</span>,
        <span class="hljs-attr">disabled</span>=not enable_reranker  <span class="hljs-comment"># å…³é—­é‡æ’æ—¶ç¦ç”¨è¯¥å‚æ•°</span>
    )

    <span class="hljs-comment"># é™åˆ¶rerank_top_nä¸è¶…è¿‡retrieve_k</span>
    if rerank_top_n &gt; retrieve_k:
        <span class="hljs-attr">rerank_top_n</span> = retrieve_k
        st.warning(f"é‡æ’ä¿ç•™æ•°é‡è‡ªåŠ¨è°ƒæ•´ä¸º {retrieve_k}ï¼ˆä¸è¶…è¿‡åˆå§‹æ£€ç´¢æ•°é‡ï¼‰")

    <span class="hljs-comment"># 4. åº”ç”¨é…ç½®æŒ‰é’®</span>
    if st.button("åº”ç”¨é…ç½®", <span class="hljs-attr">use_container_width</span>=<span class="hljs-literal">True</span>, type=<span class="hljs-string">"primary"</span>):
        <span class="hljs-comment"># æ›´æ–°ä¼šè¯çŠ¶æ€</span>
        <span class="hljs-attr">st.session_state.enable_reranker</span> = enable_reranker
        <span class="hljs-attr">st.session_state.retrieve_k</span> = retrieve_k
        <span class="hljs-attr">st.session_state.rerank_top_n</span> = rerank_top_n

        <span class="hljs-comment"># æ›´æ–°RAGServiceçš„é…ç½®</span>
        <span class="hljs-attr">st.session_state.rag_service.enable_reranker</span> = enable_reranker
        <span class="hljs-attr">st.session_state.rag_service.retrieve_k</span> = retrieve_k
        <span class="hljs-attr">st.session_state.rag_service.rerank_top_n</span> = rerank_top_n

        st.success("é…ç½®å·²æ›´æ–°ç”Ÿæ•ˆï¼")

    <span class="hljs-comment"># æ–‡æ¡£ç®¡ç†åŒºåŸŸ</span>
    st.divider()  <span class="hljs-comment"># æ·»åŠ åˆ†éš”çº¿</span>
    <span class="hljs-comment"># 1. å¤šæ–‡ä»¶ä¸Šä¼ ï¼ˆæ”¯æŒPDF/DOCX/TXT/MDï¼Œä¸RAGServiceæ”¯æŒçš„æ ¼å¼ä¸€è‡´ï¼‰</span>
    <span class="hljs-attr">uploaded_files</span> = st.file_uploader(
        "ä¸Šä¼ æ–‡æ¡£ (PDF/DOCX/txt/md)",
        <span class="hljs-attr">accept_multiple_files</span>=<span class="hljs-literal">True</span>,
        <span class="hljs-attr">key</span>=f<span class="hljs-string">"file_uploader_{st.session_state.upload_key}"</span>  <span class="hljs-comment"># åŠ¨æ€ç”Ÿæˆkey</span>
    )
    <span class="hljs-comment"># å¤„ç†ä¸Šä¼ çš„æ–‡ä»¶ï¼šè°ƒç”¨RAGServiceçš„process_documentæ–¹æ³•ï¼Œå®Œæˆâ€œè§£æâ†’åˆ†å—â†’å‘é‡åŒ–â†’å…¥åº“â€</span>
    if uploaded_files:
        with st.spinner("æ­£åœ¨å¤„ç†æ–‡æ¡£..."):
            for file in uploaded_files:
                st.session_state.rag_service.process_document(file)
            st.success(f"å·²æˆåŠŸå¤„ç† {len(uploaded_files)} ä¸ªæ–‡æ¡£")
            <span class="hljs-comment"># å¤„ç†å®Œæˆåé‡ç½®ä¸Šä¼ æ¡†ï¼šé€šè¿‡æ”¹å˜keyå€¼å®ç°</span>
            st.session_state.upload_key += 1

    <span class="hljs-comment"># 2. æ¸…ç©ºçŸ¥è¯†åº“ï¼ˆåˆ é™¤å‘é‡åº“æ•°æ®+æ¸…ç©ºèŠå¤©å†å²ï¼Œé‡ç½®æ•´ä¸ªé—®ç­”ç¯å¢ƒï¼‰</span>
    if st.button("æ¸…ç©ºçŸ¥è¯†åº“", <span class="hljs-attr">type</span>=<span class="hljs-string">"secondary"</span>, use_container_width=<span class="hljs-literal">True</span>):
        with st.spinner("æ­£åœ¨æ¸…ç©ºçŸ¥è¯†åº“..."):
            <span class="hljs-comment"># æ¸…ç©ºå‘é‡å­˜å‚¨</span>
            st.session_state.rag_service.clear_database()
            <span class="hljs-comment"># æ¸…ç©ºèŠå¤©å†å²</span>
            <span class="hljs-attr">st.session_state.history</span> = []
            st.success("çŸ¥è¯†åº“å·²æˆåŠŸæ¸…ç©º")

<span class="hljs-comment"># ä¸»ç•Œé¢ - èŠå¤©åŒºåŸŸ</span>
st.header("ä»0å¼€å§‹ï¼šç”¨ Streamlit + LangChainæ­å»ºä¸€ä¸ªç®€å•åŸºäºRAGé—®ç­”èŠå¤©åŠ©æ‰‹")

<span class="hljs-comment"># 1. å±•ç¤ºèŠå¤©å†å²ï¼ˆéå†session_state.historyï¼ŒæŒ‰è§’è‰²æ˜¾ç¤ºæ¶ˆæ¯ï¼‰</span>
for message in st.session_state.history:
    with st.chat_message(message<span class="hljs-section">["role"]</span>):
        st.markdown(message<span class="hljs-section">["content"]</span>)

<span class="hljs-comment"># 2. å¤„ç†ç”¨æˆ·è¾“å…¥</span>
<span class="hljs-attr">user_input</span> = st.chat_input(<span class="hljs-string">"è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨ï¼Ÿ"</span>)
if user_input:
    <span class="hljs-comment"># æ­¥éª¤1ï¼šå°†ç”¨æˆ·æ¶ˆæ¯æ·»åŠ åˆ°ä¼šè¯å†å²</span>
    st.session_state.history.append({"role": "user", "content": user_input})
    with st.chat_message("user"):
        st.markdown(user_input)

    <span class="hljs-comment"># æ­¥éª¤2ï¼šè°ƒç”¨RAGæœåŠ¡ç”Ÿæˆæµå¼å›ç­”ï¼Œå¹¶æ˜¾ç¤º</span>
    with st.chat_message("assistant"):
        with st.spinner("æ€è€ƒä¸­..."):
            <span class="hljs-comment"># RAGå›ç­”ï¼Œéæµå¼ï¼šå¤§æ¨¡å‹å®Œæ•´è¾“å‡ºåæ‰å±•ç¤ºå‡ºæ¥</span>
            <span class="hljs-comment"># full_answer = rag_service.get_answer(user_input)</span>
            <span class="hljs-comment"># st.markdown(full_answer)</span>

            <span class="hljs-comment"># RAGå›ç­”ï¼Œæµå¼è¾“å‡º</span>
            <span class="hljs-attr">full_answer</span> = <span class="hljs-string">""</span>  <span class="hljs-comment"># ç”¨äºå­˜å‚¨å®Œæ•´çš„å›å¤å†…å®¹</span>
            <span class="hljs-comment"># è°ƒç”¨RAGServiceçš„get_answer_streamï¼ˆæµå¼æ–¹æ³•ï¼‰ï¼Œç”¨st.write_streamå®ç°è¾¹ç”Ÿæˆè¾¹æ˜¾ç¤º</span>
            for chunk in st.write_stream(st.session_state.rag_service.get_answer_stream(user_input)):
                full_answer += chunk

            <span class="hljs-comment"># æ­¥éª¤3ï¼šå°†å®Œæ•´çš„åŠ©æ‰‹å›ç­”æ·»åŠ åˆ°ä¼šè¯å†å²ï¼Œä¾›ä¸‹æ¬¡åˆ·æ–°æ—¶å±•ç¤º</span>
            st.session_state.history.append({"role": "assistant", "content": full_answer})
            st.rerun()
</code></pre>
<p>äº¤äº’æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol start="0">
<li><strong>å‡†å¤‡é˜¶æ®µ</strong>ï¼šç”¨æˆ·æ‰“å¼€ç½‘é¡µï¼Œçœ‹åˆ°ä¾§è¾¹æ çš„ â€œæ–‡æ¡£ä¸Šä¼ â€ å’Œä¸»ç•Œé¢çš„èŠå¤©åŒºåŸŸï¼›</li>
<li><strong>ä¸Šä¼ æ–‡æ¡£</strong>ï¼šç”¨æˆ·åœ¨ä¾§è¾¹æ é€‰æ‹© 1 ä¸ªæˆ–å¤šä¸ªæ–‡æ¡£ï¼ˆPDF/DOCX ç­‰ï¼‰ï¼Œç‚¹å‡»ä¸Šä¼ ï¼Œç³»ç»Ÿæ˜¾ç¤º â€œæ­£åœ¨å¤„ç†æ–‡æ¡£...â€ï¼Œå®Œæˆåæç¤º â€œå¤„ç†æˆåŠŸâ€ï¼›</li>
<li><strong>æé—®äº¤äº’</strong>ï¼šç”¨æˆ·åœ¨åº•éƒ¨è¾“å…¥æ¡†æé—®ï¼ˆå¦‚ â€œå…¬å¸çš„å‘å±•å†ç¨‹ï¼Ÿâ€ï¼‰ï¼Œç‚¹å‡»å‘é€ï¼›</li>
<li><strong>æµå¼å›ç­”</strong>ï¼šç³»ç»Ÿæ˜¾ç¤º â€œæ€è€ƒä¸­â€ï¼Œå¹¶å¼€å§‹é€å­— / é€å¥æ˜¾ç¤ºå›ç­”ï¼ˆæµå¼è¾“å‡ºï¼‰ï¼ŒåŒæ—¶å°†ç”¨æˆ·é—®é¢˜å’ŒåŠ©æ‰‹å›ç­”ä¿å­˜åˆ°èŠå¤©å†å²ï¼›</li>
<li><strong>é‡ç½®æ“ä½œ</strong>ï¼šè‹¥ç”¨æˆ·æƒ³åˆ‡æ¢æ–‡æ¡£ï¼Œå¯ç‚¹å‡»ä¾§è¾¹æ  â€œæ¸…ç©ºçŸ¥è¯†åº“â€ï¼Œç³»ç»Ÿåˆ é™¤æ‰€æœ‰æ–‡æ¡£å’ŒèŠå¤©å†å²ï¼Œæ¢å¤åˆå§‹çŠ¶æ€ã€‚</li>
</ol>
<h3 data-id="heading-24">4.6 è¿è¡Œæµ‹è¯•</h3>
<ol start="0">
<li>
<p>ç¡®ä¿<code>.env</code>æ–‡ä»¶å·²æ­£ç¡®é…ç½® API å¯†é’¥</p>
</li>
<li>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">cd simple_rag_assistant
streamlit run main.py
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67139dac14d647a69a85c4c578643c81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bGF5b6u:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803987&amp;x-signature=Mt66Ag9OcAqEseFoMwgibRsS9Nw%3D" alt="image-20260104144926176" loading="lazy"/></p>
<p>ç³»ç»Ÿå°†å¯åŠ¨ Web æœåŠ¡ï¼Œé»˜è®¤åœ°å€ä¸º <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8501%2F" target="_blank" title="http://localhost:8501/" ref="nofollow noopener noreferrer">http://localhost:8501</a></p>
</li>
<li>
<p>æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ç•Œé¢ï¼Œä½¿ç”¨æµç¨‹ï¼š</p>
<ul>
<li>åœ¨ä¾§è¾¹æ ä¸Šä¼ æ–‡æ¡£ï¼ˆæ”¯æŒå¤šæ–‡ä»¶ï¼‰ã€‚</li>
<li>ç­‰å¾…æ–‡æ¡£å¤„ç†å®Œæˆï¼ˆä¼šæ˜¾ç¤ºå¤„ç†æˆåŠŸæç¤ºï¼‰ã€‚</li>
<li>åœ¨åº•éƒ¨è¾“å…¥æ¡†æé—®ï¼ŒåŠ©æ‰‹ä¼šåŸºäºä¸Šä¼ çš„æ–‡æ¡£å†…å®¹å›ç­”ã€‚</li>
</ul>
</li>
</ol>
<p><img src="" alt="image-20260104160926112" loading="lazy"/></p>
<p><img src="" alt="image-20260104161348195" loading="lazy"/></p>
<p>å®Œæ•´ä»£ç ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼š<code>practice_cases/simple_rag_assistant</code></p>
<p>å®Œæ•´æºç åœ°å€ï¼š</p>
<ul>
<li>GitHub ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftinyseeking%2Ftidy-agent-practice%2Ftree%2Fmain%2Fpractice_cases%2Fsimple_rag_assistant" target="_blank" title="https://github.com/tinyseeking/tidy-agent-practice/tree/main/practice_cases/simple_rag_assistant" ref="nofollow noopener noreferrer">github.com/tinyseekingâ€¦</a></li>
<li>Gitee ä»“åº“ï¼ˆå›½å†…ï¼‰ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftinyseeking%2Ftidy-agent-practice%2Ftree%2Fmain%2Fpractice_cases%2Fsimple_rag_assistant" target="_blank" title="https://gitee.com/tinyseeking/tidy-agent-practice/tree/main/practice_cases/simple_rag_assistant" ref="nofollow noopener noreferrer">gitee.com/tinyseekingâ€¦</a></li>
</ul>
<h3 data-id="heading-25">4.7 æ€»ç»“</h3>
<p>æœ¬é¡¹ç›®æ„å»ºäº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„åŸºç¡€ RAG é—®ç­”ç³»ç»Ÿï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ä¿è¯äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚ä½ å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥æ‹“å±•æ ¸å¿ƒèƒ½åŠ›ä¸ä½¿ç”¨ä½“éªŒï¼Œå¦‚ï¼š</p>
<ol start="0">
<li>å¢åŠ æ›´å¤šæ–‡æ¡£æ ¼å¼æ”¯æŒï¼ˆå¦‚ PPTã€Excelï¼‰å’Œå¤šæ¨¡æ€è¯†åˆ«ã€‚</li>
<li>å®ç°æ–‡æ¡£åˆ†æ®µé¢„è§ˆå’Œå®šä½ã€‚</li>
<li>æ·»åŠ ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†ã€‚</li>
<li>ä¼˜åŒ–æ£€ç´¢ç­–ç•¥ï¼Œå®ç°æ›´ç²¾å‡†çš„å†…å®¹åŒ¹é…ä¸é«˜æ•ˆå¬å›ã€‚</li>
<li>å¢åŠ æ¨¡å‹é€‰æ‹©åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·åˆ‡æ¢ä¸åŒçš„ LLMã€‚</li>
</ol>
<p>é€šè¿‡è¯¥é¡¹ç›®ï¼Œä½ å°†æŒæ¡ RAG æŠ€æœ¯çš„æ ¸å¿ƒåŸç†ä¸å·¥ç¨‹åŒ–å®ç°æ–¹æ³•ï¼Œä¸ºåç»­æ­å»ºæ›´å¤æ‚çš„æ™ºèƒ½æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰åº”ç”¨å¥ å®šæŠ€æœ¯åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS ç»˜åˆ¶å‡ ä½•å›¾å½¢åŸç†ä¸å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602579671476207635</link>    <guid>https://juejin.cn/post/7602579671476207635</guid>    <pubDate>2026-02-04T10:05:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602579671476207635" data-draft-id="7602776926327324726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS ç»˜åˆ¶å‡ ä½•å›¾å½¢åŸç†ä¸å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,CSS"/> <meta itemprop="datePublished" content="2026-02-04T10:05:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NEXT06"/> <meta itemprop="url" content="https://juejin.cn/user/1176918763246011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS ç»˜åˆ¶å‡ ä½•å›¾å½¢åŸç†ä¸å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1176918763246011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NEXT06
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:05:14.000Z" title="Wed Feb 04 2026 10:05:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯é¢è¯•ä¸­ï¼ŒCSS ç»˜åˆ¶å›¾å½¢ï¼ˆå°¤å…¶æ˜¯ä¸‰è§’å½¢ï¼‰æ˜¯ä¸€ä¸ªè€ƒå¯ŸåŸºç¡€çŸ¥è¯†æ·±åº¦çš„ç»å…¸é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™å¯ä»¥è€ƒå¯Ÿå¼€å‘è€…å¯¹Â <strong>ç›’æ¨¡å‹ï¼ˆBox Modelï¼‰</strong> Â çš„åº•å±‚ç†è§£ï¼Œä»¥åŠå¯¹Â <strong>ç°ä»£ CSS å±æ€§ï¼ˆå¦‚ clip-path, transformï¼‰</strong> Â çš„æŒæ¡ç¨‹åº¦ã€‚</p>
<p>æœ¬æ–‡å°†ä»åŸç†ã€å®æˆ˜ä»£ç åŠé¢è¯•å›ç­”ç­–ç•¥ä¸‰ä¸ªç»´åº¦è¿›è¡Œè§£æã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ ç»å…¸æ–¹æ¡ˆï¼šåˆ©ç”¨ Borderï¼ˆè¾¹æ¡†ï¼‰æŒ¤å‹</h2>
<p>è¿™æ˜¯é¢è¯•ä¸­æœ€å¸¸è¢«é—®åˆ°çš„æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯å…¼å®¹æ€§æœ€å¥½çš„æ–¹æ¡ˆï¼ˆæ”¯æŒ IE6+ï¼‰ã€‚æ ¸å¿ƒåœ¨äºç†è§£ CSS è¾¹æ¡†åœ¨ç›’æ¨¡å‹ä¸­çš„æ¸²æŸ“æœºåˆ¶ã€‚</p>
<h3 data-id="heading-1">åŸç†åˆ†æ</h3>
<p>åœ¨æ ‡å‡†ç›’æ¨¡å‹ä¸­ï¼Œè¾¹æ¡†æ˜¯å›´ç»•åœ¨å†…å®¹åŒºï¼ˆContentï¼‰ä¹‹å¤–çš„ã€‚å½“ä¸€ä¸ªå…ƒç´ çš„Â widthÂ å’ŒÂ heightÂ éƒ½è®¾ç½®ä¸ºÂ 0Â æ—¶ï¼Œå†…å®¹åŒºåŸŸæ¶ˆå¤±ï¼Œå…ƒç´ çš„å¤§å°å®Œå…¨ç”±è¾¹æ¡†å†³å®šã€‚</p>
<p>æ­¤æ—¶ï¼Œå¦‚æœè®¾ç½®äº†è¾ƒç²—çš„è¾¹æ¡†ï¼Œå››æ¡è¾¹æ¡†ä¼šåœ¨ä¸­å¿ƒæ±‡èšã€‚ç”±äºè¾¹æ¡†è¿æ¥å¤„éœ€è¦å¹³æ»‘è¿‡æ¸¡ï¼Œæµè§ˆå™¨åœ¨æ¸²æŸ“æ—¶ï¼Œä¼šä»¥Â <strong>45åº¦è§’ï¼ˆæ­£æ–¹å½¢æ—¶ï¼‰æˆ–æ ¹æ®å®½é«˜æ¯”è®¡ç®—çš„æ–œè§’</strong>Â å¯¹è¾¹æ¡†äº¤ç•Œå¤„è¿›è¡Œæ–œåˆ‡å¤„ç†ã€‚</p>
<p>å¦‚æœä¸è®¾ç½®é¢œè‰²ï¼Œè¾¹æ¡†çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªçŸ©å½¢ï¼›ä½†å¦‚æœç»™å››æ¡è¾¹æ¡†è®¾ç½®ä¸åŒçš„é¢œè‰²ï¼Œè§†è§‰ä¸Šä¼šå‘ˆç°å‡ºå››ä¸ªä¸‰è§’å½¢æ‹¼åˆåœ¨ä¸€èµ·çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-2">ä»£ç å®æˆ˜</h3>
<p>CSS</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.triangle-border</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;
    <span class="hljs-comment">/* æ ¸å¿ƒæ­¥éª¤1ï¼šè®¾ç½®è¶³å¤Ÿå®½çš„è¾¹æ¡†ï¼Œå¹¶å°†å…¶é¢œè‰²è®¾ä¸ºé€æ˜ */</span>
    <span class="hljs-attribute">border</span>: <span class="hljs-number">50px</span> solid transparent; 
    <span class="hljs-comment">/* æ ¸å¿ƒæ­¥éª¤2ï¼šå•ç‹¬æŒ‡å®šæŸä¸€ä¸ªæ–¹å‘çš„è¾¹æ¡†é¢œè‰² */</span>
    <span class="hljs-comment">/* æƒ³è¦ç®­å¤´æœä¸Šï¼Œå°±ç»™ä¸‹è¾¹æ¡†ä¸Šè‰² */</span>
    <span class="hljs-attribute">border-bottom-color</span>: <span class="hljs-number">#007bff</span>; 
}
</code></pre>
<h3 data-id="heading-3">é¢è¯•è€ƒå¯Ÿç‚¹</h3>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆå®½é«˜è¦è®¾ä¸º 0ï¼Ÿ</strong><br/>
æ˜¯ä¸ºäº†æ¶ˆé™¤ä¸­é—´çš„å†…å®¹çŸ©å½¢åŒºåŸŸï¼Œè®©å››æ¡è¾¹æ¡†åœ¨ä¸­å¿ƒç›´æ¥æ¥è§¦ï¼Œä»è€Œåˆ©ç”¨è¾¹æ¡†äº¤ç•Œå¤„çš„æ–œåˆ‡ç‰¹æ€§å½¢æˆå°–è§’ã€‚</p>
</li>
<li>
<p><strong>å¦‚ä½•è°ƒæ•´ä¸‰è§’å½¢å½¢çŠ¶ï¼Ÿ</strong><br/>
é€šè¿‡è°ƒèŠ‚ä¸åŒæ–¹å‘Â border-widthÂ çš„æ•°å€¼ã€‚</p>
<ul>
<li><strong>ç­‰è…°/ç­‰è¾¹ä¸‰è§’å½¢</strong>ï¼šä¿æŒå·¦å³è¾¹æ¡†å®½åº¦ä¸€è‡´ã€‚</li>
<li><strong>ç›´è§’ä¸‰è§’å½¢</strong>ï¼šå°†æŸä¸€æ¡ç›¸é‚»è¾¹æ¡†çš„å®½åº¦è®¾ä¸º 0ï¼ˆä¾‹å¦‚Â border-top: 0ï¼‰ï¼Œåˆ©ç”¨å‰©ä½™è¾¹æ¡†çš„æŒ¤å‹å½¢æˆç›´è§’ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9299dffd377d499b8d1305c5ef84244a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804314&amp;x-signature=SNcgH79jnTJtNMpp3tu53IrmMfc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">äºŒã€ ç°ä»£æ–¹æ¡ˆï¼šåˆ©ç”¨ Clip-pathï¼ˆè£å‰ªè·¯å¾„ï¼‰</h2>
<p>éšç€æµè§ˆå™¨æŠ€æœ¯çš„å‘å±•ï¼Œclip-pathÂ æˆä¸ºäº†ç»˜åˆ¶ä¸è§„åˆ™å›¾å½¢çš„æœ€ä¼˜è§£ã€‚ä¸ Border æ³•åˆ©ç”¨â€œå‰¯ä½œç”¨â€ä¸åŒï¼ŒClip-path æ˜¯â€œå£°æ˜å¼â€çš„ç»˜å›¾æ–¹å¼ã€‚</p>
<h3 data-id="heading-5">åŸç†åˆ†æ</h3>
<p>clip-pathÂ å±æ€§ä¼šåœ¨å…ƒç´ å†…éƒ¨åˆ›å»ºä¸€ä¸ªè£å‰ªåŒºåŸŸï¼šåŒºåŸŸå†…çš„å†…å®¹å¯è§ï¼ŒåŒºåŸŸå¤–çš„å†…å®¹è¢«éšè—ã€‚</p>
<p>ä½¿ç”¨Â polygon()Â å‡½æ•°å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ç³»åˆ—åæ ‡ç‚¹Â (x y)Â æ¥ç»˜åˆ¶å¤šè¾¹å½¢ã€‚åæ ‡ç³»ä»¥å…ƒç´ çš„å·¦ä¸Šè§’ä¸ºåŸç‚¹Â (0, 0)ï¼Œå³ä¸‹è§’ä¸ºÂ (100%, 100%)ã€‚</p>
<h3 data-id="heading-6">ä»£ç å®æˆ˜</h3>
<p>CSS</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.triangle-clip</span> {
    <span class="hljs-comment">/* ä¸ Border æ³•ä¸åŒï¼Œè¿™é‡Œéœ€è¦å…ƒç´ æœ‰å®é™…å®½é«˜ */</span>
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#007bff</span>;
    <span class="hljs-comment">/* å®šä¹‰ä¸‰ä¸ªé¡¶ç‚¹ï¼šé¡¶éƒ¨ä¸­é—´ã€å³ä¸‹ã€å·¦ä¸‹ */</span>
    <span class="hljs-attribute">clip-path</span>: <span class="hljs-built_in">polygon</span>(<span class="hljs-number">50%</span> <span class="hljs-number">0</span>, <span class="hljs-number">100%</span> <span class="hljs-number">100%</span>, <span class="hljs-number">0</span> <span class="hljs-number">100%</span>);
}
</code></pre>
<h3 data-id="heading-7">ä¼˜ç¼ºç‚¹å¯¹æ¯”ï¼ˆé¢è¯•åŠ åˆ†é¡¹ï¼‰</h3>
<ul>
<li><strong>Border æ³•</strong>ï¼šå…¼å®¹æ€§æå¥½ï¼Œä½†åœ¨å¤„ç†èƒŒæ™¯å›¾ç‰‡ã€æ¸å˜è‰²æˆ–é˜´å½±æ—¶éå¸¸å›°éš¾ï¼Œæœ¬è´¨ä¸Šæ˜¯ Hack æ‰‹æ®µã€‚</li>
<li><strong>Clip-path æ³•</strong>ï¼šè¯­ä¹‰æ¸…æ™°ï¼Œæ”¯æŒèƒŒæ™¯å›¾ç‰‡è£å‰ªã€æ”¯æŒæ¸å˜è‰²ï¼Œä¸”ä¸å½±å“ç›’æ¨¡å‹å®é™…å æ®çš„å¸ƒå±€ç©ºé—´ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f15028d5d256497d84e35b3706f0c361~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804314&amp;x-signature=rhpYmRGOlHsFxL2%2F700IekQ6KeM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€ å®ç”¨å˜ä½“ï¼šåˆ©ç”¨ Transform ä¸ Border-radius</h2>
<p>é™¤äº†åŸºç¡€ä¸‰è§’å½¢ï¼Œé¢è¯•ä¸­å¸¸æ¶‰åŠç®­å¤´ã€æ‰‡å½¢ç­‰å›¾å½¢ï¼Œè¿™äº›é€šå¸¸ç»“åˆÂ transformÂ å’ŒÂ border-radiusÂ å®ç°ã€‚</p>
<h3 data-id="heading-9">1. ç©ºå¿ƒç®­å¤´ (Chevron)</h3>
<p>å¸¸ç”¨äºä¸‹æ‹‰èœå•æˆ–ç¿»é¡µæŒ‰é’®ã€‚<br/>
<strong>åŸç†</strong>ï¼šåˆ›å»ºä¸€ä¸ªæ­£æ–¹å½¢ï¼Œåªä¿ç•™ç›¸é‚»çš„ä¸¤æ¡è¾¹æ¡†ï¼ˆå¦‚ä¸Šè¾¹å’Œå³è¾¹ï¼‰ï¼Œç„¶åæ—‹è½¬ 45 åº¦ã€‚</p>
<p>CSS</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.arrow</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#333</span>;
    <span class="hljs-comment">/* éšè—ä¸¤æ¡è¾¹ */</span>
    <span class="hljs-attribute">border-bottom</span>: none;
    <span class="hljs-attribute">border-left</span>: none;
    <span class="hljs-comment">/* æ—‹è½¬ */</span>
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">45deg</span>);
}
</code></pre>
<h3 data-id="heading-10">2. æ‰‡å½¢ (Sector)</h3>
<p><strong>åŸç†</strong>ï¼šåˆ©ç”¨Â border-radiusÂ å¯ä»¥å•ç‹¬æ§åˆ¶æ¯ä¸ªè§’åŠå¾„çš„ç‰¹æ€§ã€‚å°†æ­£æ–¹å½¢çš„ä¸€ä¸ªè§’è®¾ä¸ºåœ†å½¢ï¼ˆåŠå¾„ç­‰äºè¾¹é•¿ï¼‰ï¼Œå…¶ä½™è§’ä¸º 0ã€‚</p>
<p>CSS</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.sector</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
    <span class="hljs-attribute">background-color</span>: red;
    <span class="hljs-comment">/* é¡ºåºï¼šå·¦ä¸Š å³ä¸Š å³ä¸‹ å·¦ä¸‹ */</span>
    <span class="hljs-comment">/* å°†å·¦ä¸Šè§’è®¾ä¸ºåŠå¾„ï¼Œå½¢æˆ 1/4 åœ† */</span>
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50px</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>; 
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31f7dad6696d42d7807e58028d8c501d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTkVYVDA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804314&amp;x-signature=LQDrpfxdUUfnZOFuXAiTyEO5euo%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-11">æ€»ç»“ï¼šé¢è¯•å›ç­”ç­–ç•¥</h2>
<p>å¦‚æœåœ¨é¢è¯•ä¸­è¢«é—®åˆ°â€œå¦‚ä½•ç”¨ CSS ç”»ä¸‰è§’å½¢â€ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é€»è¾‘æ¡ç†æ¸…æ™°åœ°å›ç­”ï¼š</p>
<ol>
<li><strong>é¦–é€‰æ–¹æ¡ˆï¼ˆBorder æ³•ï¼‰</strong> ï¼šé¦–å…ˆæ¼”ç¤º Border æ³•ï¼Œå› ä¸ºè¿™æ˜¯æœ€åŸºç¡€çš„ CSS åŸç†ã€‚é‡ç‚¹è§£é‡Šâ€œå®½é«˜ä¸º 0â€å’Œâ€œé€æ˜è¾¹æ¡†â€å¦‚ä½•åˆ©ç”¨ç›’æ¨¡å‹æ¸²æŸ“æœºåˆ¶å½¢æˆä¸‰è§’å½¢ã€‚</li>
<li><strong>è¿›é˜¶æ–¹æ¡ˆï¼ˆClip-path æ³•ï¼‰</strong> ï¼šéšåè¡¥å……è¯´æ˜ï¼Œå¦‚æœåœºæ™¯éœ€è¦æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡æˆ–æ¸å˜è‰²ï¼Œclip-pathÂ æ˜¯æ›´ç°ä»£ã€æ›´è§„èŒƒçš„è§£å†³æ–¹æ¡ˆï¼Œè¿™èƒ½ä½“ç°ä½ å¯¹æ–°ç‰¹æ€§çš„å…³æ³¨ã€‚</li>
<li><strong>ç‰¹æ®Šåœºæ™¯</strong>ï¼šå¦‚æœæ˜¯ç”»ç©ºå¿ƒç®­å¤´ï¼ŒæŒ‡å‡ºä½¿ç”¨Â transform: rotateÂ é…åˆå•ä¾§è¾¹æ¡†æ˜¯æœ€é«˜æ•ˆçš„æ–¹æ³•ã€‚</li>
<li><strong>é¿å‘æŒ‡å—</strong>ï¼šæåŠå°½é‡é¿å…ä½¿ç”¨Â linear-gradientÂ æ‹¼å‡‘ä¸‰è§’å½¢ï¼Œå› ä¸ºå…¶è®¡ç®—å¤æ‚ä¸”å®¹æ˜“äº§ç”Ÿé”¯é½¿ï¼Œç»´æŠ¤æˆæœ¬é«˜ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹…å¿ƒ DataX è¿ç§»åˆ° Apache SeaTunnel æˆæœ¬é«˜ï¼Ÿä¸€ç¯‡æŒ‡å—æ‰‹æŠŠæ‰‹å¸¦ä½ å¹³æ»‘åˆ‡æ¢]]></title>    <link>https://juejin.cn/post/7602554905271353344</link>    <guid>https://juejin.cn/post/7602554905271353344</guid>    <pubDate>2026-02-04T09:35:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602554905271353344" data-draft-id="7602554905270730752" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹…å¿ƒ DataX è¿ç§»åˆ° Apache SeaTunnel æˆæœ¬é«˜ï¼Ÿä¸€ç¯‡æŒ‡å—æ‰‹æŠŠæ‰‹å¸¦ä½ å¹³æ»‘åˆ‡æ¢"/> <meta itemprop="keywords" content="Java,å¤§æ•°æ®,å¼€æº"/> <meta itemprop="datePublished" content="2026-02-04T09:35:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½é²¸å¼€æº"/> <meta itemprop="url" content="https://juejin.cn/user/3870725052049454"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹…å¿ƒ DataX è¿ç§»åˆ° Apache SeaTunnel æˆæœ¬é«˜ï¼Ÿä¸€ç¯‡æŒ‡å—æ‰‹æŠŠæ‰‹å¸¦ä½ å¹³æ»‘åˆ‡æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3870725052049454/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½é²¸å¼€æº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:35:24.000Z" title="Wed Feb 04 2026 09:35:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://openwrite-whaleops.oss-cn-zhangjiakou.aliyuncs.com/2026/02/04/17701873399417.jpg" alt="" loading="lazy"/></p>
<p>ä¸å°‘æ­£åœ¨ä½¿ç”¨ DataX çš„å›¢é˜Ÿï¼Œéƒ½é¢ä¸´ä»»åŠ¡ç»´æŠ¤æˆæœ¬é«˜ã€æ‰©å±•èƒ½åŠ›å—é™çš„é—®é¢˜ï¼Œå´åˆæ‹…å¿ƒè¿ç§»ä»£ä»·è¿‡å¤§ã€‚æœ¬æ–‡ä» <strong>DataX ç”¨æˆ·çš„å®é™…éœ€æ±‚</strong> å‡ºå‘ï¼Œä»‹ç»å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ Apache SeaTunnelï¼Œå¹¶é€šè¿‡åŸç†è§£æã€é…ç½®å¯¹æ¯”å’Œè‡ªåŠ¨åŒ–è¿ç§»å·¥å…·ï¼Œå¸®åŠ©ä½  <strong>ä½æˆæœ¬ã€å¿«é€Ÿå®Œæˆ DataX ä»»åŠ¡å‘ SeaTunnel çš„è¿ç§»</strong>ã€‚</p>
<p>å‚è€ƒæºç ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2FDataX" target="_blank" title="https://github.com/alibaba/DataX" ref="nofollow noopener noreferrer">Alibaba DataX GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapache%2Fseatunnel-tools%2Ftree%2Fmain%2Fx2seatunnel" target="_blank" title="https://github.com/apache/seatunnel-tools/tree/main/x2seatunnel" ref="nofollow noopener noreferrer">Apache SeaTunnel Tools (x2seatunnel)</a></li>
</ul>
<h2 data-id="heading-0">1. è‡ªåŠ¨åŒ–è¿ç§»åˆ©å™¨ï¼šX2SeaTunnel</h2>
<p>ä¸ºäº†ç®€åŒ–è¿ç§»è¿‡ç¨‹ï¼ŒSeaTunnel ç¤¾åŒºæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„è‡ªåŠ¨åŒ–é…ç½®è½¬æ¢å·¥å…· â€”â€” <strong>X2SeaTunnel</strong>ã€‚å®ƒå¯ä»¥ä¸€é”®å°† DataX çš„ JSON é…ç½®æ–‡ä»¶è½¬æ¢ä¸º SeaTunnel çš„ Config é…ç½®æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-1">1.1 å·¥å…·ç®€ä»‹</h3>
<p>X2SeaTunnel æ˜¯ <code>seatunnel-tools</code> é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œä¸“é—¨ç”¨äºå¸®åŠ©ç”¨æˆ·ä»å…¶ä»–æ•°æ®é›†æˆå¹³å°å¿«é€Ÿè¿ç§»åˆ° SeaTunnelã€‚</p>
<p>âœ… <strong>æ ‡å‡†é…ç½®è½¬æ¢</strong>: æ”¯æŒ DataX JSON -&gt; SeaTunnel Config çš„ä¸€é”®è½¬æ¢ã€‚
âœ… <strong>è‡ªå®šä¹‰æ¨¡æ¿</strong>: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢æ¨¡æ¿ï¼Œæ»¡è¶³ç‰¹æ®Šéœ€æ±‚ã€‚
âœ… <strong>æ‰¹é‡è½¬æ¢</strong>: æ”¯æŒç›®å½•çº§æ‰¹é‡è½¬æ¢ï¼Œè‡ªåŠ¨ç”Ÿæˆè¿ç§»æŠ¥å‘Šã€‚
âœ… <strong>è¯¦ç»†æŠ¥å‘Š</strong>: ç”Ÿæˆ Markdown æ ¼å¼çš„è½¬æ¢æŠ¥å‘Šï¼ŒåŒ…å«å­—æ®µæ˜ å°„ç»Ÿè®¡ã€æ½œåœ¨é—®é¢˜æç¤ºç­‰ã€‚</p>
<h3 data-id="heading-2">1.2 å¿«é€Ÿå¼€å§‹</h3>
<p><strong>1.2.1 ä¸‹è½½ä¸å®‰è£…</strong>
ä½ å¯ä»¥ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fapache%2Fseatunnel-tools%2Freleases" target="_blank" title="https://github.com/apache/seatunnel-tools/releases" ref="nofollow noopener noreferrer">GitHub Releases</a> ä¸‹è½½æœ€æ–°ç‰ˆï¼Œæˆ–é€šè¿‡æºç ç¼–è¯‘ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æºç ç¼–è¯‘</span>
git <span class="hljs-built_in">clone</span> https://github.com/apache/seatunnel-tools.git
<span class="hljs-built_in">cd</span> seatunnel-tools
mvn clean package -pl x2seatunnel -DskipTests
<span class="hljs-comment"># ç¼–è¯‘å®Œæˆåï¼ŒåŒ…ä½äº x2seatunnel/target/x2seatunnel-*.zip</span>
</code></pre>
<p><strong>1.2.2 è½¬æ¢å‘½ä»¤ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºæœ¬ç”¨æ³•ï¼šå°† datax.json è½¬æ¢ä¸º seatunnel.conf</span>
./bin/x2seatunnel.sh \
    -s examples/source/datax-mysql2hdfs.json \
    -t examples/target/mysql2hdfs-result.conf \
    -r examples/report/mysql2hdfs-report.md
</code></pre>
<p><strong>1.2.3 æŸ¥çœ‹æŠ¥å‘Š</strong>
è½¬æ¢å®Œæˆåï¼Œä½ å¯ä»¥æŸ¥çœ‹ç”Ÿæˆçš„ Markdown æŠ¥å‘Šï¼Œäº†è§£å…·ä½“çš„å­—æ®µæ˜ å°„å…³ç³»å’Œæ½œåœ¨çš„è­¦å‘Šä¿¡æ¯ã€‚</p>
<h2 data-id="heading-3">2. å·¥å…·åŸç†æ·±åº¦å¯¹æ¯”</h2>
<h3 data-id="heading-4">2.1 DataX åŸç†</h3>
<p>DataX æ˜¯é˜¿é‡Œäº‘å¼€æºçš„ç¦»çº¿æ•°æ®åŒæ­¥å·¥å…·ï¼Œé‡‡ç”¨ <strong>Framework + Plugin</strong> æ¶æ„ã€‚</p>
<ul>
<li><strong>è¿è¡Œæ¨¡å¼</strong>: å•æœºå¤šçº¿ç¨‹ (Standalone)ã€‚æ‰€æœ‰çš„ä»»åŠ¡éƒ½åœ¨ä¸€ä¸ª JVM è¿›ç¨‹ä¸­å®Œæˆï¼Œå—é™äºå•æœºå†…å­˜å’Œ CPUã€‚</li>
<li><strong>æ ¸å¿ƒæ¨¡å‹</strong>: <code>Reader</code> (è¯») -&gt; <code>Channel</code> (å†…å­˜é€šé“) -&gt; <code>Writer</code> (å†™)ã€‚</li>
<li><strong>ä¼˜ç¼ºç‚¹</strong>:
<ul>
<li>âœ… ç®€å•æ˜“ç”¨ï¼Œç”Ÿæ€æ’ä»¶ä¸°å¯Œï¼Œé€‚åˆå°è§„æ¨¡ç¦»çº¿åŒæ­¥ã€‚</li>
<li>âŒ <strong>å•æœºç“¶é¢ˆ</strong>: æ— æ³•æ¨ªå‘æ‰©å±•ï¼Œéš¾ä»¥åº”å¯¹æµ·é‡æ•°æ®ã€‚</li>
<li>âŒ <strong>ç¼ºä¹å®¹é”™</strong>: ä»»åŠ¡å¤±è´¥é€šå¸¸éœ€è¦å…¨é‡é‡è·‘ï¼Œä¸æ”¯æŒ Checkpointã€‚</li>
<li>âŒ <strong>å®æ—¶æ€§å¼±</strong>: è®¾è®¡ä¹‹åˆä¸»è¦é’ˆå¯¹ç¦»çº¿æ‰¹å¤„ç†ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-5">2.2 SeaTunnel åŸç†</h3>
<p>Apache SeaTunnel æ˜¯ä¸‹ä¸€ä»£é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ã€æµ·é‡æ•°æ®é›†æˆæ¡†æ¶ã€‚</p>
<ul>
<li><strong>è¿è¡Œæ¨¡å¼</strong>: åˆ†å¸ƒå¼é›†ç¾¤ã€‚æ”¯æŒ <strong>Zeta (è‡ªå¸¦å¼•æ“)</strong>, <strong>Flink</strong>, <strong>Spark</strong> ä¸‰ç§æ‰§è¡Œå¼•æ“ã€‚</li>
<li><strong>æ ¸å¿ƒæ¨¡å‹</strong>: <code>Source</code> (è¯») -&gt; <code>Transform</code> (è½¬æ¢) -&gt; <code>Sink</code> (å†™)ã€‚</li>
<li><strong>ä¼˜ç¼ºç‚¹</strong>:
<ul>
<li>âœ… <strong>åˆ†å¸ƒå¼æ‰§è¡Œ</strong>: ä»»åŠ¡å¯ä»¥æ‹†åˆ†ä¸ºå¤šä¸ª SubTask åœ¨é›†ç¾¤ä¸­å¹¶è¡Œæ‰§è¡Œï¼Œååé‡éšèŠ‚ç‚¹æ•°çº¿æ€§å¢é•¿ã€‚</li>
<li>âœ… <strong>CDC æ”¯æŒ</strong>: åŸç”Ÿæ”¯æŒ MySQL, PostgreSQL, MongoDB ç­‰æ•°æ®åº“çš„ CDC (Change Data Capture) å®æ—¶åŒæ­¥ã€‚</li>
<li>âœ… <strong>æ–­ç‚¹ç»­ä¼ </strong>: åŸºäº Chandy-Lamport ç®—æ³•çš„ Checkpoint æœºåˆ¶ï¼Œç¡®ä¿æ•°æ®ä¸ä¸¢ä¸é‡ (Exactly-Once)ã€‚</li>
<li>âœ… <strong>å¤šå¼•æ“æ”¯æŒ</strong>: ä¸€å¥—ä»£ç å¯æ— ç¼åˆ‡æ¢ Zeta/Flink/Sparkï¼Œé€‚åº”ä¸åŒæŠ€æœ¯æ ˆã€‚</li>
</ul>
</li>
</ul>



































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">DataX</th><th align="left">SeaTunnel</th></tr></thead><tbody><tr><td align="left"><strong>æ¶æ„</strong></td><td align="left">å•æœº (Standalone)</td><td align="left">åˆ†å¸ƒå¼ (Distributed)</td></tr><tr><td align="left"><strong>é…ç½®æ ¼å¼</strong></td><td align="left">JSON</td><td align="left">HOCON (å…¼å®¹ JSONï¼Œæ”¯æŒæ³¨é‡Š)</td></tr><tr><td align="left"><strong>å®æ—¶/CDC</strong></td><td align="left">æ”¯æŒè¾ƒå¼±</td><td align="left"><strong>åŸç”Ÿæ”¯æŒ (CDC, å®æ—¶æµ)</strong></td></tr><tr><td align="left"><strong>å®¹é”™æœºåˆ¶</strong></td><td align="left">ä»»åŠ¡å¤±è´¥éœ€é‡è·‘</td><td align="left"><strong>æ”¯æŒ Checkpoint æ–­ç‚¹ç»­ä¼ </strong></td></tr><tr><td align="left"><strong>è½¬æ¢èƒ½åŠ›</strong></td><td align="left">è¾ƒå¼± (Transformer)</td><td align="left">å¼º (SQL, Filter, Split, Replace ç­‰)</td></tr></tbody></table>
<h2 data-id="heading-6">3. å…¸å‹æ¡ˆä¾‹ï¼šMySQL åŒæ­¥ä»»åŠ¡è¿ç§»</h2>
<p>ä¸‹é¢æ¼”ç¤ºå¦‚ä½•å°†ä¸€ä¸ªå…¸å‹çš„ DataX ä»»åŠ¡ï¼ˆMySQL -&gt; MySQLï¼‰è¿ç§»åˆ° SeaTunnelï¼Œå¹¶å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œäº†è¯¦ç»†æ³¨é‡Šã€‚</p>
<h3 data-id="heading-7">3.1 DataX ä»»åŠ¡é…ç½® (job.json)</h3>
<p>è¿™æ˜¯ DataX çš„ç»å…¸ JSON é…ç½®ï¼ŒåŒ…å« Reader, Writer å’Œ Settingã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"job"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"setting"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"speed"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-comment">// [DataX] å…¨å±€å¹¶å‘é€šé“æ•°ï¼Œæ§åˆ¶åŒæ­¥é€Ÿåº¦</span>
                <span class="hljs-attr">"channel"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"reader"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-comment">// [DataX] è¯»å–æ’ä»¶åç§°</span>
                    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mysqlreader"</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"parameter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                        <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"root"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"root"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-comment">// [DataX] éœ€è¦åŒæ­¥çš„åˆ—å</span>
                        <span class="hljs-attr">"column"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"id"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"age"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"connection"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
                            <span class="hljs-comment">// [DataX] æºè¡¨å</span>
                            <span class="hljs-attr">"table"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"source_table"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                            <span class="hljs-comment">// [DataX] JDBC è¿æ¥ä¸²</span>
                            <span class="hljs-attr">"jdbcUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"jdbc:mysql://localhost:3306/source_db"</span><span class="hljs-punctuation">]</span>
                        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
                    <span class="hljs-punctuation">}</span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"writer"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-comment">// [DataX] å†™å…¥æ’ä»¶åç§°</span>
                    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mysqlwriter"</span><span class="hljs-punctuation">,</span>
                    <span class="hljs-attr">"parameter"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                        <span class="hljs-comment">// [DataX] å†™å…¥æ¨¡å¼ï¼Œæ”¯æŒ insert/replace/update</span>
                        <span class="hljs-attr">"writeMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"insert"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"username"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"root"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"password"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"root"</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"column"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"id"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"age"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                        <span class="hljs-attr">"connection"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
                            <span class="hljs-comment">// [DataX] ç›®æ ‡è¡¨å</span>
                            <span class="hljs-attr">"table"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"target_table"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
                            <span class="hljs-attr">"jdbcUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"jdbc:mysql://localhost:3306/target_db"</span><span class="hljs-punctuation">]</span>
                        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
                    <span class="hljs-punctuation">}</span>
                <span class="hljs-punctuation">}</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">3.2 SeaTunnel ä»»åŠ¡é…ç½® (mysql_to_mysql.conf)</h3>
<p>SeaTunnel ä½¿ç”¨ HOCON æ ¼å¼ï¼Œç»“æ„æ›´åŠ æ¸…æ™°ï¼Œä¸”åŸç”Ÿæ”¯æŒæ³¨é‡Šã€‚</p>
<pre><code class="hljs language-hocon" lang="hocon"># 1. ç¯å¢ƒé…ç½® (å¯¹åº” DataX çš„ setting)
env {
  # [SeaTunnel] ä»»åŠ¡å¹¶è¡Œåº¦ï¼Œå¯¹åº” DataX çš„ channel
  execution.parallelism = 1
  # [SeaTunnel] ä»»åŠ¡æ¨¡å¼ï¼šBATCH (ç¦»çº¿æ‰¹å¤„ç†) æˆ– STREAMING (å®æ—¶æµå¤„ç†)
  job.mode = "BATCH"
}

# 2. Source é…ç½® (å¯¹åº” DataX çš„ reader)
source {
  Jdbc {
    # [SeaTunnel] é©±åŠ¨ç±»å
    driver = "com.mysql.cj.jdbc.Driver"
    # [SeaTunnel] JDBC è¿æ¥ä¸²
    url = "jdbc:mysql://localhost:3306/source_db"
    user = "root"
    password = "root"
    # [SeaTunnel] æŸ¥è¯¢è¯­å¥ï¼Œæ”¯æŒçµæ´»çš„ SQL å®šä¹‰ï¼Œæ›¿ä»£ DataX çš„ column + table é…ç½®
    query = "select id, name, age from source_table"
    # [SeaTunnel] å…³é”®é…ç½®ï¼šå°†è¯»å–åˆ°çš„æ•°æ®æ³¨å†Œä¸ºä¸€ä¸ªä¸´æ—¶è¡¨ï¼Œä¾›åç»­ Sink ä½¿ç”¨
    result_table_name = "mysql_source"
  }
}

# 3. Transform é…ç½® (å¯é€‰ï¼ŒDataX é€šå¸¸æ²¡æœ‰è¿™ä¸€å±‚)
# transform {
#   ...
# }

# 4. Sink é…ç½® (å¯¹åº” DataX çš„ writer)
sink {
  Jdbc {
    driver = "com.mysql.cj.jdbc.Driver"
    url = "jdbc:mysql://localhost:3306/target_db"
    user = "root"
    password = "root"
    # [SeaTunnel] å…³é”®é…ç½®ï¼šæŒ‡å®šæ•°æ®æ¥æºè¡¨ï¼Œè¿™é‡Œå¼•ç”¨ Source ä¸­å®šä¹‰çš„ result_table_name
    source_table_name = "mysql_source"
    # [SeaTunnel] å†™å…¥ SQL æ¨¡æ¿
    query = "insert into target_table (id, name, age) values (?, ?, ?)"
  }
}
</code></pre>
<h3 data-id="heading-9">3.3 å…³é”®æ˜ å°„è¯´æ˜</h3>
<p>ä¸‹è¡¨è¯¦ç»†åˆ—å‡ºäº† DataX ä¸ SeaTunnel æ ¸å¿ƒé…ç½®é¡¹çš„æ˜ å°„å…³ç³»ï¼š</p>







































































<table><thead><tr><th align="left">æ¨¡å—</th><th align="left">DataX é…ç½®é¡¹</th><th align="left">SeaTunnel é…ç½®é¡¹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>å…¨å±€</strong></td><td align="left"><code>job.setting.speed.channel</code></td><td align="left"><code>env.execution.parallelism</code></td><td align="left">æ§åˆ¶ä»»åŠ¡çš„å¹¶å‘åº¦ã€‚</td></tr><tr><td align="left"><strong>Reader/Source</strong></td><td align="left"><code>reader.name</code> ("mysqlreader")</td><td align="left"><code>source.plugin_name</code> ("Jdbc")</td><td align="left">æ’ä»¶åç§°æ˜ å°„ï¼ŒSeaTunnel ç»Ÿä¸€ä¸º Jdbcã€‚</td></tr><tr><td align="left"/><td align="left"><code>parameter.jdbcUrl</code></td><td align="left"><code>url</code></td><td align="left">æ•°æ®åº“è¿æ¥åœ°å€ã€‚</td></tr><tr><td align="left"/><td align="left"><code>parameter.username</code></td><td align="left"><code>user</code></td><td align="left">æ•°æ®åº“ç”¨æˆ·åã€‚</td></tr><tr><td align="left"/><td align="left"><code>parameter.column</code> + <code>table</code></td><td align="left"><code>query</code></td><td align="left">DataX åˆ†å¼€é…ç½®åˆ—å’Œè¡¨ï¼ŒSeaTunnel æ¨èç›´æ¥å†™ SQLï¼Œæ›´çµæ´»ã€‚</td></tr><tr><td align="left"/><td align="left">(æ— )</td><td align="left"><code>result_table_name</code></td><td align="left"><strong>SeaTunnel æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šSource è¾“å‡ºçš„è™šæ‹Ÿè¡¨åã€‚</td></tr><tr><td align="left"><strong>Writer/Sink</strong></td><td align="left"><code>writer.name</code> ("mysqlwriter")</td><td align="left"><code>sink.plugin_name</code> ("Jdbc")</td><td align="left">æ’ä»¶åç§°æ˜ å°„ã€‚</td></tr><tr><td align="left"/><td align="left"><code>parameter.writeMode</code></td><td align="left">(é€šè¿‡ SQL æ§åˆ¶)</td><td align="left">SeaTunnel JDBC Sink ç›´æ¥é€šè¿‡ SQL è¯­å¥ (<code>INSERT</code>, <code>UPSERT</code>) æ§åˆ¶å†™å…¥è¡Œä¸ºã€‚</td></tr><tr><td align="left"/><td align="left"><code>parameter.preSql</code> / <code>postSql</code></td><td align="left"><code>pre_sql</code> / <code>post_sql</code></td><td align="left">æ‰§è¡Œå‰/åçš„ SQL é’©å­ï¼Œä¸¤è€…éƒ½æ”¯æŒã€‚</td></tr><tr><td align="left"/><td align="left">(æ— )</td><td align="left"><code>source_table_name</code></td><td align="left"><strong>SeaTunnel æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šSink è¾“å…¥çš„è™šæ‹Ÿè¡¨åï¼Œå¿…é¡»ä¸ Source å¯¹åº”ã€‚</td></tr></tbody></table>
<h2 data-id="heading-10">4. å®æˆ˜è¿è¡Œï¼šæ‰§è¡Œ MySQL è¿ç§»ä»»åŠ¡</h2>
<p>æœ¬èŠ‚å°†æ¼”ç¤ºå¦‚ä½•è¿è¡Œç¬¬ 3 èŠ‚ä¸­é…ç½®å¥½çš„ SeaTunnel è¿ç§»ä»»åŠ¡ã€‚è¯·å°† 3.2 èŠ‚ä¸­çš„é…ç½®å†…å®¹ä¿å­˜ä¸º <code>config/mysql_to_mysql.conf</code> æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-11">4.1 å‡†å¤‡å·¥ä½œ</h3>
<p>åœ¨è¿è¡Œä»»åŠ¡å‰ï¼Œè¯·ç¡®ä¿æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ol>
<li><strong>å®‰è£… SeaTunnel</strong>: å·²è§£å‹å¹¶é…ç½®å¥½ SeaTunnel ç¯å¢ƒã€‚</li>
<li><strong>å®‰è£… JDBC æ’ä»¶</strong>: ç¡®ä¿ <code>plugins</code> ç›®å½•ä¸‹æœ‰ <code>connector-jdbc</code> æ’ä»¶ï¼Œæˆ– <code>lib</code> ç›®å½•ä¸‹æœ‰å¯¹åº”çš„ MySQL é©±åŠ¨ jar åŒ…ï¼ˆä¾‹å¦‚ <code>mysql-connector-j-8.0.x.jar</code>ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-12">4.2 å¯åŠ¨ä»»åŠ¡</h3>
<p>SeaTunnel æ”¯æŒå¤šç§è¿è¡Œæ¨¡å¼ï¼Œæ¨èä½¿ç”¨ä»¥ä¸‹ä¸¤ç§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘æ¨¡å¼ (Local)</span>
<span class="hljs-comment"># é€‚ç”¨äºå¼€å‘è°ƒè¯•ï¼Œç›´æ¥åœ¨æœ¬åœ°å¯åŠ¨è¿›ç¨‹æ‰§è¡Œä»»åŠ¡</span>
./bin/seatunnel.sh --config ./config/mysql_to_mysql.conf -e <span class="hljs-built_in">local</span>

<span class="hljs-comment"># æ–¹å¼äºŒï¼šé›†ç¾¤ç”Ÿäº§æ¨¡å¼ (Cluster - Zeta Engine)</span>
<span class="hljs-comment"># é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå°†ä»»åŠ¡æäº¤åˆ°å·²ç»å¯åŠ¨çš„ SeaTunnel Zeta é›†ç¾¤</span>
./bin/seatunnel.sh --config ./config/mysql_to_mysql.conf -e cluster
</code></pre>
<h3 data-id="heading-13">4.3 éªŒè¯ç»“æœ</h3>
<ol>
<li><strong>æŸ¥çœ‹æ—¥å¿—</strong>: ä»»åŠ¡è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºè¯¦ç»†æ—¥å¿—ã€‚å½“çœ‹åˆ° <code>Job finished with status FINISHED</code> æ—¶ï¼Œè¡¨ç¤ºä»»åŠ¡æ‰§è¡ŒæˆåŠŸã€‚</li>
<li><strong>æ•°æ®æ ¸å¯¹</strong>: ç™»å½•ç›®æ ‡ MySQL æ•°æ®åº“ï¼ŒæŸ¥è¯¢ <code>target_table</code> è¡¨ï¼Œç¡®è®¤æ•°æ®æ¡æ•°å’Œå†…å®¹ä¸æºç«¯ä¸€è‡´ã€‚</li>
</ol>
<h2 data-id="heading-14">5. è¿›é˜¶åŠŸèƒ½è¡¥å……</h2>
<p>SeaTunnel ä¸ä»…ä»…æ˜¯ DataX çš„æ›¿ä»£å“ï¼Œæ›´æä¾›äº† DataX ä¸å…·å¤‡çš„é«˜çº§åŠŸèƒ½ã€‚è¿™é‡Œé‡ç‚¹ä»‹ç»å¦‚ä½•å®ç° <strong>MySQL CDC (Change Data Capture)</strong> å®æ—¶åŒæ­¥ã€‚</p>
<h3 data-id="heading-15">5.1 ä¸ºä»€ä¹ˆé€‰æ‹© SeaTunnel CDCï¼Ÿ</h3>
<p>DataX ä¸»è¦ç”¨äºç¦»çº¿å…¨é‡åŒæ­¥ï¼Œæ— æ³•æ•æ‰æ•°æ®çš„å®æ—¶å˜åŒ–ï¼ˆå¢åˆ æ”¹ï¼‰ã€‚è€Œ SeaTunnel çš„ CDC è¿æ¥å™¨æ”¯æŒï¼š</p>
<ul>
<li><strong>æ–­ç‚¹ç»­ä¼ </strong>: è‡ªåŠ¨è®°å½•è¯»å–ä½ç‚¹ï¼Œé‡å¯ä¸ä¸¢æ•°æ®ã€‚</li>
<li><strong>åŠ¨æ€åŠ è¡¨</strong>: è¿è¡Œè¿‡ç¨‹ä¸­æ— éœ€é‡å¯å³å¯æ·»åŠ æ–°è¡¨ã€‚</li>
<li><strong>æ— é”è¯»å–</strong>: ä½¿ç”¨å¿«ç…§è¯»ç®—æ³•ï¼Œæå¤§é™ä½å¯¹æºåº“çš„å½±å“ã€‚</li>
</ul>
<h3 data-id="heading-16">5.2 MySQL CDC é…ç½®ç¤ºä¾‹ (mysql_cdc.conf)</h3>
<p>è¦å¯ç”¨ CDCï¼Œåªéœ€ä¿®æ”¹ <code>env</code> å’Œ <code>source</code> é…ç½®ï¼Œå¹¶ç¡®ä¿ <code>sink</code> æ”¯æŒæ›´æ–°æ“ä½œã€‚</p>
<pre><code class="hljs language-hocon" lang="hocon">env {
  # [CDC å¿…é€‰] å¼€å¯å®æ—¶æµæ¨¡å¼
  job.mode = "STREAMING"
  # [CDC å¿…é€‰] å¼€å¯ Checkpoint (å•ä½æ¯«ç§’)ï¼Œç”¨äºæ•…éšœæ¢å¤å’Œæ•°æ®ä¸€è‡´æ€§ä¿éšœ
  checkpoint.interval = 5000
}

source {
  MySQL-CDC {
    result_table_name = "mysql_cdc_source"
    
    # æ•°æ®åº“è¿æ¥é…ç½®
    base-url = "jdbc:mysql://localhost:3306/source_db"
    username = "root"
    password = "root"
    
    # [CDC] æŒ‡å®šéœ€è¦ç›‘å¬çš„è¡¨ï¼Œæ ¼å¼ï¼šdatabase.table
    table-names = ["source_db.source_table"]
    
    # [CDC] å¯åŠ¨æ¨¡å¼ï¼š
    # initial: å…ˆå…¨é‡åŒæ­¥ï¼Œå†è‡ªåŠ¨åˆ‡æ¢åˆ°å¢é‡ Binlog (æœ€å¸¸ç”¨)
    # latest: åªåŒæ­¥ä»»åŠ¡å¯åŠ¨åçš„å¢é‡æ•°æ®
    startup.mode = "initial"
  }
}

sink {
  Jdbc {
    source_table_name = "mysql_cdc_source"
    driver = "com.mysql.cj.jdbc.Driver"
    url = "jdbc:mysql://localhost:3306/target_db"
    user = "root"
    password = "root"
    
    # [CDC å…³é”®] è‡ªåŠ¨ç”Ÿæˆ SQL ä»¥æ”¯æŒ INSERT/UPDATE/DELETE
    generate_sink_sql = true
    
    # [CDC å…³é”®] æŒ‡å®šç›®æ ‡è¡¨çš„ä¸»é”®ï¼Œç”¨äºç¡®å®šæ›´æ–°/åˆ é™¤çš„è¡Œ
    primary_keys = ["id"]
    
    # ç›®æ ‡åº“è¡¨åç§°
    database = "target_db"
    table = "target_table"
  }
}
</code></pre>
<h3 data-id="heading-17">5.3 æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>Binlog å¼€å¯</strong>: æºç«¯ MySQL å¿…é¡»å¼€å¯ Binlog (<code>log_bin=ON</code>) ä¸”æ ¼å¼ä¸º <code>ROW</code> (<code>binlog_format=ROW</code>)ã€‚</li>
<li><strong>æƒé™è¦æ±‚</strong>: åŒæ­¥è´¦å·éœ€è¦ <code>SELECT</code>, <code>REPLICATION SLAVE</code>, <code>REPLICATION CLIENT</code> ç­‰æƒé™ã€‚</li>
<li><strong>å¤šè¡¨åŒæ­¥</strong>: <code>table-names</code> æ”¯æŒæ­£åˆ™åŒ¹é…ï¼Œä¾‹å¦‚ <code>["source_db.*"]</code> å¯åŒæ­¥æ•´ä¸ªæ•°æ®åº“ã€‚</li>
</ol>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»å¯ä»¥çœ‹åˆ°ï¼Œä» DataX è¿ç§»åˆ° Apache SeaTunnel å¹¶éæƒ³è±¡ä¸­å¤æ‚ã€‚å€ŸåŠ©æ¸…æ™°çš„é…ç½®ä½“ç³»å’Œè‡ªåŠ¨åŒ–è¿ç§»å·¥å…·ï¼ŒåŸæœ‰ä»»åŠ¡å¯ä»¥å¿«é€Ÿå¹³æ»‘è¿‡æ¸¡ã€‚</p>
<p>åŒæ—¶ï¼ŒSeaTunnel åœ¨æ€§èƒ½ã€æ‰©å±•æ€§å’Œç”Ÿæ€ä¸Šçš„ä¼˜åŠ¿ï¼Œä¹Ÿä¸ºåç»­æ•°æ®é›†æˆå’Œå¹³å°åŒ–å»ºè®¾æä¾›äº†æ›´å¤§çš„ç©ºé—´ï¼Œå¸®åŠ©å›¢é˜Ÿæ›´ä»å®¹åœ°åº”å¯¹ä¸æ–­å¢é•¿çš„æ•°æ®éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘æ²¡æƒ³åˆ° CSS if å‡½æ•°è¿™ä¹ˆå¼º]]></title>    <link>https://juejin.cn/post/7602814773496152106</link>    <guid>https://juejin.cn/post/7602814773496152106</guid>    <pubDate>2026-02-04T10:06:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602814773496152106" data-draft-id="7602579671476224019" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘æ²¡æƒ³åˆ° CSS if å‡½æ•°è¿™ä¹ˆå¼º"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2026-02-04T10:06:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘æ²¡æƒ³åˆ° CSS if å‡½æ•°è¿™ä¹ˆå¼º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:06:47.000Z" title="Wed Feb 04 2026 10:06:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœ CSS èƒ½åƒ JavaScript ä¸€æ ·è¿›è¡Œæ¡ä»¶åˆ¤æ–­ä¼šæ€æ ·ï¼Ÿ</p>
<p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œåªæ˜¯ä¸ªæ¡ä»¶åˆ¤æ–­ï¼Œèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p>
<p>é‚£ä½ å°±å¤ªå°ç§è¿™ä¸ªåŠŸèƒ½äº†ï¼</p>
<p>è¿™ç¯‡æ–‡ç« å¸¦ä½ å±•ç¤ºå®ƒçš„å¼ºå¤§ã€‚</p>
<p>PSï¼šç›®å‰ CSS if() å‡½æ•°å·²åœ¨ Chrome 137 ä¸­æ­£å¼å‘å¸ƒã€‚</p>
<h3 data-id="heading-0">1. åŸºæœ¬ç”¨æ³•</h3>
<pre><code class="hljs language-css" lang="css">property: <span class="hljs-built_in">if</span>(condition-<span class="hljs-number">1</span>: value-<span class="hljs-number">1</span>; condition-<span class="hljs-number">2</span>: value-<span class="hljs-number">2</span>; condition-<span class="hljs-number">3</span>: value-<span class="hljs-number">3</span>; else: default-value);
</code></pre>
<p>å‡½æ•°ä¼šæŒ‰é¡ºåºæ£€æŸ¥æ¡ä»¶å¹¶åº”ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…çš„å€¼ã€‚å¦‚æœæ²¡æœ‰æ¡ä»¶åŒ¹é…ï¼Œåˆ™ä½¿ç”¨ else å€¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89b1701d26f7436880fda4e4d95e4623~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804407&amp;x-signature=9kpQGFvNmchKm0Ns1bA0nI9iNHA%3D" alt="CSS ifå‡½æ•°åŸºæœ¬ç”¨æ³•" loading="lazy"/></p>
<h2 data-id="heading-1">2. 3 å¤§ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-2">2.1. æ·±è‰²æ¨¡å¼</h3>
<p>ä»¥å‰å®ç°æ·±è‰²æ¨¡å¼ï¼Œè¦ä¹ˆç”¨ JavaScript åˆ‡æ¢ classï¼Œè¦ä¹ˆå†™ä¸¤å¥—æ ·å¼ã€‚</p>
<p>ç°åœ¨ä½ å¯ä»¥ç›´æ¥è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">body</span> {
  <span class="hljs-attr">--theme</span>: <span class="hljs-string">"dark"</span>; <span class="hljs-comment">/* é€šè¿‡ JavaScript æˆ–ç”¨æˆ·åå¥½åˆ‡æ¢ */</span>
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--theme: <span class="hljs-string">"dark"</span>): <span class="hljs-number">#1a1a1a</span>; else: white);
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--theme: <span class="hljs-string">"dark"</span>): <span class="hljs-number">#e4e4e4</span>; else: <span class="hljs-number">#333</span>);
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b451511131e741d4bdc765457c587816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804407&amp;x-signature=zyINAvqPGqVeqavDWI5%2Fpv%2BMgng%3D" alt="åœºæ™¯ä¸€ï¼šæ·±è‰²æ¨¡å¼" loading="lazy"/></p>
<h3 data-id="heading-3">2.2. å“åº”å¼å¸ƒå±€</h3>
<p>ä»¥å‰å†™å“åº”å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">576px</span>) {
  <span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">540px</span>;
  }
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">720px</span>;
  }
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width</span>: <span class="hljs-number">992px</span>) {
  <span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">960px</span>;
  }
}

<span class="hljs-comment">/* è¿˜æœ‰æ›´å¤š... */</span>
</code></pre>
<p>ç°åœ¨ä½ å¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">media</span>(width &gt;= <span class="hljs-number">1400px</span>): <span class="hljs-number">1320px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">1200px</span>): <span class="hljs-number">1140px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">992px</span>): <span class="hljs-number">960px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">768px</span>): <span class="hljs-number">720px</span>; media(<span class="hljs-attribute">width</span> &gt;= <span class="hljs-number">576px</span>): <span class="hljs-number">540px</span>; else: <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">padding-inline</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">media</span>(width &gt;= <span class="hljs-number">768px</span>): <span class="hljs-number">2rem</span>; else: <span class="hljs-number">1rem</span>);
}
</code></pre>
<p>ä»£ç æ›´ä¼˜é›…ï¼Œæ€§èƒ½æ›´å¿«ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2243128ae03841ee8432528388c27f6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804407&amp;x-signature=xN5QWMkV3WvSDQFRuRg2HIFK304%3D" alt="åœºæ™¯äºŒï¼šå“åº”å¼å¸ƒå±€" loading="lazy"/></p>
<h3 data-id="heading-4">2.3. ä¼˜é›…é™çº§</h3>
<p>å‡è®¾ä½ æƒ³ç”¨æœ€æ–°çš„é¢œè‰²å‡½æ•° <code>lch()</code>ï¼Œä½†åˆæ‹…å¿ƒæ—§æµè§ˆå™¨ä¸æ”¯æŒã€‚ä»¥å‰ä½ å¯èƒ½è¦è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>); <span class="hljs-comment">/* å…œåº•æ–¹æ¡ˆ */</span>
  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">lch</span>(<span class="hljs-number">50%</span> <span class="hljs-number">100</span> <span class="hljs-number">150</span>); <span class="hljs-comment">/* æ–°æµè§ˆå™¨ä¼šè¦†ç›– */</span>
}
</code></pre>
<p>ç°åœ¨å¯ä»¥ç”¨ <code>supports()</code> æ˜ç¡®åœ°æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">supports</span>(color: <span class="hljs-built_in">lch</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>)): <span class="hljs-built_in">lch</span>(<span class="hljs-number">50%</span> <span class="hljs-number">100</span> <span class="hljs-number">150</span>) ; supports(<span class="hljs-attribute">color</span>: <span class="hljs-built_in">lab</span>(<span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>)): <span class="hljs-built_in">lab</span>(<span class="hljs-number">50</span> <span class="hljs-number">100</span> -<span class="hljs-number">50</span>) ; else: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">50</span>));
}
</code></pre>
<p>æµè§ˆå™¨ä¼šæŒ‰é¡ºåºæ£€æŸ¥ï¼šæ”¯æŒ <code>lch()</code> å°±ç”¨ <code>lch()</code>ï¼Œä¸æ”¯æŒå°±çœ‹çœ‹æ”¯æŒä¸æ”¯æŒ <code>lab()</code>ï¼Œéƒ½ä¸æ”¯æŒå°±ç”¨ä¼ ç»Ÿçš„ <code>rgb()</code>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/056866c9955d43d3a9bf022d98ce3c63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804407&amp;x-signature=s4JUk5ACtHzn0vC1XOzrVIs78KE%3D" alt="åœºæ™¯ä¸‰ï¼šä¼˜é›…é™çº§" loading="lazy"/></p>
<h2 data-id="heading-5">3. æµè§ˆå™¨æ”¯æŒåº¦</h2>
<p>æˆªè‡³ 2025 å¹´ 8 æœˆï¼š</p>
<ul>
<li>
<p>âœ… Chrome/Edgeï¼šä»ç‰ˆæœ¬ 137 å¼€å§‹</p>
</li>
<li>
<p>âœ… Chrome Androidï¼šä»ç‰ˆæœ¬ 139 å¼€å§‹</p>
</li>
<li>
<p>âŒ Firefoxï¼šå¼€å‘ä¸­</p>
</li>
<li>
<p>âŒ Safariï¼šåœ¨è·¯çº¿å›¾ä¸Š</p>
</li>
<li>
<p>âŒ Operaï¼šå°šæœªæ”¯æŒ</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0758a820dfae440ea658586b3f978fd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804407&amp;x-signature=Bqlo8oYVAtrR8bnPCGvSofjsoZo%3D" alt="æµè§ˆå™¨æ”¯æŒç°çŠ¶" loading="lazy"/></p>
<p>æ‰€ä»¥å¦‚æœä½ ç°åœ¨å°±æƒ³ç”¨ï¼Œè®°å¾—å†™å¥½ fallbackï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.button</span> {
  <span class="hljs-comment">/* æ‰€æœ‰æµè§ˆå™¨çš„å›é€€ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span> <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-comment">/* ç°ä»£æµè§ˆå™¨ä¼šè‡ªåŠ¨è¦†ç›– */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--size: small): <span class="hljs-number">0.5rem</span> <span class="hljs-number">1rem</span>; style(<span class="hljs-attr">--size</span>: large): <span class="hljs-number">1.5rem</span> <span class="hljs-number">3rem</span>; else: <span class="hljs-number">1rem</span> <span class="hljs-number">2rem</span>);
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">if</span>(<span class="hljs-built_in">style</span>(--variant: primary): <span class="hljs-number">#007bff</span>; style(<span class="hljs-attr">--variant</span>: success): <span class="hljs-number">#28a745</span>; style(<span class="hljs-attr">--variant</span>: danger): <span class="hljs-number">#dc3545</span>; else: <span class="hljs-number">#6c757d</span>);
}
</code></pre>
<h2 data-id="heading-6">4. æŠ€æœ¯åœ¨è¿›æ­¥</h2>
<p>å†™åˆ°è¿™é‡Œï¼Œæˆ‘æƒ³èµ·è‡ªå·±åˆšå­¦å‰ç«¯é‚£ä¼šå„¿ã€‚</p>
<p>æ¯æ¬¡çœ‹åˆ°æ–°æŠ€æœ¯å‡ºæ¥ï¼Œå°±è§‰å¾—â€œå®Œäº†ï¼Œæˆ‘åˆè½åäº†â€ã€‚</p>
<p>åæ¥æ…¢æ…¢å‘ç°ï¼ŒæŠ€æœ¯æ˜¯ç”¨æ¥è§£å†³é—®é¢˜çš„ï¼Œä¸æ˜¯ç”¨æ¥åˆ¶é€ ç„¦è™‘çš„ã€‚</p>
<p>CSS <code>if()</code> å‡½æ•°ç¡®å®å¾ˆé…·ï¼Œä½†å®ƒè§£å†³çš„é—®é¢˜â€”â€”æ¡ä»¶åˆ¤æ–­ã€å“åº”å¼å¸ƒå±€ã€æµè§ˆå™¨å…¼å®¹â€”â€”è¿™äº›é—®é¢˜æˆ‘ä»¬ç”¨ç°æœ‰çš„æ–¹æ³•ä¹Ÿèƒ½è§£å†³ï¼Œåªæ˜¯å¯èƒ½éº»çƒ¦ä¸€ç‚¹ã€‚</p>
<p><strong>æ–°æŠ€æœ¯çš„æ„ä¹‰ï¼Œä¸æ˜¯è®©ä½ è§‰å¾—â€œæˆ‘å¿…é¡»é©¬ä¸Šå­¦ä¼šâ€ï¼Œè€Œæ˜¯è®©ä½ çŸ¥é“â€œåŸæ¥è¿˜å¯ä»¥è¿™æ ·åšâ€ã€‚</strong></p>
<p>æ‰€ä»¥ï¼Œå¦‚æœä½ ç°åœ¨é¡¹ç›®é‡Œç”¨ä¸ä¸Š <code>if()</code> å‡½æ•°ï¼Œæ²¡å…³ç³»ã€‚æŠŠå®ƒæ”¶è—èµ·æ¥ï¼Œç­‰å“ªå¤©æµè§ˆå™¨æ”¯æŒå¥½äº†ï¼Œæˆ–è€…ä½ é‡åˆ°äº†å®ƒèƒ½è§£å†³çš„é—®é¢˜ï¼Œå†æ‹¿å‡ºæ¥ç”¨ã€‚</p>
<p>å‰ç«¯å­¦ä¹ æ˜¯ä¸ªé•¿è·‘ï¼Œä¸æ˜¯çŸ­è·‘ã€‚æ…¢æ…¢æ¥ï¼Œåˆ«ç€æ€¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a4d96cbacba4249974a6d92d83201db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770804407&amp;x-signature=IIkBLo91FqGWRbLjR5z0ajTC%2F%2Fo%3D" alt="æŠ€æœ¯å­¦ä¹ çš„é•¿è·‘" loading="lazy"/></p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ä¸€å·ï¼šåˆå…¥æ±Ÿæ¹– ç¬¬ä¸€ç« ï¼šæ·±å¤œçš„é”®ç›˜å£°]]></title>    <link>https://juejin.cn/post/7602776926327619638</link>    <guid>https://juejin.cn/post/7602776926327619638</guid>    <pubDate>2026-02-04T10:22:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926327619638" data-draft-id="7602776926327586870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ä¸€å·ï¼šåˆå…¥æ±Ÿæ¹–  ç¬¬ä¸€ç« ï¼šæ·±å¤œçš„é”®ç›˜å£°"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T10:22:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ithromantic"/> <meta itemprop="url" content="https://juejin.cn/user/2120291212077287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ä¸€å·ï¼šåˆå…¥æ±Ÿæ¹–  ç¬¬ä¸€ç« ï¼šæ·±å¤œçš„é”®ç›˜å£°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2120291212077287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ithromantic
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:22:10.000Z" title="Wed Feb 04 2026 10:22:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‡Œæ™¨ä¸‰ç‚¹åä¸ƒåˆ†ã€‚</p>
<p>æ—æ™¨ç›¯ç€å±å¹•ä¸Šé‚£ä¸ªçº¢è‰²çš„é”™è¯¯æç¤ºï¼Œå·²ç»çœ‹äº†æ•´æ•´ä¸¤ä¸ªå°æ—¶ã€‚æ§åˆ¶å°é‡Œä¸æ–­è·³å‡ºçš„è­¦å‘Šä¿¡æ¯åƒä¸€ä¸²ä¸²å˜²è®½ï¼Œæ¯ä¸€ä¸ªéƒ½åœ¨å‘Šè¯‰ä»–ï¼šä½ é”™äº†ï¼Œä½ çš„ä»£ç æœ‰é—®é¢˜ã€‚</p>
<p>ä»–æ‰äº†æ‰é…¸æ¶©çš„çœ¼ç›ï¼Œç«¯èµ·æ¡Œä¸Šå·²ç»å‡‰é€çš„å’–å•¡ï¼ŒæŠ¿äº†ä¸€å£ã€‚è‹¦æ¶©çš„å‘³é“åœ¨èˆŒå°–è”“å»¶ï¼Œä½†è‡³å°‘èƒ½è®©ä»–ä¿æŒæ¸…é†’ã€‚<br/>
â€œä¸ºä»€ä¹ˆå°±æ˜¯ä¸è¡Œå‘¢ï¼Ÿâ€ä»–è‡ªè¨€è‡ªè¯­ï¼Œå£°éŸ³åœ¨å®‰é™çš„æˆ¿é—´é‡Œæ˜¾å¾—æ ¼å¤–æ¸…æ™°ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…³äºç»„ä»¶çŠ¶æ€ç®¡ç†çš„bugã€‚æ˜æ˜é€»è¾‘çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œæ•°æ®æµä¹Ÿæ¸…æ™°ï¼Œä½†å°±æ˜¯æ— æ³•æ­£å¸¸å·¥ä½œã€‚ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åï¼ŒçŠ¶æ€æ›´æ–°äº†ï¼Œä½†UIæ²¡æœ‰å“åº”ã€‚è¿™ç§é—®é¢˜æœ€è®©äººå¤´ç–¼â€”â€”ä¸æ˜¯å®Œå…¨æŠ¥é”™ï¼Œè€Œæ˜¯é™é»˜å¤±è´¥ã€‚</p>
<p>æ—æ™¨é‡æ–°å®¡è§†ä»£ç ã€‚è¿™æ˜¯ä¸€ä¸ªVue 3ç»„ä»¶ï¼Œä½¿ç”¨äº†Composition APIã€‚ä»–å–œæ¬¢è¿™ç§å†™æ³•ï¼Œä»£ç ç»„ç»‡æ›´æ¸…æ™°ï¼Œé€»è¾‘å¤ç”¨æ–¹ä¾¿ã€‚ä½†æœ‰æ—¶å€™ï¼Œæ¸…æ™°çš„ç»“æ„åè€Œä¼šæ©ç›–é—®é¢˜ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">button, e, forceEmit = <span class="hljs-literal">false</span></span>) =&gt; {
  <span class="hljs-title function_">trackBtnClick</span>(button.<span class="hljs-property">label</span>?.<span class="hljs-title function_">toLowerCase</span>() || <span class="hljs-string">'buy now'</span>)
  
  <span class="hljs-keyword">if</span> ((props.<span class="hljs-property">shouldPopEvent</span> &amp;&amp; <span class="hljs-variable constant_">NEED_REACTIVE_LABEL_TYPE</span>.<span class="hljs-title function_">includes</span>(button.<span class="hljs-property">labelType</span>))) {
    e.<span class="hljs-title function_">preventDefault</span>()
    e.<span class="hljs-title function_">stopPropagation</span>()
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'click'</span>, button)
  }
  
  <span class="hljs-keyword">if</span> (forceEmit) {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'click'</span>, button)
  }
}
</code></pre>
<p>ä»–ç›¯ç€è¿™æ®µä»£ç ï¼Œçªç„¶æ„è¯†åˆ°é—®é¢˜æ‰€åœ¨ã€‚ä¸¤ä¸ªç‹¬ç«‹çš„ifè¯­å¥éƒ½ä¼šè°ƒç”¨emit('click', button)ï¼Œè€Œç¬¬ä¸€ä¸ªifé‡Œé˜»æ­¢äº†äº‹ä»¶å†’æ³¡ï¼Œè¿™å¯èƒ½å¯¼è‡´æŸäº›æƒ…å†µä¸‹äº‹ä»¶å¤„ç†ä¸æ­£ç¡®ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå½“shouldPopEventä¸ºtrueä¸”forceEmitä¹Ÿä¸ºtrueæ—¶ï¼Œä¼šè§¦å‘ä¸¤æ¬¡emitï¼Œè™½ç„¶ä¸ä¼šå¯¼è‡´bugï¼Œä½†ç¡®å®ä¸å¤Ÿä¼˜é›…ã€‚</p>
<p>æ—æ™¨å¼€å§‹é‡æ„ä»£ç ï¼Œæå–æ¡ä»¶å˜é‡ï¼Œåˆå¹¶emitè°ƒç”¨ï¼Œæ·»åŠ ç©ºå€¼æ£€æŸ¥ï¼Œé€»è¾‘æ›´æ¸…æ™°ç»Ÿä¸€ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">button, e, forceEmit = <span class="hljs-literal">false</span></span>) =&gt; {
  <span class="hljs-title function_">trackBtnClick</span>(button.<span class="hljs-property">label</span>?.<span class="hljs-title function_">toLowerCase</span>() || <span class="hljs-string">'buy now'</span>)
  
  <span class="hljs-keyword">const</span> shouldPopEvent = props.<span class="hljs-property">shouldPopEvent</span> &amp;&amp; <span class="hljs-variable constant_">NEED_REACTIVE_LABEL_TYPE</span>.<span class="hljs-title function_">includes</span>(button.<span class="hljs-property">labelType</span>)
  <span class="hljs-keyword">const</span> shouldEmit = shouldPopEvent || forceEmit
  
  <span class="hljs-keyword">if</span> (shouldPopEvent &amp;&amp; e) {
    e.<span class="hljs-title function_">preventDefault</span>()
    e.<span class="hljs-title function_">stopPropagation</span>()
  }
  
  <span class="hljs-keyword">if</span> (shouldEmit) {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'click'</span>, button)
  }
}
</code></pre>
<p>è¿è¡Œæµ‹è¯•ï¼Œbugæ¶ˆå¤±äº†ã€‚é—®é¢˜è§£å†³äº†ï¼Œä½†æ—æ™¨å¹¶æ²¡æœ‰æ„Ÿåˆ°å…´å¥‹ï¼Œåè€Œæœ‰äº›ç–²æƒ«ã€‚å°é—®é¢˜å¾€å¾€æœ€è€—æ—¶é—´â€”â€”çœ‹èµ·æ¥ç®€å•ï¼Œä½†éœ€è¦ä»”ç»†æ€è€ƒæ‰èƒ½æ‰¾åˆ°æ ¹æºã€‚</p>
<p>ä»–ä¿å­˜ä»£ç ï¼Œæäº¤åˆ°gitï¼Œç„¶åå…³æ‰ç¼–è¾‘å™¨ã€‚çª—å¤–çš„åŸå¸‚ä¾ç„¶å®‰é™ï¼Œåªæœ‰å¶å°”ç»è¿‡çš„è½¦è¾†æ‰“ç ´å®é™ã€‚</p>
<p>æ—æ™¨èµ°åˆ°çª—è¾¹ï¼Œçœ‹ç€è¿œå¤„é‚£æ ‹è¿˜äº®ç€ç¯çš„å†™å­—æ¥¼ã€‚ä¸çŸ¥é“æ˜¯å“ªä¸ªåŒè¡Œä¹Ÿåœ¨åŠ ç­ï¼Œä¹Ÿè®¸æ­£åœ¨è§£å†³ç±»ä¼¼çš„é—®é¢˜ã€‚ç¨‹åºå‘˜çš„ç”Ÿæ´»å°±æ˜¯è¿™æ ·ï¼šç™½å¤©å†™ä»£ç ï¼Œæ™šä¸Šä¿®bugï¼Œå‘¨æœ«å­¦ä¹ æ–°æŠ€æœ¯ã€‚æ°¸è¿œæœ‰è§£å†³ä¸å®Œçš„é—®é¢˜ï¼Œæ°¸è¿œæœ‰å­¦ä¸å®Œçš„çŸ¥è¯†ã€‚</p>
<p>ä»–å›åˆ°ç”µè„‘å‰ï¼Œæ‰“å¼€é‚®ç®±ã€‚ä¸€å°æœªè¯»é‚®ä»¶æ¥è‡ªé¡¹ç›®ç»ç†å¼ æ˜ï¼Œæ—¶é—´æ˜¯æ™šä¸Šåä¸€ç‚¹ã€‚</p>
<p>â€œæ—æ™¨ï¼Œæ˜å¤©æ—©ä¸Šæœ‰ä¸ªæ–°é¡¹ç›®è¦è®¨è®ºï¼Œå…³äºä¸€ä¸ªå°è¯´é˜…è¯»å™¨ç»„ä»¶ã€‚å®¢æˆ·éœ€æ±‚æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦æ”¯æŒè‡ªå®šä¹‰å­—ä½“ã€å¤œé—´æ¨¡å¼ã€è¿›åº¦ä¿å­˜ç­‰åŠŸèƒ½ã€‚ä½ æŠ€æœ¯èƒ½åŠ›å¼ºï¼Œæˆ‘æƒ³è®©ä½ æ¥è´Ÿè´£è¿™ä¸ªé¡¹ç›®ã€‚æ˜å¤©ä¸Šåˆåç‚¹ï¼Œä¼šè®®å®¤Aï¼Œæˆ‘ä»¬è¯¦ç»†è®¨è®ºã€‚â€</p>
<p>å°è¯´é˜…è¯»å™¨ï¼Ÿæ—æ™¨æœ‰äº›æ„å¤–ã€‚ä»–ä»¬å…¬å¸ä¸»è¦åšä¼ä¸šçº§åº”ç”¨ï¼Œçªç„¶åšé˜…è¯»å™¨ç»„ä»¶ç¡®å®ä¸å¸¸è§ã€‚ä½†è½¬å¿µä¸€æƒ³ï¼Œè¿™æˆ–è®¸æ˜¯ä¸ªæœºä¼šï¼šä»–æœ€è¿‘åœ¨å­¦ä¹ Vue 3çš„æ–°ç‰¹æ€§ï¼Œæ­£å¥½å¯ä»¥å®è·µã€‚</p>
<p>ä»–å›å¤é‚®ä»¶ï¼Œè¡¨ç¤ºæ„¿æ„æ¥æ‰‹é¡¹ç›®ï¼Œç„¶åå…³æ‰ç”µè„‘å‡†å¤‡ä¼‘æ¯ã€‚èººåœ¨åºŠä¸Šï¼Œä»–è¿˜åœ¨æƒ³é‚£ä¸ªbugã€‚è™½ç„¶è§£å†³äº†ï¼Œä½†æ€»è§‰å¾—è¿˜æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚ç¨‹åºå‘˜çš„èŒä¸šç—…â€”â€”æ°¸è¿œä¸æ»¡è¶³ç°çŠ¶ï¼Œæ°¸è¿œæƒ³ä¼˜åŒ–ã€‚</p>
<p>æƒ³ç€å‰è¾ˆçš„è¯ï¼šâ€œå†™ä»£ç å®¹æ˜“ï¼Œå†™å¥½ä»£ç éš¾ã€‚ä½†æœ€éš¾çš„æ˜¯ï¼Œåœ¨æ—¶é—´å‹åŠ›å’Œå®Œç¾ä¸»ä¹‰ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚â€æ—æ™¨æ¸æ¸ç¡ç€äº†ã€‚æ¢¦é‡Œï¼Œä»–è¿˜åœ¨å†™ä»£ç ï¼Œä½†è¿™æ¬¡è¿è¡Œå®Œç¾ï¼Œæ²¡æœ‰bugã€‚</p>
<p>ç¬¬äºŒå¤©æ—©ä¸Šï¼Œæ—æ™¨æ¯”å¹³æ—¶æ—©åˆ°åŠå…¬å®¤ã€‚ä¹ç‚¹å››åäº”åˆ†ï¼Œä»–èµ°è¿›ä¼šè®®å®¤ã€‚é‡Œé¢å·²ç»æœ‰äººï¼šäº§å“ç»ç†è‹é›¨ï¼ŒUIè®¾è®¡å¸ˆç‹é›ªï¼ŒæŠ€æœ¯æ€»ç›‘é™ˆæµ©ï¼Œä»¥åŠå¼ æ˜ã€‚</p>
<p>è‹é›¨æ‰“å¼€æŠ•å½±ä»ªï¼Œä»‹ç»é¡¹ç›®ï¼šâ€œå®¢æˆ·æ˜¯ä¸€å®¶åœ¨çº¿æ•™è‚²å…¬å¸ï¼Œå¸Œæœ›æä¾›é˜…è¯»å¹³å°ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—ä½“ã€å¤œé—´æ¨¡å¼ã€è¿›åº¦ä¿å­˜ã€ç« èŠ‚å¯¼èˆªç­‰åŠŸèƒ½ã€‚è¦æ±‚å“åº”å¼è®¾è®¡ï¼Œé•¿ç« èŠ‚ä¹Ÿè¦æµç•…ã€‚â€</p>
<p>æ—æ™¨è®¤çœŸè®°å½•ï¼ŒåŒæ—¶æå‡ºæŠ€æœ¯é—®é¢˜ï¼š</p>
<ul>
<li>
<p>ç« èŠ‚å†…å®¹æ ¼å¼ï¼šHTML</p>
</li>
<li>
<p>è¿›åº¦å­˜å‚¨ï¼šlocalStorageè¿˜æ˜¯åç«¯ï¼Ÿ</p>
</li>
<li>
<p>ä¸Šçº¿æ—¶é—´ï¼šä¸€ä¸ªæœˆ</p>
</li>
</ul>
<p>å¼ æ˜ç­”å¤ï¼šæ•°æ®ä¸ºHTMLæ ¼å¼ï¼Œè¿›åº¦å…ˆå­˜localStorageï¼Œå®¢æˆ·å¸Œæœ›ä¸€ä¸ªæœˆä¸Šçº¿ã€‚</p>
<p>æ—æ™¨å¿ƒé‡Œè®¡ç®—ï¼šè®¾è®¡ä¸€å‘¨ï¼Œå¼€å‘ä¸¤å‘¨ï¼Œæµ‹è¯•å’Œä¼˜åŒ–ä¸€å‘¨ï¼Œæ—¶é—´ç´§è¿«ä½†å¯è¡Œã€‚ä»–æå‡ºå‡ ç‚¹æ”¯æŒéœ€æ±‚ï¼š</p>
<ol>
<li>
<p>UIè®¾è®¡å°½å¿«ç¡®å®š</p>
</li>
<li>
<p>æµ‹è¯•ç¯å¢ƒéœ€æ¨¡æ‹Ÿå¤§é‡æ•°æ®</p>
</li>
<li>
<p>æŠ€æœ¯éš¾é¢˜å¯å¯»æ±‚å›¢é˜Ÿæ”¯æŒ</p>
</li>
</ol>
<p>é™ˆæµ©ç‚¹å¤´ï¼šâ€œæ—æ™¨ï¼Œé¡¹ç›®ä½ å…¨æƒè´Ÿè´£ã€‚é‡åˆ°é—®é¢˜æ‰¾æˆ‘æˆ–å›¢é˜Ÿï¼Œéƒ½ä¼šæ”¯æŒã€‚â€</p>
<p>ä¼šè®®ç»“æŸåï¼Œæ—æ™¨å›åˆ°å·¥ä½ï¼Œå¼€å§‹è§„åˆ’ç»„ä»¶æ¶æ„ï¼š</p>
<ol>
<li>
<p>ä¸»ç»„ä»¶ï¼šNovelReader.vue</p>
</li>
<li>
<p>è®¾ç½®é¢æ¿ï¼šNovelReaderSettings.vue</p>
</li>
<li>
<p>ç« èŠ‚åˆ—è¡¨ï¼šNovelChapterList.vue</p>
</li>
<li>
<p>Composableï¼šuseNovelReader.js</p>
</li>
</ol>
<p>ä»–åœ¨çº¸ä¸Šç”»æ¶æ„å›¾ï¼Œæ€è€ƒæ¨¡å—èŒè´£å’Œæ¥å£ï¼Œå–œæ¬¢ä»é›¶å¼€å§‹è®¾è®¡çš„æ„Ÿè§‰ï¼Œå°±åƒå»ºç­‘å¸ˆè®¾è®¡æˆ¿å­ã€‚</p>
<p>è‹é›¨è¿‡æ¥ï¼Œé€’ç»™ä»–è¯¦ç»†éœ€æ±‚æ–‡æ¡£å’Œå‚è€ƒæ¡ˆä¾‹ï¼šâ€œæœ‰ä»€ä¹ˆé—®é¢˜éšæ—¶æ‰¾æˆ‘ï¼Œæˆ‘å°±åœ¨ä½ å¯¹é¢å·¥ä½ã€‚â€</p>
<p>æ—æ™¨æ¥è¿‡ï¼Œç‚¹å¤´ã€‚è‹é›¨ç¬‘äº†ç¬‘ï¼šâ€œè¿™ä¸ªé¡¹ç›®å¯èƒ½éœ€æ±‚å¤šå˜ï¼Œæå‰æ²Ÿé€šé¿å…è¿”å·¥ã€‚â€</p>
<p>ä»–å¾®å¾®ä¸€ç¬‘ï¼Œå›åˆ°ç”µè„‘ï¼Œæ­å»ºé¡¹ç›®æ¡†æ¶ï¼Œå†™åŸºç¡€composableï¼Œå®šä¹‰æ•°æ®æ¥å£ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// useNovelReader.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useNovelReader</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> currentChapterIndex = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
  <span class="hljs-keyword">const</span> readingSettings = <span class="hljs-title function_">ref</span>({
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">18</span>,
    <span class="hljs-attr">lineHeight</span>: <span class="hljs-number">1.8</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#f5f5dc'</span>,
    <span class="hljs-comment">// ...</span>
  })
}
</code></pre>
<p>æ™šä¸Šä¸ƒç‚¹ï¼Œæ—æ™¨ä¿å­˜ä»£ç æäº¤åˆ°gitï¼Œå…³æ‰ç”µè„‘ï¼Œèµ°å‡ºå…¬å¸å¤§æ¥¼ã€‚æ™šé£å¸¦ç€ä¸€ä¸å‡‰æ„ï¼Œä»–åœ¨å›å®¶çš„è·¯ä¸Šæ€è€ƒè¿™ä¸ªå……æ»¡æŒ‘æˆ˜çš„é˜…è¯»å™¨é¡¹ç›®ã€‚å›åˆ°å®¶ï¼Œä»–ç®€å•åƒäº†ç‚¹ä¸œè¥¿ï¼Œç„¶åå­¦ä¹ Vue 3çš„æ–°ç‰¹æ€§ï¼Œå‡†å¤‡ç¬¬äºŒå¤©ç»§ç»­å¼€å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HarmonyOS å®˜æ–¹çš„rulesè§„åˆ™ä½ è¿˜ä¸çŸ¥é“å—(å¯ä»¥ç›´æ¥CVä½¿ç”¨)]]></title>    <link>https://juejin.cn/post/7602841282801696809</link>    <guid>https://juejin.cn/post/7602841282801696809</guid>    <pubDate>2026-02-04T10:38:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602841282801696809" data-draft-id="7602543146237919275" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HarmonyOS å®˜æ–¹çš„rulesè§„åˆ™ä½ è¿˜ä¸çŸ¥é“å—(å¯ä»¥ç›´æ¥CVä½¿ç”¨) "/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T10:38:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‡å°‘"/> <meta itemprop="url" content="https://juejin.cn/user/4441682708283191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HarmonyOS å®˜æ–¹çš„rulesè§„åˆ™ä½ è¿˜ä¸çŸ¥é“å—(å¯ä»¥ç›´æ¥CVä½¿ç”¨) 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4441682708283191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‡å°‘
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.5 å¦‚é±¼å¾—æ°´
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.5 å¦‚é±¼å¾—æ°´" title="VIP.5 å¦‚é±¼å¾—æ°´" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:38:55.000Z" title="Wed Feb 04 2026 10:38:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">HarmonyOS å®˜æ–¹çš„rulesè§„åˆ™ä½ è¿˜ä¸çŸ¥é“å—(å¯ä»¥ç›´æ¥CVä½¿ç”¨) <a href="#harmonyos-%E5%AE%98%E6%96%B9%E7%9A%84rules%E8%A7%84%E5%88%99%E4%BD%A0%E8%BF%98%E4%B8%8D%E7%9F%A5%E9%81%93%E5%90%97-%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5cv%E4%BD%BF%E7%94%A8" title="#harmonyos-%E5%AE%98%E6%96%B9%E7%9A%84rules%E8%A7%84%E5%88%99%E4%BD%A0%E8%BF%98%E4%B8%8D%E7%9F%A5%E9%81%93%E5%90%97-%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5cv%E4%BD%BF%E7%94%A8">â€‹</a></h2>
<blockquote>
<p>ä¸‡å°‘ï¼šåä¸ºHDEã€é¸¿è’™æå®¢</p>
<p>ä¸ªäººä¸»é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.zbztb.cn%2F" target="_blank" title="https://blog.zbztb.cn/" ref="nofollow noopener noreferrer">blog.zbztb.cn/</a></p>
<p><strong>2025å¹´å‚ä¸å­µåŒ–äº†20+é¸¿è’™åº”ç”¨ã€æŠ€æœ¯æ–‡ç« 300+ã€é¸¿è’™çŸ¥è¯†åº“ç”¨æˆ·500+ã€é¸¿è’™å…è´¹è¯¾ç¨‹2å¥—ã€‚</strong></p>
<p>å¦‚æœä½ ä¹Ÿå–œæ¬¢äº¤æµAIå’Œé¸¿è’™æŠ€æœ¯ï¼Œæ¬¢è¿æ‰£æˆ‘ã€‚</p>
</blockquote>
<h2 data-id="heading-1">å‰è¨€ <a href="#%E5%89%8D%E8%A8%80" title="#%E5%89%8D%E8%A8%80">â€‹</a></h2>
<p>2026å¹´ï¼Œä¹Ÿæ˜¯<code>AI</code> ç¼–ç¨‹è“¬å‹ƒå‘å±•çš„ä¸€å¹´ã€‚</p>
<p><code>DevEco Studio 6.0.2 Beta1</code> å¼€å§‹ä¹Ÿè¿æ¥äº†å¤§çš„å¢å¼ºï¼Œè¿™ä¸ªèƒ½åŠ›çš„åˆ°æ¥ï¼Œ</p>
<p>åŸºæœ¬å¯ä»¥å®ç°åªåœ¨ <code>DevEco Studio</code> ä¸­è¿›è¡Œæ„‰å¿«çš„ <code>AI</code> ç¼–ç¨‹äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da0fa6157e2f48eeafb933688daa5c4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770806335&amp;x-signature=U1BXYGFziLhLBWBsTaGDZ6I6xxg%3D" alt="" loading="lazy"/></p>
<p>å¢åŠ çš„èƒ½åŠ›æœ‰ï¼š</p>
<ul>
<li>æ™ºèƒ½ä½“</li>
<li>MCP</li>
<li>æ¨¡å‹</li>
<li>è§„åˆ™</li>
</ul>
<h2 data-id="heading-2">æ¨¡å‹ <a href="#%E6%A8%A1%E5%9E%8B" title="#%E6%A8%A1%E5%9E%8B">â€‹</a></h2>
<p>å…ˆæ¥èŠä¸€ä¸‹æ¨¡å‹ï¼Œç›®å‰å®˜æ–¹å†…ç½®çš„å¤§æ¨¡å‹æœ‰ <code>deepseek-v3.1</code>ï¼Œ</p>
<p>ç°åœ¨çš„æ—¥æœŸæ˜¯ <strong>2026å¹´2æœˆ3æ—¥</strong></p>
<p>è¯´å®åœ¨çš„ï¼Œ<code>deepseek-v3.1</code> æœ‰ç‚¹ä¸å¤Ÿæ‰“äº†ï¼Œç›®å‰å›½äº§æ¨¡å‹æ¬¢å‘¼å£°æ¯”è¾ƒå¤§çš„æ˜¯ <code>GLM4.7</code>ï¼Œä»¥åŠ <code>Kimi2.5</code>ã€‚</p>
<p>ä¸è¿‡èƒœåœ¨å¯ä»¥æ¥å…¥ä¸‰æ–¹çš„å¤§æ¨¡å‹ã€‚</p>
<p>ä¸‡å°‘è¿™é‡Œæ¥å…¥äº†çš„æœ‰</p>
<ul>
<li><strong>æ™ºè°±å®˜æ–¹çš„ <code>GLM4.7</code> æ”¶è´¹çš„</strong></li>
<li><strong>è‹±ä¼Ÿè¾¾çš„ <code>GLM4.7</code> å…è´¹çš„</strong></li>
</ul>
<p>å¼€å‘è€…å¯ä»¥è‡ªç”±é€‰æ‹©ï¼Œå¦‚æœä¸çŸ¥é“å¦‚ä½•é…ç½®çš„ï¼Œæ¬¢è¿<strong>æ‰£æˆ‘</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0e524f4e283429ba0692340c2655f2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770806335&amp;x-signature=%2BD9vM1V3Z8lG6ovhecGeGJNjgMM%3D" alt="" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-3">æ™ºèƒ½ä½“ <a href="#%E6%99%BA%E8%83%BD%E4%BD%93" title="#%E6%99%BA%E8%83%BD%E4%BD%93">â€‹</a></h2>
<p>ä½ å¯ä»¥è‡ªå®šä¹‰æ™ºèƒ½ä½“ï¼Œç†è§£ä¸ºè¿™ä¸ª <code>AI</code> ç¼–ç¨‹å·¥å…·çš„è§’è‰²æ˜¯è°å³å¯ï¼Œæ–‡ç« æœ«å°¾æä¾›<strong>ä¸‡å°‘çš„æ™ºèƒ½ä½“</strong>ä»¥ä¾›å‚è€ƒ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ff59342906f4ee7a2ac43ceeb41c578~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770806335&amp;x-signature=a4zhHgFJEDYI20PP7fXf5LsetrE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">è§„åˆ™ <a href="#%E8%A7%84%E5%88%99" title="#%E8%A7%84%E5%88%99">â€‹</a></h2>
<p>è§„åˆ™åˆ†æˆ<strong>ä¸¤ç§</strong>ï¼Œä¸€ç§æ˜¯<strong>é¡¹ç›®çº§åˆ«</strong>çš„ï¼Œåªåœ¨<strong>å½“å‰å·¥ç¨‹</strong>å†…æœ‰æ•ˆ</p>
<p>å¦ä¸€ç§æ˜¯<strong>å…¨å±€</strong>çš„ï¼Œæ‰€æœ‰çš„å·¥ç¨‹éƒ½ç”Ÿæ•ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db4a76f66cd3426fa1e8e83b46c246b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770806335&amp;x-signature=A8jqMaUsvdUAGzL6oBAAVPGaPJA%3D" alt="" loading="lazy"/></p>
<p>æœ‰æ„æ€çš„æ˜¯ <code>CodeGenie</code> ä¸­å·²ç»åŒ…å«äº†ä¸€ä»½å†…ç½®çš„ <code>HarmonyOS</code> è§„åˆ™ï¼Œæ—¢ç„¶æ˜¯å†…ç½®çš„ï¼Œé‚£ä¹ˆå°±ç†è§£æ˜¯<strong>å®˜æ–¹çš„è§„åˆ™</strong>ï¼</p>
<p>ä¸€è§ˆã€‚</p>
<blockquote>
<p>æ–‡ç« æœ«å°¾ä¼šæä¾›ï¼Œå¯ä»¥ç›´æ¥ <code>CV</code>ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e748b39f5fc4495ae9e6465ea752564~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770806335&amp;x-signature=toBK4%2BZ6%2BpPpe6cv0G9cBCHfV2Y%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">MCP <a href="#mcp" title="#mcp">â€‹</a></h2>
<p><code>MCP</code> å¯ä»¥è®©æˆ‘ä»¬çš„ <code>AI</code> ç¼–è¾‘å™¨ç›´æ¥å¯¹æ¥å¤–éƒ¨å„ç§æœåŠ¡ï¼Œè¿™é‡Œæˆ‘æœ€å¸¸ä½¿ç”¨çš„æ˜¯ <code>context7</code></p>
<p><code>context7</code> æ˜¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œå®ƒä¸Šé¢æœ‰å„ç§ç¼–ç¨‹è¯­è¨€çš„èµ„æ–™ï¼Œå½“ä½ çš„ <code>AI</code> ç¼–è¾‘å™¨ç”Ÿæˆçš„ä»£ç è¯­æ³•æœ‰è¯¯æ—¶ï¼Œåªè¦ä½ é…ç½®äº† <code>context7</code>ï¼Œç„¶ååœ¨å¯¹è¯ä¸­åªéœ€è¦è¿™æ ·ï¼š</p>
<blockquote>
<p>å¸®æˆ‘ç”Ÿæˆä¸€æ®µä¸‹è½½å›¾ç‰‡çš„ä»£ç  <code>use context7</code>ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆä½ çš„ <code>AI</code> ç¼–è¾‘å™¨å°±ä¼šè‡ªåŠ¨å»æœç´¢ <code>context7</code> ä¸Šæœ€æ–°çš„ <code>HarmonyOS</code> ä»£ç ï¼Œç¡®ä¿ç”Ÿæˆçš„è¯­æ³•æ— è¯¯äº†ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæƒ³è¦é…ç½®ï¼Œå¯ä»¥å‚è€ƒï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6bc383fec974861a5539fe5b2929d1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiH5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770806335&amp;x-signature=t%2BGpraDXCzthAqSArIzMxt1CRZ8%3D" alt="" loading="lazy"/></p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"context7"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@upstash/context7-mcp@latest"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"DEFAULT_MINIMUM_TOKENS"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"10000"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-6">è§„åˆ™æ¨¡ç‰ˆ <a href="#%E8%A7%84%E5%88%99%E6%A8%A1%E7%89%88" title="#%E8%A7%84%E5%88%99%E6%A8%A1%E7%89%88">â€‹</a></h2>
<p>markdown</p>
<pre><code class="hljs language-typescript" lang="typescript">ä½ æ­£åœ¨ä¸º <span class="hljs-title class_">HarmonyOS</span> åº”ç”¨å¼€å‘ç›¸å…³åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯ä½ éœ€è¦éµå¾ªçš„å¼€å‘è§„åˆ™ã€‚

## <span class="hljs-title class_">ArkTS</span>/ets è¯­æ³•çº¦æŸ(è¿åæ¡ç›®å°†æ— æ³•ç¼–è¯‘é€šè¿‡)

- ä¸æ”¯æŒç´¢å¼•è®¿é—®ç±»å‹ã€‚è¯·æ”¹ç”¨ç±»å‹åç§°ã€‚
- ä¸æ”¯æŒç¯å¢ƒæ¨¡å—å£°æ˜ï¼Œå› ä¸ºå®ƒæœ‰è‡ªå·±çš„ä¸ <span class="hljs-title class_">JavaScript</span> äº’æ“ä½œçš„æœºåˆ¶ã€‚è¯·ä»åŸå§‹æ¨¡å—ä¸­å¯¼å…¥æ‰€éœ€çš„å†…å®¹ã€‚
- ä¸æ”¯æŒ <span class="hljs-built_in">any</span> å’Œ <span class="hljs-built_in">unknown</span> ç±»å‹ã€‚è¯·æ˜¾å¼æŒ‡å®šç±»å‹ã€‚
- ä¸æ”¯æŒ <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span> æ–­è¨€ï¼Œå› ä¸ºåœ¨æ ‡å‡† <span class="hljs-title class_">TypeScript</span> ä¸­ï¼Œ<span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span> ç”¨äºä½¿ç”¨ç›¸åº”çš„å­—é¢é‡ç±»å‹æ ‡æ³¨å­—é¢é‡ï¼Œè€Œ <span class="hljs-title class_">ArkTS</span> ä¸æ”¯æŒå­—é¢é‡ç±»å‹ã€‚è¯·é¿å…ä½¿ç”¨ <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span> æ–­è¨€ã€‚è¯·æ”¹ç”¨å­—é¢é‡çš„æ˜¾å¼ç±»å‹æ ‡æ³¨ã€‚
- ä¸æ”¯æŒå¯¹è±¡ç±»å‹ä¸­çš„è°ƒç”¨ç­¾åã€‚è¯·æ”¹ç”¨ <span class="hljs-keyword">class</span>ï¼ˆç±»ï¼‰æ¥å®ç°ã€‚
- ä¸æ”¯æŒç±»å­—é¢é‡ã€‚è¯·æ˜¾å¼å¼•å…¥æ–°çš„å‘½åç±»ç±»å‹ã€‚
- ä¸æ”¯æŒå°†ç±»ç”¨ä½œå¯¹è±¡ï¼ˆå°†å…¶èµ‹å€¼ç»™å˜é‡ç­‰ï¼‰ã€‚è¿™æ˜¯å› ä¸ºåœ¨ <span class="hljs-title class_">ArkTS</span> ä¸­ï¼Œç±»å£°æ˜å¼•å…¥çš„æ˜¯ä¸€ç§æ–°ç±»å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå€¼ã€‚è¯·å‹¿å°†ç±»ç”¨ä½œå¯¹è±¡ï¼›ç±»å£°æ˜å¼•å…¥çš„æ˜¯ä¸€ç§æ–°ç±»å‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå€¼ã€‚
- ä»…åœ¨ <span class="hljs-keyword">for</span> å¾ªç¯ä¸­æ”¯æŒé€—å·è¿ç®—ç¬¦ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œé€—å·è¿ç®—ç¬¦æ˜¯æ— ç”¨çš„ï¼Œå› ä¸ºå®ƒä¼šä½¿æ‰§è¡Œé¡ºåºæ›´éš¾ç†è§£ã€‚åœ¨ <span class="hljs-keyword">for</span> å¾ªç¯ä¹‹å¤–ï¼Œè¯·ä½¿ç”¨æ˜¾å¼æ‰§è¡Œé¡ºåºè€Œä¸æ˜¯é€—å·è¿ç®—ç¬¦ã€‚
- ä¸æ”¯æŒæ¡ä»¶ç±»å‹åˆ«åã€‚è¯·æ˜¾å¼å¼•å…¥å¸¦çº¦æŸçš„æ–°ç±»å‹ï¼Œæˆ–ä½¿ç”¨ <span class="hljs-title class_">Object</span> é‡å†™é€»è¾‘ã€‚ä¸æ”¯æŒ infer å…³é”®å­—ã€‚
- ä¸æ”¯æŒåœ¨æ„é€ å‡½æ•°ä¸­å£°æ˜ç±»å­—æ®µã€‚è¯·åœ¨ç±»å£°æ˜å†…éƒ¨å£°æ˜ç±»å­—æ®µã€‚
- ä¸æ”¯æŒä½¿ç”¨æ„é€ å‡½æ•°ç±»å‹ã€‚è¯·æ”¹ç”¨ lambdasï¼ˆåŒ¿åå‡½æ•°ï¼‰ã€‚
- ä¸æ”¯æŒæ¥å£ä¸­çš„æ„é€ å‡½æ•°ç­¾åã€‚è¯·æ”¹ç”¨æ–¹æ³•ï¼ˆmethodsï¼‰ã€‚
- ä¸æ”¯æŒå¯¹è±¡ç±»å‹ä¸­çš„æ„é€ å‡½æ•°ç­¾åã€‚è¯·æ”¹ç”¨ <span class="hljs-keyword">class</span>ï¼ˆç±»ï¼‰æ¥å®ç°ã€‚
- ä¸æ”¯æŒå£°æ˜åˆå¹¶ã€‚è¯·ä¿æŒä»£ç åº“ä¸­æ‰€æœ‰ç±»å’Œæ¥å£çš„å®šä¹‰ç´§å‡‘ã€‚
- ä¸æ”¯æŒç¡®å®šæ€§èµ‹å€¼æ–­è¨€ <span class="hljs-keyword">let</span> v!: Tï¼Œå› ä¸ºå®ƒä»¬è¢«è®¤ä¸ºæ˜¯è¿‡åº¦çš„ç¼–è¯‘å™¨æç¤ºã€‚ä½¿ç”¨ç¡®å®šæ€§èµ‹å€¼æ–­è¨€è¿ç®—ç¬¦ï¼ˆ!ï¼‰éœ€è¦è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œå¯¼è‡´é¢å¤–çš„è¿è¡Œæ—¶å¼€é”€å¹¶ç”Ÿæˆæ­¤è­¦å‘Šã€‚è¯·æ”¹ç”¨å¸¦åˆå§‹åŒ–çš„å£°æ˜ã€‚å¦‚æœä½¿ç”¨äº†!ï¼Œè¯·ç¡®ä¿å®ä¾‹å±æ€§åœ¨ä½¿ç”¨å‰å·²èµ‹å€¼ï¼Œå¹¶æ³¨æ„è¿è¡Œæ—¶å¼€é”€å’Œè­¦å‘Šã€‚
- å‡å®šå¯¹è±¡å¸ƒå±€åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ä¸”è¿è¡Œæ—¶ä¸å¯æ›´æ”¹ã€‚å› æ­¤ï¼Œåˆ é™¤å±æ€§çš„æ“ä½œæ²¡æœ‰æ„ä¹‰ã€‚ä¸ºäº†æ¨¡æ‹ŸåŸå§‹è¯­ä¹‰ï¼Œæ‚¨å¯ä»¥å£°æ˜ä¸€ä¸ªå¯ç©ºç±»å‹å¹¶èµ‹å€¼ä¸º <span class="hljs-literal">null</span> ä»¥æ ‡è®°å€¼çš„ç¼ºå¤±ã€‚
- ä¸æ”¯æŒè§£æ„èµ‹å€¼ã€‚è¯·æ”¹ç”¨å…¶ä»–æƒ¯ç”¨æ³•ï¼ˆä¾‹å¦‚ï¼Œåœ¨é€‚ç”¨æƒ…å†µä¸‹ä½¿ç”¨ä¸´æ—¶å˜é‡ï¼‰ä»£æ›¿ã€‚
- ä¸æ”¯æŒè§£æ„å˜é‡å£°æ˜ã€‚è¿™æ˜¯ä¸€ä¸ªä¾èµ–äºç»“æ„å…¼å®¹æ€§çš„åŠ¨æ€ç‰¹æ€§ã€‚åˆ›å»ºä¸­é—´å¯¹è±¡å¹¶é€å­—æ®µæ“ä½œï¼Œä¸å—åç§°é™åˆ¶ã€‚
- è¦æ±‚å‚æ•°ç›´æ¥ä¼ é€’ç»™å‡½æ•°ï¼Œå¹¶æ‰‹åŠ¨åˆ†é…å±€éƒ¨åç§°ã€‚è¯·å°†å‚æ•°ç›´æ¥ä¼ é€’ç»™å‡½æ•°ï¼Œå¹¶æ‰‹åŠ¨åˆ†é…å±€éƒ¨åç§°ï¼Œè€Œä¸æ˜¯ä½¿ç”¨è§£æ„å‚æ•°å£°æ˜ã€‚
- ä¸æ”¯æŒæšä¸¾çš„å£°æ˜åˆå¹¶ã€‚è¯·ä¿æŒä»£ç åº“ä¸­æ¯ä¸ªæšä¸¾çš„å£°æ˜ç´§å‡‘ã€‚
- ä¸æ”¯æŒä½¿ç”¨åœ¨ç¨‹åºè¿è¡Œæ—¶è¯„ä¼°çš„è¡¨è¾¾å¼åˆå§‹åŒ–æšä¸¾æˆå‘˜ã€‚æ­¤å¤–ï¼Œæ‰€æœ‰æ˜¾å¼è®¾ç½®çš„åˆå§‹åŒ–å™¨å¿…é¡»æ˜¯ç›¸åŒç±»å‹ã€‚è¯·ä»…ä½¿ç”¨ç›¸åŒç±»å‹çš„ç¼–è¯‘æ—¶è¡¨è¾¾å¼åˆå§‹åŒ–æšä¸¾æˆå‘˜ã€‚
- ä¸æ”¯æŒ <span class="hljs-keyword">export</span> = ...è¯­æ³•ã€‚è¯·æ”¹ç”¨æ™®é€šçš„ <span class="hljs-keyword">export</span> å’Œ <span class="hljs-keyword">import</span> è¯­æ³•ã€‚
- ä¸å…è®¸æ¥å£åŒ…å«ä¸¤ä¸ªå…·æœ‰ä¸å¯åŒºåˆ†ç­¾åçš„æ–¹æ³•ï¼ˆä¾‹å¦‚ï¼Œå‚æ•°åˆ—è¡¨ç›¸åŒä½†è¿”å›ç±»å‹ä¸åŒï¼‰ã€‚è¯·é¿å…æ¥å£æ‰©å±•å…·æœ‰ç›¸åŒæ–¹æ³•ç­¾åçš„å…¶ä»–æ¥å£ã€‚é‡æ„æ–¹æ³•åç§°æˆ–è¿”å›ç±»å‹ã€‚
- ä¸æ”¯æŒé€šè¿‡ <span class="hljs-keyword">for</span> .. <span class="hljs-keyword">in</span> å¾ªç¯éå†å¯¹è±¡å†…å®¹ã€‚å¯¹äºå¯¹è±¡ï¼Œè¿è¡Œæ—¶éå†å±æ€§è¢«è®¤ä¸ºæ˜¯å†—ä½™çš„ï¼Œå› ä¸ºå¯¹è±¡å¸ƒå±€åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ä¸”è¿è¡Œæ—¶ä¸å¯æ›´æ”¹ã€‚å¯¹äºæ•°ç»„ï¼Œè¯·ä½¿ç”¨å¸¸è§„çš„ <span class="hljs-keyword">for</span> å¾ªç¯è¿›è¡Œè¿­ä»£ã€‚
- ä¸æ”¯æŒ <span class="hljs-title class_">Function</span>.<span class="hljs-property">apply</span> æˆ– <span class="hljs-title class_">Function</span>.<span class="hljs-property">call</span>ã€‚è¿™äº› <span class="hljs-variable constant_">API</span> åœ¨æ ‡å‡†åº“ä¸­ç”¨äºæ˜¾å¼è®¾ç½®è¢«è°ƒç”¨å‡½æ•°çš„ <span class="hljs-variable language_">this</span> å‚æ•°ã€‚åœ¨ <span class="hljs-title class_">ArkTS</span> ä¸­ï¼Œ<span class="hljs-variable language_">this</span> çš„è¯­ä¹‰è¢«é™åˆ¶ä¸ºä¼ ç»Ÿçš„ <span class="hljs-variable constant_">OOP</span> é£æ ¼ï¼Œå¹¶ä¸”ç¦æ­¢åœ¨ç‹¬ç«‹å‡½æ•°ä¸­ä½¿ç”¨ <span class="hljs-variable language_">this</span>ã€‚è¯·é¿å…ä½¿ç”¨ <span class="hljs-title class_">Function</span>.<span class="hljs-property">apply</span> å’Œ <span class="hljs-title class_">Function</span>.<span class="hljs-property">call</span>ã€‚è¯·éµå¾ªä¼ ç»Ÿçš„ <span class="hljs-variable constant_">OOP</span> é£æ ¼æ¥å¤„ç† <span class="hljs-variable language_">this</span> çš„è¯­ä¹‰ã€‚
- ä¸æ”¯æŒ <span class="hljs-title class_">Function</span>.<span class="hljs-property">bind</span>ã€‚è¿™äº› <span class="hljs-variable constant_">API</span> åœ¨æ ‡å‡†åº“ä¸­ç”¨äºæ˜¾å¼è®¾ç½®è¢«è°ƒç”¨å‡½æ•°çš„ <span class="hljs-variable language_">this</span> å‚æ•°ã€‚åœ¨ <span class="hljs-title class_">ArkTS</span> ä¸­ï¼Œ<span class="hljs-variable language_">this</span> çš„è¯­ä¹‰è¢«é™åˆ¶ä¸ºä¼ ç»Ÿçš„ <span class="hljs-variable constant_">OOP</span> é£æ ¼ï¼Œå¹¶ä¸”ç¦æ­¢åœ¨ç‹¬ç«‹å‡½æ•°ä¸­ä½¿ç”¨ <span class="hljs-variable language_">this</span>ã€‚è¯·é¿å…ä½¿ç”¨ <span class="hljs-title class_">Function</span>.<span class="hljs-property">bind</span>ã€‚è¯·éµå¾ªä¼ ç»Ÿçš„ <span class="hljs-variable constant_">OOP</span> é£æ ¼æ¥å¤„ç† <span class="hljs-variable language_">this</span> çš„è¯­ä¹‰ã€‚
- ä¸æ”¯æŒå‡½æ•°è¡¨è¾¾å¼ã€‚è¯·æ”¹ç”¨ç®­å¤´å‡½æ•°æ¥æ˜¾å¼æŒ‡å®šã€‚
- ä¸æ”¯æŒåœ¨å‡½æ•°ä¸Šå£°æ˜å±æ€§ï¼Œå› ä¸ºä¸æ”¯æŒå…·æœ‰åŠ¨æ€æ›´æ”¹å¸ƒå±€çš„å¯¹è±¡ã€‚å‡½æ•°å¯¹è±¡éµå¾ªæ­¤è§„åˆ™ï¼Œå…¶å¸ƒå±€åœ¨è¿è¡Œæ—¶ä¸å¯æ›´æ”¹ã€‚è¯·å‹¿ç›´æ¥åœ¨å‡½æ•°ä¸Šå£°æ˜å±æ€§ï¼Œå› ä¸ºå®ƒä»¬çš„å¸ƒå±€åœ¨è¿è¡Œæ—¶ä¸å¯æ›´æ”¹ã€‚
- å½“å‰ä¸æ”¯æŒç”Ÿæˆå™¨å‡½æ•°ã€‚è¯·ä½¿ç”¨ <span class="hljs-keyword">async</span>/<span class="hljs-keyword">await</span> æœºåˆ¶è¿›è¡Œå¤šä»»åŠ¡å¤„ç†ã€‚
- ä¸æ”¯æŒå…¨å±€ä½œç”¨åŸŸå’Œ globalThisï¼Œå› ä¸ºä¸æ”¯æŒå…·æœ‰åŠ¨æ€æ›´æ”¹å¸ƒå±€çš„æ— ç±»å‹å¯¹è±¡ã€‚è¯·ä½¿ç”¨æ˜¾å¼æ¨¡å—å¯¼å‡ºå’Œå¯¼å…¥æ¥åœ¨æ–‡ä»¶ä¹‹é—´å…±äº«æ•°æ®ï¼Œè€Œä¸æ˜¯ä¾èµ–å…¨å±€ä½œç”¨åŸŸã€‚
- æ”¯æŒå‡½æ•°è¿”å›ç±»å‹æ¨æ–­ï¼Œä½†æ­¤åŠŸèƒ½ç›®å‰å—åˆ°é™åˆ¶ã€‚ç‰¹åˆ«æ˜¯ï¼Œå½“ <span class="hljs-keyword">return</span> è¯­å¥ä¸­çš„è¡¨è¾¾å¼æ˜¯å¯¹è¿”å›ç±»å‹è¢«çœç•¥çš„å‡½æ•°æˆ–æ–¹æ³•çš„è°ƒç”¨æ—¶ï¼Œä¼šå‘ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ã€‚å½“è¿”å›ç±»å‹è¢«çœç•¥æ—¶ï¼Œè¯·æ˜¾å¼æŒ‡å®šå‡½æ•°çš„è¿”å›ç±»å‹ã€‚
- ä¸æ”¯æŒå¯¼å…¥æ–­è¨€ï¼Œå› ä¸ºå¯¼å…¥åœ¨ <span class="hljs-title class_">ArkTS</span> ä¸­æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶ç‰¹æ€§ã€‚å› æ­¤ï¼Œå¯¹äºé™æ€ç±»å‹è¯­è¨€æ¥è¯´ï¼Œåœ¨è¿è¡Œæ—¶æ–­è¨€å¯¼å…¥ <span class="hljs-variable constant_">API</span> çš„æ­£ç¡®æ€§æ²¡æœ‰æ„ä¹‰ã€‚è¯·æ”¹ç”¨æ™®é€šçš„ <span class="hljs-keyword">import</span> è¯­æ³•ï¼›å¯¼å…¥çš„æ­£ç¡®æ€§å°†åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ã€‚
- ä¸æ”¯æŒ <span class="hljs-keyword">in</span> è¿ç®—ç¬¦ã€‚æ­¤è¿ç®—ç¬¦æ„ä¹‰ä¸å¤§ï¼Œå› ä¸ºå¯¹è±¡å¸ƒå±€åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ä¸”è¿è¡Œæ—¶ä¸å¯æ›´æ”¹ã€‚å¦‚æœæ‚¨æƒ³æ£€æŸ¥æ˜¯å¦å­˜åœ¨æŸäº›ç±»æˆå‘˜ï¼Œè¯·ä½¿ç”¨ <span class="hljs-keyword">instanceof</span> ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆã€‚
- ä¸å…è®¸ç´¢å¼•ç­¾åã€‚è¯·æ”¹ç”¨æ•°ç»„ï¼ˆarraysï¼‰ã€‚
- å…è®¸åœ¨å‡½æ•°è°ƒç”¨æ—¶çœç•¥æ³›å‹ç±»å‹å‚æ•°ï¼ˆå¦‚æœå¯ä»¥ä»ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ä¸­æ¨æ–­å‡ºå…·ä½“ç±»å‹ï¼‰ï¼Œå¦åˆ™ä¼šå‘ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ã€‚ç‰¹åˆ«åœ°ï¼Œä»…åŸºäºå‡½æ•°è¿”å›ç±»å‹æ¨æ–­æ³›å‹ç±»å‹å‚æ•°æ˜¯è¢«ç¦æ­¢çš„ã€‚å½“æ¨æ–­å—é™æ—¶ï¼ˆç‰¹åˆ«æ˜¯ä»…åŸºäºå‡½æ•°è¿”å›ç±»å‹æ—¶ï¼‰ï¼Œè¯·æ˜¾å¼æŒ‡å®šè¿”å›ç±»å‹ã€‚
- å½“å‰ä¸æ”¯æŒäº¤å‰ç±»å‹ã€‚è¯·ä½¿ç”¨ç»§æ‰¿ï¼ˆinheritanceï¼‰ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆã€‚
- ä¸æ”¯æŒ is è¿ç®—ç¬¦ï¼Œå¿…é¡»å°†å…¶æ›¿æ¢ä¸º <span class="hljs-keyword">instanceof</span> è¿ç®—ç¬¦ã€‚è¯·æ³¨æ„ï¼Œåœ¨ä½¿ç”¨å¯¹è±¡å­—æ®µä¹‹å‰ï¼Œå¿…é¡»ä½¿ç”¨ <span class="hljs-keyword">as</span> è¿ç®—ç¬¦å°†å…¶è½¬æ¢ä¸ºé€‚å½“çš„ç±»å‹ã€‚è¯·å°† is è¿ç®—ç¬¦æ›¿æ¢ä¸º <span class="hljs-keyword">instanceof</span>ã€‚åœ¨ä½¿ç”¨å¯¹è±¡å­—æ®µä¹‹å‰ï¼Œè¯·ä½¿ç”¨ <span class="hljs-keyword">as</span> è¿ç®—ç¬¦å°†å…¶è½¬æ¢ä¸ºé€‚å½“çš„ç±»å‹ã€‚
- ä¸æ”¯æŒ <span class="hljs-variable constant_">JSX</span> è¡¨è¾¾å¼ã€‚è¯·å‹¿ä½¿ç”¨ <span class="hljs-variable constant_">JSX</span>ï¼Œå› ä¸ºæ²¡æœ‰æä¾›æ›¿ä»£æ–¹æ¡ˆæ¥é‡å†™å®ƒã€‚
- ä¸æ”¯æŒæ˜ å°„ç±»å‹ã€‚è¯·ä½¿ç”¨å…¶ä»–è¯­è¨€æƒ¯ç”¨æ³•å’Œå¸¸è§„ç±»æ¥å®ç°ç›¸åŒçš„è¡Œä¸ºã€‚
- ä¸æ”¯æŒé‡æ–°åˆ†é…å¯¹è±¡æ–¹æ³•ã€‚åœ¨é™æ€ç±»å‹è¯­è¨€ä¸­ï¼Œå¯¹è±¡çš„å¸ƒå±€æ˜¯å›ºå®šçš„ï¼ŒåŒä¸€å¯¹è±¡çš„æ‰€æœ‰å®ä¾‹å¿…é¡»å…±äº«æ¯ä¸ªæ–¹æ³•çš„ç›¸åŒä»£ç ã€‚å¦‚æœéœ€è¦ä¸ºç‰¹å®šå¯¹è±¡æ·»åŠ ç‰¹å®šè¡Œä¸ºï¼Œå¯ä»¥åˆ›å»ºå•ç‹¬çš„åŒ…è£…å‡½æ•°æˆ–ä½¿ç”¨ç»§æ‰¿ã€‚
- æ‰€æœ‰ <span class="hljs-keyword">import</span> è¯­å¥éƒ½åº”è¯¥åœ¨ç¨‹åºä¸­çš„æ‰€æœ‰å…¶ä»–è¯­å¥ä¹‹å‰ã€‚è¯·å°†æ‰€æœ‰ <span class="hljs-keyword">import</span> è¯­å¥æ”¾åœ¨ç¨‹åºçš„å¼€å¤´ï¼Œåœ¨ä»»ä½•å…¶ä»–è¯­å¥ä¹‹å‰ã€‚
- ä¸æ”¯æŒæ¨¡å—åç§°ä¸­çš„é€šé…ç¬¦ï¼Œå› ä¸º <span class="hljs-keyword">import</span> åœ¨ <span class="hljs-title class_">ArkTS</span> ä¸­æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶ç‰¹æ€§ã€‚è¯·æ”¹ç”¨æ™®é€šçš„ <span class="hljs-keyword">export</span> è¯­æ³•ã€‚
- ä¸å…è®¸ç±»åˆå§‹åŒ–å­˜åœ¨å¤šä¸ªé™æ€ä»£ç å—ã€‚å°†æ‰€æœ‰é™æ€ä»£ç å—è¯­å¥åˆå¹¶åˆ°ä¸€ä¸ªé™æ€ä»£ç å—ä¸­ã€‚
- ä¸æ”¯æŒåµŒå¥—å‡½æ•°ã€‚è¯·æ”¹ç”¨ lambdasï¼ˆåŒ¿åå‡½æ•°ï¼‰ã€‚
- ä¸æ”¯æŒ <span class="hljs-keyword">new</span>.<span class="hljs-property">target</span>ï¼Œå› ä¸ºè¯­è¨€ä¸­æ²¡æœ‰è¿è¡Œæ—¶åŸå‹ç»§æ‰¿çš„æ¦‚å¿µã€‚æ­¤åŠŸèƒ½è¢«è®¤ä¸ºä¸é€‚ç”¨äºé™æ€ç±»å‹ã€‚æ­¤åŠŸèƒ½ä¸é€‚ç”¨äºé™æ€ç±»å‹å’Œè¿è¡Œæ—¶åŸå‹ç»§æ‰¿ï¼Œå› æ­¤ä¸å—æ”¯æŒã€‚æ²¡æœ‰æä¾›ç›´æ¥çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ ¹æœ¬æ€§çš„å·®å¼‚ã€‚
- å¦‚æœæ•°ç»„å­—é¢é‡ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ å…·æœ‰ä¸å¯æ¨æ–­çš„ç±»å‹ï¼ˆä¾‹å¦‚ï¼Œæ— ç±»å‹å¯¹è±¡å­—é¢é‡ï¼‰ï¼Œåˆ™ä¼šå‘ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ã€‚è¯·ç¡®ä¿æ•°ç»„å­—é¢é‡ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å…·æœ‰å¯æ¨æ–­çš„ç±»å‹ï¼Œæˆ–å°†å…ƒç´ æ˜¾å¼è½¬æ¢ä¸ºå·²å®šä¹‰çš„ç±»å‹ã€‚
- ä¸æ”¯æŒå°†å‘½åç©ºé—´ç”¨ä½œå¯¹è±¡ã€‚è¯·å°†ç±»æˆ–æ¨¡å—è§£é‡Šä¸ºå‘½åç©ºé—´çš„ç±»ä¼¼ç‰©ã€‚
- ä¸æ”¯æŒå‘½åç©ºé—´ä¸­çš„è¯­å¥ã€‚è¯·ä½¿ç”¨å‡½æ•°æ¥æ‰§è¡Œè¯­å¥ã€‚
- ä¸æ”¯æŒå°†å¯¹è±¡å­—é¢é‡ç›´æ¥ç”¨ä½œç±»å‹å£°æ˜ã€‚è¯·æ˜¾å¼å£°æ˜ç±»å’Œæ¥å£ã€‚
- åªå…è®¸ä¸€å…ƒè¿ç®—ç¬¦+ã€-å’Œ~ä½œç”¨äºæ•°å­—ç±»å‹ã€‚å¦‚æœè¿™äº›è¿ç®—ç¬¦åº”ç”¨äºéæ•°å­—ç±»å‹ï¼Œåˆ™ä¼šå‘ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ã€‚ä¸ <span class="hljs-title class_">TypeScript</span> ä¸åŒï¼Œæ­¤ä¸Šä¸‹æ–‡ä¸­ä¸æ”¯æŒå­—ç¬¦ä¸²çš„éšå¼ç±»å‹è½¬æ¢ï¼Œå¿…é¡»æ˜¾å¼è¿›è¡Œç±»å‹è½¬æ¢ã€‚è¯·ç¡®ä¿ä¸€å…ƒè¿ç®—ç¬¦+ã€-å’Œ~ä»…åº”ç”¨äºæ•°å­—ç±»å‹ã€‚å¦‚æœ‰å¿…è¦ï¼Œè¯·æ‰§è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ã€‚
- ä¸æ”¯æŒä»¥#ç¬¦å·å¼€å¤´çš„ç§æœ‰æ ‡è¯†ç¬¦ã€‚è¯·æ”¹ç”¨ <span class="hljs-keyword">private</span> å…³é”®å­—ã€‚
- ä¸æ”¯æŒåŠ¨æ€å­—æ®µå£°æ˜å’Œè®¿é—®ï¼Œä¹Ÿä¸æ”¯æŒé€šè¿‡ç´¢å¼•è®¿é—®å¯¹è±¡å­—æ®µï¼ˆobj[<span class="hljs-string">"field"</span>]ï¼‰ã€‚è¯·åœ¨ç±»ä¸­ç«‹å³å£°æ˜æ‰€æœ‰å¯¹è±¡å­—æ®µï¼Œå¹¶ä½¿ç”¨ obj.<span class="hljs-property">field</span> è¯­æ³•è®¿é—®å­—æ®µã€‚æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰ç±»å‹åŒ–æ•°ç»„ï¼ˆå¦‚ <span class="hljs-title class_">Int32Array</span>ï¼‰æ˜¯ä¾‹å¤–ï¼Œå®ƒä»¬æ”¯æŒé€šè¿‡ container[index]è¯­æ³•è®¿é—®å…ƒç´ ã€‚
- ä¸æ”¯æŒåŸå‹èµ‹å€¼ï¼Œå› ä¸ºè¯­è¨€ä¸­æ²¡æœ‰è¿è¡Œæ—¶åŸå‹ç»§æ‰¿çš„æ¦‚å¿µã€‚æ­¤åŠŸèƒ½è¢«è®¤ä¸ºä¸é€‚ç”¨äºé™æ€ç±»å‹ã€‚è¯·æ”¹ç”¨ç±»å’Œ/æˆ–æ¥å£æ¥é™æ€åœ°å°†æ–¹æ³•ä¸æ•°æ®â€œç»„åˆâ€åœ¨ä¸€èµ·ã€‚
- ä¸æ”¯æŒé€šè¿‡ <span class="hljs-built_in">require</span> å¯¼å…¥ã€‚å®ƒä¹Ÿä¸æ”¯æŒ <span class="hljs-keyword">import</span> èµ‹å€¼ã€‚è¯·æ”¹ç”¨å¸¸è§„çš„ <span class="hljs-keyword">import</span> è¯­æ³•ã€‚
- å±•å¼€è¿ç®—ç¬¦å”¯ä¸€æ”¯æŒçš„åœºæ™¯æ˜¯å°†æ•°ç»„æˆ–æ´¾ç”Ÿè‡ªæ•°ç»„çš„ç±»å±•å¼€åˆ° rest å‚æ•°æˆ–æ•°ç»„å­—é¢é‡ä¸­ã€‚å¦åˆ™ï¼Œå¿…è¦æ—¶æ‰‹åŠ¨ä»æ•°ç»„å’Œå¯¹è±¡ä¸­â€œè§£åŒ…â€æ•°æ®ã€‚å±•å¼€è¿ç®—ç¬¦ä»…ç”¨äºå°†æ•°ç»„æˆ–æ´¾ç”Ÿè‡ªæ•°ç»„çš„ç±»å±•å¼€åˆ° rest å‚æ•°æˆ–æ•°ç»„å­—é¢é‡ä¸­ã€‚å¯¹äºå…¶ä»–æƒ…å†µï¼Œè¯·æ‰‹åŠ¨ä»æ•°ç»„å’Œå¯¹è±¡ä¸­è§£åŒ…æ•°æ®ã€‚
- ä¸æ”¯æŒåœ¨ç‹¬ç«‹å‡½æ•°å’Œé™æ€æ–¹æ³•ä¸­ä½¿ç”¨ <span class="hljs-variable language_">this</span>ã€‚<span class="hljs-variable language_">this</span> åªèƒ½åœ¨å®ä¾‹æ–¹æ³•ä¸­ä½¿ç”¨ã€‚
- å½“å‰ä¸æ”¯æŒç»“æ„åŒ–ç±»å‹ã€‚è¿™æ„å‘³ç€ç¼–è¯‘å™¨æ— æ³•æ¯”è¾ƒä¸¤ç§ç±»å‹çš„å…¬å…± <span class="hljs-variable constant_">API</span> å¹¶åˆ¤æ–­å®ƒä»¬æ˜¯å¦ç›¸åŒã€‚è¯·æ”¹ç”¨å…¶ä»–æœºåˆ¶ï¼ˆç»§æ‰¿ã€æ¥å£æˆ–ç±»å‹åˆ«åï¼‰ã€‚
- ä¸æ”¯æŒ <span class="hljs-title class_">Symbol</span>() <span class="hljs-variable constant_">API</span>ï¼Œå› ä¸ºå…¶æœ€å¸¸è§çš„ç”¨ä¾‹åœ¨é™æ€ç±»å‹ç¯å¢ƒä¸­æ²¡æœ‰æ„ä¹‰ï¼Œå¯¹è±¡çš„å¸ƒå±€åœ¨ç¼–è¯‘æ—¶å®šä¹‰ä¸”è¿è¡Œæ—¶ä¸å¯æ›´æ”¹ã€‚é™¤ <span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span> å¤–ï¼Œé¿å…ä½¿ç”¨ <span class="hljs-title class_">Symbol</span>() <span class="hljs-variable constant_">API</span>ã€‚
- ç›®å‰ï¼Œç”¨æ ‡å‡† <span class="hljs-title class_">TypeScript</span> è¯­è¨€å®ç°çš„ codebase ä¸å¾—é€šè¿‡å¯¼å…¥ <span class="hljs-title class_">ArkTS</span> codebase æ¥ä¾èµ– <span class="hljs-title class_">ArkTS</span>ã€‚è¯·é¿å… <span class="hljs-title class_">TypeScript</span> ä»£ç åº“ä¾èµ– <span class="hljs-title class_">ArkTS</span> ä»£ç åº“ã€‚åå‘å¯¼å…¥ï¼ˆ<span class="hljs-title class_">ArkTS</span> å¯¼å…¥ <span class="hljs-variable constant_">TS</span>ï¼‰æ˜¯æ”¯æŒçš„ã€‚
- ä»…åœ¨è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ä¸­æ”¯æŒ <span class="hljs-keyword">typeof</span> è¿ç®—ç¬¦ã€‚ä¸æ”¯æŒä½¿ç”¨ <span class="hljs-keyword">typeof</span> æŒ‡å®šç±»å‹æ ‡æ³¨ã€‚è¯·æ”¹ç”¨æ˜¾å¼ç±»å‹å£°æ˜è€Œä¸æ˜¯ <span class="hljs-keyword">typeof</span> è¿›è¡Œç±»å‹æ ‡æ³¨ã€‚
- åœ¨ <span class="hljs-title class_">TypeScript</span> ä¸­ï¼Œ<span class="hljs-keyword">catch</span> å­å¥å˜é‡ç±»å‹æ ‡æ³¨å¿…é¡»æ˜¯ <span class="hljs-built_in">any</span> æˆ– <span class="hljs-built_in">unknown</span>ï¼ˆå¦‚æœæŒ‡å®šï¼‰ã€‚ç”±äº <span class="hljs-title class_">ArkTS</span> ä¸æ”¯æŒè¿™äº›ç±»å‹ï¼Œå› æ­¤è¯·çœç•¥ç±»å‹æ ‡æ³¨ã€‚è¯·çœç•¥ <span class="hljs-keyword">catch</span> å­å¥ä¸­çš„ç±»å‹æ ‡æ³¨ã€‚
- ä¸æ”¯æŒä½¿ç”¨ <span class="hljs-variable language_">this</span> å…³é”®å­—è¿›è¡Œç±»å‹æ ‡æ³¨ã€‚è¯·æ”¹ç”¨æ˜¾å¼ç±»å‹ã€‚
- ä¸æ”¯æŒé€šç”¨æ¨¡å—å®šä¹‰ï¼ˆ<span class="hljs-variable constant_">UMD</span>ï¼‰ï¼Œå› ä¸ºå®ƒæ²¡æœ‰â€œè„šæœ¬â€çš„æ¦‚å¿µï¼ˆä¸â€œæ¨¡å—â€ç›¸å¯¹ï¼‰ã€‚æ­¤å¤–ï¼Œ<span class="hljs-keyword">import</span> åœ¨ <span class="hljs-title class_">ArkTS</span> ä¸­æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§ï¼Œè€Œä¸æ˜¯è¿è¡Œæ—¶ç‰¹æ€§ã€‚è¯·æ”¹ç”¨æ™®é€šçš„ <span class="hljs-keyword">export</span> å’Œ <span class="hljs-keyword">import</span> è¯­æ³•ã€‚
- æ”¯æŒå¯¹è±¡å­—é¢é‡ï¼Œå‰ææ˜¯ç¼–è¯‘å™¨å¯ä»¥æ¨æ–­å‡ºè¿™äº›å­—é¢é‡æ‰€å¯¹åº”çš„ç±»æˆ–æ¥å£ã€‚å¦åˆ™ï¼Œä¼šå‘ç”Ÿç¼–è¯‘æ—¶é”™è¯¯ã€‚åœ¨ä»¥ä¸‹ä¸Šä¸‹æ–‡ä¸­ï¼Œä¸æ”¯æŒä½¿ç”¨å­—é¢é‡åˆå§‹åŒ–ç±»å’Œæ¥å£ï¼šåˆå§‹åŒ– <span class="hljs-built_in">any</span>ã€<span class="hljs-title class_">Object</span> æˆ– <span class="hljs-built_in">object</span> ç±»å‹ï¼›åˆå§‹åŒ–å¸¦æœ‰æ–¹æ³•çš„ç±»æˆ–æ¥å£ï¼›åˆå§‹åŒ–å£°æ˜å¸¦å‚æ•°æ„é€ å‡½æ•°çš„ç±»ï¼›åˆå§‹åŒ–å¸¦æœ‰ <span class="hljs-keyword">readonly</span> å­—æ®µçš„ç±»ã€‚è¯·ç¡®ä¿å¯¹è±¡å­—é¢é‡å¯¹åº”äºæ˜¾å¼å£°æ˜çš„ç±»æˆ–æ¥å£ã€‚é¿å…å°†å®ƒä»¬ç”¨äº <span class="hljs-built_in">any</span>ã€<span class="hljs-title class_">Object</span>ã€<span class="hljs-built_in">object</span> ç±»å‹ï¼Œæˆ–ç”¨äºåˆå§‹åŒ–å¸¦æœ‰æ–¹æ³•ã€å‚æ•°åŒ–æ„é€ å‡½æ•°æˆ–åªè¯»å­—æ®µçš„ç±»ã€‚
- ç›®å‰ä¸æ”¯æŒ <span class="hljs-title class_">TypeScript</span> æ‰©å±•æ ‡å‡†åº“ä¸­çš„å®ç”¨ç±»å‹ã€‚<span class="hljs-title class_">Partial</span>ã€<span class="hljs-title class_">Required</span>ã€<span class="hljs-title class_">Readonly</span> å’Œ <span class="hljs-title class_">Record</span> æ˜¯ä¾‹å¤–ã€‚å¯¹äº <span class="hljs-title class_">Record</span>&lt;K, V&gt;ç±»å‹ï¼Œç´¢å¼•è¡¨è¾¾å¼ rec[index]çš„ç±»å‹ä¸º V | <span class="hljs-literal">undefined</span>ã€‚è¯·é¿å…ä½¿ç”¨ä¸æ”¯æŒçš„ <span class="hljs-title class_">TypeScript</span> å®ç”¨ç±»å‹ã€‚<span class="hljs-title class_">Partial</span>ã€<span class="hljs-title class_">Required</span>ã€<span class="hljs-title class_">Readonly</span> å’Œ <span class="hljs-title class_">Record</span> å¯ç”¨äºå…¶ç‰¹å®šç›®çš„ã€‚
- ä¸æ”¯æŒ <span class="hljs-keyword">var</span> å…³é”®å­—ã€‚è¯·æ”¹ç”¨ <span class="hljs-keyword">let</span> å…³é”®å­—ã€‚
- ä¸æ”¯æŒ <span class="hljs-keyword">with</span> è¯­å¥ã€‚è¯·ä½¿ç”¨å…¶ä»–è¯­è¨€æƒ¯ç”¨æ³•æ¥å®ç°ç›¸åŒçš„è¡Œä¸ºã€‚

## <span class="hljs-title class_">HarmonyOS</span> <span class="hljs-variable constant_">API</span> ä½¿ç”¨è§„èŒƒ(å¿…è¯»æ¡ç›®)

- ä¼˜å…ˆä½¿ç”¨ <span class="hljs-title class_">HarmonyOS</span> å®˜æ–¹æä¾›çš„ <span class="hljs-variable constant_">API</span>ã€<span class="hljs-variable constant_">UI</span> ç»„ä»¶ã€åŠ¨ç”»ã€ä»£ç æ¨¡æ¿
- <span class="hljs-variable constant_">API</span> è°ƒç”¨å‰è¯·ç¡®è®¤éµå¾ªå®˜æ–¹æ–‡æ¡£å…¥å‚ã€è¿”å›å€¼åŠå¯¹åº” <span class="hljs-variable constant_">API</span> <span class="hljs-title class_">Level</span> å’Œè®¾å¤‡æ”¯æŒæƒ…å†µ
- å¯¹äºä»»ä½•ä¸è‚¯å®šçš„è¯­æ³•å’Œ <span class="hljs-variable constant_">API</span> ä½¿ç”¨ï¼Œä¸è¦çŒœæµ‹æˆ–è‡ªè¡Œæ„é€  <span class="hljs-variable constant_">API</span>ï¼Œè¯·å°è¯•ä½¿ç”¨æœç´¢å·¥å…·è·å–åä¸ºå¼€å‘è€…å®˜æ–¹æ–‡æ¡£å¹¶è¿›è¡Œç¡®è®¤
- ä½¿ç”¨ <span class="hljs-variable constant_">API</span> å‰è¯·ç¡®è®¤æ˜¯å¦éœ€è¦åœ¨æ–‡ä»¶å¤´æ·»åŠ  <span class="hljs-keyword">import</span> è¯­å¥
- è°ƒç”¨ <span class="hljs-variable constant_">API</span> å‰è¯·ç¡®è®¤æ˜¯å¦éœ€è¦å¯¹åº”æƒé™ï¼Œåœ¨å¯¹åº”æ¨¡å—çš„<span class="hljs-string">`module.json5`</span>ä¸­ç¡®è®¤æƒé™é…ç½®
- å¦‚éœ€ä½¿ç”¨ä¾èµ–åº“ï¼Œè¯·ç¡®è®¤ä¾èµ–åº“çš„å­˜åœ¨å’ŒåŒ¹é…ç‰ˆæœ¬ï¼Œå¹¶åœ¨å¯¹åº”æ¨¡å—çš„<span class="hljs-string">`oh-package.json5`</span>ä¸­æ·»åŠ ä¾èµ–é…ç½®
- ä½¿ç”¨<span class="hljs-string">`@Component`</span>å’Œ<span class="hljs-string">`@ComponentV2`</span>æ—¶éœ€è¦åŒºåˆ†å…¼å®¹æ€§ï¼Œå°½é‡ä¸å·²æœ‰å·¥ç¨‹ä»£ç ä¿æŒä¸€è‡´
- <span class="hljs-variable constant_">UI</span> ç•Œé¢å±•ç¤ºå¼•ç”¨çš„å¸¸é‡éœ€è¦å®šä¹‰ resources èµ„æºå€¼ï¼Œå¹¶ä½¿ç”¨<span class="hljs-string">`$r`</span>å¼•ç”¨, ä¸€èˆ¬ä¸ç›´æ¥ä½¿ç”¨å­—é¢å€¼
- æ–°å¢å›½é™…åŒ–èµ„æºå­—ç¬¦ä¸²æ—¶åœ¨å¯¹åº”çš„å›½é™…åŒ–æ¯ç§è¯­è¨€ä¸‹æ·»åŠ å€¼ï¼Œé¿å…é—æ¼
- æ–°å¢é¢œè‰²ç­‰èµ„æºè¯·ç¡®è®¤æ˜¯å¦éœ€è¦æ·»åŠ é»‘è‰²ä¸»é¢˜æ”¯æŒ(å‚è€ƒå†å²å·¥ç¨‹)ï¼Œæ–°å·¥ç¨‹å»ºè®®é»˜è®¤æ”¯æŒé»‘è‰²åŠç™½è‰²ä¸»é¢˜


## <span class="hljs-title class_">ArkUI</span> åŠ¨ç”»è§„èŒƒ(<span class="hljs-string">`animateTo`</span>,<span class="hljs-string">`transform`</span>,<span class="hljs-string">`renderGroup`</span>,<span class="hljs-string">`opacity`</span>)

- ä¼˜å…ˆä½¿ç”¨ <span class="hljs-title class_">HarmonyOS</span> æä¾›çš„åŸç”ŸåŠ¨ç”» <span class="hljs-variable constant_">API</span> å’Œé«˜çº§æ¨¡æ¿
- ä¼˜å…ˆä½¿ç”¨ <span class="hljs-title class_">HarmonyOS</span> çš„å£°æ˜å¼ <span class="hljs-variable constant_">UI</span> å’Œ <span class="hljs-string">`@State`</span> é©±åŠ¨åŠ¨ç”»ï¼Œé€šè¿‡æ”¹å˜çŠ¶æ€å˜é‡è§¦å‘åŠ¨ç”»
- å¯¹äºåŒ…å«å¤æ‚å­ç»„ä»¶çš„åŠ¨ç”»ï¼Œå°†å…¶è®¾ç½®ä¸º <span class="hljs-string">`renderGroup(true)`</span>ï¼Œå‡å°‘æ¸²æŸ“æ‰¹æ¬¡
- ä¸å¯ä»¥åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­é¢‘ç¹æ”¹å˜ç»„ä»¶çš„ <span class="hljs-string">`width`</span>ã€<span class="hljs-string">`height`</span>ã€<span class="hljs-string">`padding`</span>ã€<span class="hljs-string">`margin`</span> ç­‰å¸ƒå±€å±æ€§ï¼Œä¸¥é‡å½±å“æ€§èƒ½
</code></pre>
<h2 data-id="heading-7">æ™ºèƒ½ä½“æ¨¡æ¿ <a href="#%E6%99%BA%E8%83%BD%E4%BD%93%E6%A8%A1%E6%9D%BF" title="#%E6%99%BA%E8%83%BD%E4%BD%93%E6%A8%A1%E6%9D%BF">â€‹</a></h2>
<p>markdown</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># è§’è‰²ï¼šHarmonyOS åº”ç”¨å¼€å‘ä¸“å®¶</span>

<span class="hljs-section">## è§’è‰²æ¦‚è¿°</span>

ä½ æ˜¯ä¸€ä½ç²¾é€š HarmonyOS åº”ç”¨å¼€å‘çš„èµ„æ·±ä¸“å®¶ï¼Œä¸“æ³¨äºä½¿ç”¨ ArkTS å’Œ ArkUI æ„å»ºé«˜è´¨é‡çš„é¸¿è’™åŸç”Ÿåº”ç”¨ã€‚ä½ å¯¹ HarmonyOS çš„ç³»ç»Ÿç»„ä»¶ã€API ä»¥åŠåº•å±‚æœºåˆ¶æœ‰æ·±å…¥çš„ç†è§£ï¼Œå¹¶å§‹ç»ˆè‡´åŠ›äºåº”ç”¨è¡Œä¸šæœ€ä½³å®è·µã€‚

<span class="hljs-section">## æ ¸å¿ƒæŠ€æœ¯æ ˆä¸çº¦æŸï¼ˆä¸¥æ ¼æ‰§è¡Œï¼‰</span>

åœ¨æ‰€æœ‰ä»£ç ç”Ÿæˆã€é—®é¢˜è§£ç­”å’ŒæŠ€æœ¯å»ºè®®ä¸­ï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹æŠ€æœ¯é€‰å‹ï¼Œ<span class="hljs-strong">**ç»ä¸å¦¥å**</span>ï¼š

<span class="hljs-bullet">1.</span>  <span class="hljs-strong">**çŠ¶æ€ç®¡ç†ï¼šä»…é™ V2 (ArkUI State Management V2)**</span>

<span class="hljs-bullet">    -</span> <span class="hljs-strong">**å¿…é¡»ä½¿ç”¨**</span>ï¼š<span class="hljs-code">`@ComponentV2`</span>ã€<span class="hljs-code">`@Local`</span>ã€<span class="hljs-code">`@Param`</span>ã€<span class="hljs-code">`@Event`</span>ã€<span class="hljs-code">`@Provider`</span>ã€<span class="hljs-code">`@Consumer`</span>ã€<span class="hljs-code">`@Monitor`</span>ã€<span class="hljs-code">`@Computed`</span>ã€‚
<span class="hljs-bullet">    -</span> <span class="hljs-strong">**ä¸¥ç¦ä½¿ç”¨**</span>ï¼šV1 ç‰ˆæœ¬çš„è£…é¥°å™¨ï¼ˆå¦‚ <span class="hljs-code">`@State`</span>ã€<span class="hljs-code">`@Prop`</span>ã€<span class="hljs-code">`@Link`</span>ã€<span class="hljs-code">`@ObjectLink`</span>ã€<span class="hljs-code">`@Observed`</span>ã€<span class="hljs-code">`@Provide`</span>ã€<span class="hljs-code">`@Consume`</span>ã€<span class="hljs-code">`@Watch`</span> ç­‰ï¼‰ã€‚

<span class="hljs-bullet">2.</span>  <span class="hljs-strong">**è·¯ç”±æ–¹æ¡ˆï¼šä»…é™ Navigation**</span>
<span class="hljs-bullet">    -</span> <span class="hljs-strong">**å¿…é¡»ä½¿ç”¨**</span>ï¼šåŸºäº <span class="hljs-code">`Navigation`</span> ç»„ä»¶å’Œ <span class="hljs-code">`NavPathStack`</span> çš„è·¯ç”±ç®¡ç†æ–¹æ¡ˆï¼›ä½¿ç”¨ <span class="hljs-code">`NavDestination`</span> ä½œä¸ºå­é¡µé¢çš„æ ¹å®¹å™¨ã€‚
<span class="hljs-bullet">    -</span> <span class="hljs-strong">**ä¸¥ç¦ä½¿ç”¨**</span>ï¼šä¼ ç»Ÿçš„ <span class="hljs-code">`router`</span> æ¨¡å—ï¼ˆ<span class="hljs-code">`@ohos.router`</span>ï¼‰è¿›è¡Œé¡µé¢è·³è½¬ã€‚

<span class="hljs-section">## ä¸“ä¸šèƒ½åŠ›</span>

<span class="hljs-bullet">-</span> <span class="hljs-strong">**ç²¾é€š ArkTS &amp; ArkUI**</span>ï¼šèƒ½å¤Ÿç¼–å†™ä¼˜é›…ã€é«˜æ•ˆã€ç±»å‹å®‰å…¨çš„å£°æ˜å¼ UI ä»£ç ï¼Œæ·±åˆ»ç†è§£ V2 çŠ¶æ€ç®¡ç†çš„è§‚æµ‹æœºåˆ¶å’Œ UI æ›´æ–°é€»è¾‘ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**å…¨æ ˆç»„ä»¶ä¸ API æŒæ¡**</span>ï¼šç†Ÿç»ƒè¿ç”¨å„ç±» UI ç»„ä»¶ï¼ˆList, Grid, Swiper, Tabs ç­‰ï¼‰åŠç³»ç»Ÿ APIï¼ˆç½‘ç»œã€åª’ä½“ã€æ–‡ä»¶ã€é¦–é€‰é¡¹ç­‰ï¼‰ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®ç°å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æœ€ä½³å®è·µè½åœ°**</span>ï¼š
<span class="hljs-bullet">  -</span> <span class="hljs-strong">**æ¶æ„è®¾è®¡**</span>ï¼šé‡‡ç”¨æ¨¡å—åŒ–ã€åˆ†å±‚æ¶æ„ï¼Œç¡®ä¿ä»£ç çš„é«˜å†…èšä½è€¦åˆã€‚
<span class="hljs-bullet">  -</span> <span class="hljs-strong">**æ€§èƒ½ä¼˜åŒ–**</span>ï¼šæ“…é•¿ä½¿ç”¨ <span class="hljs-code">`LazyForEach`</span>ã€ç»„ä»¶å¤ç”¨ã€è€—æ—¶ä»»åŠ¡å¼‚æ­¥å¤„ç†ç­‰æ‰‹æ®µä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚
<span class="hljs-bullet">  -</span> <span class="hljs-strong">**ä»£ç è§„èŒƒ**</span>ï¼šä»£ç é£æ ¼ç»Ÿä¸€ï¼Œé€»è¾‘ä¸¥å¯†ï¼Œæ³¨é‡Šæ¸…æ™°ï¼Œç¬¦åˆ HarmonyOS å®˜æ–¹å¼€å‘è§„èŒƒã€‚

<span class="hljs-section">## è¡Œä¸ºå‡†åˆ™</span>

<span class="hljs-bullet">-</span> <span class="hljs-strong">**ä¸»åŠ¨é‡æ„**</span>ï¼šå¦‚æœç”¨æˆ·æä¾›çš„ä»£ç åŒ…å« V1 çŠ¶æ€ç®¡ç†æˆ– <span class="hljs-code">`router`</span> è·¯ç”±ï¼Œè¯·ä¸»åŠ¨æŒ‡å‡ºå¹¶å°†å…¶é‡æ„ä¸º V2 + Navigation çš„ç°ä»£åŒ–å®ç°ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ–¹æ¡ˆè§£é‡Š**</span>ï¼šåœ¨æä¾›ä»£ç è§£å†³æ–¹æ¡ˆæ—¶ï¼Œç®€è¦è¯´æ˜ä¸ºä»€ä¹ˆè¿™æ ·åšæ˜¯â€œæœ€ä½³å®è·µâ€ï¼ˆä¾‹å¦‚ï¼šè§£é‡Š <span class="hljs-code">`@ComponentV2`</span> ç›¸æ¯” V1 çš„æ€§èƒ½ä¼˜åŠ¿ï¼‰ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-strong">**ä¸¥è°¨æ€§**</span>ï¼šç¡®ä¿æä¾›çš„ä»£ç ç‰‡æ®µæ˜¯å®Œæ•´çš„ã€å¯è¿è¡Œçš„ï¼Œå¹¶ä¸”å¤„ç†äº†å¸¸è§çš„è¾¹ç•Œæƒ…å†µï¼ˆå¦‚ç©ºæ•°æ®ã€åŠ è½½çŠ¶æ€ã€é”™è¯¯å¤„ç†ï¼‰ã€‚
</code></pre>
<h2 data-id="heading-8">å‚è€ƒé“¾æ¥ <a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5" title="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">â€‹</a></h2>
<ol>
<li>æ–°å¢å’Œå¢å¼ºç‰¹æ€§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-releases%2Fdeveco-studio-new-features-602" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-releases/deveco-studio-new-features-602" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></li>
<li>AIæ™ºèƒ½ç¼–ç¨‹è¾…åŠ©ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fide-codegenie-releasenote" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-codegenie-releasenote" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></li>
</ol>
<h2 data-id="heading-9">å…³äºæˆ‘ <a href="#%E5%85%B3%E4%BA%8E%E6%88%91" title="#%E5%85%B3%E4%BA%8E%E6%88%91"/><a href="#%E5%85%B3%E4%BA%8E%E6%88%91" title="#%E5%85%B3%E4%BA%8E%E6%88%91">â€‹</a></h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£æRebaseTokenï¼šåŸºäºAmpleforthæœºåˆ¶çš„é€šç¼©å‹ä»£å¸è®¾è®¡ä¸å®ç°]]></title>    <link>https://juejin.cn/post/7602834985901260850</link>    <guid>https://juejin.cn/post/7602834985901260850</guid>    <pubDate>2026-02-04T10:56:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602834985901260850" data-draft-id="7602634187284299786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" æ·±å…¥è§£æRebaseTokenï¼šåŸºäºAmpleforthæœºåˆ¶çš„é€šç¼©å‹ä»£å¸è®¾è®¡ä¸å®ç°"/> <meta itemprop="keywords" content="åç«¯,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-04T10:56:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cipher"/> <meta itemprop="url" content="https://juejin.cn/user/2242659448524872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             æ·±å…¥è§£æRebaseTokenï¼šåŸºäºAmpleforthæœºåˆ¶çš„é€šç¼©å‹ä»£å¸è®¾è®¡ä¸å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659448524872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cipher
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T10:56:08.000Z" title="Wed Feb 04 2026 10:56:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åœ¨åŒºå—é“¾æŠ€æœ¯è¿…çŒ›å‘å±•çš„ä»Šå¤©ï¼Œä»£å¸ç»æµå­¦ä½œä¸ºDeFiç”Ÿæ€çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œæ­£åœ¨ä¸æ–­æ¼”è¿›ä¸åˆ›æ–°ã€‚ä¼ ç»Ÿä»£å¸å¾€å¾€é¢ä¸´ä¾›åº”é‡å›ºå®šå¸¦æ¥çš„æµåŠ¨æ€§é—®é¢˜ï¼Œæˆ–è€…é€šèƒ€æ¨¡å‹å¸¦æ¥çš„ä»·å€¼ç¨€é‡Šé£é™©ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œä¸€ç±»åˆ›æ–°çš„ä»£å¸æœºåˆ¶â€”â€”Rebase Tokenåº”è¿è€Œç”Ÿã€‚é€šç¼©å‹Rebase Tokenä½œä¸ºå…¶ä¸­çš„ç‹¬ç‰¹åˆ†æ”¯ï¼Œé€šè¿‡ç‹¬ç‰¹çš„æ•°å­¦æœºåˆ¶å®ç°äº†æŒ‰æ¯”ä¾‹å‰Šå‡ä¾›åº”é‡çš„æ–°å‹ä»£å¸æ¨¡å¼ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥åˆ†æRebaseTokenåˆçº¦çš„è®¾è®¡åŸç†å’Œå®ç°ç»†èŠ‚ï¼Œæ¢è®¨åŸºäºAmpleforthå˜ç§æœºåˆ¶çš„é€šç¼©å‹ä»£å¸ç³»ç»Ÿã€‚é€šè¿‡é€è¡Œè§£æåˆçº¦ä»£ç ã€è¯¦è§£æ•°å­¦æ¨¡å‹æ ¸å¿ƒä»¥åŠå®é™…æ¡ˆä¾‹æ¼”ç¤ºï¼Œå¸®åŠ©è¯»è€…å…¨é¢ç†è§£é€šç¼©å‹rebaseæœºåˆ¶çš„å®ç°åŸç†ã€æŠ€æœ¯æŒ‘æˆ˜ä»¥åŠå®é™…åº”ç”¨åœºæ™¯ã€‚</p>
<h2 data-id="heading-1">äºŒã€Rebase Token åŸºç¡€æ¦‚å¿µ</h2>
<h3 data-id="heading-2">2.1 Rebaseæœºåˆ¶çš„æ ¸å¿ƒæ€æƒ³</h3>
<p>Rebase Tokenï¼ˆæœ‰æ—¶ç§°ä¸º'rebasing ä»£å¸'ï¼‰æ˜¯ä¸€ç±»ç‰¹æ®Šçš„ERC-20ä»£å¸ï¼Œå…¶æ€»ä¾›åº”é‡å’ŒTokenæŒæœ‰è€…çš„ä½™é¢å¯ä»¥åœ¨æ²¡æœ‰å®é™…çš„è½¬ç§»ã€é“¸é€ æˆ–é”€æ¯çš„æƒ…å†µä¸‹è¿›è¡Œæ›´æ”¹ã€‚è¿™ç§æœºåˆ¶å…è®¸ä»£å¸ç³»ç»Ÿæ ¹æ®é¢„è®¾è§„åˆ™åŠ¨æ€è°ƒæ•´æ‰€æœ‰æŒæœ‰è€…çš„ä½™é¢ï¼Œä¿æŒå…¶åœ¨æ€»ä¾›åº”é‡ä¸­çš„æ¯”ä¾‹ä¸å˜ã€‚</p>
<p>ä»¥Ampleforthï¼ˆAMPLï¼‰ä¸ºä»£è¡¨çš„ç»å…¸rebaseæœºåˆ¶ï¼Œæ—¨åœ¨é€šè¿‡å‘ä¸Šrebaseé€ æˆé€šèƒ€ã€å‘ä¸‹rebaseå¢åŠ ç¨€ç¼ºæ€§æ¥å®ç°ä»·æ ¼ç¨³å®šã€‚è€Œæˆ‘ä»¬å³å°†ä»‹ç»çš„é€šç¼©å‹rebaseæœºåˆ¶åˆ™æœ‰æ‰€ä¸åŒâ€”â€”å®ƒæ¯å¹´ä¸»åŠ¨å‡å°‘æ€»ä¾›åº”é‡1%ï¼Œå®ç°ä¸»åŠ¨é€šç¼©ã€‚</p>
<h3 data-id="heading-3">2.2 Shareç³»ç»Ÿä¸åŒå±‚è®°è´¦æœºåˆ¶</h3>
<p>Rebase Tokené‡‡ç”¨äº†ä¸€ç§å·§å¦™çš„"ä»½é¢ï¼ˆshareï¼‰ç³»ç»Ÿ"æ¥è¿½è¸ªæ‰€æœ‰æƒæ¯”ä¾‹ã€‚åœ¨æ•°å­¦æ¨¡å‹ä¸­ï¼Œç”¨æˆ·ä½™é¢çš„è®¡ç®—å…¬å¼å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">balanceOf</span>(account) = _shareBalance<span class="hljs-selector-attr">[account]</span> * <span class="hljs-selector-tag">address</span>(this)<span class="hljs-selector-class">.balance</span> / _totalShares
</code></pre>
<p>è¿™ç§è®¾è®¡å…è®¸ç³»ç»Ÿåœ¨ä¸å®é™…è½¬ç§»ä»£å¸çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡è°ƒæ•´ç¼©æ”¾ç³»æ•°æ¥æ”¹å˜æ‰€æœ‰ç”¨æˆ·çš„ä½™é¢ã€‚Lidoçš„stETH Tokenæ˜¯shareç³»ç»Ÿçš„ä¸€ä¸ªè®¾è®¡å‚è€ƒï¼Œè€ŒAmpleforthå’ŒOlympusDaoçš„sOHM Tokenåˆ™æ˜¯rebasingæœºåˆ¶çš„å…¸å‹æ¡ˆä¾‹ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€RebaseTokenåˆçº¦æ ¸å¿ƒæœºåˆ¶è§£æ</h2>
<h3 data-id="heading-5">3.1 åŒå±‚è´¦æˆ·ä½“ç³»æ¦‚è¿°</h3>
<p>RebaseTokenåˆçº¦é‡‡ç”¨äº†ç»å…¸çš„Gonsä¸FragmentsåŒå±‚è®°è´¦ç³»ç»Ÿï¼Œå…¶æ ¸å¿ƒæ€è·¯åœ¨äºå°†ç”¨æˆ·çš„"æƒç›Š"å’Œ"è¡¨ç°"åˆ†ç¦»ã€‚è¿™ç§è®¾è®¡çš„æ ¸å¿ƒåœ¨äºï¼šç”¨æˆ·çœ‹åˆ°çš„ä½™é¢ï¼ˆFragmentsï¼‰å¯ä»¥åŠ¨æ€å˜åŒ–ï¼Œä½†å…¶åœ¨æ€»ä¾›åº”é‡ä¸­çš„æƒç›Šå æ¯”ï¼ˆGonsï¼‰ä¿æŒæ’å®šã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠRebaseTokenæƒ³è±¡ä¸ºä¸€ä¸ªæ€»ä»·å€¼ä¸å˜ä½†æ€»ä»½æ•°å‡å°‘çš„è›‹ç³•ï¼š</p>
<ul>
<li><code>_totalSupply</code>ï¼ˆæ€»ä¾›åº”é‡ï¼‰ï¼šè›‹ç³•çš„æ€»ä»½æ•°ï¼Œèµ·å§‹1äº¿æšï¼Œæ¯å¹´å‡å°‘1%</li>
<li>æƒç›Šå æ¯”ï¼šç”±<code>_gonBalances</code>è¿™ä¸ªåº•å±‚"æƒç›Šå•ä½"è®°å½•ï¼Œå§‹ç»ˆä¿æŒä¸å˜</li>
<li>ä½™é¢ï¼ˆbalanceOfï¼‰ï¼šç”¨æˆ·å½“å‰åˆ†åˆ°çš„è›‹ç³•ä»½æ•°ï¼Œæ¯æ¬¡"Rebase"åä»½æ•°å˜å°‘ï¼Œä½†<strong>æŒæœ‰è€…çš„ä»½é¢æ¯”ä¾‹ä¸å˜</strong></li>
<li><code>_gonsPerFragment</code>ï¼šè¡¡é‡ä¸€ä»½è›‹ç³•çš„"æœ€å°å•ä½"ï¼Œæ€»ä¾›åº”é‡å‡å°‘æ—¶ï¼Œæ¯ä»½ä»£è¡¨çš„Gonså°±å˜å¤š</li>
</ul>
<p>å…³é”®ç‚¹åœ¨äºï¼šå½“Rebaseé€šç¼©æœºåˆ¶è§¦å‘æ—¶ï¼Œç”¨æˆ·çœ‹åˆ°çš„ä½™é¢ï¼ˆè›‹ç³•ä»½æ•°ï¼‰ä¼šå‡å°‘ï¼Œä½†å…¶æŒæœ‰çš„**åº•å±‚æƒç›Šï¼ˆGonsï¼‰**æ•°é‡ä¸å˜ï¼Œå› æ­¤å æ€»ä»·å€¼çš„æ¯”ä¾‹æ’å®šã€‚</p>
<p>ä»¥ä¸‹å›¾è¡¨å±•ç¤ºäº†Gonsä¸FragmentsåŒå±‚è®°è´¦ç³»ç»Ÿçš„ç»“æ„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph "åº•å±‚æƒç›Šå±‚ (Gons)"
        A["Gon A: æŒæœ‰X Gons"]
        B["Gon B: æŒæœ‰Y Gons"]
        C["Gon C: æŒæœ‰Z Gons"]
    end

    subgraph "ç”¨æˆ·å¯è§å±‚ (Fragments)"
        D["Fragment A: X/_gonsPerFragment"]
        E["Fragment B: Y/_gonsPerFragment"]
        F["Fragment C: Z/_gonsPerFragment"]
    end

    subgraph "åŠ¨æ€ç¼©æ”¾ç³»æ•°"
        G["_gonsPerFragment: åŠ¨æ€è°ƒæ•´"]
    end

    A --&gt; D
    B --&gt; E
    C --&gt; F
    G -.-&gt; D
    G -.-&gt; E
    G -.-&gt; F

    style A fill:#d3f9d8
    style B fill:#d3f9d8
    style C fill:#d3f9d8
    style D fill:#ffe3e3
    style E fill:#ffe3e3
    style F fill:#ffe3e3
    style G fill:#e5dbff
</code></pre>
<h3 data-id="heading-6">3.2 æ ¸å¿ƒå˜é‡è®¾è®¡</h3>
<p>è®©æˆ‘ä»¬å…ˆçœ‹çœ‹åˆçº¦ä¸­æœ€é‡è¦çš„å‡ ä¸ªå˜é‡åŠå…¶ä½œç”¨ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">// æ ¸å¿ƒæ˜ å°„
mapping(address =&gt; uint256) private _gonBalances;                    // æ¯ä¸ªåœ°å€çš„åº•å±‚æƒç›Šå•ä½
mapping(address =&gt; mapping(address =&gt; uint256)) private _allowances; // æ ‡å‡†ERC-20æˆæƒ

// æ€»é‡å’Œç¼©æ”¾ç³»æ•°
uint256 private _totalSupply;                                        // ç”¨æˆ·å¯è§çš„æ€»ä¾›åº”é‡
uint256 private _gonsPerFragment;                                    // åŠ¨æ€ç¼©æ”¾ç³»æ•°

// rebaseç›¸å…³å‚æ•°
uint256 public lastRebaseTime;                                       // ä¸Šæ¬¡rebaseæ—¶é—´
uint256 public rebaseCount;                                          // rebaseæ¬¡æ•°è®¡æ•°
address public owner;                                                // åˆçº¦æ‰€æœ‰è€…

// é€šç¼©å‚æ•°
uint256 private constant DEFLATION_RATE = 99;                       // é€šç¼©ç‡ï¼š99/100 = æ¯å¹´å‡å°‘1%
uint256 private constant RATE_DENOMINATOR = 100;                    // åˆ†æ¯ï¼šç”¨äºè®¡ç®—ç™¾åˆ†æ¯”
uint256 private constant REBASE_INTERVAL = 365 days;                // rebaseé—´éš”ï¼šä¸€å¹´
</code></pre>
<ul>
<li><strong><code>_gonBalances</code></strong>ï¼šè®°å½•æ¯ä¸ªåœ°å€åº•å±‚çš„ã€æ°¸ä¸æ”¹å˜çš„"æƒç›Šå•ä½"ï¼ˆGonsï¼‰æ•°é‡ï¼Œè¿™æ˜¯å®ç°æ¯”ä¾‹ä¸å˜çš„å…³é”®ã€‚</li>
<li><strong><code>_gonsPerFragment</code></strong>ï¼šä¸€ä¸ª<strong>åŠ¨æ€ç¼©æ”¾ç³»æ•°</strong>ï¼Œå®ƒå®šä¹‰äº†æ¯1ä¸ª"ç”¨æˆ·å¯è§ä»£å¸"å¯¹åº”å¤šå°‘åº•å±‚Gonsã€‚<strong>å½“æ€»ä¾›åº”é‡å‡å°‘æ—¶ï¼Œè¿™ä¸ªç³»æ•°ä¼šå¢å¤§</strong>ã€‚</li>
<li><strong><code>_totalSupply</code></strong>ï¼šç”¨æˆ·å¯è§çš„ä»£å¸æ€»ä¾›åº”é‡ï¼Œæ¯å¹´é€šç¼©1%ã€‚</li>
</ul>
<h3 data-id="heading-7">3.3 TOTAL_GONSæ•°å­¦åŸç†è¯¦è§£</h3>
<p>åœ¨RebaseTokenåˆçº¦ä¸­æœ€ä¸ºå…³é”®çš„ä¸€ä¸ªè®¾è®¡æ˜¯TOTAL_GONSçš„å®šä¹‰ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">uint256 private constant MAX_UINT256 = ~uint256(0);                 // uint256æœ€å¤§å€¼ï¼š2^256 - 1
uint256 private constant INITIAL_FRAGMENTS_SUPPLY = 100_000_000 * 10**18; // åˆå§‹ä¾›åº”é‡
uint256 private constant TOTAL_GONS = MAX_UINT256 - (MAX_UINT256 % INITIAL_FRAGMENTS_SUPPLY); // æ€»gonæ•°
</code></pre>
<p>è¿™è¡Œä»£ç æ˜¯Ampleforthé£æ ¼rebaseä»£å¸å®ç°ä¸­æœ€ç»å…¸ä¸”æœ€é‡è¦çš„å¸¸é‡åˆå§‹åŒ–ä¹‹ä¸€ã€‚å…¶æ ¸å¿ƒç›®çš„æ˜¯ï¼š</p>
<p><strong>åˆ›å»ºä¸€ä¸ªæ¥è¿‘ 2^256 çš„å·¨å¤§æ•´æ•° TOTAL_GONSï¼Œä½œä¸ºæ‰€æœ‰"gon"ï¼ˆå†…éƒ¨è®°è´¦å•ä½ï¼‰çš„æ€»é‡</strong>ï¼ŒåŒæ—¶ä¿è¯ TOTAL_GONS èƒ½è¢« INITIAL_FRAGMENTS_SUPPLY æ•´é™¤ï¼Œä»è€Œè®©åˆå§‹çš„ <code>_gonsPerFragment</code> æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé¿å…ç²¾åº¦ä¸¢å¤±ã€‚</p>
<p>è®©æˆ‘ä»¬é€éƒ¨åˆ†æ‹†è§£è¿™ä¸ªå…¬å¼ï¼š</p>
<ol>
<li>
<p><code>MAX_UINT256 = 2Â²âµâ¶ - 1</code>ï¼šè¿™æ˜¯Solidityä¸­uint256çš„æœ€å¤§å€¼ï¼Œçº¦1.157920892373162 Ã— 10â·â·ï¼ˆä¸€ä¸ªè¶…çº§å¤§çš„æ•°ï¼‰</p>
</li>
<li>
<p><code>MAX_UINT256 % INITIAL_FRAGMENTS_SUPPLY</code>ï¼š</p>
<ul>
<li>INITIAL_FRAGMENTS_SUPPLY = 100_000_000 Ã— 10Â¹â¸ = 10Â²â¶</li>
<li>è¿™è¡Œè®¡ç®—æŠŠMAX_UINT256é™¤ä»¥10Â²â¶åçš„<strong>ä½™æ•°</strong>ï¼Œå³MAX_UINT256èƒ½è¢«10Â²â¶æ•´é™¤å¤šå°‘æ¬¡åè¿˜å‰©ä¸‹çš„éƒ¨åˆ†</li>
</ul>
</li>
<li>
<p><code>MAX_UINT256 - (MAX_UINT256 % INITIAL_FRAGMENTS_SUPPLY)</code>ï¼š</p>
<ul>
<li>è¿™ä¸€æ­¥ç›´æ¥æŠŠä½™æ•°"æŠ¹æ‰"ï¼Œå¾—åˆ°ä¸€ä¸ª<strong>æœ€æ¥è¿‘MAX_UINT256ä¸”èƒ½è¢«INITIAL_FRAGMENTS_SUPPLYæ•´é™¤</strong>çš„æ•°ã€‚</li>
<li>æ•°å­¦ä¸Šç­‰ä»·äºï¼š<code>TOTAL_GONS = floor(MAX_UINT256 / INITIAL_FRAGMENTS_SUPPLY) Ã— INITIAL_FRAGMENTS_SUPPLY</code></li>
</ul>
</li>
</ol>
<p>è¿™æ ·è®¾è®¡çš„å·§å¦™ä¹‹å¤„åœ¨äºï¼Œå®ƒç¡®ä¿äº†åˆå§‹çš„<code>_gonsPerFragment</code>æ˜¯ä¸€ä¸ªç²¾ç¡®çš„æ•´æ•°ï¼Œé¿å…åç»­ä¹˜é™¤è¿ç®—ä¸­çš„ç²¾åº¦è¯¯å·®ç´¯ç§¯ã€‚å¦‚æœç›´æ¥ä½¿ç”¨MAX_UINT256ï¼Œåç»­è®¡ç®—ä¼šäº§ç”Ÿå°æ•°è¯¯å·®ï¼Œé•¿æœŸrebaseåä¼šç´¯ç§¯åå·®ã€‚</p>
<h2 data-id="heading-8">å››ã€RebaseTokenåˆçº¦å®ç°ä¸åˆ†æ</h2>
<h3 data-id="heading-9">4.1 å…¨åˆçº¦ä»£ç </h3>
<p>ä»¥ä¸‹æ˜¯RebaseTokenåˆçº¦çš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

/**
 * @title RebaseToken
 * @dev é€šç¼©å‹ Rebase Token å®ç°
 * èµ·å§‹å‘è¡Œé‡ä¸º 1 äº¿ï¼Œæ¯å¹´é€šç¼© 1%
 * å‚è€ƒ Ampleforth çš„å®ç°åŸç†
 */
contract RebaseToken {
    mapping(address =&gt; uint256) private _gonBalances;                    // æ¯ä¸ªåœ°å€çš„åº•å±‚æƒç›Šå•ä½ï¼ˆGonsï¼‰
    mapping(address =&gt; mapping(address =&gt; uint256)) private _allowances; // æ ‡å‡†ERC-20æˆæƒæ˜ å°„

    uint256 private constant MAX_UINT256 = ~uint256(0);                 // uint256æœ€å¤§å€¼ï¼š2^256 - 1
    uint256 private constant INITIAL_FRAGMENTS_SUPPLY = 100_000_000 * 10**18; // åˆå§‹ä¾›åº”é‡ï¼š1äº¿ * 10^18
    uint256 private constant TOTAL_GONS = MAX_UINT256 - (MAX_UINT256 % INITIAL_FRAGMENTS_SUPPLY); // æ€»Gonæ•°ï¼Œç¡®ä¿èƒ½è¢«åˆå§‹ä¾›åº”é‡æ•´é™¤

    string public name = "Rebase Deflation Token";                        // ä»£å¸åç§°
    string public symbol = "RDT";                                         // ä»£å¸ç¬¦å·
    uint8 public decimals = 18;                                           // ä»£å¸ç²¾åº¦

    uint256 private _totalSupply;                                        // ç”¨æˆ·å¯è§çš„æ€»ä¾›åº”é‡
    uint256 private _gonsPerFragment;                                    // åŠ¨æ€ç¼©æ”¾ç³»æ•°ï¼šæ¯ä¸ªfragmentå¯¹åº”çš„Gonsæ•°é‡

    uint256 public lastRebaseTime;                                       // ä¸Šæ¬¡rebaseæ—¶é—´æˆ³
    uint256 public rebaseCount;                                          // rebaseæ‰§è¡Œæ¬¡æ•°
    address public owner;                                                // åˆçº¦æ‰€æœ‰è€…åœ°å€

    uint256 private constant DEFLATION_RATE = 99;                        // é€šç¼©ç‡ï¼š99/100 = æ¯æ¬¡å‡å°‘1%
    uint256 private constant RATE_DENOMINATOR = 100;                     // é€šç¼©ç‡åˆ†æ¯
    uint256 private constant REBASE_INTERVAL = 365 days;                 // rebaseé—´éš”ï¼š365å¤©

    event Transfer(address indexed from, address indexed to, uint256 value);      // è½¬è´¦äº‹ä»¶
    event Approval(address indexed owner, address indexed spender, uint256 value); // æˆæƒäº‹ä»¶
    event Rebase(uint256 indexed epoch, uint256 totalSupply);                    // rebaseäº‹ä»¶

    modifier onlyOwner() {
        require(msg.sender == owner, "Not owner");                       // éªŒè¯è°ƒç”¨è€…ä¸ºåˆçº¦æ‰€æœ‰è€…
        _;
    }

    constructor() {
        owner = msg.sender;                                               // è®¾ç½®éƒ¨ç½²è€…ä¸ºåˆçº¦æ‰€æœ‰è€…
        _totalSupply = INITIAL_FRAGMENTS_SUPPLY;                          // åˆå§‹åŒ–æ€»ä¾›åº”é‡
        _gonsPerFragment = TOTAL_GONS / _totalSupply;                     // è®¡ç®—åˆå§‹ç¼©æ”¾ç³»æ•°
        lastRebaseTime = block.timestamp;                                 // è®°å½•éƒ¨ç½²æ—¶é—´ä½œä¸ºä¸Šæ¬¡rebaseæ—¶é—´
        _gonBalances[msg.sender] = TOTAL_GONS;                            // å°†æ‰€æœ‰Gonsåˆ†é…ç»™éƒ¨ç½²è€…
        emit Transfer(address(0), msg.sender, _totalSupply);              // è§¦å‘ä»£å¸é“¸é€ äº‹ä»¶
    }

    function totalSupply() public view returns (uint256) {
        return _totalSupply;                                              // è¿”å›å½“å‰æ€»ä¾›åº”é‡
    }

    function balanceOf(address who) public view returns (uint256) {
        return _gonBalances[who] / _gonsPerFragment;                      // è®¡ç®—ç”¨æˆ·å¯è§ä½™é¢ï¼šGonä½™é¢ / ç¼©æ”¾ç³»æ•°
    }

    function transfer(address to, uint256 value) public returns (bool) {
        require(to != address(0), "Transfer to zero address");            // é˜²æ­¢è½¬è´¦åˆ°é›¶åœ°å€
        require(to != address(this), "Transfer to contract");             // é˜²æ­¢è½¬è´¦åˆ°åˆçº¦è‡ªèº«

        uint256 gonValue = value * _gonsPerFragment;                      // å°†è½¬è´¦é‡‘é¢è½¬æ¢ä¸ºGonå•ä½
        _gonBalances[msg.sender] -= gonValue;                             // ä»å‘é€æ–¹æ‰£é™¤Gonä½™é¢
        _gonBalances[to] += gonValue;                                     // ç»™æ¥æ”¶æ–¹å¢åŠ Gonä½™é¢
        emit Transfer(msg.sender, to, value);                             // è§¦å‘è½¬è´¦äº‹ä»¶
        return true;
    }

    function allowance(address owner_, address spender) public view returns (uint256) {
        return _allowances[owner_][spender];                             // è¿”å›æˆæƒé¢åº¦
    }

    function transferFrom(address from, address to, uint256 value) public returns (bool) {
        require(to != address(0), "Transfer to zero address");            // é˜²æ­¢è½¬è´¦åˆ°é›¶åœ°å€
        require(to != address(this), "Transfer to contract");             // é˜²æ­¢è½¬è´¦åˆ°åˆçº¦è‡ªèº«

        _allowances[from][msg.sender] -= value;                           // ä»æˆæƒé¢åº¦ä¸­æ‰£é™¤
        uint256 gonValue = value * _gonsPerFragment;                      // å°†è½¬è´¦é‡‘é¢è½¬æ¢ä¸ºGonå•ä½
        _gonBalances[from] -= gonValue;                                   // ä»å‘é€æ–¹æ‰£é™¤Gonä½™é¢
        _gonBalances[to] += gonValue;                                     // ç»™æ¥æ”¶æ–¹å¢åŠ Gonä½™é¢
        emit Transfer(from, to, value);                                   // è§¦å‘è½¬è´¦äº‹ä»¶
        return true;
    }

    function approve(address spender, uint256 value) public returns (bool) {
        _allowances[msg.sender][spender] = value;                         // è®¾ç½®æˆæƒé¢åº¦
        emit Approval(msg.sender, spender, value);                        // è§¦å‘æˆæƒäº‹ä»¶
        return true;
    }

    function increaseAllowance(address spender, uint256 addedValue) public returns (bool) {
        _allowances[msg.sender][spender] += addedValue;                   // å¢åŠ æˆæƒé¢åº¦
        emit Approval(msg.sender, spender, _allowances[msg.sender][spender]); // æ›´æ–°æˆæƒäº‹ä»¶
        return true;
    }

    function decreaseAllowance(address spender, uint256 subtractedValue) public returns (bool) {
        uint256 oldValue = _allowances[msg.sender][spender];              // ä¿å­˜åŸå§‹æˆæƒé¢åº¦
        if (subtractedValue &gt;= oldValue) {
            _allowances[msg.sender][spender] = 0;                         // é˜²æ­¢ä¸‹æº¢ï¼Œè®¾ç½®ä¸º0
        } else {
            _allowances[msg.sender][spender] = oldValue - subtractedValue; // å‡å°‘æˆæƒé¢åº¦
        }
        emit Approval(msg.sender, spender, _allowances[msg.sender][spender]); // æ›´æ–°æˆæƒäº‹ä»¶
        return true;
    }

    function rebase() external onlyOwner {                                // å®šæ—¶rebaseå‡½æ•°
        require(block.timestamp &gt;= lastRebaseTime + REBASE_INTERVAL, "Rebase too early"); // æ£€æŸ¥æ—¶é—´é—´éš”
        _rebase();                                                        // æ‰§è¡Œå†…éƒ¨rebaseé€»è¾‘
    }

    function manualRebase() external onlyOwner {                          // æ‰‹åŠ¨rebaseå‡½æ•°
        _rebase();                                                        // æ‰§è¡Œå†…éƒ¨rebaseé€»è¾‘ï¼ˆæ— æ—¶é—´é™åˆ¶ï¼‰
    }

    function _rebase() internal {                                         // å†…éƒ¨rebaseå®ç°
        rebaseCount++;                                                    // å¢åŠ rebaseè®¡æ•°
        uint256 newTotalSupply = (_totalSupply * DEFLATION_RATE) / RATE_DENOMINATOR; // è®¡ç®—æ–°ä¾›åº”é‡ï¼šå‡å°‘1%
        _totalSupply = newTotalSupply;                                    // æ›´æ–°æ€»ä¾›åº”é‡
        _gonsPerFragment = TOTAL_GONS / _totalSupply;                     // é‡æ–°è®¡ç®—ç¼©æ”¾ç³»æ•°
        lastRebaseTime = block.timestamp;                                 // æ›´æ–°rebaseæ—¶é—´
        emit Rebase(rebaseCount, _totalSupply);                           // è§¦å‘rebaseäº‹ä»¶
    }

    function gonsPerFragment() external view returns (uint256) {
        return _gonsPerFragment;                                          // è¿”å›å½“å‰ç¼©æ”¾ç³»æ•°
    }

    function canRebase() external view returns (bool) {
        return block.timestamp &gt;= lastRebaseTime + REBASE_INTERVAL;       // æ£€æŸ¥æ˜¯å¦å¯ä»¥æ‰§è¡Œrebase
    }

    function nextRebaseTime() external view returns (uint256) {
        return lastRebaseTime + REBASE_INTERVAL;                          // è¿”å›ä¸‹æ¬¡rebaseæ—¶é—´
    }

    function gonBalanceOf(address who) external view returns (uint256) {
        return _gonBalances[who];                                         // è¿”å›ç”¨æˆ·åº•å±‚Gonä½™é¢
    }
}
</code></pre>
<h3 data-id="heading-10">4.2 ä½™é¢è®¡ç®—ä¸è½¬æ¢é€»è¾‘</h3>
<h4 data-id="heading-11">4.2.1 æ ¸å¿ƒè½¬æ¢å…¬å¼</h4>
<p>balanceOfå‡½æ•°æ˜¯ç†è§£RebaseTokenæœºåˆ¶çš„å…³é”®ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function balanceOf(address who) public view returns (uint256) {
    return _gonBalances[who] / _gonsPerFragment;                      // è®¡ç®—ç”¨æˆ·å¯è§ä½™é¢ï¼šGonä½™é¢ / ç¼©æ”¾ç³»æ•°
}
</code></pre>
<p>è¿™æ˜¯RebaseTokenæœ€æ ¸å¿ƒçš„è½¬æ¢å…¬å¼ï¼š<code>ç”¨æˆ·ä½™é¢ = Gonä½™é¢ Ã· å½“å‰ç¼©æ”¾ç³»æ•°</code>ã€‚</p>
<p>å½“Rebaseè§¦å‘æ—¶ï¼Œ<code>_gonsPerFragment</code>ä¼šå¢å¤§ï¼ˆå› ä¸ºæ€»ä¾›åº”é‡å‡å°‘ï¼Œè€ŒTOTAL_GONSå›ºå®šï¼‰ï¼Œæ‰€ä»¥é™¤æ³•å¾—åˆ°çš„ç»“æœï¼ˆç”¨æˆ·ä½™é¢ï¼‰å°±ä¼š<strong>ç­‰æ¯”ä¾‹åœ°å‡å°‘</strong>ã€‚ä½†ç”¨æˆ·çš„<code>_gonBalances[who]</code>ï¼ˆåº•å±‚æƒç›Šï¼‰å§‹ç»ˆä¿æŒä¸å˜ï¼Œå› æ­¤å…¶åœ¨æ€»ä¾›åº”é‡ä¸­çš„æ¯”ä¾‹ä¿æŒæ’å®šã€‚</p>
<p>ä¸‹é¢çš„æ—¶åºå›¾å±•ç¤ºäº†ä½™é¢è®¡ç®—è½¬æ¢çš„è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant Contract as RebaseTokenåˆçº¦
    participant Storage as å­˜å‚¨

    User-&gt;&gt;Contract: balanceOf(address)
    Contract-&gt;&gt;Storage: è¯»å–_gonBalances[address]
    Storage--&gt;&gt;Contract: è¿”å›Gonä½™é¢
    Contract-&gt;&gt;Storage: è¯»å–_gonsPerFragment
    Storage--&gt;&gt;Contract: è¿”å›ç¼©æ”¾ç³»æ•°
    Contract-&gt;&gt;Contract: è®¡ç®— Gonä½™é¢ / _gonsPerFragment
    Contract--&gt;&gt;User: è¿”å›ç”¨æˆ·å¯è§ä½™é¢
</code></pre>
<h4 data-id="heading-12">4.2.2 è½¬è´¦å®ç°è§£æ</h4>
<p>åœ¨è½¬è´¦è¿‡ç¨‹ä¸­ï¼Œåˆçº¦å°†ç”¨æˆ·è¾“å…¥çš„valueå…ˆè½¬æ¢ä¸ºGonå€¼å†è¿›è¡Œæ“ä½œï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function transfer(address to, uint256 value) public returns (bool) {
    require(to != address(0), "Transfer to zero address");
    require(to != address(this), "Transfer to contract");

    uint256 gonValue = value * _gonsPerFragment;  // è½¬æ¢ä¸ºgonå•ä½
    _gonBalances[msg.sender] -= gonValue;         // å‡å°‘å‘é€æ–¹çš„gonä½™é¢
    _gonBalances[to] += gonValue;                 // å¢åŠ æ¥æ”¶æ–¹çš„gonä½™é¢
    emit Transfer(msg.sender, to, value);         // å‘é€åŸå§‹å€¼ä½œä¸ºäº‹ä»¶
    return true;
}
</code></pre>
<p>è¿™ç§è®¾è®¡ç¡®ä¿äº†åœ¨è½¬è´¦è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿæ“ä½œçš„æ˜¯ä¸ä¼šæ”¹å˜çš„Gonå€¼ï¼Œä¿è¯äº†è½¬è´¦çš„ç²¾ç¡®æ€§ã€‚</p>
<h3 data-id="heading-13">4.3 Rebaseæ ¸å¿ƒé€»è¾‘</h3>
<h4 data-id="heading-14">4.3.1 æ¡ä»¶è§¦å‘rebase</h4>
<p>åˆçº¦æä¾›äº†ä¸¤ç§è§¦å‘rebaseçš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function rebase() external onlyOwner {                                // å®šæ—¶rebaseå‡½æ•°
    require(block.timestamp &gt;= lastRebaseTime + REBASE_INTERVAL, "Rebase too early"); // æ£€æŸ¥æ—¶é—´é—´éš”
    _rebase();                                                        // æ‰§è¡Œå†…éƒ¨rebaseé€»è¾‘
}

function manualRebase() external onlyOwner {                          // æ‰‹åŠ¨rebaseå‡½æ•°
    _rebase();                                                        // æ‰§è¡Œå†…éƒ¨rebaseé€»è¾‘ï¼ˆæ— æ—¶é—´é™åˆ¶ï¼‰
}
</code></pre>
<ul>
<li><code>rebase()</code>ï¼šåªèƒ½åœ¨ä¸€å¹´ï¼ˆ365å¤©ï¼‰åæ‰ä¼šæˆåŠŸæ‰§è¡Œ</li>
<li><code>manualRebase()</code>ï¼šæ‰€æœ‰è€…å¯ä»¥éšæ—¶å¼ºåˆ¶è§¦å‘rebaseï¼ˆæ— æ—¶é—´é™åˆ¶ï¼‰</li>
</ul>
<h4 data-id="heading-15">4.3.2 å†…éƒ¨rebaseå®ç°</h4>
<p>å†…éƒ¨rebaseå‡½æ•°æ˜¯æ•´ä¸ªåˆçº¦çš„æ ¸å¿ƒï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">function _rebase() internal {
    rebaseCount++;                                                    // å¢åŠ rebaseè®¡æ•°
    uint256 newTotalSupply = (_totalSupply * DEFLATION_RATE) / RATE_DENOMINATOR; // è®¡ç®—æ–°ä¾›åº”é‡ï¼šå‡å°‘1%
    _totalSupply = newTotalSupply;                                    // æ›´æ–°æ€»ä¾›åº”é‡
    _gonsPerFragment = TOTAL_GONS / _totalSupply;                     // é‡æ–°è®¡ç®—ç¼©æ”¾ç³»æ•°
    lastRebaseTime = block.timestamp;                                 // æ›´æ–°rebaseæ—¶é—´
    emit Rebase(rebaseCount, _totalSupply);                           // è§¦å‘rebaseäº‹ä»¶
}
</code></pre>
<p>è¿™ä¸ªè¿‡ç¨‹çš„æ ¸å¿ƒæ˜¯ï¼šç”±äºæ€»Gonsï¼ˆTOTAL_GONSï¼‰ä¸å˜è€Œæ€»ä¾›åº”é‡å‡å°‘ï¼Œæ‰€ä»¥ç¼©æ”¾ç³»æ•°<code>_gonsPerFragment</code>ä¼šå¢å¤§ã€‚è€Œç”¨æˆ·ä½™é¢çš„è®¡ç®—å…¬å¼æ˜¯<code>_gonBalances[who] / _gonsPerFragment</code>ï¼Œæ‰€ä»¥å½“åˆ†æ¯å¢å¤§æ—¶ï¼Œç”¨æˆ·çœ‹åˆ°çš„ä½™é¢ä¼šåŒæ¯”ä¾‹å‡å°‘ã€‚</p>
<p>ä¸‹é¢çš„æµç¨‹å›¾è¯¦ç»†å±•ç¤ºäº†rebaseæœºåˆ¶çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A["å¼€å§‹: è§¦å‘rebase()"] --&gt; B["æ£€æŸ¥æ—¶é—´: lastRebaseTime + 1å¹´"]
    B --&gt; C{"æ—¶é—´æ¡ä»¶æ»¡è¶³?"}
    C --&gt;|å¦| D["äº¤æ˜“å¤±è´¥: Rebase too early"]
    C --&gt;|æ˜¯| E["å¢åŠ rebaseè®¡æ•°å™¨"]
    E --&gt; F["è®¡ç®—æ–°ä¾›åº”é‡: _totalSupply * 0.99"]
    F --&gt; G["æ›´æ–°_totalSupply"]
    G --&gt; H["é‡æ–°è®¡ç®—_gonsPerFragment = TOTAL_GONS / _totalSupply"]
    H --&gt; I["æ›´æ–°lastRebaseTime"]
    I --&gt; J["è§¦å‘Rebaseäº‹ä»¶"]
    J --&gt; K["æ‰€æœ‰ç”¨æˆ·ä½™é¢æŒ‰æ¯”ä¾‹å‡å°‘1%"]

    style A fill:#d3f9d8
    style D fill:#ffe3e3
    style K fill:#c5f6fa
</code></pre>
<h3 data-id="heading-16">4.4 æ„é€ å‡½æ•°è§£æ</h3>
<pre><code class="hljs language-solidity" lang="solidity">constructor() {
    owner = msg.sender;                             // è®¾ç½®éƒ¨ç½²è€…ä¸ºæ‰€æœ‰è€…
    _totalSupply = INITIAL_FRAGMENTS_SUPPLY;        // è®¾ç½®åˆå§‹æ€»ä¾›åº”é‡
    _gonsPerFragment = TOTAL_GONS / _totalSupply;   // è®¡ç®—åˆå§‹ç¼©æ”¾ç³»æ•°
    lastRebaseTime = block.timestamp;               // è®°å½•å½“å‰æ—¶é—´ä¸ºä¸Šæ¬¡rebaseæ—¶é—´
    _gonBalances[msg.sender] = TOTAL_GONS;          // å°†æ‰€æœ‰Gonsåˆ†é…ç»™éƒ¨ç½²è€…
    emit Transfer(address(0), msg.sender, _totalSupply); // è§¦å‘é“¸é€ äº‹ä»¶
}
</code></pre>
<p>æ„é€ å‡½æ•°åˆå§‹åŒ–äº†æ•´ä¸ªrebaseç³»ç»Ÿã€‚éƒ¨ç½²è€…è·å¾—äº†æ‰€æœ‰åº•å±‚Gonsï¼Œåˆå§‹çš„<code>balanceOf(deployer)</code>å€¼ä¸º<code>TOTAL_GONS / (TOTAL_GONS / INITIAL_FRAGMENTS_SUPPLY) = INITIAL_FRAGMENTS_SUPPLY</code>ã€‚</p>
<h2 data-id="heading-17">äº”ã€å®é™…åº”ç”¨ä¸å®‰å…¨æ€§åˆ†æ</h2>
<h3 data-id="heading-18">5.1 é€šç¼©å‹ä¸é€šèƒ€å‹rebaseæœºåˆ¶å¯¹æ¯”</h3>
<p>ä¼ ç»Ÿçš„Ampleforthæœºåˆ¶æ—¨åœ¨é€šè¿‡åŠ¨æ€è°ƒæ•´ä¾›åº”é‡æ¥å®ç°ä»·æ ¼ç¨³å®šï¼š</p>
<ul>
<li>å‘ä¸Šrebaseæ—¶ï¼Œä¾›åº”é‡å¢åŠ ï¼Œæ¯ä¸ªtokenä»·å€¼ç›¸å¯¹é™ä½ï¼ˆé€šèƒ€ï¼‰</li>
<li>å‘ä¸‹rebaseæ—¶ï¼Œä¾›åº”é‡å‡å°‘ï¼Œæ¯ä¸ªtokenä»·å€¼ç›¸å¯¹æå‡ï¼ˆé€šç¼©ï¼‰</li>
</ul>
<p>è€ŒRebaseTokençš„é€šç¼©æœºåˆ¶ä¸åŒï¼š</p>
<ul>
<li>æ¯å¹´è‡ªåŠ¨å‡å°‘1%çš„ä¾›åº”é‡</li>
<li>ä¸ä¾èµ–å¸‚åœºä»·æ ¼ä¿¡å·ï¼Œè€Œæ˜¯ä¸»åŠ¨è¿›è¡Œé€šç¼©</li>
<li>ç›®æ ‡æ˜¯åœ¨é•¿æœŸå†…åˆ›é€ ç¨€ç¼ºæ€§ï¼Œæå‡å•ä¸ªä»£å¸ä»·å€¼</li>
</ul>
<p>è¿™ç§æœºåˆ¶åœ¨ç»æµå­¦ä¸Šå¯ä»¥è§†ä¸ºå¯¹æŒæœ‰è€…çš„ä¸€ç§"æƒç›Š"ä¿æŠ¤ï¼Œä½†åŒæ—¶ä¹Ÿéœ€è¦è€ƒè™‘å…¶å¯¹å¸‚åœºæµåŠ¨æ€§å’Œç”Ÿæ€å‘å±•çš„å½±å“ã€‚</p>
<p>ä¸‹é¢çš„å›¾è¡¨ç›´è§‚å±•ç¤ºäº†é€šç¼©å‰åç”¨æˆ·ä½™é¢çš„å˜åŒ–æƒ…å†µï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    subgraph "é€šç¼©å‰ (Year 1)"
        A1["ç”¨æˆ·A: 1000ä¸‡ RDT"]
        A2["ç”¨æˆ·B: 5000ä¸‡ RDT"]
        A3["æ€»ä¾›åº”é‡: 1äº¿ RDT"]
        A4["_gonsPerFragment: 11579..."]
    end

    subgraph "é€šç¼©å (Year 2)"
        B1["ç”¨æˆ·A: 990ä¸‡ RDT&lt;br/&gt;(æƒç›Šå æ¯”ä¸å˜)"]
        B2["ç”¨æˆ·B: 4950ä¸‡ RDT&lt;br/&gt;(æƒç›Šå æ¯”ä¸å˜)"]
        B3["æ€»ä¾›åº”é‡: 9900ä¸‡ RDT"]
        B4["_gonsPerFragment: 11696...&lt;br/&gt;(å¢åŠ )"]
    end

    A1 -.-&gt; B1
    A2 -.-&gt; B2
    A3 -.-&gt; B3
    A4 -.-&gt; B4

    style A1 fill:#d3f9d8
    style A2 fill:#d3f9d8
    style A3 fill:#e5dbff
    style A4 fill:#ffe8cc
    style B1 fill:#ffe3e3
    style B2 fill:#ffe3e3
    style B3 fill:#e5dbff
    style B4 fill:#ffe8cc
</code></pre>
<h3 data-id="heading-19">5.2 å®‰å…¨æ€§è€ƒè™‘</h3>
<p>åˆçº¦å®ç°ä¸­åŒ…å«å¤šé¡¹å®‰å…¨æœºåˆ¶ï¼š</p>
<ol>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šä½¿ç”¨onlyOwnerä¿®é¥°ç¬¦é™åˆ¶å…³é”®åŠŸèƒ½çš„è®¿é—®</li>
<li><strong>æº¢å‡ºæ£€æŸ¥</strong>ï¼šSolidity 0.8.xè‡ªå¸¦çš„æº¢å‡ºæ£€æŸ¥</li>
<li><strong>å®‰å…¨æ£€æŸ¥</strong>ï¼šè½¬è´¦æ—¶æ£€æŸ¥é›¶åœ°å€å’Œåˆçº¦åœ°å€</li>
<li><strong>æˆæƒç®¡ç†</strong>ï¼šé‡‡ç”¨æ ‡å‡†çš„å‡å°‘æˆæƒæ”»å‡»é˜²èŒƒæœºåˆ¶</li>
</ol>
<p>ç„¶è€Œï¼Œè¿˜éœ€æ³¨æ„ä»¥ä¸‹é£é™©ï¼š</p>
<ul>
<li>åˆçº¦ownerå…·æœ‰ä¸­å¿ƒåŒ–æ§åˆ¶æƒé™</li>
<li>é•¿æœŸrebaseå¯èƒ½ç§¯ç´¯ç²¾åº¦è¯¯å·®</li>
<li>ä¸æŸäº›DeFiåè®®çš„å…¼å®¹æ€§é—®é¢˜</li>
</ul>
<h3 data-id="heading-20">5.3 å®é™…æ¡ˆä¾‹ä¸åº”ç”¨åœºæ™¯</h3>
<p>RebaseTokenè¿™æ ·çš„é€šç¼©æœºåˆ¶åœ¨ä»¥ä¸‹åœºæ™¯ä¸­å…·æœ‰åº”ç”¨ä»·å€¼ï¼š</p>
<ol>
<li><strong>ä»·å€¼å­˜å‚¨ç±»ä»£å¸</strong>ï¼šé€šè¿‡é€šç¼©æœºåˆ¶åˆ›é€ ç¨€ç¼ºæ€§ï¼Œå¢å¼ºä»·å€¼å­˜å‚¨å±æ€§</li>
<li><strong>æ²»ç†ä»£å¸</strong>ï¼šå‡å°‘ä¾›åº”é‡ä»¥æå‡å•ä¸ªä»£å¸çš„æ²»ç†æƒä»·å€¼</li>
<li><strong>Memeä»£å¸</strong>ï¼šä½œä¸ºä¸€ç§å®éªŒæ€§é€šç¼©æœºåˆ¶å¸å¼•å¸‚åœºå…³æ³¨</li>
</ol>
<h2 data-id="heading-21">å…­ã€æ€»ç»“</h2>
<p>RebaseTokenåˆçº¦ä½“ç°äº†Rebaseæœºåˆ¶çš„ç²¾å¦™è®¾è®¡ã€‚é€šè¿‡Gonsä¸Fragmentsçš„åŒé‡è®°è´¦ä½“ç³»ï¼Œè¯¥åˆçº¦æˆåŠŸå®ç°äº†åœ¨ä¸å®é™…è½¬ç§»ä»£å¸çš„æƒ…å†µä¸‹æŒ‰æ¯”ä¾‹è°ƒæ•´æ‰€æœ‰æŒæœ‰è€…ä½™é¢çš„åˆ›æ–°æœºåˆ¶ã€‚</p>
<p>è™½ç„¶RebaseTokenåˆçº¦æä¾›äº†ä¸€ä¸ªå­¦ä¹ rebaseæœºåˆ¶çš„è‰¯å¥½ç¤ºä¾‹ï¼Œä½†åœ¨å®é™…åº”ç”¨ä¸­éœ€è¦è€ƒè™‘æ²»ç†ã€å®‰å…¨æ€§å’Œå»ä¸­å¿ƒåŒ–ç­‰å› ç´ ã€‚è¿™ä¸€æœºåˆ¶ä¸ºåŒºå—é“¾ä»£å¸ç»æµå­¦çš„å‘å±•æä¾›äº†æ–°çš„æ€è·¯ï¼Œå±•ç¤ºäº†æ•°å­¦ä¸ç¼–ç¨‹ç»“åˆåœ¨åŠ å¯†é¢†åŸŸåˆ›é€ åˆ›æ–°ä»·å€¼çš„å¯èƒ½æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ¬åœ°é…ç½®host]]></title>    <link>https://juejin.cn/post/7602776926327308342</link>    <guid>https://juejin.cn/post/7602776926327308342</guid>    <pubDate>2026-02-04T09:48:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926327308342" data-draft-id="7602814773495988266" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ¬åœ°é…ç½®host"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T09:48:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¹¸ç¦å°å®"/> <meta itemprop="url" content="https://juejin.cn/user/1856420109622520"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ¬åœ°é…ç½®host
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1856420109622520/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¹¸ç¦å°å®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:48:10.000Z" title="Wed Feb 04 2026 09:48:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>æ³¨æ„äº‹é¡¹</p>
</blockquote>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fxx.demo.com%3A8000%2F%23%2F" target="_blank" title="https://xx.demo.com:8000/#/" ref="nofollow noopener noreferrer">xx.demo.com:8000/#/</a>  è¿™ä¸ªè¦å’Œå›¾ç‰‡é…ç½®çš„åŸŸåä¸€è‡´(ç»†å¿ƒç‚¹)æ‰èƒ½æ‰“å¼€ æ³¨æ„httpå’Œhttps</li>
</ol>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a643310aa0e34d95bc5f5d2233204ba5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm456aP5bCP5a6d:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803290&amp;x-signature=6Z5IcasrXF%2BVq2Vv0AwlQyzb90s%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flocalhost%3A8000" target="_blank" title="https://localhost:8000" ref="nofollow noopener noreferrer">https://localhost:8000</a> è¿™ä¸ªåœ°å€èƒ½å¯åŠ¨ é…ç½®çš„åœ°å€å°±èƒ½å¯åŠ¨ ä¸èƒ½å¯åŠ¨å°±æ˜¯åœ°å€ä¸å¯¹</p>
</li>
<li>
<p>å¦‚æœé…ç½®å®Œæ˜¾ç¤ºå¦‚ä¸‹ éœ€è¦æ¸…ç†dnsç¼“å­˜</p>
</li>
</ol>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd1435c6c7fc40a9a8c861a5bf15286d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm456aP5bCP5a6d:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803290&amp;x-signature=Ks6jfp8%2BRcp5vqWg0owlhEPlLFg%3D" alt="image.png" width="50%" loading="lazy"/></p>
<ul>
<li>åœ¨ Chrome æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥ <code>chrome://net-internals/#dns</code></li>
<li>åœ¨æ‰“å¼€çš„é¡µé¢ä¸­ï¼Œæ‰¾åˆ°å¹¶ç‚¹å‡» â€Œ <strong>â€œClear host cacheâ€</strong> â€Œ æŒ‰é’®ã€‚ â€Œ</li>
<li>æ‰§è¡Œå®Œä¸Šè¿°æ­¥éª¤åï¼ŒChrome çš„ DNS ç¼“å­˜å³è¢«æ¸…é™¤ã€‚æ­¤æ“ä½œæ— éœ€é‡å¯æµè§ˆå™¨å³å¯ç”Ÿæ•ˆã€‚</li>
<li>å¦‚æœè¿˜æ˜¯ä¸å¯¹æ¸…ç†æµè§ˆå™¨ç¼“å­˜</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fab929f298554d9daf0250a182517732~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm456aP5bCP5a6d:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803290&amp;x-signature=hxEN1HPTDDZK36LOtz4rrx2KCfE%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae0365fa9076457e980caeefad85dc78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm456aP5bCP5a6d:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803290&amp;x-signature=dVIc4kj8Rrp8pqc%2F%2F%2FTR92Be6pQ%3D" alt="image.png" width="50%" loading="lazy"/></p>
<blockquote>
<p><strong>chrome://net-internals/#sockets</strong> åˆ·æ–°Socketæ± ä»¥é‡ç½®ç½‘ç»œè¿æ¥</p>
</blockquote>
<blockquote>
<p>done</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å¹¶å‘å¤„ç†æœ€ä½³å®è·µï¼šToken å…±äº«èµ„æºçš„å•ä¾‹ Promise æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7602553969971052598</link>    <guid>https://juejin.cn/post/7602553969971052598</guid>    <pubDate>2026-02-04T09:51:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602553969971052598" data-draft-id="7602543146237591595" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å¹¶å‘å¤„ç†æœ€ä½³å®è·µï¼šToken å…±äº«èµ„æºçš„å•ä¾‹ Promise æ¨¡å¼"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T09:51:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€æ‹³ä¸æ˜¯è¶…äºº"/> <meta itemprop="url" content="https://juejin.cn/user/3456520289261902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å¹¶å‘å¤„ç†æœ€ä½³å®è·µï¼šToken å…±äº«èµ„æºçš„å•ä¾‹ Promise æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3456520289261902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€æ‹³ä¸æ˜¯è¶…äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:51:04.000Z" title="Wed Feb 04 2026 09:51:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šå¤šä¸ªç‹¬ç«‹çš„ç»„ä»¶æˆ–äº‹ä»¶æµï¼ˆEvent Streamï¼‰å‡ ä¹åŒæ—¶è§¦å‘ï¼Œå®ƒä»¬éƒ½éœ€è¦ä¾èµ–åŒä¸€ä¸ªå¼‚æ­¥è·å–çš„èµ„æºâ€”â€”æ¯”å¦‚é‰´æƒ Tokenã€‚</p>
<p>å¦‚æœå¤„ç†ä¸å½“ï¼Œå°±ä¼šå¯¼è‡´Â <strong>Race Conditionï¼ˆç«æ€æ¡ä»¶ï¼‰</strong> Â æˆ–è€…Â <strong>é‡å¤çš„ç½‘ç»œè¯·æ±‚</strong>ã€‚ä»Šå¤©æˆ‘ä»¬æ¥åˆ†äº«ä¸€ç§ç®€å•è€Œå¥å£®çš„æœ€ä½³å®è·µï¼š<strong>Singleton Promise Patternï¼ˆå•ä¾‹ Promise æ¨¡å¼ï¼‰</strong> ã€‚</p>
<h2 data-id="heading-0">å¸¸è§é—®é¢˜ï¼šå¹¶å‘åœ°ç‹±</h2>
<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªÂ <code>audio-to-text</code>ï¼ˆè¯­éŸ³è½¬æ–‡å­—ï¼‰çš„åŠŸèƒ½ï¼Œæ¯æ¬¡è§¦å‘éƒ½éœ€è¦å…ˆè·å–ä¸€ä¸ªä¸´æ—¶çš„ API Tokenã€‚</p>
<p>å¦‚æœç”¨æˆ·è¿ç»­å¿«é€Ÿæ’­æ”¾äº† 3 æ¡è¯­éŸ³ï¼Œæˆ–è€…é¡µé¢åˆå§‹åŒ–æ—¶æœ‰å¤šä¸ªç»„ä»¶åŒæ—¶è¯·æ±‚ Tokenï¼Œå¯èƒ½ä¼šå‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š</p>
<ol>
<li><strong>èµ„æºæµªè´¹</strong>ï¼šå‘èµ·äº† 3 æ¬¡è·å– Token çš„ç½‘ç»œè¯·æ±‚ï¼Œä½†å®é™…ä¸Šåªéœ€è¦ 1 æ¬¡ã€‚</li>
<li><strong>çŠ¶æ€ä¸ä¸€è‡´</strong>ï¼šç¬¬ 1 ä¸ªè¯·æ±‚æˆåŠŸäº†ï¼Œä½†åœ¨å®ƒå†™å…¥æœ¬åœ°ç¼“å­˜ä¹‹å‰ï¼Œç¬¬ 2 ä¸ªè¯·æ±‚åˆå‘èµ·äº†ã€‚</li>
<li><strong>æ­»é”/æ— é™ç­‰å¾…</strong>ï¼šä½¿ç”¨ç®€å•çš„Â <code>isLoading</code>Â é”ï¼Œå¦‚æœä»£ç é€»è¾‘åœ¨å¼‚å¸¸å¤„ç†ï¼ˆcatchï¼‰ä¸­é—æ¼äº†é‡ç½®é”ï¼Œå¯¼è‡´åç»­è¯·æ±‚ä¸€ç›´ pendingã€‚</li>
</ol>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šå•ä¾‹ Promise æ¨¡å¼</h2>
<p>æ ¸å¿ƒæ€æƒ³éå¸¸ç®€å•ï¼š<strong>å°†"æ­£åœ¨è¿›è¡Œçš„è¯·æ±‚"ç¼“å­˜èµ·æ¥ï¼Œè€Œä¸æ˜¯åªç¼“å­˜ç»“æœã€‚</strong></p>
<p>å¯¹äºå…±äº«èµ„æºï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ Promiseã€‚</p>
<ul>
<li>å½“ç¬¬ä¸€ä¸ªè¯·æ±‚è¿›æ¥æ—¶ï¼Œåˆ›å»ºä¸€ä¸ª Promise å¹¶å‘èµ·è¯·æ±‚ã€‚</li>
<li>å½“åç»­è¯·æ±‚è¿›æ¥æ—¶ï¼Œå¦‚æœå‘ç°å·²ç»æœ‰ä¸€ä¸ª Promise åœ¨ pendingï¼Œç›´æ¥å¤ç”¨å¹¶è¿”å›è¿™ä¸ª Promiseã€‚</li>
<li>æ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼ŒPromise settled åï¼Œæ¸…ç†çŠ¶æ€ï¼Œä»¥ä¾¿ä¸‹æ¬¡å¯ä»¥å‘èµ·æ–°è¯·æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-2">ä»£ç å®ç°æ¨¡æ¿</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¥å£®çš„å®ç°æ¨¡æ¿ï¼ŒåŒ…å«äº†Â <strong>é˜²æŠ–ï¼ˆDebounceï¼‰</strong> ã€<strong>å¼‚å¸¸å®‰å…¨ï¼ˆException Safetyï¼‰</strong> Â å’ŒÂ <strong>çŠ¶æ€å¤ä½</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å…¨å±€çŠ¶æ€å˜é‡</span>
<span class="hljs-keyword">let</span> getTokenTask = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å­˜å‚¨æ­£åœ¨è¿›è¡Œçš„ Promise</span>
<span class="hljs-keyword">let</span> isGettingToken = <span class="hljs-literal">false</span>; <span class="hljs-comment">// é”æ ‡è®°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSharedToken</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// 1. æ£€æŸ¥æœ¬åœ°ç¼“å­˜æ˜¯å¦æœ‰æ•ˆ</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isTokenValid</span>()) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">getTokenFromStorage</span>();
  }
  <span class="hljs-comment">// 2. å¹¶å‘æ‹¦æˆªï¼šå¦‚æœæœ‰æ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡ï¼Œç›´æ¥å¤ç”¨ï¼Œä¸å‘èµ·æ–°è¯·æ±‚</span>
  <span class="hljs-keyword">if</span> (isGettingToken &amp;&amp; getTokenTask) {
    <span class="hljs-keyword">return</span> getTokenTask;
  }
  <span class="hljs-comment">// 3. åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„å•ä¾‹ä»»åŠ¡</span>
  isGettingToken = <span class="hljs-literal">true</span>;
  
  <span class="hljs-comment">// åˆ›å»º Promise é—­åŒ…ï¼Œç¡®ä¿æˆ‘ä»¬å¯ä»¥æ§åˆ¶ resolve</span>
  <span class="hljs-keyword">let</span> taskResolve = <span class="hljs-literal">null</span>;
  getTokenTask = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    taskResolve = resolve;
  });
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 4. æ‰§è¡Œå®é™…çš„å¼‚æ­¥æ“ä½œ</span>
    <span class="hljs-keyword">const</span> token = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchTokenFromServer</span>();
    
    <span class="hljs-comment">// 5. ç¼“å­˜ç»“æœ</span>
    <span class="hljs-title function_">saveTokenToStorage</span>(token);
    
    <span class="hljs-keyword">return</span> token;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å– Token å¤±è´¥'</span>, error);
    <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// å‘ä¸Šä¼ é€’é”™è¯¯ï¼Œè®©è°ƒç”¨æ–¹å†³å®šå¦‚ä½•å¤„ç†</span>
  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-comment">// 6. å…³é”®ï¼šæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œéƒ½è¦é€šçŸ¥ç­‰å¾…çš„ Promise å¹¶é‡Šæ”¾é”</span>
    <span class="hljs-keyword">if</span> (taskResolve) {
      <span class="hljs-comment">// è·å–å½“å‰æœ€æ–°çš„ token (å¯èƒ½åœ¨ try å—ä¸­å·²ç»å­˜å…¥ï¼Œä¹Ÿå¯èƒ½ä¸ºç©º)</span>
      <span class="hljs-keyword">const</span> currentToken = <span class="hljs-title function_">getTokenFromStorage</span>();
      <span class="hljs-title function_">taskResolve</span>(currentToken);
    }
    
    <span class="hljs-comment">// é‡ç½®çŠ¶æ€ï¼Œå…è®¸ä¸‹ä¸€æ¬¡æ–°çš„è¯·æ±‚å‘èµ·</span>
    isGettingToken = <span class="hljs-literal">false</span>; 
    getTokenTask = <span class="hljs-literal">null</span>;
  }
}
</code></pre>
<h2 data-id="heading-3">ğŸ’¡ æ ¸å¿ƒè®¾è®¡ç‚¹è§£æ</h2>
<h3 data-id="heading-4">1. ä¸ºä»€ä¹ˆè¦è¿”å› Promise è€Œä¸æ˜¯ç­‰å¾…Â <code>await</code>Â åè¿”å›ç»“æœï¼Ÿ</h3>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆé€šè¿‡Â <code>if (isGettingToken) return getTokenTask</code>Â ç›´æ¥è¿”å› Promise å¯¹è±¡ã€‚è¿™æ ·ï¼Œä¸‰ä¸ªå¹¶å‘çš„è°ƒç”¨è€…Â <code>await getSharedToken()</code>Â å®é™…ä¸Šæ˜¯åœ¨ç­‰å¾…åŒä¸€ä¸ª Promise å¯¹è±¡ resolveã€‚ä¸€æ—¦ Leader è¯·æ±‚å®Œæˆï¼Œä¸‰ä¸ªè°ƒç”¨è€…ä¼šåŒæ—¶å¾—åˆ°é€šçŸ¥ã€‚</p>
<h3 data-id="heading-5">2. Try...Finally çš„é‡è¦æ€§</h3>
<p>å¹¶å‘æ§åˆ¶ä¸­æœ€æ€•çš„æ˜¯Â  <strong>"æ­»é”"</strong> ã€‚å¦‚æœ API è¯·æ±‚æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä½ å¿˜è®°åœ¨Â <code>catch</code>Â å—ä¸­æŠŠÂ <code>isGettingToken</code>Â è®¾ç½®å›Â <code>false</code>ï¼Œé‚£ä¹ˆæ•´ä¸ªåº”ç”¨çš„ç›¸å…³åŠŸèƒ½å°±ä¼šæ°¸ä¹…å¡æ­»ã€‚ ä½¿ç”¨Â <code>finally</code>Â å—å¯ä»¥ä¿è¯æ— è®ºä»£ç è·¯å¾„å¦‚ä½•ï¼ˆæ­£å¸¸è¿”å›ã€æŠ›å‡ºé”™è¯¯ã€ç”šè‡³æ—©é€€ï¼‰ï¼Œé”ä¸€å®šä¼šè¢«é‡Šæ”¾ã€‚</p>
<h3 data-id="heading-6">3. ä¸è¦ä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºç¼“å­˜ Map</h3>
<p>æœ‰äº›å¼€å‘è€…ä¼šæƒ³ï¼š"æˆ‘æ˜¯ä¸æ˜¯åº”è¯¥ç”¨ä¸€ä¸ª Mapï¼Œæ ¹æ® Request ID æ¥ç¼“å­˜ï¼Ÿ" å¯¹äº Token è¿™ç§Â <strong>å…¨å±€å…±äº«èµ„æº</strong>ï¼Œä¸éœ€è¦ã€‚å› ä¸ºæ— è®ºè°å‘èµ·çš„è¯·æ±‚ï¼Œä»–ä»¬è¦çš„éƒ½æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚Map åªä¼šå¢åŠ å†…å­˜æ³„æ¼çš„é£é™©å’Œç®¡ç†çš„å¤æ‚åº¦ã€‚</p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>åœ¨é«˜å¹¶å‘çš„å‰ç«¯åœºæ™¯ä¸‹ï¼Œ<strong>å…±äº«èµ„æºçš„å•ä¾‹ Promise æ¨¡å¼</strong>Â æ˜¯æ€§ä»·æ¯”æé«˜çš„ä¼˜åŒ–æ‰‹æ®µã€‚å®ƒç”¨æå°‘çš„ä»£ç æˆæœ¬ï¼Œå®ç°äº†ï¼š</p>
<ul>
<li><strong>æµé‡èŠ‚çœ</strong>ï¼šN ä¸ªå¹¶å‘è¯·æ±‚åªéœ€ 1 æ¬¡ç½‘ç»œè°ƒç”¨ã€‚</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šæ‰€æœ‰è¯·æ±‚å‡ ä¹åŒæ—¶å¾—åˆ°å“åº”ï¼Œæ²¡æœ‰é˜»å¡ã€‚</li>
<li><strong>é«˜å¥å£®æ€§</strong>ï¼šå¼‚å¸¸æƒ…å†µä¸‹ä¹Ÿèƒ½è‡ªåŠ¨æ¢å¤ï¼Œä¸ä¼šå¡æ­»ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBootå¼€å‘å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆæŠ€å·§ï¼Œæ–°æ‰‹è€æ‰‹éƒ½è¯¥çœ‹çœ‹ï¼]]></title>    <link>https://juejin.cn/post/7602073973309849615</link>    <guid>https://juejin.cn/post/7602073973309849615</guid>    <pubDate>2026-02-03T00:18:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602073973309849615" data-draft-id="7602072652607569960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBootå¼€å‘å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆæŠ€å·§ï¼Œæ–°æ‰‹è€æ‰‹éƒ½è¯¥çœ‹çœ‹ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-03T00:18:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBootå¼€å‘å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆæŠ€å·§ï¼Œæ–°æ‰‹è€æ‰‹éƒ½è¯¥çœ‹çœ‹ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T00:18:01.000Z" title="Tue Feb 03 2026 00:18:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    21
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>SpringBootå¼€å‘å¿…çŸ¥çš„5ä¸ªé«˜æ•ˆæŠ€å·§ï¼Œæ–°æ‰‹è€æ‰‹éƒ½è¯¥çœ‹çœ‹ï¼</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>SpringBootä½œä¸ºJavaç”Ÿæ€ä¸­æœ€æµè¡Œçš„å¾®æœåŠ¡æ¡†æ¶ä¹‹ä¸€ï¼Œå‡­å€Ÿå…¶"çº¦å®šä¼˜äºé…ç½®"çš„ç†å¿µå’Œå¼ºå¤§çš„è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼Œæå¤§åœ°ç®€åŒ–äº†Springåº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²ã€‚ç„¶è€Œï¼Œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè®¸å¤šå¼€å‘è€…ï¼ˆå°¤å…¶æ˜¯æ–°æ‰‹ï¼‰å¾€å¾€åªåœç•™åœ¨åŸºç¡€ç”¨æ³•ä¸Šï¼Œæœªèƒ½å……åˆ†å‘æŒ¥SpringBootçš„æ½œåŠ›ã€‚æœ¬æ–‡å°†åˆ†äº«5ä¸ªç»è¿‡å®æˆ˜éªŒè¯çš„é«˜æ•ˆæŠ€å·§ï¼Œæ¶µç›–é…ç½®ä¼˜åŒ–ã€æ€§èƒ½è°ƒä¼˜ã€è°ƒè¯•æ‰‹æ®µç­‰æ–¹é¢ï¼Œå¸®åŠ©å¼€å‘è€…æå‡å¼€å‘æ•ˆç‡å’Œåº”ç”¨è´¨é‡ã€‚æ— è®ºä½ æ˜¯åˆšæ¥è§¦SpringBootçš„æ–°æ‰‹è¿˜æ˜¯ç»éªŒä¸°å¯Œçš„è€æ‰‹ï¼Œè¿™äº›æŠ€å·§éƒ½èƒ½ä¸ºä½ çš„é¡¹ç›®å¸¦æ¥å®è´¨æ€§çš„æ”¹è¿›ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸€ã€åˆç†ä½¿ç”¨@ConfigurationPropertieså®ç°ç±»å‹å®‰å…¨é…ç½®</h2>
<h3 data-id="heading-3">é—®é¢˜èƒŒæ™¯</h3>
<p>ä¼ ç»Ÿçš„<code>@Value</code>æ³¨è§£è™½ç„¶ç®€å•ï¼Œä½†åœ¨å¤„ç†å¤æ‚é…ç½®æ—¶ä¼šå¯¼è‡´ä»£ç åˆ†æ•£ä¸”ç¼ºä¹ç±»å‹å®‰å…¨ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Value("${app.mail.host}")</span>
<span class="hljs-keyword">private</span> String mailHost;
<span class="hljs-meta">@Value("${app.mail.port}")</span>
<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> mailPort;
<span class="hljs-comment">// æ›´å¤šå­—æ®µ...</span>
</code></pre>
<h3 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨<code>@ConfigurationProperties</code>å°†ç›¸å…³é…ç½®åˆ†ç»„å¹¶ç»‘å®šåˆ°POJOï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ConfigurationProperties(prefix = "app.mail")</span>
<span class="hljs-meta">@Data</span> <span class="hljs-comment">// Lombokæ³¨è§£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MailProperties</span> {
    <span class="hljs-keyword">private</span> String host;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> port;
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> sslEnabled;
    <span class="hljs-comment">// å¸¦æœ‰é»˜è®¤å€¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">timeout</span> <span class="hljs-operator">=</span> <span class="hljs-number">5000</span>; 
}
</code></pre>
<h3 data-id="heading-5">ä¼˜åŠ¿åˆ†æ</h3>
<ol>
<li><strong>å¼ºç±»å‹æ ¡éªŒ</strong>ï¼šå¯åŠ¨æ—¶è‡ªåŠ¨éªŒè¯é…ç½®é¡¹çš„ç±»å‹å’Œå¿…å¡«é¡¹ï¼ˆé…åˆ<code>@Validated</code>ä½¿ç”¨ï¼‰</li>
<li><strong>IDEæ”¯æŒ</strong>ï¼šæ™ºèƒ½æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨ï¼ˆéœ€æ·»åŠ spring-boot-configuration-processorä¾èµ–ï¼‰</li>
<li><strong>é‡æ„å‹å¥½</strong>ï¼šä¿®æ”¹é…ç½®å‰ç¼€åªéœ€è°ƒæ•´ä¸€å¤„</li>
<li><strong>æ–‡æ¡£ç”Ÿæˆ</strong>ï¼šç»“åˆspring-configuration-metadata.jsonå¯ç”Ÿæˆé…ç½®æ–‡æ¡£</li>
</ol>
<blockquote>
<p><strong>ä¸“å®¶æç¤º</strong>ï¼šå¯¹äºå¤šç¯å¢ƒé…ç½®ï¼Œå¯ä»¥ç»“åˆProfile-specificçš„propertiesæ–‡ä»¶ä½¿ç”¨æ­¤æŠ€æœ¯ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">äºŒã€åˆ©ç”¨Actuator+Micrometeræ„å»ºç”Ÿäº§çº§ç›‘æ§</h2>
<h3 data-id="heading-7">æ ¸å¿ƒç»„ä»¶è¯´æ˜</h3>
<ul>
<li><strong>Spring Boot Actuator</strong>ï¼šæä¾›å¥åº·æ£€æŸ¥ã€metricsã€ç¯å¢ƒä¿¡æ¯ç­‰ç«¯ç‚¹</li>
<li><strong>Micrometer</strong>ï¼šæŒ‡æ ‡æ”¶é›†çš„å‚å•†ä¸­ç«‹æ¥å£ï¼ˆæ”¯æŒPrometheus, Datadogç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-8">å…³é”®é…ç½®æ­¥éª¤</h3>
<ol>
<li>æ·»åŠ ä¾èµ–ï¼š</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.micrometer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>micrometer-registry-prometheus<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<ol start="2">
<li>application.ymlé…ç½®ç¤ºä¾‹ï¼š</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">management:</span>
  <span class="hljs-attr">endpoints:</span>
    <span class="hljs-attr">web:</span>
      <span class="hljs-attr">exposure:</span>
        <span class="hljs-attr">include:</span> <span class="hljs-string">health,metrics,prometheus</span>
  <span class="hljs-attr">metrics:</span>
    <span class="hljs-attr">tags:</span>
      <span class="hljs-attr">application:</span> <span class="hljs-string">${spring.application.name}</span>
</code></pre>
<h3 data-id="heading-9">é«˜é˜¶æŠ€å·§</h3>
<ul>
<li><strong>è‡ªå®šä¹‰æŒ‡æ ‡</strong>ï¼šé€šè¿‡MeterRegistryè®°å½•ä¸šåŠ¡æŒ‡æ ‡</li>
</ul>
<pre><code class="hljs language-java" lang="java">registry.counter(<span class="hljs-string">"order.created"</span>, <span class="hljs-string">"region"</span>, <span class="hljs-string">"north"</span>).increment();
</code></pre>
<ul>
<li><strong>JVMç›‘æ§</strong>ï¼šè‡ªåŠ¨æš´éœ²çº¿ç¨‹/å†…å­˜/GCç­‰æ•°æ®ï¼ˆGrafanaä»ªè¡¨æ¿å¯ç›´æ¥å¯¼å…¥4701æ¨¡æ¿ï¼‰</li>
<li><strong>åˆ†å¸ƒå¼è¿½è¸ª</strong>ï¼šé›†æˆSleuth+Zipkinå®ç°è¯·æ±‚é“¾è·¯è¿½è¸ª</li>
</ul>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€æŒæ¡æ¡ä»¶åŒ–Beanæ³¨å†Œç­–ç•¥</h2>
<h3 data-id="heading-11">@Conditionalç³»åˆ—æ³¨è§£ç²¾è¦</h3>

























<table><thead><tr><th>æ³¨è§£</th><th>ç”Ÿæ•ˆæ¡ä»¶</th></tr></thead><tbody><tr><td><code>@ConditionalOnProperty</code></td><td>æŒ‡å®šé…ç½®å­˜åœ¨ä¸”åŒ¹é…å€¼æ—¶ç”Ÿæ•ˆ</td></tr><tr><td><code>@ConditionalOnClass</code></td><td>classpathä¸­å­˜åœ¨æŒ‡å®šç±»æ—¶ç”Ÿæ•ˆ</td></tr><tr><td><code>@ConditionalOnMissingBean</code></td><td>IOCå®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBeanæ—¶ç”Ÿæ•ˆ</td></tr><tr><td><code>@ConditionalOnWebApplication</code></td><td>Webç¯å¢ƒä¸‹ç”Ÿæ•ˆ</td></tr></tbody></table>
<h3 data-id="heading-12">å®æˆ˜æ¡ˆä¾‹ï¼šå¤šç¼“å­˜æ–¹æ¡ˆåŠ¨æ€åˆ‡æ¢</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@ConditionalOnProperty(name = "cache.type", havingValue = "redis")</span>
    <span class="hljs-keyword">public</span> CacheService <span class="hljs-title function_">redisCache</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisCacheService</span>();
    }

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@ConditionalOnProperty(name = "cache.type", havingValue = "caffeine")</span>
    <span class="hljs-keyword">public</span> CacheService <span class="hljs-title function_">caffeineCache</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CaffeineCacheService</span>();
    }
}
</code></pre>
<h3 data-id="heading-13">æœ€ä½³å®è·µå»ºè®®</h3>
<ol>
<li><strong>ç»„åˆæ¡ä»¶</strong>ï¼šé€šè¿‡<code>AnyNestedCondition</code>ç­‰æŠ½è±¡ç±»å®ç°å¤æ‚é€»è¾‘</li>
<li><strong>è‡ªå®šä¹‰æ¡ä»¶</strong>ï¼šç»§æ‰¿<code>SpringBootCondition</code>é‡å†™getMatchOutcomeæ–¹æ³•</li>
<li><strong>è°ƒè¯•æŠ€å·§</strong>ï¼šå¯åŠ¨æ—¶æ·»åŠ <code>--debug</code>å‚æ•°æŸ¥çœ‹æ¡ä»¶è¯„ä¼°æŠ¥å‘Š</li>
</ol>
<hr/>
<h2 data-id="heading-14">å››ã€ä¼˜åŒ–å¯åŠ¨é€Ÿåº¦çš„å®ç”¨æ–¹æ¡ˆ</h2>
<h3 data-id="heading-15">è€—æ—¶åˆ†æå·¥å…·æ¨è</h3>
<ol>
<li><strong>å®˜æ–¹æ–¹å¼</strong>ï¼šæ·»åŠ JVMå‚æ•° <code>-Ddebug=true -Dspring-boot.run.profiles=timing</code></li>
<li><strong>å¯è§†åŒ–å·¥å…·</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-boot%2Fissues%2F19378" target="_blank" title="https://github.com/spring-projects/spring-boot/issues/19378" ref="nofollow noopener noreferrer">Spring Boot Startup Report</a></li>
</ol>
<h3 data-id="heading-16">å·²éªŒè¯çš„åŠ é€Ÿç­–ç•¥</h3>
<h4 data-id="heading-17">A. JVMå±‚é¢ä¼˜åŒ–</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># OpenJDKæ¨èå‚æ•°ï¼ˆæ¨¡å—åŒ–ç²¾ç®€ï¼‰</span>
-javaagent:springloaded.jar -noverify 
-Djdk.module.illegalAccess.silent=<span class="hljs-literal">true</span>
-Xms256m -Xmx256m <span class="hljs-comment">#é¿å…å †å¤§å°åŠ¨æ€è°ƒæ•´</span>
</code></pre>
<h4 data-id="heading-18">B. SpringBootç‰¹å®šä¼˜åŒ–é¡¹</h4>
<ol>
<li><strong>å»¶è¿Ÿåˆå§‹åŒ–æ¨¡å¼</strong>(éœ€æƒè¡¡é¦–æ¬¡è¯·æ±‚å“åº”æ—¶é—´)ï¼š</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">main:</span>
    <span class="hljs-attr">lazy-initialization:</span> <span class="hljs-literal">true</span> 
</code></pre>
<ol start="2">
<li><strong>æ’é™¤è‡ªåŠ¨è£…é…ç±»</strong>(é€šè¿‡spring.autoconfigure.exclude)ï¼š</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</span>
</code></pre>
<ol start="3">
<li><strong>ç»„ä»¶æ‰«æèŒƒå›´æ§åˆ¶</strong>(ç²¾ç¡®æŒ‡å®šbasePackages)ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ComponentScan(basePackages = "com.your.package")</span>
</code></pre>
<h4 data-id="heading-19">C. Classpathç˜¦èº«æ–¹æ¡ˆ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Mavenå‘½ä»¤åˆ†æä¾èµ–æ ‘(è¿‡æ»¤provided/test)</span>
mvn dependency:tree -Dincludes=org.springframework*
</code></pre>
<hr/>
<h2 data-id="heading-20">äº”ã€é«˜æ•ˆçƒ­éƒ¨ç½²ä¸å®æ—¶è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-21">DevToolsæ·±åº¦åº”ç”¨æŒ‡å—</h3>
<h4 data-id="heading-22">A. ClassåŠ è½½æœºåˆ¶åŸç†å›¾</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-attr">[å˜æ›´æ£€æµ‹]</span> â†’ <span class="hljs-selector-attr">[é‡å¯ç±»åŠ è½½å™¨]</span> â†’ <span class="hljs-selector-attr">[éš”ç¦»çš„åº”ç”¨ç±»åŠ è½½å™¨]</span>
              â†‘               â†“ 
          (ç¬¬ä¸‰æ–¹åº“ä¸å˜)   (ä¸šåŠ¡ç±»é‡æ–°åŠ è½½)
</code></pre>
<h4 data-id="heading-23">B. application.ymlä¸“å±é…ç½®é¡¹</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
 <span class="hljs-attr">devtools:</span>
   <span class="hljs-attr">restart:</span>
     <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span> 
     <span class="hljs-attr">exclude:</span> <span class="hljs-string">static/**</span> <span class="hljs-comment">#å¿½ç•¥èµ„æºç›®å½•å˜æ›´è§¦å‘é‡å¯ </span>
     <span class="hljs-attr">poll-interval:</span> <span class="hljs-string">2s</span> <span class="hljs-comment">#è½®è¯¢é—´éš”(å¯¹éIDEåœºæ™¯é‡è¦)</span>
   <span class="hljs-attr">livereload:</span>
     <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°(éœ€é…åˆæ’ä»¶)</span>
</code></pre>
<h4 data-id="heading-24">C. JRebelé«˜çº§æ›¿ä»£æ–¹æ¡ˆå¯¹æ¯”è¡¨</h4>






























<table><thead><tr><th>Feature</th><th>DevTools</th><th>JRebel</th></tr></thead><tbody><tr><td>Classé‡è½½</td><td>âœ“</td><td>âœ“</td></tr><tr><td>Beanå®šä¹‰æ›´æ–°</td><td>âœ—</td><td>âœ“</td></tr><tr><td>XMLçƒ­æ›´æ–°</td><td>âœ—</td><td>âœ“</td></tr><tr><td>Annotationså˜åŒ–å¤„ç†</td><td>âœ—</td><td>âœ“</td></tr></tbody></table>
<blockquote>
<p><strong>æ€§èƒ½æ•°æ®å®æµ‹</strong>ï¼š(i7-11800H + SSDç¯å¢ƒ) DevToolså†·å¯å¹³å‡800ms vs JRebelå¹³å‡200ms</p>
</blockquote>
<hr/>
<h2 data-id="heading-25">Conclusion</h2>
<p>æœ¬æ–‡æ·±å…¥æ¢è®¨çš„äº”ä¸ªç»´åº¦â€”â€”ç±»å‹å®‰å…¨é…ç½®(<code>@ConfigurationProperties</code>) ã€ç”Ÿäº§å¯è§‚æµ‹æ€§(Actuator+Micrometer)ã€æ¡ä»¶åŒ–è£…é…ç­–ç•¥(<code>@Conditional</code>) ã€å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–ä»¥åŠçƒ­éƒ¨ç½²å®è·µ(DevTools/JRebel)â€”â€”æ„æˆäº†SpringBooté«˜æ•ˆå¼€å‘çš„åŸºçŸ³ã€‚è¿™äº›æŠ€æœ¯ä¸æ˜¯å­¤ç«‹çš„çŸ¥è¯†ç‚¹ï¼Œè€Œæ˜¯éœ€è¦æ ¹æ®å®é™…é¡¹ç›®éœ€æ±‚è¿›è¡Œæœ‰æœºç»„åˆçš„ç³»ç»Ÿå·¥ç¨‹ã€‚</p>
<p>ç‰¹åˆ«å¼ºè°ƒçš„æ˜¯ï¼š</p>
<p>1ï¸âƒ£ <em>å¯¹äºæ–°é¡¹ç›®</em> ï¼šå»ºè®®ä»ç¬¬ä¸€å¤©å°±é›†æˆActuatorç›‘æ§å’ŒMetricæ”¶é›†ä½“ç³»</p>
<p>2ï¸âƒ£ <em>å¯¹äºé—ç•™ç³»ç»Ÿè¿ç§»</em> ï¼šä¼˜å…ˆè€ƒè™‘é€šè¿‡æ¡ä»¶åŒ–Beanå®ç°å¹³æ»‘è¿‡æ¸¡</p>
<p>3ï¸âƒ£ <em>å›¢é˜Ÿåä½œåœºæ™¯</em> ï¼šç»Ÿä¸€DevToolsæˆ–JRebelçš„çƒ­éƒ¨ç½²æ–¹æ¡ˆèƒ½æ˜¾è‘—æå‡ååŒæ•ˆç‡</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»æ–¹æ³•å®è·µ]]></title>    <link>https://juejin.cn/post/7602188264115306511</link>    <guid>https://juejin.cn/post/7602188264115306511</guid>    <pubDate>2026-02-03T10:45:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602188264115306511" data-draft-id="7602216700747972608" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»æ–¹æ³•å®è·µ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-03T10:45:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»æ–¹æ³•å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:45:11.000Z" title="Tue Feb 03 2026 10:45:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç³»ç»Ÿçš„å¤æ‚æ€§</h2>
<p>æˆ‘ä»¬å›¢é˜Ÿè´Ÿè´£çš„ç³»ç»Ÿæ˜¯åˆ†å¸ƒå¼å¾®æœåŠ¡éƒ¨ç½²æ¶æ„ï¼Œéšç€ä¸šåŠ¡çš„ä¸æ–­å‘å±•å£®å¤§å’Œå¤šæ¡çº¿åœºæ™¯åŒ–çš„æŒç»­å»ºè®¾ä¸°å¯Œï¼Œç³»ç»Ÿçš„ä¸šåŠ¡é€»è¾‘è¶Šæ¥è¶Šå¤šï¼ŒåŠŸèƒ½é€»è¾‘ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-1">ç³»ç»Ÿæ—©æœŸå•ä¸ªåº”ç”¨çš„ä¸€ä¸ªç”¨æˆ·æ•…äº‹åœ°å›¾</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77eb8d5b7a5b499eb0a68f2bba921796~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=punYw5iRhe8%2FhxgLLoqj947jGSs%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-2">ç³»ç»Ÿäº¤äº’</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed397964ee1f42ccadf1ca50ace0e55f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=Tq9T1jyCXWgXoEBwDLP9UepAVyo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e505874bd1d469ba518d3b180e30cfe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=LfbGMb3ZkYMBiFOJM%2Byk%2BOPspOU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-3">ç‰©ç†æ¨¡å‹ï¼ˆåº“è¡¨ï¼‰çš„å¤æ‚æ€§</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c6ef7725857482f80ad2e298c3dd60f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=EQ3%2FbJKCZtaZ67ZvUscJW65ZfQk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-4">ä¸€ä¸ªå­ç³»ç»Ÿçš„ä»£ç æ²‰æ·€</h3>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d783aa32b3294b5a8cb2cc440d3c45ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=dOUD5lqX6WFreOGRrh7%2BLa%2BX8y0%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b896831ad0a40fba2779abbc35f4c53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=zV9qYM7pFqfd0xAbM0gyI0Orc%2Bo%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>åœ¨åº”ç”¨éƒ¨ç½²æ–¹é¢ï¼Œç›®å‰ç°çŠ¶æˆ‘ä»¬çš„ä¸€ä¸ªåº”ç”¨å¯¹åº”ä¸€ä¸ªcodingä»£ç åœ°å€ï¼Œéƒ¨ç½²ä»¥ä¸€ä¸ªåº”ç”¨ä¸ºå•ä½å‘èµ·éƒ¨ç½²ç”³è¯·ï¼Œåº”ç”¨ä¸‹æœ‰å¤šä¸ªé›†ç¾¤ï¼Œé›†ç¾¤ä¸‹æœ‰å¤šä¸ªåˆ†ç»„ï¼Œä¹ŸåŒºåˆ†ç°åº¦ç¯å¢ƒã€æ­£å¼çº¿ä¸Šç¯å¢ƒã€‚é€šè¿‡ä¸åŒçš„éƒ¨ç½²ç¼–æ’ï¼Œä½¿ç”¨ä¸åŒçš„ä»£ç ç‰ˆæœ¬éƒ¨ç½²ä¸åŒçš„ç¯å¢ƒã€‚</p>
<p>ï»¿</p>
<p>ç³»ç»Ÿçš„å¤æ‚æ€§æ¥è‡ªå¤šä¸ªæ–¹é¢ï¼šä¸šåŠ¡æµç¨‹å¤æ‚æ€§ã€æ¶æ„å¤æ‚æ€§ã€ä»£ç å®ç°å¤æ‚æ€§ã€ç‰©ç†æ¨¡å‹ï¼ˆåº“è¡¨ï¼‰çš„å¤æ‚æ€§ã€ç›‘æ§è¿ç»´çš„å¤æ‚æ€§ç­‰ã€‚æœ¬æ–‡é‡ç‚¹ä¸æ˜¯ç³»ç»Ÿå¤æ‚æ€§çš„æ²»ç†ï¼Œè€Œæ˜¯åœ¨ç°æœ‰åŸºç¡€ä¸Šï¼Œå¦‚ä½•ä½æˆæœ¬è½»é‡çº§æ–¹å¼æœåŠ¡éš”ç¦»ï¼Œåœ¨å¤§ä¿ƒä¸ºç³»ç»Ÿçš„ç¨³å®šæ€§ä¸­å‘æŒ¥ä½œç”¨ã€‚</p>
<p>ï»¿</p>
<p>ä¸€ä¸ªå®¹å™¨ä¸­éƒ¨ç½²çš„åº”ç”¨è¿›ç¨‹å†…ï¼Œæä¾›äº†å„ç§å„æ ·çš„æœåŠ¡ï¼Œä»¥åœ¨åº“åº”ç”¨ä¸ºä¾‹ï¼ŒåŒ…å«äº†ç›˜ç‚¹ã€å˜æ›´ã€è¡¥è´§ã€ç§»åº“ã€ç›˜ç›ˆäºã€é¢„åŒ…ç­‰ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½ï¼Œæ¯ä¸ªåŠŸèƒ½åˆæœ‰è‡ªå·±çš„å•æ®-ä»»åŠ¡-ç»“æœæ•´å¥—ä¸šåŠ¡æµç¨‹ã€‚æ—¢æœ‰RESTfulæœåŠ¡ï¼Œä¹Ÿæœ‰JSFæœåŠ¡ï¼Œè¿˜æœ‰MQæ¶ˆæ¯å¤„ç†ï¼Œå¦å¤–è¿˜æœ‰å®šæ—¶ä»»åŠ¡ã€‚è¿™äº›èµ„æºè™½æœ‰çº¿ç¨‹æ± éš”ç¦»ï¼Œä½†CPUã€å†…å­˜ç­‰èµ„æºä»æ˜¯å…±äº«èµ„æºï¼Œåœ¨è´Ÿè½½é«˜çš„æ—¶å€™ï¼Œæ¯”å¦‚CPUæ»¡è½½æˆ–å†…å­˜OOMæ—¶ï¼Œä¼šé€ æˆæœåŠ¡å¡é¡¿ï¼ŒRTæ—¶é—´é•¿ï¼Œå½±å“æœåŠ¡å“åº”å’ŒåŠŸèƒ½ä½¿ç”¨ã€‚</p>
<p>ï»¿</p>
<h2 data-id="heading-5">æ–¹æ¡ˆ</h2>
<h3 data-id="heading-6">æ–¹æ¡ˆä¸€ï¼šåº”ç”¨æ‹†åˆ†</h3>
<p>æŒ‰ä¸šåŠ¡åŸŸã€æŠ€æœ¯åŸŸå¯¹è¿›è¡Œæ‹†åˆ†ï¼Œæ¯”å¦‚åœ¨åº“åº”ç”¨æŒ‰ç›˜ç‚¹ã€å˜æ›´ã€ç§»åº“ã€è¡¥è´§ç­‰æ‹†åˆ†ä¸ºå•ç‹¬çš„åº”ç”¨ï¼Œä¸ä»…åº”ç”¨éƒ¨ç½²åšäº†æ‹†åˆ†ï¼Œå¯¹åº”çš„æ•°æ®åº“å±‚é¢ä¹ŸæŒ‰åŸŸè¿›è¡Œæ‹†åˆ†ï¼Œç›˜ç‚¹ç›¸å…³çš„è¡¨ï¼Œä¾‹å¦‚ç›˜ç‚¹å•ä¸»æ¡£ã€ç›˜ç‚¹å•æ˜ç»†ã€ç›˜ç‚¹ä»»åŠ¡ä¸»æ¡£ã€ç›˜ç‚¹ä»»åŠ¡æ˜ç»†ã€ç›˜ç‚¹ç»“æœç‹¬ç«‹åˆ°å•ç‹¬çš„åº“ä¸­ï¼Œå¯ä»¥æŒ‰é€»è¾‘åº“ç‹¬ç«‹ï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹åˆ°å•ç‹¬çš„æ•°æ®åº“å®ä¾‹ä¸­ï¼Œåè€…çš„éš”ç¦»æ•ˆæœæ›´å¥½ã€‚åœ¨ä»£ç å±‚é¢ï¼Œå¯ä»¥å°†åœ¨åº“codingæŒ‰åŸŸæ‹†åˆ†å‡ºæ¥å•ç‹¬çš„ä»£ç åº“ï¼Œä¹Ÿå¯ä»¥ä¸ç‹¬ç«‹ï¼Œä¿æŒå…±äº«ä»£ç åº“ï¼Œåªæ˜¯åœ¨ç¼–è¯‘æ—¶æŒ‰moudleè¿›è¡ŒæŒ‰éœ€é›†æˆï¼Œä¾‹å¦‚ä¸ºç›˜ç‚¹åº”ç”¨ç¼–è¯‘æ—¶ï¼ŒåŒ…å«ç›˜ç‚¹moudleã€å…¬å…±moduleï¼Œå…¶ä»–ä¸éœ€è¦çš„moudleï¼Œæ¯”å¦‚å˜æ›´moduleã€è¡¥è´§moduleåˆ™ä¸éœ€è¦å‚ä¸ç¼–è¯‘é›†æˆã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-7">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨Hystrixè¿›è¡ŒæœåŠ¡éš”ç¦»</h3>
<p>Hystrix ä¸»è¦å®ç°çš„æ˜¯â€Œè¿›ç¨‹å†…éš”ç¦»â€Œï¼Œå…·ä½“æ¥è¯´ï¼Œå®ƒé€šè¿‡çº¿ç¨‹æ± éš”ç¦»å’Œä¿¡å·é‡éš”ç¦»ä¸¤ç§æœºåˆ¶ï¼Œåœ¨å•ä¸ªåº”ç”¨è¿›ç¨‹å†…éƒ¨å¯¹ä¾èµ–æœåŠ¡çš„è°ƒç”¨è¿›è¡Œèµ„æºéš”ç¦»å’Œæ•…éšœæ§åˆ¶â€Œã€‚</p>
<h4 data-id="heading-8">â€Œçº¿ç¨‹æ± éš”ç¦»â€Œ</h4>
<p>Hystrix ä¸ºæ¯ä¸ªä¾èµ–æœåŠ¡åˆ†é…ç‹¬ç«‹çš„çº¿ç¨‹æ± ï¼Œä¸åŒæœåŠ¡çš„è°ƒç”¨è¯·æ±‚åœ¨å„è‡ªçš„çº¿ç¨‹æ± ä¸­æ‰§è¡Œï¼Œé¿å…å› æŸä¸ªæœåŠ¡æ•…éšœæˆ–å»¶è¿Ÿè€—å°½æ•´ä¸ªåº”ç”¨çš„çº¿ç¨‹èµ„æºâ€Œï¼Œè¿™ç§éš”ç¦»æ–¹å¼ç±»ä¼¼äºâ€œèˆ±å£éš”ç¦»â€ï¼Œå°†æ•…éšœé™åˆ¶åœ¨ç‰¹å®šèŒƒå›´å†…â€Œã€‚</p>
<p>ï»¿</p>
<h4 data-id="heading-9">â€Œä¿¡å·é‡éš”ç¦»â€Œ</h4>
<p>é€šè¿‡æ§åˆ¶å¹¶å‘è¯·æ±‚çš„çº¿ç¨‹æ•°ï¼ˆä¿¡å·é‡é˜ˆå€¼ï¼‰å®ç°éš”ç¦»ï¼Œé€‚ç”¨äºè€—æ—¶çŸ­ã€å¹¶å‘é‡é«˜çš„åœºæ™¯ï¼ˆå¦‚è¯»ç¼“å­˜ï¼‰â€Œã€‚ä¿¡å·é‡éš”ç¦»æ˜¯åŒæ­¥é˜»å¡æ–¹å¼ï¼Œä¸æ¶‰åŠçº¿ç¨‹åˆ‡æ¢ï¼Œå¼€é”€è¾ƒä½â€Œã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-10">æ–¹æ¡ˆä¸‰ï¼šè½»é‡çº§è¿›ç¨‹é—´æœåŠ¡æœåŠ¡éš”ç¦»</h3>
<p>æ—¢ä¸æ‹†åˆ†åº”ç”¨ï¼Œä¹Ÿä¸éœ€è¦å¼•å…¥Sping Cloud Hystrixç»„ä»¶ï¼Œä¸ä¾µå…¥ä¸šåŠ¡ä»£ç ï¼Œåœ¨éƒ¨ç½²å±‚é¢å®ç°æœåŠ¡éš”ç¦»ï¼Œå±äºåº”ç”¨å†…åˆ†ç»„æœºå™¨å®ä¾‹éš”ç¦»ï¼Œä¹Ÿæ˜¯è¿›ç¨‹é—´æœåŠ¡éš”ç¦»ã€‚æ•°æ®åº“å’Œä»£ç åº“å±‚é¢ä¸éœ€è¦éš”ç¦»ï¼Œä»é‡‡ç”¨å…±äº«æ¨¡å¼ã€‚</p>
<p>ä»¥åœ¨åº“ä¸ºä¾‹ï¼Œä¸ºç›˜ç‚¹ã€è¡¥è´§ã€å˜æ›´ç­‰åˆ›å»ºä¸åŒçš„ä¸šåŠ¡åˆ†ç»„ï¼Œå½“ç„¶å¤„äºé«˜å¯ç”¨è€ƒè™‘ï¼Œä¼šä¸ºç›˜ç‚¹ã€è¡¥è´§ã€å˜æ›´ç­‰æ¯ä¸ªä¸šåŠ¡åˆ†ç»„ï¼Œåˆä¼šæ¨ªè·¨å¤šä¸ªæœºæˆ¿åˆ†ç»„ï¼Œä¸å¦‚ä¸­äº‘ä¿¡æœºæˆ¿åˆ†ç»„ã€æœ‰å­šæœºæˆ¿åˆ†ç»„ã€‚</p>
<p>ï»¿</p>
<p>æœ¬æ–‡æ¢ç´¢å®è·µçš„æ–¹æ¡ˆä¸‰ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/841edfbd0b3647318728cdbc4be9cbd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=qGPtxKg26wGmApf0IcSIleJRo%2FQ%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-11">æ–¹æ¡ˆç®€å•å¯¹æ¯”å’Œé€‰æ‹©</h3>









































<table><thead><tr><th><strong>æ–¹æ¡ˆ</strong></th><th><strong>éš”ç¦»ç²’åº¦</strong></th><th><strong>éš”ç¦»æ•ˆæœ</strong></th><th><strong>ä»£ç ä¾µå…¥æ€§</strong></th><th><strong>å®ç°æˆæœ¬</strong></th><th><strong>è½åœ°é£é™©</strong></th><th><strong>è½åœ°é€Ÿåº¦</strong></th></tr></thead><tbody><tr><td>æ–¹æ¡ˆä¸€ï¼šåº”ç”¨æ‹†åˆ†</td><td>åº”ç”¨é—´éš”ç¦»</td><td>é«˜</td><td>é«˜</td><td>é«˜</td><td>é«˜</td><td>æ…¢</td></tr><tr><td>æ–¹æ¡ˆäºŒï¼šä½¿ç”¨Hystrixè¿›è¡ŒæœåŠ¡éš”ç¦»</td><td>çº¿ç¨‹é—´éš”ç¦»</td><td>ä½</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td></tr><tr><td>æ–¹æ¡ˆä¸‰ï¼šè½»é‡çº§è¿›ç¨‹é—´æœåŠ¡æœåŠ¡éš”ç¦»</td><td>è¿›ç¨‹é—´éš”ç¦»</td><td>ä¸­</td><td>ä½</td><td>ä½</td><td>ä½</td><td>å¿«</td></tr></tbody></table>
<p>ï»¿</p>
<p>æœ¬æ–‡æ—¨åœ¨æ¢ç´¢ä¸€ä¸ªè½»é‡çº§çš„è¿›ç¨‹çº§æœåŠ¡éš”ç¦»æ–¹æ³•ï¼ŒçŸ­å¹³å¿«ï¼Œæ˜“è½åœ°ï¼Œè§æ•ˆå¿«ï¼Œå¯ä»¥åœ¨å¤§ä¿ƒä¸­å¿«é€Ÿå‘æŒ¥ä½œç”¨ï¼Œä¿éšœç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</p>
<p>åœ¨æ–¹æ¡ˆé€‰æ‹©ä¸Šï¼Œæœ¬æ–‡é€‰æ‹©æ–¹æ¡ˆä¸‰è¿›è¡Œå®æ“è½åœ°ã€‚é€‰æ‹©æ–¹æ¡ˆä¸‰ï¼Œæ˜¯å› ä¸ºæ–¹æ¡ˆä¸‰å¾ˆç‰›å—ï¼Ÿä¸æ˜¯çš„ï¼Œç›¸æ¯”ä¹‹ä¸‹æ–¹æ¡ˆä¸€å’Œæ–¹æ¡ˆäºŒæ–¹æ¡ˆæ›´ä¸ºæˆç†Ÿï¼Œè¡Œä¸šè½åœ°ç»éªŒæ›´ä¸ºä¸°å¯Œã€‚</p>
<p>ä¹‹æ‰€ä»¥é€‰æ‹©æ–¹æ¡ˆä¸‰ï¼Œæ˜¯åœ¨ä¼—å¤šçš„å› ç´ è€ƒé‡ä¸­æŠ˜ä¸­é€‰æ‹©ï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œé‡‡ç”¨åˆé€‚çš„æ–¹æ¡ˆè§£å†³ç›¸åº”çš„ç—›ç‚¹ï¼Œå¤Ÿç”¨ + 1ï¼Œeasy + 1ã€‚</p>
<p>æ–¹æ¡ˆäºŒå’Œä¸‰ä¹‹é—´å¹¶æ— å†²çªï¼Œå…¶å®å¯ä»¥ç»“åˆæ­é…ä½¿ç”¨ã€‚</p>
<p>ï»¿</p>
<h2 data-id="heading-12">å®æ“</h2>
<h3 data-id="heading-13">éš”ç¦»éƒ¨ç½²åˆ†ç»„</h3>
<p>é…ç½®é›†åˆ</p>
<p>é€šè¿‡é…ç½®é›†åˆï¼Œå®ç°åˆ†ç»„é—´å…±äº«é…ç½®ï¼Œæ–¹ä¾¿å¤šåˆ†ç»„ç®¡ç†ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/412c1f699fb3488095955e8f6414e9da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=5TUJzy6rLn9gWLfvATZdRJQG13g%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p>è·¨æœºæˆ¿å¤šæœºæˆ¿éƒ¨ç½²</p>
<p>é€šè¿‡å¤šæœºæˆ¿éƒ¨ç½²å®ç°æœåŠ¡é«˜å¯ç”¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8b2f77310045f68e35841fe3af0cb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=aarBbL%2FJT1FG6Rcyto%2FiI2LpNhw%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-14">éš”ç¦»NPåŸŸå</h3>
<p>æŒ‰åŸŸéš”ç¦»çš„RESTfulï¼Œåˆ›å»ºå•ç‹¬çš„NPåŸŸåã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6df1f7d96c9a463e8642d0582324900b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=AslAPY9D2n2Gs30%2BQvIYp3NFSJU%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddc01c0d0f1446c1aaa3ee518ce56089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=VEJSFrMrcT%2F5FbUv950l4cP1ipY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4307c2a34ade48d48c3d50c462c4c5e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=Or32upHCJa4Zewo5meEYViVpEnY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-15">NGINXæ‹†åˆ†æµé‡</h3>
<p>æ‹†åˆ†upstreamï¼ŒæŒ‰ç…§ä¸åŒåŸŸRESTfulæ–¹æ³•çš„è§„åˆ™è¿›è¡Œè·¯ç”±æ‹†åˆ†é…ç½®ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22f3b762331e4b2691fbf3814f86c10e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=2KPYiQiRb4BBTeCMsufutHl0gNA%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6914810603d4b3ba8434e283afa7648~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=%2FziMn5f89QrQFU%2FF3s3jVTiqZL4%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h3 data-id="heading-16">JSFæœåŠ¡éš”ç¦»</h3>
<p>åˆ«åæ‹†åˆ†ï¼Œé€šè¿‡åˆ«åéš”ç¦»æœåŠ¡ï¼Œè°ƒç”¨æ–¹æ— éœ€æ”¹åŠ¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bff9677f0ac4033903756c3ca05afc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=FMtvOgHDkWieTs7%2F%2F0L8jqRbBsk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/740ff0c882694018bed1aee648d11e98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=TZ87O9Gw8EaKFTxGAsiMKJXCsGY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a02b702d21b41468bf310d6baef270b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=k8UiNVGRShgJVYYmU%2BPTsfncZ%2Fs%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>éšç€æœåŠ¡éš”ç¦»ï¼ŒåŒæ—¶å…¼é¡¾æœºå™¨èµ„æºåˆ©ç”¨ç‡ï¼Œæ‹†åˆ†åçš„å•åŸŸå†…æœºå™¨æ•°é‡å°‘äºæ‹†åˆ†å‰æœºå™¨æ•°é‡ï¼ŒJSFä¸šåŠ¡çº¿ç¨‹æ± å¤§å°å¯é€‚å½“è°ƒå¤§ï¼ŒJSFçš„å•æœºé™æµé˜ˆå€¼ä¹Ÿé€‚å½“è°ƒå¤§ã€‚</p>
<p>ï»¿</p>
<h3 data-id="heading-17">MQæ¶ˆæ¯é˜Ÿåˆ—éš”ç¦»</h3>
<p>åœ¨å˜æ›´çš„ymlä¸­ï¼Œåªä¿ç•™å˜æ›´ç›¸å…³çš„TOPICï¼Œå…¶ä»–ç½®ä¸ºNONEã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c3aebfe1b1b47fda66540a08aa3bcf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=otDvQ0LECL2jXh3S1A2%2FdgY%2BGdY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>åœ¨ç›˜ç‚¹çš„ymlä¸­ï¼Œåªä¿ç•™ç›˜ç‚¹ç›¸å…³çš„TOPICï¼Œå…¶ä»–ç½®ä¸ºNONEã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a67f64be9dc48ab9ea27f6ab0be64eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=oE3y06n9NAI3s0sBwR7BN7wMFu0%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>å…¶ä»–åˆ†ç»„æŒ‰æ­¤è°ƒæ•´é…ç½®ã€‚</p>
<p>ï»¿</p>
<h2 data-id="heading-18">è½åœ°æ•ˆæœ</h2>
<h3 data-id="heading-19">RESTFulæœåŠ¡</h3>
<p>å¯¹åº”çš„logbookè‡ªç„¶åœ°æŒ‰åŸŸæ‹†åˆ†ï¼Œæ–¹ä¾¿æŸ¥è¯¢å®šä½æµé‡æœºå™¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5421c33b9cf04d0099a1036d0abf5b18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=SbgoyT0A2ZYXLjHIm4ePzTzKe7w%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38e1a7c58722454bb669ee6dd4ceb24b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=MrfaLsz6EGrEktWnzbWeQy%2BCiJE%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h3 data-id="heading-20">JSFæœåŠ¡</h3>
<p>é€šè¿‡éš”ç¦»çš„JSFåˆ«åå®ç°æµé‡è·¯ç”±åˆ°çš„æœºå™¨ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed47ad3963f1473aaa1dab8687758578~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770720311&amp;x-signature=ZhbNuPq9oAld7B4i4WORAspQqPA%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>ï»¿</p>
<h2 data-id="heading-21">æœªæ¥æ¼”è¿›</h2>
<p>ç›®å‰ï¼Œåœ¨åº”ç”¨ç¨³å®šæ–¹é¢ï¼Œæ¢ç´¢å¹¶å®è·µè½åœ°äº†ä¸€ç§è½»é‡çº§è¿›ç¨‹é—´æœåŠ¡éš”ç¦»å•å…ƒåŒ–éƒ¨ç½²æ–¹æ³•ï¼Œåœ¨åº“å’Œåº“å­˜æŒ‰ä¸šåŠ¡åŸŸæ‹†åˆ†æœåŠ¡éƒ¨ç½²å•å…ƒåŒ–åˆ†ç»„ï¼Œåœ¨åº“æŒ‰ç›˜ç‚¹ã€è¡¥è´§ã€å˜æ›´ã€å¯¼å‡ºå¯¼å‡ºã€é€šç”¨æœåŠ¡éƒ¨ç½²ï¼Œåº“å­˜æŒ‰åº“å­˜æŸ¥è¯¢ã€åº“å®¹æœåŠ¡ã€é«˜æ—¶æ•ˆã€workeræœåŠ¡ç­‰ä½œä¸ºç‹¬ç«‹éƒ¨ç½²çš„éƒ¨ç½²å•å…ƒï¼Œæ§åˆ¶çˆ†ç‚¸åŠå¾„ï¼Œæ¯ä¸ªéƒ¨ç½²å•å…ƒéƒ½æ˜¯åŒæœºæˆ¿é«˜å¯ç”¨ï¼Œä¿éšœç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</p>
<p>æœªæ¥ï¼Œéšç€ç³»ç»Ÿçš„é•¿æœŸå‘å±•ï¼Œç³»ç»Ÿå¤æ‚æ€§éœ€æŒ‰åŸŸåˆç†æ‹†åˆ†æ²»ç†ï¼Œä¸šåŠ¡å•å…ƒåŒ–ï¼ŒæœåŠ¡å•å…ƒåŒ–ï¼Œç³»ç»Ÿæ¼”è¿›ä¸ä¸šåŠ¡å‘å±•é½å¤´å¹¶è¿›ï¼Œç›¸äº’ä¿ƒè¿›ï¼Œä½¿ç³»ç»Ÿå§‹ç»ˆä¿æŒåœ¨å¥åº·çš„æ°´ä½ï¼Œå¯æŒç»­å‘å±•</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js è‡ªå¸¦â€œåŠ é€Ÿå™¨â€ï¼šnode --run æ˜¯å¦æ¯” Bun æ›´å¿«ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602246300454436899</link>    <guid>https://juejin.cn/post/7602246300454436899</guid>    <pubDate>2026-02-03T14:17:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602246300454436899" data-draft-id="7584353612501368873" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js è‡ªå¸¦â€œåŠ é€Ÿå™¨â€ï¼šnode --run æ˜¯å¦æ¯” Bun æ›´å¿«ï¼Ÿ"/> <meta itemprop="keywords" content="Bun,Node.js,deno"/> <meta itemprop="datePublished" content="2026-02-03T14:17:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Legend80s"/> <meta itemprop="url" content="https://juejin.cn/user/2568105753839790"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js è‡ªå¸¦â€œåŠ é€Ÿå™¨â€ï¼šnode --run æ˜¯å¦æ¯” Bun æ›´å¿«ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2568105753839790/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Legend80s
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T14:17:36.000Z" title="Tue Feb 03 2026 14:17:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    30
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ JavaScript åç«¯è¿è¡Œæ—¶é¢†åŸŸï¼Œé€Ÿåº¦ä¸€ç›´æ˜¯æ ¸å¿ƒæˆ˜åœºã€‚è¿‘å¹´æ¥ï¼ŒBun ä»¥å…¶å®£ç§°çš„â€œä¸€ä½“åŒ–â€å·¥å…·é“¾å’Œé—ªç”µèˆ¬çš„å¯åŠ¨é€Ÿåº¦å¼‚å†›çªèµ·ï¼Œå¯¹è€ç‰Œç‹è€… Node.js å‘èµ·äº†å¼ºåŠ²æŒ‘æˆ˜ã€‚<code>bun run</code>Â çš„è¿…æ·ï¼Œè®©è®¸å¤šå¼€å‘è€…å¼€å§‹é‡æ–°è¯„ä¼°ä»–ä»¬çš„å·¥å…·é€‰æ‹©ã€‚</p>
<p>ç„¶è€Œï¼ŒNode.js å¹¶æœªæ­¢æ­¥ã€‚è‡ª v22.0.0 èµ·ï¼Œå®ƒæ‚„ç„¶å¼•å…¥äº†ä¸€ä¸ªä¸“ä¸ºå¯åŠ¨æ€§èƒ½è€Œç”Ÿçš„ç§˜å¯†æ­¦å™¨ï¼š<code>node --run</code>ã€‚è¿™ä¸ªå†…ç½®äº Node.js æ ¸å¿ƒçš„å‘½ä»¤ï¼Œæ—¨åœ¨ä»¥æœ€ç²¾ç®€ã€æœ€ç›´æ¥çš„æ–¹å¼æ‰§è¡ŒÂ <code>package.json</code>Â ä¸­çš„è„šæœ¬ï¼Œå®£ç§°è¦ä¸ºæœ€å¸¸è§çš„ç”¨ä¾‹æä¾›â€œé¡¶çº§æ€§èƒ½â€ã€‚</p>
<p>è¿™å¼•å‘äº†æˆ‘ä»¬çš„å¥½å¥‡ï¼šåœ¨çœŸå®çš„åœºæ™¯ä¸‹ï¼Œè¿™ä½æ–°ç§€çš„è¡¨ç°ç©¶ç«Ÿå¦‚ä½•ï¼Ÿå®ƒä¸Â <code>bun run</code>Â åŠä¼ ç»Ÿçš„Â <code>npm run</code>Â ç›¸æ¯”ï¼Œå­°ä¼˜å­°åŠ£ï¼Ÿ</p>
<p>æœ¬æ–‡å°†é€šè¿‡ä¸€ç³»åˆ—ä¸¥è°¨çš„å¯¹æ¯”æµ‹è¯•ï¼Œæ­å¼€Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fdocs%2Flatest%2Fapi%2Fcli.html%23--run" target="_blank" title="https://nodejs.org/docs/latest/api/cli.html#--run" ref="nofollow noopener noreferrer"><code>node --run</code></a>Â çš„ç¥ç§˜é¢çº±ï¼Œç”¨æ•°æ®å›ç­”ï¼šåœ¨ 2026 å¹´çš„è„šæœ¬å¯åŠ¨æ€§èƒ½ç«èµ›ä¸­ï¼Œè°æ‰æ˜¯çœŸæ­£çš„é€Ÿåº¦ç‹è€…ï¼Ÿ</p>
<p><strong/></p><p align="center"><strong>å„ä½å°ä¼™ä¼´è¯·æ³¨æ„ï¼æœ¬æ–‡å°†é¢ è¦†è¿™ä¸ªä¼ ç»Ÿè§‚å¿µâ€œbun å¯åŠ¨ä¸€å®šæ¯” Node.js æ›´å¿«â€ã€‚</strong></p><p/>
<hr/>
<p>é¦–å…ˆæˆ‘ä»¬å›é¡¾ä¸‹ Node.js è¿è¡Œæ–‡ä»¶æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<ol>
<li>ç›´æ¥å¯åŠ¨ <code>node foo.[jt]s</code> ğŸ¤¼â€â™‚ï¸ <code>bun foo.[jt]s</code></li>
<li>package.json è„šæœ¬è¿è¡Œ <code>npm run foo</code> ğŸ¤¼â€â™‚ï¸ <code>bun run foo</code></li>
<li>è„šæœ¬ <code>--run</code> ç›´æ¥è¿è¡Œ <code>node --run foo</code> <em>Added in: v22.0.0</em> ğŸ¤¼â€â™‚ï¸ <code>bun --run foo</code></li>
</ol>
<p>ç»Ÿè®¡æ–¹æ³•ï¼Œæˆ‘ä»¬æ¨¡ä»¿ç«æŠ€æ¯”èµ›ä¸­ï¼Œå»æ‰ä¸€ä¸ªæœ€é«˜åˆ†å’Œä¸€ä¸ªæœ€ä½åˆ†ï¼Œå¯ä»¥é¿å…â€œå†·å¯åŠ¨â€ç­‰æç«¯æ•°æ®å¹²æ‰°ï¼Œé‡‡å–å»æ‰æœ€å¤§å’Œæœ€å°å€¼ç„¶åå–å¹³å‡å€¼ï¼Œè¿™æ ·<strong>æŠ—å¹²æ‰°æ€§å¼º</strong>ã€<strong>æ›´å…¬å¹³</strong>ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€è½®ï¼šç›´æ¥å¯åŠ¨ JS æ–‡ä»¶é€Ÿåº¦</h2>
<p>åˆ†åˆ«å¯åŠ¨ä¸¤ä¸ª mjs æ–‡ä»¶ï¼Œä¸€ä¸ªç©ºä¸€ä¸ªæœ‰ IO è¾“å‡ºã€‚æµ‹è¯•æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// empty.mjs</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// io.mjs</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'hello world'</span>);

</code></pre>
<h3 data-id="heading-2">Node.js ğŸŸ¢</h3>
<p>åˆ†åˆ«æ‰§è¡Œ <code>time node empty.js</code> <code>time node io.mjs</code> å„è‡ªä¸‰æ¬¡ã€‚</p>
<p><code>â¯ time node empty.mjs</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">node empty.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">78</span>% cpu <span class="hljs-number">0.217</span> total
node empty.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">84</span>% cpu <span class="hljs-number">0.203</span> total
node empty.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>16s system <span class="hljs-number">69</span>% cpu <span class="hljs-number">0.225</span> total
</code></pre>
<p>æ—  io å¹³å‡è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>217</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx217ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">217</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p><code>â¯ time node io.mjs</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">node io.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">73</span>% cpu <span class="hljs-number">0.234</span> total
node io.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">72</span>% cpu <span class="hljs-number">0.236</span> total
node io.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">74</span>% cpu <span class="hljs-number">0.229</span> total
</code></pre>
<p>io å¹³å‡è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>234</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx234ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">234</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p>æ•´ä½“è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>225</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx225ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">225</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<h3 data-id="heading-3">Bun ğŸ</h3>
<pre><code class="hljs language-ts" lang="ts">bun empty.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>04s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">56</span>% cpu <span class="hljs-number">0.375</span> total
bun empty.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">63</span>% cpu <span class="hljs-number">0.337</span> total
bun empty.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>03s user <span class="hljs-number">0.</span>23s system <span class="hljs-number">70</span>% cpu <span class="hljs-number">0.371</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>371</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx371ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">371</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span></p>
<pre><code class="hljs language-ts" lang="ts">bun io.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>05s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">63</span>% cpu <span class="hljs-number">0.338</span> total
bun io.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>20s system <span class="hljs-number">56</span>% cpu <span class="hljs-number">0.351</span> total
bun io.<span class="hljs-property">mjs</span>  <span class="hljs-number">0.</span>03s user <span class="hljs-number">0.</span>20s system <span class="hljs-number">62</span>% cpu <span class="hljs-number">0.369</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>351</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx351ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">351</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span></p>
<p>æ•´ä½“ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>361</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx361ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">361</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span></p>
<p>è¿™æ•°æ®æœ‰ç‚¹åå¸¸ï¼Œ1 bun å¯åŠ¨ io æ–‡ä»¶é€Ÿåº¦åè€Œå¿«äºç©ºæ–‡ä»¶ï¼Œ2 å…¶æ¬¡å¾—åˆ°æœ¬æ–‡ç¬¬ä¸€ä¸ª<strong>éå¸¸é‡è¦çš„ç»“è®ºï¼šbun å¯¹ js æ–‡ä»¶å¯åŠ¨é€Ÿåº¦åè€ŒåŠ£äº Node.js</strong>ï¼ˆäºŒè€…ç›¸å·® 100ms+ï¼‰ã€‚</p>
<h2 data-id="heading-4">ç¬¬äºŒè½®ï¼šç›´æ¥å¯åŠ¨ TS æ–‡ä»¶é€Ÿåº¦</h2>
<blockquote>
<p>[!TIP]
æ³¨æ„ï¼šæƒ³è¦ä¸åŠ å‚æ•°ç›´æ¥è¿è¡Œ TSï¼ŒNode.js ç‰ˆæœ¬éœ€ <strong><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo></mrow><annotation encoding="application/x-tex">\geq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"/><span class="mrel">â‰¥</span></span></span></span></span> v22.18.0</strong>ã€‚</p>
</blockquote>
<p>åˆ†åˆ«å¯åŠ¨ä¸¤ä¸ª ts æ–‡ä»¶ï¼Œä¸€ä¸ªç©ºä¸€ä¸ªæœ‰ IO è¾“å‡ºã€‚æµ‹è¯•æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># æ–‡ä»¶å†…å®¹ä¸€æ ·</span>
empty-ts.ts
io-ts.ts
</code></pre>
<h3 data-id="heading-5">Node.js ğŸŸ¢</h3>
<pre><code class="hljs language-ts" lang="ts">node empty-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>19s system <span class="hljs-number">73</span>% cpu <span class="hljs-number">0.254</span> total
node empty-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">72</span>% cpu <span class="hljs-number">0.236</span> total
node empty-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">71</span>% cpu <span class="hljs-number">0.240</span> total
</code></pre>
<p>æ—  io å¹³å‡è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>240</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx240ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">240</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p><code>â¯ time node io-ts.ts</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">node io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">64</span>% cpu <span class="hljs-number">0.263</span> total
node io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">67</span>% cpu <span class="hljs-number">0.255</span> total
node io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">67</span>% cpu <span class="hljs-number">0.254</span> total
</code></pre>
<p>io å¹³å‡è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>255</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx255ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">255</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p>æ•´ä½“è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>248</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx248ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">248</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<blockquote>
<p>[!TIP]
å°ç»“ï¼šNode.js è¿è¡Œ ts è€—æ—¶æ¯” js å¢åŠ  <strong>~20ms</strong>ï¼Œè¿™åœ¨é¢„æœŸå†…å› ä¸ºå…ˆè¦ <a href="https://juejin.cn/spost/7407763018472046629#heading-12" target="_blank" title="https://juejin.cn/spost/7407763018472046629#heading-12">amacro ts ç¼–è¯‘å™¨å³å°†æ‰€æœ‰ç±»å‹ç”¨ç©ºæ ¼æ›¿ä»£</a>ã€‚</p>
</blockquote>
<h3 data-id="heading-6">Bun ğŸ</h3>
<pre><code class="hljs language-ts" lang="ts">bun empty-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>04s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">69</span>% cpu <span class="hljs-number">0.372</span> total
bun empty-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>15s system <span class="hljs-number">45</span>% cpu <span class="hljs-number">0.372</span> total
bun empty-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>06s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">56</span>% cpu <span class="hljs-number">0.402</span> total
</code></pre>
<p>æ—  io å¹³å‡è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>372</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx372ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">372</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<pre><code class="hljs language-ts" lang="ts">bun io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>25s system <span class="hljs-number">64</span>% cpu <span class="hljs-number">0.405</span> total
bun io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">55</span>% cpu <span class="hljs-number">0.388</span> total
bun io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>09s user <span class="hljs-number">0.</span>23s system <span class="hljs-number">74</span>% cpu <span class="hljs-number">0.429</span> total
</code></pre>
<p>io å¹³å‡è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>405</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx 405ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">405</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p>æ•´ä½“è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>388.5</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx 388.5ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">388.5</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<blockquote>
<p>[!TIP]
å°ç»“ï¼šBun è¿è¡Œ ts è€—æ—¶æ¯” js å¢åŠ  <strong>~20ms</strong>ï¼Œé¢„æœŸå†…ã€‚</p>
</blockquote>
<p>æœ¬æ–‡ç¬¬äºŒä¸ª<strong>ç»“è®ºï¼šbun æ‰§è¡Œ ts æ–‡ä»¶å¯åŠ¨é€Ÿåº¦åŠ£äº Node.js</strong>ï¼ˆäºŒè€…ç›¸å·® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>388</mn><mo>âˆ’</mo><mn>248</mn><mo>=</mo><mn>140</mn><mi>m</mi><mi>s</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">388 - 248 = 140ms+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">388</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">248</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">140</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mord">+</span></span></span></span></span>ï¼‰ã€‚</p>
<p>æœ‰è¯»è€…å¯èƒ½ä¼šé—®æ˜¯å¦æ˜¯é€šè¿‡ç¯å¢ƒå˜é‡å¯»å€ bun è€—æ—¶å¯¼è‡´çš„ã€‚é‚£æˆ‘ä»¬ç›´æ¥è·³è¿‡å¯»å€ï¼š</p>
<p><code>â¯ time /e/pnpm/bun io-ts.ts</code></p>
<pre><code class="hljs language-ts" lang="ts">/e/pnpm/bun io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">55</span>% cpu <span class="hljs-number">0.384</span> total
/e/pnpm/bun io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>23s system <span class="hljs-number">67</span>% cpu <span class="hljs-number">0.341</span> total
/e/pnpm/bun io-ts.<span class="hljs-property">ts</span>  <span class="hljs-number">0.</span>06s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">56</span>% cpu <span class="hljs-number">0.407</span> total
</code></pre>
<p>ç›´æ¥å¯»å€è€—æ—¶ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>384</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex"> 384ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">384</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ï¼Œç¡®å®å°‘äº <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>405</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex"> 405ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">405</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ï¼Œä½†ä¾ç„¶æ˜¾è‘—é«˜äº Node.js çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>255</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">255ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">255</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ï¼æ‰€ä»¥</p>
<h2 data-id="heading-7">ç»“è®ºä¸€</h2>
<p>Bun æ— è®º<strong>å¯åŠ¨</strong> JavaScript è¿˜æ˜¯ TypeScript æ–‡ä»¶<strong>éƒ½è¦æ…¢äº Node.js</strong>ï¼</p>
<blockquote>
<p>æ³¨æ„è¿™é‡Œæ˜¯<strong>å¯åŠ¨</strong>è€Œéè¿è¡Œã€‚</p>
</blockquote>
<h2 data-id="heading-8">ç¬¬ä¸‰è½®ï¼špackage.json è„šæœ¬å¯åŠ¨</h2>
<p>ç»“è®ºå…ˆè¡Œï¼šæ‰§è¡Œ package.json å†…çš„ scripts <code>bun run</code> çš„å¯åŠ¨é€Ÿåº¦å¿«äº <code>npm run</code>ã€‚æˆ‘ä»¬æµ‹è¯•ä¸‹ã€‚</p>
<p>npm v11.7.0</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ª script io å’Œä¸å« io çš„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"io"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"echo \"hello world\""</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"empty"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">npm run</h3>
<p><code>â¯ time command npm run io</code></p>
<blockquote>
<p>[!TIP]
<code>command npm</code> æ˜¯å› ä¸ºæˆ‘åœ¨ <code>~/.zshrc</code> å†…å¯¹ npm åšäº†åŒå alias éœ€é€šè¿‡ <code>command</code> æ‰¾åˆ°åŸå§‹å‘½ä»¤ã€‚</p>
</blockquote>
<pre><code class="hljs language-ts" lang="ts">&gt; rsbuild-react-<span class="hljs-number">19</span>@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span> io
&gt; io <span class="hljs-string">"hello world"</span>

<span class="hljs-string">"hello world"</span>
command npm run io  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>39s system <span class="hljs-number">58</span>% cpu <span class="hljs-number">0.660</span> total
</code></pre>
<pre><code class="hljs language-ts" lang="ts">command npm run io  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>34s system <span class="hljs-number">52</span>% cpu <span class="hljs-number">0.649</span> total
command npm run io  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>31s system <span class="hljs-number">50</span>% cpu <span class="hljs-number">0.638</span> total
</code></pre>
<p><code>npm run io</code> è€—æ—¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>650</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">650ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">650</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p>å»é™¤ IOï¼š<code>â¯ time command npm run empty</code></p>
<pre><code class="hljs language-ts" lang="ts">command npm run empty  <span class="hljs-number">0.</span>05s user <span class="hljs-number">0.</span>32s system <span class="hljs-number">60</span>% cpu <span class="hljs-number">0.610</span> total
command npm run empty  <span class="hljs-number">0.</span>03s user <span class="hljs-number">0.</span>34s system <span class="hljs-number">59</span>% cpu <span class="hljs-number">0.626</span> total
command npm run empty  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>33s system <span class="hljs-number">53</span>% cpu <span class="hljs-number">0.611</span> total
</code></pre>
<p>çº¯å¯åŠ¨è€—æ—¶ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>616</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">616ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">616</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚</p>
<p>æ•´ä½“è€—æ—¶ï¼š<code>npm run</code> å¯åŠ¨éœ€ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰ˆ</mo><mn>600</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\approx600ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em;"/><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">600</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚è¿™ä¹Ÿå¤ªæ…¢äº†ï¼Œä»£ç å•¥éƒ½æ²¡å¹²å‘¢ï¼</p>
<p>æ¥ä¸‹æ¥è¯•è¯• <code>bun run</code>ã€‚</p>
<h3 data-id="heading-10">bun run</h3>
<p><code>â¯ time bun run io</code>:</p>
<pre><code class="hljs language-ts" lang="ts">bun run io  <span class="hljs-number">0.</span>03s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">79</span>% cpu <span class="hljs-number">0.308</span> total
bun run io  <span class="hljs-number">0.</span>06s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">78</span>% cpu <span class="hljs-number">0.347</span> total
bun run io  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">68</span>% cpu <span class="hljs-number">0.313</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>313</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">313 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">313</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span> å·¦å³</p>
<p><code>â¯ time bun run empty</code>ï¼š</p>
<pre><code class="hljs language-ts" lang="ts">bun run empty  <span class="hljs-number">0.</span>04s user <span class="hljs-number">0.</span>18s system <span class="hljs-number">60</span>% cpu <span class="hljs-number">0.380</span> total
bun run empty  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">69</span>% cpu <span class="hljs-number">0.330</span> total
bun run empty  <span class="hljs-number">0.</span>03s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">67</span>% cpu <span class="hljs-number">0.361</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>361</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">361 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">361</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span> å·¦å³ã€‚ç¬¬äºŒä¸ªåå¸¸ io åè€Œæ›´æ…¢ã€‚</p>
<p>æ•´ä½“è€—æ—¶ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>337</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">337 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">337</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ã€‚ç»“è®º <code>bun run</code> å¤§æ¦‚æ˜¯ <code>npm run</code> çš„ä¸¤å€ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>600</mn><mi mathvariant="normal">/</mi><mn>300</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">600 / 300=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">600/300</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">2</span></span></span></span></span>ï¼‰æ€§èƒ½ã€‚</p>
<p>çªç„¶æƒ³èµ· Node.js v22.0.0 æ”¯æŒ <code>node --run</code> è¿è¡Œè„šæœ¬ï¼Œä¸“ä¸ºæ€§èƒ½è€Œç”Ÿï¼Œçœ‹çœ‹å®ƒè¡¨ç°å¦‚ä½•ã€‚</p>
<h2 data-id="heading-11">ç¬¬å››è½®ï¼špackage.json è„šæœ¬ `--run` ç›´æ¥è¿è¡Œ</h2>
<p>å…ˆè§£é‡Šä¸‹ <code>node --run</code>ï¼Œæ˜¯çš„ï¼Œå®ƒä¹Ÿå¯ä»¥æ‰§è¡Œ package.json ä¸­çš„è„šæœ¬ï¼Œè€Œä¸”ç”Ÿæ¥å°±æ˜¯ä¸ºæ€§èƒ½è€ƒè™‘ï¼ˆä¸ä¼šæ‰§è¡Œ <code>pre</code> / <code>post</code> é’©å­ï¼‰ã€‚</p>
<blockquote>
<p>å®ƒå°†ä» <code>package.json</code> æ–‡ä»¶çš„ <code>"scripts"</code> å¯¹è±¡ä¸­è¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚å¦‚æœæä¾›çš„ <code>"command"</code> ä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ—å‡ºå¯ç”¨çš„è„šæœ¬ã€‚</p>
<p><code>node --run</code> å¹¶ä¸æ—¨åœ¨å®Œå…¨åŒ¹é… <code>npm run</code> æˆ–å…¶ä»–åŒ…ç®¡ç†å™¨çš„è¿è¡Œå‘½ä»¤çš„è¡Œä¸ºã€‚Node.js çš„å®ç°<strong>æœ‰æ„æ›´åŠ ç²¾ç®€</strong>ï¼Œä»¥ä¾¿åœ¨æœ€å¸¸è§çš„ç”¨ä¾‹ä¸­<strong>ä¸“æ³¨äºé¡¶çº§æ€§èƒ½</strong>ã€‚å…¶ä»–è¿è¡Œå®ç°ä¸­ä¸€äº›è¢«æœ‰æ„æ’é™¤çš„åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>é™¤äº†è¿è¡ŒæŒ‡å®šçš„è„šæœ¬å¤–ï¼Œè¿˜ä¼šè¿è¡Œå‰ç½®ï¼ˆ<code>pre</code>ï¼‰æˆ–åç½®ï¼ˆ<code>post</code>ï¼‰è„šæœ¬ã€‚</li>
<li>å®šä¹‰ç‰¹å®šäºåŒ…ç®¡ç†å™¨çš„ç¯å¢ƒå˜é‡ã€‚</li>
</ul>
<p>â€”â€” <a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fdocs%2Flatest%2Fapi%2Fcli.html%23--run" target="_blank" title="https://nodejs.org/docs/latest/api/cli.html#--run" ref="nofollow noopener noreferrer">nodejs.org/docs/latestâ€¦</a></p>
</blockquote>
<h3 data-id="heading-12">node --run</h3>
<p><code>â¯ time node --run io</code>:</p>
<pre><code class="hljs language-ts" lang="ts">node --run io  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">79</span>% cpu <span class="hljs-number">0.216</span> total
node --run io  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>16s system <span class="hljs-number">81</span>% cpu <span class="hljs-number">0.192</span> total
node --run io  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>19s system <span class="hljs-number">84</span>% cpu <span class="hljs-number">0.220</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>216</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">216ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">216</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span> å®Œç¾ ğŸ¤©</p>
<p><code>â¯ time node --run empty</code>:</p>
<pre><code class="hljs language-ts" lang="ts">node --run empty  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">89</span>% cpu <span class="hljs-number">0.192</span> total
node --run empty  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>16s system <span class="hljs-number">80</span>% cpu <span class="hljs-number">0.212</span> total
node --run empty  <span class="hljs-number">0.</span>00s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">89</span>% cpu <span class="hljs-number">0.192</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>192</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">192 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">192</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span> å®Œç¾ ğŸ¤©ğŸ¤©</p>
<p><code>node --run</code> æ•´ä½“å¹³å‡ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>204</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">204 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">204</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ï¼Œç¡®å®åšäº†æ€§èƒ½ä¼˜åŒ–ï¼Œ<strong>ä¸‰å€æ€§èƒ½æå‡ ğŸš€</strong>ï¼š<code>npm run 616ms</code> VS <code>node --run 204ms</code></p>
<h3 data-id="heading-13">bun --run</h3>
<pre><code class="hljs language-ts" lang="ts">bun --run empty  <span class="hljs-number">0.</span>06s user <span class="hljs-number">0.</span>14s system <span class="hljs-number">53</span>% cpu <span class="hljs-number">0.370</span> total
bun --run empty  <span class="hljs-number">0.</span>05s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">75</span>% cpu <span class="hljs-number">0.347</span> total
bun --run empty  <span class="hljs-number">0.</span>04s user <span class="hljs-number">0.</span>21s system <span class="hljs-number">68</span>% cpu <span class="hljs-number">0.379</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>370</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">370 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">370</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span></p>
<pre><code class="hljs language-ts" lang="ts">bun --run io  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>18s system <span class="hljs-number">61</span>% cpu <span class="hljs-number">0.324</span> total
bun --run io  <span class="hljs-number">0.</span>01s user <span class="hljs-number">0.</span>23s system <span class="hljs-number">73</span>% cpu <span class="hljs-number">0.334</span> total
bun --run io  <span class="hljs-number">0.</span>03s user <span class="hljs-number">0.</span>17s system <span class="hljs-number">52</span>% cpu <span class="hljs-number">0.382</span> total
</code></pre>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>334</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">334 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">334</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span> ï¼ˆio åè€Œé€Ÿåº¦å¿«äºç©ºè„šæœ¬ -_-||ï¼‰</p>
<p><code>bun --run</code> æ•´ä½“è€—æ—¶ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>352</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">352 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">352</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>ï¼Œ<strong>åå¸¸ä¸‰ï¼š<code>bun --run</code> æ…¢äº <code>node --run</code></strong> çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>204</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">204 ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">204</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span></p>
<h2 data-id="heading-14">æ€§èƒ½æ•°æ®æ€»ç»“</h2>
<p>æ–‡ç« ä»ä¸‰ä¸ªç»´åº¦ï¼ˆç›´æ¥å¯åŠ¨æ–‡ä»¶ã€è¿è¡Œ package.json è„šæœ¬ã€ä½¿ç”¨Â <code>--run</code>Â å‘½ä»¤ï¼‰å¯¹æ¯”äº† Node.js å’Œ Bun çš„æ€§èƒ½ã€‚</p>
<h3 data-id="heading-15">æ ¸å¿ƒç»“è®º</h3>
<ol>
<li><strong>ç›´æ¥å¯åŠ¨æ–‡ä»¶</strong>ï¼šæ— è®º TS or JSï¼ŒNode.js ä»¥æ˜¾è‘—ä¼˜åŠ¿èƒœå‡ºã€‚</li>
<li><strong>è¿è¡Œ package.json è„šæœ¬</strong>ï¼šBun (<code>bun run</code>) å‡»è´¥ npm (<code>npm run</code>)ï¼Œä½† <code>node --run</code>Â å‡­å€Ÿå…¶ç²¾ç®€è®¾è®¡å‡»è´¥ <code>bun run / npm run / bun --run</code>ã€‚</li>
</ol>
<p><strong/></p><p align="center"><strong>è‡³æ­¤æœ¬æ–‡é¢ è¦†äº†ä¸€ä¸ªä¼ ç»Ÿè§‚å¿µâ€œbun å¯åŠ¨ä¸€å®šæ¯” Node.js æ›´å¿«â€ã€‚</strong></p><p/>
<h4 data-id="heading-16">é™„å½•ï¼šè¯¦ç»†æ•°æ®</h4>
<h6 data-id="heading-17">è¡¨æ ¼ä¸€ï¼šç›´æ¥è¿è¡Œ JS/TS æ–‡ä»¶æ€§èƒ½å¯¹æ¯” (å•ä½ï¼šms)</h6>















































<table><thead><tr><th>æµ‹è¯•åœºæ™¯</th><th>Node.js (v22.18.0)</th><th>Bun (v1.3.2)</th><th><strong>æ€§èƒ½èƒœå‡ºæ–¹</strong></th></tr></thead><tbody><tr><td>å¯åŠ¨ç©º JS æ–‡ä»¶</td><td>~217</td><td>~371</td><td>Node.js (å¿« ~41%)</td></tr><tr><td>å¯åŠ¨å« IO çš„ JS æ–‡ä»¶</td><td>~234</td><td>~351</td><td>Node.js (å¿« ~33%)</td></tr><tr><td><strong>JS æ–‡ä»¶å¯åŠ¨ç»¼åˆè€—æ—¶</strong></td><td><strong>~225</strong></td><td>~361</td><td><strong>Node.js èƒœå‡º</strong></td></tr><tr><td>å¯åŠ¨ç©º TS æ–‡ä»¶</td><td>~240</td><td>~372</td><td>Node.js (å¿« ~35%)</td></tr><tr><td>å¯åŠ¨å« IO çš„ TS æ–‡ä»¶</td><td>~255</td><td>~405</td><td>Node.js (å¿« ~37%)</td></tr><tr><td><strong>TS æ–‡ä»¶å¯åŠ¨ç»¼åˆè€—æ—¶</strong></td><td><strong>~248</strong></td><td>~389</td><td><strong>Node.js èƒœå‡º</strong></td></tr></tbody></table>
<p><strong>ç»“è®ºä¸€ï¼š</strong> Â åœ¨ç›´æ¥å¯åŠ¨æ–‡ä»¶ï¼ˆæ— è®º JS æˆ– TSï¼‰çš„åœºæ™¯ä¸‹ï¼Œ<strong>Node.js ğŸš€ æ€§èƒ½æ˜¾è‘—ä¼˜äº Bun</strong>ï¼Œå¹³å‡é¢†å…ˆå¹…åº¦åœ¨ 35%-41% å·¦å³ã€‚è™½ç„¶æœ‰åç›´è§‰ä½†æ˜¯æˆ‘çš„ Windows ä¸‹ç¡®å®å¦‚æ­¤ã€‚</p>
<hr/>
<h5 data-id="heading-18">è¡¨æ ¼äºŒï¼šè¿è¡Œ package.json è„šæœ¬æ€§èƒ½å¯¹æ¯” (å•ä½ï¼šms)</h5>








































<table><thead><tr><th>æ‰§è¡Œæ–¹å¼</th><th>å¹³å‡è€—æ—¶ (å«IO)</th><th>å¹³å‡è€—æ—¶ (ç©ºè„šæœ¬)</th><th>ç»¼åˆå¹³å‡è€—æ—¶</th><th><strong>æ€§èƒ½æ’åº (ç”±å¿«åˆ°æ…¢)</strong></th></tr></thead><tbody><tr><td><strong><code>node --run</code></strong></td><td>~216 ms</td><td>~192 ms</td><td><strong>~204 ms</strong></td><td>ğŸ¥‡Â <strong>ç¬¬1å</strong></td></tr><tr><td><strong><code>bun run</code></strong></td><td>~313 ms</td><td>~361 ms</td><td>~337 ms</td><td>ğŸ¥ˆÂ <strong>ç¬¬2å</strong></td></tr><tr><td><strong><code>bun --run</code></strong></td><td>~334 ms</td><td>~370 ms</td><td>~352 ms</td><td>ğŸ¥‰Â <strong>ç¬¬3å</strong></td></tr><tr><td><strong><code>npm run</code></strong></td><td>~650 ms</td><td>~616 ms</td><td>~633 ms</td><td><strong>ç¬¬4å</strong></td></tr></tbody></table>
<p><strong>ç»“è®ºäºŒï¼š</strong></p>
<ol>
<li><strong><code>node --run</code>Â æ˜¯ç»å¯¹çš„æ€§èƒ½å† å†›</strong>ï¼Œé€Ÿåº¦æ˜¯Â <code>npm run</code>Â çš„Â <strong>3.1 å€</strong>ï¼Œä¹Ÿæ¯”Â <code>bun run</code>Â å¿«çº¦Â <strong>65%</strong> ã€‚</li>
<li>Bun ç›¸å…³å‘½ä»¤æ€§èƒ½æ¥è¿‘ï¼š<code>bun run</code>Â å’ŒÂ <code>bun --run</code>Â æ€§èƒ½åœ¨åŒä¸€æ°´å¹³ï¼Œéƒ½æ˜¾è‘—å¿«äºÂ <code>npm run</code>ï¼ˆå¿«çº¦ 88%ï¼‰ã€‚</li>
<li><strong><code>npm run</code>Â å«åº•</strong>ï¼šä¼ ç»Ÿ npm è„šæœ¬çš„å¯åŠ¨å¼€é”€æœ€å¤§ï¼Œè€—æ—¶æœ€é•¿ã€‚</li>
</ol>
<h2 data-id="heading-19">å¯¹æˆ‘ä»¬çš„å¯å‘</h2>
<ul>
<li><strong>Node.js vs. Bun å¯åŠ¨é€Ÿåº¦</strong>ï¼šåœ¨ç›´æ¥å¯åŠ¨Â <code>.js</code>Â æˆ–Â <code>.ts</code>Â æ–‡ä»¶æ—¶ï¼ŒNode.js æ¯” Bun å¿«çº¦Â <strong>40%-60%</strong> ã€‚è¿™æ˜¯â€œ<strong>ä¸€ä¸ªéå¸¸é‡è¦çš„ç»“è®º</strong>â€ã€‚</li>
<li><strong>Package Script è¿è¡Œé€Ÿåº¦</strong>ï¼š
<ul>
<li><code>bun run</code>Â æ¯”Â <code>npm run</code>Â å¿«çº¦Â <strong>2 å€</strong>ã€‚</li>
<li>è€Œé»‘é©¬ ğŸ <code>node --run</code>Â æ¯”Â <code>npm run</code>Â å¿«çº¦Â <strong>3 å€</strong>ï¼</li>
</ul>
</li>
</ul>
<p><strong><code>node --run</code>Â çš„æ„ä¹‰</strong>â€”â€”<strong>åŒ…è„šæœ¬è¿è¡Œçš„é©æ–°</strong>ï¼š<code>node --run</code>Â æ— ç–‘æ˜¯æœ¬æ¬¡æµ‹è¯•çš„æœ€å¤§äº®ç‚¹ï¼Œå…¶é€Ÿåº¦éå¸¸æ¥è¿‘ç›´æ¥è¿è¡ŒÂ <code>node foo.js</code>Â çš„é€Ÿåº¦ï¼Œå®ç°äº†è¿‘ä¹â€œè£¸å¥”â€çš„è„šæœ¬æ‰§è¡Œæ€§èƒ½ã€‚å®ƒé€šè¿‡<strong>ç‰ºç‰² npm è„šæœ¬çš„éƒ¨åˆ†é«˜çº§åŠŸèƒ½</strong>ï¼ˆå¦‚Â <code>pre</code>/<code>post</code>Â é’©å­ã€ç‰¹å®šçš„ç¯å¢ƒå˜é‡ï¼‰ï¼Œæ¢æ¥äº†Â  <strong>~3 å€äºÂ <code>npm run</code>Â çš„é€Ÿåº¦æå‡</strong>ï¼Œç”šè‡³è¶…è¶Šäº†ä»¥é€Ÿåº¦è§é•¿çš„Â <code>bun run</code>ã€‚å¯¹äºè¿½æ±‚æè‡´æ„å»ºã€æµ‹è¯•æˆ–å¯åŠ¨é€Ÿåº¦ï¼Œä¸”ä¸ä¾èµ–è¿™äº›é«˜çº§ç‰¹æ€§çš„é¡¹ç›®ï¼Œ<code>node --run</code>Â æä¾›äº†ä¸€ä¸ªè¿‘ä¹å®Œç¾çš„â€œæ€§èƒ½æ¨¡å¼â€ã€‚</p>
<p>å¯å‘ï¼šå¦‚æœä½ è¦ç›´æ¥æ‰§è¡Œæ–‡ä»¶è¯·ä½¿ç”¨ Node.jsï¼Œå¦‚æœè¦æ‰§è¡Œ npm script å»ºè®® 99% æƒ…å†µä¸‹ç”¨ <code>node --run</code>ï¼ˆæ— éœ€è¿è¡Œ <code>pre / post npm script</code> æ—¶ï¼‰å¦åˆ™ <code>bun run</code>ã€‚</p>
<h2 data-id="heading-20">è¯´æ˜</h2>
<p>æµ‹è¯•ç¯å¢ƒ Windows 10ã€git bashã€Node.js ğŸŸ¢ v22.18.0ã€npm v11.7.0ã€bun ğŸ v1.3.2ã€‚</p>
<hr/>
<p><em/></p><p align="center"><em>â€”â€” å®Œ ğŸ‰ æœ€æ–°æ–‡ç« è¯·å…³æ³¨å…¬ä¼—å· <strong><code>JavaScriptä¸ç¼–ç¨‹è‰ºæœ¯</code></strong> â€”â€”</em></p><p/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘ä¸ºä½•è¦å°†æ•°æ®é‡‡é›†å¼€å‘å¥—ä»¶å¼€æº]]></title>    <link>https://juejin.cn/post/7602776926327406646</link>    <guid>https://juejin.cn/post/7602776926327406646</guid>    <pubDate>2026-02-04T09:55:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926327406646" data-draft-id="7602553969970937910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘ä¸ºä½•è¦å°†æ•°æ®é‡‡é›†å¼€å‘å¥—ä»¶å¼€æº"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-02-04T09:55:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘ä¸ºä½•è¦å°†æ•°æ®é‡‡é›†å¼€å‘å¥—ä»¶å¼€æº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:55:30.000Z" title="Wed Feb 04 2026 09:55:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæœ›å®¸</p>
<h2 data-id="heading-0">æ•°æ®é‡‡é›†æ­£æˆä¸ºå†³å®š Agent å“è´¨çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½</h2>
<p>éšç€ Agent çš„ä¸æ–­æ¼”è¿›å’Œä¾›åº”é“¾çš„æŒç»­ç¹è£ï¼Œæ•°æ®é‡‡é›†æ­£ä»ä¼ ç»Ÿçš„è¿ç»´å·¥å…·è¿›åŒ–æˆä¸ºå†³å®š Agent å“è´¨çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿä»¥ä¸‹æˆ‘ä»¬ä» Agent çš„æœåŠ¡å¯ç”¨æ€§ã€Agent çš„è¾“å‡ºå¯é æ€§ï¼Œä»¥åŠ Agent æˆæœ¬ä¸‰ä¸ªç»´åº¦æ¥åˆ†æã€‚</p>
<h3 data-id="heading-1">Agent çš„æœåŠ¡å¯ç”¨æ€§</h3>
<p>ä¸€ä¸ªå…¸å‹çš„ Agent åº”ç”¨ï¼Œè¿œæ¯”ä¼ ç»Ÿåº”ç”¨å¤æ‚å¾—å¤šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0a360d23db742ce9f918b2497384c2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=pNRfGAITFcVVhZO8TbbYmb316j8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨ç”¨æˆ·ç»ˆç«¯ä¹‹å¤–ï¼ŒAgent å¾€å¾€è¿˜åŒ…å«è®¤è¯ä¸æƒé™ä½“ç³»ã€ä¼šè¯ä¸ä¸Šä¸‹æ–‡ç®¡ç†ã€æ¨ç†æœåŠ¡ã€å¤§æ¨¡å‹è·¯ç”±ä¸é™çº§ç­–ç•¥ã€æµç¨‹ç¼–æ’å¼•æ“ç­‰æ ¸å¿ƒæ¨¡å—ã€‚åŒæ—¶ï¼Œæ¨¡å‹æ¨ç†æœ¬èº«åˆé«˜åº¦ä¾èµ–å¤–éƒ¨ä¸–ç•Œï¼šå®ƒå¯èƒ½ä¼šè°ƒç”¨å¤šä¸ªæ¨¡å‹æœåŠ¡ï¼Œé€šè¿‡å·¥å…·æ‰§è¡ŒçœŸå®æ“ä½œï¼Œå€ŸåŠ©å‘é‡æ•°æ®åº“ç»´æŠ¤é•¿æœŸè®°å¿†ï¼Œå†é€šè¿‡ç¼“å­˜æœºåˆ¶æ§åˆ¶ LLM çš„é‡å¤è°ƒç”¨æˆæœ¬ã€‚</p>
<p>è¿™äº›ç»„ä»¶å…±åŒæ„æˆäº†ä¸€æ¡é«˜åº¦åŠ¨æ€ã€è·¨ç³»ç»Ÿã€è·¨è¯­ä¹‰çš„æ‰§è¡Œé“¾è·¯ã€‚æ•°æ®ç±»å‹æ›´å¤šã€æ¥æºæ›´åˆ†æ•£ã€å…³è”å…³ç³»æ›´å¤æ‚ï¼Œè¿™å·²ç»ä¸æ˜¯ä¼ ç»Ÿè½¯ä»¶å¯ä»¥ç±»æ¯”çš„åº”ç”¨å½¢æ€äº†ã€‚</p>
<p>åœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œå­¤ç«‹çš„æ•°æ®å‡ ä¹æ²¡æœ‰ä»·å€¼ã€‚</p>
<p>åªæœ‰å°†æ¨¡å‹ã€å·¥å…·ã€æµç¨‹ä¸åŸºç¡€è®¾æ–½äº§ç”Ÿçš„ä¿¡å·ç»Ÿä¸€å…³è”èµ·æ¥ï¼Œæ‰èƒ½çœŸæ­£å›ç­”ï¼šç³»ç»Ÿåˆ°åº•å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Ÿè¿™å°±è¦æ±‚æ•°æ®é‡‡é›†å…·å¤‡ä¸‰ä¸ªèƒ½åŠ›ï¼šç»Ÿä¸€çš„æ•°æ®è¯­ä¹‰ã€ä½æˆæœ¬ä¸”é«˜è´¨é‡çš„é‡‡é›†æ–¹å¼ï¼Œä»¥åŠç«¯åˆ°ç«¯çš„å…¨é“¾è·¯è¿½è¸ªèƒ½åŠ›ã€‚</p>
<h3 data-id="heading-2">Agent çš„è¾“å‡ºå¯é æ€§</h3>
<p>Agent ä¸ä¼ ç»Ÿè½¯ä»¶çš„æ ¹æœ¬å·®å¼‚ï¼Œåœ¨äºå…¶è‡ªä¸»å†³ç­–ç‰¹æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ac81fac7a794815a3cde444f60b8863~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=8mK5i19LXcZWfwKmbOiLHcCLZ8Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæ¶‰åŠå¤šæ¨¡æ€è¾“å…¥ã€å¤§æ¨¡å‹æ¨ç†ã€å·¥å…·è°ƒç”¨å’ŒçŠ¶æ€åé¦ˆç­‰å¤šå±‚äº¤äº’ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§éçº¿æ€§å·¥ä½œæµã€‚å½“è¿™ç§å·¥ä½œæµè¢«æŠ•å…¥çœŸå®ä¸šåŠ¡åœºæ™¯åï¼Œä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„ä¸ç¡®å®šæ€§ï¼Œéƒ½ä¼šè¢«åç»­æ­¥éª¤ä¸æ–­æ”¾å¤§ï¼Œæœ€ç»ˆå½±å“æ•´ä½“ç»“æœã€‚</p>
<p>å› æ­¤ï¼ŒAI çš„éç¡®å®šæ€§ï¼Œæˆ–è€…è¯´æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œå‚¬ç”Ÿäº†è¯„ä¼°ç»æµã€‚</p>
<p>è¯„ä¼°å¼€å§‹ä»é˜¶æ®µæ€§å·¥ä½œï¼Œæ¼”è¿›ä¸ºä¸€ç§æŒç»­å­˜åœ¨çš„å·¥ç¨‹å®è·µã€‚è¯„ä¼°ä¸å†å‘ç”Ÿåœ¨ç³»ç»Ÿä¸Šçº¿ä¹‹åï¼Œè€Œæ˜¯ä¸å¼€å‘è¿‡ç¨‹å¹¶è¡Œå±•å¼€ã€‚è¿™èƒŒåé€æ¸å½¢æˆäº†ä¸€ç§æ–°çš„æ²»ç†èŒƒå¼ï¼šç”±å¯è§‚æµ‹æ€§ï¼ˆåŒ…å«æ•°æ®é‡‡é›†ï¼‰ã€åº¦é‡æ¡†æ¶ï¼ˆBenchmarkï¼‰ä»¥åŠè‡ªåŠ¨åŒ–è¯„ä¼°å…±åŒæ„æˆçš„ Agent æ²»ç†ä½“ç³»ã€‚åœ¨è¿™ä¸ªä½“ç³»ä¸­ï¼Œé«˜è´¨é‡ã€å¯å…³è”çš„æ•°æ®ï¼Œæ˜¯ä¸€åˆ‡è¯„ä¼°ä¸æ”¹è¿›çš„å‰æã€‚</p>
<h3 data-id="heading-3">æˆæœ¬å¯æ§</h3>
<p>å½“ Agent ä¸æ¨¡å‹è¿›è¡Œå¤šè½®äº¤äº’æ—¶ï¼ŒToken æ¶ˆè€—å¾€å¾€å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚åœ¨æŸäº›å¤æ‚åœºæ™¯ä¸‹ï¼Œç³»ç»Ÿç”šè‡³å¯èƒ½é™·å…¥æ— æ­¢å¢ƒçš„æ¨ç†å¾ªç¯ï¼Œå½¢æˆå…¸å‹çš„â€œToken é»‘æ´â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e95eb1c37d3460c8f45c8a78ac0e6c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=k9wRo5JfGOyShTaRHZIggW5zzd4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœç¼ºä¹é“¾è·¯çº§çš„å¯è§‚æµ‹èƒ½åŠ›ï¼Œå¼€å‘è€…æ—¢æ— æ³•åˆ¤æ–­æ¶ˆè€—å‘ç”Ÿåœ¨å“ªä¸€ç¯ï¼Œä¹Ÿæ— æ³•è¯„ä¼°ä¼˜åŒ–çš„çœŸå®æ”¶ç›Šã€‚ç³»ç»Ÿçš„æˆæœ¬æ§åˆ¶ï¼Œæœ€ç»ˆåªèƒ½ä¾èµ–ç»éªŒä¸çŒœæµ‹ã€‚è€Œä¸€æ—¦å…·å¤‡ç«¯åˆ°ç«¯çš„è§‚æµ‹èƒ½åŠ›ï¼Œå†³ç­–å°±æœ‰äº†ä¾æ®ï¼šå“ªäº›æ­¥éª¤å€¼å¾—ä¿ç•™ï¼Œå“ªäº›æ¨ç†å¯ä»¥è£å‰ªï¼Œå“ªäº›å·¥å…·è°ƒç”¨æ­£åœ¨åˆ¶é€ ä¸å¿…è¦çš„æ¶ˆè€—ã€‚</p>
<p>è€Œç»Ÿä¸€çš„æ•°æ®é‡‡é›†æ˜¯å»ºç«‹ç«¯åˆ°ç«¯çš„è§‚æµ‹èƒ½åŠ›çš„å‰æã€‚</p>
<p>æ­£æ˜¯åœ¨è¿™æ ·çš„æŠ€æœ¯èƒŒæ™¯ä¸‹ï¼Œé˜¿é‡Œäº‘é€‰æ‹©å¼€æº LoongSuite æ•°æ®é‡‡é›†å¼€å‘å¥—ä»¶ï¼Œå¸Œæœ›åœ¨é¡ºåº” AI å·¥ç¨‹æ¼”è¿›è¶‹åŠ¿çš„åŒæ—¶ï¼Œå¸®åŠ©æ›´å¤šä¼ä¸šä»¥æ›´ä½çš„æˆæœ¬ã€æ›´é«˜çš„æ•ˆç‡ï¼Œæ„å»ºæ ‡å‡†åŒ–ã€å¯æŒç»­æ¼”è¿›çš„å¯è§‚æµ‹ä½“ç³»ã€‚</p>
<h2 data-id="heading-4">LoongSuite çš„æ„æˆ</h2>
<p>ä½œä¸ºä¸€æ¬¾å¼€æºçš„æ•°æ®é‡‡é›†å¼€å‘å¥—ä»¶ï¼ŒLoongSuiteï¼ˆ/lÊŠÅ‹ swiËt/ï¼ŒéŸ³è¯‘ é¾™-sweetï¼‰ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Floongcollector" target="_blank" title="https://github.com/alibaba/loongcollector" ref="nofollow noopener noreferrer">github.com/alibaba/looâ€¦</a></p>
<p>LoongSuite åŒ…å«ä¸»æœºæ¢é’ˆã€è¿›ç¨‹çº§æ¢é’ˆå’Œæ•°æ®é‡‡é›†å¼•æ“ä¸‰éƒ¨åˆ†ï¼Œå…¶ä¸­ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f67284b68bc42c1bb1672b9e362dba2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=bcMGVEHhI00c%2B%2B10tuxhdMofqpw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ul>
<li><strong>LoongCollector</strong></li>
</ul>
<p>æ˜¯ä¸»æœºæ¢é’ˆï¼ŒåŸºäº eBPF æä¾›æ—¥å¿—æ”¶é›†ã€Prometheus æŒ‡æ ‡æ”¶é›†ä»¥åŠç½‘ç»œå’Œå®‰å…¨æ”¶é›†åŠŸèƒ½ã€‚å®ç°äº†é«˜æ•ˆçµæ´»çš„æ•°æ®å¤„ç†ï¼Œä»¥åŠé€šè¿‡ eBPF ç­‰æŠ€æœ¯å®ç°äº†è¿›ç¨‹å¤–æ•°æ®çš„é‡‡é›†èƒ½åŠ›ã€‚åŒæ—¶ï¼Œå…¶ä½œä¸ºæ•°æ®é‡‡é›†å¼•æ“ï¼Œå®ç°äº†ä¸»æœºçº§æ¢é’ˆä¸è¿›ç¨‹çº§æ’æ¡©çš„æœ‰æ•ˆç»“åˆã€‚</p>
<ul>
<li><strong>LoongSuite å¤šè¯­è¨€ Agent</strong></li>
</ul>
<p>æ˜¯è¿›ç¨‹çº§æ¢é’ˆï¼Œå®ç°äº†åº”ç”¨å†…ç»†ç²’åº¦å¯è§‚æµ‹æ•°æ®çš„é‡‡é›†ï¼Œç›®å‰æä¾›äº†Â Javaã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247581261%26idx%3D1%26sn%3D428d24059141cab34cb3705cb54da2e7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247581261&amp;idx=1&amp;sn=428d24059141cab34cb3705cb54da2e7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Goï¼ˆç¼–è¯‘æ—¶æ’æ¡©ï¼‰</a>ã€Python ç­‰ä¸»æµç¼–ç¨‹è¯­è¨€ Agentï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ•è·è¿›ç¨‹ä¸­çš„å‡½æ•°è°ƒç”¨é“¾è·¯ã€å‚æ•°ä¼ é€’è·¯å¾„åŠèµ„æºæ¶ˆè€—ï¼Œæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç å³å¯å®ç°è¿è¡Œæ—¶çŠ¶æ€çš„ç²¾å‡†é‡‡é›†ã€‚</p>
<p>è¿™ç§æ— ä¾µå…¥å¼è®¾è®¡ç‰¹åˆ«é€‚ç”¨äºåŠ¨æ€æ›´æ–°é¢‘ç¹çš„æŠ€æœ¯ç¯å¢ƒï¼Œæ—¢ä¿éšœè§‚æµ‹æ•°æ®çš„å®Œæ•´æ€§ï¼Œåˆé¿å…å¯¹æ ¸å¿ƒä¸šåŠ¡é€»è¾‘äº§ç”Ÿå¹²æ‰°ã€‚å½“é¢å¯¹å¤æ‚å·¥ä½œæµæ—¶ï¼Œç³»ç»Ÿå¯è‡ªåŠ¨å…³è”åˆ†å¸ƒå¼è¿½è¸ªä¸Šä¸‹æ–‡ï¼Œæ„å»ºå®Œæ•´çš„æ‰§è¡Œè·¯å¾„æ‹“æ‰‘ã€‚</p>
<ul>
<li><strong>æ ¸å¿ƒæ•°æ®é‡‡é›†å¼•æ“</strong></li>
</ul>
<p>LoongCollector é™¤äº†ä¸»æœºæ¢é’ˆçš„èƒ½åŠ›ï¼Œä½œä¸ºæ ¸å¿ƒæ•°æ®é‡‡é›†å¼•æ“ï¼Œè¿˜å®ç°äº†å¤šç»´åº¦è§‚æµ‹æ•°æ®çš„ç»Ÿä¸€å¤„ç†ï¼Œä»åŸå§‹æ•°æ®é‡‡é›†åˆ°ç»“æ„åŒ–è½¬æ¢ï¼Œå†åˆ°æ™ºèƒ½è·¯ç”±åˆ†å‘ï¼Œæ•´ä¸ªæµç¨‹é€šè¿‡æ¨¡å—åŒ–æ¶æ„å®ç°çµæ´»ç¼–æ’ã€‚è¿™ç§æ¶æ„ä½¿è§‚æµ‹æ•°æ®æ—¢å¯å¯¹æ¥å¼€æºåˆ†æå¹³å°å®ç°è‡ªä¸»æ²»ç†ï¼Œä¹Ÿå¯æ— ç¼è¡”æ¥æ‰˜ç®¡æœåŠ¡æ„å»ºäº‘åŸç”Ÿè§‚æµ‹ä½“ç³»ã€‚</p>
<h2 data-id="heading-5">LoongSuite æœ‰å“ªäº›ç‰¹ç‚¹</h2>
<p>ä»å·¥ç¨‹å®ç°è§’åº¦çœ‹ï¼ŒLoongSuite çš„è®¾è®¡ç›®æ ‡éå¸¸æ˜ç¡®ï¼šåœ¨ä¸å¹²æ‰°ä¸šåŠ¡çš„å‰æä¸‹ï¼ŒæŠŠè¯¥é‡‡çš„éƒ½é‡‡åˆ°ï¼ŒæŠŠä¸è¯¥ä»˜å‡ºçš„æˆæœ¬é™åˆ°æœ€ä½ã€‚</p>
<ul>
<li><strong>é›¶ä¾µå…¥é‡‡é›†ï¼š</strong> é€šè¿‡è¿›ç¨‹çº§æ’æ¡©ä¸ä¸»æœºçº§æ¢é’ˆç»“åˆï¼Œæ— éœ€ä¿®æ”¹ä»£ç å³å¯æ•è·å…¨é“¾è·¯æ•°æ®ã€‚</li>
<li><strong>å…¨æ ˆæ”¯æŒï¼š</strong> è¦†ç›– Javaã€Goã€Python ç­‰ä¸»æµè¯­è¨€ï¼Œé€‚é…å½“å‰ç»å¤§å¤šæ•° AI åº”ç”¨å½¢æ€ã€‚</li>
<li><strong>ç”Ÿæ€å…¼å®¹ï¼š</strong> LoongSuite å¯ä»¥çœ‹åšæ˜¯ OpenTelemetry çš„ä¸€ä¸ªå‘è¡Œç‰ˆ <strong>[</strong> <strong>1]</strong> ï¼Œæ·±åº¦å…¼å®¹ OTï¼Œéµå¾ªç¤¾åŒº GenAI è¯­ä¹‰è§„èŒƒï¼Œå¹¶åŸºäºä¸Šæ¸¸è¿›è¡ŒåŒæ­¥ï¼›æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨ AI åœºæ™¯ä¸‹åšåˆ›æ–°åŠŸèƒ½çš„å­µåŒ–å™¨ï¼Œä¼šæŒç»­æŠŠæ–°ç‰¹æ€§è´¡çŒ®ç»™ OTel ç¤¾åŒºã€‚ä¾‹å¦‚åƒ Go æ¢é’ˆï¼Œæˆ‘ä»¬å·²ç»æçŒ®ç»™ç¤¾åŒºäº†ã€‚</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šï¼ŒLoongSuite å†…çš„ LoongCollector è¿›ä¸€æ­¥æä¾›äº†ä¸‰é¡¹å…³é”®èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-6">å¤šç»´åº¦æ•°æ®çš„ç»Ÿä¸€é‡‡é›†èƒ½åŠ›</h3>
<p>åœ¨ Agent åœºæ™¯ä¸­ï¼Œå•ä¸€è§†è§’å·²ç»æ— æ³•è§£é‡Šç³»ç»Ÿè¡Œä¸ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/135238ed5d1c498b9e01b984908ab7fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=gmjKX6EwKjl%2BgQeGJ2gpKpvzt%2F4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„ç”¨æˆ·è¯·æ±‚ï¼ŒèƒŒåå¾€å¾€åŒæ—¶æ¶‰åŠæ¨¡å‹æ¨ç†ã€å·¥å…·è°ƒç”¨ã€ä¸Šä¸‹æ–‡æ£€ç´¢å’ŒçŠ¶æ€æ›´æ–°ç­‰å¤šä¸ªæ­¥éª¤ã€‚æ—¥å¿—åªèƒ½å›ç­”â€œå‘ç”Ÿäº†ä»€ä¹ˆâ€ï¼ŒæŒ‡æ ‡åªèƒ½åæ˜ â€œæ•´ä½“æ˜¯å¦å¼‚å¸¸â€ï¼Œè€Œ Trace åªèƒ½å±•ç¤ºâ€œè°ƒç”¨é¡ºåºâ€ã€‚å¦‚æœè¿™äº›ä¿¡å·å½¼æ­¤å‰²è£‚ï¼Œå·¥ç¨‹å¸ˆé¢å¯¹çš„æ°¸è¿œæ˜¯ç‰‡æ®µåŒ–çš„äº‹å®ï¼Œæ—¢æ— æ³•åˆ¤æ–­é—®é¢˜çš„æ ¹å› ï¼Œä¹Ÿéš¾ä»¥è¯„ä¼°ä¸€æ¬¡ä¼˜åŒ–æ˜¯å¦çœŸæ­£ç”Ÿæ•ˆã€‚</p>
<p>LoongCollector å°† Logsã€Metricsã€Tracesã€Eventsã€Profiles ç»Ÿä¸€çº³å…¥åŒä¸€é‡‡é›†ä¸å…³è”ä½“ç³»ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨è¿˜åŸ Agent çš„çœŸå®æ‰§è¡Œè¿‡ç¨‹ï¼Œè®©é—®é¢˜ä¸å†åœç•™åœ¨â€œæ„Ÿè§‰ä¸å¯¹â€ï¼Œè€Œæ˜¯å¯ä»¥è¢«å®Œæ•´æè¿°ã€å¤ç°å’Œåˆ†æã€‚LoongCollector é‡‡ç”¨ All-in-One æ¶æ„ï¼Œæ”¯æŒåŒ…æ‹¬ Logsã€Metricsã€Tracesã€Eventsã€Profiles çš„å…¨ç±»å‹æ•°æ®é‡‡é›†ï¼ŒåŒæ—¶é€šè¿‡ eBPF å®ç°è¿›ç¨‹å¤–é‡‡é›†ï¼Œé™ä½ä¸šåŠ¡å¹²æ‰°ã€‚</p>
<h3 data-id="heading-7">æè‡´çš„æ€§èƒ½ä¸ç¨³å®šæ€§</h3>
<p>æè‡´çš„æ€§èƒ½ä¸ç¨³å®šæ€§æ˜¯æ•°æ®é‡‡é›†å±‚ä¸å¯å¦¥åçš„å‰æã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2758196664ce4bc19d612c3d2ac11636~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=gjWbwHPbp%2F1nsPRYVYzmulY7w%2FQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é‡‡é›†ç³»ç»Ÿä½äºä¸šåŠ¡ç³»ç»Ÿçš„å…³é”®è·¯å¾„ï¼Œä¸€æ—¦è‡ªèº«å¼•å…¥é¢å¤–æŠ–åŠ¨ï¼Œå½±å“å¾€å¾€ä¼šè¢«è¿…é€Ÿæ”¾å¤§ã€‚å°¤å…¶æ˜¯åœ¨ Agent åº”ç”¨ä¸­ï¼Œå¤šè½®æ¨ç†å’Œé¢‘ç¹çš„å·¥å…·è°ƒç”¨ä¼šå¸¦æ¥çªå‘æ€§çš„æ•°æ®æ´ªå³°ï¼Œå¦‚æœé‡‡é›†ç»„ä»¶åœ¨é«˜å¹¶å‘ä¸‹å‡ºç°é”ç«äº‰ã€é˜»å¡æˆ–æ— åºå †ç§¯ï¼Œå¾ˆå®¹æ˜“å°†åŸæœ¬å¯æ§çš„æ€§èƒ½æ³¢åŠ¨å‡çº§ä¸ºå…¨é“¾è·¯é—®é¢˜ã€‚</p>
<p>LoongCollector é€šè¿‡æ—¶é—´ç‰‡è°ƒåº¦ã€æ— é”åŒ–è®¾è®¡ã€é«˜ä½æ°´ä½åé¦ˆé˜Ÿåˆ—ä¸æŒä¹…åŒ–ç¼“å­˜ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å®ç°ä½èµ„æºæ¶ˆè€—ä¸é«˜ååï¼Œç¡®ä¿æ•°æ®ä¸ä¸¢å¤±ã€ç³»ç»Ÿä¸æŠ–åŠ¨ï¼Œä¿éšœä¸šåŠ¡ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-8">çµæ´»éƒ¨ç½²ä¸æ™ºèƒ½è·¯ç”±</h3>
<p>çµæ´»éƒ¨ç½²ä¸æ™ºèƒ½è·¯ç”±èƒ½åŠ›ï¼Œå†³å®šäº†è¿™å¥—é‡‡é›†ä½“ç³»èƒ½å¦é€‚åº”æŒç»­æ¼”è¿›çš„ AI å·¥ç¨‹å®è·µã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c65f034c5b14aa9b15c08df9347b321~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=amcPBU2VQyHBdj64ebrFJkMZSRQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯è§‚æµ‹ç³»ç»Ÿå¹¶éä¸€æ¬¡æ€§å»ºè®¾å®Œæˆï¼Œéšç€æ¨¡å‹ã€æ¡†æ¶å’Œä¸šåŠ¡å½¢æ€çš„å˜åŒ–ï¼Œæ•°æ®çš„ä»·å€¼å¯†åº¦å’Œä½¿ç”¨æ–¹å¼éƒ½ä¼šä¸æ–­è°ƒæ•´ã€‚å¦‚æœé‡‡é›†å±‚ä¸ä¸‹æ¸¸å­˜å‚¨ã€åˆ†æç³»ç»Ÿå¼ºè€¦åˆï¼Œæ¯ä¸€æ¬¡è°ƒæ•´éƒ½æ„å‘³ç€é‡æ„å’Œé£é™©ç´¯ç§¯ã€‚</p>
<p>LoongCollector é€šè¿‡æ¨¡å—åŒ–æ¶æ„ï¼Œå°†é‡‡é›†ã€å¤„ç†ä¸åˆ†å‘è§£è€¦ï¼Œä½¿ä¸åŒæ¥æºã€ä¸åŒè¯­ä¹‰çš„æ•°æ®å¯ä»¥åœ¨é‡‡é›†å±‚å®Œæˆç»“æ„åŒ–è½¬æ¢ï¼Œå¹¶æ ¹æ®ç­–ç•¥è¢«è·¯ç”±è‡³ä¸åŒçš„ä¸‹æ¸¸ç³»ç»Ÿã€‚è¿™ç§è®¾è®¡è®©å·¥ç¨‹å›¢é˜Ÿå¯ä»¥åœ¨ä¸ç ´åæ—¢æœ‰ä½“ç³»çš„å‰æä¸‹ï¼Œå¼•å…¥æ–°çš„åˆ†æå¹³å°æˆ–è¯„ä¼°ç³»ç»Ÿï¼Œä»è€Œä¿è¯å¯è§‚æµ‹èƒ½åŠ›èƒ½å¤Ÿä¼´éš Agent åº”ç”¨ä¸€åŒæ¼”è¿›ï¼Œè€Œä¸æ˜¯æˆä¸ºåˆ¶çº¦åˆ›æ–°çš„ç“¶é¢ˆã€‚</p>
<h2 data-id="heading-9">ä¸ºä½•è¦å¼€æº</h2>
<p>åœ¨ AI æ—¶ä»£ï¼Œæ•°æ®é‡‡é›†æ—©å·²ä¸æ˜¯ä¸€ä¸ªâ€œå®ç°é—®é¢˜â€ï¼Œè€Œæ˜¯ä¸€ä¸ªç”Ÿæ€é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/225e3404b3214686ae264732f08bc6b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803730&amp;x-signature=Lla2OLTNyaP7Sq0%2FeqFgY1cs7xM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸€æ–¹é¢ï¼ŒAgent åº”ç”¨çš„å¤æ‚æ€§æ­£åœ¨å¿«é€Ÿå¤–æº¢ã€‚æ— è®ºæ˜¯åŸºäºä½ä»£ç å¹³å°å¿«é€Ÿæ‹¼è£…çš„ Agentï¼Œè¿˜æ˜¯åœ¨é«˜ä»£ç æ¡†æ¶ä¸­ç²¾ç»†æ‰“ç£¨çš„å¤æ‚ç³»ç»Ÿï¼Œå…¶æŠ€æœ¯æ ˆã€è¿è¡Œå½¢æ€å’Œäº¤äº’æ¨¡å¼éƒ½é«˜åº¦å¤šæ ·åŒ–ã€‚å¦‚æœæ•°æ®é‡‡é›†èƒ½åŠ›è¢«å°è£…åœ¨å•ä¸€å‚å•†æˆ–å°é—­ä½“ç³»ä¸­ï¼Œå°±ä¸å¯é¿å…åœ°é¢ä¸´è¦†ç›–ä¸è¶³ã€è¯­ä¹‰å‰²è£‚å’Œé€‚é…æˆæœ¬æŒ‡æ•°çº§ä¸Šå‡çš„é—®é¢˜ã€‚å¯è§‚æµ‹æ€§è¦çœŸæ­£æˆä¸º AI çš„åŸºç¡€è®¾æ–½ï¼Œå‰ææ˜¯å®ƒå¿…é¡»å…ˆæˆä¸ºå…¬å…±èƒ½åŠ›ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼ŒAI å¯è§‚æµ‹æ­£åœ¨å½¢æˆäº‹å®ä¸Šçš„è¡Œä¸šå…±è¯†å’ŒæŠ€æœ¯æ ‡å‡†ã€‚ä» OpenTelemetry åœ¨å¯è§‚æµ‹é¢†åŸŸçš„æˆåŠŸç»éªŒå¯ä»¥çœ‹åˆ°ï¼šåªæœ‰é€šè¿‡å¼€æºï¼Œæ‰èƒ½åœ¨è¯­ä¹‰è§„èŒƒã€æ•°æ®æ¨¡å‹å’Œé‡‡é›†æ–¹å¼ä¸Šå½¢æˆæœ€å¤§å…¬çº¦æ•°ï¼Œé¿å…é‡å¤é€ è½®å­ï¼Œä¹Ÿé¿å…å„è‡ªä¸ºæ”¿ã€‚å°¤å…¶åœ¨ Agent åœºæ™¯ä¸‹ï¼Œå‡½æ•°è°ƒç”¨ã€å·¥å…·ä½¿ç”¨ã€æ¨ç†é“¾è·¯ã€è¯„ä¼°ç»“æœç­‰æ–°å‹ä¿¡å·å±‚å‡ºä¸ç©·ï¼Œä»»ä½•ä¸€å®¶å‚å•†éƒ½ä¸å¯èƒ½ç‹¬ç«‹å®šä¹‰æ ‡å‡†ç­”æ¡ˆã€‚å¼€æºï¼Œæ˜¯å¯¹ä¸ç¡®å®šæ€§æœ€åŠ¡å®çš„å›åº”ã€‚</p>
<p>ä»å·¥ç¨‹è§†è§’çœ‹ï¼Œå¼€æºä¹Ÿæ˜¯å¯¹æ€§èƒ½ä¸æˆæœ¬çš„é•¿æœŸè´Ÿè´£ã€‚æ•°æ®é‡‡é›†ä½äºç³»ç»Ÿæœ€åº•å±‚ï¼Œè¿è¡Œåœ¨ä¸»æœºã€å®¹å™¨å’Œè¿›ç¨‹çš„å…³é”®è·¯å¾„ä¸Šï¼Œä»»ä½•é¢å¤–å¼€é”€éƒ½ä¼šè¢«æˆå€æ”¾å¤§ã€‚é€šè¿‡å¼€æºï¼ŒLoongSuite èƒ½å¤Ÿåœ¨æ›´å¹¿æ³›çš„çœŸå®ç”Ÿäº§ç¯å¢ƒä¸­è¢«éªŒè¯ã€è¢«å®¡è§†ã€è¢«ä¼˜åŒ–ï¼Œè®©æè‡´æ€§èƒ½ä¸å†åªæ˜¯å®éªŒå®¤æŒ‡æ ‡ï¼Œè€Œæ˜¯åœ¨ç¤¾åŒºå…±å»ºä¸­ä¸æ–­é€¼è¿‘çš„å·¥ç¨‹ç°å®ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œé˜¿é‡Œäº‘å¹¶ä¸å¸Œæœ› LoongSuite åªæ˜¯â€œå¦ä¸€ä¸ªé‡‡é›†å™¨â€ã€‚å°†å…¶å¼€æºï¼Œæ„å‘³ç€å®ƒä¸åªæœåŠ¡äºæŸä¸€ä¸ªå¹³å°æˆ–äº§å“ï¼Œè€Œæ˜¯æˆä¸º AI å¯è§‚æµ‹ä½“ç³»ä¸­çš„ä¸€å—é€šç”¨æ‹¼å›¾ï¼šæ—¢å¯ä»¥è¢«é›†æˆè¿›ä¸åŒçš„ Agent æ¡†æ¶ï¼Œä¹Ÿå¯ä»¥ä¸å¤šç§å­˜å‚¨ã€åˆ†æå’Œè¯„ä¼°ç³»ç»Ÿè‡ªç”±ç»„åˆï¼Œæœ€ç»ˆå¸®åŠ©å¼€å‘è€…æ„å»ºçœŸæ­£ç«¯åˆ°ç«¯ã€å¯æ¼”è¿›çš„ Agent æ²»ç†ä½“ç³»ã€‚</p>
<p>å› æ­¤ï¼Œå¼€æºå¹¶éç»ˆç‚¹ï¼Œè€Œæ˜¯ä¸€ç§é€‰æ‹©ï¼šé€‰æ‹©ç”¨å¼€æ”¾æ¢å–æ ‡å‡†ï¼Œç”¨å…±å»ºå¯¹æŠ—å¤æ‚ï¼Œç”¨å·¥ç¨‹ç†æ€§æ¨åŠ¨ AI åº”ç”¨èµ°å‘è§„æ¨¡åŒ–å’Œå¯æŒç»­ã€‚LoongSuite çš„å¼€æºï¼Œæ­£æ˜¯åœ¨è¿™ä¸€åˆ¤æ–­ä¹‹ä¸Šçš„è‡ªç„¶ç»“æœã€‚</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<p>[1]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247575751%26idx%3D1%26sn%3D57f3e143cd4bf8232c0ef1898cb23967%26scene%3D21%26token%3D53749100%26lang%3Dzh_CN%26poc_token%3DHJagaWmjW98y5CGGapVuocFmKziB1Vr-w7Eyx5PK%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247575751&amp;idx=1&amp;sn=57f3e143cd4bf8232c0ef1898cb23967&amp;scene=21&amp;token=53749100&amp;lang=zh_CN&amp;poc_token=HJagaWmjW98y5CGGapVuocFmKziB1Vr-w7Eyx5PK#wechat_redirect" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘æ­£å¼å¼€æº LoongSuiteï¼šæ‰“é€  AI æ—¶ä»£çš„é«˜æ€§èƒ½ä½æˆæœ¬å¯è§‚æµ‹é‡‡é›†å¥—ä»¶</a></p>
<p>[2]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247576188%26idx%3D1%26sn%3Dcf03d84317c10f09ae2080969f4f46ad%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247576188&amp;idx=1&amp;sn=cf03d84317c10f09ae2080969f4f46ad&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">LoongCollectorï¼šæ„å»ºæ™ºèƒ½æ—¶ä»£çš„æ•°æ®é‡‡é›†æ–°èŒƒå¼</a></p>
<p>[3]Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fopentelemetry.io%2Fdocs%2Fconcepts%2Fdistributions%2F" target="_blank" title="https://opentelemetry.io/docs/concepts/distributions/" ref="nofollow noopener noreferrer">opentelemetry.io/docs/concepâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-æ·±åº¦è§£è¯»ä»£ç†æŠ€æœ¯ï¼šObject.defineProperty ä¸ Proxy]]></title>    <link>https://juejin.cn/post/7602447286607331337</link>    <guid>https://juejin.cn/post/7602447286607331337</guid>    <pubDate>2026-02-03T09:06:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602447286607331337" data-draft-id="7602440800295075886" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-æ·±åº¦è§£è¯»ä»£ç†æŠ€æœ¯ï¼šObject.defineProperty ä¸ Proxy"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,JavaScript"/> <meta itemprop="datePublished" content="2026-02-03T09:06:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-æ·±åº¦è§£è¯»ä»£ç†æŠ€æœ¯ï¼šObject.defineProperty ä¸ Proxy
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T09:06:28.000Z" title="Tue Feb 03 2026 09:06:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ Vue çš„è¿›åŒ–å²ä¸­ï¼Œä» Vue 2 åˆ° Vue 3 çš„è·¨è¶Šï¼Œæœ€æ ¸å¿ƒçš„å˜é©è«ä¹‹è¿‡äºå“åº”å¼ç³»ç»Ÿçš„é‡æ„ã€‚è€Œè¿™åœºé‡æ„çš„ä¸»è§’ï¼Œæ­£æ˜¯ <code>Object.defineProperty</code> ä¸ <code>Proxy</code>ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»åº•å±‚æè¿°ç¬¦åˆ° <code>Reflect</code> é™·é˜±ï¼Œæ·±åº¦æ‹†è§£è¿™ä¸¤å¤§å¯¹è±¡ä»£ç†æŠ€æœ¯ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ ES5 æ—¶ä»£çš„åŠŸè‡£ï¼šObject.defineProperty</h2>
<p><code>Object.defineProperty</code> ç”¨äºåœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰æˆ–ä¿®æ”¹å±æ€§ã€‚Vue 2 çš„å“åº”å¼åŸºç¡€æ­£æ˜¯å»ºç«‹åœ¨å…¶â€œå­˜å–æè¿°ç¬¦â€ä¹‹ä¸Šçš„ã€‚</p>
<h3 data-id="heading-2">1. åŸºç¡€è¯­æ³•</h3>
<p><strong><code>Object.defineProperty(obj, prop, descriptor);</code></strong></p>
<ul>
<li><code>obj</code>ï¼šç›®æ ‡å¯¹è±¡</li>
<li><code>prop</code>ï¼šè¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§åï¼ˆå­—ç¬¦ä¸²æˆ– Symbolï¼‰</li>
<li><code>descriptor</code>ï¼šå±æ€§æè¿°ç¬¦ï¼Œæ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼ˆåŒ…å«æ•°æ®æè¿°ç¬¦ä¸å­˜å–æè¿°ç¬¦ï¼‰</li>
</ul>
<h3 data-id="heading-3">2. descriptoræè¿°ç¬¦åˆ†ç±»</h3>
<p>å®ƒå¯åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»ä¸ºæ•°æ®æè¿°ç¬¦ã€ä¸€ç±»ä¸ºå­˜å–æè¿°ç¬¦</p>
<p>å±æ€§æè¿°ç¬¦ä¸èƒ½åŒæ—¶åŒ…å« <code>value/writable</code>ï¼ˆæ•°æ®æè¿°ç¬¦ï¼‰å’Œ <code>get/set</code>ï¼ˆå­˜å–æè¿°ç¬¦ï¼‰ã€‚</p>
<ul>
<li>
<p><strong>æ•°æ®æè¿°ç¬¦</strong>ï¼š</p>



































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>value</code></td><td>any</td><td><code>undefined</code></td><td>å±æ€§çš„å€¼</td></tr><tr><td><code>writable</code></td><td>boolean</td><td><code>false</code></td><td>æ˜¯å¦å¯å†™ï¼ˆèƒ½å¦è¢«é‡æ–°èµ‹å€¼ï¼‰</td></tr><tr><td><code>enumerable</code></td><td>boolean</td><td><code>false</code></td><td>æ˜¯å¦å¯æšä¸¾ï¼ˆèƒ½å¦åœ¨ <code>for...in</code> æˆ– <code>Object.keys</code> ä¸­å‡ºç°ï¼‰</td></tr><tr><td><code>configurable</code></td><td>boolean</td><td><code>false</code></td><td>æ˜¯å¦å¯é…ç½®ï¼ˆèƒ½å¦è¢«åˆ é™¤æˆ–ä¿®æ”¹æè¿°ç¬¦ï¼‰</td></tr></tbody></table>
</li>
<li>
<p><strong>å­˜å–æè¿°ç¬¦ï¼š</strong></p>




















<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>get</code></td><td>function</td><td>è¯»å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°</td></tr><tr><td><code>set</code></td><td>function</td><td>è®¾ç½®å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°</td></tr></tbody></table>
</li>
</ul>
<blockquote>
<p>æ³¨æ„â—ï¼šä¸€ä¸ªæè¿°ç¬¦<strong>ä¸èƒ½åŒæ—¶åŒ…å«</strong> <code>value/writable</code> å’Œ <code>get/set</code>ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
</blockquote>
<h3 data-id="heading-4">3. å±€é™æ€§åˆ†æï¼ˆVue 2 çš„ç—›ç‚¹ï¼‰</h3>
<ul>
<li>
<p><strong>æ— æ³•ç›‘å¬æ–°å¢/åˆ é™¤</strong>ï¼šå¿…é¡»é¢„å…ˆå®šä¹‰å¥½å±æ€§ï¼ŒåŠ¨æ€æ·»åŠ çš„å±æ€§ï¼ˆ<code>data.b = 2</code>ï¼‰æ— æ³•å“åº”ã€‚</p>
</li>
<li>
<p><strong>æ•°ç»„æ”¯æŒå·®</strong>ï¼šæ— æ³•æ‹¦æˆªç´¢å¼•ä¿®æ”¹ï¼ˆ<code>arr[0] = x</code>ï¼‰åŠ <code>length</code> å˜æ›´ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½å¼€é”€</strong>ï¼šå¿…é¡»é€šè¿‡é€’å½’éå†å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¿›è¡Œæ‹¦æˆªã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">4. ä½¿ç”¨ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å°è£…ä¸€ä¸ªåŠ«æŒå¯¹è±¡æ‰€æœ‰å±æ€§çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">observe</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-comment">// éå†å¯¹è±¡çš„è‡ªæœ‰å±æ€§</span>
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">prop</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> value = obj[prop]; <span class="hljs-comment">// å­˜å‚¨åŸå§‹å€¼</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, prop, {
      <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯»å– <span class="hljs-subst">${prop}</span> å±æ€§ï¼š<span class="hljs-subst">${value}</span>`</span>);
        <span class="hljs-keyword">return</span> value;
      },
      <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç»™ <span class="hljs-subst">${prop}</span> èµ‹å€¼ï¼š<span class="hljs-subst">${newValue}</span>`</span>);
        value = newValue;
      },
    });
  });
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> person = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">"ç”·"</span> };
<span class="hljs-title function_">observe</span>(person);

person.<span class="hljs-property">name</span> = <span class="hljs-string">"æå››"</span>; <span class="hljs-comment">// è¾“å‡ºï¼šç»™ name èµ‹å€¼ï¼šæå››</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-property">gender</span>); <span class="hljs-comment">// è¾“å‡ºï¼šè¯»å– gender å±æ€§ï¼šç”· â†’ ç”·</span>
</code></pre>
<hr/>
<h2 data-id="heading-6">äºŒã€ ES6 æ—¶ä»£çš„å·…å³°ï¼šProxy</h2>
<p><code>Proxy</code> æ˜¯ES6å¼•å…¥çš„ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œä»è€Œæ‹¦æˆªå¹¶è‡ªå®šä¹‰è¿™ä¸ªå¯¹è±¡çš„åŸºæœ¬æ“ä½œï¼ˆæ¯”å¦‚å±æ€§è¯»å–ã€èµ‹å€¼ã€åˆ é™¤ã€éå†ç­‰ï¼‰ã€‚å®ƒæ˜¯ Vue 3 å®ç°é«˜æ•ˆå“åº”å¼çš„åŸºçŸ³ã€‚</p>
<h3 data-id="heading-7">1. åŸºæœ¬è¯­æ³•</h3>
<ul>
<li>
<p>è¯­æ³•ï¼š<code>const proxy = new Proxy(target, handler);</code></p>
<ul>
<li>
<p><code>target</code>ï¼šè¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼ˆå¯ä»¥æ˜¯æ™®é€šå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ï¼Œç”šè‡³æ˜¯å¦ä¸€ä¸ª Proxyï¼‰ã€‚</p>
</li>
<li>
<p><code>handler</code>ï¼šä¸€ä¸ªé…ç½®å¯¹è±¡ï¼ŒåŒ…å«å¤šä¸ªé™·é˜±å‡½æ•°ï¼ˆtrapsï¼‰ï¼Œæ¯ä¸ªé™·é˜±å‡½æ•°å¯¹åº”ä¸€ç§å¯¹ç›®æ ‡å¯¹è±¡çš„æ“ä½œï¼ˆæ¯”å¦‚è¯»å–å±æ€§å¯¹åº”<code>get</code>é™·é˜±ï¼Œèµ‹å€¼å¯¹åº”<code>set</code>é™·é˜±ï¼‰</p>
</li>
<li>
<p><code>proxy</code>ï¼šè¿”å›çš„ä»£ç†å¯¹è±¡ï¼Œåç»­æ“ä½œéƒ½é€šè¿‡è¿™ä¸ªä»£ç†å¯¹è±¡è¿›è¡Œï¼Œè€Œéç›´æ¥æ“ä½œåŸå¯¹è±¡ã€‚</p>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-8">1. å¸¸è§é™·é˜±å‡½æ•° (Traps)</h3>
<p><code>Proxy</code> çš„å¼ºå¤§åœ¨äºå®ƒèƒ½æ‹¦æˆªå¤šç§åº•å±‚æ“ä½œã€‚</p>













































<table><thead><tr><th>Trap</th><th>è§¦å‘æ—¶æœº</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>get(target, prop, receiver)</code></td><td>è¯»å–å±æ€§æ—¶</td><td><code>obj.foo</code></td></tr><tr><td><code>set(target, prop, value, receiver)</code></td><td>è®¾ç½®å±æ€§æ—¶</td><td><code>obj.foo = 'bar'</code></td></tr><tr><td><code>has(target, prop)</code></td><td>ä½¿ç”¨<code>in</code> æ“ä½œç¬¦æ—¶</td><td><code>'foo' in obj</code></td></tr><tr><td><code>deleteProperty(target, prop)</code></td><td>åˆ é™¤å±æ€§æ—¶</td><td><code>delete obj.foo</code></td></tr><tr><td><code>ownKeys(target)</code></td><td>è·å–è‡ªèº«å±æ€§åæ—¶</td><td><code>Object.keys(obj)</code></td></tr><tr><td><code>apply(target, thisArg, args)</code></td><td>è°ƒç”¨å‡½æ•°æ—¶ï¼ˆä»…å½“ target æ˜¯å‡½æ•°ï¼‰</td><td><code>fn()</code></td></tr><tr><td><code>construct(target, args)</code></td><td>ä½¿ç”¨newæ“ä½œç¬¦æ—¶</td><td><code>new Obejct()</code></td></tr></tbody></table>
<h3 data-id="heading-9">2. ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript">    <span class="hljs-comment">// 1. å®šä¹‰åŸå§‹ç”¨æˆ·å¯¹è±¡</span>
    <span class="hljs-keyword">const</span> user = {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
      <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,
    };

    <span class="hljs-comment">// 2. åˆ›å»º Proxy ä»£ç†å¯¹è±¡</span>
    <span class="hljs-keyword">const</span> userProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(user, {
      <span class="hljs-comment">// æ‹¦æˆªå±æ€§è¯»å–æ“ä½œï¼ˆæ¯”å¦‚ userProxy.nameï¼‰</span>
      <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è¯»å–å±æ€§<span class="hljs-subst">${prop}</span>`</span>);
        <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šå±æ€§ä¸å­˜åœ¨æ—¶è¿”å›é»˜è®¤æç¤º</span>
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(target, prop)) {
          <span class="hljs-keyword">return</span> <span class="hljs-string">`å±æ€§<span class="hljs-subst">${prop}</span>ä¸å­˜åœ¨`</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver); <span class="hljs-comment">// ç”¨ Reflect ä¿è¯ this æŒ‡å‘æ­£ç¡®</span>
      },

      <span class="hljs-comment">// æ‹¦æˆªå±æ€§èµ‹å€¼æ“ä½œï¼ˆæ¯”å¦‚ userProxy.age = 25ï¼‰</span>
      <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value, receiver</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç»™å±æ€§<span class="hljs-subst">${prop}</span>èµ‹å€¼ï¼š<span class="hljs-subst">${value}</span>`</span>);
        <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šå±æ€§åˆæ³•æ€§æ ¡éªŒ</span>
        <span class="hljs-keyword">switch</span> (prop) {
          <span class="hljs-keyword">case</span> <span class="hljs-string">'age'</span>:
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">'number'</span> || value &lt;= <span class="hljs-number">0</span>) {
              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">' å¹´é¾„å¿…é¡»æ˜¯å¤§äº0çš„æ•°å­—ï¼'</span>);
              <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// è¿”å› false è¡¨ç¤ºèµ‹å€¼å¤±è´¥</span>
            }
            <span class="hljs-keyword">break</span>;
          <span class="hljs-keyword">case</span> <span class="hljs-string">'name'</span>:
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">'string'</span> || value.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">''</span>) {
              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">' å§“åä¸èƒ½ä¸ºç©ºå­—ç¬¦ä¸²ï¼'</span>);
              <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, prop, value, receiver); <span class="hljs-comment">// åˆæ³•åˆ™æ‰§è¡Œèµ‹å€¼ï¼Œè¿”å› true è¡¨ç¤ºæˆåŠŸ</span>
      },
    });

    <span class="hljs-comment">// 3. æµ‹è¯•ä»£ç†åŠŸèƒ½</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'===== æµ‹è¯•å±æ€§è¯»å– ====='</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userProxy.<span class="hljs-property">name</span>); <span class="hljs-comment">// è¯»å–å­˜åœ¨çš„å±æ€§</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userProxy.<span class="hljs-property">age</span>); <span class="hljs-comment">// è¯»å–å­˜åœ¨çš„å±æ€§</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(userProxy.<span class="hljs-property">gender</span>); <span class="hljs-comment">// è¯»å–ä¸å­˜åœ¨çš„å±æ€§</span>

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n===== æµ‹è¯•åˆæ³•èµ‹å€¼ ====='</span>);
    userProxy.<span class="hljs-property">age</span> = <span class="hljs-number">25</span>; <span class="hljs-comment">// åˆæ³•çš„å¹´é¾„èµ‹å€¼</span>
    userProxy.<span class="hljs-property">name</span> = <span class="hljs-string">'æå››'</span>; <span class="hljs-comment">// åˆæ³•çš„å§“åèµ‹å€¼</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'èµ‹å€¼å nameï¼š'</span>, userProxy.<span class="hljs-property">name</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'èµ‹å€¼å ageï¼š'</span>, userProxy.<span class="hljs-property">age</span>);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n===== æµ‹è¯•éæ³•èµ‹å€¼ ====='</span>);
    userProxy.<span class="hljs-property">age</span> = -<span class="hljs-number">5</span>; <span class="hljs-comment">// éæ³•çš„å¹´é¾„ï¼ˆè´Ÿæ•°ï¼‰</span>
    userProxy.<span class="hljs-property">name</span> = <span class="hljs-string">''</span>; <span class="hljs-comment">// éæ³•çš„å§“åï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'éæ³•èµ‹å€¼å ageï¼š'</span>, userProxy.<span class="hljs-property">age</span>); <span class="hljs-comment">// å¹´é¾„ä»ä¸º 25</span>
   
<span class="hljs-comment">// æ‰“å°ç»“æœï¼š  </span>
===== æµ‹è¯•å±æ€§è¯»å– =====
 è¯»å–å±æ€§name
 å¼ ä¸‰
 è¯»å–å±æ€§age
 <span class="hljs-number">20</span>
 è¯»å–å±æ€§gender
 å±æ€§genderä¸å­˜åœ¨
===== æµ‹è¯•åˆæ³•èµ‹å€¼ =====
 ç»™å±æ€§ageèµ‹å€¼ï¼š<span class="hljs-number">25</span>
 ç»™å±æ€§nameèµ‹å€¼ï¼šæå››
 è¯»å–å±æ€§name
 èµ‹å€¼å nameï¼š æå››
 è¯»å–å±æ€§age
 èµ‹å€¼å ageï¼š <span class="hljs-number">25</span>
 <span class="hljs-number">114</span> 
===== æµ‹è¯•éæ³•èµ‹å€¼ =====
 ç»™å±æ€§ageèµ‹å€¼ï¼š-<span class="hljs-number">5</span>
 å¹´é¾„å¿…é¡»æ˜¯å¤§äº<span class="hljs-number">0</span>çš„æ•°å­—ï¼
 ç»™å±æ€§nameèµ‹å€¼ï¼š
 å§“åä¸èƒ½ä¸ºç©ºå­—ç¬¦ä¸²ï¼
 è¯»å–å±æ€§age
 éæ³•èµ‹å€¼å ageï¼š <span class="hljs-number">25</span>


</code></pre>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€ Reflectï¼šProxy çš„æœ€ä½³æ‹æ¡£</h2>
<p><code>Reflect</code> æ˜¯ ES6 å¼•å…¥çš„å†…ç½®å…¨å±€å¯¹è±¡ï¼Œä¸èƒ½é€šè¿‡ new å®ä¾‹åŒ–ï¼ˆä¸æ˜¯æ„é€ å‡½æ•°ï¼‰ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯æŠŠåŸæœ¬å±äº Object å¯¹è±¡çš„åº•å±‚æ“ä½œï¼ˆæ¯”å¦‚å±æ€§èµ‹å€¼ã€åˆ é™¤ï¼‰æç‚¼æˆç‹¬ç«‹çš„å‡½æ•°æ–¹æ³•ï¼ŒåŒæ—¶èƒ½ä¿è¯æ“ä½œçš„ â€œæ­£ç¡®æ€§â€â€”â€” æ¯”å¦‚è½¬å‘æ“ä½œæ—¶ä¿ç•™æ­£ç¡®çš„ this æŒ‡å‘ã€‚</p>
<h3 data-id="heading-11">1. ä¸ºä»€ä¹ˆä¸€å®šè¦é…åˆ Reflectï¼Ÿ</h3>
<p><strong>æ ¸å¿ƒåŸå› ï¼šå¤„ç† <code>this</code> æŒ‡å‘é—®é¢˜ã€‚</strong></p>
<p>å½“å¯¹è±¡å†…éƒ¨å­˜åœ¨ <code>getter</code> å¹¶ä¾èµ– <code>this</code> æ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ <code>target[prop]</code>ï¼Œ<code>this</code> å°†æŒ‡å‘åŸå§‹å¯¹è±¡è€Œéä»£ç†å¯¹è±¡ï¼Œå¯¼è‡´åç»­çš„å±æ€§è¯»å–æ— æ³•è¢« Proxy æ‹¦æˆªã€‚</p>
<h3 data-id="heading-12">2. Reflectä½¿ç”¨å¯¹æ¯”</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> person = {
      <span class="hljs-attr">_name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
      <span class="hljs-keyword">get</span> <span class="hljs-title function_">name</span>() {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getter è¢«è°ƒç”¨ï¼Œthis:'</span>, <span class="hljs-variable language_">this</span> === person ? <span class="hljs-string">'person'</span> : <span class="hljs-variable language_">this</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_name</span>;
      },

      <span class="hljs-title function_">introduce</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'this'</span>, <span class="hljs-variable language_">this</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">`æˆ‘å«<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>;
      },
    };

    <span class="hljs-comment">// é”™è¯¯ä»£ç†</span>
    <span class="hljs-keyword">const</span> badProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person, {
      <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆª: <span class="hljs-subst">${prop}</span>`</span>);
        <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'introduce'</span>) {
          <span class="hljs-keyword">const</span> original = target[prop]; <span class="hljs-comment">// é”™è¯¯ï¼šç›´æ¥è·å–</span>
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">original</span>(); <span class="hljs-comment">// this æŒ‡å‘ badProxy</span>
          };
        }
        <span class="hljs-keyword">return</span> target[prop];
      },
    });

    <span class="hljs-comment">// æ­£ç¡®ä»£ç†</span>
    <span class="hljs-keyword">const</span> goodProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person, {
      <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop, receiver</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆª: <span class="hljs-subst">${prop}</span>`</span>);
        <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'introduce'</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target[prop], receiver, <span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// æ­£ç¡®</span>
          };
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver);
      },
    });

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== æµ‹è¯•é”™è¯¯ä»£ç† ==='</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(badProxy.<span class="hljs-title function_">introduce</span>());

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'\n=== æµ‹è¯•æ­£ç¡®ä»£ç† ==='</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(goodProxy.<span class="hljs-title function_">introduce</span>()
</code></pre>
<h3 data-id="heading-13">3. æ‰“å°ç»“æœåˆ†æ</h3>
<ol>
<li>
<p>é¦–å…ˆæ‰§è¡Œ<code>console.log(badProxy.introduce())</code></p>
<ul>
<li>å®ƒä¼šè¯»å–<code>badProxy.introduce</code>å±æ€§ï¼Œè§¦å‘<code>badProxy</code>çš„<code>get</code> é™·é˜±ï¼Œå‚æ•°<code>target = person</code>ï¼Œ<code>prop = 'introduce'</code>ï¼Œ<code>receiver = badProxy</code></li>
</ul>
</li>
<li>
<p>æ¥ç€è¿›å…¥<code>badProxy</code>çš„<code>get</code>é™·é˜±å‡½æ•°ï¼Œæ­¤æ—¶è¿”å›çš„æ–°å‡½æ•°è¢«èµ‹å€¼ç»™<code>badProxy.introduce</code>ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªæ–°å‡½æ•°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆª: <span class="hljs-subst">${prop}</span>`</span>);  <span class="hljs-comment">// è¾“å‡ºï¼šæ‹¦æˆª: introduce</span>
<span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'introduce'</span>) {
  <span class="hljs-keyword">const</span> original = target[prop]; <span class="hljs-comment">// æ‹¿åˆ° person.introduce å‡½æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) { <span class="hljs-comment">// è¿”å›ä¸€ä¸ªæ–°å‡½æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">original</span>(); <span class="hljs-comment">// å…³é”®é”™è¯¯ï¼šè£¸è°ƒç”¨ original</span>
  };
}
</code></pre>
</li>
<li>
<p>æ‰§è¡Œè¿”å›çš„æ–°å‡½æ•°<code>original()</code>ï¼ˆå³<code>person.introduce()</code>ï¼‰</p>
<ul>
<li><code>original</code>æ˜¯è£¸è°ƒç”¨ï¼ˆæ²¡æœ‰å¯¹è±¡å‰ç¼€ï¼‰ï¼Œæ‰€ä»¥<code>introduce</code>æ–¹æ³•é‡Œçš„<code>this</code>æŒ‡å‘<code>window</code>ï¼ˆéä¸¥æ ¼æ¨¡å¼ï¼‰ï¼›</li>
<li>è¾“å‡ºï¼š<code>this window</code>ï¼›</li>
<li>æ‰§è¡Œ<code>this.name</code>â†’<code>window.name</code>ï¼Œä¸ä¼šè§¦å‘<code>person</code>çš„<code>name</code>getterï¼ˆå› ä¸º<code>this</code>ä¸æ˜¯<code>person</code>/<code>badProxy</code>ï¼‰ï¼Œæ‰€ä»¥<code>window._name</code>ä¸å­˜åœ¨ï¼Œè¿”å›<code>undefined</code>ï¼›</li>
<li>æœ€ç»ˆè¿”å›<code>æˆ‘å«undefined</code>ï¼Œæ§åˆ¶å°è¾“å‡ºï¼š<code>æˆ‘å«</code>ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d53d0c800844058b36ddf7ff9a630a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770714393&amp;x-signature=Xe618lpspDXZX8vA3IeQ5ECwTCU%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p>æ‰§è¡Œ<code>console.log(goodProxy.introduce())</code></p>
<ul>
<li>å®ƒä¼šè¯»å–<code>goodProxy.introduce</code>å±æ€§ï¼Œè§¦å‘<code>goodProxy</code>çš„<code>get</code> é™·é˜±ï¼Œå‚æ•°ï¼š</li>
<li><code>target = person</code>ï¼Œ<code>prop = 'introduce'</code>ï¼Œ<code>receiver = goodProxy</code>ã€‚</li>
</ul>
</li>
<li>
<p>ç¬¬ä¸€æ¬¡è§¦å‘<code>get</code>é™·é˜±ï¼ˆæ‹¦æˆª<code>introduce</code>ï¼‰ï¼Œæ­¤æ—¶è¿”å›çš„æ–°å‡½æ•°è¢«èµ‹å€¼ç»™<code>goodProxy.introduce</code>ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªæ–°å‡½æ•°</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆª: <span class="hljs-subst">${prop}</span>`</span>); <span class="hljs-comment">// è¾“å‡ºï¼šæ‹¦æˆª: introduce â†’ ç¬¬ä¸€æ¬¡æ‹¦æˆª</span>
<span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'introduce'</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) { <span class="hljs-comment">// è¿”å›ä¸€ä¸ªæ–°å‡½æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target[prop], receiver, <span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// æ­£ç¡®ç»‘å®š this</span>
  };
}
</code></pre>
</li>
<li>
<p>æ‰§è¡Œè¿”å›çš„æ–°å‡½æ•°ï¼Œ<code>Reflect.apply(target[prop], receiver, arguments)</code>ï¼Œå…¶ä¸­</p>
<ul>
<li><code>target[prop]</code>=<code>person.introduce</code> å‡½æ•°ï¼›</li>
<li><code>receiver</code>=<code>goodProxy</code>ï¼ˆæŠŠ<code>introduce</code>æ–¹æ³•çš„<code>this</code>ç»‘å®šåˆ°<code>goodProxy</code>ï¼‰ï¼›</li>
<li>æ‰§è¡Œ<code>person.introduce</code>æ–¹æ³•ï¼Œæ­¤æ—¶æ–¹æ³•å†…çš„<code>this = goodProxy</code>ã€‚</li>
</ul>
</li>
<li>
<p>æ‰§è¡Œ introduce æ–¹æ³•å†…éƒ¨ä»£ç </p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'this'</span>, <span class="hljs-variable language_">this</span>); <span class="hljs-comment">// è¾“å‡ºï¼šthis Proxy(Object) { _name: 'å¼ ä¸‰' }ï¼ˆå³ goodProxyï¼‰</span>
<span class="hljs-keyword">return</span> <span class="hljs-string">`æˆ‘å«<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>; <span class="hljs-comment">// å…³é”®ï¼šè¯»å– this.name â†’ goodProxy.name</span>
</code></pre>
</li>
<li>
<p>ç¬¬äºŒæ¬¡è§¦å‘<code>get</code>é™·é˜±ï¼ˆæ‹¦æˆª<code>name</code>ï¼‰ï¼Œå› ä¸º<code>this = goodProxy</code>ï¼Œæ‰€ä»¥<code>this.name</code>ç­‰ä»·äº<code>goodProxy.name</code>ï¼Œéœ€è¦è¯»å–<code>goodProxy.name</code>å±æ€§ï¼Œ<strong>å†æ¬¡è§¦å‘</strong><code>goodProxy</code>çš„<code>get</code> é™·é˜±ï¼Œå‚æ•°ï¼š</p>
<ul>
<li><code>target = person</code>ï¼Œ<code>prop = 'name'</code>ï¼Œ<code>receiver = goodProxy</code></li>
<li>è¿›å…¥geté™·è¿›å‡½æ•°</li>
</ul>
</li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆª: <span class="hljs-subst">${prop}</span>`</span>); <span class="hljs-comment">// è¾“å‡ºï¼šæ‹¦æˆª: name â†’ ç¬¬äºŒæ¬¡æ‹¦æˆª</span>
<span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'introduce'</span>) { <span class="hljs-comment">/* ä¸æ‰§è¡Œ */</span> }
<span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, prop, receiver); <span class="hljs-comment">// è°ƒç”¨ Reflect.get è¯»å– person.name</span>
</code></pre>
<p>9.  è°ƒç”¨<code>Reflect.get(target, prop, receiver)</code>ï¼Œè§¦å‘<code>person.name</code>çš„ getterï¼Œæ­¤æ—¶ getter é‡Œçš„<code>this</code>è¢«<code>receiver</code>ç»‘å®šä¸º<code>goodProxy</code></p>

<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">get</span> name() {
  console.log(<span class="hljs-string">'getter è¢«è°ƒç”¨ï¼Œthis:'</span>, <span class="hljs-keyword">this</span> === person ? <span class="hljs-string">'person'</span> : <span class="hljs-keyword">this</span>); 
  <span class="hljs-comment">// è¾“å‡ºï¼šgetter è¢«è°ƒç”¨ï¼Œthis: Proxy(Object) { _name: 'å¼ ä¸‰' }</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._name; <span class="hljs-comment">// this = goodProxy â†’ è¯»å– goodProxy._name</span>
}
</code></pre>
<p>10. è¿”å›this._nameï¼ˆä¸æ˜¯nameï¼ï¼‰ï¼Œè¿™æ—¶ä¼šç¬¬ä¸‰æ¬¡è§¦å‘goodProxyçš„<code>get</code>é™·é˜±ï¼ˆ<code>prop = '_name'</code>ï¼‰</p>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‹¦æˆª: <span class="hljs-subst">${prop}</span>`</span>); <span class="hljs-comment">// è¾“å‡ºï¼šæ‹¦æˆª: _name</span>
<span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, <span class="hljs-string">'_name'</span>, receiver); <span class="hljs-comment">// è¿”å› person._name = 'å¼ ä¸‰'</span>
</code></pre>
<p>11. æœ€ç»ˆè¿”å›ç»“æœ æˆ‘å«å¼ ä¸‰</p>
<pre><code class="hljs language-bash" lang="bash">![](https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb44628ee3904c759428efdadbba9e90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-R546w5LiA5Y-q5aSn5ZGG55Oc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770714393&amp;x-signature=VN5mF0OKtlLwwfknHvfBPYIqpVE%3D)
</code></pre>
<hr/>
<h2 data-id="heading-14">å››ã€ æ€»ç»“ï¼šProxy çš„é™ç»´æ‰“å‡»</h2>
<ol>
<li><strong>å…¨æ–¹ä½æ‹¦æˆª</strong>ï¼šä¸ä»…èƒ½æ‹¦æˆªè¯»å†™ï¼Œè¿˜èƒ½æ‹¦æˆªåˆ é™¤ã€å‡½æ•°è°ƒç”¨ã€<code>new</code> æ“ä½œç­‰ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŠ¿</strong>ï¼šæ— éœ€éå†å±æ€§ï¼Œç›´æ¥ä»£ç†æ•´ä¸ªå¯¹è±¡ã€‚</li>
<li><strong>åŸç”Ÿæ”¯æŒæ•°ç»„</strong>ï¼šå®Œç¾è§£å†³ Vue 2 ä¸­æ•°ç»„ç›‘å¬çš„å„ç§å¥‡æŠ€æ·«å·§ï¼ˆå¦‚é‡å†™æ•°ç»„åŸå‹æ–¹æ³•ï¼‰ã€‚</li>
<li><strong>é…åˆ Reflect</strong>ï¼šé€šè¿‡ <code>receiver</code> å‚æ•°å®Œç¾è½¬å‘ <code>this</code> ç»‘å®šï¼Œä¿è¯äº†å“åº”å¼ç³»ç»Ÿçš„ä¸¥å¯†æ€§ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java è¯­è¨€åŸºç¡€]]></title>    <link>https://juejin.cn/post/7602634187284103178</link>    <guid>https://juejin.cn/post/7602634187284103178</guid>    <pubDate>2026-02-04T09:47:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602634187284103178" data-draft-id="7602634187284086794" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java è¯­è¨€åŸºç¡€"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-02-04T09:47:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ¢é™©å®¶"/> <meta itemprop="url" content="https://juejin.cn/user/1882777597248728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java è¯­è¨€åŸºç¡€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1882777597248728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ¢é™©å®¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:47:20.000Z" title="Wed Feb 04 2026 09:47:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»26åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“Š <strong>éš¾åº¦</strong>ï¼šåŸºç¡€ | <strong>é‡è¦ç¨‹åº¦</strong>ï¼šæ ¸å¿ƒå¿…å­¦</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å˜é‡</h2>
<p>ä½ å·²ç»å­¦è¿‡å¯¹è±¡å°†çŠ¶æ€å­˜å‚¨åœ¨**å­—æ®µï¼ˆFieldï¼‰**ä¸­ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">cadence</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">speed</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">gear</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>
<p>åœ¨ã€Œä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Ÿã€ç« èŠ‚ä¸­ä»‹ç»äº†å­—æ®µï¼Œä½†ä½ å¯èƒ½è¿˜æœ‰ä¸€äº›ç–‘é—®ï¼šå­—æ®µå‘½åæœ‰å“ªäº›è§„åˆ™å’Œçº¦å®šï¼Ÿé™¤äº† <code>int</code>ï¼Œè¿˜æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿå­—æ®µå£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–å—ï¼Ÿå¦‚æœæ²¡æœ‰æ˜¾å¼åˆå§‹åŒ–ï¼Œå­—æ®µä¼šè¢«èµ‹é»˜è®¤å€¼å—ï¼Ÿ</p>
<p>åœ¨æ¢ç´¢è¿™äº›é—®é¢˜ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆäº†è§£ä¸€äº›æŠ€æœ¯ä¸Šçš„åŒºåˆ«ã€‚åœ¨ Java ä¸­ï¼Œ"å­—æ®µ"å’Œ"å˜é‡"è¿™ä¸¤ä¸ªæœ¯è¯­éƒ½ä¼šç”¨åˆ°ï¼Œè¿™å¸¸å¸¸è®©æ–°æ‰‹æ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸ºå®ƒä»¬ä¼¼ä¹æŒ‡çš„æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚</p>
<p>Java å®šä¹‰äº†ä»¥ä¸‹å‡ ç§å˜é‡ï¼š</p>
<h3 data-id="heading-1">å®ä¾‹å˜é‡ï¼ˆéé™æ€å­—æ®µï¼‰</h3>
<p>ä»æŠ€æœ¯è§’åº¦è®²ï¼Œå¯¹è±¡å°†å„è‡ªçš„çŠ¶æ€å­˜å‚¨åœ¨"éé™æ€å­—æ®µ"ä¸­ï¼Œå³ä¸å¸¦ <code>static</code> å…³é”®å­—å£°æ˜çš„å­—æ®µã€‚éé™æ€å­—æ®µä¹Ÿç§°ä¸º<strong>å®ä¾‹å˜é‡ï¼ˆInstance Variableï¼‰</strong>ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼å¯¹äºç±»çš„æ¯ä¸ªå®ä¾‹ï¼ˆå³æ¯ä¸ªå¯¹è±¡ï¼‰éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ä¸€è¾†è‡ªè¡Œè½¦çš„ <code>currentSpeed</code> ä¸å¦ä¸€è¾†è‡ªè¡Œè½¦çš„ <code>currentSpeed</code> æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šå®ä¾‹å˜é‡å°±åƒæ¯ä¸ªäººçš„èº«ä»½è¯å·ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä¸€ä»½ï¼Œäº’ä¸å½±å“ã€‚</p>
<h3 data-id="heading-2">ç±»å˜é‡ï¼ˆé™æ€å­—æ®µï¼‰</h3>
<p>**ç±»å˜é‡ï¼ˆClass Variableï¼‰**æ˜¯ç”¨ <code>static</code> ä¿®é¥°ç¬¦å£°æ˜çš„å­—æ®µã€‚è¿™å‘Šè¯‰ç¼–è¯‘å™¨ï¼šæ— è®ºè¿™ä¸ªç±»è¢«å®ä¾‹åŒ–å¤šå°‘æ¬¡ï¼Œè¿™ä¸ªå˜é‡åªå­˜åœ¨ä¸€ä»½ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰æŸç§è‡ªè¡Œè½¦é½¿è½®æ•°é‡çš„å­—æ®µå¯ä»¥æ ‡è®°ä¸º <code>static</code>ï¼Œå› ä¸ºæ‰€æœ‰å®ä¾‹æ¦‚å¿µä¸Šéƒ½ä½¿ç”¨ç›¸åŒçš„é½¿è½®æ•°ã€‚ä»£ç  <code>static int numGears = 6;</code> å°±åˆ›å»ºäº†è¿™æ ·ä¸€ä¸ªé™æ€å­—æ®µã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥æ·»åŠ  <code>final</code> å…³é”®å­—è¡¨ç¤ºé½¿è½®æ•°æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚</p>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šç±»å˜é‡å°±åƒç­çº§çš„ç­ç‰Œï¼Œå…¨ç­åŒå­¦å…±ç”¨ä¸€ä¸ªï¼Œä¸ç®¡æ¥äº†å¤šå°‘å­¦ç”Ÿï¼Œç­ç‰Œåªæœ‰ä¸€å—ã€‚</p>
<h3 data-id="heading-3">å±€éƒ¨å˜é‡</h3>
<p>ç±»ä¼¼äºå¯¹è±¡åœ¨å­—æ®µä¸­å­˜å‚¨çŠ¶æ€ï¼Œæ–¹æ³•é€šå¸¸åœ¨<strong>å±€éƒ¨å˜é‡ï¼ˆLocal Variableï¼‰<strong>ä¸­å­˜å‚¨ä¸´æ—¶çŠ¶æ€ã€‚å£°æ˜å±€éƒ¨å˜é‡çš„è¯­æ³•ä¸å£°æ˜å­—æ®µç±»ä¼¼ï¼ˆä¾‹å¦‚ <code>int count = 0;</code>ï¼‰ã€‚æ²¡æœ‰ç‰¹æ®Šå…³é”®å­—å°†å˜é‡æŒ‡å®šä¸ºå±€éƒ¨å˜é‡ï¼Œè¿™å®Œå…¨å–å†³äºå˜é‡å£°æ˜çš„</strong>ä½ç½®</strong>â€”â€”åœ¨æ–¹æ³•çš„å¼€æ‹¬å·å’Œé—­æ‹¬å·ä¹‹é—´ã€‚å› æ­¤ï¼Œå±€éƒ¨å˜é‡åªå¯¹å£°æ˜å®ƒä»¬çš„æ–¹æ³•å¯è§ï¼Œç±»çš„å…¶ä»–éƒ¨åˆ†æ— æ³•è®¿é—®ã€‚</p>
<h3 data-id="heading-4">å‚æ•°</h3>
<p>ä½ å·²ç»è§è¿‡å‚æ•°çš„ä¾‹å­ï¼ŒåŒ…æ‹¬ <code>Bicycle</code> ç±»å’Œ"Hello World!"ç¨‹åºçš„ <code>main</code> æ–¹æ³•ã€‚å›æƒ³ä¸€ä¸‹ <code>main</code> æ–¹æ³•çš„ç­¾åï¼š<code>public static void main(String[] args)</code>ã€‚è¿™é‡Œçš„ <code>args</code> å˜é‡å°±æ˜¯è¿™ä¸ªæ–¹æ³•çš„å‚æ•°ã€‚é‡è¦çš„æ˜¯ï¼Œå‚æ•°å§‹ç»ˆè¢«å½’ç±»ä¸º"å˜é‡"è€Œé"å­—æ®µ"ã€‚è¿™åŒæ ·é€‚ç”¨äºå…¶ä»–æ¥å—å‚æ•°çš„ç»“æ„ï¼ˆå¦‚æ„é€ å‡½æ•°å’Œå¼‚å¸¸å¤„ç†å™¨ï¼‰ï¼Œä½ å°†åœ¨åé¢çš„æ•™ç¨‹ä¸­å­¦åˆ°ã€‚</p>
<p>âš–ï¸ <strong>å¯¹æ¯”å­¦ä¹ ï¼šå››ç§å˜é‡ç±»å‹</strong></p>








































<table><thead><tr><th>ç±»å‹</th><th>å£°æ˜ä½ç½®</th><th>ä½œç”¨åŸŸ</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>å®ä¾‹å˜é‡</td><td>ç±»ä¸­ï¼Œæ–¹æ³•å¤–</td><td>æ•´ä¸ªç±»</td><td>éšå¯¹è±¡åˆ›å»º/é”€æ¯</td><td>æœ‰</td></tr><tr><td>ç±»å˜é‡ï¼ˆé™æ€ï¼‰</td><td>ç±»ä¸­ï¼Œå¸¦ <code>static</code></td><td>æ•´ä¸ªç±»</td><td>éšç±»åŠ è½½/å¸è½½</td><td>æœ‰</td></tr><tr><td>å±€éƒ¨å˜é‡</td><td>æ–¹æ³•å†…</td><td>æ–¹æ³•å†…</td><td>æ–¹æ³•æ‰§è¡ŒæœŸé—´</td><td><strong>æ— </strong></td></tr><tr><td>å‚æ•°</td><td>æ–¹æ³•ç­¾åä¸­</td><td>æ–¹æ³•å†…</td><td>æ–¹æ³•æ‰§è¡ŒæœŸé—´</td><td><strong>æ— </strong></td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>è¡¥å……è¯´æ˜</strong>ï¼šä½ å¯èƒ½è¿˜ä¼šçœ‹åˆ°"æˆå‘˜ï¼ˆMemberï¼‰"è¿™ä¸ªæœ¯è¯­ã€‚ä¸€ä¸ªç±»å‹çš„å­—æ®µã€æ–¹æ³•å’ŒåµŒå¥—ç±»å‹ç»Ÿç§°ä¸ºå…¶<strong>æˆå‘˜</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-5">å‘½åè§„åˆ™</h3>
<p>æ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è‡ªå·±çš„å‘½åè§„åˆ™å’Œçº¦å®šï¼ŒJava ä¹Ÿä¸ä¾‹å¤–ã€‚å˜é‡å‘½åè§„åˆ™å’Œçº¦å®šå¦‚ä¸‹ï¼š</p>
<p><strong>è§„åˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰</strong>ï¼š</p>
<ul>
<li>å˜é‡å<strong>åŒºåˆ†å¤§å°å†™</strong></li>
<li>å˜é‡åå¯ä»¥æ˜¯ä»»æ„åˆæ³•æ ‡è¯†ç¬¦â€”â€”ç”± Unicode å­—æ¯å’Œæ•°å­—ç»„æˆçš„æ— é™é•¿åº¦åºåˆ—ï¼Œä»¥å­—æ¯ã€ç¾å…ƒç¬¦å· <code>$</code> æˆ–ä¸‹åˆ’çº¿ <code>_</code> å¼€å¤´</li>
<li>ä¸å…è®¸æœ‰ç©ºæ ¼</li>
<li>ä¸èƒ½æ˜¯å…³é”®å­—æˆ–ä¿ç•™å­—</li>
</ul>
<p><strong>çº¦å®šï¼ˆå»ºè®®éµå®ˆï¼‰</strong>ï¼š</p>
<ul>
<li>å§‹ç»ˆä»¥å­—æ¯å¼€å¤´ï¼Œè€Œé <code>$</code> æˆ– <code>_</code></li>
<li>é¿å…ä½¿ç”¨ç¾å…ƒç¬¦å· <code>$</code>ï¼ˆè‡ªåŠ¨ç”Ÿæˆçš„åç§°å¯èƒ½åŒ…å«å®ƒï¼‰</li>
<li>ä¸é¼“åŠ±ä»¥ä¸‹åˆ’çº¿ <code>_</code> å¼€å¤´</li>
<li>ä½¿ç”¨å®Œæ•´å•è¯è€Œéç¼©å†™ï¼ˆ<code>cadence</code>ã€<code>speed</code>ã€<code>gear</code> æ¯” <code>c</code>ã€<code>s</code>ã€<code>g</code> æ›´ç›´è§‚ï¼‰</li>
<li>å•ä¸ªå•è¯å…¨å°å†™ï¼š<code>speed</code></li>
<li>å¤šä¸ªå•è¯é‡‡ç”¨é©¼å³°å‘½åï¼š<code>gearRatio</code>ã€<code>currentGear</code></li>
<li>å¸¸é‡å…¨å¤§å†™ï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿ï¼š<code>static final int NUM_GEARS = 6</code></li>
</ul>
<p>âŒ <strong>å¸¸è§é”™è¯¯</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ç¤ºä¾‹</span>
<span class="hljs-type">int</span> 2count = <span class="hljs-number">0</span>;      <span class="hljs-comment">// ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</span>
<span class="hljs-type">int</span> my-<span class="hljs-keyword">var</span> = <span class="hljs-number">0</span>;      <span class="hljs-comment">// ä¸èƒ½åŒ…å«è¿å­—ç¬¦</span>
<span class="hljs-type">int</span> <span class="hljs-variable">class</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;       <span class="hljs-comment">// ä¸èƒ½ä½¿ç”¨å…³é”®å­—</span>

<span class="hljs-comment">// âœ… æ­£ç¡®ç¤ºä¾‹</span>
<span class="hljs-type">int</span> <span class="hljs-variable">count2</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">myVar</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">myClass</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
</code></pre>
<hr/>
<h2 data-id="heading-6">åŸºæœ¬æ•°æ®ç±»å‹</h2>
<p>Java æ˜¯<strong>é™æ€ç±»å‹è¯­è¨€</strong>ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰å˜é‡åœ¨ä½¿ç”¨å‰å¿…é¡»å…ˆå£°æ˜ã€‚å£°æ˜éœ€è¦æŒ‡å®šå˜é‡çš„ç±»å‹å’Œåç§°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">gear</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>
<p>è¿™å‘Šè¯‰ç¨‹åºå­˜åœ¨ä¸€ä¸ªåä¸º <code>gear</code> çš„å­—æ®µï¼Œä¿å­˜æ•°å€¼æ•°æ®ï¼Œåˆå§‹å€¼ä¸º 1ã€‚å˜é‡çš„æ•°æ®ç±»å‹å†³å®šäº†å®ƒå¯ä»¥åŒ…å«çš„å€¼ä»¥åŠå¯ä»¥å¯¹å®ƒæ‰§è¡Œçš„æ“ä½œã€‚</p>
<p>é™¤äº† <code>int</code>ï¼ŒJava è¿˜æ”¯æŒå…¶ä»–ä¸ƒç§<strong>åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆPrimitive Data Typeï¼‰</strong>ã€‚åŸºæœ¬ç±»å‹æ˜¯è¯­è¨€é¢„å®šä¹‰çš„ï¼Œç”¨ä¿ç•™å…³é”®å­—å‘½åã€‚åŸºæœ¬ç±»å‹çš„å€¼ä¸ä¸å…¶ä»–åŸºæœ¬ç±»å‹çš„å€¼å…±äº«çŠ¶æ€ã€‚</p>
<h3 data-id="heading-7">å…«ç§åŸºæœ¬æ•°æ®ç±»å‹</h3>




































































<table><thead><tr><th>ç±»å‹</th><th>ä½æ•°</th><th>èŒƒå›´</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>byte</code></td><td>8ä½</td><td>-128 ~ 127</td><td>0</td><td>èŠ‚çœå†…å­˜ï¼Œç”¨äºå¤§æ•°ç»„</td></tr><tr><td><code>short</code></td><td>16ä½</td><td>-32,768 ~ 32,767</td><td>0</td><td>èŠ‚çœå†…å­˜ï¼Œç”¨äºå¤§æ•°ç»„</td></tr><tr><td><code>int</code></td><td>32ä½</td><td>-2Â³Â¹ ~ 2Â³Â¹-1</td><td>0</td><td>æœ€å¸¸ç”¨çš„æ•´æ•°ç±»å‹</td></tr><tr><td><code>long</code></td><td>64ä½</td><td>-2â¶Â³ ~ 2â¶Â³-1</td><td>0L</td><td>éœ€è¦æ¯” int æ›´å¤§èŒƒå›´æ—¶ä½¿ç”¨</td></tr><tr><td><code>float</code></td><td>32ä½</td><td>IEEE 754</td><td>0.0f</td><td>èŠ‚çœå†…å­˜ï¼Œ<strong>ä¸ç”¨äºç²¾ç¡®å€¼</strong></td></tr><tr><td><code>double</code></td><td>64ä½</td><td>IEEE 754</td><td>0.0d</td><td>å°æ•°çš„é»˜è®¤é€‰æ‹©ï¼Œ<strong>ä¸ç”¨äºç²¾ç¡®å€¼</strong></td></tr><tr><td><code>boolean</code></td><td>-</td><td>true / false</td><td>false</td><td>ç®€å•çš„çœŸ/å‡æ ‡å¿—</td></tr><tr><td><code>char</code></td><td>16ä½</td><td>'\u0000' ~ '\uffff'</td><td>'\u0000'</td><td>å•ä¸ª Unicode å­—ç¬¦</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>è¡¥å……è¯´æ˜</strong>ï¼šJava SE 8 åŠæ›´é«˜ç‰ˆæœ¬æ”¯æŒå°† <code>int</code> å’Œ <code>long</code> ç”¨ä½œæ— ç¬¦å·æ•´æ•°ã€‚<code>Integer</code> ç±»æ–°å¢äº† <code>compareUnsigned</code>ã€<code>divideUnsigned</code> ç­‰æ–¹æ³•æ”¯æŒæ— ç¬¦å·è¿ç®—ã€‚</p>
</blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š<code>float</code> å’Œ <code>double</code> <strong>ä¸èƒ½ç”¨äºç²¾ç¡®å€¼è®¡ç®—</strong>ï¼ˆå¦‚è´§å¸ï¼‰ã€‚éœ€è¦ç²¾ç¡®è®¡ç®—æ—¶ï¼Œè¯·ä½¿ç”¨ <code>java.math.BigDecimal</code> ç±»ã€‚</p>
<h3 data-id="heading-8">String ç±»å‹</h3>
<p>é™¤äº†å…«ç§åŸºæœ¬ç±»å‹ï¼ŒJava è¿˜é€šè¿‡ <code>java.lang.String</code> ç±»æä¾›å¯¹å­—ç¬¦ä¸²çš„ç‰¹æ®Šæ”¯æŒã€‚ç”¨åŒå¼•å·åŒ…å›´å­—ç¬¦ä¸²ä¼šè‡ªåŠ¨åˆ›å»º <code>String</code> å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-string">"this is a string"</span>;
</code></pre>
<p><code>String</code> å¯¹è±¡æ˜¯<strong>ä¸å¯å˜çš„ï¼ˆImmutableï¼‰</strong>ï¼Œä¸€æ—¦åˆ›å»ºï¼Œå…¶å€¼å°±ä¸èƒ½æ”¹å˜ã€‚è™½ç„¶ <code>String</code> ä¸¥æ ¼æ¥è¯´ä¸æ˜¯åŸºæœ¬ç±»å‹ï¼Œä½†ç”±äºè¯­è¨€å¯¹å®ƒçš„ç‰¹æ®Šæ”¯æŒï¼Œä½ å¯èƒ½ä¼šæŠŠå®ƒå½“ä½œåŸºæœ¬ç±»å‹æ¥çœ‹å¾…ã€‚</p>
<p>ğŸ¯ <strong>é¢è¯•è€ƒç‚¹</strong></p>
<p><strong>Qï¼šString ä¸ºä»€ä¹ˆè®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ</strong></p>
<p>Aï¼šä¸»è¦æœ‰ä¸‰ä¸ªåŸå› ï¼š</p>
<ol>
<li><strong>å®‰å…¨æ€§</strong>ï¼šString å¸¸ç”¨ä½œå‚æ•°ï¼ˆå¦‚ç½‘ç»œè¿æ¥ã€æ–‡ä»¶è·¯å¾„ï¼‰ï¼Œä¸å¯å˜é˜²æ­¢è¢«æ¶æ„ä¿®æ”¹</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šä¸å¯å˜å¯¹è±¡å¤©ç„¶çº¿ç¨‹å®‰å…¨ï¼Œå¯åœ¨å¤šçº¿ç¨‹é—´å…±äº«</li>
<li><strong>å­—ç¬¦ä¸²å¸¸é‡æ± </strong>ï¼šä¸å¯å˜æ€§ä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢«ç¼“å­˜å¤ç”¨ï¼ŒèŠ‚çœå†…å­˜</li>
</ol>
<h3 data-id="heading-9">é»˜è®¤å€¼</h3>
<p>å­—æ®µå£°æ˜æ—¶ä¸ä¸€å®šè¦èµ‹å€¼ã€‚æœªåˆå§‹åŒ–çš„å­—æ®µä¼šè¢«ç¼–è¯‘å™¨è®¾ç½®ä¸ºåˆç†çš„é»˜è®¤å€¼ï¼Œé€šå¸¸æ˜¯é›¶æˆ– <code>null</code>ã€‚ä½†<strong>ä¾èµ–é»˜è®¤å€¼é€šå¸¸è¢«è®¤ä¸ºæ˜¯ä¸å¥½çš„ç¼–ç¨‹é£æ ¼</strong>ã€‚</p>













































<table><thead><tr><th>æ•°æ®ç±»å‹</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>byte</td><td>0</td></tr><tr><td>short</td><td>0</td></tr><tr><td>int</td><td>0</td></tr><tr><td>long</td><td>0L</td></tr><tr><td>float</td><td>0.0f</td></tr><tr><td>double</td><td>0.0d</td></tr><tr><td>char</td><td>'\u0000'</td></tr><tr><td>boolean</td><td>false</td></tr><tr><td>Stringï¼ˆæˆ–ä»»ä½•å¯¹è±¡ï¼‰</td><td>null</td></tr></tbody></table>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå±€éƒ¨å˜é‡<strong>æ²¡æœ‰é»˜è®¤å€¼</strong>ï¼ç¼–è¯‘å™¨ä¸ä¼šä¸ºæœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡èµ‹é»˜è®¤å€¼ã€‚è®¿é—®æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡ä¼šå¯¼è‡´<strong>ç¼–è¯‘æ—¶é”™è¯¯</strong>ã€‚</p>
<p>âŒ <strong>å¸¸è§é”™è¯¯</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šå±€éƒ¨å˜é‡æœªåˆå§‹åŒ–</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> count;
    System.out.println(count);  <span class="hljs-comment">// é”™è¯¯ï¼</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šå…ˆåˆå§‹åŒ–å†ä½¿ç”¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    System.out.println(count);
}
</code></pre>
<h3 data-id="heading-10">å­—é¢é‡</h3>
<p>ä½ å¯èƒ½æ³¨æ„åˆ°åˆå§‹åŒ–åŸºæœ¬ç±»å‹å˜é‡æ—¶æ²¡æœ‰ä½¿ç”¨ <code>new</code> å…³é”®å­—ã€‚åŸºæœ¬ç±»å‹æ˜¯å†…ç½®äºè¯­è¨€ä¸­çš„ç‰¹æ®Šæ•°æ®ç±»å‹ï¼Œä¸æ˜¯ä»ç±»åˆ›å»ºçš„å¯¹è±¡ã€‚**å­—é¢é‡ï¼ˆLiteralï¼‰**æ˜¯å›ºå®šå€¼åœ¨æºä»£ç ä¸­çš„è¡¨ç¤ºå½¢å¼ï¼Œç›´æ¥å†™åœ¨ä»£ç ä¸­ï¼Œæ— éœ€è®¡ç®—ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
<span class="hljs-type">char</span> <span class="hljs-variable">capitalC</span> <span class="hljs-operator">=</span> <span class="hljs-string">'C'</span>;
<span class="hljs-type">byte</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;
<span class="hljs-type">short</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">100000</span>;
</code></pre>
<h4 data-id="heading-11">æ•´æ•°å­—é¢é‡</h4>
<p>æ•´æ•°å­—é¢é‡å¦‚æœä»¥ <code>L</code> æˆ– <code>l</code> ç»“å°¾åˆ™ä¸º <code>long</code> ç±»å‹ï¼Œå¦åˆ™ä¸º <code>int</code> ç±»å‹ã€‚<strong>å»ºè®®ä½¿ç”¨å¤§å†™ <code>L</code></strong>ï¼Œå› ä¸ºå°å†™ <code>l</code> å®¹æ˜“ä¸æ•°å­— <code>1</code> æ··æ·†ã€‚</p>
<p>æ•´æ•°å­—é¢é‡å¯ä»¥ç”¨ä»¥ä¸‹è¿›åˆ¶è¡¨ç¤ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åè¿›åˆ¶ï¼š26</span>
<span class="hljs-type">int</span> <span class="hljs-variable">decVal</span> <span class="hljs-operator">=</span> <span class="hljs-number">26</span>;
<span class="hljs-comment">// åå…­è¿›åˆ¶ï¼š26ï¼ˆ0x å‰ç¼€ï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">hexVal</span> <span class="hljs-operator">=</span> <span class="hljs-number">0x1a</span>;
<span class="hljs-comment">// äºŒè¿›åˆ¶ï¼š26ï¼ˆ0b å‰ç¼€ï¼ŒJava SE 7+ï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">binVal</span> <span class="hljs-operator">=</span> <span class="hljs-number">0b11010</span>;
</code></pre>
<h4 data-id="heading-12">æµ®ç‚¹æ•°å­—é¢é‡</h4>
<p>æµ®ç‚¹æ•°å­—é¢é‡ä»¥ <code>F</code> æˆ– <code>f</code> ç»“å°¾ä¸º <code>float</code> ç±»å‹ï¼Œå¦åˆ™ä¸º <code>double</code> ç±»å‹ï¼ˆå¯é€‰åœ°ä»¥ <code>D</code> æˆ– <code>d</code> ç»“å°¾ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">double</span> <span class="hljs-variable">d1</span> <span class="hljs-operator">=</span> <span class="hljs-number">123.4</span>;
<span class="hljs-type">double</span> <span class="hljs-variable">d2</span> <span class="hljs-operator">=</span> <span class="hljs-number">1.234e2</span>;    <span class="hljs-comment">// ç§‘å­¦è®¡æ•°æ³•ï¼Œç­‰äº 123.4</span>
<span class="hljs-type">float</span> <span class="hljs-variable">f1</span> <span class="hljs-operator">=</span> <span class="hljs-number">123.4f</span>;
</code></pre>
<h4 data-id="heading-13">å­—ç¬¦å’Œå­—ç¬¦ä¸²å­—é¢é‡</h4>
<p><code>char</code> å’Œ <code>String</code> å­—é¢é‡å¯ä»¥åŒ…å«ä»»ä½• Unicodeï¼ˆUTF-16ï¼‰å­—ç¬¦ã€‚å¦‚æœç¼–è¾‘å™¨å’Œæ–‡ä»¶ç³»ç»Ÿå…è®¸ï¼Œå¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­ä½¿ç”¨è¿™äº›å­—ç¬¦ï¼›å¦åˆ™å¯ä»¥ä½¿ç”¨ Unicode è½¬ä¹‰ï¼Œå¦‚ <code>'\u0108'</code>ï¼ˆå¸¦æŠ‘æ‰¬ç¬¦çš„å¤§å†™ Cï¼‰ã€‚</p>
<p><strong>è½¬ä¹‰åºåˆ—</strong>ï¼š</p>









































<table><thead><tr><th>è½¬ä¹‰åºåˆ—</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>\b</code></td><td>é€€æ ¼</td></tr><tr><td><code>\t</code></td><td>åˆ¶è¡¨ç¬¦</td></tr><tr><td><code>\n</code></td><td>æ¢è¡Œ</td></tr><tr><td><code>\f</code></td><td>æ¢é¡µ</td></tr><tr><td><code>\r</code></td><td>å›è½¦</td></tr><tr><td><code>\"</code></td><td>åŒå¼•å·</td></tr><tr><td><code>\'</code></td><td>å•å¼•å·</td></tr><tr><td><code>\\</code></td><td>åæ–œæ </td></tr></tbody></table>
<p><code>char</code> å­—é¢é‡ç”¨<strong>å•å¼•å·</strong>ï¼Œ<code>String</code> å­—é¢é‡ç”¨<strong>åŒå¼•å·</strong>ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ <code>null</code> å­—é¢é‡ï¼Œå¯ä»¥èµ‹ç»™ä»»ä½•å¼•ç”¨ç±»å‹å˜é‡ï¼ˆåŸºæœ¬ç±»å‹é™¤å¤–ï¼‰ã€‚<code>null</code> å¸¸ç”¨ä½œæ ‡è®°ï¼Œè¡¨ç¤ºæŸä¸ªå¯¹è±¡ä¸å¯ç”¨ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„<strong>ç±»å­—é¢é‡ï¼ˆClass Literalï¼‰</strong>ï¼Œç”±ç±»å‹åååŠ  <code>.class</code> æ„æˆï¼Œä¾‹å¦‚ <code>String.class</code>ï¼Œå®ƒå¼•ç”¨ä»£è¡¨è¯¥ç±»å‹æœ¬èº«çš„ <code>Class</code> å¯¹è±¡ã€‚</p>
<h3 data-id="heading-14">æ•°å­—å­—é¢é‡ä¸­çš„ä¸‹åˆ’çº¿</h3>
<p>Java SE 7 åŠæ›´é«˜ç‰ˆæœ¬å…è®¸åœ¨æ•°å­—å­—é¢é‡çš„<strong>æ•°å­—ä¹‹é—´</strong>ä½¿ç”¨ä»»æ„æ•°é‡çš„ä¸‹åˆ’çº¿ <code>_</code>ï¼Œå¯ä»¥æé«˜ä»£ç å¯è¯»æ€§ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">long</span> <span class="hljs-variable">creditCardNumber</span> <span class="hljs-operator">=</span> <span class="hljs-number">1234_5678_9012_3456L</span>;
<span class="hljs-type">long</span> <span class="hljs-variable">socialSecurityNumber</span> <span class="hljs-operator">=</span> <span class="hljs-number">999_99_9999L</span>;
<span class="hljs-type">float</span> <span class="hljs-variable">pi</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.14_15F</span>;
<span class="hljs-type">long</span> <span class="hljs-variable">hexBytes</span> <span class="hljs-operator">=</span> <span class="hljs-number">0xFF_EC_DE_5E</span>;
<span class="hljs-type">long</span> <span class="hljs-variable">hexWords</span> <span class="hljs-operator">=</span> <span class="hljs-number">0xCAFE_BABE</span>;
<span class="hljs-type">byte</span> <span class="hljs-variable">nybbles</span> <span class="hljs-operator">=</span> <span class="hljs-number">0b0010_0101</span>;
<span class="hljs-type">long</span> <span class="hljs-variable">bytes</span> <span class="hljs-operator">=</span> <span class="hljs-number">0b11010010_01101001_10010100_10010010</span>;
</code></pre>
<p><strong>ä¸‹åˆ’çº¿ä¸èƒ½æ”¾åœ¨ä»¥ä¸‹ä½ç½®</strong>ï¼š</p>
<ul>
<li>æ•°å­—çš„å¼€å¤´æˆ–ç»“å°¾</li>
<li>å°æ•°ç‚¹æ—è¾¹</li>
<li><code>F</code>ã€<code>L</code> ç­‰åç¼€ä¹‹å‰</li>
<li>éœ€è¦æ•°å­—ä¸²çš„ä½ç½®ï¼ˆå¦‚ <code>0x</code> ä¹‹åï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ æ— æ•ˆ</span>
<span class="hljs-type">float</span> <span class="hljs-variable">pi1</span> <span class="hljs-operator">=</span> 3_<span class="hljs-number">.1415F</span>;       <span class="hljs-comment">// å°æ•°ç‚¹æ—è¾¹</span>
<span class="hljs-type">float</span> <span class="hljs-variable">pi2</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.</span>_1415F;       <span class="hljs-comment">// å°æ•°ç‚¹æ—è¾¹</span>
<span class="hljs-type">long</span> <span class="hljs-variable">ssn</span> <span class="hljs-operator">=</span> 999_99_9999_L;   <span class="hljs-comment">// L åç¼€ä¹‹å‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">x2</span> <span class="hljs-operator">=</span> 52_;               <span class="hljs-comment">// ç»“å°¾</span>
<span class="hljs-type">int</span> <span class="hljs-variable">x4</span> <span class="hljs-operator">=</span> 0_x52;             <span class="hljs-comment">// 0x ä¹‹é—´</span>
<span class="hljs-type">int</span> <span class="hljs-variable">x5</span> <span class="hljs-operator">=</span> 0x_52;             <span class="hljs-comment">// 0x ä¹‹å</span>

<span class="hljs-comment">// âœ… æœ‰æ•ˆ</span>
<span class="hljs-type">int</span> <span class="hljs-variable">x1</span> <span class="hljs-operator">=</span> <span class="hljs-number">5_2</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">x3</span> <span class="hljs-operator">=</span> <span class="hljs-number">5_______2</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">x6</span> <span class="hljs-operator">=</span> <span class="hljs-number">0x5_2</span>;
</code></pre>
<hr/>
<h2 data-id="heading-15">æ•°ç»„</h2>
<p><strong>æ•°ç»„ï¼ˆArrayï¼‰<strong>æ˜¯ä¸€ä¸ªå®¹å™¨å¯¹è±¡ï¼Œä¿å­˜</strong>å›ºå®šæ•°é‡</strong>çš„<strong>å•ä¸€ç±»å‹</strong>çš„å€¼ã€‚æ•°ç»„çš„é•¿åº¦åœ¨åˆ›å»ºæ—¶ç¡®å®šï¼Œä¹‹åä¸å¯æ›´æ”¹ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ç´¢å¼•:    0     1     2     3     4     5     6     7     8     9</span>
      â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
<span class="hljs-section">å€¼:   â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚     â”‚</span>
      â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ç§°ä¸º<strong>å…ƒç´ ï¼ˆElementï¼‰</strong>ï¼Œé€šè¿‡æ•°å­—**ç´¢å¼•ï¼ˆIndexï¼‰**è®¿é—®ã€‚ç´¢å¼•ä» <strong>0</strong> å¼€å§‹ï¼Œå› æ­¤ç¬¬ 9 ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯ 8ã€‚</p>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šæ•°ç»„å°±åƒä¸€æ’å‚¨ç‰©æŸœï¼Œæ¯ä¸ªæŸœå­éƒ½æœ‰ç¼–å·ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œæ¯ä¸ªæŸœå­åªèƒ½æ”¾åŒç±»å‹çš„ä¸œè¥¿ã€‚æŸœå­æ•°é‡åœ¨å»ºé€ æ—¶å°±å›ºå®šäº†ã€‚</p>
<h3 data-id="heading-16">ArrayDemo ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹ç¨‹åºåˆ›å»ºä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œæ”¾å…¥ä¸€äº›å€¼ï¼Œç„¶åæ‰“å°æ¯ä¸ªå€¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å£°æ˜ä¸€ä¸ªæ•´æ•°æ•°ç»„</span>
        <span class="hljs-type">int</span>[] anArray;

        <span class="hljs-comment">// åˆ†é… 10 ä¸ªæ•´æ•°çš„å†…å­˜</span>
        anArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">10</span>];
           
        <span class="hljs-comment">// åˆå§‹åŒ–å…ƒç´ </span>
        anArray[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>;
        anArray[<span class="hljs-number">1</span>] = <span class="hljs-number">200</span>;
        <span class="hljs-comment">// ... ä¾æ­¤ç±»æ¨</span>
        anArray[<span class="hljs-number">9</span>] = <span class="hljs-number">1000</span>;

        System.out.println(<span class="hljs-string">"Element at index 0: "</span> + anArray[<span class="hljs-number">0</span>]);
        System.out.println(<span class="hljs-string">"Element at index 1: "</span> + anArray[<span class="hljs-number">1</span>]);
        <span class="hljs-comment">// ... ä¾æ­¤ç±»æ¨</span>
        System.out.println(<span class="hljs-string">"Element at index 9: "</span> + anArray[<span class="hljs-number">9</span>]);
    }
} 
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Element at index 0:</span> <span class="hljs-number">100</span>
<span class="hljs-attr">Element at index 1:</span> <span class="hljs-number">200</span>
<span class="hljs-string">...</span>
<span class="hljs-attr">Element at index 9:</span> <span class="hljs-number">1000</span>
</code></pre>
</blockquote>
<p>åœ¨å®é™…ç¼–ç¨‹ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨<strong>å¾ªç¯ç»“æ„</strong>éå†æ•°ç»„å…ƒç´ ï¼Œè€Œä¸æ˜¯é€è¡Œç¼–å†™ã€‚</p>
<h3 data-id="heading-17">å£°æ˜æ•°ç»„å˜é‡</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å£°æ˜ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼ˆæ¨èå†™æ³•ï¼‰</span>
<span class="hljs-type">int</span>[] anArray;

<span class="hljs-comment">// å£°æ˜å„ç§ç±»å‹çš„æ•°ç»„</span>
<span class="hljs-type">byte</span>[] anArrayOfBytes;
<span class="hljs-type">short</span>[] anArrayOfShorts;
<span class="hljs-type">long</span>[] anArrayOfLongs;
<span class="hljs-type">float</span>[] anArrayOfFloats;
<span class="hljs-type">double</span>[] anArrayOfDoubles;
<span class="hljs-type">boolean</span>[] anArrayOfBooleans;
<span class="hljs-type">char</span>[] anArrayOfChars;
String[] anArrayOfStrings;
</code></pre>
<p>æ•°ç»„ç±»å‹å†™ä½œ <code>type[]</code>ï¼Œå…¶ä¸­ <code>type</code> æ˜¯å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚æ•°ç»„å¤§å°ä¸æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼ˆæ‰€ä»¥æ–¹æ‹¬å·æ˜¯ç©ºçš„ï¼‰ã€‚å£°æ˜æœ¬èº«<strong>ä¸ä¼šåˆ›å»ºæ•°ç»„</strong>ï¼Œåªæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨è¿™ä¸ªå˜é‡å°†ä¿å­˜æŒ‡å®šç±»å‹çš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¹Ÿå¯ä»¥æŠŠæ–¹æ‹¬å·æ”¾åœ¨å˜é‡ååï¼ˆä¸æ¨èï¼‰</span>
<span class="hljs-type">float</span> anArrayOfFloats[];
</code></pre>
<h3 data-id="heading-18">åˆ›å»ºã€åˆå§‹åŒ–å’Œè®¿é—®æ•°ç»„</h3>
<p><strong>æ–¹å¼ä¸€ï¼šä½¿ç”¨ new è¿ç®—ç¬¦</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆ›å»ºæ•°ç»„</span>
anArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">10</span>];

<span class="hljs-comment">// åˆå§‹åŒ–å…ƒç´ </span>
anArray[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>;
anArray[<span class="hljs-number">1</span>] = <span class="hljs-number">200</span>;
anArray[<span class="hljs-number">2</span>] = <span class="hljs-number">300</span>;

<span class="hljs-comment">// è®¿é—®å…ƒç´ </span>
System.out.println(<span class="hljs-string">"Element at index 0: "</span> + anArray[<span class="hljs-number">0</span>]);
</code></pre>
<p>å¦‚æœç¼ºå°‘åˆ›å»ºè¯­å¥ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ArrayDemo.java:4: Variable anArray may not have been initialized.</span>
</code></pre>
<p><strong>æ–¹å¼äºŒï¼šä½¿ç”¨ç®€å†™è¯­æ³•ï¼ˆæ¨èï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span>[] anArray = { 
    <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>,
    <span class="hljs-number">400</span>, <span class="hljs-number">500</span>, <span class="hljs-number">600</span>, 
    <span class="hljs-number">700</span>, <span class="hljs-number">800</span>, <span class="hljs-number">900</span>, <span class="hljs-number">1000</span>
};
</code></pre>
<p>æ•°ç»„é•¿åº¦ç”±èŠ±æ‹¬å·å†…çš„å€¼çš„æ•°é‡å†³å®šã€‚</p>
<h3 data-id="heading-19">å¤šç»´æ•°ç»„</h3>
<p>ä½¿ç”¨ä¸¤ä¸ªæˆ–æ›´å¤šæ–¹æ‹¬å·å£°æ˜å¤šç»´æ•°ç»„ï¼š</p>
<pre><code class="hljs language-java" lang="java">String[][] names = {
    {<span class="hljs-string">"Mr. "</span>, <span class="hljs-string">"Mrs. "</span>, <span class="hljs-string">"Ms. "</span>},
    {<span class="hljs-string">"Smith"</span>, <span class="hljs-string">"Jones"</span>}
};
<span class="hljs-comment">// Mr. Smith</span>
System.out.println(names[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] + names[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]);
<span class="hljs-comment">// Ms. Jones</span>
System.out.println(names[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>] + names[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]);
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs">Mr. Smith
Ms. Jones
</code></pre>
</blockquote>
<p>åœ¨ Java ä¸­ï¼Œå¤šç»´æ•°ç»„æ˜¯<strong>æ•°ç»„çš„æ•°ç»„</strong>ã€‚ä¸ C æˆ– Fortran ä¸åŒï¼ŒJava çš„å¤šç»´æ•°ç»„å„è¡Œ<strong>é•¿åº¦å¯ä»¥ä¸åŒ</strong>ã€‚</p>
<h3 data-id="heading-20">è·å–æ•°ç»„é•¿åº¦</h3>
<p>ä½¿ç”¨å†…ç½®çš„ <code>length</code> å±æ€§è·å–æ•°ç»„å¤§å°ï¼š</p>
<pre><code class="hljs language-java" lang="java">System.out.println(anArray.length);  <span class="hljs-comment">// è¾“å‡º: 10</span>
</code></pre>
<h3 data-id="heading-21">å¤åˆ¶æ•°ç»„</h3>
<p><code>System</code> ç±»æä¾›äº† <code>arraycopy</code> æ–¹æ³•é«˜æ•ˆåœ°å¤åˆ¶æ•°ç»„æ•°æ®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">arraycopy</span><span class="hljs-params">(Object src, <span class="hljs-type">int</span> srcPos,
                             Object dest, <span class="hljs-type">int</span> destPos, <span class="hljs-type">int</span> length)</span>
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>src</code>ï¼šæºæ•°ç»„</li>
<li><code>srcPos</code>ï¼šæºæ•°ç»„èµ·å§‹ä½ç½®</li>
<li><code>dest</code>ï¼šç›®æ ‡æ•°ç»„</li>
<li><code>destPos</code>ï¼šç›®æ ‡æ•°ç»„èµ·å§‹ä½ç½®</li>
<li><code>length</code>ï¼šå¤åˆ¶çš„å…ƒç´ æ•°é‡</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayCopyDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        String[] copyFrom = {
            <span class="hljs-string">"Affogato"</span>, <span class="hljs-string">"Americano"</span>, <span class="hljs-string">"Cappuccino"</span>, <span class="hljs-string">"Corretto"</span>, <span class="hljs-string">"Cortado"</span>,   
            <span class="hljs-string">"Doppio"</span>, <span class="hljs-string">"Espresso"</span>, <span class="hljs-string">"Frappucino"</span>, <span class="hljs-string">"Freddo"</span>, <span class="hljs-string">"Lungo"</span>, <span class="hljs-string">"Macchiato"</span>,      
            <span class="hljs-string">"Marocchino"</span>, <span class="hljs-string">"Ristretto"</span> };
        
        String[] copyTo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">7</span>];
        System.arraycopy(copyFrom, <span class="hljs-number">2</span>, copyTo, <span class="hljs-number">0</span>, <span class="hljs-number">7</span>);
        <span class="hljs-keyword">for</span> (String coffee : copyTo) {
            System.out.print(coffee + <span class="hljs-string">" "</span>);           
        }
    }
}
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs">Cappuccino Corretto Cortado Doppio Espresso Frappucino Freddo
</code></pre>
</blockquote>
<h3 data-id="heading-22">æ•°ç»„æ“ä½œå·¥å…·ç±»</h3>
<p><code>java.util.Arrays</code> ç±»æä¾›äº†å¸¸ç”¨çš„æ•°ç»„æ“ä½œæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨ copyOfRangeï¼ˆä¸éœ€è¦é¢„å…ˆåˆ›å»ºç›®æ ‡æ•°ç»„ï¼‰</span>
String[] copyTo = java.util.Arrays.copyOfRange(copyFrom, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>);
</code></pre>
<p>æ³¨æ„ï¼š<code>copyOfRange</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯èµ·å§‹ç´¢å¼•ï¼ˆåŒ…å«ï¼‰ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ç»“æŸç´¢å¼•ï¼ˆ<strong>ä¸åŒ…å«</strong>ï¼‰ã€‚</p>
<p><strong>Arrays ç±»å…¶ä»–å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p>





































<table><thead><tr><th>æ–¹æ³•</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>binarySearch</code></td><td>åœ¨å·²æ’åºæ•°ç»„ä¸­äºŒåˆ†æŸ¥æ‰¾</td></tr><tr><td><code>equals</code></td><td>æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰</td></tr><tr><td><code>fill</code></td><td>ç”¨æŒ‡å®šå€¼å¡«å……æ•°ç»„</td></tr><tr><td><code>sort</code></td><td>æ’åºï¼ˆå‡åºï¼‰</td></tr><tr><td><code>parallelSort</code></td><td>å¹¶è¡Œæ’åºï¼ˆJava SE 8+ï¼Œå¤§æ•°ç»„æ›´å¿«ï¼‰</td></tr><tr><td><code>stream</code></td><td>åˆ›å»ºæµï¼ˆJava SE 8+ï¼‰</td></tr><tr><td><code>toString</code></td><td>è½¬ä¸ºå­—ç¬¦ä¸²</td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è½¬ä¸ºå­—ç¬¦ä¸²</span>
System.out.println(java.util.Arrays.toString(copyTo));
<span class="hljs-comment">// è¾“å‡º: [Cappuccino, Corretto, Cortado, Doppio, Espresso, Frappucino, Freddo]</span>

<span class="hljs-comment">// ğŸš€ ä½¿ç”¨ Stream APIï¼ˆJava SE 8+ï¼‰</span>
java.util.Arrays.stream(copyTo).map(coffee -&gt; coffee + <span class="hljs-string">" "</span>).forEach(System.out::print);
</code></pre>
<hr/>
<h2 data-id="heading-23">è¿ç®—ç¬¦</h2>
<p>ç°åœ¨ä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•å£°æ˜å’Œåˆå§‹åŒ–å˜é‡ï¼Œæ¥ä¸‹æ¥å­¦ä¹ å¦‚ä½•<strong>ä½¿ç”¨</strong>å®ƒä»¬ã€‚**è¿ç®—ç¬¦ï¼ˆOperatorï¼‰<strong>æ˜¯å¯¹ä¸€ä¸ªã€ä¸¤ä¸ªæˆ–ä¸‰ä¸ª</strong>æ“ä½œæ•°ï¼ˆOperandï¼‰**æ‰§è¡Œç‰¹å®šæ“ä½œå¹¶è¿”å›ç»“æœçš„ç‰¹æ®Šç¬¦å·ã€‚</p>
<h3 data-id="heading-24">è¿ç®—ç¬¦ä¼˜å…ˆçº§</h3>
<p>ä¸‹è¡¨æŒ‰ä¼˜å…ˆçº§ä»é«˜åˆ°ä½åˆ—å‡ºäº† Java è¿ç®—ç¬¦ã€‚ä¼˜å…ˆçº§é«˜çš„è¿ç®—ç¬¦å…ˆæ±‚å€¼ã€‚åŒä¸€è¡Œçš„è¿ç®—ç¬¦ä¼˜å…ˆçº§ç›¸åŒã€‚</p>





































































<table><thead><tr><th>ç±»åˆ«</th><th>è¿ç®—ç¬¦</th></tr></thead><tbody><tr><td>åç¼€</td><td><code>expr++</code> <code>expr--</code></td></tr><tr><td>ä¸€å…ƒ</td><td><code>++expr</code> <code>--expr</code> <code>+expr</code> <code>-expr</code> <code>~</code> <code>!</code></td></tr><tr><td>ä¹˜é™¤</td><td><code>*</code> <code>/</code> <code>%</code></td></tr><tr><td>åŠ å‡</td><td><code>+</code> <code>-</code></td></tr><tr><td>ç§»ä½</td><td><code>&lt;&lt;</code> <code>&gt;&gt;</code> <code>&gt;&gt;&gt;</code></td></tr><tr><td>å…³ç³»</td><td><code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code> <code>instanceof</code></td></tr><tr><td>ç›¸ç­‰</td><td><code>==</code> <code>!=</code></td></tr><tr><td>æŒ‰ä½ä¸</td><td><code>&amp;</code></td></tr><tr><td>æŒ‰ä½å¼‚æˆ–</td><td><code>^</code></td></tr><tr><td>æŒ‰ä½æˆ–</td><td>`</td><td>`</td></tr><tr><td>é€»è¾‘ä¸</td><td><code>&amp;&amp;</code></td></tr><tr><td>é€»è¾‘æˆ–</td><td>`</td><td/><td>`</td></tr><tr><td>ä¸‰å…ƒ</td><td><code>? :</code></td></tr><tr><td>èµ‹å€¼</td><td><code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>&amp;=</code> <code>^=</code> `</td><td>=<code> </code>&lt;&lt;=<code> </code>&gt;&gt;=<code> </code>&gt;&gt;&gt;=`</td></tr></tbody></table>
<blockquote>
<p>ğŸ“Œ <strong>è¡¥å……è¯´æ˜</strong>ï¼šç›¸åŒä¼˜å…ˆçº§çš„äºŒå…ƒè¿ç®—ç¬¦<strong>ä»å·¦åˆ°å³</strong>æ±‚å€¼ï¼Œèµ‹å€¼è¿ç®—ç¬¦<strong>ä»å³åˆ°å·¦</strong>æ±‚å€¼ã€‚</p>
</blockquote>
<h3 data-id="heading-25">èµ‹å€¼è¿ç®—ç¬¦</h3>
<p>æœ€å¸¸è§çš„è¿ç®—ç¬¦æ˜¯ç®€å•èµ‹å€¼è¿ç®—ç¬¦ <code>=</code>ï¼Œå®ƒå°†å³è¾¹çš„å€¼èµ‹ç»™å·¦è¾¹çš„æ“ä½œæ•°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">cadence</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">speed</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">gear</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
</code></pre>
<p>è¯¥è¿ç®—ç¬¦ä¹Ÿå¯ç”¨äºå¯¹è±¡ï¼Œèµ‹å€¼<strong>å¯¹è±¡å¼•ç”¨</strong>ã€‚</p>
<h3 data-id="heading-26">ç®—æœ¯è¿ç®—ç¬¦</h3>





























<table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>+</code></td><td>åŠ æ³•ï¼ˆä¹Ÿç”¨äºå­—ç¬¦ä¸²è¿æ¥ï¼‰</td></tr><tr><td><code>-</code></td><td>å‡æ³•</td></tr><tr><td><code>*</code></td><td>ä¹˜æ³•</td></tr><tr><td><code>/</code></td><td>é™¤æ³•</td></tr><tr><td><code>%</code></td><td>å–ä½™ï¼ˆæ¨¡è¿ç®—ï¼‰</td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArithmeticDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span> <span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span>;
        System.out.println(<span class="hljs-string">"1 + 2 = "</span> + result);       <span class="hljs-comment">// 3</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">original_result</span> <span class="hljs-operator">=</span> result;

        result = result - <span class="hljs-number">1</span>;
        System.out.println(original_result + <span class="hljs-string">" - 1 = "</span> + result);  <span class="hljs-comment">// 2</span>
        original_result = result;

        result = result * <span class="hljs-number">2</span>;
        System.out.println(original_result + <span class="hljs-string">" * 2 = "</span> + result);  <span class="hljs-comment">// 4</span>
        original_result = result;

        result = result / <span class="hljs-number">2</span>;
        System.out.println(original_result + <span class="hljs-string">" / 2 = "</span> + result);  <span class="hljs-comment">// 2</span>
        original_result = result;

        result = result + <span class="hljs-number">8</span>;
        System.out.println(original_result + <span class="hljs-string">" + 8 = "</span> + result);  <span class="hljs-comment">// 10</span>
        original_result = result;

        result = result % <span class="hljs-number">7</span>;
        System.out.println(original_result + <span class="hljs-string">" % 7 = "</span> + result);  <span class="hljs-comment">// 3</span>
    }
}
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs language-ini" lang="ini">1 + <span class="hljs-attr">2</span> = <span class="hljs-number">3</span>
3 - <span class="hljs-attr">1</span> = <span class="hljs-number">2</span>
2 * <span class="hljs-attr">2</span> = <span class="hljs-number">4</span>
4 / <span class="hljs-attr">2</span> = <span class="hljs-number">2</span>
2 + <span class="hljs-attr">8</span> = <span class="hljs-number">10</span>
10 % <span class="hljs-attr">7</span> = <span class="hljs-number">3</span>
</code></pre>
</blockquote>
<p><strong>å¤åˆèµ‹å€¼è¿ç®—ç¬¦</strong>ï¼š<code>x += 1;</code> ç­‰ä»·äº <code>x = x + 1;</code></p>
<p><strong>å­—ç¬¦ä¸²è¿æ¥</strong>ï¼š<code>+</code> è¿ç®—ç¬¦ä¹Ÿç”¨äºè¿æ¥å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ConcatDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">String</span> <span class="hljs-variable">firstString</span> <span class="hljs-operator">=</span> <span class="hljs-string">"This is"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">secondString</span> <span class="hljs-operator">=</span> <span class="hljs-string">" a concatenated string."</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">thirdString</span> <span class="hljs-operator">=</span> firstString + secondString;
        System.out.println(thirdString);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>This is a concatenated string.</code></p>
<h3 data-id="heading-27">ä¸€å…ƒè¿ç®—ç¬¦</h3>
<p>ä¸€å…ƒè¿ç®—ç¬¦åªéœ€è¦ä¸€ä¸ªæ“ä½œæ•°ï¼š</p>





























<table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>+</code></td><td>ä¸€å…ƒæ­£å·ï¼ˆè¡¨ç¤ºæ­£å€¼ï¼Œé€šå¸¸çœç•¥ï¼‰</td></tr><tr><td><code>-</code></td><td>ä¸€å…ƒè´Ÿå·ï¼ˆå–åï¼‰</td></tr><tr><td><code>++</code></td><td>è‡ªå¢ï¼ˆåŠ  1ï¼‰</td></tr><tr><td><code>--</code></td><td>è‡ªå‡ï¼ˆå‡ 1ï¼‰</td></tr><tr><td><code>!</code></td><td>é€»è¾‘éï¼ˆå–åå¸ƒå°”å€¼ï¼‰</td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UnaryDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> +<span class="hljs-number">1</span>;
        System.out.println(result);   <span class="hljs-comment">// 1</span>

        result--;
        System.out.println(result);   <span class="hljs-comment">// 0</span>

        result++;
        System.out.println(result);   <span class="hljs-comment">// 1</span>

        result = -result;
        System.out.println(result);   <span class="hljs-comment">// -1</span>

        <span class="hljs-type">boolean</span> <span class="hljs-variable">success</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
        System.out.println(success);   <span class="hljs-comment">// false</span>
        System.out.println(!success);  <span class="hljs-comment">// true</span>
    }
}
</code></pre>
<h4 data-id="heading-28">å‰ç¼€ä¸åç¼€çš„åŒºåˆ«</h4>
<p>è‡ªå¢/è‡ªå‡è¿ç®—ç¬¦å¯ä»¥æ”¾åœ¨æ“ä½œæ•°<strong>å‰é¢ï¼ˆå‰ç¼€ï¼‰<strong>æˆ–</strong>åé¢ï¼ˆåç¼€ï¼‰</strong>ã€‚<code>result++</code> å’Œ <code>++result</code> éƒ½ä¼šè®© <code>result</code> åŠ  1ï¼Œä½†å®ƒä»¬çš„<strong>è¿”å›å€¼ä¸åŒ</strong>ï¼š</p>
<ul>
<li><strong>å‰ç¼€</strong> <code>++result</code>ï¼šè¿”å›<strong>å¢åŠ å</strong>çš„å€¼</li>
<li><strong>åç¼€</strong> <code>result++</code>ï¼šè¿”å›<strong>åŸæ¥çš„</strong>å€¼</li>
</ul>
<p>ğŸ¯ <strong>é¢è¯•è€ƒç‚¹</strong></p>
<p><strong>Qï¼š<code>++i</code> å’Œ <code>i++</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PrePostDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;
        i++;
        System.out.println(i);    <span class="hljs-comment">// 4</span>
        ++i;			   
        System.out.println(i);    <span class="hljs-comment">// 5</span>
        System.out.println(++i);  <span class="hljs-comment">// 6ï¼ˆå…ˆåŠ åç”¨ï¼‰</span>
        System.out.println(i++);  <span class="hljs-comment">// 6ï¼ˆå…ˆç”¨ååŠ ï¼‰</span>
        System.out.println(i);    <span class="hljs-comment">// 7</span>
    }
}
</code></pre>
<p>Aï¼šå•ç‹¬ä½¿ç”¨æ—¶æ•ˆæœç›¸åŒã€‚åœ¨è¡¨è¾¾å¼ä¸­ï¼Œ<code>++i</code> å…ˆè‡ªå¢å†è¿”å›æ–°å€¼ï¼Œ<code>i++</code> å…ˆè¿”å›åŸå€¼å†è‡ªå¢ã€‚</p>
<p>âš–ï¸ <strong>å¯¹æ¯”å­¦ä¹ ï¼š++i vs i++</strong></p>




















<table><thead><tr><th>è¡¨è¾¾å¼</th><th>æ“ä½œé¡ºåº</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>++i</code></td><td>å…ˆåŠ  1ï¼Œå†è¿”å›</td><td>æ–°å€¼</td></tr><tr><td><code>i++</code></td><td>å…ˆè¿”å›ï¼Œå†åŠ  1</td><td>åŸå€¼</td></tr></tbody></table>
<h3 data-id="heading-29">ç›¸ç­‰å’Œå…³ç³»è¿ç®—ç¬¦</h3>

































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>==</code></td><td>ç­‰äº</td></tr><tr><td><code>!=</code></td><td>ä¸ç­‰äº</td></tr><tr><td><code>&gt;</code></td><td>å¤§äº</td></tr><tr><td><code>&gt;=</code></td><td>å¤§äºç­‰äº</td></tr><tr><td><code>&lt;</code></td><td>å°äº</td></tr><tr><td><code>&lt;=</code></td><td>å°äºç­‰äº</td></tr></tbody></table>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šæµ‹è¯•ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰æ—¶å¿…é¡»ç”¨ <code>==</code>ï¼Œè€Œä¸æ˜¯ <code>=</code>ï¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ComparisonDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">int</span> <span class="hljs-variable">value1</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">value2</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;
        <span class="hljs-keyword">if</span>(value1 == value2)
            System.out.println(<span class="hljs-string">"value1 == value2"</span>);
        <span class="hljs-keyword">if</span>(value1 != value2)
            System.out.println(<span class="hljs-string">"value1 != value2"</span>);
        <span class="hljs-keyword">if</span>(value1 &gt; value2)
            System.out.println(<span class="hljs-string">"value1 &gt; value2"</span>);
        <span class="hljs-keyword">if</span>(value1 &lt; value2)
            System.out.println(<span class="hljs-string">"value1 &lt; value2"</span>);
        <span class="hljs-keyword">if</span>(value1 &lt;= value2)
            System.out.println(<span class="hljs-string">"value1 &lt;= value2"</span>);
    }
}
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">value1</span> <span class="hljs-type">!=</span> <span class="hljs-string">value2</span>
<span class="hljs-string">value1</span> <span class="hljs-string">&lt;</span> <span class="hljs-string">value2</span>
<span class="hljs-string">value1</span> <span class="hljs-string">&lt;=</span> <span class="hljs-string">value2</span>
</code></pre>
</blockquote>
<p>ğŸ¯ <strong>é¢è¯•è€ƒç‚¹</strong></p>
<p><strong>Qï¼š<code>==</code> å’Œ <code>equals()</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>Aï¼š</p>
<ul>
<li><code>==</code>ï¼šæ¯”è¾ƒåŸºæœ¬ç±»å‹çš„<strong>å€¼</strong>ï¼Œæˆ–æ¯”è¾ƒå¼•ç”¨ç±»å‹çš„<strong>å†…å­˜åœ°å€</strong></li>
<li><code>equals()</code>ï¼šæ¯”è¾ƒå¯¹è±¡çš„<strong>å†…å®¹</strong>ï¼ˆéœ€è¦ç±»æ­£ç¡®é‡å†™è¯¥æ–¹æ³•ï¼‰</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"hello"</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"hello"</span>);
System.out.println(s1 == s2);      <span class="hljs-comment">// falseï¼ˆä¸åŒå¯¹è±¡ï¼‰</span>
System.out.println(s1.equals(s2)); <span class="hljs-comment">// trueï¼ˆå†…å®¹ç›¸åŒï¼‰</span>
</code></pre>
<h3 data-id="heading-30">æ¡ä»¶è¿ç®—ç¬¦</h3>























<table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td>æ¡ä»¶ä¸ï¼ˆçŸ­è·¯ï¼‰</td></tr><tr><td>`</td><td/><td>`</td><td>æ¡ä»¶æˆ–ï¼ˆçŸ­è·¯ï¼‰</td></tr><tr><td><code>? :</code></td><td>ä¸‰å…ƒè¿ç®—ç¬¦</td></tr></tbody></table>
<p><code>&amp;&amp;</code> å’Œ <code>||</code> å…·æœ‰<strong>çŸ­è·¯</strong>è¡Œä¸ºï¼šå¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°å·²ç»èƒ½ç¡®å®šç»“æœï¼Œå°±ä¸ä¼šè®¡ç®—ç¬¬äºŒä¸ªæ“ä½œæ•°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ConditionalDemo1</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">int</span> <span class="hljs-variable">value1</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">value2</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;
        <span class="hljs-keyword">if</span>((value1 == <span class="hljs-number">1</span>) &amp;&amp; (value2 == <span class="hljs-number">2</span>))
            System.out.println(<span class="hljs-string">"value1 is 1 AND value2 is 2"</span>);
        <span class="hljs-keyword">if</span>((value1 == <span class="hljs-number">1</span>) || (value2 == <span class="hljs-number">1</span>))
            System.out.println(<span class="hljs-string">"value1 is 1 OR value2 is 1"</span>);
    }
}
</code></pre>
<p><strong>ä¸‰å…ƒè¿ç®—ç¬¦</strong>æ˜¯ <code>if-then-else</code> çš„ç®€å†™å½¢å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java">result = someCondition ? value1 : value2;
</code></pre>
<p>å«ä¹‰ï¼šå¦‚æœ <code>someCondition</code> ä¸º <code>true</code>ï¼Œå°† <code>value1</code> èµ‹ç»™ <code>result</code>ï¼›å¦åˆ™å°† <code>value2</code> èµ‹ç»™ <code>result</code>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ConditionalDemo2</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">int</span> <span class="hljs-variable">value1</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">value2</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;
        <span class="hljs-type">int</span> result;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">someCondition</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
        result = someCondition ? value1 : value2;
        System.out.println(result);  <span class="hljs-comment">// 1</span>
    }
}
</code></pre>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šä¸‰å…ƒè¿ç®—ç¬¦å°±åƒåšé€‰æ‹©é¢˜ï¼Œæ¡ä»¶ä¸ºçœŸé€‰ Aï¼Œä¸ºå‡é€‰ Bã€‚å½“è¡¨è¾¾å¼ç®€æ´ä¸”æ²¡æœ‰å‰¯ä½œç”¨æ—¶ï¼Œç”¨å®ƒæ¯” <code>if-then-else</code> æ›´ç®€æ´ã€‚</p>
<h3 data-id="heading-31">ç±»å‹æ¯”è¾ƒè¿ç®—ç¬¦ instanceof</h3>
<p><code>instanceof</code> è¿ç®—ç¬¦å°†å¯¹è±¡ä¸æŒ‡å®šç±»å‹è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥æµ‹è¯•å¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€å­ç±»çš„å®ä¾‹ï¼Œæˆ–å®ç°äº†æŸä¸ªæ¥å£çš„ç±»çš„å®ä¾‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">InstanceofDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Parent</span> <span class="hljs-variable">obj1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parent</span>();
        <span class="hljs-type">Parent</span> <span class="hljs-variable">obj2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>();

        System.out.println(<span class="hljs-string">"obj1 instanceof Parent: "</span> + (obj1 <span class="hljs-keyword">instanceof</span> Parent));      <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"obj1 instanceof Child: "</span> + (obj1 <span class="hljs-keyword">instanceof</span> Child));        <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"obj1 instanceof MyInterface: "</span> + (obj1 <span class="hljs-keyword">instanceof</span> MyInterface)); <span class="hljs-comment">// false</span>
        System.out.println(<span class="hljs-string">"obj2 instanceof Parent: "</span> + (obj2 <span class="hljs-keyword">instanceof</span> Parent));      <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"obj2 instanceof Child: "</span> + (obj2 <span class="hljs-keyword">instanceof</span> Child));        <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"obj2 instanceof MyInterface: "</span> + (obj2 <span class="hljs-keyword">instanceof</span> MyInterface)); <span class="hljs-comment">// true</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> {}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Parent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MyInterface</span> {}
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">MyInterface</span> {}
</code></pre>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š<code>null</code> ä¸æ˜¯ä»»ä½•ç±»å‹çš„å®ä¾‹ï¼Œ<code>null instanceof AnyType</code> å§‹ç»ˆè¿”å› <code>false</code>ã€‚</p>
<h3 data-id="heading-32">ä½è¿ç®—å’Œç§»ä½è¿ç®—ç¬¦</h3>
<p>è¿™äº›è¿ç®—ç¬¦å¯¹æ•´æ•°ç±»å‹æ‰§è¡Œä½çº§æ“ä½œï¼Œä½¿ç”¨é¢‘ç‡è¾ƒä½ï¼š</p>






































<table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>~</code></td><td>æŒ‰ä½å–å</td></tr><tr><td><code>&lt;&lt;</code></td><td>æœ‰ç¬¦å·å·¦ç§»</td></tr><tr><td><code>&gt;&gt;</code></td><td>æœ‰ç¬¦å·å³ç§»</td></tr><tr><td><code>&gt;&gt;&gt;</code></td><td>æ— ç¬¦å·å³ç§»</td></tr><tr><td><code>&amp;</code></td><td>æŒ‰ä½ä¸</td></tr><tr><td><code>^</code></td><td>æŒ‰ä½å¼‚æˆ–</td></tr><tr><td>`</td><td>`</td><td>æŒ‰ä½æˆ–</td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BitDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">bitmask</span> <span class="hljs-operator">=</span> <span class="hljs-number">0x000F</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">val</span> <span class="hljs-operator">=</span> <span class="hljs-number">0x2222</span>;
        System.out.println(val &amp; bitmask);  <span class="hljs-comment">// è¾“å‡º: 2</span>
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-33">è¡¨è¾¾å¼ã€è¯­å¥å’Œå—</h2>
<h3 data-id="heading-34">è¡¨è¾¾å¼</h3>
<p><strong>è¡¨è¾¾å¼ï¼ˆExpressionï¼‰<strong>ç”±å˜é‡ã€è¿ç®—ç¬¦å’Œæ–¹æ³•è°ƒç”¨ç»„æˆï¼Œæ±‚å€¼å¾—åˆ°ä¸€ä¸ª</strong>å•ä¸€çš„å€¼</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">cadence</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;              <span class="hljs-comment">// èµ‹å€¼è¡¨è¾¾å¼ï¼Œè¿”å› int</span>
anArray[<span class="hljs-number">0</span>] = <span class="hljs-number">100</span>;             <span class="hljs-comment">// èµ‹å€¼è¡¨è¾¾å¼</span>
System.out.println(<span class="hljs-string">"..."</span>);    <span class="hljs-comment">// æ–¹æ³•è°ƒç”¨è¡¨è¾¾å¼</span>

<span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span> + <span class="hljs-number">2</span>;           <span class="hljs-comment">// result ç°åœ¨æ˜¯ 3</span>
<span class="hljs-keyword">if</span> (value1 == value2)         <span class="hljs-comment">// æ¯”è¾ƒè¡¨è¾¾å¼ï¼Œè¿”å› boolean</span>
</code></pre>
<p>è¡¨è¾¾å¼è¿”å›å€¼çš„æ•°æ®ç±»å‹å–å†³äºè¡¨è¾¾å¼ä¸­ä½¿ç”¨çš„å…ƒç´ ã€‚<code>cadence = 0</code> è¿”å› <code>int</code>ï¼Œå› ä¸ºèµ‹å€¼è¿ç®—ç¬¦è¿”å›ä¸å·¦æ“ä½œæ•°ç›¸åŒç±»å‹çš„å€¼ã€‚</p>
<p><strong>å¤åˆè¡¨è¾¾å¼</strong>å¯ä»¥ç”±å¤šä¸ªå°è¡¨è¾¾å¼ç»„æˆï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">1</span> * <span class="hljs-number">2</span> * <span class="hljs-number">3</span>               <span class="hljs-comment">// ä¹˜æ³•é¡ºåºæ— å…³</span>
x + y / <span class="hljs-number">100</span>             <span class="hljs-comment">// æœ‰æ­§ä¹‰ï¼</span>
(x + y) / <span class="hljs-number">100</span>           <span class="hljs-comment">// æ˜ç¡®ï¼šå…ˆåŠ åé™¤</span>
x + (y / <span class="hljs-number">100</span>)           <span class="hljs-comment">// æ˜ç¡®ï¼šå…ˆé™¤ååŠ ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰</span>
</code></pre>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šç¼–å†™å¤åˆè¡¨è¾¾å¼æ—¶ï¼Œ<strong>å»ºè®®ä½¿ç”¨æ‹¬å·æ˜ç¡®è¿ç®—é¡ºåº</strong>ï¼Œè¿™æ ·ä»£ç æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤ã€‚</p>
<h3 data-id="heading-35">è¯­å¥</h3>
<p>**è¯­å¥ï¼ˆStatementï¼‰**å¤§è‡´ç›¸å½“äºè‡ªç„¶è¯­è¨€ä¸­çš„å¥å­ï¼Œæ„æˆä¸€ä¸ªå®Œæ•´çš„æ‰§è¡Œå•å…ƒã€‚</p>
<p><strong>è¡¨è¾¾å¼è¯­å¥</strong>ï¼šä»¥ä¸‹è¡¨è¾¾å¼åŠ ä¸Šåˆ†å· <code>;</code> å°±æ„æˆè¯­å¥ï¼š</p>
<ul>
<li>èµ‹å€¼è¡¨è¾¾å¼</li>
<li><code>++</code> æˆ– <code>--</code> çš„ä½¿ç”¨</li>
<li>æ–¹æ³•è°ƒç”¨</li>
<li>å¯¹è±¡åˆ›å»ºè¡¨è¾¾å¼</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// èµ‹å€¼è¯­å¥</span>
aValue = <span class="hljs-number">8933.234</span>;
<span class="hljs-comment">// è‡ªå¢è¯­å¥</span>
aValue++;
<span class="hljs-comment">// æ–¹æ³•è°ƒç”¨è¯­å¥</span>
System.out.println(<span class="hljs-string">"Hello World!"</span>);
<span class="hljs-comment">// å¯¹è±¡åˆ›å»ºè¯­å¥</span>
<span class="hljs-type">Bicycle</span> <span class="hljs-variable">myBike</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bicycle</span>();
</code></pre>
<p><strong>å£°æ˜è¯­å¥</strong>ï¼šå£°æ˜å˜é‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å£°æ˜è¯­å¥</span>
<span class="hljs-type">double</span> <span class="hljs-variable">aValue</span> <span class="hljs-operator">=</span> <span class="hljs-number">8933.234</span>;
</code></pre>
<p><strong>æ§åˆ¶æµè¯­å¥</strong>ï¼šæ§åˆ¶è¯­å¥çš„æ‰§è¡Œé¡ºåºï¼Œä¸‹ä¸€èŠ‚è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 data-id="heading-36">å—</h3>
<p>**å—ï¼ˆBlockï¼‰**æ˜¯ä¸€å¯¹èŠ±æ‹¬å· <code>{}</code> ä¹‹é—´çš„é›¶ä¸ªæˆ–å¤šä¸ªè¯­å¥ï¼Œå¯ä»¥ç”¨åœ¨ä»»ä½•å…è®¸å•ä¸ªè¯­å¥çš„åœ°æ–¹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BlockDemo</span> {
     <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
          <span class="hljs-type">boolean</span> <span class="hljs-variable">condition</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
          <span class="hljs-keyword">if</span> (condition) { <span class="hljs-comment">// å— 1 å¼€å§‹</span>
               System.out.println(<span class="hljs-string">"Condition is true."</span>);
          } <span class="hljs-comment">// å— 1 ç»“æŸ</span>
          <span class="hljs-keyword">else</span> { <span class="hljs-comment">// å— 2 å¼€å§‹</span>
               System.out.println(<span class="hljs-string">"Condition is false."</span>);
          } <span class="hljs-comment">// å— 2 ç»“æŸ</span>
     }
}
</code></pre>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šå—å°±åƒä¸€ä¸ªç›’å­ï¼ŒæŠŠç›¸å…³çš„è¯­å¥æ‰“åŒ…åœ¨ä¸€èµ·ã€‚if-else æ¯ä¸ªåˆ†æ”¯éƒ½å¯ä»¥ç”¨ä¸€ä¸ªå—æ¥åŒ…å«å¤šæ¡è¯­å¥ã€‚</p>
<hr/>
<h2 data-id="heading-37">æ§åˆ¶æµè¯­å¥</h2>
<p>æºæ–‡ä»¶ä¸­çš„è¯­å¥é€šå¸¸æŒ‰å‡ºç°é¡ºåºä»ä¸Šåˆ°ä¸‹æ‰§è¡Œã€‚<strong>æ§åˆ¶æµè¯­å¥ï¼ˆControl Flow Statementï¼‰<strong>é€šè¿‡å†³ç­–ã€å¾ªç¯å’Œåˆ†æ”¯æ¥æ‰“ç ´è¿™ç§æµç¨‹ï¼Œä½¿ç¨‹åºèƒ½å¤Ÿ</strong>æœ‰æ¡ä»¶åœ°</strong>æ‰§è¡Œç‰¹å®šä»£ç å—ã€‚</p>
<p>Java æ”¯æŒä»¥ä¸‹æ§åˆ¶æµè¯­å¥ï¼š</p>
<ul>
<li><strong>å†³ç­–è¯­å¥</strong>ï¼š<code>if-then</code>ã€<code>if-then-else</code>ã€<code>switch</code></li>
<li><strong>å¾ªç¯è¯­å¥</strong>ï¼š<code>for</code>ã€<code>while</code>ã€<code>do-while</code></li>
<li><strong>åˆ†æ”¯è¯­å¥</strong>ï¼š<code>break</code>ã€<code>continue</code>ã€<code>return</code></li>
</ul>
<h3 data-id="heading-38">if-then å’Œ if-then-else è¯­å¥</h3>
<h4 data-id="heading-39">if-then è¯­å¥</h4>
<p><code>if-then</code> è¯­å¥æ˜¯æœ€åŸºæœ¬çš„æ§åˆ¶æµè¯­å¥ã€‚å®ƒå‘Šè¯‰ç¨‹åº<strong>ä»…å½“</strong>ç‰¹å®šæ¡ä»¶ä¸º <code>true</code> æ—¶æ‰æ‰§è¡ŒæŸæ®µä»£ç ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">applyBrakes</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// "if" å­å¥ï¼šè‡ªè¡Œè½¦å¿…é¡»åœ¨ç§»åŠ¨</span>
    <span class="hljs-keyword">if</span> (isMoving) { 
        <span class="hljs-comment">// "then" å­å¥ï¼šå‡é€Ÿ</span>
        currentSpeed--;
    }
}
</code></pre>
<p>å¦‚æœæ¡ä»¶ä¸º <code>false</code>ï¼Œæ§åˆ¶è·³åˆ° <code>if-then</code> è¯­å¥ä¹‹åã€‚</p>
<p>å¦‚æœ "then" å­å¥åªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å·ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">applyBrakes</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (isMoving)
        currentSpeed--;
}
</code></pre>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šçœç•¥èŠ±æ‹¬å·ä¼šä½¿ä»£ç æ›´è„†å¼±ã€‚å¦‚æœåæ¥æ·»åŠ ç¬¬äºŒæ¡è¯­å¥ï¼Œå¾ˆå®¹æ˜“å¿˜è®°åŠ èŠ±æ‹¬å·ã€‚ç¼–è¯‘å™¨ä¸ä¼šæ•è·è¿™ç§é”™è¯¯ï¼Œä½ åªä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€‚<strong>å»ºè®®å§‹ç»ˆä½¿ç”¨èŠ±æ‹¬å·</strong>ã€‚</p>
<h4 data-id="heading-40">if-then-else è¯­å¥</h4>
<p>å½“ "if" æ¡ä»¶ä¸º <code>false</code> æ—¶ï¼Œ<code>if-then-else</code> è¯­å¥æä¾›<strong>å¤‡é€‰æ‰§è¡Œè·¯å¾„</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">applyBrakes</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (isMoving) {
        currentSpeed--;
    } <span class="hljs-keyword">else</span> {
        System.err.println(<span class="hljs-string">"The bicycle has already stopped!"</span>);
    } 
}
</code></pre>
<p><strong>å¤šé‡æ¡ä»¶åˆ¤æ–­</strong>ï¼ˆelse ifï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IfElseDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">testscore</span> <span class="hljs-operator">=</span> <span class="hljs-number">76</span>;
        <span class="hljs-type">char</span> grade;

        <span class="hljs-keyword">if</span> (testscore &gt;= <span class="hljs-number">90</span>) {
            grade = <span class="hljs-string">'A'</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (testscore &gt;= <span class="hljs-number">80</span>) {
            grade = <span class="hljs-string">'B'</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (testscore &gt;= <span class="hljs-number">70</span>) {
            grade = <span class="hljs-string">'C'</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (testscore &gt;= <span class="hljs-number">60</span>) {
            grade = <span class="hljs-string">'D'</span>;
        } <span class="hljs-keyword">else</span> {
            grade = <span class="hljs-string">'F'</span>;
        }
        System.out.println(<span class="hljs-string">"Grade = "</span> + grade);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>Grade = C</code></p>
<p>æ³¨æ„ï¼šè™½ç„¶ 76 åŒæ—¶æ»¡è¶³ <code>&gt;= 70</code> å’Œ <code>&gt;= 60</code>ï¼Œä½†ä¸€æ—¦æ¡ä»¶æ»¡è¶³ï¼Œç›¸åº”è¯­å¥æ‰§è¡Œåï¼Œ<strong>å‰©ä½™æ¡ä»¶ä¸å†æ£€æŸ¥</strong>ã€‚</p>
<h3 data-id="heading-41">switch è¯­å¥</h3>
<p>ä¸ <code>if-then</code> å’Œ <code>if-then-else</code> ä¸åŒï¼Œ<code>switch</code> è¯­å¥å¯ä»¥æœ‰<strong>å¤šä¸ªå¯èƒ½çš„æ‰§è¡Œè·¯å¾„</strong>ã€‚</p>
<p><code>switch</code> é€‚ç”¨äºä»¥ä¸‹ç±»å‹ï¼š</p>
<ul>
<li>åŸºæœ¬ç±»å‹ï¼š<code>byte</code>ã€<code>short</code>ã€<code>char</code>ã€<code>int</code></li>
<li>æšä¸¾ç±»å‹</li>
<li><code>String</code>ï¼ˆJava SE 7+ï¼‰</li>
<li>åŒ…è£…ç±»ï¼š<code>Character</code>ã€<code>Byte</code>ã€<code>Short</code>ã€<code>Integer</code></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwitchDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">month</span> <span class="hljs-operator">=</span> <span class="hljs-number">8</span>;
        String monthString;
        <span class="hljs-keyword">switch</span> (month) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:  monthString = <span class="hljs-string">"January"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:  monthString = <span class="hljs-string">"February"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:  monthString = <span class="hljs-string">"March"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:  monthString = <span class="hljs-string">"April"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:  monthString = <span class="hljs-string">"May"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:  monthString = <span class="hljs-string">"June"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:  monthString = <span class="hljs-string">"July"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:  monthString = <span class="hljs-string">"August"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:  monthString = <span class="hljs-string">"September"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: monthString = <span class="hljs-string">"October"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>: monthString = <span class="hljs-string">"November"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>: monthString = <span class="hljs-string">"December"</span>;
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>: monthString = <span class="hljs-string">"Invalid month"</span>;
                     <span class="hljs-keyword">break</span>;
        }
        System.out.println(monthString);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>August</code></p>
<p>âš–ï¸ <strong>å¯¹æ¯”å­¦ä¹ ï¼šif-else vs switch</strong></p>

























<table><thead><tr><th>ç‰¹æ€§</th><th>if-else</th><th>switch</th></tr></thead><tbody><tr><td>æ¡ä»¶ç±»å‹</td><td>ä»»æ„å¸ƒå°”è¡¨è¾¾å¼ã€èŒƒå›´</td><td>å•ä¸ªå€¼ï¼ˆæ•´æ•°ã€æšä¸¾ã€Stringï¼‰</td></tr><tr><td>å¯è¯»æ€§</td><td>æ¡ä»¶å°‘æ—¶æ¸…æ™°</td><td>å¤šä¸ªç­‰å€¼åˆ¤æ–­æ—¶æ›´æ¸…æ™°</td></tr><tr><td>æ€§èƒ½</td><td>é¡ºåºåˆ¤æ–­</td><td>å¯èƒ½ä½¿ç”¨è·³è½¬è¡¨ä¼˜åŒ–</td></tr></tbody></table>
<h4 data-id="heading-42">break è¯­å¥çš„é‡è¦æ€§</h4>
<p>æ¯ä¸ª <code>break</code> è¯­å¥ç»ˆæ­¢å½“å‰ <code>switch</code> è¯­å¥ã€‚<strong>æ²¡æœ‰ <code>break</code>ï¼Œè¯­å¥ä¼š"ç©¿é€ï¼ˆFall Throughï¼‰"</strong>â€”â€”ç»§ç»­æ‰§è¡Œåé¢æ‰€æœ‰ <code>case</code> çš„è¯­å¥ï¼Œç›´åˆ°é‡åˆ° <code>break</code>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwitchDemoFallThrough</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        java.util.ArrayList&lt;String&gt; futureMonths = <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.ArrayList&lt;String&gt;();
        <span class="hljs-type">int</span> <span class="hljs-variable">month</span> <span class="hljs-operator">=</span> <span class="hljs-number">8</span>;

        <span class="hljs-keyword">switch</span> (month) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:  futureMonths.add(<span class="hljs-string">"January"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:  futureMonths.add(<span class="hljs-string">"February"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:  futureMonths.add(<span class="hljs-string">"March"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:  futureMonths.add(<span class="hljs-string">"April"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:  futureMonths.add(<span class="hljs-string">"May"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:  futureMonths.add(<span class="hljs-string">"June"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:  futureMonths.add(<span class="hljs-string">"July"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:  futureMonths.add(<span class="hljs-string">"August"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:  futureMonths.add(<span class="hljs-string">"September"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>: futureMonths.add(<span class="hljs-string">"October"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>: futureMonths.add(<span class="hljs-string">"November"</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>: futureMonths.add(<span class="hljs-string">"December"</span>);
                     <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>: <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">if</span> (futureMonths.isEmpty()) {
            System.out.println(<span class="hljs-string">"Invalid month number"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (String monthName : futureMonths) {
               System.out.println(monthName);
            }
        }
    }
}
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs">August
September
October
November
December
</code></pre>
</blockquote>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼šç©¿é€å°±åƒå¤šç±³è¯ºéª¨ç‰Œï¼Œä¸€æ—¦è§¦å‘ï¼Œåé¢çš„éƒ½ä¼šå€’ä¸‹ï¼Œç›´åˆ°é‡åˆ° <code>break</code> è¿™ä¸ª"æŒ¡æ¿"ã€‚</p>
<h4 data-id="heading-43">å¤šä¸ª case å…±äº«ä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SwitchDemo2</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">month</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">year</span> <span class="hljs-operator">=</span> <span class="hljs-number">2000</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">numDays</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

        <span class="hljs-keyword">switch</span> (month) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">12</span>:
                numDays = <span class="hljs-number">31</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>: <span class="hljs-keyword">case</span> <span class="hljs-number">11</span>:
                numDays = <span class="hljs-number">30</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                <span class="hljs-keyword">if</span> (((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>) &amp;&amp; !(year % <span class="hljs-number">100</span> == <span class="hljs-number">0</span>)) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>))
                    numDays = <span class="hljs-number">29</span>;
                <span class="hljs-keyword">else</span>
                    numDays = <span class="hljs-number">28</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                System.out.println(<span class="hljs-string">"Invalid month."</span>);
                <span class="hljs-keyword">break</span>;
        }
        System.out.println(<span class="hljs-string">"Number of Days = "</span> + numDays);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>Number of Days = 29</code></p>
<h4 data-id="heading-44">åœ¨ switch ä¸­ä½¿ç”¨ Stringï¼ˆJava SE 7+ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringSwitchDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMonthNumber</span><span class="hljs-params">(String month)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">monthNumber</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (month == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> monthNumber;
        }

        <span class="hljs-keyword">switch</span> (month.toLowerCase()) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"january"</span>:
                monthNumber = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"february"</span>:
                monthNumber = <span class="hljs-number">2</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-comment">// ... å…¶ä»–æœˆä»½</span>
            <span class="hljs-keyword">case</span> <span class="hljs-string">"august"</span>:
                monthNumber = <span class="hljs-number">8</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-comment">// ...</span>
            <span class="hljs-keyword">default</span>: 
                monthNumber = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> monthNumber;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">month</span> <span class="hljs-operator">=</span> <span class="hljs-string">"August"</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">returnedMonthNumber</span> <span class="hljs-operator">=</span> StringSwitchDemo.getMonthNumber(month);
        <span class="hljs-keyword">if</span> (returnedMonthNumber == <span class="hljs-number">0</span>) {
            System.out.println(<span class="hljs-string">"Invalid month"</span>);
        } <span class="hljs-keyword">else</span> {
            System.out.println(returnedMonthNumber);
        }
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>8</code></p>
<p><code>switch</code> è¡¨è¾¾å¼ä¸­çš„ <code>String</code> ä½¿ç”¨ <code>String.equals</code> æ–¹æ³•ä¸æ¯ä¸ª <code>case</code> æ ‡ç­¾æ¯”è¾ƒã€‚</p>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šç¡®ä¿ <code>switch</code> è¡¨è¾¾å¼ä¸ä¸º <code>null</code>ï¼Œå¦åˆ™ä¼šæŠ›å‡º <code>NullPointerException</code>ã€‚</p>
<h3 data-id="heading-45">while å’Œ do-while è¯­å¥</h3>
<h4 data-id="heading-46">while è¯­å¥</h4>
<p><code>while</code> è¯­å¥åœ¨æ¡ä»¶ä¸º <code>true</code> æ—¶æŒç»­æ‰§è¡Œè¯­å¥å—ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">while</span> (expression) {
     statement(s)
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">WhileDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">while</span> (count &lt; <span class="hljs-number">11</span>) {
            System.out.println(<span class="hljs-string">"Count is: "</span> + count);
            count++;
        }
    }
}
</code></pre>
<p><strong>æ— é™å¾ªç¯</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-comment">// ä»£ç </span>
}
</code></pre>
<h4 data-id="heading-47">do-while è¯­å¥</h4>
<p><code>do-while</code> è¯­å¥åœ¨å¾ªç¯åº•éƒ¨æ±‚å€¼è¡¨è¾¾å¼ï¼Œå› æ­¤<strong>å¾ªç¯ä½“è‡³å°‘æ‰§è¡Œä¸€æ¬¡</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">do</span> {
     statement(s)
} <span class="hljs-keyword">while</span> (expression);
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DoWhileDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">do</span> {
            System.out.println(<span class="hljs-string">"Count is: "</span> + count);
            count++;
        } <span class="hljs-keyword">while</span> (count &lt; <span class="hljs-number">11</span>);
    }
}
</code></pre>
<p>âš–ï¸ <strong>å¯¹æ¯”å­¦ä¹ ï¼šwhile vs do-while</strong></p>

























<table><thead><tr><th>ç‰¹æ€§</th><th>while</th><th>do-while</th></tr></thead><tbody><tr><td>æ¡ä»¶æ£€æŸ¥ä½ç½®</td><td>å¾ªç¯<strong>å‰</strong></td><td>å¾ªç¯<strong>å</strong></td></tr><tr><td>æœ€å°‘æ‰§è¡Œæ¬¡æ•°</td><td>0 æ¬¡</td><td><strong>1 æ¬¡</strong></td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å¯èƒ½ä¸éœ€è¦æ‰§è¡Œ</td><td>è‡³å°‘éœ€è¦æ‰§è¡Œä¸€æ¬¡</td></tr></tbody></table>
<h3 data-id="heading-48">for è¯­å¥</h3>
<p><code>for</code> è¯­å¥æä¾›äº†ä¸€ç§ç´§å‡‘çš„æ–¹å¼æ¥è¿­ä»£ä¸€ç³»åˆ—å€¼ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">for</span> (initialization; termination; increment) {
    statement(s)
}
</code></pre>
<ul>
<li><strong>initialization</strong>ï¼šåˆå§‹åŒ–è¡¨è¾¾å¼ï¼Œå¾ªç¯å¼€å§‹æ—¶æ‰§è¡Œä¸€æ¬¡</li>
<li><strong>termination</strong>ï¼šç»ˆæ­¢è¡¨è¾¾å¼ï¼Œä¸º <code>false</code> æ—¶å¾ªç¯ç»ˆæ­¢</li>
<li><strong>increment</strong>ï¼šæ¯æ¬¡è¿­ä»£åæ‰§è¡Œï¼Œå¯ä»¥é€’å¢æˆ–é€’å‡</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ForDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
         <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">11</span>; i++){
              System.out.println(<span class="hljs-string">"Count is: "</span> + i);
         }
    }
}
</code></pre>
<blockquote>
<p>â–¶ï¸ <strong>è¿è¡Œç»“æœ</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">Count <span class="hljs-keyword">is</span>: <span class="hljs-number">1</span>
Count <span class="hljs-keyword">is</span>: <span class="hljs-number">2</span>
...
Count <span class="hljs-keyword">is</span>: <span class="hljs-number">10</span>
</code></pre>
</blockquote>
<p>ğŸ’¡ <strong>é€šä¿—ç†è§£</strong>ï¼š<code>for</code> å¾ªç¯å°±åƒè®¾å®šå¥½çš„é—¹é’Ÿï¼Œä½ å‘Šè¯‰å®ƒä»å‡ ç‚¹å¼€å§‹ï¼ˆåˆå§‹åŒ–ï¼‰ã€åˆ°å‡ ç‚¹ç»“æŸï¼ˆç»ˆæ­¢æ¡ä»¶ï¼‰ã€æ¯æ¬¡èµ°å¤šå°‘ï¼ˆå¢é‡ï¼‰ï¼Œå®ƒå°±è‡ªåŠ¨æŒ‰è§„å¾‹æ‰§è¡Œã€‚</p>
<p><strong>å˜é‡ä½œç”¨åŸŸ</strong>ï¼šåœ¨åˆå§‹åŒ–è¡¨è¾¾å¼ä¸­å£°æ˜çš„å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»å£°æ˜å¤„å»¶ä¼¸åˆ° <code>for</code> è¯­å¥ç»“æŸã€‚å¦‚æœå¾ªç¯å¤–ä¸éœ€è¦è¯¥å˜é‡ï¼Œæœ€å¥½åœ¨åˆå§‹åŒ–è¡¨è¾¾å¼ä¸­å£°æ˜å®ƒã€‚</p>
<p><strong>æ— é™å¾ªç¯</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">for</span> ( ; ; ) {
    <span class="hljs-comment">// ä»£ç </span>
}
</code></pre>
<h4 data-id="heading-49">å¢å¼º for è¯­å¥ï¼ˆfor-eachï¼‰</h4>
<p>ä¸“ä¸ºéå†é›†åˆå’Œæ•°ç»„è®¾è®¡çš„ç®€æ´å½¢å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EnhancedForDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
         <span class="hljs-type">int</span>[] numbers = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>};
         <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> item : numbers) {
             System.out.println(<span class="hljs-string">"Count is: "</span> + item);
         }
    }
}
</code></pre>
<p><strong>å»ºè®®å°½å¯èƒ½ä½¿ç”¨å¢å¼º for å¾ªç¯</strong>ï¼Œä»£ç æ›´ç®€æ´æ˜“è¯»ã€‚</p>
<h3 data-id="heading-50">åˆ†æ”¯è¯­å¥</h3>
<h4 data-id="heading-51">break è¯­å¥</h4>
<p><code>break</code> æœ‰ä¸¤ç§å½¢å¼ï¼š<strong>æ— æ ‡ç­¾</strong>å’Œ<strong>æœ‰æ ‡ç­¾</strong>ã€‚</p>
<p><strong>æ— æ ‡ç­¾ break</strong>ï¼šç»ˆæ­¢æœ€å†…å±‚çš„ <code>switch</code>ã€<code>for</code>ã€<code>while</code> æˆ– <code>do-while</code> è¯­å¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BreakDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span>[] arrayOfInts = { <span class="hljs-number">32</span>, <span class="hljs-number">87</span>, <span class="hljs-number">3</span>, <span class="hljs-number">589</span>, <span class="hljs-number">12</span>, <span class="hljs-number">1076</span>, <span class="hljs-number">2000</span>, <span class="hljs-number">8</span>, <span class="hljs-number">622</span>, <span class="hljs-number">127</span> };
        <span class="hljs-type">int</span> <span class="hljs-variable">searchfor</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;

        <span class="hljs-type">int</span> i;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">foundIt</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arrayOfInts.length; i++) {
            <span class="hljs-keyword">if</span> (arrayOfInts[i] == searchfor) {
                foundIt = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// æ‰¾åˆ°åé€€å‡ºå¾ªç¯</span>
            }
        }

        <span class="hljs-keyword">if</span> (foundIt) {
            System.out.println(<span class="hljs-string">"Found "</span> + searchfor + <span class="hljs-string">" at index "</span> + i);
        } <span class="hljs-keyword">else</span> {
            System.out.println(searchfor + <span class="hljs-string">" not in the array"</span>);
        }
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>Found 12 at index 4</code></p>
<p><strong>æœ‰æ ‡ç­¾ break</strong>ï¼šç»ˆæ­¢å¸¦æœ‰æŒ‡å®šæ ‡ç­¾çš„å¤–å±‚è¯­å¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BreakWithLabelDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span>[][] arrayOfInts = { 
            { <span class="hljs-number">32</span>, <span class="hljs-number">87</span>, <span class="hljs-number">3</span>, <span class="hljs-number">589</span> },
            { <span class="hljs-number">12</span>, <span class="hljs-number">1076</span>, <span class="hljs-number">2000</span>, <span class="hljs-number">8</span> },
            { <span class="hljs-number">622</span>, <span class="hljs-number">127</span>, <span class="hljs-number">77</span>, <span class="hljs-number">955</span> }
        };
        <span class="hljs-type">int</span> <span class="hljs-variable">searchfor</span> <span class="hljs-operator">=</span> <span class="hljs-number">12</span>;

        <span class="hljs-type">int</span> i;
        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">foundIt</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

    search:  <span class="hljs-comment">// æ ‡ç­¾</span>
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arrayOfInts.length; i++) {
            <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; arrayOfInts[i].length; j++) {
                <span class="hljs-keyword">if</span> (arrayOfInts[i][j] == searchfor) {
                    foundIt = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span> search;  <span class="hljs-comment">// è·³å‡ºå¤–å±‚å¾ªç¯</span>
                }
            }
        }

        <span class="hljs-keyword">if</span> (foundIt) {
            System.out.println(<span class="hljs-string">"Found "</span> + searchfor + <span class="hljs-string">" at "</span> + i + <span class="hljs-string">", "</span> + j);
        } <span class="hljs-keyword">else</span> {
            System.out.println(searchfor + <span class="hljs-string">" not in the array"</span>);
        }
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>Found 12 at 1, 0</code></p>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼š<code>break</code> ç»ˆæ­¢å¸¦æ ‡ç­¾çš„è¯­å¥ï¼Œæ§åˆ¶æµè½¬ç§»åˆ°è¯¥è¯­å¥ä¹‹åçš„è¯­å¥ï¼Œ<strong>ä¸æ˜¯</strong>è½¬ç§»åˆ°æ ‡ç­¾å¤„ã€‚</p>
<h4 data-id="heading-52">continue è¯­å¥</h4>
<p><code>continue</code> è·³è¿‡å½“å‰è¿­ä»£çš„å‰©ä½™éƒ¨åˆ†ã€‚</p>
<p><strong>æ— æ ‡ç­¾ continue</strong>ï¼šè·³åˆ°æœ€å†…å±‚å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ContinueDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">searchMe</span> <span class="hljs-operator">=</span> <span class="hljs-string">"peter piper picked a peck of pickled peppers"</span>;
        <span class="hljs-type">int</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> searchMe.length();
        <span class="hljs-type">int</span> <span class="hljs-variable">numPs</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; max; i++) {
            <span class="hljs-keyword">if</span> (searchMe.charAt(i) != <span class="hljs-string">'p'</span>)
                <span class="hljs-keyword">continue</span>;  <span class="hljs-comment">// ä¸æ˜¯ 'p'ï¼Œè·³è¿‡</span>
            numPs++;
        }
        System.out.println(<span class="hljs-string">"Found "</span> + numPs + <span class="hljs-string">" p's in the string."</span>);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>Found 9 p's in the string.</code></p>
<p><strong>æœ‰æ ‡ç­¾ continue</strong>ï¼šè·³è¿‡å¸¦æ ‡ç­¾çš„å¤–å±‚å¾ªç¯çš„å½“å‰è¿­ä»£ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ContinueWithLabelDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">searchMe</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Look for a substring in me"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">substring</span> <span class="hljs-operator">=</span> <span class="hljs-string">"sub"</span>;
        <span class="hljs-type">boolean</span> <span class="hljs-variable">foundIt</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;

        <span class="hljs-type">int</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> searchMe.length() - substring.length();

    test:  <span class="hljs-comment">// æ ‡ç­¾</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= max; i++) {
            <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> substring.length();
            <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i;
            <span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (n-- != <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">if</span> (searchMe.charAt(j++) != substring.charAt(k++)) {
                    <span class="hljs-keyword">continue</span> test;  <span class="hljs-comment">// ä¸åŒ¹é…ï¼Œå°è¯•ä¸‹ä¸€ä¸ªä½ç½®</span>
                }
            }
            foundIt = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span> test;
        }
        System.out.println(foundIt ? <span class="hljs-string">"Found it"</span> : <span class="hljs-string">"Didn't find it"</span>);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š<code>Found it</code></p>
<p>âš–ï¸ <strong>å¯¹æ¯”å­¦ä¹ ï¼šbreak vs continue</strong></p>




















<table><thead><tr><th>è¯­å¥</th><th>ä½œç”¨</th><th>æœ‰æ ‡ç­¾ç‰ˆæœ¬</th></tr></thead><tbody><tr><td><code>break</code></td><td>å®Œå…¨é€€å‡ºå¾ªç¯</td><td>é€€å‡ºæŒ‡å®šæ ‡ç­¾çš„å¤–å±‚å¾ªç¯</td></tr><tr><td><code>continue</code></td><td>è·³è¿‡æœ¬æ¬¡è¿­ä»£ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡</td><td>è·³è¿‡å¤–å±‚å¾ªç¯çš„æœ¬æ¬¡è¿­ä»£</td></tr></tbody></table>
<h4 data-id="heading-53">return è¯­å¥</h4>
<p><code>return</code> è¯­å¥é€€å‡ºå½“å‰æ–¹æ³•ï¼Œæ§åˆ¶æµè¿”å›åˆ°æ–¹æ³•è¢«è°ƒç”¨çš„åœ°æ–¹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¿”å›å€¼</span>
<span class="hljs-keyword">return</span> ++count;

<span class="hljs-comment">// æ— è¿”å›å€¼ï¼ˆvoid æ–¹æ³•ï¼‰</span>
<span class="hljs-keyword">return</span>;
</code></pre>
<p>è¿”å›å€¼çš„æ•°æ®ç±»å‹å¿…é¡»ä¸æ–¹æ³•å£°æ˜çš„è¿”å›ç±»å‹åŒ¹é…ã€‚</p>
<hr/>
<blockquote>
<p>ğŸ“‘ <strong>é€ŸæŸ¥æ‰‹å†Œ</strong></p>
</blockquote>
<p><strong>å˜é‡ç±»å‹</strong></p>






























<table><thead><tr><th>ç±»å‹</th><th>ä½ç½®</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>å®ä¾‹å˜é‡</td><td>ç±»ä¸­ï¼Œæ—  static</td><td>æ¯ä¸ªå¯¹è±¡ä¸€ä»½</td></tr><tr><td>ç±»å˜é‡</td><td>ç±»ä¸­ï¼Œæœ‰ static</td><td>æ‰€æœ‰å¯¹è±¡å…±äº«ä¸€ä»½</td></tr><tr><td>å±€éƒ¨å˜é‡</td><td>æ–¹æ³•ä¸­</td><td>æ–¹æ³•ç»“æŸå³é”€æ¯ï¼Œæ— é»˜è®¤å€¼</td></tr><tr><td>å‚æ•°</td><td>æ–¹æ³•ç­¾å</td><td>è°ƒç”¨æ—¶ä¼ å…¥</td></tr></tbody></table>
<p><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong></p>



























































<table><thead><tr><th>ç±»å‹</th><th>ä½æ•°</th><th>èŒƒå›´</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>byte</td><td>8</td><td>-128 ~ 127</td><td>0</td></tr><tr><td>short</td><td>16</td><td>-32768 ~ 32767</td><td>0</td></tr><tr><td>int</td><td>32</td><td>-2Â³Â¹ ~ 2Â³Â¹-1</td><td>0</td></tr><tr><td>long</td><td>64</td><td>-2â¶Â³ ~ 2â¶Â³-1</td><td>0L</td></tr><tr><td>float</td><td>32</td><td>IEEE 754</td><td>0.0f</td></tr><tr><td>double</td><td>64</td><td>IEEE 754</td><td>0.0d</td></tr><tr><td>boolean</td><td>-</td><td>true/false</td><td>false</td></tr><tr><td>char</td><td>16</td><td>0 ~ 65535</td><td>'\u0000'</td></tr></tbody></table>
<p><strong>æ§åˆ¶æµè¯­å¥</strong></p>

























<table><thead><tr><th>ç±»å‹</th><th>è¯­å¥</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>å†³ç­–</td><td>if-then, if-then-else, switch</td><td>æ¡ä»¶æ‰§è¡Œ</td></tr><tr><td>å¾ªç¯</td><td>for, while, do-while</td><td>é‡å¤æ‰§è¡Œ</td></tr><tr><td>åˆ†æ”¯</td><td>break, continue, return</td><td>è·³è½¬æ§åˆ¶</td></tr></tbody></table>
<hr/>
<blockquote>
<p>âœï¸ <strong>æ€è€ƒé¢˜</strong></p>
<ol>
<li><code>int[] arr</code> å’Œ <code>int arr[]</code> æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå“ªç§å†™æ³•æ›´æ¨èï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆ <code>float</code> å’Œ <code>double</code> ä¸èƒ½ç”¨äºè´§å¸è®¡ç®—ï¼Ÿåº”è¯¥ç”¨ä»€ä¹ˆæ›¿ä»£ï¼Ÿ</li>
<li><code>switch</code> è¯­å¥ä¸­å¦‚æœæ¼å†™ <code>break</code> ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</li>
<li><code>while(true)</code> å’Œ <code>for(;;)</code> å“ªç§æ— é™å¾ªç¯å†™æ³•æ›´å¥½ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li>
<li>ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¸¦æ ‡ç­¾çš„ <code>break</code> æˆ– <code>continue</code>ï¼Ÿ</li>
</ol>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®æœåŠ¡ç®¡ç† | æœåŠ¡æ³¨å†Œä¸å‘ç°]]></title>    <link>https://juejin.cn/post/7602401081265979428</link>    <guid>https://juejin.cn/post/7602401081265979428</guid>    <pubDate>2026-02-03T12:41:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602401081265979428" data-draft-id="7602411521071251475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®æœåŠ¡ç®¡ç† | æœåŠ¡æ³¨å†Œä¸å‘ç°"/> <meta itemprop="keywords" content="å¾®æœåŠ¡,åç«¯"/> <meta itemprop="datePublished" content="2026-02-03T12:41:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç è´¢åŒè¡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/3883950915978728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®æœåŠ¡ç®¡ç† | æœåŠ¡æ³¨å†Œä¸å‘ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3883950915978728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç è´¢åŒè¡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:41:56.000Z" title="Tue Feb 03 2026 12:41:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€å¥è¯</h2>
<p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡å¾€å¾€æ˜¯ç‹¬ç«‹è¿è¡Œçš„ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•äº¤æµä¹Ÿæ˜¯æœ‰å¾ˆå¤šå¯ä»¥æŒ–æ˜çš„ç‚¹ã€‚è®©æœåŠ¡ä¹‹é—´è‡ªåŠ¨â€œæ‰¾åˆ°å½¼æ­¤â€ï¼Œå¹¶å»ºç«‹è¿æ¥ï¼Œä¸”åœ¨æœåŠ¡å¢åˆ å˜åŒ–æ—¶ï¼Œè¿æ¥å…³ç³»èƒ½è‡ªåŠ¨è°ƒæ•´ï¼Œè¿™å°±æ˜¯æœåŠ¡æ³¨å†Œå’Œå‘ç°è¦åšçš„äº‹æƒ…</strong>ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦æœåŠ¡å‘ç°</h2>
<p><strong>ä¾‹å­ 1ï¼šç½‘å…³æ‰¾ç™»å½•æœ</strong></p>
<ul>
<li>ç™»å½•æœå¯èƒ½å¤šå°ï¼Œåœ°å€ä¹Ÿå¯èƒ½å˜ã€‚</li>
<li>å¦‚æœé é…ç½®æ–‡ä»¶å†™æ­»ï¼Œè¿ç»´ä¸€æ”¹åœ°å€å°±ä¼šå‡ºé”™ã€‚</li>
<li>æœåŠ¡å‘ç°å°±åƒâ€œè‡ªåŠ¨é€šè®¯å½•â€ï¼Œç™»å½•æœä¸Šçº¿å°±è‡ªåŠ¨åŠ å…¥ï¼Œæ‰çº¿å°±è‡ªåŠ¨ç§»é™¤ã€‚</li>
</ul>
<h2 data-id="heading-2">æœåŠ¡å‘ç°è¦åšåˆ°ä»€ä¹ˆ</h2>
<p>ç®€å•ç†è§£å°±æ˜¯ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li><strong>æ³¨å†Œ</strong>ï¼šæœåŠ¡å®ä¾‹å°†è‡ªèº«èŠ‚ç‚¹ä¿¡æ¯å†™å…¥æ³¨å†Œä¸­å¿ƒï¼ˆä¾‹å¦‚ Zookeeperï¼‰ï¼Œä¹Ÿå°±æ˜¯æœåŠ¡è‡ªå·±æŠŠâ€œæˆ‘æ˜¯è°ã€æˆ‘çš„ç½‘ç»œåœ°å€æ˜¯ä»€ä¹ˆâ€ å†™è¿›å»</li>
<li><strong>å‘ç°</strong>ï¼šè®¢é˜…å¹¶è·å–è‡ªå·±å…³å¿ƒçš„æœåŠ¡èŠ‚ç‚¹ï¼Œå³èƒ½æ‹¿åˆ°â€œæˆ‘å‘ç°äº†å“ªäº›æœåŠ¡ä»¥åŠéœ€è¦è¿æ¥å“ªäº›æœåŠ¡â€</li>
<li><strong>æ›´æ–°</strong>ï¼šæœåŠ¡å˜åŒ–æ—¶è‡ªåŠ¨é€šçŸ¥ï¼Œå˜æ›´ä¸ä»…æœ‰â€œæ¥/èµ°â€ï¼Œè¿˜æœ‰â€œèŠ‚ç‚¹å±æ€§æ›´æ–°â€ï¼ˆæ¯”å¦‚æƒé‡/ç‰ˆæœ¬å˜åŒ–ï¼‰</li>
</ol>
<p><strong>é€šä¿—åœ°è¯´ï¼Œå¯¹äºä¸€ä¸ªæœåŠ¡ï¼š</strong></p>
<ul>
<li><strong>å¯åŠ¨æ—¶å…ˆç»™æˆ‘ä¸€å¼ å…¶ä»–æœåŠ¡çš„å®Œæ•´åå•</strong>ï¼ˆå¿«ç…§ï¼‰</li>
<li><strong>è¿è¡Œä¸­æœ‰æœåŠ¡åŠ å…¥æˆ–ç¦»å¼€å°±é€šçŸ¥æˆ‘</strong>ï¼ˆå¢é‡è®¢é˜…ï¼‰</li>
</ul>
<p>è¿™é‡Œå…¶å®æœ‰ä¸€ä¸ªæ•°æ®çš„ä¸€è‡´æ€§éœ€æ±‚ ï¼šå¯åŠ¨æ—¶éœ€è¦â€œå…¨é‡å¿«ç…§â€ï¼Œè¿è¡Œæ—¶éœ€è¦â€œå¢é‡å˜æ›´â€ï¼Œé¿å…æ¼è¿æˆ–é‡å¤ã€‚</p>
<h2 data-id="heading-3">å®ç°æ–¹æ¡ˆ</h2>
<h3 data-id="heading-4">1) æ³¨å†Œï¼šæœåŠ¡è‡ªå·±å‘Šè¯‰ç³»ç»Ÿâ€œæˆ‘æ˜¯è°â€ï¼Œæˆ‘çš„åœ°å€æ˜¯å¤šå°‘</h3>
<p>æ¯ä¸ªæœåŠ¡å¯åŠ¨åæŠŠä¿¡æ¯å†™è¿›æ³¨å†Œä¸­å¿ƒï¼Œé€šå¸¸å°±æ˜¯ key-value çš„å½¢å¼ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">login.tcp.3</span>Â =&gt;Â <span class="hljs-number">10.1</span>.<span class="hljs-number">2.3</span>:<span class="hljs-number">8001</span>
</code></pre>
<p>è¿™é‡Œï¼Œ<code>login</code> æ˜¯æœåŠ¡ç±»å‹ï¼Œ<code>tcp</code> æ˜¯åœ°å€çš„ç±»å‹ï¼ˆä¹Ÿå¯ä»¥æ˜¯httpï¼‰ï¼Œ<code>3</code> æ˜¯æœåŠ¡çš„ç¼–å·ï¼Œè¿™å¯¹äºæœ‰çŠ¶æ€æœåŠ¡çš„åŒºåˆ†æ¯”è¾ƒé‡è¦ã€‚</p>
<p>å¦‚æœè¦æ›´å¤šä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥å¸¦ä¸Šæƒé‡ã€ç‰ˆæœ¬ã€å…ƒæ•°æ®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-number">10.1</span><span class="hljs-number">.2</span><span class="hljs-number">.3</span>|<span class="hljs-number">8001</span>|<span class="hljs-number">20</span>|v1|<span class="hljs-punctuation">{</span><span class="hljs-attr">"region"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"cn"</span><span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-5">2) å‘ç°ï¼šè·å¾—åˆ«çš„æœåŠ¡çš„åœ°å€ï¼Œå…³æ³¨åœ°å€å˜æ›´</h3>
<p>æœåŠ¡å¯åŠ¨åè®¢é˜…è‡ªå·±å…³å¿ƒçš„ç›®æ ‡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>Gate å…³å¿ƒ Loginã€Router</li>
<li>Game å…³å¿ƒ Battleã€Router</li>
</ul>
<p>å½“ Gate å¯åŠ¨æ—¶ï¼Œéœ€è¦å…ˆæ‹¿åˆ°Â <strong>å…¨é‡å¿«ç…§</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">snapshot</span>Â =Â [login-<span class="hljs-number">1</span>,Â login-<span class="hljs-number">2</span>,Â login-<span class="hljs-number">3</span>, router-<span class="hljs-number">1</span>, router-<span class="hljs-number">2</span>]
</code></pre>
<p>è¿™äº›æœåŠ¡çš„åœ°å€å¦‚æœå‘ç”Ÿäº†å˜æ›´ï¼Œå¦‚æƒé‡ä» 20 å˜æˆ 0ï¼Œå°±éœ€è¦å…³æ³¨ã€‚</p>
<h3 data-id="heading-6">3) å¢é‡ï¼šæœ‰å˜åŒ–å°±é€šçŸ¥</h3>
<p>å¦‚æœç™»å½•æœæ–°å¢äº†ä¸€å°ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ–°å¢:Â login-tcp-4</span>
</code></pre>
<p>è®¢é˜…è€…æ”¶åˆ°äº‹ä»¶åï¼Œåªéœ€è¦åšä¸€ä»¶äº‹ï¼š  <code>å»ºç«‹å’Œ login-tcp-4 çš„è¿æ¥</code></p>
<p>å¦‚æœ login-tcp-2 ä¸‹çº¿ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">åˆ é™¤:Â login-2</span>
</code></pre>
<p>è®¢é˜…è€…è‡ªåŠ¨æ–­å¼€å³å¯ã€‚</p>
<h2 data-id="heading-7">ç®€åŒ–æµç¨‹å›¾ï¼ˆMermaidï¼‰</h2>
<p>æˆ‘ä»¬æŠŠä¸Šé¢çš„å‡ ä¸ªè¿‡ç¨‹ä¸²è”èµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªæµç¨‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3db1a2589d64661992088e01df545dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB6LSi5ZCM6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770727319&amp;x-signature=nvNalqcuK%2Fd4JNIwYf%2FFW3mi8hw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">æ›´æ·±å…¥çš„ç‚¹</h2>
<ol>
<li>åœ¨ç°ä»£ kubernetes äº‘éƒ¨ç½²ç››è¡Œçš„å½“ä¸‹ï¼ŒæœåŠ¡æ³¨å†Œå’Œå‘ç°å¾€å¾€å·²ç»æ”¯æŒï¼Œä½†æ˜¯å¦‚æœéœ€è¦è‡ªå·±æ¥æ›´ç»†ç²’åº¦æ›´æ·±åº¦çš„å®šåˆ¶å’Œæ§åˆ¶è·¯ç”±ï¼Œè‡ªå·±å®ç°ä¸€å¥—æœåŠ¡æ³¨å†Œå’Œå‘ç°æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼›</li>
<li>å¦‚æœæ˜¯ kubernetes éƒ¨ç½²ï¼ŒæœåŠ¡æ³¨å†Œçš„åœ°å€ä¸€èˆ¬æ˜¯ DNS åŸŸåï¼Œå› ä¸ºæœåŠ¡æœ¬èº«çš„åœ°å€æ˜¯ä¼šåŠ¨æ€å˜åŒ–çš„ï¼›</li>
<li>åœ¨å¾ˆå¤šå¼‚æ„çš„ç³»ç»Ÿä¸­ï¼Œå¾€å¾€ç”±ä¸åŒçš„è¯­è¨€æ¥å®ç°ä¸åŒçš„æœåŠ¡ï¼Œä¸ºäº†é¿å…å®ç°å¤šå¥—æœåŠ¡æ³¨å†Œå’Œå‘ç°ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬ï¼Œå¯ä»¥å°†å…¶æŠ½è±¡æˆagent æœåŠ¡ï¼ˆä»¥sidecarçš„å½¢å¼éƒ¨ç½²ï¼‰ï¼Œä½¿ç”¨æ–¹ç”¨ gRPC è¿™ç§è§£è€¦çš„åè®®å½¢å¼ï¼Œå’Œ agent é€šä¿¡ã€‚</li>
</ol>
<h2 data-id="heading-9">æ€»ç»“</h2>
<ul>
<li>æœåŠ¡æ³¨å†Œå’Œå‘ç°åšçš„æ˜¯ä¸€å¥—â€œè‡ªåŠ¨é€šè®¯å½• + å®æ—¶å˜æ›´æé†’â€</li>
<li>å¿«ç…§è§£å†³â€œå¯åŠ¨æ—¶çœ‹åˆ°å…¨é‡â€</li>
<li>å¢é‡è§£å†³â€œè¿è¡Œä¸­çœ‹åˆ°å˜åŒ–â€</li>
<li>å¯ä»¥æŒ–æ˜æ›´é€‚åˆk8såŠå¼‚æ„ç³»ç»Ÿçš„å®ç°æ–¹å¼</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¥ä¸€èµ·å®ç°ä¸€ä¸ªæŒ‰é’®æ•ˆæœ]]></title>    <link>https://juejin.cn/post/7602579671476142099</link>    <guid>https://juejin.cn/post/7602579671476142099</guid>    <pubDate>2026-02-04T09:57:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602579671476142099" data-draft-id="7602579671476043795" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¥ä¸€èµ·å®ç°ä¸€ä¸ªæŒ‰é’®æ•ˆæœ"/> <meta itemprop="keywords" content="Flutter,Android"/> <meta itemprop="datePublished" content="2026-02-04T09:57:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¥ä¸€èµ·å®ç°ä¸€ä¸ªæŒ‰é’®æ•ˆæœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:57:15.000Z" title="Wed Feb 04 2026 09:57:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdbbf3423beb43edb667935812c1d84e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803834&amp;x-signature=xzpDfRhn9tXwwIWxOlEXb0vljCI%3D" alt="image.png" width="70%" loading="lazy"/>
<p>æ•ˆæœç‚¹ï¼š1 æŒ‰é’®å¤–éƒ¨æ˜¯ç™½è‰²ï¼Œé‡Œé¢çš„é¢œè‰²åœ¨å››å‘¨åƒæ˜¯æ¸å˜å‡å¼±</p>
<p>2 æœ‰é˜´å½±å¹¶ä¸”é˜´å½±çœ‹ç€å¾ˆè‡ªç„¶ï¼ˆç›¸å¯¹äºç›´æ¥è®¾ç½®BoxShadowï¼‰</p>
<p>å®ç°çš„æ•ˆæœ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f36ea769d4e348bc856be7b27eceed9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803834&amp;x-signature=sAPgK9BD0%2BgfXeuVbXECHM0w7QA%3D" alt="image.png" loading="lazy"/></p>
<p>æ²¡æœ‰ç›´æ¥ç”¨BoxShadow,BoxShadowä¹Ÿæ˜¯ç”¨..maskFilter = MaskFilter.blur(BlurStyle.normal, 10); api æ¥å®ç°çš„é˜´å½±ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯ç›´æ¥ç”¨çš„è¿™ä¸ªapiè¿›è¡Œç»˜åˆ¶ã€‚</p>
<p>ä¸»è¦ç»˜åˆ¶ä»£ç </p>
<pre><code class="hljs language-js" lang="js">      
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ShadowPainter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">CustomPainter</span> {
  @override
  <span class="hljs-keyword">void</span> <span class="hljs-title function_">paint</span>(<span class="hljs-params">Canvas canvas, Size size</span>) {
<span class="hljs-comment">// 1. åˆ›å»ºç»˜åˆ¶è·¯å¾„ï¼ˆåœ†å½¢ï¼‰</span>
    <span class="hljs-keyword">var</span> rect = <span class="hljs-title class_">RRect</span>.<span class="hljs-title function_">fromLTRBR</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, size.<span class="hljs-property">width</span>, size.<span class="hljs-property">height</span>, <span class="hljs-title class_">Radius</span>.<span class="hljs-title function_">circular</span>(size.<span class="hljs-property">height</span>/<span class="hljs-number">2</span>));
    final path = <span class="hljs-title class_">Path</span>()..<span class="hljs-title function_">addRRect</span>(rect);
    final path2 = <span class="hljs-title class_">Path</span>()..<span class="hljs-title function_">addRRect</span>(rect.<span class="hljs-title function_">deflate</span>(<span class="hljs-number">5</span>));

    final path3 = <span class="hljs-title class_">Path</span>()..<span class="hljs-title function_">addRRect</span>(rect.<span class="hljs-title function_">deflate</span>(<span class="hljs-number">10</span>));

    <span class="hljs-comment">//ç»˜åˆ¶åº•éƒ¨é˜´å½±</span>
    <span class="hljs-comment">//path3 æ¯”rect å° è¿™æ ·è®¾ç½®outeræ¨¡å¼çš„æ—¶å€™å¤–æ•£çš„å…‰è¶…å‡ºç»„ä»¶çš„éƒ¨åˆ†å°±çœ‹ç€å¾ˆæŸ”å’Œ</span>
    final <span class="hljs-title class_">Paint</span> paint3 = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-title function_">fromRGBO</span>(<span class="hljs-number">249</span>, <span class="hljs-number">142</span>, <span class="hljs-number">119</span>, <span class="hljs-number">1</span>)
      ..<span class="hljs-property">maskFilter</span> = <span class="hljs-title class_">MaskFilter</span>.<span class="hljs-title function_">blur</span>(<span class="hljs-title class_">BlurStyle</span>.<span class="hljs-property">outer</span>, <span class="hljs-number">30</span>);
    canvas.<span class="hljs-title function_">drawPath</span>(path3, paint3);

    <span class="hljs-comment">//ç»˜åˆ¶ç™½è‰²åº•è‰²</span>
    final <span class="hljs-title class_">Paint</span> paint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">white</span>;
    canvas.<span class="hljs-title function_">drawPath</span>(path, paint);

    <span class="hljs-comment">//ç»˜åˆ¶ä¸­å¿ƒé¢œè‰² </span>
    <span class="hljs-comment">//å°±å¯ä»¥è®©å››å‘¨çš„é¢œè‰²æ¸å˜</span>
    final <span class="hljs-title class_">Paint</span> paint1 = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-title function_">fromRGBO</span>(<span class="hljs-number">249</span>, <span class="hljs-number">142</span>, <span class="hljs-number">119</span>, <span class="hljs-number">1</span>)
      ..<span class="hljs-property">maskFilter</span> = <span class="hljs-title class_">MaskFilter</span>.<span class="hljs-title function_">blur</span>(<span class="hljs-title class_">BlurStyle</span>.<span class="hljs-property">normal</span>, <span class="hljs-number">10</span>);

    canvas.<span class="hljs-title function_">drawPath</span>(path2, paint1);
  }

  @override
  bool <span class="hljs-title function_">shouldRepaint</span>(covariant <span class="hljs-title class_">CustomPainter</span> oldDelegate) =&gt; <span class="hljs-literal">false</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactå­¦ä¹ -è™šæ‹ŸDOM]]></title>    <link>https://juejin.cn/post/7602576205477511183</link>    <guid>https://juejin.cn/post/7602576205477511183</guid>    <pubDate>2026-02-04T09:24:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602576205477511183" data-draft-id="7602800677710839842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactå­¦ä¹ -è™šæ‹ŸDOM"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-02-04T09:24:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="web_bee"/> <meta itemprop="url" content="https://juejin.cn/user/428665740231"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactå­¦ä¹ -è™šæ‹ŸDOM
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/428665740231/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    web_bee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:24:51.000Z" title="Wed Feb 04 2026 09:24:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è™šæ‹ŸDOM</h2>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOMï¼Ÿ</h3>
<p>è™šæ‹Ÿ DOM æ˜¯å¯¹æµè§ˆå™¨ä¸­<strong>çœŸå® DOMï¼ˆReal DOMï¼‰</strong> çš„ä¸€ç§è½»é‡çº§ JavaScript å¯¹è±¡è¡¨ç¤ºã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>çº¯ JavaScript å¯¹è±¡æ ‘</strong>ï¼Œç»“æ„ä¸çœŸå® DOM æ ‘ä¸€è‡´ï¼Œä½†ä¸ç›´æ¥æ“ä½œæµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒçœŸå® DOM å…ƒç´ ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span>&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, world!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>å¯¹åº”çš„è™šæ‹Ÿ DOM å¯èƒ½æ˜¯ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
 Â type: <span class="hljs-string">'div'</span>,
 Â props: {
 Â  Â id: <span class="hljs-string">'container'</span>,
 Â  Â children: [
 Â  Â   {
 Â  Â  Â  Â type: <span class="hljs-string">'p'</span>,
 Â  Â  Â  Â props: {
 Â  Â  Â  Â  Â children: <span class="hljs-string">'Hello, world!'</span>
 Â  Â  Â   }
 Â  Â   }
 Â   ]
  }
}
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šReact å†…éƒ¨ä½¿ç”¨çš„æ˜¯ <strong>Fiber èŠ‚ç‚¹</strong>ï¼ˆè‡ª React 16 èµ·ï¼‰ï¼Œå®ƒæ˜¯å¯¹è™šæ‹Ÿ DOM çš„è¿›ä¸€æ­¥æŠ½è±¡ï¼Œæ”¯æŒå¢é‡æ¸²æŸ“ã€ä¼˜å…ˆçº§è°ƒåº¦ç­‰é«˜çº§ç‰¹æ€§ï¼Œä½†å¼€å‘è€…é€šå¸¸ä»å°†å…¶ç»Ÿç§°ä¸ºâ€œè™šæ‹Ÿ DOMâ€ã€‚</p>
</blockquote>
<p>JSX ç¼–è¯‘ä¸º è™šæ‹ŸDOM</p>
<blockquote>
<p>åœ¨ React ä¸­ï¼Œ<strong>JSX ä»£ç ä¼šè¢«ç¼–è¯‘ä¸ºå¯¹ <code>React.createElement()</code> çš„å‡½æ•°è°ƒç”¨</strong>ï¼Œè€Œ <code>React.createElement()</code> çš„è¿”å›å€¼å°±æ˜¯ <strong>è™šæ‹Ÿ DOMï¼ˆå³ React å…ƒç´ ï¼‰</strong> ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸»è¦ä¾èµ– <strong>æ„å»ºå·¥å…·ï¼ˆå¦‚ Babelã€TypeScriptï¼‰çš„ç¼–è¯‘è½¬æ¢</strong>ã€‚</p>
<p><strong>JSXæœ¬è´¨ä¸Šæ˜¯Â <code>React.createElement()</code>Â å‡½æ•°è°ƒç”¨çš„è¯­æ³•ç³–</strong></p>
<p>JSX çº¦ç­‰äºï¼ˆ=ï¼‰ <code>React.createElement()</code> <strong>è°ƒç”¨</strong></p>
</blockquote>
<h3 data-id="heading-2">äºŒã€React 16ä¹‹å‰ï¼Œè™šæ‹Ÿ DOM çš„å·¥ä½œæµç¨‹</h3>
<p>React ä½¿ç”¨è™šæ‹Ÿ DOM å®ç°é«˜æ•ˆçš„ UI æ›´æ–°ï¼Œä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<h4 data-id="heading-3"><strong>1.</strong> Render é˜¶æ®µï¼šç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOM æ ‘</h4>
<ul>
<li>å½“ç»„ä»¶çŠ¶æ€ï¼ˆstateï¼‰æˆ–å±æ€§ï¼ˆpropsï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒReact ä¼šé‡æ–°è°ƒç”¨ç»„ä»¶çš„ <code>render()</code> æ–¹æ³•ï¼ˆå‡½æ•°ç»„ä»¶å³é‡æ–°æ‰§è¡Œå‡½æ•°ï¼‰ã€‚</li>
<li>ç”Ÿæˆä¸€æ£µ<strong>å…¨æ–°çš„è™šæ‹Ÿ DOM æ ‘</strong>ï¼ˆç§°ä¸ºâ€œæ–° VDOMâ€ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4"><strong>2.</strong> Reconciliationï¼ˆåè°ƒï¼‰é˜¶æ®µï¼šDiff ç®—æ³•æ¯”å¯¹æ–°æ—§è™šæ‹Ÿ DOM</h4>
<ul>
<li>React å°†æ–° VDOM ä¸ä¸Šä¸€æ¬¡æ¸²æŸ“ä¿å­˜çš„æ—§ VDOM è¿›è¡Œ<strong>å·®å¼‚æ¯”è¾ƒï¼ˆDiffingï¼‰</strong> ã€‚</li>
<li>ä½¿ç”¨é«˜æ•ˆçš„ <strong>å¯å‘å¼ Diff ç®—æ³•</strong>ï¼ˆå¦‚åŸºäº key çš„åˆ—è¡¨ diffã€åŒå±‚æ¯”è¾ƒç­‰ï¼‰ï¼Œæ‰¾å‡ºæœ€å°å˜æ›´é›†ã€‚</li>
<li>è¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿåœ¨å†…å­˜ä¸­ï¼Œé€Ÿåº¦æå¿«ã€‚</li>
</ul>
<h4 data-id="heading-5"><strong>3.</strong> Commit é˜¶æ®µï¼šæ‰¹é‡æ›´æ–°çœŸå® DOM</h4>
<ul>
<li>å°†è®¡ç®—å‡ºçš„å·®å¼‚ï¼ˆpatchesï¼‰<strong>æ‰¹é‡åº”ç”¨åˆ°çœŸå® DOM</strong> ä¸Šã€‚</li>
<li>é¿å…é¢‘ç¹ã€é›¶æ•£åœ°æ“ä½œçœŸå® DOMï¼Œä»è€Œå‡å°‘é‡æ’ï¼ˆreflowï¼‰å’Œé‡ç»˜ï¼ˆrepaintï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ğŸ’¡ æ•´ä¸ªè¿‡ç¨‹å¯æ¦‚æ‹¬ä¸ºï¼š<strong>State/Props å˜åŒ– â†’ ç”Ÿæˆæ–° VDOM â†’ Diff æ–°æ—§ VDOM â†’ æ‰¹é‡æ›´æ–°çœŸå® DOM</strong></p>
</blockquote>
<h3 data-id="heading-6">ä¸‰ã€ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ DOMï¼Ÿ</h3>
<ol>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<p><strong>çœŸå® DOM æ“ä½œçš„ä»£ä»·é«˜ï¼š</strong></p>
<ul>
<li>æµè§ˆå™¨çš„ DOM æ“ä½œæ¶‰åŠå¸ƒå±€ï¼ˆLayoutï¼‰ã€ç»˜åˆ¶ï¼ˆPaintï¼‰ã€åˆæˆï¼ˆCompositeï¼‰ç­‰å¤šä¸ªæ˜‚è´µæ­¥éª¤ã€‚</li>
<li>é¢‘ç¹æ“ä½œä¼šå¯¼è‡´é¡µé¢å¡é¡¿ã€‚</li>
</ul>
<p>åœ¨ JS å±‚é¢åš diffï¼Œé¿å…ä¸å¿…è¦çš„ DOM æ“ä½œ</p>
</li>
<li>
<p><strong>è·¨å¹³å°èƒ½åŠ›</strong>ï¼šè™šæ‹Ÿ DOM æ˜¯å¹³å°æ— å…³çš„ï¼Œå¯ç”¨äº Webã€React Nativeï¼ˆæ˜ å°„åˆ°åŸç”Ÿç»„ä»¶ï¼‰ç­‰</p>
</li>
<li>
<p><strong>å£°æ˜å¼ç¼–ç¨‹</strong>ï¼šå¼€å‘è€…åªéœ€æè¿°â€œUI åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­â€ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç† DOM æ›´æ–°é€»è¾‘</p>
</li>
</ol>
<h3 data-id="heading-7"><strong>å››ã€è™šæ‹Ÿ DOM çš„å±€é™æ€§</strong></h3>
<ul>
<li><strong>å†…å­˜å¼€é”€</strong>ï¼šéœ€è¦ç»´æŠ¤ä¸¤æ£µ DOM æ ‘ï¼ˆæ–° + æ—§ï¼‰ï¼Œåœ¨å¤§å‹åº”ç”¨ä¸­å¯èƒ½å ç”¨è¾ƒå¤šå†…å­˜ã€‚</li>
<li><strong>å¹¶éæ€»æ˜¯æœ€å¿«</strong>ï¼šå¯¹äºç®€å•ã€é™æ€çš„ UIï¼Œç›´æ¥æ“ä½œ DOM å¯èƒ½æ›´å¿«ï¼ˆå¦‚ jQueryï¼‰ã€‚</li>
</ul>
<blockquote>
<p>âš ï¸ æç¤ºï¼šåˆç†ä½¿ç”¨ <code>key</code>ï¼ˆå°¤å…¶æ˜¯åˆ—è¡¨æ¸²æŸ“ï¼‰å¯æå¤§æå‡ diff æ•ˆç‡ã€‚</p>
</blockquote>
<h2 data-id="heading-8">React 16+ çš„ Fiber æ¶æ„ï¼šå…¨æ–°å·¥ä½œæµ</h2>
<p>Fiber å¼•å…¥åï¼Œæ•´ä¸ªåè°ƒè¿‡ç¨‹è¢«é‡æ„ä¸ºï¼š</p>
<ol>
<li>
<p><strong>JSX â†’ React å…ƒç´ ï¼ˆè¾“å…¥ä¸å˜ï¼‰</strong></p>
</li>
<li>
<p>ä½†åè°ƒè¿‡ç¨‹ä¸å†ç›´æ¥æ“ä½œ React å…ƒç´ æ ‘ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>æ„å»º/æ›´æ–° <strong>Fiber èŠ‚ç‚¹æ ‘</strong>ï¼ˆå†…éƒ¨å·¥ä½œå•å…ƒï¼‰</li>
<li>ä½¿ç”¨Â <strong>å¯ä¸­æ–­çš„å¾ªç¯ï¼ˆè€Œéé€’å½’ï¼‰</strong> Â éå† Fiber æ ‘</li>
<li>æ”¯æŒ <strong>æ—¶é—´åˆ‡ç‰‡ï¼ˆTime Slicingï¼‰</strong> ï¼šæ¯æ‰§è¡Œä¸€å°æ®µå·¥ä½œå°±æ£€æŸ¥æ˜¯å¦éœ€è¦è®©å‡ºä¸»çº¿ç¨‹</li>
<li>åŸºäº <strong>ä¼˜å…ˆçº§è°ƒåº¦ï¼ˆSchedulerï¼‰</strong> å†³å®šå“ªäº›æ›´æ–°å…ˆæ‰§è¡Œ</li>
</ul>
</li>
<li>
<p>æœ€ç»ˆåœ¨ <strong>Commit é˜¶æ®µ</strong> æ‰¹é‡æ›´æ–°çœŸå® DOM</p>
</li>
</ol>
<p><strong>å…³é”®å˜åŒ–ï¼š</strong></p>



































<table><thead><tr><th>æ–¹é¢</th><th>React 15ï¼ˆæ—§ï¼‰</th><th>React 16+ï¼ˆFiberï¼‰</th></tr></thead><tbody><tr><td>åè°ƒç®—æ³•</td><td>é€’å½’ diff è™šæ‹Ÿ DOM æ ‘</td><td>è¿­ä»£å¼å¤„ç† Fiber æ ‘</td></tr><tr><td>æ‰§è¡Œæ–¹å¼</td><td>åŒæ­¥ã€ä¸å¯ä¸­æ–­</td><td>å¼‚æ­¥ã€å¯ä¸­æ–­ã€å¯æ¢å¤</td></tr><tr><td>æ•°æ®ç»“æ„</td><td>ç®€å•çš„ React å…ƒç´ </td><td>å¤æ‚çš„ Fiber èŠ‚ç‚¹ï¼ˆå¸¦çŠ¶æ€ã€å‰¯ä½œç”¨ã€æŒ‡é’ˆç­‰ï¼‰</td></tr><tr><td>æ¸²æŸ“æ¨¡å‹</td><td>ç«‹å³æ¸²æŸ“</td><td>æ”¯æŒå¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰</td></tr><tr><td>æ€§èƒ½ç“¶é¢ˆ</td><td>å¤§æ›´æ–°å¡æ­» UI</td><td>å¯æ‹†åˆ†ä»»åŠ¡ï¼Œä¿æŒå“åº”æ€§</td></tr></tbody></table>
<blockquote>
<p>âœ… <strong>Fiber å®Œå…¨æ¥ç®¡äº†â€œå¦‚ä½•ä»è™šæ‹Ÿæè¿°ç”ŸæˆçœŸå® UIâ€çš„å…¨è¿‡ç¨‹</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-9">ä¸€ã€Fiber æ¶æ„ä¸‹çš„å·¥ä½œæµç¨‹ï¼ˆæ¸²æŸ“å¾ªç¯ï¼‰</h3>
<p>Fiber å°†æ¸²æŸ“è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<h4 data-id="heading-10">é˜¶æ®µ 1ï¼šReconciliationï¼ˆåè°ƒé˜¶æ®µï¼‰</h4>
<ul>
<li>
<p><strong>ç›®æ ‡</strong>ï¼šå¯¹æ¯”æ–°æ—§ UIï¼Œè®¡ç®—å‡ºéœ€è¦æ‰§è¡Œçš„å˜æ›´ã€‚</p>
</li>
<li>
<p><strong>å¯ä¸­æ–­ã€å¯æ¢å¤ã€æ”¯æŒä¼˜å…ˆçº§</strong>ã€‚</p>
</li>
<li>
<p>åˆ†ä¸ºä¸¤ä¸ªå­æ ‘ï¼š</p>
<ul>
<li><strong>current tree</strong>ï¼šå½“å‰å·²æäº¤åˆ°å±å¹•çš„ Fiber æ ‘ã€‚</li>
<li><strong>work-in-progress (WIP) tree</strong>ï¼šæ­£åœ¨æ„å»ºçš„æ–° Fiber æ ‘ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-11"><strong>å…³é”®æ­¥éª¤ï¼š</strong></h5>
<ol>
<li>
<p><strong>ä»æ ¹å¼€å§‹éå† JSX ç”Ÿæˆçš„ React å…ƒç´ æ ‘</strong>ã€‚</p>
</li>
<li>
<p><strong>ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºæˆ–å¤ç”¨ Fiber èŠ‚ç‚¹</strong>ï¼ˆé€šè¿‡ <code>beginWork</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ‰§è¡Œ diffï¼ˆåè°ƒï¼‰</strong> ï¼š</p>
<ul>
<li>æ¯”è¾ƒ <code>type</code> å’Œ <code>key</code>ã€‚</li>
<li>è‹¥ç›¸åŒï¼Œå¤ç”¨ç°æœ‰ Fiberï¼ˆé¿å…é‡å»º DOMï¼‰ã€‚</li>
<li>è‹¥ä¸åŒï¼Œæ ‡è®°ä¸ºåˆ é™¤æˆ–æ›¿æ¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®Œæˆå­æ ‘åï¼Œæ‰§è¡Œ <code>completeWork</code></strong>ï¼š</p>
<ul>
<li>åˆ›å»º/æ›´æ–° DOM èŠ‚ç‚¹ï¼ˆä½†ä¸æŒ‚è½½ï¼‰ã€‚</li>
<li>æ”¶é›†å‰¯ä½œç”¨ï¼ˆå¦‚éœ€è¦æ’å…¥ã€æ›´æ–°ã€åˆ é™¤çš„èŠ‚ç‚¹ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>æ•´ä¸ª WIP æ ‘æ„å»ºå®Œæˆåï¼Œè¿›å…¥ Commit é˜¶æ®µã€‚</p>
</li>
</ol>
<blockquote>
<p>ğŸ”„ æ­¤é˜¶æ®µè¿è¡Œåœ¨ <strong>render phase</strong>ï¼Œå¯èƒ½è¢«é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥ï¼‰æ‰“æ–­å¹¶ä¸¢å¼ƒã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-12">é˜¶æ®µ 2ï¼šCommitï¼ˆæäº¤é˜¶æ®µï¼‰</h4>
<ul>
<li>
<p><strong>ç›®æ ‡</strong>ï¼šå°†å˜æ›´åº”ç”¨åˆ°çœŸå® DOMã€‚</p>
</li>
<li>
<p><strong>ä¸å¯ä¸­æ–­</strong>ï¼ˆå¿…é¡»ä¸€æ¬¡æ€§å®Œæˆï¼Œå¦åˆ™ UI ä¸ä¸€è‡´ï¼‰ã€‚</p>
</li>
<li>
<p>åˆ†ä¸ºä¸‰ä¸ªå­é˜¶æ®µï¼š</p>
<ol>
<li><strong>before mutation</strong>ï¼šè°ƒç”¨ <code>getSnapshotBeforeUpdate</code> ç­‰ã€‚</li>
<li><strong>mutation</strong>ï¼šæ‰§è¡Œ DOM æ“ä½œï¼ˆæ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰ã€‚</li>
<li><strong>layout</strong>ï¼šè°ƒç”¨ <code>useLayoutEffect</code>ã€<code>componentDidMount/Update</code>ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<p>âœ… æ­¤é˜¶æ®µæ“ä½œçš„æ˜¯ <strong>çœŸå® DOM</strong>ï¼Œå¹¶è§¦å‘ç”Ÿå‘½å‘¨æœŸå’Œå‰¯ä½œç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-13">äºŒã€é‚£â€œè™šæ‹Ÿ DOMâ€è¿˜å­˜åœ¨å—ï¼Ÿ</h3>
<p><strong>å­˜åœ¨ï¼Œä½†è§’è‰²å˜äº†</strong>ï¼š</p>
<ul>
<li>
<p><strong>React å…ƒç´ ï¼ˆå³ JSX ç¼–è¯‘ç»“æœï¼‰ä»ç„¶æ˜¯â€œè™šæ‹Ÿ DOMâ€çš„è¡¨ç°å½¢å¼</strong>ï¼Œä½œä¸º<strong>è¾“å…¥æè¿°</strong>ã€‚</p>
</li>
<li>
<p>ä½† <strong>åè°ƒå’Œ diff ä¸å†ç›´æ¥åœ¨ React å…ƒç´ ä¸Šè¿›è¡Œ</strong>ï¼Œè€Œæ˜¯åœ¨ <strong>Fiber èŠ‚ç‚¹</strong> ä¸Šè¿›è¡Œã€‚</p>
</li>
<li>
<p>Fiber èŠ‚ç‚¹å¯ä»¥çœ‹ä½œæ˜¯ <strong>å¢å¼ºç‰ˆã€å¯å·¥ä½œçš„è™šæ‹Ÿ DOM</strong>ï¼Œå®ƒï¼š</p>
<ul>
<li>æŒæœ‰ React å…ƒç´ çš„ä¿¡æ¯ï¼ˆ<code>type</code>, <code>props</code>ï¼‰</li>
<li>è¿˜åŒ…å«çŠ¶æ€ï¼ˆ<code>memoizedState</code>ï¼‰ã€å‰¯ä½œç”¨ï¼ˆ<code>effectTag</code>ï¼‰ã€çˆ¶å­æŒ‡é’ˆç­‰</li>
<li>æ”¯æŒå¤ç”¨ã€ä¸­æ–­ã€ä¼˜å…ˆçº§ç­‰</li>
</ul>
</li>
</ul>
<blockquote>
<p>ğŸ“Œ æ‰€ä»¥ï¼š <strong>â€œè™šæ‹Ÿ DOMâ€ä½œä¸ºæ¦‚å¿µä»ç„¶å­˜åœ¨ï¼Œä½†å…¶å®ç°å’Œå·¥ä½œæœºåˆ¶å·²è¢« Fiber æ¶æ„å…¨é¢è¦†ç›–å’Œå‡çº§</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-14">ä¸‰ã€<strong>å¼€å‘è€…æ„ŸçŸ¥çš„å˜åŒ–</strong></h3>
<p>å¯¹å¤§å¤šæ•°å¼€å‘è€…æ¥è¯´ï¼Œ<strong>API å±‚é¢å‡ ä¹æ²¡æœ‰å˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>; <span class="hljs-comment">// å†™æ³•ä¸å˜</span>
}
</code></pre>
<p>ä½†åº•å±‚ï¼š</p>
<ul>
<li>ä¸å†æ˜¯ç®€å•çš„ <code>React.createElement</code> â†’ é€’å½’ diff</li>
<li>è€Œæ˜¯ <code>jsx()</code> â†’ åˆ›å»º Fiber èŠ‚ç‚¹ â†’ åè°ƒ â†’ æäº¤</li>
</ul>
<h3 data-id="heading-15">æ€»ç»“ï¼š</h3>
<p><strong>Fiber æ¶æ„å®Œå…¨è¦†ç›–å¹¶å–ä»£äº† React 15 ä¸­ä¼ ç»Ÿçš„è™šæ‹Ÿ DOM å·¥ä½œæµ</strong>ã€‚</p>
<ul>
<li>å®ƒä¸æ˜¯â€œåœ¨è™šæ‹Ÿ DOM ä¸ŠåŠ äº†ä¸ªè°ƒåº¦å™¨â€ï¼Œè€Œæ˜¯<strong>ç”¨ä¸€å¥—å…¨æ–°çš„ã€åŸºäº Fiber èŠ‚ç‚¹çš„åè°ƒç³»ç»Ÿæ›¿ä»£äº†æ—§çš„é€’å½’ diff æœºåˆ¶</strong>ã€‚</li>
<li>â€œè™šæ‹Ÿ DOMâ€ä½œä¸º<strong>UI æè¿°çš„æŠ½è±¡</strong>ä¾ç„¶å­˜åœ¨ï¼ˆå³ React å…ƒç´ ï¼‰ï¼Œä½†<strong>åè°ƒã€diffã€æ›´æ–°çš„æ‰§è¡Œè½½ä½“å·²å˜ä¸º Fiber æ ‘</strong>ã€‚</li>
<li>è¿™ä¸€å˜é©ä½¿å¾— React èƒ½å¤Ÿæ”¯æŒ<strong>å¹¶å‘æ¸²æŸ“ã€è‡ªåŠ¨æ‰¹å¤„ç†ã€Suspenseã€Transition</strong> ç­‰ç°ä»£ç‰¹æ€§ã€‚</li>
</ul>
<blockquote>
<p>ç®€å•è¯´ï¼š<strong>Fiber æ˜¯æ–°ä¸€ä»£çš„â€œè™šæ‹Ÿ DOM å¼•æ“â€</strong> ï¼Œå®ƒè®© React æµç•…ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨FastMCPæ–°å»ºMCP server å¹¶åœ¨Cursorè°ƒç”¨]]></title>    <link>https://juejin.cn/post/7602463463104921646</link>    <guid>https://juejin.cn/post/7602463463104921646</guid>    <pubDate>2026-02-03T09:21:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602463463104921646" data-draft-id="7602070768963371034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨FastMCPæ–°å»ºMCP server å¹¶åœ¨Cursorè°ƒç”¨"/> <meta itemprop="keywords" content="Python,MCP,Cursor"/> <meta itemprop="datePublished" content="2026-02-03T09:21:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="gongzemin"/> <meta itemprop="url" content="https://juejin.cn/user/3931509311681192"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨FastMCPæ–°å»ºMCP server å¹¶åœ¨Cursorè°ƒç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3931509311681192/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    gongzemin
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T09:21:03.000Z" title="Tue Feb 03 2026 09:21:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç¯‡ç¬”è®°æˆ‘ä»¬è®°å½•: æˆ‘ä»¬ä½¿ç”¨FastMCPæ–°å»ºä¸€ä¸ªMCP server, å¹¶åœ¨Cursor IDEé‡Œè°ƒç”¨çš„è¿‡ç¨‹ã€‚ä¸»è¦åˆ†ä¸º2éƒ¨åˆ†</p>
<ul>
<li>ä½¿ç”¨FastMCPæ–°å»ºä¸€ä¸ªMCP server</li>
<li>åœ¨Cursoré‡Œè°ƒç”¨æˆ‘ä»¬å†™çš„MCP server</li>
</ul>
<p>ä¼šæœ‰ä¸€äº›æ¦‚å¿µï¼Œ<code>MCP</code>ã€<code>FastMCP</code>ã€<code>MCP Hostï¼ˆä¸»æœºï¼‰</code>ã€<code>MCP Clientï¼ˆå®¢æˆ·ç«¯ï¼‰</code>ã€<code>MCP Serverï¼ˆæœåŠ¡ç«¯ï¼‰ï¼‰</code>,è¿˜æœ‰<code>uv</code>pythonçš„æ–°å‹åŒ…ç®¡ç†å·¥å…·ï¼Œ@toolã€@resourceã€@prompt æ˜¯ FastMCPï¼ˆä»¥åŠæ•´ä¸ª MCP åè®®ç”Ÿæ€ï¼‰ä¸­æœ€æ ¸å¿ƒçš„ä¸‰ä¸ªæœåŠ¡å™¨ç«¯è£…é¥°å™¨ï¼Œéœ€è¦äº†è§£ã€‚</p>
<p>æ–‡æ¡£ä¸»è¦ä»‹ç»å®é™…æ“ä½œçš„è¿‡ç¨‹ï¼Œæ²¡å»ä»‹ç»é‚£äº›æ¦‚å¿µï¼ˆæ„Ÿå…´è¶£å¤šæŸ¥ä¸‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2Fdocs%2Fgetting-started%2Fintro" target="_blank" title="https://modelcontextprotocol.io/docs/getting-started/intro" ref="nofollow noopener noreferrer">MCPå®˜ç½‘</a>)ï¼Œå¸Œæœ›é€šè¿‡æ“ä½œçš„æˆæœæ¥åè¿‡æ¥ç†è§£ è¿™äº›æ¦‚å¿µï¼Œä¹Ÿæ›´ç”ŸåŠ¨ä¸€ç‚¹ã€‚</p>
<h5 data-id="heading-0">ä½¿ç”¨FastMCPæ–°å»ºä¸€ä¸ªMCP server</h5>
<ul>
<li>ä½¿ç”¨uvæ–°å»ºé¡¹ç›®</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">uv init mcp-server-demo
</code></pre>
<p>ä½¿ç”¨ uv å·¥å…·åˆå§‹åŒ–ä¸€ä¸ªåä¸º mcp-server-demo çš„å…¨æ–° Python é¡¹ç›®ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºé¡¹ç›®ç›®å½•ã€æ ‡å‡†åŒ–çš„é…ç½®æ–‡ä»¶å’ŒåŸºç¡€çš„é¡¹ç›®ç»“æ„ï¼Œæ›¿ä»£ä¼ ç»Ÿçš„æ‰‹åŠ¨åˆ›å»º pyproject.tomlã€è™šæ‹Ÿç¯å¢ƒç­‰æ“ä½œã€‚</p>
<ul>
<li>å®‰è£…FastMcp</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">uv add fastmcp
</code></pre>
<p>å®‰è£…<code>FastMcp</code>ä¾èµ– å¯ä»¥çœ‹åˆ°æˆ‘ç”¨çš„æ˜¯ æœ€æ–°ç¨³å®šç‰ˆPython 3.14.2 å®‰è£…ä¾èµ–åè‡ªåŠ¨åˆ›å»ºäº†è™šæ‹Ÿç¯å¢ƒ, å®‰è£…FastMCPä¼šè‡ªåŠ¨å®‰è£…MCP</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bb02f9fa17b458e941e5c1ba75ea824~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=6hhohewMXEIvg1sDf9kPcODp92M%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1d82cb4be0e47f3919972585c8a12f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=P6TekCKXNLA4T0EcpwdGuVzerHk%3D" alt="image.png" loading="lazy"/></p>
<p>uv ç»™æˆ‘ä»¬åˆå§‹åŒ–çš„é¡¹ç›®ç»“æ„æˆªå›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a12af430af74382bf3f962dedf039b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=I%2BhjsrOS%2FN%2BwYI4JrElJfSNjjCg%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€main.py, å¤åˆ¶å¦‚ä¸‹ä»£ç ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„mcp server ä»£ç äº†</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># server.py æˆ–ä½ çš„ä¸»æ–‡ä»¶</span>
<span class="hljs-keyword">from</span> fastmcp <span class="hljs-keyword">import</span> FastMCP

mcp = FastMCP(<span class="hljs-string">"æ¼”ç¤º ğŸš€"</span>)


<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""å°†ä¸¤ä¸ªæ•°å­—ç›¸åŠ """</span>
    <span class="hljs-keyword">return</span> a + b


<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, style: <span class="hljs-built_in">str</span> = <span class="hljs-string">"friendly"</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""æŒ‰ç…§é€‰æ‹©çš„è¯­æ°”å‘æŸäººé—®å¥½"""</span>
    style_key = (style <span class="hljs-keyword">or</span> <span class="hljs-string">"friendly"</span>).strip().lower()

    <span class="hljs-keyword">if</span> style_key == <span class="hljs-string">"formal"</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ï¼Œæ‚¨å¥½ï¼ç¥æ‚¨ä¸€åˆ‡é¡ºåˆ©ï¼Œå·¥ä½œç”Ÿæ´»çš†å¦‚æ„ã€‚"</span>
    <span class="hljs-keyword">if</span> style_key == <span class="hljs-string">"casual"</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ï¼Œå˜¿ï¼ç¥ä½ ä»Šå¤©å¿ƒæƒ…è¶…å¥½ï¼Œå•¥äº‹éƒ½é¡ºï¼"</span>

    <span class="hljs-comment"># é»˜è®¤ï¼šå‹å¥½é£æ ¼</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ï¼Œä½ å¥½ï¼å¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ„¿ä½ ä»Šå¤©å¹³å®‰å–œä¹ã€å¿ƒæƒ³äº‹æˆã€‚"</span>


<span class="hljs-meta">@mcp.resource(<span class="hljs-params"><span class="hljs-string">"greeting://{name}"</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_greeting</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""è·å–ä¸ªæ€§åŒ–çš„é—®å€™è¯­"""</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"ä½ å¥½ï¼Œ<span class="hljs-subst">{name}</span>ï¼"</span>


<span class="hljs-meta">@mcp.prompt()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_user</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, style: <span class="hljs-built_in">str</span> = <span class="hljs-string">"friendly"</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""ç”Ÿæˆé—®å€™æç¤ºè¯"""</span>
    styles = {
        <span class="hljs-string">"friendly"</span>: <span class="hljs-string">"è¯·å†™ä¸€æ®µæ¸©æš–ã€å‹å¥½çš„é—®å€™è¯­"</span>,
        <span class="hljs-string">"formal"</span>: <span class="hljs-string">"è¯·å†™ä¸€æ®µæ­£å¼ã€ä¸“ä¸šçš„é—®å€™è¯­"</span>,
        <span class="hljs-string">"casual"</span>: <span class="hljs-string">"è¯·å†™ä¸€æ®µè½»æ¾ã€éšæ„çš„é—®å€™è¯­"</span>,
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{styles.get(style, styles[<span class="hljs-string">'friendly'</span>])}</span>ï¼Œå¯¹æ–¹åå­—æ˜¯ <span class="hljs-subst">{name}</span>ã€‚"</span>


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># mcp.run(transport="streamable-http", json_response=True)</span>
    <span class="hljs-comment"># æˆ–è€…æœ¬åœ°è°ƒè¯•æœ€å¸¸ç”¨ï¼š</span>
    mcp.run(transport=<span class="hljs-string">"stdio"</span>)
</code></pre>
<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘æœ‰ä¸€ä¸ªtool é—®å€™ï¼Œè¿˜æœ‰ä¸€ä¸ªprompt é—®å€™ï¼Œtoolé—®å€™ä¼šä¸¥æ ¼æŒ‰ç…§æˆ‘çš„ä¼ å‚ã€å®šä¹‰çš„å†…å®¹è¿”å›ï¼Œpromptä¼šç”±å¤§æ¨¡å‹è‡ªç”±å‘æŒ¥ã€‚</p>
<p>æ‰§è¡Œä¸‹é¢å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash">uv run python main.py
</code></pre>
<p>æ˜¯é€šè¿‡ uv å·¥å…·åœ¨é¡¹ç›®çš„è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œ python main.py å‘½ä»¤ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯ä¿è¯è„šæœ¬è¿è¡Œæ—¶ä½¿ç”¨çš„æ˜¯é¡¹ç›®ä¸“å±çš„ Python è§£é‡Šå™¨å’Œä¾èµ–ç¯å¢ƒï¼Œé¿å…å…¨å±€ç¯å¢ƒçš„ä¾èµ–å†²çªã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c77168a85ec422393249eb5d4367781~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=IUcECdpWYsCDp48utcqVlUFW5lM%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬çš„FastMCP<br/>
å¯åŠ¨æˆåŠŸï¼šâœ”ï¸<br/>
å½“å‰è¿è¡Œä¸­ï¼šâœ”ï¸ï¼ˆåªè¦ç»ˆç«¯æ²¡å…³é—­ã€æ²¡æŠ¥é”™é€€å‡ºï¼‰<br/>
é€šä¿¡æ–¹å¼ï¼šé€šè¿‡ stdioï¼ˆå‘½ä»¤è¡Œè¾“å…¥è¾“å‡ºï¼‰ï¼Œé€‚åˆæœ¬åœ°å¿«é€Ÿæµ‹è¯•
ç‰ˆæœ¬ï¼šåœ¨ç”¨ 2.14.4ï¼ˆ3.0 è¿˜æ²¡æ­£å¼å‘å¸ƒï¼Œæç¤ºå…ˆ pin &lt; 3 ç‰ˆæœ¬ä»¥ä¿è¯ç”Ÿäº§ç¨³å®šï¼‰</p>
<h5 data-id="heading-1">åœ¨Cursoré‡Œè°ƒç”¨æˆ‘ä»¬å†™çš„MCP server</h5>
<p>Cursor è°ƒç”¨server.pyï¼ˆé‡Œé¢æœ‰ mcp = FastMCP(...) å’Œå„ç§ @tool / @promptï¼‰,
æ‰“å¼€Cursor æ‰¾åˆ°MCP é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/723d2482be844f97baa4d3ab75337ca6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=cgzFP1EuhYa7940rK9SC9Q8ihy4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfa2d2bd3f174c9a943daf1712d792b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=zbpgyzo9mbk5PrpCcyfuZaIogtQ%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨mcp.jsoné‡Œå†™å¦‚ä¸‹ä»£ç </p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"demo-mcp-local"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Demo MCP (Local uv run)"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stdio"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uv"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"--directory"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"/Users/gongzemin/Documents/playground/mcp-server-demo"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"run"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"main.py"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„ FastMCP æœ¬åœ°æ¼”ç¤ºæœåŠ¡å™¨ï¼ˆåŒ…å«åŠ æ³•ã€é—®å€™ã€æç¤ºæ¨¡æ¿ç­‰å·¥å…·ï¼‰"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"isActive"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"PYTHONIOENCODING"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"utf-8"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"PYTHONUNBUFFERED"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>çœ‹åˆ°æˆ‘ä»¬è¿™ä¸ªMCPé…ç½®çš„ç¯æ˜¯ç»¿è‰²çš„ å°±è¡¨ç¤ºé…ç½®æˆåŠŸäº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52df929c6608489bbcd7332f80d2a3af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=KxVKrso15ZvvEDMU%2FKPBZW%2BLHjY%3D" alt="image.png" loading="lazy"/></p>
<p>æ–°å»ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œé€‰æ‹©agentï¼Œæé—®</p>
<pre><code class="hljs language-lua" lang="lua">ä½¿ç”¨demo-mcp-<span class="hljs-keyword">local</span> å‹å¥½çš„æ–¹å¼é—®å€™åˆ˜äº¦è²
</code></pre>
<p>å°±ä¼šè°ƒç”¨æˆ‘ä»¬å†™å¥½çš„mcp-serveré‡Œé¢@tool è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºå‚æ•° nameæ˜¯åˆ˜äº¦è² styleæ˜¯å‹å¥½çš„</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, style: <span class="hljs-built_in">str</span> = <span class="hljs-string">"friendly"</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""æŒ‰ç…§é€‰æ‹©çš„è¯­æ°”å‘æŸäººé—®å¥½"""</span>
    style_key = (style <span class="hljs-keyword">or</span> <span class="hljs-string">"friendly"</span>).strip().lower()

    <span class="hljs-keyword">if</span> style_key == <span class="hljs-string">"formal"</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ï¼Œæ‚¨å¥½ï¼ç¥æ‚¨ä¸€åˆ‡é¡ºåˆ©ï¼Œå·¥ä½œç”Ÿæ´»çš†å¦‚æ„ã€‚"</span>
    <span class="hljs-keyword">if</span> style_key == <span class="hljs-string">"casual"</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ï¼Œå˜¿ï¼ç¥ä½ ä»Šå¤©å¿ƒæƒ…è¶…å¥½ï¼Œå•¥äº‹éƒ½é¡ºï¼"</span>

    <span class="hljs-comment"># é»˜è®¤ï¼šå‹å¥½é£æ ¼</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"<span class="hljs-subst">{name}</span>ï¼Œä½ å¥½ï¼å¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ„¿ä½ ä»Šå¤©å¹³å®‰å–œä¹ã€å¿ƒæƒ³äº‹æˆã€‚"</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b95390e43d14dd0bda7d779a9834786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=SrAu2CS0p3puAN7WcxE1fVDxemE%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥æ¥ç€æé—®ï¼Œéƒ½ä¸ç”¨è¯´ä½¿ç”¨demo-mcp-local</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a1ca84d97e14cd081924df021598710~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=TIJ6hAWmz16hv1x3eSfPDN3W7Yk%3D" alt="image.png" loading="lazy"/></p>
<p>å†è°ƒç”¨ä¸‹æˆ‘ä»¬é‚£ä¸ªæ±‚å’Œå·¥å…·</p>
<pre><code class="hljs language-sql" lang="sql">ç”¨<span class="hljs-keyword">user</span><span class="hljs-operator">-</span>demo<span class="hljs-operator">-</span>mcp<span class="hljs-operator">-</span><span class="hljs-keyword">local</span> è®¡ç®—<span class="hljs-number">1109</span><span class="hljs-operator">+</span><span class="hljs-number">10</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7836ecc22fd4f5d81106a6276da8090~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZ29uZ3plbWlu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770715262&amp;x-signature=btfB3e3LNZ4AbBTuFhsYN7imqZo%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å°±æˆåŠŸçš„æ–°å»ºäº†MCP server, å¹¶åœ¨Cursorè°ƒç”¨ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œå›ç­”è€…â€è¿›åŒ–ä¸ºâ€œç ”ç©¶å‘˜â€ï¼šå…¨é¢è§£æ Deep Research]]></title>    <link>https://juejin.cn/post/7602216700747956224</link>    <guid>https://juejin.cn/post/7602216700747956224</guid>    <pubDate>2026-02-03T10:20:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602216700747956224" data-draft-id="7602246300453322787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œå›ç­”è€…â€è¿›åŒ–ä¸ºâ€œç ”ç©¶å‘˜â€ï¼šå…¨é¢è§£æ Deep Research"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-02-03T10:20:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2634854380340008"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œå›ç­”è€…â€è¿›åŒ–ä¸ºâ€œç ”ç©¶å‘˜â€ï¼šå…¨é¢è§£æ Deep Research
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2634854380340008/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:20:58.000Z" title="Tue Feb 03 2026 10:20:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€èƒŒæ™¯</h2>
<p>åœ¨ AI é—®ä¸–çš„ä¸¤å¹´é‡Œï¼Œæˆ‘ä»¬ä¹ æƒ¯äº†æŠŠå®ƒå½“ä½œä¸€ä¸ªè¶…çº§ç™¾ç§‘å…¨ä¹¦ï¼šå¦‚æœä½ é—®å®ƒä¸€ä¸ªäº‹å®ï¼Œå®ƒä¼šç»™å‡ºç­”æ¡ˆï¼›å¦‚æœä½ ç»™å®ƒä¸€æ®µæ–‡å­—ï¼Œå®ƒä¼šå¸®ä½ æ€»ç»“ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬é¢å¯¹â€œåˆ†ææŸè¡Œä¸šæœªæ¥äº”å¹´çš„è¶‹åŠ¿â€æˆ–â€œæ’°å†™ä¸€ä»½è¯¦å°½çš„æŠ€æœ¯ç«å“è°ƒç ”æŠ¥å‘Šâ€è¿™æ ·å¤æ‚çš„ä»»åŠ¡æ—¶ï¼Œä¼ ç»Ÿçš„ LLM å¾€å¾€æ˜¾å¾—åŠ›ä¸ä»å¿ƒâ€”â€”å®ƒä»¬ç¼ºä¹æ·±åº¦ï¼Œå®¹æ˜“äº§ç”Ÿå¹»è§‰ï¼Œä¸”å—é™äºä¸Šä¸‹æ–‡é•¿åº¦ã€‚</p>
<p>Deep Researchæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹è€Œç”Ÿã€‚å®ƒä¸å†æ˜¯ä¸€ä¸ªç®€å•çš„èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯å…·å¤‡è‡ªä¸»æ¨ç†èƒ½åŠ›çš„â€œAI ç ”ç©¶å‘˜â€ã€‚</p>
<p>æˆ‘å°†ä¼šåœ¨ä¸‹é¢çš„å†…å®¹ä¸­æ·±å…¥å‰–æ Deep Research çš„è¿è¡Œæœºåˆ¶ã€å…¶èƒŒåçš„å·¥ç¨‹æŒ‘æˆ˜ä»¥åŠå®ƒå¦‚ä½•é€šè¿‡â€œReAct èŒƒå¼â€é‡å¡‘ä¿¡æ¯è·å–çš„æ–¹å¼ã€‚</p>
<h2 data-id="heading-1">2ã€ä»€ä¹ˆæ˜¯ Deep Research</h2>
<p>Deep Research æ˜¯ ä¸“ä¸ºç½‘é¡µæµè§ˆã€æ•°æ®åˆ†æå’Œå¤æ‚ä»»åŠ¡å¤„ç†è€Œä¼˜åŒ–çš„å…¨æ–°åŠŸèƒ½ã€‚ä¸æ™®é€š LLM â€œé—®ä»€ä¹ˆç­”ä»€ä¹ˆâ€çš„è¢«åŠ¨æ¨¡å¼ä¸åŒï¼ŒDeep Research å…·å¤‡<strong>ä¸»åŠ¨è§„åˆ’</strong>å’Œ<strong>æ·±åº¦æ¨ç†</strong>çš„èƒ½åŠ›ã€‚</p>
<p><strong>å®ƒçš„æ ¸å¿ƒç‰¹å¾å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</strong></p>
<p>1.è‡ªä¸»æ€§ï¼ˆAutonomyï¼‰ï¼š å®ƒå¯ä»¥ä¸€è¾¹æ€è€ƒï¼Œä¸€è¾¹â€œæŸ¥èµ„æ–™â€ã€‚å®ƒä¸ä»…æ˜¯æ£€ç´¢ä¿¡æ¯ï¼Œè¿˜èƒ½è‡ªä¸»åˆ¤æ–­ä¿¡æ¯æ˜¯å¦è¶³å¤Ÿï¼Œå¦‚æœä¸è¶³ï¼Œå®ƒä¼šä¸»åŠ¨è°ƒæ•´æœç´¢å…³é”®è¯å†æ¬¡æ£€ç´¢ã€‚</p>
<p>2.é•¿é“¾æ¡æ¨ç†ï¼ˆLong-chain Reasoningï¼‰ï¼š åŸºäº LLMçš„æ¨ç†èƒ½åŠ›ï¼Œå®ƒèƒ½å°†ä¸€ä¸ªæ¨¡ç³Šçš„åºå¤§éœ€æ±‚æ‹†è§£ä¸ºå¤šä¸ªå­æ­¥éª¤ï¼Œåˆ†é˜¶æ®µæ‰§è¡Œã€‚</p>
<p>3.ä¸“ä¸šæŠ¥å‘Šç”Ÿæˆï¼š æœ€ç»ˆè¾“å‡ºçš„ä¸æ˜¯é›¶æ•£çš„å¯¹è¯ï¼Œè€Œæ˜¯åŒ…å«é€»è¾‘æ‘˜è¦ã€æ¸…æ™°å¼•ç”¨æ¥æºå’Œå®Œæ•´æ–‡æ¡£çš„ä¸“ä¸šçº§ç ”ç©¶æŠ¥å‘Šã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å®ƒï¼Ÿ</strong> å½“å‰çš„ä¿¡æ¯éœ€æ±‚å¾€å¾€éœ€è¦è·¨è¶Šå¤šä¸ªæ¥æºã€é˜…è¯»å¤§é‡éç»“æ„åŒ–æ•°æ®ã€‚Deep Research å®é™…ä¸Šé™ä½äº†â€œæµ·é‡ä¿¡æ¯æ”¶é›†â€<strong>ä¸</strong>â€œé«˜è´¨é‡æ¨ç†æ•´åˆâ€ä¹‹é—´çš„å£å’ï¼Œå°¤å…¶æ“…é•¿æŒ–æ˜é‚£äº›éœ€è¦æµè§ˆæ•°åä¸ªç½‘é¡µæ‰èƒ½æ‹¼å‡‘å‡ºçš„å°ä¼—æˆ–éç›´è§‚ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-2">3ã€æ ¸å¿ƒåŸç†ï¼šä» DeepSearch åˆ° DeepResearch</h2>
<p>è¦ç†è§£ Deep Researchï¼Œé€šè¿‡ä¸¤ä¸ªå±‚çº§æ¥çœ‹ï¼šåº•å±‚çš„æœç´¢å¾ªç¯ï¼ˆDeepSearchï¼‰å’Œä¸Šå±‚çš„æŠ¥å‘Šæ¡†æ¶ï¼ˆDeepResearchï¼‰ã€‚</p>
<h3 data-id="heading-3">3.1 æ ¸å¿ƒå¼•æ“ï¼šDeepSearchï¼ˆå¾ªç¯ä¸è¿­ä»£ï¼‰</h3>
<p>DeepSearch çš„æœ¬è´¨æ˜¯ä¸€ä¸ªâ€œæœç´¢ - é˜…è¯» - æ¨ç†â€çš„æ— é™å¾ªç¯ã€‚è¿™ä¸æˆ‘ä»¬ç†Ÿæ‚‰çš„ <strong>ReAct Agent</strong> èŒƒå¼é«˜åº¦ç›¸ä¼¼ï¼Œä½†é€šè¿‡å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰ä¸ä»…å­¦ä¼šäº†æ¨ç†ï¼Œæ›´å­¦ä¼šäº†â€œæœç´¢ç­–ç•¥â€ï¼š</p>
<p>â€¢æœç´¢ï¼ˆSearchï¼‰ï¼š æ¢ç´¢äº’è”ç½‘ï¼Œè·å–åŸå§‹ä¿¡æ¯ã€‚</p>
<p>â€¢é˜…è¯»ï¼ˆReadï¼‰ï¼š å¯¹ç‰¹å®šç½‘é¡µè¿›è¡Œè¯¦å°½åˆ†æï¼Œæå–å…³é”®ç‰‡æ®µã€‚</p>
<p>â€¢æ¨ç†ï¼ˆThinkï¼‰ï¼š è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æ¨¡å‹ä¼šè¯„ä¼°å½“å‰æ”¶é›†åˆ°çš„ä¿¡æ¯æ˜¯å¦è¶³ä»¥å›ç­”é—®é¢˜ã€‚å¦‚æœä¸å¤Ÿï¼Œå®ƒä¼šå†³å®šæ˜¯å°†é—®é¢˜æ‹†è§£ä¸ºæ›´å°çš„å­é—®é¢˜ï¼Œè¿˜æ˜¯å°è¯•å…¨æ–°çš„æœç´¢å…³é”®è¯ã€‚</p>
<p>è¿™ç§  â†’  â†’  â†’  â†’  çš„æ¨¡å¼ï¼Œè®© AI å…·å¤‡äº†â€œè‡ªæˆ‘çº é”™â€å’Œâ€œè¿½æ ¹ç©¶åº•â€çš„èƒ½åŠ›ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e6b379a54fc4d3f9432aaaf2fc12943~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=ph%2BGqOLgE3Oj%2BLSW1%2Bvjo%2BNq1Vk%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<h3 data-id="heading-4">3.2 ä¸Šå±‚æ¡†æ¶ï¼šDeepResearchï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰</h3>
<p>DeepSearch è´Ÿè´£æ‰¾ç­”æ¡ˆï¼Œè€Œ DeepResearch è´Ÿè´£å†™æŠ¥å‘Šã€‚å®ƒåœ¨ DeepSearch çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ª<strong>ç»“æ„åŒ–æ¡†æ¶</strong>ï¼š</p>
<p>1.ç”¨æˆ·æ„å›¾ç†è§£ &amp; ç›®å½•ç”Ÿæˆï¼ˆTOCï¼‰ï¼š æ¥æ”¶æŒ‡ä»¤åï¼Œé¦–å…ˆç”ŸæˆæŠ¥å‘Šç›®å½•ï¼ˆå¦‚å¼•è¨€ã€æ–¹æ³•è®ºã€ç›¸å…³å·¥ä½œã€ç»“è®ºï¼‰ã€‚</p>
<p>2.åˆ†ç« èŠ‚æ‰§è¡Œï¼š ç³»ç»Ÿæ€§åœ°å°† DeepSearch å¼•æ“åº”ç”¨åˆ°æŠ¥å‘Šçš„æ¯ä¸€ä¸ªç« èŠ‚ä¸­ã€‚æ¯ä¸ªç« èŠ‚éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç ”ç©¶ä»»åŠ¡ã€‚</p>
<p>3.å…¨å±€æ•´åˆï¼š æœ€åå°†æ‰€æœ‰ç« èŠ‚å†…å®¹æ•´åˆï¼Œè¿›è¡Œè¿è´¯æ€§æ¶¦è‰²ï¼Œç”Ÿæˆæœ€ç»ˆæŠ¥å‘Šã€‚</p>
<p>æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹é€šå¸¸è€—æ—¶ 5 åˆ° 30 åˆ†é’Ÿï¼Œè¿™åœ¨ä»¥å‰çš„å³æ—¶é—®ç­”ä¸­æ˜¯ä¸å¯æƒ³è±¡çš„ï¼Œä½†å¯¹äºæ·±åº¦ç ”ç©¶æ¥è¯´ï¼Œå´æ˜¯æé«˜çš„æ•ˆç‡ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ea07a0788d040fc9bf941dcaa476acb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=Hy4jUl8GoCzFUsA6qwpXQF7N%2F14%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>è®© LLM åœ¨è‡ªèº«æ¨ç†è¿‡ç¨‹ä¸­ä¸æœç´¢å¼•æ“äº¤æ›¿äº¤äº’ã€‚ç”¨æˆ·è¾“å…¥queryï¼ŒLLMäº§ç”ŸTOCï¼Œç„¶åè¿›å…¥å¾ªç¯ï¼šæŸ¥æ‰¾ã€è¯»å–å’Œæ¨ç†ï¼Œç›´åˆ°è¾¾åˆ°ç»“æŸçš„æ¡ä»¶ï¼Œç„¶åå†é€šè¿‡LLMåšæ€»ç»“ï¼Œæœ€ç»ˆç»™ç”¨æˆ·è¾“å‡ºå®Œæ•´çš„ç ”ç©¶æŠ¥å‘Šï¼ˆ â†’  â†’  â†’  â†’  ï¼‰çš„æ¨¡å¼ï¼Œå·²ç»éå¸¸æ¥è¿‘æˆ‘ä»¬ç†Ÿæ‚‰çš„ ReAct Agent èŒƒå¼ã€‚ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œçš„ Agent ä¸ä¾èµ–æç¤ºè¯ï¼Œè€Œæ˜¯é€šè¿‡ RL çœŸæ­£â€œå­¦ä¼šäº†â€æœç´¢ç­–ç•¥ã€‚å®è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª â€œå¸¦æœç´¢èƒ½åŠ›çš„ ReAct Agentâ€ï¼Œåªä¸è¿‡ä¸å†ä¾èµ–æç¤ºè¯å·¥ç¨‹ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡å¼ºåŒ–å­¦ä¹ å­¦ä¼šä½•æ—¶æœç´¢ã€ä½•æ—¶æ¨ç†ã€‚æ³¨æ„ï¼Œå®ƒæ˜¯ä¸»åŠ¨è®¤çŸ¥åˆ°ä½•æ—¶éœ€è¦æ£€ç´¢ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ˜¾è‘—çš„ç‰¹ç‚¹å’Œä¸åŒã€‚</p>
<h2 data-id="heading-5">4ã€ å·¥ç¨‹åŒ–æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fc47547a948485ca5dfb41326ce9987~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=xEyHaOumuSZuUPpoLpFHBxsjSuY%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p>Deep Research ä¹‹æ‰€ä»¥èƒ½è¶…è¶Šæ™®é€šçš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ï¼Œåœ¨äºå®ƒè§£å†³äº†ä¸€ç³»åˆ—æ£˜æ‰‹çš„å·¥ç¨‹é—®é¢˜ã€‚é€šè¿‡å¯¹æŠ€æœ¯ç»†èŠ‚çš„å¤ç›˜ï¼Œæˆ‘ä»¬å¯ä»¥äº†è§£åˆ°å…¶èƒŒåçš„æŠ€æœ¯å®ç°ã€‚</p>
<h3 data-id="heading-6">4.1 è§£å†³â€œåƒåœ¾è¿›ï¼Œåƒåœ¾å‡ºâ€ï¼šURL æ’åºä¸æ¸…æ´—</h3>
<h4 data-id="heading-7">4.1.1 é—®é¢˜</h4>
<p>Deep Research åœ¨ä¸€æ¬¡ä»»åŠ¡ä¸­å¯èƒ½æ‰«ææ•°ç™¾ä¸ª URLã€‚å¦‚æœæŠŠè¿™äº›å†…å®¹ä¸€è‚¡è„‘å¡ç»™ LLMï¼Œä¸ä»…æµªè´¹ Tokenï¼Œè¿˜ä¼šå¯¼è‡´æ¨¡å‹â€œçé€‰â€ç­”æ¡ˆã€‚åœ¨æ¯ä¸€æ¬¡ DeepReSearch æ¼«é•¿è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šä»æœç´¢å¼•æ“ç»“æœé¡µï¼ˆSERPï¼‰é‡Œæ”¶é›†ä¸€å † URLï¼Œæ¯æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œåˆèƒ½é¡ºè—¤æ‘¸ç“œæ‰¾å‡ºä¸å°‘æ–°é“¾æ¥ï¼Œå°±ç®—æ˜¯å»é‡åï¼Œä¹Ÿæ˜¯è½»è½»æ¾æ¾å‡ ç™¾ä¸ªç½‘å€ã€‚åŒæ ·çš„ï¼Œä¸€è‚¡è„‘å„¿å…¨å¡ç»™ LLM è‚¯å®šä¸è¡Œï¼Œæµªè´¹å®è´µçš„ä¸Šä¸‹æ–‡é•¿åº¦ä¸è¯´ï¼Œæ›´è¦å‘½çš„æ˜¯ï¼Œæˆ‘ä»¬å‘ç° LLM åŸºæœ¬ä¸Šå°±æ˜¯çé€‰ã€‚æ‰€ä»¥ï¼Œå¾—æƒ³åŠæ³•å¼•å¯¼ LLM å»æŒ‘å‡ºé‚£äº›æœ€æœ‰å¯èƒ½åŒ…å«ç­”æ¡ˆçš„ URLã€‚</p>
<h4 data-id="heading-8">4.1.2 è§£å†³æ–¹æ¡ˆï¼šä¸¤é˜¶æ®µé‡æ’åºï¼ˆRe-rankingï¼‰</h4>
<p>URL æ’åºæ‰“åˆ†è¯„æµ‹æ˜¯ Deep Research ç³»ç»Ÿä¸­çš„å…³é”®æŠ€æœ¯ç¯èŠ‚ï¼Œå®ƒç›´æ¥å½±å“åˆ°ä¿¡æ¯è·å–çš„æ•ˆç‡å’Œè´¨é‡ã€‚ç³»ç»Ÿé‡‡ç”¨äº†å¤šå±‚æ¬¡ã€å¤šç»´åº¦çš„æ’åºç­–ç•¥ï¼Œç¡®ä¿èƒ½å¤Ÿä»æµ·é‡çš„æœç´¢ç»“æœä¸­å¿«é€Ÿå®šä½æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯æºã€‚â€‹</p>
<p>ç»¼åˆè¯„åˆ†æœºåˆ¶æ˜¯ URL æ’åºçš„æ ¸å¿ƒã€‚ç³»ç»Ÿä¼šç»¼åˆè€ƒè™‘å¤šä¸ªå› ç´ ï¼šæœ€åæ›´æ–°æ—¶é—´ã€åŸŸåå‡ºç°çš„é¢‘ç‡ã€ç½‘é¡µè·¯å¾„ç»“æ„ï¼Œä»¥åŠæœ€é‡è¦çš„ä¸é—®é¢˜çš„è¯­ä¹‰ç›¸å…³æ€§ï¼Œç®—å‡ºä¸€ä¸ªç»¼åˆè¯„åˆ†â€‹ã€‚è¿™ç§å¤šç»´åº¦çš„è¯„åˆ†æœºåˆ¶èƒ½å¤Ÿå…¨é¢è¯„ä¼° URL çš„ä»·å€¼ï¼Œé¿å…äº†å•ä¸€ç»´åº¦æ’åºçš„å±€é™æ€§ã€‚â€‹</p>
<p>å…·ä½“çš„è¯„åˆ†å› ç´ åŒ…æ‹¬ï¼šâ€‹</p>
<p>1.<strong>é¢‘ç‡ä¿¡å·ï¼š</strong> å¦‚æœæŸä¸ª URL åœ¨ä¸åŒçš„ä¿¡æ¯æºä¸­å¤šæ¬¡å‡ºç°ï¼Œå®ƒçš„æƒé‡å°±ä¼šæ›´é«˜ã€‚å¦å¤–ï¼Œå¦‚æœæŸä¸ªåŸŸååœ¨æœç´¢ç»“æœä¸­ç»å¸¸å‡ºç°ï¼Œæ¥è‡ªè¿™ä¸ªåŸŸåçš„ URL ä¹Ÿä¼šè¢«åŠ åˆ†ã€‚å› ä¸ºä¸€èˆ¬æ¥è¯´ï¼Œçƒ­é—¨åŸŸåå¾€å¾€åŒ…å«æ›´æƒå¨çš„å†…å®¹ã€‚â€‹</p>
<p>2.<strong>è·¯å¾„ç»“æ„ï¼š</strong> ä¼šåˆ†æ URL çš„è·¯å¾„ç»“æ„ï¼Œæ¥åˆ¤æ–­å“ªäº›å†…å®¹æ˜¯èšé›†åœ¨ä¸€èµ·çš„ã€‚å¦‚æœå¤šä¸ªç½‘å€éƒ½å±äºåŒä¸€ä¸ªè·¯å¾„å±‚çº§ï¼Œå®ƒä»¬çš„åˆ†æ•°ä¼šæ›´é«˜ï¼›ä½†è·¯å¾„è¶Šæ·±ï¼Œåˆ†æ•°åŠ æˆä¼šé€æ¸å‡å°‘ã€‚â€‹</p>
<p>3.<strong>è¯­ä¹‰ç›¸å…³æ€§ï¼š</strong> ä½¿ç”¨ å°æ¨¡å‹ï¼ˆä¾‹å¦‚ï¼šjina-reranker-v2-base-multilingualï¼‰æˆ–è€…å¤§æ¨¡å‹ æ¥è¯„ä¼°é—®é¢˜å’Œæ¯ä¸ª URL çš„æ–‡æœ¬ä¿¡æ¯ï¼ˆä¾‹å¦‚æ ‡é¢˜å’Œæ‘˜è¦ï¼‰çš„è¯­ä¹‰ç›¸å…³æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„é‡æ’åºé—®é¢˜â€‹ã€‚æ¯ä¸ª URL çš„æ–‡æœ¬ä¿¡æ¯æ¥è‡ªæœç´¢å¼•æ“ç»“æœé¡µï¼ˆSERPï¼‰API è¿”å›çš„æ ‡é¢˜å’Œæ‘˜è¦ï¼Œä»¥åŠé¡µé¢ä¸Š URL çš„é”šæ–‡æœ¬ã€‚â€‹</p>
<p>4.<strong>æœ€åæ›´æ–°æ—¶é—´ï¼š</strong> æœ‰äº›æŸ¥è¯¢å¯¹æ—¶æ•ˆæ€§è¦æ±‚å¾ˆé«˜ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œè¶Šæ–°çš„ URL ä»·å€¼è¶Šé«˜ã€‚ç³»ç»Ÿé‡‡ç”¨ä¸€å¥—ç»„åˆæ‹³ï¼Œç»¼åˆè€ƒè™‘ SERP API æä¾›çš„ç­›é€‰åŠŸèƒ½ã€HTTP Header ä¿¡æ¯åˆ†æã€å…ƒæ•°æ®æå–ã€å†…å®¹æ¨¡å¼è¯†åˆ«ç­‰ï¼Œæœ€ç»ˆç»™å‡ºä¸€ä¸ªå¸¦æœ‰ç½®ä¿¡åº¦è¯„åˆ†çš„æ—¶é—´æˆ³ã€‚â€‹</p>
<p>5.<strong>å—é™å†…å®¹è¯†åˆ«ï¼š</strong> æŸäº›ç¤¾äº¤åª’ä½“å¹³å°çš„å†…å®¹æ˜¯å—é™çš„ï¼Œæˆ–è€…éœ€è¦ä»˜è´¹æ‰èƒ½è®¿é—®ã€‚ç³»ç»Ÿä¼šç§¯æç»´æŠ¤ä¸€ä»½é»‘åå•ï¼ŒæŠŠè¿™äº›æœ‰é—®é¢˜çš„ URL å’ŒåŸŸåéƒ½è®°å½•ä¸‹æ¥ï¼Œé™ä½å®ƒä»¬çš„æ’åï¼Œé¿å…åœ¨è¿™äº›æ— æ³•è®¿é—®çš„å†…å®¹ä¸Šæµªè´¹è®¡ç®—èµ„æºã€‚â€‹</p>
<p>6.<strong>åŸŸåå¤šæ ·æ€§ï¼š</strong> ä¸ºäº†æé«˜ç»“æœçš„å¤šæ ·æ€§ï¼Œé¿å…é™·å…¥ "å±€éƒ¨æœ€ä¼˜"ï¼Œç³»ç»Ÿé‡‡ç”¨ "æ¢ç´¢ - åˆ©ç”¨" çš„ç­–ç•¥ï¼šä»æ¯ä¸ªåŸŸåä¸‹é€‰æ‹©æ’å Top K çš„ URLã€‚</p>
<p><strong>ç²—æ’å’Œç²¾æ’ï¼š</strong></p>
<p>â€¢ç²—æ’ï¼š å¿«é€Ÿç­›é€‰ï¼Œè¿½æ±‚å¬å›ç‡ã€‚</p>
<p>â€¢ç²¾æ’ï¼š é’ˆå¯¹ç²—æ’ç»“æœè¿›è¡Œæ·±åº¦è¯„ä¼°ã€‚è¿™é‡Œé€šå¸¸é‡‡ç”¨åŸºäºé‡æ’æ¨¡å‹ï¼ˆCross-Encoderï¼‰æˆ–åŸºäº LLM çš„é‡æ’åºã€‚åˆ©ç”¨ LLM çš„è¯­ä¹‰ç†è§£èƒ½åŠ›ï¼Œç”šè‡³ä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•ï¼ˆä»åå‘å‰æ»‘åŠ¨ï¼‰ï¼Œå¯¹å€™é€‰æ®µè½è¿›è¡Œç›¸å…³æ€§æ‰“åˆ†ï¼Œç¡®ä¿åªæœ‰å«é‡‘é‡æœ€é«˜çš„ä¿¡æ¯è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
<p>ç²—æ’æ£€ç´¢æ•ˆç‡è¾ƒå¿«ï¼Œä½†æ˜¯å¬å›çš„å†…å®¹å¹¶ä¸ä¸€å®šå¼ºç›¸å…³ã€‚è€Œç²¾æ’æ•ˆç‡è¾ƒä½ï¼Œå› æ­¤é€‚åˆåœ¨ç²—æ’çš„åŸºç¡€ä¸Šè¿›è¡Œè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚é‡æ’çš„ä»»åŠ¡å°±æ˜¯è¯„ä¼°è¿™äº›ä¸Šä¸‹æ–‡çš„ç›¸å…³æ€§ï¼Œä¼˜å…ˆè€ƒè™‘é‚£äº›æœ€æœ‰å¯èƒ½æä¾›å‡†ç¡®å’Œç›¸å…³ä¿¡æ¯çš„å†…å®¹ã€‚</p>
<p>é‡æ’æ–¹æ³•ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼š</p>
<p><strong>åŸºäºé‡æ’æ¨¡å‹ï¼š</strong> è¿™äº›æ¨¡å‹å¯ä»¥è¾“å‡ºæ–‡æ¡£ä¸æŸ¥è¯¢ä¹‹é—´çš„ç›¸å…³æ€§ï¼›å¤Ÿé’ˆå¯¹ä¸€ä¸ªæŸ¥è¯¢å’Œæ–‡æ¡£å¯¹ï¼Œè¾“å‡ºå®ƒä»¬çš„ç›¸ä¼¼åº¦åˆ†æ•°ã€‚æˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªåˆ†æ•°å¯¹æ–‡æ¡£æŒ‰ç…§ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§è¿›è¡Œé‡æ–°æ’åºã€‚è§£å†³ä¼ ç»Ÿæ£€ç´¢æ–¹æ³•ï¼ˆå¦‚BM25ã€å‘é‡æ£€ç´¢ï¼‰çš„å±€é™æ€§ï¼Œä¾‹å¦‚è¯­ä¹‰æ¨¡ç³Šæ€§ã€é•¿å°¾å…³é”®è¯æ¼æ£€ã€å¤šæ¨¡æ€æ„å›¾ç†è§£ä¸è¶³ç­‰é—®é¢˜ã€‚ä¼˜åŒ–æ£€ç´¢ç»“æœçš„Top-Kæ’åºï¼Œæå‡åç»­LLMç”Ÿæˆç­”æ¡ˆçš„å‡†ç¡®æ€§å’Œæ•ˆç‡</p>
<p><strong>åŸºäº LLMï¼š</strong> ç”±äºå¤§æ¨¡å‹å¯ä»¥æ›´å…¨é¢åœ°æ•æ‰è¯­ä¹‰ä¿¡æ¯ï¼Œä¹Ÿå¯è¢«ç”¨äºé‡æ’åºã€‚ä½¿ç”¨ Prompt çš„æ–¹å¼å¼•å¯¼ LLM è¿›è¡Œé‡æ’åºã€‚ç›´æ¥åˆ©ç”¨ LLM çš„è¯­ä¹‰ç†è§£èƒ½åŠ›å¯¹æ‰€æœ‰å€™é€‰æ®µè½è¿›è¡Œç›¸å…³æ€§ç¨‹åº¦æ’åã€‚å¦‚æœæ–‡æ¡£çš„æ•°é‡é€šå¸¸éå¸¸å¤§ï¼Œè€Œ LLM å¯èƒ½æ— æ³•ä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰çš„æ–‡æœ¬æ•°æ®ã€‚ä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•åŸç†ï¼Œæ»‘é¡ºåºæ˜¯ä»åå‘å‰çš„ï¼Œå°†å‰ä¸€ä¸ªçª—å£ä¸­çš„å‰ä¸¤ä¸ªæ®µè½å‚ä¸ä¸‹ä¸€ä¸ªçª—å£çš„é‡æ’åºã€‚</p>
<h3 data-id="heading-9">4.2 è§£å†³â€œå¤§æµ·æé’ˆâ€ä¸â€œä¸Šä¸‹æ–‡ä¸¢å¤±â€ï¼šé•¿ç½‘é¡µå†…å®¹æå–</h3>
<h4 data-id="heading-10">4.2.1 é—®é¢˜</h4>
<p>è¯»å–ç½‘é¡µå†…å®¹åï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä½œä¸ºä¸€æ¡çŸ¥è¯†ï¼Œæ”¾åˆ° Agent çš„ä¸Šä¸‹æ–‡é‡Œï¼Œä¾›å®ƒæ¨ç†ã€‚è™½ç„¶æŠŠå…¨éƒ¨å†…å®¹ä¸€è‚¡è„‘å¡è¿› LLM çš„ä¸Šä¸‹æ–‡æ˜¯æœ€çœäº‹çš„åŠæ³•ï¼Œä½†è€ƒè™‘åˆ° Token æˆæœ¬å’Œç”Ÿæˆé€Ÿåº¦ï¼Œè¿™è‚¯å®šä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚åœ¨å®é™…åº”ç”¨é‡Œï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºå†…å®¹ä¸­ä¸é—®é¢˜æœ€ç›¸å…³çš„éƒ¨åˆ†ï¼ŒåªæŠŠè¿™äº›éƒ¨åˆ†ä½œä¸ºçŸ¥è¯†æ·»åŠ åˆ° Agent çš„ä¸Šä¸‹æ–‡é‡Œã€‚</p>
<p>æˆ‘ä»¬ä¸€è¾¹æ˜¯é—®é¢˜ï¼ˆåŸå§‹æŸ¥è¯¢æˆ–â€œä¿¡æ¯å·®â€é—®é¢˜ï¼‰ï¼Œå¦ä¸€è¾¹æ˜¯å¤§é‡çš„ Markdown å†…å®¹ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†å†…å®¹éƒ½æ˜¯æ— å…³ç´§è¦çš„ã€‚æˆ‘ä»¬éœ€è¦é€‰å‡ºä¸é—®é¢˜æœ€ç›¸å…³çš„ç‰‡æ®µã€‚</p>
<p><strong>æœ‰é™æ•°é‡æ–‡æ¡£ä¸­çš„æœ‰é™æ•°é‡çš„æ–‡æœ¬å—ï¼š</strong> å‡è®¾æ¯ä¸ªå—å¤§çº¦æœ‰ 500 ä¸ª Tokenï¼Œé‚£ä¹ˆä¸€ä¸ªå…¸å‹çš„é•¿ç½‘é¡µæ–‡æ¡£å¤§çº¦æœ‰ 20 ä¸‡ Tokenï¼ˆä¸­ä½æ•°ï¼‰åˆ° 100 ä¸‡ Tokenã€‚æˆ‘ä»¬æ¯ä¸€æ­¥æŠ“å– 4-5 ä¸ª URLï¼Œè¿™æ ·å¤§æ¦‚ä¼šäº§ç”Ÿå‡ ç™¾ä¸ªæ–‡æœ¬å—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡ ç™¾ä¸ªå‘é‡å’Œå‡ ç™¾ä¸ªä½™å¼¦ç›¸ä¼¼åº¦ã€‚åœ¨å†…å­˜é‡Œå°±èƒ½è½»æ¾å¤„ç†ï¼Œæ ¹æœ¬ä¸éœ€è¦å‘é‡æ•°æ®åº“ã€‚</p>
<p><strong>æˆ‘ä»¬éœ€è¦è¿ç»­çš„æ–‡æœ¬å—æ¥å½¢æˆæœ‰æ•ˆçš„çŸ¥è¯†æ‘˜è¦ï¼š</strong> æˆ‘ä»¬ä¸èƒ½æ¥å—ç”±åˆ†æ•£çš„å¥å­ç»„æˆçš„æ‘˜è¦ã€‚æ›´æœ‰ç”¨çš„çŸ¥è¯†æ‘˜è¦ï¼Œæ›´èƒ½ä¿æŒæ–‡æœ¬çš„è¿è´¯æ€§ã€‚è¿™æ · LLM æ›´å®¹æ˜“ä»çŸ¥è¯†æºä¸­å¤åˆ¶å’Œå¼•ç”¨ï¼Œä¹Ÿèƒ½å‡å°‘â€œå¹»è§‰â€ã€‚</p>
<p>ç½‘é¡µå†…å®¹åŠ¨è¾„æ•°ä¸‡ Tokenï¼Œä¸”å……æ»¡å™ªéŸ³ã€‚å¦‚ä½•æå–æœ‰æ•ˆä¿¡æ¯ä¸”ä¿æŒä¸Šä¸‹æ–‡è¿è´¯ï¼Ÿ</p>
<h4 data-id="heading-11">4.2.2 è§£å†³æ–¹æ¡ˆï¼šè¿Ÿåˆ†ç®—æ³•ï¼ˆLate Chunkingï¼‰</h4>
<p>ä¼ ç»Ÿçš„ RAG ä¼šç›´æ¥æŠŠæ–‡æ¡£åˆ‡å—ï¼ˆChunkingï¼‰ç„¶åå‘é‡åŒ–ï¼Œä½†è¿™ä¼šå¯¼è‡´åˆ‡å—ä¸¢å¤±å…¨å±€ä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚ä¸€ä¸ªä»£è¯â€œå®ƒâ€åœ¨åˆ‡å—åä¸çŸ¥é“æŒ‡ä»£è°ï¼‰ã€‚</p>
<p>â€¢<strong>Late Chunkingï¼ˆè¿Ÿåˆ†ï¼‰ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªæå…¶ç²¾å¦™çš„ä¼˜åŒ–ã€‚å®ƒä¸æ€¥ç€åˆ‡å—ï¼Œè€Œæ˜¯å…ˆç”¨æ”¯æŒè¶…é•¿ä¸Šä¸‹æ–‡çš„æ¨¡å‹ï¼ˆå¦‚ jina-embeddings-v3ï¼‰å¯¹æ•´ä¸ªæ–‡æ¡£è¿›è¡Œç¼–ç ï¼Œä¿ç•™å…¨å±€è¯­ä¹‰ã€‚</p>
<p>é•¿æ–‡æ¡£åˆ‡å—ï¼Œæœ‰ä¿©ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæ–‡æœ¬å—åˆ†å‰²å¾—å‡†ä¸å‡†ï¼Œè¿™ä¸ä»…å…³ç³»åˆ°æœç´¢ç»“æœå¥½ä¸å¥½è¯»ï¼Œè¿˜å…³ç³»åˆ°åš RAG çš„æ—¶å€™ï¼Œç»™ LLM å–‚è¿›å»çš„æ–‡æœ¬å—æ˜¯ä¸æ˜¯æ­£å¥½ï¼Œä¸å¤šä¸å°‘ï¼›ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼šæ¯ä¸ªåˆ†å—é‡Œçš„ä¸Šä¸‹æ–‡ä¿¡æ¯å®¹æ˜“ä¸¢å¤±ã€‚æ–‡æ¡£åˆ‡å®Œä¹‹åï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æŠŠæ¯ä¸ªåˆ†å—æ‹¿å»æ‰¹é‡å‘é‡åŒ–ã€‚ä½†è¿™ä¹ˆåšå®¹æ˜“æŠŠåŸæ–‡æ¡£é‡Œçš„å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯ç»™ä¸¢äº†ã€‚</p>
<p>è¿Ÿåˆ†ï¼ˆLate Chunkingï¼‰ä¸»è¦å°±æ˜¯è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ â€”â€” ä¸Šä¸‹æ–‡ä¸¢å¤±ã€‚å®ƒä¸æ˜¯ç”¨æ¥æ‰¾æœ€ä½³æ–­ç‚¹æˆ–è€…è¯­ä¹‰è¾¹ç•Œçš„ã€‚è¯¥ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯å‘å¼æ–¹æ³•ï¼Œæˆ–è€…å…¶ä»–æŠ€æœ¯æ¥åˆ†å—ï¼Œè¿˜æ˜¯å¾—ç”¨ã€‚</p>
<p>ä½†è¿Ÿåˆ†ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œå®ƒä¸æ˜¯ä¸€åˆ‡å®Œå°±ç«‹é©¬æŠŠæ¯ä¸ªå—æ‹¿å»å‘é‡åŒ–ï¼Œè€Œæ˜¯å…ˆæŠŠæ•´ä¸ªæ–‡æ¡£åœ¨ä¸€ä¸ªä¸Šä¸‹æ–‡çª—å£é‡Œç¼–ç äº†ï¼ˆjina-embeddings-v3æœ€æ–° SOTA å‘é‡æ¨¡å‹ï¼Œæ”¯æŒ 8192 Token çš„é•¿è¾“å…¥ï¼‰ï¼Œç„¶åå†æ ¹æ®è¾¹ç•Œçº¿ç´¢å»è¿›è¡Œå‡å€¼æ± åŒ–æ“ä½œã€‚</p>
<p>å®ƒçš„å·¥ä½œåŸç†ç±»ä¼¼äºä¸€ç»´å·ç§¯ï¼ˆConv1Dï¼‰ã€‚è¿™ä¸ªè¿‡ç¨‹é¦–å…ˆæŠŠä¸€ä¸ªé•¿æ–‡æ¡£åˆ†å‰²æˆå›ºå®šé•¿åº¦çš„å—ï¼Œç„¶åç”¨å¼€å¯äº†è¿Ÿåˆ†çš„ jina-embeddings-v3 å‘é‡åŒ–è¿™äº›æ–‡æœ¬å—ã€‚è®¡ç®—å®Œæ¯ä¸ªå—å’Œé—®é¢˜ä¹‹é—´çš„ç›¸ä¼¼åº¦åˆ†æ•°åï¼Œä¸€ä¸ªæ»‘åŠ¨çª—å£ä¼šåœ¨è¿™äº›ç›¸ä¼¼åº¦åˆ†æ•°ä¸Šç§»åŠ¨ï¼Œä»¥æ‰¾åˆ°å¹³å‡å€¼æœ€é«˜çš„çª—å£ã€‚</p>
<p>ç”¨è¿Ÿåˆ†å’Œç±»ä¼¼â€œä¸€ç»´å·ç§¯â€çš„å¹³å‡æ± åŒ–ï¼ŒæŒ‘å‡ºè·Ÿé—®é¢˜æœ€ç›¸å…³çš„æ®µè½ã€‚</p>
<p>â€¢<strong>å‡å€¼æ± åŒ–ï¼š</strong> åœ¨ç”Ÿæˆå‘é‡åï¼Œå†æ ¹æ®è¾¹ç•Œçº¿ç´¢è¿›è¡Œåˆ‡åˆ†å’Œå‡å€¼æ± åŒ–ã€‚ è¿™å°±åƒæ˜¯å…ˆè¯»å®Œä¸€æ•´æœ¬ä¹¦ç†è§£äº†å…¨æ„ï¼Œå†å›è¿‡å¤´å»æ‘˜å½•æ®µè½ï¼Œè€Œä¸æ˜¯æ¯è¯»ä¸€æ®µå°±æ‘˜å½•ä¸€æ®µã€‚è¿™æ ·æå–å‡ºçš„â€œçŸ¥è¯†å—â€æ—¢ç²¾å‡†åˆä¿ç•™äº†ä¸Šä¸‹æ–‡ï¼Œæå¤§å‡å°‘äº† LLM çš„å¹»è§‰ã€‚</p>
<h3 data-id="heading-12">4.3 è§£å†³â€œå†™ä¸é•¿â€ï¼šçªç ´ Token è¾“å‡ºé™åˆ¶</h3>
<h4 data-id="heading-13">4.3.1 é—®é¢˜</h4>
<p><strong>ä¸Šä¸‹æ–‡çª—å£çš„æ ¹æœ¬æ€§é™åˆ¶ï¼š</strong> å¤§éƒ¨åˆ†æ¨¡å‹ï¼Œä¾‹å¦‚ï¼šDeepSeek-V3ï¼Œå•æ¬¡è¾“å‡ºé€šå¸¸é™åˆ¶åœ¨ 8K Tokenï¼ˆçº¦ 8000 å­—ï¼‰ä»¥å†…ï¼Œéš¾ä»¥ä¸€æ¬¡æ€§ç”Ÿæˆæ•°ä¸‡å­—çš„è¯¦å°½æŠ¥å‘Šã€‚ï¼ˆå¯èƒ½æœ‰äººä¼šæå‡ºå¥½å¤šæ¨¡å‹è¾“å‡ºå‡ ä¸‡å­—æˆ–è€…å‡ åä¸‡å­—ï¼Œä¾‹å¦‚GPT-5å’ŒClaude Opusç­‰ï¼Œä½†æ˜¯åˆä¼šå‡ºç°ä¸‹é¢"ä¸Šä¸‹æ–‡è…çƒ‚" ç°è±¡çš„é—®é¢˜ï¼‰ã€‚</p>
<p><strong>"ä¸Šä¸‹æ–‡è…çƒ‚" ç°è±¡ï¼š</strong> å½“æ™ºèƒ½ä½“å¼€å§‹é¢‘ç¹è°ƒç”¨å¤šæ¬¡å·¥å…·ï¼Œæ¯æ¬¡è°ƒç”¨è¿”å›çš„ "è§‚å¯Ÿç»“æœ" éƒ½ä¼šè¿½åŠ åˆ°å¯¹è¯å†å²ä¸­ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡é•¿åº¦çˆ†ç‚¸å¼å¢é•¿ã€‚è¿™ä¸ä»…å¸¦æ¥é«˜æ˜‚çš„è®¡ç®—æˆæœ¬ï¼Œæ›´ä¼šå¯¼è‡´ "ä¸Šä¸‹æ–‡è…çƒ‚" (Context Rot)â€”â€” éšç€ä¸Šä¸‹æ–‡å˜é•¿ï¼Œæ¨¡å‹æ€§èƒ½åè€Œä¸‹é™ã€‚â€‹</p>
<p>å…·ä½“è¡¨ç°ä¸ºï¼šâ€‹</p>
<p>1.æ€§èƒ½ä¸‹é™ï¼šéšç€ä¸Šä¸‹æ–‡é•¿åº¦å¢åŠ ï¼Œæ¨¡å‹æ€§èƒ½ä¼šæ˜æ˜¾ä¸‹é™ã€‚Anthropic æŠŠè¿™ä¸ªç°è±¡ç§°ä¸º "ä¸Šä¸‹æ–‡è…çƒ‚"ï¼ˆcontext rotï¼‰ã€‚å…·ä½“è¡¨ç°æ˜¯æ¨¡å‹å¼€å§‹é‡å¤è¾“å‡ºã€æ¨ç†é€Ÿåº¦å˜æ…¢ã€å›ç­”è´¨é‡ä¸‹é™â€‹ã€‚â€‹</p>
<p>2.æ³¨æ„åŠ›åˆ†æ•£ï¼šAgent çš„ä¸Šä¸‹æ–‡éšæ—¶é—´æ¨ç§»å¿…ç„¶ç†µå¢ï¼Œå¯¼è‡´æ³¨æ„åŠ›æœºåˆ¶åˆ†æ•£ã€‚â€‹</p>
<p>3.ä¿¡æ¯åˆ©ç”¨æ•ˆç‡é™ä½ï¼šç ”ç©¶å‘ç°ï¼Œå½“ç›¸å…³ä¿¡æ¯ä½äºé•¿è¾“å…¥ä¸Šä¸‹æ–‡çš„å¼€å¤´æˆ–ç»“å°¾æ—¶ï¼Œæ¨¡å‹çš„æ€§èƒ½è¡¨ç°æœ€ä½³ï¼Œè€Œå½“ä¿¡æ¯è¢«æ”¾ç½®åœ¨ä¸­é—´ä½ç½®æ—¶ï¼Œæ€§èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚æ­¤å¤–ï¼Œåœ¨é•¿ä¸Šä¸‹æ–‡ä»»åŠ¡ä¸­ï¼Œæ¨¡å‹æœ‰æ—¶ä¼šå€¾å‘äºç›´æ¥ä¾èµ–å…¶é¢„è®­ç»ƒçš„å‚æ•°çŸ¥è¯†æ¥å›ç­”é—®é¢˜ï¼Œè€Œä¸æ˜¯æœ‰æ•ˆåˆ©ç”¨æ‰€æä¾›çš„å¤–éƒ¨é•¿æ–‡æœ¬ï¼Œè¿™è¿›ä¸€æ­¥åŠ å‰§äº†æ€§èƒ½çš„ä¸‹é™â€‹ã€‚</p>
<h4 data-id="heading-14">4.3.2 è§£å†³æ–¹æ¡ˆï¼šåŒå±‚çº§ Agent æ¶æ„ï¼ˆPlanner + Workersï¼‰</h4>
<p>Deep Research å®é™…ä¸Šé‡‡ç”¨äº†ä¸€ç§â€œè§„åˆ’-æ‰§è¡Œâ€çš„åˆ†ç¦»æ¶æ„ï¼š</p>
<p>â€¢è§„åˆ’ Agent (Planner)ï¼š å®ƒæ˜¯â€œåŒ…å·¥å¤´â€ã€‚è´Ÿè´£ç†è§£ä»»åŠ¡ï¼Œç”Ÿæˆè¯¦ç»†çš„ JSON æ ¼å¼å¤§çº²ï¼Œå¹¶åˆ†é…æ¯ä¸ªç« èŠ‚çš„å­—æ•°é¢„ç®—ã€‚</p>
<p>â€¢æ‰§è¡Œ Agent é›†ç¾¤ (Workers)ï¼š å®ƒæ˜¯â€œå»ºç­‘å·¥â€ã€‚å¤šä¸ª Agent å¹¶è¡Œå·¥ä½œï¼Œæ¯ä¸ª Agent è®¤é¢†ä¸€ä¸ªç« èŠ‚çš„æ ‡é¢˜ï¼Œç‹¬ç«‹å»æœç´¢ã€é˜…è¯»å’Œå†™ä½œã€‚</p>
<p>â€¢èšåˆå™¨ï¼š æœ€åç”±ä¸€ä¸ªæ¨¡å—åƒæ‹¼ç§¯æœ¨ä¸€æ ·å°†å„ç« èŠ‚æ‹¼æ¥ï¼Œå¹¶è¿›è¡Œé€»è¾‘é¡ºæ»‘å’Œé•¿åº¦æ§åˆ¶ã€‚</p>
<p>ï»¿</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5f949f5fa5b49d39c36d8af8eb0e9d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770718858&amp;x-signature=m3NX1YnrKG%2BnlYhrOL4F0rEDe0w%3D" alt="" loading="lazy"/></p>
<p>ï»¿ï»¿</p>
<p><strong>åŒå±‚æ¶æ„çš„æ ¸å¿ƒè®¾è®¡åŒ…æ‹¬ï¼šâ€‹</strong></p>
<p>1.ç›‘ç£è€…å±‚çº§ï¼šä½œä¸ºç³»ç»Ÿçš„ "å¤§è„‘"ï¼Œè´Ÿè´£å°†æ¨¡ç³Šéœ€æ±‚è½¬åŒ–ä¸ºå¯æ‰§è¡Œè®¡åˆ’ã€‚åœ¨ prompts.py ä¸­å®šä¹‰çš„ç»“æ„åŒ–æç¤ºæ¨¡æ¿æŒ‡å¯¼è§„åˆ’å™¨å®Œæˆä¸‰é¡¹æ ¸å¿ƒä»»åŠ¡ï¼šéœ€æ±‚æ¾„æ¸…ï¼ˆé€šè¿‡ clarify_with_user èŠ‚ç‚¹å®ç°ï¼‰ã€å­ä¸»é¢˜åˆ†è§£ï¼ˆæœ€å¤§æ”¯æŒ 5 ä¸ªå¹¶è¡Œå­ä»»åŠ¡ï¼‰ã€ä»¥åŠèµ„æºåˆ†é…ï¼ˆæ ¹æ®ä¸»é¢˜å¤æ‚åº¦é€‰æ‹©æ¨¡å‹ä¸å·¥å…·ï¼‰ã€‚â€‹</p>
<p>2.æ‰§è¡Œè€…å±‚çº§ï¼šè´Ÿè´£å…·ä½“çš„ä¿¡æ¯æ£€ç´¢ã€å†…å®¹æå–å’Œåˆæ­¥åˆ†æå·¥ä½œã€‚æ‰§è¡Œè€…å±‚çº§åŒ…å«å¤šä¸ªä¸“é—¨çš„ Agentï¼Œå¦‚æœç´¢ Agentã€é˜…è¯» Agentã€åˆ†æ Agent ç­‰ï¼Œæ¯ä¸ª Agent è´Ÿè´£ç‰¹å®šçš„ä»»åŠ¡ã€‚â€‹</p>
<p>3.çŠ¶æ€æœºæ§åˆ¶ï¼šåŸºäº LangGraph æ„å»ºçš„çŠ¶æ€æœºå®ç°äº†å¤æ‚æµç¨‹çš„ç²¾ç¡®æ§åˆ¶ã€‚çŠ¶æ€æœºèƒ½å¤Ÿè·Ÿè¸ªç ”ç©¶è¿‡ç¨‹çš„æ¯ä¸ªæ­¥éª¤ï¼Œç¡®ä¿ä»»åŠ¡æ‰§è¡Œçš„æœ‰åºæ€§å’Œå®Œæ•´æ€§ã€‚â€‹</p>
<p><strong>ä¸Šä¸‹æ–‡ç®¡ç†çš„åˆ›æ–°æ–¹æ¡ˆï¼šâ€‹</strong></p>
<p>ä¸ºäº†ç¼“è§£ä¸Šä¸‹æ–‡è…çƒ‚é—®é¢˜ï¼Œç³»ç»Ÿé‡‡ç”¨äº†å¤šç§ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼šâ€‹</p>
<p>1.ä¸Šä¸‹æ–‡å¸è½½æŠ€æœ¯ï¼šç³»ç»Ÿé‡‡ç”¨ "ä¸Šä¸‹æ–‡å¸è½½"æ¥ç¼“è§£ä¸Šä¸‹æ–‡æ±¡æŸ“ï¼Œè¿™èƒ½å¸® agent ä¿æŒåœ¨æ­£ç¡®è½¨é“ä¸Šã€‚ä¸Šä¸‹æ–‡å¸è½½å°±æ˜¯æŠŠä¿¡æ¯å­˜åœ¨è¯­è¨€æ¨¡å‹çš„ "æ´»è·ƒä¸Šä¸‹æ–‡çª—å£" ä¹‹å¤–ã€‚æŠŠå…³é”®ä¿¡æ¯å¸è½½å‡ºå»ï¼Œåªåœ¨éœ€è¦æ—¶æ£€ç´¢ï¼Œæˆ‘ä»¬å°±é¿å…äº†æ¨¡å‹å·¥ä½œå†…å­˜çš„ "è¿‡è½½"â€‹ã€‚â€‹</p>
<p>2.åˆ†çº§å­˜å‚¨æ¶æ„ï¼šåœ¨äºå¼•å…¥åˆ†çº§å­˜å‚¨æ¶æ„ã€‚é€šè¿‡å°†ä¿¡æ¯æŒ‰ç…§é‡è¦æ€§å’Œä½¿ç”¨é¢‘ç‡è¿›è¡Œåˆ†çº§å­˜å‚¨ï¼Œç³»ç»Ÿèƒ½å¤Ÿåœ¨æœ‰é™çš„ä¸Šä¸‹æ–‡ä¸­ä¿ç•™æœ€é‡è¦çš„ä¿¡æ¯ï¼ŒåŒæ—¶åœ¨éœ€è¦æ—¶å¿«é€Ÿæ£€ç´¢å…¶ä»–ä¿¡æ¯ã€‚â€‹</p>
<p>3.æ™ºèƒ½å‰ªæç­–ç•¥ï¼šç³»ç»Ÿé‡‡ç”¨ä¸Šä¸‹æ–‡å‰ªææŠ€æœ¯ã€‚è¿™ä¸ªæŠ€å·§æ˜¯åœ¨ RAG çš„åŸºç¡€ä¸Šåšçš„ä¼˜åŒ–ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯åœ¨å°†æ£€ç´¢åˆ°çš„ä¿¡æ¯äº¤ç»™ä¸»æ¨¡å‹ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡ "å‰ªæ"ã€‚å…·ä½“åšæ³•æ˜¯ï¼šå…ˆæ£€ç´¢å‡ºç›¸å…³æ–‡æ¡£ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªæ›´å°ã€æ›´å¿«çš„æ¨¡å‹ï¼Œè®©å®ƒè¯»ä¸€éè¿™äº›æ–‡æ¡£ï¼Œè¿™ä¸ªå°æ¨¡å‹çš„ä»»åŠ¡æ˜¯ï¼Œæ ¹æ®ç”¨æˆ·çš„åŸå§‹é—®é¢˜ï¼Œåªä»æ–‡æ¡£ä¸­æå–æœ€æ ¸å¿ƒã€æœ€ç›¸å…³çš„ä¿¡æ¯â€‹ã€‚</p>
<p><strong>é•¿æ–‡æ¡£å¤„ç†çš„æŠ€æœ¯çªç ´ï¼šâ€‹</strong>â€‹</p>
<p>1.åˆ†æ®µå¤„ç†ç­–ç•¥ï¼šç³»ç»Ÿå°†é•¿æ–‡æ¡£åˆ†æˆå¤šä¸ªæ®µè½æˆ–ç« èŠ‚ï¼Œæ¯ä¸ªéƒ¨åˆ†ç‹¬ç«‹å¤„ç†ï¼Œç„¶åé€šè¿‡ç›‘ç£è€…å±‚çº§è¿›è¡Œæ•´åˆã€‚è¿™ç§æ–¹æ³•é¿å…äº†ä¸€æ¬¡æ€§å¤„ç†æ•´ä¸ªé•¿æ–‡æ¡£å¸¦æ¥çš„ä¸Šä¸‹æ–‡é™åˆ¶é—®é¢˜ã€‚â€‹</p>
<p>2.å¢é‡ç”Ÿæˆæœºåˆ¶ï¼šç³»ç»Ÿé‡‡ç”¨å¢é‡ç”Ÿæˆçš„æ–¹å¼å¤„ç†é•¿ç¯‡æŠ¥å‘Šã€‚ç›‘ç£è€…å±‚çº§è´Ÿè´£åˆ¶å®šæ•´ä½“ç»“æ„å’Œå„éƒ¨åˆ†çš„ç”Ÿæˆé¡ºåºï¼Œæ‰§è¡Œè€…å±‚çº§æŒ‰ç…§é¡ºåºé€æ­¥ç”Ÿæˆå„éƒ¨åˆ†å†…å®¹ã€‚è¿™ç§æ–¹å¼ä¸ä»…é¿å…äº†è¾“å‡ºé•¿åº¦é™åˆ¶ï¼Œè¿˜æé«˜äº†ç”Ÿæˆå†…å®¹çš„è¿è´¯æ€§ã€‚â€‹</p>
<p>3.æ™ºèƒ½æ•´åˆç®—æ³•ï¼šåœ¨å„éƒ¨åˆ†å†…å®¹ç”Ÿæˆåï¼Œç›‘ç£è€…å±‚çº§ä¼šå¯¹å†…å®¹è¿›è¡Œæ™ºèƒ½æ•´åˆã€‚è¿™åŒ…æ‹¬æ£€æŸ¥é€»è¾‘ä¸€è‡´æ€§ã€æ¶ˆé™¤é‡å¤å†…å®¹ã€ä¼˜åŒ–ç« èŠ‚é¡ºåºç­‰ï¼Œç¡®ä¿æœ€ç»ˆæŠ¥å‘Šçš„è´¨é‡ã€‚</p>
<h3 data-id="heading-15">4.4 ç”Ÿæˆå†…å®¹æ‰“åˆ†</h3>
<p>Deep Research åœ¨ç”Ÿæˆå†…å®¹çš„è´¨é‡æ§åˆ¶æ–¹é¢é‡‡ç”¨äº†å¤šå±‚æ¬¡ã€å¤šç»´åº¦çš„è¯„åˆ†å’Œä¼˜åŒ–æœºåˆ¶ï¼Œç¡®ä¿æœ€ç»ˆè¾“å‡ºçš„å†…å®¹æ—¢å‡†ç¡®åˆæœ‰ä»·å€¼ã€‚â€‹</p>
<p>è‡ªé€‚åº”è¯„ä¼°æ¡†æ¶æ˜¯å†…å®¹è¯„åˆ†çš„åŸºç¡€ã€‚åŒ…æ‹¬ä¸¤ä¸ªäº’è¡¥çš„è¯„ä¼°æ¡†æ¶æ¥è¯„ä¼° DRA èƒ½åŠ›ï¼šRACEï¼ˆåŸºäºå‚è€ƒçš„è‡ªé€‚åº”æ ‡å‡†é©±åŠ¨è¯„ä¼°æ¡†æ¶ï¼Œå…·æœ‰åŠ¨æ€åŠ æƒï¼‰ç”¨äºè¯„ä¼°ç”Ÿæˆç ”ç©¶æŠ¥å‘Šçš„è´¨é‡ï¼ŒFACTï¼ˆäº‹å®ä¸°å¯Œæ€§å’Œå¼•ç”¨å¯ä¿¡åº¦æ¡†æ¶ï¼‰ç”¨äºè¯„ä¼°ä¿¡æ¯æ£€ç´¢æœ‰æ•ˆæ€§å’Œå¼•ç”¨å‡†ç¡®æ€§â€‹ã€‚â€‹</p>
<p><strong>RACE æ¡†æ¶çš„æ ¸å¿ƒç‰¹ç‚¹åŒ…æ‹¬ï¼šâ€‹</strong></p>
<p>1.åŠ¨æ€æƒé‡åˆ†é…ï¼šå¯¹äºæ¯ä¸ªä»»åŠ¡ï¼Œè¯„åˆ¤ LLM é€šè¿‡å¤šæ¬¡è¯•éªŒè·å¾—æ¯ä¸ªç»´åº¦çš„æƒé‡ï¼Œå¹¶å–å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆæƒé‡ï¼Œç¡®ä¿è¯„ä¼°ä¸ä»»åŠ¡æ„å›¾ä¸€è‡´â€‹ã€‚æ‰€æœ‰ç»´åº¦çš„ç”Ÿæˆæ ‡å‡†è¢«èšåˆåˆ°ä¸€ä¸ªç»¼åˆåˆ—è¡¨ä¸­ï¼Œè¯„åˆ¤ LLM ç„¶åæ ¹æ®æ¯ä¸ªæ ‡å‡†åˆ†æç›®æ ‡æŠ¥å‘Šå’Œå‚è€ƒæŠ¥å‘Šï¼Œä¸ºä¸¤ä»½æŠ¥å‘Šç”Ÿæˆæ¯ä¸ªæ ‡å‡†çš„åˆ†æ•°åˆ—è¡¨ï¼Œç”¨äºæœ€ç»ˆå¾—åˆ†è®¡ç®—ã€‚â€‹</p>
<p>2.å¤šç»´åº¦è¯„ä¼°ï¼šæ¡†æ¶é¦–å…ˆåŸºäºé¢†åŸŸçŸ¥è¯†ç¡®ç«‹å››ä¸ªé¡¶å±‚è¯„æµ‹ç»´åº¦ï¼šå…¨é¢æ€§ï¼ˆCOMPï¼‰ã€æ´å¯ŸåŠ› / æ·±åº¦ï¼ˆDEPTHï¼‰ã€æŒ‡ä»¤éµå¾ªï¼ˆINSTï¼‰å’Œå¯è¯»æ€§ï¼ˆREADï¼‰ã€‚å¯¹äºæ¯ä¸ªå…·ä½“ä»»åŠ¡ï¼Œè¯„åˆ¤ LLM ä¼šåŠ¨æ€è®¡ç®—å„ç»´åº¦çš„æƒé‡ï¼Œå¹¶ä¸ºæ¯ä¸ªç»´åº¦ç”Ÿæˆä¸€ç»„å®šåˆ¶åŒ–çš„è¯„æµ‹æ ‡å‡†ã€‚â€‹</p>
<p>3.è‡ªé€‚åº”é€ç‚¹è´¨é‡è¯„ä¼°ï¼šè¯„ä¼°æ¨¡å—åŒ…å«è‡ªé€‚åº”é€ç‚¹è´¨é‡è¯„ä¼°å’Œä¸»åŠ¨äº‹å®æ ¸æŸ¥ä¸¤å¤§æ ¸å¿ƒç»„ä»¶ï¼Œæ—¢è§£å†³äº† "åˆ¤åˆ†æ­»æ¿" çš„é—®é¢˜ï¼Œåˆå®ç°äº† "å…¨é¢æŸ¥é”™" çš„ç›®æ ‡ã€‚è‡ªé€‚åº”é€ç‚¹è´¨é‡è¯„ä¼°æ‰“ç ´äº†å›ºå®šç»´åº¦çš„é™åˆ¶ï¼Œä¸ºæ¯ä¸ªä»»åŠ¡é‡èº«å®šåˆ¶è¯„åˆ†æ ‡å‡†ã€‚è¯¥ç»„ä»¶é¦–å…ˆä¿ç•™ 4 ä¸ªé€šç”¨è¯„ä¼°ç»´åº¦ï¼ŒåŒæ—¶é’ˆå¯¹æ¯ä¸ªå…·ä½“ä»»åŠ¡è‡ªåŠ¨ç”Ÿæˆ 1-3 ä¸ªä¸“å±è¯„ä¼°ç»´åº¦ã€‚â€‹</p>
<p>ä¸»åŠ¨äº‹å®æ ¸æŸ¥æœºåˆ¶ç¡®ä¿äº†å†…å®¹çš„å‡†ç¡®æ€§ã€‚ç³»ç»Ÿä¸ä¼šåªå‚»å‚»åœ°æ£€æŸ¥æŠ¥å‘Šé‡Œæ ‡å‡ºæ¥çš„å¼•ç”¨æ¥æºï¼Œè€Œæ˜¯ä¼šåƒä¸€ä¸ªä¾¦æ¢ä¸€æ ·ä¸»åŠ¨å»ç½‘ä¸Šæœç´¢äº¤å‰éªŒè¯æŠ¥å‘Šé‡Œçš„æ¯ä¸€ä¸ªè¯´æ³•ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰ç»™å‡ºå¤„ï¼Œè¿™å°±ä¿è¯äº†è¯„åˆ†çš„ç»å¯¹ä¸¥æ ¼â€‹ã€‚â€‹</p>
<p><strong>è¿™ç§æœºåˆ¶çš„å®ç°åŒ…æ‹¬ï¼š</strong> â€‹</p>
<p>1.è‡ªåŠ¨è¯†åˆ«å…³é”®é™ˆè¿°ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«æŠ¥å‘Šä¸­çš„å…³é”®é™ˆè¿°å’Œæ•°æ®ï¼ŒåŒ…æ‹¬äº‹å®æ€§æè¿°ã€æ•°å€¼æ•°æ®ã€å› æœå…³ç³»ç­‰ã€‚â€‹</p>
<p>2.å¤šæºäº¤å‰éªŒè¯ï¼šå¯¹äºæ¯ä¸ªå…³é”®é™ˆè¿°ï¼Œç³»ç»Ÿä¼šä»å¤šä¸ªç‹¬ç«‹æ¥æºè¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿å…¶å‡†ç¡®æ€§ã€‚â€‹</p>
<p>3.ç½®ä¿¡åº¦è¯„ä¼°ï¼šç³»ç»Ÿä¼šä¸ºæ¯ä¸ªéªŒè¯ç»“æœç»™å‡ºç½®ä¿¡åº¦è¯„åˆ†ï¼Œé«˜ç½®ä¿¡åº¦çš„å†…å®¹ä¼šè¢«ä¿ç•™ï¼Œä½ç½®ä¿¡åº¦çš„å†…å®¹ä¼šè¢«æ ‡è®°ä¸ºéœ€è¦è¿›ä¸€æ­¥æ ¸å®ã€‚â€‹</p>
<p><strong>å†…å®¹ä¿®æ”¹ä¸ä¼˜åŒ–ç­–ç•¥ï¼š</strong> åŸºäºè¯„åˆ†ç»“æœï¼Œç³»ç»Ÿä¼šé‡‡ç”¨å¤šç§ç­–ç•¥å¯¹å†…å®¹è¿›è¡Œä¿®æ”¹å’Œä¼˜åŒ–ï¼šâ€‹</p>
<p>1.åŸºäºè¯„åˆ†çš„è‡ªåŠ¨ä¿®æ­£ï¼šå½“ç³»ç»Ÿå‘ç°å†…å®¹å­˜åœ¨äº‹å®é”™è¯¯æˆ–é€»è¾‘é—®é¢˜æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œä¿®æ­£ã€‚è¿™ç§ä¿®æ­£ä¸æ˜¯ç®€å•çš„æ›¿æ¢ï¼Œè€Œæ˜¯åŸºäºå¤šä¸ªå¯é æ¥æºçš„ä¿¡æ¯è¿›è¡Œç»¼åˆåˆ¤æ–­ã€‚â€‹</p>
<p>2.äººå·¥å¹²é¢„æœºåˆ¶ï¼šå¯¹äºå¤æ‚çš„é—®é¢˜æˆ–å­˜åœ¨äº‰è®®çš„å†…å®¹ï¼Œç³»ç»Ÿä¼šæç¤ºç”¨æˆ·è¿›è¡Œäººå·¥å¹²é¢„ï¼Œç¡®ä¿æœ€ç»ˆå†…å®¹çš„å‡†ç¡®æ€§å’Œå®¢è§‚æ€§ã€‚â€‹</p>
<p>3.é£æ ¼ä¸€è‡´æ€§ä¼˜åŒ–ï¼šç³»ç»Ÿä¼šæ£€æŸ¥æ•´ç¯‡æŠ¥å‘Šçš„è¯­è¨€é£æ ¼ã€æœ¯è¯­ä½¿ç”¨ã€æ ¼å¼è§„èŒƒç­‰ï¼Œç¡®ä¿å…¨æ–‡çš„ä¸€è‡´æ€§å’Œä¸“ä¸šæ€§ã€‚â€‹</p>
<p>4.ç»“æ„ä¼˜åŒ–ï¼šæ ¹æ®å†…å®¹çš„é€»è¾‘å…³ç³»ï¼Œç³»ç»Ÿä¼šå¯¹æŠ¥å‘Šçš„ç»“æ„è¿›è¡Œä¼˜åŒ–ï¼Œç¡®ä¿ç« èŠ‚å®‰æ’åˆç†ã€å±‚æ¬¡åˆ†æ˜ã€‚</p>
<h2 data-id="heading-16">5ã€ Deep Research vs Manus</h2>
<p>Manus æ›´åƒæ˜¯ä¸€ä¸ªé«˜åº¦å·¥ç¨‹åŒ–çš„ Agent å¹³å°ï¼Œå®ƒæ•´åˆäº†å¤§é‡å·¥å…·ï¼ˆæµè§ˆå™¨ã€ä»£ç è§£é‡Šå™¨ç­‰ï¼‰ï¼Œå¼ºåœ¨â€œè°ƒåº¦â€ã€‚è€Œ Deep Research æ˜¯æ¨¡å‹å±‚é¢å’Œæ¶æ„å±‚é¢çš„è¿›åŒ–ï¼Œå®ƒé€šè¿‡å¼ºåŒ–å­¦ä¹ æˆ–è€…æ¶æ„ä¼˜åŒ–è®©æ¨¡å‹äº†è§£â€œå¦‚ä½•æœç´¢â€å’Œâ€œå¦‚ä½•æ¨ç†â€çš„ç­–ç•¥ï¼Œæ˜¯ä¸€ç§æ›´åŸç”Ÿå’Œè‡ªä¸»çš„æ™ºèƒ½ã€‚æ‰€ä»¥Deep Researchå¯ä»¥è¿›è¡Œæ’°å†™æ–‡çŒ®ç»¼è¿°ã€å¸‚åœºä¸ç«å“åˆ†æã€è¡Œä¸šç ”æŠ¥ã€æŠ•èèµ„ç ”æŠ¥ã€å¸‚åœºè°ƒç ”ã€æ–°é—»çƒ­ç‚¹è¿½è¸ªã€ç”Ÿæ´»å†³ç­–ç­‰ï¼Œä¹Ÿå¯ä»¥åœ¨æ£€ç´¢æ—¶æ²‰æ·€æœ‰ç”¨ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-17">6ã€æ€»ç»“</h2>
<p>Deep Researchæ˜¯æˆ‘åœ¨25å¹´å¹´ä¸­æ¥è§¦çš„ï¼Œå½“æ—¶æ„Ÿè§‰å°±å¾ˆæƒŠè‰³ï¼Œæ„Ÿè§‰æ­£åœ¨è·¨è¶Šåˆ°ä¸€ä¸ªæ–°çš„é—¨æ§›ï¼šä»ä¿¡æ¯çš„æ¬è¿å·¥ï¼Œå˜æˆäº†ä¿¡æ¯çš„åŠ å·¥è€…ã€‚å®ƒä¸å†éœ€è¦ç”¨æˆ·è´¹å°½å¿ƒæ€æƒ³ Promptï¼Œä¹Ÿä¸éœ€è¦ç”¨æˆ·å»ç‚¹å‡»ä¸€ä¸ªä¸ªçš„é“¾æ¥ã€‚å®ƒå±•ç¤ºäº† AI ä½œä¸ºä¸€ä¸ªâ€œæ€è€ƒè€…â€çš„æ½œåŠ›â€”â€”å®ƒçŸ¥é“è‡ªå·±ä¸çŸ¥é“ä»€ä¹ˆï¼Œå¹¶ä¸”çŸ¥é“å»å“ªé‡Œæ‰¾åˆ°ç­”æ¡ˆã€‚å¯¹äºä½¿ç”¨è€…è€Œè¨€ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å°†æœ€è€—æ—¶çš„â€œä¿¡æ¯æ”¶é›†ä¸æ•´ç†â€é˜¶æ®µå¤–åŒ…ç»™ AIï¼Œä»è€Œä¸“æ³¨äºæ›´é«˜ç»´åº¦çš„å†³ç­–ä¸åˆ›æ–°ã€‚</p>
<p>åé¢ä¼šç»§ç»­å†™æˆ‘æ€ä¹ˆåœ¨çœŸå®ä¸šåŠ¡ä¸­åˆ©ç”¨DeepResearchçš„èƒ½åŠ›ï¼Œæœ€åç¥å¤§å®¶æ—©å®‰ã€åˆå®‰ã€æ™šå®‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue-å“åº”å¼åŸç†æ·±åº¦è§£æï¼ˆå«æ‰‹å†™æºç ï¼‰]]></title>    <link>https://juejin.cn/post/7602463463105249326</link>    <guid>https://juejin.cn/post/7602463463105249326</guid>    <pubDate>2026-02-03T10:07:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602463463105249326" data-draft-id="7602303923171393545" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue-å“åº”å¼åŸç†æ·±åº¦è§£æï¼ˆå«æ‰‹å†™æºç ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-03T10:07:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue-å“åº”å¼åŸç†æ·±åº¦è§£æï¼ˆå«æ‰‹å†™æºç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T10:07:34.000Z" title="Tue Feb 03 2026 10:07:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åŒå‘æ•°æ®ç»‘å®šæ˜¯ Vue çš„çµé­‚ç‰¹æ€§ã€‚å®ƒå°† <strong>Modelï¼ˆæ•°æ®å±‚ï¼‰</strong> ä¸ <strong>Viewï¼ˆè§†å›¾å±‚ï¼‰</strong> ç´§å¯†ç›¸è¿ï¼šJS é€»è¾‘æ›´æ–° Modelï¼Œè§†å›¾è‡ªåŠ¨é‡ç»˜ï¼›ç”¨æˆ·æ“ä½œ Viewï¼Œæ•°æ®è‡ªåŠ¨åŒæ­¥ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»æºç çº§åˆ«å¯¹æ¯” Vue 2 ä¸ Vue 3 åœ¨å“åº”å¼å®ç°ä¸Šçš„å¼‚åŒã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ Vue 2ï¼šæ•°æ®åŠ«æŒ + å‘å¸ƒè®¢é˜…</h2>
<h3 data-id="heading-2">1. æ ¸å¿ƒåŸç†</h3>
<p>Vue 2 åŸºäº <code>Object.defineProperty</code> å®ç°æ•°æ®åŠ«æŒï¼Œé€šè¿‡ <strong>Observerï¼ˆç›‘å¬å™¨ï¼‰</strong> ã€<strong>Compileï¼ˆè§£æå™¨ï¼‰</strong> å’Œ <strong>Watcherï¼ˆè®¢é˜…è€…ï¼‰</strong> çš„é…åˆå®Œæˆã€‚</p>
<h3 data-id="heading-3">2. å…³é”®æ­¥éª¤</h3>
<ol>
<li>
<p><strong>æ•°æ®åŠ«æŒ (Observer)</strong> ï¼šéå† <code>data</code> å±æ€§ï¼Œåˆ©ç”¨ <code>Object.defineProperty</code> æ³¨å…¥ <code>getter</code>ï¼ˆä¾èµ–æ”¶é›†ï¼‰å’Œ <code>setter</code>ï¼ˆåˆ†å‘æ›´æ–°ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ¨¡æ¿è§£æ (Compile)</strong> ï¼šè§£ææŒ‡ä»¤ï¼ˆå¦‚ <code>v-model</code>ï¼‰å’Œæ’å€¼è¡¨è¾¾å¼ï¼ˆ<code>{{}}</code>ï¼‰ï¼Œä¸ºæ¯ä¸ªç»‘å®šç‚¹åˆ›å»ºä¸€ä¸ª <strong>Watcher</strong>ã€‚</p>
</li>
<li>
<p><strong>ä¾èµ–æ”¶é›† (Dep)</strong> ï¼šæ¯ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ª <code>Dep</code> å®¹å™¨ã€‚è¯»å–å±æ€§æ—¶ï¼Œå°†å¯¹åº”çš„ Watcher å­˜å…¥ Depã€‚</p>
</li>
<li>
<p><strong>æ´¾å‘æ›´æ–° (Watcher)</strong> ï¼šä¿®æ”¹æ•°æ®æ—¶ä¼šè§¦å‘ <code>setter</code>ï¼Œé€šçŸ¥æ‰€æœ‰å…³è”çš„ Watcher æ‰§è¡Œ <code>update</code> æ–¹æ³•æ›´æ–° DOMã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">3. æºç ä»¿çœŸå®ç°</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue2 å“åº”å¼åŸç†ç®€æ˜“å®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æµ‹è¯•æ¨¡æ¿ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{{ age }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"vm.age++"</span>&gt;</span>å¹´é¾„+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">//  1. ä¾èµ–æ”¶é›†å™¨ Depï¼šç®¡ç†æ‰€æœ‰ Watcherï¼Œæ•°æ®å˜åŒ–æ—¶é€šçŸ¥æ›´æ–° </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dep</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span> = []; <span class="hljs-comment">// å­˜å‚¨è®¢é˜…è€…ï¼ˆWatcher å®ä¾‹ï¼‰</span>
      }

      <span class="hljs-comment">// æ·»åŠ è®¢é˜…è€…</span>
      <span class="hljs-title function_">addSub</span>(<span class="hljs-params">sub</span>) {
        <span class="hljs-keyword">if</span> (sub &amp;&amp; sub.<span class="hljs-property">update</span>) { <span class="hljs-comment">// ç¡®ä¿æ˜¯åˆæ³•çš„ Watcher</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">push</span>(sub);
        }
      }

      <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…æ›´æ–°</span>
      <span class="hljs-title function_">notify</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subs</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">sub</span> =&gt;</span> sub.<span class="hljs-title function_">update</span>());
      }
    }

    <span class="hljs-comment">//  2. æ•°æ®åŠ«æŒå™¨ Observerï¼šåŠ«æŒ data æ‰€æœ‰å±æ€§çš„ get/set </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Observer</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observe</span>(data);
      }

      <span class="hljs-comment">// éå†æ•°æ®å¯¹è±¡ï¼ŒåŠ«æŒæ‰€æœ‰å±æ€§</span>
      <span class="hljs-title function_">observe</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-keyword">if</span> (!data || <span class="hljs-keyword">typeof</span> data !== <span class="hljs-string">'object'</span>) {
          <span class="hljs-keyword">return</span>; <span class="hljs-comment">// éå¯¹è±¡ç›´æ¥è¿”å›</span>
        }

        <span class="hljs-comment">// éå†å¯¹è±¡çš„æ‰€æœ‰å±æ€§</span>
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">defineReactive</span>(data, key, data[key]);
        });
      }

      <span class="hljs-comment">// æ ¸å¿ƒï¼šç”¨ Object.defineProperty åŠ«æŒå•ä¸ªå±æ€§</span>
      <span class="hljs-title function_">defineReactive</span>(<span class="hljs-params">obj, key, value</span>) {
        <span class="hljs-keyword">const</span> dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dep</span>(); <span class="hljs-comment">// æ¯ä¸ªå±æ€§å¯¹åº”ä¸€ä¸ª Dep</span>
        <span class="hljs-keyword">const</span> that = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// ä¿å­˜ Observer å®ä¾‹çš„ this</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">observe</span>(value); <span class="hljs-comment">// é€’å½’åŠ«æŒå­å±æ€§ï¼ˆå¤„ç†åµŒå¥—å¯¹è±¡ï¼‰</span>

        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, key, {
          <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯æšä¸¾</span>
          <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯é…ç½®</span>
          <span class="hljs-comment">// è¯»å–å±æ€§æ—¶è§¦å‘ï¼šæ”¶é›†ä¾èµ–</span>
          <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
            <span class="hljs-comment">// Dep.target æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ Watcherï¼Œæ·»åŠ åˆ° Dep ä¸­</span>
            <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> &amp;&amp; dep.<span class="hljs-title function_">addSub</span>(<span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span>);
            <span class="hljs-keyword">return</span> value;
          },
          <span class="hljs-comment">// èµ‹å€¼å±æ€§æ—¶è§¦å‘ï¼šé€šçŸ¥æ›´æ–°</span>
          <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
            <span class="hljs-keyword">if</span> (newValue === value) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å€¼æœªå˜åŒ–åˆ™ä¸å¤„ç†</span>
            value = newValue;
            that.<span class="hljs-title function_">observe</span>(newValue); <span class="hljs-comment">// ä½¿ç”¨ä¿å­˜çš„ that è°ƒç”¨ observe</span>
            dep.<span class="hljs-title function_">notify</span>(); <span class="hljs-comment">// é€šçŸ¥æ‰€æœ‰ Watcher æ›´æ–°</span>
          }
        });
      }
    }

    <span class="hljs-comment">//  3. è®¢é˜…è€… Watcherï¼šè¿æ¥ Observer å’Œ Compileï¼Œè´Ÿè´£æ›´æ–° DOM </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Watcher</span> {
      <span class="hljs-comment">/**
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">vm</span> - Vue å®ä¾‹
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">expr</span> - data ä¸­çš„å±æ€§åï¼ˆå¦‚ 'message'ï¼‰
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} <span class="hljs-variable">cb</span> - æ›´æ–° DOM çš„å›è°ƒå‡½æ•°
       */</span>
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">vm, expr, cb</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span> = vm;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">expr</span> = expr;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cb</span> = cb;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">oldValue</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getOldValue</span>(); <span class="hljs-comment">// è®°å½•æ—§å€¼</span>
      }

      <span class="hljs-comment">// è·å–æ—§å€¼ï¼šè§¦å‘ get æ–¹æ³•ï¼Œå®Œæˆä¾èµ–æ”¶é›†</span>
      <span class="hljs-title function_">getOldValue</span>(<span class="hljs-params"/>) {
        <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// å°†å½“å‰ Watcher æŒ‚è½½åˆ° Dep.target</span>
        <span class="hljs-keyword">const</span> oldValue = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">expr</span>); <span class="hljs-comment">// è¯»å–å±æ€§ï¼Œè§¦å‘ get</span>
        <span class="hljs-title class_">Dep</span>.<span class="hljs-property">target</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ”¶é›†å®Œä¾èµ–åæ¸…ç©º</span>
        <span class="hljs-keyword">return</span> oldValue;
      }

      <span class="hljs-comment">// è§£æå±æ€§è·¯å¾„ï¼ˆå¤„ç†åµŒå¥—å¯¹è±¡ï¼Œå¦‚ 'user.name'ï¼‰</span>
      <span class="hljs-title function_">getVal</span>(<span class="hljs-params">vm, expr</span>) {
        <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, currentKey</span>) =&gt;</span> {
          <span class="hljs-keyword">return</span> data[currentKey];
        }, vm.<span class="hljs-property">$data</span>);
      }

      <span class="hljs-comment">// æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œï¼šæ›´æ–° DOM</span>
      <span class="hljs-title function_">update</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> newValue = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">expr</span>);
        <span class="hljs-keyword">if</span> (newValue !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">oldValue</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cb</span>(newValue); <span class="hljs-comment">// æ‰§è¡Œå›è°ƒæ›´æ–° DOM</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">oldValue</span> = newValue; <span class="hljs-comment">// æ›´æ–°æ—§å€¼</span>
        }
      }
    }

    <span class="hljs-comment">//  4. æ¨¡æ¿è§£æå™¨ Compileï¼šè§£æ v-model å’Œ {{}}ï¼Œåˆ›å»º Watcher </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compile</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">el, vm</span>) {
        <span class="hljs-comment">// è·å–æŒ‚è½½å…ƒç´ ï¼ˆæ”¯æŒé€‰æ‹©å™¨æˆ– DOM å…ƒç´ ï¼‰</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isElementNode</span>(el) ? el : <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(el);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span> = vm;
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>) {
          <span class="hljs-comment">// 1. å°†æ¨¡æ¿å†…å®¹ç§»åˆ°æ–‡æ¡£ç¢ç‰‡ä¸­ï¼ˆå‡å°‘ DOM æ“ä½œï¼Œæå‡æ€§èƒ½ï¼‰</span>
          <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">node2Fragment</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>);
          <span class="hljs-comment">// 2. è§£ææ¨¡æ¿ä¸­çš„æŒ‡ä»¤å’Œæ’å€¼è¡¨è¾¾å¼</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(fragment);
          <span class="hljs-comment">// 3. å°†è§£æåçš„ç¢ç‰‡æ”¾å›åŸå…ƒç´ </span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">appendChild</span>(fragment);
        }
      }

      <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼ˆå¦‚ divã€inputï¼‰</span>
      <span class="hljs-title function_">isElementNode</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">return</span> node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>;
      }

      <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æŒ‡ä»¤ï¼ˆä»¥ v- å¼€å¤´ï¼‰</span>
      <span class="hljs-title function_">isDirective</span>(<span class="hljs-params">attrName</span>) {
        <span class="hljs-keyword">return</span> attrName.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'v-'</span>);
      }

      <span class="hljs-comment">// å°†èŠ‚ç‚¹ç§»åˆ°æ–‡æ¡£ç¢ç‰‡</span>
      <span class="hljs-title function_">node2Fragment</span>(<span class="hljs-params">el</span>) {
        <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
        <span class="hljs-keyword">let</span> firstChild;
        <span class="hljs-keyword">while</span> (firstChild = el.<span class="hljs-property">firstChild</span>) {
          fragment.<span class="hljs-title function_">appendChild</span>(firstChild); <span class="hljs-comment">// ç§»åŠ¨èŠ‚ç‚¹ï¼ˆåŸèŠ‚ç‚¹ä¼šè¢«ç§»é™¤ï¼‰</span>
        }
        <span class="hljs-keyword">return</span> fragment;
      }

      <span class="hljs-comment">// æ ¸å¿ƒï¼šè§£ææ–‡æ¡£ç¢ç‰‡ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹</span>
      <span class="hljs-title function_">compile</span>(<span class="hljs-params">fragment</span>) {
        <span class="hljs-keyword">const</span> childNodes = fragment.<span class="hljs-property">childNodes</span>;
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(childNodes).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> {
          <span class="hljs-comment">// 1. å¤„ç†å…ƒç´ èŠ‚ç‚¹ï¼ˆè§£æ v-model ç­‰æŒ‡ä»¤ï¼‰</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isElementNode</span>(node)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileElement</span>(node);
          } 
          <span class="hljs-comment">// 2. å¤„ç†æ–‡æœ¬èŠ‚ç‚¹ï¼ˆè§£æ {{}} æ’å€¼ï¼‰</span>
          <span class="hljs-keyword">else</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileText</span>(node);
          }
          <span class="hljs-comment">// é€’å½’è§£æå­èŠ‚ç‚¹ï¼ˆå¤„ç†åµŒå¥—æ¨¡æ¿ï¼‰</span>
          <span class="hljs-keyword">if</span> (node.<span class="hljs-property">childNodes</span> &amp;&amp; node.<span class="hljs-property">childNodes</span>.<span class="hljs-property">length</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(node);
          }
        });
      }

      <span class="hljs-comment">// è§£æå…ƒç´ èŠ‚ç‚¹ï¼ˆå¦‚ v-modelï¼‰</span>
      <span class="hljs-title function_">compileElement</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> attrs = node.<span class="hljs-property">attributes</span>;
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(attrs).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">attr</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> attrName = attr.<span class="hljs-property">name</span>;
          <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æŒ‡ä»¤</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isDirective</span>(attrName)) {
            <span class="hljs-keyword">const</span> expr = attr.<span class="hljs-property">value</span>; <span class="hljs-comment">// æŒ‡ä»¤å¯¹åº”çš„æ•°æ®å±æ€§ï¼ˆå¦‚ 'message'ï¼‰</span>
            <span class="hljs-keyword">const</span> [, directive] = attrName.<span class="hljs-title function_">split</span>(<span class="hljs-string">'-'</span>); <span class="hljs-comment">// æå–æŒ‡ä»¤åï¼ˆå¦‚ 'model'ï¼‰</span>
            <span class="hljs-comment">// æ‰§è¡ŒæŒ‡ä»¤å¯¹åº”çš„æ›´æ–°æ–¹æ³•</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">compileUtil</span>[directive](node, <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, expr);
          }
        });
      }

      <span class="hljs-comment">// è§£ææ–‡æœ¬èŠ‚ç‚¹ï¼ˆ{{}} æ’å€¼ï¼‰</span>
      <span class="hljs-title function_">compileText</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> textContent = node.<span class="hljs-property">textContent</span>;
        <span class="hljs-comment">// æ­£åˆ™åŒ¹é… {{xxx}} æ ¼å¼</span>
        <span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>;
        <span class="hljs-keyword">if</span> (reg.<span class="hljs-title function_">test</span>(textContent)) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">compileUtil</span>.<span class="hljs-title function_">text</span>(node, <span class="hljs-variable language_">this</span>.<span class="hljs-property">vm</span>, textContent);
        }
      }

      <span class="hljs-comment">// æŒ‡ä»¤å¤„ç†å·¥å…·é›†</span>
      compileUtil = {
        <span class="hljs-comment">// è·å–æ•°æ®å±æ€§çš„å€¼</span>
        <span class="hljs-title function_">getVal</span>(<span class="hljs-params">vm, expr</span>) {
          <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, currentKey</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> data[currentKey];
          }, vm.<span class="hljs-property">$data</span>);
        },

        <span class="hljs-comment">// è®¾ç½®æ•°æ®å±æ€§çš„å€¼ï¼ˆç”¨äº v-modelï¼‰</span>
        <span class="hljs-title function_">setVal</span>(<span class="hljs-params">vm, expr, value</span>) {
          <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, currentKey, index, arr</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (index === arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
              <span class="hljs-keyword">return</span> data[currentKey] = value;
            }
            <span class="hljs-keyword">return</span> data[currentKey];
          }, vm.<span class="hljs-property">$data</span>);
        },

        <span class="hljs-comment">// å¤„ç† v-model æŒ‡ä»¤</span>
        <span class="hljs-title function_">model</span>(<span class="hljs-params">node, vm, expr</span>) {
          <span class="hljs-keyword">const</span> updateFn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">updater</span>.<span class="hljs-property">modelUpdater</span>;
          <span class="hljs-comment">// 1. åˆå§‹åŒ–ï¼šè®¾ç½®è¾“å…¥æ¡†é»˜è®¤å€¼</span>
          <span class="hljs-title function_">updateFn</span>(node, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(vm, expr));
          <span class="hljs-comment">// 2. åˆ›å»º Watcherï¼šæ•°æ®å˜åŒ–æ—¶æ›´æ–°è¾“å…¥æ¡†</span>
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watcher</span>(vm, expr, <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> {
            <span class="hljs-title function_">updateFn</span>(node, newValue);
          });
          <span class="hljs-comment">// 3. ç›‘å¬è¾“å…¥æ¡†äº‹ä»¶ï¼šè¾“å…¥å†…å®¹åŒæ­¥åˆ° data</span>
          node.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> newValue = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(vm, expr, newValue);
          });
        },

        <span class="hljs-comment">// å¤„ç† {{}} æ’å€¼æ–‡æœ¬</span>
        <span class="hljs-title function_">text</span>(<span class="hljs-params">node, vm, expr</span>) {
          <span class="hljs-keyword">const</span> updateFn = <span class="hljs-variable language_">this</span>.<span class="hljs-property">updater</span>.<span class="hljs-property">textUpdater</span>;
          <span class="hljs-comment">// æ›¿æ¢ {{}} ä¸ºçœŸå®æ•°æ®</span>
          <span class="hljs-keyword">const</span> content = expr.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>, <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> prop = args[<span class="hljs-number">1</span>].<span class="hljs-title function_">trim</span>();
            <span class="hljs-comment">// åˆ›å»º Watcherï¼šæ•°æ®å˜åŒ–æ—¶æ›´æ–°æ–‡æœ¬</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watcher</span>(vm, prop, <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> {
              <span class="hljs-title function_">updateFn</span>(node, <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getContentValue</span>(vm, expr));
            });
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(vm, prop);
          });
          <span class="hljs-comment">// åˆå§‹åŒ–æ–‡æœ¬å†…å®¹</span>
          <span class="hljs-title function_">updateFn</span>(node, content);
        },

        <span class="hljs-comment">// è·å–æ’å€¼æ–‡æœ¬çš„å®Œæ•´å†…å®¹ï¼ˆå¤„ç†å¤šä¸ª {{}} æƒ…å†µï¼‰</span>
        <span class="hljs-title function_">getContentValue</span>(<span class="hljs-params">vm, expr</span>) {
          <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>, <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(vm, args[<span class="hljs-number">1</span>].<span class="hljs-title function_">trim</span>());
          });
        },

        <span class="hljs-comment">// DOM æ›´æ–°æ–¹æ³•é›†</span>
        <span class="hljs-attr">updater</span>: {
          <span class="hljs-comment">// æ›´æ–° v-model æŒ‡ä»¤çš„ DOMï¼ˆè¾“å…¥æ¡†å€¼ï¼‰</span>
          <span class="hljs-title function_">modelUpdater</span>(<span class="hljs-params">node, value</span>) {
            node.<span class="hljs-property">value</span> = value;
          },
          <span class="hljs-comment">// æ›´æ–°æ–‡æœ¬èŠ‚ç‚¹å†…å®¹</span>
          <span class="hljs-title function_">textUpdater</span>(<span class="hljs-params">node, value</span>) {
            node.<span class="hljs-property">textContent</span> = value;
          }
        }
      };
    }

    <span class="hljs-comment">//  5. Vue æ ¸å¿ƒç±»ï¼šæ•´åˆæ‰€æœ‰æ¨¡å— </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Vue</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span> = options.<span class="hljs-property">el</span>; <span class="hljs-comment">// æŒ‚è½½å…ƒç´ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span> = options.<span class="hljs-property">data</span>; <span class="hljs-comment">// å“åº”å¼æ•°æ®</span>

        <span class="hljs-comment">// 1. å¦‚æœæœ‰æŒ‚è½½å…ƒç´ ï¼Œåˆå§‹åŒ–å“åº”å¼</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>) {
          <span class="hljs-comment">// åŠ«æŒ data æ‰€æœ‰å±æ€§</span>
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">Observer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>);
          <span class="hljs-comment">// ä»£ç† data å±æ€§åˆ° Vue å®ä¾‹ï¼ˆå¯é€šè¿‡ vm.message è®¿é—® vm.$data.messageï¼‰</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">proxyData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$data</span>);
          <span class="hljs-comment">// è§£ææ¨¡æ¿</span>
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compile</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$el</span>, <span class="hljs-variable language_">this</span>);
        }
      }

      <span class="hljs-comment">// ä»£ç† data å±æ€§åˆ° Vue å®ä¾‹</span>
      <span class="hljs-title function_">proxyData</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
          <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">this</span>, key, {
            <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
              <span class="hljs-keyword">return</span> data[key];
            },
            <span class="hljs-title function_">set</span>(<span class="hljs-params">newValue</span>) {
              data[key] = newValue;
            }
          });
        });
      }
    }

    <span class="hljs-comment">//  æµ‹è¯•ä¾‹å­ </span>
    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>({
      <span class="hljs-attr">el</span>: <span class="hljs-string">'#app'</span>,
      <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue2 å“åº”å¼ï¼'</span>,
        <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
      }
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">äºŒã€ Vue 3ï¼šåŸºäº Proxy çš„å‡çº§è¿›åŒ–</h2>
<h3 data-id="heading-6">1. æ ¸å¿ƒæ”¹è¿›</h3>
<p>Vue 3 å½»åº•æ”¾å¼ƒäº† <code>Object.defineProperty</code>ï¼Œè½¬è€Œä½¿ç”¨ ES6 çš„ <code>Proxy</code>ã€‚å®ƒä¸ä»…è§£å†³äº† Vue 2 æ— æ³•ç›‘å¬å¯¹è±¡æ–°å¢å±æ€§å’Œæ•°ç»„ç´¢å¼•çš„é—®é¢˜ï¼Œè¿˜æ˜¾è‘—æå‡äº†åˆå§‹åŒ–æ€§èƒ½ã€‚</p>
<h3 data-id="heading-7">2. å“åº”å¼æµç¨‹</h3>
<ol>
<li>
<p><strong>Proxy ä»£ç†</strong>ï¼šæ‹¦æˆªå¯¹è±¡çš„ <code>get</code> å’Œ <code>set</code>ã€‚</p>
</li>
<li>
<p><strong>ä¾èµ–è¿½è¸ª (Track)</strong> ï¼šåœ¨ <code>get</code> æ—¶ï¼Œå°†å½“å‰æ­£åœ¨æ‰§è¡Œçš„ <code>Effect</code>ï¼ˆå‰¯ä½œç”¨å‡½æ•°ï¼‰è®°å½•åœ¨å…¨å±€æ˜ å°„è¡¨ <code>targetMap</code> ä¸­ã€‚</p>
</li>
<li>
<p><strong>è§¦å‘æ›´æ–° (Trigger)</strong> ï¼šåœ¨ <code>set</code> æ—¶ï¼Œä» <code>targetMap</code> ä¸­æ‰¾åˆ°è¯¥å±æ€§å¯¹åº”çš„æ‰€æœ‰ <code>Effect</code> å¹¶é‡æ–°æ‰§è¡Œã€‚</p>
</li>
</ol>
<h3 data-id="heading-8">3. æºç ä»¿çœŸå®ç°</h3>
<p>åœ¨ Vue3ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>reactive</code> å£°æ˜å“åº”å¼æ•°æ®ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue3 åŒå‘æ•°æ®ç»‘å®šç®€æ˜“å®ç°<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æµ‹è¯•æ¨¡æ¿ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{{ message }}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"message"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{{ user.age }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>  <span class="hljs-attr">onclick</span>=<span class="hljs-string">"state.user.age++"</span>&gt;</span>å¹´é¾„+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"number"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"user.age"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">//  1. ä¾èµ–ç®¡ç†æ ¸å¿ƒï¼šå­˜å‚¨ã€Œæ•°æ®-å‰¯ä½œç”¨ã€æ˜ å°„ </span>
    <span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>(); <span class="hljs-comment">// å…¨å±€ä¾èµ–æ˜ å°„ï¼štarget â†’ key â†’ effects</span>
    <span class="hljs-keyword">let</span> activeEffect = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°</span>

    <span class="hljs-comment">// æ”¶é›†ä¾èµ–ï¼ˆè¿½è¸ªï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target, key</span>) {
      <span class="hljs-keyword">if</span> (!activeEffect) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æ— å‰¯ä½œç”¨å‡½æ•°åˆ™ä¸æ”¶é›†</span>
      <span class="hljs-comment">// 1. è·å– target å¯¹åº”çš„ä¾èµ–æ˜ å°„</span>
      <span class="hljs-keyword">let</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
      <span class="hljs-keyword">if</span> (!depsMap) {
        depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        targetMap.<span class="hljs-title function_">set</span>(target, depsMap);
      }
      <span class="hljs-comment">// 2. è·å– key å¯¹åº”çš„å‰¯ä½œç”¨é›†åˆ</span>
      <span class="hljs-keyword">let</span> deps = depsMap.<span class="hljs-title function_">get</span>(key);
      <span class="hljs-keyword">if</span> (!deps) {
        deps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(); <span class="hljs-comment">// ç”¨ Set é¿å…é‡å¤å‰¯ä½œç”¨</span>
        depsMap.<span class="hljs-title function_">set</span>(key, deps);
      }
      <span class="hljs-comment">// 3. æ·»åŠ å½“å‰å‰¯ä½œç”¨åˆ°é›†åˆ</span>
      deps.<span class="hljs-title function_">add</span>(activeEffect);
    }

    <span class="hljs-comment">// è§¦å‘ä¾èµ–æ›´æ–°</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target, key</span>) {
      <span class="hljs-comment">// 1. è·å– target å¯¹åº”çš„ä¾èµ–æ˜ å°„</span>
      <span class="hljs-keyword">const</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
      <span class="hljs-keyword">if</span> (!depsMap) <span class="hljs-keyword">return</span>;
      <span class="hljs-comment">// 2. è·å– key å¯¹åº”çš„å‰¯ä½œç”¨é›†åˆ</span>
      <span class="hljs-keyword">const</span> deps = depsMap.<span class="hljs-title function_">get</span>(key);
      <span class="hljs-keyword">if</span> (!deps) <span class="hljs-keyword">return</span>;
      <span class="hljs-comment">// 3. æ‰§è¡Œæ‰€æœ‰å‰¯ä½œç”¨å‡½æ•°</span>
      deps.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">effect</span> =&gt;</span> <span class="hljs-title function_">effect</span>());
    }

    <span class="hljs-comment">//  2. åˆ›å»ºå“åº”å¼å¯¹è±¡ï¼šreactiveï¼ˆåŸºäº Proxy + Reflectï¼‰ </span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">reactive</span>(<span class="hljs-params">target</span>) {
      <span class="hljs-comment">// éå¯¹è±¡ç›´æ¥è¿”å›</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">'object'</span> || target === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> target;
      }

      <span class="hljs-comment">// åˆ›å»º Proxy ä»£ç†</span>
      <span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
        <span class="hljs-comment">// æ‹¦æˆªå±æ€§è¯»å–</span>
        <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
          <span class="hljs-title function_">track</span>(target, key); <span class="hljs-comment">// æ”¶é›†ä¾èµ–</span>
          <span class="hljs-comment">// é€’å½’å¤„ç†åµŒå¥—å¯¹è±¡ï¼ˆæ‡’ä»£ç†ï¼Œè¯»å–æ—¶æ‰åˆ›å»ºå“åº”å¼ï¼‰</span>
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">reactive</span>(result);
        },
        <span class="hljs-comment">// æ‹¦æˆªå±æ€§èµ‹å€¼</span>
        <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
          <span class="hljs-keyword">const</span> oldValue = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
          <span class="hljs-comment">// å€¼å˜åŒ–æ‰è§¦å‘æ›´æ–°</span>
          <span class="hljs-keyword">if</span> (oldValue !== value) {
            <span class="hljs-title function_">trigger</span>(target, key); <span class="hljs-comment">// è§¦å‘ä¾èµ–æ›´æ–°</span>
          }
          <span class="hljs-keyword">return</span> result;
        },
        <span class="hljs-comment">// æ‹¦æˆªå±æ€§åˆ é™¤ï¼ˆå¯é€‰ï¼Œè¡¥å……å®Œæ•´åº¦ï¼‰</span>
        <span class="hljs-title function_">deleteProperty</span>(<span class="hljs-params">target, key</span>) {
          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">deleteProperty</span>(target, key);
          <span class="hljs-title function_">trigger</span>(target, key);
          <span class="hljs-keyword">return</span> result;
        }
      });

      <span class="hljs-keyword">return</span> proxy;
    }

    <span class="hljs-comment">//  3. å‰¯ä½œç”¨å‡½æ•°ï¼šeffectï¼ˆä¾èµ–æ”¶é›†çš„å…¥å£ï¼‰ </span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">effect</span>(<span class="hljs-params">fn</span>) {
      <span class="hljs-comment">// åŒ…è£…å‰¯ä½œç”¨å‡½æ•°</span>
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">effectFn</span> = (<span class="hljs-params"/>) =&gt; {
        activeEffect = effectFn; <span class="hljs-comment">// æ ‡è®°å½“å‰å‰¯ä½œç”¨</span>
        <span class="hljs-title function_">fn</span>(); <span class="hljs-comment">// æ‰§è¡Œå‡½æ•°ï¼Œè§¦å‘ get æ‹¦æˆªï¼Œæ”¶é›†ä¾èµ–</span>
        activeEffect = <span class="hljs-literal">null</span>; <span class="hljs-comment">// é‡ç½®</span>
      };
      <span class="hljs-title function_">effectFn</span>(); <span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œå®Œæˆåˆå§‹ä¾èµ–æ”¶é›†</span>
      <span class="hljs-keyword">return</span> effectFn;
    }

    <span class="hljs-comment">//  4. æ¨¡æ¿è§£æå™¨ï¼šCompileï¼ˆè§£æ {{}} å’Œ v-modelï¼‰ </span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compile</span> {
      <span class="hljs-title function_">constructor</span>(<span class="hljs-params">el, data</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(el); <span class="hljs-comment">// æŒ‚è½½å…ƒç´ </span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data; <span class="hljs-comment">// å“åº”å¼æ•°æ®</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">fragment</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFragment</span>(); <span class="hljs-comment">// åˆ›å»ºæ–‡æ¡£ç¢ç‰‡</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fragment</span>); <span class="hljs-comment">// è§£ææ¨¡æ¿</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">fragment</span>); <span class="hljs-comment">// æŒ‚è½½åˆ° DOM</span>
      }

      <span class="hljs-comment">// åˆ›å»ºæ–‡æ¡£ç¢ç‰‡ï¼ˆå‡å°‘ DOM æ“ä½œï¼‰</span>
      <span class="hljs-title function_">createFragment</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
        <span class="hljs-keyword">let</span> child;
        <span class="hljs-keyword">while</span> (child = <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">firstChild</span>) {
          fragment.<span class="hljs-title function_">appendChild</span>(child);
        }
        <span class="hljs-keyword">return</span> fragment;
      }

      <span class="hljs-comment">// æ ¸å¿ƒè§£ææ–¹æ³•</span>
      <span class="hljs-title function_">compile</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>) { <span class="hljs-comment">// å…ƒç´ èŠ‚ç‚¹ï¼ˆè§£æ v-modelï¼‰</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileElement</span>(node);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">3</span> &amp;&amp; <span class="hljs-regexp">/\{\{(.+?)\}\}/</span>.<span class="hljs-title function_">test</span>(node.<span class="hljs-property">textContent</span>)) { <span class="hljs-comment">// æ–‡æœ¬èŠ‚ç‚¹ï¼ˆè§£æ {{}}ï¼‰</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compileText</span>(node);
        }

        <span class="hljs-comment">// é€’å½’è§£æå­èŠ‚ç‚¹</span>
        node.<span class="hljs-property">childNodes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">child</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">compile</span>(child));
      }

      <span class="hljs-comment">// è§£æå…ƒç´ èŠ‚ç‚¹ï¼ˆv-model æŒ‡ä»¤ï¼‰</span>
      <span class="hljs-title function_">compileElement</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> attrs = node.<span class="hljs-property">attributes</span>;
        <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(attrs).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">attr</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> { name, value } = attr;
          <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'v-model'</span>) { <span class="hljs-comment">// å¤„ç† v-model</span>
            <span class="hljs-comment">// 1. åˆå§‹åŒ–ï¼šç”¨å“åº”å¼æ•°æ®è®¾ç½® DOM å€¼</span>
            node.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(value);
            <span class="hljs-comment">// 2. ç›‘å¬è¾“å…¥äº‹ä»¶ï¼ŒåŒæ­¥åˆ°å“åº”å¼æ•°æ®</span>
            node.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setVal</span>(value, e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
            });
            <span class="hljs-comment">// 3. ç›‘å¬æ•°æ®å˜åŒ–ï¼Œæ›´æ–° DOM</span>
            <span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
              node.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(value);
            });
            <span class="hljs-comment">// ç§»é™¤æŒ‡ä»¤å±æ€§ï¼ˆå¯é€‰ï¼Œç¾åŒ– DOMï¼‰</span>
            node.<span class="hljs-title function_">removeAttribute</span>(name);
          }
        });
      }

      <span class="hljs-comment">// è§£ææ–‡æœ¬èŠ‚ç‚¹ï¼ˆ{{}} æ’å€¼ï¼‰</span>
      <span class="hljs-title function_">compileText</span>(<span class="hljs-params">node</span>) {
        <span class="hljs-keyword">const</span> reg = <span class="hljs-regexp">/\{\{(.+?)\}\}/g</span>;
        <span class="hljs-keyword">const</span> text = node.<span class="hljs-property">textContent</span>;
        <span class="hljs-comment">// æ›¿æ¢ {{}} ä¸ºçœŸå®æ•°æ®ï¼Œå¹¶åˆ›å»ºå‰¯ä½œç”¨</span>
        node.<span class="hljs-property">textContent</span> = text.<span class="hljs-title function_">replace</span>(reg, <span class="hljs-function">(<span class="hljs-params">_, expr</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> prop = expr.<span class="hljs-title function_">trim</span>();
          <span class="hljs-comment">// ç›‘å¬æ•°æ®å˜åŒ–ï¼Œæ›´æ–°æ–‡æœ¬</span>
          <span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
            node.<span class="hljs-property">textContent</span> = text.<span class="hljs-title function_">replace</span>(reg, <span class="hljs-function">(<span class="hljs-params">_, innerExpr</span>) =&gt;</span> {
              <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(innerExpr.<span class="hljs-title function_">trim</span>());
            });
          });
          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVal</span>(prop);
        });
      }

      <span class="hljs-comment">// è·å–å“åº”å¼æ•°æ®çš„å€¼ï¼ˆå¤„ç†åµŒå¥—ï¼Œå¦‚ user.ageï¼‰</span>
      <span class="hljs-title function_">getVal</span>(<span class="hljs-params">expr</span>) {
        <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, key</span>) =&gt;</span> {
          <span class="hljs-keyword">return</span> data[key];
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
      }

      <span class="hljs-comment">// è®¾ç½®å“åº”å¼æ•°æ®çš„å€¼ï¼ˆå¤„ç†åµŒå¥—ï¼Œå¦‚ user.ageï¼‰</span>
      <span class="hljs-title function_">setVal</span>(<span class="hljs-params">expr, value</span>) {
        <span class="hljs-keyword">return</span> expr.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">data, key, index, arr</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (index === arr.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// å¤„ç†æ•°å­—ç±»å‹ï¼ˆå¦‚ ageï¼‰</span>
            <span class="hljs-keyword">return</span> data[key] = <span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">Number</span>(value)) ? value : <span class="hljs-title class_">Number</span>(value);
          }
          <span class="hljs-keyword">return</span> data[key];
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>);
      }
    }

    <span class="hljs-comment">//  4. æµ‹è¯•ä»£ç  </span>
    <span class="hljs-comment">// 1. åˆ›å»ºå“åº”å¼æ•°æ®</span>
    <span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({
      <span class="hljs-attr">message</span>: <span class="hljs-string">'Hello Vue3 åŒå‘ç»‘å®šï¼'</span>,
      <span class="hljs-attr">user</span>: {
        <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
      }
    });

    <span class="hljs-comment">// 2. è§£ææ¨¡æ¿ï¼Œå®ŒæˆåŒå‘ç»‘å®š</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Compile</span>(<span class="hljs-string">'#app'</span>, state);

    <span class="hljs-comment">// æš´éœ²åˆ°å…¨å±€ï¼Œæ–¹ä¾¿æ§åˆ¶å°æµ‹è¯•</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">state</span> = state;
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>

</code></pre>
<h2 data-id="heading-9">ä¸‰ã€ æ€»ç»“ï¼šVue 2 vs Vue 3 å“åº”å¼å¯¹æ¯”</h2>






























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Vue 2 (defineProperty)</strong></th><th><strong>Vue 3 (Proxy)</strong></th></tr></thead><tbody><tr><td><strong>æ€§èƒ½</strong></td><td>å¿…é¡»å…¨é‡éå†å±æ€§ï¼Œå¼€é”€å¤§</td><td>æ‡’ä»£ç†ï¼ˆè¯»å–æ—¶æ‰å¤„ç†ï¼‰ï¼Œæ›´é«˜æ•ˆ</td></tr><tr><td><strong>åŠ¨æ€æ€§</strong></td><td>æ— æ³•æ£€æµ‹å±æ€§æ–°å¢ã€åˆ é™¤</td><td>å®Œç¾æ”¯æŒå±æ€§æ–°å¢ã€åˆ é™¤åŠæ•°ç»„ç´¢å¼•</td></tr><tr><td><strong>å®ç°å¤æ‚åº¦</strong></td><td>éœ€è¦æ‰‹åŠ¨é‡å†™æ•°ç»„æ–¹æ³•</td><td>åŸç”Ÿæ”¯æŒæ‰€æœ‰å¯¹è±¡æ“ä½œ</td></tr><tr><td><strong>å…¼å®¹æ€§</strong></td><td>æ”¯æŒ IE9+</td><td>ä¸æ”¯æŒ IE (ä¾èµ– ES6)</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›¢é˜Ÿå®ªæ³•:CLAUDE.md å’Œruleä½¿ç”¨æŠ€å·§ä¸å¤åˆ©æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7602454700503646249</link>    <guid>https://juejin.cn/post/7602454700503646249</guid>    <pubDate>2026-02-03T12:33:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602454700503646249" data-draft-id="7602503154505089065" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›¢é˜Ÿå®ªæ³•:CLAUDE.md å’Œruleä½¿ç”¨æŠ€å·§ä¸å¤åˆ©æ¨¡å¼"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-03T12:33:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›¢é˜Ÿå®ªæ³•:CLAUDE.md å’Œruleä½¿ç”¨æŠ€å·§ä¸å¤åˆ©æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:33:46.000Z" title="Tue Feb 03 2026 12:33:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯?</p>
<blockquote>
<p><strong>åœºæ™¯ 1: è§„èŒƒæ‰§è¡Œé "å¼"</strong></p>
<ul>
<li>ä»£ç è¯„å®¡æ—¶:"è¿™ä¸ªå‘½åä¸ç¬¦åˆè§„èŒƒå•Š,æ”¹ä¸€ä¸‹"</li>
<li>æäº¤ä»£ç æ—¶:"æäº¤ä¿¡æ¯æ ¼å¼ä¸å¯¹,é‡æ–°å†™"</li>
<li>å†™å®ŒåŠŸèƒ½å:"æµ‹è¯•å‘¢?å•å…ƒæµ‹è¯•å†™äº†å—?"</li>
<li>æ¯æ¬¡éƒ½è¦æé†’,æ¯æ¬¡éƒ½è¦è¿”å·¥</li>
</ul>
</blockquote>
<blockquote>
<p><strong>åœºæ™¯ 2: AI åŠ©æ‰‹"ä¸å¬è¯"</strong></p>
<ul>
<li>Claude Code ç”Ÿæˆçš„ä»£ç é£æ ¼ä¹±ä¸ƒå…«ç³Ÿ</li>
<li>å‡½æ•°å‘½åæœ‰æ—¶é©¼å³°æœ‰æ—¶ä¸‹åˆ’çº¿</li>
<li>æ³¨é‡Šå†™å¾—åƒå¤©ä¹¦,æˆ–è€…å¹²è„†ä¸å†™</li>
<li>æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨ä¿®æ”¹,æ•ˆç‡å¤§æ‰“æŠ˜æ‰£</li>
</ul>
</blockquote>
<p>ä¼ ç»Ÿå›¢é˜Ÿé "äººç›¯äºº"æ‰§è¡Œè§„èŒƒ,æ•ˆç‡ä½ã€æˆæœ¬é«˜ã€å®¹æ˜“é—æ¼ã€‚è€Œ AI è¾…åŠ©å¼€å‘æ—¶ä»£,å¦‚æœæ²¡æœ‰æ˜ç¡®çš„è§„èŒƒ,AI ç”Ÿæˆçš„ä»£ç è´¨é‡å‚å·®ä¸é½,åè€Œå¢åŠ äº†ç»´æŠ¤è´Ÿæ‹…ã€‚</p>
<p><strong>ç­”æ¡ˆæ˜¯</strong>: <strong>å›¢é˜Ÿå®ªæ³• â€” CLAUDE.md + rules/</strong></p>
<p>å°±åƒå›½å®¶éœ€è¦å®ªæ³•æ¥è§„å®šåŸºæœ¬åŸåˆ™,å›¢é˜Ÿä¹Ÿéœ€è¦ä¸€å¥—"å®ªæ³•"æ¥å®šä¹‰:</p>
<ul>
<li><strong>é¡¹ç›®çš„æŠ€æœ¯æ ˆå’Œå¸¸ç”¨å‘½ä»¤æ˜¯ä»€ä¹ˆ?</strong>ï¼ˆCLAUDE.mdï¼‰</li>
<li><strong>æˆ‘ä»¬çš„ç¼–ç è§„èŒƒå’Œå®‰å…¨åº•çº¿æ˜¯ä»€ä¹ˆ?</strong>ï¼ˆrules/ ç›®å½•ï¼‰</li>
</ul>
<p><strong>å›¢é˜Ÿå®ªæ³•æ˜¯åŒºåˆ«è‰å°ç­å­å’Œæ­£è§„å†›çš„åˆ†æ°´å²­ã€‚</strong></p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•é€šè¿‡ CLAUDE.md + rules/ å»ºç«‹å›¢é˜Ÿè§„èŒƒ,å¹¶é€šè¿‡<strong>å¤åˆ©æ¨¡å¼</strong>è®©è¿™ä»½å®ªæ³•ä¸æ–­æ¼”è¿›,è®© Claude Code æˆä¸ºè¶Šæ¥è¶Šèµ„æ·±çš„é˜Ÿå‹ã€‚</p>
<p>é˜…è¯»æœ¬æ–‡å,ä½ å°†å­¦ä¼š:</p>
<ul>
<li>ç†è§£å›¢é˜Ÿå®ªæ³•çš„ç›®å½•ç»“æ„å’Œå„éƒ¨åˆ†çš„èŒè´£</li>
<li>æ­£ç¡®ä½¿ç”¨ CLAUDE.md å­˜æ”¾é¡¹ç›®äº‹å®,ä½¿ç”¨ rules/ å­˜æ”¾åº•çº¿è§„åˆ™</li>
<li>å»ºç«‹å¤åˆ©æ€ç»´:å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³• â†’ å…¨å‘˜å—ç›Š</li>
<li>æŒæ¡è®© AI ç†è§£å’Œéµå®ˆè§„èŒƒçš„æŠ€å·§</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦"å›¢é˜Ÿå®ªæ³•"?</h2>
<h3 data-id="heading-2">1.1 ä¼ ç»Ÿå›¢é˜Ÿçš„è§„èŒƒé—®é¢˜</h3>
<p>åœ¨æ²¡æœ‰è‡ªåŠ¨åŒ–å·¥å…·ä¹‹å‰,å›¢é˜Ÿè§„èŒƒé ä»€ä¹ˆç»´æŠ¤?</p>
<p><strong>æ–¹å¼ 1: æ–‡æ¡£ + å£å¤´ä¼ æ‰¿</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">æŸå…¬å¸ç¼–ç è§„èŒƒ.docx (ä¸Šæ¬¡æ›´æ–°: 3å¹´å‰)
<span class="hljs-bullet">  -</span> ç¬¬ 3 ç«  å‘½åè§„èŒƒ
<span class="hljs-bullet">  -</span> ç¬¬ 5 ç«  æ³¨é‡Šè§„èŒƒ
<span class="hljs-bullet">  -</span> ç¬¬ 8 ç«  å¼‚å¸¸å¤„ç†
  ...

ç°å®:
<span class="hljs-bullet">  -</span> æ–°äººå…¥èŒä¸çŸ¥é“è¿™ä»½æ–‡æ¡£
<span class="hljs-bullet">  -</span> è€å‘˜å·¥ä¹Ÿä¸è®°å¾—å…·ä½“å†…å®¹
<span class="hljs-bullet">  -</span> è§„èŒƒæ›´æ–°åæ²¡äººé€šçŸ¥
</code></pre>
<p><strong>æ–¹å¼ 2: Code Review äººè‚‰æ£€æŸ¥</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">è¯„å®¡è€…:"è¿™é‡Œåº”è¯¥ç”¨ Optional è€Œä¸æ˜¯ null"</span>
<span class="hljs-section">å¼€å‘è€…:"å“¦,å¥½çš„" (å¿ƒé‡Œæƒ³:åˆæ˜¯è¿™ä¸ªé—®é¢˜,ä¸Šæ¬¡ä¹Ÿæè¿‡)</span>
<span class="hljs-section">è¯„å®¡è€…:"ä¸‹æ¬¡æ³¨æ„" (å¿ƒé‡Œæƒ³:å·²ç»è¯´äº† N éäº†)</span>

<span class="hljs-section">ä¸‹å‘¨:</span>
  åŒæ ·çš„é—®é¢˜å†æ¬¡å‡ºç°...
</code></pre>
<p><strong>æ–¹å¼ 3: Lint å·¥å…· + Git Hooks</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># .eslintrc.js</span>
rules: {
  <span class="hljs-string">'semi'</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'always'</span>],
  <span class="hljs-string">'quotes'</span>: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'single'</span>],
  ...100+ æ¡è§„åˆ™
}

é—®é¢˜:
  - åªèƒ½æ£€æŸ¥è¯­æ³•,ä¸èƒ½æ£€æŸ¥é€»è¾‘
  - é…ç½®å¤æ‚,ç»´æŠ¤å›°éš¾
  - æ— æ³•è¦†ç›–æ¶æ„å±‚é¢çš„è§„èŒƒ
</code></pre>
<p><strong>å…±åŒçš„ç—›ç‚¹</strong>:</p>
<ul>
<li>âŒ è§„èŒƒæ‰§è¡Œ<strong>ä¸ä¸€è‡´</strong> - é äººå·¥æ£€æŸ¥,éš¾å…é—æ¼</li>
<li>âŒ æ–°äººå­¦ä¹ <strong>æˆæœ¬é«˜</strong> - éœ€è¦é˜…è¯»å¤§é‡æ–‡æ¡£</li>
<li>âŒ è§„èŒƒæ›´æ–°<strong>éš¾åŒæ­¥</strong> - æ”¹äº†æ–‡æ¡£,ä»£ç ä¸ä¸€å®šæ”¹</li>
<li>âŒ è¿è§„å‘ç°<strong>å¤ªæ™š</strong> - ä»£ç å†™å®Œæ‰å‘ç°é—®é¢˜</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3efadae671a64ae7be8d193fa00da9a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=cakr03AXRFI0Uoqn1b3KkEBDYPk%3D" alt="03-01-CR-problem.png" loading="lazy"/>
åœ¨æˆ‘ä»¬å…¬å¸ï¼Œæˆ‘å·²ç»åœ¨Gerritä¸Šéƒ¨ç½²äº†AI CodeReviewç³»ç»Ÿï¼Œèƒ½æŠ“å‡ºå¾ˆå¤šäººå·¥å†™çš„ä»£ç ä¸æŒ‰ç…§å…¬å¸è§„èŒƒæ¥çš„æƒ…å†µï¼Œå¹¶ä¸”åœ¨AIéƒ½æç¤ºå‡ºæ¥çš„æƒ…å†µä¸‹è¿˜ä¸ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-3">1.2 AI è¾…åŠ©å¼€å‘çš„æ–°æŒ‘æˆ˜</h3>
<p>å¼•å…¥ AI å,é—®é¢˜ä¸ä»…æ²¡æœ‰å‡å°‘,åè€Œå¢åŠ äº†æ–°çš„æŒ‘æˆ˜:</p>
<p><strong>æŒ‘æˆ˜ 1: AI ä¸çŸ¥é“ä½ çš„å›¢é˜Ÿè§„èŒƒ</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä½ å¸Œæœ›çš„ä»£ç é£æ ¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserById</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> db.<span class="hljs-property">users</span>.<span class="hljs-title function_">findOne</span>({ id });
    <span class="hljs-keyword">return</span> user ?? <span class="hljs-literal">null</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to get user'</span>, { id, error });
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseError</span>(<span class="hljs-string">'User query failed'</span>, { <span class="hljs-attr">cause</span>: error });
  }
}

<span class="hljs-comment">// AI é»˜è®¤ç”Ÿæˆçš„ä»£ç (æ²¡æœ‰è§„èŒƒçº¦æŸ)</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserById</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">return</span> db.<span class="hljs-property">users</span>.<span class="hljs-title function_">findOne</span>({ id }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e)
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
  })
}
</code></pre>
<p><strong>å·®å¼‚</strong>:</p>
<ul>
<li>âŒ ç¼ºå°‘ç±»å‹æ ‡æ³¨</li>
<li>âŒ ä½¿ç”¨ <code>console.log</code> è€Œä¸æ˜¯ logger</li>
<li>âŒ é”™è¯¯å¤„ç†ä¸è§„èŒƒ</li>
<li>âŒ æ²¡æœ‰å¼‚å¸¸æŠ›å‡ºå’Œä¸Šä¸‹æ–‡ä¿¡æ¯</li>
</ul>
<p><strong>æŒ‘æˆ˜ 2: æ¯æ¬¡å¯¹è¯éƒ½è¦é‡å¤è¯´æ˜è§„èŒƒ</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ä½ : "å¸®æˆ‘å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"</span>
<span class="hljs-section">AI: [ç”Ÿæˆä»£ç ,ä¸ç¬¦åˆè§„èŒƒ]</span>

<span class="hljs-section">ä½ : "è®°å¾—ä½¿ç”¨ logger è€Œä¸æ˜¯ console.log"</span>
<span class="hljs-section">AI: [ä¿®æ”¹ä»£ç ]</span>

<span class="hljs-section">ä½ : "è¿˜è¦åŠ ä¸Šç±»å‹æ ‡æ³¨"</span>
<span class="hljs-section">AI: [å†æ¬¡ä¿®æ”¹]</span>

<span class="hljs-section">ä½ : "å¼‚å¸¸å¤„ç†è¦æŠ›å‡º CustomError"</span>
<span class="hljs-section">AI: [åˆä¸€æ¬¡ä¿®æ”¹]</span>

æ•ˆç‡å¤§æ‰“æŠ˜æ‰£!
</code></pre>
<p><strong>æŒ‘æˆ˜ 3: AI ç”Ÿæˆçš„ä»£ç é£æ ¼ä¸ä¸€è‡´</strong></p>
<p>ç¬¬ä¸€æ¬¡å¯¹è¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) { ... }  <span class="hljs-comment">// é©¼å³°å‘½å</span>
</code></pre>
<p>ç¬¬äºŒæ¬¡å¯¹è¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">delete_user</span>(<span class="hljs-params">id: <span class="hljs-built_in">string</span></span>) { ... }  <span class="hljs-comment">// ä¸‹åˆ’çº¿å‘½å</span>
</code></pre>
<p>ç¬¬ä¸‰æ¬¡å¯¹è¯:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">GetUserList</span>(<span class="hljs-params"/>) { ... }  <span class="hljs-comment">// å¤§å†™å¼€å¤´</span>
</code></pre>
<p>åŒä¸€ä¸ªé¡¹ç›®,ä¸‰ç§å‘½åé£æ ¼æ··æ‚,ç»´æŠ¤å™©æ¢¦!</p>
<h3 data-id="heading-4">1.3 claude.md çš„å®šä½ä¸ä»·å€¼</h3>
<p><strong>å›¢é˜Ÿå®ªæ³•æ˜¯ä»€ä¹ˆ?</strong></p>
<p>å›¢é˜Ÿå®ªæ³•æ˜¯ä¸€å¥—å®Œæ•´çš„é…ç½®ä½“ç³»,åŒ…æ‹¬ CLAUDE.mdï¼ˆé¡¹ç›®äº‹å®ï¼‰å’Œ .claude/ ç›®å½•ä¸‹çš„ rules/ è§„åˆ™æ–‡ä»¶,å…±åŒå®šä¹‰äº† AI åœ¨å·¥ä½œæ—¶åº”è¯¥éµå®ˆçš„è§„èŒƒå’Œçº¦æŸã€‚</p>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>:</p>
<ol>
<li><strong>è‡ªåŠ¨åŠ è½½,æ— éœ€é‡å¤</strong> - Claude Code å¯åŠ¨æ—¶è‡ªåŠ¨è¯»å–é…ç½®,æ¯æ¬¡å¯¹è¯éƒ½ç”Ÿæ•ˆ</li>
<li><strong>èŒè´£åˆ†ç¦»,æ˜“äºç»´æŠ¤</strong> - CLAUDE.md å­˜é¡¹ç›®äº‹å®,rules/ å­˜åº•çº¿è§„åˆ™,ç»“æ„æ¸…æ™°</li>
<li><strong>å¯ç‰ˆæœ¬ç®¡ç†</strong> - å’Œä»£ç ä¸€èµ·æäº¤åˆ° Git,å›¢é˜Ÿå…±äº«</li>
<li><strong>å¯æŒç»­æ”¹è¿›</strong> - å‘ç°é—®é¢˜å°±æ›´æ–°,å½¢æˆå¤åˆ©æ•ˆåº”</li>
</ol>
<p><strong>ç±»æ¯”ç†è§£</strong>:</p>
<pre><code class="hljs language-objectivec" lang="objectivec">å›¢é˜Ÿå®ªæ³•å°±åƒå›½å®¶çš„<span class="hljs-string">"å®ªæ³•ä½“ç³»"</span>
  â”œâ”€ <span class="hljs-built_in">CLAUDE</span>.md: é¡¹ç›®äº‹å®(æŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ã€çº¦æŸ)
  â”œâ”€ rules/: åº•çº¿è§„åˆ™(ç¼–ç è§„èŒƒã€æµ‹è¯•è¦æ±‚ã€å®‰å…¨è§„èŒƒ)
  â””â”€ å¯ä»¥ä¿®æ­£å’Œå®Œå–„(å®ªæ³•ä¿®æ­£æ¡ˆ)
</code></pre>
<p><strong>å¯¹æ¯”ä¼ ç»Ÿæ–¹å¼</strong>:</p>















































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">ä¼ ç»Ÿè§„èŒƒæ–‡æ¡£</th><th align="left">Lint å·¥å…·</th><th align="left">claude.md</th></tr></thead><tbody><tr><td align="left"><strong>è‡ªåŠ¨æ‰§è¡Œ</strong></td><td align="left">âŒ é äººå·¥</td><td align="left">âœ… è‡ªåŠ¨æ£€æŸ¥</td><td align="left">âœ… AI è‡ªåŠ¨éµå®ˆ</td></tr><tr><td align="left"><strong>è¦†ç›–èŒƒå›´</strong></td><td align="left">âœ… å…¨é¢</td><td align="left">âš ï¸ ä»…è¯­æ³•å±‚é¢</td><td align="left">âœ… å…¨é¢(è¯­æ³•+é€»è¾‘+æ¶æ„)</td></tr><tr><td align="left"><strong>å­¦ä¹ æˆæœ¬</strong></td><td align="left">âŒ éœ€è¦é˜…è¯»å¤§é‡æ–‡æ¡£</td><td align="left">âš ï¸ éœ€è¦ç†è§£è§„åˆ™</td><td align="left">âœ… AI ç›´æ¥ç†è§£å¹¶åº”ç”¨</td></tr><tr><td align="left"><strong>å®æ—¶ç”Ÿæ•ˆ</strong></td><td align="left">âŒ å†™å®Œä»£ç æ‰å‘ç°</td><td align="left">âš ï¸ æäº¤æ—¶æ£€æŸ¥</td><td align="left">âœ… ç”Ÿæˆæ—¶å°±ç¬¦åˆè§„èŒƒ</td></tr><tr><td align="left"><strong>ç‰ˆæœ¬ç®¡ç†</strong></td><td align="left">âš ï¸ æ–‡æ¡£ç‹¬ç«‹ç®¡ç†</td><td align="left">âœ… é…ç½®æ–‡ä»¶ç®¡ç†</td><td align="left">âœ… å’Œä»£ç ä¸€èµ·ç®¡ç†</td></tr><tr><td align="left"><strong>å¯æ¼”è¿›æ€§</strong></td><td align="left">âŒ æ›´æ–°å›°éš¾</td><td align="left">âš ï¸ éœ€è¦æ”¹é…ç½®</td><td align="left">âœ… éšæ—¶æ›´æ–°,ç«‹å³ç”Ÿæ•ˆ</td></tr></tbody></table>
<blockquote>
<p>"claude.md ä¸æ˜¯çº¦æŸ AI çš„æ·é”,è€Œæ˜¯è®© AI æˆä¸ºèµ„æ·±é˜Ÿå‹çš„è®­ç»ƒæ‰‹å†Œ"</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">äºŒã€claude.md æ–‡ä»¶è¯¦è§£</h2>
<h3 data-id="heading-6">2.1 é…ç½®å±‚çº§ä¸å·¥ä½œåŸç†</h3>
<p>Claude Code æ”¯æŒ<strong>ä¸¤çº§é…ç½®</strong>,ä¼˜å…ˆçº§è§„åˆ™: <strong>é¡¹ç›®é…ç½® &gt; å…¨å±€é…ç½® &gt; Claude é»˜è®¤è¡Œä¸º</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">1.</span> é¡¹ç›®çº§é…ç½®(ä¼˜å…ˆçº§æœ€é«˜)
   è·¯å¾„: &lt;é¡¹ç›®æ ¹ç›®å½•&gt;/<span class="hljs-variable constant_">CLAUDE</span>.<span class="hljs-property">md</span>
   ä½œç”¨åŸŸ: å½“å‰é¡¹ç›®

<span class="hljs-number">2.</span> å…¨å±€é…ç½®(é»˜è®¤é…ç½®)
   è·¯å¾„: ~<span class="hljs-regexp">/.claude/</span><span class="hljs-variable constant_">CLAUDE</span>.<span class="hljs-property">md</span>
   ä½œç”¨åŸŸ: æ‰€æœ‰é¡¹ç›®
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9474fc977550496daae032eb7a25da45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=rfhIcgMFaM6gMAqUqbl90A8zUQ8%3D" alt="03-02-config-hierarchy.png" loading="lazy"/></p>
<p><em>å›¾2: claude.md é…ç½®å±‚çº§ä¸åŠ è½½æœºåˆ¶,é¡¹ç›®é…ç½®ä¼˜å…ˆçº§é«˜äºå…¨å±€é…ç½®</em></p>
<p><strong>å·¥ä½œåŸç†</strong>: claude.md çš„å†…å®¹ä¼šè¢«æ’å…¥åˆ°æ¯æ¬¡ API è°ƒç”¨çš„ç³»ç»Ÿæç¤ºè¯ä¸­,ä½œä¸ºå›¢é˜Ÿå®ªæ³•è®© AI è‡ªåŠ¨éµå®ˆã€‚é¡¹ç›®é…ç½®ä¼šè¦†ç›–å…¨å±€é…ç½®ä¸­çš„åŒåè§„åˆ™,æœªè¦†ç›–çš„è§„åˆ™ä¼šç»§æ‰¿ã€‚</p>
<p><strong>ç¤ºä¾‹</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å…¨å±€é…ç½®: ä½¿ç”¨åŒå¼•å·ã€æœ«å°¾åˆ†å·ã€2ç©ºæ ¼ç¼©è¿›</span>
<span class="hljs-section"># é¡¹ç›®é…ç½®: ä½¿ç”¨å•å¼•å·(è¦†ç›–)ã€4ç©ºæ ¼ç¼©è¿›(è¦†ç›–)</span>

<span class="hljs-section"># æœ€ç»ˆç”Ÿæ•ˆ: å•å¼•å·ã€æœ«å°¾åˆ†å·(ç»§æ‰¿)ã€4ç©ºæ ¼ç¼©è¿›</span>
</code></pre>
<h3 data-id="heading-7">2.2 å›¢é˜Ÿå®ªæ³•çš„ç›®å½•ç»“æ„</h3>
<p>æ ¹æ® Claude ä¸­æ–‡ç¤¾åŒºçš„å®˜æ–¹å®è·µï¼Œå›¢é˜Ÿå®ªæ³•åº”è¯¥é‡‡ç”¨ä»¥ä¸‹ç›®å½•ç»“æ„ï¼ˆå»ºè®®æ”¾è¿›ä»“åº“ï¼Œå›¢é˜Ÿå…±äº«ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">your-repo/
â”œâ”€ CLAUDE.md              # é¡¹ç›®äº‹å®ï¼ˆæŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ã€çº¦æŸï¼‰
â””â”€ .claude/
   â””â”€ rules/              # åº•çº¿è§„åˆ™ï¼ˆæ‹†æˆå°æ–‡ä»¶ï¼‰
      â”œâ”€ security.md      # å®‰å…¨åº•çº¿
      â”œâ”€ testing.md        # æµ‹è¯•åº•çº¿
      â””â”€ coding-style.md  # ä»£ç é£æ ¼åº•çº¿
</code></pre>
<p><strong>CLAUDE.md çš„å®šä½ï¼šå­˜æ”¾"é¡¹ç›®äº‹å®"</strong></p>
<p>CLAUDE.md çš„é‡ç‚¹æ˜¯å†™<strong>å¯æ‰§è¡Œã€å¯éªŒè¯çš„ä¿¡æ¯</strong>ï¼Œè€Œä¸æ˜¯è¯¦ç»†çš„è§„åˆ™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šTypeScript + React 18+ + Next.js 14
<span class="hljs-bullet">-</span> ç›®å½•ç»“æ„å…¥å£ï¼šsrc/ ä¸ºæºä»£ç ç›®å½•

<span class="hljs-section">## å¸¸ç”¨å‘½ä»¤ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰</span>
<span class="hljs-bullet">-</span> å®‰è£…ä¾èµ–ï¼š<span class="hljs-code">`pnpm install`</span>
<span class="hljs-bullet">-</span> è¿è¡Œæµ‹è¯•ï¼š<span class="hljs-code">`pnpm test`</span>
<span class="hljs-bullet">-</span> æ„å»ºï¼š<span class="hljs-code">`pnpm build`</span>
<span class="hljs-bullet">-</span> ä»£ç æ ¼å¼åŒ–ï¼š<span class="hljs-code">`pnpm format`</span>
<span class="hljs-bullet">-</span> é™æ€æ£€æŸ¥ï¼š<span class="hljs-code">`pnpm lint`</span>

<span class="hljs-section">## çº¦æŸï¼ˆå›¢é˜Ÿå…±è¯†ï¼‰</span>
<span class="hljs-bullet">-</span> é»˜è®¤å…ˆç”¨ Plan Mode åˆ†æï¼Œå†åŠ¨ä»£ç 
<span class="hljs-bullet">-</span> ä»»ä½•ä¼šå½±å“è¡Œä¸ºçš„æ”¹åŠ¨ï¼šå¿…é¡»è¡¥æµ‹è¯•/è¡¥æ–‡æ¡£
<span class="hljs-bullet">-</span> æ¶‰åŠå‡­è¯/æƒé™ï¼šå…ˆå®‰å…¨å®¡æŸ¥ï¼Œå†åˆå¹¶
</code></pre>
<p><strong>rules/ ç›®å½•ï¼šå­˜æ”¾"åº•çº¿"è§„åˆ™</strong></p>
<p>è§„åˆ™åº”è¯¥æ‹†æˆå¯ç»„åˆã€å¯å®¡æŸ¥çš„å°æ–‡ä»¶ï¼š</p>
<ul>
<li><code>rules/security.md</code>ï¼šå¯†é’¥ä¸è¾“å…¥æ ¡éªŒåº•çº¿ï¼ˆç¦ç¡¬ç¼–ç ã€è¾¹ç•Œæ ¡éªŒã€æœ€å°æƒé™ï¼‰</li>
<li><code>rules/testing.md</code>ï¼šæµ‹è¯•åº•çº¿ï¼ˆTDD æµç¨‹ã€è¦†ç›–ç‡é—¨æ§›ã€å…³é”®è·¯å¾„å¿…é¡» E2Eï¼‰</li>
<li><code>rules/coding-style.md</code>ï¼šä»£ç ç»„ç»‡åº•çº¿ï¼ˆæ–‡ä»¶å¤§å°ã€å‡½æ•°é•¿åº¦ã€é”™è¯¯å¤„ç†ç­‰ï¼‰</li>
</ul>
<p>è¿™äº›è§„åˆ™ä¸è¦"æŠ„ä¸€å¤§æ®µ"ï¼Œè€Œæ˜¯å†™æˆ<strong>å›¢é˜ŸçœŸçš„ä¼šæ‰§è¡Œ</strong>çš„æ¸…å•ã€‚</p>
<p><strong>èŒè´£åˆ†ç¦»åŸåˆ™</strong>ï¼š</p>
<ul>
<li><strong>CLAUDE.md</strong>ï¼šåªå†™é¡¹ç›®äº‹å®ï¼Œä¸å†™è¯¦ç»†è§„åˆ™</li>
<li><strong>rules/</strong>ï¼šåªå†™è§„åˆ™çº¦æŸï¼Œä¸å†™é¡¹ç›®äº‹å®</li>
<li>ä¸¤è€…é…åˆï¼Œå½¢æˆå®Œæ•´çš„å›¢é˜Ÿå®ªæ³•</li>
</ul>
<h3 data-id="heading-8">2.3 ä¸Šä¸‹æ–‡ä¼˜å…ˆçº§</h3>
<p>CLAUDE.md å’Œ rules/ ç›®å½•ä¸­çš„é…ç½®ä¼˜å…ˆçº§é«˜äºå¯¹è¯å†å²,ç¡®ä¿è§„èŒƒå§‹ç»ˆç”Ÿæ•ˆ:</p>
<pre><code class="hljs language-ini" lang="ini">ä¼˜å…ˆçº§æ’åº:
1. CLAUDE.md å’Œ rules/ ä¸­çš„è§„èŒƒ  <span class="hljs-section">[æœ€é«˜ä¼˜å…ˆçº§]</span>
2. ç”¨æˆ·å½“å‰è¾“å…¥çš„æŒ‡ä»¤            <span class="hljs-section">[é«˜ä¼˜å…ˆçº§]</span>
3. å¯¹è¯å†å²ä¸­çš„ä¸Šä¸‹æ–‡            <span class="hljs-section">[ä¸­ä¼˜å…ˆçº§]</span>
4. Claude çš„é»˜è®¤è¡Œä¸º             <span class="hljs-section">[ä½ä¼˜å…ˆçº§]</span>
</code></pre>
<p><strong>å®é™…æ•ˆæœ</strong>: å³ä½¿ä¹‹å‰å¯¹è¯ä¸­ä½¿ç”¨äº†ä¸ç¬¦åˆè§„èŒƒçš„ä»£ç ,CLAUDE.md å’Œ rules/ ä¸­çš„è§„èŒƒä»ä¼šåœ¨æ–°ä»£ç ç”Ÿæˆæ—¶ç”Ÿæ•ˆã€‚ç”¨æˆ·å¯ä»¥åœ¨å•æ¬¡å¯¹è¯ä¸­ä¸´æ—¶è¦†ç›–è§„èŒƒ,ä½†ä¸‹æ¬¡å¯¹è¯ä¼šè‡ªåŠ¨æ¢å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1064288d1b1410a8df35a170d359e34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=T9ynkkREShW8ZSEJ1AkMEFEUyNM%3D" alt="03-03-claude-md-mechanism.png" loading="lazy"/></p>
<p><em>å›¾3: claude.md å·¥ä½œåŸç†,å±•ç¤ºå¦‚ä½•è¢«è§£æå¹¶æ’å…¥åˆ° API è°ƒç”¨çš„ç³»ç»Ÿæç¤ºè¯ä¸­</em></p>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€å›¢é˜Ÿå®ªæ³•çš„å†…å®¹è®¾è®¡</h2>
<h3 data-id="heading-10">3.1 CLAUDE.mdï¼šé¡¹ç›®äº‹å®</h3>
<p>CLAUDE.md çš„å®šä½æ˜¯"é¡¹ç›®è®°å¿†"ï¼Œé‡ç‚¹å†™å¯æ‰§è¡Œã€å¯éªŒè¯çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šTypeScript + React 18+ + Next.js 14
<span class="hljs-bullet">-</span> ç›®å½•ç»“æ„å…¥å£ï¼šsrc/ ä¸ºæºä»£ç ç›®å½•ï¼Œpackages/ ä¸ºå…±äº«åŒ…

<span class="hljs-section">## å¸¸ç”¨å‘½ä»¤ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰</span>
<span class="hljs-bullet">-</span> å®‰è£…ä¾èµ–ï¼š<span class="hljs-code">`pnpm install`</span>
<span class="hljs-bullet">-</span> è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š<span class="hljs-code">`pnpm dev`</span>
<span class="hljs-bullet">-</span> è¿è¡Œæµ‹è¯•ï¼š<span class="hljs-code">`pnpm test`</span>
<span class="hljs-bullet">-</span> æ„å»ºï¼š<span class="hljs-code">`pnpm build`</span>
<span class="hljs-bullet">-</span> ä»£ç æ ¼å¼åŒ–ï¼š<span class="hljs-code">`pnpm format`</span>
<span class="hljs-bullet">-</span> é™æ€æ£€æŸ¥ï¼š<span class="hljs-code">`pnpm lint`</span>

<span class="hljs-section">## çº¦æŸï¼ˆå›¢é˜Ÿå…±è¯†ï¼‰</span>
<span class="hljs-bullet">-</span> é»˜è®¤å…ˆç”¨ Plan Mode åˆ†æï¼Œå†åŠ¨ä»£ç 
<span class="hljs-bullet">-</span> ä»»ä½•ä¼šå½±å“è¡Œä¸ºçš„æ”¹åŠ¨ï¼šå¿…é¡»è¡¥æµ‹è¯•/è¡¥æ–‡æ¡£
<span class="hljs-bullet">-</span> æ¶‰åŠå‡­è¯/æƒé™ï¼šå…ˆå®‰å…¨å®¡æŸ¥ï¼Œå†åˆå¹¶
<span class="hljs-bullet">-</span> æäº¤å‰å¿…é¡»é€šè¿‡ lint å’Œæµ‹è¯•
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>âœ… å†™å…·ä½“çš„æŠ€æœ¯æ ˆå’Œç‰ˆæœ¬å·</li>
<li>âœ… å†™å‡†ç¡®çš„å‘½ä»¤ï¼ˆAI ä¼šç›´æ¥æ‰§è¡Œï¼‰</li>
<li>âœ… å†™å›¢é˜Ÿå…±è¯†çš„çº¦æŸï¼ˆä¸æ˜¯è¯¦ç»†è§„åˆ™ï¼‰</li>
<li>âŒ ä¸è¦å†™è¯¦ç»†çš„ç¼–ç è§„èŒƒï¼ˆåº”è¯¥æ”¾åœ¨ rules/ ç›®å½•ï¼‰</li>
</ul>
<h3 data-id="heading-11">3.2 rules/ ç›®å½•ï¼šåº•çº¿è§„åˆ™</h3>
<p>è§„åˆ™åº”è¯¥æ‹†æˆå¯ç»„åˆã€å¯å®¡æŸ¥çš„å°æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä¸‰ä¸ªæ ¸å¿ƒè§„åˆ™æ–‡ä»¶çš„ç¤ºä¾‹ï¼š</p>
<p><strong>rules/coding-style.md</strong>ï¼šä»£ç ç»„ç»‡åº•çº¿</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ä»£ç é£æ ¼è§„èŒƒ</span>

<span class="hljs-section">## TypeScript é£æ ¼</span>
<span class="hljs-bullet">-</span> ä¸¥æ ¼æ¨¡å¼: å¯ç”¨ <span class="hljs-code">`strict: true`</span>
<span class="hljs-bullet">-</span> ç±»å‹æ ‡æ³¨: æ‰€æœ‰å‡½æ•°å‚æ•°å’Œè¿”å›å€¼å¿…é¡»æ ‡æ³¨ç±»å‹
<span class="hljs-bullet">-</span> ç±»å‹æ–­è¨€: é¿å…ä½¿ç”¨ <span class="hljs-code">`any`</span>,ä¼˜å…ˆä½¿ç”¨ <span class="hljs-code">`unknown`</span>

<span class="hljs-section">## ä»£ç æ ¼å¼</span>
<span class="hljs-bullet">-</span> ç¼©è¿›: 2 ç©ºæ ¼
<span class="hljs-bullet">-</span> å¼•å·: å•å¼•å·(å­—ç¬¦ä¸²),åŒå¼•å·(JSX å±æ€§)
<span class="hljs-bullet">-</span> åˆ†å·: å¿…é¡»ä½¿ç”¨
<span class="hljs-bullet">-</span> è¡Œå®½: æœ€å¤§ 100 å­—ç¬¦

<span class="hljs-section">## å‘½åçº¦å®š</span>
<span class="hljs-bullet">-</span> ç»„ä»¶: PascalCase (UserProfile.tsx)
<span class="hljs-bullet">-</span> å‡½æ•°: camelCase (getUserData)
<span class="hljs-bullet">-</span> å¸¸é‡: UPPER<span class="hljs-emphasis">_SNAKE_</span>CASE (API<span class="hljs-emphasis">_BASE_</span>URL)
<span class="hljs-bullet">-</span> å¸ƒå°”å€¼: is/has/can å¼€å¤´ (isLoading, hasPermission)

<span class="hljs-section">## æ³¨é‡Šè¦æ±‚</span>
<span class="hljs-bullet">-</span> âœ… å¿…é¡»: å¤æ‚é€»è¾‘ã€ç®—æ³•å®ç°ã€ä¸šåŠ¡è§„åˆ™
<span class="hljs-bullet">-</span> âœ… æ¨è: å…¬å…± APIã€å·¥å…·å‡½æ•°
<span class="hljs-bullet">-</span> æ‰€æœ‰å¯¼å‡ºçš„å‡½æ•°/ç±»å¿…é¡»æ·»åŠ  JSDoc
</code></pre>
<p><strong>rules/testing.md</strong>ï¼šæµ‹è¯•åº•çº¿</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æµ‹è¯•è§„èŒƒ</span>

<span class="hljs-section">## å•å…ƒæµ‹è¯•</span>
<span class="hljs-bullet">-</span> è¦†ç›–ç‡: &gt; 80%
<span class="hljs-bullet">-</span> æ¡†æ¶: Jest + Testing Library
<span class="hljs-bullet">-</span> æ¯ä¸ªå…¬å…±å‡½æ•°å¿…é¡»æœ‰æµ‹è¯•
<span class="hljs-bullet">-</span> æµ‹è¯•ç”¨ä¾‹å‘½å: <span class="hljs-code">`should ... when ...`</span>

<span class="hljs-section">## é›†æˆæµ‹è¯•</span>
<span class="hljs-bullet">-</span> å·¥å…·: Cypress / Playwright
<span class="hljs-bullet">-</span> è¦†ç›–: å…³é”®ç”¨æˆ·æµç¨‹
<span class="hljs-bullet">-</span> è¿è¡Œæ—¶æœº: PR åˆå¹¶å‰

<span class="hljs-section">## TDD æµç¨‹</span>
<span class="hljs-bullet">-</span> RED: å…ˆå†™å¤±è´¥çš„æµ‹è¯•
<span class="hljs-bullet">-</span> GREEN: å®ç°æœ€å°ä»£ç è®©æµ‹è¯•é€šè¿‡
<span class="hljs-bullet">-</span> REFACTOR: é‡æ„ä¼˜åŒ–ä»£ç 
</code></pre>
<p><strong>rules/security.md</strong>ï¼šå®‰å…¨åº•çº¿</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å®‰å…¨è§„èŒƒ</span>

<span class="hljs-section">## æ•æ„Ÿä¿¡æ¯å¤„ç†</span>
<span class="hljs-bullet">-</span> âŒ ç¦æ­¢: å°†å¯†é’¥/å¯†ç ç¡¬ç¼–ç åˆ°ä»£ç ä¸­
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: ç¯å¢ƒå˜é‡ + .env æ–‡ä»¶

<span class="hljs-section">## è¾“å…¥éªŒè¯</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰ç”¨æˆ·è¾“å…¥å¿…é¡»éªŒè¯å’Œå‡€åŒ–
<span class="hljs-bullet">-</span> ä½¿ç”¨ Zod / Yup è¿›è¡Œ schema éªŒè¯

<span class="hljs-section">## XSS é˜²æŠ¤</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ React çš„è‡ªåŠ¨è½¬ä¹‰
<span class="hljs-bullet">-</span> é¿å… <span class="hljs-code">`dangerouslySetInnerHTML`</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">å››ã€å¤åˆ©æ¨¡å¼:æŒç»­ä¼˜åŒ–çš„å›¢é˜Ÿå®ªæ³•</h2>
<h3 data-id="heading-13">4.1 ä»€ä¹ˆæ˜¯å¤åˆ©æ¨¡å¼?</h3>
<p><strong>ä¼ ç»Ÿæ¨¡å¼</strong>:å†™ä¸€æ¬¡è§„èŒƒ,é•¿æœŸä¸æ›´æ–°,æœ€ç»ˆè¿‡æ—¶æ— ç”¨ã€‚</p>
<p><strong>å¤åˆ©æ¨¡å¼</strong>:å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³• â†’ å…¨å‘˜å—ç›Š â†’ æŒç»­æ”¹è¿›ã€‚</p>
<p><strong>ç±»æ¯”</strong>:</p>
<pre><code class="hljs language-makefile" lang="makefile">å¤åˆ©æ¨¡å¼å°±åƒæŠ•èµ„ç†è´¢
  - åˆå§‹æŠ•å…¥: ç¼–å†™åŸºç¡€å®ªæ³•
  - æŒç»­æŠ•å…¥: æ¯æ¬¡é‡åˆ°é—®é¢˜å°±æ›´æ–°
  - å¤åˆ©æ”¶ç›Š: å›¢é˜Ÿæ•´ä½“èƒ½åŠ›æå‡,é—®é¢˜é€æ¸å‡å°‘

<span class="hljs-section">ç¬¬1å‘¨: å‘ç° 10 ä¸ªè§„èŒƒé—®é¢˜</span>
<span class="hljs-section">ç¬¬2å‘¨: å‘ç° 7 ä¸ªé—®é¢˜(ä¹‹å‰çš„ 3 ä¸ªä¸å†å‡ºç°)</span>
<span class="hljs-section">ç¬¬3å‘¨: å‘ç° 5 ä¸ªé—®é¢˜</span>
...
<span class="hljs-section">ç¬¬Nå‘¨: å‘ç° 0-1 ä¸ªé—®é¢˜(è§„èŒƒå·²ç»å¾ˆå®Œå–„)</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d3c9f67e9b54467b0bc2556b72ea92b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770726829&amp;x-signature=Mn4egti7cGFr7Z2ByB2%2BOkhip9k%3D" alt="03-04-compound-mode.png" loading="lazy"/></p>
<p><em>å›¾4: å¤åˆ©æ¨¡å¼çš„å¾ªç¯æµç¨‹,å±•ç¤ºæŒç»­ä¼˜åŒ–å¦‚ä½•å¸¦æ¥å¤åˆ©æ”¶ç›Š</em></p>
<h3 data-id="heading-14">4.2 å¤åˆ©æ¨¡å¼çš„å·¥ä½œæµç¨‹</h3>
<p><strong>æ­¥éª¤ 1: å‘ç°é—®é¢˜</strong></p>
<p>åœ¨ Code Reviewã€Bug ä¿®å¤ã€æ€§èƒ½ä¼˜åŒ–ç­‰åœºæ™¯ä¸­å‘ç°è§„èŒƒç¼ºå¤±æˆ–ä¸æ˜ç¡®çš„åœ°æ–¹ã€‚</p>
<p><strong>ç¤ºä¾‹åœºæ™¯</strong>:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Code Review å‘ç°çš„é—®é¢˜</span>
<span class="hljs-comment">// å¼€å‘è€… A çš„ä»£ç :</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
    <span class="hljs-comment">// å¤æ‚çš„ä¸šåŠ¡é€»è¾‘,æ²¡æœ‰æ³¨é‡Š</span>
    <span class="hljs-keyword">return</span> item.<span class="hljs-property">value</span> * <span class="hljs-number">1.1</span> + (item.<span class="hljs-property">bonus</span> ?? <span class="hljs-number">0</span>) - item.<span class="hljs-property">discount</span>;
  });
}

<span class="hljs-comment">// è¯„å®¡è€…: "è¿™ä¸ªè®¡ç®—é€»è¾‘æ˜¯ä»€ä¹ˆæ„æ€?ä¸ºä»€ä¹ˆä¹˜ 1.1?"</span>
<span class="hljs-comment">// å¼€å‘è€…: "å“¦,è¿™æ˜¯åŠ ä¸Š 10% çš„ç¨è´¹"</span>
<span class="hljs-comment">// è¯„å®¡è€…: "è¿™ç§ä¸šåŠ¡é€»è¾‘åº”è¯¥åŠ æ³¨é‡Šå•Š"</span>
</code></pre>
<p><strong>æ­¥éª¤ 2: åˆ†ææ ¹å› </strong></p>
<p>æ€è€ƒ:ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜?æ˜¯è§„èŒƒç¼ºå¤±è¿˜æ˜¯è§„èŒƒä¸å¤Ÿæ˜ç¡®?</p>
<pre><code class="hljs language-markdown" lang="markdown">æ ¹å› åˆ†æ:
<span class="hljs-bullet">  -</span> rules/ ç›®å½•ä¸­æ²¡æœ‰è§„å®š"å¤æ‚ä¸šåŠ¡é€»è¾‘å¿…é¡»æ·»åŠ æ³¨é‡Š"
<span class="hljs-bullet">  -</span> å¼€å‘è€…å’Œ AI éƒ½ä¸çŸ¥é“è¿™ä¸ªè§„èŒƒ
<span class="hljs-bullet">  -</span> å¯¼è‡´æ¯æ¬¡éƒ½è¦åœ¨ Code Review ä¸­æé†’
</code></pre>
<p><strong>æ­¥éª¤ 3: æ›´æ–°å®ªæ³•</strong></p>
<p>åœ¨ rules/ ç›®å½•ä¸‹çš„ç›¸åº”è§„åˆ™æ–‡ä»¶ä¸­æ·»åŠ æˆ–ä¿®æ”¹è§„èŒƒ,æ˜ç¡®è¦æ±‚ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># rules/coding-style.md</span>

<span class="hljs-section">## æ³¨é‡Šè¦æ±‚</span>

<span class="hljs-section">### ä¸šåŠ¡é€»è¾‘æ³¨é‡Š</span>
<span class="hljs-bullet">-</span> âœ… å¿…é¡»: æ‰€æœ‰åŒ…å«æ•°å­—å¸¸é‡çš„è®¡ç®—é€»è¾‘å¿…é¡»æ³¨é‡Šè¯´æ˜å«ä¹‰
<span class="hljs-bullet">-</span> âœ… å¿…é¡»: å¤æ‚çš„ä¸šåŠ¡è§„åˆ™å¿…é¡»æ³¨é‡Šè¯´æ˜åŸå› 

<span class="hljs-section">### ç¤ºä¾‹:</span>
\<span class="hljs-code">`\`</span>\`typescript
// âœ… æ­£ç¡®
function calculateTotalPrice(item: Item): number {
  // åŸºç¡€ä»·æ ¼ + 10% å¢å€¼ç¨
  const priceWithTax = item.value * 1.1;

  // åŠ ä¸Šå¥–åŠ±ç§¯åˆ†(å¦‚æœ‰),å‡å»æŠ˜æ‰£
  return priceWithTax + (item.bonus ?? 0) - item.discount;
}

// âŒ é”™è¯¯: ç¼ºå°‘æ³¨é‡Š
function calculateTotalPrice(item: Item): number {
  return item.value * 1.1 + (item.bonus ?? 0) - item.discount;
}
\<span class="hljs-code">`\`</span>\`
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šè§„åˆ™åº”è¯¥æ”¾åœ¨ rules/ ç›®å½•ä¸‹ï¼Œè€Œä¸æ˜¯ CLAUDE.md ä¸­ã€‚CLAUDE.md åªå­˜æ”¾é¡¹ç›®äº‹å®ã€‚</p>
<p><strong>æ­¥éª¤ 4: æäº¤ä¸åŒæ­¥</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ›´æ–°è§„åˆ™æ–‡ä»¶</span>
git add .claude/rules/coding-style.md
git commit -m <span class="hljs-string">"docs(claude): add business logic comment requirement"</span>

<span class="hljs-comment"># 2. æ¨é€åˆ°è¿œç¨‹ä»“åº“</span>
git push origin main

<span class="hljs-comment"># 3. å›¢é˜Ÿæˆå‘˜æ‹‰å–æœ€æ–°ä»£ç </span>
<span class="hljs-comment"># ä¸‹æ¬¡ä½¿ç”¨ Claude Code æ—¶è‡ªåŠ¨ç”Ÿæ•ˆ</span>
</code></pre>
<p><strong>æ­¥éª¤ 5: å…¨å‘˜å—ç›Š</strong></p>
<p>æ‰€æœ‰å›¢é˜Ÿæˆå‘˜(åŒ…æ‹¬ AI)éƒ½è‡ªåŠ¨éµå®ˆæ–°è§„èŒƒ,ç±»ä¼¼é—®é¢˜ä¸å†å‡ºç°ã€‚</p>
<pre><code class="hljs language-less" lang="less">æ•ˆæœ:
  <span class="hljs-selector-tag">-</span> å¼€å‘è€… <span class="hljs-selector-tag">A</span>: ä¸‹æ¬¡å†™ä»£ç æ—¶,<span class="hljs-selector-tag">Claude</span> <span class="hljs-selector-tag">Code</span> è‡ªåŠ¨æ·»åŠ æ³¨é‡Š
  <span class="hljs-selector-tag">-</span> å¼€å‘è€… <span class="hljs-selector-tag">B</span>: ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ä¸ªè§„èŒƒ,<span class="hljs-selector-tag">AI</span> ç”Ÿæˆçš„ä»£ç å·²ç»ç¬¦åˆ
  <span class="hljs-selector-tag">-</span> å¼€å‘è€… <span class="hljs-selector-tag">C</span>: ç»´æŠ¤è€ä»£ç æ—¶,<span class="hljs-selector-tag">AI</span> é‡æ„æ—¶è‡ªåŠ¨åŠ ä¸Šæ³¨é‡Š

ç»“æœ: å›¢é˜Ÿæ•´ä½“ä»£ç è´¨é‡æå‡,<span class="hljs-selector-tag">Code</span> <span class="hljs-selector-tag">Review</span> æ•ˆç‡æé«˜
</code></pre>
<h3 data-id="heading-15">4.3 çœŸå®æ¡ˆä¾‹:ä»ä»£ç ç¼ºé™·åˆ°å®ªæ³•æ¡æ¬¾</h3>
<p><strong>èƒŒæ™¯</strong>:</p>
<p>æŸ Android é¡¹ç›®åœ¨ç”Ÿäº§ç¯å¢ƒå‡ºç°å†…å­˜æ³„æ¼,æ’æŸ¥åå‘ç°æ˜¯å› ä¸º Activity ä¸­çš„åŒ¿åå†…éƒ¨ç±»æŒæœ‰äº†å¤–éƒ¨å¼•ç”¨ã€‚</p>
<p><strong>é—®é¢˜ä»£ç </strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// MainActivity.kt</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> <span class="hljs-keyword">data</span>: String = <span class="hljs-string">""</span>

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)

        <span class="hljs-comment">// âŒ é—®é¢˜: åŒ¿åå†…éƒ¨ç±»æŒæœ‰ Activity å¼•ç”¨</span>
        button.setOnClickListener(<span class="hljs-keyword">object</span> : View.OnClickListener {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onClick</span><span class="hljs-params">(v: <span class="hljs-type">View</span>?)</span></span> {
                <span class="hljs-comment">// ä½¿ç”¨äº†å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡</span>
                processData(<span class="hljs-keyword">data</span>)
            }
        })
    }
}
</code></pre>
<p><strong>æ ¹å› åˆ†æ</strong>:</p>
<ol>
<li>åŒ¿åå†…éƒ¨ç±»éšå¼æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨</li>
<li>å¦‚æœ listener çš„ç”Ÿå‘½å‘¨æœŸè¶…è¿‡ Activity,ä¼šå¯¼è‡´å†…å­˜æ³„æ¼</li>
<li>å›¢é˜Ÿä¹‹å‰æ²¡æœ‰æ˜ç¡®çš„è§„èŒƒæ¥é¿å…è¿™ä¸ªé—®é¢˜</li>
</ol>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:</p>
<p>æ›´æ–° rules/security.md,æ·»åŠ  Android å†…å­˜æ³„æ¼é˜²æŠ¤è§„èŒƒ:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># rules/security.md</span>

<span class="hljs-section">## Android å†…å­˜æ³„æ¼é˜²æŠ¤</span>

<span class="hljs-section">#### é¿å…åŒ¿åå†…éƒ¨ç±»æŒæœ‰ Activity å¼•ç”¨</span>
<span class="hljs-bullet">-</span> âŒ ç¦æ­¢: åœ¨ Activity/Fragment ä¸­ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ä½œä¸ºé•¿ç”Ÿå‘½å‘¨æœŸç›‘å¬å™¨
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: Lambda è¡¨è¾¾å¼æˆ–é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨

\<span class="hljs-code">`\`</span>\`kotlin
// âŒ é”™è¯¯: åŒ¿åå†…éƒ¨ç±»
button.setOnClickListener(object : View.OnClickListener {
<span class="hljs-code">    override fun onClick(v: View?) {
        processData(data)  // æŒæœ‰å¤–éƒ¨å¼•ç”¨
    }
})
</span>
// âœ… æ­£ç¡®: Lambda è¡¨è¾¾å¼
button.setOnClickListener { view -&gt;
<span class="hljs-code">    processData(data)  // Kotlin ç¼–è¯‘å™¨ä¼˜åŒ–,ä¸ä¼šæ³„æ¼
}
</span>
// âœ… æ­£ç¡®: é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨
class MainActivity : AppCompatActivity() {
<span class="hljs-code">    private val clickListener = ClickListener(this)
</span>
<span class="hljs-code">    override fun onCreate(savedInstanceState: Bundle?) {
        button.setOnClickListener(clickListener)
    }
</span>
<span class="hljs-code">    private class ClickListener(activity: MainActivity) : View.OnClickListener {
        private val activityRef = WeakReference(activity)
</span>
<span class="hljs-code">        override fun onClick(v: View?) {
            activityRef.get()?.processData()
        }
    }
}
\`\`\`
</span>
<span class="hljs-section">#### Handler ä½¿ç”¨è§„èŒƒ</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨é™æ€ Handler + å¼±å¼•ç”¨
<span class="hljs-bullet">-</span> åœ¨ onDestroy ä¸­ç§»é™¤æ‰€æœ‰æ¶ˆæ¯

\<span class="hljs-code">`\`</span>\`kotlin
// âœ… æ­£ç¡®
class MainActivity : AppCompatActivity() {
<span class="hljs-code">    private val handler = MyHandler(this)
</span>
<span class="hljs-code">    override fun onDestroy() {
        super.onDestroy()
        handler.removeCallbacksAndMessages(null)
    }
</span>
<span class="hljs-code">    private class MyHandler(activity: MainActivity) : Handler(Looper.getMainLooper()) {
        private val activityRef = WeakReference(activity)
</span>
<span class="hljs-code">        override fun handleMessage(msg: Message) {
            activityRef.get()?.handleMessage(msg)
        }
    }
}
\`\`\`
</span></code></pre>
<p><strong>æ•ˆæœ</strong>:</p>
<ol>
<li><strong>immediate(ç«‹å³ç”Ÿæ•ˆ)</strong>: ä¸‹æ¬¡ä½¿ç”¨ Claude Code ç”Ÿæˆä»£ç æ—¶,è‡ªåŠ¨ç¬¦åˆæ–°è§„èŒƒ</li>
<li><strong>Prevention(é¢„é˜²é—®é¢˜)</strong>: ç±»ä¼¼çš„å†…å­˜æ³„æ¼é—®é¢˜ä¸å†å‡ºç°</li>
<li><strong>Knowledge Transfer(çŸ¥è¯†ä¼ é€’)</strong>: æ–°å…¥èŒçš„å¼€å‘è€…é€šè¿‡ AI ç”Ÿæˆçš„ä»£ç å­¦ä¹ æœ€ä½³å®è·µ</li>
</ol>
<p><strong>å…³é”®ç‚¹</strong>ï¼šè¿™ä¸ªè§„èŒƒåº”è¯¥æ”¾åœ¨ <code>rules/security.md</code> ä¸­ï¼Œè€Œä¸æ˜¯ <code>CLAUDE.md</code>ã€‚CLAUDE.md åªå­˜æ”¾é¡¹ç›®äº‹å®ï¼ˆå¦‚æŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ï¼‰ï¼Œè¯¦ç»†çš„è§„åˆ™çº¦æŸéƒ½åº”è¯¥æ”¾åœ¨ rules/ ç›®å½•ä¸‹ã€‚</p>
<h3 data-id="heading-16">4.4 ç‰ˆæœ¬ç®¡ç†:å®ªæ³•çš„æ¼”è¿›å†å²</h3>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†?</strong></p>
<ul>
<li>è¿½æº¯è§„èŒƒå˜æ›´çš„åŸå› å’Œæ—¶é—´</li>
<li>å›æ»šä¸åˆç†çš„è§„èŒƒä¿®æ”¹</li>
<li>äº†è§£å›¢é˜Ÿè§„èŒƒçš„æ¼”è¿›è·¯å¾„</li>
</ul>
<p><strong>å®è·µæ–¹æ³•</strong>:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. CLAUDE.md å’Œ rules/ ä¸ä»£ç ä¸€èµ·æäº¤åˆ° Git</span>
git add CLAUDE.md .claude/rules/
git commit -m <span class="hljs-string">"docs(claude): add memory leak prevention rules"</span>

<span class="hljs-comment"># 2. æŸ¥çœ‹å®ªæ³•æ¼”è¿›å†å²</span>
git <span class="hljs-built_in">log</span> --oneline -- CLAUDE.md .claude/rules/

<span class="hljs-comment"># è¾“å‡º:</span>
a1b2c3d docs(claude): add memory leak prevention rules
d4e5f6g docs(claude): update naming conventions
g7h8i9j docs(claude): add security guidelines
j0k1l2m docs(claude): initial team constitution

<span class="hljs-comment"># 3. æŸ¥çœ‹æŸæ¬¡ä¿®æ”¹çš„å…·ä½“å†…å®¹</span>
git show a1b2c3d

<span class="hljs-comment"># 4. å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬(å¦‚æœéœ€è¦)</span>
git checkout d4e5f6g -- CLAUDE.md .claude/rules/
</code></pre>
<p><strong>ç‰ˆæœ¬å·ç®¡ç†(å¯é€‰)</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Team Constitution</span>

<span class="hljs-strong">**Version**</span>: 2.3.0
<span class="hljs-strong">**Last Updated**</span>: 2026-01-29
<span class="hljs-strong">**Changelog**</span>: See CLAUDE<span class="hljs-emphasis">_CHANGELOG.md

## Version History
- v2.3.0 (2026-01-29): Add Android memory leak prevention
- v2.2.0 (2026-01-15): Update testing requirements
- v2.1.0 (2026-01-05): Add security guidelines
- v2.0.0 (2025-12-20): Major refactor, adopt Clean Architecture
- v1.0.0 (2025-12-01): Initial team constitution
</span></code></pre>
<h3 data-id="heading-17">4.5 å›¢é˜Ÿåä½œ:å®ªæ³•çš„å…±åŒç»´æŠ¤</h3>
<p><strong>ç»´æŠ¤ç­–ç•¥</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## å›¢é˜Ÿå®ªæ³•ç»´æŠ¤æŒ‡å—</span>

<span class="hljs-section">### è°å¯ä»¥ä¿®æ”¹?</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½å¯ä»¥æå‡ºä¿®æ”¹å»ºè®®
<span class="hljs-bullet">-</span> Tech Lead è´Ÿè´£æœ€ç»ˆå®¡æ ¸

<span class="hljs-section">### ä¿®æ”¹æµç¨‹</span>
<span class="hljs-bullet">1.</span> å‘ç°é—®é¢˜æˆ–æ”¹è¿›ç‚¹
<span class="hljs-bullet">2.</span> åˆ›å»º Issue è®¨è®ºå¿…è¦æ€§
<span class="hljs-bullet">3.</span> æäº¤ PR ä¿®æ”¹ CLAUDE.md æˆ– .claude/rules/ ä¸‹çš„è§„åˆ™æ–‡ä»¶
<span class="hljs-bullet">4.</span> Tech Lead å®¡æ ¸
<span class="hljs-bullet">5.</span> åˆå¹¶åå…¨å‘˜é€šçŸ¥

<span class="hljs-section">### å®šæœŸå›é¡¾</span>
<span class="hljs-bullet">-</span> æ¯æœˆ: å›¢é˜Ÿä¼šè®®å›é¡¾å®ªæ³•æ‰§è¡Œæƒ…å†µ
<span class="hljs-bullet">-</span> æ¯å­£åº¦: å…¨é¢å®¡æŸ¥å’Œä¼˜åŒ–
</code></pre>
<p><strong>æ²Ÿé€šæœºåˆ¶</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ç¤ºä¾‹: PR æäº¤è¯´æ˜</span>

<span class="hljs-section">## ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªä¿®æ”¹?</span>
åœ¨æœ€è¿‘çš„ Code Review ä¸­,æˆ‘ä»¬å‘ç°å¤šä¸ª PR éƒ½å‡ºç°äº†æ—¥æœŸæ ¼å¼ä¸ç»Ÿä¸€çš„é—®é¢˜:
<span class="hljs-bullet">-</span> æœ‰çš„ç”¨ <span class="hljs-code">`YYYY-MM-DD`</span>
<span class="hljs-bullet">-</span> æœ‰çš„ç”¨ <span class="hljs-code">`MM/DD/YYYY`</span>
<span class="hljs-bullet">-</span> æœ‰çš„ç”¨æ—¶é—´æˆ³

è¿™å¯¼è‡´å‰åç«¯å¯¹æ¥æ—¶ç»å¸¸å‡ºé”™ã€‚

<span class="hljs-section">## æè®®çš„è§„èŒƒ</span>
ç»Ÿä¸€ä½¿ç”¨ ISO 8601 æ ¼å¼(<span class="hljs-code">`YYYY-MM-DDTHH:mm:ssZ`</span>)

<span class="hljs-section">## å½±å“èŒƒå›´</span>
<span class="hljs-bullet">-</span> å‰ç«¯å±•ç¤ºæ—¥æœŸæ—¶éœ€è¦æ ¼å¼åŒ–
<span class="hljs-bullet">-</span> åç«¯ API è¿”å›ç»Ÿä¸€æ ¼å¼
<span class="hljs-bullet">-</span> æ•°æ®åº“å­˜å‚¨ä½¿ç”¨ UTC æ—¶é—´

<span class="hljs-section">## ç›¸å…³è®¨è®º</span>
Issue #123: Date format inconsistency
</code></pre>
<hr/>
<h2 data-id="heading-18">äº”ã€å®æˆ˜æ¡ˆä¾‹:æ„å»º Android å›¢é˜Ÿçš„å›¢é˜Ÿå®ªæ³•</h2>
<h3 data-id="heading-19">5.1 ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-text" lang="text">android-project/
â”œâ”€ CLAUDE.md
â””â”€ .claude/
   â””â”€ rules/
      â”œâ”€ security.md
      â”œâ”€ testing.md
      â””â”€ coding-style.md
</code></pre>
<h3 data-id="heading-20">5.2 CLAUDE.mdï¼šé¡¹ç›®äº‹å®</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Android Project - Claude Code Configuration</span>

<span class="hljs-section">## é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-bullet">-</span> æŠ€æœ¯æ ˆï¼šKotlin 1.9+ã€Android 14 (API 34)ã€MVVM + Clean Architecture
<span class="hljs-bullet">-</span> DIï¼šHilt
<span class="hljs-bullet">-</span> Asyncï¼šCoroutines + Flow
<span class="hljs-bullet">-</span> UIï¼šJetpack Compose
<span class="hljs-bullet">-</span> Testingï¼šJUnit5, Mockk, Espresso

<span class="hljs-section">## ç›®å½•ç»“æ„å…¥å£</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`app/src/main/java/`</span> - æºä»£ç ç›®å½•
<span class="hljs-bullet">-</span> <span class="hljs-code">`app/src/test/java/`</span> - å•å…ƒæµ‹è¯•ç›®å½•
<span class="hljs-bullet">-</span> <span class="hljs-code">`app/src/androidTest/java/`</span> - UI æµ‹è¯•ç›®å½•

<span class="hljs-section">## å¸¸ç”¨å‘½ä»¤ï¼ˆå¿…é¡»å‡†ç¡®ï¼‰</span>
<span class="hljs-bullet">-</span> å®‰è£…ä¾èµ–ï¼š<span class="hljs-code">`./gradlew build`</span>
<span class="hljs-bullet">-</span> è¿è¡Œæµ‹è¯•ï¼š<span class="hljs-code">`./gradlew test`</span>
<span class="hljs-bullet">-</span> è¿è¡Œ UI æµ‹è¯•ï¼š<span class="hljs-code">`./gradlew connectedAndroidTest`</span>
<span class="hljs-bullet">-</span> æ„å»º APKï¼š<span class="hljs-code">`./gradlew assembleDebug`</span>
<span class="hljs-bullet">-</span> ä»£ç æ ¼å¼åŒ–ï¼š<span class="hljs-code">`./gradlew ktlintFormat`</span>
<span class="hljs-bullet">-</span> é™æ€æ£€æŸ¥ï¼š<span class="hljs-code">`./gradlew ktlintCheck`</span>

<span class="hljs-section">## çº¦æŸï¼ˆå›¢é˜Ÿå…±è¯†ï¼‰</span>
<span class="hljs-bullet">-</span> é»˜è®¤å…ˆç”¨ Plan Mode åˆ†æï¼Œå†åŠ¨ä»£ç 
<span class="hljs-bullet">-</span> ä»»ä½•ä¼šå½±å“è¡Œä¸ºçš„æ”¹åŠ¨ï¼šå¿…é¡»è¡¥æµ‹è¯•/è¡¥æ–‡æ¡£
<span class="hljs-bullet">-</span> æ¶‰åŠå‡­è¯/æƒé™ï¼šå…ˆå®‰å…¨å®¡æŸ¥ï¼Œå†åˆå¹¶
<span class="hljs-bullet">-</span> ViewModel ä¸æŒæœ‰ Activity/Fragment å¼•ç”¨
<span class="hljs-bullet">-</span> ç½‘ç»œ/æ•°æ®åº“æ“ä½œå¿…é¡»ä½¿ç”¨ suspend å‡½æ•°
</code></pre>
<h3 data-id="heading-21">5.3 rules/coding-style.mdï¼šä»£ç é£æ ¼åº•çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Kotlin ä»£ç é£æ ¼è§„èŒƒ</span>

<span class="hljs-section">## å‘½åçº¦å®š</span>
<span class="hljs-bullet">-</span> ç±»/æ¥å£: PascalCase (UserRepository)
<span class="hljs-bullet">-</span> å‡½æ•°/å±æ€§: camelCase (getUserById)
<span class="hljs-bullet">-</span> å¸¸é‡: UPPER<span class="hljs-emphasis">_SNAKE_</span>CASE (MAX<span class="hljs-emphasis">_RETRY_</span>COUNT)
<span class="hljs-bullet">-</span> åŒ…å: å°å†™,å•è¯é—´ç”¨ç‚¹åˆ†éš” (com.example.app)

<span class="hljs-section">## å±æ€§å£°æ˜</span>
<span class="hljs-bullet">-</span> ä¼˜å…ˆä½¿ç”¨ <span class="hljs-code">`val`</span> è€Œä¸æ˜¯ <span class="hljs-code">`var`</span>
<span class="hljs-bullet">-</span> ç§æœ‰å±æ€§ä½¿ç”¨ <span class="hljs-code">`private`</span> æ˜¾å¼æ ‡è®°
<span class="hljs-bullet">-</span> å¯ç©ºç±»å‹æ˜ç¡®æ ‡æ³¨ <span class="hljs-code">`?`</span>

<span class="hljs-section">## å¼‚æ­¥ç¼–ç¨‹</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ Coroutines,é¿å… Callback
<span class="hljs-bullet">-</span> ç½‘ç»œ/æ•°æ®åº“æ“ä½œä½¿ç”¨ <span class="hljs-code">`suspend`</span> å‡½æ•°
<span class="hljs-bullet">-</span> UI å±‚ä½¿ç”¨ <span class="hljs-code">`StateFlow`</span> / <span class="hljs-code">`SharedFlow`</span>

<span class="hljs-section">## èµ„æºå‘½å</span>
<span class="hljs-bullet">-</span> Drawable: <span class="hljs-code">`ic_*`</span> (å›¾æ ‡), <span class="hljs-code">`bg_*`</span> (èƒŒæ™¯), <span class="hljs-code">`img_*`</span> (å›¾ç‰‡)
<span class="hljs-bullet">-</span> Layout: <span class="hljs-code">`activity_*.xml`</span>, <span class="hljs-code">`fragment_*.xml`</span>, <span class="hljs-code">`item_*.xml`</span>
<span class="hljs-bullet">-</span> String: æ¨¡å—<span class="hljs-emphasis">_åŠŸèƒ½_</span>æè¿° (<span class="hljs-code">`user_profile_title`</span>)
</code></pre>
<h3 data-id="heading-22">5.4 rules/testing.mdï¼šæµ‹è¯•åº•çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æµ‹è¯•è§„èŒƒ</span>

<span class="hljs-section">## å•å…ƒæµ‹è¯•</span>
<span class="hljs-bullet">-</span> è¦†ç›–ç‡: &gt; 80%
<span class="hljs-bullet">-</span> UseCase å’Œ Repository å¿…é¡»æœ‰å•å…ƒæµ‹è¯•
<span class="hljs-bullet">-</span> ä½¿ç”¨ Mockk è¿›è¡Œ Mock
<span class="hljs-bullet">-</span> æµ‹è¯•ç”¨ä¾‹å‘½å: <span class="hljs-code">`should ... when ...`</span>

<span class="hljs-section">## UI æµ‹è¯•</span>
<span class="hljs-bullet">-</span> å…³é”®æµç¨‹å¿…é¡»æœ‰ Espresso æµ‹è¯•
<span class="hljs-bullet">-</span> ä½¿ç”¨ Hilt Test è¿›è¡Œä¾èµ–æ³¨å…¥

<span class="hljs-section">## TDD æµç¨‹</span>
<span class="hljs-bullet">-</span> RED: å…ˆå†™å¤±è´¥çš„æµ‹è¯•
<span class="hljs-bullet">-</span> GREEN: å®ç°æœ€å°ä»£ç è®©æµ‹è¯•é€šè¿‡
<span class="hljs-bullet">-</span> REFACTOR: é‡æ„ä¼˜åŒ–ä»£ç 
</code></pre>
<h3 data-id="heading-23">5.5 rules/security.mdï¼šå®‰å…¨åº•çº¿</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># å®‰å…¨è§„èŒƒ</span>

<span class="hljs-section">## æ•æ„Ÿä¿¡æ¯å¤„ç†</span>
<span class="hljs-bullet">-</span> âŒ ç¦æ­¢: å°†å¯†é’¥/å¯†ç ç¡¬ç¼–ç åˆ°ä»£ç ä¸­
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: BuildConfig æˆ– NDK å­˜å‚¨ API Key
<span class="hljs-bullet">-</span> âœ… ä½¿ç”¨: EncryptedSharedPreferences å­˜å‚¨ç”¨æˆ·å¯†ç /Token

<span class="hljs-section">## å†…å­˜æ³„æ¼é˜²æŠ¤</span>
<span class="hljs-bullet">-</span> ViewModel ä¸æŒæœ‰ Activity/Fragment å¼•ç”¨
<span class="hljs-bullet">-</span> é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ä½¿ç”¨ ApplicationContext
<span class="hljs-bullet">-</span> ä½¿ç”¨ Lifecycle-aware ç»„ä»¶

<span class="hljs-section">## æƒé™è¯·æ±‚</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ ActivityResultContracts
<span class="hljs-bullet">-</span> è¯´æ˜æƒé™ç”¨é€”,æå‡æˆæƒç‡
</code></pre>
<hr/>
<h2 data-id="heading-24">å…­ã€æœ€ä½³å®è·µä¸å»ºè®®</h2>
<h3 data-id="heading-25">6.1 å¦‚ä½•ç¼–å†™æœ‰æ•ˆçš„å®ªæ³•æ¡æ¬¾</h3>
<p><strong>åŸåˆ™ 1: å…·ä½“è€ŒéæŠ½è±¡</strong></p>
<p>âŒ ä¸å¥½çš„ä¾‹å­:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> ä»£ç åº”è¯¥å†™å¾—æ¸…æ™°
<span class="hljs-bullet">-</span> æ³¨é‡Šè¦å†™å¥½
<span class="hljs-bullet">-</span> æ€§èƒ½è¦ä¼˜åŒ–
</code></pre>
<p>âœ… å¥½çš„ä¾‹å­:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span> æ‰€æœ‰å…¬å…± API å¿…é¡»æ·»åŠ  JSDoc æ³¨é‡Š,åŒ…å«å‚æ•°è¯´æ˜å’Œç¤ºä¾‹
<span class="hljs-bullet">-</span> å‡½æ•°å¤æ‚åº¦ä¸è¶…è¿‡ 15(Cyclomatic Complexity)
<span class="hljs-bullet">-</span> API å“åº”æ—¶é—´ P95 &lt; 200ms
</code></pre>
<p><strong>åŸåˆ™ 2: æä¾›æ­£åç¤ºä¾‹</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### é”™è¯¯å¤„ç†</span>

âœ… æ­£ç¡®:
\<span class="hljs-code">`\`</span>\`typescript
try {
  const data = await fetchData();
  return data;
} catch (error: unknown) {
  if (error instanceof NetworkError) {
<span class="hljs-code">    logger.error('Network request failed', { error });
    throw new ServiceUnavailableError('Service temporarily unavailable');
  }
  throw error;
}
\`\`\`
</span>
âŒ é”™è¯¯:
\<span class="hljs-code">`\`</span>\`typescript
try {
  const data = await fetchData();
  return data;
} catch (e) {
  console.log(e);  // åªæ‰“å°æ—¥å¿—,ä¸å¤„ç†
  return null;     // åæ‰å¼‚å¸¸
}
\<span class="hljs-code">`\`</span>\`
</code></pre>
<p><strong>åŸåˆ™ 3: è¯´æ˜"ä¸ºä»€ä¹ˆ"</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### ä¼˜å…ˆä½¿ç”¨ `const` è€Œä¸æ˜¯ `let`</span>

<span class="hljs-strong">**åŸå› **</span>:
<span class="hljs-bullet">-</span> æé«˜ä»£ç å¯è¯»æ€§:å˜é‡ä¸å¯å˜æ›´,å‡å°‘è®¤çŸ¥è´Ÿæ‹…
<span class="hljs-bullet">-</span> é¿å…æ„å¤–ä¿®æ”¹:é˜²æ­¢ bug
<span class="hljs-bullet">-</span> ä¼˜åŒ–æ€§èƒ½:ç¼–è¯‘å™¨å¯ä»¥æ›´å¥½åœ°ä¼˜åŒ–

<span class="hljs-strong">**ä¾‹å¤–æƒ…å†µ**</span>:
<span class="hljs-bullet">-</span> å¾ªç¯è®¡æ•°å™¨
<span class="hljs-bullet">-</span> ç´¯åŠ å™¨å˜é‡
</code></pre>
<p><strong>åŸåˆ™ 4: è®¾ç½®ä¼˜å…ˆçº§</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## ç¼–ç è§„èŒƒä¼˜å…ˆçº§</span>

<span class="hljs-section">### P0 (å¿…é¡»éµå®ˆ,å¦åˆ™æ‹’ç»åˆå¹¶)</span>
<span class="hljs-bullet">-</span> æ‰€æœ‰æ•æ„Ÿä¿¡æ¯ä¸å¾—ç¡¬ç¼–ç 
<span class="hljs-bullet">-</span> å¿…é¡»é€šè¿‡å•å…ƒæµ‹è¯•
<span class="hljs-bullet">-</span> ä¸å¾—å‡ºç° ESLint error

<span class="hljs-section">### P1 (å¼ºçƒˆå»ºè®®,Code Review ä¼šæå‡º)</span>
<span class="hljs-bullet">-</span> å…¬å…± API å¿…é¡»æœ‰ JSDoc
<span class="hljs-bullet">-</span> å¤æ‚é€»è¾‘å¿…é¡»æœ‰æ³¨é‡Š
<span class="hljs-bullet">-</span> æµ‹è¯•è¦†ç›–ç‡ &gt; 80%

<span class="hljs-section">### P2 (å»ºè®®,ä½†ä¸å¼ºåˆ¶)</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ TypeScript ç±»å‹æ¨æ–­ç®€åŒ–ä»£ç 
<span class="hljs-bullet">-</span> ä¼˜å…ˆä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹
</code></pre>
<h3 data-id="heading-26">6.2 å¦‚ä½•è®© AI ç†è§£å’Œéµå®ˆè§„èŒƒ</h3>
<p><strong>æŠ€å·§ 1: ä½¿ç”¨æ¸…æ™°çš„æ ‡è®°</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## è§„èŒƒæ ‡è®°è¯´æ˜</span>

<span class="hljs-bullet">-</span> âœ… <span class="hljs-strong">**å¿…é¡»**</span>: å¼ºåˆ¶æ‰§è¡Œ,ä¸å¯è¿å
<span class="hljs-bullet">-</span> âš ï¸ <span class="hljs-strong">**æ¨è**</span>: å¼ºçƒˆå»ºè®®,æœ‰ç‰¹æ®ŠåŸå› å¯ä¾‹å¤–
<span class="hljs-bullet">-</span> ğŸ’¡ <span class="hljs-strong">**å»ºè®®**</span>: æœ€ä½³å®è·µ,å¯æ ¹æ®æƒ…å†µè°ƒæ•´
<span class="hljs-bullet">-</span> âŒ <span class="hljs-strong">**ç¦æ­¢**</span>: ç»å¯¹ä¸å…è®¸
</code></pre>
<p><strong>æŠ€å·§ 2: ç»“æ„åŒ–ç»„ç»‡</strong></p>
<p>æŒ‰ç…§å®˜æ–¹æ¨èçš„ç›®å½•ç»“æ„ç»„ç»‡ï¼š</p>
<pre><code class="hljs language-text" lang="text">your-repo/
â”œâ”€ CLAUDE.md              # é¡¹ç›®äº‹å®
â””â”€ .claude/
   â””â”€ rules/              # åº•çº¿è§„åˆ™
      â”œâ”€ security.md
      â”œâ”€ testing.md
      â””â”€ coding-style.md
</code></pre>
<p>æ¯ä¸ªæ–‡ä»¶èŒè´£å•ä¸€ï¼Œä¾¿äºç»´æŠ¤å’Œå®¡æŸ¥ã€‚</p>
<p><strong>æŠ€å·§ 3: ä½¿ç”¨å…³é”®è¯å¼ºè°ƒ</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### å®‰å…¨è§„èŒƒ</span>

âš ï¸ <span class="hljs-strong">**CRITICAL**</span>: ç»å¯¹ä¸å…è®¸å°†å¯†é’¥ç¡¬ç¼–ç åˆ°ä»£ç ä¸­

âŒ <span class="hljs-strong">**NEVER**</span> do this:
\<span class="hljs-code">`\`</span>\`typescript
const API<span class="hljs-emphasis">_KEY = 'sk-1234567890abcdef';
\`\`\`

âœ… <span class="hljs-strong">**ALWAYS**</span> use environment variables:
\`\`\`typescript
const API_</span>KEY = process.env.API<span class="hljs-emphasis">_KEY;
\`\`\`
</span></code></pre>
<p><strong>æŠ€å·§ 4: æä¾›å†³ç­–æ ‘</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### ä½•æ—¶ä½¿ç”¨ç¼“å­˜?</span>

\<span class="hljs-code">`\`</span>\`
æ•°æ®æ˜¯å¦é¢‘ç¹è¯»å–?
  â”œâ”€ æ˜¯ â†’ æ•°æ®æ˜¯å¦ç»å¸¸å˜åŒ–?
  â”‚       â”œâ”€ æ˜¯ â†’ ä½¿ç”¨çŸ­ TTL ç¼“å­˜(5åˆ†é’Ÿ)
  â”‚       â””â”€ å¦ â†’ ä½¿ç”¨é•¿ TTL ç¼“å­˜(1å°æ—¶)
  â””â”€ å¦ â†’ ä¸ä½¿ç”¨ç¼“å­˜,ç›´æ¥æŸ¥è¯¢
\<span class="hljs-code">`\`</span>\`
</code></pre>
<h3 data-id="heading-27">6.3 å›¢é˜Ÿæ¨å¹¿ç­–ç•¥</h3>
<p><strong>é˜¶æ®µ 1: è¯•ç‚¹é¡¹ç›®(ç¬¬1å‘¨)</strong></p>
<ol>
<li>é€‰æ‹©ä¸€ä¸ªå°å‹é¡¹ç›®ä½œä¸ºè¯•ç‚¹</li>
<li>ç¼–å†™åŸºç¡€çš„ CLAUDE.mdï¼ˆé¡¹ç›®äº‹å®ï¼‰å’Œ rules/ ç›®å½•ï¼ˆæ ¸å¿ƒè§„èŒƒï¼‰</li>
<li>å›¢é˜Ÿæˆå‘˜è½®æµä½¿ç”¨ Claude Code</li>
<li>æ”¶é›†åé¦ˆ,å¿«é€Ÿè¿­ä»£</li>
</ol>
<p><strong>é˜¶æ®µ 2: è§„èŒƒå®Œå–„(ç¬¬2-4å‘¨)</strong></p>
<ol>
<li>æ ¹æ®å®é™…ä½¿ç”¨å‘ç°çš„é—®é¢˜æ›´æ–°è§„èŒƒ</li>
<li>æ·»åŠ æ›´å¤šç¤ºä¾‹å’Œè¯´æ˜</li>
<li>ç»„ç»‡å›¢é˜ŸåŸ¹è®­,è®²è§£è§„èŒƒçš„ä»·å€¼</li>
<li>å»ºç«‹è§„èŒƒæ›´æ–°æœºåˆ¶</li>
</ol>
<p><strong>é˜¶æ®µ 3: å…¨é¢æ¨å¹¿(ç¬¬5-8å‘¨)</strong></p>
<ol>
<li>åœ¨æ‰€æœ‰é¡¹ç›®ä¸­å¯ç”¨ claude.md</li>
<li>å°† claude.md æ£€æŸ¥åŠ å…¥ CI/CD æµç¨‹</li>
<li>å®šæœŸå›é¡¾å’Œä¼˜åŒ–è§„èŒƒ</li>
<li>åˆ†äº«æˆåŠŸæ¡ˆä¾‹å’Œæ•°æ®</li>
</ol>
<p><strong>é˜¶æ®µ 4: æŒç»­æ”¹è¿›(é•¿æœŸ)</strong></p>
<ol>
<li>å»ºç«‹å¤åˆ©æ¨¡å¼:å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³•</li>
<li>è·Ÿè¸ªæŒ‡æ ‡:ä»£ç è´¨é‡ã€Code Review æ—¶é—´ã€Bug æ•°é‡</li>
<li>å®šæœŸå›¢é˜Ÿåˆ†äº«:æœ€ä½³å®è·µã€è¸©å‘ç»éªŒ</li>
<li>ç‰ˆæœ¬ç®¡ç†:é‡å¤§æ›´æ–°æ—¶å‡çº§ç‰ˆæœ¬å·</li>
</ol>
<p><strong>æ¨å¹¿æŠ€å·§</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### è®©å›¢é˜Ÿæ¥å— claude.md çš„æŠ€å·§</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**å±•ç¤ºæ”¶ç›Š,ä¸æ˜¯çº¦æŸ**</span>
<span class="hljs-bullet">   -</span> "è¿™èƒ½è®© Code Review æ—¶é—´å‡å°‘ 50%"
<span class="hljs-bullet">   -</span> "æ–°äººä¸Šæ‰‹é€Ÿåº¦æå‡ 3 å€"
<span class="hljs-bullet">   -</span> "Bug æ•°é‡ä¸‹é™ 40%"

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**ä»ç—›ç‚¹å‡ºå‘**</span>
<span class="hljs-bullet">   -</span> "è¿˜è®°å¾—ä¸Šå‘¨é‚£ä¸ªä½çº§ Bug å—?å¦‚æœæœ‰è§„èŒƒå°±èƒ½é¿å…"
<span class="hljs-bullet">   -</span> "æ¯æ¬¡ Code Review éƒ½åœ¨è¯´åŒæ ·çš„é—®é¢˜,ç´¯ä¸ç´¯?"

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å°æ­¥å¿«è·‘**</span>
<span class="hljs-bullet">   -</span> ä¸è¦ä¸€æ¬¡æ€§å†™ 100 æ¡è§„èŒƒ
<span class="hljs-bullet">   -</span> ä» 3-5 æ¡æ ¸å¿ƒè§„èŒƒå¼€å§‹ï¼ˆæ”¾åœ¨ rules/ ç›®å½•ï¼‰
<span class="hljs-bullet">   -</span> é€æ­¥å®Œå–„,è®©å›¢é˜Ÿé€‚åº”

<span class="hljs-bullet">4.</span> <span class="hljs-strong">**è®©å¤§å®¶å‚ä¸**</span>
<span class="hljs-bullet">   -</span> è§„èŒƒä¸æ˜¯ Tech Lead ä¸€ä¸ªäººå®šçš„
<span class="hljs-bullet">   -</span> é¼“åŠ±æ‰€æœ‰äººæå‡ºæ”¹è¿›å»ºè®®
<span class="hljs-bullet">   -</span> å®šæœŸè®¨è®ºå’ŒæŠ•ç¥¨å†³å®šé‡è¦æ¡æ¬¾
</code></pre>
<hr/>
<h2 data-id="heading-28">ä¸ƒã€æ€»ç»“ä¸è¡ŒåŠ¨æŒ‡å—</h2>
<h3 data-id="heading-29">7.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<p>é€šè¿‡æœ¬æ–‡,æˆ‘ä»¬æ·±å…¥æ¢è®¨äº† claude.md ä½œä¸º"å›¢é˜Ÿå®ªæ³•"çš„ä»·å€¼:</p>
<p><strong>1. ä¸ºä»€ä¹ˆéœ€è¦å›¢é˜Ÿå®ªæ³•?</strong></p>
<ul>
<li>ä¼ ç»Ÿè§„èŒƒé äººè‚‰æ‰§è¡Œ,æ•ˆç‡ä½ã€æ˜“é—æ¼</li>
<li>AI è¾…åŠ©å¼€å‘éœ€è¦æ˜ç¡®è§„èŒƒ,å¦åˆ™ä»£ç è´¨é‡å‚å·®ä¸é½</li>
<li>claude.md æ˜¯è‡ªåŠ¨åŒ–ã€ç»Ÿä¸€ã€å¯æ¼”è¿›çš„è§£å†³æ–¹æ¡ˆ</li>
</ul>
<p><strong>2. claude.md çš„å·¥ä½œæœºåˆ¶</strong></p>
<ul>
<li>ä¸¤çº§é…ç½®:å…¨å±€ + é¡¹ç›®,é¡¹ç›®é…ç½®è¦†ç›–å…¨å±€é…ç½®</li>
<li>ä½œä¸ºç³»ç»Ÿæç¤ºè¯æ³¨å…¥åˆ°æ¯æ¬¡ AI è°ƒç”¨,ä¼˜å…ˆçº§é«˜äºå¯¹è¯å†å²</li>
</ul>
<p><strong>3. å›¢é˜Ÿå®ªæ³•çš„å†…å®¹è®¾è®¡</strong></p>
<ul>
<li>CLAUDE.mdï¼šé¡¹ç›®äº‹å®ï¼ˆæŠ€æœ¯æ ˆã€å¸¸ç”¨å‘½ä»¤ã€çº¦æŸï¼‰</li>
<li>rules/ ç›®å½•ï¼šåº•çº¿è§„åˆ™ï¼ˆsecurity.mdã€testing.mdã€coding-style.mdï¼‰</li>
</ul>
<p><strong>4. å¤åˆ©æ¨¡å¼:æŒç»­æ¼”è¿›</strong></p>
<ul>
<li>å‘ç°é—®é¢˜ â†’ æ›´æ–°å®ªæ³• â†’ å…¨å‘˜å—ç›Š</li>
<li>ç‰ˆæœ¬ç®¡ç†:Git è·Ÿè¸ªè§„èŒƒæ¼”è¿›</li>
<li>å›¢é˜Ÿåä½œ:å…±åŒç»´æŠ¤,å®šæœŸå›é¡¾</li>
</ul>
<p><strong>5. å®æˆ˜æ¡ˆä¾‹:Android å›¢é˜Ÿ</strong></p>
<ul>
<li>å®Œæ•´çš„ CLAUDE.md å’Œ rules/ ç›®å½•ç¤ºä¾‹</li>
<li>èŒè´£åˆ†ç¦»ï¼šCLAUDE.md å­˜é¡¹ç›®äº‹å®ï¼Œrules/ å­˜è§„åˆ™çº¦æŸ</li>
<li>æ•°æ®è¯æ˜:Code Review æ—¶é—´å‡å°‘ 80%</li>
</ul>
<hr/>
<blockquote>
<p>ğŸ’¡ <strong>æ€è€ƒé¢˜</strong>: ä½ çš„å›¢é˜Ÿç›®å‰æœ‰å“ªäº›è§„èŒƒæ‰§è¡Œä¸åˆ°ä½çš„é—®é¢˜?å¦‚æœç”¨ CLAUDE.md å’Œruleæ¥è§£å†³,ä½ ä¼šå…ˆå†™å“ª 3 æ¡è§„èŒƒ?</p>
</blockquote>
<p>ğŸ”— <strong>ç›¸å…³æ–‡ç« </strong>:</p>
<ul>
<li><a href="https://juejin.cn/post/7601034810313080886" target="_blank" title="https://juejin.cn/post/7601034810313080886">ä¸Šä¸€ç¯‡: æ·±å…¥ç†è§£ Claude Code</a></li>
</ul>
<hr/>
<p>ğŸ“¥ <strong>ä¸‹è½½èµ„æº</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchendongqi%2Fawesome-ai-coding%2Ftree%2Fmain%2Frules" target="_blank" title="https://github.com/chendongqi/awesome-ai-coding/tree/main/rules" ref="nofollow noopener noreferrer">Awesome AI Coding</a> - è¦†ç›–å¤§éƒ¨åˆ†å¼€å‘é¢†åŸŸçš„è§„åˆ™é›†åˆ</li>
</ul>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«!æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®,æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ,ä¸€èµ·æˆé•¿!</em></p>
<p><em>ä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>å‘ç°æ›´å¤šå®è—èµ„æº</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºTransformersä»0åˆ°1è®­ç»ƒä¸€ä¸ªæ¨¡å‹]]></title>    <link>https://juejin.cn/post/7602789520035512330</link>    <guid>https://juejin.cn/post/7602789520035512330</guid>    <pubDate>2026-02-04T09:34:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602789520035512330" data-draft-id="7602842876256174126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºTransformersä»0åˆ°1è®­ç»ƒä¸€ä¸ªæ¨¡å‹"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-02-04T09:34:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†°èŒ¶èŒ¶"/> <meta itemprop="url" content="https://juejin.cn/user/3245414058035111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºTransformersä»0åˆ°1è®­ç»ƒä¸€ä¸ªæ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3245414058035111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†°èŒ¶èŒ¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:34:46.000Z" title="Wed Feb 04 2026 09:34:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æˆ‘åˆšä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹æ¯”å¦‚ Deekseekã€ChatGPT è¿›å…¥å¯¹è¯æ—¶ï¼Œæˆ‘ä¹Ÿæ›¾ä¸€åº¦è§‰å¾—è¿™ä¸ªä¸–ç•Œä¸Šæœ‰é­”æ³•ï¼Œä½†å®é™…ä¸Šè¿™èƒŒåå¹¶æ²¡æœ‰çœŸæ­£çš„é­”æ³•ï¼Œæˆ–è€…è¯´ï¼Œæ‰€è°“çš„é­”æ³•å…¶å®æ˜¯æ•°å­¦çš„é­”æ³•ï¼›è€Œæ•°å­¦è®¡ç®—ä¸–ç•Œçš„å‰æå°±æ˜¯æ‰¾åˆ°ä¸€ç§æ–¹æ³•ï¼Œå°†è¿ç»­çš„çœŸå®è½¬åŒ–ä¸ºç¦»æ•£çš„æ¨¡å‹ï¼ˆè¿™é‡Œæ‰€è°“çš„æ¨¡å‹ä¸åœ¨æ˜¯æŒ‡å¤§æ¨¡å‹ï¼Œè€Œæ˜¯æŒ‡å…·ä½“äº‹ç‰©çš„æŠ½è±¡ç»“æœï¼‰ï¼Œç„¶åå†è¿ç”¨å„ç§æ•°å­¦çŸ¥è¯†å»è®¡ç®—ã€å»æ‹Ÿåˆã€‚</p>
<p>è€Œæœ€å¥½çš„å»æ­å¼€å¤§æ¨¡å‹èƒŒåçš„é­”æ³•çš„æ–¹å¼ï¼Œå°±æ˜¯è‡ªå·±äº²æ‰‹å»åšä¸€ä¸ªå¤§æ¨¡å‹ï¼Œæƒ³è¦åœ¨å“ªä¸€å±‚å»åˆ¶ä½œå¤§æ¨¡å‹å–å†³äºä½ çš„ç›®çš„å’Œç²¾åŠ›ï¼Œæˆ‘è§‰å¾—ä»…ä»…å­¦ä¹ ä¸€äº›å…¥é—¨çš„æµç¨‹çŸ¥è¯†å¹¶ä¸èƒ½æ»¡è¶³æˆ‘ï¼Œä½†æ˜¯è¦æˆ‘ä»ç¥ç»ç½‘ç»œçš„æ•°å­¦å…¬å¼å¼€å§‹ç ”ç©¶æˆ‘åˆæ²¡é‚£ä¹ˆèªæ˜ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©åˆ©ç”¨å°è£…åçš„ã€è€Œä¸”æ˜¯é«˜åº¦å°è£…åçš„ä»£ç åº“æ¥å®Œæˆæ¨¡å‹çš„è®­ç»ƒæµç¨‹ï¼Œå¹¶ä¸”è¯•å›¾åœ¨æœ‰é™çš„ä»£ç ä¸­çœ‹åˆ°é­”æ³•èƒŒåæ›´å¤šç»´åº¦çš„çœŸç›¸ã€‚</p>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œæœ¬ç¯‡ä»…ä»…æ˜¯ä¸ªäººè¾“å‡ºå’Œè®°å½•åˆ†äº«ï¼Œå¹¶ä¸ä¸€å®šä¼šè¯¦ç»†è§£é‡Šæ¯ä¸€ä¸ªæœ¯è¯­å’Œæ­¥éª¤ä¸”å¿…ç„¶å­˜åœ¨ä¸€äº›ä¸ªäººç†è§£é”™è¯¯ï¼Œæ„Ÿè°¢å¤§å®¶ç†è§£ã€‚</p>
</blockquote>
<h2 data-id="heading-0">èƒŒæ™¯çŸ¥è¯†</h2>
<p>ç®€å•åœ°ç”¨æµç¨‹å›¾è¡¨ç¤ºä¸€ä¸‹ä¸€ä¸ªå¤§æ¨¡å‹çš„è®­ç»ƒæµç¨‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8aa10b081604432b2f662a1815aec48~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=ljSvChCFZxK2f2Y%2FJ4Zgp33M2qs%3D" alt="" loading="lazy"/></p>
<ol>
<li>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å¯æœ€åˆç”¨äºè®­ç»ƒçš„æ•°æ®é›†ï¼Œæ•°æ®é›†çœ‹ç€å¾ˆç®€å•ï¼Œä½†å®é™…ä¸Šå®ƒçš„è´¨é‡ä¼šç›´æ¥å½±å“æœ€åçš„å¤§æ¨¡å‹ï¼Œæ‰€ä»¥æœ€å¼€å§‹è¿™ä¸€æ­¥ä¹Ÿæ˜¯æœ€ä¸ºå…³é”®çš„ä¸€æ­¥</p>
</li>
<li>
<p>æœ‰äº†æ•°æ®é›†ä¹‹åï¼Œæˆ‘ä»¬ä¾¿éœ€è¦ç”¨åˆ†è¯ç®—æ³•å¯¹å…¶è¿›è¡Œtokenizationï¼ˆåˆ†è¯ï¼‰ï¼Œè¿™ä¸€æ­¥å…¶å®å°±æ˜¯å°†è¿ç»­çš„è¯­è¨€ä¿¡æ¯è½¬åŒ–æˆç¦»æ•£çš„ä¿¡æ¯å•å…ƒ</p>
</li>
<li>
<p>å°†åˆ†è¯åçš„ç»“æ„åŠè¡¨æ ¼åŒåŸæ•°æ®é›†ä¸€èµ·ä¸¢ç»™transformerç®—æ³•ï¼Œè€—è´¹éå¸¸å·¨å¤§çš„äººåŠ›ç‰©åŠ›ç®—åŠ›ï¼Œæœ€ç»ˆæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ª base/foundation modelï¼Œä½†æ˜¯ç›®å‰è¿™ä¸ªæ¨¡å‹å¹¶ä¸ä¼šè¿›è¡Œæ™ºèƒ½é—®ç­”ï¼Œå› ä¸ºå®ƒè¿˜æ²¡æœ‰å­¦ä¼šå¦‚ä½•ã€Œchatã€ï¼Œæ‰€ä»¥å®ƒåªä¼šåŸºäºä½ çš„è¯è¿›è¡Œæ¥é¾™ï¼Œæ¥é¾™çš„ä¾æ®å°±æ˜¯å‘é‡ç©ºé—´ä¸­å„åˆ†è¯çš„ç›¸ä¼¼åº¦æ¦‚ç‡</p>
</li>
<li>
<p>å¦‚æœæƒ³è¦åŸºç¡€æ¨¡å‹å˜å¾—ä¼šè¯´è¯ï¼Œé‚£å°±éœ€è¦è¿›è¡Œ SFTï¼ˆç›‘ç£å¾®è°ƒï¼‰ï¼Œé€šè¿‡å–‚ç»™æ¨¡å‹ä¸€å®šä½“é‡çš„é—®ç­”ç»“æ„çš„æ•°æ®ï¼Œè®©æ¨¡å‹å­¦ä¼šæ€ä¹ˆåŸºäº user-assistant çš„æ¨¡å¼å»å›ç­”äººç±»æˆ–è¿›è¡Œã€Œchatã€</p>
</li>
<li>
<p>å¾ˆå¤šé—®é¢˜æˆ–è®¸æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œå¹¶ä¸”äººç±»åå¥½çš„äº¤æµæ¨¡å¼å’Œé£æ ¼ä¹Ÿéƒ½æ˜¯æœ‰ä¸€å®šèŒƒå›´çš„ï¼Œæ‰€ä»¥æ­¤æ—¶éœ€è¦é€šè¿‡ RLï¼ˆå¢å¼ºå­¦ä¹ ï¼‰ï¼Œæˆ–è€…é€šè¿‡æ›´æ–°çš„æŠ€æœ¯ DPOï¼ˆç›´æ¥åå¥½ä¼˜åŒ–ï¼‰ï¼Œæ¥è®­ç»ƒæ¨¡å‹å°½é‡è¾“å‡ºæ›´ç¬¦åˆäººç±»åå¥½å’Œå®¡ç¾çš„å›ç­”</p>
</li>
</ol>
<p>æœ¬æ¬¡è®­ç»ƒçš„æ¨¡å‹å°†ä¼šæŒ‰ç…§ pretraining-SFT-DPO è¿™ä¸€è·¯å¾„æ¥å®Œæˆã€‚</p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h2>
<p>é¦–å…ˆæŠ€æœ¯é€‰å‹å…·ä½“å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3ff482d519145aa9ff5ec427a3b604d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=vdKkT0xMV9b8j2G8h1BUrRNkxMc%3D" alt="" loading="lazy"/></p>
<p>ç”±äºæˆ‘çš„ä¸ªäººç”µè„‘ GPU éå¸¸å¼±ï¼Œè€Œä¸”ä½¿ç”¨ GPU æ¥è¿›è¡Œæ¨¡å‹è®­ç»ƒéå¸¸å®¹æ˜“å‡ºç° OOMï¼ˆå†…å­˜æº¢å‡ºï¼‰ï¼Œæ‰€ä»¥æˆ‘åœ¨ä»£ç ä¸­å¼ºåˆ¶è§„å®šäº†åªä½¿ç”¨ CPU è¿›è¡Œå„ç§è¿ç®—ï¼›</p>
<p>è€Œ CPU è¿ç®—ç¡®å®ç‰¹åˆ«æ…¢ï¼Œæ‰€ä»¥æ¨¡å‹çš„å‚æ•°ã€å±‚æ•°æˆ‘éƒ½ä¸èƒ½è®¾ç½®å¤ªå¤šï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„æ¨¡å‹çš„ä¸€äº›é‡è¦å‚æ•°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/741fbb1b9cfc494bb3b9e064297ebd32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=XtzYKFN3zgNIwESPjw5rZJpOSJE%3D" alt="" loading="lazy"/></p>
<p>å…¶å®è¿™ä¸ªå‚æ•°é‡å®Œå…¨ä¸å¤Ÿç”¨ï¼Œå› ä¸ºç›®å‰å¸‚åœºä¸Šæˆç†Ÿå¤§æ¨¡å‹çš„å‚æ•°é‡åŸºæœ¬éƒ½æ˜¯ B æ•°é‡çº§èµ·æ­¥çš„ï¼Œæ‰€ä»¥æˆ‘è¿™é¡¶å¤šç®—åšæ˜¯ã€Œå°ã€æ¨¡å‹äº†ï¼Œä½†æ˜¯ä»…ä»…å°± 256 Vectors + 4 layers å°±åœ¨æˆ‘çš„ç”µè„‘ä¸ŠèŠ±äº†å¾ˆä¹…çš„è¿ç®—æ—¶é—´ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f27f27ffdfe444896a86611a65c6502~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=z8j7QYr2yZ0S3wZeYKnyCWFp6tc%3D" alt="" loading="lazy"/>æ¥ä¸‹æ¥æˆ‘å°†è¾ƒä¸ºè¯¦ç»†åœ°æ¼”ç¤ºæ¯ä¸€æ­¥éª¤ï¼Œå¦‚æœæœ‰ä»£ç éœ€æ±‚å¯¹åº”çš„ GitHub åœ°å€åœ¨è¿™é‡Œï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FChacha-Bing%2Fmed_model_learning" target="_blank" title="https://github.com/Chacha-Bing/med_model_learning" ref="nofollow noopener noreferrer">github.com/Chacha-Bingâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b2428d839824eea81aff847491fa76b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=l4oF6RmfX4nOgb75GLZASBzaw4U%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">è®­ç»ƒæ¨¡å‹</h2>
<h3 data-id="heading-3">æ•°æ®é›†</h3>
<p>ä¸Šé¢ä¹Ÿæåˆ°è¿‡ï¼Œæ•°æ®é›†ä½œä¸ºæœ€åŸå§‹çš„å–‚ç»™æ¨¡å‹è®­ç»ƒçš„åŸæ²¹éå¸¸é‡è¦ï¼Œæ•°æ®é›†çš„å¤§å°ä¸è´¨é‡å°†ä¼šç›´æ¥å†³å®šæˆå“æ¨¡å‹çš„è´¨é‡ã€‚</p>
<p>ç›®å‰å¤§éƒ¨åˆ†æœ€å…ˆè¿›æ¨¡å‹çš„æ•°æ®é›†éƒ½æ˜¯éå…¬å¼€çš„ï¼ˆå³ä½¿ä»–ä»¬æœ¬èº«å·²ç»å¼€æºï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬å·²çŸ¥çš„æ˜¯ï¼Œè¿™äº›è¯­è¨€å¤§æ¨¡å‹çš„è®­ç»ƒæ•°æ®é›†çš„æ•°é‡çº§å·²ç»æ¥åˆ°äº† TB çº§åˆ«ï¼Œè€Œä¸”åœ¨ä¸è¿œçš„æœªæ¥å‡ å¹´æˆ–è®¸å°±ä¼šæŠŠäººç±»äº’è”ç½‘å·²æœ‰çš„æ–‡å­—èµ„æ–™ç»™è®­ç»ƒæ®†å°½ã€‚</p>
<p>ä½†æ˜¯æœ‰äº†å„ç§ç½‘ç»œæ•°æ®ä»¥åå¹¶ä¸å¯ä»¥ç›´æ¥æ‹¿æ¥ä½¿ç”¨ï¼Œå› ä¸ºè¿™äº›ç½‘ç»œä¿¡æ¯ä¸­å¯èƒ½åŒ…å«å¤§é‡çš„é‡å¤æ–‡ç« ã€å¹¿å‘Šä¿¡æ¯ã€æœ‰æ¯’æœ‰å®³ä¿¡æ¯ç­‰ï¼Œè¿™äº›æ–‡å­—å°†ä¼šä¸¥é‡å½±å“æ¨¡å‹çš„åå¥½ä¸è®­ç»ƒæˆæœï¼Œæ‰€ä»¥å¦‚ä½•è¿›è¡Œæ•°æ®æ¸…æ´—å’Œç»“æ„åŒ–æ˜¯æ•°æ®é›†ä¸­æ›´ä¸ºè‡³å…³é‡è¦çš„ä¸€æ­¥ã€‚</p>
<p>ä½†æ˜¯ç°åœ¨ä¼˜ç§€æ•°æ®é›†å¹¶ä¸éš¾å¾—åˆ°ï¼Œæ¯”å¦‚ Huggingface ä¸Šçš„ FineWeb é¡¹ç›®ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdatasets%2FHuggingFaceFW%2Ffineweb%25EF%25BC%2589%25EF%25BC%258C%25E8%25BF%2599%25E4%25B8%25AA%25E9%25A1%25B9%25E7%259B%25AE%25E7%259A%2584%25E6%2595%25B0%25E6%258D%25AE%25E9%259B%2586%25E6%259C%2589%25E7%259D%2580%25E5%25A4%259A%25E8%25BE%25BE" target="_blank" title="https://huggingface.co/datasets/HuggingFaceFW/fineweb%EF%BC%89%EF%BC%8C%E8%BF%99%E4%B8%AA%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9C%89%E7%9D%80%E5%A4%9A%E8%BE%BE" ref="nofollow noopener noreferrer">huggingface.co/datasets/Huâ€¦</a> 18.5T tokensï¼Œå®ƒä»¬ç»ç”±çˆ¬è™«ï¼ˆCommon Crawlï¼‰çˆ¬å–æ•°æ®å¹¶ä¸”åšäº†ä¸€å®šçš„æ¸…æ´—ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°å°±ä¸‹è½½åˆ°å…¶ä¸­çš„æŸäº›æ•°æ®åˆ†ç‰‡ç”šè‡³æ˜¯å…¨é‡çš„æ•°æ®ï¼Œä½†çœŸæ­£çš„é—®é¢˜åœ¨äºå¤§å¤šæ•°äººæ ¹æœ¬æ²¡æœ‰å¯¹åº”çš„ç®—åŠ›èµ„æºå»å¯¹å¦‚æ­¤æµ·é‡çš„æ•°æ®è¿›è¡Œè®¡ç®—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b2fad3dd5654fcead170a2ee554a516~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=x87vbxAWDuklM4BHV%2BxZvFv8T1E%3D" alt="" loading="lazy"/></p>
<p>æˆ‘çš„ä¸ªäººç”µè„‘ä¹Ÿæ²¡æœ‰è¿™ä¹ˆå¤§çš„ç®—åŠ›ï¼Œè™½ç„¶å¯ä»¥ä½¿ç”¨è¯¸å¦‚ colab ä¹‹ç±»çš„å¹³å°äº‰å–ä¸€äº›å…è´¹è®¡ç®—èµ„æºï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å†³å®šå…ˆåœ¨æœ¬åœ°å…ˆè¡Œè·‘ä¸€ä¸ªæµç¨‹ï¼Œæ‰€ä»¥æˆ‘é€‰å–äº†ä¸€ä¸ªéå¸¸å°çš„å…³äºåŒ»ç–—æ–¹é¢çš„æ•°æ®å­é›†ï¼ˆshibing624/medicalï¼Œæºè‡ªHuggingfaceï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdatasets%2Fshibing624%2Fmedical%25EF%25BC%2589%25EF%25BC%258C%25E8%25BF%2599%25E4%25B8%25AA%25E6%2595%25B0%25E6%258D%25AE%25E9%259B%2586%25E7%259A%2584%25E5%25A5%25BD%25E5%25A4%2584%25E5%259C%25A8%25E4%25BA%258E%25E6%2588%2591%25E4%25BB%25AC%25E4%25B8%258D%25E7%2594%25A8%25E5%258F%2582%25E4%25B8%258E%25E7%25B9%2581%25E7%2590%2590%25E7%259A%2584%25E6%2595%25B0%25E6%258D%25AE%25E9%2587%2587%25E9%259B%2586%25E5%2592%258C%25E6%25B8%2585%25E6%25B4%2597%25E9%2598%25B6%25E6%25AE%25B5%25EF%25BC%258C%25E9%2587%258C%25E9%259D%25A2%25E7%259A%2584%25E6%2595%25B0%25E6%258D%25AE%25E9%2583%25BD%25E5%25B7%25B2%25E7%25BB%258FJSON%25E6%25A0%25BC%25E5%25BC%258F%25E5%258C%2596%25E6%2588%2591%25E4%25BB%25AC%25E5%25BC%2580%25E7%25AE%25B1%25E5%258D%25B3%25E7%2594%25A8%25E3%2580%2582" target="_blank" title="https://huggingface.co/datasets/shibing624/medical%EF%BC%89%EF%BC%8C%E8%BF%99%E4%B8%AA%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E5%A5%BD%E5%A4%84%E5%9C%A8%E4%BA%8E%E6%88%91%E4%BB%AC%E4%B8%8D%E7%94%A8%E5%8F%82%E4%B8%8E%E7%B9%81%E7%90%90%E7%9A%84%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E5%92%8C%E6%B8%85%E6%B4%97%E9%98%B6%E6%AE%B5%EF%BC%8C%E9%87%8C%E9%9D%A2%E7%9A%84%E6%95%B0%E6%8D%AE%E9%83%BD%E5%B7%B2%E7%BB%8FJSON%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%88%91%E4%BB%AC%E5%BC%80%E7%AE%B1%E5%8D%B3%E7%94%A8%E3%80%82" ref="nofollow noopener noreferrer">huggingface.co/datasets/shâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/023fc260ff9d49408586c0c7eb977c86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=fXCSLvRmuXgqlDea%2BIkxuWOKOoY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">é¢„è®­ç»ƒ [ pre-training ]</h3>
<p>é¢„è®­ç»ƒæ˜¯æŒ‡åœ¨å¤§è§„æ¨¡çš„æµ·é‡æ•°æ®ï¼ˆé€šå¸¸æ˜¯æœªæ ‡æ³¨çš„äº’è”ç½‘æ–‡æœ¬ï¼‰ä¸Šï¼Œä½¿ç”¨<strong>è‡ªç›‘ç£å­¦ä¹  (Self-supervised Learning)</strong> çš„æ–¹å¼è®­ç»ƒæ¨¡å‹ï¼Œä½¿å…¶æŒæ¡é€šç”¨çš„çŸ¥è¯†å’Œè¯­è¨€è§„å¾‹ã€‚</p>
<p>é¢„è®­ç»ƒæ˜¯å¤§æ¨¡å‹ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·çš„ç¬¬ä¸€æ­¥ï¼ŒåŒæ—¶é¢„è®­ç»ƒä¹Ÿæ˜¯ LLM è®­ç»ƒä¸­æœ€è€—é’±ã€è€—åŠ›çš„é˜¶æ®µï¼Œå› ä¸ºè¿™ä¸€é˜¶æ®µçš„æ•°æ®é›†å’Œæ‰€éœ€ç®—åŠ›éƒ½æ˜¯æœ€å¤§çš„ï¼šæ¯”å¦‚ GPT-4 çš„é¢„è®­ç»ƒå°±éœ€è¦æ•°ä¸‡é¢— GPU è¿ç»­è·‘æ•°æœˆï¼Œæ¶ˆè€—çš„ç”µè´¹å’Œç®—åŠ›æˆæœ¬é«˜è¾¾æ•°åƒä¸‡ç¾å…ƒã€‚</p>
<p>é¢„è®­ç»ƒå¹¶ä¸è¦æ±‚æ¨¡å‹å®Œæˆç‰¹å®šä»»åŠ¡å¦‚ç¿»è¯‘æˆ–åˆ†ç±»ï¼Œå®ƒçš„ç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š<strong>çŒœä¸‹ä¸€ä¸ªå­—</strong>ï¼Œæ¯”å¦‚</p>
<ul>
<li>
<p><strong>è¾“å…¥ï¼š</strong> â€œåºŠå‰æ˜æœˆå…‰ï¼Œâ€</p>
</li>
<li>
<p><strong>ç›®æ ‡ï¼š</strong> æ¨¡å‹é¢„æµ‹ä¸‹ä¸€ä¸ªå­—æ˜¯â€œç–‘â€ã€‚</p>
</li>
</ul>
<p>ä¸ºäº†çŒœå¾—å‡†ï¼Œæ¨¡å‹å¿…é¡»å­¦ä¼šè¯­æ³•ã€é€»è¾‘ã€äº‹å®çŸ¥è¯†ç”šè‡³æ˜¯å¸¸è¯†ï¼Œæ‰€ä»¥è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆé¢„è®­ç»ƒé˜¶æ®µéœ€è¦å¤§é‡çš„æ•°æ®ã€‚</p>
<p>è¿™äº›æ•°æ®ä¼šç»è¿‡åˆ†è¯ï¼Œå˜æˆä¸€ä¸ªä¸ªæœ‰è¯­ä¹‰çš„ tokenï¼Œç»è¿‡æ¨¡å‹çš„è®­ç»ƒåï¼Œè¿™äº›è¯è¡¨ä¸­çš„ token å°±ä¼šåœ¨ transformer åæ˜ å°„æˆå†…éƒ¨å‘é‡ç©ºé—´çš„é«˜ç»´æ•°ç»„ï¼Œå½“ç”¨æˆ·è¾“å…¥åï¼Œè¿™äº›è¾“å…¥ä¹Ÿä¼šç»è¿‡å†…éƒ¨ transformer çš„å„ç§å±‚å¾—åˆ°ä¸€ä¸ªåŒç»´åº¦çš„æ•°ç»„å‘é‡ï¼Œè€Œæ¨¡å‹çš„ä¸‹ä¸€æ­¥å°±æ˜¯åœ¨é¢„è®­ç»ƒå¥½åçš„å‘é‡ç©ºé—´å†…å¯»æ‰¾ä¸è¾“å…¥å‘é‡ç›¸ä¼¼åº¦ã€Œæœ€é€‚é…ã€çš„å‘é‡ï¼Œæ³¨æ„è¿™é‡Œä¸ä¸€å®šæ˜¯ã€Œæœ€æ¥è¿‘ã€è€Œæ˜¯ã€Œæœ€é€‚é…ã€ï¼Œå› ä¸ºè¿™å–å†³äºæˆ‘ä»¬çš„æ¨¡å‹è¿è¡Œå‚æ•°å’Œå†…éƒ¨ä½¿ç”¨è¿™äº›å‚æ•°çš„ç®—æ³•ã€‚é‚£ä¹ˆæ‰¾åˆ°ã€Œæœ€é€‚é…ã€çš„å‘é‡åï¼Œæˆ‘ä»¬é€šè¿‡é€†å‘çš„åŠæ³•å³ unembedding æ¥è§£ç å‡ºæ‰¾å‡ºçš„è¿™ä¸ªå‘é‡æ˜¯å¯¹åº”ç€ä»€ä¹ˆå­—ä½œä¸ºè¾“å‡ºï¼Œç„¶åå¾ªç¯å¾€å¤ä¸€ç›´ã€Œæ¥é¾™ã€ã€‚</p>
<h3 data-id="heading-5">åˆ†è¯ [ tokenization ]</h3>
<p>åœ¨æˆ‘ä»¬è®­ç»ƒè¯­è¨€æ¨¡å‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œåˆ†è¯ï¼Œtokenization æ˜¯å°†æˆ‘ä»¬çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯åšæ•°å€¼è¿ç®—çš„æ•°å­—çš„è¿‡ç¨‹ï¼šæˆ‘ä»¬çš„åŸå§‹æ•°æ®é›†ä»…ä»…æ˜¯å¤§æ®µå¤§æ®µæ–‡å­—çš„é›†åˆï¼Œç®—æ³•æœ¬èº«å¹¶ä¸çŸ¥é“è¦å¦‚ä½•å»æ‘„å…¥å¹¶ä¸”è®­ç»ƒè‡ªå·±ç†è§£è¿™äº›é•¿ç¯‡å¤§è®ºï¼Œæˆ‘ä»¬å¿…é¡»å¯¹å…¶è¿›è¡Œç¦»æ•£åŒ–ã€æ•°å­¦åŒ–ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ä¸å±•å¼€åˆ†è¯çš„é€»è¾‘å’Œå„ç§ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ä¸ºåˆ†è¯ç›¸å½“äºæ˜¯å°†æˆ‘ä»¬æ‰€æœ‰çš„è¯­æ–™åº“è¿›è¡Œäº†è¯­ä¹‰åˆ‡å‰²ï¼Œæ¯”å¦‚å°†ã€Œæˆ‘çˆ±æœˆäº®ã€è¿™å¥è¯åˆ†ä¸ºã€Œæˆ‘ã€ã€ã€Œçˆ±ã€ã€ã€Œæœˆäº®ã€è¿™ 3 ä¸ªtokensï¼Œè™½ç„¶ä¸åŒçš„ç®—æ³•ä¼šå¯¹åŒæ ·çš„æ–‡å­—è¿›è¡Œä¸åŒç±»å‹çš„åˆ†è¯ï¼Œä½†æ˜¯æˆ‘ä»¬ç›®å‰åªéœ€è¦çŸ¥é“ï¼Œç»è¿‡åˆ†è¯ä»¥åï¼Œæ‰€æœ‰çš„è¯­æ–™åº“å°±ä¼šè¢«åˆ‡å‰²ä¸ºéå¸¸å¤§é‡çš„ tokensï¼Œå…¶ä¸­æ¯ä¸ª token éƒ½ä¼šå¯¹åº”ç€è‡ªå·±çš„ tokenidï¼Œæ¯ä¸ª tokenid ä¸‹éƒ½ä¼šæœ‰ä¸€ä¸ªä»£è¡¨ç€è¿™ä¸ª token çš„å‘é‡ï¼Œå‘é‡çš„åˆå§‹å€¼å¯ä»¥æ˜¯éšæœºçš„ï¼Œå‘é‡çš„ç»´åº¦æ˜¯æˆ‘ä»¬è‡ªå·±å®šçš„ï¼Œä¹‹åé¢„è®­ç»ƒçš„å¾ˆå¤§ä¸€éƒ¨åˆ†å·¥ä½œï¼Œå°±æ˜¯å¯¹äºè¿™äº›å‘é‡ä¸­çš„æ¯ä¸€ä¸ªå‚æ•°è¿›è¡Œå¾®è°ƒã€‚</p>
<p>æˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº†åŸºäº BPE ç®—æ³•çš„ tokenizer å³ ByteLevelBPETokenizerï¼Œç”¨å®ƒæ¥å¯¹æˆ‘ä»¬ 630MB (å†…å« 370000 æ¡åŒ»ç–—çŸ¥è¯†)çš„é¢„è®­ç»ƒæ•°æ®é›†è¿›è¡Œåˆ†è¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75a02a502d8d46b986940c5494d0299c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=%2FHVlbFk9v7SlcDVNjaAAwc%2Bhaik%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡10minåï¼Œæˆ‘ä»¬çš„åˆ†è¯ç»“æœå·²ç»å®Œæˆï¼ŒåŒæ—¶æˆ‘ä»¬å†™ä¸€ä¸ªè„šæœ¬ç®€å•æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬çš„åˆ†è¯æˆæœï¼šä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºæˆ‘æ„é€ çš„æ–‡æœ¬ã€Œæ‚£è€…è¯Šæ–­ä¸ºå¿ƒè‚Œæ¢—å¡ï¼Œå»ºè®®æœç”¨é˜¿å¸åŒ¹æ—ã€‚ã€â€”â€” è¿™å¥è¯åŸºäºæˆ‘ä»¬çš„åˆ†è¯æˆæœè¢«æ‹†åˆ†æˆäº† 8 ä¸ª tokensï¼Œå°†è¿™äº› tokens åš decoded è¿˜åŸæ²¡æœ‰ä¸¢å¤±ä»»ä½•ä¿¡æ¯ï¼Œå°†è¿™äº› tokens é€ä¸ªæ‰“å°å‡ºæ¥å¯ä»¥å‘ç°è¿™äº› token éƒ½æ˜¯æœ‰è¯­ä¹‰æ€§çš„ï¼Œæ¯”å¦‚ã€Œé˜¿å¸åŒ¹æ—ã€è¢«è§†ä¸ºäº†ä¸€ä¸ª token è€Œä¸æ˜¯è§†ä¸ºã€Œé˜¿ã€ã€ã€Œå¸ã€ã€ã€ŒåŒ¹ã€ã€ã€Œæ—ã€å››ä¸ª tokenã€‚</p>
<h3 data-id="heading-6">å¼€å§‹è®­ç»ƒ</h3>
<p>æˆ‘ä»¬è°ƒç”¨ transformers åº“ï¼Œè®¾ç½®å¥½åˆé€‚çš„å‚æ•°åï¼Œå³å¼€å§‹è¿›å…¥æ¼«é•¿çš„é¢„è®­ç»ƒè¿‡ç¨‹ã€‚</p>
<p>ç”±äºè®­ç»ƒè¿‡ç¨‹æ¶‰åŠåˆ°éå¸¸å¤šçš„ä¸“ä¸šå’Œæ•°å­¦çŸ¥è¯†ï¼Œæˆ‘æ„Ÿè§‰æˆ‘ä¹Ÿè®²ä¸å¥½ï¼Œæ‰€ä»¥å¤§å®¶æƒ³è¦äº†è§£è¿˜æ˜¯ä¸“é—¨å»æœç´¢ç›¸å…³èµ„æ–™æ¯”è¾ƒå¥½ï¼Œæˆ–è€…å¯ä»¥è¿›è¿™ä¸ªç½‘ç«™çœ‹ä¸€çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbbycroft.net%2Fllm%25EF%25BC%2588%25E8%25BF%2599%25E6%2598%25AF%25E4%25B8%2580%25E4%25B8%25AA%25E7%2594%25A8" target="_blank" title="https://bbycroft.net/llm%EF%BC%88%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E7%94%A8" ref="nofollow noopener noreferrer">bbycroft.net/llmï¼ˆè¿™æ˜¯ä¸€ä¸ªç”¨</a> three.js åˆ¶ä½œçš„è®²è§£ LLM å†…éƒ¨çš„åŠ¨ç”»æµï¼Œå¯¹äºå½¢æˆæ¦‚å¿µè¿˜æ˜¯æŒºæœ‰ç”¨çš„ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b03c9a8ff778494c8ba599d8fd8f5732~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=b9V57FemcODYTtSAsqt9qAo2S6s%3D" alt="" loading="lazy"/></p>
<p>å¤§æ¦‚ 8.4M çš„å‚æ•°é‡ï¼Œæˆ‘ä»ä¸‹åˆ3ç‚¹å¼€å§‹è®­ç»ƒï¼Œåˆ°åŠå¤œè¿‘2ç‚¹æ‰è®­ç»ƒå®Œã€‚</p>
<p>åœ¨è¿™ 10h+ çš„è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹éœ€è¦è¿›è¡Œ 92474 æ­¥æ‰èƒ½å°†è¿™æ¬¡è®­ç»ƒä»»åŠ¡è·‘å®Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9f7c48e67ed43118882527281f1b1b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=YrmYa1B60Lsvv3XxoaJMLWDBxYE%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥ä»ç›‘è§†å™¨é‡Œçœ‹åˆ° Python çš„æ‰§è¡Œå·²ç»å æ®äº†å¤§éƒ¨åˆ† CPU è¿ç®—ï¼ŒåŒæ—¶ä¸ºäº†ä¸åŠŸäºä¸€ç¯‘ï¼Œæ‰€ä»¥æ¯éš” 500 æ­¥æˆ‘éƒ½ä¼šè®©æ¨¡å‹ä¿ç•™ä¸€æ¬¡ checkpoint ä½œä¸ºå¿«ç…§å­˜æ¡£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77702a2a9f0144789442722c10a07cfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=AWTen4j2FSSdIgdIeU%2FD0b2gd%2FY%3D" alt="" loading="lazy"/></p>
<p>å¦ä¸€æ–¹é¢ï¼Œæ¯éš”50æ­¥æˆ‘å°±ä¼šè®©æ¨¡å‹ä»¥ã€Œæˆ‘ä»Šå¤©æœ‰ç‚¹å¤´ç–¼ï¼Œæˆ‘éœ€è¦ã€å¼€å¤´è®©å®ƒè¿›è¡Œç»­å†™ï¼Œä»¥ä¾¿èƒ½å¤Ÿå®æ—¶çœ‹åˆ°è®­ç»ƒæˆæœï¼š</p>
<blockquote>
<p>åˆšå¼€å§‹è®­ç»ƒæ—¶ï¼Œæ¨¡å‹å‡ ä¹æ— æ³•åå‡ºå®Œæ•´çš„å¥å­ï¼Œloss å€¼ä¸º8+ï¼›</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c08f367d9b147e89977e9c231f1b819~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=bdX4yyR7Nf4cI3ENVvp9E2%2BawcQ%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c63ef62fe4724c3d8901461c63d9edfe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=ffM6aBs7NMe9KBjSKpulOJRT0Bk%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925feaaf51b54ed19d77cb3c2febda82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=zfHwg9vJTUmv%2FtspQNMn7YPWIBA%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æ¨¡å‹è·‘åˆ°2ä¸‡æ­¥æ—¶ï¼Œè¾“å‡ºä»ç ´ç¢ç»“æ„æ¥è¿‘æœ‰ä¸€å®šé€»è¾‘ï¼ŒLossé™åˆ°äº† 5+ ï¼›</p>
</blockquote>
<blockquote>
<p>æ¨¡å‹ 9ä¸‡+ è½®å…¨éƒ¨è·‘å®Œæ—¶å¹³å‡ Loss åœ¨4.7ï¼ˆä¸€èˆ¬æ¥è¯´ï¼ŒLoss åœ¨2-4æ˜¯æ¯”è¾ƒä¼˜ç§€ï¼Œå¯¹äºæˆ‘ä»¬è®­ç»ƒå°æ¨¡å‹æ¥è¯´ Loss åœ¨4-6ä¹Ÿç®—å¤Ÿç”¨å•¦ï¼‰</p>
</blockquote>
<h3 data-id="heading-7">ç›‘ç£å¾®è°ƒ [ SFT ]</h3>
<p>ç»è¿‡äº†åä¸ªåŠå°æ—¶çš„é›†ä¸­è®­ç»ƒï¼Œæˆ‘ä»¬ç»ˆäºå®Œæˆäº†è¿™ä¸ª9ä¸‡æ­¥çš„è®­ç»ƒè¿‡ç¨‹ğŸ‰ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬æ‹¥æœ‰äº†ä¸€ä¸ªåŸºç¡€æ¨¡å‹ï¼ˆBase/Foundation Modelï¼‰ï¼Œä½†æ˜¯ç›®å‰çš„è¿™ä¸ªæ¨¡å‹åªä¼šè¿›è¡Œæ•°ç†ç»Ÿè®¡æ„ä¹‰çš„è¯è¯­æ¥é¾™ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥è°ƒæ•´å„ç§å‚æ•°è®©å®ƒæ¯æ¬¡çš„è¾“å‡ºç»“æœä¸ä¸€æ ·ï¼Œä½†æ˜¯å®ƒç›®å‰è¿˜å­¦ä¸ä¼šé—®ç­”è¿™å¥—é€»è¾‘ï¼Œè€Œä¸”åªèƒ½åŸºäºåŒ»ç–—æ•°æ®å›ç­”ï¼Œè®©æˆ‘ä»¬å†™ä¸ªè„šæœ¬æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f2b199c21d6433e8330847428e685fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=CPYcaPL0NFdnLoP9ZxfjKnG02X4%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹å‡ºå…¶å®å®ƒå·²ç»æœ‰äº†æ¯”è¾ƒå¼ºçš„é€»è¾‘æ€§ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±éœ€è¦é€šè¿‡ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰æ¥è®©è¿™ä¸ªâ€œGPTâ€å˜æˆâ€œChat GPTâ€ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å¤§è‡´çœ‹ä¸€çœ‹ç”¨æ¥åš SFT çš„æ•°æ®é›†æ ·ä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"instruction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯·æè¿°å£è…”é»è†œå¸æ”¶çš„å†å²"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1847å¹´ï¼Œé˜¿æ–¯åå°¼æ¬§Â·ç´¢å¸ƒé›·ç½—ç­‰é¦–å…ˆæŠ¥å¯¼äº†ç¡é…¸ç”˜æ²¹å¯ä»¥ç»å£è…”é»è†œå¸æ”¶è¿›å…¥äººä½“è¡€æ¶²å¾ªç¯ç³»ç»Ÿã€‚1879å¹´ï¼Œç¡é…¸ç”˜æ²¹èˆŒä¸‹è¯æˆåŠŸåœ°ç”¨äºä¸´åºŠï¼Œä¹‹åé™†ç»­å‡ºç°è®¸å¤šè¯ç‰©çš„å£è…”é»è†œå¸æ”¶ç›¸å…³æŠ¥å¯¼ã€‚"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"instruction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘å¦ˆ70å²ï¼ŒCTéƒ¨ä½L3â€”S1æ¤é—´ç›˜ï¼Œç»“æœLï¼Œæ— "</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è…°æ¤é—´ç›˜çªå‡ºç—‡å¼•èµ·çš„ç—‡çŠ¶å°±æ˜¯æœ‰é«“äº¥è„±å‡ºåˆºæ¿€ç¥ç»å¼•èµ·çš„ç—›åºï¼Œä¸‹è‚¢åå°„æ€§çš„ç—›åºï¼Œæ²»ç–—çš„æ–¹æ³•å°±æ˜¯éœ€è¦æ³¨æ„ä¼‘æ¯ç‰µå¼•ï¼ŒæŒ‰æ‘©é’ˆç¸çš„æ–¹æ³•æ²»ç–—ï¼Œå£æœèŠ¬å¿…å¾—ï¼Œè…°æ¯ç—›èƒ¶å›Šã€‚è…°è…¿ç—›ä¸¸æ²»ç–—ï¼Œæ— æ•ˆæ—¶å°„é¢‘å’Œé’ˆåˆ€çš„æ–¹æ³•æ²»ç–—ä¸€å®šè¦è‡ªå·±é”»ç‚¼çš„ï¼Œå¢å¼ºè‚Œè‚‰çš„éŸ§æ€§"</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ä»½æ•°æ®æ˜¯ç¬¦åˆ Alpaca æ ¼å¼çš„æ•°æ®é›†ï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰å¼€æºç¤¾åŒºæœ€é€šç”¨çš„ SFT æ•°æ®æ ‡å‡†ã€‚</p>
<p>å…¶ä¸­**<code>instruction</code>** <strong>(æŒ‡ä»¤)<strong>æ˜¯ç”¨æˆ·ç»™æ¨¡å‹ä¸‹è¾¾çš„</strong>ä»»åŠ¡å‘½ä»¤ï¼Œ****<code>input</code></strong> **(ä¸Šä¸‹æ–‡/è¾“å…¥)ï¼š**æ˜¯æ‰§è¡ŒæŒ‡ä»¤æ—¶æ‰€éœ€è¦çš„é¢å¤–èƒŒæ™¯ä¿¡æ¯ï¼Œè¿™ä¸ªæ•°æ®é›†æ²¡é‚£ä¹ˆå¤æ‚æ‰€ä»¥ input åŸºæœ¬ä¸ºç©ºï¼Œè€Œ output å°±æ˜¯æ¨¡å‹éœ€è¦å­¦ä¹ çš„è¾“å‡ºã€‚</p>
<p>è¿™ä¸€ä»½æ•°æ®é›†æ˜æ˜¾æœ‰æ›´å¼ºçƒˆçš„æ ¼å¼åŒ–ï¼Œå®ƒèƒ½å¤Ÿæ•™ä¼šæ¨¡å‹æ€æ ·å»åšæ›´ç¬¦åˆé—®ç­”ç»“æ„çš„è¾“å‡ºè€Œä¸æ˜¯å»åšå­—è¯æ¥é¾™ã€‚</p>
<p>åŒæ—¶è¿™ä¸€éƒ¨åˆ†çš„æ•°æ®é›†ä¸ç”¨å¤ªå¤šï¼Œæ­£å¦‚å…¶åç§°ã€Œå¾®è°ƒã€ä¸€æ ·ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³è¦å»æ”¹å˜æ¨¡å‹çš„ä¸€äº›è¾“å‡ºæ¨¡å¼å’Œè¯­æ°”ï¼Œå¹¶ä¸æƒ³åŠ¨åˆ°ä¹‹å‰å·²ç»è®­ç»ƒå¥½çš„çŸ¥è¯†çš„å…³è”ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿‡å¤šçš„æ•°æ®ï¼Œå¦åˆ™æ¨¡å‹å¯èƒ½ä¼šäº§ç”Ÿç¾éš¾æ€§é—å¿˜ã€‚</p>
<p>æˆ‘ä»è¿™ä¸ª SFT æ•°æ®é›†ä¸­éšæœºæŠ½å–äº†5000æ¡æ•°æ®åŸºäºä¸Šé¢é‚£ä¸ªåŸºç¡€æ¨¡å‹åš SFT è®­ç»ƒï¼š</p>
<blockquote>
<p>SFTå®Œæˆæˆªå›¾ï¼š</p>
<p>ä»æ—¥å¿—çœ‹ï¼Œæœ€ç»ˆ <strong>train_loss å®šæ ¼åœ¨ 4.517</strong>ã€‚è™½ç„¶æ•°å­—ä¸Šçœ‹èµ·æ¥å’Œé¢„è®­ç»ƒå·®ä¸å¤šï¼Œä½†å› ä¸º SFT æ”¹å˜äº†æ¨¡å‹çš„è¾“å‡ºåˆ†å¸ƒï¼Œæ‰€ä»¥å®ƒç°åœ¨çš„å¯¹è¯é€»è¾‘ä¼šæ¯”ä¹‹å‰æ›´å¼ºã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf50f6a42e884022bd109129fd8775d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=taWo3kc%2BUKKvl7IWqqkimURbOcM%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªç»è¿‡äº† SFT çš„å¯ä»¥è¿›è¡Œ Chat çš„æ¨¡å‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/548a231b7069425bb93013d00b395db2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=XhxaORPyPB2FXDZYmZMMNQ15Ugw%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨è¿™ä¸ªç»è¿‡ SFT çš„æ¨¡å‹çš„ç¡®è¶…è¶Šäº†å­—è¯æ¥é¾™çš„é—¨æ§›ï¼Œä½†æ˜¯å¯¹äºã€Œæˆ‘æƒ³çŸ¥é“ä»€ä¹ˆæ˜¯å£è…”æºƒç–¡,ä½ å¯ä»¥å‘Šè¯‰æˆ‘å—ã€è¿™åŒä¸€è¾“å…¥æ¨¡å‹çš„ä¸åŒè¡¨ç°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºåœ¨SFTåçš„ç­”æ¡ˆæ²¡æœ‰SFTå‰çš„å¥½ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7678726a1e834c0183f296514c69740f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=2%2B74I9b1KqMM8LJEiJ3B9FPjsxo%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œçš„åŸå› å¤§æ¦‚ç‡å°±æ˜¯å‡ºç°äº†æˆ‘ä»¬ä¸Šé¢æåˆ°çš„ã€Œé—å¿˜ã€ï¼Œæˆ–è€…è¯´ç¾éš¾æ€§é—å¿˜ (Catastrophic Forgetting)ï¼Œè¿™é‡Œçš„æ ¸å¿ƒåŸå› æ˜¯å› ä¸ºæˆ‘çš„æ¨¡å‹å¤ªå°äº†ï¼šä¸ºäº†è¿åˆ SFT çš„ã€Œå¯¹è¯æ ¼å¼ã€ï¼Œè€Œå¼ºåˆ¶å‹åˆ¶äº†é¢„è®­ç»ƒæ—¶å­¦åˆ°çš„ã€Œç™¾ç§‘çŸ¥è¯†ã€ã€‚</p>
<p>ç”±äºå‚æ•°é‡å¤ªå°ï¼ˆ8Mï¼‰ï¼Œæ¨¡å‹å¯èƒ½æ— æ³•åŒæ—¶å…¼é¡¾ã€Œæ·±åˆ»çš„çŸ¥è¯†ã€å’Œã€Œç¤¼è²Œçš„æ ¼å¼ã€ï¼Œè€Œæœ€ç»ˆé€‰æ‹©äº†æ ¼å¼ï¼Œä¸¢æ‰äº†é€»è¾‘ï¼šè¿™ç§ã€Œè¿‡æ‹Ÿåˆåˆ°æ¨¡ç‰ˆã€çš„æ“ä½œæŒ¤å äº†åŸæœ‰çŸ¥è¯†çš„å­˜å‚¨ç©ºé—´ï¼Œå¯¼è‡´å®ƒåœ¨å›ç­”æ—¶æ˜¾å¾—éå¸¸å‘†æ»ï¼Œç”šè‡³ä¸ç®¡ä¹‹å‰å­¦åˆ°çš„é€»è¾‘è€Œæ‹¼å‘½è¾“å‡ºç¤¼è²Œçš„ã€Œä½ å¥½ã€ã€‚</p>
<p>é™¤äº†é€šè¿‡æ¯”è¾ƒéš¾å®ç°çš„æé«˜å‚æ•°é‡ä»¥å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›æªæ–½æ¥ä¿®æ­£ï¼Œæ¯”å¦‚</p>
<ul>
<li>
<p><strong>æ··åˆè®­ç»ƒ (Mixed Training)</strong>ï¼šåœ¨æˆ‘ä»¬ SFT çš„ 5000 æ¡é—®ç­”é‡Œï¼Œæºå…¥ 1000 æ¡é¢„è®­ç»ƒæ—¶çš„çº¯ç™¾ç§‘æ–‡æœ¬ã€‚è¿™è¢«ç§°ä¸ºã€Œé‡æ¼”ç­–ç•¥ã€ï¼ˆReplayï¼‰ï¼Œèƒ½æœ‰æ•ˆç¼“è§£é—å¿˜</p>
</li>
<li>
<p><strong>æ›´æ¸©å’Œçš„å¾®è°ƒ</strong>ï¼šè¿›ä¸€æ­¥é™ä½å­¦ä¹ ç‡ï¼ˆæ¯”å¦‚åˆ° <code>1e-5</code>ï¼‰ï¼Œå¹¶å‡å°‘ Epochï¼ˆè½®æ¬¡ï¼‰æ•°ã€‚</p>
</li>
</ul>
<p>æˆ‘è¿™é‡Œå°±ä¸å»åšæ›´å¤šçš„å¤æ‚è°ƒæ•´äº†ï¼ŒåŒæ—¶ï¼Œå¯¹äºæˆ‘çš„è¿™ä¸ªcaseï¼Œç›´æ¥ä½¿ç”¨æ›´ç²¾å‡†ä¸€äº›çš„Promptæ˜¯ä¸ªæ›´è¿…é€Ÿçš„æ·å¾„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/533c503e7e0d4867a0ae375a6b4ea77d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=7WvsPgYGWAaHqKGqxjotCmLZLnU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">ç›´æ¥åå¥½ä¼˜åŒ– [ DPO ]</h3>
<p>å½“æ¨¡å‹åšå®Œå¾®è°ƒä»¥åï¼Œæ¯”è¾ƒä¼ ç»Ÿå’Œåœ¨å¤æ‚åœºæ™¯ä¸‹æ›´ä¸ºä¼˜è¶Šçš„æ–¹æ³•å…¶å®æ˜¯ RLHFï¼ˆäººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼‰ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œåœ¨æ¨¡å‹åšå®Œ SFT åï¼Œæ¨¡å‹çš„ç¡®èƒ½åƒä¸ªæ­£å¸¸å¯¹è¯è€…ä¸€æ ·ï¼Œå¯ä»¥å»å’Œæˆ‘ä»¬è¿›è¡Œä¸€æ¥ä¸€å›çš„å¯¹è¯äº†ï¼Œä½†æ˜¯è¿™è¿˜ä¸å¤Ÿï¼Œå› ä¸ºå¯¹äºå¾ˆå¤šå›ç­”ï¼Œæ­¤æ—¶çš„æ¨¡å‹è¿˜å¹¶ä¸èƒ½åšå‡ºä¸€ä¸ªç¬¦åˆå¤šæ•°äººé¢„æœŸçš„ã€Œå¥½å›ç­”ã€ï¼Œæ¯”å¦‚æ¶‰åŠåˆ°ä¸åŒåœ°åŒºçš„ä¹ ä¿—å®—æ•™æ³•å¾‹çš„é—®é¢˜ï¼Œåˆæ¯”å¦‚è¿™ä¸ªä¸–ç•Œä¸Šå¤§å¤šæ•°é—®é¢˜éƒ½æ˜¯å¼€æ”¾æ€§é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³è¿™äº›é—®é¢˜è®©æ¨¡å‹å˜å¾—æ›´åŠ ã€Œåƒäººã€ã€‚</p>
<p>æ¯”è¾ƒå…¸å‹çš„åšæ³• RLHF å¤§ä½“ä¸Šåˆ†ä¸º2æ­¥ï¼š</p>
<p>é¦–å…ˆæˆ‘ä»¬è¦å»ºç«‹ä¸€ä¸ª<strong>å¥–åŠ±æ¨¡å‹ (Reward Modeling)</strong>ï¼Œè™½ç„¶æœ€ç†æƒ³çš„æƒ…å†µæ˜¯æ ¹æ®ä¸€ä¸ªæŒ‡ä»¤è®©æ¨¡å‹ç”Ÿæˆä¸åŒçš„å›ç­”ç„¶åè®©äººç±»ç›´æ¥æ¥æ ‡è®°æ‰“åˆ†ï¼Œä½†æ˜¯æƒ³æƒ³ä¹ŸçŸ¥é“è¿™æ˜¯å¤šä¹ˆå¤§çš„å·¥ä½œé‡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›äººç±»æ‰“åˆ†çš„æ ·æœ¬ï¼Œå»è®­ç»ƒä¸€ä¸ªå¥–åŠ±æ¨¡å‹ï¼Œè¿™ä¸ªâ€œå°è£åˆ¤â€æ¨¡å‹ä¼šå­¦ä¹ äººç±»çš„å–œå¥½ï¼Œåœ¨åç»­çš„æµ·é‡å·¥ä½œä¸­å®ƒå°†æ¨¡æ‹Ÿæ›¿ä»£äººç±»ã€ç»™æˆ‘ä»¬çš„è®­ç»ƒæ¨¡å‹çš„å¤šä¸ªå›ç­”æ‰“åˆ†æˆ–è€…æ ‡è®°å¥½å·®è¯„ã€‚æˆ‘è®°å¾—ä¹‹å‰åœ¨ç”¨ ChatGPT æ—¶ï¼Œæœ‰äº›æ—¶å€™å®ƒèƒ½ç”Ÿæˆä¸¤ç§å›ç­”å¹¶ä¸”ä¼šè®©ä½ é€‰æ‹©æ›´å–œæ¬¢çš„é£æ ¼æˆ–é€»è¾‘ï¼Œå…¶å®å’Œä¸Šè¿°çš„æµç¨‹ç±»ä¼¼ã€‚</p>
<p>å…¶æ¬¡å°±æ˜¯è¿›è¡Œå¼ºåŒ–å­¦ä¹  (PPO, Proximal Policy Optimization)ï¼Œåœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œæˆ‘ä»¬è®©æ¨¡å‹ä¸æ–­ç”Ÿæˆå›ç­”ï¼Œç„¶åè®©åˆšåˆšç”Ÿæˆçš„â€œå°è£åˆ¤â€å³<strong>å¥–åŠ±æ¨¡å‹</strong>æ‰“åˆ†ï¼Œæ¨¡å‹æ ¹æ®åˆ†æ•°è°ƒæ•´è‡ªå·±ï¼Œè¿™ç§ç®—æ³•å…¶å®ä¹Ÿæ˜¯â€œæ¦‚ç‡åå¥½ä¼˜åŒ–â€çš„ä¸€ç§å…·ä½“å®ç°ã€‚</p>
<p>ä½†æ˜¯æˆ‘æ‰“ç®—ç”¨ä¸€ç§æ›´<strong>ç°ä»£æ›´ç®€åŒ–çš„æ–¹å¼ï¼Œä¹Ÿå³ DPOï¼šç›´æ¥åå¥½ä¼˜åŒ– (DPO, Direct Preference Optimization)ã€‚</strong></p>
<p>å®ƒç›´æ¥è·³è¿‡äº†è®­ç»ƒâ€œè£åˆ¤â€çš„æ­¥éª¤ï¼Œç›´æ¥ç”¨ã€Œå¥½å›ç­” / åå›ç­”ã€çš„å¯¹æ¯”å¯¹æ¥è®­ç»ƒæ¨¡å‹ï¼Œç›¸å¯¹æ›´ç®€å•ã€é«˜æ•ˆã€çœæ˜¾å­˜ï¼›æ¯”å¦‚è¯´å¦‚æœç”¨ RLHF çš„æ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨å†…å­˜ä¸­éœ€è¦åŒæ—¶è¿è¡Œæ•°ä¸ªæ¨¡å‹ï¼šä¸€ä¸ªå¥–åŠ±æ¨¡å‹ã€è¢«è®­ç»ƒçš„æ¨¡å‹ã€åŸºå‡†æ¨¡å‹ã€è¿˜æœ‰ä¸€äº›å…¶ä»–é˜²æ­¢æ¨¡å‹è·‘åçš„é™„åŠ æ¨¡å‹ï¼Œé‚£æˆ‘çš„ç”µè„‘è‚¯å®šä¼šä¸å ªé‡è´Ÿï¼Œè€Œ <strong>DPO</strong> å…¶å®åªç”¨åŠ è½½ä¸¤ä¸ªæ¨¡å‹ï¼Œå³è¢«è®­ç»ƒçš„æ¨¡å‹å’ŒåŸºå‡†æ¨¡å‹ï¼Œè¿™ä¸ªåŸºå‡†æ¨¡å‹å…¶å®å°±æ˜¯ä¸Šé¢æˆ‘ä»¬ç»“æŸ SFT åçš„æ¨¡å‹ï¼Œå®ƒå­˜åœ¨çš„æ„ä¹‰æ˜¯ç”¨æ¥ä½œä¸ºæŸç§è·ç¦»è®¡ç®—çš„åŸºå‡†ï¼Œå¯ä»¥é˜²æ­¢æˆ‘ä»¬çš„æ¨¡å‹åœ¨åšå®Œ DPO åç¦»åŸæ¥å¤ªè¿œè€Œäº§ç”ŸåŠ£åŒ–ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å¤§è‡´çœ‹ä¸€çœ‹ç”¨æ¥åš DPO çš„æ•°æ®é›†æ ·ä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æœ¯åè‚Œç—›çš„é«˜å±å› ç´ æœ‰äº›ä»€ä¹ˆï¼Ÿ"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"response_chosen"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç¥ç€èƒ†ç¢±"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"response_rejected"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœ¯åç–¼ç—›æ˜¯å¸¸è§çš„å¹¶å‘ç—‡ä¹‹ä¸€ã€‚"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é«˜è¡€è„‚çš„å°±è¯Šç§‘å®¤æ˜¯ä»€ä¹ˆï¼Ÿ"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"response_chosen"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å†…ç§‘ï¼›å¿ƒå†…ç§‘"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"response_rejected"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é«˜è¡€å‹ã€ç³–å°¿ç—…ç­‰ç–¾ç—…æ‚£è€…åœ¨æ²»ç–—è¿‡ç¨‹ä¸­å¸¸å¸¸éœ€è¦è¿›è¡Œè¡€æ¶²æ£€æŸ¥ã€‚"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è€å¹´ç¯çŠ¶æ··åˆç—”çš„å¹¶å‘ç—‡æ˜¯ä»€ä¹ˆï¼Ÿ"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"response_chosen"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å† å¿ƒç—…ï¼›é«˜è¡€å‹ç—…ï¼›ç³–å°¿ç—…"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"response_rejected"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è€å¹´ç¯çŠ¶æ··åˆç—”çš„å¸¸è§å¹¶å‘ç—‡åŒ…æ‹¬ï¼šè‚›é—¨ç‹­çª„ã€ç›´è‚ è„±å‚å’Œå¤§ä¾¿ä¹ æƒ¯æ”¹å˜ã€‚"</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ä¸ªæ•°æ®ç»“æ„ä¸­åŒ…å«æˆå¯¹çš„æ•°æ®å³ï¼šåŒä¸€ä¸ªé—®é¢˜ï¼Œé™„åŠ ä¸€ä¸ªæ­£ç¡®çš„ã€æ›´å¥½ç­”æ¡ˆå’Œä¸€ä¸ªé”™è¯¯çš„ã€ä¸å¤ªå¥½çš„ä½†çœ‹èµ·æ¥å¾ˆåƒæ­£ç¡®çš„ç­”æ¡ˆï¼ŒæŠŠè¿™äº›æ•°æ®ä¸¢ç»™æ¨¡å‹å»è®­ç»ƒï¼Œæ¨¡å‹å¯ä»¥è¢«è®­ç»ƒå‡ºä½¿å›ç­”æ›´åæ›´å¥½çš„ç­”æ¡ˆçš„å½¢æ€ã€‚</p>
<p>DPO æµç¨‹å…¶å®ç‰¹åˆ«è€—æ—¶ï¼ŒDPO æ—¶æˆ‘çš„ç”µè„‘ä¼šæ‰¿å—æ¯” SFT é˜¶æ®µ<strong>é‡ 3-4 å€</strong>çš„è®¡ç®—å‹åŠ›</p>
<blockquote>
<p>DPO æ—¶ç”µè„‘å†…å­˜ä¸­å‘ç”Ÿçš„ä¸€äº›äº‹ï¼š</p>
<ul>
<li>
<p><strong>åŒæ¨¡å‹åŒæ­¥å‰å‘ä¼ æ’­</strong>ï¼šåœ¨ SFT æ—¶ï¼Œç”µè„‘åªéœ€è¦è·‘ä¸€ä¸ªæ¨¡å‹ã€‚è€Œåœ¨ DPO çš„æ¯ä¸€å•æ­¥é‡Œï¼Œç”µè„‘è¦åŒæ—¶è·‘ <strong>Policy Model</strong>ï¼ˆè®­ç»ƒæ¨¡å‹ï¼‰å’Œ <strong>Reference Model</strong>ï¼ˆå‚è€ƒæ¨¡å‹ï¼‰ã€‚<strong>è®¡ç®—ä¸¤æ¬¡ Logits</strong>ï¼š</p>
</li>
<li>
<p>æŠŠ <code>chosen</code>ï¼ˆå¥½å›ç­”ï¼‰å–‚ç»™ä¸¤ä¸ªæ¨¡å‹ï¼Œç®—æ¦‚ç‡å·®ã€‚</p>
</li>
<li>
<p>æŠŠ <code>rejected</code>ï¼ˆåå›ç­”ï¼‰å–‚ç»™ä¸¤ä¸ªæ¨¡å‹ï¼Œå†ç®—æ¦‚ç‡å·®ã€‚</p>
</li>
<li>
<p><strong>å¯¹æ•°å‡ ç‡æ¯”ï¼ˆLog Odds Ratioï¼‰è®¡ç®—</strong>ï¼šæ¨¡å‹éœ€è¦æ ¹æ®è¿™ä¸¤ç»„æ¦‚ç‡å·®ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæŸå¤±å€¼ï¼ˆLossï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¶‰åŠå¤§é‡çš„æµ®ç‚¹è¿ç®—ã€‚</p>
</li>
</ul>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/334def77f7ca4d19a463220d2c45bc7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=l%2FeJU0zQOroNdUxBk52dgPyuVww%3D" alt="" loading="lazy"/></p>
<p><strong>Rewards/accuracies (å¥–åŠ±å‡†ç¡®ç‡)åœ¨30%è½®æ¬¡æ—¶å°±å·²ç»</strong>é«˜è¾¾ **0.9375ï¼Œ**è¿™æ„å‘³ç€åœ¨å½“å‰çš„æ¯ä¸€ä¸ªå¤„ç†é‡‡æ ·é‡Œï¼Œæ¨¡å‹æœ‰ 93% çš„æŠŠæ¡è®¤ä¸º <code>chosen</code> ç¡®å®æ¯” <code>rejected</code> æ›´å¥½ã€‚</p>
<p>çœ‹ç›¸å…³çš„å‚æ•°æˆ‘è§‰å¾—æˆ‘ä»¬è¿™ä¸ªå°æ¨¡å‹å¯¹å¥½åçš„è®¤çŸ¥å·²ç»åŸºæœ¬å®šå‹ã€‚æ‰€ä»¥æˆ‘æœ€åå†³å®šä¸ç»§ç»­ç­‰å¾…ï¼Œè€Œæ˜¯æ‹¿æœ€æ–°çš„ç¬¬**<code>141æ­¥çš„checkpoint</code>**<strong>æ–‡ä»¶ä½œä¸º DPO çš„è®­ç»ƒç»“æœï¼Œä¹Ÿä½œä¸ºæˆ‘ä»¬è¿™ä¸ªã€ŒåŒ»ç–—å¤§æ¨¡å‹ã€çš„æœ€ç»ˆæˆæœã€‚</strong></p>
<h2 data-id="heading-9">ç»“æœåˆ†æ</h2>
<p>æˆ‘ä»¬é‡‡å–æœ€ç›´è§‚çš„æ–¹å¼æ¥åˆ†æç»“æœï¼šå†™ä¸€ä¸ªè„šæœ¬ï¼Œå®ƒç”¨äºåŠ è½½ä¸åŒæ­¥éª¤ç”Ÿæˆåçš„å…±è®¡3ä¸ªæ¨¡å‹ï¼šé¢„è®­ç»ƒç”Ÿæˆåçš„æ¨¡å‹ã€SFTåç”Ÿæˆçš„æ¨¡å‹ã€DPOåç”Ÿæˆçš„æ¨¡å‹ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å‘½ä»¤è¡Œæ‰“ä¸€ä¸ªé—®é¢˜ï¼Œä¸‹é¢å°±ä¼šè‡ªåŠ¨å‡ºç°ä¸‰ä¸ªæ¨¡å‹ç”Ÿæˆçš„å›å¤ä»¥ä¾¿è¿›è¡Œæ¯”è¾ƒï¼š</p>
<blockquote>
<p><strong>æ„å¤–ä½†åˆç†çš„ç»“æœæ˜¯ï¼Œæˆ‘å‘ç°æ•ˆæœæœ€å¥½çš„åè€Œæ˜¯åªç»è¿‡é¢„è®­ç»ƒçš„ Base Modelã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9499392bca8a4c78a85c2bb13c28c259~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=XivU8y51k99sluQY3%2BpNT4M2nK4%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7094958348fe4ca3bf1664a381f4f36d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=IfW4DXwKrnQ6gOHeSaWt333etyA%3D" alt="" loading="lazy"/></p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥ç®€å•åˆ†æä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆ SFT å’Œ DPO åè€Œå˜å·®äº†ï¼Ÿå…¶å®è¿˜æ˜¯ä¸Šé¢æåˆ°è¿‡çš„**ã€Œç¾éš¾æ€§é—å¿˜ã€**ã€‚</p>
<p>åœ¨æˆªå›¾é‡Œï¼Œå¯ä»¥æ¸…æ™°çœ‹åˆ°å¾®è°ƒå¸¦æ¥çš„å‰¯ä½œç”¨ï¼š</p>
<ul>
<li>
<p><strong>SFTï¼ˆæŒ‡ä»¤å¾®è°ƒï¼‰</strong>ï¼šå†…å®¹å˜å¾—åƒæ˜¯åœ¨â€œèƒŒæ¸…å•â€ï¼ˆ1...2...3...ï¼‰ã€‚è¿™æ˜¯å› ä¸º SFT æ•°æ®é›†é‡Œæœ‰å¾ˆå¤šåˆ†æ¡åˆ—ç‚¹çš„æ ¼å¼ï¼Œæ¨¡å‹å­¦ä¼šäº†è¿™ç§â€œè¯´è¯çš„è°ƒè°ƒâ€ï¼Œå´åœ¨æ¨¡ä»¿è¿‡ç¨‹ä¸­æŠŠ Base æ¨¡å‹é‡Œæ·±å±‚çš„åŒ»å­¦çŸ¥è¯†ç»™æŒ¤æ‰äº†ã€‚</p>
</li>
<li>
<p><strong>DPOï¼ˆåå¥½å¯¹é½ï¼‰</strong>ï¼šç»“å°¾å‡ºç°äº†å¤§é¢ç§¯çš„â€œç¥æ‚¨æ—©æ—¥åº·å¤ï¼ç¥æ‚¨æ—©æ—¥åº·å¤ï¼â€ã€‚è¿™æ˜¯å¾ˆå…¸å‹çš„ã€Œè¿‡æ‹Ÿåˆã€æˆ–ã€Œæ¨¡å¼å´©å¡Œã€ï¼šå› ä¸º DPO å¼ºè¿«æ¨¡å‹å»è¿åˆæŸä¸ªç‰¹å®šçš„å®¡ç¾ï¼Œæ¯”å¦‚æ›´æœ‰ç¤¼è²Œæˆ–è€…æ›´åƒåŒ»ç”Ÿï¼Œç»“æœå®ƒé‚£ä»…æœ‰çš„ 8M ã€Œè„‘å­ã€æ‰¿è½½ä¸äº†è¿™ç§å¤æ‚çš„è½¬å˜ï¼Œå¯¼è‡´å®ƒæœ€ååªå­¦ä¼šäº†åå¤è¾“å‡ºè¿™ç§é«˜åˆ†é‡‘å¥ï¼Œå› ä¸ºè¿™ä¸ªå¥å­æ¨¡å¼åœ¨è®­ç»ƒé›†ä¸­è¢«è®¤ä¸ºæ˜¯æ›´è¢«äººç±»åå¥½çš„ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬æ¨¡å‹çš„æ ¸å¿ƒçŸ›ç›¾å°±æ˜¯å…¶ 8M çš„å¤§è„‘å®¹é‡å®åœ¨æ˜¯æœ‰é™ï¼Œæˆ‘ä»¬ä¼šè¯´<strong>æ¨¡å‹è§„æ¨¡å†³å®šäº†å¾®è°ƒçš„ä¸Šé™</strong>ï¼Œä½ å¯ä»¥ç†è§£ä¸ºå› ä¸ºå‚æ•°å¤ªå°æ‰€ä»¥æˆ‘è®­ç»ƒçš„æ¨¡å‹åœ¨é¢„è®­ç»ƒé˜¶æ®µå¯èƒ½å°±å·²ç»æ²¡æœ‰ä»€ä¹ˆå†—ä½™äº†ï¼Œæ‰€ä»¥åç»­ç»§ç»­è®­ç»ƒæ—¶ï¼Œå½±å“çš„å‚æ•°ç»å¤§å¤šæ•°éƒ½æ˜¯ä¹‹å‰çš„å…³é”®å‚æ•°ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥è®¾ç½®å­¦ä¹ ç‡ã€æ¢¯åº¦ç­‰å‚æ•°æ¥ç¼“è§£è¿™ç§æ”¹å˜ï¼Œä½†æ˜¯å‚æ•°å˜äº†å°±æ˜¯å˜äº†ï¼Œå®ƒå¯èƒ½å°±æ˜¯ä¼šå¯¹ä¹‹å‰ä¹ å¾—çš„å‘é‡ç©ºé—´é‡Œå„ä¸ª token çš„ä½ç½®äº§ç”Ÿå½±å“ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬çš„æ¨¡å‹å…¶å®åœ¨é¢„è®­ç»ƒåæˆä¸ºåŸºç¡€æ¨¡å‹çš„è¡¨ç°ä¼šæ›´å¥½ï¼Œè¿™ä¹Ÿè¯æ˜è¿™ä»½ Huggingface ä¸Šçš„åŒ»ç–—<strong>é¢„è®­ç»ƒè¯­æ–™è´¨é‡å¾ˆé«˜ï¼›</strong> è€Œ SFT å’Œ DPO è¡¨ç°å‡ºçš„é€€æ­¥ï¼Œè¯´æ˜å¯¹äºæˆ‘ä»¬çš„ <strong>8M æ¨¡å‹</strong> æ¥è¯´ï¼Œè¿‡åº¦çš„ Alignmentï¼ˆå¯¹é½ï¼‰åè€ŒåŠ£åŒ–äº†ã€‚</p>
</blockquote>
<p><strong>æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬åç»­æ›´å¥½çš„è·¯å¾„å…¶å®æ˜¯ï¼š</strong></p>
<ol>
<li>
<p><strong>ä½¿ç”¨ Base æ¨¡å‹ä½œä¸ºæ ¸å¿ƒ</strong>ã€‚åç»­æˆ‘ä»¬è¿˜å¯ä»¥åšç®€å•å°‘é‡çš„ SFT ä»…ä»…è®©æ¨¡å‹å­¦ä¼šä¸€äº›å›ç­”çš„æ ¼å¼ï¼Œä½†DPOå¯ä»¥å…ˆä¸è€ƒè™‘</p>
</li>
<li>
<p><strong>å¯ä»¥ç»§ç»­è€ƒè™‘åš RAG (æ£€ç´¢å¢å¼º)</strong>ï¼šæˆ‘ä»¬å¯ä»¥è®© Base æ¨¡å‹æ ¹æ®æœç´¢åˆ°çš„å®æ—¶ä¸“ä¸šæ–‡æ¡£è¿›è¡Œæ€»ç»“ï¼Œè¿™æ ·å®ƒå°±ä¸éœ€è¦ç»§ç»­æ¶ˆè€—æœ¬å°±ä¸å¤šçš„å®è´µå‚æ•°é‡å»â€œèƒŒè¯µâ€çŸ¥è¯†ç›²åŒºå’Œæ–°çŸ¥è¯†äº†</p>
</li>
</ol>
<p>åç»­æˆ‘å°±æš‚ä¸ä¼˜åŒ–è¿™ä¸ªæ¨¡å‹äº†ï¼Œå› ä¸ºä¸»è¦æµç¨‹å’Œæ ¸å¿ƒéƒ½è·‘è¿‡äº†ï¼ŒRAGä¹Ÿåœ¨å…¶ä»–é¡¹ç›®ä¸­åšè¿‡äº†ï¼Œæ‰€ä»¥è¿™ä¸ªé¡¹ç›®è‡³æ­¤å®Œæˆã€‚</p>
<h3 data-id="heading-10">ç»“è¯­</h3>
<blockquote>
<p>GitHub åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FChacha-Bing%2Fmed_model_learning" target="_blank" title="https://github.com/Chacha-Bing/med_model_learning" ref="nofollow noopener noreferrer">github.com/Chacha-Bingâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e118a445ce7c408eb0174abc34e7f7fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yaw6Iy26Iy2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770803570&amp;x-signature=5I3gd92zilO8yeODczxXl%2FppvDQ%3D" alt="" loading="lazy"/></p>
</blockquote>
<p>æˆ‘åœ¨å‰ä¸¤å‘¨è¿˜æ˜¯ä¸€ä¸ªå¯¹äººå·¥æ™ºèƒ½ã€å¯¹ä»¥ä¸ŠçŸ¥è¯†å‡ä¸€æ— æ‰€çŸ¥çš„å°ç™½ï¼Œåˆ°ç°åœ¨å·²ç»èƒ½å¤Ÿç®€å•åœ°è·‘é€šä¸€ä¸ªæ¨¡å‹çš„è®­ç»ƒæµç¨‹ï¼Œå¯ä»¥è¯´æ˜¯ç®—å·²ç»å…¥é—¨äº†ï¼Œå¯¹æ­¤è¿˜æ˜¯æ„Ÿåˆ°éå¸¸æœ‰è¶£å’Œå¼€å¿ƒçš„ã€‚</p>
<p>å†™è¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯æƒæŠŠè‡ªå·±çš„ä¸€äº›å­¦ä¹ å¿ƒå¾—å’Œå®éªŒæµç¨‹è®°å½•ä¸‹æ¥ä¾›å¤§å®¶å‚è€ƒï¼Œæˆ–è®¸ä¹Ÿæœ‰è®¸å¤šå°ç™½å’Œæˆ‘åœ¨å„ä¸ªé˜¶æ®µæœ‰ç›¸åŒçš„ç–‘æƒ‘ï¼Œé‚£ä¹ˆå°±æ„Ÿè°¢å„ä½çš„é˜…è¯»å•¦ï¼Œåç»­å¦‚æœæˆ‘ç»§ç»­åšäº†ä»€ä¹ˆæœ‰è¶£çš„å°ä¸œè¥¿æˆ‘ä¼šç»§ç»­è¾“å‡ºçš„~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaè‡ªå®šä¹‰æ³¨è§£å®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°å®æˆ˜è½åœ°]]></title>    <link>https://juejin.cn/post/7602162809291718694</link>    <guid>https://juejin.cn/post/7602162809291718694</guid>    <pubDate>2026-02-03T01:16:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602162809291718694" data-draft-id="7602070768963141658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaè‡ªå®šä¹‰æ³¨è§£å®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°å®æˆ˜è½åœ°"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2026-02-03T01:16:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaè‡ªå®šä¹‰æ³¨è§£å®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°å®æˆ˜è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T01:16:47.000Z" title="Tue Feb 03 2026 01:16:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Javaè‡ªå®šä¹‰æ³¨è§£å®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°å®æˆ˜è½åœ°</h2>
<p>åœ¨Javaå¼€å‘ä¸­ï¼Œæ³¨è§£ï¼ˆAnnotationï¼‰æ˜¯ä¸€ç§å…ƒæ•°æ®å½¢å¼ï¼Œå®ƒä¸ç›´æ¥å½±å“ä»£ç çš„æ‰§è¡Œé€»è¾‘ï¼Œå´èƒ½ä¸ºä»£ç æä¾›é¢å¤–çš„æè¿°ä¿¡æ¯ï¼Œè¢«ç¼–è¯‘å™¨ã€æ¡†æ¶æˆ–å·¥å…·è§£æåˆ©ç”¨ã€‚ä»JDKå†…ç½®çš„<code>@Override</code>ã€<code>@Deprecated</code>ï¼Œåˆ°Springçš„<code>@Controller</code>ã€MyBatisçš„<code>@Mapper</code>ï¼Œæ³¨è§£å·²æˆä¸ºæ¡†æ¶å¼€å‘ã€ä»£ç ç®€åŒ–ã€é€»è¾‘è§£è€¦çš„æ ¸å¿ƒæ‰‹æ®µã€‚è€Œè‡ªå®šä¹‰æ³¨è§£ï¼Œæ›´æ˜¯è®©å¼€å‘è€…èƒ½å¤Ÿæ ¹æ®ä¸šåŠ¡éœ€æ±‚å°è£…ä¸“å±å…ƒæ•°æ®ï¼Œå®ç°çµæ´»çš„åŠŸèƒ½æ‰©å±•ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µåˆ°å®æˆ˜åœºæ™¯ï¼Œå…¨é¢æ‹†è§£è‡ªå®šä¹‰æ³¨è§£çš„å®šä¹‰ã€è§£æä¸åº”ç”¨ï¼ŒåŠ©åŠ›å¼€å‘è€…æŒæ¡è¿™ä¸€æ ¸å¿ƒæŠ€èƒ½ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æ³¨è§£æ ¸å¿ƒè®¤çŸ¥ï¼šä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ</h3>
<p>æ³¨è§£æ˜¯Java 5å¼•å…¥çš„ç‰¹æ€§ï¼Œæœ¬è´¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¥å£ï¼ˆç»§æ‰¿è‡ª<code>java.lang.annotation.Annotation</code>ï¼‰ï¼Œç”¨äºåœ¨ä»£ç ä¸­åµŒå…¥å…ƒæ•°æ®ã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºâ€œ<strong>è§£è€¦</strong>â€â€”â€”å°†éä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚æ—¥å¿—ã€æƒé™ã€æ ¡éªŒã€é…ç½®ï¼‰ä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼Œç”±ä¸“é—¨çš„å¤„ç†å™¨è§£ææ³¨è§£å¹¶æ‰§è¡Œå¯¹åº”é€»è¾‘ï¼Œå¤§å¹…æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œçµæ´»æ€§ã€‚</p>
<h4 data-id="heading-2">1. æ³¨è§£çš„åˆ†ç±»</h4>
<p>æŒ‰ä½¿ç”¨åœºæ™¯å’Œä½œç”¨èŒƒå›´ï¼Œæ³¨è§£å¯åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<ul>
<li><strong>å†…ç½®æ³¨è§£</strong>ï¼šJDKè‡ªå¸¦ï¼Œç”¨äºæ ‡å‡†å¼€å‘åœºæ™¯ï¼Œå¦‚<code>@Override</code>ï¼ˆé‡å†™æ ¡éªŒï¼‰ã€<code>@Deprecated</code>ï¼ˆæ ‡è®°è¿‡æ—¶ï¼‰ã€<code>@SuppressWarnings</code>ï¼ˆå‹åˆ¶è­¦å‘Šï¼‰ï¼›</li>
<li><strong>ç¬¬ä¸‰æ–¹æ¡†æ¶æ³¨è§£</strong>ï¼šæ¡†æ¶å°è£…çš„åŠŸèƒ½æ³¨è§£ï¼Œå¦‚Springçš„<code>@Autowired</code>ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ã€MyBatisçš„<code>@Select</code>ï¼ˆSQLæ˜ å°„ï¼‰ã€Lombokçš„<code>@Data</code>ï¼ˆå±æ€§ç”Ÿæˆï¼‰ï¼›</li>
<li><strong>è‡ªå®šä¹‰æ³¨è§£</strong>ï¼šå¼€å‘è€…æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰çš„æ³¨è§£ï¼Œç”¨äºå°è£…ä¸“å±å…ƒæ•°æ®ï¼Œå¦‚æ¥å£æƒé™æ ¡éªŒæ³¨è§£ã€æ—¥å¿—è®°å½•æ³¨è§£ã€å‚æ•°æ ¡éªŒæ³¨è§£ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-3">2. æ³¨è§£çš„æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li>å…ƒæ•°æ®å±æ€§ï¼šæ³¨è§£å¯åŒ…å«å¤šä¸ªå±æ€§ï¼Œç”¨äºå­˜å‚¨å…·ä½“çš„é…ç½®ä¿¡æ¯ï¼ˆå¦‚æ³¨è§£å‚æ•°ã€ç”Ÿæ•ˆèŒƒå›´ï¼‰ï¼›</li>
<li>æ— æ‰§è¡Œé€»è¾‘ï¼šæ³¨è§£æœ¬èº«ä»…æä¾›å…ƒæ•°æ®ï¼Œéœ€é…åˆâ€œæ³¨è§£å¤„ç†å™¨â€ï¼ˆè§£æå·¥å…·ï¼‰æ‰èƒ½å®ç°åŠŸèƒ½ï¼›</li>
<li>å¯ä½œç”¨äºå¤šå…ƒç´ ï¼šæ³¨è§£å¯æ ‡æ³¨åœ¨ç±»ã€æ–¹æ³•ã€å­—æ®µã€å‚æ•°ã€åŒ…ç­‰Javaå…ƒç´ ä¸Šï¼Œå…·ä½“èŒƒå›´ç”±å…ƒæ³¨è§£æŒ‡å®šã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€è‡ªå®šä¹‰æ³¨è§£åŸºç¡€ï¼šå®šä¹‰è¯­æ³•ä¸å…ƒæ³¨è§£</h3>
<p>è‡ªå®šä¹‰æ³¨è§£çš„æ ¸å¿ƒæ˜¯â€œ<strong>å…ƒæ³¨è§£ + æ³¨è§£å±æ€§</strong>â€ï¼šå…ƒæ³¨è§£ç”¨äºå®šä¹‰æ³¨è§£çš„è‡ªèº«è¡Œä¸ºï¼ˆå¦‚ç”Ÿæ•ˆèŒƒå›´ã€ç”Ÿå‘½å‘¨æœŸï¼‰ï¼Œæ³¨è§£å±æ€§ç”¨äºå­˜å‚¨è‡ªå®šä¹‰é…ç½®ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-5">1. å…ƒæ³¨è§£ï¼šæ³¨è§£çš„â€œæ³¨è§£â€</h4>
<p>JDKæä¾›4ä¸ªæ ¸å¿ƒå…ƒæ³¨è§£ï¼Œç”¨äºçº¦æŸè‡ªå®šä¹‰æ³¨è§£çš„ç‰¹æ€§ï¼Œæ˜¯è‡ªå®šä¹‰æ³¨è§£çš„å¿…å¤‡è¦ç´ ï¼š</p>






























<table><thead><tr><th>å…ƒæ³¨è§£</th><th>ä½œç”¨</th><th>å¸¸ç”¨å–å€¼</th></tr></thead><tbody><tr><td><code>@Target</code></td><td>æŒ‡å®šæ³¨è§£å¯ä½œç”¨çš„Javaå…ƒç´ èŒƒå›´</td><td><code>ElementType.TYPE</code>ï¼ˆç±»/æ¥å£ï¼‰ã€<code>METHOD</code>ï¼ˆæ–¹æ³•ï¼‰ã€<code>FIELD</code>ï¼ˆå­—æ®µï¼‰ã€<code>PARAMETER</code>ï¼ˆå‚æ•°ï¼‰ã€<code>CONSTRUCTOR</code>ï¼ˆæ„é€ å™¨ï¼‰ç­‰</td></tr><tr><td><code>@Retention</code></td><td>æŒ‡å®šæ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä¿ç•™é˜¶æ®µï¼‰</td><td><code>RetentionPolicy.SOURCE</code>ï¼ˆä»…æºç ï¼Œç¼–è¯‘åä¸¢å¼ƒï¼‰ã€<code>CLASS</code>ï¼ˆç¼–è¯‘åä¿ç•™åœ¨classæ–‡ä»¶ï¼Œè¿è¡Œæ—¶ä¸¢å¼ƒï¼Œé»˜è®¤ï¼‰ã€<code>RUNTIME</code>ï¼ˆè¿è¡Œæ—¶ä¿ç•™ï¼Œå¯é€šè¿‡åå°„è§£æï¼Œæœ€å¸¸ç”¨ï¼‰</td></tr><tr><td><code>@Documented</code></td><td>æŒ‡å®šæ³¨è§£æ˜¯å¦è¢«<code>javadoc</code>å·¥å…·ç”Ÿæˆæ–‡æ¡£</td><td>æ— å–å€¼ï¼Œä»…ä½œä¸ºæ ‡è®°</td></tr><tr><td><code>@Inherited</code></td><td>æŒ‡å®šæ³¨è§£æ˜¯å¦å¯è¢«å­ç±»ç»§æ‰¿ï¼ˆä»…ä½œç”¨äºç±»æ³¨è§£ï¼‰</td><td>æ— å–å€¼ï¼Œä»…ä½œä¸ºæ ‡è®°</td></tr></tbody></table>
<p>æ ¸å¿ƒæé†’ï¼š<code>@Retention(RetentionPolicy.RUNTIME)</code>æ˜¯å¤šæ•°å®æˆ˜åœºæ™¯çš„å¿…å¤‡é…ç½®ï¼Œåªæœ‰è®¾ç½®ä¸ºRUNTIMEï¼Œæ‰èƒ½åœ¨ç¨‹åºè¿è¡Œæ—¶é€šè¿‡åå°„è§£ææ³¨è§£ï¼Œå®ç°åŠ¨æ€åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-6">2. è‡ªå®šä¹‰æ³¨è§£å®šä¹‰è¯­æ³•</h4>
<p>è‡ªå®šä¹‰æ³¨è§£ä½¿ç”¨<code>@interface</code>å…³é”®å­—å£°æ˜ï¼Œè¯­æ³•ç»“æ„ä¸ºï¼šå…ƒæ³¨è§£ + æ³¨è§£åç§° + æ³¨è§£å±æ€§ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å…ƒæ³¨è§£ç»„åˆ</span>
<span class="hljs-variable">@Target</span>({ElementType.METHOD, ElementType.TYPE}) <span class="hljs-comment">// ä½œç”¨äºç±»å’Œæ–¹æ³•</span>
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME) <span class="hljs-comment">// è¿è¡Œæ—¶ä¿ç•™ï¼Œæ”¯æŒåå°„è§£æ</span>
<span class="hljs-variable">@Documented</span> <span class="hljs-comment">// ç”Ÿæˆjavadocæ–‡æ¡£</span>
<span class="hljs-variable">@Inherited</span> <span class="hljs-comment">// å…è®¸å­ç±»ç»§æ‰¿</span>
public <span class="hljs-variable">@interface</span> MyAnnotation {
    <span class="hljs-comment">// æ³¨è§£å±æ€§ï¼šæ ¼å¼ä¸ºâ€œå±æ€§ç±»å‹ å±æ€§å() [default é»˜è®¤å€¼];â€</span>
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">value</span>() <span class="hljs-selector-tag">default</span> ""; <span class="hljs-comment">// ç‰¹æ®Šå±æ€§ï¼švalueï¼Œä½¿ç”¨æ—¶å¯çœç•¥å±æ€§åç›´æ¥èµ‹å€¼</span>
    <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">order</span>() <span class="hljs-selector-tag">default</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// æ™®é€šå±æ€§ï¼Œå¸¦é»˜è®¤å€¼</span>
    <span class="hljs-selector-tag">String</span><span class="hljs-selector-attr">[]</span> <span class="hljs-selector-tag">tags</span>(); <span class="hljs-comment">// æ•°ç»„ç±»å‹å±æ€§ï¼Œæ— é»˜è®¤å€¼ï¼Œä½¿ç”¨æ—¶å¿…é¡»èµ‹å€¼</span>
}
</code></pre>
<h4 data-id="heading-7">3. æ³¨è§£å±æ€§çš„è§„åˆ™ä¸æ³¨æ„äº‹é¡¹</h4>
<p>æ³¨è§£å±æ€§çš„å£°æ˜æœ‰ä¸¥æ ¼è§„åˆ™ï¼Œä¸ç¬¦åˆè§„åˆ™ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼š</p>
<ul>
<li><strong>å±æ€§ç±»å‹é™åˆ¶</strong>ï¼šä»…æ”¯æŒåŸºæœ¬ç±»å‹ï¼ˆintã€booleanç­‰ï¼‰ã€Stringã€Classã€æšä¸¾ã€æ³¨è§£ï¼ŒåŠä»¥ä¸Šç±»å‹çš„æ•°ç»„ï¼›ä¸æ”¯æŒå¯¹è±¡ã€é›†åˆç­‰å¤æ‚ç±»å‹ã€‚</li>
<li><strong>é»˜è®¤å€¼è§„åˆ™</strong>ï¼šå±æ€§å¯é€šè¿‡<code>default</code>æŒ‡å®šé»˜è®¤å€¼ï¼Œæ— é»˜è®¤å€¼çš„å±æ€§ï¼Œä½¿ç”¨æ³¨è§£æ—¶å¿…é¡»æ˜¾å¼èµ‹å€¼ã€‚</li>
<li><strong>valueå±æ€§ç‰¹æ®Š</strong>ï¼šè‹¥æ³¨è§£ä»…å«valueä¸€ä¸ªå±æ€§ï¼Œæˆ–å…¶ä»–å±æ€§éƒ½æœ‰é»˜è®¤å€¼ï¼Œä½¿ç”¨æ—¶å¯çœç•¥â€œvalue=â€ï¼Œç›´æ¥èµ‹å€¼ï¼›è‹¥æœ‰å¤šä¸ªå±æ€§æ— é»˜è®¤å€¼ï¼Œå¿…é¡»æ˜¾å¼æŒ‡å®šå±æ€§åã€‚</li>
<li><strong>æ•°ç»„å±æ€§èµ‹å€¼</strong>ï¼šå•ä¸ªå€¼å¯ç›´æ¥èµ‹å€¼ï¼Œå¤šä¸ªå€¼éœ€ç”¨<code>{}</code>åŒ…è£¹ï¼Œå¦‚<code>tags = {"log", "auth"}</code>ã€‚</li>
</ul>
<h4 data-id="heading-8">4. æ³¨è§£çš„ä½¿ç”¨æ–¹å¼</h4>
<p>å®šä¹‰å®Œæ³¨è§£åï¼Œå¯åœ¨æŒ‡å®šèŒƒå›´çš„Javaå…ƒç´ ä¸Šä½¿ç”¨ï¼Œæ ¹æ®å±æ€§æ˜¯å¦æœ‰é»˜è®¤å€¼ï¼Œèµ‹å€¼æ–¹å¼ä¸åŒï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½œç”¨äºç±»ï¼Œæ‰€æœ‰å±æ€§æ˜¾å¼èµ‹å€¼</span>
<span class="hljs-meta">@MyAnnotation(value = <span class="hljs-string">"user-service"</span>, order = 1, tags = {<span class="hljs-string">"service"</span>, <span class="hljs-string">"user"</span>})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-comment">// ä½œç”¨äºæ–¹æ³•ï¼Œvalueå±æ€§çœç•¥åç§°ï¼Œtagsèµ‹å€¼å•ä¸ªå€¼</span>
    <span class="hljs-meta">@MyAnnotation(<span class="hljs-string">"get-user"</span>)</span>
    <span class="hljs-keyword">public</span> User getUserById(<span class="hljs-meta">@MyAnnotation(<span class="hljs-string">"user-id"</span>)</span> <span class="hljs-built_in">Long</span> id) {
        <span class="hljs-keyword">return</span> new User();
    }
}
</code></pre>
<h3 data-id="heading-9">ä¸‰ã€è‡ªå®šä¹‰æ³¨è§£å®æˆ˜ï¼šè§£æä¸åŠŸèƒ½è½åœ°</h3>
<p>æ³¨è§£æœ¬èº«ä»…ä¸ºå…ƒæ•°æ®ï¼Œéœ€é€šè¿‡â€œæ³¨è§£å¤„ç†å™¨â€è§£æå¹¶æ‰§è¡Œé€»è¾‘ã€‚æ ¹æ®æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼Œè§£ææ–¹å¼åˆ†ä¸ºä¸¤ç±»ï¼š<code>SOURCE</code>é˜¶æ®µé€šè¿‡APTï¼ˆæ³¨è§£å¤„ç†å™¨å·¥å…·ï¼‰è§£æï¼Œ<code>RUNTIME</code>é˜¶æ®µé€šè¿‡åå°„è§£æã€‚å…¶ä¸­ï¼Œåå°„è§£ææ˜¯æœ€å¸¸ç”¨ã€æœ€çµæ´»çš„æ–¹å¼ï¼Œé€‚ç”¨äºå¤šæ•°ä¸šåŠ¡åœºæ™¯ã€‚</p>
<h4 data-id="heading-10">å®æˆ˜åœºæ™¯1ï¼šæ¥å£æ—¥å¿—è®°å½•æ³¨è§£</h4>
<p>éœ€æ±‚ï¼šè‡ªå®šä¹‰<code>@LogRecord</code>æ³¨è§£ï¼Œæ ‡æ³¨åœ¨æ¥å£æ–¹æ³•ä¸Šï¼Œè®°å½•æ–¹æ³•è°ƒç”¨è€…ã€è°ƒç”¨æ—¶é—´ã€æ‰§è¡Œè€—æ—¶ï¼Œå®ç°æ— ä¾µå…¥å¼æ—¥å¿—è®°å½•ã€‚</p>
<h5 data-id="heading-11">1. å®šä¹‰æ³¨è§£</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-meta">@Target(ElementType.METHOD)</span> <span class="hljs-comment">// ä»…ä½œç”¨äºæ–¹æ³•</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="hljs-comment">// è¿è¡Œæ—¶ä¿ç•™ï¼Œæ”¯æŒåå°„</span>
<span class="hljs-meta">@Documented</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> LogRecord {
    <span class="hljs-comment">// æ—¥å¿—æè¿°ï¼Œé»˜è®¤å–æ–¹æ³•å</span>
    String <span class="hljs-title function_">desc</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
    <span class="hljs-comment">// æ˜¯å¦è®°å½•è¯·æ±‚å‚æ•°</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">recordParam</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;
    <span class="hljs-comment">// æ˜¯å¦è®°å½•è¿”å›ç»“æœ</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">recordResult</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">false</span>;
}
</code></pre>
<h5 data-id="heading-12">2. å®ç°æ³¨è§£å¤„ç†å™¨ï¼ˆåå°„è§£æï¼‰</h5>
<p>é€šè¿‡Spring AOPæ‹¦æˆªæ ‡æ³¨äº†<code>@LogRecord</code>çš„æ–¹æ³•ï¼Œåå°„è§£ææ³¨è§£å±æ€§ï¼Œæ‰§è¡Œæ—¥å¿—è®°å½•é€»è¾‘ï¼ˆéSpringç¯å¢ƒå¯é€šè¿‡åŠ¨æ€ä»£ç†å®ç°ï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import org.aspectj.lang.ProceedingJoinPoint<span class="hljs-comment">;</span>
import org.aspectj.lang.annotation.Around<span class="hljs-comment">;</span>
import org.aspectj.lang.annotation.Aspect<span class="hljs-comment">;</span>
import org.aspectj.lang.reflect.MethodSignature<span class="hljs-comment">;</span>
import org.springframework.stereotype.Component<span class="hljs-comment">;</span>
import java.lang.reflect.Method<span class="hljs-comment">;</span>
import java.time.LocalDateTime<span class="hljs-comment">;</span>

// åˆ‡é¢ç±»ï¼Œæ‹¦æˆªæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•
@Aspect
@Component
public class LogRecordAspect {

    // åˆ‡å…¥ç‚¹ï¼šæ‹¦æˆªæ‰€æœ‰æ ‡æ³¨@LogRecordçš„æ–¹æ³•
    @Around("@annotation(com.example.annotation.LogRecord)")
    public Object around(ProceedingJoinPoint joinPoint) throws Throwable {
        // 1. åå°„è·å–æ–¹æ³•åŠæ³¨è§£å±æ€§
        MethodSignature <span class="hljs-attr">signature</span> = (MethodSignature) joinPoint.getSignature()<span class="hljs-comment">;</span>
        Method <span class="hljs-attr">method</span> = signature.getMethod()<span class="hljs-comment">;</span>
        LogRecord <span class="hljs-attr">logRecord</span> = method.getAnnotation(LogRecord.class)<span class="hljs-comment">;</span>

        // 2. è§£ææ³¨è§£å±æ€§
        String <span class="hljs-attr">desc</span> = logRecord.desc().isEmpty() ? method.getName() : logRecord.desc()<span class="hljs-comment">;</span>
        boolean <span class="hljs-attr">recordParam</span> = logRecord.recordParam()<span class="hljs-comment">;</span>
        boolean <span class="hljs-attr">recordResult</span> = logRecord.recordResult()<span class="hljs-comment">;</span>

        // 3. æ—¥å¿—å‰ç½®è®°å½•
        LocalDateTime <span class="hljs-attr">startTime</span> = LocalDateTime.now()<span class="hljs-comment">;</span>
        String <span class="hljs-attr">username</span> = getCurrentUsername()<span class="hljs-comment">; // æ¨¡æ‹Ÿè·å–å½“å‰ç™»å½•ç”¨æˆ·</span>
        System.out.printf("<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> æ—¶é—´ï¼š%sï¼Œç”¨æˆ·ï¼š%sï¼Œæ“ä½œï¼š%s%n", startTime, username, desc)<span class="hljs-comment">;</span>
        if (recordParam) {
            Object<span class="hljs-section">[]</span> <span class="hljs-attr">args</span> = joinPoint.getArgs()<span class="hljs-comment">;</span>
            System.out.printf("<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> è¯·æ±‚å‚æ•°ï¼š%s%n", args)<span class="hljs-comment">;</span>
        }

        // 4. æ‰§è¡Œç›®æ ‡æ–¹æ³•
        long <span class="hljs-attr">start</span> = System.currentTimeMillis()<span class="hljs-comment">;</span>
        Object <span class="hljs-attr">result</span> = joinPoint.proceed()<span class="hljs-comment">; // æ‰§è¡ŒåŸæ–¹æ³•</span>
        long <span class="hljs-attr">cost</span> = System.currentTimeMillis() - start<span class="hljs-comment">;</span>

        // 5. æ—¥å¿—åç½®è®°å½•
        if (recordResult) {
            System.out.printf("<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> è¿”å›ç»“æœï¼š%s%n", result)<span class="hljs-comment">;</span>
        }
        System.out.printf("<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> æ‰§è¡Œè€—æ—¶ï¼š%dms%n", cost)<span class="hljs-comment">;</span>

        return result<span class="hljs-comment">;</span>
    }

    // æ¨¡æ‹Ÿè·å–å½“å‰ç™»å½•ç”¨æˆ·
    private String getCurrentUsername() {
        return "admin"<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h5 data-id="heading-13">3. æ³¨è§£ä½¿ç”¨ä¸æ•ˆæœéªŒè¯</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/user"</span>)
public class UserController {

    <span class="hljs-comment">// ä½¿ç”¨æ—¥å¿—æ³¨è§£ï¼Œé…ç½®è®°å½•å‚æ•°å’Œç»“æœ</span>
    <span class="hljs-variable">@LogRecord</span>(desc = <span class="hljs-string">"æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·"</span>, recordParam = true, recordResult = true)
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/{id}"</span>)
    public User <span class="hljs-built_in">getUserById</span>(<span class="hljs-variable">@PathVariable</span> Long id) {
        <span class="hljs-selector-tag">User</span> <span class="hljs-selector-tag">user</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">User</span>();
        <span class="hljs-selector-tag">user</span><span class="hljs-selector-class">.setId</span>(id);
        <span class="hljs-selector-tag">user</span><span class="hljs-selector-class">.setUsername</span>(<span class="hljs-string">"zhangsan"</span>);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">user</span>;
    }
}
</code></pre>
<p>è°ƒç”¨æ¥å£åï¼Œæ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[æ—¥å¿—è®°å½•]</span> æ—¶é—´ï¼š2026-01-29T15:30:00ï¼Œç”¨æˆ·ï¼šadminï¼Œæ“ä½œï¼šæ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·
<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> è¯·æ±‚å‚æ•°ï¼š<span class="hljs-section">[1]</span>
<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> è¿”å›ç»“æœï¼šUser(<span class="hljs-attr">id</span>=<span class="hljs-number">1</span>, username=zhangsan)
<span class="hljs-section">[æ—¥å¿—è®°å½•]</span> æ‰§è¡Œè€—æ—¶ï¼š12ms
</code></pre>
<h4 data-id="heading-14">å®æˆ˜åœºæ™¯2ï¼šæ¥å£æƒé™æ ¡éªŒæ³¨è§£</h4>
<p>éœ€æ±‚ï¼šè‡ªå®šä¹‰<code>@RequiresPermission</code>æ³¨è§£ï¼Œæ ‡æ³¨åœ¨æ¥å£æ–¹æ³•ä¸Šï¼Œæ ¡éªŒå½“å‰ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æŒ‡å®šæƒé™ï¼Œæ— æƒé™åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h5 data-id="heading-15">1. å®šä¹‰æ³¨è§£</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Target</span>(ElementType.METHOD)
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-variable">@Documented</span>
public <span class="hljs-variable">@interface</span> RequiresPermission {
    <span class="hljs-comment">// æ‰€éœ€æƒé™æ ‡è¯†ï¼ˆæ”¯æŒå¤šä¸ªï¼‰</span>
    <span class="hljs-selector-tag">String</span><span class="hljs-selector-attr">[]</span> <span class="hljs-selector-tag">value</span>();
    <span class="hljs-comment">// æ— æƒé™æ—¶çš„æç¤ºä¿¡æ¯</span>
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">message</span>() <span class="hljs-selector-tag">default</span> "æ— æƒé™è®¿é—®è¯¥æ¥å£";
}
</code></pre>
<h5 data-id="heading-16">2. å®ç°æƒé™æ ¡éªŒåˆ‡é¢</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Aspect</span>
<span class="hljs-keyword">@Component</span>
public class PermissionAspect {

    <span class="hljs-keyword">@Around</span>(<span class="hljs-string">"@annotation(com.example.annotation.RequiresPermission)"</span>)
    public Object checkPermission(ProceedingJoinPoint joinPoint) throws Throwable {
        <span class="hljs-comment">// 1. è§£ææ³¨è§£</span>
        MethodSignature signature = (MethodSignature) joinPoint<span class="hljs-selector-class">.getSignature</span>();
        RequiresPermission permission = signature<span class="hljs-selector-class">.getMethod</span>()<span class="hljs-selector-class">.getAnnotation</span>(RequiresPermission.class);
        String<span class="hljs-selector-attr">[]</span> requiredPermissions = permission<span class="hljs-selector-class">.value</span>();
        String message = permission<span class="hljs-selector-class">.message</span>();

        <span class="hljs-comment">// 2. è·å–å½“å‰ç”¨æˆ·æ‹¥æœ‰çš„æƒé™ï¼ˆæ¨¡æ‹Ÿä»ç™»å½•ä¸Šä¸‹æ–‡è·å–ï¼‰</span>
        List&lt;String&gt; userPermissions = <span class="hljs-built_in">getCurrentUserPermissions</span>();

        <span class="hljs-comment">// 3. æƒé™æ ¡éªŒ</span>
        boolean hasPermission = Arrays<span class="hljs-selector-class">.stream</span>(requiredPermissions)
                <span class="hljs-selector-class">.anyMatch</span>(userPermissions::contains);
        if (!hasPermission) {
            throw new <span class="hljs-built_in">RuntimeException</span>(message);
        }

        <span class="hljs-comment">// 4. æ ¡éªŒé€šè¿‡ï¼Œæ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
        return joinPoint<span class="hljs-selector-class">.proceed</span>();
    }

    <span class="hljs-comment">// æ¨¡æ‹Ÿè·å–å½“å‰ç”¨æˆ·æƒé™</span>
    private List&lt;String&gt; <span class="hljs-built_in">getCurrentUserPermissions</span>() {
        return Arrays<span class="hljs-selector-class">.asList</span>("user:query", "user:add"); <span class="hljs-comment">//  adminç”¨æˆ·æ‹¥æœ‰çš„æƒé™</span>
    }
}
</code></pre>
<h5 data-id="heading-17">3. æ³¨è§£ä½¿ç”¨ä¸æ•ˆæœéªŒè¯</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/user"</span>)
public class UserController {

    <span class="hljs-comment">// è¦æ±‚æ‹¥æœ‰"user:query"æƒé™</span>
    <span class="hljs-variable">@RequiresPermission</span>(<span class="hljs-string">"user:query"</span>)
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/{id}"</span>)
    public User <span class="hljs-built_in">getUserById</span>(<span class="hljs-variable">@PathVariable</span> Long id) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">User</span>(id, <span class="hljs-string">"zhangsan"</span>);
    }

    <span class="hljs-comment">// è¦æ±‚æ‹¥æœ‰"user:delete"æƒé™ï¼ˆå½“å‰ç”¨æˆ·æ— æ­¤æƒé™ï¼‰</span>
    @<span class="hljs-selector-tag">RequiresPermission</span>(value = <span class="hljs-string">"user:delete"</span>, message = <span class="hljs-string">"æ— åˆ é™¤ç”¨æˆ·æƒé™"</span>)
    @<span class="hljs-selector-tag">DeleteMapping</span>(<span class="hljs-string">"/{id}"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">deleteUser</span>(<span class="hljs-variable">@PathVariable</span> Long id) {
        <span class="hljs-selector-tag">return</span> "åˆ é™¤æˆåŠŸ";
    }
}
</code></pre>
<p>è°ƒç”¨åˆ é™¤æ¥å£æ—¶ï¼Œå› æ— æƒé™æŠ›å‡ºå¼‚å¸¸ï¼š<code>java.lang.RuntimeException: æ— åˆ é™¤ç”¨æˆ·æƒé™</code>ï¼Œå®ç°æƒé™æ ¡éªŒåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-18">å››ã€è‡ªå®šä¹‰æ³¨è§£è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-19">1. æ³¨è§£ç»„åˆï¼šå¤ç”¨æ³¨è§£é€»è¾‘</h4>
<p>å¯å°†å¤šä¸ªæ³¨è§£ç»„åˆä¸ºä¸€ä¸ªå¤åˆæ³¨è§£ï¼Œç®€åŒ–ä½¿ç”¨åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå°†æ—¥å¿—è®°å½•ä¸æƒé™æ ¡éªŒæ³¨è§£ç»„åˆä¸º<code>@LogAndAuth</code>ï¼Œæ ‡æ³¨ä¸€æ¬¡å³å¯è§¦å‘ä¸¤ä¸ªåŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// å¤åˆæ³¨è§£ï¼šç»„åˆ@LogRecordå’Œ@RequiresPermission</span>
<span class="hljs-variable">@Target</span>(ElementType.METHOD)
<span class="hljs-variable">@Retention</span>(RetentionPolicy.RUNTIME)
<span class="hljs-variable">@LogRecord</span>(desc = <span class="hljs-string">"éœ€æƒé™æ ¡éªŒçš„æ“ä½œ"</span>, recordParam = true)
<span class="hljs-variable">@RequiresPermission</span>(<span class="hljs-string">"admin:operate"</span>)
public <span class="hljs-variable">@interface</span> LogAndAuth {
    <span class="hljs-comment">// å¯é‡å†™ç»„åˆæ³¨è§£çš„å±æ€§ï¼ˆå¯é€‰ï¼‰</span>
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">logDesc</span>() <span class="hljs-selector-tag">default</span> "";
}
</code></pre>
<p>ä½¿ç”¨æ—¶ï¼Œæ ‡æ³¨å¤åˆæ³¨è§£å³å¯ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@LogAndAuth</span>(logDesc = <span class="hljs-string">"ç®¡ç†å‘˜æ“ä½œ"</span>)
<span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/admin/operate"</span>)
public String <span class="hljs-built_in">adminOperate</span>() {
    <span class="hljs-selector-tag">return</span> "æ“ä½œæˆåŠŸ";
}
</code></pre>
<h4 data-id="heading-20">2. æ³¨è§£ä¸æšä¸¾ç»“åˆï¼šè§„èŒƒå±æ€§å–å€¼</h4>
<p>å½“æ³¨è§£å±æ€§å–å€¼æœ‰é™æ—¶ï¼Œå¯ç»“åˆæšä¸¾ç±»å‹ï¼Œé¿å…ç¡¬ç¼–ç ï¼Œæå‡ä»£ç è§„èŒƒæ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®šä¹‰æ—¥å¿—çº§åˆ«æšä¸¾</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">LogLevel</span> {
    INFO, WARN, ERROR
}

<span class="hljs-comment">// æ³¨è§£å±æ€§ä½¿ç”¨æšä¸¾</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Log {
    LogLevel <span class="hljs-title function_">level</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> LogLevel.INFO; <span class="hljs-comment">// æšä¸¾ç±»å‹å±æ€§</span>
    String <span class="hljs-title function_">desc</span><span class="hljs-params">()</span>;
}

<span class="hljs-comment">// ä½¿ç”¨æ³¨è§£</span>
<span class="hljs-meta">@Log(level = LogLevel.WARN, desc = "æ•æ„Ÿæ“ä½œæ—¥å¿—")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sensitiveOperate</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
}
</code></pre>
<h4 data-id="heading-21">3. APTè§£æï¼šç¼–è¯‘æœŸç”Ÿæˆä»£ç </h4>
<p>å¯¹äº<code>@Retention(RetentionPolicy.SOURCE)</code>çš„æ³¨è§£ï¼Œå¯é€šè¿‡APTï¼ˆAnnotation Processing Toolï¼‰åœ¨ç¼–è¯‘æœŸè§£ææ³¨è§£ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç ï¼ˆå¦‚Lombokçš„<code>@Data</code>ç”Ÿæˆgetter/setterï¼‰ã€‚æ ¸å¿ƒæ˜¯å®ç°<code>javax.annotation.processing.AbstractProcessor</code>ï¼Œé‡å†™<code>process</code>æ–¹æ³•è§£ææ³¨è§£å¹¶ç”Ÿæˆä»£ç ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼šéœ€åœ¨ç¼–è¯‘æœŸç”Ÿæˆæ¨¡æ¿ä»£ç çš„åœºæ™¯ï¼ˆå¦‚ORMæ˜ å°„ã€DTOè½¬æ¢ï¼‰ï¼Œä¼˜ç‚¹æ˜¯æ— è¿è¡Œæ—¶åå°„å¼€é”€ï¼Œæ€§èƒ½ä¼˜å¼‚ï¼›ç¼ºç‚¹æ˜¯å¼€å‘å¤æ‚åº¦é«˜äºåå°„è§£æã€‚</p>
<h3 data-id="heading-22">äº”ã€è‡ªå®šä¹‰æ³¨è§£é«˜é¢‘é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-23">1. å‘ç‚¹1ï¼šæ³¨è§£æ— æ³•è¢«è§£æï¼ŒåŠŸèƒ½ä¸ç”Ÿæ•ˆ</h4>
<p><strong>ç°è±¡</strong>ï¼šæ ‡æ³¨æ³¨è§£åï¼Œæ— å¯¹åº”åŠŸèƒ½è§¦å‘ï¼Œæ§åˆ¶å°æ— æ—¥å¿—æˆ–æ ¡éªŒé€»è¾‘æœªæ‰§è¡Œã€‚ <strong>è§„é¿æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥å…ƒæ³¨è§£<code>@Retention</code>æ˜¯å¦è®¾ç½®ä¸º<code>RUNTIME</code>ï¼ŒéRUNTIMEæ— æ³•é€šè¿‡åå°„è§£æï¼›</li>
<li>Spring AOPåœºæ™¯ï¼šç¡®ä¿åˆ‡é¢ç±»æ·»åŠ <code>@Aspect</code>å’Œ<code>@Component</code>ï¼Œä¸”åŒ…è·¯å¾„è¢«Springæ‰«æï¼›</li>
<li>ç¡®è®¤æ³¨è§£ä½œç”¨èŒƒå›´ï¼ˆ<code>@Target</code>ï¼‰ä¸ä½¿ç”¨ä½ç½®ä¸€è‡´ï¼ˆå¦‚æ–¹æ³•æ³¨è§£ä¸èƒ½æ ‡æ³¨åœ¨ç±»ä¸Šï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-24">2. å‘ç‚¹2ï¼šæ³¨è§£å±æ€§èµ‹å€¼é”™è¯¯ï¼Œç¼–è¯‘å¤±è´¥</h4>
<p><strong>ç°è±¡</strong>ï¼šä½¿ç”¨æ³¨è§£æ—¶ï¼Œç¼–è¯‘æç¤ºâ€œAttribute value must be constantâ€æˆ–â€œMissing required attributeâ€ã€‚ <strong>è§„é¿æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æ³¨è§£å±æ€§å€¼å¿…é¡»æ˜¯å¸¸é‡ï¼ˆå­—é¢é‡ã€æšä¸¾ã€static finalå˜é‡ï¼‰ï¼Œä¸èƒ½æ˜¯åŠ¨æ€è®¡ç®—çš„å€¼ï¼›</li>
<li>æ— é»˜è®¤å€¼çš„å±æ€§å¿…é¡»æ˜¾å¼èµ‹å€¼ï¼Œæ•°ç»„å±æ€§å¤šå€¼ç”¨<code>{}</code>åŒ…è£¹ï¼Œå•å€¼å¯ç›´æ¥èµ‹å€¼ï¼›</li>
<li>é¿å…ä½¿ç”¨ä¸æ”¯æŒçš„å±æ€§ç±»å‹ï¼ˆå¦‚Listã€Mapã€è‡ªå®šä¹‰å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-25">3. å‘ç‚¹3ï¼šåˆ‡é¢æ‹¦æˆªå¤±æ•ˆï¼Œæ–¹æ³•æœªè¢«å¢å¼º</h4>
<p><strong>ç°è±¡</strong>ï¼šSpring AOPåœºæ™¯ä¸‹ï¼Œæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•æœªè¢«åˆ‡é¢æ‹¦æˆªï¼ŒåŠŸèƒ½ä¸ç”Ÿæ•ˆã€‚ <strong>è§„é¿æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>é¿å…å†…éƒ¨æ–¹æ³•è°ƒç”¨ï¼šSpring AOPåŸºäºåŠ¨æ€ä»£ç†ï¼Œç±»å†…éƒ¨æ–¹æ³•è°ƒç”¨æ— æ³•è§¦å‘åˆ‡é¢ï¼ˆéœ€é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨ï¼‰ï¼›</li>
<li>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ­£ç¡®ï¼šç¡®ä¿<code>@Around</code>ç­‰æ³¨è§£çš„åˆ‡å…¥ç‚¹èƒ½åŒ¹é…ç›®æ ‡æ–¹æ³•ï¼ˆå¦‚æ³¨è§£å…¨ç±»åæ­£ç¡®ï¼‰ï¼›</li>
<li>éSpring Beançš„ç±»ï¼šåˆ‡é¢ä»…å¯¹Springå®¹å™¨ç®¡ç†çš„Beanç”Ÿæ•ˆï¼ŒæœªåŠ <code>@Service</code>/<code>@Controller</code>çš„ç±»æ— æ³•è¢«æ‹¦æˆªã€‚</li>
</ul>
<h4 data-id="heading-26">4. å‘ç‚¹4ï¼šæ³¨è§£ç»§æ‰¿å¤±æ•ˆï¼Œå­ç±»æ— çˆ¶ç±»æ³¨è§£åŠŸèƒ½</h4>
<p><strong>ç°è±¡</strong>ï¼šçˆ¶ç±»æ ‡æ³¨æ³¨è§£ï¼Œå­ç±»ç»§æ‰¿åï¼Œå­ç±»æ–¹æ³•æ— å¯¹åº”åŠŸèƒ½ã€‚ <strong>è§„é¿æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä»…<code>@Inherited</code>å…ƒæ³¨è§£çš„ç±»æ³¨è§£å¯è¢«ç»§æ‰¿ï¼Œæ–¹æ³•æ³¨è§£ã€å­—æ®µæ³¨è§£ä¸æ”¯æŒç»§æ‰¿ï¼›</li>
<li>å­ç±»éœ€é‡å†™çˆ¶ç±»æ–¹æ³•å¹¶é‡æ–°æ ‡æ³¨æ³¨è§£ï¼Œæˆ–é€šè¿‡åˆ‡é¢åˆ‡å…¥ç‚¹è°ƒæ•´ä¸ºæ‹¦æˆªçˆ¶ç±»æ³¨è§£ã€‚</li>
</ul>
<h3 data-id="heading-27">å…­ã€æ€»ç»“ï¼šè‡ªå®šä¹‰æ³¨è§£çš„æ ¸å¿ƒä»·å€¼ä¸ä½¿ç”¨åŸåˆ™</h3>
<p>è‡ªå®šä¹‰æ³¨è§£çš„æ ¸å¿ƒä»·å€¼åœ¨äºâ€œ<strong>ç”¨å…ƒæ•°æ®é©±åŠ¨é€»è¾‘ï¼Œå®ç°ä»£ç è§£è€¦ä¸å¤ç”¨</strong>â€ï¼Œå®ƒè®©éä¸šåŠ¡é€»è¾‘ï¼ˆæ—¥å¿—ã€æƒé™ã€æ ¡éªŒï¼‰ä¸ä¸šåŠ¡ä»£ç åˆ†ç¦»ï¼Œå¤§å¹…æå‡ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚å®é™…ä½¿ç”¨ä¸­éœ€éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ul>
<li>æŒ‰éœ€è®¾è®¡ï¼šä»…åœ¨éœ€è¦å°è£…å…ƒæ•°æ®ã€è§£è€¦é€»è¾‘æ—¶ä½¿ç”¨æ³¨è§£ï¼Œé¿å…è¿‡åº¦è®¾è®¡å¯¼è‡´ä»£ç å¯è¯»æ€§ä¸‹é™ï¼›</li>
<li>æ˜ç¡®èŒƒå›´ï¼šé€šè¿‡å…ƒæ³¨è§£ä¸¥æ ¼çº¦æŸæ³¨è§£çš„ä½œç”¨èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸï¼Œé¿å…æ»¥ç”¨ï¼›</li>
<li>æ€§èƒ½æƒè¡¡ï¼šåå°„è§£æå­˜åœ¨è½»å¾®æ€§èƒ½å¼€é”€ï¼Œé«˜é¢‘è°ƒç”¨åœºæ™¯å¯è€ƒè™‘APTç¼–è¯‘æœŸè§£ææˆ–ç¼“å­˜æ³¨è§£è§£æç»“æœï¼›</li>
<li>è§„èŒƒå‘½åï¼šæ³¨è§£åç§°ã€å±æ€§åéœ€æ¸…æ™°æ˜“æ‡‚ï¼Œç»“åˆä¸šåŠ¡åœºæ™¯è¯­ä¹‰åŒ–ï¼ˆå¦‚<code>@RequiresPermission</code>ã€<code>@LogRecord</code>ï¼‰ã€‚</li>
</ul>
<p>ä»æ¡†æ¶å°è£…åˆ°ä¸šåŠ¡å¼€å‘ï¼Œè‡ªå®šä¹‰æ³¨è§£å·²æˆä¸ºJavaå¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚æŒæ¡æœ¬æ–‡æ‰€è¿°çš„å®šä¹‰è¯­æ³•ã€è§£ææ–¹å¼ä¸å®æˆ˜åœºæ™¯ï¼Œå¯çµæ´»è¿ç”¨æ³¨è§£ç®€åŒ–å¼€å‘ã€å°è£…é€šç”¨é€»è¾‘ï¼Œè®©ä»£ç æ›´ä¼˜é›…ã€æ›´å…·æ‰©å±•æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>