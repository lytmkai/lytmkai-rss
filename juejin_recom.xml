<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æˆ‘å¯èƒ½ä¼šè¢«AIâ€œæ‰“è´¥â€œã€‚]]></title>    <link>https://juejin.cn/post/7596181746061115419</link>    <guid>https://juejin.cn/post/7596181746061115419</guid>    <pubDate>2026-01-17T06:45:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596181746061115419" data-draft-id="7595847940621271090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘å¯èƒ½ä¼šè¢«AIâ€œæ‰“è´¥â€œã€‚"/> <meta itemprop="keywords" content="å¹´ç»ˆæ€»ç»“,Trae"/> <meta itemprop="datePublished" content="2026-01-17T06:45:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="arriettyandray"/> <meta itemprop="url" content="https://juejin.cn/user/3353942203304611"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘å¯èƒ½ä¼šè¢«AIâ€œæ‰“è´¥â€œã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3353942203304611/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    arriettyandray
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-17T06:45:07.000Z" title="Sat Jan 17 2026 06:45:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AIå¾ˆå¼º</h2>
<p>å¹´åˆåˆšæ¥è§¦AIæ—¶ï¼Œè¿˜åªæ˜¯ç®€å•çš„åˆ©ç”¨AIç»™è‡ªå·±ç”¨æ¥å¤‡è€ƒã€‚æŠŠä¸€äº›ä¸ä¼šåšçš„é¢˜ç›®å‘ç»™AIï¼Œè®©AIç»™æˆ‘ç­”æ¡ˆã€‚ç”šè‡³åœ¨ç©ºé—²æ—¶ï¼Œè®©AIç»™æˆ‘æ’å­¦ä¹ è®¡åˆ’ã€‚å®ƒèƒ½æ ¹æ®å­¦ä¹ éš¾åº¦ï¼Œç»™æˆ‘å…·ä½“å®‰æ’åˆ°æ¯ä¸€ä¸ªå°æ—¶éœ€è¦å­¦ä»€ä¹ˆã€‚ç”šè‡³ä¼šç»™å‡ºåˆç†çš„å»ºè®®ã€‚å†åˆ°åæ¥ï¼Œå¼€å§‹äº†è§£è¿˜æœ‰AIçš„ä»£ç ç¼–è¯‘å™¨ï¼Œä»ä¸€å¼€å§‹åªæ˜¯ç®€å•çš„ç”Ÿæˆä»£ç ï¼Œè§£å†³é—®é¢˜ï¼Œåˆ°åæ¥ç«Ÿç„¶è¿è¿è¡Œç¯å¢ƒéƒ½å¸®åŠ©è§£å†³ï¼Œæˆ‘ä¸ç”±å¾—å¤¸èµAIå¾ˆå¼ºã€‚</p>
<h2 data-id="heading-1">AIè®©æˆ‘å­¦ä¹ æ›´ç®€å•äº†</h2>
<p>2025å¹´ï¼Œæ˜¯æˆ‘åˆ‡æ¢å·¥ä½œé¢†åŸŸçš„ä¸€å¹´ã€‚ä¸“ä¸šçŸ¥è¯†æ˜¯æ²¡æœ‰çš„ï¼Œåˆæ˜¯æ¥æ‰‹åˆ«äººå†™è¿‡çš„ä»£ç ã€‚çœŸçš„ï¼Œæ²¡æœ‰ä»»ä½•å¤‡æ³¨ï¼Œä»£ç é è‡ªå·±çŒœã€‚å€ŸåŠ©AIè¿›è¡Œä»£ç åˆ†æï¼ŒåŠ å¿«æˆ‘çš„å­¦ä¹ ã€‚åœ¨å¹³æ—¥ï¼Œå¯¹äºä¸æ‡‚çš„é—®é¢˜ï¼Œç›´æ¥é€šè¿‡AIè¿›è¡Œåˆ†æï¼Œç„¶åæ€»ç»“å­¦ä¹ ï¼Œå°†åˆ«äººçš„çŸ¥è¯†è½¬åŒ–ä¸ºè‡ªå·±çš„çŸ¥è¯†ã€‚å“ªæ€•æ²¡çœ‹æ‡‚ï¼Œéƒ½å¯ä»¥è®©AIåˆ©ç”¨å…¨æ–°çš„æ–¹å¼è¿›è¡Œè®²è¿°ï¼Œç›´åˆ°è‡ªå·±å­¦æ˜ç™½ä¸ºæ­¢ã€‚
ä»Šå¹´åœ¨æˆ‘å­¦ä¹ æ³¨æ„åŠ›æœºåˆ¶æ—¶ï¼Œç”šè‡³åœ¨æˆ‘æ¥è§¦TRANSferæ¨¡å‹æ—¶ï¼Œç›´æ¥åˆ©ç”¨AIè¿›è¡Œäº†å®ç°ï¼Œç®€å•çš„æ¨¡å‹å®ç°åªç”¨äº†ä¸åˆ°ä¸¤å¤©çš„æ—¶é—´ï¼Œè®©æˆ‘ä»ç†è®ºè½¬åŒ–ä¸ºå®é™…çš„æ—¶é—´æ›´çŸ­äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29bb63adedef4cc98207d45bbc665353~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXJyaWV0dHlhbmRyYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769237171&amp;x-signature=yHFJM0K4uh1HXK3Ynzq%2FjbEW1bM%3D" alt="image.png" loading="lazy"/>
è™½ç„¶ä¸­é—´æœ‰ä¸€äº›éœ€è¦è°ƒæ•´çš„é—®é¢˜ï¼Œä½†æ˜¯è®©æˆ‘æ„Ÿè§‰åˆ©ç”¨å¥½AIå·¥å…·æ˜¯ä¸€ç§æ—¶ä»£çš„æ½®æµã€‚åœ¨ä»¥åçš„ç”Ÿæ´»ä¸­å¯èƒ½å¤„å¤„ç¦»ä¸å¼€Aiã€‚</p>
<h2 data-id="heading-2">AIçš„ç”¨å¤„å¾ˆå¤š</h2>
<p>åˆšäº†è§£AIçš„æ—¶å€™ï¼Œä»…ä»…æç•™åœ¨AIåªæ˜¯ä¸€ä¸ªæœç´¢å¼•æ“ã€‚å…¶å®AIå¯ä»¥ç”¨åœ¨å¾ˆå¤šæ–¹é¢ã€‚çœ‹åˆ°å¾ˆå¤šå¤§ä½¬åˆ©ç”¨å¤§æ¨¡å‹åµŒå…¥åˆ°ä¸åŒçš„è½¯ä»¶ï¼Œå®ç°äº†å„ä¸ªæ–¹é¢çš„AIç»“æœã€‚ä¾‹å¦‚ç”ŸæˆéŸ³ä¹ã€ç”Ÿæˆå›¾ç‰‡ã€åˆ¶å®šæ—…æ¸¸è§„åˆ’ã€‚å¯å°†AIåº”ç”¨åœ¨å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„åœ°æ–¹ã€‚ç”šè‡³åœ¨ä¸çŸ¥é“å¦‚ä½•å›å¤é¢†å¯¼é‚®ä»¶æ—¶ï¼Œé—®é—®AIå§ã€‚è®©AIç»™ä¸ªç­”æ¡ˆçš„äº‹æƒ…ï¼Œå¤§å®¶åº”è¯¥éƒ½é—®è¿‡å§ï¼</p>
<h2 data-id="heading-3">æœªæ¥</h2>
<p>æœªæ¥ï¼Œå¯¹äºæˆ‘ä¸ªäººè€Œè¨€è¿˜å¯ä»¥æ›´å¥½çš„åˆ©ç”¨AIå·¥å…·ï¼š</p>
<p>1ã€å­¦ä¹ </p>
<p>åˆ¶å®šå­¦ä¹ è®¡åˆ’ï¼Œæå‡è‡ªå·±çš„æŠ€èƒ½ï¼Œåˆ©ç”¨AIæ€»ç»“ä¸åƒé€æŸäº›è‡ªå·±æ²¡æœ‰æŒæ¡çš„çŸ¥è¯†ã€‚é€šè¿‡AIäº†è§£è¡Œä¸šå‰æ²¿ï¼Œç´§è·Ÿæ½®æµçƒ­ç‚¹ï¼Œä¸èƒ½è¢«æ—¶ä»£æ·˜æ±°ã€‚</p>
<p>2ã€å·¥ä½œ</p>
<p>åˆ©ç”¨å…¬å¸å·²æœ‰èµ„æºè¿›è¡ŒAIçš„æ•´åˆï¼Œæ€»ç»“å…·æœ‰ç»§æ‰¿æ€§çš„ä¸œè¥¿ï¼Œå¹¶åšå¥½æ ‡æ³¨ä¸è§„èŒƒã€‚</p>
<p>3ã€ç”Ÿæ´»</p>
<p>æ—…æ¸¸ã€å‡ºè¡Œç­‰æ–¹é¢ï¼Œæ‰©å±•ä¸€ä¸‹AIçš„ä½¿ç”¨ï¼Œè®©è‡ªå·±çš„ç”Ÿæ´»å˜å¾—æ›´é«˜æ•ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€å‘è€…å¿…å¤‡AIå·¥å…·å…¨æ™¯å›¾ï¼šä»ç¼–ç åˆ°å†…å®¹åˆ›ä½œçš„å…¨æ ˆåˆ©å™¨]]></title>    <link>https://juejin.cn/post/7596790037136965673</link>    <guid>https://juejin.cn/post/7596790037136965673</guid>    <pubDate>2026-01-19T06:10:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596790037136965673" data-draft-id="7596768867231875091" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€å‘è€…å¿…å¤‡AIå·¥å…·å…¨æ™¯å›¾ï¼šä»ç¼–ç åˆ°å†…å®¹åˆ›ä½œçš„å…¨æ ˆåˆ©å™¨"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-19T06:10:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠ æ²¹ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/84036866547575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€å‘è€…å¿…å¤‡AIå·¥å…·å…¨æ™¯å›¾ï¼šä»ç¼–ç åˆ°å†…å®¹åˆ›ä½œçš„å…¨æ ˆåˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/84036866547575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠ æ²¹ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:10:42.000Z" title="Mon Jan 19 2026 06:10:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šAIå¦‚ä½•é‡å¡‘å¼€å‘å·¥ä½œæµ</h2>
<p>AIæ­£ä»è¾…åŠ©å·¥å…·æ¼”å˜ä¸ºæ ¸å¿ƒç”Ÿäº§åŠ›å¼•æ“ã€‚æ— è®ºæ˜¯ä»£ç ç¼–å†™ã€æ–‡æ¡£å¤„ç†ï¼Œè¿˜æ˜¯å¤šåª’ä½“å†…å®¹åˆ›ä½œï¼Œæ™ºèƒ½å·¥å…·éƒ½åœ¨æ·±åº¦èå…¥æˆ‘ä»¬çš„å·¥ä½œæµã€‚æœ¬æ–‡å°†ä¸ºä½ æ¢³ç†ç¼–ç¨‹å¼€å‘åˆ°å†…å®¹å¤„ç†çš„å…¨å¥—AIå·¥å…·ï¼Œå¹¶æä¾›ç›´æ¥å¯ç”¨çš„èµ„æºé“¾æ¥ï¼Œå¸®åŠ©ä½ æ„å»ºé«˜æ•ˆçš„æ™ºèƒ½å¼€å‘ç”Ÿæ€ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ç¼–ç¨‹å¼€å‘ç±»AIå·¥å…·</h3>
<h4 data-id="heading-2">1. Trae - æ™ºèƒ½ä»£ç ç”Ÿæˆä¸ä¼˜åŒ–</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://trae.ai/" target="_blank" title="https://trae.ai/" ref="nofollow noopener noreferrer">trae.ai</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„ä»£ç è¡¥å…¨å’Œç”Ÿæˆï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€</li>
<li>æ™ºèƒ½ä»£ç é‡æ„å»ºè®®ï¼Œæå‡ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§</li>
<li>å®æ—¶é”™è¯¯æ£€æµ‹å’Œä¿®å¤æ–¹æ¡ˆæ¨è</li>
<li>é¡¹ç›®çº§åˆ«çš„æ¶æ„åˆ†æå’Œä¼˜åŒ–å»ºè®®</li>
<li>ä¸ä¸»æµIDEæ·±åº¦é›†æˆï¼Œæä¾›æ— ç¼çš„å¼€å‘ä½“éªŒ</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> Â æ—¥å¸¸ç¼–ç ã€ä»£ç å®¡æŸ¥ã€æ¶æ„è®¾è®¡ã€æŠ€æœ¯å€ºåŠ¡æ¸…ç†</p>
<h4 data-id="heading-3">2. Kiro - è®¾è®¡ä¸å¼€å‘åä½œå¹³å°</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkiro.dev%2F" target="_blank" title="https://kiro.dev/" ref="nofollow noopener noreferrer">kiro.dev</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>è®¾è®¡ç¨¿åˆ°ä»£ç çš„æ™ºèƒ½è½¬æ¢ï¼Œæ”¯æŒReactã€Vueç­‰ä¸»æµæ¡†æ¶</li>
<li>å®æ—¶åä½œè®¾è®¡ç³»ç»Ÿï¼Œç¡®ä¿è®¾è®¡ä¸å¼€å‘ä¸€è‡´æ€§</li>
<li>ç»„ä»¶åº“æ™ºèƒ½ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶</li>
<li>è®¾è®¡è§„èŒƒè‡ªåŠ¨æ£€æŸ¥å’Œå®æ–½</li>
<li>è·¨å›¢é˜Ÿåä½œå·¥ä½œæµä¼˜åŒ–</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> Â è®¾è®¡å¼€å‘åä½œã€ç»„ä»¶åº“ç»´æŠ¤ã€è®¾è®¡ç³»ç»Ÿå®æ–½</p>
<h4 data-id="heading-4">3. Cursuo - æ™ºèƒ½æ–‡æ¡£ä¸çŸ¥è¯†ç®¡ç†</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcursuo.com%2F" target="_blank" title="https://cursuo.com/" ref="nofollow noopener noreferrer">cursuo.com</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä»£ç æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆå’Œä¼˜åŒ–</li>
<li>æŠ€æœ¯æ–‡æ¡£æ™ºèƒ½æ•´ç†å’Œç»“æ„åŒ–</li>
<li>APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤</li>
<li>å›¢é˜ŸçŸ¥è¯†åº“çš„æ™ºèƒ½ç»„ç»‡å’Œæ£€ç´¢</li>
<li>é¡¹ç›®æ–‡æ¡£çš„ç‰ˆæœ¬ç®¡ç†å’Œæ›´æ–°è¿½è¸ª</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> Â æŠ€æœ¯æ–‡æ¡£ç¼–å†™ã€APIæ–‡æ¡£ç»´æŠ¤ã€å›¢é˜ŸçŸ¥è¯†ç®¡ç†</p>
<h4 data-id="heading-5">4. GitHub Copilot - AIç¼–ç¨‹åŠ©æ‰‹</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffeatures%2Fcopilot" target="_blank" title="https://github.com/features/copilot" ref="nofollow noopener noreferrer">github.com/features/coâ€¦</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>åŸºäºOpenAI Codexçš„ä»£ç ç”Ÿæˆèƒ½åŠ›</li>
<li>å¤šè¯­è¨€æ”¯æŒï¼Œæ¶µç›–ä¸»æµç¼–ç¨‹è¯­è¨€</li>
<li>æ ¹æ®ä»£ç ä¸Šä¸‹æ–‡æä¾›æ™ºèƒ½å»ºè®®</li>
<li>é›†æˆåˆ°VS Codeã€JetBrainsç­‰IDE</li>
<li>å­¦ä¹ é¡¹ç›®ä»£ç æ¨¡å¼ï¼Œæä¾›ä¸ªæ€§åŒ–å»ºè®®</li>
</ul>
<h4 data-id="heading-6">5. Tabnine - å…¨è¯­è¨€AIä»£ç è¡¥å…¨</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tabnine.com%2F" target="_blank" title="https://www.tabnine.com/" ref="nofollow noopener noreferrer">www.tabnine.com</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æœ¬åœ°æ¨¡å‹éƒ¨ç½²ï¼Œä¿æŠ¤ä»£ç éšç§</li>
<li>æ”¯æŒ50+ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶</li>
<li>æ•´è¡Œã€æ•´å‡½æ•°çº§åˆ«çš„ä»£ç è¡¥å…¨</li>
<li>è‡ªå®šä¹‰æ¨¡å‹è®­ç»ƒï¼Œé€‚é…å›¢é˜Ÿç¼–ç è§„èŒƒ</li>
</ul>
<h3 data-id="heading-7">äºŒã€æ–‡æ¡£å¤„ç†ç±»AIå·¥å…·</h3>
<h4 data-id="heading-8">1. Notion AI - æ™ºèƒ½ç¬”è®°ä¸æ–‡æ¡£</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.notion.so%2Fproduct%2Fai" target="_blank" title="https://www.notion.so/product/ai" ref="nofollow noopener noreferrer">www.notion.so/product/ai</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ™ºèƒ½æ–‡æ¡£æ‘˜è¦å’Œå†…å®¹æç‚¼</li>
<li>å¤šè¯­è¨€ç¿»è¯‘å’Œæ¶¦è‰²</li>
<li>ä¼šè®®è®°å½•è‡ªåŠ¨æ•´ç†å’Œè¡ŒåŠ¨é¡¹æå–</li>
<li>çŸ¥è¯†åº“çš„æ™ºèƒ½ç»„ç»‡å’Œé“¾æ¥</li>
<li>æ¨¡æ¿æ™ºèƒ½ç”Ÿæˆå’Œå†…å®¹å¡«å……</li>
</ul>
<h4 data-id="heading-9">2. Mem - è‡ªåŠ¨åŒ–çŸ¥è¯†ç®¡ç†</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmem.ai%2F" target="_blank" title="https://mem.ai/" ref="nofollow noopener noreferrer">mem.ai</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨ç»„ç»‡å’Œå…³è”ç¬”è®°å†…å®¹</li>
<li>æ™ºèƒ½æœç´¢å’ŒçŸ¥è¯†å‘ç°</li>
<li>æ—¥ç¨‹å®‰æ’å’Œä»»åŠ¡è‡ªåŠ¨ç®¡ç†</li>
<li>å›¢é˜ŸçŸ¥è¯†å…±äº«å’Œåä½œ</li>
<li>ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å†…å®¹æ¨è</li>
</ul>
<h4 data-id="heading-10">3. ClickUp AI - é¡¹ç›®æ–‡æ¡£æ™ºèƒ½åŠ©æ‰‹</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fclickup.com%2Fai" target="_blank" title="https://clickup.com/ai" ref="nofollow noopener noreferrer">clickup.com/ai</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>é¡¹ç›®æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°</li>
<li>ä»»åŠ¡æè¿°æ™ºèƒ½ä¼˜åŒ–</li>
<li>ä¼šè®®çºªè¦è‡ªåŠ¨è½¬æ¢ä¸ºè¡ŒåŠ¨é¡¹</li>
<li>è¿›åº¦æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ</li>
<li>å›¢é˜Ÿåä½œå†…å®¹æ™ºèƒ½åˆ†æ</li>
</ul>
<h3 data-id="heading-11">ä¸‰ã€å›¾åƒå¤„ç†ç±»AIå·¥å…·</h3>
<h4 data-id="heading-12">1. Midjourney - AIå›¾åƒç”Ÿæˆ</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.midjourney.com%2F" target="_blank" title="https://www.midjourney.com/" ref="nofollow noopener noreferrer">www.midjourney.com</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>é«˜è´¨é‡æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆ</li>
<li>å¤šç§è‰ºæœ¯é£æ ¼æ”¯æŒ</li>
<li>å›¾åƒæ‰©å±•å’Œä¿®æ”¹åŠŸèƒ½</li>
<li>ç¤¾åŒºæ¨¡å‹å’Œé£æ ¼å…±äº«</li>
<li>å•†ä¸šå‹å¥½çš„ä½¿ç”¨æ¡æ¬¾</li>
</ul>
<h4 data-id="heading-13">2. DALL-E 3 - åˆ›æ„å›¾åƒç”Ÿæˆ</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenai.com%2Fdall-e-3" target="_blank" title="https://openai.com/dall-e-3" ref="nofollow noopener noreferrer">openai.com/dall-e-3</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ç†è§£å¤æ‚æç¤ºè¯å’Œç»†èŠ‚æè¿°</li>
<li>ä¸ChatGPTé›†æˆï¼Œä¼˜åŒ–æç¤ºè¯</li>
<li>é«˜è´¨é‡ã€é«˜åˆ†è¾¨ç‡å›¾åƒè¾“å‡º</li>
<li>å®‰å…¨è¿‡æ»¤å’Œå†…å®¹æ§åˆ¶</li>
<li>å•†ä¸šåº”ç”¨åœºæ™¯å¹¿æ³›</li>
</ul>
<h4 data-id="heading-14">3. Adobe Firefly - åˆ›æ„å¥—ä»¶AI</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.adobe.com%2Fproducts%2Ffirefly.html" target="_blank" title="https://www.adobe.com/products/firefly.html" ref="nofollow noopener noreferrer">www.adobe.com/products/fiâ€¦</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸Adobe Creative Cloudæ·±åº¦é›†æˆ</li>
<li>ç”Ÿæˆå¡«å……å’Œå†…å®¹æ„ŸçŸ¥ç¼–è¾‘</li>
<li>æ–‡å­—æ•ˆæœå’ŒçŸ¢é‡å›¾å½¢ç”Ÿæˆ</li>
<li>å•†ä¸šå®‰å…¨çš„å†…å®¹ç”Ÿæˆ</li>
<li>ä¸“ä¸šè®¾è®¡å·¥ä½œæµä¼˜åŒ–</li>
</ul>
<h4 data-id="heading-15">4.Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fremove.bg%2F" target="_blank" title="https://remove.bg/" ref="nofollow noopener noreferrer">Remove.bg</a>Â - æ™ºèƒ½èƒŒæ™¯å»é™¤</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.remove.bg%2F" target="_blank" title="https://www.remove.bg/" ref="nofollow noopener noreferrer">www.remove.bg</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸€é”®ç²¾å‡†å»é™¤èƒŒæ™¯</li>
<li>æ‰¹é‡å¤„ç†åŠŸèƒ½</li>
<li>APIé›†æˆæ”¯æŒ</li>
<li>é«˜è´¨é‡è¾¹ç¼˜å¤„ç†</li>
<li>å¤šç§èƒŒæ™¯æ›¿æ¢é€‰é¡¹</li>
</ul>
<h3 data-id="heading-16">å››ã€è§†é¢‘å¤„ç†ç±»AIå·¥å…·</h3>
<h4 data-id="heading-17">1. Runway ML - åˆ›æ„è§†é¢‘AI</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frunwayml.com%2F" target="_blank" title="https://runwayml.com/" ref="nofollow noopener noreferrer">runwayml.com</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ–‡æœ¬åˆ°è§†é¢‘ç”Ÿæˆ</li>
<li>è§†é¢‘é£æ ¼è½¬æ¢</li>
<li>è¿åŠ¨è·Ÿè¸ªå’Œç‰¹æ•ˆæ·»åŠ </li>
<li>ç»¿å±å’ŒèƒŒæ™¯æ›¿æ¢</li>
<li>ä¸“ä¸šçº§è§†é¢‘ç¼–è¾‘å·¥å…·</li>
</ul>
<h4 data-id="heading-18">2. Descript - æ™ºèƒ½è§†é¢‘ç¼–è¾‘</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.descript.com%2F" target="_blank" title="https://www.descript.com/" ref="nofollow noopener noreferrer">www.descript.com</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>è¯­éŸ³è½¬æ–‡å­—ç¼–è¾‘</li>
<li>AIè¯­éŸ³å…‹éš†å’Œé…éŸ³</li>
<li>è‡ªåŠ¨å­—å¹•ç”Ÿæˆ</li>
<li>å†…å®¹æ£€æµ‹å’Œæ¸…ç†</li>
<li>å¤šè½¨é“ç¼–è¾‘ç•Œé¢</li>
</ul>
<h4 data-id="heading-19">3. Synthesia - AIè§†é¢‘ç”Ÿæˆå¹³å°</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.synthesia.io%2F" target="_blank" title="https://www.synthesia.io/" ref="nofollow noopener noreferrer">www.synthesia.io</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>AIè™šæ‹Ÿäººç‰©è§†é¢‘ç”Ÿæˆ</li>
<li>å¤šè¯­è¨€è¯­éŸ³åˆæˆ</li>
<li>è‡ªå®šä¹‰è™šæ‹Ÿå½¢è±¡</li>
<li>ä¼ä¸šçº§è§†é¢‘åˆ¶ä½œ</li>
<li>æ¨¡æ¿åº“å’Œå¿«é€Ÿåˆ¶ä½œ</li>
</ul>
<h4 data-id="heading-20">4. Pictory - è‡ªåŠ¨åŒ–è§†é¢‘åˆ›ä½œ</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpictory.ai%2F" target="_blank" title="https://pictory.ai/" ref="nofollow noopener noreferrer">pictory.ai</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ–‡æœ¬è„šæœ¬è½¬è§†é¢‘</li>
<li>è‡ªåŠ¨è§†é¢‘æ‘˜è¦</li>
<li>ç¤¾äº¤åª’ä½“è§†é¢‘ä¼˜åŒ–</li>
<li>è¯­éŸ³è½¬è§†é¢‘å†…å®¹</li>
<li>æ¨¡æ¿é©±åŠ¨å¿«é€Ÿåˆ¶ä½œ</li>
</ul>
<h3 data-id="heading-21">äº”ã€ç»¼åˆç±»AIå·¥ä½œæµå¹³å°</h3>
<h4 data-id="heading-22">1. Replit AI - äº‘ç«¯å¼€å‘ç¯å¢ƒ</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Freplit.com%2Fsite%2Fai" target="_blank" title="https://replit.com/site/ai" ref="nofollow noopener noreferrer">replit.com/site/ai</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>äº‘ç«¯ä¸€ä½“åŒ–å¼€å‘ç¯å¢ƒ</li>
<li>AIè¾…åŠ©ä»£ç ç¼–å†™å’Œè°ƒè¯•</li>
<li>åä½œç¼–ç¨‹åŠŸèƒ½</li>
<li>é¡¹ç›®éƒ¨ç½²å’Œç®¡ç†</li>
<li>æ•™è‚²å’Œå·¥ä½œåœºæ™¯ä¼˜åŒ–</li>
</ul>
<h4 data-id="heading-23">2. Cursor - AIä¼˜å…ˆçš„ä»£ç ç¼–è¾‘å™¨</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cursor.sh%2F" target="_blank" title="https://www.cursor.sh/" ref="nofollow noopener noreferrer">www.cursor.sh</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>åŸºäºAIçš„ä»£ç ç¼–è¾‘å™¨</li>
<li>æ™ºèƒ½ä»£ç é‡æ„</li>
<li>èŠå¤©å¼ç¼–ç¨‹åŠ©æ‰‹</li>
<li>é¡¹ç›®ä¸Šä¸‹æ–‡ç†è§£</li>
<li>å¿«é€ŸåŸå‹å¼€å‘æ”¯æŒ</li>
</ul>
<h4 data-id="heading-24">3. Windsurf - AIé©±åŠ¨ä»£ç åˆ†æ</h4>
<p><strong>ğŸ”— å®˜ç½‘é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.windsurfai.com%2F" target="_blank" title="https://www.windsurfai.com/" ref="nofollow noopener noreferrer">www.windsurfai.com</a></strong></p>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ä»£ç åº“æ™ºèƒ½åˆ†æ</li>
<li>æ¶æ„å¯è§†åŒ–</li>
<li>æŠ€æœ¯å€ºåŠ¡è¯†åˆ«</li>
<li>å›¢é˜Ÿåä½œåŠŸèƒ½</li>
<li>æ€§èƒ½ä¼˜åŒ–å»ºè®®</li>
</ul>
<h3 data-id="heading-25">å·¥å…·é€‰æ‹©ä¸é›†æˆå»ºè®®</h3>
<h4 data-id="heading-26">è¯„ä¼°ç»´åº¦ï¼š</h4>
<ol>
<li><strong>å‡†ç¡®æ€§</strong>Â - è¾“å‡ºè´¨é‡æ˜¯å¦å¯é </li>
<li><strong>é›†æˆæ€§</strong>Â - ä¸ç°æœ‰å·¥ä½œæµçš„å…¼å®¹æ€§</li>
<li><strong>éšç§æ€§</strong>Â - æ•°æ®å®‰å…¨å’Œéšç§ä¿æŠ¤</li>
<li><strong>æˆæœ¬æ•ˆç›Š</strong>Â - ä»·æ ¼ä¸ä»·å€¼çš„å¹³è¡¡</li>
<li><strong>å­¦ä¹ æ›²çº¿</strong>Â - ä¸Šæ‰‹éš¾åº¦å’ŒåŸ¹è®­æˆæœ¬</li>
</ol>
<h4 data-id="heading-27">æ¸è¿›å¼é›†æˆç­–ç•¥ï¼š</h4>
<ol>
<li>ä»å•ä¸€å·¥å…·å¼€å§‹ï¼Œæ·±åº¦æŒæ¡ä½¿ç”¨æŠ€å·§</li>
<li>å»ºç«‹å·¥å…·è¯„ä¼°æ ‡å‡†ï¼Œå®šæœŸå®¡æŸ¥æ•ˆæœ</li>
<li>åˆ›å»ºå·¥å…·ä½¿ç”¨è§„èŒƒï¼Œç¡®ä¿å›¢é˜Ÿä¸€è‡´</li>
<li>å…³æ³¨å·¥å…·æ›´æ–°ï¼ŒåŠæ—¶è°ƒæ•´ä½¿ç”¨ç­–ç•¥</li>
</ol>
<h3 data-id="heading-28">æœªæ¥å±•æœ›ï¼šAIå·¥å…·å‘å±•è¶‹åŠ¿</h3>
<ol>
<li><strong>æ›´æ·±åº¦çš„ä¸Šä¸‹æ–‡ç†è§£</strong>Â - å·¥å…·å°†æ›´å¥½åœ°ç†è§£é¡¹ç›®èƒŒæ™¯å’Œä¸šåŠ¡ç›®æ ‡</li>
<li><strong>æ›´è‡ªç„¶çš„äº¤äº’æ–¹å¼</strong>Â - ä»å‘½ä»¤å¼è½¬å‘å¯¹è¯å¼ã€æ„å›¾å¼çš„äº¤äº’</li>
<li><strong>æ›´å¼ºçš„ä¸ªæ€§åŒ–é€‚é…</strong>Â - å·¥å…·å°†æ›´è´´åˆä¸ªäººå’Œå›¢é˜Ÿçš„ç‰¹å®šéœ€æ±‚</li>
<li><strong>æ›´å®Œå–„çš„ç”Ÿæ€é›†æˆ</strong>Â - å·¥å…·ä¹‹é—´å°†å®ç°æ— ç¼çš„æ•°æ®æµè½¬å’Œåä½œ</li>
</ol>
<h2 data-id="heading-29">ç»“è¯­ï¼šæ„å»ºä½ çš„AIå¢å¼ºå·¥ä½œæµ</h2>
<p>é€‰æ‹©åˆé€‚çš„AIå·¥å…·å¹¶ä¸ä»…ä»…æ˜¯æŠ€æœ¯å†³ç­–ï¼Œæ›´æ˜¯å·¥ä½œæ•ˆç‡å’Œå·¥ä½œæ–¹å¼çš„æˆ˜ç•¥é€‰æ‹©ã€‚å»ºè®®ä»è§£å†³æœ€ç´§è¿«çš„ç—›ç‚¹å¼€å§‹ï¼Œé€æ­¥æ„å»ºé€‚åˆè‡ªå·±çš„AIå·¥å…·é“¾ã€‚è®°ä½ï¼Œå·¥å…·çš„ä»·å€¼ä¸åœ¨äºå…¶æŠ€æœ¯å…ˆè¿›æ€§ï¼Œè€Œåœ¨äºå®ƒå¦‚ä½•å¸®åŠ©ä½ æ›´å¥½åœ°å®Œæˆå·¥ä½œï¼Œé‡Šæ”¾åˆ›é€ åŠ›ï¼Œä¸“æ³¨äºçœŸæ­£é‡è¦çš„äº‹æƒ…ã€‚</p>
<p>éšç€AIæŠ€æœ¯çš„å¿«é€Ÿæ¼”è¿›ï¼Œä¿æŒå­¦ä¹ å’Œé€‚åº”çš„èƒ½åŠ›æ¯”æŒæ¡ä»»ä½•ç‰¹å®šå·¥å…·éƒ½æ›´é‡è¦ã€‚å®šæœŸæ¢ç´¢æ–°å·¥å…·ï¼Œé‡æ–°è¯„ä¼°ç°æœ‰å·¥å…·çš„æ•ˆæœï¼ŒæŒç»­ä¼˜åŒ–ä½ çš„æ™ºèƒ½å·¥ä½œæµï¼Œè¿™å°†æˆä¸ºæœªæ¥å¼€å‘è€…çš„æ ¸å¿ƒç«äº‰åŠ›ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¨è 2 ä¸ª GitHub ä¸Šçš„ Markdown å¼€æºå·¥å…·ï¼Œæœ‰æ„æ€ã€‚]]></title>    <link>https://juejin.cn/post/7596790037136982057</link>    <guid>https://juejin.cn/post/7596790037136982057</guid>    <pubDate>2026-01-19T06:10:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596790037136982057" data-draft-id="7596773213943332906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¨è 2 ä¸ª GitHub ä¸Šçš„ Markdown å¼€æºå·¥å…·ï¼Œæœ‰æ„æ€ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-19T06:10:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¨è 2 ä¸ª GitHub ä¸Šçš„ Markdown å¼€æºå·¥å…·ï¼Œæœ‰æ„æ€ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:10:55.000Z" title="Mon Jan 19 2026 06:10:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€Markdown å¢å¼ºæ’ç‰ˆç¥å™¨</h2>
<p>è¿™æ˜¯ä¸€ä¸ªè®© Markdown å…·å¤‡æ’ç‰ˆå’Œç¼–ç¨‹èƒ½åŠ›çš„å·¥å…·ã€‚</p>
<p>Markdown ç®€å•å¥½ç”¨ï¼Œé€‚åˆå¿«é€Ÿè®°å½•ï¼Œä½†æ’ç‰ˆèƒ½åŠ›éå¸¸æœ‰é™ï¼Œåšå¤æ‚çš„è®ºæ–‡æˆ– PPTå¾ˆåƒåŠ›ã€‚</p>
<p>å†™è®ºæ–‡çš„ LaTeX æ’ç‰ˆç²¾ç¾ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä½†è¯­æ³•å¤ªå¤æ‚äº†ï¼Œå†™èµ·æ¥åƒåœ¨å†™ä»£ç ã€‚</p>
<p>QuarkdownÂ å°±åƒæ˜¯ Markdown å’Œ LaTeX ä¸­é—´çš„ä¸€ä¸ªä¸œè¥¿ã€‚ä¿ç•™äº† Markdown çš„æ˜“è¯»æ€§ï¼ŒåŒæ—¶å¼•å…¥äº†ç±»ä¼¼ç¼–ç¨‹è¯­è¨€çš„é€»è¾‘æ§åˆ¶å’Œæ’ç‰ˆåŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc96c700af39478884c5029a0b6f2483~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=1FRwi5Aq9KBxhUpCBzN31fooEWU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Quarkdown çš„æ ¸å¿ƒåœ¨äºå®ƒå°† Markdown è§†ä¸ºä¸€ç§å¯ç¼–ç¨‹çš„æºæ–‡ä»¶ã€‚å®ƒä¸ä»…ä»…æŠŠæ–‡æœ¬è½¬æ¢æˆ HTMLï¼Œè¿˜å†…ç½®äº†ä¸€å¥—å›¾çµå®Œå¤‡çš„è„šæœ¬ç³»ç»Ÿã€‚</p>
<p>åœ¨æ™®é€šçš„ Markdown é‡Œï¼Œä½ åªèƒ½åšåŠ ç²—ã€æ–œä½“è¿™äº›åŸºæœ¬æ“ä½œã€‚</p>
<p>ä½†åœ¨ Quarkdown é‡Œï¼Œä½ å¯ä»¥ä½¿ç”¨å˜é‡ã€æ¡ä»¶åˆ¤æ–­ã€å¾ªç¯ï¼Œç”šè‡³å®šä¹‰å‡½æ•°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a15e0d49daf42bc9e7b59985418c79d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=268I%2FSOQ%2BIx9HW6dIKPioOM2oow%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä½¿ç”¨ Quarkdown ç¼–å†™çš„æ–‡æ¡£ï¼ˆåç¼€ä¸º .qdï¼‰å¯ä»¥é€šè¿‡ç¼–è¯‘ç”Ÿæˆå¤šç§ç›®æ ‡æ ¼å¼ã€‚</p>
<p>å¯¹äºçŸ¥è¯†åº“æˆ–ä¸ªäººç½‘ç«™ï¼Œå®ƒå¯ä»¥ç”Ÿæˆè¿ç»­æµåŠ¨çš„ HTML é¡µé¢ï¼Œç±»ä¼¼ Notion æˆ– Obsidian çš„å±•ç¤ºæ•ˆæœã€‚</p>
<p>å¯¹äºå­¦æœ¯è®ºæ–‡æˆ–ä¹¦ç±ï¼Œå®ƒç»“åˆ paged.js æ”¯æŒåˆ†é¡µå¸ƒå±€ã€‚ä½ å¯ä»¥æ§åˆ¶é¡µçœ‰ã€é¡µè„šã€é¡µç ï¼Œæœ€ç»ˆè¾“å‡ºæ’ç‰ˆæ•´é½çš„ PDFã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dca13135ab64b9dbdbc466fc1138273~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=eB5Q4mGsyp2nmFKleh92y%2BqcsqQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3868ebdd7514602a3bb6309856ccfe4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=hiU5ansyoicw1p72lD0Wtc%2FccMc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¯¹äºæŠ€æœ¯åˆ†äº«æˆ–æ¼”è®²ï¼Œå®ƒå¯ä»¥ç›´æ¥ç”ŸæˆåŸºäº reveal.js çš„å¹»ç¯ç‰‡ã€‚</p>
<p>ä½ ä¸éœ€è¦åœ¨ PowerPoint å’Œ Markdown ä¹‹é—´æ¥å›åˆ‡æ¢ï¼Œåªéœ€è¦åœ¨æºæ–‡ä»¶ä¸­æ ‡è®°åˆ†é¡µï¼Œå°±èƒ½æŠŠæ–‡æ¡£å˜æˆæ¼”ç¤ºæ–‡ç¨¿ã€‚</p>
<p>Quarkdown æ˜¯ä¸€ä¸ªè¯•å›¾åœ¨æ˜“ç”¨æ€§å’ŒåŠŸèƒ½æ€§ä¹‹é—´å¯»æ‰¾å¹³è¡¡çš„æ’ç‰ˆç³»ç»Ÿã€‚</p>
<p>å®ƒé€‚åˆé‚£äº›å–œæ¬¢ Markdown çš„ç®€æ´ï¼Œä½†åˆå¯¹å…¶æ’ç‰ˆèƒ½åŠ›æ„Ÿåˆ°å±€é™çš„ç”¨æˆ·ã€‚å¦‚æœä½ æƒ³ç”¨å†™ä»£ç çš„æ–¹å¼æ¥å†™ä¹¦ã€å†™è®ºæ–‡æˆ–è€…åšå¹»ç¯ç‰‡ï¼Œè¿™ä¸ªé¡¹ç›®å€¼å¾—ä¸€è¯•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/852527f5cffd40e0a2728c1a9517b89d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=5PyjWXhkgd8A2ZO1AD6YIqWw4Ys%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4f2ed6b0bc648b98ca1d65e65236695~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=Oo7Wb4%2F9IuwgOG3hjMAOpLLkYvg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/iamgio/quarkdown</span>
</code></pre>
<h2 data-id="heading-1">02ã€ç”¨ Markdown å†™ PPT</h2>
<p>Slidev æ˜¯ä¸“é—¨é¢å‘ç¨‹åºå‘˜çš„ PPT å·¥å…·ï¼ŒåŸºäº Vue 3 å’Œ Viteã€‚</p>
<p>åªéœ€è¦ç¼–å†™ Markdown æ–‡ä»¶ï¼ŒSlidev å°±èƒ½å°†å…¶æ¸²æŸ“æˆç²¾ç¾çš„ PPTã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10ae26bf8d5c4f80a1a77d7dc3c526bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=j0wuaMH8%2F6d4At5TMv%2FL9I2v1Jg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™æ¬¾å·¥å…·çš„æœ€å¤§äº®ç‚¹åœ¨äºå…¶å¯¹å¼€å‘è€…å·¥ä½œæµçš„æ·±åº¦å¥‘åˆã€‚</p>
<p>ä¼ ç»Ÿçš„ PPT å·¥å…·åœ¨å±•ç¤ºä»£ç æ—¶æ•ˆæœå¾€å¾€å·®å¼ºäººæ„ï¼Œé€šå¸¸åªèƒ½æˆªå±æˆ–è€…ç²˜è´´çº¯æ–‡æœ¬ã€‚</p>
<p>Slidev å†…ç½®äº† Shiki ä»£ç é«˜äº®å¼•æ“ï¼Œèƒ½å¤Ÿå‘ˆç°å‡ºä¸ IDE ä¸€è‡´çš„ä»£ç å¤–è§‚ã€‚æ›´è¿›ä¸€æ­¥ï¼Œå®ƒçš„ç¼–è¾‘å™¨æ”¯æŒå®æ—¶ç¼–ç èƒ½åŠ›ã€‚</p>
<p>ä½ å¯ä»¥åœ¨æ¼”è®²è¿‡ç¨‹ä¸­ç›´æ¥ä¿®æ”¹å¹»ç¯ç‰‡ä¸Šçš„ä»£ç ï¼Œè§‚ä¼—èƒ½ç«‹å³çœ‹åˆ°ä»£ç å˜æ›´åçš„è¿è¡Œç»“æœã€‚</p>
<p>äº¤äº’æ€§æ˜¯ Slidev åŒºåˆ«äºé™æ€å¹»ç¯ç‰‡çš„å¦ä¸€å¤§ç‰¹å¾ã€‚</p>
<p>ç”±äº Slidev æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª Vue åº”ç”¨ï¼Œä½ å¯ä»¥åœ¨ Markdown ä¸­ç›´æ¥ä½¿ç”¨ HTML å’Œ Vue ç»„ä»¶ã€‚</p>
<p>PPTÂ ä¸å†ä»…ä»…æ˜¯é™æ€å›¾ç‰‡å’Œæ–‡å­—ï¼Œå¯ä»¥åµŒå…¥äº¤äº’å¼å›¾è¡¨ã€å®æ—¶æ•°æ®çœ‹æ¿ï¼Œç”šè‡³æ˜¯å®Œæ•´çš„ Web åº”ç”¨ã€‚</p>
<p>è€Œä¸” Slidev å†…ç½®äº† Mermaid æ”¯æŒã€‚ä½ é€šè¿‡ç¼–å†™æ–‡æœ¬å³å¯è‡ªåŠ¨ç”Ÿæˆæµç¨‹å›¾ã€æ—¶åºå›¾å’Œç”˜ç‰¹å›¾ï¼Œæ— éœ€åœ¨å¤–éƒ¨ç»˜å›¾å·¥å…·ä¸­åå¤è·³è½¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bb29ec1cfc74d1598ed0d6d8e2f56aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=fvQqabZeJ20NXAo1LT2GroshWW0%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>æ€§èƒ½æ–¹é¢ï¼Œå¾—ç›Šäº Vite çš„åº•å±‚æ”¯æŒï¼ŒSlidev çš„å¯åŠ¨é€Ÿåº¦å’Œçƒ­æ›´æ–°é€Ÿåº¦æå¿«ã€‚</p>
<p>ä½ åœ¨ç¼–è¾‘å™¨ä¸­ä¿å­˜ Markdown æ–‡ä»¶çš„ç¬é—´ï¼Œæµè§ˆå™¨ä¸­çš„ PPT å°±ä¼šåŒæ­¥æ›´æ–°ï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°ã€‚</p>
<p>è€Œä¸”æ¼”è®²æ¨¡å¼åŒæ ·è€ƒè™‘å‘¨å…¨ã€‚</p>
<p>å¼€å¯æ¼”è®²è€…æ¨¡å¼åï¼Œä½ å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„è§†å›¾æ¥æŸ¥çœ‹å¤‡æ³¨ã€è®¡æ—¶å™¨å’Œä¸‹ä¸€é¡µé¢„è§ˆï¼Œè€Œè§‚ä¼—åªèƒ½çœ‹åˆ°å½“å‰çš„PPTã€‚</p>
<p>å®ƒç”šè‡³æ”¯æŒé€šè¿‡ç§»åŠ¨ç«¯è®¾å¤‡è¿›è¡Œè¿œç¨‹æ§åˆ¶ï¼Œè®©ä½ åœ¨æ¼”è®²æ—¶è„±ç¦»ç”µè„‘æŸç¼šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/def346a67f32496a981077fbc537e2af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769407855&amp;x-signature=oYr1r2kBXj6K2FJJG1iiBhemVpA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/slidevjs/slidev</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–­ç½‘ã€å¼±ç½‘ã€å…³é¡µéƒ½ä¸æ€•ï¼šå‰ç«¯æ—¥å¿—ä¸ŠæŠ¥æ€ä¹ˆåšåˆ°ä¸ä¸¢åŒ…]]></title>    <link>https://juejin.cn/post/7596247009815412762</link>    <guid>https://juejin.cn/post/7596247009815412762</guid>    <pubDate>2026-01-19T06:22:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596247009815412762" data-draft-id="7595842144906936370" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–­ç½‘ã€å¼±ç½‘ã€å…³é¡µéƒ½ä¸æ€•ï¼šå‰ç«¯æ—¥å¿—ä¸ŠæŠ¥æ€ä¹ˆåšåˆ°ä¸ä¸¢åŒ…"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,ç›‘æ§"/> <meta itemprop="datePublished" content="2026-01-19T06:22:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¸€æ ·çš„å°‘å¹´_"/> <meta itemprop="url" content="https://juejin.cn/user/3035079961218551"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–­ç½‘ã€å¼±ç½‘ã€å…³é¡µéƒ½ä¸æ€•ï¼šå‰ç«¯æ—¥å¿—ä¸ŠæŠ¥æ€ä¹ˆåšåˆ°ä¸ä¸¢åŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3035079961218551/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¸€æ ·çš„å°‘å¹´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:22:27.000Z" title="Mon Jan 19 2026 06:22:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    35
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>ç³»åˆ—å›é¡¾ï¼ˆæ€§èƒ½Â·é”™è¯¯Â·åŸ‹ç‚¹ä¸‰éƒ¨æ›²ï¼‰ï¼š<a href="https://juejin.cn/column/7581619505585209395" target="_blank" title="https://juejin.cn/column/7581619505585209395">ä¸åšå·¥å…·äººï½œä» 0 åˆ° 1 æ‰‹æ“å‰ç«¯ç›‘æ§ SDK</a></p>
<p>åœ¨å‰ä¸‰ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æå®šäº†æ€§èƒ½ã€è¡Œä¸ºå’Œé”™è¯¯çš„é‡‡é›†ã€‚ä½†æœ‰æ˜å‹åœ¨è¯„è®ºåŒºçµé­‚å‘é—®ï¼š<strong>â€œæ•°æ®æ˜¯æŠ“åˆ°äº†ï¼Œ
å‘ä¸å‡ºå»æœ‰å•¥ç”¨ï¼Ÿè¿›ç”µæ¢¯æ–­ç½‘äº†å’‹åŠï¼Ÿé¡µé¢å…³å¤ªå¿«è¯·æ±‚è¢«æäº†å’‹åŠï¼Ÿâ€</strong></p>
<p>ä»Šå¤©è¿™ç¯‡ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠ<strong>å¦‚ä½•ä¸ŠæŠ¥æ•°æ®</strong>ï¼Ÿ</p>
<ul>
<li>ç”¨ä»€ä¹ˆæ–¹å¼ä¸ŠæŠ¥æœ€ç¨³ã€æœ€çœäº‹?</li>
<li>ä»€ä¹ˆæ—¶å€™ä¸ŠæŠ¥æœ€åˆé€‚?</li>
<li>é‡åˆ°æ–­ç½‘/å¼±ç½‘/å…³é¡µæ€ä¹ˆå…œåº•?</li>
</ul>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä¸ŠæŠ¥æ–¹å¼ä¸ç­–ç•¥ï¼šå¦‚ä½•é€‰å‡ºæœ€ä¼˜è§£ï¼Ÿ</h2>
<p>æˆ‘ä»¬å¹³æ—¶ä¸ŠæŠ¥æ•°æ®ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼ï¼š<strong>Imageï¼ˆå›¾ç‰‡è¯·æ±‚ï¼‰</strong>ã€<strong>sendBeacon</strong> å’Œ <strong>XHR/Fetch</strong>ã€‚</p>
<h3 data-id="heading-1"><strong>1. ä¸‰ç§ä¸ŠæŠ¥æ–¹å¼è¯¦è§£</strong></h3>
<h4 data-id="heading-2"><strong>1. GIF/Image</strong></h4>
<p>è¿™æ‹›å°±æ˜¯åˆ©ç”¨å›¾ç‰‡è¯·æ±‚ï¼ˆ<code>new Image().src</code>ï¼‰æ¥ä¼ æ•°æ®ã€‚</p>
<ul>
<li>
<p><strong>åŸç†å¾ˆç®€å•</strong>ï¼šæŠŠè¦ä¸ŠæŠ¥çš„æ•°æ®æ‹¼åœ¨ URL åé¢ï¼ˆå¦‚ <code>https://log.demo.com/gif?id=123</code>ï¼‰ï¼Œæµè§ˆå™¨å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨è§£æå‚æ•°æ‹¿åˆ°æ•°æ®ï¼Œç„¶åè¿”å›ä¸€å¼  1Ã—1 çš„é€æ˜GIFå›¾ï¼ˆä½“ç§¯å°ã€çœ‹ä¸è§ï¼‰ï¼Œæµè§ˆå™¨æ”¶åˆ°åè§¦å‘ <code>onload</code> å›è°ƒå³å®Œæˆä¸ŠæŠ¥ã€‚</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼šå¤©ç„¶æ”¯æŒè·¨åŸŸï¼Œ<strong>ç»æ— â€œé¢„æ£€â€è¯·æ±‚</strong>ï¼ˆå› ä¸ºæ˜¯ç®€å•è¯·æ±‚ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å±€é™</strong>ï¼šåªèƒ½å‘ GET è¯·æ±‚ï¼ŒURL é•¿åº¦æœ‰é™ï¼ˆé€šå¸¸ &lt; 2KBï¼‰ï¼Œæ— æ³•æºå¸¦å¤§æ•°æ®ã€‚</p>
</li>
</ul>
<h4 data-id="heading-3"><strong>2. sendBeacon</strong></h4>
<ul>
<li>
<p><strong>åŸç†</strong>ï¼š<code>navigator.sendBeacon(url, data)</code>ã€‚æµè§ˆå™¨ä¼šå°†æ•°æ®æ”¾å…¥åå°é˜Ÿåˆ—ï¼Œ<strong>å³ä½¿é¡µé¢å…³é—­äº†ï¼Œæµè§ˆå™¨ä¹Ÿä¼šå°½åŠ›å‘é€</strong>ã€‚</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼šå¼‚æ­¥éé˜»å¡ï¼ˆä¸å¡ä¸»çº¿ç¨‹ï¼‰ï¼Œä¸”<strong>å¯é æ€§æé«˜</strong>ã€‚</p>
</li>
<li>
<p><strong>å±€é™</strong>ï¼šæ•°æ®é‡æœ‰é™ï¼ˆçº¦ 64KBï¼‰ï¼Œä¸”æ— æ³•è‡ªå®šä¹‰å¤æ‚çš„è¯·æ±‚å¤´ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4"><strong>3. XHR / Fetch</strong></h4>
<p>æ™®é€šçš„ç½‘ç»œè¯·æ±‚ã€‚</p>
<ul>
<li>
<p><strong>åŸç†</strong>ï¼šä½¿ç”¨ <code>XMLHttpRequest</code> æˆ– <code>fetch</code> å‘é€ POST è¯·æ±‚ã€‚</p>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š<strong>å®¹é‡æå¤§</strong>ï¼ˆå‡ å…†éƒ½æ²¡é—®é¢˜ï¼‰ï¼Œé€‚åˆå‘é€å½•å±ã€é•¿å †æ ˆã€‚</p>
</li>
<li>
<p><strong>å±€é™</strong>ï¼šè·¨åŸŸæ—¶é€šå¸¸ä¼šè§¦å‘ <code>OPTIONS</code> é¢„æ£€ï¼ˆæˆæœ¬é«˜ï¼‰ï¼Œä¸”é¡µé¢å…³é—­æ—¶è¯·æ±‚å®¹æ˜“è¢«ææ–­ï¼ˆfetchéœ€é…åˆ <code>keepalive</code>ï¼‰ã€‚</p>
</li>
</ul>
<p><code>æ³¨</code>: æ‰€è°“çš„é¢„æ£€ï¼Œå°±æ˜¯æµè§ˆå™¨åœ¨å‘é€<strong>è·¨åŸŸä¸”éç®€å•è¯·æ±‚</strong>å‰ï¼Œå…ˆå·å·å‘ä¸ª <code>OPTIONS</code> é—®æœåŠ¡å™¨ï¼šâ€œå¤§ä½¬ï¼Œæˆ‘èƒ½å‘è¿™ä¸ªè¯·æ±‚å—ï¼Ÿâ€ã€‚åªè¦ä½ ç”¨äº†è‡ªå®šä¹‰ Header æˆ– <code>application/json</code> å°±ä¼šè§¦å‘ã€‚è¿™ä¼šå¯¼è‡´è¯·æ±‚é‡ç›´æ¥ç¿»å€ï¼Œåœ¨å¼±ç½‘ä¸‹å¤šä¸€æ¬¡å¾€è¿”å°±å¤šä¸€åˆ†å¤±è´¥çš„é£é™©ã€‚</p>
<h3 data-id="heading-5"><strong>2. ç­–ç•¥ç¯‡ï¼šå¦‚ä½•ç»„åˆä½¿ç”¨ï¼Ÿ</strong></h3>
<p>æ€ä¹ˆé€‰å¹¶ä¸æ˜¯éšæ„å†³å®šçš„ï¼Œè€Œæ˜¯ä¸ºäº†è§£å†³ä¸¤ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æˆæœ¬é—®é¢˜ï¼ˆCORS é¢„æ£€ï¼‰</strong>ï¼šæ‰€è°“çš„é¢„æ£€ï¼Œå°±æ˜¯æµè§ˆå™¨åœ¨å‘é€<strong>è·¨åŸŸä¸”éç®€å•è¯·æ±‚</strong>å‰ï¼Œå…ˆå·å·å‘ä¸ª <code>OPTIONS</code> é—®æœåŠ¡å™¨ï¼šâ€œå¤§ä½¬ï¼Œæˆ‘èƒ½å‘è¿™ä¸ªè¯·æ±‚å—ï¼Ÿâ€ã€‚</p>
<ul>
<li><strong>ä»€ä¹ˆæ—¶å€™è§¦å‘ï¼Ÿ</strong> åªè¦ä½ ç”¨äº†è‡ªå®šä¹‰ Headerï¼ˆå¦‚ <code>X-Token</code>ï¼‰æˆ–è€… <code>Content-Type: application/json</code>ï¼Œå°±ä¼šè§¦å‘ã€‚</li>
<li><strong>åæœæ˜¯å•¥ï¼Ÿ</strong> è¯·æ±‚é‡ç›´æ¥ç¿»å€ï¼Œå¼±ç½‘ä¸‹æˆåŠŸç‡è…°æ–©ã€‚</li>
<li><strong>é¿å‘æŒ‡å—</strong>ï¼šè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šç›‘æ§SDKé€šå¸¸éƒ½æ•…æ„ä½¿ç”¨ <code>text/plain</code> æ¥å‘é€ JSON æ•°æ®ã€‚è™½ç„¶æ•°æ®æ ¼å¼æ˜¯ JSONï¼Œä½†å‘Šè¯‰æµè§ˆå™¨â€œè¿™æ˜¯çº¯æ–‡æœ¬â€ï¼Œå°±èƒ½éª—è¿‡é¢„æ£€ï¼Œç›´æ¥å‘é€ï¼</li>
</ul>
</li>
<li>
<p><strong>å­˜æ´»é—®é¢˜ï¼ˆé¡µé¢å¸è½½ï¼‰</strong>ï¼šç”¨æˆ·å…³é—­é¡µé¢æ—¶ï¼Œæµè§ˆå™¨é€šå¸¸ä¼šç›´æ¥ææ–­æŒ‚èµ·çš„å¼‚æ­¥è¯·æ±‚ï¼Œå¯¼è‡´â€œä¸´ç»ˆé—è¨€â€å‘ä¸å‡ºå»ã€‚</p>
</li>
</ol>
<p>åŸºäºè¿™ä¸¤ä¸ªç»´åº¦ï¼Œæˆ‘ä»¬å°†ä¸‰ç§æ–¹å¼æ’ä¸ªåºï¼Œä¹Ÿå°±å½¢æˆäº†æˆ‘ä»¬çš„<strong>é™çº§ç­–ç•¥</strong>ï¼š</p>
<h3 data-id="heading-6"><strong>1. é¦–é€‰æ–¹æ¡ˆï¼šsendBeaconï¼ˆå…­è¾¹å½¢æˆ˜å£«ï¼‰</strong></h3>
<p><strong>è¿™æ˜¯ç°ä»£æµè§ˆå™¨çš„é¦–é€‰æ–¹æ¡ˆ</strong>ã€‚</p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šä¸“ä¸ºç›‘æ§è®¾è®¡ï¼Œ<strong>é¡µé¢å…³é—­äº†ä¹Ÿèƒ½å‘</strong>ï¼ˆæµè§ˆå™¨å°†å…¶æ”¾å…¥åå°é˜Ÿåˆ—ï¼‰ã€‚</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå®¹é‡é€‚ä¸­ï¼ˆ~64KBï¼‰ï¼Œä¸”é€šå¸¸ä¸è§¦å‘é¢„æ£€ï¼Œå®Œç¾å¹³è¡¡äº†â€œå­˜æ´»â€ä¸â€œæˆæœ¬â€ã€‚</li>
<li><strong>é€‚ç”¨</strong>ï¼šç»å¤§å¤šæ•°ç›‘æ§äº‹ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-7"><strong>2. é™çº§æ–¹æ¡ˆï¼šGIF/Imageï¼ˆè€ç‰Œæ•‘æ˜Ÿï¼‰</strong></h3>
<p><strong>å½“ <code>sendBeacon</code> ä¸å¯ç”¨ï¼ˆå¦‚ IEï¼‰æˆ–æ•°æ®æå°çš„æ—¶å€™ç”¨å®ƒã€‚</strong></p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼š<strong>å¤©ç„¶è·¨åŸŸï¼Œç»æ— é¢„æ£€</strong>ã€‚åˆ©ç”¨ <code>new Image().src</code> å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€å¼  1x1 é€æ˜å›¾å³å¯ã€‚</li>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå…¼å®¹æ€§æ— æ•Œï¼Œä½†æ•°æ®é‡å— URL é•¿åº¦é™åˆ¶ï¼ˆ~2KBï¼‰ï¼Œä¸”é¡µé¢å…³é—­æ—¶å‘é€æˆåŠŸç‡ä½ã€‚</li>
<li><strong>é€‚ç”¨</strong>ï¼šPVã€ç‚¹å‡»ã€å¿ƒè·³ç­‰è½»é‡æŒ‡æ ‡ã€‚</li>
</ul>
<h3 data-id="heading-8"><strong>3. å…œåº•æ–¹æ¡ˆï¼šXHR / Fetch</strong></h3>
<p><strong>åªæœ‰å‰ä¸¤æ‹›æä¸å®šæ—¶ï¼ˆæ•°æ®é‡å¤ªå¤§ï¼‰æ‰ç”¨å®ƒã€‚</strong></p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šå®¹é‡æå¤§ï¼Œé€‚åˆä¼ å½•å±ã€å¤§æ®µé”™è¯¯å †æ ˆã€‚</li>
<li><strong>åŠ£åŠ¿</strong>ï¼šè·¨åŸŸéº»çƒ¦ï¼ˆéœ€é… CORSï¼‰ï¼Œæœ‰é¢„æ£€æˆæœ¬ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šä½¿ç”¨ Fetch æ—¶åŠ¡å¿…åŠ  <code>keepalive: true</code>ï¼Œå‘Šè¯‰æµè§ˆå™¨â€œå°±ç®—é¡µé¢å…³äº†ä¹Ÿåˆ«æ€æˆ‘â€ï¼Œå°½é‡æå‡å¸è½½æ—¶çš„æˆåŠŸç‡ã€‚</li>
</ul>
<h3 data-id="heading-9"><strong>é€‰å‹å¯¹æ¯”è¡¨</strong></h3>





































<table><thead><tr><th align="left">æ–¹æ¡ˆ</th><th align="left">è·¨åŸŸ/é¢„æ£€</th><th align="left">å¸è½½å¯é æ€§</th><th align="left">æ•°æ®å®¹é‡</th><th align="left">æ ¸å¿ƒä¼˜åŠ¿</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>sendBeacon</strong></td><td align="left">æ”¯æŒ / <strong>æ— é¢„æ£€</strong></td><td align="left"><strong>é«˜</strong></td><td align="left">ä¸­ (~64KB)</td><td align="left"><strong>å…³é¡µä¹Ÿèƒ½å‘</strong>ï¼Œä¸å ä¸»çº¿ç¨‹</td><td align="left"><strong>é¦–é€‰</strong>ï¼Œå¤§å¤šæ•°ç›‘æ§äº‹ä»¶</td></tr><tr><td align="left"><strong>GIF/Image</strong></td><td align="left">æ”¯æŒ / <strong>æ— é¢„æ£€</strong></td><td align="left">ä½</td><td align="left">å° (~2KB)</td><td align="left">å…¼å®¹æ€§å¼ºï¼Œæ— é¢„æ£€</td><td align="left">é™çº§æ–¹æ¡ˆï¼ŒPV/ç‚¹å‡»/å¿ƒè·³</td></tr><tr><td align="left"><strong>XHR/Fetch</strong></td><td align="left">éœ€ CORS / æœ‰</td><td align="left">ä½</td><td align="left"><strong>å¤§</strong></td><td align="left">èƒ½ä¼ å¤§æ•°æ®</td><td align="left">é”™è¯¯å †æ ˆã€å½•å±</td></tr></tbody></table>
<hr/>
<p><strong>æ€»ç»“æˆ‘ä»¬çš„ä»£ç å¥—è·¯ï¼ˆé™çº§ç­–ç•¥ï¼‰ï¼š</strong></p>
<ol>
<li><strong>å°åŒ…ï¼ˆ&lt; 2KBï¼Œå•æ¡äº‹ä»¶ï¼‰</strong>ï¼šä¼˜å…ˆ <code>sendBeacon</code>ï¼›è‹¥ä¸æ”¯æŒï¼Œå†èµ° <code>Image</code> GETï¼ˆé™„ <code>_ts</code> é˜²ç¼“å­˜ï¼‰ã€‚</li>
<li><strong>ä¸­åŒ…ï¼ˆâ‰¤ 64KBï¼‰</strong>ï¼š<code>sendBeacon</code> ä¸ºé¦–é€‰ï¼›è‹¥ä¸æ”¯æŒï¼Œå›é€€åˆ° <code>Fetch/XHR</code>ï¼Œ<code>Content-Type: text/plain</code> + <code>keepalive: true</code>ã€‚</li>
<li><strong>å¤§åŒ…ï¼ˆ&gt; 64KBï¼‰</strong>ï¼š<code>Fetch/XHR</code> æ‰¿è½½ï¼Œå¿…è¦æ—¶æ‹†åŒ…åˆ†æ‰¹å‘é€ã€‚</li>
</ol>
<p>ä¸‹é¢æ˜¯å°è£…å¥½çš„ <code>transport</code>ä¸ŠæŠ¥å‡½æ•°ï¼Œç›´æ¥æ‹¿å»ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">REPORT_URL</span> = <span class="hljs-string">'https://log.your-domain.com/collect'</span>; 
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX_URL_LENGTH</span> = <span class="hljs-number">2048</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX_BEACON_BYTES</span> = <span class="hljs-number">64</span> * <span class="hljs-number">1024</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">byteLen</span>(<span class="hljs-params">s</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>().<span class="hljs-title function_">encode</span>(s).<span class="hljs-property">length</span>;
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-keyword">return</span> s.<span class="hljs-property">length</span>;
  }
}

<span class="hljs-comment">/**
 * é€šç”¨ä¸ŠæŠ¥å‡½æ•°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object|Array</span>} <span class="hljs-variable">data</span> - ä¸ŠæŠ¥æ•°æ®
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;void&gt;</span>} - æˆåŠŸ resolveï¼Œå¤±è´¥ reject
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">transport</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> isArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(data);
  <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data);

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-comment">// 1. ä¼˜å…ˆå°è¯• sendBeacon</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šsendBeacon æ˜¯åŒæ­¥å…¥é˜Ÿï¼Œè¿”å› true ä»…ä»£è¡¨å…¥é˜ŸæˆåŠŸï¼Œä¸ä¸€å®šæ˜¯å‘é€æˆåŠŸ</span>
    <span class="hljs-keyword">if</span> (navigator.<span class="hljs-property">sendBeacon</span> &amp;&amp; <span class="hljs-title function_">byteLen</span>(json) &lt;= <span class="hljs-variable constant_">MAX_BEACON_BYTES</span>) {
      <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([json], { <span class="hljs-attr">type</span>: <span class="hljs-string">'text/plain'</span> });
      <span class="hljs-comment">// å¦‚æœå…¥é˜ŸæˆåŠŸï¼Œç›´æ¥ resolveï¼ˆä¹è§‚ç­–ç•¥ï¼‰</span>
      <span class="hljs-keyword">if</span> (navigator.<span class="hljs-title function_">sendBeacon</span>(<span class="hljs-variable constant_">REPORT_URL</span>, blob)) {
        <span class="hljs-title function_">resolve</span>();
        <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-comment">// å¦‚æœå…¥é˜Ÿå¤±è´¥ï¼ˆå¦‚é˜Ÿåˆ—å·²æ»¡ï¼‰ï¼Œä¸ rejectï¼Œè€Œæ˜¯ç»§ç»­å¾€ä¸‹èµ°é™çº§æ–¹æ¡ˆ</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'[Beacon] å…¥é˜Ÿå¤±è´¥ï¼Œå°è¯•é™çº§...'</span>);
    }

    <span class="hljs-comment">// 2. å•æ¡å°æ•°æ®å°è¯• Image (GET)</span>
    <span class="hljs-keyword">if</span> (!isArray) {
      <span class="hljs-keyword">const</span> params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(data);
      params.<span class="hljs-title function_">append</span>(<span class="hljs-string">'_ts'</span>, <span class="hljs-title class_">String</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()));
      <span class="hljs-keyword">const</span> qs = params.<span class="hljs-title function_">toString</span>();
      <span class="hljs-keyword">const</span> sep = <span class="hljs-variable constant_">REPORT_URL</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'?'</span>) ? <span class="hljs-string">'&amp;'</span> : <span class="hljs-string">'?'</span>;
      
      <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">REPORT_URL</span>.<span class="hljs-property">length</span> + sep.<span class="hljs-property">length</span> + qs.<span class="hljs-property">length</span> &lt; <span class="hljs-variable constant_">MAX_URL_LENGTH</span>) {
        <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
        img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(); <span class="hljs-comment">// æˆåŠŸ</span>
        img.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Image ä¸ŠæŠ¥å¤±è´¥'</span>)); <span class="hljs-comment">// å¤±è´¥</span>
        img.<span class="hljs-property">src</span> = <span class="hljs-variable constant_">REPORT_URL</span> + sep + qs;
        <span class="hljs-keyword">return</span>;
      }
    }

    <span class="hljs-comment">// 3. å…œåº•æ–¹æ¡ˆï¼šFetch &gt; XHR</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">fetch</span>) {
      <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">REPORT_URL</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/plain'</span> },
        <span class="hljs-attr">body</span>: json,
        <span class="hljs-attr">keepalive</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…³é”®ï¼šå…è®¸é¡µé¢å…³é—­åç»§ç»­å‘é€</span>
      })
        .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (res.<span class="hljs-property">ok</span>) <span class="hljs-title function_">resolve</span>();
          <span class="hljs-keyword">else</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Fetch å¤±è´¥: <span class="hljs-subst">${res.status}</span>`</span>));
        })
        .<span class="hljs-title function_">catch</span>(reject);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// IE å…¼å®¹</span>
      <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
      xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">'POST'</span>, <span class="hljs-variable constant_">REPORT_URL</span>, <span class="hljs-literal">true</span>);
      xhr.<span class="hljs-title function_">setRequestHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>);
      xhr.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.<span class="hljs-property">status</span> &lt; <span class="hljs-number">300</span>) <span class="hljs-title function_">resolve</span>();
        <span class="hljs-keyword">else</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`XHR å¤±è´¥: <span class="hljs-subst">${xhr.status}</span>`</span>));
      };
      xhr.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'XHR ç½‘ç»œé”™è¯¯'</span>));
      xhr.<span class="hljs-title function_">send</span>(json);
    }
  });
}
</code></pre>
<h2 data-id="heading-10">äºŒã€ä¸ŠæŠ¥æ—¶æœºï¼šä¸é˜»å¡ä¸»çº¿ç¨‹å¹²æ‰°ä¸šåŠ¡ï¼Œæ–­ç½‘äº†ä¹Ÿä¸ä¸¢æ•°æ®</h2>
<h3 data-id="heading-11">1. è°ƒåº¦å±‚ï¼šåŒºåˆ†ä¼˜å…ˆçº§ï¼Œå…³é”®æ—¶åˆ»ä¸ç­‰å¾…</h3>
<p>ä¸æ˜¯æ‰€æœ‰æ•°æ®éƒ½é€‚åˆâ€œæ”’ç€å‘â€ã€‚æˆ‘ä»¬éœ€è¦æ ¹æ®é‡è¦ç¨‹åº¦å°†æ—¥å¿—åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<ul>
<li>
<p><strong>å³æ—¶ä¸ŠæŠ¥ï¼ˆImmediateï¼‰</strong>ï¼šæ”¶é›†åˆ°ç«‹å³ä¸ŠæŠ¥ã€‚</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šJS æŠ¥é”™é˜»æ–­äº†æµç¨‹ã€ç”¨æˆ·ç‚¹å‡»äº†â€œæ”¯ä»˜â€æŒ‰é’®ã€æ¥å£è¿”å› 500 ç­‰ã€‚</li>
<li><strong>åŸå› </strong>ï¼šè¿™äº›æ•°æ®å¯¹å®æ—¶æ€§è¦æ±‚æé«˜ï¼Œæˆ–è€…å…³ç³»åˆ°ç›‘æ§ç³»ç»Ÿçš„æŠ¥è­¦ï¼ˆæ¯”å¦‚çº¿ä¸Šç™½å±äº†ï¼Œä½ å¾—é©¬ä¸ŠçŸ¥é“ï¼‰ï¼Œä¸èƒ½å› ä¸ºæ”’ç€å‘è€Œè€½è¯¯äº†ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰¹é‡ä¸ŠæŠ¥ï¼ˆBatchï¼‰</strong>ï¼šæ”’ä¸€æ³¢å†å‘ã€‚</p>
<ul>
<li><strong>åœºæ™¯</strong>ï¼šç”¨æˆ·ç‚¹å‡»ã€æ»šåŠ¨ã€æ€§èƒ½æŒ‡æ ‡ã€API æˆåŠŸæ—¥å¿—ã€‚è¿™ç±»æ•°æ®é‡å¤§ä½†å®æ—¶æ€§è¦æ±‚ä½</li>
<li><strong>ç­–ç•¥</strong>ï¼š<strong>â€œé‡â€ä¸â€œæ—¶â€åŒé‡è§¦å‘ï¼ˆç«æ€å…³ç³»ï¼‰</strong>ã€‚æ¯”å¦‚ï¼šæ”’å¤Ÿ 10 æ¡ç«‹é©¬å‘ï¼ˆé˜²æ­¢å †ç§¯å¤ªå¤šï¼‰ï¼Œæˆ–è€…æ¯éš” 5 ç§’å‘ä¸€æ¬¡ï¼ˆé˜²æ­¢æ•°é‡ä¸å¤Ÿä¸€ç›´ä¸å‘ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<p>ä»£ç æ€ä¹ˆå†™ï¼Ÿå…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•çš„<strong>åŒä¿é™©è°ƒåº¦å™¨</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> queue = [];
<span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">QUEUE_MAX</span> = <span class="hljs-number">10</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">QUEUE_WAIT</span> = <span class="hljs-number">5000</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">flush</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (!queue.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-comment">// 1. æŠŠå½“å‰é˜Ÿåˆ—çš„æ•°æ®å¤åˆ¶å‡ºæ¥</span>
  <span class="hljs-keyword">const</span> batch = queue.<span class="hljs-title function_">slice</span>();
  
  <span class="hljs-comment">// 2. æ¸…ç©ºé˜Ÿåˆ—ä¸å®šæ—¶å™¨</span>
  queue.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
  <span class="hljs-built_in">clearTimeout</span>(timer);
  timer = <span class="hljs-literal">null</span>;

  <span class="hljs-comment">// 3. åˆ©ç”¨ç©ºé—²æ—¶é—´å‘é€ï¼ˆæ€§èƒ½ä¼˜åŒ–ç‚¹ï¼‰</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-string">'requestIdleCallback'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
    <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">transport</span>(batch), { <span class="hljs-attr">timeout</span>: <span class="hljs-number">2000</span> });
  } <span class="hljs-keyword">else</span> {
     <span class="hljs-comment">// é™çº§å…¼å®¹</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">transport</span>(batch), <span class="hljs-number">0</span>);
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">report</span>(<span class="hljs-params">log, immediate = <span class="hljs-literal">false</span></span>) {
  <span class="hljs-comment">// 1. ç´§æ€¥æƒ…å†µï¼šç»•è¿‡é˜Ÿåˆ—ï¼Œç›´æ¥å‘</span>
  <span class="hljs-keyword">if</span> (immediate) {
    <span class="hljs-title function_">transport</span>(log);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 2. æ™®é€šæƒ…å†µï¼šè¿›å…¥é˜Ÿåˆ—ï¼ˆå¦‚ ç‚¹å‡»ã€PVï¼‰</span>
  queue.<span class="hljs-title function_">push</span>({ ...log, <span class="hljs-attr">ts</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
  
  <span class="hljs-comment">// 3. æ£€æŸ¥è§¦å‘æ¡ä»¶ï¼ˆåŒé‡ä¿é™©ï¼‰</span>
  <span class="hljs-keyword">if</span> (queue.<span class="hljs-property">length</span> &gt;= <span class="hljs-variable constant_">QUEUE_MAX</span>) {
    <span class="hljs-title function_">flush</span>();
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!timer) {
    timer = <span class="hljs-built_in">setTimeout</span>(flush, <span class="hljs-variable constant_">QUEUE_WAIT</span>);
  }
}

<span class="hljs-comment">// 4. ä¸´ç»ˆå…œåº•ï¼šé¡µé¢å…³é—­/éšè—æ—¶ï¼Œå¼ºåˆ¶æŠŠå‰©ä¸‹çš„éƒ½å‘èµ°</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'visibilitychange'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">visibilityState</span> === <span class="hljs-string">'hidden'</span>) <span class="hljs-title function_">flush</span>();
});
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'pagehide'</span>, flush);
</code></pre>
<p><strong>æ•´ä½“æ€è·¯ï¼šé˜Ÿåˆ—æš‚å­˜ + å¤šé‡è§¦å‘</strong></p>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ï¼ˆ<code>queue</code>ï¼‰æ¥æš‚å­˜æ—¥å¿—ï¼Œç„¶åé€šè¿‡ <strong>â€œé‡å¤Ÿäº†â€ã€â€œæ—¶é—´åˆ°äº†â€æˆ–â€œé¡µé¢è¦å…³äº†â€</strong> è¿™ä¸‰ä¸ªæ—¶æœºæ¥è§¦å‘å‘é€ï¼Œç¡®ä¿æ—¢ä¸ç§¯å‹ä¹Ÿä¸é¢‘ç¹æ‰“æ‰°æœåŠ¡å™¨ã€‚</p>
<p><strong>æ€§èƒ½ä¼˜åŒ–ï¼šé—²æ—¶ä¼˜å…ˆ</strong></p>
<p>å‘é€æ—¶ï¼Œæˆ‘ä»¬é¦–é€‰ <code>requestIdleCallback</code>ã€‚å‘Šè¯‰æµè§ˆå™¨ä½ å…ˆå¿™ä½ çš„ï¼ˆæ¸²æŸ“ã€å“åº”ç‚¹å‡»ï¼‰ï¼Œç­‰ä½ æœ‰ç©ºäº†å†å¸®æˆ‘å‘ç›‘æ§æ•°æ®</p>
<ul>
<li>è¿™æ ·èƒ½æœ€å¤§é™åº¦å‡å°‘å¯¹ä¸šåŠ¡ä¸»çº¿ç¨‹çš„é˜»å¡ï¼Œè®©ç”¨æˆ·æ„Ÿè§‰ä¸åˆ°ç›‘æ§çš„å­˜åœ¨ã€‚</li>
<li>å½“ç„¶ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒè¿™ä¸ª APIï¼Œæˆ‘ä»¬å†é™çº§ç”¨ <code>setTimeout</code> å…œåº•ã€‚</li>
</ul>
<h3 data-id="heading-12">2. å®¹ç¾å±‚ï¼šæ–­ç½‘äº†ï¼Œæ—¥å¿—æ€ä¹ˆåŠï¼Ÿ</h3>
<p>å¦‚æœåœ¨ç”µæ¢¯é‡Œæ–­ç½‘äº†æˆ–è€…å¼±ç½‘ç¯å¢ƒä¸‹ï¼Œè¯·æ±‚å‘ä¸å‡ºå»æ€ä¹ˆåŠï¼Ÿæ—¥å¿—ä¸¢äº†æ€ä¹ˆåŠã€‚
æˆ‘ä»¬çš„ç­–ç•¥æ˜¯ <strong>â€œå…ˆè®°åœ¨æœ¬å­ä¸Šï¼Œç­‰æœ‰ç½‘äº†å†è¡¥äº¤ä½œä¸šâ€</strong>ï¼š</p>
<ol>
<li><strong>æ–­ç½‘æ—¶</strong>ï¼šæŠŠæ—¥å¿—å­˜åˆ° <code>localStorage</code> é‡Œï¼ˆæ³¨æ„è®¾ç½®ä¸Šé™ï¼Œåˆ«æŠŠç”¨æˆ·æµè§ˆå™¨æ’‘çˆ†äº†ï¼Œå¯ç”¨IndexedDBä¼˜åŒ–ï¼‰ã€‚</li>
<li><strong>è¿ç½‘æ—¶</strong>ï¼šç›‘å¬ <code>online</code> äº‹ä»¶ï¼ŒæŠŠå­˜çš„æ—¥å¿—æ‹¿å‡ºæ¥ï¼Œ<strong>åˆ†æ‰¹</strong>å‘ç»™æœåŠ¡å™¨ï¼ˆåˆ«ä¸€æ¬¡æ€§å…¨å‘è¿‡å»ï¼Œå®¹æ˜“æŠŠåç«¯æ‰“æŒ‚ï¼‰ã€‚</li>
</ol>
<p><strong>å…·ä½“æ€ä¹ˆåˆ¤æ–­æœ‰æ²¡æœ‰ç½‘å‘¢ï¼Ÿ</strong></p>
<p>é€šå¸¸æˆ‘ä»¬ç”¨ navigator.onLine æ¥çœ‹ã€‚å¦‚æœè¿”å›å€¼æ˜¯ false ï¼Œé‚£è‚¯å®šæ˜¯æ²¡ç½‘ï¼Œç›´æ¥å­˜æœ¬åœ°ã€‚</p>
<p>ä½†å‘å°±å‘åœ¨ï¼Œè¿™ç©æ„å„¿æœ‰æ—¶å€™ä¼š â€œæ’’è°â€ â€”â€” æ¯”å¦‚è¿ä¸Šäº†é…’åº— WiFi ä½†æ²¡ç™»å½•ï¼Œæˆ–è€…å®½å¸¦æ¬ è´¹äº†ã€‚è¿™æ—¶å€™å®ƒè™½ç„¶æ˜¾ç¤º true ï¼ˆåœ¨çº¿ï¼‰ï¼Œä½†å…¶å®æ ¹æœ¬ä¸Šä¸äº†ç½‘ã€‚</p>
<p>æ‰€ä»¥å’±ä»¬å¾—ç•™ä¸€æ‰‹ï¼š
å“ªæ€•å®ƒè¯´â€œåœ¨çº¿â€ï¼Œæˆ‘ä»¬ä¹Ÿå…ˆè¯•ç€ä¸ŠæŠ¥ä¸€ä¸‹ã€‚ è¦æ˜¯æŠ¥é”™äº†å‘ä¸å‡ºå»ï¼Œåˆ«ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼Œå…ˆæŠŠè¿™æ¡æ—¥å¿—å­˜æœ¬åœ°ä¿åº•ï¼ˆåƒä¸‡åˆ«ä¸¢æ•°æ®ï¼‰ï¼Œç„¶åå†å» Ping ä¸€ä¸‹çœ‹çœ‹åˆ°åº•æ˜¯ä¸æ˜¯çœŸæ–­ç½‘äº† ï¼Œé¡ºä¾¿æ›´æ–°ä¸€ä¸‹ç½‘ç»œçŠ¶æ€ã€‚è¿™æ ·æœ€ç¨³ã€‚</p>
<h4 data-id="heading-13"><strong>1. ç½‘ç»œçŠ¶æ€çš„æ£€æµ‹</strong></h4>
<p>NetworkManagerè¿™ä¸ªæ¨¡å—ä¸“é—¨è´Ÿè´£ç›¯ç€ç½‘ç»œï¼Œå®ƒå¾ˆèªæ˜ï¼Œåªæœ‰åœ¨å‘é€æ—¥å¿—å¤±è´¥çš„æ—¶å€™æ‰ä¼šå»å¤æ ¸ç½‘ç»œçœŸä¼ªã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title class_">NetworkManager</span> = {
  <span class="hljs-attr">online</span>: navigator.<span class="hljs-property">onLine</span>,
  
  <span class="hljs-comment">// åˆå§‹åŒ–ï¼šç›¯ç€ç³»ç»Ÿçš„ online/offline äº‹ä»¶</span>
  <span class="hljs-title function_">init</span>(<span class="hljs-params">onBackOnline</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'online'</span>, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-comment">// åˆ«é«˜å…´å¤ªæ—©ï¼Œå…ˆçœ‹çœ‹æ˜¯ä¸æ˜¯çœŸçš„èƒ½ä¸Šç½‘</span>
      <span class="hljs-keyword">const</span> realWait = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">verify</span>();
      <span class="hljs-keyword">if</span> (realWait) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">online</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-title function_">onBackOnline</span>(); <span class="hljs-comment">// çœŸçš„å›ç½‘äº†ï¼Œèµ¶ç´§è¡¥ä¼ ï¼</span>
      }
    });
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'offline'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">online</span> = <span class="hljs-literal">false</span>);
  },

  <span class="hljs-comment">// â€œæµ‹è°ä»ªâ€ï¼šå‘ä¸ª HEAD è¯·æ±‚çœ‹çœ‹</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">verify</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// è¯·æ±‚ä¸ª favicon æˆ–è€… 1x1 å›¾ç‰‡ï¼Œåªè¦å“åº”äº†è¯´æ˜ç½‘é€šäº†</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/favicon.ico'</span>, { <span class="hljs-attr">method</span>: <span class="hljs-string">'HEAD'</span>, <span class="hljs-attr">cache</span>: <span class="hljs-string">'no-store'</span> });
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">catch</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  }
};
</code></pre>
<h4 data-id="heading-14">2. æ ¸å¿ƒä¸ŠæŠ¥ï¼šèƒ½å‘å°±å‘ï¼Œä¸è¡Œå°±å­˜æœ¬åœ°</h4>
<p>ä¸ŠæŠ¥å‡½æ•°ç°åœ¨å˜å¾—éå¸¸æœ‰å¼¹æ€§ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">reportData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-comment">// 1. å¦‚æœæ˜ç¡®çŸ¥é“æ²¡ç½‘ï¼Œç›´æ¥å­˜æœ¬åœ° (çœä¸€æ¬¡è¯·æ±‚)</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">NetworkManager</span>.<span class="hljs-property">online</span>) {
    <span class="hljs-title function_">saveToLocal</span>(data);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// 2. å°è¯•å‘é€</span>
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">transport</span>(data);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¸ŠæŠ¥è¯·æ±‚å¤±è´¥:'</span>, err);
    
    <span class="hljs-comment">// 3. ä¸ç®¡æ˜¯å› ä¸ºæ–­ç½‘ã€è¶…æ—¶ã€è¿˜æ˜¯æœåŠ¡å™¨æŒ‚äº†</span>
    <span class="hljs-comment">// åªè¦æ²¡æˆåŠŸï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯å­˜æœ¬åœ°ï¼ä¿è¯è¿™æ¡æ—¥å¿—ä¸ä¸¢ï¼</span>
    <span class="hljs-title function_">saveToLocal</span>(data);

    <span class="hljs-comment">// 4. ç„¶åå†æ¥è¯Šæ–­ç½‘ç»œï¼Œå†³å®šåç»­ç­–ç•¥</span>
    <span class="hljs-comment">// åªæœ‰å½“æ˜¯ç½‘ç»œå±‚é¢çš„é”™è¯¯ï¼ˆå¦‚ fetch throw Errorï¼‰æ‰å»æ€€ç–‘ç½‘ç»œ</span>
    <span class="hljs-comment">// å¦‚æœæ˜¯ 500 é”™è¯¯ï¼Œå…¶å®ç½‘æ˜¯é€šçš„ï¼Œä¸ç”¨ forceOffline</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isNetworkError</span>(err)) {
       <span class="hljs-comment">// 5. Ping ç¡®è®¤</span>
        <span class="hljs-title class_">NetworkManager</span>.<span class="hljs-title function_">verify</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-title class_">NetworkManager</span>.<span class="hljs-property">online</span> = res);
    }
  }
}

<span class="hljs-comment">/**
 * åˆ¤æ–­æ˜¯å¦ä¸ºç½‘ç»œå±‚é¢çš„é”™è¯¯
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isNetworkError</span>(<span class="hljs-params">err</span>) {
  <span class="hljs-comment">// åŸç”Ÿ fetch çš„ç½‘ç»œé”™è¯¯é€šå¸¸æ˜¯ TypeError: Failed to fetch</span>
  <span class="hljs-comment">// å¦‚æœæ˜¯ä½¿ç”¨ Axiosï¼Œåˆ™å¯ä»¥é€šè¿‡ !err.response æ¥åˆ¤æ–­</span>
  <span class="hljs-keyword">return</span> err <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">TypeError</span> || (err.<span class="hljs-property">request</span> &amp;&amp; !err.<span class="hljs-property">response</span>);
}

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RETRY_KEY</span> = <span class="hljs-string">'RETRY_LOGS'</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RETRY_MAX_ITEMS</span> = <span class="hljs-number">1000</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">saveToLocal</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> raws = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">RETRY_KEY</span>);
  <span class="hljs-keyword">const</span> logs = raws ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(raws) : [];
  logs.<span class="hljs-title function_">push</span>(data);
  <span class="hljs-keyword">if</span> (logs.<span class="hljs-property">length</span> &gt; <span class="hljs-variable constant_">RETRY_MAX_ITEMS</span>) {
    logs.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, logs.<span class="hljs-property">length</span> - <span class="hljs-variable constant_">RETRY_MAX_ITEMS</span>);
  }
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">RETRY_KEY</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(logs));
}
</code></pre>
<h4 data-id="heading-15"><strong>3. è¡¥ä¼ é€»è¾‘ï¼šåˆ«æŠŠæœåŠ¡å™¨å¹²å´©äº†</strong></h4>
<p>ç­‰åˆ°ç½‘ç»œæ¢å¤ï¼Œæœ¬åœ°æ”’äº†ä¸€å †â€œæ¬ è´¦â€ï¼Œåƒä¸‡åˆ«ä¸€è‚¡è„‘å„¿å…¨å‘è¿‡å»ï¼ˆä¸‡ä¸€æœ¬åœ°å­˜äº† 500 æ¡ï¼Œä¸€æ¬¡å…¨å‘ä¼šæŠŠæœåŠ¡å™¨æ‰“çˆ†çš„ï¼‰ã€‚</p>
<p>æˆ‘ä»¬è¦<strong>æœ‰èŠ‚å¥</strong>åœ°è¡¥ä¼ ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">flushLogs</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> logs = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'RETRY_LOGS'</span>) || <span class="hljs-string">'[]'</span>);
  <span class="hljs-keyword">if</span> (!logs.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[å›è¡€] å‘ç° <span class="hljs-subst">${logs.length}</span> æ¡æ¬ è´¦ï¼Œå¼€å§‹è¡¥ä¼ ...`</span>);

  <span class="hljs-keyword">while</span> (logs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// 1. æ¯æ¬¡åªå– 5 æ¡ï¼Œå°ç¢æ­¥èµ°</span>
    <span class="hljs-keyword">const</span> batch = logs.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// 2. è°ƒç”¨ä¸ŠæŠ¥ä¸­å¿ƒ</span>
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">transport</span>(batch); 
      
      <span class="hljs-comment">// 3. åªæœ‰æˆåŠŸäº†ï¼Œæ‰æŠŠè¿™ 5 æ¡ä» logs é‡Œå‰”é™¤</span>
      logs.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">RETRY_LOGS</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(logs));
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-comment">// 4. å¦‚æœå¤±è´¥äº†ï¼ˆæ–­ç½‘æˆ–æœåŠ¡å™¨æŒ‚äº†ï¼‰</span>
      <span class="hljs-comment">// æ­¤æ—¶ logs é‡Œé¢è¿˜ä¿ç•™ç€é‚£ 5 æ¡æ•°æ®ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒä¸¢å¤±</span>
      <span class="hljs-comment">// è®°å½•ä¸€ä¸‹çŠ¶æ€ï¼Œç›´æ¥è·³å‡ºå¾ªç¯ï¼Œç­‰ä¸‹æ¬¡ NetworkManager å”¤é†’</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¡¥ä¼ ä¸­é€”å¤±è´¥ï¼Œä¿ç•™å‰©ä½™æ¬ è´¦'</span>);
      <span class="hljs-keyword">break</span>; 
    }
    
    <span class="hljs-comment">// 2. æ­‡åŠç§’é’Ÿï¼Œç»™æ­£å¸¸ä¸šåŠ¡è¯·æ±‚è®©ä¸ªé“</span>
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(r, <span class="hljs-number">500</span>));
  }
}
</code></pre>
<h2 data-id="heading-16">ä¸‰ã€æ€»ç»“ä¸å®æˆ˜å»ºè®®</h2>
<p>ç›‘æ§ä¸ŠæŠ¥è¿™äº‹å„¿çœ‹ç€ä¸éš¾ï¼Œå…¶å®é—¨é“ä¸å°‘ã€‚è¦åœ¨<strong>æ•°æ®ä¸ä¸¢</strong>å’Œ<strong>ä¸æ‰“æ‰°ç”¨æˆ·</strong>ä¹‹é—´æ‰¾å¹³è¡¡ï¼Œå’±ä»¬å¾—æ¥ä¸€å¥—â€œç»„åˆæ‹³â€ï¼š</p>
<ol>
<li><strong>ä¸ŠæŠ¥æ–¹å¼</strong>ï¼š<strong>sendBeacon ä¸ºä¸»ï¼ŒImage ä¸ºè¾…ï¼ŒXHR/Fetch å…œåº•</strong>ã€‚åˆ©ç”¨ <code>sendBeacon</code> çš„ç‰¹æ€§è§£å†³é¡µé¢å¸è½½æ—¶çš„ä¸¢åŒ…é—®é¢˜ï¼Œåˆ©ç”¨ <code>Image</code> è§£å†³è·¨åŸŸé¢„æ£€çš„æˆæœ¬é—®é¢˜ã€‚</li>
<li><strong>ä¸ŠæŠ¥æ—¶æœº</strong>ï¼š<strong>é—²æ—¶ä¸ŠæŠ¥ + æ‰¹é‡æ‰“åŒ…</strong>ã€‚åˆ©ç”¨ <code>requestIdleCallback</code> ä¸å ç”¨ä¸»çº¿ç¨‹ï¼Œé€šè¿‡é˜Ÿåˆ—æœºåˆ¶å‡å°‘ HTTP è¯·æ±‚é¢‘æ¬¡ã€‚</li>
<li><strong>æ–­ç½‘å¤„ç†</strong>ï¼š<strong>æœ¬åœ°ç¼“å­˜ + ç½‘ç»œä¾¦æµ‹</strong>ã€‚æ–­ç½‘æ—¶å°†æ•°æ®æŒä¹…åŒ–åˆ° LocalStorageï¼Œå¾…ç½‘ç»œæ¢å¤ååˆ†æ‰¹è¡¥ä¼ ï¼Œç¡®ä¿â€œä¸€æ¡éƒ½ä¸ä¸¢â€ã€‚</li>
</ol>
<p><strong>æœ€åï¼Œç»™å¼€å‘è€…çš„ 3 ä¸ªé¿å‘å°è´´å£«ï¼š</strong></p>
<ul>
<li><strong>ä¸è¦è¿·ä¿¡ <code>navigator.onLine</code></strong>ï¼šå®ƒåªèƒ½åˆ¤æ–­æœ‰æ²¡æœ‰è¿æ¥åˆ°å±€åŸŸç½‘ï¼Œä¸èƒ½åˆ¤æ–­æ˜¯å¦çœŸçš„èƒ½ä¸Šç½‘ã€‚ä¸€å®šè¦é…åˆå®é™…çš„è¯·æ±‚æ¢æµ‹ã€‚</li>
<li><strong>æ§åˆ¶è¡¥ä¼ èŠ‚å¥</strong>ï¼šç½‘ç»œæ¢å¤åï¼Œåƒä¸‡åˆ«ä¸€æ¬¡æ€§æŠŠç§¯å‹çš„å‡ ç™¾æ¡æ—¥å¿—å…¨å‘å‡ºå»ï¼Œè¿™å±äºâ€œDDoS æ”»å‡»â€è‡ªå®¶æœåŠ¡å™¨ã€‚è¦åˆ†æ‰¹ã€ç”šè‡³åŠ éšæœºå»¶è¿Ÿå‘é€ã€‚</li>
<li><strong>éšç§ä¸åˆè§„</strong>ï¼šä¸ŠæŠ¥æ•°æ®å‰ï¼ŒåŠ¡å¿…å¯¹æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ Tokenã€ç”¨æˆ·æ‰‹æœºå·ï¼‰è¿›è¡Œè„±æ•å¤„ç†ï¼Œè¿™æ˜¯çº¢çº¿ã€‚</li>
</ul>
<p>å¦‚æœä½ æœ‰æ›´å¥½çš„æ€è·¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ä»£ç å¹³å°ä¸­çš„å…³è”è”åŠ¨è®¾è®¡]]></title>    <link>https://juejin.cn/post/7596681780372865050</link>    <guid>https://juejin.cn/post/7596681780372865050</guid>    <pubDate>2026-01-19T06:25:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596681780372865050" data-draft-id="7512651333860114441" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ä»£ç å¹³å°ä¸­çš„å…³è”è”åŠ¨è®¾è®¡"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ä½ä»£ç "/> <meta itemprop="datePublished" content="2026-01-19T06:25:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ä»£ç å¹³å°ä¸­çš„å…³è”è”åŠ¨è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:25:22.000Z" title="Mon Jan 19 2026 06:25:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ä»£ç é¡µé¢çš„å…³è”è”åŠ¨æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„å·¥ä½œï¼Œåœºæ™¯è¾ƒå¤šï¼Œéš¾ä»¥ç»Ÿä¸€æŠ½è±¡ã€‚å› æ­¤æˆ‘æ€»ç»“äº†å‡ ç§ç±»å‹ï¼Œå¯ä»¥åˆ†åˆ«è®¾è®¡ã€‚</p>
<h2 data-id="heading-0">è”åŠ¨æ˜¾ç¤ºéšè—</h2>
<p>è¿™æ˜¯æœ€ç®€å•ï¼Œæœ€å¸¸è§çš„ä¸€ç§è”åŠ¨â€”â€”æŸä¸ªå­—æ®µä¸ºxå€¼åï¼ŒæŸäº›å­—æ®µéšè—/æ˜¾ç¤ºã€‚</p>
<p>ä»æ•°æ®å¯¹è±¡çœ‹ï¼Œè¿™ç±»è”åŠ¨å¹¶ä¸æ”¹å˜å¯¹è±¡æœ¬èº«ï¼Œä¹Ÿä¸æ˜¯å¯¹è±¡çš„è‡ªèº«ç‰¹æ€§ï¼Œå¯ä»¥çœ‹æˆæ˜¯è§†å›¾å±•ç¤ºæ•ˆæœã€‚å› æ­¤åªè¦è®¾è®¡å­—æ®µå¯è§æ€§çš„æœºåˆ¶å³å¯è§£å†³ã€‚</p>
<h2 data-id="heading-1">è”åŠ¨æŸ¥è¯¢å’Œçº§è”æŸ¥è¯¢</h2>
<p>è¿™ä¹Ÿæ˜¯ä¸€ç±»æä¸ºå¸¸è§çš„è”åŠ¨â€”â€”è¡¨å•ä¸­çš„æŸäº›å­—æ®µï¼Œæ˜¯å…¶ä»–å¯¹è±¡ä¸‹æ‹‰æ¡†ï¼ˆæˆ–è¡¨æ ¼ï¼‰ï¼Œæ‰“å¼€è¡¨å•æ—¶éœ€è¦è”åŠ¨æŸ¥è¯¢è¯¥å¯¹è±¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4d90ed2578f404ca4faa80c36274180~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=phdW%2BY1bRhbd14A%2FtrJ8be%2Bo0ZU%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç±»è”åŠ¨è¿˜æœ‰ä¸€ç§æ›´å¤æ‚çš„åœºæ™¯â€”â€”çº§è”æŸ¥è¯¢ï¼šè¡¨å•ä¸­çš„Aï¼ŒBå­—æ®µï¼Œåˆ†åˆ«æ˜¯Aï¼ŒBå¯¹è±¡çš„ä¸‹æ‹‰åˆ—è¡¨ï¼Œä½†Aä¿®æ”¹åï¼Œéœ€è¦æ ¹æ®Açš„ä¿¡æ¯è”åŠ¨æŸ¥è¯¢Bã€‚</p>
<p>è¿™ç±»è”åŠ¨æœ¬è´¨ä¸Šå°±æ˜¯å¯¹è±¡é—´çš„ä¸»-æ˜ç»†è”åŠ¨ã€‚æ ¹æ®å¯¹è±¡é—´çš„ä¸€å¯¹å¤š/å¤šå¯¹ä¸€å…³ç³»ï¼Œå¯ä»¥å½¢æˆä¸åŒçš„æ§ä»¶å’Œè”åŠ¨æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a24d669367d64d4ca6fdd40acdc6d5e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=bNiF6fHWxu3oyBj4j3grXr4b57o%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">èšåˆå’ŒæŸ¥æ‰¾</h2>
<p>èšåˆæ˜¯æŒ‡å­˜åœ¨ä¸»æ˜ç»†å…³ç³»æ—¶ï¼Œ<strong>ä¸»å¯¹è±¡å¯ä»¥èšåˆæ˜ç»†å¯¹è±¡çš„å­—æ®µä¸ºä¸€ä¸ªæ–°å­—æ®µ</strong>ï¼Œèšåˆå¯ä»¥è®¾ç½®countã€maxã€minç­‰æ“ä½œã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b41f507da137464089f81cc0202ab21f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=ItGXr65SSqWQeEj9W7k%2Fp5Kk%2Fbk%3D" alt="image.png" loading="lazy"/></p>
<p>æŸ¥æ‰¾æ˜¯æŒ‡åœ¨æŸ¥è¯¢æŸä¸ªå¯¹è±¡æ—¶ï¼Œå…³è”æŸ¥è¯¢å…¶å¯¹ä¸€å¯¹è±¡çš„æŸäº›å­—æ®µã€‚</p>
<h2 data-id="heading-3">è”åŠ¨æ ¡éªŒ</h2>
<p>è”åŠ¨æ ¡éªŒï¼ŒæŒ‡ä¸€ä¸ªå­—æ®µçš„è¾“å…¥æ ¡éªŒï¼Œéœ€è¦è”åˆå…¶ä»–å­—æ®µè¿›è¡Œåˆ¤æ–­ã€‚è¿™ç±»åœºæ™¯å¯ä»¥æä¾›å†…ç½®ç¼–è¾‘å™¨ï¼Œè®©å¼€å‘è€…è‡ªè¡Œç¼–å†™ä»£ç æ ¡éªŒé€»è¾‘ã€‚è™½ç„¶è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œä½†æ˜¯å°†å…¶å½’çº³ä¸ºå…ƒæ•°æ®å¯¹è±¡ç‰¹æ€§è¿˜æ˜¯è§†å›¾ç‰¹æ€§å¹¶ä¸å®¹æ˜“åˆ¤æ–­ã€‚</p>
<p>å­—æ®µåˆæ³•æ€§è™½ç„¶ä¸€èˆ¬éƒ½å¯ä»¥çœ‹æˆæ˜¯å…ƒæ•°æ®å¯¹è±¡ç‰¹æ€§è€Œè®¾ç½®åœ¨å¯¹è±¡ä¸Šï¼Œä½†å®è·µä¸­å¯¼å…¥åˆå§‹æ•°æ®æ—¶å¯èƒ½å¾ˆå¤šå­—æ®µå€¼å¹¶ä¸åˆæ³•ï¼Œå› æ­¤ä»…åœ¨è§†å›¾ç¼–è¾‘å™¨ä¸­æä¾›æ ¡éªŒè®¾ç½®æ›´é€‚åº”å¤šæ•°åœºæ™¯ã€‚</p>
<h2 data-id="heading-4">è”åŠ¨è®¡ç®—</h2>
<p>è”åŠ¨è®¡ç®—ï¼ŒæŒ‡ä¸€ä¸ªå­—æ®µè¾“å…¥åï¼Œå…¶ä»–å­—æ®µè·Ÿéšè®¡ç®—å¾—åˆ°æ–°å€¼ã€‚æ¯”å¦‚é‡‘é¢*ç¨ç‡=ç¨é¢ï¼Œé‡‘é¢æˆ–ç¨ç‡å˜åŒ–ï¼Œç¨é¢è·Ÿéšè°ƒæ•´ã€‚è¿™ç±»è”åŠ¨å¯ä»¥åœ¨å…ƒæ•°æ®å±‚é¢æŠ½è±¡ï¼Œä¹Ÿå¯ä»¥ä»…åœ¨è§†å›¾å±‚æä¾›é…ç½®ã€‚</p>
<h3 data-id="heading-5">1. è®¡ç®—å­—æ®µ</h3>
<p>å¦‚æœæ˜¯å…ƒæ•°æ®å±‚é¢çš„æŠ½è±¡ï¼Œå¯ä»¥å•ç‹¬è®¾ç½®ä¸º<strong>è®¡ç®—å­—æ®µ</strong>ï¼Œå¯¹å…ƒæ•°æ®æ¥è¯´ï¼Œè®¡ç®—å­—æ®µä¸å¯å†™ï¼Œåœ¨å…¥åº“æ—¶æ ¹æ®è®¡ç®—è§„åˆ™è‡ªåŠ¨æ±‚å€¼ã€‚åŒæ—¶é¡µé¢ä¸Šä¹Ÿéœ€è¦æ ¹æ®è¯¥è§„åˆ™åœ¨ç¼–è¾‘æ—¶åŒæ­¥å›æ˜¾ã€‚</p>
<h3 data-id="heading-6">2. ä¾èµ–å­—æ®µå’Œè®¡ç®—å‡½æ•°</h3>
<p>å¦‚æœæ˜¯è§†å›¾å±‚é…ç½®ï¼Œå¯ä»¥å¯¹æŸä¸ªå­—æ®µè®¾ç½®<strong>ä¾èµ–å­—æ®µå’Œè®¡ç®—å‡½æ•°</strong>ï¼Œä¾èµ–å­—æ®µå˜æ›´æ—¶è‡ªåŠ¨é‡æ–°è®¡ç®—å€¼ã€‚è§†å›¾å±‚çš„è®¾è®¡æ—¢å¯ä»¥å®ç°è”åŠ¨è®¡ç®—ï¼Œä¹Ÿå¯ä»¥ä¿æŒå­—æ®µçš„å¯ç¼–è¾‘æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2378846d9d7549218ff3c2ea7c66f314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=fLZXe4jG6vf9pbQgSNzOZ%2BfcdIA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ccbb0456e264a06acf045ee1f304637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=FsCn0D2wmrTcBRmtQ8MyAy%2Fw7Js%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">ä¼ªè®¡ç®—ï¼ˆæ ¼å¼åŒ–ï¼‰</h3>
<p>è¿˜æœ‰ä¾èµ–â€œä¼ªè®¡ç®—â€å­—æ®µï¼Œæ¯”å¦‚éœ€è¦æœ‰ä¸ªå­—æ®µå«â€œæ˜¯å¦å¼‚å¸¸â€ï¼Œéœ€è¦æ ¹æ®å•æ®çš„çŠ¶æ€æ˜¾ç¤ºã€‚è¿™ç±»å­—æ®µå•çº¯å‰ç«¯å±•ç¤ºï¼Œå¹¶ä¸å±äºå…ƒæ•°æ®å¯¹è±¡è®¾è®¡ã€‚å…¶æœ¬è´¨ä¸Šå±äº<strong>è§†å›¾å±‚é¢çš„è‡ªå®šä¹‰å­—æ®µ</strong>ï¼Œå¯ä»¥é€šè¿‡å­—æ®µå€¼çš„<strong>æ ¼å¼åŒ–æ ¼å¼</strong>æ¥å®ç°</p>
<h2 data-id="heading-8">çº§è”é€‰æ‹©</h2>
<p>çº§è”é€‰æ‹©å¦‚ä¸Šæ‰€è¿°ï¼Œå¯ä»¥çœ‹æˆæ˜¯<strong>ä¸€ä¸²ä¸»æ˜ç»†å¯¹è±¡</strong>ã€‚ä½†æ¯”å¦‚åœ°å€æ§ä»¶çš„çœå¸‚åŒºçº§è”ï¼Œå¹¶ä¸èƒ½å½’çº³åˆ°å…ƒæ•°æ®å¯¹è±¡ä¸Šï¼Œè¿™ç±»æ§ä»¶å°±å¯ä»¥å•ç‹¬å°è£…ã€‚æ¯”å¦‚<strong>å†…ç½®åœ°å€æ§ä»¶ã€éƒ¨é—¨é€‰æ‹©æ§ä»¶</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60e8c5da9eb547fa9dde266a4d7fc4ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=3IDPsyHjkoRvW1%2FyVRCQztAgqTI%3D" alt="image.png" loading="lazy"/>è®©
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a46460d1a0164a18b2cc933d37896388~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769408721&amp;x-signature=G9tsRnWwKq02vGk49PcE8Hw7uj4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-9">æ ‘å½¢é€‰æ‹©å™¨</h2>
<p>å¤§å¤šæ•°æ ‘å½¢é€‰æ‹©å™¨éƒ½æ˜¯ç»„ç»‡/éƒ¨é—¨é€‰æ‹©åœºæ™¯ï¼Œå¯¹ä½ä»£ç å¹³å°æ¥è¯´ï¼Œæ ‘å½¢ç»“æ„çš„å…ƒæ•°æ®å¯¹è±¡å¾ˆéš¾æ ‡å‡†åŒ–ï¼Œå¦‚æœåªæœ‰ç»„ç»‡/éƒ¨é—¨ç±»é€‰æ‹©åœºæ™¯ï¼Œä¸å…¶æä¾›æ ‘å½¢ç»“æ„æ ‡å‡†æŸ¥è¯¢ï¼Œä¸å¦‚ç›´æ¥åŸºäº<strong>å†…ç½®ç»„ç»‡å¯¹è±¡æä¾›æ§ä»¶</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[sqlå¯¼å‡ºæ•°æ®]]></title>    <link>https://juejin.cn/post/7596507469884014607</link>    <guid>https://juejin.cn/post/7596507469884014607</guid>    <pubDate>2026-01-19T06:26:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596507469884014607" data-draft-id="7596670644285489152" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="sqlå¯¼å‡ºæ•°æ®"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2026-01-19T06:26:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Emmaæ­Œå°ç™½"/> <meta itemprop="url" content="https://juejin.cn/user/668922459726520"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            sqlå¯¼å‡ºæ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/668922459726520/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Emmaæ­Œå°ç™½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:26:33.000Z" title="Mon Jan 19 2026 06:26:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€<code>bcp</code> æ˜¯ä»€ä¹ˆï¼Ÿä½ è¦åœ¨å“ªé‡Œç”¨ï¼Ÿ</h2>
<p><code>bcp</code> <strong>ä¸æ˜¯åœ¨ SSMS é‡Œæ‰§è¡Œçš„ SQL</strong>ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>åœ¨æœåŠ¡å™¨æˆ–ä½ æœ¬æœºçš„â€œå‘½ä»¤è¡Œï¼ˆCMD / PowerShellï¼‰â€é‡Œæ‰§è¡Œçš„å·¥å…·</strong></p>
</blockquote>
<p>å‰ææ¡ä»¶ï¼š</p>
<ul>
<li>ä½ çš„æœºå™¨ <strong>èƒ½è¿ä¸Š SQL Server</strong></li>
<li>å·²å®‰è£… <strong>SQL Server å®¢æˆ·ç«¯å·¥å…·</strong>ï¼ˆSSMS ä¸€èˆ¬è‡ªå¸¦ bcpï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€æ ‡å‡†ä½¿ç”¨æ­¥éª¤ï¼ˆç…§åšå³å¯ï¼‰</h2>
<h3 data-id="heading-2">âœ… Step 1ï¼šæ‰“å¼€å‘½ä»¤è¡Œ</h3>
<p>ä»»é€‰å…¶ä¸€ï¼š</p>
<ul>
<li>
<p>Windowsï¼š</p>
<ul>
<li><code>Win + R</code> â†’ è¾“å…¥ <code>cmd</code></li>
<li>æˆ–æ‰“å¼€ <strong>PowerShell</strong></li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-3">âœ… Step 2ï¼šç¡®è®¤ <code>bcp</code> æ˜¯å¦å¯ç”¨</h3>
<p>è¾“å…¥ï¼š</p>
<pre><code class="hljs">bcp -v
</code></pre>
<p>å¦‚æœèƒ½çœ‹åˆ°ç‰ˆæœ¬å·ï¼Œè¯´æ˜æ²¡é—®é¢˜ã€‚<br/>
å¦‚æœæç¤ºâ€œä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤â€ï¼Œè¯´æ˜æ²¡è£… SQL Server å·¥å…·ã€‚</p>
<hr/>
<h3 data-id="heading-4">âœ… Step 3ï¼šæŠŠä½ çš„ SQL æ”¹æˆå¯å¯¼å‡ºçš„å½¢å¼</h3>
<p><strong>éå¸¸é‡è¦ï¼šåªå†™å¿…è¦å­—æ®µï¼Œä¸è¦ <code>SELECT *</code></strong></p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span>
    <span class="hljs-keyword">year</span>,
    <span class="hljs-keyword">month</span>,
    categoryCode,
    totalValue
<span class="hljs-keyword">FROM</span> dbo.sales_summary
<span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">year</span> <span class="hljs-operator">=</span> <span class="hljs-number">2025</span>
</code></pre>
<hr/>
<h3 data-id="heading-5">âœ… Step 4ï¼šåœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ bcpï¼ˆæ ¸å¿ƒï¼‰</h3>
<h4 data-id="heading-6">â–¶ å¦‚æœç”¨çš„æ˜¯ <strong>Windows èº«ä»½ç™»å½•ï¼ˆæœ€å¸¸è§ï¼‰</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino">bcp <span class="hljs-string">"
SELECT
    year,
    month,
    categoryCode,
    totalValue
FROM yourDB.dbo.sales_summary
WHERE year = 2025
"</span>
queryout <span class="hljs-string">"D:\export\sales_2025.csv"</span>
-c -t, -T -S your_server_name
</code></pre>
<p>è§£é‡Šï¼ˆä¸ç”¨æ­»è®°ï¼‰ï¼š</p>

































<table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>queryout</code></td><td>è¡¨ç¤ºå¯¼å‡ºæŸ¥è¯¢ç»“æœ</td></tr><tr><td><code>-c</code></td><td>å­—ç¬¦æ¨¡å¼ï¼ˆCSV å¿…é€‰ï¼‰</td></tr><tr><td><code>-t,</code></td><td>å­—æ®µåˆ†éš”ç¬¦æ˜¯é€—å·</td></tr><tr><td><code>-T</code></td><td>ä½¿ç”¨ Windows èº«ä»½éªŒè¯</td></tr><tr><td><code>-S</code></td><td>SQL Server åç§°</td></tr><tr><td>è·¯å¾„</td><td>å¿…é¡»æ˜¯<strong>æœåŠ¡å™¨/æœ¬æœºå¯å†™è·¯å¾„</strong></td></tr></tbody></table>
<hr/>
<h4 data-id="heading-7">â–¶ å¦‚æœä½ æ˜¯ <strong>SQL è´¦å·å¯†ç ç™»å½•</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino">bcp <span class="hljs-string">"
SELECT ...
FROM yourDB.dbo.sales_summary
"</span>
queryout <span class="hljs-string">"D:\export\data.csv"</span>
-c -t, -U sqluser -P password -S server_name
</code></pre>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€ä½ å¿…é¡»æ³¨æ„çš„ 5 ä¸ªå‘ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-9">âš ï¸ 1. è·¯å¾„æ˜¯â€œæ‰§è¡Œ bcp çš„æœºå™¨â€çš„è·¯å¾„</h3>
<p>ä¸æ˜¯æ•°æ®åº“æœåŠ¡å™¨å†…éƒ¨è·¯å¾„ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>ä½ åœ¨å“ªå°æœºå™¨è·‘ <code>bcp</code></li>
<li>CSV å°±ç”Ÿæˆåœ¨å“ªå°æœºå™¨</li>
</ul>
<hr/>
<h3 data-id="heading-10">âš ï¸ 2. æŸ¥è¯¢ä¸èƒ½å¸¦åˆ†å·</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âŒ ä¸è¦</span>
<span class="hljs-keyword">SELECT</span> ...;

<span class="hljs-comment">-- âœ… è¦</span>
<span class="hljs-keyword">SELECT</span> ...
</code></pre>
<hr/>
<h3 data-id="heading-11">âš ï¸ 3. ä¸æ”¯æŒå¤æ‚ä¸´æ—¶è¡¨</h3>
<p>âŒï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> #tmp
</code></pre>
<p>âœ…ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> dbo.real_table
</code></pre>
<hr/>
<h3 data-id="heading-12">âš ï¸ 4. ä¸­æ–‡å­—æ®µå»ºè®®åŠ ç¼–ç ï¼ˆå¯é€‰ä½†æ¨èï¼‰</h3>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">-c -C 65001</span>
</code></pre>
<p>å®Œæ•´ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript">bcp <span class="hljs-string">"SELECT ... "</span>
queryout <span class="hljs-string">"D:\data.csv"</span>
-c -C <span class="hljs-number">65001</span> -t, -T -S <span class="hljs-built_in">server</span>
</code></pre>
<hr/>
<h3 data-id="heading-13">âš ï¸ 5. å¤§æ•°æ®é‡æ—¶ä¸€å®šåŠ  WHERE</h3>
<p>å“ªæ€•ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">year</span> <span class="hljs-operator">=</span> <span class="hljs-number">2025</span> <span class="hljs-keyword">AND</span> <span class="hljs-keyword">month</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
</code></pre>
<hr/>
<h2 data-id="heading-14">å››ã€ä¸€ä¸ªå¯ä»¥ç›´æ¥ç…§æŠ„çš„æ¨¡æ¿</h2>
<p>åªéœ€è¦æ›¿æ¢ 4 ä¸ªåœ°æ–¹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">bcp <span class="hljs-string">"
SELECT
    year,
    month,
    categoryCode,
    totalValue
FROM yourDB.dbo.your_table
WHERE year = 2025
"</span>
queryout <span class="hljs-string">"D:\export<span class="hljs-subst">\r</span>esult.csv"</span>
<span class="hljs-operator">-</span>c <span class="hljs-operator">-</span><span class="hljs-type">C</span> <span class="hljs-number">65001</span> <span class="hljs-operator">-</span>t, <span class="hljs-operator">-</span><span class="hljs-type">T</span> <span class="hljs-operator">-</span><span class="hljs-type">S</span> <span class="hljs-type">YOUR_SERVER</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£é”Claudeè¿›é˜¶èƒ½åŠ›ï¼šSkillsåŠŸèƒ½å…¨è§£æï¼Œè®©AIç²¾å‡†é€‚é…ä¸ªäººä¸å›¢é˜Ÿå·¥ä½œæµ]]></title>    <link>https://juejin.cn/post/7596247009815478298</link>    <guid>https://juejin.cn/post/7596247009815478298</guid>    <pubDate>2026-01-19T06:31:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596247009815478298" data-draft-id="7596343020214796314" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£é”Claudeè¿›é˜¶èƒ½åŠ›ï¼šSkillsåŠŸèƒ½å…¨è§£æï¼Œè®©AIç²¾å‡†é€‚é…ä¸ªäººä¸å›¢é˜Ÿå·¥ä½œæµ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-19T06:31:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹¼çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2418581314208279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£é”Claudeè¿›é˜¶èƒ½åŠ›ï¼šSkillsåŠŸèƒ½å…¨è§£æï¼Œè®©AIç²¾å‡†é€‚é…ä¸ªäººä¸å›¢é˜Ÿå·¥ä½œæµ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2418581314208279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹¼çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:31:19.000Z" title="Mon Jan 19 2026 06:31:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨AIè¾…åŠ©åŠå…¬çš„æµªæ½®ä¸­ï¼Œ Claude å‡­å€Ÿå¼ºå¤§çš„ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›å’Œé€»è¾‘æ¨ç†èƒ½åŠ›ï¼Œæˆä¸ºäº†è®¸å¤šäººæ—¥å¸¸å·¥ä½œçš„å¾—åŠ›åŠ©æ‰‹ã€‚ä½†ä½ æ˜¯å¦çŸ¥é“ï¼Œé€šè¿‡ Claude çš„ Skills åŠŸèƒ½ï¼Œä½ è¿˜èƒ½è¿›ä¸€æ­¥å®šåˆ¶AIçš„è¡Œä¸ºæ¨¡å¼ï¼Œè®©å®ƒç²¾å‡†é€‚é…ä½ çš„å·¥ä½œä¹ æƒ¯ã€å›¢é˜Ÿè§„èŒƒç”šè‡³è¡Œä¸šä¸“å±æµç¨‹ï¼Ÿä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å…¨é¢æ‹†è§£ Claude Skillsï¼Œä»æ ¸å¿ƒåŸç†åˆ°å®æ“æ­¥éª¤ï¼Œå†åˆ°åœºæ™¯åŒ–åº”ç”¨ï¼Œå¸¦ä½ çœŸæ­£ç©è½¬è¿™é¡¹è¿›é˜¶åŠŸèƒ½ã€‚</p>
<p>æ— è®ºæ˜¯ä¸ªäººç”¨æˆ·æƒ³æå‡å·¥ä½œæ•ˆç‡ï¼Œè¿˜æ˜¯å›¢é˜Ÿç®¡ç†è€…å¸Œæœ›æ ‡å‡†åŒ–å·¥ä½œæµç¨‹ï¼ŒSkills éƒ½èƒ½æä¾›å…¨æ–°çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒæ‰“ç ´äº†é€šç”¨AIå·¥å…·çš„å±€é™æ€§ï¼Œè®© Claude ä»â€œé€šç”¨åŠ©æ‰‹â€å‡çº§ä¸ºâ€œä¸“å±ä¸“å®¶â€ï¼Œè¿™ä¹Ÿæ˜¯ Anthropic åœ¨AIå·¥å…·ä¸ªæ€§åŒ–é¢†åŸŸçš„é‡è¦çªç ´ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯Claude Skillsï¼Ÿæ‰“ç ´é€šç”¨AIçš„èƒ½åŠ›è¾¹ç•Œ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/855fc3b3eb7545b29ff37a053a50e933~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54u854i3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769409078&amp;x-signature=13Pm%2BznMO0oZ0%2FIVqaNAdj7xEgg%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Skills are folders of instructions, scripts, and resources that Claude loads dynamically to improve performance on specialized tasks.</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼ŒClaude Skills æ˜¯ä¸€ç»„å¯åŠ¨æ€åŠ è½½çš„æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºæ–‡ä»¶å¤¹ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯æ•™ä¼š Claude ä»¥å¯é‡å¤çš„æ–¹å¼å®Œæˆç‰¹å®šä»»åŠ¡ã€‚ä¸ Claude è‡ªå¸¦çš„é€šç”¨èƒ½åŠ›ä¸åŒï¼ŒSkills æ˜¯é’ˆå¯¹æ€§çš„â€œèƒ½åŠ›æ’ä»¶â€â€”â€”å®ƒä¸ä¼šä¸€ç›´å ç”¨ä¸Šä¸‹æ–‡çª—å£ï¼Œè€Œæ˜¯åœ¨éœ€è¦æ—¶è¢« Claude è‡ªåŠ¨è¯†åˆ«å¹¶åŠ è½½ï¼Œæ—¢ä¿è¯äº†ä»»åŠ¡æ‰§è¡Œçš„ç²¾å‡†åº¦ï¼Œåˆé¿å…äº†ä¸Šä¸‹æ–‡è¿‡è½½çš„é—®é¢˜ã€‚</p>
<p>ä¸¾ä¸ªç›´è§‚çš„ä¾‹å­ï¼šå¦‚æœä½ çš„å…¬å¸æœ‰å›ºå®šçš„å“ç‰ŒUIè§„èŒƒï¼ˆå­—ä½“ã€é…è‰²ã€æ’ç‰ˆè¦æ±‚ï¼‰ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªâ€œå“ç‰Œé£æ ¼æŠ€èƒ½â€ï¼ŒæŠŠè¿™äº›è§„èŒƒå†™å…¥æŒ‡ä»¤ã€‚ä¹‹åå½“ä½ è®© Claude ç”ŸæˆPPTã€Wordæ–‡æ¡£æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨åŠ è½½è¯¥æŠ€èƒ½ï¼Œæ— éœ€ä½ åå¤å¼ºè°ƒè¦æ±‚ï¼Œå°±èƒ½è¾“å‡ºç¬¦åˆå“ç‰Œè°ƒæ€§çš„å†…å®¹ã€‚å†æ¯”å¦‚ï¼Œæ•°æ®åˆ†æå¸ˆå¯ä»¥å®šåˆ¶â€œè¡Œä¸šæ•°æ®å¤„ç†æŠ€èƒ½â€ï¼Œè®© Claude æŒ‰ç…§å›¢é˜Ÿå›ºå®šçš„æµç¨‹æ¸…æ´—ã€åˆ†ææ•°æ®ï¼Œè¾“å‡ºæ ‡å‡†åŒ–æŠ¥å‘Šã€‚</p>
<h2 data-id="heading-1">äºŒã€Skillså·¥ä½œåŸç†ï¼šåŠ¨æ€é€‚é…ï¼Œé«˜æ•ˆä¸å†—ä½™</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78ec027a39b9489e9a8f61d13172e908~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54u854i3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769409078&amp;x-signature=u7L%2B1mHD0OOxnQLp33HkceoJKZk%3D" alt="image.png" loading="lazy"/></p>
<p>å¾ˆå¤šäººä¼šç–‘æƒ‘ï¼ŒSkills å’Œæ™®é€šçš„æç¤ºè¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿæ ¸å¿ƒå·®å¼‚å°±åœ¨äºâ€œåŠ¨æ€åŠ è½½â€å’Œâ€œç²¾å‡†åŒ¹é…â€çš„æœºåˆ¶ï¼Œè¿™ä¹Ÿæ˜¯ Skills æ•ˆç‡æ›´é«˜çš„å…³é”®ã€‚</p>
<p>Skills é‡‡ç”¨â€œæ¸è¿›å¼æŠ«éœ²â€çš„å·¥ä½œé€»è¾‘ï¼šå½“ä½ å‘ Claude ä¸‹è¾¾ä»»åŠ¡æŒ‡ä»¤æ—¶ï¼Œå®ƒä¼šå…ˆæ‰«æå½“å‰å¯ç”¨çš„æ‰€æœ‰ Skillsï¼Œæ ¹æ®ä»»åŠ¡ç±»å‹ã€å…³é”®è¯ç­‰åˆ¤æ–­å“ªäº›æŠ€èƒ½ä¸ä¹‹ç›¸å…³ï¼Œå†ä»…åŠ è½½è¿™äº›æŠ€èƒ½çš„æ ¸å¿ƒæŒ‡ä»¤å’Œèµ„æºï¼Œè€Œéä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å†…å®¹ã€‚è¿™ç§æœºåˆ¶å¸¦æ¥ä¸¤å¤§ä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p><strong>é¿å…ä¸Šä¸‹æ–‡è‡ƒè‚¿</strong>ï¼šå¦‚æœæŠŠæ‰€æœ‰å·¥ä½œè§„èŒƒã€æµç¨‹æŒ‡ä»¤éƒ½å†™è¿›æç¤ºè¯ï¼Œä¼šå¤§å¹…å ç”¨ä¸Šä¸‹æ–‡çª—å£ï¼Œå¯¼è‡´ Claude æ— æ³•èšç„¦æ ¸å¿ƒä»»åŠ¡ï¼›è€Œ Skills æŒ‰éœ€åŠ è½½ï¼Œè®©ä¸Šä¸‹æ–‡å§‹ç»ˆä¿æŒç®€æ´ã€‚</p>
</li>
<li>
<p><strong>æå‡ä»»åŠ¡ä¸€è‡´æ€§</strong>ï¼šSkills å°†æµç¨‹æ ‡å‡†åŒ–ä¸ºå›ºå®šæŒ‡ä»¤ï¼Œæ¯æ¬¡æ‰§è¡ŒåŒç±»ä»»åŠ¡æ—¶éƒ½ä¼šéµå¾ªç»Ÿä¸€è§„åˆ™ï¼Œé¿å…å› æç¤ºè¯è¡¨è¿°å·®å¼‚å¯¼è‡´çš„ç»“æœä¸ä¸€è‡´é—®é¢˜ã€‚</p>
</li>
</ul>
<p>æ•´ä¸ªè¿‡ç¨‹å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€ä½ æ‰‹åŠ¨è§¦å‘â€”â€”ä½ åªéœ€ä¸‹è¾¾ä»»åŠ¡ï¼ŒClaude ä¼šè‡ªä¸»å®Œæˆâ€œæŠ€èƒ½åŒ¹é…-åŠ è½½-æ‰§è¡Œâ€çš„å…¨æµç¨‹ï¼ŒçœŸæ­£å®ç°â€œä¸€æ¬¡é…ç½®ï¼Œé‡å¤å¤ç”¨â€ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€å››å¤§Skillsç±»å‹ï¼šè¦†ç›–ä¸ªäººä¸å›¢é˜Ÿå…¨åœºæ™¯</h2>
<p>Claude æä¾›äº†å››ç§ä¸åŒç±»å‹çš„ Skillsï¼Œåˆ†åˆ«é€‚é…ä¸ªäººä¸ªæ€§åŒ–éœ€æ±‚ã€å›¢é˜Ÿæ ‡å‡†åŒ–éœ€æ±‚ã€å®˜æ–¹é€šç”¨éœ€æ±‚åŠè·¨å¹³å°åä½œéœ€æ±‚ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªèº«åœºæ™¯çµæ´»é€‰ç”¨ã€‚</p>
<h3 data-id="heading-3">1. Anthropic Skillsï¼šå®˜æ–¹å†…ç½®çš„é€šç”¨æŠ€èƒ½</h3>
<p>è¿™æ˜¯ç”± Anthropic å®˜æ–¹åˆ›å»ºå¹¶ç»´æŠ¤çš„æŠ€èƒ½ï¼Œé¢å‘æ‰€æœ‰ç”¨æˆ·å¼€æ”¾ï¼Œæ— éœ€æ‰‹åŠ¨ä¸Šä¼ ï¼ŒClaude ä¼šåœ¨ä»»åŠ¡ç›¸å…³æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚æ ¸å¿ƒè¦†ç›–åŠå…¬æ–‡æ¡£å¤„ç†åœºæ™¯ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>Excel è¡¨æ ¼çš„é«˜çº§åˆ›å»ºä¸æ•°æ®æ“æ§</li>
<li>Word æ–‡æ¡£çš„ä¸“ä¸šåŒ–æ’ç‰ˆä¸å†…å®¹ç”Ÿæˆ</li>
<li>PowerPoint æ¼”ç¤ºæ–‡ç¨¿çš„ç»“æ„è®¾è®¡ä¸å†…å®¹å¡«å……</li>
<li>PDF æ–‡ä»¶çš„åˆ›å»ºã€ç¼–è¾‘ä¸å†…å®¹æå–</li>
</ul>
<p>è¿™ç±»æŠ€èƒ½çš„ä¼˜åŠ¿åœ¨äºç¨³å®šæ€§é«˜ã€é€‚é…æ€§å¼ºï¼Œèƒ½å¿«é€Ÿè§£å†³æ—¥å¸¸åŠå…¬ä¸­æœ€å¸¸è§çš„æ–‡æ¡£å¤„ç†éœ€æ±‚ã€‚æ¯”å¦‚ä½ è®© Claude â€œç”Ÿæˆä¸€ä»½Q3é”€å”®æ•°æ®æŠ¥è¡¨çš„Excelæ–‡ä»¶â€ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒç”¨ Excel æŠ€èƒ½ï¼Œç”Ÿæˆæ ¼å¼è§„èŒƒã€å…¬å¼æ­£ç¡®çš„è¡¨æ ¼ï¼Œæ— éœ€ä½ é¢å¤–æŒ‡å¯¼ã€‚</p>
<h3 data-id="heading-4">2. Custom Skillsï¼šé‡èº«å®šåˆ¶çš„ä¸“å±æŠ€èƒ½</h3>
<p>è¿™æ˜¯ Skills åŠŸèƒ½çš„æ ¸å¿ƒäº®ç‚¹ï¼Œå…è®¸ä½ æˆ–ä½ çš„å›¢é˜Ÿåˆ›å»ºä¸“å±æŠ€èƒ½ï¼Œé€‚é…ä¸ªæ€§åŒ–å·¥ä½œæµå’Œè¡Œä¸šç‰¹å®šä»»åŠ¡ã€‚æ— éœ€å¤æ‚ç¼–ç ï¼Œåªéœ€ç”¨ Markdown ç¼–å†™æŒ‡ä»¤å³å¯å®Œæˆç®€å•æŠ€èƒ½çš„åˆ›å»ºï¼›è‹¥éœ€æ›´å¤æ‚çš„åŠŸèƒ½ï¼Œä¹Ÿå¯é™„åŠ å¯æ‰§è¡Œè„šæœ¬ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å‡ ä¸ªé«˜é¢‘è‡ªå®šä¹‰åœºæ™¯ï¼Œä¾›ä½ å‚è€ƒï¼š</p>
<ul>
<li><strong>å“ç‰Œè§„èŒƒè½åœ°</strong>ï¼šå°†å…¬å¸çš„å“ç‰Œè‰²ã€å­—ä½“ã€LOGOä½¿ç”¨è§„èŒƒã€æ–‡æ¡ˆé£æ ¼ç­‰å†™å…¥æŠ€èƒ½ï¼Œè®© Claude ç”Ÿæˆçš„æ‰€æœ‰æ–‡æ¡£ã€æ¨æ–‡ã€PPTéƒ½è‡ªåŠ¨ç¬¦åˆå“ç‰Œè¦æ±‚ã€‚</li>
<li><strong>åŠå…¬æ¨¡æ¿å¤ç”¨</strong>ï¼šæŠŠå›¢é˜Ÿå¸¸ç”¨çš„é‚®ä»¶æ¨¡æ¿ã€ä¼šè®®çºªè¦æ ¼å¼ã€å‘¨æŠ¥æ¡†æ¶ç­‰åšæˆæŠ€èƒ½ï¼Œä¸‹è¾¾ä»»åŠ¡æ—¶ Claude ä¼šç›´æ¥å¥—ç”¨æ¨¡æ¿ï¼Œå‡å°‘æ ¼å¼è°ƒæ•´æ—¶é—´ã€‚</li>
<li><strong>å·¥å…·ååŒè‡ªåŠ¨åŒ–</strong>ï¼šå®šåˆ¶æŠ€èƒ½è®© Claude æŒ‰ç…§å›¢é˜Ÿè§„èŒƒåœ¨ JIRAã€Asanaã€Linear ç­‰å·¥å…·ä¸­åˆ›å»ºä»»åŠ¡ï¼Œè‡ªåŠ¨å¡«å……ä¼˜å…ˆçº§ã€è´Ÿè´£äººã€ä»»åŠ¡æè¿°ç­‰å­—æ®µã€‚</li>
<li><strong>è¡Œä¸šæµç¨‹é€‚é…</strong>ï¼šæ¯”å¦‚å¾‹å¸ˆå¯ä»¥åˆ›å»ºâ€œåˆåŒå®¡æŸ¥æŠ€èƒ½â€ï¼Œè®© Claude æŒ‰ç…§æ³•å¾‹è¡Œä¸šè§„èŒƒç­›æŸ¥åˆåŒé£é™©ç‚¹ï¼›åŒ»ç”Ÿå¯ä»¥å®šåˆ¶â€œç—…å†æ•´ç†æŠ€èƒ½â€ï¼Œè‡ªåŠ¨å°†é—®è¯Šè®°å½•ç»“æ„åŒ–ã€‚</li>
</ul>
<h3 data-id="heading-5">3. ç»„ç»‡é¢„ç½®æŠ€èƒ½ï¼šå›¢é˜Ÿçº§æ ‡å‡†åŒ–å·¥å…·</h3>
<p>å¯¹äºå›¢é˜Ÿåœºæ™¯ï¼Œç»„ç»‡ç®¡ç†å‘˜å¯ä»¥å°†å®šåˆ¶å¥½çš„æŠ€èƒ½æ‰¹é‡é¢„ç½®ç»™æ‰€æœ‰å›¢é˜Ÿæˆå‘˜ï¼Œè¿™äº›æŠ€èƒ½ä¼šè‡ªåŠ¨å‡ºç°åœ¨æ¯ä¸ªæˆå‘˜çš„ Skills åˆ—è¡¨ä¸­ï¼Œè¿˜å¯è®¾ç½®ä¸ºé»˜è®¤å¯ç”¨/ç¦ç”¨çŠ¶æ€ã€‚è¿™ä¸€åŠŸèƒ½å®Œç¾è§£å†³äº†å›¢é˜Ÿæµç¨‹æ ‡å‡†åŒ–çš„ç—›ç‚¹ï¼š</p>
<ul>
<li>ç¡®ä¿æ‰€æœ‰å‘˜å·¥éƒ½ä½¿ç”¨ç»Ÿä¸€çš„å·¥ä½œæµç¨‹å’Œæœ€ä½³å®è·µï¼Œé¿å…å› ä¸ªäººä¹ æƒ¯å·®å¼‚å¯¼è‡´çš„å·¥ä½œåå·®ï¼›</li>
<li>æ–°å‘˜å·¥å…¥èŒæ—¶æ— éœ€åå¤åŸ¹è®­ï¼Œé€šè¿‡é¢„ç½®æŠ€èƒ½å°±èƒ½å¿«é€ŸæŒæ¡å›¢é˜Ÿè§„èŒƒï¼›</li>
<li>ç®¡ç†å‘˜å¯ç»Ÿä¸€æ›´æ–°æŠ€èƒ½å†…å®¹ï¼Œå®ç°å…¨å›¢é˜Ÿæµç¨‹çš„åŒæ­¥è¿­ä»£ï¼Œæ— éœ€æˆå‘˜é€ä¸ªä¸Šä¼ ã€‚</li>
</ul>
<h3 data-id="heading-6">4. åˆä½œä¼™ä¼´æŠ€èƒ½ï¼šè·¨å¹³å°åä½œçš„æ¡¥æ¢</h3>
<p>Anthropic è”åˆ Notionã€Figmaã€Atlassian ç­‰çŸ¥åå¹³å°ï¼Œåœ¨ Skills ç›®å½•ä¸­æä¾›äº†ä¸“ä¸šçš„åˆä½œä¼™ä¼´æŠ€èƒ½ã€‚è¿™äº›æŠ€èƒ½ä¸å¯¹åº”å¹³å°çš„ MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰è¿æ¥å™¨æ·±åº¦é€‚é…ï¼Œèƒ½å®ç°è·¨å¹³å°å·¥ä½œæµçš„æ— ç¼é›†æˆã€‚</p>
<p>æ¯”å¦‚ï¼Œé€šè¿‡ Notion åˆä½œä¼™ä¼´æŠ€èƒ½ï¼ŒClaude å¯ä»¥ç›´æ¥æŒ‰ç…§ Notion çš„é¡µé¢ç»“æ„ç”Ÿæˆå†…å®¹ï¼Œå¹¶åŒæ­¥åˆ°ä½ çš„ Notion ç©ºé—´ï¼›å€ŸåŠ© Atlassian æŠ€èƒ½ï¼Œèƒ½å®ç° Claude ä¸ JIRAã€Confluence çš„ååŒï¼Œè‡ªåŠ¨å°†ä¼šè®®çºªè¦è½¬åŒ–ä¸º JIRA ä»»åŠ¡ï¼Œæˆ–ç”Ÿæˆç¬¦åˆ Confluence è§„èŒƒçš„æ–‡æ¡£ã€‚</p>
<h2 data-id="heading-7">å››ã€Skillsæ ¸å¿ƒä¼˜åŠ¿ï¼šä¸ºä»€ä¹ˆå€¼å¾—ä½ æŠ•å…¥æ—¶é—´é…ç½®ï¼Ÿ</h2>
<p>ç›¸è¾ƒäºä¼ ç»Ÿçš„æç¤ºè¯ä¼˜åŒ–ã€æ¨¡æ¿å¤ç”¨ç­‰æ–¹å¼ï¼ŒClaude Skills å¸¦æ¥äº†å››å¤§ä¸å¯æ›¿ä»£çš„ä¼˜åŠ¿ï¼Œèƒ½ä»æ ¹æœ¬ä¸Šæå‡å·¥ä½œæ•ˆç‡å’Œæˆæœè´¨é‡ã€‚</p>
<h3 data-id="heading-8">1. å¤§å¹…æå‡ç‰¹å®šä»»åŠ¡è¡¨ç°</h3>
<p>Skills ä¸º Claude è¡¥å……äº†ä¸“å±çš„æµç¨‹çŸ¥è¯†å’Œèµ„æºï¼Œè®©å®ƒåœ¨å¤„ç†ç‰¹å®šä»»åŠ¡æ—¶æ›´ç²¾å‡†ã€é«˜æ•ˆã€‚æ¯”å¦‚å¤„ç†æ•°æ®æ—¶ï¼ŒSkills å¯ä»¥æä¾›å›¢é˜Ÿä¸“å±çš„åˆ†æé€»è¾‘å’Œå…¬å¼æ¨¡æ¿ï¼Œæ¯” Claude è‡ªå¸¦çš„é€šç”¨æ•°æ®å¤„ç†èƒ½åŠ›æ›´è´´åˆå®é™…éœ€æ±‚ï¼›ç”Ÿæˆè¡Œä¸šæ–‡æ¡£æ—¶ï¼ŒSkills ä¸­çš„ä¸“ä¸šæœ¯è¯­ã€æ ¼å¼è§„èŒƒèƒ½è®©è¾“å‡ºç»“æœç›´æ¥è¾¾åˆ°å¯ç”¨çº§åˆ«ï¼Œå‡å°‘åå¤ä¿®æ”¹çš„æˆæœ¬ã€‚</p>
<h3 data-id="heading-9">2. æ²‰æ·€ç»„ç»‡æ ¸å¿ƒçŸ¥è¯†èµ„äº§</h3>
<p>å¯¹äºä¼ä¸šå’Œå›¢é˜Ÿè€Œè¨€ï¼ŒSkills æ˜¯æ²‰æ·€ç»„ç»‡çŸ¥è¯†çš„ç»ä½³è½½ä½“ã€‚å®ƒèƒ½å°†å›¢é˜Ÿçš„å·¥ä½œæµç¨‹ã€æœ€ä½³å®è·µã€è¡Œä¸šç»éªŒè½¬åŒ–ä¸ºå¯å¤ç”¨çš„AIæŒ‡ä»¤ï¼Œé¿å…å› å‘˜å·¥ç¦»èŒã€å²—ä½è°ƒæ•´å¯¼è‡´çš„çŸ¥è¯†æµå¤±ã€‚åŒæ—¶ï¼Œè¿™äº›çŸ¥è¯†é€šè¿‡ Claude å¿«é€Ÿä¼ é€’ç»™æ¯ä¸€ä½å›¢é˜Ÿæˆå‘˜ï¼Œå®ç°çŸ¥è¯†çš„é«˜æ•ˆå¤ç”¨å’Œä¼ æ‰¿ã€‚</p>
<h3 data-id="heading-10">3. ä½é—¨æ§›å®šåˆ¶ï¼Œäººäººçš†å¯ä¸Šæ‰‹</h3>
<p>Skills æ— éœ€å¤æ‚çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œç®€å•çš„æŠ€èƒ½ä»…éœ€ç”¨ Markdown ç¼–å†™æŒ‡ä»¤å³å¯å®Œæˆï¼Œæ™®é€šå‘˜å·¥ä¹Ÿèƒ½æ ¹æ®è‡ªå·±çš„å·¥ä½œéœ€æ±‚åˆ›å»ºä¸“å±æŠ€èƒ½ã€‚è¿™ç§ä½é—¨æ§›ç‰¹æ€§ï¼Œè®©ä¸ªæ€§åŒ–AIå·¥å…·ä¸å†æ˜¯æŠ€æœ¯äººå‘˜çš„ä¸“å±ï¼ŒçœŸæ­£å®ç°äº†â€œäººäººéƒ½èƒ½å®šåˆ¶AIâ€ã€‚</p>
<h3 data-id="heading-11">4. å›¢é˜Ÿçº§é›†ä¸­ç®¡ç†ï¼Œé™æœ¬å¢æ•ˆ</h3>
<p>ç®¡ç†å‘˜é€šè¿‡ç»„ç»‡é¢„ç½®åŠŸèƒ½ï¼Œå¯å®ç°æŠ€èƒ½çš„ç»Ÿä¸€ä¸Šä¼ ã€æ›´æ–°ã€ç¦ç”¨ï¼Œæ— éœ€æˆå‘˜é€ä¸ªæ“ä½œï¼Œå¤§å¹…é™ä½äº†å›¢é˜Ÿç®¡ç†æˆæœ¬ã€‚åŒæ—¶ï¼Œæ ‡å‡†åŒ–çš„æŠ€èƒ½èƒ½å‡å°‘æ²Ÿé€šæˆæœ¬ï¼Œè®©å›¢é˜Ÿèšç„¦æ ¸å¿ƒå·¥ä½œï¼Œè€Œéåœ¨æµç¨‹è§„èŒƒä¸Šåå¤å¯¹é½ã€‚</p>
<h2 data-id="heading-12">äº”ã€Skillsä¸Claudeå…¶ä»–åŠŸèƒ½çš„åŒºåˆ«ï¼šåˆ«ç”¨æ··äº†ï¼</h2>
<p>å¾ˆå¤šç”¨æˆ·ä¼šæ··æ·† Skills ä¸ Claude çš„å…¶ä»–ä¸ªæ€§åŒ–åŠŸèƒ½ï¼Œæ¯”å¦‚ Projectsã€MCPã€è‡ªå®šä¹‰æŒ‡ä»¤ç­‰ã€‚å…¶å®å®ƒä»¬çš„å®šä½å’Œä½œç”¨å®Œå…¨ä¸åŒï¼Œæˆ‘ä»¬ç”¨ä¸€å¼ è¡¨æ ¼å°±èƒ½æ¸…æ™°åŒºåˆ†ï¼š</p>



































<table><thead><tr><th>åŠŸèƒ½</th><th>æ ¸å¿ƒå®šä½</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¸Skillsçš„å·®å¼‚</th></tr></thead><tbody><tr><td>Skills</td><td>ä»»åŠ¡ç‰¹å®šçš„åŠ¨æ€æµç¨‹æŒ‡ä»¤</td><td>æ ‡å‡†åŒ–é‡å¤ä»»åŠ¡ã€é€‚é…ä¸“å±æµç¨‹</td><td>æŒ‰éœ€åŠ è½½ï¼Œä»…ä½œç”¨äºç‰¹å®šä»»åŠ¡ï¼Œä¸å ç”¨å…¨å±€ä¸Šä¸‹æ–‡</td></tr><tr><td>Projects</td><td>é™æ€èƒŒæ™¯çŸ¥è¯†åº“</td><td>é•¿æœŸé¡¹ç›®åä½œï¼Œæä¾›å›ºå®šèƒŒæ™¯ä¿¡æ¯</td><td>å§‹ç»ˆåŠ è½½äºé¡¹ç›®å†…æ‰€æœ‰å¯¹è¯ï¼Œé€‚åˆæä¾›é™æ€çŸ¥è¯†ï¼Œè€ŒéåŠ¨æ€æµç¨‹</td></tr><tr><td>MCP</td><td>å¤–éƒ¨å·¥å…·è¿æ¥å™¨</td><td>è·¨å¹³å°æ•°æ®äº¤äº’ã€å·¥å…·è°ƒç”¨</td><td>æä¾›å·¥å…·è®¿é—®æƒé™ï¼ŒSkills åˆ™æ•™ Claude å¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·</td></tr><tr><td>è‡ªå®šä¹‰æŒ‡ä»¤</td><td>å…¨å±€é€šç”¨è¡Œä¸ºè§„èŒƒ</td><td>è®¾å®š Claude çš„æ•´ä½“è¯­æ°”ã€å›å¤é£æ ¼</td><td>ä½œç”¨äºæ‰€æœ‰å¯¹è¯ï¼Œæ— ä»»åŠ¡é’ˆå¯¹æ€§ï¼›Skills ä»…åœ¨ç‰¹å®šä»»åŠ¡ä¸­è§¦å‘</td></tr></tbody></table>
<p>ç®€å•æ¥è¯´ï¼ŒMCP æ˜¯â€œæ¡¥æ¢â€ï¼Œè¿æ¥ Claude ä¸å¤–éƒ¨å·¥å…·ï¼›Projects æ˜¯â€œçŸ¥è¯†åº“â€ï¼Œæä¾›å›ºå®šèƒŒæ™¯ï¼›è‡ªå®šä¹‰æŒ‡ä»¤æ˜¯â€œå…¨å±€äººè®¾â€ï¼Œè§„èŒƒæ•´ä½“é£æ ¼ï¼›è€Œ Skills æ˜¯â€œä¸“å±æ‰‹å†Œâ€ï¼ŒæŒ‡å¯¼ Claude å®Œæˆç‰¹å®šä»»åŠ¡çš„å…·ä½“æ­¥éª¤ã€‚</p>
<h2 data-id="heading-13">å…­ã€å®‰å…¨æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ</h2>
<p>åœ¨ä½¿ç”¨ Skills åŠŸèƒ½æ—¶ï¼Œå®‰å…¨ä¸åˆç†æ€§æ˜¯é‡ä¸­ä¹‹é‡ã€‚åŒæ—¶ï¼ŒæŒæ¡ä¸€äº›æœ€ä½³å®è·µï¼Œèƒ½è®©ä½ çš„ Skills å‘æŒ¥æ›´å¤§ä»·å€¼ã€‚</p>
<h3 data-id="heading-14">å®‰å…¨é£é™©ä¸é˜²èŒƒ</h3>
<p>Skills å¯èƒ½åŒ…å«ç¬¬ä¸‰æ–¹åŒ…ã€è„šæœ¬æˆ–ç½‘ç»œè¿æ¥æŒ‡ä»¤ï¼Œå­˜åœ¨æç¤ºæ³¨å…¥ã€æ•°æ®æ³„éœ²ç­‰é£é™©ï¼Œå› æ­¤éœ€æ³¨æ„ï¼š</p>
<ul>
<li>ä»…ä»å®˜æ–¹æˆ–å¯ä¿¡æ¥æºå®‰è£…æŠ€èƒ½ï¼Œé¿å…ä½¿ç”¨æœªçŸ¥ç¬¬ä¸‰æ–¹æŠ€èƒ½ï¼›</li>
<li>å®‰è£…éå®˜æ–¹æŠ€èƒ½å‰ï¼ŒåŠ¡å¿…è§£å‹æŸ¥çœ‹å†…å®¹ï¼Œé‡ç‚¹æ£€æŸ¥è„šæœ¬ä»£ç ã€ç½‘ç»œè¿æ¥åœ°å€ï¼Œç¡®è®¤æ— æ¶æ„æŒ‡ä»¤ï¼›</li>
<li>é¿å…åœ¨æŠ€èƒ½ä¸­å†™å…¥æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚è´¦å·å¯†ç ã€æ ¸å¿ƒä¸šåŠ¡æ•°æ®ï¼‰ï¼Œé˜²æ­¢æ•°æ®æ³„éœ²ã€‚</li>
</ul>
<h3 data-id="heading-15">Skillsä½¿ç”¨æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>ä»ç®€å•å¼€å§‹ï¼Œé€æ­¥è¿­ä»£</strong>ï¼šå…ˆè¯•ç”¨ Anthropic å®˜æ–¹æŠ€èƒ½ï¼Œç†Ÿæ‚‰åŠŸèƒ½é€»è¾‘åï¼Œå†å°è¯•åˆ›å»ºç®€å•çš„è‡ªå®šä¹‰æŠ€èƒ½ï¼ˆå¦‚æ¨¡æ¿ç±»æŠ€èƒ½ï¼‰ï¼Œé¿å…ä¸€å¼€å§‹å°±å¼€å‘å¤æ‚æŠ€èƒ½å¯¼è‡´æ•ˆæœä¸ä½³ã€‚</li>
<li><strong>æŒ‡ä»¤ç²¾å‡†å…·ä½“</strong>ï¼šç¼–å†™æŠ€èƒ½æŒ‡ä»¤æ—¶ï¼Œé¿å…æ¨¡ç³Šè¡¨è¿°ã€‚æ¯”å¦‚å“ç‰Œè§„èŒƒæŠ€èƒ½ï¼Œéœ€æ˜ç¡®å†™å‡ºâ€œæ ‡é¢˜ä½¿ç”¨å¾®è½¯é›…é»‘ã€äºŒå·å­—ä½“ã€è“è‰²#0066CCâ€ï¼Œè€Œéâ€œæ ‡é¢˜ç”¨è“è‰²å­—ä½“â€ã€‚</li>
<li><strong>åˆ†åœºæ™¯åˆ›å»ºæŠ€èƒ½</strong>ï¼šé¿å…åˆ›å»ºâ€œä¸‡èƒ½æŠ€èƒ½â€ï¼Œé’ˆå¯¹ä¸åŒä»»åŠ¡ï¼ˆå¦‚é‚®ä»¶ç”Ÿæˆã€æ•°æ®å¤„ç†ã€PPTåˆ¶ä½œï¼‰åˆ†åˆ«åˆ›å»ºæŠ€èƒ½ï¼Œæ—¢èƒ½æå‡ Claude åŒ¹é…ç²¾åº¦ï¼Œåˆä¾¿äºç®¡ç†å’Œæ›´æ–°ã€‚</li>
<li><strong>æŒç»­æµ‹è¯•ä¼˜åŒ–</strong>ï¼šä¸Šä¼ è‡ªå®šä¹‰æŠ€èƒ½åï¼Œç”¨ä¸åŒåœºæ™¯çš„ä»»åŠ¡æµ‹è¯•æ•ˆæœï¼Œæ ¹æ®è¾“å‡ºç»“æœè°ƒæ•´æŒ‡ä»¤ç»†èŠ‚ï¼Œé€æ­¥ä¼˜åŒ–æŠ€èƒ½çš„ç²¾å‡†åº¦ã€‚</li>
<li><strong>å›¢é˜ŸæŠ€èƒ½ç»Ÿä¸€ç®¡ç†</strong>ï¼šå›¢é˜Ÿåœºæ™¯ä¸‹ï¼Œç”±ç®¡ç†å‘˜ç»Ÿä¸€åˆ›å»ºã€å®¡æ ¸æŠ€èƒ½ï¼Œç¡®ä¿æŠ€èƒ½ç¬¦åˆå›¢é˜Ÿè§„èŒƒï¼ŒåŒæ—¶å®šæœŸæ›´æ–°æŠ€èƒ½å†…å®¹ï¼Œé€‚é…ä¸šåŠ¡å˜åŒ–ã€‚</li>
</ol>
<h2 data-id="heading-16">ä¸ƒã€æ€»ç»“ï¼šè®©Claudeæˆä¸ºä½ çš„ä¸“å±å·¥ä½œä¼™ä¼´</h2>
<p>Claude Skills çš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºå°†AIå·¥å…·ä»â€œè¢«åŠ¨å“åº”æŒ‡ä»¤â€å‡çº§ä¸ºâ€œä¸»åŠ¨é€‚é…éœ€æ±‚â€ã€‚å®ƒä¸ä»…èƒ½æå‡ä¸ªäººå·¥ä½œæ•ˆç‡ï¼Œæ›´èƒ½å¸®åŠ©å›¢é˜Ÿå®ç°æµç¨‹æ ‡å‡†åŒ–ã€çŸ¥è¯†èµ„äº§åŒ–ï¼Œåœ¨æ¿€çƒˆçš„ç«äº‰ä¸­æ„å»ºæ•ˆç‡ä¼˜åŠ¿ã€‚</p>
<p>æ— è®ºæ˜¯èŒåœºæ–°äººæƒ³å¿«é€Ÿä¸Šæ‰‹å·¥ä½œï¼Œè¿˜æ˜¯èµ„æ·±ä»ä¸šè€…æƒ³ä¼˜åŒ–å·¥ä½œæµï¼Œäº¦æˆ–æ˜¯å›¢é˜Ÿç®¡ç†è€…æƒ³æ¨åŠ¨æ•°å­—åŒ–è½¬å‹ï¼ŒClaude Skills éƒ½èƒ½æä¾›å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œä¸å¦¨å°è¯•å¯ç”¨å®˜æ–¹æŠ€èƒ½ï¼Œå†åŠ¨æ‰‹åˆ›å»ºä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰æŠ€èƒ½ï¼Œæ„Ÿå—AIä¸ªæ€§åŒ–å¸¦æ¥çš„æ•ˆç‡é£è·ƒã€‚</p>
<p>å¦‚æœä½ åœ¨ä½¿ç”¨ Skills çš„è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæˆ–æœ‰ä¼˜è´¨çš„è‡ªå®šä¹‰æŠ€èƒ½æ¡ˆä¾‹ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«äº¤æµï¼Œè®©æˆ‘ä»¬ä¸€èµ·è§£é” Claude çš„æ›´å¤šéšè—èƒ½åŠ›ï¼</p>
<h2 data-id="heading-17">èµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.claude.com%2Fen%2Farticles%2F12512176-what-are-skills" target="_blank" title="https://support.claude.com/en/articles/12512176-what-are-skills" ref="nofollow noopener noreferrer">support.claude.com/en/articlesâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.claude.com%2Fen%2Farticles%2F12512180-using-skills-in-claude" target="_blank" title="https://support.claude.com/en/articles/12512180-using-skills-in-claude" ref="nofollow noopener noreferrer">support.claude.com/en/articlesâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsupport.claude.com%2Fen%2Farticles%2F12512198-how-to-create-custom-skills" target="_blank" title="https://support.claude.com/en/articles/12512198-how-to-create-custom-skills" ref="nofollow noopener noreferrer">support.claude.com/en/articlesâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Šå¹´ OKR å†™ä»€ä¹ˆï¼Ÿå†…éƒ¨ RAG æ–¹æ¡ˆè§£å›å¿§]]></title>    <link>https://juejin.cn/post/7596532586757898303</link>    <guid>https://juejin.cn/post/7596532586757898303</guid>    <pubDate>2026-01-19T05:28:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596532586757898303" data-draft-id="7596639774267195434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Šå¹´ OKR å†™ä»€ä¹ˆï¼Ÿå†…éƒ¨ RAG æ–¹æ¡ˆè§£å›å¿§"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,OpenAI"/> <meta itemprop="datePublished" content="2026-01-19T05:28:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HiStewie"/> <meta itemprop="url" content="https://juejin.cn/user/1591748568038823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Šå¹´ OKR å†™ä»€ä¹ˆï¼Ÿå†…éƒ¨ RAG æ–¹æ¡ˆè§£å›å¿§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748568038823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HiStewie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T05:28:42.000Z" title="Mon Jan 19 2026 05:28:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><h2 data-id="heading-0">ğŸ§­ ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« ï¼Ÿ</h2>
<p>æ¯åˆ°å­£åº¦æœ«ï¼Œå¤§å®¶éƒ½åœ¨æ„ OKR æ€ä¹ˆå¡«ã€‚å†™ä»£ç é‡æ„ï¼Ÿé‚£æ˜¯æœ¬åˆ†ã€‚å†™ä¿® Bugï¼Ÿé‚£æ˜¯å¡«å‘ã€‚ çœŸæ­£èƒ½æ‹¿ <strong>é«˜ç»©æ•ˆ</strong> çš„é¡¹ç›®ï¼Œå¾€å¾€æ˜¯é‚£ç§ <strong>â€œçœ‹ç€ä¸èµ·çœ¼ï¼Œä¸€ç”¨å›ä¸å»ï¼Œè€æ¿è¿˜è§‰å¾—ä½ ä¸ä»…æ‡‚æŠ€æœ¯æ›´æ‡‚ä¸šåŠ¡â€</strong> çš„ä¸œè¥¿ã€‚</p>
<p>æœ€è¿‘æˆ‘å¤ç›˜äº†ä¸€ä¸ªè‡ªå·±å¼€å‘çš„ï¼ˆAI Agentï¼‰çš„è½åœ°è¿‡ç¨‹ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€å¥— <strong>â€œç”¨ AI å€’é€¼ç»„ç»‡ç†µå‡â€</strong> çš„æ–¹æ³•è®ºã€‚å¦‚æœä½ æƒ³åœ¨å…¬å¸å†…éƒ¨æç‚¹â€œé™æœ¬å¢æ•ˆâ€çš„å®ç»©ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ä½ çš„ <strong>Copy-Paste çº§æŒ‡å—</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ” ç—›ç‚¹ï¼šæˆ‘ä»¬éƒ½åœ¨â€œä¿¡æ¯å­¤å²›â€é‡Œè£¸æ³³</h2>
<p>åœ¨ç ”å‘ç»„ç»‡è§„æ¨¡åŒ–ä¹‹åï¼Œæˆ‘ä»¬éƒ½é¢ä¸´ç€å¤§å‚æ—©æœŸçš„å…¸å‹ç—›ç‚¹ï¼Œæˆ‘ç§°ä¹‹ä¸º <strong>â€œæ–‡æ¡£è…åŒ–ä¸‰éƒ¨æ›²â€</strong></p>
<ol>
<li><strong>çŸ¥è¯†éšæ€§åŒ–ï¼š</strong> æœ€æ–°çš„æ¥å£å˜åŠ¨ã€ç¯å¢ƒé…ç½®ï¼Œå…¨åœ¨èµ„æ·±å‘˜å·¥çš„è„‘å­é‡Œã€‚</li>
<li><strong>æ–‡æ¡£â€œå†™å®Œå³æ­»â€ï¼š</strong> Wiki é‡Œçš„æ–‡æ¡£æ˜¯åŠå¹´å‰çš„ï¼Œè°ä¿¡è°è¸©å‘ã€‚</li>
<li><strong>åä½œæµæ–­å±‚ï¼š</strong> é‡åˆ°é—®é¢˜ -&gt; æœæ–‡æ¡£ï¼ˆæœä¸åˆ°ï¼‰-&gt; é—®ç¾¤é‡Œçš„å¤§ä½¬ -&gt; å¤§ä½¬è¢«æ‰“æ–­ -&gt; å¤§ä½¬ç”Ÿæ°”ã€‚</li>
</ol>
<p><strong>è§£å†³è·¯å¾„ï¼š</strong> ä¸æ˜¯æè¡Œæ”¿å‘½ä»¤å¼ºè¿«å¤§å®¶å†™æ–‡æ¡£ï¼Œè€Œæ˜¯ <strong>â€œIM + AI Agentâ€</strong> ã€‚æŠŠ AI åµŒå…¥åˆ°å¤§å®¶æ¯å¤©ç”¨çš„é£ä¹¦/é’‰é’‰é‡Œï¼Œè®© AI æ›¿ä½ å›ç­”é‚£ 80% çš„é‡å¤æ€§åºŸè¯ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ¢ è¡Œä¸šå¯¹æ ‡ï¼šå¤§å‚éƒ½åœ¨æ€ä¹ˆç©ï¼Ÿ</h2>
<p>åˆ«è§‰å¾—è¿™æ˜¯â€œä¼ªéœ€æ±‚â€ï¼Œçœ‹çœ‹å­—èŠ‚å’Œé˜¿é‡Œæ˜¯æ€ä¹ˆæŠŠå†…éƒ¨æ•ˆèƒ½å·åˆ°æè‡´çš„ã€‚</p>
<h3 data-id="heading-3">å­—èŠ‚è·³åŠ¨ (åŸç”Ÿæœ€ä½³å®è·µ)</h3>
<ul>
<li><strong>æ‰“æ³•ï¼š</strong> Â åŸºäºÂ <strong>é£ä¹¦ (Lark)</strong> Â é›†æˆÂ <strong>è±†åŒ…å¤§æ¨¡å‹</strong>ï¼Œæ„å»ºäº†â€œé£ä¹¦æ™ºèƒ½ä¼™ä¼´â€ä¸â€œæœåŠ¡å° Botâ€ã€‚</li>
<li><strong>æˆ˜ç»©ï¼š</strong> Â åœ¨ IT å’Œ HR åœºæ™¯å®ç°äº†Â <strong>85% çš„é¦–é—®æ‹¦æˆªç‡</strong>ã€‚è¿™æ„å‘³ç€ 100 ä¸ªäººæ¥é—®é—®é¢˜ï¼Œ85 ä¸ªäººè¢« AI å®Œç¾è§£ç­”ï¼Œæ ¹æœ¬ä¸éœ€è¦äººå·¥ä»‹å…¥ã€‚å‘˜å·¥æ‰¾æ–‡æ¡£æ—¶é—´ä»å¹³å‡ 5 åˆ†é’Ÿç¼©çŸ­åˆ°Â <strong>10 ç§’</strong>ã€‚</li>
<li><strong>å‚è€ƒï¼š</strong> Â æœ¬é¡¹ç›®é‡‡ç”¨çš„Â <strong>Coze + Lark</strong>Â æ¶æ„ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å­—èŠ‚å†…éƒ¨æ•ˆèƒ½å·¥å…·å¯¹å¤–è¾“å‡ºçš„æ ‡å‡†æŠ€æœ¯æ ˆï¼Œå…·å¤‡æé«˜çš„åŸç”Ÿå…¼å®¹æ€§ã€‚</li>
</ul>
<h3 data-id="heading-4">é˜¿é‡Œå·´å·´ (è¡Œä¸šé€šç”¨èŒƒå¼)</h3>
<ul>
<li><strong>æ‰“æ³•ï¼š</strong> Â åŸºäºÂ <strong>é’‰é’‰</strong>Â é›†æˆÂ <strong>é€šä¹‰å¤§æ¨¡å‹</strong>ï¼Œæ„å»ºâ€œé’‰é’‰ AI åŠ©ç†â€ï¼Œæ‰“é€šäº†è¯­é›€æ–‡æ¡£å’Œ DevOps å¹³å°ã€‚</li>
<li><strong>æˆ˜ç»©ï¼š</strong> Â æ–°äººå…¥èŒåœºæ™¯ï¼ŒAI æ¥ç®¡äº†Â <strong>70%</strong> Â çš„æƒé™å®¡æ‰¹å’Œç¯å¢ƒé…ç½®å’¨è¯¢ï¼Œå·¥å•æµè½¬æ•ˆç‡æå‡Â <strong>50%</strong> ã€‚</li>
</ul>
<p><strong>ğŸ’¡ å¯ç¤ºï¼š</strong> æ— è®ºå­—èŠ‚è¿˜æ˜¯é˜¿é‡Œï¼Œå¤§å‚çš„ç»éªŒéƒ½æŒ‡å‘åŒä¸€ä¸ªå…¬å¼ï¼š</p>
<blockquote>
<p><strong>IM (é«˜é¢‘å…¥å£) + RAG (æ¿€æ´»æ–‡æ¡£) = è§£å†³â€œä¿¡æ¯å­¤å²›â€æˆæœ¬æœ€ä½ã€è§æ•ˆæœ€å¿«çš„è·¯å¾„ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ğŸ› ï¸ æ ¸å¿ƒæœºåˆ¶ï¼šæ„å»ºâ€œçŸ¥è¯†é£è½®â€ (The Flywheel)</h2>
<p>å¾ˆå¤šå›¢é˜Ÿåš AI åŠ©æ‰‹å¤±è´¥ï¼Œæ˜¯å› ä¸ºåªæŠŠå®ƒå½“æˆäº†â€œæœç´¢å·¥å…·â€ã€‚ æˆ‘çš„æ ¸å¿ƒä»·å€¼ä¸»å¼  (Core Value Proposition) æ˜¯ï¼š<strong>è¿™ä¸ä»…æ˜¯å·¥å…·ï¼Œæ›´æ˜¯å·¥ä½œæ¨¡å¼çš„å˜é©ã€‚</strong></p>
<p>æˆ‘ä»¬è¦å»ºç«‹ä¸€ä¸ªé—­ç¯ï¼š<strong>å½“ AI ç­”é”™æ—¶ï¼Œæ­£æ˜¯æ–‡æ¡£æ²»ç†çš„æœ€ä½³æ—¶æœºã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2de84b873b7445c6bb966069deadffc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769405530&amp;x-signature=a1Zr%2FsW%2FPxW%2B%2F4YkKutT5FAgxqg%3D" alt="807_1x_shots_so.png" loading="lazy"/></p>
<p><strong>æ”¶ç›Šï¼š</strong> é€šè¿‡â€œä½¿ç”¨å€’é€¼ç»´æŠ¤â€ã€‚ä¸æ˜¯ä¸ºäº†å†™æ–‡æ¡£è€Œå†™æ–‡æ¡£ï¼Œè€Œæ˜¯ä¸ºäº†â€œä¸è¢« AI é¢‘ç¹æ‰“æ‰°â€è€Œå†™æ–‡æ¡£ã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸš€ æ¶æ„è®¾è®¡ï¼šä» RAG åˆ° å¤šæ™ºèƒ½ä½“ (Architecture)</h2>
<p>æˆ‘ä»¬ä¸é€ è½®å­ï¼Œæˆ‘ä»¬æ˜¯â€œç¼åˆæ€ªâ€å¤§å¸ˆã€‚</p>
<ul>
<li><strong>å¤§è„‘ï¼š</strong> Coze (æ‰£å­) ä¼ä¸šçº§ AI ç¼–æ’å¹³å°ã€‚</li>
<li><strong>èº«ä½“ï¼š</strong> Lark (é£ä¹¦) å¼€æ”¾å¹³å°ã€‚</li>
<li><strong>æŠ€æœ¯æ ˆï¼š</strong> RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ) + Function Call (å·¥å…·è°ƒç”¨)ã€‚</li>
</ul>
<h3 data-id="heading-7">äº¤äº’æ—¶åºå›¾</h3>
<p>è¿™æ˜¯ç”¨æˆ·åœ¨é£ä¹¦ç¾¤é‡Œ @Bot æ—¶çš„èƒŒåé€»è¾‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/559bc08e23be4e45b8eb3d281301ee2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769405530&amp;x-signature=%2BAIJq6ZMFsAesX22boHqaBprNxQ%3D" alt="69_1x_shots_so.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-8">ğŸ“ˆ æ¼”è¿›è·¯çº¿ SOPï¼šä¸‰æ­¥èµ°ç­–ç•¥</h2>
<p>åˆ«æƒ³ç€ä¸€å£æ°”åƒæˆä¸ªèƒ–å­ï¼ŒAI é¡¹ç›®æœ€å¿Œè®³â€œæ†‹å¤§æ‹›â€ã€‚</p>
<h3 data-id="heading-9">é˜¶æ®µä¸€ï¼šMVP (æœ€å°å¯è¡Œæ€§äº§å“) â€”â€” ä¸“æ²»â€œä¼¸æ‰‹å…šâ€</h3>
<ul>
<li><strong>ç›®æ ‡ï¼š</strong> è§£å†³ 80% çš„é«˜é¢‘ã€é€šç”¨ã€æ ‡å‡†åŒ–é—®é¢˜ã€‚</li>
<li><strong>åœºæ™¯ï¼š</strong> ç¯å¢ƒæŸ¥è¯¢ã€åŸºç¡€æŠ¥é”™æ’æŸ¥ã€æµç¨‹è§„èŒƒæŒ‡å¼•ã€‚</li>
<li><strong>é¿å‘ï¼š</strong> åˆ«è¿½æ±‚ 95% å‡†ç¡®ç‡ï¼Œåšåˆ° 85% å°±è¡Œã€‚å…è®¸ AI è¯´â€œä¸çŸ¥é“â€ï¼Œä½†è¦ç»™å…œåº•é“¾æ¥ã€‚</li>
</ul>
<h3 data-id="heading-10">é˜¶æ®µäºŒï¼šDDD (é¢†åŸŸé©±åŠ¨) â€”â€” æ‹’ç»â€œåƒåœ¾åœºâ€</h3>
<p>å½“ Bot å˜å¤§åï¼ŒçŸ¥è¯†ä¼šå†²çªã€‚è¿™æ—¶å€™è¦å¼•å…¥ <strong>DDD (Domain-Driven Design)</strong> æ€æƒ³ï¼Œæ‹†åˆ†å¤šä¸ªå‚ç›´ Botã€‚</p>
<h3 data-id="heading-11">é˜¶æ®µä¸‰ï¼šAgent (æ™ºèƒ½ä½“) â€”â€” æ™ºèƒ½è·¯ç”±</h3>
<p>è¿™æ˜¯ç»ˆæå½¢æ€ã€‚ç”¨æˆ·åªéœ€è¦é¢å¯¹ä¸€ä¸ªå…¥å£ï¼Œåå°é€šè¿‡ <strong>Router (è·¯ç”±æ™ºèƒ½ä½“)</strong> è‡ªåŠ¨åˆ†å‘ä»»åŠ¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02cfae6f9a924f08b6d7c0da869c482e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769405530&amp;x-signature=P3bXBXV9HNdJYQKhqT3BwUW5tgw%3D" alt="12_1x_shots_so.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-12">ğŸ’¡ æ•°æ®æ²»ç†ï¼šGarbage In, Garbage Out</h2>
<p>åœ¨ RAG ç³»ç»Ÿé‡Œï¼Œæœ‰ä¸€å¥è‡³ç†åè¨€ï¼š<strong>åƒåœ¾è¿›ï¼Œåƒåœ¾å‡ºã€‚</strong> å¦‚æœä½ æŠŠè¿‡æœŸçš„ã€é”™è¯¯çš„æ–‡æ¡£ä¸€è‚¡è„‘å–‚ç»™ AIï¼Œå®ƒå°±ä¼šå˜æˆä¸€ä¸ªâ€œä¸€æœ¬æ­£ç»èƒ¡è¯´å…«é“â€çš„å‚»ç“œã€‚</p>
<p><strong>æˆ‘çš„çº¢ç»¿ç¯ç­–ç•¥ï¼š</strong></p>





























<table><thead><tr><th>ä¿¡å·ç¯</th><th>æ–‡æ¡£ç±»å‹</th><th>å¤„ç†ç­–ç•¥</th><th>å…¸å‹æ¡ˆä¾‹</th></tr></thead><tbody><tr><td>âœ… <strong>ç»¿ç¯</strong></td><td><strong>å•ä¸€äº‹å®æ¥æº</strong></td><td><strong>å¿…é¡»åŠ </strong></td><td>ç¯å¢ƒé…ç½®è¡¨ã€é”™è¯¯ç å­—å…¸ã€SOP æµç¨‹å›¾</td></tr><tr><td>âš ï¸ <strong>é»„ç¯</strong></td><td><strong>éç»“æ„åŒ–æ•°æ®</strong></td><td><strong>æ¸…æ´—ååŠ </strong></td><td>æ•£è½åœ¨èŠå¤©è®°å½•é‡Œçš„ QAã€æ—§çš„æŠ€æœ¯æ–¹æ¡ˆ</td></tr><tr><td>âŒ <strong>çº¢ç¯</strong></td><td><strong>å™ªéŸ³æ–‡æ¡£</strong></td><td><strong>ç»å¯¹ä¸åŠ </strong></td><td>è¿‡æœŸçš„æ¥å£æ–‡æ¡£ã€æœªå®šç¨¿çš„è‰æ¡ˆã€ä¸ªäººç¬”è®°</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-13">ğŸ“ æ€»ç»“ &amp; è¡ŒåŠ¨å»ºè®®</h2>
<p>è¿™ä¸ªé¡¹ç›®çš„ ROI (æŠ•å…¥äº§å‡ºæ¯”) æé«˜ï¼š</p>
<ul>
<li><strong>æˆæœ¬ï¼š</strong> å‡ ä¹ä¸ºé›¶ï¼ˆSaaS + Token è´¹ç”¨ï¼‰ï¼Œä¸éœ€è¦ä¹° GPUã€‚</li>
<li><strong>æ”¶ç›Šï¼š</strong> æ–°äººå…¥èŒæ–‡æ¡£æŸ¥æ‰¾æ—¶é—´ä» 5 åˆ†é’Ÿ -&gt; 10 ç§’ï¼›ç ”å‘ç¾¤é‡å¤æé—®å‡å°‘ 30%ã€‚</li>
</ul>
<p><strong>ç»™æƒ³åšè¿™ä¸ªé¡¹ç›®çš„ä½ å‡ ä¸ªå»ºè®®ï¼š</strong></p>
<ol>
<li><strong>ç°åœ¨å°±å»ç”³è¯·èµ„æºï¼š</strong> æ‰¾ IT è¦ä¸ª Coze ä¼ä¸šç‰ˆè´¦å·ï¼Œæ‰¾è€æ¿è¦ç‚¹ Token é¢„ç®—ï¼ˆå¾ˆä¾¿å®œï¼‰ã€‚</li>
<li><strong>åˆ«è´ªå¤šï¼š</strong> å…ˆåšä¸€ä¸ªèƒ½è§£å†³â€œç¯å¢ƒé…ç½® + æŠ¥é”™â€çš„æœºå™¨äººï¼Œæ‹‰ä¸ªå°ç¾¤å†…æµ‹ã€‚</li>
<li><strong>å…³æ³¨â€œäººâ€ï¼š</strong> æŠ€æœ¯ä¸æ˜¯éš¾ç‚¹ï¼Œéš¾ç‚¹æ˜¯å»ºç«‹â€œæ–‡æ¡£ç»´æŠ¤æœºåˆ¶â€ã€‚</li>
</ol>
<p><strong>æœ€åï¼Œåˆ«å¿˜äº†æŠŠè¿™ä¸ªå†™è¿›ä½ çš„ OKR é‡Œï¼š</strong></p>
<p>â€œæ­å»ºåŸºäº RAG çš„ä¼ä¸šçº§æ™ºèƒ½åŠ©æ‰‹ï¼Œå®ç°ç ”å‘çŸ¥è¯†åº“çš„åŠ¨æ€é—­ç¯ï¼Œé¢„è®¡æå‡å†…éƒ¨æ£€ç´¢æ•ˆç‡ 50%ã€‚â€</p>
<p>å¬èµ·æ¥æ˜¯ä¸æ˜¯æ¯”â€œä¿®å¤ 10 ä¸ª Bugâ€æ€§æ„Ÿå¤šäº†ï¼ŸğŸ˜‰</p>
<hr/>
<p><em>æˆ‘æ˜¯ HiStewieï¼Œä¸€ä¸ªå…³æ³¨ AI å˜ç°å’Œäº§å“å·¥ç¨‹åŒ–çš„ç¨‹åºå‘˜ã€‚å¦‚æœä½ è§‰å¾—è¿™ç¯‡ SOP å¯¹ä½ æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼Œæˆ‘ä¼šæ ¹æ®æ–‡ç« æ•°æ®åˆ¤æ–­æ˜¯å¦æ›´æ–°ä¸‹ä¸€ç¯‡å…·ä½“å®ç°è·¯å¾„å’Œè¸©å‘åŠè§£æ³•</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Sharding-JDBCåˆ†å¸ƒå¼åˆ†åº“åˆ†è¡¨å®æˆ˜æŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§è½åœ°]]></title>    <link>https://juejin.cn/post/7596768867231744019</link>    <guid>https://juejin.cn/post/7596768867231744019</guid>    <pubDate>2026-01-19T05:39:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596768867231744019" data-draft-id="7596710680896471046" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Sharding-JDBCåˆ†å¸ƒå¼åˆ†åº“åˆ†è¡¨å®æˆ˜æŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§è½åœ°"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2026-01-19T05:39:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Sharding-JDBCåˆ†å¸ƒå¼åˆ†åº“åˆ†è¡¨å®æˆ˜æŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T05:39:08.000Z" title="Mon Jan 19 2026 05:39:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Sharding-JDBCåˆ†å¸ƒå¼åˆ†åº“åˆ†è¡¨å®æˆ˜æŒ‡å—ï¼šä»åŸç†åˆ°ç”Ÿäº§è½åœ°</h2>
<p>åœ¨å¾®æœåŠ¡ä¸å¤§æ•°æ®é‡åœºæ™¯ä¸‹ï¼Œå•ä¸€æ•°æ®åº“çš„å­˜å‚¨ä¸æ€§èƒ½ç“¶é¢ˆæ—¥ç›Šå‡¸æ˜¾â€”â€”å•è¡¨æ•°æ®é‡çªç ´åƒä¸‡çº§åï¼ŒæŸ¥è¯¢æ•ˆç‡æ€¥å‰§ä¸‹é™ï¼Œå†™å…¥å¹¶å‘å—é™äºæ•°æ®åº“è¿æ¥æ•°ã€‚åˆ†åº“åˆ†è¡¨æˆä¸ºè§£å†³è¿™ä¸€é—®é¢˜çš„æ ¸å¿ƒæ–¹æ¡ˆï¼Œè€ŒSharding-JDBCä½œä¸ºè½»é‡çº§åˆ†å¸ƒå¼æ•°æ®è®¿é—®æ¡†æ¶ï¼Œä»¥â€œæ— ä¾µå…¥ã€æ˜“é›†æˆã€é«˜çµæ´»â€çš„ç‰¹ç‚¹ï¼Œæˆä¸ºJavaç”Ÿæ€ä¸‹åˆ†åº“åˆ†è¡¨çš„é¦–é€‰å·¥å…·ã€‚æœ¬æ–‡ä»æ ¸å¿ƒåŸç†ã€æ¡†æ¶é€‰å‹ã€å®æˆ˜å®ç°åˆ°ç”Ÿäº§ä¼˜åŒ–ï¼Œå®Œæ•´æ‹†è§£Sharding-JDBCçš„è½åœ°å…¨æµç¨‹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦Sharding-JDBCï¼Ÿåˆ†åº“åˆ†è¡¨çš„æ ¸å¿ƒä»·å€¼</h3>
<p>éšç€ä¸šåŠ¡å¢é•¿ï¼Œå•ä¸€æ•°æ®åº“é¢ä¸´ä¸‰å¤§æ ¸å¿ƒç“¶é¢ˆï¼Œåˆ†åº“åˆ†è¡¨æ˜¯è§„æ¨¡åŒ–åœºæ™¯çš„å¿…ç”±ä¹‹è·¯ï¼š</p>
<ul>
<li><strong>å­˜å‚¨ç“¶é¢ˆ</strong>ï¼šå•åº“ç£ç›˜å®¹é‡æœ‰é™ï¼Œåƒä¸‡çº§ä»¥ä¸Šæ•°æ®å­˜å‚¨æ˜“å¯¼è‡´å¤‡ä»½ã€è¿ç§»å›°éš¾ï¼Œä¸”æ•°æ®åº“æ–‡ä»¶è¿‡å¤§å½±å“å¯åŠ¨é€Ÿåº¦ï¼›</li>
<li><strong>æ€§èƒ½ç“¶é¢ˆ</strong>ï¼šå•è¡¨æ•°æ®é‡è¿‡å¤šæ—¶ï¼Œç´¢å¼•å¤±æ•ˆã€å…¨è¡¨æ‰«ææ¦‚ç‡å¢åŠ ï¼ŒæŸ¥è¯¢å“åº”æ—¶é—´ä»æ¯«ç§’çº§é£™å‡è‡³ç§’çº§ï¼›</li>
<li><strong>å¹¶å‘ç“¶é¢ˆ</strong>ï¼šå•ä¸€æ•°æ®åº“çš„è¿æ¥æ•°ã€QPSä¸Šé™æœ‰é™ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ˆå¦‚ç§’æ€ã€å¤§ä¿ƒï¼‰æ˜“å‡ºç°è¿æ¥è€—å°½ã€å†™å…¥é˜»å¡ã€‚</li>
</ul>
<p>Sharding-JDBCçš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š<strong>æ— éœ€æ”¹é€ ä¸šåŠ¡ä»£ç ï¼Œé€šè¿‡è½»é‡çº§ä»£ç†å®ç°åˆ†åº“åˆ†è¡¨ä¸è¯»å†™åˆ†ç¦»ï¼Œå…¼é¡¾æ•°æ®æ‰©å®¹ä¸æŸ¥è¯¢æ€§èƒ½ï¼ŒåŒæ—¶å…¼å®¹ä¸»æµORMæ¡†æ¶ä¸åˆ†å¸ƒå¼äº‹åŠ¡</strong>ï¼Œå¤§å¹…é™ä½åˆ†åº“åˆ†è¡¨è½åœ°æˆæœ¬ã€‚</p>
<h3 data-id="heading-2">äºŒã€Sharding-JDBCæ ¸å¿ƒåŸç†ï¼šåˆ†åº“åˆ†è¡¨ä¸è¯»å†™åˆ†ç¦»</h3>
<h4 data-id="heading-3">1. æ ¸å¿ƒå®šä½ä¸æ¶æ„</h4>
<p>Sharding-JDBCå¹¶éç‹¬ç«‹ä¸­é—´ä»¶ï¼Œè€Œæ˜¯é›†æˆäºJavaåº”ç”¨ä¸­çš„JDBCå¢å¼ºå·¥å…·ï¼Œæ ¸å¿ƒæ¶æ„åˆ†ä¸ºä¸‰å±‚ï¼š</p>
<ul>
<li><strong>APIå±‚</strong>ï¼šæä¾›åˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»çš„æ ¸å¿ƒé…ç½®æ¥å£ï¼Œæ”¯æŒç¼–ç¨‹å¼ä¸é…ç½®å¼å¼€å‘ï¼›</li>
<li><strong>æ ¸å¿ƒå±‚</strong>ï¼šåŒ…å«SQLè§£æã€åˆ†ç‰‡è·¯ç”±ã€æ•°æ®æ”¹å†™ã€ç»“æœåˆå¹¶å››å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œæ˜¯Sharding-JDBCçš„æ ¸å¿ƒé€»è¾‘è½½ä½“ï¼›</li>
<li><strong>é€‚é…å±‚</strong>ï¼šå…¼å®¹JDBCè§„èŒƒï¼Œé€‚é…MySQLã€Oracleç­‰ä¸»æµæ•°æ®åº“ï¼Œä»¥åŠMyBatisã€Hibernateç­‰ORMæ¡†æ¶ï¼Œå®ç°æ— ä¾µå…¥é›†æˆã€‚</li>
</ul>
<p>æ ¸å¿ƒå·¥ä½œæµç¨‹ï¼šåº”ç”¨å‘èµ·SQLè¯·æ±‚ â†’ Sharding-JDBCè§£æSQL â†’ æŒ‰åˆ†ç‰‡ç­–ç•¥è·¯ç”±è‡³ç›®æ ‡æ•°æ®åº“/è¡¨ â†’ æ‰§è¡ŒSQLå¹¶åˆå¹¶ç»“æœ â†’ è¿”å›ç»™åº”ç”¨ã€‚å…¨ç¨‹å¯¹ä¸šåŠ¡é€æ˜ï¼Œå¼€å‘è€…æ— éœ€æ„ŸçŸ¥åˆ†åº“åˆ†è¡¨ç»†èŠ‚ã€‚</p>
<h4 data-id="heading-4">2. åˆ†åº“åˆ†è¡¨ç­–ç•¥ï¼ˆæ ¸å¿ƒèƒ½åŠ›ï¼‰</h4>
<p>åˆ†åº“åˆ†è¡¨ç­–ç•¥å†³å®šæ•°æ®å¦‚ä½•åˆ†å¸ƒåˆ°ä¸åŒèŠ‚ç‚¹ï¼Œç›´æ¥å½±å“ç³»ç»Ÿæ€§èƒ½ä¸æ‰©å±•æ€§ï¼ŒSharding-JDBCæ”¯æŒå¤šç§ç­–ç•¥ï¼Œæ ¸å¿ƒåˆ†ä¸ºä¸¤ç±»ï¼š</p>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰åˆ†ç‰‡é”®ä¸åˆ†ç‰‡æ–¹å¼</h5>
<ul>
<li><strong>åˆ†ç‰‡é”®</strong>ï¼šç”¨äºåˆ’åˆ†æ•°æ®çš„å­—æ®µï¼ˆå¦‚è®¢å•è¡¨çš„<code>user_id</code>ã€<code>create_time</code>ï¼‰ï¼Œéœ€ç»“åˆä¸šåŠ¡åœºæ™¯é€‰æ‹©ï¼ˆå¦‚æŒ‰ç”¨æˆ·IDå“ˆå¸Œã€æŒ‰æ—¶é—´èŒƒå›´åˆ†ç‰‡ï¼‰ï¼›</li>
<li><strong>åˆ†åº“vsåˆ†è¡¨</strong>ï¼šåˆ†åº“æ˜¯å°†æ•°æ®åˆ†æ•£åˆ°å¤šä¸ªæ•°æ®åº“å®ä¾‹ï¼Œç¼“è§£å•åº“å¹¶å‘å‹åŠ›ï¼›åˆ†è¡¨æ˜¯å°†å•è¡¨æ•°æ®åˆ†æ•£åˆ°åŒä¸€æ•°æ®åº“çš„å¤šä¸ªè¡¨ä¸­ï¼Œç¼“è§£å•è¡¨æŸ¥è¯¢å‹åŠ›ï¼Œå®é™…åœºæ™¯å¸¸ç»„åˆä½¿ç”¨ï¼ˆåˆ†åº“åˆ†è¡¨ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰ä¸»æµåˆ†ç‰‡ç­–ç•¥</h5>








































<table><thead><tr><th>ç­–ç•¥ç±»å‹</th><th>æ ¸å¿ƒé€»è¾‘</th><th>ä¼˜åŠ¿</th><th>å±€é™æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å“ˆå¸Œåˆ†ç‰‡ï¼ˆHashï¼‰</td><td>å¯¹åˆ†ç‰‡é”®å–å“ˆå¸Œå€¼ï¼Œæ˜ å°„åˆ°æŒ‡å®šåº“/è¡¨ï¼ˆå¦‚<code>user_id % 4</code>åˆ†4ä¸ªè¡¨ï¼‰</td><td>1. æ•°æ®åˆ†å¸ƒå‡åŒ€ï¼›2. æŸ¥è¯¢æ€§èƒ½ç¨³å®šï¼›3. æ‰©å®¹å¯é€šè¿‡ä¸€è‡´æ€§å“ˆå¸Œå‡å°‘æ•°æ®è¿ç§»</td><td>1. æ— æ³•æŒ‰èŒƒå›´æŸ¥è¯¢ï¼ˆå¦‚æŒ‰æ—¶é—´ç­›é€‰ï¼‰ï¼›2. æ‰©å®¹æ—¶éœ€è¿ç§»éƒ¨åˆ†æ•°æ®</td><td>ç”¨æˆ·ä¸­å¿ƒã€è®¢å•ä¸­å¿ƒç­‰æŒ‰ç”¨æˆ·/è®¢å•IDåˆ†ç‰‡åœºæ™¯</td></tr><tr><td>èŒƒå›´åˆ†ç‰‡ï¼ˆRangeï¼‰</td><td>æŒ‰åˆ†ç‰‡é”®çš„èŒƒå›´åˆ’åˆ†ï¼ˆå¦‚æ—¶é—´æŒ‰æœˆä»½ã€IDæŒ‰åŒºé—´ï¼š1-100ä¸‡ã€101ä¸‡-200ä¸‡ï¼‰</td><td>1. æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼ŒæŸ¥è¯¢æ•ˆç‡é«˜ï¼›2. æ‰©å®¹æ— éœ€è¿ç§»å†å²æ•°æ®ï¼ˆæ–°å¢åŒºé—´ï¼‰</td><td>1. æ•°æ®åˆ†å¸ƒå¯èƒ½ä¸å‡ï¼ˆå¦‚æœˆæœ«æ•°æ®æ¿€å¢ï¼‰ï¼›2. çƒ­ç‚¹æ•°æ®é›†ä¸­ï¼ˆå¦‚æœ€æ–°æœˆä»½ï¼‰</td><td>æ—¥å¿—ç³»ç»Ÿã€è´¦å•ç³»ç»Ÿç­‰æŒ‰æ—¶é—´å½’æ¡£åœºæ™¯</td></tr><tr><td>å¤åˆåˆ†ç‰‡</td><td>ç»„åˆå¤šä¸ªåˆ†ç‰‡é”®ï¼ˆå¦‚å…ˆæŒ‰<code>user_id</code>å“ˆå¸Œåˆ†åº“ï¼Œå†æŒ‰<code>create_time</code>èŒƒå›´åˆ†è¡¨ï¼‰</td><td>å…¼é¡¾å‡åŒ€åˆ†å¸ƒä¸èŒƒå›´æŸ¥è¯¢ï¼Œé€‚é…å¤æ‚ä¸šåŠ¡åœºæ™¯</td><td>é…ç½®å¤æ‚ï¼ŒSQLè§£æä¸è·¯ç”±æˆæœ¬ç•¥é«˜</td><td>å¤§å‹ç”µå•†è®¢å•ã€é‡‘èäº¤æ˜“ç­‰å¤æ‚åœºæ™¯</td></tr><tr><td>è‡ªå®šä¹‰åˆ†ç‰‡</td><td>å®ç°Sharding-JDBCçš„åˆ†ç‰‡æ¥å£ï¼Œè‡ªå®šä¹‰è·¯ç”±é€»è¾‘ï¼ˆå¦‚æŒ‰ä¸šåŠ¡æ ‡ç­¾åˆ†ç‰‡ï¼‰</td><td>çµæ´»æ€§æé«˜ï¼Œé€‚é…ç‰¹æ®Šä¸šåŠ¡éœ€æ±‚</td><td>éœ€æ‰‹åŠ¨ç¼–ç ï¼Œç»´æŠ¤æˆæœ¬é«˜</td><td>ä¸ªæ€§åŒ–ä¸šåŠ¡åœºæ™¯ï¼ˆå¦‚æŒ‰åœ°åŒºã€å•†æˆ·ç±»å‹åˆ†ç‰‡ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-7">3. è¯»å†™åˆ†ç¦»åŸç†</h4>
<p>Sharding-JDBCæ”¯æŒåŸºäºä¸»ä»æ¶æ„çš„è¯»å†™åˆ†ç¦»ï¼Œæ ¸å¿ƒé€»è¾‘ä¸å¤šæ•°æ®æºåˆ‡æ¢ç±»ä¼¼ï¼Œä½†æ›´è½»é‡åŒ–ï¼š</p>
<ol>
<li>é…ç½®ä¸»åº“ï¼ˆå†™å…¥ï¼‰ä¸ä»åº“ï¼ˆæŸ¥è¯¢ï¼‰çš„æ•°æ®æºæ˜ å°„ï¼›</li>
<li>é€šè¿‡SQLè¯­ä¹‰è§£æåŒºåˆ†è¯»å†™æ“ä½œï¼ˆå¦‚<code>SELECT</code>ä¸ºè¯»ï¼Œ<code>INSERT/UPDATE/DELETE</code>ä¸ºå†™ï¼‰ï¼›</li>
<li>å†™æ“ä½œè·¯ç”±è‡³ä¸»åº“ï¼Œè¯»æ“ä½œè·¯ç”±è‡³ä»åº“ï¼ˆæ”¯æŒè½®è¯¢ã€éšæœºç­‰è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼‰ï¼›</li>
<li>æ”¯æŒå¼ºåˆ¶è·¯ç”±ï¼ˆå¦‚éƒ¨åˆ†æŸ¥è¯¢éœ€è¯»å–æœ€æ–°æ•°æ®ï¼Œå¼ºåˆ¶è·¯ç”±è‡³ä¸»åº“ï¼‰ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šSharding-JDBCä¸è´Ÿè´£ä¸»ä»åŒæ­¥ï¼Œéœ€ä¾èµ–æ•°æ®åº“åŸç”Ÿä¸»ä»å¤åˆ¶ï¼ˆå¦‚MySQL binlogåŒæ­¥ï¼‰ï¼Œä»…è´Ÿè´£è·¯ç”±åˆ†å‘ã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€æ¡†æ¶å¯¹æ¯”ï¼šSharding-JDBC vs å…¶ä»–åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ</h3>
<p>åˆ†å¸ƒå¼åœºæ™¯ä¸‹åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆä¼—å¤šï¼Œéœ€æ ¹æ®æ¶æ„å¤æ‚åº¦ã€è¿ç»´æˆæœ¬é€‰å‹ï¼Œä»¥ä¸‹æ˜¯ä¸»æµæ–¹æ¡ˆå¯¹æ¯”ï¼š</p>

































<table><thead><tr><th>æ¡†æ¶</th><th>æ¶æ„æ¨¡å¼</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>å±€é™æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Sharding-JDBC</td><td>å®¢æˆ·ç«¯é›†æˆï¼ˆæ— ç‹¬ç«‹ä¸­é—´ä»¶ï¼‰</td><td>1. æ— ä¾µå…¥ã€è½»é‡çº§ï¼Œè¿ç»´æˆæœ¬ä½ï¼›2. å…¼å®¹æ‰€æœ‰JDBCç”Ÿæ€ï¼›3. æ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆä¸Seataé›†æˆï¼‰</td><td>1. éœ€é›†æˆåˆ°åº”ç”¨ï¼Œå¤šè¯­è¨€æ”¯æŒå·®ï¼›2. åˆ†ç‰‡ç­–ç•¥å˜æ›´éœ€é‡å¯åº”ç”¨</td><td>Javaå¾®æœåŠ¡æ¶æ„ã€ä¸­å°è§„æ¨¡åˆ†åº“åˆ†è¡¨åœºæ™¯</td></tr><tr><td>MyCat</td><td>ç‹¬ç«‹ä¸­é—´ä»¶ï¼ˆæœåŠ¡ç«¯ä»£ç†ï¼‰</td><td>1. æ”¯æŒå¤šè¯­è¨€ã€è·¨åº”ç”¨å…±äº«ï¼›2. åˆ†ç‰‡ç­–ç•¥åŠ¨æ€é…ç½®ï¼›3. åŠŸèƒ½ä¸°å¯Œï¼ˆåˆ†åº“åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ã€åˆ†å¸ƒå¼äº‹åŠ¡ï¼‰</td><td>1. ä¸­é—´ä»¶éœ€ç‹¬ç«‹éƒ¨ç½²è¿ç»´ï¼Œå¢åŠ å¤æ‚åº¦ï¼›2. å­˜åœ¨æ€§èƒ½æŸè€—ï¼ˆä»£ç†è½¬å‘ï¼‰</td><td>å¤šè¯­è¨€æ¶æ„ã€å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿ</td></tr><tr><td>MongoDBåˆ†ç‰‡é›†ç¾¤</td><td>æ•°æ®åº“åŸç”Ÿåˆ†ç‰‡</td><td>1. åŸç”Ÿæ”¯æŒåˆ†ç‰‡ï¼Œé…ç½®ç®€å•ï¼›2. é€‚é…éç»“æ„åŒ–æ•°æ®ï¼›3. è‡ªåŠ¨è´Ÿè½½å‡è¡¡</td><td>1. ä»…æ”¯æŒMongoDBï¼Œé€‚ç”¨åœºæ™¯æœ‰é™ï¼›2. äº‹åŠ¡æ”¯æŒè¾ƒå¼±</td><td>éç»“æ„åŒ–/åŠç»“æ„åŒ–æ•°æ®åœºæ™¯ï¼ˆå¦‚æ—¥å¿—ã€ç”¨æˆ·ç”»åƒï¼‰</td></tr></tbody></table>
<p>é€‰å‹å»ºè®®ï¼š<strong>Javaå¾®æœåŠ¡ä¼˜å…ˆé€‰Sharding-JDBC</strong>ï¼ˆä½ä¾µå…¥ã€æ˜“é›†æˆï¼‰ï¼›å¤šè¯­è¨€ã€å¤§è§„æ¨¡åœºæ™¯é€‰MyCatï¼›éç»“æ„åŒ–æ•°æ®é€‰MongoDBåŸç”Ÿåˆ†ç‰‡ã€‚</p>
<h3 data-id="heading-9">å››ã€å®æˆ˜ï¼šSharding-JDBCåˆ†åº“åˆ†è¡¨+è¯»å†™åˆ†ç¦»è½åœ°ï¼ˆSpring Bootï¼‰</h3>
<p>ä»¥ç”µå•†è®¢å•ç³»ç»Ÿä¸ºä¾‹ï¼Œå®ç°â€œåˆ†åº“åˆ†è¡¨+è¯»å†™åˆ†ç¦»â€ä¸€ä½“åŒ–æ–¹æ¡ˆã€‚æŠ€æœ¯æ ˆï¼šSpring Boot 2.7.x + MyBatis-Plus 3.5.x + Sharding-JDBC 4.1.1 + MySQL 8.0ã€‚æ ¸å¿ƒéœ€æ±‚ï¼š</p>
<ul>
<li>åˆ†åº“ç­–ç•¥ï¼šæŒ‰<code>user_id</code>å“ˆå¸Œåˆ†2ä¸ªåº“ï¼ˆorder_db_0ã€order_db_1ï¼‰ï¼›</li>
<li>åˆ†è¡¨ç­–ç•¥ï¼šæ¯ä¸ªåº“æŒ‰<code>create_time</code>èŒƒå›´åˆ†2ä¸ªè¡¨ï¼ˆt_order_2024ã€t_order_2025ï¼‰ï¼›</li>
<li>è¯»å†™åˆ†ç¦»ï¼šæ¯ä¸ªåº“é…ç½®ä¸»ä»æ¶æ„ï¼Œå†™æ“ä½œèµ°ä¸»åº“ï¼Œè¯»æ“ä½œèµ°ä»åº“ã€‚</li>
</ul>
<h4 data-id="heading-10">1. ç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-11">ï¼ˆ1ï¼‰å¼•å…¥æ ¸å¿ƒä¾èµ–</h5>
<p>pom.xmlä¸­å¼•å…¥Sharding-JDBCã€Spring Bootã€MyBatis-Plusä¾èµ–ï¼Œæ’é™¤åŸç”ŸJDBCä¾èµ–é¿å…å†²çªï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Bootæ ¸å¿ƒä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Sharding-JDBCæ ¸å¿ƒä¾èµ–ï¼ˆåˆ†åº“åˆ†è¡¨+è¯»å†™åˆ†ç¦»ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.shardingsphere<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>sharding-jdbc-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.1.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- MyBatis-Plusï¼ˆç®€åŒ–CRUDï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Lombok + è¿æ¥æ±  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h5 data-id="heading-12">ï¼ˆ2ï¼‰æ•°æ®åº“ç¯å¢ƒæ­å»º</h5>
<ol>
<li>
<p>æ­å»ºä¸»ä»æ¶æ„ï¼šæ¯ä¸ªåˆ†åº“ï¼ˆorder_db_0ã€order_db_1ï¼‰å¯¹åº”1ä¸»1ä»ï¼Œå…±4ä¸ªæ•°æ®åº“å®ä¾‹ï¼›</p>
</li>
<li>
<p>åˆ›å»ºåˆ†è¡¨ï¼šæ¯ä¸ªåº“ä¸­åˆ›å»ºt_order_2024ã€t_order_2025è¡¨ï¼Œè¡¨ç»“æ„ä¸€è‡´ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `t_order_2024` (
  `id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•IDï¼ˆé›ªèŠ±ç®—æ³•ç”Ÿæˆï¼‰'</span>,
  `order_no` <span class="hljs-type">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•ç¼–å·'</span>,
  `user_id` <span class="hljs-type">bigint</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·IDï¼ˆåˆ†ç‰‡é”®ï¼‰'</span>,
  `amount` <span class="hljs-type">decimal</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•é‡‘é¢'</span>,
  `status` tinyint <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•çŠ¶æ€'</span>,
  `create_time` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´ï¼ˆåˆ†ç‰‡é”®ï¼‰'</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_create_time` (`create_time`)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4;

<span class="hljs-comment">-- t_order_2025è¡¨ç»“æ„ä¸t_order_2024ä¸€è‡´ï¼Œä»…è¡¨åä¸åŒ</span>
</code></pre>
<h4 data-id="heading-13">2. æ ¸å¿ƒé…ç½®ï¼šåˆ†åº“åˆ†è¡¨+è¯»å†™åˆ†ç¦»</h4>
<p>åœ¨application.ymlä¸­é…ç½®æ•°æ®æºã€åˆ†åº“åˆ†è¡¨ç­–ç•¥ã€è¯»å†™åˆ†ç¦»è§„åˆ™ï¼ŒSharding-JDBCä¼šè‡ªåŠ¨è§£æå¹¶ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">shardingsphere:</span>
    <span class="hljs-comment"># æ•°æ®æºé…ç½®ï¼ˆä¸»ä»+åˆ†åº“ï¼‰</span>
    <span class="hljs-attr">datasource:</span>
      <span class="hljs-attr">names:</span> <span class="hljs-string">order-db0-master,</span> <span class="hljs-string">order-db0-slave,</span> <span class="hljs-string">order-db1-master,</span> <span class="hljs-string">order-db1-slave</span>
      <span class="hljs-comment"># è®¢å•åº“0-ä¸»åº“</span>
      <span class="hljs-attr">order-db0-master:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span>
        <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
        <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/order_db_0?useSSL=false&amp;serverTimezone=Asia/Shanghai</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
        <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
      <span class="hljs-comment"># è®¢å•åº“0-ä»åº“</span>
      <span class="hljs-attr">order-db0-slave:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span>
        <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
        <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3307/order_db_0?useSSL=false&amp;serverTimezone=Asia/Shanghai</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
        <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
      <span class="hljs-comment"># è®¢å•åº“1-ä¸»åº“</span>
      <span class="hljs-attr">order-db1-master:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span>
        <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
        <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/order_db_1?useSSL=false&amp;serverTimezone=Asia/Shanghai</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
        <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
      <span class="hljs-comment"># è®¢å•åº“1-ä»åº“</span>
      <span class="hljs-attr">order-db1-slave:</span>
        <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span>
        <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
        <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3307/order_db_1?useSSL=false&amp;serverTimezone=Asia/Shanghai</span>
        <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
        <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>

    <span class="hljs-comment"># åˆ†åº“åˆ†è¡¨è§„åˆ™é…ç½®</span>
    <span class="hljs-attr">rules:</span>
      <span class="hljs-attr">sharding:</span>
        <span class="hljs-comment"># åˆ†åº“ç­–ç•¥ï¼ˆæŒ‰user_idå“ˆå¸Œåˆ†2ä¸ªåº“ï¼‰</span>
        <span class="hljs-attr">databases:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">database-name:</span> <span class="hljs-string">order_db_${0..1}</span>
            <span class="hljs-attr">table-rules:</span>
              <span class="hljs-bullet">-</span> <span class="hljs-attr">table-name:</span> <span class="hljs-string">t_order_${2024..2025}</span>
                <span class="hljs-comment"># åˆ†ç‰‡é”®é…ç½®</span>
                <span class="hljs-attr">sharding-column:</span> <span class="hljs-string">user_id</span>
                <span class="hljs-comment"># åˆ†åº“ç®—æ³•ï¼ˆå“ˆå¸Œå–æ¨¡ï¼‰</span>
                <span class="hljs-attr">database-strategy:</span>
                  <span class="hljs-attr">standard:</span>
                    <span class="hljs-attr">sharding-algorithm-name:</span> <span class="hljs-string">user-id-hash-algorithm</span>
                <span class="hljs-comment"># åˆ†è¡¨ç­–ç•¥ï¼ˆæŒ‰create_timeèŒƒå›´åˆ†è¡¨ï¼‰</span>
                <span class="hljs-attr">table-strategy:</span>
                  <span class="hljs-attr">standard:</span>
                    <span class="hljs-attr">sharding-column:</span> <span class="hljs-string">create_time</span>
                    <span class="hljs-attr">sharding-algorithm-name:</span> <span class="hljs-string">create-time-range-algorithm</span>

        <span class="hljs-comment"># åˆ†ç‰‡ç®—æ³•é…ç½®</span>
        <span class="hljs-attr">sharding-algorithms:</span>
          <span class="hljs-comment"># ç”¨æˆ·IDå“ˆå¸Œç®—æ³•ï¼ˆåˆ†2ä¸ªåº“ï¼‰</span>
          <span class="hljs-attr">user-id-hash-algorithm:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">HASH_MOD</span>
            <span class="hljs-attr">props:</span>
              <span class="hljs-attr">sharding-count:</span> <span class="hljs-number">2</span>
          <span class="hljs-comment"># æ—¶é—´èŒƒå›´ç®—æ³•ï¼ˆ2024å¹´ã€2025å¹´åˆ†è¡¨ï¼‰</span>
          <span class="hljs-attr">create-time-range-algorithm:</span>
            <span class="hljs-attr">type:</span> <span class="hljs-string">RANGE</span>
            <span class="hljs-attr">props:</span>
              <span class="hljs-attr">range-lower:</span> <span class="hljs-string">'2024-01-01 00:00:00'</span>
              <span class="hljs-attr">range-upper:</span> <span class="hljs-string">'2026-01-01 00:00:00'</span>
              <span class="hljs-attr">sharding-suffix-pattern:</span> <span class="hljs-string">yyyy</span>

        <span class="hljs-comment"># è¯»å†™åˆ†ç¦»é…ç½®</span>
        <span class="hljs-attr">readwrite-splitting:</span>
          <span class="hljs-attr">data-sources:</span>
            <span class="hljs-comment"># è®¢å•åº“0ä¸»ä»æ˜ å°„</span>
            <span class="hljs-attr">order-db0:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">Static</span>
              <span class="hljs-attr">props:</span>
                <span class="hljs-attr">write-data-source-name:</span> <span class="hljs-string">order-db0-master</span>
                <span class="hljs-attr">read-data-source-names:</span> <span class="hljs-string">order-db0-slave</span>
                <span class="hljs-attr">load-balancer-name:</span> <span class="hljs-string">round_robin</span>
            <span class="hljs-comment"># è®¢å•åº“1ä¸»ä»æ˜ å°„</span>
            <span class="hljs-attr">order-db1:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">Static</span>
              <span class="hljs-attr">props:</span>
                <span class="hljs-attr">write-data-source-name:</span> <span class="hljs-string">order-db1-master</span>
                <span class="hljs-attr">read-data-source-names:</span> <span class="hljs-string">order-db1-slave</span>
                <span class="hljs-attr">load-balancer-name:</span> <span class="hljs-string">round_robin</span>

          <span class="hljs-comment"># è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆè½®è¯¢ï¼‰</span>
          <span class="hljs-attr">load-balancers:</span>
            <span class="hljs-attr">round_robin:</span>
              <span class="hljs-attr">type:</span> <span class="hljs-string">ROUND_ROBIN</span>

    <span class="hljs-comment"># å…¶ä»–é…ç½®</span>
    <span class="hljs-attr">props:</span>
      <span class="hljs-attr">sql-show:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># æ‰“å°è§£æåçš„SQLï¼Œä¾¿äºè°ƒè¯•</span>
      <span class="hljs-attr">check-table-metadata-enabled:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># å…³é—­è¡¨å…ƒæ•°æ®æ ¡éªŒï¼ˆåˆ†è¡¨åœºæ™¯éœ€å…³é—­ï¼‰</span>

<span class="hljs-comment"># MyBatis-Plusé…ç½®</span>
<span class="hljs-attr">mybatis-plus:</span>
  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mapper/**/*.xml</span>
  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.example.sharding.entity</span>
  <span class="hljs-attr">configuration:</span>
    <span class="hljs-attr">map-underscore-to-camel-case:</span> <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-14">3. ä¸šåŠ¡å®ç°ï¼šåˆ†åº“åˆ†è¡¨ä¸‹çš„CRUDæ“ä½œ</h4>
<p>Sharding-JDBCå¯¹ä¸šåŠ¡ä»£ç æ— ä¾µå…¥ï¼ŒMyBatis-Plusçš„CRUDæ“ä½œä¸å•åº“å•è¡¨å®Œå…¨ä¸€è‡´ï¼Œæ— éœ€ä¿®æ”¹é€»è¾‘ã€‚</p>
<h5 data-id="heading-15">ï¼ˆ1ï¼‰å®ä½“ç±»ä¸Mapper</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆå¯¹åº”t_order_2024ã€t_order_2025è¡¨ï¼‰</span>
<span class="hljs-keyword">package</span> com.example.sharding.entity;

<span class="hljs-keyword">import</span> com.baomidou.mybatisplus.<span class="hljs-keyword">annotation</span>.TableName;
<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.math.BigDecimal;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;

<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@TableName(<span class="hljs-string">"t_order"</span>)</span> <span class="hljs-comment">// é€»è¾‘è¡¨åï¼ŒSharding-JDBCè‡ªåŠ¨æ˜ å°„åˆ°å®é™…åˆ†è¡¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> id;
    <span class="hljs-keyword">private</span> String orderNo;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">Long</span> userId; <span class="hljs-comment">// åˆ†åº“é”®</span>
    <span class="hljs-keyword">private</span> BigDecimal amount;
    <span class="hljs-keyword">private</span> Integer status;
    <span class="hljs-keyword">private</span> LocalDateTime createTime; <span class="hljs-comment">// åˆ†è¡¨é”®</span>
}

<span class="hljs-comment">// è®¢å•Mapperï¼ˆMyBatis-Plusæ¥å£ï¼‰</span>
<span class="hljs-keyword">package</span> com.example.sharding.mapper;

<span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;
<span class="hljs-keyword">import</span> com.example.sharding.entity.Order;
<span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Mapper;

<span class="hljs-meta">@Mapper</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderMapper</span> <span class="hljs-title">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-type">Order</span>&gt; {
    <span class="hljs-comment">// æ— éœ€é¢å¤–æ–¹æ³•ï¼ŒBaseMapperå·²æä¾›CRUDèƒ½åŠ›</span>
}
</code></pre>
<h5 data-id="heading-16">ï¼ˆ2ï¼‰Serviceå±‚å®ç°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.sharding.service;

<span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;
<span class="hljs-keyword">import</span> com.example.sharding.entity.Order;
<span class="hljs-keyword">import</span> com.example.sharding.mapper.OrderMapper;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-keyword">import</span> javax.annotation.Resource;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.UUID;

<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {

    <span class="hljs-meta">@Resource</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;

    <span class="hljs-comment">/**
     * åˆ›å»ºè®¢å•ï¼šè‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”åº“è¡¨ï¼ˆæŒ‰user_idåˆ†åº“ã€create_timeåˆ†è¡¨ï¼‰
     */</span>
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        order.setOrderNo(UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>));
        order.setCreateTime(LocalDateTime.now());
        orderMapper.insert(order);
        log.info(<span class="hljs-string">"è®¢å•åˆ›å»ºæˆåŠŸï¼ŒIDï¼š{}ï¼Œç”¨æˆ·IDï¼š{}"</span>, order.getId(), order.getUserId());
    }

    <span class="hljs-comment">/**
     * æŒ‰ç”¨æˆ·IDæŸ¥è¯¢è®¢å•ï¼šè‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”åº“ï¼Œåˆå¹¶å¤šè¡¨ç»“æœ
     */</span>
    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">getOrdersByUserId</span><span class="hljs-params">(Long userId)</span> {
        QueryWrapper&lt;Order&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();
        wrapper.eq(<span class="hljs-string">"user_id"</span>, userId);
        <span class="hljs-keyword">return</span> orderMapper.selectList(wrapper);
    }

    <span class="hljs-comment">/**
     * æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢è®¢å•ï¼šè‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”åˆ†è¡¨
     */</span>
    <span class="hljs-keyword">public</span> List&lt;Order&gt; <span class="hljs-title function_">getOrdersByTimeRange</span><span class="hljs-params">(LocalDateTime startTime, LocalDateTime endTime)</span> {
        QueryWrapper&lt;Order&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();
        wrapper.between(<span class="hljs-string">"create_time"</span>, startTime, endTime);
        <span class="hljs-keyword">return</span> orderMapper.selectList(wrapper);
    }
}
</code></pre>
<h4 data-id="heading-17">4. æµ‹è¯•éªŒè¯ï¼šåˆ†åº“åˆ†è¡¨ä¸è¯»å†™åˆ†ç¦»ç”Ÿæ•ˆ</h4>
<h5 data-id="heading-18">ï¼ˆ1ï¼‰åˆ†åº“åˆ†è¡¨éªŒè¯</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@SpringBootTest</span>
public class ShardingTest {

    <span class="hljs-keyword">@Resource</span>
    private OrderService orderService;

    <span class="hljs-keyword">@Test</span>
    public void testCreateOrder() {
        <span class="hljs-comment">// æµ‹è¯•æ•°æ®ï¼šuser_id=1ï¼ˆå“ˆå¸Œåˆ†åº“0ï¼‰ã€create_time=2024å¹´ï¼ˆåˆ†è¡¨2024ï¼‰</span>
        <span class="hljs-attribute">Order</span> order1 = new <span class="hljs-attribute">Order</span>();
        order1<span class="hljs-selector-class">.setUserId</span>(<span class="hljs-number">1</span>L);
        order1<span class="hljs-selector-class">.setAmount</span>(new BigDecimal("<span class="hljs-number">99.00</span>"));
        order1<span class="hljs-selector-class">.setStatus</span>(<span class="hljs-number">1</span>);
        orderService<span class="hljs-selector-class">.createOrder</span>(order1);

        <span class="hljs-comment">// æµ‹è¯•æ•°æ®ï¼šuser_id=2ï¼ˆå“ˆå¸Œåˆ†åº“1ï¼‰ã€create_time=2025å¹´ï¼ˆåˆ†è¡¨2025ï¼‰</span>
        <span class="hljs-attribute">Order</span> order2 = new <span class="hljs-attribute">Order</span>();
        order2<span class="hljs-selector-class">.setUserId</span>(<span class="hljs-number">2</span>L);
        order2<span class="hljs-selector-class">.setAmount</span>(new BigDecimal("<span class="hljs-number">199.00</span>"));
        order2<span class="hljs-selector-class">.setStatus</span>(<span class="hljs-number">1</span>);
        <span class="hljs-comment">// æ‰‹åŠ¨è®¾ç½®2025å¹´æ—¶é—´</span>
        order2<span class="hljs-selector-class">.setCreateTime</span>(LocalDateTime.of(<span class="hljs-number">2025</span>, <span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">30</span>));
        orderService<span class="hljs-selector-class">.createOrder</span>(order2);
    }
</code></pre>
<p>è¿è¡Œæµ‹è¯•åï¼ŒæŸ¥çœ‹æ•°æ®åº“ï¼š</p>
<ul>
<li>order_db_0.t_order_2024ï¼šæ–°å¢order1æ•°æ®ï¼ˆuser_id=1ï¼Œ2024å¹´æ—¶é—´ï¼‰ï¼›</li>
<li>order_db_1.t_order_2025ï¼šæ–°å¢order2æ•°æ®ï¼ˆuser_id=2ï¼Œ2025å¹´æ—¶é—´ï¼‰ï¼›</li>
<li>æ—¥å¿—æ‰“å°è§£æåçš„SQLï¼Œå¯çœ‹åˆ°è‡ªåŠ¨è·¯ç”±åˆ°å¯¹åº”åº“è¡¨ã€‚</li>
</ul>
<h5 data-id="heading-19">ï¼ˆ2ï¼‰è¯»å†™åˆ†ç¦»éªŒè¯</h5>
<ol>
<li>
<p>æ‰§è¡Œåˆ›å»ºè®¢å•æ“ä½œï¼ˆå†™æ“ä½œï¼‰ï¼Œæ—¥å¿—æ˜¾ç¤ºè·¯ç”±åˆ°ä¸»åº“ï¼ˆorder-db0-master/order-db1-masterï¼‰ï¼›</p>
</li>
<li>
<p>æ‰§è¡ŒæŸ¥è¯¢è®¢å•æ“ä½œï¼ˆè¯»æ“ä½œï¼‰ï¼Œæ—¥å¿—æ˜¾ç¤ºè·¯ç”±åˆ°ä»åº“ï¼ˆorder-db0-slave/order-db1-slaveï¼‰ï¼›</p>
</li>
<li>
<p>å¼ºåˆ¶è·¯ç”±ä¸»åº“æŸ¥è¯¢ï¼ˆéœ€è‡ªå®šä¹‰SQLæ·»åŠ æ³¨è§£ï¼‰ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// Mapperæ¥å£æ·»åŠ å¼ºåˆ¶ä¸»åº“æŸ¥è¯¢æ–¹æ³•</span>
<span class="hljs-variable">@Select</span>(<span class="hljs-string">"/* SHARDINGSPHERE_ROUTE_TO_MASTER */ SELECT * FROM t_order WHERE user_id = #{userId}"</span>)
List&lt;Order&gt; <span class="hljs-built_in">selectByUserIdMaster</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"userId"</span>) Long userId);
</code></pre>
<h3 data-id="heading-20">äº”ã€Sharding-JDBCé¿å‘æŒ‡å—ï¼š10ä¸ªé«˜é¢‘é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-21">1. å‘ç‚¹1ï¼šåˆ†è¡¨åä¸»é”®é‡å¤</h4>
<p>ç°è±¡ï¼šå¤šä¸ªåˆ†è¡¨ä½¿ç”¨è‡ªå¢ä¸»é”®ï¼Œå¯¼è‡´å…¨å±€ä¸»é”®é‡å¤ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨åˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆç­–ç•¥ï¼šå¦‚é›ªèŠ±ç®—æ³•ï¼ˆMyBatis-Plusè‡ªå¸¦ï¼‰ã€Sharding-JDBCå†…ç½®ä¸»é”®ç”Ÿæˆå™¨ï¼›</li>
<li>ç¦æ­¢ä½¿ç”¨è‡ªå¢ä¸»é”®ï¼ˆAUTO_INCREMENTï¼‰ï¼Œç»Ÿä¸€ä½¿ç”¨å…¨å±€å”¯ä¸€IDã€‚</li>
</ul>
<h4 data-id="heading-22">2. å‘ç‚¹2ï¼šèŒƒå›´æŸ¥è¯¢å¯¼è‡´å…¨è¡¨æ‰«æ</h4>
<p>ç°è±¡ï¼šæœªä½¿ç”¨åˆ†è¡¨é”®è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼ŒSharding-JDBCè·¯ç”±åˆ°æ‰€æœ‰åˆ†è¡¨ï¼Œæ€§èƒ½æå·®ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>èŒƒå›´æŸ¥è¯¢å¿…é¡»åŒ…å«åˆ†è¡¨é”®ï¼Œç¼©å°è·¯ç”±èŒƒå›´ï¼›</li>
<li>éåˆ†è¡¨é”®èŒƒå›´æŸ¥è¯¢éœ€é…åˆäºŒçº§ç´¢å¼•ä¼˜åŒ–ï¼Œé¿å…å…¨è¡¨æ‰«æã€‚</li>
</ul>
<h4 data-id="heading-23">3. å‘ç‚¹3ï¼šè¯»å†™åˆ†ç¦»ä¸»ä»åŒæ­¥å»¶è¿Ÿ</h4>
<p>ç°è±¡ï¼šä¸»åº“å†™å…¥åï¼Œä»åº“æŸ¥è¯¢ä¸åˆ°æœ€æ–°æ•°æ®ï¼Œå¯¼è‡´ä¸šåŠ¡å¼‚å¸¸ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>æ ¸å¿ƒä¸šåŠ¡æŸ¥è¯¢å¼ºåˆ¶è·¯ç”±ä¸»åº“ï¼ˆå¦‚è®¢å•åˆ›å»ºåç«‹å³æŸ¥è¯¢ï¼‰ï¼›</li>
<li>ä¼˜åŒ–ä¸»ä»åŒæ­¥å‚æ•°ï¼ˆå¦‚MySQLè°ƒæ•´binlogåŒæ­¥æ¨¡å¼ä¸ºROWï¼Œå‡å°‘å»¶è¿Ÿï¼‰ï¼›</li>
<li>æ·»åŠ æŸ¥è¯¢é‡è¯•æœºåˆ¶ï¼Œä»åº“æŸ¥è¯¢å¤±è´¥ååˆ‡æ¢ä¸»åº“ã€‚</li>
</ul>
<h4 data-id="heading-24">4. å‘ç‚¹4ï¼šäº‹åŠ¡è·¨åº“å¯¼è‡´ä¸€è‡´æ€§é—®é¢˜</h4>
<p>ç°è±¡ï¼šè·¨åº“äº‹åŠ¡æ“ä½œæ—¶ï¼Œéƒ¨åˆ†åº“æäº¤æˆåŠŸã€éƒ¨åˆ†å¤±è´¥ï¼Œæ•°æ®ä¸ä¸€è‡´ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>å°½é‡é¿å…è·¨åº“äº‹åŠ¡ï¼Œå°†ä¸šåŠ¡æ‹†åˆ†ä¸ºå•åº“äº‹åŠ¡ï¼›</li>
<li>å¤æ‚åœºæ™¯é›†æˆSeataåˆ†å¸ƒå¼äº‹åŠ¡ï¼ŒSharding-JDBCä¸Seataæ— ç¼å…¼å®¹ï¼Œæ”¯æŒATæ¨¡å¼ã€‚</li>
</ul>
<h4 data-id="heading-25">5. å‘ç‚¹5ï¼šSQLè¯­æ³•ä¸å…¼å®¹</h4>
<p>ç°è±¡ï¼šéƒ¨åˆ†å¤æ‚SQLï¼ˆå¦‚å¤šè¡¨å…³è”ã€å­æŸ¥è¯¢ï¼‰åœ¨åˆ†åº“åˆ†è¡¨åœºæ™¯ä¸‹æ‰§è¡Œå¤±è´¥ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>é¿å…ä½¿ç”¨Sharding-JDBCä¸æ”¯æŒçš„è¯­æ³•ï¼ˆå¦‚INSERT ... ON DUPLICATE KEY UPDATEã€å­˜å‚¨è¿‡ç¨‹ï¼‰ï¼›</li>
<li>å¤æ‚æŸ¥è¯¢æ‹†åˆ†ä¸ºç®€å•SQLï¼Œåœ¨åº”ç”¨å±‚åˆå¹¶ç»“æœï¼›</li>
<li>å‡çº§Sharding-JDBCç‰ˆæœ¬ï¼Œé«˜ç‰ˆæœ¬å¯¹SQLå…¼å®¹æ€§æ›´å¥½ã€‚</li>
</ul>
<h4 data-id="heading-26">6. å‘ç‚¹6ï¼šæ•°æ®å€¾æ–œå¯¼è‡´çƒ­ç‚¹åº“è¡¨</h4>
<p>ç°è±¡ï¼šéƒ¨åˆ†åº“è¡¨æ•°æ®é‡è¿œè¶…å…¶ä»–èŠ‚ç‚¹ï¼Œæˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼ˆå¦‚èŒƒå›´åˆ†è¡¨çš„æœ€æ–°æœˆä»½è¡¨ï¼‰ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>çƒ­ç‚¹æ•°æ®å•ç‹¬åˆ†ç‰‡ï¼šå¦‚å°†æœ€æ–°æœˆä»½æ•°æ®å†æŒ‰ç”¨æˆ·IDå“ˆå¸Œåˆ†è¡¨ï¼›</li>
<li>è°ƒæ•´åˆ†ç‰‡ç­–ç•¥ï¼ŒèŒƒå›´åˆ†ç‰‡ç»“åˆå“ˆå¸Œåˆ†ç‰‡ï¼Œå‡è¡¡æ•°æ®åˆ†å¸ƒï¼›</li>
<li>çƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼šå°†é«˜é¢‘è®¿é—®çš„çƒ­ç‚¹æ•°æ®ç¼“å­˜åˆ°Redisï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›ã€‚</li>
</ul>
<h4 data-id="heading-27">7. å‘ç‚¹7ï¼šåˆ†è¡¨æ‰©å®¹éš¾åº¦å¤§</h4>
<p>ç°è±¡ï¼šå“ˆå¸Œåˆ†è¡¨æ‰©å®¹æ—¶ï¼Œéœ€è¿ç§»å¤§é‡æ•°æ®ï¼Œå½±å“ä¸šåŠ¡å¯ç”¨æ€§ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>é‡‡ç”¨ä¸€è‡´æ€§å“ˆå¸Œåˆ†ç‰‡ï¼Œå‡å°‘æ‰©å®¹æ—¶çš„æ•°æ®è¿ç§»é‡ï¼›</li>
<li>èŒƒå›´åˆ†ç‰‡ä¼˜å…ˆæŒ‰æ—¶é—´æ‰©å®¹ï¼ˆæ–°å¢åŒºé—´æ— éœ€è¿ç§»å†å²æ•°æ®ï¼‰ï¼›</li>
<li>ä½¿ç”¨Sharding-JDBCçš„å¼¹æ€§æ‰©å®¹å·¥å…·ï¼Œè‡ªåŠ¨åŒ–æ•°æ®è¿ç§»ã€‚</li>
</ul>
<h4 data-id="heading-28">8. å‘ç‚¹8ï¼šæ—¥å¿—æ‰“å°ä¸å®Œæ•´ï¼Œè°ƒè¯•å›°éš¾</h4>
<p>ç°è±¡ï¼šæ— æ³•æŸ¥çœ‹Sharding-JDBCè§£æåçš„è·¯ç”±SQLï¼Œæ’æŸ¥é—®é¢˜å›°éš¾ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>å¼€å¯SQLæ‰“å°ï¼š<code>spring.shardingsphere.props.sql-show=true</code>ï¼›</li>
<li>é…ç½®Sharding-JDBCæ—¥å¿—çº§åˆ«ä¸ºDEBUGï¼Œæ‰“å°å®Œæ•´è·¯ç”±è¿‡ç¨‹ã€‚</li>
</ul>
<h4 data-id="heading-29">9. å‘ç‚¹9ï¼šè¿æ¥æ± é…ç½®ä¸åˆç†</h4>
<p>ç°è±¡ï¼šåˆ†åº“åˆ†è¡¨+è¯»å†™åˆ†ç¦»åœºæ™¯ä¸‹ï¼Œè¿æ¥æ•°è¿‡å¤šå¯¼è‡´æ•°æ®åº“è¿æ¥è€—å°½ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>åˆç†è®¾ç½®æ¯ä¸ªæ•°æ®æºçš„è¿æ¥æ± å¤§å°ï¼Œé¿å…æ€»è¿æ¥æ•°è¶…å‡ºæ•°æ®åº“ä¸Šé™ï¼›</li>
<li>å…³é—­ä¸å¿…è¦çš„æ•°æ®æºç›‘æ§ï¼Œå‡å°‘è¿æ¥å ç”¨ï¼›</li>
<li>ä½¿ç”¨è¿æ¥æ± å¤ç”¨ç­–ç•¥ï¼Œä¼˜åŒ–è¿æ¥åˆ†é…ã€‚</li>
</ul>
<h4 data-id="heading-30">10. å‘ç‚¹10ï¼šä¸ORMæ¡†æ¶å†²çª</h4>
<p>ç°è±¡ï¼šMyBatis-Plusåˆ†é¡µæ’ä»¶ã€é€šç”¨CRUDä¸Sharding-JDBCå†²çªï¼Œå¯¼è‡´SQLæ‰§è¡Œå¤±è´¥ã€‚ è§„é¿æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨Sharding-JDBCå…¼å®¹çš„ORMç‰ˆæœ¬ï¼ˆå¦‚MyBatis-Plus 3.5.x+ã€Sharding-JDBC 4.1.x+ï¼‰ï¼›</li>
<li>åˆ†é¡µæŸ¥è¯¢éœ€åŒ…å«åˆ†è¡¨é”®ï¼Œé¿å…è·¨è¡¨åˆ†é¡µå¯¼è‡´çš„ç»“æœé”™è¯¯ï¼›</li>
<li>ç¦ç”¨ORMæ¡†æ¶çš„åŸç”Ÿåˆ†è¡¨åŠŸèƒ½ï¼Œç»Ÿä¸€ç”±Sharding-JDBCç®¡ç†ã€‚</li>
</ul>
<h3 data-id="heading-31">å…­ã€è¿›é˜¶ä¼˜åŒ–ï¼šSharding-JDBCç”Ÿäº§çº§èƒ½åŠ›æå‡</h3>
<h4 data-id="heading-32">1. åŠ¨æ€åˆ†è¡¨ä¸æ‰©å®¹</h4>
<p>éœ€æ±‚ï¼šåº”å¯¹æ•°æ®é‡å¢é•¿ï¼Œè‡ªåŠ¨æ–°å¢åˆ†è¡¨ï¼Œæ— éœ€é‡å¯åº”ç”¨ã€‚ å®ç°æ–¹æ¡ˆï¼š</p>
<ul>
<li>åŸºäºSharding-JDBCçš„åŠ¨æ€åˆ†ç‰‡æ¥å£ï¼Œè‡ªå®šä¹‰åˆ†ç‰‡ç®—æ³•ï¼Œæ”¯æŒåŠ¨æ€è¯†åˆ«åˆ†è¡¨ï¼›</li>
<li>é›†æˆé…ç½®ä¸­å¿ƒï¼ˆNacos/Apolloï¼‰ï¼ŒåŠ¨æ€æ›´æ–°åˆ†ç‰‡ç­–ç•¥ï¼Œæ— éœ€é‡å¯åº”ç”¨ï¼›</li>
<li>ä½¿ç”¨ShardingSphere-Proxyçš„å¼¹æ€§æ‰©å®¹åŠŸèƒ½ï¼Œè‡ªåŠ¨åŒ–å®Œæˆæ•°æ®è¿ç§»ä¸åˆ†ç‰‡è°ƒæ•´ã€‚</li>
</ul>
<h4 data-id="heading-33">2. ç›‘æ§ä¸å‘Šè­¦</h4>
<p>éœ€æ±‚ï¼šå®æ—¶ç›‘æ§åˆ†åº“åˆ†è¡¨èŠ‚ç‚¹çŠ¶æ€ã€SQLæ‰§è¡Œæ•ˆç‡ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ã€‚ å®ç°æ–¹æ¡ˆï¼š</p>
<ul>
<li>é›†æˆSpring Boot Actuatorï¼Œæš´éœ²Sharding-JDBCæŒ‡æ ‡ï¼ˆè·¯ç”±æ¬¡æ•°ã€æ‰§è¡Œè€—æ—¶ã€å¼‚å¸¸æ•°ï¼‰ï¼›</li>
<li>é€šè¿‡Prometheus+Grafanaå¯è§†åŒ–ç›‘æ§ï¼Œé…ç½®å‘Šè­¦è§„åˆ™ï¼ˆå¦‚å•SQLæ‰§è¡Œè€—æ—¶è¶…500mså‘Šè­¦ï¼‰ï¼›</li>
<li>æ—¥å¿—è¿½è¸ªï¼šå°†åˆ†ç‰‡é”®ã€è·¯ç”±èŠ‚ç‚¹èå…¥ä¸šåŠ¡æ—¥å¿—ï¼Œä¾¿äºæ’æŸ¥è·¨åº“è·¨è¡¨é—®é¢˜ã€‚</li>
</ul>
<h4 data-id="heading-34">3. æ€§èƒ½ä¼˜åŒ–</h4>
<ul>
<li><strong>ç»“æœåˆå¹¶ä¼˜åŒ–</strong>ï¼šé™åˆ¶åˆ†é¡µæŸ¥è¯¢é¡µæ•°ï¼Œé¿å…å¤§é‡æ•°æ®åˆå¹¶å¯¼è‡´çš„å†…å­˜æº¢å‡ºï¼›</li>
<li><strong>ç´¢å¼•ä¼˜åŒ–</strong>ï¼šæ¯ä¸ªåˆ†è¡¨çš„åˆ†ç‰‡é”®å¿…é¡»å»ºç«‹ç´¢å¼•ï¼Œéåˆ†ç‰‡é”®æŸ¥è¯¢é…åˆäºŒçº§ç´¢å¼•ï¼›</li>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šå°†é«˜é¢‘æŸ¥è¯¢ç»“æœç¼“å­˜åˆ°Redisï¼Œå‡å°‘åˆ†åº“åˆ†è¡¨æŸ¥è¯¢å‹åŠ›ï¼›</li>
<li><strong>SQLä¼˜åŒ–</strong>ï¼šé¿å…è·¨è¡¨å…³è”ã€å­æŸ¥è¯¢ï¼Œç®€åŒ–SQLé€»è¾‘ï¼Œæå‡è§£æä¸è·¯ç”±æ•ˆç‡ã€‚</li>
</ul>
<h3 data-id="heading-35">ä¸ƒã€æ€»ç»“ï¼šSharding-JDBCè½åœ°æ ¸å¿ƒåŸåˆ™</h3>
<p>Sharding-JDBCçš„æ ¸å¿ƒä»·å€¼åœ¨äºâ€œ<strong>è½»é‡é›†æˆã€çµæ´»åˆ†ç‰‡ã€é€æ˜åŒ–è¿ç»´</strong>â€ï¼Œè½åœ°æ—¶éœ€éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ul>
<li><strong>åˆ†ç‰‡ç­–ç•¥é€‚é…ä¸šåŠ¡</strong>ï¼šå“ˆå¸Œåˆ†ç‰‡é€‚é…å‡åŒ€åˆ†å¸ƒåœºæ™¯ï¼ŒèŒƒå›´åˆ†ç‰‡é€‚é…æ—¶é—´å½’æ¡£åœºæ™¯ï¼Œå¤åˆåˆ†ç‰‡é€‚é…å¤æ‚ä¸šåŠ¡ï¼Œé¿å…è¿‡åº¦è®¾è®¡ï¼›</li>
<li><strong>ä¼˜å…ˆè§„é¿è·¨åº“æ“ä½œ</strong>ï¼šè·¨åº“äº‹åŠ¡ã€è·¨åº“å…³è”æŸ¥è¯¢æ˜¯æ€§èƒ½ä¸ä¸€è‡´æ€§çš„æœ€å¤§éšæ‚£ï¼Œå°½é‡é€šè¿‡ä¸šåŠ¡è®¾è®¡è§„é¿ï¼›</li>
<li><strong>è¿ç»´æˆæœ¬å¯æ§</strong>ï¼šé€‰æ‹©ç®€å•æ˜“ç»´æŠ¤çš„åˆ†ç‰‡ç­–ç•¥ï¼Œé¢„ç•™æ‰©å®¹ç©ºé—´ï¼Œç»“åˆè‡ªåŠ¨åŒ–å·¥å…·å‡å°‘è¿ç»´æˆæœ¬ï¼›</li>
<li><strong>ç›‘æ§ä¸æ€§èƒ½å¹¶é‡</strong>ï¼šå®æ—¶ç›‘æ§åˆ†ç‰‡èŠ‚ç‚¹çŠ¶æ€ï¼ŒæŒç»­ä¼˜åŒ–SQLä¸ç´¢å¼•ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§ã€‚</li>
</ul>
<p>Sharding-JDBCé™ä½äº†åˆ†åº“åˆ†è¡¨çš„è½åœ°é—¨æ§›ï¼Œè®©ä¸­å°è§„æ¨¡ç³»ç»Ÿä¹Ÿèƒ½è½»æ¾åº”å¯¹å¤§æ•°æ®é‡æŒ‘æˆ˜ã€‚åªè¦æŒæ¡åˆ†ç‰‡ç­–ç•¥é€‰å‹ã€é¿å‘è¦ç‚¹ä¸æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ï¼Œå°±èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç¨³å®šè½åœ°åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆï¼Œæ”¯æ’‘ä¸šåŠ¡è§„æ¨¡åŒ–å¢é•¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - å·¥ç¨‹åŒ–ï¼ˆä¸‰ï¼‰ï¼šWebpack çš„å…´è¡°ä¸æ„å»ºå·¥å…·çš„æœ¬è´¨]]></title>    <link>https://juejin.cn/post/7596247009815150618</link>    <guid>https://juejin.cn/post/7596247009815150618</guid>    <pubDate>2026-01-19T05:39:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596247009815150618" data-draft-id="7595610998033891355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - å·¥ç¨‹åŒ–ï¼ˆä¸‰ï¼‰ï¼šWebpack çš„å…´è¡°ä¸æ„å»ºå·¥å…·çš„æœ¬è´¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T05:39:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - å·¥ç¨‹åŒ–ï¼ˆä¸‰ï¼‰ï¼šWebpack çš„å…´è¡°ä¸æ„å»ºå·¥å…·çš„æœ¬è´¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T05:39:57.000Z" title="Mon Jan 19 2026 05:39:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>æˆ‘ä»¬èŠæŠ€æœ¯æœ¬è´¨ã€è½¬å˜æˆ‘ä»¬çš„æ€ç»´ã€å»ç†è§£å»æ¶ˆåŒ–,è€Œä¸æ˜¯æ­»è®°ç¡¬èƒŒå“ªäº›é…ç½®ã€‚</p>
<p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–çš„æ­¦å™¨åº“é‡Œï¼Œæ„å»ºå·¥å…·ï¼ˆBundlerï¼‰æ— ç–‘æ˜¯é‚£é¢—â€œæ ¸å¼¹â€ã€‚</p>
<p>è®¸å¤šå¼€å‘è€…å¯¹ Webpack çš„æ„Ÿæƒ…æ˜¯å¤æ‚çš„ï¼šæ—¢ç¦»ä¸å¼€å®ƒå¼ºå¤§çš„ç”Ÿæ€ï¼Œåˆç—›æ¨å®ƒé‚£æ™¦æ¶©éš¾æ‡‚çš„é…ç½®å’Œæ—¥ç›Šç¼“æ…¢çš„æ„å»ºé€Ÿåº¦ã€‚ä½†å¦‚æœæˆ‘ä»¬å‰¥ç¦»æ‰é‚£äº›ç¹æ‚çš„ APIï¼Œä½ ä¼šå‘ç° Webpack çš„å‡ºç°å…¶å®æ˜¯å‰ç«¯æ¶æ„å²ä¸Šçš„ä¸€æ¬¡ <strong>â€œå·¥ä¸šé©å‘½â€</strong> ã€‚</p>
<p>å®ƒæ ‡å¿—ç€å‰ç«¯å¼€å‘ä»â€œæ‰‹å·¥ä½œåŠâ€ï¼ˆæ‰‹åŠ¨ç®¡ç† <code>&lt;script&gt;</code> æ ‡ç­¾ï¼‰å’Œâ€œæµæ°´çº¿å·¥äººâ€ï¼ˆGrunt/Gulp æœºæ¢°æ‰§è¡Œä»»åŠ¡ï¼‰ï¼Œæ­£å¼è¿›åŒ–åˆ°äº† <strong>â€œæ™ºèƒ½åˆ¶é€ â€</strong> æ—¶ä»£ã€‚</p>
<p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¸è°ˆé…ç½®ï¼Œåªè°ˆè®¾è®¡å“²å­¦ã€‚æˆ‘ä»¬å°†æ·±å…¥æ„å»ºå·¥å…·çš„çµé­‚ï¼Œçœ‹å®ƒæ˜¯å¦‚ä½•æŠŠä¸€å †æ‚ä¹±æ— ç« çš„æ–‡ä»¶ï¼Œç¼–ç»‡æˆä¸€å¼ ä¸¥å¯†çš„ä¾èµ–ç½‘ç»œã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/170679ba0dbf423aae965802825bcd15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769405996&amp;x-signature=GUrtjn%2B24%2FiHZoR%2F40XYCTdBimU%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ å²å‰æ—¶ä»£çš„ç»ˆç»“ï¼šä»ä»»åŠ¡æµåˆ°æ¨¡å—æµ</h2>
<p>åœ¨ Webpack ç§°éœ¸ä¹‹å‰ï¼Œç»Ÿæ²»æ±Ÿæ¹–çš„æ˜¯ Grunt å’Œ Gulpã€‚</p>
<p>æˆ‘ä»¬è¦ç†è§£ Webpack çš„ä¼Ÿå¤§ï¼Œé¦–å…ˆè¦ç†è§£ Gulp çš„å±€é™ã€‚</p>
<h3 data-id="heading-1">1.1 ä»»åŠ¡è¿è¡Œå™¨ (Task Runner) çš„ç“¶é¢ˆ</h3>
<p>Gulp çš„æœ¬è´¨æ˜¯ <strong>â€œåŸºäºæµçš„è¿‡ç¨‹å¼ç¼–ç¨‹â€</strong> ã€‚ä½ çš„æ€ç»´æ¨¡å¼æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>æ‰¾åˆ° <code>src</code> ç›®å½•ä¸‹çš„æ‰€æœ‰ JS æ–‡ä»¶ã€‚</li>
<li>æŠŠå®ƒä»¬åˆå¹¶ï¼ˆConcatï¼‰æˆä¸€ä¸ªæ–‡ä»¶ã€‚</li>
<li>å‹ç¼©ï¼ˆUglifyï¼‰è¿™ä¸ªæ–‡ä»¶ã€‚</li>
<li>è¾“å‡ºåˆ° <code>dist</code> ç›®å½•ã€‚</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// Gulp çš„æ€ç»´ï¼šæˆ‘æ˜¯ä¸€ä¸ªæ¬è¿å·¥</span>
<span class="hljs-selector-tag">gulp</span><span class="hljs-selector-class">.src</span>(<span class="hljs-string">'src/*.js'</span>)
  <span class="hljs-selector-class">.pipe</span>(<span class="hljs-built_in">concat</span>(<span class="hljs-string">'all.js'</span>))
  <span class="hljs-selector-class">.pipe</span>(<span class="hljs-built_in">uglify</span>())
  <span class="hljs-selector-class">.pipe</span>(<span class="hljs-built_in">dest</span>(<span class="hljs-string">'dist/'</span>));
</code></pre>
<p>æ¶æ„è§†è§’çš„åæ€ï¼š</p>
<p>è¿™ç§æ¨¡å¼æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼šå·¥å…·æœ¬èº«å¹¶ä¸â€œç†è§£â€ä½ çš„ä»£ç ã€‚</p>
<p>Gulp ä¸çŸ¥é“ a.js æ˜¯å¦ä¾èµ– b.jsã€‚å®ƒåªæ˜¯æœºæ¢°åœ°æŠŠæ–‡ä»¶æ‹¼åœ¨ä¸€èµ·ã€‚å¦‚æœæ–‡ä»¶é¡ºåºé”™äº†ï¼Œç¨‹åºå°±æŒ‚äº†ã€‚å®ƒå¤„ç†çš„æ˜¯ æ–‡ä»¶ï¼ˆFilesï¼‰ï¼Œè€Œä¸æ˜¯ æ¨¡å—ï¼ˆModulesï¼‰ã€‚</p>
<h3 data-id="heading-2">1.2 Webpack çš„é™ç»´æ‰“å‡»</h3>
<p>Webpack å¼•å…¥äº†ä¸€ä¸ªå…¨æ–°çš„æ¦‚å¿µï¼šä¾èµ–å›¾è°± (Dependency Graph)ã€‚</p>
<p>å®ƒä¸å†å‚»ä¹ä¹åœ°éå†æ–‡ä»¶å¤¹ï¼Œè€Œæ˜¯ä»ä¸€ä¸ª å…¥å£æ–‡ä»¶ (Entry) å¼€å§‹ï¼Œåƒçˆ¬è™«ä¸€æ ·å»è§£æ import/require è¯­å¥ã€‚</p>
<ul>
<li>â€œå“¦ï¼Œ<code>index.js</code> å¼•ç”¨äº† <code>header.js</code>ã€‚â€</li>
<li>â€œ<code>header.js</code> åˆå¼•ç”¨äº† <code>logo.png</code>ã€‚â€</li>
<li>â€œ<code>header.js</code> è¿˜å¼•ç”¨äº† <code>common.css</code>ã€‚â€</li>
</ul>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒWebpack æ„å»ºå‡ºäº†ä¸€å¼ å·¨å¤§çš„ã€åŒ…å«æ‰€æœ‰èµ„æºï¼ˆJSã€CSSã€å›¾ç‰‡ï¼‰çš„å…³ç³»ç½‘ã€‚<strong>å®ƒçœŸæ­£â€œè¯»æ‡‚â€äº†ä½ çš„é¡¹ç›®ç»“æ„ã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">äºŒã€ æ ¸å¿ƒæ¶æ„ï¼šä¸€åˆ‡çš†æ¨¡å— (Everything is a Module)</h2>
<p>Webpack æœ€å…·é¢ è¦†æ€§çš„æ¶æ„å†³ç­–ï¼Œå°±æ˜¯æ‰“ç ´äº†â€œJS åªèƒ½å¼•ç”¨ JSâ€çš„é™åˆ¶ã€‚</p>
<p>åœ¨ Webpack çš„çœ¼é‡Œï¼ŒCSS æ˜¯æ¨¡å—ï¼Œå›¾ç‰‡æ˜¯æ¨¡å—ï¼Œç”šè‡³å­—ä½“æ–‡ä»¶ä¹Ÿæ˜¯æ¨¡å—ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç–¯ç‹‚çš„æƒ³æ³•ï¼Œå®ƒè®¾è®¡äº†ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œè‡³ä»Šä»è¢« Vite å’Œ Rspack æ²¿ç”¨ï¼š</p>
<h3 data-id="heading-4">2.1 Loaderï¼šç¿»è¯‘å®˜çš„è‰ºæœ¯</h3>
<p>æµè§ˆå™¨åªè®¤è¯† JavaScriptã€‚é‚£æ€ä¹ˆå¤„ç† .lessã€.vue æˆ–è€… .png å‘¢ï¼Ÿ</p>
<p>Loader çš„æœ¬è´¨æ˜¯ä¸€ä¸ª å‡½æ•°å¼ç¼–ç¨‹ç®¡é“ï¼ˆFunctional Pipelineï¼‰ã€‚</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>u</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>=</mo><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi>e</mi><msub><mi>r</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi>e</mi><msub><mi>r</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>L</mi><mi>o</mi><mi>a</mi><mi>d</mi><mi>e</mi><msub><mi>r</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>S</mi><mi>o</mi><mi>u</mi><mi>r</mi><mi>c</mi><mi>e</mi><mi>C</mi><mi>o</mi><mi>d</mi><mi>e</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Output = Loader_3(Loader_2(Loader_1(SourceCode)))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal">u</span><span class="mord mathnormal">tp</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">L</span><span class="mord mathnormal">o</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mord mathnormal">o</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mord mathnormal">o</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">rce</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mclose">)))</span></span></span></span></span></p>
<p>æ¯”å¦‚å¤„ç† Sass æ–‡ä»¶ï¼š</p>
<ol>
<li><code>sass-loader</code>: æŠŠ Sass è¯­æ³•ç¿»è¯‘æˆ CSS å­—ç¬¦ä¸²ã€‚</li>
<li><code>css-loader</code>: æŠŠ CSS å­—ç¬¦ä¸²åŒ…è£…æˆ JS æ¨¡å—ï¼ˆä¹Ÿå°±æ˜¯æŠŠ CSS å˜æˆä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼‰ã€‚</li>
<li><code>style-loader</code>: ç”Ÿæˆä¸€ä¸ª JS å‡½æ•°ï¼Œè¿è¡Œæ—¶æŠŠåœ¨è¿™ä¸ªå­—ç¬¦ä¸²æ’å…¥åˆ°é¡µé¢çš„ <code>&lt;style&gt;</code> æ ‡ç­¾é‡Œã€‚</li>
</ol>
<p>é€šè¿‡è¿™ç§ <strong>é“¾å¼è°ƒç”¨</strong>ï¼ŒWebpack æŠŠä¸€åˆ‡é JS èµ„æºéƒ½â€œå¼ºè¡Œâ€è½¬åŒ–ä¸ºäº† JS å¯ä»¥ç†è§£çš„æ¨¡å—ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¯ä»¥å†™å‡º <code>import './style.css'</code> è¿™ç§è¿èƒŒæµè§ˆå™¨åŸç”Ÿç›´è§‰çš„ä»£ç ã€‚</p>
<h3 data-id="heading-5">2.2 Pluginï¼šäº‹ä»¶é©±åŠ¨çš„ä»‹å…¥</h3>
<p>å¦‚æœè¯´ Loader è´Ÿè´£â€œç¿»è¯‘â€ï¼Œé‚£ Plugin å°±è´Ÿè´£â€œæäº‹â€ã€‚</p>
<p>Webpack çš„åº•å±‚æ˜¯ä¸€ä¸ªåä¸º Tapable çš„äº‹ä»¶æµåº“ã€‚æ„å»ºçš„æ¯ä¸€ä¸ªé˜¶æ®µï¼ˆåˆå§‹åŒ–ã€è§£æä¾èµ–ã€ç”Ÿæˆèµ„æºã€å†™å…¥æ–‡ä»¶ï¼‰éƒ½ä¼šè§¦å‘ç‰¹å®šçš„é’©å­ï¼ˆHooksï¼‰ã€‚</p>
<p>Plugin å°±æ˜¯ç›‘å¬è¿™äº›é’©å­çš„æ’ä»¶ã€‚</p>
<ul>
<li>â€œåœ¨æ‰“åŒ…ç»“æŸå‰ï¼Œå¸®æˆ‘æŠŠç”Ÿæˆçš„ HTML æ–‡ä»¶é‡Œæ’å…¥ <code>&lt;script&gt;</code> æ ‡ç­¾ã€‚â€ (HtmlWebpackPlugin)</li>
<li>â€œåœ¨å†™å…¥ç¡¬ç›˜å‰ï¼Œå¸®æˆ‘æŠŠè¿™æ¬¡æ„å»ºçš„å“ˆå¸Œå€¼æ‰“å°å‡ºæ¥ã€‚â€</li>
</ul>
<p>è¿™ç§ <strong>ç”Ÿå‘½å‘¨æœŸï¼ˆLifecycleï¼‰</strong> çš„è®¾è®¡ï¼Œè®© Webpack æ‹¥æœ‰äº†æ— é™çš„æ‰©å±•èƒ½åŠ›ã€‚ä½†ä¹Ÿæ­£æ˜¯è¿™ç§æåº¦çš„çµæ´»æ€§ï¼Œé€ å°±äº†é‚£ä»¤äººæœ›è€Œç”Ÿç•çš„é…ç½®å¤æ‚åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ æƒè¡¡ä¸ä»£ä»·ï¼šæ€§èƒ½çš„é˜¿å–€ç‰æ–¯ä¹‹è¸µ</h2>
<p>Webpack èµ¢äº†ï¼Œä½†ä¹Ÿä»˜å‡ºäº†ä»£ä»·ã€‚</p>
<h3 data-id="heading-7">3.1 æ˜‚è´µçš„ AST ä»£ä»·</h3>
<p>ä¸ºäº†è¯»æ‡‚ä»£ç ï¼ŒWebpack å¿…é¡»æŠŠæºä»£ç è½¬æ¢æˆ AST (æŠ½è±¡è¯­æ³•æ ‘)ã€‚</p>
<p>import a from './a' è¿™ä¸€è¡Œä»£ç ï¼Œå¯¹äºäººç±»æ¥è¯´åªæ˜¯ä¸€è¡Œå­—ï¼Œä½†å¯¹äº Webpackï¼ˆåŸºäº Node.js/JavaScript è¿è¡Œï¼‰ï¼Œå®ƒéœ€è¦ç»è¿‡ï¼š</p>
<p>å­—ç¬¦ä¸² -&gt; åˆ†è¯ -&gt; è¯­æ³•åˆ†æ -&gt; AST -&gt; éå† AST -&gt; ç”Ÿæˆæ–°ä»£ç </p>
<p>å½“ä½ çš„é¡¹ç›®æœ‰ 5000 ä¸ªæ¨¡å—æ—¶ï¼ŒNode.js çš„å•çº¿ç¨‹ç‰¹æ€§åœ¨å¤„ç†è¿™äº›æµ·é‡è®¡ç®—æ—¶ï¼Œä¸ä»…æ…¢ï¼Œè€Œä¸”æå…¶åƒå†…å­˜ï¼ˆOOM çš„å™©æ¢¦ï¼‰ã€‚</p>
<h3 data-id="heading-8">3.2 ç”Ÿäº§ä¸å¼€å‘çš„å‰²è£‚</h3>
<p>åœ¨ Webpack æ—¶ä»£ï¼Œæˆ‘ä»¬ä¸ä»…è¦æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒä»£ç ï¼Œè¿å¼€å‘ç¯å¢ƒä¹Ÿè¦æ‰“åŒ…ã€‚</p>
<p>å½“ä½ ä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼ŒWebpack éœ€è¦é‡æ–°ç¼–è¯‘ä¾èµ–é“¾ï¼Œé‡æ–°ç”Ÿæˆ Bundleï¼Œç„¶åé€šçŸ¥æµè§ˆå™¨åˆ·æ–°ã€‚è™½ç„¶æœ‰äº† HMRï¼ˆçƒ­æ›´æ–°ï¼‰ï¼Œä½†åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œæ”¹ä¸€è¡Œä»£ç ç­‰ 10 ç§’ä¾ç„¶æ˜¯å¸¸æ€ã€‚</p>
<p>è¿™ä¸ºåæ¥çš„ Vite åŸ‹ä¸‹äº†ä¼ç¬”ï¼š<strong>ä¸ºä»€ä¹ˆå¼€å‘ç¯å¢ƒéè¦æ‰“åŒ…ä¸å¯å‘¢ï¼Ÿ</strong></p>
<hr/>
<h2 data-id="heading-9">ç»“è¯­ï¼šä¸€ä½åŠŸæˆèº«é€€çš„å·¨äºº</h2>
<p>Webpack å®šä¹‰äº†ç°ä»£å‰ç«¯æ„å»ºçš„æ ‡å‡†ã€‚å®ƒæ•™ä¼šäº†æˆ‘ä»¬ä»€ä¹ˆæ˜¯ Code Splittingï¼ˆä»£ç åˆ†å‰²ï¼‰ï¼Œä»€ä¹ˆæ˜¯ Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰ã€‚</p>
<p>è™½ç„¶å®ƒç°åœ¨æ˜¾å¾—æœ‰äº›ç¬¨é‡ï¼Œè¢« Rust/Go ç¼–å†™çš„æ–°ä¸€ä»£å·¥å…·ï¼ˆRspack, Esbuildï¼‰åœ¨æ€§èƒ½ä¸ŠæŒ‰åœ¨åœ°ä¸Šæ‘©æ“¦ï¼Œä½†å®ƒæ‰€ç¡®ç«‹çš„ <strong>â€œæ¨¡å—åŒ–æ„å»ºâ€</strong> å’Œ <strong>â€œæ’ä»¶åŒ–æ¶æ„â€</strong> æ€ç»´ï¼Œæ—©å·²æ·±å…¥äººå¿ƒã€‚</p>
<p>ç†è§£äº† Webpack çš„æœ¬è´¨ï¼Œä½ ä¹Ÿå°±ç†è§£äº†å‰ç«¯å·¥ç¨‹åŒ–çš„æ ¸å¿ƒï¼š<strong>Mappingï¼ˆæ˜ å°„ï¼‰ä¸ Transformationï¼ˆè½¬æ¢ï¼‰ã€‚</strong></p>
<blockquote>
<p>Next Step:</p>
<p>æ—¢ç„¶ Webpack è¢« JS çš„æ€§èƒ½æ‹–æ…¢äº†è„šæ­¥ï¼Œé‚£ä¹ˆæ–°ä¸€ä»£çš„æŒ‘æˆ˜è€…ä»¬æ˜¯å¦‚ä½•åˆ©ç”¨æµè§ˆå™¨åŸç”Ÿèƒ½åŠ›å’Œç³»ç»Ÿçº§ç¼–ç¨‹è¯­è¨€å®ç°â€œç§’çº§å¯åŠ¨â€çš„ï¼Ÿ</p>
<p>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†è¿æ¥é€Ÿåº¦çš„é©å‘½â€”â€”ã€Šç¬¬å››ç¯‡ï¼šå¼•æ“ï¼ˆä¸‹ï¼‰â€”â€”é€Ÿåº¦é©å‘½ï¼šVite ä¸åŸºäº Rust/Go çš„æ–°ä¸€ä»£æ„å»ºæµªæ½®ã€‹ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 8 ç¯‡ï¼šç»„ä»¶å°è£…çš„è‰ºæœ¯ - ä»ä¸šåŠ¡ä»£ç åˆ°å¯å¤ç”¨ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7596790037136785449</link>    <guid>https://juejin.cn/post/7596790037136785449</guid>    <pubDate>2026-01-19T06:01:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596790037136785449" data-draft-id="7596639774267359274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 8 ç¯‡ï¼šç»„ä»¶å°è£…çš„è‰ºæœ¯ - ä»ä¸šåŠ¡ä»£ç åˆ°å¯å¤ç”¨ç»„ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯,uni-app,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-19T06:01:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HashTang"/> <meta itemprop="url" content="https://juejin.cn/user/1117561754756488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 8 ç¯‡ï¼šç»„ä»¶å°è£…çš„è‰ºæœ¯ - ä»ä¸šåŠ¡ä»£ç åˆ°å¯å¤ç”¨ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561754756488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HashTang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T06:01:20.000Z" title="Mon Jan 19 2026 06:01:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><blockquote>
<p>ç»„ä»¶å°è£…æ˜¯å‰ç«¯å¼€å‘çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œä½†å¾ˆå¤šäººä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥å°è£…ã€æ€ä¹ˆè®¾è®¡ Propsã€å¦‚ä½•å¤„ç†å¤æ‚é€»è¾‘ã€‚è¿™ç¯‡æ–‡ç« ä»¥<strong>å¿ƒåŠ¨æ‹èŠ</strong>å°ç¨‹åºä¸ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å’Œ AI å¯¹è¯ï¼Œä»ä¸šåŠ¡ä»£ç ä¸­æç‚¼å‡º<strong>å¯å¤ç”¨ã€å¯ç»´æŠ¤ã€çµæ´»æ‰©å±•</strong>çš„ç»„ä»¶ã€‚</p>
<p><strong>ç³»åˆ—ä¸“æ </strong>ï¼š<a href="https://juejin.cn/column/7579556047783624756" target="_blank" title="https://juejin.cn/column/7579556047783624756">ã€AI ç¼–ç¨‹å®æˆ˜ï¼šTRAE SOLO å…¨æ ˆå¼€å‘æŒ‡å—ã€‘</a></p>
<p><strong>æœ¬ç¯‡ä¸»é¢˜</strong>ï¼šç»„ä»¶å°è£…çš„è‰ºæœ¯ - ä»ä¸šåŠ¡ä»£ç åˆ°å¯å¤ç”¨ç»„ä»¶</p>
<p><strong>å®æˆ˜é¡¹ç›®</strong>ï¼šå¿ƒåŠ¨æ‹èŠ - AI æ‹çˆ±èŠå¤©åŠ©æ‰‹</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ï¼šä»€ä¹ˆæ—¶å€™è¯¥å°è£…ç»„ä»¶</h2>
<h3 data-id="heading-1">1.1 æ–°æ‰‹å¸¸è§çš„è¯¯åŒº</h3>
<p><strong>è¯¯åŒºä¸€ï¼šè¿‡åº¦å°è£…</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- âŒ åªç”¨ä¸€æ¬¡çš„ä»£ç ï¼Œæ²¡å¿…è¦å°è£… --&gt;
&lt;MyPageTitle title="è®¾ç½®" /&gt;

&lt;!-- ç›´æ¥å†™å°±è¡Œ --&gt;
&lt;text class="text-lg font-bold"&gt;è®¾ç½®&lt;/text&gt;
</code></pre>
<p><strong>è¯¯åŒºäºŒï¼šä¸æ•¢å°è£…</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- âŒ åŒæ ·çš„ä»£ç å¤åˆ¶ç²˜è´´ 5 é --&gt;
&lt;view class="flex items-center gap-2 bg-white rounded-xl p-4 pr-2"&gt;
  &lt;view class="text-xs font-bold rounded-sm px-2 py-1" :style="{ backgroundColor: '#F3E8FF', color: '#8B5CF6' }"&gt;
    é«˜æƒ…å•†
  &lt;/view&gt;
  &lt;text class="text-sm text-#1F2937 flex-1"&gt;å›å¤å†…å®¹...&lt;/text&gt;
  &lt;view class="w-9 h-9 flex items-center justify-center" @click="handleCopy"&gt;
    &lt;image src="/static/images/copy.svg" class="w-5 h-5" /&gt;
  &lt;/view&gt;
&lt;/view&gt;
</code></pre>
<h3 data-id="heading-2">1.2 ä½•æ—¶åº”è¯¥å°è£…ç»„ä»¶</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>æ˜¯å¦å°è£…</th><th>åŸå› </th></tr></thead><tbody><tr><td>åŒæ ·çš„ UI å‡ºç° 3 æ¬¡ä»¥ä¸Š</td><td>âœ… å°è£…</td><td>é¿å…é‡å¤ï¼Œç»Ÿä¸€ä¿®æ”¹</td></tr><tr><td>å¤æ‚çš„äº¤äº’é€»è¾‘</td><td>âœ… å°è£…</td><td>éš”ç¦»å¤æ‚åº¦ï¼Œä¾¿äºæµ‹è¯•</td></tr><tr><td>éœ€è¦åœ¨å¤šä¸ªé¡µé¢ä½¿ç”¨</td><td>âœ… å°è£…</td><td>æé«˜å¤ç”¨æ€§</td></tr><tr><td>åªç”¨ä¸€æ¬¡çš„ç®€å• UI</td><td>âŒ ä¸å°è£…</td><td>è¿‡åº¦å·¥ç¨‹åŒ–</td></tr><tr><td>å¯èƒ½å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘</td><td>âš ï¸ è°¨æ…</td><td>è€ƒè™‘æŠ½è±¡æˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-3">1.3 æœ¬æ–‡è¦å°è£…çš„ç»„ä»¶</h3>
<p>é¡¹ç›®ä¸­éœ€è¦ä»¥ä¸‹ç»„ä»¶ï¼š</p>
<ul>
<li><strong>XButton</strong>ï¼šé€šç”¨æŒ‰é’®ï¼Œæ”¯æŒ loadingã€å¾®ä¿¡èƒ½åŠ›</li>
<li><strong>ReplyCard</strong>ï¼šå›å¤å¡ç‰‡ï¼Œæ ¹æ®è¯­æ°”è‡ªåŠ¨åˆ†é…é¢œè‰²</li>
<li><strong>Modal</strong>ï¼šé€šç”¨å¼¹çª—ï¼Œæ”¯æŒåŠ¨ç”»ã€è‡ªå®šä¹‰å†…å®¹</li>
<li><strong>ActionSheetPicker</strong>ï¼šåº•éƒ¨é€‰æ‹©å™¨ï¼Œæ”¯æŒæ»šåŠ¨é€‰æ‹©</li>
<li><strong>MenuItem</strong>ï¼šèœå•é¡¹ï¼Œæ”¯æŒç®­å¤´ã€è‡ªå®šä¹‰å›¾æ ‡</li>
</ul>
<h2 data-id="heading-4">äºŒã€ä»ä¸šåŠ¡éœ€æ±‚å¼€å§‹ï¼šXButton æŒ‰é’®ç»„ä»¶</h2>
<h3 data-id="heading-5">2.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé¡¹ç›®é‡Œå¾ˆå¤šæŒ‰é’®é•¿å¾—å·®ä¸å¤šï¼Œéƒ½æ˜¯æ¸å˜èƒŒæ™¯ã€åœ†è§’ã€loading æ•ˆæœã€‚
    æœ‰äº›æŒ‰é’®è¿˜è¦ç”¨å¾®ä¿¡çš„ open-typeï¼ˆè·å–æ‰‹æœºå·ã€åˆ†äº«ç­‰ï¼‰ã€‚
    èƒ½ä¸èƒ½å°è£…ä¸€ä¸ªé€šç”¨æŒ‰é’®ï¼Ÿ
</code></pre>
<h3 data-id="heading-6">2.2 AI è¯¢é—®ç»†èŠ‚</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šå¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ è®¾è®¡æŒ‰é’®ç»„ä»¶ã€‚å…ˆç¡®è®¤å‡ ä¸ªé—®é¢˜ï¼š

ğŸ¤” é—®é¢˜ï¼š
1. æŒ‰é’®çš„é»˜è®¤æ ·å¼æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆé¢œè‰²ã€å¤§å°ã€åœ†è§’ï¼‰
2. éœ€è¦æ”¯æŒå“ªäº›å¾®ä¿¡ open-typeï¼Ÿ
3. loading çŠ¶æ€æ€ä¹ˆè¡¨ç°ï¼Ÿï¼ˆæ–‡å­—å˜åŒ–ã€åŠ è½½å›¾æ ‡ï¼‰
4. æ˜¯å¦éœ€è¦ç¦ç”¨çŠ¶æ€ï¼Ÿ

è¿™äº›ä¼šå½±å“ Props çš„è®¾è®¡ã€‚
</code></pre>
<h3 data-id="heading-7">2.3 æˆ‘è¡¥å……ä¿¡æ¯</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé»˜è®¤æ ·å¼ï¼šæ¸å˜ç´«è‰²èƒŒæ™¯ï¼ˆ#B385F7 åˆ° #6F6EE8ï¼‰ï¼Œ702rpx å®½ï¼Œ92rpx é«˜ï¼Œåœ†è§’ 16rpxã€‚
    open-typeï¼šéœ€è¦ getPhoneNumberã€shareã€contact è¿™å‡ ä¸ªã€‚
    loadingï¼šæ˜¾ç¤ºä¸€ä¸ªæ—‹è½¬çš„å°åœ†åœˆï¼ŒæŒ‰é’®å˜ç°ã€‚
    éœ€è¦ç¦ç”¨çŠ¶æ€ã€‚
</code></pre>
<h3 data-id="heading-8">2.4 AI è®¾è®¡ Props</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šæ˜ç™½äº†ï¼Œæˆ‘æ¥è®¾è®¡ Props ç»“æ„ï¼š

ğŸ“ Props è®¾è®¡ï¼š

interface Props {
  text?: string;          // æŒ‰é’®æ–‡å­—
  loading?: boolean;      // åŠ è½½çŠ¶æ€
  disabled?: boolean;     // ç¦ç”¨çŠ¶æ€
  buttonStyle?: object;   // è‡ªå®šä¹‰æ ·å¼ï¼ˆè¦†ç›–é»˜è®¤ï¼‰
  openType?: string;      // å¾®ä¿¡å¼€æ”¾èƒ½åŠ›
  btnClass?: string;      // è‡ªå®šä¹‰ class
}

ğŸ“ Events è®¾è®¡ï¼š

click         // ç‚¹å‡»äº‹ä»¶
getphonenumber  // è·å–æ‰‹æœºå·å›è°ƒ
getUserInfo   // è·å–ç”¨æˆ·ä¿¡æ¯å›è°ƒ
contact       // å®¢æœæ¶ˆæ¯å›è°ƒ
error         // é”™è¯¯å›è°ƒ

ğŸ¯ è®¾è®¡è¦ç‚¹ï¼š
1. buttonStyle ç”¨ computed åˆå¹¶é»˜è®¤æ ·å¼ï¼Œæ”¯æŒè¦†ç›–
2. loading/disabled æ—¶é˜»æ­¢ç‚¹å‡»ï¼Œæ ·å¼å˜ç°
3. ä½¿ç”¨ slot æ”¯æŒè‡ªå®šä¹‰å†…å®¹ï¼ˆä¸åªæ˜¯æ–‡å­—ï¼‰
4. å¾®ä¿¡äº‹ä»¶ç›´æ¥é€ä¼ ç»™çˆ¶ç»„ä»¶

å¼€å§‹ç”Ÿæˆä»£ç ï¼Ÿ
</code></pre>
<h3 data-id="heading-9">2.5 AI ç”Ÿæˆç»„ä»¶</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;!-- src/components/<span class="hljs-title class_">XButton</span>.<span class="hljs-property">vue</span> --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
    <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"disabled || loading"</span>
    <span class="hljs-attr">:style</span>=<span class="hljs-string">"buttonStyle"</span>
    <span class="hljs-attr">:open-type</span>=<span class="hljs-string">"openType"</span>
    <span class="hljs-attr">:class</span>=<span class="hljs-string">"[
      btnClass,
      'relative flex items-center justify-center outline-none font-bold text-white border-0 transition-opacity duration-200',
      { 'opacity-70 cursor-not-allowed': disabled || loading },
    ]"</span>
    @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleClick"</span>
    @<span class="hljs-attr">getphonenumber</span>=<span class="hljs-string">"$emit('getphonenumber', $event)"</span>
    @<span class="hljs-attr">getUserInfo</span>=<span class="hljs-string">"$emit('getUserInfo', $event)"</span>
    @<span class="hljs-attr">contact</span>=<span class="hljs-string">"$emit('contact', $event)"</span>
    @<span class="hljs-attr">error</span>=<span class="hljs-string">"$emit('error', $event)"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"inline-flex items-center gap-2"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"loading"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"x-btn-spinner"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span>{{ text }}<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

interface <span class="hljs-title class_">Props</span> {
  text?: string;
  loading?: boolean;
  disabled?: boolean;
  buttonStyle?: any;
  openType?: <span class="hljs-string">'share'</span> | <span class="hljs-string">'getUserInfo'</span> | <span class="hljs-string">'contact'</span> | <span class="hljs-string">'getPhoneNumber'</span> | <span class="hljs-string">'launchApp'</span> | <span class="hljs-string">'openSetting'</span> | <span class="hljs-string">'feedback'</span>;
  btnClass?: string;
}

<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">withDefaults</span>(defineProps&lt;<span class="hljs-title class_">Props</span>&gt;(), {
  <span class="hljs-attr">text</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">disabled</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">buttonStyle</span>: <span class="hljs-function">() =&gt;</span> ({}),
  <span class="hljs-attr">openType</span>: <span class="hljs-literal">undefined</span>,
  <span class="hljs-attr">btnClass</span>: <span class="hljs-string">''</span>,
});

<span class="hljs-keyword">const</span> emit = defineEmits&lt;{
  <span class="hljs-attr">click</span>: [];
  <span class="hljs-attr">getphonenumber</span>: [<span class="hljs-attr">event</span>: any];
  <span class="hljs-attr">getUserInfo</span>: [<span class="hljs-attr">event</span>: any];
  <span class="hljs-attr">contact</span>: [<span class="hljs-attr">event</span>: any];
  <span class="hljs-attr">error</span>: [<span class="hljs-attr">event</span>: any];
}&gt;();

<span class="hljs-comment">// é»˜è®¤æ ·å¼</span>
<span class="hljs-keyword">const</span> originButtonStyle = {
  <span class="hljs-attr">width</span>: <span class="hljs-string">'702rpx'</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-string">'92rpx'</span>,
  <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">'16rpx'</span>,
  <span class="hljs-attr">background</span>: <span class="hljs-string">'linear-gradient(80deg, #B385F7 1%, #817FF9 50%, #6F6EE8 99%)'</span>,
  <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>,
  <span class="hljs-attr">border</span>: <span class="hljs-string">'none'</span>,
  <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span>,
  <span class="hljs-attr">fontSize</span>: <span class="hljs-string">'32rpx'</span>,
  <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span>,
  <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
  <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
  <span class="hljs-attr">padding</span>: <span class="hljs-string">'20rpx'</span>,
  <span class="hljs-attr">boxSizing</span>: <span class="hljs-string">'border-box'</span>,
};

<span class="hljs-comment">// åˆå¹¶è‡ªå®šä¹‰æ ·å¼</span>
<span class="hljs-keyword">const</span> buttonStyle = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> ({
  ...originButtonStyle,
  ...props.<span class="hljs-property">buttonStyle</span>,
}));

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">disabled</span> &amp;&amp; !props.<span class="hljs-property">loading</span>) {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'click'</span>);
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-comment">/* æ¸…é™¤å°ç¨‹åºæŒ‰é’®é»˜è®¤è¾¹æ¡† */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">display</span>: none <span class="hljs-meta">!important</span>;
}

<span class="hljs-comment">/* #ifdef MP-WEIXIN */</span>
<span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">border</span>: none <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">background</span>: transparent <span class="hljs-meta">!important</span>;
}
<span class="hljs-comment">/* #endif */</span>

<span class="hljs-comment">/* Loading åŠ¨ç”» */</span>
<span class="hljs-selector-class">.x-btn-spinner</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">24</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">999px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">4</span>rpx solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.4</span>);
  <span class="hljs-attribute">border-top-color</span>: <span class="hljs-number">#ffffff</span>;
  <span class="hljs-attribute">animation</span>: x-btn-spin <span class="hljs-number">0.8s</span> linear infinite;
}

<span class="hljs-keyword">@keyframes</span> x-btn-spin {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>); }
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</span></code></pre>
<h3 data-id="heading-10">2.6 æˆ‘è¿½é—®ï¼šæ ·å¼è¦†ç›–çš„è®¾è®¡</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä¸ºä»€ä¹ˆç”¨ buttonStyle è€Œä¸æ˜¯ç›´æ¥ç”¨ class è¦†ç›–ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">AIï¼šä¸¤ç§æ–¹å¼å„æœ‰ä¼˜åŠ£ï¼š

ğŸ“Š å¯¹æ¯”åˆ†æï¼š

ã€class æ–¹å¼ã€‘
âœ… ä¼˜ç‚¹ï¼šç¬¦åˆ CSS ä¹ æƒ¯ï¼Œä¼˜å…ˆçº§å¯æ§
âŒ ç¼ºç‚¹ï¼šå°ç¨‹åºé‡Œ style ä¼˜å…ˆçº§é«˜äº classï¼Œéš¾ä»¥è¦†ç›–

ã€buttonStyle æ–¹å¼ã€‘
âœ… ä¼˜ç‚¹ï¼šstyle ä¼˜å…ˆçº§æœ€é«˜ï¼Œä¸€å®šèƒ½è¦†ç›–
âœ… ä¼˜ç‚¹ï¼šå¯ä»¥åŠ¨æ€è®¡ç®—ï¼Œæ”¯æŒå“åº”å¼æ ·å¼
âŒ ç¼ºç‚¹ï¼šå†™æ³•ç•¥ç¹ç

ğŸ“Œ ç»“è®ºï¼š
åœ¨å°ç¨‹åºç¯å¢ƒä¸‹ï¼Œæ¨è buttonStyle æ–¹å¼ï¼Œå› ä¸ºï¼š
1. ç¡®ä¿è‡ªå®šä¹‰æ ·å¼ä¸€å®šç”Ÿæ•ˆ
2. æ”¯æŒåŠ¨æ€æ ·å¼ï¼ˆå¦‚æ ¹æ®çŠ¶æ€å˜è‰²ï¼‰
3. é…åˆ computed å®ç°æ ·å¼åˆå¹¶

å½“ç„¶ä¹Ÿä¿ç•™äº† btnClassï¼Œç”¨äºæ·»åŠ é¢å¤–çš„ UnoCSS åŸå­ç±»ã€‚
</code></pre>
<h3 data-id="heading-11">2.7 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;!-- åŸºç¡€ç”¨æ³• --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">XButton</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"ç«‹å³ç™»å½•"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleLogin"</span> /&gt;</span></span>

&lt;!-- <span class="hljs-title class_">Loading</span> çŠ¶æ€ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">XButton</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"æäº¤ä¸­..."</span> <span class="hljs-attr">:loading</span>=<span class="hljs-string">"isSubmitting"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSubmit"</span> /&gt;</span></span>

&lt;!-- å¾®ä¿¡è·å–æ‰‹æœºå· --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">XButton</span>
  <span class="hljs-attr">text</span>=<span class="hljs-string">"æ‰‹æœºå·å¿«æ·ç™»å½•"</span>
  <span class="hljs-attr">open-type</span>=<span class="hljs-string">"getPhoneNumber"</span>
  @<span class="hljs-attr">getphonenumber</span>=<span class="hljs-string">"handlePhoneNumber"</span>
/&gt;</span></span>

&lt;!-- è‡ªå®šä¹‰æ ·å¼ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">XButton</span>
  <span class="hljs-attr">text</span>=<span class="hljs-string">"ç¡®è®¤"</span>
  <span class="hljs-attr">:button-style</span>=<span class="hljs-string">"{ width: '100%', height: '80rpx' }"</span>
  @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleConfirm"</span>
/&gt;</span></span>

&lt;!-- ä½¿ç”¨ slot --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">XButton</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleShare"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/static/share.svg"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-4 h-4 mr-2"</span> /&gt;</span>
  åˆ†äº«ç»™å¥½å‹
<span class="hljs-tag">&lt;/<span class="hljs-name">XButton</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-12">ä¸‰ã€æ™ºèƒ½é…è‰²ï¼šReplyCard å›å¤å¡ç‰‡</h2>
<h3 data-id="heading-13">3.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé¦–é¡µæœ‰ä¸ªå›å¤åˆ—è¡¨ï¼Œæ¯ä¸ªå›å¤æœ‰"è¯­æ°”æ ‡ç­¾"å’Œ"å›å¤å†…å®¹"ã€‚
    æ ‡ç­¾é¢œè‰²æƒ³æ ¹æ®è¯­æ°”ç±»å‹è‡ªåŠ¨å˜åŒ–ï¼Œæ¯”å¦‚"é«˜æƒ…å•†"æ˜¯ç´«è‰²ï¼Œ"å¹½é»˜"æ˜¯é’è‰²ã€‚
    ä½†æˆ‘ä¸æƒ³æ‰‹åŠ¨ç»´æŠ¤é¢œè‰²æ˜ å°„è¡¨ï¼Œå¤ªéº»çƒ¦äº†ã€‚
</code></pre>
<h3 data-id="heading-14">3.2 AI ç»™å‡ºæ–¹æ¡ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šå¯ä»¥ç”¨å“ˆå¸Œç®—æ³•è‡ªåŠ¨åˆ†é…é¢œè‰²ã€‚

ğŸ” è®¾è®¡æ€è·¯ï¼š
1. é¢„è®¾ 5 ç§é¢œè‰²ç»„åˆï¼ˆèƒŒæ™¯è‰² + æ–‡å­—è‰²ï¼‰
2. æ ¹æ®è¯­æ°”æ–‡å­—çš„å­—ç¬¦ç è®¡ç®—å“ˆå¸Œå€¼
3. å“ˆå¸Œå€¼å¯¹é¢œè‰²æ•°é‡å–æ¨¡ï¼Œå¾—åˆ°é¢œè‰²ç´¢å¼•

è¿™æ ·çš„å¥½å¤„ï¼š
1. åŒæ ·çš„è¯­æ°”æ–‡å­—æ°¸è¿œæ˜¯åŒä¸€ä¸ªé¢œè‰²
2. ä¸éœ€è¦ç»´æŠ¤æ˜ å°„è¡¨
3. æ–°å¢è¯­æ°”ç±»å‹è‡ªåŠ¨åˆ†é…é¢œè‰²

ğŸ“ Props è®¾è®¡ï¼š
- tone: string      // è¯­æ°”æ ‡ç­¾æ–‡å­—
- text: string      // å›å¤å†…å®¹
- hideTag?: boolean // æ˜¯å¦éšè—æ ‡ç­¾
</code></pre>
<h3 data-id="heading-15">3.3 AI ç”Ÿæˆç»„ä»¶</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;!-- src/pages/index/components/<span class="hljs-title class_">ReplyCard</span>.<span class="hljs-property">vue</span> --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"reply-card flex items-center gap-2.5 bg-white rounded-xl p-4 pr-2"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ ‡ç­¾ï¼ˆæ”¯æŒéšè—ï¼Œä½†ä¿ç•™ DOMï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span>
      <span class="hljs-attr">v-show</span>=<span class="hljs-string">"!hideTag"</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"tag text-xs font-bold rounded-sm px-2 py-1 flex-shrink-0"</span>
      <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ backgroundColor: tagStyle.bg, color: tagStyle.text }"</span>
    &gt;</span>
      {{ tone }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å›å¤æ–‡æœ¬ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-content text-sm text-#1F2937 flex-1"</span>&gt;</span>
      {{ text }}
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å¤åˆ¶æŒ‰é’® --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"copy-btn cursor-pointer w-9 h-9 flex items-center justify-center"</span>
      @<span class="hljs-attr">click</span>=<span class="hljs-string">"onCopy"</span>
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/static/images/home/copy.svg"</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">"aspectFit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-5 h-5"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

interface <span class="hljs-title class_">Props</span> {
  <span class="hljs-attr">tone</span>: string;
  <span class="hljs-attr">text</span>: string;
  hideTag?: boolean;
}

<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">withDefaults</span>(defineProps&lt;<span class="hljs-title class_">Props</span>&gt;(), {
  <span class="hljs-attr">hideTag</span>: <span class="hljs-literal">false</span>,
});

<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'copy'</span>]);

<span class="hljs-comment">// 5 ç§é¢„è®¾é¢œè‰²</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">COLORS</span> = [
  { <span class="hljs-attr">bg</span>: <span class="hljs-string">'#F3E8FF'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'#8B5CF6'</span> },  <span class="hljs-comment">// ç´«è‰²</span>
  { <span class="hljs-attr">bg</span>: <span class="hljs-string">'#E6FFFA'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'#319795'</span> },  <span class="hljs-comment">// é’è‰²</span>
  { <span class="hljs-attr">bg</span>: <span class="hljs-string">'#FFF5E6'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'#F56500'</span> },  <span class="hljs-comment">// æ©™è‰²</span>
  { <span class="hljs-attr">bg</span>: <span class="hljs-string">'#FFE4E6'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'#E11D48'</span> },  <span class="hljs-comment">// ç²‰è‰²</span>
  { <span class="hljs-attr">bg</span>: <span class="hljs-string">'#E0F2FE'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'#0284C7'</span> },  <span class="hljs-comment">// è“è‰²</span>
];

<span class="hljs-comment">// æ ¹æ®è¯­æ°”æ–‡å­—å“ˆå¸Œåˆ†é…é¢œè‰²</span>
<span class="hljs-keyword">const</span> tagStyle = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> tone = props.<span class="hljs-property">tone</span> || <span class="hljs-string">''</span>;
  <span class="hljs-keyword">let</span> hash = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; tone.<span class="hljs-property">length</span>; i += <span class="hljs-number">1</span>) {
    hash = (hash + tone.<span class="hljs-title function_">charCodeAt</span>(i)) % <span class="hljs-variable constant_">COLORS</span>.<span class="hljs-property">length</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">COLORS</span>[hash];
});

<span class="hljs-keyword">const</span> <span class="hljs-title function_">onCopy</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'copy'</span>, props.<span class="hljs-property">text</span>);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</span></code></pre>
<h3 data-id="heading-16">3.4 æˆ‘è¿½é—®è®¾è®¡å†³ç­–</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä¸ºä»€ä¹ˆç”¨ v-show è€Œä¸æ˜¯ v-if éšè—æ ‡ç­¾ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">AIï¼šè¿™æ˜¯æœ‰æ„ä¸ºä¹‹çš„è®¾è®¡ï¼š

ã€v-if vs v-showã€‘

v-ifï¼š
- å®Œå…¨ç§»é™¤ DOM å…ƒç´ 
- ä¼šå½±å“å¸ƒå±€è®¡ç®—
- é€‚åˆ"è¦ä¹ˆæ˜¾ç¤ºè¦ä¹ˆä¸å­˜åœ¨"çš„åœºæ™¯

v-showï¼š
- åªæ˜¯ display: noneï¼ŒDOM å…ƒç´ è¿˜åœ¨
- ä¸å½±å“å¸ƒå±€ç»“æ„
- é€‚åˆ"å¯èƒ½ä¼šå†æ˜¾ç¤º"çš„åœºæ™¯

ğŸ“Œ è¿™é‡Œç”¨ v-show çš„åŸå› ï¼š
1. ä¿æŒå¡ç‰‡å¸ƒå±€ä¸€è‡´æ€§ï¼ˆæœ‰æ ‡ç­¾å’Œæ— æ ‡ç­¾çš„å¡ç‰‡å¯¹é½ï¼‰
2. åŠ¨æ€åˆ‡æ¢æ˜¾ç¤º/éšè—æ—¶ä¸ä¼šé—ªçƒ
3. æ€§èƒ½æ›´å¥½ï¼ˆä¸éœ€è¦é‡æ–°åˆ›å»º DOMï¼‰

å¦‚æœä½ çš„åœºæ™¯æ˜¯"å®Œå…¨ä¸éœ€è¦æ ‡ç­¾"ï¼Œä¹Ÿå¯ä»¥æ”¹æˆ v-ifã€‚
</code></pre>
<h3 data-id="heading-17">3.5 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space-y-3"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ReplyCard</span>
      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"reply in replies"</span>
      <span class="hljs-attr">:key</span>=<span class="hljs-string">"reply.id"</span>
      <span class="hljs-attr">:tone</span>=<span class="hljs-string">"reply.tone"</span>
      <span class="hljs-attr">:text</span>=<span class="hljs-string">"reply.content"</span>
      @<span class="hljs-attr">copy</span>=<span class="hljs-string">"handleCopy"</span>
    /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCopy</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">text</span>) =&gt; {
  <span class="hljs-keyword">await</span> uni.<span class="hljs-title function_">setClipboardData</span>({ <span class="hljs-attr">data</span>: text });
  toast.<span class="hljs-title function_">success</span>(<span class="hljs-string">'å·²å¤åˆ¶'</span>);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-18">å››ã€é€šç”¨å¼¹çª—ï¼šModal ç»„ä»¶</h2>
<h3 data-id="heading-19">4.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé¡¹ç›®é‡Œæœ‰å¾ˆå¤šå¼¹çª—ï¼Œæ¯”å¦‚ç¡®è®¤æ¡†ã€ä¿¡æ¯å±•ç¤ºã€è¡¨å•å¼¹çª—ã€‚
    u-popup ä¸å¤ªå¤Ÿç”¨ï¼Œæƒ³å°è£…ä¸€ä¸ªæ›´é€šç”¨çš„ Modalã€‚
    è¦æœ‰åŠ¨ç”»æ•ˆæœï¼Œæ”¯æŒè‡ªå®šä¹‰å†…å®¹ã€‚
</code></pre>
<h3 data-id="heading-20">4.2 AI è®¾è®¡æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šæˆ‘æ¥è®¾è®¡ä¸€ä¸ªé€šç”¨ Modal ç»„ä»¶ã€‚

ğŸ“ Props è®¾è®¡ï¼š

interface Props {
  modelValue: boolean;       // æ§åˆ¶æ˜¾ç¤ºï¼ˆv-modelï¼‰
  closeOnClickMask?: boolean; // ç‚¹å‡»é®ç½©å…³é—­
  rootZIndex?: number;       // å±‚çº§
  width?: string;            // å¼¹çª—å®½åº¦
  customStyle?: object;      // è‡ªå®šä¹‰æ ·å¼
  safeAreaInsetBottom?: boolean; // å®‰å…¨åŒºé€‚é…
}

ğŸ“ Eventsï¼š

update:modelValue  // v-model æ›´æ–°
close              // å…³é—­äº‹ä»¶

ğŸ¯ è®¾è®¡è¦ç‚¹ï¼š
1. ä½¿ç”¨ v-model åŒå‘ç»‘å®šï¼Œç¬¦åˆ Vue ä¹ æƒ¯
2. åŠ¨ç”»åˆ†ä¸¤é˜¶æ®µï¼šå…ˆæ¸²æŸ“ DOMï¼Œå†è§¦å‘è¿‡æ¸¡
3. slot æ”¯æŒä»»æ„å†…å®¹
4. é®ç½©å’Œå†…å®¹åˆ†å±‚ï¼Œä¾¿äºæ§åˆ¶æ ·å¼
</code></pre>
<h3 data-id="heading-21">4.3 AI ç”Ÿæˆç»„ä»¶</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;!-- src/components/<span class="hljs-title class_">Modal</span>.<span class="hljs-property">vue</span> --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span>
    <span class="hljs-attr">v-if</span>=<span class="hljs-string">"visible"</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"modal__root"</span>
    <span class="hljs-attr">:class</span>=<span class="hljs-string">"{
      'modal__root--show': showContent,
      'modal__root--safe-area': safeAreaInsetBottom
    }"</span>
  &gt;</span>
    <span class="hljs-comment">&lt;!-- é®ç½©å±‚ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal__mask"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleMaskClick"</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- å†…å®¹åŒºåŸŸ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal__container"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"containerStyle"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

&lt;script setup lang="ts"&gt;
import { computed, ref, watch, nextTick } from 'vue';

interface Props {
  modelValue: boolean;
  closeOnClickMask?: boolean;
  rootZIndex?: number;
  width?: string;
  customStyle?: Record&lt;string, any&gt;;
  safeAreaInsetBottom?: boolean;
}

const props = withDefaults(defineProps&lt;Props&gt;(), {
  closeOnClickMask: false,
  rootZIndex: 10020,
  width: '700rpx',
  customStyle: () =&gt; ({}),
  safeAreaInsetBottom: false,
});

const emit = defineEmits&lt;{
  'update:modelValue': [value: boolean];
  close: [];
}&gt;();

// åŒå‘ç»‘å®š
const visible = computed({
  get: () =&gt; props.modelValue,
  set: (value: boolean) =&gt; emit('update:modelValue', value),
});

// æ§åˆ¶åŠ¨ç”»
const showContent = ref(false);

// ç›‘å¬æ˜¾ç¤ºçŠ¶æ€ï¼Œæ§åˆ¶åŠ¨ç”»æ—¶åº
watch(
  () =&gt; props.modelValue,
  async (newVal) =&gt; {
    if (newVal) {
      // æ‰“å¼€ï¼šå…ˆæ˜¾ç¤º DOMï¼Œå†è§¦å‘åŠ¨ç”»
      await nextTick();
      setTimeout(() =&gt; {
        showContent.value = true;
      }, 10);
    } else {
      // å…³é—­ï¼šå…ˆè§¦å‘åŠ¨ç”»ï¼Œå†éšè— DOM
      showContent.value = false;
    }
  },
  { immediate: true }
);

// ç‚¹å‡»é®ç½©
const handleMaskClick = () =&gt; {
  if (!props.closeOnClickMask) return;
  emit('close');
  visible.value = false;
};

// å®¹å™¨æ ·å¼
const containerStyle = computed(() =&gt; ({
  width: props.width,
  ...props.customStyle,
}));
&lt;/script&gt;

&lt;style scoped lang="scss"&gt;
.modal__root {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: v-bind(rootZIndex);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.modal__root--show {
  opacity: 1;

  .modal__mask {
    opacity: 1;
  }

  .modal__container {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.modal__mask {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.modal__container {
  position: relative;
  z-index: calc(v-bind(rootZIndex) + 1);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  overflow: hidden;
  opacity: 0;
  transform: scale(0.9) translateY(-20px);
  transition: transform 0.3s ease, opacity 0.3s ease;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-22">4.4 æˆ‘è¿½é—®åŠ¨ç”»å®ç°</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä¸ºä»€ä¹ˆåŠ¨ç”»è¦åˆ†ä¸¤é˜¶æ®µï¼Ÿç›´æ¥ç”¨ CSS transition ä¸è¡Œå—ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">AIï¼šç›´æ¥ç”¨ transition æœ‰é—®é¢˜ï¼Œéœ€è¦åˆ†é˜¶æ®µå¤„ç†ã€‚

ğŸ” é—®é¢˜åˆ†æï¼š

ã€é”™è¯¯æ–¹å¼ã€‘ç›´æ¥è®¾ç½® v-if + transition
- v-if åˆ‡æ¢æ—¶ï¼ŒDOM è¿˜æ²¡æ¸²æŸ“å®Œï¼Œtransition å°±è§¦å‘äº†
- å¯¼è‡´åŠ¨ç”»ä¸ç”Ÿæ•ˆæˆ–é—ªçƒ

ã€æ­£ç¡®æ–¹å¼ã€‘åˆ†ä¸¤é˜¶æ®µ
é˜¶æ®µ1ï¼šv-if è®© DOM æ¸²æŸ“ï¼ˆopacity: 0ï¼‰
é˜¶æ®µ2ï¼šnextTick + setTimeout åï¼Œæ·»åŠ  show ç±»è§¦å‘åŠ¨ç”»

ğŸ“ æ—¶åºå›¾ï¼š
props.modelValue = true
    â†“
v-if æ¸²æŸ“ DOMï¼ˆä¸å¯è§ï¼‰
    â†“
await nextTickï¼ˆDOM å·²æŒ‚è½½ï¼‰
    â†“
setTimeout 10msï¼ˆç¡®ä¿æµè§ˆå™¨å·²ç»˜åˆ¶ï¼‰
    â†“
showContent = trueï¼ˆè§¦å‘ CSS è¿‡æ¸¡ï¼‰
    â†“
åŠ¨ç”»æ•ˆæœæ˜¾ç¤º

å…³é—­æ—¶ç›¸åï¼š
showContent = falseï¼ˆè§¦å‘é€€å‡ºåŠ¨ç”»ï¼‰
    â†“
ç­‰åŠ¨ç”»ç»“æŸå
    â†“
v-if ç§»é™¤ DOM
</code></pre>
<h3 data-id="heading-23">4.5 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  &lt;!-- ç¡®è®¤å¼¹çª— --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Modal</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"showConfirm"</span> <span class="hljs-attr">:close-on-click-mask</span>=<span class="hljs-string">"true"</span> @<span class="hljs-attr">close</span>=<span class="hljs-string">"handleClose"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-6"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-lg font-bold mb-4"</span>&gt;</span>ç¡®è®¤åˆ é™¤ï¼Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-gray-500 mb-6"</span>&gt;</span>åˆ é™¤åæ— æ³•æ¢å¤<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex gap-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">XButton</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"å–æ¶ˆ"</span> <span class="hljs-attr">:button-style</span>=<span class="hljs-string">"cancelStyle"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"showConfirm = false"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">XButton</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"ç¡®è®¤"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleConfirm"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span></span>
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-24">äº”ã€å¤æ‚äº¤äº’ï¼šActionSheetPicker é€‰æ‹©å™¨</h2>
<h3 data-id="heading-25">5.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šéœ€è¦ä¸€ä¸ªåº•éƒ¨æ»šåŠ¨é€‰æ‹©å™¨ï¼Œç±»ä¼¼æ—¥æœŸé€‰æ‹©å™¨é‚£ç§æ•ˆæœã€‚
    è¦æ”¯æŒç¡®è®¤/å–æ¶ˆæŒ‰é’®ï¼Œé€‰é¡¹æ»šåŠ¨æ—¶æœ‰æ¸éšæ•ˆæœã€‚
</code></pre>
<h3 data-id="heading-26">5.2 AI åˆ†æå¤æ‚åº¦</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šè¿™æ˜¯ä¸€ä¸ªäº¤äº’è¾ƒå¤æ‚çš„ç»„ä»¶ï¼Œéœ€è¦å¤„ç†å‡ ä¸ªå…³é”®ç‚¹ï¼š

ğŸ” å¤æ‚åº¦åˆ†æï¼š

1. é€‰é¡¹æ ¼å¼ç»Ÿä¸€
   - ç”¨æˆ·å¯èƒ½ä¼  ['é€‰é¡¹1', 'é€‰é¡¹2']ï¼ˆå­—ç¬¦ä¸²æ•°ç»„ï¼‰
   - ä¹Ÿå¯èƒ½ä¼  [{ label: 'é€‰é¡¹1', value: 1 }]ï¼ˆå¯¹è±¡æ•°ç»„ï¼‰
   - éœ€è¦å½’ä¸€åŒ–å¤„ç†

2. è¾¹ç•Œæƒ…å†µ
   - é€‰é¡¹åˆ—è¡¨ä¸ºç©º
   - defaultIndex è¶…å‡ºèŒƒå›´
   - å¿«é€Ÿåˆ‡æ¢å¼€å…³çŠ¶æ€

3. åŠ¨ç”»åè°ƒ
   - é®ç½©æ·¡å…¥
   - é¢æ¿æ»‘å…¥
   - å…³é—­æ—¶å…ˆåŠ¨ç”»å†éšè— DOM

4. è§†è§‰æ•ˆæœ
   - å½“å‰é€‰é¡¹é«˜äº®
   - è¿œç¦»ä¸­å¿ƒçš„é€‰é¡¹æ¸éš

ğŸ“ Props è®¾è®¡ï¼š

interface Props {
  modelValue: boolean;        // v-model æ§åˆ¶æ˜¾ç¤º
  options: Array&lt;OptionItem | string&gt;;  // é€‰é¡¹åˆ—è¡¨
  defaultIndex?: number;      // é»˜è®¤é€‰ä¸­ç´¢å¼•
  cancelText?: string;        // å–æ¶ˆæŒ‰é’®æ–‡å­—
  confirmText?: string;       // ç¡®è®¤æŒ‰é’®æ–‡å­—
  overlayClosable?: boolean;  // ç‚¹å‡»é®ç½©å…³é—­
  showHeader?: boolean;       // æ˜¯å¦æ˜¾ç¤ºå¤´éƒ¨
}
</code></pre>
<h3 data-id="heading-27">5.3 AI ç”Ÿæˆå…³é”®ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é€‰é¡¹æ ¼å¼å½’ä¸€åŒ–</span>
<span class="hljs-keyword">const</span> normalizedOptions = computed&lt;<span class="hljs-title class_">OptionItem</span>[]&gt;(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> (props.<span class="hljs-property">options</span> || []).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span>
    <span class="hljs-keyword">typeof</span> item === <span class="hljs-string">'string'</span>
      ? { <span class="hljs-attr">label</span>: item, <span class="hljs-attr">value</span>: item }
      : { <span class="hljs-attr">label</span>: item.<span class="hljs-property">label</span>, <span class="hljs-attr">value</span>: item.<span class="hljs-property">value</span> }
  );
});

<span class="hljs-comment">// è¾¹ç•Œå¤„ç†ï¼šç¡®ä¿ç´¢å¼•åœ¨æœ‰æ•ˆèŒƒå›´å†…</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">clampIndex</span> = (<span class="hljs-params">idx: <span class="hljs-built_in">unknown</span>, fallback = <span class="hljs-number">0</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (!normalizedOptions.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> numericIdx = <span class="hljs-title class_">Number</span>(idx);
  <span class="hljs-keyword">const</span> base = <span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(numericIdx) ? numericIdx : <span class="hljs-title class_">Number</span>(fallback) || <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (base &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (base &gt;= normalizedOptions.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) {
    <span class="hljs-keyword">return</span> normalizedOptions.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(base);
};

<span class="hljs-comment">// æ¸éšæ•ˆæœ</span>
<span class="hljs-keyword">const</span> baseColor = [<span class="hljs-number">48</span>, <span class="hljs-number">49</span>, <span class="hljs-number">51</span>];
<span class="hljs-keyword">const</span> opacityByDistance = [<span class="hljs-number">1</span>, <span class="hljs-number">0.75</span>, <span class="hljs-number">0.55</span>, <span class="hljs-number">0.35</span>, <span class="hljs-number">0.18</span>];

<span class="hljs-keyword">const</span> <span class="hljs-title function_">getItemStyle</span> = (<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> distance = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(idx - internalIndex.<span class="hljs-property">value</span>);
  <span class="hljs-keyword">const</span> opacity = opacityByDistance[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(distance, opacityByDistance.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)];
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">color</span>: <span class="hljs-string">`rgba(<span class="hljs-subst">${baseColor.join(<span class="hljs-string">','</span>)}</span>, <span class="hljs-subst">${opacity}</span>)`</span>,
  };
};
</code></pre>
<h3 data-id="heading-28">5.4 æˆ‘è¿½é—®è®¾è®¡å†³ç­–</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä¸ºä»€ä¹ˆè¦ç”¨ clampIndex å‡½æ•°ï¼Ÿç›´æ¥ç”¨ Math.min/max ä¸è¡Œå—ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">AIï¼šclampIndex å¤„ç†äº†æ›´å¤šè¾¹ç•Œæƒ…å†µï¼š

ğŸ“Š å¯¹æ¯”ï¼š

ã€ç®€å•æ–¹å¼ã€‘
const index = Math.min(Math.max(defaultIndex, 0), options.length - 1);
// é—®é¢˜ï¼š
// - defaultIndex æ˜¯ undefined â†’ NaN
// - defaultIndex æ˜¯ '2'ï¼ˆå­—ç¬¦ä¸²ï¼‰â†’ å¯èƒ½å‡ºé”™
// - options ä¸ºç©º â†’ -1

ã€clampIndex æ–¹å¼ã€‘
1. å¤„ç† undefined/null â†’ ä½¿ç”¨ fallback
2. å¤„ç†å­—ç¬¦ä¸²æ•°å­— â†’ Number() è½¬æ¢
3. å¤„ç†ç©ºæ•°ç»„ â†’ è¿”å› 0
4. å¤„ç†å°æ•° â†’ Math.round() å–æ•´
5. å¤„ç†è´Ÿæ•° â†’ è¿”å› 0
6. å¤„ç†è¶…é™ â†’ è¿”å›æœ€å¤§æœ‰æ•ˆç´¢å¼•

ğŸ“Œ ç»“è®ºï¼š
å¤æ‚ç»„ä»¶è¦è€ƒè™‘å„ç§"å¥‡æ€ªçš„è¾“å…¥"ï¼Œé˜²å¾¡æ€§ç¼–ç¨‹å¾ˆé‡è¦ã€‚
ç”¨æˆ·å¯èƒ½ä¼ é”™è¯¯ç±»å‹çš„ propsï¼Œç»„ä»¶ä¸åº”è¯¥å´©æºƒã€‚
</code></pre>
<h3 data-id="heading-29">5.5 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  &lt;!-- æ€§åˆ«é€‰æ‹© --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ActionSheetPicker</span>
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">"showGenderPicker"</span>
    <span class="hljs-attr">:options</span>=<span class="hljs-string">"genderOptions"</span>
    <span class="hljs-attr">:default-index</span>=<span class="hljs-string">"defaultGenderIndex"</span>
    @<span class="hljs-attr">confirm</span>=<span class="hljs-string">"handleGenderConfirm"</span>
  /&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> genderOptions = [
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'ç”·'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">1</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'å¥³'</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">2</span> },
];

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenderConfirm</span> = (<span class="hljs-params">option, index</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é€‰æ‹©äº†:'</span>, option.<span class="hljs-property">label</span>, option.<span class="hljs-property">value</span>);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-30">å…­ã€é…ç½®é©±åŠ¨ï¼šVipCard ä¸šåŠ¡ç»„ä»¶</h2>
<h3 data-id="heading-31">6.1 æˆ‘çš„éœ€æ±‚</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šæœ‰ä¸ª VIP å¡ç‰‡ï¼Œæ ¹æ®ç”¨æˆ·çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹ï¼š
    - æœªç™»å½•ï¼šæ˜¾ç¤º"å…è´¹èµ é€ 3 æ¬¡"
    - å·²ç™»å½•æœªå¼€é€šï¼šæ˜¾ç¤º"å‰©ä½™ x/3 æ¬¡"
    - VIP ç”¨æˆ·ï¼šæ˜¾ç¤º"æœ‰æ•ˆæœŸè‡³ xx"
    - å·²è¿‡æœŸï¼šæ˜¾ç¤º"ä¼šå‘˜å·²è¿‡æœŸ"

    æ¯ç§çŠ¶æ€çš„æŒ‰é’®æ–‡å­—ä¹Ÿä¸ä¸€æ ·ã€‚
</code></pre>
<h3 data-id="heading-32">6.2 AI æ¨èé…ç½®é©±åŠ¨æ¨¡å¼</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šè¿™ç§å¤šçŠ¶æ€åœºæ™¯ï¼Œæ¨èç”¨"é…ç½®é©±åŠ¨"æ¨¡å¼ã€‚

ğŸ” è®¾è®¡æ€è·¯ï¼š
ä¸æ˜¯ç”¨ v-if å†™ 4 å¥— UIï¼Œè€Œæ˜¯ç”¨ computed è¿”å›é…ç½®å¯¹è±¡ï¼Œ
æ¨¡æ¿æ ¹æ®é…ç½®æ¸²æŸ“ï¼Œé€»è¾‘å’Œ UI åˆ†ç¦»ã€‚

ğŸ“ é…ç½®ç»“æ„ï¼š

interface VipCardConfig {
  title: string;           // ä¸»æ ‡é¢˜
  subtitle?: string;       // å‰¯æ ‡é¢˜
  buttonText: string;      // æŒ‰é’®æ–‡å­—
  showExpireTip?: boolean; // æ˜¯å¦æ˜¾ç¤ºåˆ°æœŸè¯´æ˜
}

ğŸ“ é…ç½®é€»è¾‘ï¼ˆcomputedï¼‰ï¼š
æ ¹æ® vipInfo.status è¿”å›ä¸åŒé…ç½®
</code></pre>
<h3 data-id="heading-33">6.3 AI ç”Ÿæˆå…³é”®ä»£ç </h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// VIP å¡ç‰‡é…ç½®ï¼ˆé…ç½®é©±åŠ¨æ¨¡å¼ï¼‰</span>
<span class="hljs-keyword">const</span> cardConfig = computed&lt;<span class="hljs-title class_">VipCardConfig</span>&gt;(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { status, expireTime, remainingTimes } = props.<span class="hljs-property">vipInfo</span>;

  <span class="hljs-comment">// æœªç™»å½•æˆ–æœªå¼€é€š VIP</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'none'</span>) {
    <span class="hljs-keyword">if</span> (!props.<span class="hljs-property">isLoggedIn</span>) {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">title</span>: <span class="hljs-string">'å…è´¹èµ é€3æ¬¡ç”Ÿæˆæ¬¡æ•°'</span>,
        <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'é¦–æ¬¡ç™»å½•å³å¯è·å¾—'</span>,
        <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç«‹å³ä½“éªŒ'</span>,
        <span class="hljs-attr">showExpireTip</span>: <span class="hljs-literal">false</span>,
      };
    }
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: <span class="hljs-string">`å‰©ä½™<span class="hljs-subst">${remainingTimes || <span class="hljs-number">0</span>}</span>/3æ¬¡å…è´¹ç”Ÿæˆæ¬¡æ•°`</span>,
      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'å¼€é€šVIPï¼Œè§£é”ç•…äº«è¶…å€¼ç‰¹æƒ'</span>,
      <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç«‹å³å¼€é€š'</span>,
      <span class="hljs-attr">showExpireTip</span>: <span class="hljs-literal">false</span>,
    };
  }

  <span class="hljs-comment">// å·²è¿‡æœŸ</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'expired'</span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'å¼€é€šä¼šå‘˜ï¼Œå°Šäº«VIPç‰¹æƒ'</span>,
      <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'ä½ çš„ä¼šå‘˜å·²è¿‡æœŸï¼Œè¯·é‡æ–°å¼€é€š'</span>,
      <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç«‹å³å¼€é€š'</span>,
      <span class="hljs-attr">showExpireTip</span>: <span class="hljs-literal">false</span>,
    };
  }

  <span class="hljs-comment">// VIP ç”¨æˆ·</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'vip'</span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'æ­å–œæ‚¨ï¼Œæˆä¸ºVIPä¼šå‘˜'</span>,
      <span class="hljs-attr">subtitle</span>: expireTime ? <span class="hljs-string">`æœ‰æ•ˆæœŸè‡³<span class="hljs-subst">${expireTime}</span>`</span> : <span class="hljs-literal">undefined</span>,
      <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç«‹å³ç»­è´¹'</span>,
      <span class="hljs-attr">showExpireTip</span>: <span class="hljs-title class_">Boolean</span>(expireTime),
    };
  }

  <span class="hljs-comment">// é»˜è®¤é…ç½®ï¼ˆå…œåº•ï¼‰</span>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'å‰©ä½™0/3æ¬¡å…è´¹ç”Ÿæˆæ¬¡æ•°'</span>,
    <span class="hljs-attr">subtitle</span>: <span class="hljs-string">'å¼€é€šVIPï¼Œè§£é”ç•…äº«è¶…å€¼ç‰¹æƒ'</span>,
    <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç«‹å³å¼€é€š'</span>,
    <span class="hljs-attr">showExpireTip</span>: <span class="hljs-literal">false</span>,
  };
});
</code></pre>
<h3 data-id="heading-34">6.4 æ¨¡æ¿ä½¿ç”¨é…ç½®</h3>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"vip-card relative rounded-xl overflow-hidden"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å†…å®¹åŒºåŸŸ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"relative z-10 px-3 py-4 flex items-center justify-between h-full"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- å·¦ä¾§å†…å®¹ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center flex-1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">image</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/static/images/my/member.png"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-10 h-10 mr-3"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex-1"</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- ä½¿ç”¨é…ç½®çš„ title --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-30rpx font-medium text-#402F1B mb-10rpx"</span>&gt;</span>
            {{ cardConfig.title }}
          <span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- ä½¿ç”¨é…ç½®çš„ subtitle --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"cardConfig.subtitle"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-#7E5D34"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>{{ cardConfig.subtitle }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">image</span>
              <span class="hljs-attr">v-if</span>=<span class="hljs-string">"cardConfig.showExpireTip"</span>
              <span class="hljs-attr">src</span>=<span class="hljs-string">"/static/images/my/info.svg"</span>
              <span class="hljs-attr">class</span>=<span class="hljs-string">"w-4 h-4 ml-1"</span>
              @<span class="hljs-attr">click.stop</span>=<span class="hljs-string">"openVipInfoModal"</span>
            /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>

      <span class="hljs-comment">&lt;!-- å³ä¾§æŒ‰é’®ï¼ˆä½¿ç”¨é…ç½®çš„ buttonTextï¼‰ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rounded-full px-4.5 py-2 bg-#3D3D3D/90"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleUpgrade"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm text-#FFF5E2"</span>&gt;</span>{{ cardConfig.buttonText }}<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-35">6.5 é…ç½®é©±åŠ¨ vs æ¡ä»¶æ¸²æŸ“</h3>
<pre><code class="hljs language-txt" lang="txt">AIï¼šä¸ºä»€ä¹ˆæ¨èé…ç½®é©±åŠ¨è€Œä¸æ˜¯æ¡ä»¶æ¸²æŸ“ï¼Ÿ

ğŸ“Š å¯¹æ¯”ï¼š

ã€æ¡ä»¶æ¸²æŸ“æ–¹å¼ã€‘
&lt;view v-if="status === 'none' &amp;&amp; !isLoggedIn"&gt;
  &lt;text&gt;å…è´¹èµ é€3æ¬¡...&lt;/text&gt;
  &lt;button&gt;ç«‹å³ä½“éªŒ&lt;/button&gt;
&lt;/view&gt;
&lt;view v-else-if="status === 'none' &amp;&amp; isLoggedIn"&gt;
  &lt;text&gt;å‰©ä½™x/3æ¬¡...&lt;/text&gt;
  &lt;button&gt;ç«‹å³å¼€é€š&lt;/button&gt;
&lt;/view&gt;
&lt;view v-else-if="status === 'expired'"&gt;
  ...
&lt;/view&gt;
&lt;!-- 4 å¥—å‡ ä¹ä¸€æ ·çš„ UI --&gt;

âŒ é—®é¢˜ï¼š
- é‡å¤ä»£ç å¤š
- ä¿®æ”¹ UI è¦æ”¹ 4 å¤„
- é€»è¾‘å’Œ UI è€¦åˆ

ã€é…ç½®é©±åŠ¨æ–¹å¼ã€‘
&lt;text&gt;{{ cardConfig.title }}&lt;/text&gt;
&lt;button&gt;{{ cardConfig.buttonText }}&lt;/button&gt;

âœ… ä¼˜ç‚¹ï¼š
- UI ä»£ç åªæœ‰ä¸€ä»½
- ä¿®æ”¹ UI åªéœ€æ”¹ä¸€å¤„
- é€»è¾‘é›†ä¸­åœ¨ computed
- å®¹æ˜“æ–°å¢çŠ¶æ€
</code></pre>
<h2 data-id="heading-36">ä¸ƒã€ç»„ä»¶å°è£…çš„æ ¸å¿ƒç»éªŒ</h2>
<h3 data-id="heading-37">7.1 Props è®¾è®¡åŸåˆ™</h3>






























<table><thead><tr><th>åŸåˆ™</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>å¿…å¡« vs å¯é€‰</td><td>æ ¸å¿ƒæ•°æ®å¿…å¡«ï¼Œé…ç½®é¡¹å¯é€‰</td><td><code>text</code> å¿…å¡«ï¼Œ<code>loading</code> å¯é€‰</td></tr><tr><td>é»˜è®¤å€¼åˆç†</td><td>ä¸ä¼ ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ</td><td><code>loading: false</code></td></tr><tr><td>ç±»å‹ä¸¥æ ¼</td><td>ä½¿ç”¨ TypeScript å®šä¹‰</td><td><code>openType?: 'share' | 'getPhoneNumber'</code></td></tr><tr><td>å‘½åæ¸…æ™°</td><td>çœ‹åå­—å°±çŸ¥é“ä½œç”¨</td><td><code>closeOnClickMask</code> è€Œé <code>maskClose</code></td></tr></tbody></table>
<h3 data-id="heading-38">7.2 Events è®¾è®¡åŸåˆ™</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âœ… æ¨èï¼šäº‹ä»¶é€ä¼ ï¼Œè®©çˆ¶ç»„ä»¶å†³å®šå¤„ç†é€»è¾‘</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'copy'</span>]);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">onCopy</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'copy'</span>, props.<span class="hljs-property">text</span>);  <span class="hljs-comment">// åªé€šçŸ¥ï¼Œä¸å¤„ç†</span>
};

<span class="hljs-comment">// âŒ ä¸æ¨èï¼šç»„ä»¶å†…éƒ¨å¤„ç†ä¸šåŠ¡é€»è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">onCopy</span> = (<span class="hljs-params"/>) =&gt; {
  uni.<span class="hljs-title function_">setClipboardData</span>({ <span class="hljs-attr">data</span>: props.<span class="hljs-property">text</span> });
  toast.<span class="hljs-title function_">success</span>(<span class="hljs-string">'å·²å¤åˆ¶'</span>);  <span class="hljs-comment">// ç»„ä»¶ä¸è¯¥ç®¡ toast</span>
};
</code></pre>
<h3 data-id="heading-39">7.3 æ ·å¼è®¾è®¡åŸåˆ™</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- âœ… æ¨èï¼šæä¾›è‡ªå®šä¹‰å…¥å£ --&gt;
&lt;view :class="btnClass" :style="buttonStyle"&gt;

&lt;!-- âŒ ä¸æ¨èï¼šå†™æ­»æ ·å¼æ— æ³•è¦†ç›– --&gt;
&lt;view class="w-702rpx h-92rpx bg-gradient-to-r from-purple-400 to-blue-500"&gt;
</code></pre>
<h3 data-id="heading-40">7.4 å¤æ‚é€»è¾‘å¤„ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âœ… æ¨èï¼šé…ç½®é©±åŠ¨ï¼Œé€»è¾‘é›†ä¸­</span>
<span class="hljs-keyword">const</span> cardConfig = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'vip'</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">title</span>: <span class="hljs-string">'VIPç”¨æˆ·'</span>, <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç»­è´¹'</span> };
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'expired'</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">title</span>: <span class="hljs-string">'å·²è¿‡æœŸ'</span>, <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'å¼€é€š'</span> };
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">title</span>: <span class="hljs-string">'æœªå¼€é€š'</span>, <span class="hljs-attr">buttonText</span>: <span class="hljs-string">'ç«‹å³å¼€é€š'</span> };
});

<span class="hljs-comment">// âŒ ä¸æ¨èï¼šæ¨¡æ¿é‡Œå†™å¤§é‡ v-if</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"status === 'vip'"</span>&gt;</span>VIPç”¨æˆ·<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"status === 'expired'"</span>&gt;</span>å·²è¿‡æœŸ<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">v-else</span>&gt;</span>æœªå¼€é€š<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-41">å…«ã€æ€»ç»“ï¼šç»„ä»¶å°è£…çš„æ–¹æ³•è®º</h2>
<h3 data-id="heading-42">8.1 å°è£…å†³ç­–æµç¨‹</h3>
<pre><code class="hljs language-txt" lang="txt">éœ€è¦å°è£…å—ï¼Ÿ
    â”œâ”€â”€ å¤ç”¨ 3 æ¬¡ä»¥ä¸Š â†’ âœ… å°è£…
    â”œâ”€â”€ é€»è¾‘å¤æ‚ â†’ âœ… å°è£…
    â”œâ”€â”€ å¤šé¡µé¢ä½¿ç”¨ â†’ âœ… å°è£…
    â””â”€â”€ åªç”¨ä¸€æ¬¡ â†’ âŒ ä¸å°è£…

æ€ä¹ˆè®¾è®¡ Propsï¼Ÿ
    â”œâ”€â”€ æ•°æ®ç±» â†’ å¿…å¡«ï¼Œç±»å‹ä¸¥æ ¼
    â”œâ”€â”€ é…ç½®ç±» â†’ å¯é€‰ï¼Œæœ‰é»˜è®¤å€¼
    â””â”€â”€ æ ·å¼ç±» â†’ æä¾›è‡ªå®šä¹‰å…¥å£

æ€ä¹ˆå¤„ç†äº‹ä»¶ï¼Ÿ
    â”œâ”€â”€ ç®€å•äº‹ä»¶ â†’ ç›´æ¥ emit
    â””â”€â”€ å¤æ‚äº¤äº’ â†’ æš´éœ²æ–¹æ³• + emit

æ€ä¹ˆå¤„ç†æ ·å¼ï¼Ÿ
    â”œâ”€â”€ é»˜è®¤æ ·å¼ â†’ å†™åœ¨ç»„ä»¶å†…
    â”œâ”€â”€ è‡ªå®šä¹‰æ ·å¼ â†’ buttonStyle/customStyle
    â””â”€â”€ é¢å¤–æ ·å¼ â†’ btnClass slot
</code></pre>
<h3 data-id="heading-43">8.2 æœ¬æ–‡å°è£…çš„ç»„ä»¶æ¸…å•</h3>









































<table><thead><tr><th>ç»„ä»¶</th><th>ç±»å‹</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>è®¾è®¡è¦ç‚¹</th></tr></thead><tbody><tr><td>XButton</td><td>é€šç”¨ç»„ä»¶</td><td>æŒ‰é’® + å¾®ä¿¡èƒ½åŠ›</td><td>æ ·å¼åˆå¹¶ã€äº‹ä»¶é€ä¼ ã€slot</td></tr><tr><td>ReplyCard</td><td>ä¸šåŠ¡ç»„ä»¶</td><td>å›å¤å¡ç‰‡</td><td>å“ˆå¸Œé…è‰²ã€äº‹ä»¶é€ä¼ </td></tr><tr><td>Modal</td><td>é€šç”¨ç»„ä»¶</td><td>å¼¹çª—å®¹å™¨</td><td>v-modelã€åŠ¨ç”»åˆ†é˜¶æ®µ</td></tr><tr><td>ActionSheetPicker</td><td>é€šç”¨ç»„ä»¶</td><td>åº•éƒ¨é€‰æ‹©å™¨</td><td>æ ¼å¼å½’ä¸€åŒ–ã€è¾¹ç•Œå¤„ç†</td></tr><tr><td>VipCard</td><td>ä¸šåŠ¡ç»„ä»¶</td><td>VIP çŠ¶æ€å¡ç‰‡</td><td>é…ç½®é©±åŠ¨</td></tr></tbody></table>
<h3 data-id="heading-44">8.3 ä¸‹ä¸€ç¯‡é¢„å‘Š</h3>
<p><strong>ã€Šã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 9 ç¯‡ï¼šHooks å°è£…çš„è‰ºæœ¯ - è®©é€»è¾‘å¤ç”¨æ›´ä¼˜é›…ã€‹</strong></p>
<p>ä¸‹ä¸€ç¯‡å±•ç¤ºå¦‚ä½•å°è£…è‡ªå®šä¹‰ Hooksï¼š</p>
<ul>
<li>ä»é‡å¤ä»£ç ä¸­æå– Hooks</li>
<li>useRequireLoginï¼šç™»å½•æ£€æŸ¥ Hook</li>
<li>useClipboardï¼šå‰ªè´´æ¿æ“ä½œ Hook</li>
<li>ç»„åˆå¼ API çš„æœ€ä½³å®è·µ</li>
</ul>
<hr/>
<blockquote>
<p>ç»„ä»¶å°è£…ä¸æ˜¯"æŠŠä»£ç æŒªåˆ°å¦ä¸€ä¸ªæ–‡ä»¶"ï¼Œè€Œæ˜¯<strong>è®¾è®¡å¯å¤ç”¨ã€å¯ç»´æŠ¤çš„æŠ½è±¡</strong>ã€‚
é€šè¿‡å’Œ AI å¯¹è¯ï¼Œé€æ­¥ç†æ¸… Propsã€Eventsã€æ ·å¼çš„è®¾è®¡å†³ç­–ã€‚</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonæ•°æ®å¤„ç†æé€Ÿ50%ï¼5ä¸ªPandasé»‘ç§‘æŠ€ä½ ç”¨è¿‡å‡ ä¸ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596260777662791695</link>    <guid>https://juejin.cn/post/7596260777662791695</guid>    <pubDate>2026-01-19T04:18:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596260777662791695" data-draft-id="7596507469883637775" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonæ•°æ®å¤„ç†æé€Ÿ50%ï¼5ä¸ªPandasé»‘ç§‘æŠ€ä½ ç”¨è¿‡å‡ ä¸ªï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T04:18:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonæ•°æ®å¤„ç†æé€Ÿ50%ï¼5ä¸ªPandasé»‘ç§‘æŠ€ä½ ç”¨è¿‡å‡ ä¸ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T04:18:14.000Z" title="Mon Jan 19 2026 04:18:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Pythonæ•°æ®å¤„ç†æé€Ÿ50%ï¼5ä¸ªPandasé»‘ç§‘æŠ€ä½ ç”¨è¿‡å‡ ä¸ªï¼Ÿ</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨æ•°æ®ç§‘å­¦å’Œæ•°æ®åˆ†æé¢†åŸŸï¼ŒPandasæ— ç–‘æ˜¯Pythonç”Ÿæ€ä¸­æœ€å—æ¬¢è¿çš„æ•°æ®å¤„ç†åº“ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œéšç€æ•°æ®é‡çš„å¢é•¿ï¼Œè®¸å¤šå¼€å‘è€…å‘ç°Pandasçš„æ€§èƒ½é€æ¸æˆä¸ºç“¶é¢ˆã€‚æ®ç»Ÿè®¡ï¼Œ80%çš„æ•°æ®åˆ†ææ—¶é—´éƒ½èŠ±åœ¨äº†æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†ä¸Šã€‚å¦‚ä½•ä¼˜åŒ–Pandasæ“ä½œï¼Œå®ç°æ•°æ®å¤„ç†æ•ˆç‡çš„æ˜¾è‘—æå‡ï¼Ÿæœ¬æ–‡å°†æ­ç¤º5ä¸ªç»è¿‡éªŒè¯çš„Pandasé«˜çº§æŠ€å·§ï¼Œè¿™äº›æŠ€æœ¯åœ¨å®é™…é¡¹ç›®ä¸­å¯å°†æ•°æ®å¤„ç†é€Ÿåº¦æå‡é«˜è¾¾50%ï¼Œç”šè‡³æ›´å¤šã€‚</p>
<h2 data-id="heading-2">1. å‘é‡åŒ–æ“ä½œæ›¿ä»£å¾ªç¯</h2>
<h3 data-id="heading-3">é—®é¢˜èƒŒæ™¯</h3>
<p>æ–°æ‰‹æœ€å¸¸è§çš„æ€§èƒ½é™·é˜±æ˜¯ä½¿ç”¨PythonåŸç”Ÿå¾ªç¯ï¼ˆå¦‚<code>for</code>å¾ªç¯ï¼‰æ¥å¤„ç†DataFrameä¸­çš„æ•°æ®ã€‚ç”±äºPandasæ˜¯åŸºäºNumPyæ„å»ºçš„ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šäº§ç”Ÿé¢å¤–çš„ç±»å‹æ£€æŸ¥å’Œå‡½æ•°è°ƒç”¨å¼€é”€ã€‚</p>
<h3 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h3>
<p>åˆ©ç”¨NumPyçš„å‘é‡åŒ–æ“ä½œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½æ•ˆæ–¹å¼</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(df)):
    df.loc[i, <span class="hljs-string">'new_col'</span>] = df.loc[i, <span class="hljs-string">'col1'</span>] * df.loc[i, <span class="hljs-string">'col2'</span>]

<span class="hljs-comment"># é«˜æ•ˆæ–¹å¼ï¼ˆæé€Ÿ100å€ä»¥ä¸Šï¼‰</span>
df[<span class="hljs-string">'new_col'</span>] = df[<span class="hljs-string">'col1'</span>] * df[<span class="hljs-string">'col2'</span>]
</code></pre>
<h3 data-id="heading-5">è¿›é˜¶æŠ€å·§</h3>
<p>å¯¹äºå¤æ‚é€»è¾‘ï¼Œå¯ä»¥ä½¿ç”¨<code>np.where()</code>æˆ–<code>np.select()</code>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

conditions = [df[<span class="hljs-string">'score'</span>] &gt;= <span class="hljs-number">90</span>, df[<span class="hljs-string">'score'</span>] &gt;= <span class="hljs-number">80</span>]
choices = [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>]
df[<span class="hljs-string">'grade'</span>] = np.select(conditions, choices, default=<span class="hljs-string">'C'</span>)
</code></pre>
<h2 data-id="heading-6">2. eval()ä¸query()çš„é«˜æ•ˆæŸ¥è¯¢</h2>
<h3 data-id="heading-7">æ€§èƒ½åŸç†</h3>
<p><code>pd.eval()</code>å’Œ<code>DataFrame.query()</code>ä½¿ç”¨Numexprå¼•æ“åœ¨åº•å±‚è¿›è¡Œä¼˜åŒ–ï¼Œå¯ä»¥é¿å…ä¸­é—´å˜é‡çš„åˆ›å»ºï¼Œç‰¹åˆ«é€‚ç”¨äºå¤§å‹æ•°æ®é›†ã€‚</p>
<h3 data-id="heading-8">å®æµ‹å¯¹æ¯”</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ ç»Ÿæ–¹å¼ï¼ˆå†…å­˜å ç”¨é«˜ï¼‰</span>
mask = (df[<span class="hljs-string">'col1'</span>] &gt; <span class="hljs-number">0.5</span>) &amp; (df[<span class="hljs-string">'col2'</span>].isin([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]))
result = df[mask]

<span class="hljs-comment"># evalä¼˜åŒ–ï¼ˆå†…å­˜å‡å°‘40%ï¼‰</span>
result = df.<span class="hljs-built_in">eval</span>(<span class="hljs-string">"col1 &gt; 0.5 and col2 in [1,2,3]"</span>)

<span class="hljs-comment"># queryè¯­æ³•æ›´ç®€æ´</span>
result = df.query(<span class="hljs-string">"col1 &gt; 0.5 and col2 in [1,2,3]"</span>)
</code></pre>
<h3 data-id="heading-9">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>DataFrameåˆ—æ•° &gt;50æ—¶ä¼˜åŠ¿æ˜æ˜¾</li>
<li>å¤æ‚å¸ƒå°”è¿ç®—æ¡ä»¶è¶…è¿‡3ä¸ªæ—¶</li>
</ul>
<h2 data-id="heading-10">3. categoryç±»å‹çš„æ™ºèƒ½åº”ç”¨</h2>
<h3 data-id="heading-11">å†…å­˜ä¼˜åŒ–åŸç†</h3>
<p>å¯¹äºä½åŸºæ•°ï¼ˆlow-cardinalityï¼‰åˆ—ï¼ˆå¦‚æ€§åˆ«ã€å›½å®¶ä»£ç ç­‰ï¼‰ï¼Œå°†objectç±»å‹è½¬æ¢ä¸ºcategoryç±»å‹å¯èŠ‚çœå¤šè¾¾95%çš„å†…å­˜ã€‚</p>
<h3 data-id="heading-12">å®é™…æ“ä½œç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰å†…å­˜ä½¿ç”¨æƒ…å†µ</span>
df.info(memory_usage=<span class="hljs-string">'deep'</span>)

<span class="hljs-comment"># è½¬æ¢categoryç±»å‹</span>
cat_cols = [<span class="hljs-string">'gender'</span>, <span class="hljs-string">'country_code'</span>, <span class="hljs-string">'product_type'</span>]
df[cat_cols] = df[cat_cols].astype(<span class="hljs-string">'category'</span>)

<span class="hljs-comment"># groupbyæ“ä½œåŠ é€Ÿ30%-70%</span>
df.groupby(<span class="hljs-string">'product_type'</span>).mean()
</code></pre>
<h3 data-id="heading-13">Pro Tipï¼š</h3>
<p>è®¾ç½®æœ‰åºåˆ†ç±»å¯è¿›ä¸€æ­¥æå‡æ’åºæ€§èƒ½ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pandas.api.types <span class="hljs-keyword">import</span> CategoricalDtype

cat_type = CategoricalDtype(
    categories=[<span class="hljs-string">'low'</span>, <span class="hljs-string">'medium'</span>, <span class="hljs-string">'high'</span>],
    ordered=<span class="hljs-literal">True</span>)
df[<span class="hljs-string">'priority'</span>] = df[<span class="hljs-string">'priority'</span>].astype(cat_type)
</code></pre>
<h2 data-id="heading-14">4. merge vs join vs concatçš„é€‰æ‹©è‰ºæœ¯</h2>
<p>ä¸åŒåˆå¹¶æ“ä½œçš„æ€§èƒ½å·®å¼‚å¯è¾¾10å€ï¼š</p>

























<table><thead><tr><th>Operation</th><th>Best For</th><th>Time Complexity</th></tr></thead><tbody><tr><td>merge</td><td>SQLé£æ ¼è¿æ¥</td><td>O(n log n)</td></tr><tr><td>join</td><td>indexå¯¹é½</td><td>O(1)</td></tr><tr><td>concat</td><td>ç®€å•å †å </td><td>O(n)</td></tr></tbody></table>
<h3 data-id="heading-15">mergeä¼˜åŒ–æŠ€å·§ï¼š</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Bad - howå‚æ•°é»˜è®¤å€¼å¯èƒ½è§¦å‘ç¬›å¡å°”ç§¯è®¡ç®—é€Ÿåº¦æ…¢100å€ </span>
pd.merge(left_df, right_df)

<span class="hljs-comment"># Good - </span>
pd.merge(left_df, right_df,
         on=<span class="hljs-string">'key'</span>,
         validate=<span class="hljs-string">'one_to_one'</span>) <span class="hljs-comment">#æ·»åŠ çº¦æŸæ£€æŸ¥é˜²æ­¢æ„å¤–ç¬›å¡å°”ç§¯</span>
    
<span class="hljs-comment"># Better - sort=Falseæé€Ÿ25%</span>
pd.merge(left_df.sort_values(<span class="hljs-string">'key'</span>), 
         right_df.sort_values(<span class="hljs-string">'key'</span>),
         on=<span class="hljs-string">'key'</span>,
         sort=<span class="hljs-literal">False</span>)
</code></pre>
<h2 data-id="heading-16">NumbaåŠ é€Ÿæ•°å€¼è®¡ç®—</h2>
<p>å¯¹äºæ— æ³•å‘é‡åŒ–çš„å¤æ‚è®¡ç®—ï¼ŒNumbaå¯ä»¥å¸¦æ¥æƒŠäººçš„åŠ é€Ÿæ•ˆæœï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> numba <span class="hljs-keyword">import</span> jit

<span class="hljs-meta">@jit(<span class="hljs-params">nopython=<span class="hljs-literal">True</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">complex_calculation</span>(<span class="hljs-params">a, b</span>):
    <span class="hljs-comment"># Some complex logic that can't be vectorized...</span>
    <span class="hljs-keyword">return</span> result
    
df[<span class="hljs-string">'result'</span>] = complex_calculation(df[<span class="hljs-string">'a'</span>].values, df[<span class="hljs-string">'b'</span>].values)
</code></pre>
<p>æµ‹è¯•æ¡ˆä¾‹ï¼šè’™ç‰¹å¡æ´›æ¨¡æ‹Ÿé€Ÿåº¦æå‡200å€ï¼</p>
<h2 data-id="heading-17">Chunk Processingå¤„ç†è¶…å¤§æ•°æ®é›†</h2>
<p>å½“æ•°æ®é‡è¶…è¿‡å†…å­˜å®¹é‡æ—¶ï¼š</p>
<pre><code class="hljs language-python" lang="python">chunk_size = <span class="hljs-built_in">int</span>(<span class="hljs-number">1e6</span>) <span class="hljs-comment"># ~100MB chunksé€‚åˆå¤§å¤šæ•°æœºå™¨å†…å­˜é…ç½® </span>
results = []

<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> pd.read_csv(<span class="hljs-string">'huge_file.csv.gz'</span>,
                         chunksize=chunk_size,
                         dtype=optimized_dtypes):
    processed_chunk = process(chunk)
    results.append(processed_chunk)

final_result = pd.concat(results)    
</code></pre>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li><code>dtype</code>å‚æ•°é¢„å…ˆæŒ‡å®šå¯ä»¥å‡å°‘50%+çš„å†…å­˜ä½¿ç”¨ï¼›</li>
<li><code>parse_dates</code>å‚æ•°åªè§£æçœŸæ­£éœ€è¦çš„æ—¥æœŸåˆ—ï¼›</li>
<li><code>usecols</code>å‚æ•°åªåŠ è½½å¿…è¦åˆ—ï¼›</li>
</ul>
<h2 data-id="heading-18">Daskå¹¶è¡Œå¤„ç†ç»ˆææ–¹æ¡ˆ</h2>
<p>å½“å•æœºå¤„ç†è¾¾åˆ°æé™æ—¶ï¼šDaskæä¾›äº†ç±»Pandas APIä½†æ”¯æŒåˆ†å¸ƒå¼è®¡ç®—ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> dask.dataframe <span class="hljs-keyword">as</span> dd

ddf = dd.read_csv(<span class="hljs-string">'s3://bucket/*.csv'</span>,
                  blocksize=<span class="hljs-string">"256MB"</span>) 

result_ddf = ddf.groupby(<span class="hljs-string">'user_id'</span>).agg({
    <span class="hljs-string">'value'</span>: [<span class="hljs-string">'sum'</span>,<span class="hljs-string">'mean'</span>,<span class="hljs-string">'std'</span>]
}).compute(num_workers=<span class="hljs-number">8</span>) <span class="hljs-comment">#è‡ªåŠ¨å¹¶è¡ŒåŒ–è®¡ç®—ï¼</span>
</code></pre>
<p>å…³é”®ä¼˜åŠ¿ï¼š
âœ”ï¸å»¶è¿Ÿè®¡ç®—æ„å»ºæ‰§è¡Œå›¾<br/>
âœ”ï¸è‡ªåŠ¨ä»»åŠ¡è°ƒåº¦<br/>
âœ”ï¸å†…å­˜æº¢å‡ºæ—¶è‡ªåŠ¨å†™å…¥ç£ç›˜</p>
<h2 data-id="heading-19">Pandasæ€§èƒ½ç›‘æ§å·¥å…·é“¾æ¨è</h2>
<p>ä¸“ä¸šå¼€å‘è€…å¿…å¤‡å·¥å…·åŒ…ï¼š</p>
<pre><code class="hljs language-css" lang="css">pip install line_profiler memory_profiler snakeviz pyinstrument psutil scipy matplotlib seaborn tabulate tqdm pandarallel swifter modin dask<span class="hljs-selector-attr">[complete]</span>
</code></pre>
<p>å¸¸ç”¨ç»„åˆï¼š</p>
<pre><code class="hljs language-css" lang="css">kernprof -l script<span class="hljs-selector-class">.py</span> &amp;&amp; python -m line_profiler script<span class="hljs-selector-class">.py</span><span class="hljs-selector-class">.lprof</span>  
mprof run <span class="hljs-attr">--include-children</span> script<span class="hljs-selector-class">.py</span> &amp;&amp; mprof plot  
snakeviz profiling_results<span class="hljs-selector-class">.prof</span>  
pyinstrument -r <span class="hljs-selector-tag">html</span> script<span class="hljs-selector-class">.py</span>  
</code></pre>
<h2 data-id="heading-20">DataFrameè®¾è®¡æ¨¡å¼æœ€ä½³å®è·µæ€»ç»“è¡¨æ ¼</h2>



































<table><thead><tr><th>Pattern</th><th>Use When...</th><th>Speed Gain</th></tr></thead><tbody><tr><td>Column-wise ops</td><td>Uniform calculations across rows</td><td>+100x</td></tr><tr><td>eval/query</td><td>Complex boolean filtering</td><td>+5-20x</td></tr><tr><td>Category dtype</td><td>Low cardinality strings</td><td>+10x mem</td></tr><tr><td>Merge hints</td><td>Large table joins</td><td>+10x</td></tr><tr><td>Numba</td><td>Custom numeric functions</td><td>+100x+</td></tr></tbody></table>
<p>è®°ä½é»„é‡‘æ³•åˆ™ï¼š<strong>å…ˆprofileå†ä¼˜åŒ–</strong>ï¼ä¸åŒåœºæ™¯ä¸‹æœ€ä¼˜ç­–ç•¥å¯èƒ½å®Œå…¨ä¸åŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€MySQLæ€§èƒ½ä¼˜åŒ–ã€‘- MySQL8.0å®šæ—¶åˆ é™¤æ•°æ®]]></title>    <link>https://juejin.cn/post/7596250622708367395</link>    <guid>https://juejin.cn/post/7596250622708367395</guid>    <pubDate>2026-01-19T04:09:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596250622708367395" data-draft-id="7596342451348701224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€MySQLæ€§èƒ½ä¼˜åŒ–ã€‘- MySQL8.0å®šæ—¶åˆ é™¤æ•°æ®"/> <meta itemprop="keywords" content="åç«¯,MySQL"/> <meta itemprop="datePublished" content="2026-01-19T04:09:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€’æ”¾å§å¾·å¾·"/> <meta itemprop="url" content="https://juejin.cn/user/2502950820787672"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€MySQLæ€§èƒ½ä¼˜åŒ–ã€‘- MySQL8.0å®šæ—¶åˆ é™¤æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2502950820787672/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€’æ”¾å§å¾·å¾·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T04:09:50.000Z" title="Mon Jan 19 2026 04:09:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">MySQL8.0å®šæ—¶åˆ é™¤æ•°æ®ï¼šå†…ç½®è°ƒåº¦å™¨vsWindowsä»»åŠ¡è®¡åˆ’ç¨‹åº</h2>
<blockquote>
<p>ğŸ˜„ç”Ÿå‘½ä¸æ¯ï¼Œå†™ä½œä¸æ­¢</p>
<p>ğŸ”¥ ç»§ç»­è¸ä¸Šå­¦ä¹ ä¹‹è·¯ï¼Œå­¦ä¹‹åˆ†äº«ç¬”è®°</p>
<p>ğŸ‘Š æ€»æœ‰ä¸€å¤©æˆ‘ä¹Ÿèƒ½åƒå„ä½å¤§ä½¬ä¸€æ ·</p>
<p>ğŸ† <a href="https://juejin.cn/user/2502950820787672" target="_blank" title="https://juejin.cn/user/2502950820787672">åšå®¢é¦–é¡µ</a> Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Flyd-code%2F" target="_blank" title="https://www.cnblogs.com/lyd-code/" ref="nofollow noopener noreferrer">@æ€’æ”¾å§å¾·å¾·</a>Â Â <a href="https://link.juejin.cn?target=https%3A%2F%2Flydandtry.github.io%2F" target="_blank" title="https://lydandtry.github.io/" ref="nofollow noopener noreferrer">Toè®°å½•é¢†åœ°</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fqq_43843951%3Ftype%3Dblog" target="_blank" title="https://blog.csdn.net/qq_43843951?type=blog" ref="nofollow noopener noreferrer">@ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</a></p>
<p>ğŸŒåˆ†äº«å­¦ä¹ å¿ƒå¾—ï¼Œæ¬¢è¿æŒ‡æ­£ï¼Œå¤§å®¶ä¸€èµ·å­¦ä¹ æˆé•¿ï¼</p>
</blockquote>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾·(æ˜é‡‘) @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº(CSDN)</strong></p>
<p>åœ¨Javaå¼€å‘ä¸­ï¼Œæ—¥å¿—è¡¨ã€æµæ°´è¡¨ç­‰ä¸šåŠ¡è¡¨ä¼šéšæ—¶é—´å¿«é€Ÿè†¨èƒ€ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®ï¼ˆå¦‚åˆ é™¤30å¤©å‰æ•°æ®ï¼‰æ˜¯ä¿éšœæ•°æ®åº“æ€§èƒ½çš„å¸¸è§„æ“ä½œã€‚æœ¬æ–‡é’ˆå¯¹MySQL8.0ç¯å¢ƒï¼Œè¯¦ç»†è®²è§£ä¸¤ç§å®šæ—¶åˆ é™¤æ–¹æ¡ˆâ€”â€”MySQLå†…ç½®äº‹ä»¶è°ƒåº¦å™¨ã€Windowsä»»åŠ¡è®¡åˆ’ç¨‹åºï¼ŒåŒ…å«å®Œæ•´å®æ“æ­¥éª¤ï¼Œå¹¶å¯¹æ¯”ä¸¤è€…ä¼˜ç¼ºç‚¹ï¼Œå¸®ä½ å¿«é€Ÿé€‰å‹ã€‚</p>
<h3 data-id="heading-1">1ã€æ ¸å¿ƒéœ€æ±‚æ˜ç¡®</h3>
<ul>
<li>
<p>æ“ä½œå¯¹è±¡ï¼šMySQL8.0ç‰¹å®šä¸šåŠ¡è¡¨ï¼ˆæœ¬æ–‡ä»¥<code>operation_log</code>è¡¨ä¸ºä¾‹ï¼Œæ—¶é—´å­—æ®µä¸º<code>create_time</code>ï¼ˆDATETIMEç±»å‹ï¼‰ï¼‰</p>
</li>
<li>
<p>æ‰§è¡Œé€»è¾‘ï¼šæŒ‰è‡ªå®šä¹‰SQLåˆ é™¤30å¤©å‰æ•°æ®ï¼ˆ<code>DELETE FROM operation_log WHERE create_time &lt; DATE_SUB(NOW(), INTERVAL 30 DAY)</code>ï¼‰</p>
</li>
<li>
<p>æ‰§è¡Œé¢‘ç‡ï¼šæ¯å¤©å‡Œæ™¨12ç‚¹ï¼ˆ00:00:00ï¼‰å®šæ—¶æ‰§è¡Œ</p>
</li>
<li>
<p>å®ç°æ–¹æ¡ˆï¼šåˆ†åˆ«åŸºäºMySQLå†…ç½®è°ƒåº¦å™¨ã€Windowsä»»åŠ¡è®¡åˆ’ç¨‹åºå®ç°</p>
</li>
</ul>
<h3 data-id="heading-2">2ã€æ–¹æ¡ˆä¸€ï¼šMySQLå†…ç½®äº‹ä»¶è°ƒåº¦å™¨ï¼ˆçº¯æ•°æ®åº“å±‚é¢å®ç°ï¼‰</h3>
<p>MySQL8.0è‡ªå¸¦äº‹ä»¶è°ƒåº¦å™¨ï¼ˆEvent Schedulerï¼‰ï¼Œæ— éœ€ä¾èµ–å¤–éƒ¨å·¥å…·ï¼Œç›´æ¥åœ¨æ•°æ®åº“å†…å®Œæˆå®šæ—¶ä»»åŠ¡é…ç½®ï¼Œé€‚åˆçº¯SQLæ“ä½œåœºæ™¯ã€‚</p>
<h4 data-id="heading-3">2.1 å¼€å¯äº‹ä»¶è°ƒåº¦å™¨</h4>
<p>MySQLäº‹ä»¶è°ƒåº¦å™¨é»˜è®¤å…³é—­ï¼Œéœ€æ‰‹åŠ¨å¼€å¯ï¼Œåˆ†ä¸ºä¸´æ—¶å¼€å¯ï¼ˆé‡å¯å¤±æ•ˆï¼‰å’Œæ°¸ä¹…å¼€å¯ï¼ˆé‡å¯ç”Ÿæ•ˆï¼‰ä¸¤ç§æ–¹å¼ã€‚</p>
<h5 data-id="heading-4">ï¼ˆ1ï¼‰ä¸´æ—¶å¼€å¯ï¼ˆæµ‹è¯•ç¯å¢ƒå¿«é€ŸéªŒè¯ï¼‰</h5>
<p>ç™»å½•MySQLå®¢æˆ·ç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- æŸ¥çœ‹è°ƒåº¦å™¨çŠ¶æ€ï¼ˆVALUEä¸ºONè¡¨ç¤ºå¼€å¯ï¼ŒOFFè¡¨ç¤ºå…³é—­ï¼‰</span>
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'event_scheduler'</span>;
<span class="hljs-comment">-- ä¸´æ—¶å¼€å¯è°ƒåº¦å™¨ï¼ˆMySQLé‡å¯åå¤±æ•ˆï¼‰</span>
<span class="hljs-keyword">SET</span> <span class="hljs-keyword">GLOBAL</span> event_scheduler <span class="hljs-operator">=</span> <span class="hljs-keyword">ON</span>;
</code></pre>
<h5 data-id="heading-5">ï¼ˆ2ï¼‰æ°¸ä¹…å¼€å¯ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</h5>
<p>ä¿®æ”¹MySQLé…ç½®æ–‡ä»¶<code>my.ini</code>ï¼ˆWindowsç¯å¢ƒï¼Œé€šå¸¸åœ¨MySQLå®‰è£…ç›®å½•ä¸‹ï¼‰ï¼Œåœ¨<code>[mysqld]</code>èŠ‚ç‚¹ä¸‹æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
<span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">event_scheduler</span> = <span class="hljs-literal">ON</span>
</code></pre>
<p>ä¿å­˜åé‡å¯MySQLæœåŠ¡ï¼Œå†æ¬¡æ‰§è¡Œ<code>SHOW VARIABLES LIKE 'event_scheduler';</code>éªŒè¯çŠ¶æ€ã€‚</p>
<h4 data-id="heading-6">2.2 æˆäºˆäº‹ä»¶æƒé™ï¼ˆå¿…è¦å‰æï¼‰</h4>
<p>æ‰§è¡Œäº‹ä»¶çš„MySQLç”¨æˆ·éœ€å…·å¤‡<code>EVENT</code>æƒé™ï¼Œå¦åˆ™æ— æ³•åˆ›å»ºå’Œæ‰§è¡Œäº‹ä»¶ã€‚ä»¥<code>root</code>ç”¨æˆ·ä¸ºä¾‹ï¼Œæˆäºˆæƒé™çš„SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- æˆäºˆtest_userç”¨æˆ·æ‰€æœ‰åº“è¡¨çš„EVENTæƒé™ï¼ˆå¯æ ¹æ®éœ€æ±‚ç¼©å°èŒƒå›´ï¼‰</span>
<span class="hljs-keyword">GRANT</span> EVENT <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'test_user'</span>@<span class="hljs-string">'localhost'</span>;
<span class="hljs-comment">-- åˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<h4 data-id="heading-7">2.3 åˆ›å»ºå®šæ—¶äº‹ä»¶ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</h4>
<p>æ‰§è¡Œä»¥ä¸‹SQLåˆ›å»ºäº‹ä»¶ï¼Œå®ç°æ¯å¤©å‡Œæ™¨12ç‚¹åˆ é™¤30å¤©å‰æ•°æ®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-keyword">CREATE</span> EVENT IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> delete_30days_ago_data
<span class="hljs-keyword">ON</span> SCHEDULE <span class="hljs-keyword">EVERY</span> <span class="hljs-number">1</span> <span class="hljs-keyword">DAY</span> STARTS DATE_FORMAT(NOW() <span class="hljs-operator">+</span> <span class="hljs-type">INTERVAL</span> <span class="hljs-number">1</span> <span class="hljs-keyword">DAY</span>, <span class="hljs-string">'%Y-%m-%d 00:00:00'</span>)
<span class="hljs-keyword">ON</span> COMPLETION PRESERVE
ENABLE
COMMENT <span class="hljs-string">'æ¯å¤©å‡Œæ™¨00:00åˆ é™¤operation_logè¡¨30å¤©å‰çš„æ•°æ®'</span>
DO
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> operation_log <span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&lt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">30</span> <span class="hljs-keyword">DAY</span>);
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li>
<p><code>IF NOT EXISTS</code>ï¼šé¿å…é‡å¤åˆ›å»ºäº‹ä»¶</p>
</li>
<li>
<p><code>ON SCHEDULE EVERY 1 DAY</code>ï¼šè®¾ç½®æ‰§è¡Œé¢‘ç‡ä¸ºæ¯å¤©ä¸€æ¬¡</p>
</li>
<li>
<p><code>STARTS ...</code>ï¼šæŒ‡å®šé¦–æ¬¡æ‰§è¡Œæ—¶é—´ä¸ºæ¬¡æ—¥å‡Œæ™¨00:00ï¼ˆè‹¥éœ€å½“æ—¥ç”Ÿæ•ˆï¼Œå¯è°ƒæ•´ä¸º<code>CURRENT_DATE + INTERVAL 1 DAY</code>ï¼‰</p>
</li>
<li>
<p><code>ON COMPLETION PRESERVE</code>ï¼šäº‹ä»¶æ‰§è¡Œå®Œæˆåä¿ç•™ï¼ˆé»˜è®¤ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œéœ€æ˜¾å¼æŒ‡å®šä¿ç•™ï¼‰</p>
</li>
<li>
<p><code>ENABLE</code>ï¼šåˆ›å»ºåç«‹å³å¯ç”¨äº‹ä»¶ï¼ˆå¯è®¾ä¸º<code>DISABLE</code>æš‚ä¸å¯ç”¨ï¼‰</p>
</li>
</ul>
<h4 data-id="heading-8">2.4 äº‹ä»¶ç®¡ç†ä¸æ’æŸ¥</h4>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- æŸ¥çœ‹æ‰€æœ‰äº‹ä»¶</span>
<span class="hljs-keyword">SHOW</span> EVENTS;
<span class="hljs-comment">-- æŸ¥çœ‹ç‰¹å®šäº‹ä»¶è¯¦æƒ…ï¼ˆä»information_schemaè¡¨æŸ¥è¯¢ï¼‰</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> information_schema.EVENTS <span class="hljs-keyword">WHERE</span> EVENT_NAME <span class="hljs-operator">=</span> <span class="hljs-string">'delete_30days_ago_data'</span>;
<span class="hljs-comment">-- æš‚åœäº‹ä»¶</span>
<span class="hljs-keyword">ALTER</span> EVENT delete_30days_ago_data DISABLE;
<span class="hljs-comment">-- å¯ç”¨äº‹ä»¶</span>
<span class="hljs-keyword">ALTER</span> EVENT delete_30days_ago_data ENABLE;
<span class="hljs-comment">-- åˆ é™¤äº‹ä»¶</span>
<span class="hljs-keyword">DROP</span> EVENT IF <span class="hljs-keyword">EXISTS</span> delete_30days_ago_data;
</code></pre>
<p>æ•…éšœæ’æŸ¥ï¼šäº‹ä»¶æ‰§è¡Œå¤±è´¥æ—¶ï¼Œé”™è¯¯ä¿¡æ¯ä¼šè®°å½•åˆ°MySQLé”™è¯¯æ—¥å¿—ï¼ˆé€šå¸¸åœ¨<code>data</code>ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åå¦‚<code>DESKTOP-XXX.err</code>ï¼‰ï¼Œå¯é€šè¿‡æ—¥å¿—å®šä½é—®é¢˜ï¼ˆå¦‚SQLè¯­æ³•é”™è¯¯ã€æƒé™ä¸è¶³ï¼‰ã€‚</p>
<h3 data-id="heading-9">3ã€æ–¹æ¡ˆäºŒï¼šWindowsä»»åŠ¡è®¡åˆ’ç¨‹åºï¼ˆå¤–éƒ¨ç³»ç»Ÿå±‚é¢å®ç°ï¼‰</h3>
<p>é€šè¿‡Windowsä»»åŠ¡è®¡åˆ’ç¨‹åºå®šæ—¶è°ƒç”¨MySQLå‘½ä»¤è¡Œå·¥å…·ï¼Œæ‰§è¡Œé¢„è®¾çš„SQLè„šæœ¬ï¼Œé€‚åˆéœ€ç»“åˆå¤–éƒ¨é€»è¾‘ï¼ˆå¦‚æ‰§è¡Œåå‘é‚®ä»¶ã€å¤‡ä»½æ–‡ä»¶ï¼‰çš„åœºæ™¯ï¼Œçµæ´»æ€§æ›´é«˜ã€‚</p>
<h4 data-id="heading-10">3.1 å‡†å¤‡SQLè„šæœ¬</h4>
<p>åˆ›å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œå‘½åä¸º<code>delete_expired_data.sql</code>ï¼Œå†™å…¥åˆ é™¤é€»è¾‘ï¼ˆæŒ‡å®šæ•°æ®åº“ï¼Œé¿å…åˆ‡æ¢ä¸Šä¸‹æ–‡ï¼‰ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- delete_expired_data.sql</span>
USE test_db; <span class="hljs-comment">-- æ›¿æ¢ä¸ºå®é™…æ•°æ®åº“å</span>
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> operation_log <span class="hljs-keyword">WHERE</span> create_time <span class="hljs-operator">&lt;</span> DATE_SUB(NOW(), <span class="hljs-type">INTERVAL</span> <span class="hljs-number">30</span> <span class="hljs-keyword">DAY</span>);
EXIT;
</code></pre>
<p>å°†è„šæœ¬ä¿å­˜è‡³æŒ‡å®šè·¯å¾„ï¼ˆå¦‚<code>D:\MySQL_Tasks\delete_expired_data.sql</code>ï¼‰ã€‚</p>
<h4 data-id="heading-11">3.2 åˆ›å»ºæ‰¹å¤„ç†æ–‡ä»¶ï¼ˆè°ƒç”¨MySQLæ‰§è¡Œè„šæœ¬ï¼‰</h4>
<p>åˆ›å»ºæ–‡æœ¬æ–‡ä»¶ï¼Œå‘½åä¸º<code>run_delete_task.bat</code>ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼ˆé€‚é…Windowsç¯å¢ƒï¼Œéœ€æ›¿æ¢MySQLå®‰è£…è·¯å¾„ã€ç”¨æˆ·åã€å¯†ç ï¼‰ï¼š</p>
<pre><code class="hljs language-batch" lang="batch">
@echo off
:: å…³é—­å‘½ä»¤è¡Œè¾“å‡ºï¼ˆå¯é€‰ï¼Œå¦‚éœ€è°ƒè¯•å¯åˆ é™¤ï¼‰
:: MySQLå®‰è£…è·¯å¾„ä¸‹çš„binç›®å½•ï¼ˆæ›¿æ¢ä¸ºå®é™…è·¯å¾„ï¼‰
set MYSQL_PATH=C:\Program Files\MySQL\MySQL Server 8.0\bin
:: æ‰§è¡ŒSQLè„šæœ¬ï¼ˆ-uç”¨æˆ·å -på¯†ç  æ•°æ®åº“å &lt; è„šæœ¬è·¯å¾„ï¼‰
"%MYSQL_PATH%\mysql.exe" -u test_user -ptest_password test_db &lt; D:\MySQL_Tasks\delete_expired_data.sql
:: è‹¥éœ€æ—¥å¿—è®°å½•ï¼Œå¯æ·»åŠ ä»¥ä¸‹è¯­å¥ï¼ˆè®°å½•æ‰§è¡Œæ—¶é—´å’Œç»“æœï¼‰
echo %date% %time% æ‰§è¡Œå®Œæˆ &gt;&gt; D:\MySQL_Tasks\delete_task_log.txt
</code></pre>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>
<p>å¯†ç ä¸<code>-p</code>ä¹‹é—´æ— ç©ºæ ¼ï¼ˆå¦‚<code>-ptest_password</code>ï¼Œé<code>-p test_password</code>ï¼‰</p>
</li>
<li>
<p>è‹¥ä¸æƒ³æ˜æ–‡æš´éœ²å¯†ç ï¼Œå¯å°†ç”¨æˆ·åã€å¯†ç å†™å…¥MySQLé…ç½®æ–‡ä»¶<code>my.ini</code>çš„<code>[client]</code>èŠ‚ç‚¹ï¼Œç®€åŒ–å‘½ä»¤ä¸º<code>"%MYSQL_PATH%\mysql.exe" --defaults-extra-file="C:\Program Files\MySQL\MySQL Server 8.0\my.ini" test_db &lt; è„šæœ¬è·¯å¾„</code></p>
</li>
</ul>
<h4 data-id="heading-12">3.3 é…ç½®Windowsä»»åŠ¡è®¡åˆ’ç¨‹åº</h4>
<ol>
<li>
<p>æ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åºï¼šæŒ‰<code>Win+R</code>è¾“å…¥<code>taskschd.msc</code>ï¼Œå›è½¦å¯åŠ¨ã€‚</p>
</li>
<li>
<p>åˆ›å»ºåŸºæœ¬ä»»åŠ¡ï¼šç‚¹å‡»å³ä¾§â€œåˆ›å»ºåŸºæœ¬ä»»åŠ¡â€ï¼Œè¾“å…¥ä»»åŠ¡åç§°ï¼ˆå¦‚â€œMySQLå®šæ—¶åˆ é™¤30å¤©å‰æ•°æ®â€ï¼‰å’Œæè¿°ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p>è®¾ç½®è§¦å‘å™¨ï¼šé€‰æ‹©â€œæ¯å¤©â€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼›è®¾ç½®å¼€å§‹æ—¶é—´ä¸ºâ€œ00:00:00â€ï¼Œæ‰§è¡Œé¢‘ç‡ä¸ºâ€œæ¯å¤©â€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p>è®¾ç½®æ“ä½œï¼šé€‰æ‹©â€œå¯åŠ¨ç¨‹åºâ€ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ï¼›â€œç¨‹åºæˆ–è„šæœ¬â€é€‰æ‹©å‰æ–‡åˆ›å»ºçš„<code>run_delete_task.bat</code>è·¯å¾„ï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li>
<p>å®Œæˆé…ç½®ï¼šå‹¾é€‰â€œå½“å•å‡»å®Œæˆæ—¶ï¼Œæ‰“å¼€æ­¤ä»»åŠ¡çš„å±æ€§å¯¹è¯æ¡†â€ï¼Œç‚¹å‡»å®Œæˆã€‚</p>
</li>
<li>
<p>è¡¥å……å±æ€§ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼šåœ¨å±æ€§çª—å£ä¸­ï¼Œåˆ‡æ¢åˆ°â€œæ¡ä»¶â€é€‰é¡¹å¡ï¼Œå‹¾é€‰â€œå”¤é†’è®¡ç®—æœºè¿è¡Œæ­¤ä»»åŠ¡â€ï¼ˆé¿å…æœåŠ¡å™¨ä¼‘çœ å¯¼è‡´ä»»åŠ¡ä¸æ‰§è¡Œï¼‰ï¼›åˆ‡æ¢åˆ°â€œè®¾ç½®â€é€‰é¡¹å¡ï¼Œå‹¾é€‰â€œä»»åŠ¡å¤±è´¥æ—¶é‡æ–°å¯åŠ¨â€ï¼ˆæå‡å¯é æ€§ï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-13">4ã€ä¸¤ç§æ–¹æ¡ˆä¼˜ç¼ºç‚¹å¯¹æ¯”</h3>













































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>MySQLå†…ç½®äº‹ä»¶è°ƒåº¦å™¨</th><th>Windowsä»»åŠ¡è®¡åˆ’ç¨‹åº</th></tr></thead><tbody><tr><td>ä¾èµ–ç¯å¢ƒ</td><td>æ— å¤–éƒ¨ä¾èµ–ï¼Œä»…ä¾èµ–MySQLæœåŠ¡ï¼Œéƒ¨ç½²ç®€æ´</td><td>ä¾èµ–Windowsç³»ç»Ÿï¼Œéœ€é¢å¤–ç»´æŠ¤æ‰¹å¤„ç†ã€SQLè„šæœ¬</td></tr><tr><td>çµæ´»æ€§</td><td>ä»…æ”¯æŒSQL/å­˜å‚¨è¿‡ç¨‹ï¼Œæ— æ³•æ‰§è¡Œå¤–éƒ¨æ“ä½œï¼ˆå¦‚å‘é‚®ä»¶ã€å¤‡ä»½æ–‡ä»¶ï¼‰</td><td>çµæ´»æ€§é«˜ï¼Œå¯ç»“åˆæ‰¹å¤„ç†ã€Javaè„šæœ¬ç­‰ï¼Œå®ç°å¤æ‚é€»è¾‘ï¼ˆå¦‚æ‰§è¡Œåé€šçŸ¥ã€å¤‡ä»½æ•°æ®ï¼‰</td></tr><tr><td>æ€§èƒ½æŸè€—</td><td>ç›´æ¥åœ¨æ•°æ®åº“å†…æ‰§è¡Œï¼Œæ— å¤–éƒ¨è¿›ç¨‹äº¤äº’å¼€é”€ï¼Œæ€§èƒ½æ›´ä¼˜</td><td>éœ€å¯åŠ¨MySQLå®¢æˆ·ç«¯è¿›ç¨‹ï¼Œå­˜åœ¨è½»å¾®å¤–éƒ¨å¼€é”€</td></tr><tr><td>æƒé™ç®¡ç†</td><td>ä»…éœ€MySQLçš„EVENTæƒé™ï¼Œæƒé™ç®¡æ§é›†ä¸­åœ¨æ•°æ®åº“å±‚é¢</td><td>éœ€Windowsç³»ç»Ÿæƒé™ï¼ˆæ‰§è¡Œæ‰¹å¤„ç†ã€è®¿é—®MySQLè·¯å¾„ï¼‰ï¼Œæƒé™ç®¡ç†åˆ†æ•£</td></tr><tr><td>æ•…éšœæ’æŸ¥</td><td>é”™è¯¯ä¿¡æ¯ä»…è®°å½•åœ¨MySQLé”™è¯¯æ—¥å¿—ï¼Œæ’æŸ¥éœ€ç†Ÿæ‚‰æ•°æ®åº“æ—¥å¿—</td><td>å¯è‡ªå®šä¹‰æ—¥å¿—è®°å½•ï¼Œç»“åˆWindowsäº‹ä»¶æ—¥å¿—ï¼Œæ’æŸ¥æ›´ç›´è§‚ï¼ˆé€‚åˆéDBAäººå‘˜ï¼‰</td></tr><tr><td>è·¨å¹³å°æ€§</td><td>è·¨å¹³å°ï¼ˆWindowsã€Linuxå‡æ”¯æŒï¼‰ï¼Œä¸æ“ä½œç³»ç»Ÿæ— å…³</td><td>ä»…æ”¯æŒWindowsç³»ç»Ÿï¼Œè¿ç§»åˆ°Linuxéœ€æ”¹ç”¨Cronä»»åŠ¡</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>çº¯æ•°æ®åº“å±‚é¢çš„å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚æ•°æ®æ¸…ç†ã€ç»Ÿè®¡æŠ¥è¡¨ç”Ÿæˆï¼‰ï¼Œæ— éœ€å¤–éƒ¨äº¤äº’</td><td>éœ€ç»“åˆå¤–éƒ¨é€»è¾‘çš„ä»»åŠ¡ï¼Œæˆ–éDBAäººå‘˜ç»´æŠ¤çš„Windowsç¯å¢ƒåœºæ™¯</td></tr></tbody></table>
<h3 data-id="heading-14">5ã€é€‰å‹å»ºè®®</h3>
<ol>
<li>
<p>è‹¥ä»…éœ€æ¸…ç†æ•°æ®åº“å†…è¿‡æœŸæ•°æ®ï¼Œæ— å¤–éƒ¨äº¤äº’éœ€æ±‚ï¼Œä¼˜å…ˆé€‰<strong>MySQLå†…ç½®äº‹ä»¶è°ƒåº¦å™¨</strong>ï¼Œéƒ¨ç½²ç®€å•ã€æ€§èƒ½ä¼˜ã€è·¨å¹³å°æ€§å¥½ã€‚</p>
</li>
<li>
<p>è‹¥æ¸…ç†æ•°æ®åéœ€æ‰§è¡Œé¢å¤–æ“ä½œï¼ˆå¦‚å‘æ‰§è¡Œç»“æœé‚®ä»¶ã€å¤‡ä»½æ•°æ®ï¼‰ï¼Œæˆ–ç»´æŠ¤äººå‘˜æ›´ç†Ÿæ‚‰Windowsç³»ç»Ÿæ“ä½œï¼Œé€‰<strong>Windowsä»»åŠ¡è®¡åˆ’ç¨‹åº</strong>ï¼Œçµæ´»æ€§æ›´é«˜ã€‚</p>
</li>
<li>
<p>ç”Ÿäº§ç¯å¢ƒæ³¨æ„ï¼šæ— è®ºå“ªç§æ–¹æ¡ˆï¼Œéƒ½å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯SQLé€»è¾‘ï¼ˆé¿å…è¯¯åˆ æ•°æ®ï¼‰ï¼Œå¹¶æ·»åŠ æ—¥å¿—è®°å½•ï¼Œä¾¿äºæ•…éšœæ’æŸ¥ï¼›å¤§è¡¨åˆ é™¤å»ºè®®åˆ†æ‰¹æ¬¡æ‰§è¡Œï¼ˆå¦‚æ¯æ¬¡åˆ é™¤1000æ¡ï¼‰ï¼Œé¿å…é•¿æ—¶é—´é”è¡¨å½±å“ä¸šåŠ¡ã€‚</p>
</li>
</ol>
<p>ä»¥ä¸Šä¸¤ç§æ–¹æ¡ˆå‡å¯æ»¡è¶³MySQL8.0å®šæ—¶åˆ é™¤30å¤©å‰æ•°æ®çš„éœ€æ±‚ï¼Œå¯æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯å’Œè¿ç»´ä¹ æƒ¯çµæ´»é€‰å‹ã€‚å¦‚æœéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–SQLï¼ˆå¦‚åˆ†æ‰¹æ¬¡åˆ é™¤å¤§è¡¨æ•°æ®ï¼‰ï¼Œæ¬¢è¿ç•™è¨€äº¤æµï¼</p>
<hr/>
<p><em>è½¬å‘è¯·æºå¸¦ä½œè€…ä¿¡æ¯</em>Â  <strong>@æ€’æ”¾å§å¾·å¾· @ä¸€ä¸ªæœ‰æ¢¦æœ‰æˆçš„äºº</strong><br/>
æŒç»­åˆ›ä½œå¾ˆä¸å®¹æ˜“ï¼Œä½œè€…å°†ä»¥å°½å¯èƒ½çš„è¯¦ç»†æŠŠæ‰€å­¦çŸ¥è¯†åˆ†äº«å„ä½å¼€å‘è€…ï¼Œä¸€èµ·è¿›æ­¥ä¸€èµ·å­¦ä¹ ã€‚<strong>è½¬è½½è¯·æºå¸¦é“¾æ¥ï¼Œè½¬è½½åˆ°å¾®ä¿¡å…¬ä¼—å·è¯·å‹¿é€‰æ‹©åŸåˆ›ï¼Œè°¢è°¢ï¼</strong><br/>
ğŸ‘åˆ›ä½œä¸æ˜“ï¼Œå¦‚æœ‰é”™è¯¯è¯·æŒ‡æ­£ï¼Œæ„Ÿè°¢è§‚çœ‹ï¼è®°å¾—ç‚¹èµå“¦ï¼ğŸ‘<br/>
è°¢è°¢æ”¯æŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯´å®è¯ï¼Œä¸ä¼šç”¨ Nano Banana çš„åšå£«ç”Ÿï¼ŒçœŸçš„è¯¥è¡¥è¯¾äº†ï¼šåŠŸèƒ½æ±‡æ€»+ä¸Šæ‰‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7596230910213226539</link>    <guid>https://juejin.cn/post/7596230910213226539</guid>    <pubDate>2026-01-18T15:06:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596230910213226539" data-draft-id="7596171325532880937" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯´å®è¯ï¼Œä¸ä¼šç”¨ Nano Banana çš„åšå£«ç”Ÿï¼ŒçœŸçš„è¯¥è¡¥è¯¾äº†ï¼šåŠŸèƒ½æ±‡æ€»+ä¸Šæ‰‹æŒ‡å—"/> <meta itemprop="keywords" content="Gemini"/> <meta itemprop="datePublished" content="2026-01-18T15:06:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°è™šç«¹è¯´æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3747583696308350"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯´å®è¯ï¼Œä¸ä¼šç”¨ Nano Banana çš„åšå£«ç”Ÿï¼ŒçœŸçš„è¯¥è¡¥è¯¾äº†ï¼šåŠŸèƒ½æ±‡æ€»+ä¸Šæ‰‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3747583696308350/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°è™šç«¹è¯´æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:06:58.000Z" title="Sun Jan 18 2026 15:06:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64ee800b60f0421c81ce06f351a49c4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=WjYLkfzP3aL0%2BSAG3DF00ey%2BYCE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/297252f5377c4745919a6ad510e3518c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=4uIN8iD09I82Qn7LeeA2paUBl2o%3D" alt="" loading="lazy"/></p>
<p>ç§‘ç ”åœˆä¸€ç›´æœ‰å¥è¯å¾ˆç«ï¼šâ€œData is king, but figure is queen.â€ æ•°æ®å†å¥½ï¼Œå±•ç¤ºæ‹‰èƒ¯ä¹Ÿç™½æ­ã€‚ç°å®æ˜¯ï¼Œå¾ˆå¤šåŒå­¦å®éªŒèƒ½åŠ›æ‹‰æ»¡ï¼Œä¸€åˆ°ç”»å›¾å°±ç›´æ¥å´©æºƒï¼šPPT ç”»å‡ºæ¥å¤ªç³™ï¼ŒAIï¼ˆIllustratorï¼‰åˆå¤ªé™¡å³­ï¼Œå­¦åŠå¤©è¿˜åœ¨å¯¹é½å›¾å±‚ğŸ˜µâ€ğŸ’«ã€‚
ä»Šå¤©è¦å®‰åˆ©çš„ä¸»è§’æ˜¯ <strong>Banana</strong> ğŸŒã€‚ä½œä¸ºä¸€æ¬¾ç§‘ç ”ç»˜å›¾å·¥å…·ï¼Œå®ƒæœ€å¤§çš„ä¼˜åŠ¿å°±ä¸¤ä¸ªå­—ï¼š<strong>æ¨¡å—åŒ–</strong>å’Œ<strong>é€»è¾‘åŒ–</strong>ã€‚ä½ ä¸éœ€è¦æœ‰è®¾è®¡å¸ˆèƒŒæ™¯ï¼Œåªè¦æ€è·¯å¯¹ï¼Œç”¨ Banana ä¹Ÿèƒ½åšå‡ºè¶³ä»¥ä¸Šé¡¶åˆŠçš„ <strong>High-quality Figures</strong>ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä¸è®²è™šçš„ï¼Œç›´æ¥ä»ä¸‰ä¸ªæœ€å¸¸è§ã€æœ€å®ç”¨çš„åœºæ™¯åˆ‡å…¥â€”â€”<strong>æŠ€æœ¯è·¯çº¿å›¾ã€å®éªŒæµç¨‹å›¾å’Œå­¦æœ¯æµ·æŠ¥</strong>ï¼Œä¸€æ­¥æ­¥æ•™ä½ æ€ä¹ˆç”¨ Banana é«˜æ•ˆå‡ºå›¾ï¼Œå°‘ç†¬å¤œï¼Œå¤šå‘æ–‡ ğŸ’ªğŸ“Š</p>
<h2 data-id="heading-0">ä¸€ã€ æŠ€æœ¯è·¯çº¿å›¾ (Technical Roadmap)</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3350d72510e4158a125f544dab872e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=ofbvQwi5bZEi6q0Hkup7u5Fy8FQ%3D" alt="" loading="lazy"/></p>
<p>æŠ€æœ¯è·¯çº¿å›¾åŸºæœ¬å°±æ˜¯ç”³è¯·ä¹¦ï¼ˆå›½è‡ªç„¶ã€å¼€é¢˜æŠ¥å‘Šé‚£ç§ï¼‰çš„<strong>ç¬¬ä¸€å°è±¡æ‹…å½“</strong>ã€‚å…³é”®çœŸä¸åœ¨â€œç”»å¾—æ¼‚ä¸æ¼‚äº®â€ï¼Œè€Œåœ¨äº<strong>æœ‰æ²¡æœ‰å½¢æˆä¸€æ¡èƒ½è‡ªæ´½çš„é€»è¾‘é“¾</strong>ã€‚ğŸ‘‡</p>
<h3 data-id="heading-1">1ï¸âƒ£ å…ˆæ­éª¨æ¶ï¼šè‡ªä¸Šè€Œä¸‹</h3>
<p>åœ¨ Banana é‡Œï¼Œåˆ«ä¸€ä¸Šæ¥å°±çº ç»“ç»†èŠ‚ï¼Œå…ˆç”¨æœ€åŸºç¡€çš„å½¢çŠ¶ï¼ˆçŸ©å½¢ã€åœ†è§’çŸ©å½¢ï¼‰æŠŠæ•´ä½“ç»“æ„é“ºå¼€ï¼š</p>
<ul>
<li><strong>æœ€ä¸Šå±‚ï¼š</strong> ç ”ç©¶èƒŒæ™¯ + ç§‘å­¦é—®é¢˜ï¼ˆä½ ä¸ºå•¥è¦åšè¿™ä»¶äº‹ï¼Ÿï¼‰</li>
<li><strong>ä¸­é—´å±‚ï¼š</strong> ç ”ç©¶å†…å®¹å’ŒæŠ€æœ¯æ–¹æ¡ˆï¼ˆå‡†å¤‡æ€ä¹ˆåšï¼Ÿæ‹†æˆå‡ ä¸ª Specific Aimï¼Ÿï¼‰</li>
<li><strong>æœ€åº•å±‚ï¼š</strong> é¢„æœŸç»“æœå’Œæ„ä¹‰ï¼ˆæœ€åèƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿæœ‰å•¥ä»·å€¼ï¼Ÿï¼‰</li>
</ul>
<p>å…ˆæŠŠâ€œæ•…äº‹çº¿â€ç«‹ä½ï¼Œæ¯”ä»€ä¹ˆéƒ½é‡è¦ ğŸ‘</p>
<h3 data-id="heading-2">2ï¸âƒ£ è¿æ¥çº¿ä¸€å®šè¦ç”¨å¯¹</h3>
<p>åƒä¸‡åˆ«æ‹¿æ™®é€šç›´çº¿ç¡¬è¿ï¼Œç›´æ¥ä¸Š <strong>Smart Connectorsï¼ˆåŠ¨æ€è¿æ¥çº¿ï¼‰</strong>ã€‚</p>
<ul>
<li>
<p>æŒ‰ç…§â€œ<strong>å‘ç°ç°è±¡ â†’ æå‡ºå‡è®¾ â†’ éªŒè¯å‡è®¾</strong>â€è¿™æ¡ä¸»é€»è¾‘å»ä¸²ã€‚</p>
</li>
<li>
<p><strong>å°æŠ€å·§ï¼š</strong></p>
<ul>
<li>å°½é‡åˆ«è®©çº¿äº¤å‰ï¼Œçœ‹ç€å°±å¤´å¤§ã€‚</li>
<li>å¦‚æœé€»è¾‘çœŸçš„å¤æ‚ï¼Œç”¨ Banana çš„<strong>å›¾å±‚åˆ†ç»„</strong>ï¼Œç»™ä¸åŒ Aim åŠ åº•è‰²å—åŒºåˆ†ï¼Œå®¡ç¨¿äººä¸€çœ¼å°±èƒ½æ˜ç™½ä½ æ¯ä¸€å—å®éªŒåœ¨å¹²å˜› ğŸ‘€</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">3ï¸âƒ£ é£æ ¼åˆ«å¤ªèŠ±</h3>
<p>é…è‰²è¿™å—ï¼Œå…‹åˆ¶å°±æ˜¯é«˜çº§æ„Ÿ ğŸ¨</p>
<ul>
<li>ç›´æ¥é€‰ä¸€å¥—<strong>ä½é¥±å’Œåº¦åŒè‰²ç³»</strong>ï¼ˆæ¯”å¦‚æ·±è“+æµ…è“ã€æ·±ç»¿+æµ…ç»¿ï¼‰ã€‚</li>
<li><strong>å…³é”®åˆ›æ–°ç‚¹</strong>å†ç”¨ä¸€ç‚¹å¯¹æ¯”è‰²ï¼ˆæ¯”å¦‚æ©™è‰²ï¼‰ç‚¹å‡ºæ¥å°±å¤Ÿäº†ï¼Œåˆ«å…¨å›¾éƒ½åœ¨â€œå–Šé‡ç‚¹â€ã€‚</li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“ï¼š
ğŸ‘‰ <strong>è·¯çº¿å›¾=é€»è¾‘å›¾ï¼Œä¸æ˜¯è£…é¥°ç”»</strong>ã€‚æŠŠé€»è¾‘è®²é¡ºäº†ï¼Œé¢œå€¼è‡ªç„¶å°±åœ¨çº¿äº† ğŸ’¡âœ¨</p>
<h2 data-id="heading-4">äºŒã€ å®éªŒæµç¨‹å›¾ (Experimental Flowchart)</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11a2f82c96af4311bf545e92a1beeb37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=tRQVqaNXr1Ys00vdlCZQ7BfRn%2Fw%3D" alt="" loading="lazy"/>
å†™ Paper çš„ Method æˆ–è€…åšç»„ä¼šæ±‡æŠ¥æ—¶ï¼ŒçœŸä¸ç”¨å †ä¸€å¤§æ®µæ–‡å­—â€”â€”ä¸€å¼ æ¸…æ™°çš„å®éªŒæµç¨‹å›¾ï¼Œè§‚ä¼—ç§’æ‡‚âœ…</p>
<p>1ï¼‰ç´ æåº“åˆ«æµªè´¹ï¼ˆAsset Libraryï¼‰</p>
<p>Banana è‡ªå¸¦çš„ç”Ÿç‰© / åŒ–å­¦ / ææ–™ç´ æåº“å…¶å®å¾ˆé¦™ï¼Œç›´æ¥æ‹¿æ¥ç”¨å°±è¡Œã€‚</p>
<p>æœç´¢å°æŠ€å·§ï¼š å°½é‡ç”¨è‹±æ–‡å…³é”®è¯æœï¼Œæ¯”å¦‚ Centrifugeã€Mouseã€Cell cultureï¼Œå‘½ä¸­ç‡é«˜å¾ˆå¤š</p>
<p>æ›¿æ¢åŸåˆ™ï¼š èƒ½ç”¨è½¯ä»¶è‡ªå¸¦çš„çŸ¢é‡å›¾æ ‡å°±åˆ«å·æ‡’å»ç½‘ä¸Šæ‰¾å›¾ï¼ˆå°¤å…¶åˆ«ä¸Šæ¥å°±è´´ç³Šæˆä¸€å›¢çš„ JPG ğŸ˜…ï¼‰
Banana çš„çŸ¢é‡ç´ ææ”¾å¤§ç¼©å°éƒ½å¾ˆå¹²å‡€ï¼Œè¾¹ç¼˜ä¸ä¼šå´©ã€‚</p>
<p>2ï¼‰æ‹Ÿç‰©åŒ– vs æ‰å¹³åŒ–ï¼šåˆ«ä¸€é”…ä¹±ç‚–</p>
<p>æµç¨‹å›¾å¥½ä¸å¥½çœ‹ï¼Œå…³é”®æ˜¯é£æ ¼åˆ«æ‰“æ¶ã€‚</p>
<p>å®è§‚æ“ä½œç±»ï¼ˆçœŸå®æ­¥éª¤ï¼‰ï¼šåƒå°é¼ æ³¨å°„ã€è§£å‰–ã€ç¦»å¿ƒè¿™äº›ï¼Œä¼˜å…ˆç”¨ æ‹Ÿç‰©åŒ–å›¾æ ‡
ğŸ‘‰ çœ‹èµ·æ¥æ›´â€œåƒçœŸçš„åœ¨åšå®éªŒâ€ï¼Œä»£å…¥æ„Ÿå¼º</p>
<p>å¾®è§‚æœºåˆ¶ç±»ï¼ˆåˆ†å­é€»è¾‘ï¼‰ï¼šåƒç»†èƒé€šè·¯ã€åˆ†å­ç»“åˆï¼Œå»ºè®®ç”¨ æ‰å¹³åŒ–å›¾æ ‡ æˆ– çƒæ£æ¨¡å‹
ğŸ‘‰ å‡å°‘è§†è§‰å™ªéŸ³ï¼Œè®©é€»è¾‘å…³ç³»æ›´çªå‡º</p>
<p>3ï¼‰å¯¹é½ä¸åˆ†å¸ƒï¼šæµç¨‹å›¾â€œé«˜çº§æ„Ÿâ€çš„ç§˜è¯€</p>
<p>åˆ«å°çœ‹å¯¹é½ï¼Œå¾ˆå¤šå›¾ä¸ä¸“ä¸šå°±æ˜¯å› ä¸ºâ€œæ­ªâ€ğŸ˜µâ€ğŸ’«</p>
<p>é€‰ä¸­ä¸€æ’å›¾æ ‡ï¼Œç›´æ¥ç”¨ï¼š
Align Middleï¼ˆå‚ç›´å±…ä¸­å¯¹é½ï¼‰ + Distribute Horizontallyï¼ˆæ°´å¹³ç­‰è·åˆ†å¸ƒï¼‰</p>
<p>æ’åˆ—ä¸€æ•´é½ï¼Œå®¡ç¨¿äººä¼šäº§ç”Ÿä¸€ç§å¾ˆçœŸå®çš„å¿ƒç†æš—ç¤ºï¼š
â€œè¿™äººåšå®éªŒä¼°è®¡ä¹ŸæŒºä¸¥è°¨çš„ã€‚â€ ğŸ˜âœ¨</p>
<h2 data-id="heading-5">ä¸‰ã€ å­¦æœ¯æµ·æŠ¥ (Academic Poster)</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81afaabcabea433e9f5578104ce896c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=3fcO3DRBQ0xgXVb8OFrqzhthVQQ%3D" alt="" loading="lazy"/></p>
<p>å­¦æœ¯ä¼šè®®çš„æµ·æŠ¥ï¼ŒçœŸçš„åªæœ‰3 ç§’å†³å®šåˆ«äººä¼šä¸ä¼šåœä¸‹æ¥çœ‹ã€‚ä¸‹é¢è¿™å¥—æ–¹æ³•ï¼Œç”¨ Banana åšèµ·æ¥åˆå¿«åˆç¨³ğŸ‘‡</p>
<p>1ï¼‰å°ºå¯¸ + åˆ†è¾¨ç‡å…ˆé”æ­»</p>
<p>åœ¨ Banana æ–°å»ºç”»å¸ƒæ—¶ï¼Œç›´æ¥æŒ‰ä¼šè®®è¦æ±‚æ¥ï¼ˆå¸¸è§å°±æ˜¯ A0 æˆ– 90Ã—120cmï¼‰ã€‚</p>
<p>é‡ç‚¹åˆ«ç¿»è½¦ï¼š
éœ€è¦å°åˆ·å°±ç”¨ CMYKï¼›å¯¼å‡ºæ—¶ DPI è‡³å°‘ 300ã€‚
Banana æœ¬èº«æ˜¯çŸ¢é‡æ€è·¯ï¼Œåšå¤§å›¾ä¹Ÿä¸å®¹æ˜“ç³Šï¼Œè¿™ç‚¹éå¸¸é¦™âœ…</p>
<p>2ï¼‰ç”¨ç½‘æ ¼å¸ƒå±€ï¼Œåˆ«é â€œæ„Ÿè§‰æ‘†â€</p>
<p>æ–‡å­—å’Œå›¾éšæ‰‹æ”¾ï¼Œæœ€åä¸€å®šä¹±ã€‚æœ€çœäº‹çš„åšæ³•æ˜¯å¼€ Banana çš„ Guides å‚è€ƒçº¿ï¼Œç›´æ¥æŒ‰ç½‘æ ¼èµ°ã€‚</p>
<p>ä¸‰æ å¼æœ€ç»å…¸ï¼š
å·¦ï¼šBackground + Methods
ä¸­ï¼šResultsï¼ˆæ ¸å¿ƒå¤§å›¾æ”¾è¿™ï¼ï¼‰
å³ï¼šConclusion + Future Work</p>
<p>è§†è§‰æµçº¿è¦é¡ºï¼š
è¯»è€…ç›®å…‰æœ€å¥½èƒ½ä»å·¦ä¸Š â†’ å³ä¸‹ä¸€è·¯æ»‘è¿‡å»ï¼Œä¸ç”¨æ‰¾é‡ç‚¹ã€‚</p>
<p>3ï¼‰å›¾æ–‡æ¯”ä¾‹ï¼šå›¾è¦å¤§ï¼Œå­—è¦ç‹ </p>
<p>æµ·æŠ¥ä¸æ˜¯è®ºæ–‡ï¼Œä¸è¦é•¿æ®µè§£é‡Šï¼Œè¶Šå†™è¶Šæ²¡äººçœ‹ã€‚</p>
<p>æ–‡å­—åªç•™ Bullet points
å­—å·è¦å¤§èƒ†ï¼šæ ‡é¢˜ 72pt+ï¼Œæ­£æ–‡ 24pt+ï¼ˆè¿œå¤„ä¹Ÿèƒ½çœ‹æ¸…æ‰ç®—è¿‡å…³ï¼‰</p>
<p>å›¾ç‰‡è¦åšæˆâ€œä¸»è§†è§‰â€
ç”¨ Banana çš„ç»„åˆåŠŸèƒ½ï¼ŒæŠŠå¤šä¸ªå°ç»“æœå›¾æ‹¼æˆä¸€ä¸ªå¤§çš„ Figureï¼Œè§†è§‰å†²å‡»ç«‹åˆ»ä¸Šæ¥ğŸ“Œ</p>
<p>ç•™ç™½åˆ«èˆä¸å¾—
æ¨¡å—ä¹‹é—´å¤šç•™ç‚¹ç©ºé—´ï¼Œæµ·æŠ¥çœ‹èµ·æ¥ä¼šæ›´é«˜çº§ã€æ›´å¥½è¯»ã€‚</p>
<p>Banana è§£å†³çš„æ˜¯â€œç”»ä¸å‡ºæ¥ / ç”»ä¸é½â€çš„é—®é¢˜ï¼Œä½†å­¦æœ¯æµ·æŠ¥çœŸæ­£èƒ½æ‰“çš„å…³é”®ï¼Œè¿˜æ˜¯ä½ çš„ç§‘ç ”é€»è¾‘ï¼š
è·¯çº¿å›¾çœ‹æ˜¯å¦é¡ºã€æµç¨‹å›¾çœ‹ç»†èŠ‚å‡†ä¸å‡†ã€æµ·æŠ¥çœ‹é‡ç‚¹å¤Ÿä¸å¤Ÿçªå‡ºã€‚</p>
<p>ä¸‹æ¬¡åšå›¾ç›´æ¥æŒ‰è¿™å¥—æ€è·¯å¼€ Banana è¯•ä¸€æŠŠï¼Œä½ ä¼šå‘ç°ç§‘ç ”ç»˜å›¾çœŸæ²¡é‚£ä¹ˆå“äººğŸ™‚âœ¨</p>
<h2 data-id="heading-6">é™„ï¼šç§‘ç ”ç»˜å›¾ä¸“ç”¨æç¤ºè¯</h2>
<p>æŠŠè¿™äº›æç¤ºè¯ï¼ˆPromptsï¼‰å¤åˆ¶ä¸‹æ¥ï¼Œæ ¹æ®ä½ çš„ç ”ç©¶å†…å®¹å¾®è°ƒæ‹¬å·é‡Œçš„è¯ã€‚</p>
<h3 data-id="heading-7">1. åˆ¶ä½œé«˜å¤§ä¸Šçš„æµ·æŠ¥èƒŒæ™¯ (Poster Background)</h3>
<blockquote>
<p><strong>Prompt:</strong><br/>
"ç”Ÿæˆä¸€å¼ å­¦æœ¯æµ·æŠ¥ï¼Œæœ‰ç€ä¸“ä¸šçš„ç§‘å­¦æµ·æŠ¥èƒŒæ™¯å¸ƒå±€ï¼Œä¸»é¢˜ä¸º[ç¥ç»ç§‘å­¦]ï¼Œé‡‡ç”¨å¹²å‡€ã€ç°ä»£çš„æç®€é£æ ¼ã€‚ä½¿ç”¨æŸ”å’Œçš„[è“ç™½]é…è‰²æ–¹æ¡ˆã€‚å¸ƒå±€åº”åŒ…å«ä¸€ä¸ªå®½æ•çš„é¡¶éƒ¨åŒºåŸŸç”¨äºæ”¾ç½®æ ‡é¢˜ï¼Œä»¥åŠä¸‰æ å¼çš„å†…å®¹ç»“æ„ã€‚èƒŒæ™¯ä¸­èå…¥ä¸[ç¥ç»ç½‘ç»œ]ç›¸å…³çš„å¾®å¦™å‡ ä½•å›¾æ¡ˆã€‚é«˜åˆ†è¾¨ç‡ï¼Œé€‚åˆå­¦æœ¯ä¼šè®®å±•ç¤ºã€‚"</p>
</blockquote>
<h3 data-id="heading-8">2. å®éªŒæµç¨‹å›¾ï¼šä»è‰å›¾åˆ°æˆå“ (Sketch Refinement)</h3>
<p><em>(é…åˆä¸Šä¼ ä½ çš„æ‰‹ç»˜è‰å›¾)</em></p>
<blockquote>
<p><strong>Prompt:</strong><br/>
"å°†æ­¤è‰å›¾è½¬åŒ–ä¸ºé«˜è´¨é‡çš„ç§‘å­¦æ’ç”»ã€‚é£æ ¼ï¼š[BioRenderé£æ ¼/æ‰å¹³çŸ¢é‡é£]ï¼Œçº¿æ¡æ•´æ´æµç•…ï¼Œé…è‰²æ˜äº®ä¸”ä¸“ä¸šã€‚å›¾åƒæç»˜äº†[RNAæå–]çš„å®éªŒè¿‡ç¨‹ã€‚å‡†ç¡®æ¸²æŸ“[ç§»æ¶²æªã€ç¦»å¿ƒæœºå’Œè¯•ç®¡]ç­‰å®éªŒå®¤å™¨æã€‚ä¿æŒå¸ƒå±€ä¸å‚è€ƒè‰å›¾å®Œå…¨ä¸€è‡´ã€‚ç™½åº•ã€‚"</p>
</blockquote>
<h3 data-id="heading-9">3. æŠ€æœ¯è·¯çº¿å›¾/æ€ç»´å¯¼å›¾ (Technical Roadmap)</h3>
<blockquote>
<p><strong>Prompt:</strong><br/>
"ç”Ÿæˆä¸€å¼ æˆ˜ç•¥æ€§æŠ€æœ¯è·¯çº¿å›¾ä¿¡æ¯å›¾ï¼Œå±•ç¤ºç ”ç©¶çš„ä¸‰ä¸ªé˜¶æ®µï¼š1. [å‘ç°]ï¼Œ2. [ä¼˜åŒ–]ï¼Œ3. [åº”ç”¨]ã€‚è§†è§‰é£æ ¼åº”é‡‡ç”¨ç­‰è½´æµ‹3D (Isometric 3D) æˆ–å¹²å‡€æç®€çš„ä¿¡æ¯å›¾é£æ ¼ã€‚ç”¨ä¸€æ¡æµç•…çš„æ—¶é—´çº¿ç®­å¤´å°†å„ä¸ªé˜¶æ®µè¿æ¥èµ·æ¥ã€‚ä½¿ç”¨ä»[ç»¿è‰²åˆ°è“è‰²]çš„æ¸å˜é…è‰²ã€‚ç”¨æ¸…æ™°å¯è¾¨çš„æ–‡å­—æ˜ç¡®æ ‡æ³¨å„ä¸ªé˜¶æ®µã€‚æ•´ä½“ä¸“ä¸šæ„Ÿå¼ºï¼Œé€‚ç”¨äºåŸºé‡‘ç”³è¯·ä¹¦ã€‚"</p>
</blockquote>
<h3 data-id="heading-10">4. å¾®è§‚æœºåˆ¶ç¤ºæ„å›¾ (Mechanism of Action)</h3>
<blockquote>
<p><strong>Prompt:</strong><br/>
"ç”Ÿæˆ[ç»†èƒè†œ]çš„æ¨ªæˆªé¢ç¤ºæ„å›¾ï¼Œå±•ç¤º[è¯ç‰©è¿›å…¥]çš„æœºåˆ¶ã€‚æ˜¾ç¤º[å—ä½“è›‹ç™½]ä¸[è¯ç‰©åˆ†å­]çš„ç»“åˆã€‚é£æ ¼ï¼š3Då†™å®ç§‘å­¦å¯è§†åŒ–ï¼Œç±»ä¼¼ã€ŠNatureã€‹æœŸåˆŠæ’å›¾é£æ ¼ã€‚ç”¨å‘å…‰æ•ˆæœé«˜äº®æ˜¾ç¤ºç»“åˆä½ç‚¹ã€‚å›¾åƒä¸­åº”åŒ…å«ä»¥ä¸‹æ–‡å­—æ ‡æ³¨ï¼š'Receptor' (å—ä½“)ã€'Ligand' (é…ä½“)ã€'Intracellular' (ç»†èƒå†…)ã€‚"</p>
</blockquote>
<h2 data-id="heading-11">å›½å†…ç›´æ¥ä½¿ç”¨Gemini 3 Pro</h2>
<p>âœ… ç•Œé¢ï¼šGeminiå®˜ç½‘çš„ 1:1 å®Œç¾å¤åˆ»ã€‚ï¼ˆåå°æ˜¯Gemini 200ç¾é‡‘/æœˆçš„Ultraå’Œ20ç¾é‡‘/æœˆçš„proä¼šå‘˜ã€‚ï¼‰</p>
<p>âœ… å›½å†…ç›´è¿ï¼šæ— éœ€é­”æ³•ï¼Œå¼€é€šå³ç”¨</p>
<p>âœ… æ”¯æŒGemini 3 Proã€Gemini 3 Flashã€Nano Banana Proã€Veo 3.1ã€Deep Researchã€Deep Thinkã€Canvas</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66488c0ef8ed4624810e035ae97a5d42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=ienPcvmzNSeo3mHIrPv%2BPiSV8YY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-12">æ“ä½œæŒ‡å¯¼</h3>
<p>AIå¹³å° å›½å†…ç›´æ¥è®¿é—®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaoxuzhu.geminivip.cn%2F" target="_blank" title="https://xiaoxuzhu.geminivip.cn/" ref="nofollow noopener noreferrer">xiaoxuzhu.geminivip.cn/</a>
ã€ç«‹å³ç™»å½•ã€‘
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/614c8632c9c1498683352325c734babb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=VoTw7wve3TO25anIa5U4v2F7zlE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
ã€è¾“å…¥æˆæƒç ã€‘ç™»å½•
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7516c78c4f4646d786d4f03dd508b771~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=ZBmYAsSibWSYtw7pKjpA7i7gUaA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ã€é€‰æ‹©ç©ºé—²çš„è½¦ï¼Œç‚¹å‡»è¿›å…¥ã€‘
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/424367f75dd241b9b8baabb007e14ae2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=7yiP8hswxhQZ6v9xg%2Fm7nS%2BPxOk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9483edf35e1e4dafb6cde29b1471557b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=Ux3THXruIZO01pxwA0YPUMry6Gk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-13">æ„Ÿå—</h2>
<p>å¥½ç”¨çš„åŠŸèƒ½å¤ªå¤šå¤ªå¤šï¼Œæˆ‘å°±ä¸åœ¨è¿™ä¸ªä¸€ä¸€åˆ—ä¸¾äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œå°è¯•ã€‚</p>
<p><strong>æœ‰æä¾›å…è´¹çš„æˆæƒç å¯ä½“éªŒï½</strong></p>
<p><strong>æœ‰æä¾›å…è´¹çš„æˆæƒç å¯ä½“éªŒï½</strong></p>
<p><strong>æœ‰æä¾›å…è´¹çš„æˆæƒç å¯ä½“éªŒï½</strong></p>
<p>ç§ä¿¡è™šç«¹å“¥ï¼Œè·å–ä½“éªŒç ~
å›½å†…å¯ç›´æ¥ä½¿ç”¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgemini.xiaoxuzhu.cn%2F" target="_blank" title="https://gemini.xiaoxuzhu.cn/" ref="nofollow noopener noreferrer">gemini.xiaoxuzhu.cn/</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f14deb7f581c4d40aad22bf5dabd1dfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6Jma56u56K-05oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769353618&amp;x-signature=ZPpdNa1NzCjbnAJHGQoubPHsMJo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æˆ‘æ˜¯è™šç«¹å“¥ï¼Œç›®æ ‡æ˜¯å¸¦åä¸‡äººç©è½¬AIã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æƒ³ç”¨ OpenCode åšå•†ä¸šåŒ– AI ç¼–ç¨‹æœåŠ¡ï¼Ÿä½ å¯èƒ½éœ€è¦ä¸€ä¸ªå« LLMProxy çš„â€œéšå½¢å¼•æ“â€]]></title>    <link>https://juejin.cn/post/7596307289725222954</link>    <guid>https://juejin.cn/post/7596307289725222954</guid>    <pubDate>2026-01-18T15:32:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596307289725222954" data-draft-id="7596230910213275691" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æƒ³ç”¨ OpenCode åšå•†ä¸šåŒ– AI ç¼–ç¨‹æœåŠ¡ï¼Ÿä½ å¯èƒ½éœ€è¦ä¸€ä¸ªå« LLMProxy çš„â€œéšå½¢å¼•æ“â€"/> <meta itemprop="keywords" content="OpenAI,Cursor,Claude"/> <meta itemprop="datePublished" content="2026-01-18T15:32:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥½æƒ³æ¥å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/2717648475390791"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æƒ³ç”¨ OpenCode åšå•†ä¸šåŒ– AI ç¼–ç¨‹æœåŠ¡ï¼Ÿä½ å¯èƒ½éœ€è¦ä¸€ä¸ªå« LLMProxy çš„â€œéšå½¢å¼•æ“â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648475390791/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥½æƒ³æ¥å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:32:05.000Z" title="Sun Jan 18 2026 15:32:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanomalyco%2Fopencode" target="_blank" title="https://github.com/anomalyco/opencode" ref="nofollow noopener noreferrer">anomalyco å¼€æºçš„ OpenCode</a>Â åœ¨å¼€å‘è€…åœˆå­é‡Œç«äº†èµ·æ¥ã€‚å®ƒä¸åƒä¼ ç»Ÿ Copilot æ’ä»¶é‚£æ ·åªåšè¡¥å…¨ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½ç†è§£è‡ªç„¶è¯­è¨€æŒ‡ä»¤ã€è‡ªä¸»æ“ä½œæ–‡ä»¶ç³»ç»Ÿã€è¿è¡Œæµ‹è¯•ç”šè‡³è°ƒè¯•çš„Â <strong>AI ç¼–ç ä»£ç†ï¼ˆAI Coding Agentï¼‰</strong> ã€‚å¾ˆå¤šå›¢é˜Ÿå¼€å§‹å°è¯•åŸºäºå®ƒæ„å»ºå†…éƒ¨å·¥å…·ï¼Œç”šè‡³æ¢ç´¢å¯¹å¤–æä¾› SaaS æœåŠ¡ã€‚</p>
<p>ä½†å¾ˆå¿«ï¼Œä¸€ä¸ªé—®é¢˜æµ®ç°å‡ºæ¥ï¼š<strong>OpenCode é»˜è®¤ä¾èµ– Claude æˆ– OpenAI</strong>ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>æˆæœ¬ä¸å¯æ§ï¼ˆå°¤å…¶é«˜é¢‘è°ƒç”¨åœºæ™¯ï¼‰</li>
<li>æ•°æ®å¯èƒ½å‡ºå¢ƒï¼Œä¸ç¬¦åˆä¼ä¸šåˆè§„è¦æ±‚</li>
<li>æ— æ³•çµæ´»å®šä»·ã€éš¾ä»¥å®ç°æŒ‰å®¢æˆ·è®¡è´¹</li>
</ul>
<p>äºæ˜¯ï¼Œä¸å°‘äººè½¬å‘Â <strong>è‡ªå»ºå¼€æºä»£ç å¤§æ¨¡å‹</strong>ï¼ˆå¦‚ Meta çš„ CodeLlamaã€DeepSeek-Coderã€StarCoder2ï¼‰ï¼Œé€šè¿‡ vLLM æˆ– TGI éƒ¨ç½²æ¨ç†æœåŠ¡ã€‚è¿™è§£å†³äº†æ¨¡å‹å±‚çš„é—®é¢˜ï¼Œä½†æ–°çš„æŒ‘æˆ˜åˆæ¥äº†ï¼š</p>
<blockquote>
<p><strong>å¦‚ä½•è®© OpenCode ç¨³å®šã€é«˜æ•ˆã€å¯è®¡é‡åœ°è°ƒç”¨è¿™äº›ç§æœ‰æ¨¡å‹ï¼Ÿ</strong></p>
</blockquote>
<p>è¿™æ—¶å€™ï¼Œæˆ‘æ³¨æ„åˆ°ä¸€ä¸ªä½è°ƒä½†æå…¶åŠ¡å®çš„å¼€æºé¡¹ç›® â€”â€”Â <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faiyuekuang%2FLLMProxy" target="_blank" title="https://github.com/aiyuekuang/LLMProxy" ref="nofollow noopener noreferrer">LLMProxy</a></strong>ã€‚å®ƒä¸åšæ¨¡å‹ã€ä¸æ UIï¼Œåªä¸“æ³¨ä¸€ä»¶äº‹ï¼š<strong>ä¸ºè‡ªå»º LLM æœåŠ¡æä¾›ç”Ÿäº§çº§ç½‘å…³èƒ½åŠ›</strong>ã€‚è€Œåœ¨ OpenCode çš„å•†ä¸šåŒ–è·¯å¾„ä¸­ï¼Œå®ƒæ°å¥½æ‰®æ¼”äº†å…³é”®è§’è‰²ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸ºä»€ä¹ˆ LLMProxy ç‰¹åˆ«é€‚åˆ OpenCode åœºæ™¯ï¼Ÿ</h3>
<h4 data-id="heading-1">âœ… 1.Â <strong>æ— ç¼å¯¹æ¥ OpenCode çš„ API è¦æ±‚</strong></h4>
<p>OpenCode æœŸæœ›åç«¯æä¾›æ ‡å‡†çš„ OpenAI å…¼å®¹æ¥å£ï¼ˆ<code>/v1/chat/completions</code>ï¼‰ã€‚LLMProxy èƒ½å°†ä½ çš„ vLLM/TGI æœåŠ¡è‡ªåŠ¨åŒ…è£…æˆè¿™ä¸€æ ¼å¼ï¼Œæ— éœ€ä¿®æ”¹ OpenCode å®¢æˆ·ç«¯é…ç½®â€”â€”åªéœ€æŠŠÂ <code>api_base</code>Â æŒ‡å‘ LLMProxy åœ°å€å³å¯ã€‚</p>
<h4 data-id="heading-2">âœ… 2.Â <strong>åŸç”Ÿæ”¯æŒæµå¼å“åº”ï¼Œä¿éšœç¼–ç ä½“éªŒ</strong></h4>
<p>å†™ä»£ç æ—¶ï¼Œç”¨æˆ·éœ€è¦é€ token å®æ—¶çœ‹åˆ°è¾“å‡ºã€‚LLMProxy å¯¹ SSEï¼ˆServer-Sent Eventsï¼‰åšäº†é›¶ç¼“å†²é€ä¼ ï¼Œç¡®ä¿é¦– token å»¶è¿Ÿï¼ˆTTFTï¼‰å‡ ä¹æ— å¢åŠ ï¼Œä½“éªŒåª²ç¾å•†ç”¨æœåŠ¡ã€‚</p>
<h4 data-id="heading-3">âœ… 3.Â <strong>è‡ªåŠ¨ç”¨é‡è®¡é‡ï¼Œæ‰“é€šè®¡è´¹é—­ç¯</strong></h4>
<p>è¿™æ˜¯å•†ä¸šåŒ–çš„æ ¸å¿ƒã€‚å½“ OpenCode å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼ŒLLMProxy ä¼šåœ¨å“åº”ç»“æŸåï¼ˆåŒ…æ‹¬æµå¼è¯·æ±‚çš„Â <code>[DONE]</code>Â äº‹ä»¶ï¼‰<strong>å¼‚æ­¥æ¨é€Â <code>prompt_tokens</code>Â å’ŒÂ <code>completion_tokens</code>Â åˆ°ä½ çš„ Webhook</strong>ã€‚ä½ å¯ä»¥æ®æ­¤å®ç°ï¼š</p>
<ul>
<li>æŒ‰å®¢æˆ·/ç§Ÿæˆ·ç»Ÿè®¡ç”¨é‡</li>
<li>ç”Ÿæˆæœˆåº¦è´¦å•</li>
<li>è¶…é¢è‡ªåŠ¨é™æµæˆ–åœæœ</li>
</ul>
<p>æ•´ä¸ªè¿‡ç¨‹éé˜»å¡ï¼Œä¸å½±å“ä¸»é“¾è·¯æ€§èƒ½ã€‚</p>
<h4 data-id="heading-4">âœ… 4.Â <strong>è½»é‡ã€å¯é ã€æ— ä¾µå…¥</strong></h4>
<ul>
<li>å• Go äºŒè¿›åˆ¶ï¼ŒDocker é•œåƒ &lt; 20MB</li>
<li>é…ç½®ä»…éœ€ä¸€ä¸ª YAML æ–‡ä»¶</li>
<li>ä¸ä¾èµ–æ•°æ®åº“ï¼Œä¸è§£æä¸šåŠ¡é€»è¾‘</li>
<li>å†…ç½® Prometheus æŒ‡æ ‡ + Grafana é¢æ¿</li>
</ul>
<p>å¯¹äºå¸Œæœ›å¿«é€ŸéªŒè¯å•†ä¸šæ¨¡å¼çš„å°å›¢é˜Ÿæ¥è¯´ï¼Œè¿™ç§â€œå¼€ç®±å³ç”¨â€çš„è®¾è®¡æå¤§é™ä½äº†è¿ç»´æˆæœ¬ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸€ä¸ªå…¸å‹çš„éƒ¨ç½²æ¶æ„</h3>
<p>text</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span><span class="hljs-selector-attr">[OpenCode Client]</span>
<span class="hljs-number">2</span>        â†“
<span class="hljs-number">3</span><span class="hljs-selector-attr">[LLMProxy]</span> â†â†’ <span class="hljs-selector-attr">[Webhook è®¡è´¹ç³»ç»Ÿ]</span>
<span class="hljs-number">4</span>        â†“
<span class="hljs-number">5</span><span class="hljs-selector-attr">[vLLM + CodeLlama-34B]</span>  â† ç§æœ‰åŒ–éƒ¨ç½²ï¼Œæ•°æ®ä¸å‡ºå†…ç½‘
</code></pre>
<p>ä½ åªéœ€ï¼š</p>
<ol>
<li>ç”¨ vLLM å¯åŠ¨ CodeLlama</li>
<li>é…ç½® LLMProxy æŒ‡å‘è¯¥åç«¯ + è®¾ç½® Webhook</li>
<li>ä¿®æ”¹ OpenCode çš„Â <code>api_base</code>Â ä¸º LLMProxy åœ°å€</li>
</ol>
<p>å³å¯æ‹¥æœ‰ä¸€ä¸ª<strong>å®Œå…¨è‡ªä¸»å¯æ§ã€å¯è®¡é‡ã€å¯æ”¶è´¹çš„ AI ç¼–ç¨‹æœåŠ¡å¹³å°</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-6">å†™åœ¨æœ€å</h3>
<p>LLMProxy å¹¶ä¸æ˜¯ä¸€ä¸ªâ€œç‚«æŠ€â€å‹é¡¹ç›®ï¼Œå®ƒæ²¡æœ‰å¤§æ¨¡å‹ã€æ²¡æœ‰å‰ç«¯ã€ç”šè‡³æ²¡æœ‰å¤æ‚çš„æ§åˆ¶å°ã€‚ä½†å®ƒç²¾å‡†åœ°è§£å†³äº†Â <strong>è‡ªå»º LLM æœåŠ¡èµ°å‘ç”Ÿäº§è½åœ°çš„æœ€åä¸€å…¬é‡Œé—®é¢˜</strong>â€”â€”å°¤å…¶æ˜¯åƒ OpenCode è¿™ç±»éœ€è¦ç¨³å®šã€å¯è®¡é‡ã€ä½å»¶è¿Ÿåç«¯çš„æ™ºèƒ½ä»£ç†åœºæ™¯ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨æ¢ç´¢ï¼š</p>
<ul>
<li>ç”¨å¼€æºæ¨¡å‹æ›¿ä»£ OpenAI/Claude</li>
<li>æ„å»ºå†…éƒ¨ AI ç¼–ç¨‹åŠ©æ‰‹</li>
<li>å¯¹å¤–æä¾› MaaSï¼ˆModel-as-a-Serviceï¼‰æœåŠ¡</li>
</ul>
<p>é‚£ä¹ˆï¼Œ<strong>LLMProxy å€¼å¾—ä½ èŠ± 10 åˆ†é’Ÿè¯•ä¸€è¯•</strong>ã€‚</p>
<blockquote>
<p>GitHub åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faiyuekuang%2FLLMProxy" target="_blank" title="https://github.com/aiyuekuang/LLMProxy" ref="nofollow noopener noreferrer">github.com/aiyuekuang/â€¦</a><br/>
MIT å¼€æºåè®®ï¼Œæ–‡æ¡£é½å…¨ï¼Œæ”¯æŒ Docker / Kubernetes ä¸€é”®éƒ¨ç½²ã€‚</p>
</blockquote>
<hr/>
<p><strong>PS</strong>ï¼šç›®å‰å·²æœ‰å›¢é˜ŸåŸºäºæ­¤æ–¹æ¡ˆä¸ºä¸­å°å¼€å‘å›¢é˜Ÿæä¾›æŒ‰ token è®¡è´¹çš„ OpenCode æœåŠ¡ï¼Œå®¢å•ä»·ä»å‡ ç™¾åˆ°æ•°åƒå…ƒ/æœˆä¸ç­‰ã€‚åŸºç¡€è®¾æ–½çš„æˆç†Ÿï¼Œæ­£åœ¨è®©â€œä¸€ä¸ªäººçš„ AI å…¬å¸â€æˆä¸ºå¯èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¨èç³»ç»Ÿâ€œå†·å¯åŠ¨â€å…¨é“¾è·¯ç ´å±€ï¼šä»æµé‡è°ƒæ§åˆ°ç®—æ³•è½åœ°]]></title>    <link>https://juejin.cn/post/7596476124839165994</link>    <guid>https://juejin.cn/post/7596476124839165994</guid>    <pubDate>2026-01-18T15:51:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596476124839165994" data-draft-id="7596476124839149610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¨èç³»ç»Ÿâ€œå†·å¯åŠ¨â€å…¨é“¾è·¯ç ´å±€ï¼šä»æµé‡è°ƒæ§åˆ°ç®—æ³•è½åœ°"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-18T15:51:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜Ÿè¾æ ‘"/> <meta itemprop="url" content="https://juejin.cn/user/200544183650531"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¨èç³»ç»Ÿâ€œå†·å¯åŠ¨â€å…¨é“¾è·¯ç ´å±€ï¼šä»æµé‡è°ƒæ§åˆ°ç®—æ³•è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/200544183650531/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜Ÿè¾æ ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:51:09.000Z" title="Sun Jan 18 2026 15:51:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¨èç³»ç»Ÿâ€œå†·å¯åŠ¨â€å…¨é“¾è·¯ç ´å±€ï¼šä»æµé‡è°ƒæ§åˆ°ç®—æ³•è½åœ°</h2>
<blockquote>
<p>å‰è¨€ï¼š</p>
<p>åšæ¨èç³»ç»Ÿï¼Œæ°¸è¿œç»•ä¸å¼€é‚£åªâ€œè–›å®šè°”çš„çŒ«â€â€”â€”å†·å¯åŠ¨ã€‚</p>
<p>æ–°ç‰©å“æ²¡æ•°æ®ï¼Œæ¨¡å‹æ¨ä¸å‡†ï¼›æ¨¡å‹æ¨ä¸å‡†ï¼Œç‰©å“æ²¡æ›å…‰ï¼Œæ›´æ²¡æ•°æ®ã€‚è¿™æ˜¯ä¸€ä¸ªæ­»å¾ªç¯ã€‚</p>
<p>å¾ˆå¤šåŒå­¦åœ¨é¢è¯•æ—¶ï¼Œæåˆ°å†·å¯åŠ¨åªèƒ½è¯´å‡ºâ€œç”¨åŸºäºå†…å®¹çš„æ¨èâ€ï¼Œè¿™åœ¨ä»Šå¤©çš„ç®—æ³•é¢è¯•ä¸­æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚</p>
<p>æœ¬æ–‡å°†åŸºäºçœŸå®å·¥ä¸šç•Œåœºæ™¯ï¼Œä»**ç‰©å“å†·å¯åŠ¨ï¼ˆItem Cold Startï¼‰<strong>å’Œ</strong>ç”¨æˆ·å†·å¯åŠ¨ï¼ˆUser Cold Startï¼‰**ä¸¤ä¸ªç»´åº¦ï¼Œæ·±åº¦æ‹†è§£ä»æµé‡è°ƒæ§ç­–ç•¥åˆ°Embeddingåˆå§‹åŒ–çš„å…¨é“¾è·¯è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ ä¸ºä»€ä¹ˆå†·å¯åŠ¨è¿™ä¹ˆéš¾ï¼Ÿï¼ˆæœ¬è´¨å½’å› ï¼‰</h3>
<p>åœ¨è®¨è®ºâ€œæ€ä¹ˆåšâ€ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦æ˜ç™½â€œç—›åœ¨å“ªé‡Œâ€ã€‚æ ¹æ®ç³»ç»Ÿåˆ†æï¼Œå†·å¯åŠ¨çš„æ ¸å¿ƒéš¾ç‚¹ä¸»è¦æ¥è‡ªä¸¤ä¸ªå±‚é¢ï¼š</p>
<h4 data-id="heading-2">1. æ•°æ®å±‚çš„ç¨€ç–ä¸IDå¤±æ•ˆ</h4>
<p>ç°ä»£æ¨èæ¨¡å‹ï¼ˆå¦‚DeepFM, DIN, åŒå¡”DSSMï¼‰é«˜åº¦ä¾èµ– <strong>ID Embedding</strong>ã€‚</p>
<ul>
<li><strong>æ–°ç‰©å“/æ–°ç”¨æˆ·</strong>ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">T=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span> æ—¶åˆ»ï¼Œäº¤äº’æ•°æ®ä¸º0ã€‚</li>
<li><strong>åæœ</strong>ï¼šID Embedding æ— æ³•å¾—åˆ°æ¢¯åº¦æ›´æ–°ï¼Œå¤„äºéšæœºåˆå§‹åŒ–çŠ¶æ€ï¼ˆå…¨æ˜¯å™ªå£°ï¼‰ã€‚è¿™æ—¶å€™ï¼Œæ¨¡å‹å°±åƒåœ¨â€œççŒœâ€ã€‚</li>
</ul>
<h4 data-id="heading-3">2. æ¨¡å‹å±‚çš„â€œæƒ°æ€§â€ (Model Laziness)</h4>
<p>æ¨¡å‹ä¹Ÿæ˜¯ä¼šâ€œå·æ‡’â€çš„ã€‚</p>
<ul>
<li><strong>ç°è±¡</strong>ï¼šè®­ç»ƒæ•°æ®ä¸­ 95% æ˜¯è€ç‰©å“ï¼ˆæ­£æ ·æœ¬å¤šï¼‰ï¼Œ5% æ˜¯æ–°ç‰©å“ã€‚</li>
<li><strong>ç»“æœ</strong>ï¼šä¸ºäº†å…¨å±€ Loss æœ€å°åŒ–ï¼Œæ¨¡å‹ä¼šä¼˜å…ˆæ‹Ÿåˆè€ç‰©å“çš„è®°å¿†æ€§ç‰¹å¾ï¼Œè€Œå¿½ç•¥æ–°ç‰©å“çš„æ³›åŒ–æ€§ç‰¹å¾ã€‚å¯¼è‡´æ–°ç‰©å“å¦‚æœä¸åŠ å¹²é¢„ï¼Œæ°¸æ— å‡ºå¤´ä¹‹æ—¥ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">äºŒã€ ç‰©å“å†·å¯åŠ¨ï¼šè®©æ–°å†…å®¹â€œæ´»â€ä¸‹æ¥</h3>
<p>å¯¹äº UGC ç¤¾åŒºï¼ˆå¦‚å°çº¢ä¹¦ã€æŠ–éŸ³ï¼‰ï¼Œç‰©å“å†·å¯åŠ¨å…³ä¹ç”Ÿæ€çš„ç”Ÿæ­»ã€‚å¦‚æœä¸è§£å†³ï¼Œä½œè€…å‘å¸ƒæ„æ„¿ä¸‹é™ï¼Œå†…å®¹æ± æ¯ç«­ã€‚</p>
<h4 data-id="heading-5">ç­–ç•¥å±‚ï¼šæµé‡è°ƒæ§æœºåˆ¶</h4>
<p>ä¸èƒ½åªé ç®—æ³•ï¼Œå¿…é¡»æœ‰â€œå®è§‚è°ƒæ§â€ã€‚</p>
<ul>
<li><strong>L1 å¼ºæ’ (Forced Insertion)</strong> ï¼šç®€å•ç²—æš´ï¼Œåœ¨æ¨èæµé‡Œæ¯éš” N ä¸ªæ’ 1 ä¸ªæ–°ç‰©å“ã€‚ç¼ºç‚¹æ˜¯ä¼¤ç”¨æˆ·ä½“éªŒï¼Œæ•ˆç‡ä½ã€‚</li>
<li><strong>L2 ææƒ (Boosting)</strong> ï¼šç»™æ–°ç‰©å“çš„é¢„ä¼°åˆ†ä¹˜ç³»æ•°ã€‚ç¼ºç‚¹æ˜¯å¦‚æœåŸºç¡€åˆ†å¤ªçƒ‚ï¼ˆEmbeddingæ²¡è®­å¥½ï¼‰ï¼Œä¹˜äº†ç³»æ•°ä¹Ÿæ²¡ç”¨ã€‚</li>
<li><strong>L3 ä¿é‡ (Guaranteed Delivery)</strong> ï¼š<strong>å·¥ä¸šç•Œä¸»æµ</strong>ã€‚ä½¿ç”¨ PID æ§åˆ¶ç®—æ³•ï¼Œç¡®ä¿æ–°ç‰©å“åœ¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span></span> å°æ—¶å†…è·å¾— <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span> æ¬¡æ›å…‰ã€‚</li>
<li><strong>L4 å·®å¼‚åŒ–ä¿é‡</strong>ï¼š<strong>é«˜é˜¶ç©æ³•</strong>ã€‚å…ˆé¢„æµ‹æ–°ç‰©å“çš„ä»·å€¼ï¼Œé«˜è´¨é‡å†…å®¹ç»™é«˜ä¿é‡ç›®æ ‡ï¼Œä½è´¨é‡ç»™ä½ä¿é‡ï¼Œå®ç°æµé‡æŠ•èµ„å›æŠ¥ç‡æœ€å¤§åŒ–ã€‚</li>
</ul>
<h4 data-id="heading-6">ç®—æ³•å±‚ï¼šå¬å›é€šé“çš„â€œåˆ†é˜¶æ®µâ€æ‰“æ³•</h4>
<p>åœ¨æ¨¡å‹çœ‹ä¸æ‡‚ ID çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æ•™å®ƒçœ‹â€œå†…å®¹â€ã€‚</p>
<h5 data-id="heading-7">1. T=0 é˜¶æ®µï¼šå€’æ’ç´¢å¼•ï¼ˆç±»ç›®å¬å›ï¼‰</h5>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„å…œåº•ã€‚</p>
<ul>
<li><strong>åŸç†</strong>ï¼šç»´æŠ¤ <code>ç±»ç›® -&gt; ç‰©å“IDåˆ—è¡¨</code> çš„å€’æ’ç´¢å¼•ã€‚ç”¨æˆ·å–œæ¬¢â€œç¾é£Ÿâ€ï¼Œå°±å»â€œç¾é£Ÿâ€åˆ—è¡¨é‡Œææœ€æ–°çš„ã€‚</li>
<li><strong>ç—›ç‚¹</strong>ï¼šç²’åº¦å¤ªç²—ï¼ˆç‚¹å‡»ç‡è¿œä½äºå¤§ç›˜ï¼‰ï¼Œä¸”çª—å£æœŸæçŸ­ï¼ˆFIFOé˜Ÿåˆ—ï¼Œå‡ åˆ†é’Ÿå°±è¢«æŒ¤å‡ºå»äº†ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-8">2. T=0 -&gt; T+N é˜¶æ®µï¼šå¤šæ¨¡æ€å‘é‡å¬å› (Embedding Retrieval)</h5>
<p>ä¸ºäº†è§£å†³ç±»ç›®å¤ªç²—çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸Šæ·±åº¦å­¦ä¹ ã€‚</p>
<ul>
<li>
<p><strong>æ¶æ„</strong>ï¼šåŒå¡”ç»“æ„ã€‚å·¦è¾¹ BERT ææ–‡æœ¬ï¼Œå³è¾¹ CNN æå›¾ç‰‡ï¼ŒConcat åç”Ÿæˆ <strong>Content Embedding</strong>ã€‚</p>
</li>
<li>
<p>è®­ç»ƒ (Metric Learning)ï¼šä½¿ç”¨ Triplet Lossã€‚</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><msup><mi>b</mi><mo>+</mo></msup><mo separator="true">,</mo><msup><mi>b</mi><mo>âˆ’</mo></msup><mo stretchy="false">)</mo><mo>=</mo><mi>max</mi><mo>â¡</mo><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>cos</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><msup><mi>b</mi><mo>âˆ’</mo></msup><mo stretchy="false">)</mo><mo>+</mo><mi>m</mi><mo>âˆ’</mo><mi>cos</mi><mo>â¡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><msup><mi>b</mi><mo>+</mo></msup><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">L(a, b^+, b^-) = \max\{0, \cos(a, b^-) + m - \cos(a, b^+)\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"/><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ’</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"/><span class="mop">max</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ’</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"/><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mclose">)}</span></span></span></span></span></p>
<p>è®©æ–°ç‰©å“çš„å‘é‡ï¼Œåœ¨ç©ºé—´ä¸­é è¿‘å’Œå®ƒç›¸ä¼¼çš„è€ç‰©å“ï¼ˆæ­£æ ·æœ¬ï¼‰ï¼Œè¿œç¦»ä¸ç›¸å…³çš„ç‰©å“ã€‚</p>
</li>
<li>
<p><strong>è½åœ°</strong>ï¼šå°†æ–°ç‰©å“å‘é‡å­˜å…¥ FAISSï¼Œé€šè¿‡å‘é‡æ£€ç´¢å®ç°â€œçŒœä½ å–œæ¬¢â€ã€‚</p>
</li>
</ul>
<h5 data-id="heading-9">3. ä¼˜åŒ– Trickï¼šDefault Embedding</h5>
<p>åŒå¡”æ¨¡å‹ä¸­ï¼Œå¦‚æœæ–°ç‰©å“ ID æ²¡è®­å¥½ï¼Œä¼šå¹²æ‰°å†…å®¹ç‰¹å¾ã€‚</p>
<ul>
<li><strong>è§£æ³•</strong>ï¼šç»™æ‰€æœ‰æ–°ç‰©å“åˆ†é…ä¸€ä¸ªå…±äº«çš„ <strong>Default ID</strong>ã€‚</li>
<li><strong>æ•ˆæœ</strong>ï¼šåˆ©ç”¨å…¨ç½‘æ–°ç‰©å“çš„èšåˆæ•°æ®è®­ç»ƒè¿™ä¸ª Default IDï¼Œè®©å®ƒä»£è¡¨â€œå¹³å‡æ°´å¹³â€ï¼Œä»è€Œæ¶ˆé™¤éšæœºåˆå§‹åŒ–çš„å™ªå£°ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">ä¸‰ã€ ç”¨æˆ·å†·å¯åŠ¨ï¼šæ‹’ç»â€œæ€ç†Ÿâ€</h3>
<p>å¯¹äºæ–°æ³¨å†Œç”¨æˆ·ï¼Œæ¨¡å‹å¾€å¾€å› ä¸ºâ€œç”±äºä½ æ²¡ç‚¹è¿‡ï¼Œæ‰€ä»¥æˆ‘ä¸çŸ¥é“æ¨ä»€ä¹ˆâ€è€Œå¯¼è‡´å†·å¯å¤±è´¥ã€‚</p>
<h4 data-id="heading-11">æ¶æ„å±‚ï¼šShortcut è¿æ¥ (ResNetæ€æƒ³)</h4>
<p>è€ç”¨æˆ·çš„è¡Œä¸ºåºåˆ—ç‰¹å¾å¤ªå¼ºï¼Œæ¨¡å‹å¾€å¾€ä¼šå¿½ç•¥æ–°ç”¨æˆ·çš„ç”»åƒç‰¹å¾ï¼ˆAge, Genderï¼‰ã€‚</p>
<ul>
<li><strong>é”™è¯¯åšæ³•</strong>ï¼šæŠŠ <code>is_new_user</code> ç‰¹å¾æ”¾åœ¨ DNN æœ€åº•å±‚ï¼Œç»è¿‡å‡ å±‚ç½‘ç»œåä¿¡å·å°±æ¶ˆå¤±äº†ã€‚</li>
<li><strong>æ­£ç¡®åšæ³•</strong>ï¼š<strong>Shortcut ç›´è¿</strong>ã€‚å°†æ–°ç”¨æˆ·ç‰¹å¾ç›´æ¥è¿åˆ°å„ç±»å¡”çš„<strong>æœ€æœ«ç«¯ï¼ˆLogitså±‚ï¼‰</strong> ï¼Œè®©å®ƒå¯¹æœ€ç»ˆ Loss æœ‰â€œä¸€ç¥¨å¦å†³æƒâ€ï¼Œå¼ºè¿«æ¨¡å‹é‡è§†æ–°è€ç”¨æˆ·çš„å·®å¼‚ã€‚</li>
</ul>
<h4 data-id="heading-12">æ•°æ®å±‚ï¼šEmbedding åˆå§‹åŒ–ä¸‰éƒ¨æ›²</h4>
<p>æ–°ç”¨æˆ·æ²¡æœ‰ Embedding æ€ä¹ˆåŠï¼Ÿåˆ«ç›²çŒœï¼</p>
<ul>
<li>
<p><strong>é’é“œæ–¹æ¡ˆï¼šåˆ†æ¡¶å…±äº« (Bucket Shared Embedding)</strong></p>
<ul>
<li>å°†æ–°ç”¨æˆ·æŒ‰ <code>æ€§åˆ«+å¹´é¾„</code> åˆ†æ¡¶ï¼ˆå¦‚â€œ20å²ç”·æ€§â€ï¼‰ã€‚</li>
<li>åŒæ¡¶ç”¨æˆ·å…±ç”¨ä¸€ä¸ªåˆå§‹ Embeddingã€‚ç®€å•æœ‰æ•ˆï¼Œè§£å†³äº†æ•°æ®ç¨€ç–ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç™½é“¶æ–¹æ¡ˆï¼šè€å¸¦æ–° (Look-alike)</strong></p>
<ul>
<li><strong>é¢è¯•åŠ åˆ†é¡¹</strong>ã€‚</li>
<li>é€»è¾‘ï¼šæ‰¾åˆ°ä¸æ–°ç”¨æˆ·ç”»åƒæœ€ç›¸ä¼¼çš„ Top-K ä¸ªè€ç”¨æˆ·ã€‚</li>
<li>æ“ä½œï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>n</mi><mi>i</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>E</mi><mi>m</mi><msub><mi>b</mi><mrow><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>=</mo><mi>A</mi><mi>v</mi><mi>e</mi><mi>r</mi><mi>a</mi><mi>g</mi><mi>e</mi><mo stretchy="false">(</mo><mi>E</mi><mi>m</mi><msub><mi>b</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi><mi mathvariant="normal">_</mi><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>E</mi><mi>m</mi><msub><mi>b</mi><mrow><mi>o</mi><mi>l</mi><mi>d</mi><mi mathvariant="normal">_</mi><mn>2</mn></mrow></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Init\_Emb_{new} = Average(Emb_{old\_1}, Emb_{old\_2}, ...)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">ni</span><span class="mord mathnormal">t</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.117em;vertical-align:-0.367em;"/><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span><span class="mord mtight">_1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.367em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span><span class="mord mtight">_2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.367em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mclose">)</span></span></span></span></span>ã€‚</li>
</ul>
</li>
<li>
<p><strong>é»„é‡‘æ–¹æ¡ˆï¼šå…ƒå­¦ä¹  (Meta-Learning)</strong></p>
<ul>
<li>é€šè¿‡ MAML ç­‰ç®—æ³•ï¼Œå­¦ä¹ â€œå¦‚ä½•åˆå§‹åŒ–å‚æ•°â€ï¼Œè®©æ–°ç”¨æˆ·åªéœ€æå°‘æ¬¡äº¤äº’å°±èƒ½å¿«é€Ÿæ”¶æ•›ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-13">å››ã€ æ€»ç»“</h3>
<p>æ¨èç³»ç»Ÿçš„å†·å¯åŠ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€åœº**â€œä¿¡æ¯é‡çš„åšå¼ˆâ€**ã€‚</p>
<ul>
<li><strong>åœ¨æ²¡æœ‰è¡Œä¸ºä¿¡æ¯æ—¶</strong>ï¼Œæˆ‘ä»¬åˆ©ç”¨<strong>å†…å®¹ä¿¡æ¯</strong>ï¼ˆå¤šæ¨¡æ€å¬å›ã€å€’æ’ç´¢å¼•ï¼‰ã€‚</li>
<li><strong>åœ¨æ²¡æœ‰ä¸ªæ€§åŒ–ä¿¡æ¯æ—¶</strong>ï¼Œæˆ‘ä»¬åˆ©ç”¨<strong>ç¾¤ä½“ä¿¡æ¯</strong>ï¼ˆDefault Embeddingã€Look-alikeï¼‰ã€‚</li>
<li><strong>åœ¨æ¨¡å‹åè§é¢å‰</strong>ï¼Œæˆ‘ä»¬åˆ©ç”¨<strong>æ¶æ„è°ƒæ•´</strong>ï¼ˆShortcutã€æµé‡ä¿é‡ï¼‰æ¥çº åã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰è¯¦è§£ â€”â€” ä»åŸç†åˆ° C è¯­è¨€å®ç°ï¼ˆé™„åŠ¨å›¾ä¸ç¤ºä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7596153767873052706</link>    <guid>https://juejin.cn/post/7596153767873052706</guid>    <pubDate>2026-01-18T13:47:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596153767873052706" data-draft-id="7596153767873019938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰è¯¦è§£ â€”â€” ä»åŸç†åˆ° C è¯­è¨€å®ç°ï¼ˆé™„åŠ¨å›¾ä¸ç¤ºä¾‹ï¼‰"/> <meta itemprop="keywords" content="æ•°æ®ç»“æ„"/> <meta itemprop="datePublished" content="2026-01-18T13:47:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¢è‰²çš„å°é³„é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/4501859894316474"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰è¯¦è§£ â€”â€” ä»åŸç†åˆ° C è¯­è¨€å®ç°ï¼ˆé™„åŠ¨å›¾ä¸ç¤ºä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4501859894316474/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¢è‰²çš„å°é³„é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:47:29.000Z" title="Sun Jan 18 2026 13:47:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¿«é€Ÿæ’åºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¿™ä¹ˆé‡è¦ï¼Ÿ</h2>
<p>å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰æ˜¯ç›®å‰ç»¼åˆæ€§èƒ½æœ€å¼ºçš„é€šç”¨æ’åºç®—æ³•ä¹‹ä¸€ï¼Œç”±è‹±å›½è®¡ç®—æœºç§‘å­¦å®¶ Tony Hoare åœ¨ 1960 å¹´å‘æ˜ã€‚
å®ƒçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)ï¼Œè€Œä¸”åŸåœ°æ’åºï¼ˆå‡ ä¹ä¸éœ€è¦é¢å¤–ç©ºé—´ï¼‰ï¼Œåœ¨å®é™…å·¥ç¨‹ä¸­è¢«å¹¿æ³›ä½¿ç”¨ï¼ˆC++ STL çš„ <em><strong>std::sort</strong></em>ã€Java çš„ <em><strong>Arrays.sort</strong></em> ç­‰åº•å±‚å¤§å¤šéƒ½ç”¨å¿«é€Ÿæ’åº + æ’å…¥æ’åºçš„æ··åˆå®ç°ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b4961c2008e4d049f5fbfcbe6cb1108~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57qi6Imy55qE5bCP6bOE6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348848&amp;x-signature=Q0APiKTZZwvtkDC0oag8%2BCExYI8%3D" alt="å¿«æ’" loading="lazy"/></p>
<p>ä¸€å¥è¯æ€»ç»“å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ€æƒ³ï¼š</p>
<blockquote>
<p><em><strong>ã€Œé€‰ä¸€ä¸ªæ•°å½“åŸºå‡†ï¼ˆpivotï¼‰ï¼ŒæŠŠæ¯”å®ƒå°çš„æ•°å…¨éƒ¨æ”¾åˆ°å·¦è¾¹ï¼Œæ¯”å®ƒå¤§çš„å…¨éƒ¨æ”¾åˆ°å³è¾¹ï¼Œç„¶åå¯¹å·¦å³ä¸¤è¾¹é€’å½’åœ°ç»§ç»­åšåŒæ ·çš„äº‹æƒ…ã€‚ã€</strong></em></p>
</blockquote>
<h2 data-id="heading-1">äºŒã€å¿«é€Ÿæ’åºæœ€å½¢è±¡çš„æ¯”å–»</h2>
<p>æƒ³è±¡ä½ è¦ç»™ä¸€å †èº«é«˜ä¸åŒçš„å°æœ‹å‹æ’é˜Ÿï¼ˆä»çŸ®åˆ°é«˜ï¼‰ï¼š</p>
<ol>
<li>éšä¾¿æŒ‘ä¸€ä¸ªå°å­©å½“â€œè€å¤§â€ï¼ˆpivotï¼‰</li>
<li>æ‰€æœ‰å…¶ä»–å°å­©è·Ÿè€å¤§æ¯”ï¼š
æ¯”è€å¤§çŸ®çš„ â†’ å…¨éƒ¨ç«™åˆ°è€å¤§å·¦è¾¹
æ¯”è€å¤§é«˜çš„ â†’ å…¨éƒ¨ç«™åˆ°è€å¤§å³è¾¹</li>
<li>è€å¤§å°±ç«™åœ¨è‡ªå·±åº”è¯¥åœ¨çš„ä½ç½®ï¼ˆå·²ç»æ’å¥½äº†ï¼ï¼‰</li>
<li>ç„¶åå¯¹å·¦è¾¹é‚£ç¾¤äººã€å³è¾¹é‚£ç¾¤äººï¼Œåˆ†åˆ«å†æŒ‘ä¸€ä¸ªæ–°è€å¤§ï¼Œç»§ç»­é‡å¤ä¸Šé¢çš„è¿‡ç¨‹</li>
</ol>
<p>ä¸æ–­æŠŠå¤§åŒºé—´æ‹†æˆå°åŒºé—´ï¼Œç›´åˆ°æ¯ä¸ªå°ç»„åªæœ‰ 0 æˆ– 1 ä¸ªäººï¼Œå°±å…¨éƒ¨æœ‰åºäº†ã€‚</p>
<blockquote>
<p>ä¸‹é¢ä¸ºå¿«é€Ÿæ’åºè¿‡ç¨‹ï¼Œ<em><strong>æ³¨æ„ä¸åŒç¼©è¿›ä»£è¡¨è¿›å±•ä¸åŒ</strong></em></p>
</blockquote>
<p>å‡è®¾æœ‰ä¸€ä¸ªå¾…æ’åºçš„åˆ—è¡¨ [3, 6, 8, 10, 1, 2, 1]ï¼Œé€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†ï¼ˆpivotï¼‰ï¼Œæ’åºè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p><strong>åˆå§‹çŠ¶æ€ï¼š</strong></p>
<p>1.åˆ—è¡¨ï¼š[3, 6, 8, 10, 1, 2, 1]ã€‚</p>
<p>2.åŸºå‡†å…ƒç´ ï¼š1ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ä¸€è½®åˆ†åŒºï¼š</strong></p>
<p>1.å°†å°äºåŸºå‡†çš„å…ƒç´ æ”¾åœ¨å·¦ä¾§ï¼Œå¤§äºåŸºå‡†çš„å…ƒç´ æ”¾åœ¨å³ä¾§ã€‚</p>
<p>2.åˆ†åŒºååˆ—è¡¨ï¼š[1, 1, 2, 10, 6, 8, 3]ã€‚</p>
<p>3.åŸºå‡†å…ƒç´  1 çš„ä½ç½®ç¡®å®šã€‚</p>
</li>
<li>
<p><strong>é€’å½’æ’åºï¼š</strong></p>
<p>1.å¯¹å·¦ä¾§å­åˆ—è¡¨ [1] å’Œå³ä¾§å­åˆ—è¡¨ [2, 10, 6, 8, 3] åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºã€‚</p>
<p>2.å·¦ä¾§å­åˆ—è¡¨å·²ç»æœ‰åºã€‚</p>
<p>3.å¯¹å³ä¾§å­åˆ—è¡¨ [2, 10, 6, 8, 3] é€‰æ‹©åŸºå‡†å…ƒç´  3ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">   <span class="hljs-number">1</span>.åˆ†åŒºååˆ—è¡¨ï¼š<span class="hljs-selector-attr">[2, 3, 6, 8, 10]</span>ã€‚

   <span class="hljs-number">2</span>.åŸºå‡†å…ƒç´  <span class="hljs-number">3</span> çš„ä½ç½®ç¡®å®šã€‚
</code></pre>
<p>4.ç»§ç»­é€’å½’æ’åºå³ä¾§å­åˆ—è¡¨ [6, 8, 10]ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>.é€‰æ‹©åŸºå‡†å…ƒç´  <span class="hljs-number">10</span>ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼š

   <span class="hljs-number">1</span>.åˆ†åŒºååˆ—è¡¨ï¼š<span class="hljs-selector-attr">[6, 8, 10]</span>ã€‚

   <span class="hljs-number">2</span>.åŸºå‡†å…ƒç´  <span class="hljs-number">10</span> çš„ä½ç½®ç¡®å®šã€‚

<span class="hljs-number">2</span>.ç»§ç»­é€’å½’æ’åºå·¦ä¾§å­åˆ—è¡¨ <span class="hljs-selector-attr">[6, 8]</span>ï¼š

   <span class="hljs-number">1</span>.é€‰æ‹©åŸºå‡†å…ƒç´  <span class="hljs-number">8</span>ï¼ˆæœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼š

        <span class="hljs-number">1</span>.åˆ†åŒºååˆ—è¡¨ï¼š<span class="hljs-selector-attr">[6, 8]</span>ã€‚

        <span class="hljs-number">2</span>.åŸºå‡†å…ƒç´  <span class="hljs-number">8</span> çš„ä½ç½®ç¡®å®šã€‚

   <span class="hljs-number">2</span>.ç»§ç»­é€’å½’æ’åºå·¦ä¾§å­åˆ—è¡¨ <span class="hljs-selector-attr">[6]</span>ï¼Œå·²ç»æœ‰åºã€‚
    
</code></pre>
</li>
<li>
<p>æœ€ç»ˆç»“æœï¼š</p>
<p><em><strong>åˆ—è¡¨å®Œå…¨æœ‰åºï¼š[1, 1, 2, 3, 6, 8, 10]ã€‚</strong></em></p>
</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€å¿«é€Ÿæ’åºæœ€å¸¸ç”¨çš„åˆ†åŒºæ–¹æ³• â€”â€” Lomuto åˆ†åŒº</h2>
<p>ç›®å‰æ•™å­¦å’Œé¢è¯•ä¸­æœ€å¸¸ç”¨çš„å†™æ³•æ˜¯ Lomuto åˆ†åŒºï¼ˆå•æŒ‡é’ˆæ–¹æ¡ˆï¼‰ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// è¿”å› pivot æœ€ç»ˆè½ä¸‹çš„ä½ç½®</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">partition</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
    <span class="hljs-type">int</span> pivot = arr[right];     <span class="hljs-comment">// ç®€å•èµ·è§ï¼Œé€‰æœ€å³è¾¹å…ƒç´ åšåŸºå‡†</span>
    <span class="hljs-type">int</span> i = left - <span class="hljs-number">1</span>;           <span class="hljs-comment">// å°äºç­‰äºåŒºçš„å³è¾¹ç•Œï¼ˆåˆå§‹åœ¨å¤–é¢ï¼‰</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = left; j &lt; right; j++) {
        <span class="hljs-keyword">if</span> (arr[j] &lt;= pivot) {  <span class="hljs-comment">// æ³¨æ„è¿™é‡Œæ˜¯ &lt;= ï¼Œè¿™æ ·ç­‰äºçš„å…ƒç´ ä¹Ÿä¼šäº¤æ¢åˆ°å·¦è¾¹</span>
            i++;
            <span class="hljs-comment">// äº¤æ¢ï¼ŒæŠŠå°çš„å…ƒç´ æ”¾åˆ° i çš„ä½ç½®</span>
            <span class="hljs-type">int</span> temp = arr[i];
            arr[i] = arr[j];
            arr[j] = temp;
        }
    }
    <span class="hljs-comment">// æœ€åæŠŠ pivot æ”¾åˆ°æ­£ç¡®ä½ç½®</span>
    <span class="hljs-type">int</span> temp = arr[i + <span class="hljs-number">1</span>];
    arr[i + <span class="hljs-number">1</span>] = arr[right];
    arr[right] = temp;

    <span class="hljs-keyword">return</span> i + <span class="hljs-number">1</span>;  <span class="hljs-comment">// è¿”å› pivot æœ€ç»ˆçš„ä½ç½®</span>
}
</code></pre>
<h2 data-id="heading-3">å››ã€å®Œæ•´å¿«é€Ÿæ’åºä»£ç ï¼ˆCè¯­è¨€ï¼‰</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-comment">// äº¤æ¢ä¸¤ä¸ªå…ƒç´ </span>
<span class="hljs-type">void</span> <span class="hljs-title function_">swap</span><span class="hljs-params">(<span class="hljs-type">int</span>* a, <span class="hljs-type">int</span>* b)</span> {
    <span class="hljs-type">int</span> temp = *a;
    *a = *b;
    *b = temp;
}

<span class="hljs-comment">// Lomuto åˆ†åŒºæ–¹æ¡ˆ</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">partition</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
    <span class="hljs-type">int</span> pivot = arr[right];
    <span class="hljs-type">int</span> i = left - <span class="hljs-number">1</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = left; j &lt; right; j++) {
        <span class="hljs-keyword">if</span> (arr[j] &lt;= pivot) {
            i++;
            swap(&amp;arr[i], &amp;arr[j]);
        }
    }
    swap(&amp;arr[i + <span class="hljs-number">1</span>], &amp;arr[right]);
    <span class="hljs-keyword">return</span> i + <span class="hljs-number">1</span>;
}

<span class="hljs-comment">// å¿«é€Ÿæ’åºé€’å½’å‡½æ•°</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">quickSort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> {
    <span class="hljs-keyword">if</span> (left &lt; right) {
        <span class="hljs-type">int</span> pivotIndex = partition(arr, left, right);
        
        <span class="hljs-comment">// åˆ†åˆ«å¯¹å·¦å³ä¸¤è¾¹é€’å½’</span>
        quickSort(arr, left, pivotIndex - <span class="hljs-number">1</span>);
        quickSort(arr, pivotIndex + <span class="hljs-number">1</span>, right);
    }
}

<span class="hljs-comment">// å¯¹å¤–æ¥å£</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">quick_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> n)</span> {
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;
    quickSort(arr, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>);
}

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> arr[] = {<span class="hljs-number">64</span>, <span class="hljs-number">34</span>, <span class="hljs-number">25</span>, <span class="hljs-number">12</span>, <span class="hljs-number">22</span>, <span class="hljs-number">11</span>, <span class="hljs-number">90</span>, <span class="hljs-number">5</span>, <span class="hljs-number">87</span>, <span class="hljs-number">1</span>, <span class="hljs-number">73</span>, <span class="hljs-number">31</span>, <span class="hljs-number">45</span>};
    <span class="hljs-type">int</span> n = <span class="hljs-keyword">sizeof</span>(arr) / <span class="hljs-keyword">sizeof</span>(arr[<span class="hljs-number">0</span>]);

    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"æ’åºå‰ï¼š"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, arr[i]);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);

    quick_sort(arr, n);

    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"æ’åºåï¼š"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, arr[i]);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-4">å…­ã€çœŸå®å·¥ç¨‹ä¸­çš„å¸¸è§ä¼˜åŒ–</h2>
<ol>
<li>éšæœºåŒ–åŸºå‡†ï¼ˆé˜²æ­¢æœ€åæƒ…å†µï¼‰
éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä¸æœ«å°¾äº¤æ¢ï¼Œå†ç”¨æœ«å°¾åš pivot</li>
<li>å°æ•°ç»„åˆ‡æ¢æ’å…¥æ’åº
å½“åŒºé—´é•¿åº¦ â‰¤ 8~16 æ—¶ï¼Œæ”¹ç”¨æ’å…¥æ’åºï¼ˆå¸¸æ•°æ›´å°ï¼‰</li>
<li>ä¸‰è·¯å¿«é€Ÿæ’åºï¼ˆå¤„ç†å¤§é‡ç›¸åŒå…ƒç´ ï¼‰
æŠŠç­‰äº pivot çš„å…ƒç´ å•ç‹¬åˆ†ä¸€ç»„</li>
<li>ä¸‰æ•°å–ä¸­ï¼ˆmedian-of-threeï¼‰
å– leftã€midã€right ä¸­é—´å¤§å°çš„å€¼åš pivot</li>
</ol>
<h2 data-id="heading-5">ä¸ƒã€ç»“è¯­</h2>
<p>å¿«é€Ÿæ’åºä¹‹æ‰€ä»¥å¼ºå¤§ï¼Œæ˜¯å› ä¸ºå®ƒ<em><strong>å¹³å‡æƒ…å†µæå¿« + åŸåœ° + å®ç°ç›¸å¯¹ç®€å•</strong></em>ã€‚
è™½ç„¶æœ€åæƒ…å†µä¸‹ä¼šé€€åŒ–ï¼Œä½†é€šè¿‡éšæœºåŒ–ã€ä¸‰æ•°å–ä¸­ç­‰ç®€å•ä¼˜åŒ–ï¼Œå°±èƒ½è®©å®ƒåœ¨ç»å¤§å¤šæ•°å®é™…åœºæ™¯ä¸­æˆä¸ºæœ€å¿«çš„æ’åºç®—æ³•ã€‚
å¸Œæœ›è¿™ç¯‡æ–‡ç«  + æ¨èçš„å›¾ç‰‡èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œè®²è§£å¿«é€Ÿæ’åºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026å‰ç«¯è‡ªæ•‘æŒ‡å—ï¼šåˆ©ç”¨ Vibe Codingï¼Œæˆ‘æŠŠç®€å†ä»â€œåˆ‡å›¾â€æ”¹æˆäº†â€œå…¨æ ˆâ€]]></title>    <link>https://juejin.cn/post/7596307289725190186</link>    <guid>https://juejin.cn/post/7596307289725190186</guid>    <pubDate>2026-01-18T15:15:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596307289725190186" data-draft-id="7596221097864773638" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026å‰ç«¯è‡ªæ•‘æŒ‡å—ï¼šåˆ©ç”¨ Vibe Codingï¼Œæˆ‘æŠŠç®€å†ä»â€œåˆ‡å›¾â€æ”¹æˆäº†â€œå…¨æ ˆâ€"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-18T15:15:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Pikachu803"/> <meta itemprop="url" content="https://juejin.cn/user/3872900050857624"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026å‰ç«¯è‡ªæ•‘æŒ‡å—ï¼šåˆ©ç”¨ Vibe Codingï¼Œæˆ‘æŠŠç®€å†ä»â€œåˆ‡å›¾â€æ”¹æˆäº†â€œå…¨æ ˆâ€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3872900050857624/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Pikachu803
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:15:10.000Z" title="Sun Jan 18 2026 15:15:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    30
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.èƒŒæ™¯</h2>
<p>éšç€å¸‚é¢ä¸Šè¶Šæ¥è¶Šå¤šçš„Vibe Codingå·¥å…·å±‚å‡ºä¸ç©·ï¼Œä½œä¸ºä¸€ä¸ªæ‰å…¥è¡Œæ²¡å‡ å¹´çš„å‰ç«¯å¼€å‘ï¼Œç¡®å®æ˜¯äº§ç”Ÿäº†å¾ˆå¤šçš„æ„Ÿå—ï¼›å†åŠ ä¸Šæœ€è¿‘æ•ˆåº”ä¸å¥½ï¼Œè€æ¿ä¹Ÿè¦æ±‚æ˜¯åç«¯è½¬å‰ç«¯ï¼Œç„¶åå‡å°‘å‰ç«¯çš„äººå‘˜ã€‚ã€‚ã€‚åŒæ—¶æˆ‘æƒ³å€Ÿè¿™ä¸ªè¯é¢˜è®°å½•ä¸€ä¸‹è‡ªå·±çš„2025å¹´çš„æ„Ÿå—ã€‚</p>
<h2 data-id="heading-1">2.ç”¨è¿‡å“ªäº›aiç¼–ç å·¥å…·ï¼Œæœ‰å“ªäº›å¥½ç”¨ï¼ˆçº¯ä¸ªäººæ„Ÿå—ï¼‰</h2>
<ul>
<li><strong>Cursor</strong>ï¼šåœ¨æˆ‘2023å¹´çš„å¤å¤©å…¥èŒç¬¬ä¸€å®¶å°å…¬å¸å®ä¹ çš„æ—¶å€™ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘çš„ç»„é•¿å°±æ•™æˆ‘å¦‚ä½•ä½¿ç”¨cursorè¿›è¡Œä¸€ä¸ªè¾…åŠ©å¼€å‘ï¼Œä½œä¸ºå½“æ—¶è¿åŸºæœ¬çš„flexå¸ƒå±€éƒ½ä¸ä¼šå†™ï¼Œes6è¯­æ³•æŒæ¡éƒ½ä¸ç†Ÿæ‚‰çš„å°ç™½æ¥è¯´ï¼ŒçœŸçš„æä¾›äº†å¾ˆå¤šçš„å¸®åŠ©ï¼Œé‚£ä¸ªæ—¶å€™cursoræ‰å‡ºæ¥æ²¡å¤šä¹…ï¼ŒçœŸçš„å¾ˆéš¾ç”¨ï¼Œæ—©æœŸçš„ UI äº¤äº’éå¸¸ç²—ç³™ï¼Œé’ˆå¯¹ç¼–ç è¾…åŠ©ä¹Ÿæ˜¯å±€é™äºä¾§è¾¹æ çš„å¯¹è¯ï¼Œtabå¿«æ·ä¹Ÿæ²¡æœ‰ï¼Œæ„Ÿè§‰å°±åªæ˜¯ä¸€ä¸ªå†…ç½®äº†å¾ˆå¤špromptçš„å¯¹è¯å·¥å…·+ä¸æµç•…çš„ç¼–è¾‘å™¨ã€‚åç»­ä¹Ÿæ˜¯åœ¨æ–­æ–­ç»­ç»­ä½¿ç”¨cursorï¼Œå……äº†å¾ˆå¤šé’±ï¼Œç›´åˆ°25å¹´è¢«banäº†æˆ‘å°±ä¸å†ä½¿ç”¨äº†ã€‚</li>
<li><strong>Augment Code</strong>:å½“æ—¶åŒäº‹ä¹Ÿæ¨èä½¿ç”¨è¿™ä¸ªï¼ŒçœŸçš„å¥½ç”¨ï¼Œä¸Šä¸‹æ–‡çš„å¤„ç†æå…¶ä¼˜ç§€ï¼Œå¯¹claude gptæ¨¡å‹çš„è°ƒæ•™ä¹Ÿå¾ˆå‰å®³ï¼Œå°±æ˜¯çœŸçš„å¤ªè´µäº†ï¼Œ50ç¾åˆ€ä¸€ä¸ªæœˆï¼›</li>
<li><strong>Copilot</strong>:ä¹Ÿå¾ˆå¥½ç”¨çš„ç¼–è¾‘å™¨æ’ä»¶ï¼Œå¿«æ·tabåšçš„ä¹Ÿä¸é”™ï¼Œæ€§ä»·æ¯”å¾ˆé«˜ï¼Œå°±æ˜¯æœ‰æ—¶å€™ç”¨ç€ç”¨ç€æ„Ÿè§‰é™æ™ºäº†ï¼Œç”šè‡³ä¸å¦‚è‡ªå·±å†™ï¼›</li>
<li><strong>Cline</strong>ï¼šå¥½ç”¨ï¼Œæ”¯æŒæ¥å…¥å¾ˆå¤šå¤§æ¨¡å‹ï¼Œä¹Ÿæ˜¯ä½“éªŒäº†å›½å†…mimo,kimiï¼Œglmç­‰æ¨¡å‹çš„ç¼–ç ï¼Œæ’ä»¶äº¤äº’åšçš„å¾ˆä¸é”™ï¼ŒæŒºå–œæ¬¢çš„ä¸€ä¸ªæ’ä»¶ï¼›</li>
<li><strong>Windsurf</strong>ï¼šä¸€èˆ¬ï¼›</li>
<li><strong>Qoder</strong>ï¼šæ–°è´¦å·ä½“éªŒäº†ä¸€ä¸‹ï¼Œå½“æ—¶é’ˆå¯¹äº¤äº’åšçš„ç¡®å®ä¸å¥½ï¼Œæ€»æ„Ÿè§‰ä¸æµç•…ä½“éªŒäº†ä¸€ä¸‹å°±æ²¡ä½¿ç”¨äº†ï¼›</li>
<li><strong>Trae</strong>ï¼šç›®å‰çš„â€œä¸»åŠ›å†›â€ã€‚èµ·åˆæˆ‘ä¹Ÿå¿½è§†äº†å®ƒï¼Œç›´åˆ°åœ¨é»‘å®¢æ¾çº¿ä¸‹ä½“éªŒäº† <strong>SOLO æ¨¡å¼</strong>ï¼Œå½»åº•æ”¹è§‚ï¼Œç¼–ç çš„æ—¶å€™å¿«æ·ä¹ŸæŒºå¥½ç”¨çš„ï¼Œå°±æ˜¯ç¾åŒ–æç¤ºè¯æœ‰ä¸€ç‚¹å°å°çš„ä¸è¶³ï¼Œä¸è¿‡æ€§ä»·æ¯”æ˜¯çœŸçš„å¾ˆé«˜ï¼Œç›®å‰å›½é™…ç‰ˆä¸€å‘¨å¹´æ´»åŠ¨éå¸¸è‰¯å¿ƒï¼ˆç¥ Trae ç”Ÿæ—¥å¿«ä¹ï¼ï¼‰ï¼Œå¯¹äºå›½å†…å¼€å‘è€…æ¥è¯´ï¼Œè¿æ¥ç¨³å®šæ€§å’Œå“åº”é€Ÿåº¦éƒ½å®Œèƒœç«å“ã€‚</li>
</ul>
<h2 data-id="heading-2">3.æˆ‘æ˜¯æ€ä¹ˆåˆ©ç”¨è¿™äº›å·¥å…·ï¼Œå°†è‡ªå·±çš„ç®€å†è¿›è¡Œä¼˜åŒ–çš„</h2>
<p>é¢å¯¹è‡ªå·±è¿‡å»æ‚ä¹±çš„é¡¹ç›®ç»å†ï¼ˆæ¶µç›– PCã€H5ã€æ’ä»¶ã€Next.jsã€Vue ç­‰ï¼‰ï¼Œæˆ‘é™·å…¥äº†â€œæ ·æ ·é€šæ ·æ ·æ¾â€çš„è‡ªæˆ‘æ€€ç–‘ã€‚ æˆ‘å†³å®šåˆ©ç”¨ AI çš„<strong>å½’çº³æ€»ç»“èƒ½åŠ›</strong>æ¥é‡å¡‘ç®€å†ã€‚æˆ‘å‘ Trae æŠ•å–‚äº†ä¸€å¥— Promptï¼Œè®©å®ƒåŸºäº STAR æ³•åˆ™ï¼ˆæƒ…å¢ƒã€ä»»åŠ¡ã€è¡ŒåŠ¨ã€ç»“æœï¼‰å¸®æˆ‘æç‚¼é¡¹ç›®äº®ç‚¹ã€‚</p>
<p>äºæ˜¯æˆ‘å°±æä¾›äº†ä¸€å¥—promptï¼Œç„¶åæ˜¯å«Traeç»™æˆ‘è¿›è¡Œè‡ªå·±åšçš„demoé¡¹ç›®çš„æ€»ç»“ï¼Œæå–äº®ç‚¹å’Œéš¾ç‚¹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69619b0abd6042b498f128945c7aaeab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlrYWNodTgwMw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396635&amp;x-signature=Uz7bkvNGQPLZd7mRKAh3AicKJEM%3D" alt="2b56dd2d47c5fa301e89b4bc20b29f19.png" loading="lazy"/>
é™¤æ­¤ä¹‹å¤–ï¼ŒTraeåœ¨ä½¿ç”¨Geminiæ¨¡å‹çš„æ—¶å€™æ”¯æŒå›¾æ–‡ç†è§£ï¼Œä¹Ÿå¯ä»¥æŠŠè‡ªå·±çš„ç®€å†å›¾ç‰‡å‘åˆ°èŠå¤©æ¡†å»åšä¸€ä¸ªæ›´å¥½çš„ä¼˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f684cbf03b14026890fbd27295c4d0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlrYWNodTgwMw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396635&amp;x-signature=nF%2B248zfq51TeJTixsmtS06yiA8%3D" alt="1aa22531b74d1dc3e10238955a7ef950.png" loading="lazy"/></p>
<p>ç¬¬äºŒä¸ªé¡¹ç›®å‘¢æ˜¯æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€ä¸ªå¼€æºçš„å…¨æ ˆé¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®çš„åç«¯æ˜¯åŸºäºGoå»åšçš„ï¼Œå› ä¸ºä¹‹å‰è‡ªå·±ä¹Ÿå­¦è¿‡ä¸€æ®µæ—¶é—´goï¼Œä½†æ˜¯æ²¡æœ‰è¿‡ä¸€éå®Œæ•´çš„é¡¹ç›®æµç¨‹ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯æƒ³å€ŸåŠ©ä¸€äº›VibeCodingå·¥å…·å»è¾…åŠ©è‡ªå·±å®ç°ä¸€ä¸ªå¿«é€Ÿçš„å›é¡¾å’Œç†Ÿç»ƒginå’Œgrpcçš„å¼€å‘ï¼›</p>
<p>è¿™é‡Œçš„è¯æˆ‘ä¹Ÿæ˜¯æ‹¿Traeè¾…åŠ©ä¸¾ä¾‹å­,é¢å¯¹è¿™ä¸ªgo+gin+grpcçš„å¼€æºé¡¹ç›®ï¼Œæ¢åšä»¥å‰ï¼Œå…‰æ˜¯ç¯å¢ƒé…ç½®å’Œç†è§£protoæ–‡ä»¶å®šä¹‰å°±èƒ½åŠé€€æˆ‘ï¼Œé¦–å…ˆæˆ‘æ²¡æœ‰ä¸Šæ¥å°±å†™ä»£ç ï¼Œè€Œæ˜¯å…ˆæŠŠæ•´ä¸ªé¡¹ç›®å–‚ç»™Traeï¼Œé—®å®ƒï¼šâ€œä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œé€šè¿‡è¿™ä¸ªé¡¹ç›®å­¦ä¹ GOåç«¯ï¼Œåº”è¯¥å…³æ³¨å“ªäº›æ ¸å¿ƒæ–‡ä»¶ï¼Œæ¢³ç†å¯¹åº”çš„æ•°æ®æµå‘ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7969c7e1cd0742dcb06c5d95c779042c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGlrYWNodTgwMw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396635&amp;x-signature=EFVva8%2ByidrLSFUDNfKzwoiZ14U%3D" alt="image.png" loading="lazy"/></p>
<p>å®ƒå¯ä»¥è¿…é€Ÿå¸®æˆ‘å®šä½å¯¹åº”çš„è·¯ç”±å±‚ï¼Œæ§åˆ¶å±‚ï¼Œä¸šåŠ¡å±‚ï¼Œæ¨¡å‹å±‚ç­‰ç­‰ï¼Œä¹Ÿå¯ä»¥è®©æˆ‘è·³è¿‡å¤§é‡ä¸é‡è¦çš„é…ç½®æ–‡ä»¶ï¼Œæå¤§åœ°èŠ‚çœäº†æˆ‘è‡ªå·±æ‘¸ç´¢å­¦ä¹ çš„ä¸€ä¸ªæ—¶é—´ï¼›</p>
<p>åç»­çš„è¯å°±æ˜¯é€šè¿‡åšä¸€äº›å°åŠŸèƒ½å»ç†Ÿæ‚‰é¡¹ç›®ï¼Œæˆ‘éœ€è¦æ–°å¢ä¸€ä¸ªæ¯”å¦‚â€œç”¨æˆ·æ¯æ—¥ç­¾åˆ°â€çš„æ¥å£ï¼Œæˆ‘æ²¡æœ‰å»æŸ¥Ginçš„æ–‡æ¡£æ€ä¹ˆå†™è·¯ç”±ï¼Œè€Œæ˜¯ç›´æ¥åœˆé€‰äº†ä¸€ä¸ªç±»ä¼¼çš„ç°æˆæ¥å£ä»£ç ï¼Œåœ¨å¯¹è¯æ¡†è¾“å…¥ï¼šâ€œå‚è€ƒè¿™ä¸ªæ¥å£çš„å†™æ³•ï¼Œå¸®æˆ‘å†™ä¸€ä¸ªç­¾åˆ°æ¥å£ï¼Œéœ€è¦åŒ…å«æ•°æ®åº“å­—æ®µçš„æ›´æ–°é€»è¾‘â€ã€‚é€šè¿‡Vibe Codingä¸ä»…å¾ˆå¿«ç”Ÿæˆäº†Goçš„é€»è¾‘ä»£ç ï¼Œè¿ SQL çš„ Migration æ–‡ä»¶å’Œ Swagger æ³¨é‡Šéƒ½å¸®æˆ‘å†™å¥½äº†ï¼›</p>
<p>é¡¹ç›®è¿è¡ŒæŠ¥é”™è¿˜æœ‰é¡¹ç›®é…ç½®å‡ºé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿä¸éœ€è¦å¤åˆ¶æŠ¥é”™åˆ°googleæ¼«æ— ç›®çš„åœ°æœï¼Œè€Œæ˜¯ç›´æ¥æŠŠæŠ¥é”™æ—¥å¿—ç”©è¿›å¯¹è¯æ¡†ï¼Œä»–å‘Šè¯‰æˆ‘å…·ä½“æ˜¯gRPCçš„ç±»å‹è½¬æ¢é”™è¯¯ï¼Œå¹¶ç»™å‡ºäº†ä¿®å¤ä»£ç ï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿè·Ÿè¿›çš„å»ç†è§£äº†Goçš„å¼ºç±»å‹ç‰¹æ€§ï¼Œæ¯”çœ‹å®˜æ–¹æ–‡æ¡£å¿«å¤šäº†ã€‚</p>
<h2 data-id="heading-3">4.æ€»ç»“ï¼šVibe Codingæ—¶ä»£çš„ç”Ÿå­˜æ³•åˆ™</h2>
<p>å›çœ‹ 2025ï¼Œä»è¢«åŠ¨ç­‰å¾…â€œåç«¯è½¬å‰ç«¯â€æ¥æŠ¢é¥­ç¢—ï¼Œåˆ°ä¸»åŠ¨å‡ºå‡»æŒæ¡åç«¯èƒ½åŠ›ï¼Œæˆ‘å‘ç°<strong>æŠ€æœ¯æ ˆçš„åšåº¦ä¸å†å–å†³äºè®°å¿†åŠ›ï¼Œè€Œå–å†³äºä½ æé—®çš„èƒ½åŠ›å’Œè§£å†³é—®é¢˜çš„å‹‡æ°”ã€‚</strong></p>
<p>æ‰€è°“çš„â€œå·ç‹è‡ªæ•‘â€ï¼Œä¸æ˜¯è®©æˆ‘ä»¬å˜å¾—æ¯” AI æ›´ä¼šå†™ä»£ç ï¼Œè€Œæ˜¯åˆ©ç”¨ AIï¼Œè®©æˆ‘ä»¬ä¸å†å—é™äºå•ä¸€è¯­è¨€çš„æ ‡ç­¾ã€‚ç°åœ¨é¢è¯•å®˜é—®æˆ‘ï¼šâ€œä½ ä¼š Go å—ï¼Ÿâ€æˆ‘å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼šâ€œæˆ‘æœ‰å®é™…ä¸Šçº¿çš„åŠŸèƒ½ï¼Œå‰©ä¸‹çš„è¯­æ³•ç»†èŠ‚ï¼ŒAI ä¼šå¸®æˆ‘æå®šã€‚â€</p>
<p>å¸Œæœ›æˆ‘çš„ç»å†èƒ½ç»™è¿˜åœ¨ç„¦è™‘çš„å‰ç«¯å…„å¼Ÿä»¬ä¸€ç‚¹å¯å‘ã€‚ç¥å¤§å®¶åœ¨ Trae ä¸€å‘¨å¹´ä¹‹é™…ï¼Œéƒ½èƒ½æ‰¾åˆ°è¶æ‰‹çš„å…µå™¨ï¼Œæ€å‡ºé‡å›´ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Service Meshï¼šè§£è€¦å¾®æœåŠ¡æ²»ç†ï¼Œé‡Šæ”¾äº‘åŸç”Ÿç”Ÿäº§åŠ›]]></title>    <link>https://juejin.cn/post/7596241980870377506</link>    <guid>https://juejin.cn/post/7596241980870377506</guid>    <pubDate>2026-01-19T03:12:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596241980870377506" data-draft-id="7596250622708105251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Service Meshï¼šè§£è€¦å¾®æœåŠ¡æ²»ç†ï¼Œé‡Šæ”¾äº‘åŸç”Ÿç”Ÿäº§åŠ›"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T03:12:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Service Meshï¼šè§£è€¦å¾®æœåŠ¡æ²»ç†ï¼Œé‡Šæ”¾äº‘åŸç”Ÿç”Ÿäº§åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T03:12:49.000Z" title="Mon Jan 19 2026 03:12:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾®æœåŠ¡æ¶æ„çš„æ¼”è¿›å†ç¨‹ä¸­ï¼Œ<strong>æœåŠ¡æ²»ç†</strong>å§‹ç»ˆæ˜¯æ ¸å¿ƒæŒ‘æˆ˜ï¼šä»æ—©æœŸä¾èµ–å„ç±» SDK çš„â€œå¼ºä¾µå…¥â€æ¨¡å¼ï¼Œåˆ° Java Agent çš„â€œå­—èŠ‚ç å¢å¼ºâ€æ–¹æ¡ˆï¼ŒæŠ€æœ¯å›¢é˜Ÿå§‹ç»ˆåœ¨å¯»æ‰¾ä¸€ç§<strong>æ—¢èƒ½è®©ä¸šåŠ¡ä¸“æ³¨æ ¸å¿ƒé€»è¾‘ï¼Œåˆèƒ½é«˜æ•ˆç®¡æ§åˆ†å¸ƒå¼ç³»ç»Ÿ</strong>çš„æ–¹æ³•ã€‚Service Meshï¼ˆæœåŠ¡ç½‘æ ¼ï¼‰çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€çŸ›ç›¾ï¼Œæˆä¸ºäº‘åŸç”Ÿæ—¶ä»£å¾®æœåŠ¡æ²»ç†çš„å…³é”®ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-0">ä¸€ã€Service Mesh æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Service Mesh æ˜¯ä¸€ä¸ª<strong>ä¸“é—¨çš„åŸºç¡€è®¾æ–½å±‚</strong>ï¼Œå®ƒçš„æ ¸å¿ƒä½¿å‘½æ˜¯â€œè®©æœåŠ¡é€šä¿¡ä¸æœåŠ¡æ²»ç†è§£è€¦â€ã€‚ç®€å•æ¥è¯´ï¼š</p>
<ul>
<li>æ‰€æœ‰æœåŠ¡é—´çš„è¯·æ±‚ï¼Œéƒ½ä¼šç»è¿‡ä¸€å±‚è½»é‡çº§çš„ç½‘ç»œä»£ç†ï¼ˆç§°ä¸º <strong>Sidecar</strong>ï¼Œå¦‚ Envoyï¼‰ï¼›</li>
<li>è¿™äº›ä»£ç†ç»Ÿä¸€å¤„ç†<strong>æµé‡ç®¡ç†ã€å¯è§‚æµ‹æ€§ï¼ˆç›‘æ§/æ—¥å¿—/é“¾è·¯è¿½è¸ªï¼‰ã€å®‰å…¨ï¼ˆè®¤è¯/æˆæƒ/åŠ å¯†ï¼‰</strong> ç­‰æœåŠ¡æ²»ç†æ ¸å¿ƒèƒ½åŠ›ï¼›</li>
<li>ä¸šåŠ¡ä»£ç åªéœ€å…³æ³¨è‡ªèº«é€»è¾‘ï¼Œæ— éœ€æ„ŸçŸ¥æ²»ç†é€»è¾‘çš„å­˜åœ¨ã€‚</li>
</ul>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼šå¦‚æœæŠŠå¾®æœåŠ¡æ¯”ä½œåŸå¸‚é‡Œçš„â€œå•†å®¶â€ï¼Œé‚£ä¹ˆ Sidecar å°±æ˜¯æ¯ä¸ªå•†å®¶é—¨å£çš„â€œæ™ºèƒ½å¿«é€’æŸœâ€â€”â€”å¿«é€’ï¼ˆæœåŠ¡è¯·æ±‚ï¼‰å¿…é¡»ç»è¿‡å¿«é€’æŸœåˆ†æ‹£ã€å®‰æ£€ï¼ˆæ²»ç†é€»è¾‘ï¼‰ï¼Œè€Œå•†å®¶åªéœ€è¦ä¸“å¿ƒå–è´§ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰ã€‚</p>
<h3 data-id="heading-1">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ Service Meshï¼Ÿ</h3>
<p>åœ¨ Service Mesh å‡ºç°å‰ï¼Œå¾®æœåŠ¡æ²»ç†ä¸»è¦ä¾èµ– <strong>SDK æ¨¡å¼</strong>å’Œ <strong>Java Agent æ¨¡å¼</strong>ï¼Œä½†è¿™ä¸¤ç§æ–¹æ¡ˆåœ¨äº‘åŸç”Ÿæ—¶ä»£é€æ¸æš´éœ²ç“¶é¢ˆï¼š</p>
<h4 data-id="heading-2">1. SDK æ¨¡å¼ï¼šâ€œå¼ºä¾µå…¥â€çš„ä»£ä»·</h4>
<p>SDK æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡æ²»ç†èƒ½åŠ›ï¼ˆå¦‚ Dubbo çš„æœåŠ¡å‘ç°ï¼‰ç›´æ¥è€¦åˆåœ¨ä¸šåŠ¡ä»£ç ä¸­ã€‚ä¼˜ç‚¹æ˜¯é€»è¾‘å†…èšã€æ€§èƒ½é«˜æ•ˆï¼›ä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼š</p>
<ul>
<li><strong>å¤šè¯­è¨€æˆæœ¬é«˜</strong>ï¼šJava SDK å†™çš„æœåŠ¡æ²»ç†é€»è¾‘ï¼Œæ— æ³•ç›´æ¥å¤ç”¨åœ¨ Goã€Python æœåŠ¡ä¸­ï¼Œå¼‚æ„è¯­è¨€å›¢é˜Ÿéœ€é‡å¤å¼€å‘ï¼›</li>
<li><strong>å‡çº§æˆæœ¬é«˜</strong>ï¼šæ²»ç†é€»è¾‘è¿­ä»£ï¼ˆå¦‚ç†”æ–­è§„åˆ™ä¼˜åŒ–ï¼‰æ—¶ï¼Œæ‰€æœ‰ä¾èµ–è¯¥ SDK çš„ä¸šåŠ¡ä»£ç éƒ½è¦åŒæ­¥å‡çº§ã€é‡å¯ï¼Œè¿­ä»£æ•ˆç‡æä½ã€‚</li>
</ul>
<h4 data-id="heading-3">2. Java Agent æ¨¡å¼ï¼šâ€œè¯­è¨€å±€é™â€çš„å›°å¢ƒ</h4>
<p>Java Agent å€ŸåŠ©â€œè¿è¡Œæ—¶å­—èŠ‚ç å¢å¼ºâ€æŠ€æœ¯ï¼Œå°†æ²»ç†é€»è¾‘ä¸‹æ²‰åˆ° Agent è¿›ç¨‹ï¼Œä¸šåŠ¡ä»£ç æ— éœ€ä¿®æ”¹ã€‚ä½†å®ƒä»…èƒ½è§£å†³ <strong>Java è¯­è¨€</strong>çš„å¾®æœåŠ¡æ²»ç†é—®é¢˜â€”â€”Goã€Rust ç­‰é Java æœåŠ¡çš„æ²»ç†ä»éœ€å›åˆ° SDK æˆ–è‡ªå®šä¹‰æ–¹æ¡ˆï¼Œæ— æ³•å®ç°â€œå…¨è¯­è¨€ç»Ÿä¸€æ²»ç†â€ã€‚</p>
<h4 data-id="heading-4">3. Service Meshï¼šâ€œè§£è€¦â€çš„ç ´å±€ä¹‹é“</h4>
<p>Service Mesh é€šè¿‡ <strong>Sidecar + æ§åˆ¶å¹³é¢</strong>çš„ç»„åˆï¼Œå½»åº•å°†æ²»ç†é€»è¾‘ä»ä¸šåŠ¡è¿›ç¨‹ä¸­å‰¥ç¦»ï¼š</p>
<ul>
<li><strong>Sidecarï¼ˆæ•°æ®å¹³é¢ï¼‰</strong> ï¼šæ¯ä¸ªæœåŠ¡å®ä¾‹æ—éƒ¨ç½²ä¸€ä¸ªä»£ç†ï¼Œæ¥ç®¡æ‰€æœ‰è¿›å‡ºæµé‡ï¼Œè´Ÿè´£æµé‡è·¯ç”±ã€ç†”æ–­ã€åŠ å¯†ç­‰â€œæ‰§è¡Œå±‚â€å·¥ä½œï¼›</li>
<li><strong>æ§åˆ¶å¹³é¢</strong>ï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰ Sidecar çš„é…ç½®ï¼ˆå¦‚æµé‡è§„åˆ™ã€å®‰å…¨ç­–ç•¥ï¼‰ï¼Œè´Ÿè´£â€œå†³ç­–å±‚â€å·¥ä½œï¼ˆå¦‚æœåŠ¡å‘ç°ã€ç­–ç•¥ä¸‹å‘ï¼‰ã€‚</li>
</ul>
<p>è¿™ç§æ¶æ„è®©ä¸šåŠ¡ä»£ç å®Œå…¨â€œæ— æ„ŸçŸ¥â€æ²»ç†é€»è¾‘ï¼ŒåŒæ—¶æ”¯æŒ<strong>å¤šè¯­è¨€æ— ç¼æ¥å…¥ã€æ²»ç†é€»è¾‘çƒ­å‡çº§ã€å¤æ‚æµé‡ç²¾ç»†æ§åˆ¶</strong>ï¼Œå®Œç¾é€‚é…äº‘åŸç”Ÿæ—¶ä»£â€œå¼‚æ„ã€å¼¹æ€§ã€å¿«é€Ÿè¿­ä»£â€çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-5">ä¸‰ã€Service Mesh çš„æŠ€æœ¯æ¶æ„ï¼šâ€œæ•°æ®å¹³é¢ + æ§åˆ¶å¹³é¢â€</h3>
<p>Service Mesh çš„æ ¸å¿ƒæ˜¯ <strong>â€œåˆ†å±‚è§£è€¦â€</strong> ï¼Œåˆ†ä¸º<strong>æ•°æ®å¹³é¢</strong>å’Œ<strong>æ§åˆ¶å¹³é¢</strong>ä¸¤å¤§ç»„ä»¶ç¾¤ï¼š</p>
<h4 data-id="heading-6">1. æ•°æ®å¹³é¢ï¼šSidecar ä»£ç†ï¼ˆå¦‚ Envoyï¼‰</h4>
<p>Sidecar æ˜¯æµé‡å’Œæ²»ç†é€»è¾‘çš„â€œæ‰§è¡Œè€…â€ï¼ŒèŒè´£åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ¥ç®¡æœåŠ¡çš„å…¥ç«™/å‡ºç«™æµé‡ï¼Œå®ç°è·¯ç”±è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€ç†”æ–­é™æµï¼›</li>
<li>é‡‡é›†è¯·æ±‚å»¶è¿Ÿã€é”™è¯¯ç‡ã€é“¾è·¯è¿½è¸ªç­‰å¯è§‚æµ‹æ€§æ•°æ®ï¼Œä¸ŠæŠ¥æ§åˆ¶å¹³é¢ï¼›</li>
<li>å¤„ç†æœåŠ¡é—´çš„ TLS åŠ å¯†ã€èº«ä»½è®¤è¯ç­‰å®‰å…¨é€»è¾‘ã€‚</li>
</ul>
<p>å…¸å‹ä»£è¡¨æ˜¯ Envoyï¼ˆäº‘åŸç”Ÿé¢†åŸŸæœ€æµè¡Œçš„ä»£ç†ï¼‰ï¼Œå®ƒé€šè¿‡æ’ä»¶åŒ–æ¶æ„æ”¯æŒä¸°å¯Œçš„æ²»ç†èƒ½åŠ›ï¼Œä¸”æ€§èƒ½æ¥è¿‘åŸç”Ÿç½‘ç»œè°ƒç”¨ã€‚</p>
<h4 data-id="heading-7">2. æ§åˆ¶å¹³é¢ï¼šâ€œå¤§è„‘â€ä¸â€œç¥ç»ä¸­æ¢â€</h4>
<p>æ§åˆ¶å¹³é¢è´Ÿè´£<strong>å†³ç­–ã€é…ç½®ã€åè°ƒ</strong>æ‰€æœ‰ Sidecar çš„è¡Œä¸ºï¼Œæ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>æœåŠ¡å‘ç°ä¸é…ç½®ä¸­å¿ƒ</strong>ï¼ˆå¦‚ Istio Pilotï¼‰ï¼šæ”¶é›†æœåŠ¡æ‹“æ‰‘ã€è·¯ç”±è§„åˆ™ï¼Œä¸‹å‘ç»™ Sidecarï¼›</li>
<li><strong>å®‰å…¨ä¸ç­–ç•¥å¼•æ“</strong>ï¼ˆå¦‚ Istio Citadelï¼‰ï¼šç®¡ç†æœåŠ¡è¯ä¹¦ã€è®¿é—®æ§åˆ¶ç­–ç•¥ï¼›</li>
<li><strong>å¯è§‚æµ‹æ€§èšåˆå™¨</strong>ï¼ˆå¦‚ Istio Mixerï¼Œå·²é€æ­¥å¼±åŒ–ï¼‰ï¼šæ±‡æ€» Sidecar ä¸ŠæŠ¥çš„ç›‘æ§ã€æ—¥å¿—ã€é“¾è·¯æ•°æ®ï¼Œå¯¹æ¥ Prometheusã€Jaeger ç­‰ç³»ç»Ÿã€‚</li>
</ul>
<h3 data-id="heading-8">å››ã€Service Mesh vs ä¼ ç»Ÿæ²»ç†æ¨¡å¼ï¼šä¼˜åŠ¿ä½•åœ¨ï¼Ÿ</h3>
<p>å¯¹æ¯” SDKã€Java Agentï¼ŒService Mesh çš„æ ¸å¿ƒä¼˜åŠ¿ä½“ç°åœ¨ <strong>â€œè§£è€¦â€â€œç»Ÿä¸€â€â€œå¼¹æ€§â€</strong> â€‹ ä¸‰ä¸ªç»´åº¦ï¼š</p>



































<table><thead><tr><th>ç»´åº¦</th><th>SDK æ¨¡å¼</th><th>Java Agent æ¨¡å¼</th><th>Service Mesh æ¨¡å¼</th></tr></thead><tbody><tr><td>è¯­è¨€æ”¯æŒ</td><td>ä»…ç»‘å®š SDK è¯­è¨€</td><td>ä»…æ”¯æŒ Java</td><td>å…¨è¯­è¨€ï¼ˆGo/Python/Rust ç­‰ï¼‰</td></tr><tr><td>æ²»ç†é€»è¾‘å‡çº§</td><td>éœ€æ”¹ä¸šåŠ¡ä»£ç </td><td>ä»…éœ€å‡çº§ Agent</td><td>ä»…éœ€å‡çº§ Sidecar</td></tr><tr><td>æµé‡æ²»ç†å¤æ‚åº¦</td><td>ç®€å•è·¯ç”±</td><td>ä¸­ç­‰ï¼ˆä¾èµ–å­—èŠ‚ç ï¼‰</td><td>å¤æ‚ï¼ˆç°åº¦ã€A/B æµ‹è¯•ç­‰ï¼‰</td></tr><tr><td>ä¸šåŠ¡ä¾µå…¥æ€§</td><td>å¼ºï¼ˆä»£ç è€¦åˆï¼‰</td><td>å¼±ï¼ˆå­—èŠ‚ç å¢å¼ºï¼‰</td><td>æ— ï¼ˆä»£ç†å®Œå…¨è§£è€¦ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-9">äº”ã€å®æˆ˜è§†è§’ï¼šService Mesh å¦‚ä½•è½åœ°ï¼Ÿï¼ˆä»¥ Istio ä¸ºä¾‹ï¼‰</h3>
<p>Istio æ˜¯ç›®å‰æœ€æˆç†Ÿçš„ Service Mesh å¼€æºæ–¹æ¡ˆï¼Œæ ¸å¿ƒæ˜¯åŸºäº Envoy å®ç°æ•°æ®å¹³é¢ï¼Œæ­é… Pilotã€Citadel ç­‰ç»„ä»¶æ„å»ºæ§åˆ¶å¹³é¢ã€‚å…¶è½åœ°æµç¨‹å¯ç®€åŒ–ä¸ºä¸‰æ­¥ï¼š</p>
<h4 data-id="heading-10">1. åŸºç¡€è®¾æ–½å‡†å¤‡</h4>
<p>ä¸ºæ¯ä¸ªå¾®æœåŠ¡å®ä¾‹æ—éƒ¨ç½² <strong>Envoy Sidecar</strong>ï¼Œå¹¶é€šè¿‡ Kubernetes ç­‰ç¼–æ’å·¥å…·ç®¡ç†ä»£ç†çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<h4 data-id="heading-11">2. æ ¸å¿ƒèƒ½åŠ›é…ç½®</h4>
<ul>
<li><strong>æµé‡ç®¡ç†</strong>ï¼šé€šè¿‡ VirtualServiceã€DestinationRule ç­‰ CRDï¼ˆè‡ªå®šä¹‰èµ„æºï¼‰ï¼Œå®šä¹‰ç°åº¦å‘å¸ƒã€æµé‡é•œåƒã€æ•…éšœæ³¨å…¥ç­‰è§„åˆ™ã€‚ä¾‹å¦‚ï¼šè®© 10% çš„è¯·æ±‚è·¯ç”±åˆ°æ–°ç‰ˆæœ¬æœåŠ¡ï¼ŒéªŒè¯ç¨³å®šæ€§åå†å…¨é‡å‘å¸ƒã€‚</li>
<li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šå¼€å¯ Envoy çš„è®¿é—®æ—¥å¿—ã€æŒ‡æ ‡é‡‡é›†ï¼Œå¯¹æ¥ Prometheus + Grafana å®ç°ç›‘æ§ï¼Œç»“åˆ Jaeger å®ç°é“¾è·¯è¿½è¸ªï¼Œå¿«é€Ÿå®šä½è¶…æ—¶ã€æ…¢è¯·æ±‚ç­‰é—®é¢˜ã€‚</li>
<li><strong>å®‰å…¨ç®¡æ§</strong>ï¼šé€šè¿‡ Istio Citadel è‡ªåŠ¨ç­¾å‘ TLS è¯ä¹¦ï¼Œé…ç½® AuthorizationPolicy å®ç°æœåŠ¡é—´â€œé›¶ä¿¡ä»»â€é‰´æƒï¼Œä¿éšœé€šä¿¡å®‰å…¨ã€‚</li>
</ul>
<h4 data-id="heading-12">3. ä¸šåŠ¡é›¶æ„ŸçŸ¥è¿­ä»£</h4>
<p>æ²»ç†é€»è¾‘ï¼ˆå¦‚æ–°å¢é™æµè§„åˆ™ã€è°ƒæ•´æµé‡æ¯”ä¾‹ï¼‰åªéœ€æ›´æ–° Istio æ§åˆ¶å¹³é¢çš„é…ç½®ï¼Œæ‰€æœ‰ Sidecar ä¼šè‡ªåŠ¨åŒæ­¥å˜æ›´ï¼Œä¸šåŠ¡æœåŠ¡æ— éœ€é‡å¯ã€æ”¹ä»£ç ã€‚</p>
<h3 data-id="heading-13">å…­ã€æ€»ç»“ä¸å±•æœ›</h3>
<p>Service Mesh å¹¶éâ€œé“¶å¼¹â€ï¼Œä½†åœ¨<strong>å¤šè¯­è¨€å¾®æœåŠ¡æ¶æ„ã€é«˜é¢‘æ²»ç†é€»è¾‘è¿­ä»£ã€å¤æ‚æµé‡æ²»ç†</strong>çš„åœºæ™¯ä¸‹ï¼Œå®ƒæ˜¯å½“å‰æœ€å…·æ€§ä»·æ¯”çš„æŠ€æœ¯æ–¹æ¡ˆã€‚éšç€äº‘åŸç”ŸæŠ€æœ¯çš„å‘å±•ï¼ŒService Mesh æ­£æœç€ <strong>â€œæ›´è½»é‡åŒ–â€â€œæ›´æ˜“è¿ç»´â€â€œæ›´æ·±åº¦é›†æˆ Kubernetesâ€</strong> â€‹ æ–¹å‘æ¼”è¿›ï¼ˆå¦‚ Linkerd 2.x å¯¹èµ„æºå ç”¨çš„ä¼˜åŒ–ã€Kubernetes åŸç”ŸæœåŠ¡ç½‘æ ¼çš„æ¢ç´¢ï¼‰ã€‚</p>
<p>å¯¹äºæŠ€æœ¯å›¢é˜Ÿè€Œè¨€ï¼Œç†è§£ Service Mesh çš„æœ¬è´¨â€”â€”â€œè§£è€¦æ²»ç†ä¸ä¸šåŠ¡ï¼Œè®©ä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹â€â€”â€”æ˜¯æ‹¥æŠ±äº‘åŸç”Ÿçš„å…³é”®ä¸€æ­¥ã€‚æˆ–è®¸åœ¨ä¸ä¹…çš„å°†æ¥ï¼ŒService Mesh ä¼šæˆä¸ºå¾®æœåŠ¡æ¶æ„çš„â€œé»˜è®¤é€‰é¡¹â€ï¼Œå°±åƒå®¹å™¨åŒ–å·²æˆä¸ºåº”ç”¨éƒ¨ç½²çš„æ ‡é…ä¸€æ ·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿å§†çº§æ•™ç¨‹ï¼Œå¤§æ¨¡å‹ï¼ˆæœ¬åœ°åŒ–éƒ¨ç½²ï¼‰+MCP+æ™ºèƒ½ä½“å¼€å‘]]></title>    <link>https://juejin.cn/post/7596186565270405135</link>    <guid>https://juejin.cn/post/7596186565270405135</guid>    <pubDate>2026-01-18T13:46:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596186565270405135" data-draft-id="7596170399881134132" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿å§†çº§æ•™ç¨‹ï¼Œå¤§æ¨¡å‹ï¼ˆæœ¬åœ°åŒ–éƒ¨ç½²ï¼‰+MCP+æ™ºèƒ½ä½“å¼€å‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-18T13:46:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Adam4AI"/> <meta itemprop="url" content="https://juejin.cn/user/3106561337077561"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿å§†çº§æ•™ç¨‹ï¼Œå¤§æ¨¡å‹ï¼ˆæœ¬åœ°åŒ–éƒ¨ç½²ï¼‰+MCP+æ™ºèƒ½ä½“å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3106561337077561/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Adam4AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:46:18.000Z" title="Sun Jan 18 2026 13:46:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>éœ€è¦å…¨æµç¨‹èµ°ä¸€éï¼Œè®©ä½ æ›´æ¸…æ¥šï¼Œå¤§æ¨¡å‹+MCPæ˜¯å¦‚ä½•ç»“åˆå¹¶å·¥ä½œçš„ã€‚åœ¨ä½ çš„ç”µè„‘ä¸Šå°±å¯ä»¥å®Œæˆä¸€åˆ‡å®éªŒã€‚</p>
<p>å…ˆè®²ç»“æ„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5c589bf46d1492089380dd5d954f0af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=k0JGRuwaPp%2BHbBAL6zrrphUulA8%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾ï¼Œæ™ºèƒ½ä½“ä¸å¤§æ¨¡å‹ï¼Œä»¥åŠMCP SERVERçš„å…³ç³»ã€‚æ™ºèƒ½ä½“åœ¨æ‹¿åˆ°ç”¨æˆ·çš„æé—®ä¹‹åï¼Œä¼šè®¿é—®MCP SERVERè·å–è¯¥serveræä¾›äº†å“ªäº›æœåŠ¡ï¼Œè¿åŒè¿™äº›ä¿¡æ¯ï¼Œä»¥åŠæç¤ºè¯ï¼Œç»™åˆ°å¤§æ¨¡å‹ã€‚</p>
<p>ä»¥ä¸€ä¸ªclaudeï¼ˆæ™ºèƒ½ä½“ï¼‰è°ƒç”¨é«˜å¾·åœ°å›¾æœåŠ¡çš„åœºæ™¯ä¸ºä¾‹ï¼ˆå›¾ç‰‡æ¥è‡ªè‰¾é€—ç¬”çš„ä¹¦ã€Šè¿™å°±æ˜¯MCPã€‹ï¼Œå¦‚æœä½ è¿˜ä¸æ˜¯å¾ˆäº†è§£MCPï¼Œæ¨èè¯»ä¸€è¯»ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/322fa5be77874655afd2321def1ce2db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=Wlk7qUFGbOy9GpeOGeqUxP5U%2BfA%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<p>1ï¼‰é¦–å…ˆæ˜¯é«˜å¾·åœ°å›¾éœ€è¦å¼€æ”¾MCPæœåŠ¡ï¼Œç”¨äºè·¯çº¿è§„åˆ’ã€‚</p>
<p>2ï¼‰ç„¶åClaudeï¼ˆä¹Ÿå°±æ˜¯æ™ºèƒ½ä½“ï¼‰éœ€è¦é…ç½®è¯¥MCP SERVERã€‚</p>
<p>3ï¼‰Claudeè·å–ç”¨æˆ·çš„é—®é¢˜ï¼Œå¹¶æŠŠä»MCP SERVERè·å–åˆ°çš„å·¥å…·åˆ—è¡¨ï¼ˆåŒ…æ‹¬å·¥å…·çš„åç§°ã€ç”¨é€”ã€å‚æ•°ï¼‰ä¸€å¹¶åé¦ˆç»™å¤§æ¨¡å‹</p>
<p>4ï¼‰å¤§æ¨¡å‹æ ¹æ®é—®é¢˜å’Œå·¥å…·æ¸…å•ï¼Œåˆ†ææ„å›¾ï¼Œå¹¶ç¡®è®¤æ˜¯å¦è¦è°ƒç”¨å·¥å…·ï¼Œä»¥åŠè°ƒç”¨çš„å‚æ•°ï¼ŒæŠŠè¿™äº›ä¿¡æ¯è¿”å›ç»™æ™ºèƒ½ä½“ã€‚</p>
<p>5ï¼‰æ™ºèƒ½ä½“æ ¹æ®å¤§æ¨¡å‹çš„æŒ‡ç¤ºï¼Œè°ƒç”¨MCPæœåŠ¡ã€‚</p>
<p>6ï¼‰MCPè¿”å›ç»“æœï¼Œæ™ºèƒ½ä½“å†æŠŠç»“æœä¸€å¹¶ç»™åˆ°å¤§æ¨¡å‹ï¼Œæœ‰å¤§æ¨¡å‹ç»„è£…è‡ªç„¶è¯­è¨€çš„ç­”å¤ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯è¿™æ ·ã€‚ç°åœ¨éœ€è¦åœ¨æœ¬åœ°æ¥éªŒè¯è¿™ä¸ªè¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æœ¬åœ°éƒ¨ç½²å¤§æ¨¡å‹</h2>
<p>é¦–å…ˆï¼Œéœ€è¦æœ¬åœ°åŒ–éƒ¨ç½²å¤§æ¨¡å‹ï¼Œè¿™ä¸ªæˆ‘ä»¬éœ€è¦å€ŸåŠ©ollamaï¼Œå› ä¸ºå¤§æ¨¡å‹çš„æœ¬åœ°éƒ¨ç½²éœ€è¦è§£å†³å…¼å®¹æ€§é—®é¢˜ï¼Œä»¥åŠéœ€è¦ä¸€å †ä»£ç æ”¯æŒæ¨¡å‹çš„æ¨ç†ï¼Œè¿™äº›éƒ½ç”±ollamaè¿™ä¸ªå¤§ç»„ä»¶æ¥å®Œæˆã€‚</p>
<p>å…³äºollamaçš„éƒ¨ç½²ï¼Œä»¥åŠæ‹‰å–æ¨¡å‹ï¼Œå¯ä»¥å‚è€ƒç½‘ä¸Šæ–¹æ¡ˆï¼Œæ€»è€Œè¨€ä¹‹ï¼Œå¯åŠ¨ollamaçš„æœåŠ¡ï¼Œå¹¶æ‹‰å–deepseekçš„æ¨¡å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d0d60d8c2d44a1f8b0bbec5e15f4bc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=8Ej7exlZeUapiahl9loEa%2FwHoP8%3D" alt="image.png" loading="lazy"/></p>
<p>å®Œæˆä»¥ä¸Šè¿‡ç¨‹ï¼Œå°±åœ¨æœ¬åœ°å®Œæˆäº†å¤§æ¨¡å‹éƒ¨ç½²ï¼Œå¯ä»¥å›ç­”é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24c495cc59e346ca9590350aac43bcde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=ArG4Qc1RwpHanmlFqnJ2qP7scTw%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ—¶å€™é»˜è®¤åœ¨11434ç«¯å£ä¼šå¯åŠ¨ollamaçš„æœåŠ¡ï¼Œå¹¶æä¾›å¯¹deepseekæœ¬åœ°æ¨¡å‹çš„è®¿é—®ã€‚</p>
<p>åŒæ—¶éœ€è¦ä¸€ä¸ªå®¢æˆ·ç«¯è®¿é—®ollamaï¼ŒæŠŠé—®é¢˜ä¼ ç»™å¤§æ¨¡å‹ï¼Œå¹¶è·å–å›ç­”ã€‚</p>
<pre><code class="hljs language-#" lang="#">import httpx  
from typing import List, Dict, Any, AsyncGenerator  
  
class OllamaClient:  
def __init__(self, base_url: str = "http://localhost:11434"):  
    self.api_url = f"{base_url.rstrip('/')}/api/chat"  
  
async def chat_complete(  
    self,  
    model: str,  
    messages: List[Dict[str, str]],  
    stream: bool = False,  
    options: Dict[str, Any] = None  
) -&gt; str:  
"""éæµå¼å®Œæ•´å“åº”"""  
    payload = {  
        "model": model,  
        "messages": messages,  
        "stream": False,  
        "options": options or {}  
    }  
 
    async with httpx.AsyncClient(timeout=300.0) as client:  
    resp = await client.post(self.api_url, json=payload)  
    resp.raise_for_status()  
    return resp.json()["message"]["content"]  
  
async def chat_stream(  
    self,  
    model: str,  
    messages: List[Dict[str, str]],  
    options: Dict[str, Any] = None  
    ) -&gt; AsyncGenerator[str, None]:  
    """æµå¼å“åº”ï¼ˆé€ tokenï¼‰"""  
    payload = {  
        "model": model,  
        "messages": messages,  
        "stream": True,  
        "options": options or {}  
    }  
    async with httpx.AsyncClient(timeout=300.0) as client:  
        async with client.stream("POST", self.api_url, json=payload) as resp:  
            resp.raise_for_status()  
            async for line in resp.aiter_lines():  
                if line.strip():  
                    data = httpx.Response(json=line).json()  
                    if "message" in data and "content" in data["message"]:  
                        yield data["message"]["content"]
</code></pre>
<h2 data-id="heading-1">äºŒã€MCP server</h2>
<p>æˆ‘ä»¬ç”¨fastapiåˆ›å»ºä¸€ä¸ªMCP SERVERï¼ŒåŠŸèƒ½éå¸¸ç®€å•ã€‚å£°æ˜è¯¥serveræ”¯æŒçš„åŠŸèƒ½ï¼Œå¹¶æ”¯æŒè‡ªåŠ¨æ³¨å†Œã€‚åŒæ—¶æä¾›å¯¹å…·ä½“è°ƒç”¨è¿›è¡ŒåŒæ­¥æˆ–å¼‚æ­¥å¤„ç†çš„å®ç°ã€‚åœ¨8080ç«¯å£å¯åŠ¨æœåŠ¡ã€‚</p>
<pre><code class="hljs language-#" lang="#">from fastapi import FastAPI, HTTPException  
from pydantic import BaseModel  
from typing import List, Dict, Any, Callable, Optional  
import json  
import inspect  
import asyncio  
  
app = FastAPI(  
    title="Generic MCP (Model Context Protocol) Server",  
    description="A standard tool/function server for LLMs and agents.",  
    version="1.0.0"  
)  
  
# å·¥å…·æ³¨å†Œè¡¨ï¼šname -&gt; metadata + callable  
TOOLS: Dict[str, Dict] = {}  
  
class ToolCallRequest(BaseModel):  
    name: str  
    arguments: Dict[str, Any]  
  
class ToolCallResponse(BaseModel):  
    success: bool  
    result: Optional[str] = None  
    error: Optional[str] = None  
  
 
def register_tool(name: str, description: str = "", is_async: bool = False):  
"""  
è£…é¥°å™¨ï¼šæ³¨å†Œä¸€ä¸ªå·¥å…·å‡½æ•°åˆ° MCP Server  
æ”¯æŒåŒæ­¥æˆ–å¼‚æ­¥å‡½æ•°ï¼Œè‡ªåŠ¨è§£æå‚æ•°ç±»å‹ï¼ˆä»…æ”¯æŒç®€å•ç±»å‹ï¼‰  
"""  
    def decorator(func: Callable):  
        sig = inspect.signature(func)  
        parameters = {}  
        for param_name, param in sig.parameters.items():  
            # é»˜è®¤å‡è®¾ä¸ºå­—ç¬¦ä¸²ï¼ˆLLM é€šå¸¸è¾“å‡º stringï¼‰  
            parameters[param_name] = {"type": "string"}  
  
        TOOLS[name] = {  
            "function": func,  
            "description": description,  
            "parameters": parameters,  
            "is_async": is_async  
        }  
        return func  
    return decorator  
  
@app.get("/mcp/v1/tools", response_model=List[Dict])  
async def list_tools():  
"""è¿”å›æ‰€æœ‰å¯ç”¨å·¥å…·çš„å…ƒæ•°æ®ï¼ˆç¬¦åˆ MCP è§„èŒƒï¼‰"""  
    tools_meta = []  
    for name, meta in TOOLS.items():  
        tools_meta.append({  
        "name": name,  
        "description": meta["description"],  
        "parameters": {  
        "type": "object",  
        "properties": meta["parameters"]  
         }  
    })  
return tools_meta  
  
 
@app.post("/mcp/v1/tool_call", response_model=ToolCallResponse)  
async def call_tool(request: ToolCallRequest):  
"""æ‰§è¡ŒæŒ‡å®šå·¥å…·"""  
    if request.name not in TOOLS:  
        raise HTTPException(status_code=404, detail=f"Tool '{request.name}' not found")  
  
    tool = TOOLS[request.name]  
    func = tool["function"]  
  
    try:  
    # æ‰§è¡Œå‡½æ•°ï¼ˆåŒæ­¥æˆ–å¼‚æ­¥ï¼‰  
        if tool["is_async"]:  
            result = await func(**request.arguments)  
        else:  
        # åœ¨çº¿ç¨‹æ± ä¸­è¿è¡ŒåŒæ­¥å‡½æ•°é¿å…é˜»å¡äº‹ä»¶å¾ªç¯  
            loop = asyncio.get_event_loop()  
            result = await loop.run_in_executor(None, lambda: func(**request.arguments))  
        return ToolCallResponse(success=True, result=str(result))  
    except Exception as e:  
        return ToolCallResponse(success=False, error=str(e))  
  
  
@register_tool("get_current_time", "Get current date and time in ISO format")  
def get_current_time() -&gt; str:  
    from datetime import datetime  
    return datetime.now().isoformat()  
  
@register_tool("add_numbers", "Add two numbers together")  
def add_numbers(a: float, b: float) -&gt; float:  
    return a + b  
  
@register_tool("search_document", "Search a document for keywords (mock)")  
def search_document(query: str) -&gt; str:  
    # æ¨¡æ‹Ÿæœç´¢  
    return f"Mock result for query: '{query}'"  
  
# å¯åŠ¨å…¥å£ï¼Œæœ¬è´¨ä¸Šåªæ˜¯ç”¨fastapiå¯åŠ¨ä¸€ä¸ªæœåŠ¡  
if __name__ == "__main__":  
    import uvicorn  
    print("ğŸš€ Starting Generic MCP Server...")  
    print(" - Tools endpoint: GET http://localhost:8080/mcp/v1/tools")  
    print(" - Call tool: POST http://localhost:8080/mcp/v1/tool_call")  
    uvicorn.run(app, host="0.0.0.0", port=8080)
</code></pre>
<p>è¯¥serveræœ‰ä¸€äº›ç®€å•çš„ç¤ºä¾‹åŠŸèƒ½ï¼Œæ¯”å¦‚è·å–æ—¶é—´ã€åŠ æ³•è¿ç®—ã€‚å¯ä»¥æ ¹æ®å®é™…æƒ…å†µï¼Œæ·»åŠ ä½ éœ€è¦çš„æœåŠ¡ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€MCP client</h2>
<p>ä¸ºäº†è®¿é—®è¯¥serverï¼Œéœ€è¦ä¸€ä¸ªclientï¼Œè¯¥æ®µå†…å®¹ä¹Ÿç”¨äºæ™ºèƒ½ä½“è°ƒç”¨mcp serveræ—¶ä½¿ç”¨ã€‚</p>
<p>æ™ºèƒ½ä½“åœ¨éœ€è¦çš„æ—¶å€™ï¼Œä¼šä¸»åŠ¨åˆ›å»ºclientï¼Œè¿æ¥å…·ä½“çš„mcp serverã€‚</p>
<p>ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-#" lang="#">import httpx  
from typing import List, Dict, Any, Optional  
  
class MCPClient:  
    def __init__(self, base_url: str = "http://localhost:8080"):  
        self.base_url = base_url.rstrip("/")  
        self._tools_cache: Optional[List[Dict]] = None  
  
async def list_tools(self) -&gt; List[Dict]:  
"""è·å–æ‰€æœ‰å¯ç”¨å·¥å…·"""  
    if self._tools_cache is None:  
        async with httpx.AsyncClient() as client:  
            resp = await client.get(f"{self.base_url}/mcp/v1/tools")  
            resp.raise_for_status()  
            self._tools_cache = resp.json()  
    return self._tools_cache  
  
async def call_tool(self, name: str, arguments: Dict[str, Any]) -&gt; Dict[str, Any]:  
"""è°ƒç”¨æŒ‡å®šå·¥å…·"""  
    async with httpx.AsyncClient() as client:  
        resp = await client.post(  
            f"{self.base_url}/mcp/v1/tool_call",  
            json={"name": name, "arguments": arguments}  
        )  
        resp.raise_for_status()  
        return resp.json()  
  
# ç¤ºä¾‹ä½¿ç”¨ï¼ˆéå¿…éœ€ï¼‰  
if __name__ == "__main__":  
    import asyncio  
  
    async def demo():  
        client = MCPClient()  
        tools = await client.list_tools()  
        print("Available tools:", [t["name"] for t in tools])  
  
        result = await client.call_tool("get_current_time", {})  
        print("Time result:", result)  
  
        result = await client.call_tool("add_numbers", {"a": 10, "b": 20})  
        print("Add result:", result)  
  
        result = await client.call_tool("search_document", {"query":"databases"})  
        print("Search document result:", result)  
  
    asyncio.run(demo())

</code></pre>
<p>æ‰§è¡Œclientçš„ç»“æœï¼Œèƒ½å¤Ÿæ­£å¸¸åˆ—å‡ºserverçš„åŠŸèƒ½ï¼Œå¹¶è¿”å›æ­£å¸¸çš„ç»“æœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/702be67098014c14a989deeaa2ef1c9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=OoASR8%2Bp5s5agcFKxDxMwAVYkfA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€æ™ºèƒ½ä½“</h2>
<p>åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šï¼Œå®ç°ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚å®ƒéœ€è¦å®ç°ä»å¤§æ¨¡å‹æ¨ç†ï¼Œå¹¶è·å–MCPçš„ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-#" lang="#">import asyncio  
import json  
import re  
from typing import List, Dict, Any, Optional  
from mcpclient import MCPClient  
from ollama_client import OllamaClient  
  
class AIAgent:  
    def __init__(  
        self,  
        model: str = "deepseek:7b",  
        ollama_url: str = "http://localhost:11434",  
        mcp_url: str = "http://localhost:8080"  
    ):  
        self.model = model  
        self.ollama = OllamaClient(ollama_url)  
        self.mcp = MCPClient(mcp_url)  
        self.tools_info: List[Dict[str, Any]] = []  
        self.system_prompt = ""  
  
    async def initialize(self):  
    """å¯åŠ¨æ—¶è·å– MCP å·¥å…·åˆ—è¡¨å¹¶æ„å»º system prompt"""  
        try:  
            self.tools_info = await self.mcp.list_tools()  
            print(f"âœ… Loaded {len(self.tools_info)} tools from MCP Server.")  
        except Exception as e:  
            print(f"âš ï¸ Warning: Failed to connect to MCP Server: {e}")  
            self.tools_info = []  
  
    # æ„å»ºå¼•å¯¼æ¨¡å‹ä½¿ç”¨å·¥å…·çš„ç³»ç»Ÿæç¤º  
    if self.tools_info:  
        tools_desc = "\n".join([  
            f'- {tool["name"]}: {tool["description"]} | å‚æ•°: {list(tool["parameters"]["properties"].keys())}'  
            for tool in self.tools_info  
        ])  
        self.system_prompt = (  
            "ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·å¸®åŠ©ç”¨æˆ·ï¼š\n"  
            f"{tools_desc}\n\n"  
            "å½“éœ€è¦è°ƒç”¨å·¥å…·æ—¶ï¼Œè¯·ä¸¥æ ¼æŒ‰ä»¥ä¸‹ JSON æ ¼å¼è¾“å‡ºï¼Œä¸”ä¸è¦åŒ…å«å…¶ä»–å†…å®¹ï¼š\n"  
            '{"tool_name": "å·¥å…·å", "arguments": {"param1": "value1", ...}}\n'  
            "å¦‚æœä¸éœ€è¦è°ƒç”¨å·¥å…·ï¼Œè¯·ç›´æ¥å›ç­”ã€‚"  
        )  
    else:  
        self.system_prompt = "ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„ AI åŠ©æ‰‹ã€‚"  
  
def _is_tool_call(self, text: str) -&gt; Optional[Dict[str, Any]]:  
    """åˆ¤æ–­æ¨¡å‹è¾“å‡ºæ˜¯å¦ä¸ºå·¥å…·è°ƒç”¨æŒ‡ä»¤"""  
    try:  
        # å°è¯•æå– JSON å—ï¼ˆå…¼å®¹ markdown code blockï¼‰  
        json_match = re.search(r"```(?:json)?\s*({.*?})\s*```", text, re.DOTALL)  
        raw_json = json_match.group(1) if json_match else text.strip()  
        data = json.loads(raw_json)  
        if isinstance(data, dict) and "tool_name" in data and "arguments" in data:  
            return data  
    except (json.JSONDecodeError, AttributeError):  
        pass  
    return None  
  
async def run(self, user_input: str, stream: bool = False, max_steps: int = 3) -&gt; str:  
    """  
    æ‰§è¡Œä¸€æ¬¡å®Œæ•´æ¨ç†ï¼ˆæ”¯æŒå¤šè½®å·¥å…·è°ƒç”¨ï¼‰  
    """  
    messages = [  
    {"role": "system", "content": self.system_prompt},  
    {"role": "user", "content": user_input}  
    ]  
  
    for step in range(max_steps):  
    # è°ƒç”¨å¤§æ¨¡å‹  
    response = await self.ollama.chat_complete(self.model, messages)  
  
    # æ£€æŸ¥æ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·  
    tool_call = self._is_tool_call(response)  
    if tool_call:  
        tool_name = tool_call["tool_name"]  
        arguments = tool_call["arguments"]  
  
        # è°ƒç”¨ MCP å·¥å…·  
        try:  
            tool_result = await self.mcp.call_tool(tool_name, arguments)  
            observation = (  
                f"Tool '{tool_name}' executed. "  
                f"Success: {tool_result['success']}. "  
                f"Result: {tool_result.get('result', '') or tool_result.get('error', '')}"  
            )  
        except Exception as e:  
            observation = f"Failed to call tool '{tool_name}': {str(e)}"  
  
        # å°†å·¥å…·è°ƒç”¨å’Œç»“æœåŠ å…¥å¯¹è¯å†å²  
        messages.append({"role": "assistant", "content": response})  
        messages.append({"role": "user", "content": f"[Observation]: {observation}"})  
  
        if step == max_steps - 1:  
            # æœ€åä¸€è½®ï¼Œå¼ºåˆ¶ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ  
            messages.append({"role": "user", "content": "è¯·æ ¹æ®ä»¥ä¸Šä¿¡æ¯ç»™å‡ºæœ€ç»ˆå›ç­”ã€‚"})  
            response = await self.ollama.chat_complete(self.model, messages)  
            break  
    else:  
        # æ— éœ€å·¥å…·ï¼Œç›´æ¥è¿”å›  
        break  
  
return response  
  
async def run_stream(self, user_input: str, max_steps: int = 3):  
    """  
    æµå¼è¾“å‡ºæœ€ç»ˆå›ç­”ï¼ˆæ³¨æ„ï¼šå·¥å…·è°ƒç”¨é˜¶æ®µä»ä¸ºéæµå¼ï¼‰  
    """  
    final_answer = await self.run(user_input, stream=False, max_steps=max_steps)  
    for chunk in final_answer.split(" "):  
        yield chunk + " "  
        await asyncio.sleep(0.01)  
  
async def main():  
    # åˆå§‹åŒ– Agent  
    agent = AIAgent(model="deepseek-r1")  
    await agent.initialize()  
  
    # ç¤ºä¾‹æŸ¥è¯¢  
    query = "ç°åœ¨å‡ ç‚¹äº†ï¼Ÿç„¶åè®¡ç®— 123 + 456 ç­‰äºå¤šå°‘ï¼Ÿ"  
    print(f"ğŸ‘¤ User: {query}\n")  
  
    # éæµå¼è¿è¡Œ  
    answer = await agent.run(query)  
    print(f"ğŸ¤– Agent: {answer}\n")  
  
    # æµå¼è¿è¡Œï¼ˆæ¨¡æ‹Ÿæ‰“å­—æ•ˆæœï¼‰  
    print("ğŸ¤– Agent (streaming): ", end="", flush=True)  
    async for chunk in agent.run_stream("åŒ—äº¬ä»Šå¤©çš„å¤©æ°”å¦‚ä½•ï¼Ÿ"):  
    print(chunk, end="", flush=True)  
    print("\n")  
  
if __name__ == "__main__":  
    asyncio.run(main())
</code></pre>
<h2 data-id="heading-4">äº”ã€å®éªŒç»“æœ</h2>
<p>è¿è¡Œä»¥ä¸Šçš„æ™ºèƒ½ä½“ï¼Œå¾—åˆ°å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25c743a084244d9bb1ea2d0f7a7cff93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=4w8e2xYy2fS0%2FkUJi8lm1aPUGTE%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒæˆåŠŸçš„è°ƒç”¨äº†MCPä¸­çš„æœåŠ¡ get_current_timeå’Œadd_numberï¼Œå¹¶è¿”å›äº†ç»“æœã€‚</p>
<p>ï¼ˆæ³¨ï¼šå…¶ä¸­çš„â€œéœ€è¦è°ƒç”¨å¤–éƒ¨çš„MCPâ€æ˜¯æˆ‘ä¸ºäº†è°ƒè¯•åŠ å…¥çš„è¾“å‡ºï¼Œè¯æ˜ç¡®å®è°ƒç”¨äº†å‡½æ•°ã€‚ï¼‰</p>
<p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯åŒ—äº¬çš„å¤©æ°”ï¼Œç”±äºç¼ºä¹ç›¸åº”çš„å†…å®¹ï¼Œå¤§æ¨¡å‹æ— æ³•ç»™å‡ºå›ç­”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f2b9c4e64aa407a973f152b507dc920~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWRhbTRBSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769348778&amp;x-signature=GAXSkVkKfgkYFtb4DuAuQIOKUkA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">å…­ã€æ€»ç»“</h2>
<p>å®Œæ•´éªŒè¯äº†æ™ºèƒ½ä½“ã€å¤§æ¨¡å‹ã€MCPçš„ç›¸äº’å…³ç³»ã€‚å¹¶é€šè¿‡ä»£ç å®ç°äº†MCP serverã€AI Agentã€‚åŒæ—¶å±•ç¤ºäº†æœ¬åœ°åŒ–éƒ¨ç½²çš„å¤§æ¨¡å‹ï¼Œå¦‚ä½•ä¸MCPåŠŸèƒ½ç»“åˆï¼Œæä¾›æ›´ç²¾ç¡®çš„å›ç­”ã€‚</p>
<p>å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# ğŸ¨ ä¼˜é›… CSS çš„è¿›é˜¶ä¹‹è·¯ï¼šç”¨ Stylus é‡æ„å“åº”å¼é¢æ¿å¸ƒå±€é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7596171325532520489</link>    <guid>https://juejin.cn/post/7596171325532520489</guid>    <pubDate>2026-01-18T12:06:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596171325532520489" data-draft-id="7596221097865314310" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# ğŸ¨ ä¼˜é›… CSS çš„è¿›é˜¶ä¹‹è·¯ï¼šç”¨ Stylus é‡æ„å“åº”å¼é¢æ¿å¸ƒå±€é¡¹ç›®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-18T12:06:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·80110532256"/> <meta itemprop="url" content="https://juejin.cn/user/1927884034804425"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # ğŸ¨ ä¼˜é›… CSS çš„è¿›é˜¶ä¹‹è·¯ï¼šç”¨ Stylus é‡æ„å“åº”å¼é¢æ¿å¸ƒå±€é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927884034804425/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·80110532256
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T12:06:55.000Z" title="Sun Jan 18 2026 12:06:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¨ ä¼˜é›… CSS çš„è¿›é˜¶ä¹‹è·¯ï¼šç”¨ Stylus é‡æ„å“åº”å¼é¢æ¿å¸ƒå±€é¡¹ç›®</h2>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šæœ¬æ–‡ä»é›¶å¼€å§‹è®²è§£ CSS é¢„å¤„ç†å™¨ Stylus çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå®æˆ˜é¡¹ç›®ï¼ˆåŠ¨æ€å“åº”å¼é¢æ¿å¸ƒå±€ï¼‰å±•ç¤ºå…¶ä¼˜åŠ¿ã€‚æˆ‘ä»¬å°†æ·±å…¥å‰–æåµŒå¥—è¯­æ³•ã€å˜é‡ã€æ··åˆå®ç­‰é«˜çº§ç‰¹æ€§ï¼Œä»¥åŠå¦‚ä½•ä¸ Flexboxã€å®šä½ç³»ç»Ÿã€åª’ä½“æŸ¥è¯¢ç»“åˆï¼Œæ‰“é€ å¯ç»´æŠ¤æ€§å¼ºçš„æ ·å¼ä»£ç ã€‚æ–‡æœ«é™„å®Œæ•´é¡¹ç›®ä»£ç ä¸ç¼–è¯‘æŠ€å·§ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ CSS é¢„å¤„ç†å™¨ï¼Ÿ</h3>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒåŸå§‹ CSS å¸¸é¢ä¸´è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>ä»£ç å†—ä½™é‡å¤ï¼ˆå¦‚å¤šæµè§ˆå™¨å‰ç¼€ï¼‰</li>
<li>ç¼ºä¹ç¼–ç¨‹èƒ½åŠ›ï¼ˆæ— å˜é‡ã€å‡½æ•°ï¼‰</li>
<li>å±‚çº§åµŒå¥—ä¸ç›´è§‚</li>
<li>æ¨¡å—åŒ–å›°éš¾</li>
</ul>
<p>è€Œ <strong>Stylus</strong> ä½œä¸ºä¸‰å¤§ CSS é¢„å¤„ç†å™¨ä¹‹ä¸€ï¼ˆå¦ä¸¤è€…æ˜¯ Sass å’Œ Lessï¼‰ï¼Œå‡­å€Ÿå…¶<strong>ç®€æ´åˆ°æè‡´çš„è¯­æ³•</strong>å’Œ<strong>å¼ºå¤§çš„ç¼–ç¨‹èƒ½åŠ›</strong>ï¼Œæˆä¸ºå¾ˆå¤šå¼€å‘è€…çš„é¦–é€‰ã€‚æ­£å¦‚æˆ‘çš„å­¦ä¹ ç¬”è®°æ‰€å†™ï¼š</p>
<blockquote>
<p>Stylus æ˜¯ä¸€ç§å¯Œæœ‰è¡¨ç°åŠ›ã€åŠ¨æ€ä¸”æ”¯æŒç¼©è¿›è¯­æ³•çš„ CSS é¢„å¤„ç†å™¨ï¼Œå…è®¸çœç•¥å¤§æ‹¬å·ã€åˆ†å·å’Œå†’å·ï¼ŒåŒæ—¶æ”¯æŒå˜é‡ã€å‡½æ•°ã€æ··åˆï¼ˆmixinï¼‰å’ŒåµŒå¥—ç­‰é«˜çº§ç‰¹æ€§ï¼Œå¯ç¼–è¯‘ç”Ÿæˆæ ‡å‡† CSSã€‚</p>
</blockquote>
<h3 data-id="heading-2">äºŒã€Stylus åŸºç¡€ï¼šä»å®‰è£…åˆ°ç¼–è¯‘</h3>
<h4 data-id="heading-3">1. å®‰è£…ä¸ç¼–è¯‘</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£…</span>
npm install -g stylus

<span class="hljs-comment"># ç¼–è¯‘å•æ¬¡</span>
stylus -o ./style.css ./style.styl

<span class="hljs-comment"># ç›‘å¬æ¨¡å¼ï¼ˆå¼€å‘å¿…å¤‡ï¼‰</span>
stylus -o ./style.css ./style.styl --watch
</code></pre>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šå°†ç¼–è¯‘å‘½ä»¤åŠ å…¥ <code>package.json</code> çš„ scripts å­—æ®µï¼Œé€šè¿‡ <code>npm run build:css</code> è°ƒç”¨ã€‚</p>
</blockquote>
<h4 data-id="heading-4">2. è¯­æ³•å¯¹æ¯”ï¼šCSS vs Stylus</h4>
<p><strong>ä¼ ç»Ÿ CSS</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
}
</code></pre>
<p><strong>Stylus ç­‰æ•ˆå†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span>
  <span class="hljs-attribute">width</span> <span class="hljs-number">200px</span>
  <span class="hljs-attribute">height</span> <span class="hljs-number">300px</span>
  <span class="hljs-attribute">border-radius</span> <span class="hljs-number">8px</span>
</code></pre>
<ul>
<li>çœç•¥å¤§æ‹¬å· <code>{}</code> å’Œåˆ†å· <code>;</code></li>
<li>å†’å· <code>:</code> å¯é€‰ï¼ˆæ¨èçœç•¥ï¼‰</li>
<li><strong>ç¼©è¿›ä»£æ›¿æ‹¬å·</strong>ï¼Œå±‚æ¬¡æ›´æ¸…æ™°</li>
</ul>
<h3 data-id="heading-5">ä¸‰ã€å®æˆ˜é¡¹ç›®ï¼šåŠ¨æ€é¢æ¿å¸ƒå±€</h3>
<h4 data-id="heading-6">é¡¹ç›®æ•ˆæœé¢„è§ˆ</h4>
<p>ä¸€ä¸ªå“åº”å¼é¢æ¿ç»„ï¼Œç‚¹å‡»ä»»æ„é¢æ¿å¯æ”¾å¤§èšç„¦ï¼ŒåŒæ—¶æ˜¾ç¤ºæ ‡é¢˜æ–‡å­—ã€‚æ”¯æŒæ¡Œé¢ç«¯å¤šåˆ—å¸ƒå±€å’Œç§»åŠ¨ç«¯é€‚é…ã€‚</p>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">é¢æ¿å¸ƒå±€æ•ˆæœ</a></p>
<h4 data-id="heading-7">1. HTML ç»“æ„ (index.html)</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Explore The World<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"panel active"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-image: url('images/img1.jpg')"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Explore The World<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"panel"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-image: url('images/img2.jpg')"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Wild Forest<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"panel"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-image: url('images/img3.jpg')"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Sunny Beach<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"panel"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-image: url('images/img4.jpg')"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>City on Winter<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"panel"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"background-image: url('images/img5.jpg')"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Mountains - Clouds<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"common.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">2. JavaScript äº¤äº’ (common.js)</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">const</span> panels = <span class="hljs-built_in">document</span>.<span class="hljs-built_in">querySelectorAll</span>(<span class="hljs-string">'.panel'</span>);

panels.forEach(panel =&gt; {
  panel.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-comment">// ç§»é™¤å…¶ä»–é¢æ¿çš„ active ç±»</span>
    <span class="hljs-built_in">document</span>.<span class="hljs-built_in">querySelector</span>(<span class="hljs-string">'.active'</span>)?.classList.remove(<span class="hljs-string">'active'</span>);
    <span class="hljs-comment">// ä¸ºå½“å‰é¢æ¿æ·»åŠ  active ç±»</span>
    panel.classList.add(<span class="hljs-string">'active'</span>);
  });
});
</code></pre>
<h4 data-id="heading-9">3. Stylus æºç è½¬è¯‘ï¼ˆæ ¸å¿ƒï¼ï¼‰</h4>
<p>ä¸‹é¢æ˜¯ <code>style.styl</code> çš„å…³é”®éƒ¨åˆ†ï¼ˆå·²ä» CSS åå‘è¿˜åŸä¸º Stylus è¯­æ³•ï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å…¨å±€é‡ç½®</span>
*
  <span class="hljs-attribute">margin</span> <span class="hljs-number">0</span>
  <span class="hljs-attribute">padding</span> <span class="hljs-number">0</span>
  <span class="hljs-attribute">box-sizing</span> <span class="hljs-attribute">border</span>-box

<span class="hljs-comment">// å®¹å™¨</span>
<span class="hljs-selector-class">.container</span>
  <span class="hljs-attribute">display</span> <span class="hljs-attribute">flex</span>
  <span class="hljs-attribute">width</span> <span class="hljs-number">90vw</span> <span class="hljs-comment">// è§†å£å®½åº¦çš„90%</span>

<span class="hljs-comment">// é¢æ¿åŸºç¡€æ ·å¼</span>
<span class="hljs-selector-class">.container</span> <span class="hljs-selector-class">.panel</span>
  <span class="hljs-attribute">height</span> <span class="hljs-number">80vh</span> <span class="hljs-comment">// è§†å£é«˜åº¦çš„80%</span>
  <span class="hljs-attribute">border-radius</span> <span class="hljs-number">50px</span>
  <span class="hljs-attribute">color</span> <span class="hljs-selector-id">#fff</span>
  <span class="hljs-attribute">cursor</span> pointer
  <span class="hljs-attribute">transition</span> <span class="hljs-attribute">all</span> <span class="hljs-number">0.7s</span> ease-in <span class="hljs-comment">// å¹³æ»‘è¿‡æ¸¡</span>
  <span class="hljs-attribute">flex</span> <span class="hljs-number">0.5</span> <span class="hljs-comment">// é»˜è®¤å ç”¨ç©ºé—´æ¯”ä¾‹</span>
  <span class="hljs-attribute">margin</span> <span class="hljs-number">10px</span>
  <span class="hljs-attribute">position</span> relative <span class="hljs-comment">// ä¸ºå†…éƒ¨ç»å¯¹å®šä½å…ƒç´ åˆ›å»ºä¸Šä¸‹æ–‡</span>
  <span class="hljs-attribute">background-size</span> cover <span class="hljs-comment">// èƒŒæ™¯å›¾è¦†ç›–æ•´ä¸ªå®¹å™¨</span>
  <span class="hljs-attribute">background-position</span> center
  <span class="hljs-attribute">background-repeat</span> no-repeat
  
  <span class="hljs-comment">// æ ‡é¢˜æ ·å¼</span>
  <span class="hljs-selector-tag">h3</span>
    <span class="hljs-attribute">font-size</span> <span class="hljs-number">24px</span>
    <span class="hljs-attribute">position</span> absolute <span class="hljs-comment">// ç»å¯¹å®šä½</span>
    <span class="hljs-attribute">bottom</span> <span class="hljs-number">20px</span>
    <span class="hljs-attribute">left</span> <span class="hljs-number">20px</span>
    <span class="hljs-attribute">margin</span> <span class="hljs-number">0</span>
    <span class="hljs-attribute">opacity</span> <span class="hljs-number">0</span> <span class="hljs-comment">// é»˜è®¤éšè—</span>
    <span class="hljs-comment">// è¿‡æ¸¡æ•ˆæœï¼š0.3ç§’æ¸å˜ï¼Œ0.4ç§’åå¼€å§‹</span>
    <span class="hljs-attribute">transition</span> <span class="hljs-attribute">opacity</span> <span class="hljs-number">0.3s</span> ease-in <span class="hljs-number">0.4s</span>

<span class="hljs-comment">// æ¿€æ´»çŠ¶æ€</span>
<span class="hljs-selector-class">.container</span> <span class="hljs-selector-class">.panel</span><span class="hljs-selector-class">.active</span>
  <span class="hljs-attribute">flex</span> <span class="hljs-number">5</span> <span class="hljs-comment">// æ”¾å¤§å æ¯”</span>
  
  <span class="hljs-selector-tag">h3</span>
    <span class="hljs-attribute">opacity</span> <span class="hljs-number">1</span> <span class="hljs-comment">// æ˜¾ç¤ºæ ‡é¢˜</span>

<span class="hljs-comment">// å“åº”å¼è®¾è®¡ï¼šå°å±è®¾å¤‡</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span> <span class="hljs-number">480px</span>)
  .container
    <span class="hljs-attribute">width</span> <span class="hljs-number">100vw</span> // å…¨å®½
  
  // éšè—ç¬¬<span class="hljs-number">4</span>ã€<span class="hljs-number">5</span>ä¸ªé¢æ¿ï¼ˆç§»åŠ¨ç«¯ç©ºé—´æœ‰é™ï¼‰
  .panel
    &amp;:nth-of-type(<span class="hljs-number">4</span>),
    &amp;:nth-of-type(<span class="hljs-number">5</span>)
      display none
</code></pre>
<h3 data-id="heading-10">å››ã€å…³é”®ç‰¹æ€§æ·±åº¦è§£æ</h3>
<h4 data-id="heading-11">1. åµŒå¥—è¯­æ³•ï¼šè®©é€‰æ‹©å™¨æ›´æœ‰é€»è¾‘</h4>
<p>Stylus çš„åµŒå¥—èƒ½åŠ›è®© CSS å…·å¤‡æ¨¡å—åŒ–æ€ç»´ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.panel</span>
  <span class="hljs-comment">/* çˆ¶çº§æ ·å¼ */</span>
  <span class="hljs-selector-tag">h3</span>
    <span class="hljs-comment">/* å­å…ƒç´ æ ·å¼ï¼Œè‡ªåŠ¨ç¼–è¯‘ä¸º .panel h3 */</span>
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…é‡å¤ä¹¦å†™çˆ¶çº§é€‰æ‹©å™¨</li>
<li>ä»£ç ç»“æ„ä¸ DOM å±‚çº§ä¸€è‡´</li>
<li>ä¿®æ”¹çˆ¶çº§ç±»åæ—¶ï¼Œå­é€‰æ‹©å™¨è‡ªåŠ¨æ›´æ–°</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>æˆ‘çš„å®è·µå¿ƒå¾—</strong>ï¼šå½“åµŒå¥—è¶…è¿‡3å±‚æ—¶ï¼Œè€ƒè™‘æ‹†åˆ†æ¨¡å—ï¼Œé¿å…ç”Ÿæˆè¿‡é•¿çš„é€‰æ‹©å™¨ã€‚</p>
</blockquote>
<h4 data-id="heading-12">2. ä½œç”¨åŸŸä¸ <code>&amp;</code> ç¬¦å·</h4>
<p><code>&amp;</code> ç¬¦å·å¼•ç”¨çˆ¶çº§é€‰æ‹©å™¨ï¼Œç‰¹åˆ«é€‚åˆçŠ¶æ€ä¼ªç±»ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">.panel
  <span class="hljs-comment">/* åŸºç¡€æ ·å¼ */</span>
  &amp;.active
    <span class="hljs-comment">/* ç¼–è¯‘ä¸º .panel.active */</span>
</code></pre>
<p>åœ¨åª’ä½“æŸ¥è¯¢ä¸­ç»“åˆä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">.panel
  <span class="hljs-comment">/* åŸºç¡€æ ·å¼ */</span>
  @<span class="hljs-built_in">media</span> (max-width <span class="hljs-number">480</span>px)
    &amp;:nth-of-<span class="hljs-built_in">type</span>(<span class="hljs-number">4</span>)
      display none
</code></pre>
<h4 data-id="heading-13">3. è¿‡æ¸¡åŠ¨ç”»ç²¾å¦™æ§åˆ¶</h4>
<p>é¡¹ç›®ä¸­çš„æ ‡é¢˜æ·¡å…¥æ•ˆæœå±•ç¤ºäº† Stylus å¯¹åŠ¨ç”»çš„ç²¾ç»†æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">transition</span> <span class="hljs-attribute">opacity</span> <span class="hljs-number">0.3s</span> ease-in <span class="hljs-number">0.4s</span>
</code></pre>
<p>å‚æ•°å«ä¹‰ï¼š</p>
<ul>
<li><code>opacity</code>ï¼šç›‘æ§é€æ˜åº¦å˜åŒ–</li>
<li><code>0.3s</code>ï¼šåŠ¨ç”»æŒç»­æ—¶é—´</li>
<li><code>ease-in</code>ï¼šç¼“åŠ¨å‡½æ•°ï¼ˆå…ˆæ…¢åå¿«ï¼‰</li>
<li><code>0.4s</code>ï¼šå»¶è¿Ÿæ—¶é—´ï¼ˆç‚¹å‡»å0.4ç§’å¼€å§‹åŠ¨ç”»ï¼‰</li>
</ul>
<blockquote>
<p><strong>æ€§èƒ½æç¤º</strong>ï¼šä¼˜å…ˆä½¿ç”¨ <code>opacity</code> å’Œ <code>transform</code> å®ç°åŠ¨ç”»ï¼ŒGPU åŠ é€Ÿæ›´æµç•…ã€‚</p>
</blockquote>
<h4 data-id="heading-14">4. Flexbox å¸ƒå±€ä¸æ¯”ä¾‹åˆ†é…</h4>
<p>æ ¸å¿ƒé­”æ³•åœ¨äº <code>flex</code> å€¼çš„åŠ¨æ€åˆ‡æ¢ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.panel</span>
  <span class="hljs-attribute">flex</span> <span class="hljs-number">0.5</span> <span class="hljs-comment">// é»˜è®¤å°æ¯”ä¾‹</span>

<span class="hljs-selector-class">.panel</span><span class="hljs-selector-class">.active</span>
  <span class="hljs-attribute">flex</span> <span class="hljs-number">5</span>   <span class="hljs-comment">// æ¿€æ´»æ—¶å¤§æ¯”ä¾‹</span>
</code></pre>
<p>å½“å®¹å™¨å®½åº¦å›ºå®šæ—¶ï¼Œå„é¢æ¿å®½åº¦æŒ‰æ¯”ä¾‹åˆ†é…ï¼š</p>
<ul>
<li>éæ¿€æ´»é¢æ¿ï¼š0.5 / (0.5Ã—4 + 5) = 10%</li>
<li>æ¿€æ´»é¢æ¿ï¼š5 / (0.5Ã—4 + 5) = 80%</li>
</ul>
<blockquote>
<p><strong>é¿å‘æŒ‡å—</strong>ï¼šå½“ <code>flex-basis</code> ä¸º <code>0%</code> æ—¶ï¼ˆStylus é»˜è®¤è¡Œä¸ºï¼‰ï¼Œæ¯”ä¾‹è®¡ç®—æ›´ç²¾ç¡®ï¼Œé¿å…å†…å®¹å®½åº¦å¹²æ‰°ã€‚</p>
</blockquote>
<h4 data-id="heading-15">5. å“åº”å¼è®¾è®¡çš„ä¼˜é›…å®ç°</h4>
<p>åª’ä½“æŸ¥è¯¢åœ¨ Stylus ä¸­å¯ä»¥åµŒå¥—åœ¨é€‰æ‹©å™¨å†…éƒ¨ï¼Œé€»è¾‘æ›´è¿è´¯ï¼š</p>
<pre><code class="hljs language-python" lang="python">.panel
  /* æ¡Œé¢ç«¯æ ·å¼ */
<span class="hljs-meta">  @media (<span class="hljs-params"><span class="hljs-built_in">max</span>-width 480px</span>)</span>
    &amp;:nth-of-<span class="hljs-built_in">type</span>(<span class="hljs-number">4</span>),
    &amp;:nth-of-<span class="hljs-built_in">type</span>(<span class="hljs-number">5</span>)
      display none
</code></pre>
<p>ç›¸æ¯”ä¼ ç»Ÿ CSS çš„åˆ†æ•£å†™æ³•ï¼Œè¿™ç§æ–¹å¼ï¼š</p>
<ul>
<li>å°†åŒä¸€ç»„ä»¶çš„å¤šç«¯æ ·å¼èšé›†åœ¨ä¸€èµ·</li>
<li>ä¿®æ”¹æ—¶æ— éœ€è·¨æ–‡ä»¶æŸ¥æ‰¾</li>
<li>é€»è¾‘æ›´ç¬¦åˆâ€œç»„ä»¶åŒ–â€æ€ç»´</li>
</ul>
<h3 data-id="heading-16">äº”ã€ä» CSS åˆ° Stylusï¼šé‡æ„å¿ƒå¾—</h3>
<p>å°†é¡¹ç›®ä» CSS é‡æ„ä¸º Stylus åï¼Œæˆ‘è·å¾—è¿™äº›æ”¶ç›Šï¼š</p>
<h4 data-id="heading-17">1. ä»£ç é‡å‡å°‘ 35%</h4>
<ul>
<li>æ¶ˆé™¤å¤§æ‹¬å·å’Œåˆ†å·</li>
<li>åˆå¹¶é‡å¤é€‰æ‹©å™¨</li>
<li>ç”¨åµŒå¥—æ›¿ä»£é•¿é€‰æ‹©å™¨</li>
</ul>
<h4 data-id="heading-18">2. å¯ç»´æŠ¤æ€§æ˜¾è‘—æå‡</h4>
<ul>
<li>ä¿®æ”¹ä¸»è‰²è°ƒåªéœ€æ”¹ä¸€å¤„å˜é‡</li>
<li>å“åº”å¼æ–­ç‚¹é›†ä¸­ç®¡ç†</li>
<li>ç»„ä»¶æ ·å¼å®Œå…¨å†…èš</li>
</ul>
<h4 data-id="heading-19">3. å¼€å‘ä½“éªŒé£è·ƒ</h4>
<ul>
<li><code>--watch</code> æ¨¡å¼å®æ—¶ç¼–è¯‘</li>
<li>é”™è¯¯æç¤ºç²¾å‡†å®šä½è¡Œå·</li>
<li>ä¸ VSCode æ’ä»¶æ·±åº¦é›†æˆ</li>
</ul>
<h3 data-id="heading-20">å…­ã€é¿å‘æŒ‡å—ï¼šæ–°æ‰‹å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-21">1. ç¼©è¿›å¿…é¡»ä¸¥æ ¼ä¸€è‡´</h4>
<p>Stylus ä¾èµ–ç¼©è¿›è€Œéæ‹¬å·ï¼Œ<strong>å¿…é¡»ç»Ÿä¸€ç”¨ç©ºæ ¼æˆ– Tab</strong>ï¼ˆæ¨è 2 ç©ºæ ¼ï¼‰ã€‚æ··ç”¨ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚</p>
<h4 data-id="heading-22">2. æµè§ˆå™¨åªè®¤ CSS</h4>
<p>ç‰¢è®°ï¼šStylus æ˜¯å¼€å‘å·¥å…·ï¼Œæœ€ç»ˆéœ€ç¼–è¯‘ä¸º CSSã€‚é¡¹ç›®ä¸­åº”ï¼š</p>
<ul>
<li>å°† <code>.styl</code> æ–‡ä»¶åŠ å…¥ <code>.gitignore</code></li>
<li>æäº¤ç¼–è¯‘åçš„ <code>.css</code> æ–‡ä»¶</li>
<li>åœ¨ CI/CD æµç¨‹ä¸­åŠ å…¥ç¼–è¯‘æ­¥éª¤</li>
</ul>
<h4 data-id="heading-23">3. IDE é…ç½®</h4>
<p>æ¨è VSCode + æ’ä»¶ï¼š</p>
<ul>
<li>Stylus Supremacyï¼ˆæ ¼å¼åŒ–ï¼‰</li>
<li>Stylus (language-stylus)ï¼ˆè¯­æ³•é«˜äº®ï¼‰</li>
</ul>
<h3 data-id="heading-24">ä¸ƒã€ç»“è¯­ï¼šStylus åœ¨ç°ä»£å‰ç«¯ä¸­çš„å®šä½</h3>
<p>å°½ç®¡ CSS å˜é‡ã€åµŒå¥—è‰æ¡ˆç­‰æ–°ç‰¹æ€§é€æ¸è½åœ°ï¼Œä½† Stylus ä»å…·æœ‰ä¸å¯æ›¿ä»£çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è¯­æ³•æè‡´ç®€æ´</strong>ï¼šæ¯” Sass/SCSS æ›´å°‘çš„ç¬¦å·è´Ÿæ‹…</li>
<li><strong>å‡½æ•°ä¸æ··åˆå®</strong>ï¼šçœŸæ­£çš„ç¼–ç¨‹èƒ½åŠ›</li>
<li><strong>ç”Ÿæ€å…¼å®¹æ€§</strong>ï¼šå¯ä¸ PostCSS ç­‰ç°ä»£å·¥å…·é“¾æ— ç¼é›†æˆ</li>
</ul>
<blockquote>
<p><strong>æˆ‘çš„å»ºè®®</strong>ï¼šå¯¹äºä¸ªäººé¡¹ç›®æˆ–ä¸­å°å‹å›¢é˜Ÿï¼ŒStylus ä»æ˜¯æå‡æ ·å¼å¼€å‘æ•ˆç‡çš„åˆ©å™¨ï¼›å¤§å‹é¡¹ç›®å¯è€ƒè™‘ CSS-in-JS æ–¹æ¡ˆï¼Œä½† Stylus çš„æ€æƒ³ï¼ˆå˜é‡ã€åµŒå¥—ã€æ¨¡å—åŒ–ï¼‰ä¾ç„¶å€¼å¾—å€Ÿé‰´ã€‚</p>
</blockquote>
<hr/>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºæ˜é‡‘ï¼Œè½¬è½½éœ€æˆæƒå¹¶ä¿ç•™é“¾æ¥ã€‚é¡¹ç›®ä»£ç éµå¾ª MIT åè®®ï¼Œæ¬¢è¿ star/forkï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ¨¡å‹æ¶æ„æ¥æé«˜å›¾åƒè¯†åˆ«å‡†ç¡®ç‡ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596276978808717355</link>    <guid>https://juejin.cn/post/7596276978808717355</guid>    <pubDate>2026-01-18T12:09:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596276978808717355" data-draft-id="7596276978808700971" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ¨¡å‹æ¶æ„æ¥æé«˜å›¾åƒè¯†åˆ«å‡†ç¡®ç‡ï¼Ÿ"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-18T12:09:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸Šç­æ—¥å¸¸æ‘¸é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1197792767524060"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ¨¡å‹æ¶æ„æ¥æé«˜å›¾åƒè¯†åˆ«å‡†ç¡®ç‡ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1197792767524060/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸Šç­æ—¥å¸¸æ‘¸é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T12:09:22.000Z" title="Sun Jan 18 2026 12:09:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é€‰æ‹©åˆé€‚çš„å›¾åƒè¯†åˆ«æ¨¡å‹æ¶æ„ï¼Œæ ¸å¿ƒæ˜¯<strong>åŒ¹é…ä»»åŠ¡å¤æ‚åº¦ä¸æ•°æ®è§„æ¨¡</strong>â€”â€”ç®€å•ä»»åŠ¡ï¼ˆå¦‚MNISTæ‰‹å†™æ•°å­—ï¼‰ç”¨è½»é‡CNNå³å¯ï¼Œå¤æ‚ä»»åŠ¡ï¼ˆå¦‚ç›®æ ‡æ£€æµ‹ã€è‡ªç„¶åœºæ™¯åˆ†ç±»ï¼‰éœ€ç”¨æ·±åº¦ç½‘ç»œæˆ–è¿ç§»å­¦ä¹ ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒé€‰å‹åŸåˆ™ï¼šå…ˆæ˜ç¡®ä»»åŠ¡ä¸æ•°æ®ï¼Œå†é€‰æ¨¡å‹</h2>
<p>æ¨¡å‹æ²¡æœ‰â€œæœ€å¥½â€ï¼Œåªæœ‰â€œæœ€åˆé€‚â€ï¼Œé€‰å‹å‰å…ˆå›ç­”3ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li><strong>ä»»åŠ¡å¤æ‚åº¦</strong>ï¼šæ˜¯ç®€å•åˆ†ç±»ï¼ˆå¦‚MNIST 0-9ï¼‰ã€å¤æ‚åˆ†ç±»ï¼ˆå¦‚çŒ«ç‹—è¯†åˆ«ã€é£æ™¯åˆ†ç±»ï¼‰ï¼Œè¿˜æ˜¯ç›®æ ‡æ£€æµ‹/åˆ†å‰²ï¼Ÿ</li>
<li><strong>æ•°æ®è§„æ¨¡</strong>ï¼šè®­ç»ƒæ ·æœ¬æœ‰å¤šå°‘ï¼Ÿæ˜¯å‡ åƒå¼ ï¼ˆå°æ•°æ®ï¼‰ã€å‡ ä¸‡å¼ ï¼ˆä¸­ç­‰æ•°æ®ï¼‰ï¼Œè¿˜æ˜¯ç™¾ä¸‡å¼ ï¼ˆå¤§æ•°æ®ï¼‰ï¼Ÿ</li>
<li><strong>éƒ¨ç½²çº¦æŸ</strong>ï¼šæ˜¯å¦éœ€è¦è½»é‡åŒ–ï¼Ÿï¼ˆå¦‚æ‰‹æœºç«¯éƒ¨ç½²éœ€å°æ¨¡å‹ï¼ŒæœåŠ¡å™¨ç«¯å¯æ¥å—å¤§æ¨¡å‹ï¼‰</li>
</ol>









































<table><thead><tr><th>ä»»åŠ¡åœºæ™¯</th><th>æ•°æ®è§„æ¨¡</th><th>æ¨èæ¨¡å‹æ¶æ„</th><th>æ ¸å¿ƒä¼˜åŠ¿</th></tr></thead><tbody><tr><td>ç®€å•åˆ†ç±»ï¼ˆMNISTã€å­—ç¬¦è¯†åˆ«ï¼‰</td><td>å°-ä¸­ç­‰</td><td>è½»é‡CNNï¼ˆè‡ªå®šä¹‰2-4å±‚å·ç§¯ï¼‰</td><td>é€Ÿåº¦å¿«ã€è¿‡æ‹Ÿåˆé£é™©ä½ã€æ˜“è®­ç»ƒ</td></tr><tr><td>å¤æ‚åˆ†ç±»ï¼ˆè‡ªç„¶åœºæ™¯ã€ç‰©ä½“è¯†åˆ«ï¼‰</td><td>ä¸­ç­‰-å¤§</td><td>ç»å…¸CNNï¼ˆVGGã€ResNetã€MobileNetï¼‰</td><td>ç‰¹å¾æå–èƒ½åŠ›å¼ºï¼Œå‡†ç¡®ç‡é«˜</td></tr><tr><td>å°æ•°æ®å¤æ‚åˆ†ç±»ï¼ˆè‡ªå®šä¹‰æ•°æ®é›†ï¼‰</td><td>å°ï¼ˆï¼œ1ä¸‡ï¼‰</td><td>è¿ç§»å­¦ä¹ ï¼ˆåŸºäºResNet/MobileNetï¼‰</td><td>å¤ç”¨é¢„è®­ç»ƒç‰¹å¾ï¼Œè§£å†³å°æ•°æ®è¿‡æ‹Ÿåˆ</td></tr><tr><td>ç§»åŠ¨ç«¯/è¾¹ç¼˜ç«¯éƒ¨ç½²</td><td>ä»»æ„</td><td>è½»é‡åŒ–æ¨¡å‹ï¼ˆMobileNetã€EfficientNet-Liteï¼‰</td><td>ä½“ç§¯å°ã€é€Ÿåº¦å¿«ï¼Œå…¼é¡¾å‡†ç¡®ç‡</td></tr><tr><td>é«˜ç²¾åº¦éœ€æ±‚ï¼ˆç«èµ›/ç§‘ç ”ï¼‰</td><td>å¤§</td><td>æ·±åº¦æ¨¡å‹ï¼ˆEfficientNetã€Vision Transformerï¼‰</td><td>ç›®å‰å‡†ç¡®ç‡å¤©èŠ±æ¿ï¼Œé€‚åˆå¤§æ•°æ®åœºæ™¯</td></tr></tbody></table>
<h2 data-id="heading-1">äºŒã€ç»å…¸æ¨¡å‹æ¶æ„å¯¹æ¯”ï¼šä»è½»é‡CNNåˆ°Transformer</h2>
<h3 data-id="heading-2">1. è½»é‡è‡ªå®šä¹‰CNNï¼ˆé€‚åˆç®€å•ä»»åŠ¡ï¼Œå¦‚MNISTï¼‰</h3>
<p>è¿™æ˜¯å…¥é—¨çº§æ¨¡å‹ï¼Œæ‰‹åŠ¨å †å <strong>å·ç§¯å±‚+æ± åŒ–å±‚+å…¨è¿æ¥å±‚</strong>ï¼Œç»“æ„çµæ´»ï¼Œé€‚åˆæ•°æ®è§„æ•´ã€ç‰¹å¾ç®€å•çš„åœºæ™¯ï¼ˆå¦‚28Ã—28æ‰‹å†™æ•°å­—ã€å›ºå®šå°ºå¯¸å­—ç¬¦ï¼‰ã€‚</p>
<h4 data-id="heading-3">å…¸å‹ç»“æ„ï¼ˆMNISTä¸“ç”¨ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 2-3å±‚å·ç§¯+æ± åŒ–ï¼Œè¶³å¤Ÿåº”å¯¹MNIST</span>
simple_cnn = tf.keras.Sequential([
    <span class="hljs-comment"># å·ç§¯å±‚ï¼šæå–è¾¹ç¼˜ã€çº¿æ¡ç­‰åŸºç¡€ç‰¹å¾</span>
    tf.keras.layers.Conv2D(<span class="hljs-number">32</span>, (<span class="hljs-number">3</span>,<span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>, input_shape=(<span class="hljs-number">28</span>,<span class="hljs-number">28</span>,<span class="hljs-number">1</span>)),
    tf.keras.layers.MaxPooling2D((<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)),  <span class="hljs-comment"># é™ç»´ï¼Œå‡å°‘è®¡ç®—é‡</span>
    tf.keras.layers.Conv2D(<span class="hljs-number">64</span>, (<span class="hljs-number">3</span>,<span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>),
    tf.keras.layers.MaxPooling2D((<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)),
    tf.keras.layers.Flatten(),  <span class="hljs-comment"># å±•å¹³ä¸ºä¸€ç»´å‘é‡</span>
    tf.keras.layers.Dense(<span class="hljs-number">64</span>, activation=<span class="hljs-string">'relu'</span>),
    tf.keras.layers.Dense(<span class="hljs-number">10</span>, activation=<span class="hljs-string">'softmax'</span>)  <span class="hljs-comment"># 10åˆ†ç±»</span>
])
</code></pre>
<h4 data-id="heading-4">ä¼˜ç¼ºç‚¹</h4>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå‚æ•°å°‘ï¼ˆå‡ ä¸‡åˆ°å‡ åä¸‡ï¼‰ã€è®­ç»ƒå¿«ã€æ˜“è°ƒè¯•ï¼ŒMNISTæµ‹è¯•å‡†ç¡®ç‡å¯è¾¾99%+ï¼›</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šç‰¹å¾æå–èƒ½åŠ›æœ‰é™ï¼Œæ— æ³•åº”å¯¹å¤æ‚åœºæ™¯ï¼ˆå¦‚æ—‹è½¬ã€æ¨¡ç³Šçš„è‡ªç„¶å›¾åƒï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">2. ç»å…¸CNNæ¨¡å‹ï¼ˆé€‚åˆä¸­ç­‰å¤æ‚åº¦ä»»åŠ¡ï¼‰</h3>
<p>è¿™ç±»æ¨¡å‹æ˜¯å·¥ä¸šç•Œå’Œå­¦æœ¯ç•Œçš„â€œæ ‡é…â€ï¼Œç»è¿‡å¤§é‡å®è·µéªŒè¯ï¼Œç‰¹å¾æå–èƒ½åŠ›è¿œè¶…è½»é‡CNNã€‚</p>



































<table><thead><tr><th>æ¨¡å‹æ¶æ„</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>VGG16/VGG19</strong></td><td>å †å å¤§é‡3Ã—3å·ç§¯å±‚ï¼Œç»“æ„è§„æ•´</td><td>ä¸­ç­‰å¤æ‚åº¦åˆ†ç±»ï¼ˆå¦‚çŒ«ç‹—è¯†åˆ«ï¼‰</td><td>ä¼˜ç‚¹ï¼šç‰¹å¾æå–ç¨³å®šï¼›ç¼ºç‚¹ï¼šå‚æ•°å¤šï¼ˆVGG16çº¦1.38äº¿ï¼‰ï¼Œæ˜“è¿‡æ‹Ÿåˆ</td></tr><tr><td><strong>ResNetï¼ˆæ®‹å·®ç½‘ç»œï¼‰</strong></td><td>å¼•å…¥æ®‹å·®è¿æ¥ï¼Œè§£å†³â€œæ¢¯åº¦æ¶ˆå¤±â€é—®é¢˜ï¼Œå¯å †å æ›´æ·±å±‚</td><td>å¤æ‚åˆ†ç±»ã€ç›®æ ‡æ£€æµ‹ï¼ˆå¦‚ResNet50/101ï¼‰</td><td>ä¼˜ç‚¹ï¼šæ·±åº¦æå‡åå‡†ç¡®ç‡ä¸ä¸‹é™ï¼›ç¼ºç‚¹ï¼šæ¨¡å‹ä½“ç§¯è¾ƒå¤§</td></tr><tr><td><strong>MobileNet</strong></td><td>ç”¨æ·±åº¦å¯åˆ†ç¦»å·ç§¯æ›¿ä»£æ™®é€šå·ç§¯ï¼Œå‚æ•°å‡å°‘90%</td><td>ç§»åŠ¨ç«¯/è¾¹ç¼˜ç«¯éƒ¨ç½²</td><td>ä¼˜ç‚¹ï¼šè½»é‡åŒ–ï¼Œé€Ÿåº¦å¿«ï¼›ç¼ºç‚¹ï¼šå‡†ç¡®ç‡ç•¥ä½äºResNetï¼ˆå¯æ¥å—ï¼‰</td></tr><tr><td><strong>EfficientNet</strong></td><td>å¤åˆç¼©æ”¾ï¼ˆæ·±åº¦ã€å®½åº¦ã€åˆ†è¾¨ç‡ï¼‰ï¼Œæ•ˆç‡æœ€ä¼˜</td><td>é«˜ç²¾åº¦éœ€æ±‚åœºæ™¯ï¼ˆç«èµ›/ç§‘ç ”ï¼‰</td><td>ä¼˜ç‚¹ï¼šåŒç­‰å‚æ•°ä¸‹å‡†ç¡®ç‡æœ€é«˜ï¼›ç¼ºç‚¹ï¼šè®­ç»ƒç•¥å¤æ‚</td></tr></tbody></table>
<h4 data-id="heading-6">å®æˆ˜ç¤ºä¾‹ï¼šResNet50ç”¨äºå¤æ‚åˆ†ç±»</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ResNet50å®ç°10ç±»è‡ªç„¶å›¾åƒåˆ†ç±»</span>
resnet50 = tf.keras.applications.ResNet50(
    input_shape=(<span class="hljs-number">224</span>,<span class="hljs-number">224</span>,<span class="hljs-number">3</span>),  <span class="hljs-comment"># è¾“å…¥224Ã—224å½©è‰²å›¾</span>
    include_top=<span class="hljs-literal">False</span>,  <span class="hljs-comment"># å»æ‰é¡¶å±‚åˆ†ç±»å±‚</span>
    weights=<span class="hljs-string">'imagenet'</span>  <span class="hljs-comment"># åŠ è½½é¢„è®­ç»ƒæƒé‡</span>
)
<span class="hljs-comment"># å†»ç»“é¢„è®­ç»ƒå±‚ï¼Œåªè®­ç»ƒè‡ªå®šä¹‰åˆ†ç±»å¤´</span>
resnet50.trainable = <span class="hljs-literal">False</span>

<span class="hljs-comment"># æ„å»ºå®Œæ•´æ¨¡å‹</span>
model = tf.keras.Sequential([
    resnet50,
    tf.keras.layers.GlobalAveragePooling2D(),  <span class="hljs-comment"># å…¨å±€å¹³å‡æ± åŒ–</span>
    tf.keras.layers.Dense(<span class="hljs-number">10</span>, activation=<span class="hljs-string">'softmax'</span>)  <span class="hljs-comment"># è‡ªå®šä¹‰10åˆ†ç±»</span>
])
</code></pre>
<h3 data-id="heading-7">3. Vision Transformerï¼ˆViTï¼Œé€‚åˆå¤§æ•°æ®é«˜ç²¾åº¦åœºæ™¯ï¼‰</h3>
<p>Transformeræ˜¯è¿‘å¹´çš„é©å‘½æ€§æ¶æ„ï¼ŒViTå°†å›¾åƒåˆ‡åˆ†ä¸ºâ€œå›¾åƒå—â€ï¼Œç”¨æ³¨æ„åŠ›æœºåˆ¶æå–å…¨å±€ç‰¹å¾ï¼Œåœ¨å¤§æ•°æ®é›†ï¼ˆå¦‚ImageNetï¼‰ä¸Šå‡†ç¡®ç‡è¶…è¶Šä¼ ç»ŸCNNã€‚</p>
<h4 data-id="heading-8">æ ¸å¿ƒç‰¹ç‚¹</h4>
<ul>
<li>é€‚åˆ<strong>å¤§æ ·æœ¬ï¼ˆç™¾ä¸‡çº§ï¼‰</strong> åœºæ™¯ï¼Œå°æ•°æ®ä¸‹ä¸å¦‚CNNï¼›</li>
<li>æ³¨æ„åŠ›æœºåˆ¶èƒ½æ•æ‰é•¿è·ç¦»ä¾èµ–ï¼ˆå¦‚å›¾ç‰‡ä¸­ç‰©ä½“çš„ç›¸å¯¹ä½ç½®ï¼‰ï¼›</li>
<li>è®­ç»ƒéœ€è¦æ›´å¤§çš„è®¡ç®—èµ„æºï¼ˆGPUï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-9">å®æˆ˜ç¤ºä¾‹ï¼šViTç”¨äºé«˜ç²¾åº¦åˆ†ç±»</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> tensorflow.keras.applications <span class="hljs-keyword">import</span> ViT_B16

vit = ViT_B16(
    input_shape=(<span class="hljs-number">224</span>,<span class="hljs-number">224</span>,<span class="hljs-number">3</span>),
    include_top=<span class="hljs-literal">False</span>,
    weights=<span class="hljs-string">'imagenet'</span>
)
vit.trainable = <span class="hljs-literal">False</span>

model = tf.keras.Sequential([
    vit,
    tf.keras.layers.Flatten(),
    tf.keras.layers.Dense(<span class="hljs-number">100</span>, activation=<span class="hljs-string">'softmax'</span>)  <span class="hljs-comment"># 100ç±»åˆ†ç±»</span>
])
</code></pre>
<h2 data-id="heading-10">ä¸‰ã€é€‰å‹ä¸‰æ­¥æ³•ï¼šä»ä»»åŠ¡åˆ°æ¨¡å‹çš„è½åœ°æµç¨‹</h2>
<h3 data-id="heading-11">æ­¥éª¤1ï¼šåˆ†æä»»åŠ¡ä¸æ•°æ®ï¼Œç¡®å®šæ¨¡å‹å¤æ‚åº¦</h3>
<ul>
<li><strong>ç®€å•ä»»åŠ¡+å°æ•°æ®</strong>ï¼šä¼˜å…ˆé€‰<strong>è½»é‡è‡ªå®šä¹‰CNN</strong>ï¼ˆå¦‚MNISTç”¨2å±‚å·ç§¯ï¼‰ï¼›</li>
<li><strong>å¤æ‚ä»»åŠ¡+å°æ•°æ®</strong>ï¼šä¼˜å…ˆé€‰<strong>è¿ç§»å­¦ä¹ ï¼ˆMobileNet/ResNetï¼‰</strong>ï¼ˆå¤ç”¨é¢„è®­ç»ƒç‰¹å¾ï¼Œé¿å…è¿‡æ‹Ÿåˆï¼‰ï¼›</li>
<li><strong>å¤æ‚ä»»åŠ¡+å¤§æ•°æ®</strong>ï¼šé€‰<strong>EfficientNet/ViT</strong>ï¼ˆè¿½æ±‚æœ€é«˜å‡†ç¡®ç‡ï¼‰ï¼›</li>
<li><strong>éƒ¨ç½²æœ‰çº¦æŸ</strong>ï¼šé€‰<strong>MobileNet/EfficientNet-Lite</strong>ï¼ˆè½»é‡åŒ–ä¼˜å…ˆï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-12">æ­¥éª¤2ï¼šä»ç®€å•æ¨¡å‹å¼€å§‹ï¼Œé€æ­¥è¿­ä»£ä¼˜åŒ–</h3>
<p><strong>ä¸è¦ä¸Šæ¥å°±ç”¨å¤æ‚æ¨¡å‹ï¼</strong> å…ˆä»æœ€ç®€å•çš„æ¨¡å‹å…¥æ‰‹ï¼ŒéªŒè¯åŸºçº¿å‡†ç¡®ç‡ï¼Œå†é€æ­¥å‡çº§ï¼š</p>
<ol>
<li>ç”¨<strong>è½»é‡CNN</strong>è·‘é€šæµç¨‹ï¼Œå¾—åˆ°åŸºçº¿å‡†ç¡®ç‡ï¼ˆå¦‚MNISTåŸºçº¿98.5%ï¼‰ï¼›</li>
<li>è‹¥å‡†ç¡®ç‡ä¸è¾¾æ ‡ï¼Œ<strong>ä¼˜åŒ–æ¨¡å‹ç»“æ„</strong>ï¼ˆå¢åŠ å·ç§¯å±‚ã€æ·»åŠ BatchNorm/Dropoutï¼‰ï¼›</li>
<li>è‹¥ä»ä¸è¾¾æ ‡ï¼Œ<strong>åˆ‡æ¢åˆ°ç»å…¸CNNï¼ˆResNet/MobileNetï¼‰</strong> æˆ–è¿ç§»å­¦ä¹ ï¼›</li>
<li>æœ€åå†è€ƒè™‘ViTç­‰å¤æ‚æ¨¡å‹ï¼ˆé¿å…â€œæ€é¸¡ç”¨ç‰›åˆ€â€ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-13">æ­¥éª¤3ï¼šéªŒè¯æ¨¡å‹æ³›åŒ–èƒ½åŠ›ï¼Œé¿å…è¿‡æ‹Ÿåˆ</h3>
<p>é€‰æ¨¡å‹æ—¶ï¼Œ<strong>æ³›åŒ–èƒ½åŠ›æ¯”è®­ç»ƒå‡†ç¡®ç‡æ›´é‡è¦</strong>ï¼ŒéªŒè¯æ ‡å‡†ï¼š</p>
<ul>
<li>è®­ç»ƒå‡†ç¡®ç‡é«˜ï¼Œæµ‹è¯•å‡†ç¡®ç‡ä¹Ÿé«˜ â†’ æ¨¡å‹åˆé€‚ï¼›</li>
<li>è®­ç»ƒå‡†ç¡®ç‡é«˜ï¼Œæµ‹è¯•å‡†ç¡®ç‡ä½ â†’ è¿‡æ‹Ÿåˆï¼ˆéœ€æ¢æ›´ç®€å•çš„æ¨¡å‹ï¼Œæˆ–å¢åŠ æ­£åˆ™åŒ–ï¼‰ï¼›</li>
<li>è®­ç»ƒ/æµ‹è¯•å‡†ç¡®ç‡éƒ½ä½ â†’ æ¬ æ‹Ÿåˆï¼ˆéœ€æ¢æ›´å¤æ‚çš„æ¨¡å‹ï¼Œæˆ–å¢åŠ è®­ç»ƒæ•°æ®ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-14">å››ã€å…³é”®ä¼˜åŒ–æŠ€å·§ï¼šé€‰å¯¹æ¨¡å‹åï¼Œè¿›ä¸€æ­¥æå‡å‡†ç¡®ç‡</h2>
<p>é€‰å¯¹æ¨¡å‹æ¶æ„åï¼Œé€šè¿‡ä»¥ä¸‹æŠ€å·§â€œæ¦¨å¹²â€æ¨¡å‹æ€§èƒ½ï¼š</p>
<h3 data-id="heading-15">1. æ¨¡å‹å¾®è°ƒï¼šè§£å†»é¢„è®­ç»ƒå±‚ï¼Œç²¾ç»†é€‚é…æ•°æ®</h3>
<p>è¿ç§»å­¦ä¹ æ—¶ï¼Œå…ˆå†»ç»“é¢„è®­ç»ƒå±‚è®­ç»ƒåˆ†ç±»å¤´ï¼Œå†è§£å†»éƒ¨åˆ†åº•å±‚ï¼Œç”¨å°å­¦ä¹ ç‡å¾®è°ƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¾®è°ƒResNet50ï¼šè§£å†»é¡¶å±‚å·ç§¯å±‚</span>
resnet50.trainable = <span class="hljs-literal">True</span>
<span class="hljs-comment"># åªè®­ç»ƒé¡¶å±‚10å±‚</span>
<span class="hljs-keyword">for</span> layer <span class="hljs-keyword">in</span> resnet50.layers[:-<span class="hljs-number">10</span>]:
    layer.trainable = <span class="hljs-literal">False</span>

<span class="hljs-comment"># ç”¨æå°å­¦ä¹ ç‡å¾®è°ƒï¼ˆé¿å…ç ´åé¢„è®­ç»ƒç‰¹å¾ï¼‰</span>
model.<span class="hljs-built_in">compile</span>(
    optimizer=tf.keras.optimizers.Adam(learning_rate=<span class="hljs-number">1e-5</span>),
    loss=<span class="hljs-string">'categorical_crossentropy'</span>,
    metrics=[<span class="hljs-string">'accuracy'</span>]
)
</code></pre>
<h3 data-id="heading-16">2. æ·»åŠ æ­£åˆ™åŒ–å±‚ï¼Œæå‡æ³›åŒ–èƒ½åŠ›</h3>
<p>æ— è®ºå“ªç§æ¨¡å‹ï¼Œæ·»åŠ ä»¥ä¸‹å±‚éƒ½èƒ½æœ‰æ•ˆé˜²æ­¢è¿‡æ‹Ÿåˆï¼š</p>
<ul>
<li><strong>BatchNormalization</strong>ï¼šåŠ é€Ÿæ”¶æ•›ï¼Œç¨³å®šè®­ç»ƒï¼›</li>
<li><strong>Dropout</strong>ï¼šéšæœºä¸¢å¼ƒç¥ç»å…ƒï¼ˆæ¨èæ¯”ä¾‹0.2-0.5ï¼‰ï¼›</li>
<li><strong>L2æ­£åˆ™åŒ–</strong>ï¼šé™åˆ¶æƒé‡å¤§å°ï¼Œé¿å…æ¨¡å‹â€œæ­»è®°ç¡¬èƒŒâ€ã€‚</li>
</ul>
<h3 data-id="heading-17">3. é€‚é…è¾“å…¥æ•°æ®ï¼šè°ƒæ•´å›¾åƒå°ºå¯¸ä¸é¢„å¤„ç†</h3>
<ul>
<li>æ¨¡å‹è¾“å…¥å°ºå¯¸éœ€åŒ¹é…ï¼ˆå¦‚MobileNeté»˜è®¤224Ã—224ï¼ŒViTé»˜è®¤224Ã—224/384Ã—384ï¼‰ï¼›</li>
<li>æ•°æ®é¢„å¤„ç†éœ€ä¸é¢„è®­ç»ƒæ¨¡å‹ä¸€è‡´ï¼ˆå¦‚ResNetéœ€ç”¨<code>preprocess_input</code>å½’ä¸€åŒ–ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-18">äº”ã€å®æˆ˜é€‰å‹æ¡ˆä¾‹ï¼šä¸åŒåœºæ™¯çš„æ¨¡å‹é€‰æ‹©</h2>
<h3 data-id="heading-19">æ¡ˆä¾‹1ï¼šMNISTæ‰‹å†™æ•°å­—è¯†åˆ«ï¼ˆç®€å•ä»»åŠ¡+å°æ•°æ®ï¼‰</h3>
<ul>
<li><strong>é€‰å‹</strong>ï¼šè½»é‡è‡ªå®šä¹‰CNNï¼ˆ2å±‚å·ç§¯+2å±‚æ± åŒ–ï¼‰ï¼›</li>
<li><strong>ä¼˜åŒ–</strong>ï¼šæ·»åŠ BatchNorm+Dropoutï¼Œæ•°æ®å¢å¼ºï¼ˆæ—‹è½¬ã€å¹³ç§»ï¼‰ï¼›</li>
<li><strong>æ•ˆæœ</strong>ï¼šæµ‹è¯•å‡†ç¡®ç‡å¯è¾¾99.3%+ã€‚</li>
</ul>
<h3 data-id="heading-20">æ¡ˆä¾‹2ï¼šè‡ªå®šä¹‰æ‰‹å†™æ•°å­—åˆ†ç±»ï¼ˆå°æ•°æ®+å¤æ‚åœºæ™¯ï¼‰</h3>
<ul>
<li><strong>é€‰å‹</strong>ï¼šè¿ç§»å­¦ä¹ ï¼ˆåŸºäºMobileNetï¼‰ï¼›</li>
<li><strong>åŸå› </strong>ï¼šè‡ªå®šä¹‰æ•°æ®æ ·æœ¬å°‘ï¼ˆï¼œ5000å¼ ï¼‰ï¼ŒMobileNeté¢„è®­ç»ƒç‰¹å¾èƒ½è¦†ç›–æ‰‹å†™æ•°å­—çš„è¾¹ç¼˜ã€è½®å»“ç‰¹å¾ï¼›</li>
<li><strong>æ•ˆæœ</strong>ï¼šæ¯”è‡ªå®šä¹‰CNNå‡†ç¡®ç‡æå‡5%-10%ã€‚</li>
</ul>
<h3 data-id="heading-21">æ¡ˆä¾‹3ï¼šç§»åŠ¨ç«¯æ°´æœåˆ†ç±»APPï¼ˆéƒ¨ç½²çº¦æŸ+ä¸­ç­‰æ•°æ®ï¼‰</h3>
<ul>
<li><strong>é€‰å‹</strong>ï¼šMobileNetV2ï¼›</li>
<li><strong>ä¼˜åŒ–</strong>ï¼šæ¨¡å‹é‡åŒ–ï¼ˆå°†32ä½æµ®ç‚¹æ•°è½¬ä¸º8ä½æ•´æ•°ï¼‰ï¼Œå‡å°‘ä½“ç§¯ï¼›</li>
<li><strong>æ•ˆæœ</strong>ï¼šæ¨¡å‹ä½“ç§¯ä»100MBé™è‡³10MBï¼Œé€Ÿåº¦æå‡5å€ï¼Œå‡†ç¡®ç‡ä»…ä¸‹é™1%-2%ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MATLAB readtableå‡½æ•°æ·±åº¦è§£æ,Excelæ–‡ä»¶å¤„ç†å…¨æ”»ç•¥ï¼ˆå®æˆ˜ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7596153767872806946</link>    <guid>https://juejin.cn/post/7596153767872806946</guid>    <pubDate>2026-01-18T12:56:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596153767872806946" data-draft-id="7596153767872774178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MATLAB readtableå‡½æ•°æ·±åº¦è§£æ,Excelæ–‡ä»¶å¤„ç†å…¨æ”»ç•¥ï¼ˆå®æˆ˜ç‰ˆï¼‰"/> <meta itemprop="keywords" content="MATLAB"/> <meta itemprop="datePublished" content="2026-01-18T12:56:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº’è”ç½‘å°é¡½ç«¥"/> <meta itemprop="url" content="https://juejin.cn/user/2869050444886555"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MATLAB readtableå‡½æ•°æ·±åº¦è§£æ,Excelæ–‡ä»¶å¤„ç†å…¨æ”»ç•¥ï¼ˆå®æˆ˜ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2869050444886555/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº’è”ç½‘å°é¡½ç«¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T12:56:43.000Z" title="Sun Jan 18 2026 12:56:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨MATLABæ•°æ®å¤„ç†ä¸­ï¼Œ<code>readtable()</code>æ˜¯è¯»å–Excelè¡¨æ ¼æ•°æ®çš„æ ¸å¿ƒå‡½æ•°â€”â€”ç›¸æ¯”è€æ—§çš„<code>xlsread()</code>ï¼Œå®ƒæ”¯æŒç»“æ„åŒ–å­˜å‚¨ã€çµæ´»çš„å‚æ•°é…ç½®ã€è·¨å¹³å°å…¼å®¹ï¼Œèƒ½è§£å†³99%çš„Excelæ•°æ®è¯»å–åœºæ™¯ã€‚æœ¬æ–‡ä»åŸºç¡€ç”¨æ³•åˆ°è¿›é˜¶é…ç½®ï¼Œç»“åˆå®é™…é¡¹ç›®æ¡ˆä¾‹ï¼Œè¯¦ç»†æ‹†è§£<code>readtable()</code>å¤„ç†Excelæ–‡ä»¶çš„å…¨æµç¨‹ï¼ŒåŒ…æ‹¬æ ¼å¼é€‚é…ã€æ•°æ®ç±»å‹æ§åˆ¶ã€ç¼ºå¤±å€¼å¤„ç†ã€å¤§æ–‡ä»¶ä¼˜åŒ–ç­‰å…³é”®æŠ€å·§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€readtableè¯»å–Excelçš„åŸºç¡€è®¤çŸ¥</h2>
<h3 data-id="heading-1">1. æ ¸å¿ƒä¼˜åŠ¿ï¼ˆå¯¹æ¯”xlsreadï¼‰</h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>readtable()</th><th>xlsread()ï¼ˆå·²åºŸå¼ƒï¼‰</th></tr></thead><tbody><tr><td>æ•°æ®å­˜å‚¨å½¢å¼</td><td>ç»“æ„åŒ–tableå¯¹è±¡ï¼ˆå¸¦åˆ—åï¼‰</td><td>åˆ†ç¦»çš„æ•°å€¼çŸ©é˜µ+å­—ç¬¦å•å…ƒæ ¼</td></tr><tr><td>åˆ—å/è¡¨å¤´æ”¯æŒ</td><td>è‡ªåŠ¨è¯†åˆ«/æ‰‹åŠ¨é…ç½®</td><td>éœ€å•ç‹¬æå–è¡¨å¤´</td></tr><tr><td>æ•°æ®ç±»å‹æ§åˆ¶</td><td>å¯æŒ‡å®šæ¯åˆ—ç±»å‹</td><td>è‡ªåŠ¨æ‹†åˆ†æ•°å€¼/å­—ç¬¦ï¼Œä¸å¯æ§</td></tr><tr><td>ç¼ºå¤±å€¼å¤„ç†</td><td>å†…ç½®å‚æ•°æ”¯æŒ</td><td>éœ€æ‰‹åŠ¨å¤„ç†</td></tr><tr><td>å¤§æ–‡ä»¶é€‚é…</td><td>åˆ†å—è¯»å–</td><td>ä¸€æ¬¡æ€§åŠ è½½ï¼Œæ˜“å†…å­˜æº¢å‡º</td></tr><tr><td>è·¨å¹³å°ï¼ˆLinux/Macï¼‰</td><td>æ— éœ€Excelï¼Œçº¯MATLABè§£æ</td><td>ä¾èµ–Excel COMæ¥å£ï¼Œä»…Windows</td></tr></tbody></table>
<h3 data-id="heading-2">2. åŸºç¡€è¯­æ³•</h3>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% æœ€ç®€ç”¨æ³•ï¼šè¯»å–é»˜è®¤å·¥ä½œè¡¨ï¼ˆSheet1ï¼‰çš„å…¨éƒ¨æ•°æ®</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'filename.xlsx'</span>);

<span class="hljs-comment">% å®Œæ•´è¯­æ³•ï¼šå¸¦å‚æ•°é…ç½®</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'filename.xlsx'</span>, Name, Value);

<span class="hljs-comment">% è¿›é˜¶ç”¨æ³•ï¼šé€šè¿‡ImportOptionsé…ç½®ï¼ˆæ¨èï¼‰</span>
opts = detectImportOptions(<span class="hljs-string">'filename.xlsx'</span>);
<span class="hljs-comment">% é…ç½®optså‚æ•°ï¼ˆå¦‚åˆ—åã€æ•°æ®ç±»å‹ã€è¯»å–èŒƒå›´ï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'filename.xlsx'</span>, opts);
</code></pre>
<h2 data-id="heading-3">äºŒã€åŸºç¡€ç”¨æ³•ï¼šè¯»å–Excelæ–‡ä»¶çš„æ ¸å¿ƒåœºæ™¯</h2>
<h3 data-id="heading-4">1. è¯»å–æ•´ä¸ªExcelæ–‡ä»¶ï¼ˆé»˜è®¤é…ç½®ï¼‰</h3>
<p>é€‚ç”¨äºæ ¼å¼è§„èŒƒçš„Excelæ–‡ä»¶ï¼ˆ1è¡Œè¡¨å¤´+çº¯æ•°æ®è¡Œï¼Œæ— åˆå¹¶å•å…ƒæ ¼ï¼‰ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% è¯»å–å½“å‰ç›®å½•ä¸‹çš„data.xlsxï¼Œé»˜è®¤è¯»å–ç¬¬ä¸€ä¸ªå·¥ä½œè¡¨ï¼ˆSheet1ï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>);

<span class="hljs-comment">% æŸ¥çœ‹è¯»å–ç»“æœçš„å…³é”®ä¿¡æ¯</span>
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'è¡¨æ ¼ç»´åº¦ï¼ˆè¡ŒÃ—åˆ—ï¼‰ï¼š'</span>);
<span class="hljs-built_in">disp</span>(<span class="hljs-built_in">size</span>(T));  <span class="hljs-comment">% è¾“å‡ºå¦‚ [100 5] è¡¨ç¤º100è¡Œ5åˆ—</span>
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'è¡¨æ ¼åˆ—åï¼š'</span>);
<span class="hljs-built_in">disp</span>(T.Properties.VariableNames);  <span class="hljs-comment">% è¾“å‡ºè‡ªåŠ¨è¯†åˆ«çš„åˆ—åï¼ˆå¦‚{'åºå·','æ¸©åº¦','å‹åŠ›'}ï¼‰</span>
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'å‰5è¡Œæ•°æ®é¢„è§ˆï¼š'</span>);
<span class="hljs-built_in">disp</span>(head(T, <span class="hljs-number">5</span>));  <span class="hljs-comment">% æ˜¾ç¤ºå‰5è¡Œï¼Œå¿«é€ŸéªŒè¯è¯»å–ç»“æœ</span>
</code></pre>
<h3 data-id="heading-5">2. è¯»å–æŒ‡å®šå·¥ä½œè¡¨</h3>
<p>Excelæ–‡ä»¶å¸¸åŒ…å«å¤šä¸ªå·¥ä½œè¡¨ï¼ˆå¦‚â€œå®éªŒ1â€â€œå®éªŒ2â€ï¼‰ï¼Œéœ€æŒ‡å®š<code>Sheet</code>å‚æ•°ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% ç”¨æ³•1ï¼šæŒ‰å·¥ä½œè¡¨åç§°è¯»å–ï¼ˆæ¨èï¼Œåç§°å›ºå®šï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, <span class="hljs-string">'Sheet'</span>, <span class="hljs-string">'å®éªŒæ•°æ®2'</span>);

<span class="hljs-comment">% ç”¨æ³•2ï¼šæŒ‰å·¥ä½œè¡¨ç´¢å¼•è¯»å–ï¼ˆç´¢å¼•ä»1å¼€å§‹ï¼Œæ˜“å—å·¥ä½œè¡¨é¡ºåºå½±å“ï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, <span class="hljs-string">'Sheet'</span>, <span class="hljs-number">2</span>);  <span class="hljs-comment">% è¯»å–ç¬¬äºŒä¸ªå·¥ä½œè¡¨</span>
</code></pre>
<h3 data-id="heading-6">3. è¯»å–æŒ‡å®šå•å…ƒæ ¼èŒƒå›´</h3>
<p>ä»…è¯»å–Excelä¸­éƒ¨åˆ†æ•°æ®ï¼ˆå¦‚A1:C10ï¼‰ï¼Œå‡å°‘å†—ä½™æ•°æ®åŠ è½½ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% ç²¾ç¡®æŒ‡å®šå•å…ƒæ ¼èŒƒå›´ï¼ˆå·¦é—­å³é—­ï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, <span class="hljs-string">'Range'</span>, <span class="hljs-string">'A1:C10'</span>);  <span class="hljs-comment">% è¯»å–A1åˆ°C10çš„åŒºåŸŸ</span>

<span class="hljs-comment">% æŒ‰åˆ—èŒƒå›´è¯»å–ï¼ˆå¦‚ä»…è¯»å–Aåˆ—åˆ°Dåˆ—ï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, <span class="hljs-string">'Range'</span>, <span class="hljs-string">'A:D'</span>);

<span class="hljs-comment">% æŒ‰è¡ŒèŒƒå›´è¯»å–ï¼ˆå¦‚è¯»å–ç¬¬2è¡Œåˆ°ç¬¬50è¡Œï¼Œæ‰€æœ‰åˆ—ï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, <span class="hljs-string">'Range'</span>, <span class="hljs-string">'2:50'</span>);
</code></pre>
<h3 data-id="heading-7">4. è·³è¿‡è¡¨å¤´è¡Œï¼ˆéæ ‡Excelæ–‡ä»¶ï¼‰</h3>
<p>éƒ¨åˆ†Excelæ–‡ä»¶è¡¨å¤´ä¸æ˜¯1è¡Œï¼ˆå¦‚å‰2è¡Œæ˜¯æ ‡é¢˜ï¼Œç¬¬3è¡Œæ‰æ˜¯åˆ—åï¼‰ï¼Œéœ€é…ç½®<code>HeaderLines</code>ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% è·³è¿‡å‰2è¡Œï¼Œä»ç¬¬3è¡Œå¼€å§‹è¯»å–åˆ—åå’Œæ•°æ®</span>
opts = detectImportOptions(<span class="hljs-string">'data.xlsx'</span>);
opts.HeaderLines = <span class="hljs-number">2</span>;  <span class="hljs-comment">% è·³è¿‡çš„è¡Œæ•°ï¼ˆæ ‡é¢˜è¡Œï¼‰</span>
opts.VariableNamesLine = <span class="hljs-number">3</span>;  <span class="hljs-comment">% åˆ—åæ‰€åœ¨è¡Œï¼ˆç¬¬3è¡Œï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, opts);
</code></pre>
<h2 data-id="heading-8">ä¸‰ã€è¿›é˜¶é…ç½®ï¼šç²¾å‡†æ§åˆ¶Excelæ•°æ®è¯»å–</h2>
<p><code>detectImportOptions()</code>æ˜¯<code>readtable()</code>çš„â€œé«˜çº§é…ç½®é¢æ¿â€ï¼Œèƒ½è§£å†³90%çš„éæ ‡Excelè¯»å–é—®é¢˜ï¼ˆå¦‚æ•°æ®ç±»å‹é”™è¯¯ã€åˆ—åæ— æ•ˆã€ç¼ºå¤±å€¼å¤„ç†ï¼‰ï¼Œæ ¸å¿ƒæ­¥éª¤ï¼š</p>
<ol>
<li>ç”¨<code>detectImportOptions()</code>ç”Ÿæˆé»˜è®¤é…ç½®å¯¹è±¡<code>opts</code>ï¼›</li>
<li>è°ƒæ•´<code>opts</code>çš„å‚æ•°ï¼ˆåˆ—åã€æ•°æ®ç±»å‹ã€ç¼ºå¤±å€¼ç­‰ï¼‰ï¼›</li>
<li>å°†<code>opts</code>ä¼ å…¥<code>readtable()</code>å®Œæˆè¯»å–ã€‚</li>
</ol>
<h3 data-id="heading-9">1. æŒ‡å®šåˆ—çš„æ•°æ®ç±»å‹ï¼ˆè§£å†³â€œæ•°å€¼åˆ—å˜å­—ç¬¦åˆ—â€ï¼‰</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼šExcelä¸­æ•°å€¼åˆ—å› æ··å…¥å°‘é‡éæ•°å€¼å­—ç¬¦ï¼ˆå¦‚â€œNAâ€â€œæ•…éšœâ€ï¼‰ï¼Œè¢«è¯†åˆ«ä¸ºå­—ç¬¦åˆ—ï¼Œæ— æ³•è®¡ç®—ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¼ºåˆ¶æŒ‡å®šåˆ—ç±»å‹ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% æ­¥éª¤1ï¼šç”Ÿæˆé…ç½®å¯¹è±¡</span>
opts = detectImportOptions(<span class="hljs-string">'data.xlsx'</span>);

<span class="hljs-comment">% æ­¥éª¤2ï¼šæŸ¥çœ‹é»˜è®¤åˆ—ç±»å‹ï¼ˆå¯é€‰ï¼‰</span>
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'é»˜è®¤åˆ—ç±»å‹ï¼š'</span>);
<span class="hljs-built_in">disp</span>(opts.VariableTypes);  <span class="hljs-comment">% è¾“å‡ºå¦‚ {'double','char','double'}</span>

<span class="hljs-comment">% æ­¥éª¤3ï¼šæ‰‹åŠ¨æŒ‡å®šåˆ—ç±»å‹</span>
opts.VariableTypes{<span class="hljs-number">1</span>} = <span class="hljs-string">'double'</span>;    <span class="hljs-comment">% ç¬¬1åˆ—ï¼šæ•°å€¼å‹ï¼ˆdoubleï¼‰</span>
opts.VariableTypes{<span class="hljs-number">2</span>} = <span class="hljs-string">'string'</span>;    <span class="hljs-comment">% ç¬¬2åˆ—ï¼šå­—ç¬¦ä¸²å‹</span>
opts.VariableTypes{<span class="hljs-number">3</span>} = <span class="hljs-string">'datetime'</span>;  <span class="hljs-comment">% ç¬¬3åˆ—ï¼šæ—¶é—´ç±»å‹</span>
opts.VariableTypes{<span class="hljs-number">4</span>} = <span class="hljs-string">'logical'</span>;   <span class="hljs-comment">% ç¬¬4åˆ—ï¼šå¸ƒå°”å‹</span>

<span class="hljs-comment">% æ­¥éª¤4ï¼šæŒ‰é…ç½®è¯»å–</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, opts);
</code></pre>
<h3 data-id="heading-10">2. è‡ªå®šä¹‰åˆ—åï¼ˆè§£å†³â€œåˆ—åé‡å¤/æ— æ•ˆâ€ï¼‰</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼šExcelåˆ—ååŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚â€œæ¸©åº¦-æµ‹ç‚¹1â€ï¼‰ã€é‡å¤åˆ—åï¼ˆå¦‚â€œæ¸©åº¦â€â€œæ¸©åº¦â€ï¼‰ï¼Œå¯¼è‡´MATLABè¯†åˆ«å¤±è´¥ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ›¿æ¢ä¸ºåˆæ³•åˆ—åï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab">opts = detectImportOptions(<span class="hljs-string">'data.xlsx'</span>);

<span class="hljs-comment">% æ–¹æ¡ˆ1ï¼šæ‰¹é‡æ›¿æ¢æ‰€æœ‰åˆ—å</span>
opts.VariableNames = {<span class="hljs-string">'id'</span>, <span class="hljs-string">'temp_1'</span>, <span class="hljs-string">'temp_2'</span>, <span class="hljs-string">'pressure'</span>, <span class="hljs-string">'time'</span>};

<span class="hljs-comment">% æ–¹æ¡ˆ2ï¼šä»…æ›¿æ¢æŒ‡å®šåˆ—åï¼ˆå¦‚ç¬¬2åˆ—ï¼‰</span>
opts.VariableNames{<span class="hljs-number">2</span>} = <span class="hljs-string">'temp_main'</span>;

<span class="hljs-comment">% è¯»å–æ•°æ®</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, opts);
</code></pre>
<h3 data-id="heading-11">3. å¤„ç†Excelä¸­çš„ç¼ºå¤±å€¼</h3>
<p>Excelä¸­çš„ç©ºå•å…ƒæ ¼ã€#N/Aã€â€œæ— â€ç­‰ç¼ºå¤±å€¼ï¼Œå¯é€šè¿‡<code>opts</code>é…ç½®è‡ªåŠ¨æ›¿æ¢ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab">opts = detectImportOptions(<span class="hljs-string">'data.xlsx'</span>);

<span class="hljs-comment">% å¼€å¯ç¼ºå¤±å€¼æ›¿æ¢åŠŸèƒ½</span>
opts.ReplaceMissingValues = <span class="hljs-built_in">true</span>;

<span class="hljs-comment">% é…ç½®æ•°å€¼åˆ—/å­—ç¬¦åˆ—çš„ç¼ºå¤±å€¼å¡«å……è§„åˆ™</span>
opts.MissingValue = <span class="hljs-number">0</span>;        <span class="hljs-comment">% æ•°å€¼åˆ—ç¼ºå¤±å€¼â†’å¡«å……ä¸º0</span>
opts.MissingString = <span class="hljs-string">""</span>;      <span class="hljs-comment">% å­—ç¬¦åˆ—ç¼ºå¤±å€¼â†’å¡«å……ä¸ºç©ºå­—ç¬¦ä¸²</span>
opts.MissingRule = <span class="hljs-string">'constant'</span>;<span class="hljs-comment">% å¡«å……è§„åˆ™ï¼šå¸¸é‡ï¼ˆå¯é€‰'mean'å‡å€¼/'median'ä¸­ä½æ•°ï¼‰</span>

<span class="hljs-comment">% è¯»å–æ•°æ®</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, opts);
</code></pre>
<h3 data-id="heading-12">4. å¤„ç†ä¸­æ–‡åˆ—å/å†…å®¹ï¼ˆè§£å†³ä¹±ç ï¼‰</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼šè¯»å–å«ä¸­æ–‡çš„Excelæ–‡ä»¶æ—¶ï¼Œåˆ—åæˆ–å†…å®¹æ˜¾ç¤ºä¹±ç ï¼ˆWindowsé»˜è®¤GBKç¼–ç ï¼ŒMATLABé»˜è®¤UTF-8ï¼‰ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæŒ‡å®šç¼–ç æ ¼å¼ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab">opts = detectImportOptions(<span class="hljs-string">'ä¸­æ–‡æ•°æ®.xlsx'</span>);

<span class="hljs-comment">% Windowsç³»ç»Ÿï¼šæŒ‡å®šGBKç¼–ç ï¼ˆæ ¸å¿ƒï¼‰</span>
opts.TextEncoding = <span class="hljs-string">'GBK'</span>;
<span class="hljs-comment">% Linux/Macç³»ç»Ÿï¼šæŒ‡å®šUTF-8ç¼–ç </span>
<span class="hljs-comment">% opts.TextEncoding = 'UTF-8';</span>

<span class="hljs-comment">% è¯»å–æ•°æ®</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'ä¸­æ–‡æ•°æ®.xlsx'</span>, opts);
</code></pre>
<h3 data-id="heading-13">5. è·³è¿‡ç©ºè¡Œ/æ³¨é‡Šè¡Œ</h3>
<p>Excelä¸­å¯èƒ½åŒ…å«ç©ºè¡Œæˆ–æ³¨é‡Šè¡Œï¼ˆå¦‚ä»¥â€œ#â€å¼€å¤´çš„è¡Œï¼‰ï¼Œå¯é…ç½®è·³è¿‡ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab">opts = detectImportOptions(<span class="hljs-string">'data.xlsx'</span>);

<span class="hljs-comment">% è·³è¿‡ç©ºè¡Œ</span>
opts.EmptyLineRule = <span class="hljs-string">'skip'</span>;  <span class="hljs-comment">% 'skip'è·³è¿‡/'read'è¯»å–ï¼ˆé»˜è®¤ï¼‰</span>

<span class="hljs-comment">% è·³è¿‡æ³¨é‡Šè¡Œï¼ˆå¦‚ä»¥#å¼€å¤´çš„è¡Œï¼‰</span>
opts.CommentStyle = <span class="hljs-string">'#'</span>;  <span class="hljs-comment">% æ³¨é‡Šç¬¦ä¸º#ï¼Œè‡ªåŠ¨è·³è¿‡æ­¤ç±»è¡Œ</span>

T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'data.xlsx'</span>, opts);
</code></pre>
<h2 data-id="heading-14">å››ã€é«˜çº§æŠ€å·§ï¼šå¤„ç†å¤§æ–‡ä»¶/å¤æ‚æ ¼å¼Excel</h2>
<h3 data-id="heading-15">1. å¤§æ–‡ä»¶åˆ†å—è¯»å–ï¼ˆé¿å…å†…å­˜æº¢å‡ºï¼‰</h3>
<p><strong>åœºæ™¯</strong>ï¼šè¯»å–100ä¸‡è¡Œä»¥ä¸Šçš„Excelå¤§æ–‡ä»¶ï¼Œä¸€æ¬¡æ€§åŠ è½½ä¼šå¯¼è‡´MATLABå¡é¡¿ã€å†…å­˜ä¸è¶³ã€‚
<strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šé€šè¿‡<code>ReadSize</code>è®¾ç½®æ¯æ¬¡è¯»å–çš„è¡Œæ•°ï¼Œå¾ªç¯å¤„ç†ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% æ­¥éª¤1ï¼šé…ç½®è¯»å–å‚æ•°ï¼ˆä»…è¯»å–æ ¸å¿ƒåˆ—ï¼‰</span>
opts = detectImportOptions(<span class="hljs-string">'å¤§æ–‡ä»¶.xlsx'</span>);
opts.SelectedVariableNames = {<span class="hljs-string">'id'</span>, <span class="hljs-string">'temp'</span>, <span class="hljs-string">'pressure'</span>};  <span class="hljs-comment">% ä»…è¯»å–éœ€è¦çš„åˆ—</span>
opts.ReadSize = <span class="hljs-number">10000</span>;  <span class="hljs-comment">% æ¯æ¬¡è¯»å–10000è¡Œï¼ˆå¯æ ¹æ®å†…å­˜è°ƒæ•´ï¼Œå¦‚8Gå†…å­˜è®¾ä¸º50000ï¼‰</span>
reader = textscan(opts);  <span class="hljs-comment">% åˆ›å»ºè¯»å–å™¨å¯¹è±¡</span>

<span class="hljs-comment">% æ­¥éª¤2ï¼šå¾ªç¯è¯»å–å¹¶å¤„ç†</span>
<span class="hljs-keyword">while</span> hasdata(reader)
    T_chunk = read(reader);  <span class="hljs-comment">% è¯»å–å½“å‰å—æ•°æ®</span>
    <span class="hljs-comment">% å¯¹å½“å‰å—è¿›è¡Œå¤„ç†ï¼ˆå¦‚ç­›é€‰ã€è®¡ç®—ï¼‰</span>
    T_filter = T_chunk(T_chunk.temp &gt; <span class="hljs-number">25</span>, :);  <span class="hljs-comment">% ç­›é€‰æ¸©åº¦&gt;25çš„æ•°æ®</span>
    <span class="hljs-comment">% è¿½åŠ å†™å…¥ç»“æœæ–‡ä»¶ï¼ˆåç»­å¯ç»“åˆwritetableå®ç°ï¼‰</span>
    <span class="hljs-built_in">disp</span>([<span class="hljs-string">'å¤„ç†äº†'</span> num2str(height(T_filter)) <span class="hljs-string">'è¡Œæœ‰æ•ˆæ•°æ®'</span>]);
<span class="hljs-keyword">end</span>
</code></pre>
<h3 data-id="heading-16">2. è¯»å–å«åˆå¹¶å•å…ƒæ ¼çš„Excel</h3>
<p><strong>é—®é¢˜åœºæ™¯</strong>ï¼šExcelä¸­åˆå¹¶å•å…ƒæ ¼ä¼šå¯¼è‡´è¯»å–åæ•°æ®é”™ä½ï¼ˆå¦‚åˆå¹¶å•å…ƒæ ¼ä»…ä¿ç•™ç¬¬ä¸€ä¸ªå•å…ƒæ ¼çš„å€¼ï¼Œå…¶ä½™ä¸ºç©ºï¼‰ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå…ˆæ‰‹åŠ¨æ‹†åˆ†åˆå¹¶å•å…ƒæ ¼ï¼ˆæ¨èï¼‰ï¼Œæˆ–è¯»å–åå¡«å……ç©ºå€¼ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% æ­¥éª¤1ï¼šè¯»å–å«åˆå¹¶å•å…ƒæ ¼çš„Excelï¼ˆç©ºå€¼ä¼šæ˜¾ç¤ºNaNï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'åˆå¹¶å•å…ƒæ ¼æ•°æ®.xlsx'</span>);

<span class="hljs-comment">% æ­¥éª¤2ï¼šå¡«å……åˆå¹¶å•å…ƒæ ¼å¯¼è‡´çš„ç©ºå€¼ï¼ˆå‘ä¸‹å¡«å……ï¼‰</span>
T_filled = fillmissing(T, <span class="hljs-string">'constant'</span>, <span class="hljs-string">'Previous'</span>);  <span class="hljs-comment">% ç”¨å‰ä¸€è¡Œå€¼å¡«å……ç©ºå€¼</span>
<span class="hljs-comment">% æˆ–æŒ‰åˆ—å¡«å……å‡å€¼ï¼ˆæ•°å€¼åˆ—ï¼‰</span>
T.temp = fillmissing(T.temp, <span class="hljs-string">'constant'</span>, <span class="hljs-built_in">mean</span>(T.temp, <span class="hljs-string">'omitNaN'</span>));
</code></pre>
<h3 data-id="heading-17">3. è¯»å–Excelä¸­çš„å…¬å¼ç»“æœ</h3>
<p><strong>åœºæ™¯</strong>ï¼šExcelå•å…ƒæ ¼åŒ…å«å…¬å¼ï¼ˆå¦‚<code>=SUM(A2:B2)</code>ï¼‰ï¼Œéœ€è¯»å–å…¬å¼è®¡ç®—åçš„ç»“æœï¼ˆè€Œéå…¬å¼æœ¬èº«ï¼‰ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<code>readtable()</code>é»˜è®¤è¯»å–å…¬å¼ç»“æœï¼Œæ— éœ€é¢å¤–é…ç½®ï¼›è‹¥éœ€è¯»å–å…¬å¼æœ¬èº«ï¼Œéœ€ç”¨<code>xlsread()</code>å…¼å®¹ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">% è¯»å–å…¬å¼è®¡ç®—ç»“æœï¼ˆé»˜è®¤è¡Œä¸ºï¼Œæ¨èï¼‰</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'å¸¦å…¬å¼.xlsx'</span>);

<span class="hljs-comment">% å¦‚éœ€è¯»å–å…¬å¼æœ¬èº«ï¼ˆä»…Windowsï¼Œéœ€å®‰è£…Excelï¼‰</span>
[~, ~, raw] = xlsread(<span class="hljs-string">'å¸¦å…¬å¼.xlsx'</span>);
formula_col = raw(:, <span class="hljs-number">3</span>);  <span class="hljs-comment">% ç¬¬3åˆ—ä¸ºå…¬å¼æ–‡æœ¬</span>
</code></pre>
<h2 data-id="heading-18">äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆï¼ˆé¿å‘æŒ‡å—ï¼‰</h2>








































<table><thead><tr><th>é—®é¢˜ç°è±¡</th><th>åŸå› åˆ†æ</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ä¸­æ–‡åˆ—å/å†…å®¹ä¹±ç </td><td>ç¼–ç ä¸åŒ¹é…ï¼ˆWindows=GBKï¼ŒMATLABé»˜è®¤=UTF-8ï¼‰</td><td><code>opts.TextEncoding = 'GBK'</code>ï¼ˆWindowsï¼‰/<code>'UTF-8'</code>ï¼ˆLinux/Macï¼‰</td></tr><tr><td>æ•°å€¼åˆ—è¢«è¯†åˆ«ä¸ºå­—ç¬¦åˆ—</td><td>æ•°æ®ä¸­æ··å…¥éæ•°å€¼å­—ç¬¦ï¼ˆå¦‚â€œNAâ€â€œ--â€ï¼‰</td><td><code>opts.VariableTypes{åˆ—å·} = 'double'</code> + è¯»å–åæ›¿æ¢éæ•°å€¼å­—ç¬¦ä¸ºNaN</td></tr><tr><td>è¯»å–ååˆ—æ•°/è¡Œæ•°ä¸Excelä¸ä¸€è‡´</td><td>åŒ…å«éšè—è¡Œ/åˆ—ã€åˆå¹¶å•å…ƒæ ¼</td><td>å…ˆå–æ¶ˆExceléšè—è¡Œ/åˆ—ï¼Œæ‹†åˆ†åˆå¹¶å•å…ƒæ ¼ï¼›æˆ–ç”¨<code>Range</code>ç²¾å‡†æŒ‡å®šè¯»å–èŒƒå›´</td></tr><tr><td>æç¤ºâ€œå˜é‡åæ— æ•ˆâ€</td><td>åˆ—ååŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ç©ºæ ¼ã€/ã€-ï¼‰</td><td><code>opts.VariableNames = {'è‡ªå®šä¹‰åˆ—å1','è‡ªå®šä¹‰åˆ—å2'}</code>æ‰‹åŠ¨æ›¿æ¢</td></tr><tr><td>å¤§æ–‡ä»¶è¯»å–æç¤ºå†…å­˜ä¸è¶³</td><td>ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®</td><td>åˆ†å—è¯»å–ï¼ˆ<code>opts.ReadSize</code>ï¼‰+ ä»…è¯»å–æ ¸å¿ƒåˆ—ï¼ˆ<code>opts.SelectedVariableNames</code>ï¼‰</td></tr><tr><td>æ—¥æœŸåˆ—è¢«è¯†åˆ«ä¸ºå­—ç¬¦åˆ—</td><td>æ—¥æœŸæ ¼å¼ä¸ç»Ÿä¸€ï¼ˆå¦‚â€œ2024/5/20â€â€œ2024-05-20â€ï¼‰</td><td><code>opts.VariableTypes{åˆ—å·} = 'datetime'</code> + æŒ‡å®šè¾“å…¥æ ¼å¼ï¼š<code>datetime(T.æ—¶é—´, 'InputFormat', 'yyyy-MM-dd')</code></td></tr></tbody></table>
<h2 data-id="heading-19">å…­ã€å®Œæ•´å®æˆ˜æ¡ˆä¾‹ï¼šè¯»å–å¹¶æ¸…æ´—Excelå®éªŒæ•°æ®</h2>
<pre><code class="hljs language-matlab" lang="matlab"><span class="hljs-comment">%% ç›®æ ‡ï¼šè¯»å–éæ ‡Excelå®éªŒæ•°æ®â†’æ¸…æ´—â†’æ ‡å‡†åŒ–</span>
<span class="hljs-comment">% 1. é…ç½®è¯»å–å‚æ•°</span>
opts = detectImportOptions(<span class="hljs-string">'å®éªŒæ•°æ®_raw.xlsx'</span>);
<span class="hljs-comment">% è‡ªå®šä¹‰åˆ—åï¼ˆè§£å†³åŸåˆ—åå«ç‰¹æ®Šå­—ç¬¦é—®é¢˜ï¼‰</span>
opts.VariableNames = {<span class="hljs-string">'sample_id'</span>, <span class="hljs-string">'test_time'</span>, <span class="hljs-string">'temp'</span>, <span class="hljs-string">'pressure'</span>, <span class="hljs-string">'remark'</span>};
<span class="hljs-comment">% æŒ‡å®šåˆ—ç±»å‹</span>
opts.VariableTypes = {<span class="hljs-string">'double'</span>, <span class="hljs-string">'datetime'</span>, <span class="hljs-string">'double'</span>, <span class="hljs-string">'double'</span>, <span class="hljs-string">'string'</span>};
<span class="hljs-comment">% å¤„ç†ä¸­æ–‡ä¹±ç </span>
opts.TextEncoding = <span class="hljs-string">'GBK'</span>;
<span class="hljs-comment">% è·³è¿‡å‰1è¡Œæ ‡é¢˜ï¼Œåˆ—ååœ¨ç¬¬2è¡Œ</span>
opts.HeaderLines = <span class="hljs-number">1</span>;
opts.VariableNamesLine = <span class="hljs-number">2</span>;
<span class="hljs-comment">% ç¼ºå¤±å€¼æ›¿æ¢è§„åˆ™</span>
opts.ReplaceMissingValues = <span class="hljs-built_in">true</span>;
opts.MissingValue = NaN;
opts.MissingString = <span class="hljs-string">""</span>;

<span class="hljs-comment">% 2. è¯»å–æ•°æ®</span>
T = <span class="hljs-built_in">readtable</span>(<span class="hljs-string">'å®éªŒæ•°æ®_raw.xlsx'</span>, opts);
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'åŸå§‹æ•°æ®å‰5è¡Œï¼š'</span>);
<span class="hljs-built_in">disp</span>(head(T, <span class="hljs-number">5</span>));

<span class="hljs-comment">% 3. æ•°æ®æ¸…æ´—</span>
<span class="hljs-comment">% 3.1 æ›¿æ¢æ•°å€¼åˆ—ç¼ºå¤±å€¼ä¸ºå‡å€¼</span>
T.temp(<span class="hljs-built_in">isnan</span>(T.temp)) = <span class="hljs-built_in">mean</span>(T.temp, <span class="hljs-string">'omitNaN'</span>);
T.pressure(<span class="hljs-built_in">isnan</span>(T.pressure)) = <span class="hljs-built_in">mean</span>(T.pressure, <span class="hljs-string">'omitNaN'</span>);

<span class="hljs-comment">% 3.2 ç­›é€‰æœ‰æ•ˆæ•°æ®ï¼ˆæ¸©åº¦0~100ï¼Œå‹åŠ›100~200ï¼‰</span>
T_clean = T((T.temp &gt;= <span class="hljs-number">0</span> &amp; T.temp &lt;= <span class="hljs-number">100</span>) &amp; (T.pressure &gt;= <span class="hljs-number">100</span> &amp; T.pressure &lt;= <span class="hljs-number">200</span>), :);

<span class="hljs-comment">% 3.3 æ—¶é—´æ ¼å¼æ ‡å‡†åŒ–</span>
T_clean.test_time = datetime(T_clean.test_time, <span class="hljs-string">'Format'</span>, <span class="hljs-string">'yyyy-MM-dd HH:mm:ss'</span>);

<span class="hljs-comment">% 4. è¾“å‡ºæ¸…æ´—ç»“æœ</span>
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'æ¸…æ´—åæ•°æ®ç»´åº¦ï¼š'</span>);
<span class="hljs-built_in">disp</span>(<span class="hljs-built_in">size</span>(T_clean));
<span class="hljs-built_in">disp</span>(<span class="hljs-string">'æ¸…æ´—åæ•°æ®å‰5è¡Œï¼š'</span>);
<span class="hljs-built_in">disp</span>(head(T_clean, <span class="hljs-number">5</span>));
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Modbusåè®®å·¥ä½œåŸç†ï¼Œä»é€šä¿¡æ¶æ„åˆ°å¸§ç»“æ„å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7596299957278146587</link>    <guid>https://juejin.cn/post/7596299957278146587</guid>    <pubDate>2026-01-18T13:20:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596299957278146587" data-draft-id="7595895132261580851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Modbusåè®®å·¥ä½œåŸç†ï¼Œä»é€šä¿¡æ¶æ„åˆ°å¸§ç»“æ„å…¨è§£æ"/> <meta itemprop="keywords" content="åµŒå…¥å¼"/> <meta itemprop="datePublished" content="2026-01-18T13:20:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸Šç­èŒä¸šæ‘¸é±¼äºº"/> <meta itemprop="url" content="https://juejin.cn/user/1637603381099082"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Modbusåè®®å·¥ä½œåŸç†ï¼Œä»é€šä¿¡æ¶æ„åˆ°å¸§ç»“æ„å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1637603381099082/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸Šç­èŒä¸šæ‘¸é±¼äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:20:42.000Z" title="Sun Jan 18 2026 13:20:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Modbusæ˜¯ä¸€ç§<strong>ä¸»ä»å¼ä¸²è¡Œé€šä¿¡åè®®</strong>ï¼Œç”±æ–½è€å¾·å…¬å¸äº1979å¹´æ¨å‡ºï¼Œä¸“é—¨ä¸ºå·¥ä¸šç°åœºè®¾å¤‡é€šä¿¡è®¾è®¡ã€‚å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯<strong>ç®€å•ã€å¼€æºã€å…¼å®¹æ€§å¼º</strong>ï¼Œæ— éœ€å¤æ‚çš„ç¡¬ä»¶æ”¯æŒï¼Œä»…é€šè¿‡ä¸²å£ï¼ˆRS232/RS485ï¼‰æˆ–ä»¥å¤ªç½‘å³å¯å®ç°è®¾å¤‡é—´çš„æ•°æ®äº¤äº’ï¼Œå¹¿æ³›åº”ç”¨äºPLCã€ä¼ æ„Ÿå™¨ã€å˜é¢‘å™¨ã€åµŒå…¥å¼å•ç‰‡æœºç­‰å·¥ä¸šè®¾å¤‡ã€‚</p>
<p>æœ¬æ–‡ä»<strong>é€šä¿¡æ¶æ„ã€ä¼ è¾“æ¨¡å¼ã€å¸§ç»“æ„ã€æ ¸å¿ƒæµç¨‹</strong>å››ä¸ªç»´åº¦ï¼Œå½»åº•è®²é€Modbusåè®®çš„å·¥ä½œåŸç†ï¼Œè¦†ç›–åµŒå…¥å¼å¼€å‘å’Œå·¥ä¸šé€šä¿¡çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Modbusåè®®çš„æ ¸å¿ƒé€šä¿¡æ¶æ„ï¼šä¸»ä»æ¨¡å¼</h2>
<p>Modbusåè®®çš„é€šä¿¡é€»è¾‘åŸºäº<strong>ä¸»-ä»ï¼ˆMaster-Slaveï¼‰æ¶æ„</strong>ï¼Œè¿™æ˜¯å®ƒä¸å…¶ä»–å¯¹ç­‰é€šä¿¡åè®®ï¼ˆå¦‚TCP/IPï¼‰çš„æ ¸å¿ƒåŒºåˆ«ï¼Œä¹Ÿæ˜¯å·¥ä¸šç°åœºâ€œé›†ä¸­ç®¡æ§â€éœ€æ±‚çš„ç›´æ¥ä½“ç°ã€‚</p>
<h3 data-id="heading-1">1. ä¸»ä»è®¾å¤‡çš„è§’è‰²å®šä¹‰</h3>























<table><thead><tr><th>è®¾å¤‡è§’è‰²</th><th>æ ¸å¿ƒæƒé™</th><th>æ•°é‡é™åˆ¶</th><th>å…¸å‹è®¾å¤‡</th></tr></thead><tbody><tr><td><strong>ä¸»æœºï¼ˆMasterï¼‰</strong></td><td>1. ä¸»åŠ¨å‘èµ·é€šä¿¡è¯·æ±‚ï¼ˆè¯»/å†™æŒ‡ä»¤ï¼‰<br/>2. æ§åˆ¶é€šä¿¡æ—¶åºï¼Œå†³å®šä½•æ—¶ä¸å“ªä¸ªä»æœºé€šä¿¡<br/>3. æ¥æ”¶å¹¶è§£æä»æœºçš„å“åº”æ•°æ®</td><td>åŒä¸€é€šä¿¡æ€»çº¿<strong>åªèƒ½æœ‰1å°ä¸»æœº</strong></td><td>å·¥æ§æœºã€PLCï¼ˆä¸»ç«™ï¼‰ã€åµŒå…¥å¼ç½‘å…³ã€ä¸Šä½æœºè½¯ä»¶</td></tr><tr><td><strong>ä»æœºï¼ˆSlaveï¼‰</strong></td><td>1. è¢«åŠ¨æ¥æ”¶ä¸»æœºçš„æŒ‡ä»¤ï¼Œæ— æ³•ä¸»åŠ¨å‘èµ·é€šä¿¡<br/>2. æ ¹æ®æŒ‡ä»¤æ‰§è¡Œç›¸åº”æ“ä½œï¼ˆå¦‚è¿”å›ä¼ æ„Ÿå™¨æ•°æ®ã€ä¿®æ”¹å¯„å­˜å™¨å€¼ï¼‰<br/>3. å‘ä¸»æœºè¿”å›å“åº”å¸§ï¼ˆå«æ‰§è¡Œç»“æœæˆ–æ•°æ®ï¼‰</td><td>åŒä¸€æ€»çº¿å¯æ”¯æŒ<strong>æœ€å¤š247å°ä»æœº</strong>ï¼ˆåœ°å€èŒƒå›´1-247ï¼‰</td><td>ä¼ æ„Ÿå™¨ã€å˜é¢‘å™¨ã€æ‰§è¡Œå™¨ã€åµŒå…¥å¼å•ç‰‡æœºï¼ˆä»ç«™ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-2">2. ä¸»ä»é€šä¿¡çš„æ ¸å¿ƒè§„åˆ™</h3>
<ul>
<li><strong>æ€»çº¿æ§åˆ¶æƒå”¯ä¸€</strong>ï¼šä»»ä½•æ—¶åˆ»ï¼Œåªæœ‰ä¸»æœºèƒ½å‘èµ·é€šä¿¡ï¼Œä»æœºåªèƒ½ç­‰å¾…æŒ‡ä»¤ï¼Œé¿å…å¤šè®¾å¤‡åŒæ—¶å‘é€æ•°æ®å¯¼è‡´æ€»çº¿å†²çªã€‚</li>
<li><strong>ä»æœºåœ°å€æ ‡è¯†</strong>ï¼šæ¯å°ä»æœºéƒ½æœ‰å”¯ä¸€çš„åœ°å€ï¼ˆ1-247ï¼‰ï¼Œä¸»æœºé€šè¿‡åœ°å€æŒ‡å®šé€šä¿¡ç›®æ ‡ï¼›åœ°å€<code>0</code>ä¸ºå¹¿æ’­åœ°å€ï¼Œä¸»æœºå‘é€çš„å¹¿æ’­æŒ‡ä»¤æ‰€æœ‰ä»æœºéƒ½ä¼šæ‰§è¡Œï¼Œä½†ä»æœºæ— éœ€è¿”å›å“åº”ã€‚</li>
<li><strong>è¯·æ±‚-å“åº”é—­ç¯</strong>ï¼šä¸»æœºå‘é€ä¸€æ¡æŒ‡ä»¤ â†’ å¯¹åº”ä»æœºæ¥æ”¶å¹¶å¤„ç† â†’ ä»æœºè¿”å›å“åº” â†’ ä¸»æœºè§£æå“åº”ï¼Œå®Œæˆä¸€æ¬¡é€šä¿¡é—­ç¯ï¼›è‹¥ä»æœºæœªæ”¶åˆ°æŒ‡ä»¤æˆ–æŒ‡ä»¤é”™è¯¯ï¼Œä¸ä¼šè¿”å›å“åº”ï¼Œä¸»æœºè§¦å‘è¶…æ—¶æœºåˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-3">3. é€šä¿¡æ‹“æ‰‘ç»“æ„</h3>
<p>Modbusåè®®æ”¯æŒä¸¤ç§ä¸»æµæ‹“æ‰‘ï¼Œé€‚é…ä¸åŒçš„ä¼ è¾“ä»‹è´¨ï¼š</p>
<ul>
<li><strong>RS485æ€»çº¿æ‹“æ‰‘ï¼ˆModbus RTU/ASCIIï¼‰</strong>ï¼šé‡‡ç”¨<strong>æ‰‹æ‹‰æ‰‹é“¾å¼ç»“æ„</strong>ï¼Œæ‰€æœ‰è®¾å¤‡çš„A/Bå¼•è„šä¾æ¬¡ä¸²è”ï¼Œä¸»æœºä½äºæ€»çº¿ä¸€ç«¯ï¼Œä»æœºåˆ†å¸ƒåœ¨æ€»çº¿ä¸Šï¼›æ€»çº¿ä¸¤ç«¯éœ€æ¥120Î©ç»ˆç«¯ç”µé˜»ï¼Œå‡å°‘ä¿¡å·åå°„ã€‚</li>
<li><strong>ä»¥å¤ªç½‘æ˜Ÿå‹æ‹“æ‰‘ï¼ˆModbus TCPï¼‰</strong>ï¼šåŸºäºTCP/IPç½‘ç»œï¼Œæ‰€æœ‰è®¾å¤‡è¿æ¥åˆ°äº¤æ¢æœºï¼Œä¸»æœºé€šè¿‡IPåœ°å€è®¿é—®ä»æœºï¼Œçªç ´RS485çš„247å°ä»æœºé™åˆ¶ï¼Œæ”¯æŒè¿œç¨‹é€šä¿¡ã€‚</li>
</ul>
<h2 data-id="heading-4">äºŒã€Modbusåè®®çš„ä¸‰å¤§ä¼ è¾“æ¨¡å¼ï¼šRTU/ASCII/TCP</h2>
<p>Modbusåè®®æ ¹æ®ä¼ è¾“ä»‹è´¨å’Œæ•°æ®æ ¼å¼ï¼Œåˆ†ä¸ºä¸‰ç§ä¸»æµä¼ è¾“æ¨¡å¼ï¼Œå…¶ä¸­<strong>Modbus RTU</strong>æ˜¯åµŒå…¥å¼è®¾å¤‡çš„é¦–é€‰ã€‚</p>
<h3 data-id="heading-5">1. ä¸‰ç§ä¼ è¾“æ¨¡å¼æ ¸å¿ƒå¯¹æ¯”</h3>





















































<table><thead><tr><th>ç‰¹æ€§</th><th>Modbus RTU</th><th>Modbus ASCII</th><th>Modbus TCP</th></tr></thead><tbody><tr><td><strong>ä¼ è¾“ä»‹è´¨</strong></td><td>RS232/RS485ä¸²å£</td><td>RS232/RS485ä¸²å£</td><td>ä»¥å¤ªç½‘ï¼ˆTCP/IPï¼‰</td></tr><tr><td><strong>æ•°æ®æ ¼å¼</strong></td><td>äºŒè¿›åˆ¶ï¼ˆ8ä½å­—èŠ‚ï¼‰</td><td>ASCIIå­—ç¬¦ï¼ˆæ¯ä¸ªå­—èŠ‚ç”¨2ä¸ªASCIIç è¡¨ç¤ºï¼‰</td><td>åŸºäºTCPæŠ¥æ–‡ï¼ŒäºŒè¿›åˆ¶æ ¼å¼</td></tr><tr><td><strong>å¸§åˆ†éš”æ–¹å¼</strong></td><td>å¸§é—´éš”ï¼ˆï¼3.5ä¸ªå­—ç¬¦æ—¶é—´ï¼‰</td><td>å¸§å¤´<code>:</code>ï¼ˆ0x3Aï¼‰+ å¸§å°¾<code>\r\n</code>ï¼ˆ0x0D0Aï¼‰</td><td>åŸºäºTCPè¿æ¥çš„æŠ¥æ–‡é•¿åº¦å­—æ®µ</td></tr><tr><td><strong>æ ¡éªŒæ–¹å¼</strong></td><td>CRC16æ ¡éªŒï¼ˆ2å­—èŠ‚ï¼‰</td><td>LRCæ ¡éªŒï¼ˆ1å­—èŠ‚ï¼‰</td><td>ä¾èµ–TCP/IPçš„æ ¡éªŒæœºåˆ¶ï¼Œæ— éœ€é¢å¤–æ ¡éªŒ</td></tr><tr><td><strong>ä¼ è¾“æ•ˆç‡</strong></td><td>é«˜ï¼ˆäºŒè¿›åˆ¶ç´§å‡‘ï¼Œæ— å†—ä½™ï¼‰</td><td>ä½ï¼ˆæ•°æ®é‡ç¿»å€ï¼Œä»…ç”¨äºè°ƒè¯•ï¼‰</td><td>æœ€é«˜ï¼ˆä»¥å¤ªç½‘å¸¦å®½å¤§ï¼Œæ”¯æŒé«˜é€Ÿä¼ è¾“ï¼‰</td></tr><tr><td><strong>æŠ—å¹²æ‰°èƒ½åŠ›</strong></td><td>å¼ºï¼ˆäºŒè¿›åˆ¶ä¼ è¾“ï¼Œæ ¡éªŒä¸¥æ ¼ï¼‰</td><td>å¼±ï¼ˆASCIIç æ˜“å—å¹²æ‰°ï¼‰</td><td>å¼ºï¼ˆTCP/IPé‡ä¼ æœºåˆ¶ï¼‰</td></tr><tr><td><strong>åµŒå…¥å¼é€‚é…æ€§</strong></td><td>é«˜ï¼ˆä¸²å£é€šä¿¡ï¼Œèµ„æºå ç”¨ä½ï¼‰</td><td>ä½ï¼ˆä»…ç”¨äºè°ƒè¯•ï¼‰</td><td>ä¸­ï¼ˆéœ€ä»¥å¤ªç½‘æ¥å£ï¼Œé€‚åˆç½‘å…³è®¾å¤‡ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-6">2. åµŒå…¥å¼åœºæ™¯é¦–é€‰ï¼šModbus RTU</h3>
<p>åœ¨åµŒå…¥å¼å¼€å‘ä¸­ï¼ŒModbus RTUæ˜¯åº”ç”¨æœ€å¹¿çš„æ¨¡å¼ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>ç¡¬ä»¶é—¨æ§›ä½</strong>ï¼šå‡ ä¹æ‰€æœ‰åµŒå…¥å¼å•ç‰‡æœºï¼ˆå¦‚STM32ã€ESP32ï¼‰éƒ½æ ‡é…ä¸²å£ï¼Œæ­é…RS485æ¨¡å—å³å¯å®ç°é€šä¿¡ï¼Œæ— éœ€é¢å¤–ç¡¬ä»¶ã€‚</li>
<li><strong>ä¼ è¾“æ•ˆç‡é«˜</strong>ï¼šäºŒè¿›åˆ¶æ•°æ®æ ¼å¼ï¼Œæ— å†—ä½™å­—ç¬¦ï¼Œåœ¨ä½æ³¢ç‰¹ç‡ä¸‹ï¼ˆå¦‚9600bpsï¼‰ä¹Ÿèƒ½å¿«é€Ÿä¼ è¾“æ•°æ®ã€‚</li>
<li><strong>å·¥ä¸šå…¼å®¹æ€§å¼º</strong>ï¼šç»å¤§å¤šæ•°å·¥ä¸šä¼ æ„Ÿå™¨ã€æ‰§è¡Œå™¨éƒ½æ”¯æŒModbus RTUåè®®ï¼Œæ— éœ€åè®®è½¬æ¢ã€‚</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€Modbusåè®®çš„æ ¸å¿ƒï¼šå¸§ç»“æ„è§£æ</h2>
<p>Modbusåè®®çš„é€šä¿¡æœ¬è´¨æ˜¯<strong>å¸§çš„ä¼ è¾“ä¸è§£æ</strong>â€”â€”ä¸»æœºå‘é€è¯·æ±‚å¸§ï¼Œä»æœºè¿”å›å“åº”å¸§ï¼Œå¸§çš„æ ¼å¼å†³å®šäº†æ•°æ®å¦‚ä½•è¢«è¯†åˆ«å’Œå¤„ç†ã€‚</p>
<h3 data-id="heading-8">1. é€šç”¨å¸§ç»“æ„ï¼ˆä¸»ä»é€šä¿¡çš„â€œè¯­è¨€æ ¼å¼â€ï¼‰</h3>
<p>æ— è®ºå“ªç§ä¼ è¾“æ¨¡å¼ï¼ŒModbuså¸§éƒ½åŒ…å«<strong>åœ°å€æ®µã€åŠŸèƒ½æ®µã€æ•°æ®æ®µã€æ ¡éªŒæ®µ</strong>å››ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼Œä¸åŒæ¨¡å¼çš„å·®å¼‚ä»…åœ¨äºå­—æ®µçš„ç¼–ç å’Œåˆ†éš”æ–¹å¼ã€‚</p>
<h4 data-id="heading-9">ï¼ˆ1ï¼‰Modbus RTUå¸§ç»“æ„ï¼ˆåµŒå…¥å¼é‡ç‚¹ï¼‰</h4>
<p>Modbus RTUå¸§æ˜¯<strong>äºŒè¿›åˆ¶ç´§å‡‘æ ¼å¼</strong>ï¼Œæ— å¸§å¤´å¸§å°¾ï¼Œé <strong>3.5ä¸ªå­—ç¬¦æ—¶é—´çš„é—´éš”</strong>åŒºåˆ†ä¸åŒå¸§ï¼Œå®Œæ•´ç»“æ„å¦‚ä¸‹ï¼ˆå­—èŠ‚åºä¸ºå¤§ç«¯åºï¼‰ï¼š</p>



































<table><thead><tr><th>å­—æ®µ</th><th>å­—èŠ‚æ•°</th><th>åŠŸèƒ½è¯´æ˜</th><th>å–å€¼èŒƒå›´/ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>ä»æœºåœ°å€ï¼ˆSlave Addressï¼‰</strong></td><td>1</td><td>æ ‡è¯†ç›®æ ‡ä»æœºï¼Œä¸»æœºé€šè¿‡æ­¤å­—æ®µæŒ‡å®šé€šä¿¡å¯¹è±¡</td><td>1-247ï¼ˆæœ‰æ•ˆåœ°å€ï¼‰ï¼›0ï¼ˆå¹¿æ’­åœ°å€ï¼‰</td></tr><tr><td><strong>åŠŸèƒ½ç ï¼ˆFunction Codeï¼‰</strong></td><td>1</td><td>æŒ‡ç¤ºä»æœºæ‰§è¡Œçš„æ“ä½œç±»å‹ï¼ˆè¯»/å†™å¯„å­˜å™¨ã€è¯»çº¿åœˆç­‰ï¼‰</td><td>0x01ï¼ˆè¯»çº¿åœˆï¼‰ï¼›0x03ï¼ˆè¯»ä¿æŒå¯„å­˜å™¨ï¼‰ï¼›0x06ï¼ˆå†™å•ä¸ªå¯„å­˜å™¨ï¼‰</td></tr><tr><td><strong>æ•°æ®åŸŸï¼ˆDataï¼‰</strong></td><td>Nï¼ˆå¯å˜ï¼‰</td><td>åŒ…å«æŒ‡ä»¤å‚æ•°æˆ–å“åº”æ•°æ®ï¼š<br/>- è¯·æ±‚å¸§ï¼šå¯„å­˜å™¨èµ·å§‹åœ°å€ã€å¯„å­˜å™¨æ•°é‡ã€å†™å…¥çš„æ•°æ®ç­‰<br/>- å“åº”å¸§ï¼šè¿”å›çš„æ•°æ®é•¿åº¦ã€å¯„å­˜å™¨æ•°æ®ç­‰</td><td>è¯·æ±‚å¸§ç¤ºä¾‹ï¼ˆ0x03æŒ‡ä»¤ï¼‰ï¼š0x00 0x01 0x00 0x02 â†’ è¯»èµ·å§‹åœ°å€0x0001ï¼Œå…±2ä¸ªå¯„å­˜å™¨</td></tr><tr><td><strong>CRCæ ¡éªŒï¼ˆCRCï¼‰</strong></td><td>2</td><td>ç”¨äºæ ¡éªŒå¸§çš„å®Œæ•´æ€§ï¼Œæ£€æµ‹ä¼ è¾“è¿‡ç¨‹ä¸­çš„æ•°æ®é”™è¯¯</td><td>è®¡ç®—æ–¹å¼ï¼šåŸºäºå‰N+2å­—èŠ‚çš„CRC16ç®—æ³•ï¼Œ<strong>ä½å­—èŠ‚åœ¨å‰ï¼Œé«˜å­—èŠ‚åœ¨å</strong>ï¼›ç¤ºä¾‹ï¼š0x85 0x39</td></tr></tbody></table>
<h5 data-id="heading-10">å…³é”®ç»†èŠ‚ï¼šCRC16æ ¡éªŒè®¡ç®—é€»è¾‘</h5>
<p>CRC16æ˜¯Modbus RTUçš„æ ¸å¿ƒæ ¡éªŒæ‰‹æ®µï¼Œè®¡ç®—æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–CRCå¯„å­˜å™¨ä¸º<code>0xFFFF</code>ï¼›</li>
<li>éå†å¸§çš„å‰N+2å­—èŠ‚ï¼ˆåœ°å€+åŠŸèƒ½ç +æ•°æ®åŸŸï¼‰ï¼Œæ¯ä¸ªå­—èŠ‚ä¸CRCå¯„å­˜å™¨è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼›</li>
<li>å¯¹CRCå¯„å­˜å™¨å¾ªç¯å³ç§»1ä½ï¼Œè‹¥æœ€ä½ä½ä¸º1ï¼Œåˆ™ä¸å¤šé¡¹å¼<code>0xA001</code>å¼‚æˆ–ï¼›</li>
<li>éå†å®Œæˆåï¼ŒCRCå¯„å­˜å™¨çš„å€¼å³ä¸ºæ ¡éªŒç ï¼Œä½å­—èŠ‚åœ¨å‰å­˜å…¥å¸§å°¾ã€‚</li>
</ol>
<h4 data-id="heading-11">ï¼ˆ2ï¼‰è¯·æ±‚å¸§ä¸å“åº”å¸§çš„å¯¹åº”å…³ç³»</h4>
<p>ä¸»æœºå‘é€çš„è¯·æ±‚å¸§å’Œä»æœºè¿”å›çš„å“åº”å¸§<strong>ä¸€ä¸€å¯¹åº”</strong>ï¼ŒåŠŸèƒ½ç æ˜¯ä¸¤è€…çš„å…³è”æ ¸å¿ƒï¼š</p>
<ul>
<li><strong>æ­£å¸¸å“åº”</strong>ï¼šä»æœºè¿”å›çš„åŠŸèƒ½ç ä¸ä¸»æœºè¯·æ±‚çš„åŠŸèƒ½ç å®Œå…¨ä¸€è‡´ï¼›æ•°æ®åŸŸä¸ºè¯·æ±‚çš„ç›®æ ‡æ•°æ®ã€‚</li>
<li><strong>å¼‚å¸¸å“åº”</strong>ï¼šä»æœºè¿”å›çš„åŠŸèƒ½ç ä¸º<strong>åŸåŠŸèƒ½ç +0x80</strong>ï¼ˆå¦‚è¯·æ±‚0x03ï¼Œå¼‚å¸¸æ—¶è¿”å›0x83ï¼‰ï¼›æ•°æ®åŸŸä¸ºå¼‚å¸¸ç ï¼ˆæŒ‡ç¤ºé”™è¯¯ç±»å‹ï¼Œå¦‚éæ³•åŠŸèƒ½ç ã€éæ³•å¯„å­˜å™¨åœ°å€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-12">2. Modbusåè®®çš„æ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼šå››å¤§å¯„å­˜å™¨</h3>
<p>Modbusåè®®å®šä¹‰äº†<strong>å››å¤§ç±»å¯„å­˜å™¨</strong>ï¼Œç”¨äºå­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ï¼Œä¸»æœºé€šè¿‡åŠŸèƒ½ç æ“ä½œè¿™äº›å¯„å­˜å™¨ï¼Œè¿™æ˜¯åè®®ä¸è®¾å¤‡äº¤äº’çš„æ ¸å¿ƒæ¥å£ã€‚</p>








































<table><thead><tr><th>å¯„å­˜å™¨ç±»å‹</th><th>åŠŸèƒ½æè¿°</th><th>æ•°æ®ç±»å‹</th><th>è¯»å†™å±æ€§</th><th>å¸¸ç”¨åŠŸèƒ½ç </th></tr></thead><tbody><tr><td><strong>çº¿åœˆå¯„å­˜å™¨ï¼ˆCoilsï¼‰</strong></td><td>å­˜å‚¨å¼€å…³é‡æ•°æ®ï¼ˆå¦‚ç»§ç”µå™¨çŠ¶æ€ã€æŒ‡ç¤ºç¯å¼€å…³ï¼‰</td><td>1ä½ï¼ˆ0/1ï¼‰</td><td>å¯è¯»å¯å†™</td><td>0x01ï¼ˆè¯»ï¼‰ã€0x05ï¼ˆå†™å•ä¸ªï¼‰ã€0x0Fï¼ˆå†™å¤šä¸ªï¼‰</td></tr><tr><td><strong>ç¦»æ•£è¾“å…¥å¯„å­˜å™¨ï¼ˆDiscrete Inputsï¼‰</strong></td><td>å­˜å‚¨å¤–éƒ¨è¾“å…¥çš„å¼€å…³é‡æ•°æ®ï¼ˆå¦‚æŒ‰é’®çŠ¶æ€ã€ä¼ æ„Ÿå™¨è§¦å‘ä¿¡å·ï¼‰</td><td>1ä½ï¼ˆ0/1ï¼‰</td><td>åªè¯»ï¼ˆæ•°æ®ç”±å¤–éƒ¨è®¾å¤‡è¾“å…¥ï¼‰</td><td>0x02ï¼ˆè¯»ï¼‰</td></tr><tr><td><strong>ä¿æŒå¯„å­˜å™¨ï¼ˆHolding Registersï¼‰</strong></td><td>å­˜å‚¨æ¨¡æ‹Ÿé‡æ•°æ®ï¼ˆå¦‚æ¸©åº¦ã€å‹åŠ›ã€è½¬é€Ÿï¼‰</td><td>16ä½ï¼ˆ2å­—èŠ‚ï¼‰</td><td>å¯è¯»å¯å†™</td><td>0x03ï¼ˆè¯»ï¼‰ã€0x06ï¼ˆå†™å•ä¸ªï¼‰ã€0x10ï¼ˆå†™å¤šä¸ªï¼‰</td></tr><tr><td><strong>è¾“å…¥å¯„å­˜å™¨ï¼ˆInput Registersï¼‰</strong></td><td>å­˜å‚¨å¤–éƒ¨ä¼ æ„Ÿå™¨çš„æ¨¡æ‹Ÿé‡æ•°æ®ï¼ˆå¦‚ADCé‡‡é›†å€¼ï¼‰</td><td>16ä½ï¼ˆ2å­—èŠ‚ï¼‰</td><td>åªè¯»ï¼ˆæ•°æ®ç”±ä¼ æ„Ÿå™¨è¾“å…¥ï¼‰</td><td>0x04ï¼ˆè¯»ï¼‰</td></tr></tbody></table>
<blockquote>
<p>å…³é”®æ³¨æ„ï¼šå¯„å­˜å™¨åœ°å€æ˜¯<strong>1-based</strong>ï¼ˆä»1å¼€å§‹ï¼‰ï¼Œè€ŒåµŒå…¥å¼ä»£ç ä¸­æ•°ç»„æ˜¯0-basedï¼Œå¼€å‘æ—¶éœ€æ³¨æ„åœ°å€åç§»ã€‚</p>
</blockquote>
<h2 data-id="heading-13">å››ã€Modbusåè®®çš„é€šä¿¡æµç¨‹ï¼šä»¥RTUæ¨¡å¼ä¸ºä¾‹</h2>
<p>ä»¥<strong>ä¸»æœºè¯»å–ä»æœºä¿æŒå¯„å­˜å™¨</strong>ï¼ˆåŠŸèƒ½ç 0x03ï¼‰ä¸ºä¾‹ï¼Œå®Œæ•´æ‹†è§£Modbus RTUçš„é€šä¿¡æµç¨‹ï¼Œè¿™æ˜¯åµŒå…¥å¼å¼€å‘ä¸­æœ€å¸¸ç”¨çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-14">1. åœºæ™¯å®šä¹‰</h3>
<ul>
<li>ä¸»æœºï¼šå·¥æ§æœºï¼ˆåœ°å€æ— ï¼Œä»…å‘é€æŒ‡ä»¤ï¼‰ï¼›</li>
<li>ä»æœºï¼šSTM32åµŒå…¥å¼è®¾å¤‡ï¼ˆåœ°å€<code>0x01</code>ï¼‰ï¼›</li>
<li>éœ€æ±‚ï¼šä¸»æœºè¯»å–ä»æœº<strong>ä¿æŒå¯„å­˜å™¨åœ°å€0x0001å’Œ0x0002</strong>çš„å€¼ï¼ˆå­˜å‚¨çš„æ˜¯æ¸©åº¦å’Œæ¹¿åº¦æ•°æ®ï¼‰ï¼›</li>
<li>ä¸²å£å‚æ•°ï¼šæ³¢ç‰¹ç‡9600bpsï¼Œæ•°æ®ä½8ï¼Œåœæ­¢ä½1ï¼Œæ— æ ¡éªŒï¼ˆModbus RTUé»˜è®¤é…ç½®ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-15">2. å®Œæ•´é€šä¿¡æµç¨‹ï¼ˆ6æ­¥é—­ç¯ï¼‰</h3>
<h4 data-id="heading-16">æ­¥éª¤1ï¼šä¸»æœºæ„å»ºè¯·æ±‚å¸§</h4>
<p>æ ¹æ®åŠŸèƒ½ç 0x03çš„è¦æ±‚ï¼Œè¯·æ±‚å¸§éœ€åŒ…å«ï¼šä»æœºåœ°å€+åŠŸèƒ½ç +èµ·å§‹åœ°å€+å¯„å­˜å™¨æ•°é‡+CRCæ ¡éªŒï¼Œå…·ä½“å­—èŠ‚å¦‚ä¸‹ï¼š</p>



























<table><thead><tr><th>å­—æ®µ</th><th>ä»æœºåœ°å€</th><th>åŠŸèƒ½ç </th><th>èµ·å§‹åœ°å€é«˜ä½</th><th>èµ·å§‹åœ°å€ä½ä½</th><th>å¯„å­˜å™¨æ•°é‡é«˜ä½</th><th>å¯„å­˜å™¨æ•°é‡ä½ä½</th><th>CRCä½å­—èŠ‚</th><th>CRCé«˜å­—èŠ‚</th></tr></thead><tbody><tr><td>å­—èŠ‚å€¼</td><td>0x01</td><td>0x03</td><td>0x00</td><td>0x01</td><td>0x00</td><td>0x02</td><td>0x85</td><td>0x39</td></tr></tbody></table>
<ul>
<li>èµ·å§‹åœ°å€ï¼š<code>0x0001</code>ï¼ˆå¯¹åº”å¯„å­˜å™¨1ï¼‰ï¼›</li>
<li>å¯„å­˜å™¨æ•°é‡ï¼š<code>0x0002</code>ï¼ˆè¯»å–2ä¸ªå¯„å­˜å™¨ï¼‰ï¼›</li>
<li>CRCæ ¡éªŒï¼šåŸºäºå‰6å­—èŠ‚è®¡ç®—å¾—åˆ°<code>0x3985</code>ï¼Œå­˜å‚¨æ—¶ä½å­—èŠ‚<code>0x85</code>åœ¨å‰ï¼Œé«˜å­—èŠ‚<code>0x39</code>åœ¨åã€‚</li>
</ul>
<h4 data-id="heading-17">æ­¥éª¤2ï¼šä¸»æœºå‘é€è¯·æ±‚å¸§ï¼ˆæ§åˆ¶RS485æ”¶å‘çŠ¶æ€ï¼‰</h4>
<ul>
<li>ä¸»æœºå°†RS485æ¨¡å—çš„DE/REå¼•è„šç½®é«˜ï¼ˆåˆ‡æ¢ä¸ºå‘é€çŠ¶æ€ï¼‰ï¼›</li>
<li>ä¸»æœºé€šè¿‡ä¸²å£å°†è¯·æ±‚å¸§çš„8ä¸ªå­—èŠ‚å‘é€åˆ°RS485æ€»çº¿ï¼›</li>
<li>å‘é€å®Œæˆåï¼Œå»¶è¿Ÿ2msï¼ˆç¡®ä¿æ•°æ®å®Œå…¨å‘é€ï¼‰ï¼Œå°†DE/REå¼•è„šç½®ä½ï¼ˆåˆ‡æ¢ä¸ºæ¥æ”¶çŠ¶æ€ï¼‰ï¼Œç­‰å¾…ä»æœºå“åº”ã€‚</li>
</ul>
<h4 data-id="heading-18">æ­¥éª¤3ï¼šä»æœºæ¥æ”¶å¹¶æ ¡éªŒè¯·æ±‚å¸§</h4>
<ul>
<li>ä»æœºï¼ˆSTM32ï¼‰é€šè¿‡ä¸²å£ä¸­æ–­æ¥æ”¶æ€»çº¿æ•°æ®ï¼Œé€å­—èŠ‚å­˜å…¥æ¥æ”¶ç¼“å†²åŒºï¼›</li>
<li>ä»æœºæ£€æµ‹å¸§é—´éš”ï¼šè‹¥ä¸¤æ¬¡æ¥æ”¶å­—èŠ‚çš„æ—¶é—´å·®è¶…è¿‡3.5ä¸ªå­—ç¬¦æ—¶é—´ï¼ˆ9600bpsä¸‹çº¦4msï¼‰ï¼Œåˆ¤å®šä¸€å¸§æ¥æ”¶å®Œæˆï¼›</li>
<li>ä»æœºæ‰§è¡Œä¸‰å±‚æ ¡éªŒï¼š
<ol>
<li><strong>åœ°å€æ ¡éªŒ</strong>ï¼šå¸§é¦–å­—èŠ‚ä¸º<code>0x01</code>ï¼Œä¸æœ¬æœºåœ°å€ä¸€è‡´ï¼Œç»§ç»­å¤„ç†ï¼›</li>
<li><strong>CRCæ ¡éªŒ</strong>ï¼šè®¡ç®—æ¥æ”¶å¸§å‰6å­—èŠ‚çš„CRCå€¼ï¼Œä¸å¸§å°¾çš„<code>0x85 0x39</code>å¯¹æ¯”ï¼Œä¸€è‡´åˆ™æ ¡éªŒé€šè¿‡ï¼›</li>
<li><strong>åŠŸèƒ½ç æ ¡éªŒ</strong>ï¼šåŠŸèƒ½ç <code>0x03</code>æ˜¯æœ¬æœºæ”¯æŒçš„åŠŸèƒ½ï¼Œç»§ç»­å¤„ç†ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-19">æ­¥éª¤4ï¼šä»æœºæ‰§è¡ŒæŒ‡ä»¤ï¼ˆè¯»å–å¯„å­˜å™¨æ•°æ®ï¼‰</h4>
<ul>
<li>ä»æœºè§£æè¯·æ±‚å¸§çš„å‚æ•°ï¼šèµ·å§‹åœ°å€<code>0x0001</code>ï¼Œå¯„å­˜å™¨æ•°é‡<code>0x0002</code>ï¼›</li>
<li>ä»æœºä»ä¿æŒå¯„å­˜å™¨æ•°ç»„ä¸­è¯»å–åœ°å€1å’Œ2çš„å€¼ï¼Œå‡è®¾ä¸ºï¼šæ¸©åº¦<code>0x012C</code>ï¼ˆåè¿›åˆ¶300ï¼Œå¯¹åº”30.0â„ƒï¼‰ã€æ¹¿åº¦<code>0x0064</code>ï¼ˆåè¿›åˆ¶100ï¼Œå¯¹åº”10.0%RHï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-20">æ­¥éª¤5ï¼šä»æœºæ„å»ºå¹¶å‘é€å“åº”å¸§</h4>
<p>å“åº”å¸§æ ¼å¼ï¼šä»æœºåœ°å€+åŠŸèƒ½ç +æ•°æ®é•¿åº¦+å¯„å­˜å™¨æ•°æ®+CRCæ ¡éªŒï¼Œå…·ä½“å­—èŠ‚å¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th>å­—æ®µ</th><th>ä»æœºåœ°å€</th><th>åŠŸèƒ½ç </th><th>æ•°æ®é•¿åº¦</th><th>å¯„å­˜å™¨1é«˜ä½</th><th>å¯„å­˜å™¨1ä½ä½</th><th>å¯„å­˜å™¨2é«˜ä½</th><th>å¯„å­˜å™¨2ä½ä½</th><th>CRCä½å­—èŠ‚</th><th>CRCé«˜å­—èŠ‚</th></tr></thead><tbody><tr><td>å­—èŠ‚å€¼</td><td>0x01</td><td>0x03</td><td>0x04</td><td>0x01</td><td>0x2C</td><td>0x00</td><td>0x64</td><td>0x70</td><td>0x48</td></tr></tbody></table>
<ul>
<li>æ•°æ®é•¿åº¦ï¼š<code>0x04</code>ï¼ˆ2ä¸ªå¯„å­˜å™¨ï¼Œæ¯ä¸ª2å­—èŠ‚ï¼Œå…±4å­—èŠ‚æ•°æ®ï¼‰ï¼›</li>
<li>å¯„å­˜å™¨æ•°æ®ï¼š<code>0x012C</code>ï¼ˆæ¸©åº¦ï¼‰ã€<code>0x0064</code>ï¼ˆæ¹¿åº¦ï¼‰ï¼ŒæŒ‰å¤§ç«¯åºå­˜å‚¨ï¼›</li>
<li>CRCæ ¡éªŒï¼šåŸºäºå‰8å­—èŠ‚è®¡ç®—å¾—åˆ°ï¼Œä½å­—èŠ‚<code>0x70</code>åœ¨å‰ï¼Œé«˜å­—èŠ‚<code>0x48</code>åœ¨åã€‚</li>
</ul>
<p>ä»æœºåŒæ ·éœ€å…ˆåˆ‡æ¢RS485ä¸ºå‘é€çŠ¶æ€ï¼Œå‘é€å“åº”å¸§ååˆ‡æ¢å›æ¥æ”¶çŠ¶æ€ã€‚</p>
<h4 data-id="heading-21">æ­¥éª¤6ï¼šä¸»æœºæ¥æ”¶å¹¶è§£æå“åº”å¸§</h4>
<ul>
<li>ä¸»æœºæ¥æ”¶ä»æœºçš„å“åº”å¸§ï¼Œæ‰§è¡ŒCRCæ ¡éªŒï¼›</li>
<li>ä¸»æœºè§£ææ•°æ®åŸŸï¼š
<ol>
<li>æ•°æ®é•¿åº¦ä¸º<code>0x04</code>ï¼Œå¯¹åº”2ä¸ªå¯„å­˜å™¨ï¼›</li>
<li>å¯„å­˜å™¨1çš„å€¼ï¼š<code>0x012C</code> â†’ åè¿›åˆ¶300 â†’ è½¬æ¢ä¸ºå®é™…æ¸©åº¦30.0â„ƒï¼›</li>
<li>å¯„å­˜å™¨2çš„å€¼ï¼š<code>0x0064</code> â†’ åè¿›åˆ¶100 â†’ è½¬æ¢ä¸ºå®é™…æ¹¿åº¦10.0%RHï¼›</li>
</ol>
</li>
<li>å®Œæˆä¸€æ¬¡é€šä¿¡é—­ç¯ï¼Œä¸»æœºå¯æ ¹æ®éœ€æ±‚å‘èµ·ä¸‹ä¸€æ¬¡è¯·æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-22">3. å¼‚å¸¸åœºæ™¯å¤„ç†</h3>
<p>è‹¥ä»æœºæ¥æ”¶çš„è¯·æ±‚å¸§æœ‰è¯¯ï¼ˆå¦‚åœ°å€ä¸åŒ¹é…ã€åŠŸèƒ½ç ä¸æ”¯æŒã€å¯„å­˜å™¨åœ°å€è¶Šç•Œï¼‰ï¼Œåˆ™ä¸ä¼šè¿”å›æ­£å¸¸å“åº”å¸§ï¼Œè€Œæ˜¯è¿”å›<strong>å¼‚å¸¸å“åº”å¸§</strong>ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼ˆåŠŸèƒ½ç 0x03ï¼Œéæ³•å¯„å­˜å™¨åœ°å€ï¼‰ï¼š</p>





















<table><thead><tr><th>å­—æ®µ</th><th>ä»æœºåœ°å€</th><th>å¼‚å¸¸åŠŸèƒ½ç </th><th>å¼‚å¸¸ç </th><th>CRCä½å­—èŠ‚</th><th>CRCé«˜å­—èŠ‚</th></tr></thead><tbody><tr><td>å­—èŠ‚å€¼</td><td>0x01</td><td>0x83</td><td>0x02</td><td>0x44</td><td>0x0A</td></tr></tbody></table>
<ul>
<li>å¼‚å¸¸åŠŸèƒ½ç ï¼š<code>0x83</code> = <code>0x03 + 0x80</code>ï¼›</li>
<li>å¼‚å¸¸ç ï¼š<code>0x02</code> â†’ è¡¨ç¤ºâ€œéæ³•æ•°æ®åœ°å€â€ï¼ˆå¯„å­˜å™¨åœ°å€è¶…å‡ºä»æœºæœ‰æ•ˆèŒƒå›´ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-23">äº”ã€Modbusåè®®çš„æ ¸å¿ƒä¼˜åŠ¿ä¸å±€é™æ€§</h2>
<h3 data-id="heading-24">1. æ ¸å¿ƒä¼˜åŠ¿</h3>
<ul>
<li><strong>å¼€æºå…è´¹</strong>ï¼šæ— ä¸“åˆ©è´¹ï¼Œä»»ä½•äººéƒ½å¯å®ç°åè®®æ ˆï¼ŒåµŒå…¥å¼å¼€å‘ä¸­å¯ç›´æ¥ç¼–å†™ä»£ç å®ç°ï¼Œæ— éœ€ç¬¬ä¸‰æ–¹åº“ã€‚</li>
<li><strong>ç¡¬ä»¶é—¨æ§›ä½</strong>ï¼šæ”¯æŒä¸²å£å’Œä»¥å¤ªç½‘ï¼ŒåµŒå…¥å¼è®¾å¤‡åªéœ€ä¸²å£+RS485æ¨¡å—å³å¯æ¥å…¥ï¼Œæˆæœ¬æä½ã€‚</li>
<li><strong>å…¼å®¹æ€§å¼º</strong>ï¼šå‡ ä¹æ‰€æœ‰å·¥ä¸šè®¾å¤‡éƒ½æ”¯æŒModbusåè®®ï¼Œä¸åŒå‚å®¶çš„è®¾å¤‡å¯æ— ç¼é€šä¿¡ã€‚</li>
<li><strong>æ˜“äºè°ƒè¯•</strong>ï¼šæœ‰æˆç†Ÿçš„ä¸Šä½æœºå·¥å…·ï¼ˆå¦‚Modbus Pollã€Modbus Slaveï¼‰ï¼Œå¯å¿«é€ŸéªŒè¯é€šä¿¡æ˜¯å¦æ­£å¸¸ã€‚</li>
</ul>
<h3 data-id="heading-25">2. å±€é™æ€§</h3>
<ul>
<li><strong>ä¸»ä»æ¶æ„é™åˆ¶</strong>ï¼šæ— æ³•å®ç°ä»æœºä¹‹é—´çš„ç›´æ¥é€šä¿¡ï¼Œæ‰€æœ‰é€šä¿¡éƒ½éœ€é€šè¿‡ä¸»æœºä¸­è½¬ã€‚</li>
<li><strong>æ€»çº¿å¸¦å®½æœ‰é™</strong>ï¼šRS485æ€»çº¿çš„æ³¢ç‰¹ç‡æœ€é«˜æ”¯æŒ115200bpsï¼Œä¸”ä»æœºæ•°é‡æœ€å¤š247å°ï¼Œä¸é€‚åˆå¤§è§„æ¨¡ç»„ç½‘ã€‚</li>
<li><strong>å®‰å…¨æ€§ä½</strong>ï¼šåè®®æœ¬èº«æ— åŠ å¯†æœºåˆ¶ï¼Œæ•°æ®ä»¥æ˜æ–‡ä¼ è¾“ï¼Œå·¥ä¸šç°åœºéœ€é€šè¿‡ç‰©ç†éš”ç¦»æˆ–åŠ å¯†ç½‘å…³ä¿éšœæ•°æ®å®‰å…¨ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°å‚…å“¥ DDDæ¶æ„é¡¹ç›® å­¦ä¹ è®°å½•]]></title>    <link>https://juejin.cn/post/7596307289724944426</link>    <guid>https://juejin.cn/post/7596307289724944426</guid>    <pubDate>2026-01-18T13:29:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596307289724944426" data-draft-id="7596276978808881195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°å‚…å“¥ DDDæ¶æ„é¡¹ç›® å­¦ä¹ è®°å½• "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-18T13:29:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—§çº¢ored"/> <meta itemprop="url" content="https://juejin.cn/user/3521079508488046"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°å‚…å“¥ DDDæ¶æ„é¡¹ç›® å­¦ä¹ è®°å½• 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3521079508488046/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—§çº¢ored
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:29:07.000Z" title="Sun Jan 18 2026 13:29:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">DDD æŠ½å¥–ç­–ç•¥æ¦‚ç‡è£…é…å­¦ä¹ è®°å½•</h2>
<p>åœ¨å­¦ä¹ ã€Šå¤§è¥é”€å¹³å°ã€‹ç¬¬ä¸‰èŠ‚â€œç­–ç•¥æ¦‚ç‡è£…é…å¤„ç†â€æ—¶ï¼Œæˆ‘æ˜¯ç›´æ¥ä»å®Œæ•´ DDD é¡¹ç›®å¼€å§‹çœ‹çš„ï¼Œè€Œåœ¨æ­¤ä¹‹å‰æ›´å¤šæ¥è§¦çš„æ˜¯ MVC æ¶æ„ã€‚æ‰€ä»¥ç¬¬ä¸€æ¬¡çœ‹ domainã€repositoryã€serviceã€infrastructureã€type è¿™äº›åˆ†å±‚æ—¶ï¼Œå…¶å®æ˜¯æœ‰ç‚¹æ‡µçš„ï¼šä»£ç èƒ½çœ‹æ‡‚ï¼Œä½†ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è¿™æ ·å†™ã€‚</p>
<p>å°¤å…¶æ˜¯åœ¨æŠ½å¥–ç­–ç•¥æ¦‚ç‡è£…é…è¿™ä¸€èŠ‚ï¼Œä»£ç æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œä½†ç»“æ„è®¾è®¡å’Œæˆ‘ä»¥å‰çš„ä¹ æƒ¯å·®å¼‚å¾ˆå¤§ï¼Œäºæ˜¯ä¸€è·¯çœ‹ä¸€è·¯äº§ç”Ÿäº†ä¸å°‘é—®é¢˜ã€‚
æœ‰å¦‚ä¸‹é—®é¢˜ï¼š
1.ä¸ºä»€ä¹ˆrepositoryæ¥å£å†™åœ¨domainå±‚ï¼Œä½†æ˜¯å®ç°å´åœ¨infrastructureå±‚é‡Œï¼Ÿ
2.ä¸ºä»€ä¹ˆæœ‰å…³redisçš„RedisKeyåœ¨typeå±‚ï¼Ÿ
3.domainé‡Œserviceã€repositoryã€modelä¸‰ä¸ªè½¯ä»¶åŒ…ä¸ºä»€ä¹ˆè¿™ä¹ˆåˆ†ï¼Œä¸ºä»€ä¹ˆé‚£äº›ä»£ç å†™åœ¨repository(service)é‡Œé¢ï¼Ÿ åœ¨æ‰¾ç­”æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œåˆäº§ç”Ÿäº†é¢†åŸŸï¼Œé¢†åŸŸå¯¹è±¡ï¼Œä¸šåŠ¡è§„åˆ™ç­‰æ¦‚å¿µçš„ç–‘é—®ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä»ä¸šåŠ¡æœ¬èº«å¼€å§‹ç†è§£</h3>
<p>è¥é”€å¹³å°çš„ç¬¬ä¸€ä¸ªæ ¸å¿ƒä¸šåŠ¡æ˜¯æŠ½å¥–ã€‚æ‹†å¼€æ¥çœ‹ï¼Œå…¶å®åªåšä¸¤ä»¶äº‹ï¼š</p>
<p>ç¬¬ä¸€ä»¶äº‹æ˜¯æå‰å‡†å¤‡ï¼Œä¹Ÿå°±æ˜¯ç­–ç•¥è£…é…ã€‚<br/>
ç³»ç»Ÿéœ€è¦çŸ¥é“ä¸€ä¸ªç­–ç•¥ä¸‹æœ‰å“ªäº›å¥–å“ã€æ¯ä¸ªå¥–å“çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Œç„¶åæ ¹æ®è¿™äº›æ¦‚ç‡ç”Ÿæˆä¸€ä¸ªå¯ä»¥å¿«é€Ÿéšæœºå‘½ä¸­çš„æ¦‚ç‡è¡¨ï¼Œå¹¶ç¼“å­˜èµ·æ¥ã€‚</p>
<p>ç¬¬äºŒä»¶äº‹æ˜¯ç”¨æˆ·çœŸæ­£æŠ½å¥–ã€‚<br/>
æŠ½å¥–æ—¶ä¸å†é‡æ–°è®¡ç®—æ¦‚ç‡ï¼Œè€Œæ˜¯ä»ç¼“å­˜é‡Œæ‹¿åˆ°æ¦‚ç‡ç©ºé—´ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œç„¶åæŸ¥è¡¨ç›´æ¥å‘½ä¸­ä¸€ä¸ªå¥–å“ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š<br/>
ä¸€éƒ¨åˆ†æ˜¯â€œå‡†å¤‡é˜¶æ®µâ€ï¼Œä¸€éƒ¨åˆ†æ˜¯â€œæ‰§è¡Œé˜¶æ®µâ€ã€‚</p>
<p>å½“æˆ‘ä»ä¸šåŠ¡è§’åº¦å…ˆæƒ³æ¸…æ¥šè¿™ä¸¤ä»¶äº‹ï¼Œå†å›å¤´çœ‹ DDD é‡Œçš„ç»“æ„ï¼Œå°±å¼€å§‹æœ‰æ„Ÿè§‰äº†ã€‚</p>
<hr/>
<h3 data-id="heading-2">Modelï¼šå…ˆæè¿°ä¸šåŠ¡ä¸–ç•Œé‡Œçš„â€œåè¯â€</h3>
<p>åœ¨ domain.strategy.model é‡Œçœ‹åˆ°çš„ <code>StrategyAwardEntity</code>ï¼Œä¸€å¼€å§‹å¾ˆå®¹æ˜“å½“æˆæ™®é€š PO çœ‹å¾…ï¼Œå› ä¸ºå®ƒç°åœ¨åªæœ‰å­—æ®µã€‚è€Œä¸”å› ä¸ºæˆ‘åœ¨MVCæ¶æ„é‡Œå°±å–œæ¬¢ç”¨entityæ¥å‘½ååŒ…åï¼Œå†™çš„æ—¶å€™è¿˜ä»¥ä¸ºé‡åˆ°äº†ç†Ÿæ‚‰çš„ä¸œè¥¿ã€‚</p>
<p>ä½†å®ƒçš„çœŸå®å«ä¹‰ä¸æ˜¯â€œæ•°æ®åº“è¡¨çš„æŸå‡ è¡Œâ€ï¼Œè€Œæ˜¯ä¸šåŠ¡ä¸–ç•Œé‡Œçš„ä¸€ä¸ªæ¦‚å¿µï¼š<br/>
ä¸€ä¸ªç­–ç•¥ä¸‹çš„ä¸€ä¸ªå¥–å“ï¼Œå®ƒæœ‰ä»€ä¹ˆ idï¼Œæœ‰å¤šå°‘åº“å­˜ï¼Œè¿˜å‰©å¤šå°‘ï¼Œä»¥åŠä¸­å¥–æ¦‚ç‡æ˜¯å¤šå°‘ã€‚</p>
<p>ç°åœ¨é˜¶æ®µå®ƒæ›´åƒæ•°æ®è½½ä½“ï¼Œæ˜¯å› ä¸ºè¿™èŠ‚è¯¾é‡ç‚¹åœ¨â€œç­–ç•¥è£…é…â€ï¼Œæ¨¡å‹è¿˜æ²¡æ‰¿æ‹…å¤ªå¤šè¡Œä¸ºã€‚ä½†ä» DDD çš„è§’åº¦ï¼Œå®ƒä»£è¡¨çš„æ˜¯æŠ½å¥–é¢†åŸŸé‡Œçš„åè¯ï¼Œè€Œä¸æ˜¯æŠ€æœ¯å¯¹è±¡ã€‚</p>
<hr/>
<h3 data-id="heading-3">Repositoryï¼šä¸æ˜¯ DAOï¼Œè€Œæ˜¯ä¸šåŠ¡ä»“åº“æ¥å£</h3>
<p>æœ€è®©æˆ‘å›°æƒ‘çš„æ˜¯ï¼šä¸ºä»€ä¹ˆ repository æ¥å£å†™åœ¨ domain é‡Œï¼Œå®ç°å´æ”¾åœ¨ infrastructureã€‚</p>
<p>åæ¥æ‰æ˜ç™½ï¼ŒDDD ä¸­çš„ repository å¹¶ä¸æ˜¯ä¼ ç»Ÿ MVC é‡Œçš„ DAOã€‚</p>
<p>DAO æ›´å¤šæ˜¯åœ¨è¡¨è¾¾â€œæ€ä¹ˆæŸ¥è¡¨â€ï¼Œè€Œ DDD çš„ repository è¡¨è¾¾çš„æ˜¯â€œä¸šåŠ¡éœ€è¦ä»€ä¹ˆæ•°æ®èƒ½åŠ›â€ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>ç»™æˆ‘è¿™ä¸ªç­–ç•¥ä¸‹çš„å¥–å“åˆ—è¡¨</li>
<li>å­˜å‚¨ä¸€ä¸ªç­–ç•¥çš„æ¦‚ç‡æŸ¥è¡¨ç»“æ„</li>
<li>è·å–è¿™ä¸ªç­–ç•¥çš„æ¦‚ç‡ç©ºé—´</li>
<li>æ ¹æ®éšæœºå€¼å‘½ä¸­å¥–å“</li>
</ul>
<p>è¿™äº›æ–¹æ³•æœ¬èº«å°±æ˜¯ä¸šåŠ¡è¯­è¨€ï¼Œè€Œä¸æ˜¯ Redis æˆ– SQL è¯­è¨€ã€‚</p>
<p>domain å±‚åªå®šä¹‰â€œæˆ‘è¦ä»€ä¹ˆèƒ½åŠ›â€ï¼Œè€Œä¸å…³å¿ƒè¿™äº›èƒ½åŠ›æ˜¯é€šè¿‡ Redisã€MySQLï¼Œè¿˜æ˜¯å…¶ä»–å­˜å‚¨å®ç°çš„ã€‚çœŸæ­£æ‹¼ Keyã€è°ƒ RedisTemplateã€å†™ SQL çš„äº‹æƒ…ï¼Œæ”¾åœ¨ infrastructure é‡Œå®Œæˆã€‚</p>
<p>è¿™æ · domain å±‚å°±ä¸ä¼šä¾èµ–å…·ä½“æŠ€æœ¯ï¼Œå®ç°ä¹Ÿå¯ä»¥éšæ—¶æ›¿æ¢ï¼Œä¸šåŠ¡é€»è¾‘ä¿æŒç¨³å®šã€‚</p>
<p>ç†è§£æˆä¸€å¥è¯å°±æ˜¯ï¼š<br/>
repository åœ¨ domain ä¸­æ˜¯ä¸šåŠ¡è§†è§’çš„ä»“åº“æŠ½è±¡ï¼Œåœ¨ infrastructure ä¸­æ‰æ˜¯æŠ€æœ¯å®ç°ã€‚</p>
<p>æœ€å¥½ç†è§£è¿™ä¸€ç‚¹æ˜¯aiå‘Šè¯‰æˆ‘çš„ä¸€å¥è¯ï¼Œdomainå±‚ä¸èƒ½ä¾èµ–å…¶ä»–å±‚ï¼Œä¹Ÿä¸èƒ½ä¾èµ–å…·ä½“æŠ€æœ¯å®ç°ï¼ŒDDDä¸­è¦çš„æ˜¯<strong>æŠ€æœ¯å›´ç€ä¸šåŠ¡è½¬ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡å›´ç€æŠ€æœ¯è½¬ã€‚</strong>ã€‚Domain å†³å®šâ€œè¦åšä»€ä¹ˆã€è§„åˆ™æ˜¯ä»€ä¹ˆâ€ï¼ŒInfrastructure å†³å®šâ€œç”¨ä»€ä¹ˆæŠ€æœ¯ã€æ€ä¹ˆåšå‡ºæ¥â€ã€‚</p>
<hr/>
<h3 data-id="heading-4">Serviceï¼šè´Ÿè´£â€œæ€ä¹ˆç®—â€å’Œâ€œæ€ä¹ˆè·‘æµç¨‹â€</h3>
<p>ä¸€å¼€å§‹é—®aiï¼Œserviceå’Œrepositoryå„è‡ªå¹²ä»€ä¹ˆï¼Œaiå›ç­”è¯´serviceä¾èµ–respositoryï¼Œè´Ÿè´£æµç¨‹ç»„ç»‡å’Œç¼–æ’ã€‚repositoryè´Ÿè´£å®ç°ä¸šåŠ¡çš„å„ä¸ªåŠ¨ä½œï¼Œå› ä¸ºå¾ˆæ‡µæ‰€ä»¥å¿½ç•¥äº†aiæ½œè—åœ¨å­—é‡Œè¡Œé—´çš„ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œæˆ‘ç–‘æƒ‘ï¼šæ—¢ç„¶è¿™æ ·ï¼Œä¸ºä»€ä¹ˆç”Ÿæˆæ¦‚ç‡è¡¨ä¸æ”¾åœ¨ repositoryï¼Œè€Œæ˜¯æ”¾åœ¨ serviceã€‚æˆ‘çœ‹åˆ°<strong>getRandomAwardId</strong>æ–¹æ³•å¾ˆç¬¦åˆè¿™ä¸ªè¯ï¼Œå®ƒåªæ˜¯æŠŠrepositoryçš„ä¸¤ä¸ªåŠ¨ä½œä¸²èµ·æ¥äº† è·å–æ¦‚ç‡èŒƒå›´å’Œæ ¹æ®éšæœºæ•°æ‰¾åˆ°å¥–å“idã€‚ä½†æ˜¯assembleLotteryStrategyæˆ‘æ²¡çœ‹æ‡‚ï¼Œå®ƒé‡Œé¢æœ‰ç”Ÿæˆæ¦‚ç‡è¡¨ç­‰ä¸€äº›åˆ—ä¸ç¬¦åˆæµç¨‹ç»„ç»‡è¿™ä¸ªæ¦‚å¿µçš„ä¸œè¥¿ã€‚</p>
<p>åæ¥é—®åˆ°ä¸€ä¸ªå…³é”®ç‚¹ï¼š
âœ… Repository è´Ÿè´£ <strong>å­˜ä»€ä¹ˆ / å–ä»€ä¹ˆ</strong><br/>
âœ… Service è´Ÿè´£ <strong>æ€ä¹ˆç®— / æ€ä¹ˆæµç¨‹åŒ–</strong></p>
<p>æ¦‚ç‡åŒºé—´è¡¨çš„ç”Ÿæˆè¿‡ç¨‹ï¼Œæœ¬è´¨æ˜¯ä¸šåŠ¡ç®—æ³•ï¼š</p>
<ul>
<li>æ ¹æ® awardRate è®¡ç®—æ¦‚ç‡ç©ºé—´</li>
<li>æ‰©å±•åŒºé—´</li>
<li>shuffle æ‰“æ•£</li>
<li>æ„å»ºæ˜ å°„è¡¨</li>
<li/>
</ul>
<p>è¿™äº›éƒ½æ˜¯æŠ½å¥–è§„åˆ™ï¼Œè€Œä¸æ˜¯å­˜å‚¨è§„åˆ™ã€‚</p>
<p>å¦‚æœæ”¾åœ¨ repositoryï¼Œå°±ä¼šå˜æˆ repository æ—¢è´Ÿè´£ä¸šåŠ¡ç®—æ³•ï¼Œåˆè´Ÿè´£ Redis å­˜å‚¨ï¼ŒèŒè´£ä¼šæ··åœ¨ä¸€èµ·ã€‚DDD çš„è®¾è®¡å€¾å‘æ˜¯è®© repository ç¨³å®šï¼Œè€ŒæŠŠå®¹æ˜“å˜åŒ–çš„ä¸šåŠ¡ç­–ç•¥æ”¾åœ¨ service ä¸­ã€‚</p>
<p>æ‰€ä»¥ service åšçš„äº‹æƒ…æ›´åƒæ˜¯â€œè£…é…æµæ°´çº¿â€ï¼š<br/>
å®ƒä» repository æ‹¿æ•°æ®ï¼Œåœ¨ domain ä¸­å®Œæˆè®¡ç®—ï¼Œå†äº¤ç»™ repository å»å­˜ã€‚</p>
<p>åŒæ ·ï¼Œåœ¨æŠ½å¥–é˜¶æ®µï¼Œservice è´Ÿè´£ç»„ç»‡æµç¨‹ï¼š<br/>
å…ˆæ‹¿æ¦‚ç‡èŒƒå›´ï¼Œå†ç”Ÿæˆéšæœºæ•°ï¼Œå†é€šè¿‡ repository æŸ¥è¡¨å‘½ä¸­ã€‚</p>
<p>service çš„æ ¸å¿ƒä»·å€¼ä¸æ˜¯â€œå¹²æ´»â€ï¼Œè€Œæ˜¯â€œç¼–æ’â€ã€‚</p>
<hr/>
<h3 data-id="heading-5">RedisKey ä¸ºä»€ä¹ˆæ”¾åœ¨ type å±‚</h3>
<p>RedisKey ä¸€å¼€å§‹çœ‹èµ·æ¥åƒæ˜¯åŸºç¡€è®¾æ–½çš„ä¸œè¥¿ï¼Œä½†å®é™…ä¸Šå®ƒæ—¢ä¸æ˜¯ä¸šåŠ¡è§„åˆ™ï¼Œä¹Ÿä¸æ˜¯ Redis å®ç°ï¼Œè€Œæ˜¯å·¥ç¨‹çº§çº¦å®šã€‚</p>
<p>Key çš„å‰ç¼€å¦‚æœæ•£è½åœ¨å„å±‚ï¼š</p>
<ul>
<li>å®¹æ˜“å†™é”™</li>
<li>éš¾ç»Ÿä¸€</li>
<li>ä¸æ–¹ä¾¿ç»´æŠ¤</li>
</ul>
<p>type å±‚çš„ä½œç”¨å°±æ˜¯å­˜æ”¾è¿™ç§å…¨å·¥ç¨‹å…±äº«ã€ç¨³å®šã€æ— ä¸šåŠ¡é€»è¾‘çš„åŸºç¡€å®šä¹‰ï¼Œæ¯”å¦‚å¸¸é‡ã€æšä¸¾ã€é”™è¯¯ç ã€Key è§„èŒƒç­‰ã€‚</p>
<p>æ‰€ä»¥ RedisKey æ”¾åœ¨ type å±‚ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨è¡¨è¾¾ä¸€ç§â€œè·¨å±‚åè®®â€ï¼Œè€Œä¸æ˜¯æŸä¸€å±‚çš„å®ç°ç»†èŠ‚ã€‚</p>
<hr/>
<h3 data-id="heading-6">Serviceã€Repositoryã€Model çš„è¾¹ç•Œ</h3>
<p>åœ¨è¿™ä¸€èŠ‚é‡Œæˆ‘æœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªæ¯”è¾ƒæ¸…æ™°çš„åˆ’åˆ†æ–¹å¼ï¼š</p>
<p>Model è¡¨è¾¾ä¸šåŠ¡åè¯ã€‚<br/>
Repository è´Ÿè´£æ•°æ®è¿›å‡ºã€‚<br/>
Service è´Ÿè´£ä¸šåŠ¡ç®—æ³•å’Œæµç¨‹ç¼–æ’ã€‚</p>
<p>æ¢æˆæ›´ç›´è§‚çš„è¯´æ³•ï¼š</p>
<ul>
<li>Repository ç®¡â€œå­˜ä»€ä¹ˆã€å–ä»€ä¹ˆâ€ã€‚</li>
<li>Service ç®¡â€œæ€ä¹ˆç®—ã€æ€ä¹ˆè·‘â€ã€‚</li>
<li>Model ç®¡â€œä¸šåŠ¡æ¦‚å¿µæ€ä¹ˆè¡¨è¾¾â€ã€‚</li>
</ul>
<p>å½“æˆ‘å¼€å§‹ç”¨â€œä¸šåŠ¡è¯­è¨€â€è€Œä¸æ˜¯â€œRedis APIâ€ç­‰æŠ€æœ¯ç»†èŠ‚å»ç†è§£è¿™äº›ç±»çš„æ—¶å€™ï¼ŒDDD çš„ç»“æ„æ‰æ…¢æ…¢åˆç†èµ·æ¥ã€‚</p>
<hr/>
<h3 data-id="heading-7">å¯¹é¢†åŸŸã€é¢†åŸŸå¯¹è±¡ã€ä¸šåŠ¡è§„åˆ™çš„ç†è§£</h3>
<p>é¢†åŸŸï¼Œå…¶å®å°±æ˜¯ç³»ç»Ÿè¦è§£å†³çš„ä¸šåŠ¡ä¸–ç•Œã€‚<br/>
åœ¨è¿™ä¸ªé¡¹ç›®é‡Œï¼Œå°±æ˜¯è¥é”€å¹³å°é‡Œçš„æŠ½å¥–ç­–ç•¥ã€å¥–å“ã€æ¦‚ç‡ã€å‘½ä¸­è§„åˆ™ã€‚</p>
<p>é¢†åŸŸå¯¹è±¡ï¼Œæ˜¯è¿™äº›ä¸šåŠ¡æ¦‚å¿µåœ¨ä»£ç ä¸­çš„æ˜ å°„ï¼Œæ¯”å¦‚ Strategyã€Awardã€RateTableã€‚</p>
<p>ä¸šåŠ¡è§„åˆ™ï¼Œå°±æ˜¯å›´ç»•è¿™äº›å¯¹è±¡çš„è¡Œä¸ºï¼š<br/>
æ¦‚ç‡æ€ä¹ˆæ¢ç®—ï¼ŒåŒºé—´æ€ä¹ˆæ‰©å±•ï¼Œå¦‚ä½•éšæœºå‘½ä¸­ï¼Œè¿™äº›éƒ½å±äºé¢†åŸŸé€»è¾‘ï¼Œè€Œä¸æ˜¯æŠ€æœ¯é€»è¾‘ã€‚</p>
<hr/>
<h3 data-id="heading-8">ä¸€ç‚¹ä¸ªäººæ„Ÿæ‚Ÿ</h3>
<p>åˆšæ¥è§¦ DDD æ—¶ï¼Œæœ€å¤§çš„éšœç¢ä¸æ˜¯è¯­æ³•ï¼Œè€Œæ˜¯æ€ç»´æ–¹å¼ã€‚</p>
<p>ä»¥å‰æ›´å¤šæ˜¯å›´ç»•æ•°æ®åº“å’Œæ¥å£åœ¨å†™ä»£ç ï¼Œè€Œ DDD æ›´å¼ºè°ƒå…ˆç«™åœ¨ä¸šåŠ¡ä¸–ç•Œé‡Œæ€è€ƒï¼Œå†å†³å®šä»£ç ç»“æ„ã€‚</p>
<p>å½“æˆ‘å¼€å§‹ä»â€œä¸šåŠ¡éœ€è¦ä»€ä¹ˆèƒ½åŠ›â€å»ç†è§£ repositoryï¼Œä»â€œä¸šåŠ¡æ€ä¹ˆè·‘æµç¨‹â€å»ç†è§£ serviceï¼Œä»â€œä¸šåŠ¡åè¯æ˜¯ä»€ä¹ˆâ€å»ç†è§£ model æ—¶ï¼ŒDDD çš„åˆ†å±‚æ‰çœŸæ­£æœ‰æ„ä¹‰ã€‚</p>
<p>è¿™èŠ‚è¯¾è¡¨é¢ä¸Šæ˜¯åœ¨å†™æŠ½å¥–æ¦‚ç‡ç®—æ³•ï¼Œå®é™…ä¸Šæ˜¯åœ¨å­¦ä¹ å¦‚ä½•æŠŠä¸šåŠ¡æŠ½è±¡æˆä»£ç ç»“æ„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Cè¯­è¨€å…¥é—¨ã€‘è°ƒè¯•ä¸é”™è¯¯å¤„ç†]]></title>    <link>https://juejin.cn/post/7596245612557975561</link>    <guid>https://juejin.cn/post/7596245612557975561</guid>    <pubDate>2026-01-18T15:14:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596245612557975561" data-draft-id="7596245612557942793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Cè¯­è¨€å…¥é—¨ã€‘è°ƒè¯•ä¸é”™è¯¯å¤„ç†"/> <meta itemprop="keywords" content="Cè¯­è¨€"/> <meta itemprop="datePublished" content="2026-01-18T15:14:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="byteè½»éª‘å…µ"/> <meta itemprop="url" content="https://juejin.cn/user/3995005743010080"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Cè¯­è¨€å…¥é—¨ã€‘è°ƒè¯•ä¸é”™è¯¯å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3995005743010080/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    byteè½»éª‘å…µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:14:11.000Z" title="Sun Jan 18 2026 15:14:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬ç¯‡ä»‹ç» C è¯­è¨€å…¥é—¨ä¸­çš„è°ƒè¯•ä¸é”™è¯¯å¤„ç†ã€‚åŒ…æ‹¬ä½¿ç”¨ assert å‡½æ•°è¿›è¡Œæ–­è¨€æ£€æŸ¥ï¼Œ errno å˜é‡åœ¨é”™è¯¯å¤„ç†ä¸­çš„åº”ç”¨ï¼Œå¯é€šè¿‡ perror æˆ– strerror å‡½æ•°å°†å…¶æ˜ å°„ä¸ºé”™è¯¯ä¿¡æ¯ï¼Œä»¥å®ç°æœ‰æ•ˆçš„é”™è¯¯å¤„ç†ï¼Œæå‡ç¨‹åºå¥å£®æ€§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä½¿ç”¨è°ƒè¯•å·¥å…·</h2>
<p>åœ¨Cè¯­è¨€å¼€å‘ä¸­ï¼Œè°ƒè¯•å·¥å…·æ˜¯ç¨‹åºå‘˜å®šä½å’Œä¿®å¤é”™è¯¯çš„é‡è¦åŠ©æ‰‹ã€‚**GDBï¼ˆGNU Debuggerï¼‰**æ˜¯Linuxç¯å¢ƒä¸‹æœ€å¸¸ç”¨çš„è°ƒè¯•å·¥å…·ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„è°ƒè¯•åŠŸèƒ½ï¼Œå¦‚è®¾ç½®æ–­ç‚¹ã€å•æ­¥æ‰§è¡Œã€æŸ¥çœ‹å˜é‡å€¼ç­‰ã€‚</p>
<h3 data-id="heading-1">1.1. GDBï¼ˆGNU Debuggerï¼‰</h3>
<p>GDBæ˜¯Linuxç¯å¢ƒä¸‹æœ€å¸¸ç”¨çš„è°ƒè¯•å·¥å…·ä¹‹ä¸€ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„è°ƒè¯•åŠŸèƒ½ï¼Œæ˜¯Cè¯­è¨€è°ƒè¯•çš„åˆ©å™¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/393141904fc64d598f8b02bdb2d0de41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnl0Zei9u-mqkeWFtQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769354050&amp;x-signature=5GDZp6G9Bv%2BGNGBgaSaRPL5FDzo%3D" alt="img" loading="lazy"/></p>
<p><strong>â‘ åŠŸèƒ½ç‰¹ç‚¹</strong></p>
<ul>
<li>
<p><strong>è®¾ç½®æ–­ç‚¹</strong>ï¼šå¯ä»¥åœ¨éœ€è¦è°ƒè¯•çš„ä»£ç è¡Œä¸Šè®¾ç½®æ–­ç‚¹ï¼Œå½“ç¨‹åºæ‰§è¡Œåˆ°è¿™äº›è¡Œæ—¶ä¼šè‡ªåŠ¨æš‚åœã€‚æœ‰åŠ©äºæŸ¥çœ‹ç¨‹åºçš„çŠ¶æ€ï¼Œåˆ†æå˜é‡çš„å€¼ï¼Œä»¥åŠæ‰§è¡Œæµç¨‹æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚</p>
</li>
<li>
<p><strong>è¿è¡Œç¨‹åºè‡³æ–­ç‚¹</strong>ï¼šå¯åŠ¨GDBå¹¶åŠ è½½éœ€è¦è°ƒè¯•çš„ç¨‹åºåï¼Œå¯ä»¥è¿è¡Œç¨‹åºç›´è‡³ç¬¬ä¸€ä¸ªæ–­ç‚¹å¤„æš‚åœã€‚</p>
</li>
<li>
<p><strong>å•æ­¥æ‰§è¡Œ</strong>ï¼šåœ¨ç¨‹åºæš‚åœåï¼ŒGDBå…è®¸é€è¡Œæ‰§è¡Œä»£ç ï¼ˆåŒ…æ‹¬è¿›å…¥å‡½æ•°å†…éƒ¨æ‰§è¡Œï¼‰ï¼Œè§‚å¯Ÿæ¯è¡Œä»£ç æ‰§è¡Œåçš„ç»“æœä»¥åŠå˜é‡çš„å˜åŒ–æƒ…å†µã€‚</p>
</li>
<li>
<p><strong>æŸ¥çœ‹å˜é‡å€¼</strong>ï¼šåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶æŸ¥çœ‹å¹¶æ‰“å°å‡ºå˜é‡çš„å€¼ï¼Œä»¥ä¾¿æ‰¾å‡ºç¨‹åºä¸­çš„é”™è¯¯å¹¶è¿›è¡Œä¿®å¤ã€‚</p>
</li>
<li>
<p><strong>å…¶ä»–åŠŸèƒ½</strong>ï¼šGDBè¿˜æ”¯æŒåæ±‡ç¼–è§†å›¾ã€å†…å­˜æ£€æŸ¥ã€è°ƒç”¨å †æ ˆæŸ¥çœ‹ç­‰é«˜çº§åŠŸèƒ½ï¼Œè¿›ä¸€æ­¥å¢å¼ºäº†å…¶è°ƒè¯•èƒ½åŠ›ã€‚</p>
</li>
</ul>
<p><strong>â‘¡ä½¿ç”¨æ–¹æ³•</strong></p>
<blockquote>
<ul>
<li>
<p>ç¼–è¯‘ç¨‹åºæ—¶åŠ å…¥<code>-g</code>é€‰é¡¹ä»¥ç”Ÿæˆè°ƒè¯•ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>å¯åŠ¨GDBå¹¶åŠ è½½ç¼–è¯‘å¥½çš„ç¨‹åºã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>break</code>æˆ–<code>b</code>å‘½ä»¤è®¾ç½®æ–­ç‚¹ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>run</code>æˆ–<code>r</code>å‘½ä»¤è¿è¡Œç¨‹åºã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>next</code>æˆ–<code>n</code>å‘½ä»¤å•æ­¥è·³è¿‡å‡½æ•°æ‰§è¡Œï¼ˆä¸è¿›å…¥å‡½æ•°å†…éƒ¨ï¼‰ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>step</code>æˆ–<code>s</code>å‘½ä»¤å•æ­¥è¿›å…¥å‡½æ•°å†…éƒ¨æ‰§è¡Œã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>print</code>æˆ–<code>p</code>å‘½ä»¤æŸ¥çœ‹å˜é‡å€¼ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>continue</code>æˆ–<code>c</code>å‘½ä»¤ç»§ç»­æ‰§è¡Œç¨‹åºç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹æˆ–ç¨‹åºç»“æŸã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>quit</code>æˆ–<code>q</code>å‘½ä»¤é€€å‡ºGDBè°ƒè¯•å™¨ã€‚</p>
</li>
</ul>
</blockquote>
<h3 data-id="heading-2">1.2. é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¸­çš„è°ƒè¯•åŠŸèƒ½</h3>
<p>é™¤äº†GDBè¿™æ ·çš„å‘½ä»¤è¡Œè°ƒè¯•å·¥å…·å¤–ï¼Œè®¸å¤šé›†æˆå¼€å‘ç¯å¢ƒï¼ˆå¦‚Visual Studioï¼‰ä¹Ÿæä¾›äº†å¼ºå¤§çš„è°ƒè¯•åŠŸèƒ½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51ac4389e5744c6f93f20acfacf63d76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnl0Zei9u-mqkeWFtQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769354050&amp;x-signature=UJETytx1Qfuq9KR%2BrxJS2TGemUY%3D" alt="img" loading="lazy"/></p>
<p><strong>â‘ åŠŸèƒ½ç‰¹ç‚¹</strong></p>
<ul>
<li>
<p><strong>å›¾å½¢åŒ–è°ƒè¯•ç•Œé¢</strong>ï¼šIDEé€šå¸¸æä¾›äº†ç›´è§‚çš„å›¾å½¢åŒ–è°ƒè¯•ç•Œé¢ï¼Œä½¿å¾—è°ƒè¯•è¿‡ç¨‹æ›´åŠ æ˜“äºç†è§£å’Œæ“ä½œã€‚</p>
</li>
<li>
<p><strong>æ–­ç‚¹ç®¡ç†</strong>ï¼šIDEå…è®¸ç¨‹åºå‘˜æ–¹ä¾¿åœ°è®¾ç½®ã€æŸ¥çœ‹å’Œç®¡ç†æ–­ç‚¹ã€‚</p>
</li>
<li>
<p><strong>å˜é‡ç›‘è§†</strong>ï¼šIDEæä¾›äº†å˜é‡ç›‘è§†çª—å£ï¼Œå…è®¸ç¨‹åºå‘˜å®æ—¶æŸ¥çœ‹å˜é‡çš„å€¼åŠå…¶å˜åŒ–æƒ…å†µã€‚</p>
</li>
<li>
<p><strong>è°ƒç”¨å †æ ˆæŸ¥çœ‹</strong>ï¼šIDEè¿˜æ”¯æŒæŸ¥çœ‹å½“å‰çš„å‡½æ•°è°ƒç”¨å †æ ˆï¼Œå¸®åŠ©ç¨‹åºå‘˜ç†è§£ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚</p>
</li>
</ul>
<p><strong>â‘¡ä½¿ç”¨æ–¹æ³•</strong></p>
<ul>
<li>
<p>åœ¨IDEä¸­åˆ›å»ºå¹¶æ‰“å¼€Cè¯­è¨€é¡¹ç›®ã€‚</p>
</li>
<li>
<p>ç¼–å†™å¹¶ä¿å­˜Cè¯­è¨€æºä»£ç æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>è®¾ç½®æ–­ç‚¹ï¼ˆé€šå¸¸é€šè¿‡ç‚¹å‡»ä»£ç è¡Œå·¦ä¾§çš„æ–­ç‚¹åŒºåŸŸæˆ–ä½¿ç”¨å¿«æ·é”®ï¼‰ã€‚</p>
</li>
<li>
<p>å¯åŠ¨è°ƒè¯•å™¨å¹¶è¿è¡Œç¨‹åºã€‚</p>
</li>
<li>
<p>ä½¿ç”¨IDEæä¾›çš„è°ƒè¯•æ§åˆ¶æŒ‰é’®ï¼ˆå¦‚å•æ­¥æ‰§è¡Œã€ç»§ç»­æ‰§è¡Œç­‰ï¼‰è¿›è¡Œè°ƒè¯•ã€‚</p>
</li>
<li>
<p>åœ¨å˜é‡ç›‘è§†çª—å£ä¸­æŸ¥çœ‹å˜é‡çš„å€¼åŠå…¶å˜åŒ–æƒ…å†µã€‚</p>
</li>
<li>
<p>æ ¹æ®è°ƒè¯•ç»“æœä¿®æ”¹ä»£ç å¹¶é‡æ–°æµ‹è¯•ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">1.3. è°ƒè¯•ç­–ç•¥ä¸æŠ€å·§</h3>
<ul>
<li>
<p><strong>åˆ¶å®šè°ƒè¯•è®¡åˆ’</strong>ï¼šåœ¨è°ƒè¯•ä¹‹å‰ï¼Œåº”è¯¥åˆ¶å®šä¸€ä¸ªæ¸…æ™°çš„è°ƒè¯•è®¡åˆ’ï¼ŒåŒ…æ‹¬è¦è§£å†³çš„é—®é¢˜ã€é¢„æœŸçš„è°ƒè¯•ç»“æœä»¥åŠå¯èƒ½çš„è§£å†³æ–¹æ¡ˆç­‰ã€‚</p>
</li>
<li>
<p><strong>è®°å½•è°ƒè¯•è¿‡ç¨‹</strong>ï¼šåœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œåº”è¯¥è®°å½•æ¯ä¸€æ­¥çš„æ“ä½œã€è§‚å¯Ÿåˆ°çš„ç°è±¡ä»¥åŠè¿›è¡Œçš„æ›´æ”¹ç­‰ã€‚æœ‰åŠ©äºåç»­åˆ†æå’Œè§£å†³é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>ç†è§£ä»£ç æ‰§è¡Œæµç¨‹</strong>ï¼šåœ¨è°ƒè¯•ä¹‹å‰ï¼Œåº”è¯¥å……åˆ†ç†è§£ä»£ç çš„æ‰§è¡Œæµç¨‹å’Œé€»è¾‘ç»“æ„ï¼Œä»¥ä¾¿æ›´å‡†ç¡®åœ°å®šä½é—®é¢˜æ‰€åœ¨ã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨é™æ€ä»£ç åˆ†æå·¥å…·</strong>ï¼šé™æ€ä»£ç åˆ†æå·¥å…·èƒ½å¤Ÿåœ¨ä»£ç æ‰§è¡Œå‰å‘ç°æ½œåœ¨çš„é”™è¯¯å’Œé—®é¢˜ï¼Œå¦‚å†…å­˜æ³„éœ²ã€æœªåˆå§‹åŒ–çš„å˜é‡ç­‰ã€‚è¿™äº›å·¥å…·èƒ½å¤Ÿå¢åŠ ä»£ç è´¨é‡ï¼Œå¹¶ä¸”å¸®åŠ©ç¨‹åºå‘˜åœ¨æ—©æœŸå‘ç°é”™è¯¯ï¼Œå‡å°‘è°ƒè¯•çš„æ—¶é—´å’Œå¤æ‚åº¦ã€‚</p>
</li>
</ul>
<blockquote>
<p><strong>è°ƒè¯•å·¥å…·æ˜¯Cè¯­è¨€å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚é€šè¿‡åˆç†ä½¿ç”¨è°ƒè¯•å·¥å…·å¹¶æŒæ¡è°ƒè¯•ç­–ç•¥ä¸æŠ€å·§ï¼Œç¨‹åºå‘˜å¯ä»¥æ›´åŠ é«˜æ•ˆåœ°å®šä½å’Œä¿®å¤ä»£ç ä¸­çš„é”™è¯¯ï¼Œæé«˜ä»£ç çš„è´¨é‡å’Œå¯é æ€§ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-4">äºŒã€å¸¸è§çš„ç¼–è¯‘é”™è¯¯ä¸è¿è¡Œæ—¶é”™è¯¯</h2>
<p>åœ¨Cè¯­è¨€ç¼–ç¨‹ä¸­ï¼Œå¸¸è§çš„ç¼–è¯‘é”™è¯¯ä¸è¿è¡Œæ—¶é”™è¯¯æ˜¯æˆ‘ä»¬éœ€è¦é¢å¯¹å’Œè§£å†³çš„é‡è¦é—®é¢˜ã€‚</p>
<h3 data-id="heading-5">2.1. å¸¸è§çš„ç¼–è¯‘é”™è¯¯</h3>
<p><strong>â‘ è¯­æ³•é”™è¯¯</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šå¦‚ç¼ºå°‘åˆ†å·ã€æ‹¬å·ä¸åŒ¹é…ã€å…³é”®å­—ä½¿ç”¨é”™è¯¯ç­‰ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šç¨‹åºä¸­çš„è¯­å¥æˆ–è¡¨è¾¾å¼ä¸ç¬¦åˆCè¯­è¨€çš„è¯­æ³•è§„åˆ™ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šä»”ç»†æ£€æŸ¥ä»£ç ä¸­çš„æ¯ä¸ªéƒ¨åˆ†ï¼Œç¡®ä¿ç¬¦åˆCè¯­è¨€çš„è¯­æ³•è§„åˆ™ã€‚</p>
</li>
</ul>
<p><strong>â‘¡æœªå®šä¹‰çš„ç¬¦å·</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šç¼–è¯‘å™¨æŠ¥é”™ï¼ŒæŒ‡å‡ºä»£ç ä¸­ä½¿ç”¨äº†æœªå®šä¹‰çš„å˜é‡æˆ–å‡½æ•°ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šå¯èƒ½æ˜¯å˜é‡æˆ–å‡½æ•°åœ¨ä½¿ç”¨å‰æœªè¿›è¡Œå£°æ˜ï¼Œæˆ–è€…å£°æ˜çš„ä½ç½®ä¸æ­£ç¡®ï¼ˆå¦‚åœ¨å‡½æ•°å†…éƒ¨å£°æ˜å…¨å±€å˜é‡ï¼‰ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šç¡®ä¿æ‰€æœ‰å˜é‡å’Œå‡½æ•°åœ¨ä½¿ç”¨å‰éƒ½å·²ç»æ­£ç¡®å£°æ˜ï¼Œå¹¶æ£€æŸ¥å£°æ˜çš„ä½ç½®æ˜¯å¦æ­£ç¡®ã€‚</p>
</li>
</ul>
<p><strong>â‘¢ä¸å…¼å®¹ç±»å‹</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šåœ¨èµ‹å€¼ã€å‡½æ•°è°ƒç”¨æˆ–è¡¨è¾¾å¼è¿ç®—ä¸­ï¼Œä½¿ç”¨äº†ä¸å…¼å®¹çš„æ•°æ®ç±»å‹ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šCè¯­è¨€æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå¯¹æ•°æ®ç±»å‹æœ‰ä¸¥æ ¼è¦æ±‚ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šæ£€æŸ¥å¹¶ä¿®æ”¹ä»£ç ä¸­çš„ç±»å‹é”™è¯¯ï¼Œç¡®ä¿æ‰€æœ‰æ“ä½œéƒ½ç¬¦åˆCè¯­è¨€çš„ç±»å‹è§„åˆ™ã€‚</p>
</li>
</ul>
<p><strong>â‘£é“¾æ¥é”™è¯¯</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šç¼–è¯‘å™¨åœ¨é“¾æ¥é˜¶æ®µæŠ¥é”™ï¼ŒæŒ‡å‡ºæ— æ³•æ‰¾åˆ°æ‰€éœ€çš„åº“æ–‡ä»¶æˆ–é“¾æ¥å¯¹è±¡æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šå¯èƒ½æ˜¯åº“æ–‡ä»¶æœªæ­£ç¡®å®‰è£…ã€é“¾æ¥æŒ‡ä»¤é”™è¯¯æˆ–åº“æ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šæ£€æŸ¥åº“æ–‡ä»¶çš„å®‰è£…æƒ…å†µã€é“¾æ¥æŒ‡ä»¤å’Œè·¯å¾„è®¾ç½®ï¼Œç¡®ä¿æ­£ç¡®æ— è¯¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">2.2. å¸¸è§çš„è¿è¡Œæ—¶é”™è¯¯</h3>
<p><strong>â‘ æ®µé”™è¯¯ï¼ˆ<strong><strong>Segmentation</strong>****fault</strong>ï¼‰</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šç¨‹åºè¿è¡Œæ—¶å´©æºƒï¼Œå¹¶æç¤ºæ®µé”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šè®¿é—®äº†æœªåˆ†é…çš„å†…å­˜åœ°å€æˆ–è¶Šç•Œè®¿é—®ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šä½¿ç”¨è°ƒè¯•å·¥å…·ï¼ˆå¦‚GDBï¼‰è·Ÿè¸ªä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ‰¾å‡ºè®¿é—®éæ³•å†…å­˜çš„å…·ä½“ä½ç½®å¹¶ä¿®å¤ã€‚åŒæ—¶ï¼Œæ³¨æ„æ£€æŸ¥æŒ‡é’ˆçš„ä½¿ç”¨æƒ…å†µï¼Œç¡®ä¿æŒ‡é’ˆæŒ‡å‘æœ‰æ•ˆçš„å†…å­˜åŒºåŸŸã€‚</p>
</li>
</ul>
<p><strong>â‘¡é™¤é›¶é”™è¯¯</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šç¨‹åºè¿è¡Œæ—¶è¿›è¡Œé™¤æ³•è¿ç®—æ—¶ï¼Œé™¤æ•°ä¸ºé›¶å¯¼è‡´ç¨‹åºå´©æºƒã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šé™¤æ³•è¿ç®—ä¸­æœªå¯¹é™¤æ•°è¿›è¡Œæœ‰æ•ˆæ€§æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šåœ¨é™¤æ³•è¿ç®—å‰å¯¹é™¤æ•°è¿›è¡Œæœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œç¡®ä¿é™¤æ•°ä¸ä¸ºé›¶ã€‚</p>
</li>
</ul>
<p><strong>â‘¢ æ•°ç»„è¶Šç•Œ</strong></p>
<ul>
<li>
<p><strong>è¡¨ç°</strong>ï¼šè®¿é—®æ•°ç»„æ—¶è¶…å‡ºäº†å…¶å®šä¹‰çš„è¾¹ç•Œï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒæˆ–æ•°æ®é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>åŸå› </strong>ï¼šæ•°ç»„ç´¢å¼•è¶…å‡ºäº†æ•°ç»„çš„æœ‰æ•ˆèŒƒå›´ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šåœ¨è®¿é—®æ•°ç»„å‰å¯¹ç´¢å¼•è¿›è¡Œæœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œç¡®ä¿ç´¢å¼•åœ¨æ•°ç»„çš„æœ‰æ•ˆèŒƒå›´å†…ã€‚åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŠ¨æ€æ•°ç»„æˆ–å®¹å™¨ç±»ï¼ˆå¦‚C++ä¸­çš„<code>std::vector</code>ï¼‰æ¥é¿å…æ•°ç»„è¶Šç•Œçš„é—®é¢˜ã€‚</p>
</li>
</ul>
<blockquote>
<p><strong>é™¤äº†ä¸Šè¿°å¸¸è§çš„</strong>ç¼–è¯‘é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯å¤–ï¼ŒCè¯­è¨€ç¼–ç¨‹ä¸­è¿˜å¯èƒ½é‡åˆ°å…¶ä»–ç±»å‹çš„é”™è¯¯å’Œé—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æŒæ¡è°ƒè¯•å·¥å…·çš„ä½¿ç”¨æ–¹æ³•å’Œè°ƒè¯•ç­–ç•¥ä¸æŠ€å·§ï¼Œä»¥ä¾¿é«˜æ•ˆåœ°å®šä½å’Œä¿®å¤ä»£ç ä¸­çš„é”™è¯¯ã€‚åŒæ—¶ï¼Œä¹Ÿéœ€è¦æ³¨æ„ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œé¿å…ç¼–å†™è¿‡äºå¤æ‚å’Œéš¾ä»¥ç†è§£çš„ä»£ç ã€‚</p>
</blockquote>
<h2 data-id="heading-7">ä¸‰ã€é”™è¯¯å¤„ç†æœºåˆ¶</h2>
<h3 data-id="heading-8">3.1. ä½¿ç”¨ assert å‡½æ•°è¿›è¡Œæ–­è¨€æ£€æŸ¥</h3>
<p><strong>â‘ å·¥ä½œåŸç†</strong></p>
<p><code>assert</code>æ˜¯ä¸€ä¸ªå®ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå®ƒä¼šè®¡ç®—ç»™å®šçš„è¡¨è¾¾å¼ã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸ºçœŸï¼ˆéé›¶ï¼‰ï¼Œåˆ™ç¨‹åºç»§ç»­æ­£å¸¸æ‰§è¡Œã€‚å¦‚æœè¡¨è¾¾å¼çš„å€¼ä¸ºå‡ï¼ˆé›¶ï¼‰ï¼Œåˆ™ä¼šåœ¨æ ‡å‡†é”™è¯¯æµï¼ˆé€šå¸¸æ˜¯æ§åˆ¶å°ï¼‰ä¸Šæ‰“å°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼ŒæŒ‡å‡ºæ–­è¨€å¤±è´¥çš„ä½ç½®ï¼Œç„¶åè°ƒç”¨ <code>abort</code>å‡½æ•°ç»ˆæ­¢ç¨‹åºçš„æ‰§è¡Œã€‚</p>
<p><strong>â‘¡é€‚ç”¨åœºæ™¯</strong></p>
<ul>
<li>
<p>æ–­è¨€é€šå¸¸ç”¨äºæ£€æŸ¥ç¨‹åºçš„å†…éƒ¨é€»è¾‘ä¸€è‡´æ€§å’Œä¸å¯æ¢å¤çš„é”™è¯¯æ¡ä»¶ã€‚ä¾‹å¦‚ï¼Œæ£€æŸ¥å‡½æ•°çš„è¾“å…¥å‚æ•°æ˜¯å¦æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ï¼Œæˆ–è€…åœ¨ç¨‹åºçš„ç‰¹å®šé˜¶æ®µæŸäº›å˜é‡æ˜¯å¦å¤„äºé¢„æœŸçš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p>æ–­è¨€ä¸åº”è¯¥ç”¨äºå¤„ç†å¯èƒ½åœ¨æ­£å¸¸ç¨‹åºè¿è¡Œä¸­å‘ç”Ÿçš„é”™è¯¯æƒ…å†µï¼Œå› ä¸ºæ–­è¨€å¤±è´¥æ„å‘³ç€ç¨‹åºå­˜åœ¨ä¸¥é‡çš„é€»è¾‘é”™è¯¯ï¼Œä¸åº”è¯¥ç»§ç»­æ‰§è¡Œã€‚</p>
</li>
</ul>
<p><strong>â‘¢å…³é”®ç‚¹</strong></p>
<ul>
<li>
<p><strong>åŒ…å«å¤´æ–‡ä»¶</strong>ï¼šä½¿ç”¨<code>assert</code>ä¹‹å‰éœ€è¦åŒ…å«<code>&lt;assert.h&gt;</code>å¤´æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>æ–­è¨€è¡¨è¾¾å¼</strong>ï¼š<code>assert</code>å®æ¥å—ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‚æ•°ã€‚å¦‚æœè¡¨è¾¾å¼ä¸ºå‡ï¼ˆ0ï¼‰ï¼Œåˆ™è§¦å‘æ–­è¨€å¤±è´¥ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>ï¼šæ–­è¨€å¤±è´¥æ—¶ï¼Œé»˜è®¤ä¼šè¾“å‡ºåŒ…å«å¤±è´¥è¡¨è¾¾å¼å’Œæºä»£ç ä½ç½®çš„ä¿¡æ¯åˆ°æ ‡å‡†é”™è¯¯æµ<code>stderr</code>ã€‚</p>
</li>
<li>
<p><strong>ç»ˆæ­¢ç¨‹åº</strong>ï¼šæ–­è¨€å¤±è´¥åï¼Œç¨‹åºé€šè¿‡è°ƒç”¨<code>abort</code>å‡½æ•°ç»ˆæ­¢æ‰§è¡Œã€‚</p>
</li>
</ul>
<p><strong>â‘£ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-sql" lang="sql">#include <span class="hljs-operator">&lt;</span>stdio.h<span class="hljs-operator">&gt;</span>#include <span class="hljs-operator">&lt;</span>assert.h<span class="hljs-operator">&gt;</span><span class="hljs-type">int</span> divide(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) {    <span class="hljs-operator">/</span><span class="hljs-operator">/</span> æ–­è¨€é™¤æ•°ä¸ä¸ºé›¶assert(b<span class="hljs-operator">!=</span> <span class="hljs-number">0</span>);    <span class="hljs-keyword">return</span> a <span class="hljs-operator">/</span> b;}â€‹<span class="hljs-type">int</span> main() {    <span class="hljs-type">int</span> <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> divide(<span class="hljs-number">10</span>, <span class="hljs-number">2</span>);    printf("Result: %d\n", <span class="hljs-keyword">result</span>);â€‹    <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> divide(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>);    printf("Result: %d\n", <span class="hljs-keyword">result</span>);â€‹    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;}
</code></pre>
<p>å½“å°è¯•ç”¨ 10 é™¤ä»¥ 0 æ—¶ï¼Œ<code>assert</code>ä¼šè§¦å‘ï¼Œç¨‹åºä¼šç»ˆæ­¢å¹¶æ‰“å°é”™è¯¯æ¶ˆæ¯ã€‚</p>
<p><strong>è¿è¡Œç»“æœï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9868df496b5d4a72a5e5dba7bdf6aee6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnl0Zei9u-mqkeWFtQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769354050&amp;x-signature=%2BVtF0LGxs5cnzjD7EyIz2yd3NhU%3D" alt="img" loading="lazy"/></p>
<h3 data-id="heading-9">3.2. errno å˜é‡åœ¨é”™è¯¯å¤„ç†ä¸­çš„åº”ç”¨</h3>
<p><strong>â‘ å·¥ä½œåŸç†</strong></p>
<ul>
<li>
<p><code>errno</code>æ˜¯ä¸€ä¸ªå…¨å±€æ•´æ•°å˜é‡ï¼Œå½“åº“å‡½æ•°æ‰§è¡Œå¤±è´¥æ—¶ï¼Œä¼šå°†ç‰¹å®šçš„é”™è¯¯ä»£ç å­˜å‚¨åœ¨ <code>errno</code>ä¸­ã€‚ä¸åŒçš„é”™è¯¯ä»£ç å¯¹åº”ä¸åŒçš„é”™è¯¯æƒ…å†µã€‚</p>
</li>
<li>
<p>å¯ä»¥é€šè¿‡æ£€æŸ¥ <code>errno</code>çš„å€¼æ¥ç¡®å®šå…·ä½“çš„é”™è¯¯ç±»å‹ï¼Œå¹¶é‡‡å–ç›¸åº”çš„é”™è¯¯å¤„ç†æªæ–½ã€‚</p>
</li>
</ul>
<p>**<code>â‘¡perror</code>**å‡½æ•°</p>
<p><code>perror</code>å‡½æ•°å°† <code>errno</code>çš„å€¼æ˜ å°„ä¸ºå¯¹åº”çš„é”™è¯¯ä¿¡æ¯ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°æ ‡å‡†é”™è¯¯æµã€‚å®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œç”¨äºåœ¨é”™è¯¯ä¿¡æ¯å‰æ·»åŠ è‡ªå®šä¹‰çš„æè¿°ã€‚</p>
<p><strong>â‘¢å…³é”®ç‚¹</strong></p>
<ul>
<li>
<p><strong>åŒ…å«å¤´æ–‡ä»¶</strong>ï¼šä½¿ç”¨<code>errno</code>ä¹‹å‰éœ€è¦åŒ…å«<code>&lt;errno.h&gt;</code>å¤´æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯ä»£ç </strong>ï¼šå½“ç³»ç»Ÿè°ƒç”¨æˆ–åº“å‡½æ•°å¤±è´¥æ—¶ï¼Œå®ƒä»¬ä¼šè®¾ç½®<code>errno</code>ä¸ºç›¸åº”çš„é”™è¯¯ä»£ç ã€‚</p>
</li>
<li>
<p><strong>æ£€æŸ¥é”™è¯¯</strong>ï¼šåœ¨è°ƒç”¨å¯èƒ½å¤±è´¥çš„å‡½æ•°åï¼Œåº”æ£€æŸ¥å…¶è¿”å›å€¼ä»¥ç¡®å®šæ˜¯å¦å‘ç”Ÿäº†é”™è¯¯ã€‚</p>
</li>
<li>
<p><strong>è¾“å‡ºé”™è¯¯ä¿¡æ¯</strong>ï¼šå¯ä»¥ä½¿ç”¨<code>perror</code>æˆ–<code>strerror</code>å‡½æ•°å°†<code>errno</code>è½¬æ¢ä¸ºäººç±»å¯è¯»çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p><strong>â‘£ç¤ºä¾‹ä»£ç </strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span>#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;errno.h&gt;</span>int main() {    FILE *fp = fopen(<span class="hljs-string">"nonexistent.txt"</span>, <span class="hljs-string">"r"</span>);    <span class="hljs-keyword">if</span> (fp == NULL) {        perror(<span class="hljs-string">"Error opening file"</span>);    }    return 0;}</span>
</code></pre>
<p>å°è¯•æ‰“å¼€ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œ<code>fopen</code>å‡½æ•°è¿”å› <code>NULL</code>ï¼Œå¹¶ä¸”å°†é”™è¯¯ä»£ç è®¾ç½®åˆ° <code>errno</code>ä¸­ã€‚ç„¶å <code>perror</code>å‡½æ•°å°†é”™è¯¯ä¿¡æ¯æ‰“å°å‡ºæ¥ï¼Œå½¢å¼ä¸º â€œError opening file: No such file or directoryâ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a63b930040d4710a472a2e1b0e79e7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnl0Zei9u-mqkeWFtQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769354050&amp;x-signature=X8oKQyt%2B1SiDHgQeQoBfUzdokVc%3D" alt="img" loading="lazy"/></p>
<p>**<code>â‘¤strerror</code>**å‡½æ•°</p>
<p><code>strerror</code>å‡½æ•°æ¥å—ä¸€ä¸ªé”™è¯¯ä»£ç ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘æè¿°è¯¥é”™è¯¯çš„å­—ç¬¦ä¸²çš„æŒ‡é’ˆã€‚å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°è·å–æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
<ul>
<li>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<p>#include &lt;stdio.h&gt;#include &lt;errno.h&gt;#include &lt;string.h&gt;int main() {    FILE *fp = fopen("nonexistent.txt", "r");    if (fp == NULL) {        printf("Error: %s\n", strerror(errno));    }    return 0;}</p>
</li>
</ul>
<p>è¿™ä¸ªä¾‹å­ä¸ä¸Šä¸€ä¸ªç±»ä¼¼ï¼Œä½†ä½¿ç”¨ <code>strerror</code>å‡½æ•°è·å–é”™è¯¯ä¿¡æ¯å¹¶æ‰“å°å‡ºæ¥ï¼Œå½¢å¼ä¸º â€œError: No such file or directoryâ€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpreadJS V19.0 æ–°ç‰¹æ€§è§£å¯†ï¼šWebWorker é©±åŠ¨çš„å¢é‡è®¡ç®—ï¼Œè®©æµ·é‡æ•°æ®è¡¨æ ¼è¿ç®—å¿«å¦‚é—ªç”µ]]></title>    <link>https://juejin.cn/post/7595960824487264290</link>    <guid>https://juejin.cn/post/7595960824487264290</guid>    <pubDate>2026-01-19T01:47:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7595960824487264290" data-draft-id="7596241980869935138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpreadJS V19.0 æ–°ç‰¹æ€§è§£å¯†ï¼šWebWorker é©±åŠ¨çš„å¢é‡è®¡ç®—ï¼Œè®©æµ·é‡æ•°æ®è¡¨æ ¼è¿ç®—å¿«å¦‚é—ªç”µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T01:47:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3227821868332765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpreadJS V19.0 æ–°ç‰¹æ€§è§£å¯†ï¼šWebWorker é©±åŠ¨çš„å¢é‡è®¡ç®—ï¼Œè®©æµ·é‡æ•°æ®è¡¨æ ¼è¿ç®—å¿«å¦‚é—ªç”µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821868332765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T01:47:08.000Z" title="Mon Jan 19 2026 01:47:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¼ä¸šçº§è¡¨æ ¼åº”ç”¨åœºæ™¯ä¸­ï¼Œä½ æ˜¯å¦æ›¾é­é‡è¿‡è¿™æ ·çš„å›°å¢ƒï¼šå½“è¡¨æ ¼åŒ…å«ä¸Šä¸‡è¡Œæ•°æ®ã€æ•°åƒä¸ªå¤æ‚å…¬å¼æ—¶ï¼Œè¾“å…¥å†…å®¹åç•Œé¢å¡é¡¿åŠå¤©æ— å“åº”ï¼Œæ»šåŠ¨è¡¨æ ¼æ—¶å¸ƒå±€é¢‘ç¹åç§»ï¼Œç”šè‡³å› è®¡ç®—ä»»åŠ¡é˜»å¡ä¸»çº¿ç¨‹å¯¼è‡´æ•´ä¸ªé¡µé¢â€œå‡æ­»â€ï¼Ÿå¯¹äºè´¢åŠ¡æŠ¥è¡¨æ ¸ç®—ã€å¤§æ•°æ®åˆ†æã€ä¸šåŠ¡æ•°æ®å¯è§†åŒ–ç­‰ä¾èµ–æµ·é‡è¿ç®—çš„åœºæ™¯è€Œè¨€ï¼Œè¡¨æ ¼çš„è®¡ç®—æ€§èƒ½ç›´æ¥å†³å®šäº†å·¥ä½œæ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒã€‚</p>
<p>ä½œä¸ºè‘¡è„åŸæ·±è€•40å¹´ä¸“ä¸šæ§ä»¶æŠ€æœ¯æ‰“é€ çš„çº¯å‰ç«¯è¡¨æ ¼æ§ä»¶ï¼ŒSpreadJS å§‹ç»ˆèšç„¦å¼€å‘è€…æ ¸å¿ƒç—›ç‚¹ã€‚åœ¨ V19.0 ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬é‡ç£…æ¨å‡º <strong>WebWorker é©±åŠ¨çš„å¢é‡è®¡ç®—åŠŸèƒ½</strong>ï¼Œé€šè¿‡åˆ›æ–°çš„è®¡ç®—æ¶æ„é‡æ„ï¼Œå½»åº•è§£å†³äº†å¤§è§„æ¨¡æ•°æ®ä¸å¤æ‚å…¬å¼åœºæ™¯ä¸‹çš„æ€§èƒ½ç“¶é¢ˆï¼Œè®©è¡¨æ ¼è¿ç®—é€Ÿåº¦å®ç°è´¨çš„é£è·ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3463955ff7624ba4bf3409045153400e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6JGh6JCE5Z-O5oqA5pyv5Zui6Zif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769392027&amp;x-signature=CDEtURCBHyxgTsvX5yHPNf59EjY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç—›ç‚¹ï¼šä¼ ç»Ÿè¡¨æ ¼è®¡ç®—çš„æ€§èƒ½å›°å±€</h2>
<p>åœ¨ä¼ ç»Ÿè¡¨æ ¼è®¡ç®—æ¨¡å¼ä¸­ï¼Œæ‰€æœ‰å…¬å¼è¿ç®—ã€æ•°æ®æ›´æ–°éƒ½åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œã€‚å½“é¢å¯¹ä»¥ä¸‹åœºæ™¯æ—¶ï¼Œæ€§èƒ½é—®é¢˜ä¼šè¢«æ— é™æ”¾å¤§ï¼š</p>
<ul>
<li>åŒ…å«æ•°ä¸‡å•å…ƒæ ¼æ•°æ®ä¸å¤æ‚åµŒå¥—å…¬å¼çš„è´¢åŠ¡æŠ¥è¡¨ã€ä¸šåŠ¡å°è´¦ï¼›</li>
<li>å®æ—¶æ•°æ®åˆ·æ–°çš„ä»ªè¡¨ç›˜ã€æ•°æ®åˆ†æé¢æ¿ï¼›</li>
<li>å¤šç”¨æˆ·ååŒç¼–è¾‘æ—¶çš„å³æ—¶è®¡ç®—éœ€æ±‚ï¼›</li>
<li>éœ€é¢‘ç¹æ‰§è¡Œæ’åºã€ç­›é€‰ã€æ±‡æ€»ç­‰æ“ä½œçš„å¤§æ•°æ®è¡¨æ ¼ã€‚</li>
</ul>
<p>æ­¤æ—¶ï¼Œä¸»çº¿ç¨‹ä¼šè¢«å¯†é›†çš„è®¡ç®—ä»»åŠ¡å ç”¨ï¼Œå¯¼è‡´ç•Œé¢äº¤äº’å¡é¡¿ã€å¸ƒå±€åç§»ã€å“åº”å»¶è¿Ÿç­‰é—®é¢˜ï¼Œä¸¥é‡å½±å“ç”¨æˆ·æ“ä½œä½“éªŒä¸å·¥ä½œæ•ˆç‡ã€‚è€Œè¿™æ­£æ˜¯ SpreadJS V19.0 è¦å½»åº•è§£å†³çš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ–°ç‰¹æ€§æ ¸å¿ƒä¼˜åŠ¿ï¼šWebWorker + å¢é‡è®¡ç®—åŒå¼•æ“åŠ æŒ</h2>
<p>SpreadJS V19.0 åˆ›æ–°æ€§åœ°å°† WebWorker æŠ€æœ¯ä¸å¢é‡è®¡ç®—é€»è¾‘æ·±åº¦èåˆï¼Œæ„å»ºäº†â€œåå°è®¡ç®—+ç²¾å‡†æ›´æ–°â€çš„åŒå¼•æ“æ¶æ„ï¼Œå¸¦æ¥å››å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<h3 data-id="heading-2">1. ä¸»çº¿ç¨‹å½»åº•è§£æ”¾ï¼Œäº¤äº’ä¸æ»‘æ— å¡é¡¿</h3>
<p>WebWorker ä½œä¸ºæµè§ˆå™¨æä¾›çš„åå°çº¿ç¨‹èƒ½åŠ›ï¼Œå¯ç‹¬ç«‹äºä¸»çº¿ç¨‹æ‰§è¡Œè®¡ç®—ä»»åŠ¡ã€‚SpreadJS V19.0 å°†æ‰€æœ‰å…¬å¼è¿ç®—ã€æ•°æ®è®¡ç®—é€»è¾‘è¿ç§»è‡³ WebWorker ä¸­è¿è¡Œï¼Œä¸»çº¿ç¨‹ä»…è´Ÿè´£ç•Œé¢æ¸²æŸ“ä¸ç”¨æˆ·äº¤äº’ã€‚æ— è®ºåå°è¿›è¡Œå¤šä¹ˆå¤æ‚çš„è¿ç®—ï¼Œå‰ç«¯éƒ½èƒ½ä¿æŒæµç•…çš„æ“ä½œä½“éªŒï¼Œæ»šåŠ¨ã€ç¼–è¾‘ã€åˆ‡æ¢è¡¨æ ¼æ—¶å†ä¹Ÿä¸ä¼šå‡ºç°â€œå‡æ­»â€æˆ–å¸ƒå±€åç§»ã€‚</p>
<h3 data-id="heading-3">2. å¢é‡è®¡ç®—ç²¾å‡†å‘åŠ›ï¼Œè¿ç®—æ•ˆç‡æŒ‡æ•°çº§æå‡</h3>
<p>ä¼ ç»Ÿè®¡ç®—æ¨¡å¼ä¸‹ï¼Œä»»æ„å•å…ƒæ ¼æ•°æ®å˜åŒ–éƒ½ä¼šè§¦å‘æ•´ä¸ªè¡¨æ ¼çš„å…¨é‡é‡ç®—ï¼Œæ•ˆç‡æä½ã€‚è€Œ SpreadJS çš„å¢é‡è®¡ç®—é€»è¾‘ä¼šæ™ºèƒ½è¯†åˆ«æ•°æ®å˜æ›´çš„å½±å“èŒƒå›´ï¼Œä»…å¯¹å…³è”å•å…ƒæ ¼è¿›è¡Œç²¾å‡†è®¡ç®—ï¼Œé¿å…æ— æ•ˆè¿ç®—ã€‚</p>
<p>ç»“åˆ WebWorker çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œå³ä¾¿é¢å¯¹æµ·é‡æ•°æ®ä¸å¤æ‚å…¬å¼ï¼Œä¹Ÿèƒ½å®ç°â€œå³æ—¶è®¡ç®—ã€å³æ—¶å“åº”â€ã€‚å®æµ‹æ•°æ®æ˜¾ç¤ºï¼š</p>
<ul>
<li>åŒ…å« 4 ä¸‡å¤æ‚å…¬å¼çš„è¡¨æ ¼æ–‡ä»¶ï¼Œè€ç‰ˆæœ¬å¢é‡è®¡ç®—éœ€ 12.3sï¼ŒV19.0 ç‰ˆæœ¬ä»…éœ€ 2.2sï¼Œè®¡ç®—æ•ˆç‡æå‡ 5.6 å€ï¼›</li>
<li>1000ms å¸§æ•°ä¸‹ï¼Œäº¤äº’å“åº”é€Ÿåº¦ä» 616.7ms ä¼˜åŒ–è‡³ 250.0msï¼Œå¸ƒå±€åç§»é—®é¢˜å½»åº•è§£å†³ï¼›</li>
<li>æ”¯æŒè¿ç»­æ‰¹é‡å…¬å¼æ›´æ–°åœºæ™¯ï¼Œé€šè¿‡ <code>waitForAllCalculations()</code> æ–¹æ³•å¯å®ç°è®¡ç®—å®Œæˆåå†æ‰§è¡Œæ’åºã€æ¸²æŸ“ç­‰æ“ä½œï¼Œé¿å…ä¸­é—´çŠ¶æ€é”™ä¹±ã€‚</li>
</ul>









































<table><thead><tr><th>æµ‹è¯•åœºæ™¯</th><th>ä¸»çº¿ç¨‹å¢é‡è®¡ç®—</th><th>SpreadJS V19.0 Web Worker å¢é‡è®¡ç®—</th><th>æ€§èƒ½æå‡</th></tr></thead><tbody><tr><td>æ–‡ä»¶ 115ä¸‡ç®€å•è¡Œçº§å…¬å¼</td><td>12.3s</td><td>2.2s</td><td>82%</td></tr><tr><td>æ–‡ä»¶ 21000ä¸ª SUMIFS</td><td>2.1s</td><td>1.68s</td><td>21%</td></tr><tr><td>æ–‡ä»¶ 312ä¸‡å¤æ‚å…¬å¼</td><td>6.7s</td><td>4.9s</td><td>27%</td></tr><tr><td>æ–‡ä»¶ 4å¤š Sheet 5 ä¸‡å¤æ‚å…¬å¼</td><td>12.8s</td><td>8.5s</td><td>34%</td></tr><tr><td>File 52.5ä¸‡å…¬å¼ä¾èµ–å•å…ƒæ ¼</td><td>1.4s</td><td>1.22s</td><td>13%</td></tr></tbody></table>
<h3 data-id="heading-4">3. ä¸ Excel æ·±åº¦å…¼å®¹ï¼Œè¿ç§»é›¶æˆæœ¬</h3>
<p>SpreadJS V19.0 ä¿æŒäº†ä¸ Excel è®¡ç®—é€»è¾‘çš„é«˜åº¦ä¸€è‡´æ€§ï¼Œæ”¯æŒ Excel çš„ <code>calcOnDemand</code>ï¼ˆæŒ‰éœ€è®¡ç®—ï¼‰ã€<code>suspendCalcService</code>ï¼ˆæš‚åœè®¡ç®—æœåŠ¡ï¼‰ã€<code>manual CalculationMode</code>ï¼ˆæ‰‹åŠ¨è®¡ç®—æ¨¡å¼ï¼‰ç­‰æ ¸å¿ƒç‰¹æ€§ï¼Œç¡®ä¿ä¼ä¸šç°æœ‰ Excel è¡¨æ ¼è¿ç§»è‡³ Web ç«¯åï¼Œè®¡ç®—ç»“æœç²¾å‡†æ— è¯¯ï¼Œå¼€å‘è€…æ— éœ€ä¿®æ”¹åŸæœ‰å…¬å¼é€»è¾‘ï¼Œè¿ç§»æˆæœ¬å‡ ä¹ä¸ºé›¶ã€‚</p>
<h3 data-id="heading-5">4. è½»é‡åŒ–é›†æˆï¼Œå¼€å‘ä½“éªŒå‹å¥½</h3>
<p>æ–°ç‰¹æ€§æ— éœ€å¤æ‚çš„é…ç½®æµç¨‹ï¼Œä»…éœ€ç®€å•å‡ æ­¥å³å¯å¯ç”¨ï¼ŒåŒæ—¶æä¾›çµæ´»çš„ API æ”¯æŒï¼Œé€‚é…ä¸åŒå¼€å‘åœºæ™¯ï¼š</p>
<ul>
<li>æ”¯æŒè„šæœ¬æ ‡ç­¾å¼•å…¥ä¸ NPM åŒ…ä¸¤ç§é›†æˆæ–¹å¼ï¼Œæ»¡è¶³ä¸åŒé¡¹ç›®æ¶æ„éœ€æ±‚ï¼›</li>
<li>æä¾› <code>incrementalCalculation</code> å¼€å…³ã€<code>waitForAllCalculations()</code> å¼‚æ­¥ç­‰å¾…æ–¹æ³•ç­‰ APIï¼Œä¾¿äºå¼€å‘è€…ç²¾å‡†æ§åˆ¶è®¡ç®—æµç¨‹ï¼›</li>
<li>æ”¯æŒè®¡ç®—æœåŠ¡æš‚åœ/æ¢å¤ã€æ‰¹é‡å…¬å¼æ›´æ–°ç­‰é«˜çº§åœºæ™¯ï¼Œé€‚é…å¤æ‚ä¸šåŠ¡é€»è¾‘å¼€å‘ã€‚</li>
</ul>
<h2 data-id="heading-6">ä¸‰ã€å¿«é€Ÿä¸Šæ‰‹ï¼š3 æ­¥å¯ç”¨ WebWorker å¢é‡è®¡ç®—</h2>
<h3 data-id="heading-7">æ–¹å¼ 1ï¼šè„šæœ¬æ ‡ç­¾å¼•å…¥</h3>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-comment">&lt;!-- å¼•å…¥ SpreadJS æ ¸å¿ƒæ–‡ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"gc.spread.sheets.all.xx.x.x.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-comment">&lt;!-- å¼•å…¥ WebWorker è®¡ç®—æ’ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"plugins/gc.spread.sheets.calcworker.xx.x.x.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-comment">// åˆå§‹åŒ–è¡¨æ ¼</span>
  <span class="hljs-keyword">var</span> spread = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-title class_">Workbook</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'ss'</span>), { <span class="hljs-attr">sheetCount</span>: <span class="hljs-number">1</span> });
  <span class="hljs-comment">// å¯ç”¨å¢é‡è®¡ç®—</span>
  spread.<span class="hljs-property">options</span>.<span class="hljs-property">incrementalCalculation</span> = <span class="hljs-literal">true</span>;
  
  <span class="hljs-comment">// æ‰¹é‡æ›´æ–°å…¬å¼å¹¶ç­‰å¾…è®¡ç®—å®Œæˆ</span>
  <span class="hljs-keyword">const</span> sheet = spread.<span class="hljs-title function_">getActiveSheet</span>();
  sheet.<span class="hljs-title function_">suspendPaint</span>();
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    sheet.<span class="hljs-title function_">setFormula</span>(i, <span class="hljs-number">0</span>, <span class="hljs-string">`=<span class="hljs-subst">${<span class="hljs-number">100</span> - i}</span>`</span>);
  }
  <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰è®¡ç®—å®Œæˆåå†æ¢å¤æ¸²æŸ“ä¸æ’åº</span>
  <span class="hljs-keyword">await</span> spread.<span class="hljs-title function_">waitForAllCalculations</span>();
  sheet.<span class="hljs-title function_">resumePaint</span>();
  sheet.<span class="hljs-title function_">sortRange</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">100</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">true</span>, [{ <span class="hljs-attr">index</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">ascending</span>: <span class="hljs-literal">true</span> }]);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-8">æ–¹å¼ 2ï¼šNPM åŒ…é›†æˆ</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å®‰è£… WebWorker è®¡ç®—æ’ä»¶</span>
npm install @grapecity-software/spread-sheets-calc-worker

<span class="hljs-comment">// å¼•å…¥å¹¶å¯ç”¨</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'@grapecity-software/spread-sheets-calc-worker'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-variable constant_">GC</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@grapecity-software/spread-sheets'</span>;

<span class="hljs-keyword">const</span> spread = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">GC</span>.<span class="hljs-property">Spread</span>.<span class="hljs-property">Sheets</span>.<span class="hljs-title class_">Workbook</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'ss'</span>), { <span class="hljs-attr">sheetCount</span>: <span class="hljs-number">1</span> });
<span class="hljs-comment">// å¯ç”¨å¢é‡è®¡ç®—</span>
spread.<span class="hljs-property">options</span>.<span class="hljs-property">incrementalCalculation</span> = <span class="hljs-literal">true</span>;
</code></pre>
<h2 data-id="heading-9">å››ã€é€‚ç”¨åœºæ™¯ï¼šèµ‹èƒ½å…¨è¡Œä¸šå¤æ‚è¡¨æ ¼åº”ç”¨</h2>
<p>SpreadJS V19.0 çš„ WebWorker å¢é‡è®¡ç®—ç‰¹æ€§ï¼Œå®Œç¾é€‚é…ä»¥ä¸‹æ ¸å¿ƒåœºæ™¯ï¼š</p>
<ul>
<li><strong>è´¢åŠ¡ä¸ä¼šè®¡</strong>ï¼šå¤§å‹è´¢åŠ¡æŠ¥è¡¨ã€åˆå¹¶æŠ¥è¡¨ã€é¢„ç®—ç¼–åˆ¶ç­‰åŒ…å«æµ·é‡å…¬å¼çš„åœºæ™¯ï¼›</li>
<li><strong>æ•°æ®åˆ†æ</strong>ï¼šå®æ—¶æ•°æ®ä»ªè¡¨ç›˜ã€å¤§æ•°æ®é‡ç­›é€‰æ±‡æ€»ã€å¤šç»´æ•°æ®é€è§†åˆ†æï¼›</li>
<li><strong>ä¼ä¸šååŒ</strong>ï¼šå¤šç”¨æˆ·å®æ—¶ååŒç¼–è¾‘è¡¨æ ¼æ—¶çš„å³æ—¶è®¡ç®—ä¸æ•°æ®åŒæ­¥ï¼›</li>
<li><strong>ä¸šåŠ¡ç³»ç»Ÿ</strong>ï¼šERPã€CRM ç­‰ç³»ç»Ÿä¸­çš„ä¸šåŠ¡æ•°æ®å°è´¦ã€ç»Ÿè®¡åˆ†ææ¨¡å—ã€‚</li>
</ul>
<h2 data-id="heading-10">äº”ã€æ€»ç»“ï¼šé‡æ–°å®šä¹‰ Web è¡¨æ ¼è®¡ç®—æ€§èƒ½æ ‡æ†</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.grapecity.com.cn%2Fdeveloper%2Fspreadjs" target="_blank" title="https://www.grapecity.com.cn/developer/spreadjs" ref="nofollow noopener noreferrer">SpreadJS V19.0</a> æ¨å‡ºçš„ WebWorker å¢é‡è®¡ç®—åŠŸèƒ½ï¼Œä¸ä»…è§£å†³äº†ä¼ ç»Ÿ Web è¡¨æ ¼çš„æ€§èƒ½ç—›ç‚¹ï¼Œæ›´é€šè¿‡â€œåå°è®¡ç®—ä¸é˜»å¡ã€å¢é‡æ›´æ–°é«˜æ•ˆç‡ã€Excel å…¼å®¹é›¶æˆæœ¬ã€é›†æˆå¼€å‘æ›´ä¾¿æ·â€çš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œä¸ºä¼ä¸šçº§ Web è¡¨æ ¼åº”ç”¨æä¾›äº†æ€§èƒ½æ–°æ ‡æ†ã€‚</p>
<p>æ— è®ºæ˜¯å¤„ç†æ•°ä¸‡è¡Œæ•°æ®çš„å¤æ‚æŠ¥è¡¨ï¼Œè¿˜æ˜¯æ„å»ºå®æ—¶å“åº”çš„ååŒç¼–è¾‘ç³»ç»Ÿï¼ŒSpreadJS V19.0 éƒ½èƒ½è®©è¡¨æ ¼è¿ç®—å¿«å¦‚é—ªç”µï¼Œä¸ºå¼€å‘è€…èµ‹èƒ½ï¼Œä¸ºç”¨æˆ·å¸¦æ¥æµç•…ä¸æ»‘çš„æ“ä½œä½“éªŒã€‚</p>
<p>å³å°†å‘å¸ƒçš„ SpreadJS V19.0ï¼Œä¸æ­¢äºè®¡ç®—æ€§èƒ½çš„é£è·ƒï¼Œæ›´æœ‰ååŒæ’ä»¶æ­£å¼ç‰ˆã€çº¿ç¨‹è¯„è®ºã€å•å…ƒæ ¼ä¸¤ç«¯å¯¹é½ç­‰å¤šé‡ç‰¹æ€§åŠ æŒã€‚å…³æ³¨æˆ‘ä»¬ï¼Œè§£é”æ›´å¤š Web è¡¨æ ¼å¼€å‘æ–°å¯èƒ½ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3åˆ†é’ŸSolidity: 0.2 web3çš„æŠ€æœ¯æ¶æ„]]></title>    <link>https://juejin.cn/post/7596181746083151922</link>    <guid>https://juejin.cn/post/7596181746083151922</guid>    <pubDate>2026-01-18T16:01:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596181746083151922" data-draft-id="7596245612557697033" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3åˆ†é’ŸSolidity: 0.2 web3çš„æŠ€æœ¯æ¶æ„"/> <meta itemprop="keywords" content="web3,æ™ºèƒ½åˆçº¦,åŒºå—é“¾"/> <meta itemprop="datePublished" content="2026-01-18T16:01:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Rockbean"/> <meta itemprop="url" content="https://juejin.cn/user/4054654615823560"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3åˆ†é’ŸSolidity: 0.2 web3çš„æŠ€æœ¯æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4054654615823560/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Rockbean
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T16:01:24.000Z" title="Sun Jan 18 2026 16:01:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æ¬¢è¿è®¢é˜…ä¸“æ </strong>ï¼š<a href="https://juejin.cn/column/7578762210285977663" title="https://juejin.cn/column/7578762210285977663" target="_blank">3åˆ†é’ŸSolidity--æ™ºèƒ½åˆçº¦--Web3åŒºå—é“¾æŠ€æœ¯å¿…å­¦</a></p>
<p>web3çš„æŠ€æœ¯æ¶æ„ä¸»è¦æ˜¯æŒ‡DApp(decentmmmralized application å»ä¸­å¿ƒåŒ–åº”ç”¨)æŠ€æœ¯æ¶æ„ã€‚æœ‰ä»¥ä¸‹åŸºæœ¬æŠ€æœ¯æ¦‚å¿µ</p>
<ul>
<li><code>å»ä¸­å¿ƒåŒ–</code>ï¼šæ²¡æœ‰é›†ä¸­å¼çš„æ•°æ®åº“å’ŒæœåŠ¡å™¨</li>
<li><code>åŒºå—é“¾</code>ï¼šä»¥å¤ªåŠç­‰åŒºå—é“¾ä½œä¸ºåˆ†å¸ƒå¼çŠ¶æ€æœºï¼Œç”±ç½‘ç»œä¸­çš„åŒ¿åèŠ‚ç‚¹å…±åŒç»´æŠ¤</li>
<li><code>æ™ºèƒ½åˆçº¦</code>ï¼šåŒºå—é“¾ä¸Šè¿è¡Œçš„ç¨‹åºï¼Œå®šä¹‰äº†åç«¯é€»è¾‘ï¼Œå¼€æºä¸”æ— æ³•æ›´æ”¹</li>
<li><code>EVM</code>: ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼Œæ‰§è¡Œæ™ºèƒ½åˆçº¦çš„ç¯å¢ƒã€‚</li>
</ul>
<h2 data-id="heading-0">åŒºå—é“¾</h2>
<p>åŒºå—é“¾æ˜¯ä¸ªç»Ÿç§°ï¼Œ<code>æ¯”ç‰¹å¸BTC</code>ï¼Œ<code>ä»¥å¤ªåŠethereum</code>å’Œ<code>Solana</code>éƒ½æ˜¯ä¸åŒçš„åŒºå—é“¾ã€‚æ™ºèƒ½åˆçº¦æ˜¯è¿è¡Œåœ¨ä»¥å¤ªåŠä¸Šçš„ï¼Œé€šè¿‡solidityæ¥ç¼–å†™ç¨‹åºã€‚</p>
<p>ä»¥å¤ªåŠåŒºå—é“¾ï¼ˆethereum blockchainï¼‰è¢«è®¤ä¸ºæ˜¯<code>ä¸–ç•Œè®¡ç®—å™¨</code>ï¼Œ</p>
<ul>
<li>ä¸€ä¸ªå¯å…¨å±€è®¿é—®çš„çŠ¶æ€æœºï¼Œ</li>
<li>å¯¹ç­‰èŠ‚ç‚¹ç½‘ç»œç»´æŠ¤ï¼Œ</li>
<li>çŠ¶æ€çš„æ›´æ”¹å—å…±è¯†è§„åˆ™çš„çº¦æŸï¼Œ</li>
<li>åªè¦å†™å…¥äº†æ•°æ®ï¼Œå°±ä¼šè¢«è®°å½•ï¼Œ</li>
<li>æ•°æ®ä¸èƒ½æ›´æ–°å›å»ã€‚</li>
</ul>
<h2 data-id="heading-1">æ™ºèƒ½åˆçº¦</h2>
<p>æ™ºèƒ½åˆçº¦æ˜¯ä»¥å¤ªåŠä¸Šè¿è¡Œçš„ç¨‹åºï¼Œç”±é«˜çº§ç¼–ç¨‹è¯­è¨€ç¼–å†™ï¼Œå¦‚Solidityæˆ–è€…Vyperï¼ˆæ—©æœŸçš„åˆçº¦è¯­è¨€ï¼‰ã€‚</p>
<h2 data-id="heading-2">å‰ç«¯ä¸åŒºå—é“¾äº¤äº’</h2>
<ul>
<li>èŠ‚ç‚¹äº¤äº’ï¼šé€šè¿‡è®¾ç½®èŠ‚ç‚¹æˆ–è€…ç¬¬ä¸‰æ–¹èŠ‚ç‚¹æœåŠ¡ï¼ˆInfura, Alchemy, Quicknodeï¼‰ä¸åŒºå—é“¾äº¤äº’</li>
<li>JSON-RPC: å‰ç«¯ä¸åŒºå—é“¾äº¤äº’çš„ç»Ÿä¸€åè®®</li>
<li>èº«ä»½éªŒè¯ï¼šé€šè¿‡MetaMaskè¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯ï¼Œç­¾ç½²äº¤æ˜“ã€‚</li>
</ul>
<p>æ¯ä¸ªä»¥å¤ªåŠå®¢æˆ·ç«¯éƒ½å®ç°äº†JSON-RPCè§„èŒƒï¼Œç¡®ä¿äº†å½“å‰åº”ç”¨ç¨‹åºæƒ³è¦è·ŸåŒºå—é“¾äº¤äº’æ—¶ï¼Œæœ‰ä¸€ç»„ç»Ÿä¸€çš„æ–¹æ³•ã€‚</p>
<blockquote>
<p>JSON-RPCæ˜¯ä¸€ç§æ— çŠ¶æ€ï¼Œè½»é‡çº§çš„è¿œç¨‹è¿‡ç¨‹ï¼ˆRPCï¼‰è°ƒç”¨åè®®ï¼Œå®šä¹‰äº†å¤šä¸ªæ•°æ®ç»“æ„åŠå…¶å¤„ç†è§„åˆ™ã€‚å®ƒä¸ä¼ è¾“æ–¹å¼æ— å…³ï¼Œå¯ä»¥é€šè¿‡å¤šç§æ–¹å¼ä¼ è¾“ï¼Œæ¯”å¦‚HTTPï¼Œå¥—æ¥å­—ç­‰ï¼ŒJSONï¼ˆRFC 4627ï¼‰ä½œä¸ºä¸€ç§æ•°æ®æ ¼å¼ã€‚</p>
</blockquote>
<p>èº«ä»½éªŒè¯å’Œé‰´æƒé€šè¿‡å€ŸåŠ©MetaMaskå®ç°ã€‚</p>
<h2 data-id="heading-3">å»ä¸­å¿ƒåŒ–å­˜å‚¨</h2>
<p>å¦‚æœç›´æ¥å°†æ•°æ®å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šï¼Œæ›´æ–°æ•°æ®éƒ½éœ€è¦æ”¶è´¹ï¼Œè´¹ç”¨ä¼šéå¸¸é«˜ï¼Œé€šè¿‡ä½¿ç”¨å»ä¸­å¿ƒåŒ–çš„é“¾ä¸‹IPFS/Swarmç­‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨äºå­˜å‚¨å’Œè®¿é—®æ•°æ®ï¼Œè§£å†³åŒºå—é“¾å­˜å‚¨æ˜‚è´µçš„é—®é¢˜ã€‚</p>
<p>ä¸€èˆ¬å°†å›¾ç‰‡ï¼Œè§†é¢‘ç­‰éé‡‘èå±æ€§çš„èµ„æºæ”¾ç½®åœ¨é“¾ä¸‹åˆ†å¸ƒå¼å­˜å‚¨ä¸­ï¼Œè´¦æˆ·ä½™é¢ç­‰å…³é”®ä¿¡æ¯è¿˜æœ‰ä¼šå­˜å‚¨åœ¨é“¾ä¸Šã€‚</p>
<h2 data-id="heading-4">æ•°æ®è¯»å–</h2>
<p>The Graph æ˜¯ä¸€ç§é“¾ä¸‹ç´¢å¼•è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥æ›´è½»æ¾åœ°æŸ¥è¯¢ä»¥ä»¥å¤ªåŠåŒºå—é“¾ä¸Šçš„æ•°æ®ã€‚</p>
<p>å‰ç«¯å·¥ç¨‹å¸ˆå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦ç›´æ¥è¯»å–é“¾ä¸Šæ•°æ®ï¼Œè¿™æ¯”ä¼ ç»Ÿçš„REST APIæ›´å…·æœ‰å¸å¼•åŠ›ã€‚</p>
<h2 data-id="heading-5">DAppæ¶æ„</h2>
<p>åŒºå—é“¾ï¼Œå»ä¸­å¿ƒåŒ–å­˜å‚¨ï¼Œèº«ä»½éªŒè¯å’Œé“¾ä¸‹ç´¢å¼•ï¼Œå½¢æˆäº†å®Œæ•´çš„DAppæ¶æ„ã€‚</p>
<p>æ¶æ„å›¾å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    %% ç”¨æˆ·å±‚
    subgraph UserLayer [ç”¨æˆ·ç•Œé¢å±‚ - Front-end]
        UI[Webåº”ç”¨&lt;br/&gt;React/Vue/Angular]
        Wallet[é’±åŒ…è¿æ¥&lt;br/&gt;MetaMask/WalletConnect]
        SDK[Web3 SDK&lt;br/&gt;Web3.js/Ethers.js]
        
        UI --&gt; Wallet
        UI --&gt; SDK
    end
    
    %% ä¸­é—´ä»¶å±‚
    subgraph MiddlewareLayer [ä¸­é—´ä»¶/è¿æ¥å±‚]
        Provider[èŠ‚ç‚¹æœåŠ¡æä¾›å•†&lt;br/&gt;Infura/Alchemy]
        Signer[äº¤æ˜“ç­¾å&lt;br/&gt;é€šè¿‡é’±åŒ…]
        
        SDK --&gt; Provider
        SDK --&gt; Signer
    end
    
    %% åŒºå—é“¾å±‚
    subgraph BlockchainLayer [åŒºå—é“¾ç½‘ç»œå±‚]
        Node[åŒºå—é“¾èŠ‚ç‚¹&lt;br/&gt;EVM/Geth/Erigon]
        
        subgraph ContractLayer [æ™ºèƒ½åˆçº¦å±‚]
            Logic[ä¸šåŠ¡é€»è¾‘åˆçº¦]
            Data[æ•°æ®åˆçº¦]
            Access[æƒé™ç®¡ç†åˆçº¦]
            Proxy[ä»£ç†åˆçº¦&lt;br/&gt;å¯å‡çº§]
            
            Logic --&gt; Data
            Logic --&gt; Access
            Proxy -.-&gt; Logic
        end
    end
    
    %% å»ä¸­å¿ƒåŒ–å­˜å‚¨
    subgraph StorageLayer [å»ä¸­å¿ƒåŒ–å­˜å‚¨å±‚]
        IPFS[IPFS&lt;br/&gt;æ–‡ä»¶/NFTå…ƒæ•°æ®]
        Arweave[Arweave&lt;br/&gt;æ°¸ä¹…å­˜å‚¨]
        Filecoin[Filecoin&lt;br/&gt;å»ä¸­å¿ƒåŒ–å­˜å‚¨]
    end
    
    %% é“¾ä¸‹æœåŠ¡
    subgraph OffChainLayer [é“¾ä¸‹æœåŠ¡å±‚ - å¯é€‰]
        EventListener[äº‹ä»¶ç›‘å¬æœåŠ¡]
        Indexer[ç´¢å¼•æœåŠ¡&lt;br/&gt;The Graph]
        Oracle[é¢„è¨€æœº&lt;br/&gt;Chainlink/Band]
        API[APIæœåŠ¡å™¨&lt;br/&gt;ç¼“å­˜/èšåˆæ•°æ®]
        
        Indexer --&gt; API
    end
    
    %% æ•°æ®æµ
    Signer --&gt; Node
    Provider --&gt; Node
    Node --&gt; ContractLayer
    
    ContractLayer -.-&gt; IPFS
    ContractLayer -.-&gt; Oracle
    
    EventListener -.-&gt; Node
    Oracle -.-&gt; EventListener
    
    %% æ ·å¼
    classDef userLayer fill:#e1f5fe,stroke:#01579b
    classDef middleware fill:#f3e5f5,stroke:#4a148c
    classDef blockchain fill:#e8f5e8,stroke:#1b5e20
    classDef storage fill:#fff3e0,stroke:#e65100
    classDef offchain fill:#fce4ec,stroke:#880e4f
    
    class UI,Wallet,SDK userLayer
    class Provider,Signer middleware
    class Node,ContractLayer blockchain
    class IPFS,Arweave,Filecoin storage
    class EventListener,Indexer,Oracle,API offchain
</code></pre>
<p>ç»„ä»¶äº¤äº’å›¾</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant UI as å‰ç«¯åº”ç”¨
    participant Wallet as é’±åŒ…
    participant Node as åŒºå—é“¾èŠ‚ç‚¹
    participant Contract as æ™ºèƒ½åˆçº¦
    participant Storage as IPFS/å­˜å‚¨
    participant Oracle as é¢„è¨€æœº
    participant Indexer as The Graph

    %% è¯»å–æ•°æ®æµç¨‹
    User-&gt;&gt;UI: è®¿é—®DApp
    UI-&gt;&gt;Wallet: è¿æ¥é’±åŒ…
    Wallet--&gt;&gt;UI: è¿”å›è´¦æˆ·åœ°å€
    UI-&gt;&gt;Node: æŸ¥è¯¢é“¾ä¸Šæ•°æ®
    Node--&gt;&gt;UI: è¿”å›æ•°æ®
    
    alt é€šè¿‡ç´¢å¼•å™¨æŸ¥è¯¢
        UI-&gt;&gt;Indexer: å¤æ‚æŸ¥è¯¢è¯·æ±‚
        Indexer-&gt;&gt;Node: ç›‘å¬å¹¶ç´¢å¼•æ•°æ®
        Indexer--&gt;&gt;UI: è¿”å›ç´¢å¼•ç»“æœ
    end
    
    %% å†™å…¥æ•°æ®æµç¨‹
    User-&gt;&gt;UI: æ‰§è¡Œäº¤æ˜“æ“ä½œ
    UI-&gt;&gt;Contract: è°ƒç”¨åˆçº¦æ–¹æ³•
    Contract-&gt;&gt;Oracle: è¯·æ±‚é“¾ä¸‹æ•°æ®
    Oracle--&gt;&gt;Contract: è¿”å›æ•°æ®
    Contract-&gt;&gt;Storage: å­˜å‚¨å…ƒæ•°æ®
    Storage--&gt;&gt;Contract: è¿”å›CID
    
    Contract--&gt;&gt;Node: äº¤æ˜“ä¸Šé“¾
    Node--&gt;&gt;Wallet: å¼¹å‡ºç¡®è®¤
    Wallet--&gt;&gt;User: ç¡®è®¤äº¤æ˜“
    User-&gt;&gt;Wallet: ç­¾åäº¤æ˜“
    Wallet-&gt;&gt;Node: å¹¿æ’­äº¤æ˜“
    Node--&gt;&gt;UI: è¿”å›äº¤æ˜“å“ˆå¸Œ
    Note over Node,UI: å¼‚æ­¥ç­‰å¾…ç¡®è®¤
      
</code></pre>
<h2 data-id="heading-6">L2æ‰©å±•æ–¹æ¡ˆ</h2>
<p>L2 Scalingï¼šé€šè¿‡ä¾§é“¾æ“ä½œï¼Œé™ä½æˆæœ¬å¹¶æé«˜æ•ˆç‡ï¼Œç„¶åå°†ç»“æœæäº¤åˆ°ä¸»é“¾ä¸Šï¼ˆL1ï¼‰ã€‚</p>
<p>åœ¨L2ä¸Šäº¤æ˜“ååé‡å¢å¤§ï¼Œæ‰‹ç»­è´¹é™ä½ã€‚</p>
<p>å¸¸è§çš„L2æœ‰OPç½‘ç»œï¼ˆOptimistic Rollupsï¼‰, Poligon, ZK Rollups, Arbitrumç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºSpringBoot + AOP + è‡ªå®šä¹‰æ³¨è§£ å®ç°æ— ä¾µå…¥å¼æ•°æ®å˜æ›´è¿½è¸ª]]></title>    <link>https://juejin.cn/post/7596245612558221321</link>    <guid>https://juejin.cn/post/7596245612558221321</guid>    <pubDate>2026-01-18T18:03:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596245612558221321" data-draft-id="7596187471774105609" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºSpringBoot + AOP + è‡ªå®šä¹‰æ³¨è§£ å®ç°æ— ä¾µå…¥å¼æ•°æ®å˜æ›´è¿½è¸ª"/> <meta itemprop="keywords" content="Spring Boot,åç«¯"/> <meta itemprop="datePublished" content="2026-01-18T18:03:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰æ°´ä¸æ»´"/> <meta itemprop="url" content="https://juejin.cn/user/283045639753100"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºSpringBoot + AOP + è‡ªå®šä¹‰æ³¨è§£ å®ç°æ— ä¾µå…¥å¼æ•°æ®å˜æ›´è¿½è¸ª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/283045639753100/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰æ°´ä¸æ»´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T18:03:02.000Z" title="Sun Jan 18 2026 18:03:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">SpringBoot + AOP + æ³¨è§£ï¼šå®ç°æ— ä¾µå…¥å¼æ•°æ®å˜æ›´è¿½è¸ª</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œ<strong>æ•°æ®å˜æ›´è¿½è¸ª</strong>ï¼ˆå¦‚æ“ä½œæ—¥å¿—ã€æ•°æ®ç‰ˆæœ¬è®°å½•ï¼‰æ˜¯é«˜é¢‘éœ€æ±‚ â€”â€” æ¯”å¦‚ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹ã€è®¢å•çŠ¶æ€å˜æ›´ã€é…ç½®é¡¹è°ƒæ•´ç­‰åœºæ™¯ï¼Œéƒ½éœ€è¦è®°å½• â€œè°æ”¹äº†ä»€ä¹ˆã€æ”¹ä¹‹å‰æ˜¯ä»€ä¹ˆã€æ”¹ä¹‹åæ˜¯ä»€ä¹ˆã€ä»€ä¹ˆæ—¶å€™æ”¹çš„â€ã€‚ä¼ ç»Ÿæ–¹å¼æ˜¯åœ¨ä¸šåŠ¡ä»£ç ä¸­æ‰‹åŠ¨ç¼–å†™æ—¥å¿—è®°å½•é€»è¾‘ï¼Œä¸ä»…å†—ä½™ç¹çï¼Œè¿˜å®¹æ˜“é—æ¼æˆ–å‡ºé”™ï¼Œä¸¥é‡è¿å â€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚</p>
<p>æœ¬æ–‡åŸºäº <strong>SpringBoot + AOP + è‡ªå®šä¹‰æ³¨è§£</strong>ï¼Œæä¾›ä¸€å¥—<strong>æ— ä¾µå…¥å¼æ•°æ®å˜æ›´è¿½è¸ªæ–¹æ¡ˆ</strong>ï¼šæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç ï¼Œä»…é€šè¿‡æ³¨è§£å³å¯è‡ªåŠ¨è®°å½•å˜æ›´æ—¥å¿—ï¼Œæ”¯æŒå­—æ®µçº§å¯¹æ¯”ã€å¼‚æ­¥å­˜å‚¨ã€æ•æ„Ÿæ•°æ®è„±æ•ã€å­—æ®µå¿½ç•¥ç­‰å®ç”¨åŠŸèƒ½ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€æ ¸å¿ƒæŠ€æœ¯é€‰å‹</h3>
<ul>
<li>åŸºç¡€æ¡†æ¶ï¼šSpringBoot 2.x/3.x</li>
<li>åˆ‡é¢ç¼–ç¨‹ï¼šSpring AOPï¼ˆæ— éœ€é¢å¤–å¼•å…¥ï¼ŒSpringBoot Starter è‡ªå¸¦ï¼‰</li>
<li>åºåˆ—åŒ–ï¼šJacksonï¼ˆå¤„ç†å¯¹è±¡è½¬ JSON å¯¹æ¯”ï¼‰</li>
<li>ORM æ¡†æ¶ï¼šSpring Data JPAï¼ˆä¹Ÿå¯æ›¿æ¢ä¸º MyBatisï¼Œä¸‹æ–‡é™„é€‚é…æ–¹æ¡ˆï¼‰</li>
<li>æ•°æ®åº“ï¼šMySQLï¼ˆå­˜å‚¨å˜æ›´æ—¥å¿—ï¼‰</li>
<li>æ ¸å¿ƒæ€æƒ³ï¼šé€šè¿‡è‡ªå®šä¹‰æ³¨è§£æ ‡è®°ç›®æ ‡æ–¹æ³•ï¼ŒAOP æ‹¦æˆªæ–¹æ³•æ‰§è¡Œï¼Œå¯¹æ¯”æ–¹æ³•å…¥å‚ / è¿”å›å€¼ä¸æ•°æ®åº“åŸå§‹æ•°æ®çš„å·®å¼‚ï¼Œè‡ªåŠ¨ç”Ÿæˆå˜æ›´æ—¥å¿—ã€‚</li>
</ul>
<h3 data-id="heading-3">äºŒã€æ ¸å¿ƒä»£ç </h3>
<h4 data-id="heading-4">1. ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–ï¼ˆMaven/Gradleï¼‰</h4>
<h5 data-id="heading-5">Maven ä¾èµ–</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- SpringBootæ ¸å¿ƒä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.15<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- 3.xç‰ˆæœ¬å¯æ›¿æ¢ä¸º3.1.4 --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ ¸å¿ƒä¾èµ– --&gt;</span>
&lt;<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- SpringBoot Webï¼ˆæŒ‰éœ€å¼•å…¥ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring AOP --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Data JPA --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- MySQLé©±åŠ¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Jacksonï¼ˆåºåˆ—åŒ–ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Lombokï¼ˆç®€åŒ–ä»£ç ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
&lt;/<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h5 data-id="heading-6">Gradle ä¾èµ–</h5>
<pre><code class="hljs language-bash" lang="bash">plugins {
    <span class="hljs-built_in">id</span> <span class="hljs-string">'org.springframework.boot'</span> version <span class="hljs-string">'2.7.15'</span>
    <span class="hljs-built_in">id</span> <span class="hljs-string">'io.spring.dependency-management'</span> version <span class="hljs-string">'1.0.15.RELEASE'</span>
    <span class="hljs-built_in">id</span> <span class="hljs-string">'java'</span>
}

dependencies {
    implementation <span class="hljs-string">'org.springframework.boot:spring-boot-starter-web'</span>
    implementation <span class="hljs-string">'org.springframework.boot:spring-boot-starter-aop'</span>
    implementation <span class="hljs-string">'org.springframework.boot:spring-boot-starter-data-jpa'</span>
    runtimeOnly <span class="hljs-string">'com.mysql:mysql-connector-j'</span>
    implementation <span class="hljs-string">'com.fasterxml.jackson.core:jackson-databind'</span>
    compileOnly <span class="hljs-string">'org.projectlombok:lombok'</span>
    annotationProcessor <span class="hljs-string">'org.projectlombok:lombok'</span>
}
</code></pre>
<h4 data-id="heading-7">2. ç¬¬äºŒæ­¥ï¼šå®šä¹‰æ ¸å¿ƒæ³¨è§£</h4>
<h5 data-id="heading-8">2.1 å˜æ›´è¿½è¸ªä¸»æ³¨è§£ï¼ˆ@DataChangeTrackï¼‰</h5>
<p>æ ‡è®°éœ€è¦è¿½è¸ªçš„ä¸šåŠ¡æ–¹æ³•ï¼Œæ”¯æŒé…ç½®ä¸šåŠ¡ç±»å‹ã€ä¸šåŠ¡ IDã€å¿½ç•¥å­—æ®µç­‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * æ•°æ®å˜æ›´è¿½è¸ªæ³¨è§£ï¼šæ ‡è®°éœ€è¦è®°å½•å˜æ›´æ—¥å¿—çš„æ–¹æ³•
 */</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span> <span class="hljs-comment">// ä»…ä½œç”¨äºæ–¹æ³•</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span> <span class="hljs-comment">// è¿è¡Œæ—¶ç”Ÿæ•ˆ</span>
<span class="hljs-meta">@Documented</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> DataChangeTrack {

    <span class="hljs-comment">/**
     * ä¸šåŠ¡ç±»å‹ï¼ˆå¦‚ï¼šUSER=ç”¨æˆ·ç®¡ç†ã€ORDER=è®¢å•ç®¡ç†ã€CONFIG=é…ç½®ç®¡ç†ï¼‰
     */</span>
    String <span class="hljs-title function_">businessType</span><span class="hljs-params">()</span>;

    <span class="hljs-comment">/**
     * ä¸šåŠ¡IDå­—æ®µåï¼ˆä»æ–¹æ³•å…¥å‚ä¸­æå–ï¼Œå¦‚ï¼šuserIdã€orderNoï¼‰
     * è‹¥å…¥å‚æ˜¯å¯¹è±¡ï¼Œå¡«å¯¹è±¡çš„å­—æ®µåï¼›è‹¥å…¥å‚æ˜¯å•ä¸ªå€¼ï¼ˆå¦‚Long userIdï¼‰ï¼Œå¡«""å³å¯
     */</span>
    String <span class="hljs-title function_">businessIdField</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">/**
     * æ“ä½œç±»å‹ï¼ˆé»˜è®¤è‡ªåŠ¨åˆ¤æ–­ï¼šæ–°å¢/ä¿®æ”¹/åˆ é™¤ï¼‰
     * ä¹Ÿå¯æ‰‹åŠ¨æŒ‡å®šï¼šCREATE/UPDATE/DELETE
     */</span>
    OperateType <span class="hljs-title function_">operateType</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> OperateType.AUTO;

    <span class="hljs-comment">/**
     * éœ€è¦å¿½ç•¥çš„å­—æ®µï¼ˆå¦‚ï¼šå¯†ç ã€åˆ›å»ºæ—¶é—´ç­‰æ— éœ€è¿½è¸ªçš„å­—æ®µï¼‰
     */</span>
    String[] ignoreFields() <span class="hljs-keyword">default</span> {};

    <span class="hljs-comment">/**
     * æ˜¯å¦è®°å½•å˜æ›´è¯¦æƒ…ï¼ˆé»˜è®¤trueï¼Œå­—æ®µçº§å¯¹æ¯”ï¼‰
     */</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">recordDetail</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;

    <span class="hljs-comment">/**
     * æ“ä½œäººå­—æ®µåï¼ˆä»æ–¹æ³•å…¥å‚ä¸­æå–ï¼Œè‹¥ä»ä¸Šä¸‹æ–‡è·å–ï¼Œå¯å¡«""ï¼‰
     */</span>
    String <span class="hljs-title function_">operatorField</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;

    <span class="hljs-comment">// æ“ä½œç±»å‹æšä¸¾</span>
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">OperateType</span> {
        AUTO, CREATE, UPDATE, DELETE
    }
}
</code></pre>
<h5 data-id="heading-9">2.2 å­—æ®µå¿½ç•¥æ³¨è§£ï¼ˆ@IgnoreChangeï¼‰</h5>
<p>ç”¨äºå®ä½“ç±»å­—æ®µï¼Œæ ‡è®°æ— éœ€è¿½è¸ªçš„å­—æ®µï¼ˆä¼˜å…ˆçº§é«˜äº @DataChangeTrack çš„ ignoreFieldsï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.annotation.*;

<span class="hljs-comment">/**
 * å­—æ®µå¿½ç•¥æ³¨è§£ï¼šæ ‡è®°æ— éœ€è¿½è¸ªå˜æ›´çš„å­—æ®µ
 */</span>
<span class="hljs-meta">@Target(ElementType.FIELD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Documented</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> IgnoreChange {
}
</code></pre>
<h4 data-id="heading-10">3. ç¬¬ä¸‰æ­¥ï¼šå®šä¹‰å˜æ›´æ—¥å¿—å®ä½“ï¼ˆDataChangeLogï¼‰</h4>
<p>å­˜å‚¨å˜æ›´æ—¥å¿—çš„æ ¸å¿ƒå®ä½“ï¼Œå¯¹åº”æ•°æ®åº“è¡¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> org.hibernate.annotations.DynamicInsert;
<span class="hljs-keyword">import</span> org.hibernate.annotations.DynamicUpdate;
<span class="hljs-keyword">import</span> org.springframework.data.annotation.CreatedDate;
<span class="hljs-keyword">import</span> org.springframework.data.jpa.domain.support.AuditingEntityListener;

<span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.time.LocalDateTime;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-comment">/**
 * æ•°æ®å˜æ›´æ—¥å¿—è¡¨
 */</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "t_data_change_log")</span> <span class="hljs-comment">// è¡¨åå¯è‡ªå®šä¹‰</span>
<span class="hljs-meta">@DynamicInsert</span>
<span class="hljs-meta">@DynamicUpdate</span>
<span class="hljs-meta">@EntityListeners(AuditingEntityListener.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataChangeLog</span> {

    <span class="hljs-comment">/**
     * ä¸»é”®IDï¼ˆè‡ªå¢ï¼‰
     */</span>
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-comment">/**
     * ä¸šåŠ¡ç±»å‹ï¼ˆå¦‚ï¼šUSERã€ORDERã€CONFIGï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "business_type", nullable = false)</span>
    <span class="hljs-keyword">private</span> String businessType;

    <span class="hljs-comment">/**
     * ä¸šåŠ¡IDï¼ˆå¦‚ï¼šç”¨æˆ·IDã€è®¢å•å·ï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "business_id", nullable = false)</span>
    <span class="hljs-keyword">private</span> String businessId;

    <span class="hljs-comment">/**
     * æ“ä½œç±»å‹ï¼ˆCREATE/UPDATE/DELETEï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "operate_type", nullable = false)</span>
    <span class="hljs-keyword">private</span> String operateType;

    <span class="hljs-comment">/**
     * æ“ä½œäººï¼ˆç”¨æˆ·å/å·¥å·ï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "operator")</span>
    <span class="hljs-keyword">private</span> String operator;

    <span class="hljs-comment">/**
     * å˜æ›´å‰æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "before_data", columnDefinition = "TEXT")</span>
    <span class="hljs-keyword">private</span> String beforeData;

    <span class="hljs-comment">/**
     * å˜æ›´åæ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "after_data", columnDefinition = "TEXT")</span>
    <span class="hljs-keyword">private</span> String afterData;

    <span class="hljs-comment">/**
     * å˜æ›´è¯¦æƒ…ï¼ˆå­—æ®µçº§å¯¹æ¯”ï¼ŒJSONæ ¼å¼ï¼‰
     * ç¤ºä¾‹ï¼š{"userName": {"old": "å¼ ä¸‰", "new": "æå››"}, "age": {"old": 20, "new": 22}}
     */</span>
    <span class="hljs-meta">@Column(name = "change_detail", columnDefinition = "TEXT")</span>
    <span class="hljs-keyword">private</span> String changeDetail;

    <span class="hljs-comment">/**
     * æ“ä½œæ—¶é—´ï¼ˆè‡ªåŠ¨å¡«å……ï¼‰
     */</span>
    <span class="hljs-meta">@CreatedDate</span>
    <span class="hljs-meta">@Column(name = "operate_time", nullable = false, updatable = false)</span>
    <span class="hljs-keyword">private</span> LocalDateTime operateTime;

    <span class="hljs-comment">/**
     * å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰
     */</span>
    <span class="hljs-meta">@Column(name = "remark")</span>
    <span class="hljs-keyword">private</span> String remark;
}
</code></pre>
<h4 data-id="heading-11">4. ç¬¬å››æ­¥ï¼šå®ç° AOP åˆ‡é¢ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰</h4>
<p>æ‹¦æˆª @DataChangeTrack æ ‡è®°çš„æ–¹æ³•ï¼Œå¯¹æ¯”æ•°æ®å˜æ›´ï¼Œç”Ÿæˆæ—¥å¿—ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;
<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="hljs-keyword">import</span> lombok.RequiredArgsConstructor;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.aspectj.lang.JoinPoint;
<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.AfterReturning;
<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.Aspect;
<span class="hljs-keyword">import</span> org.aspectj.lang.annotation.Pointcut;
<span class="hljs-keyword">import</span> org.aspectj.lang.reflect.MethodSignature;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;
<span class="hljs-keyword">import</span> org.springframework.util.ReflectionUtils;
<span class="hljs-keyword">import</span> org.springframework.util.StringUtils;

<span class="hljs-keyword">import</span> java.lang.reflect.Field;
<span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">import</span> java.util.*;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-comment">/**
 * æ•°æ®å˜æ›´è¿½è¸ªåˆ‡é¢ï¼šæ ¸å¿ƒé€»è¾‘å®ç°
 */</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@RequiredArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataChangeTrackerAspect</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ObjectMapper objectMapper;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DataChangeLogService changeLogService;

    <span class="hljs-comment">// åˆ‡å…¥ç‚¹ï¼šæ‹¦æˆªæ‰€æœ‰å¸¦@DataChangeTrackæ³¨è§£çš„æ–¹æ³•</span>
    <span class="hljs-meta">@Pointcut("@annotation(com.example.track.annotation.DataChangeTrack)")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dataChangePointcut</span><span class="hljs-params">()</span> {}

    <span class="hljs-comment">// æ–¹æ³•æ‰§è¡ŒæˆåŠŸåè§¦å‘ï¼ˆAfterReturningï¼šç¡®ä¿ä¸šåŠ¡é€»è¾‘æ‰§è¡ŒæˆåŠŸå†è®°å½•æ—¥å¿—ï¼‰</span>
    <span class="hljs-meta">@AfterReturning(pointcut = "dataChangePointcut()", returning = "result")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">trackDataChange</span><span class="hljs-params">(JoinPoint joinPoint, Object result)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. è·å–æ³¨è§£ä¿¡æ¯</span>
            <span class="hljs-type">MethodSignature</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> (MethodSignature) joinPoint.getSignature();
            <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> signature.getMethod();
            <span class="hljs-type">DataChangeTrack</span> <span class="hljs-variable">annotation</span> <span class="hljs-operator">=</span> method.getAnnotation(DataChangeTrack.class);

            <span class="hljs-comment">// 2. æå–æ ¸å¿ƒå‚æ•°ï¼ˆä¸šåŠ¡IDã€æ“ä½œäººã€æ“ä½œç±»å‹ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">businessId</span> <span class="hljs-operator">=</span> extractBusinessId(joinPoint, annotation);
            <span class="hljs-type">String</span> <span class="hljs-variable">operator</span> <span class="hljs-operator">=</span> extractOperator(joinPoint, annotation);
            <span class="hljs-type">String</span> <span class="hljs-variable">operateType</span> <span class="hljs-operator">=</span> determineOperateType(annotation, result);

            <span class="hljs-comment">// 3. è·å–å˜æ›´å‰åæ•°æ®ï¼ˆbeforeDataï¼šæ•°æ®åº“åŸå§‹æ•°æ®ï¼›afterDataï¼šæ–¹æ³•å…¥å‚/è¿”å›å€¼ï¼‰</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">beforeData</span> <span class="hljs-operator">=</span> getOriginalData(annotation.businessType(), businessId);
            <span class="hljs-type">Object</span> <span class="hljs-variable">afterData</span> <span class="hljs-operator">=</span> getAfterData(joinPoint, result, annotation.operateType());

            <span class="hljs-comment">// 4. ç”Ÿæˆå˜æ›´è¯¦æƒ…ï¼ˆå­—æ®µçº§å¯¹æ¯”ï¼‰</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">changeDetail</span> <span class="hljs-operator">=</span> generateChangeDetail(beforeData, afterData, annotation);

            <span class="hljs-comment">// 5. æ„å»ºæ—¥å¿—å®ä½“å¹¶ä¿å­˜ï¼ˆå¼‚æ­¥ä¿å­˜ï¼Œä¸å½±å“ä¸šåŠ¡æ€§èƒ½ï¼‰</span>
            <span class="hljs-type">DataChangeLog</span> <span class="hljs-variable">changeLog</span> <span class="hljs-operator">=</span> buildChangeLog(annotation, businessId, operator, operateType, beforeData, afterData, changeDetail);
            changeLogService.saveAsync(changeLog);

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"æ•°æ®å˜æ›´è¿½è¸ªå¤±è´¥"</span>, e);
            <span class="hljs-comment">// æ—¥å¿—è®°å½•å¤±è´¥ä¸å½±å“ä¸šåŠ¡é€»è¾‘ï¼Œä»…æ‰“å°å¼‚å¸¸</span>
        }
    }

    <span class="hljs-comment">/**
     * æå–ä¸šåŠ¡ID
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">extractBusinessId</span><span class="hljs-params">(JoinPoint joinPoint, DataChangeTrack annotation)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">businessIdField</span> <span class="hljs-operator">=</span> annotation.businessIdField();
        Object[] args = joinPoint.getArgs();
        <span class="hljs-keyword">if</span> (args.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æ–¹æ³•æ— å…¥å‚ï¼Œæ— æ³•æå–ä¸šåŠ¡ID"</span>);
        }

        <span class="hljs-comment">// è‹¥å…¥å‚æ˜¯å•ä¸ªå€¼ï¼ˆå¦‚Long userIdï¼‰ï¼Œç›´æ¥è¿”å›</span>
        <span class="hljs-keyword">if</span> (StringUtils.isEmpty(businessIdField)) {
            <span class="hljs-keyword">return</span> args[<span class="hljs-number">0</span>].toString();
        }

        <span class="hljs-comment">// è‹¥å…¥å‚æ˜¯å¯¹è±¡ï¼Œé€šè¿‡åå°„è·å–businessIdFieldå¯¹åº”çš„å­—æ®µå€¼</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">arg</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">0</span>];
        <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> ReflectionUtils.findField(arg.getClass(), businessIdField);
        <span class="hljs-keyword">if</span> (field == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"å…¥å‚å¯¹è±¡æ— å­—æ®µï¼š"</span> + businessIdField);
        }
        ReflectionUtils.makeAccessible(field);
        <span class="hljs-keyword">return</span> Objects.toString(ReflectionUtils.getField(field, arg), <span class="hljs-string">""</span>);
    }

    <span class="hljs-comment">/**
     * æå–æ“ä½œäººï¼ˆå¯æ‰©å±•ï¼šä»Spring Securityä¸Šä¸‹æ–‡ã€Tokenä¸­è·å–ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">extractOperator</span><span class="hljs-params">(JoinPoint joinPoint, DataChangeTrack annotation)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">operatorField</span> <span class="hljs-operator">=</span> annotation.operatorField();
        <span class="hljs-keyword">if</span> (StringUtils.isEmpty(operatorField)) {
            <span class="hljs-comment">// é»˜è®¤ä»ä¸Šä¸‹æ–‡è·å–ï¼ˆç¤ºä¾‹ï¼šå‡è®¾å·²å®ç°UserContextå·¥å…·ç±»ï¼‰</span>
            <span class="hljs-keyword">return</span> UserContext.getCurrentUser() == <span class="hljs-literal">null</span> ? <span class="hljs-string">"åŒ¿åç”¨æˆ·"</span> : UserContext.getCurrentUser().getUsername();
        }

        <span class="hljs-comment">// ä»æ–¹æ³•å…¥å‚æå–æ“ä½œäºº</span>
        Object[] args = joinPoint.getArgs();
        <span class="hljs-type">Object</span> <span class="hljs-variable">arg</span> <span class="hljs-operator">=</span> args[<span class="hljs-number">0</span>];
        <span class="hljs-type">Field</span> <span class="hljs-variable">field</span> <span class="hljs-operator">=</span> ReflectionUtils.findField(arg.getClass(), operatorField);
        <span class="hljs-keyword">if</span> (field == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥ç”¨æˆ·"</span>;
        }
        ReflectionUtils.makeAccessible(field);
        <span class="hljs-keyword">return</span> Objects.toString(ReflectionUtils.getField(field, arg), <span class="hljs-string">"æœªçŸ¥ç”¨æˆ·"</span>);
    }

    <span class="hljs-comment">/**
     * ç¡®å®šæ“ä½œç±»å‹ï¼ˆè‡ªåŠ¨åˆ¤æ–­/æ‰‹åŠ¨æŒ‡å®šï¼‰
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">determineOperateType</span><span class="hljs-params">(DataChangeTrack annotation, Object result)</span> {
        <span class="hljs-keyword">if</span> (annotation.operateType() != DataChangeTrack.OperateType.AUTO) {
            <span class="hljs-keyword">return</span> annotation.operateType().name();
        }
        <span class="hljs-comment">// ç®€å•é€»è¾‘ï¼šresultä¸ºnullå¯èƒ½æ˜¯åˆ é™¤ï¼ŒbeforeDataä¸ºnullå¯èƒ½æ˜¯æ–°å¢ï¼Œå¦åˆ™æ˜¯ä¿®æ”¹</span>
        <span class="hljs-comment">// å¯æ ¹æ®ä¸šåŠ¡è‡ªå®šä¹‰åˆ¤æ–­é€»è¾‘ï¼ˆå¦‚ï¼šæ ¹æ®æ–¹æ³•ååŒ…å«saveOrUpdateã€deleteç­‰å…³é”®è¯ï¼‰</span>
        <span class="hljs-keyword">return</span> result == <span class="hljs-literal">null</span> ? <span class="hljs-string">"DELETE"</span> : (getOriginalData(annotation.businessType(), extractBusinessId(<span class="hljs-literal">null</span>, annotation)) == <span class="hljs-literal">null</span> ? <span class="hljs-string">"CREATE"</span> : <span class="hljs-string">"UPDATE"</span>);
    }

    <span class="hljs-comment">/**
     * è·å–æ•°æ®åº“åŸå§‹æ•°æ®ï¼ˆéœ€æ ¹æ®ä¸šåŠ¡ç±»å‹å’Œä¸šåŠ¡IDæŸ¥è¯¢ï¼Œè¿™é‡Œæ˜¯ç¤ºä¾‹é€»è¾‘ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">getOriginalData</span><span class="hljs-params">(String businessType, String businessId)</span> {
        <span class="hljs-comment">// å®é™…åœºæ™¯ï¼šæ ¹æ®businessTypeè·¯ç”±åˆ°å¯¹åº”çš„RepositoryæŸ¥è¯¢</span>
        <span class="hljs-comment">// ç¤ºä¾‹ï¼šif ("USER".equals(businessType)) return userRepository.findById(Long.valueOf(businessId)).orElse(null);</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ›¿æ¢ä¸ºçœŸå®æŸ¥è¯¢é€»è¾‘</span>
    }

    <span class="hljs-comment">/**
     * è·å–å˜æ›´åæ•°æ®ï¼ˆå…¥å‚/è¿”å›å€¼ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">getAfterData</span><span class="hljs-params">(JoinPoint joinPoint, Object result, DataChangeTrack.OperateType operateType)</span> {
        <span class="hljs-comment">// åˆ é™¤æ“ä½œè¿”å›nullï¼Œæ–°å¢/ä¿®æ”¹è¿”å›å…¥å‚æˆ–è¿”å›å€¼</span>
        <span class="hljs-keyword">if</span> (operateType == DataChangeTrack.OperateType.DELETE) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">return</span> result != <span class="hljs-literal">null</span> ? result : joinPoint.getArgs()[<span class="hljs-number">0</span>];
    }

    <span class="hljs-comment">/**
     * ç”Ÿæˆå­—æ®µçº§å˜æ›´è¯¦æƒ…
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">generateChangeDetail</span><span class="hljs-params">(Object beforeData, Object afterData, DataChangeTrack annotation)</span> <span class="hljs-keyword">throws</span> JsonProcessingException {
        <span class="hljs-keyword">if</span> (!annotation.recordDetail()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªè®°å½•è¯¦ç»†å˜æ›´"</span>;
        }

        <span class="hljs-comment">// æ–°å¢/åˆ é™¤æ— éœ€å­—æ®µå¯¹æ¯”</span>
        <span class="hljs-keyword">if</span> (beforeData == <span class="hljs-literal">null</span> || afterData == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æ–°å¢æ•°æ®"</span> + (beforeData == <span class="hljs-literal">null</span> ? <span class="hljs-string">""</span> : <span class="hljs-string">"åˆ é™¤æ•°æ®"</span>);
        }

        <span class="hljs-comment">// è½¬æ¢ä¸ºMapä¾¿äºå¯¹æ¯”</span>
        Map&lt;String, Object&gt; beforeMap = objectMapper.convertValue(beforeData, Map.class);
        Map&lt;String, Object&gt; afterMap = objectMapper.convertValue(afterData, Map.class);

        <span class="hljs-comment">// è¿‡æ»¤å¿½ç•¥å­—æ®µï¼ˆæ³¨è§£é…ç½® + @IgnoreChangeæ ‡è®°ï¼‰</span>
        Set&lt;String&gt; ignoreFields = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;(Arrays.asList(annotation.ignoreFields()));
        ignoreFields.addAll(getIgnoreFieldsFromAnnotation(beforeData.getClass()));

        <span class="hljs-comment">// å¯¹æ¯”å·®å¼‚</span>
        Map&lt;String, Map&lt;String, Object&gt;&gt; changeDetail = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : afterMap.entrySet()) {
            <span class="hljs-type">String</span> <span class="hljs-variable">fieldName</span> <span class="hljs-operator">=</span> entry.getKey();
            <span class="hljs-keyword">if</span> (ignoreFields.contains(fieldName)) {
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-type">Object</span> <span class="hljs-variable">oldVal</span> <span class="hljs-operator">=</span> beforeMap.get(fieldName);
            <span class="hljs-type">Object</span> <span class="hljs-variable">newVal</span> <span class="hljs-operator">=</span> entry.getValue();
            <span class="hljs-comment">// å¿½ç•¥ç©ºå€¼å¯¹æ¯”ï¼ˆå¯è‡ªå®šä¹‰é€»è¾‘ï¼‰</span>
            <span class="hljs-keyword">if</span> (!Objects.equals(oldVal, newVal) &amp;&amp; (oldVal != <span class="hljs-literal">null</span> || newVal != <span class="hljs-literal">null</span>)) {
                Map&lt;String, Object&gt; diff = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
                diff.put(<span class="hljs-string">"old"</span>, desensitizeField(fieldName, oldVal)); <span class="hljs-comment">// è„±æ•å¤„ç†</span>
                diff.put(<span class="hljs-string">"new"</span>, desensitizeField(fieldName, newVal));
                changeDetail.put(fieldName, diff);
            }
        }

        <span class="hljs-keyword">return</span> objectMapper.writeValueAsString(changeDetail);
    }

    <span class="hljs-comment">/**
     * è·å–å®ä½“ç±»ä¸­å¸¦<span class="hljs-doctag">@IgnoreChange</span>æ³¨è§£çš„å­—æ®µ
     */</span>
    <span class="hljs-keyword">private</span> Set&lt;String&gt; <span class="hljs-title function_">getIgnoreFieldsFromAnnotation</span><span class="hljs-params">(Class&lt;?&gt; clazz)</span> {
        <span class="hljs-keyword">return</span> Arrays.stream(clazz.getDeclaredFields())
                .filter(field -&gt; field.isAnnotationPresent(IgnoreChange.class))
                .map(Field::getName)
                .collect(Collectors.toSet());
    }

    <span class="hljs-comment">/**
     * æ•æ„Ÿå­—æ®µè„±æ•ï¼ˆå¯æ‰©å±•ï¼šæ‰‹æœºå·ã€èº«ä»½è¯ã€å¯†ç ç­‰ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> Object <span class="hljs-title function_">desensitizeField</span><span class="hljs-params">(String fieldName, Object value)</span> {
        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-type">String</span> <span class="hljs-variable">val</span> <span class="hljs-operator">=</span> value.toString();
        <span class="hljs-comment">// ç¤ºä¾‹ï¼šæ‰‹æœºå·è„±æ•ï¼ˆ138****1234ï¼‰</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"phone"</span>.equals(fieldName) &amp;&amp; val.length() == <span class="hljs-number">11</span>) {
            <span class="hljs-keyword">return</span> val.replaceAll(<span class="hljs-string">"(\d{3})\d{4}(\d{4})"</span>, <span class="hljs-string">"$1****$2"</span>);
        }
        <span class="hljs-comment">// å¯†ç ç›´æ¥éšè—</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"password"</span>.equals(fieldName) || <span class="hljs-string">"pwd"</span>.equals(fieldName)) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"******"</span>;
        }
        <span class="hljs-comment">// èº«ä»½è¯è„±æ•ï¼ˆ110****1234ï¼‰</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"idCard"</span>.equals(fieldName) &amp;&amp; val.length() == <span class="hljs-number">18</span>) {
            <span class="hljs-keyword">return</span> val.replaceAll(<span class="hljs-string">"(\d{3})\d{11}(\d{4})"</span>, <span class="hljs-string">"$1****$2"</span>);
        }
        <span class="hljs-keyword">return</span> value;
    }

    <span class="hljs-comment">/**
     * æ„å»ºå˜æ›´æ—¥å¿—å®ä½“
     */</span>
    <span class="hljs-keyword">private</span> DataChangeLog <span class="hljs-title function_">buildChangeLog</span><span class="hljs-params">(DataChangeTrack annotation, String businessId, String operator, String operateType, Object beforeData, Object afterData, String changeDetail)</span> <span class="hljs-keyword">throws</span> JsonProcessingException {
        <span class="hljs-type">DataChangeLog</span> <span class="hljs-variable">changeLog</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataChangeLog</span>();
        changeLog.setBusinessType(annotation.businessType());
        changeLog.setBusinessId(businessId);
        changeLog.setOperateType(operateType);
        changeLog.setOperator(operator);
        changeLog.setBeforeData(beforeData == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : objectMapper.writeValueAsString(beforeData));
        changeLog.setAfterData(afterData == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : objectMapper.writeValueAsString(afterData));
        changeLog.setChangeDetail(changeDetail);
        changeLog.setRemark(<span class="hljs-string">"è‡ªåŠ¨è®°å½•æ•°æ®å˜æ›´"</span>);
        <span class="hljs-keyword">return</span> changeLog;
    }
}
</code></pre>
<h4 data-id="heading-12">5. ç¬¬äº”æ­¥ï¼šæ—¥å¿—æœåŠ¡å±‚ï¼ˆå¼‚æ­¥ä¿å­˜ + æ‰¹é‡å¤„ç†ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.RequiredArgsConstructor;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.Async;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.concurrent.CopyOnWriteArrayList;

<span class="hljs-comment">/**
 * å˜æ›´æ—¥å¿—æœåŠ¡ï¼šå¼‚æ­¥ä¿å­˜+æ‰¹é‡å¤„ç†ä¼˜åŒ–
 */</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@RequiredArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataChangeLogService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DataChangeLogRepository changeLogRepository;
    <span class="hljs-comment">// æ‰¹é‡ä¿å­˜ç¼“å­˜ï¼ˆå¯é…ç½®å®¹é‡ï¼Œå¦‚100æ¡æ‰¹é‡æäº¤ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;DataChangeLog&gt; batchCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CopyOnWriteArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">BATCH_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;

    <span class="hljs-comment">/**
     * å¼‚æ­¥ä¿å­˜æ—¥å¿—ï¼ˆä¸é˜»å¡ä¸šåŠ¡çº¿ç¨‹ï¼‰
     */</span>
    <span class="hljs-meta">@Async("changeLogAsyncPool")</span> <span class="hljs-comment">// æŒ‡å®šçº¿ç¨‹æ± </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveAsync</span><span class="hljs-params">(DataChangeLog changeLog)</span> {
        batchCache.add(changeLog);
        <span class="hljs-comment">// è¾¾åˆ°æ‰¹é‡é˜ˆå€¼ï¼Œæäº¤ä¿å­˜</span>
        <span class="hljs-keyword">if</span> (batchCache.size() &gt;= BATCH_SIZE) {
            <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
                <span class="hljs-keyword">if</span> (batchCache.size() &gt;= BATCH_SIZE) {
                    changeLogRepository.saveAll(batchCache);
                    batchCache.clear();
                }
            }
        }
    }

    <span class="hljs-comment">/**
     * å®šæ—¶æ‰¹é‡ä¿å­˜ï¼ˆé˜²æ­¢ç¼“å­˜å †ç§¯ï¼Œå¦‚æ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼‰
     */</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchSave</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (!batchCache.isEmpty()) {
            changeLogRepository.saveAll(batchCache);
            batchCache.clear();
        }
    }

    <span class="hljs-comment">// å…¶ä»–æŸ¥è¯¢æ–¹æ³•ï¼ˆå¦‚ï¼šæŒ‰ä¸šåŠ¡ç±»å‹+æ—¶é—´èŒƒå›´æŸ¥è¯¢æ—¥å¿—ï¼‰</span>
    <span class="hljs-keyword">public</span> List&lt;DataChangeLog&gt; <span class="hljs-title function_">queryByBusinessTypeAndTimeRange</span><span class="hljs-params">(String businessType, String startTime, String endTime)</span> {
        <span class="hljs-comment">// å®ç°æŸ¥è¯¢é€»è¾‘ï¼ˆJPA/MyBatisï¼‰</span>
        <span class="hljs-keyword">return</span> changeLogRepository.findByBusinessTypeAndOperateTimeBetween(businessType, parseTime(startTime), parseTime(endTime));
    }

    <span class="hljs-comment">// æ—¶é—´è§£æå·¥å…·æ–¹æ³•ï¼ˆç•¥ï¼‰</span>
    <span class="hljs-keyword">private</span> LocalDateTime <span class="hljs-title function_">parseTime</span><span class="hljs-params">(String timeStr)</span> {
        <span class="hljs-comment">// å®ç°å­—ç¬¦ä¸²è½¬LocalDateTimeé€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h4 data-id="heading-13">6. ç¬¬å…­æ­¥ï¼šRepository å±‚ï¼ˆJPA/MyBatis é€‚é…ï¼‰</h4>
<h5 data-id="heading-14">JPA å®ç°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;
<span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.Query;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;

<span class="hljs-keyword">import</span> java.time.LocalDateTime;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">DataChangeLogRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;DataChangeLog, Long&gt; {

    <span class="hljs-comment">// æŒ‰ä¸šåŠ¡ç±»å‹+æ—¶é—´èŒƒå›´æŸ¥è¯¢</span>
    List&lt;DataChangeLog&gt; <span class="hljs-title function_">findByBusinessTypeAndOperateTimeBetween</span><span class="hljs-params">(String businessType, LocalDateTime startTime, LocalDateTime endTime)</span>;
}
</code></pre>
<h5 data-id="heading-15">MyBatis é€‚é…ï¼ˆå¯é€‰ï¼‰</h5>
<p>è‹¥é¡¹ç›®ä½¿ç”¨ MyBatisï¼Œæ›¿æ¢ Repository ä¸º Mapper æ¥å£ + XML å³å¯ï¼Œæ ¸å¿ƒæ˜¯å®ç°<code>saveAll</code>å’Œ<code>findByBusinessTypeAndOperateTimeBetween</code>æ–¹æ³•ï¼Œæ— éœ€ä¿®æ”¹å…¶ä»–é€»è¾‘ã€‚</p>
<h4 data-id="heading-16">7. ç¬¬ä¸ƒæ­¥ï¼šé…ç½®ç±»ï¼ˆå¼‚æ­¥çº¿ç¨‹æ±  + å®šæ—¶ä»»åŠ¡ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.EnableAsync;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.EnableScheduling;
<span class="hljs-keyword">import</span> org.springframework.scheduling.annotation.Scheduled;
<span class="hljs-keyword">import</span> org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;

<span class="hljs-keyword">import</span> java.util.concurrent.Executor;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadPoolExecutor;

<span class="hljs-comment">/**
 * å¼‚æ­¥çº¿ç¨‹æ± +å®šæ—¶ä»»åŠ¡é…ç½®
 */</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableAsync</span> <span class="hljs-comment">// å¯ç”¨å¼‚æ­¥</span>
<span class="hljs-meta">@EnableScheduling</span> <span class="hljs-comment">// å¯ç”¨å®šæ—¶ä»»åŠ¡</span>
<span class="hljs-meta">@RequiredArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AsyncScheduledConfig</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DataChangeLogService changeLogService;

    <span class="hljs-comment">/**
     * å˜æ›´æ—¥å¿—å¼‚æ­¥çº¿ç¨‹æ± 
     */</span>
    <span class="hljs-meta">@Bean("changeLogAsyncPool")</span>
    <span class="hljs-keyword">public</span> Executor <span class="hljs-title function_">changeLogAsyncPool</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ThreadPoolTaskExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolTaskExecutor</span>();
        executor.setCorePoolSize(<span class="hljs-number">5</span>); <span class="hljs-comment">// æ ¸å¿ƒçº¿ç¨‹æ•°</span>
        executor.setMaxPoolSize(<span class="hljs-number">10</span>); <span class="hljs-comment">// æœ€å¤§çº¿ç¨‹æ•°</span>
        executor.setQueueCapacity(<span class="hljs-number">1000</span>); <span class="hljs-comment">// é˜Ÿåˆ—å®¹é‡</span>
        executor.setKeepAliveSeconds(<span class="hljs-number">60</span>); <span class="hljs-comment">// ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span>
        executor.setThreadNamePrefix(<span class="hljs-string">"change-log-async-"</span>); <span class="hljs-comment">// çº¿ç¨‹åå‰ç¼€</span>
        <span class="hljs-comment">// æ‹’ç»ç­–ç•¥ï¼šé˜Ÿåˆ—æ»¡æ—¶ï¼Œç”±è°ƒç”¨çº¿ç¨‹æ‰§è¡Œ</span>
        executor.setRejectedExecutionHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.CallerRunsPolicy());
        executor.initialize();
        <span class="hljs-keyword">return</span> executor;
    }

    <span class="hljs-comment">/**
     * å®šæ—¶æ‰¹é‡ä¿å­˜æ—¥å¿—ï¼ˆæ¯5åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼‰
     */</span>
    <span class="hljs-meta">@Scheduled(cron = "0 0/5 * * * ?")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scheduledBatchSaveChangeLog</span><span class="hljs-params">()</span> {
        changeLogService.batchSave();
    }
}
</code></pre>
<h3 data-id="heading-17">ä¸‰ã€ä½¿ç”¨ç¤ºä¾‹ï¼ˆæ— ä¾µå…¥å¼ï¼‰</h3>
<h4 data-id="heading-18">1. å®ä½“ç±»ï¼ˆæ ‡è®°å¿½ç•¥å­—æ®µï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.example.track.annotation.IgnoreChange;
<span class="hljs-keyword">import</span> lombok.Data;

<span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "t_user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id; <span class="hljs-comment">// ä¸šåŠ¡ID</span>

    <span class="hljs-keyword">private</span> String userName; <span class="hljs-comment">// ç”¨æˆ·åï¼ˆéœ€è¿½è¸ªï¼‰</span>

    <span class="hljs-keyword">private</span> Integer age; <span class="hljs-comment">// å¹´é¾„ï¼ˆéœ€è¿½è¸ªï¼‰</span>

    <span class="hljs-meta">@IgnoreChange</span> <span class="hljs-comment">// å¿½ç•¥å¯†ç å­—æ®µ</span>
    <span class="hljs-keyword">private</span> String password;

    <span class="hljs-meta">@IgnoreChange</span> <span class="hljs-comment">// å¿½ç•¥åˆ›å»ºæ—¶é—´</span>
    <span class="hljs-keyword">private</span> LocalDateTime createTime;
}
</code></pre>
<h4 data-id="heading-19">2. ä¸šåŠ¡ Serviceï¼ˆæ·»åŠ æ³¨è§£å³å¯ï¼‰</h4>
<pre><code class="hljs language-**java**" lang="**java**">import com.example.track.annotation.DataChangeTrack;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;

@Service
@RequiredArgsConstructor
public class UserService {

    private final UserRepository userRepository;

    /**
     * æ–°å¢ç”¨æˆ·ï¼šè‡ªåŠ¨è®°å½•CREATEç±»å‹æ—¥å¿—
     */
    @DataChangeTrack(businessType = "USER", businessIdField = "id", operatorField = "createBy")
    public User addUser(User user) {
        return userRepository.save(user);
    }

    /**
     * ä¿®æ”¹ç”¨æˆ·ï¼šè‡ªåŠ¨è®°å½•UPDATEç±»å‹æ—¥å¿—ï¼Œå¿½ç•¥ageå­—æ®µ
     */
    @DataChangeTrack(businessType = "USER", businessIdField = "id", ignoreFields = {"age"})
    public User updateUser(User user) {
        User oldUser = userRepository.findById(user.getId()).orElseThrow(() -&gt; new RuntimeException("ç”¨æˆ·ä¸å­˜åœ¨"));
        oldUser.setUserName(user.getUserName());
        oldUser.setAge(user.getAge());
        return userRepository.save(oldUser);
    }

    /**
     * åˆ é™¤ç”¨æˆ·ï¼šæ‰‹åŠ¨æŒ‡å®šDELETEç±»å‹
     */
    @DataChangeTrack(businessType = "USER", businessType = "id", operateType = DataChangeTrack.OperateType.DELETE)
    public void deleteUser(Long userId) {
        userRepository.deleteById(userId);
    }
}
</code></pre>
<h3 data-id="heading-20">å››ã€æ€§èƒ½ä¼˜åŒ–ä¸æ‰©å±•å»ºè®®</h3>
<h4 data-id="heading-21">1. æ€§èƒ½ä¼˜åŒ–</h4>
<ul>
<li>å¼‚æ­¥ä¿å­˜ï¼šé€šè¿‡<code>@Async</code>å°†æ—¥å¿—è®°å½•ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ï¼Œé¿å…é˜»å¡ä¸šåŠ¡çº¿ç¨‹ã€‚</li>
<li>æ‰¹é‡æäº¤ï¼šè®¾ç½®ç¼“å­˜é˜ˆå€¼ï¼ˆå¦‚ 100 æ¡ï¼‰+ å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚ 5 åˆ†é’Ÿï¼‰ï¼Œå‡å°‘æ•°æ®åº“ IOã€‚</li>
<li>å­—æ®µè¿‡æ»¤ï¼šä»…è¿½è¸ªå¿…è¦å­—æ®µï¼Œå¿½ç•¥å¯†ç ã€åˆ›å»ºæ—¶é—´ç­‰æ— éœ€å˜æ›´çš„å­—æ®µã€‚</li>
<li>ç´¢å¼•ä¼˜åŒ–ï¼šç»™<code>business_type</code>ã€<code>business_id</code>ã€<code>operate_time</code>å­—æ®µå»ºç«‹è”åˆç´¢å¼•ï¼Œæå‡æŸ¥è¯¢æ•ˆç‡ã€‚</li>
</ul>
<h4 data-id="heading-22">2. åŠŸèƒ½æ‰©å±•</h4>
<ul>
<li>æ•æ„Ÿæ•°æ®è„±æ•ï¼šåœ¨<code>desensitizeField</code>æ–¹æ³•ä¸­æ‰©å±•æ›´å¤šå­—æ®µç±»å‹ï¼ˆå¦‚é“¶è¡Œå¡å·ã€é‚®ç®±ï¼‰ã€‚</li>
<li>å¤šæ•°æ®æºæ”¯æŒï¼šè‹¥æ—¥å¿—é‡è¾ƒå¤§ï¼Œå¯å°†å˜æ›´æ—¥å¿—å­˜å‚¨åˆ°å•ç‹¬çš„æ•°æ®åº“ï¼ˆå¦‚ MongoDBï¼‰ï¼Œé¿å…å ç”¨ä¸šåŠ¡åº“èµ„æºã€‚</li>
<li>æ—¥å¿—æŸ¥è¯¢ UIï¼šå¼€å‘æ—¥å¿—æŸ¥è¯¢é¡µé¢ï¼Œæ”¯æŒæŒ‰ä¸šåŠ¡ç±»å‹ã€æ—¶é—´èŒƒå›´ã€æ“ä½œäººç­›é€‰ï¼Œå±•ç¤ºå˜æ›´è¯¦æƒ…ã€‚</li>
<li>å¼‚å¸¸é‡è¯•ï¼šç»™æ‰¹é‡ä¿å­˜æ·»åŠ é‡è¯•æœºåˆ¶ï¼ˆå¦‚ Spring Retryï¼‰ï¼Œé˜²æ­¢å› æ•°æ®åº“ä¸´æ—¶ä¸å¯ç”¨å¯¼è‡´æ—¥å¿—ä¸¢å¤±ã€‚</li>
</ul>
<h3 data-id="heading-23">äº”ã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>ä¸šåŠ¡ ID å¿…é¡»å”¯ä¸€ï¼šç¡®ä¿<code>businessId</code>èƒ½å”¯ä¸€æ ‡è¯†ä¸€æ¡ä¸šåŠ¡æ•°æ®ï¼Œå¦åˆ™æ— æ³•æ­£ç¡®æŸ¥è¯¢åŸå§‹æ•°æ®ã€‚</li>
<li>å®ä½“ç±»åºåˆ—åŒ–ï¼šè¢«è¿½è¸ªçš„å®ä½“ç±»éœ€æ”¯æŒ Jackson åºåˆ—åŒ–ï¼ˆé¿å…å¾ªç¯å¼•ç”¨ï¼Œå¯ä½¿ç”¨<code>@JsonIgnore</code>ï¼‰ã€‚</li>
<li>äº‹åŠ¡ä¸€è‡´æ€§ï¼šæ—¥å¿—è®°å½•ä½¿ç”¨å¼‚æ­¥ + æ‰¹é‡ï¼Œè‹¥ä¸šåŠ¡äº‹åŠ¡å›æ»šï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ— æ•ˆæ—¥å¿—ï¼Œéœ€åœ¨åˆ‡é¢ä¸­åˆ¤æ–­äº‹åŠ¡çŠ¶æ€ï¼ˆå¯é€šè¿‡<code>TransactionSynchronizationManager</code>å®ç°ï¼‰ã€‚</li>
<li>å¤§æ•°æ®é‡åœºæ™¯ï¼šè‹¥æ—¥å‡æ—¥å¿—é‡è¶… 10 ä¸‡ï¼Œå»ºè®®åˆ†è¡¨å­˜å‚¨ï¼ˆæŒ‰æ—¶é—´åˆ†è¡¨ï¼Œå¦‚<code>t_data_change_log_202401</code>ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-24">æ€»ç»“</h3>
<p>æœ¬æ–‡æä¾›çš„æ–¹æ¡ˆé€šè¿‡ SpringBoot + AOP + æ³¨è§£ï¼Œå®ç°äº†<strong>æ— ä¾µå…¥å¼æ•°æ®å˜æ›´è¿½è¸ª</strong>ï¼Œæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ol>
<li>ä½ä¾µå…¥ï¼šæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç ï¼Œä»…é€šè¿‡æ³¨è§£æ ‡è®°å³å¯ç”Ÿæ•ˆã€‚</li>
<li>é«˜çµæ´»ï¼šæ”¯æŒå­—æ®µå¿½ç•¥ã€è„±æ•ã€å¼‚æ­¥ã€æ‰¹é‡ç­‰è‡ªå®šä¹‰é…ç½®ã€‚</li>
<li>æ˜“å¤ç”¨ï¼šä»£ç æ¨¡æ¿å¯ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ï¼Œä»…éœ€ä¿®æ”¹æ•°æ®åº“æŸ¥è¯¢é€»è¾‘å’Œä¸šåŠ¡é€‚é…ã€‚</li>
</ol>
<p>è¯¥æ–¹æ¡ˆé€‚ç”¨äºå¤§å¤šæ•°ä¸­å°è§„æ¨¡ç³»ç»Ÿçš„å˜æ›´è¿½è¸ªéœ€æ±‚ï¼Œè‹¥éœ€åº”å¯¹è¶…å¤§è§„æ¨¡æ—¥å¿—å­˜å‚¨ï¼Œå¯è¿›ä¸€æ­¥ç»“åˆ ELK æ ˆæˆ–æ—¶åºæ•°æ®åº“ä¼˜åŒ–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HashMapçš„åŸç†ä»¥åŠJDK1.8ä¼˜åŒ–å¯¹æ¯”å’ŒConcurrentHashMap]]></title>    <link>https://juejin.cn/post/7596403228129067051</link>    <guid>https://juejin.cn/post/7596403228129067051</guid>    <pubDate>2026-01-18T18:18:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596403228129067051" data-draft-id="7596171325532454953" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HashMapçš„åŸç†ä»¥åŠJDK1.8ä¼˜åŒ–å¯¹æ¯”å’ŒConcurrentHashMap"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-18T18:18:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·088336183793"/> <meta itemprop="url" content="https://juejin.cn/user/1663998038126762"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HashMapçš„åŸç†ä»¥åŠJDK1.8ä¼˜åŒ–å¯¹æ¯”å’ŒConcurrentHashMap
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1663998038126762/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·088336183793
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T18:18:44.000Z" title="Sun Jan 18 2026 18:18:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">HashMap</h2>
<p>HashMapä½œä¸ºjavaä¸­é€‚ç”¨é¢‘ç‡æœ€é«˜çš„é›†åˆä¹‹ä¸€ï¼Œæœ¬æ–‡ç»“åˆJDK1.7ä¸1.8æ¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹HashMapçš„åŸç†</p>
<h3 data-id="heading-1">ä¸€.ç»“æ„</h3>
<p>HashMapçš„æœ¬è´¨æ˜¯åŸºäºå“ˆå¸Œè¡¨çš„é”®å€¼å¯¹æ˜ å°„çš„ä¸€ä¸ªå®¹å™¨ï¼Œkeyä¸ºç´¢å¼•ï¼Œé€šè¿‡å“ˆå¸Œç®—æ³•è½¬åŒ–æ•°ç»„çš„ä¸‹æ ‡ï¼Œå†é€šè¿‡å†²çªå¤„ç†æ¥è§£å†³ä¸‹æ ‡é‡å¤ï¼Œå¸®åŠ©æˆ‘ä»¬å®ç°keyå’Œvalueçš„ä¸€ä¸ªç²¾å‡†ç»‘å®šã€‚è€Œç”¨ä¸€ä¸ªæœ¯è¯­â€œæ¡¶â€æ¥æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠHashMapçš„åº•å±‚æ•°ç»„æ•°ç»„çœ‹åšä¸€ä¸ªæ•°ç»„æ¡¶ï¼Œæ¯ä¸€ä¸ªä¸‹æ ‡å¯¹åº”ä¸€ä¸ªç‹¬ç«‹çš„æ¡¶ï¼Œé€šè¿‡è®¡ç®—åå°†é”®å€¼å¯¹è½å…¥ç›¸åº”çš„æ¡¶ä¸­å­˜å‚¨ã€‚</p>
<p>ç»“åˆJDK1.7çš„æºç å¯ä»¥çœ‹å‡ºï¼Œä»–çš„å®ç°ä¾èµ–äºEntryæ•°ç»„+å•å‘é“¾è¡¨ï¼Œæ•°ç»„ç”¨æ¥å®šä½é“¾è¡¨ç”¨æ¥å¤„ç†å“ˆå¸Œå†²çª</p>
<pre><code class="hljs language-js" lang="js">     <span class="hljs-comment">// JDK1.7 Entryæ•°ç»„ä½œä¸ºåº•å±‚å­˜å‚¨ï¼ˆæ¡¶æ•°ç»„ï¼‰</span>
    transient <span class="hljs-title class_">Entry</span>&lt;K,V&gt;[] table;

    <span class="hljs-comment">// æ ¸å¿ƒå†…éƒ¨ç±»Entryç”¨æ¥å°è£…é”®å€¼å¯¹ä¸é“¾è¡¨æŒ‡é’ˆ</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Entry</span>&lt;K,V&gt; implements <span class="hljs-title class_">Map</span>.<span class="hljs-property">Entry</span>&lt;K,V&gt; {
    final K key;
    V value;
    <span class="hljs-title class_">Entry</span>&lt;K,V&gt; next; <span class="hljs-comment">// ä»…æ”¯æŒå•å‘é“¾è¡¨ï¼ŒæŒ‡å‘åç»­å†²çªèŠ‚ç‚¹</span>
    int hash;

    <span class="hljs-title class_">Entry</span>(int h, K k, V v, <span class="hljs-title class_">Entry</span>&lt;K,V&gt; n) {
        value = v;
        next = n; <span class="hljs-comment">// å¤´æ’æ³•æ–°èŠ‚ç‚¹å…ˆæŒ‡å‘åŸé“¾è¡¨å¤´èŠ‚ç‚¹</span>
        key = k;
        hash = h;
        }
     }
</code></pre>
<p>è€ŒJDK1.8å¼•å…¥äº†çº¢é»‘æ ‘ï¼Œä»æºç æ¥çœ‹ï¼Œå½“é“¾è¡¨é•¿åº¦è¾¾åˆ°é˜ˆå€¼ï¼ˆé»˜è®¤8ï¼‰ä¸”æ•°ç»„é•¿åº¦â‰¥64æ—¶ï¼Œé“¾è¡¨è‡ªåŠ¨è½¬ä¸ºçº¢é»‘æ ‘ï¼›å½“çº¢é»‘æ ‘èŠ‚ç‚¹æ•°â‰¤6æ—¶ï¼Œåå‘è½¬ä¸ºé“¾è¡¨ã€‚</p>
<pre><code class="hljs language-js" lang="js">
    <span class="hljs-comment">// åˆ‡æ¢æ ¸å¿ƒé˜ˆå€¼å®šä¹‰</span>
    <span class="hljs-keyword">static</span> final int <span class="hljs-variable constant_">TREEIFY_THRESHOLD</span> = <span class="hljs-number">8</span>;    <span class="hljs-comment">// é“¾è¡¨è½¬çº¢é»‘æ ‘é˜ˆå€¼ï¼šé•¿åº¦â‰¥8è§¦å‘åˆ¤æ–­</span>
    <span class="hljs-keyword">static</span> final int <span class="hljs-variable constant_">UNTREEIFY_THRESHOLD</span> = <span class="hljs-number">6</span>;  <span class="hljs-comment">// çº¢é»‘æ ‘è½¬é“¾è¡¨é˜ˆå€¼ï¼šèŠ‚ç‚¹æ•°â‰¤6è§¦å‘è½¬æ¢</span>
    <span class="hljs-keyword">static</span> final int <span class="hljs-variable constant_">MIN_TREEIFY_CAPACITY</span> = <span class="hljs-number">64</span>;<span class="hljs-comment">// æ ‘åŒ–æœ€å°æ•°ç»„å®¹é‡ï¼šé¿å…å°å®¹é‡æ•°ç»„æ ‘åŒ–æµªè´¹èµ„æº</span>

    <span class="hljs-comment">// é“¾è¡¨è½¬çº¢é»‘æ ‘ï¼ˆæ ‘åŒ–ï¼‰å®ç°</span>
    <span class="hljs-comment">// è§¦å‘å…¥å£ï¼šputValæ–¹æ³•ä¸­åˆ¤æ–­é“¾è¡¨é•¿åº¦ï¼Œè°ƒç”¨treeifyBinå°è¯•æ ‘åŒ–</span>
    final V <span class="hljs-title function_">putVal</span>(<span class="hljs-params">int hash, K key, V value, boolean onlyIfAbsent, boolean evict</span>) {
        <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] tab; <span class="hljs-title class_">Node</span>&lt;K,V&gt; p; int n, i;
        <span class="hljs-keyword">if</span> ((tab = table) == <span class="hljs-literal">null</span> || (n = tab.<span class="hljs-property">length</span>) == <span class="hljs-number">0</span>)
            n = (tab = <span class="hljs-title function_">resize</span>()).<span class="hljs-property">length</span>;
        <span class="hljs-keyword">if</span> ((p = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) == <span class="hljs-literal">null</span>) {
            tab[i] = <span class="hljs-title function_">newNode</span>(hash, key, value, <span class="hljs-literal">null</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-title class_">Node</span>&lt;K,V&gt; e; K k;
            <span class="hljs-keyword">if</span> (p.<span class="hljs-property">hash</span> == hash &amp;&amp; ((k = p.<span class="hljs-property">key</span>) == key || (key != <span class="hljs-literal">null</span> &amp;&amp; key.<span class="hljs-title function_">equals</span>(k))))
                e = p;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">TreeNode</span>)
                e = ((<span class="hljs-title class_">TreeNode</span>&lt;K,V&gt;)p).<span class="hljs-title function_">putTreeVal</span>(<span class="hljs-variable language_">this</span>, tab, hash, key, value);
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">for</span> (int binCount = <span class="hljs-number">0</span>; ; ++binCount) {
                    <span class="hljs-keyword">if</span> ((e = p.<span class="hljs-property">next</span>) == <span class="hljs-literal">null</span>) {
                        p.<span class="hljs-property">next</span> = <span class="hljs-title function_">newNode</span>(hash, key, value, <span class="hljs-literal">null</span>);
                        <span class="hljs-comment">// é“¾è¡¨é•¿åº¦è¾¾åˆ°é˜ˆå€¼ï¼Œè§¦å‘æ ‘åŒ–</span>
                        <span class="hljs-keyword">if</span> (binCount &gt;= <span class="hljs-variable constant_">TREEIFY_THRESHOLD</span> - <span class="hljs-number">1</span>)
                            <span class="hljs-title function_">treeifyBin</span>(tab, hash);
                        <span class="hljs-keyword">break</span>;
                    }
                    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">hash</span> == hash &amp;&amp; ((k = e.<span class="hljs-property">key</span>) == key || (key != <span class="hljs-literal">null</span> &amp;&amp; key.<span class="hljs-title function_">equals</span>(k))))
                        <span class="hljs-keyword">break</span>;
                    p = e;
                }
            }
            <span class="hljs-comment">// è¿™é‡Œçœç•¥ä¸€ä¸‹å€¼è¦†ç›–å’Œæ‰©å®¹åˆ¤æ–­é€»è¾‘</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-comment">// æ ‘åŒ–æ ¸å¿ƒæ ¡éªŒæ•°ç»„å®¹é‡ç„¶åå®Œæˆé“¾è¡¨èŠ‚ç‚¹è½¬çº¢é»‘æ ‘å¹¶å¹³è¡¡</span>
    final <span class="hljs-keyword">void</span> <span class="hljs-title function_">treeifyBin</span>(<span class="hljs-params">Node&lt;K,V&gt;[] tab, int hash</span>) {
        int n, index; <span class="hljs-title class_">Node</span>&lt;K,V&gt; e;
        <span class="hljs-comment">// æ•°ç»„é•¿åº¦ä¸è¶³64æ—¶ä¼˜å…ˆæ‰©å®¹ï¼Œè€Œéæ ‘åŒ–</span>
        <span class="hljs-keyword">if</span> (tab == <span class="hljs-literal">null</span> || (n = tab.<span class="hljs-property">length</span>) &lt; <span class="hljs-variable constant_">MIN_TREEIFY_CAPACITY</span>)
            <span class="hljs-title function_">resize</span>();
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((e = tab[index = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-literal">null</span>) {
            <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; hd = <span class="hljs-literal">null</span>, tl = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">do</span> {
                <span class="hljs-comment">// æ™®é€šNodeè½¬ä¸ºçº¢é»‘æ ‘TreeNode</span>
                <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; p = <span class="hljs-title function_">replacementTreeNode</span>(e, <span class="hljs-literal">null</span>);
                <span class="hljs-keyword">if</span> (tl == <span class="hljs-literal">null</span>)
                    hd = p;
                <span class="hljs-keyword">else</span> {
                    p.<span class="hljs-property">prev</span> = tl;
                    tl.<span class="hljs-property">next</span> = p;
                }
                tl = p;
            } <span class="hljs-keyword">while</span> ((e = e.<span class="hljs-property">next</span>) != <span class="hljs-literal">null</span>);
            <span class="hljs-comment">// å°†çº¢é»‘æ ‘æŒ‚è½½åˆ°å¯¹åº”æ¡¶ï¼Œæ‰§è¡Œå¹³è¡¡è°ƒæ•´</span>
            <span class="hljs-keyword">if</span> ((tab[index] = hd) != <span class="hljs-literal">null</span>)
                hd.<span class="hljs-title function_">treeify</span>(tab);
        }
    }

    <span class="hljs-comment">// é€šè¿‡replacementTreeNodeå°†æ™®é€šèŠ‚ç‚¹nodeè½¬æ¢æˆæ ‘èŠ‚ç‚¹TreeNode</span>
    <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; <span class="hljs-title function_">replacementTreeNode</span>(<span class="hljs-params">Node&amp;lt;K,V&amp;gt; p, Node&amp;lt;K,V&amp;gt; next</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>&lt;&gt;(p.<span class="hljs-property">hash</span>, p.<span class="hljs-property">key</span>, p.<span class="hljs-property">value</span>, next);
    }

    <span class="hljs-comment">// çº¢é»‘æ ‘è½¬é“¾å¿ƒå®ç°</span>
    final <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeTreeNode</span>(<span class="hljs-params">Node&lt;K,V&gt;[] tab, boolean movable</span>) {
        int n;
        <span class="hljs-keyword">if</span> (tab == <span class="hljs-literal">null</span> || (n = tab.<span class="hljs-property">length</span>) == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        int index = (n - <span class="hljs-number">1</span>) &amp; hash;
        <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; first = (<span class="hljs-title class_">TreeNode</span>&lt;K,V&gt;)tab[index], root = first, rl;
        <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; succ = (<span class="hljs-title class_">TreeNode</span>&lt;K,V&gt;)next, pred = prev;
        <span class="hljs-comment">// èŠ‚ç‚¹æ•°â‰¤6æ—¶è§¦å‘åæ ‘åŒ–ï¼ˆè¿™é‡Œçœç•¥ä¸€ä¸‹åˆ é™¤é€»è¾‘ï¼‰</span>
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span> || root.<span class="hljs-property">right</span> == <span class="hljs-literal">null</span> ||
            (rl = root.<span class="hljs-property">left</span>) == <span class="hljs-literal">null</span> || rl.<span class="hljs-property">left</span> == <span class="hljs-literal">null</span>) {
            tab[index] = first.<span class="hljs-title function_">untreeify</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// æ‰§è¡Œåæ ‘åŒ–</span>
            <span class="hljs-keyword">return</span>;
        }
       
    }

    <span class="hljs-comment">// TreeNodeè½¬ä¸ºæ™®é€šNodeï¼Œæ„å»ºå•å‘é“¾è¡¨</span>
    <span class="hljs-title class_">Node</span>&lt;K,V&gt; <span class="hljs-title function_">untreeify</span>(<span class="hljs-params">HashMap&lt;K,V&gt; map</span>) {
        <span class="hljs-title class_">Node</span>&lt;K,V&gt; hd = <span class="hljs-literal">null</span>, tl = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-title class_">Node</span>&lt;K,V&gt; q = <span class="hljs-variable language_">this</span>; q != <span class="hljs-literal">null</span>; q = q.<span class="hljs-property">next</span>) {
            <span class="hljs-title class_">Node</span>&lt;K,V&gt; p = map.<span class="hljs-title function_">newNode</span>(q.<span class="hljs-property">hash</span>, q.<span class="hljs-property">key</span>, q.<span class="hljs-property">value</span>, <span class="hljs-literal">null</span>);
            <span class="hljs-keyword">if</span> (tl == <span class="hljs-literal">null</span>)
                hd = p;
            <span class="hljs-keyword">else</span>
                tl.<span class="hljs-property">next</span> = p;
            tl = p;
        }
        <span class="hljs-keyword">return</span> hd;
    }

    <span class="hljs-comment">// æœ€åçº¢é»‘æ ‘èŠ‚ç‚¹å®šä¹‰</span>
    <span class="hljs-keyword">static</span> final <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">LinkedHashMap</span>.<span class="hljs-property">Entry</span>&lt;K,V&gt; {
        <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; parent; <span class="hljs-comment">// çº¢é»‘æ ‘çˆ¶èŠ‚ç‚¹</span>
        <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; left;   <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹</span>
        <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; right;  <span class="hljs-comment">// å³å­èŠ‚ç‚¹</span>
        <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; prev;   <span class="hljs-comment">// é“¾è¡¨å‰é©±èŠ‚ç‚¹</span>
        boolean red;          <span class="hljs-comment">// çº¢é»‘æ ‘é¢œè‰²æ ‡è®°å¹³è¡¡è°ƒæ•´</span>
    }
}
</code></pre>
<p>è€Œçº¢é»‘æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œé€šè¿‡ä¸¥æ ¼çš„é¢œè‰²è§„åˆ™ä¿è¯æ ‘çš„é«˜åº¦å§‹ç»ˆç»´æŒåœ¨O(log n)çº§åˆ«ï¼Œæ‰€ä»¥å®ƒçš„æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ“ä½œæ—¶é—´å¤æ‚åº¦å‡ä¸ºO(log n)ï¼Œä¸”æ€§èƒ½ç¨³å®šä¸éšæ•°æ®é‡æ³¢åŠ¨ï¼Œè€Œé“¾è¡¨é‡åˆ°å¤§é‡keyå“ˆå¸Œå†²çªæ—¶ï¼ŒæŸä¸€æ¡¶å†…çš„é“¾è¡¨ä¼šæŒç»­å˜é•¿ï¼Œä¸€æ‰¹keyç»å“ˆå¸Œè®¡ç®—åè½å…¥åŒä¸€æ¡¶ï¼Œé“¾è¡¨é•¿åº¦è¾¾åˆ°å‡ åç”šè‡³ä¸Šç™¾ï¼Œæ­¤æ—¶æŸ¥è¯¢è¯¥æ¡¶å†…å…ƒç´ éœ€éå†æ•´ä¸ªé“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦ä»å¹³å‡O(1)é€€åŒ–è‡³O(n)ï¼Œå¯¼è‡´æ¥å£å“åº”è¶…æ—¶å’ŒæœåŠ¡æ€§èƒ½ç“¶é¢ˆçš„é—®é¢˜ã€‚ä½†æ˜¯åˆ›å»ºçº¢é»‘æ ‘çš„å¼€é”€æˆæœ¬å¤§äºé“¾è¡¨ï¼Œåœ¨ä½å†²çªåœºæ™¯ï¼ˆæ—¢é“¾è¡¨é•¿åº¦å°äº8åä¹‹åˆ™ä¸ºé«˜ï¼‰ï¼Œç”¨é“¾è¡¨æ¥å¤„ç†æ˜æ˜¾æ˜¯ä¼˜äºçº¢é»‘æ ‘çš„ã€‚æ‰€ä»¥JDK1.8ä¸­HashMapä¸ä½†å¼•å…¥äº†çº¢é»‘æ ‘è¿˜ä¿ç•™äº†é“¾è¡¨è¿›è¡ŒåŠ¨æ€åˆ‡æ¢ï¼Œä¸ä½†è§£å†³äº†JDK1.7åœ¨é¢ä¸´å¤§é‡æ•°æ®çš„æç«¯æƒ…å†µä¸‹çš„æ€§èƒ½å’Œç¨³å®šæ€§çŸ­æ¿ï¼ŒåŒæ—¶è¿˜èƒ½è¿›è¡Œç›¸åº”çš„èŠ‚çœå¼€é”€ã€‚</p>
<h3 data-id="heading-2">äºŒ.æ‰©å®¹æœºåˆ¶</h3>
<p>æ‰©å®¹ï¼ˆresizeï¼‰æ˜¯HashMapç»´æŒå“ˆå¸Œåˆ†å¸ƒå‡åŒ€æ€§ã€é¿å…å†²çªåŠ å‰§çš„æ ¸å¿ƒæœºåˆ¶ã€‚å…¶æœ¬è´¨æ˜¯æƒ³é€šè¿‡å°†æ¡¶æ•°ç»„å®¹é‡ç¿»å€ï¼ˆå§‹ç»ˆä¸º2çš„å¹‚ï¼‰ï¼Œä»è€Œå‡å°‘å•ä¸ªæ¡¶çš„å…ƒç´ æ•°é‡æå‡æ“ä½œæ•ˆç‡ã€‚</p>
<p>åœ¨JDK1.7æ—¶æ‰©å®¹é€»è¾‘æ‹†åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹æ–¹æ³•ï¼ŒèŒè´£åˆ†ç¦»ä½†å­˜åœ¨å†—ä½™å¼€é”€ï¼š</p>
<ul>
<li><code>resize()</code>ï¼šä»…è´Ÿè´£åˆå§‹åŒ–æˆ–æ‰©å®¹æ¡¶æ•°ç»„åˆ†é…æ–°å®¹é‡å’Œæ–°é˜ˆå€¼ä¸å¤„ç†èŠ‚ç‚¹è¿ç§»</li>
<li><code>transfer()</code>ï¼šå•ç‹¬è´Ÿè´£å°†æ—§æ•°ç»„ä¸­çš„èŠ‚ç‚¹è¿ç§»åˆ°æ–°æ•°ç»„</li>
</ul>
<pre><code class="hljs language-js" lang="js">
    <span class="hljs-comment">// JDK1.7 ä»…æ‰©å®¹æ•°ç»„ï¼Œä¸è¿ç§»èŠ‚ç‚¹</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">resize</span>(<span class="hljs-params">int newCapacity</span>) {
        <span class="hljs-title class_">Entry</span>[] oldTable = table;
        int oldCapacity = oldTable.<span class="hljs-property">length</span>;
        <span class="hljs-comment">// çœç•¥å®¹é‡æ ¡éªŒã€é˜ˆå€¼è®¡ç®—é€»è¾‘</span>
        <span class="hljs-title class_">Entry</span>[] newTable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Entry</span>[newCapacity];
        table = newTable;
        <span class="hljs-keyword">if</span> (oldTable != <span class="hljs-literal">null</span>) {
            <span class="hljs-title function_">transfer</span>(newTable, <span class="hljs-title function_">initHashSeedAsNeeded</span>(newCapacity)); <span class="hljs-comment">// è°ƒç”¨transferè¿ç§»èŠ‚ç‚¹</span>
        }
    }

    <span class="hljs-comment">// JDK1.7 å•ç‹¬çš„èŠ‚ç‚¹è¿ç§»æ–¹æ³•</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span>(<span class="hljs-params">Entry[] newTable, boolean rehash</span>) {
        int newCapacity = newTable.<span class="hljs-property">length</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-title class_">Entry</span>&lt;K,V&gt; e : table) { <span class="hljs-comment">// éå†æ—§æ¡¶æ•°ç»„</span>
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">null</span> != e) {
                <span class="hljs-title class_">Entry</span>&lt;K,V&gt; next = e.<span class="hljs-property">next</span>;
                <span class="hljs-keyword">if</span> (rehash) { <span class="hljs-comment">// æŒ‰éœ€é‡ç®—å“ˆå¸Œ</span>
                    e.<span class="hljs-property">hash</span> = <span class="hljs-literal">null</span> == e.<span class="hljs-property">key</span> ? <span class="hljs-number">0</span> : <span class="hljs-title function_">hash</span>(e.<span class="hljs-property">key</span>);
                }
                int i = <span class="hljs-title function_">indexFor</span>(e.<span class="hljs-property">hash</span>, newCapacity); <span class="hljs-comment">// è®¡ç®—æ–°ä¸‹æ ‡</span>
                e.<span class="hljs-property">next</span> = newTable[i]; <span class="hljs-comment">// å¤´æ’æ³•è¿ç§»</span>
                newTable[i] = e;
                e = next;
            }
        }
    }
</code></pre>
<p>è€ŒJDK1.8å–æ¶ˆ<code>transfer()</code>æ–¹æ³•ï¼Œå°†æ•°ç»„æ‰©å®¹ã€é˜ˆå€¼è®¡ç®—ã€èŠ‚ç‚¹è¿ç§»æ•´åˆè¿›<code>resize()</code>ï¼Œå½¢æˆä¸€ä¸ªå•ä¸€å…¥å£æ¥é—­ç¯æ‰§è¡Œçš„é€»è¾‘ï¼Œä»è€Œå‡å°‘æ–¹æ³•è°ƒç”¨å¼€é”€ã€‚</p>
<pre><code class="hljs language-js" lang="js">
     <span class="hljs-comment">// JDK1.8 resizeåŒ…å«â€œæ‰©å®¹+é˜ˆå€¼è®¡ç®—+èŠ‚ç‚¹è¿ç§»â€</span>
    final <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] <span class="hljs-title function_">resize</span>(<span class="hljs-params"/>) {
      <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] oldTab = table;
     <span class="hljs-comment">// æ—§æ•°ç»„å®¹é‡è‹¥æœªåˆå§‹åŒ–åˆ™ä¸º0</span>
        int oldCap = (oldTab == <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : oldTab.<span class="hljs-property">length</span>;
      <span class="hljs-comment">// æ—§é˜ˆå€¼æ‰©å®¹è§¦å‘æ¡ä»¶</span>
         int oldThr = threshold;
         int newCap, newThr = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// 1è®¡ç®—æ–°å®¹é‡å’Œæ–°é˜ˆå€¼ï¼ˆé’ˆå¯¹å·²åˆå§‹åŒ–çš„æ•°ç»„ï¼‰</span>
    <span class="hljs-keyword">if</span> (oldCap &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// è‹¥æ—§å®¹é‡å·²è¾¾æœ€å¤§å€¼ï¼Œé˜ˆå€¼è®¾ä¸ºInteger.MAX_VALUEï¼Œä¸å†æ‰©å®¹</span>
        <span class="hljs-keyword">if</span> (oldCap &gt;= <span class="hljs-variable constant_">MAXIMUM_CAPACITY</span>) {
            threshold = <span class="hljs-title class_">Integer</span>.<span class="hljs-property">MAX_VALUE</span>;
            <span class="hljs-keyword">return</span> oldTab;
        }
        <span class="hljs-comment">// å®¹é‡ç¿»å€ï¼ˆå·¦ç§»1ä½ï¼‰ï¼Œé˜ˆå€¼åŒæ­¥ç¿»å€ï¼Œä¸”ä¸è¶…è¿‡æœ€å¤§å®¹é‡</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((newCap = oldCap &lt;&lt; <span class="hljs-number">1</span>) &lt; <span class="hljs-variable constant_">MAXIMUM_CAPACITY</span> &amp;&amp; oldCap &gt;= <span class="hljs-variable constant_">DEFAULT_INITIAL_CAPACITY</span>) {
            newThr = oldThr &lt;&lt; <span class="hljs-number">1</span>;
        }
    }
    <span class="hljs-comment">// å¯¹åˆå§‹åŒ–æ—¶æŒ‡å®šäº†é˜ˆå€¼çš„åœºæ™¯ï¼ˆnew HashMap(int initialCapacity)ï¼‰</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oldThr &gt; <span class="hljs-number">0</span>) {
        newCap = oldThr;
    }
    <span class="hljs-comment">// æ— å‚æ„é€ åˆå§‹åŒ–ï¼ˆé»˜è®¤å®¹é‡16ï¼Œé»˜è®¤é˜ˆå€¼16*0.75=12ï¼‰</span>
    <span class="hljs-keyword">else</span> {
        newCap = <span class="hljs-variable constant_">DEFAULT_INITIAL_CAPACITY</span>;
        newThr = (int)(<span class="hljs-variable constant_">DEFAULT_LOAD_FACTOR</span> * <span class="hljs-variable constant_">DEFAULT_INITIAL_CAPACITY</span>);
    }

    <span class="hljs-comment">// æ ¡æ­£æ–°é˜ˆå€¼ï¼ˆå¯¹åˆå§‹åŒ–æŒ‡å®šäº†é˜€å€¼åœºæ™¯ï¼Œè®¡ç®—é˜ˆå€¼=æ–°å®¹é‡Ã—è´Ÿè½½å› å­ï¼‰</span>
    <span class="hljs-keyword">if</span> (newThr == <span class="hljs-number">0</span>) {
        float ft = (float)newCap * loadFactor;
        newThr = (newCap &lt; <span class="hljs-variable constant_">MAXIMUM_CAPACITY</span> &amp;&amp; ft &lt; (float)<span class="hljs-variable constant_">MAXIMUM_CAPACITY</span>) ?
                (int)ft : <span class="hljs-title class_">Integer</span>.<span class="hljs-property">MAX_VALUE</span>;
    }
    <span class="hljs-comment">// æ›´æ–°å…¨å±€é˜ˆå€¼</span>
    threshold = newThr;

    <span class="hljs-comment">// åˆ›å»ºæ–°æ¡¶æ•°ç»„ï¼Œæ‰§è¡ŒèŠ‚ç‚¹è¿ç§»</span>
    @<span class="hljs-title class_">SuppressWarnings</span>({<span class="hljs-string">"rawtypes"</span>,<span class="hljs-string">"unchecked"</span>})
    <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] newTab = (<span class="hljs-title class_">Node</span>&lt;K,V&gt;[])<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>[newCap];
    table = newTab;

    <span class="hljs-comment">// è¿ç§»æ—§æ•°ç»„èŠ‚ç‚¹åˆ°æ–°æ•°ç»„</span>
    <span class="hljs-keyword">if</span> (oldTab != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">for</span> (int j = <span class="hljs-number">0</span>; j &lt; oldCap; ++j) {
            <span class="hljs-title class_">Node</span>&lt;K,V&gt; e;
            <span class="hljs-keyword">if</span> ((e = oldTab[j]) != <span class="hljs-literal">null</span>) {
                oldTab[j] = <span class="hljs-literal">null</span>;
                <span class="hljs-comment">// 1.æ¡¶å†…ä»…å•ä¸ªèŠ‚ç‚¹ï¼Œç›´æ¥è®¡ç®—æ–°ä¸‹æ ‡æŒ‚è½½</span>
                <span class="hljs-keyword">if</span> (e.<span class="hljs-property">next</span> == <span class="hljs-literal">null</span>) {
                    newTab[e.<span class="hljs-property">hash</span> &amp; (newCap - <span class="hljs-number">1</span>)] = e;
                }
                <span class="hljs-comment">// 2.æ¡¶å†…æ˜¯çº¢é»‘æ ‘ï¼Œæ‹†åˆ†åè¿ç§»</span>
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">TreeNode</span>) {
                    ((<span class="hljs-title class_">TreeNode</span>&lt;K,V&gt;)e).<span class="hljs-title function_">split</span>(<span class="hljs-variable language_">this</span>, newTab, j, oldCap);
                }
                <span class="hljs-comment">// 3.æ¡¶å†…æ˜¯é“¾è¡¨ï¼Œå°¾æ’æ³•è¿ç§»+ä½è¿ç®—å®šä½æ–°ä½ç½®</span>
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-title class_">Node</span>&lt;K,V&gt; loHead = <span class="hljs-literal">null</span>, loTail = <span class="hljs-literal">null</span>; <span class="hljs-comment">// åŸä¸‹æ ‡é“¾è¡¨</span>
                    <span class="hljs-title class_">Node</span>&lt;K,V&gt; hiHead = <span class="hljs-literal">null</span>, hiTail = <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ–°ä¸‹æ ‡ï¼ˆj+oldCapï¼‰é“¾è¡¨</span>
                    <span class="hljs-title class_">Node</span>&lt;K,V&gt; next;
                    <span class="hljs-keyword">do</span> {
                        next = e.<span class="hljs-property">next</span>;
                        <span class="hljs-comment">// é€šè¿‡ä½è¿ç®—åˆ¤æ–­æ–°ä½ç½®ï¼Œæ— éœ€é‡ç®—å“ˆå¸Œ</span>
                        <span class="hljs-keyword">if</span> ((e.<span class="hljs-property">hash</span> &amp; oldCap) == <span class="hljs-number">0</span>) {
                            <span class="hljs-keyword">if</span> (loTail == <span class="hljs-literal">null</span>) loHead = e;
                            <span class="hljs-keyword">else</span> loTail.<span class="hljs-property">next</span> = e; <span class="hljs-comment">// å°¾æ’æ³•ä¿æŒé¡ºåº</span>
                            loTail = e;
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-keyword">if</span> (hiTail == <span class="hljs-literal">null</span>) hiHead = e;
                            <span class="hljs-keyword">else</span> hiTail.<span class="hljs-property">next</span> = e;
                            hiTail = e;
                        }
                    } <span class="hljs-keyword">while</span> ((e = next) != <span class="hljs-literal">null</span>);
                    <span class="hljs-comment">// æŒ‚è½½é“¾è¡¨åˆ°æ–°æ¡¶</span>
                    <span class="hljs-keyword">if</span> (loTail != <span class="hljs-literal">null</span>) {
                        loTail.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
                        newTab[j] = loHead;
                    }
                    <span class="hljs-keyword">if</span> (hiTail != <span class="hljs-literal">null</span>) {
                        hiTail.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
                        newTab[j + oldCap] = hiHead;
                    }
                }
            }
        }
    }
    <span class="hljs-keyword">return</span> newTab;
    }
</code></pre>
<h3 data-id="heading-3">ä¸‰.èŠ‚ç‚¹è¿ç§»</h3>
<p>ä»ä¸Šé¢çš„æºç ä¸­æˆ‘ä»¬çŸ¥é“JDK1.7é‡‡ç”¨çš„æ˜¯å¤´æ’æ³•ï¼ˆè¿ç§»æ—¶æ–°èŠ‚ç‚¹å§‹ç»ˆæ’å…¥æ–°æ¡¶é“¾è¡¨å¤´éƒ¨ï¼‰æ¥è¿ç§»èŠ‚ç‚¹ï¼Œè€Œè¿™ç§æ–¹æ³•æˆ‘ä»¬ä¹Ÿå¯ä»¥çŸ¥é“å®ƒè¿ç§»æ—¶å¯èƒ½éœ€é‡ç®—æ‰€æœ‰èŠ‚ç‚¹å“ˆå¸Œå€¼ï¼Œè¿™æ ·ä¼šè®©CPUçš„æ¶ˆè€—å¢åŠ ç­‰é—®é¢˜ã€‚è€ŒJDK1.8é€šè¿‡<code>loTail</code>/<code>hiTail</code>è®°å½•é“¾è¡¨å°¾éƒ¨ï¼ŒæŒ‰åŸé“¾è¡¨é¡ºåºæ’å…¥æ–°æ¡¶ï¼Œèƒ½é¿å…é“¾è¡¨åè½¬å’Œå¹¶å‘æˆç¯ã€‚åŒæ—¶æ— éœ€é‡ç®—å“ˆå¸Œå€¼ï¼Œé€šè¿‡<code>e.hash &amp; oldCap</code>å°±å¯ä»¥å¿«é€Ÿåˆ¤æ–­èŠ‚ç‚¹æ–°ä½ç½®è®©HashMapå˜çš„æ›´åŠ é«˜æ•ˆå®‰å…¨ã€‚</p>
<h3 data-id="heading-4">å››.æ€»ç»“HashMapJDK 1.7 åˆ° JDK 1.8 çš„å˜åŒ–</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70771f19b92a4f5d98aee20b25f9522a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDg4MzM2MTgzNzkz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769365317&amp;x-signature=gqooET2QUjYywg2%2BqqUU5ALp2Og%3D" alt="1.19.png" loading="lazy"/></p>
<h3 data-id="heading-5">æ‰©å±•ConcurrentHashMap</h3>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°HashMapä¸ç®¡æ˜¯1.7è¿˜æ˜¯1.8å…¶éƒ½ä¸æ”¯æŒå¹¶å‘æ“ä½œï¼Œå› ä¸ºHashMapçš„è®¾è®¡åœ¨äºå•çº¿ç¨‹é«˜æ€§èƒ½çš„ç‰¹ç‚¹ï¼Œå³ä½¿åœ¨JDK1.8ä¸­ç”±äºHashMapçš„putï¼Œresizeç­‰éƒ½åŒ…å«å¤šæ­¥éåŸå­æ“ä½œï¼Œè€Œåˆæ²¡å¯¹å…¶è¿›è¡ŒåŠ é”ï¼Œæ‰€ä»¥åœ¨å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œçš„æ—¶ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚è€Œå¦‚æœéœ€è¦å¹¶å‘å®‰å…¨çš„å“ˆå¸Œè¡¨ï¼ŒJAVAä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†æ–¹æ³•ConcurrentHashMapã€‚å®ƒçš„æ ¸å¿ƒè®¾è®¡æ€è·¯ï¼Œæ˜¯åœ¨ä¿ç•™å“ˆå¸Œè¡¨é«˜æ€§èƒ½ç‰¹æ€§çš„å‰æä¸‹ï¼Œé€šè¿‡ç²¾ç»†åŒ–å¯¹é”æ§åˆ¶åŠ åŸå­æ“ä½œå’Œå¯è§æ€§ä¿éšœï¼Œé’ˆå¯¹æ€§è§£å†³ HashMap çš„å¹¶å‘ç¼ºé™·ã€‚è€Œåœ¨æ­¤ä¸»è¦ä»‹ç»1.8ç‰ˆæœ¬</p>
<ul>
<li>1.æˆ‘ä»¬çœ‹åº•å±‚æ ¸å¿ƒç»“æ„çš„æºç å®šä¹‰åŠé…å¥—å·¥å…·æ–¹æ³•</li>
</ul>
<pre><code class="hljs language-js" lang="js">
<span class="hljs-comment">// volatileä½œä¸ºæ ¸å¿ƒå­˜å‚¨æ•°ç»„ä¿®é¥°ç¡®ä¿çº¿ç¨‹é—´å¯è§æ€§ï¼Œtransient é¿å…åºåˆ—åŒ–</span>
transient volatile <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] table;

<span class="hljs-comment">// ä»…åœ¨æ‰©å®¹æ—¶éç©ºï¼Œvolatile ä¿®é¥°ä¿è¯è¿ç§»è¿‡ç¨‹ä¸­çº¿ç¨‹å¯è§</span>
private transient volatile <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] nextTable;

<span class="hljs-comment">// å…¼å…·åˆå§‹åŒ–æ ‡è®°ã€æ‰©å®¹é˜ˆå€¼ã€æ‰©å®¹çŠ¶æ€å¤šé‡ä½œç”¨</span>
<span class="hljs-comment">// è´Ÿæ•°è¡¨ç¤ºæ­£åœ¨åˆå§‹åŒ–/æ‰©å®¹ï¼ˆ-1 ä¸ºåˆå§‹åŒ–ä¸­ï¼Œ-N ä¸º N ä¸ªçº¿ç¨‹æ­£åœ¨æ‰©å®¹ï¼‰ï¼Œæ­£æ•°ä¸ºä¸‹æ¬¡æ‰©å®¹é˜ˆå€¼</span>
private transient volatile int sizeCtl;

<span class="hljs-comment">// æ§åˆ¶å¤šçº¿ç¨‹è¿ç§»çš„æ¡¶èŒƒå›´ï¼Œvolatile ä¿®é¥°ç¡®ä¿åˆ†å·¥åŒæ­¥</span>
private transient volatile int transferIndex;

<span class="hljs-comment">// å·¥å…·ç±»</span>
private <span class="hljs-keyword">static</span> final sun.<span class="hljs-property">misc</span>.<span class="hljs-property">Unsafe</span> U;
private <span class="hljs-keyword">static</span> final long <span class="hljs-variable constant_">SIZECTL</span>;
private <span class="hljs-keyword">static</span> final long <span class="hljs-variable constant_">TRANSFERINDEX</span>;
private <span class="hljs-keyword">static</span> final long <span class="hljs-variable constant_">TABLE</span>;
private <span class="hljs-keyword">static</span> final long <span class="hljs-variable constant_">NEXTTABLE</span>;

<span class="hljs-comment">// é™æ€ä»£ç å—åˆå§‹åŒ– Unsafe åŠå„å˜é‡çš„å†…å­˜åç§»é‡</span>
<span class="hljs-keyword">static</span> {
    <span class="hljs-keyword">try</span> {
        U = sun.<span class="hljs-property">misc</span>.<span class="hljs-property">Unsafe</span>.<span class="hljs-title function_">getUnsafe</span>();
        <span class="hljs-title class_">Class</span>&lt;?&gt; k = <span class="hljs-title class_">ConcurrentHashMap</span>.<span class="hljs-property">class</span>;
        <span class="hljs-variable constant_">SIZECTL</span> = U.<span class="hljs-title function_">objectFieldOffset</span>(k.<span class="hljs-title function_">getDeclaredField</span>(<span class="hljs-string">"sizeCtl"</span>));
        <span class="hljs-variable constant_">TRANSFERINDEX</span> = U.<span class="hljs-title function_">objectFieldOffset</span>(k.<span class="hljs-title function_">getDeclaredField</span>(<span class="hljs-string">"transferIndex"</span>));
        <span class="hljs-variable constant_">TABLE</span> = U.<span class="hljs-title function_">objectFieldOffset</span>(k.<span class="hljs-title function_">getDeclaredField</span>(<span class="hljs-string">"table"</span>));
        <span class="hljs-variable constant_">NEXTTABLE</span> = U.<span class="hljs-title function_">objectFieldOffset</span>(k.<span class="hljs-title function_">getDeclaredField</span>(<span class="hljs-string">"nextTable"</span>));
    } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(e);
    }
}

<span class="hljs-comment">// åŸå­è¯»å– table æ•°ç»„æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ï¼Œé¿å…æŒ‡ä»¤é‡æ’ä¸å¯è§æ€§é—®é¢˜</span>
<span class="hljs-keyword">static</span> final &lt;K,V&gt; <span class="hljs-title class_">Node</span>&lt;K,V&gt; <span class="hljs-title function_">tabAt</span>(<span class="hljs-params">Node&lt;K,V&gt;[] tab, int i</span>) {
    <span class="hljs-keyword">return</span> (<span class="hljs-title class_">Node</span>&lt;K,V&gt;)U.<span class="hljs-title function_">getObjectVolatile</span>(tab, ((long)i &lt;&lt; <span class="hljs-variable constant_">ASHIFT</span>) + <span class="hljs-variable constant_">ABASE</span>);
}

<span class="hljs-comment">// åŸå­è®¾ç½® table æ•°ç»„æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ï¼Œç¡®ä¿æ“ä½œä¸å¯ä¸­æ–­</span>
<span class="hljs-keyword">static</span> final &lt;K,V&gt; boolean <span class="hljs-title function_">casTabAt</span>(<span class="hljs-params">Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; c, Node&lt;K,V&gt; v</span>) {
    <span class="hljs-keyword">return</span> U.<span class="hljs-title function_">compareAndSwapObject</span>(tab, ((long)i &lt;&lt; <span class="hljs-variable constant_">ASHIFT</span>) + <span class="hljs-variable constant_">ABASE</span>, c, v);
}

<span class="hljs-comment">// å¼ºåˆ¶å†™å…¥ table æ•°ç»„æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ï¼Œä¿è¯å¯è§æ€§</span>
<span class="hljs-keyword">static</span> final &lt;K,V&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">setTabAt</span>(<span class="hljs-params">Node&lt;K,V&gt;[] tab, int i, Node&lt;K,V&gt; v</span>) {
    U.<span class="hljs-title function_">putObjectVolatile</span>(tab, ((long)i &lt;&lt; <span class="hljs-variable constant_">ASHIFT</span>) + <span class="hljs-variable constant_">ABASE</span>, v);
}
</code></pre>
<p>table æ•°ç»„ä½œä¸ºä¸»å­˜å‚¨å®¹å™¨volatile ä¿®é¥°è®©å®ƒä¿®æ”¹èƒ½è¢«å…¶ä»–çº¿ç¨‹ç«‹å³æ„ŸçŸ¥ï¼Œè¿™ä¸ HashMap ä¸­æ—  volatile ä¿®é¥°çš„ table æ•°ç»„å½¢æˆæœ¬è´¨åŒºåˆ«ï¼Œåœ¨HashMapä¸­çº¿ç¨‹ä¿®æ”¹ table åï¼Œå…¶ä»–çº¿ç¨‹å¯èƒ½å› ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜æ— æ³•è¯»å–æœ€æ–°å€¼è€ŒConcurrentHashMapé€šè¿‡ volatile ä¸ Unsafe ç»“åˆè§£å†³è¿™ä¸ªé—®é¢˜</p>
<ul>
<li>
<p>2.CAS æ— é”æ’å…¥ä¸æ¡¶çº§åˆ«çš„åŒæ­¥é”</p>
<p>ConcurrentHashMapçš„put æ–¹æ³•æ˜¯å…¶å¹¶å‘å®‰å…¨çš„æ ¸å¿ƒä½“ç°å®ƒçš„æ•´ä¸ªæµç¨‹æ—¢é¿å…äº†å…¨å±€é”çš„æ€§èƒ½æŸè€—ï¼Œåˆä¿è¯äº†æ“ä½œçš„åŸå­æ€§ã€‚</p>
<pre><code class="hljs language-js" lang="js">
private final <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] <span class="hljs-title function_">initTable</span>(<span class="hljs-params"/>) {
<span class="hljs-title class_">Node</span>&lt;K,V&gt;[] tab; int sc;
<span class="hljs-comment">// å¾ªç¯åˆ¤æ–­ table æ˜¯å¦ä¸ºç©ºï¼Œç¡®ä¿åˆå§‹åŒ–å®Œæˆ</span>
<span class="hljs-keyword">while</span> ((tab = table) == <span class="hljs-literal">null</span> || tab.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) {
  <span class="hljs-comment">// SIZECTL å°äº 0 è¡¨ç¤ºå·²æœ‰çº¿ç¨‹åœ¨åˆå§‹åŒ–ï¼Œå½“å‰çº¿ç¨‹è‡ªæ—‹ç­‰å¾…</span>
  <span class="hljs-keyword">if</span> ((sc = sizeCtl) &lt; <span class="hljs-number">0</span>)
      <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">yield</span>(); <span class="hljs-comment">// è®©å‡º CPU èµ„æºï¼Œé¿å…å¿™ç­‰</span>
  <span class="hljs-comment">// CAS æ“ä½œå°† SIZECTL è®¾ä¸º -1ï¼ŒæŠ¢å åˆå§‹åŒ–æƒé™</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (U.<span class="hljs-title function_">compareAndSetInt</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">SIZECTL</span>, sc, -<span class="hljs-number">1</span>)) {
      <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">// å†æ¬¡æ£€æŸ¥ï¼Œé˜²æ­¢å¹¶å‘åœºæ™¯ä¸‹çš„é‡å¤åˆå§‹åŒ–</span>
          <span class="hljs-keyword">if</span> ((tab = table) == <span class="hljs-literal">null</span> || tab.<span class="hljs-property">length</span> == <span class="hljs-number">0</span>) {
              int n = (sc &lt; <span class="hljs-number">0</span>) ? -sc : <span class="hljs-variable constant_">DEFAULT_CAPACITY</span>;
              @<span class="hljs-title class_">SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)
              <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] nt = (<span class="hljs-title class_">Node</span>&lt;K,V&gt;[])<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>&lt;?,?&gt;[n];
              table = tab = nt;
              <span class="hljs-comment">// è®¡ç®—ä¸‹æ¬¡æ‰©å®¹é˜ˆå€¼ï¼Œé»˜è®¤ä¸ºå®¹é‡çš„ 0.75 å€</span>
              sc = n - (n &gt;&gt;&gt; <span class="hljs-number">2</span>);
          }
      } <span class="hljs-keyword">finally</span> {
          <span class="hljs-comment">// åˆå§‹åŒ–å®Œæˆï¼Œæ¢å¤ SIZECTL ä¸ºé˜ˆå€¼</span>
          sizeCtl = sc;
      }
      <span class="hljs-keyword">break</span>;
  }
}
<span class="hljs-keyword">return</span> tab;
}
</code></pre>
<p>é€šè¿‡å…¶æºç å¯çœ‹å‡ºæ ¸å¿ƒæ˜¯ CAS æŠ¢å æœºåˆ¶ï¼šå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥ initTable æ–¹æ³•æ—¶ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½é€šè¿‡ <code>U.compareAndSetInt</code> å°† SIZECTL è®¾ä¸º -1ï¼Œå…¶ä»–çº¿ç¨‹æ£€æµ‹åˆ° SIZECTL å°äº 0 åä¼šè‡ªæ—‹ç­‰å¾…ï¼Œå°±é¿å…äº†å¤šçº¿ç¨‹åˆå§‹åŒ–å¯¼è‡´çš„æ•°ç»„å¼‚å¸¸ã€‚å…¶ä¸­ <code>U</code> æ˜¯ Unsafe å·¥å…·ç±»å®ä¾‹ï¼Œè´Ÿè´£åº•å±‚çš„ CAS æ“ä½œï¼Œè¿™ä¹Ÿæ˜¯ ConcurrentHashMap åŸå­æ“ä½œçš„æ ¸å¿ƒä¾èµ–ã€‚å…¶å®ç°ä¸ºå½“æ¡¶ä½ç½®ä¸ºç©ºæ—¶ï¼ŒConcurrentHashMap å¹¶æœªç›´æ¥èµ‹å€¼ï¼Œè€Œæ˜¯é€šè¿‡ CAS æ“ä½œå°è¯•æ’å…¥èŠ‚ç‚¹ã€‚casTabAt æ–¹æ³•åº•å±‚è°ƒç”¨ UNSAFE çš„ compareAndSwapObject æ–¹æ³•ï¼Œä»…å½“æ¡¶ä½ç½®ä¸ºç©ºæ—¶æ‰æ’å…¥èŠ‚ç‚¹ï¼Œç¡®ä¿è¿™ä¸€æ­¥æ“ä½œçš„åŸå­æ€§ï¼Œæ¥é¿å…HashMap ä¸­â€œç©ºæ¡¶æ’å…¥è¦†ç›–â€çš„é—®é¢˜ã€‚</p>
</li>
<li>
<p>3å¹¶å‘å®‰å…¨çš„åˆ†æ­¥è¿ç§»</p>
</li>
</ul>
<p>ConcurrentHashMap çš„æ‰©å®¹ï¼ˆresizeï¼‰è¿‡ç¨‹åŒæ ·æ”¯æŒå¹¶å‘ï¼Œåˆ†æ®µè¿ç§»ä¸é”ä¿æŠ¤è¿ç§»ã€‚å…¶æ ¸å¿ƒä¸ºtransferIndexçš„è¿ç§»èŒƒå›´æ§åˆ¶å˜é‡ï¼Œçº¿ç¨‹é€šè¿‡CASæ“ä½œæŠ¢å ä¸€æ®µè¿ç»­çš„æ¡¶ï¼Œå†ä»åå¾€å‰é€æ­¥è¿ç§»ï¼ŒåŒæ—¶å¯¹è¿ç§»çš„æ¡¶åŠ é”ï¼Œè¿ç§»å®Œæˆåå°†åŸæ¡¶çš„èŠ‚ç‚¹æ¢æˆè¿ç§»æ ‡è®°èŠ‚ç‚¹ï¼ˆForwardingNodeï¼‰ï¼Œå…¶ä»–çº¿ç¨‹çœ‹åˆ°è¯¥èŠ‚ç‚¹åï¼Œç›´æ¥æ“ä½œæ–°æ•°å€¼æˆ–ååŠ©è¿ç§»ï¼Œè®©å¤šä¸ªçº¿ç¨‹ååŒæ‰©å®¹ï¼Œé¿å…æ··ä¹±çš„åŒæ—¶è¿˜æå‡æˆ‘ä»¬çš„æ•ˆç‡ã€‚</p>
<pre><code class="hljs language-js" lang="js">
private final <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span>(<span class="hljs-params">Node&lt;K,V&gt;[] tab, Node&lt;K,V&gt;[] nextTab</span>) {
    int n = tab.<span class="hljs-property">length</span>, stride;
    <span class="hljs-comment">// è®¡ç®—æ¯ä¸ªçº¿ç¨‹è´Ÿè´£çš„æ¡¶æ•°é‡ï¼Œæœ€å°ä¸º 16</span>
    <span class="hljs-keyword">if</span> ((stride = (<span class="hljs-variable constant_">NCPU</span> &gt; <span class="hljs-number">1</span>) ? (n &gt;&gt;&gt; <span class="hljs-number">3</span>) / <span class="hljs-variable constant_">NCPU</span> : n) &lt; <span class="hljs-variable constant_">MIN_TRANSFER_STRIDE</span>)
        stride = <span class="hljs-variable constant_">MIN_TRANSFER_STRIDE</span>; <span class="hljs-comment">// 64</span>
    <span class="hljs-comment">// æ–°æ•°ç»„æœªåˆå§‹åŒ–åˆ™åˆ›å»º</span>
    <span class="hljs-keyword">if</span> (nextTab == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">try</span> {
            @<span class="hljs-title class_">SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>)
            <span class="hljs-title class_">Node</span>&lt;K,V&gt;[] nt = (<span class="hljs-title class_">Node</span>&lt;K,V&gt;[])<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>&lt;?,?&gt;[n &lt;&lt; <span class="hljs-number">1</span>];
            nextTab = nt;
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Throwable</span> ex) { 
            sizeCtl = <span class="hljs-title class_">Integer</span>.<span class="hljs-property">MAX_VALUE</span>;
            <span class="hljs-keyword">return</span>;
        }
        nextTable = nextTab;
        transferIndex = n; <span class="hljs-comment">// åˆå§‹åŒ–è¿ç§»ç´¢å¼•ï¼Œä»æœ€åä¸€ä¸ªæ¡¶å¼€å§‹</span>
    }
    int nextn = nextTab.<span class="hljs-property">length</span>;
    <span class="hljs-comment">// åˆ›å»ºè¿ç§»æ ‡è®°èŠ‚ç‚¹ï¼Œæ ‡è¯†å½“å‰æ¡¶æ­£åœ¨è¿ç§»</span>
    <span class="hljs-title class_">ForwardingNode</span>&lt;K,V&gt; fwd = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForwardingNode</span>&lt;K,V&gt;(nextTab);
    boolean advance = <span class="hljs-literal">true</span>;
    boolean finishing = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ ‡è®°æ˜¯å¦æ‰€æœ‰æ¡¶éƒ½è¿ç§»å®Œæˆ</span>
    <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>, bound = <span class="hljs-number">0</span>;;) {
        <span class="hljs-title class_">Node</span>&lt;K,V&gt; f; int fh;
        <span class="hljs-comment">// å¾ªç¯åˆ†é…è¿ç§»æ¡¶èŒƒå›´</span>
        <span class="hljs-keyword">while</span> (advance) {
            int nextIndex, nextBound;
            <span class="hljs-keyword">if</span> (--i &lt; bound || finishing)
                advance = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((nextIndex = transferIndex) &lt;= <span class="hljs-number">0</span>) {
                i = -<span class="hljs-number">1</span>;
                advance = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-comment">// CAS æ“ä½œæŠ¢å è¿ç§»èŒƒå›´ï¼Œä»åå¾€å‰åˆ†é…</span>
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (U.<span class="hljs-title function_">compareAndSetInt</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable constant_">TRANSFERINDEX</span>, nextIndex,
                                         nextBound = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(nextIndex - stride, <span class="hljs-number">0</span>))) {
                bound = nextBound;
                i = nextIndex - <span class="hljs-number">1</span>;
                advance = <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-comment">// çœç•¥è¿ç§»å®Œæˆçš„åˆ¤æ–­é€»è¾‘...</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">tabAt</span>(tab, i) == f) {
            <span class="hljs-keyword">if</span> (fh &lt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// é‡åˆ°è¿ç§»æ ‡è®°èŠ‚ç‚¹ï¼Œæ¨è¿›è¿ç§»è¿›åº¦</span>
                advance = (fwd == f) &amp;&amp; finishing;
            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// å¯¹å½“å‰æ¡¶åŠ é”ï¼Œå¼€å§‹è¿ç§»</span>
                synchronized (f) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">tabAt</span>(tab, i) == f) {
                        <span class="hljs-title class_">Node</span>&lt;K,V&gt; ln, hn;
                        <span class="hljs-comment">// é“¾è¡¨èŠ‚ç‚¹è¿ç§»ï¼Œæ‹†åˆ†åˆ°æ–°æ•°ç»„çš„ä¸¤ä¸ªæ¡¶ä¸­</span>
                        <span class="hljs-keyword">if</span> (fh &gt;= <span class="hljs-number">0</span>) {
                            <span class="hljs-comment">// å°†æ‹†åˆ†åçš„é“¾è¡¨æ”¾å…¥æ–°æ•°ç»„</span>
                            <span class="hljs-title function_">setTabAt</span>(nextTab, i, ln);
                            <span class="hljs-title function_">setTabAt</span>(nextTab, i + n, hn);
                            <span class="hljs-comment">// æ ‡è®°å½“å‰æ¡¶è¿ç§»å®Œæˆï¼Œæ›¿æ¢ä¸ºè¿ç§»èŠ‚ç‚¹</span>
                            <span class="hljs-title function_">setTabAt</span>(tab, i, fwd);
                            advance = <span class="hljs-literal">true</span>;
                        }
                    }
                }
            }
        }
        <span class="hljs-comment">// çœç•¥å…¶ä»–è¿ç§»é€»è¾‘...</span>
    }
}
</code></pre>
<h6 data-id="heading-6">æœ€å</h6>
<p>HashMapè¿½æ±‚å•çº¿ç¨‹ä¸‹çš„æè‡´æ€§èƒ½ï¼Œè€Œ ConcurrentHashMap åˆ™åœ¨æ€§èƒ½ä¸å¹¶å‘å®‰å…¨ä¹‹é—´å¯»æ±‚å¹³è¡¡ï¼Œä»æºç ä¸Šçœ‹ConcurrentHashMapåœ¨HashMapçš„åŸºç¡€ä¸Šå¢åŠ ç²¾å‡†çš„å¹¶å‘æ§åˆ¶ï¼Œè¡¥è¶³äº†HashMapåœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹çš„çŸ­æ¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•¢ä¸æ•¢æŒ‘æˆ˜ç”¨Cocos3.8å¤åˆ»æ›¾ç»å¾ˆç«çš„å‰²ç»³å­æ¸¸æˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596384019002081306</link>    <guid>https://juejin.cn/post/7596384019002081306</guid>    <pubDate>2026-01-19T03:30:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596384019002081306" data-draft-id="7596339303862386739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•¢ä¸æ•¢æŒ‘æˆ˜ç”¨Cocos3.8å¤åˆ»æ›¾ç»å¾ˆç«çš„å‰²ç»³å­æ¸¸æˆï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T03:30:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¿å…ƒç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/1972988307323236"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•¢ä¸æ•¢æŒ‘æˆ˜ç”¨Cocos3.8å¤åˆ»æ›¾ç»å¾ˆç«çš„å‰²ç»³å­æ¸¸æˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972988307323236/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¿å…ƒç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T03:30:03.000Z" title="Mon Jan 19 2026 03:30:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f7975ec955944b7b11222efa66e73fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=uB%2FjQa%2F9Z5e3Bp0zkwCKa79Z7%2B8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p><strong>å“ˆå–½å¤§å®¶å¥½</strong>ï¼Œæˆ‘æ˜¯äº¿å…ƒç¨‹åºå‘˜ï¼Œæœ€è¿‘æœ‰å°ä¼™ä¼´ç§ä¿¡ç¬”è€…ï¼š</p>
<blockquote>
<p><strong>äº¿å“¥</strong>ï¼Œä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰ç©è¿‡ä¸Šé¢é‚£æ¬¾<code>16</code>å¹´å‰ç«éå…¨ç½‘çš„å‰²ç»³å­æ¸¸æˆã€‚</p>
<p><strong>æˆ‘æœ€è¿‘</strong>åœ¨åšæ¸¸æˆæ—¶ï¼Œéœ€è¦åšç±»ä¼¼è¿™ä¸ªæ¸¸æˆé‡Œé¢çš„ç»³å­æ•ˆæœï¼Œä¸çŸ¥é“æ€ä¹ˆå®ç°ï¼</p>
<p><strong>ä½ æœ€è¿‘</strong>ä¸æ˜¯åœ¨æ›´æ–°çƒ­é—¨å°æ¸¸æˆå®æˆ˜åˆé›†å—ï¼</p>
<p><strong>æ•¢ä¸æ•¢æŒ‘æˆ˜ç”¨Cocos3.8å¤åˆ»ä¸€ä¸ªï¼Ÿ</strong></p>
</blockquote>
<p><strong>å¥½å®¶ä¼™</strong>ï¼Œè¿™æ¬¾æ¸¸æˆç¬”è€…æœ€ç†Ÿæ‚‰ä¸è¿‡äº†ï¼Œé‚£æ—¶å€™è‹¹æœ<code>4</code>æ‰åˆšå‡ºæ¥æ²¡å¤šä¹…ï¼Œè¿™æ ·çš„è§¦å±ç‰©ç†æ¸¸æˆå¯ä»¥ç®—å¾—ä¸Šäººæ‰‹ä¸€ä¸ªã€‚</p>
<p><strong>å…³äº</strong>å‰²ç»³å­çš„ç‰©ç†æ•ˆæœï¼Œæˆ‘è®°å¾—ä¹‹å‰å‚ä¸è®ºå›æŠ•ç¨¿æ´»åŠ¨æ—¶ï¼Œå‚è€ƒæŸä¸ªç æ ‘æ¸¸æˆå‡ºè¿‡ä¸€æœŸï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62bfc91e91d444ca81fe6d2de794ad3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=hgR8B9XofrLjKT9LX46EZkM6hGo%3D" alt="" loading="lazy"/></p>
<p><strong>ç¿»äº†ä¸€ä¸‹</strong>ï¼Œçœ‹åˆ°äº†ä¸€äº›æ‰å¿ƒçš„è¯„è®ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8aa09af49424234b141426f457d2699~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=E7571XsqMEkM2O%2FGyFofyTzYDLo%3D" alt="ä½ è¿™æ˜¯æ£å­å§" loading="lazy"/></p>
<p><strong>è¨€å½’æ­£ä¼ </strong>ï¼Œæœ¬æœŸå¸¦å¤§å®¶ä¸€èµ·æ¥çœ‹çœ‹ï¼Œå¦‚ä½•åœ¨<code>Cocos</code>æ¸¸æˆå¼€å‘ä¸­ï¼Œå¦‚ä½•å®ç°ä¸åƒæ£å­çš„ç»³å­æ•ˆæœï¼Œå¹¶ä¸”å®æˆ˜åšä¸€ä¸ªæ›¾ç»å¾ˆç«çš„å‰²ç»³å­æ¸¸æˆã€‚</p>
<p><strong>æœ¬æ–‡æºå·¥ç¨‹å¯åœ¨æ–‡æœ«è·å–ï¼Œå°ä¼™ä¼´ä»¬è‡ªè¡Œå‰å¾€ã€‚</strong></p>
<h2 data-id="heading-1">å›é¡¾ä¸€ä¸‹</h2>
<p><strong>æƒ³è¦</strong>åœ¨<code>Cocos</code>æ¸¸æˆå¼€å‘ä¸­ï¼Œå®ç°ä¸€æ¡å¸¦æœ‰ç‰©ç†æ•ˆæœçš„ç»³å­ï¼Œå¯ä»¥ä½¿ç”¨æˆ‘ä»¬ç³»ç»Ÿè‡ªå¸¦çš„è·ç¦»å…³èŠ‚<code>Distance Joint</code>ã€‚</p>
<p><strong>è·ç¦»å…³èŠ‚</strong>ä¼šå°†å…³èŠ‚ä¸¤ç«¯çš„åˆšä½“çº¦æŸåœ¨ä¸€ä¸ªæœ€å¤§èŒƒå›´å†…ã€‚è¶…å‡ºè¯¥èŒƒå›´æ—¶ï¼Œåˆšä½“çš„è¿åŠ¨ä¼šäº’ç›¸å½±å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c91d00de6b0413daf590e861d52404e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=rGpYo5WDXtePCfKXgD2gbu9%2B3%2BE%3D" alt="æ¥æºäºCocoså®˜æ–¹æ–‡æ¡£" loading="lazy"/></p>
<p><strong>æ—¢ç„¶å¦‚æ­¤</strong>ï¼Œä¸ºä»€ä¹ˆä¹‹å‰åšçš„ç»³å­åƒæ£å­ï¼Ÿ</p>
<h2 data-id="heading-2">å…³èŠ‚å¤ªå°‘</h2>
<p><strong>å› ä¸º</strong>ä¹‹å‰åšçš„<code>demo</code>ï¼Œé’©å­å’Œç‰©å“ä¹‹é—´ï¼Œä»…ä»…ä½¿ç”¨äº†ä¸€ä¸ªè·ç¦»å…³èŠ‚ï¼Œæ‰€ä»¥å¾ˆéš¾æ¨¡æ‹Ÿå‡ºæ¥ç»³å­æŸ”è½¯çš„æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b1940355a534825be4d4caaaa025215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=xRh49gxPZg7k3tn%2Fh4PKqodtbfg%3D" alt="" loading="lazy"/></p>
<p><strong>é‚£ä¹ˆ</strong>ä¸åƒæ£å­çš„ç»³å­æ€ä¹ˆåšï¼Ÿ</p>
<h2 data-id="heading-3">å¢åŠ è¶³å¤Ÿå¤šçš„å…³èŠ‚</h2>
<p><strong>é¦–å…ˆ</strong>åˆ¶ä½œä¸€èŠ‚<code>5*20</code>çš„ç»³å­ï¼Œå±æ€§ç»„ä»¶å¦‚ä¸‹:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d10abbf149124ebda24182a1c2369d25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=7WzdZJn8jdVbO2oXILh%2F58X4P3g%3D" alt="" loading="lazy"/></p>
<p><strong>ç†è®ºä¸Š</strong>åªè¦æ·»åŠ è¶³å¤Ÿå¤šçš„å…³èŠ‚ï¼Œå°±ä¼šè¶Šæ¥è¶Šæ¥è¿‘æŸ”è½¯çš„ç»³å­æ•ˆæœï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç å»æ§åˆ¶ç”Ÿæˆè¶³å¤Ÿå¤šçš„å…³èŠ‚ï¼Œä¸€èŠ‚è¿ä¸€èŠ‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ae934897f0b49a2bf8c9714995d1376~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=y7AE1oNDpTUwbo%2Fh8tN%2Fz5I3Y9M%3D" alt="" loading="lazy"/></p>
<p><strong>æ•ˆæœ</strong>å¦‚ä¸‹ï¼Œä¸è¿‡ç»³å­çœ‹èµ·æ¥å¹¶ä¸æ˜¯è¿ç»­çš„ï¼Œå…³èŠ‚å› ä¸ºé‡åŠ›æ•ˆæœï¼Œä¼šè¢«æ‹‰å¼€ä¸€æ®µè·ç¦»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a8e4d5b6f40420ba1999352aac01aa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=fch7OL3SKA8h1hm%2F3pMFiFJJRm0%3D" alt="" loading="lazy"/></p>
<p><strong>è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<h2 data-id="heading-4">ç”»çº¿è¾…åŠ©</h2>
<p><strong>ä¸ºäº†</strong>è§£å†³å—é‡åŠ›æ•ˆæœå¯¼è‡´çš„ç»³ç»“æ–­å¼€çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>Graphics</code>ç»„ä»¶é€ç‚¹è¿›è¡Œç”»çº¿ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/469786f0559e42c7a10ec6908289cdcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=odzYvSSthAixG1JuZEisGeVaC9g%3D" alt="" loading="lazy"/></p>
<p><strong>æ•ˆæœ</strong>å¦‚ä¸‹ï¼Œä½†æ˜¯çœ‹èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹é—®é¢˜ï¼Œç»³å­è¿æ¥å¤„ä¸å¤ªå’Œè°ï¼Œä¸åƒä¸€æ ¹ç»³å­ï¼Œåè€Œåƒå“¼å“¼å“ˆå˜¿çš„åŒæˆªæ£ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7771eab1156f4979a7c7da28c6f41398~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=h0QbL3QnhqosG0W8MDG0tRZMa20%3D" alt="" loading="lazy"/></p>
<p><strong>å› æ­¤</strong>æˆ‘ä»¬éœ€è¦æŠŠç»³å­ç”»å¾—æ›´åŠ å¹³æ»‘ä¸€ç‚¹ã€‚</p>
<h2 data-id="heading-5">å¹³æ»‘æ›²çº¿</h2>
<p><strong>æƒ³è¦</strong>è®©æ›²çº¿æ›´åŠ å¹³æ»‘ï¼Œé€šå¸¸å¯ä»¥é‡‡ç”¨äºŒæ¬¡è´å¡å°”æ›²çº¿è¿æ¥ç›¸é‚»ç‚¹ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆè¦æŠŠæ‰€æœ‰çš„ç‚¹ä½æ”¶é›†èµ·æ¥ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5564e310d865478eae3248564f7a82e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=uEHYxrR6t08vN1X5uWVSKC9pGCM%3D" alt="" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒ</strong>çš„ç»˜åˆ¶æ–¹æ³•<code>quadraticCurveTo</code>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3281a3c860d840dc98ee20bfbfc8ea84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=25ZGgSna4p4Fb%2FMkDgKEhiqmJQI%3D" alt="" loading="lazy"/></p>
<p><strong>è¿™æ ·</strong>çœ‹èµ·æ¥å°±åˆç†ä¸€ç‚¹äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acedaf326af44f7f876ee3e6fa9a98f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=a7AEY7rCBkvgJRX3eUV%2F%2BRXsrns%3D" alt="" loading="lazy"/></p>
<p><strong>é€šè¿‡</strong>ä¸Šè¿°æµç¨‹ï¼Œæˆ‘ä»¬å°±èƒ½æˆåŠŸå®ç°ä¸€æ ¹ä¸åƒæ£å­çš„ç»³å­äº†ã€‚</p>
<p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬å®Œæˆå‰²ç»³å­æ¸¸æˆçš„å‰©ä½™éƒ¨åˆ†ã€‚</strong></p>
<h2 data-id="heading-6">å‰²ç»³å­æ¸¸æˆå®æˆ˜</h2>
<p><strong>æœ‰äº†</strong>ä¸Šé¢çš„ç»³å­åŸºç¡€ï¼Œæˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ªå®Œæ•´çš„å‰²ç»³å­æ¸¸æˆå°±æ˜“å¦‚åæŒäº†ã€‚</p>
<p><strong>1. å‰²ç»³å­</strong></p>
<p><strong>æ—¢ç„¶</strong>æ˜¯å‰²ç»³å­æ¸¸æˆï¼Œå‰²å½“ç„¶æ˜¯ä¹Ÿæ˜¯é‡è¦çš„ä¸€ç¯ï¼Œå‰²ç»³å­æœ€ä¸»è¦åˆ¤æ–­æ‰‹æŒ‡ç§»åŠ¨çš„è½¨è¿¹ä¸å®é™…ä¸Šå“ªä¸€æ®µå…³èŠ‚ç›¸äº¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03baedd840194377ae5e958eb3bb6cc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=gMS41LaGR%2BIKXRfxYCENFbOsY%2FQ%3D" alt="" loading="lazy"/></p>
<p><strong>åˆ¤æ–­</strong>ç›¸äº¤çš„æ ¸å¿ƒæ–¹æ³•å¦‚ä¸‹:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55aee08f91ac47ddb5361e44a9c631f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=y4Qtqvw9Apo56CFcIJG9ER5gv1o%3D" alt="" loading="lazy"/></p>
<p><strong>2. åˆ‡å‰²æ•ˆæœ</strong></p>
<p><strong>ä¸ºäº†</strong>å¢åŠ æ¸¸æˆæ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å±å¹•ä¸Šç”»çº¿æ—¶ï¼Œå¢åŠ ä¸€æ®µæ‹–å°¾æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4977a9cb463e4c4c93907c6c9ef12836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=mBPB4qoMEYAOvmTmJAhG9B08IzE%3D" alt="" loading="lazy"/></p>
<p><strong>æ•ˆæœå¦‚ä¸‹:</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/026b832865c4408a93ea62ea6300dcaa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=XWYBYpI6GF8BVcVUMRUKPIxIfsE%3D" alt="" loading="lazy"/></p>
<p><strong>3. å…¶ä»–æ¸¸æˆå…ƒç´ </strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ce746683e874cc584fd686e1eab0dee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=zGqle4NhhSkVsPRKbWsRlR9YRBQ%3D" alt="" loading="lazy"/></p>
<p><strong>é™¤å»</strong>ç»³å­ç›¸å…³çš„éƒ¨åˆ†ï¼Œå‰©ä¸‹å°±æ˜¯å‰²ç»³å­æ¸¸æˆçš„å…¶ä»–å…ƒç´ ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p><strong>é’©å­</strong>: ä¸»è¦èµ·åˆ°å›ºå®šç»³å­çš„ä½œç”¨ï¼Œéœ€è¦æ·»åŠ åˆšä½“ç»„ä»¶ï¼Œ<code>Type</code>è®¾ç½®ä¸º<code>Static</code>ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7afea069b52b47a39c6e5c0bfc226116~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=GqfY9EQFLRGwy2jp8%2Fz%2B6ErZmcc%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>ç”œç”œåœˆ</strong>: éœ€è¦æ·»åŠ ç¢°æ’ç»„ä»¶ã€ç®¡ç†è„šæœ¬ä»¥åŠåˆšä½“ç»„ä»¶ï¼Œéœ€è¦å¼€å¯<code>Enabled Contact Listener</code>ï¼Œåœ¨å¯¹åº”çš„ç®¡ç†è„šæœ¬è¿›è¡Œå¤„ç†ç¢°æ’äº‹ä»¶ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/719e9c6a42f448d5a24045c1782e6118~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=diPPdpUwiSgZNBLdkkd%2F%2B5fD8uc%3D" alt="" loading="lazy"/>
å¦‚ä¸‹ç¢°æ’åˆ°æ˜Ÿæ˜Ÿå’Œç›®æ ‡ç‚¹æ—¶è¿›è¡Œå¤„ç†ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/815486f0bd5c4872947216ebd5b55e56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=8S6Y1nUDXZf%2F0Jm6uk%2FPK3DzbDE%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>æ˜Ÿæ˜Ÿ</strong>: æ·»åŠ ç¢°æ’ç»„ä»¶å’Œç®¡ç†è„šæœ¬ï¼Œå¢åŠ ä¸€äº›ç®€å•çš„åŠ¨ç”»ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da2e6a58dee9400b901544dcc8785f2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=q%2FWOOp%2F5D1RiQfwCBuneiTEUeKA%3D" alt="" loading="lazy"/>
æ—‹è½¬å’Œç¢°æ’æ”¾å¤§æ•ˆæœã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19b5efd668ea428db4c0685767482fc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=mZN6w5zQzKTSKN3X4x%2FSVL4wBc4%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>ç›®æ ‡ç‚¹</strong>: ç›®æ ‡ç‚¹å’Œä¸Šé¢å·®ä¸å¤šï¼Œä¸»è¦æ˜¯ç”¨æ¥åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç›®æ ‡ç‚¹ï¼Œä»¥åŠæ·»åŠ ä¸€äº›åˆ°è¾¾åŠ¨ç”»ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86cc9e32b8db47809acf8875f8128303~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=bHbw%2BE24kay9cOZ4RqoBn%2BZcBdE%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><strong>å…¶ä»–</strong>: éšç€æ¸¸æˆå…³å¡åœ°ä¸æ–­å¢åŠ ï¼Œä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„å…¶ä»–æ¸¸æˆå…ƒç´ ï¼Œç¬”è€…åªå®ç°äº†ä»¥ä¸ŠåŸºç¡€çš„éƒ¨åˆ†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´ä»¬å¯ä»¥è‡ªè¡Œæ‰©å±•ã€‚</p>
</li>
</ul>
<p><strong>4. æ•ˆæœæ¼”ç¤º</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1aa4e21f62348bab55a9836e52e5f42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lq_5YWD56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398203&amp;x-signature=eXojTn8R3J26cI3bntvMTDRDhjE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-7">ç»“è¯­</h2>
<p><strong>å‰²ç»³å­æ¸¸æˆ</strong>çœŸçš„æ˜¯å›å¿†æ€ï¼Œå‹¾èµ·ç¬”è€…çš„æ— é™å›å¿†ï¼Œç­‰æˆ‘é€€ä¼‘äº†ï¼Œä¸€å®šè¦å®Œå®Œæ•´æ•´å¤åˆ»ä¸€ä¸ªï¼Œä¸€è¾¹å¤åˆ»ä¸€è¾¹ç©ã€‚</p>
<p><strong>å°ä¼™ä¼´ä»¬</strong>ï¼Œä½ ä»¬ç©è¿‡è¿™æ¬¾æ¸¸æˆå—ï¼Ÿé‚£æ—¶å€™çš„ä½ ä»¬è¿›å…¥æ¸¸æˆè¡Œä¸šäº†å—ï¼Ÿ</p>
<p>æœ¬æ–‡<strong>å®æˆ˜å®Œæ•´æºç </strong>å·²é›†æˆåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†</a>ï¼Œå†…å«ä½“éªŒé“¾æ¥ã€‚</p>
<hr/>
<p><strong>æˆ‘æ˜¯"äº¿å…ƒç¨‹åºå‘˜"ï¼Œä¸€ä½æœ‰ç€8å¹´æ¸¸æˆè¡Œä¸šç»éªŒçš„ä¸»ç¨‹ã€‚åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼Œå¸Œæœ›èƒ½ç»™åˆ°æ‚¨å¸®åŠ©, ä¹Ÿå¸Œæœ›é€šè¿‡æ‚¨èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚</strong></p>
<p>AD:ç¬”è€…çº¿ä¸Šçš„å°æ¸¸æˆã€Šæ‰“èºä¸é—¯å…³ã€‹ã€Šè´ªåƒè›‡æŒæœºç»å…¸ã€‹ã€Šé‡åŠ›è¿·å®«çƒã€‹ã€Šå¡«è‰²ä¹‹æ—…ã€‹ã€Šæ–¹å—æŒæœºç»å…¸ã€‹å¤§å®¶å¯ä»¥è‡ªè¡Œç‚¹å‡»æœç´¢ä½“éªŒã€‚</p>
<p>å®ä¸ç›¸ç’ï¼Œæƒ³è¦ä¸ª<strong>èµ</strong>å’Œ<strong>çˆ±å¿ƒ</strong>ï¼è¯·æŠŠè¯¥æ–‡ç« <strong>åˆ†äº«</strong>ç»™ä½ è§‰å¾—æœ‰éœ€è¦çš„å…¶ä»–å°ä¼™ä¼´ã€‚è°¢è°¢ï¼</p>
<p>æ¨èæ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFOi5gCiGzF3LnT03DpPMXA" target="_blank" title="https://mp.weixin.qq.com/s/FOi5gCiGzF3LnT03DpPMXA" ref="nofollow noopener noreferrer">äº¿å…ƒCocoså°æ¸¸æˆå®æˆ˜åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FXLCknL3fJDubec2GW6KLFA" target="_blank" title="https://mp.weixin.qq.com/s/XLCknL3fJDubec2GW6KLFA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•æ¥å…¥å®‰å“ç©¿å±±ç”²å¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3_VrSld4KnDKY_7hxjSoKg" target="_blank" title="https://mp.weixin.qq.com/s/3_VrSld4KnDKY_7hxjSoKg" ref="nofollow noopener noreferrer">ä½ çŸ¥é“å’Œä¸çŸ¥é“çš„å¾®ä¿¡å°æ¸¸æˆå¸¸ç”¨APIæ•´ç†ï¼Œèµ¶ç´§æ”¶è—ç”¨èµ·æ¥~</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0Lj24VHJ-pL8z82hHqQLiA" target="_blank" title="https://mp.weixin.qq.com/s/0Lj24VHJ-pL8z82hHqQLiA" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¦‚ä½•å¿«é€Ÿæ¥å…¥æŠ–éŸ³å°æ¸¸æˆå¹¿å‘Šå˜ç°ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ7DusUJA2v1IFZDFtBsueg" target="_blank" title="https://mp.weixin.qq.com/s/Z7DusUJA2v1IFZDFtBsueg" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°å‰²ç»³å­æ¸¸æˆæ•ˆæœ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F3BzzFBzeVAO-a6LPTeFTrA" target="_blank" title="https://mp.weixin.qq.com/s/3BzzFBzeVAO-a6LPTeFTrA" ref="nofollow noopener noreferrer">å¦‚ä½•åœ¨CocosCreator3.8ä¸­å®ç°åŠ¨æ€åˆ‡å‰²æ¨¡å‹ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZIph332u_r24OTY4r6_jow" target="_blank" title="https://mp.weixin.qq.com/s/ZIph332u_r24OTY4r6_jow" ref="nofollow noopener noreferrer">Cocosæ¸¸æˆå¼€å‘ä¸­çš„è´´èŠ±æ•ˆæœ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨AIæ—¶ä»£ä¸‹ï¼ŒæŠ€æœ¯äººåº”è¯¥è„±ç¦»å†ç­‰ç­‰æ€ç»´]]></title>    <link>https://juejin.cn/post/7596342523968012297</link>    <guid>https://juejin.cn/post/7596342523968012297</guid>    <pubDate>2026-01-19T03:37:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596342523968012297" data-draft-id="7596260777662496783" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨AIæ—¶ä»£ä¸‹ï¼ŒæŠ€æœ¯äººåº”è¯¥è„±ç¦»å†ç­‰ç­‰æ€ç»´"/> <meta itemprop="keywords" content="å‰ç«¯,ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T03:37:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é…’æ˜Ÿå°æœ"/> <meta itemprop="url" content="https://juejin.cn/user/1512542215093479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨AIæ—¶ä»£ä¸‹ï¼ŒæŠ€æœ¯äººåº”è¯¥è„±ç¦»å†ç­‰ç­‰æ€ç»´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1512542215093479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é…’æ˜Ÿå°æœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T03:37:27.000Z" title="Mon Jan 19 2026 03:37:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆâ€œå†ç­‰ç­‰â€æ˜¯æ¯’è¯ï¼Ÿ</h2>
<p>ä½ å¯¹è‡ªå·±è¯´â€œå†ç­‰ç­‰â€ï¼Œè¿™å¬èµ·æ¥åƒå¾ˆè°¨æ…ï¼Œä½†æœ¬è´¨ä¸Šæ˜¯--<strong>å»¶è¿Ÿé¢å¯¹ç°å®ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35d40f2dfebf477e83c4c2a4f2ecfa33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6YWS5pif5bCP5p2c:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398647&amp;x-signature=haIIAEWv2MqwxjDCyyw%2BZivuqAI%3D" alt="å†ç­‰ç­‰çš„æ¯’è¯æµ·æŠ¥.png" loading="lazy"/></p>
<h4 data-id="heading-1">å†ç­‰ç­‰éƒ½çœŸæ­£å«ä¹‰æ˜¯ï¼š</h4>
<blockquote>
<p>è®©è‡ªå·±å†å¤šä¸€ä¸ªä¸å‘å¸ƒçš„ç†ç”±</p>
</blockquote>
<p>ä¸æ˜¯ä½ è¿˜å·®ä¸€ç‚¹ã€‚</p>
<p>è€Œæ˜¯ä½ ç»™è‡ªå·±ä¸€ä¸ª<strong>æ°¸è¿œåˆç†çš„ç¼“å†²åŒºã€‚</strong></p>
<hr/>
<h4 data-id="heading-2">å®Œå–„ï¼Œæ°¸è¿œæ²¡æœ‰ç»ˆç‚¹</h4>
<p>ä½ æ°¸è¿œå¯ä»¥è¯´ï¼š</p>
<ul>
<li>
<p>åŠŸèƒ½è¿˜ä¸å¤Ÿå…¨</p>
</li>
<li>
<p>ä½“éªŒè¿˜èƒ½å†é¡ºä¸€ç‚¹</p>
</li>
<li>
<p>æ¶æ„è¿˜èƒ½å†ç¨³ä¸€ç‚¹</p>
</li>
</ul>
<p>æ‰€ä»¥é—®é¢˜ä»æ¥ä¸æ˜¯ï¼š</p>
<hr/>
<p><strong>ä»€ä¹ˆæ—¶å€™å¤Ÿå¥½ï¼Ÿ</strong></p>
<p>è€Œæ˜¯ï¼š</p>
<p><strong>ä½ æœ‰æ²¡æœ‰ä¸€ä¸ªå¿…é¡»å‘å¸ƒçš„æ—¶é—´ç‚¹ï¼Ÿ</strong></p>
<h4 data-id="heading-3">ä¸€ä¸ªä½ å¿…é¡»æ¥å—çš„åˆ¤æ–­å¥</h4>
<p>æ²¡æœ‰å‘å¸ƒæ—¶é—´ç‚¹çš„é¡¹ç›®ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸æ‰“ç®—å‘å¸ƒã€‚</p>
<p><strong>ä¸æ˜¯ä½ ä¸æƒ³ï¼Œè€Œæ˜¯ä½ åœ¨ç»“æ„ä¸Šå…è®¸è‡ªå·±ä¸€ç›´é€ƒé¿ã€‚</strong></p>
<hr/>
<h2 data-id="heading-4">å¯å”®æ€§ä¼˜å…ˆåŸåˆ™ï¼ˆæ ¸å¿ƒæ€æƒ³ï¼‰</h2>
<h3 data-id="heading-5">ä»€ä¹ˆæ˜¯â€œå¯å”®æ€§â€ï¼Ÿ</h3>
<p>ä¸€å¥è¯ï¼š<strong>æœ‰äººæ„¿æ„ä¸ºâ€œå½“å‰çŠ¶æ€â€ä»˜é’±ï¼Œè€Œä¸æ˜¯ä¸ºä½ è„‘æµ·é‡Œçš„æœªæ¥ç‰ˆæœ¬ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9a27b0344d4e81a5fa8f0a1f39a33f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6YWS5pif5bCP5p2c:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398647&amp;x-signature=SNI2eo67hPMQV%2BQWDRa5v8eEng8%3D" alt="å¯å”®æ€§ä¼˜å…ˆåŸåˆ™æµ·æŠ¥.png" loading="lazy"/></p>
<p>è¿™é‡Œè¦å¿½ç•¥ä¸‰ä»¶äº‹ï¼š</p>
<p>1ï¸âƒ£ æ½œåŠ›</p>
<p>2ï¸âƒ£ æ„¿æ™¯</p>
<p>3ï¸âƒ£ é•¿æœŸè§„åˆ’</p>
<p>è¿™äº›ä¸œè¥¿éƒ½ä¸é‡è¦ã€‚</p>
<hr/>
<h4 data-id="heading-6">å¯å”®æ€§æˆ‘ä»¬åªå…³å¿ƒä¸€ä¸ªé—®é¢˜</h4>
<blockquote>
<p><strong>ç°åœ¨æœ‰æ²¡æœ‰æ„¿æ„æé’±ï¼Ÿ</strong></p>
</blockquote>
<p>ä¸æ˜¯ç­‰ä½ åšå®Œï¼Œä¸æ˜¯ç­‰ä½ ä¼˜åŒ–ï¼Œä¸æ˜¯ç­‰ä½ â€œå†å®Œå–„ä¸€ç‚¹â€ã€‚</p>
<p>è€Œæ˜¯<strong>ç°åœ¨ã€‚</strong></p>
<hr/>
<h3 data-id="heading-7">å¯å”®æ€§ vs å®Œæ•´æ€§</h3>
<p>å…¶å®å¾ˆå¤šæŠ€æœ¯äººå°±æ˜¯åˆ†ä¸æ¸…è¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬ç”¨ä¸¤ä¸ªæ¦‚å¿µçš„æ‰¿è¯ºæ–¹å¼åšå¯¹æ¯”ã€‚</p>
<h4 data-id="heading-8">å®Œæ•´æ€§çš„æ‰¿è¯ºæ˜¯ï¼š</h4>
<p>1ï¸âƒ£ æˆ‘ä¼šæŠŠå®ƒåšå¥½</p>
<p>2ï¸âƒ£ æˆ‘ä¼šæŠŠè¾¹è§’è¡¥é½</p>
<p>3ï¸âƒ£ æˆ‘ä¼šå¯¹æ‰€æœ‰çš„æƒ…å†µè´Ÿè´£</p>
<p>å®ƒå¸¦æ¥çš„æ„Ÿå—æ˜¯ï¼š</p>
<p><strong>ğŸ‘‰ å®‰å¿ƒã€‚</strong></p>
<h4 data-id="heading-9">å¯å”®æ€§çš„æ‰¿è¯ºæ˜¯ï¼š</h4>
<p>1ï¸âƒ£ æˆ‘ç°åœ¨å°±è§£å†³ä¸€ä¸ªå…·ä½“é—®é¢˜</p>
<p>2ï¸âƒ£ ä¸å®Œç¾ï¼Œä½†æœ‰ç”¨</p>
<p>3ï¸âƒ£ ä»Šå¤©å°±èƒ½äº¤ä»˜</p>
<p>å®ƒå¸¦æ¥çš„æ„Ÿå—æ˜¯ï¼š</p>
<p><strong>ğŸ‘‰ æ¸…é†’ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9024cb04904346fd82abea66e379994c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6YWS5pif5bCP5p2c:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769398647&amp;x-signature=avNbKcBzfCbb9rMrV849nDv4rEE%3D" alt="å®Œæ•´vså¯å”®å¯¹æ¯”æ’ç”».png" loading="lazy"/></p>
<hr/>
<p><strong>è¯·è®°ä½ï¼Œå®Œæ•´æ€§è®©ä½ å®‰å¿ƒï¼Œå¯å”®æ€§è®©ä½ æ¸…é†’ã€‚ä¸€ä¸ªè®©ä½ èˆ’æœï¼Œä¸€ä¸ªè®©ä½ é¢å¯¹ç°å®ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™ArkUIç»„ä»¶å°è£…å®æˆ˜ï¼š3æ‹›å‘Šåˆ«é‡å¤ä»£ç ]]></title>    <link>https://juejin.cn/post/7596488155303493651</link>    <guid>https://juejin.cn/post/7596488155303493651</guid>    <pubDate>2026-01-19T03:43:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596488155303493651" data-draft-id="7596342523968045065" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™ArkUIç»„ä»¶å°è£…å®æˆ˜ï¼š3æ‹›å‘Šåˆ«é‡å¤ä»£ç "/> <meta itemprop="keywords" content="HarmonyOS,å‰ç«¯,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-19T03:43:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çº¯çˆ±æŒé—¨äºº"/> <meta itemprop="url" content="https://juejin.cn/user/2849548342403454"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™ArkUIç»„ä»¶å°è£…å®æˆ˜ï¼š3æ‹›å‘Šåˆ«é‡å¤ä»£ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2849548342403454/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çº¯çˆ±æŒé—¨äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T03:43:38.000Z" title="Mon Jan 19 2026 03:43:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><p>åšé¸¿è’™ArkUIå¼€å‘çš„å…„å¼Ÿå§å¦¹ä»¬ï¼Œæ˜¯ä¸æ˜¯æ€»è¢«é‡å¤ä»£ç æŠ˜ç£¨ï¼Ÿç™»å½•é¡µçš„ç¡®è®¤æŒ‰é’®ã€è´­ç‰©é¡µçš„ç»“ç®—æŒ‰é’®ï¼Œæ ·å¼ä¸€æ¨¡ä¸€æ ·è¿˜è¦å†™ä¸¤éï¼›å›¾ç‰‡åŠ æ–‡å­—çš„å¸ƒå±€ï¼Œæ¢ä¸ªé¡µé¢åˆå¾—é‡æ–°æ‹¼ä¸€éâ€”â€”æ”¹æ ·å¼æ—¶é€ä¸ªæ–‡ä»¶æ‰¾ï¼Œç»´æŠ¤èµ·æ¥å¤´éƒ½å¤§äº†ï¼å…¶å®åªè¦å­¦ä¼šç»„ä»¶å°è£…ï¼ŒæŠŠé‡å¤ä»£ç â€œæ‰“åŒ…â€èµ·æ¥ï¼Œä¸‹æ¬¡ç›´æ¥æ‹¿è¿‡æ¥ç”¨ï¼Œæ•ˆç‡ç›´æ¥ç¿»å€ï¼Œè¿˜æ–¹ä¾¿å›¢é˜Ÿåä½œã€‚ä»Šå¤©å°±ç…§ç€åä¸ºå®˜æ–¹æ–‡æ¡£ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ä¸‰ç§æ ¸å¿ƒå°è£…æ–¹å¼ï¼Œæ–°æ‰‹ä¹Ÿèƒ½è½»æ¾æ‹¿æï¼</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šç»„ä»¶å°è£…åˆ°åº•å¥½åœ¨å“ªï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼Œå°è£…å°±æ˜¯æŠŠç›¸åŒæˆ–ç›¸ä¼¼çš„UIæ ·å¼ã€å¸ƒå±€ã€é€»è¾‘â€œè£…èµ·æ¥â€ï¼Œæ ¸å¿ƒå¥½å¤„å°±ä¸‰ä¸ªï¼š</p>
<ol>
<li>å°‘å†™é‡å¤ä»£ç ï¼šå†™ä¸€æ¬¡èƒ½ç”¨Næ¬¡ï¼Œä¸ç”¨å¤åˆ¶ç²˜è´´</li>
<li>ç»´æŠ¤è¶…æ–¹ä¾¿ï¼šè¦æ”¹æ ·å¼/é€»è¾‘ï¼Œåªæ”¹å°è£…ç»„ä»¶ï¼Œæ‰€æœ‰ç”¨åˆ°çš„åœ°æ–¹è‡ªåŠ¨åŒæ­¥</li>
<li>å›¢é˜Ÿä¸åµæ¶ï¼šç»Ÿä¸€ç»„ä»¶é£æ ¼ï¼Œä¸ç”¨çº ç»“â€œä½ å†™çš„æŒ‰é’®å’Œæˆ‘ä¸ä¸€æ ·â€</li>
</ol>
<p>é¸¿è’™é‡Œæœ€å¸¸ç”¨çš„å°è£…åœºæ™¯å°±ä¸‰ç§ï¼šåªå¤ç”¨æ ·å¼ã€å¤ç”¨æ ·å¼+å¸ƒå±€+é€»è¾‘ã€æ‰¹é‡ç®¡ç†å¤šä¸ªç»„ä»¶ï¼Œå’±ä»¬ä¸€ä¸ªä¸ªè¯´æ¸…æ¥šã€‚</p>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€ç§ï¼šç»„ä»¶å…¬å…±æ ·å¼å°è£…ï¼ˆåªå¤ç”¨æ ·å¼ï¼‰</h2>
<h3 data-id="heading-2">é€‚ç”¨åœºæ™¯</h3>
<p>å¦‚æœåªæ˜¯å¤šä¸ªç»„ä»¶è¦å…±ç”¨ä¸€å¥—æ ·å¼ï¼Œæ¯”å¦‚æ‰€æœ‰ç¡®è®¤æŒ‰é’®éƒ½æ˜¯èƒ¶å›Šå½¢ã€ä¸€æ ·çš„å¤§å°å’Œé¢œè‰²ï¼Œå°±ç”¨è¿™ç§æ–¹å¼ã€‚æ¯”å¦‚ç™»å½•é¡µçš„â€œç™»å½•â€æŒ‰é’®å’Œè´­ç‰©é¡µçš„â€œç»“ç®—â€æŒ‰é’®ï¼ŒåŠŸèƒ½ä¸åŒä½†æ ·å¼ä¸€è‡´ï¼Œç›´æ¥å°è£…æ ·å¼å°±è¡Œã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒæ€è·¯</h3>
<p>ç”¨ç³»ç»Ÿæä¾›çš„<code>AttributeModifier</code>æ¥å£ï¼ŒæŠŠå…¬å…±æ ·å¼å†™åœ¨ä¸€ä¸ªç±»é‡Œï¼Œä¹‹åå“ªä¸ªç»„ä»¶è¦ç”¨ï¼Œç›´æ¥å¥—ç”¨è¿™ä¸ªç±»å°±è¡Œã€‚</p>
<h3 data-id="heading-4">æ‰‹æŠŠæ‰‹æ“ä½œ</h3>
<h4 data-id="heading-5">ç¬¬ä¸€æ­¥ï¼šå°è£…å…¬å…±æ ·å¼ç±»</h4>
<p>å…ˆåˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°<code>AttributeModifier</code>æ¥å£ï¼ŒæŠŠæŒ‰é’®çš„é»˜è®¤æ€ã€æŒ‰å‹æ€æ ·å¼éƒ½å†™è¿›å»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å°è£…æŒ‰é’®çš„å…¬å…±æ ·å¼</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyButtonModifier</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AttributeModifier</span>&lt;<span class="hljs-title class_">ButtonAttribute</span>&gt; {
  <span class="hljs-comment">// é»˜è®¤æ˜¯æ™®é€šæŒ‰é’®ï¼Œåç»­å¯ä¿®æ”¹</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">buttonType</span>: <span class="hljs-title class_">ButtonType</span> = <span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Normal</span>;

  <span class="hljs-comment">// è®¾ç½®æŒ‰é’®ç±»å‹ï¼ˆæ¯”å¦‚èƒ¶å›Šå½¢ã€æ™®é€šå½¢ï¼‰</span>
  <span class="hljs-title function_">type</span>(<span class="hljs-attr">type</span>: <span class="hljs-title class_">ButtonType</span>): <span class="hljs-title class_">MyButtonModifier</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonType</span> = <span class="hljs-keyword">type</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-comment">// æŒ‰é’®é»˜è®¤çŠ¶æ€çš„æ ·å¼</span>
  <span class="hljs-title function_">applyNormalAttribute</span>(<span class="hljs-attr">instance</span>: <span class="hljs-title class_">ButtonAttribute</span>): <span class="hljs-built_in">void</span> {
    instance.<span class="hljs-title function_">type</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">buttonType</span>); <span class="hljs-comment">// æŒ‰é’®ç±»å‹</span>
    instance.<span class="hljs-title function_">width</span>(<span class="hljs-number">200</span>); <span class="hljs-comment">// å®½åº¦</span>
    instance.<span class="hljs-title function_">height</span>(<span class="hljs-number">50</span>); <span class="hljs-comment">// é«˜åº¦</span>
    instance.<span class="hljs-title function_">fontSize</span>(<span class="hljs-number">20</span>); <span class="hljs-comment">// å­—ä½“å¤§å°</span>
    instance.<span class="hljs-title function_">fontColor</span>(<span class="hljs-string">'#0A59F7'</span>); <span class="hljs-comment">// å­—ä½“é¢œè‰²</span>
    instance.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#0D000000'</span>); <span class="hljs-comment">// èƒŒæ™¯è‰²</span>
  }

  <span class="hljs-comment">// æŒ‰é’®æŒ‰å‹çŠ¶æ€çš„æ ·å¼</span>
  <span class="hljs-title function_">applyPressedAttribute</span>(<span class="hljs-attr">instance</span>: <span class="hljs-title class_">ButtonAttribute</span>): <span class="hljs-built_in">void</span> {
    instance.<span class="hljs-title function_">fontColor</span>(<span class="hljs-string">'#0A59F7'</span>);
    instance.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-string">'#26000000'</span>); <span class="hljs-comment">// æŒ‰å‹æ—¶èƒŒæ™¯è‰²åŠ æ·±</span>
  }
}
</code></pre>
<h4 data-id="heading-6">ç¬¬äºŒæ­¥ï¼šä½¿ç”¨å°è£…å¥½çš„æ ·å¼</h4>
<p>åœ¨éœ€è¦çš„é¡µé¢é‡Œï¼Œåˆ›å»ºæ ·å¼å®ä¾‹ï¼Œé€šè¿‡<code>attributeModifier()</code>æ–¹æ³•åº”ç”¨åˆ°æŒ‰é’®ä¸Šï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">AttributeStylePage</span> {
  <span class="hljs-comment">// åˆ›å»ºæ ·å¼å®ä¾‹ï¼Œè®¾ç½®ä¸ºèƒ¶å›Šå½¢æŒ‰é’®</span>
  modifier = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyButtonModifier</span>().<span class="hljs-title function_">type</span>(<span class="hljs-title class_">ButtonType</span>.<span class="hljs-property">Capsule</span>);

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">NavDestination</span>() {
      <span class="hljs-title class_">Column</span>() {
        <span class="hljs-comment">// ç›´æ¥å¥—ç”¨å°è£…å¥½çš„æ ·å¼</span>
        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'ç¡®è®¤æŒ‰é’®'</span>)
          .<span class="hljs-title function_">attributeModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">modifier</span>)
      }
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: $r(<span class="hljs-string">'app.float.margin_top'</span>) })
      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
    }
    .<span class="hljs-title function_">title</span>(<span class="hljs-title function_">getResourceString</span>($r(<span class="hljs-string">'app.string.common_style_extract'</span>), <span class="hljs-variable language_">this</span>))
  }
}
</code></pre>
<h3 data-id="heading-7">å°æé†’</h3>
<ol>
<li>è¿™ç§æ ·å¼åªèƒ½ç”¨åœ¨ç³»ç»Ÿç»„ä»¶ä¸Šï¼ˆæ¯”å¦‚Buttonã€Imageï¼‰ï¼Œè‡ªå®šä¹‰ç»„ä»¶æš‚æ—¶ä¸æ”¯æŒ</li>
<li>æ ·å¼ç±»å¯ä»¥è·¨æ–‡ä»¶å¯¼å‡ºï¼Œæ•´ä¸ªé¡¹ç›®éƒ½èƒ½å¤ç”¨ï¼Œè¿˜èƒ½çµæ´»æ”¹å‚æ•°ï¼ˆæ¯”å¦‚æ”¹æŒ‰é’®ç±»å‹ã€é¢œè‰²ï¼‰</li>
</ol>
<h2 data-id="heading-8">ä¸‰ã€ç¬¬äºŒç§ï¼šè‡ªå®šä¹‰ç»„ä»¶å°è£…ï¼ˆæ ·å¼+å¸ƒå±€+é€»è¾‘ä¸€èµ·å¤ç”¨ï¼‰</h2>
<h3 data-id="heading-9">é€‚ç”¨åœºæ™¯</h3>
<p>å¦‚æœä¸ä»…è¦å¤ç”¨æ ·å¼ï¼Œè¿å¸ƒå±€å’Œé€»è¾‘éƒ½è¦å¤ç”¨ï¼Œæ¯”å¦‚å•†å“å¡ç‰‡ï¼ˆå›¾ç‰‡+åç§°+ä»·æ ¼å›ºå®šå¸ƒå±€ï¼‰ã€ä¸ªäººä¿¡æ¯é¡¹ï¼ˆå›¾æ ‡+æ–‡å­—+ç®­å¤´ï¼‰ï¼Œå°±é€‚åˆå°è£…æˆè‡ªå®šä¹‰ç»„ä»¶ã€‚è€Œä¸”è¿˜èƒ½è®©ä½¿ç”¨æ–¹çµæ´»ä¿®æ”¹éƒ¨åˆ†å±æ€§ï¼Œæ¯”å¦‚å›¾ç‰‡å¤§å°ã€æ–‡å­—å†…å®¹ã€‚</p>
<h3 data-id="heading-10">æ ¸å¿ƒæ€è·¯</h3>
<p>ç”¨<code>@Component</code>è£…é¥°å™¨æŠŠç»„ä»¶â€œæ‰“åŒ…â€ï¼Œä¸å˜çš„éƒ¨åˆ†ï¼ˆæ¯”å¦‚å›¾ç‰‡å’Œæ–‡å­—çš„æ’åˆ—æ–¹å¼ï¼‰å†™åœ¨å†…éƒ¨ï¼Œå¯å˜çš„éƒ¨åˆ†ï¼ˆæ¯”å¦‚å›¾ç‰‡åœ°å€ã€å¤§å°ï¼‰ç”¨å‚æ•°æš´éœ²å‡ºå»ï¼Œè®©ä½¿ç”¨æ–¹æŒ‰éœ€é…ç½®ã€‚</p>
<h3 data-id="heading-11">æ‰‹æŠŠæ‰‹æ“ä½œ</h3>
<p>å’±ä»¬ä»¥â€œå›¾ç‰‡+æ–‡å­—â€çš„ç»„åˆç»„ä»¶ä¸ºä¾‹ï¼š</p>
<h4 data-id="heading-12">ç¬¬ä¸€æ­¥ï¼šå…ˆå°è£…å­ç»„ä»¶çš„æ ·å¼ï¼ˆå¯é€‰ï¼‰</h4>
<p>åˆ†åˆ«ç»™Imageå’ŒTextç»„ä»¶å†™æ ·å¼ç±»ï¼Œæ–¹ä¾¿åç»­ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å›¾ç‰‡ç»„ä»¶çš„æ ·å¼å°è£…</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomImageModifier</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AttributeModifier</span>&lt;<span class="hljs-title class_">ImageAttribute</span>&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">imageWidth</span>: <span class="hljs-title class_">Length</span> = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">imageHeight</span>: <span class="hljs-title class_">Length</span> = <span class="hljs-number">0</span>;

  <span class="hljs-comment">// åˆå§‹åŒ–å›¾ç‰‡å¤§å°</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">width: Length, height: Length</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageWidth</span> = width;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageHeight</span> = height;
  }

  <span class="hljs-comment">// æä¾›ä¿®æ”¹å®½é«˜çš„æ–¹æ³•</span>
  <span class="hljs-title function_">width</span>(<span class="hljs-params">width: Length</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageWidth</span> = width;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">height</span>(<span class="hljs-params">height: Length</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageHeight</span> = height;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-comment">// åº”ç”¨å›¾ç‰‡æ ·å¼</span>
  <span class="hljs-title function_">applyNormalAttribute</span>(<span class="hljs-attr">instance</span>: <span class="hljs-title class_">ImageAttribute</span>): <span class="hljs-built_in">void</span> {
    instance.<span class="hljs-title function_">width</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageWidth</span>);
    instance.<span class="hljs-title function_">height</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageHeight</span>);
    instance.<span class="hljs-title function_">borderRadius</span>($r(<span class="hljs-string">'app.float.border_radius'</span>)); <span class="hljs-comment">// åœ†è§’</span>
  }
}

<span class="hljs-comment">// æ–‡å­—ç»„ä»¶çš„æ ·å¼å°è£…</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomTextModifier</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AttributeModifier</span>&lt;<span class="hljs-title class_">TextAttribute</span>&gt; {
  <span class="hljs-title function_">applyNormalAttribute</span>(<span class="hljs-attr">instance</span>: <span class="hljs-title class_">TextAttribute</span>): <span class="hljs-built_in">void</span> {
    instance.<span class="hljs-title function_">fontSize</span>($r(<span class="hljs-string">'app.float.font_size_l'</span>)); <span class="hljs-comment">// å­—ä½“å¤§å°</span>
  }
}
</code></pre>
<h4 data-id="heading-13">ç¬¬äºŒæ­¥ï¼šå°è£…è‡ªå®šä¹‰ç»„ä»¶</h4>
<p>æŠŠå›¾ç‰‡å’Œæ–‡å­—çš„å¸ƒå±€ã€ç‚¹å‡»äº‹ä»¶éƒ½å°è£…è¿›å»ï¼Œæš´éœ²å¯å˜å‚æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">export</span> struct <span class="hljs-title class_">CustomImageText</span> {
  <span class="hljs-comment">// å›¾ç‰‡æ ·å¼ï¼ˆé»˜è®¤100x100ï¼‰</span>
  <span class="hljs-meta">@Prop</span> <span class="hljs-attr">imageAttribute</span>: <span class="hljs-title class_">AttributeModifier</span>&lt;<span class="hljs-title class_">ImageAttribute</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomImageModifier</span>(<span class="hljs-number">100</span>, <span class="hljs-number">100</span>);
  <span class="hljs-comment">// æ–‡å­—æ ·å¼ï¼ˆé»˜è®¤æ ·å¼ï¼‰</span>
  <span class="hljs-meta">@Prop</span> <span class="hljs-attr">textAttribute</span>: <span class="hljs-title class_">AttributeModifier</span>&lt;<span class="hljs-title class_">TextAttribute</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomTextModifier</span>();
  <span class="hljs-comment">// å›¾ç‰‡èµ„æºï¼ˆå¿…é¡»ç”±ä½¿ç”¨æ–¹ä¼ å…¥ï¼‰</span>
  <span class="hljs-meta">@Prop</span> <span class="hljs-attr">imageSrc</span>: <span class="hljs-title class_">PixelMap</span> | <span class="hljs-title class_">ResourceStr</span> | <span class="hljs-title class_">DrawableDescriptor</span>;
  <span class="hljs-comment">// æ–‡å­—å†…å®¹ï¼ˆå¿…é¡»ç”±ä½¿ç”¨æ–¹ä¼ å…¥ï¼‰</span>
  <span class="hljs-meta">@Prop</span> <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">// ç‚¹å‡»äº‹ä»¶ï¼ˆå¯é€‰ï¼Œä½¿ç”¨æ–¹æŒ‰éœ€ä¼ å…¥ï¼‰</span>
  onClickEvent?: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å›ºå®šå¸ƒå±€ï¼šå›¾ç‰‡å’Œæ–‡å­—çºµå‘æ’åˆ—</span>
    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span> }) {
      <span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageSrc</span>)
        .<span class="hljs-title function_">attributeModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imageAttribute</span>)
      <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>)
        .<span class="hljs-title function_">attributeModifier</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">textAttribute</span>)
    }
    <span class="hljs-comment">// ç‚¹å‡»äº‹ä»¶è§¦å‘</span>
    .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">onClickEvent</span> !== <span class="hljs-literal">undefined</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onClickEvent</span>();
      }
    })
  }
}
</code></pre>
<h4 data-id="heading-14">ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶</h4>
<p>æŒ‰éœ€ä¼ å…¥å›¾ç‰‡èµ„æºã€æ–‡å­—ã€æ ·å¼å’Œç‚¹å‡»äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">CommonComponent</span> {
  <span class="hljs-comment">// è‡ªå®šä¹‰å›¾ç‰‡å¤§å°ä¸º330x330</span>
  <span class="hljs-attr">imageAttribute</span>: <span class="hljs-title class_">CustomImageModifier</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomImageModifier</span>(<span class="hljs-number">330</span>, <span class="hljs-number">330</span>);

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">NavDestination</span>() {
      <span class="hljs-title class_">Column</span>() {
        <span class="hljs-title class_">CustomImageText</span>({
          <span class="hljs-attr">imageAttribute</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">imageAttribute</span>, <span class="hljs-comment">// ä¼ å…¥è‡ªå®šä¹‰å›¾ç‰‡å¤§å°</span>
          <span class="hljs-attr">imageSrc</span>: $r(<span class="hljs-string">'app.media.image'</span>), <span class="hljs-comment">// å›¾ç‰‡èµ„æº</span>
          <span class="hljs-attr">text</span>: <span class="hljs-string">'Scenery'</span>, <span class="hljs-comment">// æ–‡å­—å†…å®¹</span>
          <span class="hljs-attr">onClickEvent</span>: <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// ç‚¹å‡»ç»„ä»¶æ˜¾ç¤ºæç¤º</span>
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Clicked'</span> })
          }
        })
      }
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: $r(<span class="hljs-string">'app.float.margin_top'</span>) })
      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
      .<span class="hljs-title function_">height</span>(<span class="hljs-string">'100%'</span>)
    }
    .<span class="hljs-title function_">title</span>(<span class="hljs-title function_">getResourceString</span>($r(<span class="hljs-string">'app.string.common'</span>), <span class="hljs-variable language_">this</span>))
  }
}
</code></pre>
<h2 data-id="heading-15">å››ã€ç¬¬ä¸‰ç§ï¼šç»„ä»¶å·¥å‚ç±»å°è£…ï¼ˆæ‰¹é‡ç®¡ç†å¤šä¸ªç»„ä»¶ï¼‰</h2>
<h3 data-id="heading-16">é€‚ç”¨åœºæ™¯</h3>
<p>å¦‚æœé¡¹ç›®é‡Œæœ‰å¾ˆå¤šé›¶æ•£ç»„ä»¶ï¼ˆæ¯”å¦‚å•é€‰æ¡†ã€å¤é€‰æ¡†ã€è¾“å…¥æ¡†ï¼‰ï¼Œæƒ³ç»Ÿä¸€ç®¡ç†ï¼Œè®©ä¸šåŠ¡å›¢é˜Ÿé€šè¿‡ç»„ä»¶åç›´æ¥è·å–ä½¿ç”¨ï¼Œå°±ç”¨è¿™ç§æ–¹å¼ã€‚æ¯”å¦‚ä¼ å…¥â€œRadioâ€æ‹¿å•é€‰æ¡†ï¼Œä¼ å…¥â€œCheckboxâ€æ‹¿å¤é€‰æ¡†ï¼Œä¸ç”¨é€ä¸ªå¯¼å…¥ã€‚</p>
<h3 data-id="heading-17">æ ¸å¿ƒæ€è·¯</h3>
<p>ç”¨<code>@Builder</code>è£…é¥°å™¨å®šä¹‰ç»„ä»¶æ¨¡æ¿ï¼Œå†ç”¨<code>wrapBuilder</code>å‡½æ•°åŒ…è£…ï¼Œå­˜å…¥ä¸€ä¸ªMapï¼ˆé”®æ˜¯ç»„ä»¶åï¼Œå€¼æ˜¯ç»„ä»¶å¯¹è±¡ï¼‰ï¼Œæœ€åå¯¼å‡ºè¿™ä¸ªâ€œç»„ä»¶å·¥å‚â€ï¼Œä½¿ç”¨æ–¹æŒ‰åå­—å–å°±è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24876b8b43c14e3ca0fc597fbe98d558~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57qv54ix5o6M6Zeo5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769399411&amp;x-signature=qkMK0KMdp6vBMYNT9nCsD0bc8aA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-18">æ‰‹æŠŠæ‰‹æ“ä½œ</h3>
<h4 data-id="heading-19">ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ç»„ä»¶æ¨¡æ¿</h4>
<p>ç”¨<code>@Builder</code>å†™å…¨å±€çš„ç»„ä»¶æ¨¡æ¿ï¼ˆæ¯”å¦‚å•é€‰æ¡†ã€å¤é€‰æ¡†ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å•é€‰æ¡†ç»„ä»¶æ¨¡æ¿</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">myRadio</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">Text</span>($r(<span class="hljs-string">'app.string.radio'</span>))
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">fontColor</span>($r(<span class="hljs-string">'sys.color.mask_secondary'</span>))
  <span class="hljs-comment">// ç”·é€‰é¡¹</span>
  <span class="hljs-title class_">Row</span>() {
    <span class="hljs-title class_">Radio</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'radioGroup'</span> })
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: $r(<span class="hljs-string">'app.float.margin_right'</span>) })
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'man'</span>)
  }
  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
  <span class="hljs-comment">// å¥³é€‰é¡¹</span>
  <span class="hljs-title class_">Row</span>() {
    <span class="hljs-title class_">Radio</span>({ <span class="hljs-attr">value</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'radioGroup'</span> })
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: $r(<span class="hljs-string">'app.float.margin_right'</span>) })
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'woman'</span>)
  }
  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
}

<span class="hljs-comment">// å¤é€‰æ¡†ç»„ä»¶æ¨¡æ¿</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">myCheckBox</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">Text</span>($r(<span class="hljs-string">'app.string.checkbox'</span>))
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">fontColor</span>($r(<span class="hljs-string">'sys.color.mask_secondary'</span>))
  <span class="hljs-comment">// å…¨é€‰</span>
  <span class="hljs-title class_">Row</span>() {
    <span class="hljs-title class_">CheckboxGroup</span>({ <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup'</span> })
      .<span class="hljs-title function_">checkboxShape</span>(<span class="hljs-title class_">CheckBoxShape</span>.<span class="hljs-property">ROUNDED_SQUARE</span>)
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'all'</span>)
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">left</span>: $r(<span class="hljs-string">'app.float.margin_right'</span>) })
  }
  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
  <span class="hljs-comment">// é€‰é¡¹1</span>
  <span class="hljs-title class_">Row</span>() {
    <span class="hljs-title class_">Checkbox</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup'</span> })
      .<span class="hljs-title function_">shape</span>(<span class="hljs-title class_">CheckBoxShape</span>.<span class="hljs-property">ROUNDED_SQUARE</span>)
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: $r(<span class="hljs-string">'app.float.margin_right'</span>) })
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'text1'</span>)
  }
  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
  <span class="hljs-comment">// é€‰é¡¹2</span>
  <span class="hljs-title class_">Row</span>() {
    <span class="hljs-title class_">Checkbox</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'0'</span>, <span class="hljs-attr">group</span>: <span class="hljs-string">'checkboxGroup'</span> })
      .<span class="hljs-title function_">shape</span>(<span class="hljs-title class_">CheckBoxShape</span>.<span class="hljs-property">ROUNDED_SQUARE</span>)
      .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">right</span>: $r(<span class="hljs-string">'app.float.margin_right'</span>) })
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">'text2'</span>)
  }
  .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
}
</code></pre>
<h4 data-id="heading-20">ç¬¬äºŒæ­¥ï¼šåˆ›å»ºç»„ä»¶å·¥å‚</h4>
<p>æŠŠç»„ä»¶æ¨¡æ¿åŒ…è£…åå­˜å…¥Mapï¼Œå†å¯¼å‡ºå·¥å‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰ç»„ä»¶å·¥å‚Mapï¼Œé”®æ˜¯ç»„ä»¶åï¼Œå€¼æ˜¯ç»„ä»¶å¯¹è±¡</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">factoryMap</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">object</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-comment">// æŠŠç»„ä»¶å­˜å…¥å·¥å‚ï¼ˆç”¨wrapBuilderåŒ…è£…@Builderæ–¹æ³•ï¼‰</span>
factoryMap.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Radio'</span>, <span class="hljs-title function_">wrapBuilder</span>(myRadio));
factoryMap.<span class="hljs-title function_">set</span>(<span class="hljs-string">'Checkbox'</span>, <span class="hljs-title function_">wrapBuilder</span>(myCheckBox));

<span class="hljs-comment">// å¯¼å‡ºå·¥å‚ï¼Œä¾›å¤–éƒ¨ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> { factoryMap };
</code></pre>
<h4 data-id="heading-21">ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨å·¥å‚é‡Œçš„ç»„ä»¶</h4>
<p>å¯¼å…¥å·¥å‚ï¼ŒæŒ‰ç»„ä»¶åè·å–å¹¶æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¯¼å…¥ç»„ä»¶å·¥å‚ï¼ˆè·¯å¾„è¦æŒ‰å®é™…é¡¹ç›®è°ƒæ•´ï¼‰</span>
<span class="hljs-keyword">import</span> { factoryMap } <span class="hljs-keyword">from</span> <span class="hljs-string">'../view/FactoryMap'</span>;

<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">ComponentFactory</span> {
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">NavDestination</span>() {
      <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">12</span> }) {
        <span class="hljs-comment">// æŒ‰åå­—è·å–å•é€‰æ¡†ç»„ä»¶å¹¶æ¸²æŸ“</span>
        (factoryMap.<span class="hljs-title function_">get</span>(<span class="hljs-string">'Radio'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">WrappedBuilder</span>&lt;[]&gt;).<span class="hljs-title function_">builder</span>();
        <span class="hljs-comment">// æŒ‰åå­—è·å–å¤é€‰æ¡†ç»„ä»¶å¹¶æ¸²æŸ“</span>
        (factoryMap.<span class="hljs-title function_">get</span>(<span class="hljs-string">'Checkbox'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">WrappedBuilder</span>&lt;[]&gt;).<span class="hljs-title function_">builder</span>();
      }
      .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
      .<span class="hljs-title function_">padding</span>($r(<span class="hljs-string">'app.float.padding'</span>))
    }
    .<span class="hljs-title function_">title</span>(<span class="hljs-title function_">getResourceString</span>($r(<span class="hljs-string">'app.string.factory'</span>), <span class="hljs-variable language_">this</span>))
  }
}
</code></pre>
<h3 data-id="heading-22">å°æé†’</h3>
<ol>
<li>åªæœ‰å…¨å±€çš„<code>@Builder</code>æ–¹æ³•æ‰èƒ½ç”¨<code>wrapBuilder</code>åŒ…è£…</li>
<li>ä»å·¥å‚æ‹¿çš„ç»„ä»¶ï¼Œåªèƒ½åœ¨<code>struct</code>çš„<code>build</code>æ–¹æ³•é‡Œä½¿ç”¨</li>
</ol>
<h2 data-id="heading-23">äº”ã€å°è£…åå¸¸è§é—®é¢˜ï¼šç›´æ¥æŠ„ä½œä¸šå°±è¡Œï¼</h2>
<h3 data-id="heading-24">1. æ€ä¹ˆè°ƒç”¨å­ç»„ä»¶é‡Œçš„æ–¹æ³•ï¼Ÿ</h3>
<p>ä¸‰ç§å®ç”¨æ–¹æ³•ï¼ŒæŒ‰éœ€é€‰ï¼š</p>
<h4 data-id="heading-25">æ–¹æ³•ä¸€ï¼šç”¨Controllerç±»ï¼ˆæ¨èï¼‰</h4>
<p>å®šä¹‰ä¸€ä¸ªæ§åˆ¶å™¨ï¼Œå­ç»„ä»¶æŠŠæ–¹æ³•â€œäº¤â€ç»™æ§åˆ¶å™¨ï¼Œçˆ¶ç»„ä»¶é€šè¿‡æ§åˆ¶å™¨è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ§åˆ¶å™¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Controller</span> {
  action = <span class="hljs-function">() =&gt;</span> {}; <span class="hljs-comment">// ç”¨æ¥å­˜å­ç»„ä»¶çš„æ–¹æ³•</span>
}

<span class="hljs-comment">// å­ç»„ä»¶</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">export</span> struct <span class="hljs-title class_">ChildComponent</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">bgColor</span>: <span class="hljs-title class_">ResourceColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>;
  <span class="hljs-attr">controller</span>: <span class="hljs-title class_">Controller</span> | <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;

  <span class="hljs-comment">// å­ç»„ä»¶çš„æ–¹æ³•ï¼šåˆ‡æ¢èƒŒæ™¯è‰²</span>
  <span class="hljs-keyword">private</span> switchColor = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span> === <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span> ? <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> : <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>;
  }

  <span class="hljs-comment">// ç»„ä»¶åˆå§‹åŒ–æ—¶ï¼ŒæŠŠæ–¹æ³•èµ‹å€¼ç»™æ§åˆ¶å™¨</span>
  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-property">action</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">switchColor</span>;
    }
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Child Component'</span>)
    }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span>).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
  }
}

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-keyword">private</span> childRef = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Controller</span>(); <span class="hljs-comment">// åˆ›å»ºæ§åˆ¶å™¨å®ä¾‹</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-comment">// æŠŠæ§åˆ¶å™¨ä¼ ç»™å­ç»„ä»¶</span>
      <span class="hljs-title class_">ChildComponent</span>({ <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">childRef</span> })
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'åˆ‡æ¢å­ç»„ä»¶é¢œè‰²'</span>)
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">childRef</span>.<span class="hljs-title function_">action</span>(); <span class="hljs-comment">// è°ƒç”¨å­ç»„ä»¶æ–¹æ³•</span>
        })
        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">16</span> })
    }
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)
  }
}
</code></pre>
<h4 data-id="heading-26">æ–¹æ³•äºŒï¼šç”¨@Watchç›‘å¬</h4>
<p>çˆ¶ç»„ä»¶æ”¹çŠ¶æ€å˜é‡ï¼Œå­ç»„ä»¶ç›‘å¬å˜é‡å˜åŒ–ï¼Œè§¦å‘æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å­ç»„ä»¶</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">export</span> struct <span class="hljs-title class_">ChildComponent</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">bgColor</span>: <span class="hljs-title class_">ResourceColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>;
  <span class="hljs-comment">// ç›‘å¬checkFlagå˜é‡å˜åŒ–</span>
  <span class="hljs-meta">@Link</span> <span class="hljs-meta">@Watch</span>(<span class="hljs-string">'switchColor'</span>) <span class="hljs-attr">checkFlag</span>: <span class="hljs-built_in">boolean</span>;

  <span class="hljs-comment">// å˜é‡å˜åŒ–æ—¶è§¦å‘çš„æ–¹æ³•</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">switchColor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">checkFlag</span> ? <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> : <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>;
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Child Component'</span>)
    }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span>).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
  }
}

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">childCheckFlag</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">ChildComponent</span>({ <span class="hljs-attr">checkFlag</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">childCheckFlag</span> })
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'åˆ‡æ¢é¢œè‰²'</span>)
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">childCheckFlag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">childCheckFlag</span>; <span class="hljs-comment">// æ”¹å˜é‡</span>
        })
        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">16</span> })
    }
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)
  }
}
</code></pre>
<h4 data-id="heading-27">æ–¹æ³•ä¸‰ï¼šç”¨Emitteräº‹ä»¶é€šä¿¡</h4>
<p>å­ç»„ä»¶ç›‘å¬äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶å‘é€äº‹ä»¶ï¼Œè§¦å‘å­ç»„ä»¶æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å­ç»„ä»¶</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">export</span> struct <span class="hljs-title class_">ChildComponent</span> {
  <span class="hljs-comment">// å®šä¹‰äº‹ä»¶ID</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> <span class="hljs-variable constant_">EVENT_ID_SWITCH_COLOR</span> = <span class="hljs-string">'SWITCH_COLOR'</span>;
  <span class="hljs-meta">@State</span> <span class="hljs-attr">bgColor</span>: <span class="hljs-title class_">ResourceColor</span> = <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>;

  <span class="hljs-keyword">private</span> switchColor = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span> === <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span> ? <span class="hljs-title class_">Color</span>.<span class="hljs-property">Red</span> : <span class="hljs-title class_">Color</span>.<span class="hljs-property">White</span>;
  }

  <span class="hljs-comment">// ç»„ä»¶åˆå§‹åŒ–æ—¶ç›‘å¬äº‹ä»¶</span>
  <span class="hljs-title function_">aboutToAppear</span>(): <span class="hljs-built_in">void</span> {
    emitter.<span class="hljs-title function_">on</span>(<span class="hljs-title class_">ChildComponent</span>.<span class="hljs-property">EVENT_ID_SWITCH_COLOR</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">switchColor</span>);
  }

  <span class="hljs-comment">// ç»„ä»¶é”€æ¯æ—¶å–æ¶ˆç›‘å¬</span>
  <span class="hljs-title function_">aboutToDisappear</span>(): <span class="hljs-built_in">void</span> {
    emitter.<span class="hljs-title function_">off</span>(<span class="hljs-title class_">ChildComponent</span>.<span class="hljs-property">EVENT_ID_SWITCH_COLOR</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">switchColor</span>);
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'Child Component'</span>)
    }.<span class="hljs-title function_">backgroundColor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">bgColor</span>).<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
  }
}

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">ChildComponent</span>()
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'åˆ‡æ¢é¢œè‰²'</span>)
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
          emitter.<span class="hljs-title function_">emit</span>(<span class="hljs-title class_">ChildComponent</span>.<span class="hljs-property">EVENT_ID_SWITCH_COLOR</span>); <span class="hljs-comment">// å‘é€äº‹ä»¶</span>
        })
        .<span class="hljs-title function_">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">16</span> })
    }
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)
  }
}
</code></pre>
<h3 data-id="heading-28">2. æ€ä¹ˆè°ƒç”¨çˆ¶ç»„ä»¶é‡Œçš„æ–¹æ³•ï¼Ÿ</h3>
<p>è¶…ç®€å•ï¼å­ç»„ä»¶ç•™ä¸ªå›è°ƒå‚æ•°ï¼Œçˆ¶ç»„ä»¶æŠŠè‡ªå·±çš„æ–¹æ³•ä¼ è¿›å»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å­ç»„ä»¶</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">export</span> struct <span class="hljs-title class_">ChildComponent</span> {
  call = <span class="hljs-function">() =&gt;</span> {}; <span class="hljs-comment">// å›è°ƒå‚æ•°ï¼Œç”¨æ¥å­˜çˆ¶ç»„ä»¶çš„æ–¹æ³•</span>

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'è°ƒç”¨çˆ¶ç»„ä»¶æ–¹æ³•'</span>)
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">call</span>(); <span class="hljs-comment">// è§¦å‘çˆ¶ç»„ä»¶æ–¹æ³•</span>
        })
    }
  }
}

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-comment">// çˆ¶ç»„ä»¶çš„æ–¹æ³•</span>
  <span class="hljs-title function_">parentAction</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUIContext</span>().<span class="hljs-title function_">getPromptAction</span>().<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'Parent Action'</span> });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">let</span> err = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;
      hilog.<span class="hljs-title function_">warn</span>(<span class="hljs-number">0x000</span>, <span class="hljs-string">'testTag'</span>, <span class="hljs-string">`showToast failed, code=<span class="hljs-subst">${err.code}</span>, message=<span class="hljs-subst">${err.message}</span>`</span>);
    }
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-comment">// æŠŠçˆ¶ç»„ä»¶æ–¹æ³•ä¼ ç»™å­ç»„ä»¶</span>
      <span class="hljs-title class_">ChildComponent</span>({ <span class="hljs-attr">call</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentAction</span> })
    }
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)
  }
}
</code></pre>
<h3 data-id="heading-29">3. æ€ä¹ˆå®ç°â€œæ’æ§½â€ï¼ˆå¯å˜UIéƒ¨åˆ†ï¼‰ï¼Ÿ</h3>
<p>ç”¨<code>@BuilderParam</code>ï¼å­ç»„ä»¶ç•™ä¸ªä½ç½®ï¼Œçˆ¶ç»„ä»¶æŒ‰éœ€ä¼ å…¥UIå†…å®¹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å­ç»„ä»¶</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">export</span> struct <span class="hljs-title class_">ChildComponent</span> {
  <span class="hljs-comment">// é»˜è®¤ç©ºUI</span>
  <span class="hljs-meta">@Builder</span>
  <span class="hljs-title function_">customBuilder</span>(<span class="hljs-params"/>) {}

  <span class="hljs-comment">// æš´éœ²ç»™çˆ¶ç»„ä»¶çš„UIå‚æ•°</span>
  <span class="hljs-meta">@BuilderParam</span> <span class="hljs-attr">customBuilderParam</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">customBuilder</span>;

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">'å­ç»„ä»¶å›ºå®šå†…å®¹'</span>)
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">customBuilderParam</span>(); <span class="hljs-comment">// çˆ¶ç»„ä»¶ä¼ å…¥çš„å¯å˜UI</span>
    }
  }
}

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">Index</span> {
  <span class="hljs-comment">// çˆ¶ç»„ä»¶å®šä¹‰çš„å¯å˜UI</span>
  <span class="hljs-meta">@Builder</span>
  <span class="hljs-title function_">componentBuilder</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Text</span>(<span class="hljs-string">`çˆ¶ç»„ä»¶ä¼ å…¥çš„UI`</span>)
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-comment">// ä¼ å…¥å¯å˜UI</span>
      <span class="hljs-title class_">ChildComponent</span>() {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">componentBuilder</span>();
      }
    }
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">alignItems</span>(<span class="hljs-title class_">HorizontalAlign</span>.<span class="hljs-property">Center</span>)
  }
}
</code></pre>
<h3 data-id="heading-30">4. æ€ä¹ˆä¼ é€’ç»„ä»¶æ•°ç»„ï¼Œå®ç°å¾ªç¯æ¸²æŸ“ï¼Ÿ</h3>
<p>å…ˆæŠŠç»„ä»¶åŒ…è£…æˆå…¨å±€<code>@Builder</code>ï¼Œå†ç”¨<code>wrapBuilder</code>å°è£…æˆæ•°ç»„ï¼Œæœ€åç”¨<code>ForEach</code>å¾ªç¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å®šä¹‰å…¨å±€ç»„ä»¶æ¨¡æ¿</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">itemBuilder</span>(<span class="hljs-params">text: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-title class_">Text</span>(text)
    .<span class="hljs-title function_">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_">padding</span>(<span class="hljs-number">10</span>)
    .<span class="hljs-title function_">borderWidth</span>(<span class="hljs-number">1</span>)
}

<span class="hljs-comment">// 2. å°è£…æˆç»„ä»¶æ•°ç»„</span>
<span class="hljs-keyword">const</span> componentArray = [
  <span class="hljs-title function_">wrapBuilder</span>(itemBuilder, <span class="hljs-string">'é¡¹ç›®1'</span>),
  <span class="hljs-title function_">wrapBuilder</span>(itemBuilder, <span class="hljs-string">'é¡¹ç›®2'</span>),
  <span class="hljs-title function_">wrapBuilder</span>(itemBuilder, <span class="hljs-string">'é¡¹ç›®3'</span>)
];

<span class="hljs-comment">// 3. å¾ªç¯æ¸²æŸ“</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">ForEachComponent</span> {
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-title class_">ForEach</span>(componentArray, <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
        item.<span class="hljs-title function_">builder</span>(); <span class="hljs-comment">// æ¸²æŸ“æ¯ä¸ªç»„ä»¶</span>
      })
    }
  }
}
</code></pre>
<h2 data-id="heading-31">æ€»ç»“</h2>
<p>ç»„ä»¶å°è£…çš„æ ¸å¿ƒå°±æ˜¯â€œæå–é‡å¤ï¼Œæš´éœ²å¯å˜â€ï¼š</p>
<ul>
<li>åªå¤ç”¨æ ·å¼ï¼šç”¨<code>AttributeModifier</code></li>
<li>å¤ç”¨æ ·å¼+å¸ƒå±€+é€»è¾‘ï¼šç”¨<code>@Component</code>å†™è‡ªå®šä¹‰ç»„ä»¶</li>
<li>æ‰¹é‡ç®¡ç†ç»„ä»¶ï¼šç”¨ç»„ä»¶å·¥å‚ï¼ˆMap+wrapBuilderï¼‰</li>
</ul>
<p>æŒæ¡è¿™ä¸‰æ‹›ï¼Œå†ä¹Ÿä¸ç”¨å†™é‡å¤ä»£ç ï¼Œé¡¹ç›®ç»´æŠ¤èµ·æ¥ä¹Ÿçœå¿ƒã€‚é‡åˆ°è°ƒç”¨æ–¹æ³•ã€æ’æ§½è¿™äº›é—®é¢˜ï¼Œç›´æ¥æŠ„ä¸Šé¢çš„ä½œä¸šå°±è¡Œï½ èµ¶ç´§æŠŠä½ é¡¹ç›®é‡Œçš„é‡å¤ç»„ä»¶å°è£…èµ·æ¥è¯•è¯•å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nacosçš„CAPæ¨¡å‹å®è·µï¼šAPä¸CPçš„åœºæ™¯åŒ–é€‰æ‹©]]></title>    <link>https://juejin.cn/post/7596186565271617551</link>    <guid>https://juejin.cn/post/7596186565271617551</guid>    <pubDate>2026-01-19T02:21:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596186565271617551" data-draft-id="7596250622707777571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nacosçš„CAPæ¨¡å‹å®è·µï¼šAPä¸CPçš„åœºæ™¯åŒ–é€‰æ‹©"/> <meta itemprop="keywords" content="Spring Cloud"/> <meta itemprop="datePublished" content="2026-01-19T02:21:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nacosçš„CAPæ¨¡å‹å®è·µï¼šAPä¸CPçš„åœºæ™¯åŒ–é€‰æ‹©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:21:07.000Z" title="Mon Jan 19 2026 02:21:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé¢†åŸŸï¼Œ<strong>CAPå®šç†</strong>æ˜¯æ¶æ„è®¾è®¡çš„æ ¸å¿ƒçº¦æŸï¼šå½“ç½‘ç»œåˆ†åŒºï¼ˆPartition, Pï¼‰å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿæ— æ³•åŒæ—¶æ»¡è¶³<strong>å¼ºä¸€è‡´æ€§ï¼ˆConsistency, Cï¼‰</strong> å’Œ<strong>100%å¯ç”¨æ€§ï¼ˆAvailability, Aï¼‰</strong> ï¼Œå¿…é¡»åœ¨äºŒè€…é—´æƒè¡¡ã€‚</p>
<p>Nacos ä½œä¸ºé˜¿é‡Œå¼€æºçš„<strong>æœåŠ¡æ³¨å†Œä¸é…ç½®ä¸­å¿ƒ</strong>ï¼ŒåŒæ—¶æ‰¿è½½â€œæœåŠ¡å‘ç°â€å’Œâ€œé…ç½®ç®¡ç†â€ä¸¤å¤§æ ¸å¿ƒèŒè´£ã€‚è¿™ä¸¤ä¸ªåœºæ™¯å¯¹ CAP çš„ä¼˜å…ˆçº§éœ€æ±‚æˆªç„¶ä¸åŒï¼šæœåŠ¡å‘ç°éœ€<strong>é«˜å¯ç”¨ã€ä½å»¶è¿Ÿ</strong>ï¼ˆå®¹å¿çŸ­æš‚æ•°æ®ä¸ä¸€è‡´ï¼‰ï¼Œè€Œé…ç½®ç®¡ç†éœ€<strong>å¼ºä¸€è‡´æ€§</strong>ï¼ˆé¿å…è„æ•°æ®å¼•å‘ä¸šåŠ¡æ•…éšœï¼‰ã€‚</p>
<p>Nacos å¦‚ä½•åœ¨å•ä¸€ç³»ç»Ÿä¸­å¹³è¡¡ CAP çŸ›ç›¾ï¼Ÿæœ¬æ–‡å°†æ‹†è§£å…¶<strong>AP/CP æ¨¡å¼çš„è®¾è®¡ä¸å®è·µ</strong>ï¼Œè§£æåœºæ™¯åŒ–é€‰å‹çš„é€»è¾‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€CAPå®šç†ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„â€œä¸å¯èƒ½ä¸‰è§’â€</h2>
<p>CAP å®šç†çš„æ ¸å¿ƒæ˜¯<strong>ä¸‰é€‰äºŒ</strong>çš„çº¦æŸï¼š</p>
<ul>
<li><strong>Cï¼ˆå¼ºä¸€è‡´æ€§ï¼‰</strong> ï¼šæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çœ‹åˆ°çš„æ•°æ®å®Œå…¨ä¸€è‡´ï¼›</li>
<li><strong>Aï¼ˆå¯ç”¨æ€§ï¼‰</strong> ï¼šç³»ç»Ÿæ¥æ”¶åˆ°è¯·æ±‚åï¼Œå¿…é¡»åœ¨æœ‰é™æ—¶é—´å†…è¿”å›å“åº”ï¼ˆæ— è¶…æ—¶ã€æ— é”™è¯¯ï¼‰ï¼›</li>
<li><strong>Pï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰</strong> ï¼šç½‘ç»œåˆ†åŒºï¼ˆèŠ‚ç‚¹é—´é€šä¿¡ä¸­æ–­ï¼‰å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿä»èƒ½æ­£å¸¸å·¥ä½œã€‚</li>
</ul>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿå¿…é¡»å®¹å¿ Pï¼ˆç½‘ç»œæ•…éšœæ˜¯å¸¸æ€ï¼‰ï¼Œå› æ­¤éœ€åœ¨ C å’Œ A é—´æŠ‰æ‹©ï¼š</p>
<ul>
<li><strong>é€‰ CP</strong>ï¼šç‰ºç‰²å¯ç”¨æ€§ï¼Œåˆ†åŒºæ—¶é˜»å¡è¯·æ±‚ï¼Œç›´åˆ°æ•°æ®åŒæ­¥å®Œæˆï¼ˆå¦‚ ZooKeeperã€Etcdï¼‰ï¼›</li>
<li><strong>é€‰ AP</strong>ï¼šç‰ºç‰²å¼ºä¸€è‡´æ€§ï¼Œåˆ†åŒºæ—¶å…è®¸èŠ‚ç‚¹ç”¨â€œè¿‡æœŸæ•°æ®â€å“åº”ï¼Œä¿è¯æœåŠ¡ä¸ä¸­æ–­ï¼ˆå¦‚ Cassandraã€Eurekaï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-1">äºŒã€Nacosçš„æ ¸å¿ƒå®šä½ï¼šåŒåœºæ™¯ä¸‹çš„CAPéœ€æ±‚å·®å¼‚</h2>
<p>Nacos åŒæ—¶æ‰¿æ‹…<strong>æœåŠ¡æ³¨å†Œä¸­å¿ƒ</strong>å’Œ<strong>é…ç½®ä¸­å¿ƒ</strong>ä¸¤å¤§è§’è‰²ï¼ŒäºŒè€…çš„ CAP éœ€æ±‚å­˜åœ¨æœ¬è´¨å†²çªï¼š</p>























<table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>æ ¸å¿ƒè¯‰æ±‚</th><th>CAP ä¼˜å…ˆçº§</th><th>åŸå› åˆ†æ</th></tr></thead><tbody><tr><td>æœåŠ¡æ³¨å†Œä¸­å¿ƒ</td><td>æœåŠ¡å‘ç°â€œé«˜å¯ç”¨â€â€œä½å»¶è¿Ÿâ€</td><td>AP</td><td>æœåŠ¡è°ƒç”¨ä¾èµ–â€œèƒ½å¦æ‰¾åˆ°ç›®æ ‡å®ä¾‹â€ï¼ŒçŸ­æš‚æ•°æ®ä¸ä¸€è‡´ï¼ˆå¦‚å®ä¾‹åˆ—è¡¨å»¶è¿ŸåŒæ­¥ï¼‰å¯¹ä¸šåŠ¡å½±å“æå°</td></tr><tr><td>é…ç½®ä¸­å¿ƒ</td><td>é…ç½®å˜æ›´â€œå¼ºä¸€è‡´æ€§â€â€œå¯é æ€§â€</td><td>CP</td><td>ä¸šåŠ¡é…ç½®ï¼ˆå¦‚æ”¯ä»˜è§„åˆ™ã€æ•°æ®åº“è¿æ¥ï¼‰éœ€å…¨é›†ç¾¤å³æ—¶ç”Ÿæ•ˆï¼Œè„æ•°æ®å¯èƒ½å¼•å‘å…¨å±€æ•…éšœ</td></tr></tbody></table>
<h2 data-id="heading-2">ä¸‰ã€Nacosçš„APæ¨¡å¼å®è·µï¼šæœåŠ¡æ³¨å†Œçš„â€œå¯ç”¨æ€§ä¼˜å…ˆâ€</h2>
<h3 data-id="heading-3">3.1 APæ¨¡å¼çš„å®ç°åŸç†</h3>
<p>Nacos æœåŠ¡æ³¨å†Œä¸­å¿ƒ<strong>é»˜è®¤é‡‡ç”¨ AP æ¨¡å¼</strong>ï¼ŒåŸºäº<strong>Distro åè®®</strong>ï¼ˆé˜¿é‡Œå†…éƒ¨ä¼˜åŒ–çš„æœ€ç»ˆä¸€è‡´æ€§åè®®ï¼Œç±»ä¼¼ Gossip åè®®ï¼‰å®ç°èŠ‚ç‚¹é—´çš„<strong>å¼‚æ­¥æ•°æ®å¤åˆ¶</strong>ï¼š</p>
<ul>
<li>å†™æ“ä½œï¼ˆå¦‚æœåŠ¡ä¸Šçº¿ï¼‰ï¼šèŠ‚ç‚¹æ¥æ”¶è¯·æ±‚åï¼Œå…ˆå°†æ•°æ®å†™å…¥æœ¬åœ°ï¼Œå†å¼‚æ­¥å¹¿æ’­ç»™å…¶ä»–èŠ‚ç‚¹ï¼›</li>
<li>è¯»æ“ä½œï¼ˆå¦‚æœåŠ¡å‘ç°ï¼‰ï¼šèŠ‚ç‚¹ç›´æ¥è¿”å›æœ¬åœ°ç¼“å­˜çš„æœåŠ¡åˆ—è¡¨ï¼Œæ— éœ€ç­‰å¾…å…¨é‡åŒæ­¥ã€‚</li>
</ul>
<h3 data-id="heading-4">3.2 åœºæ™¯æ¡ˆä¾‹ï¼šæœåŠ¡å‘ç°çš„â€œé«˜å¯ç”¨â€ä¿éšœ</h3>
<p>å‡è®¾æŸç”µå•†ç³»ç»Ÿéƒ¨ç½²åœ¨å¤šæœºæˆ¿ï¼Œç½‘ç»œåˆ†åŒºå¯¼è‡´æœºæˆ¿ A ä¸æœºæˆ¿ B é€šä¿¡ä¸­æ–­ï¼š</p>
<ul>
<li><strong>AP æ¨¡å¼ä¸‹</strong>ï¼šæœºæˆ¿ B çš„æœåŠ¡æ¶ˆè´¹è€…ä»èƒ½ä»æœ¬åœ° Nacos èŠ‚ç‚¹è·å–â€œæœºæˆ¿ A å­˜æ´»å®ä¾‹â€çš„å†å²æ•°æ®ï¼ˆå¯èƒ½éæœ€æ–°ï¼Œä½†èƒ½ä¿è¯è°ƒç”¨ä¸ä¸­æ–­ï¼‰ï¼›</li>
<li><strong>æ•°æ®åŒæ­¥å»¶è¿Ÿ</strong>ï¼šç½‘ç»œæ¢å¤åï¼ŒèŠ‚ç‚¹é€šè¿‡ Distro åè®®å¼‚æ­¥åŒæ­¥å®ä¾‹çŠ¶æ€ï¼Œæœ€ç»ˆè¾¾æˆä¸€è‡´ã€‚</li>
</ul>
<p>è‹¥å¼ºè¡Œè¿½æ±‚ CPï¼ˆå¦‚é˜»å¡è¯·æ±‚ç›´åˆ°å…¨é‡åŒæ­¥ï¼‰ï¼Œ<strong>æœåŠ¡å‘ç°å»¶è¿Ÿä¼šå¯¼è‡´è°ƒç”¨æ–¹è¶…æ—¶ã€ä¸šåŠ¡é›ªå´©</strong>â€”â€”è¿™ä¸æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„è®¾è®¡ç›®æ ‡èƒŒé“è€Œé©°ã€‚</p>
<h2 data-id="heading-5">å››ã€Nacosçš„CPæ¨¡å¼å®è·µï¼šé…ç½®ä¸­å¿ƒçš„â€œä¸€è‡´æ€§ä¼˜å…ˆâ€</h2>
<h3 data-id="heading-6">4.1 CPæ¨¡å¼çš„å®ç°åŸç†</h3>
<p>Nacos é…ç½®ä¸­å¿ƒ<strong>é»˜è®¤é‡‡ç”¨ CP æ¨¡å¼</strong>ï¼ŒåŸºäº<strong>Raft å…±è¯†ç®—æ³•</strong>å®ç°å¼ºä¸€è‡´æ€§ï¼š</p>
<ul>
<li>å†™è¯·æ±‚ï¼ˆå¦‚ä¿®æ”¹é…ç½®ï¼‰ï¼šç”± Leader èŠ‚ç‚¹æ¥æ”¶ï¼Œå¤åˆ¶åˆ°å¤šæ•°æ´¾ï¼ˆQuorumï¼‰èŠ‚ç‚¹åæ‰æäº¤ï¼Œä¿è¯å…¨é›†ç¾¤æ•°æ®ä¸€è‡´ï¼›</li>
<li>è¯»è¯·æ±‚ï¼ˆå¦‚æŸ¥è¯¢é…ç½®ï¼‰ï¼šå¯ä» Leader æˆ– Follower èŠ‚ç‚¹è¯»å–ï¼ˆéœ€é…ç½®è¯»ä¸€è‡´æ€§çº§åˆ«ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">4.2 åœºæ™¯æ¡ˆä¾‹ï¼šå…³é”®é…ç½®çš„â€œå¼ºä¸€è‡´â€ä¿éšœ</h3>
<p>ä»¥é‡‘èç³»ç»Ÿçš„â€œäº¤æ˜“é™é¢é…ç½®â€ä¸ºä¾‹ï¼š</p>
<ul>
<li><strong>CP æ¨¡å¼ä¸‹</strong>ï¼šé…ç½®æ›´æ–°æ—¶ï¼ŒRaft ç¡®ä¿æ‰€æœ‰ Nacos èŠ‚ç‚¹åŒæ­¥æœ€æ–°æ•°æ®ï¼Œä»»ä½•èŠ‚ç‚¹è¯»å–åˆ°çš„éƒ½æ˜¯åŒä¸€ç‰ˆæœ¬ï¼›</li>
<li><strong>ç½‘ç»œåˆ†åŒºæ—¶</strong>ï¼šå°‘æ•°æ´¾èŠ‚ç‚¹ï¼ˆå¦‚è·¨æœºæˆ¿çš„éƒ¨åˆ†èŠ‚ç‚¹ï¼‰ä¼šå› æ— æ³•å‚ä¸å¤šæ•°æ´¾æŠ•ç¥¨è€Œæš‚æ—¶ä¸å¯ç”¨ï¼Œä½†å­˜æ´»èŠ‚ç‚¹ä»èƒ½æä¾›â€œä¸€è‡´çš„æ—§é…ç½®â€ï¼Œé¿å…è„æ•°æ®å¼•å‘äº¤æ˜“æ•…éšœã€‚</li>
</ul>
<h2 data-id="heading-8">äº”ã€Nacosçš„æ··åˆæ¶æ„ï¼šAPä¸CPçš„çµæ´»åˆ‡æ¢</h2>
<p>Nacos å¹¶éâ€œé AP å³ CPâ€çš„äºŒå…ƒé€‰æ‹©ï¼Œè€Œæ˜¯é€šè¿‡<strong>é…ç½®åŒ–è®¾è®¡</strong>æ”¯æŒ<strong>åœºæ™¯åŒ–åˆ‡æ¢</strong>ï¼š</p>
<ol>
<li><strong>æœåŠ¡æ³¨å†Œåˆ‡ CP</strong>ï¼šè‹¥ä¸šåŠ¡å¯¹æœåŠ¡å‘ç°çš„â€œæœ€ç»ˆä¸€è‡´æ€§â€å®¹å¿åº¦æä½ï¼ˆå¦‚é‡‘èçº§çš„æ ¸å¿ƒé“¾è·¯ï¼‰ï¼Œå¯é€šè¿‡é…ç½®å¼€å¯æœåŠ¡æ³¨å†Œçš„ CP æ¨¡å¼ï¼ˆåŸºäº Raft åŒæ­¥æ•°æ®ï¼‰ï¼›</li>
<li><strong>é…ç½®ä¸­å¿ƒåˆ‡ AP</strong>ï¼šè‹¥ä¸šåŠ¡å¯¹é…ç½®å˜æ›´çš„â€œå»¶è¿Ÿæ•æ„Ÿâ€è¿œé«˜äºâ€œå¼ºä¸€è‡´â€ï¼ˆå¦‚ç°åº¦å‘å¸ƒçš„ä¸´æ—¶é…ç½®ï¼‰ï¼Œå¯ä¸´æ—¶å…³é—­ CP æ¨¡å¼ï¼Œä¼˜å…ˆä¿éšœå¯ç”¨æ€§ã€‚</li>
</ol>
<h2 data-id="heading-9">å…­ã€æ€»ç»“ï¼šåœºæ™¯é©±åŠ¨çš„CAPå“²å­¦</h2>
<p>Nacos çš„ CAP å®è·µï¼Œæœ¬è´¨æ˜¯ <strong>â€œæŠ€æœ¯æœåŠ¡ä¸šåŠ¡â€</strong> çš„å…¸å‹ä½“ç°ï¼š</p>
<ul>
<li>æœåŠ¡æ³¨å†Œä¸­å¿ƒèšç„¦â€œå¯ç”¨æ€§â€ï¼Œç”¨ AP æ’‘èµ·å¾®æœåŠ¡çš„å¼¹æ€§æ‰©å±•èƒ½åŠ›ï¼›</li>
<li>é…ç½®ä¸­å¿ƒèšç„¦â€œä¸€è‡´æ€§â€ï¼Œç”¨ CP ä¿éšœä¸šåŠ¡é…ç½®çš„å¯é æ€§ï¼›</li>
<li>æ··åˆæ¶æ„åˆ™è®© Nacos èƒ½é€‚é…æ›´å¤æ‚çš„åˆ†å¸ƒå¼åœºæ™¯ï¼ˆå¦‚å¤šæ´»æ¶æ„ã€æ··åˆäº‘éƒ¨ç½²ï¼‰ã€‚</li>
</ul>
<p>æœªæ¥ï¼Œéšç€äº‘åŸç”ŸæŠ€æœ¯çš„æ·±å…¥ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„ CAP æƒè¡¡ä¼šæ›´ç²¾ç»†åŒ–ã€‚Nacos è¿™ç±»â€œ<strong>åœºæ™¯æ„ŸçŸ¥å‹ä¸­é—´ä»¶</strong>â€ï¼Œæ­£é€šè¿‡çµæ´»çš„è®¾è®¡èŒƒå¼ï¼Œæˆä¸ºäº‘åŸç”Ÿæ—¶ä»£çš„åŸºç¡€è®¾æ–½æ ¸å¿ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆé˜¿é‡ŒDubboé€‰æ‹©æ”¾å¼ƒZooKeeperï¼Œå…¨é¢è½¬å‘Nacosï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596241980870131746</link>    <guid>https://juejin.cn/post/7596241980870131746</guid>    <pubDate>2026-01-19T02:23:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596241980870131746" data-draft-id="7596186565271633935" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆé˜¿é‡ŒDubboé€‰æ‹©æ”¾å¼ƒZooKeeperï¼Œå…¨é¢è½¬å‘Nacosï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T02:23:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆé˜¿é‡ŒDubboé€‰æ‹©æ”¾å¼ƒZooKeeperï¼Œå…¨é¢è½¬å‘Nacosï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:23:09.000Z" title="Mon Jan 19 2026 02:23:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾®æœåŠ¡æ¶æ„æ¼”è¿›è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡æ³¨å†Œä¸å‘ç°æœºåˆ¶å§‹ç»ˆæ˜¯æ ¸å¿ƒç¯èŠ‚ã€‚Dubbo ä½œä¸ºé˜¿é‡Œå·´å·´å¼€æºçš„é«˜æ€§èƒ½ RPC æ¡†æ¶ï¼Œæ—©æœŸç‰ˆæœ¬é»˜è®¤ä½¿ç”¨ ZooKeeper ä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œä½†åœ¨è¿‘å¹´æ¥çš„å‘å±•ä¸­ï¼Œé€æ¸è½¬å‘äº† Nacosã€‚è¿™ä¸€æŠ€æœ¯é€‰å‹çš„è½¬å˜ï¼Œåæ˜ äº†å¾®æœåŠ¡æ¶æ„åœ¨äº‘åŸç”Ÿæ—¶ä»£çš„æ–°éœ€æ±‚å’Œæ¼”è¿›æ–¹å‘ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ZooKeeper çš„ä¼ ç»Ÿè§’è‰²ä¸å±€é™æ€§</h2>
<h3 data-id="heading-1">1.1 ZooKeeper çš„è®¾è®¡åˆè¡·</h3>
<p>ZooKeeper æœ€åˆæ˜¯ä¸º Hadoop ç”Ÿæ€ç³»ç»Ÿè®¾è®¡çš„åˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œå…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>å¼ºä¸€è‡´æ€§</strong>ï¼šåŸºäº ZAB åè®®ä¿è¯æ•°æ®ä¸€è‡´æ€§</li>
<li><strong>èŠ‚ç‚¹ç›‘å¬æœºåˆ¶</strong>ï¼šWatcher æœºåˆ¶å¯å®ç°æœåŠ¡å˜æ›´é€šçŸ¥</li>
<li><strong>é›†ç¾¤é«˜å¯ç”¨</strong>ï¼šLeader-Follower æ¶æ„ä¿è¯æœåŠ¡è¿ç»­æ€§</li>
</ul>
<h3 data-id="heading-2">1.2 åœ¨å¾®æœåŠ¡åœºæ™¯ä¸­çš„ç—›ç‚¹</h3>
<h4 data-id="heading-3"><strong>1.2.1 åŠŸèƒ½å•ä¸€æ€§</strong></h4>
<p>ZooKeeper æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼Œè€Œéä¸“é—¨çš„æœåŠ¡å‘ç°ç³»ç»Ÿï¼š</p>
<ul>
<li>ç¼ºä¹æœåŠ¡å¥åº·æ£€æŸ¥çš„å®Œæ•´æœºåˆ¶</li>
<li>æ— å†…ç½®çš„æœåŠ¡å…ƒæ•°æ®ç®¡ç†èƒ½åŠ›</li>
<li>é…ç½®ç®¡ç†åŠŸèƒ½ç›¸å¯¹åŸºç¡€</li>
</ul>
<h4 data-id="heading-4"><strong>1.2.2 æ€§èƒ½ç“¶é¢ˆ</strong></h4>
<ul>
<li><strong>å†™æ“ä½œç“¶é¢ˆ</strong>ï¼šæ‰€æœ‰å†™æ“ä½œå¿…é¡»é€šè¿‡ Leader èŠ‚ç‚¹ï¼Œåœ¨å¤§è§„æ¨¡æœåŠ¡å®ä¾‹é¢‘ç¹æ³¨å†Œ/æ³¨é”€æ—¶å­˜åœ¨ç“¶é¢ˆ</li>
<li><strong>è¿æ¥æ•°é™åˆ¶</strong>ï¼šæ¯ä¸ªæœåŠ¡å®ä¾‹éœ€ç»´æŒé•¿è¿æ¥ï¼Œä¸‡çº§èŠ‚ç‚¹æ—¶å¯¹ ZooKeeper é›†ç¾¤å‹åŠ›æ˜¾è‘—</li>
<li><strong>Watcher æœºåˆ¶ç¼ºé™·</strong>ï¼šä¸€æ¬¡æ€§è§¦å‘ï¼Œå¤§é‡æœåŠ¡ç›‘å¬æ—¶å­˜åœ¨â€œæƒŠç¾¤æ•ˆåº”â€</li>
</ul>
<h4 data-id="heading-5"><strong>1.2.3 è¿ç»´å¤æ‚åº¦</strong></h4>
<ul>
<li>éœ€è¦ç‹¬ç«‹éƒ¨ç½²å’Œç»´æŠ¤é›†ç¾¤</li>
<li>æ•°æ®è¿ç§»å’Œæ‰©å®¹ç›¸å¯¹å¤æ‚</li>
<li>ä¸é…ç½®ç®¡ç†éœ€è¦é¢å¤–ç³»ç»Ÿé…åˆ</li>
</ul>
<hr/>
<h2 data-id="heading-6">äºŒã€Nacos çš„å…¨é¢ä¼˜åŠ¿</h2>
<h3 data-id="heading-7">2.1 ä¸€ä½“åŒ–æœåŠ¡åŸºç¡€è®¾æ–½</h3>
<p>Nacosï¼ˆNaming and Configuration Serviceï¼‰å¤©ç”Ÿä¸ºå¾®æœåŠ¡è®¾è®¡ï¼š</p>
<h4 data-id="heading-8"><strong>2.1.1 æœåŠ¡ä¸é…ç½®çš„ç»Ÿä¸€ç®¡ç†</strong></h4>
<ul>
<li>æœåŠ¡æ³¨å†Œå‘ç°ä¸åŠ¨æ€é…ç½®ç®¡ç†åŒå¹³å°</li>
<li>å‡å°‘ç³»ç»Ÿä¾èµ–ï¼Œç®€åŒ–æ¶æ„å¤æ‚åº¦</li>
<li>ç»Ÿä¸€çš„ç®¡ç†æ§åˆ¶å°ï¼Œé™ä½è¿ç»´æˆæœ¬</li>
</ul>
<h4 data-id="heading-9"><strong>2.1.2 å¤šç¯å¢ƒæ”¯æŒ</strong></h4>
<ul>
<li>å‘½åç©ºé—´ï¼ˆNamespaceï¼‰æ”¯æŒå¤šç¯å¢ƒéš”ç¦»</li>
<li>åˆ†ç»„ï¼ˆGroupï¼‰æœºåˆ¶å®ç°é€»è¾‘éš”ç¦»</li>
<li>é›†ç¾¤ï¼ˆClusterï¼‰ç®¡ç†æ»¡è¶³å¤šæ•°æ®ä¸­å¿ƒéœ€æ±‚</li>
</ul>
<h3 data-id="heading-10">2.2 æ›´ä¼˜çš„æ€§èƒ½è¡¨ç°</h3>
<h4 data-id="heading-11"><strong>2.2.1 æ¶æ„è®¾è®¡ä¼˜åŠ¿</strong></h4>
<ul>
<li><strong>AP/CP æ¨¡å¼å¯åˆ‡æ¢</strong>ï¼šæ ¹æ®åœºæ™¯é€‰æ‹©ä¸€è‡´æ€§æˆ–å¯ç”¨æ€§ä¼˜å…ˆ</li>
<li><strong>åˆ†å¸ƒå¼æ•°æ®å­˜å‚¨</strong>ï¼šé‡‡ç”¨ Raft åè®®+åˆ†å¸ƒå¼å­˜å‚¨ï¼Œé¿å…å•ç‚¹ç“¶é¢ˆ</li>
<li><strong>å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡</strong>ï¼šå†…ç½®å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå‡å°‘æ³¨å†Œä¸­å¿ƒå‹åŠ›</li>
</ul>
<h4 data-id="heading-12"><strong>2.2.2 å®æµ‹æ€§èƒ½å¯¹æ¯”</strong></h4>
<p>åœ¨å®é™…å¤§è§„æ¨¡éƒ¨ç½²ä¸­ï¼ˆä»¥ 10,000 ä¸ªæœåŠ¡å®ä¾‹ä¸ºä¾‹ï¼‰ï¼š</p>



































<table><thead><tr><th>æŒ‡æ ‡</th><th>ZooKeeper</th><th>Nacos</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>æ³¨å†Œè€—æ—¶</td><td>20-50ms</td><td>5-15ms</td><td>æå‡ 60%-70%</td></tr><tr><td>è®¢é˜…é€šçŸ¥å»¶è¿Ÿ</td><td>100-200ms</td><td>10-30ms</td><td>é™ä½ 80%ä»¥ä¸Š</td></tr><tr><td>å†…å­˜å ç”¨</td><td>è¾ƒé«˜</td><td>ä¼˜åŒ– 40%</td><td>èµ„æºæ•ˆç‡æ›´é«˜</td></tr><tr><td>é›†ç¾¤æ‰©å±•æ€§</td><td>ç›¸å¯¹å¤æ‚</td><td>æ°´å¹³æ‰©å±•ç®€å•</td><td>è¿ç»´ç®€åŒ–</td></tr></tbody></table>
<h3 data-id="heading-13">2.3 å¢å¼ºçš„å¥åº·æ£€æŸ¥æœºåˆ¶</h3>
<ul>
<li><strong>å¤šæ¨¡å¼å¥åº·æ£€æŸ¥</strong>ï¼šTCP/HTTP/MySQL ç­‰å¤šç§æ£€æŸ¥æ–¹å¼</li>
<li><strong>å®¢æˆ·ç«¯å¿ƒè·³ä¸ŠæŠ¥</strong>ï¼šè½»é‡çº§å¿ƒè·³æœºåˆ¶</li>
<li><strong>æœåŠ¡ç«¯ä¸»åŠ¨æ¢æµ‹</strong>ï¼šåŒé‡ä¿éšœï¼Œé¿å…è¯¯åˆ¤</li>
<li><strong>å¥åº·çŠ¶æ€æŒä¹…åŒ–</strong>ï¼šé‡å¯åå¿«é€Ÿæ¢å¤</li>
</ul>
<h3 data-id="heading-14">2.4 äº‘åŸç”Ÿå‹å¥½æ€§</h3>
<ul>
<li><strong>Kubernetes æ·±åº¦é›†æˆ</strong>ï¼šæ”¯æŒ Service è‡ªåŠ¨åŒæ­¥</li>
<li><strong>å¤šè¯­è¨€ç”Ÿæ€å®Œå–„</strong>ï¼šJava/Go/Python ç­‰å¤šè¯­è¨€ SDK</li>
<li><strong>Spring Cloud æ— ç¼å¯¹æ¥</strong>ï¼šç®€åŒ–å¾®æœåŠ¡æŠ€æœ¯æ ˆ</li>
<li><strong>é˜¿é‡Œäº‘äº§å“ç”Ÿæ€</strong>ï¼šä¸ MSEã€EDAS ç­‰äº‘äº§å“æ·±åº¦é›†æˆ</li>
</ul>
<hr/>
<h2 data-id="heading-15">ä¸‰ã€Dubbo ä¸ Nacos çš„æ·±åº¦é›†æˆä¼˜åŠ¿</h2>
<h3 data-id="heading-16">3.1 æ¶æ„å±‚é¢çš„æ·±åº¦èåˆ</h3>
<h4 data-id="heading-17"><strong>3.1.1 å…ƒæ•°æ®å¢å¼º</strong></h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Dubbo 3.0 å¢å¼ºçš„å…ƒæ•°æ®æ ¼å¼</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">version:</span> <span class="hljs-number">2.7</span><span class="hljs-number">.0</span>
  <span class="hljs-attr">params:</span> 
    <span class="hljs-attr">timeout:</span> <span class="hljs-number">1000</span>
    <span class="hljs-attr">retries:</span> <span class="hljs-number">3</span>
  <span class="hljs-attr">protocols:</span> 
    <span class="hljs-bullet">-</span> <span class="hljs-string">dubbo</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">rest</span>
  <span class="hljs-attr">tags:</span> 
    <span class="hljs-bullet">-</span> <span class="hljs-attr">zone:</span> <span class="hljs-string">shanghai</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">environment:</span> <span class="hljs-string">prod</span>
</code></pre>
<h4 data-id="heading-18"><strong>3.1.2 æœåŠ¡æ²»ç†å¢å¼º</strong></h4>
<ul>
<li><strong>æƒé‡é…ç½®</strong>ï¼šåŠ¨æ€è°ƒæ•´æµé‡åˆ†å¸ƒ</li>
<li><strong>è·¯ç”±è§„åˆ™</strong>ï¼šç»†ç²’åº¦çš„æœåŠ¡è·¯ç”±æ§åˆ¶</li>
<li><strong>é™çº§è§„åˆ™</strong>ï¼šç†”æ–­é™çº§é…ç½®ç»Ÿä¸€ç®¡ç†</li>
<li><strong>é»‘ç™½åå•</strong>ï¼šè®¿é—®æ§åˆ¶ç­–ç•¥</li>
</ul>
<h3 data-id="heading-19">3.2 è¿ç»´ç›‘æ§ä¸€ä½“åŒ–</h3>
<ul>
<li><strong>æœåŠ¡ä¾èµ–æ‹“æ‰‘</strong>ï¼šå¯è§†åŒ–æœåŠ¡è°ƒç”¨å…³ç³»</li>
<li><strong>æµé‡ç»Ÿè®¡</strong>ï¼šå®æ—¶æµé‡ç›‘æ§ä¸å‘Šè­¦</li>
<li><strong>é…ç½®å˜æ›´è¿½è¸ª</strong>ï¼šæ‰€æœ‰é…ç½®å˜æ›´å¯è¿½æº¯</li>
<li><strong>æƒé™æ§åˆ¶</strong>ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</li>
</ul>
<hr/>
<h2 data-id="heading-20">å››ã€è¿ç§»å®è·µä¸è€ƒé‡</h2>
<h3 data-id="heading-21">4.1 å¹³æ»‘è¿ç§»ç­–ç•¥</h3>
<p>Dubbo æ”¯æŒåŒæ³¨å†Œä¸­å¿ƒå¹¶è¡Œï¼Œé€æ­¥è¿ç§»ï¼š</p>
<ol>
<li><strong>å¹¶è¡Œæ³¨å†Œé˜¶æ®µ</strong>ï¼šåŒæ—¶æ³¨å†Œåˆ° ZooKeeper å’Œ Nacos</li>
<li><strong>æµé‡åˆ‡æ¢é˜¶æ®µ</strong>ï¼šé€æ­¥å°†æ¶ˆè´¹è€…æŒ‡å‘ Nacos</li>
<li><strong>éªŒè¯ç›‘æ§é˜¶æ®µ</strong>ï¼šç›‘æ§ç¨³å®šæ€§ï¼ŒéªŒè¯åŠŸèƒ½</li>
<li><strong>å®Œå…¨åˆ‡æ¢é˜¶æ®µ</strong>ï¼šä¸‹çº¿ ZooKeeper ä¾èµ–</li>
</ol>
<h3 data-id="heading-22">4.2 æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><strong>å®¢æˆ·ç«¯ç‰ˆæœ¬å…¼å®¹æ€§</strong>ï¼šç¡®ä¿ Dubbo ç‰ˆæœ¬ â‰¥ 2.7.0</li>
<li><strong>ç½‘ç»œæ‹“æ‰‘è°ƒæ•´</strong>ï¼šè€ƒè™‘è·¨æœºæˆ¿ã€è·¨åŒºåŸŸéƒ¨ç½²</li>
<li><strong>ç›‘æ§æŒ‡æ ‡é‡å»º</strong>ï¼šè¿ç§»ç›‘æ§å‘Šè­¦ä½“ç³»</li>
<li><strong>å›æ»šé¢„æ¡ˆ</strong>ï¼šå‡†å¤‡å®Œæ•´çš„å›æ»šæ–¹æ¡ˆ</li>
</ul>
<hr/>
<h2 data-id="heading-23">äº”ã€æœªæ¥å±•æœ›ä¸è¡Œä¸šè¶‹åŠ¿</h2>
<h3 data-id="heading-24">5.1 æœåŠ¡ç½‘æ ¼èåˆ</h3>
<ul>
<li>Nacos ä½œä¸ºæ§åˆ¶å¹³é¢ä¸ Istio ç­‰æœåŠ¡ç½‘æ ¼é›†æˆ</li>
<li>Dubbo åº”ç”¨å¯é€æ­¥å‘ Service Mesh æ¶æ„æ¼”è¿›</li>
<li>ç»Ÿä¸€çš„æœåŠ¡æ²»ç†å¹³é¢</li>
</ul>
<h3 data-id="heading-25">5.2 æ™ºèƒ½åŒ–æ¼”è¿›</h3>
<ul>
<li>åŸºäºæœºå™¨å­¦ä¹ çš„æµé‡è°ƒåº¦</li>
<li>è‡ªåŠ¨å¼¹æ€§ä¼¸ç¼©å†³ç­–</li>
<li>æ•…éšœé¢„æµ‹ä¸è‡ªæ„ˆ</li>
</ul>
<h3 data-id="heading-26">5.3 å¤šè¿è¡Œæ—¶æ”¯æŒ</h3>
<ul>
<li>æ”¯æŒå®¹å™¨ã€VMã€Serverless ç­‰å¤šè¿è¡Œæ—¶</li>
<li>è¾¹ç¼˜è®¡ç®—åœºæ™¯ä¼˜åŒ–</li>
<li>æ··åˆäº‘ç»Ÿä¸€ç®¡ç†</li>
</ul>
<hr/>
<h2 data-id="heading-27">ç»“è¯­</h2>
<p>Dubbo ä» ZooKeeper è½¬å‘ Nacos çš„æŠ€æœ¯å†³ç­–ï¼Œåæ˜ äº†å¾®æœåŠ¡æ¶æ„ä»â€œåŠŸèƒ½æ»¡è¶³â€åˆ°â€œä½“éªŒä¼˜åŒ–â€çš„æ¼”è¿›è¶‹åŠ¿ã€‚è¿™ä¸€è½¬å˜ä¸ä»…æ˜¯å•ä¸ªç»„ä»¶çš„æ›¿æ¢ï¼Œæ›´æ˜¯æ•´ä½“æ¶æ„æ€æƒ³çš„å‡çº§ï¼š</p>
<ol>
<li><strong>ä»å•ä¸€å·¥å…·åˆ°å®Œæ•´å¹³å°</strong>ï¼šNacos æä¾›äº†ä¸€ä½“åŒ–çš„æœåŠ¡åŸºç¡€è®¾æ–½</li>
<li><strong>ä»å¤æ‚è¿ç»´åˆ°ç®€å•é«˜æ•ˆ</strong>ï¼šæ˜¾è‘—é™ä½äº†å¤§è§„æ¨¡å¾®æœåŠ¡ä½“ç³»çš„è¿ç»´æˆæœ¬</li>
<li><strong>ä»ä¼ ç»Ÿæ¶æ„åˆ°äº‘åŸç”Ÿ</strong>ï¼šæ›´å¥½åœ°é€‚åº”å®¹å™¨åŒ–ã€äº‘åŸç”Ÿçš„æŠ€æœ¯è¶‹åŠ¿</li>
<li><strong>ä»å¼€æºé¡¹ç›®åˆ°äº§ä¸šç”Ÿæ€</strong>ï¼šä¸é˜¿é‡Œäº‘äº§å“æ·±åº¦é›†æˆï¼Œæä¾›ä¼ä¸šçº§æ”¯æŒ</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®¡ç®—æœºè§†è§‰çš„ 2026ï¼šä»â€œå †ç®—åŠ›â€ç«èµ›ï¼Œåˆ°â€œçœç®—åŠ›â€æ™ºæ…§]]></title>    <link>https://juejin.cn/post/7596790037096955967</link>    <guid>https://juejin.cn/post/7596790037096955967</guid>    <pubDate>2026-01-19T02:32:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596790037096955967" data-draft-id="7596478936387518506" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®¡ç®—æœºè§†è§‰çš„ 2026ï¼šä»â€œå †ç®—åŠ›â€ç«èµ›ï¼Œåˆ°â€œçœç®—åŠ›â€æ™ºæ…§"/> <meta itemprop="keywords" content="ç®—æ³•,è®¡ç®—æœºè§†è§‰,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-19T02:32:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CoovallyAIHub"/> <meta itemprop="url" content="https://juejin.cn/user/2461151071843739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®¡ç®—æœºè§†è§‰çš„ 2026ï¼šä»â€œå †ç®—åŠ›â€ç«èµ›ï¼Œåˆ°â€œçœç®—åŠ›â€æ™ºæ…§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2461151071843739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CoovallyAIHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:32:18.000Z" title="Mon Jan 19 2026 02:32:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2026 å¹´ï¼Œè®¡ç®—æœºè§†è§‰æ—©å·²ä¸æ˜¯å®éªŒå®¤é‡Œçš„å°ä¼—æŠ€æœ¯ â€”â€” å®ƒæ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦çš„ â€œçœ¼ç›â€ï¼Œæ˜¯åŒ»ç–—å½±åƒè¯Šæ–­çš„ â€œè¾…åŠ©æ‰‹â€ï¼Œæ˜¯æœºå™¨äººäº¤äº’çš„ â€œæ„ŸçŸ¥ä¸­æ¢â€ï¼Œæ›´æ˜¯å¤šæ¨¡æ€å¤§æ¨¡å‹ç†è§£ä¸–ç•Œçš„æ ¸å¿ƒæ”¯æŸ±ã€‚ä»æ‰‹æœºç«¯çš„å®æ—¶ç¾é¢œåˆ°å·¥ä¸šç•Œçš„ç²¾å¯†æ£€æµ‹ï¼Œä»å«æ˜Ÿé¥æ„Ÿåˆ†æåˆ°ç©¿æˆ´è®¾å¤‡çš„åœºæ™¯è¯†åˆ«ï¼Œè§†è§‰ AI çš„åº”ç”¨è¾¹ç•Œæ­£åœ¨æ— é™æ‹“å®½ã€‚</p>
<p>ä½†å…‰é²œèƒŒåï¼Œè¡Œä¸šå§‹ç»ˆè¢«ä¸€ä¸ª â€œä¸å¯èƒ½ä¸‰è§’â€ ç‰¢ç‰¢å›°ä½ï¼šæƒ³è®©æ¨¡å‹è¯†åˆ«æ›´å‡†ã€æ³›åŒ–æ€§æ›´å¼ºï¼Œå°±å¾—å †ç Œæ›´å¤§çš„å‚æ•°é‡ã€æŠ•å–‚æ›´é«˜åˆ†è¾¨ç‡çš„å›¾åƒï¼›å¯å‚æ•°å’Œåˆ†è¾¨ç‡ä¸€ä¸Šæ¥ï¼Œè®¡ç®—æˆæœ¬ã€æ¨ç†å»¶è¿Ÿå°±è·Ÿç€æŒ‡æ•°çº§æš´æ¶¨ã€‚2026 å¹´çš„ä»Šå¤©ï¼Œæˆ‘ä»¬ä¾ç„¶é¢ä¸´å°´å°¬ç°å® â€”â€” æœ€å…ˆè¿›çš„è§†è§‰æ¨¡å‹åœ¨æ•°æ®ä¸­å¿ƒé‡Œèƒ½è¾¾åˆ° 99% çš„å‡†ç¡®ç‡ï¼Œå´å› è¿‡é«˜çš„èƒ½è€—å’Œå»¶è¿Ÿï¼Œæ— æ³•è½åœ°åˆ°è‡ªåŠ¨é©¾é©¶ã€å¯ç©¿æˆ´è®¾å¤‡è¿™äº›æ ¸å¿ƒåœºæ™¯ï¼›è€Œè¾¹ç¼˜è®¾å¤‡ä¸Šçš„è½»é‡åŒ–æ¨¡å‹ï¼Œåˆä¸å¾—ä¸ç‰ºç‰²ç²¾åº¦æ¢å–æ•ˆç‡ã€‚</p>
<p>ä¼ ç»Ÿæ¨¡å‹çš„ â€œæ­»æ¿â€ æ˜¯é—®é¢˜æ ¹æºï¼š*<strong>å®ƒä»¬åƒä¸€å°ä¸åˆ†é‡ç‚¹çš„æ‰«æä»ªï¼Œä¸ç®¡å›¾åƒé‡Œçš„ä¿¡æ¯æœ‰ç”¨ä¸å¦ï¼Œéƒ½è¦é€åƒç´ å¹³è¡Œå¤„ç†ï¼Œé€ æˆå·¨å¤§çš„èµ„æºæµªè´¹ã€‚</strong> *è€Œäººç±»çœ‹ä¸–ç•Œçš„æ–¹å¼å®Œå…¨ä¸åŒ â€”â€” æˆ‘ä»¬ä¼šè‡ªç„¶èšç„¦å…³é”®åŒºåŸŸï¼ˆæ¯”å¦‚çœ‹ä¹¦æ—¶ç›¯æ–‡å­—ã€è¿‡é©¬è·¯æ—¶çœ‹è½¦è¾†ï¼‰ï¼Œå¿½ç•¥æ— å…³ä¿¡æ¯ï¼Œç”¨æœ€å°‘çš„ â€œæ³¨æ„åŠ›æˆæœ¬â€ å®Œæˆæ„ŸçŸ¥ã€‚</p>
<p>2026 å¹´ï¼Œæ¸…å LEAP å®éªŒå®¤æœ€æ–°æå‡ºçš„AdaptiveNN æ¡†æ¶ï¼Œç»ˆäºä¸ºè¿™ä¸ªå›°å±€å¸¦æ¥äº†ç ´å±€ä¹‹é“ã€‚å®ƒè®© AI å­¦ä¼šäº†äººç±»çš„ â€œä¸»åŠ¨è§†è§‰â€ï¼Œä¸€ä¸¾ç ´è§£ â€œä¸å¯èƒ½ä¸‰è§’â€ï¼Œç›¸å…³æˆæœå·²å…¬å¼€ä»£ç  <strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FLeapLabTHU%2FAdaptiveNN%25EF%25BC%2589" target="_blank" title="https://github.com/LeapLabTHU/AdaptiveNN%EF%BC%89" ref="nofollow noopener noreferrer">github.com/LeapLabTHU/â€¦</a></strong> ï¼Œä¸ºä¸‹ä¸€ä»£é«˜æ•ˆã€çµæ´»ã€å¯è§£é‡Šçš„è®¡ç®—æœºè§†è§‰æ¨¡å‹æŒ‡æ˜äº†æ–¹å‘ã€‚</p>
<h2 data-id="heading-0"><strong>ä»â€œè¢«åŠ¨â€åˆ°â€œä¸»åŠ¨â€çš„èŒƒå¼è½¬å˜</strong></h2>
<p>å½“å‰çš„è®¡ç®—æœºè§†è§‰æ¨¡å‹éµå¾ªç€ä¸€ä¸ªæºäºæ•°åå¹´å‰çš„ <strong>â€œè¢«åŠ¨â€èŒƒå¼</strong>ï¼šæ¨¡å‹ä¸€æ¬¡æ€§æ¥æ”¶æ•´å¼ å›¾åƒï¼Œå¹¶è¡Œå¤„ç†æ‰€æœ‰åƒç´ ã€‚</p>
<p>è¿™ç§â€œä¸€è§†åŒä»â€çš„å¤„ç†æ–¹å¼ï¼Œåœ¨é¢å¯¹å¦‚ä»Šé«˜è¾¾æ•°ç™¾ä¸‡ç”šè‡³æ•°åäº¿åƒç´ çš„å›¾åƒæˆ–è§†é¢‘æ—¶ï¼Œæ˜¾å¾—æ•ˆç‡ä½ä¸‹ã€‚</p>
<p><strong>äººç±»çš„è§†è§‰ç³»ç»Ÿåˆ™å®Œå…¨ä¸åŒã€‚</strong> æˆ‘ä»¬ä¸ä¼šåŒæ—¶å¤„ç†è§†é‡ä¸­çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè€Œæ˜¯é‡‡ç”¨ä¸€ç§ â€œä¸»åŠ¨â€ä¸”â€œé€‰æ‹©æ€§â€ çš„ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å¿«é€Ÿä¸€ç¥ï¼Œ</strong> è·å¾—åœºæ™¯çš„æ•´ä½“ç†è§£</li>
<li><strong>é€šè¿‡çœ¼åŠ¨ï¼Œ</strong> å°†é«˜åˆ†è¾¨ç‡çš„ä¸­å¤®å‡¹ä¾æ¬¡å¯¹å‡†å°‘æ•°æ„Ÿå…´è¶£åŒºåŸŸ</li>
<li><strong>æ•´åˆä¸åŒæ³¨è§†ç‚¹</strong>çš„ä¿¡æ¯ï¼Œé€æ­¥æ„å»ºå¯¹ç¯å¢ƒçš„æ„ŸçŸ¥</li>
<li><strong>åœ¨ä¿¡æ¯è¶³å¤Ÿæ—¶ï¼Œ</strong> ä¸»åŠ¨ç»“æŸè§‚å¯Ÿ</li>
</ol>
<p>è¿™ç§æœºåˆ¶ä½¿æˆ‘ä»¬èƒ½æœ‰æ•ˆè¿‡æ»¤æ— å…³ä¿¡æ¯ï¼Œæ˜¾è‘—é™ä½å¤„ç†åºæ‚è§†è§‰æ•°æ®æµçš„å¤æ‚åº¦ã€‚æ— è®ºåŸå§‹è§†è§‰ç¯å¢ƒå¤šå¤æ‚ï¼Œäººç±»è§†è§‰çš„èµ„æºéœ€æ±‚ä¸»è¦ç”± <strong>â€œå¸¦å®½â€</strong> å’Œ <strong>æ³¨è§†ç‚¹æ€»æ•°</strong> å†³å®šï¼Œè€Œè¿™ä¸¤è€…éƒ½å¯ä»¥æ ¹æ®ä»»åŠ¡éœ€æ±‚å®ç°æœ€å°åŒ–ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f401179802924100abf45e9f4c17a1e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769394737&amp;x-signature=3As9B8%2FGTVLS6E3DKQkJJ3M2gxY%3D" alt="screenshot_2026-01-15_11-45-43.png" loading="lazy"/></p>
<p>æ—©åœ¨2015å¹´ï¼ŒYann LeCunç­‰äººå°±æ›¾é¢„è¨€ï¼Œæœªæ¥çš„AIè®¡ç®—æœºè§†è§‰ç³»ç»Ÿå°†é€šè¿‡æ¨¡ä»¿äººç±»è§†è§‰ï¼Œä»¥æ™ºèƒ½çš„ã€ä»»åŠ¡ç‰¹å®šçš„æ–¹å¼ï¼Œ<strong>åºåˆ—åŒ–åœ°ã€ä¸»åŠ¨åœ°å†³å®šâ€œçœ‹å“ªé‡Œâ€</strong> Â è€Œå–å¾—é‡å¤§è¿›å±•ã€‚è¿‘åå¹´åï¼Œæ¥è‡ªæ¸…åå¤§å­¦è‡ªåŠ¨åŒ–ç³»æ™ºèƒ½æ„ŸçŸ¥ä¸å­¦ä¹ å®éªŒå®¤çš„ç ”ç©¶å›¢é˜Ÿï¼Œå°†è¿™ä¸€æ„¿æ™¯å˜ä¸ºäº†ç°å®ã€‚</p>
<h2 data-id="heading-1"><strong>AdaptiveNNæ¡†æ¶ï¼šåƒäººä¸€æ ·â€œçœ‹â€ä¸–ç•Œ</strong></h2>
<p>ç ”ç©¶å›¢é˜Ÿæå‡ºäº† <strong>AdaptiveNN æ¡†æ¶</strong>ï¼Œæ—¨åœ¨é©±åŠ¨è®¡ç®—æœºè§†è§‰ä» <strong>â€œè¢«åŠ¨â€</strong> åˆ° <strong>â€œä¸»åŠ¨ä¸”è‡ªé€‚åº”â€</strong> Â çš„èŒƒå¼è½¬å˜ã€‚</p>
<p>AdaptiveNN å°†è§†è§‰æ„ŸçŸ¥å»ºæ¨¡ä¸ºä¸€ä¸ªç”±ç²—åˆ°ç»†çš„åºåˆ—å†³ç­–è¿‡ç¨‹ï¼š</p>
<ol>
<li>
<p><strong>åˆå§‹åŒ–ï¼š</strong> å¯¹è§†è§‰ç¯å¢ƒè¿›è¡Œå¿«é€Ÿâ€œä¸€ç¥â€ï¼Œè·å¾—ç²—ç•¥çš„å…¨å±€è¡¨å¾ã€‚</p>
</li>
<li>
<p><strong>å¾ªç¯å†³ç­–ï¼š</strong> åœ¨æ¯ä¸ªæ­¥éª¤ä¸­ï¼Œæ¨¡å‹åŸºäºå½“å‰å†…éƒ¨è¡¨å¾ï¼Œç”±â€œè§†è§‰æ™ºèƒ½ä½“â€å†³å®šï¼š</p>
<p><strong>æ˜¯å¦ç»“æŸè§‚å¯Ÿï¼Ÿï¼ˆä¿¡æ¯æ˜¯å¦è¶³å¤Ÿï¼Ÿï¼‰</strong></p>
<p><strong>å¦‚æœç»§ç»­ï¼Œä¸‹ä¸€ä¸ªåº”è¯¥æ³¨è§†å“ªé‡Œï¼Ÿ</strong></p>
</li>
<li>
<p><strong>ä¿¡æ¯æ•´åˆï¼š</strong> å¤„ç†é€‰ä¸­çš„å±€éƒ¨åŒºåŸŸï¼Œæå–ç‰¹å¾ï¼Œå¹¶æ›´æ–°åŠ¨æ€æ¼”åŒ–çš„å†…éƒ¨è§†è§‰è¡¨å¾ã€‚</p>
</li>
<li>
<p><strong>ä»»åŠ¡æ‰§è¡Œï¼š</strong> åˆ©ç”¨æœ€ç»ˆçš„è¡¨å¾æ¥å®Œæˆæ—¢å®šä»»åŠ¡ï¼ˆå¦‚åˆ†ç±»ã€æ£€æµ‹ç­‰ï¼‰ã€‚</p>
</li>
</ol>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2689f583df748e89f599e53fd792c8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769394737&amp;x-signature=IFJgpHsrSO5gfrIA1GagismA8kw%3D" alt="screenshot_2026-01-15_13-19-25.png" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</strong> å…¶æ¨ç†è¿‡ç¨‹çš„èµ„æºéœ€æ±‚ç‹¬ç«‹äºå¾…æ„ŸçŸ¥è§†è§‰ç¯å¢ƒçš„å¤§å°æˆ–å¤æ‚åº¦ã€‚æ¨¡å‹åªå¤„ç†å¯¹ä»»åŠ¡è‡³å…³é‡è¦çš„ã€æœ€å°å¿…è¦å­é›†çš„åŒºåŸŸï¼Œä»è€Œåœ¨ä¿æŒå¤§æ¨¡å‹é«˜æ€§èƒ½çš„åŒæ—¶ï¼Œå®ç°äº†ä½æˆæœ¬æ¨ç†ã€‚</p>
<p>æ›´å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒAdaptiveNN çš„è®­ç»ƒ<strong>æ— éœ€ä¾èµ–ç‰¹æ®Šçš„ä»»åŠ¡ç»“æ„æˆ–é¢å¤–çš„æ ‡æ³¨</strong>ã€‚ç ”ç©¶å›¢é˜Ÿæå‡ºäº†ä¸€ç§æ–°é¢–çš„ç†è®ºåˆ†æï¼Œå°†è¡¨å¾å­¦ä¹ ä¸<strong>è‡ªå¥–åŠ±å¼ºåŒ–å­¦ä¹ </strong>ç›¸ç»“åˆï¼Œå®ç°äº†å¯¹ä¸å¯å¾®çš„å†³ç­–è¿‡ç¨‹è¿›è¡Œç«¯åˆ°ç«¯ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-2"><strong>é«˜æ•ˆã€çµæ´»ã€å¯è§£é‡Š</strong></h2>
<p>ç ”ç©¶å›¢é˜Ÿåœ¨<strong>9ç±»ä¸åŒä»»åŠ¡ã€å…±17ä¸ªåŸºå‡†æµ‹è¯•</strong>ä¸Šå…¨é¢è¯„ä¼°äº†AdaptiveNNï¼Œæ¶µç›–å¤§è§„æ¨¡è§†è§‰ç†è§£ã€ç»†ç²’åº¦è¯†åˆ«ã€è§†è§‰æœç´¢ã€çœŸå®é©¾é©¶/åŒ»ç–—åœºæ™¯å›¾åƒå¤„ç†ï¼Œä»¥åŠå¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹é©±åŠ¨çš„å…·èº«AIç­‰ã€‚</p>
<ul>
<li><strong>æ•ˆç‡å¤§å¹…æå‡ï¼Œæœ€é«˜è¾¾28å€</strong></li>
</ul>

<ul>
<li><strong>ImageNet å›¾åƒ</strong>è¯†åˆ«ä»»åŠ¡ä¸Šï¼ŒAdaptiveNN åœ¨ä¿æŒåŒç­‰ç²¾åº¦çš„å‰æä¸‹ï¼Œå°† DeiT-S å’Œ ResNet-50 æ¨¡å‹çš„æ¨ç†æˆæœ¬åˆ†åˆ«é™ä½äº† <strong>5.4å€</strong> å’Œ <strong>3.6å€</strong>ã€‚</li>
<li>åœ¨å¤„ç†<strong>çœŸå®é©¾é©¶åœºæ™¯</strong>ï¼ˆç‘å…¸äº¤é€šæ ‡å¿—æ•°æ®é›†ï¼‰ä¸­ï¼ŒAdaptiveNN å®ç°äº†æƒŠäººçš„ 27.9å€ è®¡ç®—æˆæœ¬é™ä½ï¼Œåœ¨å¤æ‚ã€éç‰©ä½“ä¸­å¿ƒçš„é“è·¯åœºæ™¯ä¸­ä¼˜åŠ¿å°¤å…¶æ˜æ˜¾ã€‚</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b95030180eb4c32b884eb9281b71939~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769394737&amp;x-signature=3tR96ass0g5GElI4y%2BM25CncNyU%3D" alt="screenshot_2026-01-15_13-22-34.png" loading="lazy"/></p>
<ul>
<li><strong>å…·å¤‡ç±»äººçš„çµæ´»æ€§</strong></li>
</ul>

<ul>
<li><strong>åŠ¨æ€èµ„æºé€‚åº”ï¼š</strong> é€šè¿‡åœ¨çº¿è°ƒæ•´é˜ˆå€¼ï¼ŒAdaptiveNNÂ å¯ä»¥åœ¨ä¸é‡æ–°è®­ç»ƒçš„æƒ…å†µä¸‹ï¼Œçµæ´»è°ƒæ•´å…¶æ¨ç†æˆæœ¬ï¼Œå®ç°æ•ˆç‡ä¸æ•ˆæœçš„æœ€ä½³æƒè¡¡ã€‚</li>
<li><strong>å¤šå˜ä»»åŠ¡é€‚åº”ï¼š</strong> åœ¨ç›®æ ‡ç±»åˆ«å’Œæ•°é‡å¯çµæ´»å˜åŒ–çš„<strong>è§†è§‰æœç´¢ä»»åŠ¡</strong>ä¸­ï¼ŒAdaptiveNN å¹³å‡æˆåŠŸç‡ç¨³å®šåœ¨ ~90%ï¼Œè€Œç°æœ‰æ–¹æ³•ï¼ˆå¦‚RAMã€DRAMï¼‰ä»…ä¸º ~20%ã€‚</li>
</ul>

<ul>
<li><strong>æä¾›æœ‰ä»·å€¼çš„å¯è§£é‡Šæ€§</strong></li>
</ul>

<ul>
<li><strong>æ³¨è§†æ¨¡å¼å¯è§†åŒ–ï¼š</strong> æ¨¡å‹çš„æ³¨è§†ç‚¹æ¨¡å¼ä¸ºäº†è§£å…¶å†³ç­–è¿‡ç¨‹æä¾›äº†å…³é”®çª—å£ã€‚ä¾‹å¦‚ï¼Œåœ¨åªä½¿ç”¨å›¾åƒçº§æ ‡ç­¾è®­ç»ƒçš„è‚ºç‚æ£€æµ‹ä»»åŠ¡ä¸­ï¼ŒAdaptiveNN å­¦åˆ°çš„æ³¨è§†ç‚¹æˆåŠŸå®šä½äº†è‚ºéƒ¨ç—…ç¶ï¼Œä¸äººç±»æ”¾å°„ç§‘åŒ»ç”Ÿçš„åˆ¤æ–­é«˜åº¦ä¸€è‡´ã€‚</li>
<li><strong>å›°éš¾ç¨‹åº¦è¯„ä¼°ï¼š</strong> æ¨¡å‹å†…éƒ¨é¢„æµ‹çš„â€œçŠ¶æ€å€¼â€ä¸äººç±»å¯¹å›¾åƒè¯†åˆ«éš¾æ˜“ç¨‹åº¦çš„ä¸»è§‚è¯„ä¼°å¼ºç›¸å…³ï¼Œè¡¨æ˜æ¨¡å‹èƒ½åƒäººä¸€æ ·è¯„ä¼°ä¸åŒè§†è§‰ç¯å¢ƒçš„å¤„ç†éš¾åº¦ã€‚</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f89bbfb09b5416b90c29b2ae2ff3c88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769394737&amp;x-signature=11qU6ZPi5eJlGcO5xTH1hnBUsEc%3D" alt="screenshot_2026-01-15_13-22-59.png" loading="lazy"/></p>
<ul>
<li><strong>é©±åŠ¨å…·èº«å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹</strong></li>
</ul>
<p>å°† AdaptiveNN ä½œä¸ºæ„ŸçŸ¥æ¨¡å—åµŒå…¥åˆ°å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ä¸­ï¼Œæ„å»º<strong>å…·èº«AIæ™ºèƒ½ä½“</strong>ã€‚åœ¨ CALVIN æœºå™¨äººæ“ä½œåŸºå‡†æµ‹è¯•ä¸­ï¼ŒåŸºäº AdaptiveNN çš„æ¨¡å‹åœ¨ä¿æŒæ€§èƒ½çš„åŒæ—¶ï¼Œå°†è®¡ç®—æˆæœ¬é™ä½äº† 4.4-5.9å€ï¼Œå¹¶èƒ½æ ¹æ®è¯­è¨€æŒ‡ä»¤å’Œè§†è§‰ç¯å¢ƒï¼ŒåŠ¨æ€å†³å®šâ€œçœ‹å“ªé‡Œâ€ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5a7194c6dad4e4ba9d4758eb0cae661~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769394737&amp;x-signature=T3rHy4ZpP4dSnent0GlZmJ%2Bm2NY%3D" alt="screenshot_2026-01-15_13-23-25.png" loading="lazy"/></p>
<h2 data-id="heading-3"><strong>ä¸äººç±»è§†è§‰éš¾åˆ†ä¼¯ä»²</strong></h2>
<p>æœ€å¼•äººæ³¨ç›®çš„æ˜¯ï¼Œä»…åœ¨å¤§è§„æ¨¡ç‰©ä½“è¯†åˆ«ä»»åŠ¡ä¸Šè®­ç»ƒçš„ AdaptiveNNï¼Œå…¶è§†è§‰æ„ŸçŸ¥è¡Œä¸ºåœ¨è®¸å¤šæ–¹é¢ä¸äººç±»é«˜åº¦ä¸€è‡´ã€‚</p>
<ul>
<li><strong>æ³¨è§†æ¨¡å¼ç›¸ä¼¼ï¼š</strong> åœ¨ SALICON æ•°æ®é›†ä¸Šçš„â€œé›¶æ ·æœ¬â€æµ‹è¯•ä¸­ï¼ŒAdaptiveNN é€‰æ‹©çš„æ³¨è§†åŒºåŸŸä¸äººç±»å¹³å‡æ³¨è§†çƒ­å›¾çš„å»åˆåº¦ï¼Œè¾¾åˆ°äº†<strong>å•ä¸ªäººç±»è§‚å¯Ÿè€…çš„æ°´å¹³</strong>ã€‚æ¨¡å‹ä¼šè¢«äººè„¸ã€æ‰‹ã€äººä½“åŠ¨ä½œç­‰å¸å¼•ã€‚</li>
<li><strong>éš¾åº¦è¯„ä¼°ä¸€è‡´ï¼š</strong> æ¨¡å‹å¯¹å›¾åƒè¯†åˆ«éš¾åº¦çš„è¯„ä¼°ï¼Œä¸äººç±»çš„ä¸»è§‚è¯„åˆ†æ˜¾è‘—ç›¸å…³ã€‚</li>
<li><strong>é€šè¿‡â€œè§†è§‰å›¾çµæµ‹è¯•â€ï¼š</strong> åœ¨åŒç›²æµ‹è¯•ä¸­ï¼Œäººç±»æ³•å®˜éš¾ä»¥åŒºåˆ† AdaptiveNN çš„è¡Œä¸ºä¸çœŸå®äººç±»è¡Œä¸ºï¼ˆæ­£ç¡®ç‡çº¦50%ï¼Œä¸éšæœºçŒœæµ‹æ— å¼‚ï¼‰ï¼Œè€ŒåŒºåˆ†éšæœºè¡Œä¸ºä¸äººç±»è¡Œä¸ºåˆ™å®¹æ˜“å¾—å¤šï¼ˆæ­£ç¡®ç‡â‰¥80%ï¼‰ã€‚</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8358a38313d74c99911d40e8515c710f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ29vdmFsbHlBSUh1Yg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769394737&amp;x-signature=7pJQz4sfQ%2BV0IF4fimJ9L2qzBcU%3D" alt="screenshot_2026-01-15_13-24-27.png" loading="lazy"/></p>
<p>è¿™äº›å‘ç°è¡¨æ˜ï¼Œè®¸å¤šäººç±»çš„é€‚åº”æ€§è§†è§‰è¡Œä¸ºï¼Œ<strong>å¯ä»¥é€šè¿‡å®Œæˆå¸¸è§„è§†è§‰ä»»åŠ¡è€Œä¹ å¾—</strong>ï¼Œæ— éœ€ä¾èµ–å…³äºç‰©ä½“ã€æ™ºèƒ½ä½“ã€ç©ºé—´ç­‰å…ˆå¤©çš„å¼ºå½’çº³åç½®ã€‚è¿™ä¸ºä»è®¡ç®—è§†è§’æ¢ç´¢â€œå…ˆå¤©ä¸åå¤©â€çš„è®¤çŸ¥ç§‘å­¦ç»å…¸é—®é¢˜æä¾›äº†æ–°å·¥å…·ã€‚</p>
<h2 data-id="heading-4"><strong>æ–°ä¸€ä»£æœºå™¨è§†è§‰çš„é›å½¢</strong></h2>
<p>è¿™é¡¹ç ”ç©¶æ­ç¤ºï¼Œ<strong>å¼•å…¥ç±»äººçš„è‡ªé€‚åº”æ€§</strong>ï¼Œæ˜¯è¿ˆå‘ä¸‹ä¸€ä»£<strong>é«˜æ•ˆã€çµæ´»ã€å¯è§£é‡Š</strong>æœºå™¨è§†è§‰èŒƒå¼çš„ä¸€æ¡å……æ»¡å¸Œæœ›çš„é“è·¯ã€‚</p>
<p>AdaptiveNN ä¸ä»…åœ¨å·¥ç¨‹ä¸Šä¸ºçªç ´è®¡ç®—æœºè§†è§‰çš„â€œä¸å¯èƒ½ä¸‰è§’â€æä¾›äº†åˆ‡å®æ–¹æ¡ˆï¼Œå…¶é«˜åº¦ä»¿çœŸçš„ç±»äººè¡Œä¸ºï¼Œä¹Ÿä½¿å…¶æˆä¸ºä¸€ä¸ªå¼ºå¤§çš„è®¡ç®—å·¥å…·ï¼Œå¯ç”¨äº<strong>æ¢ç©¶äººç±»è§†è§‰è®¤çŸ¥å’Œè¡Œä¸ºå­¦ä¹ è¿‡ç¨‹</strong>ã€‚</p>
<p>è¯¥æ¡†æ¶è®¾è®¡é€šç”¨ï¼Œä¸å„ç§ç½‘ç»œæ¶æ„å’Œä»»åŠ¡å…¼å®¹ï¼Œä¸ºåœ¨æœºå™¨äººã€å¯ç©¿æˆ´è®¾å¤‡ã€ç§»åŠ¨AIã€è‡ªåŠ¨é©¾é©¶ã€åŒ»ç–—AIç­‰å¹¿æ³›çš„å®é™…åœºæ™¯ä¸­ï¼Œéƒ¨ç½²å¼ºå¤§è€Œé«˜æ•ˆçš„è§†è§‰æ¨¡å‹æ‰“å¼€äº†æ–°çš„å¤§é—¨ã€‚</p>
<p>æ­£å¦‚è®ºæ–‡æœ€åæ‰€å±•æœ›çš„ï¼Œè¿™é¡¹å·¥ä½œä¸ä»…æœ‰æœ›æ¨åŠ¨æ›´å¼ºå¤§AIæ¨¡å‹çš„å‘å±•ï¼Œä¹ŸæœŸå¾…èƒ½<strong>å¯å‘æœºå™¨å­¦ä¹ ä¸æ›´å¹¿æ³›é¢†åŸŸä¹‹é—´çš„è·¨å­¦ç§‘åˆä½œ</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…è°ˆå†…éƒ¨ä½ä»£ç å¹³å°æ•ˆç›Šè®¡ç®—æ–¹å¼]]></title>    <link>https://juejin.cn/post/7596698363933638706</link>    <guid>https://juejin.cn/post/7596698363933638706</guid>    <pubDate>2026-01-19T02:34:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596698363933638706" data-draft-id="7596384019001540634" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…è°ˆå†…éƒ¨ä½ä»£ç å¹³å°æ•ˆç›Šè®¡ç®—æ–¹å¼"/> <meta itemprop="keywords" content="ä½ä»£ç ,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T02:34:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…è°ˆå†…éƒ¨ä½ä»£ç å¹³å°æ•ˆç›Šè®¡ç®—æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:34:28.000Z" title="Mon Jan 19 2026 02:34:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä½ä»£ç å¹³å°æ˜¯ä¸€ä¸ªé«˜æˆæœ¬æŠ•å…¥é¡¹ç›®ï¼Œå»ºè®¾å‘¨æœŸé•¿ï¼Œéš¾åº¦å¤§ï¼Œäººå‘˜æˆæœ¬ä¹Ÿé«˜ã€‚ç„¶è€Œä½ä»£ç å¹³å°çš„å·¥ä½œï¼Œå¾ˆå®¹æ˜“å‡ºâ€œæˆæœâ€ã€‚ä½†åœ¨æˆ‘çœ‹æ¥ï¼Œå¾ˆå¤šâ€œåŠŸèƒ½æˆæœâ€ï¼Œä¸è¿‡æ˜¯â€œè™šå‡çš„ç¹è£â€ã€‚ä½ä»£ç å›¢é˜Ÿçš„æˆæœï¼Œä¸åœ¨åŠŸèƒ½å †ç Œè€Œåœ¨çœŸæ­£çš„<strong>æ•ˆç›Šæå‡</strong></p>
<h2 data-id="heading-1">ä½ä»£ç å¹³å°ROIç›¸å…³å› ç´ åŠè®¡ç®—æ–¹å¼</h2>
<p>ROI = (æ”¶ç›Š - æˆæœ¬) / æˆæœ¬ Ã— 100%ã€‚ å¯¹å†…çš„ä½ä»£ç å¹³å°çš„æ”¶ç›Šæ˜¯èŠ‚çº¦çš„äº§çº¿å¼€å‘/ç»´æŠ¤æˆæœ¬ï¼Œæˆæœ¬ä¸»è¦æ˜¯äººåŠ›å’Œäº‘èµ„æºï¼Œäº‘èµ„æºè´¹ç”¨æš‚ä¸”å¿½ç•¥ä¸è®¡ã€‚</p>
<p>å› æ­¤æœ‰ä»¥ä¸‹å‡ ä¸ªå› ç´ éœ€è¦ç€é‡è€ƒè™‘ï¼š</p>
<h3 data-id="heading-2">1.  äººåŠ›æˆæœ¬</h3>
<p>å¹³å°å¼€å‘è€…çš„è–ªèµ„ä¸€èˆ¬è¦é«˜äºäº§çº¿å¼€å‘çš„è–ªèµ„ã€‚ å‡è®¾ï¼šå¹³å°æœ€ä½è¦æ±‚ p6 æ°´å¹³ï¼Œäº§çº¿æœ€ä½å¯è¦æ±‚ p5ï¼ŒæŒ‰å¸‚åœºè–ªèµ„ä¸­ä½æ•°è®¡ç®—ï¼ŒäººåŠ›æˆæœ¬ç³»æ•°ä¸º 1.3</p>
<h3 data-id="heading-3">2.  å¼€å‘éš¾åº¦</h3>
<p>åŒæ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œå¹³å°å¼€å‘é€šå¸¸éœ€è¦è€ƒè™‘æ›´å¤šé€šç”¨åœºæ™¯å’Œåˆç†çš„ä¸šåŠ¡è¯‰æ±‚ï¼Œæ—¢åŒ…å«é…ç½®æ—¶å¼€å‘ï¼Œä¹ŸåŒ…å«è¿è¡Œæ—¶å¼€å‘ï¼Œç›¸æ¯”äº§çº¿åªéœ€è€ƒè™‘å½“å‰éœ€æ±‚åœºæ™¯ï¼Œè®¾è®¡å’Œå¼€å‘éš¾åº¦æ›´å¤§ã€‚ å‡è®¾ï¼šåŒä¸€ä¸ªåŠŸèƒ½ï¼Œå¹³å°é…ç½®æ—¶å¼€å‘é¢å¤–å¢åŠ  20%å·¥ä½œé‡ï¼Œè¿è¡Œæ—¶æ¯å¢åŠ ä¸€ä¸ªåœºæ™¯å¢åŠ  10%å·¥ä½œé‡ï¼Œå¹³å‡è€ƒè™‘ 3 ä¸ªå¯å¤ç”¨åœºæ™¯ï¼Œåˆ™éš¾åº¦ç³»æ•°ä¸º 1.5ã€‚</p>
<h3 data-id="heading-4">3.  äº§çº¿å¼€å‘å¤ç”¨æƒ…å†µ</h3>
<p>äº§çº¿ä¹Ÿé€šç”¨å…·æœ‰æŠ½è±¡å°è£…å¤ç”¨çš„èƒ½åŠ›ï¼Œå³ä¾¿è®¾è®¡ä¸Šæ²¡è€ƒè™‘å¤ç”¨ï¼Œåœ¨å¼€å‘ä¸­ä¹Ÿèƒ½é€šè¿‡æ‰‹åŠ¨å¤åˆ¶ä»£ç çš„å½¢å¼èŠ‚çœå¼€å‘æ—¶é—´ã€‚ å‡è®¾ï¼šä¸€ä¸ªç®€å•åˆ—è¡¨ä»0å¼€å‘ï¼Œç®—ä¸Šè‡ªæµ‹è”è°ƒï¼Œå‰åä¸€å…±éœ€è¦20ä¸ªå·¥æ—¶ï¼Œä¹‹åç±»ä¼¼ä¸€ä¸ªåˆ—è¡¨ï¼Œå› ä¸ºéƒ¨åˆ†ä»£ç å¯å¤ç”¨ï¼Œåªéœ€14ä¸ªå·¥æ—¶å³å¯å®Œæˆï¼Œé‚£ä¹ˆå¤ç”¨ç³»æ•°æ˜¯0.7 å¦å¤–ä½ä»£ç å¹³å°é…ç½®æœ¬èº«ä¹Ÿæœ‰è€—æ—¶ï¼Œä½†ç†æƒ³æƒ…å†µä¸‹ï¼Œäº§çº¿å¼€å‘ 8 å°æ—¶çš„åŠŸèƒ½ï¼Œå¹³å°å¯ä»¥åœ¨ 10 åˆ†é’Ÿä¹‹å†…é…ç½®å®Œæˆï¼Œå› æ­¤æˆ‘ä»¬å¿½ç•¥ä¸è®¡ã€‚</p>
<p>åŸºäºä»¥ä¸Šå‡è®¾çš„æ•°æ®ï¼šæˆ‘ä»¬å°†<strong>åŸåŠŸèƒ½å¼€å‘çš„å·¥æ—¶çœ‹ä½œæ”¶ç›Šï¼ŒæŠ•å…¥çš„äººåŠ›çœ‹ä½œæˆæœ¬</strong>ï¼Œ åŠŸèƒ½è¢« 2 æ¬¡åº”ç”¨æ—¶ï¼Œæ”¶ç›Šä¸º<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>âˆ—</mo><mn>0.7</mn></mrow><annotation encoding="application/x-tex">1+1*0.7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.7</span></span></span></span></span>ï¼Œæ•´ä½“ROIä¸º :<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>âˆ—</mo><mn>0.7</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>1.3</mn><mo>âˆ—</mo><mn>1.5</mn><mo stretchy="false">)</mo><mo>âˆ’</mo><mn>1</mn><mo>=</mo><mo>âˆ’</mo><mn>0.13</mn></mrow><annotation encoding="application/x-tex">(1+1*0.7)/(1.3*1.5) -1 = -0.13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">0.7</span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord">1.3</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">1.5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">âˆ’</span><span class="mord">0.13</span></span></span></span></span></p>
<p>å¯ä»¥æ¨ç®—å‡ºï¼ŒåŠŸèƒ½çš„åŠŸèƒ½è¢«åº”ç”¨è‡³å°‘ 3 æ¬¡ï¼Œæ‰èƒ½äº§ç”Ÿæ”¶ç›Šï¼Œåº”ç”¨ä¸‰æ¬¡æ—¶çš„æ”¶ç›Šä¸ºææ•ˆ20%ï¼Œå¯ä»¥è¯´æ˜¯å¾ˆæ˜¾è‘—äº†ã€‚</p>
<h2 data-id="heading-5">å…¶ä»–æˆæœ¬</h2>
<p>ä»¥ä¸Šæ˜¯ä»…ä»åŠŸèƒ½å¼€å‘çš„è§’åº¦çœ‹æŠ•å…¥äº§å‡ºæ¯”ï¼Œä½†è¿˜æœ‰å¾ˆå¤šå…¶ä»–å½±å“å› ç´ ï¼š</p>
<h3 data-id="heading-6">1.  äºŒå¼€æˆæœ¬</h3>
<p>åœ¨éç†æƒ³æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦äºŒå¼€ã€‚äºŒå¼€æˆæœ¬ç”±äº§çº¿è´Ÿæ‹…ï¼Œè¿™ç‚¹åº”è¯¥æ²¡æœ‰å¼‚è®®ï¼Œä½†æ˜¯ç³Ÿç³•çš„äºŒå¼€è®¾è®¡ï¼Œå¯èƒ½å¯¼è‡´äº§çº¿åœ¨å¯¹æ¥æ—¶èŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œå¦‚æœäºŒå¼€é‡å¾ˆå¤šï¼Œé‚£å°±æœ‰å¿…è¦é‡æ–°å†³ç­–æ˜¯å¦ä½¿ç”¨ä½ä»£ç ã€‚ å‡è®¾äºŒå¼€è®¾è®¡ä¸ç†æƒ³ï¼Œæ¯ä¸ªäºŒå¼€ç‚¹ç›¸å¯¹æ­£å¸¸æ¨¡å¼é¢å¤–èŠ±è´¹20%æˆæœ¬ï¼Œé‚£ä¹ˆå¯ä»¥è®¡ç®—å‡ºäºŒå¼€é‡è¾¾åˆ°ä¸€å®šè§„æ¨¡åï¼Œä½ä»£ç å¹³å°å¯¹äº§çº¿çš„ææ•ˆä¸ºè´Ÿã€‚</p>
<h3 data-id="heading-7">2.  å¹³å°è´Ÿæ‹…çš„åŸ¹è®­æˆæœ¬å’Œäº§çº¿è´Ÿæ‹…çš„å­¦ä¹ æˆæœ¬</h3>
<p>å¯¹ä»»ä½•ä¸€ä¸ªä½ä»£ç å›¢é˜Ÿï¼Œè¦ç»´æŠ¤ä¸€å¥—é«˜è´¨é‡çš„æ–‡æ¡£ï¼Œéœ€è¦æŠ•å…¥çš„æ—¶é—´å’Œç²¾åŠ›å¹¶ä¸å°‘ï¼Œè¿™é‡ŒåŒ…æ‹¬äº†è¯¦ç»†çš„åŠŸèƒ½æ–‡æ¡£ã€å…¸å‹æ¡ˆä¾‹ï¼Œè§†é¢‘ï¼Œå·¥å•æ±‡æ€»ç­‰ã€‚å¦å¤–è¿˜è¦ç»„ç»‡åŸ¹è®­å’Œè€ƒè¯•ã€‚å®Œå–„çš„ä½ä»£ç å¹³å°ï¼Œå¦‚salesforceæœ‰palygroundä¾›å¼€å‘è€…å­¦ä¹ ã€‚ä½†å¯¹äº7äººä»¥ä¸‹çš„å°è§„æ¨¡ä½ä»£ç å›¢é˜Ÿï¼Œé‡ç‚¹ä»æ˜¯å…¸å‹æ¡ˆä¾‹çš„ç§¯ç´¯å’ŒåŸ¹è®­å®£è®²ï¼Œæ¯å¹´è‡³å°‘éœ€è¦èŠ±è´¹20äººæ—¥ç»´æŠ¤å„ç§æ–‡æ¡£å’Œææ–™ã€‚ è€Œå¹³å°çš„å­¦ä¹ æˆæœ¬ï¼Œåœ¨å®è·µä¸­ï¼Œä¸€èˆ¬è¡¨ç°ä¸ºé¡¹ç›®å‘¨æœŸä¸­çš„ä½ä»£ç å›¢é˜Ÿå¯¹æ¥æ—¶é—´ï¼Œå¯èƒ½æ˜¯æ ¹æ®é¡¹ç›®éœ€æ±‚æŸ¥é˜…æ–‡æ¡£ï¼Œä¹Ÿå¯èƒ½æ˜¯ç›´æ¥ç»™ä½ä»£ç å›¢é˜Ÿæå·¥å•è§£ç­”ã€‚è¿™éƒ¨åˆ†æˆæœ¬éš¾ä»¥é‡åŒ–ï¼Œä¸è¿‡ä¸ªäººç»å†ï¼Œè¿™éƒ¨åˆ†èŠ±è´¹çš„æ—¶é—´åªå 5%å·¦å³ã€‚</p>
<h3 data-id="heading-8">3.  å¹³å°å‡çº§ã€æŠ€æœ¯è°ƒæ•´è€Œå¯¼è‡´äº§çº¿ä»˜å‡ºçš„é¢å¤–å·¥ä½œ</h3>
<p>å¹³å°çš„ä¸å…¼å®¹æ”¹åŠ¨æˆ–å‡çº§ï¼Œå¾€å¾€éœ€è¦è®©äº§çº¿è·Ÿéšå‡çº§å’Œæµ‹è¯•ï¼Œè¿™éƒ¨åˆ†æŠ•å…¥å±äºçº¯æˆæœ¬ï¼Œåº”è¯¥ç”±ä½ä»£ç å›¢é˜Ÿæ‰¿æ‹…ã€‚ å®è·µä¸­ï¼Œä½ä»£ç å›¢é˜Ÿé¢å¯¹çš„åœºæ™¯éœ€æ±‚å¤æ‚å¤šå˜ï¼Œåº”ç”¨äº§çº¿å¤šï¼ŒæŠ€æœ¯å†³ç­–é£é™©å¤§ï¼Œå› æ­¤ä¸€æ—¦å‘ç°å†³ç­–å¤±è¯¯ï¼Œåº”å°½æ—©çº æ­£ã€‚</p>
<h2 data-id="heading-9">å¯ç¤º</h2>
<p>å¯¹ä½ä»£ç å¹³å°çš„ç»å¤§å¤šæ•°åŠŸèƒ½æ¥è¯´ï¼Œåœ¨äº§çº¿ä¸­è¢«åº”ç”¨ä¸‰æ¬¡ï¼Œçœ‹èµ·æ¥å¹¶ä¸éš¾ï¼Œä½†æˆ‘ç»Ÿè®¡äº†æˆ‘ä»¬è¿™å‡ å¹´æ‰€æœ‰åº”ç”¨ï¼Œç«Ÿç„¶æœ‰å¾ˆå¤šå¤æ‚åŠŸèƒ½ï¼Œäº§çº¿ä¸Šä¸€æ¬¡éƒ½æ²¡æœ‰è¢«é‡‡ç”¨ã€‚è€Œåœ¨ä½ä»£ç çš„æˆæœæ±‡æŠ¥ä¸­ï¼Œè¿™äº›æ— ç”¨åŠŸèƒ½åœ¨å½“å¹´å´ä¹Ÿè¢«å½“æˆäº†é‡è¦æˆç»©ï¼Œç¹è£çš„æ•°æ®èƒŒåæ˜¯äº§çº¿ä¸Šåˆ»è–„çš„è¯„ä»·ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä¹Ÿæœ‰å¿ƒæ— åŠ›ã€‚</p>
<p>å› æ­¤æˆ‘æ€»ç»“äº†è¿™ä¸ªæ•ˆç›Šè®¡ç®—æ–¹å¼ï¼Œè¯¥æ–¹æ³•åªæ˜¯æŠ›ç –å¼•ç‰ï¼Œä»…ä»…å¸Œæœ›èƒ½å¤Ÿç ´é™¤ä¸€äº›æ•°æ®è¿·é›¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[UniApp çš„ rpxæ˜¯ä»€ä¹ˆï¼Œè·Ÿremæ¯”å‘¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596186565271765007</link>    <guid>https://juejin.cn/post/7596186565271765007</guid>    <pubDate>2026-01-19T02:42:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596186565271765007" data-draft-id="7596250622707859491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="UniApp çš„ rpxæ˜¯ä»€ä¹ˆï¼Œè·Ÿremæ¯”å‘¢ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,å¾®ä¿¡"/> <meta itemprop="datePublished" content="2026-01-19T02:42:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤è‹å­£é£"/> <meta itemprop="url" content="https://juejin.cn/user/1398999109091048"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            UniApp çš„ rpxæ˜¯ä»€ä¹ˆï¼Œè·Ÿremæ¯”å‘¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398999109091048/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤è‹å­£é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:42:03.000Z" title="Mon Jan 19 2026 02:42:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åƒé€ UniApp çš„ rpxï¼šä¸€å¥—ä»£ç é€‚é…å¤šç«¯çš„æ ¸å¿ƒç§˜è¯€</h2>
<p>åœ¨ UniApp å¼€å‘ä¸­ï¼Œâ€œé€‚é…â€ æ°¸è¿œæ˜¯ç»•ä¸å¼€çš„è¯é¢˜ã€‚ä»æ‰‹æœºåˆ°å¹³æ¿ï¼Œä» iOS åˆ° Androidï¼Œä¸åŒè®¾å¤‡çš„å±å¹•å°ºå¯¸å’Œåƒç´ å¯†åº¦åƒå·®ä¸‡åˆ«ï¼Œå¦‚ä½•è®©ç•Œé¢å…ƒç´ åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šéƒ½æ˜¾ç¤ºå¾—æ°åˆ°å¥½å¤„ï¼Ÿrpxï¼ˆresponsive pixelï¼‰å°±æ˜¯ UniApp ä¸ºæˆ‘ä»¬å‡†å¤‡çš„ â€œé€‚é…ç¥å™¨â€ï¼Œä»Šå¤©å°±å¸¦ä½ å½»åº•ææ‡‚ rpx çš„ä½¿ç”¨é€»è¾‘ï¼Œä»¥åŠå®ƒå’Œ pxã€rem çš„æ ¸å¿ƒåŒºåˆ«ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å…ˆææ‡‚ï¼šrpx åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>rpx æ˜¯ UniAppï¼ˆåŸºäºå¾®ä¿¡å°ç¨‹åºï¼‰æ¨å‡ºçš„<strong>å“åº”å¼åƒç´ å•ä½</strong>ï¼Œæ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯ â€œä¸€é”®é€‚é…å¤šç«¯â€ï¼Œå®ƒçš„åº•å±‚é€»è¾‘éå¸¸ç®€å•ï¼š</p>
<p>UniApp è§„å®šï¼Œæ‰€æœ‰è®¾å¤‡çš„å±å¹•å®½åº¦éƒ½è¢«å›ºå®šä¸º<strong>750rpx</strong>ï¼ˆæ— è®ºå®é™…ç‰©ç†å®½åº¦æ˜¯å¤šå°‘ï¼‰ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>iPhone6/7/8ï¼ˆç‰©ç†å®½åº¦ 375pxï¼‰ï¼š750rpx = 375px â†’ 1rpx = 0.5px</li>
<li>iPhone6/7/8 Plusï¼ˆç‰©ç†å®½åº¦ 414pxï¼‰ï¼š750rpx = 414px â†’ 1rpx â‰ˆ 0.552px</li>
<li>å®‰å“ 1080p å±å¹•ï¼ˆç‰©ç†å®½åº¦ 360pxï¼‰ï¼š750rpx = 360px â†’ 1rpx = 0.48px</li>
</ul>
<p>ç®€å•è¯´ï¼Œrpx ä¼šæ ¹æ®è®¾å¤‡å±å¹•å®½åº¦è‡ªåŠ¨æ¢ç®—ï¼Œä½ åªéœ€è¦æŒ‰ 750px çš„è®¾è®¡ç¨¿ç›´æ¥å†™æ•°å€¼ï¼ˆè®¾è®¡ç¨¿ 100px = ä»£ç  100rpxï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨è®¡ç®—é€‚é…æ¯”ä¾‹ã€‚</p>
<h4 data-id="heading-2">1.1 rpx çš„åŸºç¡€ä½¿ç”¨</h4>
<p>åœ¨ UniApp ä¸­ï¼Œrpx å¯ä»¥ç›´æ¥ç”¨åœ¨æ‰€æœ‰æ”¯æŒæ ·å¼çš„åœ°æ–¹ï¼ˆstyle å±æ€§ã€css/scss æ–‡ä»¶ï¼‰ï¼Œç”¨æ³•å’Œ px å®Œå…¨ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;view class="container"&gt;
    &lt;!-- è¡Œå†…æ ·å¼ä½¿ç”¨rpx --&gt;
    &lt;view style="width: 375rpx; height: 100rpx; background: #409eff;"&gt;
      å å±å¹•å®½åº¦50%çš„ç›’å­
    &lt;/view&gt;
    &lt;!-- ç±»æ ·å¼ä½¿ç”¨rpx --&gt;
    &lt;view class="btn"&gt;æŒ‰é’®&lt;/view&gt;
  &lt;/view&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.container {
  padding: 20rpx;
}
.btn {
  width: 200rpx;
  height: 80rpx;
  line-height: 80rpx;
  font-size: 28rpx; /* å­—ä½“ä¹Ÿæ¨èç”¨rpx */
  background: #67c23a;
  color: white;
  text-align: center;
  border-radius: 40rpx;
}
&lt;/style&gt;
</code></pre>
<h4 data-id="heading-3">1.2 rpx çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>ä¸è¦ç”¨äºå­—ä½“çš„æç«¯åœºæ™¯</strong>ï¼šè™½ç„¶å­—ä½“å¯ä»¥ç”¨ rpxï¼Œä½†å¦‚æœè®¾è®¡ç¨¿è¦æ±‚ â€œä¸åŒå±å¹•å­—ä½“å¤§å°å˜åŒ–å¹…åº¦å°â€ï¼Œå»ºè®®æ­é…<code>upx</code>ï¼ˆUniApp æ‰©å±•å•ä½ï¼Œå’Œ rpx é€»è¾‘ä¸€è‡´ï¼‰æˆ–åŠ¨æ€è®¡ç®—ã€‚</li>
<li><strong>é¿å…åµŒå¥—è¿‡æ·±çš„ç™¾åˆ†æ¯” + rpx æ··åˆ</strong>ï¼šæ¯”å¦‚çˆ¶å…ƒç´ ç”¨ rpxï¼Œå­å…ƒç´ ç”¨ç™¾åˆ†æ¯”ï¼Œå®¹æ˜“å‡ºç°é€‚é…åå·®ã€‚</li>
<li><strong>å¤šç«¯é€‚é…ç‰¹æ®Šå¤„ç†</strong>ï¼šåœ¨ App ç«¯ï¼ˆå°¤å…¶æ˜¯å¹³æ¿ï¼‰ï¼Œå¦‚æœéœ€è¦æ›´ç²¾ç»†çš„é€‚é…ï¼Œå¯ä»¥é€šè¿‡<code>uni.getSystemInfoSync()</code>è·å–å±å¹•å®½åº¦ï¼Œæ‰‹åŠ¨è°ƒæ•´ rpx æ¢ç®—æ¯”ä¾‹ã€‚</li>
</ol>
<h3 data-id="heading-4">äºŒã€æ­£é¢åˆšï¼šrpx vs px vs rem</h3>
<p>ä¸ºäº†æ›´æ¸…æ™°ç†è§£ rpx çš„ä¼˜åŠ¿ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸‰ä¸ªæœ€å¸¸ç”¨çš„å•ä½æ”¾åœ¨ä¸€èµ·å¯¹æ¯”ï¼š</p>









































<table><thead><tr><th>ç‰¹æ€§</th><th>rpxï¼ˆå“åº”å¼åƒç´ ï¼‰</th><th>pxï¼ˆç‰©ç†åƒç´ ï¼‰</th><th>remï¼ˆæ ¹å…ƒç´ åƒç´ ï¼‰</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒé€»è¾‘</strong></td><td>åŸºäºå±å¹•å®½åº¦ 750 ç­‰åˆ†</td><td>å›ºå®šåƒç´ ï¼Œä¸è®¾å¤‡æ— å…³</td><td>åŸºäºæ ¹èŠ‚ç‚¹ï¼ˆhtmlï¼‰å­—ä½“å¤§å°</td></tr><tr><td><strong>é€‚é…æ€§</strong></td><td>è‡ªåŠ¨é€‚é…å¤šç«¯ï¼Œæ— éœ€è®¡ç®—</td><td>å›ºå®šå°ºå¯¸ï¼Œé€‚é…æ€§å·®</td><td>éœ€æ‰‹åŠ¨è®¾ç½®æ ¹å­—ä½“å¤§å°é€‚é…</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>UniApp / å°ç¨‹åºå¤šç«¯å¼€å‘</td><td>å›ºå®šå°ºå¯¸å…ƒç´ ï¼ˆå¦‚ 1px è¾¹æ¡†ï¼‰</td><td>H5/web ç«¯é€‚é…</td></tr><tr><td><strong>è®¡ç®—å¤æ‚åº¦</strong></td><td>0ï¼ˆç›´æ¥ç”¨è®¾è®¡ç¨¿æ•°å€¼ï¼‰</td><td>é«˜ï¼ˆéœ€æŒ‰ä¸åŒå±å¹•æ¢ç®—ï¼‰</td><td>ä¸­ï¼ˆéœ€é…ç½®æ ¹å­—ä½“ï¼‰</td></tr><tr><td><strong>è·¨ç«¯æ”¯æŒ</strong></td><td>UniApp å…¨ç«¯æ”¯æŒ</td><td>æ‰€æœ‰ç«¯æ”¯æŒ</td><td>H5 æ”¯æŒï¼Œå°ç¨‹åº / App éœ€å…¼å®¹</td></tr></tbody></table>
<h4 data-id="heading-5">2.1 å®æˆ˜å¯¹æ¯”ï¼šåŒä¸€ä¸ªæŒ‰é’®çš„ä¸‰ç§å†™æ³•</h4>
<h5 data-id="heading-6">éœ€æ±‚ï¼šè®¾è®¡ç¨¿ 750px å®½åº¦ï¼ŒæŒ‰é’®å®½åº¦ 200pxï¼Œé€‚é…ä¸åŒå±å¹•ã€‚</h5>
<h6 data-id="heading-7">â‘  rpx å†™æ³•ï¼ˆæ¨èï¼‰</h6>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.btn</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200</span>rpx; <span class="hljs-comment">/* ç›´æ¥ç”¨è®¾è®¡ç¨¿æ•°å€¼ï¼Œè‡ªåŠ¨é€‚é… */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">80</span>rpx;
}
</code></pre>
<h6 data-id="heading-8">â‘¡ px å†™æ³•ï¼ˆé€‚é…æ€§å·®ï¼‰</h6>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä»…åœ¨375pxå®½åº¦å±å¹•æ˜¾ç¤ºæ­£å¸¸ï¼Œå…¶ä»–å±å¹•ä¼šå˜å½¢ */</span>
<span class="hljs-selector-class">.btn</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">80px</span>;
}

<span class="hljs-comment">/* å¦‚éœ€é€‚é…ï¼Œéœ€æ‰‹åŠ¨åª’ä½“æŸ¥è¯¢ */</span>
<span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">width</span>: <span class="hljs-number">414px</span>) {
  <span class="hljs-selector-class">.btn</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">224px</span>; <span class="hljs-comment">/* 200*(414/375) */</span>
    <span class="hljs-attribute">height</span>: <span class="hljs-number">89.6px</span>;
  }
}
</code></pre>
<h6 data-id="heading-9">â‘¢ rem å†™æ³•ï¼ˆUniApp ä¸­éœ€å…¼å®¹ï¼‰</h6>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ç¬¬ä¸€æ­¥ï¼šè®¾ç½®æ ¹å­—ä½“å¤§å°ï¼ˆä»¥375pxå±å¹•ä¸ºåŸºå‡†ï¼‰ */</span>
<span class="hljs-selector-tag">html</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">37.5px</span>; <span class="hljs-comment">/* 375/10ï¼Œæ–¹ä¾¿è®¡ç®— */</span>
}

<span class="hljs-comment">/* ç¬¬äºŒæ­¥ï¼šæŒ‰é’®æ ·å¼ */</span>
<span class="hljs-selector-class">.btn</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">5.333rem</span>; <span class="hljs-comment">/* 200/37.5 */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">2.133rem</span>; <span class="hljs-comment">/* 80/37.5 */</span>
}

<span class="hljs-comment">/* ç¬¬ä¸‰æ­¥ï¼šåª’ä½“æŸ¥è¯¢é€‚é…å…¶ä»–å±å¹• */</span>
<span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">width</span>: <span class="hljs-number">414px</span>) {
  <span class="hljs-selector-tag">html</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">41.4px</span>;
  }
}
</code></pre>
<p>ä»ä¸Šé¢çš„å¯¹æ¯”èƒ½æ˜æ˜¾çœ‹å‡ºï¼šrpx å†™æ³•æœ€ç®€æ´ï¼Œæ— éœ€é¢å¤–é…ç½®å’Œè®¡ç®—ï¼Œæ˜¯ UniApp å¼€å‘çš„æœ€ä¼˜è§£ã€‚</p>
<h4 data-id="heading-10">2.2 ä»€ä¹ˆæ—¶å€™ä¸ç”¨ rpxï¼Ÿ</h4>
<p>rpx è™½å¥½ï¼Œä½†ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œè¿™ä¸¤ç§åœºæ™¯å»ºè®®æ¢ç”¨å…¶ä»–å•ä½ï¼š</p>
<ol>
<li><strong>1px è¾¹æ¡†</strong>ï¼šrpx æ— æ³•ç²¾å‡†è¡¨ç¤º 1pxï¼ˆæ¯”å¦‚åœ¨ 2 å€å±ä¸Šï¼Œ1rpx=1pxï¼Œ3 å€å±ä¸Š 1rpxâ‰ˆ1.5pxï¼‰ï¼Œæ­¤æ—¶ç”¨ px æ›´åˆé€‚ã€‚</li>
<li><strong>H5 ç«¯æè‡´é€‚é…</strong>ï¼šå¦‚æœ UniApp é¡¹ç›®ä¸»è¦é¢å‘ H5ï¼Œä¸”éœ€è¦å’Œç°æœ‰ web é¡¹ç›®çš„ rem é€‚é…é€»è¾‘ç»Ÿä¸€ï¼Œå¯é€‰ç”¨ remã€‚</li>
<li><strong>å›ºå®šæ¯”ä¾‹çš„å›¾å½¢</strong>ï¼šæ¯”å¦‚åœ†å½¢å¤´åƒï¼ˆå®½é«˜æ¯” 1:1ï¼‰ï¼Œå¯ä»¥ç”¨ rpx + ç™¾åˆ†æ¯”ç»„åˆï¼Œæˆ–ç›´æ¥ç”¨ vw/vhï¼ˆUniApp H5 ç«¯æ”¯æŒï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-11">ä¸‰ã€é¿å‘æŒ‡å—ï¼šrpx ä½¿ç”¨çš„å¸¸è§é—®é¢˜</h3>
<p><strong>é—®é¢˜ 1ï¼šè®¾è®¡ç¨¿ä¸æ˜¯ 750px å®½åº¦æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>æ¢ç®—å…¬å¼ï¼š<code>ç›®æ ‡rpx = è®¾è®¡ç¨¿åƒç´ å€¼ * 750 / è®¾è®¡ç¨¿å®½åº¦</code>ã€‚æ¯”å¦‚è®¾è®¡ç¨¿å®½åº¦ 375pxï¼ŒæŒ‰é’®å®½åº¦ 100px â†’ 100*750/375=200rpxã€‚</p>
<p><strong>é—®é¢˜ 2ï¼šApp ç«¯ rpx é€‚é…åå·®ï¼Ÿ</strong></p>
<p>åŸå› ï¼šéƒ¨åˆ†å®‰å“è®¾å¤‡çš„å±å¹•å¯†åº¦è®¡ç®—å·®å¼‚ã€‚è§£å†³ï¼šé€šè¿‡<code>uni.getSystemInfoSync()</code>è·å–<code>screenWidth</code>ï¼Œæ‰‹åŠ¨è°ƒæ•´æ ·å¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">è¿è¡Œ

``` javascript
onLoad() {
  <span class="hljs-keyword">const</span> { screenWidth } = uni.getSystemInfoSync();
  <span class="hljs-comment">// è®¡ç®—å®é™…rpxæ¯”ä¾‹</span>
  <span class="hljs-keyword">this</span>.rpxRatio = <span class="hljs-number">750</span> / screenWidth;
  <span class="hljs-comment">// åŠ¨æ€è®¾ç½®æ ·å¼</span>
  <span class="hljs-keyword">this</span>.btnWidth = <span class="hljs-number">200</span> / <span class="hljs-keyword">this</span>.rpxRatio;
}
```
</code></pre>
<p><strong>é—®é¢˜ 3ï¼šå°ç¨‹åºç«¯ rpx å’Œ px æ··ç”¨å¯¼è‡´å¸ƒå±€é”™ä¹±ï¼Ÿ</strong></p>
<p>è§£å†³ï¼šç»Ÿä¸€å•ä½ä½“ç³»ï¼Œä¼˜å…ˆç”¨ rpxï¼Œä»…åœ¨ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚ 1px è¾¹æ¡†ï¼‰ç”¨ pxã€‚</p>
<h3 data-id="heading-12">æ€»ç»“</h3>
<ol>
<li><strong>rpx æ˜¯ UniApp å¤šç«¯é€‚é…çš„æ ¸å¿ƒå•ä½</strong>ï¼šåŸºäº 750px å±å¹•å®½åº¦ç­‰åˆ†ï¼Œæ— éœ€æ‰‹åŠ¨æ¢ç®—ï¼Œç›´æ¥å¤ç”¨è®¾è®¡ç¨¿æ•°å€¼ã€‚</li>
<li><strong>rpx vs px vs rem</strong>ï¼šrpx é€‚é…æ•ˆç‡æœ€é«˜ï¼ˆè‡ªåŠ¨ï¼‰ï¼Œpx é€‚é…æ€§æœ€å·®ï¼ˆå›ºå®šï¼‰ï¼Œrem éœ€æ‰‹åŠ¨é…ç½®ï¼ˆé€‚åˆ H5ï¼‰ã€‚</li>
<li><strong>ä½¿ç”¨åŸåˆ™</strong>ï¼šUniApp å¼€å‘ä¼˜å…ˆç”¨ rpxï¼Œä»…åœ¨ 1px è¾¹æ¡†ã€H5 å…¼å®¹ç­‰ç‰¹æ®Šåœºæ™¯æ¢ç”¨ px/remã€‚</li>
</ol>
<p>æŒæ¡ rpx çš„æ ¸å¿ƒé€»è¾‘ï¼Œä½ å°±èƒ½æ‘†è„± â€œé€‚é…ç„¦è™‘â€ï¼ŒçœŸæ­£å®ç° UniAppâ€œä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œâ€ çš„æ ¸å¿ƒä¼˜åŠ¿ã€‚ä¸å…¶åœ¨ä¸åŒè®¾å¤‡çš„é€‚é…ä¸­åå¤è°ƒè¯•ï¼Œä¸å¦‚ä»ä¸€å¼€å§‹å°±é€‰å¯¹å•ä½ï¼Œè®©å¼€å‘æ•ˆç‡ç¿»å€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-ES6 Class ç±»å…¨æ–¹ä½è¿›é˜¶æŒ‡å—]]></title>    <link>https://juejin.cn/post/7596230910213210155</link>    <guid>https://juejin.cn/post/7596230910213210155</guid>    <pubDate>2026-01-18T15:02:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596230910213210155" data-draft-id="7596230910213177387" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-ES6 Class ç±»å…¨æ–¹ä½è¿›é˜¶æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-18T15:02:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-ES6 Class ç±»å…¨æ–¹ä½è¿›é˜¶æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:02:58.000Z" title="Sun Jan 18 2026 15:02:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ ES6 ä¹‹å‰ï¼ŒJavaScript å¼€å‘è€…å¿…é¡»é€šè¿‡æ„é€ å‡½æ•°å’ŒåŸå‹é“¾ï¼ˆ<code>prototype</code>ï¼‰æ¥æ¨¡æ‹Ÿâ€œç±»â€çš„è¡Œä¸ºï¼Œä»£ç æ—¢å†—é•¿åˆå®¹æ˜“å‡ºé”™ã€‚ES6 å¼•å…¥äº† <code>class</code> å…³é”®å­—ï¼Œè™½ç„¶å®ƒæœ¬è´¨ä¸Šæ˜¯<strong>è¯­æ³•ç³–</strong>ï¼Œä½†å®ƒè®© JavaScript çš„é¢å‘å¯¹è±¡ç¼–ç¨‹å˜å¾—æ›´åŠ æ¸…æ™°å’Œæ ‡å‡†ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ åŸºç¡€ï¼šç±»çš„å®šä¹‰ä¸å®ä¾‹åŒ–</h2>
<p><code>class</code> å°†æ„é€ å‡½æ•°ï¼ˆ<code>constructor</code>ï¼‰å’ŒåŸå‹æ–¹æ³•ï¼ˆ<code>speak</code>ï¼‰ç»Ÿä¸€å°è£…åœ¨ä¸€ä¸ªå¤§æ‹¬å·å†…ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼šæ¯å½“ new ä¸€ä¸ªå®ä¾‹æ—¶è‡ªåŠ¨è°ƒç”¨</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// å®ä¾‹å±æ€§</span>
    }
    <span class="hljs-comment">// åŸå‹æ–¹æ³•ï¼šå®šä¹‰åœ¨ Animal.prototype ä¸Šï¼Œä¾›æ‰€æœ‰å®ä¾‹å…±äº«</span>
    <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> speak!!!`</span>);
    }
}

<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">'dog'</span>);
dog.<span class="hljs-title function_">speak</span>(); <span class="hljs-comment">// dog speak!!!</span>
</code></pre>
<hr/>
<h2 data-id="heading-2">äºŒã€ ç»§æ‰¿ï¼šextends ä¸ super çš„åŠ›é‡</h2>
<p>ç»§æ‰¿è®©å­ç±»å¯ä»¥å¤ç”¨çˆ¶ç±»çš„é€»è¾‘ã€‚åœ¨å­ç±»ä¸­ï¼Œ<code>super</code> æ˜¯è¿æ¥çˆ¶ç±»çš„æ¡¥æ¢ã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒè§„åˆ™</h3>
<ol>
<li><strong>å¿…é¡»è°ƒç”¨ super</strong>ï¼šå­ç±»å¦‚æœæ²¡æœ‰è‡ªå·±çš„ <code>constructor</code>ï¼Œå¼•æ“ä¼šé»˜è®¤æ·»åŠ ã€‚å¦‚æœæœ‰ï¼Œåˆ™<strong>å¿…é¡»åœ¨è®¿é—® <code>this</code> ä¹‹å‰è°ƒç”¨ <code>super()</code></strong> ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</li>
<li><strong>æ–¹æ³•å¤ç”¨</strong>ï¼šå¯ä»¥ä½¿ç”¨ <code>super.methodName()</code> è°ƒç”¨çˆ¶ç±»çš„æ™®é€šæ–¹æ³•ã€‚</li>
</ol>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
    <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> needs food`</span>;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name, color</span>) {
        <span class="hljs-comment">// 1. è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆä¼ é€’ nameï¼‰</span>
        <span class="hljs-variable language_">super</span>(name); 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
    }
    <span class="hljs-title function_">eatFood</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// 2. é€šè¿‡ super è°ƒç”¨çˆ¶ç±»çš„åŸå‹æ–¹æ³•</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.color}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">super</span>.eat()}</span>`</span>);
    }
}

<span class="hljs-keyword">const</span> mimi = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-string">'mimi'</span>, <span class="hljs-string">'white'</span>);
mimi.<span class="hljs-title function_">eatFood</span>(); <span class="hljs-comment">// mimi is white, mimi needs food</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€ é™æ€æˆå‘˜ï¼šstatic å…³é”®å­—</h2>
<p><code>static</code> å®šä¹‰çš„å±æ€§å’Œæ–¹æ³•å±äº<strong>ç±»æœ¬èº«</strong>ï¼Œè€Œä¸æ˜¯å®ä¾‹ã€‚</p>
<h3 data-id="heading-5">æ³¨æ„äº‹é¡¹</h3>
<ul>
<li><strong>ä¸å¯ç»§æ‰¿</strong>ï¼šå®ä¾‹å¯¹è±¡æ— æ³•è®¿é—®é™æ€æ–¹æ³•ã€‚</li>
<li><strong>this æŒ‡å‘</strong>ï¼šé™æ€æ–¹æ³•ä¸­çš„ <code>this</code> æŒ‡å‘çš„æ˜¯ <strong>ç±»æœ¬èº«</strong>ï¼Œè€Œä¸æ˜¯å®ä¾‹ã€‚</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-keyword">static</span> feet = <span class="hljs-number">4</span>; <span class="hljs-comment">// é™æ€å±æ€§</span>

    <span class="hljs-keyword">static</span> <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œçš„ this æŒ‡å‘ Animal ç±»æœ¬èº«</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating`</span>); <span class="hljs-comment">// è¿™é‡Œçš„ this.name è¾“å‡ºçš„æ˜¯ "Animal"ï¼ˆç±»çš„åå­—ï¼‰</span>
    }
}

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cat.<span class="hljs-property">feet</span>);      <span class="hljs-comment">// undefined (å®ä¾‹æ— æ³•è®¿é—®)</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property">feet</span>);   <span class="hljs-comment">// 4 (ç±»ç›´æ¥è®¿é—®)</span>
<span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">eat</span>();               <span class="hljs-comment">// "Animal is eating"</span>
</code></pre>
<hr/>
<h2 data-id="heading-6">å››ã€ é¢è¯•æ¨¡æ‹Ÿé¢˜</h2>
<h3 data-id="heading-7">Q1ï¼šES6 çš„ class å£°æ˜å’Œæ™®é€š function æ„é€ å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<p><strong>å‚è€ƒå›ç­”ï¼š</strong></p>
<ol>
<li><strong>ä¸¥æ ¼æ¨¡å¼</strong>ï¼š<code>class</code> å†…éƒ¨é»˜è®¤å°±æ˜¯ä¸¥æ ¼æ¨¡å¼ã€‚</li>
<li><strong>å˜é‡æå‡</strong>ï¼š<code>class</code> ä¸å­˜åœ¨å˜é‡æå‡ï¼ˆå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼‰ï¼Œå¿…é¡»å…ˆå®šä¹‰åä½¿ç”¨ã€‚</li>
<li><strong>è°ƒç”¨æ–¹å¼</strong>ï¼š<code>class</code> å¿…é¡»é…åˆ <code>new</code> è°ƒç”¨ï¼Œç›´æ¥è°ƒç”¨ä¼šæŠ¥é”™ï¼›è€Œæ™®é€šæ„é€ å‡½æ•°å¯ä»¥ä½œä¸ºæ™®é€šå‡½æ•°æ‰§è¡Œã€‚</li>
<li><strong>åŸå‹æ–¹æ³•</strong>ï¼š<code>class</code> å®šä¹‰çš„æ–¹æ³•æ˜¯ä¸å¯æšä¸¾çš„ã€‚</li>
</ol>
<h3 data-id="heading-8">Q2ï¼šå­ç±»æ„é€ å‡½æ•°ä¸­ä¸ºä»€ä¹ˆå¿…é¡»å…ˆè°ƒç”¨ <code>super()</code>ï¼Ÿ</h3>
<p>å‚è€ƒå›ç­”ï¼š</p>
<p>åœ¨ ES5 çš„ç»§æ‰¿ä¸­ï¼Œæ˜¯å…ˆåˆ›å»ºå­ç±»çš„ thisï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•å±æ€§æ·»åŠ åˆ° this ä¸Šã€‚</p>
<p>ä½†åœ¨ ES6 çš„ç»§æ‰¿ä¸­ï¼Œæ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®ä¾‹å¯¹è±¡ thisï¼ˆé€šè¿‡ super()ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹è¿™ä¸ª thisã€‚å¦‚æœä¸è°ƒç”¨ super()ï¼Œå­ç±»å°±æ‹¿ä¸åˆ° this å¯¹è±¡ã€‚</p>
<h3 data-id="heading-9">Q3ï¼šå¦‚ä½•ç”¨ ES5 æ¨¡æ‹Ÿ <code>class</code> çš„é™æ€æ–¹æ³•ï¼Ÿ</h3>
<p>å‚è€ƒå›ç­”ï¼š</p>
<p>åœ¨ ES5 ä¸­ï¼Œç›´æ¥å°†æ–¹æ³•æŒ‚è½½åˆ°æ„é€ å‡½æ•°å‡½æ•°åä¸Šå³å¯ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Animal</span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'eating'</span>); }; <span class="hljs-comment">// æ¨¡æ‹Ÿé™æ€æ–¹æ³•</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">äº”ã€ æ€»ç»“</h2>






























<table><thead><tr><th><strong>å…³é”®å­—</strong></th><th><strong>ç”¨é€”</strong></th><th><strong>æ ¸å¿ƒç‚¹</strong></th></tr></thead><tbody><tr><td><strong><code>constructor</code></strong></td><td>åˆå§‹åŒ–å®ä¾‹</td><td><code>new</code> çš„æ—¶å€™è‡ªåŠ¨è§¦å‘</td></tr><tr><td><strong><code>extends</code></strong></td><td>å»ºç«‹åŸå‹ç»§æ‰¿</td><td>å­ç±»åŸå‹æŒ‡å‘çˆ¶ç±»åŸå‹</td></tr><tr><td><strong><code>super</code></strong></td><td>æŒ‡å‘çˆ¶ç±»</td><td>æ„é€ å‡½æ•°ä¸­å¿…é¡»é¦–è¡Œè°ƒç”¨</td></tr><tr><td><strong><code>static</code></strong></td><td>å®šä¹‰ç±»ç§æœ‰æˆå‘˜</td><td>åªèƒ½ç”±ç±»åç›´æ¥è°ƒç”¨</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Router DOM å…¨é¢å­¦ä¹ ç¬”è®°ï¼šä»åŸç†åˆ°å®æˆ˜]]></title>    <link>https://juejin.cn/post/7596241980869279778</link>    <guid>https://juejin.cn/post/7596241980869279778</guid>    <pubDate>2026-01-18T15:51:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596241980869279778" data-draft-id="7596153767873167394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Router DOM å…¨é¢å­¦ä¹ ç¬”è®°ï¼šä»åŸç†åˆ°å®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,JavaScript"/> <meta itemprop="datePublished" content="2026-01-18T15:51:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UIUV"/> <meta itemprop="url" content="https://juejin.cn/user/1036168457093483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Router DOM å…¨é¢å­¦ä¹ ç¬”è®°ï¼šä»åŸç†åˆ°å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1036168457093483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UIUV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:51:36.000Z" title="Sun Jan 18 2026 15:51:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React Router DOM å…¨é¢å­¦ä¹ ç¬”è®°ï¼šä»åŸç†åˆ°å®æˆ˜</h2>
<p>åœ¨ React ç”Ÿæ€ä¸­ï¼Œ<strong>react-router-dom</strong> æ˜¯å®ç°å‰ç«¯è·¯ç”±ã€æ„å»ºå•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„æ ¸å¿ƒåº“ã€‚å®ƒè§£å†³äº†å•é¡µåº”ç”¨ä¸­é¡µé¢åˆ‡æ¢ã€è·¯ç”±åŒ¹é…ã€æƒé™æ§åˆ¶ç­‰å…³é”®é—®é¢˜ï¼Œè®©å‰ç«¯å¼€å‘èƒ½å¤Ÿè„±ç¦»åç«¯è·¯ç”±çš„å¼ºä¾èµ–ï¼Œå®ç°æ›´æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚æœ¬æ–‡å°†ä»è·¯ç”±åŸºç¡€ã€æ ¸å¿ƒç”¨æ³•ã€å®æˆ˜æ¡ˆä¾‹ã€åŸç†å‰–æç­‰ç»´åº¦ï¼Œå…¨é¢æ¢³ç† react-router-dom çš„å­¦ä¹ è¦ç‚¹ï¼Œç»“åˆä»£ç ç¤ºä¾‹æ·±å…¥è®²è§£ï¼ŒåŠ©åŠ›å¼€å‘è€…å¿«é€ŸæŒæ¡å¹¶çµæ´»è¿ç”¨ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€å‰ç«¯è·¯ç”±çš„æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-2">1.1 è·¯ç”±çš„æ¼”å˜ï¼šä»åç«¯åˆ°å‰ç«¯</h3>
<p>åœ¨å‰åç«¯æœªåˆ†ç¦»çš„ä¼ ç»Ÿå¼€å‘æ¨¡å¼ä¸­ï¼Œè·¯ç”±çš„æ§åˆ¶æƒå®Œå…¨æŒæ¡åœ¨åç«¯ã€‚å‰ç«¯ä»…è´Ÿè´£é¡µé¢åˆ‡å›¾ä¸é™æ€å±•ç¤ºï¼Œå½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥æˆ–è¾“å…¥ URL æ—¶ï¼Œä¼šå‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼Œåç«¯æ ¹æ®è¯·æ±‚è·¯å¾„åŒ¹é…å¯¹åº”çš„èµ„æºï¼Œè¿”å›å®Œæ•´çš„ HTML é¡µé¢ã€‚è¿™ç§æ¨¡å¼å­˜åœ¨æ˜æ˜¾å¼Šç«¯ï¼šæ¯æ¬¡é¡µé¢åˆ‡æ¢éƒ½ä¼šé‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œå¯¼è‡´é¡µé¢ç™½å±ã€åŠ è½½é€Ÿåº¦æ…¢ï¼Œç”¨æˆ·ä½“éªŒè¾ƒå·®ï¼Œæ­¤æ—¶çš„å‰ç«¯å¼€å‘è€…ä¹Ÿè¢«æˆç§°ä¸ºâ€œåˆ‡å›¾ä»”â€ã€‚</p>
<p>éšç€å‰åç«¯åˆ†ç¦»æ¶æ„çš„æ™®åŠï¼Œå‰ç«¯æŠ€æœ¯æ ˆæ—¥ç›Šæˆç†Ÿï¼ŒHTML5 æä¾›äº†åŸç”Ÿçš„è·¯ç”±èƒ½åŠ›ï¼Œå‰ç«¯è·¯ç”±åº”è¿è€Œç”Ÿã€‚å‰ç«¯è·¯ç”±å…è®¸åœ¨ä¸åˆ·æ–°æ•´ä¸ªé¡µé¢çš„å‰æä¸‹ï¼Œé€šè¿‡æ”¹å˜ URL è·¯å¾„ï¼Œå®ç°é¡µé¢ç»„ä»¶çš„åˆ‡æ¢ä¸å†…å®¹æ›´æ–°ã€‚å…¶æ ¸å¿ƒé€»è¾‘æ˜¯ï¼šURL å˜åŒ–æ—¶ï¼Œå‰ç«¯æ•è·è¯¥äº‹ä»¶ï¼Œé€šè¿‡è·¯ç”±è§„åˆ™åŒ¹é…å¯¹åº”çš„ç»„ä»¶ï¼Œåœ¨é¡µé¢ä¸­æ¸²æŸ“æ–°ç»„ä»¶ï¼Œä»è€Œå®ç°â€œæ— åˆ·æ–°è·³è½¬â€ï¼Œå¤§å¹…æå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-3">1.2 å‰ç«¯è·¯ç”±çš„ä¸¤ç§å®ç°å½¢å¼</h3>
<p>react-router-dom æä¾›äº†ä¸¤ç§ä¸»æµçš„è·¯ç”±å®ç°æ–¹å¼ï¼Œåˆ†åˆ«åŸºäºä¸åŒçš„æŠ€æœ¯åŸç†ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼š</p>
<h4 data-id="heading-4">1.2.1 HashRouterï¼šåŸºäºé”šç‚¹çš„è·¯ç”±</h4>
<p>HashRouter åˆ©ç”¨ URL ä¸­çš„ <strong>é”šç‚¹ï¼ˆ#ï¼‰</strong> å®ç°è·¯ç”±è·³è½¬ã€‚é”šç‚¹åŸæœ¬ç”¨äºå®šä½é¡µé¢å†…çš„å…ƒç´ ï¼Œå…¶ç‰¹æ€§æ˜¯ï¼šæ”¹å˜é”šç‚¹å†…å®¹ä¸ä¼šè§¦å‘æµè§ˆå™¨çš„é¡µé¢åˆ·æ–°ï¼Œä»…ä¼šè§¦å‘ <code>hashchange</code> äº‹ä»¶ã€‚HashRouter æ­£æ˜¯å€ŸåŠ©è¿™ä¸€ç‰¹æ€§ï¼Œå°†è·¯ç”±ä¿¡æ¯å­˜å‚¨åœ¨é”šç‚¹ä¹‹åï¼Œä¾‹å¦‚ <code>http://localhost:3000/#/about</code>ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>URL æ ¼å¼å¸¦æœ‰ <code>#</code>ï¼Œè§†è§‰ä¸Šç›¸å¯¹â€œä¸‘é™‹â€ï¼›</li>
<li>å…¼å®¹æ€§æå¼ºï¼Œæ”¯æŒæ‰€æœ‰ä¸»æµæµè§ˆå™¨ï¼ŒåŒ…æ‹¬ä½ç‰ˆæœ¬ IEï¼Œå› ä¸ºé”šç‚¹æ˜¯æ—©æœŸ HTML å°±æ”¯æŒçš„ç‰¹æ€§ï¼›</li>
<li>æ— éœ€åç«¯é…ç½®ï¼Œå› ä¸ºé”šç‚¹éƒ¨åˆ†ä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ï¼Œåç«¯æ— éœ€å¯¹è·¯ç”±è·¯å¾„åšé¢å¤–å¤„ç†ã€‚</li>
</ul>
<h4 data-id="heading-5">1.2.2 BrowserRouterï¼šåŸºäº HTML5 History API çš„è·¯ç”±</h4>
<p>BrowserRouter é‡‡ç”¨ HTML5 æ–°å¢çš„ History APIï¼ˆ<code>pushState</code>ã€<code>replaceState</code> ç­‰æ–¹æ³•ï¼‰å®ç°è·¯ç”±æ§åˆ¶ï¼ŒURL æ ¼å¼ä¸åç«¯è·¯ç”±ä¸€è‡´ï¼Œä¸åŒ…å«é”šç‚¹ï¼Œä¾‹å¦‚ <code>http://localhost:3000/about</code>ã€‚History API å…è®¸å‰ç«¯ç›´æ¥æ“ä½œæµè§ˆå™¨çš„å†å²è®°å½•æ ˆï¼Œå®ç° URL å˜åŒ–è€Œä¸åˆ·æ–°é¡µé¢ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>URL æ ¼å¼ç®€æ´ç¾è§‚ï¼Œä¸ä¼ ç»Ÿåç«¯è·¯ç”±ä¸€è‡´ï¼›</li>
<li>å…¼å®¹æ€§ç¨å¼±ï¼Œä¸æ”¯æŒ IE11 åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œä½†å…¶å®ç°çš„åŠŸèƒ½æ›´ç¬¦åˆç°ä»£å‰ç«¯å¼€å‘éœ€æ±‚ï¼Œä¸”ç›®å‰ä¸»æµæµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge ç­‰ï¼‰å‡å·²å®Œç¾æ”¯æŒï¼›</li>
<li>éœ€è¦åç«¯é…åˆé…ç½®ï¼šå½“ç”¨æˆ·ç›´æ¥è®¿é—®éæ ¹è·¯å¾„ï¼ˆå¦‚ <code>http://localhost:3000/about</code>ï¼‰æ—¶ï¼Œåç«¯éœ€å°†è¯·æ±‚è½¬å‘åˆ°æ ¹é¡µé¢ï¼ˆindex.htmlï¼‰ï¼Œå¦åˆ™ä¼šè¿”å› 404 é”™è¯¯ï¼ˆå› ä¸ºåç«¯ä¸å­˜åœ¨è¯¥è·¯ç”±è·¯å¾„ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-6">1.3 è·¯ç”±åˆ«åï¼šæå‡ä»£ç å¯è¯»æ€§</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸ºäº†ç®€åŒ–ä»£ç å¹¶æå‡å¯è¯»æ€§ï¼Œé€šå¸¸ä¼šä¸ºè·¯ç”±ç»„ä»¶è®¾ç½®åˆ«åï¼Œä½¿ç”¨ <code>as</code> å…³é”®å­—å®ç°ã€‚ä¾‹å¦‚å°† <code>BrowserRouter</code> åˆ«åä¸º <code>Router</code>ï¼Œé¿å…åœ¨åç»­ä»£ç ä¸­é‡å¤ä¹¦å†™å†—é•¿çš„ç»„ä»¶åï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
</code></pre>
<p>è¿™æ ·çš„å†™æ³•ä¸ä»…ç®€æ´ï¼Œè¿˜èƒ½è®©å…¶ä»–å¼€å‘è€…å¿«é€Ÿç†è§£ä»£ç æ„å›¾ï¼Œå°¤å…¶åœ¨å¤šäººåä½œé¡¹ç›®ä¸­ï¼Œç»Ÿä¸€çš„åˆ«åè§„èŒƒèƒ½æå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-7">1.4 è·¯ç”±ä¸æ€§èƒ½ä¼˜åŒ–ï¼šç»„ä»¶æ‡’åŠ è½½</h3>
<p>å•é¡µåº”ç”¨çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€æ˜¯åŠ è½½é€Ÿåº¦å¿«ï¼Œä½†å¦‚æœåº”ç”¨è§„æ¨¡è¾ƒå¤§ï¼Œä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰é¡µé¢ç»„ä»¶ä¼šå¯¼è‡´åˆå§‹åŠ è½½ä½“ç§¯è¿‡å¤§ï¼Œå½±å“é¦–å±æ¸²æŸ“é€Ÿåº¦ã€‚react-router-dom ç»“åˆ React æä¾›çš„ <code>lazy</code> å’Œ <code>Suspense</code> ç»„ä»¶ï¼Œå®ç°è·¯ç”±çº§åˆ«çš„ç»„ä»¶æ‡’åŠ è½½ï¼Œæœ‰æ•ˆä¼˜åŒ–æ€§èƒ½ã€‚</p>
<p><strong>æ‡’åŠ è½½æ ¸å¿ƒé€»è¾‘</strong>ï¼šä»…å½“ç”¨æˆ·è®¿é—®æŸä¸ªè·¯ç”±æ—¶ï¼Œæ‰åŠ è½½å¯¹åº”çš„ç»„ä»¶ï¼Œè€Œéåœ¨åº”ç”¨åˆå§‹åŒ–æ—¶å…¨éƒ¨åŠ è½½ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>ç”¨æˆ·è®¿é—®æ ¹è·¯å¾„ <code>/</code> æ—¶ï¼Œä»…åŠ è½½ <code>Home</code> ç»„ä»¶ï¼Œ<code>About</code> ç»„ä»¶æš‚ä¸åŠ è½½ï¼›</li>
<li>å½“ç”¨æˆ·è·³è½¬è‡³ <code>/about</code> è·¯å¾„æ—¶ï¼Œå†åŠ¨æ€åŠ è½½ <code>About</code> ç»„ä»¶ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼èƒ½æ˜¾è‘—å‡å°åº”ç”¨åˆå§‹åŠ è½½ä½“ç§¯ï¼Œæå‡é¦–å±åŠ è½½é€Ÿåº¦ï¼Œæ˜¯å¤§å‹å•é¡µåº”ç”¨çš„å¿…å¤‡ä¼˜åŒ–æ‰‹æ®µã€‚</p>
<h2 data-id="heading-8">äºŒã€react-router-dom æ ¸å¿ƒè·¯ç”±ç±»å‹</h2>
<p>react-router-dom æ”¯æŒå¤šç§è·¯ç”±ç±»å‹ï¼Œè¦†ç›–ä¸åŒä¸šåŠ¡åœºæ™¯ï¼ŒåŒ…æ‹¬æ™®é€šè·¯ç”±ã€åŠ¨æ€è·¯ç”±ã€åµŒå¥—è·¯ç”±ç­‰ï¼Œæ¯ç§è·¯ç”±éƒ½æœ‰å…¶ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯å’Œå®ç°æ–¹å¼ã€‚</p>
<h3 data-id="heading-9">2.1 æ™®é€šè·¯ç”±ï¼šåŸºç¡€è·¯å¾„åŒ¹é…</h3>
<p>æ™®é€šè·¯ç”±æ˜¯æœ€åŸºç¡€çš„è·¯ç”±ç±»å‹ï¼Œé€šè¿‡å›ºå®šçš„ URL è·¯å¾„åŒ¹é…å¯¹åº”çš„ç»„ä»¶ï¼Œé€‚ç”¨äºé¡µé¢è·¯å¾„å›ºå®šçš„åœºæ™¯ï¼Œä¾‹å¦‚é¦–é¡µã€å…³äºé¡µã€è”ç³»é¡µç­‰ã€‚å…¶æ ¸å¿ƒæ˜¯ <code>Route</code> ç»„ä»¶ï¼Œé€šè¿‡ <code>path</code> å±æ€§æŒ‡å®šè·¯ç”±è·¯å¾„ï¼Œ<code>element</code> å±æ€§æŒ‡å®šå¯¹åº”æ¸²æŸ“çš„ç»„ä»¶ã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Home'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/About'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">RouterConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt; {/* æ ¹è·¯å¾„åŒ¹é… Home ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt; {/* /about è·¯å¾„åŒ¹é… About ç»„ä»¶ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ³¨æ„ï¼š<code>Routes</code> ç»„ä»¶ç”¨äºåŒ…è£¹ä¸€ç»„ <code>Route</code> ç»„ä»¶ï¼Œç›¸å½“äºè·¯ç”±å®¹å™¨ï¼Œç¡®ä¿è·¯ç”±è§„åˆ™æœ‰åºåŒ¹é…ï¼Œæ¯æ¬¡ä»…æ¸²æŸ“åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªè·¯ç”±ç»„ä»¶ã€‚</p>
<h3 data-id="heading-10">2.2 åŠ¨æ€è·¯ç”±ï¼šè·¯å¾„å‚æ•°ä¼ é€’</h3>
<p>åœ¨å®é™…ä¸šåŠ¡ä¸­ï¼Œå¾ˆå¤šé¡µé¢è·¯å¾„å¹¶éå›ºå®šï¼Œä¾‹å¦‚å•†å“è¯¦æƒ…é¡µã€ç”¨æˆ·ä¸ªäººä¸­å¿ƒç­‰ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„ ID å±•ç¤ºä¸åŒå†…å®¹ã€‚æ­¤æ—¶å°±éœ€è¦ä½¿ç”¨åŠ¨æ€è·¯ç”±ï¼Œé€šè¿‡åœ¨è·¯å¾„ä¸­å®šä¹‰å‚æ•°å ä½ç¬¦ï¼ˆ<code>/:å‚æ•°å</code>ï¼‰ï¼Œå®ç°è·¯å¾„å‚æ•°çš„ä¼ é€’ä¸æ¥æ”¶ã€‚</p>
<p>åŠ¨æ€è·¯ç”±çš„è·¯å¾„æ ¼å¼é€šå¸¸ä¸º <code>/product/:id</code>ã€<code>/user/:userId</code>ï¼Œå…¶ä¸­ <code>:id</code>ã€<code>:userId</code> ä¸ºå‚æ•°å ä½ç¬¦ï¼Œä»£è¡¨å¯å˜çš„å‚æ•°å€¼ã€‚</p>
<h4 data-id="heading-11">2.2.1 åŠ¨æ€è·¯ç”±å®šä¹‰</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
  {/* åŠ¨æ€è·¯ç”±ï¼šåŒ¹é… /user/123ã€/user/456 ç­‰è·¯å¾„ */}
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/user/:id"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">UserProfile</span> /&gt;</span>} /&gt;
  {/* å•†å“è¯¦æƒ…åŠ¨æ€è·¯ç”±ï¼šåŒ¹é… /products/789 ç­‰è·¯å¾„ */}
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/products/:productId"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">ProductDetail</span> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">2.2.2 è·¯å¾„å‚æ•°æ¥æ”¶</h4>
<p>åœ¨ç›®æ ‡ç»„ä»¶ä¸­ï¼Œå¯é€šè¿‡ react-router-dom æä¾›çš„ <code>useParams</code> é’©å­å‡½æ•°è·å–åŠ¨æ€è·¯ç”±ä¼ é€’çš„å‚æ•°ã€‚<code>useParams</code> è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé”®ä¸ºå‚æ•°å ä½ç¬¦åç§°ï¼Œå€¼ä¸º URL ä¸­çš„å®é™…å‚æ•°å€¼ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆUserProfile ç»„ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è·å–åŠ¨æ€è·¯ç”±å‚æ•° id</span>
  <span class="hljs-keyword">const</span> { id } = <span class="hljs-title function_">useParams</span>();
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ç”¨æˆ·ä¸ªäººä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç”¨æˆ· IDï¼š{id}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç¤ºä¾‹ï¼ˆProductDetail ç»„ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ProductDetail</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è·å–å•†å“ ID å‚æ•°</span>
  <span class="hljs-keyword">const</span> { productId } = <span class="hljs-title function_">useParams</span>();
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å•†å“è¯¦æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å•†å“ IDï¼š{productId}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šåŠ¨æ€è·¯ç”±å‚æ•°ä»…èƒ½ä¼ é€’ç®€å•çš„å­—ç¬¦ä¸²ç±»å‹æ•°æ®ï¼Œè‹¥éœ€ä¼ é€’å¤æ‚æ•°æ®ï¼Œå¯ç»“åˆæŸ¥è¯¢å‚æ•°ï¼ˆQuery Stringï¼‰æˆ–çŠ¶æ€ç®¡ç†å·¥å…·ï¼ˆå¦‚ Reduxï¼‰å®ç°ã€‚</p>
<h3 data-id="heading-13">2.3 é€šé…è·¯ç”±ï¼š404 é¡µé¢åŒ¹é…</h3>
<p>é€šé…è·¯ç”±ä½¿ç”¨ <code>*</code> ä½œä¸ºè·¯å¾„åŒ¹é…è§„åˆ™ï¼Œå¯åŒ¹é…æ‰€æœ‰æœªè¢«å‰é¢è·¯ç”±è§„åˆ™åŒ¹é…åˆ°çš„è·¯å¾„ï¼Œä¸»è¦ç”¨äºå®ç° 404 é¡µé¢ï¼ˆé¡µé¢ä¸å­˜åœ¨æç¤ºï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒè§„åˆ™</strong>ï¼šé€šé…è·¯ç”±å¿…é¡»æ”¾åœ¨æ‰€æœ‰è·¯ç”±è§„åˆ™çš„æœ€åï¼Œå› ä¸ºè·¯ç”±åŒ¹é…éµå¾ªâ€œè‡ªä¸Šè€Œä¸‹â€çš„é¡ºåºï¼Œè‹¥æ”¾åœ¨å‰é¢ï¼Œä¼šä¼˜å…ˆåŒ¹é…æ‰€æœ‰è·¯å¾„ï¼Œå¯¼è‡´å…¶ä»–è·¯ç”±å¤±æ•ˆã€‚</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">NotFound</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/NotFound'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
  {/* é€šé…è·¯ç”±ï¼šåŒ¹é…æ‰€æœ‰æœªè¢«åŒ¹é…çš„è·¯å¾„ï¼Œæ¸²æŸ“ 404 ç»„ä»¶ */}
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NotFound</span> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
</code></pre>
<p>404 ç»„ä»¶å¯ç»“åˆ <code>useNavigate</code> é’©å­å®ç°è‡ªåŠ¨è·³è½¬åŠŸèƒ½ï¼Œä¾‹å¦‚ 6 ç§’åè‡ªåŠ¨è¿”å›é¦–é¡µï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useNavigate, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">NotFound</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// 6 ç§’åè‡ªåŠ¨è·³è½¬åˆ°é¦–é¡µ</span>
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/'</span>);
    }, <span class="hljs-number">6000</span>);
    <span class="hljs-comment">// æ¸…é™¤å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer);
  }, [navigate]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>404 Not Found<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é¡µé¢ä¸å­˜åœ¨ï¼Œ6 ç§’åè‡ªåŠ¨è¿”å›é¦–é¡µ...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NotFound</span>;
</code></pre>
<h3 data-id="heading-14">2.4 åµŒå¥—è·¯ç”±ï¼šé¡µé¢ç»“æ„å¤ç”¨</h3>
<p>åœ¨å¤æ‚åº”ç”¨ä¸­ï¼Œé¡µé¢é€šå¸¸å­˜åœ¨å…¬å…±ç»“æ„ï¼ˆå¦‚ä¾§è¾¹æ ã€å¯¼èˆªæ ã€é¡µè„šï¼‰ï¼ŒåµŒå¥—è·¯ç”±å¯å®ç°å…¬å…±ç»“æ„çš„å¤ç”¨ï¼ŒåŒæ—¶åœ¨å…¬å…±ç»“æ„ä¸­æ¸²æŸ“ä¸åŒçš„å­è·¯ç”±å†…å®¹ã€‚react-router-dom ä¸­ï¼ŒåµŒå¥—è·¯ç”±é€šè¿‡ <code>Outlet</code> ç»„ä»¶å®ç°å­è·¯ç”±å†…å®¹çš„æ¸²æŸ“ã€‚</p>
<h4 data-id="heading-15">2.4.1 åµŒå¥—è·¯ç”±å®šä¹‰</h4>
<p>åµŒå¥—è·¯ç”±çš„æ ¸å¿ƒæ˜¯åœ¨çˆ¶è·¯ç”±ä¸­é€šè¿‡ <code>children</code> å±æ€§å®šä¹‰å­è·¯ç”±ï¼Œçˆ¶è·¯ç”±ç»„ä»¶ä¸­é€šè¿‡ <code>Outlet</code> ç»„ä»¶æŒ‡å®šå­è·¯ç”±å†…å®¹çš„æ¸²æŸ“ä½ç½®ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆäº§å“æ¨¡å—åµŒå¥—è·¯ç”±ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Outlet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Product</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Product'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProductDetail</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Product/ProductDetail'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NewProduct</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Product/NewProduct'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">RouterConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
      {/* çˆ¶è·¯ç”±ï¼šäº§å“åˆ—è¡¨é¡µ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/products"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Product</span> /&gt;</span>}&gt;
        {/* å­è·¯ç”±ï¼šå•†å“è¯¦æƒ…é¡µï¼Œè·¯å¾„ä¸º /products/:productId */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">":productId"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">ProductDetail</span> /&gt;</span>} /&gt;
        {/* å­è·¯ç”±ï¼šæ–°å¢å•†å“é¡µï¼Œè·¯å¾„ä¸º /products/new */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"new"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NewProduct</span> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šå­è·¯ç”±çš„ <code>path</code> å±æ€§æ— éœ€æ·»åŠ å‰ç¼€ <code>/</code>ï¼Œå¦åˆ™ä¼šè¢«è§£æä¸ºç»å¯¹è·¯å¾„ï¼Œè„±ç¦»çˆ¶è·¯ç”±çš„åµŒå¥—å…³ç³»ã€‚ä¾‹å¦‚å­è·¯ç”± <code>path="new"</code> å¯¹åº”ç»å¯¹è·¯å¾„ <code>/products/new</code>ï¼Œè‹¥å†™ä¸º <code>path="/new"</code> åˆ™å¯¹åº”ç»å¯¹è·¯å¾„ <code>/new</code>ã€‚</p>
<h4 data-id="heading-16">2.4.2 Outlet ç»„ä»¶ä½¿ç”¨</h4>
<p><code>Outlet</code> æ˜¯ react-router-dom æä¾›çš„å†…ç½®ç»„ä»¶ï¼Œç”¨äºåœ¨çˆ¶è·¯ç”±ç»„ä»¶ä¸­é¢„ç•™å­è·¯ç”±å†…å®¹çš„æ¸²æŸ“ä½ç½®ã€‚å½“ç”¨æˆ·è®¿é—®å­è·¯ç”±è·¯å¾„æ—¶ï¼Œå¯¹åº”çš„å­è·¯ç”±ç»„ä»¶ä¼šè‡ªåŠ¨æ¸²æŸ“åˆ° <code>Outlet</code> æ‰€åœ¨ä½ç½®ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆProduct çˆ¶ç»„ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Outlet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Product</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>äº§å“åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"product-container"</span>&gt;</span>
        {/* ä¾§è¾¹æ ï¼šå…¬å…±ç»“æ„ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">aside</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å•†å“åˆ†ç±» 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å•†å“åˆ†ç±» 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
        {/* å­è·¯ç”±å†…å®¹æ¸²æŸ“ä½ç½® */}
        <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>å½“ç”¨æˆ·è®¿é—® <code>/products/123</code> æ—¶ï¼Œ<code>Product</code> ç»„ä»¶çš„ä¾§è¾¹æ ä¼šä¿æŒä¸å˜ï¼Œ<code>main</code> åŒºåŸŸä¼šæ¸²æŸ“ <code>ProductDetail</code> ç»„ä»¶ï¼›è®¿é—® <code>/products/new</code> æ—¶ï¼Œ<code>main</code> åŒºåŸŸä¼šæ¸²æŸ“ <code>NewProduct</code> ç»„ä»¶ï¼Œå®ç°å…¬å…±ç»“æ„å¤ç”¨ä¸å­å†…å®¹åŠ¨æ€åˆ‡æ¢ã€‚</p>
<h3 data-id="heading-17">2.5 é‰´æƒè·¯ç”±ï¼šè·¯ç”±å®ˆå«å®ç°</h3>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéƒ¨åˆ†é¡µé¢éœ€è¦ç”¨æˆ·ç™»å½•åæ‰èƒ½è®¿é—®ï¼ˆå¦‚ä¸ªäººä¸­å¿ƒã€æ”¯ä»˜é¡µé¢ï¼‰ï¼Œé‰´æƒè·¯ç”±ï¼ˆä¹Ÿç§°è·¯ç”±å®ˆå«ï¼‰ç”¨äºæ§åˆ¶è·¯ç”±çš„è®¿é—®æƒé™ï¼Œæœªç™»å½•ç”¨æˆ·è®¿é—®æ—¶ä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µã€‚react-router-dom ä¸­å¯é€šè¿‡è‡ªå®šä¹‰ <code>ProtectRoute</code> ç»„ä»¶å®ç°é‰´æƒé€»è¾‘ã€‚</p>
<h4 data-id="heading-18">2.5.1 é‰´æƒç»„ä»¶å®ç°</h4>
<p>è‡ªå®šä¹‰ <code>ProtectRoute</code> ç»„ä»¶ï¼Œé€šè¿‡ <code>children</code> å±æ€§æ¥æ”¶éœ€è¦é‰´æƒçš„ç»„ä»¶ï¼Œåˆ¤æ–­ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼ˆå¯é€šè¿‡ <code>localStorage</code>ã€<code>sessionStorage</code> æˆ–çŠ¶æ€ç®¡ç†å·¥å…·å­˜å‚¨ç™»å½•çŠ¶æ€ï¼‰ï¼Œæœªç™»å½•åˆ™é€šè¿‡ <code>Navigate</code> ç»„ä»¶è·³è½¬åˆ°ç™»å½•é¡µï¼Œå·²ç™»å½•åˆ™æ¸²æŸ“ç›®æ ‡ç»„ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Navigate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-comment">// é‰´æƒè·¯ç”±ç»„ä»¶</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ProtectRoute</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-comment">// ä» localStorage è·å–ç™»å½•çŠ¶æ€ï¼ˆç™»å½•æˆåŠŸæ—¶è®¾ç½® localStorage.setItem('isLogin', 'true')ï¼‰</span>
  <span class="hljs-keyword">const</span> isLoggedIn = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'isLogin'</span>) === <span class="hljs-string">'true'</span>;
  <span class="hljs-comment">// æœªç™»å½•ï¼šè·³è½¬åˆ°ç™»å½•é¡µ</span>
  <span class="hljs-keyword">if</span> (!isLoggedIn) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> /&gt;</span></span>;
  }
  <span class="hljs-comment">// å·²ç™»å½•ï¼šæ¸²æŸ“ç›®æ ‡ç»„ä»¶</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h4 data-id="heading-19">2.5.2 é‰´æƒè·¯ç”±ä½¿ç”¨</h4>
<p>åœ¨è·¯ç”±é…ç½®ä¸­ï¼Œå°†éœ€è¦é‰´æƒçš„è·¯ç”±ç»„ä»¶ç”¨ <code>ProtectRoute</code> åŒ…è£¹ï¼Œå³å¯å®ç°æƒé™æ§åˆ¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ProtectRoute</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/ProtectRoute'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Pay</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Pay'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Login'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Login</span> /&gt;</span>} /&gt;
  {/* æ”¯ä»˜é¡µé¢éœ€è¦é‰´æƒ */}
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/pay"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>
    &lt;<span class="hljs-attr">ProtectRoute</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Pay</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ProtectRoute</span>&gt;</span>
  } /&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
</code></pre>
<p><strong>æ‰©å±•</strong>ï¼šé‰´æƒé€»è¾‘å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚å‡çº§ï¼Œä¾‹å¦‚åŒºåˆ†æ™®é€šç”¨æˆ·ä¸ç®¡ç†å‘˜æƒé™ï¼Œä¸åŒè§’è‰²å±•ç¤ºä¸åŒè·¯ç”±ï¼›æˆ–ç»“åˆæ¥å£è¯·æ±‚éªŒè¯ Token æœ‰æ•ˆæ€§ï¼Œå®ç°æ›´ä¸¥è°¨çš„æƒé™æ§åˆ¶ã€‚</p>
<h3 data-id="heading-20">2.6 é‡å®šå‘è·¯ç”±ï¼šè·¯å¾„è·³è½¬</h3>
<p>é‡å®šå‘è·¯ç”±ç”¨äºå°†ä¸€ä¸ªè·¯å¾„è‡ªåŠ¨è·³è½¬åˆ°å¦ä¸€ä¸ªè·¯å¾„ï¼Œä¾‹å¦‚æ—§è·¯å¾„åºŸå¼ƒåï¼Œå°†ç”¨æˆ·è®¿é—®æ—§è·¯å¾„æ—¶é‡å®šå‘åˆ°æ–°è·¯å¾„ã€‚react-router-dom v6 ä¸­ï¼Œ<code>Redirect</code> ç»„ä»¶å·²è¢« <code>Navigate</code> ç»„ä»¶æ›¿ä»£ï¼Œ<code>Navigate</code> ç»„ä»¶é€šè¿‡ <code>to</code> å±æ€§æŒ‡å®šç›®æ ‡è·¯å¾„ï¼Œ<code>replace</code> å±æ€§æ§åˆ¶è·³è½¬æ–¹å¼ã€‚</p>
<h4 data-id="heading-21">2.6.1 åŸºç¡€é‡å®šå‘</h4>
<p>ç¤ºä¾‹ï¼šå°† <code>/old-path</code> é‡å®šå‘åˆ° <code>/new-path</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Navigate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
  {/* é‡å®šå‘ï¼šè®¿é—® /old-path è‡ªåŠ¨è·³è½¬åˆ° /new-path */}
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/old-path"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/new-path"</span> /&gt;</span>} /&gt;
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/new-path"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NewPath</span> /&gt;</span>} /&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-22">2.6.2 replace è·³è½¬æ¨¡å¼</h4>
<p><code>Navigate</code> ç»„ä»¶é»˜è®¤ä½¿ç”¨ <code>push</code> æ¨¡å¼è·³è½¬ï¼Œä¼šåœ¨æµè§ˆå™¨å†å²è®°å½•æ ˆä¸­æ·»åŠ æ–°è®°å½•ï¼Œç”¨æˆ·ç‚¹å‡»åé€€æŒ‰é’®å¯è¿”å›ä¸Šä¸€é¡µï¼›è‹¥æ·»åŠ  <code>replace</code> å±æ€§ï¼Œåˆ™ä½¿ç”¨ <code>replace</code> æ¨¡å¼è·³è½¬ï¼Œä¼šæ›¿æ¢å½“å‰å†å²è®°å½•æ ˆä¸­çš„å†…å®¹ï¼Œä¸ä¼šç•™ä¸‹è·³è½¬ç—•è¿¹ï¼Œç”¨æˆ·ç‚¹å‡»åé€€æŒ‰é’®æ— æ³•è¿”å›ä¸Šä¸€é¡µã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// replace æ¨¡å¼é‡å®šå‘ï¼Œæ›¿æ¢å½“å‰å†å²è®°å½•
&lt;Route <span class="hljs-attr">path</span>=<span class="hljs-string">"/old-path"</span> element={&lt;Navigate replace to=<span class="hljs-string">"/new-path"</span> /&gt;} /&gt;
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šç™»å½•é¡µè·³è½¬è‡³é¦–é¡µæ—¶ï¼Œé€šå¸¸ä½¿ç”¨ <code>replace</code> æ¨¡å¼ï¼Œé¿å…ç”¨æˆ·ç‚¹å‡»åé€€æŒ‰é’®é‡æ–°å›åˆ°ç™»å½•é¡µï¼›æ™®é€šé¡µé¢è·³è½¬åˆ™ä½¿ç”¨é»˜è®¤çš„ <code>push</code> æ¨¡å¼ã€‚</p>
<h2 data-id="heading-23">ä¸‰ã€è·¯ç”±å†å²è®°å½•ä¸è·³è½¬æ§åˆ¶</h2>
<h3 data-id="heading-24">3.1 å†å²è®°å½•æ ˆç»“æ„</h3>
<p>æµè§ˆå™¨çš„å†å²è®°å½•é‡‡ç”¨ <strong>æ ˆç»“æ„</strong> å­˜å‚¨ï¼Œéµå¾ªâ€œå…ˆè¿›åå‡ºâ€çš„åŸåˆ™ã€‚å½“ç”¨æˆ·é€šè¿‡è·¯ç”±è·³è½¬æ—¶ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹å†å²è®°å½•æ ˆè¿›è¡Œæ“ä½œï¼š</p>
<ul>
<li><code>push</code> è·³è½¬ï¼šå‘æ ˆä¸­æ·»åŠ ä¸€æ¡æ–°çš„å†å²è®°å½•ï¼Œæ ˆé•¿åº¦åŠ  1ï¼›</li>
<li><code>replace</code> è·³è½¬ï¼šæ›¿æ¢æ ˆé¡¶çš„å†å²è®°å½•ï¼Œæ ˆé•¿åº¦ä¸å˜ï¼›</li>
<li>åé€€æ“ä½œï¼šå¼¹å‡ºæ ˆé¡¶çš„å†å²è®°å½•ï¼Œæ ˆé•¿åº¦å‡ 1ï¼Œé¡µé¢å›åˆ°ä¸Šä¸€ä¸ªè·¯å¾„ã€‚</li>
</ul>
<p>react-router-dom ä¸­çš„ <code>Navigate</code> ç»„ä»¶ã€<code>useNavigate</code> é’©å­å‡åŸºäºæ­¤æ ˆç»“æ„å®ç°è·³è½¬æ§åˆ¶ã€‚</p>
<h3 data-id="heading-25">3.2 useNavigate é’©å­ï¼šç¼–ç¨‹å¼è·³è½¬</h3>
<p>é™¤äº†é€šè¿‡ <code>Link</code> ç»„ä»¶å®ç°å£°æ˜å¼è·³è½¬ï¼Œreact-router-dom è¿˜æä¾› <code>useNavigate</code> é’©å­ï¼Œç”¨äºåœ¨ç»„ä»¶é€»è¾‘ä¸­å®ç°ç¼–ç¨‹å¼è·³è½¬ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»åè·³è½¬ã€æ¥å£è¯·æ±‚æˆåŠŸåè·³è½¬ç­‰ï¼‰ã€‚</p>
<h4 data-id="heading-26">3.2.1 åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Login</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleLogin</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// æ¨¡æ‹Ÿç™»å½•æ¥å£è¯·æ±‚æˆåŠŸ</span>
    <span class="hljs-keyword">const</span> loginSuccess = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (loginSuccess) {
      <span class="hljs-comment">// å­˜å‚¨ç™»å½•çŠ¶æ€</span>
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'isLogin'</span>, <span class="hljs-string">'true'</span>);
      <span class="hljs-comment">// è·³è½¬åˆ°é¦–é¡µï¼ˆpush æ¨¡å¼ï¼‰</span>
      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/'</span>);
      <span class="hljs-comment">// è‹¥ä½¿ç”¨ replace æ¨¡å¼è·³è½¬ï¼šnavigate('/', { replace: true });</span>
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ç™»å½•é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleLogin}</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-27">3.2.2 åé€€ä¸å‰è¿›æ“ä½œ</h4>
<p><code>useNavigate</code> è¿˜æ”¯æŒé€šè¿‡ä¼ é€’æ•°å­—å‚æ•°å®ç°åé€€ã€å‰è¿›æ“ä½œï¼Œæ­£æ•°è¡¨ç¤ºå‰è¿›ï¼Œè´Ÿæ•°è¡¨ç¤ºåé€€ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åé€€ä¸€é¡µï¼ˆç›¸å½“äºæµè§ˆå™¨çš„åé€€æŒ‰é’®ï¼‰</span>
<span class="hljs-built_in">navigate</span>(-<span class="hljs-number">1</span>);
<span class="hljs-comment">// å‰è¿›ä¸€é¡µï¼ˆç›¸å½“äºæµè§ˆå™¨çš„å‰è¿›æŒ‰é’®ï¼‰</span>
<span class="hljs-built_in">navigate</span>(<span class="hljs-number">1</span>);
<span class="hljs-comment">// åé€€ä¸¤é¡µ</span>
<span class="hljs-built_in">navigate</span>(-<span class="hljs-number">2</span>);
</code></pre>
<h2 data-id="heading-28">å››ã€å•é¡µåº”ç”¨ä¸è·¯ç”±é›†æˆå®æˆ˜</h2>
<h3 data-id="heading-29">4.1 å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„æ ¸å¿ƒä¼˜åŠ¿</h3>
<p>å•é¡µåº”ç”¨ï¼ˆSingle Page Applicationï¼ŒSPAï¼‰æ˜¯åŸºäºå‰ç«¯è·¯ç”±å®ç°çš„ä¸€ç§åº”ç”¨æ¶æ„ï¼Œå…¶æ ¸å¿ƒç‰¹ç‚¹æ˜¯æ•´ä¸ªåº”ç”¨ä»…åŠ è½½ä¸€ä¸ª HTML é¡µé¢ï¼Œåç»­é¡µé¢åˆ‡æ¢å‡é€šè¿‡å‰ç«¯è·¯ç”±æ§åˆ¶ï¼Œæ— éœ€é‡æ–°è¯·æ±‚æœåŠ¡å™¨ã€‚</p>
<p><strong>ä¸ä¼ ç»Ÿå¤šé¡µåº”ç”¨çš„å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li>ä¼ ç»Ÿå¤šé¡µåº”ç”¨ï¼šæ¯æ¬¡ URL å˜åŒ–éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼ŒåŠ è½½å®Œæ•´ HTML é¡µé¢ï¼Œé¡µé¢ä¼šå‡ºç°ç™½å±ã€åŠ è½½åŠ¨ç”»ï¼Œç”¨æˆ·ä½“éªŒè¾ƒå·®ï¼›</li>
<li>å•é¡µåº”ç”¨ï¼šä»…åˆå§‹åŠ è½½ä¸€æ¬¡ HTMLã€CSSã€JS èµ„æºï¼Œåç»­è·¯ç”±å˜åŒ–æ—¶ï¼Œå‰ç«¯é€šè¿‡æ•è· URL å˜åŒ–äº‹ä»¶ï¼ŒåŒ¹é…å¯¹åº”çš„ç»„ä»¶å¹¶æ¸²æŸ“ï¼Œæ— é¡µé¢åˆ·æ–°ï¼ŒåŠ è½½é€Ÿåº¦å¿«ï¼Œç”¨æˆ·ä½“éªŒæµç•…ã€‚</li>
</ul>
<p>react-router-dom æ˜¯æ„å»º React å•é¡µåº”ç”¨çš„æ ¸å¿ƒå·¥å…·ï¼Œç»“åˆ HTML5 History API å®ç°å‰ç«¯è·¯ç”±æ§åˆ¶ï¼Œå®Œç¾æ”¯æ’‘å•é¡µåº”ç”¨çš„é¡µé¢åˆ‡æ¢éœ€æ±‚ã€‚</p>
<h3 data-id="heading-30">4.2 å®Œæ•´è·¯ç”±é›†æˆæ¡ˆä¾‹</h3>
<p>ä»¥ä¸‹ç»“åˆå‰æ–‡çŸ¥è¯†ç‚¹ï¼Œå®ç°ä¸€ä¸ªå®Œæ•´çš„ React å•é¡µåº”ç”¨è·¯ç”±é›†æˆæ¡ˆä¾‹ï¼ŒåŒ…å«è·¯ç”±é…ç½®ã€ç»„ä»¶æ‡’åŠ è½½ã€å¯¼èˆªæ ã€é‰´æƒæ§åˆ¶ã€åŠ è½½åŠ¨ç”»ç­‰åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-31">4.2.1 é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-attribute">src</span>/
â”œâ”€â”€ components/       <span class="hljs-comment">// å…¬å…±ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Navigation<span class="hljs-selector-class">.js</span> <span class="hljs-comment">// å¯¼èˆªæ ç»„ä»¶</span>
â”‚   â”œâ”€â”€ ProtectRoute<span class="hljs-selector-class">.js</span> <span class="hljs-comment">// é‰´æƒè·¯ç”±ç»„ä»¶</span>
â”‚   â””â”€â”€ LoadingFallback<span class="hljs-selector-class">.js</span> <span class="hljs-comment">// åŠ è½½åŠ¨ç”»ç»„ä»¶</span>
â”œâ”€â”€ pages/            <span class="hljs-comment">// é¡µé¢ç»„ä»¶</span>
â”‚   â”œâ”€â”€ Home<span class="hljs-selector-class">.js</span>       <span class="hljs-comment">// é¦–é¡µ</span>
â”‚   â”œâ”€â”€ About<span class="hljs-selector-class">.js</span>      <span class="hljs-comment">// å…³äºé¡µ</span>
â”‚   â”œâ”€â”€ Login<span class="hljs-selector-class">.js</span>      <span class="hljs-comment">// ç™»å½•é¡µ</span>
â”‚   â”œâ”€â”€ Pay<span class="hljs-selector-class">.js</span>        <span class="hljs-comment">// æ”¯ä»˜é¡µï¼ˆéœ€é‰´æƒï¼‰</span>
â”‚   â”œâ”€â”€ NotFound<span class="hljs-selector-class">.js</span>   <span class="hljs-comment">// 404 é¡µé¢</span>
â”‚   â””â”€â”€ Product/      <span class="hljs-comment">// äº§å“æ¨¡å—</span>
â”‚       â”œâ”€â”€ Product<span class="hljs-selector-class">.js</span> <span class="hljs-comment">// äº§å“åˆ—è¡¨é¡µï¼ˆçˆ¶è·¯ç”±ï¼‰</span>
â”‚       â”œâ”€â”€ ProductDetail<span class="hljs-selector-class">.js</span> <span class="hljs-comment">// å•†å“è¯¦æƒ…é¡µï¼ˆå­è·¯ç”±ï¼‰</span>
â”‚       â””â”€â”€ NewProduct<span class="hljs-selector-class">.js</span> <span class="hljs-comment">// æ–°å¢å•†å“é¡µï¼ˆå­è·¯ç”±ï¼‰</span>
â”œâ”€â”€ router/           <span class="hljs-comment">// è·¯ç”±é…ç½®</span>
â”‚   â””â”€â”€ index<span class="hljs-selector-class">.js</span>      <span class="hljs-comment">// è·¯ç”±é…ç½®æ–‡ä»¶</span>
â”œâ”€â”€ App<span class="hljs-selector-class">.js</span>            <span class="hljs-comment">// æ ¹ç»„ä»¶</span>
â””â”€â”€ index<span class="hljs-selector-class">.js</span>          <span class="hljs-comment">// å…¥å£æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-32">4.2.2 åŠ è½½åŠ¨ç”»ç»„ä»¶ï¼ˆLoadingFallback.jsï¼‰</h4>
<p>ç”¨äºæ‡’åŠ è½½ç»„ä»¶åŠ è½½è¿‡ç¨‹ä¸­çš„å ä½å±•ç¤ºï¼Œç»“åˆ CSS åŠ¨ç”»å®ç°æ—‹è½¬åŠ è½½æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./index.module.css'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">LoadingFallback</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.spinner}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.circle}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">styles.circle</span>} ${<span class="hljs-attr">styles.inner</span>}`}&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.text}</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>å¯¹åº”çš„ CSS æ ·å¼ï¼ˆindex.module.cssï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.9</span>);
}

<span class="hljs-selector-class">.spinner</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">60px</span>;
}

<span class="hljs-selector-class">.circle</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> solid transparent;
  <span class="hljs-attribute">border-top-color</span>: <span class="hljs-number">#3498db</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">animation</span>: spin <span class="hljs-number">1s</span> linear infinite;
}

<span class="hljs-selector-class">.circle</span><span class="hljs-selector-class">.inner</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">70%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">70%</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">15%</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">15%</span>;
  <span class="hljs-attribute">border-top-color</span>: <span class="hljs-number">#e74c3c</span>;
  <span class="hljs-attribute">animation</span>: spin <span class="hljs-number">0.8s</span> linear infinite reverse;
}

<span class="hljs-keyword">@keyframes</span> spin {
  <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>); }
  <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); }
}

<span class="hljs-selector-class">.text</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
  <span class="hljs-attribute">animation</span>: pulse <span class="hljs-number">1s</span> ease-in-out infinite;
}

<span class="hljs-keyword">@keyframes</span> pulse {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>; }
  <span class="hljs-number">50%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>; }
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>; }
}
</code></pre>
<h4 data-id="heading-33">4.2.3 å¯¼èˆªæ ç»„ä»¶ï¼ˆNavigation.jsï¼‰</h4>
<p>å®ç°é¡µé¢å¯¼èˆªåŠŸèƒ½ï¼Œé€šè¿‡ <code>Link</code> ç»„ä»¶å®ç°å£°æ˜å¼è·³è½¬ï¼Œå¹¶é€šè¿‡ <code>useResolvedPath</code>ã€<code>useMatch</code> é’©å­å®ç°å¯¼èˆªé«˜äº®æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Link</span>, useResolvedPath, useMatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Navigation</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¯¼èˆªé«˜äº®é€»è¾‘</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">isActive</span> = (<span class="hljs-params">to</span>) =&gt; {
    <span class="hljs-keyword">const</span> resolvedPath = <span class="hljs-title function_">useResolvedPath</span>(to);
    <span class="hljs-keyword">const</span> match = <span class="hljs-title function_">useMatch</span>({
      <span class="hljs-attr">path</span>: resolvedPath.<span class="hljs-property">pathname</span>,
      <span class="hljs-attr">end</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å®Œå…¨åŒ¹é…è·¯å¾„</span>
    });
    <span class="hljs-keyword">return</span> match ? <span class="hljs-string">'active'</span> : <span class="hljs-string">''</span>;
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">background:</span> '#<span class="hljs-attr">f5f5f5</span>', <span class="hljs-attr">padding:</span> '<span class="hljs-attr">10px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">listStyle:</span> '<span class="hljs-attr">none</span>', <span class="hljs-attr">display:</span> '<span class="hljs-attr">flex</span>', <span class="hljs-attr">gap:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">margin:</span> <span class="hljs-attr">0</span>, <span class="hljs-attr">padding:</span> <span class="hljs-attr">0</span> }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isActive(</span>'/')} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
            é¦–é¡µ
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isActive(</span>'/<span class="hljs-attr">about</span>')} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
            å…³äºæˆ‘ä»¬
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/products"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isActive(</span>'/<span class="hljs-attr">products</span>')} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
            äº§å“åˆ—è¡¨
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/products/new"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isActive(</span>'/<span class="hljs-attr">products</span>/<span class="hljs-attr">new</span>')} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
            æ–°å¢å•†å“
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/pay"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isActive(</span>'/<span class="hljs-attr">pay</span>')} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
            æ”¯ä»˜ä¸­å¿ƒ
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/old-path"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isActive(</span>'/<span class="hljs-attr">old-path</span>')} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
            æ—§è·¯å¾„ï¼ˆæµ‹è¯•é‡å®šå‘ï¼‰
          <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š<code>end: true</code> è¡¨ç¤ºå®Œå…¨åŒ¹é…è·¯å¾„ï¼Œä¾‹å¦‚ <code>/products</code> ä¸ä¼šåŒ¹é… <code>/products/123</code>ï¼Œç¡®ä¿å¯¼èˆªé«˜äº®çš„å‡†ç¡®æ€§ï¼›<code>active</code> ç±»åå¯ç»“åˆ CSS æ ·å¼å®ç°é«˜äº®æ•ˆæœï¼ˆå¦‚æ”¹å˜æ–‡å­—é¢œè‰²ã€æ·»åŠ ä¸‹åˆ’çº¿ï¼‰ã€‚</p>
<h4 data-id="heading-34">4.2.4 è·¯ç”±é…ç½®æ–‡ä»¶ï¼ˆrouter/index.jsï¼‰</h4>
<p>ç»“åˆç»„ä»¶æ‡’åŠ è½½ã€åµŒå¥—è·¯ç”±ã€é‰´æƒè·¯ç”±ã€é‡å®šå‘ç­‰åŠŸèƒ½ï¼Œç»Ÿä¸€é…ç½®æ‰€æœ‰è·¯ç”±è§„åˆ™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { lazy, <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Navigate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">LoadingFallback</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/LoadingFallback'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ProtectRoute</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/ProtectRoute'</span>;

<span class="hljs-comment">// æ‡’åŠ è½½é¡µé¢ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Home</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Home'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">About</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/About'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Login</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Login'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Pay</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Pay'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">NotFound</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/NotFound'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Product</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Product/Product'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ProductDetail</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Product/ProductDetail'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">NewProduct</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Product/NewProduct'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">NewPath</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/NewPath'</span>));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">RouterConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">LoadingFallback</span> /&gt;</span>}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        {/* æ™®é€šè·¯ç”± */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Login</span> /&gt;</span>} /&gt;

        {/* åŠ¨æ€è·¯ç”± + åµŒå¥—è·¯ç”± */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/products"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Product</span> /&gt;</span>}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">":productId"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">ProductDetail</span> /&gt;</span>} /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"new"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NewProduct</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>

        {/* é‰´æƒè·¯ç”± */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/pay"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>
          &lt;<span class="hljs-attr">ProtectRoute</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Pay</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ProtectRoute</span>&gt;</span>
        } /&gt;

        {/* é‡å®šå‘è·¯ç”± */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/old-path"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">replace</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/new-path"</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/new-path"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NewPath</span> /&gt;</span>} /&gt;

        {/* é€šé…è·¯ç”±ï¼ˆ404ï¼‰ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NotFound</span> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼š<code>Suspense</code> ç»„ä»¶åŒ…è£¹æ‰€æœ‰è·¯ç”±ï¼Œ<code>fallback</code> å±æ€§æŒ‡å®šæ‡’åŠ è½½ç»„ä»¶åŠ è½½æ—¶çš„å ä½å†…å®¹ï¼ˆåŠ è½½åŠ¨ç”»ï¼‰ï¼›è·¯ç”±è§„åˆ™æŒ‰â€œæ™®é€šè·¯ç”± â†’ åµŒå¥—è·¯ç”± â†’ é‰´æƒè·¯ç”± â†’ é‡å®šå‘è·¯ç”± â†’ é€šé…è·¯ç”±â€çš„é¡ºåºæ’åˆ—ï¼Œç¡®ä¿åŒ¹é…é€»è¾‘æ­£ç¡®ã€‚</p>
<h4 data-id="heading-35">4.2.5 æ ¹ç»„ä»¶ï¼ˆApp.jsï¼‰</h4>
<p>é›†æˆè·¯ç”±å®¹å™¨ä¸å¯¼èˆªæ ï¼Œä½œä¸ºåº”ç”¨çš„å…¥å£ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Navigation</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Navigation'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">RouterConfig</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
      {/* å¯¼èˆªæ ï¼šå…¨å±€å…¬å…±ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Navigation</span> /&gt;</span>
      {/* è·¯ç”±é…ç½® */}
      <span class="hljs-tag">&lt;<span class="hljs-name">RouterConfig</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-36">4.2.6 é¡µé¢ç»„ä»¶ç¤ºä¾‹ï¼ˆHome.jsã€About.jsï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Home.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¦–é¡µç»„ä»¶åŠ è½½'</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ¬¢è¿è®¿é—® React è·¯ç”±å®æˆ˜åº”ç”¨ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// About.js</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'About ç»„ä»¶åŠ è½½æ—¥å¿—'</span>);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">About</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'About ç»„ä»¶æ¸²æŸ“'</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å…³äºæˆ‘ä»¬<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªåŸºäº react-router-dom æ„å»ºçš„å•é¡µåº”ç”¨ç¤ºä¾‹ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-37">4.3 å®æˆ˜æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>è·¯ç”±åŒ¹é…é¡ºåºï¼š<code>Routes</code> ç»„ä»¶ä¼šè‡ªä¸Šè€Œä¸‹åŒ¹é…è·¯ç”±ï¼Œé€šé…è·¯ç”±å¿…é¡»æ”¾åœ¨æœ€åï¼Œå¦åˆ™ä¼šè¦†ç›–å…¶ä»–è·¯ç”±ï¼›</li>
<li>æ‡’åŠ è½½ä¼˜åŒ–ï¼šä»…å¯¹éé¦–å±ç»„ä»¶ä½¿ç”¨æ‡’åŠ è½½ï¼Œé¦–å±ç»„ä»¶ï¼ˆå¦‚ Homeï¼‰å»ºè®®ç›´æ¥åŠ è½½ï¼Œé¿å…é¦–å±åŠ è½½è¿‡æ…¢ï¼›</li>
<li>åç«¯é…ç½®ï¼šä½¿ç”¨ BrowserRouter æ—¶ï¼Œåç«¯éœ€é…ç½®è·¯ç”±è½¬å‘ï¼Œç¡®ä¿æ‰€æœ‰è·¯å¾„éƒ½æŒ‡å‘ index.htmlï¼Œé¿å… 404 é”™è¯¯ï¼›</li>
<li>å†…å­˜æ³„æ¼é˜²èŒƒï¼šä½¿ç”¨ <code>useEffect</code> å®ç°è‡ªåŠ¨è·³è½¬ã€å®šæ—¶å™¨ç­‰åŠŸèƒ½æ—¶ï¼Œéœ€æ¸…é™¤å‰¯ä½œç”¨ï¼ˆå¦‚å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ï¼‰ï¼›</li>
<li>å¯¼èˆªé«˜äº®ï¼š<code>useMatch</code> é’©å­çš„ <code>end</code> å±æ€§éœ€æ ¹æ®éœ€æ±‚åˆç†è®¾ç½®ï¼Œé¿å…é«˜äº®é”™è¯¯ã€‚</li>
</ul>
<h2 data-id="heading-38">äº”ã€react-router-dom æ ¸å¿ƒåŸç†å‰–æ</h2>
<h3 data-id="heading-39">5.1 è·¯ç”±åŒ¹é…åŸç†</h3>
<p>react-router-dom çš„è·¯ç”±åŒ¹é…æ ¸å¿ƒæ˜¯â€œè·¯å¾„ä¸ç»„ä»¶çš„æ˜ å°„å…³ç³»â€ï¼Œå…¶æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>ç”¨æˆ·æ”¹å˜ URLï¼ˆé€šè¿‡ç‚¹å‡» Link ç»„ä»¶ã€ç¼–ç¨‹å¼è·³è½¬æˆ–æ‰‹åŠ¨è¾“å…¥ URLï¼‰ï¼›</li>
<li>è·¯ç”±å®¹å™¨ï¼ˆRouterï¼‰æ•è· URL å˜åŒ–äº‹ä»¶ï¼ˆHashRouter ç›‘å¬ <code>hashchange</code> äº‹ä»¶ï¼ŒBrowserRouter ç›‘å¬ <code>popstate</code> äº‹ä»¶ï¼‰ï¼›</li>
<li><code>Routes</code> ç»„ä»¶éå†æ‰€æœ‰ <code>Route</code> å­ç»„ä»¶ï¼Œæ ¹æ® <code>path</code> å±æ€§åŒ¹é…å½“å‰ URL è·¯å¾„ï¼›</li>
<li>åŒ¹é…æˆåŠŸåï¼Œæ¸²æŸ“å¯¹åº” <code>Route</code> ç»„ä»¶çš„ <code>element</code> å±æ€§å†…å®¹ï¼›è‹¥æœªåŒ¹é…åˆ°ä»»ä½•è·¯ç”±ï¼Œåˆ™æ¸²æŸ“é€šé…è·¯ç”±ï¼ˆè‹¥å­˜åœ¨ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-40">5.2 å†å²è®°å½•ç®¡ç†åŸç†</h3>
<p>BrowserRouter åŸºäº HTML5 History API å®ç°å†å²è®°å½•ç®¡ç†ï¼Œæ ¸å¿ƒ API åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>history.pushState(state, title, url)</code>ï¼šå‘å†å²è®°å½•æ ˆæ·»åŠ ä¸€æ¡æ–°è®°å½•ï¼Œæ”¹å˜ URL ä½†ä¸åˆ·æ–°é¡µé¢ï¼›</li>
<li><code>history.replaceState(state, title, url)</code>ï¼šæ›¿æ¢å½“å‰å†å²è®°å½•æ ˆé¡¶å†…å®¹ï¼Œæ”¹å˜ URL ä½†ä¸åˆ·æ–°é¡µé¢ï¼›</li>
<li><code>popstate</code> äº‹ä»¶ï¼šå½“ç”¨æˆ·ç‚¹å‡»åé€€ã€å‰è¿›æŒ‰é’®æˆ–è°ƒç”¨ <code>history.back()</code>ã€<code>history.forward()</code> æ—¶è§¦å‘ï¼Œè·¯ç”±å®¹å™¨é€šè¿‡ç›‘å¬è¯¥äº‹ä»¶æ›´æ–°ç»„ä»¶æ¸²æŸ“ã€‚</li>
</ul>
<p>HashRouter åˆ™é€šè¿‡ç›‘å¬ <code>hashchange</code> äº‹ä»¶æ•è·é”šç‚¹å˜åŒ–ï¼Œæ— éœ€ä¾èµ– History APIï¼Œå…¼å®¹æ€§æ›´å¼ºï¼Œä½† URL æ ¼å¼ä¸å¤Ÿç¾è§‚ã€‚</p>
<h3 data-id="heading-41">5.3 åµŒå¥—è·¯ç”±å®ç°åŸç†</h3>
<p>åµŒå¥—è·¯ç”±çš„æ ¸å¿ƒæ˜¯ <code>Outlet</code> ç»„ä»¶ï¼Œå…¶åŸç†çš„æœ¬è´¨æ˜¯â€œçˆ¶å­è·¯ç”±çš„è·¯å¾„æ‹¼æ¥ä¸å†…å®¹åˆ†å‘â€ï¼š</p>
<ol>
<li>çˆ¶è·¯ç”±çš„ <code>path</code> ä¸å­è·¯ç”±çš„ <code>path</code> è‡ªåŠ¨æ‹¼æ¥ï¼Œå½¢æˆå®Œæ•´çš„ URL è·¯å¾„ï¼ˆå¦‚çˆ¶è·¯ç”± <code>/products</code> + å­è·¯ç”± <code>:productId</code> â†’ <code>/products/:productId</code>ï¼‰ï¼›</li>
<li>å½“ç”¨æˆ·è®¿é—®å­è·¯ç”±è·¯å¾„æ—¶ï¼Œè·¯ç”±ç³»ç»ŸåŒæ—¶åŒ¹é…çˆ¶è·¯ç”±ä¸å­è·¯ç”±ï¼›</li>
<li>çˆ¶è·¯ç”±ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œ<code>Outlet</code> ç»„ä»¶ä¼šæ¥æ”¶è·¯ç”±ç³»ç»Ÿä¼ é€’çš„å­è·¯ç”±ç»„ä»¶ï¼Œå°†å…¶æ¸²æŸ“åˆ°æŒ‡å®šä½ç½®ï¼Œå®ç°çˆ¶å­è·¯ç”±å†…å®¹çš„è”åŠ¨å±•ç¤ºã€‚</li>
</ol>
<h2 data-id="heading-42">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-43">6.1 è·¯ç”±è·³è½¬åé¡µé¢ä¸åˆ·æ–°</h3>
<p><strong>é—®é¢˜åŸå› </strong>ï¼šå•é¡µåº”ç”¨è·¯ç”±è·³è½¬æœ¬è´¨æ˜¯ç»„ä»¶åˆ‡æ¢ï¼Œè€Œéé¡µé¢åˆ·æ–°ï¼Œè‹¥ç»„ä»¶ä¾èµ– URL å‚æ•°æˆ–çŠ¶æ€æ›´æ–°ï¼Œå¯èƒ½å› æœªé‡æ–°è·å–æ•°æ®å¯¼è‡´é¡µé¢å†…å®¹æœªæ›´æ–°ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>useEffect</code> ç›‘å¬ URL å‚æ•°å˜åŒ–ï¼Œå‚æ•°å˜åŒ–æ—¶é‡æ–°è¯·æ±‚æ•°æ®ï¼š</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">import { useParams, useEffect } from 'react-router-dom';

function <span class="hljs-built_in">ProductDetail</span>() {
  const { productId } = <span class="hljs-built_in">useParams</span>();
  <span class="hljs-built_in">useEffect</span>(() =&gt; {
    <span class="hljs-comment">// ç›‘å¬ productId å˜åŒ–ï¼Œé‡æ–°è¯·æ±‚å•†å“è¯¦æƒ…æ•°æ®</span>
    <span class="hljs-built_in">fetchProductDetail</span>(productId);
  }, <span class="hljs-selector-attr">[productId]</span>);
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-44">6.2 BrowserRouter éƒ¨ç½²ååˆ·æ–° 404</h3>
<p><strong>é—®é¢˜åŸå› </strong>ï¼šBrowserRouter çš„ URL è·¯å¾„ä¸åç«¯è·¯ç”±å†²çªï¼Œç”¨æˆ·ç›´æ¥è®¿é—®éæ ¹è·¯å¾„æ—¶ï¼Œåç«¯æ— æ³•åŒ¹é…è¯¥è·¯å¾„ï¼Œè¿”å› 404 é”™è¯¯ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>Nginx é…ç½®ï¼šåœ¨ Nginx é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è·¯ç”±è½¬å‘è§„åˆ™ï¼Œå°†æ‰€æœ‰è¯·æ±‚è½¬å‘åˆ° index.htmlï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">location / {
  root /usr/share/nginx/html;
  index index.html index.htm;
  try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.html; <span class="hljs-comment"># è·¯ç”±è½¬å‘</span>
}
</code></pre>
<ul>
<li>Apache é…ç½®ï¼šä¿®æ”¹ .htaccess æ–‡ä»¶ï¼Œæ·»åŠ é‡å†™è§„åˆ™ï¼›</li>
<li>å¼€å‘ç¯å¢ƒï¼šä½¿ç”¨ <code>create-react-app</code> æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨å·²é»˜è®¤é…ç½®è½¬å‘ï¼Œæ— éœ€é¢å¤–å¤„ç†ã€‚</li>
</ul>
<h3 data-id="heading-45">6.3 æ‡’åŠ è½½ç»„ä»¶åŠ è½½å¤±è´¥</h3>
<p><strong>é—®é¢˜åŸå› </strong>ï¼šç»„ä»¶è·¯å¾„é”™è¯¯ã€ç½‘ç»œå¼‚å¸¸æˆ– <code>Suspense</code> ç»„ä»¶ä½¿ç”¨ä¸å½“ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥æ‡’åŠ è½½ç»„ä»¶çš„å¯¼å…¥è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿è·¯å¾„ä¸æ–‡ä»¶ä½ç½®ä¸€è‡´ï¼›</li>
<li>ç¡®ä¿ <code>Suspense</code> ç»„ä»¶åŒ…è£¹æ‡’åŠ è½½ç»„ä»¶ï¼Œä¸” <code>fallback</code> å±æ€§è®¾ç½®æœ‰æ•ˆï¼›</li>
<li>æ·»åŠ é”™è¯¯è¾¹ç•Œç»„ä»¶ï¼ˆError Boundaryï¼‰ï¼Œæ•è·æ‡’åŠ è½½å¤±è´¥é”™è¯¯ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h3 data-id="heading-46">6.4 å¯¼èˆªé«˜äº®ä¸å‡†ç¡®</h3>
<p><strong>é—®é¢˜åŸå› </strong>ï¼š<code>useMatch</code> é’©å­çš„ <code>end</code> å±æ€§è®¾ç½®ä¸å½“ï¼Œæˆ–è·¯ç”±è·¯å¾„é‡å ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ç²¾ç¡®åŒ¹é…è·¯å¾„æ—¶è®¾ç½® <code>end: true</code>ï¼Œæ¨¡ç³ŠåŒ¹é…æ—¶çœç•¥è¯¥å±æ€§ï¼›</li>
<li>é¿å…è·¯ç”±è·¯å¾„é‡å ï¼Œä¾‹å¦‚ <code>/products</code> ä¸ <code>/products/new</code> éœ€ç¡®ä¿çˆ¶è·¯ç”±ä¸è®¾ç½® <code>end: true</code>ï¼Œå­è·¯ç”±æ­£å¸¸åŒ¹é…ã€‚</li>
</ul>
<h2 data-id="heading-47">ä¸ƒã€æ€»ç»“ä¸æ‰©å±•</h2>
<h3 data-id="heading-48">7.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“</h3>
<p>react-router-dom æ˜¯ React å•é¡µåº”ç”¨çš„æ ¸å¿ƒè·¯ç”±åº“ï¼Œå…¶æ ¸å¿ƒçŸ¥è¯†ç‚¹å¯æ¦‚æ‹¬ä¸ºï¼š</p>
<ul>
<li>ä¸¤ç§è·¯ç”±æ¨¡å¼ï¼šHashRouterï¼ˆå…¼å®¹æ€§å¼ºï¼‰ä¸ BrowserRouterï¼ˆURL ç¾è§‚ï¼Œéœ€åç«¯é…ç½®ï¼‰ï¼›</li>
<li>å…­å¤§è·¯ç”±ç±»å‹ï¼šæ™®é€šè·¯ç”±ã€åŠ¨æ€è·¯ç”±ã€é€šé…è·¯ç”±ã€åµŒå¥—è·¯ç”±ã€é‰´æƒè·¯ç”±ã€é‡å®šå‘è·¯ç”±ï¼›</li>
<li>æ ¸å¿ƒ API ä¸é’©å­ï¼š<code>Routes</code>ã€<code>Route</code>ã€<code>Link</code>ã€<code>Navigate</code>ã€<code>Outlet</code>ã€<code>useParams</code>ã€<code>useNavigate</code>ã€<code>useMatch</code> ç­‰ï¼›</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šç»„ä»¶æ‡’åŠ è½½ï¼ˆ<code>lazy</code> + <code>Suspense</code>ï¼‰ï¼›</li>
<li>å®æˆ˜è¦ç‚¹ï¼šè·¯ç”±åŒ¹é…é¡ºåºã€åç«¯é…ç½®ã€å†…å­˜æ³„æ¼é˜²èŒƒã€å¯¼èˆªé«˜äº®æ§åˆ¶ã€‚</li>
</ul>
<h3 data-id="heading-49">7.2 æ‰©å±•å­¦ä¹ æ–¹å‘</h3>
<p>æŒæ¡åŸºç¡€ç”¨æ³•åï¼Œå¯è¿›ä¸€æ­¥å­¦ä¹ ä»¥ä¸‹å†…å®¹ï¼Œæå‡è·¯ç”±ä½¿ç”¨èƒ½åŠ›ï¼š</p>
<ul>
<li>è·¯ç”±çŠ¶æ€ç®¡ç†ï¼šç»“åˆ Reduxã€React Context å®ç°è·¯ç”±çŠ¶æ€å…¨å±€å…±äº«ï¼›</li>
<li>é«˜çº§é‰´æƒé€»è¾‘ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰ã€Token è¿‡æœŸè‡ªåŠ¨è·³è½¬ï¼›</li>
<li>è·¯ç”±åŠ¨ç”»ï¼šç»“åˆ React Transition Group å®ç°é¡µé¢åˆ‡æ¢åŠ¨ç”»ï¼›</li>
<li>å¤šè¯­è¨€è·¯ç”±ï¼šå®ç°å›½é™…åŒ–è·¯ç”±ï¼ˆå¦‚ <code>/en/about</code>ã€<code>/zh/about</code>ï¼‰ï¼›</li>
<li>react-router-dom v6 æ–°ç‰¹æ€§ï¼šå¯¹æ¯” v5 ç‰ˆæœ¬çš„å·®å¼‚ï¼ˆå¦‚ <code>Routes</code> æ›¿ä»£ <code>Switch</code>ã€<code>Navigate</code> æ›¿ä»£ <code>Redirect</code> ç­‰ï¼‰ã€‚</li>
</ul>
<p>react-router-dom æ˜¯ React å¼€å‘çš„å¿…å¤‡æŠ€èƒ½ä¹‹ä¸€ï¼Œç†Ÿç»ƒæŒæ¡å…¶ç”¨æ³•ä¸åŸç†ï¼Œèƒ½æœ‰æ•ˆæå‡å•é¡µåº”ç”¨çš„å¼€å‘æ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œéœ€ç»“åˆä¸šåŠ¡åœºæ™¯çµæ´»é€‰æ‹©è·¯ç”±æ¨¡å¼ä¸å®ç°æ–¹æ¡ˆï¼Œä¸æ–­ä¼˜åŒ–è·¯ç”±é…ç½®ä¸æ€§èƒ½ï¼Œæ„å»ºé«˜è´¨é‡çš„ React åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ink-markdown-esï¼šä¸º Ink æ‰“é€ çš„é«˜æ€§èƒ½ Markdown æ¸²æŸ“ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7596170399881576500</link>    <guid>https://juejin.cn/post/7596170399881576500</guid>    <pubDate>2026-01-18T15:57:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596170399881576500" data-draft-id="7596241980869296162" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ink-markdown-esï¼šä¸º Ink æ‰“é€ çš„é«˜æ€§èƒ½ Markdown æ¸²æŸ“ç»„ä»¶"/> <meta itemprop="keywords" content="Markdown,React.js"/> <meta itemprop="datePublished" content="2026-01-18T15:57:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MioWnag"/> <meta itemprop="url" content="https://juejin.cn/user/1381410281623400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ink-markdown-esï¼šä¸º Ink æ‰“é€ çš„é«˜æ€§èƒ½ Markdown æ¸²æŸ“ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1381410281623400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MioWnag
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T15:57:37.000Z" title="Sun Jan 18 2026 15:57:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨ç”¨ Ink + LangChain deepagentså¼€å‘ä¸€ä¸ªè½»é‡çš„ CLI Coding Agentï¼Œé‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šå¦‚ä½•åœ¨å‘½ä»¤è¡Œä¸­ä¼˜é›…åœ°æ¸²æŸ“ Markdown å†…å®¹ï¼Ÿ</p>
<p>è°ƒç ”äº†ç°æœ‰æ–¹æ¡ˆåå‘ç°ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvadimdemedes%2Fink-markdown" target="_blank" title="https://github.com/vadimdemedes/ink-markdown" ref="nofollow noopener noreferrer">ink-markdown</a> è™½ç„¶æ˜¯å¤§å®¶å¸¸ç”¨çš„åº“ï¼Œä½†ï¼š</p>
<ol>
<li>æˆ‘ä½¿ç”¨çš„ bun æ¥ç®¡ç†é¡¹ç›®ï¼Œè€Œ ink-markdown ä¸æ”¯æŒ ES Moduleï¼Œæ— æ³•å¼€ç®±å³ç”¨</li>
<li>å¤ªè€äº†ï¼Œä¸æ”¯æŒ ink æœ€æ–°ç‰ˆæœ¬ä»¥åŠå…¶ä¾èµ–çš„ React 19</li>
</ol>
<p>æ‰€ä»¥ï¼Œæˆ‘åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmarkedjs%2Fmarked" target="_blank" title="https://github.com/markedjs/marked" ref="nofollow noopener noreferrer">marked</a> é‡æ–°å®ç°äº†ä¸€ä¸ªï¼š<strong>ink-markdown-es</strong></p>
<h2 data-id="heading-1">ç‰¹æ€§</h2>
<ul>
<li><strong>çº¯ ESM æ”¯æŒ</strong>ï¼šå®Œå…¨æ‹¥æŠ±ç°ä»£ JavaScript ç”Ÿæ€</li>
<li><strong>é«˜æ€§èƒ½æ¸²æŸ“</strong>ï¼šä½¿ç”¨ <code>memo</code> å’Œ <code>useMemo</code> ä¼˜åŒ–ï¼Œæ¯ä¸ª block ç‹¬ç«‹ç¼“å­˜ï¼ˆInspired by prompt-kitï¼‰</li>
<li><strong>çµæ´»çš„è‡ªå®šä¹‰</strong>ï¼šæ”¯æŒ <code>styles</code> å’Œ <code>renderers</code> ä¸¤ç§è‡ªå®šä¹‰æ–¹å¼</li>
<li><strong>å®Œæ•´çš„ Markdown æ”¯æŒ</strong>ï¼šæ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ã€è¡¨æ ¼ã€å¼•ç”¨ã€é“¾æ¥ç­‰</li>
<li><strong>TypeScript å‹å¥½</strong>ï¼šå®Œæ•´çš„ç±»å‹å®šä¹‰</li>
</ul>
<h2 data-id="heading-2">å®‰è£…</h2>
<pre><code class="hljs language-bash" lang="bash">npm install ink-markdown-es

<span class="hljs-comment"># æˆ–è€…</span>
pnpm add ink-markdown-es

<span class="hljs-comment"># æˆ–è€…</span>
bun add ink-markdown-es
</code></pre>
<h2 data-id="heading-3">åŸºç¡€ç”¨æ³•</h2>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Markdown</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"ink-markdown-es"</span>;
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">"ink"</span>;

<span class="hljs-keyword">const</span> content = <span class="hljs-string">`
# Hello World

è¿™æ˜¯ä¸€æ®µ**åŠ ç²—**å’Œ*æ–œä½“italic*æ–‡å­—ã€‚

## ä»£ç ç¤ºä¾‹

\`\`\`javascript
const greeting = "Hello, Ink!";
console.log(greeting);
\`\`\`

- åˆ—è¡¨é¡¹ 1
- åˆ—è¡¨é¡¹ 2
- åˆ—è¡¨é¡¹ 3
`</span>;

<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Markdown</span>&gt;</span>{content}<span class="hljs-tag">&lt;/<span class="hljs-name">Markdown</span>&gt;</span></span>);
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47188b60f2cf418dbd8931b93a13203b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWlvV25hZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769356657&amp;x-signature=uiihHCAoKnOA7JdQszqkTc7baN4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">è‡ªå®šä¹‰æ¸²æŸ“å™¨</h2>
<p>ä½ å¯ä»¥å®Œå…¨è‡ªå®šä¹‰ä»»æ„ Markdown å…ƒç´ çš„æ¸²æŸ“æ–¹å¼ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Markdown</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"ink-markdown-es"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Box</span>, <span class="hljs-title class_">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"ink"</span>;

<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Markdown</span>
    <span class="hljs-attr">showSharp</span>
    <span class="hljs-attr">renderers</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">h1:</span> (<span class="hljs-attr">text</span>) =&gt;</span> (
        <span class="hljs-tag">&lt;<span class="hljs-name">Box</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">{1}</span> <span class="hljs-attr">borderStyle</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">borderDimColor</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">bold</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"greenBright"</span>&gt;</span>
            {text}
          <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Box</span>&gt;</span>
      ),
      code: (code, lang) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">Box</span> <span class="hljs-attr">borderStyle</span>=<span class="hljs-string">"single"</span> <span class="hljs-attr">padding</span>=<span class="hljs-string">{1}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"yellow"</span>&gt;</span>{code}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Box</span>&gt;</span>
      ),
    }}
  &gt;
    {content}
  <span class="hljs-tag">&lt;/<span class="hljs-name">Markdown</span>&gt;</span></span>
);
</code></pre>
<h2 data-id="heading-5">æ€§èƒ½ä¼˜åŒ–åŸç†</h2>
<p>åœ¨å¤„ç†æµå¼è¾“å‡ºï¼ˆå¦‚ AI å¯¹è¯ï¼‰æ—¶ï¼ŒMarkdown å†…å®¹ä¼šé¢‘ç¹æ›´æ–°ã€‚ä¼ ç»Ÿæ–¹æ¡ˆæ¯æ¬¡æ›´æ–°éƒ½ä¼šé‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ï¼Œé€ æˆæ€§èƒ½é—®é¢˜ã€‚</p>
<p>ink-markdown-es çš„ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ol>
<li><strong>Block çº§åˆ«ç¼“å­˜</strong>ï¼šä½¿ç”¨ <code>useMemo</code> ç¼“å­˜ marked çš„è¯æ³•åˆ†æç»“æœ</li>
<li><strong>Block çº§åˆ« memo</strong>ï¼šæ¯ä¸ª Markdown block éƒ½æ˜¯ç‹¬ç«‹çš„ <code>memo</code> ç»„ä»¶</li>
<li><strong>æ™ºèƒ½å¯¹æ¯”</strong>ï¼šåªæœ‰ block å†…å®¹å˜åŒ–æ—¶æ‰ä¼šè§¦å‘é‡æ–°æ¸²æŸ“</li>
</ol>
<p>åœ¨æµå¼è¾“å‡ºåœºæ™¯ä¸‹ï¼Œå·²ç»æ¸²æŸ“çš„ block ä¸ä¼šé‡å¤æ¸²æŸ“ï¼Œåªæœ‰æ–°å¢çš„å†…å®¹æ‰ä¼šè¢«å¤„ç†ã€‚</p>
<h2 data-id="heading-6">Props è¯´æ˜</h2>









































<table><thead><tr><th>å±æ€§</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>children</td><td>string</td><td>-</td><td>Markdown æ–‡æœ¬å†…å®¹</td></tr><tr><td>id</td><td>string</td><td>-</td><td>ç»„ä»¶å”¯ä¸€æ ‡è¯†ï¼Œé€‚ç”¨äº AI åœºæ™¯åŒºåˆ†ä¸åŒæ¶ˆæ¯</td></tr><tr><td>styles</td><td>BlockStyles</td><td>{}</td><td>è‡ªå®šä¹‰æ ·å¼é…ç½®</td></tr><tr><td>renderers</td><td>BlockRenderers</td><td>{}</td><td>è‡ªå®šä¹‰æ¸²æŸ“å™¨</td></tr><tr><td>showSharp</td><td>boolean</td><td>false</td><td>æ˜¯å¦æ˜¾ç¤ºæ ‡é¢˜çš„ # ç¬¦å·</td></tr></tbody></table>
<h2 data-id="heading-7">é€‚ç”¨åœºæ™¯</h2>
<ul>
<li><strong>CLI AI åŠ©æ‰‹</strong>ï¼šæµå¼è¾“å‡º Markdown æ ¼å¼çš„ AI å›å¤</li>
<li><strong>ç»ˆç«¯æ–‡æ¡£æŸ¥çœ‹å™¨</strong>ï¼šåœ¨å‘½ä»¤è¡Œä¸­æ¸²æŸ“ README ç­‰æ–‡æ¡£</li>
<li><strong>äº¤äº’å¼ç»ˆç«¯åº”ç”¨</strong>ï¼šä»»ä½•éœ€è¦å±•ç¤ºå¯Œæ–‡æœ¬çš„ CLI å·¥å…·</li>
</ul>
<h2 data-id="heading-8">åº“ä¿¡æ¯</h2>
<p><strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmiownag%2Fink-markdown-es" target="_blank" title="https://github.com/miownag/ink-markdown-es" ref="nofollow noopener noreferrer">github.com/miownag/inkâ€¦</a></p>
<p><strong>NPM</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fink-markdown-es" target="_blank" title="https://www.npmjs.com/package/ink-markdown-es" ref="nofollow noopener noreferrer">npmjs.com/package/inkâ€¦</a></p>
<hr/>
<p>å¦‚æœè¿™ä¸ªåº“å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(äºŒ)ï¼šå›¾å½¢ç¼“å†²åŒºç®¡ç†ä¸HWCç¡¬ä»¶åˆæˆ]]></title>    <link>https://juejin.cn/post/7596187471773499401</link>    <guid>https://juejin.cn/post/7596187471773499401</guid>    <pubDate>2026-01-18T13:24:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596187471773499401" data-draft-id="7596187471773450249" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(äºŒ)ï¼šå›¾å½¢ç¼“å†²åŒºç®¡ç†ä¸HWCç¡¬ä»¶åˆæˆ"/> <meta itemprop="keywords" content="Android,æºç ,æºç é˜…è¯»"/> <meta itemprop="datePublished" content="2026-01-18T13:24:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(äºŒ)ï¼šå›¾å½¢ç¼“å†²åŒºç®¡ç†ä¸HWCç¡¬ä»¶åˆæˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:24:27.000Z" title="Sun Jan 18 2026 13:24:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­,æˆ‘ä»¬æ·±å…¥æ¢è®¨äº†SurfaceFlingerçš„æ ¸å¿ƒæœºåˆ¶å’Œæ˜¾ç¤ºç³»ç»Ÿçš„æ•´ä½“æ¶æ„ã€‚æœ¬æ–‡å°†ç»§ç»­æ·±å…¥æ˜¾ç¤ºå­ç³»ç»Ÿçš„åº•å±‚å®ç°,é‡ç‚¹è§£æå›¾å½¢ç¼“å†²åŒºçš„ç®¡ç†æœºåˆ¶å’Œç¡¬ä»¶åˆæˆçš„å·¥ä½œåŸç†ã€‚</p>
<p>å›¾å½¢ç¼“å†²åŒº(GraphicBuffer)æ˜¯Androidæ˜¾ç¤ºç³»ç»Ÿä¸­æ‰¿è½½åƒç´ æ•°æ®çš„æ ¸å¿ƒæ•°æ®ç»“æ„,è€ŒBufferQueueåˆ™å®ç°äº†ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹æ¥é«˜æ•ˆç®¡ç†è¿™äº›ç¼“å†²åŒºã€‚åœ¨Android 15ä¸­,è¿™äº›æœºåˆ¶ç»è¿‡å¤šå¹´æ¼”è¿›å·²ç»éå¸¸æˆç†Ÿ,é…åˆHardware Composer 3.0ç¡¬ä»¶åˆæˆå™¨,å®ç°äº†ä½åŠŸè€—ã€é«˜æ€§èƒ½çš„æ˜¾ç¤ºè¾“å‡ºã€‚</p>
<p>æœ¬æ–‡å°†åŸºäº<strong>Android 15 (AOSP)å®é™…æºç </strong>,æ·±å…¥åˆ†æä»¥ä¸‹æ ¸å¿ƒå†…å®¹:</p>
<ul>
<li>GraphicBufferä¸BufferQueueçš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹</li>
<li>Gralloc HALçš„å†…å­˜åˆ†é…ä¸ç®¡ç†æœºåˆ¶</li>
<li>Hardware Composer 3.0çš„åˆæˆç­–ç•¥</li>
<li>FenceåŒæ­¥æœºåˆ¶ä¿è¯GPU/DisplayååŒå·¥ä½œ</li>
</ul>
<blockquote>
<p><strong>ç³»åˆ—å¯¼èˆª</strong>: è¿™æ˜¯"Android 15 æ ¸å¿ƒå­ç³»ç»Ÿæ·±åº¦è§£æ"ç³»åˆ—çš„ç¬¬2ç¯‡æ–‡ç« ã€‚å»ºè®®å…ˆé˜…è¯»ç¬¬1ç¯‡äº†è§£SurfaceFlingeråŸºç¡€ã€‚</p>
</blockquote>
<h2 data-id="heading-1">ä¸€ã€GraphicBufferä¸BufferQueueæœºåˆ¶</h2>
<h3 data-id="heading-2">1.1 BufferQueueç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹</h3>
<p>BufferQueueæ˜¯Androidæ˜¾ç¤ºç³»ç»Ÿä¸­æœ€æ ¸å¿ƒçš„ç»„ä»¶ä¹‹ä¸€,å®ƒå®ç°äº†ä¸€ä¸ªé«˜æ•ˆçš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹,ç”¨äºåœ¨åº”ç”¨è¿›ç¨‹å’ŒSurfaceFlingerä¹‹é—´ä¼ é€’å›¾å½¢ç¼“å†²åŒºã€‚</p>
<h4 data-id="heading-3">æ¶æ„æ¦‚è§ˆ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/506c896170dc4720a58723e594028a84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769347467&amp;x-signature=rudKtM%2BKnsPv7%2FWhKwiotdX8wEE%3D" alt="02-01-bufferqueue-producer-consumer.png" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤º,BufferQueueçš„æ ¸å¿ƒæ¶æ„åŒ…å«ä¸‰ä¸ªä¸»è¦éƒ¨åˆ†:</p>
<p><strong>1. ç”Ÿäº§è€…ç«¯ (Applicationè¿›ç¨‹)</strong></p>
<ul>
<li><strong>Surface</strong>: åº”ç”¨æŒæœ‰çš„ç»˜å›¾è¡¨é¢,å°è£…äº†IGraphicBufferProduceræ¥å£</li>
<li><strong>IGraphicBufferProducer</strong>: Binderæ¥å£,æä¾›<code>dequeueBuffer()</code>ã€<code>queueBuffer()</code>ç­‰æ–¹æ³•</li>
<li>åº”ç”¨é€šè¿‡Surfaceè¿›è¡Œç»˜åˆ¶,å®é™…ä¸Šæ˜¯å‘BufferQueueä¸­æ”¾å…¥å·²æ¸²æŸ“çš„ç¼“å†²åŒº</li>
</ul>
<p><strong>2. BufferQueueæ ¸å¿ƒ</strong></p>
<ul>
<li><strong>BufferQueueCore</strong>: ç®¡ç†ç¼“å†²åŒºæ± çš„æ ¸å¿ƒæ•°æ®ç»“æ„</li>
<li><strong>Buffer Slots</strong>: é€šå¸¸åŒ…å«3ä¸ªæ§½ä½(Slot 0-2),æ¯ä¸ªæ§½ä½å¯å¤„äºä¸åŒçŠ¶æ€</li>
<li><strong>ç¼“å†²åŒºçŠ¶æ€</strong>: FREE(ç©ºé—²) â†’ DEQUEUED(å·²è·å–) â†’ QUEUED(å·²æäº¤) â†’ ACQUIRED(å·²æ¶ˆè´¹) â†’ FREE</li>
<li><strong>GraphicBuffer Pool</strong>: å®é™…çš„å…±äº«å†…å­˜ç¼“å†²åŒºæ± </li>
<li><strong>Fenceç®¡ç†</strong>: ç®¡ç†acquireFenceå’ŒreleaseFence,å®ç°GPU/DisplayåŒæ­¥</li>
</ul>
<p><strong>3. æ¶ˆè´¹è€…ç«¯ (SurfaceFlingerè¿›ç¨‹)</strong></p>
<ul>
<li><strong>Layer</strong>: SurfaceFlingerä¸­ä»£è¡¨ä¸€ä¸ªå›¾å±‚</li>
<li><strong>IGraphicBufferConsumer</strong>: Binderæ¥å£,æä¾›<code>acquireBuffer()</code>ã€<code>releaseBuffer()</code>ç­‰æ–¹æ³•</li>
<li>SurfaceFlingerä»BufferQueueä¸­å–å‡ºç¼“å†²åŒºè¿›è¡Œåˆæˆ</li>
</ul>
<h4 data-id="heading-4">BufferQueueCoreæºç åˆ†æ</h4>
<p>è®©æˆ‘ä»¬çœ‹çœ‹BufferQueueCoreçš„å…³é”®æ•°æ®ç»“æ„(æºç ä½äº<code>frameworks/native/libs/gui/include/gui/BufferQueueCore.h</code>):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferQueueCore</span> : <span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> RefBase {
    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferQueueProducer</span>;
    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BufferQueueConsumer</span>;

<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// æ— æ•ˆæ§½ä½æ ‡è®°</span>
    <span class="hljs-keyword">enum</span> { INVALID_BUFFER_SLOT = BufferItem::INVALID_BUFFER_SLOT };
    <span class="hljs-comment">// æœ€å¤§å¯è¢«acquireçš„ç¼“å†²åŒºæ•°é‡</span>
    <span class="hljs-keyword">enum</span> { MAX_MAX_ACQUIRED_BUFFERS = BufferQueueDefs::NUM_BUFFER_SLOTS - <span class="hljs-number">2</span> };

    <span class="hljs-comment">// FIFOé˜Ÿåˆ—,å­˜å‚¨å·²æäº¤çš„ç¼“å†²åŒº</span>
    <span class="hljs-keyword">typedef</span> Vector&lt;BufferItem&gt; Fifo;

    <span class="hljs-built_in">BufferQueueCore</span>();
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">BufferQueueCore</span>();

<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">mutable</span> std::mutex mMutex;  <span class="hljs-comment">// ä¿æŠ¤æ‰€æœ‰æˆå‘˜å˜é‡çš„äº’æ–¥é”</span>

    <span class="hljs-comment">// ç¼“å†²åŒºæ§½ä½ç®¡ç†</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getMinUndequeuedBufferCountLocked</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getMaxBufferCountLocked</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clearBufferSlotLocked</span><span class="hljs-params">(<span class="hljs-type">int</span> slot)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">freeAllBuffersLocked</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">// æ ¸å¿ƒæˆå‘˜å˜é‡</span>
    BufferQueueDefs::SlotsType mSlots;  <span class="hljs-comment">// ç¼“å†²åŒºæ§½ä½æ•°ç»„</span>
    Fifo mQueue;                         <span class="hljs-comment">// å·²æäº¤çš„ç¼“å†²åŒºé˜Ÿåˆ—</span>
    <span class="hljs-type">int</span> mMaxAcquiredBufferCount;        <span class="hljs-comment">// æœ€å¤§å¯acquireæ•°é‡</span>
    <span class="hljs-type">int</span> mDefaultWidth;                  <span class="hljs-comment">// é»˜è®¤å®½åº¦</span>
    <span class="hljs-type">int</span> mDefaultHeight;                 <span class="hljs-comment">// é»˜è®¤é«˜åº¦</span>
    PixelFormat mDefaultBufferFormat;   <span class="hljs-comment">// é»˜è®¤åƒç´ æ ¼å¼</span>
    <span class="hljs-type">uint64_t</span> mConsumerUsageBits;        <span class="hljs-comment">// æ¶ˆè´¹è€…ä½¿ç”¨æ ‡å¿—</span>
    <span class="hljs-comment">// ...æ›´å¤šæˆå‘˜å˜é‡</span>
};
</code></pre>
<blockquote>
<p><strong>å…³é”®è¦ç‚¹</strong>:</p>
<ul>
<li>BufferQueueCoreä½¿ç”¨<code>mSlots</code>æ•°ç»„ç®¡ç†æ‰€æœ‰ç¼“å†²åŒºæ§½ä½</li>
<li><code>mQueue</code>æ˜¯ä¸€ä¸ªFIFOé˜Ÿåˆ—,å­˜å‚¨å·²æäº¤ä½†å°šæœªè¢«æ¶ˆè´¹çš„ç¼“å†²åŒº</li>
<li>æ‰€æœ‰æ“ä½œéƒ½é€šè¿‡<code>mMutex</code>äº’æ–¥é”ä¿æŠ¤,ç¡®ä¿çº¿ç¨‹å®‰å…¨</li>
</ul>
</blockquote>
<h3 data-id="heading-5">1.2 GraphicBufferå†…éƒ¨ç»“æ„</h3>
<p>GraphicBufferæ˜¯å¯¹å…±äº«å†…å­˜å›¾å½¢ç¼“å†²åŒºçš„å°è£…,æä¾›äº†è·¨è¿›ç¨‹ä¼ é€’å’Œå†…å­˜ç®¡ç†çš„èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-6">GraphicBufferæ ¸å¿ƒå±æ€§</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92179014b3044573b07fc4372e0f6faa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769347467&amp;x-signature=acI3dwPWolk6xeNsuAZ%2BsGnCtN8%3D" alt="02-02-graphicbuffer-structure.png" loading="lazy"/></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡º,GraphicBufferåŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶:</p>
<p><strong>1. æ ¸å¿ƒå±æ€§</strong></p>
<ul>
<li><strong>width/height/stride</strong>: ç¼“å†²åŒºå°ºå¯¸ä¿¡æ¯,strideæ˜¯å®é™…å†…å­˜ä¸­æ¯è¡Œçš„å­—èŠ‚æ•°(å¯èƒ½å¤§äºwidth)</li>
<li><strong>format</strong>: åƒç´ æ ¼å¼,å¦‚RGBA_8888ã€YCbCr_420_888ç­‰</li>
<li><strong>layerCount</strong>: å›¾å±‚æ•°é‡,é€šå¸¸ä¸º1,VRåœºæ™¯å¯èƒ½å¤§äº1</li>
<li><strong>usage</strong>: ä½¿ç”¨æ ‡å¿—ä½,å†³å®šå†…å­˜ç±»å‹å’Œè®¿é—®æƒé™</li>
<li><strong>mId</strong>: å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦</li>
<li><strong>native_handle_t</strong>: åŸç”Ÿå¥æŸ„,æŒ‡å‘å®é™…çš„å…±äº«å†…å­˜</li>
</ul>
<p><strong>2. å†…å­˜ç®¡ç†æ¨¡å—</strong></p>
<ul>
<li><strong>GraphicBufferAllocator</strong>: è´Ÿè´£é€šè¿‡Gralloc HALåˆ†é…å†…å­˜</li>
<li><strong>GraphicBufferMapper</strong>: æä¾›lock/unlockæ–¹æ³•,å°†ç‰©ç†å†…å­˜æ˜ å°„åˆ°è™šæ‹Ÿåœ°å€ç©ºé—´</li>
</ul>
<p><strong>3. Usageæ ‡å¿—è¯¦è§£</strong></p>
<p>GraphicBufferçš„usageæ ‡å¿—æ˜¯ä¸€ä¸ª64ä½çš„ä½æ©ç ,å†³å®šäº†ç¼“å†²åŒºçš„ä½¿ç”¨æ–¹å¼å’Œå†…å­˜ç±»å‹:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">enum</span> {
    <span class="hljs-comment">// è½¯ä»¶è®¿é—®æ ‡å¿—</span>
    USAGE_SW_READ_NEVER     = GRALLOC_USAGE_SW_READ_NEVER,      <span class="hljs-comment">// è½¯ä»¶ä¸è¯»</span>
    USAGE_SW_READ_RARELY    = GRALLOC_USAGE_SW_READ_RARELY,     <span class="hljs-comment">// è½¯ä»¶å¶å°”è¯»</span>
    USAGE_SW_READ_OFTEN     = GRALLOC_USAGE_SW_READ_OFTEN,      <span class="hljs-comment">// è½¯ä»¶é¢‘ç¹è¯»</span>
    USAGE_SW_WRITE_NEVER    = GRALLOC_USAGE_SW_WRITE_NEVER,     <span class="hljs-comment">// è½¯ä»¶ä¸å†™</span>
    USAGE_SW_WRITE_RARELY   = GRALLOC_USAGE_SW_WRITE_RARELY,    <span class="hljs-comment">// è½¯ä»¶å¶å°”å†™</span>
    USAGE_SW_WRITE_OFTEN    = GRALLOC_USAGE_SW_WRITE_OFTEN,     <span class="hljs-comment">// è½¯ä»¶é¢‘ç¹å†™</span>

    <span class="hljs-comment">// ç¡¬ä»¶è®¿é—®æ ‡å¿—</span>
    USAGE_HW_TEXTURE        = GRALLOC_USAGE_HW_TEXTURE,         <span class="hljs-comment">// GPUçº¹ç†</span>
    USAGE_HW_RENDER         = GRALLOC_USAGE_HW_RENDER,          <span class="hljs-comment">// GPUæ¸²æŸ“</span>
    USAGE_HW_2D             = GRALLOC_USAGE_HW_2D,              <span class="hljs-comment">// 2Dç¡¬ä»¶åŠ é€Ÿ</span>
    USAGE_HW_COMPOSER       = GRALLOC_USAGE_HW_COMPOSER,        <span class="hljs-comment">// ç¡¬ä»¶åˆæˆå™¨</span>
    USAGE_HW_VIDEO_ENCODER  = GRALLOC_USAGE_HW_VIDEO_ENCODER,   <span class="hljs-comment">// è§†é¢‘ç¼–ç å™¨</span>

    <span class="hljs-comment">// ç‰¹æ®Šç”¨é€”æ ‡å¿—</span>
    USAGE_PROTECTED         = GRALLOC_USAGE_PROTECTED,          <span class="hljs-comment">// å®‰å…¨å†…å®¹(DRM)</span>
    USAGE_CURSOR            = GRALLOC_USAGE_CURSOR,             <span class="hljs-comment">// å…‰æ ‡å›¾å±‚</span>
};
</code></pre>
<p>è¿™äº›usageæ ‡å¿—åœ¨å†…å­˜åˆ†é…æ—¶è¢«Gralloc HALè§£æ,å†³å®šå®é™…åˆ†é…çš„ç‰©ç†å†…å­˜ç±»å‹(è¯¦è§1.3èŠ‚)ã€‚</p>
<p><strong>4. ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong></p>
<p>GraphicBufferç»§æ‰¿è‡ªRefBase,ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ<code>sp&lt;GraphicBuffer&gt;</code>è¿›è¡Œå¼•ç”¨è®¡æ•°ç®¡ç†:</p>
<pre><code class="hljs language-scss" lang="scss">GraphicBufferåˆ›å»º
  â†“
<span class="hljs-built_in">initWithSize</span>() / <span class="hljs-built_in">initWithHandle</span>()  <span class="hljs-comment">// åˆå§‹åŒ–</span>
  â†“
<span class="hljs-built_in">lock</span>()                              <span class="hljs-comment">// é”å®šå†…å­˜,æ˜ å°„åˆ°è™šæ‹Ÿåœ°å€</span>
  â†“
ä½¿ç”¨(CPU/GPUè¯»å†™æ•°æ®)
  â†“
<span class="hljs-built_in">unlock</span>()                            <span class="hljs-comment">// è§£é”å†…å­˜</span>
  â†“
~<span class="hljs-built_in">GraphicBuffer</span>()                    <span class="hljs-comment">// å¼•ç”¨è®¡æ•°ä¸º0æ—¶é”€æ¯</span>
</code></pre>
<blockquote>
<p><strong>æ€§èƒ½ä¼˜åŒ–æç¤º</strong>:</p>
<ul>
<li>è½¯ä»¶è¯»å†™é¢‘ç¹çš„ç¼“å†²åŒºåº”è®¾ç½®USAGE_SW_READ_OFTENå’ŒUSAGE_SW_WRITE_OFTEN,è¿™ä¼šåˆ†é…CPU cacheå‹å¥½çš„å†…å­˜</li>
<li>çº¯GPUä½¿ç”¨çš„ç¼“å†²åŒºåº”åªè®¾ç½®USAGE_HW_TEXTURE/RENDER,é¿å…ä¸å¿…è¦çš„CPUç¼“å­˜ä¸€è‡´æ€§å¼€é”€</li>
</ul>
</blockquote>
<h3 data-id="heading-7">1.3 Gralloc HALå†…å­˜åˆ†é…æœºåˆ¶</h3>
<p>Gralloc (Graphics Allocator) HALæ˜¯Androidç³»ç»Ÿä¸­è´Ÿè´£åˆ†é…å›¾å½¢å†…å­˜çš„ç¡¬ä»¶æŠ½è±¡å±‚æ¥å£ã€‚å®ƒæ ¹æ®usageæ ‡å¿—åˆ†é…ä¸åŒç±»å‹çš„ç‰©ç†å†…å­˜ã€‚</p>
<h4 data-id="heading-8">Grallocåˆ†é…æµç¨‹</h4>
<p>ä»åº”ç”¨è¯·æ±‚ç¼“å†²åŒºåˆ°å®é™…ç‰©ç†å†…å­˜åˆ†é…çš„å®Œæ•´æµç¨‹åŒ…æ‹¬:</p>
<p><strong>è°ƒç”¨é“¾è·¯</strong>:</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">Application</span> (dequeueBuffer)
  â†“
<span class="hljs-title class_">Surface</span>::<span class="hljs-title function_ invoke__">dequeueBuffer</span>()
  â†“
<span class="hljs-title class_">BufferQueueProducer</span>::<span class="hljs-title function_ invoke__">dequeueBuffer</span>()
  â†“
<span class="hljs-title class_">GraphicBufferAllocator</span>::<span class="hljs-title function_ invoke__">allocate</span>()
  â†“
Gralloc <span class="hljs-title function_ invoke__">HAL</span> (<span class="hljs-title class_">IAllocator</span>::<span class="hljs-variable constant_">allocate</span>)
  â†“
Kernel <span class="hljs-title function_ invoke__">Driver</span> (Ion/DMA-BUF)
  â†“
Physical Memory
</code></pre>
<p><strong>è¯¦ç»†æ­¥éª¤</strong>:</p>
<ol>
<li><strong>æ£€æŸ¥ç¼“å†²åŒºæ± </strong>: BufferQueueProduceré¦–å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¯å¤ç”¨çš„ç¼“å†²åŒº</li>
<li><strong>è®¡ç®—å†…å­˜å¤§å°å’Œå¯¹é½</strong>: æ ¹æ®widthã€heightã€formatè®¡ç®—æ‰€éœ€å­—èŠ‚æ•°å’Œå¯¹é½è¦æ±‚</li>
<li><strong>ç¡®å®šå†…å­˜ç±»å‹</strong>: æ ¹æ®usageæ ‡å¿—æ˜ å°„åˆ°å…·ä½“çš„å†…å­˜ç±»å‹</li>
<li><strong>è°ƒç”¨Gralloc HAL</strong>: é€šè¿‡IAllocatoræ¥å£è¯·æ±‚åˆ†é…</li>
<li><strong>å†…æ ¸åˆ†é…ç‰©ç†å†…å­˜</strong>: Gralloc HALè°ƒç”¨Ionæˆ–DMA-BUFé©±åŠ¨åˆ†é…è¿ç»­ç‰©ç†å†…å­˜</li>
<li><strong>åˆ›å»ºGraphicBufferå¯¹è±¡</strong>: å°è£…native_handle_t</li>
<li><strong>æ³¨å†Œåˆ°GraphicBufferMapper</strong>: å»ºç«‹handleåˆ°è™šæ‹Ÿåœ°å€çš„æ˜ å°„å…³ç³»</li>
<li><strong>è¿”å›native_handle_t</strong>: é€šè¿‡Binderä¼ é€’æ–‡ä»¶æè¿°ç¬¦åˆ°åº”ç”¨è¿›ç¨‹</li>
</ol>
<h4 data-id="heading-9">Usageæ ‡å¿—åˆ°å†…å­˜ç±»å‹çš„æ˜ å°„</h4>













































<table><thead><tr><th>Usageæ ‡å¿—</th><th>å†…å­˜ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>USAGE_HW_TEXTURE</td><td>GPU Memory (Cached)</td><td>GPUå¯ç›´æ¥è®¿é—®,æ”¯æŒçº¹ç†è¯»å–</td></tr><tr><td>USAGE_HW_RENDER</td><td>GPU Memory (Write Combined)</td><td>GPUæ¸²æŸ“ç›®æ ‡,ä¼˜åŒ–å†™å…¥æ€§èƒ½</td></tr><tr><td>USAGE_HW_COMPOSER</td><td>Display Memory (Contiguous)</td><td>è¿ç»­ç‰©ç†å†…å­˜,Displayç›´æ¥æ‰«æ</td></tr><tr><td>USAGE_SW_READ_OFTEN</td><td>System Memory (Cached)</td><td>CPUç¼“å­˜å‹å¥½,è½¯ä»¶é¢‘ç¹è¯»å–</td></tr><tr><td>USAGE_SW_WRITE_OFTEN</td><td>System Memory (Cached)</td><td>CPUç¼“å­˜å‹å¥½,è½¯ä»¶é¢‘ç¹å†™å…¥</td></tr><tr><td>USAGE_PROTECTED</td><td>Secure Memory (TrustZone)</td><td>å®‰å…¨å†…å­˜,ä»…TrustZoneå¯è®¿é—®</td></tr><tr><td>USAGE_HW_VIDEO_ENCODER</td><td>Video Memory (Contiguous)</td><td>è§†é¢‘ç¼–ç å™¨ä¸“ç”¨,è¿ç»­å†…å­˜</td></tr></tbody></table>
<h4 data-id="heading-10">Gralloc HALæ¥å£(Android 15)</h4>
<p>Android 15ä½¿ç”¨AIDLå®šä¹‰çš„Gralloc 5.0æ¥å£:</p>
<p><strong>IAllocatoræ¥å£</strong> (å†…å­˜åˆ†é…):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åˆ†é…ç¼“å†²åŒº</span>
<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">allocate</span><span class="hljs-params">(
    <span class="hljs-type">const</span> BufferDescriptor&amp; descriptor,  <span class="hljs-comment">// æè¿°ç¬¦(width/height/format/usage)</span>
    <span class="hljs-type">int32_t</span> count,                       <span class="hljs-comment">// åˆ†é…æ•°é‡</span>
    <span class="hljs-type">int32_t</span>* stride,                     <span class="hljs-comment">// è¿”å›å®é™…stride</span>
    <span class="hljs-type">native_handle_t</span>** buffers            <span class="hljs-comment">// è¿”å›å¥æŸ„æ•°ç»„</span>
)</span></span>;
</code></pre>
<p><strong>IMapperæ¥å£</strong> (å†…å­˜æ˜ å°„):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å¯¼å…¥ç¼“å†²åŒºå¥æŸ„</span>
<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">importBuffer</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">native_handle_t</span>* rawHandle)</span></span>;

<span class="hljs-comment">// é”å®šç¼“å†²åŒº,è·å–è™šæ‹Ÿåœ°å€</span>
<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">lock</span><span class="hljs-params">(
    <span class="hljs-type">buffer_handle_t</span> buffer,              <span class="hljs-comment">// ç¼“å†²åŒºå¥æŸ„</span>
    <span class="hljs-type">uint64_t</span> usage,                      <span class="hljs-comment">// è®¿é—®ç”¨é€”</span>
    <span class="hljs-type">const</span> Rect&amp; accessRegion,            <span class="hljs-comment">// è®¿é—®åŒºåŸŸ</span>
    <span class="hljs-type">int</span> acquireFence,                    <span class="hljs-comment">// åŒæ­¥fence</span>
    <span class="hljs-type">void</span>** data                          <span class="hljs-comment">// è¿”å›è™šæ‹Ÿåœ°å€</span>
)</span></span>;

<span class="hljs-comment">// è§£é”ç¼“å†²åŒº</span>
<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">unlock</span><span class="hljs-params">(
    <span class="hljs-type">buffer_handle_t</span> buffer,              <span class="hljs-comment">// ç¼“å†²åŒºå¥æŸ„</span>
    <span class="hljs-type">int</span>* releaseFence                    <span class="hljs-comment">// è¿”å›åŒæ­¥fence</span>
)</span></span>;
</code></pre>
<h4 data-id="heading-11">native_handle_tç»“æ„è¯¦è§£</h4>
<p><code>native_handle_t</code>æ˜¯è·¨è¿›ç¨‹ä¼ é€’ç¼“å†²åŒºçš„æ ¸å¿ƒæ•°æ®ç»“æ„:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">native_handle</span> {
    <span class="hljs-type">int</span> version;        <span class="hljs-comment">// ç‰ˆæœ¬å·,å½“å‰å›ºå®šä¸ºsizeof(native_handle_t)</span>
    <span class="hljs-type">int</span> numFds;         <span class="hljs-comment">// æ–‡ä»¶æè¿°ç¬¦æ•°é‡</span>
    <span class="hljs-type">int</span> numInts;        <span class="hljs-comment">// æ•´æ•°æ•°é‡</span>
    <span class="hljs-type">int</span> data[<span class="hljs-number">0</span>];        <span class="hljs-comment">// æŸ”æ€§æ•°ç»„,å®é™…æ•°æ®</span>
                        <span class="hljs-comment">// data[0..numFds-1]: æ–‡ä»¶æè¿°ç¬¦(DMA-BUF FDs)</span>
                        <span class="hljs-comment">// data[numFds..numFds+numInts-1]: å…ƒæ•°æ®(stride/formatç­‰)</span>
} <span class="hljs-type">native_handle_t</span>;
</code></pre>
<p><strong>å…³é”®æœºåˆ¶</strong>:</p>
<ul>
<li><strong>æ–‡ä»¶æè¿°ç¬¦ä¼ é€’</strong>: é€šè¿‡Binderä¼ é€’FD,å®ç°é›¶æ‹·è´çš„è·¨è¿›ç¨‹å†…å­˜å…±äº«</li>
<li><strong>DMA-BUF</strong>: Linuxå†…æ ¸çš„DMA-BUFæœºåˆ¶å…è®¸å¤šä¸ªè®¾å¤‡(GPU/Display/Camera)ç›´æ¥è®¿é—®åŒä¸€å—ç‰©ç†å†…å­˜</li>
<li><strong>å…ƒæ•°æ®</strong>: å­˜å‚¨strideã€formatã€offsetç­‰ä¿¡æ¯,æ— éœ€é¢å¤–æŸ¥è¯¢</li>
</ul>
<blockquote>
<p><strong>æ€§èƒ½ä¼˜åŒ–è¦ç‚¹</strong>:</p>
<ul>
<li>â­ <strong>å†…å­˜æ± å¤ç”¨</strong>: BufferQueueç»´æŠ¤ç¼“å†²åŒºæ± ,é¿å…é¢‘ç¹åˆ†é…/é‡Šæ”¾</li>
<li>â­ <strong>Zero-copyä¼ è¾“</strong>: ä½¿ç”¨DMA-BUF FDä¼ é€’,æ— éœ€å†…å­˜æ‹·è´</li>
<li>â­ <strong>è·¨è¿›ç¨‹å…±äº«</strong>: é€šè¿‡Binderä¼ é€’FD,å¤šè¿›ç¨‹å¯è®¿é—®åŒä¸€ç‰©ç†å†…å­˜</li>
<li>â­ <strong>ç¡¬ä»¶åŠ é€Ÿæ”¯æŒ</strong>: GPU/Displayå¯ç›´æ¥DMAè®¿é—®,æ— éœ€CPUå¹²é¢„</li>
</ul>
</blockquote>
<h2 data-id="heading-12">äºŒã€Hardware Composer 3.0ç¡¬ä»¶åˆæˆ</h2>
<h3 data-id="heading-13">2.1 HWC 3.0æ¶æ„æ¦‚è§ˆ</h3>
<p>Hardware Composer (HWC) æ˜¯Androidæ˜¾ç¤ºç³»ç»Ÿä¸­è´Ÿè´£ç¡¬ä»¶åˆæˆçš„å…³é”®ç»„ä»¶ã€‚åœ¨Android 15ä¸­,HWCå·²ç»å‡çº§åˆ°3.0ç‰ˆæœ¬,ä½¿ç”¨AIDLæ¥å£æ›¿ä»£äº†ä¹‹å‰çš„HIDLã€‚</p>
<p>HWCçš„æ ¸å¿ƒèŒè´£:</p>
<ul>
<li>å†³å®šæ¯ä¸ªLayerä½¿ç”¨GPUåˆæˆè¿˜æ˜¯ç¡¬ä»¶Overlayåˆæˆ</li>
<li>ç®¡ç†ç¡¬ä»¶Overlayèµ„æº(é€šå¸¸æœ‰é™,å¦‚2-4ä¸ª)</li>
<li>åè°ƒDisplayç¡¬ä»¶è¿›è¡Œæœ€ç»ˆè¾“å‡º</li>
<li>æä¾›VSyncå’Œçƒ­æ’æ‹”äº‹ä»¶é€šçŸ¥</li>
</ul>
<h3 data-id="heading-14">2.2 åˆæˆç±»å‹ä¸ç­–ç•¥</h3>
<p>Android 15å®šä¹‰äº†7ç§åˆæˆç±»å‹,æ¯ç§å¯¹åº”ä¸åŒçš„ç¡¬ä»¶å¤„ç†æ–¹å¼ã€‚</p>
<h4 data-id="heading-15">åˆæˆç±»å‹è¯¦è§£</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/746a6640c60941c9bddf384ec0de27bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769347467&amp;x-signature=xMevAxYqwzk2Yb4ed94coOdxvaA%3D" alt="02-03-hwc-composition-strategy.png" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤º,HWC 3.0å®šä¹‰çš„åˆæˆç±»å‹åŒ…æ‹¬(æºç ä½äº<code>hardware/interfaces/graphics/composer/aidl/android/hardware/graphics/composer3/Composition.aidl</code>):</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Composition</span> {
    INVALID = <span class="hljs-number">0</span>,

    <span class="hljs-comment">/**
     * CLIENT: GPUåˆæˆ
     * SurfaceFlingerå¿…é¡»å°†æ­¤Layeråˆæˆåˆ°Client Target Bufferä¸­
     * HWCä¸å¾—è¯·æ±‚æ›´æ”¹æ­¤ç±»å‹
     */</span>
    CLIENT = <span class="hljs-number">1</span>,

    <span class="hljs-comment">/**
     * DEVICE: ç¡¬ä»¶Overlayåˆæˆ
     * HWCé€šè¿‡ç¡¬ä»¶Overlayæˆ–å…¶ä»–ç¡¬ä»¶æ–¹å¼å¤„ç†
     * validateDisplayæ—¶,HWCå¯ä»¥è¯·æ±‚æ”¹ä¸ºCLIENT
     */</span>
    DEVICE = <span class="hljs-number">2</span>,

    <span class="hljs-comment">/**
     * SOLID_COLOR: çº¯è‰²å›¾å±‚
     * HWCä½¿ç”¨setLayerColorè®¾ç½®çš„é¢œè‰²æ¸²æŸ“
     * å¦‚æœç¡¬ä»¶ä¸æ”¯æŒ,HWCåº”è¯·æ±‚æ”¹ä¸ºCLIENT
     */</span>
    SOLID_COLOR = <span class="hljs-number">3</span>,

    <span class="hljs-comment">/**
     * CURSOR: å…‰æ ‡å›¾å±‚
     * ç±»ä¼¼DEVICE,ä½†æ”¯æŒé€šè¿‡setCursorPositionå¼‚æ­¥æ›´æ–°ä½ç½®
     * å¦‚æœä¸æ”¯æŒ,HWCåº”è¯·æ±‚æ”¹ä¸ºDEVICEæˆ–CLIENT
     */</span>
    CURSOR = <span class="hljs-number">4</span>,

    <span class="hljs-comment">/**
     * SIDEBAND: æ—è·¯æµ
     * HWCç›´æ¥å¤„ç†ç¼“å†²åŒºæ›´æ–°å’ŒåŒæ­¥,æ— éœ€SurfaceFlingerä»‹å…¥
     * ä»…åœ¨æ”¯æŒCapability.SIDEBAND_STREAMçš„è®¾å¤‡ä¸Šå¯ç”¨
     */</span>
    SIDEBAND = <span class="hljs-number">5</span>,

    <span class="hljs-comment">/**
     * DISPLAY_DECORATION: æ˜¾ç¤ºè£…é¥°å±‚
     * ç”¨äºå±å¹•åˆ˜æµ·å’Œåœ†è§’çš„æŠ—é”¯é½¿å¤„ç†
     * ä»…åœ¨getDisplayDecorationSupportè¿”å›æœ‰æ•ˆå€¼æ—¶å¯ç”¨
     */</span>
    DISPLAY_DECORATION = <span class="hljs-number">6</span>,

    <span class="hljs-comment">/**
     * REFRESH_RATE_INDICATOR: åˆ·æ–°ç‡æŒ‡ç¤ºå™¨
     * ç±»ä¼¼DEVICE,ä½†æ›´æ–°ä¸è¢«è§†ä¸º"æ´»åŠ¨",ä¸ä¼šé‡ç½®çœç”µæ¨¡å¼è®¡æ—¶å™¨
     */</span>
    REFRESH_RATE_INDICATOR = <span class="hljs-number">7</span>,
}
</code></pre>
<h4 data-id="heading-16">åˆæˆç­–ç•¥å†³ç­–æµç¨‹</h4>
<p>SurfaceFlingeråœ¨æ¯å¸§åˆæˆæ—¶,é€šè¿‡ä»¥ä¸‹æµç¨‹å†³å®šæ¯ä¸ªLayerçš„åˆæˆæ–¹å¼:</p>
<ol>
<li>
<p><strong>SurfaceFlingeræäº¤Layeråˆ—è¡¨</strong></p>
<ul>
<li>è°ƒç”¨<code>IComposerClient::executeCommands()</code>æäº¤æ‰€æœ‰Layeré…ç½®</li>
</ul>
</li>
<li>
<p><strong>HWCéå†æ¯ä¸ªLayer,æ‰§è¡ŒvalidateDisplayé€»è¾‘</strong>:</p>
<p><strong>å†³ç­–ç‚¹1: ç¡¬ä»¶Overlayèµ„æºæ˜¯å¦å……è¶³?</strong></p>
<ul>
<li><strong>Yes</strong> â†’ æ ‡è®°ä¸ºDEVICEåˆæˆ(æœ€ä¼˜)</li>
<li><strong>No</strong> â†’ ç»§ç»­åˆ¤æ–­å…¶ä»–æ¡ä»¶</li>
</ul>
<p><strong>å†³ç­–ç‚¹2: æ˜¯å¦ä¸ºç‰¹æ®Šç±»å‹Layer?</strong></p>
<ul>
<li><strong>CURSORç±»å‹</strong> â†’ æ£€æŸ¥ç¡¬ä»¶æ˜¯å¦æ”¯æŒå¼‚æ­¥ä½ç½®æ›´æ–°
<ul>
<li>æ”¯æŒ â†’ CURSOR</li>
<li>ä¸æ”¯æŒ â†’ DEVICEæˆ–CLIENT</li>
</ul>
</li>
<li><strong>SOLID_COLORç±»å‹</strong> â†’ æ£€æŸ¥ç¡¬ä»¶æ˜¯å¦æ”¯æŒçº¯è‰²æ¸²æŸ“
<ul>
<li>æ”¯æŒ â†’ SOLID_COLOR</li>
<li>ä¸æ”¯æŒ â†’ CLIENT</li>
</ul>
</li>
<li><strong>SIDEBANDç±»å‹</strong> â†’ æ£€æŸ¥æ˜¯å¦æ”¯æŒæ—è·¯æµ
<ul>
<li>æ”¯æŒ â†’ SIDEBAND</li>
<li>ä¸æ”¯æŒ â†’ DEVICEæˆ–CLIENT</li>
</ul>
</li>
</ul>
<p><strong>é»˜è®¤</strong> â†’ CLIENTåˆæˆ(é€šè¿‡GPU)</p>
</li>
<li>
<p><strong>HWCè¿”å›ChangedCompositionTypes</strong></p>
<ul>
<li>å¦‚æœæŸäº›Layeræ— æ³•ä½¿ç”¨ç¡¬ä»¶åˆæˆ,HWCä¼šè¯·æ±‚SurfaceFlingeræ”¹ç”¨CLIENTåˆæˆ</li>
</ul>
</li>
<li>
<p><strong>SurfaceFlingeræ‰§è¡Œåˆæˆ</strong></p>
<ul>
<li>å¯¹äºCLIENTç±»å‹: ä½¿ç”¨GPUåˆæˆåˆ°Client Target Buffer</li>
<li>å¯¹äºDEVICEç±»å‹: ç›´æ¥ä¼ é€’ç»™Displayç¡¬ä»¶</li>
</ul>
</li>
</ol>
<h4 data-id="heading-17">CLIENT vs DEVICEåˆæˆå¯¹æ¯”</h4>













































<table><thead><tr><th>ç‰¹æ€§</th><th>CLIENTåˆæˆ(GPU)</th><th>DEVICEåˆæˆ(ç¡¬ä»¶Overlay)</th></tr></thead><tbody><tr><td><strong>æ‰§è¡Œè·¯å¾„</strong></td><td>Layer Buffer â†’ GPU â†’ Client Target â†’ Display</td><td>Layer Buffer â†’ Hardware Overlay â†’ Display</td></tr><tr><td><strong>åŠŸè€—</strong></td><td>è¾ƒé«˜(GPUå¯åŠ¨åŠŸè€—å¤§)</td><td>è¾ƒä½(æ— éœ€GPUå‚ä¸)</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>å–å†³äºGPUè´Ÿè½½</td><td>å›ºå®šå»¶è¿Ÿ,æ€§èƒ½ç¨³å®š</td></tr><tr><td><strong>ç‰¹æ•ˆæ”¯æŒ</strong></td><td>æ”¯æŒä»»æ„å¤æ‚ç‰¹æ•ˆ(æ—‹è½¬/ç¼©æ”¾/æ··åˆ)</td><td>å—ç¡¬ä»¶èƒ½åŠ›é™åˆ¶</td></tr><tr><td><strong>å†…å­˜æ‹·è´</strong></td><td>éœ€è¦æ‹·è´åˆ°Client Target</td><td>Zero-copyç›´æ¥DMA</td></tr><tr><td><strong>èµ„æºé™åˆ¶</strong></td><td>æ— é™åˆ¶(ä»…å—GPUæ€§èƒ½é™åˆ¶)</td><td>ç¡¬ä»¶Overlayæ•°é‡æœ‰é™(é€šå¸¸2-4ä¸ª)</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¤šçª—å£/ç‰¹æ•ˆä¸°å¯Œ/Layeræ•°é‡è¶…è¿‡Overlayæ•°</td><td>å…¨å±è§†é¢‘/ç®€å•UI</td></tr></tbody></table>
<blockquote>
<p><strong>å®æˆ˜ç»éªŒ</strong>:</p>
<ul>
<li>å…¨å±è§†é¢‘æ’­æ”¾æ—¶,åº”ä¼˜å…ˆä½¿ç”¨DEVICEåˆæˆ,æ˜¾è‘—é™ä½åŠŸè€—</li>
<li>å¤šçª—å£åœºæ™¯ä¸‹,ç”±äºOverlayæ•°é‡é™åˆ¶,å¤§éƒ¨åˆ†Layerä¼šé€€åŒ–ä¸ºCLIENTåˆæˆ</li>
<li>CURSORç±»å‹å¯ä»¥å®ç°é›¶å»¶è¿Ÿçš„é¼ æ ‡ç§»åŠ¨(æ— éœ€ç­‰å¾…VSync)</li>
</ul>
</blockquote>
<h3 data-id="heading-18">2.3 validateDisplayä¸presentDisplay</h3>
<p>HWCçš„æ ¸å¿ƒå·¥ä½œæµç¨‹åŒ…å«ä¸¤ä¸ªå…³é”®é˜¶æ®µ:</p>
<h4 data-id="heading-19">validateDisplayé˜¶æ®µ</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// SurfaceFlingerè°ƒç”¨</span>
CommandResultPayload[] <span class="hljs-built_in">executeCommands</span>(DisplayCommand[] commands);
</code></pre>
<p>åœ¨validateDisplayé˜¶æ®µ,HWCæ‰§è¡Œä»¥ä¸‹å·¥ä½œ:</p>
<ol>
<li><strong>æ£€æŸ¥æ¯ä¸ªLayerçš„åˆæˆç±»å‹è¯·æ±‚</strong></li>
<li><strong>è¯„ä¼°ç¡¬ä»¶èµ„æº</strong>(Overlayæ•°é‡ã€æ ¼å¼æ”¯æŒã€å˜æ¢æ”¯æŒç­‰)</li>
<li><strong>å†³ç­–åˆæˆç­–ç•¥</strong>:
<ul>
<li>å¦‚æœç¡¬ä»¶èµ„æºå……è¶³ä¸”æ”¯æŒLayerå±æ€§ â†’ ä¿æŒDEVICE</li>
<li>å¦‚æœç¡¬ä»¶èµ„æºä¸è¶³æˆ–ä¸æ”¯æŒ â†’ è¯·æ±‚æ”¹ä¸ºCLIENT</li>
</ul>
</li>
<li><strong>è¿”å›ChangedCompositionTypes</strong>:
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ChangedCompositionTypes</span> {
    <span class="hljs-type">long</span> display;
    ChangedCompositionLayer[] layers;  <span class="hljs-comment">// éœ€è¦æ”¹å˜ç±»å‹çš„Layeråˆ—è¡¨</span>
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-20">presentDisplayé˜¶æ®µ</h4>
<p>ç»è¿‡validateDisplayç¡®è®¤å,SurfaceFlingerè°ƒç”¨presentDisplayæäº¤æœ€ç»ˆåˆæˆ:</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æäº¤Displayè¾“å‡º</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">presentDisplay</span><span class="hljs-params">(<span class="hljs-type">long</span> display)</span></span>;
</code></pre>
<p>åœ¨presentDisplayé˜¶æ®µ:</p>
<ol>
<li><strong>CLIENTç±»å‹Layer</strong>: SurfaceFlingerå·²ç»ç”¨GPUåˆæˆåˆ°Client Target Buffer</li>
<li><strong>DEVICEç±»å‹Layer</strong>: HWCç›´æ¥é…ç½®ç¡¬ä»¶OverlayæŒ‡å‘Layer Buffer</li>
<li><strong>Displayç¡¬ä»¶æ‰«æè¾“å‡º</strong>:
<ul>
<li>Overlayå±‚ç›´æ¥DMAè¯»å–Layer Buffer</li>
<li>Client Targetä½œä¸ºåº•å±‚èƒŒæ™¯</li>
<li>ç¡¬ä»¶åˆæˆå™¨å°†å¤šä¸ªæºæ··åˆè¾“å‡ºåˆ°å±å¹•</li>
</ul>
</li>
</ol>
<h3 data-id="heading-21">2.4 IComposerClientå…³é”®æ¥å£</h3>
<p>è®©æˆ‘ä»¬çœ‹çœ‹HWC 3.0çš„æ ¸å¿ƒæ¥å£(æºç ä½äº<code>hardware/interfaces/graphics/composer/aidl/android/hardware/graphics/composer3/IComposerClient.aidl</code>):</p>
<pre><code class="hljs language-cpp" lang="cpp">interface IComposerClient {
    <span class="hljs-comment">// åˆ›å»ºLayer</span>
    <span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-title">createLayer</span><span class="hljs-params">(<span class="hljs-type">long</span> display, <span class="hljs-type">int</span> bufferSlotCount)</span></span>;

    <span class="hljs-comment">// é”€æ¯Layer</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">destroyLayer</span><span class="hljs-params">(<span class="hljs-type">long</span> display, <span class="hljs-type">long</span> layer)</span></span>;

    <span class="hljs-comment">// æ‰§è¡Œå‘½ä»¤(åŒ…å«validateDisplay/presentDisplayç­‰)</span>
    CommandResultPayload[] <span class="hljs-built_in">executeCommands</span>(DisplayCommand[] commands);

    <span class="hljs-comment">// è·å–æ˜¾ç¤ºèƒ½åŠ›</span>
    DisplayCapability[] <span class="hljs-built_in">getDisplayCapabilities</span>(<span class="hljs-type">long</span> display);

    <span class="hljs-comment">// è·å–HDRèƒ½åŠ›</span>
    <span class="hljs-function">HdrCapabilities <span class="hljs-title">getHdrCapabilities</span><span class="hljs-params">(<span class="hljs-type">long</span> display)</span></span>;

    <span class="hljs-comment">// è®¾ç½®ç”µæºæ¨¡å¼</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setPowerMode</span><span class="hljs-params">(<span class="hljs-type">long</span> display, PowerMode mode)</span></span>;

    <span class="hljs-comment">// è®¾ç½®VSyncä½¿èƒ½</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setVsyncEnabled</span><span class="hljs-params">(<span class="hljs-type">long</span> display, boolean enabled)</span></span>;

    <span class="hljs-comment">// æ³¨å†Œå›è°ƒ(VSync/Hotplug/Refreshç­‰)</span>
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">registerCallback</span><span class="hljs-params">(IComposerCallback callback)</span></span>;

    <span class="hljs-comment">// è·å–Overlayæ”¯æŒä¿¡æ¯</span>
    <span class="hljs-function">OverlayProperties <span class="hljs-title">getOverlaySupport</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<blockquote>
<p><strong>å…³é”®è¦ç‚¹</strong>:</p>
<ul>
<li>executeCommandsæ˜¯æ‰¹é‡æ“ä½œæ¥å£,ä¸€æ¬¡è°ƒç”¨å¯æ‰§è¡Œå¤šä¸ªå‘½ä»¤,å‡å°‘Binderè°ƒç”¨å¼€é”€</li>
<li>registerCallbackæ³¨å†Œçš„å›è°ƒä¼šå¼‚æ­¥é€šçŸ¥VSyncã€çƒ­æ’æ‹”ç­‰äº‹ä»¶</li>
<li>Android 15æ–°å¢äº†HDRè½¬æ¢èƒ½åŠ›æŸ¥è¯¢(<code>getHdrConversionCapabilities</code>)</li>
</ul>
</blockquote>
<h2 data-id="heading-22">ä¸‰ã€FenceåŒæ­¥æœºåˆ¶</h2>
<h3 data-id="heading-23">3.1 Fenceçš„ä½œç”¨</h3>
<p>åœ¨å¼‚æ­¥çš„å›¾å½¢ç³»ç»Ÿä¸­,GPUæ¸²æŸ“ã€SurfaceFlingeråˆæˆã€Displayæ‰«ææ˜¯å¹¶è¡Œæ‰§è¡Œçš„ã€‚Fence (åŒæ­¥æ …æ ) æœºåˆ¶ç”¨äºåè°ƒè¿™äº›å¼‚æ­¥æ“ä½œ,ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ã€‚</p>
<p><strong>æ ¸å¿ƒé—®é¢˜</strong>:</p>
<ul>
<li>GPUæ¸²æŸ“å®Œæˆå‰,SurfaceFlingerä¸èƒ½è¯»å–Buffer</li>
<li>SurfaceFlingeråˆæˆå®Œæˆå‰,Displayä¸èƒ½æ‰«æBuffer</li>
<li>Displayæ‰«æå®Œæˆå‰,Applicationä¸èƒ½é‡ç”¨Buffer</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>: ä½¿ç”¨acquireFenceå’ŒreleaseFenceæ ‡è®°å…³é”®åŒæ­¥ç‚¹ã€‚</p>
<h3 data-id="heading-24">3.2 FenceåŒæ­¥æ—¶åºå›¾</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dba0883313ec4e6a83f23f25717e7a6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769347467&amp;x-signature=L3GmTKYQKGwQdLO585TeaUP4cVE%3D" alt="02-04-fence-sync-timeline.png" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤º,ä¸€ä¸ªå®Œæ•´çš„å¸§ä»åº”ç”¨ç»˜åˆ¶åˆ°æ˜¾ç¤ºè¾“å‡ºçš„FenceåŒæ­¥æµç¨‹åŒ…æ‹¬:</p>
<h4 data-id="heading-25">é˜¶æ®µ1: åº”ç”¨ç»˜åˆ¶ (T0)</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. è·å–ç©ºé—²Buffer</span>
<span class="hljs-type">int</span> slot;
sp&lt;Fence&gt; fence;
surface-&gt;<span class="hljs-built_in">dequeueBuffer</span>(&amp;slot, &amp;fence);

<span class="hljs-comment">// 2. ç»˜åˆ¶å†…å®¹(OpenGL ES / Vulkan)</span>
<span class="hljs-comment">// GPUå¼‚æ­¥æ‰§è¡Œæ¸²æŸ“å‘½ä»¤</span>

<span class="hljs-comment">// 3. æäº¤Buffer,åˆ›å»ºacquireFence</span>
sp&lt;Fence&gt; acquireFence = <span class="hljs-built_in">eglDupNativeFenceFDANDROID</span>(display, sync);
surface-&gt;<span class="hljs-built_in">queueBuffer</span>(slot, acquireFence);
</code></pre>
<p><strong>acquireFence</strong>çš„å«ä¹‰: GPUæ¸²æŸ“å®Œæˆçš„ä¿¡å·é‡</p>
<h4 data-id="heading-26">é˜¶æ®µ2: ç­‰å¾…GPUå®Œæˆ (T0 â†’ T1)</h4>
<ul>
<li>GPUå¼‚æ­¥æ‰§è¡Œæ¸²æŸ“å‘½ä»¤</li>
<li>acquireFenceå¤„äºæœªä¿¡å·çŠ¶æ€</li>
<li>å½“GPUæ¸²æŸ“å®Œæˆ â†’ acquireFenceå‘å‡ºä¿¡å· (âœ… Signalç‚¹)</li>
</ul>
<h4 data-id="heading-27">é˜¶æ®µ3: SurfaceFlingeråˆæˆå‡†å¤‡ (T1)</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. è·å–Buffer</span>
BufferItem item;
consumer-&gt;<span class="hljs-built_in">acquireBuffer</span>(&amp;item);

<span class="hljs-comment">// 2. ç­‰å¾…acquireFence</span>
item.mFence-&gt;<span class="hljs-built_in">wait</span>(timeout);  <span class="hljs-comment">// ğŸ”µ Fence Waitç‚¹</span>

<span class="hljs-comment">// 3. æ‰§è¡Œåˆæˆ(GPUåˆæˆæˆ–HWCåˆæˆ)</span>
</code></pre>
<h4 data-id="heading-28">é˜¶æ®µ4: æäº¤Display (T2)</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. æäº¤ç»™Displayç¡¬ä»¶,åˆ›å»ºreleaseFence</span>
sp&lt;Fence&gt; releaseFence = hwc-&gt;<span class="hljs-built_in">presentDisplay</span>(display);

<span class="hljs-comment">// 2. releaseFence: Displayæ‰«æå®Œæˆçš„ä¿¡å·é‡</span>
</code></pre>
<p><strong>releaseFence</strong>çš„å«ä¹‰: Displayæ‰«æå®Œæˆçš„ä¿¡å·é‡</p>
<h4 data-id="heading-29">é˜¶æ®µ5: Displayæ‰«æ (T2 â†’ T3)</h4>
<ul>
<li>Displayç¡¬ä»¶å¼€å§‹æ‰«æè¾“å‡º</li>
<li>releaseFenceå¤„äºæœªä¿¡å·çŠ¶æ€</li>
<li>å½“Displayæ‰«æå®Œæˆ â†’ releaseFenceå‘å‡ºä¿¡å· (âœ… Signalç‚¹)</li>
</ul>
<h4 data-id="heading-30">é˜¶æ®µ6: ç¼“å†²åŒºå›æ”¶ (T3)</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. é‡Šæ”¾Buffer,ä¼ é€’releaseFence</span>
consumer-&gt;<span class="hljs-built_in">releaseBuffer</span>(slot, releaseFence);

<span class="hljs-comment">// 2. Bufferå›åˆ°FREEçŠ¶æ€</span>
<span class="hljs-comment">// 3. Applicationå¯ä»¥å†æ¬¡dequeueBufferè·å–æ­¤Buffer</span>
</code></pre>
<h3 data-id="heading-31">3.3 Fenceçš„å®ç°æœºåˆ¶</h3>
<p>Fenceåœ¨Linuxå†…æ ¸ä¸­é€šè¿‡Sync Frameworkå®ç°,Androidä½¿ç”¨çš„æ˜¯<code>sync_file</code> + æ–‡ä»¶æè¿°ç¬¦æœºåˆ¶ã€‚</p>
<h4 data-id="heading-32">Sync Timelineä¸Sync Point</h4>
<pre><code class="hljs language-ini" lang="ini">Timeline: GPU Timeline
  |
  |---- Sync Point 1 (Frame 100) -----&gt; acquireFence1 (<span class="hljs-attr">FD</span>=<span class="hljs-number">10</span>)
  |---- Sync Point 2 (Frame 101) -----&gt; acquireFence2 (<span class="hljs-attr">FD</span>=<span class="hljs-number">11</span>)
  |---- Sync Point 3 (Frame 102) -----&gt; acquireFence3 (<span class="hljs-attr">FD</span>=<span class="hljs-number">12</span>)
</code></pre>
<ul>
<li><strong>Sync Timeline</strong>: é©±åŠ¨ç»´æŠ¤çš„é€’å¢åºåˆ—(å¦‚GPUå‘½ä»¤åºåˆ—å·)</li>
<li><strong>Sync Point</strong>: Timelineä¸Šçš„æŸä¸ªç‚¹(å¦‚GPUå®ŒæˆFrame 100çš„æ¸²æŸ“)</li>
<li><strong>Sync File</strong>: å¯¹åº”ä¸€ä¸ªSync Pointçš„æ–‡ä»¶æè¿°ç¬¦,å¯é€šè¿‡<code>poll()</code>æˆ–<code>wait()</code>ç­‰å¾…ä¿¡å·</li>
</ul>
<h4 data-id="heading-33">Fence API</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fence</span> : <span class="hljs-keyword">public</span> LightRefBase&lt;Fence&gt; {
<span class="hljs-keyword">public</span>:
    <span class="hljs-type">static</span> <span class="hljs-type">const</span> sp&lt;Fence&gt; NO_FENCE;  <span class="hljs-comment">// æ— éœ€ç­‰å¾…çš„ç‰¹æ®ŠFence</span>

    <span class="hljs-comment">// ç­‰å¾…Fenceä¿¡å·,å¯è®¾ç½®è¶…æ—¶</span>
    <span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">wait</span><span class="hljs-params">(<span class="hljs-type">int</span> timeout)</span></span>;

    <span class="hljs-comment">// éé˜»å¡æ£€æŸ¥æ˜¯å¦å·²ä¿¡å·</span>
    <span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">getSignalTime</span><span class="hljs-params">(<span class="hljs-type">nsecs_t</span>* signalTime)</span></span>;

    <span class="hljs-comment">// è·å–æ–‡ä»¶æè¿°ç¬¦</span>
    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dup</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;

<span class="hljs-keyword">private</span>:
    <span class="hljs-type">int</span> mFenceFd;  <span class="hljs-comment">// å†…æ ¸sync_fileçš„æ–‡ä»¶æè¿°ç¬¦</span>
};
</code></pre>
<blockquote>
<p><strong>æ€§èƒ½ä¼˜åŒ–æç¤º</strong>:</p>
<ul>
<li>Fence waitæ˜¯é˜»å¡æ“ä½œ,åº”åœ¨å•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œ,é¿å…é˜»å¡ä¸»çº¿ç¨‹</li>
<li>å¯ä»¥ä½¿ç”¨<code>merge()</code>åˆå¹¶å¤šä¸ªFence,ç­‰å¾…æ‰€æœ‰æ¡ä»¶æ»¡è¶³</li>
<li>å·²ä¿¡å·çš„Fenceå¯ä»¥ç”¨NO_FENCEæ›¿ä»£,å‡å°‘FDä¼ é€’å¼€é”€</li>
</ul>
</blockquote>
<h3 data-id="heading-34">3.4 å»¶è¿Ÿåˆ†æ</h3>
<p>ä»ä¸Šè¿°æ—¶åºå›¾å¯ä»¥æå–å‡ºå…³é”®æ€§èƒ½æŒ‡æ ‡:</p>



































<table><thead><tr><th>å»¶è¿Ÿç±»å‹</th><th>æ—¶é—´èŒƒå›´</th><th>å…¸å‹å€¼(60Hz)</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Renderingå»¶è¿Ÿ</strong></td><td>T0 â†’ T1</td><td>2-8ms</td><td>GPUæ¸²æŸ“æ—¶é—´,å–å†³äºåœºæ™¯å¤æ‚åº¦</td></tr><tr><td><strong>Compositionå»¶è¿Ÿ</strong></td><td>T1 â†’ T2</td><td>1-3ms</td><td>SurfaceFlingeråˆæˆæ—¶é—´</td></tr><tr><td><strong>Displayå»¶è¿Ÿ</strong></td><td>T2 â†’ T3</td><td>16.6ms</td><td>ä¸€ä¸ªVSyncå‘¨æœŸ,Displayæ‰«ææ—¶é—´</td></tr><tr><td><strong>æ€»å»¶è¿Ÿ</strong></td><td>T0 â†’ T3</td><td>20-28ms</td><td>ç«¯åˆ°ç«¯å»¶è¿Ÿ,çº¦1-2å¸§</td></tr></tbody></table>
<p><strong>ä¼˜åŒ–å»ºè®®</strong>:</p>
<ul>
<li>å‡å°‘Renderingå»¶è¿Ÿ: ä¼˜åŒ–æ¸²æŸ“å‘½ä»¤,ä½¿ç”¨Vulkanæ›¿ä»£OpenGL ES</li>
<li>å‡å°‘Compositionå»¶è¿Ÿ: ä¼˜å…ˆä½¿ç”¨DEVICEåˆæˆ,å‡å°‘GPUåˆæˆå¼€é”€</li>
<li>å‡å°‘Displayå»¶è¿Ÿ: ä½¿ç”¨VRR(Variable Refresh Rate)æŠ€æœ¯,åŠ¨æ€è°ƒæ•´åˆ·æ–°ç‡</li>
</ul>
<h2 data-id="heading-35">å››ã€å®æˆ˜è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-36">4.1 æŸ¥çœ‹BufferQueueçŠ¶æ€</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰Surfaceçš„BufferQueueçŠ¶æ€</span>
adb shell dumpsys SurfaceFlinger

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šåº”ç”¨çš„BufferQueue</span>
adb shell dumpsys SurfaceFlinger --list | grep com.example.app
adb shell dumpsys SurfaceFlinger &lt;layer_id&gt;
</code></pre>
<p>å…³é”®ä¿¡æ¯:</p>
<ul>
<li><code>mQueue</code>: å½“å‰é˜Ÿåˆ—ä¸­çš„Bufferæ•°é‡</li>
<li><code>mMaxAcquiredBufferCount</code>: æœ€å¤§å¯acquireæ•°é‡</li>
<li><code>mBufferAge</code>: Bufferçš„ä½¿ç”¨æ¬¡æ•°</li>
<li>FenceçŠ¶æ€: æ¯ä¸ªBufferçš„acquireFenceå’ŒreleaseFenceçŠ¶æ€</li>
</ul>
<h3 data-id="heading-37">4.2 æŸ¥çœ‹HWCåˆæˆç­–ç•¥</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰åˆæˆç±»å‹</span>
adb shell dumpsys SurfaceFlinger --display-info

<span class="hljs-comment"># å¼ºåˆ¶ä½¿ç”¨GPUåˆæˆ(è°ƒè¯•ç”¨)</span>
adb shell service call SurfaceFlinger 1008 i32 1  <span class="hljs-comment"># disable HWC</span>

<span class="hljs-comment"># æ¢å¤ç¡¬ä»¶åˆæˆ</span>
adb shell service call SurfaceFlinger 1008 i32 0  <span class="hljs-comment"># enable HWC</span>
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Layer com.example.app/MainActivity:</span>
  <span class="hljs-attr">Composition:</span> <span class="hljs-string">DEVICE</span>         <span class="hljs-comment"># ç¡¬ä»¶Overlayåˆæˆ</span>
  <span class="hljs-attr">CompositionType:</span> <span class="hljs-string">DEVICE</span>

<span class="hljs-attr">Layer StatusBar:</span>
  <span class="hljs-attr">Composition:</span> <span class="hljs-string">CLIENT</span>         <span class="hljs-comment"># GPUåˆæˆ</span>
  <span class="hljs-attr">CompositionType:</span> <span class="hljs-string">CLIENT</span>
</code></pre>
<h3 data-id="heading-38">4.3 æŸ¥çœ‹Fenceå»¶è¿Ÿ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹Fenceç»Ÿè®¡ä¿¡æ¯</span>
adb shell dumpsys SurfaceFlinger --fences

<span class="hljs-comment"># æŸ¥çœ‹GPU Timeline</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/sync/sw_sync
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Fence:</span> <span class="hljs-string">acquireFence</span> <span class="hljs-string">FD=45</span>
  <span class="hljs-attr">Signaled:</span> <span class="hljs-literal">Yes</span>
  <span class="hljs-attr">Signal Time:</span> <span class="hljs-number">1234567890</span> <span class="hljs-string">(2.5ms</span> <span class="hljs-string">ago)</span>

<span class="hljs-attr">Fence:</span> <span class="hljs-string">releaseFence</span> <span class="hljs-string">FD=46</span>
  <span class="hljs-attr">Signaled:</span> <span class="hljs-literal">No</span>
  <span class="hljs-attr">Timeout:</span> <span class="hljs-string">16ms</span>
</code></pre>
<h3 data-id="heading-39">4.4 æŠ“å–GraphicBufferå¿«ç…§</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æˆªå–å±å¹•(åŒ…å«æ‰€æœ‰Layer)</span>
adb shell screencap -p /sdcard/screenshot.png
adb pull /sdcard/screenshot.png

<span class="hljs-comment"># æŠ“å–ç‰¹å®šLayerçš„Buffer</span>
adb shell dumpsys SurfaceFlinger --capture-layer &lt;layer_name&gt;
</code></pre>
<h3 data-id="heading-40">4.5 ç›‘æ§å†…å­˜ä½¿ç”¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹Graphicså†…å­˜ç»Ÿè®¡</span>
adb shell dumpsys meminfo &lt;package_name&gt; | grep Graphics

<span class="hljs-comment"># æŸ¥çœ‹Grallocåˆ†é…æƒ…å†µ</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/ion/heaps/system
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹:</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Graphics:</span>        <span class="hljs-number">52340</span> <span class="hljs-string">kB</span>  <span class="hljs-comment"># GraphicBufferå ç”¨å†…å­˜</span>
<span class="hljs-attr">GL:</span>              <span class="hljs-number">8192 </span><span class="hljs-string">kB</span>   <span class="hljs-comment"># GPUé©±åŠ¨å†…å­˜</span>
</code></pre>
<h2 data-id="heading-41">äº”ã€Android 15çš„æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-42">5.1 Gralloc 5.0 AIDLæ¥å£</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5e3ac5ba4e94ba782b7c7b9d80226c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769347467&amp;x-signature=FN%2BZLaJ0v6pjAto1BImbZZjiaII%3D" alt="02-05-gralloc-allocation-flow.png" loading="lazy"/></p>
<p>Android 15å°†Grallocä»HIDLè¿ç§»åˆ°AIDL,å¸¦æ¥ä»¥ä¸‹æ”¹è¿›:</p>
<ul>
<li>æ›´å¥½çš„ç‰ˆæœ¬å…¼å®¹æ€§</li>
<li>æ›´ä½çš„Binderè°ƒç”¨å¼€é”€</li>
<li>æ”¯æŒè·¨è¯­è¨€å®ç°(C++/Rust/Java)</li>
</ul>
<h3 data-id="heading-43">5.2 HWC 3.0å¢å¼º</h3>
<ul>
<li>æ–°å¢<code>REFRESH_RATE_INDICATOR</code>åˆæˆç±»å‹,ç”¨äºè‡ªé€‚åº”åˆ·æ–°ç‡</li>
<li>æ”¯æŒ<code>notifyExpectedPresent()</code>æ—©æœŸæç¤º,ä¼˜åŒ–VRRåœºæ™¯</li>
<li>å¢å¼ºHDRè½¬æ¢èƒ½åŠ›æŸ¥è¯¢å’Œç­–ç•¥è®¾ç½®</li>
</ul>
<h3 data-id="heading-44">5.3 BufferQueueä¼˜åŒ–</h3>
<ul>
<li>å¼•å…¥<code>setMaxDequeuedBufferCount()</code>åŠ¨æ€è°ƒæ•´ç¼“å†²åŒºæ•°é‡</li>
<li>ä¼˜åŒ–Triple-bufferingç­–ç•¥,å‡å°‘Jank</li>
<li>æ”¹è¿›Fenceç­‰å¾…æœºåˆ¶,é™ä½å»¶è¿Ÿ</li>
</ul>
<h2 data-id="heading-45">æ€»ç»“</h2>
<p>æœ¬æ–‡æ·±å…¥åˆ†æäº†Android 15æ˜¾ç¤ºå­ç³»ç»Ÿçš„å›¾å½¢ç¼“å†²åŒºç®¡ç†å’Œç¡¬ä»¶åˆæˆæœºåˆ¶:</p>
<ol>
<li><strong>BufferQueueç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹</strong>æ˜¯åº”ç”¨ä¸SurfaceFlingerä¹‹é—´ä¼ é€’ç¼“å†²åŒºçš„æ¡¥æ¢,é€šè¿‡çŠ¶æ€æœºç®¡ç†ç¼“å†²åŒºç”Ÿå‘½å‘¨æœŸ</li>
<li><strong>GraphicBuffer</strong>å°è£…äº†å…±äº«å†…å­˜,é€šè¿‡native_handle_tå®ç°é›¶æ‹·è´è·¨è¿›ç¨‹ä¼ é€’</li>
<li><strong>Gralloc HAL</strong>æ ¹æ®usageæ ‡å¿—åˆ†é…ä¸åŒç±»å‹çš„ç‰©ç†å†…å­˜,æ”¯æŒGPU/Display/CPUå¤šæ–¹è®¿é—®</li>
<li><strong>HWC 3.0</strong>æ™ºèƒ½å†³ç­–åˆæˆç­–ç•¥,åœ¨ç¡¬ä»¶Overlayå’ŒGPUåˆæˆä¹‹é—´å¹³è¡¡æ€§èƒ½ä¸åŠŸè€—</li>
<li><strong>FenceåŒæ­¥æœºåˆ¶</strong>åè°ƒGPU/SurfaceFlinger/Displayçš„å¼‚æ­¥æ“ä½œ,ç¡®ä¿æ•°æ®ä¸€è‡´æ€§</li>
</ol>
<p>è¿™äº›æœºåˆ¶å…±åŒæ„æˆäº†Androidæ˜¾ç¤ºç³»ç»Ÿçš„é«˜æ€§èƒ½åŸºç¡€ã€‚ç†è§£è¿™äº›åº•å±‚åŸç†,èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬:</p>
<ul>
<li>ä¼˜åŒ–åº”ç”¨çš„æ¸²æŸ“æ€§èƒ½</li>
<li>è¯Šæ–­æ˜¾ç¤ºç›¸å…³çš„ç–‘éš¾é—®é¢˜</li>
<li>è¿›è¡Œç³»ç»Ÿçº§çš„æ€§èƒ½è°ƒä¼˜</li>
<li>ä¸ºåç»­çš„ROMå®šåˆ¶å’Œé©±åŠ¨å¼€å‘æ‰“ä¸‹åŸºç¡€</li>
</ul>
<h2 data-id="heading-46">å‚è€ƒèµ„æº</h2>
<h3 data-id="heading-47">æºç è·¯å¾„(AOSP 15)</h3>
<pre><code class="hljs language-bash" lang="bash">frameworks/native/libs/gui/              <span class="hljs-comment"># BufferQueueå®ç°</span>
frameworks/native/libs/ui/               <span class="hljs-comment"># GraphicBufferå®ç°</span>
frameworks/native/services/surfaceflinger/  <span class="hljs-comment"># SurfaceFlinger</span>
hardware/interfaces/graphics/composer/   <span class="hljs-comment"># HWC 3.0 AIDLæ¥å£</span>
hardware/interfaces/graphics/allocator/  <span class="hljs-comment"># Gralloc AIDLæ¥å£</span>
system/core/libsync/                     <span class="hljs-comment"># Fenceå®ç°</span>
</code></pre>
<h3 data-id="heading-48">å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fcore%2Fgraphics%2Farchitecture" target="_blank" title="https://source.android.com/docs/core/graphics/architecture" ref="nofollow noopener noreferrer">Graphics Architecture</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fcore%2Fgraphics%2Farch-bq-gralloc" target="_blank" title="https://source.android.com/docs/core/graphics/arch-bq-gralloc" ref="nofollow noopener noreferrer">BufferQueue and gralloc</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fcore%2Fgraphics%2Fhwc" target="_blank" title="https://source.android.com/docs/core/graphics/hwc" ref="nofollow noopener noreferrer">Hardware Composer HAL</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kernel.org%2Fdoc%2Fhtml%2Flatest%2Fdriver-api%2Fsync_file.html" target="_blank" title="https://www.kernel.org/doc/html/latest/driver-api/sync_file.html" ref="nofollow noopener noreferrer">Sync Framework</a></li>
</ul>
<h3 data-id="heading-49">æ¨èé˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felinux.org%2Fimages%2Fc%2Fc3%2FUnderstanding-Android-Graphics.pdf" target="_blank" title="https://elinux.org/images/c/c3/Understanding-Android-Graphics.pdf" ref="nofollow noopener noreferrer">Understanding Android Graphics Subsystem</a></li>
</ul>
<h3 data-id="heading-50">ç³»åˆ—æ–‡ç« </h3>
<ul>
<li><a href="https://juejin.cn/post/7595808703074910234" target="_blank" title="https://juejin.cn/post/7595808703074910234">ä¸Šä¸€ç¯‡ï¼šAndroid 15 æ˜¾ç¤ºå­ç³»ç»Ÿæ·±åº¦è§£æ(ä¸€)ï¼šæ˜¾ç¤ºæ¡†æ¶æ€»è§ˆä¸SurfaceFlingeræ ¸å¿ƒæœºåˆ¶</a></li>
</ul>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ ntl äº¤äº’å¼ç®¡ç† npm ä»»åŠ¡]]></title>    <link>https://juejin.cn/post/7596639774266556458</link>    <guid>https://juejin.cn/post/7596639774266556458</guid>    <pubDate>2026-01-19T02:52:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596639774266556458" data-draft-id="7596790037097005119" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ ntl äº¤äº’å¼ç®¡ç† npm ä»»åŠ¡"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-19T02:52:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«è½¦å¼ä½"/> <meta itemprop="url" content="https://juejin.cn/user/1345457960792808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ ntl äº¤äº’å¼ç®¡ç† npm ä»»åŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457960792808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«è½¦å¼ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:52:42.000Z" title="Mon Jan 19 2026 02:52:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ntl æ˜¯ä»€ä¹ˆï¼Ÿâ€”â€” åŸºäºå®˜ç½‘ä¿¡æ¯çš„ä»‹ç»</h2>
<p><strong>ntl</strong>ï¼ˆNode Task Listï¼‰æ˜¯ä¸€ä¸ªç®€æ´è€Œå¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå…¶æ ¸å¿ƒç›®æ ‡éå¸¸æ˜ç¡®ï¼š<strong>æä¾›ä¸€ç§äº¤äº’å¼çš„æ–¹å¼æ¥æµè§ˆå’Œè¿è¡Œå®šä¹‰åœ¨é¡¹ç›® <code>package.json</code> æ–‡ä»¶ä¸­çš„ <code>scripts</code> å‘½ä»¤</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e42e86b50f1417b8f02feb5e66f36d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr6L2m5Y-85L2N:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396159&amp;x-signature=pfFyoeHnD9h3sp0RSdwb2r%2BldJo%3D" alt="image.png" loading="lazy"/></p>
<p>æ ¹æ®å…¶å®˜æ–¹æ–‡æ¡£æè¿°ï¼Œntl çš„è®¾è®¡ç†å¿µæ˜¯<strong>æç®€ä¸»ä¹‰ï¼šé›¶é…ç½®ï¼Œå¼€ç®±å³ç”¨</strong>ã€‚å®ƒè‡ªåŠ¨åŒ–äº†æ‰‹åŠ¨è¾“å…¥ <code>npm run [script-name]</code> çš„è¿‡ç¨‹ï¼Œç‰¹åˆ«æ˜¯åœ¨é¡¹ç›®åŒ…å«å¤§é‡è„šæœ¬æ—¶ï¼ˆä¾‹å¦‚ <code>build:prod</code>ã€<code>build:dev</code>ã€<code>test:unit</code>ã€<code>test:e2e</code>ã€<code>lint:es</code>ã€<code>lint:style</code> ç­‰ï¼‰ï¼Œæå¤§åœ°æå‡äº†å¼€å‘æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§</h3>
<ul>
<li>
<p><strong>è‡ªåŠ¨æ£€æµ‹è„šæœ¬</strong><br/>
è¿è¡Œ <code>ntl</code> æ—¶ï¼Œä¼šè‡ªåŠ¨è¯»å–å½“å‰ç›®å½•æˆ–çˆ¶çº§ç›®å½•çš„ <code>package.json</code>ï¼Œæå–æ‰€æœ‰å¯æ‰§è¡Œçš„è„šæœ¬å‘½ä»¤ã€‚</p>
</li>
<li>
<p><strong>äº¤äº’å¼åˆ—è¡¨ç•Œé¢</strong><br/>
ä½¿ç”¨ç±»ä¼¼ <code>fzf</code> çš„æ¨¡ç³Šæœç´¢äº¤äº’ç•Œé¢å±•ç¤ºè„šæœ¬ï¼Œæ”¯æŒé”®ç›˜ä¸Šä¸‹é”®é€‰æ‹©ï¼Œæˆ–ç›´æ¥è¾“å…¥å…³é”®å­—è¿‡æ»¤ã€‚</p>
</li>
<li>
<p><strong>ä¸€é”®æ‰§è¡Œ</strong><br/>
é€‰ä¸­ç›®æ ‡è„šæœ¬åæŒ‰å›è½¦ï¼Œå³å¯æ‰§è¡Œå¯¹åº”çš„ <code>npm run [script-name]</code> å‘½ä»¤ã€‚</p>
</li>
<li>
<p><strong>æ”¯æŒè„šæœ¬æè¿°</strong><br/>
è™½ç„¶é»˜è®¤é›¶é…ç½®ï¼Œä½†ä½ å¯ä»¥åœ¨ <code>package.json</code> ä¸­æ·»åŠ ä¸€ä¸ª <code>description</code> å­—æ®µï¼ˆä¸ <code>scripts</code> åŒçº§ï¼‰ï¼Œä¸ºæ¯ä¸ªè„šæœ¬æä¾›ä¸Šä¸‹æ–‡è¯´æ˜ã€‚ntl ä¼šè‡ªåŠ¨æ˜¾ç¤ºè¿™äº›æè¿°ï¼Œæå‡å›¢é˜Ÿåä½œæ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>è½»é‡ä¸“æ³¨</strong><br/>
åªåšä¸€ä»¶äº‹ï¼šç®¡ç†å’Œè¿è¡Œ <code>npm</code> è„šæœ¬ï¼Œä¿æŒå·¥å…·ç²¾ç®€é«˜æ•ˆã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€é—®é¢˜èƒŒæ™¯ä¸è§£å†³ï¼šntl æ— æ³•è¯†åˆ« Volta æ‰€è®¾ç½®çš„ Node ç‰ˆæœ¬</h2>
<p>åœ¨ä½¿ç”¨ ntl çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä½ åŒæ—¶ä½¿ç”¨ <strong>Volta</strong>ï¼ˆæˆ– NVMï¼‰ç­‰ Node ç‰ˆæœ¬ç®¡ç†å™¨ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªå¸¸è§ç—›ç‚¹ï¼š</p>
<blockquote>
<p>å°½ç®¡ä½ å·²åœ¨é¡¹ç›®ç›®å½•ä¸­é€šè¿‡ <code>volta pin node@16</code> å›ºå®šäº†ç‰¹å®š Node.js ç‰ˆæœ¬ï¼Œä½†æ‰§è¡Œ <code>ntl</code> æ—¶ï¼Œç³»ç»Ÿä»ä½¿ç”¨å…¨å±€æ—§ç‰ˆ Nodeï¼Œå¯¼è‡´ç¯å¢ƒé”™è¯¯ã€ä¾èµ–ä¸å…¼å®¹æˆ–æ„å»ºå¤±è´¥ã€‚</p>
</blockquote>
<h3 data-id="heading-3">é—®é¢˜èƒŒæ™¯åˆ†æ</h3>
<p>Volta çš„å·¥ä½œåŸç†æ˜¯é€šè¿‡åœ¨ <code>PATH</code> ç¯å¢ƒå˜é‡ä¸­æ’å…¥ <strong>Shimï¼ˆå«ç‰‡ï¼‰</strong> æ¥å®ç°ç‰ˆæœ¬åˆ‡æ¢ã€‚å½“ä½ è¿è¡Œ <code>node</code> æˆ– <code>npm</code> æ—¶ï¼ŒShim ä¼šæ‹¦æˆªè°ƒç”¨ï¼Œå¹¶æ ¹æ®å½“å‰é¡¹ç›®çš„ <code>package.json</code> åŠ¨æ€åŠ è½½æ­£ç¡®çš„ Node.js è§£é‡Šå™¨ã€‚</p>
<p>ç„¶è€Œï¼ŒæŸäº›<strong>å…¨å±€å®‰è£…çš„ CLI å·¥å…·</strong>ï¼ˆåŒ…æ‹¬æ—©æœŸé€šè¿‡ <code>npm -g</code> å®‰è£…çš„ ntlï¼‰åœ¨æ‰§è¡Œæ—¶å¯èƒ½<strong>ç»•è¿‡ Volta çš„ Shim æœºåˆ¶</strong>ï¼Œç›´æ¥è°ƒç”¨ç³»ç»Ÿè·¯å¾„ä¸­çš„ Nodeï¼Œä»è€Œé€ æˆç‰ˆæœ¬é”™ä½ã€‚</p>
<h3 data-id="heading-4">âœ… è§£å†³æ–¹æ¡ˆï¼šå°† ntl å®‰è£…åˆ° Volta çš„å·¥å…·é“¾ä¸­</h3>
<p>æœ€å¯é çš„è§£å†³æ–¹å¼æ˜¯<strong>è®© Volta ç®¡ç† ntl æœ¬èº«</strong>ï¼Œç¡®ä¿å…¶æ‰§è¡Œè·¯å¾„ç»è¿‡ Volta çš„ Shim å±‚ã€‚</p>
<h3 data-id="heading-5">æ“ä½œæ­¥éª¤</h3>
<ol>
<li>
<p><strong>å¸è½½ç°æœ‰å…¨å±€ ntl</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm uninstall -g ntl
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ Volta é‡æ–°å®‰è£… ntl</strong></p>
<pre><code class="hljs language-bash" lang="bash">volta install ntl
</code></pre>
</li>
</ol>
<blockquote>
<p>ğŸ’¡ <strong>è¯´æ˜</strong>ï¼šVolta ä¼šå°† <code>ntl</code> é“¾æ¥åˆ°ä½ å½“å‰é»˜è®¤çš„ Node ç‰ˆæœ¬ã€‚å…³é”®åœ¨äºï¼Œ<strong>ä¹‹åæ— è®ºä½ åœ¨å“ªä¸ªé¡¹ç›®ç›®å½•ä¸‹è¿è¡Œ <code>ntl</code>ï¼ŒVolta çš„ Shim éƒ½ä¼šæ ¹æ®å½“å‰ç›®å½•çš„ <code>package.json</code> é…ç½®åŠ¨æ€é€‰æ‹©æ­£ç¡®çš„ Node ç¯å¢ƒ</strong>ï¼Œä»è€Œä¿è¯ä¸€è‡´æ€§ã€‚</p>
</blockquote>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œåœ¨å·²é€šè¿‡ <code>volta pin</code> å›ºå®š Node ç‰ˆæœ¬çš„é¡¹ç›®ä¸­ï¼Œ<code>ntl</code> å°†èƒ½æ­£ç¡®è¯†åˆ«å¹¶ä½¿ç”¨é¡¹ç›®æ‰€éœ€çš„ Node.js ç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€å¸¸è§é—®é¢˜ä¸è§£ç­”ï¼ˆFAQï¼‰</h2>
<h3 data-id="heading-7">Q1: <code>ntl</code> å‘½ä»¤æ‰§è¡Œåæç¤ºâ€œæ‰¾ä¸åˆ° package.jsonâ€ï¼Ÿ</h3>
<p><strong>A</strong>: ç¡®ä¿ä½ åœ¨<strong>é¡¹ç›®æ ¹ç›®å½•</strong>æ‰§è¡Œ <code>ntl</code>ã€‚<br/>
ntl ä¼šä»å½“å‰ç›®å½•å‘ä¸Šé€’å½’æŸ¥æ‰¾ <code>package.json</code>ã€‚è‹¥åœ¨ç©ºç›®å½•æˆ–æ·±å±‚å­ç›®å½•ä¸­è¿è¡Œï¼Œå¯èƒ½æ— æ³•å®šä½ã€‚</p>
<hr/>
<h3 data-id="heading-8">Q2: Windows ç”¨æˆ·ä½¿ç”¨ <code>ntl</code> é‡åˆ°å‘½ä»¤å†²çªï¼Ÿ</h3>
<p><strong>A</strong>: åœ¨ Windows ä¸Šï¼Œ<strong>Netlify CLI</strong> ä¹Ÿæä¾›äº†ä¸€ä¸ªåä¸º <code>ntl</code> çš„åˆ«åï¼Œå¯èƒ½å¯¼è‡´è·¯å¾„å†²çªã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>åœ¨ CMD ä¸­è¿è¡Œï¼š
<pre><code class="hljs language-cmd" lang="cmd">where ntl
</code></pre>
</li>
<li>åœ¨ PowerShell ä¸­è¿è¡Œï¼š
<pre><code class="hljs language-powershell" lang="powershell">Get-Command ntl
</code></pre>
</li>
</ul>
<p>è‹¥ç¡®è®¤æ˜¯ Netlify CLI å ç”¨ï¼Œå¯é€‰æ‹©ï¼š</p>
<ul>
<li>å¸è½½ Netlify CLIï¼ˆå¦‚éå¿…éœ€ï¼‰</li>
<li>æˆ–åšæŒä½¿ç”¨ <code>volta install ntl</code>ï¼Œç¡®ä¿ Volta ç®¡ç†çš„ <code>ntl</code> åœ¨ <code>PATH</code> ä¸­ä¼˜å…ˆçº§æ›´é«˜</li>
</ul>
<hr/>
<h3 data-id="heading-9">Q3: å¦‚ä½•ä¸º ntl æ·»åŠ è„šæœ¬æè¿°ï¼Ÿ</h3>
<p><strong>A</strong>: åœ¨ <code>package.json</code> ä¸­æ·»åŠ ä¸€ä¸ªä¸ <code>scripts</code> åŒçº§çš„ <code>description</code> å¯¹è±¡ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my-project"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node index.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"webpack --mode=production"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"jest"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ntl"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼Œç›‘å¬ 3000 ç«¯å£"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒä»£ç ï¼Œè¾“å‡ºåˆ° dist ç›®å½•"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•"</span>
      <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ·»åŠ åï¼Œ<code>ntl</code> çš„äº¤äº’ç•Œé¢å°†æ˜¾ç¤ºå¯¹åº”æè¿°ï¼Œä½¿ä»»åŠ¡åˆ—è¡¨æ›´æ¸…æ™°æ˜“æ‡‚ã€‚</p>
<hr/>
<h3 data-id="heading-10">Q4: <code>ntl</code> æ‰§è¡Œå¤±è´¥ï¼Œä½†æ‰‹åŠ¨ <code>npm run xxx</code> æˆåŠŸï¼Ÿ</h3>
<p><strong>A</strong>: æ­¤ç±»é—®é¢˜é€šå¸¸ç”±ä»¥ä¸‹åŸå› å¼•èµ·ï¼š</p>
<ul>
<li><strong>æƒé™ä¸è¶³</strong>ï¼šç¡®ä¿å½“å‰ç”¨æˆ·æœ‰æ‰§è¡Œè„šæœ¬çš„æƒé™ã€‚</li>
<li><strong>ç¯å¢ƒå˜é‡ç¼ºå¤±</strong>ï¼šå°¤å…¶åœ¨ CI/CD ç¯å¢ƒä¸­ï¼Œéœ€ç¡®è®¤ <code>PATH</code> åŒ…å« <code>npm</code> å’Œ <code>node</code> çš„æ­£ç¡®è·¯å¾„ã€‚</li>
<li><strong>Volta æœªç”Ÿæ•ˆ</strong>ï¼šç¡®è®¤ <code>ntl</code> æ˜¯é€šè¿‡ <code>volta install</code> å®‰è£…ï¼Œè€Œé <code>npm -g</code>ã€‚</li>
</ul>
<p>å»ºè®®åœ¨ CI è„šæœ¬ä¸­æ˜¾å¼ä½¿ç”¨ <code>volta run ntl</code> ä»¥ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p><strong>ntl</strong> æ˜¯ä¸€ä¸ªè½»é‡çº§ä½†åŠŸèƒ½å¼ºå¤§çš„å‰ç«¯å·¥ç¨‹åŒ–è¾…åŠ©å·¥å…·ï¼Œé€šè¿‡äº¤äº’å¼ç•Œé¢æå¤§ç®€åŒ–äº†æ—¥å¸¸ <code>npm</code> è„šæœ¬çš„æ‰§è¡Œæµç¨‹ã€‚</p>
<p>å½“ä¸ç°ä»£ Node.js ç‰ˆæœ¬ç®¡ç†å™¨ <strong>Volta</strong> ç»“åˆä½¿ç”¨æ—¶ï¼Œåªéœ€éµå¾ªä¸€ä¸ªå…³é”®åŸåˆ™ï¼š</p>
<blockquote>
<p><strong>ä½¿ç”¨ <code>volta install ntl</code> è€Œé <code>npm install -g ntl</code></strong></p>
</blockquote>
<p>è¿™æ ·å¯ç¡®ä¿ ntl å®Œå…¨çº³å…¥ Volta çš„ç‰ˆæœ¬æ§åˆ¶ä½“ç³»ï¼Œé¿å…ç¯å¢ƒé”™ä¹±ï¼Œæ‰“é€ <strong>æµç•…ã€ä¸€è‡´ä¸”é«˜æ•ˆ</strong>çš„æœ¬åœ°å¼€å‘ä½“éªŒã€‚</p>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>å°è´´å£«</strong>ï¼šå°† <code>ntl</code> åŠ å…¥ä½ çš„å‰ç«¯å·¥å…·ç®±ï¼Œå‘Šåˆ«è®°å¿†è„šæœ¬åç§°çš„çƒ¦æ¼ï¼Œè®©å¼€å‘æ›´ä¸“æ³¨ã€æ›´æ„‰æ‚¦ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ooderAI A2Aåè®® Skill åè®®åˆ†å†ŒV.06ï¼ˆç²¾è¯»ï¼‰]]></title>    <link>https://juejin.cn/post/7596488155303133203</link>    <guid>https://juejin.cn/post/7596488155303133203</guid>    <pubDate>2026-01-19T02:55:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596488155303133203" data-draft-id="7596768867230760979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ooderAI A2Aåè®® Skill åè®®åˆ†å†ŒV.06ï¼ˆç²¾è¯»ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-19T02:55:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ooderAI A2Aåè®® Skill åè®®åˆ†å†ŒV.06ï¼ˆç²¾è¯»ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:55:46.000Z" title="Mon Jan 19 2026 02:55:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>é€‚ç”¨äº Ooder æ™ºèƒ½ä½“ç³»ç»Ÿ</strong> | <strong>ç‰ˆæœ¬å·</strong>ï¼šv0.6 | <strong>æ›´æ–°æ—¥æœŸ</strong>ï¼š2026-01-18</p>
<h2 data-id="heading-0">1. æ¦‚è¿°</h2>
<p>Skill æ˜¯ Ooder æ™ºèƒ½ä½“ç³»ç»Ÿä¸­æä¾›ç‰¹å®šåŠŸèƒ½çš„<strong>åŸå­åŒ–æœåŠ¡å•å…ƒ</strong>ï¼Œé€šè¿‡ <strong>AI Bridge åè®®</strong> ä¸æ™ºèƒ½ä½“ã€è·¯ç”±æœåŠ¡ã€æ³¨å†Œä¸­å¿ƒç­‰ç»„ä»¶å®ç°æ ‡å‡†åŒ–é€šä¿¡ã€‚æœ¬åˆ†å†Œå®šä¹‰ Skill çš„éœ€æ±‚è§„æ ¼ã€æ¥å£åè®®ã€æ•°æ®æ¨¡å‹åŠå®‰å…¨äº¤äº’è§„èŒƒï¼Œæ˜¯ Skill å¼€å‘ã€éƒ¨ç½²ã€é›†æˆçš„æ ¸å¿ƒä¾æ®ã€‚</p>
<h3 data-id="heading-1">1.1 è®¾è®¡ç›®æ ‡</h3>
<ul>
<li><strong>åŠŸèƒ½æ¨¡å—åŒ–</strong>ï¼šå°†å•ä¸€æˆ–å…³è”åŠŸèƒ½å°è£…ä¸ºç‹¬ç«‹ Skillï¼Œé™ä½è€¦åˆåº¦</li>
<li><strong>èƒ½åŠ›å¯ç»„åˆ</strong>ï¼šæ”¯æŒ 1 ä¸ª Skill æ‰¿è½½å¤šä¸ª Capabilityï¼Œçµæ´»é€‚é…å¤æ‚ä¸šåŠ¡åœºæ™¯</li>
<li><strong>æ¥å£æ ‡å‡†åŒ–</strong>ï¼šç»Ÿä¸€æ³¨å†Œã€è°ƒç”¨ã€ç›‘æ§æ¥å£ï¼Œå®ç°è·¨è¯­è¨€/è·¨å¹³å°å…¼å®¹</li>
<li><strong>éƒ¨ç½²çµæ´»æ€§</strong>ï¼šæ”¯æŒå®¹å™¨åŒ–ã€è£¸æœºã€Serverless ç­‰å¤šéƒ¨ç½²å½¢æ€ï¼Œé€‚é…äº‘è¾¹ç«¯ç¯å¢ƒ</li>
</ul>
<h2 data-id="heading-2">2. Skill-Capability å…³ç³»</h2>
<h3 data-id="heading-3">2.1 å…³ç³»æ¨¡å‹ï¼ˆMermaid æ ¼å¼ï¼‰</h3>
<p>Skill ä¸ Capability ä¸º<strong>ä¸€å¯¹å¤š</strong>å…³è”å…³ç³»ï¼Œä¸€ä¸ª Skill å¯åŒ…å«å¤šä¸ªç‹¬ç«‹çš„ Capabilityï¼ŒCapability ä¸å¯è„±ç¦» Skill ç‹¬ç«‹å­˜åœ¨ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f99ff1d7053469184efd3695abb00f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396146&amp;x-signature=GZDFWPtYSZJXmgwkuAGAEJinL10%3D" alt="9823dbb6-30bd-47f9-8398-f142fba975e3.png" loading="lazy"/></p>
<h3 data-id="heading-4">2.2 å…³ç³»ç‰¹æ€§</h3>
<ul>
<li><strong>ç‹¬ç«‹æ€§</strong>ï¼šCapability çš„å‚æ•°å®šä¹‰ã€ç‰ˆæœ¬ç®¡ç†ç‹¬ç«‹äºå…¶ä»– Capability</li>
<li><strong>ç»„åˆæ€§</strong>ï¼šç›¸åŒ/ä¸åŒ Skill çš„ Capability å¯é€šè¿‡æ™ºèƒ½ä½“ç¼–æ’ï¼Œå®ç°å¤æ‚ä»»åŠ¡</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ”¯æŒè¿è¡Œæ—¶åŠ¨æ€æ·»åŠ /ç§»é™¤ Capabilityï¼Œæ— éœ€é‡å¯ Skill æœåŠ¡</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šSkill å’Œ Capability å‡éµå¾ª <strong>è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆSemVerï¼‰</strong>ï¼Œæ”¯æŒç°åº¦å‘å¸ƒ</li>
</ul>
<h2 data-id="heading-5">3. Skill éœ€æ±‚è§„æ ¼</h2>
<h3 data-id="heading-6">3.1 åŠŸèƒ½éœ€æ±‚</h3>









































<table><thead><tr><th>éœ€æ±‚ç¼–å·</th><th>éœ€æ±‚æè¿°</th><th>ä¼˜å…ˆçº§</th><th>éªŒæ”¶æ ‡å‡†</th></tr></thead><tbody><tr><td>SKILL-REQ-001</td><td>Skill åº”æ”¯æŒæ³¨å†Œåˆ° Ooder ç³»ç»Ÿæ³¨å†Œä¸­å¿ƒ</td><td>é«˜</td><td>æ³¨å†Œå 10s å†…å¯è¢«è·¯ç”±æœåŠ¡å‘ç°ï¼Œæ³¨å†Œä¿¡æ¯æŒä¹…åŒ–å­˜å‚¨</td></tr><tr><td>SKILL-REQ-002</td><td>Skill åº”æ”¯æŒä» Ooder ç³»ç»Ÿæ³¨é”€</td><td>é«˜</td><td>æ³¨é”€å 5s å†…åœæ­¢æ¥æ”¶æ–°è¯·æ±‚ï¼Œæ³¨å†Œä¿¡æ¯ä»ç¼“å­˜/æ•°æ®åº“ä¸­ç§»é™¤</td></tr><tr><td>SKILL-REQ-003</td><td>Skill åº”æ”¯æŒä¸€ä¸ª Skill å¯¹åº”å¤šä¸ª Capability</td><td>é«˜</td><td>å•ä¸ª Skill å¯æ³¨å†Œ â‰¥10 ä¸ª Capabilityï¼Œä¸”å„è‡ªç‹¬ç«‹å“åº”è°ƒç”¨</td></tr><tr><td>SKILL-REQ-004</td><td>Skill åº”æ”¯æŒçŠ¶æ€æŸ¥è¯¢</td><td>é«˜</td><td>å¯è¿”å›è¿è¡ŒçŠ¶æ€ã€è´Ÿè½½ç‡ã€Capability å¯ç”¨åˆ—è¡¨ç­‰ä¿¡æ¯</td></tr><tr><td>SKILL-REQ-005</td><td>Skill åº”æ”¯æŒç‰ˆæœ¬ç®¡ç†</td><td>é«˜</td><td>æ”¯æŒå¤šç‰ˆæœ¬å…±å­˜ï¼Œå¯é€šè¿‡ç‰ˆæœ¬å·ç²¾å‡†è°ƒç”¨æŒ‡å®šç‰ˆæœ¬ Skill</td></tr></tbody></table>
<h3 data-id="heading-7">3.2 éåŠŸèƒ½éœ€æ±‚</h3>



































<table><thead><tr><th>éœ€æ±‚ç¼–å·</th><th>éœ€æ±‚æè¿°</th><th>ä¼˜å…ˆçº§</th><th>éªŒæ”¶æ ‡å‡†</th></tr></thead><tbody><tr><td>SKILL-NREQ-001</td><td>Skill åº”æ”¯æŒé«˜å¹¶å‘è¯·æ±‚</td><td>é«˜</td><td>å•å®ä¾‹ç¨³å®šå¤„ç† 1000 QPS ä»¥ä¸Šè¯·æ±‚ï¼Œé”™è¯¯ç‡ â‰¤ 0.1%</td></tr><tr><td>SKILL-NREQ-002</td><td>Skill å“åº”æ—¶é—´åº”å°äº 500ms</td><td>é«˜</td><td>95% åˆ†ä½è¯·æ±‚å“åº”æ—¶é—´ &lt; 500msï¼Œ99% åˆ†ä½ &lt; 1000ms</td></tr><tr><td>SKILL-NREQ-003</td><td>Skill å¯ç”¨æ€§åº”è¾¾åˆ° 99.9%</td><td>é«˜</td><td>å¹´åº¦è®¡åˆ’å¤–åœæœºæ—¶é—´ â‰¤ 8.76 å°æ—¶ï¼Œæ”¯æŒæ•…éšœè‡ªåŠ¨æ¢å¤</td></tr><tr><td>SKILL-NREQ-004</td><td>Skill åº”å‘åå…¼å®¹</td><td>é«˜</td><td>æ–°ç‰ˆæœ¬ Skill å¯å…¼å®¹æ—§ç‰ˆæœ¬çš„è¯·æ±‚å‚æ•°æ ¼å¼ï¼Œæ— æ„ŸçŸ¥å‡çº§</td></tr></tbody></table>
<h2 data-id="heading-8">4. Skill æ¥å£å®šä¹‰</h2>
<p>æ‰€æœ‰æ¥å£å‡é‡‡ç”¨ <strong>RESTful é£æ ¼</strong>ï¼Œè¯·æ±‚/å“åº”æ•°æ®æ ¼å¼ä¸º JSONï¼Œå­—ç¬¦ç¼–ç ä¸º UTF-8ã€‚</p>
<h3 data-id="heading-9">4.1 æ³¨å†Œæ¥å£</h3>

























<table><thead><tr><th>æ¥å£åç§°</th><th>Skill æ³¨å†Œ</th></tr></thead><tbody><tr><td>URL</td><td><code>/api/v1/skills/register</code></td></tr><tr><td>æ–¹æ³•</td><td>POST</td></tr><tr><td>è®¤è¯</td><td>æ˜¯ï¼ˆåŸºäº JWT Tokenï¼‰</td></tr><tr><td>æƒé™</td><td>éœ€å…·å¤‡ <code>skill:register</code> æƒé™</td></tr></tbody></table>
<p><strong>è¯·æ±‚å‚æ•°</strong>ï¼ˆå¿…å¡«å­—æ®µåŠ ç²—ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"skill_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// UUIDï¼ŒSkill å”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Skill åç§°</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åŠŸèƒ½æè¿°</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼Œå¦‚ v1.0.0</span>
  <span class="hljs-attr">"endpoints"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Skill æœåŠ¡åœ°å€</span>
      <span class="hljs-attr">"protocol"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http|https|ws|wss"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é€šä¿¡åè®®</span>
      <span class="hljs-attr">"weight"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span> <span class="hljs-comment">// è´Ÿè½½å‡è¡¡æƒé‡ï¼Œé»˜è®¤ 1</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"capabilities"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"capability_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// UUIDï¼ŒCapability å”¯ä¸€æ ‡è¯†</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Capability åç§°</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// èƒ½åŠ›æè¿°</span>
      <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// èƒ½åŠ›åˆ†ç±»ï¼Œå¦‚ NLPã€CVã€Tool</span>
      <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Capability ç‰ˆæœ¬å·</span>
      <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"param1"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string|number|boolean|object|array"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å‚æ•°ç±»å‹</span>
          <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"boolean"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ˜¯å¦å¿…å¡«</span>
          <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span> <span class="hljs-comment">// å‚æ•°è¯´æ˜</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å“åº”å‚æ•°</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"skill_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"register_time"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"timestamp"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"expire_time"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"timestamp"</span> <span class="hljs-comment">// æ³¨å†Œæœ‰æ•ˆæœŸï¼Œæ°¸ä¹…æœ‰æ•ˆåˆ™ä¸º null</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-10">4.2 å‘½ä»¤æ‰§è¡Œæ¥å£</h3>

























<table><thead><tr><th>æ¥å£åç§°</th><th>å‘½ä»¤æ‰§è¡Œ</th></tr></thead><tbody><tr><td>URL</td><td><code>/api/v1/commands/execute</code></td></tr><tr><td>æ–¹æ³•</td><td>POST</td></tr><tr><td>è®¤è¯</td><td>æ˜¯</td></tr><tr><td>æƒé™</td><td>éœ€å…·å¤‡ <code>command:execute</code> æƒé™</td></tr></tbody></table>
<p><strong>è¯·æ±‚å‚æ•°</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"command_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å‘½ä»¤å”¯ä¸€æ ‡è¯†</span>
  <span class="hljs-attr">"skill_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç›®æ ‡ Skill ID</span>
  <span class="hljs-attr">"capability_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç›®æ ‡ Capability ID</span>
  <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"param1"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"value1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"param2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"value2"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"callback_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼‚æ­¥å›è°ƒåœ°å€ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-attr">"timeout"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span> <span class="hljs-comment">// è¶…æ—¶æ—¶é—´ï¼Œå•ä½ msï¼Œé»˜è®¤ 5000</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-11">4.3 å¥åº·æ£€æŸ¥æ¥å£</h3>

























<table><thead><tr><th>æ¥å£åç§°</th><th>å¥åº·æ£€æŸ¥</th></tr></thead><tbody><tr><td>URL</td><td><code>/health</code></td></tr><tr><td>æ–¹æ³•</td><td>GET</td></tr><tr><td>è®¤è¯</td><td>å¦</td></tr><tr><td>æƒé™</td><td>æ— </td></tr></tbody></table>
<p><strong>è¿”å›å‚æ•°</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"healthy|unhealthy|warning"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¥åº·çŠ¶æ€</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// Skill ç‰ˆæœ¬</span>
  <span class="hljs-attr">"uptime"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è¿è¡Œæ—¶é•¿ï¼Œå•ä½ s</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"timestamp"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ£€æŸ¥æ—¶é—´æˆ³</span>
  <span class="hljs-attr">"details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// æ‰©å±•å­—æ®µï¼Œå¯é€‰</span>
    <span class="hljs-attr">"cpu_usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// CPU ä½¿ç”¨ç‡</span>
    <span class="hljs-attr">"memory_usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å†…å­˜ä½¿ç”¨ç‡</span>
    <span class="hljs-attr">"capability_status"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// å„ Capability çŠ¶æ€</span>
      <span class="hljs-attr">"cap-id-1"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"enabled"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cap-id-2"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"disabled"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-12">5. Skill æ•°æ®æ¨¡å‹</h2>
<h3 data-id="heading-13">5.1 æ ¸å¿ƒæ•°æ®æ¨¡å‹å…³ç³»ï¼ˆMermaid æ ¼å¼ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c191e9c7cd14c8ead2af8e689df5d77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396146&amp;x-signature=XEW1rQI%2BAqyabX8ksILtbfa%2F9ZQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">5.2 å­—æ®µçº¦æŸè¯´æ˜</h3>
<ul>
<li>æ‰€æœ‰ <code>id</code> å­—æ®µå‡é‡‡ç”¨ <strong>UUID v4</strong> ç”Ÿæˆï¼Œç¡®ä¿å…¨å±€å”¯ä¸€æ€§</li>
<li><code>version</code> å­—æ®µéœ€éµå¾ª <code>ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·</code> æ ¼å¼ï¼ˆå¦‚ <code>1.2.3</code>ï¼‰</li>
<li><code>created_at</code>/<code>updated_at</code> å­—æ®µä¸º <strong>ISO 8601</strong> æ ¼å¼æ—¶é—´æˆ³ï¼ˆå¦‚ <code>2026-01-18T12:00:00Z</code>ï¼‰</li>
</ul>
<h2 data-id="heading-15">6. Skill åè®®äº¤äº’æµç¨‹</h2>
<h3 data-id="heading-16">6.1 Skill æ³¨å†Œæµç¨‹ï¼ˆMermaid æ ¼å¼ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2becf31f9c44ba798dd1eb920824e22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396146&amp;x-signature=MaawXPWZKZDrpPxVEH4mY0pC8rI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-17">6.2 Skill è°ƒç”¨æµç¨‹ï¼ˆMermaid æ ¼å¼ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7d737cd153e47d18d346a7dbc734106~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396146&amp;x-signature=my8Vcd1Oqxr%2FjX2mPVQGHrIpahU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-18">6.3 MCP Agent å†…éƒ¨ UDP å¹¿æ’­ä¸æœåŠ¡å‘ç°æµç¨‹</h3>
<blockquote>
<p><strong>é‡è¦çº¦æŸ</strong>ï¼šUDP å¹¿æ’­<strong>ä»…é™ MCP Agent å†…éƒ¨å±€åŸŸç½‘</strong>ä½¿ç”¨ï¼Œç¦æ­¢è·¨å­ç½‘ã€è·¨å…¬ç½‘ä¼ è¾“ï¼›æ‰€æœ‰å¹¿æ’­æ¶ˆæ¯å¿…é¡»æºå¸¦å®‰å…¨ç­¾åï¼Œé˜²æ­¢ä¼ªé€ å’Œé‡æ”¾æ”»å‡»ã€‚</p>
</blockquote>
<h4 data-id="heading-19">6.3.1 UDP é€šä¿¡æŠ€æœ¯è§„èŒƒ</h4>



































<table><thead><tr><th>é…ç½®é¡¹</th><th>å–å€¼</th><th>å¼ºåˆ¶çº¦æŸ</th></tr></thead><tbody><tr><td>UDP ç«¯å£</td><td>5000</td><td>ä¸å¯ä¿®æ”¹ï¼Œéœ€åœ¨é˜²ç«å¢™ä¸­æ”¾è¡Œ</td></tr><tr><td>å¹¿æ’­åœ°å€</td><td>255.255.255.255</td><td>ä»…é™æœ¬åœ°å­ç½‘å¹¿æ’­</td></tr><tr><td>ç¼“å†²åŒºå¤§å°</td><td>1024 å­—èŠ‚</td><td>æ¶ˆæ¯é•¿åº¦è¶…è¿‡åˆ™åˆ†ç‰‡ä¼ è¾“</td></tr><tr><td>è¶…æ—¶æ—¶é—´</td><td>5 ç§’</td><td>è¶…è¿‡è¶…æ—¶æœªæ”¶åˆ°å“åº”åˆ™é‡è¯• 1 æ¬¡</td></tr><tr><td>å¹¿æ’­é¢‘ç‡</td><td>30 ç§’</td><td>å¿ƒè·³å¹¿æ’­é—´éš”ï¼Œå¯é…ç½®</td></tr></tbody></table>
<h4 data-id="heading-20">6.3.2 å®‰å…¨å¹¿æ’­æ¶ˆæ¯æ ¼å¼</h4>
<ul>
<li>
<p><strong>å‘ç°è¯·æ±‚æ¶ˆæ¯</strong>ï¼ˆå¸¦ HMAC-SHA256 ç­¾åï¼‰
DISCOVER:SKILL:{agentId};{agentName};{agentType};{agentEndpoint};{timestamp};{signature}</p>
<ul>
<li><code>signature</code> è®¡ç®—è§„åˆ™ï¼š<code>HMAC-SHA256(é¢„å…±äº«å¯†é’¥, æ‹¼æ¥å­—ç¬¦ä¸²{agentId}{agentType}{timestamp})</code></li>
</ul>
</li>
<li>
<p><strong>åŠ å…¥å“åº”æ¶ˆæ¯</strong>ï¼ˆå¸¦ HMAC-SHA256 ç­¾åï¼‰
JOIN_RESPONSE:SKILL:{agentId};{agentType};{sceneId};{status};{timestamp};{signature}</p>
</li>
</ul>
<h4 data-id="heading-21">6.3.3 å®‰å…¨è®¤è¯æµç¨‹ï¼ˆMermaid æ ¼å¼ï¼‰</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/794bca2beff745f3aa8de63c99c8dbe0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396146&amp;x-signature=0TtEdyJ%2BVesZJnpfAyIcvJ5Vcgs%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-22">6.3.4 åè®®å®ç°å®‰å…¨è¦æ±‚</h4>
<ol>
<li><strong>ç½‘ç»œéš”ç¦»</strong>ï¼šMCP Agent å†…éƒ¨ç½‘ç»œéœ€ä¸å…¬ç½‘éš”ç¦»ï¼Œç¦æ­¢ UDP ç«¯å£æš´éœ²åœ¨å¤–ç½‘</li>
<li><strong>ç­¾åå¼ºåˆ¶</strong>ï¼šæ— ç­¾åæˆ–ç­¾åéªŒè¯å¤±è´¥çš„æ¶ˆæ¯ï¼Œ<strong>å¿…é¡»ç«‹å³ä¸¢å¼ƒ</strong>ï¼Œå¹¶è®°å½•å®‰å…¨å®¡è®¡æ—¥å¿—</li>
<li><strong>å¯†é’¥è½®æ¢</strong>ï¼šé¢„å…±äº«å¯†é’¥éœ€æ¯ 90 å¤©è½®æ¢ä¸€æ¬¡ï¼Œæ”¯æŒåŠ¨æ€æ›´æ–°</li>
<li><strong>æ—¥å¿—å®¡è®¡</strong>ï¼šæ‰€æœ‰ UDP é€šä¿¡éœ€è®°å½•å‘é€æ–¹ IPã€æ¶ˆæ¯å†…å®¹ã€ç­¾åéªŒè¯ç»“æœï¼Œæ—¥å¿—ç•™å­˜ â‰¥ 90 å¤©</li>
</ol>
<h2 data-id="heading-23">7. é”™è¯¯å¤„ç†</h2>
<h3 data-id="heading-24">7.1 Skill é”™è¯¯ç è§„èŒƒ</h3>















































<table><thead><tr><th>é”™è¯¯ç </th><th>æè¿°</th><th>HTTP çŠ¶æ€ç </th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>2001</td><td>Skill ä¸å­˜åœ¨</td><td>404</td><td>è¯·æ±‚çš„ skill_id æœªæ³¨å†Œæˆ–å·²æ³¨é”€</td></tr><tr><td>2002</td><td>Capability ä¸å­˜åœ¨</td><td>404</td><td>è¯·æ±‚çš„ capability_id åœ¨ Skill ä¸­æœªå®šä¹‰</td></tr><tr><td>2003</td><td>Skill ä¸å¯ç”¨</td><td>503</td><td>Skill å¤„äºç»´æŠ¤ä¸­æˆ–æ‰€æœ‰èŠ‚ç‚¹ä¸‹çº¿</td></tr><tr><td>2004</td><td>Capability ä¸å¯ç”¨</td><td>503</td><td>Capability è¢«ç¦ç”¨æˆ–è¿è¡Œå¼‚å¸¸</td></tr><tr><td>2005</td><td>å‚æ•°é”™è¯¯</td><td>400</td><td>ç¼ºå°‘å¿…å¡«å‚æ•°/å‚æ•°ç±»å‹ä¸åŒ¹é…/å‚æ•°å€¼éæ³•</td></tr><tr><td>2006</td><td>æ‰§è¡Œè¶…æ—¶</td><td>504</td><td>Skill æ‰§è¡Œæ—¶é—´è¶…è¿‡è¯·æ±‚ timeout é™åˆ¶</td></tr></tbody></table>
<h3 data-id="heading-25">7.2 é”™è¯¯å“åº”æ ¼å¼ï¼ˆå…¨å±€ç»Ÿä¸€ï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2001"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é”™è¯¯ç </span>
  <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Skill not found"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// é”™è¯¯æè¿°ï¼ˆæ”¯æŒå¤šè¯­è¨€ï¼‰</span>
  <span class="hljs-attr">"details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// é”™è¯¯è¯¦æƒ…ï¼ˆå¯é€‰ï¼‰</span>
    <span class="hljs-attr">"skill_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"skill-123"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span> <span class="hljs-comment">// é“¾è·¯è¿½è¸ª IDï¼Œç”¨äºé—®é¢˜æ’æŸ¥</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2026-01-18T00:00:00Z"</span> <span class="hljs-comment">// é”™è¯¯å‘ç”Ÿæ—¶é—´</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-26">8. éƒ¨ç½²ä¸è¿è¡Œ</h2>
<h3 data-id="heading-27">8.1 éƒ¨ç½²æ–¹å¼å¯¹æ¯”</h3>





























<table><thead><tr><th>éƒ¨ç½²æ–¹å¼</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>éƒ¨ç½²å»ºè®®</th></tr></thead><tbody><tr><td>å®¹å™¨åŒ–éƒ¨ç½²ï¼ˆDocker/K8sï¼‰</td><td>ç¯å¢ƒéš”ç¦»ã€å¼¹æ€§ä¼¸ç¼©ã€ä¸€é”®éƒ¨ç½²</td><td>äº‘å¹³å°ã€å¾®æœåŠ¡é›†ç¾¤ã€è§„æ¨¡åŒ–éƒ¨ç½²</td><td>æ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œé€šè¿‡ K8s å®ç°è‡ªåŠ¨æ‰©ç¼©å®¹</td></tr><tr><td>è£¸æœºéƒ¨ç½²</td><td>æ€§èƒ½æŸè€—ä½ã€èµ„æºåˆ©ç”¨ç‡é«˜</td><td>ä¸“ç”¨æœåŠ¡å™¨ã€è¾¹ç¼˜è®¡ç®—èŠ‚ç‚¹ã€ä½å»¶è¿Ÿåœºæ™¯</td><td>é€‚åˆå¯¹æ€§èƒ½è¦æ±‚æé«˜çš„ Skill æœåŠ¡</td></tr><tr><td>Serverless éƒ¨ç½²ï¼ˆå‡½æ•°è®¡ç®—ï¼‰</td><td>æŒ‰éœ€è®¡è´¹ã€å…è¿ç»´ã€è‡ªåŠ¨æ‰©ç¼©å®¹</td><td>æµé‡æ³¢åŠ¨å¤§ã€è°ƒç”¨é¢‘ç‡ä½çš„é•¿å°¾ Skill</td><td>é€‚åˆéæ ¸å¿ƒã€ä½ä¼˜å…ˆçº§çš„ Skill åŠŸèƒ½</td></tr></tbody></table>
<h3 data-id="heading-28">8.2 è¿è¡Œç¯å¢ƒæœ€ä½è¦æ±‚</h3>








































<table><thead><tr><th>è¿è¡Œç¯å¢ƒ</th><th>ç‰ˆæœ¬è¦æ±‚</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>Python</td><td>3.9+</td><td>é€‚ç”¨äº Python å¼€å‘çš„ Skill</td></tr><tr><td>Go</td><td>1.18+</td><td>é€‚ç”¨äº Go å¼€å‘çš„ Skillï¼Œæ¨èé«˜å¹¶å‘åœºæ™¯</td></tr><tr><td>Node.js</td><td>16+</td><td>é€‚ç”¨äºå‰ç«¯ä¸€ä½“åŒ– Skill å¼€å‘</td></tr><tr><td>Java</td><td>11+</td><td>é€‚ç”¨äºä¼ä¸šçº§å¤æ‚ä¸šåŠ¡ Skill</td></tr><tr><td>å†…å­˜</td><td>1GB+</td><td>å»ºè®®æ ¹æ®å¹¶å‘é‡è°ƒæ•´ï¼Œé«˜å¹¶å‘åœºæ™¯ â‰¥ 4GB</td></tr><tr><td>CPU</td><td>1æ ¸+</td><td>å»ºè®® 2 æ ¸åŠä»¥ä¸Šï¼Œæ”¯æŒå¤šçº¿ç¨‹å¤„ç†</td></tr></tbody></table>
<h2 data-id="heading-29">9. ç›‘æ§ä¸ç»´æŠ¤</h2>
<h3 data-id="heading-30">9.1 æ ¸å¿ƒç›‘æ§æŒ‡æ ‡ï¼ˆéœ€æ¥å…¥ Ooder ç›‘æ§å¹³å°ï¼‰</h3>





























<table><thead><tr><th>æŒ‡æ ‡åˆ†ç±»</th><th>å…·ä½“æŒ‡æ ‡</th><th>ç›‘æ§é˜ˆå€¼</th><th>å‘Šè­¦ç­–ç•¥</th></tr></thead><tbody><tr><td>ä¸šåŠ¡æŒ‡æ ‡</td><td>QPSã€è¯·æ±‚æˆåŠŸç‡ã€å“åº”æ—¶é—´</td><td>å“åº”æ—¶é—´ &gt; 500ms æŒç»­ 1min</td><td>è§¦å‘ä¸€çº§å‘Šè­¦</td></tr><tr><td>èµ„æºæŒ‡æ ‡</td><td>CPU ä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€ç£ç›˜ä½¿ç”¨ç‡</td><td>CPU ä½¿ç”¨ç‡ &gt; 80% æŒç»­ 5min</td><td>è§¦å‘äºŒçº§å‘Šè­¦</td></tr><tr><td>å¯ç”¨æ€§æŒ‡æ ‡</td><td>æœåŠ¡åœ¨çº¿ç‡ã€å¥åº·æ£€æŸ¥é€šè¿‡ç‡</td><td>å¥åº·æ£€æŸ¥å¤±è´¥ç‡ &gt; 10%</td><td>è§¦å‘ä¸‰çº§å‘Šè­¦</td></tr></tbody></table>
<h3 data-id="heading-31">9.2 æ—¥å¿—ç®¡ç†è§„èŒƒ</h3>



































<table><thead><tr><th>æ—¥å¿—ç±»å‹</th><th>è®°å½•å†…å®¹</th><th>å­˜å‚¨å‘¨æœŸ</th><th>å­˜å‚¨ä»‹è´¨</th></tr></thead><tbody><tr><td>è®¿é—®æ—¥å¿—</td><td>è¯·æ±‚ URLã€è¯·æ±‚å‚æ•°ã€å“åº”çŠ¶æ€ã€è€—æ—¶</td><td>7 å¤©</td><td>æ—¥å¿—æ–‡ä»¶/ELK</td></tr><tr><td>é”™è¯¯æ—¥å¿—</td><td>é”™è¯¯ç ã€é”™è¯¯å †æ ˆã€è¯·æ±‚ä¸Šä¸‹æ–‡ã€trace_id</td><td>30 å¤©</td><td>æ—¥å¿—æ–‡ä»¶/ELK</td></tr><tr><td>å®¡è®¡æ—¥å¿—</td><td>æ³¨å†Œ/æ³¨é”€ã€æƒé™å˜æ›´ã€é…ç½®ä¿®æ”¹ç­‰å…³é”®æ“ä½œ</td><td>90 å¤©</td><td>æ•°æ®åº“ï¼ˆä¸å¯ç¯¡æ”¹ï¼‰</td></tr><tr><td>æ€§èƒ½æ—¥å¿—</td><td>æ¥å£è€—æ—¶ã€èµ„æºä½¿ç”¨ç‡ã€å¹¶å‘æ•°</td><td>14 å¤©</td><td>æ—¶åºæ•°æ®åº“ï¼ˆå¦‚ Prometheusï¼‰</td></tr></tbody></table>
<h2 data-id="heading-32">10. å…¼å®¹æ€§</h2>
<h3 data-id="heading-33">10.1 å‘åå…¼å®¹ï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰</h3>
<ul>
<li>æ–°ç‰ˆæœ¬ Skill å¿…é¡»å…¼å®¹æ—§ç‰ˆæœ¬çš„ <strong>API æ¥å£</strong>å’Œ<strong>æ•°æ®æ ¼å¼</strong></li>
<li>æ–°å¢å‚æ•°å¿…é¡»ä¸º<strong>å¯é€‰å‚æ•°</strong>ï¼Œä¸å¾—å½±å“æ—§è¯·æ±‚çš„æ­£å¸¸æ‰§è¡Œ</li>
<li>é”™è¯¯ç å®šä¹‰ä¸å¾—ä¿®æ”¹ï¼Œæ–°å¢é”™è¯¯ç éœ€åœ¨ 2000 ä»¥åæ‰©å±•</li>
</ul>
<h3 data-id="heading-34">10.2 å‘å‰å…¼å®¹ï¼ˆæ¨èå®è·µï¼‰</h3>
<ul>
<li>æ”¯æŒ<strong>æ¸è¿›å¼åŠŸèƒ½ç°åº¦</strong>ï¼Œé€šè¿‡é…ç½®å¼€å…³æ§åˆ¶æ–°åŠŸèƒ½æ˜¯å¦å¯ç”¨</li>
<li>å®¢æˆ·ç«¯å¯é€šè¿‡ <code>Accept-Version</code> è¯·æ±‚å¤´æŒ‡å®š Skill ç‰ˆæœ¬ï¼Œå®ç°å¤šç‰ˆæœ¬å…±å­˜</li>
<li>æ•°æ®æ¨¡å‹æ–°å¢å­—æ®µæ—¶ï¼Œéœ€æä¾›é»˜è®¤å€¼ï¼Œç¡®ä¿æ—§å®¢æˆ·ç«¯èƒ½æ­£å¸¸è§£æ</li>
</ul>
<hr/>
<h2 data-id="heading-35">æ–‡æ¡£ä½¿ç”¨è¯´æ˜</h2>
<ol>
<li>æœ¬åè®®åˆ†å†Œä¸º OoderAI Skill å¼€å‘çš„<strong>å¼ºåˆ¶æ ‡å‡†</strong>ï¼Œæ‰€æœ‰ Skill éœ€éµå¾ªæœ¬è§„èŒƒ</li>
<li>åè®®å˜æ›´éœ€é€šè¿‡ Ooder æŠ€æœ¯å§”å‘˜ä¼šè¯„å®¡ï¼Œå˜æ›´åä¼šåŒæ­¥æ›´æ–°ç‰ˆæœ¬å·</li>
<li>é…å¥—èµ„æºï¼šSkill å¼€å‘ SDKã€Demo å·¥ç¨‹ã€æ¥å£æµ‹è¯•å·¥å…·å¯ä» Ooder å¼€å‘è€…å¹³å°è·å–</li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GenericRdbHelper - HarmonyOS æ•°æ®åº“ORMå·¥å…· (ArkTSç‰ˆ) æ¨ªç©ºå‡ºä¸–]]></title>    <link>https://juejin.cn/post/7596276978808979499</link>    <guid>https://juejin.cn/post/7596276978808979499</guid>    <pubDate>2026-01-18T13:39:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596276978808979499" data-draft-id="7596276978808946731" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GenericRdbHelper - HarmonyOS æ•°æ®åº“ORMå·¥å…· (ArkTSç‰ˆ) æ¨ªç©ºå‡ºä¸–"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2026-01-18T13:39:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xq9527"/> <meta itemprop="url" content="https://juejin.cn/user/1239904848712184"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GenericRdbHelper - HarmonyOS æ•°æ®åº“ORMå·¥å…· (ArkTSç‰ˆ) æ¨ªç©ºå‡ºä¸–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904848712184/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xq9527
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:39:42.000Z" title="Sun Jan 18 2026 13:39:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    35
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GenericRdbHelper - HarmonyOS æ•°æ®åº“ORMå·¥å…· (ArkTSç‰ˆ)</h2>
<h3 data-id="heading-1">ç®€ä»‹</h3>
<p><code>GenericRdbHelper</code> æ˜¯ä¸€ä¸ªä¸º HarmonyOS åº”ç”¨å¼€å‘çš„è½»é‡çº§ ORM å·¥å…·ç±»,<strong>å®Œå…¨ç¬¦åˆ ArkTS è§„èŒƒ</strong>,ä¸ä½¿ç”¨ <code>any</code> ç±»å‹ã€è£…é¥°å™¨ç­‰ TypeScript ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-2">ä¸»è¦ç‰¹æ€§</h3>
<ul>
<li><strong>ArkTS å…¼å®¹</strong>: å®Œå…¨ç¬¦åˆ ArkTS ç¼–è¯‘å™¨è§„èŒƒ</li>
<li><strong>æ¥å£é©±åŠ¨</strong>: é€šè¿‡å®ç° <code>IEntity</code> æ¥å£å®šä¹‰è¡¨ç»“æ„</li>
<li><strong>ç±»å‹å®‰å…¨</strong>: ä½¿ç”¨æ˜ç¡®çš„ç±»å‹å®šä¹‰,æ—  <code>any</code> ç±»å‹</li>
<li><strong>å®Œæ•´çš„ CRUD</strong>: æ”¯æŒå¢åˆ æ”¹æŸ¥ã€æ‰¹é‡æ“ä½œã€æ¡ä»¶æŸ¥è¯¢ç­‰</li>
<li><strong>è‡ªåŠ¨å»ºè¡¨</strong>: æ ¹æ® Model é…ç½®è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨</li>
<li><strong>å·¥å‚æ¨¡å¼</strong>: ä½¿ç”¨å·¥å‚å‡½æ•°åˆ›å»ºå®ä½“å®ä¾‹</li>
</ul>
<h3 data-id="heading-3">å®‰è£…</h3>
<h4 data-id="heading-4">æ–¹å¼ä¸€ï¼šohpm å®‰è£…ï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">ohpm install genericrdb
</code></pre>
<h4 data-id="heading-5">æ–¹å¼äºŒï¼šæœ¬åœ°ä¾èµ–</h4>
<ol>
<li>å°† <code>GenericRdb</code> æ¨¡å—å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ç›®å½•ä¸­</li>
<li>åœ¨ä½ çš„æ¨¡å—çš„ <code>oh-package.json5</code> æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–ï¼š</li>
</ol>
<pre><code class="hljs language-json5" lang="json5">{
  "dependencies": {
    "genericrdb": "file:../GenericRdb"
  }
}
</code></pre>
<ol start="3">
<li>æ‰§è¡ŒåŒæ­¥å‘½ä»¤ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">ohpm install
</code></pre>
<h4 data-id="heading-6">å¯¼å…¥ä½¿ç”¨</h4>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ä»£ç ä¸­å¯¼å…¥æ‰€éœ€çš„ç±»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GenericRdbHelper</span>, <span class="hljs-title class_">IEntity</span>, <span class="hljs-title class_">TableConfig</span>, <span class="hljs-title class_">ColumnConfig</span>, <span class="hljs-title class_">ColumnType</span>, <span class="hljs-title class_">DbLog</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'genericrdb'</span>;
</code></pre>
<h3 data-id="heading-7">æ ¸å¿ƒæ–‡ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash">GenericRdb/src/main/ets/components/
â”œâ”€â”€ decorators/
â”‚   â””â”€â”€ DbDecorators.ets       <span class="hljs-comment"># å…ƒæ•°æ®å®šä¹‰(TableConfig, ColumnConfig, IEntity)</span>
â”œâ”€â”€ GenericRdbHelper.ets       <span class="hljs-comment"># é€šç”¨æ•°æ®åº“åŠ©æ‰‹</span>
â”œâ”€â”€ SdkRdbHelper.ets           <span class="hljs-comment"># æ—§ç‰ˆå·¥å…·ç±»</span>
â”œâ”€â”€ LocalSaveHelper.ts         <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨å·¥å…·</span>
â”œâ”€â”€ PaySsUtils.ts              <span class="hljs-comment"># æ”¯ä»˜å·¥å…·ç±»</span>
â””â”€â”€ DbLog.ts                   <span class="hljs-comment"># æ—¥å¿—å·¥å…·ç±»</span>
</code></pre>
<h3 data-id="heading-8">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-9">1. å®šä¹‰ Model ç±»</h4>
<p>Model ç±»éœ€è¦å®ç° <code>IEntity</code> æ¥å£:</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">TableConfig</span>, <span class="hljs-title class_">IEntity</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'genericrdb'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserInfo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IEntity</span> {
  <span class="hljs-keyword">public</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">tableConfig</span>: <span class="hljs-title class_">TableConfig</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {}

  <span class="hljs-comment">// å®šä¹‰è¡¨ç»“æ„</span>
  <span class="hljs-title function_">getTableConfig</span>(): <span class="hljs-title class_">TableConfig</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">UserInfo</span>.<span class="hljs-property">tableConfig</span> === <span class="hljs-literal">null</span>) {
      <span class="hljs-title class_">UserInfo</span>.<span class="hljs-property">tableConfig</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TableConfig</span>(<span class="hljs-string">'user_info'</span>)
        .<span class="hljs-title function_">addPrimaryKey</span>(<span class="hljs-string">'id'</span>, <span class="hljs-string">'id'</span>, <span class="hljs-literal">true</span>)
        .<span class="hljs-title function_">addTextColumn</span>(<span class="hljs-string">'username'</span>, <span class="hljs-string">'username'</span>, <span class="hljs-literal">true</span>)
        .<span class="hljs-title function_">addTextColumn</span>(<span class="hljs-string">'password'</span>, <span class="hljs-string">'password'</span>, <span class="hljs-literal">true</span>)
        .<span class="hljs-title function_">addTextColumn</span>(<span class="hljs-string">'email'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-literal">false</span>)
        .<span class="hljs-title function_">addIntColumn</span>(<span class="hljs-string">'age'</span>, <span class="hljs-string">'age'</span>, <span class="hljs-literal">false</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">UserInfo</span>.<span class="hljs-property">tableConfig</span>;
  }

  <span class="hljs-comment">// è½¬æ¢ä¸ºå€¼æ˜ å°„</span>
  <span class="hljs-title function_">toValueMap</span>(): <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt; {
    <span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt;();
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> &gt; <span class="hljs-number">0</span>) map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'id'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span>);
    map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'username'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span>);
    map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'password'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span>);
    map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'email'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">email</span>);
    map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'age'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span>);
    <span class="hljs-keyword">return</span> map;
  }

  <span class="hljs-comment">// ä»å€¼æ˜ å°„å¡«å……</span>
  <span class="hljs-title function_">fromValueMap</span>(<span class="hljs-attr">map</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt;): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> idVal = map.<span class="hljs-title function_">get</span>(<span class="hljs-string">'id'</span>);
    <span class="hljs-keyword">if</span> (idVal !== <span class="hljs-literal">null</span> &amp;&amp; idVal !== <span class="hljs-literal">undefined</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = idVal <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;
    }
    <span class="hljs-comment">// ... å…¶ä»–å­—æ®µç±»ä¼¼</span>
  }

  <span class="hljs-comment">// å·¥å‚æ–¹æ³•</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">createInstance</span>(): <span class="hljs-title class_">UserInfo</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
  }
}
</code></pre>
<h4 data-id="heading-10">2. åˆ›å»ºæ•°æ®åº“åŠ©æ‰‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GenericRdbHelper</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'genericrdb'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">UserInfo</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./model/UserInfo'</span>;

<span class="hljs-comment">// åˆ›å»ºæ¨¡æ¿å®ä¾‹å’Œå·¥å‚å‡½æ•°</span>
<span class="hljs-keyword">const</span> templateUser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
<span class="hljs-keyword">const</span> userHelper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericRdbHelper</span>(
  templateUser,
  <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">UserInfo</span>.<span class="hljs-title function_">createInstance</span>()
);

<span class="hljs-comment">// åˆå§‹åŒ–æ•°æ®åº“ (è‡ªåŠ¨åˆ›å»ºè¡¨)</span>
<span class="hljs-keyword">await</span> userHelper.<span class="hljs-title function_">initRdbStore</span>(<span class="hljs-title function_">getContext</span>(), <span class="hljs-string">'my_app.db'</span>);
</code></pre>
<h4 data-id="heading-11">3. æ‰§è¡Œ CRUD æ“ä½œ</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ’å…¥</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
user.<span class="hljs-property">username</span> = <span class="hljs-string">'å¼ ä¸‰'</span>;
user.<span class="hljs-property">password</span> = <span class="hljs-string">'123456'</span>;
<span class="hljs-keyword">const</span> rowId = <span class="hljs-keyword">await</span> userHelper.<span class="hljs-title function_">insert</span>(user);

<span class="hljs-comment">// æŸ¥è¯¢æ‰€æœ‰</span>
<span class="hljs-keyword">const</span> entities = <span class="hljs-keyword">await</span> userHelper.<span class="hljs-title function_">queryAll</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; entities.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">const</span> user = entities[i] <span class="hljs-keyword">as</span> <span class="hljs-title class_">UserInfo</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">username</span>);
}

<span class="hljs-comment">// æ ¹æ®ä¸»é”®æŸ¥è¯¢</span>
<span class="hljs-keyword">const</span> entity = <span class="hljs-keyword">await</span> userHelper.<span class="hljs-title function_">queryByPrimaryKey</span>(<span class="hljs-number">1</span>);
<span class="hljs-keyword">if</span> (entity) {
  <span class="hljs-keyword">const</span> user = entity <span class="hljs-keyword">as</span> <span class="hljs-title class_">UserInfo</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">username</span>);
}

<span class="hljs-comment">// æ›´æ–°</span>
user.<span class="hljs-property">age</span> = <span class="hljs-number">26</span>;
<span class="hljs-keyword">await</span> userHelper.<span class="hljs-title function_">update</span>(user, <span class="hljs-string">'id'</span>, <span class="hljs-string">'1'</span>);

<span class="hljs-comment">// åˆ é™¤</span>
<span class="hljs-keyword">await</span> userHelper.<span class="hljs-title function_">deleteByPrimaryKey</span>(<span class="hljs-number">1</span>);
</code></pre>
<h3 data-id="heading-12">API å‚è€ƒ</h3>
<h4 data-id="heading-13">TableConfig æ–¹æ³•</h4>

























<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>addPrimaryKey(propertyName, columnName, autoIncrement)</code></td><td>æ·»åŠ ä¸»é”®åˆ—</td></tr><tr><td><code>addTextColumn(propertyName, columnName, notNull)</code></td><td>æ·»åŠ æ–‡æœ¬åˆ—</td></tr><tr><td><code>addIntColumn(propertyName, columnName, notNull, defaultValue)</code></td><td>æ·»åŠ æ•´æ•°åˆ—</td></tr><tr><td><code>addRealColumn(propertyName, columnName, notNull, defaultValue)</code></td><td>æ·»åŠ æµ®ç‚¹åˆ—</td></tr></tbody></table>
<h4 data-id="heading-14">GenericRdbHelper æ–¹æ³•</h4>





































































<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>initRdbStore(context, dbName)</code></td><td>åˆå§‹åŒ–æ•°æ®åº“</td></tr><tr><td><code>insert(entity)</code></td><td>æ’å…¥å•æ¡è®°å½•</td></tr><tr><td><code>batchInsert(entities)</code></td><td>æ‰¹é‡æ’å…¥</td></tr><tr><td><code>update(entity, whereColumn, whereValue)</code></td><td>æ›´æ–°è®°å½•</td></tr><tr><td><code>insertOrUpdate(entity)</code></td><td>æ’å…¥æˆ–æ›´æ–°</td></tr><tr><td><code>queryAll()</code></td><td>æŸ¥è¯¢æ‰€æœ‰è®°å½•</td></tr><tr><td><code>query(whereColumn, whereValue)</code></td><td>æ¡ä»¶æŸ¥è¯¢</td></tr><tr><td><code>queryByPrimaryKey(value)</code></td><td>æ ¹æ®ä¸»é”®æŸ¥è¯¢</td></tr><tr><td><code>querySql(sql, args)</code></td><td>è‡ªå®šä¹‰SQLæŸ¥è¯¢</td></tr><tr><td><code>delete(whereColumn, whereValue)</code></td><td>åˆ é™¤è®°å½•</td></tr><tr><td><code>deleteByPrimaryKey(value)</code></td><td>æ ¹æ®ä¸»é”®åˆ é™¤</td></tr><tr><td><code>deleteAll()</code></td><td>åˆ é™¤æ‰€æœ‰è®°å½•</td></tr><tr><td><code>exists(columnName, value)</code></td><td>æ£€æŸ¥æ˜¯å¦å­˜åœ¨</td></tr><tr><td><code>count()</code></td><td>è·å–è®°å½•æ€»æ•°</td></tr><tr><td><code>close()</code></td><td>å…³é—­æ•°æ®åº“è¿æ¥</td></tr></tbody></table>
<h3 data-id="heading-15">æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>å®ç° IEntity æ¥å£</strong>: Model ç±»å¿…é¡»å®ç° <code>IEntity</code> æ¥å£çš„ä¸‰ä¸ªæ–¹æ³•</li>
<li><strong>å·¥å‚æ–¹æ³•</strong>: å¿…é¡»æä¾›é™æ€å·¥å‚æ–¹æ³•ç”¨äºåˆ›å»ºå®ä¾‹</li>
<li><strong>ç±»å‹è½¬æ¢</strong>: æŸ¥è¯¢ç»“æœéœ€è¦æ‰‹åŠ¨è½¬æ¢ä¸ºå…·ä½“ç±»å‹ (<code>entity as UserInfo</code>)</li>
<li><strong>é”™è¯¯å¤„ç†</strong>: ä½¿ç”¨ <code>try-catch</code> æ•è· <code>DbError</code> å¼‚å¸¸</li>
</ol>
<h3 data-id="heading-16">ä¸æ—§ç‰ˆå¯¹æ¯”</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>æ—§ç‰ˆ SdkRdbHelper</th><th>æ–°ç‰ˆ GenericRdbHelper</th></tr></thead><tbody><tr><td>ArkTSå…¼å®¹</td><td>éƒ¨åˆ†å…¼å®¹</td><td>å®Œå…¨å…¼å®¹</td></tr><tr><td>ç±»å‹å®‰å…¨</td><td>ä½¿ç”¨Map</td><td>ä½¿ç”¨å¼ºç±»å‹å®ä½“</td></tr><tr><td>é…ç½®æ–¹å¼</td><td>å¤–éƒ¨é…ç½®</td><td>æ¥å£æ–¹æ³•å†…å®šä¹‰</td></tr><tr><td>è‡ªåŠ¨å»ºè¡¨</td><td>éœ€æ‰‹åŠ¨SQL</td><td>æ ¹æ®é…ç½®è‡ªåŠ¨åˆ›å»º</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Glide 5.x çš„æºç ç®€è¦åˆ†æï¼ˆæ•´ç†ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7596307289725009962</link>    <guid>https://juejin.cn/post/7596307289725009962</guid>    <pubDate>2026-01-18T13:51:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596307289725009962" data-draft-id="7596230910213079083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Glide 5.x çš„æºç ç®€è¦åˆ†æï¼ˆæ•´ç†ç‰ˆï¼‰"/> <meta itemprop="keywords" content="é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-18T13:51:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¹³æ±Ÿé±¼"/> <meta itemprop="url" content="https://juejin.cn/user/1547751411690791"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Glide 5.x çš„æºç ç®€è¦åˆ†æï¼ˆæ•´ç†ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1547751411690791/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¹³æ±Ÿé±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:51:43.000Z" title="Sun Jan 18 2026 13:51:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäº Glide 5.x çš„æºç ç®€è¦åˆ†æ</h2>
<p>æœ¬æ–‡ä¸»è¦æ¢³ç† Glide å›¾ç‰‡åŠ è½½çš„æ ¸å¿ƒæµç¨‹ï¼šä» API è°ƒç”¨åˆ°ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œå†åˆ° Engine çš„èµ„æºè·å–ä¸è§£ç ï¼Œæœ€åå±•ç¤ºåˆ° View ä¸Šã€‚</p>
<h3 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šç”Ÿå‘½å‘¨æœŸç»‘å®š (Glide.with)</h3>
<p>Kotlin</p>
<pre><code class="hljs language-csharp" lang="csharp">Glide.<span class="hljs-keyword">with</span>(<span class="hljs-keyword">this</span>).load(<span class="hljs-string">"url"</span>).<span class="hljs-keyword">into</span>(binding.testIv)
</code></pre>
<p>æ ¸å¿ƒé€»è¾‘ï¼š</p>
<p>Glide.with(this) å†…éƒ¨é€šè¿‡ RequestManagerRetriever è·å–ä¸€ä¸ªä¸ thisï¼ˆActivity/Fragment/Contextï¼‰ç”Ÿå‘½å‘¨æœŸç»‘å®šçš„ RequestManagerã€‚</p>
<ul>
<li><strong>ä¼ å…¥ Activity/Fragment</strong>ï¼šåˆ›å»ºä¸€ä¸ªæ—  UI çš„ Fragmentï¼ˆSupportRequestManagerFragmentï¼‰ï¼Œåˆ©ç”¨è¯¥ Fragment çš„ç”Ÿå‘½å‘¨æœŸå›è°ƒï¼ˆonStart/onStop/onDestroyï¼‰æ¥ç®¡ç†å›¾ç‰‡åŠ è½½è¯·æ±‚ã€‚</li>
<li><strong>ä¼ å…¥ Application/éä¸»çº¿ç¨‹</strong>ï¼šæ— æ³•æ„ŸçŸ¥é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤ç»‘å®š Application çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå³ä¸ App å…±å­˜äº¡ï¼‰ã€‚</li>
<li><strong>ä¼ å…¥ View</strong>ï¼šä¼šé€šè¿‡é€’å½’æŸ¥æ‰¾è¯¥ View æ‰€å±çš„ Activity æˆ– Fragment ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<h3 data-id="heading-2">ç¬¬äºŒæ­¥ï¼šæ„å»ºè¯·æ±‚ä¸å‚æ•°é…ç½® (into)</h3>
<p><code>RequestBuilder</code> è´Ÿè´£æ„å»ºè¯·æ±‚å‚æ•°ï¼ˆå¦‚å ä½å›¾ã€å˜æ¢ç­‰ï¼‰ï¼Œå¹¶æ ¹æ® ImageView çš„ <code>ScaleType</code> è‡ªåŠ¨åº”ç”¨å˜æ¢ã€‚</p>
<p>Java</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// RequestBuilder.java</span>
â€‹
<span class="hljs-variable">@NonNull</span>
public ViewTarget&lt;ImageView, TranscodeType&gt; <span class="hljs-built_in">into</span>(<span class="hljs-variable">@NonNull</span> ImageView view) {
 Â   <span class="hljs-selector-tag">Util</span><span class="hljs-selector-class">.assertMainThread</span>();
 Â   <span class="hljs-selector-tag">Preconditions</span><span class="hljs-selector-class">.checkNotNull</span>(view);
â€‹
 Â   <span class="hljs-selector-tag">BaseRequestOptions</span>&lt;?&gt; <span class="hljs-selector-tag">requestOptions</span> = <span class="hljs-selector-tag">this</span>;
 Â   <span class="hljs-comment">// æ ¹æ® ImageView çš„ ScaleType è‡ªåŠ¨è®¾ç½®å˜æ¢é€»è¾‘</span>
 Â   <span class="hljs-selector-tag">if</span> (!requestOptions.<span class="hljs-built_in">isTransformationSet</span>()
 Â  Â  Â   &amp;&amp; requestOptions.<span class="hljs-built_in">isTransformationAllowed</span>()
 Â  Â  Â   &amp;&amp; view.<span class="hljs-built_in">getScaleType</span>() != null) {
 Â  Â  Â   <span class="hljs-selector-tag">switch</span> (view.<span class="hljs-built_in">getScaleType</span>()) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">case</span> <span class="hljs-selector-tag">CENTER_CROP</span>:
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-tag">requestOptions</span> = <span class="hljs-selector-tag">requestOptions</span><span class="hljs-selector-class">.clone</span>()<span class="hljs-selector-class">.optionalCenterCrop</span>();
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-tag">break</span>;
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">case</span> <span class="hljs-selector-tag">FIT_CENTER</span>:
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">case</span> <span class="hljs-selector-tag">FIT_START</span>:
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">case</span> <span class="hljs-selector-tag">FIT_END</span>:
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-tag">requestOptions</span> = <span class="hljs-selector-tag">requestOptions</span><span class="hljs-selector-class">.clone</span>()<span class="hljs-selector-class">.optionalFitCenter</span>();
 Â  Â  Â  Â  Â  Â  Â   <span class="hljs-selector-tag">break</span>;
 Â  Â  Â  Â  Â   <span class="hljs-comment">// ... å…¶ä»–ç±»å‹å¤„ç†</span>
 Â  Â  Â   }
 Â   }
â€‹
 Â   <span class="hljs-comment">// 5.x ä¼˜åŒ–ï¼šç›´æ¥å°†å›è°ƒæ”¾å…¥ UI çº¿ç¨‹æ‰§è¡Œå™¨ä¸­ï¼Œä½œä¸º Request çš„å‚æ•°</span>
 Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">into</span>(
 Â  Â  Â   glideContext.<span class="hljs-built_in">buildImageViewTarget</span>(view, transcodeClass),
 Â  Â  Â   <span class="hljs-comment">/* targetListener= */</span> null,
 Â  Â  Â   requestOptions,
 Â  Â  Â   Executors.<span class="hljs-built_in">mainThreadExecutor</span>());
}
â€‹
<span class="hljs-comment">// æ„å»º Request å¹¶ç”± RequestManager è¿½è¸ª</span>
<span class="hljs-selector-tag">private</span> &lt;<span class="hljs-selector-tag">Y</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">Target</span>&lt;<span class="hljs-selector-tag">TranscodeType</span>&gt;&gt; <span class="hljs-selector-tag">Y</span> <span class="hljs-selector-tag">into</span>(
 Â  Â   <span class="hljs-variable">@NonNull</span> Y target,
 Â  Â   <span class="hljs-variable">@Nullable</span> RequestListener&lt;TranscodeType&gt; targetListener,
 Â  Â   BaseRequestOptions&lt;?&gt; options,
 Â  Â   Executor callbackExecutor) {
 Â  Â 
 Â   <span class="hljs-comment">// 1. æ„å»º Request å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯ SingleRequestï¼‰</span>
 Â   <span class="hljs-selector-tag">Request</span> <span class="hljs-selector-tag">request</span> = <span class="hljs-selector-tag">buildRequest</span>(target, targetListener, options, callbackExecutor);
â€‹
 Â   <span class="hljs-selector-tag">Request</span> <span class="hljs-selector-tag">previous</span> = <span class="hljs-selector-tag">target</span><span class="hljs-selector-class">.getRequest</span>();
 Â   <span class="hljs-comment">// 2. æ£€æŸ¥æ˜¯å¦ä¸ä¹‹å‰çš„è¯·æ±‚ç›¸åŒï¼Œå¦‚æœç›¸åŒä¸”æœªå®Œæˆï¼Œå¯èƒ½å¤ç”¨</span>
 Â   <span class="hljs-selector-tag">if</span> (request.<span class="hljs-built_in">isEquivalentTo</span>(previous)
 Â  Â  Â   &amp;&amp; !<span class="hljs-built_in">isSkipMemoryCacheWithCompletePreviousRequest</span>(options, previous)) {
 Â  Â  Â   <span class="hljs-selector-tag">if</span> (!Preconditions.<span class="hljs-built_in">checkNotNull</span>(previous).<span class="hljs-built_in">isRunning</span>()) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">previous</span><span class="hljs-selector-class">.begin</span>();
 Â  Â  Â   }
 Â  Â  Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">target</span>;
 Â   }
â€‹
 Â   <span class="hljs-comment">// 3. æ¸…é™¤æ—§è¯·æ±‚ï¼Œç»‘å®šæ–°è¯·æ±‚</span>
 Â   <span class="hljs-selector-tag">requestManager</span><span class="hljs-selector-class">.clear</span>(target);
 Â   <span class="hljs-selector-tag">target</span><span class="hljs-selector-class">.setRequest</span>(request);
 Â  Â 
 Â   <span class="hljs-comment">// 4. å¼€å§‹è¿½è¸ªè¯·æ±‚</span>
 Â   <span class="hljs-selector-tag">requestManager</span><span class="hljs-selector-class">.track</span>(target, request);
â€‹
 Â   <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">target</span>;
}
</code></pre>
<h3 data-id="heading-3">ç¬¬ä¸‰æ­¥ï¼šè¯·æ±‚å¯åŠ¨ä¸çŠ¶æ€ç®¡ç† (RequestManager &amp; Tracker)</h3>
<p><code>RequestManager</code> å°†è¯·æ±‚å§”æ‰˜ç»™ <code>RequestTracker</code> è¿›è¡Œç®¡ç†ï¼Œæ ¹æ®å½“å‰ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å†³å®šæ˜¯ç›´æ¥è¿è¡Œè¿˜æ˜¯æŒ‚èµ·ã€‚</p>
<p>Java</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// RequestManager.java</span>
<span class="hljs-selector-tag">synchronized</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">track</span>(<span class="hljs-variable">@NonNull</span> Target&lt;?&gt; target, <span class="hljs-variable">@NonNull</span> Request request) {
 Â   <span class="hljs-selector-tag">targetTracker</span><span class="hljs-selector-class">.track</span>(target); <span class="hljs-comment">// è¿½è¸ª Target ç”Ÿå‘½å‘¨æœŸ</span>
 Â   <span class="hljs-selector-tag">requestTracker</span><span class="hljs-selector-class">.runRequest</span>(request); <span class="hljs-comment">// è¿è¡Œè¯·æ±‚</span>
}
â€‹
<span class="hljs-comment">// RequestTracker.runRequest ä¼šåˆ¤æ–­å½“å‰çŠ¶æ€ï¼Œè‹¥æ²¡æš‚åœåˆ™è°ƒç”¨ request.begin()</span>
â€‹
<span class="hljs-comment">// SingleRequest.java (è¯·æ±‚çš„æ ¸å¿ƒå®ç°)</span>
@<span class="hljs-selector-tag">Override</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">begin</span>() {
 Â   <span class="hljs-selector-tag">synchronized</span> (requestLock) {
 Â  Â  Â   <span class="hljs-selector-tag">startTime</span> = <span class="hljs-selector-tag">LogTime</span><span class="hljs-selector-class">.getLogTime</span>();
 Â  Â  Â  Â 
 Â  Â  Â   <span class="hljs-comment">// 1. Model ä¸ºç©ºçš„å¤„ç†</span>
 Â  Â  Â   <span class="hljs-selector-tag">if</span> (model == null) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">onLoadFailed</span>(new <span class="hljs-built_in">GlideException</span>(<span class="hljs-string">"Received null model"</span>), logLevel);
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">return</span>;
 Â  Â  Â   }
â€‹
 Â  Â  Â   <span class="hljs-comment">// 2. çŠ¶æ€é˜²æŠ–</span>
 Â  Â  Â   <span class="hljs-selector-tag">if</span> (status == Status.RUNNING) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">throw</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">IllegalArgumentException</span>(<span class="hljs-string">"Cannot restart a running request"</span>);
 Â  Â  Â   }
 Â  Â  Â  Â 
 Â  Â  Â   <span class="hljs-comment">// 3. å¦‚æœèµ„æºå·²å°±ç»ªï¼ˆå†…å­˜ä¸­æœ‰ï¼‰ï¼Œç›´æ¥å›è°ƒ</span>
 Â  Â  Â   <span class="hljs-selector-tag">if</span> (status == Status.COMPLETE) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">onResourceReady</span>(resource, DataSource.MEMORY_CACHE, false);
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">return</span>;
 Â  Â  Â   }
â€‹
 Â  Â  Â   <span class="hljs-comment">// 4. çŠ¶æ€æµè½¬ï¼šWAITING_FOR_SIZE</span>
 Â  Â  Â   <span class="hljs-selector-tag">status</span> = <span class="hljs-selector-tag">Status</span><span class="hljs-selector-class">.WAITING_FOR_SIZE</span>;
â€‹
 Â  Â  Â   <span class="hljs-comment">// 5. è·å– View å°ºå¯¸</span>
 Â  Â  Â   <span class="hljs-comment">// åªæœ‰æ‹¿åˆ°å®½å’Œé«˜ï¼Œæ‰èƒ½å»è®¡ç®—é‡‡æ ·ç‡å’Œç¼“å­˜ Key</span>
 Â  Â  Â   <span class="hljs-selector-tag">if</span> (Util.<span class="hljs-built_in">isValidDimensions</span>(overrideWidth, overrideHeight)) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">onSizeReady</span>(overrideWidth, overrideHeight);
 Â  Â  Â   } <span class="hljs-selector-tag">else</span> {
 Â  Â  Â  Â  Â   <span class="hljs-comment">// é€šè¿‡ ViewTreeObserver ç›‘å¬ layout å¸ƒå±€å®Œæˆåå›è°ƒ onSizeReady</span>
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">target</span><span class="hljs-selector-class">.getSize</span>(this);
 Â  Â  Â   }
 Â  Â  Â  Â 
 Â  Â  Â   <span class="hljs-comment">// 6. æ˜¾ç¤ºå ä½å›¾ (Placeholder)</span>
 Â  Â  Â   <span class="hljs-selector-tag">if</span> ((status == Status.RUNNING || status == Status.WAITING_FOR_SIZE)) {
 Â  Â  Â  Â  Â   <span class="hljs-selector-tag">target</span><span class="hljs-selector-class">.onLoadStarted</span>(<span class="hljs-built_in">getPlaceholderDrawable</span>());
 Â  Â  Â   }
 Â   }
}
</code></pre>
<h3 data-id="heading-4">ç¬¬å››æ­¥ï¼šEngine è°ƒåº¦ä¸ç¼“å­˜ç­–ç•¥</h3>
<p>å½“ <code>onSizeReady</code> ç¡®å®šäº†å›¾ç‰‡å°ºå¯¸åï¼Œæ­£å¼è¿›å…¥ <code>Engine</code>ï¼ˆå¼•æ“ï¼‰è¿›è¡Œèµ„æºåŠ è½½ã€‚</p>
<h4 data-id="heading-5">1. ç”Ÿæˆç¼“å­˜ Key</h4>
<p>Java</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// SingleRequest.onSizeReady -&gt; engine.load()</span>
â€‹
EngineKey key = keyFactory.<span class="hljs-built_in">buildKey</span>(
 Â   model, signature, width, height, transformations, resourceClass, transcodeClass, options);
</code></pre>
<h4 data-id="heading-6">2. å†…å­˜ç¼“å­˜æŸ¥æ‰¾</h4>
<p><code>Engine.load</code> ä¼šæŒ‰ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾å†…å­˜ï¼š</p>
<ol>
<li><strong>Active Resources (æ´»è·ƒèµ„æº)</strong> ï¼šå½“å‰æ­£åœ¨ä½¿ç”¨çš„å›¾ç‰‡ï¼ˆå¼•ç”¨è®¡æ•°æ³•ï¼‰ã€‚</li>
<li><strong>Memory Cache (LruCache)</strong> ï¼šæœ€è¿‘ä½¿ç”¨è¿‡ä½†å·²ä¸åœ¨å±å¹•æ˜¾ç¤ºçš„å›¾ç‰‡ã€‚</li>
</ol>
<p>å¦‚æœå†…å­˜ä¸­æ²¡æœ‰ï¼Œåˆ™å¯åŠ¨ <code>EngineJob</code> å’Œ <code>DecodeJob</code> è¿›è¡Œå¼‚æ­¥åŠ è½½ã€‚</p>
<p>Java</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// EngineJob.java</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">start</span><span class="hljs-params">(DecodeJob&lt;R&gt; decodeJob)</span> {
 Â   <span class="hljs-built_in">this</span>.decodeJob = decodeJob;
 Â   <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æœ‰ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼Œå†³å®šä½¿ç”¨ diskCacheExecutor è¿˜æ˜¯ activeSourceExecutor (ç½‘ç»œ/åŸå§‹æ•°æ®)</span>
 Â   <span class="hljs-type">GlideExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> decodeJob.willDecodeFromCache() 
 Â  Â  Â   ? diskCacheExecutor 
 Â  Â  Â   : getActiveSourceExecutor();
 Â   executor.execute(decodeJob);
}
</code></pre>
<h3 data-id="heading-7">ç¬¬äº”æ­¥ï¼šDecodeJob çŠ¶æ€æœº (æ ¸å¿ƒè§£ç æµç¨‹)</h3>
<p><code>DecodeJob</code> å®ç°äº† <code>Runnable</code>ï¼Œåœ¨çº¿ç¨‹æ± ä¸­è¿è¡Œã€‚å®ƒä½¿ç”¨<strong>çŠ¶æ€æœºæ¨¡å¼</strong>æ¥å¯»æ‰¾æ•°æ®æºã€‚</p>
<p><strong>çŠ¶æ€æµè½¬é¡ºåºï¼š</strong></p>
<ol>
<li><strong>ResourceCacheGenerator</strong>: æ‰¾ç£ç›˜ä¸­<strong>å¤„ç†è¿‡</strong>ï¼ˆè£å‰ª/å˜æ¢åï¼‰çš„ç¼“å­˜ã€‚</li>
<li><strong>DataCacheGenerator</strong>: æ‰¾ç£ç›˜ä¸­<strong>åŸå§‹æ•°æ®</strong>çš„ç¼“å­˜ã€‚</li>
<li><strong>SourceGenerator</strong>: ä»æºå¤´ï¼ˆç½‘ç»œ/æœ¬åœ°æ–‡ä»¶ï¼‰è·å–æ•°æ®ã€‚</li>
</ol>
<p>Java</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// DecodeJob.java</span>
â€‹
<span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">runWrapped</span>(<span class="hljs-params"/>) {
 Â   <span class="hljs-keyword">switch</span> (runReason) {
 Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-attr">INITIALIZE</span>: <span class="hljs-comment">// åˆå§‹åŒ–çŠ¶æ€ï¼Œå¯»æ‰¾ä¸‹ä¸€é˜¶æ®µ</span>
 Â  Â  Â   stage = <span class="hljs-title function_">getNextStage</span>(<span class="hljs-title class_">Stage</span>.<span class="hljs-property">INITIALIZE</span>);
 Â  Â  Â   currentGenerator = <span class="hljs-title function_">getNextGenerator</span>();
 Â  Â  Â   <span class="hljs-title function_">runGenerators</span>();
 Â  Â  Â   <span class="hljs-keyword">break</span>;
 Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-attr">SWITCH_TO_SOURCE_SERVICE</span>: <span class="hljs-comment">// åˆ‡æ¢åˆ°æºç æœåŠ¡ï¼ˆé€šå¸¸æŒ‡ç½‘ç»œä¸‹è½½ï¼‰</span>
 Â  Â  Â   <span class="hljs-title function_">runGenerators</span>();
 Â  Â  Â   <span class="hljs-keyword">break</span>;
 Â  Â   <span class="hljs-keyword">case</span> <span class="hljs-attr">DECODE_DATA</span>: <span class="hljs-comment">// æ•°æ®è·å–æˆåŠŸï¼Œå¼€å§‹è§£ç </span>
 Â  Â  Â   <span class="hljs-title function_">decodeFromRetrievedData</span>();
 Â  Â  Â   <span class="hljs-keyword">break</span>;
 Â  Â   <span class="hljs-comment">// ...</span>
 Â   }
}
â€‹
<span class="hljs-keyword">private</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">runGenerators</span>(<span class="hljs-params"/>) {
 Â   <span class="hljs-built_in">boolean</span> isStarted = <span class="hljs-literal">false</span>;
 Â   <span class="hljs-comment">// å¾ªç¯å°è¯•ä¸åŒçš„ Generatorï¼Œç›´åˆ°æœ‰ä¸€ä¸ªæˆåŠŸå¯åŠ¨åŠ è½½ (return true)</span>
 Â   <span class="hljs-keyword">while</span> (!isCancelled
 Â  Â  Â   &amp;&amp; currentGenerator != <span class="hljs-literal">null</span>
 Â  Â  Â   &amp;&amp; !(isStarted = currentGenerator.<span class="hljs-title function_">startNext</span>())) {
 Â  Â   stage = <span class="hljs-title function_">getNextStage</span>(stage); <span class="hljs-comment">// çŠ¶æ€æµè½¬ï¼šResource -&gt; Data -&gt; Source</span>
 Â  Â   currentGenerator = <span class="hljs-title function_">getNextGenerator</span>();
â€‹
 Â  Â   <span class="hljs-keyword">if</span> (stage == <span class="hljs-title class_">Stage</span>.<span class="hljs-property">SOURCE</span>) {
 Â  Â  Â   <span class="hljs-comment">// å¦‚æœæµè½¬åˆ°äº† Source é˜¶æ®µï¼Œéœ€è¦åˆ‡æ¢çº¿ç¨‹æ± ï¼ˆä»ç£ç›˜çº¿ç¨‹æ±  -&gt; ç½‘ç»œçº¿ç¨‹æ± ï¼‰</span>
 Â  Â  Â   <span class="hljs-title function_">reschedule</span>(<span class="hljs-title class_">RunReason</span>.<span class="hljs-property">SWITCH_TO_SOURCE_SERVICE</span>);
 Â  Â  Â   <span class="hljs-keyword">return</span>;
 Â  Â   }
 Â   }
 Â   <span class="hljs-comment">// ... å¤±è´¥å¤„ç†</span>
}
</code></pre>
<h3 data-id="heading-8">ç¬¬å…­æ­¥ï¼šæ•°æ®è·å–ä¸å›å†™ (SourceGenerator)</h3>
<p>å½“ç£ç›˜ç¼“å­˜å¤±æ•ˆï¼ŒçŠ¶æ€æœºèµ°åˆ° <code>SourceGenerator</code>ï¼Œå¼€å§‹ç½‘ç»œè¯·æ±‚ã€‚</p>
<p>Java</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// SourceGenerator.java</span>
â€‹
<span class="hljs-keyword">public</span> boolean startNext() {
 Â   <span class="hljs-comment">// 1. å¦‚æœæœ‰æ•°æ®éœ€è¦å†™å…¥ç£ç›˜ç¼“å­˜ï¼ˆæ¥è‡ªä¸Šä¸€æ¬¡ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œåœ¨æ­¤å¤„è¿›è¡Œ</span>
 Â   <span class="hljs-keyword">if</span> (dataToCache != <span class="hljs-literal">null</span>) {
 Â  Â   Object <span class="hljs-keyword">data</span> = dataToCache;
 Â  Â   dataToCache = <span class="hljs-literal">null</span>;
 Â  Â   cacheData(<span class="hljs-keyword">data</span>); <span class="hljs-comment">// å†™å…¥ç£ç›˜ç¼“å­˜ (Source Cache)</span>
 Â  Â   <span class="hljs-comment">// è¿™é‡Œçš„é€»è¾‘æ˜¯ï¼šå…ˆä¸‹è½½ -&gt; æ”¾å…¥å†…å­˜ -&gt; å†™å…¥ç£ç›˜ -&gt; é‡æ–°èµ° DataCacheGenerator è¯»å–ç£ç›˜</span>
 Â   }
â€‹
 Â   <span class="hljs-comment">// 2. å¦‚æœåˆšæ‰å†™å…¥äº†ç¼“å­˜ï¼Œç°åœ¨é€šè¿‡ sourceCacheGenerator å»è¯»å–å®ƒ</span>
 Â   <span class="hljs-keyword">if</span> (sourceCacheGenerator != <span class="hljs-literal">null</span> &amp;&amp; sourceCacheGenerator.startNext()) {
 Â  Â   <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
 Â   }
 Â  Â 
 Â   <span class="hljs-comment">// 3. å¦‚æœæ²¡æœ‰ç¼“å­˜ä»»åŠ¡ï¼Œåˆ™å¯»æ‰¾ ModelLoader (å¦‚ HttpGlideUrlLoader)</span>
 Â   <span class="hljs-keyword">while</span> (!started &amp;&amp; hasNextModelLoader()) {
 Â  Â   loadData = helper.getLoadData().<span class="hljs-keyword">get</span>(loadDataListIndex++);
 Â  Â   <span class="hljs-comment">// å¯åŠ¨åŠ è½½ï¼šä½¿ç”¨ OkHttp/HttpUrlConnection</span>
 Â  Â   startNextLoad(loadData);
 Â   }
 Â   <span class="hljs-keyword">return</span> started;
}
</code></pre>
<h4 data-id="heading-9">æ•°æ®å›è°ƒä¸é‡è°ƒåº¦</h4>
<p>å½“ç½‘ç»œè¯·æ±‚æˆåŠŸï¼š</p>
<p>Java</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SourceGenerator.java</span>
â€‹
<span class="hljs-keyword">void</span> <span class="hljs-title function_">onDataReadyInternal</span>(<span class="hljs-params">LoadData&lt;?&gt; loadData, <span class="hljs-built_in">Object</span> data</span>) {
 Â   <span class="hljs-title class_">DiskCacheStrategy</span> diskCacheStrategy = helper.<span class="hljs-title function_">getDiskCacheStrategy</span>();
 Â  Â 
 Â   <span class="hljs-comment">// å¦‚æœç­–ç•¥å…è®¸ç¼“å­˜åŸå§‹æ•°æ® (DATA)</span>
 Â   <span class="hljs-keyword">if</span> (data != <span class="hljs-literal">null</span> &amp;&amp; diskCacheStrategy.<span class="hljs-title function_">isDataCacheable</span>(loadData.<span class="hljs-property">fetcher</span>.<span class="hljs-title function_">getDataSource</span>())) {
 Â  Â   dataToCache = data; <span class="hljs-comment">// æš‚å­˜æ•°æ®</span>
 Â  Â   cb.<span class="hljs-title function_">reschedule</span>(); <span class="hljs-comment">// æ ¸å¿ƒï¼šé‡æ–°è°ƒåº¦ DecodeJob</span>
 Â  Â   <span class="hljs-comment">// DecodeJob ä¼šå†æ¬¡è¿è¡Œ runWrapped() -&gt; runGenerators()</span>
 Â  Â   <span class="hljs-comment">// è¿™æ¬¡è¿›å…¥ SourceGenerator.startNext() æ—¶ dataToCache ä¸ä¸ºç©º -&gt; å†™å…¥ç£ç›˜ -&gt; </span>
 Â  Â   <span class="hljs-comment">// è¿™é‡Œçš„å¦™å¤„åœ¨äºï¼šGlide ä¼˜å…ˆè§£ç ç£ç›˜ä¸­çš„æ•°æ®ï¼Œè€Œä¸æ˜¯ç›´æ¥è§£ç ç½‘ç»œæµï¼Œç¡®ä¿ä¸€è‡´æ€§ã€‚</span>
 Â   } <span class="hljs-keyword">else</span> {
 Â  Â   <span class="hljs-comment">// ä¸ç¼“å­˜ï¼Œç›´æ¥è§£ç </span>
 Â  Â   cb.<span class="hljs-title function_">onDataFetcherReady</span>(..., data, ...);
 Â   }
}
</code></pre>
<h3 data-id="heading-10">ç¬¬ä¸ƒæ­¥ï¼šè§£ç ä¸æ˜¾ç¤º (è¡¥å……å®Œæ•´æµç¨‹)</h3>
<p>ä¸€æ—¦ <code>DataFetcher</code> æ‹¿åˆ°æ•°æ®ï¼ˆæ— è®ºæ˜¯ä»ç¼“å­˜è¿˜æ˜¯ç½‘ç»œï¼‰ï¼Œ<code>DecodeJob</code> ä¼šè°ƒç”¨ <code>decodeFromRetrievedData</code>ã€‚</p>
<ol>
<li>
<p><strong>è§£ç  (Decode)</strong> : <code>BitmapFactory.decodeStream</code> å°†æ•°æ®æµè½¬ä¸º Bitmapã€‚</p>
</li>
<li>
<p><strong>å˜æ¢ (Transform)</strong> : å¦‚æœé…ç½®äº† CenterCrop/åœ†è§’ï¼Œåœ¨æ­¤å¤„å¯¹ Bitmap è¿›è¡Œå¤„ç†ã€‚</p>
</li>
<li>
<p><strong>è½¬ç  (Transcode)</strong> : å°† Bitmap åŒ…è£…ä¸º <code>BitmapDrawable</code> æˆ– <code>GifDrawable</code>ã€‚</p>
</li>
<li>
<p><strong>å›è°ƒ (Callback)</strong> :</p>
<ul>
<li><code>EngineJob</code> æ”¶åˆ°è§£ç åçš„èµ„æºï¼Œé€šè¿‡ <code>Handler</code> åˆ‡æ¢å›ä¸»çº¿ç¨‹ã€‚</li>
<li>è°ƒç”¨ <code>SingleRequest.onResourceReady</code>ã€‚</li>
<li>æœ€ç»ˆè°ƒç”¨ <code>Target.onResourceReady</code>ï¼Œæ‰§è¡Œ <code>view.setImageDrawable()</code>ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h4 data-id="heading-11">æ€»ç»“ Glide çš„é«˜æ•ˆè®¾è®¡</h4>
<ol>
<li><strong>ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥</strong>ï¼šè‡ªåŠ¨æš‚åœ/æ¢å¤è¯·æ±‚ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>ä¸‰çº§ç¼“å­˜</strong>ï¼šå†…å­˜(æ´»è·ƒ+Lru) -&gt; ç£ç›˜(å¤„ç†å›¾+åŸå›¾) -&gt; ç½‘ç»œã€‚</li>
<li><strong>EngineJob åˆ†æ²»</strong>ï¼š<code>EngineJob</code> ç®¡ç†çº¿ç¨‹å’Œå›è°ƒï¼Œ<code>DecodeJob</code> ä¸“æ³¨å¤æ‚çš„è§£ç çŠ¶æ€æµè½¬ã€‚</li>
<li><strong>å¤ç”¨æœºåˆ¶</strong>ï¼šBitmapPool å¤ç”¨ä½å›¾å†…å­˜ï¼Œå‡å°‘ GC æŠ–åŠ¨ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èŠèŠç»„ä»¶åŒ–æ¡ˆä¾‹]]></title>    <link>https://juejin.cn/post/7596171325532651561</link>    <guid>https://juejin.cn/post/7596171325532651561</guid>    <pubDate>2026-01-18T13:33:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596171325532651561" data-draft-id="7596276978808913963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠèŠç»„ä»¶åŒ–æ¡ˆä¾‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-18T13:33:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dongczlu"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036430125"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠèŠç»„ä»¶åŒ–æ¡ˆä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036430125/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dongczlu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T13:33:45.000Z" title="Sun Jan 18 2026 13:33:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">iOS ç»„ä»¶åŒ–è¯¦è§£ - CTMediator åŸç†ä¸å®è·µ</h2>
<h3 data-id="heading-1">ğŸ“Œ æ ¸å¿ƒæ¦‚å¿µé€Ÿè®°</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-operator">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-operator">â”‚</span>  <span class="hljs-type">CTMediator</span> ç»„ä»¶åŒ–æ–¹æ¡ˆ                           <span class="hljs-operator">â”‚</span>
<span class="hljs-operator">â”‚</span>  <span class="hljs-operator">â”œâ”€</span> æ ¸å¿ƒæ€æƒ³ï¼š<span class="hljs-type">Target</span><span class="hljs-operator">-</span><span class="hljs-type">Action</span> æ¨¡å¼                 <span class="hljs-operator">â”‚</span>
<span class="hljs-operator">â”‚</span>  <span class="hljs-operator">â”œâ”€</span> å®ç°æ–¹å¼ï¼š<span class="hljs-type">Runtime</span> åå°„è°ƒç”¨                   <span class="hljs-operator">â”‚</span>
<span class="hljs-operator">â”‚</span>  <span class="hljs-operator">â”œâ”€</span> ä¼˜åŠ¿ï¼šå®Œå…¨è§£è€¦ï¼Œæ— éœ€ <span class="hljs-keyword">import</span>                  â”‚
<span class="hljs-operator">â”‚</span>  <span class="hljs-operator">â””â”€</span> é€‚ç”¨ï¼š<span class="hljs-type">OC</span> å’Œ <span class="hljs-type">Swiftï¼ˆéœ€æ¡¥æ¥ï¼‰</span>                  <span class="hljs-operator">â”‚</span>
<span class="hljs-operator">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<hr/>
<h3 data-id="heading-2">ä¸€ã€ä¸ºä»€ä¹ˆè¦åšç»„ä»¶åŒ–å¼€å‘ï¼Ÿ</h3>
<h4 data-id="heading-3">ä¼ ç»Ÿå•ä½“æ¶æ„çš„é—®é¢˜</h4>
<p>éšç€é¡¹ç›®è§„æ¨¡æ‰©å¤§ï¼Œä¼ ç»Ÿå•ä½“æ¶æ„ä¼šæš´éœ²ä»¥ä¸‹é—®é¢˜ï¼š</p>
<h5 data-id="heading-4">1. <strong>ä»£ç è€¦åˆä¸¥é‡</strong></h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šç›´æ¥ä¾èµ–
#import "PayViewController.h"  // è®¢å•æ¨¡å—ç›´æ¥ä¾èµ–æ”¯ä»˜æ¨¡å—
#import "UserViewController.h" // è®¢å•æ¨¡å—ç›´æ¥ä¾èµ–ç”¨æˆ·æ¨¡å—

- (void)onPayClick {
    PayViewController *payVC = [[PayViewController alloc] init];
    [self.navigationController pushViewController:payVC animated:YES];
}
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>ä¿®æ”¹æ”¯ä»˜æ¨¡å—ä¼šå½±å“è®¢å•æ¨¡å—</li>
<li>åˆ é™¤æ”¯ä»˜æ¨¡å—ä¼šå¯¼è‡´è®¢å•æ¨¡å—ç¼–è¯‘å¤±è´¥</li>
<li>æ— æ³•ç‹¬ç«‹æµ‹è¯•è®¢å•æ¨¡å—</li>
</ul>
<h5 data-id="heading-5">2. <strong>å›¢é˜Ÿåä½œä½æ•ˆ</strong></h5>
<pre><code class="hljs language-diff" lang="diff">é—®é¢˜åœºæ™¯ï¼š
<span class="hljs-deletion">- å¼€å‘Aä¿®æ”¹äº†æ”¯ä»˜æ¨¡å—</span>
<span class="hljs-deletion">- å¼€å‘Bæ­£åœ¨å¼€å‘è®¢å•æ¨¡å—ï¼ˆä¾èµ–æ”¯ä»˜æ¨¡å—ï¼‰</span>
<span class="hljs-deletion">- ä¸¤äººåŒæ—¶æäº¤ä»£ç  â†’ å†²çªé¢‘ç¹</span>
<span class="hljs-deletion">- éœ€è¦é¢‘ç¹åˆå¹¶ä»£ç  â†’ æ•ˆç‡ä½ä¸‹</span>
</code></pre>
<h5 data-id="heading-6">3. <strong>ç¼–è¯‘é€Ÿåº¦æ…¢</strong></h5>
<pre><code class="hljs language-diff" lang="diff">å•å·¥ç¨‹é—®é¢˜ï¼š
<span class="hljs-deletion">- ä»£ç é‡ï¼š10ä¸‡+ è¡Œ</span>
<span class="hljs-deletion">- æ¯æ¬¡ç¼–è¯‘ï¼šå…¨é‡ç¼–è¯‘æ‰€æœ‰ä»£ç </span>
<span class="hljs-deletion">- ç¼–è¯‘æ—¶é—´ï¼š5-10 åˆ†é’Ÿ</span>
<span class="hljs-deletion">- å¼€å‘æ•ˆç‡ï¼šä¸¥é‡ä¸‹é™</span>
</code></pre>
<h5 data-id="heading-7">4. <strong>å¤ç”¨æ€§å·®</strong></h5>
<pre><code class="hljs language-diff" lang="diff">åœºæ™¯ï¼šå…¬å¸æœ‰å¤šä¸ª APP
<span class="hljs-deletion">- APP Aï¼šéœ€è¦ç™»å½•æ¨¡å—</span>
<span class="hljs-deletion">- APP Bï¼šéœ€è¦ç™»å½•æ¨¡å—</span>
<span class="hljs-deletion">- APP Cï¼šéœ€è¦ç™»å½•æ¨¡å—</span>

ä¼ ç»Ÿæ–¹å¼ï¼šæ¯ä¸ª APP éƒ½å¤åˆ¶ä¸€ä»½ç™»å½•ä»£ç 
ç»„ä»¶åŒ–ï¼šç™»å½•æ¨¡å—ç‹¬ç«‹ï¼Œå¤šä¸ª APP ç›´æ¥å¼•ç”¨
</code></pre>
<h5 data-id="heading-8">5. <strong>æµ‹è¯•æˆæœ¬é«˜</strong></h5>
<pre><code class="hljs language-diff" lang="diff">é—®é¢˜ï¼š
<span class="hljs-deletion">- ä¿®æ”¹æ”¯ä»˜æ¨¡å— â†’ éœ€è¦æµ‹è¯•æ•´ä¸ª APP</span>
<span class="hljs-deletion">- ä¿®æ”¹è®¢å•æ¨¡å— â†’ éœ€è¦æµ‹è¯•æ•´ä¸ª APP</span>
<span class="hljs-deletion">- å›å½’æµ‹è¯•èŒƒå›´å¤§ â†’ æµ‹è¯•æ—¶é—´é•¿</span>
</code></pre>
<h4 data-id="heading-9">ç»„ä»¶åŒ–çš„è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>æ ¸å¿ƒç›®æ ‡ï¼šè§£è€¦</strong></p>
<p>å°†é¡¹ç›®æ‹†åˆ†ä¸ºç‹¬ç«‹ã€å¯å¤ç”¨çš„ç»„ä»¶ï¼Œé€šè¿‡"ä¸­é—´ä»¶"å®ç°ç»„ä»¶é—´é€šä¿¡ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">ä¼ ç»Ÿæ¶æ„ï¼š
è®¢å•æ¨¡å— â”€â”€ç›´æ¥ä¾èµ–â”€â”€&gt; æ”¯ä»˜æ¨¡å—
è®¢å•æ¨¡å— â”€â”€ç›´æ¥ä¾èµ–â”€â”€&gt; ç”¨æˆ·æ¨¡å—

ç»„ä»¶åŒ–æ¶æ„ï¼š
è®¢å•æ¨¡å— â”€â”€ä¸­é—´ä»¶â”€â”€&gt; æ”¯ä»˜æ¨¡å—
è®¢å•æ¨¡å— â”€â”€ä¸­é—´ä»¶â”€â”€&gt; ç”¨æˆ·æ¨¡å—
<span class="hljs-code">         â†‘
      CTMediator
</span></code></pre>
<hr/>
<h3 data-id="heading-10">äºŒã€iOS ç»„ä»¶åŒ–å¦‚ä½•åˆ†å±‚ï¼Ÿ</h3>
<h4 data-id="heading-11">åˆ†å±‚æ¶æ„å›¾</h4>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å£³å·¥ç¨‹ï¼ˆ<span class="hljs-selector-tag">Main</span> Projectï¼‰                   â”‚
â”‚  - ç½®æ–‡ä»¶ã€å¯åŠ¨é¡µã€æ ¹æ§åˆ¶å™¨  é…           â”‚
â”‚  - æ— ä¸šåŠ¡é€»è¾‘ï¼Œåªè´Ÿè´£ç»„è£…ç»„ä»¶             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾èµ–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸­é—´ä»¶å±‚ï¼ˆCTMediatorï¼‰                   â”‚
â”‚  - ç»„ä»¶é—´é€šä¿¡æ¡¥æ¢                         â”‚
â”‚  - è·¯ç”±è·³è½¬ã€æ–¹æ³•è°ƒç”¨                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾èµ–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸šåŠ¡ç»„ä»¶å±‚                               â”‚
â”‚  - é¦–é¡µç»„ä»¶ã€è®¢å•ç»„ä»¶ã€æ”¯ä»˜ç»„ä»¶            â”‚
â”‚  - è´­ç‰©è½¦ç»„ä»¶ã€ä¸ªäººä¸­å¿ƒç»„ä»¶                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾èµ–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸šåŠ¡åŸºç¡€å±‚                               â”‚
â”‚  - ç™»å½•ã€æ”¯ä»˜ã€ç”¨æˆ·ä¿¡æ¯ç®¡ç†                â”‚
â”‚  - åŸ‹ç‚¹ç»Ÿè®¡                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾èµ–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸºç¡€å±‚                                   â”‚
â”‚  - ç½‘ç»œï¼ˆAFNetworkingï¼‰                   â”‚
â”‚  - å­˜å‚¨ï¼ˆFMDBï¼‰                           â”‚
â”‚  - å·¥å…·ç±»ï¼ˆCategoryï¼‰                     â”‚
â”‚  - åŸºç¡€ UI ç»„ä»¶                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-12">å„å±‚è¯¦ç»†è¯´æ˜</h4>









































<table><thead><tr><th>å±‚çº§</th><th>èŒè´£</th><th>ç¤ºä¾‹ç»„ä»¶</th><th>ä¾èµ–å…³ç³»</th></tr></thead><tbody><tr><td><strong>åŸºç¡€å±‚</strong></td><td>æä¾›å…¨å±€é€šç”¨èƒ½åŠ›ï¼Œä¸ä¾èµ–ä»»ä½•ä¸Šå±‚æ¨¡å—</td><td>ç½‘ç»œã€å­˜å‚¨ã€å·¥å…·ç±»ã€åŸºç¡€ UI</td><td>æ— ä¾èµ–</td></tr><tr><td><strong>ä¸šåŠ¡åŸºç¡€å±‚</strong></td><td>å°è£…è·¨ä¸šåŠ¡çš„é€šç”¨èƒ½åŠ›</td><td>ç™»å½•ã€æ”¯ä»˜ã€ç”¨æˆ·ä¿¡æ¯ã€åŸ‹ç‚¹</td><td>ä¾èµ–åŸºç¡€å±‚</td></tr><tr><td><strong>ä¸šåŠ¡ç»„ä»¶å±‚</strong></td><td>æ‹†åˆ†ç‹¬ç«‹ä¸šåŠ¡æ¨¡å—</td><td>é¦–é¡µã€è´­ç‰©è½¦ã€è®¢å•ã€ä¸ªäººä¸­å¿ƒ</td><td>ä¾èµ–åŸºç¡€å±‚ + ä¸šåŠ¡åŸºç¡€å±‚</td></tr><tr><td><strong>ä¸­é—´ä»¶å±‚</strong></td><td>è´Ÿè´£ç»„ä»¶é—´é€šä¿¡</td><td>CTMediatorã€URLRouter</td><td>ä¾èµ–åŸºç¡€å±‚</td></tr><tr><td><strong>å£³å·¥ç¨‹</strong></td><td>æ•´åˆæ‰€æœ‰ç»„ä»¶</td><td>Main Project</td><td>ä¾èµ–æ‰€æœ‰å±‚</td></tr></tbody></table>
<h4 data-id="heading-13">ä¾èµ–åŸåˆ™</h4>
<p><strong>å…³é”®è§„åˆ™ï¼šå•å‘ä¾èµ–ï¼Œç¦æ­¢åå‘ä¾èµ–</strong></p>
<pre><code class="hljs">âœ… æ­£ç¡®ï¼š
ä¸Šå±‚ â†’ ä¾èµ– â†’ ä¸‹å±‚

âŒ é”™è¯¯ï¼š
ä¸‹å±‚ â†’ ä¾èµ– â†’ ä¸Šå±‚ï¼ˆç¦æ­¢ï¼ï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-14">ä¸‰ã€CTMediator æ ¸å¿ƒåŸç†</h3>
<h4 data-id="heading-15">3.1 ä»€ä¹ˆæ˜¯ CTMediatorï¼Ÿ</h4>
<p><strong>CTMediator</strong> æ˜¯åŸºäº <strong>Target-Action</strong> æ¨¡å¼çš„ç»„ä»¶åŒ–ä¸­é—´ä»¶ã€‚</p>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼š</strong></p>
<ul>
<li>è°ƒç”¨æ–¹é€šè¿‡ä¸­é—´ä»¶å‘é€"æŒ‡ä»¤"</li>
<li>ä¸­é—´ä»¶æ‰¾åˆ°ç›®æ ‡ç»„ä»¶çš„ Target ç±»</li>
<li>æ‰§è¡Œå¯¹åº”çš„ Action æ–¹æ³•</li>
<li><strong>å…¨ç¨‹æ— éœ€ importï¼Œå®Œå…¨è§£è€¦</strong></li>
</ul>
<h4 data-id="heading-16">3.2 Target-Action æ¨¡å¼</h4>
<pre><code class="hljs language-makefile" lang="makefile">è°ƒç”¨æµç¨‹ï¼š

è®¢å•ç»„ä»¶
  â†“ è°ƒç”¨
CTMediator.payWithOrderId()
  â†“ æŸ¥æ‰¾
Target_Pay ç±»ï¼ˆæ”¯ä»˜ç»„ä»¶çš„ Targetï¼‰
  â†“ æ‰§è¡Œ
<span class="hljs-section">action_payWithOrderId:callback: æ–¹æ³•ï¼ˆæ”¯ä»˜ç»„ä»¶çš„ Actionï¼‰</span>
  â†“ è°ƒç”¨
PayServiceï¼ˆæ”¯ä»˜ç»„ä»¶å†…éƒ¨é€»è¾‘ï¼‰
</code></pre>
<h4 data-id="heading-17">3.3 å‘½åçº¦å®š</h4>
<p><strong>CTMediator é€šè¿‡å­—ç¬¦ä¸²æŸ¥æ‰¾ç±»å’Œæ–¹æ³•ï¼Œå¿…é¡»éµå¾ªå‘½åçº¦å®šï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">Target ç±»å‘½åï¼šTarget_ + ç»„ä»¶å
ç¤ºä¾‹ï¼š
<span class="hljs-deletion">- æ”¯ä»˜ç»„ä»¶ â†’ Target_Pay</span>
<span class="hljs-deletion">- è®¢å•ç»„ä»¶ â†’ Target_Order</span>
<span class="hljs-deletion">- ç”¨æˆ·ç»„ä»¶ â†’ Target_User</span>

Action æ–¹æ³•å‘½åï¼šaction_ + æ–¹æ³•å
ç¤ºä¾‹ï¼š
<span class="hljs-deletion">- payWithOrderId:callback: â†’ action_payWithOrderId:callback:</span>
<span class="hljs-deletion">- showOrderDetail: â†’ action_showOrderDetail:</span>
</code></pre>
<hr/>
<h3 data-id="heading-18">å››ã€CTMediator OC å®è·µè¯¦è§£</h3>
<h4 data-id="heading-19">4.1 å®Œæ•´ä»£ç ç¤ºä¾‹</h4>
<p>å‡è®¾åœºæ™¯ï¼š<strong>"è®¢å•ç»„ä»¶"è°ƒç”¨"æ”¯ä»˜ç»„ä»¶"çš„æ”¯ä»˜åŠŸèƒ½</strong></p>
<h5 data-id="heading-20">æ­¥éª¤ 1ï¼šä¸­é—´ä»¶ CTMediatorï¼ˆåŸºç¡€ç±»ï¼Œå…¨å±€å”¯ä¸€ï¼‰</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.h
#import &lt;UIKit/UIKit.h&gt;

@interface CTMediator : NSObject

+ (instancetype)sharedInstance;

// æ”¯ä»˜ç»„ä»¶è°ƒç”¨æ–¹æ³•ï¼ˆä¸­é—´ä»¶å£°æ˜ï¼‰
- (void)payWithOrderId:(NSString *)orderId 
              callback:(void(^)(BOOL success))callback;

@end
</code></pre>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.m
#import "CTMediator.h"
#import &lt;objc/runtime.h&gt;

@implementation CTMediator

+ (instancetype)sharedInstance {
    static CTMediator *instance;
    static dispatch_once_t onceToken;
    dispatch_once(&amp;onceToken, ^{
        instance = [CTMediator new];
    });
    return instance;
}

// è°ƒç”¨æ”¯ä»˜ç»„ä»¶çš„æ”¯ä»˜æ–¹æ³•ï¼ˆé€šè¿‡Target-Actionè°ƒç”¨ï¼‰
- (void)payWithOrderId:(NSString *)orderId 
              callback:(void(^)(BOOL success))callback {
    
    // 1. é€šè¿‡å­—ç¬¦ä¸²æŸ¥æ‰¾ Target ç±»
    // Target_Payï¼šæ”¯ä»˜ç»„ä»¶çš„Targetç±»ï¼ˆçº¦å®šå‘½åï¼šTarget_+ç»„ä»¶åï¼‰
    Class targetClass = NSClassFromString(@"Target_Pay");
    
    if (!targetClass) {
        NSLog(@"âŒ æ‰¾ä¸åˆ° Target_Pay ç±»");
        if (callback) callback(NO);
        return;
    }
    
    // 2. åˆ›å»º Target å®ä¾‹
    id target = [[targetClass alloc] init];
    
    // 3. æ„é€  Action æ–¹æ³•å
    // action_payWithOrderId:callback:ï¼šæ”¯ä»˜ç»„ä»¶çš„Actionæ–¹æ³•
    SEL action = NSSelectorFromString(@"action_payWithOrderId:callback:");
    
    // 4. æ£€æŸ¥ Target æ˜¯å¦å®ç°äº† Action æ–¹æ³•
    if (![target respondsToSelector:action]) {
        NSLog(@"âŒ Target_Pay æœªå®ç° action_payWithOrderId:callback:");
        if (callback) callback(NO);
        return;
    }
    
    // 5. é€šè¿‡ performSelector è°ƒç”¨ Action æ–¹æ³•
    // æ³¨æ„ï¼šperformSelector æœ€å¤šæ”¯æŒ 2 ä¸ªå‚æ•°
    // å¦‚æœå‚æ•°è¶…è¿‡ 2 ä¸ªï¼Œéœ€è¦ä½¿ç”¨ NSInvocation
    [target performSelector:action withObject:orderId withObject:callback];
}

@end
</code></pre>
<p><strong>å…³é”®ç‚¹è§£æï¼š</strong></p>
<ol>
<li>
<p><strong>NSClassFromString(@"Target_Pay")</strong></p>
<ul>
<li>é€šè¿‡å­—ç¬¦ä¸²åŠ¨æ€æŸ¥æ‰¾ç±»</li>
<li>å¦‚æœç±»ä¸å­˜åœ¨ï¼Œè¿”å› nil</li>
</ul>
</li>
<li>
<p><strong>NSSelectorFromString(@"action_payWithOrderId:callback:")</strong></p>
<ul>
<li>é€šè¿‡å­—ç¬¦ä¸²æ„é€ æ–¹æ³•é€‰æ‹©å™¨</li>
<li>æ–¹æ³•åå¿…é¡»å®Œå…¨åŒ¹é…ï¼ˆåŒ…æ‹¬å†’å·ï¼‰</li>
</ul>
</li>
<li>
<p><strong>performSelector:withObject:withObject:</strong></p>
<ul>
<li>Runtime åŠ¨æ€è°ƒç”¨æ–¹æ³•</li>
<li>æœ€å¤šæ”¯æŒ 2 ä¸ªå‚æ•°</li>
<li>è¶…è¿‡ 2 ä¸ªå‚æ•°éœ€è¦ä½¿ç”¨ NSInvocation</li>
</ul>
</li>
</ol>
<h5 data-id="heading-21">æ­¥éª¤ 2ï¼šæ”¯ä»˜ç»„ä»¶ï¼ˆä¸šåŠ¡ç»„ä»¶å±‚ï¼‰çš„å®ç°</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// Target_Pay.hï¼ˆä»…ç»„ä»¶å†…éƒ¨å¯è§ï¼Œä¸å¯¹å¤–æš´éœ²ï¼‰
#import &lt;UIKit/UIKit.h&gt;

@interface Target_Pay : NSObject

// æ”¯ä»˜Actionï¼ˆå‚æ•°ä¸ä¸­é—´ä»¶å£°æ˜ä¸€è‡´ï¼‰
- (void)action_payWithOrderId:(NSString *)orderId 
                     callback:(void(^)(BOOL success))callback;

@end
</code></pre>
<pre><code class="hljs language-objective-c" lang="objective-c">// Target_Pay.m
#import "Target_Pay.h"
#import "PayService.h" // ç»„ä»¶å†…éƒ¨çš„æ”¯ä»˜é€»è¾‘

@implementation Target_Pay

- (void)action_payWithOrderId:(NSString *)orderId 
                     callback:(void(^)(BOOL success))callback {
    
    NSLog(@"âœ… Target_Pay æ”¶åˆ°æ”¯ä»˜è¯·æ±‚ï¼Œè®¢å•IDï¼š%@", orderId);
    
    // è°ƒç”¨ç»„ä»¶å†…éƒ¨çš„æ”¯ä»˜é€»è¾‘
    [[PayService shared] pay:orderId completion:^(BOOL success) {
        if (callback) {
            callback(success);
        }
    }];
}

@end
</code></pre>
<pre><code class="hljs language-objective-c" lang="objective-c">// PayService.hï¼ˆæ”¯ä»˜ç»„ä»¶å†…éƒ¨é€»è¾‘ï¼‰
#import &lt;Foundation/Foundation.h&gt;

@interface PayService : NSObject

+ (instancetype)shared;

- (void)pay:(NSString *)orderId 
 completion:(void(^)(BOOL success))completion;

@end
</code></pre>
<pre><code class="hljs language-objective-c" lang="objective-c">// PayService.mï¼ˆæ”¯ä»˜ç»„ä»¶å†…éƒ¨é€»è¾‘ï¼‰
#import "PayService.h"

@implementation PayService

+ (instancetype)shared {
    static PayService *instance;
    static dispatch_once_t onceToken;
    dispatch_once(&amp;onceToken, ^{
        instance = [PayService new];
    });
    return instance;
}

- (void)pay:(NSString *)orderId 
 completion:(void(^)(BOOL success))completion {
    
    // æ¨¡æ‹Ÿæ”¯ä»˜è¯·æ±‚
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        // æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚å»¶è¿Ÿ
        sleep(1);
        
        // æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
        BOOL success = YES;
        
        dispatch_async(dispatch_get_main_queue(), ^{
            if (completion) {
                completion(success);
            }
        });
    });
}

@end
</code></pre>
<h5 data-id="heading-22">æ­¥éª¤ 3ï¼šè°ƒç”¨æ–¹ï¼ˆè®¢å•ç»„ä»¶ï¼‰ä½¿ç”¨</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// OrderViewController.h
#import &lt;UIKit/UIKit.h&gt;
#import "CTMediator.h" // åªä¾èµ–ä¸­é—´ä»¶ï¼Œä¸ä¾èµ–æ”¯ä»˜ç»„ä»¶

@interface OrderViewController : UIViewController

@end
</code></pre>
<pre><code class="hljs language-objective-c" lang="objective-c">// OrderViewController.m
#import "OrderViewController.h"
// âŒ ä¸éœ€è¦ #import "PayService.h"
// âŒ ä¸éœ€è¦ #import "Target_Pay.h"
// âœ… åªéœ€è¦ #import "CTMediator.h"

@implementation OrderViewController

- (void)viewDidLoad {
    [super viewDidLoad];
    
    // åˆ›å»ºæ”¯ä»˜æŒ‰é’®
    UIButton *payButton = [UIButton buttonWithType:UIButtonTypeSystem];
    [payButton setTitle:@"æ”¯ä»˜" forState:UIControlStateNormal];
    [payButton addTarget:self 
                  action:@selector(onPayClick) 
        forControlEvents:UIControlEventTouchUpInside];
    payButton.frame = CGRectMake(100, 100, 100, 44);
    [self.view addSubview:payButton];
}

// ç‚¹å‡»æ”¯ä»˜æŒ‰é’®
- (void)onPayClick {
    NSString *orderId = @"ORDER_123";
    
    // é€šè¿‡ä¸­é—´ä»¶è°ƒç”¨æ”¯ä»˜åŠŸèƒ½ï¼Œå®Œå…¨è§£è€¦
    [[CTMediator sharedInstance] payWithOrderId:orderId callback:^(BOOL success) {
        if (success) {
            NSLog(@"âœ… æ”¯ä»˜æˆåŠŸ");
            // æ›´æ–°UI
        } else {
            NSLog(@"âŒ æ”¯ä»˜å¤±è´¥");
            // æ˜¾ç¤ºé”™è¯¯æç¤º
        }
    }];
}

@end
</code></pre>
<h4 data-id="heading-23">4.2 å¤šå‚æ•°å¤„ç†ï¼ˆNSInvocationï¼‰</h4>
<p>å½“ Action æ–¹æ³•å‚æ•°è¶…è¿‡ 2 ä¸ªæ—¶ï¼Œéœ€è¦ä½¿ç”¨ NSInvocationï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.m ä¸­å¤„ç†å¤šå‚æ•°çš„æ–¹æ³•
- (void)performTarget:(NSString *)targetName
                action:(NSString *)actionName
                params:(NSDictionary *)params {
    
    Class targetClass = NSClassFromString(targetName);
    id target = [[targetClass alloc] init];
    SEL action = NSSelectorFromString(actionName);
    
    NSMethodSignature *signature = [target methodSignatureForSelector:action];
    NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature];
    
    invocation.target = target;
    invocation.selector = action;
    
    // è®¾ç½®å‚æ•°ï¼ˆè·³è¿‡ self å’Œ _cmdï¼‰
    NSInteger index = 2;
    for (NSString *key in params.allKeys) {
        id value = params[key];
        [invocation setArgument:&amp;value atIndex:index];
        index++;
    }
    
    [invocation invoke];
    
    // è·å–è¿”å›å€¼
    __unsafe_unretained id returnValue;
    if (signature.methodReturnLength &gt; 0) {
        [invocation getReturnValue:&amp;returnValue];
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-24">äº”ã€CTMediator Swift å®è·µè¯¦è§£</h3>
<h4 data-id="heading-25">5.1 Swift ä¸ OC çš„æ¡¥æ¥é—®é¢˜</h4>
<p><strong>å…³é”®æŒ‘æˆ˜ï¼š</strong></p>
<ul>
<li>CTMediator æ˜¯ OC å†™çš„</li>
<li>Swift ç»„ä»¶éœ€è¦æš´éœ²ç»™ OC è°ƒç”¨</li>
<li>éœ€è¦ä½¿ç”¨ <code>@objc</code> æ ‡è®°</li>
</ul>
<h4 data-id="heading-26">5.2 å®Œæ•´ä»£ç ç¤ºä¾‹</h4>
<h5 data-id="heading-27">æ­¥éª¤ 1ï¼šä¸­é—´ä»¶æ‰©å±•ï¼ˆSwift ä¸­è°ƒç”¨ CTMediatorï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// CTMediator+SwiftExtension.swift</span>
<span class="hljs-keyword">import</span> UIKit

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">CTMediator</span> {
    
    <span class="hljs-comment">// Swiftä¸­å£°æ˜æ”¯ä»˜è°ƒç”¨æ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">with</span> <span class="hljs-params">orderId</span>: <span class="hljs-type">String</span>, <span class="hljs-params">callback</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-comment">// è°ƒç”¨OCçš„Target-Action</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šSwift çš„é—­åŒ…éœ€è¦è½¬æ¢ä¸º OC çš„ Block</span>
        <span class="hljs-keyword">let</span> ocCallback: (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span> <span class="hljs-operator">=</span> { success <span class="hljs-keyword">in</span>
            callback(success)
        }
        
        <span class="hljs-comment">// ä½¿ç”¨ performSelectorï¼ˆéœ€è¦æ¡¥æ¥ï¼‰</span>
        <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œéœ€è¦å°† Swift é—­åŒ…è½¬æ¢ä¸º OC Block</span>
        <span class="hljs-keyword">self</span>.perform(<span class="hljs-type">NSSelectorFromString</span>(<span class="hljs-string">"payWithOrderId:callback:"</span>), 
                    with: orderId, 
                    with: ocCallback)
    }
}
</code></pre>
<p><strong>æ›´å¥½çš„æ–¹å¼ï¼šç›´æ¥è°ƒç”¨ OC æ–¹æ³•</strong></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// CTMediator+SwiftExtension.swift</span>
<span class="hljs-keyword">import</span> UIKit

<span class="hljs-comment">// åˆ›å»º OC å…¼å®¹çš„ Block ç±»å‹</span>
<span class="hljs-keyword">typealias</span> <span class="hljs-type">PayCallback</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">@convention(block)</span> (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span>

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">CTMediator</span> {
    
    <span class="hljs-comment">// Swiftä¸­å£°æ˜æ”¯ä»˜è°ƒç”¨æ–¹æ³•</span>
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">with</span> <span class="hljs-params">orderId</span>: <span class="hljs-type">String</span>, <span class="hljs-params">callback</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-comment">// å°† Swift é—­åŒ…è½¬æ¢ä¸º OC Block</span>
        <span class="hljs-keyword">let</span> ocCallback: <span class="hljs-type">PayCallback</span> <span class="hljs-operator">=</span> callback
        
        <span class="hljs-comment">// è°ƒç”¨ OC æ–¹æ³•</span>
        <span class="hljs-keyword">self</span>.perform(<span class="hljs-type">NSSelectorFromString</span>(<span class="hljs-string">"payWithOrderId:callback:"</span>), 
                    with: orderId, 
                    with: ocCallback)
    }
}
</code></pre>
<h5 data-id="heading-28">æ­¥éª¤ 2ï¼šSwift æ”¯ä»˜ç»„ä»¶çš„ Target å®ç°</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Target_Pay.swiftï¼ˆéœ€@objcæš´éœ²ç»™OCï¼‰</span>
<span class="hljs-keyword">import</span> UIKit

<span class="hljs-comment">// âš ï¸ å…³é”®ï¼šå¿…é¡»æŒ‡å®šOCç±»åï¼Œå¦åˆ™CTMediatoræ‰¾ä¸åˆ°</span>
<span class="hljs-keyword">@objc(Target_Pay)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Target_Pay</span>: <span class="hljs-title class_">NSObject</span> {
    
    <span class="hljs-comment">// Actionæ–¹æ³•éœ€@objcï¼Œå‚æ•°åŒ¹é…</span>
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">action_payWithOrderId</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">orderId</span>: <span class="hljs-type">String</span>, 
                                    <span class="hljs-params">callback</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Target_Pay æ”¶åˆ°æ”¯ä»˜è¯·æ±‚ï¼Œè®¢å•IDï¼š<span class="hljs-subst">\(orderId)</span>"</span>)
        
        <span class="hljs-comment">// è°ƒç”¨Swiftæ”¯ä»˜é€»è¾‘</span>
        <span class="hljs-type">PayService</span>.shared.pay(orderId: orderId) { success <span class="hljs-keyword">in</span>
            callback(success)
        }
    }
}

<span class="hljs-comment">// æ”¯ä»˜é€»è¾‘ï¼ˆç»„ä»¶å†…éƒ¨ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PayService</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> shared <span class="hljs-operator">=</span> <span class="hljs-type">PayService</span>()
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">orderId</span>: <span class="hljs-type">String</span>, <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ”¯ä»˜è¯·æ±‚</span>
        <span class="hljs-type">DispatchQueue</span>.global().asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ</span>
            completion(<span class="hljs-literal">true</span>)
        }
    }
}
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ol>
<li>
<p><strong>@objc(Target_Pay)</strong></p>
<ul>
<li>å¿…é¡»æŒ‡å®š OC ç±»å</li>
<li>å¦åˆ™ CTMediator é€šè¿‡ <code>NSClassFromString(@"Target_Pay")</code> æ‰¾ä¸åˆ°ç±»</li>
</ul>
</li>
<li>
<p><strong>@objc func action_payWithOrderId</strong></p>
<ul>
<li>Action æ–¹æ³•å¿…é¡»ç”¨ <code>@objc</code> æ ‡è®°</li>
<li>å‚æ•°ç±»å‹å¿…é¡»ä¸ OC å…¼å®¹ï¼ˆStringã€Intã€Bool ç­‰ï¼‰</li>
</ul>
</li>
<li>
<p><strong>é—­åŒ…è½¬æ¢</strong></p>
<ul>
<li>Swift é—­åŒ…éœ€è¦è½¬æ¢ä¸º OC Block</li>
<li>ä½¿ç”¨ <code>@convention(block)</code> æˆ– <code>@escaping</code></li>
</ul>
</li>
</ol>
<h5 data-id="heading-29">æ­¥éª¤ 3ï¼šSwift è°ƒç”¨æ–¹ï¼ˆè®¢å•ç»„ä»¶ï¼‰</h5>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// OrderViewController.swift</span>
<span class="hljs-keyword">import</span> UIKit

<span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderViewController</span>: <span class="hljs-title class_">UIViewController</span> {
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        
        <span class="hljs-comment">// åˆ›å»ºæ”¯ä»˜æŒ‰é’®</span>
        <span class="hljs-keyword">let</span> payButton <span class="hljs-operator">=</span> <span class="hljs-type">UIButton</span>(type: .system)
        payButton.setTitle(<span class="hljs-string">"æ”¯ä»˜"</span>, for: .normal)
        payButton.addTarget(<span class="hljs-keyword">self</span>, 
                           action: <span class="hljs-keyword">#selector</span>(onPayClick), 
                           for: .touchUpInside)
        payButton.frame <span class="hljs-operator">=</span> <span class="hljs-type">CGRect</span>(x: <span class="hljs-number">100</span>, y: <span class="hljs-number">100</span>, width: <span class="hljs-number">100</span>, height: <span class="hljs-number">44</span>)
        view.addSubview(payButton)
    }
    
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">onPayClick</span>() {
        <span class="hljs-keyword">let</span> orderId <span class="hljs-operator">=</span> <span class="hljs-string">"ORDER_456"</span>
        
        <span class="hljs-comment">// é€šè¿‡ä¸­é—´ä»¶è°ƒç”¨æ”¯ä»˜åŠŸèƒ½ï¼Œå®Œå…¨è§£è€¦</span>
        <span class="hljs-type">CTMediator</span>.sharedInstance().pay(with: orderId) { success <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">if</span> success {
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ”¯ä»˜æˆåŠŸ"</span>)
                <span class="hljs-comment">// æ›´æ–°UI</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ”¯ä»˜å¤±è´¥"</span>)
                <span class="hljs-comment">// æ˜¾ç¤ºé”™è¯¯æç¤º</span>
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-30">5.3 Swift æ¡¥æ¥é…ç½®</h4>
<p>å¦‚æœ CTMediator æ˜¯ OC å†™çš„ï¼Œéœ€è¦åœ¨æ¡¥æ¥å¤´æ–‡ä»¶ä¸­å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// YourProject-Bridging-Header.h
#import "CTMediator.h"
</code></pre>
<hr/>
<h3 data-id="heading-31">å…­ã€CTMediator çš„ä¼˜åŠ¿ä¸åŠ£åŠ¿</h3>
<h4 data-id="heading-32">6.1 ä¼˜åŠ¿</h4>
<h5 data-id="heading-33">âœ… å®Œå…¨è§£è€¦</h5>
<pre><code class="hljs language-swift" lang="swift">è®¢å•ç»„ä»¶ <span class="hljs-operator">â†â†’</span> <span class="hljs-type">CTMediator</span> <span class="hljs-operator">â†â†’</span> æ”¯ä»˜ç»„ä»¶
         ï¼ˆæ— éœ€ <span class="hljs-keyword">import</span>ï¼‰
</code></pre>
<h5 data-id="heading-34">âœ… ç±»å‹å®‰å…¨ï¼ˆç›¸å¯¹ URL è·¯ç”±ï¼‰</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator æä¾›æ–¹æ³•å£°æ˜ï¼Œç¼–è¯‘æœŸæ£€æŸ¥
- (void)payWithOrderId:(NSString *)orderId 
              callback:(void(^)(BOOL success))callback;

// URL è·¯ç”±æ˜¯å­—ç¬¦ä¸²ï¼Œè¿è¡Œæ—¶æ‰å‘ç°é”™è¯¯
[Router open:@"app://pay?orderId=123"]; // æ‹¼å†™é”™è¯¯ä¸ä¼šç¼–è¯‘æŠ¥é”™
</code></pre>
<h5 data-id="heading-35">âœ… æ”¯æŒå¤æ‚å‚æ•°</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// æ”¯æŒå¯¹è±¡ã€å­—å…¸ã€æ•°ç»„ç­‰å¤æ‚å‚æ•°
- (void)showOrderDetail:(NSDictionary *)params;
</code></pre>
<h5 data-id="heading-36">âœ… æ”¯æŒè¿”å›å€¼</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// å¯ä»¥è¿”å›å¯¹è±¡
- (UIViewController *)getProfileViewController;
</code></pre>
<h4 data-id="heading-37">6.2 åŠ£åŠ¿</h4>
<h5 data-id="heading-38">âŒ éœ€è¦ç»´æŠ¤ä¸­é—´ä»¶æ–¹æ³•</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// æ¯å¢åŠ ä¸€ä¸ªç»„ä»¶è°ƒç”¨ï¼Œéœ€è¦åœ¨ CTMediator ä¸­æ·»åŠ æ–¹æ³•
- (void)payWithOrderId:callback:;
- (void)showOrderDetail:;
- (void)getUserInfo:;
// ... æ–¹æ³•è¶Šæ¥è¶Šå¤š
</code></pre>
<h5 data-id="heading-39">âŒ å‘½åçº¦å®šä¸¥æ ¼</h5>
<pre><code class="hljs language-diff" lang="diff">å¿…é¡»éµå¾ªï¼š
<span class="hljs-deletion">- Target ç±»ï¼šTarget_ç»„ä»¶å</span>
<span class="hljs-deletion">- Action æ–¹æ³•ï¼šaction_æ–¹æ³•å</span>
<span class="hljs-deletion">- æ‹¼å†™é”™è¯¯ä¼šå¯¼è‡´è¿è¡Œæ—¶å´©æºƒ</span>
</code></pre>
<h5 data-id="heading-40">âŒ Swift æ”¯æŒä¸å¤Ÿä¼˜é›…</h5>
<pre><code class="hljs language-css" lang="css">éœ€è¦ <span class="hljs-keyword">@objc</span> æ ‡è®°
éœ€è¦æ¡¥æ¥å¤´æ–‡ä»¶
é—­åŒ…è½¬æ¢å¤æ‚
</code></pre>
<hr/>
<h3 data-id="heading-41">ä¸ƒã€ç»„ä»¶åŒ– vs å·¥ç¨‹åŒ– vs æ’ä»¶åŒ–</h3>
<h4 data-id="heading-42">7.1 æ¦‚å¿µå¯¹æ¯”</h4>

































<table><thead><tr><th>æ¦‚å¿µ</th><th>æ ¸å¿ƒç›®æ ‡</th><th>æŠ€æœ¯æ‰‹æ®µ</th><th>ä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>ç»„ä»¶åŒ–</strong></td><td>æ‹†åˆ†æ¨¡å—ï¼Œè§£å†³ä»£ç è€¦åˆ</td><td>é™æ€æ‹†åˆ†æ¨¡å—ï¼ˆç¼–è¯‘æœŸæ•´åˆï¼‰ï¼Œé€šè¿‡ä¸­é—´ä»¶é€šä¿¡</td><td>è§£è€¦å½»åº•ã€ç¼–è¯‘é€Ÿåº¦å¿«ã€å›¢é˜Ÿåä½œé«˜æ•ˆã€æ¨¡å—å¯å¤ç”¨</td><td>å¤§å‹ APPã€å¤šå›¢é˜Ÿåä½œã€ä¸šåŠ¡ç¨³å®š</td></tr><tr><td><strong>å·¥ç¨‹åŒ–</strong></td><td>è§„èŒƒå¼€å‘æµç¨‹ï¼Œæå‡æ•ˆç‡</td><td>è‡ªåŠ¨åŒ–å·¥å…·ï¼ˆJenkinsã€Fastlaneï¼‰ã€ä»£ç è§„èŒƒã€CI/CD</td><td>å‡å°‘äººä¸ºæ“ä½œã€æ ‡å‡†åŒ–æµç¨‹ã€é™ä½å‡ºé”™ç‡</td><td>æ‰€æœ‰é¡¹ç›®ï¼ˆåŸºç¡€ä¿éšœï¼‰</td></tr><tr><td><strong>æ’ä»¶åŒ–</strong></td><td>åŠ¨æ€åŠ è½½æ¨¡å—ï¼Œè§£å†³åŒ…ä½“ç§¯å’ŒåŠ¨æ€æ›´æ–°</td><td>åŠ¨æ€åº“ï¼ˆ.frameworkï¼‰ã€åå°„åŠ è½½ã€æ²™ç›’éš”ç¦»</td><td>æŒ‰éœ€åŠ è½½ã€å‡å°åŒ…ä½“ç§¯ã€æ”¯æŒåŠ¨æ€æ›´æ–°ï¼ˆæ— éœ€å‘ç‰ˆï¼‰</td><td>æ¨¡å—é¢‘ç¹æ›´æ–°ã€åŒ…ä½“ç§¯æ•æ„Ÿåœºæ™¯</td></tr></tbody></table>
<h4 data-id="heading-43">7.2 è¯¦ç»†å¯¹æ¯”</h4>
<h5 data-id="heading-44">ç»„ä»¶åŒ–ï¼ˆComponentizationï¼‰</h5>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… ç¼–è¯‘æœŸæ•´åˆï¼ˆé™æ€é“¾æ¥ï¼‰</li>
<li>âœ… å®Œå…¨è§£è€¦</li>
<li>âœ… ç¼–è¯‘é€Ÿåº¦å¿«ï¼ˆæ¨¡å—ç‹¬ç«‹ç¼–è¯‘ï¼‰</li>
<li>âœ… å…¼å®¹æ€§å¥½ï¼ˆæ— åŠ¨æ€åŠ è½½é£é™©ï¼‰</li>
</ul>
<p><strong>å®ç°æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">è®¢å•ç»„ä»¶<span class="hljs-selector-class">.framework</span>
æ”¯ä»˜ç»„ä»¶<span class="hljs-selector-class">.framework</span>
ç”¨æˆ·ç»„ä»¶<span class="hljs-selector-class">.framework</span>
    â†“ ç¼–è¯‘æœŸæ•´åˆ
<span class="hljs-selector-tag">Main</span> Projectï¼ˆå£³å·¥ç¨‹ï¼‰
</code></pre>
<h5 data-id="heading-45">å·¥ç¨‹åŒ–ï¼ˆEngineeringï¼‰</h5>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… æµç¨‹è§„èŒƒ</li>
<li>âœ… è‡ªåŠ¨åŒ–å·¥å…·</li>
<li>âœ… CI/CD æµç¨‹</li>
<li>âœ… ä»£ç è§„èŒƒæ£€æŸ¥</li>
</ul>
<p><strong>å®ç°æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs">å¼€å‘ â†’ Git æäº¤ â†’ Jenkins æ„å»º â†’ è‡ªåŠ¨åŒ–æµ‹è¯• â†’ æ‰“åŒ… â†’ å‘å¸ƒ
</code></pre>
<p><strong>ä¸ç»„ä»¶åŒ–çš„å…³ç³»ï¼š</strong></p>
<ul>
<li>å·¥ç¨‹åŒ–æ˜¯"æµç¨‹è§„èŒƒ"</li>
<li>ç»„ä»¶åŒ–æ˜¯"æ¶æ„è®¾è®¡"</li>
<li>å·¥ç¨‹åŒ–ä¸ºç»„ä»¶åŒ–æä¾›è½åœ°ä¿éšœ</li>
</ul>
<h5 data-id="heading-46">æ’ä»¶åŒ–ï¼ˆPluginizationï¼‰</h5>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>âœ… è¿è¡Œæ—¶åŠ è½½ï¼ˆåŠ¨æ€é“¾æ¥ï¼‰</li>
<li>âœ… æŒ‰éœ€åŠ è½½</li>
<li>âœ… å‡å°åŒ…ä½“ç§¯</li>
<li>âš ï¸ å®ç°å¤æ‚</li>
<li>âš ï¸ å— iOS å®¡æ ¸é™åˆ¶ï¼ˆåŠ¨æ€åº“å¯èƒ½è¢«æ‹’ï¼‰</li>
</ul>
<p><strong>å®ç°æ–¹å¼ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ä¸» APP
  â†“ è¿è¡Œæ—¶ä¸‹è½½
æ’ä»¶ <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.framework</span>
æ’ä»¶ <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.framework</span>
  â†“ åŠ¨æ€åŠ è½½
è¿è¡Œ
</code></pre>
<p><strong>iOS é™åˆ¶ï¼š</strong></p>
<ul>
<li>App Store ä¸å…è®¸ä¸‹è½½å¯æ‰§è¡Œä»£ç </li>
<li>åŠ¨æ€åº“éœ€è¦ä¸» APP ç­¾å</li>
<li>å®¡æ ¸å¯èƒ½è¢«æ‹’</li>
</ul>
<h4 data-id="heading-47">7.3 é€‰æ‹©å»ºè®®</h4>
<pre><code class="hljs">é¡¹ç›®è§„æ¨¡å°ï¼ˆ&lt; 5äººï¼‰ï¼š
â†’ ä¸éœ€è¦ç»„ä»¶åŒ–ï¼Œå·¥ç¨‹åŒ–å³å¯

é¡¹ç›®è§„æ¨¡ä¸­ï¼ˆ5-20äººï¼‰ï¼š
â†’ æ¨èç»„ä»¶åŒ– + å·¥ç¨‹åŒ–

é¡¹ç›®è§„æ¨¡å¤§ï¼ˆ&gt; 20äººï¼‰ï¼š
â†’ å¿…é¡»ç»„ä»¶åŒ– + å·¥ç¨‹åŒ–

éœ€è¦åŠ¨æ€æ›´æ–°ï¼š
â†’ è€ƒè™‘æ’ä»¶åŒ–ï¼ˆä½†è¦æ³¨æ„å®¡æ ¸é£é™©ï¼‰
</code></pre>
<hr/>
<h3 data-id="heading-48">å…«ã€CTMediator æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-49">8.1 é”™è¯¯å¤„ç†</h4>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.m
- (void)payWithOrderId:(NSString *)orderId 
              callback:(void(^)(BOOL success))callback {
    
    Class targetClass = NSClassFromString(@"Target_Pay");
    
    if (!targetClass) {
        NSLog(@"âŒ æ‰¾ä¸åˆ° Target_Pay ç±»ï¼Œè¯·æ£€æŸ¥ç»„ä»¶æ˜¯å¦å·²é›†æˆ");
        if (callback) callback(NO);
        return;
    }
    
    id target = [[targetClass alloc] init];
    SEL action = NSSelectorFromString(@"action_payWithOrderId:callback:");
    
    if (![target respondsToSelector:action]) {
        NSLog(@"âŒ Target_Pay æœªå®ç° action_payWithOrderId:callback:");
        if (callback) callback(NO);
        return;
    }
    
    // ä½¿ç”¨ NSInvocation å®‰å…¨è°ƒç”¨
    NSMethodSignature *signature = [target methodSignatureForSelector:action];
    NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature];
    invocation.target = target;
    invocation.selector = action;
    
    [invocation setArgument:&amp;orderId atIndex:2];
    [invocation setArgument:&amp;callback atIndex:3];
    
    [invocation invoke];
}
</code></pre>
<h4 data-id="heading-50">8.2 å‚æ•°éªŒè¯</h4>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.m
- (void)payWithOrderId:(NSString *)orderId 
              callback:(void(^)(BOOL success))callback {
    
    // å‚æ•°éªŒè¯
    if (!orderId || orderId.length == 0) {
        NSLog(@"âŒ è®¢å•IDä¸èƒ½ä¸ºç©º");
        if (callback) callback(NO);
        return;
    }
    
    if (!callback) {
        NSLog(@"âš ï¸ å›è°ƒä¸èƒ½ä¸ºç©º");
        return;
    }
    
    // ... åç»­é€»è¾‘
}
</code></pre>
<h4 data-id="heading-51">8.3 æ—¥å¿—è®°å½•</h4>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.m
- (void)payWithOrderId:(NSString *)orderId 
              callback:(void(^)(BOOL success))callback {
    
    #ifdef DEBUG
    NSLog(@"ğŸ” CTMediator: è°ƒç”¨æ”¯ä»˜åŠŸèƒ½ï¼Œè®¢å•IDï¼š%@", orderId);
    #endif
    
    // ... è°ƒç”¨é€»è¾‘
    
    #ifdef DEBUG
    NSLog(@"âœ… CTMediator: æ”¯ä»˜åŠŸèƒ½è°ƒç”¨æˆåŠŸ");
    #endif
}
</code></pre>
<h4 data-id="heading-52">8.4 æ€§èƒ½ä¼˜åŒ–</h4>
<pre><code class="hljs language-objective-c" lang="objective-c">// CTMediator.m
@interface CTMediator ()
@property (nonatomic, strong) NSMutableDictionary *targetCache; // Target ç¼“å­˜
@end

@implementation CTMediator

- (instancetype)init {
    if (self = [super init]) {
        _targetCache = [NSMutableDictionary dictionary];
    }
    return self;
}

- (id)getTarget:(NSString *)targetName {
    // å…ˆä»ç¼“å­˜è·å–
    id target = self.targetCache[targetName];
    if (target) {
        return target;
    }

    // ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œåˆ›å»ºå¹¶ç¼“å­˜
    Class targetClass = NSClassFromString(targetName);
    if (targetClass) {
        target = [[targetClass alloc] init];
        self.targetCache[targetName] = target;
    }

    return target;
}

@end
</code></pre>
<h4 data-id="heading-53">8.5 æ‰©å±•æ€§ä¼˜åŒ–ï¼šæ–°å¢æ”¯ä»˜æ–¹å¼çš„æ­£ç¡®å§¿åŠ¿</h4>
<h5 data-id="heading-54">é—®é¢˜åœºæ™¯</h5>
<p>å½“éœ€è¦æ–°å¢æ”¯ä»˜æ–¹å¼ï¼ˆå¦‚Apple Payï¼‰æ—¶ï¼Œå¸¸è§çš„é”™è¯¯åšæ³•æ˜¯åœ¨PayServiceä¸­æ·»åŠ åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// âŒ é”™è¯¯åšæ³•ï¼šä¿®æ”¹æ ¸å¿ƒä»£ç 
- (void)pay:(NSString *)orderId paymentType:(NSString *)paymentType {
    if ([paymentType isEqualToString:@"alipay"]) {
        // æ”¯ä»˜å®é€»è¾‘
    } else if ([paymentType isEqualToString:@"applepay"]) { // æ–°å¢çš„
        // Apple Pay é€»è¾‘ â­ éœ€è¦ä¿®æ”¹æ ¸å¿ƒä»£ç 
    }
}
</code></pre>
<h5 data-id="heading-55">âœ… æ¨èæ–¹æ¡ˆï¼šæ³¨å†Œæœºåˆ¶</h5>
<h6 data-id="heading-56">æ­¥éª¤1ï¼šå®šä¹‰æ”¯ä»˜åè®®</h6>
<pre><code class="hljs language-objective-c" lang="objective-c">@protocol PaymentProtocol &lt;NSObject&gt;
@required
- (NSString *)paymentType;
- (void)pay:(NSString *)orderId completion:(void(^)(BOOL success))completion;
@end
</code></pre>
<h6 data-id="heading-57">æ­¥éª¤2ï¼šCTMediatoræ”¯æŒæ³¨å†Œ</h6>
<pre><code class="hljs language-objective-c" lang="objective-c">@interface CTMediator ()
@property (nonatomic, strong) NSMutableDictionary&lt;NSString *, id&lt;PaymentProtocol&gt;&gt; *paymentHandlers;
@end

- (void)registerPaymentHandler:(id&lt;PaymentProtocol&gt;)handler forPaymentType:(NSString *)paymentType {
    self.paymentHandlers[paymentType] = handler;
}

- (void)payWithOrderId:(NSString *)orderId
           paymentType:(NSString *)paymentType
              callback:(void(^)(BOOL success))callback {

    id&lt;PaymentProtocol&gt; handler = self.paymentHandlers[paymentType];
    if (handler) {
        [handler pay:orderId completion:callback];
    } else {
        // é™çº§åˆ°Target-Actionæ¨¡å¼
        [self performTargetActionWithOrderId:orderId paymentType:paymentType callback:callback];
    }
}
</code></pre>
<h6 data-id="heading-58">æ­¥éª¤3ï¼šå„æ”¯ä»˜æ–¹å¼å®ç°åè®®</h6>
<pre><code class="hljs language-objective-c" lang="objective-c">// ApplePayHandler.h
@interface ApplePayHandler : NSObject &lt;PaymentProtocol&gt;
@end

// ApplePayHandler.m
@implementation ApplePayHandler

- (NSString *)paymentType {
    return @"applepay";
}

- (void)pay:(NSString *)orderId completion:(void(^)(BOOL success))completion {
    // Apple Pay æ”¯ä»˜é€»è¾‘
    // å®Œå…¨ç‹¬ç«‹ï¼Œä¸éœ€è¦ä¿®æ”¹ä»»ä½•ç°æœ‰ä»£ç 
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
        sleep(1);
        completion(YES);
    });
}

@end
</code></pre>
<h6 data-id="heading-59">æ­¥éª¤4ï¼šåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶æ³¨å†Œ</h6>
<pre><code class="hljs language-objective-c" lang="objective-c">// åœ¨æ”¯ä»˜ç»„ä»¶æˆ–Appå¯åŠ¨æ—¶
ApplePayHandler *applePayHandler = [[ApplePayHandler alloc] init];
[[CTMediator sharedInstance] registerPaymentHandler:applePayHandler
                                      forPaymentType:@"applepay"];
</code></pre>
<h5 data-id="heading-60">ä¼˜åŠ¿å¯¹æ¯”</h5>


























<table><thead><tr><th>æ–¹å¼</th><th>æ˜¯å¦ä¿®æ”¹æ ¸å¿ƒä»£ç </th><th>æ‰©å±•æ€§</th><th>ç»´æŠ¤æ€§</th><th>æµ‹è¯•æ€§</th></tr></thead><tbody><tr><td><strong>åˆ†æ”¯åˆ¤æ–­</strong></td><td>âœ… éœ€è¦</td><td>âŒ å·®</td><td>âŒ å·®</td><td>âŒ éš¾</td></tr><tr><td><strong>æ³¨å†Œæœºåˆ¶</strong></td><td>âŒ ä¸éœ€è¦</td><td>âœ… å¥½</td><td>âœ… å¥½</td><td>âœ… æ˜“</td></tr></tbody></table>
<h5 data-id="heading-61">å­˜å‚¨æ³¨å†Œè¡¨çš„å»ºè®®</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// ä½¿ç”¨NSMutableDictionaryå­˜å‚¨æ˜ å°„å…³ç³»
@property (nonatomic, strong) NSMutableDictionary&lt;NSString *, id&lt;PaymentProtocol&gt;&gt; *paymentHandlers;

// çº¿ç¨‹å®‰å…¨è€ƒè™‘
@property (nonatomic, strong) dispatch_queue_t registryQueue;

- (void)registerPaymentHandler:(id&lt;PaymentProtocol&gt;)handler forPaymentType:(NSString *)paymentType {
    dispatch_barrier_async(self.registryQueue, ^{
        self.paymentHandlers[paymentType] = handler;
    });
}
</code></pre>
<hr/>
<h3 data-id="heading-62">ä¹ã€å¸¸è§é—®é¢˜ FAQ</h3>
<h4 data-id="heading-63">Q1: CTMediator å’Œ URL è·¯ç”±æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p><strong>CTMediatorï¼ˆTarget-Actionï¼‰ï¼š</strong></p>
<ul>
<li>âœ… ç±»å‹å®‰å…¨ï¼ˆç¼–è¯‘æœŸæ£€æŸ¥ï¼‰</li>
<li>âœ… æ”¯æŒå¤æ‚å‚æ•°</li>
<li>âœ… æ”¯æŒè¿”å›å€¼</li>
<li>âŒ éœ€è¦ç»´æŠ¤ä¸­é—´ä»¶æ–¹æ³•</li>
</ul>
<p><strong>URL è·¯ç”±ï¼š</strong></p>
<ul>
<li>âœ… ç®€å•æ˜“ç”¨</li>
<li>âœ… æ— éœ€ç»´æŠ¤æ–¹æ³•</li>
<li>âŒ å­—ç¬¦ä¸²ä¸å®‰å…¨ï¼ˆè¿è¡Œæ—¶é”™è¯¯ï¼‰</li>
<li>âŒ å‚æ•°ä¼ é€’å—é™ï¼ˆåªèƒ½å­—ç¬¦ä¸²ï¼‰</li>
</ul>
<h4 data-id="heading-64">Q2: Swift ç»„ä»¶å¦‚ä½•æš´éœ²ç»™ CTMediatorï¼Ÿ</h4>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¿…é¡»ä½¿ç”¨ @objc æ ‡è®°</span>
<span class="hljs-keyword">@objc(Target_Pay)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Target_Pay</span>: <span class="hljs-title class_">NSObject</span> {
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">action_payWithOrderId</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">orderId</span>: <span class="hljs-type">String</span>, 
                                    <span class="hljs-params">callback</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">Bool</span>) -&gt; <span class="hljs-type">Void</span>) {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h4 data-id="heading-65">Q3: å¦‚ä½•é¿å… Target ç±»æ‰¾ä¸åˆ°ï¼Ÿ</h4>
<ol>
<li>
<p><strong>æ£€æŸ¥å‘½åçº¦å®š</strong></p>
<pre><code class="hljs">Target ç±»åï¼šTarget_ç»„ä»¶åï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰
ç¤ºä¾‹ï¼šTarget_Payã€Target_Order
</code></pre>
</li>
<li>
<p><strong>æ£€æŸ¥ç»„ä»¶æ˜¯å¦å·²é›†æˆ</strong></p>
<pre><code class="hljs language-sql" lang="sql">åœ¨ Build Phases â†’ Link <span class="hljs-type">Binary</span> <span class="hljs-keyword">With</span> Libraries ä¸­æ£€æŸ¥
</code></pre>
</li>
<li>
<p><strong>æ·»åŠ æ—¥å¿—è°ƒè¯•</strong></p>
<pre><code class="hljs language-objective-c" lang="objective-c">Class targetClass = NSClassFromString(@"Target_Pay");
if (!targetClass) {
    NSLog(@"âŒ æ‰¾ä¸åˆ° Target_Payï¼Œå·²åŠ è½½çš„ç±»ï¼š%@", 
          [self getAllLoadedClasses]);
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-66">Q4: å¦‚ä½•æ”¯æŒå¤šå‚æ•°æ–¹æ³•ï¼Ÿ</h4>
<p>ä½¿ç”¨ NSInvocationï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">- (void)performTarget:(NSString *)targetName
                action:(NSString *)actionName
                params:(NSArray *)params {

    Class targetClass = NSClassFromString(targetName);
    id target = [[targetClass alloc] init];
    SEL action = NSSelectorFromString(actionName);

    NSMethodSignature *signature = [target methodSignatureForSelector:action];
    NSInvocation *invocation = [NSInvocation invocationWithMethodSignature:signature];

    invocation.target = target;
    invocation.selector = action;

    // è®¾ç½®å‚æ•°
    for (NSInteger i = 0; i &lt; params.count; i++) {
        id param = params[i];
        [invocation setArgument:&amp;param atIndex:i + 2]; // è·³è¿‡ self å’Œ _cmd
    }

    [invocation invoke];
}
</code></pre>
<h4 data-id="heading-67">Q5: æ–°å¢æ”¯ä»˜æ–¹å¼ä¸ºä»€ä¹ˆè¦ç”¨æ³¨å†Œæœºåˆ¶è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ä»£ç ï¼Ÿ</h4>
<h5 data-id="heading-68">ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// âŒ åœ¨PayServiceä¸­æ·»åŠ åˆ†æ”¯åˆ¤æ–­
- (void)pay:(NSString *)orderId paymentType:(NSString *)paymentType {
    if ([paymentType isEqualToString:@"alipay"]) {
        // æ”¯ä»˜å®é€»è¾‘
    } else if ([paymentType isEqualToString:@"applepay"]) { // æ–°å¢
        // Apple Pay é€»è¾‘ - éœ€è¦ä¿®æ”¹æ ¸å¿ƒä»£ç 
    }
}
</code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>éœ€è¦ä¿®æ”¹å·²æœ‰ä»£ç </li>
<li>è¿åå¼€é—­åŸåˆ™</li>
<li>éš¾ä»¥æµ‹è¯•</li>
<li>å¢åŠ ä»£ç å¤æ‚åº¦</li>
</ul>
<h5 data-id="heading-69">æ³¨å†Œæœºåˆ¶çš„ä¼˜åŠ¿</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">// âœ… æ³¨å†Œæ–°æ”¯ä»˜æ–¹å¼ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç 
ApplePayHandler *handler = [[ApplePayHandler alloc] init];
[[CTMediator sharedInstance] registerPaymentHandler:handler forPaymentType:@"applepay"];
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>âœ… <strong>é›¶ä¾µå…¥</strong>ï¼šä¸ä¿®æ”¹ç°æœ‰ä»£ç </li>
<li>âœ… <strong>å¯æ‰©å±•</strong>ï¼šåŠ¨æ€æ·»åŠ æ–°æ”¯ä»˜æ–¹å¼</li>
<li>âœ… <strong>æ˜“æµ‹è¯•</strong>ï¼šå„æ”¯ä»˜æ–¹å¼ç‹¬ç«‹æµ‹è¯•</li>
<li>âœ… <strong>è§£è€¦åˆ</strong>ï¼šæ”¯ä»˜é€»è¾‘å®Œå…¨éš”ç¦»</li>
</ul>
<h5 data-id="heading-70">æ³¨å†Œæœºåˆ¶çš„æœ¬è´¨</h5>
<p>æ³¨å†Œæœºåˆ¶å°±æ˜¯<strong>ä»ç¡¬ç¼–ç çš„å­—ç¬¦ä¸²æ˜ å°„ï¼Œè½¬æ¢ä¸ºæ‰‹åŠ¨ç»´æŠ¤çš„æ˜ å°„è¡¨</strong>ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// ç¡¬ç¼–ç æ–¹å¼ï¼šNSClassFromString(@"Target_Pay")
// æ³¨å†Œæ–¹å¼ï¼šç»´æŠ¤ä¸€ä¸ª @{@"pay": [Target_Pay class]} çš„å­—å…¸
</code></pre>
<p>è¿™ç§è½¬å˜è™½ç„¶å¢åŠ äº†ä¸€å±‚æ³¨å†Œï¼Œä½†æ¢æ¥äº†æ›´å¥½çš„æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ã€‚</p>
<h4 data-id="heading-71">Q6: æ³¨å†Œè¡¨ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„å­˜å‚¨ï¼Ÿ</h4>
<p><strong>æœ€å¸¸ç”¨ï¼š<code>NSMutableDictionary</code></strong></p>
<pre><code class="hljs language-objective-c" lang="objective-c">@interface CTMediator ()
@property (nonatomic, strong) NSMutableDictionary&lt;NSString *, id&lt;PaymentProtocol&gt;&gt; *paymentHandlers;
@end
</code></pre>
<h5 data-id="heading-72">å­˜å‚¨æ–¹å¼å¯¹æ¯”</h5>








































<table><thead><tr><th>æ–¹å¼</th><th>æŸ¥æ‰¾æ€§èƒ½</th><th>å†…å­˜å ç”¨</th><th>çº¿ç¨‹å®‰å…¨</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>NSDictionary</strong></td><td>O(1)</td><td>ä¸­ç­‰</td><td>âœ…</td><td>å¤§å¤šæ•°é¡¹ç›®</td></tr><tr><td>NSMapTable</td><td>O(1)</td><td>ä½</td><td>âš ï¸</td><td>éœ€è¦å¼±å¼•ç”¨</td></tr><tr><td>NSArray</td><td>O(n)</td><td>ä¸­ç­‰</td><td>âœ…</td><td>éœ€è¦æ’åº</td></tr><tr><td>æ•°æ®åº“</td><td>O(log n)</td><td>é«˜</td><td>âœ…</td><td>éœ€è¦æŒä¹…åŒ–</td></tr></tbody></table>
<h5 data-id="heading-73">çº¿ç¨‹å®‰å…¨å®ç°</h5>
<pre><code class="hljs language-objective-c" lang="objective-c">@property (nonatomic, strong) dispatch_queue_t registryQueue;

- (void)registerPaymentHandler:(id&lt;PaymentProtocol&gt;)handler forPaymentType:(NSString *)paymentType {
    dispatch_barrier_async(self.registryQueue, ^{
        self.paymentHandlers[paymentType] = handler;
    });
}

- (id&lt;PaymentProtocol&gt;)getHandlerForPaymentType:(NSString *)paymentType {
    __block id handler = nil;
    dispatch_sync(self.registryQueue, ^{
        handler = self.paymentHandlers[paymentType];
    });
    return handler;
}
</code></pre>
<hr/>
<h3 data-id="heading-74">åã€æ€»ç»“</h3>
<h4 data-id="heading-75">CTMediator æ ¸å¿ƒè¦ç‚¹</h4>
<ol>
<li>
<p><strong>Target-Action æ¨¡å¼</strong></p>
<ul>
<li>Target ç±»ï¼š<code>Target_ç»„ä»¶å</code></li>
<li>Action æ–¹æ³•ï¼š<code>action_æ–¹æ³•å</code></li>
</ul>
</li>
<li>
<p><strong>Runtime åå°„è°ƒç”¨</strong></p>
<ul>
<li><code>NSClassFromString</code> æŸ¥æ‰¾ç±»</li>
<li><code>NSSelectorFromString</code> æ„é€ æ–¹æ³•</li>
<li><code>performSelector</code> æˆ– <code>NSInvocation</code> è°ƒç”¨</li>
</ul>
</li>
<li>
<p><strong>å®Œå…¨è§£è€¦</strong></p>
<ul>
<li>è°ƒç”¨æ–¹æ— éœ€ import ç›®æ ‡ç»„ä»¶</li>
<li>é€šè¿‡ä¸­é—´ä»¶é€šä¿¡</li>
</ul>
</li>
<li>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<ul>
<li>å¤§å‹ APP</li>
<li>å¤šå›¢é˜Ÿåä½œ</li>
<li>ä¸šåŠ¡ç¨³å®š</li>
</ul>
</li>
</ol>
<h4 data-id="heading-76">ä¸å…¶ä»–æ–¹æ¡ˆå¯¹æ¯”</h4>

































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ç±»å‹å®‰å…¨</th><th>æ˜“ç”¨æ€§</th><th>æ€§èƒ½</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>CTMediator</strong></td><td>âœ…</td><td>â­â­â­</td><td>âœ…</td><td>å¤§å‹é¡¹ç›®</td></tr><tr><td><strong>URL è·¯ç”±</strong></td><td>âŒ</td><td>â­â­â­â­â­</td><td>âœ…</td><td>ä¸­å°å‹é¡¹ç›®</td></tr><tr><td><strong>Protocol</strong></td><td>âœ…</td><td>â­â­â­â­</td><td>âœ…</td><td>ä¸­å‹é¡¹ç›®</td></tr></tbody></table>
<hr/>
<p><strong>æœ€åæ›´æ–°ï¼š2024å¹´</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†æ€ª AI çŠ¯ä½çº§é”™è¯¯ï¼å‘½åä¸ä¸€è‡´æ‰æ˜¯æ•°æ®â€œæ¶ˆå¤±â€çš„å…ƒå‡¶]]></title>    <link>https://juejin.cn/post/7596299957277982747</link>    <guid>https://juejin.cn/post/7596299957277982747</guid>    <pubDate>2026-01-18T11:23:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596299957277982747" data-draft-id="7596221097865183238" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†æ€ª AI çŠ¯ä½çº§é”™è¯¯ï¼å‘½åä¸ä¸€è‡´æ‰æ˜¯æ•°æ®â€œæ¶ˆå¤±â€çš„å…ƒå‡¶"/> <meta itemprop="keywords" content="åç«¯,AIç¼–ç¨‹,AIGC"/> <meta itemprop="datePublished" content="2026-01-18T11:23:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç’ä¹±æ’"/> <meta itemprop="url" content="https://juejin.cn/user/3653045848387931"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†æ€ª AI çŠ¯ä½çº§é”™è¯¯ï¼å‘½åä¸ä¸€è‡´æ‰æ˜¯æ•°æ®â€œæ¶ˆå¤±â€çš„å…ƒå‡¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3653045848387931/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç’ä¹±æ’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-18T11:23:16.000Z" title="Sun Jan 18 2026 11:23:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€ï¼šä»â€œå‘½åâ€è¿™ä¸ªè€ç¬‘è¯è¯´èµ·</h2>
<p>è®¡ç®—æœºé¢†åŸŸæµä¼ ç€ä¸€ä¸ªè‘—åçš„è°ƒä¾ƒï¼šè®¡ç®—æœºç§‘å­¦æœ‰ä¸‰å¤§éš¾é¢˜â€”â€”ç¼“å­˜å¤±æ•ˆã€<strong>å‘½å</strong>ï¼Œä»¥åŠå·®ä¸€é”™è¯¯ã€‚</p>
<p>è¿™ä¸ªè¯´æ³•å¬èµ·æ¥åƒç©ç¬‘ï¼Œä½†æ¯ä¸€ä¸ªå†™è¿‡å·¥ç¨‹ä»£ç çš„äººéƒ½æ¸…æ¥šï¼Œå…¶ä¸­çš„â€œå‘½åâ€å¹¶ä¸è½»æ¾ã€‚ä¸€æ—¦å‘½åå‡ºç°åå·®ï¼Œè¯¯è§£å°±ä¼šåœ¨ç³»ç»Ÿä¸­è¢«æ”¾å¤§ã€ä¼ æ’­ï¼Œå¹¶é•¿æœŸå­˜åœ¨ã€‚</p>
<p>åœ¨ä¼ ç»Ÿè½¯ä»¶å·¥ç¨‹ä¸­ï¼Œå‘½åä¸å½“å¾€å¾€åªä¼šå¯¼è‡´äººç±»å¼€å‘è€…çš„è¯¯ç”¨æˆ–ç»´æŠ¤æˆæœ¬ä¸Šå‡ã€‚ç„¶è€Œï¼Œå½“ç³»ç»Ÿçš„ä½¿ç”¨è€…ä»äººå˜æˆ AI æ—¶ï¼Œè¿™ä¸ªé—®é¢˜è¢«è¿›ä¸€æ­¥æ”¾å¤§äº†ã€‚å½“ç±»åã€æ¥å£åæˆ–æ¦‚å¿µåˆ’åˆ†æœ¬èº«å­˜åœ¨æ­§ä¹‰æˆ–è¯¯å¯¼æ—¶ï¼ŒAI å¹¶ä¸æ˜¯â€œçŠ¯äº†ä½çº§é”™è¯¯â€ï¼Œè€Œæ˜¯<strong>å¿ å®åœ°æ‰§è¡Œäº†ä¸€ä¸ªé”™è¯¯çš„è¯­ä¹‰çº¿ç´¢</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€èƒŒæ™¯</h2>
<p>ä¸€ä¸ªå°çš„æŸ¥è¯¢åŠŸèƒ½ï¼Œç”¨ ES æŒ‰æ¡ä»¶æŸ¥è¯¢ä¸‰ç±»æ•°æ®ï¼ˆå‘Šè­¦ Alertã€äº‹ä»¶ Incidentã€æŒ‡æ ‡ Metricï¼‰ï¼Œè¿”å›èšåˆåçš„åˆ—è¡¨ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„åŠŸèƒ½ï¼Œæˆ‘å°±æƒ³è¯•è¯•ç”¨ AI å‘½ä»¤è¡Œå·¥å…·ç›´æ¥ç”Ÿæˆå®ç°ï¼Œçœ‹çœ‹å®ƒèƒ½ä¸èƒ½ä¸€æ¬¡æå®šã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ•´ä½“äº¤äº’</h2>
<table border="1" cellspacing="0" cellpadding="8">
  <thead>
    <tr>
      <th><strong>åºå·</strong></th>
      <th><strong>è¾“å…¥å†…å®¹</strong></th>
      <th><strong>AI å®Œæˆå·¥ä½œ</strong></th>
      <th><strong>å‘ç°çš„é—®é¢˜</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>è¾“å…¥åŸºæœ¬çš„éœ€æ±‚ï¼ˆè¿™é‡Œæœ‰<strong>è¦æ±‚ç”¨ ES æŸ¥è¯¢</strong>ï¼‰</td>
      <td>åŸºæœ¬å®Œæˆäº†æ‰€æœ‰çš„åŠŸèƒ½ç‚¹</td>
      <td>
        <ul>
          <li>
            <strong>æŒ‡æ ‡æ•°æ®æŸ¥è¯¢æ–¹å¼é”™è¯¯</strong>ï¼š
            æŸ¥è¯¢èµ°äº† MySQL
          </li>
          <li>
            <strong>ä»£ç å¯é‡æ„</strong>ï¼š
            ä»£ç ä¸­å­˜åœ¨ä¸€äº›é‡å¤çš„ä»£ç ï¼Œå¯ä»¥æŠ½å–ä¸ºå…¬å…±æ–¹æ³•
          </li>
        </ul>
      </td>   
    </tr>
    <tr>
      <td>2</td>
      <td>è¾“å…¥ç¬¬ä¸€æ­¥å‘ç°çš„é—®é¢˜ç‚¹</td>
      <td>æŠ½å–äº†å…¬å…±æ–¹æ³•ï¼Œä½†ç”±äºè¿˜æ˜¯æ²¡å‘ç°æŒ‡æ ‡æ•°æ®çš„ç´¢å¼•ï¼Œå› æ­¤æŸ¥è¯¢æ–¹å¼ä¾æ—§æ²¡å˜</td>
      <td>
        <ul>
          <li>
            <strong>æŒ‡æ ‡æ•°æ®æŸ¥è¯¢æ–¹å¼é”™è¯¯</strong>ï¼š
            è¿˜æ˜¯æ²¡å‘ç°å…¶ ES ç´¢å¼•ã€‚
          </li>
        </ul>
      </td>  
    </tr>
    <tr>
      <td>3</td>
      <td>æç¤ºæŒ‡æ ‡ ES ç´¢å¼•ä½ç½®</td>
      <td>æˆåŠŸå†™å‡ºæŒ‡æ ‡çš„ ES æŸ¥è¯¢</td>
      <td/>
    </tr>
    <tr>
      <td>4</td>
      <td colspan="3">
        æœ€åäººå·¥ä¼˜åŒ–ä»£ç ï¼Œä¸»è¦ä¼˜åŒ–ç‚¹ï¼šæ³¨é‡Šé£æ ¼ã€å‚æ•°æ ¡éªŒé€»è¾‘ã€æšä¸¾çš„ä½¿ç”¨
      </td>
    </tr>
  </tbody>
</table>
<h2 data-id="heading-3">å››ã€æ€è€ƒ</h2>
<h3 data-id="heading-4">4.1 AI è¯¯åˆ¤åŸå› </h3>
<p>é—®é¢˜ï¼šä¸ºä»€ä¹ˆ AI ä¼šæ‰¾ä¸åˆ°æŒ‡æ ‡ Metric çš„ ES ç´¢å¼•ï¼Œä½†èƒ½æ‰¾åˆ°å‘Šè­¦ Alert å’Œäº‹ä»¶ Incident çš„ ES ç´¢å¼•ï¼Ÿ</p>
<p>è¿™é‡Œå¯ä»¥çœ‹ä¸‹ AI çš„æ€è€ƒè¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">AI:
è®©æˆ‘æŸ¥çœ‹ESç›¸å…³çš„Daoï¼š

<span class="hljs-built_in">glob</span>(**/AlertElasticSearchDao.java)
- Found <span class="hljs-number">1</span> files

AI:
è®©æˆ‘æŸ¥çœ‹æŒ‡æ ‡å’Œäº‹ä»¶çš„ES Daoï¼š

<span class="hljs-built_in">glob</span>(**/MetricElasticSearchDao.java)
- Found <span class="hljs-number">0</span> files

<span class="hljs-built_in">glob</span>(**/IncidentElasticSearchDao.java)
- Found <span class="hljs-number">1</span> files

AI:
ç°åœ¨è®©æˆ‘æŸ¥çœ‹ESçš„å®ä½“ç±»

<span class="hljs-built_in">glob</span>(**/IncidentElasticSearchDoc.java)
- Found <span class="hljs-number">1</span> files

<span class="hljs-built_in">glob</span>(**/MetricElasticSearchDoc.java)
- Found <span class="hljs-number">0</span> files

AI:
è®©æˆ‘æŸ¥çœ‹æ‰€æœ‰ESå®ä½“ï¼š

<span class="hljs-built_in">glob</span>(**<span class="hljs-comment">/*ElasticSearchDoc.java)
- Found 2 files

AI:
ç°åœ¨æˆ‘éœ€è¦æŸ¥çœ‹æŒ‡æ ‡ç›¸å…³ç±»çš„ç»“æ„ï¼Œçœ‹çœ‹æ˜¯å¦æœ‰ESç›¸å…³çš„æŸ¥è¯¢ï¼š

glob(**/</span>MetricDao.java)
- Found <span class="hljs-number">1</span> files
</code></pre>
<p><strong>å‘ç°é—®é¢˜</strong>ï¼šçœ‹å®Œ AI çš„æ€è€ƒè¿‡ç¨‹ï¼Œä¸éš¾å‘ç°åŸå› å…¶å®å°±æ˜¯ AI åœ¨æœç´¢ä»£ç æ—¶æ²¡å‘ç° MetricElasticSearchDoc è¿™ä¸ªç±»ï¼Œå› ä¸ºå®é™…çš„ç±»åå« <strong>MetricEsSearchDoc</strong>ã€‚å› æ­¤ AI è®¤ä¸ºæŒ‡æ ‡æ²¡æœ‰ ES ç´¢å¼•ï¼Œä¹Ÿå°±å¯¼è‡´ä»–æœ€ç»ˆèµ°äº† MySQL çš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çŒœæµ‹ä¸€ä¸‹ AI çš„æ€è·¯æ˜¯æ€ä¹ˆæ ·çš„ï¼š</p>
<ol>
<li><strong>å…ˆçœ‹å‘Šè­¦ ES</strong>ï¼šæ‰¾åˆ° AlertElasticSearchDao/Docï¼Œæ¨æ–­é¡¹ç›®ç»Ÿä¸€å‘½åè§„åˆ™ä¸º *ElasticSearchDao/Doc</li>
<li><strong>å¥—æ¨¡æ¿æ‰¾æŒ‡æ ‡ ES</strong>ï¼šæŒ‰è§„åˆ™æœ MetricElasticSearchDao/Docï¼Œç»“æœæ²¡æ‰¾åˆ°ã€‚</li>
<li><strong>å†æ¨ªå‘ç¡®è®¤</strong>ï¼šç”¨ *ElasticSearchDaoã€*ElasticSearchDoc æ‰«ä¸€éï¼Œå‘ç°åªæœ‰ Alertã€Incidentï¼Œæ²¡æœ‰ Metricã€‚</li>
<li><strong>å¾—å‡ºé”™è¯¯çš„ç»“è®º</strong>ï¼šæŒ‡æ ‡ Metric æ²¡æœ‰ ES å®ç°ã€‚</li>
<li><strong>æ­¢æŸèµ°å¯è·‘æ–¹æ¡ˆ</strong>ï¼šä¸ºäº†äº¤ä»˜åŠŸèƒ½ï¼Œè½¬å»çœ‹ MetricDaoï¼Œå‘ç°é‡Œé¢æ˜¯ MySQL æŸ¥è¯¢ï¼Œå°±é¡ºç€å†™äº†ã€‚</li>
</ol>
<p><strong>é€è¿‡ç°è±¡çœ‹æœ¬è´¨</strong>ï¼š</p>
<ul>
<li><strong>ç°è±¡</strong>ï¼šAI æ²¡æœ‰éµå¾ªæˆ‘ä»¬çš„è®¾å®šä½¿ç”¨ ES æŸ¥è¯¢ï¼Œè€Œæ˜¯èµ°äº† MySQLã€‚</li>
<li><strong>æœ¬è´¨</strong>ï¼šAI å¹¶ä¸æ˜¯åœ¨ç†è§£æ•´ä¸ªä¸šåŠ¡æˆ–æ¶æ„ï¼Œè€Œæ˜¯åœ¨<strong>ç”¨å¯è§‚å¯Ÿåˆ°çš„å‘½åæ¨¡å¼æ¥è¿‘ä¼¼æ•´ä¸ªç³»ç»Ÿç»“æ„</strong>ã€‚</li>
</ul>
<h3 data-id="heading-5">4.2 å¦‚ä½•è§„é¿è¿™ç±»é—®é¢˜</h3>
<p>å…¶å®è¿™ä¸ªé—®é¢˜ç®—æ˜¯ä¸€ä¸ª<strong>ä¸Šä¸‹æ–‡é—®é¢˜</strong>ï¼Œå³ AI æ²¡æœ‰å……è¶³çš„ä¸Šä¸‹æ–‡æ¥å®ç°ä»£ç ã€‚è¿™é‡Œåˆ—ä¸¾ä¸€äº›é€šç”¨çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>æå‰å–‚å¥½ç›¸å…³ç±»</strong>ï¼šä¸»åŠ¨ç»™å‡ºéœ€æ±‚æ¶‰åŠåˆ°çš„ç±»ï¼ˆä¾‹å¦‚æˆ‘çš„ç¬¬ä¸‰æ­¥äº¤äº’ï¼‰ï¼Œé˜²æ­¢ AI æ‰¾ä¸åˆ°ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯æœ€ç®€å•çš„æ–¹æ³•ã€‚</li>
<li><strong>æ„å»ºä»“åº“çº§çŸ¥è¯†åº“</strong>ï¼šç»´æŠ¤ä¸€ä»½è½»é‡çš„ä»“åº“çº§ç´¢å¼•ï¼Œæ˜ç¡®æŸç±»èƒ½åŠ›åœ¨å“ªã€å…¥å£æ˜¯ä»€ä¹ˆã€å‘½åè§„èŒƒæ˜¯ä»€ä¹ˆã€‚</li>
<li><strong>Agent Skill</strong>ï¼šå¯ä»¥è€ƒè™‘ä½¿ç”¨æœ€è¿‘æ¯”è¾ƒç«çš„ Agent Skill æŠ€æœ¯ï¼Œè®© AI çŸ¥é“ ES èƒ½åŠ›æœ‰å“ªäº›ç±»ã€‚</li>
<li><strong>æŒ‡å®šè§„åˆ™</strong>ï¼šåœ¨ System Prompt ä¸­æå‰å‘Šè¯‰ AIï¼Œå¦‚æœå®ç°ä¸äº†ä¸è¦ä¹±å®ç°ï¼ˆä¾‹å¦‚åº”è¯¥ç”¨ ES æŸ¥è¯¢ä½†æœ€ç»ˆç”¨äº† MySQL æŸ¥è¯¢ï¼‰</li>
</ol>
<p>å› æ­¤ï¼Œé—®é¢˜ä¸åœ¨äº AI å¶å°”çŠ¯é”™ï¼Œè€Œåœ¨äºæˆ‘ä»¬çš„å·¥ç¨‹ç¯å¢ƒæ˜¯å¦è®©å®ƒâ€œæœ‰çº¿ç´¢å¯å¾ªâ€ï¼Œ<strong>ä¸º AI æä¾›å‹å¥½çš„è¿è¡Œç¯å¢ƒ</strong>å°¤ä¸ºé‡è¦ã€‚</p>
<h2 data-id="heading-6">äº”ã€æ€»ç»“</h2>
<table border="1" cellspacing="0" cellpadding="8">
  <thead>
    <tr>
      <th><strong>AI ä¼˜ç‚¹</strong></th>
      <th><strong>AI ç¼ºç‚¹</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <ul>
          <li>
            <strong>åŠŸèƒ½åŸºæœ¬æ­£ç¡®</strong>ï¼š
            ä»£ç å®ç°çš„åŠŸèƒ½éƒ½æ˜¯ç¬¦åˆé¢„æœŸçš„ã€‚
          </li>
          <li>
            <strong>æ³¨é‡Šæ¸…æ™°</strong>ï¼š
            ç”Ÿæˆçš„ä»£ç é€šå¸¸è‡ªå¸¦è§£é‡Šï¼Œé˜…è¯»æˆæœ¬ä½ï¼Œå¯¹åç»­ç»´æŠ¤å‹å¥½ã€‚
          </li>
          <li>
            <strong>è‡ªæˆ‘æ£€æŸ¥</strong>ï¼š
            åœ¨å†™å®Œä»£ç åä¼šç”¨ maven compile æ¥æ£€æŸ¥èƒ½å¦ç¼–è¯‘é€šè¿‡ï¼Œ
            å¦‚æœä¸é€šè¿‡è¿˜èƒ½è‡ªæˆ‘çº é”™ï¼ˆæ¯”å¦‚ checkstyle é—®é¢˜ï¼‰ã€‚
          </li>
        </ul>
      </td>
      <td>
        <ul>
          <li>
            <strong>ä¸Šä¸‹æ–‡ä¸å¤Ÿæ—¶ï¼Œä¼šâ€œé¡ºç€èƒ½è·‘çš„è·¯èµ°â€</strong>ï¼š
            å½“å®ƒæ— æ³•ç¡®è®¤å·²æœ‰å®ç°æ˜¯å¦å­˜åœ¨æ—¶ï¼Œå°±ä¼šé€€è€Œæ±‚å…¶æ¬¡æ²¿ç”¨å®ƒèƒ½æ‰¾åˆ°çš„æ–¹å¼å®ç°â€”â€”
            ä¸æ˜¯å› ä¸ºå®ƒâ€œå·æ‡’â€ï¼Œè€Œæ˜¯å› ä¸ºå®ƒåªèƒ½åŸºäºâ€œèƒ½æ‰¾åˆ°çš„è¯æ®â€åšå†³ç­–ã€‚
          </li>
          <li>
            <strong>å®¹æ˜“è¢«å‘½åæ¨¡å¼è¯¯å¯¼</strong>ï¼š
            å®ƒåœ¨ç”¨å‘½åè§„å¾‹æ¨æ–­ç³»ç»Ÿèƒ½åŠ›è¾¹ç•Œï¼Œ
            ä¸€æ—¦å‘½åä¸ä¸€è‡´ï¼Œç³»ç»Ÿé‡ŒçœŸå®å­˜åœ¨çš„èƒ½åŠ›å°±ä¼šåœ¨å®ƒçœ¼é‡Œâ€œéšèº«â€ã€‚
          </li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>
<p>æ€»ä½“æ¥è¯´ï¼Œä»¥å‰å‘½åä¸ä¸€è‡´ï¼Œæ›´å¤šæ˜¯è®©äººè¯»ä»£ç ç—›è‹¦ä¸€ç‚¹ã€ç»´æŠ¤æˆæœ¬é«˜ä¸€ç‚¹ï¼Œä½†åœ¨ AI å‚ä¸å¼€å‘ä¹‹åï¼Œå®ƒçš„å½±å“å‡çº§äº†ï¼š</p>
<ul>
<li><strong>å¯¹äºº</strong>ï¼šå‘½åä¸ä¸€è‡´ = é˜…è¯»/ç»´æŠ¤æˆæœ¬ä¸Šå‡</li>
<li><strong>å¯¹ AI</strong>ï¼šå‘½åä¸ä¸€è‡´ = <strong>ç³»ç»Ÿç»“æ„ä¸å¯è§‚æµ‹</strong>ï¼ˆè¿›è€Œæ¨å¯¼å‡ºé”™è¯¯æ¶æ„ç»“è®ºï¼‰</li>
</ul>
<p>å› æ­¤ï¼š<strong>AI å¹¶æ²¡æœ‰è®©å‘½åå˜å¾—ä¸é‡è¦ï¼Œç›¸åï¼Œå®ƒè®©å‘½åç¬¬ä¸€æ¬¡å˜æˆäº†â€œæ¶æ„æ˜¯å¦å­˜åœ¨â€çš„è¯æ®</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¨æ ˆå·¥ç¨‹å¸ˆï¼šæ˜¯æ•‘æ˜Ÿè¿˜æ˜¯æ€æ‰‹ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7596181746083856434</link>    <guid>https://juejin.cn/post/7596181746083856434</guid>    <pubDate>2026-01-19T02:53:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7596181746083856434" data-draft-id="7596698363933753394" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¨æ ˆå·¥ç¨‹å¸ˆï¼šæ˜¯æ•‘æ˜Ÿè¿˜æ˜¯æ€æ‰‹ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-19T02:53:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç³–å¢¨å¤•"/> <meta itemprop="url" content="https://juejin.cn/user/17231267252679"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¨æ ˆå·¥ç¨‹å¸ˆï¼šæ˜¯æ•‘æ˜Ÿè¿˜æ˜¯æ€æ‰‹ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/17231267252679/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç³–å¢¨å¤•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-19T02:53:28.000Z" title="Mon Jan 19 2026 02:53:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-19
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å…¨æ ˆå·¥ç¨‹å¸ˆï¼šæ˜¯æ•‘æ˜Ÿè¿˜æ˜¯æ€æ‰‹ï¼Ÿ</h2>
<p>æœ€è¿‘çœ‹åˆ°è¿™ä¸€ç¯‡æ–‡ç« ï¼Œ<a href="https://juejin.cn/post/7573172586839834676" target="_blank" title="https://juejin.cn/post/7573172586839834676">æˆ‘ä¸ºä»€ä¹ˆè¯´å…¨æ ˆæ­£åœ¨æ€æ­»å‰ç«¯ï¼Ÿ</a>è¯´"å…¨æ ˆæ­£åœ¨æ€æ­»å‰ç«¯"</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f1568330dc14e14962f344cc6604060~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57OW5aKo5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396008&amp;x-signature=kAgC08vwTWsI0%2FxuSWx59iuD2Cc%3D" alt="image.png" width="50%" loading="lazy"/>
è¯„è®ºä¹Ÿæ˜¯çƒ­ç«æœå¤©ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32fce1e69dcd47f2ba3be85d80a1f5a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57OW5aKo5aSV:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769396008&amp;x-signature=ct5e6M8r8mhAioTszIT4XZo4gm8%3D" alt="image.png" width="70%" loading="lazy"/>
è¯»å®Œåå¾ˆæœ‰æ„Ÿè§¦ã€‚ä½œè€…è¯´ç°åœ¨æ‹›è˜è½¯ä»¶ä¸Šåä¸ªå‰ç«¯å²—ä½ï¼Œå…«ä¸ªè¦æ±‚ä¼šNode.jsã€Serverlessè¿™äº›åç«¯æŠ€èƒ½ã€‚å¾ˆå¤šå‰ç«¯å·¥ç¨‹å¸ˆè¢«è¿«å»å­¦æ•°æ®åº“ã€å­¦è¿ç»´ï¼Œç»“æœåè€Œå¿½ç•¥äº†è‡ªå·±æœ€åº”è¯¥ä¸“æ³¨çš„ç”¨æˆ·ä½“éªŒã€‚è¿™ä¸ªè§‚ç‚¹ï¼Œæˆ‘ä¸€å¼€å§‹è§‰å¾—è¯´å¾—çœŸå¯¹ã€‚
<h3 data-id="heading-1">å…¨æ ˆçƒ­æ½®ä¸‹çš„é—®é¢˜</h3>
<p>ç¡®å®ï¼Œç°åœ¨å¾ˆå¤šå…¬å¸æ‰“ç€"å…¨æ ˆ"çš„æ——å·ï¼Œå…¶å®å°±æ˜¯æƒ³è®©ä¸€ä¸ªäººå¹²ä¸¤ä¸ªäººçš„æ´»ï¼Œå´åªç»™ä¸€ä¸ªäººåŠçš„å·¥èµ„ã€‚</p>
<p>æˆ‘æœ‰ä¸ªæœ‹å‹å°å¼ ï¼Œåšäº†äº”å¹´å‰ç«¯ï¼ŒæŠ€æœ¯å¾ˆæ£’ï¼Œè¿å¤æ‚çš„åŠ¨ç”»æ•ˆæœéƒ½èƒ½æ‰‹å†™å®ç°ã€‚å»å¹´ä»–è·³æ§½åˆ°ä¸€å®¶åˆ›ä¸šå…¬å¸ï¼Œå…¥èŒåæ‰å‘ç°ï¼Œè€æ¿æœŸæœ›ä»–ä¸ä½†è¦åšå‰ç«¯ç•Œé¢ï¼Œè¿˜è¦è´Ÿè´£åå°æ¥å£ã€æ•°æ®åº“è®¾è®¡ç”šè‡³æœåŠ¡å™¨éƒ¨ç½²ã€‚</p>
<p>åŠå¹´åï¼Œæˆ‘å†è§åˆ°ä»–æ—¶ï¼Œä»–ç–²æƒ«åœ°è¯´ï¼š"æˆ‘ç°åœ¨å¤©å¤©åœ¨æŸ¥SQLæ…¢æŸ¥è¯¢ï¼Œè°ƒDockeré…ç½®ï¼Œä½†æœ€è®©æˆ‘éš¾å—çš„æ˜¯ï¼Œæˆ‘å†™çš„é¡µé¢ä½“éªŒè¶Šæ¥è¶Šå·®ã€‚ä»¥å‰æˆ‘ä¼šä¸ºæŒ‰é’®ç‚¹å‡»åé¦ˆä¼˜åŒ–åŠå¤©ï¼Œç°åœ¨åªæ±‚åŠŸèƒ½èƒ½ç”¨å°±è¡Œã€‚ä¸Šå‘¨ç”¨æˆ·åé¦ˆè¯´é¡µé¢åŠ è½½å¤ªæ…¢ï¼Œæˆ‘æ˜çŸ¥é“é—®é¢˜åœ¨å“ªï¼Œä½†æ²¡æ—¶é—´ä¼˜åŒ–ï¼Œå› ä¸ºè€æ¿ç€æ€¥è¦æ–°åŠŸèƒ½ã€‚"</p>
<p>è¿™ä¸æ˜¯ä¸ªä¾‹ã€‚2017å¹´ï¼ŒFacebookå°±åƒè¿‡è¿™ä¸ªäºã€‚ä»–ä»¬å½“å¹´è¿½æ±‚å¿«é€Ÿè¿­ä»£ï¼Œè®©å‰ç«¯å·¥ç¨‹å¸ˆåŒæ—¶è´Ÿè´£åç«¯å¼€å‘ï¼Œç»“æœç§»åŠ¨ç½‘é¡µå˜å¾—åˆå¡åˆæ…¢ï¼Œç”¨æˆ·æŠ•è¯‰æ¿€å¢ã€‚åæ¥æ‰å…‹ä¼¯æ ¼ä¸å¾—ä¸ä¸“é—¨æˆç«‹æ€§èƒ½ä¼˜åŒ–å›¢é˜Ÿï¼ŒèŠ±å¤§ä»·é’±é‡æ–°æŒ½å›ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-2">ä½†å…¨æ ˆçœŸçš„è¿™ä¹ˆå¯æ€•å—ï¼Ÿ</h3>
<p>å†·é™æƒ³æƒ³ï¼ŒæŠŠæ‰€æœ‰é—®é¢˜éƒ½æ€ªåœ¨"å…¨æ ˆ"ä¸Šï¼Œå¥½åƒä¹Ÿä¸å¤ªå…¬å¹³ã€‚</p>
<p>æˆ‘å¦ä¸€ä¸ªæœ‹å‹å°æï¼Œåœ¨ä¸€å®¶å°å…¬å¸åš"å…¨æ ˆ"ï¼Œä½†ä»–çš„æƒ…å†µå®Œå…¨ä¸åŒã€‚ä»–è¯´ï¼š"å› ä¸ºæˆ‘æ—¢æ‡‚å‰ç«¯åˆæ‡‚åç«¯ï¼Œæ‰€ä»¥æˆ‘çŸ¥é“æ€ä¹ˆè®¾è®¡APIæ‰èƒ½è®©é¡µé¢åŠ è½½æ›´å¿«ï¼›çŸ¥é“æ•°æ®åº“æ€ä¹ˆæŸ¥æ‰ä¸ä¼šæ‹–æ…¢ç”¨æˆ·äº¤äº’ã€‚ä¸Šå‘¨æˆ‘ä¼˜åŒ–äº†ä¸€ä¸ªå•†å“åˆ—è¡¨é¡µï¼Œä¸å…‰æ”¹äº†å‰ç«¯ä»£ç ï¼Œè¿˜è°ƒæ•´äº†åç«¯ç¼“å­˜ç­–ç•¥ï¼Œæœ€ç»ˆé¡µé¢æ‰“å¼€é€Ÿåº¦å¿«äº†ä¸‰å€ã€‚"</p>
<p>å…¶å®å¾ˆå¤šæˆåŠŸçš„äº§å“ï¼ŒèƒŒåéƒ½æœ‰è¿™ç§æ—¢æ‡‚å‰ç«¯åˆæ‡‚åç«¯çš„äººã€‚æ¯”å¦‚Figmaï¼Œè¿™ä¸ªåœ¨çº¿è®¾è®¡å·¥å…·åˆšæ¨å‡ºæ—¶ï¼Œå¾ˆå¤šå¤§å…¬å¸éƒ½ä¸çœ‹å¥½ï¼Œè§‰å¾—ç½‘é¡µåšè®¾è®¡å·¥å…·è‚¯å®šå¡é¡¿ã€‚ä½†Figmaçš„åˆ›å§‹å›¢é˜Ÿå¾ˆå°ï¼Œæ¯ä¸ªäººéƒ½æ—¢ä¼šå‰ç«¯åˆä¼šåç«¯ï¼Œä»–ä»¬æŠŠç²¾åŠ›é›†ä¸­åœ¨æœ€å½±å“ä½“éªŒçš„åœ°æ–¹â€”â€”å®æ—¶åä½œåŠŸèƒ½ï¼Œæœ€ç»ˆåšå‡ºäº†è¿Adobeéƒ½ç´§å¼ çš„äº§å“ã€‚</p>
<h3 data-id="heading-3">çœŸæ­£çš„é—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Ÿ</h3>
<p>ä»”ç»†æƒ³æƒ³ï¼Œé—®é¢˜ä¸åœ¨äºè¦ä¸è¦å­¦å…¨æ ˆï¼Œè€Œåœ¨äºæˆ‘ä»¬å­¦å…¨æ ˆçš„ç›®çš„å’Œæ–¹æ³•ã€‚</p>
<p>æˆ‘è®¤è¯†ä¸€ä½é˜¿é‡ŒP8çº§åˆ«çš„å·¥ç¨‹å¸ˆï¼Œä»–è¯´ä»–å›¢é˜Ÿé‡Œæœ‰ä¸¤ç§å…¨æ ˆå·¥ç¨‹å¸ˆï¼šä¸€ç§æ˜¯"ä»€ä¹ˆéƒ½ä¼šä¸€ç‚¹ï¼Œä½†ä»€ä¹ˆéƒ½ä¸ç²¾"çš„ï¼Œå†™å‰ç«¯ä»£ç åƒåç«¯ï¼Œå†™åç«¯é€»è¾‘åˆåƒå‰ç«¯ï¼›å¦ä¸€ç§æ˜¯"å‰ç«¯ç‰¹åˆ«å¼ºï¼Œå…¶ä»–é¢†åŸŸå¤Ÿç”¨å°±è¡Œ"çš„ï¼Œè¿™ç§äººæ‰æ˜¯çœŸæ­£æœ‰ä»·å€¼çš„ã€‚</p>
<p>åè€…çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥ä¸“æ³¨å‰ç«¯ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦äº†è§£åç«¯ã€‚æ¯”å¦‚ä»–ä»¬çŸ¥é“æ€ä¹ˆè®¾è®¡APIæ‰èƒ½å‡å°‘é¡µé¢ç™½å±æ—¶é—´ï¼Œä½†ä¸ä¼šèŠ±å¤§é‡æ—¶é—´ç ”ç©¶æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–â€”â€”é‚£æ˜¯DBAçš„å·¥ä½œã€‚</p>
<h3 data-id="heading-4">æ‰¾åˆ°å¹³è¡¡ç‚¹</h3>
<p>æœ€è¿‘æˆ‘çœ‹åˆ°ä¸€ä¸ªæŒºå¥½çš„ä¾‹å­ã€‚æŸå®¶é“¶è¡Œå¼€å‘æ–°Appæ—¶ï¼Œç”¨äº†ä¸ªå°å·§çš„æŠ€æœ¯æ–¹æ¡ˆï¼šæŠŠå¤§åº”ç”¨æ‹†æˆå¾ˆå¤šå°æ¨¡å—ï¼Œåƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆã€‚å‰ç«¯å·¥ç¨‹å¸ˆä¸“æ³¨åšå¥½æ¯ä¸ªå°æ¨¡å—çš„ç”¨æˆ·ä½“éªŒï¼Œåå°å·¥ç¨‹å¸ˆè´Ÿè´£æ•°æ®å’Œæ¥å£ã€‚ä¸¤è€…é€šè¿‡æ ‡å‡†æ ¼å¼å¯¹æ¥ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
<p>ç»“æœæ˜¯ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆä¸ç”¨å†å­¦å¤æ‚çš„æœåŠ¡å™¨é…ç½®ï¼Œèƒ½ä¸“æ³¨äºè®©æŒ‰é’®ç‚¹å‡»æ›´é¡ºæ»‘ã€é¡µé¢åŠ è½½æ›´å¿«ï¼›åç«¯å·¥ç¨‹å¸ˆä¹Ÿä¸ç”¨æ“å¿ƒç•Œé¢ç»†èŠ‚ï¼Œä¸“æ³¨æå‡ç³»ç»Ÿç¨³å®šæ€§ã€‚æ–°Appä¸Šçº¿åï¼Œç”¨æˆ·åæ§½å°‘äº†ï¼Œå¼€å‘æ•ˆç‡åè€Œæé«˜äº†ã€‚</p>
<p>è¿™è®©æˆ‘æƒ³èµ·ä¸€ä¸ªè€å·¥ç¨‹å¸ˆè·Ÿæˆ‘è¯´çš„è¯ï¼š"å¥½æœ¨åŒ ä¸ä¸€å®šéå¾—ä¼šç§æ ‘ã€ä¼šé€ é”¯å­ã€‚ä»–åªéœ€è¦çŸ¥é“ä»€ä¹ˆæœ¨æé€‚åˆåšä»€ä¹ˆå®¶å…·ï¼Œé”¯å­é’äº†çŸ¥é“æ‰¾è°ç£¨å°±è¡Œã€‚"</p>
<h3 data-id="heading-5">æœªæ¥åˆ°åº•éœ€è¦ä»€ä¹ˆæ ·çš„å·¥ç¨‹å¸ˆï¼Ÿ</h3>
<p>è¯´å®è¯ï¼Œæˆ‘ä¸è®¤ä¸ºæœªæ¥ä¼šè¦æ±‚æ‰€æœ‰å·¥ç¨‹å¸ˆéƒ½æˆä¸º"å…¨æ ˆ"ï¼Œä½†ç¡®å®éœ€è¦æ›´å¤š"æ‡‚åä½œ"çš„äººã€‚</p>
<p>å¦‚æœä½ æ˜¯å‰ç«¯ï¼Œæ²¡å¿…è¦æˆä¸ºæ•°æ®åº“ä¸“å®¶ï¼Œä½†åº”è¯¥çŸ¥é“åŸºæœ¬çš„æ•°æ®æŸ¥è¯¢åŸç†ï¼Œè¿™æ ·å’Œåç«¯æ²Ÿé€šæ—¶æ‰ä¸ä¼šé¸¡åŒé¸­è®²ï¼›</p>
<p>å¦‚æœä½ æ˜¯åç«¯ï¼Œä¸éœ€è¦ç²¾é€šCSSåŠ¨ç”»ï¼Œä½†åº”è¯¥ç†è§£å‰ç«¯åŠ è½½æ•°æ®çš„åŸºæœ¬æµç¨‹ï¼Œè¿™æ ·è®¾è®¡APIæ—¶æ‰ä¼šè€ƒè™‘å‰ç«¯çš„å®é™…éœ€æ±‚ã€‚</p>
<p>æˆ‘ç°åœ¨çš„åšæ³•æ˜¯ï¼šä¿æŒå‰ç«¯ä¸“ä¸šèƒ½åŠ›çš„æ·±åº¦ï¼ŒåŒæ—¶æœ‰é€‰æ‹©åœ°å­¦ä¹ å…¶ä»–é¢†åŸŸçŸ¥è¯†ã€‚æ¯”å¦‚æˆ‘çŸ¥é“Dockeræ˜¯ä»€ä¹ˆã€èƒ½å¹²ä»€ä¹ˆï¼Œä½†ä¸ä¼šæ·±å…¥ç ”ç©¶å®ƒçš„æºç ï¼›æˆ‘äº†è§£Node.jsåŸç†ï¼Œä½†ä¸ä¼šå»äº‰æŠ¢åç«¯åŒäº‹çš„å·¥ä½œã€‚</p>
<h3 data-id="heading-6">æœ€åæƒ³è¯´</h3>
<p>æŠ€æœ¯è¡Œä¸šæ€»å–œæ¬¢åˆ¶é€ å„ç§æ¦‚å¿µå’Œæ½®æµï¼Œ"å…¨æ ˆ"åªæ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚é¢å¯¹è¿™äº›æ½®æµï¼Œæˆ‘ä»¬ä¸å¿…ç›²ç›®è¿½éšï¼Œä¹Ÿä¸å¿…å®Œå…¨æŠµåˆ¶ã€‚</p>
<p>ä¸€ä¸ªå·¥ç¨‹å¸ˆæœ€æœ‰ä»·å€¼çš„ä¸æ˜¯ä»–ä¼šå¤šå°‘æŠ€æœ¯æ ˆï¼Œè€Œæ˜¯ä»–èƒ½å¦è§£å†³çœŸå®é—®é¢˜ã€‚ç”¨æˆ·ä¸ä¼šå…³å¿ƒä½ çš„æŒ‰é’®æ˜¯ç”¨Reactè¿˜æ˜¯Vueå†™çš„ï¼Œä»–ä»¬åªå…³å¿ƒç‚¹å‡»åæœ‰æ²¡æœ‰ååº”ï¼Œé¡µé¢åŠ è½½å¿«ä¸å¿«ã€‚</p>
<p>çœŸæ­£çš„ä¸“ä¸šï¼Œæ˜¯åœ¨è¯¥ä¸“æ³¨æ—¶ä¸“æ³¨ï¼Œåœ¨è¯¥åä½œæ—¶åä½œã€‚ä¸å…¶çº ç»“è¦ä¸è¦åšå…¨æ ˆï¼Œä¸å¦‚é—®é—®è‡ªå·±ï¼šä»Šå¤©æˆ‘åšçš„å·¥ä½œï¼ŒçœŸçš„è®©äº§å“å˜å¾—æ›´å¥½äº†å—ï¼Ÿç”¨æˆ·ä½¿ç”¨æ—¶ï¼Œä¼šä¸ä¼šæ„Ÿåˆ°ä¸€ç‚¹ç‚¹æ„‰æ‚¦ï¼Ÿ</p>
<p>å½“ä½ èƒ½å›ç­”"æ˜¯"çš„æ—¶å€™ï¼Œæ— è®ºä½ è‡ªç§°å‰ç«¯ã€åç«¯è¿˜æ˜¯å…¨æ ˆï¼Œéƒ½å·²ç»ä¸é‡è¦äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>